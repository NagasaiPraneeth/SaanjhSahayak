var d_=Object.defineProperty;var wE=ht=>{throw TypeError(ht)};var h_=(ht,$,_e)=>$ in ht?d_(ht,$,{enumerable:!0,configurable:!0,writable:!0,value:_e}):ht[$]=_e;var _r=(ht,$,_e)=>h_(ht,typeof $!="symbol"?$+"":$,_e),Sx=(ht,$,_e)=>$.has(ht)||wE("Cannot "+_e);var wt=(ht,$,_e)=>(Sx(ht,$,"read from private field"),_e?_e.call(ht):$.get(ht)),Gt=(ht,$,_e)=>$.has(ht)?wE("Cannot add the same private member more than once"):$ instanceof WeakSet?$.add(ht):$.set(ht,_e),Vt=(ht,$,_e,vt)=>(Sx(ht,$,"write to private field"),vt?vt.call(ht,_e):$.set(ht,_e),_e),Ut=(ht,$,_e)=>(Sx(ht,$,"access private method"),_e);var eo=(ht,$,_e,vt)=>({set _(xt){Vt(ht,$,xt,_e)},get _(){return wt(ht,$,vt)}});function _mergeNamespaces(ht,$){for(var _e=0;_e<$.length;_e++){const vt=$[_e];if(typeof vt!="string"&&!Array.isArray(vt)){for(const xt in vt)if(xt!=="default"&&!(xt in ht)){const bt=Object.getOwnPropertyDescriptor(vt,xt);bt&&Object.defineProperty(ht,xt,bt.get?bt:{enumerable:!0,get:()=>vt[xt]})}}}return Object.freeze(Object.defineProperty(ht,Symbol.toStringTag,{value:"Module"}))}(function(){const $=document.createElement("link").relList;if($&&$.supports&&$.supports("modulepreload"))return;for(const xt of document.querySelectorAll('link[rel="modulepreload"]'))vt(xt);new MutationObserver(xt=>{for(const bt of xt)if(bt.type==="childList")for(const Et of bt.addedNodes)Et.tagName==="LINK"&&Et.rel==="modulepreload"&&vt(Et)}).observe(document,{childList:!0,subtree:!0});function _e(xt){const bt={};return xt.integrity&&(bt.integrity=xt.integrity),xt.referrerPolicy&&(bt.referrerPolicy=xt.referrerPolicy),xt.crossOrigin==="use-credentials"?bt.credentials="include":xt.crossOrigin==="anonymous"?bt.credentials="omit":bt.credentials="same-origin",bt}function vt(xt){if(xt.ep)return;xt.ep=!0;const bt=_e(xt);fetch(xt.href,bt)}})();function getDefaultExportFromCjs(ht){return ht&&ht.__esModule&&Object.prototype.hasOwnProperty.call(ht,"default")?ht.default:ht}function getAugmentedNamespace(ht){if(ht.__esModule)return ht;var $=ht.default;if(typeof $=="function"){var _e=function vt(){return this instanceof vt?Reflect.construct($,arguments,this.constructor):$.apply(this,arguments)};_e.prototype=$.prototype}else _e={};return Object.defineProperty(_e,"__esModule",{value:!0}),Object.keys(ht).forEach(function(vt){var xt=Object.getOwnPropertyDescriptor(ht,vt);Object.defineProperty(_e,vt,xt.get?xt:{enumerable:!0,get:function(){return ht[vt]}})}),_e}var jsxRuntime={exports:{}},reactJsxRuntime_production_min={},react={exports:{}},react_production_min={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var l$3=Symbol.for("react.element"),n$5=Symbol.for("react.portal"),p$6=Symbol.for("react.fragment"),q$2=Symbol.for("react.strict_mode"),r$3=Symbol.for("react.profiler"),t$5=Symbol.for("react.provider"),u$8=Symbol.for("react.context"),v$2=Symbol.for("react.forward_ref"),w$2=Symbol.for("react.suspense"),x$1=Symbol.for("react.memo"),y$5=Symbol.for("react.lazy"),z$2=Symbol.iterator;function A$4(ht){return ht===null||typeof ht!="object"?null:(ht=z$2&&ht[z$2]||ht["@@iterator"],typeof ht=="function"?ht:null)}var B$2={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},C$2=Object.assign,D$5={};function E$2(ht,$,_e){this.props=ht,this.context=$,this.refs=D$5,this.updater=_e||B$2}E$2.prototype.isReactComponent={};E$2.prototype.setState=function(ht,$){if(typeof ht!="object"&&typeof ht!="function"&&ht!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,ht,$,"setState")};E$2.prototype.forceUpdate=function(ht){this.updater.enqueueForceUpdate(this,ht,"forceUpdate")};function F$4(){}F$4.prototype=E$2.prototype;function G$3(ht,$,_e){this.props=ht,this.context=$,this.refs=D$5,this.updater=_e||B$2}var H$3=G$3.prototype=new F$4;H$3.constructor=G$3;C$2(H$3,E$2.prototype);H$3.isPureReactComponent=!0;var I$5=Array.isArray,J$2=Object.prototype.hasOwnProperty,K$1={current:null},L$2={key:!0,ref:!0,__self:!0,__source:!0};function M$4(ht,$,_e){var vt,xt={},bt=null,Et=null;if($!=null)for(vt in $.ref!==void 0&&(Et=$.ref),$.key!==void 0&&(bt=""+$.key),$)J$2.call($,vt)&&!L$2.hasOwnProperty(vt)&&(xt[vt]=$[vt]);var At=arguments.length-2;if(At===1)xt.children=_e;else if(1<At){for(var _t=Array(At),Ct=0;Ct<At;Ct++)_t[Ct]=arguments[Ct+2];xt.children=_t}if(ht&&ht.defaultProps)for(vt in At=ht.defaultProps,At)xt[vt]===void 0&&(xt[vt]=At[vt]);return{$$typeof:l$3,type:ht,key:bt,ref:Et,props:xt,_owner:K$1.current}}function N$4(ht,$){return{$$typeof:l$3,type:ht.type,key:$,ref:ht.ref,props:ht.props,_owner:ht._owner}}function O$3(ht){return typeof ht=="object"&&ht!==null&&ht.$$typeof===l$3}function escape$1(ht){var $={"=":"=0",":":"=2"};return"$"+ht.replace(/[=:]/g,function(_e){return $[_e]})}var P$4=/\/+/g;function Q$1(ht,$){return typeof ht=="object"&&ht!==null&&ht.key!=null?escape$1(""+ht.key):$.toString(36)}function R$2(ht,$,_e,vt,xt){var bt=typeof ht;(bt==="undefined"||bt==="boolean")&&(ht=null);var Et=!1;if(ht===null)Et=!0;else switch(bt){case"string":case"number":Et=!0;break;case"object":switch(ht.$$typeof){case l$3:case n$5:Et=!0}}if(Et)return Et=ht,xt=xt(Et),ht=vt===""?"."+Q$1(Et,0):vt,I$5(xt)?(_e="",ht!=null&&(_e=ht.replace(P$4,"$&/")+"/"),R$2(xt,$,_e,"",function(Ct){return Ct})):xt!=null&&(O$3(xt)&&(xt=N$4(xt,_e+(!xt.key||Et&&Et.key===xt.key?"":(""+xt.key).replace(P$4,"$&/")+"/")+ht)),$.push(xt)),1;if(Et=0,vt=vt===""?".":vt+":",I$5(ht))for(var At=0;At<ht.length;At++){bt=ht[At];var _t=vt+Q$1(bt,At);Et+=R$2(bt,$,_e,_t,xt)}else if(_t=A$4(ht),typeof _t=="function")for(ht=_t.call(ht),At=0;!(bt=ht.next()).done;)bt=bt.value,_t=vt+Q$1(bt,At++),Et+=R$2(bt,$,_e,_t,xt);else if(bt==="object")throw $=String(ht),Error("Objects are not valid as a React child (found: "+($==="[object Object]"?"object with keys {"+Object.keys(ht).join(", ")+"}":$)+"). If you meant to render a collection of children, use an array instead.");return Et}function S$5(ht,$,_e){if(ht==null)return ht;var vt=[],xt=0;return R$2(ht,vt,"","",function(bt){return $.call(_e,bt,xt++)}),vt}function T$4(ht){if(ht._status===-1){var $=ht._result;$=$(),$.then(function(_e){(ht._status===0||ht._status===-1)&&(ht._status=1,ht._result=_e)},function(_e){(ht._status===0||ht._status===-1)&&(ht._status=2,ht._result=_e)}),ht._status===-1&&(ht._status=0,ht._result=$)}if(ht._status===1)return ht._result.default;throw ht._result}var U$3={current:null},V$2={transition:null},W$3={ReactCurrentDispatcher:U$3,ReactCurrentBatchConfig:V$2,ReactCurrentOwner:K$1};function X$1(){throw Error("act(...) is not supported in production builds of React.")}react_production_min.Children={map:S$5,forEach:function(ht,$,_e){S$5(ht,function(){$.apply(this,arguments)},_e)},count:function(ht){var $=0;return S$5(ht,function(){$++}),$},toArray:function(ht){return S$5(ht,function($){return $})||[]},only:function(ht){if(!O$3(ht))throw Error("React.Children.only expected to receive a single React element child.");return ht}};react_production_min.Component=E$2;react_production_min.Fragment=p$6;react_production_min.Profiler=r$3;react_production_min.PureComponent=G$3;react_production_min.StrictMode=q$2;react_production_min.Suspense=w$2;react_production_min.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=W$3;react_production_min.act=X$1;react_production_min.cloneElement=function(ht,$,_e){if(ht==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+ht+".");var vt=C$2({},ht.props),xt=ht.key,bt=ht.ref,Et=ht._owner;if($!=null){if($.ref!==void 0&&(bt=$.ref,Et=K$1.current),$.key!==void 0&&(xt=""+$.key),ht.type&&ht.type.defaultProps)var At=ht.type.defaultProps;for(_t in $)J$2.call($,_t)&&!L$2.hasOwnProperty(_t)&&(vt[_t]=$[_t]===void 0&&At!==void 0?At[_t]:$[_t])}var _t=arguments.length-2;if(_t===1)vt.children=_e;else if(1<_t){At=Array(_t);for(var Ct=0;Ct<_t;Ct++)At[Ct]=arguments[Ct+2];vt.children=At}return{$$typeof:l$3,type:ht.type,key:xt,ref:bt,props:vt,_owner:Et}};react_production_min.createContext=function(ht){return ht={$$typeof:u$8,_currentValue:ht,_currentValue2:ht,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},ht.Provider={$$typeof:t$5,_context:ht},ht.Consumer=ht};react_production_min.createElement=M$4;react_production_min.createFactory=function(ht){var $=M$4.bind(null,ht);return $.type=ht,$};react_production_min.createRef=function(){return{current:null}};react_production_min.forwardRef=function(ht){return{$$typeof:v$2,render:ht}};react_production_min.isValidElement=O$3;react_production_min.lazy=function(ht){return{$$typeof:y$5,_payload:{_status:-1,_result:ht},_init:T$4}};react_production_min.memo=function(ht,$){return{$$typeof:x$1,type:ht,compare:$===void 0?null:$}};react_production_min.startTransition=function(ht){var $=V$2.transition;V$2.transition={};try{ht()}finally{V$2.transition=$}};react_production_min.unstable_act=X$1;react_production_min.useCallback=function(ht,$){return U$3.current.useCallback(ht,$)};react_production_min.useContext=function(ht){return U$3.current.useContext(ht)};react_production_min.useDebugValue=function(){};react_production_min.useDeferredValue=function(ht){return U$3.current.useDeferredValue(ht)};react_production_min.useEffect=function(ht,$){return U$3.current.useEffect(ht,$)};react_production_min.useId=function(){return U$3.current.useId()};react_production_min.useImperativeHandle=function(ht,$,_e){return U$3.current.useImperativeHandle(ht,$,_e)};react_production_min.useInsertionEffect=function(ht,$){return U$3.current.useInsertionEffect(ht,$)};react_production_min.useLayoutEffect=function(ht,$){return U$3.current.useLayoutEffect(ht,$)};react_production_min.useMemo=function(ht,$){return U$3.current.useMemo(ht,$)};react_production_min.useReducer=function(ht,$,_e){return U$3.current.useReducer(ht,$,_e)};react_production_min.useRef=function(ht){return U$3.current.useRef(ht)};react_production_min.useState=function(ht){return U$3.current.useState(ht)};react_production_min.useSyncExternalStore=function(ht,$,_e){return U$3.current.useSyncExternalStore(ht,$,_e)};react_production_min.useTransition=function(){return U$3.current.useTransition()};react_production_min.version="18.3.1";react.exports=react_production_min;var reactExports=react.exports;const React=getDefaultExportFromCjs(reactExports),t$4=_mergeNamespaces({__proto__:null,default:React},[reactExports]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var f$6=reactExports,k=Symbol.for("react.element"),l$2=Symbol.for("react.fragment"),m$5=Object.prototype.hasOwnProperty,n$4=f$6.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,p$5={key:!0,ref:!0,__self:!0,__source:!0};function q$1(ht,$,_e){var vt,xt={},bt=null,Et=null;_e!==void 0&&(bt=""+_e),$.key!==void 0&&(bt=""+$.key),$.ref!==void 0&&(Et=$.ref);for(vt in $)m$5.call($,vt)&&!p$5.hasOwnProperty(vt)&&(xt[vt]=$[vt]);if(ht&&ht.defaultProps)for(vt in $=ht.defaultProps,$)xt[vt]===void 0&&(xt[vt]=$[vt]);return{$$typeof:k,type:ht,key:bt,ref:Et,props:xt,_owner:n$4.current}}reactJsxRuntime_production_min.Fragment=l$2;reactJsxRuntime_production_min.jsx=q$1;reactJsxRuntime_production_min.jsxs=q$1;jsxRuntime.exports=reactJsxRuntime_production_min;var jsxRuntimeExports=jsxRuntime.exports,client={},reactDom={exports:{}},reactDom_production_min={},scheduler={exports:{}},scheduler_production_min={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(ht){function $(dn,tn){var gn=dn.length;dn.push(tn);e:for(;0<gn;){var Sn=gn-1>>>1,rn=dn[Sn];if(0<xt(rn,tn))dn[Sn]=tn,dn[gn]=rn,gn=Sn;else break e}}function _e(dn){return dn.length===0?null:dn[0]}function vt(dn){if(dn.length===0)return null;var tn=dn[0],gn=dn.pop();if(gn!==tn){dn[0]=gn;e:for(var Sn=0,rn=dn.length,qt=rn>>>1;Sn<qt;){var Yt=2*(Sn+1)-1,Jt=dn[Yt],hn=Yt+1,cn=dn[hn];if(0>xt(Jt,gn))hn<rn&&0>xt(cn,Jt)?(dn[Sn]=cn,dn[hn]=gn,Sn=hn):(dn[Sn]=Jt,dn[Yt]=gn,Sn=Yt);else if(hn<rn&&0>xt(cn,gn))dn[Sn]=cn,dn[hn]=gn,Sn=hn;else break e}}return tn}function xt(dn,tn){var gn=dn.sortIndex-tn.sortIndex;return gn!==0?gn:dn.id-tn.id}if(typeof performance=="object"&&typeof performance.now=="function"){var bt=performance;ht.unstable_now=function(){return bt.now()}}else{var Et=Date,At=Et.now();ht.unstable_now=function(){return Et.now()-At}}var _t=[],Ct=[],St=1,Rt=null,Pt=3,kt=!1,Mt=!1,Lt=!1,$t=typeof setTimeout=="function"?setTimeout:null,Ft=typeof clearTimeout=="function"?clearTimeout:null,Dt=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function Nt(dn){for(var tn=_e(Ct);tn!==null;){if(tn.callback===null)vt(Ct);else if(tn.startTime<=dn)vt(Ct),tn.sortIndex=tn.expirationTime,$(_t,tn);else break;tn=_e(Ct)}}function Ht(dn){if(Lt=!1,Nt(dn),!Mt)if(_e(_t)!==null)Mt=!0,vn(Ot);else{var tn=_e(Ct);tn!==null&&an(Ht,tn.startTime-dn)}}function Ot(dn,tn){Mt=!1,Lt&&(Lt=!1,Ft(zt),zt=-1),kt=!0;var gn=Pt;try{for(Nt(tn),Rt=_e(_t);Rt!==null&&(!(Rt.expirationTime>tn)||dn&&!Xt());){var Sn=Rt.callback;if(typeof Sn=="function"){Rt.callback=null,Pt=Rt.priorityLevel;var rn=Sn(Rt.expirationTime<=tn);tn=ht.unstable_now(),typeof rn=="function"?Rt.callback=rn:Rt===_e(_t)&&vt(_t),Nt(tn)}else vt(_t);Rt=_e(_t)}if(Rt!==null)var qt=!0;else{var Yt=_e(Ct);Yt!==null&&an(Ht,Yt.startTime-tn),qt=!1}return qt}finally{Rt=null,Pt=gn,kt=!1}}var Bt=!1,jt=null,zt=-1,Kt=5,nn=-1;function Xt(){return!(ht.unstable_now()-nn<Kt)}function en(){if(jt!==null){var dn=ht.unstable_now();nn=dn;var tn=!0;try{tn=jt(!0,dn)}finally{tn?on():(Bt=!1,jt=null)}}else Bt=!1}var on;if(typeof Dt=="function")on=function(){Dt(en)};else if(typeof MessageChannel<"u"){var An=new MessageChannel,un=An.port2;An.port1.onmessage=en,on=function(){un.postMessage(null)}}else on=function(){$t(en,0)};function vn(dn){jt=dn,Bt||(Bt=!0,on())}function an(dn,tn){zt=$t(function(){dn(ht.unstable_now())},tn)}ht.unstable_IdlePriority=5,ht.unstable_ImmediatePriority=1,ht.unstable_LowPriority=4,ht.unstable_NormalPriority=3,ht.unstable_Profiling=null,ht.unstable_UserBlockingPriority=2,ht.unstable_cancelCallback=function(dn){dn.callback=null},ht.unstable_continueExecution=function(){Mt||kt||(Mt=!0,vn(Ot))},ht.unstable_forceFrameRate=function(dn){0>dn||125<dn?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Kt=0<dn?Math.floor(1e3/dn):5},ht.unstable_getCurrentPriorityLevel=function(){return Pt},ht.unstable_getFirstCallbackNode=function(){return _e(_t)},ht.unstable_next=function(dn){switch(Pt){case 1:case 2:case 3:var tn=3;break;default:tn=Pt}var gn=Pt;Pt=tn;try{return dn()}finally{Pt=gn}},ht.unstable_pauseExecution=function(){},ht.unstable_requestPaint=function(){},ht.unstable_runWithPriority=function(dn,tn){switch(dn){case 1:case 2:case 3:case 4:case 5:break;default:dn=3}var gn=Pt;Pt=dn;try{return tn()}finally{Pt=gn}},ht.unstable_scheduleCallback=function(dn,tn,gn){var Sn=ht.unstable_now();switch(typeof gn=="object"&&gn!==null?(gn=gn.delay,gn=typeof gn=="number"&&0<gn?Sn+gn:Sn):gn=Sn,dn){case 1:var rn=-1;break;case 2:rn=250;break;case 5:rn=1073741823;break;case 4:rn=1e4;break;default:rn=5e3}return rn=gn+rn,dn={id:St++,callback:tn,priorityLevel:dn,startTime:gn,expirationTime:rn,sortIndex:-1},gn>Sn?(dn.sortIndex=gn,$(Ct,dn),_e(_t)===null&&dn===_e(Ct)&&(Lt?(Ft(zt),zt=-1):Lt=!0,an(Ht,gn-Sn))):(dn.sortIndex=rn,$(_t,dn),Mt||kt||(Mt=!0,vn(Ot))),dn},ht.unstable_shouldYield=Xt,ht.unstable_wrapCallback=function(dn){var tn=Pt;return function(){var gn=Pt;Pt=tn;try{return dn.apply(this,arguments)}finally{Pt=gn}}}})(scheduler_production_min);scheduler.exports=scheduler_production_min;var schedulerExports=scheduler.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var aa=reactExports,ca=schedulerExports;function p$4(ht){for(var $="https://reactjs.org/docs/error-decoder.html?invariant="+ht,_e=1;_e<arguments.length;_e++)$+="&args[]="+encodeURIComponent(arguments[_e]);return"Minified React error #"+ht+"; visit "+$+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var da=new Set,ea={};function fa(ht,$){ha(ht,$),ha(ht+"Capture",$)}function ha(ht,$){for(ea[ht]=$,ht=0;ht<$.length;ht++)da.add($[ht])}var ia=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ja=Object.prototype.hasOwnProperty,ka=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,la={},ma={};function oa(ht){return ja.call(ma,ht)?!0:ja.call(la,ht)?!1:ka.test(ht)?ma[ht]=!0:(la[ht]=!0,!1)}function pa(ht,$,_e,vt){if(_e!==null&&_e.type===0)return!1;switch(typeof $){case"function":case"symbol":return!0;case"boolean":return vt?!1:_e!==null?!_e.acceptsBooleans:(ht=ht.toLowerCase().slice(0,5),ht!=="data-"&&ht!=="aria-");default:return!1}}function qa(ht,$,_e,vt){if($===null||typeof $>"u"||pa(ht,$,_e,vt))return!0;if(vt)return!1;if(_e!==null)switch(_e.type){case 3:return!$;case 4:return $===!1;case 5:return isNaN($);case 6:return isNaN($)||1>$}return!1}function v$1(ht,$,_e,vt,xt,bt,Et){this.acceptsBooleans=$===2||$===3||$===4,this.attributeName=vt,this.attributeNamespace=xt,this.mustUseProperty=_e,this.propertyName=ht,this.type=$,this.sanitizeURL=bt,this.removeEmptyString=Et}var z$1={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(ht){z$1[ht]=new v$1(ht,0,!1,ht,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(ht){var $=ht[0];z$1[$]=new v$1($,1,!1,ht[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(ht){z$1[ht]=new v$1(ht,2,!1,ht.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(ht){z$1[ht]=new v$1(ht,2,!1,ht,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(ht){z$1[ht]=new v$1(ht,3,!1,ht.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(ht){z$1[ht]=new v$1(ht,3,!0,ht,null,!1,!1)});["capture","download"].forEach(function(ht){z$1[ht]=new v$1(ht,4,!1,ht,null,!1,!1)});["cols","rows","size","span"].forEach(function(ht){z$1[ht]=new v$1(ht,6,!1,ht,null,!1,!1)});["rowSpan","start"].forEach(function(ht){z$1[ht]=new v$1(ht,5,!1,ht.toLowerCase(),null,!1,!1)});var ra=/[\-:]([a-z])/g;function sa(ht){return ht[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(ht){var $=ht.replace(ra,sa);z$1[$]=new v$1($,1,!1,ht,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(ht){var $=ht.replace(ra,sa);z$1[$]=new v$1($,1,!1,ht,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(ht){var $=ht.replace(ra,sa);z$1[$]=new v$1($,1,!1,ht,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(ht){z$1[ht]=new v$1(ht,1,!1,ht.toLowerCase(),null,!1,!1)});z$1.xlinkHref=new v$1("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(ht){z$1[ht]=new v$1(ht,1,!1,ht.toLowerCase(),null,!0,!0)});function ta(ht,$,_e,vt){var xt=z$1.hasOwnProperty($)?z$1[$]:null;(xt!==null?xt.type!==0:vt||!(2<$.length)||$[0]!=="o"&&$[0]!=="O"||$[1]!=="n"&&$[1]!=="N")&&(qa($,_e,xt,vt)&&(_e=null),vt||xt===null?oa($)&&(_e===null?ht.removeAttribute($):ht.setAttribute($,""+_e)):xt.mustUseProperty?ht[xt.propertyName]=_e===null?xt.type===3?!1:"":_e:($=xt.attributeName,vt=xt.attributeNamespace,_e===null?ht.removeAttribute($):(xt=xt.type,_e=xt===3||xt===4&&_e===!0?"":""+_e,vt?ht.setAttributeNS(vt,$,_e):ht.setAttribute($,_e))))}var ua=aa.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,va=Symbol.for("react.element"),wa=Symbol.for("react.portal"),ya=Symbol.for("react.fragment"),za=Symbol.for("react.strict_mode"),Aa=Symbol.for("react.profiler"),Ba=Symbol.for("react.provider"),Ca=Symbol.for("react.context"),Da=Symbol.for("react.forward_ref"),Ea=Symbol.for("react.suspense"),Fa=Symbol.for("react.suspense_list"),Ga=Symbol.for("react.memo"),Ha=Symbol.for("react.lazy"),Ia=Symbol.for("react.offscreen"),Ja=Symbol.iterator;function Ka(ht){return ht===null||typeof ht!="object"?null:(ht=Ja&&ht[Ja]||ht["@@iterator"],typeof ht=="function"?ht:null)}var A$3=Object.assign,La;function Ma(ht){if(La===void 0)try{throw Error()}catch(_e){var $=_e.stack.trim().match(/\n( *(at )?)/);La=$&&$[1]||""}return`
`+La+ht}var Na=!1;function Oa(ht,$){if(!ht||Na)return"";Na=!0;var _e=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if($)if($=function(){throw Error()},Object.defineProperty($.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct($,[])}catch(Ct){var vt=Ct}Reflect.construct(ht,[],$)}else{try{$.call()}catch(Ct){vt=Ct}ht.call($.prototype)}else{try{throw Error()}catch(Ct){vt=Ct}ht()}}catch(Ct){if(Ct&&vt&&typeof Ct.stack=="string"){for(var xt=Ct.stack.split(`
`),bt=vt.stack.split(`
`),Et=xt.length-1,At=bt.length-1;1<=Et&&0<=At&&xt[Et]!==bt[At];)At--;for(;1<=Et&&0<=At;Et--,At--)if(xt[Et]!==bt[At]){if(Et!==1||At!==1)do if(Et--,At--,0>At||xt[Et]!==bt[At]){var _t=`
`+xt[Et].replace(" at new "," at ");return ht.displayName&&_t.includes("<anonymous>")&&(_t=_t.replace("<anonymous>",ht.displayName)),_t}while(1<=Et&&0<=At);break}}}finally{Na=!1,Error.prepareStackTrace=_e}return(ht=ht?ht.displayName||ht.name:"")?Ma(ht):""}function Pa(ht){switch(ht.tag){case 5:return Ma(ht.type);case 16:return Ma("Lazy");case 13:return Ma("Suspense");case 19:return Ma("SuspenseList");case 0:case 2:case 15:return ht=Oa(ht.type,!1),ht;case 11:return ht=Oa(ht.type.render,!1),ht;case 1:return ht=Oa(ht.type,!0),ht;default:return""}}function Qa(ht){if(ht==null)return null;if(typeof ht=="function")return ht.displayName||ht.name||null;if(typeof ht=="string")return ht;switch(ht){case ya:return"Fragment";case wa:return"Portal";case Aa:return"Profiler";case za:return"StrictMode";case Ea:return"Suspense";case Fa:return"SuspenseList"}if(typeof ht=="object")switch(ht.$$typeof){case Ca:return(ht.displayName||"Context")+".Consumer";case Ba:return(ht._context.displayName||"Context")+".Provider";case Da:var $=ht.render;return ht=ht.displayName,ht||(ht=$.displayName||$.name||"",ht=ht!==""?"ForwardRef("+ht+")":"ForwardRef"),ht;case Ga:return $=ht.displayName||null,$!==null?$:Qa(ht.type)||"Memo";case Ha:$=ht._payload,ht=ht._init;try{return Qa(ht($))}catch{}}return null}function Ra(ht){var $=ht.type;switch(ht.tag){case 24:return"Cache";case 9:return($.displayName||"Context")+".Consumer";case 10:return($._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return ht=$.render,ht=ht.displayName||ht.name||"",$.displayName||(ht!==""?"ForwardRef("+ht+")":"ForwardRef");case 7:return"Fragment";case 5:return $;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Qa($);case 8:return $===za?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof $=="function")return $.displayName||$.name||null;if(typeof $=="string")return $}return null}function Sa(ht){switch(typeof ht){case"boolean":case"number":case"string":case"undefined":return ht;case"object":return ht;default:return""}}function Ta(ht){var $=ht.type;return(ht=ht.nodeName)&&ht.toLowerCase()==="input"&&($==="checkbox"||$==="radio")}function Ua(ht){var $=Ta(ht)?"checked":"value",_e=Object.getOwnPropertyDescriptor(ht.constructor.prototype,$),vt=""+ht[$];if(!ht.hasOwnProperty($)&&typeof _e<"u"&&typeof _e.get=="function"&&typeof _e.set=="function"){var xt=_e.get,bt=_e.set;return Object.defineProperty(ht,$,{configurable:!0,get:function(){return xt.call(this)},set:function(Et){vt=""+Et,bt.call(this,Et)}}),Object.defineProperty(ht,$,{enumerable:_e.enumerable}),{getValue:function(){return vt},setValue:function(Et){vt=""+Et},stopTracking:function(){ht._valueTracker=null,delete ht[$]}}}}function Va(ht){ht._valueTracker||(ht._valueTracker=Ua(ht))}function Wa(ht){if(!ht)return!1;var $=ht._valueTracker;if(!$)return!0;var _e=$.getValue(),vt="";return ht&&(vt=Ta(ht)?ht.checked?"true":"false":ht.value),ht=vt,ht!==_e?($.setValue(ht),!0):!1}function Xa(ht){if(ht=ht||(typeof document<"u"?document:void 0),typeof ht>"u")return null;try{return ht.activeElement||ht.body}catch{return ht.body}}function Ya(ht,$){var _e=$.checked;return A$3({},$,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:_e??ht._wrapperState.initialChecked})}function Za(ht,$){var _e=$.defaultValue==null?"":$.defaultValue,vt=$.checked!=null?$.checked:$.defaultChecked;_e=Sa($.value!=null?$.value:_e),ht._wrapperState={initialChecked:vt,initialValue:_e,controlled:$.type==="checkbox"||$.type==="radio"?$.checked!=null:$.value!=null}}function ab(ht,$){$=$.checked,$!=null&&ta(ht,"checked",$,!1)}function bb(ht,$){ab(ht,$);var _e=Sa($.value),vt=$.type;if(_e!=null)vt==="number"?(_e===0&&ht.value===""||ht.value!=_e)&&(ht.value=""+_e):ht.value!==""+_e&&(ht.value=""+_e);else if(vt==="submit"||vt==="reset"){ht.removeAttribute("value");return}$.hasOwnProperty("value")?cb(ht,$.type,_e):$.hasOwnProperty("defaultValue")&&cb(ht,$.type,Sa($.defaultValue)),$.checked==null&&$.defaultChecked!=null&&(ht.defaultChecked=!!$.defaultChecked)}function db(ht,$,_e){if($.hasOwnProperty("value")||$.hasOwnProperty("defaultValue")){var vt=$.type;if(!(vt!=="submit"&&vt!=="reset"||$.value!==void 0&&$.value!==null))return;$=""+ht._wrapperState.initialValue,_e||$===ht.value||(ht.value=$),ht.defaultValue=$}_e=ht.name,_e!==""&&(ht.name=""),ht.defaultChecked=!!ht._wrapperState.initialChecked,_e!==""&&(ht.name=_e)}function cb(ht,$,_e){($!=="number"||Xa(ht.ownerDocument)!==ht)&&(_e==null?ht.defaultValue=""+ht._wrapperState.initialValue:ht.defaultValue!==""+_e&&(ht.defaultValue=""+_e))}var eb=Array.isArray;function fb(ht,$,_e,vt){if(ht=ht.options,$){$={};for(var xt=0;xt<_e.length;xt++)$["$"+_e[xt]]=!0;for(_e=0;_e<ht.length;_e++)xt=$.hasOwnProperty("$"+ht[_e].value),ht[_e].selected!==xt&&(ht[_e].selected=xt),xt&&vt&&(ht[_e].defaultSelected=!0)}else{for(_e=""+Sa(_e),$=null,xt=0;xt<ht.length;xt++){if(ht[xt].value===_e){ht[xt].selected=!0,vt&&(ht[xt].defaultSelected=!0);return}$!==null||ht[xt].disabled||($=ht[xt])}$!==null&&($.selected=!0)}}function gb(ht,$){if($.dangerouslySetInnerHTML!=null)throw Error(p$4(91));return A$3({},$,{value:void 0,defaultValue:void 0,children:""+ht._wrapperState.initialValue})}function hb(ht,$){var _e=$.value;if(_e==null){if(_e=$.children,$=$.defaultValue,_e!=null){if($!=null)throw Error(p$4(92));if(eb(_e)){if(1<_e.length)throw Error(p$4(93));_e=_e[0]}$=_e}$==null&&($=""),_e=$}ht._wrapperState={initialValue:Sa(_e)}}function ib(ht,$){var _e=Sa($.value),vt=Sa($.defaultValue);_e!=null&&(_e=""+_e,_e!==ht.value&&(ht.value=_e),$.defaultValue==null&&ht.defaultValue!==_e&&(ht.defaultValue=_e)),vt!=null&&(ht.defaultValue=""+vt)}function jb(ht){var $=ht.textContent;$===ht._wrapperState.initialValue&&$!==""&&$!==null&&(ht.value=$)}function kb(ht){switch(ht){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function lb(ht,$){return ht==null||ht==="http://www.w3.org/1999/xhtml"?kb($):ht==="http://www.w3.org/2000/svg"&&$==="foreignObject"?"http://www.w3.org/1999/xhtml":ht}var mb,nb=function(ht){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function($,_e,vt,xt){MSApp.execUnsafeLocalFunction(function(){return ht($,_e,vt,xt)})}:ht}(function(ht,$){if(ht.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in ht)ht.innerHTML=$;else{for(mb=mb||document.createElement("div"),mb.innerHTML="<svg>"+$.valueOf().toString()+"</svg>",$=mb.firstChild;ht.firstChild;)ht.removeChild(ht.firstChild);for(;$.firstChild;)ht.appendChild($.firstChild)}});function ob(ht,$){if($){var _e=ht.firstChild;if(_e&&_e===ht.lastChild&&_e.nodeType===3){_e.nodeValue=$;return}}ht.textContent=$}var pb={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},qb=["Webkit","ms","Moz","O"];Object.keys(pb).forEach(function(ht){qb.forEach(function($){$=$+ht.charAt(0).toUpperCase()+ht.substring(1),pb[$]=pb[ht]})});function rb(ht,$,_e){return $==null||typeof $=="boolean"||$===""?"":_e||typeof $!="number"||$===0||pb.hasOwnProperty(ht)&&pb[ht]?(""+$).trim():$+"px"}function sb(ht,$){ht=ht.style;for(var _e in $)if($.hasOwnProperty(_e)){var vt=_e.indexOf("--")===0,xt=rb(_e,$[_e],vt);_e==="float"&&(_e="cssFloat"),vt?ht.setProperty(_e,xt):ht[_e]=xt}}var tb=A$3({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ub(ht,$){if($){if(tb[ht]&&($.children!=null||$.dangerouslySetInnerHTML!=null))throw Error(p$4(137,ht));if($.dangerouslySetInnerHTML!=null){if($.children!=null)throw Error(p$4(60));if(typeof $.dangerouslySetInnerHTML!="object"||!("__html"in $.dangerouslySetInnerHTML))throw Error(p$4(61))}if($.style!=null&&typeof $.style!="object")throw Error(p$4(62))}}function vb(ht,$){if(ht.indexOf("-")===-1)return typeof $.is=="string";switch(ht){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var wb=null;function xb(ht){return ht=ht.target||ht.srcElement||window,ht.correspondingUseElement&&(ht=ht.correspondingUseElement),ht.nodeType===3?ht.parentNode:ht}var yb=null,zb=null,Ab=null;function Bb(ht){if(ht=Cb(ht)){if(typeof yb!="function")throw Error(p$4(280));var $=ht.stateNode;$&&($=Db($),yb(ht.stateNode,ht.type,$))}}function Eb(ht){zb?Ab?Ab.push(ht):Ab=[ht]:zb=ht}function Fb(){if(zb){var ht=zb,$=Ab;if(Ab=zb=null,Bb(ht),$)for(ht=0;ht<$.length;ht++)Bb($[ht])}}function Gb(ht,$){return ht($)}function Hb(){}var Ib=!1;function Jb(ht,$,_e){if(Ib)return ht($,_e);Ib=!0;try{return Gb(ht,$,_e)}finally{Ib=!1,(zb!==null||Ab!==null)&&(Hb(),Fb())}}function Kb(ht,$){var _e=ht.stateNode;if(_e===null)return null;var vt=Db(_e);if(vt===null)return null;_e=vt[$];e:switch($){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(vt=!vt.disabled)||(ht=ht.type,vt=!(ht==="button"||ht==="input"||ht==="select"||ht==="textarea")),ht=!vt;break e;default:ht=!1}if(ht)return null;if(_e&&typeof _e!="function")throw Error(p$4(231,$,typeof _e));return _e}var Lb=!1;if(ia)try{var Mb={};Object.defineProperty(Mb,"passive",{get:function(){Lb=!0}}),window.addEventListener("test",Mb,Mb),window.removeEventListener("test",Mb,Mb)}catch{Lb=!1}function Nb(ht,$,_e,vt,xt,bt,Et,At,_t){var Ct=Array.prototype.slice.call(arguments,3);try{$.apply(_e,Ct)}catch(St){this.onError(St)}}var Ob=!1,Pb=null,Qb=!1,Rb=null,Sb={onError:function(ht){Ob=!0,Pb=ht}};function Tb(ht,$,_e,vt,xt,bt,Et,At,_t){Ob=!1,Pb=null,Nb.apply(Sb,arguments)}function Ub(ht,$,_e,vt,xt,bt,Et,At,_t){if(Tb.apply(this,arguments),Ob){if(Ob){var Ct=Pb;Ob=!1,Pb=null}else throw Error(p$4(198));Qb||(Qb=!0,Rb=Ct)}}function Vb(ht){var $=ht,_e=ht;if(ht.alternate)for(;$.return;)$=$.return;else{ht=$;do $=ht,$.flags&4098&&(_e=$.return),ht=$.return;while(ht)}return $.tag===3?_e:null}function Wb(ht){if(ht.tag===13){var $=ht.memoizedState;if($===null&&(ht=ht.alternate,ht!==null&&($=ht.memoizedState)),$!==null)return $.dehydrated}return null}function Xb(ht){if(Vb(ht)!==ht)throw Error(p$4(188))}function Yb(ht){var $=ht.alternate;if(!$){if($=Vb(ht),$===null)throw Error(p$4(188));return $!==ht?null:ht}for(var _e=ht,vt=$;;){var xt=_e.return;if(xt===null)break;var bt=xt.alternate;if(bt===null){if(vt=xt.return,vt!==null){_e=vt;continue}break}if(xt.child===bt.child){for(bt=xt.child;bt;){if(bt===_e)return Xb(xt),ht;if(bt===vt)return Xb(xt),$;bt=bt.sibling}throw Error(p$4(188))}if(_e.return!==vt.return)_e=xt,vt=bt;else{for(var Et=!1,At=xt.child;At;){if(At===_e){Et=!0,_e=xt,vt=bt;break}if(At===vt){Et=!0,vt=xt,_e=bt;break}At=At.sibling}if(!Et){for(At=bt.child;At;){if(At===_e){Et=!0,_e=bt,vt=xt;break}if(At===vt){Et=!0,vt=bt,_e=xt;break}At=At.sibling}if(!Et)throw Error(p$4(189))}}if(_e.alternate!==vt)throw Error(p$4(190))}if(_e.tag!==3)throw Error(p$4(188));return _e.stateNode.current===_e?ht:$}function Zb(ht){return ht=Yb(ht),ht!==null?$b(ht):null}function $b(ht){if(ht.tag===5||ht.tag===6)return ht;for(ht=ht.child;ht!==null;){var $=$b(ht);if($!==null)return $;ht=ht.sibling}return null}var ac=ca.unstable_scheduleCallback,bc=ca.unstable_cancelCallback,cc=ca.unstable_shouldYield,dc=ca.unstable_requestPaint,B$1=ca.unstable_now,ec=ca.unstable_getCurrentPriorityLevel,fc=ca.unstable_ImmediatePriority,gc=ca.unstable_UserBlockingPriority,hc=ca.unstable_NormalPriority,ic=ca.unstable_LowPriority,jc=ca.unstable_IdlePriority,kc=null,lc=null;function mc(ht){if(lc&&typeof lc.onCommitFiberRoot=="function")try{lc.onCommitFiberRoot(kc,ht,void 0,(ht.current.flags&128)===128)}catch{}}var oc=Math.clz32?Math.clz32:nc,pc=Math.log,qc=Math.LN2;function nc(ht){return ht>>>=0,ht===0?32:31-(pc(ht)/qc|0)|0}var rc=64,sc=4194304;function tc(ht){switch(ht&-ht){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return ht&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return ht&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return ht}}function uc(ht,$){var _e=ht.pendingLanes;if(_e===0)return 0;var vt=0,xt=ht.suspendedLanes,bt=ht.pingedLanes,Et=_e&268435455;if(Et!==0){var At=Et&~xt;At!==0?vt=tc(At):(bt&=Et,bt!==0&&(vt=tc(bt)))}else Et=_e&~xt,Et!==0?vt=tc(Et):bt!==0&&(vt=tc(bt));if(vt===0)return 0;if($!==0&&$!==vt&&!($&xt)&&(xt=vt&-vt,bt=$&-$,xt>=bt||xt===16&&(bt&4194240)!==0))return $;if(vt&4&&(vt|=_e&16),$=ht.entangledLanes,$!==0)for(ht=ht.entanglements,$&=vt;0<$;)_e=31-oc($),xt=1<<_e,vt|=ht[_e],$&=~xt;return vt}function vc(ht,$){switch(ht){case 1:case 2:case 4:return $+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return $+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function wc(ht,$){for(var _e=ht.suspendedLanes,vt=ht.pingedLanes,xt=ht.expirationTimes,bt=ht.pendingLanes;0<bt;){var Et=31-oc(bt),At=1<<Et,_t=xt[Et];_t===-1?(!(At&_e)||At&vt)&&(xt[Et]=vc(At,$)):_t<=$&&(ht.expiredLanes|=At),bt&=~At}}function xc(ht){return ht=ht.pendingLanes&-1073741825,ht!==0?ht:ht&1073741824?1073741824:0}function yc(){var ht=rc;return rc<<=1,!(rc&4194240)&&(rc=64),ht}function zc(ht){for(var $=[],_e=0;31>_e;_e++)$.push(ht);return $}function Ac(ht,$,_e){ht.pendingLanes|=$,$!==536870912&&(ht.suspendedLanes=0,ht.pingedLanes=0),ht=ht.eventTimes,$=31-oc($),ht[$]=_e}function Bc(ht,$){var _e=ht.pendingLanes&~$;ht.pendingLanes=$,ht.suspendedLanes=0,ht.pingedLanes=0,ht.expiredLanes&=$,ht.mutableReadLanes&=$,ht.entangledLanes&=$,$=ht.entanglements;var vt=ht.eventTimes;for(ht=ht.expirationTimes;0<_e;){var xt=31-oc(_e),bt=1<<xt;$[xt]=0,vt[xt]=-1,ht[xt]=-1,_e&=~bt}}function Cc(ht,$){var _e=ht.entangledLanes|=$;for(ht=ht.entanglements;_e;){var vt=31-oc(_e),xt=1<<vt;xt&$|ht[vt]&$&&(ht[vt]|=$),_e&=~xt}}var C$1=0;function Dc(ht){return ht&=-ht,1<ht?4<ht?ht&268435455?16:536870912:4:1}var Ec,Fc,Gc,Hc,Ic,Jc=!1,Kc=[],Lc=null,Mc=null,Nc=null,Oc=new Map,Pc=new Map,Qc=[],Rc="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Sc(ht,$){switch(ht){case"focusin":case"focusout":Lc=null;break;case"dragenter":case"dragleave":Mc=null;break;case"mouseover":case"mouseout":Nc=null;break;case"pointerover":case"pointerout":Oc.delete($.pointerId);break;case"gotpointercapture":case"lostpointercapture":Pc.delete($.pointerId)}}function Tc(ht,$,_e,vt,xt,bt){return ht===null||ht.nativeEvent!==bt?(ht={blockedOn:$,domEventName:_e,eventSystemFlags:vt,nativeEvent:bt,targetContainers:[xt]},$!==null&&($=Cb($),$!==null&&Fc($)),ht):(ht.eventSystemFlags|=vt,$=ht.targetContainers,xt!==null&&$.indexOf(xt)===-1&&$.push(xt),ht)}function Uc(ht,$,_e,vt,xt){switch($){case"focusin":return Lc=Tc(Lc,ht,$,_e,vt,xt),!0;case"dragenter":return Mc=Tc(Mc,ht,$,_e,vt,xt),!0;case"mouseover":return Nc=Tc(Nc,ht,$,_e,vt,xt),!0;case"pointerover":var bt=xt.pointerId;return Oc.set(bt,Tc(Oc.get(bt)||null,ht,$,_e,vt,xt)),!0;case"gotpointercapture":return bt=xt.pointerId,Pc.set(bt,Tc(Pc.get(bt)||null,ht,$,_e,vt,xt)),!0}return!1}function Vc(ht){var $=Wc(ht.target);if($!==null){var _e=Vb($);if(_e!==null){if($=_e.tag,$===13){if($=Wb(_e),$!==null){ht.blockedOn=$,Ic(ht.priority,function(){Gc(_e)});return}}else if($===3&&_e.stateNode.current.memoizedState.isDehydrated){ht.blockedOn=_e.tag===3?_e.stateNode.containerInfo:null;return}}}ht.blockedOn=null}function Xc(ht){if(ht.blockedOn!==null)return!1;for(var $=ht.targetContainers;0<$.length;){var _e=Yc(ht.domEventName,ht.eventSystemFlags,$[0],ht.nativeEvent);if(_e===null){_e=ht.nativeEvent;var vt=new _e.constructor(_e.type,_e);wb=vt,_e.target.dispatchEvent(vt),wb=null}else return $=Cb(_e),$!==null&&Fc($),ht.blockedOn=_e,!1;$.shift()}return!0}function Zc(ht,$,_e){Xc(ht)&&_e.delete($)}function $c(){Jc=!1,Lc!==null&&Xc(Lc)&&(Lc=null),Mc!==null&&Xc(Mc)&&(Mc=null),Nc!==null&&Xc(Nc)&&(Nc=null),Oc.forEach(Zc),Pc.forEach(Zc)}function ad(ht,$){ht.blockedOn===$&&(ht.blockedOn=null,Jc||(Jc=!0,ca.unstable_scheduleCallback(ca.unstable_NormalPriority,$c)))}function bd(ht){function $(xt){return ad(xt,ht)}if(0<Kc.length){ad(Kc[0],ht);for(var _e=1;_e<Kc.length;_e++){var vt=Kc[_e];vt.blockedOn===ht&&(vt.blockedOn=null)}}for(Lc!==null&&ad(Lc,ht),Mc!==null&&ad(Mc,ht),Nc!==null&&ad(Nc,ht),Oc.forEach($),Pc.forEach($),_e=0;_e<Qc.length;_e++)vt=Qc[_e],vt.blockedOn===ht&&(vt.blockedOn=null);for(;0<Qc.length&&(_e=Qc[0],_e.blockedOn===null);)Vc(_e),_e.blockedOn===null&&Qc.shift()}var cd=ua.ReactCurrentBatchConfig,dd=!0;function ed(ht,$,_e,vt){var xt=C$1,bt=cd.transition;cd.transition=null;try{C$1=1,fd(ht,$,_e,vt)}finally{C$1=xt,cd.transition=bt}}function gd(ht,$,_e,vt){var xt=C$1,bt=cd.transition;cd.transition=null;try{C$1=4,fd(ht,$,_e,vt)}finally{C$1=xt,cd.transition=bt}}function fd(ht,$,_e,vt){if(dd){var xt=Yc(ht,$,_e,vt);if(xt===null)hd(ht,$,vt,id,_e),Sc(ht,vt);else if(Uc(xt,ht,$,_e,vt))vt.stopPropagation();else if(Sc(ht,vt),$&4&&-1<Rc.indexOf(ht)){for(;xt!==null;){var bt=Cb(xt);if(bt!==null&&Ec(bt),bt=Yc(ht,$,_e,vt),bt===null&&hd(ht,$,vt,id,_e),bt===xt)break;xt=bt}xt!==null&&vt.stopPropagation()}else hd(ht,$,vt,null,_e)}}var id=null;function Yc(ht,$,_e,vt){if(id=null,ht=xb(vt),ht=Wc(ht),ht!==null)if($=Vb(ht),$===null)ht=null;else if(_e=$.tag,_e===13){if(ht=Wb($),ht!==null)return ht;ht=null}else if(_e===3){if($.stateNode.current.memoizedState.isDehydrated)return $.tag===3?$.stateNode.containerInfo:null;ht=null}else $!==ht&&(ht=null);return id=ht,null}function jd(ht){switch(ht){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(ec()){case fc:return 1;case gc:return 4;case hc:case ic:return 16;case jc:return 536870912;default:return 16}default:return 16}}var kd=null,ld=null,md=null;function nd(){if(md)return md;var ht,$=ld,_e=$.length,vt,xt="value"in kd?kd.value:kd.textContent,bt=xt.length;for(ht=0;ht<_e&&$[ht]===xt[ht];ht++);var Et=_e-ht;for(vt=1;vt<=Et&&$[_e-vt]===xt[bt-vt];vt++);return md=xt.slice(ht,1<vt?1-vt:void 0)}function od(ht){var $=ht.keyCode;return"charCode"in ht?(ht=ht.charCode,ht===0&&$===13&&(ht=13)):ht=$,ht===10&&(ht=13),32<=ht||ht===13?ht:0}function pd(){return!0}function qd(){return!1}function rd(ht){function $(_e,vt,xt,bt,Et){this._reactName=_e,this._targetInst=xt,this.type=vt,this.nativeEvent=bt,this.target=Et,this.currentTarget=null;for(var At in ht)ht.hasOwnProperty(At)&&(_e=ht[At],this[At]=_e?_e(bt):bt[At]);return this.isDefaultPrevented=(bt.defaultPrevented!=null?bt.defaultPrevented:bt.returnValue===!1)?pd:qd,this.isPropagationStopped=qd,this}return A$3($.prototype,{preventDefault:function(){this.defaultPrevented=!0;var _e=this.nativeEvent;_e&&(_e.preventDefault?_e.preventDefault():typeof _e.returnValue!="unknown"&&(_e.returnValue=!1),this.isDefaultPrevented=pd)},stopPropagation:function(){var _e=this.nativeEvent;_e&&(_e.stopPropagation?_e.stopPropagation():typeof _e.cancelBubble!="unknown"&&(_e.cancelBubble=!0),this.isPropagationStopped=pd)},persist:function(){},isPersistent:pd}),$}var sd={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(ht){return ht.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},td=rd(sd),ud=A$3({},sd,{view:0,detail:0}),vd=rd(ud),wd,xd,yd,Ad=A$3({},ud,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:zd,button:0,buttons:0,relatedTarget:function(ht){return ht.relatedTarget===void 0?ht.fromElement===ht.srcElement?ht.toElement:ht.fromElement:ht.relatedTarget},movementX:function(ht){return"movementX"in ht?ht.movementX:(ht!==yd&&(yd&&ht.type==="mousemove"?(wd=ht.screenX-yd.screenX,xd=ht.screenY-yd.screenY):xd=wd=0,yd=ht),wd)},movementY:function(ht){return"movementY"in ht?ht.movementY:xd}}),Bd=rd(Ad),Cd=A$3({},Ad,{dataTransfer:0}),Dd=rd(Cd),Ed=A$3({},ud,{relatedTarget:0}),Fd=rd(Ed),Gd=A$3({},sd,{animationName:0,elapsedTime:0,pseudoElement:0}),Hd=rd(Gd),Id=A$3({},sd,{clipboardData:function(ht){return"clipboardData"in ht?ht.clipboardData:window.clipboardData}}),Jd=rd(Id),Kd=A$3({},sd,{data:0}),Ld=rd(Kd),Md={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Nd={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Od={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Pd(ht){var $=this.nativeEvent;return $.getModifierState?$.getModifierState(ht):(ht=Od[ht])?!!$[ht]:!1}function zd(){return Pd}var Qd=A$3({},ud,{key:function(ht){if(ht.key){var $=Md[ht.key]||ht.key;if($!=="Unidentified")return $}return ht.type==="keypress"?(ht=od(ht),ht===13?"Enter":String.fromCharCode(ht)):ht.type==="keydown"||ht.type==="keyup"?Nd[ht.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:zd,charCode:function(ht){return ht.type==="keypress"?od(ht):0},keyCode:function(ht){return ht.type==="keydown"||ht.type==="keyup"?ht.keyCode:0},which:function(ht){return ht.type==="keypress"?od(ht):ht.type==="keydown"||ht.type==="keyup"?ht.keyCode:0}}),Rd=rd(Qd),Sd=A$3({},Ad,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Td=rd(Sd),Ud=A$3({},ud,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:zd}),Vd=rd(Ud),Wd=A$3({},sd,{propertyName:0,elapsedTime:0,pseudoElement:0}),Xd=rd(Wd),Yd=A$3({},Ad,{deltaX:function(ht){return"deltaX"in ht?ht.deltaX:"wheelDeltaX"in ht?-ht.wheelDeltaX:0},deltaY:function(ht){return"deltaY"in ht?ht.deltaY:"wheelDeltaY"in ht?-ht.wheelDeltaY:"wheelDelta"in ht?-ht.wheelDelta:0},deltaZ:0,deltaMode:0}),Zd=rd(Yd),$d=[9,13,27,32],ae=ia&&"CompositionEvent"in window,be$1=null;ia&&"documentMode"in document&&(be$1=document.documentMode);var ce$1=ia&&"TextEvent"in window&&!be$1,de=ia&&(!ae||be$1&&8<be$1&&11>=be$1),ee=" ",fe=!1;function ge(ht,$){switch(ht){case"keyup":return $d.indexOf($.keyCode)!==-1;case"keydown":return $.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function he(ht){return ht=ht.detail,typeof ht=="object"&&"data"in ht?ht.data:null}var ie=!1;function je(ht,$){switch(ht){case"compositionend":return he($);case"keypress":return $.which!==32?null:(fe=!0,ee);case"textInput":return ht=$.data,ht===ee&&fe?null:ht;default:return null}}function ke(ht,$){if(ie)return ht==="compositionend"||!ae&&ge(ht,$)?(ht=nd(),md=ld=kd=null,ie=!1,ht):null;switch(ht){case"paste":return null;case"keypress":if(!($.ctrlKey||$.altKey||$.metaKey)||$.ctrlKey&&$.altKey){if($.char&&1<$.char.length)return $.char;if($.which)return String.fromCharCode($.which)}return null;case"compositionend":return de&&$.locale!=="ko"?null:$.data;default:return null}}var le={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function me(ht){var $=ht&&ht.nodeName&&ht.nodeName.toLowerCase();return $==="input"?!!le[ht.type]:$==="textarea"}function ne(ht,$,_e,vt){Eb(vt),$=oe($,"onChange"),0<$.length&&(_e=new td("onChange","change",null,_e,vt),ht.push({event:_e,listeners:$}))}var pe$1=null,qe$1=null;function re(ht){se(ht,0)}function te$1(ht){var $=ue(ht);if(Wa($))return ht}function ve$1(ht,$){if(ht==="change")return $}var we=!1;if(ia){var xe$1;if(ia){var ye$1="oninput"in document;if(!ye$1){var ze$1=document.createElement("div");ze$1.setAttribute("oninput","return;"),ye$1=typeof ze$1.oninput=="function"}xe$1=ye$1}else xe$1=!1;we=xe$1&&(!document.documentMode||9<document.documentMode)}function Ae(){pe$1&&(pe$1.detachEvent("onpropertychange",Be),qe$1=pe$1=null)}function Be(ht){if(ht.propertyName==="value"&&te$1(qe$1)){var $=[];ne($,qe$1,ht,xb(ht)),Jb(re,$)}}function Ce(ht,$,_e){ht==="focusin"?(Ae(),pe$1=$,qe$1=_e,pe$1.attachEvent("onpropertychange",Be)):ht==="focusout"&&Ae()}function De(ht){if(ht==="selectionchange"||ht==="keyup"||ht==="keydown")return te$1(qe$1)}function Ee(ht,$){if(ht==="click")return te$1($)}function Fe$1(ht,$){if(ht==="input"||ht==="change")return te$1($)}function Ge(ht,$){return ht===$&&(ht!==0||1/ht===1/$)||ht!==ht&&$!==$}var He=typeof Object.is=="function"?Object.is:Ge;function Ie(ht,$){if(He(ht,$))return!0;if(typeof ht!="object"||ht===null||typeof $!="object"||$===null)return!1;var _e=Object.keys(ht),vt=Object.keys($);if(_e.length!==vt.length)return!1;for(vt=0;vt<_e.length;vt++){var xt=_e[vt];if(!ja.call($,xt)||!He(ht[xt],$[xt]))return!1}return!0}function Je$1(ht){for(;ht&&ht.firstChild;)ht=ht.firstChild;return ht}function Ke(ht,$){var _e=Je$1(ht);ht=0;for(var vt;_e;){if(_e.nodeType===3){if(vt=ht+_e.textContent.length,ht<=$&&vt>=$)return{node:_e,offset:$-ht};ht=vt}e:{for(;_e;){if(_e.nextSibling){_e=_e.nextSibling;break e}_e=_e.parentNode}_e=void 0}_e=Je$1(_e)}}function Le(ht,$){return ht&&$?ht===$?!0:ht&&ht.nodeType===3?!1:$&&$.nodeType===3?Le(ht,$.parentNode):"contains"in ht?ht.contains($):ht.compareDocumentPosition?!!(ht.compareDocumentPosition($)&16):!1:!1}function Me(){for(var ht=window,$=Xa();$ instanceof ht.HTMLIFrameElement;){try{var _e=typeof $.contentWindow.location.href=="string"}catch{_e=!1}if(_e)ht=$.contentWindow;else break;$=Xa(ht.document)}return $}function Ne(ht){var $=ht&&ht.nodeName&&ht.nodeName.toLowerCase();return $&&($==="input"&&(ht.type==="text"||ht.type==="search"||ht.type==="tel"||ht.type==="url"||ht.type==="password")||$==="textarea"||ht.contentEditable==="true")}function Oe(ht){var $=Me(),_e=ht.focusedElem,vt=ht.selectionRange;if($!==_e&&_e&&_e.ownerDocument&&Le(_e.ownerDocument.documentElement,_e)){if(vt!==null&&Ne(_e)){if($=vt.start,ht=vt.end,ht===void 0&&(ht=$),"selectionStart"in _e)_e.selectionStart=$,_e.selectionEnd=Math.min(ht,_e.value.length);else if(ht=($=_e.ownerDocument||document)&&$.defaultView||window,ht.getSelection){ht=ht.getSelection();var xt=_e.textContent.length,bt=Math.min(vt.start,xt);vt=vt.end===void 0?bt:Math.min(vt.end,xt),!ht.extend&&bt>vt&&(xt=vt,vt=bt,bt=xt),xt=Ke(_e,bt);var Et=Ke(_e,vt);xt&&Et&&(ht.rangeCount!==1||ht.anchorNode!==xt.node||ht.anchorOffset!==xt.offset||ht.focusNode!==Et.node||ht.focusOffset!==Et.offset)&&($=$.createRange(),$.setStart(xt.node,xt.offset),ht.removeAllRanges(),bt>vt?(ht.addRange($),ht.extend(Et.node,Et.offset)):($.setEnd(Et.node,Et.offset),ht.addRange($)))}}for($=[],ht=_e;ht=ht.parentNode;)ht.nodeType===1&&$.push({element:ht,left:ht.scrollLeft,top:ht.scrollTop});for(typeof _e.focus=="function"&&_e.focus(),_e=0;_e<$.length;_e++)ht=$[_e],ht.element.scrollLeft=ht.left,ht.element.scrollTop=ht.top}}var Pe=ia&&"documentMode"in document&&11>=document.documentMode,Qe=null,Re$1=null,Se=null,Te=!1;function Ue(ht,$,_e){var vt=_e.window===_e?_e.document:_e.nodeType===9?_e:_e.ownerDocument;Te||Qe==null||Qe!==Xa(vt)||(vt=Qe,"selectionStart"in vt&&Ne(vt)?vt={start:vt.selectionStart,end:vt.selectionEnd}:(vt=(vt.ownerDocument&&vt.ownerDocument.defaultView||window).getSelection(),vt={anchorNode:vt.anchorNode,anchorOffset:vt.anchorOffset,focusNode:vt.focusNode,focusOffset:vt.focusOffset}),Se&&Ie(Se,vt)||(Se=vt,vt=oe(Re$1,"onSelect"),0<vt.length&&($=new td("onSelect","select",null,$,_e),ht.push({event:$,listeners:vt}),$.target=Qe)))}function Ve$1(ht,$){var _e={};return _e[ht.toLowerCase()]=$.toLowerCase(),_e["Webkit"+ht]="webkit"+$,_e["Moz"+ht]="moz"+$,_e}var We={animationend:Ve$1("Animation","AnimationEnd"),animationiteration:Ve$1("Animation","AnimationIteration"),animationstart:Ve$1("Animation","AnimationStart"),transitionend:Ve$1("Transition","TransitionEnd")},Xe$1={},Ye$1={};ia&&(Ye$1=document.createElement("div").style,"AnimationEvent"in window||(delete We.animationend.animation,delete We.animationiteration.animation,delete We.animationstart.animation),"TransitionEvent"in window||delete We.transitionend.transition);function Ze$1(ht){if(Xe$1[ht])return Xe$1[ht];if(!We[ht])return ht;var $=We[ht],_e;for(_e in $)if($.hasOwnProperty(_e)&&_e in Ye$1)return Xe$1[ht]=$[_e];return ht}var $e$1=Ze$1("animationend"),af=Ze$1("animationiteration"),bf=Ze$1("animationstart"),cf=Ze$1("transitionend"),df=new Map,ef="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ff(ht,$){df.set(ht,$),fa($,[ht])}for(var gf=0;gf<ef.length;gf++){var hf=ef[gf],jf=hf.toLowerCase(),kf=hf[0].toUpperCase()+hf.slice(1);ff(jf,"on"+kf)}ff($e$1,"onAnimationEnd");ff(af,"onAnimationIteration");ff(bf,"onAnimationStart");ff("dblclick","onDoubleClick");ff("focusin","onFocus");ff("focusout","onBlur");ff(cf,"onTransitionEnd");ha("onMouseEnter",["mouseout","mouseover"]);ha("onMouseLeave",["mouseout","mouseover"]);ha("onPointerEnter",["pointerout","pointerover"]);ha("onPointerLeave",["pointerout","pointerover"]);fa("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));fa("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));fa("onBeforeInput",["compositionend","keypress","textInput","paste"]);fa("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));fa("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));fa("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var lf="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),mf=new Set("cancel close invalid load scroll toggle".split(" ").concat(lf));function nf(ht,$,_e){var vt=ht.type||"unknown-event";ht.currentTarget=_e,Ub(vt,$,void 0,ht),ht.currentTarget=null}function se(ht,$){$=($&4)!==0;for(var _e=0;_e<ht.length;_e++){var vt=ht[_e],xt=vt.event;vt=vt.listeners;e:{var bt=void 0;if($)for(var Et=vt.length-1;0<=Et;Et--){var At=vt[Et],_t=At.instance,Ct=At.currentTarget;if(At=At.listener,_t!==bt&&xt.isPropagationStopped())break e;nf(xt,At,Ct),bt=_t}else for(Et=0;Et<vt.length;Et++){if(At=vt[Et],_t=At.instance,Ct=At.currentTarget,At=At.listener,_t!==bt&&xt.isPropagationStopped())break e;nf(xt,At,Ct),bt=_t}}}if(Qb)throw ht=Rb,Qb=!1,Rb=null,ht}function D$4(ht,$){var _e=$[of];_e===void 0&&(_e=$[of]=new Set);var vt=ht+"__bubble";_e.has(vt)||(pf($,ht,2,!1),_e.add(vt))}function qf(ht,$,_e){var vt=0;$&&(vt|=4),pf(_e,ht,vt,$)}var rf="_reactListening"+Math.random().toString(36).slice(2);function sf(ht){if(!ht[rf]){ht[rf]=!0,da.forEach(function(_e){_e!=="selectionchange"&&(mf.has(_e)||qf(_e,!1,ht),qf(_e,!0,ht))});var $=ht.nodeType===9?ht:ht.ownerDocument;$===null||$[rf]||($[rf]=!0,qf("selectionchange",!1,$))}}function pf(ht,$,_e,vt){switch(jd($)){case 1:var xt=ed;break;case 4:xt=gd;break;default:xt=fd}_e=xt.bind(null,$,_e,ht),xt=void 0,!Lb||$!=="touchstart"&&$!=="touchmove"&&$!=="wheel"||(xt=!0),vt?xt!==void 0?ht.addEventListener($,_e,{capture:!0,passive:xt}):ht.addEventListener($,_e,!0):xt!==void 0?ht.addEventListener($,_e,{passive:xt}):ht.addEventListener($,_e,!1)}function hd(ht,$,_e,vt,xt){var bt=vt;if(!($&1)&&!($&2)&&vt!==null)e:for(;;){if(vt===null)return;var Et=vt.tag;if(Et===3||Et===4){var At=vt.stateNode.containerInfo;if(At===xt||At.nodeType===8&&At.parentNode===xt)break;if(Et===4)for(Et=vt.return;Et!==null;){var _t=Et.tag;if((_t===3||_t===4)&&(_t=Et.stateNode.containerInfo,_t===xt||_t.nodeType===8&&_t.parentNode===xt))return;Et=Et.return}for(;At!==null;){if(Et=Wc(At),Et===null)return;if(_t=Et.tag,_t===5||_t===6){vt=bt=Et;continue e}At=At.parentNode}}vt=vt.return}Jb(function(){var Ct=bt,St=xb(_e),Rt=[];e:{var Pt=df.get(ht);if(Pt!==void 0){var kt=td,Mt=ht;switch(ht){case"keypress":if(od(_e)===0)break e;case"keydown":case"keyup":kt=Rd;break;case"focusin":Mt="focus",kt=Fd;break;case"focusout":Mt="blur",kt=Fd;break;case"beforeblur":case"afterblur":kt=Fd;break;case"click":if(_e.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":kt=Bd;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":kt=Dd;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":kt=Vd;break;case $e$1:case af:case bf:kt=Hd;break;case cf:kt=Xd;break;case"scroll":kt=vd;break;case"wheel":kt=Zd;break;case"copy":case"cut":case"paste":kt=Jd;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":kt=Td}var Lt=($&4)!==0,$t=!Lt&&ht==="scroll",Ft=Lt?Pt!==null?Pt+"Capture":null:Pt;Lt=[];for(var Dt=Ct,Nt;Dt!==null;){Nt=Dt;var Ht=Nt.stateNode;if(Nt.tag===5&&Ht!==null&&(Nt=Ht,Ft!==null&&(Ht=Kb(Dt,Ft),Ht!=null&&Lt.push(tf(Dt,Ht,Nt)))),$t)break;Dt=Dt.return}0<Lt.length&&(Pt=new kt(Pt,Mt,null,_e,St),Rt.push({event:Pt,listeners:Lt}))}}if(!($&7)){e:{if(Pt=ht==="mouseover"||ht==="pointerover",kt=ht==="mouseout"||ht==="pointerout",Pt&&_e!==wb&&(Mt=_e.relatedTarget||_e.fromElement)&&(Wc(Mt)||Mt[uf]))break e;if((kt||Pt)&&(Pt=St.window===St?St:(Pt=St.ownerDocument)?Pt.defaultView||Pt.parentWindow:window,kt?(Mt=_e.relatedTarget||_e.toElement,kt=Ct,Mt=Mt?Wc(Mt):null,Mt!==null&&($t=Vb(Mt),Mt!==$t||Mt.tag!==5&&Mt.tag!==6)&&(Mt=null)):(kt=null,Mt=Ct),kt!==Mt)){if(Lt=Bd,Ht="onMouseLeave",Ft="onMouseEnter",Dt="mouse",(ht==="pointerout"||ht==="pointerover")&&(Lt=Td,Ht="onPointerLeave",Ft="onPointerEnter",Dt="pointer"),$t=kt==null?Pt:ue(kt),Nt=Mt==null?Pt:ue(Mt),Pt=new Lt(Ht,Dt+"leave",kt,_e,St),Pt.target=$t,Pt.relatedTarget=Nt,Ht=null,Wc(St)===Ct&&(Lt=new Lt(Ft,Dt+"enter",Mt,_e,St),Lt.target=Nt,Lt.relatedTarget=$t,Ht=Lt),$t=Ht,kt&&Mt)t:{for(Lt=kt,Ft=Mt,Dt=0,Nt=Lt;Nt;Nt=vf(Nt))Dt++;for(Nt=0,Ht=Ft;Ht;Ht=vf(Ht))Nt++;for(;0<Dt-Nt;)Lt=vf(Lt),Dt--;for(;0<Nt-Dt;)Ft=vf(Ft),Nt--;for(;Dt--;){if(Lt===Ft||Ft!==null&&Lt===Ft.alternate)break t;Lt=vf(Lt),Ft=vf(Ft)}Lt=null}else Lt=null;kt!==null&&wf(Rt,Pt,kt,Lt,!1),Mt!==null&&$t!==null&&wf(Rt,$t,Mt,Lt,!0)}}e:{if(Pt=Ct?ue(Ct):window,kt=Pt.nodeName&&Pt.nodeName.toLowerCase(),kt==="select"||kt==="input"&&Pt.type==="file")var Ot=ve$1;else if(me(Pt))if(we)Ot=Fe$1;else{Ot=De;var Bt=Ce}else(kt=Pt.nodeName)&&kt.toLowerCase()==="input"&&(Pt.type==="checkbox"||Pt.type==="radio")&&(Ot=Ee);if(Ot&&(Ot=Ot(ht,Ct))){ne(Rt,Ot,_e,St);break e}Bt&&Bt(ht,Pt,Ct),ht==="focusout"&&(Bt=Pt._wrapperState)&&Bt.controlled&&Pt.type==="number"&&cb(Pt,"number",Pt.value)}switch(Bt=Ct?ue(Ct):window,ht){case"focusin":(me(Bt)||Bt.contentEditable==="true")&&(Qe=Bt,Re$1=Ct,Se=null);break;case"focusout":Se=Re$1=Qe=null;break;case"mousedown":Te=!0;break;case"contextmenu":case"mouseup":case"dragend":Te=!1,Ue(Rt,_e,St);break;case"selectionchange":if(Pe)break;case"keydown":case"keyup":Ue(Rt,_e,St)}var jt;if(ae)e:{switch(ht){case"compositionstart":var zt="onCompositionStart";break e;case"compositionend":zt="onCompositionEnd";break e;case"compositionupdate":zt="onCompositionUpdate";break e}zt=void 0}else ie?ge(ht,_e)&&(zt="onCompositionEnd"):ht==="keydown"&&_e.keyCode===229&&(zt="onCompositionStart");zt&&(de&&_e.locale!=="ko"&&(ie||zt!=="onCompositionStart"?zt==="onCompositionEnd"&&ie&&(jt=nd()):(kd=St,ld="value"in kd?kd.value:kd.textContent,ie=!0)),Bt=oe(Ct,zt),0<Bt.length&&(zt=new Ld(zt,ht,null,_e,St),Rt.push({event:zt,listeners:Bt}),jt?zt.data=jt:(jt=he(_e),jt!==null&&(zt.data=jt)))),(jt=ce$1?je(ht,_e):ke(ht,_e))&&(Ct=oe(Ct,"onBeforeInput"),0<Ct.length&&(St=new Ld("onBeforeInput","beforeinput",null,_e,St),Rt.push({event:St,listeners:Ct}),St.data=jt))}se(Rt,$)})}function tf(ht,$,_e){return{instance:ht,listener:$,currentTarget:_e}}function oe(ht,$){for(var _e=$+"Capture",vt=[];ht!==null;){var xt=ht,bt=xt.stateNode;xt.tag===5&&bt!==null&&(xt=bt,bt=Kb(ht,_e),bt!=null&&vt.unshift(tf(ht,bt,xt)),bt=Kb(ht,$),bt!=null&&vt.push(tf(ht,bt,xt))),ht=ht.return}return vt}function vf(ht){if(ht===null)return null;do ht=ht.return;while(ht&&ht.tag!==5);return ht||null}function wf(ht,$,_e,vt,xt){for(var bt=$._reactName,Et=[];_e!==null&&_e!==vt;){var At=_e,_t=At.alternate,Ct=At.stateNode;if(_t!==null&&_t===vt)break;At.tag===5&&Ct!==null&&(At=Ct,xt?(_t=Kb(_e,bt),_t!=null&&Et.unshift(tf(_e,_t,At))):xt||(_t=Kb(_e,bt),_t!=null&&Et.push(tf(_e,_t,At)))),_e=_e.return}Et.length!==0&&ht.push({event:$,listeners:Et})}var xf=/\r\n?/g,yf=/\u0000|\uFFFD/g;function zf(ht){return(typeof ht=="string"?ht:""+ht).replace(xf,`
`).replace(yf,"")}function Af(ht,$,_e){if($=zf($),zf(ht)!==$&&_e)throw Error(p$4(425))}function Bf(){}var Cf=null,Df=null;function Ef(ht,$){return ht==="textarea"||ht==="noscript"||typeof $.children=="string"||typeof $.children=="number"||typeof $.dangerouslySetInnerHTML=="object"&&$.dangerouslySetInnerHTML!==null&&$.dangerouslySetInnerHTML.__html!=null}var Ff=typeof setTimeout=="function"?setTimeout:void 0,Gf=typeof clearTimeout=="function"?clearTimeout:void 0,Hf=typeof Promise=="function"?Promise:void 0,Jf=typeof queueMicrotask=="function"?queueMicrotask:typeof Hf<"u"?function(ht){return Hf.resolve(null).then(ht).catch(If)}:Ff;function If(ht){setTimeout(function(){throw ht})}function Kf(ht,$){var _e=$,vt=0;do{var xt=_e.nextSibling;if(ht.removeChild(_e),xt&&xt.nodeType===8)if(_e=xt.data,_e==="/$"){if(vt===0){ht.removeChild(xt),bd($);return}vt--}else _e!=="$"&&_e!=="$?"&&_e!=="$!"||vt++;_e=xt}while(_e);bd($)}function Lf(ht){for(;ht!=null;ht=ht.nextSibling){var $=ht.nodeType;if($===1||$===3)break;if($===8){if($=ht.data,$==="$"||$==="$!"||$==="$?")break;if($==="/$")return null}}return ht}function Mf(ht){ht=ht.previousSibling;for(var $=0;ht;){if(ht.nodeType===8){var _e=ht.data;if(_e==="$"||_e==="$!"||_e==="$?"){if($===0)return ht;$--}else _e==="/$"&&$++}ht=ht.previousSibling}return null}var Nf=Math.random().toString(36).slice(2),Of="__reactFiber$"+Nf,Pf="__reactProps$"+Nf,uf="__reactContainer$"+Nf,of="__reactEvents$"+Nf,Qf="__reactListeners$"+Nf,Rf="__reactHandles$"+Nf;function Wc(ht){var $=ht[Of];if($)return $;for(var _e=ht.parentNode;_e;){if($=_e[uf]||_e[Of]){if(_e=$.alternate,$.child!==null||_e!==null&&_e.child!==null)for(ht=Mf(ht);ht!==null;){if(_e=ht[Of])return _e;ht=Mf(ht)}return $}ht=_e,_e=ht.parentNode}return null}function Cb(ht){return ht=ht[Of]||ht[uf],!ht||ht.tag!==5&&ht.tag!==6&&ht.tag!==13&&ht.tag!==3?null:ht}function ue(ht){if(ht.tag===5||ht.tag===6)return ht.stateNode;throw Error(p$4(33))}function Db(ht){return ht[Pf]||null}var Sf=[],Tf=-1;function Uf(ht){return{current:ht}}function E$1(ht){0>Tf||(ht.current=Sf[Tf],Sf[Tf]=null,Tf--)}function G$2(ht,$){Tf++,Sf[Tf]=ht.current,ht.current=$}var Vf={},H$2=Uf(Vf),Wf=Uf(!1),Xf=Vf;function Yf(ht,$){var _e=ht.type.contextTypes;if(!_e)return Vf;var vt=ht.stateNode;if(vt&&vt.__reactInternalMemoizedUnmaskedChildContext===$)return vt.__reactInternalMemoizedMaskedChildContext;var xt={},bt;for(bt in _e)xt[bt]=$[bt];return vt&&(ht=ht.stateNode,ht.__reactInternalMemoizedUnmaskedChildContext=$,ht.__reactInternalMemoizedMaskedChildContext=xt),xt}function Zf(ht){return ht=ht.childContextTypes,ht!=null}function $f(){E$1(Wf),E$1(H$2)}function ag(ht,$,_e){if(H$2.current!==Vf)throw Error(p$4(168));G$2(H$2,$),G$2(Wf,_e)}function bg(ht,$,_e){var vt=ht.stateNode;if($=$.childContextTypes,typeof vt.getChildContext!="function")return _e;vt=vt.getChildContext();for(var xt in vt)if(!(xt in $))throw Error(p$4(108,Ra(ht)||"Unknown",xt));return A$3({},_e,vt)}function cg(ht){return ht=(ht=ht.stateNode)&&ht.__reactInternalMemoizedMergedChildContext||Vf,Xf=H$2.current,G$2(H$2,ht),G$2(Wf,Wf.current),!0}function dg(ht,$,_e){var vt=ht.stateNode;if(!vt)throw Error(p$4(169));_e?(ht=bg(ht,$,Xf),vt.__reactInternalMemoizedMergedChildContext=ht,E$1(Wf),E$1(H$2),G$2(H$2,ht)):E$1(Wf),G$2(Wf,_e)}var eg=null,fg=!1,gg=!1;function hg(ht){eg===null?eg=[ht]:eg.push(ht)}function ig(ht){fg=!0,hg(ht)}function jg(){if(!gg&&eg!==null){gg=!0;var ht=0,$=C$1;try{var _e=eg;for(C$1=1;ht<_e.length;ht++){var vt=_e[ht];do vt=vt(!0);while(vt!==null)}eg=null,fg=!1}catch(xt){throw eg!==null&&(eg=eg.slice(ht+1)),ac(fc,jg),xt}finally{C$1=$,gg=!1}}return null}var kg=[],lg=0,mg=null,ng=0,og=[],pg=0,qg=null,rg=1,sg="";function tg(ht,$){kg[lg++]=ng,kg[lg++]=mg,mg=ht,ng=$}function ug(ht,$,_e){og[pg++]=rg,og[pg++]=sg,og[pg++]=qg,qg=ht;var vt=rg;ht=sg;var xt=32-oc(vt)-1;vt&=~(1<<xt),_e+=1;var bt=32-oc($)+xt;if(30<bt){var Et=xt-xt%5;bt=(vt&(1<<Et)-1).toString(32),vt>>=Et,xt-=Et,rg=1<<32-oc($)+xt|_e<<xt|vt,sg=bt+ht}else rg=1<<bt|_e<<xt|vt,sg=ht}function vg(ht){ht.return!==null&&(tg(ht,1),ug(ht,1,0))}function wg(ht){for(;ht===mg;)mg=kg[--lg],kg[lg]=null,ng=kg[--lg],kg[lg]=null;for(;ht===qg;)qg=og[--pg],og[pg]=null,sg=og[--pg],og[pg]=null,rg=og[--pg],og[pg]=null}var xg=null,yg=null,I$4=!1,zg=null;function Ag(ht,$){var _e=Bg(5,null,null,0);_e.elementType="DELETED",_e.stateNode=$,_e.return=ht,$=ht.deletions,$===null?(ht.deletions=[_e],ht.flags|=16):$.push(_e)}function Cg(ht,$){switch(ht.tag){case 5:var _e=ht.type;return $=$.nodeType!==1||_e.toLowerCase()!==$.nodeName.toLowerCase()?null:$,$!==null?(ht.stateNode=$,xg=ht,yg=Lf($.firstChild),!0):!1;case 6:return $=ht.pendingProps===""||$.nodeType!==3?null:$,$!==null?(ht.stateNode=$,xg=ht,yg=null,!0):!1;case 13:return $=$.nodeType!==8?null:$,$!==null?(_e=qg!==null?{id:rg,overflow:sg}:null,ht.memoizedState={dehydrated:$,treeContext:_e,retryLane:1073741824},_e=Bg(18,null,null,0),_e.stateNode=$,_e.return=ht,ht.child=_e,xg=ht,yg=null,!0):!1;default:return!1}}function Dg(ht){return(ht.mode&1)!==0&&(ht.flags&128)===0}function Eg(ht){if(I$4){var $=yg;if($){var _e=$;if(!Cg(ht,$)){if(Dg(ht))throw Error(p$4(418));$=Lf(_e.nextSibling);var vt=xg;$&&Cg(ht,$)?Ag(vt,_e):(ht.flags=ht.flags&-4097|2,I$4=!1,xg=ht)}}else{if(Dg(ht))throw Error(p$4(418));ht.flags=ht.flags&-4097|2,I$4=!1,xg=ht}}}function Fg(ht){for(ht=ht.return;ht!==null&&ht.tag!==5&&ht.tag!==3&&ht.tag!==13;)ht=ht.return;xg=ht}function Gg(ht){if(ht!==xg)return!1;if(!I$4)return Fg(ht),I$4=!0,!1;var $;if(($=ht.tag!==3)&&!($=ht.tag!==5)&&($=ht.type,$=$!=="head"&&$!=="body"&&!Ef(ht.type,ht.memoizedProps)),$&&($=yg)){if(Dg(ht))throw Hg(),Error(p$4(418));for(;$;)Ag(ht,$),$=Lf($.nextSibling)}if(Fg(ht),ht.tag===13){if(ht=ht.memoizedState,ht=ht!==null?ht.dehydrated:null,!ht)throw Error(p$4(317));e:{for(ht=ht.nextSibling,$=0;ht;){if(ht.nodeType===8){var _e=ht.data;if(_e==="/$"){if($===0){yg=Lf(ht.nextSibling);break e}$--}else _e!=="$"&&_e!=="$!"&&_e!=="$?"||$++}ht=ht.nextSibling}yg=null}}else yg=xg?Lf(ht.stateNode.nextSibling):null;return!0}function Hg(){for(var ht=yg;ht;)ht=Lf(ht.nextSibling)}function Ig(){yg=xg=null,I$4=!1}function Jg(ht){zg===null?zg=[ht]:zg.push(ht)}var Kg=ua.ReactCurrentBatchConfig;function Lg(ht,$,_e){if(ht=_e.ref,ht!==null&&typeof ht!="function"&&typeof ht!="object"){if(_e._owner){if(_e=_e._owner,_e){if(_e.tag!==1)throw Error(p$4(309));var vt=_e.stateNode}if(!vt)throw Error(p$4(147,ht));var xt=vt,bt=""+ht;return $!==null&&$.ref!==null&&typeof $.ref=="function"&&$.ref._stringRef===bt?$.ref:($=function(Et){var At=xt.refs;Et===null?delete At[bt]:At[bt]=Et},$._stringRef=bt,$)}if(typeof ht!="string")throw Error(p$4(284));if(!_e._owner)throw Error(p$4(290,ht))}return ht}function Mg(ht,$){throw ht=Object.prototype.toString.call($),Error(p$4(31,ht==="[object Object]"?"object with keys {"+Object.keys($).join(", ")+"}":ht))}function Ng(ht){var $=ht._init;return $(ht._payload)}function Og(ht){function $(Ft,Dt){if(ht){var Nt=Ft.deletions;Nt===null?(Ft.deletions=[Dt],Ft.flags|=16):Nt.push(Dt)}}function _e(Ft,Dt){if(!ht)return null;for(;Dt!==null;)$(Ft,Dt),Dt=Dt.sibling;return null}function vt(Ft,Dt){for(Ft=new Map;Dt!==null;)Dt.key!==null?Ft.set(Dt.key,Dt):Ft.set(Dt.index,Dt),Dt=Dt.sibling;return Ft}function xt(Ft,Dt){return Ft=Pg(Ft,Dt),Ft.index=0,Ft.sibling=null,Ft}function bt(Ft,Dt,Nt){return Ft.index=Nt,ht?(Nt=Ft.alternate,Nt!==null?(Nt=Nt.index,Nt<Dt?(Ft.flags|=2,Dt):Nt):(Ft.flags|=2,Dt)):(Ft.flags|=1048576,Dt)}function Et(Ft){return ht&&Ft.alternate===null&&(Ft.flags|=2),Ft}function At(Ft,Dt,Nt,Ht){return Dt===null||Dt.tag!==6?(Dt=Qg(Nt,Ft.mode,Ht),Dt.return=Ft,Dt):(Dt=xt(Dt,Nt),Dt.return=Ft,Dt)}function _t(Ft,Dt,Nt,Ht){var Ot=Nt.type;return Ot===ya?St(Ft,Dt,Nt.props.children,Ht,Nt.key):Dt!==null&&(Dt.elementType===Ot||typeof Ot=="object"&&Ot!==null&&Ot.$$typeof===Ha&&Ng(Ot)===Dt.type)?(Ht=xt(Dt,Nt.props),Ht.ref=Lg(Ft,Dt,Nt),Ht.return=Ft,Ht):(Ht=Rg(Nt.type,Nt.key,Nt.props,null,Ft.mode,Ht),Ht.ref=Lg(Ft,Dt,Nt),Ht.return=Ft,Ht)}function Ct(Ft,Dt,Nt,Ht){return Dt===null||Dt.tag!==4||Dt.stateNode.containerInfo!==Nt.containerInfo||Dt.stateNode.implementation!==Nt.implementation?(Dt=Sg(Nt,Ft.mode,Ht),Dt.return=Ft,Dt):(Dt=xt(Dt,Nt.children||[]),Dt.return=Ft,Dt)}function St(Ft,Dt,Nt,Ht,Ot){return Dt===null||Dt.tag!==7?(Dt=Tg(Nt,Ft.mode,Ht,Ot),Dt.return=Ft,Dt):(Dt=xt(Dt,Nt),Dt.return=Ft,Dt)}function Rt(Ft,Dt,Nt){if(typeof Dt=="string"&&Dt!==""||typeof Dt=="number")return Dt=Qg(""+Dt,Ft.mode,Nt),Dt.return=Ft,Dt;if(typeof Dt=="object"&&Dt!==null){switch(Dt.$$typeof){case va:return Nt=Rg(Dt.type,Dt.key,Dt.props,null,Ft.mode,Nt),Nt.ref=Lg(Ft,null,Dt),Nt.return=Ft,Nt;case wa:return Dt=Sg(Dt,Ft.mode,Nt),Dt.return=Ft,Dt;case Ha:var Ht=Dt._init;return Rt(Ft,Ht(Dt._payload),Nt)}if(eb(Dt)||Ka(Dt))return Dt=Tg(Dt,Ft.mode,Nt,null),Dt.return=Ft,Dt;Mg(Ft,Dt)}return null}function Pt(Ft,Dt,Nt,Ht){var Ot=Dt!==null?Dt.key:null;if(typeof Nt=="string"&&Nt!==""||typeof Nt=="number")return Ot!==null?null:At(Ft,Dt,""+Nt,Ht);if(typeof Nt=="object"&&Nt!==null){switch(Nt.$$typeof){case va:return Nt.key===Ot?_t(Ft,Dt,Nt,Ht):null;case wa:return Nt.key===Ot?Ct(Ft,Dt,Nt,Ht):null;case Ha:return Ot=Nt._init,Pt(Ft,Dt,Ot(Nt._payload),Ht)}if(eb(Nt)||Ka(Nt))return Ot!==null?null:St(Ft,Dt,Nt,Ht,null);Mg(Ft,Nt)}return null}function kt(Ft,Dt,Nt,Ht,Ot){if(typeof Ht=="string"&&Ht!==""||typeof Ht=="number")return Ft=Ft.get(Nt)||null,At(Dt,Ft,""+Ht,Ot);if(typeof Ht=="object"&&Ht!==null){switch(Ht.$$typeof){case va:return Ft=Ft.get(Ht.key===null?Nt:Ht.key)||null,_t(Dt,Ft,Ht,Ot);case wa:return Ft=Ft.get(Ht.key===null?Nt:Ht.key)||null,Ct(Dt,Ft,Ht,Ot);case Ha:var Bt=Ht._init;return kt(Ft,Dt,Nt,Bt(Ht._payload),Ot)}if(eb(Ht)||Ka(Ht))return Ft=Ft.get(Nt)||null,St(Dt,Ft,Ht,Ot,null);Mg(Dt,Ht)}return null}function Mt(Ft,Dt,Nt,Ht){for(var Ot=null,Bt=null,jt=Dt,zt=Dt=0,Kt=null;jt!==null&&zt<Nt.length;zt++){jt.index>zt?(Kt=jt,jt=null):Kt=jt.sibling;var nn=Pt(Ft,jt,Nt[zt],Ht);if(nn===null){jt===null&&(jt=Kt);break}ht&&jt&&nn.alternate===null&&$(Ft,jt),Dt=bt(nn,Dt,zt),Bt===null?Ot=nn:Bt.sibling=nn,Bt=nn,jt=Kt}if(zt===Nt.length)return _e(Ft,jt),I$4&&tg(Ft,zt),Ot;if(jt===null){for(;zt<Nt.length;zt++)jt=Rt(Ft,Nt[zt],Ht),jt!==null&&(Dt=bt(jt,Dt,zt),Bt===null?Ot=jt:Bt.sibling=jt,Bt=jt);return I$4&&tg(Ft,zt),Ot}for(jt=vt(Ft,jt);zt<Nt.length;zt++)Kt=kt(jt,Ft,zt,Nt[zt],Ht),Kt!==null&&(ht&&Kt.alternate!==null&&jt.delete(Kt.key===null?zt:Kt.key),Dt=bt(Kt,Dt,zt),Bt===null?Ot=Kt:Bt.sibling=Kt,Bt=Kt);return ht&&jt.forEach(function(Xt){return $(Ft,Xt)}),I$4&&tg(Ft,zt),Ot}function Lt(Ft,Dt,Nt,Ht){var Ot=Ka(Nt);if(typeof Ot!="function")throw Error(p$4(150));if(Nt=Ot.call(Nt),Nt==null)throw Error(p$4(151));for(var Bt=Ot=null,jt=Dt,zt=Dt=0,Kt=null,nn=Nt.next();jt!==null&&!nn.done;zt++,nn=Nt.next()){jt.index>zt?(Kt=jt,jt=null):Kt=jt.sibling;var Xt=Pt(Ft,jt,nn.value,Ht);if(Xt===null){jt===null&&(jt=Kt);break}ht&&jt&&Xt.alternate===null&&$(Ft,jt),Dt=bt(Xt,Dt,zt),Bt===null?Ot=Xt:Bt.sibling=Xt,Bt=Xt,jt=Kt}if(nn.done)return _e(Ft,jt),I$4&&tg(Ft,zt),Ot;if(jt===null){for(;!nn.done;zt++,nn=Nt.next())nn=Rt(Ft,nn.value,Ht),nn!==null&&(Dt=bt(nn,Dt,zt),Bt===null?Ot=nn:Bt.sibling=nn,Bt=nn);return I$4&&tg(Ft,zt),Ot}for(jt=vt(Ft,jt);!nn.done;zt++,nn=Nt.next())nn=kt(jt,Ft,zt,nn.value,Ht),nn!==null&&(ht&&nn.alternate!==null&&jt.delete(nn.key===null?zt:nn.key),Dt=bt(nn,Dt,zt),Bt===null?Ot=nn:Bt.sibling=nn,Bt=nn);return ht&&jt.forEach(function(en){return $(Ft,en)}),I$4&&tg(Ft,zt),Ot}function $t(Ft,Dt,Nt,Ht){if(typeof Nt=="object"&&Nt!==null&&Nt.type===ya&&Nt.key===null&&(Nt=Nt.props.children),typeof Nt=="object"&&Nt!==null){switch(Nt.$$typeof){case va:e:{for(var Ot=Nt.key,Bt=Dt;Bt!==null;){if(Bt.key===Ot){if(Ot=Nt.type,Ot===ya){if(Bt.tag===7){_e(Ft,Bt.sibling),Dt=xt(Bt,Nt.props.children),Dt.return=Ft,Ft=Dt;break e}}else if(Bt.elementType===Ot||typeof Ot=="object"&&Ot!==null&&Ot.$$typeof===Ha&&Ng(Ot)===Bt.type){_e(Ft,Bt.sibling),Dt=xt(Bt,Nt.props),Dt.ref=Lg(Ft,Bt,Nt),Dt.return=Ft,Ft=Dt;break e}_e(Ft,Bt);break}else $(Ft,Bt);Bt=Bt.sibling}Nt.type===ya?(Dt=Tg(Nt.props.children,Ft.mode,Ht,Nt.key),Dt.return=Ft,Ft=Dt):(Ht=Rg(Nt.type,Nt.key,Nt.props,null,Ft.mode,Ht),Ht.ref=Lg(Ft,Dt,Nt),Ht.return=Ft,Ft=Ht)}return Et(Ft);case wa:e:{for(Bt=Nt.key;Dt!==null;){if(Dt.key===Bt)if(Dt.tag===4&&Dt.stateNode.containerInfo===Nt.containerInfo&&Dt.stateNode.implementation===Nt.implementation){_e(Ft,Dt.sibling),Dt=xt(Dt,Nt.children||[]),Dt.return=Ft,Ft=Dt;break e}else{_e(Ft,Dt);break}else $(Ft,Dt);Dt=Dt.sibling}Dt=Sg(Nt,Ft.mode,Ht),Dt.return=Ft,Ft=Dt}return Et(Ft);case Ha:return Bt=Nt._init,$t(Ft,Dt,Bt(Nt._payload),Ht)}if(eb(Nt))return Mt(Ft,Dt,Nt,Ht);if(Ka(Nt))return Lt(Ft,Dt,Nt,Ht);Mg(Ft,Nt)}return typeof Nt=="string"&&Nt!==""||typeof Nt=="number"?(Nt=""+Nt,Dt!==null&&Dt.tag===6?(_e(Ft,Dt.sibling),Dt=xt(Dt,Nt),Dt.return=Ft,Ft=Dt):(_e(Ft,Dt),Dt=Qg(Nt,Ft.mode,Ht),Dt.return=Ft,Ft=Dt),Et(Ft)):_e(Ft,Dt)}return $t}var Ug=Og(!0),Vg=Og(!1),Wg=Uf(null),Xg=null,Yg=null,Zg=null;function $g(){Zg=Yg=Xg=null}function ah(ht){var $=Wg.current;E$1(Wg),ht._currentValue=$}function bh(ht,$,_e){for(;ht!==null;){var vt=ht.alternate;if((ht.childLanes&$)!==$?(ht.childLanes|=$,vt!==null&&(vt.childLanes|=$)):vt!==null&&(vt.childLanes&$)!==$&&(vt.childLanes|=$),ht===_e)break;ht=ht.return}}function ch(ht,$){Xg=ht,Zg=Yg=null,ht=ht.dependencies,ht!==null&&ht.firstContext!==null&&(ht.lanes&$&&(dh=!0),ht.firstContext=null)}function eh(ht){var $=ht._currentValue;if(Zg!==ht)if(ht={context:ht,memoizedValue:$,next:null},Yg===null){if(Xg===null)throw Error(p$4(308));Yg=ht,Xg.dependencies={lanes:0,firstContext:ht}}else Yg=Yg.next=ht;return $}var fh=null;function gh(ht){fh===null?fh=[ht]:fh.push(ht)}function hh(ht,$,_e,vt){var xt=$.interleaved;return xt===null?(_e.next=_e,gh($)):(_e.next=xt.next,xt.next=_e),$.interleaved=_e,ih(ht,vt)}function ih(ht,$){ht.lanes|=$;var _e=ht.alternate;for(_e!==null&&(_e.lanes|=$),_e=ht,ht=ht.return;ht!==null;)ht.childLanes|=$,_e=ht.alternate,_e!==null&&(_e.childLanes|=$),_e=ht,ht=ht.return;return _e.tag===3?_e.stateNode:null}var jh=!1;function kh(ht){ht.updateQueue={baseState:ht.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function lh(ht,$){ht=ht.updateQueue,$.updateQueue===ht&&($.updateQueue={baseState:ht.baseState,firstBaseUpdate:ht.firstBaseUpdate,lastBaseUpdate:ht.lastBaseUpdate,shared:ht.shared,effects:ht.effects})}function mh(ht,$){return{eventTime:ht,lane:$,tag:0,payload:null,callback:null,next:null}}function nh(ht,$,_e){var vt=ht.updateQueue;if(vt===null)return null;if(vt=vt.shared,K&2){var xt=vt.pending;return xt===null?$.next=$:($.next=xt.next,xt.next=$),vt.pending=$,ih(ht,_e)}return xt=vt.interleaved,xt===null?($.next=$,gh(vt)):($.next=xt.next,xt.next=$),vt.interleaved=$,ih(ht,_e)}function oh(ht,$,_e){if($=$.updateQueue,$!==null&&($=$.shared,(_e&4194240)!==0)){var vt=$.lanes;vt&=ht.pendingLanes,_e|=vt,$.lanes=_e,Cc(ht,_e)}}function ph(ht,$){var _e=ht.updateQueue,vt=ht.alternate;if(vt!==null&&(vt=vt.updateQueue,_e===vt)){var xt=null,bt=null;if(_e=_e.firstBaseUpdate,_e!==null){do{var Et={eventTime:_e.eventTime,lane:_e.lane,tag:_e.tag,payload:_e.payload,callback:_e.callback,next:null};bt===null?xt=bt=Et:bt=bt.next=Et,_e=_e.next}while(_e!==null);bt===null?xt=bt=$:bt=bt.next=$}else xt=bt=$;_e={baseState:vt.baseState,firstBaseUpdate:xt,lastBaseUpdate:bt,shared:vt.shared,effects:vt.effects},ht.updateQueue=_e;return}ht=_e.lastBaseUpdate,ht===null?_e.firstBaseUpdate=$:ht.next=$,_e.lastBaseUpdate=$}function qh(ht,$,_e,vt){var xt=ht.updateQueue;jh=!1;var bt=xt.firstBaseUpdate,Et=xt.lastBaseUpdate,At=xt.shared.pending;if(At!==null){xt.shared.pending=null;var _t=At,Ct=_t.next;_t.next=null,Et===null?bt=Ct:Et.next=Ct,Et=_t;var St=ht.alternate;St!==null&&(St=St.updateQueue,At=St.lastBaseUpdate,At!==Et&&(At===null?St.firstBaseUpdate=Ct:At.next=Ct,St.lastBaseUpdate=_t))}if(bt!==null){var Rt=xt.baseState;Et=0,St=Ct=_t=null,At=bt;do{var Pt=At.lane,kt=At.eventTime;if((vt&Pt)===Pt){St!==null&&(St=St.next={eventTime:kt,lane:0,tag:At.tag,payload:At.payload,callback:At.callback,next:null});e:{var Mt=ht,Lt=At;switch(Pt=$,kt=_e,Lt.tag){case 1:if(Mt=Lt.payload,typeof Mt=="function"){Rt=Mt.call(kt,Rt,Pt);break e}Rt=Mt;break e;case 3:Mt.flags=Mt.flags&-65537|128;case 0:if(Mt=Lt.payload,Pt=typeof Mt=="function"?Mt.call(kt,Rt,Pt):Mt,Pt==null)break e;Rt=A$3({},Rt,Pt);break e;case 2:jh=!0}}At.callback!==null&&At.lane!==0&&(ht.flags|=64,Pt=xt.effects,Pt===null?xt.effects=[At]:Pt.push(At))}else kt={eventTime:kt,lane:Pt,tag:At.tag,payload:At.payload,callback:At.callback,next:null},St===null?(Ct=St=kt,_t=Rt):St=St.next=kt,Et|=Pt;if(At=At.next,At===null){if(At=xt.shared.pending,At===null)break;Pt=At,At=Pt.next,Pt.next=null,xt.lastBaseUpdate=Pt,xt.shared.pending=null}}while(!0);if(St===null&&(_t=Rt),xt.baseState=_t,xt.firstBaseUpdate=Ct,xt.lastBaseUpdate=St,$=xt.shared.interleaved,$!==null){xt=$;do Et|=xt.lane,xt=xt.next;while(xt!==$)}else bt===null&&(xt.shared.lanes=0);rh|=Et,ht.lanes=Et,ht.memoizedState=Rt}}function sh(ht,$,_e){if(ht=$.effects,$.effects=null,ht!==null)for($=0;$<ht.length;$++){var vt=ht[$],xt=vt.callback;if(xt!==null){if(vt.callback=null,vt=_e,typeof xt!="function")throw Error(p$4(191,xt));xt.call(vt)}}}var th={},uh=Uf(th),vh=Uf(th),wh=Uf(th);function xh(ht){if(ht===th)throw Error(p$4(174));return ht}function yh(ht,$){switch(G$2(wh,$),G$2(vh,ht),G$2(uh,th),ht=$.nodeType,ht){case 9:case 11:$=($=$.documentElement)?$.namespaceURI:lb(null,"");break;default:ht=ht===8?$.parentNode:$,$=ht.namespaceURI||null,ht=ht.tagName,$=lb($,ht)}E$1(uh),G$2(uh,$)}function zh(){E$1(uh),E$1(vh),E$1(wh)}function Ah(ht){xh(wh.current);var $=xh(uh.current),_e=lb($,ht.type);$!==_e&&(G$2(vh,ht),G$2(uh,_e))}function Bh(ht){vh.current===ht&&(E$1(uh),E$1(vh))}var L$1=Uf(0);function Ch(ht){for(var $=ht;$!==null;){if($.tag===13){var _e=$.memoizedState;if(_e!==null&&(_e=_e.dehydrated,_e===null||_e.data==="$?"||_e.data==="$!"))return $}else if($.tag===19&&$.memoizedProps.revealOrder!==void 0){if($.flags&128)return $}else if($.child!==null){$.child.return=$,$=$.child;continue}if($===ht)break;for(;$.sibling===null;){if($.return===null||$.return===ht)return null;$=$.return}$.sibling.return=$.return,$=$.sibling}return null}var Dh=[];function Eh(){for(var ht=0;ht<Dh.length;ht++)Dh[ht]._workInProgressVersionPrimary=null;Dh.length=0}var Fh=ua.ReactCurrentDispatcher,Gh=ua.ReactCurrentBatchConfig,Hh=0,M$3=null,N$3=null,O$2=null,Ih=!1,Jh=!1,Kh=0,Lh=0;function P$3(){throw Error(p$4(321))}function Mh(ht,$){if($===null)return!1;for(var _e=0;_e<$.length&&_e<ht.length;_e++)if(!He(ht[_e],$[_e]))return!1;return!0}function Nh(ht,$,_e,vt,xt,bt){if(Hh=bt,M$3=$,$.memoizedState=null,$.updateQueue=null,$.lanes=0,Fh.current=ht===null||ht.memoizedState===null?Oh:Ph,ht=_e(vt,xt),Jh){bt=0;do{if(Jh=!1,Kh=0,25<=bt)throw Error(p$4(301));bt+=1,O$2=N$3=null,$.updateQueue=null,Fh.current=Qh,ht=_e(vt,xt)}while(Jh)}if(Fh.current=Rh,$=N$3!==null&&N$3.next!==null,Hh=0,O$2=N$3=M$3=null,Ih=!1,$)throw Error(p$4(300));return ht}function Sh(){var ht=Kh!==0;return Kh=0,ht}function Th(){var ht={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return O$2===null?M$3.memoizedState=O$2=ht:O$2=O$2.next=ht,O$2}function Uh(){if(N$3===null){var ht=M$3.alternate;ht=ht!==null?ht.memoizedState:null}else ht=N$3.next;var $=O$2===null?M$3.memoizedState:O$2.next;if($!==null)O$2=$,N$3=ht;else{if(ht===null)throw Error(p$4(310));N$3=ht,ht={memoizedState:N$3.memoizedState,baseState:N$3.baseState,baseQueue:N$3.baseQueue,queue:N$3.queue,next:null},O$2===null?M$3.memoizedState=O$2=ht:O$2=O$2.next=ht}return O$2}function Vh(ht,$){return typeof $=="function"?$(ht):$}function Wh(ht){var $=Uh(),_e=$.queue;if(_e===null)throw Error(p$4(311));_e.lastRenderedReducer=ht;var vt=N$3,xt=vt.baseQueue,bt=_e.pending;if(bt!==null){if(xt!==null){var Et=xt.next;xt.next=bt.next,bt.next=Et}vt.baseQueue=xt=bt,_e.pending=null}if(xt!==null){bt=xt.next,vt=vt.baseState;var At=Et=null,_t=null,Ct=bt;do{var St=Ct.lane;if((Hh&St)===St)_t!==null&&(_t=_t.next={lane:0,action:Ct.action,hasEagerState:Ct.hasEagerState,eagerState:Ct.eagerState,next:null}),vt=Ct.hasEagerState?Ct.eagerState:ht(vt,Ct.action);else{var Rt={lane:St,action:Ct.action,hasEagerState:Ct.hasEagerState,eagerState:Ct.eagerState,next:null};_t===null?(At=_t=Rt,Et=vt):_t=_t.next=Rt,M$3.lanes|=St,rh|=St}Ct=Ct.next}while(Ct!==null&&Ct!==bt);_t===null?Et=vt:_t.next=At,He(vt,$.memoizedState)||(dh=!0),$.memoizedState=vt,$.baseState=Et,$.baseQueue=_t,_e.lastRenderedState=vt}if(ht=_e.interleaved,ht!==null){xt=ht;do bt=xt.lane,M$3.lanes|=bt,rh|=bt,xt=xt.next;while(xt!==ht)}else xt===null&&(_e.lanes=0);return[$.memoizedState,_e.dispatch]}function Xh(ht){var $=Uh(),_e=$.queue;if(_e===null)throw Error(p$4(311));_e.lastRenderedReducer=ht;var vt=_e.dispatch,xt=_e.pending,bt=$.memoizedState;if(xt!==null){_e.pending=null;var Et=xt=xt.next;do bt=ht(bt,Et.action),Et=Et.next;while(Et!==xt);He(bt,$.memoizedState)||(dh=!0),$.memoizedState=bt,$.baseQueue===null&&($.baseState=bt),_e.lastRenderedState=bt}return[bt,vt]}function Yh(){}function Zh(ht,$){var _e=M$3,vt=Uh(),xt=$(),bt=!He(vt.memoizedState,xt);if(bt&&(vt.memoizedState=xt,dh=!0),vt=vt.queue,$h(ai.bind(null,_e,vt,ht),[ht]),vt.getSnapshot!==$||bt||O$2!==null&&O$2.memoizedState.tag&1){if(_e.flags|=2048,bi(9,ci.bind(null,_e,vt,xt,$),void 0,null),Q===null)throw Error(p$4(349));Hh&30||di(_e,$,xt)}return xt}function di(ht,$,_e){ht.flags|=16384,ht={getSnapshot:$,value:_e},$=M$3.updateQueue,$===null?($={lastEffect:null,stores:null},M$3.updateQueue=$,$.stores=[ht]):(_e=$.stores,_e===null?$.stores=[ht]:_e.push(ht))}function ci(ht,$,_e,vt){$.value=_e,$.getSnapshot=vt,ei($)&&fi(ht)}function ai(ht,$,_e){return _e(function(){ei($)&&fi(ht)})}function ei(ht){var $=ht.getSnapshot;ht=ht.value;try{var _e=$();return!He(ht,_e)}catch{return!0}}function fi(ht){var $=ih(ht,1);$!==null&&gi($,ht,1,-1)}function hi(ht){var $=Th();return typeof ht=="function"&&(ht=ht()),$.memoizedState=$.baseState=ht,ht={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Vh,lastRenderedState:ht},$.queue=ht,ht=ht.dispatch=ii.bind(null,M$3,ht),[$.memoizedState,ht]}function bi(ht,$,_e,vt){return ht={tag:ht,create:$,destroy:_e,deps:vt,next:null},$=M$3.updateQueue,$===null?($={lastEffect:null,stores:null},M$3.updateQueue=$,$.lastEffect=ht.next=ht):(_e=$.lastEffect,_e===null?$.lastEffect=ht.next=ht:(vt=_e.next,_e.next=ht,ht.next=vt,$.lastEffect=ht)),ht}function ji(){return Uh().memoizedState}function ki(ht,$,_e,vt){var xt=Th();M$3.flags|=ht,xt.memoizedState=bi(1|$,_e,void 0,vt===void 0?null:vt)}function li(ht,$,_e,vt){var xt=Uh();vt=vt===void 0?null:vt;var bt=void 0;if(N$3!==null){var Et=N$3.memoizedState;if(bt=Et.destroy,vt!==null&&Mh(vt,Et.deps)){xt.memoizedState=bi($,_e,bt,vt);return}}M$3.flags|=ht,xt.memoizedState=bi(1|$,_e,bt,vt)}function mi(ht,$){return ki(8390656,8,ht,$)}function $h(ht,$){return li(2048,8,ht,$)}function ni(ht,$){return li(4,2,ht,$)}function oi(ht,$){return li(4,4,ht,$)}function pi(ht,$){if(typeof $=="function")return ht=ht(),$(ht),function(){$(null)};if($!=null)return ht=ht(),$.current=ht,function(){$.current=null}}function qi(ht,$,_e){return _e=_e!=null?_e.concat([ht]):null,li(4,4,pi.bind(null,$,ht),_e)}function ri(){}function si(ht,$){var _e=Uh();$=$===void 0?null:$;var vt=_e.memoizedState;return vt!==null&&$!==null&&Mh($,vt[1])?vt[0]:(_e.memoizedState=[ht,$],ht)}function ti(ht,$){var _e=Uh();$=$===void 0?null:$;var vt=_e.memoizedState;return vt!==null&&$!==null&&Mh($,vt[1])?vt[0]:(ht=ht(),_e.memoizedState=[ht,$],ht)}function ui(ht,$,_e){return Hh&21?(He(_e,$)||(_e=yc(),M$3.lanes|=_e,rh|=_e,ht.baseState=!0),$):(ht.baseState&&(ht.baseState=!1,dh=!0),ht.memoizedState=_e)}function vi(ht,$){var _e=C$1;C$1=_e!==0&&4>_e?_e:4,ht(!0);var vt=Gh.transition;Gh.transition={};try{ht(!1),$()}finally{C$1=_e,Gh.transition=vt}}function wi(){return Uh().memoizedState}function xi(ht,$,_e){var vt=yi(ht);if(_e={lane:vt,action:_e,hasEagerState:!1,eagerState:null,next:null},zi(ht))Ai($,_e);else if(_e=hh(ht,$,_e,vt),_e!==null){var xt=R$1();gi(_e,ht,vt,xt),Bi(_e,$,vt)}}function ii(ht,$,_e){var vt=yi(ht),xt={lane:vt,action:_e,hasEagerState:!1,eagerState:null,next:null};if(zi(ht))Ai($,xt);else{var bt=ht.alternate;if(ht.lanes===0&&(bt===null||bt.lanes===0)&&(bt=$.lastRenderedReducer,bt!==null))try{var Et=$.lastRenderedState,At=bt(Et,_e);if(xt.hasEagerState=!0,xt.eagerState=At,He(At,Et)){var _t=$.interleaved;_t===null?(xt.next=xt,gh($)):(xt.next=_t.next,_t.next=xt),$.interleaved=xt;return}}catch{}finally{}_e=hh(ht,$,xt,vt),_e!==null&&(xt=R$1(),gi(_e,ht,vt,xt),Bi(_e,$,vt))}}function zi(ht){var $=ht.alternate;return ht===M$3||$!==null&&$===M$3}function Ai(ht,$){Jh=Ih=!0;var _e=ht.pending;_e===null?$.next=$:($.next=_e.next,_e.next=$),ht.pending=$}function Bi(ht,$,_e){if(_e&4194240){var vt=$.lanes;vt&=ht.pendingLanes,_e|=vt,$.lanes=_e,Cc(ht,_e)}}var Rh={readContext:eh,useCallback:P$3,useContext:P$3,useEffect:P$3,useImperativeHandle:P$3,useInsertionEffect:P$3,useLayoutEffect:P$3,useMemo:P$3,useReducer:P$3,useRef:P$3,useState:P$3,useDebugValue:P$3,useDeferredValue:P$3,useTransition:P$3,useMutableSource:P$3,useSyncExternalStore:P$3,useId:P$3,unstable_isNewReconciler:!1},Oh={readContext:eh,useCallback:function(ht,$){return Th().memoizedState=[ht,$===void 0?null:$],ht},useContext:eh,useEffect:mi,useImperativeHandle:function(ht,$,_e){return _e=_e!=null?_e.concat([ht]):null,ki(4194308,4,pi.bind(null,$,ht),_e)},useLayoutEffect:function(ht,$){return ki(4194308,4,ht,$)},useInsertionEffect:function(ht,$){return ki(4,2,ht,$)},useMemo:function(ht,$){var _e=Th();return $=$===void 0?null:$,ht=ht(),_e.memoizedState=[ht,$],ht},useReducer:function(ht,$,_e){var vt=Th();return $=_e!==void 0?_e($):$,vt.memoizedState=vt.baseState=$,ht={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ht,lastRenderedState:$},vt.queue=ht,ht=ht.dispatch=xi.bind(null,M$3,ht),[vt.memoizedState,ht]},useRef:function(ht){var $=Th();return ht={current:ht},$.memoizedState=ht},useState:hi,useDebugValue:ri,useDeferredValue:function(ht){return Th().memoizedState=ht},useTransition:function(){var ht=hi(!1),$=ht[0];return ht=vi.bind(null,ht[1]),Th().memoizedState=ht,[$,ht]},useMutableSource:function(){},useSyncExternalStore:function(ht,$,_e){var vt=M$3,xt=Th();if(I$4){if(_e===void 0)throw Error(p$4(407));_e=_e()}else{if(_e=$(),Q===null)throw Error(p$4(349));Hh&30||di(vt,$,_e)}xt.memoizedState=_e;var bt={value:_e,getSnapshot:$};return xt.queue=bt,mi(ai.bind(null,vt,bt,ht),[ht]),vt.flags|=2048,bi(9,ci.bind(null,vt,bt,_e,$),void 0,null),_e},useId:function(){var ht=Th(),$=Q.identifierPrefix;if(I$4){var _e=sg,vt=rg;_e=(vt&~(1<<32-oc(vt)-1)).toString(32)+_e,$=":"+$+"R"+_e,_e=Kh++,0<_e&&($+="H"+_e.toString(32)),$+=":"}else _e=Lh++,$=":"+$+"r"+_e.toString(32)+":";return ht.memoizedState=$},unstable_isNewReconciler:!1},Ph={readContext:eh,useCallback:si,useContext:eh,useEffect:$h,useImperativeHandle:qi,useInsertionEffect:ni,useLayoutEffect:oi,useMemo:ti,useReducer:Wh,useRef:ji,useState:function(){return Wh(Vh)},useDebugValue:ri,useDeferredValue:function(ht){var $=Uh();return ui($,N$3.memoizedState,ht)},useTransition:function(){var ht=Wh(Vh)[0],$=Uh().memoizedState;return[ht,$]},useMutableSource:Yh,useSyncExternalStore:Zh,useId:wi,unstable_isNewReconciler:!1},Qh={readContext:eh,useCallback:si,useContext:eh,useEffect:$h,useImperativeHandle:qi,useInsertionEffect:ni,useLayoutEffect:oi,useMemo:ti,useReducer:Xh,useRef:ji,useState:function(){return Xh(Vh)},useDebugValue:ri,useDeferredValue:function(ht){var $=Uh();return N$3===null?$.memoizedState=ht:ui($,N$3.memoizedState,ht)},useTransition:function(){var ht=Xh(Vh)[0],$=Uh().memoizedState;return[ht,$]},useMutableSource:Yh,useSyncExternalStore:Zh,useId:wi,unstable_isNewReconciler:!1};function Ci(ht,$){if(ht&&ht.defaultProps){$=A$3({},$),ht=ht.defaultProps;for(var _e in ht)$[_e]===void 0&&($[_e]=ht[_e]);return $}return $}function Di(ht,$,_e,vt){$=ht.memoizedState,_e=_e(vt,$),_e=_e==null?$:A$3({},$,_e),ht.memoizedState=_e,ht.lanes===0&&(ht.updateQueue.baseState=_e)}var Ei={isMounted:function(ht){return(ht=ht._reactInternals)?Vb(ht)===ht:!1},enqueueSetState:function(ht,$,_e){ht=ht._reactInternals;var vt=R$1(),xt=yi(ht),bt=mh(vt,xt);bt.payload=$,_e!=null&&(bt.callback=_e),$=nh(ht,bt,xt),$!==null&&(gi($,ht,xt,vt),oh($,ht,xt))},enqueueReplaceState:function(ht,$,_e){ht=ht._reactInternals;var vt=R$1(),xt=yi(ht),bt=mh(vt,xt);bt.tag=1,bt.payload=$,_e!=null&&(bt.callback=_e),$=nh(ht,bt,xt),$!==null&&(gi($,ht,xt,vt),oh($,ht,xt))},enqueueForceUpdate:function(ht,$){ht=ht._reactInternals;var _e=R$1(),vt=yi(ht),xt=mh(_e,vt);xt.tag=2,$!=null&&(xt.callback=$),$=nh(ht,xt,vt),$!==null&&(gi($,ht,vt,_e),oh($,ht,vt))}};function Fi(ht,$,_e,vt,xt,bt,Et){return ht=ht.stateNode,typeof ht.shouldComponentUpdate=="function"?ht.shouldComponentUpdate(vt,bt,Et):$.prototype&&$.prototype.isPureReactComponent?!Ie(_e,vt)||!Ie(xt,bt):!0}function Gi(ht,$,_e){var vt=!1,xt=Vf,bt=$.contextType;return typeof bt=="object"&&bt!==null?bt=eh(bt):(xt=Zf($)?Xf:H$2.current,vt=$.contextTypes,bt=(vt=vt!=null)?Yf(ht,xt):Vf),$=new $(_e,bt),ht.memoizedState=$.state!==null&&$.state!==void 0?$.state:null,$.updater=Ei,ht.stateNode=$,$._reactInternals=ht,vt&&(ht=ht.stateNode,ht.__reactInternalMemoizedUnmaskedChildContext=xt,ht.__reactInternalMemoizedMaskedChildContext=bt),$}function Hi(ht,$,_e,vt){ht=$.state,typeof $.componentWillReceiveProps=="function"&&$.componentWillReceiveProps(_e,vt),typeof $.UNSAFE_componentWillReceiveProps=="function"&&$.UNSAFE_componentWillReceiveProps(_e,vt),$.state!==ht&&Ei.enqueueReplaceState($,$.state,null)}function Ii(ht,$,_e,vt){var xt=ht.stateNode;xt.props=_e,xt.state=ht.memoizedState,xt.refs={},kh(ht);var bt=$.contextType;typeof bt=="object"&&bt!==null?xt.context=eh(bt):(bt=Zf($)?Xf:H$2.current,xt.context=Yf(ht,bt)),xt.state=ht.memoizedState,bt=$.getDerivedStateFromProps,typeof bt=="function"&&(Di(ht,$,bt,_e),xt.state=ht.memoizedState),typeof $.getDerivedStateFromProps=="function"||typeof xt.getSnapshotBeforeUpdate=="function"||typeof xt.UNSAFE_componentWillMount!="function"&&typeof xt.componentWillMount!="function"||($=xt.state,typeof xt.componentWillMount=="function"&&xt.componentWillMount(),typeof xt.UNSAFE_componentWillMount=="function"&&xt.UNSAFE_componentWillMount(),$!==xt.state&&Ei.enqueueReplaceState(xt,xt.state,null),qh(ht,_e,xt,vt),xt.state=ht.memoizedState),typeof xt.componentDidMount=="function"&&(ht.flags|=4194308)}function Ji(ht,$){try{var _e="",vt=$;do _e+=Pa(vt),vt=vt.return;while(vt);var xt=_e}catch(bt){xt=`
Error generating stack: `+bt.message+`
`+bt.stack}return{value:ht,source:$,stack:xt,digest:null}}function Ki(ht,$,_e){return{value:ht,source:null,stack:_e??null,digest:$??null}}function Li(ht,$){try{console.error($.value)}catch(_e){setTimeout(function(){throw _e})}}var Mi=typeof WeakMap=="function"?WeakMap:Map;function Ni(ht,$,_e){_e=mh(-1,_e),_e.tag=3,_e.payload={element:null};var vt=$.value;return _e.callback=function(){Oi||(Oi=!0,Pi=vt),Li(ht,$)},_e}function Qi(ht,$,_e){_e=mh(-1,_e),_e.tag=3;var vt=ht.type.getDerivedStateFromError;if(typeof vt=="function"){var xt=$.value;_e.payload=function(){return vt(xt)},_e.callback=function(){Li(ht,$)}}var bt=ht.stateNode;return bt!==null&&typeof bt.componentDidCatch=="function"&&(_e.callback=function(){Li(ht,$),typeof vt!="function"&&(Ri===null?Ri=new Set([this]):Ri.add(this));var Et=$.stack;this.componentDidCatch($.value,{componentStack:Et!==null?Et:""})}),_e}function Si(ht,$,_e){var vt=ht.pingCache;if(vt===null){vt=ht.pingCache=new Mi;var xt=new Set;vt.set($,xt)}else xt=vt.get($),xt===void 0&&(xt=new Set,vt.set($,xt));xt.has(_e)||(xt.add(_e),ht=Ti.bind(null,ht,$,_e),$.then(ht,ht))}function Ui(ht){do{var $;if(($=ht.tag===13)&&($=ht.memoizedState,$=$!==null?$.dehydrated!==null:!0),$)return ht;ht=ht.return}while(ht!==null);return null}function Vi(ht,$,_e,vt,xt){return ht.mode&1?(ht.flags|=65536,ht.lanes=xt,ht):(ht===$?ht.flags|=65536:(ht.flags|=128,_e.flags|=131072,_e.flags&=-52805,_e.tag===1&&(_e.alternate===null?_e.tag=17:($=mh(-1,1),$.tag=2,nh(_e,$,1))),_e.lanes|=1),ht)}var Wi=ua.ReactCurrentOwner,dh=!1;function Xi(ht,$,_e,vt){$.child=ht===null?Vg($,null,_e,vt):Ug($,ht.child,_e,vt)}function Yi(ht,$,_e,vt,xt){_e=_e.render;var bt=$.ref;return ch($,xt),vt=Nh(ht,$,_e,vt,bt,xt),_e=Sh(),ht!==null&&!dh?($.updateQueue=ht.updateQueue,$.flags&=-2053,ht.lanes&=~xt,Zi(ht,$,xt)):(I$4&&_e&&vg($),$.flags|=1,Xi(ht,$,vt,xt),$.child)}function $i(ht,$,_e,vt,xt){if(ht===null){var bt=_e.type;return typeof bt=="function"&&!aj(bt)&&bt.defaultProps===void 0&&_e.compare===null&&_e.defaultProps===void 0?($.tag=15,$.type=bt,bj(ht,$,bt,vt,xt)):(ht=Rg(_e.type,null,vt,$,$.mode,xt),ht.ref=$.ref,ht.return=$,$.child=ht)}if(bt=ht.child,!(ht.lanes&xt)){var Et=bt.memoizedProps;if(_e=_e.compare,_e=_e!==null?_e:Ie,_e(Et,vt)&&ht.ref===$.ref)return Zi(ht,$,xt)}return $.flags|=1,ht=Pg(bt,vt),ht.ref=$.ref,ht.return=$,$.child=ht}function bj(ht,$,_e,vt,xt){if(ht!==null){var bt=ht.memoizedProps;if(Ie(bt,vt)&&ht.ref===$.ref)if(dh=!1,$.pendingProps=vt=bt,(ht.lanes&xt)!==0)ht.flags&131072&&(dh=!0);else return $.lanes=ht.lanes,Zi(ht,$,xt)}return cj(ht,$,_e,vt,xt)}function dj(ht,$,_e){var vt=$.pendingProps,xt=vt.children,bt=ht!==null?ht.memoizedState:null;if(vt.mode==="hidden")if(!($.mode&1))$.memoizedState={baseLanes:0,cachePool:null,transitions:null},G$2(ej,fj),fj|=_e;else{if(!(_e&1073741824))return ht=bt!==null?bt.baseLanes|_e:_e,$.lanes=$.childLanes=1073741824,$.memoizedState={baseLanes:ht,cachePool:null,transitions:null},$.updateQueue=null,G$2(ej,fj),fj|=ht,null;$.memoizedState={baseLanes:0,cachePool:null,transitions:null},vt=bt!==null?bt.baseLanes:_e,G$2(ej,fj),fj|=vt}else bt!==null?(vt=bt.baseLanes|_e,$.memoizedState=null):vt=_e,G$2(ej,fj),fj|=vt;return Xi(ht,$,xt,_e),$.child}function gj(ht,$){var _e=$.ref;(ht===null&&_e!==null||ht!==null&&ht.ref!==_e)&&($.flags|=512,$.flags|=2097152)}function cj(ht,$,_e,vt,xt){var bt=Zf(_e)?Xf:H$2.current;return bt=Yf($,bt),ch($,xt),_e=Nh(ht,$,_e,vt,bt,xt),vt=Sh(),ht!==null&&!dh?($.updateQueue=ht.updateQueue,$.flags&=-2053,ht.lanes&=~xt,Zi(ht,$,xt)):(I$4&&vt&&vg($),$.flags|=1,Xi(ht,$,_e,xt),$.child)}function hj(ht,$,_e,vt,xt){if(Zf(_e)){var bt=!0;cg($)}else bt=!1;if(ch($,xt),$.stateNode===null)ij(ht,$),Gi($,_e,vt),Ii($,_e,vt,xt),vt=!0;else if(ht===null){var Et=$.stateNode,At=$.memoizedProps;Et.props=At;var _t=Et.context,Ct=_e.contextType;typeof Ct=="object"&&Ct!==null?Ct=eh(Ct):(Ct=Zf(_e)?Xf:H$2.current,Ct=Yf($,Ct));var St=_e.getDerivedStateFromProps,Rt=typeof St=="function"||typeof Et.getSnapshotBeforeUpdate=="function";Rt||typeof Et.UNSAFE_componentWillReceiveProps!="function"&&typeof Et.componentWillReceiveProps!="function"||(At!==vt||_t!==Ct)&&Hi($,Et,vt,Ct),jh=!1;var Pt=$.memoizedState;Et.state=Pt,qh($,vt,Et,xt),_t=$.memoizedState,At!==vt||Pt!==_t||Wf.current||jh?(typeof St=="function"&&(Di($,_e,St,vt),_t=$.memoizedState),(At=jh||Fi($,_e,At,vt,Pt,_t,Ct))?(Rt||typeof Et.UNSAFE_componentWillMount!="function"&&typeof Et.componentWillMount!="function"||(typeof Et.componentWillMount=="function"&&Et.componentWillMount(),typeof Et.UNSAFE_componentWillMount=="function"&&Et.UNSAFE_componentWillMount()),typeof Et.componentDidMount=="function"&&($.flags|=4194308)):(typeof Et.componentDidMount=="function"&&($.flags|=4194308),$.memoizedProps=vt,$.memoizedState=_t),Et.props=vt,Et.state=_t,Et.context=Ct,vt=At):(typeof Et.componentDidMount=="function"&&($.flags|=4194308),vt=!1)}else{Et=$.stateNode,lh(ht,$),At=$.memoizedProps,Ct=$.type===$.elementType?At:Ci($.type,At),Et.props=Ct,Rt=$.pendingProps,Pt=Et.context,_t=_e.contextType,typeof _t=="object"&&_t!==null?_t=eh(_t):(_t=Zf(_e)?Xf:H$2.current,_t=Yf($,_t));var kt=_e.getDerivedStateFromProps;(St=typeof kt=="function"||typeof Et.getSnapshotBeforeUpdate=="function")||typeof Et.UNSAFE_componentWillReceiveProps!="function"&&typeof Et.componentWillReceiveProps!="function"||(At!==Rt||Pt!==_t)&&Hi($,Et,vt,_t),jh=!1,Pt=$.memoizedState,Et.state=Pt,qh($,vt,Et,xt);var Mt=$.memoizedState;At!==Rt||Pt!==Mt||Wf.current||jh?(typeof kt=="function"&&(Di($,_e,kt,vt),Mt=$.memoizedState),(Ct=jh||Fi($,_e,Ct,vt,Pt,Mt,_t)||!1)?(St||typeof Et.UNSAFE_componentWillUpdate!="function"&&typeof Et.componentWillUpdate!="function"||(typeof Et.componentWillUpdate=="function"&&Et.componentWillUpdate(vt,Mt,_t),typeof Et.UNSAFE_componentWillUpdate=="function"&&Et.UNSAFE_componentWillUpdate(vt,Mt,_t)),typeof Et.componentDidUpdate=="function"&&($.flags|=4),typeof Et.getSnapshotBeforeUpdate=="function"&&($.flags|=1024)):(typeof Et.componentDidUpdate!="function"||At===ht.memoizedProps&&Pt===ht.memoizedState||($.flags|=4),typeof Et.getSnapshotBeforeUpdate!="function"||At===ht.memoizedProps&&Pt===ht.memoizedState||($.flags|=1024),$.memoizedProps=vt,$.memoizedState=Mt),Et.props=vt,Et.state=Mt,Et.context=_t,vt=Ct):(typeof Et.componentDidUpdate!="function"||At===ht.memoizedProps&&Pt===ht.memoizedState||($.flags|=4),typeof Et.getSnapshotBeforeUpdate!="function"||At===ht.memoizedProps&&Pt===ht.memoizedState||($.flags|=1024),vt=!1)}return jj(ht,$,_e,vt,bt,xt)}function jj(ht,$,_e,vt,xt,bt){gj(ht,$);var Et=($.flags&128)!==0;if(!vt&&!Et)return xt&&dg($,_e,!1),Zi(ht,$,bt);vt=$.stateNode,Wi.current=$;var At=Et&&typeof _e.getDerivedStateFromError!="function"?null:vt.render();return $.flags|=1,ht!==null&&Et?($.child=Ug($,ht.child,null,bt),$.child=Ug($,null,At,bt)):Xi(ht,$,At,bt),$.memoizedState=vt.state,xt&&dg($,_e,!0),$.child}function kj(ht){var $=ht.stateNode;$.pendingContext?ag(ht,$.pendingContext,$.pendingContext!==$.context):$.context&&ag(ht,$.context,!1),yh(ht,$.containerInfo)}function lj(ht,$,_e,vt,xt){return Ig(),Jg(xt),$.flags|=256,Xi(ht,$,_e,vt),$.child}var mj={dehydrated:null,treeContext:null,retryLane:0};function nj(ht){return{baseLanes:ht,cachePool:null,transitions:null}}function oj(ht,$,_e){var vt=$.pendingProps,xt=L$1.current,bt=!1,Et=($.flags&128)!==0,At;if((At=Et)||(At=ht!==null&&ht.memoizedState===null?!1:(xt&2)!==0),At?(bt=!0,$.flags&=-129):(ht===null||ht.memoizedState!==null)&&(xt|=1),G$2(L$1,xt&1),ht===null)return Eg($),ht=$.memoizedState,ht!==null&&(ht=ht.dehydrated,ht!==null)?($.mode&1?ht.data==="$!"?$.lanes=8:$.lanes=1073741824:$.lanes=1,null):(Et=vt.children,ht=vt.fallback,bt?(vt=$.mode,bt=$.child,Et={mode:"hidden",children:Et},!(vt&1)&&bt!==null?(bt.childLanes=0,bt.pendingProps=Et):bt=pj(Et,vt,0,null),ht=Tg(ht,vt,_e,null),bt.return=$,ht.return=$,bt.sibling=ht,$.child=bt,$.child.memoizedState=nj(_e),$.memoizedState=mj,ht):qj($,Et));if(xt=ht.memoizedState,xt!==null&&(At=xt.dehydrated,At!==null))return rj(ht,$,Et,vt,At,xt,_e);if(bt){bt=vt.fallback,Et=$.mode,xt=ht.child,At=xt.sibling;var _t={mode:"hidden",children:vt.children};return!(Et&1)&&$.child!==xt?(vt=$.child,vt.childLanes=0,vt.pendingProps=_t,$.deletions=null):(vt=Pg(xt,_t),vt.subtreeFlags=xt.subtreeFlags&14680064),At!==null?bt=Pg(At,bt):(bt=Tg(bt,Et,_e,null),bt.flags|=2),bt.return=$,vt.return=$,vt.sibling=bt,$.child=vt,vt=bt,bt=$.child,Et=ht.child.memoizedState,Et=Et===null?nj(_e):{baseLanes:Et.baseLanes|_e,cachePool:null,transitions:Et.transitions},bt.memoizedState=Et,bt.childLanes=ht.childLanes&~_e,$.memoizedState=mj,vt}return bt=ht.child,ht=bt.sibling,vt=Pg(bt,{mode:"visible",children:vt.children}),!($.mode&1)&&(vt.lanes=_e),vt.return=$,vt.sibling=null,ht!==null&&(_e=$.deletions,_e===null?($.deletions=[ht],$.flags|=16):_e.push(ht)),$.child=vt,$.memoizedState=null,vt}function qj(ht,$){return $=pj({mode:"visible",children:$},ht.mode,0,null),$.return=ht,ht.child=$}function sj(ht,$,_e,vt){return vt!==null&&Jg(vt),Ug($,ht.child,null,_e),ht=qj($,$.pendingProps.children),ht.flags|=2,$.memoizedState=null,ht}function rj(ht,$,_e,vt,xt,bt,Et){if(_e)return $.flags&256?($.flags&=-257,vt=Ki(Error(p$4(422))),sj(ht,$,Et,vt)):$.memoizedState!==null?($.child=ht.child,$.flags|=128,null):(bt=vt.fallback,xt=$.mode,vt=pj({mode:"visible",children:vt.children},xt,0,null),bt=Tg(bt,xt,Et,null),bt.flags|=2,vt.return=$,bt.return=$,vt.sibling=bt,$.child=vt,$.mode&1&&Ug($,ht.child,null,Et),$.child.memoizedState=nj(Et),$.memoizedState=mj,bt);if(!($.mode&1))return sj(ht,$,Et,null);if(xt.data==="$!"){if(vt=xt.nextSibling&&xt.nextSibling.dataset,vt)var At=vt.dgst;return vt=At,bt=Error(p$4(419)),vt=Ki(bt,vt,void 0),sj(ht,$,Et,vt)}if(At=(Et&ht.childLanes)!==0,dh||At){if(vt=Q,vt!==null){switch(Et&-Et){case 4:xt=2;break;case 16:xt=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:xt=32;break;case 536870912:xt=268435456;break;default:xt=0}xt=xt&(vt.suspendedLanes|Et)?0:xt,xt!==0&&xt!==bt.retryLane&&(bt.retryLane=xt,ih(ht,xt),gi(vt,ht,xt,-1))}return tj(),vt=Ki(Error(p$4(421))),sj(ht,$,Et,vt)}return xt.data==="$?"?($.flags|=128,$.child=ht.child,$=uj.bind(null,ht),xt._reactRetry=$,null):(ht=bt.treeContext,yg=Lf(xt.nextSibling),xg=$,I$4=!0,zg=null,ht!==null&&(og[pg++]=rg,og[pg++]=sg,og[pg++]=qg,rg=ht.id,sg=ht.overflow,qg=$),$=qj($,vt.children),$.flags|=4096,$)}function vj(ht,$,_e){ht.lanes|=$;var vt=ht.alternate;vt!==null&&(vt.lanes|=$),bh(ht.return,$,_e)}function wj(ht,$,_e,vt,xt){var bt=ht.memoizedState;bt===null?ht.memoizedState={isBackwards:$,rendering:null,renderingStartTime:0,last:vt,tail:_e,tailMode:xt}:(bt.isBackwards=$,bt.rendering=null,bt.renderingStartTime=0,bt.last=vt,bt.tail=_e,bt.tailMode=xt)}function xj(ht,$,_e){var vt=$.pendingProps,xt=vt.revealOrder,bt=vt.tail;if(Xi(ht,$,vt.children,_e),vt=L$1.current,vt&2)vt=vt&1|2,$.flags|=128;else{if(ht!==null&&ht.flags&128)e:for(ht=$.child;ht!==null;){if(ht.tag===13)ht.memoizedState!==null&&vj(ht,_e,$);else if(ht.tag===19)vj(ht,_e,$);else if(ht.child!==null){ht.child.return=ht,ht=ht.child;continue}if(ht===$)break e;for(;ht.sibling===null;){if(ht.return===null||ht.return===$)break e;ht=ht.return}ht.sibling.return=ht.return,ht=ht.sibling}vt&=1}if(G$2(L$1,vt),!($.mode&1))$.memoizedState=null;else switch(xt){case"forwards":for(_e=$.child,xt=null;_e!==null;)ht=_e.alternate,ht!==null&&Ch(ht)===null&&(xt=_e),_e=_e.sibling;_e=xt,_e===null?(xt=$.child,$.child=null):(xt=_e.sibling,_e.sibling=null),wj($,!1,xt,_e,bt);break;case"backwards":for(_e=null,xt=$.child,$.child=null;xt!==null;){if(ht=xt.alternate,ht!==null&&Ch(ht)===null){$.child=xt;break}ht=xt.sibling,xt.sibling=_e,_e=xt,xt=ht}wj($,!0,_e,null,bt);break;case"together":wj($,!1,null,null,void 0);break;default:$.memoizedState=null}return $.child}function ij(ht,$){!($.mode&1)&&ht!==null&&(ht.alternate=null,$.alternate=null,$.flags|=2)}function Zi(ht,$,_e){if(ht!==null&&($.dependencies=ht.dependencies),rh|=$.lanes,!(_e&$.childLanes))return null;if(ht!==null&&$.child!==ht.child)throw Error(p$4(153));if($.child!==null){for(ht=$.child,_e=Pg(ht,ht.pendingProps),$.child=_e,_e.return=$;ht.sibling!==null;)ht=ht.sibling,_e=_e.sibling=Pg(ht,ht.pendingProps),_e.return=$;_e.sibling=null}return $.child}function yj(ht,$,_e){switch($.tag){case 3:kj($),Ig();break;case 5:Ah($);break;case 1:Zf($.type)&&cg($);break;case 4:yh($,$.stateNode.containerInfo);break;case 10:var vt=$.type._context,xt=$.memoizedProps.value;G$2(Wg,vt._currentValue),vt._currentValue=xt;break;case 13:if(vt=$.memoizedState,vt!==null)return vt.dehydrated!==null?(G$2(L$1,L$1.current&1),$.flags|=128,null):_e&$.child.childLanes?oj(ht,$,_e):(G$2(L$1,L$1.current&1),ht=Zi(ht,$,_e),ht!==null?ht.sibling:null);G$2(L$1,L$1.current&1);break;case 19:if(vt=(_e&$.childLanes)!==0,ht.flags&128){if(vt)return xj(ht,$,_e);$.flags|=128}if(xt=$.memoizedState,xt!==null&&(xt.rendering=null,xt.tail=null,xt.lastEffect=null),G$2(L$1,L$1.current),vt)break;return null;case 22:case 23:return $.lanes=0,dj(ht,$,_e)}return Zi(ht,$,_e)}var zj,Aj,Bj,Cj;zj=function(ht,$){for(var _e=$.child;_e!==null;){if(_e.tag===5||_e.tag===6)ht.appendChild(_e.stateNode);else if(_e.tag!==4&&_e.child!==null){_e.child.return=_e,_e=_e.child;continue}if(_e===$)break;for(;_e.sibling===null;){if(_e.return===null||_e.return===$)return;_e=_e.return}_e.sibling.return=_e.return,_e=_e.sibling}};Aj=function(){};Bj=function(ht,$,_e,vt){var xt=ht.memoizedProps;if(xt!==vt){ht=$.stateNode,xh(uh.current);var bt=null;switch(_e){case"input":xt=Ya(ht,xt),vt=Ya(ht,vt),bt=[];break;case"select":xt=A$3({},xt,{value:void 0}),vt=A$3({},vt,{value:void 0}),bt=[];break;case"textarea":xt=gb(ht,xt),vt=gb(ht,vt),bt=[];break;default:typeof xt.onClick!="function"&&typeof vt.onClick=="function"&&(ht.onclick=Bf)}ub(_e,vt);var Et;_e=null;for(Ct in xt)if(!vt.hasOwnProperty(Ct)&&xt.hasOwnProperty(Ct)&&xt[Ct]!=null)if(Ct==="style"){var At=xt[Ct];for(Et in At)At.hasOwnProperty(Et)&&(_e||(_e={}),_e[Et]="")}else Ct!=="dangerouslySetInnerHTML"&&Ct!=="children"&&Ct!=="suppressContentEditableWarning"&&Ct!=="suppressHydrationWarning"&&Ct!=="autoFocus"&&(ea.hasOwnProperty(Ct)?bt||(bt=[]):(bt=bt||[]).push(Ct,null));for(Ct in vt){var _t=vt[Ct];if(At=xt!=null?xt[Ct]:void 0,vt.hasOwnProperty(Ct)&&_t!==At&&(_t!=null||At!=null))if(Ct==="style")if(At){for(Et in At)!At.hasOwnProperty(Et)||_t&&_t.hasOwnProperty(Et)||(_e||(_e={}),_e[Et]="");for(Et in _t)_t.hasOwnProperty(Et)&&At[Et]!==_t[Et]&&(_e||(_e={}),_e[Et]=_t[Et])}else _e||(bt||(bt=[]),bt.push(Ct,_e)),_e=_t;else Ct==="dangerouslySetInnerHTML"?(_t=_t?_t.__html:void 0,At=At?At.__html:void 0,_t!=null&&At!==_t&&(bt=bt||[]).push(Ct,_t)):Ct==="children"?typeof _t!="string"&&typeof _t!="number"||(bt=bt||[]).push(Ct,""+_t):Ct!=="suppressContentEditableWarning"&&Ct!=="suppressHydrationWarning"&&(ea.hasOwnProperty(Ct)?(_t!=null&&Ct==="onScroll"&&D$4("scroll",ht),bt||At===_t||(bt=[])):(bt=bt||[]).push(Ct,_t))}_e&&(bt=bt||[]).push("style",_e);var Ct=bt;($.updateQueue=Ct)&&($.flags|=4)}};Cj=function(ht,$,_e,vt){_e!==vt&&($.flags|=4)};function Dj(ht,$){if(!I$4)switch(ht.tailMode){case"hidden":$=ht.tail;for(var _e=null;$!==null;)$.alternate!==null&&(_e=$),$=$.sibling;_e===null?ht.tail=null:_e.sibling=null;break;case"collapsed":_e=ht.tail;for(var vt=null;_e!==null;)_e.alternate!==null&&(vt=_e),_e=_e.sibling;vt===null?$||ht.tail===null?ht.tail=null:ht.tail.sibling=null:vt.sibling=null}}function S$4(ht){var $=ht.alternate!==null&&ht.alternate.child===ht.child,_e=0,vt=0;if($)for(var xt=ht.child;xt!==null;)_e|=xt.lanes|xt.childLanes,vt|=xt.subtreeFlags&14680064,vt|=xt.flags&14680064,xt.return=ht,xt=xt.sibling;else for(xt=ht.child;xt!==null;)_e|=xt.lanes|xt.childLanes,vt|=xt.subtreeFlags,vt|=xt.flags,xt.return=ht,xt=xt.sibling;return ht.subtreeFlags|=vt,ht.childLanes=_e,$}function Ej(ht,$,_e){var vt=$.pendingProps;switch(wg($),$.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return S$4($),null;case 1:return Zf($.type)&&$f(),S$4($),null;case 3:return vt=$.stateNode,zh(),E$1(Wf),E$1(H$2),Eh(),vt.pendingContext&&(vt.context=vt.pendingContext,vt.pendingContext=null),(ht===null||ht.child===null)&&(Gg($)?$.flags|=4:ht===null||ht.memoizedState.isDehydrated&&!($.flags&256)||($.flags|=1024,zg!==null&&(Fj(zg),zg=null))),Aj(ht,$),S$4($),null;case 5:Bh($);var xt=xh(wh.current);if(_e=$.type,ht!==null&&$.stateNode!=null)Bj(ht,$,_e,vt,xt),ht.ref!==$.ref&&($.flags|=512,$.flags|=2097152);else{if(!vt){if($.stateNode===null)throw Error(p$4(166));return S$4($),null}if(ht=xh(uh.current),Gg($)){vt=$.stateNode,_e=$.type;var bt=$.memoizedProps;switch(vt[Of]=$,vt[Pf]=bt,ht=($.mode&1)!==0,_e){case"dialog":D$4("cancel",vt),D$4("close",vt);break;case"iframe":case"object":case"embed":D$4("load",vt);break;case"video":case"audio":for(xt=0;xt<lf.length;xt++)D$4(lf[xt],vt);break;case"source":D$4("error",vt);break;case"img":case"image":case"link":D$4("error",vt),D$4("load",vt);break;case"details":D$4("toggle",vt);break;case"input":Za(vt,bt),D$4("invalid",vt);break;case"select":vt._wrapperState={wasMultiple:!!bt.multiple},D$4("invalid",vt);break;case"textarea":hb(vt,bt),D$4("invalid",vt)}ub(_e,bt),xt=null;for(var Et in bt)if(bt.hasOwnProperty(Et)){var At=bt[Et];Et==="children"?typeof At=="string"?vt.textContent!==At&&(bt.suppressHydrationWarning!==!0&&Af(vt.textContent,At,ht),xt=["children",At]):typeof At=="number"&&vt.textContent!==""+At&&(bt.suppressHydrationWarning!==!0&&Af(vt.textContent,At,ht),xt=["children",""+At]):ea.hasOwnProperty(Et)&&At!=null&&Et==="onScroll"&&D$4("scroll",vt)}switch(_e){case"input":Va(vt),db(vt,bt,!0);break;case"textarea":Va(vt),jb(vt);break;case"select":case"option":break;default:typeof bt.onClick=="function"&&(vt.onclick=Bf)}vt=xt,$.updateQueue=vt,vt!==null&&($.flags|=4)}else{Et=xt.nodeType===9?xt:xt.ownerDocument,ht==="http://www.w3.org/1999/xhtml"&&(ht=kb(_e)),ht==="http://www.w3.org/1999/xhtml"?_e==="script"?(ht=Et.createElement("div"),ht.innerHTML="<script><\/script>",ht=ht.removeChild(ht.firstChild)):typeof vt.is=="string"?ht=Et.createElement(_e,{is:vt.is}):(ht=Et.createElement(_e),_e==="select"&&(Et=ht,vt.multiple?Et.multiple=!0:vt.size&&(Et.size=vt.size))):ht=Et.createElementNS(ht,_e),ht[Of]=$,ht[Pf]=vt,zj(ht,$,!1,!1),$.stateNode=ht;e:{switch(Et=vb(_e,vt),_e){case"dialog":D$4("cancel",ht),D$4("close",ht),xt=vt;break;case"iframe":case"object":case"embed":D$4("load",ht),xt=vt;break;case"video":case"audio":for(xt=0;xt<lf.length;xt++)D$4(lf[xt],ht);xt=vt;break;case"source":D$4("error",ht),xt=vt;break;case"img":case"image":case"link":D$4("error",ht),D$4("load",ht),xt=vt;break;case"details":D$4("toggle",ht),xt=vt;break;case"input":Za(ht,vt),xt=Ya(ht,vt),D$4("invalid",ht);break;case"option":xt=vt;break;case"select":ht._wrapperState={wasMultiple:!!vt.multiple},xt=A$3({},vt,{value:void 0}),D$4("invalid",ht);break;case"textarea":hb(ht,vt),xt=gb(ht,vt),D$4("invalid",ht);break;default:xt=vt}ub(_e,xt),At=xt;for(bt in At)if(At.hasOwnProperty(bt)){var _t=At[bt];bt==="style"?sb(ht,_t):bt==="dangerouslySetInnerHTML"?(_t=_t?_t.__html:void 0,_t!=null&&nb(ht,_t)):bt==="children"?typeof _t=="string"?(_e!=="textarea"||_t!=="")&&ob(ht,_t):typeof _t=="number"&&ob(ht,""+_t):bt!=="suppressContentEditableWarning"&&bt!=="suppressHydrationWarning"&&bt!=="autoFocus"&&(ea.hasOwnProperty(bt)?_t!=null&&bt==="onScroll"&&D$4("scroll",ht):_t!=null&&ta(ht,bt,_t,Et))}switch(_e){case"input":Va(ht),db(ht,vt,!1);break;case"textarea":Va(ht),jb(ht);break;case"option":vt.value!=null&&ht.setAttribute("value",""+Sa(vt.value));break;case"select":ht.multiple=!!vt.multiple,bt=vt.value,bt!=null?fb(ht,!!vt.multiple,bt,!1):vt.defaultValue!=null&&fb(ht,!!vt.multiple,vt.defaultValue,!0);break;default:typeof xt.onClick=="function"&&(ht.onclick=Bf)}switch(_e){case"button":case"input":case"select":case"textarea":vt=!!vt.autoFocus;break e;case"img":vt=!0;break e;default:vt=!1}}vt&&($.flags|=4)}$.ref!==null&&($.flags|=512,$.flags|=2097152)}return S$4($),null;case 6:if(ht&&$.stateNode!=null)Cj(ht,$,ht.memoizedProps,vt);else{if(typeof vt!="string"&&$.stateNode===null)throw Error(p$4(166));if(_e=xh(wh.current),xh(uh.current),Gg($)){if(vt=$.stateNode,_e=$.memoizedProps,vt[Of]=$,(bt=vt.nodeValue!==_e)&&(ht=xg,ht!==null))switch(ht.tag){case 3:Af(vt.nodeValue,_e,(ht.mode&1)!==0);break;case 5:ht.memoizedProps.suppressHydrationWarning!==!0&&Af(vt.nodeValue,_e,(ht.mode&1)!==0)}bt&&($.flags|=4)}else vt=(_e.nodeType===9?_e:_e.ownerDocument).createTextNode(vt),vt[Of]=$,$.stateNode=vt}return S$4($),null;case 13:if(E$1(L$1),vt=$.memoizedState,ht===null||ht.memoizedState!==null&&ht.memoizedState.dehydrated!==null){if(I$4&&yg!==null&&$.mode&1&&!($.flags&128))Hg(),Ig(),$.flags|=98560,bt=!1;else if(bt=Gg($),vt!==null&&vt.dehydrated!==null){if(ht===null){if(!bt)throw Error(p$4(318));if(bt=$.memoizedState,bt=bt!==null?bt.dehydrated:null,!bt)throw Error(p$4(317));bt[Of]=$}else Ig(),!($.flags&128)&&($.memoizedState=null),$.flags|=4;S$4($),bt=!1}else zg!==null&&(Fj(zg),zg=null),bt=!0;if(!bt)return $.flags&65536?$:null}return $.flags&128?($.lanes=_e,$):(vt=vt!==null,vt!==(ht!==null&&ht.memoizedState!==null)&&vt&&($.child.flags|=8192,$.mode&1&&(ht===null||L$1.current&1?T$3===0&&(T$3=3):tj())),$.updateQueue!==null&&($.flags|=4),S$4($),null);case 4:return zh(),Aj(ht,$),ht===null&&sf($.stateNode.containerInfo),S$4($),null;case 10:return ah($.type._context),S$4($),null;case 17:return Zf($.type)&&$f(),S$4($),null;case 19:if(E$1(L$1),bt=$.memoizedState,bt===null)return S$4($),null;if(vt=($.flags&128)!==0,Et=bt.rendering,Et===null)if(vt)Dj(bt,!1);else{if(T$3!==0||ht!==null&&ht.flags&128)for(ht=$.child;ht!==null;){if(Et=Ch(ht),Et!==null){for($.flags|=128,Dj(bt,!1),vt=Et.updateQueue,vt!==null&&($.updateQueue=vt,$.flags|=4),$.subtreeFlags=0,vt=_e,_e=$.child;_e!==null;)bt=_e,ht=vt,bt.flags&=14680066,Et=bt.alternate,Et===null?(bt.childLanes=0,bt.lanes=ht,bt.child=null,bt.subtreeFlags=0,bt.memoizedProps=null,bt.memoizedState=null,bt.updateQueue=null,bt.dependencies=null,bt.stateNode=null):(bt.childLanes=Et.childLanes,bt.lanes=Et.lanes,bt.child=Et.child,bt.subtreeFlags=0,bt.deletions=null,bt.memoizedProps=Et.memoizedProps,bt.memoizedState=Et.memoizedState,bt.updateQueue=Et.updateQueue,bt.type=Et.type,ht=Et.dependencies,bt.dependencies=ht===null?null:{lanes:ht.lanes,firstContext:ht.firstContext}),_e=_e.sibling;return G$2(L$1,L$1.current&1|2),$.child}ht=ht.sibling}bt.tail!==null&&B$1()>Gj&&($.flags|=128,vt=!0,Dj(bt,!1),$.lanes=4194304)}else{if(!vt)if(ht=Ch(Et),ht!==null){if($.flags|=128,vt=!0,_e=ht.updateQueue,_e!==null&&($.updateQueue=_e,$.flags|=4),Dj(bt,!0),bt.tail===null&&bt.tailMode==="hidden"&&!Et.alternate&&!I$4)return S$4($),null}else 2*B$1()-bt.renderingStartTime>Gj&&_e!==1073741824&&($.flags|=128,vt=!0,Dj(bt,!1),$.lanes=4194304);bt.isBackwards?(Et.sibling=$.child,$.child=Et):(_e=bt.last,_e!==null?_e.sibling=Et:$.child=Et,bt.last=Et)}return bt.tail!==null?($=bt.tail,bt.rendering=$,bt.tail=$.sibling,bt.renderingStartTime=B$1(),$.sibling=null,_e=L$1.current,G$2(L$1,vt?_e&1|2:_e&1),$):(S$4($),null);case 22:case 23:return Hj(),vt=$.memoizedState!==null,ht!==null&&ht.memoizedState!==null!==vt&&($.flags|=8192),vt&&$.mode&1?fj&1073741824&&(S$4($),$.subtreeFlags&6&&($.flags|=8192)):S$4($),null;case 24:return null;case 25:return null}throw Error(p$4(156,$.tag))}function Ij(ht,$){switch(wg($),$.tag){case 1:return Zf($.type)&&$f(),ht=$.flags,ht&65536?($.flags=ht&-65537|128,$):null;case 3:return zh(),E$1(Wf),E$1(H$2),Eh(),ht=$.flags,ht&65536&&!(ht&128)?($.flags=ht&-65537|128,$):null;case 5:return Bh($),null;case 13:if(E$1(L$1),ht=$.memoizedState,ht!==null&&ht.dehydrated!==null){if($.alternate===null)throw Error(p$4(340));Ig()}return ht=$.flags,ht&65536?($.flags=ht&-65537|128,$):null;case 19:return E$1(L$1),null;case 4:return zh(),null;case 10:return ah($.type._context),null;case 22:case 23:return Hj(),null;case 24:return null;default:return null}}var Jj=!1,U$2=!1,Kj=typeof WeakSet=="function"?WeakSet:Set,V$1=null;function Lj(ht,$){var _e=ht.ref;if(_e!==null)if(typeof _e=="function")try{_e(null)}catch(vt){W$2(ht,$,vt)}else _e.current=null}function Mj(ht,$,_e){try{_e()}catch(vt){W$2(ht,$,vt)}}var Nj=!1;function Oj(ht,$){if(Cf=dd,ht=Me(),Ne(ht)){if("selectionStart"in ht)var _e={start:ht.selectionStart,end:ht.selectionEnd};else e:{_e=(_e=ht.ownerDocument)&&_e.defaultView||window;var vt=_e.getSelection&&_e.getSelection();if(vt&&vt.rangeCount!==0){_e=vt.anchorNode;var xt=vt.anchorOffset,bt=vt.focusNode;vt=vt.focusOffset;try{_e.nodeType,bt.nodeType}catch{_e=null;break e}var Et=0,At=-1,_t=-1,Ct=0,St=0,Rt=ht,Pt=null;t:for(;;){for(var kt;Rt!==_e||xt!==0&&Rt.nodeType!==3||(At=Et+xt),Rt!==bt||vt!==0&&Rt.nodeType!==3||(_t=Et+vt),Rt.nodeType===3&&(Et+=Rt.nodeValue.length),(kt=Rt.firstChild)!==null;)Pt=Rt,Rt=kt;for(;;){if(Rt===ht)break t;if(Pt===_e&&++Ct===xt&&(At=Et),Pt===bt&&++St===vt&&(_t=Et),(kt=Rt.nextSibling)!==null)break;Rt=Pt,Pt=Rt.parentNode}Rt=kt}_e=At===-1||_t===-1?null:{start:At,end:_t}}else _e=null}_e=_e||{start:0,end:0}}else _e=null;for(Df={focusedElem:ht,selectionRange:_e},dd=!1,V$1=$;V$1!==null;)if($=V$1,ht=$.child,($.subtreeFlags&1028)!==0&&ht!==null)ht.return=$,V$1=ht;else for(;V$1!==null;){$=V$1;try{var Mt=$.alternate;if($.flags&1024)switch($.tag){case 0:case 11:case 15:break;case 1:if(Mt!==null){var Lt=Mt.memoizedProps,$t=Mt.memoizedState,Ft=$.stateNode,Dt=Ft.getSnapshotBeforeUpdate($.elementType===$.type?Lt:Ci($.type,Lt),$t);Ft.__reactInternalSnapshotBeforeUpdate=Dt}break;case 3:var Nt=$.stateNode.containerInfo;Nt.nodeType===1?Nt.textContent="":Nt.nodeType===9&&Nt.documentElement&&Nt.removeChild(Nt.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(p$4(163))}}catch(Ht){W$2($,$.return,Ht)}if(ht=$.sibling,ht!==null){ht.return=$.return,V$1=ht;break}V$1=$.return}return Mt=Nj,Nj=!1,Mt}function Pj(ht,$,_e){var vt=$.updateQueue;if(vt=vt!==null?vt.lastEffect:null,vt!==null){var xt=vt=vt.next;do{if((xt.tag&ht)===ht){var bt=xt.destroy;xt.destroy=void 0,bt!==void 0&&Mj($,_e,bt)}xt=xt.next}while(xt!==vt)}}function Qj(ht,$){if($=$.updateQueue,$=$!==null?$.lastEffect:null,$!==null){var _e=$=$.next;do{if((_e.tag&ht)===ht){var vt=_e.create;_e.destroy=vt()}_e=_e.next}while(_e!==$)}}function Rj(ht){var $=ht.ref;if($!==null){var _e=ht.stateNode;switch(ht.tag){case 5:ht=_e;break;default:ht=_e}typeof $=="function"?$(ht):$.current=ht}}function Sj(ht){var $=ht.alternate;$!==null&&(ht.alternate=null,Sj($)),ht.child=null,ht.deletions=null,ht.sibling=null,ht.tag===5&&($=ht.stateNode,$!==null&&(delete $[Of],delete $[Pf],delete $[of],delete $[Qf],delete $[Rf])),ht.stateNode=null,ht.return=null,ht.dependencies=null,ht.memoizedProps=null,ht.memoizedState=null,ht.pendingProps=null,ht.stateNode=null,ht.updateQueue=null}function Tj(ht){return ht.tag===5||ht.tag===3||ht.tag===4}function Uj(ht){e:for(;;){for(;ht.sibling===null;){if(ht.return===null||Tj(ht.return))return null;ht=ht.return}for(ht.sibling.return=ht.return,ht=ht.sibling;ht.tag!==5&&ht.tag!==6&&ht.tag!==18;){if(ht.flags&2||ht.child===null||ht.tag===4)continue e;ht.child.return=ht,ht=ht.child}if(!(ht.flags&2))return ht.stateNode}}function Vj(ht,$,_e){var vt=ht.tag;if(vt===5||vt===6)ht=ht.stateNode,$?_e.nodeType===8?_e.parentNode.insertBefore(ht,$):_e.insertBefore(ht,$):(_e.nodeType===8?($=_e.parentNode,$.insertBefore(ht,_e)):($=_e,$.appendChild(ht)),_e=_e._reactRootContainer,_e!=null||$.onclick!==null||($.onclick=Bf));else if(vt!==4&&(ht=ht.child,ht!==null))for(Vj(ht,$,_e),ht=ht.sibling;ht!==null;)Vj(ht,$,_e),ht=ht.sibling}function Wj(ht,$,_e){var vt=ht.tag;if(vt===5||vt===6)ht=ht.stateNode,$?_e.insertBefore(ht,$):_e.appendChild(ht);else if(vt!==4&&(ht=ht.child,ht!==null))for(Wj(ht,$,_e),ht=ht.sibling;ht!==null;)Wj(ht,$,_e),ht=ht.sibling}var X=null,Xj=!1;function Yj(ht,$,_e){for(_e=_e.child;_e!==null;)Zj(ht,$,_e),_e=_e.sibling}function Zj(ht,$,_e){if(lc&&typeof lc.onCommitFiberUnmount=="function")try{lc.onCommitFiberUnmount(kc,_e)}catch{}switch(_e.tag){case 5:U$2||Lj(_e,$);case 6:var vt=X,xt=Xj;X=null,Yj(ht,$,_e),X=vt,Xj=xt,X!==null&&(Xj?(ht=X,_e=_e.stateNode,ht.nodeType===8?ht.parentNode.removeChild(_e):ht.removeChild(_e)):X.removeChild(_e.stateNode));break;case 18:X!==null&&(Xj?(ht=X,_e=_e.stateNode,ht.nodeType===8?Kf(ht.parentNode,_e):ht.nodeType===1&&Kf(ht,_e),bd(ht)):Kf(X,_e.stateNode));break;case 4:vt=X,xt=Xj,X=_e.stateNode.containerInfo,Xj=!0,Yj(ht,$,_e),X=vt,Xj=xt;break;case 0:case 11:case 14:case 15:if(!U$2&&(vt=_e.updateQueue,vt!==null&&(vt=vt.lastEffect,vt!==null))){xt=vt=vt.next;do{var bt=xt,Et=bt.destroy;bt=bt.tag,Et!==void 0&&(bt&2||bt&4)&&Mj(_e,$,Et),xt=xt.next}while(xt!==vt)}Yj(ht,$,_e);break;case 1:if(!U$2&&(Lj(_e,$),vt=_e.stateNode,typeof vt.componentWillUnmount=="function"))try{vt.props=_e.memoizedProps,vt.state=_e.memoizedState,vt.componentWillUnmount()}catch(At){W$2(_e,$,At)}Yj(ht,$,_e);break;case 21:Yj(ht,$,_e);break;case 22:_e.mode&1?(U$2=(vt=U$2)||_e.memoizedState!==null,Yj(ht,$,_e),U$2=vt):Yj(ht,$,_e);break;default:Yj(ht,$,_e)}}function ak(ht){var $=ht.updateQueue;if($!==null){ht.updateQueue=null;var _e=ht.stateNode;_e===null&&(_e=ht.stateNode=new Kj),$.forEach(function(vt){var xt=bk.bind(null,ht,vt);_e.has(vt)||(_e.add(vt),vt.then(xt,xt))})}}function ck(ht,$){var _e=$.deletions;if(_e!==null)for(var vt=0;vt<_e.length;vt++){var xt=_e[vt];try{var bt=ht,Et=$,At=Et;e:for(;At!==null;){switch(At.tag){case 5:X=At.stateNode,Xj=!1;break e;case 3:X=At.stateNode.containerInfo,Xj=!0;break e;case 4:X=At.stateNode.containerInfo,Xj=!0;break e}At=At.return}if(X===null)throw Error(p$4(160));Zj(bt,Et,xt),X=null,Xj=!1;var _t=xt.alternate;_t!==null&&(_t.return=null),xt.return=null}catch(Ct){W$2(xt,$,Ct)}}if($.subtreeFlags&12854)for($=$.child;$!==null;)dk($,ht),$=$.sibling}function dk(ht,$){var _e=ht.alternate,vt=ht.flags;switch(ht.tag){case 0:case 11:case 14:case 15:if(ck($,ht),ek(ht),vt&4){try{Pj(3,ht,ht.return),Qj(3,ht)}catch(Lt){W$2(ht,ht.return,Lt)}try{Pj(5,ht,ht.return)}catch(Lt){W$2(ht,ht.return,Lt)}}break;case 1:ck($,ht),ek(ht),vt&512&&_e!==null&&Lj(_e,_e.return);break;case 5:if(ck($,ht),ek(ht),vt&512&&_e!==null&&Lj(_e,_e.return),ht.flags&32){var xt=ht.stateNode;try{ob(xt,"")}catch(Lt){W$2(ht,ht.return,Lt)}}if(vt&4&&(xt=ht.stateNode,xt!=null)){var bt=ht.memoizedProps,Et=_e!==null?_e.memoizedProps:bt,At=ht.type,_t=ht.updateQueue;if(ht.updateQueue=null,_t!==null)try{At==="input"&&bt.type==="radio"&&bt.name!=null&&ab(xt,bt),vb(At,Et);var Ct=vb(At,bt);for(Et=0;Et<_t.length;Et+=2){var St=_t[Et],Rt=_t[Et+1];St==="style"?sb(xt,Rt):St==="dangerouslySetInnerHTML"?nb(xt,Rt):St==="children"?ob(xt,Rt):ta(xt,St,Rt,Ct)}switch(At){case"input":bb(xt,bt);break;case"textarea":ib(xt,bt);break;case"select":var Pt=xt._wrapperState.wasMultiple;xt._wrapperState.wasMultiple=!!bt.multiple;var kt=bt.value;kt!=null?fb(xt,!!bt.multiple,kt,!1):Pt!==!!bt.multiple&&(bt.defaultValue!=null?fb(xt,!!bt.multiple,bt.defaultValue,!0):fb(xt,!!bt.multiple,bt.multiple?[]:"",!1))}xt[Pf]=bt}catch(Lt){W$2(ht,ht.return,Lt)}}break;case 6:if(ck($,ht),ek(ht),vt&4){if(ht.stateNode===null)throw Error(p$4(162));xt=ht.stateNode,bt=ht.memoizedProps;try{xt.nodeValue=bt}catch(Lt){W$2(ht,ht.return,Lt)}}break;case 3:if(ck($,ht),ek(ht),vt&4&&_e!==null&&_e.memoizedState.isDehydrated)try{bd($.containerInfo)}catch(Lt){W$2(ht,ht.return,Lt)}break;case 4:ck($,ht),ek(ht);break;case 13:ck($,ht),ek(ht),xt=ht.child,xt.flags&8192&&(bt=xt.memoizedState!==null,xt.stateNode.isHidden=bt,!bt||xt.alternate!==null&&xt.alternate.memoizedState!==null||(fk=B$1())),vt&4&&ak(ht);break;case 22:if(St=_e!==null&&_e.memoizedState!==null,ht.mode&1?(U$2=(Ct=U$2)||St,ck($,ht),U$2=Ct):ck($,ht),ek(ht),vt&8192){if(Ct=ht.memoizedState!==null,(ht.stateNode.isHidden=Ct)&&!St&&ht.mode&1)for(V$1=ht,St=ht.child;St!==null;){for(Rt=V$1=St;V$1!==null;){switch(Pt=V$1,kt=Pt.child,Pt.tag){case 0:case 11:case 14:case 15:Pj(4,Pt,Pt.return);break;case 1:Lj(Pt,Pt.return);var Mt=Pt.stateNode;if(typeof Mt.componentWillUnmount=="function"){vt=Pt,_e=Pt.return;try{$=vt,Mt.props=$.memoizedProps,Mt.state=$.memoizedState,Mt.componentWillUnmount()}catch(Lt){W$2(vt,_e,Lt)}}break;case 5:Lj(Pt,Pt.return);break;case 22:if(Pt.memoizedState!==null){gk(Rt);continue}}kt!==null?(kt.return=Pt,V$1=kt):gk(Rt)}St=St.sibling}e:for(St=null,Rt=ht;;){if(Rt.tag===5){if(St===null){St=Rt;try{xt=Rt.stateNode,Ct?(bt=xt.style,typeof bt.setProperty=="function"?bt.setProperty("display","none","important"):bt.display="none"):(At=Rt.stateNode,_t=Rt.memoizedProps.style,Et=_t!=null&&_t.hasOwnProperty("display")?_t.display:null,At.style.display=rb("display",Et))}catch(Lt){W$2(ht,ht.return,Lt)}}}else if(Rt.tag===6){if(St===null)try{Rt.stateNode.nodeValue=Ct?"":Rt.memoizedProps}catch(Lt){W$2(ht,ht.return,Lt)}}else if((Rt.tag!==22&&Rt.tag!==23||Rt.memoizedState===null||Rt===ht)&&Rt.child!==null){Rt.child.return=Rt,Rt=Rt.child;continue}if(Rt===ht)break e;for(;Rt.sibling===null;){if(Rt.return===null||Rt.return===ht)break e;St===Rt&&(St=null),Rt=Rt.return}St===Rt&&(St=null),Rt.sibling.return=Rt.return,Rt=Rt.sibling}}break;case 19:ck($,ht),ek(ht),vt&4&&ak(ht);break;case 21:break;default:ck($,ht),ek(ht)}}function ek(ht){var $=ht.flags;if($&2){try{e:{for(var _e=ht.return;_e!==null;){if(Tj(_e)){var vt=_e;break e}_e=_e.return}throw Error(p$4(160))}switch(vt.tag){case 5:var xt=vt.stateNode;vt.flags&32&&(ob(xt,""),vt.flags&=-33);var bt=Uj(ht);Wj(ht,bt,xt);break;case 3:case 4:var Et=vt.stateNode.containerInfo,At=Uj(ht);Vj(ht,At,Et);break;default:throw Error(p$4(161))}}catch(_t){W$2(ht,ht.return,_t)}ht.flags&=-3}$&4096&&(ht.flags&=-4097)}function hk(ht,$,_e){V$1=ht,ik(ht)}function ik(ht,$,_e){for(var vt=(ht.mode&1)!==0;V$1!==null;){var xt=V$1,bt=xt.child;if(xt.tag===22&&vt){var Et=xt.memoizedState!==null||Jj;if(!Et){var At=xt.alternate,_t=At!==null&&At.memoizedState!==null||U$2;At=Jj;var Ct=U$2;if(Jj=Et,(U$2=_t)&&!Ct)for(V$1=xt;V$1!==null;)Et=V$1,_t=Et.child,Et.tag===22&&Et.memoizedState!==null?jk(xt):_t!==null?(_t.return=Et,V$1=_t):jk(xt);for(;bt!==null;)V$1=bt,ik(bt),bt=bt.sibling;V$1=xt,Jj=At,U$2=Ct}kk(ht)}else xt.subtreeFlags&8772&&bt!==null?(bt.return=xt,V$1=bt):kk(ht)}}function kk(ht){for(;V$1!==null;){var $=V$1;if($.flags&8772){var _e=$.alternate;try{if($.flags&8772)switch($.tag){case 0:case 11:case 15:U$2||Qj(5,$);break;case 1:var vt=$.stateNode;if($.flags&4&&!U$2)if(_e===null)vt.componentDidMount();else{var xt=$.elementType===$.type?_e.memoizedProps:Ci($.type,_e.memoizedProps);vt.componentDidUpdate(xt,_e.memoizedState,vt.__reactInternalSnapshotBeforeUpdate)}var bt=$.updateQueue;bt!==null&&sh($,bt,vt);break;case 3:var Et=$.updateQueue;if(Et!==null){if(_e=null,$.child!==null)switch($.child.tag){case 5:_e=$.child.stateNode;break;case 1:_e=$.child.stateNode}sh($,Et,_e)}break;case 5:var At=$.stateNode;if(_e===null&&$.flags&4){_e=At;var _t=$.memoizedProps;switch($.type){case"button":case"input":case"select":case"textarea":_t.autoFocus&&_e.focus();break;case"img":_t.src&&(_e.src=_t.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if($.memoizedState===null){var Ct=$.alternate;if(Ct!==null){var St=Ct.memoizedState;if(St!==null){var Rt=St.dehydrated;Rt!==null&&bd(Rt)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(p$4(163))}U$2||$.flags&512&&Rj($)}catch(Pt){W$2($,$.return,Pt)}}if($===ht){V$1=null;break}if(_e=$.sibling,_e!==null){_e.return=$.return,V$1=_e;break}V$1=$.return}}function gk(ht){for(;V$1!==null;){var $=V$1;if($===ht){V$1=null;break}var _e=$.sibling;if(_e!==null){_e.return=$.return,V$1=_e;break}V$1=$.return}}function jk(ht){for(;V$1!==null;){var $=V$1;try{switch($.tag){case 0:case 11:case 15:var _e=$.return;try{Qj(4,$)}catch(_t){W$2($,_e,_t)}break;case 1:var vt=$.stateNode;if(typeof vt.componentDidMount=="function"){var xt=$.return;try{vt.componentDidMount()}catch(_t){W$2($,xt,_t)}}var bt=$.return;try{Rj($)}catch(_t){W$2($,bt,_t)}break;case 5:var Et=$.return;try{Rj($)}catch(_t){W$2($,Et,_t)}}}catch(_t){W$2($,$.return,_t)}if($===ht){V$1=null;break}var At=$.sibling;if(At!==null){At.return=$.return,V$1=At;break}V$1=$.return}}var lk=Math.ceil,mk=ua.ReactCurrentDispatcher,nk=ua.ReactCurrentOwner,ok=ua.ReactCurrentBatchConfig,K=0,Q=null,Y=null,Z=0,fj=0,ej=Uf(0),T$3=0,pk=null,rh=0,qk=0,rk=0,sk=null,tk=null,fk=0,Gj=1/0,uk=null,Oi=!1,Pi=null,Ri=null,vk=!1,wk=null,xk=0,yk=0,zk=null,Ak=-1,Bk=0;function R$1(){return K&6?B$1():Ak!==-1?Ak:Ak=B$1()}function yi(ht){return ht.mode&1?K&2&&Z!==0?Z&-Z:Kg.transition!==null?(Bk===0&&(Bk=yc()),Bk):(ht=C$1,ht!==0||(ht=window.event,ht=ht===void 0?16:jd(ht.type)),ht):1}function gi(ht,$,_e,vt){if(50<yk)throw yk=0,zk=null,Error(p$4(185));Ac(ht,_e,vt),(!(K&2)||ht!==Q)&&(ht===Q&&(!(K&2)&&(qk|=_e),T$3===4&&Ck(ht,Z)),Dk(ht,vt),_e===1&&K===0&&!($.mode&1)&&(Gj=B$1()+500,fg&&jg()))}function Dk(ht,$){var _e=ht.callbackNode;wc(ht,$);var vt=uc(ht,ht===Q?Z:0);if(vt===0)_e!==null&&bc(_e),ht.callbackNode=null,ht.callbackPriority=0;else if($=vt&-vt,ht.callbackPriority!==$){if(_e!=null&&bc(_e),$===1)ht.tag===0?ig(Ek.bind(null,ht)):hg(Ek.bind(null,ht)),Jf(function(){!(K&6)&&jg()}),_e=null;else{switch(Dc(vt)){case 1:_e=fc;break;case 4:_e=gc;break;case 16:_e=hc;break;case 536870912:_e=jc;break;default:_e=hc}_e=Fk(_e,Gk.bind(null,ht))}ht.callbackPriority=$,ht.callbackNode=_e}}function Gk(ht,$){if(Ak=-1,Bk=0,K&6)throw Error(p$4(327));var _e=ht.callbackNode;if(Hk()&&ht.callbackNode!==_e)return null;var vt=uc(ht,ht===Q?Z:0);if(vt===0)return null;if(vt&30||vt&ht.expiredLanes||$)$=Ik(ht,vt);else{$=vt;var xt=K;K|=2;var bt=Jk();(Q!==ht||Z!==$)&&(uk=null,Gj=B$1()+500,Kk(ht,$));do try{Lk();break}catch(At){Mk(ht,At)}while(!0);$g(),mk.current=bt,K=xt,Y!==null?$=0:(Q=null,Z=0,$=T$3)}if($!==0){if($===2&&(xt=xc(ht),xt!==0&&(vt=xt,$=Nk(ht,xt))),$===1)throw _e=pk,Kk(ht,0),Ck(ht,vt),Dk(ht,B$1()),_e;if($===6)Ck(ht,vt);else{if(xt=ht.current.alternate,!(vt&30)&&!Ok(xt)&&($=Ik(ht,vt),$===2&&(bt=xc(ht),bt!==0&&(vt=bt,$=Nk(ht,bt))),$===1))throw _e=pk,Kk(ht,0),Ck(ht,vt),Dk(ht,B$1()),_e;switch(ht.finishedWork=xt,ht.finishedLanes=vt,$){case 0:case 1:throw Error(p$4(345));case 2:Pk(ht,tk,uk);break;case 3:if(Ck(ht,vt),(vt&130023424)===vt&&($=fk+500-B$1(),10<$)){if(uc(ht,0)!==0)break;if(xt=ht.suspendedLanes,(xt&vt)!==vt){R$1(),ht.pingedLanes|=ht.suspendedLanes&xt;break}ht.timeoutHandle=Ff(Pk.bind(null,ht,tk,uk),$);break}Pk(ht,tk,uk);break;case 4:if(Ck(ht,vt),(vt&4194240)===vt)break;for($=ht.eventTimes,xt=-1;0<vt;){var Et=31-oc(vt);bt=1<<Et,Et=$[Et],Et>xt&&(xt=Et),vt&=~bt}if(vt=xt,vt=B$1()-vt,vt=(120>vt?120:480>vt?480:1080>vt?1080:1920>vt?1920:3e3>vt?3e3:4320>vt?4320:1960*lk(vt/1960))-vt,10<vt){ht.timeoutHandle=Ff(Pk.bind(null,ht,tk,uk),vt);break}Pk(ht,tk,uk);break;case 5:Pk(ht,tk,uk);break;default:throw Error(p$4(329))}}}return Dk(ht,B$1()),ht.callbackNode===_e?Gk.bind(null,ht):null}function Nk(ht,$){var _e=sk;return ht.current.memoizedState.isDehydrated&&(Kk(ht,$).flags|=256),ht=Ik(ht,$),ht!==2&&($=tk,tk=_e,$!==null&&Fj($)),ht}function Fj(ht){tk===null?tk=ht:tk.push.apply(tk,ht)}function Ok(ht){for(var $=ht;;){if($.flags&16384){var _e=$.updateQueue;if(_e!==null&&(_e=_e.stores,_e!==null))for(var vt=0;vt<_e.length;vt++){var xt=_e[vt],bt=xt.getSnapshot;xt=xt.value;try{if(!He(bt(),xt))return!1}catch{return!1}}}if(_e=$.child,$.subtreeFlags&16384&&_e!==null)_e.return=$,$=_e;else{if($===ht)break;for(;$.sibling===null;){if($.return===null||$.return===ht)return!0;$=$.return}$.sibling.return=$.return,$=$.sibling}}return!0}function Ck(ht,$){for($&=~rk,$&=~qk,ht.suspendedLanes|=$,ht.pingedLanes&=~$,ht=ht.expirationTimes;0<$;){var _e=31-oc($),vt=1<<_e;ht[_e]=-1,$&=~vt}}function Ek(ht){if(K&6)throw Error(p$4(327));Hk();var $=uc(ht,0);if(!($&1))return Dk(ht,B$1()),null;var _e=Ik(ht,$);if(ht.tag!==0&&_e===2){var vt=xc(ht);vt!==0&&($=vt,_e=Nk(ht,vt))}if(_e===1)throw _e=pk,Kk(ht,0),Ck(ht,$),Dk(ht,B$1()),_e;if(_e===6)throw Error(p$4(345));return ht.finishedWork=ht.current.alternate,ht.finishedLanes=$,Pk(ht,tk,uk),Dk(ht,B$1()),null}function Qk(ht,$){var _e=K;K|=1;try{return ht($)}finally{K=_e,K===0&&(Gj=B$1()+500,fg&&jg())}}function Rk(ht){wk!==null&&wk.tag===0&&!(K&6)&&Hk();var $=K;K|=1;var _e=ok.transition,vt=C$1;try{if(ok.transition=null,C$1=1,ht)return ht()}finally{C$1=vt,ok.transition=_e,K=$,!(K&6)&&jg()}}function Hj(){fj=ej.current,E$1(ej)}function Kk(ht,$){ht.finishedWork=null,ht.finishedLanes=0;var _e=ht.timeoutHandle;if(_e!==-1&&(ht.timeoutHandle=-1,Gf(_e)),Y!==null)for(_e=Y.return;_e!==null;){var vt=_e;switch(wg(vt),vt.tag){case 1:vt=vt.type.childContextTypes,vt!=null&&$f();break;case 3:zh(),E$1(Wf),E$1(H$2),Eh();break;case 5:Bh(vt);break;case 4:zh();break;case 13:E$1(L$1);break;case 19:E$1(L$1);break;case 10:ah(vt.type._context);break;case 22:case 23:Hj()}_e=_e.return}if(Q=ht,Y=ht=Pg(ht.current,null),Z=fj=$,T$3=0,pk=null,rk=qk=rh=0,tk=sk=null,fh!==null){for($=0;$<fh.length;$++)if(_e=fh[$],vt=_e.interleaved,vt!==null){_e.interleaved=null;var xt=vt.next,bt=_e.pending;if(bt!==null){var Et=bt.next;bt.next=xt,vt.next=Et}_e.pending=vt}fh=null}return ht}function Mk(ht,$){do{var _e=Y;try{if($g(),Fh.current=Rh,Ih){for(var vt=M$3.memoizedState;vt!==null;){var xt=vt.queue;xt!==null&&(xt.pending=null),vt=vt.next}Ih=!1}if(Hh=0,O$2=N$3=M$3=null,Jh=!1,Kh=0,nk.current=null,_e===null||_e.return===null){T$3=1,pk=$,Y=null;break}e:{var bt=ht,Et=_e.return,At=_e,_t=$;if($=Z,At.flags|=32768,_t!==null&&typeof _t=="object"&&typeof _t.then=="function"){var Ct=_t,St=At,Rt=St.tag;if(!(St.mode&1)&&(Rt===0||Rt===11||Rt===15)){var Pt=St.alternate;Pt?(St.updateQueue=Pt.updateQueue,St.memoizedState=Pt.memoizedState,St.lanes=Pt.lanes):(St.updateQueue=null,St.memoizedState=null)}var kt=Ui(Et);if(kt!==null){kt.flags&=-257,Vi(kt,Et,At,bt,$),kt.mode&1&&Si(bt,Ct,$),$=kt,_t=Ct;var Mt=$.updateQueue;if(Mt===null){var Lt=new Set;Lt.add(_t),$.updateQueue=Lt}else Mt.add(_t);break e}else{if(!($&1)){Si(bt,Ct,$),tj();break e}_t=Error(p$4(426))}}else if(I$4&&At.mode&1){var $t=Ui(Et);if($t!==null){!($t.flags&65536)&&($t.flags|=256),Vi($t,Et,At,bt,$),Jg(Ji(_t,At));break e}}bt=_t=Ji(_t,At),T$3!==4&&(T$3=2),sk===null?sk=[bt]:sk.push(bt),bt=Et;do{switch(bt.tag){case 3:bt.flags|=65536,$&=-$,bt.lanes|=$;var Ft=Ni(bt,_t,$);ph(bt,Ft);break e;case 1:At=_t;var Dt=bt.type,Nt=bt.stateNode;if(!(bt.flags&128)&&(typeof Dt.getDerivedStateFromError=="function"||Nt!==null&&typeof Nt.componentDidCatch=="function"&&(Ri===null||!Ri.has(Nt)))){bt.flags|=65536,$&=-$,bt.lanes|=$;var Ht=Qi(bt,At,$);ph(bt,Ht);break e}}bt=bt.return}while(bt!==null)}Sk(_e)}catch(Ot){$=Ot,Y===_e&&_e!==null&&(Y=_e=_e.return);continue}break}while(!0)}function Jk(){var ht=mk.current;return mk.current=Rh,ht===null?Rh:ht}function tj(){(T$3===0||T$3===3||T$3===2)&&(T$3=4),Q===null||!(rh&268435455)&&!(qk&268435455)||Ck(Q,Z)}function Ik(ht,$){var _e=K;K|=2;var vt=Jk();(Q!==ht||Z!==$)&&(uk=null,Kk(ht,$));do try{Tk();break}catch(xt){Mk(ht,xt)}while(!0);if($g(),K=_e,mk.current=vt,Y!==null)throw Error(p$4(261));return Q=null,Z=0,T$3}function Tk(){for(;Y!==null;)Uk(Y)}function Lk(){for(;Y!==null&&!cc();)Uk(Y)}function Uk(ht){var $=Vk(ht.alternate,ht,fj);ht.memoizedProps=ht.pendingProps,$===null?Sk(ht):Y=$,nk.current=null}function Sk(ht){var $=ht;do{var _e=$.alternate;if(ht=$.return,$.flags&32768){if(_e=Ij(_e,$),_e!==null){_e.flags&=32767,Y=_e;return}if(ht!==null)ht.flags|=32768,ht.subtreeFlags=0,ht.deletions=null;else{T$3=6,Y=null;return}}else if(_e=Ej(_e,$,fj),_e!==null){Y=_e;return}if($=$.sibling,$!==null){Y=$;return}Y=$=ht}while($!==null);T$3===0&&(T$3=5)}function Pk(ht,$,_e){var vt=C$1,xt=ok.transition;try{ok.transition=null,C$1=1,Wk(ht,$,_e,vt)}finally{ok.transition=xt,C$1=vt}return null}function Wk(ht,$,_e,vt){do Hk();while(wk!==null);if(K&6)throw Error(p$4(327));_e=ht.finishedWork;var xt=ht.finishedLanes;if(_e===null)return null;if(ht.finishedWork=null,ht.finishedLanes=0,_e===ht.current)throw Error(p$4(177));ht.callbackNode=null,ht.callbackPriority=0;var bt=_e.lanes|_e.childLanes;if(Bc(ht,bt),ht===Q&&(Y=Q=null,Z=0),!(_e.subtreeFlags&2064)&&!(_e.flags&2064)||vk||(vk=!0,Fk(hc,function(){return Hk(),null})),bt=(_e.flags&15990)!==0,_e.subtreeFlags&15990||bt){bt=ok.transition,ok.transition=null;var Et=C$1;C$1=1;var At=K;K|=4,nk.current=null,Oj(ht,_e),dk(_e,ht),Oe(Df),dd=!!Cf,Df=Cf=null,ht.current=_e,hk(_e),dc(),K=At,C$1=Et,ok.transition=bt}else ht.current=_e;if(vk&&(vk=!1,wk=ht,xk=xt),bt=ht.pendingLanes,bt===0&&(Ri=null),mc(_e.stateNode),Dk(ht,B$1()),$!==null)for(vt=ht.onRecoverableError,_e=0;_e<$.length;_e++)xt=$[_e],vt(xt.value,{componentStack:xt.stack,digest:xt.digest});if(Oi)throw Oi=!1,ht=Pi,Pi=null,ht;return xk&1&&ht.tag!==0&&Hk(),bt=ht.pendingLanes,bt&1?ht===zk?yk++:(yk=0,zk=ht):yk=0,jg(),null}function Hk(){if(wk!==null){var ht=Dc(xk),$=ok.transition,_e=C$1;try{if(ok.transition=null,C$1=16>ht?16:ht,wk===null)var vt=!1;else{if(ht=wk,wk=null,xk=0,K&6)throw Error(p$4(331));var xt=K;for(K|=4,V$1=ht.current;V$1!==null;){var bt=V$1,Et=bt.child;if(V$1.flags&16){var At=bt.deletions;if(At!==null){for(var _t=0;_t<At.length;_t++){var Ct=At[_t];for(V$1=Ct;V$1!==null;){var St=V$1;switch(St.tag){case 0:case 11:case 15:Pj(8,St,bt)}var Rt=St.child;if(Rt!==null)Rt.return=St,V$1=Rt;else for(;V$1!==null;){St=V$1;var Pt=St.sibling,kt=St.return;if(Sj(St),St===Ct){V$1=null;break}if(Pt!==null){Pt.return=kt,V$1=Pt;break}V$1=kt}}}var Mt=bt.alternate;if(Mt!==null){var Lt=Mt.child;if(Lt!==null){Mt.child=null;do{var $t=Lt.sibling;Lt.sibling=null,Lt=$t}while(Lt!==null)}}V$1=bt}}if(bt.subtreeFlags&2064&&Et!==null)Et.return=bt,V$1=Et;else e:for(;V$1!==null;){if(bt=V$1,bt.flags&2048)switch(bt.tag){case 0:case 11:case 15:Pj(9,bt,bt.return)}var Ft=bt.sibling;if(Ft!==null){Ft.return=bt.return,V$1=Ft;break e}V$1=bt.return}}var Dt=ht.current;for(V$1=Dt;V$1!==null;){Et=V$1;var Nt=Et.child;if(Et.subtreeFlags&2064&&Nt!==null)Nt.return=Et,V$1=Nt;else e:for(Et=Dt;V$1!==null;){if(At=V$1,At.flags&2048)try{switch(At.tag){case 0:case 11:case 15:Qj(9,At)}}catch(Ot){W$2(At,At.return,Ot)}if(At===Et){V$1=null;break e}var Ht=At.sibling;if(Ht!==null){Ht.return=At.return,V$1=Ht;break e}V$1=At.return}}if(K=xt,jg(),lc&&typeof lc.onPostCommitFiberRoot=="function")try{lc.onPostCommitFiberRoot(kc,ht)}catch{}vt=!0}return vt}finally{C$1=_e,ok.transition=$}}return!1}function Xk(ht,$,_e){$=Ji(_e,$),$=Ni(ht,$,1),ht=nh(ht,$,1),$=R$1(),ht!==null&&(Ac(ht,1,$),Dk(ht,$))}function W$2(ht,$,_e){if(ht.tag===3)Xk(ht,ht,_e);else for(;$!==null;){if($.tag===3){Xk($,ht,_e);break}else if($.tag===1){var vt=$.stateNode;if(typeof $.type.getDerivedStateFromError=="function"||typeof vt.componentDidCatch=="function"&&(Ri===null||!Ri.has(vt))){ht=Ji(_e,ht),ht=Qi($,ht,1),$=nh($,ht,1),ht=R$1(),$!==null&&(Ac($,1,ht),Dk($,ht));break}}$=$.return}}function Ti(ht,$,_e){var vt=ht.pingCache;vt!==null&&vt.delete($),$=R$1(),ht.pingedLanes|=ht.suspendedLanes&_e,Q===ht&&(Z&_e)===_e&&(T$3===4||T$3===3&&(Z&130023424)===Z&&500>B$1()-fk?Kk(ht,0):rk|=_e),Dk(ht,$)}function Yk(ht,$){$===0&&(ht.mode&1?($=sc,sc<<=1,!(sc&130023424)&&(sc=4194304)):$=1);var _e=R$1();ht=ih(ht,$),ht!==null&&(Ac(ht,$,_e),Dk(ht,_e))}function uj(ht){var $=ht.memoizedState,_e=0;$!==null&&(_e=$.retryLane),Yk(ht,_e)}function bk(ht,$){var _e=0;switch(ht.tag){case 13:var vt=ht.stateNode,xt=ht.memoizedState;xt!==null&&(_e=xt.retryLane);break;case 19:vt=ht.stateNode;break;default:throw Error(p$4(314))}vt!==null&&vt.delete($),Yk(ht,_e)}var Vk;Vk=function(ht,$,_e){if(ht!==null)if(ht.memoizedProps!==$.pendingProps||Wf.current)dh=!0;else{if(!(ht.lanes&_e)&&!($.flags&128))return dh=!1,yj(ht,$,_e);dh=!!(ht.flags&131072)}else dh=!1,I$4&&$.flags&1048576&&ug($,ng,$.index);switch($.lanes=0,$.tag){case 2:var vt=$.type;ij(ht,$),ht=$.pendingProps;var xt=Yf($,H$2.current);ch($,_e),xt=Nh(null,$,vt,ht,xt,_e);var bt=Sh();return $.flags|=1,typeof xt=="object"&&xt!==null&&typeof xt.render=="function"&&xt.$$typeof===void 0?($.tag=1,$.memoizedState=null,$.updateQueue=null,Zf(vt)?(bt=!0,cg($)):bt=!1,$.memoizedState=xt.state!==null&&xt.state!==void 0?xt.state:null,kh($),xt.updater=Ei,$.stateNode=xt,xt._reactInternals=$,Ii($,vt,ht,_e),$=jj(null,$,vt,!0,bt,_e)):($.tag=0,I$4&&bt&&vg($),Xi(null,$,xt,_e),$=$.child),$;case 16:vt=$.elementType;e:{switch(ij(ht,$),ht=$.pendingProps,xt=vt._init,vt=xt(vt._payload),$.type=vt,xt=$.tag=Zk(vt),ht=Ci(vt,ht),xt){case 0:$=cj(null,$,vt,ht,_e);break e;case 1:$=hj(null,$,vt,ht,_e);break e;case 11:$=Yi(null,$,vt,ht,_e);break e;case 14:$=$i(null,$,vt,Ci(vt.type,ht),_e);break e}throw Error(p$4(306,vt,""))}return $;case 0:return vt=$.type,xt=$.pendingProps,xt=$.elementType===vt?xt:Ci(vt,xt),cj(ht,$,vt,xt,_e);case 1:return vt=$.type,xt=$.pendingProps,xt=$.elementType===vt?xt:Ci(vt,xt),hj(ht,$,vt,xt,_e);case 3:e:{if(kj($),ht===null)throw Error(p$4(387));vt=$.pendingProps,bt=$.memoizedState,xt=bt.element,lh(ht,$),qh($,vt,null,_e);var Et=$.memoizedState;if(vt=Et.element,bt.isDehydrated)if(bt={element:vt,isDehydrated:!1,cache:Et.cache,pendingSuspenseBoundaries:Et.pendingSuspenseBoundaries,transitions:Et.transitions},$.updateQueue.baseState=bt,$.memoizedState=bt,$.flags&256){xt=Ji(Error(p$4(423)),$),$=lj(ht,$,vt,_e,xt);break e}else if(vt!==xt){xt=Ji(Error(p$4(424)),$),$=lj(ht,$,vt,_e,xt);break e}else for(yg=Lf($.stateNode.containerInfo.firstChild),xg=$,I$4=!0,zg=null,_e=Vg($,null,vt,_e),$.child=_e;_e;)_e.flags=_e.flags&-3|4096,_e=_e.sibling;else{if(Ig(),vt===xt){$=Zi(ht,$,_e);break e}Xi(ht,$,vt,_e)}$=$.child}return $;case 5:return Ah($),ht===null&&Eg($),vt=$.type,xt=$.pendingProps,bt=ht!==null?ht.memoizedProps:null,Et=xt.children,Ef(vt,xt)?Et=null:bt!==null&&Ef(vt,bt)&&($.flags|=32),gj(ht,$),Xi(ht,$,Et,_e),$.child;case 6:return ht===null&&Eg($),null;case 13:return oj(ht,$,_e);case 4:return yh($,$.stateNode.containerInfo),vt=$.pendingProps,ht===null?$.child=Ug($,null,vt,_e):Xi(ht,$,vt,_e),$.child;case 11:return vt=$.type,xt=$.pendingProps,xt=$.elementType===vt?xt:Ci(vt,xt),Yi(ht,$,vt,xt,_e);case 7:return Xi(ht,$,$.pendingProps,_e),$.child;case 8:return Xi(ht,$,$.pendingProps.children,_e),$.child;case 12:return Xi(ht,$,$.pendingProps.children,_e),$.child;case 10:e:{if(vt=$.type._context,xt=$.pendingProps,bt=$.memoizedProps,Et=xt.value,G$2(Wg,vt._currentValue),vt._currentValue=Et,bt!==null)if(He(bt.value,Et)){if(bt.children===xt.children&&!Wf.current){$=Zi(ht,$,_e);break e}}else for(bt=$.child,bt!==null&&(bt.return=$);bt!==null;){var At=bt.dependencies;if(At!==null){Et=bt.child;for(var _t=At.firstContext;_t!==null;){if(_t.context===vt){if(bt.tag===1){_t=mh(-1,_e&-_e),_t.tag=2;var Ct=bt.updateQueue;if(Ct!==null){Ct=Ct.shared;var St=Ct.pending;St===null?_t.next=_t:(_t.next=St.next,St.next=_t),Ct.pending=_t}}bt.lanes|=_e,_t=bt.alternate,_t!==null&&(_t.lanes|=_e),bh(bt.return,_e,$),At.lanes|=_e;break}_t=_t.next}}else if(bt.tag===10)Et=bt.type===$.type?null:bt.child;else if(bt.tag===18){if(Et=bt.return,Et===null)throw Error(p$4(341));Et.lanes|=_e,At=Et.alternate,At!==null&&(At.lanes|=_e),bh(Et,_e,$),Et=bt.sibling}else Et=bt.child;if(Et!==null)Et.return=bt;else for(Et=bt;Et!==null;){if(Et===$){Et=null;break}if(bt=Et.sibling,bt!==null){bt.return=Et.return,Et=bt;break}Et=Et.return}bt=Et}Xi(ht,$,xt.children,_e),$=$.child}return $;case 9:return xt=$.type,vt=$.pendingProps.children,ch($,_e),xt=eh(xt),vt=vt(xt),$.flags|=1,Xi(ht,$,vt,_e),$.child;case 14:return vt=$.type,xt=Ci(vt,$.pendingProps),xt=Ci(vt.type,xt),$i(ht,$,vt,xt,_e);case 15:return bj(ht,$,$.type,$.pendingProps,_e);case 17:return vt=$.type,xt=$.pendingProps,xt=$.elementType===vt?xt:Ci(vt,xt),ij(ht,$),$.tag=1,Zf(vt)?(ht=!0,cg($)):ht=!1,ch($,_e),Gi($,vt,xt),Ii($,vt,xt,_e),jj(null,$,vt,!0,ht,_e);case 19:return xj(ht,$,_e);case 22:return dj(ht,$,_e)}throw Error(p$4(156,$.tag))};function Fk(ht,$){return ac(ht,$)}function $k(ht,$,_e,vt){this.tag=ht,this.key=_e,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=$,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=vt,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Bg(ht,$,_e,vt){return new $k(ht,$,_e,vt)}function aj(ht){return ht=ht.prototype,!(!ht||!ht.isReactComponent)}function Zk(ht){if(typeof ht=="function")return aj(ht)?1:0;if(ht!=null){if(ht=ht.$$typeof,ht===Da)return 11;if(ht===Ga)return 14}return 2}function Pg(ht,$){var _e=ht.alternate;return _e===null?(_e=Bg(ht.tag,$,ht.key,ht.mode),_e.elementType=ht.elementType,_e.type=ht.type,_e.stateNode=ht.stateNode,_e.alternate=ht,ht.alternate=_e):(_e.pendingProps=$,_e.type=ht.type,_e.flags=0,_e.subtreeFlags=0,_e.deletions=null),_e.flags=ht.flags&14680064,_e.childLanes=ht.childLanes,_e.lanes=ht.lanes,_e.child=ht.child,_e.memoizedProps=ht.memoizedProps,_e.memoizedState=ht.memoizedState,_e.updateQueue=ht.updateQueue,$=ht.dependencies,_e.dependencies=$===null?null:{lanes:$.lanes,firstContext:$.firstContext},_e.sibling=ht.sibling,_e.index=ht.index,_e.ref=ht.ref,_e}function Rg(ht,$,_e,vt,xt,bt){var Et=2;if(vt=ht,typeof ht=="function")aj(ht)&&(Et=1);else if(typeof ht=="string")Et=5;else e:switch(ht){case ya:return Tg(_e.children,xt,bt,$);case za:Et=8,xt|=8;break;case Aa:return ht=Bg(12,_e,$,xt|2),ht.elementType=Aa,ht.lanes=bt,ht;case Ea:return ht=Bg(13,_e,$,xt),ht.elementType=Ea,ht.lanes=bt,ht;case Fa:return ht=Bg(19,_e,$,xt),ht.elementType=Fa,ht.lanes=bt,ht;case Ia:return pj(_e,xt,bt,$);default:if(typeof ht=="object"&&ht!==null)switch(ht.$$typeof){case Ba:Et=10;break e;case Ca:Et=9;break e;case Da:Et=11;break e;case Ga:Et=14;break e;case Ha:Et=16,vt=null;break e}throw Error(p$4(130,ht==null?ht:typeof ht,""))}return $=Bg(Et,_e,$,xt),$.elementType=ht,$.type=vt,$.lanes=bt,$}function Tg(ht,$,_e,vt){return ht=Bg(7,ht,vt,$),ht.lanes=_e,ht}function pj(ht,$,_e,vt){return ht=Bg(22,ht,vt,$),ht.elementType=Ia,ht.lanes=_e,ht.stateNode={isHidden:!1},ht}function Qg(ht,$,_e){return ht=Bg(6,ht,null,$),ht.lanes=_e,ht}function Sg(ht,$,_e){return $=Bg(4,ht.children!==null?ht.children:[],ht.key,$),$.lanes=_e,$.stateNode={containerInfo:ht.containerInfo,pendingChildren:null,implementation:ht.implementation},$}function al(ht,$,_e,vt,xt){this.tag=$,this.containerInfo=ht,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=zc(0),this.expirationTimes=zc(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=zc(0),this.identifierPrefix=vt,this.onRecoverableError=xt,this.mutableSourceEagerHydrationData=null}function bl(ht,$,_e,vt,xt,bt,Et,At,_t){return ht=new al(ht,$,_e,At,_t),$===1?($=1,bt===!0&&($|=8)):$=0,bt=Bg(3,null,null,$),ht.current=bt,bt.stateNode=ht,bt.memoizedState={element:vt,isDehydrated:_e,cache:null,transitions:null,pendingSuspenseBoundaries:null},kh(bt),ht}function cl(ht,$,_e){var vt=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:wa,key:vt==null?null:""+vt,children:ht,containerInfo:$,implementation:_e}}function dl(ht){if(!ht)return Vf;ht=ht._reactInternals;e:{if(Vb(ht)!==ht||ht.tag!==1)throw Error(p$4(170));var $=ht;do{switch($.tag){case 3:$=$.stateNode.context;break e;case 1:if(Zf($.type)){$=$.stateNode.__reactInternalMemoizedMergedChildContext;break e}}$=$.return}while($!==null);throw Error(p$4(171))}if(ht.tag===1){var _e=ht.type;if(Zf(_e))return bg(ht,_e,$)}return $}function el(ht,$,_e,vt,xt,bt,Et,At,_t){return ht=bl(_e,vt,!0,ht,xt,bt,Et,At,_t),ht.context=dl(null),_e=ht.current,vt=R$1(),xt=yi(_e),bt=mh(vt,xt),bt.callback=$??null,nh(_e,bt,xt),ht.current.lanes=xt,Ac(ht,xt,vt),Dk(ht,vt),ht}function fl(ht,$,_e,vt){var xt=$.current,bt=R$1(),Et=yi(xt);return _e=dl(_e),$.context===null?$.context=_e:$.pendingContext=_e,$=mh(bt,Et),$.payload={element:ht},vt=vt===void 0?null:vt,vt!==null&&($.callback=vt),ht=nh(xt,$,Et),ht!==null&&(gi(ht,xt,Et,bt),oh(ht,xt,Et)),Et}function gl(ht){if(ht=ht.current,!ht.child)return null;switch(ht.child.tag){case 5:return ht.child.stateNode;default:return ht.child.stateNode}}function hl(ht,$){if(ht=ht.memoizedState,ht!==null&&ht.dehydrated!==null){var _e=ht.retryLane;ht.retryLane=_e!==0&&_e<$?_e:$}}function il(ht,$){hl(ht,$),(ht=ht.alternate)&&hl(ht,$)}function jl(){return null}var kl=typeof reportError=="function"?reportError:function(ht){console.error(ht)};function ll(ht){this._internalRoot=ht}ml.prototype.render=ll.prototype.render=function(ht){var $=this._internalRoot;if($===null)throw Error(p$4(409));fl(ht,$,null,null)};ml.prototype.unmount=ll.prototype.unmount=function(){var ht=this._internalRoot;if(ht!==null){this._internalRoot=null;var $=ht.containerInfo;Rk(function(){fl(null,ht,null,null)}),$[uf]=null}};function ml(ht){this._internalRoot=ht}ml.prototype.unstable_scheduleHydration=function(ht){if(ht){var $=Hc();ht={blockedOn:null,target:ht,priority:$};for(var _e=0;_e<Qc.length&&$!==0&&$<Qc[_e].priority;_e++);Qc.splice(_e,0,ht),_e===0&&Vc(ht)}};function nl(ht){return!(!ht||ht.nodeType!==1&&ht.nodeType!==9&&ht.nodeType!==11)}function ol(ht){return!(!ht||ht.nodeType!==1&&ht.nodeType!==9&&ht.nodeType!==11&&(ht.nodeType!==8||ht.nodeValue!==" react-mount-point-unstable "))}function pl(){}function ql(ht,$,_e,vt,xt){if(xt){if(typeof vt=="function"){var bt=vt;vt=function(){var Ct=gl(Et);bt.call(Ct)}}var Et=el($,vt,ht,0,null,!1,!1,"",pl);return ht._reactRootContainer=Et,ht[uf]=Et.current,sf(ht.nodeType===8?ht.parentNode:ht),Rk(),Et}for(;xt=ht.lastChild;)ht.removeChild(xt);if(typeof vt=="function"){var At=vt;vt=function(){var Ct=gl(_t);At.call(Ct)}}var _t=bl(ht,0,!1,null,null,!1,!1,"",pl);return ht._reactRootContainer=_t,ht[uf]=_t.current,sf(ht.nodeType===8?ht.parentNode:ht),Rk(function(){fl($,_t,_e,vt)}),_t}function rl(ht,$,_e,vt,xt){var bt=_e._reactRootContainer;if(bt){var Et=bt;if(typeof xt=="function"){var At=xt;xt=function(){var _t=gl(Et);At.call(_t)}}fl($,Et,ht,xt)}else Et=ql(_e,$,ht,xt,vt);return gl(Et)}Ec=function(ht){switch(ht.tag){case 3:var $=ht.stateNode;if($.current.memoizedState.isDehydrated){var _e=tc($.pendingLanes);_e!==0&&(Cc($,_e|1),Dk($,B$1()),!(K&6)&&(Gj=B$1()+500,jg()))}break;case 13:Rk(function(){var vt=ih(ht,1);if(vt!==null){var xt=R$1();gi(vt,ht,1,xt)}}),il(ht,1)}};Fc=function(ht){if(ht.tag===13){var $=ih(ht,134217728);if($!==null){var _e=R$1();gi($,ht,134217728,_e)}il(ht,134217728)}};Gc=function(ht){if(ht.tag===13){var $=yi(ht),_e=ih(ht,$);if(_e!==null){var vt=R$1();gi(_e,ht,$,vt)}il(ht,$)}};Hc=function(){return C$1};Ic=function(ht,$){var _e=C$1;try{return C$1=ht,$()}finally{C$1=_e}};yb=function(ht,$,_e){switch($){case"input":if(bb(ht,_e),$=_e.name,_e.type==="radio"&&$!=null){for(_e=ht;_e.parentNode;)_e=_e.parentNode;for(_e=_e.querySelectorAll("input[name="+JSON.stringify(""+$)+'][type="radio"]'),$=0;$<_e.length;$++){var vt=_e[$];if(vt!==ht&&vt.form===ht.form){var xt=Db(vt);if(!xt)throw Error(p$4(90));Wa(vt),bb(vt,xt)}}}break;case"textarea":ib(ht,_e);break;case"select":$=_e.value,$!=null&&fb(ht,!!_e.multiple,$,!1)}};Gb=Qk;Hb=Rk;var sl={usingClientEntryPoint:!1,Events:[Cb,ue,Db,Eb,Fb,Qk]},tl={findFiberByHostInstance:Wc,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},ul={bundleType:tl.bundleType,version:tl.version,rendererPackageName:tl.rendererPackageName,rendererConfig:tl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ua.ReactCurrentDispatcher,findHostInstanceByFiber:function(ht){return ht=Zb(ht),ht===null?null:ht.stateNode},findFiberByHostInstance:tl.findFiberByHostInstance||jl,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var vl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!vl.isDisabled&&vl.supportsFiber)try{kc=vl.inject(ul),lc=vl}catch{}}reactDom_production_min.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=sl;reactDom_production_min.createPortal=function(ht,$){var _e=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!nl($))throw Error(p$4(200));return cl(ht,$,null,_e)};reactDom_production_min.createRoot=function(ht,$){if(!nl(ht))throw Error(p$4(299));var _e=!1,vt="",xt=kl;return $!=null&&($.unstable_strictMode===!0&&(_e=!0),$.identifierPrefix!==void 0&&(vt=$.identifierPrefix),$.onRecoverableError!==void 0&&(xt=$.onRecoverableError)),$=bl(ht,1,!1,null,null,_e,!1,vt,xt),ht[uf]=$.current,sf(ht.nodeType===8?ht.parentNode:ht),new ll($)};reactDom_production_min.findDOMNode=function(ht){if(ht==null)return null;if(ht.nodeType===1)return ht;var $=ht._reactInternals;if($===void 0)throw typeof ht.render=="function"?Error(p$4(188)):(ht=Object.keys(ht).join(","),Error(p$4(268,ht)));return ht=Zb($),ht=ht===null?null:ht.stateNode,ht};reactDom_production_min.flushSync=function(ht){return Rk(ht)};reactDom_production_min.hydrate=function(ht,$,_e){if(!ol($))throw Error(p$4(200));return rl(null,ht,$,!0,_e)};reactDom_production_min.hydrateRoot=function(ht,$,_e){if(!nl(ht))throw Error(p$4(405));var vt=_e!=null&&_e.hydratedSources||null,xt=!1,bt="",Et=kl;if(_e!=null&&(_e.unstable_strictMode===!0&&(xt=!0),_e.identifierPrefix!==void 0&&(bt=_e.identifierPrefix),_e.onRecoverableError!==void 0&&(Et=_e.onRecoverableError)),$=el($,null,ht,1,_e??null,xt,!1,bt,Et),ht[uf]=$.current,sf(ht),vt)for(ht=0;ht<vt.length;ht++)_e=vt[ht],xt=_e._getVersion,xt=xt(_e._source),$.mutableSourceEagerHydrationData==null?$.mutableSourceEagerHydrationData=[_e,xt]:$.mutableSourceEagerHydrationData.push(_e,xt);return new ml($)};reactDom_production_min.render=function(ht,$,_e){if(!ol($))throw Error(p$4(200));return rl(null,ht,$,!1,_e)};reactDom_production_min.unmountComponentAtNode=function(ht){if(!ol(ht))throw Error(p$4(40));return ht._reactRootContainer?(Rk(function(){rl(null,null,ht,!1,function(){ht._reactRootContainer=null,ht[uf]=null})}),!0):!1};reactDom_production_min.unstable_batchedUpdates=Qk;reactDom_production_min.unstable_renderSubtreeIntoContainer=function(ht,$,_e,vt){if(!ol(_e))throw Error(p$4(200));if(ht==null||ht._reactInternals===void 0)throw Error(p$4(38));return rl(ht,$,_e,!1,vt)};reactDom_production_min.version="18.3.1-next-f1338f8080-20240426";function checkDCE(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(checkDCE)}catch(ht){console.error(ht)}}checkDCE(),reactDom.exports=reactDom_production_min;var reactDomExports=reactDom.exports,m$4=reactDomExports;client.createRoot=m$4.createRoot,client.hydrateRoot=m$4.hydrateRoot;/**
 * @remix-run/router v1.16.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function _extends$2(){return _extends$2=Object.assign?Object.assign.bind():function(ht){for(var $=1;$<arguments.length;$++){var _e=arguments[$];for(var vt in _e)Object.prototype.hasOwnProperty.call(_e,vt)&&(ht[vt]=_e[vt])}return ht},_extends$2.apply(this,arguments)}var Action;(function(ht){ht.Pop="POP",ht.Push="PUSH",ht.Replace="REPLACE"})(Action||(Action={}));const PopStateEventType="popstate";function createBrowserHistory(ht){ht===void 0&&(ht={});function $(vt,xt){let{pathname:bt,search:Et,hash:At}=vt.location;return createLocation("",{pathname:bt,search:Et,hash:At},xt.state&&xt.state.usr||null,xt.state&&xt.state.key||"default")}function _e(vt,xt){return typeof xt=="string"?xt:createPath(xt)}return getUrlBasedHistory($,_e,null,ht)}function invariant(ht,$){if(ht===!1||ht===null||typeof ht>"u")throw new Error($)}function warning(ht,$){if(!ht){typeof console<"u"&&console.warn($);try{throw new Error($)}catch{}}}function createKey(){return Math.random().toString(36).substr(2,8)}function getHistoryState(ht,$){return{usr:ht.state,key:ht.key,idx:$}}function createLocation(ht,$,_e,vt){return _e===void 0&&(_e=null),_extends$2({pathname:typeof ht=="string"?ht:ht.pathname,search:"",hash:""},typeof $=="string"?parsePath($):$,{state:_e,key:$&&$.key||vt||createKey()})}function createPath(ht){let{pathname:$="/",search:_e="",hash:vt=""}=ht;return _e&&_e!=="?"&&($+=_e.charAt(0)==="?"?_e:"?"+_e),vt&&vt!=="#"&&($+=vt.charAt(0)==="#"?vt:"#"+vt),$}function parsePath(ht){let $={};if(ht){let _e=ht.indexOf("#");_e>=0&&($.hash=ht.substr(_e),ht=ht.substr(0,_e));let vt=ht.indexOf("?");vt>=0&&($.search=ht.substr(vt),ht=ht.substr(0,vt)),ht&&($.pathname=ht)}return $}function getUrlBasedHistory(ht,$,_e,vt){vt===void 0&&(vt={});let{window:xt=document.defaultView,v5Compat:bt=!1}=vt,Et=xt.history,At=Action.Pop,_t=null,Ct=St();Ct==null&&(Ct=0,Et.replaceState(_extends$2({},Et.state,{idx:Ct}),""));function St(){return(Et.state||{idx:null}).idx}function Rt(){At=Action.Pop;let $t=St(),Ft=$t==null?null:$t-Ct;Ct=$t,_t&&_t({action:At,location:Lt.location,delta:Ft})}function Pt($t,Ft){At=Action.Push;let Dt=createLocation(Lt.location,$t,Ft);Ct=St()+1;let Nt=getHistoryState(Dt,Ct),Ht=Lt.createHref(Dt);try{Et.pushState(Nt,"",Ht)}catch(Ot){if(Ot instanceof DOMException&&Ot.name==="DataCloneError")throw Ot;xt.location.assign(Ht)}bt&&_t&&_t({action:At,location:Lt.location,delta:1})}function kt($t,Ft){At=Action.Replace;let Dt=createLocation(Lt.location,$t,Ft);Ct=St();let Nt=getHistoryState(Dt,Ct),Ht=Lt.createHref(Dt);Et.replaceState(Nt,"",Ht),bt&&_t&&_t({action:At,location:Lt.location,delta:0})}function Mt($t){let Ft=xt.location.origin!=="null"?xt.location.origin:xt.location.href,Dt=typeof $t=="string"?$t:createPath($t);return Dt=Dt.replace(/ $/,"%20"),invariant(Ft,"No window.location.(origin|href) available to create URL for href: "+Dt),new URL(Dt,Ft)}let Lt={get action(){return At},get location(){return ht(xt,Et)},listen($t){if(_t)throw new Error("A history only accepts one active listener");return xt.addEventListener(PopStateEventType,Rt),_t=$t,()=>{xt.removeEventListener(PopStateEventType,Rt),_t=null}},createHref($t){return $(xt,$t)},createURL:Mt,encodeLocation($t){let Ft=Mt($t);return{pathname:Ft.pathname,search:Ft.search,hash:Ft.hash}},push:Pt,replace:kt,go($t){return Et.go($t)}};return Lt}var ResultType;(function(ht){ht.data="data",ht.deferred="deferred",ht.redirect="redirect",ht.error="error"})(ResultType||(ResultType={}));function matchRoutes(ht,$,_e){_e===void 0&&(_e="/");let vt=typeof $=="string"?parsePath($):$,xt=stripBasename(vt.pathname||"/",_e);if(xt==null)return null;let bt=flattenRoutes(ht);rankRouteBranches(bt);let Et=null;for(let At=0;Et==null&&At<bt.length;++At){let _t=decodePath(xt);Et=matchRouteBranch(bt[At],_t)}return Et}function flattenRoutes(ht,$,_e,vt){$===void 0&&($=[]),_e===void 0&&(_e=[]),vt===void 0&&(vt="");let xt=(bt,Et,At)=>{let _t={relativePath:At===void 0?bt.path||"":At,caseSensitive:bt.caseSensitive===!0,childrenIndex:Et,route:bt};_t.relativePath.startsWith("/")&&(invariant(_t.relativePath.startsWith(vt),'Absolute route path "'+_t.relativePath+'" nested under path '+('"'+vt+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),_t.relativePath=_t.relativePath.slice(vt.length));let Ct=joinPaths([vt,_t.relativePath]),St=_e.concat(_t);bt.children&&bt.children.length>0&&(invariant(bt.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+Ct+'".')),flattenRoutes(bt.children,$,St,Ct)),!(bt.path==null&&!bt.index)&&$.push({path:Ct,score:computeScore(Ct,bt.index),routesMeta:St})};return ht.forEach((bt,Et)=>{var At;if(bt.path===""||!((At=bt.path)!=null&&At.includes("?")))xt(bt,Et);else for(let _t of explodeOptionalSegments(bt.path))xt(bt,Et,_t)}),$}function explodeOptionalSegments(ht){let $=ht.split("/");if($.length===0)return[];let[_e,...vt]=$,xt=_e.endsWith("?"),bt=_e.replace(/\?$/,"");if(vt.length===0)return xt?[bt,""]:[bt];let Et=explodeOptionalSegments(vt.join("/")),At=[];return At.push(...Et.map(_t=>_t===""?bt:[bt,_t].join("/"))),xt&&At.push(...Et),At.map(_t=>ht.startsWith("/")&&_t===""?"/":_t)}function rankRouteBranches(ht){ht.sort(($,_e)=>$.score!==_e.score?_e.score-$.score:compareIndexes($.routesMeta.map(vt=>vt.childrenIndex),_e.routesMeta.map(vt=>vt.childrenIndex)))}const paramRe=/^:[\w-]+$/,dynamicSegmentValue=3,indexRouteValue=2,emptySegmentValue=1,staticSegmentValue=10,splatPenalty=-2,isSplat=ht=>ht==="*";function computeScore(ht,$){let _e=ht.split("/"),vt=_e.length;return _e.some(isSplat)&&(vt+=splatPenalty),$&&(vt+=indexRouteValue),_e.filter(xt=>!isSplat(xt)).reduce((xt,bt)=>xt+(paramRe.test(bt)?dynamicSegmentValue:bt===""?emptySegmentValue:staticSegmentValue),vt)}function compareIndexes(ht,$){return ht.length===$.length&&ht.slice(0,-1).every((vt,xt)=>vt===$[xt])?ht[ht.length-1]-$[$.length-1]:0}function matchRouteBranch(ht,$){let{routesMeta:_e}=ht,vt={},xt="/",bt=[];for(let Et=0;Et<_e.length;++Et){let At=_e[Et],_t=Et===_e.length-1,Ct=xt==="/"?$:$.slice(xt.length)||"/",St=matchPath({path:At.relativePath,caseSensitive:At.caseSensitive,end:_t},Ct);if(!St)return null;Object.assign(vt,St.params);let Rt=At.route;bt.push({params:vt,pathname:joinPaths([xt,St.pathname]),pathnameBase:normalizePathname(joinPaths([xt,St.pathnameBase])),route:Rt}),St.pathnameBase!=="/"&&(xt=joinPaths([xt,St.pathnameBase]))}return bt}function matchPath(ht,$){typeof ht=="string"&&(ht={path:ht,caseSensitive:!1,end:!0});let[_e,vt]=compilePath(ht.path,ht.caseSensitive,ht.end),xt=$.match(_e);if(!xt)return null;let bt=xt[0],Et=bt.replace(/(.)\/+$/,"$1"),At=xt.slice(1);return{params:vt.reduce((Ct,St,Rt)=>{let{paramName:Pt,isOptional:kt}=St;if(Pt==="*"){let Lt=At[Rt]||"";Et=bt.slice(0,bt.length-Lt.length).replace(/(.)\/+$/,"$1")}const Mt=At[Rt];return kt&&!Mt?Ct[Pt]=void 0:Ct[Pt]=(Mt||"").replace(/%2F/g,"/"),Ct},{}),pathname:bt,pathnameBase:Et,pattern:ht}}function compilePath(ht,$,_e){$===void 0&&($=!1),_e===void 0&&(_e=!0),warning(ht==="*"||!ht.endsWith("*")||ht.endsWith("/*"),'Route path "'+ht+'" will be treated as if it were '+('"'+ht.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+ht.replace(/\*$/,"/*")+'".'));let vt=[],xt="^"+ht.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(Et,At,_t)=>(vt.push({paramName:At,isOptional:_t!=null}),_t?"/?([^\\/]+)?":"/([^\\/]+)"));return ht.endsWith("*")?(vt.push({paramName:"*"}),xt+=ht==="*"||ht==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):_e?xt+="\\/*$":ht!==""&&ht!=="/"&&(xt+="(?:(?=\\/|$))"),[new RegExp(xt,$?void 0:"i"),vt]}function decodePath(ht){try{return ht.split("/").map($=>decodeURIComponent($).replace(/\//g,"%2F")).join("/")}catch($){return warning(!1,'The URL path "'+ht+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+$+").")),ht}}function stripBasename(ht,$){if($==="/")return ht;if(!ht.toLowerCase().startsWith($.toLowerCase()))return null;let _e=$.endsWith("/")?$.length-1:$.length,vt=ht.charAt(_e);return vt&&vt!=="/"?null:ht.slice(_e)||"/"}function resolvePath(ht,$){$===void 0&&($="/");let{pathname:_e,search:vt="",hash:xt=""}=typeof ht=="string"?parsePath(ht):ht;return{pathname:_e?_e.startsWith("/")?_e:resolvePathname(_e,$):$,search:normalizeSearch(vt),hash:normalizeHash(xt)}}function resolvePathname(ht,$){let _e=$.replace(/\/+$/,"").split("/");return ht.split("/").forEach(xt=>{xt===".."?_e.length>1&&_e.pop():xt!=="."&&_e.push(xt)}),_e.length>1?_e.join("/"):"/"}function getInvalidPathError(ht,$,_e,vt){return"Cannot include a '"+ht+"' character in a manually specified "+("`to."+$+"` field ["+JSON.stringify(vt)+"].  Please separate it out to the ")+("`to."+_e+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function getPathContributingMatches(ht){return ht.filter(($,_e)=>_e===0||$.route.path&&$.route.path.length>0)}function getResolveToMatches(ht,$){let _e=getPathContributingMatches(ht);return $?_e.map((vt,xt)=>xt===ht.length-1?vt.pathname:vt.pathnameBase):_e.map(vt=>vt.pathnameBase)}function resolveTo(ht,$,_e,vt){vt===void 0&&(vt=!1);let xt;typeof ht=="string"?xt=parsePath(ht):(xt=_extends$2({},ht),invariant(!xt.pathname||!xt.pathname.includes("?"),getInvalidPathError("?","pathname","search",xt)),invariant(!xt.pathname||!xt.pathname.includes("#"),getInvalidPathError("#","pathname","hash",xt)),invariant(!xt.search||!xt.search.includes("#"),getInvalidPathError("#","search","hash",xt)));let bt=ht===""||xt.pathname==="",Et=bt?"/":xt.pathname,At;if(Et==null)At=_e;else{let Rt=$.length-1;if(!vt&&Et.startsWith("..")){let Pt=Et.split("/");for(;Pt[0]==="..";)Pt.shift(),Rt-=1;xt.pathname=Pt.join("/")}At=Rt>=0?$[Rt]:"/"}let _t=resolvePath(xt,At),Ct=Et&&Et!=="/"&&Et.endsWith("/"),St=(bt||Et===".")&&_e.endsWith("/");return!_t.pathname.endsWith("/")&&(Ct||St)&&(_t.pathname+="/"),_t}const joinPaths=ht=>ht.join("/").replace(/\/\/+/g,"/"),normalizePathname=ht=>ht.replace(/\/+$/,"").replace(/^\/*/,"/"),normalizeSearch=ht=>!ht||ht==="?"?"":ht.startsWith("?")?ht:"?"+ht,normalizeHash=ht=>!ht||ht==="#"?"":ht.startsWith("#")?ht:"#"+ht;function isRouteErrorResponse(ht){return ht!=null&&typeof ht.status=="number"&&typeof ht.statusText=="string"&&typeof ht.internal=="boolean"&&"data"in ht}const validMutationMethodsArr=["post","put","patch","delete"];new Set(validMutationMethodsArr);const validRequestMethodsArr=["get",...validMutationMethodsArr];new Set(validRequestMethodsArr);/**
 * React Router v6.23.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function _extends$1(){return _extends$1=Object.assign?Object.assign.bind():function(ht){for(var $=1;$<arguments.length;$++){var _e=arguments[$];for(var vt in _e)Object.prototype.hasOwnProperty.call(_e,vt)&&(ht[vt]=_e[vt])}return ht},_extends$1.apply(this,arguments)}const DataRouterContext=reactExports.createContext(null),DataRouterStateContext=reactExports.createContext(null),NavigationContext=reactExports.createContext(null),LocationContext=reactExports.createContext(null),RouteContext=reactExports.createContext({outlet:null,matches:[],isDataRoute:!1}),RouteErrorContext=reactExports.createContext(null);function useInRouterContext(){return reactExports.useContext(LocationContext)!=null}function useLocation(){return useInRouterContext()||invariant(!1),reactExports.useContext(LocationContext).location}function useIsomorphicLayoutEffect(ht){reactExports.useContext(NavigationContext).static||reactExports.useLayoutEffect(ht)}function useNavigate(){let{isDataRoute:ht}=reactExports.useContext(RouteContext);return ht?useNavigateStable():useNavigateUnstable()}function useNavigateUnstable(){useInRouterContext()||invariant(!1);let ht=reactExports.useContext(DataRouterContext),{basename:$,future:_e,navigator:vt}=reactExports.useContext(NavigationContext),{matches:xt}=reactExports.useContext(RouteContext),{pathname:bt}=useLocation(),Et=JSON.stringify(getResolveToMatches(xt,_e.v7_relativeSplatPath)),At=reactExports.useRef(!1);return useIsomorphicLayoutEffect(()=>{At.current=!0}),reactExports.useCallback(function(Ct,St){if(St===void 0&&(St={}),!At.current)return;if(typeof Ct=="number"){vt.go(Ct);return}let Rt=resolveTo(Ct,JSON.parse(Et),bt,St.relative==="path");ht==null&&$!=="/"&&(Rt.pathname=Rt.pathname==="/"?$:joinPaths([$,Rt.pathname])),(St.replace?vt.replace:vt.push)(Rt,St.state,St)},[$,vt,Et,bt,ht])}function useRoutes(ht,$){return useRoutesImpl(ht,$)}function useRoutesImpl(ht,$,_e,vt){useInRouterContext()||invariant(!1);let{navigator:xt}=reactExports.useContext(NavigationContext),{matches:bt}=reactExports.useContext(RouteContext),Et=bt[bt.length-1],At=Et?Et.params:{};Et&&Et.pathname;let _t=Et?Et.pathnameBase:"/";Et&&Et.route;let Ct=useLocation(),St;if($){var Rt;let $t=typeof $=="string"?parsePath($):$;_t==="/"||(Rt=$t.pathname)!=null&&Rt.startsWith(_t)||invariant(!1),St=$t}else St=Ct;let Pt=St.pathname||"/",kt=Pt;if(_t!=="/"){let $t=_t.replace(/^\//,"").split("/");kt="/"+Pt.replace(/^\//,"").split("/").slice($t.length).join("/")}let Mt=matchRoutes(ht,{pathname:kt}),Lt=_renderMatches(Mt&&Mt.map($t=>Object.assign({},$t,{params:Object.assign({},At,$t.params),pathname:joinPaths([_t,xt.encodeLocation?xt.encodeLocation($t.pathname).pathname:$t.pathname]),pathnameBase:$t.pathnameBase==="/"?_t:joinPaths([_t,xt.encodeLocation?xt.encodeLocation($t.pathnameBase).pathname:$t.pathnameBase])})),bt,_e,vt);return $&&Lt?reactExports.createElement(LocationContext.Provider,{value:{location:_extends$1({pathname:"/",search:"",hash:"",state:null,key:"default"},St),navigationType:Action.Pop}},Lt):Lt}function DefaultErrorComponent(){let ht=useRouteError(),$=isRouteErrorResponse(ht)?ht.status+" "+ht.statusText:ht instanceof Error?ht.message:JSON.stringify(ht),_e=ht instanceof Error?ht.stack:null,xt={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return reactExports.createElement(reactExports.Fragment,null,reactExports.createElement("h2",null,"Unexpected Application Error!"),reactExports.createElement("h3",{style:{fontStyle:"italic"}},$),_e?reactExports.createElement("pre",{style:xt},_e):null,null)}const defaultErrorElement=reactExports.createElement(DefaultErrorComponent,null);class RenderErrorBoundary extends reactExports.Component{constructor($){super($),this.state={location:$.location,revalidation:$.revalidation,error:$.error}}static getDerivedStateFromError($){return{error:$}}static getDerivedStateFromProps($,_e){return _e.location!==$.location||_e.revalidation!=="idle"&&$.revalidation==="idle"?{error:$.error,location:$.location,revalidation:$.revalidation}:{error:$.error!==void 0?$.error:_e.error,location:_e.location,revalidation:$.revalidation||_e.revalidation}}componentDidCatch($,_e){console.error("React Router caught the following error during render",$,_e)}render(){return this.state.error!==void 0?reactExports.createElement(RouteContext.Provider,{value:this.props.routeContext},reactExports.createElement(RouteErrorContext.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function RenderedRoute(ht){let{routeContext:$,match:_e,children:vt}=ht,xt=reactExports.useContext(DataRouterContext);return xt&&xt.static&&xt.staticContext&&(_e.route.errorElement||_e.route.ErrorBoundary)&&(xt.staticContext._deepestRenderedBoundaryId=_e.route.id),reactExports.createElement(RouteContext.Provider,{value:$},vt)}function _renderMatches(ht,$,_e,vt){var xt;if($===void 0&&($=[]),_e===void 0&&(_e=null),vt===void 0&&(vt=null),ht==null){var bt;if((bt=_e)!=null&&bt.errors)ht=_e.matches;else return null}let Et=ht,At=(xt=_e)==null?void 0:xt.errors;if(At!=null){let St=Et.findIndex(Rt=>Rt.route.id&&(At==null?void 0:At[Rt.route.id])!==void 0);St>=0||invariant(!1),Et=Et.slice(0,Math.min(Et.length,St+1))}let _t=!1,Ct=-1;if(_e&&vt&&vt.v7_partialHydration)for(let St=0;St<Et.length;St++){let Rt=Et[St];if((Rt.route.HydrateFallback||Rt.route.hydrateFallbackElement)&&(Ct=St),Rt.route.id){let{loaderData:Pt,errors:kt}=_e,Mt=Rt.route.loader&&Pt[Rt.route.id]===void 0&&(!kt||kt[Rt.route.id]===void 0);if(Rt.route.lazy||Mt){_t=!0,Ct>=0?Et=Et.slice(0,Ct+1):Et=[Et[0]];break}}}return Et.reduceRight((St,Rt,Pt)=>{let kt,Mt=!1,Lt=null,$t=null;_e&&(kt=At&&Rt.route.id?At[Rt.route.id]:void 0,Lt=Rt.route.errorElement||defaultErrorElement,_t&&(Ct<0&&Pt===0?(Mt=!0,$t=null):Ct===Pt&&(Mt=!0,$t=Rt.route.hydrateFallbackElement||null)));let Ft=$.concat(Et.slice(0,Pt+1)),Dt=()=>{let Nt;return kt?Nt=Lt:Mt?Nt=$t:Rt.route.Component?Nt=reactExports.createElement(Rt.route.Component,null):Rt.route.element?Nt=Rt.route.element:Nt=St,reactExports.createElement(RenderedRoute,{match:Rt,routeContext:{outlet:St,matches:Ft,isDataRoute:_e!=null},children:Nt})};return _e&&(Rt.route.ErrorBoundary||Rt.route.errorElement||Pt===0)?reactExports.createElement(RenderErrorBoundary,{location:_e.location,revalidation:_e.revalidation,component:Lt,error:kt,children:Dt(),routeContext:{outlet:null,matches:Ft,isDataRoute:!0}}):Dt()},null)}var DataRouterHook$1=function(ht){return ht.UseBlocker="useBlocker",ht.UseRevalidator="useRevalidator",ht.UseNavigateStable="useNavigate",ht}(DataRouterHook$1||{}),DataRouterStateHook$1=function(ht){return ht.UseBlocker="useBlocker",ht.UseLoaderData="useLoaderData",ht.UseActionData="useActionData",ht.UseRouteError="useRouteError",ht.UseNavigation="useNavigation",ht.UseRouteLoaderData="useRouteLoaderData",ht.UseMatches="useMatches",ht.UseRevalidator="useRevalidator",ht.UseNavigateStable="useNavigate",ht.UseRouteId="useRouteId",ht}(DataRouterStateHook$1||{});function useDataRouterContext(ht){let $=reactExports.useContext(DataRouterContext);return $||invariant(!1),$}function useDataRouterState(ht){let $=reactExports.useContext(DataRouterStateContext);return $||invariant(!1),$}function useRouteContext(ht){let $=reactExports.useContext(RouteContext);return $||invariant(!1),$}function useCurrentRouteId(ht){let $=useRouteContext(),_e=$.matches[$.matches.length-1];return _e.route.id||invariant(!1),_e.route.id}function useRouteError(){var ht;let $=reactExports.useContext(RouteErrorContext),_e=useDataRouterState(DataRouterStateHook$1.UseRouteError),vt=useCurrentRouteId(DataRouterStateHook$1.UseRouteError);return $!==void 0?$:(ht=_e.errors)==null?void 0:ht[vt]}function useNavigateStable(){let{router:ht}=useDataRouterContext(DataRouterHook$1.UseNavigateStable),$=useCurrentRouteId(DataRouterStateHook$1.UseNavigateStable),_e=reactExports.useRef(!1);return useIsomorphicLayoutEffect(()=>{_e.current=!0}),reactExports.useCallback(function(xt,bt){bt===void 0&&(bt={}),_e.current&&(typeof xt=="number"?ht.navigate(xt):ht.navigate(xt,_extends$1({fromRouteId:$},bt)))},[ht,$])}function Route(ht){invariant(!1)}function Router(ht){let{basename:$="/",children:_e=null,location:vt,navigationType:xt=Action.Pop,navigator:bt,static:Et=!1,future:At}=ht;useInRouterContext()&&invariant(!1);let _t=$.replace(/^\/*/,"/"),Ct=reactExports.useMemo(()=>({basename:_t,navigator:bt,static:Et,future:_extends$1({v7_relativeSplatPath:!1},At)}),[_t,At,bt,Et]);typeof vt=="string"&&(vt=parsePath(vt));let{pathname:St="/",search:Rt="",hash:Pt="",state:kt=null,key:Mt="default"}=vt,Lt=reactExports.useMemo(()=>{let $t=stripBasename(St,_t);return $t==null?null:{location:{pathname:$t,search:Rt,hash:Pt,state:kt,key:Mt},navigationType:xt}},[_t,St,Rt,Pt,kt,Mt,xt]);return Lt==null?null:reactExports.createElement(NavigationContext.Provider,{value:Ct},reactExports.createElement(LocationContext.Provider,{children:_e,value:Lt}))}function Routes(ht){let{children:$,location:_e}=ht;return useRoutes(createRoutesFromChildren($),_e)}new Promise(()=>{});function createRoutesFromChildren(ht,$){$===void 0&&($=[]);let _e=[];return reactExports.Children.forEach(ht,(vt,xt)=>{if(!reactExports.isValidElement(vt))return;let bt=[...$,xt];if(vt.type===reactExports.Fragment){_e.push.apply(_e,createRoutesFromChildren(vt.props.children,bt));return}vt.type!==Route&&invariant(!1),!vt.props.index||!vt.props.children||invariant(!1);let Et={id:vt.props.id||bt.join("-"),caseSensitive:vt.props.caseSensitive,element:vt.props.element,Component:vt.props.Component,index:vt.props.index,path:vt.props.path,loader:vt.props.loader,action:vt.props.action,errorElement:vt.props.errorElement,ErrorBoundary:vt.props.ErrorBoundary,hasErrorBoundary:vt.props.ErrorBoundary!=null||vt.props.errorElement!=null,shouldRevalidate:vt.props.shouldRevalidate,handle:vt.props.handle,lazy:vt.props.lazy};vt.props.children&&(Et.children=createRoutesFromChildren(vt.props.children,bt)),_e.push(Et)}),_e}/**
 * React Router DOM v6.23.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */const REACT_ROUTER_VERSION="6";try{window.__reactRouterVersion=REACT_ROUTER_VERSION}catch{}const START_TRANSITION="startTransition",startTransitionImpl=t$4[START_TRANSITION];function BrowserRouter(ht){let{basename:$,children:_e,future:vt,window:xt}=ht,bt=reactExports.useRef();bt.current==null&&(bt.current=createBrowserHistory({window:xt,v5Compat:!0}));let Et=bt.current,[At,_t]=reactExports.useState({action:Et.action,location:Et.location}),{v7_startTransition:Ct}=vt||{},St=reactExports.useCallback(Rt=>{Ct&&startTransitionImpl?startTransitionImpl(()=>_t(Rt)):_t(Rt)},[_t,Ct]);return reactExports.useLayoutEffect(()=>Et.listen(St),[Et,St]),reactExports.createElement(Router,{basename:$,children:_e,location:At.location,navigationType:At.action,navigator:Et,future:vt})}var DataRouterHook;(function(ht){ht.UseScrollRestoration="useScrollRestoration",ht.UseSubmit="useSubmit",ht.UseSubmitFetcher="useSubmitFetcher",ht.UseFetcher="useFetcher",ht.useViewTransitionState="useViewTransitionState"})(DataRouterHook||(DataRouterHook={}));var DataRouterStateHook;(function(ht){ht.UseFetcher="useFetcher",ht.UseFetchers="useFetchers",ht.UseScrollRestoration="useScrollRestoration"})(DataRouterStateHook||(DataRouterStateHook={}));const $f0a04ccd8dbdd83b$export$e5c5a5f917a5871c=typeof document<"u"?React.useLayoutEffect:()=>{};function $8ae05eaa5c114e9c$export$7f54fc3180508a52(ht){const $=reactExports.useRef(null);return $f0a04ccd8dbdd83b$export$e5c5a5f917a5871c(()=>{$.current=ht},[ht]),reactExports.useCallback((..._e)=>{const vt=$.current;return vt==null?void 0:vt(..._e)},[])}const $431fbd86ca7dc216$export$b204af158042fbac=ht=>{var $;return($=ht==null?void 0:ht.ownerDocument)!==null&&$!==void 0?$:document},$431fbd86ca7dc216$export$f21a1ffae260145a=ht=>ht&&"window"in ht&&ht.window===ht?ht:$431fbd86ca7dc216$export$b204af158042fbac(ht).defaultView||window;function $c87311424ea30a05$var$testUserAgent(ht){var $;return typeof window>"u"||window.navigator==null?!1:(($=window.navigator.userAgentData)===null||$===void 0?void 0:$.brands.some(_e=>ht.test(_e.brand)))||ht.test(window.navigator.userAgent)}function $c87311424ea30a05$var$testPlatform(ht){var $;return typeof window<"u"&&window.navigator!=null?ht.test((($=window.navigator.userAgentData)===null||$===void 0?void 0:$.platform)||window.navigator.platform):!1}function $c87311424ea30a05$export$9ac100e40613ea10(){return $c87311424ea30a05$var$testPlatform(/^Mac/i)}function $c87311424ea30a05$export$a11b0059900ceec8(){return $c87311424ea30a05$var$testUserAgent(/Android/i)}function $6a7db85432448f7f$export$60278871457622de(ht){return ht.mozInputSource===0&&ht.isTrusted?!0:$c87311424ea30a05$export$a11b0059900ceec8()&&ht.pointerType?ht.type==="click"&&ht.buttons===1:ht.detail===0&&!ht.pointerType}class $8a9cb279dc87e130$export$905e7fc544a71f36{isDefaultPrevented(){return this.nativeEvent.defaultPrevented}preventDefault(){this.defaultPrevented=!0,this.nativeEvent.preventDefault()}stopPropagation(){this.nativeEvent.stopPropagation(),this.isPropagationStopped=()=>!0}isPropagationStopped(){return!1}persist(){}constructor($,_e){this.nativeEvent=_e,this.target=_e.target,this.currentTarget=_e.currentTarget,this.relatedTarget=_e.relatedTarget,this.bubbles=_e.bubbles,this.cancelable=_e.cancelable,this.defaultPrevented=_e.defaultPrevented,this.eventPhase=_e.eventPhase,this.isTrusted=_e.isTrusted,this.timeStamp=_e.timeStamp,this.type=$}}function $8a9cb279dc87e130$export$715c682d09d639cc(ht){let $=reactExports.useRef({isFocused:!1,observer:null});$f0a04ccd8dbdd83b$export$e5c5a5f917a5871c(()=>{const vt=$.current;return()=>{vt.observer&&(vt.observer.disconnect(),vt.observer=null)}},[]);let _e=$8ae05eaa5c114e9c$export$7f54fc3180508a52(vt=>{ht==null||ht(vt)});return reactExports.useCallback(vt=>{if(vt.target instanceof HTMLButtonElement||vt.target instanceof HTMLInputElement||vt.target instanceof HTMLTextAreaElement||vt.target instanceof HTMLSelectElement){$.current.isFocused=!0;let xt=vt.target,bt=Et=>{$.current.isFocused=!1,xt.disabled&&_e(new $8a9cb279dc87e130$export$905e7fc544a71f36("blur",Et)),$.current.observer&&($.current.observer.disconnect(),$.current.observer=null)};xt.addEventListener("focusout",bt,{once:!0}),$.current.observer=new MutationObserver(()=>{if($.current.isFocused&&xt.disabled){var Et;(Et=$.current.observer)===null||Et===void 0||Et.disconnect();let At=xt===document.activeElement?null:document.activeElement;xt.dispatchEvent(new FocusEvent("blur",{relatedTarget:At})),xt.dispatchEvent(new FocusEvent("focusout",{bubbles:!0,relatedTarget:At}))}}),$.current.observer.observe(xt,{attributes:!0,attributeFilter:["disabled"]})}},[_e])}function $a1ea59d68270f0dd$export$f8168d8dd8fd66e6(ht){let{isDisabled:$,onFocus:_e,onBlur:vt,onFocusChange:xt}=ht;const bt=reactExports.useCallback(_t=>{if(_t.target===_t.currentTarget)return vt&&vt(_t),xt&&xt(!1),!0},[vt,xt]),Et=$8a9cb279dc87e130$export$715c682d09d639cc(bt),At=reactExports.useCallback(_t=>{const Ct=$431fbd86ca7dc216$export$b204af158042fbac(_t.target);_t.target===_t.currentTarget&&Ct.activeElement===_t.target&&(_e&&_e(_t),xt&&xt(!0),Et(_t))},[xt,_e,Et]);return{focusProps:{onFocus:!$&&(_e||xt||vt)?At:void 0,onBlur:!$&&(vt||xt)?bt:void 0}}}let $507fabe10e71c6fb$var$currentModality=null,$507fabe10e71c6fb$var$changeHandlers=new Set,$507fabe10e71c6fb$export$d90243b58daecda7=new Map,$507fabe10e71c6fb$var$hasEventBeforeFocus=!1,$507fabe10e71c6fb$var$hasBlurredWindowRecently=!1;const $507fabe10e71c6fb$var$FOCUS_VISIBLE_INPUT_KEYS={Tab:!0,Escape:!0};function $507fabe10e71c6fb$var$triggerChangeHandlers(ht,$){for(let _e of $507fabe10e71c6fb$var$changeHandlers)_e(ht,$)}function $507fabe10e71c6fb$var$isValidKey(ht){return!(ht.metaKey||!$c87311424ea30a05$export$9ac100e40613ea10()&&ht.altKey||ht.ctrlKey||ht.key==="Control"||ht.key==="Shift"||ht.key==="Meta")}function $507fabe10e71c6fb$var$handleKeyboardEvent(ht){$507fabe10e71c6fb$var$hasEventBeforeFocus=!0,$507fabe10e71c6fb$var$isValidKey(ht)&&($507fabe10e71c6fb$var$currentModality="keyboard",$507fabe10e71c6fb$var$triggerChangeHandlers("keyboard",ht))}function $507fabe10e71c6fb$var$handlePointerEvent(ht){$507fabe10e71c6fb$var$currentModality="pointer",(ht.type==="mousedown"||ht.type==="pointerdown")&&($507fabe10e71c6fb$var$hasEventBeforeFocus=!0,$507fabe10e71c6fb$var$triggerChangeHandlers("pointer",ht))}function $507fabe10e71c6fb$var$handleClickEvent(ht){$6a7db85432448f7f$export$60278871457622de(ht)&&($507fabe10e71c6fb$var$hasEventBeforeFocus=!0,$507fabe10e71c6fb$var$currentModality="virtual")}function $507fabe10e71c6fb$var$handleFocusEvent(ht){ht.target===window||ht.target===document||(!$507fabe10e71c6fb$var$hasEventBeforeFocus&&!$507fabe10e71c6fb$var$hasBlurredWindowRecently&&($507fabe10e71c6fb$var$currentModality="virtual",$507fabe10e71c6fb$var$triggerChangeHandlers("virtual",ht)),$507fabe10e71c6fb$var$hasEventBeforeFocus=!1,$507fabe10e71c6fb$var$hasBlurredWindowRecently=!1)}function $507fabe10e71c6fb$var$handleWindowBlur(){$507fabe10e71c6fb$var$hasEventBeforeFocus=!1,$507fabe10e71c6fb$var$hasBlurredWindowRecently=!0}function $507fabe10e71c6fb$var$setupGlobalFocusEvents(ht){if(typeof window>"u"||$507fabe10e71c6fb$export$d90243b58daecda7.get($431fbd86ca7dc216$export$f21a1ffae260145a(ht)))return;const $=$431fbd86ca7dc216$export$f21a1ffae260145a(ht),_e=$431fbd86ca7dc216$export$b204af158042fbac(ht);let vt=$.HTMLElement.prototype.focus;$.HTMLElement.prototype.focus=function(){$507fabe10e71c6fb$var$hasEventBeforeFocus=!0,vt.apply(this,arguments)},_e.addEventListener("keydown",$507fabe10e71c6fb$var$handleKeyboardEvent,!0),_e.addEventListener("keyup",$507fabe10e71c6fb$var$handleKeyboardEvent,!0),_e.addEventListener("click",$507fabe10e71c6fb$var$handleClickEvent,!0),$.addEventListener("focus",$507fabe10e71c6fb$var$handleFocusEvent,!0),$.addEventListener("blur",$507fabe10e71c6fb$var$handleWindowBlur,!1),typeof PointerEvent<"u"?(_e.addEventListener("pointerdown",$507fabe10e71c6fb$var$handlePointerEvent,!0),_e.addEventListener("pointermove",$507fabe10e71c6fb$var$handlePointerEvent,!0),_e.addEventListener("pointerup",$507fabe10e71c6fb$var$handlePointerEvent,!0)):(_e.addEventListener("mousedown",$507fabe10e71c6fb$var$handlePointerEvent,!0),_e.addEventListener("mousemove",$507fabe10e71c6fb$var$handlePointerEvent,!0),_e.addEventListener("mouseup",$507fabe10e71c6fb$var$handlePointerEvent,!0)),$.addEventListener("beforeunload",()=>{$507fabe10e71c6fb$var$tearDownWindowFocusTracking(ht)},{once:!0}),$507fabe10e71c6fb$export$d90243b58daecda7.set($,{focus:vt})}const $507fabe10e71c6fb$var$tearDownWindowFocusTracking=(ht,$)=>{const _e=$431fbd86ca7dc216$export$f21a1ffae260145a(ht),vt=$431fbd86ca7dc216$export$b204af158042fbac(ht);$&&vt.removeEventListener("DOMContentLoaded",$),$507fabe10e71c6fb$export$d90243b58daecda7.has(_e)&&(_e.HTMLElement.prototype.focus=$507fabe10e71c6fb$export$d90243b58daecda7.get(_e).focus,vt.removeEventListener("keydown",$507fabe10e71c6fb$var$handleKeyboardEvent,!0),vt.removeEventListener("keyup",$507fabe10e71c6fb$var$handleKeyboardEvent,!0),vt.removeEventListener("click",$507fabe10e71c6fb$var$handleClickEvent,!0),_e.removeEventListener("focus",$507fabe10e71c6fb$var$handleFocusEvent,!0),_e.removeEventListener("blur",$507fabe10e71c6fb$var$handleWindowBlur,!1),typeof PointerEvent<"u"?(vt.removeEventListener("pointerdown",$507fabe10e71c6fb$var$handlePointerEvent,!0),vt.removeEventListener("pointermove",$507fabe10e71c6fb$var$handlePointerEvent,!0),vt.removeEventListener("pointerup",$507fabe10e71c6fb$var$handlePointerEvent,!0)):(vt.removeEventListener("mousedown",$507fabe10e71c6fb$var$handlePointerEvent,!0),vt.removeEventListener("mousemove",$507fabe10e71c6fb$var$handlePointerEvent,!0),vt.removeEventListener("mouseup",$507fabe10e71c6fb$var$handlePointerEvent,!0)),$507fabe10e71c6fb$export$d90243b58daecda7.delete(_e))};function $507fabe10e71c6fb$export$2f1888112f558a7d(ht){const $=$431fbd86ca7dc216$export$b204af158042fbac(ht);let _e;return $.readyState!=="loading"?$507fabe10e71c6fb$var$setupGlobalFocusEvents(ht):(_e=()=>{$507fabe10e71c6fb$var$setupGlobalFocusEvents(ht)},$.addEventListener("DOMContentLoaded",_e)),()=>$507fabe10e71c6fb$var$tearDownWindowFocusTracking(ht,_e)}typeof document<"u"&&$507fabe10e71c6fb$export$2f1888112f558a7d();function $507fabe10e71c6fb$export$b9b3dfddab17db27(){return $507fabe10e71c6fb$var$currentModality!=="pointer"}const $507fabe10e71c6fb$var$nonTextInputTypes=new Set(["checkbox","radio","range","color","file","image","button","submit","reset"]);function $507fabe10e71c6fb$var$isKeyboardFocusEvent(ht,$,_e){var vt;const xt=typeof window<"u"?$431fbd86ca7dc216$export$f21a1ffae260145a(_e==null?void 0:_e.target).HTMLInputElement:HTMLInputElement,bt=typeof window<"u"?$431fbd86ca7dc216$export$f21a1ffae260145a(_e==null?void 0:_e.target).HTMLTextAreaElement:HTMLTextAreaElement,Et=typeof window<"u"?$431fbd86ca7dc216$export$f21a1ffae260145a(_e==null?void 0:_e.target).HTMLElement:HTMLElement,At=typeof window<"u"?$431fbd86ca7dc216$export$f21a1ffae260145a(_e==null?void 0:_e.target).KeyboardEvent:KeyboardEvent;return ht=ht||(_e==null?void 0:_e.target)instanceof xt&&!$507fabe10e71c6fb$var$nonTextInputTypes.has(_e==null||(vt=_e.target)===null||vt===void 0?void 0:vt.type)||(_e==null?void 0:_e.target)instanceof bt||(_e==null?void 0:_e.target)instanceof Et&&(_e==null?void 0:_e.target.isContentEditable),!(ht&&$==="keyboard"&&_e instanceof At&&!$507fabe10e71c6fb$var$FOCUS_VISIBLE_INPUT_KEYS[_e.key])}function $507fabe10e71c6fb$export$ec71b4b83ac08ec3(ht,$,_e){$507fabe10e71c6fb$var$setupGlobalFocusEvents(),reactExports.useEffect(()=>{let vt=(xt,bt)=>{$507fabe10e71c6fb$var$isKeyboardFocusEvent(!!(_e!=null&&_e.isTextInput),xt,bt)&&ht($507fabe10e71c6fb$export$b9b3dfddab17db27())};return $507fabe10e71c6fb$var$changeHandlers.add(vt),()=>{$507fabe10e71c6fb$var$changeHandlers.delete(vt)}},$)}function $9ab94262bd0047c7$export$420e68273165f4ec(ht){let{isDisabled:$,onBlurWithin:_e,onFocusWithin:vt,onFocusWithinChange:xt}=ht,bt=reactExports.useRef({isFocusWithin:!1}),Et=reactExports.useCallback(Ct=>{bt.current.isFocusWithin&&!Ct.currentTarget.contains(Ct.relatedTarget)&&(bt.current.isFocusWithin=!1,_e&&_e(Ct),xt&&xt(!1))},[_e,xt,bt]),At=$8a9cb279dc87e130$export$715c682d09d639cc(Et),_t=reactExports.useCallback(Ct=>{!bt.current.isFocusWithin&&document.activeElement===Ct.target&&(vt&&vt(Ct),xt&&xt(!0),bt.current.isFocusWithin=!0,At(Ct))},[vt,xt,At]);return $?{focusWithinProps:{onFocus:void 0,onBlur:void 0}}:{focusWithinProps:{onFocus:_t,onBlur:Et}}}let $6179b936705e76d3$var$globalIgnoreEmulatedMouseEvents=!1,$6179b936705e76d3$var$hoverCount=0;function $6179b936705e76d3$var$setGlobalIgnoreEmulatedMouseEvents(){$6179b936705e76d3$var$globalIgnoreEmulatedMouseEvents=!0,setTimeout(()=>{$6179b936705e76d3$var$globalIgnoreEmulatedMouseEvents=!1},50)}function $6179b936705e76d3$var$handleGlobalPointerEvent(ht){ht.pointerType==="touch"&&$6179b936705e76d3$var$setGlobalIgnoreEmulatedMouseEvents()}function $6179b936705e76d3$var$setupGlobalTouchEvents(){if(!(typeof document>"u"))return typeof PointerEvent<"u"?document.addEventListener("pointerup",$6179b936705e76d3$var$handleGlobalPointerEvent):document.addEventListener("touchend",$6179b936705e76d3$var$setGlobalIgnoreEmulatedMouseEvents),$6179b936705e76d3$var$hoverCount++,()=>{$6179b936705e76d3$var$hoverCount--,!($6179b936705e76d3$var$hoverCount>0)&&(typeof PointerEvent<"u"?document.removeEventListener("pointerup",$6179b936705e76d3$var$handleGlobalPointerEvent):document.removeEventListener("touchend",$6179b936705e76d3$var$setGlobalIgnoreEmulatedMouseEvents))}}function $6179b936705e76d3$export$ae780daf29e6d456(ht){let{onHoverStart:$,onHoverChange:_e,onHoverEnd:vt,isDisabled:xt}=ht,[bt,Et]=reactExports.useState(!1),At=reactExports.useRef({isHovered:!1,ignoreEmulatedMouseEvents:!1,pointerType:"",target:null}).current;reactExports.useEffect($6179b936705e76d3$var$setupGlobalTouchEvents,[]);let{hoverProps:_t,triggerHoverEnd:Ct}=reactExports.useMemo(()=>{let St=(kt,Mt)=>{if(At.pointerType=Mt,xt||Mt==="touch"||At.isHovered||!kt.currentTarget.contains(kt.target))return;At.isHovered=!0;let Lt=kt.currentTarget;At.target=Lt,$&&$({type:"hoverstart",target:Lt,pointerType:Mt}),_e&&_e(!0),Et(!0)},Rt=(kt,Mt)=>{if(At.pointerType="",At.target=null,Mt==="touch"||!At.isHovered)return;At.isHovered=!1;let Lt=kt.currentTarget;vt&&vt({type:"hoverend",target:Lt,pointerType:Mt}),_e&&_e(!1),Et(!1)},Pt={};return typeof PointerEvent<"u"?(Pt.onPointerEnter=kt=>{$6179b936705e76d3$var$globalIgnoreEmulatedMouseEvents&&kt.pointerType==="mouse"||St(kt,kt.pointerType)},Pt.onPointerLeave=kt=>{!xt&&kt.currentTarget.contains(kt.target)&&Rt(kt,kt.pointerType)}):(Pt.onTouchStart=()=>{At.ignoreEmulatedMouseEvents=!0},Pt.onMouseEnter=kt=>{!At.ignoreEmulatedMouseEvents&&!$6179b936705e76d3$var$globalIgnoreEmulatedMouseEvents&&St(kt,"mouse"),At.ignoreEmulatedMouseEvents=!1},Pt.onMouseLeave=kt=>{!xt&&kt.currentTarget.contains(kt.target)&&Rt(kt,"mouse")}),{hoverProps:Pt,triggerHoverEnd:Rt}},[$,_e,vt,xt,At]);return reactExports.useEffect(()=>{xt&&Ct({currentTarget:At.target},At.pointerType)},[xt]),{hoverProps:_t,isHovered:bt}}function $f7dceffc5ad7768b$export$4e328f61c538687f(ht={}){let{autoFocus:$=!1,isTextInput:_e,within:vt}=ht,xt=reactExports.useRef({isFocused:!1,isFocusVisible:$||$507fabe10e71c6fb$export$b9b3dfddab17db27()}),[bt,Et]=reactExports.useState(!1),[At,_t]=reactExports.useState(()=>xt.current.isFocused&&xt.current.isFocusVisible),Ct=reactExports.useCallback(()=>_t(xt.current.isFocused&&xt.current.isFocusVisible),[]),St=reactExports.useCallback(kt=>{xt.current.isFocused=kt,Et(kt),Ct()},[Ct]);$507fabe10e71c6fb$export$ec71b4b83ac08ec3(kt=>{xt.current.isFocusVisible=kt,Ct()},[],{isTextInput:_e});let{focusProps:Rt}=$a1ea59d68270f0dd$export$f8168d8dd8fd66e6({isDisabled:vt,onFocusChange:St}),{focusWithinProps:Pt}=$9ab94262bd0047c7$export$420e68273165f4ec({isDisabled:!vt,onFocusWithinChange:St});return{isFocused:bt,isFocusVisible:At,focusProps:vt?Pt:Rt}}var i$5=Object.defineProperty,d$3=(ht,$,_e)=>$ in ht?i$5(ht,$,{enumerable:!0,configurable:!0,writable:!0,value:_e}):ht[$]=_e,r$2=(ht,$,_e)=>(d$3(ht,typeof $!="symbol"?$+"":$,_e),_e);let o$5=class{constructor(){r$2(this,"current",this.detect()),r$2(this,"handoffState","pending"),r$2(this,"currentId",0)}set($){this.current!==$&&(this.handoffState="pending",this.currentId=0,this.current=$)}reset(){this.set(this.detect())}nextId(){return++this.currentId}get isServer(){return this.current==="server"}get isClient(){return this.current==="client"}detect(){return typeof window>"u"||typeof document>"u"?"server":"client"}handoff(){this.handoffState==="pending"&&(this.handoffState="complete")}get isHandoffComplete(){return this.handoffState==="complete"}},s$5=new o$5;function u$7(ht){return s$5.isServer?null:ht instanceof Node?ht.ownerDocument:ht!=null&&ht.hasOwnProperty("current")&&ht.current instanceof Node?ht.current.ownerDocument:document}function t$3(ht){typeof queueMicrotask=="function"?queueMicrotask(ht):Promise.resolve().then(ht).catch($=>setTimeout(()=>{throw $}))}function o$4(){let ht=[],$={addEventListener(_e,vt,xt,bt){return _e.addEventListener(vt,xt,bt),$.add(()=>_e.removeEventListener(vt,xt,bt))},requestAnimationFrame(..._e){let vt=requestAnimationFrame(..._e);return $.add(()=>cancelAnimationFrame(vt))},nextFrame(..._e){return $.requestAnimationFrame(()=>$.requestAnimationFrame(..._e))},setTimeout(..._e){let vt=setTimeout(..._e);return $.add(()=>clearTimeout(vt))},microTask(..._e){let vt={current:!0};return t$3(()=>{vt.current&&_e[0]()}),$.add(()=>{vt.current=!1})},style(_e,vt,xt){let bt=_e.style.getPropertyValue(vt);return Object.assign(_e.style,{[vt]:xt}),this.add(()=>{Object.assign(_e.style,{[vt]:bt})})},group(_e){let vt=o$4();return _e(vt),this.add(()=>vt.dispose())},add(_e){return ht.includes(_e)||ht.push(_e),()=>{let vt=ht.indexOf(_e);if(vt>=0)for(let xt of ht.splice(vt,1))xt()}},dispose(){for(let _e of ht.splice(0))_e()}};return $}function p$3(){let[ht]=reactExports.useState(o$4);return reactExports.useEffect(()=>()=>ht.dispose(),[ht]),ht}let n$3=(ht,$)=>{s$5.isServer?reactExports.useEffect(ht,$):reactExports.useLayoutEffect(ht,$)};function s$4(ht){let $=reactExports.useRef(ht);return n$3(()=>{$.current=ht},[ht]),$}let o$3=function(ht){let $=s$4(ht);return React.useCallback((..._e)=>$.current(..._e),[$])};function E(ht){let $=ht.width/2,_e=ht.height/2;return{top:ht.clientY-_e,right:ht.clientX+$,bottom:ht.clientY+_e,left:ht.clientX-$}}function P$2(ht,$){return!(!ht||!$||ht.right<$.left||ht.left>$.right||ht.bottom<$.top||ht.top>$.bottom)}function w$1({disabled:ht=!1}={}){let $=reactExports.useRef(null),[_e,vt]=reactExports.useState(!1),xt=p$3(),bt=o$3(()=>{$.current=null,vt(!1),xt.dispose()}),Et=o$3(At=>{if(xt.dispose(),$.current===null){$.current=At.currentTarget,vt(!0);{let _t=u$7(At.currentTarget);xt.addEventListener(_t,"pointerup",bt,!1),xt.addEventListener(_t,"pointermove",Ct=>{if($.current){let St=E(Ct);vt(P$2(St,$.current.getBoundingClientRect()))}},!1),xt.addEventListener(_t,"pointercancel",bt,!1)}}});return{pressed:_e,pressProps:ht?{}:{onPointerDown:Et,onPointerUp:bt,onClick:bt}}}let e$2=reactExports.createContext(void 0);function a$7(){return reactExports.useContext(e$2)}function t$2(...ht){return Array.from(new Set(ht.flatMap($=>typeof $=="string"?$.split(" "):[]))).filter(Boolean).join(" ")}function u$6(ht,$,..._e){if(ht in $){let xt=$[ht];return typeof xt=="function"?xt(..._e):xt}let vt=new Error(`Tried to handle "${ht}" but there is no handler defined. Only defined handlers are: ${Object.keys($).map(xt=>`"${xt}"`).join(", ")}.`);throw Error.captureStackTrace&&Error.captureStackTrace(vt,u$6),vt}var O$1=(ht=>(ht[ht.None=0]="None",ht[ht.RenderStrategy=1]="RenderStrategy",ht[ht.Static=2]="Static",ht))(O$1||{}),M$2=(ht=>(ht[ht.Unmount=0]="Unmount",ht[ht.Hidden=1]="Hidden",ht))(M$2||{});function H$1({ourProps:ht,theirProps:$,slot:_e,defaultTag:vt,features:xt,visible:bt=!0,name:Et,mergeRefs:At}){At=At??A$2;let _t=N$2($,ht);if(bt)return b$1(_t,_e,vt,Et,At);let Ct=xt??0;if(Ct&2){let{static:St=!1,...Rt}=_t;if(St)return b$1(Rt,_e,vt,Et,At)}if(Ct&1){let{unmount:St=!0,...Rt}=_t;return u$6(St?0:1,{0(){return null},1(){return b$1({...Rt,hidden:!0,style:{display:"none"}},_e,vt,Et,At)}})}return b$1(_t,_e,vt,Et,At)}function b$1(ht,$={},_e,vt,xt){let{as:bt=_e,children:Et,refName:At="ref",..._t}=h$2(ht,["unmount","static"]),Ct=ht.ref!==void 0?{[At]:ht.ref}:{},St=typeof Et=="function"?Et($):Et;"className"in _t&&_t.className&&typeof _t.className=="function"&&(_t.className=_t.className($)),_t["aria-labelledby"]&&_t["aria-labelledby"]===_t.id&&(_t["aria-labelledby"]=void 0);let Rt={};if($){let Pt=!1,kt=[];for(let[Mt,Lt]of Object.entries($))typeof Lt=="boolean"&&(Pt=!0),Lt===!0&&kt.push(Mt.replace(/([A-Z])/g,$t=>`-${$t.toLowerCase()}`));if(Pt){Rt["data-headlessui-state"]=kt.join(" ");for(let Mt of kt)Rt[`data-${Mt}`]=""}}if(bt===reactExports.Fragment&&(Object.keys(m$3(_t)).length>0||Object.keys(m$3(Rt)).length>0))if(!reactExports.isValidElement(St)||Array.isArray(St)&&St.length>1){if(Object.keys(m$3(_t)).length>0)throw new Error(['Passing props on "Fragment"!',"",`The current component <${vt} /> is rendering a "Fragment".`,"However we need to passthrough the following props:",Object.keys(m$3(_t)).concat(Object.keys(m$3(Rt))).map(Pt=>`  - ${Pt}`).join(`
`),"","You can apply a few solutions:",['Add an `as="..."` prop, to ensure that we render an actual element instead of a "Fragment".',"Render a single element as the child so that we can forward the props onto that element."].map(Pt=>`  - ${Pt}`).join(`
`)].join(`
`))}else{let Pt=St.props,kt=Pt==null?void 0:Pt.className,Mt=typeof kt=="function"?(...Ft)=>t$2(kt(...Ft),_t.className):t$2(kt,_t.className),Lt=Mt?{className:Mt}:{},$t=N$2(St.props,m$3(h$2(_t,["ref"])));for(let Ft in Rt)Ft in $t&&delete Rt[Ft];return reactExports.cloneElement(St,Object.assign({},$t,Rt,Ct,{ref:xt(St.ref,Ct.ref)},Lt))}return reactExports.createElement(bt,Object.assign({},h$2(_t,["ref"]),bt!==reactExports.Fragment&&Ct,bt!==reactExports.Fragment&&Rt),St)}function A$2(...ht){return ht.every($=>$==null)?void 0:$=>{for(let _e of ht)_e!=null&&(typeof _e=="function"?_e($):_e.current=$)}}function N$2(...ht){if(ht.length===0)return{};if(ht.length===1)return ht[0];let $={},_e={};for(let vt of ht)for(let xt in vt)xt.startsWith("on")&&typeof vt[xt]=="function"?(_e[xt]!=null||(_e[xt]=[]),_e[xt].push(vt[xt])):$[xt]=vt[xt];if($.disabled||$["aria-disabled"])for(let vt in _e)/^(on(?:Click|Pointer|Mouse|Key)(?:Down|Up|Press)?)$/.test(vt)&&(_e[vt]=[xt=>{var bt;return(bt=xt==null?void 0:xt.preventDefault)==null?void 0:bt.call(xt)}]);for(let vt in _e)Object.assign($,{[vt](xt,...bt){let Et=_e[vt];for(let At of Et){if((xt instanceof Event||(xt==null?void 0:xt.nativeEvent)instanceof Event)&&xt.defaultPrevented)return;At(xt,...bt)}}});return $}function D$3(...ht){if(ht.length===0)return{};if(ht.length===1)return ht[0];let $={},_e={};for(let vt of ht)for(let xt in vt)xt.startsWith("on")&&typeof vt[xt]=="function"?(_e[xt]!=null||(_e[xt]=[]),_e[xt].push(vt[xt])):$[xt]=vt[xt];for(let vt in _e)Object.assign($,{[vt](...xt){let bt=_e[vt];for(let Et of bt)Et==null||Et(...xt)}});return $}function I$3(ht){var $;return Object.assign(reactExports.forwardRef(ht),{displayName:($=ht.displayName)!=null?$:ht.name})}function m$3(ht){let $=Object.assign({},ht);for(let _e in $)$[_e]===void 0&&delete $[_e];return $}function h$2(ht,$=[]){let _e=Object.assign({},ht);for(let vt of $)vt in _e&&delete _e[vt];return _e}let e$1=reactExports.createContext(void 0);function u$5(){return reactExports.useContext(e$1)}function r$1(ht){let $=ht.parentElement,_e=null;for(;$&&!($ instanceof HTMLFieldSetElement);)$ instanceof HTMLLegendElement&&(_e=$),$=$.parentElement;let vt=($==null?void 0:$.getAttribute("disabled"))==="";return vt&&i$4(_e)?!1:vt}function i$4(ht){if(!ht)return!1;let $=ht.previousElementSibling;for(;$!==null;){if($ instanceof HTMLLegendElement)return!1;$=$.previousElementSibling}return!0}let u$4=Symbol();function T$2(ht,$=!0){return Object.assign(ht,{[u$4]:$})}function y$4(...ht){let $=reactExports.useRef(ht);reactExports.useEffect(()=>{$.current=ht},[ht]);let _e=o$3(vt=>{for(let xt of $.current)xt!=null&&(typeof xt=="function"?xt(vt):xt.current=vt)});return ht.every(vt=>vt==null||(vt==null?void 0:vt[u$4]))?void 0:_e}let a$6=reactExports.createContext(null);a$6.displayName="DescriptionContext";function f$5(){let ht=reactExports.useContext(a$6);if(ht===null){let $=new Error("You used a <Description /> component, but it is not inside a relevant parent.");throw Error.captureStackTrace&&Error.captureStackTrace($,f$5),$}return ht}function U$1(){let[ht,$]=reactExports.useState([]);return[ht.length>0?ht.join(" "):void 0,reactExports.useMemo(()=>function(_e){let vt=o$3(bt=>($(Et=>[...Et,bt]),()=>$(Et=>{let At=Et.slice(),_t=At.indexOf(bt);return _t!==-1&&At.splice(_t,1),At}))),xt=reactExports.useMemo(()=>({register:vt,slot:_e.slot,name:_e.name,props:_e.props,value:_e.value}),[vt,_e.slot,_e.name,_e.props,_e.value]);return React.createElement(a$6.Provider,{value:xt},_e.children)},[$])]}let S$3="p";function C(ht,$){let _e=reactExports.useId(),vt=a$7(),{id:xt=`headlessui-description-${_e}`,...bt}=ht,Et=f$5(),At=y$4($);n$3(()=>Et.register(xt),[xt,Et.register]);let _t=vt||!1,Ct=reactExports.useMemo(()=>({...Et.slot,disabled:_t}),[Et.slot,_t]),St={ref:At,...Et.props,id:xt};return H$1({ourProps:St,theirProps:bt,slot:Ct,defaultTag:S$3,name:Et.name||"Description"})}let _$1=I$3(C);Object.assign(_$1,{});var o$2=(ht=>(ht.Space=" ",ht.Enter="Enter",ht.Escape="Escape",ht.Backspace="Backspace",ht.Delete="Delete",ht.ArrowLeft="ArrowLeft",ht.ArrowUp="ArrowUp",ht.ArrowRight="ArrowRight",ht.ArrowDown="ArrowDown",ht.Home="Home",ht.End="End",ht.PageUp="PageUp",ht.PageDown="PageDown",ht.Tab="Tab",ht))(o$2||{});let c$4=reactExports.createContext(null);c$4.displayName="LabelContext";function P$1(){let ht=reactExports.useContext(c$4);if(ht===null){let $=new Error("You used a <Label /> component, but it is not inside a relevant parent.");throw Error.captureStackTrace&&Error.captureStackTrace($,P$1),$}return ht}function I$2(ht){var $,_e,vt;let xt=(_e=($=reactExports.useContext(c$4))==null?void 0:$.value)!=null?_e:void 0;return((vt=void 0)!=null?vt:0)>0?[xt,...ht].filter(Boolean).join(" "):xt}function z({inherit:ht=!1}={}){let $=I$2(),[_e,vt]=reactExports.useState([]),xt=ht?[$,..._e].filter(Boolean):_e;return[xt.length>0?xt.join(" "):void 0,reactExports.useMemo(()=>function(bt){let Et=o$3(_t=>(vt(Ct=>[...Ct,_t]),()=>vt(Ct=>{let St=Ct.slice(),Rt=St.indexOf(_t);return Rt!==-1&&St.splice(Rt,1),St}))),At=reactExports.useMemo(()=>({register:Et,slot:bt.slot,name:bt.name,props:bt.props,value:bt.value}),[Et,bt.slot,bt.name,bt.props,bt.value]);return React.createElement(c$4.Provider,{value:At},bt.children)},[vt])]}let N$1="label";function G$1(ht,$){var _e;let vt=reactExports.useId(),xt=P$1(),bt=u$5(),Et=a$7(),{id:At=`headlessui-label-${vt}`,htmlFor:_t=bt??((_e=xt.props)==null?void 0:_e.htmlFor),passive:Ct=!1,...St}=ht,Rt=y$4($);n$3(()=>xt.register(At),[At,xt.register]);let Pt=o$3($t=>{let Ft=$t.currentTarget;if(Ft instanceof HTMLLabelElement&&$t.preventDefault(),xt.props&&"onClick"in xt.props&&typeof xt.props.onClick=="function"&&xt.props.onClick($t),Ft instanceof HTMLLabelElement){let Dt=document.getElementById(Ft.htmlFor);if(Dt){let Nt=Dt.getAttribute("disabled");if(Nt==="true"||Nt==="")return;let Ht=Dt.getAttribute("aria-disabled");if(Ht==="true"||Ht==="")return;(Dt instanceof HTMLInputElement&&(Dt.type==="radio"||Dt.type==="checkbox")||Dt.role==="radio"||Dt.role==="checkbox"||Dt.role==="switch")&&Dt.click(),Dt.focus({preventScroll:!0})}}}),kt=Et||!1,Mt=reactExports.useMemo(()=>({...xt.slot,disabled:kt}),[xt.slot,kt]),Lt={ref:Rt,...xt.props,id:At,htmlFor:_t,onClick:Pt};return Ct&&("onClick"in Lt&&(delete Lt.htmlFor,delete Lt.onClick),"onClick"in St&&delete St.onClick),H$1({ourProps:Lt,theirProps:St,slot:Mt,defaultTag:_t?N$1:"div",name:xt.name||"Label"})}let U=I$3(G$1);Object.assign(U,{});function s$3(ht){if(ht===null)return{width:0,height:0};let{width:$,height:_e}=ht.getBoundingClientRect();return{width:$,height:_e}}function f$4(ht,$=!1){let _e=ht===null?null:"current"in ht?ht.current:ht,[vt,xt]=reactExports.useReducer(()=>({}),{}),bt=reactExports.useMemo(()=>s$3(_e),[_e,vt]);return n$3(()=>{if(!_e)return;let Et=new ResizeObserver(xt);return Et.observe(_e),()=>{Et.disconnect()}},[_e]),$?{width:`${bt.width}px`,height:`${bt.height}px`}:bt}let a$5=class extends Map{constructor($){super(),this.factory=$}get($){let _e=super.get($);return _e===void 0&&(_e=this.factory($),this.set($,_e)),_e}};function a$4(ht,$){let _e=ht(),vt=new Set;return{getSnapshot(){return _e},subscribe(xt){return vt.add(xt),()=>vt.delete(xt)},dispatch(xt,...bt){let Et=$[xt].call(_e,...bt);Et&&(_e=Et,vt.forEach(At=>At()))}}}function o$1(ht){return reactExports.useSyncExternalStore(ht.subscribe,ht.getSnapshot,ht.getSnapshot)}let p$2=new a$5(()=>a$4(()=>[],{ADD(ht){return this.includes(ht)?this:[...this,ht]},REMOVE(ht){let $=this.indexOf(ht);if($===-1)return this;let _e=this.slice();return _e.splice($,1),_e}}));function x(ht,$){let _e=p$2.get($),vt=reactExports.useId(),xt=o$1(_e);if(n$3(()=>{if(ht)return _e.dispatch("ADD",vt),()=>_e.dispatch("REMOVE",vt)},[_e,ht]),!ht)return!1;let bt=xt.indexOf(vt),Et=xt.length;return bt===-1&&(bt=Et,Et+=1),bt===Et-1}let f$3=new Map,u$3=new Map;function h$1(ht){var $;let _e=($=u$3.get(ht))!=null?$:0;return u$3.set(ht,_e+1),_e!==0?()=>m$2(ht):(f$3.set(ht,{"aria-hidden":ht.getAttribute("aria-hidden"),inert:ht.inert}),ht.setAttribute("aria-hidden","true"),ht.inert=!0,()=>m$2(ht))}function m$2(ht){var $;let _e=($=u$3.get(ht))!=null?$:1;if(_e===1?u$3.delete(ht):u$3.set(ht,_e-1),_e!==1)return;let vt=f$3.get(ht);vt&&(vt["aria-hidden"]===null?ht.removeAttribute("aria-hidden"):ht.setAttribute("aria-hidden",vt["aria-hidden"]),ht.inert=vt.inert,f$3.delete(ht))}function y$3(ht,{allowed:$,disallowed:_e}={}){let vt=x(ht,"inert-others");n$3(()=>{var xt,bt;if(!vt)return;let Et=o$4();for(let _t of(xt=_e==null?void 0:_e())!=null?xt:[])_t&&Et.add(h$1(_t));let At=(bt=$==null?void 0:$())!=null?bt:[];for(let _t of At){if(!_t)continue;let Ct=u$7(_t);if(!Ct)continue;let St=_t.parentElement;for(;St&&St!==Ct.body;){for(let Rt of St.children)At.some(Pt=>Rt.contains(Pt))||Et.add(h$1(Rt));St=St.parentElement}}return Et.dispose},[vt,$,_e])}function m$1(ht,$,_e){let vt=s$4(xt=>{let bt=xt.getBoundingClientRect();bt.x===0&&bt.y===0&&bt.width===0&&bt.height===0&&_e()});reactExports.useEffect(()=>{if(!ht)return;let xt=$===null?null:$ instanceof HTMLElement?$:$.current;if(!xt)return;let bt=o$4();if(typeof ResizeObserver<"u"){let Et=new ResizeObserver(()=>vt.current(xt));Et.observe(xt),bt.add(()=>Et.disconnect())}if(typeof IntersectionObserver<"u"){let Et=new IntersectionObserver(()=>vt.current(xt));Et.observe(xt),bt.add(()=>Et.disconnect())}return()=>bt.dispose()},[$,vt,ht])}let f$2=["[contentEditable=true]","[tabindex]","a[href]","area[href]","button:not([disabled])","iframe","input:not([disabled])","select:not([disabled])","textarea:not([disabled])"].map(ht=>`${ht}:not([tabindex='-1'])`).join(","),p$1=["[data-autofocus]"].map(ht=>`${ht}:not([tabindex='-1'])`).join(",");var F$3=(ht=>(ht[ht.First=1]="First",ht[ht.Previous=2]="Previous",ht[ht.Next=4]="Next",ht[ht.Last=8]="Last",ht[ht.WrapAround=16]="WrapAround",ht[ht.NoScroll=32]="NoScroll",ht[ht.AutoFocus=64]="AutoFocus",ht))(F$3||{}),T$1=(ht=>(ht[ht.Error=0]="Error",ht[ht.Overflow=1]="Overflow",ht[ht.Success=2]="Success",ht[ht.Underflow=3]="Underflow",ht))(T$1||{}),y$2=(ht=>(ht[ht.Previous=-1]="Previous",ht[ht.Next=1]="Next",ht))(y$2||{});function b(ht=document.body){return ht==null?[]:Array.from(ht.querySelectorAll(f$2)).sort(($,_e)=>Math.sign(($.tabIndex||Number.MAX_SAFE_INTEGER)-(_e.tabIndex||Number.MAX_SAFE_INTEGER)))}function S$2(ht=document.body){return ht==null?[]:Array.from(ht.querySelectorAll(p$1)).sort(($,_e)=>Math.sign(($.tabIndex||Number.MAX_SAFE_INTEGER)-(_e.tabIndex||Number.MAX_SAFE_INTEGER)))}var h=(ht=>(ht[ht.Strict=0]="Strict",ht[ht.Loose=1]="Loose",ht))(h||{});function A$1(ht,$=0){var _e;return ht===((_e=u$7(ht))==null?void 0:_e.body)?!1:u$6($,{0(){return ht.matches(f$2)},1(){let vt=ht;for(;vt!==null;){if(vt.matches(f$2))return!0;vt=vt.parentElement}return!1}})}function G(ht){let $=u$7(ht);o$4().nextFrame(()=>{$&&!A$1($.activeElement,0)&&I$1(ht)})}var H=(ht=>(ht[ht.Keyboard=0]="Keyboard",ht[ht.Mouse=1]="Mouse",ht))(H||{});typeof window<"u"&&typeof document<"u"&&(document.addEventListener("keydown",ht=>{ht.metaKey||ht.altKey||ht.ctrlKey||(document.documentElement.dataset.headlessuiFocusVisible="")},!0),document.addEventListener("click",ht=>{ht.detail===1?delete document.documentElement.dataset.headlessuiFocusVisible:ht.detail===0&&(document.documentElement.dataset.headlessuiFocusVisible="")},!0));function I$1(ht){ht==null||ht.focus({preventScroll:!0})}let w=["textarea","input"].join(",");function O(ht){var $,_e;return(_e=($=ht==null?void 0:ht.matches)==null?void 0:$.call(ht,w))!=null?_e:!1}function _(ht,$=_e=>_e){return ht.slice().sort((_e,vt)=>{let xt=$(_e),bt=$(vt);if(xt===null||bt===null)return 0;let Et=xt.compareDocumentPosition(bt);return Et&Node.DOCUMENT_POSITION_FOLLOWING?-1:Et&Node.DOCUMENT_POSITION_PRECEDING?1:0})}function j$2(ht,$){return P(b(),$,{relativeTo:ht})}function P(ht,$,{sorted:_e=!0,relativeTo:vt=null,skipElements:xt=[]}={}){let bt=Array.isArray(ht)?ht.length>0?ht[0].ownerDocument:document:ht.ownerDocument,Et=Array.isArray(ht)?_e?_(ht):ht:$&64?S$2(ht):b(ht);xt.length>0&&Et.length>1&&(Et=Et.filter(kt=>!xt.some(Mt=>Mt!=null&&"current"in Mt?(Mt==null?void 0:Mt.current)===kt:Mt===kt))),vt=vt??bt.activeElement;let At=(()=>{if($&5)return 1;if($&10)return-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),_t=(()=>{if($&1)return 0;if($&2)return Math.max(0,Et.indexOf(vt))-1;if($&4)return Math.max(0,Et.indexOf(vt))+1;if($&8)return Et.length-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),Ct=$&32?{preventScroll:!0}:{},St=0,Rt=Et.length,Pt;do{if(St>=Rt||St+Rt<=0)return 0;let kt=_t+St;if($&16)kt=(kt+Rt)%Rt;else{if(kt<0)return 3;if(kt>=Rt)return 1}Pt=Et[kt],Pt==null||Pt.focus(Ct),St+=At}while(Pt!==bt.activeElement);return $&6&&O(Pt)&&Pt.select(),2}function t$1(){return/iPhone/gi.test(window.navigator.platform)||/Mac/gi.test(window.navigator.platform)&&window.navigator.maxTouchPoints>0}function i$3(){return/Android/gi.test(window.navigator.userAgent)}function n$2(){return t$1()||i$3()}function i$2(ht,$,_e,vt){let xt=s$4(_e);reactExports.useEffect(()=>{if(!ht)return;function bt(Et){xt.current(Et)}return document.addEventListener($,bt,vt),()=>document.removeEventListener($,bt,vt)},[ht,$,vt])}function s$2(ht,$,_e,vt){let xt=s$4(_e);reactExports.useEffect(()=>{if(!ht)return;function bt(Et){xt.current(Et)}return window.addEventListener($,bt,vt),()=>window.removeEventListener($,bt,vt)},[ht,$,vt])}const d$2=30;function F$2(ht,$,_e){let vt=x(ht,"outside-click"),xt=s$4(_e),bt=reactExports.useCallback(function(_t,Ct){if(_t.defaultPrevented)return;let St=Ct(_t);if(St===null||!St.getRootNode().contains(St)||!St.isConnected)return;let Rt=function Pt(kt){return typeof kt=="function"?Pt(kt()):Array.isArray(kt)||kt instanceof Set?kt:[kt]}($);for(let Pt of Rt){if(Pt===null)continue;let kt=Pt instanceof HTMLElement?Pt:Pt.current;if(kt!=null&&kt.contains(St)||_t.composed&&_t.composedPath().includes(kt))return}return!A$1(St,h.Loose)&&St.tabIndex!==-1&&_t.preventDefault(),xt.current(_t,St)},[xt]),Et=reactExports.useRef(null);i$2(vt,"pointerdown",_t=>{var Ct,St;Et.current=((St=(Ct=_t.composedPath)==null?void 0:Ct.call(_t))==null?void 0:St[0])||_t.target},!0),i$2(vt,"mousedown",_t=>{var Ct,St;Et.current=((St=(Ct=_t.composedPath)==null?void 0:Ct.call(_t))==null?void 0:St[0])||_t.target},!0),i$2(vt,"click",_t=>{n$2()||Et.current&&(bt(_t,()=>Et.current),Et.current=null)},!0);let At=reactExports.useRef({x:0,y:0});i$2(vt,"touchstart",_t=>{At.current.x=_t.touches[0].clientX,At.current.y=_t.touches[0].clientY},!0),i$2(vt,"touchend",_t=>{let Ct={x:_t.changedTouches[0].clientX,y:_t.changedTouches[0].clientY};if(!(Math.abs(Ct.x-At.current.x)>=d$2||Math.abs(Ct.y-At.current.y)>=d$2))return bt(_t,()=>_t.target instanceof HTMLElement?_t.target:null)},!0),s$2(vt,"blur",_t=>bt(_t,()=>window.document.activeElement instanceof HTMLIFrameElement?window.document.activeElement:null),!0)}function n$1(...ht){return reactExports.useMemo(()=>u$7(...ht),[...ht])}function i$1(ht){var $;if(ht.type)return ht.type;let _e=($=ht.as)!=null?$:"button";if(typeof _e=="string"&&_e.toLowerCase()==="button")return"button"}function T(ht,$){let[_e,vt]=reactExports.useState(()=>i$1(ht));return n$3(()=>{vt(i$1(ht))},[ht.type,ht.as]),n$3(()=>{_e||$.current&&$.current instanceof HTMLButtonElement&&!$.current.hasAttribute("type")&&vt("button")},[_e,$]),_e}function d$1(){let ht;return{before({doc:$}){var _e;let vt=$.documentElement,xt=(_e=$.defaultView)!=null?_e:window;ht=Math.max(0,xt.innerWidth-vt.clientWidth)},after({doc:$,d:_e}){let vt=$.documentElement,xt=Math.max(0,vt.clientWidth-vt.offsetWidth),bt=Math.max(0,ht-xt);_e.style(vt,"paddingRight",`${bt}px`)}}}function d(){return t$1()?{before({doc:ht,d:$,meta:_e}){function vt(xt){return _e.containers.flatMap(bt=>bt()).some(bt=>bt.contains(xt))}$.microTask(()=>{var xt;if(window.getComputedStyle(ht.documentElement).scrollBehavior!=="auto"){let At=o$4();At.style(ht.documentElement,"scrollBehavior","auto"),$.add(()=>$.microTask(()=>At.dispose()))}let bt=(xt=window.scrollY)!=null?xt:window.pageYOffset,Et=null;$.addEventListener(ht,"click",At=>{if(At.target instanceof HTMLElement)try{let _t=At.target.closest("a");if(!_t)return;let{hash:Ct}=new URL(_t.href),St=ht.querySelector(Ct);St&&!vt(St)&&(Et=St)}catch{}},!0),$.addEventListener(ht,"touchstart",At=>{if(At.target instanceof HTMLElement)if(vt(At.target)){let _t=At.target;for(;_t.parentElement&&vt(_t.parentElement);)_t=_t.parentElement;$.style(_t,"overscrollBehavior","contain")}else $.style(At.target,"touchAction","none")}),$.addEventListener(ht,"touchmove",At=>{if(At.target instanceof HTMLElement){if(At.target.tagName==="INPUT")return;if(vt(At.target)){let _t=At.target;for(;_t.parentElement&&_t.dataset.headlessuiPortal!==""&&!(_t.scrollHeight>_t.clientHeight||_t.scrollWidth>_t.clientWidth);)_t=_t.parentElement;_t.dataset.headlessuiPortal===""&&At.preventDefault()}else At.preventDefault()}},{passive:!1}),$.add(()=>{var At;let _t=(At=window.scrollY)!=null?At:window.pageYOffset;bt!==_t&&window.scrollTo(0,bt),Et&&Et.isConnected&&(Et.scrollIntoView({block:"nearest"}),Et=null)})})}}:{}}function r(){return{before({doc:ht,d:$}){$.style(ht.documentElement,"overflow","hidden")}}}function m(ht){let $={};for(let _e of ht)Object.assign($,_e($));return $}let a$3=a$4(()=>new Map,{PUSH(ht,$){var _e;let vt=(_e=this.get(ht))!=null?_e:{doc:ht,count:0,d:o$4(),meta:new Set};return vt.count++,vt.meta.add($),this.set(ht,vt),this},POP(ht,$){let _e=this.get(ht);return _e&&(_e.count--,_e.meta.delete($)),this},SCROLL_PREVENT({doc:ht,d:$,meta:_e}){let vt={doc:ht,d:$,meta:m(_e)},xt=[d(),d$1(),r()];xt.forEach(({before:bt})=>bt==null?void 0:bt(vt)),xt.forEach(({after:bt})=>bt==null?void 0:bt(vt))},SCROLL_ALLOW({d:ht}){ht.dispose()},TEARDOWN({doc:ht}){this.delete(ht)}});a$3.subscribe(()=>{let ht=a$3.getSnapshot(),$=new Map;for(let[_e]of ht)$.set(_e,_e.documentElement.style.overflow);for(let _e of ht.values()){let vt=$.get(_e.doc)==="hidden",xt=_e.count!==0;(xt&&!vt||!xt&&vt)&&a$3.dispatch(_e.count>0?"SCROLL_PREVENT":"SCROLL_ALLOW",_e),_e.count===0&&a$3.dispatch("TEARDOWN",_e)}});function a$2(ht,$,_e=()=>({containers:[]})){let vt=o$1(a$3),xt=$?vt.get($):void 0,bt=xt?xt.count>0:!1;return n$3(()=>{if(!(!$||!ht))return a$3.dispatch("PUSH",$,_e),()=>a$3.dispatch("POP",$,_e)},[ht,$]),bt}function f$1(ht,$,_e=()=>[document.body]){let vt=x(ht,"scroll-lock");a$2(vt,$,xt=>{var bt;return{containers:[...(bt=xt.containers)!=null?bt:[],_e]}})}function t(ht){return[ht.screenX,ht.screenY]}function u$2(){let ht=reactExports.useRef([-1,-1]);return{wasMoved($){let _e=t($);return ht.current[0]===_e[0]&&ht.current[1]===_e[1]?!1:(ht.current=_e,!0)},update($){ht.current=t($)}}}function l$1(ht){let $={called:!1};return(..._e)=>{if(!$.called)return $.called=!0,ht(..._e)}}function c$3(ht=0){let[$,_e]=reactExports.useState(ht),vt=reactExports.useCallback(_t=>_e(_t),[$]),xt=reactExports.useCallback(_t=>_e(Ct=>Ct|_t),[$]),bt=reactExports.useCallback(_t=>($&_t)===_t,[$]),Et=reactExports.useCallback(_t=>_e(Ct=>Ct&~_t),[_e]),At=reactExports.useCallback(_t=>_e(Ct=>Ct^_t),[_e]);return{flags:$,setFlag:vt,addFlag:xt,hasFlag:bt,removeFlag:Et,toggleFlag:At}}var D$2=(ht=>(ht[ht.None=0]="None",ht[ht.Closed=1]="Closed",ht[ht.Enter=2]="Enter",ht[ht.Leave=4]="Leave",ht))(D$2||{});function A(ht){let $={};for(let _e in ht)ht[_e]===!0&&($[`data-${_e}`]="");return $}function V(ht,$,_e,vt){let[xt,bt]=reactExports.useState(_e),{hasFlag:Et,addFlag:At,removeFlag:_t}=c$3(ht&&xt?3:0),Ct=reactExports.useRef(!1),St=reactExports.useRef(!1),Rt=p$3();return n$3(function Pt(){var kt;if(!ht)return;_e&&bt(!0);let Mt=$.current;return Mt?((kt=void 0)==null||kt.call(vt,_e),M$1(Mt,{inFlight:Ct,prepare(){St.current?St.current=!1:St.current=Ct.current,Ct.current=!0,!St.current&&(_e?(At(3),_t(4)):(At(4),_t(2)))},run(){St.current?_e?(_t(3),At(4)):(_t(4),At(3)):_e?_t(1):At(1)},done(){var Lt;St.current&&typeof Mt.getAnimations=="function"&&Mt.getAnimations().length>0||(Ct.current=!1,_t(7),_e||bt(!1),(Lt=void 0)==null||Lt.call(vt,_e))}})):_e?(At(3),Rt.nextFrame(()=>Pt())):void 0},[ht,_e,$,Rt]),ht?[xt,{closed:Et(1),enter:Et(2),leave:Et(4),transition:Et(2)||Et(4)}]:[_e,{closed:void 0,enter:void 0,leave:void 0,transition:void 0}]}function M$1(ht,{prepare:$,run:_e,done:vt,inFlight:xt}){let bt=o$4();return R(ht,{prepare:$,inFlight:xt}),bt.nextFrame(()=>{bt.add(F$1(ht,vt)),_e()}),bt.dispose}function F$1(ht,$){let _e=l$1($),vt=o$4();if(!ht)return vt.dispose;let{transitionDuration:xt,transitionDelay:bt}=getComputedStyle(ht),[Et,At]=[xt,bt].map(Ct=>{let[St=0]=Ct.split(",").filter(Boolean).map(Rt=>Rt.includes("ms")?parseFloat(Rt):parseFloat(Rt)*1e3).sort((Rt,Pt)=>Pt-Rt);return St}),_t=Et+At;if(_t!==0){let Ct=vt.group(St=>{let Rt=St.setTimeout(()=>{_e(),St.dispose()},_t);St.addEventListener(ht,"transitionrun",Pt=>{Pt.target===Pt.currentTarget&&(Rt(),St.addEventListener(ht,"transitioncancel",kt=>{kt.target===kt.currentTarget&&(_e(),Ct())}))})});vt.addEventListener(ht,"transitionend",St=>{St.target===St.currentTarget&&(_e(),vt.dispose())})}else _e();return vt.dispose}function R(ht,{inFlight:$,prepare:_e}){if($!=null&&$.current){_e();return}let vt=ht.style.transition;ht.style.transition="none",_e(),ht.offsetHeight,ht.style.transition=vt}function F(ht,{container:$,accept:_e,walk:vt}){let xt=reactExports.useRef(_e),bt=reactExports.useRef(vt);reactExports.useEffect(()=>{xt.current=_e,bt.current=vt},[_e,vt]),n$3(()=>{if(!$||!ht)return;let Et=u$7($);if(!Et)return;let At=xt.current,_t=bt.current,Ct=Object.assign(Rt=>At(Rt),{acceptNode:At}),St=Et.createTreeWalker($,NodeFilter.SHOW_ELEMENT,Ct,!1);for(;St.nextNode();)_t(St.currentNode)},[$,ht,xt,bt])}function getNodeName(ht){return isNode(ht)?(ht.nodeName||"").toLowerCase():"#document"}function getWindow(ht){var $;return(ht==null||($=ht.ownerDocument)==null?void 0:$.defaultView)||window}function getDocumentElement(ht){var $;return($=(isNode(ht)?ht.ownerDocument:ht.document)||window.document)==null?void 0:$.documentElement}function isNode(ht){return ht instanceof Node||ht instanceof getWindow(ht).Node}function isElement(ht){return ht instanceof Element||ht instanceof getWindow(ht).Element}function isHTMLElement(ht){return ht instanceof HTMLElement||ht instanceof getWindow(ht).HTMLElement}function isShadowRoot(ht){return typeof ShadowRoot>"u"?!1:ht instanceof ShadowRoot||ht instanceof getWindow(ht).ShadowRoot}function isOverflowElement(ht){const{overflow:$,overflowX:_e,overflowY:vt,display:xt}=getComputedStyle$1(ht);return/auto|scroll|overlay|hidden|clip/.test($+vt+_e)&&!["inline","contents"].includes(xt)}function isTableElement(ht){return["table","td","th"].includes(getNodeName(ht))}function isTopLayer(ht){return[":popover-open",":modal"].some($=>{try{return ht.matches($)}catch{return!1}})}function isContainingBlock(ht){const $=isWebKit(),_e=getComputedStyle$1(ht);return _e.transform!=="none"||_e.perspective!=="none"||(_e.containerType?_e.containerType!=="normal":!1)||!$&&(_e.backdropFilter?_e.backdropFilter!=="none":!1)||!$&&(_e.filter?_e.filter!=="none":!1)||["transform","perspective","filter"].some(vt=>(_e.willChange||"").includes(vt))||["paint","layout","strict","content"].some(vt=>(_e.contain||"").includes(vt))}function getContainingBlock(ht){let $=getParentNode(ht);for(;isHTMLElement($)&&!isLastTraversableNode($);){if(isTopLayer($))return null;if(isContainingBlock($))return $;$=getParentNode($)}return null}function isWebKit(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function isLastTraversableNode(ht){return["html","body","#document"].includes(getNodeName(ht))}function getComputedStyle$1(ht){return getWindow(ht).getComputedStyle(ht)}function getNodeScroll(ht){return isElement(ht)?{scrollLeft:ht.scrollLeft,scrollTop:ht.scrollTop}:{scrollLeft:ht.pageXOffset,scrollTop:ht.pageYOffset}}function getParentNode(ht){if(getNodeName(ht)==="html")return ht;const $=ht.assignedSlot||ht.parentNode||isShadowRoot(ht)&&ht.host||getDocumentElement(ht);return isShadowRoot($)?$.host:$}function getNearestOverflowAncestor(ht){const $=getParentNode(ht);return isLastTraversableNode($)?ht.ownerDocument?ht.ownerDocument.body:ht.body:isHTMLElement($)&&isOverflowElement($)?$:getNearestOverflowAncestor($)}function getOverflowAncestors(ht,$,_e){var vt;$===void 0&&($=[]),_e===void 0&&(_e=!0);const xt=getNearestOverflowAncestor(ht),bt=xt===((vt=ht.ownerDocument)==null?void 0:vt.body),Et=getWindow(xt);return bt?$.concat(Et,Et.visualViewport||[],isOverflowElement(xt)?xt:[],Et.frameElement&&_e?getOverflowAncestors(Et.frameElement):[]):$.concat(xt,getOverflowAncestors(xt,[],_e))}function getUserAgent(){const ht=navigator.userAgentData;return ht&&Array.isArray(ht.brands)?ht.brands.map($=>{let{brand:_e,version:vt}=$;return _e+"/"+vt}).join(" "):navigator.userAgent}const min=Math.min,max=Math.max,round=Math.round,floor=Math.floor,createCoords=ht=>({x:ht,y:ht}),oppositeSideMap={left:"right",right:"left",bottom:"top",top:"bottom"},oppositeAlignmentMap={start:"end",end:"start"};function clamp(ht,$,_e){return max(ht,min($,_e))}function evaluate(ht,$){return typeof ht=="function"?ht($):ht}function getSide(ht){return ht.split("-")[0]}function getAlignment(ht){return ht.split("-")[1]}function getOppositeAxis(ht){return ht==="x"?"y":"x"}function getAxisLength(ht){return ht==="y"?"height":"width"}function getSideAxis(ht){return["top","bottom"].includes(getSide(ht))?"y":"x"}function getAlignmentAxis(ht){return getOppositeAxis(getSideAxis(ht))}function getAlignmentSides(ht,$,_e){_e===void 0&&(_e=!1);const vt=getAlignment(ht),xt=getAlignmentAxis(ht),bt=getAxisLength(xt);let Et=xt==="x"?vt===(_e?"end":"start")?"right":"left":vt==="start"?"bottom":"top";return $.reference[bt]>$.floating[bt]&&(Et=getOppositePlacement(Et)),[Et,getOppositePlacement(Et)]}function getExpandedPlacements(ht){const $=getOppositePlacement(ht);return[getOppositeAlignmentPlacement(ht),$,getOppositeAlignmentPlacement($)]}function getOppositeAlignmentPlacement(ht){return ht.replace(/start|end/g,$=>oppositeAlignmentMap[$])}function getSideList(ht,$,_e){const vt=["left","right"],xt=["right","left"],bt=["top","bottom"],Et=["bottom","top"];switch(ht){case"top":case"bottom":return _e?$?xt:vt:$?vt:xt;case"left":case"right":return $?bt:Et;default:return[]}}function getOppositeAxisPlacements(ht,$,_e,vt){const xt=getAlignment(ht);let bt=getSideList(getSide(ht),_e==="start",vt);return xt&&(bt=bt.map(Et=>Et+"-"+xt),$&&(bt=bt.concat(bt.map(getOppositeAlignmentPlacement)))),bt}function getOppositePlacement(ht){return ht.replace(/left|right|bottom|top/g,$=>oppositeSideMap[$])}function expandPaddingObject(ht){return{top:0,right:0,bottom:0,left:0,...ht}}function getPaddingObject(ht){return typeof ht!="number"?expandPaddingObject(ht):{top:ht,right:ht,bottom:ht,left:ht}}function rectToClientRect(ht){const{x:$,y:_e,width:vt,height:xt}=ht;return{width:vt,height:xt,top:_e,left:$,right:$+vt,bottom:_e+xt,x:$,y:_e}}function computeCoordsFromPlacement(ht,$,_e){let{reference:vt,floating:xt}=ht;const bt=getSideAxis($),Et=getAlignmentAxis($),At=getAxisLength(Et),_t=getSide($),Ct=bt==="y",St=vt.x+vt.width/2-xt.width/2,Rt=vt.y+vt.height/2-xt.height/2,Pt=vt[At]/2-xt[At]/2;let kt;switch(_t){case"top":kt={x:St,y:vt.y-xt.height};break;case"bottom":kt={x:St,y:vt.y+vt.height};break;case"right":kt={x:vt.x+vt.width,y:Rt};break;case"left":kt={x:vt.x-xt.width,y:Rt};break;default:kt={x:vt.x,y:vt.y}}switch(getAlignment($)){case"start":kt[Et]-=Pt*(_e&&Ct?-1:1);break;case"end":kt[Et]+=Pt*(_e&&Ct?-1:1);break}return kt}const computePosition$1=async(ht,$,_e)=>{const{placement:vt="bottom",strategy:xt="absolute",middleware:bt=[],platform:Et}=_e,At=bt.filter(Boolean),_t=await(Et.isRTL==null?void 0:Et.isRTL($));let Ct=await Et.getElementRects({reference:ht,floating:$,strategy:xt}),{x:St,y:Rt}=computeCoordsFromPlacement(Ct,vt,_t),Pt=vt,kt={},Mt=0;for(let Lt=0;Lt<At.length;Lt++){const{name:$t,fn:Ft}=At[Lt],{x:Dt,y:Nt,data:Ht,reset:Ot}=await Ft({x:St,y:Rt,initialPlacement:vt,placement:Pt,strategy:xt,middlewareData:kt,rects:Ct,platform:Et,elements:{reference:ht,floating:$}});St=Dt??St,Rt=Nt??Rt,kt={...kt,[$t]:{...kt[$t],...Ht}},Ot&&Mt<=50&&(Mt++,typeof Ot=="object"&&(Ot.placement&&(Pt=Ot.placement),Ot.rects&&(Ct=Ot.rects===!0?await Et.getElementRects({reference:ht,floating:$,strategy:xt}):Ot.rects),{x:St,y:Rt}=computeCoordsFromPlacement(Ct,Pt,_t)),Lt=-1)}return{x:St,y:Rt,placement:Pt,strategy:xt,middlewareData:kt}};async function detectOverflow$1(ht,$){var _e;$===void 0&&($={});const{x:vt,y:xt,platform:bt,rects:Et,elements:At,strategy:_t}=ht,{boundary:Ct="clippingAncestors",rootBoundary:St="viewport",elementContext:Rt="floating",altBoundary:Pt=!1,padding:kt=0}=evaluate($,ht),Mt=getPaddingObject(kt),$t=At[Pt?Rt==="floating"?"reference":"floating":Rt],Ft=rectToClientRect(await bt.getClippingRect({element:(_e=await(bt.isElement==null?void 0:bt.isElement($t)))==null||_e?$t:$t.contextElement||await(bt.getDocumentElement==null?void 0:bt.getDocumentElement(At.floating)),boundary:Ct,rootBoundary:St,strategy:_t})),Dt=Rt==="floating"?{x:vt,y:xt,width:Et.floating.width,height:Et.floating.height}:Et.reference,Nt=await(bt.getOffsetParent==null?void 0:bt.getOffsetParent(At.floating)),Ht=await(bt.isElement==null?void 0:bt.isElement(Nt))?await(bt.getScale==null?void 0:bt.getScale(Nt))||{x:1,y:1}:{x:1,y:1},Ot=rectToClientRect(bt.convertOffsetParentRelativeRectToViewportRelativeRect?await bt.convertOffsetParentRelativeRectToViewportRelativeRect({elements:At,rect:Dt,offsetParent:Nt,strategy:_t}):Dt);return{top:(Ft.top-Ot.top+Mt.top)/Ht.y,bottom:(Ot.bottom-Ft.bottom+Mt.bottom)/Ht.y,left:(Ft.left-Ot.left+Mt.left)/Ht.x,right:(Ot.right-Ft.right+Mt.right)/Ht.x}}const flip$2=function(ht){return ht===void 0&&(ht={}),{name:"flip",options:ht,async fn($){var _e,vt;const{placement:xt,middlewareData:bt,rects:Et,initialPlacement:At,platform:_t,elements:Ct}=$,{mainAxis:St=!0,crossAxis:Rt=!0,fallbackPlacements:Pt,fallbackStrategy:kt="bestFit",fallbackAxisSideDirection:Mt="none",flipAlignment:Lt=!0,...$t}=evaluate(ht,$);if((_e=bt.arrow)!=null&&_e.alignmentOffset)return{};const Ft=getSide(xt),Dt=getSideAxis(At),Nt=getSide(At)===At,Ht=await(_t.isRTL==null?void 0:_t.isRTL(Ct.floating)),Ot=Pt||(Nt||!Lt?[getOppositePlacement(At)]:getExpandedPlacements(At)),Bt=Mt!=="none";!Pt&&Bt&&Ot.push(...getOppositeAxisPlacements(At,Lt,Mt,Ht));const jt=[At,...Ot],zt=await detectOverflow$1($,$t),Kt=[];let nn=((vt=bt.flip)==null?void 0:vt.overflows)||[];if(St&&Kt.push(zt[Ft]),Rt){const An=getAlignmentSides(xt,Et,Ht);Kt.push(zt[An[0]],zt[An[1]])}if(nn=[...nn,{placement:xt,overflows:Kt}],!Kt.every(An=>An<=0)){var Xt,en;const An=(((Xt=bt.flip)==null?void 0:Xt.index)||0)+1,un=jt[An];if(un)return{data:{index:An,overflows:nn},reset:{placement:un}};let vn=(en=nn.filter(an=>an.overflows[0]<=0).sort((an,dn)=>an.overflows[1]-dn.overflows[1])[0])==null?void 0:en.placement;if(!vn)switch(kt){case"bestFit":{var on;const an=(on=nn.filter(dn=>{if(Bt){const tn=getSideAxis(dn.placement);return tn===Dt||tn==="y"}return!0}).map(dn=>[dn.placement,dn.overflows.filter(tn=>tn>0).reduce((tn,gn)=>tn+gn,0)]).sort((dn,tn)=>dn[1]-tn[1])[0])==null?void 0:on[0];an&&(vn=an);break}case"initialPlacement":vn=At;break}if(xt!==vn)return{reset:{placement:vn}}}return{}}}};async function convertValueToCoords(ht,$){const{placement:_e,platform:vt,elements:xt}=ht,bt=await(vt.isRTL==null?void 0:vt.isRTL(xt.floating)),Et=getSide(_e),At=getAlignment(_e),_t=getSideAxis(_e)==="y",Ct=["left","top"].includes(Et)?-1:1,St=bt&&_t?-1:1,Rt=evaluate($,ht);let{mainAxis:Pt,crossAxis:kt,alignmentAxis:Mt}=typeof Rt=="number"?{mainAxis:Rt,crossAxis:0,alignmentAxis:null}:{mainAxis:0,crossAxis:0,alignmentAxis:null,...Rt};return At&&typeof Mt=="number"&&(kt=At==="end"?Mt*-1:Mt),_t?{x:kt*St,y:Pt*Ct}:{x:Pt*Ct,y:kt*St}}const offset$2=function(ht){return ht===void 0&&(ht=0),{name:"offset",options:ht,async fn($){var _e,vt;const{x:xt,y:bt,placement:Et,middlewareData:At}=$,_t=await convertValueToCoords($,ht);return Et===((_e=At.offset)==null?void 0:_e.placement)&&(vt=At.arrow)!=null&&vt.alignmentOffset?{}:{x:xt+_t.x,y:bt+_t.y,data:{..._t,placement:Et}}}}},shift$2=function(ht){return ht===void 0&&(ht={}),{name:"shift",options:ht,async fn($){const{x:_e,y:vt,placement:xt}=$,{mainAxis:bt=!0,crossAxis:Et=!1,limiter:At={fn:$t=>{let{x:Ft,y:Dt}=$t;return{x:Ft,y:Dt}}},..._t}=evaluate(ht,$),Ct={x:_e,y:vt},St=await detectOverflow$1($,_t),Rt=getSideAxis(getSide(xt)),Pt=getOppositeAxis(Rt);let kt=Ct[Pt],Mt=Ct[Rt];if(bt){const $t=Pt==="y"?"top":"left",Ft=Pt==="y"?"bottom":"right",Dt=kt+St[$t],Nt=kt-St[Ft];kt=clamp(Dt,kt,Nt)}if(Et){const $t=Rt==="y"?"top":"left",Ft=Rt==="y"?"bottom":"right",Dt=Mt+St[$t],Nt=Mt-St[Ft];Mt=clamp(Dt,Mt,Nt)}const Lt=At.fn({...$,[Pt]:kt,[Rt]:Mt});return{...Lt,data:{x:Lt.x-_e,y:Lt.y-vt}}}}},size$2=function(ht){return ht===void 0&&(ht={}),{name:"size",options:ht,async fn($){const{placement:_e,rects:vt,platform:xt,elements:bt}=$,{apply:Et=()=>{},...At}=evaluate(ht,$),_t=await detectOverflow$1($,At),Ct=getSide(_e),St=getAlignment(_e),Rt=getSideAxis(_e)==="y",{width:Pt,height:kt}=vt.floating;let Mt,Lt;Ct==="top"||Ct==="bottom"?(Mt=Ct,Lt=St===(await(xt.isRTL==null?void 0:xt.isRTL(bt.floating))?"start":"end")?"left":"right"):(Lt=Ct,Mt=St==="end"?"top":"bottom");const $t=kt-_t.top-_t.bottom,Ft=Pt-_t.left-_t.right,Dt=min(kt-_t[Mt],$t),Nt=min(Pt-_t[Lt],Ft),Ht=!$.middlewareData.shift;let Ot=Dt,Bt=Nt;if(Rt?Bt=St||Ht?min(Nt,Ft):Ft:Ot=St||Ht?min(Dt,$t):$t,Ht&&!St){const zt=max(_t.left,0),Kt=max(_t.right,0),nn=max(_t.top,0),Xt=max(_t.bottom,0);Rt?Bt=Pt-2*(zt!==0||Kt!==0?zt+Kt:max(_t.left,_t.right)):Ot=kt-2*(nn!==0||Xt!==0?nn+Xt:max(_t.top,_t.bottom))}await Et({...$,availableWidth:Bt,availableHeight:Ot});const jt=await xt.getDimensions(bt.floating);return Pt!==jt.width||kt!==jt.height?{reset:{rects:!0}}:{}}}};function getCssDimensions(ht){const $=getComputedStyle$1(ht);let _e=parseFloat($.width)||0,vt=parseFloat($.height)||0;const xt=isHTMLElement(ht),bt=xt?ht.offsetWidth:_e,Et=xt?ht.offsetHeight:vt,At=round(_e)!==bt||round(vt)!==Et;return At&&(_e=bt,vt=Et),{width:_e,height:vt,$:At}}function unwrapElement(ht){return isElement(ht)?ht:ht.contextElement}function getScale(ht){const $=unwrapElement(ht);if(!isHTMLElement($))return createCoords(1);const _e=$.getBoundingClientRect(),{width:vt,height:xt,$:bt}=getCssDimensions($);let Et=(bt?round(_e.width):_e.width)/vt,At=(bt?round(_e.height):_e.height)/xt;return(!Et||!Number.isFinite(Et))&&(Et=1),(!At||!Number.isFinite(At))&&(At=1),{x:Et,y:At}}const noOffsets=createCoords(0);function getVisualOffsets(ht){const $=getWindow(ht);return!isWebKit()||!$.visualViewport?noOffsets:{x:$.visualViewport.offsetLeft,y:$.visualViewport.offsetTop}}function shouldAddVisualOffsets(ht,$,_e){return $===void 0&&($=!1),!_e||$&&_e!==getWindow(ht)?!1:$}function getBoundingClientRect(ht,$,_e,vt){$===void 0&&($=!1),_e===void 0&&(_e=!1);const xt=ht.getBoundingClientRect(),bt=unwrapElement(ht);let Et=createCoords(1);$&&(vt?isElement(vt)&&(Et=getScale(vt)):Et=getScale(ht));const At=shouldAddVisualOffsets(bt,_e,vt)?getVisualOffsets(bt):createCoords(0);let _t=(xt.left+At.x)/Et.x,Ct=(xt.top+At.y)/Et.y,St=xt.width/Et.x,Rt=xt.height/Et.y;if(bt){const Pt=getWindow(bt),kt=vt&&isElement(vt)?getWindow(vt):vt;let Mt=Pt,Lt=Mt.frameElement;for(;Lt&&vt&&kt!==Mt;){const $t=getScale(Lt),Ft=Lt.getBoundingClientRect(),Dt=getComputedStyle$1(Lt),Nt=Ft.left+(Lt.clientLeft+parseFloat(Dt.paddingLeft))*$t.x,Ht=Ft.top+(Lt.clientTop+parseFloat(Dt.paddingTop))*$t.y;_t*=$t.x,Ct*=$t.y,St*=$t.x,Rt*=$t.y,_t+=Nt,Ct+=Ht,Mt=getWindow(Lt),Lt=Mt.frameElement}}return rectToClientRect({width:St,height:Rt,x:_t,y:Ct})}function convertOffsetParentRelativeRectToViewportRelativeRect(ht){let{elements:$,rect:_e,offsetParent:vt,strategy:xt}=ht;const bt=xt==="fixed",Et=getDocumentElement(vt),At=$?isTopLayer($.floating):!1;if(vt===Et||At&&bt)return _e;let _t={scrollLeft:0,scrollTop:0},Ct=createCoords(1);const St=createCoords(0),Rt=isHTMLElement(vt);if((Rt||!Rt&&!bt)&&((getNodeName(vt)!=="body"||isOverflowElement(Et))&&(_t=getNodeScroll(vt)),isHTMLElement(vt))){const Pt=getBoundingClientRect(vt);Ct=getScale(vt),St.x=Pt.x+vt.clientLeft,St.y=Pt.y+vt.clientTop}return{width:_e.width*Ct.x,height:_e.height*Ct.y,x:_e.x*Ct.x-_t.scrollLeft*Ct.x+St.x,y:_e.y*Ct.y-_t.scrollTop*Ct.y+St.y}}function getClientRects(ht){return Array.from(ht.getClientRects())}function getWindowScrollBarX(ht){return getBoundingClientRect(getDocumentElement(ht)).left+getNodeScroll(ht).scrollLeft}function getDocumentRect(ht){const $=getDocumentElement(ht),_e=getNodeScroll(ht),vt=ht.ownerDocument.body,xt=max($.scrollWidth,$.clientWidth,vt.scrollWidth,vt.clientWidth),bt=max($.scrollHeight,$.clientHeight,vt.scrollHeight,vt.clientHeight);let Et=-_e.scrollLeft+getWindowScrollBarX(ht);const At=-_e.scrollTop;return getComputedStyle$1(vt).direction==="rtl"&&(Et+=max($.clientWidth,vt.clientWidth)-xt),{width:xt,height:bt,x:Et,y:At}}function getViewportRect(ht,$){const _e=getWindow(ht),vt=getDocumentElement(ht),xt=_e.visualViewport;let bt=vt.clientWidth,Et=vt.clientHeight,At=0,_t=0;if(xt){bt=xt.width,Et=xt.height;const Ct=isWebKit();(!Ct||Ct&&$==="fixed")&&(At=xt.offsetLeft,_t=xt.offsetTop)}return{width:bt,height:Et,x:At,y:_t}}function getInnerBoundingClientRect(ht,$){const _e=getBoundingClientRect(ht,!0,$==="fixed"),vt=_e.top+ht.clientTop,xt=_e.left+ht.clientLeft,bt=isHTMLElement(ht)?getScale(ht):createCoords(1),Et=ht.clientWidth*bt.x,At=ht.clientHeight*bt.y,_t=xt*bt.x,Ct=vt*bt.y;return{width:Et,height:At,x:_t,y:Ct}}function getClientRectFromClippingAncestor(ht,$,_e){let vt;if($==="viewport")vt=getViewportRect(ht,_e);else if($==="document")vt=getDocumentRect(getDocumentElement(ht));else if(isElement($))vt=getInnerBoundingClientRect($,_e);else{const xt=getVisualOffsets(ht);vt={...$,x:$.x-xt.x,y:$.y-xt.y}}return rectToClientRect(vt)}function hasFixedPositionAncestor(ht,$){const _e=getParentNode(ht);return _e===$||!isElement(_e)||isLastTraversableNode(_e)?!1:getComputedStyle$1(_e).position==="fixed"||hasFixedPositionAncestor(_e,$)}function getClippingElementAncestors(ht,$){const _e=$.get(ht);if(_e)return _e;let vt=getOverflowAncestors(ht,[],!1).filter(At=>isElement(At)&&getNodeName(At)!=="body"),xt=null;const bt=getComputedStyle$1(ht).position==="fixed";let Et=bt?getParentNode(ht):ht;for(;isElement(Et)&&!isLastTraversableNode(Et);){const At=getComputedStyle$1(Et),_t=isContainingBlock(Et);!_t&&At.position==="fixed"&&(xt=null),(bt?!_t&&!xt:!_t&&At.position==="static"&&!!xt&&["absolute","fixed"].includes(xt.position)||isOverflowElement(Et)&&!_t&&hasFixedPositionAncestor(ht,Et))?vt=vt.filter(St=>St!==Et):xt=At,Et=getParentNode(Et)}return $.set(ht,vt),vt}function getClippingRect(ht){let{element:$,boundary:_e,rootBoundary:vt,strategy:xt}=ht;const Et=[..._e==="clippingAncestors"?isTopLayer($)?[]:getClippingElementAncestors($,this._c):[].concat(_e),vt],At=Et[0],_t=Et.reduce((Ct,St)=>{const Rt=getClientRectFromClippingAncestor($,St,xt);return Ct.top=max(Rt.top,Ct.top),Ct.right=min(Rt.right,Ct.right),Ct.bottom=min(Rt.bottom,Ct.bottom),Ct.left=max(Rt.left,Ct.left),Ct},getClientRectFromClippingAncestor($,At,xt));return{width:_t.right-_t.left,height:_t.bottom-_t.top,x:_t.left,y:_t.top}}function getDimensions(ht){const{width:$,height:_e}=getCssDimensions(ht);return{width:$,height:_e}}function getRectRelativeToOffsetParent(ht,$,_e){const vt=isHTMLElement($),xt=getDocumentElement($),bt=_e==="fixed",Et=getBoundingClientRect(ht,!0,bt,$);let At={scrollLeft:0,scrollTop:0};const _t=createCoords(0);if(vt||!vt&&!bt)if((getNodeName($)!=="body"||isOverflowElement(xt))&&(At=getNodeScroll($)),vt){const Rt=getBoundingClientRect($,!0,bt,$);_t.x=Rt.x+$.clientLeft,_t.y=Rt.y+$.clientTop}else xt&&(_t.x=getWindowScrollBarX(xt));const Ct=Et.left+At.scrollLeft-_t.x,St=Et.top+At.scrollTop-_t.y;return{x:Ct,y:St,width:Et.width,height:Et.height}}function isStaticPositioned(ht){return getComputedStyle$1(ht).position==="static"}function getTrueOffsetParent(ht,$){return!isHTMLElement(ht)||getComputedStyle$1(ht).position==="fixed"?null:$?$(ht):ht.offsetParent}function getOffsetParent(ht,$){const _e=getWindow(ht);if(isTopLayer(ht))return _e;if(!isHTMLElement(ht)){let xt=getParentNode(ht);for(;xt&&!isLastTraversableNode(xt);){if(isElement(xt)&&!isStaticPositioned(xt))return xt;xt=getParentNode(xt)}return _e}let vt=getTrueOffsetParent(ht,$);for(;vt&&isTableElement(vt)&&isStaticPositioned(vt);)vt=getTrueOffsetParent(vt,$);return vt&&isLastTraversableNode(vt)&&isStaticPositioned(vt)&&!isContainingBlock(vt)?_e:vt||getContainingBlock(ht)||_e}const getElementRects=async function(ht){const $=this.getOffsetParent||getOffsetParent,_e=this.getDimensions,vt=await _e(ht.floating);return{reference:getRectRelativeToOffsetParent(ht.reference,await $(ht.floating),ht.strategy),floating:{x:0,y:0,width:vt.width,height:vt.height}}};function isRTL(ht){return getComputedStyle$1(ht).direction==="rtl"}const platform$2={convertOffsetParentRelativeRectToViewportRelativeRect,getDocumentElement,getClippingRect,getOffsetParent,getElementRects,getClientRects,getDimensions,getScale,isElement,isRTL};function observeMove(ht,$){let _e=null,vt;const xt=getDocumentElement(ht);function bt(){var At;clearTimeout(vt),(At=_e)==null||At.disconnect(),_e=null}function Et(At,_t){At===void 0&&(At=!1),_t===void 0&&(_t=1),bt();const{left:Ct,top:St,width:Rt,height:Pt}=ht.getBoundingClientRect();if(At||$(),!Rt||!Pt)return;const kt=floor(St),Mt=floor(xt.clientWidth-(Ct+Rt)),Lt=floor(xt.clientHeight-(St+Pt)),$t=floor(Ct),Dt={rootMargin:-kt+"px "+-Mt+"px "+-Lt+"px "+-$t+"px",threshold:max(0,min(1,_t))||1};let Nt=!0;function Ht(Ot){const Bt=Ot[0].intersectionRatio;if(Bt!==_t){if(!Nt)return Et();Bt?Et(!1,Bt):vt=setTimeout(()=>{Et(!1,1e-7)},1e3)}Nt=!1}try{_e=new IntersectionObserver(Ht,{...Dt,root:xt.ownerDocument})}catch{_e=new IntersectionObserver(Ht,Dt)}_e.observe(ht)}return Et(!0),bt}function autoUpdate(ht,$,_e,vt){vt===void 0&&(vt={});const{ancestorScroll:xt=!0,ancestorResize:bt=!0,elementResize:Et=typeof ResizeObserver=="function",layoutShift:At=typeof IntersectionObserver=="function",animationFrame:_t=!1}=vt,Ct=unwrapElement(ht),St=xt||bt?[...Ct?getOverflowAncestors(Ct):[],...getOverflowAncestors($)]:[];St.forEach(Ft=>{xt&&Ft.addEventListener("scroll",_e,{passive:!0}),bt&&Ft.addEventListener("resize",_e)});const Rt=Ct&&At?observeMove(Ct,_e):null;let Pt=-1,kt=null;Et&&(kt=new ResizeObserver(Ft=>{let[Dt]=Ft;Dt&&Dt.target===Ct&&kt&&(kt.unobserve($),cancelAnimationFrame(Pt),Pt=requestAnimationFrame(()=>{var Nt;(Nt=kt)==null||Nt.observe($)})),_e()}),Ct&&!_t&&kt.observe(Ct),kt.observe($));let Mt,Lt=_t?getBoundingClientRect(ht):null;_t&&$t();function $t(){const Ft=getBoundingClientRect(ht);Lt&&(Ft.x!==Lt.x||Ft.y!==Lt.y||Ft.width!==Lt.width||Ft.height!==Lt.height)&&_e(),Lt=Ft,Mt=requestAnimationFrame($t)}return _e(),()=>{var Ft;St.forEach(Dt=>{xt&&Dt.removeEventListener("scroll",_e),bt&&Dt.removeEventListener("resize",_e)}),Rt==null||Rt(),(Ft=kt)==null||Ft.disconnect(),kt=null,_t&&cancelAnimationFrame(Mt)}}const detectOverflow=detectOverflow$1,offset$1=offset$2,shift$1=shift$2,flip$1=flip$2,size$1=size$2,computePosition=(ht,$,_e)=>{const vt=new Map,xt={platform:platform$2,..._e},bt={...xt.platform,_c:vt};return computePosition$1(ht,$,{...xt,platform:bt})};var index$1=typeof document<"u"?reactExports.useLayoutEffect:reactExports.useEffect;function deepEqual(ht,$){if(ht===$)return!0;if(typeof ht!=typeof $)return!1;if(typeof ht=="function"&&ht.toString()===$.toString())return!0;let _e,vt,xt;if(ht&&$&&typeof ht=="object"){if(Array.isArray(ht)){if(_e=ht.length,_e!==$.length)return!1;for(vt=_e;vt--!==0;)if(!deepEqual(ht[vt],$[vt]))return!1;return!0}if(xt=Object.keys(ht),_e=xt.length,_e!==Object.keys($).length)return!1;for(vt=_e;vt--!==0;)if(!{}.hasOwnProperty.call($,xt[vt]))return!1;for(vt=_e;vt--!==0;){const bt=xt[vt];if(!(bt==="_owner"&&ht.$$typeof)&&!deepEqual(ht[bt],$[bt]))return!1}return!0}return ht!==ht&&$!==$}function getDPR(ht){return typeof window>"u"?1:(ht.ownerDocument.defaultView||window).devicePixelRatio||1}function roundByDPR(ht,$){const _e=getDPR(ht);return Math.round($*_e)/_e}function useLatestRef(ht){const $=reactExports.useRef(ht);return index$1(()=>{$.current=ht}),$}function useFloating$1(ht){ht===void 0&&(ht={});const{placement:$="bottom",strategy:_e="absolute",middleware:vt=[],platform:xt,elements:{reference:bt,floating:Et}={},transform:At=!0,whileElementsMounted:_t,open:Ct}=ht,[St,Rt]=reactExports.useState({x:0,y:0,strategy:_e,placement:$,middlewareData:{},isPositioned:!1}),[Pt,kt]=reactExports.useState(vt);deepEqual(Pt,vt)||kt(vt);const[Mt,Lt]=reactExports.useState(null),[$t,Ft]=reactExports.useState(null),Dt=reactExports.useCallback(an=>{an!==Bt.current&&(Bt.current=an,Lt(an))},[]),Nt=reactExports.useCallback(an=>{an!==jt.current&&(jt.current=an,Ft(an))},[]),Ht=bt||Mt,Ot=Et||$t,Bt=reactExports.useRef(null),jt=reactExports.useRef(null),zt=reactExports.useRef(St),Kt=_t!=null,nn=useLatestRef(_t),Xt=useLatestRef(xt),en=reactExports.useCallback(()=>{if(!Bt.current||!jt.current)return;const an={placement:$,strategy:_e,middleware:Pt};Xt.current&&(an.platform=Xt.current),computePosition(Bt.current,jt.current,an).then(dn=>{const tn={...dn,isPositioned:!0};on.current&&!deepEqual(zt.current,tn)&&(zt.current=tn,reactDomExports.flushSync(()=>{Rt(tn)}))})},[Pt,$,_e,Xt]);index$1(()=>{Ct===!1&&zt.current.isPositioned&&(zt.current.isPositioned=!1,Rt(an=>({...an,isPositioned:!1})))},[Ct]);const on=reactExports.useRef(!1);index$1(()=>(on.current=!0,()=>{on.current=!1}),[]),index$1(()=>{if(Ht&&(Bt.current=Ht),Ot&&(jt.current=Ot),Ht&&Ot){if(nn.current)return nn.current(Ht,Ot,en);en()}},[Ht,Ot,en,nn,Kt]);const An=reactExports.useMemo(()=>({reference:Bt,floating:jt,setReference:Dt,setFloating:Nt}),[Dt,Nt]),un=reactExports.useMemo(()=>({reference:Ht,floating:Ot}),[Ht,Ot]),vn=reactExports.useMemo(()=>{const an={position:_e,left:0,top:0};if(!un.floating)return an;const dn=roundByDPR(un.floating,St.x),tn=roundByDPR(un.floating,St.y);return At?{...an,transform:"translate("+dn+"px, "+tn+"px)",...getDPR(un.floating)>=1.5&&{willChange:"transform"}}:{position:_e,left:dn,top:tn}},[_e,At,un.floating,St.x,St.y]);return reactExports.useMemo(()=>({...St,update:en,refs:An,elements:un,floatingStyles:vn}),[St,en,An,un,vn])}const offset=(ht,$)=>({...offset$1(ht),options:[ht,$]}),shift=(ht,$)=>({...shift$1(ht),options:[ht,$]}),flip=(ht,$)=>({...flip$1(ht),options:[ht,$]}),size=(ht,$)=>({...size$1(ht),options:[ht,$]}),SafeReact={...t$4},useInsertionEffect=SafeReact.useInsertionEffect,useSafeInsertionEffect=useInsertionEffect||(ht=>ht());function useEffectEvent(ht){const $=reactExports.useRef(()=>{});return useSafeInsertionEffect(()=>{$.current=ht}),reactExports.useCallback(function(){for(var _e=arguments.length,vt=new Array(_e),xt=0;xt<_e;xt++)vt[xt]=arguments[xt];return $.current==null?void 0:$.current(...vt)},[])}var index=typeof document<"u"?reactExports.useLayoutEffect:reactExports.useEffect;let serverHandoffComplete=!1,count=0;const genId=()=>"floating-ui-"+Math.random().toString(36).slice(2,6)+count++;function useFloatingId(){const[ht,$]=reactExports.useState(()=>serverHandoffComplete?genId():void 0);return index(()=>{ht==null&&$(genId())},[]),reactExports.useEffect(()=>{serverHandoffComplete=!0},[]),ht}const useReactId=SafeReact.useId,useId=useReactId||useFloatingId;function createPubSub(){const ht=new Map;return{emit($,_e){var vt;(vt=ht.get($))==null||vt.forEach(xt=>xt(_e))},on($,_e){ht.set($,[...ht.get($)||[],_e])},off($,_e){var vt;ht.set($,((vt=ht.get($))==null?void 0:vt.filter(xt=>xt!==_e))||[])}}}const FloatingNodeContext=reactExports.createContext(null),FloatingTreeContext=reactExports.createContext(null),useFloatingParentNodeId=()=>{var ht;return((ht=reactExports.useContext(FloatingNodeContext))==null?void 0:ht.id)||null},useFloatingTree=()=>reactExports.useContext(FloatingTreeContext);function useFloatingRootContext(ht){const{open:$=!1,onOpenChange:_e,elements:vt}=ht,xt=useId(),bt=reactExports.useRef({}),[Et]=reactExports.useState(()=>createPubSub()),At=useFloatingParentNodeId()!=null,[_t,Ct]=reactExports.useState(vt.reference),St=useEffectEvent((kt,Mt,Lt)=>{bt.current.openEvent=kt?Mt:void 0,Et.emit("openchange",{open:kt,event:Mt,reason:Lt,nested:At}),_e==null||_e(kt,Mt,Lt)}),Rt=reactExports.useMemo(()=>({setPositionReference:Ct}),[]),Pt=reactExports.useMemo(()=>({reference:_t||vt.reference||null,floating:vt.floating||null,domReference:vt.reference}),[_t,vt.reference,vt.floating]);return reactExports.useMemo(()=>({dataRef:bt,open:$,onOpenChange:St,elements:Pt,events:Et,floatingId:xt,refs:Rt}),[$,St,Pt,Et,xt,Rt])}function useFloating(ht){ht===void 0&&(ht={});const{nodeId:$}=ht,_e=useFloatingRootContext({...ht,elements:{reference:null,floating:null,...ht.elements}}),vt=ht.rootContext||_e,xt=vt.elements,[bt,Et]=reactExports.useState(null),[At,_t]=reactExports.useState(null),St=(xt==null?void 0:xt.reference)||bt,Rt=reactExports.useRef(null),Pt=useFloatingTree();index(()=>{St&&(Rt.current=St)},[St]);const kt=useFloating$1({...ht,elements:{...xt,...At&&{reference:At}}}),Mt=reactExports.useCallback(Nt=>{const Ht=isElement(Nt)?{getBoundingClientRect:()=>Nt.getBoundingClientRect(),contextElement:Nt}:Nt;_t(Ht),kt.refs.setReference(Ht)},[kt.refs]),Lt=reactExports.useCallback(Nt=>{(isElement(Nt)||Nt===null)&&(Rt.current=Nt,Et(Nt)),(isElement(kt.refs.reference.current)||kt.refs.reference.current===null||Nt!==null&&!isElement(Nt))&&kt.refs.setReference(Nt)},[kt.refs]),$t=reactExports.useMemo(()=>({...kt.refs,setReference:Lt,setPositionReference:Mt,domReference:Rt}),[kt.refs,Lt,Mt]),Ft=reactExports.useMemo(()=>({...kt.elements,domReference:St}),[kt.elements,St]),Dt=reactExports.useMemo(()=>({...kt,...vt,refs:$t,elements:Ft,nodeId:$}),[kt,$t,Ft,$,vt]);return index(()=>{vt.dataRef.current.floatingContext=Dt;const Nt=Pt==null?void 0:Pt.nodesRef.current.find(Ht=>Ht.id===$);Nt&&(Nt.context=Dt)}),reactExports.useMemo(()=>({...kt,context:Dt,refs:$t,elements:Ft}),[kt,$t,Ft,Dt])}const ACTIVE_KEY="active",SELECTED_KEY="selected";function mergeProps(ht,$,_e){const vt=new Map,xt=_e==="item";let bt=ht;if(xt&&ht){const{[ACTIVE_KEY]:Et,[SELECTED_KEY]:At,..._t}=ht;bt=_t}return{..._e==="floating"&&{tabIndex:-1},...bt,...$.map(Et=>{const At=Et?Et[_e]:null;return typeof At=="function"?ht?At(ht):null:At}).concat(ht).reduce((Et,At)=>(At&&Object.entries(At).forEach(_t=>{let[Ct,St]=_t;if(!(xt&&[ACTIVE_KEY,SELECTED_KEY].includes(Ct)))if(Ct.indexOf("on")===0){if(vt.has(Ct)||vt.set(Ct,[]),typeof St=="function"){var Rt;(Rt=vt.get(Ct))==null||Rt.push(St),Et[Ct]=function(){for(var Pt,kt=arguments.length,Mt=new Array(kt),Lt=0;Lt<kt;Lt++)Mt[Lt]=arguments[Lt];return(Pt=vt.get(Ct))==null?void 0:Pt.map($t=>$t(...Mt)).find($t=>$t!==void 0)}}}else Et[Ct]=St}),Et),{})}}function useInteractions(ht){ht===void 0&&(ht=[]);const $=ht.map(At=>At==null?void 0:At.reference),_e=ht.map(At=>At==null?void 0:At.floating),vt=ht.map(At=>At==null?void 0:At.item),xt=reactExports.useCallback(At=>mergeProps(At,ht,"reference"),$),bt=reactExports.useCallback(At=>mergeProps(At,ht,"floating"),_e),Et=reactExports.useCallback(At=>mergeProps(At,ht,"item"),vt);return reactExports.useMemo(()=>({getReferenceProps:xt,getFloatingProps:bt,getItemProps:Et}),[xt,bt,Et])}function getArgsWithCustomFloatingHeight(ht,$){return{...ht,rects:{...ht.rects,floating:{...ht.rects.floating,height:$}}}}const inner=ht=>({name:"inner",options:ht,async fn($){const{listRef:_e,overflowRef:vt,onFallbackChange:xt,offset:bt=0,index:Et=0,minItemsVisible:At=4,referenceOverflowThreshold:_t=0,scrollRef:Ct,...St}=evaluate(ht,$),{rects:Rt,elements:{floating:Pt}}=$,kt=_e.current[Et];if(!kt)return{};const Mt={...$,...await offset(-kt.offsetTop-Pt.clientTop-Rt.reference.height/2-kt.offsetHeight/2-bt).fn($)},Lt=(Ct==null?void 0:Ct.current)||Pt,$t=await detectOverflow(getArgsWithCustomFloatingHeight(Mt,Lt.scrollHeight),St),Ft=await detectOverflow(Mt,{...St,elementContext:"reference"}),Dt=Math.max(0,$t.top),Nt=Mt.y+Dt,Ht=Math.max(0,Lt.scrollHeight-Dt-Math.max(0,$t.bottom));return Lt.style.maxHeight=Ht+"px",Lt.scrollTop=Dt,xt&&(Lt.offsetHeight<kt.offsetHeight*Math.min(At,_e.current.length-1)-1||Ft.top>=-_t||Ft.bottom>=-_t?reactDomExports.flushSync(()=>xt(!0)):reactDomExports.flushSync(()=>xt(!1))),vt&&(vt.current=await detectOverflow(getArgsWithCustomFloatingHeight({...Mt,y:Nt},Lt.offsetHeight),St)),{y:Nt}}});function useInnerOffset(ht,$){const{open:_e,elements:vt}=ht,{enabled:xt=!0,overflowRef:bt,scrollRef:Et,onChange:At}=$,_t=useEffectEvent(At),Ct=reactExports.useRef(!1),St=reactExports.useRef(null),Rt=reactExports.useRef(null);reactExports.useEffect(()=>{if(!xt)return;function kt(Lt){if(Lt.ctrlKey||!Mt||bt.current==null)return;const $t=Lt.deltaY,Ft=bt.current.top>=-.5,Dt=bt.current.bottom>=-.5,Nt=Mt.scrollHeight-Mt.clientHeight,Ht=$t<0?-1:1,Ot=$t<0?"max":"min";Mt.scrollHeight<=Mt.clientHeight||(!Ft&&$t>0||!Dt&&$t<0?(Lt.preventDefault(),reactDomExports.flushSync(()=>{_t(Bt=>Bt+Math[Ot]($t,Nt*Ht))})):/firefox/i.test(getUserAgent())&&(Mt.scrollTop+=$t))}const Mt=(Et==null?void 0:Et.current)||vt.floating;if(_e&&Mt)return Mt.addEventListener("wheel",kt),requestAnimationFrame(()=>{St.current=Mt.scrollTop,bt.current!=null&&(Rt.current={...bt.current})}),()=>{St.current=null,Rt.current=null,Mt.removeEventListener("wheel",kt)}},[xt,_e,vt.floating,bt,Et,_t]);const Pt=reactExports.useMemo(()=>({onKeyDown(){Ct.current=!0},onWheel(){Ct.current=!1},onPointerMove(){Ct.current=!1},onScroll(){const kt=(Et==null?void 0:Et.current)||vt.floating;if(!(!bt.current||!kt||!Ct.current)){if(St.current!==null){const Mt=kt.scrollTop-St.current;(bt.current.bottom<-.5&&Mt<-1||bt.current.top<-.5&&Mt>1)&&reactDomExports.flushSync(()=>_t(Lt=>Lt+Mt))}requestAnimationFrame(()=>{St.current=kt.scrollTop})}}}),[vt.floating,_t,bt,Et]);return reactExports.useMemo(()=>xt?{floating:Pt}:{},[xt,Pt])}let y$1=reactExports.createContext({styles:void 0,setReference:()=>{},setFloating:()=>{},getReferenceProps:()=>({}),getFloatingProps:()=>({}),slot:{}});y$1.displayName="FloatingContext";let S$1=reactExports.createContext(null);S$1.displayName="PlacementContext";function xe(ht){return reactExports.useMemo(()=>ht?typeof ht=="string"?{to:ht}:ht:null,[ht])}function ye(){return reactExports.useContext(y$1).setReference}function Fe(){return reactExports.useContext(y$1).getReferenceProps}function be(){let{getFloatingProps:ht,slot:$}=reactExports.useContext(y$1);return reactExports.useCallback((..._e)=>Object.assign({},ht(..._e),{"data-anchor":$.anchor}),[ht,$])}function Re(ht=null){ht===!1&&(ht=null),typeof ht=="string"&&(ht={to:ht});let $=reactExports.useContext(S$1),_e=reactExports.useMemo(()=>ht,[JSON.stringify(ht,typeof HTMLElement<"u"?(xt,bt)=>bt instanceof HTMLElement?bt.outerHTML:bt:void 0)]);n$3(()=>{$==null||$(_e??null)},[$,_e]);let vt=reactExports.useContext(y$1);return reactExports.useMemo(()=>[vt.setFloating,ht?vt.styles:{}],[vt.setFloating,ht,vt.styles])}let q=4;function ve({children:ht,enabled:$=!0}){let[_e,vt]=reactExports.useState(null),[xt,bt]=reactExports.useState(0),Et=reactExports.useRef(null),[At,_t]=reactExports.useState(null);pe(At);let Ct=$&&_e!==null&&At!==null,{to:St="bottom",gap:Rt=0,offset:Pt=0,padding:kt=0,inner:Mt}=ce(_e,At),[Lt,$t="center"]=St.split(" ");n$3(()=>{Ct&&bt(0)},[Ct]);let{refs:Ft,floatingStyles:Dt,context:Nt}=useFloating({open:Ct,placement:Lt==="selection"?$t==="center"?"bottom":`bottom-${$t}`:$t==="center"?`${Lt}`:`${Lt}-${$t}`,strategy:"absolute",transform:!1,middleware:[offset({mainAxis:Lt==="selection"?0:Rt,crossAxis:Pt}),shift({padding:kt}),Lt!=="selection"&&flip({padding:kt}),Lt==="selection"&&Mt?inner({...Mt,padding:kt,overflowRef:Et,offset:xt,minItemsVisible:q,referenceOverflowThreshold:kt,onFallbackChange(Xt){var en,on;if(!Xt)return;let An=Nt.elements.floating;if(!An)return;let un=parseFloat(getComputedStyle(An).scrollPaddingBottom)||0,vn=Math.min(q,An.childElementCount),an=0,dn=0;for(let tn of(on=(en=Nt.elements.floating)==null?void 0:en.childNodes)!=null?on:[])if(tn instanceof HTMLElement){let gn=tn.offsetTop,Sn=gn+tn.clientHeight+un,rn=An.scrollTop,qt=rn+An.clientHeight;if(gn>=rn&&Sn<=qt)vn--;else{dn=Math.max(0,Math.min(Sn,qt)-Math.max(gn,rn)),an=tn.clientHeight;break}}vn>=1&&bt(tn=>{let gn=an*vn-dn+un;return tn>=gn?tn:gn})}}):null,size({padding:kt,apply({availableWidth:Xt,availableHeight:en,elements:on}){Object.assign(on.floating.style,{overflow:"auto",maxWidth:`${Xt}px`,maxHeight:`min(var(--anchor-max-height, 100vh), ${en}px)`})}})].filter(Boolean),whileElementsMounted:autoUpdate}),[Ht=Lt,Ot=$t]=Nt.placement.split("-");Lt==="selection"&&(Ht="selection");let Bt=reactExports.useMemo(()=>({anchor:[Ht,Ot].filter(Boolean).join(" ")}),[Ht,Ot]),jt=useInnerOffset(Nt,{overflowRef:Et,onChange:bt}),{getReferenceProps:zt,getFloatingProps:Kt}=useInteractions([jt]),nn=o$3(Xt=>{_t(Xt),Ft.setFloating(Xt)});return reactExports.createElement(S$1.Provider,{value:vt},reactExports.createElement(y$1.Provider,{value:{setFloating:nn,setReference:Ft.setReference,styles:Dt,getReferenceProps:zt,getFloatingProps:Kt,slot:Bt}},ht))}function pe(ht){n$3(()=>{if(!ht)return;let $=new MutationObserver(()=>{let _e=ht.style.maxHeight;parseFloat(_e)!==parseInt(_e)&&(ht.style.maxHeight=`${Math.ceil(parseFloat(_e))}px`)});return $.observe(ht,{attributes:!0,attributeFilter:["style"]}),()=>{$.disconnect()}},[ht])}function ce(ht,$){var _e,vt,xt;let bt=L((_e=ht==null?void 0:ht.gap)!=null?_e:"var(--anchor-gap, 0)",$),Et=L((vt=ht==null?void 0:ht.offset)!=null?vt:"var(--anchor-offset, 0)",$),At=L((xt=ht==null?void 0:ht.padding)!=null?xt:"var(--anchor-padding, 0)",$);return{...ht,gap:bt,offset:Et,padding:At}}function L(ht,$,_e=void 0){let vt=p$3(),xt=o$3((_t,Ct)=>{if(_t==null)return[_e,null];if(typeof _t=="number")return[_t,null];if(typeof _t=="string"){if(!Ct)return[_e,null];let St=J$1(_t,Ct);return[St,Rt=>{let Pt=D$1(_t);{let kt=Pt.map(Mt=>window.getComputedStyle(Ct).getPropertyValue(Mt));vt.requestAnimationFrame(function Mt(){vt.nextFrame(Mt);let Lt=!1;for(let[Ft,Dt]of Pt.entries()){let Nt=window.getComputedStyle(Ct).getPropertyValue(Dt);if(kt[Ft]!==Nt){kt[Ft]=Nt,Lt=!0;break}}if(!Lt)return;let $t=J$1(_t,Ct);St!==$t&&(Rt($t),St=$t)})}return vt.dispose}]}return[_e,null]}),bt=reactExports.useMemo(()=>xt(ht,$)[0],[ht,$]),[Et=bt,At]=reactExports.useState();return n$3(()=>{let[_t,Ct]=xt(ht,$);if(At(_t),!!Ct)return Ct(At)},[ht,$]),Et}function D$1(ht){let $=/var\((.*)\)/.exec(ht);if($){let _e=$[1].indexOf(",");if(_e===-1)return[$[1]];let vt=$[1].slice(0,_e).trim(),xt=$[1].slice(_e+1).trim();return xt?[vt,...D$1(xt)]:[vt]}return[]}function J$1(ht,$){let _e=document.createElement("div");$.appendChild(_e),_e.style.setProperty("margin-top","0px","important"),_e.style.setProperty("margin-top",ht,"important");let vt=parseFloat(window.getComputedStyle(_e).marginTop)||0;return $.removeChild(_e),vt}let n=reactExports.createContext(null);n.displayName="OpenClosedContext";var i=(ht=>(ht[ht.Open=1]="Open",ht[ht.Closed=2]="Closed",ht[ht.Closing=4]="Closing",ht[ht.Opening=8]="Opening",ht))(i||{});function u$1(){return reactExports.useContext(n)}function c$2({value:ht,children:$}){return React.createElement(n.Provider,{value:ht},$)}function u(ht){throw new Error("Unexpected object: "+ht)}var c$1=(ht=>(ht[ht.First=0]="First",ht[ht.Previous=1]="Previous",ht[ht.Next=2]="Next",ht[ht.Last=3]="Last",ht[ht.Specific=4]="Specific",ht[ht.Nothing=5]="Nothing",ht))(c$1||{});function f(ht,$){let _e=$.resolveItems();if(_e.length<=0)return null;let vt=$.resolveActiveIndex(),xt=vt??-1;switch(ht.focus){case 0:{for(let bt=0;bt<_e.length;++bt)if(!$.resolveDisabled(_e[bt],bt,_e))return bt;return vt}case 1:{xt===-1&&(xt=_e.length);for(let bt=xt-1;bt>=0;--bt)if(!$.resolveDisabled(_e[bt],bt,_e))return bt;return vt}case 2:{for(let bt=xt+1;bt<_e.length;++bt)if(!$.resolveDisabled(_e[bt],bt,_e))return bt;return vt}case 3:{for(let bt=_e.length-1;bt>=0;--bt)if(!$.resolveDisabled(_e[bt],bt,_e))return bt;return vt}case 4:{for(let bt=0;bt<_e.length;++bt)if($.resolveId(_e[bt],bt,_e)===ht.id)return bt;return vt}case 5:return null;default:u(ht)}}function c(ht){let $=o$3(ht),_e=reactExports.useRef(!1);reactExports.useEffect(()=>(_e.current=!1,()=>{_e.current=!0,t$3(()=>{_e.current&&$()})}),[$])}function s$1(){let ht=typeof document>"u";return"useSyncExternalStore"in t$4?($=>$.useSyncExternalStore)(t$4)(()=>()=>{},()=>!1,()=>!ht):!1}function l(){let ht=s$1(),[$,_e]=reactExports.useState(s$5.isHandoffComplete);return $&&s$5.isHandoffComplete===!1&&_e(!1),reactExports.useEffect(()=>{$!==!0&&_e(!0)},[$]),reactExports.useEffect(()=>s$5.handoff(),[]),ht?!1:$}let e=reactExports.createContext(!1);function a$1(){return reactExports.useContext(e)}function D(ht){let $=a$1(),_e=reactExports.useContext(v),vt=n$1(ht),[xt,bt]=reactExports.useState(()=>{var Et;if(!$&&_e!==null)return(Et=_e.current)!=null?Et:null;if(s$5.isServer)return null;let At=vt==null?void 0:vt.getElementById("headlessui-portal-root");if(At)return At;if(vt===null)return null;let _t=vt.createElement("div");return _t.setAttribute("id","headlessui-portal-root"),vt.body.appendChild(_t)});return reactExports.useEffect(()=>{xt!==null&&(vt!=null&&vt.body.contains(xt)||vt==null||vt.body.appendChild(xt))},[xt,vt]),reactExports.useEffect(()=>{$||_e!==null&&bt(_e.current)},[_e,bt,$]),xt}let M=reactExports.Fragment,N=I$3(function(ht,$){let _e=ht,vt=reactExports.useRef(null),xt=y$4(T$2(St=>{vt.current=St}),$),bt=n$1(vt),Et=D(vt),[At]=reactExports.useState(()=>{var St;return s$5.isServer?null:(St=bt==null?void 0:bt.createElement("div"))!=null?St:null}),_t=reactExports.useContext(y),Ct=l();return n$3(()=>{!Et||!At||Et.contains(At)||(At.setAttribute("data-headlessui-portal",""),Et.appendChild(At))},[Et,At]),n$3(()=>{if(At&&_t)return _t.register(At)},[_t,At]),c(()=>{var St;!Et||!At||(At instanceof Node&&Et.contains(At)&&Et.removeChild(At),Et.childNodes.length<=0&&((St=Et.parentElement)==null||St.removeChild(Et)))}),Ct?!Et||!At?null:reactDomExports.createPortal(H$1({ourProps:{ref:xt},theirProps:_e,slot:{},defaultTag:M,name:"Portal"}),At):null});function S(ht,$){let _e=y$4($),{enabled:vt=!0,...xt}=ht;return vt?React.createElement(N,{...xt,ref:_e}):H$1({ourProps:{ref:_e},theirProps:xt,slot:{},defaultTag:M,name:"Portal"})}let j$1=reactExports.Fragment,v=reactExports.createContext(null);function W$1(ht,$){let{target:_e,...vt}=ht,xt={ref:y$4($)};return React.createElement(v.Provider,{value:_e},H$1({ourProps:xt,theirProps:vt,defaultTag:j$1,name:"Popover.Group"}))}let y=reactExports.createContext(null),I=I$3(S),J=I$3(W$1),te=Object.assign(I,{Group:J});function p(ht,$){let _e=reactExports.useRef({left:0,top:0});if(n$3(()=>{let xt=$.current;if(!xt)return;let bt=xt.getBoundingClientRect();bt&&(_e.current=bt)},[ht]),$.current==null||!ht||$.current===document.activeElement)return!1;let vt=$.current.getBoundingClientRect();return vt.top!==_e.current.top||vt.left!==_e.current.left}let a=/([\u2700-\u27BF]|[\uE000-\uF8FF]|\uD83C[\uDC00-\uDFFF]|\uD83D[\uDC00-\uDFFF]|[\u2011-\u26FF]|\uD83E[\uDD10-\uDDFF])/g;function o(ht){var $,_e;let vt=($=ht.innerText)!=null?$:"",xt=ht.cloneNode(!0);if(!(xt instanceof HTMLElement))return vt;let bt=!1;for(let At of xt.querySelectorAll('[hidden],[aria-hidden],[role="img"]'))At.remove(),bt=!0;let Et=bt?(_e=xt.innerText)!=null?_e:"":vt;return a.test(Et)&&(Et=Et.replace(a,"")),Et}function g(ht){let $=ht.getAttribute("aria-label");if(typeof $=="string")return $.trim();let _e=ht.getAttribute("aria-labelledby");if(_e){let vt=_e.split(" ").map(xt=>{let bt=document.getElementById(xt);if(bt){let Et=bt.getAttribute("aria-label");return typeof Et=="string"?Et.trim():o(bt).trim()}return null}).filter(Boolean);if(vt.length>0)return vt.join(", ")}return o(ht).trim()}function s(ht){let $=reactExports.useRef(""),_e=reactExports.useRef("");return o$3(()=>{let vt=ht.current;if(!vt)return"";let xt=vt.innerText;if($.current===xt)return _e.current;let bt=g(vt).trim().toLowerCase();return $.current=xt,_e.current=bt,bt})}var Je=(ht=>(ht[ht.Open=0]="Open",ht[ht.Closed=1]="Closed",ht))(Je||{}),Ve=(ht=>(ht[ht.Pointer=0]="Pointer",ht[ht.Other=1]="Other",ht))(Ve||{}),Xe=(ht=>(ht[ht.OpenMenu=0]="OpenMenu",ht[ht.CloseMenu=1]="CloseMenu",ht[ht.GoToItem=2]="GoToItem",ht[ht.Search=3]="Search",ht[ht.ClearSearch=4]="ClearSearch",ht[ht.RegisterItem=5]="RegisterItem",ht[ht.UnregisterItem=6]="UnregisterItem",ht))(Xe||{});function W(ht,$=_e=>_e){let _e=ht.activeItemIndex!==null?ht.items[ht.activeItemIndex]:null,vt=_($(ht.items.slice()),bt=>bt.dataRef.current.domRef.current),xt=_e?vt.indexOf(_e):null;return xt===-1&&(xt=null),{items:vt,activeItemIndex:xt}}let $e={1(ht){return ht.menuState===1?ht:{...ht,activeItemIndex:null,menuState:1}},0(ht){return ht.menuState===0?ht:{...ht,__demoMode:!1,menuState:0}},2:(ht,$)=>{var _e,vt,xt,bt,Et;if(ht.menuState===1)return ht;let At={...ht,searchQuery:"",activationTrigger:(_e=$.trigger)!=null?_e:1,__demoMode:!1};if($.focus===c$1.Nothing)return{...At,activeItemIndex:null};if($.focus===c$1.Specific)return{...At,activeItemIndex:ht.items.findIndex(St=>St.id===$.id)};if($.focus===c$1.Previous){let St=ht.activeItemIndex;if(St!==null){let Rt=ht.items[St].dataRef.current.domRef,Pt=f($,{resolveItems:()=>ht.items,resolveActiveIndex:()=>ht.activeItemIndex,resolveId:kt=>kt.id,resolveDisabled:kt=>kt.dataRef.current.disabled});if(Pt!==null){let kt=ht.items[Pt].dataRef.current.domRef;if(((vt=Rt.current)==null?void 0:vt.previousElementSibling)===kt.current||((xt=kt.current)==null?void 0:xt.previousElementSibling)===null)return{...At,activeItemIndex:Pt}}}}else if($.focus===c$1.Next){let St=ht.activeItemIndex;if(St!==null){let Rt=ht.items[St].dataRef.current.domRef,Pt=f($,{resolveItems:()=>ht.items,resolveActiveIndex:()=>ht.activeItemIndex,resolveId:kt=>kt.id,resolveDisabled:kt=>kt.dataRef.current.disabled});if(Pt!==null){let kt=ht.items[Pt].dataRef.current.domRef;if(((bt=Rt.current)==null?void 0:bt.nextElementSibling)===kt.current||((Et=kt.current)==null?void 0:Et.nextElementSibling)===null)return{...At,activeItemIndex:Pt}}}}let _t=W(ht),Ct=f($,{resolveItems:()=>_t.items,resolveActiveIndex:()=>_t.activeItemIndex,resolveId:St=>St.id,resolveDisabled:St=>St.dataRef.current.disabled});return{...At,..._t,activeItemIndex:Ct}},3:(ht,$)=>{let _e=ht.searchQuery!==""?0:1,vt=ht.searchQuery+$.value.toLowerCase(),xt=(ht.activeItemIndex!==null?ht.items.slice(ht.activeItemIndex+_e).concat(ht.items.slice(0,ht.activeItemIndex+_e)):ht.items).find(Et=>{var At;return((At=Et.dataRef.current.textValue)==null?void 0:At.startsWith(vt))&&!Et.dataRef.current.disabled}),bt=xt?ht.items.indexOf(xt):-1;return bt===-1||bt===ht.activeItemIndex?{...ht,searchQuery:vt}:{...ht,searchQuery:vt,activeItemIndex:bt,activationTrigger:1}},4(ht){return ht.searchQuery===""?ht:{...ht,searchQuery:"",searchActiveItemIndex:null}},5:(ht,$)=>{let _e=W(ht,vt=>[...vt,{id:$.id,dataRef:$.dataRef}]);return{...ht,..._e}},6:(ht,$)=>{let _e=W(ht,vt=>{let xt=vt.findIndex(bt=>bt.id===$.id);return xt!==-1&&vt.splice(xt,1),vt});return{...ht,..._e,activationTrigger:1}}},j=reactExports.createContext(null);j.displayName="MenuContext";function B(ht){let $=reactExports.useContext(j);if($===null){let _e=new Error(`<${ht} /> is missing a parent <Menu /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(_e,B),_e}return $}function qe(ht,$){return u$6($.type,$e,ht,$)}let ze=reactExports.Fragment;function Ye(ht,$){let{__demoMode:_e=!1,...vt}=ht,xt=reactExports.useReducer(qe,{__demoMode:_e,menuState:_e?0:1,buttonRef:reactExports.createRef(),itemsRef:reactExports.createRef(),items:[],searchQuery:"",activeItemIndex:null,activationTrigger:1}),[{menuState:bt,itemsRef:Et,buttonRef:At},_t]=xt,Ct=y$4($);F$2(bt===0,[At,Et],(kt,Mt)=>{var Lt;_t({type:1}),A$1(Mt,h.Loose)||(kt.preventDefault(),(Lt=At.current)==null||Lt.focus())});let St=o$3(()=>{_t({type:1})}),Rt=reactExports.useMemo(()=>({open:bt===0,close:St}),[bt,St]),Pt={ref:Ct};return React.createElement(ve,null,React.createElement(j.Provider,{value:xt},React.createElement(c$2,{value:u$6(bt,{0:i.Open,1:i.Closed})},H$1({ourProps:Pt,theirProps:vt,slot:Rt,defaultTag:ze,name:"Menu"}))))}let Ze="button";function et(ht,$){var _e;let vt=reactExports.useId(),{id:xt=`headlessui-menu-button-${vt}`,disabled:bt=!1,autoFocus:Et=!1,...At}=ht,[_t,Ct]=B("Menu.Button"),St=Fe(),Rt=y$4(_t.buttonRef,$,ye()),Pt=o$3(jt=>{switch(jt.key){case o$2.Space:case o$2.Enter:case o$2.ArrowDown:jt.preventDefault(),jt.stopPropagation(),reactDomExports.flushSync(()=>Ct({type:0})),Ct({type:2,focus:c$1.First});break;case o$2.ArrowUp:jt.preventDefault(),jt.stopPropagation(),reactDomExports.flushSync(()=>Ct({type:0})),Ct({type:2,focus:c$1.Last});break}}),kt=o$3(jt=>{switch(jt.key){case o$2.Space:jt.preventDefault();break}}),Mt=o$3(jt=>{var zt;if(r$1(jt.currentTarget))return jt.preventDefault();bt||(_t.menuState===0?(reactDomExports.flushSync(()=>Ct({type:1})),(zt=_t.buttonRef.current)==null||zt.focus({preventScroll:!0})):(jt.preventDefault(),Ct({type:0})))}),{isFocusVisible:Lt,focusProps:$t}=$f7dceffc5ad7768b$export$4e328f61c538687f({autoFocus:Et}),{isHovered:Ft,hoverProps:Dt}=$6179b936705e76d3$export$ae780daf29e6d456({isDisabled:bt}),{pressed:Nt,pressProps:Ht}=w$1({disabled:bt}),Ot=reactExports.useMemo(()=>({open:_t.menuState===0,active:Nt||_t.menuState===0,disabled:bt,hover:Ft,focus:Lt,autofocus:Et}),[_t,Ft,Lt,Nt,bt,Et]),Bt=D$3(St(),{ref:Rt,id:xt,type:T(ht,_t.buttonRef),"aria-haspopup":"menu","aria-controls":(_e=_t.itemsRef.current)==null?void 0:_e.id,"aria-expanded":_t.menuState===0,disabled:bt||void 0,autoFocus:Et,onKeyDown:Pt,onKeyUp:kt,onClick:Mt},$t,Dt,Ht);return H$1({ourProps:Bt,theirProps:At,slot:Ot,defaultTag:Ze,name:"Menu.Button"})}let tt="div",nt=O$1.RenderStrategy|O$1.Static;function rt(ht,$){var _e,vt;let xt=reactExports.useId(),{id:bt=`headlessui-menu-items-${xt}`,anchor:Et,portal:At=!1,modal:_t=!0,transition:Ct=!1,...St}=ht,Rt=xe(Et),[Pt,kt]=B("Menu.Items"),[Mt,Lt]=Re(Rt),$t=be(),Ft=y$4(Pt.itemsRef,$,Rt?Mt:null),Dt=n$1(Pt.itemsRef);Rt&&(At=!0);let Nt=u$1(),[Ht,Ot]=V(Ct,Pt.itemsRef,Nt!==null?(Nt&i.Open)===i.Open:Pt.menuState===0);m$1(Ht,Pt.buttonRef,()=>{kt({type:1})});let Bt=Pt.__demoMode?!1:_t&&Pt.menuState===0;f$1(Bt,Dt);let jt=Pt.__demoMode?!1:_t&&Pt.menuState===0;y$3(jt,{allowed:o$3(()=>[Pt.buttonRef.current,Pt.itemsRef.current])});let zt=Pt.menuState!==0,Kt=p(zt,Pt.buttonRef)?!1:Ht;reactExports.useEffect(()=>{let un=Pt.itemsRef.current;un&&Pt.menuState===0&&un!==(Dt==null?void 0:Dt.activeElement)&&un.focus({preventScroll:!0})},[Pt.menuState,Pt.itemsRef,Dt,Pt.itemsRef.current]),F(Pt.menuState===0,{container:Pt.itemsRef.current,accept(un){return un.getAttribute("role")==="menuitem"?NodeFilter.FILTER_REJECT:un.hasAttribute("role")?NodeFilter.FILTER_SKIP:NodeFilter.FILTER_ACCEPT},walk(un){un.setAttribute("role","none")}});let nn=p$3(),Xt=o$3(un=>{var vn,an,dn;switch(nn.dispose(),un.key){case o$2.Space:if(Pt.searchQuery!=="")return un.preventDefault(),un.stopPropagation(),kt({type:3,value:un.key});case o$2.Enter:if(un.preventDefault(),un.stopPropagation(),kt({type:1}),Pt.activeItemIndex!==null){let{dataRef:tn}=Pt.items[Pt.activeItemIndex];(an=(vn=tn.current)==null?void 0:vn.domRef.current)==null||an.click()}G(Pt.buttonRef.current);break;case o$2.ArrowDown:return un.preventDefault(),un.stopPropagation(),kt({type:2,focus:c$1.Next});case o$2.ArrowUp:return un.preventDefault(),un.stopPropagation(),kt({type:2,focus:c$1.Previous});case o$2.Home:case o$2.PageUp:return un.preventDefault(),un.stopPropagation(),kt({type:2,focus:c$1.First});case o$2.End:case o$2.PageDown:return un.preventDefault(),un.stopPropagation(),kt({type:2,focus:c$1.Last});case o$2.Escape:un.preventDefault(),un.stopPropagation(),reactDomExports.flushSync(()=>kt({type:1})),(dn=Pt.buttonRef.current)==null||dn.focus({preventScroll:!0});break;case o$2.Tab:un.preventDefault(),un.stopPropagation(),reactDomExports.flushSync(()=>kt({type:1})),j$2(Pt.buttonRef.current,un.shiftKey?F$3.Previous:F$3.Next);break;default:un.key.length===1&&(kt({type:3,value:un.key}),nn.setTimeout(()=>kt({type:4}),350));break}}),en=o$3(un=>{switch(un.key){case o$2.Space:un.preventDefault();break}}),on=reactExports.useMemo(()=>({open:Pt.menuState===0}),[Pt.menuState]),An=D$3(Rt?$t():{},{"aria-activedescendant":Pt.activeItemIndex===null||(_e=Pt.items[Pt.activeItemIndex])==null?void 0:_e.id,"aria-labelledby":(vt=Pt.buttonRef.current)==null?void 0:vt.id,id:bt,onKeyDown:Xt,onKeyUp:en,role:"menu",tabIndex:Pt.menuState===0?0:void 0,ref:Ft,style:{...St.style,...Lt,"--button-width":f$4(Pt.buttonRef,!0).width},...A(Ot)});return React.createElement(te,{enabled:At?ht.static||Ht:!1},H$1({ourProps:An,theirProps:St,slot:on,defaultTag:tt,features:nt,visible:Kt,name:"Menu.Items"}))}let ot=reactExports.Fragment;function at(ht,$){let _e=reactExports.useId(),{id:vt=`headlessui-menu-item-${_e}`,disabled:xt=!1,...bt}=ht,[Et,At]=B("Menu.Item"),_t=Et.activeItemIndex!==null?Et.items[Et.activeItemIndex].id===vt:!1,Ct=reactExports.useRef(null),St=y$4($,Ct);n$3(()=>{if(!Et.__demoMode&&Et.menuState===0&&_t&&Et.activationTrigger!==0)return o$4().requestAnimationFrame(()=>{var Kt,nn;(nn=(Kt=Ct.current)==null?void 0:Kt.scrollIntoView)==null||nn.call(Kt,{block:"nearest"})})},[Et.__demoMode,Ct,_t,Et.menuState,Et.activationTrigger,Et.activeItemIndex]);let Rt=s(Ct),Pt=reactExports.useRef({disabled:xt,domRef:Ct,get textValue(){return Rt()}});n$3(()=>{Pt.current.disabled=xt},[Pt,xt]),n$3(()=>(At({type:5,id:vt,dataRef:Pt}),()=>At({type:6,id:vt})),[Pt,vt]);let kt=o$3(()=>{At({type:1})}),Mt=o$3(Kt=>{if(xt)return Kt.preventDefault();At({type:1}),G(Et.buttonRef.current)}),Lt=o$3(()=>{if(xt)return At({type:2,focus:c$1.Nothing});At({type:2,focus:c$1.Specific,id:vt})}),$t=u$2(),Ft=o$3(Kt=>{$t.update(Kt),!xt&&(_t||At({type:2,focus:c$1.Specific,id:vt,trigger:0}))}),Dt=o$3(Kt=>{$t.wasMoved(Kt)&&(xt||_t||At({type:2,focus:c$1.Specific,id:vt,trigger:0}))}),Nt=o$3(Kt=>{$t.wasMoved(Kt)&&(xt||_t&&At({type:2,focus:c$1.Nothing}))}),[Ht,Ot]=z(),[Bt,jt]=U$1(),zt=reactExports.useMemo(()=>({active:_t,focus:_t,disabled:xt,close:kt}),[_t,xt,kt]);return React.createElement(Ot,null,React.createElement(jt,null,H$1({ourProps:{id:vt,ref:St,role:"menuitem",tabIndex:xt===!0?void 0:-1,"aria-disabled":xt===!0?!0:void 0,"aria-labelledby":Ht,"aria-describedby":Bt,disabled:void 0,onClick:Mt,onFocus:Lt,onPointerEnter:Ft,onMouseEnter:Ft,onPointerMove:Dt,onMouseMove:Dt,onPointerLeave:Nt,onMouseLeave:Nt},theirProps:bt,slot:zt,defaultTag:ot,name:"Menu.Item"})))}let it="div";function st(ht,$){let[_e,vt]=z();return React.createElement(vt,null,H$1({ourProps:{ref:$,"aria-labelledby":_e,role:"group"},theirProps:ht,slot:{},defaultTag:it,name:"Menu.Section"}))}let lt="header";function ut(ht,$){let _e=reactExports.useId(),{id:vt=`headlessui-menu-heading-${_e}`,...xt}=ht,bt=P$1();n$3(()=>bt.register(vt),[vt,bt.register]);let Et={id:vt,ref:$,role:"presentation",...bt.props};return H$1({ourProps:Et,theirProps:xt,slot:{},defaultTag:lt,name:"Menu.Heading"})}let pt="div";function dt(ht,$){return H$1({ourProps:{ref:$,role:"separator"},theirProps:ht,slot:{},defaultTag:pt,name:"Menu.Separator"})}let mt=I$3(Ye),ct=I$3(et),ft=I$3(rt),Tt=I$3(at),yt=I$3(st),gt=I$3(ut),It=I$3(dt),Zt=Object.assign(mt,{Button:ct,Items:ft,Item:Tt,Section:yt,Heading:gt,Separator:It});function ChevronDownIcon({title:ht,titleId:$,..._e},vt){return reactExports.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:vt,"aria-labelledby":$},_e),ht?reactExports.createElement("title",{id:$},ht):null,reactExports.createElement("path",{fillRule:"evenodd",d:"M5.22 8.22a.75.75 0 0 1 1.06 0L10 11.94l3.72-3.72a.75.75 0 1 1 1.06 1.06l-4.25 4.25a.75.75 0 0 1-1.06 0L5.22 9.28a.75.75 0 0 1 0-1.06Z",clipRule:"evenodd"}))}const ForwardRef=reactExports.forwardRef(ChevronDownIcon);function Form(){return jsxRuntimeExports.jsx("div",{className:"relative flex size-full min-h-screen flex-col bg-[#F9FAFA] group/design-root overflow-x-hidden",style:{"--checkbox-tick-svg":"url('data:image/svg+xml,%3csvg viewBox=%270 0 16 16%27 fill=%27rgb(249,250,250)%27 xmlns=%27http://www.w3.org/2000/svg%27%3e%3cpath d=%27M12.207 4.793a1 1 0 010 1.414l-5 5a1 1 0 01-1.414 0l-2-2a1 1 0 011.414-1.414L6.5 9.086l4.293-4.293a1 1 0 011.414 0z%27/%3e%3c/svg%3e')",fontFamily:'"Public Sans", "Noto Sans", sans-serif'},children:jsxRuntimeExports.jsxs("div",{className:"layout-container flex h-full grow flex-col",children:[jsxRuntimeExports.jsxs("header",{className:"flex items-center justify-between whitespace-nowrap border-b border-solid border-b-[#EEEFF2] px-10 py-3",children:[jsxRuntimeExports.jsx("div",{className:"flex items-center gap-4 text-[#1C1D22]",children:jsxRuntimeExports.jsx("h2",{className:"text-[#1C1D22] text-lg font-bold leading-tight tracking-[-0.015em]",children:"Healthcare"})}),jsxRuntimeExports.jsxs("div",{className:"flex flex-1 justify-end gap-8",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-9",children:[jsxRuntimeExports.jsx("a",{className:"text-[#1C1D22] text-sm font-medium leading-normal",href:"#",children:"Dashboard"}),jsxRuntimeExports.jsx("a",{className:"text-[#1C1D22] text-sm font-medium leading-normal",href:"#",children:"Patients"}),jsxRuntimeExports.jsx("a",{className:"text-[#1C1D22] text-sm font-medium leading-normal",href:"#",children:"Appointments"}),jsxRuntimeExports.jsx("a",{className:"text-[#1C1D22] text-sm font-medium leading-normal",href:"#",children:"More"})]}),jsxRuntimeExports.jsxs("div",{className:"flex gap-2",children:[jsxRuntimeExports.jsx("button",{className:"flex max-w-[480px] cursor-pointer items-center justify-center overflow-hidden rounded-xl h-10 bg-[#EEEFF2] text-[#1C1D22] gap-2 text-sm font-bold leading-normal tracking-[0.015em] min-w-0 px-2.5",children:jsxRuntimeExports.jsx("div",{className:"text-[#1C1D22]","data-icon":"MagnifyingGlass","data-size":"20px","data-weight":"regular",children:jsxRuntimeExports.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20px",height:"20px",fill:"currentColor",viewBox:"0 0 256 256",children:jsxRuntimeExports.jsx("path",{d:"M229.66,218.34l-50.07-50.06a88.11,88.11,0,1,0-11.31,11.31l50.06,50.07a8,8,0,0,0,11.32-11.32ZM40,112a72,72,0,1,1,72,72A72.08,72.08,0,0,1,40,112Z"})})})}),jsxRuntimeExports.jsx("button",{className:"flex max-w-[480px] cursor-pointer items-center justify-center overflow-hidden rounded-xl h-10 bg-[#EEEFF2] text-[#1C1D22] gap-2 text-sm font-bold leading-normal tracking-[0.015em] min-w-0 px-2.5",children:jsxRuntimeExports.jsx("div",{className:"text-[#1C1D22]","data-icon":"Bell","data-size":"20px","data-weight":"regular",children:jsxRuntimeExports.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20px",height:"20px",fill:"currentColor",viewBox:"0 0 256 256",children:jsxRuntimeExports.jsx("path",{d:"M221.8,175.94C216.25,166.38,208,139.33,208,104a80,80,0,1,0-160,0c0,35.34-8.26,62.38-13.81,71.94A16,16,0,0,0,48,200H88.81a40,40,0,0,0,78.38,0H208a16,16,0,0,0,13.8-24.06ZM128,216a24,24,0,0,1-22.62-16h45.24A24,24,0,0,1,128,216ZM48,184c7.7-13.24,16-43.92,16-80a64,64,0,1,1,128,0c0,36.05,8.28,66.73,16,80Z"})})})})]}),jsxRuntimeExports.jsx("div",{className:"bg-center bg-no-repeat aspect-square bg-cover rounded-full size-10",style:{backgroundImage:'url("https://cdn.usegalileo.ai/stability/3ff28297-380f-4f51-aac1-1fcac1b0d3bb.png")'}})]})]}),jsxRuntimeExports.jsx("div",{className:"px-40 flex flex-1 justify-center py-5",children:jsxRuntimeExports.jsxs("div",{className:"layout-content-container flex flex-col w-[512px] max-w-[512px] py-5 max-w-[960px] flex-1",children:[jsxRuntimeExports.jsx("h3",{className:"text-[#1C1D22] tracking-light text-2xl font-bold leading-tight px-4 text-left pb-2 pt-5",children:"Add a new patient"}),jsxRuntimeExports.jsx("p",{className:"text-[#1C1D22] text-base font-normal leading-normal pb-3 pt-1 px-4",children:"Enter the details of the patient you'd like to add to your practice"}),jsxRuntimeExports.jsx("div",{className:"flex max-w-[480px] flex-1 flex-wrap items-end gap-4 px-4 py-3",children:jsxRuntimeExports.jsxs("label",{className:"flex flex-col min-w-40 flex-1",children:[jsxRuntimeExports.jsx("p",{className:"text-[#1C1D22] text-base font-medium leading-normal pb-2",children:"First name"}),jsxRuntimeExports.jsx("input",{placeholder:"Type first name",className:"form-input flex w-full min-w-0 flex-1 resize-none overflow-hidden rounded-xl text-[#1C1D22] focus:outline-0 focus:ring-0 border border-[#D5D6DD] bg-[#FFFFFF] focus:border-[#D5D6DD] h-14 placeholder:text-[#3C3F4A] p-[15px] text-base font-normal leading-normal",value:""})]})}),jsxRuntimeExports.jsx("div",{className:"flex max-w-[480px] flex-1 flex-wrap items-end gap-4 px-4 py-3",children:jsxRuntimeExports.jsxs("label",{className:"flex flex-col min-w-40 flex-1",children:[jsxRuntimeExports.jsx("p",{className:"text-[#1C1D22] text-base font-medium leading-normal pb-2",children:"Last name"}),jsxRuntimeExports.jsx("input",{placeholder:"Type last name",className:"form-input flex w-full min-w-0 flex-1 resize-none overflow-hidden rounded-xl text-[#1C1D22] focus:outline-0 focus:ring-0 border border-[#D5D6DD] bg-[#FFFFFF] focus:border-[#D5D6DD] h-14 placeholder:text-[#3C3F4A] p-[15px] text-base font-normal leading-normal",value:""})]})}),jsxRuntimeExports.jsx("div",{className:"flex max-w-[480px] flex-1 flex-wrap items-end gap-4 px-4 py-3",children:jsxRuntimeExports.jsxs("label",{className:"flex flex-col min-w-40 flex-1",children:[jsxRuntimeExports.jsx("p",{className:"text-[#1C1D22] text-base font-medium leading-normal pb-2",children:"Date of birth"}),jsxRuntimeExports.jsx("input",{placeholder:"MM / DD / YYYY",className:"form-input flex w-full min-w-0 flex-1 resize-none overflow-hidden rounded-xl text-[#1C1D22] focus:outline-0 focus:ring-0 border border-[#D5D6DD] bg-[#FFFFFF] focus:border-[#D5D6DD] h-14 placeholder:text-[#3C3F4A] p-[15px] text-base font-normal leading-normal",value:""})]})}),jsxRuntimeExports.jsx("div",{className:"flex max-w-[480px] flex-1 flex-wrap items-end gap-4 px-4 py-3",children:jsxRuntimeExports.jsxs("label",{className:"flex flex-col min-w-40 flex-1",children:[jsxRuntimeExports.jsx("p",{className:"text-[#1C1D22] text-base font-medium leading-normal pb-2",children:"Gender"}),jsxRuntimeExports.jsxs("div",{className:"flex w-full flex-1 items-stretch rounded-xl",children:[jsxRuntimeExports.jsx("input",{placeholder:"Select gender",className:"form-input flex w-full min-w-0 flex-1 resize-none overflow-hidden rounded-xl text-[#1C1D22] focus:outline-0 focus:ring-0 border border-[#D5D6DD] bg-[#FFFFFF] focus:border-[#D5D6DD] h-14 placeholder:text-[#3C3F4A] p-[15px] rounded-r-none border-r-0 pr-2 text-base font-normal leading-normal",value:""}),jsxRuntimeExports.jsx("div",{className:"text-[#3C3F4A] flex border border-[#D5D6DD] bg-[#FFFFFF] items-center justify-center pr-[15px] rounded-r-xl border-l-0","data-icon":"CaretUpDown","data-size":"24px","data-weight":"regular",children:jsxRuntimeExports.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24px",height:"24px",fill:"currentColor",viewBox:"0 0 256 256",children:jsxRuntimeExports.jsx("path",{d:"M181.66,170.34a8,8,0,0,1,0,11.32l-48,48a8,8,0,0,1-11.32,0l-48-48a8,8,0,0,1,11.32-11.32L128,212.69l42.34-42.35A8,8,0,0,1,181.66,170.34Zm-96-84.68L128,43.31l42.34,42.35a8,8,0,0,0,11.32-11.32l-48-48a8,8,0,0,0-11.32,0l-48,48A8,8,0,0,0,85.66,85.66Z"})})})]})]})}),jsxRuntimeExports.jsx("div",{className:"flex max-w-[480px] flex-1 flex-wrap items-end gap-4 px-4 py-3",children:jsxRuntimeExports.jsxs("label",{className:"flex flex-col min-w-40 flex-1",children:[jsxRuntimeExports.jsx("p",{className:"text-[#1C1D22] text-base font-medium leading-normal pb-2",children:"Weight (lbs)"}),jsxRuntimeExports.jsx("input",{placeholder:"Type weight",className:"form-input flex w-full min-w-0 flex-1 resize-none overflow-hidden rounded-xl text-[#1C1D22] focus:outline-0 focus:ring-0 border border-[#D5D6DD] bg-[#FFFFFF] focus:border-[#D5D6DD] h-14 placeholder:text-[#3C3F4A] p-[15px] text-base font-normal leading-normal",value:""})]})}),jsxRuntimeExports.jsx("div",{className:"flex max-w-[480px] flex-1 flex-wrap items-end gap-4 px-4 py-3",children:jsxRuntimeExports.jsxs("label",{className:"flex flex-col min-w-40 flex-1",children:[jsxRuntimeExports.jsx("p",{className:"text-[#1C1D22] text-base font-medium leading-normal pb-2",children:"Phone number"}),jsxRuntimeExports.jsx("input",{placeholder:"(555) 555-5555",className:"form-input flex w-full min-w-0 flex-1 resize-none overflow-hidden rounded-xl text-[#1C1D22] focus:outline-0 focus:ring-0 border border-[#D5D6DD] bg-[#FFFFFF] focus:border-[#D5D6DD] h-14 placeholder:text-[#3C3F4A] p-[15px] text-base font-normal leading-normal",value:""})]})}),jsxRuntimeExports.jsx("div",{className:"px-4",children:jsxRuntimeExports.jsxs("label",{className:"flex gap-x-3 py-3 flex-row",children:[jsxRuntimeExports.jsx("input",{type:"checkbox",className:"h-5 w-5 rounded border-[#D5D6DD] border-2 bg-transparent text-[#607AFB] checked:bg-[#607AFB] checked:border-[#607AFB] focus:ring-0 focus:ring-offset-0 focus:border-[#D5D6DD] focus:outline-none",defaultChecked:!0}),jsxRuntimeExports.jsx("p",{className:"text-[#1C1D22] text-base font-normal leading-normal",children:"Patient has an email address"})]})}),jsxRuntimeExports.jsx("div",{className:"flex px-4 py-3",children:jsxRuntimeExports.jsx("button",{className:"flex min-w-[84px] max-w-[480px] cursor-pointer items-center justify-center overflow-hidden rounded-xl h-12 px-5 flex-1 bg-[#607AFB] text-[#F9FAFA] text-base font-bold leading-normal tracking-[0.015em]",children:jsxRuntimeExports.jsx("span",{className:"truncate",children:"Save patient"})})})]})})]})})}function classNames(...ht){return ht.filter(Boolean).join(" ")}function Dropdown(ht){function $(){ht.setEditPatients(!ht.editPatients),ht.setDeletePatients(!1)}function _e(){ht.setDeletePatients(!ht.deletePatients),ht.setEditPatients(!1)}const vt=useNavigate();return jsxRuntimeExports.jsxs(Zt,{as:"div",className:"relative inline-block text-left",children:[jsxRuntimeExports.jsx("div",{children:jsxRuntimeExports.jsxs(ct,{className:"inline-flex w-full justify-center gap-x-1.5 rounded-md bg-white px-3 py-2 text-sm font-semibold text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 hover:bg-gray-50",children:["Manage patients",jsxRuntimeExports.jsx(ForwardRef,{className:"-mr-1 h-5 w-5 text-gray-400","aria-hidden":"true"})]})}),jsxRuntimeExports.jsx(ft,{transition:!0,className:"absolute right-0 z-10 mt-2 w-56 origin-top-right rounded-md bg-white shadow-lg ring-1 ring-black ring-opacity-5 transition focus:outline-none data-[closed]:scale-95 data-[closed]:transform data-[closed]:opacity-0 data-[enter]:duration-100 data-[leave]:duration-75 data-[enter]:ease-out data-[leave]:ease-in",children:jsxRuntimeExports.jsxs("div",{className:"py-1",children:[jsxRuntimeExports.jsx(Tt,{children:({focus:xt})=>jsxRuntimeExports.jsx("a",{onClick:()=>vt("/form"),className:classNames(xt?"bg-gray-100 text-gray-900":"text-gray-700","block px-4 py-2 text-sm"),children:"Add Patient"})}),jsxRuntimeExports.jsx(Tt,{children:({focus:xt})=>jsxRuntimeExports.jsx("a",{onClick:$,className:classNames(xt?"bg-gray-100 text-gray-900":"text-gray-700","block px-4 py-2 text-sm"),children:"Edit Patient"})}),jsxRuntimeExports.jsx(Tt,{children:({focus:xt})=>jsxRuntimeExports.jsx("a",{onClick:_e,className:classNames(xt?"bg-gray-100 text-gray-900":"text-gray-700","block px-4 py-2 text-sm"),children:"Remove Patient"})})]})})]})}function bind(ht,$){return function(){return ht.apply($,arguments)}}const{toString}=Object.prototype,{getPrototypeOf}=Object,kindOf=(ht=>$=>{const _e=toString.call($);return ht[_e]||(ht[_e]=_e.slice(8,-1).toLowerCase())})(Object.create(null)),kindOfTest=ht=>(ht=ht.toLowerCase(),$=>kindOf($)===ht),typeOfTest=ht=>$=>typeof $===ht,{isArray}=Array,isUndefined=typeOfTest("undefined");function isBuffer(ht){return ht!==null&&!isUndefined(ht)&&ht.constructor!==null&&!isUndefined(ht.constructor)&&isFunction(ht.constructor.isBuffer)&&ht.constructor.isBuffer(ht)}const isArrayBuffer=kindOfTest("ArrayBuffer");function isArrayBufferView(ht){let $;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?$=ArrayBuffer.isView(ht):$=ht&&ht.buffer&&isArrayBuffer(ht.buffer),$}const isString=typeOfTest("string"),isFunction=typeOfTest("function"),isNumber=typeOfTest("number"),isObject=ht=>ht!==null&&typeof ht=="object",isBoolean=ht=>ht===!0||ht===!1,isPlainObject=ht=>{if(kindOf(ht)!=="object")return!1;const $=getPrototypeOf(ht);return($===null||$===Object.prototype||Object.getPrototypeOf($)===null)&&!(Symbol.toStringTag in ht)&&!(Symbol.iterator in ht)},isDate=kindOfTest("Date"),isFile=kindOfTest("File"),isBlob=kindOfTest("Blob"),isFileList=kindOfTest("FileList"),isStream=ht=>isObject(ht)&&isFunction(ht.pipe),isFormData=ht=>{let $;return ht&&(typeof FormData=="function"&&ht instanceof FormData||isFunction(ht.append)&&(($=kindOf(ht))==="formdata"||$==="object"&&isFunction(ht.toString)&&ht.toString()==="[object FormData]"))},isURLSearchParams=kindOfTest("URLSearchParams"),[isReadableStream,isRequest,isResponse,isHeaders]=["ReadableStream","Request","Response","Headers"].map(kindOfTest),trim=ht=>ht.trim?ht.trim():ht.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function forEach(ht,$,{allOwnKeys:_e=!1}={}){if(ht===null||typeof ht>"u")return;let vt,xt;if(typeof ht!="object"&&(ht=[ht]),isArray(ht))for(vt=0,xt=ht.length;vt<xt;vt++)$.call(null,ht[vt],vt,ht);else{const bt=_e?Object.getOwnPropertyNames(ht):Object.keys(ht),Et=bt.length;let At;for(vt=0;vt<Et;vt++)At=bt[vt],$.call(null,ht[At],At,ht)}}function findKey(ht,$){$=$.toLowerCase();const _e=Object.keys(ht);let vt=_e.length,xt;for(;vt-- >0;)if(xt=_e[vt],$===xt.toLowerCase())return xt;return null}const _global=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,isContextDefined=ht=>!isUndefined(ht)&&ht!==_global;function merge(){const{caseless:ht}=isContextDefined(this)&&this||{},$={},_e=(vt,xt)=>{const bt=ht&&findKey($,xt)||xt;isPlainObject($[bt])&&isPlainObject(vt)?$[bt]=merge($[bt],vt):isPlainObject(vt)?$[bt]=merge({},vt):isArray(vt)?$[bt]=vt.slice():$[bt]=vt};for(let vt=0,xt=arguments.length;vt<xt;vt++)arguments[vt]&&forEach(arguments[vt],_e);return $}const extend=(ht,$,_e,{allOwnKeys:vt}={})=>(forEach($,(xt,bt)=>{_e&&isFunction(xt)?ht[bt]=bind(xt,_e):ht[bt]=xt},{allOwnKeys:vt}),ht),stripBOM=ht=>(ht.charCodeAt(0)===65279&&(ht=ht.slice(1)),ht),inherits=(ht,$,_e,vt)=>{ht.prototype=Object.create($.prototype,vt),ht.prototype.constructor=ht,Object.defineProperty(ht,"super",{value:$.prototype}),_e&&Object.assign(ht.prototype,_e)},toFlatObject=(ht,$,_e,vt)=>{let xt,bt,Et;const At={};if($=$||{},ht==null)return $;do{for(xt=Object.getOwnPropertyNames(ht),bt=xt.length;bt-- >0;)Et=xt[bt],(!vt||vt(Et,ht,$))&&!At[Et]&&($[Et]=ht[Et],At[Et]=!0);ht=_e!==!1&&getPrototypeOf(ht)}while(ht&&(!_e||_e(ht,$))&&ht!==Object.prototype);return $},endsWith=(ht,$,_e)=>{ht=String(ht),(_e===void 0||_e>ht.length)&&(_e=ht.length),_e-=$.length;const vt=ht.indexOf($,_e);return vt!==-1&&vt===_e},toArray=ht=>{if(!ht)return null;if(isArray(ht))return ht;let $=ht.length;if(!isNumber($))return null;const _e=new Array($);for(;$-- >0;)_e[$]=ht[$];return _e},isTypedArray=(ht=>$=>ht&&$ instanceof ht)(typeof Uint8Array<"u"&&getPrototypeOf(Uint8Array)),forEachEntry=(ht,$)=>{const vt=(ht&&ht[Symbol.iterator]).call(ht);let xt;for(;(xt=vt.next())&&!xt.done;){const bt=xt.value;$.call(ht,bt[0],bt[1])}},matchAll=(ht,$)=>{let _e;const vt=[];for(;(_e=ht.exec($))!==null;)vt.push(_e);return vt},isHTMLForm=kindOfTest("HTMLFormElement"),toCamelCase=ht=>ht.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(_e,vt,xt){return vt.toUpperCase()+xt}),hasOwnProperty=(({hasOwnProperty:ht})=>($,_e)=>ht.call($,_e))(Object.prototype),isRegExp=kindOfTest("RegExp"),reduceDescriptors=(ht,$)=>{const _e=Object.getOwnPropertyDescriptors(ht),vt={};forEach(_e,(xt,bt)=>{let Et;(Et=$(xt,bt,ht))!==!1&&(vt[bt]=Et||xt)}),Object.defineProperties(ht,vt)},freezeMethods=ht=>{reduceDescriptors(ht,($,_e)=>{if(isFunction(ht)&&["arguments","caller","callee"].indexOf(_e)!==-1)return!1;const vt=ht[_e];if(isFunction(vt)){if($.enumerable=!1,"writable"in $){$.writable=!1;return}$.set||($.set=()=>{throw Error("Can not rewrite read-only method '"+_e+"'")})}})},toObjectSet=(ht,$)=>{const _e={},vt=xt=>{xt.forEach(bt=>{_e[bt]=!0})};return isArray(ht)?vt(ht):vt(String(ht).split($)),_e},noop=()=>{},toFiniteNumber=(ht,$)=>ht!=null&&Number.isFinite(ht=+ht)?ht:$,ALPHA="abcdefghijklmnopqrstuvwxyz",DIGIT="0123456789",ALPHABET={DIGIT,ALPHA,ALPHA_DIGIT:ALPHA+ALPHA.toUpperCase()+DIGIT},generateString=(ht=16,$=ALPHABET.ALPHA_DIGIT)=>{let _e="";const{length:vt}=$;for(;ht--;)_e+=$[Math.random()*vt|0];return _e};function isSpecCompliantForm(ht){return!!(ht&&isFunction(ht.append)&&ht[Symbol.toStringTag]==="FormData"&&ht[Symbol.iterator])}const toJSONObject=ht=>{const $=new Array(10),_e=(vt,xt)=>{if(isObject(vt)){if($.indexOf(vt)>=0)return;if(!("toJSON"in vt)){$[xt]=vt;const bt=isArray(vt)?[]:{};return forEach(vt,(Et,At)=>{const _t=_e(Et,xt+1);!isUndefined(_t)&&(bt[At]=_t)}),$[xt]=void 0,bt}}return vt};return _e(ht,0)},isAsyncFn=kindOfTest("AsyncFunction"),isThenable=ht=>ht&&(isObject(ht)||isFunction(ht))&&isFunction(ht.then)&&isFunction(ht.catch),utils$1={isArray,isArrayBuffer,isBuffer,isFormData,isArrayBufferView,isString,isNumber,isBoolean,isObject,isPlainObject,isReadableStream,isRequest,isResponse,isHeaders,isUndefined,isDate,isFile,isBlob,isRegExp,isFunction,isStream,isURLSearchParams,isTypedArray,isFileList,forEach,merge,extend,trim,stripBOM,inherits,toFlatObject,kindOf,kindOfTest,endsWith,toArray,forEachEntry,matchAll,isHTMLForm,hasOwnProperty,hasOwnProp:hasOwnProperty,reduceDescriptors,freezeMethods,toObjectSet,toCamelCase,noop,toFiniteNumber,findKey,global:_global,isContextDefined,ALPHABET,generateString,isSpecCompliantForm,toJSONObject,isAsyncFn,isThenable};function AxiosError(ht,$,_e,vt,xt){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=ht,this.name="AxiosError",$&&(this.code=$),_e&&(this.config=_e),vt&&(this.request=vt),xt&&(this.response=xt)}utils$1.inherits(AxiosError,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:utils$1.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});const prototype$1=AxiosError.prototype,descriptors={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(ht=>{descriptors[ht]={value:ht}});Object.defineProperties(AxiosError,descriptors);Object.defineProperty(prototype$1,"isAxiosError",{value:!0});AxiosError.from=(ht,$,_e,vt,xt,bt)=>{const Et=Object.create(prototype$1);return utils$1.toFlatObject(ht,Et,function(_t){return _t!==Error.prototype},At=>At!=="isAxiosError"),AxiosError.call(Et,ht.message,$,_e,vt,xt),Et.cause=ht,Et.name=ht.name,bt&&Object.assign(Et,bt),Et};const httpAdapter=null;function isVisitable(ht){return utils$1.isPlainObject(ht)||utils$1.isArray(ht)}function removeBrackets(ht){return utils$1.endsWith(ht,"[]")?ht.slice(0,-2):ht}function renderKey(ht,$,_e){return ht?ht.concat($).map(function(xt,bt){return xt=removeBrackets(xt),!_e&&bt?"["+xt+"]":xt}).join(_e?".":""):$}function isFlatArray(ht){return utils$1.isArray(ht)&&!ht.some(isVisitable)}const predicates=utils$1.toFlatObject(utils$1,{},null,function($){return/^is[A-Z]/.test($)});function toFormData(ht,$,_e){if(!utils$1.isObject(ht))throw new TypeError("target must be an object");$=$||new FormData,_e=utils$1.toFlatObject(_e,{metaTokens:!0,dots:!1,indexes:!1},!1,function(Lt,$t){return!utils$1.isUndefined($t[Lt])});const vt=_e.metaTokens,xt=_e.visitor||St,bt=_e.dots,Et=_e.indexes,_t=(_e.Blob||typeof Blob<"u"&&Blob)&&utils$1.isSpecCompliantForm($);if(!utils$1.isFunction(xt))throw new TypeError("visitor must be a function");function Ct(Mt){if(Mt===null)return"";if(utils$1.isDate(Mt))return Mt.toISOString();if(!_t&&utils$1.isBlob(Mt))throw new AxiosError("Blob is not supported. Use a Buffer instead.");return utils$1.isArrayBuffer(Mt)||utils$1.isTypedArray(Mt)?_t&&typeof Blob=="function"?new Blob([Mt]):Buffer.from(Mt):Mt}function St(Mt,Lt,$t){let Ft=Mt;if(Mt&&!$t&&typeof Mt=="object"){if(utils$1.endsWith(Lt,"{}"))Lt=vt?Lt:Lt.slice(0,-2),Mt=JSON.stringify(Mt);else if(utils$1.isArray(Mt)&&isFlatArray(Mt)||(utils$1.isFileList(Mt)||utils$1.endsWith(Lt,"[]"))&&(Ft=utils$1.toArray(Mt)))return Lt=removeBrackets(Lt),Ft.forEach(function(Nt,Ht){!(utils$1.isUndefined(Nt)||Nt===null)&&$.append(Et===!0?renderKey([Lt],Ht,bt):Et===null?Lt:Lt+"[]",Ct(Nt))}),!1}return isVisitable(Mt)?!0:($.append(renderKey($t,Lt,bt),Ct(Mt)),!1)}const Rt=[],Pt=Object.assign(predicates,{defaultVisitor:St,convertValue:Ct,isVisitable});function kt(Mt,Lt){if(!utils$1.isUndefined(Mt)){if(Rt.indexOf(Mt)!==-1)throw Error("Circular reference detected in "+Lt.join("."));Rt.push(Mt),utils$1.forEach(Mt,function(Ft,Dt){(!(utils$1.isUndefined(Ft)||Ft===null)&&xt.call($,Ft,utils$1.isString(Dt)?Dt.trim():Dt,Lt,Pt))===!0&&kt(Ft,Lt?Lt.concat(Dt):[Dt])}),Rt.pop()}}if(!utils$1.isObject(ht))throw new TypeError("data must be an object");return kt(ht),$}function encode$1(ht){const $={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(ht).replace(/[!'()~]|%20|%00/g,function(vt){return $[vt]})}function AxiosURLSearchParams(ht,$){this._pairs=[],ht&&toFormData(ht,this,$)}const prototype=AxiosURLSearchParams.prototype;prototype.append=function($,_e){this._pairs.push([$,_e])};prototype.toString=function($){const _e=$?function(vt){return $.call(this,vt,encode$1)}:encode$1;return this._pairs.map(function(xt){return _e(xt[0])+"="+_e(xt[1])},"").join("&")};function encode(ht){return encodeURIComponent(ht).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function buildURL(ht,$,_e){if(!$)return ht;const vt=_e&&_e.encode||encode,xt=_e&&_e.serialize;let bt;if(xt?bt=xt($,_e):bt=utils$1.isURLSearchParams($)?$.toString():new AxiosURLSearchParams($,_e).toString(vt),bt){const Et=ht.indexOf("#");Et!==-1&&(ht=ht.slice(0,Et)),ht+=(ht.indexOf("?")===-1?"?":"&")+bt}return ht}class InterceptorManager{constructor(){this.handlers=[]}use($,_e,vt){return this.handlers.push({fulfilled:$,rejected:_e,synchronous:vt?vt.synchronous:!1,runWhen:vt?vt.runWhen:null}),this.handlers.length-1}eject($){this.handlers[$]&&(this.handlers[$]=null)}clear(){this.handlers&&(this.handlers=[])}forEach($){utils$1.forEach(this.handlers,function(vt){vt!==null&&$(vt)})}}const transitionalDefaults={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},URLSearchParams$1=typeof URLSearchParams<"u"?URLSearchParams:AxiosURLSearchParams,FormData$1=typeof FormData<"u"?FormData:null,Blob$1=typeof Blob<"u"?Blob:null,platform$1={isBrowser:!0,classes:{URLSearchParams:URLSearchParams$1,FormData:FormData$1,Blob:Blob$1},protocols:["http","https","file","blob","url","data"]},hasBrowserEnv=typeof window<"u"&&typeof document<"u",hasStandardBrowserEnv=(ht=>hasBrowserEnv&&["ReactNative","NativeScript","NS"].indexOf(ht)<0)(typeof navigator<"u"&&navigator.product),hasStandardBrowserWebWorkerEnv=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",origin=hasBrowserEnv&&window.location.href||"http://localhost",utils=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv,hasStandardBrowserEnv,hasStandardBrowserWebWorkerEnv,origin},Symbol.toStringTag,{value:"Module"})),platform={...utils,...platform$1};function toURLEncodedForm(ht,$){return toFormData(ht,new platform.classes.URLSearchParams,Object.assign({visitor:function(_e,vt,xt,bt){return platform.isNode&&utils$1.isBuffer(_e)?(this.append(vt,_e.toString("base64")),!1):bt.defaultVisitor.apply(this,arguments)}},$))}function parsePropPath(ht){return utils$1.matchAll(/\w+|\[(\w*)]/g,ht).map($=>$[0]==="[]"?"":$[1]||$[0])}function arrayToObject(ht){const $={},_e=Object.keys(ht);let vt;const xt=_e.length;let bt;for(vt=0;vt<xt;vt++)bt=_e[vt],$[bt]=ht[bt];return $}function formDataToJSON(ht){function $(_e,vt,xt,bt){let Et=_e[bt++];if(Et==="__proto__")return!0;const At=Number.isFinite(+Et),_t=bt>=_e.length;return Et=!Et&&utils$1.isArray(xt)?xt.length:Et,_t?(utils$1.hasOwnProp(xt,Et)?xt[Et]=[xt[Et],vt]:xt[Et]=vt,!At):((!xt[Et]||!utils$1.isObject(xt[Et]))&&(xt[Et]=[]),$(_e,vt,xt[Et],bt)&&utils$1.isArray(xt[Et])&&(xt[Et]=arrayToObject(xt[Et])),!At)}if(utils$1.isFormData(ht)&&utils$1.isFunction(ht.entries)){const _e={};return utils$1.forEachEntry(ht,(vt,xt)=>{$(parsePropPath(vt),xt,_e,0)}),_e}return null}function stringifySafely(ht,$,_e){if(utils$1.isString(ht))try{return($||JSON.parse)(ht),utils$1.trim(ht)}catch(vt){if(vt.name!=="SyntaxError")throw vt}return(_e||JSON.stringify)(ht)}const defaults={transitional:transitionalDefaults,adapter:["xhr","http","fetch"],transformRequest:[function($,_e){const vt=_e.getContentType()||"",xt=vt.indexOf("application/json")>-1,bt=utils$1.isObject($);if(bt&&utils$1.isHTMLForm($)&&($=new FormData($)),utils$1.isFormData($))return xt?JSON.stringify(formDataToJSON($)):$;if(utils$1.isArrayBuffer($)||utils$1.isBuffer($)||utils$1.isStream($)||utils$1.isFile($)||utils$1.isBlob($)||utils$1.isReadableStream($))return $;if(utils$1.isArrayBufferView($))return $.buffer;if(utils$1.isURLSearchParams($))return _e.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),$.toString();let At;if(bt){if(vt.indexOf("application/x-www-form-urlencoded")>-1)return toURLEncodedForm($,this.formSerializer).toString();if((At=utils$1.isFileList($))||vt.indexOf("multipart/form-data")>-1){const _t=this.env&&this.env.FormData;return toFormData(At?{"files[]":$}:$,_t&&new _t,this.formSerializer)}}return bt||xt?(_e.setContentType("application/json",!1),stringifySafely($)):$}],transformResponse:[function($){const _e=this.transitional||defaults.transitional,vt=_e&&_e.forcedJSONParsing,xt=this.responseType==="json";if(utils$1.isResponse($)||utils$1.isReadableStream($))return $;if($&&utils$1.isString($)&&(vt&&!this.responseType||xt)){const Et=!(_e&&_e.silentJSONParsing)&&xt;try{return JSON.parse($)}catch(At){if(Et)throw At.name==="SyntaxError"?AxiosError.from(At,AxiosError.ERR_BAD_RESPONSE,this,null,this.response):At}}return $}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:platform.classes.FormData,Blob:platform.classes.Blob},validateStatus:function($){return $>=200&&$<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};utils$1.forEach(["delete","get","head","post","put","patch"],ht=>{defaults.headers[ht]={}});const ignoreDuplicateOf=utils$1.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),parseHeaders=ht=>{const $={};let _e,vt,xt;return ht&&ht.split(`
`).forEach(function(Et){xt=Et.indexOf(":"),_e=Et.substring(0,xt).trim().toLowerCase(),vt=Et.substring(xt+1).trim(),!(!_e||$[_e]&&ignoreDuplicateOf[_e])&&(_e==="set-cookie"?$[_e]?$[_e].push(vt):$[_e]=[vt]:$[_e]=$[_e]?$[_e]+", "+vt:vt)}),$},$internals=Symbol("internals");function normalizeHeader(ht){return ht&&String(ht).trim().toLowerCase()}function normalizeValue(ht){return ht===!1||ht==null?ht:utils$1.isArray(ht)?ht.map(normalizeValue):String(ht)}function parseTokens(ht){const $=Object.create(null),_e=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let vt;for(;vt=_e.exec(ht);)$[vt[1]]=vt[2];return $}const isValidHeaderName=ht=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(ht.trim());function matchHeaderValue(ht,$,_e,vt,xt){if(utils$1.isFunction(vt))return vt.call(this,$,_e);if(xt&&($=_e),!!utils$1.isString($)){if(utils$1.isString(vt))return $.indexOf(vt)!==-1;if(utils$1.isRegExp(vt))return vt.test($)}}function formatHeader(ht){return ht.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,($,_e,vt)=>_e.toUpperCase()+vt)}function buildAccessors(ht,$){const _e=utils$1.toCamelCase(" "+$);["get","set","has"].forEach(vt=>{Object.defineProperty(ht,vt+_e,{value:function(xt,bt,Et){return this[vt].call(this,$,xt,bt,Et)},configurable:!0})})}class AxiosHeaders{constructor($){$&&this.set($)}set($,_e,vt){const xt=this;function bt(At,_t,Ct){const St=normalizeHeader(_t);if(!St)throw new Error("header name must be a non-empty string");const Rt=utils$1.findKey(xt,St);(!Rt||xt[Rt]===void 0||Ct===!0||Ct===void 0&&xt[Rt]!==!1)&&(xt[Rt||_t]=normalizeValue(At))}const Et=(At,_t)=>utils$1.forEach(At,(Ct,St)=>bt(Ct,St,_t));if(utils$1.isPlainObject($)||$ instanceof this.constructor)Et($,_e);else if(utils$1.isString($)&&($=$.trim())&&!isValidHeaderName($))Et(parseHeaders($),_e);else if(utils$1.isHeaders($))for(const[At,_t]of $.entries())bt(_t,At,vt);else $!=null&&bt(_e,$,vt);return this}get($,_e){if($=normalizeHeader($),$){const vt=utils$1.findKey(this,$);if(vt){const xt=this[vt];if(!_e)return xt;if(_e===!0)return parseTokens(xt);if(utils$1.isFunction(_e))return _e.call(this,xt,vt);if(utils$1.isRegExp(_e))return _e.exec(xt);throw new TypeError("parser must be boolean|regexp|function")}}}has($,_e){if($=normalizeHeader($),$){const vt=utils$1.findKey(this,$);return!!(vt&&this[vt]!==void 0&&(!_e||matchHeaderValue(this,this[vt],vt,_e)))}return!1}delete($,_e){const vt=this;let xt=!1;function bt(Et){if(Et=normalizeHeader(Et),Et){const At=utils$1.findKey(vt,Et);At&&(!_e||matchHeaderValue(vt,vt[At],At,_e))&&(delete vt[At],xt=!0)}}return utils$1.isArray($)?$.forEach(bt):bt($),xt}clear($){const _e=Object.keys(this);let vt=_e.length,xt=!1;for(;vt--;){const bt=_e[vt];(!$||matchHeaderValue(this,this[bt],bt,$,!0))&&(delete this[bt],xt=!0)}return xt}normalize($){const _e=this,vt={};return utils$1.forEach(this,(xt,bt)=>{const Et=utils$1.findKey(vt,bt);if(Et){_e[Et]=normalizeValue(xt),delete _e[bt];return}const At=$?formatHeader(bt):String(bt).trim();At!==bt&&delete _e[bt],_e[At]=normalizeValue(xt),vt[At]=!0}),this}concat(...$){return this.constructor.concat(this,...$)}toJSON($){const _e=Object.create(null);return utils$1.forEach(this,(vt,xt)=>{vt!=null&&vt!==!1&&(_e[xt]=$&&utils$1.isArray(vt)?vt.join(", "):vt)}),_e}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([$,_e])=>$+": "+_e).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from($){return $ instanceof this?$:new this($)}static concat($,..._e){const vt=new this($);return _e.forEach(xt=>vt.set(xt)),vt}static accessor($){const vt=(this[$internals]=this[$internals]={accessors:{}}).accessors,xt=this.prototype;function bt(Et){const At=normalizeHeader(Et);vt[At]||(buildAccessors(xt,Et),vt[At]=!0)}return utils$1.isArray($)?$.forEach(bt):bt($),this}}AxiosHeaders.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);utils$1.reduceDescriptors(AxiosHeaders.prototype,({value:ht},$)=>{let _e=$[0].toUpperCase()+$.slice(1);return{get:()=>ht,set(vt){this[_e]=vt}}});utils$1.freezeMethods(AxiosHeaders);function transformData(ht,$){const _e=this||defaults,vt=$||_e,xt=AxiosHeaders.from(vt.headers);let bt=vt.data;return utils$1.forEach(ht,function(At){bt=At.call(_e,bt,xt.normalize(),$?$.status:void 0)}),xt.normalize(),bt}function isCancel(ht){return!!(ht&&ht.__CANCEL__)}function CanceledError(ht,$,_e){AxiosError.call(this,ht??"canceled",AxiosError.ERR_CANCELED,$,_e),this.name="CanceledError"}utils$1.inherits(CanceledError,AxiosError,{__CANCEL__:!0});function settle(ht,$,_e){const vt=_e.config.validateStatus;!_e.status||!vt||vt(_e.status)?ht(_e):$(new AxiosError("Request failed with status code "+_e.status,[AxiosError.ERR_BAD_REQUEST,AxiosError.ERR_BAD_RESPONSE][Math.floor(_e.status/100)-4],_e.config,_e.request,_e))}function parseProtocol(ht){const $=/^([-+\w]{1,25})(:?\/\/|:)/.exec(ht);return $&&$[1]||""}function speedometer(ht,$){ht=ht||10;const _e=new Array(ht),vt=new Array(ht);let xt=0,bt=0,Et;return $=$!==void 0?$:1e3,function(_t){const Ct=Date.now(),St=vt[bt];Et||(Et=Ct),_e[xt]=_t,vt[xt]=Ct;let Rt=bt,Pt=0;for(;Rt!==xt;)Pt+=_e[Rt++],Rt=Rt%ht;if(xt=(xt+1)%ht,xt===bt&&(bt=(bt+1)%ht),Ct-Et<$)return;const kt=St&&Ct-St;return kt?Math.round(Pt*1e3/kt):void 0}}function throttle(ht,$){let _e=0;const vt=1e3/$;let xt=null;return function(){const Et=this===!0,At=Date.now();if(Et||At-_e>vt)return xt&&(clearTimeout(xt),xt=null),_e=At,ht.apply(null,arguments);xt||(xt=setTimeout(()=>(xt=null,_e=Date.now(),ht.apply(null,arguments)),vt-(At-_e)))}}const progressEventReducer=(ht,$,_e=3)=>{let vt=0;const xt=speedometer(50,250);return throttle(bt=>{const Et=bt.loaded,At=bt.lengthComputable?bt.total:void 0,_t=Et-vt,Ct=xt(_t),St=Et<=At;vt=Et;const Rt={loaded:Et,total:At,progress:At?Et/At:void 0,bytes:_t,rate:Ct||void 0,estimated:Ct&&At&&St?(At-Et)/Ct:void 0,event:bt,lengthComputable:At!=null};Rt[$?"download":"upload"]=!0,ht(Rt)},_e)},isURLSameOrigin=platform.hasStandardBrowserEnv?function(){const $=/(msie|trident)/i.test(navigator.userAgent),_e=document.createElement("a");let vt;function xt(bt){let Et=bt;return $&&(_e.setAttribute("href",Et),Et=_e.href),_e.setAttribute("href",Et),{href:_e.href,protocol:_e.protocol?_e.protocol.replace(/:$/,""):"",host:_e.host,search:_e.search?_e.search.replace(/^\?/,""):"",hash:_e.hash?_e.hash.replace(/^#/,""):"",hostname:_e.hostname,port:_e.port,pathname:_e.pathname.charAt(0)==="/"?_e.pathname:"/"+_e.pathname}}return vt=xt(window.location.href),function(Et){const At=utils$1.isString(Et)?xt(Et):Et;return At.protocol===vt.protocol&&At.host===vt.host}}():function(){return function(){return!0}}(),cookies=platform.hasStandardBrowserEnv?{write(ht,$,_e,vt,xt,bt){const Et=[ht+"="+encodeURIComponent($)];utils$1.isNumber(_e)&&Et.push("expires="+new Date(_e).toGMTString()),utils$1.isString(vt)&&Et.push("path="+vt),utils$1.isString(xt)&&Et.push("domain="+xt),bt===!0&&Et.push("secure"),document.cookie=Et.join("; ")},read(ht){const $=document.cookie.match(new RegExp("(^|;\\s*)("+ht+")=([^;]*)"));return $?decodeURIComponent($[3]):null},remove(ht){this.write(ht,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function isAbsoluteURL(ht){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(ht)}function combineURLs(ht,$){return $?ht.replace(/\/?\/$/,"")+"/"+$.replace(/^\/+/,""):ht}function buildFullPath(ht,$){return ht&&!isAbsoluteURL($)?combineURLs(ht,$):$}const headersToObject=ht=>ht instanceof AxiosHeaders?{...ht}:ht;function mergeConfig(ht,$){$=$||{};const _e={};function vt(Ct,St,Rt){return utils$1.isPlainObject(Ct)&&utils$1.isPlainObject(St)?utils$1.merge.call({caseless:Rt},Ct,St):utils$1.isPlainObject(St)?utils$1.merge({},St):utils$1.isArray(St)?St.slice():St}function xt(Ct,St,Rt){if(utils$1.isUndefined(St)){if(!utils$1.isUndefined(Ct))return vt(void 0,Ct,Rt)}else return vt(Ct,St,Rt)}function bt(Ct,St){if(!utils$1.isUndefined(St))return vt(void 0,St)}function Et(Ct,St){if(utils$1.isUndefined(St)){if(!utils$1.isUndefined(Ct))return vt(void 0,Ct)}else return vt(void 0,St)}function At(Ct,St,Rt){if(Rt in $)return vt(Ct,St);if(Rt in ht)return vt(void 0,Ct)}const _t={url:bt,method:bt,data:bt,baseURL:Et,transformRequest:Et,transformResponse:Et,paramsSerializer:Et,timeout:Et,timeoutMessage:Et,withCredentials:Et,withXSRFToken:Et,adapter:Et,responseType:Et,xsrfCookieName:Et,xsrfHeaderName:Et,onUploadProgress:Et,onDownloadProgress:Et,decompress:Et,maxContentLength:Et,maxBodyLength:Et,beforeRedirect:Et,transport:Et,httpAgent:Et,httpsAgent:Et,cancelToken:Et,socketPath:Et,responseEncoding:Et,validateStatus:At,headers:(Ct,St)=>xt(headersToObject(Ct),headersToObject(St),!0)};return utils$1.forEach(Object.keys(Object.assign({},ht,$)),function(St){const Rt=_t[St]||xt,Pt=Rt(ht[St],$[St],St);utils$1.isUndefined(Pt)&&Rt!==At||(_e[St]=Pt)}),_e}const resolveConfig=ht=>{const $=mergeConfig({},ht);let{data:_e,withXSRFToken:vt,xsrfHeaderName:xt,xsrfCookieName:bt,headers:Et,auth:At}=$;$.headers=Et=AxiosHeaders.from(Et),$.url=buildURL(buildFullPath($.baseURL,$.url),ht.params,ht.paramsSerializer),At&&Et.set("Authorization","Basic "+btoa((At.username||"")+":"+(At.password?unescape(encodeURIComponent(At.password)):"")));let _t;if(utils$1.isFormData(_e)){if(platform.hasStandardBrowserEnv||platform.hasStandardBrowserWebWorkerEnv)Et.setContentType(void 0);else if((_t=Et.getContentType())!==!1){const[Ct,...St]=_t?_t.split(";").map(Rt=>Rt.trim()).filter(Boolean):[];Et.setContentType([Ct||"multipart/form-data",...St].join("; "))}}if(platform.hasStandardBrowserEnv&&(vt&&utils$1.isFunction(vt)&&(vt=vt($)),vt||vt!==!1&&isURLSameOrigin($.url))){const Ct=xt&&bt&&cookies.read(bt);Ct&&Et.set(xt,Ct)}return $},isXHRAdapterSupported=typeof XMLHttpRequest<"u",xhrAdapter=isXHRAdapterSupported&&function(ht){return new Promise(function(_e,vt){const xt=resolveConfig(ht);let bt=xt.data;const Et=AxiosHeaders.from(xt.headers).normalize();let{responseType:At}=xt,_t;function Ct(){xt.cancelToken&&xt.cancelToken.unsubscribe(_t),xt.signal&&xt.signal.removeEventListener("abort",_t)}let St=new XMLHttpRequest;St.open(xt.method.toUpperCase(),xt.url,!0),St.timeout=xt.timeout;function Rt(){if(!St)return;const kt=AxiosHeaders.from("getAllResponseHeaders"in St&&St.getAllResponseHeaders()),Lt={data:!At||At==="text"||At==="json"?St.responseText:St.response,status:St.status,statusText:St.statusText,headers:kt,config:ht,request:St};settle(function(Ft){_e(Ft),Ct()},function(Ft){vt(Ft),Ct()},Lt),St=null}"onloadend"in St?St.onloadend=Rt:St.onreadystatechange=function(){!St||St.readyState!==4||St.status===0&&!(St.responseURL&&St.responseURL.indexOf("file:")===0)||setTimeout(Rt)},St.onabort=function(){St&&(vt(new AxiosError("Request aborted",AxiosError.ECONNABORTED,xt,St)),St=null)},St.onerror=function(){vt(new AxiosError("Network Error",AxiosError.ERR_NETWORK,xt,St)),St=null},St.ontimeout=function(){let Mt=xt.timeout?"timeout of "+xt.timeout+"ms exceeded":"timeout exceeded";const Lt=xt.transitional||transitionalDefaults;xt.timeoutErrorMessage&&(Mt=xt.timeoutErrorMessage),vt(new AxiosError(Mt,Lt.clarifyTimeoutError?AxiosError.ETIMEDOUT:AxiosError.ECONNABORTED,xt,St)),St=null},bt===void 0&&Et.setContentType(null),"setRequestHeader"in St&&utils$1.forEach(Et.toJSON(),function(Mt,Lt){St.setRequestHeader(Lt,Mt)}),utils$1.isUndefined(xt.withCredentials)||(St.withCredentials=!!xt.withCredentials),At&&At!=="json"&&(St.responseType=xt.responseType),typeof xt.onDownloadProgress=="function"&&St.addEventListener("progress",progressEventReducer(xt.onDownloadProgress,!0)),typeof xt.onUploadProgress=="function"&&St.upload&&St.upload.addEventListener("progress",progressEventReducer(xt.onUploadProgress)),(xt.cancelToken||xt.signal)&&(_t=kt=>{St&&(vt(!kt||kt.type?new CanceledError(null,ht,St):kt),St.abort(),St=null)},xt.cancelToken&&xt.cancelToken.subscribe(_t),xt.signal&&(xt.signal.aborted?_t():xt.signal.addEventListener("abort",_t)));const Pt=parseProtocol(xt.url);if(Pt&&platform.protocols.indexOf(Pt)===-1){vt(new AxiosError("Unsupported protocol "+Pt+":",AxiosError.ERR_BAD_REQUEST,ht));return}St.send(bt||null)})},composeSignals=(ht,$)=>{let _e=new AbortController,vt;const xt=function(_t){if(!vt){vt=!0,Et();const Ct=_t instanceof Error?_t:this.reason;_e.abort(Ct instanceof AxiosError?Ct:new CanceledError(Ct instanceof Error?Ct.message:Ct))}};let bt=$&&setTimeout(()=>{xt(new AxiosError(`timeout ${$} of ms exceeded`,AxiosError.ETIMEDOUT))},$);const Et=()=>{ht&&(bt&&clearTimeout(bt),bt=null,ht.forEach(_t=>{_t&&(_t.removeEventListener?_t.removeEventListener("abort",xt):_t.unsubscribe(xt))}),ht=null)};ht.forEach(_t=>_t&&_t.addEventListener&&_t.addEventListener("abort",xt));const{signal:At}=_e;return At.unsubscribe=Et,[At,()=>{bt&&clearTimeout(bt),bt=null}]},streamChunk=function*(ht,$){let _e=ht.byteLength;if(!$||_e<$){yield ht;return}let vt=0,xt;for(;vt<_e;)xt=vt+$,yield ht.slice(vt,xt),vt=xt},readBytes=async function*(ht,$,_e){for await(const vt of ht)yield*streamChunk(ArrayBuffer.isView(vt)?vt:await _e(String(vt)),$)},trackStream=(ht,$,_e,vt,xt)=>{const bt=readBytes(ht,$,xt);let Et=0;return new ReadableStream({type:"bytes",async pull(At){const{done:_t,value:Ct}=await bt.next();if(_t){At.close(),vt();return}let St=Ct.byteLength;_e&&_e(Et+=St),At.enqueue(new Uint8Array(Ct))},cancel(At){return vt(At),bt.return()}},{highWaterMark:2})},fetchProgressDecorator=(ht,$)=>{const _e=ht!=null;return vt=>setTimeout(()=>$({lengthComputable:_e,total:ht,loaded:vt}))},isFetchSupported=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",isReadableStreamSupported=isFetchSupported&&typeof ReadableStream=="function",encodeText=isFetchSupported&&(typeof TextEncoder=="function"?(ht=>$=>ht.encode($))(new TextEncoder):async ht=>new Uint8Array(await new Response(ht).arrayBuffer())),supportsRequestStream=isReadableStreamSupported&&(()=>{let ht=!1;const $=new Request(platform.origin,{body:new ReadableStream,method:"POST",get duplex(){return ht=!0,"half"}}).headers.has("Content-Type");return ht&&!$})(),DEFAULT_CHUNK_SIZE=64*1024,supportsResponseStream=isReadableStreamSupported&&!!(()=>{try{return utils$1.isReadableStream(new Response("").body)}catch{}})(),resolvers={stream:supportsResponseStream&&(ht=>ht.body)};isFetchSupported&&(ht=>{["text","arrayBuffer","blob","formData","stream"].forEach($=>{!resolvers[$]&&(resolvers[$]=utils$1.isFunction(ht[$])?_e=>_e[$]():(_e,vt)=>{throw new AxiosError(`Response type '${$}' is not supported`,AxiosError.ERR_NOT_SUPPORT,vt)})})})(new Response);const getBodyLength=async ht=>{if(ht==null)return 0;if(utils$1.isBlob(ht))return ht.size;if(utils$1.isSpecCompliantForm(ht))return(await new Request(ht).arrayBuffer()).byteLength;if(utils$1.isArrayBufferView(ht))return ht.byteLength;if(utils$1.isURLSearchParams(ht)&&(ht=ht+""),utils$1.isString(ht))return(await encodeText(ht)).byteLength},resolveBodyLength=async(ht,$)=>{const _e=utils$1.toFiniteNumber(ht.getContentLength());return _e??getBodyLength($)},fetchAdapter=isFetchSupported&&(async ht=>{let{url:$,method:_e,data:vt,signal:xt,cancelToken:bt,timeout:Et,onDownloadProgress:At,onUploadProgress:_t,responseType:Ct,headers:St,withCredentials:Rt="same-origin",fetchOptions:Pt}=resolveConfig(ht);Ct=Ct?(Ct+"").toLowerCase():"text";let[kt,Mt]=xt||bt||Et?composeSignals([xt,bt],Et):[],Lt,$t;const Ft=()=>{!Lt&&setTimeout(()=>{kt&&kt.unsubscribe()}),Lt=!0};let Dt;try{if(_t&&supportsRequestStream&&_e!=="get"&&_e!=="head"&&(Dt=await resolveBodyLength(St,vt))!==0){let Bt=new Request($,{method:"POST",body:vt,duplex:"half"}),jt;utils$1.isFormData(vt)&&(jt=Bt.headers.get("content-type"))&&St.setContentType(jt),Bt.body&&(vt=trackStream(Bt.body,DEFAULT_CHUNK_SIZE,fetchProgressDecorator(Dt,progressEventReducer(_t)),null,encodeText))}utils$1.isString(Rt)||(Rt=Rt?"cors":"omit"),$t=new Request($,{...Pt,signal:kt,method:_e.toUpperCase(),headers:St.normalize().toJSON(),body:vt,duplex:"half",withCredentials:Rt});let Nt=await fetch($t);const Ht=supportsResponseStream&&(Ct==="stream"||Ct==="response");if(supportsResponseStream&&(At||Ht)){const Bt={};["status","statusText","headers"].forEach(zt=>{Bt[zt]=Nt[zt]});const jt=utils$1.toFiniteNumber(Nt.headers.get("content-length"));Nt=new Response(trackStream(Nt.body,DEFAULT_CHUNK_SIZE,At&&fetchProgressDecorator(jt,progressEventReducer(At,!0)),Ht&&Ft,encodeText),Bt)}Ct=Ct||"text";let Ot=await resolvers[utils$1.findKey(resolvers,Ct)||"text"](Nt,ht);return!Ht&&Ft(),Mt&&Mt(),await new Promise((Bt,jt)=>{settle(Bt,jt,{data:Ot,headers:AxiosHeaders.from(Nt.headers),status:Nt.status,statusText:Nt.statusText,config:ht,request:$t})})}catch(Nt){throw Ft(),Nt&&Nt.name==="TypeError"&&/fetch/i.test(Nt.message)?Object.assign(new AxiosError("Network Error",AxiosError.ERR_NETWORK,ht,$t),{cause:Nt.cause||Nt}):AxiosError.from(Nt,Nt&&Nt.code,ht,$t)}}),knownAdapters={http:httpAdapter,xhr:xhrAdapter,fetch:fetchAdapter};utils$1.forEach(knownAdapters,(ht,$)=>{if(ht){try{Object.defineProperty(ht,"name",{value:$})}catch{}Object.defineProperty(ht,"adapterName",{value:$})}});const renderReason=ht=>`- ${ht}`,isResolvedHandle=ht=>utils$1.isFunction(ht)||ht===null||ht===!1,adapters={getAdapter:ht=>{ht=utils$1.isArray(ht)?ht:[ht];const{length:$}=ht;let _e,vt;const xt={};for(let bt=0;bt<$;bt++){_e=ht[bt];let Et;if(vt=_e,!isResolvedHandle(_e)&&(vt=knownAdapters[(Et=String(_e)).toLowerCase()],vt===void 0))throw new AxiosError(`Unknown adapter '${Et}'`);if(vt)break;xt[Et||"#"+bt]=vt}if(!vt){const bt=Object.entries(xt).map(([At,_t])=>`adapter ${At} `+(_t===!1?"is not supported by the environment":"is not available in the build"));let Et=$?bt.length>1?`since :
`+bt.map(renderReason).join(`
`):" "+renderReason(bt[0]):"as no adapter specified";throw new AxiosError("There is no suitable adapter to dispatch the request "+Et,"ERR_NOT_SUPPORT")}return vt},adapters:knownAdapters};function throwIfCancellationRequested(ht){if(ht.cancelToken&&ht.cancelToken.throwIfRequested(),ht.signal&&ht.signal.aborted)throw new CanceledError(null,ht)}function dispatchRequest(ht){return throwIfCancellationRequested(ht),ht.headers=AxiosHeaders.from(ht.headers),ht.data=transformData.call(ht,ht.transformRequest),["post","put","patch"].indexOf(ht.method)!==-1&&ht.headers.setContentType("application/x-www-form-urlencoded",!1),adapters.getAdapter(ht.adapter||defaults.adapter)(ht).then(function(vt){return throwIfCancellationRequested(ht),vt.data=transformData.call(ht,ht.transformResponse,vt),vt.headers=AxiosHeaders.from(vt.headers),vt},function(vt){return isCancel(vt)||(throwIfCancellationRequested(ht),vt&&vt.response&&(vt.response.data=transformData.call(ht,ht.transformResponse,vt.response),vt.response.headers=AxiosHeaders.from(vt.response.headers))),Promise.reject(vt)})}const VERSION="1.7.2",validators$1={};["object","boolean","number","function","string","symbol"].forEach((ht,$)=>{validators$1[ht]=function(vt){return typeof vt===ht||"a"+($<1?"n ":" ")+ht}});const deprecatedWarnings={};validators$1.transitional=function($,_e,vt){function xt(bt,Et){return"[Axios v"+VERSION+"] Transitional option '"+bt+"'"+Et+(vt?". "+vt:"")}return(bt,Et,At)=>{if($===!1)throw new AxiosError(xt(Et," has been removed"+(_e?" in "+_e:"")),AxiosError.ERR_DEPRECATED);return _e&&!deprecatedWarnings[Et]&&(deprecatedWarnings[Et]=!0,console.warn(xt(Et," has been deprecated since v"+_e+" and will be removed in the near future"))),$?$(bt,Et,At):!0}};function assertOptions(ht,$,_e){if(typeof ht!="object")throw new AxiosError("options must be an object",AxiosError.ERR_BAD_OPTION_VALUE);const vt=Object.keys(ht);let xt=vt.length;for(;xt-- >0;){const bt=vt[xt],Et=$[bt];if(Et){const At=ht[bt],_t=At===void 0||Et(At,bt,ht);if(_t!==!0)throw new AxiosError("option "+bt+" must be "+_t,AxiosError.ERR_BAD_OPTION_VALUE);continue}if(_e!==!0)throw new AxiosError("Unknown option "+bt,AxiosError.ERR_BAD_OPTION)}}const validator={assertOptions,validators:validators$1},validators=validator.validators;class Axios{constructor($){this.defaults=$,this.interceptors={request:new InterceptorManager,response:new InterceptorManager}}async request($,_e){try{return await this._request($,_e)}catch(vt){if(vt instanceof Error){let xt;Error.captureStackTrace?Error.captureStackTrace(xt={}):xt=new Error;const bt=xt.stack?xt.stack.replace(/^.+\n/,""):"";try{vt.stack?bt&&!String(vt.stack).endsWith(bt.replace(/^.+\n.+\n/,""))&&(vt.stack+=`
`+bt):vt.stack=bt}catch{}}throw vt}}_request($,_e){typeof $=="string"?(_e=_e||{},_e.url=$):_e=$||{},_e=mergeConfig(this.defaults,_e);const{transitional:vt,paramsSerializer:xt,headers:bt}=_e;vt!==void 0&&validator.assertOptions(vt,{silentJSONParsing:validators.transitional(validators.boolean),forcedJSONParsing:validators.transitional(validators.boolean),clarifyTimeoutError:validators.transitional(validators.boolean)},!1),xt!=null&&(utils$1.isFunction(xt)?_e.paramsSerializer={serialize:xt}:validator.assertOptions(xt,{encode:validators.function,serialize:validators.function},!0)),_e.method=(_e.method||this.defaults.method||"get").toLowerCase();let Et=bt&&utils$1.merge(bt.common,bt[_e.method]);bt&&utils$1.forEach(["delete","get","head","post","put","patch","common"],Mt=>{delete bt[Mt]}),_e.headers=AxiosHeaders.concat(Et,bt);const At=[];let _t=!0;this.interceptors.request.forEach(function(Lt){typeof Lt.runWhen=="function"&&Lt.runWhen(_e)===!1||(_t=_t&&Lt.synchronous,At.unshift(Lt.fulfilled,Lt.rejected))});const Ct=[];this.interceptors.response.forEach(function(Lt){Ct.push(Lt.fulfilled,Lt.rejected)});let St,Rt=0,Pt;if(!_t){const Mt=[dispatchRequest.bind(this),void 0];for(Mt.unshift.apply(Mt,At),Mt.push.apply(Mt,Ct),Pt=Mt.length,St=Promise.resolve(_e);Rt<Pt;)St=St.then(Mt[Rt++],Mt[Rt++]);return St}Pt=At.length;let kt=_e;for(Rt=0;Rt<Pt;){const Mt=At[Rt++],Lt=At[Rt++];try{kt=Mt(kt)}catch($t){Lt.call(this,$t);break}}try{St=dispatchRequest.call(this,kt)}catch(Mt){return Promise.reject(Mt)}for(Rt=0,Pt=Ct.length;Rt<Pt;)St=St.then(Ct[Rt++],Ct[Rt++]);return St}getUri($){$=mergeConfig(this.defaults,$);const _e=buildFullPath($.baseURL,$.url);return buildURL(_e,$.params,$.paramsSerializer)}}utils$1.forEach(["delete","get","head","options"],function($){Axios.prototype[$]=function(_e,vt){return this.request(mergeConfig(vt||{},{method:$,url:_e,data:(vt||{}).data}))}});utils$1.forEach(["post","put","patch"],function($){function _e(vt){return function(bt,Et,At){return this.request(mergeConfig(At||{},{method:$,headers:vt?{"Content-Type":"multipart/form-data"}:{},url:bt,data:Et}))}}Axios.prototype[$]=_e(),Axios.prototype[$+"Form"]=_e(!0)});class CancelToken{constructor($){if(typeof $!="function")throw new TypeError("executor must be a function.");let _e;this.promise=new Promise(function(bt){_e=bt});const vt=this;this.promise.then(xt=>{if(!vt._listeners)return;let bt=vt._listeners.length;for(;bt-- >0;)vt._listeners[bt](xt);vt._listeners=null}),this.promise.then=xt=>{let bt;const Et=new Promise(At=>{vt.subscribe(At),bt=At}).then(xt);return Et.cancel=function(){vt.unsubscribe(bt)},Et},$(function(bt,Et,At){vt.reason||(vt.reason=new CanceledError(bt,Et,At),_e(vt.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe($){if(this.reason){$(this.reason);return}this._listeners?this._listeners.push($):this._listeners=[$]}unsubscribe($){if(!this._listeners)return;const _e=this._listeners.indexOf($);_e!==-1&&this._listeners.splice(_e,1)}static source(){let $;return{token:new CancelToken(function(xt){$=xt}),cancel:$}}}function spread(ht){return function(_e){return ht.apply(null,_e)}}function isAxiosError(ht){return utils$1.isObject(ht)&&ht.isAxiosError===!0}const HttpStatusCode={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(HttpStatusCode).forEach(([ht,$])=>{HttpStatusCode[$]=ht});function createInstance(ht){const $=new Axios(ht),_e=bind(Axios.prototype.request,$);return utils$1.extend(_e,Axios.prototype,$,{allOwnKeys:!0}),utils$1.extend(_e,$,null,{allOwnKeys:!0}),_e.create=function(xt){return createInstance(mergeConfig(ht,xt))},_e}const axios=createInstance(defaults);axios.Axios=Axios;axios.CanceledError=CanceledError;axios.CancelToken=CancelToken;axios.isCancel=isCancel;axios.VERSION=VERSION;axios.toFormData=toFormData;axios.AxiosError=AxiosError;axios.Cancel=axios.CanceledError;axios.all=function($){return Promise.all($)};axios.spread=spread;axios.isAxiosError=isAxiosError;axios.mergeConfig=mergeConfig;axios.AxiosHeaders=AxiosHeaders;axios.formToJSON=ht=>formDataToJSON(utils$1.isHTMLForm(ht)?new FormData(ht):ht);axios.getAdapter=adapters.getAdapter;axios.HttpStatusCode=HttpStatusCode;axios.default=axios;function List(ht){const[$,_e]=reactExports.useState(!1),[vt,xt]=reactExports.useState(!1),bt=useNavigate(),[Et,At]=reactExports.useState([]),[_t,Ct]=reactExports.useState(ht.isDoctor),St=Pt=>{const kt=new Date,Mt=new Date(Pt);let Lt=kt.getFullYear()-Mt.getFullYear();const $t=kt.getMonth()-Mt.getMonth();return($t<0||$t===0&&kt.getDate()<Mt.getDate())&&Lt--,Lt};async function Rt(){const Pt=await axios.get("en/getpatients");At(Pt.data),ht.setNoofPatients(Pt.data.length)}return reactExports.useEffect(()=>{Rt()},[]),St("2004-06-05T18:30:00.000Z"),jsxRuntimeExports.jsxs("div",{className:"layout-content-container flex flex-col max-w-[920px] flex-1",children:[jsxRuntimeExports.jsx("div",{className:"flex flex-wrap justify-between gap-3 p-4",children:jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-end w-full",children:[jsxRuntimeExports.jsx("p",{className:"text-[#0e141b] tracking-light text-[32px] font-bold leading-tight min-w-72",children:"Patients"}),jsxRuntimeExports.jsx("div",{className:`${_t?"hidden":"flex"}`,children:jsxRuntimeExports.jsx(Dropdown,{editPatients:$,setEditPatients:_e,deletePatients:vt,setDeletePatients:xt})})]})}),jsxRuntimeExports.jsx("div",{className:"px-4 py-3",children:jsxRuntimeExports.jsx("label",{className:"flex flex-col min-w-40 h-12 w-full",children:jsxRuntimeExports.jsxs("div",{className:"flex w-full flex-1 items-stretch rounded-xl h-full",children:[jsxRuntimeExports.jsx("div",{className:"text-[#4f7396] flex border-none bg-[#e8edf3] items-center justify-center pl-4 rounded-l-xl border-r-0","data-icon":"MagnifyingGlass","data-size":"24px","data-weight":"regular",children:jsxRuntimeExports.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24px",height:"24px",fill:"currentColor",viewBox:"0 0 256 256",children:jsxRuntimeExports.jsx("path",{d:"M229.66,218.34l-50.07-50.06a88.11,88.11,0,1,0-11.31,11.31l50.06,50.07a8,8,0,0,0,11.32-11.32ZM40,112a72,72,0,1,1,72,72A72.08,72.08,0,0,1,40,112Z"})})}),jsxRuntimeExports.jsx("input",{placeholder:"Search patients",className:"form-input flex w-full min-w-0 flex-1 resize-none overflow-hidden rounded-xl text-[#0e141b] focus:outline-0 focus:ring-0 border-none bg-[#e8edf3] focus:border-none h-full placeholder:text-[#4f7396] px-4 rounded-l-none border-l-0 pl-2 text-base font-normal leading-normal"})]})})}),Et.map((Pt,kt)=>jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-4 bg-[#f8fafb] px-4 min-h-[72px] py-2 transition-all duration-300 ease-in-out hover:bg-[#e2e8f0] cursor-pointer rounded-xl ",onClick:()=>bt("/patient",{state:{id:Pt._id}}),children:[jsxRuntimeExports.jsx("div",{className:"bg-center bg-no-repeat aspect-square bg-cover rounded-full h-14 w-fit transform",style:{backgroundImage:""}}),jsxRuntimeExports.jsxs("div",{className:"flex flex-col justify-center",children:[jsxRuntimeExports.jsx("p",{className:"text-[#0e141b] text-base font-medium leading-normal line-clamp-1",children:Pt.name}),jsxRuntimeExports.jsxs("p",{className:"text-[#4f7396] text-sm font-normal leading-normal line-clamp-2",children:["Age: ",St(Pt.DOB),", Gender: ",Pt.gender]})]}),jsxRuntimeExports.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:`size-6 self-start mt-4 ml-auto mb-2 ${$?"block":"hidden"} `,children:[jsxRuntimeExports.jsx("path",{d:"M21.731 2.269a2.625 2.625 0 0 0-3.712 0l-1.157 1.157 3.712 3.712 1.157-1.157a2.625 2.625 0 0 0 0-3.712ZM19.513 8.199l-3.712-3.712-8.4 8.4a5.25 5.25 0 0 0-1.32 2.214l-.8 2.685a.75.75 0 0 0 .933.933l2.685-.8a5.25 5.25 0 0 0 2.214-1.32l8.4-8.4Z"}),jsxRuntimeExports.jsx("path",{d:"M5.25 5.25a3 3 0 0 0-3 3v10.5a3 3 0 0 0 3 3h10.5a3 3 0 0 0 3-3V13.5a.75.75 0 0 0-1.5 0v5.25a1.5 1.5 0 0 1-1.5 1.5H5.25a1.5 1.5 0 0 1-1.5-1.5V8.25a1.5 1.5 0 0 1 1.5-1.5h5.25a.75.75 0 0 0 0-1.5H5.25Z"})]}),jsxRuntimeExports.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:`size-6 self-start mt-4 ml-auto mb-2 ${vt?"block":"hidden"}`,children:jsxRuntimeExports.jsx("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"m14.74 9-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 0 1-2.244 2.077H8.084a2.25 2.25 0 0 1-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 0 0-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 0 1 3.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 0 0-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 0 0-7.5 0"})})]},kt))]})}function Analytics(ht){return jsxRuntimeExports.jsxs("div",{className:"layout-content-container flex flex-col w-[360px]",children:[jsxRuntimeExports.jsx("h3",{className:"text-[#0e141b] text-lg font-bold leading-tight tracking-[-0.015em] px-4 pb-2 pt-4",children:"Analytics"}),jsxRuntimeExports.jsxs("div",{className:"flex flex-wrap gap-4 p-4",children:[jsxRuntimeExports.jsxs("div",{className:"flex min-w-[158px] flex-1 flex-col gap-2 rounded-xl p-6 border border-[#d0dbe6]",children:[jsxRuntimeExports.jsx("p",{className:"text-[#0e141b] text-base font-medium leading-normal",children:"Total Patients"}),jsxRuntimeExports.jsx("p",{className:"text-[#0e141b] tracking-light text-2xl font-bold leading-tight",children:ht.noofPatients}),jsxRuntimeExports.jsx("p",{className:"text-[#078838] text-base font-medium leading-normal",children:"+5%"})]}),jsxRuntimeExports.jsxs("div",{className:"flex min-w-[158px] flex-1 flex-col gap-2 rounded-xl p-6 border border-[#d0dbe6]",children:[jsxRuntimeExports.jsx("p",{className:"text-[#0e141b] text-base font-medium leading-normal",children:"Average Age"}),jsxRuntimeExports.jsx("p",{className:"text-[#0e141b] tracking-light text-2xl font-bold leading-tight",children:"44"}),jsxRuntimeExports.jsx("p",{className:"text-[#e73908] text-base font-medium leading-normal",children:"-2%"})]})]})]})}const Navbar=ht=>{console.log(ht);const $=useNavigate();return jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between whitespace-nowrap border-b border-solid border-b-[#e7eef4] px-10 py-3",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-4 text-[#0d151c]",children:[jsxRuntimeExports.jsx("div",{className:"size-4",children:jsxRuntimeExports.jsx("svg",{viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:jsxRuntimeExports.jsx("path",{d:"M36.7273 44C33.9891 44 31.6043 39.8386 30.3636 33.69C29.123 39.8386 26.7382 44 24 44C21.2618 44 18.877 39.8386 17.6364 33.69C16.3957 39.8386 14.0109 44 11.2727 44C7.25611 44 4 35.0457 4 24C4 12.9543 7.25611 4 11.2727 4C14.0109 4 16.3957 8.16144 17.6364 14.31C18.877 8.16144 21.2618 4 24 4C26.7382 4 29.123 8.16144 30.3636 14.31C31.6043 8.16144 33.9891 4 36.7273 4C40.7439 4 44 12.9543 44 24C44 35.0457 40.7439 44 36.7273 44Z",fill:"currentColor"})})}),jsxRuntimeExports.jsx("h2",{className:"text-[#0d151c] text-lg font-bold leading-tight tracking-[-0.015em]",children:"Sanjh Sahayak"})]}),jsxRuntimeExports.jsxs("div",{className:"flex flex-1 justify-end gap-8",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-9",children:[jsxRuntimeExports.jsx("a",{className:"text-[#0d151c] text-sm font-medium leading-normal cursor-pointer",onClick:()=>$("/"),children:"Home"}),jsxRuntimeExports.jsx("a",{className:`text-[#0d151c] text-sm font-medium leading-normal cursor-pointer ${ht.patient?"":"hidden"}`,onClick:()=>$("/main"),children:"Patients"})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx("button",{className:"flex max-w-[480px] cursor-pointer items-center justify-center overflow-hidden rounded-xl h-10 bg-[#e7eef4] text-[#0d151c] gap-2 text-sm font-bold leading-normal tracking-[0.015em] min-w-0 px-2.5",children:jsxRuntimeExports.jsx("div",{className:"text-[#0d151c]","data-icon":"MagnifyingGlass","data-size":"20px","data-weight":"regular",children:jsxRuntimeExports.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20px",height:"20px",fill:"currentColor",viewBox:"0 0 256 256",children:jsxRuntimeExports.jsx("path",{d:"M229.66,218.34l-50.07-50.06a88.11,88.11,0,1,0-11.31,11.31l50.06,50.07a8,8,0,0,0,11.32-11.32ZM40,112a72,72,0,1,1,72,72A72.08,72.08,0,0,1,40,112Z"})})})}),jsxRuntimeExports.jsx("button",{className:"flex max-w-[480px] cursor-pointer items-center justify-center overflow-hidden rounded-xl h-10 bg-[#e7eef4] text-[#0d151c] gap-2 text-sm font-bold leading-normal tracking-[0.015em] min-w-0 px-2.5",children:jsxRuntimeExports.jsx("div",{className:"text-[#0d151c]","data-icon":"ChatCircleDots","data-size":"20px","data-weight":"regular",children:jsxRuntimeExports.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20px",height:"20px",fill:"currentColor",viewBox:"0 0 256 256",children:jsxRuntimeExports.jsx("path",{d:"M140,128a12,12,0,1,1-12-12A12,12,0,0,1,140,128ZM84,116a12,12,0,1,0,12,12A12,12,0,0,0,84,116Zm88,0a12,12,0,1,0,12,12A12,12,0,0,0,172,116Zm60,12A104,104,0,0,1,79.12,219.82L45.07,231.17a16,16,0,0,1-20.24-20.24l11.35-34.05A104,104,0,1,1,232,128Zm-16,0A88,88,0,1,0,51.81,172.06a8,8,0,0,1,.66,6.54L40,216,77.4,203.53a7.85,7.85,0,0,1,2.53-.42,8,8,0,0,1,4,1.08A88,88,0,0,0,216,128Z"})})})}),jsxRuntimeExports.jsx("button",{className:"flex max-w-[480px] cursor-pointer items-center justify-center overflow-hidden rounded-xl h-10 bg-[#e7eef4] text-[#0d151c] gap-2 text-sm font-bold leading-normal tracking-[0.015em] min-w-0 px-2.5",children:jsxRuntimeExports.jsx("div",{className:"text-[#0d151c]","data-icon":"Bell","data-size":"20px","data-weight":"regular",children:jsxRuntimeExports.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20px",height:"20px",fill:"currentColor",viewBox:"0 0 256 256",children:jsxRuntimeExports.jsx("path",{d:"M221.8,175.94C216.25,166.38,208,139.33,208,104a80,80,0,1,0-160,0c0,35.34-8.26,62.38-13.81,71.94A16,16,0,0,0,48,200H88.81a40,40,0,0,0,78.38,0H208a16,16,0,0,0,13.8-24.06ZM128,216a24,24,0,0,1-22.62-16h45.24A24,24,0,0,1,128,216ZM48,184c7.7-13.24,16-43.92,16-80a64,64,0,1,1,128,0c0,36.05,8.28,66.73,16,80Z"})})})})]}),jsxRuntimeExports.jsx("div",{className:"flex items-center justify-center gap-2",children:jsxRuntimeExports.jsx("div",{className:"text-[#0d151c] font-medium text-sm leading-normal",children:ht.isDoctor?"Doctor":"Care taker"})}),jsxRuntimeExports.jsx("div",{className:"bg-center bg-no-repeat aspect-square bg-cover rounded-full size-10",style:{backgroundImage:'url("https://cdn.usegalileo.ai/stability/62891830-57f4-4b6d-ab96-97aa59242b87.png")'}})]})]})};function Main(ht){const[$,_e]=reactExports.useState(0),[vt,xt]=reactExports.useState(ht.isDoctor);return reactExports.useEffect(()=>{xt(ht.isDoctor)},[]),jsxRuntimeExports.jsx("div",{className:"relative flex size-full min-h-screen flex-col bg-[#f8fafb] group/design-root overflow-x-hidden",style:{fontFamily:'Inter, "Noto Sans", sans-serif'},children:jsxRuntimeExports.jsxs("div",{className:"layout-container flex h-full grow flex-col",children:[jsxRuntimeExports.jsx(Navbar,{isDoctor:ht.isDoctor}),jsxRuntimeExports.jsxs("div",{className:"gap-1 px-6 flex flex-1 justify-center py-5",children:[jsxRuntimeExports.jsx(List,{isDoctor:vt,setNoofPatients:_e,noofPatients:$}),jsxRuntimeExports.jsx(Analytics,{noofPatients:$})]})]})})}const LandingPage=()=>{const ht=reactExports.useRef(null),$=()=>{ht.current.scrollIntoView({behavior:"smooth"})};let _e=useNavigate();return jsxRuntimeExports.jsx("div",{className:"relative flex size-full min-h-screen flex-col bg-[#F9FAFA] group/design-root overflow-x-hidden",style:{fontFamily:'Epilogue, "Noto Sans", sans-serif'},children:jsxRuntimeExports.jsxs("div",{className:"layout-container flex h-full grow flex-col",children:[jsxRuntimeExports.jsxs("header",{className:"flex items-center justify-between whitespace-nowrap border-b border-solid border-b-[#EEEFF2] px-10 py-3",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-4 text-[#1C1D22]",children:[jsxRuntimeExports.jsx("div",{className:"size-4",children:jsxRuntimeExports.jsxs("svg",{viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[jsxRuntimeExports.jsxs("g",{clipPath:"url(#clip0_6_543)",children:[jsxRuntimeExports.jsx("path",{d:"M42.1739 20.1739L27.8261 5.82609C29.1366 7.13663 28.3989 10.1876 26.2002 13.7654C24.8538 15.9564 22.9595 18.3449 20.6522 20.6522C18.3449 22.9595 15.9564 24.8538 13.7654 26.2002C10.1876 28.3989 7.13663 29.1366 5.82609 27.8261L20.1739 42.1739C21.4845 43.4845 24.5355 42.7467 28.1133 40.548C30.3042 39.2016 32.6927 37.3073 35 35C37.3073 32.6927 39.2016 30.3042 40.548 28.1133C42.7467 24.5355 43.4845 21.4845 42.1739 20.1739Z",fill:"currentColor"}),jsxRuntimeExports.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M7.24189 26.4066C7.31369 26.4411 7.64204 26.5637 8.52504 26.3738C9.59462 26.1438 11.0343 25.5311 12.7183 24.4963C14.7583 23.2426 17.0256 21.4503 19.238 19.238C21.4503 17.0256 23.2426 14.7583 24.4963 12.7183C25.5311 11.0343 26.1438 9.59463 26.3738 8.52504C26.5637 7.64204 26.4411 7.31369 26.4066 7.24189C26.345 7.21246 26.143 7.14535 25.6664 7.1918C24.9745 7.25925 23.9954 7.5498 22.7699 8.14278C20.3369 9.32007 17.3369 11.4915 14.4142 14.4142C11.4915 17.3369 9.32007 20.3369 8.14278 22.7699C7.5498 23.9954 7.25925 24.9745 7.1918 25.6664C7.14534 26.143 7.21246 26.345 7.24189 26.4066ZM29.9001 10.7285C29.4519 12.0322 28.7617 13.4172 27.9042 14.8126C26.465 17.1544 24.4686 19.6641 22.0664 22.0664C19.6641 24.4686 17.1544 26.465 14.8126 27.9042C13.4172 28.7617 12.0322 29.4519 10.7285 29.9001L21.5754 40.747C21.6001 40.7606 21.8995 40.931 22.8729 40.7217C23.9424 40.4916 25.3821 39.879 27.0661 38.8441C29.1062 37.5904 31.3734 35.7982 33.5858 33.5858C35.7982 31.3734 37.5904 29.1062 38.8441 27.0661C39.879 25.3821 40.4916 23.9425 40.7216 22.8729C40.931 21.8995 40.7606 21.6001 40.747 21.5754L29.9001 10.7285ZM29.2403 4.41187L43.5881 18.7597C44.9757 20.1473 44.9743 22.1235 44.6322 23.7139C44.2714 25.3919 43.4158 27.2666 42.252 29.1604C40.8128 31.5022 38.8165 34.012 36.4142 36.4142C34.012 38.8165 31.5022 40.8128 29.1604 42.252C27.2666 43.4158 25.3919 44.2714 23.7139 44.6322C22.1235 44.9743 20.1473 44.9757 18.7597 43.5881L4.41187 29.2403C3.29027 28.1187 3.08209 26.5973 3.21067 25.2783C3.34099 23.9415 3.8369 22.4852 4.54214 21.0277C5.96129 18.0948 8.43335 14.7382 11.5858 11.5858C14.7382 8.43335 18.0948 5.9613 21.0277 4.54214C22.4852 3.8369 23.9415 3.34099 25.2783 3.21067C26.5973 3.08209 28.1187 3.29028 29.2403 4.41187Z",fill:"currentColor"})]}),jsxRuntimeExports.jsx("defs",{children:jsxRuntimeExports.jsx("clipPath",{id:"clip0_6_543",children:jsxRuntimeExports.jsx("rect",{width:"48",height:"48",fill:"white"})})})]})}),jsxRuntimeExports.jsx("h2",{className:"text-[#1C1D22] text-lg font-bold leading-tight tracking-[-0.015em]",children:"Saanjh Sahayak"})]}),jsxRuntimeExports.jsxs("div",{className:"flex flex-1 justify-end gap-8",children:[jsxRuntimeExports.jsx("div",{className:"flex items-center gap-9",children:jsxRuntimeExports.jsx("a",{className:"text-[#1C1D22] text-sm font-medium leading-normal cursor-pointer",onClick:$,children:"Features"})}),jsxRuntimeExports.jsx("div",{className:"flex gap-2",children:jsxRuntimeExports.jsx("button",{className:"flex min-w-[84px] max-w-[480px] cursor-pointer items-center justify-center overflow-hidden rounded-full h-10 px-4 bg-[#607AFB] text-[#F9FAFA] text-sm font-bold leading-normal tracking-[0.015em]",onClick:()=>_e("/signin"),children:jsxRuntimeExports.jsx("span",{className:"truncate",children:"Login"})})})]})]}),jsxRuntimeExports.jsx("div",{className:"px-40 flex flex-1 justify-center py-5",children:jsxRuntimeExports.jsxs("div",{className:"layout-content-container flex flex-col max-w-[960px] flex-1",children:[jsxRuntimeExports.jsx("div",{className:"@container",children:jsxRuntimeExports.jsx("div",{className:"@[480px]:p-4",children:jsxRuntimeExports.jsxs("div",{className:"flex min-h-[480px] flex-col gap-6 bg-cover bg-center bg-no-repeat @[480px]:gap-8 @[480px]:rounded-xl items-start justify-end px-4 pb-10 @[480px]:px-10",style:{backgroundImage:'linear-gradient(rgba(0, 0, 0, 0.1) 0%, rgba(0, 0, 0, 0.4) 100%), url("https://cdn.usegalileo.ai/sdxl10/d0342d60-6ca8-4000-abde-e44f0d824c83.png")'},children:[jsxRuntimeExports.jsxs("div",{className:"flex flex-col gap-2 text-left",children:[jsxRuntimeExports.jsx("h1",{className:"text-white text-4xl font-black leading-tight tracking-[-0.033em] @[480px]:text-5xl @[480px]:font-black @[480px]:leading-tight @[480px]:tracking-[-0.033em]",children:"Saanjh Sahayak, better care for our elders"}),jsxRuntimeExports.jsx("h2",{className:"text-white text-sm font-normal leading-normal @[480px]:text-base @[480px]:font-normal @[480px]:leading-normal",children:"We are here to provide comprehensive and compassionate care to the elderly in old age homes."})]}),jsxRuntimeExports.jsx("label",{className:"flex flex-col min-w-40 h-14 w-full max-w-[480px] @[480px]:h-16"})]})})}),jsxRuntimeExports.jsxs("div",{className:"flex flex-col gap-10 px-4 py-10 @container",ref:ht,children:[jsxRuntimeExports.jsx("h1",{className:"text-[#1C1D22] tracking-light text-[32px] font-bold leading-tight @[480px]:text-4xl @[480px]:font-black @[480px]:leading-tight @[480px]:tracking-[-0.033em] max-w-[720px]",children:"For Caretakers"}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-[repeat(auto-fit,minmax(158px,1fr))] gap-3 p-0",children:[jsxRuntimeExports.jsxs("div",{className:"flex flex-1 gap-3 rounded-lg border border-[#D5D6DD] bg-[#FFFFFF] p-4 flex-col",children:[jsxRuntimeExports.jsx("div",{className:"text-[#1C1D22]","data-icon":"FirstAid","data-size":"24px","data-weight":"regular",children:jsxRuntimeExports.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24px",height:"24px",fill:"currentColor",viewBox:"0 0 256 256",children:jsxRuntimeExports.jsx("path",{d:"M216,88H168V40a16,16,0,0,0-16-16H104A16,16,0,0,0,88,40V88H40a16,16,0,0,0-16,16v48a16,16,0,0,0,16,16H88v48a16,16,0,0,0,16,16h48a16,16,0,0,0,16-16V168h48a16,16,0,0,0,16-16V104A16,16,0,0,0,216,88Zm0,64H160a8,8,0,0,0-8,8v56H104V160a8,8,0,0,0-8-8H40V104H96a8,8,0,0,0,8-8V40h48V96a8,8,0,0,0,8,8h56Z"})})}),jsxRuntimeExports.jsxs("div",{className:"flex flex-col gap-1",children:[jsxRuntimeExports.jsx("h2",{className:"text-[#1C1D22] text-base font-bold leading-tight",children:"Upload and Monitor Patient Reports"}),jsxRuntimeExports.jsx("p",{className:"text-[#3C3F4A] text-sm font-normal leading-normal",children:"Easily upload and monitor patient reports. Our system is designed to handle a variety of formats, ensuring a seamless experience."})]})]}),jsxRuntimeExports.jsxs("div",{className:"flex flex-1 gap-3 rounded-lg border border-[#D5D6DD] bg-[#FFFFFF] p-4 flex-col",children:[jsxRuntimeExports.jsx("div",{className:"text-[#1C1D22]","data-icon":"Notification","data-size":"24px","data-weight":"regular",children:jsxRuntimeExports.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24px",height:"24px",fill:"currentColor",viewBox:"0 0 256 256",children:jsxRuntimeExports.jsx("path",{d:"M216,128v80a16,16,0,0,1-16,16H48a16,16,0,0,1-16-16V56A16,16,0,0,1,48,40h80a8,8,0,0,1,0,16H48V208H200V128a8,8,0,0,1,16,0Zm16-68a36,36,0,1,1-36-36A36,36,0,0,1,232,60Zm-16,0a20,20,0,1,0-20,20A20,20,0,0,0,216,60Z"})})}),jsxRuntimeExports.jsxs("div",{className:"flex flex-col gap-1",children:[jsxRuntimeExports.jsx("h2",{className:"text-[#1C1D22] text-base font-bold leading-tight",children:"Receive Alerts and Reminders"}),jsxRuntimeExports.jsx("p",{className:"text-[#3C3F4A] text-sm font-normal leading-normal",children:"Get instant alerts and reminders for medication, doctor's appointments, and more. Stay on top of your loved one's care."})]})]})]})]}),jsxRuntimeExports.jsxs("div",{className:"flex flex-col gap-10 px-4 py-10 @container",children:[jsxRuntimeExports.jsx("h1",{className:"text-[#1C1D22] tracking-light text-[32px] font-bold leading-tight @[480px]:text-4xl @[480px]:font-black @[480px]:leading-tight @[480px]:tracking-[-0.033em] max-w-[720px]",children:"For Doctors"}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-[repeat(auto-fit,minmax(158px,1fr))] gap-3 p-0",children:[jsxRuntimeExports.jsxs("div",{className:"flex flex-1 gap-3 rounded-lg border border-[#D5D6DD] bg-[#FFFFFF] p-4 flex-col",children:[jsxRuntimeExports.jsx("div",{className:"text-[#1C1D22]","data-icon":"FirstAid","data-size":"24px","data-weight":"regular",children:jsxRuntimeExports.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24px",height:"24px",fill:"currentColor",viewBox:"0 0 256 256",children:jsxRuntimeExports.jsx("path",{d:"M216,88H168V40a16,16,0,0,0-16-16H104A16,16,0,0,0,88,40V88H40a16,16,0,0,0-16,16v48a16,16,0,0,0,16,16H88v48a16,16,0,0,0,16,16h48a16,16,0,0,0,16-16V168h48a16,16,0,0,0,16-16V104A16,16,0,0,0,216,88Zm0,64H160a8,8,0,0,0-8,8v56H104V160a8,8,0,0,0-8-8H40V104H96a8,8,0,0,0,8-8V40h48V96a8,8,0,0,0,8,8h56Z"})})}),jsxRuntimeExports.jsxs("div",{className:"flex flex-col gap-1",children:[jsxRuntimeExports.jsx("h2",{className:"text-[#1C1D22] text-base font-bold leading-tight",children:"Verify Patient Information"}),jsxRuntimeExports.jsx("p",{className:"text-[#3C3F4A] text-sm font-normal leading-normal",children:"Quickly and securely verify patient information. Our platform is designed to ensure compliance with privacy and data protection regulations."})]})]}),jsxRuntimeExports.jsxs("div",{className:"flex flex-1 gap-3 rounded-lg border border-[#D5D6DD] bg-[#FFFFFF] p-4 flex-col",children:[jsxRuntimeExports.jsx("div",{className:"text-[#1C1D22]","data-icon":"Translate","data-size":"24px","data-weight":"regular",children:jsxRuntimeExports.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24px",height:"24px",fill:"currentColor",viewBox:"0 0 256 256",children:jsxRuntimeExports.jsx("path",{d:"M239.15,212.42l-56-112a8,8,0,0,0-14.31,0l-21.71,43.43A88,88,0,0,1,100,126.93,103.65,103.65,0,0,0,127.69,64H152a8,8,0,0,0,0-16H96V32a8,8,0,0,0-16,0V48H24a8,8,0,0,0,0,16h87.63A87.76,87.76,0,0,1,88,116.35a87.74,87.74,0,0,1-19-31,8,8,0,1,0-15.08,5.34A103.63,103.63,0,0,0,76,127a87.55,87.55,0,0,1-52,17,8,8,0,0,0,0,16,103.46,103.46,0,0,0,64-22.08,104.18,104.18,0,0,0,51.44,21.31l-26.6,53.19a8,8,0,0,0,14.31,7.16L140.94,192h70.11l13.79,27.58A8,8,0,0,0,232,224a8,8,0,0,0,7.15-11.58ZM148.94,176,176,121.89,203.05,176Z"})})}),jsxRuntimeExports.jsxs("div",{className:"flex flex-col gap-1",children:[jsxRuntimeExports.jsx("h2",{className:"text-[#1C1D22] text-base font-bold leading-tight",children:"Analyze with Large Language Model"}),jsxRuntimeExports.jsx("p",{className:"text-[#3C3F4A] text-sm font-normal leading-normal",children:"Utilize our powerful Large Language Model for in-depth patient analysis. Get insights and recommendations based on the latest medical research."})]})]})]})]}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-[repeat(auto-fit,minmax(158px,1fr))] gap-3 p-4",children:[jsxRuntimeExports.jsxs("div",{className:"flex flex-col gap-3 pb-3",children:[jsxRuntimeExports.jsx("div",{className:"w-full bg-center bg-no-repeat aspect-video bg-cover rounded-xl",style:{backgroundImage:'url("https://cdn.usegalileo.ai/stability/fb823941-87a6-47fb-998f-c8224ea8c6db.png")'}}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"text-[#1C1D22] text-base font-medium leading-normal",children:"Get help from experts"}),jsxRuntimeExports.jsx("p",{className:"text-[#3C3F4A] text-sm font-normal leading-normal",children:"Our team of geriatricians and nurse practitioners are here to help."})]})]}),jsxRuntimeExports.jsxs("div",{className:"flex flex-col gap-3 pb-3",children:[jsxRuntimeExports.jsx("div",{className:"w-full bg-center bg-no-repeat aspect-video bg-cover rounded-xl",style:{backgroundImage:'url("https://cdn.usegalileo.ai/stability/b543c2c9-c73f-4636-8737-59e6d3f7a20e.png")'}}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"text-[#1C1D22] text-base font-medium leading-normal",children:"Stay connected"}),jsxRuntimeExports.jsx("p",{className:"text-[#3C3F4A] text-sm font-normal leading-normal",children:"Easily communicate with our team via video calls, phone calls, or chat."})]})]}),jsxRuntimeExports.jsxs("div",{className:"flex flex-col gap-3 pb-3",children:[jsxRuntimeExports.jsx("div",{className:"w-full bg-center bg-no-repeat aspect-video bg-cover rounded-xl",style:{backgroundImage:'url("https://cdn.usegalileo.ai/sdxl10/8329d0d0-4083-4c19-89c0-de0625991c40.png")'}}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"text-[#1C1D22] text-base font-medium leading-normal",children:"Get reminders"}),jsxRuntimeExports.jsx("p",{className:"text-[#3C3F4A] text-sm font-normal leading-normal",children:"Set up medication reminders and get alerts when it's time to take a dose."})]})]})]})]})})]})})};var DefaultContext={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},IconContext=React.createContext&&React.createContext(DefaultContext),_excluded=["attr","size","title"];function _objectWithoutProperties(ht,$){if(ht==null)return{};var _e=_objectWithoutPropertiesLoose(ht,$),vt,xt;if(Object.getOwnPropertySymbols){var bt=Object.getOwnPropertySymbols(ht);for(xt=0;xt<bt.length;xt++)vt=bt[xt],!($.indexOf(vt)>=0)&&Object.prototype.propertyIsEnumerable.call(ht,vt)&&(_e[vt]=ht[vt])}return _e}function _objectWithoutPropertiesLoose(ht,$){if(ht==null)return{};var _e={};for(var vt in ht)if(Object.prototype.hasOwnProperty.call(ht,vt)){if($.indexOf(vt)>=0)continue;_e[vt]=ht[vt]}return _e}function _extends(){return _extends=Object.assign?Object.assign.bind():function(ht){for(var $=1;$<arguments.length;$++){var _e=arguments[$];for(var vt in _e)Object.prototype.hasOwnProperty.call(_e,vt)&&(ht[vt]=_e[vt])}return ht},_extends.apply(this,arguments)}function ownKeys(ht,$){var _e=Object.keys(ht);if(Object.getOwnPropertySymbols){var vt=Object.getOwnPropertySymbols(ht);$&&(vt=vt.filter(function(xt){return Object.getOwnPropertyDescriptor(ht,xt).enumerable})),_e.push.apply(_e,vt)}return _e}function _objectSpread(ht){for(var $=1;$<arguments.length;$++){var _e=arguments[$]!=null?arguments[$]:{};$%2?ownKeys(Object(_e),!0).forEach(function(vt){_defineProperty(ht,vt,_e[vt])}):Object.getOwnPropertyDescriptors?Object.defineProperties(ht,Object.getOwnPropertyDescriptors(_e)):ownKeys(Object(_e)).forEach(function(vt){Object.defineProperty(ht,vt,Object.getOwnPropertyDescriptor(_e,vt))})}return ht}function _defineProperty(ht,$,_e){return $=_toPropertyKey($),$ in ht?Object.defineProperty(ht,$,{value:_e,enumerable:!0,configurable:!0,writable:!0}):ht[$]=_e,ht}function _toPropertyKey(ht){var $=_toPrimitive(ht,"string");return typeof $=="symbol"?$:$+""}function _toPrimitive(ht,$){if(typeof ht!="object"||!ht)return ht;var _e=ht[Symbol.toPrimitive];if(_e!==void 0){var vt=_e.call(ht,$||"default");if(typeof vt!="object")return vt;throw new TypeError("@@toPrimitive must return a primitive value.")}return($==="string"?String:Number)(ht)}function Tree2Element(ht){return ht&&ht.map(($,_e)=>React.createElement($.tag,_objectSpread({key:_e},$.attr),Tree2Element($.child)))}function GenIcon(ht){return $=>React.createElement(IconBase,_extends({attr:_objectSpread({},ht.attr)},$),Tree2Element(ht.child))}function IconBase(ht){var $=_e=>{var{attr:vt,size:xt,title:bt}=ht,Et=_objectWithoutProperties(ht,_excluded),At=xt||_e.size||"1em",_t;return _e.className&&(_t=_e.className),ht.className&&(_t=(_t?_t+" ":"")+ht.className),React.createElement("svg",_extends({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},_e.attr,vt,Et,{className:_t,style:_objectSpread(_objectSpread({color:ht.color||_e.color},_e.style),ht.style),height:At,width:At,xmlns:"http://www.w3.org/2000/svg"}),bt&&React.createElement("title",null,bt),ht.children)};return IconContext!==void 0?React.createElement(IconContext.Consumer,null,_e=>$(_e)):$(DefaultContext)}function FaEdit(ht){return GenIcon({tag:"svg",attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M402.6 83.2l90.2 90.2c3.8 3.8 3.8 10 0 13.8L274.4 405.6l-92.8 10.3c-12.4 1.4-22.9-9.1-21.5-21.5l10.3-92.8L388.8 83.2c3.8-3.8 10-3.8 13.8 0zm162-22.9l-48.8-48.8c-15.2-15.2-39.9-15.2-55.2 0l-35.4 35.4c-3.8 3.8-3.8 10 0 13.8l90.2 90.2c3.8 3.8 10 3.8 13.8 0l35.4-35.4c15.2-15.3 15.2-40 0-55.2zM384 346.2V448H64V128h229.8c3.2 0 6.2-1.3 8.5-3.5l40-40c7.6-7.6 2.2-20.5-8.5-20.5H48C21.5 64 0 85.5 0 112v352c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V306.2c0-10.7-12.9-16-20.5-8.5l-40 40c-2.2 2.3-3.5 5.3-3.5 8.5z"},child:[]}]})(ht)}function Profile(ht){const[$,_e]=reactExports.useState(ht.id),[vt,xt]=reactExports.useState();reactExports.useState(""),reactExports.useState(null),reactExports.useState(0),reactExports.useState(null),reactExports.useState(null),reactExports.useState(null);const[bt,Et]=reactExports.useState(null),At=useNavigate();async function _t(){const kt=await axios.get(`/en/getpatient/${$}`);xt(kt.data)}async function Ct(){console.log("hi");const kt=await axios.get(`/en/getdates/${$}`);Et(kt.data)}reactExports.useEffect(()=>{_t(),Ct()},[$]);const St=kt=>{const Mt=new Date,Lt=new Date(kt);let $t=Mt.getFullYear()-Lt.getFullYear();const Ft=Mt.getMonth()-Lt.getMonth();return(Ft<0||Ft===0&&Mt.getDate()<Lt.getDate())&&$t--,$t},Rt=async kt=>{const Mt=kt.target.files[0];if(Mt){const Lt=new FileReader;Lt.onloadend=async()=>{const $t=Lt.result.split(",")[1],Ft=kt.target.value.replace("C:\\fakepath\\","");try{console.log("hi"),(await axios.post("/en/uploadpdf",{file:$t,filename:Ft,patientId:$,name:vt.name})).data.data===!1&&alert("Invalid PDF")}catch(Dt){console.log("Error uploading details:",Dt),alert("File size too large or other issues.")}},Lt.readAsDataURL(Mt)}else console.log("No input file")},Pt=async kt=>{try{At("/doctoranalysis",{state:{id:kt,pid:$,isDoctor:ht.isDoctor,patientData:vt}})}catch{}};return vt&&bt&&jsxRuntimeExports.jsx("div",{className:"px-40 flex flex-1 justify-center py-5",children:jsxRuntimeExports.jsxs("div",{className:"layout-content-container flex flex-col max-w-[960px] flex-1",children:[jsxRuntimeExports.jsxs("div",{className:"relative flex p-4 @container",children:[jsxRuntimeExports.jsx("div",{className:`absolute top-2 right-2 ${ht.isDoctor?"hidden":""}`,children:jsxRuntimeExports.jsx("button",{className:"text-blue-500 hover:text-blue-700",children:jsxRuntimeExports.jsx(FaEdit,{size:20})})}),jsxRuntimeExports.jsx("div",{className:"flex w-full flex-col gap-4 @[520px]:flex-row @[520px]:justify-between @[520px]:items-center",children:jsxRuntimeExports.jsxs("div",{className:"flex gap-4 self-start",children:[jsxRuntimeExports.jsx("div",{className:"bg-center bg-no-repeat aspect-square bg-cover rounded-full min-h-32 w-32",style:{backgroundImage:'url("https://cdn.usegalileo.ai/stability/4085b1e6-79ae-4450-b2e6-2a0385966715.png")'}}),jsxRuntimeExports.jsxs("div",{className:"flex flex-col justify-center",children:[jsxRuntimeExports.jsx("p",{className:"text-[#0d151c] text-[22px] font-bold leading-tight tracking-[-0.015em]",children:vt.name}),jsxRuntimeExports.jsxs("p",{className:"text-[#49779c] text-base font-normal leading-normal",children:["Age ",St(vt.DOB),", ",vt.gender,", Blood type: ",vt.bloodGroup]})]})]})})]}),jsxRuntimeExports.jsxs("div",{className:"flex gap-4 bg-slate-50 px-4 py-3",children:[jsxRuntimeExports.jsx("div",{className:"text-[#0d151c] flex items-center justify-center rounded-lg bg-[#e7eef4] shrink-0 size-12","data-icon":"User","data-size":"24px","data-weight":"regular",children:jsxRuntimeExports.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24px",height:"24px",fill:"currentColor",viewBox:"0 0 256 256",children:jsxRuntimeExports.jsx("path",{d:"M230.92,212c-15.23-26.33-38.7-45.21-66.09-54.16a72,72,0,1,0-73.66,0C63.78,166.78,40.31,185.66,25.08,212a8,8,0,1,0,13.85,8c18.84-32.56,52.14-52,89.07-52s70.23,19.44,89.07,52a8,8,0,1,0,13.85-8ZM72,96a56,56,0,1,1,56,56A56.06,56.06,0,0,1,72,96Z"})})}),jsxRuntimeExports.jsxs("div",{className:"flex flex-1 flex-col justify-center",children:[jsxRuntimeExports.jsx("p",{className:"text-[#0d151c] text-base font-medium leading-normal",children:"Patient Information"}),jsxRuntimeExports.jsxs("p",{className:"text-[#49779c] text-sm font-normal leading-normal",children:["Previous test reports: ",vt.reportsList.length]}),jsxRuntimeExports.jsx("p",{className:"text-[#49779c] text-sm font-normal leading-normal",children:"Known health conditions: Asthma, Allergies"})]})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-4 bg-slate-50 px-4 min-h-14 justify-between",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-4",children:[jsxRuntimeExports.jsx("div",{className:"text-[#0d151c] flex items-center justify-center rounded-lg bg-[#e7eef4] shrink-0 size-10","data-icon":"Phone","data-size":"24px","data-weight":"regular",children:jsxRuntimeExports.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24px",height:"24px",fill:"currentColor",viewBox:"0 0 256 256",children:jsxRuntimeExports.jsx("path",{d:"M222.37,158.46l-47.11-21.11-.13-.06a16,16,0,0,0-15.17,1.4,8.12,8.12,0,0,0-.75.56L134.87,160c-15.42-7.49-31.34-23.29-38.83-38.51l20.78-24.71c.2-.25.39-.5.57-.77a16,16,0,0,0,1.32-15.06l0-.12L97.54,33.64a16,16,0,0,0-16.62-9.52A56.26,56.26,0,0,0,32,80c0,79.4,64.6,144,144,144a56.26,56.26,0,0,0,55.88-48.92A16,16,0,0,0,222.37,158.46ZM176,208A128.14,128.14,0,0,1,48,80,40.2,40.2,0,0,1,82.87,40a.61.61,0,0,0,0,.12l21,47L83.2,111.86a6.13,6.13,0,0,0-.57.77,16,16,0,0,0-1,15.7c9.06,18.53,27.73,37.06,46.46,46.11a16,16,0,0,0,15.75-1.14,8.44,8.44,0,0,0,.74-.56L168.89,152l47,21.05h0s.08,0,.11,0A40.21,40.21,0,0,1,176,208Z"})})}),jsxRuntimeExports.jsx("p",{className:"text-[#0d151c] text-base font-normal leading-normal flex-1 truncate",children:"Contact Number"})]}),jsxRuntimeExports.jsx("div",{className:"shrink-0",children:jsxRuntimeExports.jsxs("p",{className:"text-[#0d151c] text-base font-normal leading-normal",children:["(+91) ",vt.phone]})})]}),jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-center px-4 pb-3 pt-5",children:[jsxRuntimeExports.jsx("h2",{className:"text-[#0d151c] text-[22px] font-bold leading-tight tracking-[-0.015em]",children:"Report History"}),jsxRuntimeExports.jsx("label",{htmlFor:"file-upload",className:`bg-blue-500 text-white px-4 py-2 rounded cursor-pointer ${ht.isDoctor?"hidden":""}`,children:"Upload Reports"}),jsxRuntimeExports.jsx("input",{id:"file-upload",type:"file",className:"hidden",onChange:Rt})]}),jsxRuntimeExports.jsx("div",{children:bt.map((kt,Mt)=>jsxRuntimeExports.jsxs("div",{onClick:()=>{Pt(kt.file)},className:"flex items-center gap-4 bg-slate-50 px-4 min-h-[72px] py-2 justify-between cursor-pointer hover:bg-slate-100 hover:scale-105 transition transform duration-300",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-4",children:[jsxRuntimeExports.jsx("div",{className:"text-[#0d151c] flex items-center justify-center rounded-lg bg-[#e7eef4] shrink-0 size-12","data-icon":"File","data-size":"24px","data-weight":"regular",children:jsxRuntimeExports.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24px",height:"24px",fill:"currentColor",viewBox:"0 0 256 256",children:jsxRuntimeExports.jsx("path",{d:"M213.66,82.34l-56-56A8,8,0,0,0,152,24H56A16,16,0,0,0,40,40V216a16,16,0,0,0,16,16H200a16,16,0,0,0,16-16V88A8,8,0,0,0,213.66,82.34ZM160,51.31,188.69,80H160ZM200,216H56V40h88V88a8,8,0,0,0,8,8h48V216Z"})})}),jsxRuntimeExports.jsxs("div",{className:"flex flex-col justify-center",children:[jsxRuntimeExports.jsx("p",{className:"text-[#0d151c] text-base font-medium leading-normal line-clamp-1",children:kt.date}),jsxRuntimeExports.jsx("p",{className:"text-[#49779c] text-sm font-normal leading-normal line-clamp-2",children:kt.specialistReq})]})]}),jsxRuntimeExports.jsx("div",{className:"shrink-0",children:jsxRuntimeExports.jsx("div",{className:"text-[#0d151c] flex size-7 items-center justify-center","data-icon":"CaretRight","data-size":"24px","data-weight":"regular",children:jsxRuntimeExports.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24px",height:"24px",fill:"currentColor",viewBox:"0 0 256 256",children:jsxRuntimeExports.jsx("path",{d:"M181.66,133.66l-80,80a8,8,0,0,1-11.32-11.32L164.69,128,90.34,53.66a8,8,0,0,1,11.32-11.32l80,80A8,8,0,0,1,181.66,133.66Z"})})})})]},Mt))})]})})}function Patient(ht){const{state:$}=useLocation(),{id:_e}=$;return jsxRuntimeExports.jsx("div",{className:"relative flex size-full min-h-screen flex-col bg-slate-50 group/design-root overflow-x-hidden",style:{fontFamily:'Manrope, "Noto Sans", sans-serif;'},children:jsxRuntimeExports.jsxs("div",{className:"layout-container flex h-full grow flex-col",children:[jsxRuntimeExports.jsx(Navbar,{patient:!0,isDoctor:ht.isDoctor}),jsxRuntimeExports.jsx(Profile,{isDoctor:ht.isDoctor,id:_e})]})})}function Signin(ht){reactExports.useState(""),reactExports.useState(""),reactExports.useState(!1);const[$,_e]=reactExports.useState("");let vt=useNavigate();const xt=Et=>{_e(Et.target.value),$=="doctor"?ht.setIsDoctor(!0):ht.setIsDoctor(!1)},bt={"--checkbox-tick-svg":"url('data:image/svg+xml,%3csvg viewBox=%270 0 16 16%27 fill=%27rgb(248,250,252)%27 xmlns=%27http://www.w3.org/2000/svg%27%3e%3cpath d=%27M12.207 4.793a1 1 0 010 1.414l-5 5a1 1 0 01-1.414 0l-2-2a1 1 0 011.414-1.414L6.5 9.086l4.293-4.293a1 1 0 011.414 0z%27/%3e%3c/svg%3e')",fontFamily:"Manrope, 'Noto Sans', sans-serif"};return jsxRuntimeExports.jsxs("div",{className:"min-h-screen flex flex-col md:flex-row",children:[jsxRuntimeExports.jsx("div",{className:"flex flex-1 justify-center items-center bg-slate-50 p-10",style:bt,children:jsxRuntimeExports.jsxs("div",{className:"w-full max-w-md",children:[jsxRuntimeExports.jsx("h2",{className:"text-2xl font-bold text-center mb-4",children:"Welcome to HealthCo"}),jsxRuntimeExports.jsx("p",{className:"text-center mb-4",children:"Please select if you are a doctor or a caretaker."}),jsxRuntimeExports.jsx("div",{className:"mb-6",children:jsxRuntimeExports.jsxs("select",{className:"w-full p-3 border rounded-lg",value:$,onChange:xt,children:[jsxRuntimeExports.jsx("option",{value:"",disabled:!0,children:"Select your role"}),jsxRuntimeExports.jsx("option",{value:"doctor",children:"Doctor"}),jsxRuntimeExports.jsx("option",{value:"caretaker",children:"Caretaker"})]})}),jsxRuntimeExports.jsx("button",{className:"w-full bg-blue-500 text-white py-3 rounded-lg",onClick:()=>vt("/main"),children:"Sign in"})]})}),jsxRuntimeExports.jsx("div",{className:"flex flex-1 justify-center items-center bg-blue-100 p-10",children:jsxRuntimeExports.jsx("img",{src:"https://via.placeholder.com/400x300",alt:"Healthcare",className:"max-w-full h-auto"})})]})}const NewSignin=()=>{const[ht,$]=reactExports.useState(null),_e=vt=>{$(vt)};return jsxRuntimeExports.jsx("div",{className:"relative flex items-center justify-center min-h-screen bg-slate-50",children:jsxRuntimeExports.jsxs("div",{className:"layout-container flex flex-col max-w-[960px] w-full px-6",children:[jsxRuntimeExports.jsxs("header",{className:"flex items-center justify-between border-b border-solid border-b-[#e7edf3] px-4 py-3",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-4 text-[#0e141b]",children:[jsxRuntimeExports.jsx("div",{className:"size-4",children:jsxRuntimeExports.jsx("svg",{viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:jsxRuntimeExports.jsx("path",{d:"M4 42.4379C4 42.4379 14.0962 36.0744 24 41.1692C35.0664 46.8624 44 42.2078 44 42.2078L44 7.01134C44 7.01134 35.068 11.6577 24.0031 5.96913C14.0971 0.876274 4 7.27094 4 7.27094L4 42.4379Z",fill:"currentColor"})})}),jsxRuntimeExports.jsx("h2",{className:"text-[#0e141b] text-lg font-bold leading-tight tracking-[-0.015em]",children:"HealthCo"})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-8",children:[jsxRuntimeExports.jsx("button",{className:"text-[#1980e6] text-sm font-medium leading-normal",onClick:()=>alert("Link to professionals"),children:"For professionals"}),jsxRuntimeExports.jsx("button",{className:"text-[#1980e6] text-sm font-medium leading-normal",onClick:()=>alert("Link to caretakers"),children:"For caretakers"})]})]}),jsxRuntimeExports.jsxs("div",{className:"flex flex-col items-center justify-center flex-1",children:[jsxRuntimeExports.jsx("h2",{className:"text-[#0e141b] tracking-light text-[28px] font-bold leading-tight pb-3",children:"Welcome to HealthCo"}),jsxRuntimeExports.jsx("button",{className:"bg-[#1980e6] text-slate-50 text-base font-bold leading-normal tracking-[0.015em] py-3 px-8 rounded-lg mb-6",onClick:()=>alert("Display user selection"),children:"Select User"}),ht===null&&jsxRuntimeExports.jsxs("div",{className:"flex gap-6",children:[jsxRuntimeExports.jsx("button",{className:"flex items-center justify-center bg-[#1980e6] text-slate-50 text-base font-bold leading-normal tracking-[0.015em] py-3 px-8 rounded-lg",onClick:()=>_e("doctor"),children:"Doctor"}),jsxRuntimeExports.jsx("button",{className:"flex items-center justify-center bg-[#1980e6] text-slate-50 text-base font-bold leading-normal tracking-[0.015em] py-3 px-8 rounded-lg",onClick:()=>_e("caretaker"),children:"Caretaker"})]}),ht&&jsxRuntimeExports.jsxs("div",{className:"text-[#0e141b] text-base font-normal leading-normal mt-4",children:["You are signed in as ",jsxRuntimeExports.jsx("strong",{children:ht}),"."]})]}),jsxRuntimeExports.jsx("footer",{className:"flex justify-center py-3",children:jsxRuntimeExports.jsx("p",{className:"text-[#4e7397] text-sm font-normal leading-normal",children:"By continuing, you agree to our Terms of Use and Privacy Policy"})})]})})},scriptRel="modulepreload",assetsURL=function(ht){return"/"+ht},seen={},__vitePreload=function($,_e,vt){let xt=Promise.resolve();if(_e&&_e.length>0){document.getElementsByTagName("link");const bt=document.querySelector("meta[property=csp-nonce]"),Et=(bt==null?void 0:bt.nonce)||(bt==null?void 0:bt.getAttribute("nonce"));xt=Promise.all(_e.map(At=>{if(At=assetsURL(At),At in seen)return;seen[At]=!0;const _t=At.endsWith(".css"),Ct=_t?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${At}"]${Ct}`))return;const St=document.createElement("link");if(St.rel=_t?"stylesheet":scriptRel,_t||(St.as="script",St.crossOrigin=""),St.href=At,Et&&St.setAttribute("nonce",Et),document.head.appendChild(St),_t)return new Promise((Rt,Pt)=>{St.addEventListener("load",Rt),St.addEventListener("error",()=>Pt(new Error(`Unable to preload CSS for ${At}`)))})}))}return xt.then(()=>$()).catch(bt=>{const Et=new Event("vite:preloadError",{cancelable:!0});if(Et.payload=bt,window.dispatchEvent(Et),!Et.defaultPrevented)throw bt})};var __webpack_require__={};__webpack_require__.d=(ht,$)=>{for(var _e in $)__webpack_require__.o($,_e)&&!__webpack_require__.o(ht,_e)&&Object.defineProperty(ht,_e,{enumerable:!0,get:$[_e]})};__webpack_require__.o=(ht,$)=>Object.prototype.hasOwnProperty.call(ht,$);var __webpack_exports__=globalThis.pdfjsLib={};__webpack_require__.d(__webpack_exports__,{AbortException:()=>AbortException,AnnotationEditorLayer:()=>AnnotationEditorLayer,AnnotationEditorParamsType:()=>AnnotationEditorParamsType,AnnotationEditorType:()=>AnnotationEditorType,AnnotationEditorUIManager:()=>AnnotationEditorUIManager,AnnotationLayer:()=>AnnotationLayer,AnnotationMode:()=>AnnotationMode,CMapCompressionType:()=>CMapCompressionType,ColorPicker:()=>ColorPicker,DOMSVGFactory:()=>DOMSVGFactory,DrawLayer:()=>DrawLayer,FeatureTest:()=>util_FeatureTest,GlobalWorkerOptions:()=>GlobalWorkerOptions,ImageKind:()=>util_ImageKind,InvalidPDFException:()=>InvalidPDFException,MissingPDFException:()=>MissingPDFException,OPS:()=>OPS,Outliner:()=>Outliner,PDFDataRangeTransport:()=>PDFDataRangeTransport,PDFDateString:()=>PDFDateString,PDFWorker:()=>PDFWorker,PasswordResponses:()=>PasswordResponses,PermissionFlag:()=>PermissionFlag,PixelsPerInch:()=>PixelsPerInch,RenderingCancelledException:()=>RenderingCancelledException,TextLayer:()=>TextLayer,UnexpectedResponseException:()=>UnexpectedResponseException,Util:()=>Util,VerbosityLevel:()=>VerbosityLevel,XfaLayer:()=>XfaLayer,build:()=>build,createValidAbsoluteUrl:()=>createValidAbsoluteUrl,fetchData:()=>fetchData,getDocument:()=>getDocument,getFilenameFromUrl:()=>getFilenameFromUrl,getPdfFilenameFromUrl:()=>getPdfFilenameFromUrl,getXfaPageViewport:()=>getXfaPageViewport,isDataScheme:()=>isDataScheme,isPdfFile:()=>isPdfFile,noContextMenu:()=>noContextMenu,normalizeUnicode:()=>normalizeUnicode,renderTextLayer:()=>renderTextLayer,setLayerDimensions:()=>setLayerDimensions,shadow:()=>shadow,updateTextLayer:()=>updateTextLayer,version:()=>version});const isNodeJS=typeof process=="object"&&process+""=="[object process]"&&!process.versions.nw&&!(process.versions.electron&&process.type&&process.type!=="browser"),IDENTITY_MATRIX=[1,0,0,1,0,0],FONT_IDENTITY_MATRIX=[.001,0,0,.001,0,0],MAX_IMAGE_SIZE_TO_CACHE=1e7,LINE_FACTOR=1.35,RenderingIntentFlag={ANY:1,DISPLAY:2,PRINT:4,SAVE:8,ANNOTATIONS_FORMS:16,ANNOTATIONS_STORAGE:32,ANNOTATIONS_DISABLE:64,OPLIST:256},AnnotationMode={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3},AnnotationEditorPrefix="pdfjs_internal_editor_",AnnotationEditorType={DISABLE:-1,NONE:0,FREETEXT:3,HIGHLIGHT:9,STAMP:13,INK:15},AnnotationEditorParamsType={RESIZE:1,CREATE:2,FREETEXT_SIZE:11,FREETEXT_COLOR:12,FREETEXT_OPACITY:13,INK_COLOR:21,INK_THICKNESS:22,INK_OPACITY:23,HIGHLIGHT_COLOR:31,HIGHLIGHT_DEFAULT_COLOR:32,HIGHLIGHT_THICKNESS:33,HIGHLIGHT_FREE:34,HIGHLIGHT_SHOW_ALL:35},PermissionFlag={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048},TextRenderingMode={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_ADD_TO_PATH:4,STROKE_ADD_TO_PATH:5,FILL_STROKE_ADD_TO_PATH:6,ADD_TO_PATH:7,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4},util_ImageKind={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3},AnnotationType={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,SOUND:18,MOVIE:19,WIDGET:20,SCREEN:21,PRINTERMARK:22,TRAPNET:23,WATERMARK:24,THREED:25,REDACT:26},AnnotationBorderStyleType={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5},VerbosityLevel={ERRORS:0,WARNINGS:1,INFOS:5},CMapCompressionType={NONE:0,BINARY:1},OPS={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotation:80,endAnnotation:81,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91},PasswordResponses={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};let verbosity=VerbosityLevel.WARNINGS;function setVerbosityLevel(ht){Number.isInteger(ht)&&(verbosity=ht)}function getVerbosityLevel(){return verbosity}function info(ht){verbosity>=VerbosityLevel.INFOS&&console.log(`Info: ${ht}`)}function warn(ht){verbosity>=VerbosityLevel.WARNINGS&&console.log(`Warning: ${ht}`)}function unreachable(ht){throw new Error(ht)}function assert(ht,$){ht||unreachable($)}function _isValidProtocol(ht){switch(ht==null?void 0:ht.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}function createValidAbsoluteUrl(ht,$=null,_e=null){if(!ht)return null;try{if(_e&&typeof ht=="string"){if(_e.addDefaultProtocol&&ht.startsWith("www.")){const xt=ht.match(/\./g);(xt==null?void 0:xt.length)>=2&&(ht=`http://${ht}`)}if(_e.tryConvertEncoding)try{ht=stringToUTF8String(ht)}catch{}}const vt=$?new URL(ht,$):new URL(ht);if(_isValidProtocol(vt))return vt}catch{}return null}function shadow(ht,$,_e,vt=!1){return Object.defineProperty(ht,$,{value:_e,enumerable:!vt,configurable:!0,writable:!1}),_e}const BaseException=function(){function $(_e,vt){this.constructor===$&&unreachable("Cannot initialize BaseException."),this.message=_e,this.name=vt}return $.prototype=new Error,$.constructor=$,$}();class PasswordException extends BaseException{constructor($,_e){super($,"PasswordException"),this.code=_e}}class UnknownErrorException extends BaseException{constructor($,_e){super($,"UnknownErrorException"),this.details=_e}}class InvalidPDFException extends BaseException{constructor($){super($,"InvalidPDFException")}}class MissingPDFException extends BaseException{constructor($){super($,"MissingPDFException")}}class UnexpectedResponseException extends BaseException{constructor($,_e){super($,"UnexpectedResponseException"),this.status=_e}}class FormatError extends BaseException{constructor($){super($,"FormatError")}}class AbortException extends BaseException{constructor($){super($,"AbortException")}}function bytesToString(ht){(typeof ht!="object"||(ht==null?void 0:ht.length)===void 0)&&unreachable("Invalid argument for bytesToString");const $=ht.length,_e=8192;if($<_e)return String.fromCharCode.apply(null,ht);const vt=[];for(let xt=0;xt<$;xt+=_e){const bt=Math.min(xt+_e,$),Et=ht.subarray(xt,bt);vt.push(String.fromCharCode.apply(null,Et))}return vt.join("")}function stringToBytes(ht){typeof ht!="string"&&unreachable("Invalid argument for stringToBytes");const $=ht.length,_e=new Uint8Array($);for(let vt=0;vt<$;++vt)_e[vt]=ht.charCodeAt(vt)&255;return _e}function string32(ht){return String.fromCharCode(ht>>24&255,ht>>16&255,ht>>8&255,ht&255)}function objectFromMap(ht){const $=Object.create(null);for(const[_e,vt]of ht)$[_e]=vt;return $}function isLittleEndian(){const ht=new Uint8Array(4);return ht[0]=1,new Uint32Array(ht.buffer,0,1)[0]===1}function isEvalSupported(){try{return new Function(""),!0}catch{return!1}}class util_FeatureTest{static get isLittleEndian(){return shadow(this,"isLittleEndian",isLittleEndian())}static get isEvalSupported(){return shadow(this,"isEvalSupported",isEvalSupported())}static get isOffscreenCanvasSupported(){return shadow(this,"isOffscreenCanvasSupported",typeof OffscreenCanvas<"u")}static get platform(){return typeof navigator<"u"&&typeof(navigator==null?void 0:navigator.platform)=="string"?shadow(this,"platform",{isMac:navigator.platform.includes("Mac")}):shadow(this,"platform",{isMac:!1})}static get isCSSRoundSupported(){var $,_e;return shadow(this,"isCSSRoundSupported",(_e=($=globalThis.CSS)==null?void 0:$.supports)==null?void 0:_e.call($,"width: round(1.5px, 1px)"))}}const hexNumbers=Array.from(Array(256).keys(),ht=>ht.toString(16).padStart(2,"0"));var du,uy,Cx;class Util{static makeHexColor($,_e,vt){return`#${hexNumbers[$]}${hexNumbers[_e]}${hexNumbers[vt]}`}static scaleMinMax($,_e){let vt;$[0]?($[0]<0&&(vt=_e[0],_e[0]=_e[2],_e[2]=vt),_e[0]*=$[0],_e[2]*=$[0],$[3]<0&&(vt=_e[1],_e[1]=_e[3],_e[3]=vt),_e[1]*=$[3],_e[3]*=$[3]):(vt=_e[0],_e[0]=_e[1],_e[1]=vt,vt=_e[2],_e[2]=_e[3],_e[3]=vt,$[1]<0&&(vt=_e[1],_e[1]=_e[3],_e[3]=vt),_e[1]*=$[1],_e[3]*=$[1],$[2]<0&&(vt=_e[0],_e[0]=_e[2],_e[2]=vt),_e[0]*=$[2],_e[2]*=$[2]),_e[0]+=$[4],_e[1]+=$[5],_e[2]+=$[4],_e[3]+=$[5]}static transform($,_e){return[$[0]*_e[0]+$[2]*_e[1],$[1]*_e[0]+$[3]*_e[1],$[0]*_e[2]+$[2]*_e[3],$[1]*_e[2]+$[3]*_e[3],$[0]*_e[4]+$[2]*_e[5]+$[4],$[1]*_e[4]+$[3]*_e[5]+$[5]]}static applyTransform($,_e){const vt=$[0]*_e[0]+$[1]*_e[2]+_e[4],xt=$[0]*_e[1]+$[1]*_e[3]+_e[5];return[vt,xt]}static applyInverseTransform($,_e){const vt=_e[0]*_e[3]-_e[1]*_e[2],xt=($[0]*_e[3]-$[1]*_e[2]+_e[2]*_e[5]-_e[4]*_e[3])/vt,bt=(-$[0]*_e[1]+$[1]*_e[0]+_e[4]*_e[1]-_e[5]*_e[0])/vt;return[xt,bt]}static getAxialAlignedBoundingBox($,_e){const vt=this.applyTransform($,_e),xt=this.applyTransform($.slice(2,4),_e),bt=this.applyTransform([$[0],$[3]],_e),Et=this.applyTransform([$[2],$[1]],_e);return[Math.min(vt[0],xt[0],bt[0],Et[0]),Math.min(vt[1],xt[1],bt[1],Et[1]),Math.max(vt[0],xt[0],bt[0],Et[0]),Math.max(vt[1],xt[1],bt[1],Et[1])]}static inverseTransform($){const _e=$[0]*$[3]-$[1]*$[2];return[$[3]/_e,-$[1]/_e,-$[2]/_e,$[0]/_e,($[2]*$[5]-$[4]*$[3])/_e,($[4]*$[1]-$[5]*$[0])/_e]}static singularValueDecompose2dScale($){const _e=[$[0],$[2],$[1],$[3]],vt=$[0]*_e[0]+$[1]*_e[2],xt=$[0]*_e[1]+$[1]*_e[3],bt=$[2]*_e[0]+$[3]*_e[2],Et=$[2]*_e[1]+$[3]*_e[3],At=(vt+Et)/2,_t=Math.sqrt((vt+Et)**2-4*(vt*Et-bt*xt))/2,Ct=At+_t||1,St=At-_t||1;return[Math.sqrt(Ct),Math.sqrt(St)]}static normalizeRect($){const _e=$.slice(0);return $[0]>$[2]&&(_e[0]=$[2],_e[2]=$[0]),$[1]>$[3]&&(_e[1]=$[3],_e[3]=$[1]),_e}static intersect($,_e){const vt=Math.max(Math.min($[0],$[2]),Math.min(_e[0],_e[2])),xt=Math.min(Math.max($[0],$[2]),Math.max(_e[0],_e[2]));if(vt>xt)return null;const bt=Math.max(Math.min($[1],$[3]),Math.min(_e[1],_e[3])),Et=Math.min(Math.max($[1],$[3]),Math.max(_e[1],_e[3]));return bt>Et?null:[vt,bt,xt,Et]}static bezierBoundingBox($,_e,vt,xt,bt,Et,At,_t,Ct){return Ct?(Ct[0]=Math.min(Ct[0],$,At),Ct[1]=Math.min(Ct[1],_e,_t),Ct[2]=Math.max(Ct[2],$,At),Ct[3]=Math.max(Ct[3],_e,_t)):Ct=[Math.min($,At),Math.min(_e,_t),Math.max($,At),Math.max(_e,_t)],Ut(this,du,Cx).call(this,$,vt,bt,At,_e,xt,Et,_t,3*(-$+3*(vt-bt)+At),6*($-2*vt+bt),3*(vt-$),Ct),Ut(this,du,Cx).call(this,$,vt,bt,At,_e,xt,Et,_t,3*(-_e+3*(xt-Et)+_t),6*(_e-2*xt+Et),3*(xt-_e),Ct),Ct}}du=new WeakSet,uy=function($,_e,vt,xt,bt,Et,At,_t,Ct,St){if(Ct<=0||Ct>=1)return;const Rt=1-Ct,Pt=Ct*Ct,kt=Pt*Ct,Mt=Rt*(Rt*(Rt*$+3*Ct*_e)+3*Pt*vt)+kt*xt,Lt=Rt*(Rt*(Rt*bt+3*Ct*Et)+3*Pt*At)+kt*_t;St[0]=Math.min(St[0],Mt),St[1]=Math.min(St[1],Lt),St[2]=Math.max(St[2],Mt),St[3]=Math.max(St[3],Lt)},Cx=function($,_e,vt,xt,bt,Et,At,_t,Ct,St,Rt,Pt){if(Math.abs(Ct)<1e-12){Math.abs(St)>=1e-12&&Ut(this,du,uy).call(this,$,_e,vt,xt,bt,Et,At,_t,-Rt/St,Pt);return}const kt=St**2-4*Rt*Ct;if(kt<0)return;const Mt=Math.sqrt(kt),Lt=2*Ct;Ut(this,du,uy).call(this,$,_e,vt,xt,bt,Et,At,_t,(-St+Mt)/Lt,Pt),Ut(this,du,uy).call(this,$,_e,vt,xt,bt,Et,At,_t,(-St-Mt)/Lt,Pt)},Gt(Util,du);function stringToUTF8String(ht){return decodeURIComponent(escape(ht))}let NormalizeRegex=null,NormalizationMap=null;function normalizeUnicode(ht){return NormalizeRegex||(NormalizeRegex=/([\u00a0\u00b5\u037e\u0eb3\u2000-\u200a\u202f\u2126\ufb00-\ufb04\ufb06\ufb20-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufba1\ufba4-\ufba9\ufbae-\ufbb1\ufbd3-\ufbdc\ufbde-\ufbe7\ufbea-\ufbf8\ufbfc-\ufbfd\ufc00-\ufc5d\ufc64-\ufcf1\ufcf5-\ufd3d\ufd88\ufdf4\ufdfa-\ufdfb\ufe71\ufe77\ufe79\ufe7b\ufe7d]+)|(\ufb05+)/gu,NormalizationMap=new Map([["","t"]])),ht.replaceAll(NormalizeRegex,($,_e,vt)=>_e?_e.normalize("NFKC"):NormalizationMap.get(vt))}function getUuid(){if(typeof crypto<"u"&&typeof(crypto==null?void 0:crypto.randomUUID)=="function")return crypto.randomUUID();const ht=new Uint8Array(32);if(typeof crypto<"u"&&typeof(crypto==null?void 0:crypto.getRandomValues)=="function")crypto.getRandomValues(ht);else for(let $=0;$<32;$++)ht[$]=Math.floor(Math.random()*255);return bytesToString(ht)}const AnnotationPrefix="pdfjs_internal_id_",FontRenderOps={BEZIER_CURVE_TO:0,MOVE_TO:1,LINE_TO:2,QUADRATIC_CURVE_TO:3,RESTORE:4,SAVE:5,SCALE:6,TRANSFORM:7,TRANSLATE:8};class BaseFilterFactory{constructor(){this.constructor===BaseFilterFactory&&unreachable("Cannot initialize BaseFilterFactory.")}addFilter($){return"none"}addHCMFilter($,_e){return"none"}addAlphaFilter($){return"none"}addLuminosityFilter($){return"none"}addHighlightHCMFilter($,_e,vt,xt,bt){return"none"}destroy($=!1){}}class BaseCanvasFactory{constructor(){this.constructor===BaseCanvasFactory&&unreachable("Cannot initialize BaseCanvasFactory.")}create($,_e){if($<=0||_e<=0)throw new Error("Invalid canvas size");const vt=this._createCanvas($,_e);return{canvas:vt,context:vt.getContext("2d")}}reset($,_e,vt){if(!$.canvas)throw new Error("Canvas is not specified");if(_e<=0||vt<=0)throw new Error("Invalid canvas size");$.canvas.width=_e,$.canvas.height=vt}destroy($){if(!$.canvas)throw new Error("Canvas is not specified");$.canvas.width=0,$.canvas.height=0,$.canvas=null,$.context=null}_createCanvas($,_e){unreachable("Abstract method `_createCanvas` called.")}}class BaseCMapReaderFactory{constructor({baseUrl:$=null,isCompressed:_e=!0}){this.constructor===BaseCMapReaderFactory&&unreachable("Cannot initialize BaseCMapReaderFactory."),this.baseUrl=$,this.isCompressed=_e}async fetch({name:$}){if(!this.baseUrl)throw new Error('The CMap "baseUrl" parameter must be specified, ensure that the "cMapUrl" and "cMapPacked" API parameters are provided.');if(!$)throw new Error("CMap name must be specified.");const _e=this.baseUrl+$+(this.isCompressed?".bcmap":""),vt=this.isCompressed?CMapCompressionType.BINARY:CMapCompressionType.NONE;return this._fetchData(_e,vt).catch(xt=>{throw new Error(`Unable to load ${this.isCompressed?"binary ":""}CMap at: ${_e}`)})}_fetchData($,_e){unreachable("Abstract method `_fetchData` called.")}}class BaseStandardFontDataFactory{constructor({baseUrl:$=null}){this.constructor===BaseStandardFontDataFactory&&unreachable("Cannot initialize BaseStandardFontDataFactory."),this.baseUrl=$}async fetch({filename:$}){if(!this.baseUrl)throw new Error('The standard font "baseUrl" parameter must be specified, ensure that the "standardFontDataUrl" API parameter is provided.');if(!$)throw new Error("Font filename must be specified.");const _e=`${this.baseUrl}${$}`;return this._fetchData(_e).catch(vt=>{throw new Error(`Unable to load font data at: ${_e}`)})}_fetchData($){unreachable("Abstract method `_fetchData` called.")}}class BaseSVGFactory{constructor(){this.constructor===BaseSVGFactory&&unreachable("Cannot initialize BaseSVGFactory.")}create($,_e,vt=!1){if($<=0||_e<=0)throw new Error("Invalid SVG dimensions");const xt=this._createSVG("svg:svg");return xt.setAttribute("version","1.1"),vt||(xt.setAttribute("width",`${$}px`),xt.setAttribute("height",`${_e}px`)),xt.setAttribute("preserveAspectRatio","none"),xt.setAttribute("viewBox",`0 0 ${$} ${_e}`),xt}createElement($){if(typeof $!="string")throw new Error("Invalid SVG element type");return this._createSVG($)}_createSVG($){unreachable("Abstract method `_createSVG` called.")}}const SVG_NS="http://www.w3.org/2000/svg",Zu=class Zu{};_r(Zu,"CSS",96),_r(Zu,"PDF",72),_r(Zu,"PDF_TO_CSS_UNITS",Zu.CSS/Zu.PDF);let PixelsPerInch=Zu;var Ju,ba,Bl,xo,qy,_d,Fr,co,Yp,Zp,dy,SE,Rx,Qp,n0,i0,Tx,r0;class DOMFilterFactory extends BaseFilterFactory{constructor({docId:_e,ownerDocument:vt=globalThis.document}={}){super();Gt(this,Fr);Gt(this,Ju);Gt(this,ba);Gt(this,Bl);Gt(this,xo);Gt(this,qy);Gt(this,_d,0);Vt(this,Bl,_e),Vt(this,xo,vt)}addFilter(_e){if(!_e)return"none";let vt=wt(this,Fr,co).get(_e);if(vt)return vt;const[xt,bt,Et]=Ut(this,Fr,dy).call(this,_e),At=_e.length===1?xt:`${xt}${bt}${Et}`;if(vt=wt(this,Fr,co).get(At),vt)return wt(this,Fr,co).set(_e,vt),vt;const _t=`g_${wt(this,Bl)}_transfer_map_${eo(this,_d)._++}`,Ct=`url(#${_t})`;wt(this,Fr,co).set(_e,Ct),wt(this,Fr,co).set(At,Ct);const St=Ut(this,Fr,Qp).call(this,_t);return Ut(this,Fr,i0).call(this,xt,bt,Et,St),Ct}addHCMFilter(_e,vt){var Mt;const xt=`${_e}-${vt}`,bt="base";let Et=wt(this,Fr,Yp).get(bt);if((Et==null?void 0:Et.key)===xt||(Et?((Mt=Et.filter)==null||Mt.remove(),Et.key=xt,Et.url="none",Et.filter=null):(Et={key:xt,url:"none",filter:null},wt(this,Fr,Yp).set(bt,Et)),!_e||!vt))return Et.url;const At=Ut(this,Fr,r0).call(this,_e);_e=Util.makeHexColor(...At);const _t=Ut(this,Fr,r0).call(this,vt);if(vt=Util.makeHexColor(..._t),wt(this,Fr,Zp).style.color="",_e==="#000000"&&vt==="#ffffff"||_e===vt)return Et.url;const Ct=new Array(256);for(let Lt=0;Lt<=255;Lt++){const $t=Lt/255;Ct[Lt]=$t<=.03928?$t/12.92:(($t+.055)/1.055)**2.4}const St=Ct.join(","),Rt=`g_${wt(this,Bl)}_hcm_filter`,Pt=Et.filter=Ut(this,Fr,Qp).call(this,Rt);Ut(this,Fr,i0).call(this,St,St,St,Pt),Ut(this,Fr,Rx).call(this,Pt);const kt=(Lt,$t)=>{const Ft=At[Lt]/255,Dt=_t[Lt]/255,Nt=new Array($t+1);for(let Ht=0;Ht<=$t;Ht++)Nt[Ht]=Ft+Ht/$t*(Dt-Ft);return Nt.join(",")};return Ut(this,Fr,i0).call(this,kt(0,5),kt(1,5),kt(2,5),Pt),Et.url=`url(#${Rt})`,Et.url}addAlphaFilter(_e){let vt=wt(this,Fr,co).get(_e);if(vt)return vt;const[xt]=Ut(this,Fr,dy).call(this,[_e]),bt=`alpha_${xt}`;if(vt=wt(this,Fr,co).get(bt),vt)return wt(this,Fr,co).set(_e,vt),vt;const Et=`g_${wt(this,Bl)}_alpha_map_${eo(this,_d)._++}`,At=`url(#${Et})`;wt(this,Fr,co).set(_e,At),wt(this,Fr,co).set(bt,At);const _t=Ut(this,Fr,Qp).call(this,Et);return Ut(this,Fr,Tx).call(this,xt,_t),At}addLuminosityFilter(_e){let vt=wt(this,Fr,co).get(_e||"luminosity");if(vt)return vt;let xt,bt;if(_e?([xt]=Ut(this,Fr,dy).call(this,[_e]),bt=`luminosity_${xt}`):bt="luminosity",vt=wt(this,Fr,co).get(bt),vt)return wt(this,Fr,co).set(_e,vt),vt;const Et=`g_${wt(this,Bl)}_luminosity_map_${eo(this,_d)._++}`,At=`url(#${Et})`;wt(this,Fr,co).set(_e,At),wt(this,Fr,co).set(bt,At);const _t=Ut(this,Fr,Qp).call(this,Et);return Ut(this,Fr,SE).call(this,_t),_e&&Ut(this,Fr,Tx).call(this,xt,_t),At}addHighlightHCMFilter(_e,vt,xt,bt,Et){var Dt;const At=`${vt}-${xt}-${bt}-${Et}`;let _t=wt(this,Fr,Yp).get(_e);if((_t==null?void 0:_t.key)===At||(_t?((Dt=_t.filter)==null||Dt.remove(),_t.key=At,_t.url="none",_t.filter=null):(_t={key:At,url:"none",filter:null},wt(this,Fr,Yp).set(_e,_t)),!vt||!xt))return _t.url;const[Ct,St]=[vt,xt].map(Ut(this,Fr,r0).bind(this));let Rt=Math.round(.2126*Ct[0]+.7152*Ct[1]+.0722*Ct[2]),Pt=Math.round(.2126*St[0]+.7152*St[1]+.0722*St[2]),[kt,Mt]=[bt,Et].map(Ut(this,Fr,r0).bind(this));Pt<Rt&&([Rt,Pt,kt,Mt]=[Pt,Rt,Mt,kt]),wt(this,Fr,Zp).style.color="";const Lt=(Nt,Ht,Ot)=>{const Bt=new Array(256),jt=(Pt-Rt)/Ot,zt=Nt/255,Kt=(Ht-Nt)/(255*Ot);let nn=0;for(let Xt=0;Xt<=Ot;Xt++){const en=Math.round(Rt+Xt*jt),on=zt+Xt*Kt;for(let An=nn;An<=en;An++)Bt[An]=on;nn=en+1}for(let Xt=nn;Xt<256;Xt++)Bt[Xt]=Bt[nn-1];return Bt.join(",")},$t=`g_${wt(this,Bl)}_hcm_${_e}_filter`,Ft=_t.filter=Ut(this,Fr,Qp).call(this,$t);return Ut(this,Fr,Rx).call(this,Ft),Ut(this,Fr,i0).call(this,Lt(kt[0],Mt[0],5),Lt(kt[1],Mt[1],5),Lt(kt[2],Mt[2],5),Ft),_t.url=`url(#${$t})`,_t.url}destroy(_e=!1){_e&&wt(this,Fr,Yp).size!==0||(wt(this,ba)&&(wt(this,ba).parentNode.parentNode.remove(),Vt(this,ba,null)),wt(this,Ju)&&(wt(this,Ju).clear(),Vt(this,Ju,null)),Vt(this,_d,0))}}Ju=new WeakMap,ba=new WeakMap,Bl=new WeakMap,xo=new WeakMap,qy=new WeakMap,_d=new WeakMap,Fr=new WeakSet,co=function(){return wt(this,Ju)||Vt(this,Ju,new Map)},Yp=function(){return wt(this,qy)||Vt(this,qy,new Map)},Zp=function(){if(!wt(this,ba)){const _e=wt(this,xo).createElement("div"),{style:vt}=_e;vt.visibility="hidden",vt.contain="strict",vt.width=vt.height=0,vt.position="absolute",vt.top=vt.left=0,vt.zIndex=-1;const xt=wt(this,xo).createElementNS(SVG_NS,"svg");xt.setAttribute("width",0),xt.setAttribute("height",0),Vt(this,ba,wt(this,xo).createElementNS(SVG_NS,"defs")),_e.append(xt),xt.append(wt(this,ba)),wt(this,xo).body.append(_e)}return wt(this,ba)},dy=function(_e){if(_e.length===1){const Ct=_e[0],St=new Array(256);for(let Pt=0;Pt<256;Pt++)St[Pt]=Ct[Pt]/255;const Rt=St.join(",");return[Rt,Rt,Rt]}const[vt,xt,bt]=_e,Et=new Array(256),At=new Array(256),_t=new Array(256);for(let Ct=0;Ct<256;Ct++)Et[Ct]=vt[Ct]/255,At[Ct]=xt[Ct]/255,_t[Ct]=bt[Ct]/255;return[Et.join(","),At.join(","),_t.join(",")]},SE=function(_e){const vt=wt(this,xo).createElementNS(SVG_NS,"feColorMatrix");vt.setAttribute("type","matrix"),vt.setAttribute("values","0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.3 0.59 0.11 0 0"),_e.append(vt)},Rx=function(_e){const vt=wt(this,xo).createElementNS(SVG_NS,"feColorMatrix");vt.setAttribute("type","matrix"),vt.setAttribute("values","0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0 0 0 1 0"),_e.append(vt)},Qp=function(_e){const vt=wt(this,xo).createElementNS(SVG_NS,"filter");return vt.setAttribute("color-interpolation-filters","sRGB"),vt.setAttribute("id",_e),wt(this,Fr,Zp).append(vt),vt},n0=function(_e,vt,xt){const bt=wt(this,xo).createElementNS(SVG_NS,vt);bt.setAttribute("type","discrete"),bt.setAttribute("tableValues",xt),_e.append(bt)},i0=function(_e,vt,xt,bt){const Et=wt(this,xo).createElementNS(SVG_NS,"feComponentTransfer");bt.append(Et),Ut(this,Fr,n0).call(this,Et,"feFuncR",_e),Ut(this,Fr,n0).call(this,Et,"feFuncG",vt),Ut(this,Fr,n0).call(this,Et,"feFuncB",xt)},Tx=function(_e,vt){const xt=wt(this,xo).createElementNS(SVG_NS,"feComponentTransfer");vt.append(xt),Ut(this,Fr,n0).call(this,xt,"feFuncA",_e)},r0=function(_e){return wt(this,Fr,Zp).style.color=_e,getRGB(getComputedStyle(wt(this,Fr,Zp)).getPropertyValue("color"))};class DOMCanvasFactory extends BaseCanvasFactory{constructor({ownerDocument:$=globalThis.document}={}){super(),this._document=$}_createCanvas($,_e){const vt=this._document.createElement("canvas");return vt.width=$,vt.height=_e,vt}}async function fetchData(ht,$="text"){if(isValidFetchUrl(ht,document.baseURI)){const _e=await fetch(ht);if(!_e.ok)throw new Error(_e.statusText);switch($){case"arraybuffer":return _e.arrayBuffer();case"blob":return _e.blob();case"json":return _e.json()}return _e.text()}return new Promise((_e,vt)=>{const xt=new XMLHttpRequest;xt.open("GET",ht,!0),xt.responseType=$,xt.onreadystatechange=()=>{if(xt.readyState===XMLHttpRequest.DONE){if(xt.status===200||xt.status===0){switch($){case"arraybuffer":case"blob":case"json":_e(xt.response);return}_e(xt.responseText);return}vt(new Error(xt.statusText))}},xt.send(null)})}class DOMCMapReaderFactory extends BaseCMapReaderFactory{_fetchData($,_e){return fetchData($,this.isCompressed?"arraybuffer":"text").then(vt=>({cMapData:vt instanceof ArrayBuffer?new Uint8Array(vt):stringToBytes(vt),compressionType:_e}))}}class DOMStandardFontDataFactory extends BaseStandardFontDataFactory{_fetchData($){return fetchData($,"arraybuffer").then(_e=>new Uint8Array(_e))}}class DOMSVGFactory extends BaseSVGFactory{_createSVG($){return document.createElementNS(SVG_NS,$)}}class PageViewport{constructor({viewBox:$,scale:_e,rotation:vt,offsetX:xt=0,offsetY:bt=0,dontFlip:Et=!1}){this.viewBox=$,this.scale=_e,this.rotation=vt,this.offsetX=xt,this.offsetY=bt;const At=($[2]+$[0])/2,_t=($[3]+$[1])/2;let Ct,St,Rt,Pt;switch(vt%=360,vt<0&&(vt+=360),vt){case 180:Ct=-1,St=0,Rt=0,Pt=1;break;case 90:Ct=0,St=1,Rt=1,Pt=0;break;case 270:Ct=0,St=-1,Rt=-1,Pt=0;break;case 0:Ct=1,St=0,Rt=0,Pt=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}Et&&(Rt=-Rt,Pt=-Pt);let kt,Mt,Lt,$t;Ct===0?(kt=Math.abs(_t-$[1])*_e+xt,Mt=Math.abs(At-$[0])*_e+bt,Lt=($[3]-$[1])*_e,$t=($[2]-$[0])*_e):(kt=Math.abs(At-$[0])*_e+xt,Mt=Math.abs(_t-$[1])*_e+bt,Lt=($[2]-$[0])*_e,$t=($[3]-$[1])*_e),this.transform=[Ct*_e,St*_e,Rt*_e,Pt*_e,kt-Ct*_e*At-Rt*_e*_t,Mt-St*_e*At-Pt*_e*_t],this.width=Lt,this.height=$t}get rawDims(){const{viewBox:$}=this;return shadow(this,"rawDims",{pageWidth:$[2]-$[0],pageHeight:$[3]-$[1],pageX:$[0],pageY:$[1]})}clone({scale:$=this.scale,rotation:_e=this.rotation,offsetX:vt=this.offsetX,offsetY:xt=this.offsetY,dontFlip:bt=!1}={}){return new PageViewport({viewBox:this.viewBox.slice(),scale:$,rotation:_e,offsetX:vt,offsetY:xt,dontFlip:bt})}convertToViewportPoint($,_e){return Util.applyTransform([$,_e],this.transform)}convertToViewportRectangle($){const _e=Util.applyTransform([$[0],$[1]],this.transform),vt=Util.applyTransform([$[2],$[3]],this.transform);return[_e[0],_e[1],vt[0],vt[1]]}convertToPdfPoint($,_e){return Util.applyInverseTransform([$,_e],this.transform)}}class RenderingCancelledException extends BaseException{constructor($,_e=0){super($,"RenderingCancelledException"),this.extraDelay=_e}}function isDataScheme(ht){const $=ht.length;let _e=0;for(;_e<$&&ht[_e].trim()==="";)_e++;return ht.substring(_e,_e+5).toLowerCase()==="data:"}function isPdfFile(ht){return typeof ht=="string"&&/\.pdf$/i.test(ht)}function getFilenameFromUrl(ht){return[ht]=ht.split(/[#?]/,1),ht.substring(ht.lastIndexOf("/")+1)}function getPdfFilenameFromUrl(ht,$="document.pdf"){if(typeof ht!="string")return $;if(isDataScheme(ht))return warn('getPdfFilenameFromUrl: ignore "data:"-URL for performance reasons.'),$;const _e=/^(?:(?:[^:]+:)?\/\/[^/]+)?([^?#]*)(\?[^#]*)?(#.*)?$/,vt=/[^/?#=]+\.pdf\b(?!.*\.pdf\b)/i,xt=_e.exec(ht);let bt=vt.exec(xt[1])||vt.exec(xt[2])||vt.exec(xt[3]);if(bt&&(bt=bt[0],bt.includes("%")))try{bt=vt.exec(decodeURIComponent(bt))[0]}catch{}return bt||$}class StatTimer{constructor(){_r(this,"started",Object.create(null));_r(this,"times",[])}time($){$ in this.started&&warn(`Timer is already running for ${$}`),this.started[$]=Date.now()}timeEnd($){$ in this.started||warn(`Timer has not been started for ${$}`),this.times.push({name:$,start:this.started[$],end:Date.now()}),delete this.started[$]}toString(){const $=[];let _e=0;for(const{name:vt}of this.times)_e=Math.max(vt.length,_e);for(const{name:vt,start:xt,end:bt}of this.times)$.push(`${vt.padEnd(_e)} ${bt-xt}ms
`);return $.join("")}}function isValidFetchUrl(ht,$){try{const{protocol:_e}=$?new URL(ht,$):new URL(ht);return _e==="http:"||_e==="https:"}catch{return!1}}function noContextMenu(ht){ht.preventDefault()}function deprecated(ht){console.log("Deprecated API usage: "+ht)}let pdfDateStringRegex;class PDFDateString{static toDateObject($){if(!$||typeof $!="string")return null;pdfDateStringRegex||(pdfDateStringRegex=new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?"));const _e=pdfDateStringRegex.exec($);if(!_e)return null;const vt=parseInt(_e[1],10);let xt=parseInt(_e[2],10);xt=xt>=1&&xt<=12?xt-1:0;let bt=parseInt(_e[3],10);bt=bt>=1&&bt<=31?bt:1;let Et=parseInt(_e[4],10);Et=Et>=0&&Et<=23?Et:0;let At=parseInt(_e[5],10);At=At>=0&&At<=59?At:0;let _t=parseInt(_e[6],10);_t=_t>=0&&_t<=59?_t:0;const Ct=_e[7]||"Z";let St=parseInt(_e[8],10);St=St>=0&&St<=23?St:0;let Rt=parseInt(_e[9],10)||0;return Rt=Rt>=0&&Rt<=59?Rt:0,Ct==="-"?(Et+=St,At+=Rt):Ct==="+"&&(Et-=St,At-=Rt),new Date(Date.UTC(vt,xt,bt,Et,At,_t))}}function getXfaPageViewport(ht,{scale:$=1,rotation:_e=0}){const{width:vt,height:xt}=ht.attributes.style,bt=[0,0,parseInt(vt),parseInt(xt)];return new PageViewport({viewBox:bt,scale:$,rotation:_e})}function getRGB(ht){if(ht.startsWith("#")){const $=parseInt(ht.slice(1),16);return[($&16711680)>>16,($&65280)>>8,$&255]}return ht.startsWith("rgb(")?ht.slice(4,-1).split(",").map($=>parseInt($)):ht.startsWith("rgba(")?ht.slice(5,-1).split(",").map($=>parseInt($)).slice(0,3):(warn(`Not a valid color format: "${ht}"`),[0,0,0])}function getColorValues(ht){const $=document.createElement("span");$.style.visibility="hidden",document.body.append($);for(const _e of ht.keys()){$.style.color=_e;const vt=window.getComputedStyle($).color;ht.set(_e,getRGB(vt))}$.remove()}function getCurrentTransform(ht){const{a:$,b:_e,c:vt,d:xt,e:bt,f:Et}=ht.getTransform();return[$,_e,vt,xt,bt,Et]}function getCurrentTransformInverse(ht){const{a:$,b:_e,c:vt,d:xt,e:bt,f:Et}=ht.getTransform().invertSelf();return[$,_e,vt,xt,bt,Et]}function setLayerDimensions(ht,$,_e=!1,vt=!0){if($ instanceof PageViewport){const{pageWidth:xt,pageHeight:bt}=$.rawDims,{style:Et}=ht,At=util_FeatureTest.isCSSRoundSupported,_t=`var(--scale-factor) * ${xt}px`,Ct=`var(--scale-factor) * ${bt}px`,St=At?`round(${_t}, 1px)`:`calc(${_t})`,Rt=At?`round(${Ct}, 1px)`:`calc(${Ct})`;!_e||$.rotation%180===0?(Et.width=St,Et.height=Rt):(Et.width=Rt,Et.height=St)}vt&&ht.setAttribute("data-main-rotation",$.rotation)}var _h,_f,_a,ep,Ky,CE,mo,RE,TE,hy,PE,Px;const Yy=class Yy{constructor($){Gt(this,mo);Gt(this,_h,null);Gt(this,_f,null);Gt(this,_a);Gt(this,ep,null);Vt(this,_a,$)}render(){const $=Vt(this,_h,document.createElement("div"));$.className="editToolbar",$.setAttribute("role","toolbar"),$.addEventListener("contextmenu",noContextMenu),$.addEventListener("pointerdown",Ut(Yy,Ky,CE));const _e=Vt(this,ep,document.createElement("div"));_e.className="buttons",$.append(_e);const vt=wt(this,_a).toolbarPosition;if(vt){const{style:xt}=$,bt=wt(this,_a)._uiManager.direction==="ltr"?1-vt[0]:vt[0];xt.insetInlineEnd=`${100*bt}%`,xt.top=`calc(${100*vt[1]}% + var(--editor-toolbar-vert-offset))`}return Ut(this,mo,PE).call(this),$}hide(){var $;wt(this,_h).classList.add("hidden"),($=wt(this,_f))==null||$.hideDropdown()}show(){wt(this,_h).classList.remove("hidden")}addAltTextButton($){Ut(this,mo,hy).call(this,$),wt(this,ep).prepend($,wt(this,mo,Px))}addColorPicker($){Vt(this,_f,$);const _e=$.renderButton();Ut(this,mo,hy).call(this,_e),wt(this,ep).prepend(_e,wt(this,mo,Px))}remove(){var $;wt(this,_h).remove(),($=wt(this,_f))==null||$.destroy(),Vt(this,_f,null)}};_h=new WeakMap,_f=new WeakMap,_a=new WeakMap,ep=new WeakMap,Ky=new WeakSet,CE=function($){$.stopPropagation()},mo=new WeakSet,RE=function($){wt(this,_a)._focusEventsAllowed=!1,$.preventDefault(),$.stopPropagation()},TE=function($){wt(this,_a)._focusEventsAllowed=!0,$.preventDefault(),$.stopPropagation()},hy=function($){$.addEventListener("focusin",Ut(this,mo,RE).bind(this),{capture:!0}),$.addEventListener("focusout",Ut(this,mo,TE).bind(this),{capture:!0}),$.addEventListener("contextmenu",noContextMenu)},PE=function(){const $=document.createElement("button");$.className="delete",$.tabIndex=0,$.setAttribute("data-l10n-id",`pdfjs-editor-remove-${wt(this,_a).editorType}-button`),Ut(this,mo,hy).call(this,$),$.addEventListener("click",_e=>{wt(this,_a)._uiManager.delete()}),wt(this,ep).append($)},Px=function(){const $=document.createElement("div");return $.className="divider",$},Gt(Yy,Ky);let EditorToolbar=Yy;var w0,tp,_0,zu,kE,ME,FE;class HighlightToolbar{constructor($){Gt(this,zu);Gt(this,w0,null);Gt(this,tp,null);Gt(this,_0);Vt(this,_0,$)}show($,_e,vt){const[xt,bt]=Ut(this,zu,ME).call(this,_e,vt),{style:Et}=wt(this,tp)||Vt(this,tp,Ut(this,zu,kE).call(this));$.append(wt(this,tp)),Et.insetInlineEnd=`${100*xt}%`,Et.top=`calc(${100*bt}% + var(--editor-toolbar-vert-offset))`}hide(){wt(this,tp).remove()}}w0=new WeakMap,tp=new WeakMap,_0=new WeakMap,zu=new WeakSet,kE=function(){const $=Vt(this,tp,document.createElement("div"));$.className="editToolbar",$.setAttribute("role","toolbar"),$.addEventListener("contextmenu",noContextMenu);const _e=Vt(this,w0,document.createElement("div"));return _e.className="buttons",$.append(_e),Ut(this,zu,FE).call(this),$},ME=function($,_e){let vt=0,xt=0;for(const bt of $){const Et=bt.y+bt.height;if(Et<vt)continue;const At=bt.x+(_e?bt.width:0);if(Et>vt){xt=At,vt=Et;continue}_e?At>xt&&(xt=At):At<xt&&(xt=At)}return[_e?1-xt:xt,vt]},FE=function(){const $=document.createElement("button");$.className="highlightButton",$.tabIndex=0,$.setAttribute("data-l10n-id","pdfjs-highlight-floating-button1");const _e=document.createElement("span");$.append(_e),_e.className="visuallyHidden",_e.setAttribute("data-l10n-id","pdfjs-highlight-floating-button-label"),$.addEventListener("contextmenu",noContextMenu),$.addEventListener("click",()=>{wt(this,_0).highlightSelection("floating_button")}),wt(this,w0).append($)};function bindEvents(ht,$,_e){for(const vt of _e)$.addEventListener(vt,ht[vt].bind(ht))}function opacityToHex(ht){return Math.round(Math.min(255,Math.max(1,255*ht))).toString(16).padStart(2,"0")}var Zy;class IdManager{constructor(){Gt(this,Zy,0)}get id(){return`${AnnotationEditorPrefix}${eo(this,Zy)._++}`}}Zy=new WeakMap;var S0,Qy,Lo,C0,kx;const nE=class nE{constructor(){Gt(this,C0);Gt(this,S0,getUuid());Gt(this,Qy,0);Gt(this,Lo,null)}static get _isSVGFittingCanvas(){const $='data:image/svg+xml;charset=UTF-8,<svg viewBox="0 0 1 1" width="1" height="1" xmlns="http://www.w3.org/2000/svg"><rect width="1" height="1" style="fill:red;"/></svg>',vt=new OffscreenCanvas(1,3).getContext("2d"),xt=new Image;xt.src=$;const bt=xt.decode().then(()=>(vt.drawImage(xt,0,0,1,1,0,0,1,3),new Uint32Array(vt.getImageData(0,0,1,1).data.buffer)[0]===0));return shadow(this,"_isSVGFittingCanvas",bt)}async getFromFile($){const{lastModified:_e,name:vt,size:xt,type:bt}=$;return Ut(this,C0,kx).call(this,`${_e}_${vt}_${xt}_${bt}`,$)}async getFromUrl($){return Ut(this,C0,kx).call(this,$,$)}async getFromId($){wt(this,Lo)||Vt(this,Lo,new Map);const _e=wt(this,Lo).get($);return _e?_e.bitmap?(_e.refCounter+=1,_e):_e.file?this.getFromFile(_e.file):this.getFromUrl(_e.url):null}getSvgUrl($){const _e=wt(this,Lo).get($);return _e!=null&&_e.isSvg?_e.svgUrl:null}deleteId($){wt(this,Lo)||Vt(this,Lo,new Map);const _e=wt(this,Lo).get($);_e&&(_e.refCounter-=1,_e.refCounter===0&&(_e.bitmap=null))}isValidId($){return $.startsWith(`image_${wt(this,S0)}_`)}};S0=new WeakMap,Qy=new WeakMap,Lo=new WeakMap,C0=new WeakSet,kx=async function($,_e){wt(this,Lo)||Vt(this,Lo,new Map);let vt=wt(this,Lo).get($);if(vt===null)return null;if(vt!=null&&vt.bitmap)return vt.refCounter+=1,vt;try{vt||(vt={bitmap:null,id:`image_${wt(this,S0)}_${eo(this,Qy)._++}`,refCounter:0,isSvg:!1});let xt;if(typeof _e=="string"?(vt.url=_e,xt=await fetchData(_e,"blob")):xt=vt.file=_e,xt.type==="image/svg+xml"){const bt=nE._isSVGFittingCanvas,Et=new FileReader,At=new Image,_t=new Promise((Ct,St)=>{At.onload=()=>{vt.bitmap=At,vt.isSvg=!0,Ct()},Et.onload=async()=>{const Rt=vt.svgUrl=Et.result;At.src=await bt?`${Rt}#svgView(preserveAspectRatio(none))`:Rt},At.onerror=Et.onerror=St});Et.readAsDataURL(xt),await _t}else vt.bitmap=await createImageBitmap(xt);vt.refCounter=1}catch(xt){console.error(xt),vt=null}return wt(this,Lo).set($,vt),vt&&wt(this,Lo).set(vt.id,vt),vt};let ImageManager=nE;var Zs,Au,R0,Qs;class CommandManager{constructor($=128){Gt(this,Zs,[]);Gt(this,Au,!1);Gt(this,R0);Gt(this,Qs,-1);Vt(this,R0,$)}add({cmd:$,undo:_e,post:vt,mustExec:xt,type:bt=NaN,overwriteIfSameType:Et=!1,keepUndo:At=!1}){if(xt&&$(),wt(this,Au))return;const _t={cmd:$,undo:_e,post:vt,type:bt};if(wt(this,Qs)===-1){wt(this,Zs).length>0&&(wt(this,Zs).length=0),Vt(this,Qs,0),wt(this,Zs).push(_t);return}if(Et&&wt(this,Zs)[wt(this,Qs)].type===bt){At&&(_t.undo=wt(this,Zs)[wt(this,Qs)].undo),wt(this,Zs)[wt(this,Qs)]=_t;return}const Ct=wt(this,Qs)+1;Ct===wt(this,R0)?wt(this,Zs).splice(0,1):(Vt(this,Qs,Ct),Ct<wt(this,Zs).length&&wt(this,Zs).splice(Ct)),wt(this,Zs).push(_t)}undo(){if(wt(this,Qs)===-1)return;Vt(this,Au,!0);const{undo:$,post:_e}=wt(this,Zs)[wt(this,Qs)];$(),_e==null||_e(),Vt(this,Au,!1),Vt(this,Qs,wt(this,Qs)-1)}redo(){if(wt(this,Qs)<wt(this,Zs).length-1){Vt(this,Qs,wt(this,Qs)+1),Vt(this,Au,!0);const{cmd:$,post:_e}=wt(this,Zs)[wt(this,Qs)];$(),_e==null||_e(),Vt(this,Au,!1)}}hasSomethingToUndo(){return wt(this,Qs)!==-1}hasSomethingToRedo(){return wt(this,Qs)<wt(this,Zs).length-1}destroy(){Vt(this,Zs,null)}}Zs=new WeakMap,Au=new WeakMap,R0=new WeakMap,Qs=new WeakMap;var Jy,LE;class KeyboardManager{constructor($){Gt(this,Jy);this.buffer=[],this.callbacks=new Map,this.allKeys=new Set;const{isMac:_e}=util_FeatureTest.platform;for(const[vt,xt,bt={}]of $)for(const Et of vt){const At=Et.startsWith("mac+");_e&&At?(this.callbacks.set(Et.slice(4),{callback:xt,options:bt}),this.allKeys.add(Et.split("+").at(-1))):!_e&&!At&&(this.callbacks.set(Et,{callback:xt,options:bt}),this.allKeys.add(Et.split("+").at(-1)))}}exec($,_e){if(!this.allKeys.has(_e.key))return;const vt=this.callbacks.get(Ut(this,Jy,LE).call(this,_e));if(!vt)return;const{callback:xt,options:{bubbles:bt=!1,args:Et=[],checker:At=null}}=vt;At&&!At($,_e)||(xt.bind($,...Et,_e)(),bt||(_e.stopPropagation(),_e.preventDefault()))}}Jy=new WeakSet,LE=function($){$.altKey&&this.buffer.push("alt"),$.ctrlKey&&this.buffer.push("ctrl"),$.metaKey&&this.buffer.push("meta"),$.shiftKey&&this.buffer.push("shift"),this.buffer.push($.key);const _e=this.buffer.join("+");return this.buffer.length=0,_e};const ex=class ex{get _colors(){const $=new Map([["CanvasText",null],["Canvas",null]]);return getColorValues($),shadow(this,"_colors",$)}convert($){const _e=getRGB($);if(!window.matchMedia("(forced-colors: active)").matches)return _e;for(const[vt,xt]of this._colors)if(xt.every((bt,Et)=>bt===_e[Et]))return ex._colorsMapping.get(vt);return _e}getHexCode($){const _e=this._colors.get($);return _e?Util.makeHexColor(..._e):$}};_r(ex,"_colorsMapping",new Map([["CanvasText",[0,0,0]],["Canvas",[255,255,255]]]));let ColorManager=ex;var So,Ws,no,am,Ul,lm,zo,cm,np,$a,zl,ip,T0,P0,yl,um,wu,xl,tx,_u,k0,rp,M0,dm,io,bs,Vl,sp,F0,L0,D0,I0,$0,N0,O0,j0,H0,B0,U0,z0,V0,W0,Su,El,Wl,G0,Er,fy,DE,IE,py,$E,NE,OE,Mx,Fx,Lx,Dx,Ix,ho,bu,jE,HE,$x,BE,s0,Nx;const om=class om{constructor($,_e,vt,xt,bt,Et,At,_t,Ct){Gt(this,Er);Gt(this,So,null);Gt(this,Ws,new Map);Gt(this,no,new Map);Gt(this,am,null);Gt(this,Ul,null);Gt(this,lm,null);Gt(this,zo,new CommandManager);Gt(this,cm,0);Gt(this,np,new Set);Gt(this,$a,null);Gt(this,zl,null);Gt(this,ip,new Set);Gt(this,T0,!1);Gt(this,P0,null);Gt(this,yl,null);Gt(this,um,null);Gt(this,wu,!1);Gt(this,xl,null);Gt(this,tx,new IdManager);Gt(this,_u,!1);Gt(this,k0,!1);Gt(this,rp,null);Gt(this,M0,null);Gt(this,dm,null);Gt(this,io,AnnotationEditorType.NONE);Gt(this,bs,new Set);Gt(this,Vl,null);Gt(this,sp,null);Gt(this,F0,null);Gt(this,L0,this.blur.bind(this));Gt(this,D0,this.focus.bind(this));Gt(this,I0,this.copy.bind(this));Gt(this,$0,this.cut.bind(this));Gt(this,N0,this.paste.bind(this));Gt(this,O0,this.keydown.bind(this));Gt(this,j0,this.keyup.bind(this));Gt(this,H0,this.onEditingAction.bind(this));Gt(this,B0,this.onPageChanging.bind(this));Gt(this,U0,this.onScaleChanging.bind(this));Gt(this,z0,Ut(this,Er,IE).bind(this));Gt(this,V0,this.onRotationChanging.bind(this));Gt(this,W0,{isEditing:!1,isEmpty:!0,hasSomethingToUndo:!1,hasSomethingToRedo:!1,hasSelectedEditor:!1,hasSelectedText:!1});Gt(this,Su,[0,0]);Gt(this,El,null);Gt(this,Wl,null);Gt(this,G0,null);Vt(this,Wl,$),Vt(this,G0,_e),Vt(this,am,vt),this._eventBus=xt,this._eventBus._on("editingaction",wt(this,H0)),this._eventBus._on("pagechanging",wt(this,B0)),this._eventBus._on("scalechanging",wt(this,U0)),this._eventBus._on("rotationchanging",wt(this,V0)),Ut(this,Er,$E).call(this),Ut(this,Er,Fx).call(this),Vt(this,Ul,bt.annotationStorage),Vt(this,P0,bt.filterFactory),Vt(this,sp,Et),Vt(this,um,At||null),Vt(this,T0,_t),Vt(this,dm,Ct||null),this.viewParameters={realScale:PixelsPerInch.PDF_TO_CSS_UNITS,rotation:0},this.isShiftKeyDown=!1}static get _keyboardManager(){const $=om.prototype,_e=Et=>wt(Et,Wl).contains(document.activeElement)&&document.activeElement.tagName!=="BUTTON"&&Et.hasSomethingToControl(),vt=(Et,{target:At})=>{if(At instanceof HTMLInputElement){const{type:_t}=At;return _t!=="text"&&_t!=="number"}return!0},xt=this.TRANSLATE_SMALL,bt=this.TRANSLATE_BIG;return shadow(this,"_keyboardManager",new KeyboardManager([[["ctrl+a","mac+meta+a"],$.selectAll,{checker:vt}],[["ctrl+z","mac+meta+z"],$.undo,{checker:vt}],[["ctrl+y","ctrl+shift+z","mac+meta+shift+z","ctrl+shift+Z","mac+meta+shift+Z"],$.redo,{checker:vt}],[["Backspace","alt+Backspace","ctrl+Backspace","shift+Backspace","mac+Backspace","mac+alt+Backspace","mac+ctrl+Backspace","Delete","ctrl+Delete","shift+Delete","mac+Delete"],$.delete,{checker:vt}],[["Enter","mac+Enter"],$.addNewEditorFromKeyboard,{checker:(Et,{target:At})=>!(At instanceof HTMLButtonElement)&&wt(Et,Wl).contains(At)&&!Et.isEnterHandled}],[[" ","mac+ "],$.addNewEditorFromKeyboard,{checker:(Et,{target:At})=>!(At instanceof HTMLButtonElement)&&wt(Et,Wl).contains(document.activeElement)}],[["Escape","mac+Escape"],$.unselectAll],[["ArrowLeft","mac+ArrowLeft"],$.translateSelectedEditors,{args:[-xt,0],checker:_e}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],$.translateSelectedEditors,{args:[-bt,0],checker:_e}],[["ArrowRight","mac+ArrowRight"],$.translateSelectedEditors,{args:[xt,0],checker:_e}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],$.translateSelectedEditors,{args:[bt,0],checker:_e}],[["ArrowUp","mac+ArrowUp"],$.translateSelectedEditors,{args:[0,-xt],checker:_e}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],$.translateSelectedEditors,{args:[0,-bt],checker:_e}],[["ArrowDown","mac+ArrowDown"],$.translateSelectedEditors,{args:[0,xt],checker:_e}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],$.translateSelectedEditors,{args:[0,bt],checker:_e}]]))}destroy(){var $,_e;Ut(this,Er,Lx).call(this),Ut(this,Er,Mx).call(this),this._eventBus._off("editingaction",wt(this,H0)),this._eventBus._off("pagechanging",wt(this,B0)),this._eventBus._off("scalechanging",wt(this,U0)),this._eventBus._off("rotationchanging",wt(this,V0));for(const vt of wt(this,no).values())vt.destroy();wt(this,no).clear(),wt(this,Ws).clear(),wt(this,ip).clear(),Vt(this,So,null),wt(this,bs).clear(),wt(this,zo).destroy(),($=wt(this,am))==null||$.destroy(),(_e=wt(this,xl))==null||_e.hide(),Vt(this,xl,null),wt(this,yl)&&(clearTimeout(wt(this,yl)),Vt(this,yl,null)),wt(this,El)&&(clearTimeout(wt(this,El)),Vt(this,El,null)),Ut(this,Er,NE).call(this)}async mlGuess($){var _e;return((_e=wt(this,dm))==null?void 0:_e.guess($))||null}get hasMLManager(){return!!wt(this,dm)}get hcmFilter(){return shadow(this,"hcmFilter",wt(this,sp)?wt(this,P0).addHCMFilter(wt(this,sp).foreground,wt(this,sp).background):"none")}get direction(){return shadow(this,"direction",getComputedStyle(wt(this,Wl)).direction)}get highlightColors(){return shadow(this,"highlightColors",wt(this,um)?new Map(wt(this,um).split(",").map($=>$.split("=").map(_e=>_e.trim()))):null)}get highlightColorNames(){return shadow(this,"highlightColorNames",this.highlightColors?new Map(Array.from(this.highlightColors,$=>$.reverse())):null)}setMainHighlightColorPicker($){Vt(this,M0,$)}editAltText($){var _e;(_e=wt(this,am))==null||_e.editAltText(this,$)}onPageChanging({pageNumber:$}){Vt(this,cm,$-1)}focusMainContainer(){wt(this,Wl).focus()}findParent($,_e){for(const vt of wt(this,no).values()){const{x:xt,y:bt,width:Et,height:At}=vt.div.getBoundingClientRect();if($>=xt&&$<=xt+Et&&_e>=bt&&_e<=bt+At)return vt}return null}disableUserSelect($=!1){wt(this,G0).classList.toggle("noUserSelect",$)}addShouldRescale($){wt(this,ip).add($)}removeShouldRescale($){wt(this,ip).delete($)}onScaleChanging({scale:$}){this.commitOrRemove(),this.viewParameters.realScale=$*PixelsPerInch.PDF_TO_CSS_UNITS;for(const _e of wt(this,ip))_e.onScaleChanging()}onRotationChanging({pagesRotation:$}){this.commitOrRemove(),this.viewParameters.rotation=$}highlightSelection($=""){const _e=document.getSelection();if(!_e||_e.isCollapsed)return;const{anchorNode:vt,anchorOffset:xt,focusNode:bt,focusOffset:Et}=_e,At=_e.toString(),Ct=Ut(this,Er,fy).call(this,_e).closest(".textLayer"),St=this.getSelectionBoxes(Ct);if(St){_e.empty(),wt(this,io)===AnnotationEditorType.NONE&&(this._eventBus.dispatch("showannotationeditorui",{source:this,mode:AnnotationEditorType.HIGHLIGHT}),this.showAllEditors("highlight",!0,!0));for(const Rt of wt(this,no).values())if(Rt.hasTextLayer(Ct)){Rt.createAndAddNewEditor({x:0,y:0},!1,{methodOfCreation:$,boxes:St,anchorNode:vt,anchorOffset:xt,focusNode:bt,focusOffset:Et,text:At});break}}}addToAnnotationStorage($){!$.isEmpty()&&wt(this,Ul)&&!wt(this,Ul).has($.id)&&wt(this,Ul).setValue($.id,$)}blur(){if(this.isShiftKeyDown=!1,wt(this,wu)&&(Vt(this,wu,!1),Ut(this,Er,py).call(this,"main_toolbar")),!this.hasSelection)return;const{activeElement:$}=document;for(const _e of wt(this,bs))if(_e.div.contains($)){Vt(this,rp,[_e,$]),_e._focusEventsAllowed=!1;break}}focus(){if(!wt(this,rp))return;const[$,_e]=wt(this,rp);Vt(this,rp,null),_e.addEventListener("focusin",()=>{$._focusEventsAllowed=!0},{once:!0}),_e.focus()}addEditListeners(){Ut(this,Er,Fx).call(this),Ut(this,Er,Dx).call(this)}removeEditListeners(){Ut(this,Er,Lx).call(this),Ut(this,Er,Ix).call(this)}copy($){var vt;if($.preventDefault(),(vt=wt(this,So))==null||vt.commitOrRemove(),!this.hasSelection)return;const _e=[];for(const xt of wt(this,bs)){const bt=xt.serialize(!0);bt&&_e.push(bt)}_e.length!==0&&$.clipboardData.setData("application/pdfjs",JSON.stringify(_e))}cut($){this.copy($),this.delete()}paste($){$.preventDefault();const{clipboardData:_e}=$;for(const bt of _e.items)for(const Et of wt(this,zl))if(Et.isHandlingMimeForPasting(bt.type)){Et.paste(bt,this.currentLayer);return}let vt=_e.getData("application/pdfjs");if(!vt)return;try{vt=JSON.parse(vt)}catch(bt){warn(`paste: "${bt.message}".`);return}if(!Array.isArray(vt))return;this.unselectAll();const xt=this.currentLayer;try{const bt=[];for(const _t of vt){const Ct=xt.deserialize(_t);if(!Ct)return;bt.push(Ct)}const Et=()=>{for(const _t of bt)Ut(this,Er,$x).call(this,_t);Ut(this,Er,Nx).call(this,bt)},At=()=>{for(const _t of bt)_t.remove()};this.addCommands({cmd:Et,undo:At,mustExec:!0})}catch(bt){warn(`paste: "${bt.message}".`)}}keydown($){!this.isShiftKeyDown&&$.key==="Shift"&&(this.isShiftKeyDown=!0),wt(this,io)!==AnnotationEditorType.NONE&&!this.isEditorHandlingKeyboard&&om._keyboardManager.exec(this,$)}keyup($){this.isShiftKeyDown&&$.key==="Shift"&&(this.isShiftKeyDown=!1,wt(this,wu)&&(Vt(this,wu,!1),Ut(this,Er,py).call(this,"main_toolbar")))}onEditingAction({name:$}){switch($){case"undo":case"redo":case"delete":case"selectAll":this[$]();break;case"highlightSelection":this.highlightSelection("context_menu");break}}setEditingState($){$?(Ut(this,Er,OE).call(this),Ut(this,Er,Dx).call(this),Ut(this,Er,ho).call(this,{isEditing:wt(this,io)!==AnnotationEditorType.NONE,isEmpty:Ut(this,Er,s0).call(this),hasSomethingToUndo:wt(this,zo).hasSomethingToUndo(),hasSomethingToRedo:wt(this,zo).hasSomethingToRedo(),hasSelectedEditor:!1})):(Ut(this,Er,Mx).call(this),Ut(this,Er,Ix).call(this),Ut(this,Er,ho).call(this,{isEditing:!1}),this.disableUserSelect(!1))}registerEditorTypes($){if(!wt(this,zl)){Vt(this,zl,$);for(const _e of wt(this,zl))Ut(this,Er,bu).call(this,_e.defaultPropertiesToUpdate)}}getId(){return wt(this,tx).id}get currentLayer(){return wt(this,no).get(wt(this,cm))}getLayer($){return wt(this,no).get($)}get currentPageIndex(){return wt(this,cm)}addLayer($){wt(this,no).set($.pageIndex,$),wt(this,_u)?$.enable():$.disable()}removeLayer($){wt(this,no).delete($.pageIndex)}updateMode($,_e=null,vt=!1){if(wt(this,io)!==$){if(Vt(this,io,$),$===AnnotationEditorType.NONE){this.setEditingState(!1),Ut(this,Er,HE).call(this);return}this.setEditingState(!0),Ut(this,Er,jE).call(this),this.unselectAll();for(const xt of wt(this,no).values())xt.updateMode($);if(!_e&&vt){this.addNewEditorFromKeyboard();return}if(_e){for(const xt of wt(this,Ws).values())if(xt.annotationElementId===_e){this.setSelected(xt),xt.enterInEditMode();break}}}}addNewEditorFromKeyboard(){this.currentLayer.canCreateNewEmptyEditor()&&this.currentLayer.addNewEditor()}updateToolbar($){$!==wt(this,io)&&this._eventBus.dispatch("switchannotationeditormode",{source:this,mode:$})}updateParams($,_e){var vt;if(wt(this,zl)){switch($){case AnnotationEditorParamsType.CREATE:this.currentLayer.addNewEditor();return;case AnnotationEditorParamsType.HIGHLIGHT_DEFAULT_COLOR:(vt=wt(this,M0))==null||vt.updateColor(_e);break;case AnnotationEditorParamsType.HIGHLIGHT_SHOW_ALL:this._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:{type:"highlight",action:"toggle_visibility"}}}),(wt(this,F0)||Vt(this,F0,new Map)).set($,_e),this.showAllEditors("highlight",_e);break}for(const xt of wt(this,bs))xt.updateParams($,_e);for(const xt of wt(this,zl))xt.updateDefaultParams($,_e)}}showAllEditors($,_e,vt=!1){var bt;for(const Et of wt(this,Ws).values())Et.editorType===$&&Et.show(_e);(((bt=wt(this,F0))==null?void 0:bt.get(AnnotationEditorParamsType.HIGHLIGHT_SHOW_ALL))??!0)!==_e&&Ut(this,Er,bu).call(this,[[AnnotationEditorParamsType.HIGHLIGHT_SHOW_ALL,_e]])}enableWaiting($=!1){if(wt(this,k0)!==$){Vt(this,k0,$);for(const _e of wt(this,no).values())$?_e.disableClick():_e.enableClick(),_e.div.classList.toggle("waiting",$)}}getEditors($){const _e=[];for(const vt of wt(this,Ws).values())vt.pageIndex===$&&_e.push(vt);return _e}getEditor($){return wt(this,Ws).get($)}addEditor($){wt(this,Ws).set($.id,$)}removeEditor($){var _e;$.div.contains(document.activeElement)&&(wt(this,yl)&&clearTimeout(wt(this,yl)),Vt(this,yl,setTimeout(()=>{this.focusMainContainer(),Vt(this,yl,null)},0))),wt(this,Ws).delete($.id),this.unselect($),(!$.annotationElementId||!wt(this,np).has($.annotationElementId))&&((_e=wt(this,Ul))==null||_e.remove($.id))}addDeletedAnnotationElement($){wt(this,np).add($.annotationElementId),this.addChangedExistingAnnotation($),$.deleted=!0}isDeletedAnnotationElement($){return wt(this,np).has($)}removeDeletedAnnotationElement($){wt(this,np).delete($.annotationElementId),this.removeChangedExistingAnnotation($),$.deleted=!1}setActiveEditor($){wt(this,So)!==$&&(Vt(this,So,$),$&&Ut(this,Er,bu).call(this,$.propertiesToUpdate))}updateUI($){wt(this,Er,BE)===$&&Ut(this,Er,bu).call(this,$.propertiesToUpdate)}toggleSelected($){if(wt(this,bs).has($)){wt(this,bs).delete($),$.unselect(),Ut(this,Er,ho).call(this,{hasSelectedEditor:this.hasSelection});return}wt(this,bs).add($),$.select(),Ut(this,Er,bu).call(this,$.propertiesToUpdate),Ut(this,Er,ho).call(this,{hasSelectedEditor:!0})}setSelected($){for(const _e of wt(this,bs))_e!==$&&_e.unselect();wt(this,bs).clear(),wt(this,bs).add($),$.select(),Ut(this,Er,bu).call(this,$.propertiesToUpdate),Ut(this,Er,ho).call(this,{hasSelectedEditor:!0})}isSelected($){return wt(this,bs).has($)}get firstSelectedEditor(){return wt(this,bs).values().next().value}unselect($){$.unselect(),wt(this,bs).delete($),Ut(this,Er,ho).call(this,{hasSelectedEditor:this.hasSelection})}get hasSelection(){return wt(this,bs).size!==0}get isEnterHandled(){return wt(this,bs).size===1&&this.firstSelectedEditor.isEnterHandled}undo(){wt(this,zo).undo(),Ut(this,Er,ho).call(this,{hasSomethingToUndo:wt(this,zo).hasSomethingToUndo(),hasSomethingToRedo:!0,isEmpty:Ut(this,Er,s0).call(this)})}redo(){wt(this,zo).redo(),Ut(this,Er,ho).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:wt(this,zo).hasSomethingToRedo(),isEmpty:Ut(this,Er,s0).call(this)})}addCommands($){wt(this,zo).add($),Ut(this,Er,ho).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:!1,isEmpty:Ut(this,Er,s0).call(this)})}delete(){if(this.commitOrRemove(),!this.hasSelection)return;const $=[...wt(this,bs)],_e=()=>{for(const xt of $)xt.remove()},vt=()=>{for(const xt of $)Ut(this,Er,$x).call(this,xt)};this.addCommands({cmd:_e,undo:vt,mustExec:!0})}commitOrRemove(){var $;($=wt(this,So))==null||$.commitOrRemove()}hasSomethingToControl(){return wt(this,So)||this.hasSelection}selectAll(){for(const $ of wt(this,bs))$.commit();Ut(this,Er,Nx).call(this,wt(this,Ws).values())}unselectAll(){if(!(wt(this,So)&&(wt(this,So).commitOrRemove(),wt(this,io)!==AnnotationEditorType.NONE))&&this.hasSelection){for(const $ of wt(this,bs))$.unselect();wt(this,bs).clear(),Ut(this,Er,ho).call(this,{hasSelectedEditor:!1})}}translateSelectedEditors($,_e,vt=!1){if(vt||this.commitOrRemove(),!this.hasSelection)return;wt(this,Su)[0]+=$,wt(this,Su)[1]+=_e;const[xt,bt]=wt(this,Su),Et=[...wt(this,bs)],At=1e3;wt(this,El)&&clearTimeout(wt(this,El)),Vt(this,El,setTimeout(()=>{Vt(this,El,null),wt(this,Su)[0]=wt(this,Su)[1]=0,this.addCommands({cmd:()=>{for(const _t of Et)wt(this,Ws).has(_t.id)&&_t.translateInPage(xt,bt)},undo:()=>{for(const _t of Et)wt(this,Ws).has(_t.id)&&_t.translateInPage(-xt,-bt)},mustExec:!1})},At));for(const _t of Et)_t.translateInPage($,_e)}setUpDragSession(){if(this.hasSelection){this.disableUserSelect(!0),Vt(this,$a,new Map);for(const $ of wt(this,bs))wt(this,$a).set($,{savedX:$.x,savedY:$.y,savedPageIndex:$.pageIndex,newX:0,newY:0,newPageIndex:-1})}}endDragSession(){if(!wt(this,$a))return!1;this.disableUserSelect(!1);const $=wt(this,$a);Vt(this,$a,null);let _e=!1;for(const[{x:xt,y:bt,pageIndex:Et},At]of $)At.newX=xt,At.newY=bt,At.newPageIndex=Et,_e||(_e=xt!==At.savedX||bt!==At.savedY||Et!==At.savedPageIndex);if(!_e)return!1;const vt=(xt,bt,Et,At)=>{if(wt(this,Ws).has(xt.id)){const _t=wt(this,no).get(At);_t?xt._setParentAndPosition(_t,bt,Et):(xt.pageIndex=At,xt.x=bt,xt.y=Et)}};return this.addCommands({cmd:()=>{for(const[xt,{newX:bt,newY:Et,newPageIndex:At}]of $)vt(xt,bt,Et,At)},undo:()=>{for(const[xt,{savedX:bt,savedY:Et,savedPageIndex:At}]of $)vt(xt,bt,Et,At)},mustExec:!0}),!0}dragSelectedEditors($,_e){if(wt(this,$a))for(const vt of wt(this,$a).keys())vt.drag($,_e)}rebuild($){if($.parent===null){const _e=this.getLayer($.pageIndex);_e?(_e.changeParent($),_e.addOrRebuild($)):(this.addEditor($),this.addToAnnotationStorage($),$.rebuild())}else $.parent.addOrRebuild($)}get isEditorHandlingKeyboard(){var $;return(($=this.getActive())==null?void 0:$.shouldGetKeyboardEvents())||wt(this,bs).size===1&&this.firstSelectedEditor.shouldGetKeyboardEvents()}isActive($){return wt(this,So)===$}getActive(){return wt(this,So)}getMode(){return wt(this,io)}get imageManager(){return shadow(this,"imageManager",new ImageManager)}getSelectionBoxes($){if(!$)return null;const _e=document.getSelection();for(let Ct=0,St=_e.rangeCount;Ct<St;Ct++)if(!$.contains(_e.getRangeAt(Ct).commonAncestorContainer))return null;const{x:vt,y:xt,width:bt,height:Et}=$.getBoundingClientRect();let At;switch($.getAttribute("data-main-rotation")){case"90":At=(Ct,St,Rt,Pt)=>({x:(St-xt)/Et,y:1-(Ct+Rt-vt)/bt,width:Pt/Et,height:Rt/bt});break;case"180":At=(Ct,St,Rt,Pt)=>({x:1-(Ct+Rt-vt)/bt,y:1-(St+Pt-xt)/Et,width:Rt/bt,height:Pt/Et});break;case"270":At=(Ct,St,Rt,Pt)=>({x:1-(St+Pt-xt)/Et,y:(Ct-vt)/bt,width:Pt/Et,height:Rt/bt});break;default:At=(Ct,St,Rt,Pt)=>({x:(Ct-vt)/bt,y:(St-xt)/Et,width:Rt/bt,height:Pt/Et});break}const _t=[];for(let Ct=0,St=_e.rangeCount;Ct<St;Ct++){const Rt=_e.getRangeAt(Ct);if(!Rt.collapsed)for(const{x:Pt,y:kt,width:Mt,height:Lt}of Rt.getClientRects())Mt===0||Lt===0||_t.push(At(Pt,kt,Mt,Lt))}return _t.length===0?null:_t}addChangedExistingAnnotation({annotationElementId:$,id:_e}){(wt(this,lm)||Vt(this,lm,new Map)).set($,_e)}removeChangedExistingAnnotation({annotationElementId:$}){var _e;(_e=wt(this,lm))==null||_e.delete($)}renderAnnotationElement($){var xt;const _e=(xt=wt(this,lm))==null?void 0:xt.get($.data.id);if(!_e)return;const vt=wt(this,Ul).getRawValue(_e);vt&&(wt(this,io)===AnnotationEditorType.NONE&&!vt.hasBeenModified||vt.renderAnnotationElement($))}};So=new WeakMap,Ws=new WeakMap,no=new WeakMap,am=new WeakMap,Ul=new WeakMap,lm=new WeakMap,zo=new WeakMap,cm=new WeakMap,np=new WeakMap,$a=new WeakMap,zl=new WeakMap,ip=new WeakMap,T0=new WeakMap,P0=new WeakMap,yl=new WeakMap,um=new WeakMap,wu=new WeakMap,xl=new WeakMap,tx=new WeakMap,_u=new WeakMap,k0=new WeakMap,rp=new WeakMap,M0=new WeakMap,dm=new WeakMap,io=new WeakMap,bs=new WeakMap,Vl=new WeakMap,sp=new WeakMap,F0=new WeakMap,L0=new WeakMap,D0=new WeakMap,I0=new WeakMap,$0=new WeakMap,N0=new WeakMap,O0=new WeakMap,j0=new WeakMap,H0=new WeakMap,B0=new WeakMap,U0=new WeakMap,z0=new WeakMap,V0=new WeakMap,W0=new WeakMap,Su=new WeakMap,El=new WeakMap,Wl=new WeakMap,G0=new WeakMap,Er=new WeakSet,fy=function({anchorNode:$}){return $.nodeType===Node.TEXT_NODE?$.parentElement:$},DE=function(){const $=document.getSelection();if(!$||$.isCollapsed)return;const vt=Ut(this,Er,fy).call(this,$).closest(".textLayer"),xt=this.getSelectionBoxes(vt);xt&&(wt(this,xl)||Vt(this,xl,new HighlightToolbar(this)),wt(this,xl).show(vt,xt,this.direction==="ltr"))},IE=function(){var bt,Et,At;const $=document.getSelection();if(!$||$.isCollapsed){wt(this,Vl)&&((bt=wt(this,xl))==null||bt.hide(),Vt(this,Vl,null),Ut(this,Er,ho).call(this,{hasSelectedText:!1}));return}const{anchorNode:_e}=$;if(_e===wt(this,Vl))return;if(!Ut(this,Er,fy).call(this,$).closest(".textLayer")){wt(this,Vl)&&((Et=wt(this,xl))==null||Et.hide(),Vt(this,Vl,null),Ut(this,Er,ho).call(this,{hasSelectedText:!1}));return}if((At=wt(this,xl))==null||At.hide(),Vt(this,Vl,_e),Ut(this,Er,ho).call(this,{hasSelectedText:!0}),!(wt(this,io)!==AnnotationEditorType.HIGHLIGHT&&wt(this,io)!==AnnotationEditorType.NONE)&&(wt(this,io)===AnnotationEditorType.HIGHLIGHT&&this.showAllEditors("highlight",!0,!0),Vt(this,wu,this.isShiftKeyDown),!this.isShiftKeyDown)){const _t=Ct=>{Ct.type==="pointerup"&&Ct.button!==0||(window.removeEventListener("pointerup",_t),window.removeEventListener("blur",_t),Ct.type==="pointerup"&&Ut(this,Er,py).call(this,"main_toolbar"))};window.addEventListener("pointerup",_t),window.addEventListener("blur",_t)}},py=function($=""){wt(this,io)===AnnotationEditorType.HIGHLIGHT?this.highlightSelection($):wt(this,T0)&&Ut(this,Er,DE).call(this)},$E=function(){document.addEventListener("selectionchange",wt(this,z0))},NE=function(){document.removeEventListener("selectionchange",wt(this,z0))},OE=function(){window.addEventListener("focus",wt(this,D0)),window.addEventListener("blur",wt(this,L0))},Mx=function(){window.removeEventListener("focus",wt(this,D0)),window.removeEventListener("blur",wt(this,L0))},Fx=function(){window.addEventListener("keydown",wt(this,O0)),window.addEventListener("keyup",wt(this,j0))},Lx=function(){window.removeEventListener("keydown",wt(this,O0)),window.removeEventListener("keyup",wt(this,j0))},Dx=function(){document.addEventListener("copy",wt(this,I0)),document.addEventListener("cut",wt(this,$0)),document.addEventListener("paste",wt(this,N0))},Ix=function(){document.removeEventListener("copy",wt(this,I0)),document.removeEventListener("cut",wt(this,$0)),document.removeEventListener("paste",wt(this,N0))},ho=function($){Object.entries($).some(([vt,xt])=>wt(this,W0)[vt]!==xt)&&(this._eventBus.dispatch("annotationeditorstateschanged",{source:this,details:Object.assign(wt(this,W0),$)}),wt(this,io)===AnnotationEditorType.HIGHLIGHT&&$.hasSelectedEditor===!1&&Ut(this,Er,bu).call(this,[[AnnotationEditorParamsType.HIGHLIGHT_FREE,!0]]))},bu=function($){this._eventBus.dispatch("annotationeditorparamschanged",{source:this,details:$})},jE=function(){if(!wt(this,_u)){Vt(this,_u,!0);for(const $ of wt(this,no).values())$.enable();for(const $ of wt(this,Ws).values())$.enable()}},HE=function(){if(this.unselectAll(),wt(this,_u)){Vt(this,_u,!1);for(const $ of wt(this,no).values())$.disable();for(const $ of wt(this,Ws).values())$.disable()}},$x=function($){const _e=wt(this,no).get($.pageIndex);_e?_e.addOrRebuild($):(this.addEditor($),this.addToAnnotationStorage($))},BE=function(){let $=null;for($ of wt(this,bs));return $},s0=function(){if(wt(this,Ws).size===0)return!0;if(wt(this,Ws).size===1)for(const $ of wt(this,Ws).values())return $.isEmpty();return!1},Nx=function($){for(const _e of wt(this,bs))_e.unselect();wt(this,bs).clear();for(const _e of $)_e.isEmpty()||(wt(this,bs).add(_e),_e.select());Ut(this,Er,ho).call(this,{hasSelectedEditor:this.hasSelection})},_r(om,"TRANSLATE_SMALL",1),_r(om,"TRANSLATE_BIG",10);let AnnotationEditorUIManager=om;var Gl,Xl,Vo,Kl,Wo,hm,Yl,X0,Ox;const Nl=class Nl{constructor($){Gt(this,X0);Gt(this,Gl,"");Gt(this,Xl,!1);Gt(this,Vo,null);Gt(this,Kl,null);Gt(this,Wo,null);Gt(this,hm,!1);Gt(this,Yl,null);Vt(this,Yl,$)}static initialize($){Nl._l10nPromise||(Nl._l10nPromise=$)}async render(){const $=Vt(this,Vo,document.createElement("button"));$.className="altText";const _e=await Nl._l10nPromise.get("pdfjs-editor-alt-text-button-label");$.textContent=_e,$.setAttribute("aria-label",_e),$.tabIndex="0",$.addEventListener("contextmenu",noContextMenu),$.addEventListener("pointerdown",xt=>xt.stopPropagation());const vt=xt=>{xt.preventDefault(),wt(this,Yl)._uiManager.editAltText(wt(this,Yl))};return $.addEventListener("click",vt,{capture:!0}),$.addEventListener("keydown",xt=>{xt.target===$&&xt.key==="Enter"&&(Vt(this,hm,!0),vt(xt))}),await Ut(this,X0,Ox).call(this),$}finish(){wt(this,Vo)&&(wt(this,Vo).focus({focusVisible:wt(this,hm)}),Vt(this,hm,!1))}isEmpty(){return!wt(this,Gl)&&!wt(this,Xl)}get data(){return{altText:wt(this,Gl),decorative:wt(this,Xl)}}set data({altText:$,decorative:_e}){wt(this,Gl)===$&&wt(this,Xl)===_e||(Vt(this,Gl,$),Vt(this,Xl,_e),Ut(this,X0,Ox).call(this))}toggle($=!1){wt(this,Vo)&&(!$&&wt(this,Wo)&&(clearTimeout(wt(this,Wo)),Vt(this,Wo,null)),wt(this,Vo).disabled=!$)}destroy(){var $;($=wt(this,Vo))==null||$.remove(),Vt(this,Vo,null),Vt(this,Kl,null)}};Gl=new WeakMap,Xl=new WeakMap,Vo=new WeakMap,Kl=new WeakMap,Wo=new WeakMap,hm=new WeakMap,Yl=new WeakMap,X0=new WeakSet,Ox=async function(){var xt;const $=wt(this,Vo);if(!$)return;if(!wt(this,Gl)&&!wt(this,Xl)){$.classList.remove("done"),(xt=wt(this,Kl))==null||xt.remove();return}$.classList.add("done"),Nl._l10nPromise.get("pdfjs-editor-alt-text-edit-button-label").then(bt=>{$.setAttribute("aria-label",bt)});let _e=wt(this,Kl);if(!_e){Vt(this,Kl,_e=document.createElement("span")),_e.className="tooltip",_e.setAttribute("role","tooltip");const bt=_e.id=`alt-text-tooltip-${wt(this,Yl).id}`;$.setAttribute("aria-describedby",bt);const Et=100;$.addEventListener("mouseenter",()=>{Vt(this,Wo,setTimeout(()=>{Vt(this,Wo,null),wt(this,Kl).classList.add("show"),wt(this,Yl)._reportTelemetry({action:"alt_text_tooltip"})},Et))}),$.addEventListener("mouseleave",()=>{var At;wt(this,Wo)&&(clearTimeout(wt(this,Wo)),Vt(this,Wo,null)),(At=wt(this,Kl))==null||At.classList.remove("show")})}_e.innerText=wt(this,Xl)?await Nl._l10nPromise.get("pdfjs-editor-alt-text-decorative-tooltip"):wt(this,Gl),_e.parentNode||$.append(_e);const vt=wt(this,Yl).getImageForAltText();vt==null||vt.setAttribute("aria-describedby",_e.id)},_r(Nl,"_l10nPromise",null);let AltText=Nl;var Go,fo,fm,op,ro,ap,pm,gm,uo,q0,lp,Cu,K0,cp,Zl,Al,mm,vm,Do,Y0,nx,ss,jx,Z0,Hx,Bx,UE,zE,Ux,zx,Vx,VE,WE,GE,XE,Wx,o0;const Rs=class Rs{constructor($){Gt(this,ss);Gt(this,Go,null);Gt(this,fo,null);Gt(this,fm,!1);Gt(this,op,!1);Gt(this,ro,null);Gt(this,ap,null);Gt(this,pm,this.focusin.bind(this));Gt(this,gm,this.focusout.bind(this));Gt(this,uo,null);Gt(this,q0,"");Gt(this,lp,!1);Gt(this,Cu,null);Gt(this,K0,!1);Gt(this,cp,!1);Gt(this,Zl,!1);Gt(this,Al,null);Gt(this,mm,0);Gt(this,vm,0);Gt(this,Do,null);_r(this,"_initialOptions",Object.create(null));_r(this,"_isVisible",!0);_r(this,"_uiManager",null);_r(this,"_focusEventsAllowed",!0);_r(this,"_l10nPromise",null);Gt(this,Y0,!1);Gt(this,nx,Rs._zIndex++);this.constructor===Rs&&unreachable("Cannot initialize AnnotationEditor."),this.parent=$.parent,this.id=$.id,this.width=this.height=null,this.pageIndex=$.parent.pageIndex,this.name=$.name,this.div=null,this._uiManager=$.uiManager,this.annotationElementId=null,this._willKeepAspectRatio=!1,this._initialOptions.isCentered=$.isCentered,this._structTreeParentId=null;const{rotation:_e,rawDims:{pageWidth:vt,pageHeight:xt,pageX:bt,pageY:Et}}=this.parent.viewport;this.rotation=_e,this.pageRotation=(360+_e-this._uiManager.viewParameters.rotation)%360,this.pageDimensions=[vt,xt],this.pageTranslation=[bt,Et];const[At,_t]=this.parentDimensions;this.x=$.x/At,this.y=$.y/_t,this.isAttachedToDOM=!1,this.deleted=!1}static get _resizerKeyboardManager(){const $=Rs.prototype._resizeWithKeyboard,_e=AnnotationEditorUIManager.TRANSLATE_SMALL,vt=AnnotationEditorUIManager.TRANSLATE_BIG;return shadow(this,"_resizerKeyboardManager",new KeyboardManager([[["ArrowLeft","mac+ArrowLeft"],$,{args:[-_e,0]}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],$,{args:[-vt,0]}],[["ArrowRight","mac+ArrowRight"],$,{args:[_e,0]}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],$,{args:[vt,0]}],[["ArrowUp","mac+ArrowUp"],$,{args:[0,-_e]}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],$,{args:[0,-vt]}],[["ArrowDown","mac+ArrowDown"],$,{args:[0,_e]}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],$,{args:[0,vt]}],[["Escape","mac+Escape"],Rs.prototype._stopResizingWithKeyboard]]))}get editorType(){return Object.getPrototypeOf(this).constructor._type}static get _defaultLineColor(){return shadow(this,"_defaultLineColor",this._colorManager.getHexCode("CanvasText"))}static deleteAnnotationElement($){const _e=new FakeEditor({id:$.parent.getNextId(),parent:$.parent,uiManager:$._uiManager});_e.annotationElementId=$.annotationElementId,_e.deleted=!0,_e._uiManager.addToAnnotationStorage(_e)}static initialize($,_e,vt){if(Rs._l10nPromise||(Rs._l10nPromise=new Map(["pdfjs-editor-alt-text-button-label","pdfjs-editor-alt-text-edit-button-label","pdfjs-editor-alt-text-decorative-tooltip","pdfjs-editor-resizer-label-topLeft","pdfjs-editor-resizer-label-topMiddle","pdfjs-editor-resizer-label-topRight","pdfjs-editor-resizer-label-middleRight","pdfjs-editor-resizer-label-bottomRight","pdfjs-editor-resizer-label-bottomMiddle","pdfjs-editor-resizer-label-bottomLeft","pdfjs-editor-resizer-label-middleLeft"].map(bt=>[bt,$.get(bt.replaceAll(/([A-Z])/g,Et=>`-${Et.toLowerCase()}`))]))),vt!=null&&vt.strings)for(const bt of vt.strings)Rs._l10nPromise.set(bt,$.get(bt));if(Rs._borderLineWidth!==-1)return;const xt=getComputedStyle(document.documentElement);Rs._borderLineWidth=parseFloat(xt.getPropertyValue("--outline-width"))||0}static updateDefaultParams($,_e){}static get defaultPropertiesToUpdate(){return[]}static isHandlingMimeForPasting($){return!1}static paste($,_e){unreachable("Not implemented")}get propertiesToUpdate(){return[]}get _isDraggable(){return wt(this,Y0)}set _isDraggable($){var _e;Vt(this,Y0,$),(_e=this.div)==null||_e.classList.toggle("draggable",$)}get isEnterHandled(){return!0}center(){const[$,_e]=this.pageDimensions;switch(this.parentRotation){case 90:this.x-=this.height*_e/($*2),this.y+=this.width*$/(_e*2);break;case 180:this.x+=this.width/2,this.y+=this.height/2;break;case 270:this.x+=this.height*_e/($*2),this.y-=this.width*$/(_e*2);break;default:this.x-=this.width/2,this.y-=this.height/2;break}this.fixAndSetPosition()}addCommands($){this._uiManager.addCommands($)}get currentLayer(){return this._uiManager.currentLayer}setInBackground(){this.div.style.zIndex=0}setInForeground(){this.div.style.zIndex=wt(this,nx)}setParent($){$!==null?(this.pageIndex=$.pageIndex,this.pageDimensions=$.pageDimensions):Ut(this,ss,o0).call(this),this.parent=$}focusin($){this._focusEventsAllowed&&(wt(this,lp)?Vt(this,lp,!1):this.parent.setSelected(this))}focusout($){var vt;if(!this._focusEventsAllowed||!this.isAttachedToDOM)return;const _e=$.relatedTarget;_e!=null&&_e.closest(`#${this.id}`)||($.preventDefault(),(vt=this.parent)!=null&&vt.isMultipleSelection||this.commitOrRemove())}commitOrRemove(){this.isEmpty()?this.remove():this.commit()}commit(){this.addToAnnotationStorage()}addToAnnotationStorage(){this._uiManager.addToAnnotationStorage(this)}setAt($,_e,vt,xt){const[bt,Et]=this.parentDimensions;[vt,xt]=this.screenToPageTranslation(vt,xt),this.x=($+vt)/bt,this.y=(_e+xt)/Et,this.fixAndSetPosition()}translate($,_e){Ut(this,ss,jx).call(this,this.parentDimensions,$,_e)}translateInPage($,_e){wt(this,Cu)||Vt(this,Cu,[this.x,this.y]),Ut(this,ss,jx).call(this,this.pageDimensions,$,_e),this.div.scrollIntoView({block:"nearest"})}drag($,_e){wt(this,Cu)||Vt(this,Cu,[this.x,this.y]);const[vt,xt]=this.parentDimensions;if(this.x+=$/vt,this.y+=_e/xt,this.parent&&(this.x<0||this.x>1||this.y<0||this.y>1)){const{x:Ct,y:St}=this.div.getBoundingClientRect();this.parent.findNewParent(this,Ct,St)&&(this.x-=Math.floor(this.x),this.y-=Math.floor(this.y))}let{x:bt,y:Et}=this;const[At,_t]=this.getBaseTranslation();bt+=At,Et+=_t,this.div.style.left=`${(100*bt).toFixed(2)}%`,this.div.style.top=`${(100*Et).toFixed(2)}%`,this.div.scrollIntoView({block:"nearest"})}get _hasBeenMoved(){return!!wt(this,Cu)&&(wt(this,Cu)[0]!==this.x||wt(this,Cu)[1]!==this.y)}getBaseTranslation(){const[$,_e]=this.parentDimensions,{_borderLineWidth:vt}=Rs,xt=vt/$,bt=vt/_e;switch(this.rotation){case 90:return[-xt,bt];case 180:return[xt,bt];case 270:return[xt,-bt];default:return[-xt,-bt]}}get _mustFixPosition(){return!0}fixAndSetPosition($=this.rotation){const[_e,vt]=this.pageDimensions;let{x:xt,y:bt,width:Et,height:At}=this;if(Et*=_e,At*=vt,xt*=_e,bt*=vt,this._mustFixPosition)switch($){case 0:xt=Math.max(0,Math.min(_e-Et,xt)),bt=Math.max(0,Math.min(vt-At,bt));break;case 90:xt=Math.max(0,Math.min(_e-At,xt)),bt=Math.min(vt,Math.max(Et,bt));break;case 180:xt=Math.min(_e,Math.max(Et,xt)),bt=Math.min(vt,Math.max(At,bt));break;case 270:xt=Math.min(_e,Math.max(At,xt)),bt=Math.max(0,Math.min(vt-Et,bt));break}this.x=xt/=_e,this.y=bt/=vt;const[_t,Ct]=this.getBaseTranslation();xt+=_t,bt+=Ct;const{style:St}=this.div;St.left=`${(100*xt).toFixed(2)}%`,St.top=`${(100*bt).toFixed(2)}%`,this.moveInDOM()}screenToPageTranslation($,_e){var vt;return Ut(vt=Rs,Z0,Hx).call(vt,$,_e,this.parentRotation)}pageTranslationToScreen($,_e){var vt;return Ut(vt=Rs,Z0,Hx).call(vt,$,_e,360-this.parentRotation)}get parentScale(){return this._uiManager.viewParameters.realScale}get parentRotation(){return(this._uiManager.viewParameters.rotation+this.pageRotation)%360}get parentDimensions(){const{parentScale:$,pageDimensions:[_e,vt]}=this,xt=_e*$,bt=vt*$;return util_FeatureTest.isCSSRoundSupported?[Math.round(xt),Math.round(bt)]:[xt,bt]}setDims($,_e){const[vt,xt]=this.parentDimensions;this.div.style.width=`${(100*$/vt).toFixed(2)}%`,wt(this,op)||(this.div.style.height=`${(100*_e/xt).toFixed(2)}%`)}fixDims(){const{style:$}=this.div,{height:_e,width:vt}=$,xt=vt.endsWith("%"),bt=!wt(this,op)&&_e.endsWith("%");if(xt&&bt)return;const[Et,At]=this.parentDimensions;xt||($.width=`${(100*parseFloat(vt)/Et).toFixed(2)}%`),!wt(this,op)&&!bt&&($.height=`${(100*parseFloat(_e)/At).toFixed(2)}%`)}getInitialTranslation(){return[0,0]}altTextFinish(){var $;($=wt(this,fo))==null||$.finish()}async addEditToolbar(){return wt(this,uo)||wt(this,cp)?wt(this,uo):(Vt(this,uo,new EditorToolbar(this)),this.div.append(wt(this,uo).render()),wt(this,fo)&&wt(this,uo).addAltTextButton(await wt(this,fo).render()),wt(this,uo))}removeEditToolbar(){var $;wt(this,uo)&&(wt(this,uo).remove(),Vt(this,uo,null),($=wt(this,fo))==null||$.destroy())}getClientDimensions(){return this.div.getBoundingClientRect()}async addAltTextButton(){wt(this,fo)||(AltText.initialize(Rs._l10nPromise),Vt(this,fo,new AltText(this)),await this.addEditToolbar())}get altTextData(){var $;return($=wt(this,fo))==null?void 0:$.data}set altTextData($){wt(this,fo)&&(wt(this,fo).data=$)}hasAltText(){var $;return!(($=wt(this,fo))!=null&&$.isEmpty())}render(){this.div=document.createElement("div"),this.div.setAttribute("data-editor-rotation",(360-this.rotation)%360),this.div.className=this.name,this.div.setAttribute("id",this.id),this.div.tabIndex=wt(this,fm)?-1:0,this._isVisible||this.div.classList.add("hidden"),this.setInForeground(),this.div.addEventListener("focusin",wt(this,pm)),this.div.addEventListener("focusout",wt(this,gm));const[$,_e]=this.parentDimensions;this.parentRotation%180!==0&&(this.div.style.maxWidth=`${(100*_e/$).toFixed(2)}%`,this.div.style.maxHeight=`${(100*$/_e).toFixed(2)}%`);const[vt,xt]=this.getInitialTranslation();return this.translate(vt,xt),bindEvents(this,this.div,["pointerdown"]),this.div}pointerdown($){const{isMac:_e}=util_FeatureTest.platform;if($.button!==0||$.ctrlKey&&_e){$.preventDefault();return}if(Vt(this,lp,!0),this._isDraggable){Ut(this,ss,VE).call(this,$);return}Ut(this,ss,Vx).call(this,$)}moveInDOM(){wt(this,Al)&&clearTimeout(wt(this,Al)),Vt(this,Al,setTimeout(()=>{var $;Vt(this,Al,null),($=this.parent)==null||$.moveEditorInDOM(this)},0))}_setParentAndPosition($,_e,vt){$.changeParent(this),this.x=_e,this.y=vt,this.fixAndSetPosition()}getRect($,_e,vt=this.rotation){const xt=this.parentScale,[bt,Et]=this.pageDimensions,[At,_t]=this.pageTranslation,Ct=$/xt,St=_e/xt,Rt=this.x*bt,Pt=this.y*Et,kt=this.width*bt,Mt=this.height*Et;switch(vt){case 0:return[Rt+Ct+At,Et-Pt-St-Mt+_t,Rt+Ct+kt+At,Et-Pt-St+_t];case 90:return[Rt+St+At,Et-Pt+Ct+_t,Rt+St+Mt+At,Et-Pt+Ct+kt+_t];case 180:return[Rt-Ct-kt+At,Et-Pt+St+_t,Rt-Ct+At,Et-Pt+St+Mt+_t];case 270:return[Rt-St-Mt+At,Et-Pt-Ct-kt+_t,Rt-St+At,Et-Pt-Ct+_t];default:throw new Error("Invalid rotation")}}getRectInCurrentCoords($,_e){const[vt,xt,bt,Et]=$,At=bt-vt,_t=Et-xt;switch(this.rotation){case 0:return[vt,_e-Et,At,_t];case 90:return[vt,_e-xt,_t,At];case 180:return[bt,_e-xt,At,_t];case 270:return[bt,_e-Et,_t,At];default:throw new Error("Invalid rotation")}}onceAdded(){}isEmpty(){return!1}enableEditMode(){Vt(this,cp,!0)}disableEditMode(){Vt(this,cp,!1)}isInEditMode(){return wt(this,cp)}shouldGetKeyboardEvents(){return wt(this,Zl)}needsToBeRebuilt(){return this.div&&!this.isAttachedToDOM}rebuild(){var $,_e;($=this.div)==null||$.addEventListener("focusin",wt(this,pm)),(_e=this.div)==null||_e.addEventListener("focusout",wt(this,gm))}rotate($){}serialize($=!1,_e=null){unreachable("An editor must be serializable")}static deserialize($,_e,vt){const xt=new this.prototype.constructor({parent:_e,id:_e.getNextId(),uiManager:vt});xt.rotation=$.rotation;const[bt,Et]=xt.pageDimensions,[At,_t,Ct,St]=xt.getRectInCurrentCoords($.rect,Et);return xt.x=At/bt,xt.y=_t/Et,xt.width=Ct/bt,xt.height=St/Et,xt}get hasBeenModified(){return!!this.annotationElementId&&(this.deleted||this.serialize()!==null)}remove(){if(this.div.removeEventListener("focusin",wt(this,pm)),this.div.removeEventListener("focusout",wt(this,gm)),this.isEmpty()||this.commit(),this.parent?this.parent.remove(this):this._uiManager.removeEditor(this),wt(this,Al)&&(clearTimeout(wt(this,Al)),Vt(this,Al,null)),Ut(this,ss,o0).call(this),this.removeEditToolbar(),wt(this,Do)){for(const $ of wt(this,Do).values())clearTimeout($);Vt(this,Do,null)}this.parent=null}get isResizable(){return!1}makeResizable(){this.isResizable&&(Ut(this,ss,UE).call(this),wt(this,ro).classList.remove("hidden"),bindEvents(this,this.div,["keydown"]))}get toolbarPosition(){return null}keydown($){if(!this.isResizable||$.target!==this.div||$.key!=="Enter")return;this._uiManager.setSelected(this),Vt(this,ap,{savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height});const _e=wt(this,ro).children;if(!wt(this,Go)){Vt(this,Go,Array.from(_e));const Et=Ut(this,ss,WE).bind(this),At=Ut(this,ss,GE).bind(this);for(const _t of wt(this,Go)){const Ct=_t.getAttribute("data-resizer-name");_t.setAttribute("role","spinbutton"),_t.addEventListener("keydown",Et),_t.addEventListener("blur",At),_t.addEventListener("focus",Ut(this,ss,XE).bind(this,Ct)),Rs._l10nPromise.get(`pdfjs-editor-resizer-label-${Ct}`).then(St=>_t.setAttribute("aria-label",St))}}const vt=wt(this,Go)[0];let xt=0;for(const Et of _e){if(Et===vt)break;xt++}const bt=(360-this.rotation+this.parentRotation)%360/90*(wt(this,Go).length/4);if(bt!==xt){if(bt<xt)for(let At=0;At<xt-bt;At++)wt(this,ro).append(wt(this,ro).firstChild);else if(bt>xt)for(let At=0;At<bt-xt;At++)wt(this,ro).firstChild.before(wt(this,ro).lastChild);let Et=0;for(const At of _e){const Ct=wt(this,Go)[Et++].getAttribute("data-resizer-name");Rs._l10nPromise.get(`pdfjs-editor-resizer-label-${Ct}`).then(St=>At.setAttribute("aria-label",St))}}Ut(this,ss,Wx).call(this,0),Vt(this,Zl,!0),wt(this,ro).firstChild.focus({focusVisible:!0}),$.preventDefault(),$.stopImmediatePropagation()}_resizeWithKeyboard($,_e){wt(this,Zl)&&Ut(this,ss,zx).call(this,wt(this,q0),{movementX:$,movementY:_e})}_stopResizingWithKeyboard(){Ut(this,ss,o0).call(this),this.div.focus()}select(){var $,_e;if(this.makeResizable(),($=this.div)==null||$.classList.add("selectedEditor"),!wt(this,uo)){this.addEditToolbar().then(()=>{var vt,xt;(vt=this.div)!=null&&vt.classList.contains("selectedEditor")&&((xt=wt(this,uo))==null||xt.show())});return}(_e=wt(this,uo))==null||_e.show()}unselect(){var $,_e,vt,xt;($=wt(this,ro))==null||$.classList.add("hidden"),(_e=this.div)==null||_e.classList.remove("selectedEditor"),(vt=this.div)!=null&&vt.contains(document.activeElement)&&this._uiManager.currentLayer.div.focus({preventScroll:!0}),(xt=wt(this,uo))==null||xt.hide()}updateParams($,_e){}disableEditing(){}enableEditing(){}enterInEditMode(){}getImageForAltText(){return null}get contentDiv(){return this.div}get isEditing(){return wt(this,K0)}set isEditing($){Vt(this,K0,$),this.parent&&($?(this.parent.setSelected(this),this.parent.setActiveEditor(this)):this.parent.setActiveEditor(null))}setAspectRatio($,_e){Vt(this,op,!0);const vt=$/_e,{style:xt}=this.div;xt.aspectRatio=vt,xt.height="auto"}static get MIN_SIZE(){return 16}static canCreateNewEmptyEditor(){return!0}get telemetryInitialData(){return{action:"added"}}get telemetryFinalData(){return null}_reportTelemetry($,_e=!1){if(_e){wt(this,Do)||Vt(this,Do,new Map);const{action:vt}=$;let xt=wt(this,Do).get(vt);xt&&clearTimeout(xt),xt=setTimeout(()=>{this._reportTelemetry($),wt(this,Do).delete(vt),wt(this,Do).size===0&&Vt(this,Do,null)},Rs._telemetryTimeout),wt(this,Do).set(vt,xt);return}$.type||($.type=this.editorType),this._uiManager._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:$}})}show($=this._isVisible){this.div.classList.toggle("hidden",!$),this._isVisible=$}enable(){this.div&&(this.div.tabIndex=0),Vt(this,fm,!1)}disable(){this.div&&(this.div.tabIndex=-1),Vt(this,fm,!0)}renderAnnotationElement($){let _e=$.container.querySelector(".annotationContent");if(!_e)_e=document.createElement("div"),_e.classList.add("annotationContent",this.editorType),$.container.prepend(_e);else if(_e.nodeName==="CANVAS"){const vt=_e;_e=document.createElement("div"),_e.classList.add("annotationContent",this.editorType),vt.before(_e)}return _e}resetAnnotationElement($){const{firstChild:_e}=$.container;_e.nodeName==="DIV"&&_e.classList.contains("annotationContent")&&_e.remove()}};Go=new WeakMap,fo=new WeakMap,fm=new WeakMap,op=new WeakMap,ro=new WeakMap,ap=new WeakMap,pm=new WeakMap,gm=new WeakMap,uo=new WeakMap,q0=new WeakMap,lp=new WeakMap,Cu=new WeakMap,K0=new WeakMap,cp=new WeakMap,Zl=new WeakMap,Al=new WeakMap,mm=new WeakMap,vm=new WeakMap,Do=new WeakMap,Y0=new WeakMap,nx=new WeakMap,ss=new WeakSet,jx=function([$,_e],vt,xt){[vt,xt]=this.screenToPageTranslation(vt,xt),this.x+=vt/$,this.y+=xt/_e,this.fixAndSetPosition()},Z0=new WeakSet,Hx=function($,_e,vt){switch(vt){case 90:return[_e,-$];case 180:return[-$,-_e];case 270:return[-_e,$];default:return[$,_e]}},Bx=function($){switch($){case 90:{const[_e,vt]=this.pageDimensions;return[0,-_e/vt,vt/_e,0]}case 180:return[-1,0,0,-1];case 270:{const[_e,vt]=this.pageDimensions;return[0,_e/vt,-vt/_e,0]}default:return[1,0,0,1]}},UE=function(){if(wt(this,ro))return;Vt(this,ro,document.createElement("div")),wt(this,ro).classList.add("resizers");const $=this._willKeepAspectRatio?["topLeft","topRight","bottomRight","bottomLeft"]:["topLeft","topMiddle","topRight","middleRight","bottomRight","bottomMiddle","bottomLeft","middleLeft"];for(const _e of $){const vt=document.createElement("div");wt(this,ro).append(vt),vt.classList.add("resizer",_e),vt.setAttribute("data-resizer-name",_e),vt.addEventListener("pointerdown",Ut(this,ss,zE).bind(this,_e)),vt.addEventListener("contextmenu",noContextMenu),vt.tabIndex=-1}this.div.prepend(wt(this,ro))},zE=function($,_e){var Mt;_e.preventDefault();const{isMac:vt}=util_FeatureTest.platform;if(_e.button!==0||_e.ctrlKey&&vt)return;(Mt=wt(this,fo))==null||Mt.toggle(!1);const xt=Ut(this,ss,zx).bind(this,$),bt=this._isDraggable;this._isDraggable=!1;const Et={passive:!0,capture:!0};this.parent.togglePointerEvents(!1),window.addEventListener("pointermove",xt,Et),window.addEventListener("contextmenu",noContextMenu);const At=this.x,_t=this.y,Ct=this.width,St=this.height,Rt=this.parent.div.style.cursor,Pt=this.div.style.cursor;this.div.style.cursor=this.parent.div.style.cursor=window.getComputedStyle(_e.target).cursor;const kt=()=>{var Lt;this.parent.togglePointerEvents(!0),(Lt=wt(this,fo))==null||Lt.toggle(!0),this._isDraggable=bt,window.removeEventListener("pointerup",kt),window.removeEventListener("blur",kt),window.removeEventListener("pointermove",xt,Et),window.removeEventListener("contextmenu",noContextMenu),this.parent.div.style.cursor=Rt,this.div.style.cursor=Pt,Ut(this,ss,Ux).call(this,At,_t,Ct,St)};window.addEventListener("pointerup",kt),window.addEventListener("blur",kt)},Ux=function($,_e,vt,xt){const bt=this.x,Et=this.y,At=this.width,_t=this.height;bt===$&&Et===_e&&At===vt&&_t===xt||this.addCommands({cmd:()=>{this.width=At,this.height=_t,this.x=bt,this.y=Et;const[Ct,St]=this.parentDimensions;this.setDims(Ct*At,St*_t),this.fixAndSetPosition()},undo:()=>{this.width=vt,this.height=xt,this.x=$,this.y=_e;const[Ct,St]=this.parentDimensions;this.setDims(Ct*vt,St*xt),this.fixAndSetPosition()},mustExec:!0})},zx=function($,_e){const[vt,xt]=this.parentDimensions,bt=this.x,Et=this.y,At=this.width,_t=this.height,Ct=Rs.MIN_SIZE/vt,St=Rs.MIN_SIZE/xt,Rt=an=>Math.round(an*1e4)/1e4,Pt=Ut(this,ss,Bx).call(this,this.rotation),kt=(an,dn)=>[Pt[0]*an+Pt[2]*dn,Pt[1]*an+Pt[3]*dn],Mt=Ut(this,ss,Bx).call(this,360-this.rotation),Lt=(an,dn)=>[Mt[0]*an+Mt[2]*dn,Mt[1]*an+Mt[3]*dn];let $t,Ft,Dt=!1,Nt=!1;switch($){case"topLeft":Dt=!0,$t=(an,dn)=>[0,0],Ft=(an,dn)=>[an,dn];break;case"topMiddle":$t=(an,dn)=>[an/2,0],Ft=(an,dn)=>[an/2,dn];break;case"topRight":Dt=!0,$t=(an,dn)=>[an,0],Ft=(an,dn)=>[0,dn];break;case"middleRight":Nt=!0,$t=(an,dn)=>[an,dn/2],Ft=(an,dn)=>[0,dn/2];break;case"bottomRight":Dt=!0,$t=(an,dn)=>[an,dn],Ft=(an,dn)=>[0,0];break;case"bottomMiddle":$t=(an,dn)=>[an/2,dn],Ft=(an,dn)=>[an/2,0];break;case"bottomLeft":Dt=!0,$t=(an,dn)=>[0,dn],Ft=(an,dn)=>[an,0];break;case"middleLeft":Nt=!0,$t=(an,dn)=>[0,dn/2],Ft=(an,dn)=>[an,dn/2];break}const Ht=$t(At,_t),Ot=Ft(At,_t);let Bt=kt(...Ot);const jt=Rt(bt+Bt[0]),zt=Rt(Et+Bt[1]);let Kt=1,nn=1,[Xt,en]=this.screenToPageTranslation(_e.movementX,_e.movementY);if([Xt,en]=Lt(Xt/vt,en/xt),Dt){const an=Math.hypot(At,_t);Kt=nn=Math.max(Math.min(Math.hypot(Ot[0]-Ht[0]-Xt,Ot[1]-Ht[1]-en)/an,1/At,1/_t),Ct/At,St/_t)}else Nt?Kt=Math.max(Ct,Math.min(1,Math.abs(Ot[0]-Ht[0]-Xt)))/At:nn=Math.max(St,Math.min(1,Math.abs(Ot[1]-Ht[1]-en)))/_t;const on=Rt(At*Kt),An=Rt(_t*nn);Bt=kt(...Ft(on,An));const un=jt-Bt[0],vn=zt-Bt[1];this.width=on,this.height=An,this.x=un,this.y=vn,this.setDims(vt*on,xt*An),this.fixAndSetPosition()},Vx=function($){const{isMac:_e}=util_FeatureTest.platform;$.ctrlKey&&!_e||$.shiftKey||$.metaKey&&_e?this.parent.toggleSelected(this):this.parent.setSelected(this)},VE=function($){const _e=this._uiManager.isSelected(this);this._uiManager.setUpDragSession();let vt,xt;_e&&(this.div.classList.add("moving"),vt={passive:!0,capture:!0},Vt(this,mm,$.clientX),Vt(this,vm,$.clientY),xt=Et=>{const{clientX:At,clientY:_t}=Et,[Ct,St]=this.screenToPageTranslation(At-wt(this,mm),_t-wt(this,vm));Vt(this,mm,At),Vt(this,vm,_t),this._uiManager.dragSelectedEditors(Ct,St)},window.addEventListener("pointermove",xt,vt));const bt=()=>{window.removeEventListener("pointerup",bt),window.removeEventListener("blur",bt),_e&&(this.div.classList.remove("moving"),window.removeEventListener("pointermove",xt,vt)),Vt(this,lp,!1),this._uiManager.endDragSession()||Ut(this,ss,Vx).call(this,$)};window.addEventListener("pointerup",bt),window.addEventListener("blur",bt)},WE=function($){Rs._resizerKeyboardManager.exec(this,$)},GE=function($){var _e;wt(this,Zl)&&((_e=$.relatedTarget)==null?void 0:_e.parentNode)!==wt(this,ro)&&Ut(this,ss,o0).call(this)},XE=function($){Vt(this,q0,wt(this,Zl)?$:"")},Wx=function($){if(wt(this,Go))for(const _e of wt(this,Go))_e.tabIndex=$},o0=function(){if(Vt(this,Zl,!1),Ut(this,ss,Wx).call(this,-1),wt(this,ap)){const{savedX:$,savedY:_e,savedWidth:vt,savedHeight:xt}=wt(this,ap);Ut(this,ss,Ux).call(this,$,_e,vt,xt),Vt(this,ap,null)}},Gt(Rs,Z0),_r(Rs,"_borderLineWidth",-1),_r(Rs,"_colorManager",new ColorManager),_r(Rs,"_zIndex",1),_r(Rs,"_telemetryTimeout",1e3);let AnnotationEditor=Rs;class FakeEditor extends AnnotationEditor{constructor($){super($),this.annotationElementId=$.annotationElementId,this.deleted=!0}serialize(){return{id:this.annotationElementId,deleted:!0,pageIndex:this.pageIndex}}}const SEED=3285377520,MASK_HIGH=4294901760,MASK_LOW=65535;class MurmurHash3_64{constructor($){this.h1=$?$&4294967295:SEED,this.h2=$?$&4294967295:SEED}update($){let _e,vt;if(typeof $=="string"){_e=new Uint8Array($.length*2),vt=0;for(let Lt=0,$t=$.length;Lt<$t;Lt++){const Ft=$.charCodeAt(Lt);Ft<=255?_e[vt++]=Ft:(_e[vt++]=Ft>>>8,_e[vt++]=Ft&255)}}else if(ArrayBuffer.isView($))_e=$.slice(),vt=_e.byteLength;else throw new Error("Invalid data format, must be a string or TypedArray.");const xt=vt>>2,bt=vt-xt*4,Et=new Uint32Array(_e.buffer,0,xt);let At=0,_t=0,Ct=this.h1,St=this.h2;const Rt=3432918353,Pt=461845907,kt=Rt&MASK_LOW,Mt=Pt&MASK_LOW;for(let Lt=0;Lt<xt;Lt++)Lt&1?(At=Et[Lt],At=At*Rt&MASK_HIGH|At*kt&MASK_LOW,At=At<<15|At>>>17,At=At*Pt&MASK_HIGH|At*Mt&MASK_LOW,Ct^=At,Ct=Ct<<13|Ct>>>19,Ct=Ct*5+3864292196):(_t=Et[Lt],_t=_t*Rt&MASK_HIGH|_t*kt&MASK_LOW,_t=_t<<15|_t>>>17,_t=_t*Pt&MASK_HIGH|_t*Mt&MASK_LOW,St^=_t,St=St<<13|St>>>19,St=St*5+3864292196);switch(At=0,bt){case 3:At^=_e[xt*4+2]<<16;case 2:At^=_e[xt*4+1]<<8;case 1:At^=_e[xt*4],At=At*Rt&MASK_HIGH|At*kt&MASK_LOW,At=At<<15|At>>>17,At=At*Pt&MASK_HIGH|At*Mt&MASK_LOW,xt&1?Ct^=At:St^=At}this.h1=Ct,this.h2=St}hexdigest(){let $=this.h1,_e=this.h2;return $^=_e>>>1,$=$*3981806797&MASK_HIGH|$*36045&MASK_LOW,_e=_e*4283543511&MASK_HIGH|((_e<<16|$>>>16)*2950163797&MASK_HIGH)>>>16,$^=_e>>>1,$=$*444984403&MASK_HIGH|$*60499&MASK_LOW,_e=_e*3301882366&MASK_HIGH|((_e<<16|$>>>16)*3120437893&MASK_HIGH)>>>16,$^=_e>>>1,($>>>0).toString(16).padStart(8,"0")+(_e>>>0).toString(16).padStart(8,"0")}}const SerializableEmpty=Object.freeze({map:null,hash:"",transfer:void 0});var up,so,ix,qE;class AnnotationStorage{constructor(){Gt(this,ix);Gt(this,up,!1);Gt(this,so,new Map);this.onSetModified=null,this.onResetModified=null,this.onAnnotationEditor=null}getValue($,_e){const vt=wt(this,so).get($);return vt===void 0?_e:Object.assign(_e,vt)}getRawValue($){return wt(this,so).get($)}remove($){if(wt(this,so).delete($),wt(this,so).size===0&&this.resetModified(),typeof this.onAnnotationEditor=="function"){for(const _e of wt(this,so).values())if(_e instanceof AnnotationEditor)return;this.onAnnotationEditor(null)}}setValue($,_e){const vt=wt(this,so).get($);let xt=!1;if(vt!==void 0)for(const[bt,Et]of Object.entries(_e))vt[bt]!==Et&&(xt=!0,vt[bt]=Et);else xt=!0,wt(this,so).set($,_e);xt&&Ut(this,ix,qE).call(this),_e instanceof AnnotationEditor&&typeof this.onAnnotationEditor=="function"&&this.onAnnotationEditor(_e.constructor._type)}has($){return wt(this,so).has($)}getAll(){return wt(this,so).size>0?objectFromMap(wt(this,so)):null}setAll($){for(const[_e,vt]of Object.entries($))this.setValue(_e,vt)}get size(){return wt(this,so).size}resetModified(){wt(this,up)&&(Vt(this,up,!1),typeof this.onResetModified=="function"&&this.onResetModified())}get print(){return new PrintAnnotationStorage(this)}get serializable(){if(wt(this,so).size===0)return SerializableEmpty;const $=new Map,_e=new MurmurHash3_64,vt=[],xt=Object.create(null);let bt=!1;for(const[Et,At]of wt(this,so)){const _t=At instanceof AnnotationEditor?At.serialize(!1,xt):At;_t&&($.set(Et,_t),_e.update(`${Et}:${JSON.stringify(_t)}`),bt||(bt=!!_t.bitmap))}if(bt)for(const Et of $.values())Et.bitmap&&vt.push(Et.bitmap);return $.size>0?{map:$,hash:_e.hexdigest(),transfer:vt}:SerializableEmpty}get editorStats(){let $=null;const _e=new Map;for(const vt of wt(this,so).values()){if(!(vt instanceof AnnotationEditor))continue;const xt=vt.telemetryFinalData;if(!xt)continue;const{type:bt}=xt;_e.has(bt)||_e.set(bt,Object.getPrototypeOf(vt).constructor),$||($=Object.create(null));const Et=$[bt]||($[bt]=new Map);for(const[At,_t]of Object.entries(xt)){if(At==="type")continue;let Ct=Et.get(At);Ct||(Ct=new Map,Et.set(At,Ct));const St=Ct.get(_t)??0;Ct.set(_t,St+1)}}for(const[vt,xt]of _e)$[vt]=xt.computeTelemetryFinalData($[vt]);return $}}up=new WeakMap,so=new WeakMap,ix=new WeakSet,qE=function(){wt(this,up)||(Vt(this,up,!0),typeof this.onSetModified=="function"&&this.onSetModified())};var Q0;class PrintAnnotationStorage extends AnnotationStorage{constructor(_e){super();Gt(this,Q0);const{map:vt,hash:xt,transfer:bt}=_e.serializable,Et=structuredClone(vt,bt?{transfer:bt}:null);Vt(this,Q0,{map:Et,hash:xt,transfer:bt})}get print(){unreachable("Should not call PrintAnnotationStorage.print")}get serializable(){return wt(this,Q0)}}Q0=new WeakMap;var ym;class FontLoader{constructor({ownerDocument:$=globalThis.document,styleElement:_e=null}){Gt(this,ym,new Set);this._document=$,this.nativeFontFaces=new Set,this.styleElement=null,this.loadingRequests=[],this.loadTestFontId=0}addNativeFontFace($){this.nativeFontFaces.add($),this._document.fonts.add($)}removeNativeFontFace($){this.nativeFontFaces.delete($),this._document.fonts.delete($)}insertRule($){this.styleElement||(this.styleElement=this._document.createElement("style"),this._document.documentElement.getElementsByTagName("head")[0].append(this.styleElement));const _e=this.styleElement.sheet;_e.insertRule($,_e.cssRules.length)}clear(){for(const $ of this.nativeFontFaces)this._document.fonts.delete($);this.nativeFontFaces.clear(),wt(this,ym).clear(),this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}async loadSystemFont({systemFontInfo:$,_inspectFont:_e}){if(!(!$||wt(this,ym).has($.loadedName))){if(assert(!this.disableFontFace,"loadSystemFont shouldn't be called when `disableFontFace` is set."),this.isFontLoadingAPISupported){const{loadedName:vt,src:xt,style:bt}=$,Et=new FontFace(vt,xt,bt);this.addNativeFontFace(Et);try{await Et.load(),wt(this,ym).add(vt),_e==null||_e($)}catch{warn(`Cannot load system font: ${$.baseFontName}, installing it could help to improve PDF rendering.`),this.removeNativeFontFace(Et)}return}unreachable("Not implemented: loadSystemFont without the Font Loading API.")}}async bind($){if($.attached||$.missingFile&&!$.systemFontInfo)return;if($.attached=!0,$.systemFontInfo){await this.loadSystemFont($);return}if(this.isFontLoadingAPISupported){const vt=$.createNativeFontFace();if(vt){this.addNativeFontFace(vt);try{await vt.loaded}catch(xt){throw warn(`Failed to load font '${vt.family}': '${xt}'.`),$.disableFontFace=!0,xt}}return}const _e=$.createFontFaceRule();if(_e){if(this.insertRule(_e),this.isSyncFontLoadingSupported)return;await new Promise(vt=>{const xt=this._queueLoadingCallback(vt);this._prepareFontLoadEvent($,xt)})}}get isFontLoadingAPISupported(){var _e;const $=!!((_e=this._document)!=null&&_e.fonts);return shadow(this,"isFontLoadingAPISupported",$)}get isSyncFontLoadingSupported(){let $=!1;return(isNodeJS||typeof navigator<"u"&&typeof(navigator==null?void 0:navigator.userAgent)=="string"&&/Mozilla\/5.0.*?rv:\d+.*? Gecko/.test(navigator.userAgent))&&($=!0),shadow(this,"isSyncFontLoadingSupported",$)}_queueLoadingCallback($){function _e(){for(assert(!xt.done,"completeRequest() cannot be called twice."),xt.done=!0;vt.length>0&&vt[0].done;){const bt=vt.shift();setTimeout(bt.callback,0)}}const{loadingRequests:vt}=this,xt={done:!1,complete:_e,callback:$};return vt.push(xt),xt}get _loadTestFont(){const $=atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA==");return shadow(this,"_loadTestFont",$)}_prepareFontLoadEvent($,_e){function vt(Ht,Ot){return Ht.charCodeAt(Ot)<<24|Ht.charCodeAt(Ot+1)<<16|Ht.charCodeAt(Ot+2)<<8|Ht.charCodeAt(Ot+3)&255}function xt(Ht,Ot,Bt,jt){const zt=Ht.substring(0,Ot),Kt=Ht.substring(Ot+Bt);return zt+jt+Kt}let bt,Et;const At=this._document.createElement("canvas");At.width=1,At.height=1;const _t=At.getContext("2d");let Ct=0;function St(Ht,Ot){if(++Ct>30){warn("Load test font never loaded."),Ot();return}if(_t.font="30px "+Ht,_t.fillText(".",0,20),_t.getImageData(0,0,1,1).data[3]>0){Ot();return}setTimeout(St.bind(null,Ht,Ot))}const Rt=`lt${Date.now()}${this.loadTestFontId++}`;let Pt=this._loadTestFont;Pt=xt(Pt,976,Rt.length,Rt);const Mt=16,Lt=1482184792;let $t=vt(Pt,Mt);for(bt=0,Et=Rt.length-3;bt<Et;bt+=4)$t=$t-Lt+vt(Rt,bt)|0;bt<Rt.length&&($t=$t-Lt+vt(Rt+"XXX",bt)|0),Pt=xt(Pt,Mt,4,string32($t));const Ft=`url(data:font/opentype;base64,${btoa(Pt)});`,Dt=`@font-face {font-family:"${Rt}";src:${Ft}}`;this.insertRule(Dt);const Nt=this._document.createElement("div");Nt.style.visibility="hidden",Nt.style.width=Nt.style.height="10px",Nt.style.position="absolute",Nt.style.top=Nt.style.left="0px";for(const Ht of[$.loadedName,Rt]){const Ot=this._document.createElement("span");Ot.textContent="Hi",Ot.style.fontFamily=Ht,Nt.append(Ot)}this._document.body.append(Nt),St(Rt,()=>{Nt.remove(),_e.complete()})}}ym=new WeakMap;class FontFaceObject{constructor($,{disableFontFace:_e=!1,inspectFont:vt=null}){this.compiledGlyphs=Object.create(null);for(const xt in $)this[xt]=$[xt];this.disableFontFace=_e===!0,this._inspectFont=vt}createNativeFontFace(){var _e;if(!this.data||this.disableFontFace)return null;let $;if(!this.cssFontInfo)$=new FontFace(this.loadedName,this.data,{});else{const vt={weight:this.cssFontInfo.fontWeight};this.cssFontInfo.italicAngle&&(vt.style=`oblique ${this.cssFontInfo.italicAngle}deg`),$=new FontFace(this.cssFontInfo.fontFamily,this.data,vt)}return(_e=this._inspectFont)==null||_e.call(this,this),$}createFontFaceRule(){var xt;if(!this.data||this.disableFontFace)return null;const $=bytesToString(this.data),_e=`url(data:${this.mimetype};base64,${btoa($)});`;let vt;if(!this.cssFontInfo)vt=`@font-face {font-family:"${this.loadedName}";src:${_e}}`;else{let bt=`font-weight: ${this.cssFontInfo.fontWeight};`;this.cssFontInfo.italicAngle&&(bt+=`font-style: oblique ${this.cssFontInfo.italicAngle}deg;`),vt=`@font-face {font-family:"${this.cssFontInfo.fontFamily}";${bt}src:${_e}}`}return(xt=this._inspectFont)==null||xt.call(this,this,_e),vt}getPathGenerator($,_e){if(this.compiledGlyphs[_e]!==void 0)return this.compiledGlyphs[_e];let vt;try{vt=$.get(this.loadedName+"_path_"+_e)}catch(bt){warn(`getPathGenerator - ignoring character: "${bt}".`)}if(!Array.isArray(vt)||vt.length===0)return this.compiledGlyphs[_e]=function(bt,Et){};const xt=[];for(let bt=0,Et=vt.length;bt<Et;)switch(vt[bt++]){case FontRenderOps.BEZIER_CURVE_TO:{const[At,_t,Ct,St,Rt,Pt]=vt.slice(bt,bt+6);xt.push(kt=>kt.bezierCurveTo(At,_t,Ct,St,Rt,Pt)),bt+=6}break;case FontRenderOps.MOVE_TO:{const[At,_t]=vt.slice(bt,bt+2);xt.push(Ct=>Ct.moveTo(At,_t)),bt+=2}break;case FontRenderOps.LINE_TO:{const[At,_t]=vt.slice(bt,bt+2);xt.push(Ct=>Ct.lineTo(At,_t)),bt+=2}break;case FontRenderOps.QUADRATIC_CURVE_TO:{const[At,_t,Ct,St]=vt.slice(bt,bt+4);xt.push(Rt=>Rt.quadraticCurveTo(At,_t,Ct,St)),bt+=4}break;case FontRenderOps.RESTORE:xt.push(At=>At.restore());break;case FontRenderOps.SAVE:xt.push(At=>At.save());break;case FontRenderOps.SCALE:assert(xt.length===2,"Scale command is only valid at the third position.");break;case FontRenderOps.TRANSFORM:{const[At,_t,Ct,St,Rt,Pt]=vt.slice(bt,bt+6);xt.push(kt=>kt.transform(At,_t,Ct,St,Rt,Pt)),bt+=6}break;case FontRenderOps.TRANSLATE:{const[At,_t]=vt.slice(bt,bt+2);xt.push(Ct=>Ct.translate(At,_t)),bt+=2}break}return this.compiledGlyphs[_e]=function(Et,At){xt[0](Et),xt[1](Et),Et.scale(At,-At);for(let _t=2,Ct=xt.length;_t<Ct;_t++)xt[_t](Et)}}}if(isNodeJS){var packageCapability=Promise.withResolvers(),packageMap=null;(async()=>{const $=await __vitePreload(()=>Promise.resolve().then(()=>__viteBrowserExternal$1),[]),_e=await __vitePreload(()=>Promise.resolve().then(()=>__viteBrowserExternal$1),void 0),vt=await __vitePreload(()=>Promise.resolve().then(()=>__viteBrowserExternal$1),void 0),xt=await __vitePreload(()=>Promise.resolve().then(()=>__viteBrowserExternal$1),void 0);let bt,Et;return new Map(Object.entries({fs:$,http:_e,https:vt,url:xt,canvas:bt,path2d:Et}))})().then($=>{packageMap=$,packageCapability.resolve()},$=>{warn(`loadPackages: ${$}`),packageMap=new Map,packageCapability.resolve()})}class NodePackages{static get promise(){return packageCapability.promise}static get($){return packageMap==null?void 0:packageMap.get($)}}const node_utils_fetchData=function(ht){return NodePackages.get("fs").promises.readFile(ht).then(_e=>new Uint8Array(_e))};class NodeFilterFactory extends BaseFilterFactory{}class NodeCanvasFactory extends BaseCanvasFactory{_createCanvas($,_e){return NodePackages.get("canvas").createCanvas($,_e)}}class NodeCMapReaderFactory extends BaseCMapReaderFactory{_fetchData($,_e){return node_utils_fetchData($).then(vt=>({cMapData:vt,compressionType:_e}))}}class NodeStandardFontDataFactory extends BaseStandardFontDataFactory{_fetchData($){return node_utils_fetchData($)}}const PathType={FILL:"Fill",STROKE:"Stroke",SHADING:"Shading"};function applyBoundingBox(ht,$){if(!$)return;const _e=$[2]-$[0],vt=$[3]-$[1],xt=new Path2D;xt.rect($[0],$[1],_e,vt),ht.clip(xt)}class BaseShadingPattern{constructor(){this.constructor===BaseShadingPattern&&unreachable("Cannot initialize BaseShadingPattern.")}getPattern(){unreachable("Abstract method `getPattern` called.")}}class RadialAxialShadingPattern extends BaseShadingPattern{constructor($){super(),this._type=$[1],this._bbox=$[2],this._colorStops=$[3],this._p0=$[4],this._p1=$[5],this._r0=$[6],this._r1=$[7],this.matrix=null}_createGradient($){let _e;this._type==="axial"?_e=$.createLinearGradient(this._p0[0],this._p0[1],this._p1[0],this._p1[1]):this._type==="radial"&&(_e=$.createRadialGradient(this._p0[0],this._p0[1],this._r0,this._p1[0],this._p1[1],this._r1));for(const vt of this._colorStops)_e.addColorStop(vt[0],vt[1]);return _e}getPattern($,_e,vt,xt){let bt;if(xt===PathType.STROKE||xt===PathType.FILL){const Et=_e.current.getClippedPathBoundingBox(xt,getCurrentTransform($))||[0,0,0,0],At=Math.ceil(Et[2]-Et[0])||1,_t=Math.ceil(Et[3]-Et[1])||1,Ct=_e.cachedCanvases.getCanvas("pattern",At,_t,!0),St=Ct.context;St.clearRect(0,0,St.canvas.width,St.canvas.height),St.beginPath(),St.rect(0,0,St.canvas.width,St.canvas.height),St.translate(-Et[0],-Et[1]),vt=Util.transform(vt,[1,0,0,1,Et[0],Et[1]]),St.transform(..._e.baseTransform),this.matrix&&St.transform(...this.matrix),applyBoundingBox(St,this._bbox),St.fillStyle=this._createGradient(St),St.fill(),bt=$.createPattern(Ct.canvas,"no-repeat");const Rt=new DOMMatrix(vt);bt.setTransform(Rt)}else applyBoundingBox($,this._bbox),bt=this._createGradient($);return bt}}function drawTriangle(ht,$,_e,vt,xt,bt,Et,At){const _t=$.coords,Ct=$.colors,St=ht.data,Rt=ht.width*4;let Pt;_t[_e+1]>_t[vt+1]&&(Pt=_e,_e=vt,vt=Pt,Pt=bt,bt=Et,Et=Pt),_t[vt+1]>_t[xt+1]&&(Pt=vt,vt=xt,xt=Pt,Pt=Et,Et=At,At=Pt),_t[_e+1]>_t[vt+1]&&(Pt=_e,_e=vt,vt=Pt,Pt=bt,bt=Et,Et=Pt);const kt=(_t[_e]+$.offsetX)*$.scaleX,Mt=(_t[_e+1]+$.offsetY)*$.scaleY,Lt=(_t[vt]+$.offsetX)*$.scaleX,$t=(_t[vt+1]+$.offsetY)*$.scaleY,Ft=(_t[xt]+$.offsetX)*$.scaleX,Dt=(_t[xt+1]+$.offsetY)*$.scaleY;if(Mt>=Dt)return;const Nt=Ct[bt],Ht=Ct[bt+1],Ot=Ct[bt+2],Bt=Ct[Et],jt=Ct[Et+1],zt=Ct[Et+2],Kt=Ct[At],nn=Ct[At+1],Xt=Ct[At+2],en=Math.round(Mt),on=Math.round(Dt);let An,un,vn,an,dn,tn,gn,Sn;for(let rn=en;rn<=on;rn++){if(rn<$t){const cn=rn<Mt?0:(Mt-rn)/(Mt-$t);An=kt-(kt-Lt)*cn,un=Nt-(Nt-Bt)*cn,vn=Ht-(Ht-jt)*cn,an=Ot-(Ot-zt)*cn}else{let cn;rn>Dt?cn=1:$t===Dt?cn=0:cn=($t-rn)/($t-Dt),An=Lt-(Lt-Ft)*cn,un=Bt-(Bt-Kt)*cn,vn=jt-(jt-nn)*cn,an=zt-(zt-Xt)*cn}let qt;rn<Mt?qt=0:rn>Dt?qt=1:qt=(Mt-rn)/(Mt-Dt),dn=kt-(kt-Ft)*qt,tn=Nt-(Nt-Kt)*qt,gn=Ht-(Ht-nn)*qt,Sn=Ot-(Ot-Xt)*qt;const Yt=Math.round(Math.min(An,dn)),Jt=Math.round(Math.max(An,dn));let hn=Rt*rn+Yt*4;for(let cn=Yt;cn<=Jt;cn++)qt=(An-cn)/(An-dn),qt<0?qt=0:qt>1&&(qt=1),St[hn++]=un-(un-tn)*qt|0,St[hn++]=vn-(vn-gn)*qt|0,St[hn++]=an-(an-Sn)*qt|0,St[hn++]=255}}function drawFigure(ht,$,_e){const vt=$.coords,xt=$.colors;let bt,Et;switch($.type){case"lattice":const At=$.verticesPerRow,_t=Math.floor(vt.length/At)-1,Ct=At-1;for(bt=0;bt<_t;bt++){let St=bt*At;for(let Rt=0;Rt<Ct;Rt++,St++)drawTriangle(ht,_e,vt[St],vt[St+1],vt[St+At],xt[St],xt[St+1],xt[St+At]),drawTriangle(ht,_e,vt[St+At+1],vt[St+1],vt[St+At],xt[St+At+1],xt[St+1],xt[St+At])}break;case"triangles":for(bt=0,Et=vt.length;bt<Et;bt+=3)drawTriangle(ht,_e,vt[bt],vt[bt+1],vt[bt+2],xt[bt],xt[bt+1],xt[bt+2]);break;default:throw new Error("illegal figure")}}class MeshShadingPattern extends BaseShadingPattern{constructor($){super(),this._coords=$[2],this._colors=$[3],this._figures=$[4],this._bounds=$[5],this._bbox=$[7],this._background=$[8],this.matrix=null}_createMeshCanvas($,_e,vt){const At=Math.floor(this._bounds[0]),_t=Math.floor(this._bounds[1]),Ct=Math.ceil(this._bounds[2])-At,St=Math.ceil(this._bounds[3])-_t,Rt=Math.min(Math.ceil(Math.abs(Ct*$[0]*1.1)),3e3),Pt=Math.min(Math.ceil(Math.abs(St*$[1]*1.1)),3e3),kt=Ct/Rt,Mt=St/Pt,Lt={coords:this._coords,colors:this._colors,offsetX:-At,offsetY:-_t,scaleX:1/kt,scaleY:1/Mt},$t=Rt+2*2,Ft=Pt+2*2,Dt=vt.getCanvas("mesh",$t,Ft,!1),Nt=Dt.context,Ht=Nt.createImageData(Rt,Pt);if(_e){const Bt=Ht.data;for(let jt=0,zt=Bt.length;jt<zt;jt+=4)Bt[jt]=_e[0],Bt[jt+1]=_e[1],Bt[jt+2]=_e[2],Bt[jt+3]=255}for(const Bt of this._figures)drawFigure(Ht,Bt,Lt);return Nt.putImageData(Ht,2,2),{canvas:Dt.canvas,offsetX:At-2*kt,offsetY:_t-2*Mt,scaleX:kt,scaleY:Mt}}getPattern($,_e,vt,xt){applyBoundingBox($,this._bbox);let bt;if(xt===PathType.SHADING)bt=Util.singularValueDecompose2dScale(getCurrentTransform($));else if(bt=Util.singularValueDecompose2dScale(_e.baseTransform),this.matrix){const At=Util.singularValueDecompose2dScale(this.matrix);bt=[bt[0]*At[0],bt[1]*At[1]]}const Et=this._createMeshCanvas(bt,xt===PathType.SHADING?null:this._background,_e.cachedCanvases);return xt!==PathType.SHADING&&($.setTransform(..._e.baseTransform),this.matrix&&$.transform(...this.matrix)),$.translate(Et.offsetX,Et.offsetY),$.scale(Et.scaleX,Et.scaleY),$.createPattern(Et.canvas,"no-repeat")}}class DummyShadingPattern extends BaseShadingPattern{getPattern(){return"hotpink"}}function getShadingPattern(ht){switch(ht[0]){case"RadialAxial":return new RadialAxialShadingPattern(ht);case"Mesh":return new MeshShadingPattern(ht);case"Dummy":return new DummyShadingPattern}throw new Error(`Unknown IR type: ${ht[0]}`)}const PaintType={COLORED:1,UNCOLORED:2},rx=class rx{constructor($,_e,vt,xt,bt){this.operatorList=$[2],this.matrix=$[3],this.bbox=$[4],this.xstep=$[5],this.ystep=$[6],this.paintType=$[7],this.tilingType=$[8],this.color=_e,this.ctx=vt,this.canvasGraphicsFactory=xt,this.baseTransform=bt}createPatternCanvas($){const _e=this.operatorList,vt=this.bbox,xt=this.xstep,bt=this.ystep,Et=this.paintType,At=this.tilingType,_t=this.color,Ct=this.canvasGraphicsFactory;info("TilingType: "+At);const St=vt[0],Rt=vt[1],Pt=vt[2],kt=vt[3],Mt=Util.singularValueDecompose2dScale(this.matrix),Lt=Util.singularValueDecompose2dScale(this.baseTransform),$t=[Mt[0]*Lt[0],Mt[1]*Lt[1]],Ft=this.getSizeAndScale(xt,this.ctx.canvas.width,$t[0]),Dt=this.getSizeAndScale(bt,this.ctx.canvas.height,$t[1]),Nt=$.cachedCanvases.getCanvas("pattern",Ft.size,Dt.size,!0),Ht=Nt.context,Ot=Ct.createCanvasGraphics(Ht);Ot.groupLevel=$.groupLevel,this.setFillAndStrokeStyleToContext(Ot,Et,_t);let Bt=St,jt=Rt,zt=Pt,Kt=kt;return St<0&&(Bt=0,zt+=Math.abs(St)),Rt<0&&(jt=0,Kt+=Math.abs(Rt)),Ht.translate(-(Ft.scale*Bt),-(Dt.scale*jt)),Ot.transform(Ft.scale,0,0,Dt.scale,0,0),Ht.save(),this.clipBbox(Ot,Bt,jt,zt,Kt),Ot.baseTransform=getCurrentTransform(Ot.ctx),Ot.executeOperatorList(_e),Ot.endDrawing(),{canvas:Nt.canvas,scaleX:Ft.scale,scaleY:Dt.scale,offsetX:Bt,offsetY:jt}}getSizeAndScale($,_e,vt){$=Math.abs($);const xt=Math.max(rx.MAX_PATTERN_SIZE,_e);let bt=Math.ceil($*vt);return bt>=xt?bt=xt:vt=bt/$,{scale:vt,size:bt}}clipBbox($,_e,vt,xt,bt){const Et=xt-_e,At=bt-vt;$.ctx.rect(_e,vt,Et,At),$.current.updateRectMinMax(getCurrentTransform($.ctx),[_e,vt,xt,bt]),$.clip(),$.endPath()}setFillAndStrokeStyleToContext($,_e,vt){const xt=$.ctx,bt=$.current;switch(_e){case PaintType.COLORED:const Et=this.ctx;xt.fillStyle=Et.fillStyle,xt.strokeStyle=Et.strokeStyle,bt.fillColor=Et.fillStyle,bt.strokeColor=Et.strokeStyle;break;case PaintType.UNCOLORED:const At=Util.makeHexColor(vt[0],vt[1],vt[2]);xt.fillStyle=At,xt.strokeStyle=At,bt.fillColor=At,bt.strokeColor=At;break;default:throw new FormatError(`Unsupported paint type: ${_e}`)}}getPattern($,_e,vt,xt){let bt=vt;xt!==PathType.SHADING&&(bt=Util.transform(bt,_e.baseTransform),this.matrix&&(bt=Util.transform(bt,this.matrix)));const Et=this.createPatternCanvas(_e);let At=new DOMMatrix(bt);At=At.translate(Et.offsetX,Et.offsetY),At=At.scale(1/Et.scaleX,1/Et.scaleY);const _t=$.createPattern(Et.canvas,"repeat");return _t.setTransform(At),_t}};_r(rx,"MAX_PATTERN_SIZE",3e3);let TilingPattern=rx;function convertBlackAndWhiteToRGBA({src:ht,srcPos:$=0,dest:_e,width:vt,height:xt,nonBlackColor:bt=4294967295,inverseDecode:Et=!1}){const At=util_FeatureTest.isLittleEndian?4278190080:255,[_t,Ct]=Et?[bt,At]:[At,bt],St=vt>>3,Rt=vt&7,Pt=ht.length;_e=new Uint32Array(_e.buffer);let kt=0;for(let Mt=0;Mt<xt;Mt++){for(const $t=$+St;$<$t;$++){const Ft=$<Pt?ht[$]:255;_e[kt++]=Ft&128?Ct:_t,_e[kt++]=Ft&64?Ct:_t,_e[kt++]=Ft&32?Ct:_t,_e[kt++]=Ft&16?Ct:_t,_e[kt++]=Ft&8?Ct:_t,_e[kt++]=Ft&4?Ct:_t,_e[kt++]=Ft&2?Ct:_t,_e[kt++]=Ft&1?Ct:_t}if(Rt===0)continue;const Lt=$<Pt?ht[$++]:255;for(let $t=0;$t<Rt;$t++)_e[kt++]=Lt&1<<7-$t?Ct:_t}return{srcPos:$,destPos:kt}}const MIN_FONT_SIZE=16,MAX_FONT_SIZE=100,EXECUTION_TIME=15,EXECUTION_STEPS=10,MAX_SIZE_TO_COMPILE=1e3,FULL_CHUNK_HEIGHT=16;function mirrorContextOperations(ht,$){if(ht._removeMirroring)throw new Error("Context is already forwarding operations.");ht.__originalSave=ht.save,ht.__originalRestore=ht.restore,ht.__originalRotate=ht.rotate,ht.__originalScale=ht.scale,ht.__originalTranslate=ht.translate,ht.__originalTransform=ht.transform,ht.__originalSetTransform=ht.setTransform,ht.__originalResetTransform=ht.resetTransform,ht.__originalClip=ht.clip,ht.__originalMoveTo=ht.moveTo,ht.__originalLineTo=ht.lineTo,ht.__originalBezierCurveTo=ht.bezierCurveTo,ht.__originalRect=ht.rect,ht.__originalClosePath=ht.closePath,ht.__originalBeginPath=ht.beginPath,ht._removeMirroring=()=>{ht.save=ht.__originalSave,ht.restore=ht.__originalRestore,ht.rotate=ht.__originalRotate,ht.scale=ht.__originalScale,ht.translate=ht.__originalTranslate,ht.transform=ht.__originalTransform,ht.setTransform=ht.__originalSetTransform,ht.resetTransform=ht.__originalResetTransform,ht.clip=ht.__originalClip,ht.moveTo=ht.__originalMoveTo,ht.lineTo=ht.__originalLineTo,ht.bezierCurveTo=ht.__originalBezierCurveTo,ht.rect=ht.__originalRect,ht.closePath=ht.__originalClosePath,ht.beginPath=ht.__originalBeginPath,delete ht._removeMirroring},ht.save=function(){$.save(),this.__originalSave()},ht.restore=function(){$.restore(),this.__originalRestore()},ht.translate=function(vt,xt){$.translate(vt,xt),this.__originalTranslate(vt,xt)},ht.scale=function(vt,xt){$.scale(vt,xt),this.__originalScale(vt,xt)},ht.transform=function(vt,xt,bt,Et,At,_t){$.transform(vt,xt,bt,Et,At,_t),this.__originalTransform(vt,xt,bt,Et,At,_t)},ht.setTransform=function(vt,xt,bt,Et,At,_t){$.setTransform(vt,xt,bt,Et,At,_t),this.__originalSetTransform(vt,xt,bt,Et,At,_t)},ht.resetTransform=function(){$.resetTransform(),this.__originalResetTransform()},ht.rotate=function(vt){$.rotate(vt),this.__originalRotate(vt)},ht.clip=function(vt){$.clip(vt),this.__originalClip(vt)},ht.moveTo=function(_e,vt){$.moveTo(_e,vt),this.__originalMoveTo(_e,vt)},ht.lineTo=function(_e,vt){$.lineTo(_e,vt),this.__originalLineTo(_e,vt)},ht.bezierCurveTo=function(_e,vt,xt,bt,Et,At){$.bezierCurveTo(_e,vt,xt,bt,Et,At),this.__originalBezierCurveTo(_e,vt,xt,bt,Et,At)},ht.rect=function(_e,vt,xt,bt){$.rect(_e,vt,xt,bt),this.__originalRect(_e,vt,xt,bt)},ht.closePath=function(){$.closePath(),this.__originalClosePath()},ht.beginPath=function(){$.beginPath(),this.__originalBeginPath()}}class CachedCanvases{constructor($){this.canvasFactory=$,this.cache=Object.create(null)}getCanvas($,_e,vt){let xt;return this.cache[$]!==void 0?(xt=this.cache[$],this.canvasFactory.reset(xt,_e,vt)):(xt=this.canvasFactory.create(_e,vt),this.cache[$]=xt),xt}delete($){delete this.cache[$]}clear(){for(const $ in this.cache){const _e=this.cache[$];this.canvasFactory.destroy(_e),delete this.cache[$]}}}function drawImageAtIntegerCoords(ht,$,_e,vt,xt,bt,Et,At,_t,Ct){const[St,Rt,Pt,kt,Mt,Lt]=getCurrentTransform(ht);if(Rt===0&&Pt===0){const Dt=Et*St+Mt,Nt=Math.round(Dt),Ht=At*kt+Lt,Ot=Math.round(Ht),Bt=(Et+_t)*St+Mt,jt=Math.abs(Math.round(Bt)-Nt)||1,zt=(At+Ct)*kt+Lt,Kt=Math.abs(Math.round(zt)-Ot)||1;return ht.setTransform(Math.sign(St),0,0,Math.sign(kt),Nt,Ot),ht.drawImage($,_e,vt,xt,bt,0,0,jt,Kt),ht.setTransform(St,Rt,Pt,kt,Mt,Lt),[jt,Kt]}if(St===0&&kt===0){const Dt=At*Pt+Mt,Nt=Math.round(Dt),Ht=Et*Rt+Lt,Ot=Math.round(Ht),Bt=(At+Ct)*Pt+Mt,jt=Math.abs(Math.round(Bt)-Nt)||1,zt=(Et+_t)*Rt+Lt,Kt=Math.abs(Math.round(zt)-Ot)||1;return ht.setTransform(0,Math.sign(Rt),Math.sign(Pt),0,Nt,Ot),ht.drawImage($,_e,vt,xt,bt,0,0,Kt,jt),ht.setTransform(St,Rt,Pt,kt,Mt,Lt),[Kt,jt]}ht.drawImage($,_e,vt,xt,bt,Et,At,_t,Ct);const $t=Math.hypot(St,Rt),Ft=Math.hypot(Pt,kt);return[$t*_t,Ft*Ct]}function compileType3Glyph(ht){const{width:$,height:_e}=ht;if($>MAX_SIZE_TO_COMPILE||_e>MAX_SIZE_TO_COMPILE)return null;const vt=1e3,xt=new Uint8Array([0,2,4,0,1,0,5,4,8,10,0,8,0,2,1,0]),bt=$+1;let Et=new Uint8Array(bt*(_e+1)),At,_t,Ct;const St=$+7&-8;let Rt=new Uint8Array(St*_e),Pt=0;for(const Ft of ht.data){let Dt=128;for(;Dt>0;)Rt[Pt++]=Ft&Dt?0:255,Dt>>=1}let kt=0;for(Pt=0,Rt[Pt]!==0&&(Et[0]=1,++kt),_t=1;_t<$;_t++)Rt[Pt]!==Rt[Pt+1]&&(Et[_t]=Rt[Pt]?2:1,++kt),Pt++;for(Rt[Pt]!==0&&(Et[_t]=2,++kt),At=1;At<_e;At++){Pt=At*St,Ct=At*bt,Rt[Pt-St]!==Rt[Pt]&&(Et[Ct]=Rt[Pt]?1:8,++kt);let Ft=(Rt[Pt]?4:0)+(Rt[Pt-St]?8:0);for(_t=1;_t<$;_t++)Ft=(Ft>>2)+(Rt[Pt+1]?4:0)+(Rt[Pt-St+1]?8:0),xt[Ft]&&(Et[Ct+_t]=xt[Ft],++kt),Pt++;if(Rt[Pt-St]!==Rt[Pt]&&(Et[Ct+_t]=Rt[Pt]?2:4,++kt),kt>vt)return null}for(Pt=St*(_e-1),Ct=At*bt,Rt[Pt]!==0&&(Et[Ct]=8,++kt),_t=1;_t<$;_t++)Rt[Pt]!==Rt[Pt+1]&&(Et[Ct+_t]=Rt[Pt]?4:8,++kt),Pt++;if(Rt[Pt]!==0&&(Et[Ct+_t]=4,++kt),kt>vt)return null;const Mt=new Int32Array([0,bt,-1,0,-bt,0,0,0,1]),Lt=new Path2D;for(At=0;kt&&At<=_e;At++){let Ft=At*bt;const Dt=Ft+$;for(;Ft<Dt&&!Et[Ft];)Ft++;if(Ft===Dt)continue;Lt.moveTo(Ft%bt,At);const Nt=Ft;let Ht=Et[Ft];do{const Ot=Mt[Ht];do Ft+=Ot;while(!Et[Ft]);const Bt=Et[Ft];Bt!==5&&Bt!==10?(Ht=Bt,Et[Ft]=0):(Ht=Bt&51*Ht>>4,Et[Ft]&=Ht>>2|Ht<<2),Lt.lineTo(Ft%bt,Ft/bt|0),Et[Ft]||--kt}while(Nt!==Ft);--At}return Rt=null,Et=null,function(Ft){Ft.save(),Ft.scale(1/$,-1/_e),Ft.translate(0,-_e),Ft.fill(Lt),Ft.beginPath(),Ft.restore()}}class CanvasExtraState{constructor($,_e){this.alphaIsShape=!1,this.fontSize=0,this.fontSizeScale=1,this.textMatrix=IDENTITY_MATRIX,this.textMatrixScale=1,this.fontMatrix=FONT_IDENTITY_MATRIX,this.leading=0,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRenderingMode=TextRenderingMode.FILL,this.textRise=0,this.fillColor="#000000",this.strokeColor="#000000",this.patternFill=!1,this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.activeSMask=null,this.transferMaps="none",this.startNewPathAndClipBox([0,0,$,_e])}clone(){const $=Object.create(this);return $.clipBox=this.clipBox.slice(),$}setCurrentPoint($,_e){this.x=$,this.y=_e}updatePathMinMax($,_e,vt){[_e,vt]=Util.applyTransform([_e,vt],$),this.minX=Math.min(this.minX,_e),this.minY=Math.min(this.minY,vt),this.maxX=Math.max(this.maxX,_e),this.maxY=Math.max(this.maxY,vt)}updateRectMinMax($,_e){const vt=Util.applyTransform(_e,$),xt=Util.applyTransform(_e.slice(2),$),bt=Util.applyTransform([_e[0],_e[3]],$),Et=Util.applyTransform([_e[2],_e[1]],$);this.minX=Math.min(this.minX,vt[0],xt[0],bt[0],Et[0]),this.minY=Math.min(this.minY,vt[1],xt[1],bt[1],Et[1]),this.maxX=Math.max(this.maxX,vt[0],xt[0],bt[0],Et[0]),this.maxY=Math.max(this.maxY,vt[1],xt[1],bt[1],Et[1])}updateScalingPathMinMax($,_e){Util.scaleMinMax($,_e),this.minX=Math.min(this.minX,_e[0]),this.minY=Math.min(this.minY,_e[1]),this.maxX=Math.max(this.maxX,_e[2]),this.maxY=Math.max(this.maxY,_e[3])}updateCurvePathMinMax($,_e,vt,xt,bt,Et,At,_t,Ct,St){const Rt=Util.bezierBoundingBox(_e,vt,xt,bt,Et,At,_t,Ct,St);St||this.updateRectMinMax($,Rt)}getPathBoundingBox($=PathType.FILL,_e=null){const vt=[this.minX,this.minY,this.maxX,this.maxY];if($===PathType.STROKE){_e||unreachable("Stroke bounding box must include transform.");const xt=Util.singularValueDecompose2dScale(_e),bt=xt[0]*this.lineWidth/2,Et=xt[1]*this.lineWidth/2;vt[0]-=bt,vt[1]-=Et,vt[2]+=bt,vt[3]+=Et}return vt}updateClipFromPath(){const $=Util.intersect(this.clipBox,this.getPathBoundingBox());this.startNewPathAndClipBox($||[0,0,0,0])}isEmptyClip(){return this.minX===1/0}startNewPathAndClipBox($){this.clipBox=$,this.minX=1/0,this.minY=1/0,this.maxX=0,this.maxY=0}getClippedPathBoundingBox($=PathType.FILL,_e=null){return Util.intersect(this.clipBox,this.getPathBoundingBox($,_e))}}function putBinaryImageData(ht,$){if(typeof ImageData<"u"&&$ instanceof ImageData){ht.putImageData($,0,0);return}const _e=$.height,vt=$.width,xt=_e%FULL_CHUNK_HEIGHT,bt=(_e-xt)/FULL_CHUNK_HEIGHT,Et=xt===0?bt:bt+1,At=ht.createImageData(vt,FULL_CHUNK_HEIGHT);let _t=0,Ct;const St=$.data,Rt=At.data;let Pt,kt,Mt,Lt;if($.kind===util_ImageKind.GRAYSCALE_1BPP){const $t=St.byteLength,Ft=new Uint32Array(Rt.buffer,0,Rt.byteLength>>2),Dt=Ft.length,Nt=vt+7>>3,Ht=4294967295,Ot=util_FeatureTest.isLittleEndian?4278190080:255;for(Pt=0;Pt<Et;Pt++){for(Mt=Pt<bt?FULL_CHUNK_HEIGHT:xt,Ct=0,kt=0;kt<Mt;kt++){const Bt=$t-_t;let jt=0;const zt=Bt>Nt?vt:Bt*8-7,Kt=zt&-8;let nn=0,Xt=0;for(;jt<Kt;jt+=8)Xt=St[_t++],Ft[Ct++]=Xt&128?Ht:Ot,Ft[Ct++]=Xt&64?Ht:Ot,Ft[Ct++]=Xt&32?Ht:Ot,Ft[Ct++]=Xt&16?Ht:Ot,Ft[Ct++]=Xt&8?Ht:Ot,Ft[Ct++]=Xt&4?Ht:Ot,Ft[Ct++]=Xt&2?Ht:Ot,Ft[Ct++]=Xt&1?Ht:Ot;for(;jt<zt;jt++)nn===0&&(Xt=St[_t++],nn=128),Ft[Ct++]=Xt&nn?Ht:Ot,nn>>=1}for(;Ct<Dt;)Ft[Ct++]=0;ht.putImageData(At,0,Pt*FULL_CHUNK_HEIGHT)}}else if($.kind===util_ImageKind.RGBA_32BPP){for(kt=0,Lt=vt*FULL_CHUNK_HEIGHT*4,Pt=0;Pt<bt;Pt++)Rt.set(St.subarray(_t,_t+Lt)),_t+=Lt,ht.putImageData(At,0,kt),kt+=FULL_CHUNK_HEIGHT;Pt<Et&&(Lt=vt*xt*4,Rt.set(St.subarray(_t,_t+Lt)),ht.putImageData(At,0,kt))}else if($.kind===util_ImageKind.RGB_24BPP)for(Mt=FULL_CHUNK_HEIGHT,Lt=vt*Mt,Pt=0;Pt<Et;Pt++){for(Pt>=bt&&(Mt=xt,Lt=vt*Mt),Ct=0,kt=Lt;kt--;)Rt[Ct++]=St[_t++],Rt[Ct++]=St[_t++],Rt[Ct++]=St[_t++],Rt[Ct++]=255;ht.putImageData(At,0,Pt*FULL_CHUNK_HEIGHT)}else throw new Error(`bad image kind: ${$.kind}`)}function putBinaryImageMask(ht,$){if($.bitmap){ht.drawImage($.bitmap,0,0);return}const _e=$.height,vt=$.width,xt=_e%FULL_CHUNK_HEIGHT,bt=(_e-xt)/FULL_CHUNK_HEIGHT,Et=xt===0?bt:bt+1,At=ht.createImageData(vt,FULL_CHUNK_HEIGHT);let _t=0;const Ct=$.data,St=At.data;for(let Rt=0;Rt<Et;Rt++){const Pt=Rt<bt?FULL_CHUNK_HEIGHT:xt;({srcPos:_t}=convertBlackAndWhiteToRGBA({src:Ct,srcPos:_t,dest:St,width:vt,height:Pt,nonBlackColor:0})),ht.putImageData(At,0,Rt*FULL_CHUNK_HEIGHT)}}function copyCtxState(ht,$){const _e=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font","filter"];for(const vt of _e)ht[vt]!==void 0&&($[vt]=ht[vt]);ht.setLineDash!==void 0&&($.setLineDash(ht.getLineDash()),$.lineDashOffset=ht.lineDashOffset)}function resetCtxToDefault(ht){if(ht.strokeStyle=ht.fillStyle="#000000",ht.fillRule="nonzero",ht.globalAlpha=1,ht.lineWidth=1,ht.lineCap="butt",ht.lineJoin="miter",ht.miterLimit=10,ht.globalCompositeOperation="source-over",ht.font="10px sans-serif",ht.setLineDash!==void 0&&(ht.setLineDash([]),ht.lineDashOffset=0),!isNodeJS){const{filter:$}=ht;$!=="none"&&$!==""&&(ht.filter="none")}}function getImageSmoothingEnabled(ht,$){if($)return!0;const _e=Util.singularValueDecompose2dScale(ht);_e[0]=Math.fround(_e[0]),_e[1]=Math.fround(_e[1]);const vt=Math.fround((globalThis.devicePixelRatio||1)*PixelsPerInch.PDF_TO_CSS_UNITS);return _e[0]<=vt&&_e[1]<=vt}const LINE_CAP_STYLES=["butt","round","square"],LINE_JOIN_STYLES=["miter","round","bevel"],NORMAL_CLIP={},EO_CLIP={};var Vu,Gx,Xx;const iE=class iE{constructor($,_e,vt,xt,bt,{optionalContentConfig:Et,markedContentStack:At=null},_t,Ct){Gt(this,Vu);this.ctx=$,this.current=new CanvasExtraState(this.ctx.canvas.width,this.ctx.canvas.height),this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=_e,this.objs=vt,this.canvasFactory=xt,this.filterFactory=bt,this.groupStack=[],this.processingType3=null,this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.suspendedCtx=null,this.contentVisible=!0,this.markedContentStack=At||[],this.optionalContentConfig=Et,this.cachedCanvases=new CachedCanvases(this.canvasFactory),this.cachedPatterns=new Map,this.annotationCanvasMap=_t,this.viewportScale=1,this.outputScaleX=1,this.outputScaleY=1,this.pageColors=Ct,this._cachedScaleForStroking=[-1,0],this._cachedGetSinglePixelWidth=null,this._cachedBitmapsMap=new Map}getObject($,_e=null){return typeof $=="string"?$.startsWith("g_")?this.commonObjs.get($):this.objs.get($):_e}beginDrawing({transform:$,viewport:_e,transparency:vt=!1,background:xt=null}){const bt=this.ctx.canvas.width,Et=this.ctx.canvas.height,At=this.ctx.fillStyle;if(this.ctx.fillStyle=xt||"#ffffff",this.ctx.fillRect(0,0,bt,Et),this.ctx.fillStyle=At,vt){const _t=this.cachedCanvases.getCanvas("transparent",bt,Et);this.compositeCtx=this.ctx,this.transparentCanvas=_t.canvas,this.ctx=_t.context,this.ctx.save(),this.ctx.transform(...getCurrentTransform(this.compositeCtx))}this.ctx.save(),resetCtxToDefault(this.ctx),$&&(this.ctx.transform(...$),this.outputScaleX=$[0],this.outputScaleY=$[0]),this.ctx.transform(..._e.transform),this.viewportScale=_e.scale,this.baseTransform=getCurrentTransform(this.ctx)}executeOperatorList($,_e,vt,xt){const bt=$.argsArray,Et=$.fnArray;let At=_e||0;const _t=bt.length;if(_t===At)return At;const Ct=_t-At>EXECUTION_STEPS&&typeof vt=="function",St=Ct?Date.now()+EXECUTION_TIME:0;let Rt=0;const Pt=this.commonObjs,kt=this.objs;let Mt;for(;;){if(xt!==void 0&&At===xt.nextBreakPoint)return xt.breakIt(At,vt),At;if(Mt=Et[At],Mt!==OPS.dependency)this[Mt].apply(this,bt[At]);else for(const Lt of bt[At]){const $t=Lt.startsWith("g_")?Pt:kt;if(!$t.has(Lt))return $t.get(Lt,vt),At}if(At++,At===_t)return At;if(Ct&&++Rt>EXECUTION_STEPS){if(Date.now()>St)return vt(),At;Rt=0}}}endDrawing(){Ut(this,Vu,Gx).call(this),this.cachedCanvases.clear(),this.cachedPatterns.clear();for(const $ of this._cachedBitmapsMap.values()){for(const _e of $.values())typeof HTMLCanvasElement<"u"&&_e instanceof HTMLCanvasElement&&(_e.width=_e.height=0);$.clear()}this._cachedBitmapsMap.clear(),Ut(this,Vu,Xx).call(this)}_scaleImage($,_e){const vt=$.width,xt=$.height;let bt=Math.max(Math.hypot(_e[0],_e[1]),1),Et=Math.max(Math.hypot(_e[2],_e[3]),1),At=vt,_t=xt,Ct="prescale1",St,Rt;for(;bt>2&&At>1||Et>2&&_t>1;){let Pt=At,kt=_t;bt>2&&At>1&&(Pt=At>=16384?Math.floor(At/2)-1||1:Math.ceil(At/2),bt/=At/Pt),Et>2&&_t>1&&(kt=_t>=16384?Math.floor(_t/2)-1||1:Math.ceil(_t)/2,Et/=_t/kt),St=this.cachedCanvases.getCanvas(Ct,Pt,kt),Rt=St.context,Rt.clearRect(0,0,Pt,kt),Rt.drawImage($,0,0,At,_t,0,0,Pt,kt),$=St.canvas,At=Pt,_t=kt,Ct=Ct==="prescale1"?"prescale2":"prescale1"}return{img:$,paintWidth:At,paintHeight:_t}}_createMaskCanvas($){const _e=this.ctx,{width:vt,height:xt}=$,bt=this.current.fillColor,Et=this.current.patternFill,At=getCurrentTransform(_e);let _t,Ct,St,Rt;if(($.bitmap||$.data)&&$.count>1){const zt=$.bitmap||$.data.buffer;Ct=JSON.stringify(Et?At:[At.slice(0,4),bt]),_t=this._cachedBitmapsMap.get(zt),_t||(_t=new Map,this._cachedBitmapsMap.set(zt,_t));const Kt=_t.get(Ct);if(Kt&&!Et){const nn=Math.round(Math.min(At[0],At[2])+At[4]),Xt=Math.round(Math.min(At[1],At[3])+At[5]);return{canvas:Kt,offsetX:nn,offsetY:Xt}}St=Kt}St||(Rt=this.cachedCanvases.getCanvas("maskCanvas",vt,xt),putBinaryImageMask(Rt.context,$));let Pt=Util.transform(At,[1/vt,0,0,-1/xt,0,0]);Pt=Util.transform(Pt,[1,0,0,1,0,-xt]);const[kt,Mt,Lt,$t]=Util.getAxialAlignedBoundingBox([0,0,vt,xt],Pt),Ft=Math.round(Lt-kt)||1,Dt=Math.round($t-Mt)||1,Nt=this.cachedCanvases.getCanvas("fillCanvas",Ft,Dt),Ht=Nt.context,Ot=kt,Bt=Mt;Ht.translate(-Ot,-Bt),Ht.transform(...Pt),St||(St=this._scaleImage(Rt.canvas,getCurrentTransformInverse(Ht)),St=St.img,_t&&Et&&_t.set(Ct,St)),Ht.imageSmoothingEnabled=getImageSmoothingEnabled(getCurrentTransform(Ht),$.interpolate),drawImageAtIntegerCoords(Ht,St,0,0,St.width,St.height,0,0,vt,xt),Ht.globalCompositeOperation="source-in";const jt=Util.transform(getCurrentTransformInverse(Ht),[1,0,0,1,-Ot,-Bt]);return Ht.fillStyle=Et?bt.getPattern(_e,this,jt,PathType.FILL):bt,Ht.fillRect(0,0,vt,xt),_t&&!Et&&(this.cachedCanvases.delete("fillCanvas"),_t.set(Ct,Nt.canvas)),{canvas:Nt.canvas,offsetX:Math.round(Ot),offsetY:Math.round(Bt)}}setLineWidth($){$!==this.current.lineWidth&&(this._cachedScaleForStroking[0]=-1),this.current.lineWidth=$,this.ctx.lineWidth=$}setLineCap($){this.ctx.lineCap=LINE_CAP_STYLES[$]}setLineJoin($){this.ctx.lineJoin=LINE_JOIN_STYLES[$]}setMiterLimit($){this.ctx.miterLimit=$}setDash($,_e){const vt=this.ctx;vt.setLineDash!==void 0&&(vt.setLineDash($),vt.lineDashOffset=_e)}setRenderingIntent($){}setFlatness($){}setGState($){for(const[_e,vt]of $)switch(_e){case"LW":this.setLineWidth(vt);break;case"LC":this.setLineCap(vt);break;case"LJ":this.setLineJoin(vt);break;case"ML":this.setMiterLimit(vt);break;case"D":this.setDash(vt[0],vt[1]);break;case"RI":this.setRenderingIntent(vt);break;case"FL":this.setFlatness(vt);break;case"Font":this.setFont(vt[0],vt[1]);break;case"CA":this.current.strokeAlpha=vt;break;case"ca":this.current.fillAlpha=vt,this.ctx.globalAlpha=vt;break;case"BM":this.ctx.globalCompositeOperation=vt;break;case"SMask":this.current.activeSMask=vt?this.tempSMask:null,this.tempSMask=null,this.checkSMaskState();break;case"TR":this.ctx.filter=this.current.transferMaps=this.filterFactory.addFilter(vt);break}}get inSMaskMode(){return!!this.suspendedCtx}checkSMaskState(){const $=this.inSMaskMode;this.current.activeSMask&&!$?this.beginSMaskMode():!this.current.activeSMask&&$&&this.endSMaskMode()}beginSMaskMode(){if(this.inSMaskMode)throw new Error("beginSMaskMode called while already in smask mode");const $=this.ctx.canvas.width,_e=this.ctx.canvas.height,vt="smaskGroupAt"+this.groupLevel,xt=this.cachedCanvases.getCanvas(vt,$,_e);this.suspendedCtx=this.ctx,this.ctx=xt.context;const bt=this.ctx;bt.setTransform(...getCurrentTransform(this.suspendedCtx)),copyCtxState(this.suspendedCtx,bt),mirrorContextOperations(bt,this.suspendedCtx),this.setGState([["BM","source-over"],["ca",1],["CA",1]])}endSMaskMode(){if(!this.inSMaskMode)throw new Error("endSMaskMode called while not in smask mode");this.ctx._removeMirroring(),copyCtxState(this.ctx,this.suspendedCtx),this.ctx=this.suspendedCtx,this.suspendedCtx=null}compose($){if(!this.current.activeSMask)return;$?($[0]=Math.floor($[0]),$[1]=Math.floor($[1]),$[2]=Math.ceil($[2]),$[3]=Math.ceil($[3])):$=[0,0,this.ctx.canvas.width,this.ctx.canvas.height];const _e=this.current.activeSMask,vt=this.suspendedCtx;this.composeSMask(vt,_e,this.ctx,$),this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.restore()}composeSMask($,_e,vt,xt){const bt=xt[0],Et=xt[1],At=xt[2]-bt,_t=xt[3]-Et;At===0||_t===0||(this.genericComposeSMask(_e.context,vt,At,_t,_e.subtype,_e.backdrop,_e.transferMap,bt,Et,_e.offsetX,_e.offsetY),$.save(),$.globalAlpha=1,$.globalCompositeOperation="source-over",$.setTransform(1,0,0,1,0,0),$.drawImage(vt.canvas,0,0),$.restore())}genericComposeSMask($,_e,vt,xt,bt,Et,At,_t,Ct,St,Rt){let Pt=$.canvas,kt=_t-St,Mt=Ct-Rt;if(Et){if(kt<0||Mt<0||kt+vt>Pt.width||Mt+xt>Pt.height){const $t=this.cachedCanvases.getCanvas("maskExtension",vt,xt),Ft=$t.context;Ft.drawImage(Pt,-kt,-Mt),Et.some(Dt=>Dt!==0)&&(Ft.globalCompositeOperation="destination-atop",Ft.fillStyle=Util.makeHexColor(...Et),Ft.fillRect(0,0,vt,xt),Ft.globalCompositeOperation="source-over"),Pt=$t.canvas,kt=Mt=0}else if(Et.some($t=>$t!==0)){$.save(),$.globalAlpha=1,$.setTransform(1,0,0,1,0,0);const $t=new Path2D;$t.rect(kt,Mt,vt,xt),$.clip($t),$.globalCompositeOperation="destination-atop",$.fillStyle=Util.makeHexColor(...Et),$.fillRect(kt,Mt,vt,xt),$.restore()}}_e.save(),_e.globalAlpha=1,_e.setTransform(1,0,0,1,0,0),bt==="Alpha"&&At?_e.filter=this.filterFactory.addAlphaFilter(At):bt==="Luminosity"&&(_e.filter=this.filterFactory.addLuminosityFilter(At));const Lt=new Path2D;Lt.rect(_t,Ct,vt,xt),_e.clip(Lt),_e.globalCompositeOperation="destination-in",_e.drawImage(Pt,kt,Mt,vt,xt,_t,Ct,vt,xt),_e.restore()}save(){this.inSMaskMode?(copyCtxState(this.ctx,this.suspendedCtx),this.suspendedCtx.save()):this.ctx.save();const $=this.current;this.stateStack.push($),this.current=$.clone()}restore(){this.stateStack.length===0&&this.inSMaskMode&&this.endSMaskMode(),this.stateStack.length!==0&&(this.current=this.stateStack.pop(),this.inSMaskMode?(this.suspendedCtx.restore(),copyCtxState(this.suspendedCtx,this.ctx)):this.ctx.restore(),this.checkSMaskState(),this.pendingClip=null,this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null)}transform($,_e,vt,xt,bt,Et){this.ctx.transform($,_e,vt,xt,bt,Et),this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}constructPath($,_e,vt){const xt=this.ctx,bt=this.current;let Et=bt.x,At=bt.y,_t,Ct;const St=getCurrentTransform(xt),Rt=St[0]===0&&St[3]===0||St[1]===0&&St[2]===0,Pt=Rt?vt.slice(0):null;for(let kt=0,Mt=0,Lt=$.length;kt<Lt;kt++)switch($[kt]|0){case OPS.rectangle:Et=_e[Mt++],At=_e[Mt++];const $t=_e[Mt++],Ft=_e[Mt++],Dt=Et+$t,Nt=At+Ft;xt.moveTo(Et,At),$t===0||Ft===0?xt.lineTo(Dt,Nt):(xt.lineTo(Dt,At),xt.lineTo(Dt,Nt),xt.lineTo(Et,Nt)),Rt||bt.updateRectMinMax(St,[Et,At,Dt,Nt]),xt.closePath();break;case OPS.moveTo:Et=_e[Mt++],At=_e[Mt++],xt.moveTo(Et,At),Rt||bt.updatePathMinMax(St,Et,At);break;case OPS.lineTo:Et=_e[Mt++],At=_e[Mt++],xt.lineTo(Et,At),Rt||bt.updatePathMinMax(St,Et,At);break;case OPS.curveTo:_t=Et,Ct=At,Et=_e[Mt+4],At=_e[Mt+5],xt.bezierCurveTo(_e[Mt],_e[Mt+1],_e[Mt+2],_e[Mt+3],Et,At),bt.updateCurvePathMinMax(St,_t,Ct,_e[Mt],_e[Mt+1],_e[Mt+2],_e[Mt+3],Et,At,Pt),Mt+=6;break;case OPS.curveTo2:_t=Et,Ct=At,xt.bezierCurveTo(Et,At,_e[Mt],_e[Mt+1],_e[Mt+2],_e[Mt+3]),bt.updateCurvePathMinMax(St,_t,Ct,Et,At,_e[Mt],_e[Mt+1],_e[Mt+2],_e[Mt+3],Pt),Et=_e[Mt+2],At=_e[Mt+3],Mt+=4;break;case OPS.curveTo3:_t=Et,Ct=At,Et=_e[Mt+2],At=_e[Mt+3],xt.bezierCurveTo(_e[Mt],_e[Mt+1],Et,At,Et,At),bt.updateCurvePathMinMax(St,_t,Ct,_e[Mt],_e[Mt+1],Et,At,Et,At,Pt),Mt+=4;break;case OPS.closePath:xt.closePath();break}Rt&&bt.updateScalingPathMinMax(St,Pt),bt.setCurrentPoint(Et,At)}closePath(){this.ctx.closePath()}stroke($=!0){const _e=this.ctx,vt=this.current.strokeColor;_e.globalAlpha=this.current.strokeAlpha,this.contentVisible&&(typeof vt=="object"&&(vt!=null&&vt.getPattern)?(_e.save(),_e.strokeStyle=vt.getPattern(_e,this,getCurrentTransformInverse(_e),PathType.STROKE),this.rescaleAndStroke(!1),_e.restore()):this.rescaleAndStroke(!0)),$&&this.consumePath(this.current.getClippedPathBoundingBox()),_e.globalAlpha=this.current.fillAlpha}closeStroke(){this.closePath(),this.stroke()}fill($=!0){const _e=this.ctx,vt=this.current.fillColor,xt=this.current.patternFill;let bt=!1;xt&&(_e.save(),_e.fillStyle=vt.getPattern(_e,this,getCurrentTransformInverse(_e),PathType.FILL),bt=!0);const Et=this.current.getClippedPathBoundingBox();this.contentVisible&&Et!==null&&(this.pendingEOFill?(_e.fill("evenodd"),this.pendingEOFill=!1):_e.fill()),bt&&_e.restore(),$&&this.consumePath(Et)}eoFill(){this.pendingEOFill=!0,this.fill()}fillStroke(){this.fill(!1),this.stroke(!1),this.consumePath()}eoFillStroke(){this.pendingEOFill=!0,this.fillStroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.pendingEOFill=!0,this.closePath(),this.fillStroke()}endPath(){this.consumePath()}clip(){this.pendingClip=NORMAL_CLIP}eoClip(){this.pendingClip=EO_CLIP}beginText(){this.current.textMatrix=IDENTITY_MATRIX,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}endText(){const $=this.pendingTextPaths,_e=this.ctx;if($===void 0){_e.beginPath();return}_e.save(),_e.beginPath();for(const vt of $)_e.setTransform(...vt.transform),_e.translate(vt.x,vt.y),vt.addToPath(_e,vt.fontSize);_e.restore(),_e.clip(),_e.beginPath(),delete this.pendingTextPaths}setCharSpacing($){this.current.charSpacing=$}setWordSpacing($){this.current.wordSpacing=$}setHScale($){this.current.textHScale=$/100}setLeading($){this.current.leading=-$}setFont($,_e){var St;const vt=this.commonObjs.get($),xt=this.current;if(!vt)throw new Error(`Can't find font for ${$}`);if(xt.fontMatrix=vt.fontMatrix||FONT_IDENTITY_MATRIX,(xt.fontMatrix[0]===0||xt.fontMatrix[3]===0)&&warn("Invalid font matrix for font "+$),_e<0?(_e=-_e,xt.fontDirection=-1):xt.fontDirection=1,this.current.font=vt,this.current.fontSize=_e,vt.isType3Font)return;const bt=vt.loadedName||"sans-serif",Et=((St=vt.systemFontInfo)==null?void 0:St.css)||`"${bt}", ${vt.fallbackName}`;let At="normal";vt.black?At="900":vt.bold&&(At="bold");const _t=vt.italic?"italic":"normal";let Ct=_e;_e<MIN_FONT_SIZE?Ct=MIN_FONT_SIZE:_e>MAX_FONT_SIZE&&(Ct=MAX_FONT_SIZE),this.current.fontSizeScale=_e/Ct,this.ctx.font=`${_t} ${At} ${Ct}px ${Et}`}setTextRenderingMode($){this.current.textRenderingMode=$}setTextRise($){this.current.textRise=$}moveText($,_e){this.current.x=this.current.lineX+=$,this.current.y=this.current.lineY+=_e}setLeadingMoveText($,_e){this.setLeading(-_e),this.moveText($,_e)}setTextMatrix($,_e,vt,xt,bt,Et){this.current.textMatrix=[$,_e,vt,xt,bt,Et],this.current.textMatrixScale=Math.hypot($,_e),this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}nextLine(){this.moveText(0,this.current.leading)}paintChar($,_e,vt,xt){const bt=this.ctx,Et=this.current,At=Et.font,_t=Et.textRenderingMode,Ct=Et.fontSize/Et.fontSizeScale,St=_t&TextRenderingMode.FILL_STROKE_MASK,Rt=!!(_t&TextRenderingMode.ADD_TO_PATH_FLAG),Pt=Et.patternFill&&!At.missingFile;let kt;(At.disableFontFace||Rt||Pt)&&(kt=At.getPathGenerator(this.commonObjs,$)),At.disableFontFace||Pt?(bt.save(),bt.translate(_e,vt),bt.beginPath(),kt(bt,Ct),xt&&bt.setTransform(...xt),(St===TextRenderingMode.FILL||St===TextRenderingMode.FILL_STROKE)&&bt.fill(),(St===TextRenderingMode.STROKE||St===TextRenderingMode.FILL_STROKE)&&bt.stroke(),bt.restore()):((St===TextRenderingMode.FILL||St===TextRenderingMode.FILL_STROKE)&&bt.fillText($,_e,vt),(St===TextRenderingMode.STROKE||St===TextRenderingMode.FILL_STROKE)&&bt.strokeText($,_e,vt)),Rt&&(this.pendingTextPaths||(this.pendingTextPaths=[])).push({transform:getCurrentTransform(bt),x:_e,y:vt,fontSize:Ct,addToPath:kt})}get isFontSubpixelAAEnabled(){const{context:$}=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10);$.scale(1.5,1),$.fillText("I",0,10);const _e=$.getImageData(0,0,10,10).data;let vt=!1;for(let xt=3;xt<_e.length;xt+=4)if(_e[xt]>0&&_e[xt]<255){vt=!0;break}return shadow(this,"isFontSubpixelAAEnabled",vt)}showText($){const _e=this.current,vt=_e.font;if(vt.isType3Font)return this.showType3Text($);const xt=_e.fontSize;if(xt===0)return;const bt=this.ctx,Et=_e.fontSizeScale,At=_e.charSpacing,_t=_e.wordSpacing,Ct=_e.fontDirection,St=_e.textHScale*Ct,Rt=$.length,Pt=vt.vertical,kt=Pt?1:-1,Mt=vt.defaultVMetrics,Lt=xt*_e.fontMatrix[0],$t=_e.textRenderingMode===TextRenderingMode.FILL&&!vt.disableFontFace&&!_e.patternFill;bt.save(),bt.transform(..._e.textMatrix),bt.translate(_e.x,_e.y+_e.textRise),Ct>0?bt.scale(St,-1):bt.scale(St,1);let Ft;if(_e.patternFill){bt.save();const Bt=_e.fillColor.getPattern(bt,this,getCurrentTransformInverse(bt),PathType.FILL);Ft=getCurrentTransform(bt),bt.restore(),bt.fillStyle=Bt}let Dt=_e.lineWidth;const Nt=_e.textMatrixScale;if(Nt===0||Dt===0){const Bt=_e.textRenderingMode&TextRenderingMode.FILL_STROKE_MASK;(Bt===TextRenderingMode.STROKE||Bt===TextRenderingMode.FILL_STROKE)&&(Dt=this.getSinglePixelWidth())}else Dt/=Nt;if(Et!==1&&(bt.scale(Et,Et),Dt/=Et),bt.lineWidth=Dt,vt.isInvalidPDFjsFont){const Bt=[];let jt=0;for(const zt of $)Bt.push(zt.unicode),jt+=zt.width;bt.fillText(Bt.join(""),0,0),_e.x+=jt*Lt*St,bt.restore(),this.compose();return}let Ht=0,Ot;for(Ot=0;Ot<Rt;++Ot){const Bt=$[Ot];if(typeof Bt=="number"){Ht+=kt*Bt*xt/1e3;continue}let jt=!1;const zt=(Bt.isSpace?_t:0)+At,Kt=Bt.fontChar,nn=Bt.accent;let Xt,en,on=Bt.width;if(Pt){const un=Bt.vmetric||Mt,vn=-(Bt.vmetric?un[1]:on*.5)*Lt,an=un[2]*Lt;on=un?-un[0]:on,Xt=vn/Et,en=(Ht+an)/Et}else Xt=Ht/Et,en=0;if(vt.remeasure&&on>0){const un=bt.measureText(Kt).width*1e3/xt*Et;if(on<un&&this.isFontSubpixelAAEnabled){const vn=on/un;jt=!0,bt.save(),bt.scale(vn,1),Xt/=vn}else on!==un&&(Xt+=(on-un)/2e3*xt/Et)}if(this.contentVisible&&(Bt.isInFont||vt.missingFile)){if($t&&!nn)bt.fillText(Kt,Xt,en);else if(this.paintChar(Kt,Xt,en,Ft),nn){const un=Xt+xt*nn.offset.x/Et,vn=en-xt*nn.offset.y/Et;this.paintChar(nn.fontChar,un,vn,Ft)}}const An=Pt?on*Lt-zt*Ct:on*Lt+zt*Ct;Ht+=An,jt&&bt.restore()}Pt?_e.y-=Ht:_e.x+=Ht*St,bt.restore(),this.compose()}showType3Text($){const _e=this.ctx,vt=this.current,xt=vt.font,bt=vt.fontSize,Et=vt.fontDirection,At=xt.vertical?1:-1,_t=vt.charSpacing,Ct=vt.wordSpacing,St=vt.textHScale*Et,Rt=vt.fontMatrix||FONT_IDENTITY_MATRIX,Pt=$.length,kt=vt.textRenderingMode===TextRenderingMode.INVISIBLE;let Mt,Lt,$t,Ft;if(!(kt||bt===0)){for(this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null,_e.save(),_e.transform(...vt.textMatrix),_e.translate(vt.x,vt.y),_e.scale(St,Et),Mt=0;Mt<Pt;++Mt){if(Lt=$[Mt],typeof Lt=="number"){Ft=At*Lt*bt/1e3,this.ctx.translate(Ft,0),vt.x+=Ft*St;continue}const Dt=(Lt.isSpace?Ct:0)+_t,Nt=xt.charProcOperatorList[Lt.operatorListId];if(!Nt){warn(`Type3 character "${Lt.operatorListId}" is not available.`);continue}this.contentVisible&&(this.processingType3=Lt,this.save(),_e.scale(bt,bt),_e.transform(...Rt),this.executeOperatorList(Nt),this.restore()),$t=Util.applyTransform([Lt.width,0],Rt)[0]*bt+Dt,_e.translate($t,0),vt.x+=$t*St}_e.restore(),this.processingType3=null}}setCharWidth($,_e){}setCharWidthAndBounds($,_e,vt,xt,bt,Et){this.ctx.rect(vt,xt,bt-vt,Et-xt),this.ctx.clip(),this.endPath()}getColorN_Pattern($){let _e;if($[0]==="TilingPattern"){const vt=$[1],xt=this.baseTransform||getCurrentTransform(this.ctx),bt={createCanvasGraphics:Et=>new iE(Et,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:this.optionalContentConfig,markedContentStack:this.markedContentStack})};_e=new TilingPattern($,vt,this.ctx,bt,xt)}else _e=this._getPattern($[1],$[2]);return _e}setStrokeColorN(){this.current.strokeColor=this.getColorN_Pattern(arguments)}setFillColorN(){this.current.fillColor=this.getColorN_Pattern(arguments),this.current.patternFill=!0}setStrokeRGBColor($,_e,vt){const xt=Util.makeHexColor($,_e,vt);this.ctx.strokeStyle=xt,this.current.strokeColor=xt}setFillRGBColor($,_e,vt){const xt=Util.makeHexColor($,_e,vt);this.ctx.fillStyle=xt,this.current.fillColor=xt,this.current.patternFill=!1}_getPattern($,_e=null){let vt;return this.cachedPatterns.has($)?vt=this.cachedPatterns.get($):(vt=getShadingPattern(this.getObject($)),this.cachedPatterns.set($,vt)),_e&&(vt.matrix=_e),vt}shadingFill($){if(!this.contentVisible)return;const _e=this.ctx;this.save();const vt=this._getPattern($);_e.fillStyle=vt.getPattern(_e,this,getCurrentTransformInverse(_e),PathType.SHADING);const xt=getCurrentTransformInverse(_e);if(xt){const{width:bt,height:Et}=_e.canvas,[At,_t,Ct,St]=Util.getAxialAlignedBoundingBox([0,0,bt,Et],xt);this.ctx.fillRect(At,_t,Ct-At,St-_t)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);this.compose(this.current.getClippedPathBoundingBox()),this.restore()}beginInlineImage(){unreachable("Should not call beginInlineImage")}beginImageData(){unreachable("Should not call beginImageData")}paintFormXObjectBegin($,_e){if(this.contentVisible&&(this.save(),this.baseTransformStack.push(this.baseTransform),$&&this.transform(...$),this.baseTransform=getCurrentTransform(this.ctx),_e)){const vt=_e[2]-_e[0],xt=_e[3]-_e[1];this.ctx.rect(_e[0],_e[1],vt,xt),this.current.updateRectMinMax(getCurrentTransform(this.ctx),_e),this.clip(),this.endPath()}}paintFormXObjectEnd(){this.contentVisible&&(this.restore(),this.baseTransform=this.baseTransformStack.pop())}beginGroup($){if(!this.contentVisible)return;this.save(),this.inSMaskMode&&(this.endSMaskMode(),this.current.activeSMask=null);const _e=this.ctx;$.isolated||info("TODO: Support non-isolated groups."),$.knockout&&warn("Knockout groups not supported.");const vt=getCurrentTransform(_e);if($.matrix&&_e.transform(...$.matrix),!$.bbox)throw new Error("Bounding box is required.");let xt=Util.getAxialAlignedBoundingBox($.bbox,getCurrentTransform(_e));const bt=[0,0,_e.canvas.width,_e.canvas.height];xt=Util.intersect(xt,bt)||[0,0,0,0];const Et=Math.floor(xt[0]),At=Math.floor(xt[1]),_t=Math.max(Math.ceil(xt[2])-Et,1),Ct=Math.max(Math.ceil(xt[3])-At,1);this.current.startNewPathAndClipBox([0,0,_t,Ct]);let St="groupAt"+this.groupLevel;$.smask&&(St+="_smask_"+this.smaskCounter++%2);const Rt=this.cachedCanvases.getCanvas(St,_t,Ct),Pt=Rt.context;Pt.translate(-Et,-At),Pt.transform(...vt),$.smask?this.smaskStack.push({canvas:Rt.canvas,context:Pt,offsetX:Et,offsetY:At,subtype:$.smask.subtype,backdrop:$.smask.backdrop,transferMap:$.smask.transferMap||null,startTransformInverse:null}):(_e.setTransform(1,0,0,1,0,0),_e.translate(Et,At),_e.save()),copyCtxState(_e,Pt),this.ctx=Pt,this.setGState([["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(_e),this.groupLevel++}endGroup($){if(!this.contentVisible)return;this.groupLevel--;const _e=this.ctx,vt=this.groupStack.pop();if(this.ctx=vt,this.ctx.imageSmoothingEnabled=!1,$.smask)this.tempSMask=this.smaskStack.pop(),this.restore();else{this.ctx.restore();const xt=getCurrentTransform(this.ctx);this.restore(),this.ctx.save(),this.ctx.setTransform(...xt);const bt=Util.getAxialAlignedBoundingBox([0,0,_e.canvas.width,_e.canvas.height],xt);this.ctx.drawImage(_e.canvas,0,0),this.ctx.restore(),this.compose(bt)}}beginAnnotation($,_e,vt,xt,bt){if(Ut(this,Vu,Gx).call(this),resetCtxToDefault(this.ctx),this.ctx.save(),this.save(),this.baseTransform&&this.ctx.setTransform(...this.baseTransform),_e){const Et=_e[2]-_e[0],At=_e[3]-_e[1];if(bt&&this.annotationCanvasMap){vt=vt.slice(),vt[4]-=_e[0],vt[5]-=_e[1],_e=_e.slice(),_e[0]=_e[1]=0,_e[2]=Et,_e[3]=At;const[_t,Ct]=Util.singularValueDecompose2dScale(getCurrentTransform(this.ctx)),{viewportScale:St}=this,Rt=Math.ceil(Et*this.outputScaleX*St),Pt=Math.ceil(At*this.outputScaleY*St);this.annotationCanvas=this.canvasFactory.create(Rt,Pt);const{canvas:kt,context:Mt}=this.annotationCanvas;this.annotationCanvasMap.set($,kt),this.annotationCanvas.savedCtx=this.ctx,this.ctx=Mt,this.ctx.save(),this.ctx.setTransform(_t,0,0,-Ct,0,At*Ct),resetCtxToDefault(this.ctx)}else resetCtxToDefault(this.ctx),this.ctx.rect(_e[0],_e[1],Et,At),this.ctx.clip(),this.endPath()}this.current=new CanvasExtraState(this.ctx.canvas.width,this.ctx.canvas.height),this.transform(...vt),this.transform(...xt)}endAnnotation(){this.annotationCanvas&&(this.ctx.restore(),Ut(this,Vu,Xx).call(this),this.ctx=this.annotationCanvas.savedCtx,delete this.annotationCanvas.savedCtx,delete this.annotationCanvas)}paintImageMaskXObject($){if(!this.contentVisible)return;const _e=$.count;$=this.getObject($.data,$),$.count=_e;const vt=this.ctx,xt=this.processingType3;if(xt&&(xt.compiled===void 0&&(xt.compiled=compileType3Glyph($)),xt.compiled)){xt.compiled(vt);return}const bt=this._createMaskCanvas($),Et=bt.canvas;vt.save(),vt.setTransform(1,0,0,1,0,0),vt.drawImage(Et,bt.offsetX,bt.offsetY),vt.restore(),this.compose()}paintImageMaskXObjectRepeat($,_e,vt=0,xt=0,bt,Et){if(!this.contentVisible)return;$=this.getObject($.data,$);const At=this.ctx;At.save();const _t=getCurrentTransform(At);At.transform(_e,vt,xt,bt,0,0);const Ct=this._createMaskCanvas($);At.setTransform(1,0,0,1,Ct.offsetX-_t[4],Ct.offsetY-_t[5]);for(let St=0,Rt=Et.length;St<Rt;St+=2){const Pt=Util.transform(_t,[_e,vt,xt,bt,Et[St],Et[St+1]]),[kt,Mt]=Util.applyTransform([0,0],Pt);At.drawImage(Ct.canvas,kt,Mt)}At.restore(),this.compose()}paintImageMaskXObjectGroup($){if(!this.contentVisible)return;const _e=this.ctx,vt=this.current.fillColor,xt=this.current.patternFill;for(const bt of $){const{data:Et,width:At,height:_t,transform:Ct}=bt,St=this.cachedCanvases.getCanvas("maskCanvas",At,_t),Rt=St.context;Rt.save();const Pt=this.getObject(Et,bt);putBinaryImageMask(Rt,Pt),Rt.globalCompositeOperation="source-in",Rt.fillStyle=xt?vt.getPattern(Rt,this,getCurrentTransformInverse(_e),PathType.FILL):vt,Rt.fillRect(0,0,At,_t),Rt.restore(),_e.save(),_e.transform(...Ct),_e.scale(1,-1),drawImageAtIntegerCoords(_e,St.canvas,0,0,At,_t,0,-1,1,1),_e.restore()}this.compose()}paintImageXObject($){if(!this.contentVisible)return;const _e=this.getObject($);if(!_e){warn("Dependent image isn't ready yet");return}this.paintInlineImageXObject(_e)}paintImageXObjectRepeat($,_e,vt,xt){if(!this.contentVisible)return;const bt=this.getObject($);if(!bt){warn("Dependent image isn't ready yet");return}const Et=bt.width,At=bt.height,_t=[];for(let Ct=0,St=xt.length;Ct<St;Ct+=2)_t.push({transform:[_e,0,0,vt,xt[Ct],xt[Ct+1]],x:0,y:0,w:Et,h:At});this.paintInlineImageXObjectGroup(bt,_t)}applyTransferMapsToCanvas($){return this.current.transferMaps!=="none"&&($.filter=this.current.transferMaps,$.drawImage($.canvas,0,0),$.filter="none"),$.canvas}applyTransferMapsToBitmap($){if(this.current.transferMaps==="none")return $.bitmap;const{bitmap:_e,width:vt,height:xt}=$,bt=this.cachedCanvases.getCanvas("inlineImage",vt,xt),Et=bt.context;return Et.filter=this.current.transferMaps,Et.drawImage(_e,0,0),Et.filter="none",bt.canvas}paintInlineImageXObject($){if(!this.contentVisible)return;const _e=$.width,vt=$.height,xt=this.ctx;if(this.save(),!isNodeJS){const{filter:At}=xt;At!=="none"&&At!==""&&(xt.filter="none")}xt.scale(1/_e,-1/vt);let bt;if($.bitmap)bt=this.applyTransferMapsToBitmap($);else if(typeof HTMLElement=="function"&&$ instanceof HTMLElement||!$.data)bt=$;else{const _t=this.cachedCanvases.getCanvas("inlineImage",_e,vt).context;putBinaryImageData(_t,$),bt=this.applyTransferMapsToCanvas(_t)}const Et=this._scaleImage(bt,getCurrentTransformInverse(xt));xt.imageSmoothingEnabled=getImageSmoothingEnabled(getCurrentTransform(xt),$.interpolate),drawImageAtIntegerCoords(xt,Et.img,0,0,Et.paintWidth,Et.paintHeight,0,-vt,_e,vt),this.compose(),this.restore()}paintInlineImageXObjectGroup($,_e){if(!this.contentVisible)return;const vt=this.ctx;let xt;if($.bitmap)xt=$.bitmap;else{const bt=$.width,Et=$.height,_t=this.cachedCanvases.getCanvas("inlineImage",bt,Et).context;putBinaryImageData(_t,$),xt=this.applyTransferMapsToCanvas(_t)}for(const bt of _e)vt.save(),vt.transform(...bt.transform),vt.scale(1,-1),drawImageAtIntegerCoords(vt,xt,bt.x,bt.y,bt.w,bt.h,0,-1,1,1),vt.restore();this.compose()}paintSolidColorImageMask(){this.contentVisible&&(this.ctx.fillRect(0,0,1,1),this.compose())}markPoint($){}markPointProps($,_e){}beginMarkedContent($){this.markedContentStack.push({visible:!0})}beginMarkedContentProps($,_e){$==="OC"?this.markedContentStack.push({visible:this.optionalContentConfig.isVisible(_e)}):this.markedContentStack.push({visible:!0}),this.contentVisible=this.isContentVisible()}endMarkedContent(){this.markedContentStack.pop(),this.contentVisible=this.isContentVisible()}beginCompat(){}endCompat(){}consumePath($){const _e=this.current.isEmptyClip();this.pendingClip&&this.current.updateClipFromPath(),this.pendingClip||this.compose($);const vt=this.ctx;this.pendingClip&&(_e||(this.pendingClip===EO_CLIP?vt.clip("evenodd"):vt.clip()),this.pendingClip=null),this.current.startNewPathAndClipBox(this.current.clipBox),vt.beginPath()}getSinglePixelWidth(){if(!this._cachedGetSinglePixelWidth){const $=getCurrentTransform(this.ctx);if($[1]===0&&$[2]===0)this._cachedGetSinglePixelWidth=1/Math.min(Math.abs($[0]),Math.abs($[3]));else{const _e=Math.abs($[0]*$[3]-$[2]*$[1]),vt=Math.hypot($[0],$[2]),xt=Math.hypot($[1],$[3]);this._cachedGetSinglePixelWidth=Math.max(vt,xt)/_e}}return this._cachedGetSinglePixelWidth}getScaleForStroking(){if(this._cachedScaleForStroking[0]===-1){const{lineWidth:$}=this.current,{a:_e,b:vt,c:xt,d:bt}=this.ctx.getTransform();let Et,At;if(vt===0&&xt===0){const _t=Math.abs(_e),Ct=Math.abs(bt);if(_t===Ct)if($===0)Et=At=1/_t;else{const St=_t*$;Et=At=St<1?1/St:1}else if($===0)Et=1/_t,At=1/Ct;else{const St=_t*$,Rt=Ct*$;Et=St<1?1/St:1,At=Rt<1?1/Rt:1}}else{const _t=Math.abs(_e*bt-vt*xt),Ct=Math.hypot(_e,vt),St=Math.hypot(xt,bt);if($===0)Et=St/_t,At=Ct/_t;else{const Rt=$*_t;Et=St>Rt?St/Rt:1,At=Ct>Rt?Ct/Rt:1}}this._cachedScaleForStroking[0]=Et,this._cachedScaleForStroking[1]=At}return this._cachedScaleForStroking}rescaleAndStroke($){const{ctx:_e}=this,{lineWidth:vt}=this.current,[xt,bt]=this.getScaleForStroking();if(_e.lineWidth=vt||1,xt===1&&bt===1){_e.stroke();return}const Et=_e.getLineDash();if($&&_e.save(),_e.scale(xt,bt),Et.length>0){const At=Math.max(xt,bt);_e.setLineDash(Et.map(_t=>_t/At)),_e.lineDashOffset/=At}_e.stroke(),$&&_e.restore()}isContentVisible(){for(let $=this.markedContentStack.length-1;$>=0;$--)if(!this.markedContentStack[$].visible)return!1;return!0}};Vu=new WeakSet,Gx=function(){for(;this.stateStack.length||this.inSMaskMode;)this.restore();this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null)},Xx=function(){if(this.pageColors){const $=this.filterFactory.addHCMFilter(this.pageColors.foreground,this.pageColors.background);if($!=="none"){const _e=this.ctx.filter;this.ctx.filter=$,this.ctx.drawImage(this.ctx.canvas,0,0),this.ctx.filter=_e}}};let CanvasGraphics=iE;for(const ht in OPS)CanvasGraphics.prototype[ht]!==void 0&&(CanvasGraphics.prototype[OPS[ht]]=CanvasGraphics.prototype[ht]);var J0,ev;class GlobalWorkerOptions{static get workerPort(){return wt(this,J0)}static set workerPort($){if(!(typeof Worker<"u"&&$ instanceof Worker)&&$!==null)throw new Error("Invalid `workerPort` type.");Vt(this,J0,$)}static get workerSrc(){return wt(this,ev)}static set workerSrc($){if(typeof $!="string")throw new Error("Invalid `workerSrc` type.");Vt(this,ev,$)}}J0=new WeakMap,ev=new WeakMap,Gt(GlobalWorkerOptions,J0,null),Gt(GlobalWorkerOptions,ev,"");const CallbackKind={UNKNOWN:0,DATA:1,ERROR:2},StreamKind={UNKNOWN:0,CANCEL:1,CANCEL_COMPLETE:2,CLOSE:3,ENQUEUE:4,ERROR:5,PULL:6,PULL_COMPLETE:7,START_COMPLETE:8};function wrapReason(ht){switch(ht instanceof Error||typeof ht=="object"&&ht!==null||unreachable('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),ht.name){case"AbortException":return new AbortException(ht.message);case"MissingPDFException":return new MissingPDFException(ht.message);case"PasswordException":return new PasswordException(ht.message,ht.code);case"UnexpectedResponseException":return new UnexpectedResponseException(ht.message,ht.status);case"UnknownErrorException":return new UnknownErrorException(ht.message,ht.details);default:return new UnknownErrorException(ht.message,ht.toString())}}var Dl,KE,YE,gy;class MessageHandler{constructor($,_e,vt){Gt(this,Dl);this.sourceName=$,this.targetName=_e,this.comObj=vt,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),this._onComObjOnMessage=xt=>{const bt=xt.data;if(bt.targetName!==this.sourceName)return;if(bt.stream){Ut(this,Dl,YE).call(this,bt);return}if(bt.callback){const At=bt.callbackId,_t=this.callbackCapabilities[At];if(!_t)throw new Error(`Cannot resolve callback ${At}`);if(delete this.callbackCapabilities[At],bt.callback===CallbackKind.DATA)_t.resolve(bt.data);else if(bt.callback===CallbackKind.ERROR)_t.reject(wrapReason(bt.reason));else throw new Error("Unexpected callback case");return}const Et=this.actionHandler[bt.action];if(!Et)throw new Error(`Unknown action from worker: ${bt.action}`);if(bt.callbackId){const At=this.sourceName,_t=bt.sourceName;new Promise(function(Ct){Ct(Et(bt.data))}).then(function(Ct){vt.postMessage({sourceName:At,targetName:_t,callback:CallbackKind.DATA,callbackId:bt.callbackId,data:Ct})},function(Ct){vt.postMessage({sourceName:At,targetName:_t,callback:CallbackKind.ERROR,callbackId:bt.callbackId,reason:wrapReason(Ct)})});return}if(bt.streamId){Ut(this,Dl,KE).call(this,bt);return}Et(bt.data)},vt.addEventListener("message",this._onComObjOnMessage)}on($,_e){const vt=this.actionHandler;if(vt[$])throw new Error(`There is already an actionName called "${$}"`);vt[$]=_e}send($,_e,vt){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:$,data:_e},vt)}sendWithPromise($,_e,vt){const xt=this.callbackId++,bt=Promise.withResolvers();this.callbackCapabilities[xt]=bt;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:$,callbackId:xt,data:_e},vt)}catch(Et){bt.reject(Et)}return bt.promise}sendWithStream($,_e,vt,xt){const bt=this.streamId++,Et=this.sourceName,At=this.targetName,_t=this.comObj;return new ReadableStream({start:Ct=>{const St=Promise.withResolvers();return this.streamControllers[bt]={controller:Ct,startCall:St,pullCall:null,cancelCall:null,isClosed:!1},_t.postMessage({sourceName:Et,targetName:At,action:$,streamId:bt,data:_e,desiredSize:Ct.desiredSize},xt),St.promise},pull:Ct=>{const St=Promise.withResolvers();return this.streamControllers[bt].pullCall=St,_t.postMessage({sourceName:Et,targetName:At,stream:StreamKind.PULL,streamId:bt,desiredSize:Ct.desiredSize}),St.promise},cancel:Ct=>{assert(Ct instanceof Error,"cancel must have a valid reason");const St=Promise.withResolvers();return this.streamControllers[bt].cancelCall=St,this.streamControllers[bt].isClosed=!0,_t.postMessage({sourceName:Et,targetName:At,stream:StreamKind.CANCEL,streamId:bt,reason:wrapReason(Ct)}),St.promise}},vt)}destroy(){this.comObj.removeEventListener("message",this._onComObjOnMessage)}}Dl=new WeakSet,KE=function($){const _e=$.streamId,vt=this.sourceName,xt=$.sourceName,bt=this.comObj,Et=this,At=this.actionHandler[$.action],_t={enqueue(Ct,St=1,Rt){if(this.isCancelled)return;const Pt=this.desiredSize;this.desiredSize-=St,Pt>0&&this.desiredSize<=0&&(this.sinkCapability=Promise.withResolvers(),this.ready=this.sinkCapability.promise),bt.postMessage({sourceName:vt,targetName:xt,stream:StreamKind.ENQUEUE,streamId:_e,chunk:Ct},Rt)},close(){this.isCancelled||(this.isCancelled=!0,bt.postMessage({sourceName:vt,targetName:xt,stream:StreamKind.CLOSE,streamId:_e}),delete Et.streamSinks[_e])},error(Ct){assert(Ct instanceof Error,"error must have a valid reason"),!this.isCancelled&&(this.isCancelled=!0,bt.postMessage({sourceName:vt,targetName:xt,stream:StreamKind.ERROR,streamId:_e,reason:wrapReason(Ct)}))},sinkCapability:Promise.withResolvers(),onPull:null,onCancel:null,isCancelled:!1,desiredSize:$.desiredSize,ready:null};_t.sinkCapability.resolve(),_t.ready=_t.sinkCapability.promise,this.streamSinks[_e]=_t,new Promise(function(Ct){Ct(At($.data,_t))}).then(function(){bt.postMessage({sourceName:vt,targetName:xt,stream:StreamKind.START_COMPLETE,streamId:_e,success:!0})},function(Ct){bt.postMessage({sourceName:vt,targetName:xt,stream:StreamKind.START_COMPLETE,streamId:_e,reason:wrapReason(Ct)})})},YE=function($){const _e=$.streamId,vt=this.sourceName,xt=$.sourceName,bt=this.comObj,Et=this.streamControllers[_e],At=this.streamSinks[_e];switch($.stream){case StreamKind.START_COMPLETE:$.success?Et.startCall.resolve():Et.startCall.reject(wrapReason($.reason));break;case StreamKind.PULL_COMPLETE:$.success?Et.pullCall.resolve():Et.pullCall.reject(wrapReason($.reason));break;case StreamKind.PULL:if(!At){bt.postMessage({sourceName:vt,targetName:xt,stream:StreamKind.PULL_COMPLETE,streamId:_e,success:!0});break}At.desiredSize<=0&&$.desiredSize>0&&At.sinkCapability.resolve(),At.desiredSize=$.desiredSize,new Promise(function(_t){var Ct;_t((Ct=At.onPull)==null?void 0:Ct.call(At))}).then(function(){bt.postMessage({sourceName:vt,targetName:xt,stream:StreamKind.PULL_COMPLETE,streamId:_e,success:!0})},function(_t){bt.postMessage({sourceName:vt,targetName:xt,stream:StreamKind.PULL_COMPLETE,streamId:_e,reason:wrapReason(_t)})});break;case StreamKind.ENQUEUE:if(assert(Et,"enqueue should have stream controller"),Et.isClosed)break;Et.controller.enqueue($.chunk);break;case StreamKind.CLOSE:if(assert(Et,"close should have stream controller"),Et.isClosed)break;Et.isClosed=!0,Et.controller.close(),Ut(this,Dl,gy).call(this,Et,_e);break;case StreamKind.ERROR:assert(Et,"error should have stream controller"),Et.controller.error(wrapReason($.reason)),Ut(this,Dl,gy).call(this,Et,_e);break;case StreamKind.CANCEL_COMPLETE:$.success?Et.cancelCall.resolve():Et.cancelCall.reject(wrapReason($.reason)),Ut(this,Dl,gy).call(this,Et,_e);break;case StreamKind.CANCEL:if(!At)break;new Promise(function(_t){var Ct;_t((Ct=At.onCancel)==null?void 0:Ct.call(At,wrapReason($.reason)))}).then(function(){bt.postMessage({sourceName:vt,targetName:xt,stream:StreamKind.CANCEL_COMPLETE,streamId:_e,success:!0})},function(_t){bt.postMessage({sourceName:vt,targetName:xt,stream:StreamKind.CANCEL_COMPLETE,streamId:_e,reason:wrapReason(_t)})}),At.sinkCapability.reject(wrapReason($.reason)),At.isCancelled=!0,delete this.streamSinks[_e];break;default:throw new Error("Unexpected stream case")}},gy=async function($,_e){var vt,xt,bt;await Promise.allSettled([(vt=$.startCall)==null?void 0:vt.promise,(xt=$.pullCall)==null?void 0:xt.promise,(bt=$.cancelCall)==null?void 0:bt.promise]),delete this.streamControllers[_e]};var dp,tv;class Metadata{constructor({parsedData:$,rawData:_e}){Gt(this,dp);Gt(this,tv);Vt(this,dp,$),Vt(this,tv,_e)}getRaw(){return wt(this,tv)}get($){return wt(this,dp).get($)??null}getAll(){return objectFromMap(wt(this,dp))}has($){return wt(this,dp).has($)}}dp=new WeakMap,tv=new WeakMap;const INTERNAL=Symbol("INTERNAL");var nv,iv,rv,xm;class OptionalContentGroup{constructor($,{name:_e,intent:vt,usage:xt}){Gt(this,nv,!1);Gt(this,iv,!1);Gt(this,rv,!1);Gt(this,xm,!0);Vt(this,nv,!!($&RenderingIntentFlag.DISPLAY)),Vt(this,iv,!!($&RenderingIntentFlag.PRINT)),this.name=_e,this.intent=vt,this.usage=xt}get visible(){if(wt(this,rv))return wt(this,xm);if(!wt(this,xm))return!1;const{print:$,view:_e}=this.usage;return wt(this,nv)?(_e==null?void 0:_e.viewState)!=="OFF":wt(this,iv)?($==null?void 0:$.printState)!=="OFF":!0}_setVisible($,_e,vt=!1){$!==INTERNAL&&unreachable("Internal method `_setVisible` called."),Vt(this,rv,vt),Vt(this,xm,_e)}}nv=new WeakMap,iv=new WeakMap,rv=new WeakMap,xm=new WeakMap;var Ru,ws,bm,Em,sv,qx;class OptionalContentConfig{constructor($,_e=RenderingIntentFlag.DISPLAY){Gt(this,sv);Gt(this,Ru,null);Gt(this,ws,new Map);Gt(this,bm,null);Gt(this,Em,null);if(this.renderingIntent=_e,this.name=null,this.creator=null,$!==null){this.name=$.name,this.creator=$.creator,Vt(this,Em,$.order);for(const vt of $.groups)wt(this,ws).set(vt.id,new OptionalContentGroup(_e,vt));if($.baseState==="OFF")for(const vt of wt(this,ws).values())vt._setVisible(INTERNAL,!1);for(const vt of $.on)wt(this,ws).get(vt)._setVisible(INTERNAL,!0);for(const vt of $.off)wt(this,ws).get(vt)._setVisible(INTERNAL,!1);Vt(this,bm,this.getHash())}}isVisible($){if(wt(this,ws).size===0)return!0;if(!$)return info("Optional content group not defined."),!0;if($.type==="OCG")return wt(this,ws).has($.id)?wt(this,ws).get($.id).visible:(warn(`Optional content group not found: ${$.id}`),!0);if($.type==="OCMD"){if($.expression)return Ut(this,sv,qx).call(this,$.expression);if(!$.policy||$.policy==="AnyOn"){for(const _e of $.ids){if(!wt(this,ws).has(_e))return warn(`Optional content group not found: ${_e}`),!0;if(wt(this,ws).get(_e).visible)return!0}return!1}else if($.policy==="AllOn"){for(const _e of $.ids){if(!wt(this,ws).has(_e))return warn(`Optional content group not found: ${_e}`),!0;if(!wt(this,ws).get(_e).visible)return!1}return!0}else if($.policy==="AnyOff"){for(const _e of $.ids){if(!wt(this,ws).has(_e))return warn(`Optional content group not found: ${_e}`),!0;if(!wt(this,ws).get(_e).visible)return!0}return!1}else if($.policy==="AllOff"){for(const _e of $.ids){if(!wt(this,ws).has(_e))return warn(`Optional content group not found: ${_e}`),!0;if(wt(this,ws).get(_e).visible)return!1}return!0}return warn(`Unknown optional content policy ${$.policy}.`),!0}return warn(`Unknown group type ${$.type}.`),!0}setVisibility($,_e=!0){const vt=wt(this,ws).get($);if(!vt){warn(`Optional content group not found: ${$}`);return}vt._setVisible(INTERNAL,!!_e,!0),Vt(this,Ru,null)}setOCGState({state:$,preserveRB:_e}){let vt;for(const xt of $){switch(xt){case"ON":case"OFF":case"Toggle":vt=xt;continue}const bt=wt(this,ws).get(xt);if(bt)switch(vt){case"ON":bt._setVisible(INTERNAL,!0);break;case"OFF":bt._setVisible(INTERNAL,!1);break;case"Toggle":bt._setVisible(INTERNAL,!bt.visible);break}}Vt(this,Ru,null)}get hasInitialVisibility(){return wt(this,bm)===null||this.getHash()===wt(this,bm)}getOrder(){return wt(this,ws).size?wt(this,Em)?wt(this,Em).slice():[...wt(this,ws).keys()]:null}getGroups(){return wt(this,ws).size>0?objectFromMap(wt(this,ws)):null}getGroup($){return wt(this,ws).get($)||null}getHash(){if(wt(this,Ru)!==null)return wt(this,Ru);const $=new MurmurHash3_64;for(const[_e,vt]of wt(this,ws))$.update(`${_e}:${vt.visible}`);return Vt(this,Ru,$.hexdigest())}}Ru=new WeakMap,ws=new WeakMap,bm=new WeakMap,Em=new WeakMap,sv=new WeakSet,qx=function($){const _e=$.length;if(_e<2)return!0;const vt=$[0];for(let xt=1;xt<_e;xt++){const bt=$[xt];let Et;if(Array.isArray(bt))Et=Ut(this,sv,qx).call(this,bt);else if(wt(this,ws).has(bt))Et=wt(this,ws).get(bt).visible;else return warn(`Optional content group not found: ${bt}`),!0;switch(vt){case"And":if(!Et)return!1;break;case"Or":if(Et)return!0;break;case"Not":return!Et;default:return!0}}return vt==="And"};class PDFDataTransportStream{constructor($,{disableRange:_e=!1,disableStream:vt=!1}){assert($,'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.');const{length:xt,initialData:bt,progressiveDone:Et,contentDispositionFilename:At}=$;if(this._queuedChunks=[],this._progressiveDone=Et,this._contentDispositionFilename=At,(bt==null?void 0:bt.length)>0){const _t=bt instanceof Uint8Array&&bt.byteLength===bt.buffer.byteLength?bt.buffer:new Uint8Array(bt).buffer;this._queuedChunks.push(_t)}this._pdfDataRangeTransport=$,this._isStreamingSupported=!vt,this._isRangeSupported=!_e,this._contentLength=xt,this._fullRequestReader=null,this._rangeReaders=[],$.addRangeListener((_t,Ct)=>{this._onReceiveData({begin:_t,chunk:Ct})}),$.addProgressListener((_t,Ct)=>{this._onProgress({loaded:_t,total:Ct})}),$.addProgressiveReadListener(_t=>{this._onReceiveData({chunk:_t})}),$.addProgressiveDoneListener(()=>{this._onProgressiveDone()}),$.transportReady()}_onReceiveData({begin:$,chunk:_e}){const vt=_e instanceof Uint8Array&&_e.byteLength===_e.buffer.byteLength?_e.buffer:new Uint8Array(_e).buffer;if($===void 0)this._fullRequestReader?this._fullRequestReader._enqueue(vt):this._queuedChunks.push(vt);else{const xt=this._rangeReaders.some(function(bt){return bt._begin!==$?!1:(bt._enqueue(vt),!0)});assert(xt,"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.")}}get _progressiveDataLength(){var $;return(($=this._fullRequestReader)==null?void 0:$._loaded)??0}_onProgress($){var _e,vt,xt,bt;$.total===void 0?(vt=(_e=this._rangeReaders[0])==null?void 0:_e.onProgress)==null||vt.call(_e,{loaded:$.loaded}):(bt=(xt=this._fullRequestReader)==null?void 0:xt.onProgress)==null||bt.call(xt,{loaded:$.loaded,total:$.total})}_onProgressiveDone(){var $;($=this._fullRequestReader)==null||$.progressiveDone(),this._progressiveDone=!0}_removeRangeReader($){const _e=this._rangeReaders.indexOf($);_e>=0&&this._rangeReaders.splice(_e,1)}getFullReader(){assert(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");const $=this._queuedChunks;return this._queuedChunks=null,new PDFDataTransportStreamReader(this,$,this._progressiveDone,this._contentDispositionFilename)}getRangeReader($,_e){if(_e<=this._progressiveDataLength)return null;const vt=new PDFDataTransportStreamRangeReader(this,$,_e);return this._pdfDataRangeTransport.requestDataRange($,_e),this._rangeReaders.push(vt),vt}cancelAllRequests($){var _e;(_e=this._fullRequestReader)==null||_e.cancel($);for(const vt of this._rangeReaders.slice(0))vt.cancel($);this._pdfDataRangeTransport.abort()}}class PDFDataTransportStreamReader{constructor($,_e,vt=!1,xt=null){this._stream=$,this._done=vt||!1,this._filename=isPdfFile(xt)?xt:null,this._queuedChunks=_e||[],this._loaded=0;for(const bt of this._queuedChunks)this._loaded+=bt.byteLength;this._requests=[],this._headersReady=Promise.resolve(),$._fullRequestReader=this,this.onProgress=null}_enqueue($){this._done||(this._requests.length>0?this._requests.shift().resolve({value:$,done:!1}):this._queuedChunks.push($),this._loaded+=$.byteLength)}get headersReady(){return this._headersReady}get filename(){return this._filename}get isRangeSupported(){return this._stream._isRangeSupported}get isStreamingSupported(){return this._stream._isStreamingSupported}get contentLength(){return this._stream._contentLength}async read(){if(this._queuedChunks.length>0)return{value:this._queuedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const $=Promise.withResolvers();return this._requests.push($),$.promise}cancel($){this._done=!0;for(const _e of this._requests)_e.resolve({value:void 0,done:!0});this._requests.length=0}progressiveDone(){this._done||(this._done=!0)}}class PDFDataTransportStreamRangeReader{constructor($,_e,vt){this._stream=$,this._begin=_e,this._end=vt,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}_enqueue($){if(!this._done){if(this._requests.length===0)this._queuedChunk=$;else{this._requests.shift().resolve({value:$,done:!1});for(const vt of this._requests)vt.resolve({value:void 0,done:!0});this._requests.length=0}this._done=!0,this._stream._removeRangeReader(this)}}get isStreamingSupported(){return!1}async read(){if(this._queuedChunk){const _e=this._queuedChunk;return this._queuedChunk=null,{value:_e,done:!1}}if(this._done)return{value:void 0,done:!0};const $=Promise.withResolvers();return this._requests.push($),$.promise}cancel($){this._done=!0;for(const _e of this._requests)_e.resolve({value:void 0,done:!0});this._requests.length=0,this._stream._removeRangeReader(this)}}function getFilenameFromContentDispositionHeader(ht){let $=!0,_e=vt("filename\\*","i").exec(ht);if(_e){_e=_e[1];let St=At(_e);return St=unescape(St),St=_t(St),St=Ct(St),bt(St)}if(_e=Et(ht),_e){const St=Ct(_e);return bt(St)}if(_e=vt("filename","i").exec(ht),_e){_e=_e[1];let St=At(_e);return St=Ct(St),bt(St)}function vt(St,Rt){return new RegExp("(?:^|;)\\s*"+St+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',Rt)}function xt(St,Rt){if(St){if(!/^[\x00-\xFF]+$/.test(Rt))return Rt;try{const Pt=new TextDecoder(St,{fatal:!0}),kt=stringToBytes(Rt);Rt=Pt.decode(kt),$=!1}catch{}}return Rt}function bt(St){return $&&/[\x80-\xff]/.test(St)&&(St=xt("utf-8",St),$&&(St=xt("iso-8859-1",St))),St}function Et(St){const Rt=[];let Pt;const kt=vt("filename\\*((?!0\\d)\\d+)(\\*?)","ig");for(;(Pt=kt.exec(St))!==null;){let[,Lt,$t,Ft]=Pt;if(Lt=parseInt(Lt,10),Lt in Rt){if(Lt===0)break;continue}Rt[Lt]=[$t,Ft]}const Mt=[];for(let Lt=0;Lt<Rt.length&&Lt in Rt;++Lt){let[$t,Ft]=Rt[Lt];Ft=At(Ft),$t&&(Ft=unescape(Ft),Lt===0&&(Ft=_t(Ft))),Mt.push(Ft)}return Mt.join("")}function At(St){if(St.startsWith('"')){const Rt=St.slice(1).split('\\"');for(let Pt=0;Pt<Rt.length;++Pt){const kt=Rt[Pt].indexOf('"');kt!==-1&&(Rt[Pt]=Rt[Pt].slice(0,kt),Rt.length=Pt+1),Rt[Pt]=Rt[Pt].replaceAll(/\\(.)/g,"$1")}St=Rt.join('"')}return St}function _t(St){const Rt=St.indexOf("'");if(Rt===-1)return St;const Pt=St.slice(0,Rt),Mt=St.slice(Rt+1).replace(/^[^']*'/,"");return xt(Pt,Mt)}function Ct(St){return!St.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(St)?St:St.replaceAll(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,function(Rt,Pt,kt,Mt){if(kt==="q"||kt==="Q")return Mt=Mt.replaceAll("_"," "),Mt=Mt.replaceAll(/=([0-9a-fA-F]{2})/g,function(Lt,$t){return String.fromCharCode(parseInt($t,16))}),xt(Pt,Mt);try{Mt=atob(Mt)}catch{}return xt(Pt,Mt)})}return""}function validateRangeRequestCapabilities({getResponseHeader:ht,isHttp:$,rangeChunkSize:_e,disableRange:vt}){const xt={allowRangeRequests:!1,suggestedLength:void 0},bt=parseInt(ht("Content-Length"),10);return!Number.isInteger(bt)||(xt.suggestedLength=bt,bt<=2*_e)||vt||!$||ht("Accept-Ranges")!=="bytes"||(ht("Content-Encoding")||"identity")!=="identity"||(xt.allowRangeRequests=!0),xt}function extractFilenameFromHeader(ht){const $=ht("Content-Disposition");if($){let _e=getFilenameFromContentDispositionHeader($);if(_e.includes("%"))try{_e=decodeURIComponent(_e)}catch{}if(isPdfFile(_e))return _e}return null}function createResponseStatusError(ht,$){return ht===404||ht===0&&$.startsWith("file:")?new MissingPDFException('Missing PDF "'+$+'".'):new UnexpectedResponseException(`Unexpected server response (${ht}) while retrieving PDF "${$}".`,ht)}function validateResponseStatus(ht){return ht===200||ht===206}function createFetchOptions(ht,$,_e){return{method:"GET",headers:ht,signal:_e.signal,mode:"cors",credentials:$?"include":"same-origin",redirect:"follow"}}function createHeaders(ht){const $=new Headers;for(const _e in ht){const vt=ht[_e];vt!==void 0&&$.append(_e,vt)}return $}function getArrayBuffer(ht){return ht instanceof Uint8Array?ht.buffer:ht instanceof ArrayBuffer?ht:(warn(`getArrayBuffer - unexpected data format: ${ht}`),new Uint8Array(ht).buffer)}class PDFFetchStream{constructor($){this.source=$,this.isHttp=/^https?:/i.test($.url),this.httpHeaders=this.isHttp&&$.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var $;return(($=this._fullRequestReader)==null?void 0:$._loaded)??0}getFullReader(){return assert(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once."),this._fullRequestReader=new PDFFetchStreamReader(this),this._fullRequestReader}getRangeReader($,_e){if(_e<=this._progressiveDataLength)return null;const vt=new PDFFetchStreamRangeReader(this,$,_e);return this._rangeRequestReaders.push(vt),vt}cancelAllRequests($){var _e;(_e=this._fullRequestReader)==null||_e.cancel($);for(const vt of this._rangeRequestReaders.slice(0))vt.cancel($)}}class PDFFetchStreamReader{constructor($){this._stream=$,this._reader=null,this._loaded=0,this._filename=null;const _e=$.source;this._withCredentials=_e.withCredentials||!1,this._contentLength=_e.length,this._headersCapability=Promise.withResolvers(),this._disableRange=_e.disableRange||!1,this._rangeChunkSize=_e.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._abortController=new AbortController,this._isStreamingSupported=!_e.disableStream,this._isRangeSupported=!_e.disableRange,this._headers=createHeaders(this._stream.httpHeaders);const vt=_e.url;fetch(vt,createFetchOptions(this._headers,this._withCredentials,this._abortController)).then(xt=>{if(!validateResponseStatus(xt.status))throw createResponseStatusError(xt.status,vt);this._reader=xt.body.getReader(),this._headersCapability.resolve();const bt=_t=>xt.headers.get(_t),{allowRangeRequests:Et,suggestedLength:At}=validateRangeRequestCapabilities({getResponseHeader:bt,isHttp:this._stream.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=Et,this._contentLength=At||this._contentLength,this._filename=extractFilenameFromHeader(bt),!this._isStreamingSupported&&this._isRangeSupported&&this.cancel(new AbortException("Streaming is disabled."))}).catch(this._headersCapability.reject),this.onProgress=null}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var vt;await this._headersCapability.promise;const{value:$,done:_e}=await this._reader.read();return _e?{value:$,done:_e}:(this._loaded+=$.byteLength,(vt=this.onProgress)==null||vt.call(this,{loaded:this._loaded,total:this._contentLength}),{value:getArrayBuffer($),done:!1})}cancel($){var _e;(_e=this._reader)==null||_e.cancel($),this._abortController.abort()}}class PDFFetchStreamRangeReader{constructor($,_e,vt){this._stream=$,this._reader=null,this._loaded=0;const xt=$.source;this._withCredentials=xt.withCredentials||!1,this._readCapability=Promise.withResolvers(),this._isStreamingSupported=!xt.disableStream,this._abortController=new AbortController,this._headers=createHeaders(this._stream.httpHeaders),this._headers.append("Range",`bytes=${_e}-${vt-1}`);const bt=xt.url;fetch(bt,createFetchOptions(this._headers,this._withCredentials,this._abortController)).then(Et=>{if(!validateResponseStatus(Et.status))throw createResponseStatusError(Et.status,bt);this._readCapability.resolve(),this._reader=Et.body.getReader()}).catch(this._readCapability.reject),this.onProgress=null}get isStreamingSupported(){return this._isStreamingSupported}async read(){var vt;await this._readCapability.promise;const{value:$,done:_e}=await this._reader.read();return _e?{value:$,done:_e}:(this._loaded+=$.byteLength,(vt=this.onProgress)==null||vt.call(this,{loaded:this._loaded}),{value:getArrayBuffer($),done:!1})}cancel($){var _e;(_e=this._reader)==null||_e.cancel($),this._abortController.abort()}}const OK_RESPONSE=200,PARTIAL_CONTENT_RESPONSE=206;function network_getArrayBuffer(ht){const $=ht.response;return typeof $!="string"?$:stringToBytes($).buffer}class NetworkManager{constructor($,_e={}){this.url=$,this.isHttp=/^https?:/i.test($),this.httpHeaders=this.isHttp&&_e.httpHeaders||Object.create(null),this.withCredentials=_e.withCredentials||!1,this.currXhrId=0,this.pendingRequests=Object.create(null)}requestRange($,_e,vt){const xt={begin:$,end:_e};for(const bt in vt)xt[bt]=vt[bt];return this.request(xt)}requestFull($){return this.request($)}request($){const _e=new XMLHttpRequest,vt=this.currXhrId++,xt=this.pendingRequests[vt]={xhr:_e};_e.open("GET",this.url),_e.withCredentials=this.withCredentials;for(const bt in this.httpHeaders){const Et=this.httpHeaders[bt];Et!==void 0&&_e.setRequestHeader(bt,Et)}return this.isHttp&&"begin"in $&&"end"in $?(_e.setRequestHeader("Range",`bytes=${$.begin}-${$.end-1}`),xt.expectedStatus=PARTIAL_CONTENT_RESPONSE):xt.expectedStatus=OK_RESPONSE,_e.responseType="arraybuffer",$.onError&&(_e.onerror=function(bt){$.onError(_e.status)}),_e.onreadystatechange=this.onStateChange.bind(this,vt),_e.onprogress=this.onProgress.bind(this,vt),xt.onHeadersReceived=$.onHeadersReceived,xt.onDone=$.onDone,xt.onError=$.onError,xt.onProgress=$.onProgress,_e.send(null),vt}onProgress($,_e){var xt;const vt=this.pendingRequests[$];vt&&((xt=vt.onProgress)==null||xt.call(vt,_e))}onStateChange($,_e){var _t,Ct,St;const vt=this.pendingRequests[$];if(!vt)return;const xt=vt.xhr;if(xt.readyState>=2&&vt.onHeadersReceived&&(vt.onHeadersReceived(),delete vt.onHeadersReceived),xt.readyState!==4||!($ in this.pendingRequests))return;if(delete this.pendingRequests[$],xt.status===0&&this.isHttp){(_t=vt.onError)==null||_t.call(vt,xt.status);return}const bt=xt.status||OK_RESPONSE;if(!(bt===OK_RESPONSE&&vt.expectedStatus===PARTIAL_CONTENT_RESPONSE)&&bt!==vt.expectedStatus){(Ct=vt.onError)==null||Ct.call(vt,xt.status);return}const At=network_getArrayBuffer(xt);if(bt===PARTIAL_CONTENT_RESPONSE){const Rt=xt.getResponseHeader("Content-Range"),Pt=/bytes (\d+)-(\d+)\/(\d+)/.exec(Rt);vt.onDone({begin:parseInt(Pt[1],10),chunk:At})}else At?vt.onDone({begin:0,chunk:At}):(St=vt.onError)==null||St.call(vt,xt.status)}getRequestXhr($){return this.pendingRequests[$].xhr}isPendingRequest($){return $ in this.pendingRequests}abortRequest($){const _e=this.pendingRequests[$].xhr;delete this.pendingRequests[$],_e.abort()}}class PDFNetworkStream{constructor($){this._source=$,this._manager=new NetworkManager($.url,{httpHeaders:$.httpHeaders,withCredentials:$.withCredentials}),this._rangeChunkSize=$.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}_onRangeRequestReaderClosed($){const _e=this._rangeRequestReaders.indexOf($);_e>=0&&this._rangeRequestReaders.splice(_e,1)}getFullReader(){return assert(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once."),this._fullRequestReader=new PDFNetworkStreamFullRequestReader(this._manager,this._source),this._fullRequestReader}getRangeReader($,_e){const vt=new PDFNetworkStreamRangeRequestReader(this._manager,$,_e);return vt.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(vt),vt}cancelAllRequests($){var _e;(_e=this._fullRequestReader)==null||_e.cancel($);for(const vt of this._rangeRequestReaders.slice(0))vt.cancel($)}}class PDFNetworkStreamFullRequestReader{constructor($,_e){this._manager=$;const vt={onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=_e.url,this._fullRequestId=$.requestFull(vt),this._headersReceivedCapability=Promise.withResolvers(),this._disableRange=_e.disableRange||!1,this._contentLength=_e.length,this._rangeChunkSize=_e.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}_onHeadersReceived(){const $=this._fullRequestId,_e=this._manager.getRequestXhr($),vt=Et=>_e.getResponseHeader(Et),{allowRangeRequests:xt,suggestedLength:bt}=validateRangeRequestCapabilities({getResponseHeader:vt,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});xt&&(this._isRangeSupported=!0),this._contentLength=bt||this._contentLength,this._filename=extractFilenameFromHeader(vt),this._isRangeSupported&&this._manager.abortRequest($),this._headersReceivedCapability.resolve()}_onDone($){if($&&(this._requests.length>0?this._requests.shift().resolve({value:$.chunk,done:!1}):this._cachedChunks.push($.chunk)),this._done=!0,!(this._cachedChunks.length>0)){for(const _e of this._requests)_e.resolve({value:void 0,done:!0});this._requests.length=0}}_onError($){this._storedError=createResponseStatusError($,this._url),this._headersReceivedCapability.reject(this._storedError);for(const _e of this._requests)_e.reject(this._storedError);this._requests.length=0,this._cachedChunks.length=0}_onProgress($){var _e;(_e=this.onProgress)==null||_e.call(this,{loaded:$.loaded,total:$.lengthComputable?$.total:this._contentLength})}get filename(){return this._filename}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}get contentLength(){return this._contentLength}get headersReady(){return this._headersReceivedCapability.promise}async read(){if(this._storedError)throw this._storedError;if(this._cachedChunks.length>0)return{value:this._cachedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const $=Promise.withResolvers();return this._requests.push($),$.promise}cancel($){this._done=!0,this._headersReceivedCapability.reject($);for(const _e of this._requests)_e.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}}class PDFNetworkStreamRangeRequestReader{constructor($,_e,vt){this._manager=$;const xt={onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=$.url,this._requestId=$.requestRange(_e,vt,xt),this._requests=[],this._queuedChunk=null,this._done=!1,this._storedError=void 0,this.onProgress=null,this.onClosed=null}_close(){var $;($=this.onClosed)==null||$.call(this,this)}_onDone($){const _e=$.chunk;this._requests.length>0?this._requests.shift().resolve({value:_e,done:!1}):this._queuedChunk=_e,this._done=!0;for(const vt of this._requests)vt.resolve({value:void 0,done:!0});this._requests.length=0,this._close()}_onError($){this._storedError=createResponseStatusError($,this._url);for(const _e of this._requests)_e.reject(this._storedError);this._requests.length=0,this._queuedChunk=null}_onProgress($){var _e;this.isStreamingSupported||(_e=this.onProgress)==null||_e.call(this,{loaded:$.loaded})}get isStreamingSupported(){return!1}async read(){if(this._storedError)throw this._storedError;if(this._queuedChunk!==null){const _e=this._queuedChunk;return this._queuedChunk=null,{value:_e,done:!1}}if(this._done)return{value:void 0,done:!0};const $=Promise.withResolvers();return this._requests.push($),$.promise}cancel($){this._done=!0;for(const _e of this._requests)_e.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}}const fileUriRegex=/^file:\/\/\/[a-zA-Z]:\//;function parseUrl(ht){const $=NodePackages.get("url"),_e=$.parse(ht);return _e.protocol==="file:"||_e.host?_e:/^[a-z]:[/\\]/i.test(ht)?$.parse(`file:///${ht}`):(_e.host||(_e.protocol="file:"),_e)}class PDFNodeStream{constructor($){this.source=$,this.url=parseUrl($.url),this.isHttp=this.url.protocol==="http:"||this.url.protocol==="https:",this.isFsUrl=this.url.protocol==="file:",this.httpHeaders=this.isHttp&&$.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var $;return(($=this._fullRequestReader)==null?void 0:$._loaded)??0}getFullReader(){return assert(!this._fullRequestReader,"PDFNodeStream.getFullReader can only be called once."),this._fullRequestReader=this.isFsUrl?new PDFNodeStreamFsFullReader(this):new PDFNodeStreamFullReader(this),this._fullRequestReader}getRangeReader($,_e){if(_e<=this._progressiveDataLength)return null;const vt=this.isFsUrl?new PDFNodeStreamFsRangeReader(this,$,_e):new PDFNodeStreamRangeReader(this,$,_e);return this._rangeRequestReaders.push(vt),vt}cancelAllRequests($){var _e;(_e=this._fullRequestReader)==null||_e.cancel($);for(const vt of this._rangeRequestReaders.slice(0))vt.cancel($)}}class BaseFullReader{constructor($){this._url=$.url,this._done=!1,this._storedError=null,this.onProgress=null;const _e=$.source;this._contentLength=_e.length,this._loaded=0,this._filename=null,this._disableRange=_e.disableRange||!1,this._rangeChunkSize=_e.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!_e.disableStream,this._isRangeSupported=!_e.disableRange,this._readableStream=null,this._readCapability=Promise.withResolvers(),this._headersCapability=Promise.withResolvers()}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var vt;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const $=this._readableStream.read();return $===null?(this._readCapability=Promise.withResolvers(),this.read()):(this._loaded+=$.length,(vt=this.onProgress)==null||vt.call(this,{loaded:this._loaded,total:this._contentLength}),{value:new Uint8Array($).buffer,done:!1})}cancel($){if(!this._readableStream){this._error($);return}this._readableStream.destroy($)}_error($){this._storedError=$,this._readCapability.resolve()}_setReadableStream($){this._readableStream=$,$.on("readable",()=>{this._readCapability.resolve()}),$.on("end",()=>{$.destroy(),this._done=!0,this._readCapability.resolve()}),$.on("error",_e=>{this._error(_e)}),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new AbortException("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}}class BaseRangeReader{constructor($){this._url=$.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=Promise.withResolvers();const _e=$.source;this._isStreamingSupported=!_e.disableStream}get isStreamingSupported(){return this._isStreamingSupported}async read(){var vt;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const $=this._readableStream.read();return $===null?(this._readCapability=Promise.withResolvers(),this.read()):(this._loaded+=$.length,(vt=this.onProgress)==null||vt.call(this,{loaded:this._loaded}),{value:new Uint8Array($).buffer,done:!1})}cancel($){if(!this._readableStream){this._error($);return}this._readableStream.destroy($)}_error($){this._storedError=$,this._readCapability.resolve()}_setReadableStream($){this._readableStream=$,$.on("readable",()=>{this._readCapability.resolve()}),$.on("end",()=>{$.destroy(),this._done=!0,this._readCapability.resolve()}),$.on("error",_e=>{this._error(_e)}),this._storedError&&this._readableStream.destroy(this._storedError)}}function createRequestOptions(ht,$){return{protocol:ht.protocol,auth:ht.auth,host:ht.hostname,port:ht.port,path:ht.path,method:"GET",headers:$}}class PDFNodeStreamFullReader extends BaseFullReader{constructor($){super($);const _e=vt=>{if(vt.statusCode===404){const At=new MissingPDFException(`Missing PDF "${this._url}".`);this._storedError=At,this._headersCapability.reject(At);return}this._headersCapability.resolve(),this._setReadableStream(vt);const xt=At=>this._readableStream.headers[At.toLowerCase()],{allowRangeRequests:bt,suggestedLength:Et}=validateRangeRequestCapabilities({getResponseHeader:xt,isHttp:$.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=bt,this._contentLength=Et||this._contentLength,this._filename=extractFilenameFromHeader(xt)};if(this._request=null,this._url.protocol==="http:"){const vt=NodePackages.get("http");this._request=vt.request(createRequestOptions(this._url,$.httpHeaders),_e)}else{const vt=NodePackages.get("https");this._request=vt.request(createRequestOptions(this._url,$.httpHeaders),_e)}this._request.on("error",vt=>{this._storedError=vt,this._headersCapability.reject(vt)}),this._request.end()}}class PDFNodeStreamRangeReader extends BaseRangeReader{constructor($,_e,vt){super($),this._httpHeaders={};for(const bt in $.httpHeaders){const Et=$.httpHeaders[bt];Et!==void 0&&(this._httpHeaders[bt]=Et)}this._httpHeaders.Range=`bytes=${_e}-${vt-1}`;const xt=bt=>{if(bt.statusCode===404){const Et=new MissingPDFException(`Missing PDF "${this._url}".`);this._storedError=Et;return}this._setReadableStream(bt)};if(this._request=null,this._url.protocol==="http:"){const bt=NodePackages.get("http");this._request=bt.request(createRequestOptions(this._url,this._httpHeaders),xt)}else{const bt=NodePackages.get("https");this._request=bt.request(createRequestOptions(this._url,this._httpHeaders),xt)}this._request.on("error",bt=>{this._storedError=bt}),this._request.end()}}class PDFNodeStreamFsFullReader extends BaseFullReader{constructor($){super($);let _e=decodeURIComponent(this._url.path);fileUriRegex.test(this._url.href)&&(_e=_e.replace(/^\//,""));const vt=NodePackages.get("fs");vt.promises.lstat(_e).then(xt=>{this._contentLength=xt.size,this._setReadableStream(vt.createReadStream(_e)),this._headersCapability.resolve()},xt=>{xt.code==="ENOENT"&&(xt=new MissingPDFException(`Missing PDF "${_e}".`)),this._storedError=xt,this._headersCapability.reject(xt)})}}class PDFNodeStreamFsRangeReader extends BaseRangeReader{constructor($,_e,vt){super($);let xt=decodeURIComponent(this._url.path);fileUriRegex.test(this._url.href)&&(xt=xt.replace(/^\//,""));const bt=NodePackages.get("fs");this._setReadableStream(bt.createReadStream(xt,{start:_e,end:vt-1}))}}const MAX_TEXT_DIVS_TO_RENDER=1e5,DEFAULT_FONT_SIZE=30,DEFAULT_FONT_ASCENT=.8;var _E,Tu,bo,ov,av,hp,Ql,lv,cv,fp,Am,wm,Pu,_m,uv,Sm,pp,dv,hv,gp,mp,Cm,fu,ZE,QE,Kx,Uu,my,JE;const Bo=class Bo{constructor({textContentSource:$,container:_e,viewport:vt}){Gt(this,fu);Gt(this,Tu,Promise.withResolvers());Gt(this,bo,null);Gt(this,ov,!1);Gt(this,av,!!((_E=globalThis.FontInspector)!=null&&_E.enabled));Gt(this,hp,null);Gt(this,Ql,null);Gt(this,lv,0);Gt(this,cv,0);Gt(this,fp,null);Gt(this,Am,null);Gt(this,wm,0);Gt(this,Pu,0);Gt(this,_m,Object.create(null));Gt(this,uv,[]);Gt(this,Sm,null);Gt(this,pp,[]);Gt(this,dv,new WeakMap);Gt(this,hv,null);if($ instanceof ReadableStream)Vt(this,Sm,$);else if(typeof $=="object")Vt(this,Sm,new ReadableStream({start(_t){_t.enqueue($),_t.close()}}));else throw new Error('No "textContentSource" parameter specified.');Vt(this,bo,Vt(this,Am,_e)),Vt(this,Pu,vt.scale*(globalThis.devicePixelRatio||1)),Vt(this,wm,vt.rotation),Vt(this,Ql,{prevFontSize:null,prevFontFamily:null,div:null,properties:null,ctx:null});const{pageWidth:xt,pageHeight:bt,pageX:Et,pageY:At}=vt.rawDims;Vt(this,hv,[1,0,0,-1,-Et,At+bt]),Vt(this,cv,xt),Vt(this,lv,bt),setLayerDimensions(_e,vt),wt(this,Tu).promise.catch(()=>{}).then(()=>{wt(Bo,Cm).delete(this),Vt(this,Ql,null),Vt(this,_m,null)})}render(){const $=()=>{wt(this,fp).read().then(({value:_e,done:vt})=>{if(vt){wt(this,Tu).resolve();return}wt(this,hp)??Vt(this,hp,_e.lang),Object.assign(wt(this,_m),_e.styles),Ut(this,fu,ZE).call(this,_e.items),$()},wt(this,Tu).reject)};return Vt(this,fp,wt(this,Sm).getReader()),wt(Bo,Cm).add(this),$(),wt(this,Tu).promise}update({viewport:$,onBefore:_e=null}){var bt;const vt=$.scale*(globalThis.devicePixelRatio||1),xt=$.rotation;if(xt!==wt(this,wm)&&(_e==null||_e(),Vt(this,wm,xt),setLayerDimensions(wt(this,Am),{rotation:xt})),vt!==wt(this,Pu)){_e==null||_e(),Vt(this,Pu,vt);const Et={prevFontSize:null,prevFontFamily:null,div:null,properties:null,ctx:Ut(bt=Bo,Uu,my).call(bt,wt(this,hp))};for(const At of wt(this,pp))Et.properties=wt(this,dv).get(At),Et.div=At,Ut(this,fu,Kx).call(this,Et)}}cancel(){var _e;const $=new AbortException("TextLayer task cancelled.");(_e=wt(this,fp))==null||_e.cancel($).catch(()=>{}),Vt(this,fp,null),wt(this,Tu).reject($)}get textDivs(){return wt(this,pp)}get textContentItemsStr(){return wt(this,uv)}static cleanup(){if(!(wt(this,Cm).size>0)){wt(this,gp).clear();for(const{canvas:$}of wt(this,mp).values())$.remove();wt(this,mp).clear()}}};Tu=new WeakMap,bo=new WeakMap,ov=new WeakMap,av=new WeakMap,hp=new WeakMap,Ql=new WeakMap,lv=new WeakMap,cv=new WeakMap,fp=new WeakMap,Am=new WeakMap,wm=new WeakMap,Pu=new WeakMap,_m=new WeakMap,uv=new WeakMap,Sm=new WeakMap,pp=new WeakMap,dv=new WeakMap,hv=new WeakMap,gp=new WeakMap,mp=new WeakMap,Cm=new WeakMap,fu=new WeakSet,ZE=function($){var xt,bt;if(wt(this,ov))return;(bt=wt(this,Ql)).ctx||(bt.ctx=Ut(xt=Bo,Uu,my).call(xt,wt(this,hp)));const _e=wt(this,pp),vt=wt(this,uv);for(const Et of $){if(_e.length>MAX_TEXT_DIVS_TO_RENDER){warn("Ignoring additional textDivs for performance reasons."),Vt(this,ov,!0);return}if(Et.str===void 0){if(Et.type==="beginMarkedContentProps"||Et.type==="beginMarkedContent"){const At=wt(this,bo);Vt(this,bo,document.createElement("span")),wt(this,bo).classList.add("markedContent"),Et.id!==null&&wt(this,bo).setAttribute("id",`${Et.id}`),At.append(wt(this,bo))}else Et.type==="endMarkedContent"&&Vt(this,bo,wt(this,bo).parentNode);continue}vt.push(Et.str),Ut(this,fu,QE).call(this,Et)}},QE=function($){var Lt;const _e=document.createElement("span"),vt={angle:0,canvasWidth:0,hasText:$.str!=="",hasEOL:$.hasEOL,fontSize:0};wt(this,pp).push(_e);const xt=Util.transform(wt(this,hv),$.transform);let bt=Math.atan2(xt[1],xt[0]);const Et=wt(this,_m)[$.fontName];Et.vertical&&(bt+=Math.PI/2);const At=wt(this,av)&&Et.fontSubstitution||Et.fontFamily,_t=Math.hypot(xt[2],xt[3]),Ct=_t*Ut(Lt=Bo,Uu,JE).call(Lt,At,wt(this,hp));let St,Rt;bt===0?(St=xt[4],Rt=xt[5]-Ct):(St=xt[4]+Ct*Math.sin(bt),Rt=xt[5]-Ct*Math.cos(bt));const Pt="calc(var(--scale-factor)*",kt=_e.style;wt(this,bo)===wt(this,Am)?(kt.left=`${(100*St/wt(this,cv)).toFixed(2)}%`,kt.top=`${(100*Rt/wt(this,lv)).toFixed(2)}%`):(kt.left=`${Pt}${St.toFixed(2)}px)`,kt.top=`${Pt}${Rt.toFixed(2)}px)`),kt.fontSize=`${Pt}${_t.toFixed(2)}px)`,kt.fontFamily=At,vt.fontSize=_t,_e.setAttribute("role","presentation"),_e.textContent=$.str,_e.dir=$.dir,wt(this,av)&&(_e.dataset.fontName=Et.fontSubstitutionLoadedName||$.fontName),bt!==0&&(vt.angle=bt*(180/Math.PI));let Mt=!1;if($.str.length>1)Mt=!0;else if($.str!==" "&&$.transform[0]!==$.transform[3]){const $t=Math.abs($.transform[0]),Ft=Math.abs($.transform[3]);$t!==Ft&&Math.max($t,Ft)/Math.min($t,Ft)>1.5&&(Mt=!0)}if(Mt&&(vt.canvasWidth=Et.vertical?$.height:$.width),wt(this,dv).set(_e,vt),wt(this,Ql).div=_e,wt(this,Ql).properties=vt,Ut(this,fu,Kx).call(this,wt(this,Ql)),vt.hasText&&wt(this,bo).append(_e),vt.hasEOL){const $t=document.createElement("br");$t.setAttribute("role","presentation"),wt(this,bo).append($t)}},Kx=function($){const{div:_e,properties:vt,ctx:xt,prevFontSize:bt,prevFontFamily:Et}=$,{style:At}=_e;let _t="";if(vt.canvasWidth!==0&&vt.hasText){const{fontFamily:Ct}=At,{canvasWidth:St,fontSize:Rt}=vt;(bt!==Rt||Et!==Ct)&&(xt.font=`${Rt*wt(this,Pu)}px ${Ct}`,$.prevFontSize=Rt,$.prevFontFamily=Ct);const{width:Pt}=xt.measureText(_e.textContent);Pt>0&&(_t=`scaleX(${St*wt(this,Pu)/Pt})`)}vt.angle!==0&&(_t=`rotate(${vt.angle}deg) ${_t}`),_t.length>0&&(At.transform=_t)},Uu=new WeakSet,my=function($=null){let _e=wt(this,mp).get($||($=""));if(!_e){const vt=document.createElement("canvas");vt.className="hiddenCanvasElement",vt.lang=$,document.body.append(vt),_e=vt.getContext("2d",{alpha:!1}),wt(this,mp).set($,_e)}return _e},JE=function($,_e){const vt=wt(this,gp).get($);if(vt)return vt;const xt=Ut(this,Uu,my).call(this,_e),bt=xt.font;xt.canvas.width=xt.canvas.height=DEFAULT_FONT_SIZE,xt.font=`${DEFAULT_FONT_SIZE}px ${$}`;const Et=xt.measureText("");let At=Et.fontBoundingBoxAscent,_t=Math.abs(Et.fontBoundingBoxDescent);if(At){const Rt=At/(At+_t);return wt(this,gp).set($,Rt),xt.canvas.width=xt.canvas.height=0,xt.font=bt,Rt}xt.strokeStyle="red",xt.clearRect(0,0,DEFAULT_FONT_SIZE,DEFAULT_FONT_SIZE),xt.strokeText("g",0,0);let Ct=xt.getImageData(0,0,DEFAULT_FONT_SIZE,DEFAULT_FONT_SIZE).data;_t=0;for(let Rt=Ct.length-1-3;Rt>=0;Rt-=4)if(Ct[Rt]>0){_t=Math.ceil(Rt/4/DEFAULT_FONT_SIZE);break}xt.clearRect(0,0,DEFAULT_FONT_SIZE,DEFAULT_FONT_SIZE),xt.strokeText("A",0,DEFAULT_FONT_SIZE),Ct=xt.getImageData(0,0,DEFAULT_FONT_SIZE,DEFAULT_FONT_SIZE).data,At=0;for(let Rt=0,Pt=Ct.length;Rt<Pt;Rt+=4)if(Ct[Rt]>0){At=DEFAULT_FONT_SIZE-Math.floor(Rt/4/DEFAULT_FONT_SIZE);break}xt.canvas.width=xt.canvas.height=0,xt.font=bt;const St=At?At/(At+_t):DEFAULT_FONT_ASCENT;return wt(this,gp).set($,St),St},Gt(Bo,Uu),Gt(Bo,gp,new Map),Gt(Bo,mp,new Map),Gt(Bo,Cm,new Set);let TextLayer=Bo;function renderTextLayer(){deprecated("`renderTextLayer`, please use `TextLayer` instead.");const{textContentSource:ht,container:$,viewport:_e,...vt}=arguments[0],xt=Object.keys(vt);xt.length>0&&warn("Ignoring `renderTextLayer` parameters: "+xt.join(", "));const bt=new TextLayer({textContentSource:ht,container:$,viewport:_e}),{textDivs:Et,textContentItemsStr:At}=bt;return{promise:bt.render(),textDivs:Et,textContentItemsStr:At}}function updateTextLayer(){deprecated("`updateTextLayer`, please use `TextLayer` instead.")}class XfaText{static textContent($){const _e=[],vt={items:_e,styles:Object.create(null)};function xt(bt){var _t;if(!bt)return;let Et=null;const At=bt.name;if(At==="#text")Et=bt.value;else if(XfaText.shouldBuildText(At))(_t=bt==null?void 0:bt.attributes)!=null&&_t.textContent?Et=bt.attributes.textContent:bt.value&&(Et=bt.value);else return;if(Et!==null&&_e.push({str:Et}),!!bt.children)for(const Ct of bt.children)xt(Ct)}return xt($),vt}static shouldBuildText($){return!($==="textarea"||$==="input"||$==="option"||$==="select")}}const DEFAULT_RANGE_CHUNK_SIZE=65536,RENDERING_CANCELLED_TIMEOUT=100,DELAYED_CLEANUP_TIMEOUT=5e3,DefaultCanvasFactory=isNodeJS?NodeCanvasFactory:DOMCanvasFactory,DefaultCMapReaderFactory=isNodeJS?NodeCMapReaderFactory:DOMCMapReaderFactory,DefaultFilterFactory=isNodeJS?NodeFilterFactory:DOMFilterFactory,DefaultStandardFontDataFactory=isNodeJS?NodeStandardFontDataFactory:DOMStandardFontDataFactory;function getDocument(ht){if(typeof ht=="string"||ht instanceof URL?ht={url:ht}:(ht instanceof ArrayBuffer||ArrayBuffer.isView(ht))&&(ht={data:ht}),typeof ht!="object")throw new Error("Invalid parameter in getDocument, need parameter object.");if(!ht.url&&!ht.data&&!ht.range)throw new Error("Invalid parameter object: need either .data, .range or .url");const $=new PDFDocumentLoadingTask,{docId:_e}=$,vt=ht.url?getUrlProp(ht.url):null,xt=ht.data?getDataProp(ht.data):null,bt=ht.httpHeaders||null,Et=ht.withCredentials===!0,At=ht.password??null,_t=ht.range instanceof PDFDataRangeTransport?ht.range:null,Ct=Number.isInteger(ht.rangeChunkSize)&&ht.rangeChunkSize>0?ht.rangeChunkSize:DEFAULT_RANGE_CHUNK_SIZE;let St=ht.worker instanceof PDFWorker?ht.worker:null;const Rt=ht.verbosity,Pt=typeof ht.docBaseUrl=="string"&&!isDataScheme(ht.docBaseUrl)?ht.docBaseUrl:null,kt=typeof ht.cMapUrl=="string"?ht.cMapUrl:null,Mt=ht.cMapPacked!==!1,Lt=ht.CMapReaderFactory||DefaultCMapReaderFactory,$t=typeof ht.standardFontDataUrl=="string"?ht.standardFontDataUrl:null,Ft=ht.StandardFontDataFactory||DefaultStandardFontDataFactory,Dt=ht.stopAtErrors!==!0,Nt=Number.isInteger(ht.maxImageSize)&&ht.maxImageSize>-1?ht.maxImageSize:-1,Ht=ht.isEvalSupported!==!1,Ot=typeof ht.isOffscreenCanvasSupported=="boolean"?ht.isOffscreenCanvasSupported:!isNodeJS,Bt=Number.isInteger(ht.canvasMaxAreaInBytes)?ht.canvasMaxAreaInBytes:-1,jt=typeof ht.disableFontFace=="boolean"?ht.disableFontFace:isNodeJS,zt=ht.fontExtraProperties===!0,Kt=ht.enableXfa===!0,nn=ht.ownerDocument||globalThis.document,Xt=ht.disableRange===!0,en=ht.disableStream===!0,on=ht.disableAutoFetch===!0,An=ht.pdfBug===!0,un=_t?_t.length:ht.length??NaN,vn=typeof ht.useSystemFonts=="boolean"?ht.useSystemFonts:!isNodeJS&&!jt,an=typeof ht.useWorkerFetch=="boolean"?ht.useWorkerFetch:Lt===DOMCMapReaderFactory&&Ft===DOMStandardFontDataFactory&&kt&&$t&&isValidFetchUrl(kt,document.baseURI)&&isValidFetchUrl($t,document.baseURI),dn=ht.canvasFactory||new DefaultCanvasFactory({ownerDocument:nn}),tn=ht.filterFactory||new DefaultFilterFactory({docId:_e,ownerDocument:nn}),gn=null;setVerbosityLevel(Rt);const Sn={canvasFactory:dn,filterFactory:tn};if(an||(Sn.cMapReaderFactory=new Lt({baseUrl:kt,isCompressed:Mt}),Sn.standardFontDataFactory=new Ft({baseUrl:$t})),!St){const Yt={verbosity:Rt,port:GlobalWorkerOptions.workerPort};St=Yt.port?PDFWorker.fromPort(Yt):new PDFWorker(Yt),$._worker=St}const rn={docId:_e,apiVersion:"4.3.136",data:xt,password:At,disableAutoFetch:on,rangeChunkSize:Ct,length:un,docBaseUrl:Pt,enableXfa:Kt,evaluatorOptions:{maxImageSize:Nt,disableFontFace:jt,ignoreErrors:Dt,isEvalSupported:Ht,isOffscreenCanvasSupported:Ot,canvasMaxAreaInBytes:Bt,fontExtraProperties:zt,useSystemFonts:vn,cMapUrl:an?kt:null,standardFontDataUrl:an?$t:null}},qt={disableFontFace:jt,fontExtraProperties:zt,ownerDocument:nn,pdfBug:An,styleElement:gn,loadingParams:{disableAutoFetch:on,enableXfa:Kt}};return St.promise.then(function(){if($.destroyed)throw new Error("Loading aborted");if(St.destroyed)throw new Error("Worker was destroyed");const Yt=St.messageHandler.sendWithPromise("GetDocRequest",rn,xt?[xt.buffer]:null);let Jt;return _t?Jt=new PDFDataTransportStream(_t,{disableRange:Xt,disableStream:en}):xt||(Jt=(cn=>isNodeJS?function(){return typeof fetch<"u"&&typeof Response<"u"&&"body"in Response.prototype}()&&isValidFetchUrl(cn.url)?new PDFFetchStream(cn):new PDFNodeStream(cn):isValidFetchUrl(cn.url)?new PDFFetchStream(cn):new PDFNetworkStream(cn))({url:vt,length:un,httpHeaders:bt,withCredentials:Et,rangeChunkSize:Ct,disableRange:Xt,disableStream:en})),Yt.then(hn=>{if($.destroyed)throw new Error("Loading aborted");if(St.destroyed)throw new Error("Worker was destroyed");const cn=new MessageHandler(_e,hn,St.port),fn=new WorkerTransport(cn,$,Jt,qt,Sn);$._transport=fn,cn.send("Ready",null)})}).catch($._capability.reject),$}function getUrlProp(ht){if(ht instanceof URL)return ht.href;try{return new URL(ht,window.location).href}catch{if(isNodeJS&&typeof ht=="string")return ht}throw new Error("Invalid PDF url data: either string or URL-object is expected in the url property.")}function getDataProp(ht){if(isNodeJS&&typeof Buffer<"u"&&ht instanceof Buffer)throw new Error("Please provide binary data as `Uint8Array`, rather than `Buffer`.");if(ht instanceof Uint8Array&&ht.byteLength===ht.buffer.byteLength)return ht;if(typeof ht=="string")return stringToBytes(ht);if(ht instanceof ArrayBuffer||ArrayBuffer.isView(ht)||typeof ht=="object"&&!isNaN(ht==null?void 0:ht.length))return new Uint8Array(ht);throw new Error("Invalid PDF binary data: either TypedArray, string, or array-like object is expected in the data property.")}function isRefProxy(ht){return typeof ht=="object"&&Number.isInteger(ht==null?void 0:ht.num)&&ht.num>=0&&Number.isInteger(ht==null?void 0:ht.gen)&&ht.gen>=0}var sx;const ox=class ox{constructor(){this._capability=Promise.withResolvers(),this._transport=null,this._worker=null,this.docId=`d${eo(ox,sx)._++}`,this.destroyed=!1,this.onPassword=null,this.onProgress=null}get promise(){return this._capability.promise}async destroy(){var $,_e,vt;this.destroyed=!0;try{($=this._worker)!=null&&$.port&&(this._worker._pendingDestroy=!0),await((_e=this._transport)==null?void 0:_e.destroy())}catch(xt){throw(vt=this._worker)!=null&&vt.port&&delete this._worker._pendingDestroy,xt}this._transport=null,this._worker&&(this._worker.destroy(),this._worker=null)}};sx=new WeakMap,Gt(ox,sx,0);let PDFDocumentLoadingTask=ox;class PDFDataRangeTransport{constructor($,_e,vt=!1,xt=null){this.length=$,this.initialData=_e,this.progressiveDone=vt,this.contentDispositionFilename=xt,this._rangeListeners=[],this._progressListeners=[],this._progressiveReadListeners=[],this._progressiveDoneListeners=[],this._readyCapability=Promise.withResolvers()}addRangeListener($){this._rangeListeners.push($)}addProgressListener($){this._progressListeners.push($)}addProgressiveReadListener($){this._progressiveReadListeners.push($)}addProgressiveDoneListener($){this._progressiveDoneListeners.push($)}onDataRange($,_e){for(const vt of this._rangeListeners)vt($,_e)}onDataProgress($,_e){this._readyCapability.promise.then(()=>{for(const vt of this._progressListeners)vt($,_e)})}onDataProgressiveRead($){this._readyCapability.promise.then(()=>{for(const _e of this._progressiveReadListeners)_e($)})}onDataProgressiveDone(){this._readyCapability.promise.then(()=>{for(const $ of this._progressiveDoneListeners)$()})}transportReady(){this._readyCapability.resolve()}requestDataRange($,_e){unreachable("Abstract method PDFDataRangeTransport.requestDataRange")}abort(){}}class PDFDocumentProxy{constructor($,_e){this._pdfInfo=$,this._transport=_e}get annotationStorage(){return this._transport.annotationStorage}get filterFactory(){return this._transport.filterFactory}get numPages(){return this._pdfInfo.numPages}get fingerprints(){return this._pdfInfo.fingerprints}get isPureXfa(){return shadow(this,"isPureXfa",!!this._transport._htmlForXfa)}get allXfaHtml(){return this._transport._htmlForXfa}getPage($){return this._transport.getPage($)}getPageIndex($){return this._transport.getPageIndex($)}getDestinations(){return this._transport.getDestinations()}getDestination($){return this._transport.getDestination($)}getPageLabels(){return this._transport.getPageLabels()}getPageLayout(){return this._transport.getPageLayout()}getPageMode(){return this._transport.getPageMode()}getViewerPreferences(){return this._transport.getViewerPreferences()}getOpenAction(){return this._transport.getOpenAction()}getAttachments(){return this._transport.getAttachments()}getJSActions(){return this._transport.getDocJSActions()}getOutline(){return this._transport.getOutline()}getOptionalContentConfig({intent:$="display"}={}){const{renderingIntent:_e}=this._transport.getRenderingIntent($);return this._transport.getOptionalContentConfig(_e)}getPermissions(){return this._transport.getPermissions()}getMetadata(){return this._transport.getMetadata()}getMarkInfo(){return this._transport.getMarkInfo()}getData(){return this._transport.getData()}saveDocument(){return this._transport.saveDocument()}getDownloadInfo(){return this._transport.downloadInfoCapability.promise}cleanup($=!1){return this._transport.startCleanup($||this.isPureXfa)}destroy(){return this.loadingTask.destroy()}cachedPageNumber($){return this._transport.cachedPageNumber($)}get loadingParams(){return this._transport.loadingParams}get loadingTask(){return this._transport.loadingTask}getFieldObjects(){return this._transport.getFieldObjects()}hasJSActions(){return this._transport.hasJSActions()}getCalculationOrderIds(){return this._transport.getCalculationOrderIds()}}var ku,Jl,No,Jp,vy;class PDFPageProxy{constructor($,_e,vt,xt=!1){Gt(this,No);Gt(this,ku,null);Gt(this,Jl,!1);this._pageIndex=$,this._pageInfo=_e,this._transport=vt,this._stats=xt?new StatTimer:null,this._pdfBug=xt,this.commonObjs=vt.commonObjs,this.objs=new PDFObjects,this._maybeCleanupAfterRender=!1,this._intentStates=new Map,this.destroyed=!1}get pageNumber(){return this._pageIndex+1}get rotate(){return this._pageInfo.rotate}get ref(){return this._pageInfo.ref}get userUnit(){return this._pageInfo.userUnit}get view(){return this._pageInfo.view}getViewport({scale:$,rotation:_e=this.rotate,offsetX:vt=0,offsetY:xt=0,dontFlip:bt=!1}={}){return new PageViewport({viewBox:this.view,scale:$,rotation:_e,offsetX:vt,offsetY:xt,dontFlip:bt})}getAnnotations({intent:$="display"}={}){const{renderingIntent:_e}=this._transport.getRenderingIntent($);return this._transport.getAnnotations(this._pageIndex,_e)}getJSActions(){return this._transport.getPageJSActions(this._pageIndex)}get filterFactory(){return this._transport.filterFactory}get isPureXfa(){return shadow(this,"isPureXfa",!!this._transport._htmlForXfa)}async getXfa(){var $;return(($=this._transport._htmlForXfa)==null?void 0:$.children[this._pageIndex])||null}render({canvasContext:$,viewport:_e,intent:vt="display",annotationMode:xt=AnnotationMode.ENABLE,transform:bt=null,background:Et=null,optionalContentConfigPromise:At=null,annotationCanvasMap:_t=null,pageColors:Ct=null,printAnnotationStorage:St=null}){var Nt,Ht;(Nt=this._stats)==null||Nt.time("Overall");const Rt=this._transport.getRenderingIntent(vt,xt,St),{renderingIntent:Pt,cacheKey:kt}=Rt;Vt(this,Jl,!1),Ut(this,No,vy).call(this),At||(At=this._transport.getOptionalContentConfig(Pt));let Mt=this._intentStates.get(kt);Mt||(Mt=Object.create(null),this._intentStates.set(kt,Mt)),Mt.streamReaderCancelTimeout&&(clearTimeout(Mt.streamReaderCancelTimeout),Mt.streamReaderCancelTimeout=null);const Lt=!!(Pt&RenderingIntentFlag.PRINT);Mt.displayReadyCapability||(Mt.displayReadyCapability=Promise.withResolvers(),Mt.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(Ht=this._stats)==null||Ht.time("Page Request"),this._pumpOperatorList(Rt));const $t=Ot=>{var Bt;Mt.renderTasks.delete(Ft),(this._maybeCleanupAfterRender||Lt)&&Vt(this,Jl,!0),Ut(this,No,Jp).call(this,!Lt),Ot?(Ft.capability.reject(Ot),this._abortOperatorList({intentState:Mt,reason:Ot instanceof Error?Ot:new Error(Ot)})):Ft.capability.resolve(),this._stats&&(this._stats.timeEnd("Rendering"),this._stats.timeEnd("Overall"),(Bt=globalThis.Stats)!=null&&Bt.enabled&&globalThis.Stats.add(this.pageNumber,this._stats))},Ft=new InternalRenderTask({callback:$t,params:{canvasContext:$,viewport:_e,transform:bt,background:Et},objs:this.objs,commonObjs:this.commonObjs,annotationCanvasMap:_t,operatorList:Mt.operatorList,pageIndex:this._pageIndex,canvasFactory:this._transport.canvasFactory,filterFactory:this._transport.filterFactory,useRequestAnimationFrame:!Lt,pdfBug:this._pdfBug,pageColors:Ct});(Mt.renderTasks||(Mt.renderTasks=new Set)).add(Ft);const Dt=Ft.task;return Promise.all([Mt.displayReadyCapability.promise,At]).then(([Ot,Bt])=>{var jt;if(this.destroyed){$t();return}if((jt=this._stats)==null||jt.time("Rendering"),!(Bt.renderingIntent&Pt))throw new Error("Must use the same `intent`-argument when calling the `PDFPageProxy.render` and `PDFDocumentProxy.getOptionalContentConfig` methods.");Ft.initializeGraphics({transparency:Ot,optionalContentConfig:Bt}),Ft.operatorListChanged()}).catch($t),Dt}getOperatorList({intent:$="display",annotationMode:_e=AnnotationMode.ENABLE,printAnnotationStorage:vt=null}={}){var _t;function xt(){Et.operatorList.lastChunk&&(Et.opListReadCapability.resolve(Et.operatorList),Et.renderTasks.delete(At))}const bt=this._transport.getRenderingIntent($,_e,vt,!0);let Et=this._intentStates.get(bt.cacheKey);Et||(Et=Object.create(null),this._intentStates.set(bt.cacheKey,Et));let At;return Et.opListReadCapability||(At=Object.create(null),At.operatorListChanged=xt,Et.opListReadCapability=Promise.withResolvers(),(Et.renderTasks||(Et.renderTasks=new Set)).add(At),Et.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(_t=this._stats)==null||_t.time("Page Request"),this._pumpOperatorList(bt)),Et.opListReadCapability.promise}streamTextContent({includeMarkedContent:$=!1,disableNormalization:_e=!1}={}){return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,includeMarkedContent:$===!0,disableNormalization:_e===!0},{highWaterMark:100,size(xt){return xt.items.length}})}getTextContent($={}){if(this._transport._htmlForXfa)return this.getXfa().then(vt=>XfaText.textContent(vt));const _e=this.streamTextContent($);return new Promise(function(vt,xt){function bt(){Et.read().then(function({value:_t,done:Ct}){if(Ct){vt(At);return}At.lang??(At.lang=_t.lang),Object.assign(At.styles,_t.styles),At.items.push(..._t.items),bt()},xt)}const Et=_e.getReader(),At={items:[],styles:Object.create(null),lang:null};bt()})}getStructTree(){return this._transport.getStructTree(this._pageIndex)}_destroy(){this.destroyed=!0;const $=[];for(const _e of this._intentStates.values())if(this._abortOperatorList({intentState:_e,reason:new Error("Page was destroyed."),force:!0}),!_e.opListReadCapability)for(const vt of _e.renderTasks)$.push(vt.completed),vt.cancel();return this.objs.clear(),Vt(this,Jl,!1),Ut(this,No,vy).call(this),Promise.all($)}cleanup($=!1){Vt(this,Jl,!0);const _e=Ut(this,No,Jp).call(this,!1);return $&&_e&&this._stats&&(this._stats=new StatTimer),_e}_startRenderPage($,_e){var xt,bt;const vt=this._intentStates.get(_e);vt&&((xt=this._stats)==null||xt.timeEnd("Page Request"),(bt=vt.displayReadyCapability)==null||bt.resolve($))}_renderPageChunk($,_e){for(let vt=0,xt=$.length;vt<xt;vt++)_e.operatorList.fnArray.push($.fnArray[vt]),_e.operatorList.argsArray.push($.argsArray[vt]);_e.operatorList.lastChunk=$.lastChunk,_e.operatorList.separateAnnots=$.separateAnnots;for(const vt of _e.renderTasks)vt.operatorListChanged();$.lastChunk&&Ut(this,No,Jp).call(this,!0)}_pumpOperatorList({renderingIntent:$,cacheKey:_e,annotationStorageSerializable:vt}){const{map:xt,transfer:bt}=vt,At=this._transport.messageHandler.sendWithStream("GetOperatorList",{pageIndex:this._pageIndex,intent:$,cacheKey:_e,annotationStorage:xt},bt).getReader(),_t=this._intentStates.get(_e);_t.streamReader=At;const Ct=()=>{At.read().then(({value:St,done:Rt})=>{if(Rt){_t.streamReader=null;return}this._transport.destroyed||(this._renderPageChunk(St,_t),Ct())},St=>{if(_t.streamReader=null,!this._transport.destroyed){if(_t.operatorList){_t.operatorList.lastChunk=!0;for(const Rt of _t.renderTasks)Rt.operatorListChanged();Ut(this,No,Jp).call(this,!0)}if(_t.displayReadyCapability)_t.displayReadyCapability.reject(St);else if(_t.opListReadCapability)_t.opListReadCapability.reject(St);else throw St}})};Ct()}_abortOperatorList({intentState:$,reason:_e,force:vt=!1}){if($.streamReader){if($.streamReaderCancelTimeout&&(clearTimeout($.streamReaderCancelTimeout),$.streamReaderCancelTimeout=null),!vt){if($.renderTasks.size>0)return;if(_e instanceof RenderingCancelledException){let xt=RENDERING_CANCELLED_TIMEOUT;_e.extraDelay>0&&_e.extraDelay<1e3&&(xt+=_e.extraDelay),$.streamReaderCancelTimeout=setTimeout(()=>{$.streamReaderCancelTimeout=null,this._abortOperatorList({intentState:$,reason:_e,force:!0})},xt);return}}if($.streamReader.cancel(new AbortException(_e.message)).catch(()=>{}),$.streamReader=null,!this._transport.destroyed){for(const[xt,bt]of this._intentStates)if(bt===$){this._intentStates.delete(xt);break}this.cleanup()}}}get stats(){return this._stats}}ku=new WeakMap,Jl=new WeakMap,No=new WeakSet,Jp=function($=!1){if(Ut(this,No,vy).call(this),!wt(this,Jl)||this.destroyed)return!1;if($)return Vt(this,ku,setTimeout(()=>{Vt(this,ku,null),Ut(this,No,Jp).call(this,!1)},DELAYED_CLEANUP_TIMEOUT)),!1;for(const{renderTasks:_e,operatorList:vt}of this._intentStates.values())if(_e.size>0||!vt.lastChunk)return!1;return this._intentStates.clear(),this.objs.clear(),Vt(this,Jl,!1),!0},vy=function(){wt(this,ku)&&(clearTimeout(wt(this,ku)),Vt(this,ku,null))};var vp,ax;class LoopbackPort{constructor(){Gt(this,vp,new Set);Gt(this,ax,Promise.resolve())}postMessage($,_e){const vt={data:structuredClone($,_e?{transfer:_e}:null)};wt(this,ax).then(()=>{for(const xt of wt(this,vp))xt.call(this,vt)})}addEventListener($,_e){wt(this,vp).add(_e)}removeEventListener($,_e){wt(this,vp).delete(_e)}terminate(){wt(this,vp).clear()}}vp=new WeakMap,ax=new WeakMap;const PDFWorkerUtil={isWorkerDisabled:!1,fakeWorkerId:0};isNodeJS&&(PDFWorkerUtil.isWorkerDisabled=!0,GlobalWorkerOptions.workerSrc||(GlobalWorkerOptions.workerSrc="./pdf.worker.mjs")),PDFWorkerUtil.isSameOrigin=function(ht,$){let _e;try{if(_e=new URL(ht),!_e.origin||_e.origin==="null")return!1}catch{return!1}const vt=new URL($,_e);return _e.origin===vt.origin},PDFWorkerUtil.createCDNWrapper=function(ht){const $=`await import("${ht}");`;return URL.createObjectURL(new Blob([$],{type:"text/javascript"}))};var yp,Rm,yy;const _o=class _o{constructor({name:$=null,port:_e=null,verbosity:vt=getVerbosityLevel()}={}){var xt;if(this.name=$,this.destroyed=!1,this.verbosity=vt,this._readyCapability=Promise.withResolvers(),this._port=null,this._webWorker=null,this._messageHandler=null,_e){if((xt=wt(_o,yp))!=null&&xt.has(_e))throw new Error("Cannot use more than one PDFWorker per port.");(wt(_o,yp)||Vt(_o,yp,new WeakMap)).set(_e,this),this._initializeFromPort(_e);return}this._initialize()}get promise(){return isNodeJS?Promise.all([NodePackages.promise,this._readyCapability.promise]):this._readyCapability.promise}get port(){return this._port}get messageHandler(){return this._messageHandler}_initializeFromPort($){this._port=$,this._messageHandler=new MessageHandler("main","worker",$),this._messageHandler.on("ready",function(){}),this._readyCapability.resolve(),this._messageHandler.send("configure",{verbosity:this.verbosity})}_initialize(){if(!PDFWorkerUtil.isWorkerDisabled&&!wt(_o,Rm,yy)){let{workerSrc:$}=_o;try{PDFWorkerUtil.isSameOrigin(window.location.href,$)||($=PDFWorkerUtil.createCDNWrapper(new URL($,window.location).href));const _e=new Worker($,{type:"module"}),vt=new MessageHandler("main","worker",_e),xt=()=>{_e.removeEventListener("error",bt),vt.destroy(),_e.terminate(),this.destroyed?this._readyCapability.reject(new Error("Worker was destroyed")):this._setupFakeWorker()},bt=()=>{this._webWorker||xt()};_e.addEventListener("error",bt),vt.on("test",At=>{if(_e.removeEventListener("error",bt),this.destroyed){xt();return}At?(this._messageHandler=vt,this._port=_e,this._webWorker=_e,this._readyCapability.resolve(),vt.send("configure",{verbosity:this.verbosity})):(this._setupFakeWorker(),vt.destroy(),_e.terminate())}),vt.on("ready",At=>{if(_e.removeEventListener("error",bt),this.destroyed){xt();return}try{Et()}catch{this._setupFakeWorker()}});const Et=()=>{const At=new Uint8Array;vt.send("test",At,[At.buffer])};Et();return}catch{info("The worker has been disabled.")}}this._setupFakeWorker()}_setupFakeWorker(){PDFWorkerUtil.isWorkerDisabled||(warn("Setting up fake worker."),PDFWorkerUtil.isWorkerDisabled=!0),_o._setupFakeWorkerGlobal.then($=>{if(this.destroyed){this._readyCapability.reject(new Error("Worker was destroyed"));return}const _e=new LoopbackPort;this._port=_e;const vt=`fake${PDFWorkerUtil.fakeWorkerId++}`,xt=new MessageHandler(vt+"_worker",vt,_e);$.setup(xt,_e);const bt=new MessageHandler(vt,vt+"_worker",_e);this._messageHandler=bt,this._readyCapability.resolve(),bt.send("configure",{verbosity:this.verbosity})}).catch($=>{this._readyCapability.reject(new Error(`Setting up fake worker failed: "${$.message}".`))})}destroy(){var $;this.destroyed=!0,this._webWorker&&(this._webWorker.terminate(),this._webWorker=null),($=wt(_o,yp))==null||$.delete(this._port),this._port=null,this._messageHandler&&(this._messageHandler.destroy(),this._messageHandler=null)}static fromPort($){var vt;if(!($!=null&&$.port))throw new Error("PDFWorker.fromPort - invalid method signature.");const _e=(vt=wt(this,yp))==null?void 0:vt.get($.port);if(_e){if(_e._pendingDestroy)throw new Error("PDFWorker.fromPort - the worker is being destroyed.\nPlease remember to await `PDFDocumentLoadingTask.destroy()`-calls.");return _e}return new _o($)}static get workerSrc(){if(GlobalWorkerOptions.workerSrc)return GlobalWorkerOptions.workerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}static get _setupFakeWorkerGlobal(){return shadow(this,"_setupFakeWorkerGlobal",(async()=>wt(this,Rm,yy)?wt(this,Rm,yy):(await import(this.workerSrc)).WorkerMessageHandler)())}};yp=new WeakMap,Rm=new WeakSet,yy=function(){var $;try{return(($=globalThis.pdfjsWorker)==null?void 0:$.WorkerMessageHandler)||null}catch{return null}},Gt(_o,Rm),Gt(_o,yp);let PDFWorker=_o;var _c,wl,Tm,Pm,_l,xp,a0;class WorkerTransport{constructor($,_e,vt,xt,bt){Gt(this,xp);Gt(this,_c,new Map);Gt(this,wl,new Map);Gt(this,Tm,new Map);Gt(this,Pm,new Map);Gt(this,_l,null);this.messageHandler=$,this.loadingTask=_e,this.commonObjs=new PDFObjects,this.fontLoader=new FontLoader({ownerDocument:xt.ownerDocument,styleElement:xt.styleElement}),this.loadingParams=xt.loadingParams,this._params=xt,this.canvasFactory=bt.canvasFactory,this.filterFactory=bt.filterFactory,this.cMapReaderFactory=bt.cMapReaderFactory,this.standardFontDataFactory=bt.standardFontDataFactory,this.destroyed=!1,this.destroyCapability=null,this._networkStream=vt,this._fullReader=null,this._lastProgress=null,this.downloadInfoCapability=Promise.withResolvers(),this.setupMessageHandler()}get annotationStorage(){return shadow(this,"annotationStorage",new AnnotationStorage)}getRenderingIntent($,_e=AnnotationMode.ENABLE,vt=null,xt=!1){let bt=RenderingIntentFlag.DISPLAY,Et=SerializableEmpty;switch($){case"any":bt=RenderingIntentFlag.ANY;break;case"display":break;case"print":bt=RenderingIntentFlag.PRINT;break;default:warn(`getRenderingIntent - invalid intent: ${$}`)}switch(_e){case AnnotationMode.DISABLE:bt+=RenderingIntentFlag.ANNOTATIONS_DISABLE;break;case AnnotationMode.ENABLE:break;case AnnotationMode.ENABLE_FORMS:bt+=RenderingIntentFlag.ANNOTATIONS_FORMS;break;case AnnotationMode.ENABLE_STORAGE:bt+=RenderingIntentFlag.ANNOTATIONS_STORAGE,Et=(bt&RenderingIntentFlag.PRINT&&vt instanceof PrintAnnotationStorage?vt:this.annotationStorage).serializable;break;default:warn(`getRenderingIntent - invalid annotationMode: ${_e}`)}return xt&&(bt+=RenderingIntentFlag.OPLIST),{renderingIntent:bt,cacheKey:`${bt}_${Et.hash}`,annotationStorageSerializable:Et}}destroy(){var vt;if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=Promise.withResolvers(),(vt=wt(this,_l))==null||vt.reject(new Error("Worker was destroyed during onPassword callback"));const $=[];for(const xt of wt(this,wl).values())$.push(xt._destroy());wt(this,wl).clear(),wt(this,Tm).clear(),wt(this,Pm).clear(),this.hasOwnProperty("annotationStorage")&&this.annotationStorage.resetModified();const _e=this.messageHandler.sendWithPromise("Terminate",null);return $.push(_e),Promise.all($).then(()=>{var xt;this.commonObjs.clear(),this.fontLoader.clear(),wt(this,_c).clear(),this.filterFactory.destroy(),TextLayer.cleanup(),(xt=this._networkStream)==null||xt.cancelAllRequests(new AbortException("Worker was terminated.")),this.messageHandler&&(this.messageHandler.destroy(),this.messageHandler=null),this.destroyCapability.resolve()},this.destroyCapability.reject),this.destroyCapability.promise}setupMessageHandler(){const{messageHandler:$,loadingTask:_e}=this;$.on("GetReader",(vt,xt)=>{assert(this._networkStream,"GetReader - no `IPDFStream` instance available."),this._fullReader=this._networkStream.getFullReader(),this._fullReader.onProgress=bt=>{this._lastProgress={loaded:bt.loaded,total:bt.total}},xt.onPull=()=>{this._fullReader.read().then(function({value:bt,done:Et}){if(Et){xt.close();return}assert(bt instanceof ArrayBuffer,"GetReader - expected an ArrayBuffer."),xt.enqueue(new Uint8Array(bt),1,[bt])}).catch(bt=>{xt.error(bt)})},xt.onCancel=bt=>{this._fullReader.cancel(bt),xt.ready.catch(Et=>{if(!this.destroyed)throw Et})}}),$.on("ReaderHeadersReady",vt=>{const xt=Promise.withResolvers(),bt=this._fullReader;return bt.headersReady.then(()=>{var Et;(!bt.isStreamingSupported||!bt.isRangeSupported)&&(this._lastProgress&&((Et=_e.onProgress)==null||Et.call(_e,this._lastProgress)),bt.onProgress=At=>{var _t;(_t=_e.onProgress)==null||_t.call(_e,{loaded:At.loaded,total:At.total})}),xt.resolve({isStreamingSupported:bt.isStreamingSupported,isRangeSupported:bt.isRangeSupported,contentLength:bt.contentLength})},xt.reject),xt.promise}),$.on("GetRangeReader",(vt,xt)=>{assert(this._networkStream,"GetRangeReader - no `IPDFStream` instance available.");const bt=this._networkStream.getRangeReader(vt.begin,vt.end);if(!bt){xt.close();return}xt.onPull=()=>{bt.read().then(function({value:Et,done:At}){if(At){xt.close();return}assert(Et instanceof ArrayBuffer,"GetRangeReader - expected an ArrayBuffer."),xt.enqueue(new Uint8Array(Et),1,[Et])}).catch(Et=>{xt.error(Et)})},xt.onCancel=Et=>{bt.cancel(Et),xt.ready.catch(At=>{if(!this.destroyed)throw At})}}),$.on("GetDoc",({pdfInfo:vt})=>{this._numPages=vt.numPages,this._htmlForXfa=vt.htmlForXfa,delete vt.htmlForXfa,_e._capability.resolve(new PDFDocumentProxy(vt,this))}),$.on("DocException",function(vt){let xt;switch(vt.name){case"PasswordException":xt=new PasswordException(vt.message,vt.code);break;case"InvalidPDFException":xt=new InvalidPDFException(vt.message);break;case"MissingPDFException":xt=new MissingPDFException(vt.message);break;case"UnexpectedResponseException":xt=new UnexpectedResponseException(vt.message,vt.status);break;case"UnknownErrorException":xt=new UnknownErrorException(vt.message,vt.details);break;default:unreachable("DocException - expected a valid Error.")}_e._capability.reject(xt)}),$.on("PasswordRequest",vt=>{if(Vt(this,_l,Promise.withResolvers()),_e.onPassword){const xt=bt=>{bt instanceof Error?wt(this,_l).reject(bt):wt(this,_l).resolve({password:bt})};try{_e.onPassword(xt,vt.code)}catch(bt){wt(this,_l).reject(bt)}}else wt(this,_l).reject(new PasswordException(vt.message,vt.code));return wt(this,_l).promise}),$.on("DataLoaded",vt=>{var xt;(xt=_e.onProgress)==null||xt.call(_e,{loaded:vt.length,total:vt.length}),this.downloadInfoCapability.resolve(vt)}),$.on("StartRenderPage",vt=>{if(this.destroyed)return;wt(this,wl).get(vt.pageIndex)._startRenderPage(vt.transparency,vt.cacheKey)}),$.on("commonobj",([vt,xt,bt])=>{var Et;if(this.destroyed||this.commonObjs.has(vt))return null;switch(xt){case"Font":const{disableFontFace:At,fontExtraProperties:_t,pdfBug:Ct}=this._params;if("error"in bt){const kt=bt.error;warn(`Error during font loading: ${kt}`),this.commonObjs.resolve(vt,kt);break}const St=Ct&&((Et=globalThis.FontInspector)!=null&&Et.enabled)?(kt,Mt)=>globalThis.FontInspector.fontAdded(kt,Mt):null,Rt=new FontFaceObject(bt,{disableFontFace:At,inspectFont:St});this.fontLoader.bind(Rt).catch(()=>$.sendWithPromise("FontFallback",{id:vt})).finally(()=>{!_t&&Rt.data&&(Rt.data=null),this.commonObjs.resolve(vt,Rt)});break;case"CopyLocalImage":const{imageRef:Pt}=bt;assert(Pt,"The imageRef must be defined.");for(const kt of wt(this,wl).values())for(const[,Mt]of kt.objs)if((Mt==null?void 0:Mt.ref)===Pt)return Mt.dataLen?(this.commonObjs.resolve(vt,structuredClone(Mt)),Mt.dataLen):null;break;case"FontPath":case"Image":case"Pattern":this.commonObjs.resolve(vt,bt);break;default:throw new Error(`Got unknown common object type ${xt}`)}return null}),$.on("obj",([vt,xt,bt,Et])=>{var _t;if(this.destroyed)return;const At=wt(this,wl).get(xt);if(!At.objs.has(vt)){if(At._intentStates.size===0){(_t=Et==null?void 0:Et.bitmap)==null||_t.close();return}switch(bt){case"Image":At.objs.resolve(vt,Et),(Et==null?void 0:Et.dataLen)>MAX_IMAGE_SIZE_TO_CACHE&&(At._maybeCleanupAfterRender=!0);break;case"Pattern":At.objs.resolve(vt,Et);break;default:throw new Error(`Got unknown object type ${bt}`)}}}),$.on("DocProgress",vt=>{var xt;this.destroyed||(xt=_e.onProgress)==null||xt.call(_e,{loaded:vt.loaded,total:vt.total})}),$.on("FetchBuiltInCMap",vt=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.cMapReaderFactory?this.cMapReaderFactory.fetch(vt):Promise.reject(new Error("CMapReaderFactory not initialized, see the `useWorkerFetch` parameter."))),$.on("FetchStandardFontData",vt=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.standardFontDataFactory?this.standardFontDataFactory.fetch(vt):Promise.reject(new Error("StandardFontDataFactory not initialized, see the `useWorkerFetch` parameter.")))}getData(){return this.messageHandler.sendWithPromise("GetData",null)}saveDocument(){var vt;this.annotationStorage.size<=0&&warn("saveDocument called while `annotationStorage` is empty, please use the getData-method instead.");const{map:$,transfer:_e}=this.annotationStorage.serializable;return this.messageHandler.sendWithPromise("SaveDocument",{isPureXfa:!!this._htmlForXfa,numPages:this._numPages,annotationStorage:$,filename:((vt=this._fullReader)==null?void 0:vt.filename)??null},_e).finally(()=>{this.annotationStorage.resetModified()})}getPage($){if(!Number.isInteger($)||$<=0||$>this._numPages)return Promise.reject(new Error("Invalid page request."));const _e=$-1,vt=wt(this,Tm).get(_e);if(vt)return vt;const xt=this.messageHandler.sendWithPromise("GetPage",{pageIndex:_e}).then(bt=>{if(this.destroyed)throw new Error("Transport destroyed");bt.refStr&&wt(this,Pm).set(bt.refStr,$);const Et=new PDFPageProxy(_e,bt,this,this._params.pdfBug);return wt(this,wl).set(_e,Et),Et});return wt(this,Tm).set(_e,xt),xt}getPageIndex($){return isRefProxy($)?this.messageHandler.sendWithPromise("GetPageIndex",{num:$.num,gen:$.gen}):Promise.reject(new Error("Invalid pageIndex request."))}getAnnotations($,_e){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:$,intent:_e})}getFieldObjects(){return Ut(this,xp,a0).call(this,"GetFieldObjects")}hasJSActions(){return Ut(this,xp,a0).call(this,"HasJSActions")}getCalculationOrderIds(){return this.messageHandler.sendWithPromise("GetCalculationOrderIds",null)}getDestinations(){return this.messageHandler.sendWithPromise("GetDestinations",null)}getDestination($){return typeof $!="string"?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:$})}getPageLabels(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}getPageLayout(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}getPageMode(){return this.messageHandler.sendWithPromise("GetPageMode",null)}getViewerPreferences(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}getOpenAction(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}getAttachments(){return this.messageHandler.sendWithPromise("GetAttachments",null)}getDocJSActions(){return Ut(this,xp,a0).call(this,"GetDocJSActions")}getPageJSActions($){return this.messageHandler.sendWithPromise("GetPageJSActions",{pageIndex:$})}getStructTree($){return this.messageHandler.sendWithPromise("GetStructTree",{pageIndex:$})}getOutline(){return this.messageHandler.sendWithPromise("GetOutline",null)}getOptionalContentConfig($){return Ut(this,xp,a0).call(this,"GetOptionalContentConfig").then(_e=>new OptionalContentConfig(_e,$))}getPermissions(){return this.messageHandler.sendWithPromise("GetPermissions",null)}getMetadata(){const $="GetMetadata",_e=wt(this,_c).get($);if(_e)return _e;const vt=this.messageHandler.sendWithPromise($,null).then(xt=>{var bt,Et;return{info:xt[0],metadata:xt[1]?new Metadata(xt[1]):null,contentDispositionFilename:((bt=this._fullReader)==null?void 0:bt.filename)??null,contentLength:((Et=this._fullReader)==null?void 0:Et.contentLength)??null}});return wt(this,_c).set($,vt),vt}getMarkInfo(){return this.messageHandler.sendWithPromise("GetMarkInfo",null)}async startCleanup($=!1){if(!this.destroyed){await this.messageHandler.sendWithPromise("Cleanup",null);for(const _e of wt(this,wl).values())if(!_e.cleanup())throw new Error(`startCleanup: Page ${_e.pageNumber} is currently rendering.`);this.commonObjs.clear(),$||this.fontLoader.clear(),wt(this,_c).clear(),this.filterFactory.destroy(!0),TextLayer.cleanup()}}cachedPageNumber($){if(!isRefProxy($))return null;const _e=$.gen===0?`${$.num}R`:`${$.num}R${$.gen}`;return wt(this,Pm).get(_e)??null}}_c=new WeakMap,wl=new WeakMap,Tm=new WeakMap,Pm=new WeakMap,_l=new WeakMap,xp=new WeakSet,a0=function($,_e=null){const vt=wt(this,_c).get($);if(vt)return vt;const xt=this.messageHandler.sendWithPromise($,_e);return wt(this,_c).set($,xt),xt};const INITIAL_DATA=Symbol("INITIAL_DATA");var Xo,fv,Yx;class PDFObjects{constructor(){Gt(this,fv);Gt(this,Xo,Object.create(null))}get($,_e=null){if(_e){const xt=Ut(this,fv,Yx).call(this,$);return xt.promise.then(()=>_e(xt.data)),null}const vt=wt(this,Xo)[$];if(!vt||vt.data===INITIAL_DATA)throw new Error(`Requesting object that isn't resolved yet ${$}.`);return vt.data}has($){const _e=wt(this,Xo)[$];return!!_e&&_e.data!==INITIAL_DATA}resolve($,_e=null){const vt=Ut(this,fv,Yx).call(this,$);vt.data=_e,vt.resolve()}clear(){var $;for(const _e in wt(this,Xo)){const{data:vt}=wt(this,Xo)[_e];($=vt==null?void 0:vt.bitmap)==null||$.close()}Vt(this,Xo,Object.create(null))}*[Symbol.iterator](){for(const $ in wt(this,Xo)){const{data:_e}=wt(this,Xo)[$];_e!==INITIAL_DATA&&(yield[$,_e])}}}Xo=new WeakMap,fv=new WeakSet,Yx=function($){var _e;return(_e=wt(this,Xo))[$]||(_e[$]={...Promise.withResolvers(),data:INITIAL_DATA})};var Mu;class RenderTask{constructor($){Gt(this,Mu,null);Vt(this,Mu,$),this.onContinue=null}get promise(){return wt(this,Mu).capability.promise}cancel($=0){wt(this,Mu).cancel(null,$)}get separateAnnots(){const{separateAnnots:$}=wt(this,Mu).operatorList;if(!$)return!1;const{annotationCanvasMap:_e}=wt(this,Mu);return $.form||$.canvas&&(_e==null?void 0:_e.size)>0}}Mu=new WeakMap;var bp;const Qu=class Qu{constructor({callback:$,params:_e,objs:vt,commonObjs:xt,annotationCanvasMap:bt,operatorList:Et,pageIndex:At,canvasFactory:_t,filterFactory:Ct,useRequestAnimationFrame:St=!1,pdfBug:Rt=!1,pageColors:Pt=null}){this.callback=$,this.params=_e,this.objs=vt,this.commonObjs=xt,this.annotationCanvasMap=bt,this.operatorListIdx=null,this.operatorList=Et,this._pageIndex=At,this.canvasFactory=_t,this.filterFactory=Ct,this._pdfBug=Rt,this.pageColors=Pt,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=St===!0&&typeof window<"u",this.cancelled=!1,this.capability=Promise.withResolvers(),this.task=new RenderTask(this),this._cancelBound=this.cancel.bind(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=_e.canvasContext.canvas}get completed(){return this.capability.promise.catch(function(){})}initializeGraphics({transparency:$=!1,optionalContentConfig:_e}){var At,_t;if(this.cancelled)return;if(this._canvas){if(wt(Qu,bp).has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");wt(Qu,bp).add(this._canvas)}this._pdfBug&&((At=globalThis.StepperManager)!=null&&At.enabled)&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());const{canvasContext:vt,viewport:xt,transform:bt,background:Et}=this.params;this.gfx=new CanvasGraphics(vt,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:_e},this.annotationCanvasMap,this.pageColors),this.gfx.beginDrawing({transform:bt,viewport:xt,transparency:$,background:Et}),this.operatorListIdx=0,this.graphicsReady=!0,(_t=this.graphicsReadyCallback)==null||_t.call(this)}cancel($=null,_e=0){var vt;this.running=!1,this.cancelled=!0,(vt=this.gfx)==null||vt.endDrawing(),wt(Qu,bp).delete(this._canvas),this.callback($||new RenderingCancelledException(`Rendering cancelled, page ${this._pageIndex+1}`,_e))}operatorListChanged(){var $;if(!this.graphicsReady){this.graphicsReadyCallback||(this.graphicsReadyCallback=this._continueBound);return}($=this.stepper)==null||$.updateOperatorList(this.operatorList),!this.running&&this._continue()}_continue(){this.running=!0,!this.cancelled&&(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}_scheduleNext(){this._useRequestAnimationFrame?window.requestAnimationFrame(()=>{this._nextBound().catch(this._cancelBound)}):Promise.resolve().then(this._nextBound).catch(this._cancelBound)}async _next(){this.cancelled||(this.operatorListIdx=this.gfx.executeOperatorList(this.operatorList,this.operatorListIdx,this._continueBound,this.stepper),this.operatorListIdx===this.operatorList.argsArray.length&&(this.running=!1,this.operatorList.lastChunk&&(this.gfx.endDrawing(),wt(Qu,bp).delete(this._canvas),this.callback())))}};bp=new WeakMap,Gt(Qu,bp,new WeakSet);let InternalRenderTask=Qu;const version="4.3.136",build="0cec64437";function makeColorComp(ht){return Math.floor(Math.max(0,Math.min(1,ht))*255).toString(16).padStart(2,"0")}function scaleAndClamp(ht){return Math.max(0,Math.min(255,255*ht))}class ColorConverters{static CMYK_G([$,_e,vt,xt]){return["G",1-Math.min(1,.3*$+.59*vt+.11*_e+xt)]}static G_CMYK([$]){return["CMYK",0,0,0,1-$]}static G_RGB([$]){return["RGB",$,$,$]}static G_rgb([$]){return $=scaleAndClamp($),[$,$,$]}static G_HTML([$]){const _e=makeColorComp($);return`#${_e}${_e}${_e}`}static RGB_G([$,_e,vt]){return["G",.3*$+.59*_e+.11*vt]}static RGB_rgb($){return $.map(scaleAndClamp)}static RGB_HTML($){return`#${$.map(makeColorComp).join("")}`}static T_HTML(){return"#00000000"}static T_rgb(){return[null]}static CMYK_RGB([$,_e,vt,xt]){return["RGB",1-Math.min(1,$+xt),1-Math.min(1,vt+xt),1-Math.min(1,_e+xt)]}static CMYK_rgb([$,_e,vt,xt]){return[scaleAndClamp(1-Math.min(1,$+xt)),scaleAndClamp(1-Math.min(1,vt+xt)),scaleAndClamp(1-Math.min(1,_e+xt))]}static CMYK_HTML($){const _e=this.CMYK_RGB($).slice(1);return this.RGB_HTML(_e)}static RGB_CMYK([$,_e,vt]){const xt=1-$,bt=1-_e,Et=1-vt,At=Math.min(xt,bt,Et);return["CMYK",xt,bt,Et,At]}}class XfaLayer{static setupStorage($,_e,vt,xt,bt){const Et=xt.getValue(_e,{value:null});switch(vt.name){case"textarea":if(Et.value!==null&&($.textContent=Et.value),bt==="print")break;$.addEventListener("input",At=>{xt.setValue(_e,{value:At.target.value})});break;case"input":if(vt.attributes.type==="radio"||vt.attributes.type==="checkbox"){if(Et.value===vt.attributes.xfaOn?$.setAttribute("checked",!0):Et.value===vt.attributes.xfaOff&&$.removeAttribute("checked"),bt==="print")break;$.addEventListener("change",At=>{xt.setValue(_e,{value:At.target.checked?At.target.getAttribute("xfaOn"):At.target.getAttribute("xfaOff")})})}else{if(Et.value!==null&&$.setAttribute("value",Et.value),bt==="print")break;$.addEventListener("input",At=>{xt.setValue(_e,{value:At.target.value})})}break;case"select":if(Et.value!==null){$.setAttribute("value",Et.value);for(const At of vt.children)At.attributes.value===Et.value?At.attributes.selected=!0:At.attributes.hasOwnProperty("selected")&&delete At.attributes.selected}$.addEventListener("input",At=>{const _t=At.target.options,Ct=_t.selectedIndex===-1?"":_t[_t.selectedIndex].value;xt.setValue(_e,{value:Ct})});break}}static setAttributes({html:$,element:_e,storage:vt=null,intent:xt,linkService:bt}){const{attributes:Et}=_e,At=$ instanceof HTMLAnchorElement;Et.type==="radio"&&(Et.name=`${Et.name}-${xt}`);for(const[_t,Ct]of Object.entries(Et))if(Ct!=null)switch(_t){case"class":Ct.length&&$.setAttribute(_t,Ct.join(" "));break;case"dataId":break;case"id":$.setAttribute("data-element-id",Ct);break;case"style":Object.assign($.style,Ct);break;case"textContent":$.textContent=Ct;break;default:(!At||_t!=="href"&&_t!=="newWindow")&&$.setAttribute(_t,Ct)}At&&bt.addLinkAttributes($,Et.href,Et.newWindow),vt&&Et.dataId&&this.setupStorage($,Et.dataId,_e,vt)}static render($){var Rt,Pt;const _e=$.annotationStorage,vt=$.linkService,xt=$.xfaHtml,bt=$.intent||"display",Et=document.createElement(xt.name);xt.attributes&&this.setAttributes({html:Et,element:xt,intent:bt,linkService:vt});const At=bt!=="richText",_t=$.div;if(_t.append(Et),$.viewport){const kt=`matrix(${$.viewport.transform.join(",")})`;_t.style.transform=kt}At&&_t.setAttribute("class","xfaLayer xfaFont");const Ct=[];if(xt.children.length===0){if(xt.value){const kt=document.createTextNode(xt.value);Et.append(kt),At&&XfaText.shouldBuildText(xt.name)&&Ct.push(kt)}return{textDivs:Ct}}const St=[[xt,-1,Et]];for(;St.length>0;){const[kt,Mt,Lt]=St.at(-1);if(Mt+1===kt.children.length){St.pop();continue}const $t=kt.children[++St.at(-1)[1]];if($t===null)continue;const{name:Ft}=$t;if(Ft==="#text"){const Nt=document.createTextNode($t.value);Ct.push(Nt),Lt.append(Nt);continue}const Dt=(Rt=$t==null?void 0:$t.attributes)!=null&&Rt.xmlns?document.createElementNS($t.attributes.xmlns,Ft):document.createElement(Ft);if(Lt.append(Dt),$t.attributes&&this.setAttributes({html:Dt,element:$t,storage:_e,intent:bt,linkService:vt}),((Pt=$t.children)==null?void 0:Pt.length)>0)St.push([$t,-1,Dt]);else if($t.value){const Nt=document.createTextNode($t.value);At&&XfaText.shouldBuildText(Ft)&&Ct.push(Nt),Dt.append(Nt)}}for(const kt of _t.querySelectorAll(".xfaNonInteractive input, .xfaNonInteractive textarea"))kt.setAttribute("readOnly",!0);return{textDivs:Ct}}static update($){const _e=`matrix(${$.viewport.transform.join(",")})`;$.div.style.transform=_e,$.div.hidden=!1}}const DEFAULT_TAB_INDEX=1e3,annotation_layer_DEFAULT_FONT_SIZE=9,GetElementsByNameSet=new WeakSet;function getRectDims(ht){return{width:ht[2]-ht[0],height:ht[3]-ht[1]}}class AnnotationElementFactory{static create($){switch($.data.annotationType){case AnnotationType.LINK:return new LinkAnnotationElement($);case AnnotationType.TEXT:return new TextAnnotationElement($);case AnnotationType.WIDGET:switch($.data.fieldType){case"Tx":return new TextWidgetAnnotationElement($);case"Btn":return $.data.radioButton?new RadioButtonWidgetAnnotationElement($):$.data.checkBox?new CheckboxWidgetAnnotationElement($):new PushButtonWidgetAnnotationElement($);case"Ch":return new ChoiceWidgetAnnotationElement($);case"Sig":return new SignatureWidgetAnnotationElement($)}return new WidgetAnnotationElement($);case AnnotationType.POPUP:return new PopupAnnotationElement($);case AnnotationType.FREETEXT:return new FreeTextAnnotationElement($);case AnnotationType.LINE:return new LineAnnotationElement($);case AnnotationType.SQUARE:return new SquareAnnotationElement($);case AnnotationType.CIRCLE:return new CircleAnnotationElement($);case AnnotationType.POLYLINE:return new PolylineAnnotationElement($);case AnnotationType.CARET:return new CaretAnnotationElement($);case AnnotationType.INK:return new InkAnnotationElement($);case AnnotationType.POLYGON:return new PolygonAnnotationElement($);case AnnotationType.HIGHLIGHT:return new HighlightAnnotationElement($);case AnnotationType.UNDERLINE:return new UnderlineAnnotationElement($);case AnnotationType.SQUIGGLY:return new SquigglyAnnotationElement($);case AnnotationType.STRIKEOUT:return new StrikeOutAnnotationElement($);case AnnotationType.STAMP:return new StampAnnotationElement($);case AnnotationType.FILEATTACHMENT:return new FileAttachmentAnnotationElement($);default:return new AnnotationElement($)}}}var Ep,km,Mm,pv,Zx;const rE=class rE{constructor($,{isRenderable:_e=!1,ignoreBorder:vt=!1,createQuadrilaterals:xt=!1}={}){Gt(this,pv);Gt(this,Ep,null);Gt(this,km,!1);Gt(this,Mm,null);this.isRenderable=_e,this.data=$.data,this.layer=$.layer,this.linkService=$.linkService,this.downloadManager=$.downloadManager,this.imageResourcesPath=$.imageResourcesPath,this.renderForms=$.renderForms,this.svgFactory=$.svgFactory,this.annotationStorage=$.annotationStorage,this.enableScripting=$.enableScripting,this.hasJSActions=$.hasJSActions,this._fieldObjects=$.fieldObjects,this.parent=$.parent,_e&&(this.container=this._createContainer(vt)),xt&&this._createQuadrilaterals()}static _hasPopupData({titleObj:$,contentsObj:_e,richText:vt}){return!!($!=null&&$.str||_e!=null&&_e.str||vt!=null&&vt.str)}get hasPopupData(){return rE._hasPopupData(this.data)}updateEdited($){var vt;if(!this.container)return;wt(this,Ep)||Vt(this,Ep,{rect:this.data.rect.slice(0)});const{rect:_e}=$;_e&&Ut(this,pv,Zx).call(this,_e),(vt=wt(this,Mm))==null||vt.popup.updateEdited($)}resetEdited(){var $;wt(this,Ep)&&(Ut(this,pv,Zx).call(this,wt(this,Ep).rect),($=wt(this,Mm))==null||$.popup.resetEdited(),Vt(this,Ep,null))}_createContainer($){const{data:_e,parent:{page:vt,viewport:xt}}=this,bt=document.createElement("section");bt.setAttribute("data-annotation-id",_e.id),this instanceof WidgetAnnotationElement||(bt.tabIndex=DEFAULT_TAB_INDEX);const{style:Et}=bt;if(Et.zIndex=this.parent.zIndex++,_e.popupRef&&bt.setAttribute("aria-haspopup","dialog"),_e.alternativeText&&(bt.title=_e.alternativeText),_e.noRotate&&bt.classList.add("norotate"),!_e.rect||this instanceof PopupAnnotationElement){const{rotation:Lt}=_e;return!_e.hasOwnCanvas&&Lt!==0&&this.setRotation(Lt,bt),bt}const{width:At,height:_t}=getRectDims(_e.rect);if(!$&&_e.borderStyle.width>0){Et.borderWidth=`${_e.borderStyle.width}px`;const Lt=_e.borderStyle.horizontalCornerRadius,$t=_e.borderStyle.verticalCornerRadius;if(Lt>0||$t>0){const Dt=`calc(${Lt}px * var(--scale-factor)) / calc(${$t}px * var(--scale-factor))`;Et.borderRadius=Dt}else if(this instanceof RadioButtonWidgetAnnotationElement){const Dt=`calc(${At}px * var(--scale-factor)) / calc(${_t}px * var(--scale-factor))`;Et.borderRadius=Dt}switch(_e.borderStyle.style){case AnnotationBorderStyleType.SOLID:Et.borderStyle="solid";break;case AnnotationBorderStyleType.DASHED:Et.borderStyle="dashed";break;case AnnotationBorderStyleType.BEVELED:warn("Unimplemented border style: beveled");break;case AnnotationBorderStyleType.INSET:warn("Unimplemented border style: inset");break;case AnnotationBorderStyleType.UNDERLINE:Et.borderBottomStyle="solid";break}const Ft=_e.borderColor||null;Ft?(Vt(this,km,!0),Et.borderColor=Util.makeHexColor(Ft[0]|0,Ft[1]|0,Ft[2]|0)):Et.borderWidth=0}const Ct=Util.normalizeRect([_e.rect[0],vt.view[3]-_e.rect[1]+vt.view[1],_e.rect[2],vt.view[3]-_e.rect[3]+vt.view[1]]),{pageWidth:St,pageHeight:Rt,pageX:Pt,pageY:kt}=xt.rawDims;Et.left=`${100*(Ct[0]-Pt)/St}%`,Et.top=`${100*(Ct[1]-kt)/Rt}%`;const{rotation:Mt}=_e;return _e.hasOwnCanvas||Mt===0?(Et.width=`${100*At/St}%`,Et.height=`${100*_t/Rt}%`):this.setRotation(Mt,bt),bt}setRotation($,_e=this.container){if(!this.data.rect)return;const{pageWidth:vt,pageHeight:xt}=this.parent.viewport.rawDims,{width:bt,height:Et}=getRectDims(this.data.rect);let At,_t;$%180===0?(At=100*bt/vt,_t=100*Et/xt):(At=100*Et/vt,_t=100*bt/xt),_e.style.width=`${At}%`,_e.style.height=`${_t}%`,_e.setAttribute("data-main-rotation",(360-$)%360)}get _commonActions(){const $=(_e,vt,xt)=>{const bt=xt.detail[_e],Et=bt[0],At=bt.slice(1);xt.target.style[vt]=ColorConverters[`${Et}_HTML`](At),this.annotationStorage.setValue(this.data.id,{[vt]:ColorConverters[`${Et}_rgb`](At)})};return shadow(this,"_commonActions",{display:_e=>{const{display:vt}=_e.detail,xt=vt%2===1;this.container.style.visibility=xt?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noView:xt,noPrint:vt===1||vt===2})},print:_e=>{this.annotationStorage.setValue(this.data.id,{noPrint:!_e.detail.print})},hidden:_e=>{const{hidden:vt}=_e.detail;this.container.style.visibility=vt?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noPrint:vt,noView:vt})},focus:_e=>{setTimeout(()=>_e.target.focus({preventScroll:!1}),0)},userName:_e=>{_e.target.title=_e.detail.userName},readonly:_e=>{_e.target.disabled=_e.detail.readonly},required:_e=>{this._setRequired(_e.target,_e.detail.required)},bgColor:_e=>{$("bgColor","backgroundColor",_e)},fillColor:_e=>{$("fillColor","backgroundColor",_e)},fgColor:_e=>{$("fgColor","color",_e)},textColor:_e=>{$("textColor","color",_e)},borderColor:_e=>{$("borderColor","borderColor",_e)},strokeColor:_e=>{$("strokeColor","borderColor",_e)},rotation:_e=>{const vt=_e.detail.rotation;this.setRotation(vt),this.annotationStorage.setValue(this.data.id,{rotation:vt})}})}_dispatchEventFromSandbox($,_e){const vt=this._commonActions;for(const xt of Object.keys(_e.detail)){const bt=$[xt]||vt[xt];bt==null||bt(_e)}}_setDefaultPropertiesFromJS($){if(!this.enableScripting)return;const _e=this.annotationStorage.getRawValue(this.data.id);if(!_e)return;const vt=this._commonActions;for(const[xt,bt]of Object.entries(_e)){const Et=vt[xt];if(Et){const At={detail:{[xt]:bt},target:$};Et(At),delete _e[xt]}}}_createQuadrilaterals(){if(!this.container)return;const{quadPoints:$}=this.data;if(!$)return;const[_e,vt,xt,bt]=this.data.rect;if($.length===1){const[,{x:Lt,y:$t},{x:Ft,y:Dt}]=$[0];if(xt===Lt&&bt===$t&&_e===Ft&&vt===Dt)return}const{style:Et}=this.container;let At;if(wt(this,km)){const{borderColor:Lt,borderWidth:$t}=Et;Et.borderWidth=0,At=["url('data:image/svg+xml;utf8,",'<svg xmlns="http://www.w3.org/2000/svg"',' preserveAspectRatio="none" viewBox="0 0 1 1">',`<g fill="transparent" stroke="${Lt}" stroke-width="${$t}">`],this.container.classList.add("hasBorder")}const _t=xt-_e,Ct=bt-vt,{svgFactory:St}=this,Rt=St.createElement("svg");Rt.classList.add("quadrilateralsContainer"),Rt.setAttribute("width",0),Rt.setAttribute("height",0);const Pt=St.createElement("defs");Rt.append(Pt);const kt=St.createElement("clipPath"),Mt=`clippath_${this.data.id}`;kt.setAttribute("id",Mt),kt.setAttribute("clipPathUnits","objectBoundingBox"),Pt.append(kt);for(const[,{x:Lt,y:$t},{x:Ft,y:Dt}]of $){const Nt=St.createElement("rect"),Ht=(Ft-_e)/_t,Ot=(bt-$t)/Ct,Bt=(Lt-Ft)/_t,jt=($t-Dt)/Ct;Nt.setAttribute("x",Ht),Nt.setAttribute("y",Ot),Nt.setAttribute("width",Bt),Nt.setAttribute("height",jt),kt.append(Nt),At==null||At.push(`<rect vector-effect="non-scaling-stroke" x="${Ht}" y="${Ot}" width="${Bt}" height="${jt}"/>`)}wt(this,km)&&(At.push("</g></svg>')"),Et.backgroundImage=At.join("")),this.container.append(Rt),this.container.style.clipPath=`url(#${Mt})`}_createPopup(){const{container:$,data:_e}=this;$.setAttribute("aria-haspopup","dialog");const vt=Vt(this,Mm,new PopupAnnotationElement({data:{color:_e.color,titleObj:_e.titleObj,modificationDate:_e.modificationDate,contentsObj:_e.contentsObj,richText:_e.richText,parentRect:_e.rect,borderStyle:0,id:`popup_${_e.id}`,rotation:_e.rotation},parent:this.parent,elements:[this]}));this.parent.div.append(vt.render())}render(){unreachable("Abstract method `AnnotationElement.render` called")}_getElementsByName($,_e=null){const vt=[];if(this._fieldObjects){const xt=this._fieldObjects[$];if(xt)for(const{page:bt,id:Et,exportValues:At}of xt){if(bt===-1||Et===_e)continue;const _t=typeof At=="string"?At:null,Ct=document.querySelector(`[data-element-id="${Et}"]`);if(Ct&&!GetElementsByNameSet.has(Ct)){warn(`_getElementsByName - element not allowed: ${Et}`);continue}vt.push({id:Et,exportValue:_t,domElement:Ct})}return vt}for(const xt of document.getElementsByName($)){const{exportValue:bt}=xt,Et=xt.getAttribute("data-element-id");Et!==_e&&GetElementsByNameSet.has(xt)&&vt.push({id:Et,exportValue:bt,domElement:xt})}return vt}show(){var $;this.container&&(this.container.hidden=!1),($=this.popup)==null||$.maybeShow()}hide(){var $;this.container&&(this.container.hidden=!0),($=this.popup)==null||$.forceHide()}getElementsToTriggerPopup(){return this.container}addHighlightArea(){const $=this.getElementsToTriggerPopup();if(Array.isArray($))for(const _e of $)_e.classList.add("highlightArea");else $.classList.add("highlightArea")}get _isEditable(){return!1}_editOnDoubleClick(){if(!this._isEditable)return;const{annotationEditorType:$,data:{id:_e}}=this;this.container.addEventListener("dblclick",()=>{var vt;(vt=this.linkService.eventBus)==null||vt.dispatch("switchannotationeditormode",{source:this,mode:$,editId:_e})})}};Ep=new WeakMap,km=new WeakMap,Mm=new WeakMap,pv=new WeakSet,Zx=function($){const{container:{style:_e},data:{rect:vt,rotation:xt},parent:{viewport:{rawDims:{pageWidth:bt,pageHeight:Et,pageX:At,pageY:_t}}}}=this;vt==null||vt.splice(0,4,...$);const{width:Ct,height:St}=getRectDims($);_e.left=`${100*($[0]-At)/bt}%`,_e.top=`${100*(Et-$[3]+_t)/Et}%`,xt===0?(_e.width=`${100*Ct/bt}%`,_e.height=`${100*St/Et}%`):this.setRotation(xt)};let AnnotationElement=rE;var Mo,Xu,eA,tA;class LinkAnnotationElement extends AnnotationElement{constructor(_e,vt=null){super(_e,{isRenderable:!0,ignoreBorder:!!(vt!=null&&vt.ignoreBorder),createQuadrilaterals:!0});Gt(this,Mo);this.isTooltipOnly=_e.data.isTooltipOnly}render(){const{data:_e,linkService:vt}=this,xt=document.createElement("a");xt.setAttribute("data-element-id",_e.id);let bt=!1;return _e.url?(vt.addLinkAttributes(xt,_e.url,_e.newWindow),bt=!0):_e.action?(this._bindNamedAction(xt,_e.action),bt=!0):_e.attachment?(Ut(this,Mo,eA).call(this,xt,_e.attachment,_e.attachmentDest),bt=!0):_e.setOCGState?(Ut(this,Mo,tA).call(this,xt,_e.setOCGState),bt=!0):_e.dest?(this._bindLink(xt,_e.dest),bt=!0):(_e.actions&&(_e.actions.Action||_e.actions["Mouse Up"]||_e.actions["Mouse Down"])&&this.enableScripting&&this.hasJSActions&&(this._bindJSAction(xt,_e),bt=!0),_e.resetForm?(this._bindResetFormAction(xt,_e.resetForm),bt=!0):this.isTooltipOnly&&!bt&&(this._bindLink(xt,""),bt=!0)),this.container.classList.add("linkAnnotation"),bt&&this.container.append(xt),this.container}_bindLink(_e,vt){_e.href=this.linkService.getDestinationHash(vt),_e.onclick=()=>(vt&&this.linkService.goToDestination(vt),!1),(vt||vt==="")&&Ut(this,Mo,Xu).call(this)}_bindNamedAction(_e,vt){_e.href=this.linkService.getAnchorUrl(""),_e.onclick=()=>(this.linkService.executeNamedAction(vt),!1),Ut(this,Mo,Xu).call(this)}_bindJSAction(_e,vt){_e.href=this.linkService.getAnchorUrl("");const xt=new Map([["Action","onclick"],["Mouse Up","onmouseup"],["Mouse Down","onmousedown"]]);for(const bt of Object.keys(vt.actions)){const Et=xt.get(bt);Et&&(_e[Et]=()=>{var At;return(At=this.linkService.eventBus)==null||At.dispatch("dispatcheventinsandbox",{source:this,detail:{id:vt.id,name:bt}}),!1})}_e.onclick||(_e.onclick=()=>!1),Ut(this,Mo,Xu).call(this)}_bindResetFormAction(_e,vt){const xt=_e.onclick;if(xt||(_e.href=this.linkService.getAnchorUrl("")),Ut(this,Mo,Xu).call(this),!this._fieldObjects){warn('_bindResetFormAction - "resetForm" action not supported, ensure that the `fieldObjects` parameter is provided.'),xt||(_e.onclick=()=>!1);return}_e.onclick=()=>{var Rt;xt==null||xt();const{fields:bt,refs:Et,include:At}=vt,_t=[];if(bt.length!==0||Et.length!==0){const Pt=new Set(Et);for(const kt of bt){const Mt=this._fieldObjects[kt]||[];for(const{id:Lt}of Mt)Pt.add(Lt)}for(const kt of Object.values(this._fieldObjects))for(const Mt of kt)Pt.has(Mt.id)===At&&_t.push(Mt)}else for(const Pt of Object.values(this._fieldObjects))_t.push(...Pt);const Ct=this.annotationStorage,St=[];for(const Pt of _t){const{id:kt}=Pt;switch(St.push(kt),Pt.type){case"text":{const Lt=Pt.defaultValue||"";Ct.setValue(kt,{value:Lt});break}case"checkbox":case"radiobutton":{const Lt=Pt.defaultValue===Pt.exportValues;Ct.setValue(kt,{value:Lt});break}case"combobox":case"listbox":{const Lt=Pt.defaultValue||"";Ct.setValue(kt,{value:Lt});break}default:continue}const Mt=document.querySelector(`[data-element-id="${kt}"]`);if(Mt){if(!GetElementsByNameSet.has(Mt)){warn(`_bindResetFormAction - element not allowed: ${kt}`);continue}}else continue;Mt.dispatchEvent(new Event("resetform"))}return this.enableScripting&&((Rt=this.linkService.eventBus)==null||Rt.dispatch("dispatcheventinsandbox",{source:this,detail:{id:"app",ids:St,name:"ResetForm"}})),!1}}}Mo=new WeakSet,Xu=function(){this.container.setAttribute("data-internal-link","")},eA=function(_e,vt,xt=null){_e.href=this.linkService.getAnchorUrl(""),vt.description&&(_e.title=vt.description),_e.onclick=()=>{var bt;return(bt=this.downloadManager)==null||bt.openOrDownloadData(vt.content,vt.filename,xt),!1},Ut(this,Mo,Xu).call(this)},tA=function(_e,vt){_e.href=this.linkService.getAnchorUrl(""),_e.onclick=()=>(this.linkService.executeSetOCGState(vt),!1),Ut(this,Mo,Xu).call(this)};class TextAnnotationElement extends AnnotationElement{constructor($){super($,{isRenderable:!0})}render(){this.container.classList.add("textAnnotation");const $=document.createElement("img");return $.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",$.setAttribute("data-l10n-id","pdfjs-text-annotation-type"),$.setAttribute("data-l10n-args",JSON.stringify({type:this.data.name})),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.append($),this.container}}class WidgetAnnotationElement extends AnnotationElement{render(){return this.container}showElementAndHideCanvas($){var _e;this.data.hasOwnCanvas&&(((_e=$.previousSibling)==null?void 0:_e.nodeName)==="CANVAS"&&($.previousSibling.hidden=!0),$.hidden=!1)}_getKeyModifier($){return util_FeatureTest.platform.isMac?$.metaKey:$.ctrlKey}_setEventListener($,_e,vt,xt,bt){vt.includes("mouse")?$.addEventListener(vt,Et=>{var At;(At=this.linkService.eventBus)==null||At.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:xt,value:bt(Et),shift:Et.shiftKey,modifier:this._getKeyModifier(Et)}})}):$.addEventListener(vt,Et=>{var At;if(vt==="blur"){if(!_e.focused||!Et.relatedTarget)return;_e.focused=!1}else if(vt==="focus"){if(_e.focused)return;_e.focused=!0}bt&&((At=this.linkService.eventBus)==null||At.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:xt,value:bt(Et)}}))})}_setEventListeners($,_e,vt,xt){var bt,Et,At;for(const[_t,Ct]of vt)(Ct==="Action"||(bt=this.data.actions)!=null&&bt[Ct])&&((Ct==="Focus"||Ct==="Blur")&&(_e||(_e={focused:!1})),this._setEventListener($,_e,_t,Ct,xt),Ct==="Focus"&&!((Et=this.data.actions)!=null&&Et.Blur)?this._setEventListener($,_e,"blur","Blur",null):Ct==="Blur"&&!((At=this.data.actions)!=null&&At.Focus)&&this._setEventListener($,_e,"focus","Focus",null))}_setBackgroundColor($){const _e=this.data.backgroundColor||null;$.style.backgroundColor=_e===null?"transparent":Util.makeHexColor(_e[0],_e[1],_e[2])}_setTextStyle($){const _e=["left","center","right"],{fontColor:vt}=this.data.defaultAppearanceData,xt=this.data.defaultAppearanceData.fontSize||annotation_layer_DEFAULT_FONT_SIZE,bt=$.style;let Et;const At=2,_t=Ct=>Math.round(10*Ct)/10;if(this.data.multiLine){const Ct=Math.abs(this.data.rect[3]-this.data.rect[1]-At),St=Math.round(Ct/(LINE_FACTOR*xt))||1,Rt=Ct/St;Et=Math.min(xt,_t(Rt/LINE_FACTOR))}else{const Ct=Math.abs(this.data.rect[3]-this.data.rect[1]-At);Et=Math.min(xt,_t(Ct/LINE_FACTOR))}bt.fontSize=`calc(${Et}px * var(--scale-factor))`,bt.color=Util.makeHexColor(vt[0],vt[1],vt[2]),this.data.textAlignment!==null&&(bt.textAlign=_e[this.data.textAlignment])}_setRequired($,_e){_e?$.setAttribute("required",!0):$.removeAttribute("required"),$.setAttribute("aria-required",_e)}}class TextWidgetAnnotationElement extends WidgetAnnotationElement{constructor($){const _e=$.renderForms||$.data.hasOwnCanvas||!$.data.hasAppearance&&!!$.data.fieldValue;super($,{isRenderable:_e})}setPropertyOnSiblings($,_e,vt,xt){const bt=this.annotationStorage;for(const Et of this._getElementsByName($.name,$.id))Et.domElement&&(Et.domElement[_e]=vt),bt.setValue(Et.id,{[xt]:vt})}render(){var xt,bt;const $=this.annotationStorage,_e=this.data.id;this.container.classList.add("textWidgetAnnotation");let vt=null;if(this.renderForms){const Et=$.getValue(_e,{value:this.data.fieldValue});let At=Et.value||"";const _t=$.getValue(_e,{charLimit:this.data.maxLen}).charLimit;_t&&At.length>_t&&(At=At.slice(0,_t));let Ct=Et.formattedValue||((xt=this.data.textContent)==null?void 0:xt.join(`
`))||null;Ct&&this.data.comb&&(Ct=Ct.replaceAll(/\s+/g,""));const St={userValue:At,formattedValue:Ct,lastCommittedValue:null,commitKey:1,focused:!1};this.data.multiLine?(vt=document.createElement("textarea"),vt.textContent=Ct??At,this.data.doNotScroll&&(vt.style.overflowY="hidden")):(vt=document.createElement("input"),vt.type="text",vt.setAttribute("value",Ct??At),this.data.doNotScroll&&(vt.style.overflowX="hidden")),this.data.hasOwnCanvas&&(vt.hidden=!0),GetElementsByNameSet.add(vt),vt.setAttribute("data-element-id",_e),vt.disabled=this.data.readOnly,vt.name=this.data.fieldName,vt.tabIndex=DEFAULT_TAB_INDEX,this._setRequired(vt,this.data.required),_t&&(vt.maxLength=_t),vt.addEventListener("input",Pt=>{$.setValue(_e,{value:Pt.target.value}),this.setPropertyOnSiblings(vt,"value",Pt.target.value,"value"),St.formattedValue=null}),vt.addEventListener("resetform",Pt=>{const kt=this.data.defaultFieldValue??"";vt.value=St.userValue=kt,St.formattedValue=null});let Rt=Pt=>{const{formattedValue:kt}=St;kt!=null&&(Pt.target.value=kt),Pt.target.scrollLeft=0};if(this.enableScripting&&this.hasJSActions){vt.addEventListener("focus",kt=>{var Lt;if(St.focused)return;const{target:Mt}=kt;St.userValue&&(Mt.value=St.userValue),St.lastCommittedValue=Mt.value,St.commitKey=1,(Lt=this.data.actions)!=null&&Lt.Focus||(St.focused=!0)}),vt.addEventListener("updatefromsandbox",kt=>{this.showElementAndHideCanvas(kt.target);const Mt={value(Lt){St.userValue=Lt.detail.value??"",$.setValue(_e,{value:St.userValue.toString()}),Lt.target.value=St.userValue},formattedValue(Lt){const{formattedValue:$t}=Lt.detail;St.formattedValue=$t,$t!=null&&Lt.target!==document.activeElement&&(Lt.target.value=$t),$.setValue(_e,{formattedValue:$t})},selRange(Lt){Lt.target.setSelectionRange(...Lt.detail.selRange)},charLimit:Lt=>{var Nt;const{charLimit:$t}=Lt.detail,{target:Ft}=Lt;if($t===0){Ft.removeAttribute("maxLength");return}Ft.setAttribute("maxLength",$t);let Dt=St.userValue;!Dt||Dt.length<=$t||(Dt=Dt.slice(0,$t),Ft.value=St.userValue=Dt,$.setValue(_e,{value:Dt}),(Nt=this.linkService.eventBus)==null||Nt.dispatch("dispatcheventinsandbox",{source:this,detail:{id:_e,name:"Keystroke",value:Dt,willCommit:!0,commitKey:1,selStart:Ft.selectionStart,selEnd:Ft.selectionEnd}}))}};this._dispatchEventFromSandbox(Mt,kt)}),vt.addEventListener("keydown",kt=>{var $t;St.commitKey=1;let Mt=-1;if(kt.key==="Escape"?Mt=0:kt.key==="Enter"&&!this.data.multiLine?Mt=2:kt.key==="Tab"&&(St.commitKey=3),Mt===-1)return;const{value:Lt}=kt.target;St.lastCommittedValue!==Lt&&(St.lastCommittedValue=Lt,St.userValue=Lt,($t=this.linkService.eventBus)==null||$t.dispatch("dispatcheventinsandbox",{source:this,detail:{id:_e,name:"Keystroke",value:Lt,willCommit:!0,commitKey:Mt,selStart:kt.target.selectionStart,selEnd:kt.target.selectionEnd}}))});const Pt=Rt;Rt=null,vt.addEventListener("blur",kt=>{var Lt,$t;if(!St.focused||!kt.relatedTarget)return;(Lt=this.data.actions)!=null&&Lt.Blur||(St.focused=!1);const{value:Mt}=kt.target;St.userValue=Mt,St.lastCommittedValue!==Mt&&(($t=this.linkService.eventBus)==null||$t.dispatch("dispatcheventinsandbox",{source:this,detail:{id:_e,name:"Keystroke",value:Mt,willCommit:!0,commitKey:St.commitKey,selStart:kt.target.selectionStart,selEnd:kt.target.selectionEnd}})),Pt(kt)}),(bt=this.data.actions)!=null&&bt.Keystroke&&vt.addEventListener("beforeinput",kt=>{var Ot;St.lastCommittedValue=null;const{data:Mt,target:Lt}=kt,{value:$t,selectionStart:Ft,selectionEnd:Dt}=Lt;let Nt=Ft,Ht=Dt;switch(kt.inputType){case"deleteWordBackward":{const Bt=$t.substring(0,Ft).match(/\w*[^\w]*$/);Bt&&(Nt-=Bt[0].length);break}case"deleteWordForward":{const Bt=$t.substring(Ft).match(/^[^\w]*\w*/);Bt&&(Ht+=Bt[0].length);break}case"deleteContentBackward":Ft===Dt&&(Nt-=1);break;case"deleteContentForward":Ft===Dt&&(Ht+=1);break}kt.preventDefault(),(Ot=this.linkService.eventBus)==null||Ot.dispatch("dispatcheventinsandbox",{source:this,detail:{id:_e,name:"Keystroke",value:$t,change:Mt||"",willCommit:!1,selStart:Nt,selEnd:Ht}})}),this._setEventListeners(vt,St,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],kt=>kt.target.value)}if(Rt&&vt.addEventListener("blur",Rt),this.data.comb){const kt=(this.data.rect[2]-this.data.rect[0])/_t;vt.classList.add("comb"),vt.style.letterSpacing=`calc(${kt}px * var(--scale-factor) - 1ch)`}}else vt=document.createElement("div"),vt.textContent=this.data.fieldValue,vt.style.verticalAlign="middle",vt.style.display="table-cell",this.data.hasOwnCanvas&&(vt.hidden=!0);return this._setTextStyle(vt),this._setBackgroundColor(vt),this._setDefaultPropertiesFromJS(vt),this.container.append(vt),this.container}}class SignatureWidgetAnnotationElement extends WidgetAnnotationElement{constructor($){super($,{isRenderable:!!$.data.hasOwnCanvas})}}class CheckboxWidgetAnnotationElement extends WidgetAnnotationElement{constructor($){super($,{isRenderable:$.renderForms})}render(){const $=this.annotationStorage,_e=this.data,vt=_e.id;let xt=$.getValue(vt,{value:_e.exportValue===_e.fieldValue}).value;typeof xt=="string"&&(xt=xt!=="Off",$.setValue(vt,{value:xt})),this.container.classList.add("buttonWidgetAnnotation","checkBox");const bt=document.createElement("input");return GetElementsByNameSet.add(bt),bt.setAttribute("data-element-id",vt),bt.disabled=_e.readOnly,this._setRequired(bt,this.data.required),bt.type="checkbox",bt.name=_e.fieldName,xt&&bt.setAttribute("checked",!0),bt.setAttribute("exportValue",_e.exportValue),bt.tabIndex=DEFAULT_TAB_INDEX,bt.addEventListener("change",Et=>{const{name:At,checked:_t}=Et.target;for(const Ct of this._getElementsByName(At,vt)){const St=_t&&Ct.exportValue===_e.exportValue;Ct.domElement&&(Ct.domElement.checked=St),$.setValue(Ct.id,{value:St})}$.setValue(vt,{value:_t})}),bt.addEventListener("resetform",Et=>{const At=_e.defaultFieldValue||"Off";Et.target.checked=At===_e.exportValue}),this.enableScripting&&this.hasJSActions&&(bt.addEventListener("updatefromsandbox",Et=>{const At={value(_t){_t.target.checked=_t.detail.value!=="Off",$.setValue(vt,{value:_t.target.checked})}};this._dispatchEventFromSandbox(At,Et)}),this._setEventListeners(bt,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],Et=>Et.target.checked)),this._setBackgroundColor(bt),this._setDefaultPropertiesFromJS(bt),this.container.append(bt),this.container}}class RadioButtonWidgetAnnotationElement extends WidgetAnnotationElement{constructor($){super($,{isRenderable:$.renderForms})}render(){this.container.classList.add("buttonWidgetAnnotation","radioButton");const $=this.annotationStorage,_e=this.data,vt=_e.id;let xt=$.getValue(vt,{value:_e.fieldValue===_e.buttonValue}).value;if(typeof xt=="string"&&(xt=xt!==_e.buttonValue,$.setValue(vt,{value:xt})),xt)for(const Et of this._getElementsByName(_e.fieldName,vt))$.setValue(Et.id,{value:!1});const bt=document.createElement("input");if(GetElementsByNameSet.add(bt),bt.setAttribute("data-element-id",vt),bt.disabled=_e.readOnly,this._setRequired(bt,this.data.required),bt.type="radio",bt.name=_e.fieldName,xt&&bt.setAttribute("checked",!0),bt.tabIndex=DEFAULT_TAB_INDEX,bt.addEventListener("change",Et=>{const{name:At,checked:_t}=Et.target;for(const Ct of this._getElementsByName(At,vt))$.setValue(Ct.id,{value:!1});$.setValue(vt,{value:_t})}),bt.addEventListener("resetform",Et=>{const At=_e.defaultFieldValue;Et.target.checked=At!=null&&At===_e.buttonValue}),this.enableScripting&&this.hasJSActions){const Et=_e.buttonValue;bt.addEventListener("updatefromsandbox",At=>{const _t={value:Ct=>{const St=Et===Ct.detail.value;for(const Rt of this._getElementsByName(Ct.target.name)){const Pt=St&&Rt.id===vt;Rt.domElement&&(Rt.domElement.checked=Pt),$.setValue(Rt.id,{value:Pt})}}};this._dispatchEventFromSandbox(_t,At)}),this._setEventListeners(bt,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],At=>At.target.checked)}return this._setBackgroundColor(bt),this._setDefaultPropertiesFromJS(bt),this.container.append(bt),this.container}}class PushButtonWidgetAnnotationElement extends LinkAnnotationElement{constructor($){super($,{ignoreBorder:$.data.hasAppearance})}render(){const $=super.render();$.classList.add("buttonWidgetAnnotation","pushButton");const _e=$.lastChild;return this.enableScripting&&this.hasJSActions&&_e&&(this._setDefaultPropertiesFromJS(_e),_e.addEventListener("updatefromsandbox",vt=>{this._dispatchEventFromSandbox({},vt)})),$}}class ChoiceWidgetAnnotationElement extends WidgetAnnotationElement{constructor($){super($,{isRenderable:$.renderForms})}render(){this.container.classList.add("choiceWidgetAnnotation");const $=this.annotationStorage,_e=this.data.id,vt=$.getValue(_e,{value:this.data.fieldValue}),xt=document.createElement("select");GetElementsByNameSet.add(xt),xt.setAttribute("data-element-id",_e),xt.disabled=this.data.readOnly,this._setRequired(xt,this.data.required),xt.name=this.data.fieldName,xt.tabIndex=DEFAULT_TAB_INDEX;let bt=this.data.combo&&this.data.options.length>0;this.data.combo||(xt.size=this.data.options.length,this.data.multiSelect&&(xt.multiple=!0)),xt.addEventListener("resetform",St=>{const Rt=this.data.defaultFieldValue;for(const Pt of xt.options)Pt.selected=Pt.value===Rt});for(const St of this.data.options){const Rt=document.createElement("option");Rt.textContent=St.displayValue,Rt.value=St.exportValue,vt.value.includes(St.exportValue)&&(Rt.setAttribute("selected",!0),bt=!1),xt.append(Rt)}let Et=null;if(bt){const St=document.createElement("option");St.value=" ",St.setAttribute("hidden",!0),St.setAttribute("selected",!0),xt.prepend(St),Et=()=>{St.remove(),xt.removeEventListener("input",Et),Et=null},xt.addEventListener("input",Et)}const At=St=>{const Rt=St?"value":"textContent",{options:Pt,multiple:kt}=xt;return kt?Array.prototype.filter.call(Pt,Mt=>Mt.selected).map(Mt=>Mt[Rt]):Pt.selectedIndex===-1?null:Pt[Pt.selectedIndex][Rt]};let _t=At(!1);const Ct=St=>{const Rt=St.target.options;return Array.prototype.map.call(Rt,Pt=>({displayValue:Pt.textContent,exportValue:Pt.value}))};return this.enableScripting&&this.hasJSActions?(xt.addEventListener("updatefromsandbox",St=>{const Rt={value(Pt){Et==null||Et();const kt=Pt.detail.value,Mt=new Set(Array.isArray(kt)?kt:[kt]);for(const Lt of xt.options)Lt.selected=Mt.has(Lt.value);$.setValue(_e,{value:At(!0)}),_t=At(!1)},multipleSelection(Pt){xt.multiple=!0},remove(Pt){const kt=xt.options,Mt=Pt.detail.remove;kt[Mt].selected=!1,xt.remove(Mt),kt.length>0&&Array.prototype.findIndex.call(kt,$t=>$t.selected)===-1&&(kt[0].selected=!0),$.setValue(_e,{value:At(!0),items:Ct(Pt)}),_t=At(!1)},clear(Pt){for(;xt.length!==0;)xt.remove(0);$.setValue(_e,{value:null,items:[]}),_t=At(!1)},insert(Pt){const{index:kt,displayValue:Mt,exportValue:Lt}=Pt.detail.insert,$t=xt.children[kt],Ft=document.createElement("option");Ft.textContent=Mt,Ft.value=Lt,$t?$t.before(Ft):xt.append(Ft),$.setValue(_e,{value:At(!0),items:Ct(Pt)}),_t=At(!1)},items(Pt){const{items:kt}=Pt.detail;for(;xt.length!==0;)xt.remove(0);for(const Mt of kt){const{displayValue:Lt,exportValue:$t}=Mt,Ft=document.createElement("option");Ft.textContent=Lt,Ft.value=$t,xt.append(Ft)}xt.options.length>0&&(xt.options[0].selected=!0),$.setValue(_e,{value:At(!0),items:Ct(Pt)}),_t=At(!1)},indices(Pt){const kt=new Set(Pt.detail.indices);for(const Mt of Pt.target.options)Mt.selected=kt.has(Mt.index);$.setValue(_e,{value:At(!0)}),_t=At(!1)},editable(Pt){Pt.target.disabled=!Pt.detail.editable}};this._dispatchEventFromSandbox(Rt,St)}),xt.addEventListener("input",St=>{var kt;const Rt=At(!0),Pt=At(!1);$.setValue(_e,{value:Rt}),St.preventDefault(),(kt=this.linkService.eventBus)==null||kt.dispatch("dispatcheventinsandbox",{source:this,detail:{id:_e,name:"Keystroke",value:_t,change:Pt,changeEx:Rt,willCommit:!1,commitKey:1,keyDown:!1}})}),this._setEventListeners(xt,null,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"],["input","Action"],["input","Validate"]],St=>St.target.value)):xt.addEventListener("input",function(St){$.setValue(_e,{value:At(!0)})}),this.data.combo&&this._setTextStyle(xt),this._setBackgroundColor(xt),this._setDefaultPropertiesFromJS(xt),this.container.append(xt),this.container}}class PopupAnnotationElement extends AnnotationElement{constructor($){const{data:_e,elements:vt}=$;super($,{isRenderable:AnnotationElement._hasPopupData(_e)}),this.elements=vt,this.popup=null}render(){this.container.classList.add("popupAnnotation");const $=this.popup=new PopupElement({container:this.container,color:this.data.color,titleObj:this.data.titleObj,modificationDate:this.data.modificationDate,contentsObj:this.data.contentsObj,richText:this.data.richText,rect:this.data.rect,parentRect:this.data.parentRect||null,parent:this.parent,elements:this.elements,open:this.data.open}),_e=[];for(const vt of this.elements)vt.popup=$,_e.push(vt.data.id),vt.addHighlightArea();return this.container.setAttribute("aria-controls",_e.map(vt=>`${AnnotationPrefix}${vt}`).join(",")),this.container}}var Fm,lx,cx,Lm,Ap,Ns,eu,wp,gv,mv,Dm,tu,qo,nu,vv,iu,yv,_p,Sp,_s,xy,Qx,nA,iA,rA,sA,by,Ey,Jx;class PopupElement{constructor({container:$,color:_e,elements:vt,titleObj:xt,modificationDate:bt,contentsObj:Et,richText:At,parent:_t,rect:Ct,parentRect:St,open:Rt}){Gt(this,_s);Gt(this,Fm,Ut(this,_s,rA).bind(this));Gt(this,lx,Ut(this,_s,Jx).bind(this));Gt(this,cx,Ut(this,_s,Ey).bind(this));Gt(this,Lm,Ut(this,_s,by).bind(this));Gt(this,Ap,null);Gt(this,Ns,null);Gt(this,eu,null);Gt(this,wp,null);Gt(this,gv,null);Gt(this,mv,null);Gt(this,Dm,null);Gt(this,tu,!1);Gt(this,qo,null);Gt(this,nu,null);Gt(this,vv,null);Gt(this,iu,null);Gt(this,yv,null);Gt(this,_p,null);Gt(this,Sp,!1);var Pt;Vt(this,Ns,$),Vt(this,yv,xt),Vt(this,eu,Et),Vt(this,iu,At),Vt(this,mv,_t),Vt(this,Ap,_e),Vt(this,vv,Ct),Vt(this,Dm,St),Vt(this,gv,vt),Vt(this,wp,PDFDateString.toDateObject(bt)),this.trigger=vt.flatMap(kt=>kt.getElementsToTriggerPopup());for(const kt of this.trigger)kt.addEventListener("click",wt(this,Lm)),kt.addEventListener("mouseenter",wt(this,cx)),kt.addEventListener("mouseleave",wt(this,lx)),kt.classList.add("popupTriggerArea");for(const kt of vt)(Pt=kt.container)==null||Pt.addEventListener("keydown",wt(this,Fm));wt(this,Ns).hidden=!0,Rt&&Ut(this,_s,by).call(this)}render(){if(wt(this,qo))return;const $=Vt(this,qo,document.createElement("div"));if($.className="popup",wt(this,Ap)){const bt=$.style.outlineColor=Util.makeHexColor(...wt(this,Ap));CSS.supports("background-color","color-mix(in srgb, red 30%, white)")?$.style.backgroundColor=`color-mix(in srgb, ${bt} 30%, white)`:$.style.backgroundColor=Util.makeHexColor(...wt(this,Ap).map(At=>Math.floor(.7*(255-At)+At)))}const _e=document.createElement("span");_e.className="header";const vt=document.createElement("h1");if(_e.append(vt),{dir:vt.dir,str:vt.textContent}=wt(this,yv),$.append(_e),wt(this,wp)){const bt=document.createElement("span");bt.classList.add("popupDate"),bt.setAttribute("data-l10n-id","pdfjs-annotation-date-string"),bt.setAttribute("data-l10n-args",JSON.stringify({date:wt(this,wp).toLocaleDateString(),time:wt(this,wp).toLocaleTimeString()})),_e.append(bt)}const xt=wt(this,_s,xy);if(xt)XfaLayer.render({xfaHtml:xt,intent:"richText",div:$}),$.lastChild.classList.add("richText","popupContent");else{const bt=this._formatContents(wt(this,eu));$.append(bt)}wt(this,Ns).append($)}_formatContents({str:$,dir:_e}){const vt=document.createElement("p");vt.classList.add("popupContent"),vt.dir=_e;const xt=$.split(/(?:\r\n?|\n)/);for(let bt=0,Et=xt.length;bt<Et;++bt){const At=xt[bt];vt.append(document.createTextNode(At)),bt<Et-1&&vt.append(document.createElement("br"))}return vt}updateEdited({rect:$,popupContent:_e}){var vt;wt(this,_p)||Vt(this,_p,{contentsObj:wt(this,eu),richText:wt(this,iu)}),$&&Vt(this,nu,null),_e&&(Vt(this,iu,Ut(this,_s,iA).call(this,_e)),Vt(this,eu,null)),(vt=wt(this,qo))==null||vt.remove(),Vt(this,qo,null)}resetEdited(){var $;wt(this,_p)&&({contentsObj:eo(this,eu)._,richText:eo(this,iu)._}=wt(this,_p),Vt(this,_p,null),($=wt(this,qo))==null||$.remove(),Vt(this,qo,null),Vt(this,nu,null))}forceHide(){Vt(this,Sp,this.isVisible),wt(this,Sp)&&(wt(this,Ns).hidden=!0)}maybeShow(){wt(this,Sp)&&(wt(this,qo)||Ut(this,_s,Ey).call(this),Vt(this,Sp,!1),wt(this,Ns).hidden=!1)}get isVisible(){return wt(this,Ns).hidden===!1}}Fm=new WeakMap,lx=new WeakMap,cx=new WeakMap,Lm=new WeakMap,Ap=new WeakMap,Ns=new WeakMap,eu=new WeakMap,wp=new WeakMap,gv=new WeakMap,mv=new WeakMap,Dm=new WeakMap,tu=new WeakMap,qo=new WeakMap,nu=new WeakMap,vv=new WeakMap,iu=new WeakMap,yv=new WeakMap,_p=new WeakMap,Sp=new WeakMap,_s=new WeakSet,xy=function(){const $=wt(this,iu),_e=wt(this,eu);return $!=null&&$.str&&(!(_e!=null&&_e.str)||_e.str===$.str)&&wt(this,iu).html||null},Qx=function(){var $,_e,vt;return((vt=(_e=($=wt(this,_s,xy))==null?void 0:$.attributes)==null?void 0:_e.style)==null?void 0:vt.fontSize)||0},nA=function(){var $,_e,vt;return((vt=(_e=($=wt(this,_s,xy))==null?void 0:$.attributes)==null?void 0:_e.style)==null?void 0:vt.color)||null},iA=function($){const _e=[],vt={str:$,html:{name:"div",attributes:{dir:"auto"},children:[{name:"p",children:_e}]}},xt={style:{color:wt(this,_s,nA),fontSize:wt(this,_s,Qx)?`calc(${wt(this,_s,Qx)}px * var(--scale-factor))`:""}};for(const bt of $.split(`
`))_e.push({name:"span",value:bt,attributes:xt});return vt},rA=function($){$.altKey||$.shiftKey||$.ctrlKey||$.metaKey||($.key==="Enter"||$.key==="Escape"&&wt(this,tu))&&Ut(this,_s,by).call(this)},sA=function(){if(wt(this,nu)!==null)return;const{page:{view:$},viewport:{rawDims:{pageWidth:_e,pageHeight:vt,pageX:xt,pageY:bt}}}=wt(this,mv);let Et=!!wt(this,Dm),At=Et?wt(this,Dm):wt(this,vv);for(const Mt of wt(this,gv))if(!At||Util.intersect(Mt.data.rect,At)!==null){At=Mt.data.rect,Et=!0;break}const _t=Util.normalizeRect([At[0],$[3]-At[1]+$[1],At[2],$[3]-At[3]+$[1]]),St=Et?At[2]-At[0]+5:0,Rt=_t[0]+St,Pt=_t[1];Vt(this,nu,[100*(Rt-xt)/_e,100*(Pt-bt)/vt]);const{style:kt}=wt(this,Ns);kt.left=`${wt(this,nu)[0]}%`,kt.top=`${wt(this,nu)[1]}%`},by=function(){Vt(this,tu,!wt(this,tu)),wt(this,tu)?(Ut(this,_s,Ey).call(this),wt(this,Ns).addEventListener("click",wt(this,Lm)),wt(this,Ns).addEventListener("keydown",wt(this,Fm))):(Ut(this,_s,Jx).call(this),wt(this,Ns).removeEventListener("click",wt(this,Lm)),wt(this,Ns).removeEventListener("keydown",wt(this,Fm)))},Ey=function(){wt(this,qo)||this.render(),this.isVisible?wt(this,tu)&&wt(this,Ns).classList.add("focused"):(Ut(this,_s,sA).call(this),wt(this,Ns).hidden=!1,wt(this,Ns).style.zIndex=parseInt(wt(this,Ns).style.zIndex)+1e3)},Jx=function(){wt(this,Ns).classList.remove("focused"),!(wt(this,tu)||!this.isVisible)&&(wt(this,Ns).hidden=!0,wt(this,Ns).style.zIndex=parseInt(wt(this,Ns).style.zIndex)-1e3)};class FreeTextAnnotationElement extends AnnotationElement{constructor($){super($,{isRenderable:!0,ignoreBorder:!0}),this.textContent=$.data.textContent,this.textPosition=$.data.textPosition,this.annotationEditorType=AnnotationEditorType.FREETEXT}render(){if(this.container.classList.add("freeTextAnnotation"),this.textContent){const $=document.createElement("div");$.classList.add("annotationTextContent"),$.setAttribute("role","comment");for(const _e of this.textContent){const vt=document.createElement("span");vt.textContent=_e,$.append(vt)}this.container.append($)}return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}get _isEditable(){return this.data.hasOwnCanvas}}var xv;class LineAnnotationElement extends AnnotationElement{constructor(_e){super(_e,{isRenderable:!0,ignoreBorder:!0});Gt(this,xv,null)}render(){this.container.classList.add("lineAnnotation");const _e=this.data,{width:vt,height:xt}=getRectDims(_e.rect),bt=this.svgFactory.create(vt,xt,!0),Et=Vt(this,xv,this.svgFactory.createElement("svg:line"));return Et.setAttribute("x1",_e.rect[2]-_e.lineCoordinates[0]),Et.setAttribute("y1",_e.rect[3]-_e.lineCoordinates[1]),Et.setAttribute("x2",_e.rect[2]-_e.lineCoordinates[2]),Et.setAttribute("y2",_e.rect[3]-_e.lineCoordinates[3]),Et.setAttribute("stroke-width",_e.borderStyle.width||1),Et.setAttribute("stroke","transparent"),Et.setAttribute("fill","transparent"),bt.append(Et),this.container.append(bt),!_e.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return wt(this,xv)}addHighlightArea(){this.container.classList.add("highlightArea")}}xv=new WeakMap;var bv;class SquareAnnotationElement extends AnnotationElement{constructor(_e){super(_e,{isRenderable:!0,ignoreBorder:!0});Gt(this,bv,null)}render(){this.container.classList.add("squareAnnotation");const _e=this.data,{width:vt,height:xt}=getRectDims(_e.rect),bt=this.svgFactory.create(vt,xt,!0),Et=_e.borderStyle.width,At=Vt(this,bv,this.svgFactory.createElement("svg:rect"));return At.setAttribute("x",Et/2),At.setAttribute("y",Et/2),At.setAttribute("width",vt-Et),At.setAttribute("height",xt-Et),At.setAttribute("stroke-width",Et||1),At.setAttribute("stroke","transparent"),At.setAttribute("fill","transparent"),bt.append(At),this.container.append(bt),!_e.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return wt(this,bv)}addHighlightArea(){this.container.classList.add("highlightArea")}}bv=new WeakMap;var Ev;class CircleAnnotationElement extends AnnotationElement{constructor(_e){super(_e,{isRenderable:!0,ignoreBorder:!0});Gt(this,Ev,null)}render(){this.container.classList.add("circleAnnotation");const _e=this.data,{width:vt,height:xt}=getRectDims(_e.rect),bt=this.svgFactory.create(vt,xt,!0),Et=_e.borderStyle.width,At=Vt(this,Ev,this.svgFactory.createElement("svg:ellipse"));return At.setAttribute("cx",vt/2),At.setAttribute("cy",xt/2),At.setAttribute("rx",vt/2-Et/2),At.setAttribute("ry",xt/2-Et/2),At.setAttribute("stroke-width",Et||1),At.setAttribute("stroke","transparent"),At.setAttribute("fill","transparent"),bt.append(At),this.container.append(bt),!_e.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return wt(this,Ev)}addHighlightArea(){this.container.classList.add("highlightArea")}}Ev=new WeakMap;var Av;class PolylineAnnotationElement extends AnnotationElement{constructor(_e){super(_e,{isRenderable:!0,ignoreBorder:!0});Gt(this,Av,null);this.containerClassName="polylineAnnotation",this.svgElementName="svg:polyline"}render(){this.container.classList.add(this.containerClassName);const _e=this.data,{width:vt,height:xt}=getRectDims(_e.rect),bt=this.svgFactory.create(vt,xt,!0);let Et=[];for(const _t of _e.vertices){const Ct=_t.x-_e.rect[0],St=_e.rect[3]-_t.y;Et.push(Ct+","+St)}Et=Et.join(" ");const At=Vt(this,Av,this.svgFactory.createElement(this.svgElementName));return At.setAttribute("points",Et),At.setAttribute("stroke-width",_e.borderStyle.width||1),At.setAttribute("stroke","transparent"),At.setAttribute("fill","transparent"),bt.append(At),this.container.append(bt),!_e.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return wt(this,Av)}addHighlightArea(){this.container.classList.add("highlightArea")}}Av=new WeakMap;class PolygonAnnotationElement extends PolylineAnnotationElement{constructor($){super($),this.containerClassName="polygonAnnotation",this.svgElementName="svg:polygon"}}class CaretAnnotationElement extends AnnotationElement{constructor($){super($,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("caretAnnotation"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container}}var wv;class InkAnnotationElement extends AnnotationElement{constructor(_e){super(_e,{isRenderable:!0,ignoreBorder:!0});Gt(this,wv,[]);this.containerClassName="inkAnnotation",this.svgElementName="svg:polyline",this.annotationEditorType=AnnotationEditorType.INK}render(){this.container.classList.add(this.containerClassName);const _e=this.data,{width:vt,height:xt}=getRectDims(_e.rect),bt=this.svgFactory.create(vt,xt,!0);for(const Et of _e.inkLists){let At=[];for(const Ct of Et){const St=Ct.x-_e.rect[0],Rt=_e.rect[3]-Ct.y;At.push(`${St},${Rt}`)}At=At.join(" ");const _t=this.svgFactory.createElement(this.svgElementName);wt(this,wv).push(_t),_t.setAttribute("points",At),_t.setAttribute("stroke-width",_e.borderStyle.width||1),_t.setAttribute("stroke","transparent"),_t.setAttribute("fill","transparent"),!_e.popupRef&&this.hasPopupData&&this._createPopup(),bt.append(_t)}return this.container.append(bt),this.container}getElementsToTriggerPopup(){return wt(this,wv)}addHighlightArea(){this.container.classList.add("highlightArea")}}wv=new WeakMap;class HighlightAnnotationElement extends AnnotationElement{constructor($){super($,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("highlightAnnotation"),this.container}}class UnderlineAnnotationElement extends AnnotationElement{constructor($){super($,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("underlineAnnotation"),this.container}}class SquigglyAnnotationElement extends AnnotationElement{constructor($){super($,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("squigglyAnnotation"),this.container}}class StrikeOutAnnotationElement extends AnnotationElement{constructor($){super($,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("strikeoutAnnotation"),this.container}}class StampAnnotationElement extends AnnotationElement{constructor($){super($,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("stampAnnotation"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container}}var _v,Sv,e1;class FileAttachmentAnnotationElement extends AnnotationElement{constructor(_e){var xt;super(_e,{isRenderable:!0});Gt(this,Sv);Gt(this,_v,null);const{file:vt}=this.data;this.filename=vt.filename,this.content=vt.content,(xt=this.linkService.eventBus)==null||xt.dispatch("fileattachmentannotation",{source:this,...vt})}render(){this.container.classList.add("fileAttachmentAnnotation");const{container:_e,data:vt}=this;let xt;vt.hasAppearance||vt.fillAlpha===0?xt=document.createElement("div"):(xt=document.createElement("img"),xt.src=`${this.imageResourcesPath}annotation-${/paperclip/i.test(vt.name)?"paperclip":"pushpin"}.svg`,vt.fillAlpha&&vt.fillAlpha<1&&(xt.style=`filter: opacity(${Math.round(vt.fillAlpha*100)}%);`)),xt.addEventListener("dblclick",Ut(this,Sv,e1).bind(this)),Vt(this,_v,xt);const{isMac:bt}=util_FeatureTest.platform;return _e.addEventListener("keydown",Et=>{Et.key==="Enter"&&(bt?Et.metaKey:Et.ctrlKey)&&Ut(this,Sv,e1).call(this)}),!vt.popupRef&&this.hasPopupData?this._createPopup():xt.classList.add("popupTriggerArea"),_e.append(xt),_e}getElementsToTriggerPopup(){return wt(this,_v)}addHighlightArea(){this.container.classList.add("highlightArea")}}_v=new WeakMap,Sv=new WeakSet,e1=function(){var _e;(_e=this.downloadManager)==null||_e.openOrDownloadData(this.content,this.filename)};var Cv,Cp,Im,Wp,oA,t1;class AnnotationLayer{constructor({div:$,accessibilityManager:_e,annotationCanvasMap:vt,annotationEditorUIManager:xt,page:bt,viewport:Et}){Gt(this,Wp);Gt(this,Cv,null);Gt(this,Cp,null);Gt(this,Im,new Map);this.div=$,Vt(this,Cv,_e),Vt(this,Cp,vt),this.page=bt,this.viewport=Et,this.zIndex=0,this._annotationEditorUIManager=xt}async render($){var Et;const{annotations:_e}=$,vt=this.div;setLayerDimensions(vt,this.viewport);const xt=new Map,bt={data:null,layer:vt,linkService:$.linkService,downloadManager:$.downloadManager,imageResourcesPath:$.imageResourcesPath||"",renderForms:$.renderForms!==!1,svgFactory:new DOMSVGFactory,annotationStorage:$.annotationStorage||new AnnotationStorage,enableScripting:$.enableScripting===!0,hasJSActions:$.hasJSActions,fieldObjects:$.fieldObjects,parent:this,elements:null};for(const At of _e){if(At.noHTML)continue;const _t=At.annotationType===AnnotationType.POPUP;if(_t){const Rt=xt.get(At.id);if(!Rt)continue;bt.elements=Rt}else{const{width:Rt,height:Pt}=getRectDims(At.rect);if(Rt<=0||Pt<=0)continue}bt.data=At;const Ct=AnnotationElementFactory.create(bt);if(!Ct.isRenderable)continue;if(!_t&&At.popupRef){const Rt=xt.get(At.popupRef);Rt?Rt.push(Ct):xt.set(At.popupRef,[Ct])}const St=Ct.render();At.hidden&&(St.style.visibility="hidden"),Ut(this,Wp,oA).call(this,St,At.id),Ct.annotationEditorType>0&&(wt(this,Im).set(Ct.data.id,Ct),(Et=this._annotationEditorUIManager)==null||Et.renderAnnotationElement(Ct))}Ut(this,Wp,t1).call(this)}update({viewport:$}){const _e=this.div;this.viewport=$,setLayerDimensions(_e,{rotation:$.rotation}),Ut(this,Wp,t1).call(this),_e.hidden=!1}getEditableAnnotations(){return Array.from(wt(this,Im).values())}getEditableAnnotation($){return wt(this,Im).get($)}}Cv=new WeakMap,Cp=new WeakMap,Im=new WeakMap,Wp=new WeakSet,oA=function($,_e){var xt;const vt=$.firstChild||$;vt.id=`${AnnotationPrefix}${_e}`,this.div.append($),(xt=wt(this,Cv))==null||xt.moveElementInDOM(this.div,$,vt,!1)},t1=function(){if(!wt(this,Cp))return;const $=this.div;for(const[_e,vt]of wt(this,Cp)){const xt=$.querySelector(`[data-annotation-id="${_e}"]`);if(!xt)continue;vt.className="annotationContent";const{firstChild:bt}=xt;bt?bt.nodeName==="CANVAS"?bt.replaceWith(vt):bt.classList.contains("annotationContent")?bt.after(vt):bt.before(vt):xt.append(vt)}wt(this,Cp).clear()};const EOL_PATTERN=/\r\n?|\n/g;var Rv,Tv,Pv,kv,Mv,Ko,Co,Fv,Ro,$m,zs,aA,lA,cA,Ay,hu,wy,_y,uA,n1,dA;const Ps=class Ps extends AnnotationEditor{constructor(_e){super({..._e,name:"freeTextEditor"});Gt(this,zs);Gt(this,Rv,this.editorDivBlur.bind(this));Gt(this,Tv,this.editorDivFocus.bind(this));Gt(this,Pv,this.editorDivInput.bind(this));Gt(this,kv,this.editorDivKeydown.bind(this));Gt(this,Mv,this.editorDivPaste.bind(this));Gt(this,Ko);Gt(this,Co,"");Gt(this,Fv,`${this.id}-editor`);Gt(this,Ro);Gt(this,$m,null);Vt(this,Ko,_e.color||Ps._defaultColor||AnnotationEditor._defaultLineColor),Vt(this,Ro,_e.fontSize||Ps._defaultFontSize)}static get _keyboardManager(){const _e=Ps.prototype,vt=Et=>Et.isEmpty(),xt=AnnotationEditorUIManager.TRANSLATE_SMALL,bt=AnnotationEditorUIManager.TRANSLATE_BIG;return shadow(this,"_keyboardManager",new KeyboardManager([[["ctrl+s","mac+meta+s","ctrl+p","mac+meta+p"],_e.commitOrRemove,{bubbles:!0}],[["ctrl+Enter","mac+meta+Enter","Escape","mac+Escape"],_e.commitOrRemove],[["ArrowLeft","mac+ArrowLeft"],_e._translateEmpty,{args:[-xt,0],checker:vt}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],_e._translateEmpty,{args:[-bt,0],checker:vt}],[["ArrowRight","mac+ArrowRight"],_e._translateEmpty,{args:[xt,0],checker:vt}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],_e._translateEmpty,{args:[bt,0],checker:vt}],[["ArrowUp","mac+ArrowUp"],_e._translateEmpty,{args:[0,-xt],checker:vt}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],_e._translateEmpty,{args:[0,-bt],checker:vt}],[["ArrowDown","mac+ArrowDown"],_e._translateEmpty,{args:[0,xt],checker:vt}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],_e._translateEmpty,{args:[0,bt],checker:vt}]]))}static initialize(_e,vt){AnnotationEditor.initialize(_e,vt,{strings:["pdfjs-free-text-default-content"]});const xt=getComputedStyle(document.documentElement);this._internalPadding=parseFloat(xt.getPropertyValue("--freetext-padding"))}static updateDefaultParams(_e,vt){switch(_e){case AnnotationEditorParamsType.FREETEXT_SIZE:Ps._defaultFontSize=vt;break;case AnnotationEditorParamsType.FREETEXT_COLOR:Ps._defaultColor=vt;break}}updateParams(_e,vt){switch(_e){case AnnotationEditorParamsType.FREETEXT_SIZE:Ut(this,zs,aA).call(this,vt);break;case AnnotationEditorParamsType.FREETEXT_COLOR:Ut(this,zs,lA).call(this,vt);break}}static get defaultPropertiesToUpdate(){return[[AnnotationEditorParamsType.FREETEXT_SIZE,Ps._defaultFontSize],[AnnotationEditorParamsType.FREETEXT_COLOR,Ps._defaultColor||AnnotationEditor._defaultLineColor]]}get propertiesToUpdate(){return[[AnnotationEditorParamsType.FREETEXT_SIZE,wt(this,Ro)],[AnnotationEditorParamsType.FREETEXT_COLOR,wt(this,Ko)]]}_translateEmpty(_e,vt){this._uiManager.translateSelectedEditors(_e,vt,!0)}getInitialTranslation(){const _e=this.parentScale;return[-Ps._internalPadding*_e,-(Ps._internalPadding+wt(this,Ro))*_e]}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.isAttachedToDOM||this.parent.add(this)))}enableEditMode(){this.isInEditMode()||(this.parent.setEditingState(!1),this.parent.updateToolbar(AnnotationEditorType.FREETEXT),super.enableEditMode(),this.overlayDiv.classList.remove("enabled"),this.editorDiv.contentEditable=!0,this._isDraggable=!1,this.div.removeAttribute("aria-activedescendant"),this.editorDiv.addEventListener("keydown",wt(this,kv)),this.editorDiv.addEventListener("focus",wt(this,Tv)),this.editorDiv.addEventListener("blur",wt(this,Rv)),this.editorDiv.addEventListener("input",wt(this,Pv)),this.editorDiv.addEventListener("paste",wt(this,Mv)))}disableEditMode(){this.isInEditMode()&&(this.parent.setEditingState(!0),super.disableEditMode(),this.overlayDiv.classList.add("enabled"),this.editorDiv.contentEditable=!1,this.div.setAttribute("aria-activedescendant",wt(this,Fv)),this._isDraggable=!0,this.editorDiv.removeEventListener("keydown",wt(this,kv)),this.editorDiv.removeEventListener("focus",wt(this,Tv)),this.editorDiv.removeEventListener("blur",wt(this,Rv)),this.editorDiv.removeEventListener("input",wt(this,Pv)),this.editorDiv.removeEventListener("paste",wt(this,Mv)),this.div.focus({preventScroll:!0}),this.isEditing=!1,this.parent.div.classList.add("freetextEditing"))}focusin(_e){this._focusEventsAllowed&&(super.focusin(_e),_e.target!==this.editorDiv&&this.editorDiv.focus())}onceAdded(){var _e;this.width||(this.enableEditMode(),this.editorDiv.focus(),(_e=this._initialOptions)!=null&&_e.isCentered&&this.center(),this._initialOptions=null)}isEmpty(){return!this.editorDiv||this.editorDiv.innerText.trim()===""}remove(){this.isEditing=!1,this.parent&&(this.parent.setEditingState(!0),this.parent.div.classList.add("freetextEditing")),super.remove()}commit(){if(!this.isInEditMode())return;super.commit(),this.disableEditMode();const _e=wt(this,Co),vt=Vt(this,Co,Ut(this,zs,cA).call(this).trimEnd());if(_e===vt)return;const xt=bt=>{if(Vt(this,Co,bt),!bt){this.remove();return}Ut(this,zs,_y).call(this),this._uiManager.rebuild(this),Ut(this,zs,Ay).call(this)};this.addCommands({cmd:()=>{xt(vt)},undo:()=>{xt(_e)},mustExec:!1}),Ut(this,zs,Ay).call(this)}shouldGetKeyboardEvents(){return this.isInEditMode()}enterInEditMode(){this.enableEditMode(),this.editorDiv.focus()}dblclick(_e){this.enterInEditMode()}keydown(_e){_e.target===this.div&&_e.key==="Enter"&&(this.enterInEditMode(),_e.preventDefault())}editorDivKeydown(_e){Ps._keyboardManager.exec(this,_e)}editorDivFocus(_e){this.isEditing=!0}editorDivBlur(_e){this.isEditing=!1}editorDivInput(_e){this.parent.div.classList.toggle("freetextEditing",this.isEmpty())}disableEditing(){this.editorDiv.setAttribute("role","comment"),this.editorDiv.removeAttribute("aria-multiline")}enableEditing(){this.editorDiv.setAttribute("role","textbox"),this.editorDiv.setAttribute("aria-multiline",!0)}render(){if(this.div)return this.div;let _e,vt;this.width&&(_e=this.x,vt=this.y),super.render(),this.editorDiv=document.createElement("div"),this.editorDiv.className="internal",this.editorDiv.setAttribute("id",wt(this,Fv)),this.editorDiv.setAttribute("data-l10n-id","pdfjs-free-text"),this.enableEditing(),AnnotationEditor._l10nPromise.get("pdfjs-free-text-default-content").then(bt=>{var Et;return(Et=this.editorDiv)==null?void 0:Et.setAttribute("default-content",bt)}),this.editorDiv.contentEditable=!0;const{style:xt}=this.editorDiv;if(xt.fontSize=`calc(${wt(this,Ro)}px * var(--scale-factor))`,xt.color=wt(this,Ko),this.div.append(this.editorDiv),this.overlayDiv=document.createElement("div"),this.overlayDiv.classList.add("overlay","enabled"),this.div.append(this.overlayDiv),bindEvents(this,this.div,["dblclick","keydown"]),this.width){const[bt,Et]=this.parentDimensions;if(this.annotationElementId){const{position:At}=wt(this,$m);let[_t,Ct]=this.getInitialTranslation();[_t,Ct]=this.pageTranslationToScreen(_t,Ct);const[St,Rt]=this.pageDimensions,[Pt,kt]=this.pageTranslation;let Mt,Lt;switch(this.rotation){case 0:Mt=_e+(At[0]-Pt)/St,Lt=vt+this.height-(At[1]-kt)/Rt;break;case 90:Mt=_e+(At[0]-Pt)/St,Lt=vt-(At[1]-kt)/Rt,[_t,Ct]=[Ct,-_t];break;case 180:Mt=_e-this.width+(At[0]-Pt)/St,Lt=vt-(At[1]-kt)/Rt,[_t,Ct]=[-_t,-Ct];break;case 270:Mt=_e+(At[0]-Pt-this.height*Rt)/St,Lt=vt+(At[1]-kt-this.width*St)/Rt,[_t,Ct]=[-Ct,_t];break}this.setAt(Mt*bt,Lt*Et,_t,Ct)}else this.setAt(_e*bt,vt*Et,this.width*bt,this.height*Et);Ut(this,zs,_y).call(this),this._isDraggable=!0,this.editorDiv.contentEditable=!1}else this._isDraggable=!1,this.editorDiv.contentEditable=!0;return this.div}editorDivPaste(_e){var Mt,Lt,$t;const vt=_e.clipboardData||window.clipboardData,{types:xt}=vt;if(xt.length===1&&xt[0]==="text/plain")return;_e.preventDefault();const bt=Ut(Mt=Ps,hu,n1).call(Mt,vt.getData("text")||"").replaceAll(EOL_PATTERN,`
`);if(!bt)return;const Et=window.getSelection();if(!Et.rangeCount)return;this.editorDiv.normalize(),Et.deleteFromDocument();const At=Et.getRangeAt(0);if(!bt.includes(`
`)){At.insertNode(document.createTextNode(bt)),this.editorDiv.normalize(),Et.collapseToStart();return}const{startContainer:_t,startOffset:Ct}=At,St=[],Rt=[];if(_t.nodeType===Node.TEXT_NODE){const Ft=_t.parentElement;if(Rt.push(_t.nodeValue.slice(Ct).replaceAll(EOL_PATTERN,"")),Ft!==this.editorDiv){let Dt=St;for(const Nt of this.editorDiv.childNodes){if(Nt===Ft){Dt=Rt;continue}Dt.push(Ut(Lt=Ps,hu,wy).call(Lt,Nt))}}St.push(_t.nodeValue.slice(0,Ct).replaceAll(EOL_PATTERN,""))}else if(_t===this.editorDiv){let Ft=St,Dt=0;for(const Nt of this.editorDiv.childNodes)Dt++===Ct&&(Ft=Rt),Ft.push(Ut($t=Ps,hu,wy).call($t,Nt))}Vt(this,Co,`${St.join(`
`)}${bt}${Rt.join(`
`)}`),Ut(this,zs,_y).call(this);const Pt=new Range;let kt=St.reduce((Ft,Dt)=>Ft+Dt.length,0);for(const{firstChild:Ft}of this.editorDiv.childNodes)if(Ft.nodeType===Node.TEXT_NODE){const Dt=Ft.nodeValue.length;if(kt<=Dt){Pt.setStart(Ft,kt),Pt.setEnd(Ft,kt);break}kt-=Dt}Et.removeAllRanges(),Et.addRange(Pt)}get contentDiv(){return this.editorDiv}static deserialize(_e,vt,xt){var At;let bt=null;if(_e instanceof FreeTextAnnotationElement){const{data:{defaultAppearanceData:{fontSize:_t,fontColor:Ct},rect:St,rotation:Rt,id:Pt},textContent:kt,textPosition:Mt,parent:{page:{pageNumber:Lt}}}=_e;if(!kt||kt.length===0)return null;bt=_e={annotationType:AnnotationEditorType.FREETEXT,color:Array.from(Ct),fontSize:_t,value:kt.join(`
`),position:Mt,pageIndex:Lt-1,rect:St.slice(0),rotation:Rt,id:Pt,deleted:!1}}const Et=super.deserialize(_e,vt,xt);return Vt(Et,Ro,_e.fontSize),Vt(Et,Ko,Util.makeHexColor(..._e.color)),Vt(Et,Co,Ut(At=Ps,hu,n1).call(At,_e.value)),Et.annotationElementId=_e.id||null,Vt(Et,$m,bt),Et}serialize(_e=!1){if(this.isEmpty())return null;if(this.deleted)return{pageIndex:this.pageIndex,id:this.annotationElementId,deleted:!0};const vt=Ps._internalPadding*this.parentScale,xt=this.getRect(vt,vt),bt=AnnotationEditor._colorManager.convert(this.isAttachedToDOM?getComputedStyle(this.editorDiv).color:wt(this,Ko)),Et={annotationType:AnnotationEditorType.FREETEXT,color:bt,fontSize:wt(this,Ro),value:Ut(this,zs,uA).call(this),pageIndex:this.pageIndex,rect:xt,rotation:this.rotation,structTreeParentId:this._structTreeParentId};return _e?Et:this.annotationElementId&&!Ut(this,zs,dA).call(this,Et)?null:(Et.id=this.annotationElementId,Et)}renderAnnotationElement(_e){const vt=super.renderAnnotationElement(_e);if(this.deleted)return vt;const{style:xt}=vt;xt.fontSize=`calc(${wt(this,Ro)}px * var(--scale-factor))`,xt.color=wt(this,Ko),vt.replaceChildren();for(const Et of wt(this,Co).split(`
`)){const At=document.createElement("div");At.append(Et?document.createTextNode(Et):document.createElement("br")),vt.append(At)}const bt=Ps._internalPadding*this.parentScale;return _e.updateEdited({rect:this.getRect(bt,bt),popupContent:wt(this,Co)}),vt}resetAnnotationElement(_e){super.resetAnnotationElement(_e),_e.resetEdited()}};Rv=new WeakMap,Tv=new WeakMap,Pv=new WeakMap,kv=new WeakMap,Mv=new WeakMap,Ko=new WeakMap,Co=new WeakMap,Fv=new WeakMap,Ro=new WeakMap,$m=new WeakMap,zs=new WeakSet,aA=function(_e){const vt=bt=>{this.editorDiv.style.fontSize=`calc(${bt}px * var(--scale-factor))`,this.translate(0,-(bt-wt(this,Ro))*this.parentScale),Vt(this,Ro,bt),Ut(this,zs,Ay).call(this)},xt=wt(this,Ro);this.addCommands({cmd:vt.bind(this,_e),undo:vt.bind(this,xt),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:AnnotationEditorParamsType.FREETEXT_SIZE,overwriteIfSameType:!0,keepUndo:!0})},lA=function(_e){const vt=bt=>{Vt(this,Ko,this.editorDiv.style.color=bt)},xt=wt(this,Ko);this.addCommands({cmd:vt.bind(this,_e),undo:vt.bind(this,xt),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:AnnotationEditorParamsType.FREETEXT_COLOR,overwriteIfSameType:!0,keepUndo:!0})},cA=function(){var vt;const _e=[];this.editorDiv.normalize();for(const xt of this.editorDiv.childNodes)_e.push(Ut(vt=Ps,hu,wy).call(vt,xt));return _e.join(`
`)},Ay=function(){const[_e,vt]=this.parentDimensions;let xt;if(this.isAttachedToDOM)xt=this.div.getBoundingClientRect();else{const{currentLayer:bt,div:Et}=this,At=Et.style.display,_t=Et.classList.contains("hidden");Et.classList.remove("hidden"),Et.style.display="hidden",bt.div.append(this.div),xt=Et.getBoundingClientRect(),Et.remove(),Et.style.display=At,Et.classList.toggle("hidden",_t)}this.rotation%180===this.parentRotation%180?(this.width=xt.width/_e,this.height=xt.height/vt):(this.width=xt.height/_e,this.height=xt.width/vt),this.fixAndSetPosition()},hu=new WeakSet,wy=function(_e){return(_e.nodeType===Node.TEXT_NODE?_e.nodeValue:_e.innerText).replaceAll(EOL_PATTERN,"")},_y=function(){if(this.editorDiv.replaceChildren(),!!wt(this,Co))for(const _e of wt(this,Co).split(`
`)){const vt=document.createElement("div");vt.append(_e?document.createTextNode(_e):document.createElement("br")),this.editorDiv.append(vt)}},uA=function(){return wt(this,Co).replaceAll(""," ")},n1=function(_e){return _e.replaceAll(" ","")},dA=function(_e){const{value:vt,fontSize:xt,color:bt,pageIndex:Et}=wt(this,$m);return this._hasBeenMoved||_e.value!==vt||_e.fontSize!==xt||_e.color.some((At,_t)=>At!==bt[_t])||_e.pageIndex!==Et},Gt(Ps,hu),_r(Ps,"_freeTextDefaultContent",""),_r(Ps,"_internalPadding",0),_r(Ps,"_defaultColor",null),_r(Ps,"_defaultFontSize",10),_r(Ps,"_type","freetext"),_r(Ps,"_editorType",AnnotationEditorType.FREETEXT);let FreeTextEditor=Ps;var Lv,Fu,Yo,vo,hA,Sy,fA,pA,i1;class Outliner{constructor($,_e=0,vt=0,xt=!0){Gt(this,vo);Gt(this,Lv);Gt(this,Fu,[]);Gt(this,Yo,[]);let bt=1/0,Et=-1/0,At=1/0,_t=-1/0;const St=10**-4;for(const{x:Ft,y:Dt,width:Nt,height:Ht}of $){const Ot=Math.floor((Ft-_e)/St)*St,Bt=Math.ceil((Ft+Nt+_e)/St)*St,jt=Math.floor((Dt-_e)/St)*St,zt=Math.ceil((Dt+Ht+_e)/St)*St,Kt=[Ot,jt,zt,!0],nn=[Bt,jt,zt,!1];wt(this,Fu).push(Kt,nn),bt=Math.min(bt,Ot),Et=Math.max(Et,Bt),At=Math.min(At,jt),_t=Math.max(_t,zt)}const Rt=Et-bt+2*vt,Pt=_t-At+2*vt,kt=bt-vt,Mt=At-vt,Lt=wt(this,Fu).at(xt?-1:-2),$t=[Lt[0],Lt[2]];for(const Ft of wt(this,Fu)){const[Dt,Nt,Ht]=Ft;Ft[0]=(Dt-kt)/Rt,Ft[1]=(Nt-Mt)/Pt,Ft[2]=(Ht-Mt)/Pt}Vt(this,Lv,{x:kt,y:Mt,width:Rt,height:Pt,lastPoint:$t})}getOutlines(){wt(this,Fu).sort((_e,vt)=>_e[0]-vt[0]||_e[1]-vt[1]||_e[2]-vt[2]);const $=[];for(const _e of wt(this,Fu))_e[3]?($.push(...Ut(this,vo,i1).call(this,_e)),Ut(this,vo,fA).call(this,_e)):(Ut(this,vo,pA).call(this,_e),$.push(...Ut(this,vo,i1).call(this,_e)));return Ut(this,vo,hA).call(this,$)}}Lv=new WeakMap,Fu=new WeakMap,Yo=new WeakMap,vo=new WeakSet,hA=function($){const _e=[],vt=new Set;for(const Et of $){const[At,_t,Ct]=Et;_e.push([At,_t,Et],[At,Ct,Et])}_e.sort((Et,At)=>Et[1]-At[1]||Et[0]-At[0]);for(let Et=0,At=_e.length;Et<At;Et+=2){const _t=_e[Et][2],Ct=_e[Et+1][2];_t.push(Ct),Ct.push(_t),vt.add(_t),vt.add(Ct)}const xt=[];let bt;for(;vt.size>0;){const Et=vt.values().next().value;let[At,_t,Ct,St,Rt]=Et;vt.delete(Et);let Pt=At,kt=_t;for(bt=[At,Ct],xt.push(bt);;){let Mt;if(vt.has(St))Mt=St;else if(vt.has(Rt))Mt=Rt;else break;vt.delete(Mt),[At,_t,Ct,St,Rt]=Mt,Pt!==At&&(bt.push(Pt,kt,At,kt===_t?_t:Ct),Pt=At),kt=kt===_t?Ct:_t}bt.push(Pt,kt)}return new HighlightOutline(xt,wt(this,Lv))},Sy=function($){const _e=wt(this,Yo);let vt=0,xt=_e.length-1;for(;vt<=xt;){const bt=vt+xt>>1,Et=_e[bt][0];if(Et===$)return bt;Et<$?vt=bt+1:xt=bt-1}return xt+1},fA=function([,$,_e]){const vt=Ut(this,vo,Sy).call(this,$);wt(this,Yo).splice(vt,0,[$,_e])},pA=function([,$,_e]){const vt=Ut(this,vo,Sy).call(this,$);for(let xt=vt;xt<wt(this,Yo).length;xt++){const[bt,Et]=wt(this,Yo)[xt];if(bt!==$)break;if(bt===$&&Et===_e){wt(this,Yo).splice(xt,1);return}}for(let xt=vt-1;xt>=0;xt--){const[bt,Et]=wt(this,Yo)[xt];if(bt!==$)break;if(bt===$&&Et===_e){wt(this,Yo).splice(xt,1);return}}},i1=function($){const[_e,vt,xt]=$,bt=[[_e,vt,xt]],Et=Ut(this,vo,Sy).call(this,xt);for(let At=0;At<Et;At++){const[_t,Ct]=wt(this,Yo)[At];for(let St=0,Rt=bt.length;St<Rt;St++){const[,Pt,kt]=bt[St];if(!(Ct<=Pt||kt<=_t)){if(Pt>=_t){if(kt>Ct)bt[St][1]=Ct;else{if(Rt===1)return[];bt.splice(St,1),St--,Rt--}continue}bt[St][2]=_t,kt>Ct&&bt.push([_e,Ct,kt])}}}return bt};class Outline{toSVGPath(){throw new Error("Abstract method `toSVGPath` must be implemented.")}get box(){throw new Error("Abstract getter `box` must be implemented.")}serialize($,_e){throw new Error("Abstract method `serialize` must be implemented.")}get free(){return this instanceof FreeHighlightOutline}}var Dv,Nm;class HighlightOutline extends Outline{constructor(_e,vt){super();Gt(this,Dv);Gt(this,Nm);Vt(this,Nm,_e),Vt(this,Dv,vt)}toSVGPath(){const _e=[];for(const vt of wt(this,Nm)){let[xt,bt]=vt;_e.push(`M${xt} ${bt}`);for(let Et=2;Et<vt.length;Et+=2){const At=vt[Et],_t=vt[Et+1];At===xt?(_e.push(`V${_t}`),bt=_t):_t===bt&&(_e.push(`H${At}`),xt=At)}_e.push("Z")}return _e.join(" ")}serialize([_e,vt,xt,bt],Et){const At=[],_t=xt-_e,Ct=bt-vt;for(const St of wt(this,Nm)){const Rt=new Array(St.length);for(let Pt=0;Pt<St.length;Pt+=2)Rt[Pt]=_e+St[Pt]*_t,Rt[Pt+1]=bt-St[Pt+1]*Ct;At.push(Rt)}return At}get box(){return wt(this,Dv)}}Dv=new WeakMap,Nm=new WeakMap;var Sl,ru,Om,jm,Cl,cs,Rp,Tp,Iv,$v,Hm,Bm,Lu,Nv,ux,dx,Ov,r1;const Ol=class Ol{constructor({x:$,y:_e},vt,xt,bt,Et,At=0){Gt(this,Ov);Gt(this,Sl);Gt(this,ru,[]);Gt(this,Om);Gt(this,jm);Gt(this,Cl,[]);Gt(this,cs,new Float64Array(18));Gt(this,Rp);Gt(this,Tp);Gt(this,Iv);Gt(this,$v);Gt(this,Hm);Gt(this,Bm);Gt(this,Lu,[]);Vt(this,Sl,vt),Vt(this,Bm,bt*xt),Vt(this,jm,Et),wt(this,cs).set([NaN,NaN,NaN,NaN,$,_e],6),Vt(this,Om,At),Vt(this,$v,wt(Ol,Nv)*xt),Vt(this,Iv,wt(Ol,dx)*xt),Vt(this,Hm,xt),wt(this,Lu).push($,_e)}get free(){return!0}isEmpty(){return isNaN(wt(this,cs)[8])}add({x:$,y:_e}){var Kt;Vt(this,Rp,$),Vt(this,Tp,_e);const[vt,xt,bt,Et]=wt(this,Sl);let[At,_t,Ct,St]=wt(this,cs).subarray(8,12);const Rt=$-Ct,Pt=_e-St,kt=Math.hypot(Rt,Pt);if(kt<wt(this,Iv))return!1;const Mt=kt-wt(this,$v),Lt=Mt/kt,$t=Lt*Rt,Ft=Lt*Pt;let Dt=At,Nt=_t;At=Ct,_t=St,Ct+=$t,St+=Ft,(Kt=wt(this,Lu))==null||Kt.push($,_e);const Ht=-Ft/Mt,Ot=$t/Mt,Bt=Ht*wt(this,Bm),jt=Ot*wt(this,Bm);return wt(this,cs).set(wt(this,cs).subarray(2,8),0),wt(this,cs).set([Ct+Bt,St+jt],4),wt(this,cs).set(wt(this,cs).subarray(14,18),12),wt(this,cs).set([Ct-Bt,St-jt],16),isNaN(wt(this,cs)[6])?(wt(this,Cl).length===0&&(wt(this,cs).set([At+Bt,_t+jt],2),wt(this,Cl).push(NaN,NaN,NaN,NaN,(At+Bt-vt)/bt,(_t+jt-xt)/Et),wt(this,cs).set([At-Bt,_t-jt],14),wt(this,ru).push(NaN,NaN,NaN,NaN,(At-Bt-vt)/bt,(_t-jt-xt)/Et)),wt(this,cs).set([Dt,Nt,At,_t,Ct,St],6),!this.isEmpty()):(wt(this,cs).set([Dt,Nt,At,_t,Ct,St],6),Math.abs(Math.atan2(Nt-_t,Dt-At)-Math.atan2(Ft,$t))<Math.PI/2?([At,_t,Ct,St]=wt(this,cs).subarray(2,6),wt(this,Cl).push(NaN,NaN,NaN,NaN,((At+Ct)/2-vt)/bt,((_t+St)/2-xt)/Et),[At,_t,Dt,Nt]=wt(this,cs).subarray(14,18),wt(this,ru).push(NaN,NaN,NaN,NaN,((Dt+At)/2-vt)/bt,((Nt+_t)/2-xt)/Et),!0):([Dt,Nt,At,_t,Ct,St]=wt(this,cs).subarray(0,6),wt(this,Cl).push(((Dt+5*At)/6-vt)/bt,((Nt+5*_t)/6-xt)/Et,((5*At+Ct)/6-vt)/bt,((5*_t+St)/6-xt)/Et,((At+Ct)/2-vt)/bt,((_t+St)/2-xt)/Et),[Ct,St,At,_t,Dt,Nt]=wt(this,cs).subarray(12,18),wt(this,ru).push(((Dt+5*At)/6-vt)/bt,((Nt+5*_t)/6-xt)/Et,((5*At+Ct)/6-vt)/bt,((5*_t+St)/6-xt)/Et,((At+Ct)/2-vt)/bt,((_t+St)/2-xt)/Et),!0))}toSVGPath(){if(this.isEmpty())return"";const $=wt(this,Cl),_e=wt(this,ru),vt=wt(this,cs).subarray(4,6),xt=wt(this,cs).subarray(16,18),[bt,Et,At,_t]=wt(this,Sl),[Ct,St,Rt,Pt]=Ut(this,Ov,r1).call(this);if(isNaN(wt(this,cs)[6])&&!this.isEmpty())return`M${(wt(this,cs)[2]-bt)/At} ${(wt(this,cs)[3]-Et)/_t} L${(wt(this,cs)[4]-bt)/At} ${(wt(this,cs)[5]-Et)/_t} L${Ct} ${St} L${Rt} ${Pt} L${(wt(this,cs)[16]-bt)/At} ${(wt(this,cs)[17]-Et)/_t} L${(wt(this,cs)[14]-bt)/At} ${(wt(this,cs)[15]-Et)/_t} Z`;const kt=[];kt.push(`M${$[4]} ${$[5]}`);for(let Mt=6;Mt<$.length;Mt+=6)isNaN($[Mt])?kt.push(`L${$[Mt+4]} ${$[Mt+5]}`):kt.push(`C${$[Mt]} ${$[Mt+1]} ${$[Mt+2]} ${$[Mt+3]} ${$[Mt+4]} ${$[Mt+5]}`);kt.push(`L${(vt[0]-bt)/At} ${(vt[1]-Et)/_t} L${Ct} ${St} L${Rt} ${Pt} L${(xt[0]-bt)/At} ${(xt[1]-Et)/_t}`);for(let Mt=_e.length-6;Mt>=6;Mt-=6)isNaN(_e[Mt])?kt.push(`L${_e[Mt+4]} ${_e[Mt+5]}`):kt.push(`C${_e[Mt]} ${_e[Mt+1]} ${_e[Mt+2]} ${_e[Mt+3]} ${_e[Mt+4]} ${_e[Mt+5]}`);return kt.push(`L${_e[4]} ${_e[5]} Z`),kt.join(" ")}getOutlines(){var Ft;const $=wt(this,Cl),_e=wt(this,ru),vt=wt(this,cs),xt=vt.subarray(4,6),bt=vt.subarray(16,18),[Et,At,_t,Ct]=wt(this,Sl),St=new Float64Array((((Ft=wt(this,Lu))==null?void 0:Ft.length)??0)+2);for(let Dt=0,Nt=St.length-2;Dt<Nt;Dt+=2)St[Dt]=(wt(this,Lu)[Dt]-Et)/_t,St[Dt+1]=(wt(this,Lu)[Dt+1]-At)/Ct;St[St.length-2]=(wt(this,Rp)-Et)/_t,St[St.length-1]=(wt(this,Tp)-At)/Ct;const[Rt,Pt,kt,Mt]=Ut(this,Ov,r1).call(this);if(isNaN(vt[6])&&!this.isEmpty()){const Dt=new Float64Array(36);return Dt.set([NaN,NaN,NaN,NaN,(vt[2]-Et)/_t,(vt[3]-At)/Ct,NaN,NaN,NaN,NaN,(vt[4]-Et)/_t,(vt[5]-At)/Ct,NaN,NaN,NaN,NaN,Rt,Pt,NaN,NaN,NaN,NaN,kt,Mt,NaN,NaN,NaN,NaN,(vt[16]-Et)/_t,(vt[17]-At)/Ct,NaN,NaN,NaN,NaN,(vt[14]-Et)/_t,(vt[15]-At)/Ct],0),new FreeHighlightOutline(Dt,St,wt(this,Sl),wt(this,Hm),wt(this,Om),wt(this,jm))}const Lt=new Float64Array(wt(this,Cl).length+24+wt(this,ru).length);let $t=$.length;for(let Dt=0;Dt<$t;Dt+=2){if(isNaN($[Dt])){Lt[Dt]=Lt[Dt+1]=NaN;continue}Lt[Dt]=$[Dt],Lt[Dt+1]=$[Dt+1]}Lt.set([NaN,NaN,NaN,NaN,(xt[0]-Et)/_t,(xt[1]-At)/Ct,NaN,NaN,NaN,NaN,Rt,Pt,NaN,NaN,NaN,NaN,kt,Mt,NaN,NaN,NaN,NaN,(bt[0]-Et)/_t,(bt[1]-At)/Ct],$t),$t+=24;for(let Dt=_e.length-6;Dt>=6;Dt-=6)for(let Nt=0;Nt<6;Nt+=2){if(isNaN(_e[Dt+Nt])){Lt[$t]=Lt[$t+1]=NaN,$t+=2;continue}Lt[$t]=_e[Dt+Nt],Lt[$t+1]=_e[Dt+Nt+1],$t+=2}return Lt.set([NaN,NaN,NaN,NaN,_e[4],_e[5]],$t),new FreeHighlightOutline(Lt,St,wt(this,Sl),wt(this,Hm),wt(this,Om),wt(this,jm))}};Sl=new WeakMap,ru=new WeakMap,Om=new WeakMap,jm=new WeakMap,Cl=new WeakMap,cs=new WeakMap,Rp=new WeakMap,Tp=new WeakMap,Iv=new WeakMap,$v=new WeakMap,Hm=new WeakMap,Bm=new WeakMap,Lu=new WeakMap,Nv=new WeakMap,ux=new WeakMap,dx=new WeakMap,Ov=new WeakSet,r1=function(){const $=wt(this,cs).subarray(4,6),_e=wt(this,cs).subarray(16,18),[vt,xt,bt,Et]=wt(this,Sl);return[(wt(this,Rp)+($[0]-_e[0])/2-vt)/bt,(wt(this,Tp)+($[1]-_e[1])/2-xt)/Et,(wt(this,Rp)+(_e[0]-$[0])/2-vt)/bt,(wt(this,Tp)+(_e[1]-$[1])/2-xt)/Et]},Gt(Ol,Nv,8),Gt(Ol,ux,2),Gt(Ol,dx,wt(Ol,Nv)+wt(Ol,ux));let FreeOutliner=Ol;var Um,Pp,su,jv,To,Hv,js,Eo,l0,c0,gA;class FreeHighlightOutline extends Outline{constructor(_e,vt,xt,bt,Et,At){super();Gt(this,Eo);Gt(this,Um);Gt(this,Pp,null);Gt(this,su);Gt(this,jv);Gt(this,To);Gt(this,Hv);Gt(this,js);Vt(this,js,_e),Vt(this,To,vt),Vt(this,Um,xt),Vt(this,Hv,bt),Vt(this,su,Et),Vt(this,jv,At),Ut(this,Eo,gA).call(this,At);const{x:_t,y:Ct,width:St,height:Rt}=wt(this,Pp);for(let Pt=0,kt=_e.length;Pt<kt;Pt+=2)_e[Pt]=(_e[Pt]-_t)/St,_e[Pt+1]=(_e[Pt+1]-Ct)/Rt;for(let Pt=0,kt=vt.length;Pt<kt;Pt+=2)vt[Pt]=(vt[Pt]-_t)/St,vt[Pt+1]=(vt[Pt+1]-Ct)/Rt}toSVGPath(){const _e=[`M${wt(this,js)[4]} ${wt(this,js)[5]}`];for(let vt=6,xt=wt(this,js).length;vt<xt;vt+=6){if(isNaN(wt(this,js)[vt])){_e.push(`L${wt(this,js)[vt+4]} ${wt(this,js)[vt+5]}`);continue}_e.push(`C${wt(this,js)[vt]} ${wt(this,js)[vt+1]} ${wt(this,js)[vt+2]} ${wt(this,js)[vt+3]} ${wt(this,js)[vt+4]} ${wt(this,js)[vt+5]}`)}return _e.push("Z"),_e.join(" ")}serialize([_e,vt,xt,bt],Et){const At=xt-_e,_t=bt-vt;let Ct,St;switch(Et){case 0:Ct=Ut(this,Eo,l0).call(this,wt(this,js),_e,bt,At,-_t),St=Ut(this,Eo,l0).call(this,wt(this,To),_e,bt,At,-_t);break;case 90:Ct=Ut(this,Eo,c0).call(this,wt(this,js),_e,vt,At,_t),St=Ut(this,Eo,c0).call(this,wt(this,To),_e,vt,At,_t);break;case 180:Ct=Ut(this,Eo,l0).call(this,wt(this,js),xt,vt,-At,_t),St=Ut(this,Eo,l0).call(this,wt(this,To),xt,vt,-At,_t);break;case 270:Ct=Ut(this,Eo,c0).call(this,wt(this,js),xt,bt,-At,-_t),St=Ut(this,Eo,c0).call(this,wt(this,To),xt,bt,-At,-_t);break}return{outline:Array.from(Ct),points:[Array.from(St)]}}get box(){return wt(this,Pp)}getNewOutline(_e,vt){const{x:xt,y:bt,width:Et,height:At}=wt(this,Pp),[_t,Ct,St,Rt]=wt(this,Um),Pt=Et*St,kt=At*Rt,Mt=xt*St+_t,Lt=bt*Rt+Ct,$t=new FreeOutliner({x:wt(this,To)[0]*Pt+Mt,y:wt(this,To)[1]*kt+Lt},wt(this,Um),wt(this,Hv),_e,wt(this,jv),vt??wt(this,su));for(let Ft=2;Ft<wt(this,To).length;Ft+=2)$t.add({x:wt(this,To)[Ft]*Pt+Mt,y:wt(this,To)[Ft+1]*kt+Lt});return $t.getOutlines()}}Um=new WeakMap,Pp=new WeakMap,su=new WeakMap,jv=new WeakMap,To=new WeakMap,Hv=new WeakMap,js=new WeakMap,Eo=new WeakSet,l0=function(_e,vt,xt,bt,Et){const At=new Float64Array(_e.length);for(let _t=0,Ct=_e.length;_t<Ct;_t+=2)At[_t]=vt+_e[_t]*bt,At[_t+1]=xt+_e[_t+1]*Et;return At},c0=function(_e,vt,xt,bt,Et){const At=new Float64Array(_e.length);for(let _t=0,Ct=_e.length;_t<Ct;_t+=2)At[_t]=vt+_e[_t+1]*bt,At[_t+1]=xt+_e[_t]*Et;return At},gA=function(_e){const vt=wt(this,js);let xt=vt[4],bt=vt[5],Et=xt,At=bt,_t=xt,Ct=bt,St=xt,Rt=bt;const Pt=_e?Math.max:Math.min;for(let Ft=6,Dt=vt.length;Ft<Dt;Ft+=6){if(isNaN(vt[Ft]))Et=Math.min(Et,vt[Ft+4]),At=Math.min(At,vt[Ft+5]),_t=Math.max(_t,vt[Ft+4]),Ct=Math.max(Ct,vt[Ft+5]),Rt<vt[Ft+5]?(St=vt[Ft+4],Rt=vt[Ft+5]):Rt===vt[Ft+5]&&(St=Pt(St,vt[Ft+4]));else{const Nt=Util.bezierBoundingBox(xt,bt,...vt.slice(Ft,Ft+6));Et=Math.min(Et,Nt[0]),At=Math.min(At,Nt[1]),_t=Math.max(_t,Nt[2]),Ct=Math.max(Ct,Nt[3]),Rt<Nt[3]?(St=Nt[2],Rt=Nt[3]):Rt===Nt[3]&&(St=Pt(St,Nt[2]))}xt=vt[Ft+4],bt=vt[Ft+5]}const kt=Et-wt(this,su),Mt=At-wt(this,su),Lt=_t-Et+2*wt(this,su),$t=Ct-At+2*wt(this,su);Vt(this,Pp,{x:kt,y:Mt,width:Lt,height:$t,lastPoint:[St,Rt]})};var Bv,Uv,Zo,kp,zm,Gs,zv,Vm,Vv,Wv,Du,Wm,Ts,s1,o1,mA,qu,vA,Eu;const Hl=class Hl{constructor({editor:$=null,uiManager:_e=null}){Gt(this,Ts);Gt(this,Bv,Ut(this,Ts,mA).bind(this));Gt(this,Uv,Ut(this,Ts,vA).bind(this));Gt(this,Zo,null);Gt(this,kp,null);Gt(this,zm);Gt(this,Gs,null);Gt(this,zv,!1);Gt(this,Vm,!1);Gt(this,Vv,null);Gt(this,Wv);Gt(this,Du,null);Gt(this,Wm);var vt;$?(Vt(this,Vm,!1),Vt(this,Wm,AnnotationEditorParamsType.HIGHLIGHT_COLOR),Vt(this,Vv,$)):(Vt(this,Vm,!0),Vt(this,Wm,AnnotationEditorParamsType.HIGHLIGHT_DEFAULT_COLOR)),Vt(this,Du,($==null?void 0:$._uiManager)||_e),Vt(this,Wv,wt(this,Du)._eventBus),Vt(this,zm,($==null?void 0:$.color)||((vt=wt(this,Du))==null?void 0:vt.highlightColors.values().next().value)||"#FFFF98")}static get _keyboardManager(){return shadow(this,"_keyboardManager",new KeyboardManager([[["Escape","mac+Escape"],Hl.prototype._hideDropdownFromKeyboard],[[" ","mac+ "],Hl.prototype._colorSelectFromKeyboard],[["ArrowDown","ArrowRight","mac+ArrowDown","mac+ArrowRight"],Hl.prototype._moveToNext],[["ArrowUp","ArrowLeft","mac+ArrowUp","mac+ArrowLeft"],Hl.prototype._moveToPrevious],[["Home","mac+Home"],Hl.prototype._moveToBeginning],[["End","mac+End"],Hl.prototype._moveToEnd]]))}renderButton(){const $=Vt(this,Zo,document.createElement("button"));$.className="colorPicker",$.tabIndex="0",$.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-button"),$.setAttribute("aria-haspopup",!0),$.addEventListener("click",Ut(this,Ts,qu).bind(this)),$.addEventListener("keydown",wt(this,Bv));const _e=Vt(this,kp,document.createElement("span"));return _e.className="swatch",_e.setAttribute("aria-hidden",!0),_e.style.backgroundColor=wt(this,zm),$.append(_e),$}renderMainDropdown(){const $=Vt(this,Gs,Ut(this,Ts,s1).call(this));return $.setAttribute("aria-orientation","horizontal"),$.setAttribute("aria-labelledby","highlightColorPickerLabel"),$}_colorSelectFromKeyboard($){if($.target===wt(this,Zo)){Ut(this,Ts,qu).call(this,$);return}const _e=$.target.getAttribute("data-color");_e&&Ut(this,Ts,o1).call(this,_e,$)}_moveToNext($){var _e,vt;if(!wt(this,Ts,Eu)){Ut(this,Ts,qu).call(this,$);return}if($.target===wt(this,Zo)){(_e=wt(this,Gs).firstChild)==null||_e.focus();return}(vt=$.target.nextSibling)==null||vt.focus()}_moveToPrevious($){var _e,vt;if($.target===((_e=wt(this,Gs))==null?void 0:_e.firstChild)||$.target===wt(this,Zo)){wt(this,Ts,Eu)&&this._hideDropdownFromKeyboard();return}wt(this,Ts,Eu)||Ut(this,Ts,qu).call(this,$),(vt=$.target.previousSibling)==null||vt.focus()}_moveToBeginning($){var _e;if(!wt(this,Ts,Eu)){Ut(this,Ts,qu).call(this,$);return}(_e=wt(this,Gs).firstChild)==null||_e.focus()}_moveToEnd($){var _e;if(!wt(this,Ts,Eu)){Ut(this,Ts,qu).call(this,$);return}(_e=wt(this,Gs).lastChild)==null||_e.focus()}hideDropdown(){var $;($=wt(this,Gs))==null||$.classList.add("hidden"),window.removeEventListener("pointerdown",wt(this,Uv))}_hideDropdownFromKeyboard(){var $;if(!wt(this,Vm)){if(!wt(this,Ts,Eu)){($=wt(this,Vv))==null||$.unselect();return}this.hideDropdown(),wt(this,Zo).focus({preventScroll:!0,focusVisible:wt(this,zv)})}}updateColor($){if(wt(this,kp)&&(wt(this,kp).style.backgroundColor=$),!wt(this,Gs))return;const _e=wt(this,Du).highlightColors.values();for(const vt of wt(this,Gs).children)vt.setAttribute("aria-selected",_e.next().value===$)}destroy(){var $,_e;($=wt(this,Zo))==null||$.remove(),Vt(this,Zo,null),Vt(this,kp,null),(_e=wt(this,Gs))==null||_e.remove(),Vt(this,Gs,null)}};Bv=new WeakMap,Uv=new WeakMap,Zo=new WeakMap,kp=new WeakMap,zm=new WeakMap,Gs=new WeakMap,zv=new WeakMap,Vm=new WeakMap,Vv=new WeakMap,Wv=new WeakMap,Du=new WeakMap,Wm=new WeakMap,Ts=new WeakSet,s1=function(){const $=document.createElement("div");$.addEventListener("contextmenu",noContextMenu),$.className="dropdown",$.role="listbox",$.setAttribute("aria-multiselectable",!1),$.setAttribute("aria-orientation","vertical"),$.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-dropdown");for(const[_e,vt]of wt(this,Du).highlightColors){const xt=document.createElement("button");xt.tabIndex="0",xt.role="option",xt.setAttribute("data-color",vt),xt.title=_e,xt.setAttribute("data-l10n-id",`pdfjs-editor-colorpicker-${_e}`);const bt=document.createElement("span");xt.append(bt),bt.className="swatch",bt.style.backgroundColor=vt,xt.setAttribute("aria-selected",vt===wt(this,zm)),xt.addEventListener("click",Ut(this,Ts,o1).bind(this,vt)),$.append(xt)}return $.addEventListener("keydown",wt(this,Bv)),$},o1=function($,_e){_e.stopPropagation(),wt(this,Wv).dispatch("switchannotationeditorparams",{source:this,type:wt(this,Wm),value:$})},mA=function($){Hl._keyboardManager.exec(this,$)},qu=function($){if(wt(this,Ts,Eu)){this.hideDropdown();return}if(Vt(this,zv,$.detail===0),window.addEventListener("pointerdown",wt(this,Uv)),wt(this,Gs)){wt(this,Gs).classList.remove("hidden");return}const _e=Vt(this,Gs,Ut(this,Ts,s1).call(this));wt(this,Zo).append(_e)},vA=function($){var _e;(_e=wt(this,Gs))!=null&&_e.contains($.target)||this.hideDropdown()},Eu=function(){return wt(this,Gs)&&!wt(this,Gs).classList.contains("hidden")};let ColorPicker=Hl;var Gm,Gv,Iu,Mp,Xm,Io,Xv,qv,Fp,Qo,po,Po,hx,qm,Lp,Xs,Km,Rl,Kv,os,a1,l1,yA,xA,bA,c1,u0,Oo,_g,EA,Cy,d0,AA,wA,_A,SA;const vs=class vs extends AnnotationEditor{constructor(_e){super({..._e,name:"highlightEditor"});Gt(this,os);Gt(this,Gm,null);Gt(this,Gv,0);Gt(this,Iu);Gt(this,Mp,null);Gt(this,Xm,null);Gt(this,Io,null);Gt(this,Xv,null);Gt(this,qv,0);Gt(this,Fp,null);Gt(this,Qo,null);Gt(this,po,null);Gt(this,Po,!1);Gt(this,hx,Ut(this,os,EA).bind(this));Gt(this,qm,null);Gt(this,Lp);Gt(this,Xs,null);Gt(this,Km,"");Gt(this,Rl);Gt(this,Kv,"");this.color=_e.color||vs._defaultColor,Vt(this,Rl,_e.thickness||vs._defaultThickness),Vt(this,Lp,_e.opacity||vs._defaultOpacity),Vt(this,Iu,_e.boxes||null),Vt(this,Kv,_e.methodOfCreation||""),Vt(this,Km,_e.text||""),this._isDraggable=!1,_e.highlightId>-1?(Vt(this,Po,!0),Ut(this,os,l1).call(this,_e),Ut(this,os,u0).call(this)):(Vt(this,Gm,_e.anchorNode),Vt(this,Gv,_e.anchorOffset),Vt(this,Xv,_e.focusNode),Vt(this,qv,_e.focusOffset),Ut(this,os,a1).call(this),Ut(this,os,u0).call(this),this.rotate(this.rotation))}static get _keyboardManager(){const _e=vs.prototype;return shadow(this,"_keyboardManager",new KeyboardManager([[["ArrowLeft","mac+ArrowLeft"],_e._moveCaret,{args:[0]}],[["ArrowRight","mac+ArrowRight"],_e._moveCaret,{args:[1]}],[["ArrowUp","mac+ArrowUp"],_e._moveCaret,{args:[2]}],[["ArrowDown","mac+ArrowDown"],_e._moveCaret,{args:[3]}]]))}get telemetryInitialData(){return{action:"added",type:wt(this,Po)?"free_highlight":"highlight",color:this._uiManager.highlightColorNames.get(this.color),thickness:wt(this,Rl),methodOfCreation:wt(this,Kv)}}get telemetryFinalData(){return{type:"highlight",color:this._uiManager.highlightColorNames.get(this.color)}}static computeTelemetryFinalData(_e){return{numberOfColors:_e.get("color").size}}static initialize(_e,vt){var xt;AnnotationEditor.initialize(_e,vt),vs._defaultColor||(vs._defaultColor=((xt=vt.highlightColors)==null?void 0:xt.values().next().value)||"#fff066")}static updateDefaultParams(_e,vt){switch(_e){case AnnotationEditorParamsType.HIGHLIGHT_DEFAULT_COLOR:vs._defaultColor=vt;break;case AnnotationEditorParamsType.HIGHLIGHT_THICKNESS:vs._defaultThickness=vt;break}}translateInPage(_e,vt){}get toolbarPosition(){return wt(this,qm)}updateParams(_e,vt){switch(_e){case AnnotationEditorParamsType.HIGHLIGHT_COLOR:Ut(this,os,yA).call(this,vt);break;case AnnotationEditorParamsType.HIGHLIGHT_THICKNESS:Ut(this,os,xA).call(this,vt);break}}static get defaultPropertiesToUpdate(){return[[AnnotationEditorParamsType.HIGHLIGHT_DEFAULT_COLOR,vs._defaultColor],[AnnotationEditorParamsType.HIGHLIGHT_THICKNESS,vs._defaultThickness]]}get propertiesToUpdate(){return[[AnnotationEditorParamsType.HIGHLIGHT_COLOR,this.color||vs._defaultColor],[AnnotationEditorParamsType.HIGHLIGHT_THICKNESS,wt(this,Rl)||vs._defaultThickness],[AnnotationEditorParamsType.HIGHLIGHT_FREE,wt(this,Po)]]}async addEditToolbar(){const _e=await super.addEditToolbar();return _e?(this._uiManager.highlightColors&&(Vt(this,Xm,new ColorPicker({editor:this})),_e.addColorPicker(wt(this,Xm))),_e):null}disableEditing(){super.disableEditing(),this.div.classList.toggle("disabled",!0)}enableEditing(){super.enableEditing(),this.div.classList.toggle("disabled",!1)}fixAndSetPosition(){return super.fixAndSetPosition(Ut(this,os,d0).call(this))}getBaseTranslation(){return[0,0]}getRect(_e,vt){return super.getRect(_e,vt,Ut(this,os,d0).call(this))}onceAdded(){this.parent.addUndoableEditor(this),this.div.focus()}remove(){Ut(this,os,c1).call(this),this._reportTelemetry({action:"deleted"}),super.remove()}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(Ut(this,os,u0).call(this),this.isAttachedToDOM||this.parent.add(this)))}setParent(_e){var xt;let vt=!1;this.parent&&!_e?Ut(this,os,c1).call(this):_e&&(Ut(this,os,u0).call(this,_e),vt=!this.parent&&((xt=this.div)==null?void 0:xt.classList.contains("selectedEditor"))),super.setParent(_e),this.show(this._isVisible),vt&&this.select()}rotate(_e){var bt,Et,At;const{drawLayer:vt}=this.parent;let xt;wt(this,Po)?(_e=(_e-this.rotation+360)%360,xt=Ut(bt=vs,Oo,_g).call(bt,wt(this,Qo).box,_e)):xt=Ut(Et=vs,Oo,_g).call(Et,this,_e),vt.rotate(wt(this,po),_e),vt.rotate(wt(this,Xs),_e),vt.updateBox(wt(this,po),xt),vt.updateBox(wt(this,Xs),Ut(At=vs,Oo,_g).call(At,wt(this,Io).box,_e))}render(){if(this.div)return this.div;const _e=super.render();wt(this,Km)&&(_e.setAttribute("aria-label",wt(this,Km)),_e.setAttribute("role","mark")),wt(this,Po)?_e.classList.add("free"):this.div.addEventListener("keydown",wt(this,hx));const vt=Vt(this,Fp,document.createElement("div"));_e.append(vt),vt.setAttribute("aria-hidden","true"),vt.className="internal",vt.style.clipPath=wt(this,Mp);const[xt,bt]=this.parentDimensions;return this.setDims(this.width*xt,this.height*bt),bindEvents(this,wt(this,Fp),["pointerover","pointerleave"]),this.enableEditing(),_e}pointerover(){this.parent.drawLayer.addClass(wt(this,Xs),"hovered")}pointerleave(){this.parent.drawLayer.removeClass(wt(this,Xs),"hovered")}_moveCaret(_e){switch(this.parent.unselect(this),_e){case 0:case 2:Ut(this,os,Cy).call(this,!0);break;case 1:case 3:Ut(this,os,Cy).call(this,!1);break}}select(){var _e,vt;super.select(),wt(this,Xs)&&((_e=this.parent)==null||_e.drawLayer.removeClass(wt(this,Xs),"hovered"),(vt=this.parent)==null||vt.drawLayer.addClass(wt(this,Xs),"selected"))}unselect(){var _e;super.unselect(),wt(this,Xs)&&((_e=this.parent)==null||_e.drawLayer.removeClass(wt(this,Xs),"selected"),wt(this,Po)||Ut(this,os,Cy).call(this,!1))}get _mustFixPosition(){return!wt(this,Po)}show(_e=this._isVisible){super.show(_e),this.parent&&(this.parent.drawLayer.show(wt(this,po),_e),this.parent.drawLayer.show(wt(this,Xs),_e))}static startHighlighting(_e,vt,{target:xt,x:bt,y:Et}){const{x:At,y:_t,width:Ct,height:St}=xt.getBoundingClientRect(),Rt=Lt=>{Ut(this,Oo,_A).call(this,_e,Lt)},Pt={capture:!0,passive:!1},kt=Lt=>{Lt.preventDefault(),Lt.stopPropagation()},Mt=Lt=>{xt.removeEventListener("pointermove",Rt),window.removeEventListener("blur",Mt),window.removeEventListener("pointerup",Mt),window.removeEventListener("pointerdown",kt,Pt),window.removeEventListener("contextmenu",noContextMenu),Ut(this,Oo,SA).call(this,_e,Lt)};window.addEventListener("blur",Mt),window.addEventListener("pointerup",Mt),window.addEventListener("pointerdown",kt,Pt),window.addEventListener("contextmenu",noContextMenu),xt.addEventListener("pointermove",Rt),this._freeHighlight=new FreeOutliner({x:bt,y:Et},[At,_t,Ct,St],_e.scale,this._defaultThickness/2,vt,.001),{id:this._freeHighlightId,clipPathId:this._freeHighlightClipId}=_e.drawLayer.highlight(this._freeHighlight,this._defaultColor,this._defaultOpacity,!0)}static deserialize(_e,vt,xt){var Lt;const bt=super.deserialize(_e,vt,xt),{rect:[Et,At,_t,Ct],color:St,quadPoints:Rt}=_e;bt.color=Util.makeHexColor(...St),Vt(bt,Lp,_e.opacity);const[Pt,kt]=bt.pageDimensions;bt.width=(_t-Et)/Pt,bt.height=(Ct-At)/kt;const Mt=Vt(bt,Iu,[]);for(let $t=0;$t<Rt.length;$t+=8)Mt.push({x:(Rt[4]-_t)/Pt,y:(Ct-(1-Rt[$t+5]))/kt,width:(Rt[$t+2]-Rt[$t])/Pt,height:(Rt[$t+5]-Rt[$t+1])/kt});return Ut(Lt=bt,os,a1).call(Lt),bt}serialize(_e=!1){if(this.isEmpty()||_e)return null;const vt=this.getRect(0,0),xt=AnnotationEditor._colorManager.convert(this.color);return{annotationType:AnnotationEditorType.HIGHLIGHT,color:xt,opacity:wt(this,Lp),thickness:wt(this,Rl),quadPoints:Ut(this,os,AA).call(this),outlines:Ut(this,os,wA).call(this,vt),pageIndex:this.pageIndex,rect:vt,rotation:Ut(this,os,d0).call(this),structTreeParentId:this._structTreeParentId}}static canCreateNewEmptyEditor(){return!1}};Gm=new WeakMap,Gv=new WeakMap,Iu=new WeakMap,Mp=new WeakMap,Xm=new WeakMap,Io=new WeakMap,Xv=new WeakMap,qv=new WeakMap,Fp=new WeakMap,Qo=new WeakMap,po=new WeakMap,Po=new WeakMap,hx=new WeakMap,qm=new WeakMap,Lp=new WeakMap,Xs=new WeakMap,Km=new WeakMap,Rl=new WeakMap,Kv=new WeakMap,os=new WeakSet,a1=function(){const _e=new Outliner(wt(this,Iu),.001);Vt(this,Qo,_e.getOutlines()),{x:this.x,y:this.y,width:this.width,height:this.height}=wt(this,Qo).box;const vt=new Outliner(wt(this,Iu),.0025,.001,this._uiManager.direction==="ltr");Vt(this,Io,vt.getOutlines());const{lastPoint:xt}=wt(this,Io).box;Vt(this,qm,[(xt[0]-this.x)/this.width,(xt[1]-this.y)/this.height])},l1=function({highlightOutlines:_e,highlightId:vt,clipPathId:xt}){var Rt,Pt;if(Vt(this,Qo,_e),Vt(this,Io,_e.getNewOutline(wt(this,Rl)/2+1.5,.0025)),vt>=0)Vt(this,po,vt),Vt(this,Mp,xt),this.parent.drawLayer.finalizeLine(vt,_e),Vt(this,Xs,this.parent.drawLayer.highlightOutline(wt(this,Io)));else if(this.parent){const kt=this.parent.viewport.rotation;this.parent.drawLayer.updateLine(wt(this,po),_e),this.parent.drawLayer.updateBox(wt(this,po),Ut(Rt=vs,Oo,_g).call(Rt,wt(this,Qo).box,(kt-this.rotation+360)%360)),this.parent.drawLayer.updateLine(wt(this,Xs),wt(this,Io)),this.parent.drawLayer.updateBox(wt(this,Xs),Ut(Pt=vs,Oo,_g).call(Pt,wt(this,Io).box,kt))}const{x:Et,y:At,width:_t,height:Ct}=_e.box;switch(this.rotation){case 0:this.x=Et,this.y=At,this.width=_t,this.height=Ct;break;case 90:{const[kt,Mt]=this.parentDimensions;this.x=At,this.y=1-Et,this.width=_t*Mt/kt,this.height=Ct*kt/Mt;break}case 180:this.x=1-Et,this.y=1-At,this.width=_t,this.height=Ct;break;case 270:{const[kt,Mt]=this.parentDimensions;this.x=1-At,this.y=Et,this.width=_t*Mt/kt,this.height=Ct*kt/Mt;break}}const{lastPoint:St}=wt(this,Io).box;Vt(this,qm,[(St[0]-Et)/_t,(St[1]-At)/Ct])},yA=function(_e){const vt=bt=>{var Et,At;this.color=bt,(Et=this.parent)==null||Et.drawLayer.changeColor(wt(this,po),bt),(At=wt(this,Xm))==null||At.updateColor(bt)},xt=this.color;this.addCommands({cmd:vt.bind(this,_e),undo:vt.bind(this,xt),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:AnnotationEditorParamsType.HIGHLIGHT_COLOR,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"color_changed",color:this._uiManager.highlightColorNames.get(_e)},!0)},xA=function(_e){const vt=wt(this,Rl),xt=bt=>{Vt(this,Rl,bt),Ut(this,os,bA).call(this,bt)};this.addCommands({cmd:xt.bind(this,_e),undo:xt.bind(this,vt),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:AnnotationEditorParamsType.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"thickness_changed",thickness:_e},!0)},bA=function(_e){if(!wt(this,Po))return;Ut(this,os,l1).call(this,{highlightOutlines:wt(this,Qo).getNewOutline(_e/2)}),this.fixAndSetPosition();const[vt,xt]=this.parentDimensions;this.setDims(this.width*vt,this.height*xt)},c1=function(){wt(this,po)===null||!this.parent||(this.parent.drawLayer.remove(wt(this,po)),Vt(this,po,null),this.parent.drawLayer.remove(wt(this,Xs)),Vt(this,Xs,null))},u0=function(_e=this.parent){wt(this,po)===null&&({id:eo(this,po)._,clipPathId:eo(this,Mp)._}=_e.drawLayer.highlight(wt(this,Qo),this.color,wt(this,Lp)),Vt(this,Xs,_e.drawLayer.highlightOutline(wt(this,Io))),wt(this,Fp)&&(wt(this,Fp).style.clipPath=wt(this,Mp)))},Oo=new WeakSet,_g=function({x:_e,y:vt,width:xt,height:bt},Et){switch(Et){case 90:return{x:1-vt-bt,y:_e,width:bt,height:xt};case 180:return{x:1-_e-xt,y:1-vt-bt,width:xt,height:bt};case 270:return{x:vt,y:1-_e-xt,width:bt,height:xt}}return{x:_e,y:vt,width:xt,height:bt}},EA=function(_e){vs._keyboardManager.exec(this,_e)},Cy=function(_e){if(!wt(this,Gm))return;const vt=window.getSelection();_e?vt.setPosition(wt(this,Gm),wt(this,Gv)):vt.setPosition(wt(this,Xv),wt(this,qv))},d0=function(){return wt(this,Po)?this.rotation:0},AA=function(){if(wt(this,Po))return null;const[_e,vt]=this.pageDimensions,xt=wt(this,Iu),bt=new Array(xt.length*8);let Et=0;for(const{x:At,y:_t,width:Ct,height:St}of xt){const Rt=At*_e,Pt=(1-_t-St)*vt;bt[Et]=bt[Et+4]=Rt,bt[Et+1]=bt[Et+3]=Pt,bt[Et+2]=bt[Et+6]=Rt+Ct*_e,bt[Et+5]=bt[Et+7]=Pt+St*vt,Et+=8}return bt},wA=function(_e){return wt(this,Qo).serialize(_e,Ut(this,os,d0).call(this))},_A=function(_e,vt){this._freeHighlight.add(vt)&&_e.drawLayer.updatePath(this._freeHighlightId,this._freeHighlight)},SA=function(_e,vt){this._freeHighlight.isEmpty()?_e.drawLayer.removeFreeHighlight(this._freeHighlightId):_e.createAndAddNewEditor(vt,!1,{highlightId:this._freeHighlightId,highlightOutlines:this._freeHighlight.getOutlines(),clipPathId:this._freeHighlightClipId,methodOfCreation:"main_toolbar"}),this._freeHighlightId=-1,this._freeHighlight=null,this._freeHighlightClipId=""},Gt(vs,Oo),_r(vs,"_defaultColor",null),_r(vs,"_defaultOpacity",1),_r(vs,"_defaultThickness",12),_r(vs,"_l10nPromise"),_r(vs,"_type","highlight"),_r(vs,"_editorType",AnnotationEditorType.HIGHLIGHT),_r(vs,"_freeHighlightId",-1),_r(vs,"_freeHighlight",null),_r(vs,"_freeHighlightClipId","");let HighlightEditor=vs;var Dp,Ip,Yv,Zv,Qv,$p,Tl,ou,$o,Np,Op,jp,Hp,Bp,$u,Ar,CA,RA,TA,PA,u1,kA,d1,MA,FA,LA,DA,IA,Ku,h1,Ry,Ty,em,f1,Py,pu,$A,p1,NA,OA,g1,ky,h0;const Is=class Is extends AnnotationEditor{constructor(_e){super({..._e,name:"inkEditor"});Gt(this,Ar);Gt(this,Dp,0);Gt(this,Ip,0);Gt(this,Yv,this.canvasPointermove.bind(this));Gt(this,Zv,this.canvasPointerleave.bind(this));Gt(this,Qv,this.canvasPointerup.bind(this));Gt(this,$p,this.canvasPointerdown.bind(this));Gt(this,Tl,null);Gt(this,ou,new Path2D);Gt(this,$o,!1);Gt(this,Np,!1);Gt(this,Op,!1);Gt(this,jp,null);Gt(this,Hp,0);Gt(this,Bp,0);Gt(this,$u,null);this.color=_e.color||null,this.thickness=_e.thickness||null,this.opacity=_e.opacity||null,this.paths=[],this.bezierPath2D=[],this.allRawPaths=[],this.currentPath=[],this.scaleFactor=1,this.translationX=this.translationY=0,this.x=0,this.y=0,this._willKeepAspectRatio=!0}static initialize(_e,vt){AnnotationEditor.initialize(_e,vt)}static updateDefaultParams(_e,vt){switch(_e){case AnnotationEditorParamsType.INK_THICKNESS:Is._defaultThickness=vt;break;case AnnotationEditorParamsType.INK_COLOR:Is._defaultColor=vt;break;case AnnotationEditorParamsType.INK_OPACITY:Is._defaultOpacity=vt/100;break}}updateParams(_e,vt){switch(_e){case AnnotationEditorParamsType.INK_THICKNESS:Ut(this,Ar,CA).call(this,vt);break;case AnnotationEditorParamsType.INK_COLOR:Ut(this,Ar,RA).call(this,vt);break;case AnnotationEditorParamsType.INK_OPACITY:Ut(this,Ar,TA).call(this,vt);break}}static get defaultPropertiesToUpdate(){return[[AnnotationEditorParamsType.INK_THICKNESS,Is._defaultThickness],[AnnotationEditorParamsType.INK_COLOR,Is._defaultColor||AnnotationEditor._defaultLineColor],[AnnotationEditorParamsType.INK_OPACITY,Math.round(Is._defaultOpacity*100)]]}get propertiesToUpdate(){return[[AnnotationEditorParamsType.INK_THICKNESS,this.thickness||Is._defaultThickness],[AnnotationEditorParamsType.INK_COLOR,this.color||Is._defaultColor||AnnotationEditor._defaultLineColor],[AnnotationEditorParamsType.INK_OPACITY,Math.round(100*(this.opacity??Is._defaultOpacity))]]}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.canvas||(Ut(this,Ar,Ry).call(this),Ut(this,Ar,Ty).call(this)),this.isAttachedToDOM||(this.parent.add(this),Ut(this,Ar,em).call(this)),Ut(this,Ar,h0).call(this)))}remove(){this.canvas!==null&&(this.isEmpty()||this.commit(),this.canvas.width=this.canvas.height=0,this.canvas.remove(),this.canvas=null,wt(this,Tl)&&(clearTimeout(wt(this,Tl)),Vt(this,Tl,null)),wt(this,jp).disconnect(),Vt(this,jp,null),super.remove())}setParent(_e){!this.parent&&_e?this._uiManager.removeShouldRescale(this):this.parent&&_e===null&&this._uiManager.addShouldRescale(this),super.setParent(_e)}onScaleChanging(){const[_e,vt]=this.parentDimensions,xt=this.width*_e,bt=this.height*vt;this.setDimensions(xt,bt)}enableEditMode(){wt(this,$o)||this.canvas===null||(super.enableEditMode(),this._isDraggable=!1,this.canvas.addEventListener("pointerdown",wt(this,$p)))}disableEditMode(){!this.isInEditMode()||this.canvas===null||(super.disableEditMode(),this._isDraggable=!this.isEmpty(),this.div.classList.remove("editing"),this.canvas.removeEventListener("pointerdown",wt(this,$p)))}onceAdded(){this._isDraggable=!this.isEmpty()}isEmpty(){return this.paths.length===0||this.paths.length===1&&this.paths[0].length===0}commit(){wt(this,$o)||(super.commit(),this.isEditing=!1,this.disableEditMode(),this.setInForeground(),Vt(this,$o,!0),this.div.classList.add("disabled"),Ut(this,Ar,h0).call(this,!0),this.select(),this.parent.addInkEditorIfNeeded(!0),this.moveInDOM(),this.div.focus({preventScroll:!0}))}focusin(_e){this._focusEventsAllowed&&(super.focusin(_e),this.enableEditMode())}canvasPointerdown(_e){_e.button!==0||!this.isInEditMode()||wt(this,$o)||(this.setInForeground(),_e.preventDefault(),this.div.contains(document.activeElement)||this.div.focus({preventScroll:!0}),Ut(this,Ar,kA).call(this,_e.offsetX,_e.offsetY))}canvasPointermove(_e){_e.preventDefault(),Ut(this,Ar,d1).call(this,_e.offsetX,_e.offsetY)}canvasPointerup(_e){_e.preventDefault(),Ut(this,Ar,h1).call(this,_e)}canvasPointerleave(_e){Ut(this,Ar,h1).call(this,_e)}get isResizable(){return!this.isEmpty()&&wt(this,$o)}render(){if(this.div)return this.div;let _e,vt;this.width&&(_e=this.x,vt=this.y),super.render(),this.div.setAttribute("data-l10n-id","pdfjs-ink");const[xt,bt,Et,At]=Ut(this,Ar,PA).call(this);if(this.setAt(xt,bt,0,0),this.setDims(Et,At),Ut(this,Ar,Ry).call(this),this.width){const[_t,Ct]=this.parentDimensions;this.setAspectRatio(this.width*_t,this.height*Ct),this.setAt(_e*_t,vt*Ct,this.width*_t,this.height*Ct),Vt(this,Op,!0),Ut(this,Ar,em).call(this),this.setDims(this.width*_t,this.height*Ct),Ut(this,Ar,Ku).call(this),this.div.classList.add("disabled")}else this.div.classList.add("editing"),this.enableEditMode();return Ut(this,Ar,Ty).call(this),this.div}setDimensions(_e,vt){const xt=Math.round(_e),bt=Math.round(vt);if(wt(this,Hp)===xt&&wt(this,Bp)===bt)return;Vt(this,Hp,xt),Vt(this,Bp,bt),this.canvas.style.visibility="hidden";const[Et,At]=this.parentDimensions;this.width=_e/Et,this.height=vt/At,this.fixAndSetPosition(),wt(this,$o)&&Ut(this,Ar,f1).call(this,_e,vt),Ut(this,Ar,em).call(this),Ut(this,Ar,Ku).call(this),this.canvas.style.visibility="visible",this.fixDims()}static deserialize(_e,vt,xt){var $t,Ft,Dt;if(_e instanceof InkAnnotationElement)return null;const bt=super.deserialize(_e,vt,xt);bt.thickness=_e.thickness,bt.color=Util.makeHexColor(..._e.color),bt.opacity=_e.opacity;const[Et,At]=bt.pageDimensions,_t=bt.width*Et,Ct=bt.height*At,St=bt.parentScale,Rt=_e.thickness/2;Vt(bt,$o,!0),Vt(bt,Hp,Math.round(_t)),Vt(bt,Bp,Math.round(Ct));const{paths:Pt,rect:kt,rotation:Mt}=_e;for(let{bezier:Nt}of Pt){Nt=Ut($t=Is,pu,NA).call($t,Nt,kt,Mt);const Ht=[];bt.paths.push(Ht);let Ot=St*(Nt[0]-Rt),Bt=St*(Nt[1]-Rt);for(let zt=2,Kt=Nt.length;zt<Kt;zt+=6){const nn=St*(Nt[zt]-Rt),Xt=St*(Nt[zt+1]-Rt),en=St*(Nt[zt+2]-Rt),on=St*(Nt[zt+3]-Rt),An=St*(Nt[zt+4]-Rt),un=St*(Nt[zt+5]-Rt);Ht.push([[Ot,Bt],[nn,Xt],[en,on],[An,un]]),Ot=An,Bt=un}const jt=Ut(this,pu,$A).call(this,Ht);bt.bezierPath2D.push(jt)}const Lt=Ut(Ft=bt,Ar,g1).call(Ft);return Vt(bt,Ip,Math.max(AnnotationEditor.MIN_SIZE,Lt[2]-Lt[0])),Vt(bt,Dp,Math.max(AnnotationEditor.MIN_SIZE,Lt[3]-Lt[1])),Ut(Dt=bt,Ar,f1).call(Dt,_t,Ct),bt}serialize(){if(this.isEmpty())return null;const _e=this.getRect(0,0),vt=AnnotationEditor._colorManager.convert(this.ctx.strokeStyle);return{annotationType:AnnotationEditorType.INK,color:vt,thickness:this.thickness,opacity:this.opacity,paths:Ut(this,Ar,OA).call(this,this.scaleFactor/this.parentScale,this.translationX,this.translationY,_e),pageIndex:this.pageIndex,rect:_e,rotation:this.rotation,structTreeParentId:this._structTreeParentId}}};Dp=new WeakMap,Ip=new WeakMap,Yv=new WeakMap,Zv=new WeakMap,Qv=new WeakMap,$p=new WeakMap,Tl=new WeakMap,ou=new WeakMap,$o=new WeakMap,Np=new WeakMap,Op=new WeakMap,jp=new WeakMap,Hp=new WeakMap,Bp=new WeakMap,$u=new WeakMap,Ar=new WeakSet,CA=function(_e){const vt=bt=>{this.thickness=bt,Ut(this,Ar,h0).call(this)},xt=this.thickness;this.addCommands({cmd:vt.bind(this,_e),undo:vt.bind(this,xt),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:AnnotationEditorParamsType.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0})},RA=function(_e){const vt=bt=>{this.color=bt,Ut(this,Ar,Ku).call(this)},xt=this.color;this.addCommands({cmd:vt.bind(this,_e),undo:vt.bind(this,xt),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:AnnotationEditorParamsType.INK_COLOR,overwriteIfSameType:!0,keepUndo:!0})},TA=function(_e){const vt=bt=>{this.opacity=bt,Ut(this,Ar,Ku).call(this)};_e/=100;const xt=this.opacity;this.addCommands({cmd:vt.bind(this,_e),undo:vt.bind(this,xt),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:AnnotationEditorParamsType.INK_OPACITY,overwriteIfSameType:!0,keepUndo:!0})},PA=function(){const{parentRotation:_e,parentDimensions:[vt,xt]}=this;switch(_e){case 90:return[0,xt,xt,vt];case 180:return[vt,xt,vt,xt];case 270:return[vt,0,xt,vt];default:return[0,0,vt,xt]}},u1=function(){const{ctx:_e,color:vt,opacity:xt,thickness:bt,parentScale:Et,scaleFactor:At}=this;_e.lineWidth=bt*Et/At,_e.lineCap="round",_e.lineJoin="round",_e.miterLimit=10,_e.strokeStyle=`${vt}${opacityToHex(xt)}`},kA=function(_e,vt){this.canvas.addEventListener("contextmenu",noContextMenu),this.canvas.addEventListener("pointerleave",wt(this,Zv)),this.canvas.addEventListener("pointermove",wt(this,Yv)),this.canvas.addEventListener("pointerup",wt(this,Qv)),this.canvas.removeEventListener("pointerdown",wt(this,$p)),this.isEditing=!0,wt(this,Op)||(Vt(this,Op,!0),Ut(this,Ar,em).call(this),this.thickness||(this.thickness=Is._defaultThickness),this.color||(this.color=Is._defaultColor||AnnotationEditor._defaultLineColor),this.opacity??(this.opacity=Is._defaultOpacity)),this.currentPath.push([_e,vt]),Vt(this,Np,!1),Ut(this,Ar,u1).call(this),Vt(this,$u,()=>{Ut(this,Ar,LA).call(this),wt(this,$u)&&window.requestAnimationFrame(wt(this,$u))}),window.requestAnimationFrame(wt(this,$u))},d1=function(_e,vt){const[xt,bt]=this.currentPath.at(-1);if(this.currentPath.length>1&&_e===xt&&vt===bt)return;const Et=this.currentPath;let At=wt(this,ou);if(Et.push([_e,vt]),Vt(this,Np,!0),Et.length<=2){At.moveTo(...Et[0]),At.lineTo(_e,vt);return}Et.length===3&&(Vt(this,ou,At=new Path2D),At.moveTo(...Et[0])),Ut(this,Ar,DA).call(this,At,...Et.at(-3),...Et.at(-2),_e,vt)},MA=function(){if(this.currentPath.length===0)return;const _e=this.currentPath.at(-1);wt(this,ou).lineTo(..._e)},FA=function(_e,vt){Vt(this,$u,null),_e=Math.min(Math.max(_e,0),this.canvas.width),vt=Math.min(Math.max(vt,0),this.canvas.height),Ut(this,Ar,d1).call(this,_e,vt),Ut(this,Ar,MA).call(this);let xt;if(this.currentPath.length!==1)xt=Ut(this,Ar,IA).call(this);else{const Ct=[_e,vt];xt=[[Ct,Ct.slice(),Ct.slice(),Ct]]}const bt=wt(this,ou),Et=this.currentPath;this.currentPath=[],Vt(this,ou,new Path2D);const At=()=>{this.allRawPaths.push(Et),this.paths.push(xt),this.bezierPath2D.push(bt),this._uiManager.rebuild(this)},_t=()=>{this.allRawPaths.pop(),this.paths.pop(),this.bezierPath2D.pop(),this.paths.length===0?this.remove():(this.canvas||(Ut(this,Ar,Ry).call(this),Ut(this,Ar,Ty).call(this)),Ut(this,Ar,h0).call(this))};this.addCommands({cmd:At,undo:_t,mustExec:!0})},LA=function(){if(!wt(this,Np))return;Vt(this,Np,!1);const _e=Math.ceil(this.thickness*this.parentScale),vt=this.currentPath.slice(-3),xt=vt.map(At=>At[0]),bt=vt.map(At=>At[1]);Math.min(...xt)-_e,Math.max(...xt)+_e,Math.min(...bt)-_e,Math.max(...bt)+_e;const{ctx:Et}=this;Et.save(),Et.clearRect(0,0,this.canvas.width,this.canvas.height);for(const At of this.bezierPath2D)Et.stroke(At);Et.stroke(wt(this,ou)),Et.restore()},DA=function(_e,vt,xt,bt,Et,At,_t){const Ct=(vt+bt)/2,St=(xt+Et)/2,Rt=(bt+At)/2,Pt=(Et+_t)/2;_e.bezierCurveTo(Ct+2*(bt-Ct)/3,St+2*(Et-St)/3,Rt+2*(bt-Rt)/3,Pt+2*(Et-Pt)/3,Rt,Pt)},IA=function(){const _e=this.currentPath;if(_e.length<=2)return[[_e[0],_e[0],_e.at(-1),_e.at(-1)]];const vt=[];let xt,[bt,Et]=_e[0];for(xt=1;xt<_e.length-2;xt++){const[kt,Mt]=_e[xt],[Lt,$t]=_e[xt+1],Ft=(kt+Lt)/2,Dt=(Mt+$t)/2,Nt=[bt+2*(kt-bt)/3,Et+2*(Mt-Et)/3],Ht=[Ft+2*(kt-Ft)/3,Dt+2*(Mt-Dt)/3];vt.push([[bt,Et],Nt,Ht,[Ft,Dt]]),[bt,Et]=[Ft,Dt]}const[At,_t]=_e[xt],[Ct,St]=_e[xt+1],Rt=[bt+2*(At-bt)/3,Et+2*(_t-Et)/3],Pt=[Ct+2*(At-Ct)/3,St+2*(_t-St)/3];return vt.push([[bt,Et],Rt,Pt,[Ct,St]]),vt},Ku=function(){if(this.isEmpty()){Ut(this,Ar,Py).call(this);return}Ut(this,Ar,u1).call(this);const{canvas:_e,ctx:vt}=this;vt.setTransform(1,0,0,1,0,0),vt.clearRect(0,0,_e.width,_e.height),Ut(this,Ar,Py).call(this);for(const xt of this.bezierPath2D)vt.stroke(xt)},h1=function(_e){this.canvas.removeEventListener("pointerleave",wt(this,Zv)),this.canvas.removeEventListener("pointermove",wt(this,Yv)),this.canvas.removeEventListener("pointerup",wt(this,Qv)),this.canvas.addEventListener("pointerdown",wt(this,$p)),wt(this,Tl)&&clearTimeout(wt(this,Tl)),Vt(this,Tl,setTimeout(()=>{Vt(this,Tl,null),this.canvas.removeEventListener("contextmenu",noContextMenu)},10)),Ut(this,Ar,FA).call(this,_e.offsetX,_e.offsetY),this.addToAnnotationStorage(),this.setInBackground()},Ry=function(){this.canvas=document.createElement("canvas"),this.canvas.width=this.canvas.height=0,this.canvas.className="inkEditorCanvas",this.canvas.setAttribute("data-l10n-id","pdfjs-ink-canvas"),this.div.append(this.canvas),this.ctx=this.canvas.getContext("2d")},Ty=function(){Vt(this,jp,new ResizeObserver(_e=>{const vt=_e[0].contentRect;vt.width&&vt.height&&this.setDimensions(vt.width,vt.height)})),wt(this,jp).observe(this.div)},em=function(){if(!wt(this,Op))return;const[_e,vt]=this.parentDimensions;this.canvas.width=Math.ceil(this.width*_e),this.canvas.height=Math.ceil(this.height*vt),Ut(this,Ar,Py).call(this)},f1=function(_e,vt){const xt=Ut(this,Ar,ky).call(this),bt=(_e-xt)/wt(this,Ip),Et=(vt-xt)/wt(this,Dp);this.scaleFactor=Math.min(bt,Et)},Py=function(){const _e=Ut(this,Ar,ky).call(this)/2;this.ctx.setTransform(this.scaleFactor,0,0,this.scaleFactor,this.translationX*this.scaleFactor+_e,this.translationY*this.scaleFactor+_e)},pu=new WeakSet,$A=function(_e){const vt=new Path2D;for(let xt=0,bt=_e.length;xt<bt;xt++){const[Et,At,_t,Ct]=_e[xt];xt===0&&vt.moveTo(...Et),vt.bezierCurveTo(At[0],At[1],_t[0],_t[1],Ct[0],Ct[1])}return vt},p1=function(_e,vt,xt){const[bt,Et,At,_t]=vt;switch(xt){case 0:for(let Ct=0,St=_e.length;Ct<St;Ct+=2)_e[Ct]+=bt,_e[Ct+1]=_t-_e[Ct+1];break;case 90:for(let Ct=0,St=_e.length;Ct<St;Ct+=2){const Rt=_e[Ct];_e[Ct]=_e[Ct+1]+bt,_e[Ct+1]=Rt+Et}break;case 180:for(let Ct=0,St=_e.length;Ct<St;Ct+=2)_e[Ct]=At-_e[Ct],_e[Ct+1]+=Et;break;case 270:for(let Ct=0,St=_e.length;Ct<St;Ct+=2){const Rt=_e[Ct];_e[Ct]=At-_e[Ct+1],_e[Ct+1]=_t-Rt}break;default:throw new Error("Invalid rotation")}return _e},NA=function(_e,vt,xt){const[bt,Et,At,_t]=vt;switch(xt){case 0:for(let Ct=0,St=_e.length;Ct<St;Ct+=2)_e[Ct]-=bt,_e[Ct+1]=_t-_e[Ct+1];break;case 90:for(let Ct=0,St=_e.length;Ct<St;Ct+=2){const Rt=_e[Ct];_e[Ct]=_e[Ct+1]-Et,_e[Ct+1]=Rt-bt}break;case 180:for(let Ct=0,St=_e.length;Ct<St;Ct+=2)_e[Ct]=At-_e[Ct],_e[Ct+1]-=Et;break;case 270:for(let Ct=0,St=_e.length;Ct<St;Ct+=2){const Rt=_e[Ct];_e[Ct]=_t-_e[Ct+1],_e[Ct+1]=At-Rt}break;default:throw new Error("Invalid rotation")}return _e},OA=function(_e,vt,xt,bt){var St,Rt;const Et=[],At=this.thickness/2,_t=_e*vt+At,Ct=_e*xt+At;for(const Pt of this.paths){const kt=[],Mt=[];for(let Lt=0,$t=Pt.length;Lt<$t;Lt++){const[Ft,Dt,Nt,Ht]=Pt[Lt];if(Ft[0]===Ht[0]&&Ft[1]===Ht[1]&&$t===1){const on=_e*Ft[0]+_t,An=_e*Ft[1]+Ct;kt.push(on,An),Mt.push(on,An);break}const Ot=_e*Ft[0]+_t,Bt=_e*Ft[1]+Ct,jt=_e*Dt[0]+_t,zt=_e*Dt[1]+Ct,Kt=_e*Nt[0]+_t,nn=_e*Nt[1]+Ct,Xt=_e*Ht[0]+_t,en=_e*Ht[1]+Ct;Lt===0&&(kt.push(Ot,Bt),Mt.push(Ot,Bt)),kt.push(jt,zt,Kt,nn,Xt,en),Mt.push(jt,zt),Lt===$t-1&&Mt.push(Xt,en)}Et.push({bezier:Ut(St=Is,pu,p1).call(St,kt,bt,this.rotation),points:Ut(Rt=Is,pu,p1).call(Rt,Mt,bt,this.rotation)})}return Et},g1=function(){let _e=1/0,vt=-1/0,xt=1/0,bt=-1/0;for(const Et of this.paths)for(const[At,_t,Ct,St]of Et){const Rt=Util.bezierBoundingBox(...At,..._t,...Ct,...St);_e=Math.min(_e,Rt[0]),xt=Math.min(xt,Rt[1]),vt=Math.max(vt,Rt[2]),bt=Math.max(bt,Rt[3])}return[_e,xt,vt,bt]},ky=function(){return wt(this,$o)?Math.ceil(this.thickness*this.parentScale):0},h0=function(_e=!1){if(this.isEmpty())return;if(!wt(this,$o)){Ut(this,Ar,Ku).call(this);return}const vt=Ut(this,Ar,g1).call(this),xt=Ut(this,Ar,ky).call(this);Vt(this,Ip,Math.max(AnnotationEditor.MIN_SIZE,vt[2]-vt[0])),Vt(this,Dp,Math.max(AnnotationEditor.MIN_SIZE,vt[3]-vt[1]));const bt=Math.ceil(xt+wt(this,Ip)*this.scaleFactor),Et=Math.ceil(xt+wt(this,Dp)*this.scaleFactor),[At,_t]=this.parentDimensions;this.width=bt/At,this.height=Et/_t,this.setAspectRatio(bt,Et);const Ct=this.translationX,St=this.translationY;this.translationX=-vt[0],this.translationY=-vt[1],Ut(this,Ar,em).call(this),Ut(this,Ar,Ku).call(this),Vt(this,Hp,bt),Vt(this,Bp,Et),this.setDims(bt,Et);const Rt=_e?xt/this.scaleFactor/2:0;this.translate(Ct-this.translationX-Rt,St-this.translationY-Rt)},Gt(Is,pu),_r(Is,"_defaultColor",null),_r(Is,"_defaultOpacity",1),_r(Is,"_defaultThickness",1),_r(Is,"_type","ink"),_r(Is,"_editorType",AnnotationEditorType.INK);let InkEditor=Is;var oo,ao,Nu,au,Ou,Ym,Pl,Up,Ml,Jo,Jv,gs,f0,p0,My,m1,jA,HA,v1,Fy,BA;const A0=class A0 extends AnnotationEditor{constructor(_e){super({..._e,name:"stampEditor"});Gt(this,gs);Gt(this,oo,null);Gt(this,ao,null);Gt(this,Nu,null);Gt(this,au,null);Gt(this,Ou,null);Gt(this,Ym,"");Gt(this,Pl,null);Gt(this,Up,null);Gt(this,Ml,null);Gt(this,Jo,!1);Gt(this,Jv,!1);Vt(this,au,_e.bitmapUrl),Vt(this,Ou,_e.bitmapFile)}static initialize(_e,vt){AnnotationEditor.initialize(_e,vt)}static get supportedTypes(){return shadow(this,"supportedTypes",["apng","avif","bmp","gif","jpeg","png","svg+xml","webp","x-icon"].map(vt=>`image/${vt}`))}static get supportedTypesStr(){return shadow(this,"supportedTypesStr",this.supportedTypes.join(","))}static isHandlingMimeForPasting(_e){return this.supportedTypes.includes(_e)}static paste(_e,vt){vt.pasteEditor(AnnotationEditorType.STAMP,{bitmapFile:_e.getAsFile()})}remove(){var _e,vt;wt(this,ao)&&(Vt(this,oo,null),this._uiManager.imageManager.deleteId(wt(this,ao)),(_e=wt(this,Pl))==null||_e.remove(),Vt(this,Pl,null),(vt=wt(this,Up))==null||vt.disconnect(),Vt(this,Up,null),wt(this,Ml)&&(clearTimeout(wt(this,Ml)),Vt(this,Ml,null))),super.remove()}rebuild(){if(!this.parent){wt(this,ao)&&Ut(this,gs,My).call(this);return}super.rebuild(),this.div!==null&&(wt(this,ao)&&wt(this,Pl)===null&&Ut(this,gs,My).call(this),this.isAttachedToDOM||this.parent.add(this))}onceAdded(){this._isDraggable=!0,this.div.focus()}isEmpty(){return!(wt(this,Nu)||wt(this,oo)||wt(this,au)||wt(this,Ou)||wt(this,ao))}get isResizable(){return!0}render(){if(this.div)return this.div;let _e,vt;if(this.width&&(_e=this.x,vt=this.y),super.render(),this.div.hidden=!0,this.addAltTextButton(),wt(this,oo)?Ut(this,gs,m1).call(this):Ut(this,gs,My).call(this),this.width){const[xt,bt]=this.parentDimensions;this.setAt(_e*xt,vt*bt,this.width*xt,this.height*bt)}return this.div}getImageForAltText(){return wt(this,Pl)}static deserialize(_e,vt,xt){if(_e instanceof StampAnnotationElement)return null;const bt=super.deserialize(_e,vt,xt),{rect:Et,bitmapUrl:At,bitmapId:_t,isSvg:Ct,accessibilityData:St}=_e;_t&&xt.imageManager.isValidId(_t)?Vt(bt,ao,_t):Vt(bt,au,At),Vt(bt,Jo,Ct);const[Rt,Pt]=bt.pageDimensions;return bt.width=(Et[2]-Et[0])/Rt,bt.height=(Et[3]-Et[1])/Pt,St&&(bt.altTextData=St),bt}serialize(_e=!1,vt=null){if(this.isEmpty())return null;const xt={annotationType:AnnotationEditorType.STAMP,bitmapId:wt(this,ao),pageIndex:this.pageIndex,rect:this.getRect(0,0),rotation:this.rotation,isSvg:wt(this,Jo),structTreeParentId:this._structTreeParentId};if(_e)return xt.bitmapUrl=Ut(this,gs,Fy).call(this,!0),xt.accessibilityData=this.altTextData,xt;const{decorative:bt,altText:Et}=this.altTextData;if(!bt&&Et&&(xt.accessibilityData={type:"Figure",alt:Et}),vt===null)return xt;vt.stamps||(vt.stamps=new Map);const At=wt(this,Jo)?(xt.rect[2]-xt.rect[0])*(xt.rect[3]-xt.rect[1]):null;if(!vt.stamps.has(wt(this,ao)))vt.stamps.set(wt(this,ao),{area:At,serialized:xt}),xt.bitmap=Ut(this,gs,Fy).call(this,!1);else if(wt(this,Jo)){const _t=vt.stamps.get(wt(this,ao));At>_t.area&&(_t.area=At,_t.serialized.bitmap.close(),_t.serialized.bitmap=Ut(this,gs,Fy).call(this,!1))}return xt}};oo=new WeakMap,ao=new WeakMap,Nu=new WeakMap,au=new WeakMap,Ou=new WeakMap,Ym=new WeakMap,Pl=new WeakMap,Up=new WeakMap,Ml=new WeakMap,Jo=new WeakMap,Jv=new WeakMap,gs=new WeakSet,f0=function(_e,vt=!1){if(!_e){this.remove();return}Vt(this,oo,_e.bitmap),vt||(Vt(this,ao,_e.id),Vt(this,Jo,_e.isSvg)),_e.file&&Vt(this,Ym,_e.file.name),Ut(this,gs,m1).call(this)},p0=function(){Vt(this,Nu,null),this._uiManager.enableWaiting(!1),wt(this,Pl)&&this.div.focus()},My=function(){if(wt(this,ao)){this._uiManager.enableWaiting(!0),this._uiManager.imageManager.getFromId(wt(this,ao)).then(vt=>Ut(this,gs,f0).call(this,vt,!0)).finally(()=>Ut(this,gs,p0).call(this));return}if(wt(this,au)){const vt=wt(this,au);Vt(this,au,null),this._uiManager.enableWaiting(!0),Vt(this,Nu,this._uiManager.imageManager.getFromUrl(vt).then(xt=>Ut(this,gs,f0).call(this,xt)).finally(()=>Ut(this,gs,p0).call(this)));return}if(wt(this,Ou)){const vt=wt(this,Ou);Vt(this,Ou,null),this._uiManager.enableWaiting(!0),Vt(this,Nu,this._uiManager.imageManager.getFromFile(vt).then(xt=>Ut(this,gs,f0).call(this,xt)).finally(()=>Ut(this,gs,p0).call(this)));return}const _e=document.createElement("input");_e.type="file",_e.accept=A0.supportedTypesStr,Vt(this,Nu,new Promise(vt=>{_e.addEventListener("change",async()=>{if(!_e.files||_e.files.length===0)this.remove();else{this._uiManager.enableWaiting(!0);const xt=await this._uiManager.imageManager.getFromFile(_e.files[0]);Ut(this,gs,f0).call(this,xt)}vt()}),_e.addEventListener("cancel",()=>{this.remove(),vt()})}).finally(()=>Ut(this,gs,p0).call(this))),_e.click()},m1=function(){const{div:_e}=this;let{width:vt,height:xt}=wt(this,oo);const[bt,Et]=this.pageDimensions,At=.75;if(this.width)vt=this.width*bt,xt=this.height*Et;else if(vt>At*bt||xt>At*Et){const Rt=Math.min(At*bt/vt,At*Et/xt);vt*=Rt,xt*=Rt}const[_t,Ct]=this.parentDimensions;this.setDims(vt*_t/bt,xt*Ct/Et),this._uiManager.enableWaiting(!1);const St=Vt(this,Pl,document.createElement("canvas"));_e.append(St),_e.hidden=!1,Ut(this,gs,v1).call(this,vt,xt),Ut(this,gs,BA).call(this),wt(this,Jv)||(this.parent.addUndoableEditor(this),Vt(this,Jv,!0)),this._reportTelemetry({action:"inserted_image"}),wt(this,Ym)&&St.setAttribute("aria-label",wt(this,Ym))},jA=function(_e,vt){var At;const[xt,bt]=this.parentDimensions;this.width=_e/xt,this.height=vt/bt,this.setDims(_e,vt),(At=this._initialOptions)!=null&&At.isCentered?this.center():this.fixAndSetPosition(),this._initialOptions=null,wt(this,Ml)!==null&&clearTimeout(wt(this,Ml)),Vt(this,Ml,setTimeout(()=>{Vt(this,Ml,null),Ut(this,gs,v1).call(this,_e,vt)},200))},HA=function(_e,vt){const{width:xt,height:bt}=wt(this,oo);let Et=xt,At=bt,_t=wt(this,oo);for(;Et>2*_e||At>2*vt;){const Ct=Et,St=At;Et>2*_e&&(Et=Et>=16384?Math.floor(Et/2)-1:Math.ceil(Et/2)),At>2*vt&&(At=At>=16384?Math.floor(At/2)-1:Math.ceil(At/2));const Rt=new OffscreenCanvas(Et,At);Rt.getContext("2d").drawImage(_t,0,0,Ct,St,0,0,Et,At),_t=Rt.transferToImageBitmap()}return _t},v1=function(_e,vt){_e=Math.ceil(_e),vt=Math.ceil(vt);const xt=wt(this,Pl);if(!xt||xt.width===_e&&xt.height===vt)return;xt.width=_e,xt.height=vt;const bt=wt(this,Jo)?wt(this,oo):Ut(this,gs,HA).call(this,_e,vt);if(this._uiManager.hasMLManager&&!this.hasAltText()){const _t=new OffscreenCanvas(_e,vt).getContext("2d");_t.drawImage(bt,0,0,bt.width,bt.height,0,0,_e,vt),this._uiManager.mlGuess({service:"image-to-text",request:{data:_t.getImageData(0,0,_e,vt).data,width:_e,height:vt,channels:4}}).then(Ct=>{const St=(Ct==null?void 0:Ct.output)||"";this.parent&&St&&!this.hasAltText()&&(this.altTextData={altText:St,decorative:!1})})}const Et=xt.getContext("2d");Et.filter=this._uiManager.hcmFilter,Et.drawImage(bt,0,0,bt.width,bt.height,0,0,_e,vt)},Fy=function(_e){if(_e){if(wt(this,Jo)){const bt=this._uiManager.imageManager.getSvgUrl(wt(this,ao));if(bt)return bt}const vt=document.createElement("canvas");return{width:vt.width,height:vt.height}=wt(this,oo),vt.getContext("2d").drawImage(wt(this,oo),0,0),vt.toDataURL()}if(wt(this,Jo)){const[vt,xt]=this.pageDimensions,bt=Math.round(this.width*vt*PixelsPerInch.PDF_TO_CSS_UNITS),Et=Math.round(this.height*xt*PixelsPerInch.PDF_TO_CSS_UNITS),At=new OffscreenCanvas(bt,Et);return At.getContext("2d").drawImage(wt(this,oo),0,0,wt(this,oo).width,wt(this,oo).height,0,0,bt,Et),At.transferToImageBitmap()}return structuredClone(wt(this,oo))},BA=function(){Vt(this,Up,new ResizeObserver(_e=>{const vt=_e[0].contentRect;vt.width&&vt.height&&Ut(this,gs,jA).call(this,vt.width,vt.height)})),wt(this,Up).observe(this.div)},_r(A0,"_type","stamp"),_r(A0,"_editorType",AnnotationEditorType.STAMP);let StampEditor=A0;var zp,Zm,Fl,Vp,lu,cu,uu,ko,ju,Qm,Jm,go,Xr,Hu,lo,UA,y1,x1,b1,Ly;const Uo=class Uo{constructor({uiManager:$,pageIndex:_e,div:vt,accessibilityManager:xt,annotationLayer:bt,drawLayer:Et,textLayer:At,viewport:_t,l10n:Ct}){Gt(this,lo);Gt(this,zp);Gt(this,Zm,!1);Gt(this,Fl,null);Gt(this,Vp,null);Gt(this,lu,null);Gt(this,cu,null);Gt(this,uu,null);Gt(this,ko,new Map);Gt(this,ju,!1);Gt(this,Qm,!1);Gt(this,Jm,!1);Gt(this,go,null);Gt(this,Xr);const St=[...wt(Uo,Hu).values()];if(!Uo._initialized){Uo._initialized=!0;for(const Rt of St)Rt.initialize(Ct,$)}$.registerEditorTypes(St),Vt(this,Xr,$),this.pageIndex=_e,this.div=vt,Vt(this,zp,xt),Vt(this,Fl,bt),this.viewport=_t,Vt(this,go,At),this.drawLayer=Et,wt(this,Xr).addLayer(this)}get isEmpty(){return wt(this,ko).size===0}get isInvisible(){return this.isEmpty&&wt(this,Xr).getMode()===AnnotationEditorType.NONE}updateToolbar($){wt(this,Xr).updateToolbar($)}updateMode($=wt(this,Xr).getMode()){switch(Ut(this,lo,Ly).call(this),$){case AnnotationEditorType.NONE:this.disableTextSelection(),this.togglePointerEvents(!1),this.toggleAnnotationLayerPointerEvents(!0),this.disableClick();return;case AnnotationEditorType.INK:this.addInkEditorIfNeeded(!1),this.disableTextSelection(),this.togglePointerEvents(!0),this.disableClick();break;case AnnotationEditorType.HIGHLIGHT:this.enableTextSelection(),this.togglePointerEvents(!1),this.disableClick();break;default:this.disableTextSelection(),this.togglePointerEvents(!0),this.enableClick()}this.toggleAnnotationLayerPointerEvents(!1);const{classList:_e}=this.div;for(const vt of wt(Uo,Hu).values())_e.toggle(`${vt._type}Editing`,$===vt._editorType);this.div.hidden=!1}hasTextLayer($){var _e;return $===((_e=wt(this,go))==null?void 0:_e.div)}addInkEditorIfNeeded($){if(wt(this,Xr).getMode()!==AnnotationEditorType.INK)return;if(!$){for(const vt of wt(this,ko).values())if(vt.isEmpty()){vt.setInBackground();return}}this.createAndAddNewEditor({offsetX:0,offsetY:0},!1).setInBackground()}setEditingState($){wt(this,Xr).setEditingState($)}addCommands($){wt(this,Xr).addCommands($)}togglePointerEvents($=!1){this.div.classList.toggle("disabled",!$)}toggleAnnotationLayerPointerEvents($=!1){var _e;(_e=wt(this,Fl))==null||_e.div.classList.toggle("disabled",!$)}enable(){this.div.tabIndex=0,this.togglePointerEvents(!0);const $=new Set;for(const vt of wt(this,ko).values())vt.enableEditing(),vt.show(!0),vt.annotationElementId&&(wt(this,Xr).removeChangedExistingAnnotation(vt),$.add(vt.annotationElementId));if(!wt(this,Fl))return;const _e=wt(this,Fl).getEditableAnnotations();for(const vt of _e){if(vt.hide(),wt(this,Xr).isDeletedAnnotationElement(vt.data.id)||$.has(vt.data.id))continue;const xt=this.deserialize(vt);xt&&(this.addOrRebuild(xt),xt.enableEditing())}}disable(){var xt;Vt(this,Jm,!0),this.div.tabIndex=-1,this.togglePointerEvents(!1);const $=new Map,_e=new Map;for(const bt of wt(this,ko).values())if(bt.disableEditing(),!!bt.annotationElementId){if(bt.serialize()!==null){$.set(bt.annotationElementId,bt);continue}else _e.set(bt.annotationElementId,bt);(xt=this.getEditableAnnotation(bt.annotationElementId))==null||xt.show(),bt.remove()}if(wt(this,Fl)){const bt=wt(this,Fl).getEditableAnnotations();for(const Et of bt){const{id:At}=Et.data;if(wt(this,Xr).isDeletedAnnotationElement(At))continue;let _t=_e.get(At);if(_t){_t.resetAnnotationElement(Et),_t.show(!1),Et.show();continue}_t=$.get(At),_t&&(wt(this,Xr).addChangedExistingAnnotation(_t),_t.renderAnnotationElement(Et),_t.show(!1)),Et.show()}}Ut(this,lo,Ly).call(this),this.isEmpty&&(this.div.hidden=!0);const{classList:vt}=this.div;for(const bt of wt(Uo,Hu).values())vt.remove(`${bt._type}Editing`);this.disableTextSelection(),this.toggleAnnotationLayerPointerEvents(!0),Vt(this,Jm,!1)}getEditableAnnotation($){var _e;return((_e=wt(this,Fl))==null?void 0:_e.getEditableAnnotation($))||null}setActiveEditor($){wt(this,Xr).getActive()!==$&&wt(this,Xr).setActiveEditor($)}enableTextSelection(){var $;this.div.tabIndex=-1,($=wt(this,go))!=null&&$.div&&!wt(this,cu)&&(Vt(this,cu,Ut(this,lo,UA).bind(this)),wt(this,go).div.addEventListener("pointerdown",wt(this,cu)),wt(this,go).div.classList.add("highlighting"))}disableTextSelection(){var $;this.div.tabIndex=0,($=wt(this,go))!=null&&$.div&&wt(this,cu)&&(wt(this,go).div.removeEventListener("pointerdown",wt(this,cu)),Vt(this,cu,null),wt(this,go).div.classList.remove("highlighting"))}enableClick(){wt(this,lu)||(Vt(this,lu,this.pointerdown.bind(this)),Vt(this,Vp,this.pointerup.bind(this)),this.div.addEventListener("pointerdown",wt(this,lu)),this.div.addEventListener("pointerup",wt(this,Vp)))}disableClick(){wt(this,lu)&&(this.div.removeEventListener("pointerdown",wt(this,lu)),this.div.removeEventListener("pointerup",wt(this,Vp)),Vt(this,lu,null),Vt(this,Vp,null))}attach($){wt(this,ko).set($.id,$);const{annotationElementId:_e}=$;_e&&wt(this,Xr).isDeletedAnnotationElement(_e)&&wt(this,Xr).removeDeletedAnnotationElement($)}detach($){var _e;wt(this,ko).delete($.id),(_e=wt(this,zp))==null||_e.removePointerInTextLayer($.contentDiv),!wt(this,Jm)&&$.annotationElementId&&wt(this,Xr).addDeletedAnnotationElement($)}remove($){this.detach($),wt(this,Xr).removeEditor($),$.div.remove(),$.isAttachedToDOM=!1,wt(this,Qm)||this.addInkEditorIfNeeded(!1)}changeParent($){var _e;$.parent!==this&&($.parent&&$.annotationElementId&&(wt(this,Xr).addDeletedAnnotationElement($.annotationElementId),AnnotationEditor.deleteAnnotationElement($),$.annotationElementId=null),this.attach($),(_e=$.parent)==null||_e.detach($),$.setParent(this),$.div&&$.isAttachedToDOM&&($.div.remove(),this.div.append($.div)))}add($){if(!($.parent===this&&$.isAttachedToDOM)){if(this.changeParent($),wt(this,Xr).addEditor($),this.attach($),!$.isAttachedToDOM){const _e=$.render();this.div.append(_e),$.isAttachedToDOM=!0}$.fixAndSetPosition(),$.onceAdded(),wt(this,Xr).addToAnnotationStorage($),$._reportTelemetry($.telemetryInitialData)}}moveEditorInDOM($){var vt;if(!$.isAttachedToDOM)return;const{activeElement:_e}=document;$.div.contains(_e)&&!wt(this,uu)&&($._focusEventsAllowed=!1,Vt(this,uu,setTimeout(()=>{Vt(this,uu,null),$.div.contains(document.activeElement)?$._focusEventsAllowed=!0:($.div.addEventListener("focusin",()=>{$._focusEventsAllowed=!0},{once:!0}),_e.focus())},0))),$._structTreeParentId=(vt=wt(this,zp))==null?void 0:vt.moveElementInDOM(this.div,$.div,$.contentDiv,!0)}addOrRebuild($){$.needsToBeRebuilt()?($.parent||($.parent=this),$.rebuild(),$.show()):this.add($)}addUndoableEditor($){const _e=()=>$._uiManager.rebuild($),vt=()=>{$.remove()};this.addCommands({cmd:_e,undo:vt,mustExec:!1})}getNextId(){return wt(this,Xr).getId()}canCreateNewEmptyEditor(){var $;return($=wt(this,lo,y1))==null?void 0:$.canCreateNewEmptyEditor()}pasteEditor($,_e){wt(this,Xr).updateToolbar($),wt(this,Xr).updateMode($);const{offsetX:vt,offsetY:xt}=Ut(this,lo,b1).call(this),bt=this.getNextId(),Et=Ut(this,lo,x1).call(this,{parent:this,id:bt,x:vt,y:xt,uiManager:wt(this,Xr),isCentered:!0,..._e});Et&&this.add(Et)}deserialize($){var _e;return((_e=wt(Uo,Hu).get($.annotationType??$.annotationEditorType))==null?void 0:_e.deserialize($,this,wt(this,Xr)))||null}createAndAddNewEditor($,_e,vt={}){const xt=this.getNextId(),bt=Ut(this,lo,x1).call(this,{parent:this,id:xt,x:$.offsetX,y:$.offsetY,uiManager:wt(this,Xr),isCentered:_e,...vt});return bt&&this.add(bt),bt}addNewEditor(){this.createAndAddNewEditor(Ut(this,lo,b1).call(this),!0)}setSelected($){wt(this,Xr).setSelected($)}toggleSelected($){wt(this,Xr).toggleSelected($)}isSelected($){return wt(this,Xr).isSelected($)}unselect($){wt(this,Xr).unselect($)}pointerup($){const{isMac:_e}=util_FeatureTest.platform;if(!($.button!==0||$.ctrlKey&&_e)&&$.target===this.div&&wt(this,ju)){if(Vt(this,ju,!1),!wt(this,Zm)){Vt(this,Zm,!0);return}if(wt(this,Xr).getMode()===AnnotationEditorType.STAMP){wt(this,Xr).unselectAll();return}this.createAndAddNewEditor($,!1)}}pointerdown($){if(wt(this,Xr).getMode()===AnnotationEditorType.HIGHLIGHT&&this.enableTextSelection(),wt(this,ju)){Vt(this,ju,!1);return}const{isMac:_e}=util_FeatureTest.platform;if($.button!==0||$.ctrlKey&&_e||$.target!==this.div)return;Vt(this,ju,!0);const vt=wt(this,Xr).getActive();Vt(this,Zm,!vt||vt.isEmpty())}findNewParent($,_e,vt){const xt=wt(this,Xr).findParent(_e,vt);return xt===null||xt===this?!1:(xt.changeParent($),!0)}destroy(){var $,_e;(($=wt(this,Xr).getActive())==null?void 0:$.parent)===this&&(wt(this,Xr).commitOrRemove(),wt(this,Xr).setActiveEditor(null)),wt(this,uu)&&(clearTimeout(wt(this,uu)),Vt(this,uu,null));for(const vt of wt(this,ko).values())(_e=wt(this,zp))==null||_e.removePointerInTextLayer(vt.contentDiv),vt.setParent(null),vt.isAttachedToDOM=!1,vt.div.remove();this.div=null,wt(this,ko).clear(),wt(this,Xr).removeLayer(this)}render({viewport:$}){this.viewport=$,setLayerDimensions(this.div,$);for(const _e of wt(this,Xr).getEditors(this.pageIndex))this.add(_e),_e.rebuild();this.updateMode()}update({viewport:$}){wt(this,Xr).commitOrRemove(),Ut(this,lo,Ly).call(this);const _e=this.viewport.rotation,vt=$.rotation;if(this.viewport=$,setLayerDimensions(this.div,{rotation:vt}),_e!==vt)for(const xt of wt(this,ko).values())xt.rotate(vt);this.addInkEditorIfNeeded(!1)}get pageDimensions(){const{pageWidth:$,pageHeight:_e}=this.viewport.rawDims;return[$,_e]}get scale(){return wt(this,Xr).viewParameters.realScale}};zp=new WeakMap,Zm=new WeakMap,Fl=new WeakMap,Vp=new WeakMap,lu=new WeakMap,cu=new WeakMap,uu=new WeakMap,ko=new WeakMap,ju=new WeakMap,Qm=new WeakMap,Jm=new WeakMap,go=new WeakMap,Xr=new WeakMap,Hu=new WeakMap,lo=new WeakSet,UA=function($){if(wt(this,Xr).unselectAll(),$.target===wt(this,go).div){const{isMac:_e}=util_FeatureTest.platform;if($.button!==0||$.ctrlKey&&_e)return;wt(this,Xr).showAllEditors("highlight",!0,!0),wt(this,go).div.classList.add("free"),HighlightEditor.startHighlighting(this,wt(this,Xr).direction==="ltr",$),wt(this,go).div.addEventListener("pointerup",()=>{wt(this,go).div.classList.remove("free")},{once:!0}),$.preventDefault()}},y1=function(){return wt(Uo,Hu).get(wt(this,Xr).getMode())},x1=function($){const _e=wt(this,lo,y1);return _e?new _e.prototype.constructor($):null},b1=function(){const{x:$,y:_e,width:vt,height:xt}=this.div.getBoundingClientRect(),bt=Math.max(0,$),Et=Math.max(0,_e),At=Math.min(window.innerWidth,$+vt),_t=Math.min(window.innerHeight,_e+xt),Ct=(bt+At)/2-$,St=(Et+_t)/2-_e,[Rt,Pt]=this.viewport.rotation%180===0?[Ct,St]:[St,Ct];return{offsetX:Rt,offsetY:Pt}},Ly=function(){Vt(this,Qm,!0);for(const $ of wt(this,ko).values())$.isEmpty()&&$.remove();Vt(this,Qm,!1)},_r(Uo,"_initialized",!1),Gt(Uo,Hu,new Map([FreeTextEditor,InkEditor,StampEditor,HighlightEditor].map($=>[$._editorType,$])));let AnnotationEditorLayer=Uo;var Ll,ey,qs,Bu,ty,E1,Gp,A1,zA;const to=class to{constructor({pageIndex:$}){Gt(this,Gp);Gt(this,Ll,null);Gt(this,ey,0);Gt(this,qs,new Map);Gt(this,Bu,new Map);this.pageIndex=$}setParent($){if(!wt(this,Ll)){Vt(this,Ll,$);return}if(wt(this,Ll)!==$){if(wt(this,qs).size>0)for(const _e of wt(this,qs).values())_e.remove(),$.append(_e);Vt(this,Ll,$)}}static get _svgFactory(){return shadow(this,"_svgFactory",new DOMSVGFactory)}highlight($,_e,vt,xt=!1){const bt=eo(this,ey)._++,Et=Ut(this,Gp,A1).call(this,$.box);Et.classList.add("highlight"),$.free&&Et.classList.add("free");const At=to._svgFactory.createElement("defs");Et.append(At);const _t=to._svgFactory.createElement("path");At.append(_t);const Ct=`path_p${this.pageIndex}_${bt}`;_t.setAttribute("id",Ct),_t.setAttribute("d",$.toSVGPath()),xt&&wt(this,Bu).set(bt,_t);const St=Ut(this,Gp,zA).call(this,At,Ct),Rt=to._svgFactory.createElement("use");return Et.append(Rt),Et.setAttribute("fill",_e),Et.setAttribute("fill-opacity",vt),Rt.setAttribute("href",`#${Ct}`),wt(this,qs).set(bt,Et),{id:bt,clipPathId:`url(#${St})`}}highlightOutline($){const _e=eo(this,ey)._++,vt=Ut(this,Gp,A1).call(this,$.box);vt.classList.add("highlightOutline");const xt=to._svgFactory.createElement("defs");vt.append(xt);const bt=to._svgFactory.createElement("path");xt.append(bt);const Et=`path_p${this.pageIndex}_${_e}`;bt.setAttribute("id",Et),bt.setAttribute("d",$.toSVGPath()),bt.setAttribute("vector-effect","non-scaling-stroke");let At;if($.free){vt.classList.add("free");const St=to._svgFactory.createElement("mask");xt.append(St),At=`mask_p${this.pageIndex}_${_e}`,St.setAttribute("id",At),St.setAttribute("maskUnits","objectBoundingBox");const Rt=to._svgFactory.createElement("rect");St.append(Rt),Rt.setAttribute("width","1"),Rt.setAttribute("height","1"),Rt.setAttribute("fill","white");const Pt=to._svgFactory.createElement("use");St.append(Pt),Pt.setAttribute("href",`#${Et}`),Pt.setAttribute("stroke","none"),Pt.setAttribute("fill","black"),Pt.setAttribute("fill-rule","nonzero"),Pt.classList.add("mask")}const _t=to._svgFactory.createElement("use");vt.append(_t),_t.setAttribute("href",`#${Et}`),At&&_t.setAttribute("mask",`url(#${At})`);const Ct=_t.cloneNode();return vt.append(Ct),_t.classList.add("mainOutline"),Ct.classList.add("secondaryOutline"),wt(this,qs).set(_e,vt),_e}finalizeLine($,_e){const vt=wt(this,Bu).get($);wt(this,Bu).delete($),this.updateBox($,_e.box),vt.setAttribute("d",_e.toSVGPath())}updateLine($,_e){wt(this,qs).get($).firstChild.firstChild.setAttribute("d",_e.toSVGPath())}removeFreeHighlight($){this.remove($),wt(this,Bu).delete($)}updatePath($,_e){wt(this,Bu).get($).setAttribute("d",_e.toSVGPath())}updateBox($,_e){var vt;Ut(vt=to,ty,E1).call(vt,wt(this,qs).get($),_e)}show($,_e){wt(this,qs).get($).classList.toggle("hidden",!_e)}rotate($,_e){wt(this,qs).get($).setAttribute("data-main-rotation",_e)}changeColor($,_e){wt(this,qs).get($).setAttribute("fill",_e)}changeOpacity($,_e){wt(this,qs).get($).setAttribute("fill-opacity",_e)}addClass($,_e){wt(this,qs).get($).classList.add(_e)}removeClass($,_e){wt(this,qs).get($).classList.remove(_e)}remove($){wt(this,Ll)!==null&&(wt(this,qs).get($).remove(),wt(this,qs).delete($))}destroy(){Vt(this,Ll,null);for(const $ of wt(this,qs).values())$.remove();wt(this,qs).clear()}};Ll=new WeakMap,ey=new WeakMap,qs=new WeakMap,Bu=new WeakMap,ty=new WeakSet,E1=function($,{x:_e=0,y:vt=0,width:xt=1,height:bt=1}={}){const{style:Et}=$;Et.top=`${100*vt}%`,Et.left=`${100*_e}%`,Et.width=`${100*xt}%`,Et.height=`${100*bt}%`},Gp=new WeakSet,A1=function($){var vt;const _e=to._svgFactory.create(1,1,!0);return wt(this,Ll).append(_e),_e.setAttribute("aria-hidden",!0),Ut(vt=to,ty,E1).call(vt,_e,$),_e},zA=function($,_e){const vt=to._svgFactory.createElement("clipPath");$.append(vt);const xt=`clip_${_e}`;vt.setAttribute("id",xt),vt.setAttribute("clipPathUnits","objectBoundingBox");const bt=to._svgFactory.createElement("use");return vt.append(bt),bt.setAttribute("href",`#${_e}`),bt.classList.add("clip"),xt},Gt(to,ty);let DrawLayer=to;__webpack_exports__.AbortException;__webpack_exports__.AnnotationEditorLayer;__webpack_exports__.AnnotationEditorParamsType;__webpack_exports__.AnnotationEditorType;__webpack_exports__.AnnotationEditorUIManager;__webpack_exports__.AnnotationLayer;__webpack_exports__.AnnotationMode;__webpack_exports__.CMapCompressionType;__webpack_exports__.ColorPicker;__webpack_exports__.DOMSVGFactory;__webpack_exports__.DrawLayer;__webpack_exports__.FeatureTest;var __webpack_exports__GlobalWorkerOptions=__webpack_exports__.GlobalWorkerOptions;__webpack_exports__.ImageKind;__webpack_exports__.InvalidPDFException;__webpack_exports__.MissingPDFException;__webpack_exports__.OPS;__webpack_exports__.Outliner;__webpack_exports__.PDFDataRangeTransport;__webpack_exports__.PDFDateString;__webpack_exports__.PDFWorker;__webpack_exports__.PasswordResponses;__webpack_exports__.PermissionFlag;__webpack_exports__.PixelsPerInch;__webpack_exports__.RenderingCancelledException;__webpack_exports__.TextLayer;__webpack_exports__.UnexpectedResponseException;__webpack_exports__.Util;__webpack_exports__.VerbosityLevel;__webpack_exports__.XfaLayer;__webpack_exports__.build;__webpack_exports__.createValidAbsoluteUrl;__webpack_exports__.fetchData;__webpack_exports__.getDocument;__webpack_exports__.getFilenameFromUrl;__webpack_exports__.getPdfFilenameFromUrl;__webpack_exports__.getXfaPageViewport;__webpack_exports__.isDataScheme;__webpack_exports__.isPdfFile;__webpack_exports__.noContextMenu;__webpack_exports__.normalizeUnicode;__webpack_exports__.renderTextLayer;__webpack_exports__.setLayerDimensions;__webpack_exports__.shadow;__webpack_exports__.updateTextLayer;__webpack_exports__.version;__webpack_exports__GlobalWorkerOptions.workerSrc=new URL("/assets/pdf.worker.min-DKQKFyKK.js",import.meta.url).toString();function Upload(){const[ht,$]=reactExports.useState(""),[_e,vt]=reactExports.useState(""),[xt,bt]=reactExports.useState(null);reactExports.useState(null);const Et=async At=>{At.preventDefault();const _t=new FormData;_t.append("title",ht),_t.append("file",_e),console.log(ht,_e);const Ct=await axios.post("/en/uploadpdf",_t,{headers:{"Content-Type":"multipart/form-data"}});console.log(Ct),Ct.data.status=="ok"&&(alert("Uploaded Successfully!!!"),getPdf())};return jsxRuntimeExports.jsxs("div",{className:"App",children:[jsxRuntimeExports.jsxs("form",{className:"formStyle",onSubmit:Et,children:[jsxRuntimeExports.jsx("h4",{children:"Upload Pdf in React"}),jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsx("input",{type:"text",className:"form-control",placeholder:"Title",required:!0,onChange:At=>$(At.target.value)}),jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsx("input",{type:"file",class:"form-control",accept:"application/pdf",required:!0,onChange:At=>vt(At.target.files[0])}),jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsx("button",{class:"btn btn-primary",type:"submit",children:"Submit"})]}),jsxRuntimeExports.jsxs("div",{className:"uploaded",children:[jsxRuntimeExports.jsx("h4",{children:"Uploaded PDF:"}),jsxRuntimeExports.jsx("div",{className:"output-div",children:xt==null?"":xt.map(At=>jsxRuntimeExports.jsxs("div",{className:"inner-div",children:[jsxRuntimeExports.jsxs("h6",{children:["Title: ",At.title]}),jsxRuntimeExports.jsx("button",{className:"btn btn-primary",onClick:()=>showPdf(At.pdf),children:"Show Pdf"})]}))})]})]})}function commonjsRequire(ht){throw new Error('Could not dynamically require "'+ht+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var pdf={exports:{}};const __viteBrowserExternal={},__viteBrowserExternal$1=Object.freeze(Object.defineProperty({__proto__:null,default:__viteBrowserExternal},Symbol.toStringTag,{value:"Module"})),require$$5=getAugmentedNamespace(__viteBrowserExternal$1);(function(module,exports){(function($,_e){module.exports=$.pdfjsLib=_e()})(globalThis,()=>(()=>{var __webpack_modules__=[,(ht,$)=>{var is;Object.defineProperty($,"__esModule",{value:!0}),$.VerbosityLevel=$.Util=$.UnknownErrorException=$.UnexpectedResponseException=$.TextRenderingMode=$.RenderingIntentFlag=$.PromiseCapability=$.PermissionFlag=$.PasswordResponses=$.PasswordException=$.PageActionEventType=$.OPS=$.MissingPDFException=$.MAX_IMAGE_SIZE_TO_CACHE=$.LINE_FACTOR=$.LINE_DESCENT_FACTOR=$.InvalidPDFException=$.ImageKind=$.IDENTITY_MATRIX=$.FormatError=$.FeatureTest=$.FONT_IDENTITY_MATRIX=$.DocumentActionEventType=$.CMapCompressionType=$.BaseException=$.BASELINE_FACTOR=$.AnnotationType=$.AnnotationReplyType=$.AnnotationPrefix=$.AnnotationMode=$.AnnotationFlag=$.AnnotationFieldFlag=$.AnnotationEditorType=$.AnnotationEditorPrefix=$.AnnotationEditorParamsType=$.AnnotationBorderStyleType=$.AnnotationActionEventType=$.AbortException=void 0,$.assert=tn,$.bytesToString=Un,$.createValidAbsoluteUrl=Sn,$.getModificationDate=nr,$.getUuid=wr,$.getVerbosityLevel=un,$.info=vn,$.isArrayBuffer=Tn,$.isArrayEqual=or,$.isNodeJS=void 0,$.normalizeUnicode=hr,$.objectFromMap=Zn,$.objectSize=Yn,$.setVerbosityLevel=An,$.shadow=rn,$.string32=Gn,$.stringToBytes=zn,$.stringToPDFString=Vn,$.stringToUTF8String=Qn,$.unreachable=dn,$.utf8StringToString=qn,$.warn=an;const _e=typeof process=="object"&&process+""=="[object process]"&&!process.versions.nw&&!(process.versions.electron&&process.type&&process.type!=="browser");$.isNodeJS=_e;const vt=[1,0,0,1,0,0];$.IDENTITY_MATRIX=vt;const xt=[.001,0,0,.001,0,0];$.FONT_IDENTITY_MATRIX=xt;const bt=1e7;$.MAX_IMAGE_SIZE_TO_CACHE=bt;const Et=1.35;$.LINE_FACTOR=Et;const At=.35;$.LINE_DESCENT_FACTOR=At;const _t=At/Et;$.BASELINE_FACTOR=_t;const Ct={ANY:1,DISPLAY:2,PRINT:4,SAVE:8,ANNOTATIONS_FORMS:16,ANNOTATIONS_STORAGE:32,ANNOTATIONS_DISABLE:64,OPLIST:256};$.RenderingIntentFlag=Ct;const St={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3};$.AnnotationMode=St;const Rt="pdfjs_internal_editor_";$.AnnotationEditorPrefix=Rt;const Pt={DISABLE:-1,NONE:0,FREETEXT:3,STAMP:13,INK:15};$.AnnotationEditorType=Pt;const kt={RESIZE:1,CREATE:2,FREETEXT_SIZE:11,FREETEXT_COLOR:12,FREETEXT_OPACITY:13,INK_COLOR:21,INK_THICKNESS:22,INK_OPACITY:23};$.AnnotationEditorParamsType=kt;const Mt={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048};$.PermissionFlag=Mt;const Lt={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_ADD_TO_PATH:4,STROKE_ADD_TO_PATH:5,FILL_STROKE_ADD_TO_PATH:6,ADD_TO_PATH:7,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4};$.TextRenderingMode=Lt;const $t={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3};$.ImageKind=$t;const Ft={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,SOUND:18,MOVIE:19,WIDGET:20,SCREEN:21,PRINTERMARK:22,TRAPNET:23,WATERMARK:24,THREED:25,REDACT:26};$.AnnotationType=Ft;const Dt={GROUP:"Group",REPLY:"R"};$.AnnotationReplyType=Dt;const Nt={INVISIBLE:1,HIDDEN:2,PRINT:4,NOZOOM:8,NOROTATE:16,NOVIEW:32,READONLY:64,LOCKED:128,TOGGLENOVIEW:256,LOCKEDCONTENTS:512};$.AnnotationFlag=Nt;const Ht={READONLY:1,REQUIRED:2,NOEXPORT:4,MULTILINE:4096,PASSWORD:8192,NOTOGGLETOOFF:16384,RADIO:32768,PUSHBUTTON:65536,COMBO:131072,EDIT:262144,SORT:524288,FILESELECT:1048576,MULTISELECT:2097152,DONOTSPELLCHECK:4194304,DONOTSCROLL:8388608,COMB:16777216,RICHTEXT:33554432,RADIOSINUNISON:33554432,COMMITONSELCHANGE:67108864};$.AnnotationFieldFlag=Ht;const Ot={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5};$.AnnotationBorderStyleType=Ot;const Bt={E:"Mouse Enter",X:"Mouse Exit",D:"Mouse Down",U:"Mouse Up",Fo:"Focus",Bl:"Blur",PO:"PageOpen",PC:"PageClose",PV:"PageVisible",PI:"PageInvisible",K:"Keystroke",F:"Format",V:"Validate",C:"Calculate"};$.AnnotationActionEventType=Bt;const jt={WC:"WillClose",WS:"WillSave",DS:"DidSave",WP:"WillPrint",DP:"DidPrint"};$.DocumentActionEventType=jt;const zt={O:"PageOpen",C:"PageClose"};$.PageActionEventType=zt;const Kt={ERRORS:0,WARNINGS:1,INFOS:5};$.VerbosityLevel=Kt;const nn={NONE:0,BINARY:1};$.CMapCompressionType=nn;const Xt={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotation:80,endAnnotation:81,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91};$.OPS=Xt;const en={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};$.PasswordResponses=en;let on=Kt.WARNINGS;function An(Xn){Number.isInteger(Xn)&&(on=Xn)}function un(){return on}function vn(Xn){on>=Kt.INFOS&&console.log(`Info: ${Xn}`)}function an(Xn){on>=Kt.WARNINGS&&console.log(`Warning: ${Xn}`)}function dn(Xn){throw new Error(Xn)}function tn(Xn,kn){Xn||dn(kn)}function gn(Xn){switch(Xn==null?void 0:Xn.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}function Sn(Xn,kn=null,Fn=null){if(!Xn)return null;try{if(Fn&&typeof Xn=="string"){if(Fn.addDefaultProtocol&&Xn.startsWith("www.")){const gr=Xn.match(/\./g);(gr==null?void 0:gr.length)>=2&&(Xn=`http://${Xn}`)}if(Fn.tryConvertEncoding)try{Xn=Qn(Xn)}catch{}}const dr=kn?new URL(Xn,kn):new URL(Xn);if(gn(dr))return dr}catch{}return null}function rn(Xn,kn,Fn,dr=!1){return Object.defineProperty(Xn,kn,{value:Fn,enumerable:!dr,configurable:!0,writable:!1}),Fn}const qt=function(){function kn(Fn,dr){this.constructor===kn&&dn("Cannot initialize BaseException."),this.message=Fn,this.name=dr}return kn.prototype=new Error,kn.constructor=kn,kn}();$.BaseException=qt;class Yt extends qt{constructor(kn,Fn){super(kn,"PasswordException"),this.code=Fn}}$.PasswordException=Yt;class Jt extends qt{constructor(kn,Fn){super(kn,"UnknownErrorException"),this.details=Fn}}$.UnknownErrorException=Jt;class hn extends qt{constructor(kn){super(kn,"InvalidPDFException")}}$.InvalidPDFException=hn;class cn extends qt{constructor(kn){super(kn,"MissingPDFException")}}$.MissingPDFException=cn;class fn extends qt{constructor(kn,Fn){super(kn,"UnexpectedResponseException"),this.status=Fn}}$.UnexpectedResponseException=fn;class Rn extends qt{constructor(kn){super(kn,"FormatError")}}$.FormatError=Rn;class jn extends qt{constructor(kn){super(kn,"AbortException")}}$.AbortException=jn;function Un(Xn){(typeof Xn!="object"||(Xn==null?void 0:Xn.length)===void 0)&&dn("Invalid argument for bytesToString");const kn=Xn.length,Fn=8192;if(kn<Fn)return String.fromCharCode.apply(null,Xn);const dr=[];for(let gr=0;gr<kn;gr+=Fn){const Tr=Math.min(gr+Fn,kn),yn=Xn.subarray(gr,Tr);dr.push(String.fromCharCode.apply(null,yn))}return dr.join("")}function zn(Xn){typeof Xn!="string"&&dn("Invalid argument for stringToBytes");const kn=Xn.length,Fn=new Uint8Array(kn);for(let dr=0;dr<kn;++dr)Fn[dr]=Xn.charCodeAt(dr)&255;return Fn}function Gn(Xn){return String.fromCharCode(Xn>>24&255,Xn>>16&255,Xn>>8&255,Xn&255)}function Yn(Xn){return Object.keys(Xn).length}function Zn(Xn){const kn=Object.create(null);for(const[Fn,dr]of Xn)kn[Fn]=dr;return kn}function Dn(){const Xn=new Uint8Array(4);return Xn[0]=1,new Uint32Array(Xn.buffer,0,1)[0]===1}function $n(){try{return new Function(""),!0}catch{return!1}}class sn{static get isLittleEndian(){return rn(this,"isLittleEndian",Dn())}static get isEvalSupported(){return rn(this,"isEvalSupported",$n())}static get isOffscreenCanvasSupported(){return rn(this,"isOffscreenCanvasSupported",typeof OffscreenCanvas<"u")}static get platform(){return typeof navigator>"u"?rn(this,"platform",{isWin:!1,isMac:!1}):rn(this,"platform",{isWin:navigator.platform.includes("Win"),isMac:navigator.platform.includes("Mac")})}static get isCSSRoundSupported(){var kn,Fn;return rn(this,"isCSSRoundSupported",(Fn=(kn=globalThis.CSS)==null?void 0:kn.supports)==null?void 0:Fn.call(kn,"width: round(1.5px, 1px)"))}}$.FeatureTest=sn;const mn=[...Array(256).keys()].map(Xn=>Xn.toString(16).padStart(2,"0"));class Pn{static makeHexColor(kn,Fn,dr){return`#${mn[kn]}${mn[Fn]}${mn[dr]}`}static scaleMinMax(kn,Fn){let dr;kn[0]?(kn[0]<0&&(dr=Fn[0],Fn[0]=Fn[1],Fn[1]=dr),Fn[0]*=kn[0],Fn[1]*=kn[0],kn[3]<0&&(dr=Fn[2],Fn[2]=Fn[3],Fn[3]=dr),Fn[2]*=kn[3],Fn[3]*=kn[3]):(dr=Fn[0],Fn[0]=Fn[2],Fn[2]=dr,dr=Fn[1],Fn[1]=Fn[3],Fn[3]=dr,kn[1]<0&&(dr=Fn[2],Fn[2]=Fn[3],Fn[3]=dr),Fn[2]*=kn[1],Fn[3]*=kn[1],kn[2]<0&&(dr=Fn[0],Fn[0]=Fn[1],Fn[1]=dr),Fn[0]*=kn[2],Fn[1]*=kn[2]),Fn[0]+=kn[4],Fn[1]+=kn[4],Fn[2]+=kn[5],Fn[3]+=kn[5]}static transform(kn,Fn){return[kn[0]*Fn[0]+kn[2]*Fn[1],kn[1]*Fn[0]+kn[3]*Fn[1],kn[0]*Fn[2]+kn[2]*Fn[3],kn[1]*Fn[2]+kn[3]*Fn[3],kn[0]*Fn[4]+kn[2]*Fn[5]+kn[4],kn[1]*Fn[4]+kn[3]*Fn[5]+kn[5]]}static applyTransform(kn,Fn){const dr=kn[0]*Fn[0]+kn[1]*Fn[2]+Fn[4],gr=kn[0]*Fn[1]+kn[1]*Fn[3]+Fn[5];return[dr,gr]}static applyInverseTransform(kn,Fn){const dr=Fn[0]*Fn[3]-Fn[1]*Fn[2],gr=(kn[0]*Fn[3]-kn[1]*Fn[2]+Fn[2]*Fn[5]-Fn[4]*Fn[3])/dr,Tr=(-kn[0]*Fn[1]+kn[1]*Fn[0]+Fn[4]*Fn[1]-Fn[5]*Fn[0])/dr;return[gr,Tr]}static getAxialAlignedBoundingBox(kn,Fn){const dr=this.applyTransform(kn,Fn),gr=this.applyTransform(kn.slice(2,4),Fn),Tr=this.applyTransform([kn[0],kn[3]],Fn),yn=this.applyTransform([kn[2],kn[1]],Fn);return[Math.min(dr[0],gr[0],Tr[0],yn[0]),Math.min(dr[1],gr[1],Tr[1],yn[1]),Math.max(dr[0],gr[0],Tr[0],yn[0]),Math.max(dr[1],gr[1],Tr[1],yn[1])]}static inverseTransform(kn){const Fn=kn[0]*kn[3]-kn[1]*kn[2];return[kn[3]/Fn,-kn[1]/Fn,-kn[2]/Fn,kn[0]/Fn,(kn[2]*kn[5]-kn[4]*kn[3])/Fn,(kn[4]*kn[1]-kn[5]*kn[0])/Fn]}static singularValueDecompose2dScale(kn){const Fn=[kn[0],kn[2],kn[1],kn[3]],dr=kn[0]*Fn[0]+kn[1]*Fn[2],gr=kn[0]*Fn[1]+kn[1]*Fn[3],Tr=kn[2]*Fn[0]+kn[3]*Fn[2],yn=kn[2]*Fn[1]+kn[3]*Fn[3],Wn=(dr+yn)/2,sr=Math.sqrt((dr+yn)**2-4*(dr*yn-Tr*gr))/2,mr=Wn+sr||1,xr=Wn-sr||1;return[Math.sqrt(mr),Math.sqrt(xr)]}static normalizeRect(kn){const Fn=kn.slice(0);return kn[0]>kn[2]&&(Fn[0]=kn[2],Fn[2]=kn[0]),kn[1]>kn[3]&&(Fn[1]=kn[3],Fn[3]=kn[1]),Fn}static intersect(kn,Fn){const dr=Math.max(Math.min(kn[0],kn[2]),Math.min(Fn[0],Fn[2])),gr=Math.min(Math.max(kn[0],kn[2]),Math.max(Fn[0],Fn[2]));if(dr>gr)return null;const Tr=Math.max(Math.min(kn[1],kn[3]),Math.min(Fn[1],Fn[3])),yn=Math.min(Math.max(kn[1],kn[3]),Math.max(Fn[1],Fn[3]));return Tr>yn?null:[dr,Tr,gr,yn]}static bezierBoundingBox(kn,Fn,dr,gr,Tr,yn,Wn,sr){const mr=[],xr=[[],[]];let ur,pn,ln,_n,Hn,Bn,Kn,tr;for(let Hr=0;Hr<2;++Hr){if(Hr===0?(pn=6*kn-12*dr+6*Tr,ur=-3*kn+9*dr-9*Tr+3*Wn,ln=3*dr-3*kn):(pn=6*Fn-12*gr+6*yn,ur=-3*Fn+9*gr-9*yn+3*sr,ln=3*gr-3*Fn),Math.abs(ur)<1e-12){if(Math.abs(pn)<1e-12)continue;_n=-ln/pn,0<_n&&_n<1&&mr.push(_n);continue}Kn=pn*pn-4*ln*ur,tr=Math.sqrt(Kn),!(Kn<0)&&(Hn=(-pn+tr)/(2*ur),0<Hn&&Hn<1&&mr.push(Hn),Bn=(-pn-tr)/(2*ur),0<Bn&&Bn<1&&mr.push(Bn))}let vr=mr.length,fr;const lr=vr;for(;vr--;)_n=mr[vr],fr=1-_n,xr[0][vr]=fr*fr*fr*kn+3*fr*fr*_n*dr+3*fr*_n*_n*Tr+_n*_n*_n*Wn,xr[1][vr]=fr*fr*fr*Fn+3*fr*fr*_n*gr+3*fr*_n*_n*yn+_n*_n*_n*sr;return xr[0][lr]=kn,xr[1][lr]=Fn,xr[0][lr+1]=Wn,xr[1][lr+1]=sr,xr[0].length=xr[1].length=lr+2,[Math.min(...xr[0]),Math.min(...xr[1]),Math.max(...xr[0]),Math.max(...xr[1])]}}$.Util=Pn;const Nn=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,728,711,710,729,733,731,730,732,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,8226,8224,8225,8230,8212,8211,402,8260,8249,8250,8722,8240,8222,8220,8221,8216,8217,8218,8482,64257,64258,321,338,352,376,381,305,322,339,353,382,0,8364];function Vn(Xn){if(Xn[0]>=""){let Fn;if(Xn[0]===""&&Xn[1]===""?Fn="utf-16be":Xn[0]===""&&Xn[1]===""?Fn="utf-16le":Xn[0]===""&&Xn[1]===""&&Xn[2]===""&&(Fn="utf-8"),Fn)try{const dr=new TextDecoder(Fn,{fatal:!0}),gr=zn(Xn);return dr.decode(gr)}catch(dr){an(`stringToPDFString: "${dr}".`)}}const kn=[];for(let Fn=0,dr=Xn.length;Fn<dr;Fn++){const gr=Nn[Xn.charCodeAt(Fn)];kn.push(gr?String.fromCharCode(gr):Xn.charAt(Fn))}return kn.join("")}function Qn(Xn){return decodeURIComponent(escape(Xn))}function qn(Xn){return unescape(encodeURIComponent(Xn))}function Tn(Xn){return typeof Xn=="object"&&(Xn==null?void 0:Xn.byteLength)!==void 0}function or(Xn,kn){if(Xn.length!==kn.length)return!1;for(let Fn=0,dr=Xn.length;Fn<dr;Fn++)if(Xn[Fn]!==kn[Fn])return!1;return!0}function nr(Xn=new Date){return[Xn.getUTCFullYear().toString(),(Xn.getUTCMonth()+1).toString().padStart(2,"0"),Xn.getUTCDate().toString().padStart(2,"0"),Xn.getUTCHours().toString().padStart(2,"0"),Xn.getUTCMinutes().toString().padStart(2,"0"),Xn.getUTCSeconds().toString().padStart(2,"0")].join("")}class Nr{constructor(){Gt(this,is,!1);this.promise=new Promise((kn,Fn)=>{this.resolve=dr=>{Vt(this,is,!0),kn(dr)},this.reject=dr=>{Vt(this,is,!0),Fn(dr)}})}get settled(){return wt(this,is)}}is=new WeakMap,$.PromiseCapability=Nr;let Pr=null,Kr=null;function hr(Xn){return Pr||(Pr=/([\u00a0\u00b5\u037e\u0eb3\u2000-\u200a\u202f\u2126\ufb00-\ufb04\ufb06\ufb20-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufba1\ufba4-\ufba9\ufbae-\ufbb1\ufbd3-\ufbdc\ufbde-\ufbe7\ufbea-\ufbf8\ufbfc-\ufbfd\ufc00-\ufc5d\ufc64-\ufcf1\ufcf5-\ufd3d\ufd88\ufdf4\ufdfa-\ufdfb\ufe71\ufe77\ufe79\ufe7b\ufe7d]+)|(\ufb05+)/gu,Kr=new Map([["","t"]])),Xn.replaceAll(Pr,(kn,Fn,dr)=>Fn?Fn.normalize("NFKC"):Kr.get(dr))}function wr(){if(typeof crypto<"u"&&typeof(crypto==null?void 0:crypto.randomUUID)=="function")return crypto.randomUUID();const Xn=new Uint8Array(32);if(typeof crypto<"u"&&typeof(crypto==null?void 0:crypto.getRandomValues)=="function")crypto.getRandomValues(Xn);else for(let kn=0;kn<32;kn++)Xn[kn]=Math.floor(Math.random()*255);return Un(Xn)}const Ur="pdfjs_internal_id_";$.AnnotationPrefix=Ur},(__unused_webpack_module,exports,__w_pdfjs_require__)=>{var ht,_e,vt,xt,tm,Dy,At,_t,Ct,St,Rt,Pt,kt,Mt,Lt,Iy,Ft,Dt,w1,Ht,Ot;Object.defineProperty(exports,"__esModule",{value:!0}),exports.RenderTask=exports.PDFWorkerUtil=exports.PDFWorker=exports.PDFPageProxy=exports.PDFDocumentProxy=exports.PDFDocumentLoadingTask=exports.PDFDataRangeTransport=exports.LoopbackPort=exports.DefaultStandardFontDataFactory=exports.DefaultFilterFactory=exports.DefaultCanvasFactory=exports.DefaultCMapReaderFactory=void 0,Object.defineProperty(exports,"SVGGraphics",{enumerable:!0,get:function(){return _displaySvg.SVGGraphics}}),exports.build=void 0,exports.getDocument=getDocument,exports.version=void 0;var _util=__w_pdfjs_require__(1),_annotation_storage=__w_pdfjs_require__(3),_display_utils=__w_pdfjs_require__(6),_font_loader=__w_pdfjs_require__(9),_displayNode_utils=__w_pdfjs_require__(10),_canvas=__w_pdfjs_require__(11),_worker_options=__w_pdfjs_require__(14),_message_handler=__w_pdfjs_require__(15),_metadata=__w_pdfjs_require__(16),_optional_content_config=__w_pdfjs_require__(17),_transport_stream=__w_pdfjs_require__(18),_displayFetch_stream=__w_pdfjs_require__(19),_displayNetwork=__w_pdfjs_require__(22),_displayNode_stream=__w_pdfjs_require__(23),_displaySvg=__w_pdfjs_require__(24),_xfa_text=__w_pdfjs_require__(25);const DEFAULT_RANGE_CHUNK_SIZE=65536,RENDERING_CANCELLED_TIMEOUT=100,DELAYED_CLEANUP_TIMEOUT=5e3,DefaultCanvasFactory=_util.isNodeJS?_displayNode_utils.NodeCanvasFactory:_display_utils.DOMCanvasFactory;exports.DefaultCanvasFactory=DefaultCanvasFactory;const DefaultCMapReaderFactory=_util.isNodeJS?_displayNode_utils.NodeCMapReaderFactory:_display_utils.DOMCMapReaderFactory;exports.DefaultCMapReaderFactory=DefaultCMapReaderFactory;const DefaultFilterFactory=_util.isNodeJS?_displayNode_utils.NodeFilterFactory:_display_utils.DOMFilterFactory;exports.DefaultFilterFactory=DefaultFilterFactory;const DefaultStandardFontDataFactory=_util.isNodeJS?_displayNode_utils.NodeStandardFontDataFactory:_display_utils.DOMStandardFontDataFactory;exports.DefaultStandardFontDataFactory=DefaultStandardFontDataFactory;function getDocument(jt){if(typeof jt=="string"||jt instanceof URL?jt={url:jt}:(0,_util.isArrayBuffer)(jt)&&(jt={data:jt}),typeof jt!="object")throw new Error("Invalid parameter in getDocument, need parameter object.");if(!jt.url&&!jt.data&&!jt.range)throw new Error("Invalid parameter object: need either .data, .range or .url");const zt=new PDFDocumentLoadingTask,{docId:Kt}=zt,nn=jt.url?getUrlProp(jt.url):null,Xt=jt.data?getDataProp(jt.data):null,en=jt.httpHeaders||null,on=jt.withCredentials===!0,An=jt.password??null,un=jt.range instanceof PDFDataRangeTransport?jt.range:null,vn=Number.isInteger(jt.rangeChunkSize)&&jt.rangeChunkSize>0?jt.rangeChunkSize:DEFAULT_RANGE_CHUNK_SIZE;let an=jt.worker instanceof PDFWorker?jt.worker:null;const dn=jt.verbosity,tn=typeof jt.docBaseUrl=="string"&&!(0,_display_utils.isDataScheme)(jt.docBaseUrl)?jt.docBaseUrl:null,gn=typeof jt.cMapUrl=="string"?jt.cMapUrl:null,Sn=jt.cMapPacked!==!1,rn=jt.CMapReaderFactory||DefaultCMapReaderFactory,qt=typeof jt.standardFontDataUrl=="string"?jt.standardFontDataUrl:null,Yt=jt.StandardFontDataFactory||DefaultStandardFontDataFactory,Jt=jt.stopAtErrors!==!0,hn=Number.isInteger(jt.maxImageSize)&&jt.maxImageSize>-1?jt.maxImageSize:-1,cn=jt.isEvalSupported!==!1,fn=typeof jt.isOffscreenCanvasSupported=="boolean"?jt.isOffscreenCanvasSupported:!_util.isNodeJS,Rn=Number.isInteger(jt.canvasMaxAreaInBytes)?jt.canvasMaxAreaInBytes:-1,jn=typeof jt.disableFontFace=="boolean"?jt.disableFontFace:_util.isNodeJS,Un=jt.fontExtraProperties===!0,zn=jt.enableXfa===!0,Gn=jt.ownerDocument||globalThis.document,Yn=jt.disableRange===!0,Zn=jt.disableStream===!0,Dn=jt.disableAutoFetch===!0,$n=jt.pdfBug===!0,sn=un?un.length:jt.length??NaN,mn=typeof jt.useSystemFonts=="boolean"?jt.useSystemFonts:!_util.isNodeJS&&!jn,Pn=typeof jt.useWorkerFetch=="boolean"?jt.useWorkerFetch:rn===_display_utils.DOMCMapReaderFactory&&Yt===_display_utils.DOMStandardFontDataFactory&&gn&&qt&&(0,_display_utils.isValidFetchUrl)(gn,document.baseURI)&&(0,_display_utils.isValidFetchUrl)(qt,document.baseURI),Nn=jt.canvasFactory||new DefaultCanvasFactory({ownerDocument:Gn}),Vn=jt.filterFactory||new DefaultFilterFactory({docId:Kt,ownerDocument:Gn}),Qn=null;(0,_util.setVerbosityLevel)(dn);const qn={canvasFactory:Nn,filterFactory:Vn};if(Pn||(qn.cMapReaderFactory=new rn({baseUrl:gn,isCompressed:Sn}),qn.standardFontDataFactory=new Yt({baseUrl:qt})),!an){const nr={verbosity:dn,port:_worker_options.GlobalWorkerOptions.workerPort};an=nr.port?PDFWorker.fromPort(nr):new PDFWorker(nr),zt._worker=an}const Tn={docId:Kt,apiVersion:"3.11.174",data:Xt,password:An,disableAutoFetch:Dn,rangeChunkSize:vn,length:sn,docBaseUrl:tn,enableXfa:zn,evaluatorOptions:{maxImageSize:hn,disableFontFace:jn,ignoreErrors:Jt,isEvalSupported:cn,isOffscreenCanvasSupported:fn,canvasMaxAreaInBytes:Rn,fontExtraProperties:Un,useSystemFonts:mn,cMapUrl:Pn?gn:null,standardFontDataUrl:Pn?qt:null}},or={ignoreErrors:Jt,isEvalSupported:cn,disableFontFace:jn,fontExtraProperties:Un,enableXfa:zn,ownerDocument:Gn,disableAutoFetch:Dn,pdfBug:$n,styleElement:Qn};return an.promise.then(function(){if(zt.destroyed)throw new Error("Loading aborted");const nr=_fetchDocument(an,Tn),Nr=new Promise(function(Pr){let Kr;un?Kr=new _transport_stream.PDFDataTransportStream({length:sn,initialData:un.initialData,progressiveDone:un.progressiveDone,contentDispositionFilename:un.contentDispositionFilename,disableRange:Yn,disableStream:Zn},un):Xt||(Kr=(wr=>_util.isNodeJS?new _displayNode_stream.PDFNodeStream(wr):(0,_display_utils.isValidFetchUrl)(wr.url)?new _displayFetch_stream.PDFFetchStream(wr):new _displayNetwork.PDFNetworkStream(wr))({url:nn,length:sn,httpHeaders:en,withCredentials:on,rangeChunkSize:vn,disableRange:Yn,disableStream:Zn})),Pr(Kr)});return Promise.all([nr,Nr]).then(function([Pr,Kr]){if(zt.destroyed)throw new Error("Loading aborted");const hr=new _message_handler.MessageHandler(Kt,Pr,an.port),wr=new WorkerTransport(hr,zt,Kr,or,qn);zt._transport=wr,hr.send("Ready",null)})}).catch(zt._capability.reject),zt}async function _fetchDocument(jt,zt){if(jt.destroyed)throw new Error("Worker was destroyed");const Kt=await jt.messageHandler.sendWithPromise("GetDocRequest",zt,zt.data?[zt.data.buffer]:null);if(jt.destroyed)throw new Error("Worker was destroyed");return Kt}function getUrlProp(jt){if(jt instanceof URL)return jt.href;try{return new URL(jt,window.location).href}catch{if(_util.isNodeJS&&typeof jt=="string")return jt}throw new Error("Invalid PDF url data: either string or URL-object is expected in the url property.")}function getDataProp(jt){if(_util.isNodeJS&&typeof Buffer<"u"&&jt instanceof Buffer)throw new Error("Please provide binary data as `Uint8Array`, rather than `Buffer`.");if(jt instanceof Uint8Array&&jt.byteLength===jt.buffer.byteLength)return jt;if(typeof jt=="string")return(0,_util.stringToBytes)(jt);if(typeof jt=="object"&&!isNaN(jt==null?void 0:jt.length)||(0,_util.isArrayBuffer)(jt))return new Uint8Array(jt);throw new Error("Invalid PDF binary data: either TypedArray, string, or array-like object is expected in the data property.")}const $=class ${constructor(){this._capability=new _util.PromiseCapability,this._transport=null,this._worker=null,this.docId=`d${eo($,ht)._++}`,this.destroyed=!1,this.onPassword=null,this.onProgress=null}get promise(){return this._capability.promise}async destroy(){var zt,Kt,nn;this.destroyed=!0;try{(zt=this._worker)!=null&&zt.port&&(this._worker._pendingDestroy=!0),await((Kt=this._transport)==null?void 0:Kt.destroy())}catch(Xt){throw(nn=this._worker)!=null&&nn.port&&delete this._worker._pendingDestroy,Xt}this._transport=null,this._worker&&(this._worker.destroy(),this._worker=null)}};ht=new WeakMap,Gt($,ht,0);let PDFDocumentLoadingTask=$;exports.PDFDocumentLoadingTask=PDFDocumentLoadingTask;class PDFDataRangeTransport{constructor(zt,Kt,nn=!1,Xt=null){this.length=zt,this.initialData=Kt,this.progressiveDone=nn,this.contentDispositionFilename=Xt,this._rangeListeners=[],this._progressListeners=[],this._progressiveReadListeners=[],this._progressiveDoneListeners=[],this._readyCapability=new _util.PromiseCapability}addRangeListener(zt){this._rangeListeners.push(zt)}addProgressListener(zt){this._progressListeners.push(zt)}addProgressiveReadListener(zt){this._progressiveReadListeners.push(zt)}addProgressiveDoneListener(zt){this._progressiveDoneListeners.push(zt)}onDataRange(zt,Kt){for(const nn of this._rangeListeners)nn(zt,Kt)}onDataProgress(zt,Kt){this._readyCapability.promise.then(()=>{for(const nn of this._progressListeners)nn(zt,Kt)})}onDataProgressiveRead(zt){this._readyCapability.promise.then(()=>{for(const Kt of this._progressiveReadListeners)Kt(zt)})}onDataProgressiveDone(){this._readyCapability.promise.then(()=>{for(const zt of this._progressiveDoneListeners)zt()})}transportReady(){this._readyCapability.resolve()}requestDataRange(zt,Kt){(0,_util.unreachable)("Abstract method PDFDataRangeTransport.requestDataRange")}abort(){}}exports.PDFDataRangeTransport=PDFDataRangeTransport;class PDFDocumentProxy{constructor(zt,Kt){this._pdfInfo=zt,this._transport=Kt,Object.defineProperty(this,"getJavaScript",{value:()=>((0,_display_utils.deprecated)("`PDFDocumentProxy.getJavaScript`, please use `PDFDocumentProxy.getJSActions` instead."),this.getJSActions().then(nn=>{if(!nn)return nn;const Xt=[];for(const en in nn)Xt.push(...nn[en]);return Xt}))})}get annotationStorage(){return this._transport.annotationStorage}get filterFactory(){return this._transport.filterFactory}get numPages(){return this._pdfInfo.numPages}get fingerprints(){return this._pdfInfo.fingerprints}get isPureXfa(){return(0,_util.shadow)(this,"isPureXfa",!!this._transport._htmlForXfa)}get allXfaHtml(){return this._transport._htmlForXfa}getPage(zt){return this._transport.getPage(zt)}getPageIndex(zt){return this._transport.getPageIndex(zt)}getDestinations(){return this._transport.getDestinations()}getDestination(zt){return this._transport.getDestination(zt)}getPageLabels(){return this._transport.getPageLabels()}getPageLayout(){return this._transport.getPageLayout()}getPageMode(){return this._transport.getPageMode()}getViewerPreferences(){return this._transport.getViewerPreferences()}getOpenAction(){return this._transport.getOpenAction()}getAttachments(){return this._transport.getAttachments()}getJSActions(){return this._transport.getDocJSActions()}getOutline(){return this._transport.getOutline()}getOptionalContentConfig(){return this._transport.getOptionalContentConfig()}getPermissions(){return this._transport.getPermissions()}getMetadata(){return this._transport.getMetadata()}getMarkInfo(){return this._transport.getMarkInfo()}getData(){return this._transport.getData()}saveDocument(){return this._transport.saveDocument()}getDownloadInfo(){return this._transport.downloadInfoCapability.promise}cleanup(zt=!1){return this._transport.startCleanup(zt||this.isPureXfa)}destroy(){return this.loadingTask.destroy()}get loadingParams(){return this._transport.loadingParams}get loadingTask(){return this._transport.loadingTask}getFieldObjects(){return this._transport.getFieldObjects()}hasJSActions(){return this._transport.hasJSActions()}getCalculationOrderIds(){return this._transport.getCalculationOrderIds()}}exports.PDFDocumentProxy=PDFDocumentProxy;class PDFPageProxy{constructor(zt,Kt,nn,Xt=!1){Gt(this,xt);Gt(this,_e,null);Gt(this,vt,!1);this._pageIndex=zt,this._pageInfo=Kt,this._transport=nn,this._stats=Xt?new _display_utils.StatTimer:null,this._pdfBug=Xt,this.commonObjs=nn.commonObjs,this.objs=new PDFObjects,this._maybeCleanupAfterRender=!1,this._intentStates=new Map,this.destroyed=!1}get pageNumber(){return this._pageIndex+1}get rotate(){return this._pageInfo.rotate}get ref(){return this._pageInfo.ref}get userUnit(){return this._pageInfo.userUnit}get view(){return this._pageInfo.view}getViewport({scale:zt,rotation:Kt=this.rotate,offsetX:nn=0,offsetY:Xt=0,dontFlip:en=!1}={}){return new _display_utils.PageViewport({viewBox:this.view,scale:zt,rotation:Kt,offsetX:nn,offsetY:Xt,dontFlip:en})}getAnnotations({intent:zt="display"}={}){const Kt=this._transport.getRenderingIntent(zt);return this._transport.getAnnotations(this._pageIndex,Kt.renderingIntent)}getJSActions(){return this._transport.getPageJSActions(this._pageIndex)}get filterFactory(){return this._transport.filterFactory}get isPureXfa(){return(0,_util.shadow)(this,"isPureXfa",!!this._transport._htmlForXfa)}async getXfa(){var zt;return((zt=this._transport._htmlForXfa)==null?void 0:zt.children[this._pageIndex])||null}render({canvasContext:zt,viewport:Kt,intent:nn="display",annotationMode:Xt=_util.AnnotationMode.ENABLE,transform:en=null,background:on=null,optionalContentConfigPromise:An=null,annotationCanvasMap:un=null,pageColors:vn=null,printAnnotationStorage:an=null}){var Yt,Jt;(Yt=this._stats)==null||Yt.time("Overall");const dn=this._transport.getRenderingIntent(nn,Xt,an);Vt(this,vt,!1),Ut(this,xt,Dy).call(this),An||(An=this._transport.getOptionalContentConfig());let tn=this._intentStates.get(dn.cacheKey);tn||(tn=Object.create(null),this._intentStates.set(dn.cacheKey,tn)),tn.streamReaderCancelTimeout&&(clearTimeout(tn.streamReaderCancelTimeout),tn.streamReaderCancelTimeout=null);const gn=!!(dn.renderingIntent&_util.RenderingIntentFlag.PRINT);tn.displayReadyCapability||(tn.displayReadyCapability=new _util.PromiseCapability,tn.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(Jt=this._stats)==null||Jt.time("Page Request"),this._pumpOperatorList(dn));const Sn=hn=>{var cn,fn;tn.renderTasks.delete(rn),(this._maybeCleanupAfterRender||gn)&&Vt(this,vt,!0),Ut(this,xt,tm).call(this,!gn),hn?(rn.capability.reject(hn),this._abortOperatorList({intentState:tn,reason:hn instanceof Error?hn:new Error(hn)})):rn.capability.resolve(),(cn=this._stats)==null||cn.timeEnd("Rendering"),(fn=this._stats)==null||fn.timeEnd("Overall")},rn=new InternalRenderTask({callback:Sn,params:{canvasContext:zt,viewport:Kt,transform:en,background:on},objs:this.objs,commonObjs:this.commonObjs,annotationCanvasMap:un,operatorList:tn.operatorList,pageIndex:this._pageIndex,canvasFactory:this._transport.canvasFactory,filterFactory:this._transport.filterFactory,useRequestAnimationFrame:!gn,pdfBug:this._pdfBug,pageColors:vn});(tn.renderTasks||(tn.renderTasks=new Set)).add(rn);const qt=rn.task;return Promise.all([tn.displayReadyCapability.promise,An]).then(([hn,cn])=>{var fn;if(this.destroyed){Sn();return}(fn=this._stats)==null||fn.time("Rendering"),rn.initializeGraphics({transparency:hn,optionalContentConfig:cn}),rn.operatorListChanged()}).catch(Sn),qt}getOperatorList({intent:zt="display",annotationMode:Kt=_util.AnnotationMode.ENABLE,printAnnotationStorage:nn=null}={}){var un;function Xt(){on.operatorList.lastChunk&&(on.opListReadCapability.resolve(on.operatorList),on.renderTasks.delete(An))}const en=this._transport.getRenderingIntent(zt,Kt,nn,!0);let on=this._intentStates.get(en.cacheKey);on||(on=Object.create(null),this._intentStates.set(en.cacheKey,on));let An;return on.opListReadCapability||(An=Object.create(null),An.operatorListChanged=Xt,on.opListReadCapability=new _util.PromiseCapability,(on.renderTasks||(on.renderTasks=new Set)).add(An),on.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(un=this._stats)==null||un.time("Page Request"),this._pumpOperatorList(en)),on.opListReadCapability.promise}streamTextContent({includeMarkedContent:zt=!1,disableNormalization:Kt=!1}={}){return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,includeMarkedContent:zt===!0,disableNormalization:Kt===!0},{highWaterMark:100,size(Xt){return Xt.items.length}})}getTextContent(zt={}){if(this._transport._htmlForXfa)return this.getXfa().then(nn=>_xfa_text.XfaText.textContent(nn));const Kt=this.streamTextContent(zt);return new Promise(function(nn,Xt){function en(){on.read().then(function({value:un,done:vn}){if(vn){nn(An);return}Object.assign(An.styles,un.styles),An.items.push(...un.items),en()},Xt)}const on=Kt.getReader(),An={items:[],styles:Object.create(null)};en()})}getStructTree(){return this._transport.getStructTree(this._pageIndex)}_destroy(){this.destroyed=!0;const zt=[];for(const Kt of this._intentStates.values())if(this._abortOperatorList({intentState:Kt,reason:new Error("Page was destroyed."),force:!0}),!Kt.opListReadCapability)for(const nn of Kt.renderTasks)zt.push(nn.completed),nn.cancel();return this.objs.clear(),Vt(this,vt,!1),Ut(this,xt,Dy).call(this),Promise.all(zt)}cleanup(zt=!1){Vt(this,vt,!0);const Kt=Ut(this,xt,tm).call(this,!1);return zt&&Kt&&this._stats&&(this._stats=new _display_utils.StatTimer),Kt}_startRenderPage(zt,Kt){var Xt,en;const nn=this._intentStates.get(Kt);nn&&((Xt=this._stats)==null||Xt.timeEnd("Page Request"),(en=nn.displayReadyCapability)==null||en.resolve(zt))}_renderPageChunk(zt,Kt){for(let nn=0,Xt=zt.length;nn<Xt;nn++)Kt.operatorList.fnArray.push(zt.fnArray[nn]),Kt.operatorList.argsArray.push(zt.argsArray[nn]);Kt.operatorList.lastChunk=zt.lastChunk,Kt.operatorList.separateAnnots=zt.separateAnnots;for(const nn of Kt.renderTasks)nn.operatorListChanged();zt.lastChunk&&Ut(this,xt,tm).call(this,!0)}_pumpOperatorList({renderingIntent:zt,cacheKey:Kt,annotationStorageSerializable:nn}){const{map:Xt,transfers:en}=nn,An=this._transport.messageHandler.sendWithStream("GetOperatorList",{pageIndex:this._pageIndex,intent:zt,cacheKey:Kt,annotationStorage:Xt},en).getReader(),un=this._intentStates.get(Kt);un.streamReader=An;const vn=()=>{An.read().then(({value:an,done:dn})=>{if(dn){un.streamReader=null;return}this._transport.destroyed||(this._renderPageChunk(an,un),vn())},an=>{if(un.streamReader=null,!this._transport.destroyed){if(un.operatorList){un.operatorList.lastChunk=!0;for(const dn of un.renderTasks)dn.operatorListChanged();Ut(this,xt,tm).call(this,!0)}if(un.displayReadyCapability)un.displayReadyCapability.reject(an);else if(un.opListReadCapability)un.opListReadCapability.reject(an);else throw an}})};vn()}_abortOperatorList({intentState:zt,reason:Kt,force:nn=!1}){if(zt.streamReader){if(zt.streamReaderCancelTimeout&&(clearTimeout(zt.streamReaderCancelTimeout),zt.streamReaderCancelTimeout=null),!nn){if(zt.renderTasks.size>0)return;if(Kt instanceof _display_utils.RenderingCancelledException){let Xt=RENDERING_CANCELLED_TIMEOUT;Kt.extraDelay>0&&Kt.extraDelay<1e3&&(Xt+=Kt.extraDelay),zt.streamReaderCancelTimeout=setTimeout(()=>{zt.streamReaderCancelTimeout=null,this._abortOperatorList({intentState:zt,reason:Kt,force:!0})},Xt);return}}if(zt.streamReader.cancel(new _util.AbortException(Kt.message)).catch(()=>{}),zt.streamReader=null,!this._transport.destroyed){for(const[Xt,en]of this._intentStates)if(en===zt){this._intentStates.delete(Xt);break}this.cleanup()}}}get stats(){return this._stats}}_e=new WeakMap,vt=new WeakMap,xt=new WeakSet,tm=function(zt=!1){if(Ut(this,xt,Dy).call(this),!wt(this,vt)||this.destroyed)return!1;if(zt)return Vt(this,_e,setTimeout(()=>{Vt(this,_e,null),Ut(this,xt,tm).call(this,!1)},DELAYED_CLEANUP_TIMEOUT)),!1;for(const{renderTasks:Kt,operatorList:nn}of this._intentStates.values())if(Kt.size>0||!nn.lastChunk)return!1;return this._intentStates.clear(),this.objs.clear(),Vt(this,vt,!1),!0},Dy=function(){wt(this,_e)&&(clearTimeout(wt(this,_e)),Vt(this,_e,null))},exports.PDFPageProxy=PDFPageProxy;class LoopbackPort{constructor(){Gt(this,At,new Set);Gt(this,_t,Promise.resolve())}postMessage(zt,Kt){const nn={data:structuredClone(zt,Kt?{transfer:Kt}:null)};wt(this,_t).then(()=>{for(const Xt of wt(this,At))Xt.call(this,nn)})}addEventListener(zt,Kt){wt(this,At).add(Kt)}removeEventListener(zt,Kt){wt(this,At).delete(Kt)}terminate(){wt(this,At).clear()}}At=new WeakMap,_t=new WeakMap,exports.LoopbackPort=LoopbackPort;const PDFWorkerUtil={isWorkerDisabled:!1,fallbackWorkerSrc:null,fakeWorkerId:0};exports.PDFWorkerUtil=PDFWorkerUtil;{if(_util.isNodeJS&&typeof commonjsRequire=="function")PDFWorkerUtil.isWorkerDisabled=!0,PDFWorkerUtil.fallbackWorkerSrc="./pdf.worker.js";else if(typeof document=="object"){const jt=(Ct=document==null?void 0:document.currentScript)==null?void 0:Ct.src;jt&&(PDFWorkerUtil.fallbackWorkerSrc=jt.replace(/(\.(?:min\.)?js)(\?.*)?$/i,".worker$1$2"))}PDFWorkerUtil.isSameOrigin=function(jt,zt){let Kt;try{if(Kt=new URL(jt),!Kt.origin||Kt.origin==="null")return!1}catch{return!1}const nn=new URL(zt,Kt);return Kt.origin===nn.origin},PDFWorkerUtil.createCDNWrapper=function(jt){const zt=`importScripts("${jt}");`;return URL.createObjectURL(new Blob([zt]))}}const _PDFWorker=class _PDFWorker{constructor({name:jt=null,port:zt=null,verbosity:Kt=(0,_util.getVerbosityLevel)()}={}){var nn;if(this.name=jt,this.destroyed=!1,this.verbosity=Kt,this._readyCapability=new _util.PromiseCapability,this._port=null,this._webWorker=null,this._messageHandler=null,zt){if((nn=wt(_PDFWorker,St))!=null&&nn.has(zt))throw new Error("Cannot use more than one PDFWorker per port.");(wt(_PDFWorker,St)||Vt(_PDFWorker,St,new WeakMap)).set(zt,this),this._initializeFromPort(zt);return}this._initialize()}get promise(){return this._readyCapability.promise}get port(){return this._port}get messageHandler(){return this._messageHandler}_initializeFromPort(jt){this._port=jt,this._messageHandler=new _message_handler.MessageHandler("main","worker",jt),this._messageHandler.on("ready",function(){}),this._readyCapability.resolve(),this._messageHandler.send("configure",{verbosity:this.verbosity})}_initialize(){if(!PDFWorkerUtil.isWorkerDisabled&&!_PDFWorker._mainThreadWorkerMessageHandler){let{workerSrc:jt}=_PDFWorker;try{PDFWorkerUtil.isSameOrigin(window.location.href,jt)||(jt=PDFWorkerUtil.createCDNWrapper(new URL(jt,window.location).href));const zt=new Worker(jt),Kt=new _message_handler.MessageHandler("main","worker",zt),nn=()=>{zt.removeEventListener("error",Xt),Kt.destroy(),zt.terminate(),this.destroyed?this._readyCapability.reject(new Error("Worker was destroyed")):this._setupFakeWorker()},Xt=()=>{this._webWorker||nn()};zt.addEventListener("error",Xt),Kt.on("test",on=>{if(zt.removeEventListener("error",Xt),this.destroyed){nn();return}on?(this._messageHandler=Kt,this._port=zt,this._webWorker=zt,this._readyCapability.resolve(),Kt.send("configure",{verbosity:this.verbosity})):(this._setupFakeWorker(),Kt.destroy(),zt.terminate())}),Kt.on("ready",on=>{if(zt.removeEventListener("error",Xt),this.destroyed){nn();return}try{en()}catch{this._setupFakeWorker()}});const en=()=>{const on=new Uint8Array;Kt.send("test",on,[on.buffer])};en();return}catch{(0,_util.info)("The worker has been disabled.")}}this._setupFakeWorker()}_setupFakeWorker(){PDFWorkerUtil.isWorkerDisabled||((0,_util.warn)("Setting up fake worker."),PDFWorkerUtil.isWorkerDisabled=!0),_PDFWorker._setupFakeWorkerGlobal.then(jt=>{if(this.destroyed){this._readyCapability.reject(new Error("Worker was destroyed"));return}const zt=new LoopbackPort;this._port=zt;const Kt=`fake${PDFWorkerUtil.fakeWorkerId++}`,nn=new _message_handler.MessageHandler(Kt+"_worker",Kt,zt);jt.setup(nn,zt);const Xt=new _message_handler.MessageHandler(Kt,Kt+"_worker",zt);this._messageHandler=Xt,this._readyCapability.resolve(),Xt.send("configure",{verbosity:this.verbosity})}).catch(jt=>{this._readyCapability.reject(new Error(`Setting up fake worker failed: "${jt.message}".`))})}destroy(){var jt;this.destroyed=!0,this._webWorker&&(this._webWorker.terminate(),this._webWorker=null),(jt=wt(_PDFWorker,St))==null||jt.delete(this._port),this._port=null,this._messageHandler&&(this._messageHandler.destroy(),this._messageHandler=null)}static fromPort(jt){var Kt;if(!(jt!=null&&jt.port))throw new Error("PDFWorker.fromPort - invalid method signature.");const zt=(Kt=wt(this,St))==null?void 0:Kt.get(jt.port);if(zt){if(zt._pendingDestroy)throw new Error("PDFWorker.fromPort - the worker is being destroyed.\nPlease remember to await `PDFDocumentLoadingTask.destroy()`-calls.");return zt}return new _PDFWorker(jt)}static get workerSrc(){if(_worker_options.GlobalWorkerOptions.workerSrc)return _worker_options.GlobalWorkerOptions.workerSrc;if(PDFWorkerUtil.fallbackWorkerSrc!==null)return _util.isNodeJS||(0,_display_utils.deprecated)('No "GlobalWorkerOptions.workerSrc" specified.'),PDFWorkerUtil.fallbackWorkerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}static get _mainThreadWorkerMessageHandler(){var jt;try{return((jt=globalThis.pdfjsWorker)==null?void 0:jt.WorkerMessageHandler)||null}catch{return null}}static get _setupFakeWorkerGlobal(){const loader=async()=>{const mainWorkerMessageHandler=this._mainThreadWorkerMessageHandler;if(mainWorkerMessageHandler)return mainWorkerMessageHandler;if(_util.isNodeJS&&typeof commonjsRequire=="function"){const worker=eval("require")(this.workerSrc);return worker.WorkerMessageHandler}return await(0,_display_utils.loadScript)(this.workerSrc),window.pdfjsWorker.WorkerMessageHandler};return(0,_util.shadow)(this,"_setupFakeWorkerGlobal",loader())}};St=new WeakMap,Gt(_PDFWorker,St);let PDFWorker=_PDFWorker;exports.PDFWorker=PDFWorker;class WorkerTransport{constructor(zt,Kt,nn,Xt,en){Gt(this,Lt);Gt(this,Rt,new Map);Gt(this,Pt,new Map);Gt(this,kt,new Map);Gt(this,Mt,null);this.messageHandler=zt,this.loadingTask=Kt,this.commonObjs=new PDFObjects,this.fontLoader=new _font_loader.FontLoader({ownerDocument:Xt.ownerDocument,styleElement:Xt.styleElement}),this._params=Xt,this.canvasFactory=en.canvasFactory,this.filterFactory=en.filterFactory,this.cMapReaderFactory=en.cMapReaderFactory,this.standardFontDataFactory=en.standardFontDataFactory,this.destroyed=!1,this.destroyCapability=null,this._networkStream=nn,this._fullReader=null,this._lastProgress=null,this.downloadInfoCapability=new _util.PromiseCapability,this.setupMessageHandler()}get annotationStorage(){return(0,_util.shadow)(this,"annotationStorage",new _annotation_storage.AnnotationStorage)}getRenderingIntent(zt,Kt=_util.AnnotationMode.ENABLE,nn=null,Xt=!1){let en=_util.RenderingIntentFlag.DISPLAY,on=_annotation_storage.SerializableEmpty;switch(zt){case"any":en=_util.RenderingIntentFlag.ANY;break;case"display":break;case"print":en=_util.RenderingIntentFlag.PRINT;break;default:(0,_util.warn)(`getRenderingIntent - invalid intent: ${zt}`)}switch(Kt){case _util.AnnotationMode.DISABLE:en+=_util.RenderingIntentFlag.ANNOTATIONS_DISABLE;break;case _util.AnnotationMode.ENABLE:break;case _util.AnnotationMode.ENABLE_FORMS:en+=_util.RenderingIntentFlag.ANNOTATIONS_FORMS;break;case _util.AnnotationMode.ENABLE_STORAGE:en+=_util.RenderingIntentFlag.ANNOTATIONS_STORAGE,on=(en&_util.RenderingIntentFlag.PRINT&&nn instanceof _annotation_storage.PrintAnnotationStorage?nn:this.annotationStorage).serializable;break;default:(0,_util.warn)(`getRenderingIntent - invalid annotationMode: ${Kt}`)}return Xt&&(en+=_util.RenderingIntentFlag.OPLIST),{renderingIntent:en,cacheKey:`${en}_${on.hash}`,annotationStorageSerializable:on}}destroy(){var nn;if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=new _util.PromiseCapability,(nn=wt(this,Mt))==null||nn.reject(new Error("Worker was destroyed during onPassword callback"));const zt=[];for(const Xt of wt(this,Pt).values())zt.push(Xt._destroy());wt(this,Pt).clear(),wt(this,kt).clear(),this.hasOwnProperty("annotationStorage")&&this.annotationStorage.resetModified();const Kt=this.messageHandler.sendWithPromise("Terminate",null);return zt.push(Kt),Promise.all(zt).then(()=>{var Xt;this.commonObjs.clear(),this.fontLoader.clear(),wt(this,Rt).clear(),this.filterFactory.destroy(),(Xt=this._networkStream)==null||Xt.cancelAllRequests(new _util.AbortException("Worker was terminated.")),this.messageHandler&&(this.messageHandler.destroy(),this.messageHandler=null),this.destroyCapability.resolve()},this.destroyCapability.reject),this.destroyCapability.promise}setupMessageHandler(){const{messageHandler:zt,loadingTask:Kt}=this;zt.on("GetReader",(nn,Xt)=>{(0,_util.assert)(this._networkStream,"GetReader - no `IPDFStream` instance available."),this._fullReader=this._networkStream.getFullReader(),this._fullReader.onProgress=en=>{this._lastProgress={loaded:en.loaded,total:en.total}},Xt.onPull=()=>{this._fullReader.read().then(function({value:en,done:on}){if(on){Xt.close();return}(0,_util.assert)(en instanceof ArrayBuffer,"GetReader - expected an ArrayBuffer."),Xt.enqueue(new Uint8Array(en),1,[en])}).catch(en=>{Xt.error(en)})},Xt.onCancel=en=>{this._fullReader.cancel(en),Xt.ready.catch(on=>{if(!this.destroyed)throw on})}}),zt.on("ReaderHeadersReady",nn=>{const Xt=new _util.PromiseCapability,en=this._fullReader;return en.headersReady.then(()=>{var on;(!en.isStreamingSupported||!en.isRangeSupported)&&(this._lastProgress&&((on=Kt.onProgress)==null||on.call(Kt,this._lastProgress)),en.onProgress=An=>{var un;(un=Kt.onProgress)==null||un.call(Kt,{loaded:An.loaded,total:An.total})}),Xt.resolve({isStreamingSupported:en.isStreamingSupported,isRangeSupported:en.isRangeSupported,contentLength:en.contentLength})},Xt.reject),Xt.promise}),zt.on("GetRangeReader",(nn,Xt)=>{(0,_util.assert)(this._networkStream,"GetRangeReader - no `IPDFStream` instance available.");const en=this._networkStream.getRangeReader(nn.begin,nn.end);if(!en){Xt.close();return}Xt.onPull=()=>{en.read().then(function({value:on,done:An}){if(An){Xt.close();return}(0,_util.assert)(on instanceof ArrayBuffer,"GetRangeReader - expected an ArrayBuffer."),Xt.enqueue(new Uint8Array(on),1,[on])}).catch(on=>{Xt.error(on)})},Xt.onCancel=on=>{en.cancel(on),Xt.ready.catch(An=>{if(!this.destroyed)throw An})}}),zt.on("GetDoc",({pdfInfo:nn})=>{this._numPages=nn.numPages,this._htmlForXfa=nn.htmlForXfa,delete nn.htmlForXfa,Kt._capability.resolve(new PDFDocumentProxy(nn,this))}),zt.on("DocException",function(nn){let Xt;switch(nn.name){case"PasswordException":Xt=new _util.PasswordException(nn.message,nn.code);break;case"InvalidPDFException":Xt=new _util.InvalidPDFException(nn.message);break;case"MissingPDFException":Xt=new _util.MissingPDFException(nn.message);break;case"UnexpectedResponseException":Xt=new _util.UnexpectedResponseException(nn.message,nn.status);break;case"UnknownErrorException":Xt=new _util.UnknownErrorException(nn.message,nn.details);break;default:(0,_util.unreachable)("DocException - expected a valid Error.")}Kt._capability.reject(Xt)}),zt.on("PasswordRequest",nn=>{if(Vt(this,Mt,new _util.PromiseCapability),Kt.onPassword){const Xt=en=>{en instanceof Error?wt(this,Mt).reject(en):wt(this,Mt).resolve({password:en})};try{Kt.onPassword(Xt,nn.code)}catch(en){wt(this,Mt).reject(en)}}else wt(this,Mt).reject(new _util.PasswordException(nn.message,nn.code));return wt(this,Mt).promise}),zt.on("DataLoaded",nn=>{var Xt;(Xt=Kt.onProgress)==null||Xt.call(Kt,{loaded:nn.length,total:nn.length}),this.downloadInfoCapability.resolve(nn)}),zt.on("StartRenderPage",nn=>{if(this.destroyed)return;wt(this,Pt).get(nn.pageIndex)._startRenderPage(nn.transparency,nn.cacheKey)}),zt.on("commonobj",([nn,Xt,en])=>{var on;if(!this.destroyed&&!this.commonObjs.has(nn))switch(Xt){case"Font":const An=this._params;if("error"in en){const an=en.error;(0,_util.warn)(`Error during font loading: ${an}`),this.commonObjs.resolve(nn,an);break}const un=An.pdfBug&&((on=globalThis.FontInspector)!=null&&on.enabled)?(an,dn)=>globalThis.FontInspector.fontAdded(an,dn):null,vn=new _font_loader.FontFaceObject(en,{isEvalSupported:An.isEvalSupported,disableFontFace:An.disableFontFace,ignoreErrors:An.ignoreErrors,inspectFont:un});this.fontLoader.bind(vn).catch(an=>zt.sendWithPromise("FontFallback",{id:nn})).finally(()=>{!An.fontExtraProperties&&vn.data&&(vn.data=null),this.commonObjs.resolve(nn,vn)});break;case"FontPath":case"Image":case"Pattern":this.commonObjs.resolve(nn,en);break;default:throw new Error(`Got unknown common object type ${Xt}`)}}),zt.on("obj",([nn,Xt,en,on])=>{var un;if(this.destroyed)return;const An=wt(this,Pt).get(Xt);if(!An.objs.has(nn))switch(en){case"Image":if(An.objs.resolve(nn,on),on){let vn;if(on.bitmap){const{width:an,height:dn}=on;vn=an*dn*4}else vn=((un=on.data)==null?void 0:un.length)||0;vn>_util.MAX_IMAGE_SIZE_TO_CACHE&&(An._maybeCleanupAfterRender=!0)}break;case"Pattern":An.objs.resolve(nn,on);break;default:throw new Error(`Got unknown object type ${en}`)}}),zt.on("DocProgress",nn=>{var Xt;this.destroyed||(Xt=Kt.onProgress)==null||Xt.call(Kt,{loaded:nn.loaded,total:nn.total})}),zt.on("FetchBuiltInCMap",nn=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.cMapReaderFactory?this.cMapReaderFactory.fetch(nn):Promise.reject(new Error("CMapReaderFactory not initialized, see the `useWorkerFetch` parameter."))),zt.on("FetchStandardFontData",nn=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.standardFontDataFactory?this.standardFontDataFactory.fetch(nn):Promise.reject(new Error("StandardFontDataFactory not initialized, see the `useWorkerFetch` parameter.")))}getData(){return this.messageHandler.sendWithPromise("GetData",null)}saveDocument(){var nn;this.annotationStorage.size<=0&&(0,_util.warn)("saveDocument called while `annotationStorage` is empty, please use the getData-method instead.");const{map:zt,transfers:Kt}=this.annotationStorage.serializable;return this.messageHandler.sendWithPromise("SaveDocument",{isPureXfa:!!this._htmlForXfa,numPages:this._numPages,annotationStorage:zt,filename:((nn=this._fullReader)==null?void 0:nn.filename)??null},Kt).finally(()=>{this.annotationStorage.resetModified()})}getPage(zt){if(!Number.isInteger(zt)||zt<=0||zt>this._numPages)return Promise.reject(new Error("Invalid page request."));const Kt=zt-1,nn=wt(this,kt).get(Kt);if(nn)return nn;const Xt=this.messageHandler.sendWithPromise("GetPage",{pageIndex:Kt}).then(en=>{if(this.destroyed)throw new Error("Transport destroyed");const on=new PDFPageProxy(Kt,en,this,this._params.pdfBug);return wt(this,Pt).set(Kt,on),on});return wt(this,kt).set(Kt,Xt),Xt}getPageIndex(zt){return typeof zt!="object"||zt===null||!Number.isInteger(zt.num)||zt.num<0||!Number.isInteger(zt.gen)||zt.gen<0?Promise.reject(new Error("Invalid pageIndex request.")):this.messageHandler.sendWithPromise("GetPageIndex",{num:zt.num,gen:zt.gen})}getAnnotations(zt,Kt){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:zt,intent:Kt})}getFieldObjects(){return Ut(this,Lt,Iy).call(this,"GetFieldObjects")}hasJSActions(){return Ut(this,Lt,Iy).call(this,"HasJSActions")}getCalculationOrderIds(){return this.messageHandler.sendWithPromise("GetCalculationOrderIds",null)}getDestinations(){return this.messageHandler.sendWithPromise("GetDestinations",null)}getDestination(zt){return typeof zt!="string"?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:zt})}getPageLabels(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}getPageLayout(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}getPageMode(){return this.messageHandler.sendWithPromise("GetPageMode",null)}getViewerPreferences(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}getOpenAction(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}getAttachments(){return this.messageHandler.sendWithPromise("GetAttachments",null)}getDocJSActions(){return Ut(this,Lt,Iy).call(this,"GetDocJSActions")}getPageJSActions(zt){return this.messageHandler.sendWithPromise("GetPageJSActions",{pageIndex:zt})}getStructTree(zt){return this.messageHandler.sendWithPromise("GetStructTree",{pageIndex:zt})}getOutline(){return this.messageHandler.sendWithPromise("GetOutline",null)}getOptionalContentConfig(){return this.messageHandler.sendWithPromise("GetOptionalContentConfig",null).then(zt=>new _optional_content_config.OptionalContentConfig(zt))}getPermissions(){return this.messageHandler.sendWithPromise("GetPermissions",null)}getMetadata(){const zt="GetMetadata",Kt=wt(this,Rt).get(zt);if(Kt)return Kt;const nn=this.messageHandler.sendWithPromise(zt,null).then(Xt=>{var en,on;return{info:Xt[0],metadata:Xt[1]?new _metadata.Metadata(Xt[1]):null,contentDispositionFilename:((en=this._fullReader)==null?void 0:en.filename)??null,contentLength:((on=this._fullReader)==null?void 0:on.contentLength)??null}});return wt(this,Rt).set(zt,nn),nn}getMarkInfo(){return this.messageHandler.sendWithPromise("GetMarkInfo",null)}async startCleanup(zt=!1){if(!this.destroyed){await this.messageHandler.sendWithPromise("Cleanup",null);for(const Kt of wt(this,Pt).values())if(!Kt.cleanup())throw new Error(`startCleanup: Page ${Kt.pageNumber} is currently rendering.`);this.commonObjs.clear(),zt||this.fontLoader.clear(),wt(this,Rt).clear(),this.filterFactory.destroy(!0)}}get loadingParams(){const{disableAutoFetch:zt,enableXfa:Kt}=this._params;return(0,_util.shadow)(this,"loadingParams",{disableAutoFetch:zt,enableXfa:Kt})}}Rt=new WeakMap,Pt=new WeakMap,kt=new WeakMap,Mt=new WeakMap,Lt=new WeakSet,Iy=function(zt,Kt=null){const nn=wt(this,Rt).get(zt);if(nn)return nn;const Xt=this.messageHandler.sendWithPromise(zt,Kt);return wt(this,Rt).set(zt,Xt),Xt};class PDFObjects{constructor(){Gt(this,Dt);Gt(this,Ft,Object.create(null))}get(zt,Kt=null){if(Kt){const Xt=Ut(this,Dt,w1).call(this,zt);return Xt.capability.promise.then(()=>Kt(Xt.data)),null}const nn=wt(this,Ft)[zt];if(!(nn!=null&&nn.capability.settled))throw new Error(`Requesting object that isn't resolved yet ${zt}.`);return nn.data}has(zt){const Kt=wt(this,Ft)[zt];return(Kt==null?void 0:Kt.capability.settled)||!1}resolve(zt,Kt=null){const nn=Ut(this,Dt,w1).call(this,zt);nn.data=Kt,nn.capability.resolve()}clear(){var zt;for(const Kt in wt(this,Ft)){const{data:nn}=wt(this,Ft)[Kt];(zt=nn==null?void 0:nn.bitmap)==null||zt.close()}Vt(this,Ft,Object.create(null))}}Ft=new WeakMap,Dt=new WeakSet,w1=function(zt){var Kt;return(Kt=wt(this,Ft))[zt]||(Kt[zt]={capability:new _util.PromiseCapability,data:null})};class RenderTask{constructor(zt){Gt(this,Ht,null);Vt(this,Ht,zt),this.onContinue=null}get promise(){return wt(this,Ht).capability.promise}cancel(zt=0){wt(this,Ht).cancel(null,zt)}get separateAnnots(){const{separateAnnots:zt}=wt(this,Ht).operatorList;if(!zt)return!1;const{annotationCanvasMap:Kt}=wt(this,Ht);return zt.form||zt.canvas&&(Kt==null?void 0:Kt.size)>0}}Ht=new WeakMap,exports.RenderTask=RenderTask;const Bt=class Bt{constructor({callback:zt,params:Kt,objs:nn,commonObjs:Xt,annotationCanvasMap:en,operatorList:on,pageIndex:An,canvasFactory:un,filterFactory:vn,useRequestAnimationFrame:an=!1,pdfBug:dn=!1,pageColors:tn=null}){this.callback=zt,this.params=Kt,this.objs=nn,this.commonObjs=Xt,this.annotationCanvasMap=en,this.operatorListIdx=null,this.operatorList=on,this._pageIndex=An,this.canvasFactory=un,this.filterFactory=vn,this._pdfBug=dn,this.pageColors=tn,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=an===!0&&typeof window<"u",this.cancelled=!1,this.capability=new _util.PromiseCapability,this.task=new RenderTask(this),this._cancelBound=this.cancel.bind(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=Kt.canvasContext.canvas}get completed(){return this.capability.promise.catch(function(){})}initializeGraphics({transparency:zt=!1,optionalContentConfig:Kt}){var An,un;if(this.cancelled)return;if(this._canvas){if(wt(Bt,Ot).has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");wt(Bt,Ot).add(this._canvas)}this._pdfBug&&((An=globalThis.StepperManager)!=null&&An.enabled)&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());const{canvasContext:nn,viewport:Xt,transform:en,background:on}=this.params;this.gfx=new _canvas.CanvasGraphics(nn,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:Kt},this.annotationCanvasMap,this.pageColors),this.gfx.beginDrawing({transform:en,viewport:Xt,transparency:zt,background:on}),this.operatorListIdx=0,this.graphicsReady=!0,(un=this.graphicsReadyCallback)==null||un.call(this)}cancel(zt=null,Kt=0){var nn;this.running=!1,this.cancelled=!0,(nn=this.gfx)==null||nn.endDrawing(),wt(Bt,Ot).delete(this._canvas),this.callback(zt||new _display_utils.RenderingCancelledException(`Rendering cancelled, page ${this._pageIndex+1}`,Kt))}operatorListChanged(){var zt;if(!this.graphicsReady){this.graphicsReadyCallback||(this.graphicsReadyCallback=this._continueBound);return}(zt=this.stepper)==null||zt.updateOperatorList(this.operatorList),!this.running&&this._continue()}_continue(){this.running=!0,!this.cancelled&&(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}_scheduleNext(){this._useRequestAnimationFrame?window.requestAnimationFrame(()=>{this._nextBound().catch(this._cancelBound)}):Promise.resolve().then(this._nextBound).catch(this._cancelBound)}async _next(){this.cancelled||(this.operatorListIdx=this.gfx.executeOperatorList(this.operatorList,this.operatorListIdx,this._continueBound,this.stepper),this.operatorListIdx===this.operatorList.argsArray.length&&(this.running=!1,this.operatorList.lastChunk&&(this.gfx.endDrawing(),wt(Bt,Ot).delete(this._canvas),this.callback())))}};Ot=new WeakMap,Gt(Bt,Ot,new WeakSet);let InternalRenderTask=Bt;const version="3.11.174";exports.version=version;const build="ce8716743";exports.build=build},(ht,$,_e)=>{var Ct,St,Rt,VA,kt;Object.defineProperty($,"__esModule",{value:!0}),$.SerializableEmpty=$.PrintAnnotationStorage=$.AnnotationStorage=void 0;var vt=_e(1),xt=_e(4),bt=_e(8);const Et=Object.freeze({map:null,hash:"",transfers:void 0});$.SerializableEmpty=Et;class At{constructor(){Gt(this,Rt);Gt(this,Ct,!1);Gt(this,St,new Map);this.onSetModified=null,this.onResetModified=null,this.onAnnotationEditor=null}getValue(Lt,$t){const Ft=wt(this,St).get(Lt);return Ft===void 0?$t:Object.assign($t,Ft)}getRawValue(Lt){return wt(this,St).get(Lt)}remove(Lt){if(wt(this,St).delete(Lt),wt(this,St).size===0&&this.resetModified(),typeof this.onAnnotationEditor=="function"){for(const $t of wt(this,St).values())if($t instanceof xt.AnnotationEditor)return;this.onAnnotationEditor(null)}}setValue(Lt,$t){const Ft=wt(this,St).get(Lt);let Dt=!1;if(Ft!==void 0)for(const[Nt,Ht]of Object.entries($t))Ft[Nt]!==Ht&&(Dt=!0,Ft[Nt]=Ht);else Dt=!0,wt(this,St).set(Lt,$t);Dt&&Ut(this,Rt,VA).call(this),$t instanceof xt.AnnotationEditor&&typeof this.onAnnotationEditor=="function"&&this.onAnnotationEditor($t.constructor._type)}has(Lt){return wt(this,St).has(Lt)}getAll(){return wt(this,St).size>0?(0,vt.objectFromMap)(wt(this,St)):null}setAll(Lt){for(const[$t,Ft]of Object.entries(Lt))this.setValue($t,Ft)}get size(){return wt(this,St).size}resetModified(){wt(this,Ct)&&(Vt(this,Ct,!1),typeof this.onResetModified=="function"&&this.onResetModified())}get print(){return new _t(this)}get serializable(){if(wt(this,St).size===0)return Et;const Lt=new Map,$t=new bt.MurmurHash3_64,Ft=[],Dt=Object.create(null);let Nt=!1;for(const[Ht,Ot]of wt(this,St)){const Bt=Ot instanceof xt.AnnotationEditor?Ot.serialize(!1,Dt):Ot;Bt&&(Lt.set(Ht,Bt),$t.update(`${Ht}:${JSON.stringify(Bt)}`),Nt||(Nt=!!Bt.bitmap))}if(Nt)for(const Ht of Lt.values())Ht.bitmap&&Ft.push(Ht.bitmap);return Lt.size>0?{map:Lt,hash:$t.hexdigest(),transfers:Ft}:Et}}Ct=new WeakMap,St=new WeakMap,Rt=new WeakSet,VA=function(){wt(this,Ct)||(Vt(this,Ct,!0),typeof this.onSetModified=="function"&&this.onSetModified())},$.AnnotationStorage=At;class _t extends At{constructor($t){super();Gt(this,kt);const{map:Ft,hash:Dt,transfers:Nt}=$t.serializable,Ht=structuredClone(Ft,Nt?{transfer:Nt}:null);Vt(this,kt,{map:Ht,hash:Dt,transfers:Nt})}get print(){(0,vt.unreachable)("Should not call PrintAnnotationStorage.print")}get serializable(){return wt(this,kt)}}kt=new WeakMap,$.PrintAnnotationStorage=_t},(ht,$,_e)=>{var _t,Ct,St,Rt,Pt,kt,Mt,Lt,$t,Ft,Dt,Nt,Ht,Ot,Bt,_1,S1,Kt,C1,R1,WA,GA,XA,T1,qA;Object.defineProperty($,"__esModule",{value:!0}),$.AnnotationEditor=void 0;var vt=_e(5),xt=_e(1),bt=_e(6);const an=class an{constructor(tn){Gt(this,Bt);Gt(this,_t,"");Gt(this,Ct,!1);Gt(this,St,null);Gt(this,Rt,null);Gt(this,Pt,null);Gt(this,kt,!1);Gt(this,Mt,null);Gt(this,Lt,this.focusin.bind(this));Gt(this,$t,this.focusout.bind(this));Gt(this,Ft,!1);Gt(this,Dt,!1);Gt(this,Nt,!1);_r(this,"_initialOptions",Object.create(null));_r(this,"_uiManager",null);_r(this,"_focusEventsAllowed",!0);_r(this,"_l10nPromise",null);Gt(this,Ht,!1);Gt(this,Ot,an._zIndex++);this.constructor===an&&(0,xt.unreachable)("Cannot initialize AnnotationEditor."),this.parent=tn.parent,this.id=tn.id,this.width=this.height=null,this.pageIndex=tn.parent.pageIndex,this.name=tn.name,this.div=null,this._uiManager=tn.uiManager,this.annotationElementId=null,this._willKeepAspectRatio=!1,this._initialOptions.isCentered=tn.isCentered,this._structTreeParentId=null;const{rotation:gn,rawDims:{pageWidth:Sn,pageHeight:rn,pageX:qt,pageY:Yt}}=this.parent.viewport;this.rotation=gn,this.pageRotation=(360+gn-this._uiManager.viewParameters.rotation)%360,this.pageDimensions=[Sn,rn],this.pageTranslation=[qt,Yt];const[Jt,hn]=this.parentDimensions;this.x=tn.x/Jt,this.y=tn.y/hn,this.isAttachedToDOM=!1,this.deleted=!1}get editorType(){return Object.getPrototypeOf(this).constructor._type}static get _defaultLineColor(){return(0,xt.shadow)(this,"_defaultLineColor",this._colorManager.getHexCode("CanvasText"))}static deleteAnnotationElement(tn){const gn=new At({id:tn.parent.getNextId(),parent:tn.parent,uiManager:tn._uiManager});gn.annotationElementId=tn.annotationElementId,gn.deleted=!0,gn._uiManager.addToAnnotationStorage(gn)}static initialize(tn,gn=null){if(an._l10nPromise||(an._l10nPromise=new Map(["editor_alt_text_button_label","editor_alt_text_edit_button_label","editor_alt_text_decorative_tooltip"].map(rn=>[rn,tn.get(rn)]))),gn!=null&&gn.strings)for(const rn of gn.strings)an._l10nPromise.set(rn,tn.get(rn));if(an._borderLineWidth!==-1)return;const Sn=getComputedStyle(document.documentElement);an._borderLineWidth=parseFloat(Sn.getPropertyValue("--outline-width"))||0}static updateDefaultParams(tn,gn){}static get defaultPropertiesToUpdate(){return[]}static isHandlingMimeForPasting(tn){return!1}static paste(tn,gn){(0,xt.unreachable)("Not implemented")}get propertiesToUpdate(){return[]}get _isDraggable(){return wt(this,Ht)}set _isDraggable(tn){var gn;Vt(this,Ht,tn),(gn=this.div)==null||gn.classList.toggle("draggable",tn)}center(){const[tn,gn]=this.pageDimensions;switch(this.parentRotation){case 90:this.x-=this.height*gn/(tn*2),this.y+=this.width*tn/(gn*2);break;case 180:this.x+=this.width/2,this.y+=this.height/2;break;case 270:this.x+=this.height*gn/(tn*2),this.y-=this.width*tn/(gn*2);break;default:this.x-=this.width/2,this.y-=this.height/2;break}this.fixAndSetPosition()}addCommands(tn){this._uiManager.addCommands(tn)}get currentLayer(){return this._uiManager.currentLayer}setInBackground(){this.div.style.zIndex=0}setInForeground(){this.div.style.zIndex=wt(this,Ot)}setParent(tn){tn!==null&&(this.pageIndex=tn.pageIndex,this.pageDimensions=tn.pageDimensions),this.parent=tn}focusin(tn){this._focusEventsAllowed&&(wt(this,Ft)?Vt(this,Ft,!1):this.parent.setSelected(this))}focusout(tn){var Sn;if(!this._focusEventsAllowed||!this.isAttachedToDOM)return;const gn=tn.relatedTarget;gn!=null&&gn.closest(`#${this.id}`)||(tn.preventDefault(),(Sn=this.parent)!=null&&Sn.isMultipleSelection||this.commitOrRemove())}commitOrRemove(){this.isEmpty()?this.remove():this.commit()}commit(){this.addToAnnotationStorage()}addToAnnotationStorage(){this._uiManager.addToAnnotationStorage(this)}setAt(tn,gn,Sn,rn){const[qt,Yt]=this.parentDimensions;[Sn,rn]=this.screenToPageTranslation(Sn,rn),this.x=(tn+Sn)/qt,this.y=(gn+rn)/Yt,this.fixAndSetPosition()}translate(tn,gn){Ut(this,Bt,_1).call(this,this.parentDimensions,tn,gn)}translateInPage(tn,gn){Ut(this,Bt,_1).call(this,this.pageDimensions,tn,gn),this.div.scrollIntoView({block:"nearest"})}drag(tn,gn){const[Sn,rn]=this.parentDimensions;if(this.x+=tn/Sn,this.y+=gn/rn,this.parent&&(this.x<0||this.x>1||this.y<0||this.y>1)){const{x:cn,y:fn}=this.div.getBoundingClientRect();this.parent.findNewParent(this,cn,fn)&&(this.x-=Math.floor(this.x),this.y-=Math.floor(this.y))}let{x:qt,y:Yt}=this;const[Jt,hn]=Ut(this,Bt,S1).call(this);qt+=Jt,Yt+=hn,this.div.style.left=`${(100*qt).toFixed(2)}%`,this.div.style.top=`${(100*Yt).toFixed(2)}%`,this.div.scrollIntoView({block:"nearest"})}fixAndSetPosition(){const[tn,gn]=this.pageDimensions;let{x:Sn,y:rn,width:qt,height:Yt}=this;switch(qt*=tn,Yt*=gn,Sn*=tn,rn*=gn,this.rotation){case 0:Sn=Math.max(0,Math.min(tn-qt,Sn)),rn=Math.max(0,Math.min(gn-Yt,rn));break;case 90:Sn=Math.max(0,Math.min(tn-Yt,Sn)),rn=Math.min(gn,Math.max(qt,rn));break;case 180:Sn=Math.min(tn,Math.max(qt,Sn)),rn=Math.min(gn,Math.max(Yt,rn));break;case 270:Sn=Math.min(tn,Math.max(Yt,Sn)),rn=Math.max(0,Math.min(gn-qt,rn));break}this.x=Sn/=tn,this.y=rn/=gn;const[Jt,hn]=Ut(this,Bt,S1).call(this);Sn+=Jt,rn+=hn;const{style:cn}=this.div;cn.left=`${(100*Sn).toFixed(2)}%`,cn.top=`${(100*rn).toFixed(2)}%`,this.moveInDOM()}screenToPageTranslation(tn,gn){var Sn;return Ut(Sn=an,Kt,C1).call(Sn,tn,gn,this.parentRotation)}pageTranslationToScreen(tn,gn){var Sn;return Ut(Sn=an,Kt,C1).call(Sn,tn,gn,360-this.parentRotation)}get parentScale(){return this._uiManager.viewParameters.realScale}get parentRotation(){return(this._uiManager.viewParameters.rotation+this.pageRotation)%360}get parentDimensions(){const{parentScale:tn,pageDimensions:[gn,Sn]}=this,rn=gn*tn,qt=Sn*tn;return xt.FeatureTest.isCSSRoundSupported?[Math.round(rn),Math.round(qt)]:[rn,qt]}setDims(tn,gn){var qt;const[Sn,rn]=this.parentDimensions;this.div.style.width=`${(100*tn/Sn).toFixed(2)}%`,wt(this,kt)||(this.div.style.height=`${(100*gn/rn).toFixed(2)}%`),(qt=wt(this,St))==null||qt.classList.toggle("small",tn<an.SMALL_EDITOR_SIZE||gn<an.SMALL_EDITOR_SIZE)}fixDims(){const{style:tn}=this.div,{height:gn,width:Sn}=tn,rn=Sn.endsWith("%"),qt=!wt(this,kt)&&gn.endsWith("%");if(rn&&qt)return;const[Yt,Jt]=this.parentDimensions;rn||(tn.width=`${(100*parseFloat(Sn)/Yt).toFixed(2)}%`),!wt(this,kt)&&!qt&&(tn.height=`${(100*parseFloat(gn)/Jt).toFixed(2)}%`)}getInitialTranslation(){return[0,0]}async addAltTextButton(){if(wt(this,St))return;const tn=Vt(this,St,document.createElement("button"));tn.className="altText";const gn=await an._l10nPromise.get("editor_alt_text_button_label");tn.textContent=gn,tn.setAttribute("aria-label",gn),tn.tabIndex="0",tn.addEventListener("contextmenu",bt.noContextMenu),tn.addEventListener("pointerdown",Sn=>Sn.stopPropagation()),tn.addEventListener("click",Sn=>{Sn.preventDefault(),this._uiManager.editAltText(this)},{capture:!0}),tn.addEventListener("keydown",Sn=>{Sn.target===tn&&Sn.key==="Enter"&&(Sn.preventDefault(),this._uiManager.editAltText(this))}),Ut(this,Bt,T1).call(this),this.div.append(tn),an.SMALL_EDITOR_SIZE||(an.SMALL_EDITOR_SIZE=Math.min(128,Math.round(tn.getBoundingClientRect().width*1.4)))}getClientDimensions(){return this.div.getBoundingClientRect()}get altTextData(){return{altText:wt(this,_t),decorative:wt(this,Ct)}}set altTextData({altText:tn,decorative:gn}){wt(this,_t)===tn&&wt(this,Ct)===gn||(Vt(this,_t,tn),Vt(this,Ct,gn),Ut(this,Bt,T1).call(this))}render(){this.div=document.createElement("div"),this.div.setAttribute("data-editor-rotation",(360-this.rotation)%360),this.div.className=this.name,this.div.setAttribute("id",this.id),this.div.setAttribute("tabIndex",0),this.setInForeground(),this.div.addEventListener("focusin",wt(this,Lt)),this.div.addEventListener("focusout",wt(this,$t));const[tn,gn]=this.parentDimensions;this.parentRotation%180!==0&&(this.div.style.maxWidth=`${(100*gn/tn).toFixed(2)}%`,this.div.style.maxHeight=`${(100*tn/gn).toFixed(2)}%`);const[Sn,rn]=this.getInitialTranslation();return this.translate(Sn,rn),(0,vt.bindEvents)(this,this.div,["pointerdown"]),this.div}pointerdown(tn){const{isMac:gn}=xt.FeatureTest.platform;if(tn.button!==0||tn.ctrlKey&&gn){tn.preventDefault();return}Vt(this,Ft,!0),Ut(this,Bt,qA).call(this,tn)}moveInDOM(){var tn;(tn=this.parent)==null||tn.moveEditorInDOM(this)}_setParentAndPosition(tn,gn,Sn){tn.changeParent(this),this.x=gn,this.y=Sn,this.fixAndSetPosition()}getRect(tn,gn){const Sn=this.parentScale,[rn,qt]=this.pageDimensions,[Yt,Jt]=this.pageTranslation,hn=tn/Sn,cn=gn/Sn,fn=this.x*rn,Rn=this.y*qt,jn=this.width*rn,Un=this.height*qt;switch(this.rotation){case 0:return[fn+hn+Yt,qt-Rn-cn-Un+Jt,fn+hn+jn+Yt,qt-Rn-cn+Jt];case 90:return[fn+cn+Yt,qt-Rn+hn+Jt,fn+cn+Un+Yt,qt-Rn+hn+jn+Jt];case 180:return[fn-hn-jn+Yt,qt-Rn+cn+Jt,fn-hn+Yt,qt-Rn+cn+Un+Jt];case 270:return[fn-cn-Un+Yt,qt-Rn-hn-jn+Jt,fn-cn+Yt,qt-Rn-hn+Jt];default:throw new Error("Invalid rotation")}}getRectInCurrentCoords(tn,gn){const[Sn,rn,qt,Yt]=tn,Jt=qt-Sn,hn=Yt-rn;switch(this.rotation){case 0:return[Sn,gn-Yt,Jt,hn];case 90:return[Sn,gn-rn,hn,Jt];case 180:return[qt,gn-rn,Jt,hn];case 270:return[qt,gn-Yt,hn,Jt];default:throw new Error("Invalid rotation")}}onceAdded(){}isEmpty(){return!1}enableEditMode(){Vt(this,Nt,!0)}disableEditMode(){Vt(this,Nt,!1)}isInEditMode(){return wt(this,Nt)}shouldGetKeyboardEvents(){return!1}needsToBeRebuilt(){return this.div&&!this.isAttachedToDOM}rebuild(){var tn,gn;(tn=this.div)==null||tn.addEventListener("focusin",wt(this,Lt)),(gn=this.div)==null||gn.addEventListener("focusout",wt(this,$t))}serialize(tn=!1,gn=null){(0,xt.unreachable)("An editor must be serializable")}static deserialize(tn,gn,Sn){const rn=new this.prototype.constructor({parent:gn,id:gn.getNextId(),uiManager:Sn});rn.rotation=tn.rotation;const[qt,Yt]=rn.pageDimensions,[Jt,hn,cn,fn]=rn.getRectInCurrentCoords(tn.rect,Yt);return rn.x=Jt/qt,rn.y=hn/Yt,rn.width=cn/qt,rn.height=fn/Yt,rn}remove(){var tn;this.div.removeEventListener("focusin",wt(this,Lt)),this.div.removeEventListener("focusout",wt(this,$t)),this.isEmpty()||this.commit(),this.parent?this.parent.remove(this):this._uiManager.removeEditor(this),(tn=wt(this,St))==null||tn.remove(),Vt(this,St,null),Vt(this,Rt,null)}get isResizable(){return!1}makeResizable(){this.isResizable&&(Ut(this,Bt,WA).call(this),wt(this,Mt).classList.remove("hidden"))}select(){var tn;this.makeResizable(),(tn=this.div)==null||tn.classList.add("selectedEditor")}unselect(){var tn,gn,Sn;(tn=wt(this,Mt))==null||tn.classList.add("hidden"),(gn=this.div)==null||gn.classList.remove("selectedEditor"),(Sn=this.div)!=null&&Sn.contains(document.activeElement)&&this._uiManager.currentLayer.div.focus()}updateParams(tn,gn){}disableEditing(){wt(this,St)&&(wt(this,St).hidden=!0)}enableEditing(){wt(this,St)&&(wt(this,St).hidden=!1)}enterInEditMode(){}get contentDiv(){return this.div}get isEditing(){return wt(this,Dt)}set isEditing(tn){Vt(this,Dt,tn),this.parent&&(tn?(this.parent.setSelected(this),this.parent.setActiveEditor(this)):this.parent.setActiveEditor(null))}setAspectRatio(tn,gn){Vt(this,kt,!0);const Sn=tn/gn,{style:rn}=this.div;rn.aspectRatio=Sn,rn.height="auto"}static get MIN_SIZE(){return 16}};_t=new WeakMap,Ct=new WeakMap,St=new WeakMap,Rt=new WeakMap,Pt=new WeakMap,kt=new WeakMap,Mt=new WeakMap,Lt=new WeakMap,$t=new WeakMap,Ft=new WeakMap,Dt=new WeakMap,Nt=new WeakMap,Ht=new WeakMap,Ot=new WeakMap,Bt=new WeakSet,_1=function([tn,gn],Sn,rn){[Sn,rn]=this.screenToPageTranslation(Sn,rn),this.x+=Sn/tn,this.y+=rn/gn,this.fixAndSetPosition()},S1=function(){const[tn,gn]=this.parentDimensions,{_borderLineWidth:Sn}=an,rn=Sn/tn,qt=Sn/gn;switch(this.rotation){case 90:return[-rn,qt];case 180:return[rn,qt];case 270:return[rn,-qt];default:return[-rn,-qt]}},Kt=new WeakSet,C1=function(tn,gn,Sn){switch(Sn){case 90:return[gn,-tn];case 180:return[-tn,-gn];case 270:return[-gn,tn];default:return[tn,gn]}},R1=function(tn){switch(tn){case 90:{const[gn,Sn]=this.pageDimensions;return[0,-gn/Sn,Sn/gn,0]}case 180:return[-1,0,0,-1];case 270:{const[gn,Sn]=this.pageDimensions;return[0,gn/Sn,-Sn/gn,0]}default:return[1,0,0,1]}},WA=function(){if(wt(this,Mt))return;Vt(this,Mt,document.createElement("div")),wt(this,Mt).classList.add("resizers");const tn=["topLeft","topRight","bottomRight","bottomLeft"];this._willKeepAspectRatio||tn.push("topMiddle","middleRight","bottomMiddle","middleLeft");for(const gn of tn){const Sn=document.createElement("div");wt(this,Mt).append(Sn),Sn.classList.add("resizer",gn),Sn.addEventListener("pointerdown",Ut(this,Bt,GA).bind(this,gn)),Sn.addEventListener("contextmenu",bt.noContextMenu)}this.div.prepend(wt(this,Mt))},GA=function(tn,gn){gn.preventDefault();const{isMac:Sn}=xt.FeatureTest.platform;if(gn.button!==0||gn.ctrlKey&&Sn)return;const rn=Ut(this,Bt,XA).bind(this,tn),qt=this._isDraggable;this._isDraggable=!1;const Yt={passive:!0,capture:!0};window.addEventListener("pointermove",rn,Yt);const Jt=this.x,hn=this.y,cn=this.width,fn=this.height,Rn=this.parent.div.style.cursor,jn=this.div.style.cursor;this.div.style.cursor=this.parent.div.style.cursor=window.getComputedStyle(gn.target).cursor;const Un=()=>{this._isDraggable=qt,window.removeEventListener("pointerup",Un),window.removeEventListener("blur",Un),window.removeEventListener("pointermove",rn,Yt),this.parent.div.style.cursor=Rn,this.div.style.cursor=jn;const zn=this.x,Gn=this.y,Yn=this.width,Zn=this.height;zn===Jt&&Gn===hn&&Yn===cn&&Zn===fn||this.addCommands({cmd:()=>{this.width=Yn,this.height=Zn,this.x=zn,this.y=Gn;const[Dn,$n]=this.parentDimensions;this.setDims(Dn*Yn,$n*Zn),this.fixAndSetPosition()},undo:()=>{this.width=cn,this.height=fn,this.x=Jt,this.y=hn;const[Dn,$n]=this.parentDimensions;this.setDims(Dn*cn,$n*fn),this.fixAndSetPosition()},mustExec:!0})};window.addEventListener("pointerup",Un),window.addEventListener("blur",Un)},XA=function(tn,gn){const[Sn,rn]=this.parentDimensions,qt=this.x,Yt=this.y,Jt=this.width,hn=this.height,cn=an.MIN_SIZE/Sn,fn=an.MIN_SIZE/rn,Rn=hr=>Math.round(hr*1e4)/1e4,jn=Ut(this,Bt,R1).call(this,this.rotation),Un=(hr,wr)=>[jn[0]*hr+jn[2]*wr,jn[1]*hr+jn[3]*wr],zn=Ut(this,Bt,R1).call(this,360-this.rotation),Gn=(hr,wr)=>[zn[0]*hr+zn[2]*wr,zn[1]*hr+zn[3]*wr];let Yn,Zn,Dn=!1,$n=!1;switch(tn){case"topLeft":Dn=!0,Yn=(hr,wr)=>[0,0],Zn=(hr,wr)=>[hr,wr];break;case"topMiddle":Yn=(hr,wr)=>[hr/2,0],Zn=(hr,wr)=>[hr/2,wr];break;case"topRight":Dn=!0,Yn=(hr,wr)=>[hr,0],Zn=(hr,wr)=>[0,wr];break;case"middleRight":$n=!0,Yn=(hr,wr)=>[hr,wr/2],Zn=(hr,wr)=>[0,wr/2];break;case"bottomRight":Dn=!0,Yn=(hr,wr)=>[hr,wr],Zn=(hr,wr)=>[0,0];break;case"bottomMiddle":Yn=(hr,wr)=>[hr/2,wr],Zn=(hr,wr)=>[hr/2,0];break;case"bottomLeft":Dn=!0,Yn=(hr,wr)=>[0,wr],Zn=(hr,wr)=>[hr,0];break;case"middleLeft":$n=!0,Yn=(hr,wr)=>[0,wr/2],Zn=(hr,wr)=>[hr,wr/2];break}const sn=Yn(Jt,hn),mn=Zn(Jt,hn);let Pn=Un(...mn);const Nn=Rn(qt+Pn[0]),Vn=Rn(Yt+Pn[1]);let Qn=1,qn=1,[Tn,or]=this.screenToPageTranslation(gn.movementX,gn.movementY);if([Tn,or]=Gn(Tn/Sn,or/rn),Dn){const hr=Math.hypot(Jt,hn);Qn=qn=Math.max(Math.min(Math.hypot(mn[0]-sn[0]-Tn,mn[1]-sn[1]-or)/hr,1/Jt,1/hn),cn/Jt,fn/hn)}else $n?Qn=Math.max(cn,Math.min(1,Math.abs(mn[0]-sn[0]-Tn)))/Jt:qn=Math.max(fn,Math.min(1,Math.abs(mn[1]-sn[1]-or)))/hn;const nr=Rn(Jt*Qn),Nr=Rn(hn*qn);Pn=Un(...Zn(nr,Nr));const Pr=Nn-Pn[0],Kr=Vn-Pn[1];this.width=nr,this.height=Nr,this.x=Pr,this.y=Kr,this.setDims(Sn*nr,rn*Nr),this.fixAndSetPosition()},T1=async function(){var Sn;const tn=wt(this,St);if(!tn)return;if(!wt(this,_t)&&!wt(this,Ct)){tn.classList.remove("done"),(Sn=wt(this,Rt))==null||Sn.remove();return}an._l10nPromise.get("editor_alt_text_edit_button_label").then(rn=>{tn.setAttribute("aria-label",rn)});let gn=wt(this,Rt);if(!gn){Vt(this,Rt,gn=document.createElement("span")),gn.className="tooltip",gn.setAttribute("role","tooltip");const rn=gn.id=`alt-text-tooltip-${this.id}`;tn.setAttribute("aria-describedby",rn);const qt=100;tn.addEventListener("mouseenter",()=>{Vt(this,Pt,setTimeout(()=>{Vt(this,Pt,null),wt(this,Rt).classList.add("show"),this._uiManager._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",subtype:this.editorType,data:{action:"alt_text_tooltip"}}})},qt))}),tn.addEventListener("mouseleave",()=>{var Yt;clearTimeout(wt(this,Pt)),Vt(this,Pt,null),(Yt=wt(this,Rt))==null||Yt.classList.remove("show")})}tn.classList.add("done"),gn.innerText=wt(this,Ct)?await an._l10nPromise.get("editor_alt_text_decorative_tooltip"):wt(this,_t),gn.parentNode||tn.append(gn)},qA=function(tn){if(!this._isDraggable)return;const gn=this._uiManager.isSelected(this);this._uiManager.setUpDragSession();let Sn,rn;gn&&(Sn={passive:!0,capture:!0},rn=Yt=>{const[Jt,hn]=this.screenToPageTranslation(Yt.movementX,Yt.movementY);this._uiManager.dragSelectedEditors(Jt,hn)},window.addEventListener("pointermove",rn,Sn));const qt=()=>{if(window.removeEventListener("pointerup",qt),window.removeEventListener("blur",qt),gn&&window.removeEventListener("pointermove",rn,Sn),Vt(this,Ft,!1),!this._uiManager.endDragSession()){const{isMac:Yt}=xt.FeatureTest.platform;tn.ctrlKey&&!Yt||tn.shiftKey||tn.metaKey&&Yt?this.parent.toggleSelected(this):this.parent.setSelected(this)}};window.addEventListener("pointerup",qt),window.addEventListener("blur",qt)},Gt(an,Kt),_r(an,"_borderLineWidth",-1),_r(an,"_colorManager",new vt.ColorManager),_r(an,"_zIndex",1),_r(an,"SMALL_EDITOR_SIZE",0);let Et=an;$.AnnotationEditor=Et;class At extends Et{constructor(tn){super(tn),this.annotationElementId=tn.annotationElementId,this.deleted=!0}serialize(){return{id:this.annotationElementId,deleted:!0,pageIndex:this.pageIndex}}}},(ht,$,_e)=>{var kt,Mt,Lt,$t,Ft,P1,Ht,Ot,Bt,jt,zt,KA,Xt,en,on,An,un,vn,an,dn,tn,gn,Sn,rn,qt,Yt,Jt,hn,cn,fn,Rn,jn,Un,zn,Gn,Yn,Zn,Dn,$n,sn,mn,Pn,Nn,Vn,Qn,qn,Tn,YA,k1,M1,$y,F1,L1,Fo,g0,ZA,QA,D1,m0,I1;Object.defineProperty($,"__esModule",{value:!0}),$.KeyboardManager=$.CommandManager=$.ColorManager=$.AnnotationEditorUIManager=void 0,$.bindEvents=bt,$.opacityToHex=Et;var vt=_e(1),xt=_e(6);function bt(Tr,yn,Wn){for(const sr of Wn)yn.addEventListener(sr,Tr[sr].bind(Tr))}function Et(Tr){return Math.round(Math.min(255,Math.max(1,255*Tr))).toString(16).padStart(2,"0")}class At{constructor(){Gt(this,kt,0)}getId(){return`${vt.AnnotationEditorPrefix}${eo(this,kt)._++}`}}kt=new WeakMap;const Nt=class Nt{constructor(){Gt(this,Ft);Gt(this,Mt,(0,vt.getUuid)());Gt(this,Lt,0);Gt(this,$t,null)}static get _isSVGFittingCanvas(){const yn='data:image/svg+xml;charset=UTF-8,<svg viewBox="0 0 1 1" width="1" height="1" xmlns="http://www.w3.org/2000/svg"><rect width="1" height="1" style="fill:red;"/></svg>',sr=new OffscreenCanvas(1,3).getContext("2d"),mr=new Image;mr.src=yn;const xr=mr.decode().then(()=>(sr.drawImage(mr,0,0,1,1,0,0,1,3),new Uint32Array(sr.getImageData(0,0,1,1).data.buffer)[0]===0));return(0,vt.shadow)(this,"_isSVGFittingCanvas",xr)}async getFromFile(yn){const{lastModified:Wn,name:sr,size:mr,type:xr}=yn;return Ut(this,Ft,P1).call(this,`${Wn}_${sr}_${mr}_${xr}`,yn)}async getFromUrl(yn){return Ut(this,Ft,P1).call(this,yn,yn)}async getFromId(yn){wt(this,$t)||Vt(this,$t,new Map);const Wn=wt(this,$t).get(yn);return Wn?Wn.bitmap?(Wn.refCounter+=1,Wn):Wn.file?this.getFromFile(Wn.file):this.getFromUrl(Wn.url):null}getSvgUrl(yn){const Wn=wt(this,$t).get(yn);return Wn!=null&&Wn.isSvg?Wn.svgUrl:null}deleteId(yn){wt(this,$t)||Vt(this,$t,new Map);const Wn=wt(this,$t).get(yn);Wn&&(Wn.refCounter-=1,Wn.refCounter===0&&(Wn.bitmap=null))}isValidId(yn){return yn.startsWith(`image_${wt(this,Mt)}_`)}};Mt=new WeakMap,Lt=new WeakMap,$t=new WeakMap,Ft=new WeakSet,P1=async function(yn,Wn){wt(this,$t)||Vt(this,$t,new Map);let sr=wt(this,$t).get(yn);if(sr===null)return null;if(sr!=null&&sr.bitmap)return sr.refCounter+=1,sr;try{sr||(sr={bitmap:null,id:`image_${wt(this,Mt)}_${eo(this,Lt)._++}`,refCounter:0,isSvg:!1});let mr;if(typeof Wn=="string"){sr.url=Wn;const xr=await fetch(Wn);if(!xr.ok)throw new Error(xr.statusText);mr=await xr.blob()}else mr=sr.file=Wn;if(mr.type==="image/svg+xml"){const xr=Nt._isSVGFittingCanvas,ur=new FileReader,pn=new Image,ln=new Promise((_n,Hn)=>{pn.onload=()=>{sr.bitmap=pn,sr.isSvg=!0,_n()},ur.onload=async()=>{const Bn=sr.svgUrl=ur.result;pn.src=await xr?`${Bn}#svgView(preserveAspectRatio(none))`:Bn},pn.onerror=ur.onerror=Hn});ur.readAsDataURL(mr),await ln}else sr.bitmap=await createImageBitmap(mr);sr.refCounter=1}catch(mr){console.error(mr),sr=null}return wt(this,$t).set(yn,sr),sr&&wt(this,$t).set(sr.id,sr),sr};let _t=Nt;class Ct{constructor(yn=128){Gt(this,Ht,[]);Gt(this,Ot,!1);Gt(this,Bt);Gt(this,jt,-1);Vt(this,Bt,yn)}add({cmd:yn,undo:Wn,mustExec:sr,type:mr=NaN,overwriteIfSameType:xr=!1,keepUndo:ur=!1}){if(sr&&yn(),wt(this,Ot))return;const pn={cmd:yn,undo:Wn,type:mr};if(wt(this,jt)===-1){wt(this,Ht).length>0&&(wt(this,Ht).length=0),Vt(this,jt,0),wt(this,Ht).push(pn);return}if(xr&&wt(this,Ht)[wt(this,jt)].type===mr){ur&&(pn.undo=wt(this,Ht)[wt(this,jt)].undo),wt(this,Ht)[wt(this,jt)]=pn;return}const ln=wt(this,jt)+1;ln===wt(this,Bt)?wt(this,Ht).splice(0,1):(Vt(this,jt,ln),ln<wt(this,Ht).length&&wt(this,Ht).splice(ln)),wt(this,Ht).push(pn)}undo(){wt(this,jt)!==-1&&(Vt(this,Ot,!0),wt(this,Ht)[wt(this,jt)].undo(),Vt(this,Ot,!1),Vt(this,jt,wt(this,jt)-1))}redo(){wt(this,jt)<wt(this,Ht).length-1&&(Vt(this,jt,wt(this,jt)+1),Vt(this,Ot,!0),wt(this,Ht)[wt(this,jt)].cmd(),Vt(this,Ot,!1))}hasSomethingToUndo(){return wt(this,jt)!==-1}hasSomethingToRedo(){return wt(this,jt)<wt(this,Ht).length-1}destroy(){Vt(this,Ht,null)}}Ht=new WeakMap,Ot=new WeakMap,Bt=new WeakMap,jt=new WeakMap,$.CommandManager=Ct;class St{constructor(yn){Gt(this,zt);this.buffer=[],this.callbacks=new Map,this.allKeys=new Set;const{isMac:Wn}=vt.FeatureTest.platform;for(const[sr,mr,xr={}]of yn)for(const ur of sr){const pn=ur.startsWith("mac+");Wn&&pn?(this.callbacks.set(ur.slice(4),{callback:mr,options:xr}),this.allKeys.add(ur.split("+").at(-1))):!Wn&&!pn&&(this.callbacks.set(ur,{callback:mr,options:xr}),this.allKeys.add(ur.split("+").at(-1)))}}exec(yn,Wn){if(!this.allKeys.has(Wn.key))return;const sr=this.callbacks.get(Ut(this,zt,KA).call(this,Wn));if(!sr)return;const{callback:mr,options:{bubbles:xr=!1,args:ur=[],checker:pn=null}}=sr;pn&&!pn(yn,Wn)||(mr.bind(yn,...ur)(),xr||(Wn.stopPropagation(),Wn.preventDefault()))}}zt=new WeakSet,KA=function(yn){yn.altKey&&this.buffer.push("alt"),yn.ctrlKey&&this.buffer.push("ctrl"),yn.metaKey&&this.buffer.push("meta"),yn.shiftKey&&this.buffer.push("shift"),this.buffer.push(yn.key);const Wn=this.buffer.join("+");return this.buffer.length=0,Wn},$.KeyboardManager=St;const nn=class nn{get _colors(){const yn=new Map([["CanvasText",null],["Canvas",null]]);return(0,xt.getColorValues)(yn),(0,vt.shadow)(this,"_colors",yn)}convert(yn){const Wn=(0,xt.getRGB)(yn);if(!window.matchMedia("(forced-colors: active)").matches)return Wn;for(const[sr,mr]of this._colors)if(mr.every((xr,ur)=>xr===Wn[ur]))return nn._colorsMapping.get(sr);return Wn}getHexCode(yn){const Wn=this._colors.get(yn);return Wn?vt.Util.makeHexColor(...Wn):yn}};_r(nn,"_colorsMapping",new Map([["CanvasText",[0,0,0]],["Canvas",[255,255,255]]]));let Rt=nn;$.ColorManager=Rt;const gr=class gr{constructor(yn,Wn,sr,mr,xr,ur){Gt(this,Tn);Gt(this,Xt,null);Gt(this,en,new Map);Gt(this,on,new Map);Gt(this,An,null);Gt(this,un,null);Gt(this,vn,new Ct);Gt(this,an,0);Gt(this,dn,new Set);Gt(this,tn,null);Gt(this,gn,null);Gt(this,Sn,new Set);Gt(this,rn,null);Gt(this,qt,new At);Gt(this,Yt,!1);Gt(this,Jt,!1);Gt(this,hn,null);Gt(this,cn,vt.AnnotationEditorType.NONE);Gt(this,fn,new Set);Gt(this,Rn,null);Gt(this,jn,this.blur.bind(this));Gt(this,Un,this.focus.bind(this));Gt(this,zn,this.copy.bind(this));Gt(this,Gn,this.cut.bind(this));Gt(this,Yn,this.paste.bind(this));Gt(this,Zn,this.keydown.bind(this));Gt(this,Dn,this.onEditingAction.bind(this));Gt(this,$n,this.onPageChanging.bind(this));Gt(this,sn,this.onScaleChanging.bind(this));Gt(this,mn,this.onRotationChanging.bind(this));Gt(this,Pn,{isEditing:!1,isEmpty:!0,hasSomethingToUndo:!1,hasSomethingToRedo:!1,hasSelectedEditor:!1});Gt(this,Nn,[0,0]);Gt(this,Vn,null);Gt(this,Qn,null);Gt(this,qn,null);Vt(this,Qn,yn),Vt(this,qn,Wn),Vt(this,An,sr),this._eventBus=mr,this._eventBus._on("editingaction",wt(this,Dn)),this._eventBus._on("pagechanging",wt(this,$n)),this._eventBus._on("scalechanging",wt(this,sn)),this._eventBus._on("rotationchanging",wt(this,mn)),Vt(this,un,xr.annotationStorage),Vt(this,rn,xr.filterFactory),Vt(this,Rn,ur),this.viewParameters={realScale:xt.PixelsPerInch.PDF_TO_CSS_UNITS,rotation:0}}static get _keyboardManager(){const yn=gr.prototype,Wn=xr=>{const{activeElement:ur}=document;return ur&&wt(xr,Qn).contains(ur)&&xr.hasSomethingToControl()},sr=this.TRANSLATE_SMALL,mr=this.TRANSLATE_BIG;return(0,vt.shadow)(this,"_keyboardManager",new St([[["ctrl+a","mac+meta+a"],yn.selectAll],[["ctrl+z","mac+meta+z"],yn.undo],[["ctrl+y","ctrl+shift+z","mac+meta+shift+z","ctrl+shift+Z","mac+meta+shift+Z"],yn.redo],[["Backspace","alt+Backspace","ctrl+Backspace","shift+Backspace","mac+Backspace","mac+alt+Backspace","mac+ctrl+Backspace","Delete","ctrl+Delete","shift+Delete","mac+Delete"],yn.delete],[["Escape","mac+Escape"],yn.unselectAll],[["ArrowLeft","mac+ArrowLeft"],yn.translateSelectedEditors,{args:[-sr,0],checker:Wn}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],yn.translateSelectedEditors,{args:[-mr,0],checker:Wn}],[["ArrowRight","mac+ArrowRight"],yn.translateSelectedEditors,{args:[sr,0],checker:Wn}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],yn.translateSelectedEditors,{args:[mr,0],checker:Wn}],[["ArrowUp","mac+ArrowUp"],yn.translateSelectedEditors,{args:[0,-sr],checker:Wn}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],yn.translateSelectedEditors,{args:[0,-mr],checker:Wn}],[["ArrowDown","mac+ArrowDown"],yn.translateSelectedEditors,{args:[0,sr],checker:Wn}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],yn.translateSelectedEditors,{args:[0,mr],checker:Wn}]]))}destroy(){Ut(this,Tn,$y).call(this),Ut(this,Tn,k1).call(this),this._eventBus._off("editingaction",wt(this,Dn)),this._eventBus._off("pagechanging",wt(this,$n)),this._eventBus._off("scalechanging",wt(this,sn)),this._eventBus._off("rotationchanging",wt(this,mn));for(const yn of wt(this,on).values())yn.destroy();wt(this,on).clear(),wt(this,en).clear(),wt(this,Sn).clear(),Vt(this,Xt,null),wt(this,fn).clear(),wt(this,vn).destroy(),wt(this,An).destroy()}get hcmFilter(){return(0,vt.shadow)(this,"hcmFilter",wt(this,Rn)?wt(this,rn).addHCMFilter(wt(this,Rn).foreground,wt(this,Rn).background):"none")}get direction(){return(0,vt.shadow)(this,"direction",getComputedStyle(wt(this,Qn)).direction)}editAltText(yn){var Wn;(Wn=wt(this,An))==null||Wn.editAltText(this,yn)}onPageChanging({pageNumber:yn}){Vt(this,an,yn-1)}focusMainContainer(){wt(this,Qn).focus()}findParent(yn,Wn){for(const sr of wt(this,on).values()){const{x:mr,y:xr,width:ur,height:pn}=sr.div.getBoundingClientRect();if(yn>=mr&&yn<=mr+ur&&Wn>=xr&&Wn<=xr+pn)return sr}return null}disableUserSelect(yn=!1){wt(this,qn).classList.toggle("noUserSelect",yn)}addShouldRescale(yn){wt(this,Sn).add(yn)}removeShouldRescale(yn){wt(this,Sn).delete(yn)}onScaleChanging({scale:yn}){this.commitOrRemove(),this.viewParameters.realScale=yn*xt.PixelsPerInch.PDF_TO_CSS_UNITS;for(const Wn of wt(this,Sn))Wn.onScaleChanging()}onRotationChanging({pagesRotation:yn}){this.commitOrRemove(),this.viewParameters.rotation=yn}addToAnnotationStorage(yn){!yn.isEmpty()&&wt(this,un)&&!wt(this,un).has(yn.id)&&wt(this,un).setValue(yn.id,yn)}blur(){if(!this.hasSelection)return;const{activeElement:yn}=document;for(const Wn of wt(this,fn))if(Wn.div.contains(yn)){Vt(this,hn,[Wn,yn]),Wn._focusEventsAllowed=!1;break}}focus(){if(!wt(this,hn))return;const[yn,Wn]=wt(this,hn);Vt(this,hn,null),Wn.addEventListener("focusin",()=>{yn._focusEventsAllowed=!0},{once:!0}),Wn.focus()}addEditListeners(){Ut(this,Tn,M1).call(this),Ut(this,Tn,F1).call(this)}removeEditListeners(){Ut(this,Tn,$y).call(this),Ut(this,Tn,L1).call(this)}copy(yn){var sr;if(yn.preventDefault(),(sr=wt(this,Xt))==null||sr.commitOrRemove(),!this.hasSelection)return;const Wn=[];for(const mr of wt(this,fn)){const xr=mr.serialize(!0);xr&&Wn.push(xr)}Wn.length!==0&&yn.clipboardData.setData("application/pdfjs",JSON.stringify(Wn))}cut(yn){this.copy(yn),this.delete()}paste(yn){yn.preventDefault();const{clipboardData:Wn}=yn;for(const xr of Wn.items)for(const ur of wt(this,gn))if(ur.isHandlingMimeForPasting(xr.type)){ur.paste(xr,this.currentLayer);return}let sr=Wn.getData("application/pdfjs");if(!sr)return;try{sr=JSON.parse(sr)}catch(xr){(0,vt.warn)(`paste: "${xr.message}".`);return}if(!Array.isArray(sr))return;this.unselectAll();const mr=this.currentLayer;try{const xr=[];for(const ln of sr){const _n=mr.deserialize(ln);if(!_n)return;xr.push(_n)}const ur=()=>{for(const ln of xr)Ut(this,Tn,D1).call(this,ln);Ut(this,Tn,I1).call(this,xr)},pn=()=>{for(const ln of xr)ln.remove()};this.addCommands({cmd:ur,undo:pn,mustExec:!0})}catch(xr){(0,vt.warn)(`paste: "${xr.message}".`)}}keydown(yn){var Wn;(Wn=this.getActive())!=null&&Wn.shouldGetKeyboardEvents()||gr._keyboardManager.exec(this,yn)}onEditingAction(yn){["undo","redo","delete","selectAll"].includes(yn.name)&&this[yn.name]()}setEditingState(yn){yn?(Ut(this,Tn,YA).call(this),Ut(this,Tn,M1).call(this),Ut(this,Tn,F1).call(this),Ut(this,Tn,Fo).call(this,{isEditing:wt(this,cn)!==vt.AnnotationEditorType.NONE,isEmpty:Ut(this,Tn,m0).call(this),hasSomethingToUndo:wt(this,vn).hasSomethingToUndo(),hasSomethingToRedo:wt(this,vn).hasSomethingToRedo(),hasSelectedEditor:!1})):(Ut(this,Tn,k1).call(this),Ut(this,Tn,$y).call(this),Ut(this,Tn,L1).call(this),Ut(this,Tn,Fo).call(this,{isEditing:!1}),this.disableUserSelect(!1))}registerEditorTypes(yn){if(!wt(this,gn)){Vt(this,gn,yn);for(const Wn of wt(this,gn))Ut(this,Tn,g0).call(this,Wn.defaultPropertiesToUpdate)}}getId(){return wt(this,qt).getId()}get currentLayer(){return wt(this,on).get(wt(this,an))}getLayer(yn){return wt(this,on).get(yn)}get currentPageIndex(){return wt(this,an)}addLayer(yn){wt(this,on).set(yn.pageIndex,yn),wt(this,Yt)?yn.enable():yn.disable()}removeLayer(yn){wt(this,on).delete(yn.pageIndex)}updateMode(yn,Wn=null){if(wt(this,cn)!==yn){if(Vt(this,cn,yn),yn===vt.AnnotationEditorType.NONE){this.setEditingState(!1),Ut(this,Tn,QA).call(this);return}this.setEditingState(!0),Ut(this,Tn,ZA).call(this),this.unselectAll();for(const sr of wt(this,on).values())sr.updateMode(yn);if(Wn){for(const sr of wt(this,en).values())if(sr.annotationElementId===Wn){this.setSelected(sr),sr.enterInEditMode();break}}}}updateToolbar(yn){yn!==wt(this,cn)&&this._eventBus.dispatch("switchannotationeditormode",{source:this,mode:yn})}updateParams(yn,Wn){if(wt(this,gn)){if(yn===vt.AnnotationEditorParamsType.CREATE){this.currentLayer.addNewEditor(yn);return}for(const sr of wt(this,fn))sr.updateParams(yn,Wn);for(const sr of wt(this,gn))sr.updateDefaultParams(yn,Wn)}}enableWaiting(yn=!1){if(wt(this,Jt)!==yn){Vt(this,Jt,yn);for(const Wn of wt(this,on).values())yn?Wn.disableClick():Wn.enableClick(),Wn.div.classList.toggle("waiting",yn)}}getEditors(yn){const Wn=[];for(const sr of wt(this,en).values())sr.pageIndex===yn&&Wn.push(sr);return Wn}getEditor(yn){return wt(this,en).get(yn)}addEditor(yn){wt(this,en).set(yn.id,yn)}removeEditor(yn){var Wn;wt(this,en).delete(yn.id),this.unselect(yn),(!yn.annotationElementId||!wt(this,dn).has(yn.annotationElementId))&&((Wn=wt(this,un))==null||Wn.remove(yn.id))}addDeletedAnnotationElement(yn){wt(this,dn).add(yn.annotationElementId),yn.deleted=!0}isDeletedAnnotationElement(yn){return wt(this,dn).has(yn)}removeDeletedAnnotationElement(yn){wt(this,dn).delete(yn.annotationElementId),yn.deleted=!1}setActiveEditor(yn){wt(this,Xt)!==yn&&(Vt(this,Xt,yn),yn&&Ut(this,Tn,g0).call(this,yn.propertiesToUpdate))}toggleSelected(yn){if(wt(this,fn).has(yn)){wt(this,fn).delete(yn),yn.unselect(),Ut(this,Tn,Fo).call(this,{hasSelectedEditor:this.hasSelection});return}wt(this,fn).add(yn),yn.select(),Ut(this,Tn,g0).call(this,yn.propertiesToUpdate),Ut(this,Tn,Fo).call(this,{hasSelectedEditor:!0})}setSelected(yn){for(const Wn of wt(this,fn))Wn!==yn&&Wn.unselect();wt(this,fn).clear(),wt(this,fn).add(yn),yn.select(),Ut(this,Tn,g0).call(this,yn.propertiesToUpdate),Ut(this,Tn,Fo).call(this,{hasSelectedEditor:!0})}isSelected(yn){return wt(this,fn).has(yn)}unselect(yn){yn.unselect(),wt(this,fn).delete(yn),Ut(this,Tn,Fo).call(this,{hasSelectedEditor:this.hasSelection})}get hasSelection(){return wt(this,fn).size!==0}undo(){wt(this,vn).undo(),Ut(this,Tn,Fo).call(this,{hasSomethingToUndo:wt(this,vn).hasSomethingToUndo(),hasSomethingToRedo:!0,isEmpty:Ut(this,Tn,m0).call(this)})}redo(){wt(this,vn).redo(),Ut(this,Tn,Fo).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:wt(this,vn).hasSomethingToRedo(),isEmpty:Ut(this,Tn,m0).call(this)})}addCommands(yn){wt(this,vn).add(yn),Ut(this,Tn,Fo).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:!1,isEmpty:Ut(this,Tn,m0).call(this)})}delete(){if(this.commitOrRemove(),!this.hasSelection)return;const yn=[...wt(this,fn)],Wn=()=>{for(const mr of yn)mr.remove()},sr=()=>{for(const mr of yn)Ut(this,Tn,D1).call(this,mr)};this.addCommands({cmd:Wn,undo:sr,mustExec:!0})}commitOrRemove(){var yn;(yn=wt(this,Xt))==null||yn.commitOrRemove()}hasSomethingToControl(){return wt(this,Xt)||this.hasSelection}selectAll(){for(const yn of wt(this,fn))yn.commit();Ut(this,Tn,I1).call(this,wt(this,en).values())}unselectAll(){if(wt(this,Xt)){wt(this,Xt).commitOrRemove();return}if(this.hasSelection){for(const yn of wt(this,fn))yn.unselect();wt(this,fn).clear(),Ut(this,Tn,Fo).call(this,{hasSelectedEditor:!1})}}translateSelectedEditors(yn,Wn,sr=!1){if(sr||this.commitOrRemove(),!this.hasSelection)return;wt(this,Nn)[0]+=yn,wt(this,Nn)[1]+=Wn;const[mr,xr]=wt(this,Nn),ur=[...wt(this,fn)],pn=1e3;wt(this,Vn)&&clearTimeout(wt(this,Vn)),Vt(this,Vn,setTimeout(()=>{Vt(this,Vn,null),wt(this,Nn)[0]=wt(this,Nn)[1]=0,this.addCommands({cmd:()=>{for(const ln of ur)wt(this,en).has(ln.id)&&ln.translateInPage(mr,xr)},undo:()=>{for(const ln of ur)wt(this,en).has(ln.id)&&ln.translateInPage(-mr,-xr)},mustExec:!1})},pn));for(const ln of ur)ln.translateInPage(yn,Wn)}setUpDragSession(){if(this.hasSelection){this.disableUserSelect(!0),Vt(this,tn,new Map);for(const yn of wt(this,fn))wt(this,tn).set(yn,{savedX:yn.x,savedY:yn.y,savedPageIndex:yn.pageIndex,newX:0,newY:0,newPageIndex:-1})}}endDragSession(){if(!wt(this,tn))return!1;this.disableUserSelect(!1);const yn=wt(this,tn);Vt(this,tn,null);let Wn=!1;for(const[{x:mr,y:xr,pageIndex:ur},pn]of yn)pn.newX=mr,pn.newY=xr,pn.newPageIndex=ur,Wn||(Wn=mr!==pn.savedX||xr!==pn.savedY||ur!==pn.savedPageIndex);if(!Wn)return!1;const sr=(mr,xr,ur,pn)=>{if(wt(this,en).has(mr.id)){const ln=wt(this,on).get(pn);ln?mr._setParentAndPosition(ln,xr,ur):(mr.pageIndex=pn,mr.x=xr,mr.y=ur)}};return this.addCommands({cmd:()=>{for(const[mr,{newX:xr,newY:ur,newPageIndex:pn}]of yn)sr(mr,xr,ur,pn)},undo:()=>{for(const[mr,{savedX:xr,savedY:ur,savedPageIndex:pn}]of yn)sr(mr,xr,ur,pn)},mustExec:!0}),!0}dragSelectedEditors(yn,Wn){if(wt(this,tn))for(const sr of wt(this,tn).keys())sr.drag(yn,Wn)}rebuild(yn){if(yn.parent===null){const Wn=this.getLayer(yn.pageIndex);Wn?(Wn.changeParent(yn),Wn.addOrRebuild(yn)):(this.addEditor(yn),this.addToAnnotationStorage(yn),yn.rebuild())}else yn.parent.addOrRebuild(yn)}isActive(yn){return wt(this,Xt)===yn}getActive(){return wt(this,Xt)}getMode(){return wt(this,cn)}get imageManager(){return(0,vt.shadow)(this,"imageManager",new _t)}};Xt=new WeakMap,en=new WeakMap,on=new WeakMap,An=new WeakMap,un=new WeakMap,vn=new WeakMap,an=new WeakMap,dn=new WeakMap,tn=new WeakMap,gn=new WeakMap,Sn=new WeakMap,rn=new WeakMap,qt=new WeakMap,Yt=new WeakMap,Jt=new WeakMap,hn=new WeakMap,cn=new WeakMap,fn=new WeakMap,Rn=new WeakMap,jn=new WeakMap,Un=new WeakMap,zn=new WeakMap,Gn=new WeakMap,Yn=new WeakMap,Zn=new WeakMap,Dn=new WeakMap,$n=new WeakMap,sn=new WeakMap,mn=new WeakMap,Pn=new WeakMap,Nn=new WeakMap,Vn=new WeakMap,Qn=new WeakMap,qn=new WeakMap,Tn=new WeakSet,YA=function(){window.addEventListener("focus",wt(this,Un)),window.addEventListener("blur",wt(this,jn))},k1=function(){window.removeEventListener("focus",wt(this,Un)),window.removeEventListener("blur",wt(this,jn))},M1=function(){window.addEventListener("keydown",wt(this,Zn),{capture:!0})},$y=function(){window.removeEventListener("keydown",wt(this,Zn),{capture:!0})},F1=function(){document.addEventListener("copy",wt(this,zn)),document.addEventListener("cut",wt(this,Gn)),document.addEventListener("paste",wt(this,Yn))},L1=function(){document.removeEventListener("copy",wt(this,zn)),document.removeEventListener("cut",wt(this,Gn)),document.removeEventListener("paste",wt(this,Yn))},Fo=function(yn){Object.entries(yn).some(([sr,mr])=>wt(this,Pn)[sr]!==mr)&&this._eventBus.dispatch("annotationeditorstateschanged",{source:this,details:Object.assign(wt(this,Pn),yn)})},g0=function(yn){this._eventBus.dispatch("annotationeditorparamschanged",{source:this,details:yn})},ZA=function(){if(!wt(this,Yt)){Vt(this,Yt,!0);for(const yn of wt(this,on).values())yn.enable()}},QA=function(){if(this.unselectAll(),wt(this,Yt)){Vt(this,Yt,!1);for(const yn of wt(this,on).values())yn.disable()}},D1=function(yn){const Wn=wt(this,on).get(yn.pageIndex);Wn?Wn.addOrRebuild(yn):this.addEditor(yn)},m0=function(){if(wt(this,en).size===0)return!0;if(wt(this,en).size===1)for(const yn of wt(this,en).values())return yn.isEmpty();return!1},I1=function(yn){wt(this,fn).clear();for(const Wn of yn)Wn.isEmpty()||(wt(this,fn).add(Wn),Wn.select());Ut(this,Tn,Fo).call(this,{hasSelectedEditor:!0})},_r(gr,"TRANSLATE_SMALL",1),_r(gr,"TRANSLATE_BIG",10);let Pt=gr;$.AnnotationEditorUIManager=Pt},(ht,$,_e)=>{var an,dn,tn,gn,Sn,rn,qt,Yt,Jt,hn,cn,fn,nm,im,$1,Ny,Oy,v0,y0;Object.defineProperty($,"__esModule",{value:!0}),$.StatTimer=$.RenderingCancelledException=$.PixelsPerInch=$.PageViewport=$.PDFDateString=$.DOMStandardFontDataFactory=$.DOMSVGFactory=$.DOMFilterFactory=$.DOMCanvasFactory=$.DOMCMapReaderFactory=void 0,$.deprecated=jt,$.getColorValues=en,$.getCurrentTransform=on,$.getCurrentTransformInverse=An,$.getFilenameFromUrl=Ft,$.getPdfFilenameFromUrl=Dt,$.getRGB=Xt,$.getXfaPageViewport=nn,$.isDataScheme=Lt,$.isPdfFile=$t,$.isValidFetchUrl=Ht,$.loadScript=Bt,$.noContextMenu=Ot,$.setLayerDimensions=un;var vt=_e(7),xt=_e(1);const bt="http://www.w3.org/2000/svg",vn=class vn{};_r(vn,"CSS",96),_r(vn,"PDF",72),_r(vn,"PDF_TO_CSS_UNITS",vn.CSS/vn.PDF);let Et=vn;$.PixelsPerInch=Et;class At extends vt.BaseFilterFactory{constructor({docId:sn,ownerDocument:mn=globalThis.document}={}){super();Gt(this,fn);Gt(this,an);Gt(this,dn);Gt(this,tn);Gt(this,gn);Gt(this,Sn);Gt(this,rn);Gt(this,qt);Gt(this,Yt);Gt(this,Jt);Gt(this,hn);Gt(this,cn,0);Vt(this,tn,sn),Vt(this,gn,mn)}addFilter(sn){if(!sn)return"none";let mn=wt(this,fn,nm).get(sn);if(mn)return mn;let Pn,Nn,Vn,Qn;if(sn.length===1){const nr=sn[0],Nr=new Array(256);for(let Pr=0;Pr<256;Pr++)Nr[Pr]=nr[Pr]/255;Qn=Pn=Nn=Vn=Nr.join(",")}else{const[nr,Nr,Pr]=sn,Kr=new Array(256),hr=new Array(256),wr=new Array(256);for(let Ur=0;Ur<256;Ur++)Kr[Ur]=nr[Ur]/255,hr[Ur]=Nr[Ur]/255,wr[Ur]=Pr[Ur]/255;Pn=Kr.join(","),Nn=hr.join(","),Vn=wr.join(","),Qn=`${Pn}${Nn}${Vn}`}if(mn=wt(this,fn,nm).get(Qn),mn)return wt(this,fn,nm).set(sn,mn),mn;const qn=`g_${wt(this,tn)}_transfer_map_${eo(this,cn)._++}`,Tn=`url(#${qn})`;wt(this,fn,nm).set(sn,Tn),wt(this,fn,nm).set(Qn,Tn);const or=Ut(this,fn,Ny).call(this,qn);return Ut(this,fn,v0).call(this,Pn,Nn,Vn,or),Tn}addHCMFilter(sn,mn){var Nr;const Pn=`${sn}-${mn}`;if(wt(this,rn)===Pn)return wt(this,qt);if(Vt(this,rn,Pn),Vt(this,qt,"none"),(Nr=wt(this,Sn))==null||Nr.remove(),!sn||!mn)return wt(this,qt);const Nn=Ut(this,fn,y0).call(this,sn);sn=xt.Util.makeHexColor(...Nn);const Vn=Ut(this,fn,y0).call(this,mn);if(mn=xt.Util.makeHexColor(...Vn),wt(this,fn,im).style.color="",sn==="#000000"&&mn==="#ffffff"||sn===mn)return wt(this,qt);const Qn=new Array(256);for(let Pr=0;Pr<=255;Pr++){const Kr=Pr/255;Qn[Pr]=Kr<=.03928?Kr/12.92:((Kr+.055)/1.055)**2.4}const qn=Qn.join(","),Tn=`g_${wt(this,tn)}_hcm_filter`,or=Vt(this,Yt,Ut(this,fn,Ny).call(this,Tn));Ut(this,fn,v0).call(this,qn,qn,qn,or),Ut(this,fn,$1).call(this,or);const nr=(Pr,Kr)=>{const hr=Nn[Pr]/255,wr=Vn[Pr]/255,Ur=new Array(Kr+1);for(let is=0;is<=Kr;is++)Ur[is]=hr+is/Kr*(wr-hr);return Ur.join(",")};return Ut(this,fn,v0).call(this,nr(0,5),nr(1,5),nr(2,5),or),Vt(this,qt,`url(#${Tn})`),wt(this,qt)}addHighlightHCMFilter(sn,mn,Pn,Nn){var wr;const Vn=`${sn}-${mn}-${Pn}-${Nn}`;if(wt(this,Jt)===Vn)return wt(this,hn);if(Vt(this,Jt,Vn),Vt(this,hn,"none"),(wr=wt(this,Yt))==null||wr.remove(),!sn||!mn)return wt(this,hn);const[Qn,qn]=[sn,mn].map(Ut(this,fn,y0).bind(this));let Tn=Math.round(.2126*Qn[0]+.7152*Qn[1]+.0722*Qn[2]),or=Math.round(.2126*qn[0]+.7152*qn[1]+.0722*qn[2]),[nr,Nr]=[Pn,Nn].map(Ut(this,fn,y0).bind(this));or<Tn&&([Tn,or,nr,Nr]=[or,Tn,Nr,nr]),wt(this,fn,im).style.color="";const Pr=(Ur,is,Xn)=>{const kn=new Array(256),Fn=(or-Tn)/Xn,dr=Ur/255,gr=(is-Ur)/(255*Xn);let Tr=0;for(let yn=0;yn<=Xn;yn++){const Wn=Math.round(Tn+yn*Fn),sr=dr+yn*gr;for(let mr=Tr;mr<=Wn;mr++)kn[mr]=sr;Tr=Wn+1}for(let yn=Tr;yn<256;yn++)kn[yn]=kn[Tr-1];return kn.join(",")},Kr=`g_${wt(this,tn)}_hcm_highlight_filter`,hr=Vt(this,Yt,Ut(this,fn,Ny).call(this,Kr));return Ut(this,fn,$1).call(this,hr),Ut(this,fn,v0).call(this,Pr(nr[0],Nr[0],5),Pr(nr[1],Nr[1],5),Pr(nr[2],Nr[2],5),hr),Vt(this,hn,`url(#${Kr})`),wt(this,hn)}destroy(sn=!1){sn&&(wt(this,qt)||wt(this,hn))||(wt(this,dn)&&(wt(this,dn).parentNode.parentNode.remove(),Vt(this,dn,null)),wt(this,an)&&(wt(this,an).clear(),Vt(this,an,null)),Vt(this,cn,0))}}an=new WeakMap,dn=new WeakMap,tn=new WeakMap,gn=new WeakMap,Sn=new WeakMap,rn=new WeakMap,qt=new WeakMap,Yt=new WeakMap,Jt=new WeakMap,hn=new WeakMap,cn=new WeakMap,fn=new WeakSet,nm=function(){return wt(this,an)||Vt(this,an,new Map)},im=function(){if(!wt(this,dn)){const sn=wt(this,gn).createElement("div"),{style:mn}=sn;mn.visibility="hidden",mn.contain="strict",mn.width=mn.height=0,mn.position="absolute",mn.top=mn.left=0,mn.zIndex=-1;const Pn=wt(this,gn).createElementNS(bt,"svg");Pn.setAttribute("width",0),Pn.setAttribute("height",0),Vt(this,dn,wt(this,gn).createElementNS(bt,"defs")),sn.append(Pn),Pn.append(wt(this,dn)),wt(this,gn).body.append(sn)}return wt(this,dn)},$1=function(sn){const mn=wt(this,gn).createElementNS(bt,"feColorMatrix");mn.setAttribute("type","matrix"),mn.setAttribute("values","0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0 0 0 1 0"),sn.append(mn)},Ny=function(sn){const mn=wt(this,gn).createElementNS(bt,"filter");return mn.setAttribute("color-interpolation-filters","sRGB"),mn.setAttribute("id",sn),wt(this,fn,im).append(mn),mn},Oy=function(sn,mn,Pn){const Nn=wt(this,gn).createElementNS(bt,mn);Nn.setAttribute("type","discrete"),Nn.setAttribute("tableValues",Pn),sn.append(Nn)},v0=function(sn,mn,Pn,Nn){const Vn=wt(this,gn).createElementNS(bt,"feComponentTransfer");Nn.append(Vn),Ut(this,fn,Oy).call(this,Vn,"feFuncR",sn),Ut(this,fn,Oy).call(this,Vn,"feFuncG",mn),Ut(this,fn,Oy).call(this,Vn,"feFuncB",Pn)},y0=function(sn){return wt(this,fn,im).style.color=sn,Xt(getComputedStyle(wt(this,fn,im)).getPropertyValue("color"))},$.DOMFilterFactory=At;class _t extends vt.BaseCanvasFactory{constructor({ownerDocument:$n=globalThis.document}={}){super(),this._document=$n}_createCanvas($n,sn){const mn=this._document.createElement("canvas");return mn.width=$n,mn.height=sn,mn}}$.DOMCanvasFactory=_t;async function Ct(Dn,$n=!1){if(Ht(Dn,document.baseURI)){const sn=await fetch(Dn);if(!sn.ok)throw new Error(sn.statusText);return $n?new Uint8Array(await sn.arrayBuffer()):(0,xt.stringToBytes)(await sn.text())}return new Promise((sn,mn)=>{const Pn=new XMLHttpRequest;Pn.open("GET",Dn,!0),$n&&(Pn.responseType="arraybuffer"),Pn.onreadystatechange=()=>{if(Pn.readyState===XMLHttpRequest.DONE){if(Pn.status===200||Pn.status===0){let Nn;if($n&&Pn.response?Nn=new Uint8Array(Pn.response):!$n&&Pn.responseText&&(Nn=(0,xt.stringToBytes)(Pn.responseText)),Nn){sn(Nn);return}}mn(new Error(Pn.statusText))}},Pn.send(null)})}class St extends vt.BaseCMapReaderFactory{_fetchData($n,sn){return Ct($n,this.isCompressed).then(mn=>({cMapData:mn,compressionType:sn}))}}$.DOMCMapReaderFactory=St;class Rt extends vt.BaseStandardFontDataFactory{_fetchData($n){return Ct($n,!0)}}$.DOMStandardFontDataFactory=Rt;class Pt extends vt.BaseSVGFactory{_createSVG($n){return document.createElementNS(bt,$n)}}$.DOMSVGFactory=Pt;class kt{constructor({viewBox:$n,scale:sn,rotation:mn,offsetX:Pn=0,offsetY:Nn=0,dontFlip:Vn=!1}){this.viewBox=$n,this.scale=sn,this.rotation=mn,this.offsetX=Pn,this.offsetY=Nn;const Qn=($n[2]+$n[0])/2,qn=($n[3]+$n[1])/2;let Tn,or,nr,Nr;switch(mn%=360,mn<0&&(mn+=360),mn){case 180:Tn=-1,or=0,nr=0,Nr=1;break;case 90:Tn=0,or=1,nr=1,Nr=0;break;case 270:Tn=0,or=-1,nr=-1,Nr=0;break;case 0:Tn=1,or=0,nr=0,Nr=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}Vn&&(nr=-nr,Nr=-Nr);let Pr,Kr,hr,wr;Tn===0?(Pr=Math.abs(qn-$n[1])*sn+Pn,Kr=Math.abs(Qn-$n[0])*sn+Nn,hr=($n[3]-$n[1])*sn,wr=($n[2]-$n[0])*sn):(Pr=Math.abs(Qn-$n[0])*sn+Pn,Kr=Math.abs(qn-$n[1])*sn+Nn,hr=($n[2]-$n[0])*sn,wr=($n[3]-$n[1])*sn),this.transform=[Tn*sn,or*sn,nr*sn,Nr*sn,Pr-Tn*sn*Qn-nr*sn*qn,Kr-or*sn*Qn-Nr*sn*qn],this.width=hr,this.height=wr}get rawDims(){const{viewBox:$n}=this;return(0,xt.shadow)(this,"rawDims",{pageWidth:$n[2]-$n[0],pageHeight:$n[3]-$n[1],pageX:$n[0],pageY:$n[1]})}clone({scale:$n=this.scale,rotation:sn=this.rotation,offsetX:mn=this.offsetX,offsetY:Pn=this.offsetY,dontFlip:Nn=!1}={}){return new kt({viewBox:this.viewBox.slice(),scale:$n,rotation:sn,offsetX:mn,offsetY:Pn,dontFlip:Nn})}convertToViewportPoint($n,sn){return xt.Util.applyTransform([$n,sn],this.transform)}convertToViewportRectangle($n){const sn=xt.Util.applyTransform([$n[0],$n[1]],this.transform),mn=xt.Util.applyTransform([$n[2],$n[3]],this.transform);return[sn[0],sn[1],mn[0],mn[1]]}convertToPdfPoint($n,sn){return xt.Util.applyInverseTransform([$n,sn],this.transform)}}$.PageViewport=kt;class Mt extends xt.BaseException{constructor($n,sn=0){super($n,"RenderingCancelledException"),this.extraDelay=sn}}$.RenderingCancelledException=Mt;function Lt(Dn){const $n=Dn.length;let sn=0;for(;sn<$n&&Dn[sn].trim()==="";)sn++;return Dn.substring(sn,sn+5).toLowerCase()==="data:"}function $t(Dn){return typeof Dn=="string"&&/\.pdf$/i.test(Dn)}function Ft(Dn,$n=!1){return $n||([Dn]=Dn.split(/[#?]/,1)),Dn.substring(Dn.lastIndexOf("/")+1)}function Dt(Dn,$n="document.pdf"){if(typeof Dn!="string")return $n;if(Lt(Dn))return(0,xt.warn)('getPdfFilenameFromUrl: ignore "data:"-URL for performance reasons.'),$n;const sn=/^(?:(?:[^:]+:)?\/\/[^/]+)?([^?#]*)(\?[^#]*)?(#.*)?$/,mn=/[^/?#=]+\.pdf\b(?!.*\.pdf\b)/i,Pn=sn.exec(Dn);let Nn=mn.exec(Pn[1])||mn.exec(Pn[2])||mn.exec(Pn[3]);if(Nn&&(Nn=Nn[0],Nn.includes("%")))try{Nn=mn.exec(decodeURIComponent(Nn))[0]}catch{}return Nn||$n}class Nt{constructor(){_r(this,"started",Object.create(null));_r(this,"times",[])}time($n){$n in this.started&&(0,xt.warn)(`Timer is already running for ${$n}`),this.started[$n]=Date.now()}timeEnd($n){$n in this.started||(0,xt.warn)(`Timer has not been started for ${$n}`),this.times.push({name:$n,start:this.started[$n],end:Date.now()}),delete this.started[$n]}toString(){const $n=[];let sn=0;for(const{name:mn}of this.times)sn=Math.max(mn.length,sn);for(const{name:mn,start:Pn,end:Nn}of this.times)$n.push(`${mn.padEnd(sn)} ${Nn-Pn}ms
`);return $n.join("")}}$.StatTimer=Nt;function Ht(Dn,$n){try{const{protocol:sn}=$n?new URL(Dn,$n):new URL(Dn);return sn==="http:"||sn==="https:"}catch{return!1}}function Ot(Dn){Dn.preventDefault()}function Bt(Dn,$n=!1){return new Promise((sn,mn)=>{const Pn=document.createElement("script");Pn.src=Dn,Pn.onload=function(Nn){$n&&Pn.remove(),sn(Nn)},Pn.onerror=function(){mn(new Error(`Cannot load script at: ${Pn.src}`))},(document.head||document.documentElement).append(Pn)})}function jt(Dn){console.log("Deprecated API usage: "+Dn)}let zt;class Kt{static toDateObject($n){if(!$n||typeof $n!="string")return null;zt||(zt=new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?"));const sn=zt.exec($n);if(!sn)return null;const mn=parseInt(sn[1],10);let Pn=parseInt(sn[2],10);Pn=Pn>=1&&Pn<=12?Pn-1:0;let Nn=parseInt(sn[3],10);Nn=Nn>=1&&Nn<=31?Nn:1;let Vn=parseInt(sn[4],10);Vn=Vn>=0&&Vn<=23?Vn:0;let Qn=parseInt(sn[5],10);Qn=Qn>=0&&Qn<=59?Qn:0;let qn=parseInt(sn[6],10);qn=qn>=0&&qn<=59?qn:0;const Tn=sn[7]||"Z";let or=parseInt(sn[8],10);or=or>=0&&or<=23?or:0;let nr=parseInt(sn[9],10)||0;return nr=nr>=0&&nr<=59?nr:0,Tn==="-"?(Vn+=or,Qn+=nr):Tn==="+"&&(Vn-=or,Qn-=nr),new Date(Date.UTC(mn,Pn,Nn,Vn,Qn,qn))}}$.PDFDateString=Kt;function nn(Dn,{scale:$n=1,rotation:sn=0}){const{width:mn,height:Pn}=Dn.attributes.style,Nn=[0,0,parseInt(mn),parseInt(Pn)];return new kt({viewBox:Nn,scale:$n,rotation:sn})}function Xt(Dn){if(Dn.startsWith("#")){const $n=parseInt(Dn.slice(1),16);return[($n&16711680)>>16,($n&65280)>>8,$n&255]}return Dn.startsWith("rgb(")?Dn.slice(4,-1).split(",").map($n=>parseInt($n)):Dn.startsWith("rgba(")?Dn.slice(5,-1).split(",").map($n=>parseInt($n)).slice(0,3):((0,xt.warn)(`Not a valid color format: "${Dn}"`),[0,0,0])}function en(Dn){const $n=document.createElement("span");$n.style.visibility="hidden",document.body.append($n);for(const sn of Dn.keys()){$n.style.color=sn;const mn=window.getComputedStyle($n).color;Dn.set(sn,Xt(mn))}$n.remove()}function on(Dn){const{a:$n,b:sn,c:mn,d:Pn,e:Nn,f:Vn}=Dn.getTransform();return[$n,sn,mn,Pn,Nn,Vn]}function An(Dn){const{a:$n,b:sn,c:mn,d:Pn,e:Nn,f:Vn}=Dn.getTransform().invertSelf();return[$n,sn,mn,Pn,Nn,Vn]}function un(Dn,$n,sn=!1,mn=!0){if($n instanceof kt){const{pageWidth:Pn,pageHeight:Nn}=$n.rawDims,{style:Vn}=Dn,Qn=xt.FeatureTest.isCSSRoundSupported,qn=`var(--scale-factor) * ${Pn}px`,Tn=`var(--scale-factor) * ${Nn}px`,or=Qn?`round(${qn}, 1px)`:`calc(${qn})`,nr=Qn?`round(${Tn}, 1px)`:`calc(${Tn})`;!sn||$n.rotation%180===0?(Vn.width=or,Vn.height=nr):(Vn.width=nr,Vn.height=or)}mn&&Dn.setAttribute("data-main-rotation",$n.rotation)}},(ht,$,_e)=>{Object.defineProperty($,"__esModule",{value:!0}),$.BaseStandardFontDataFactory=$.BaseSVGFactory=$.BaseFilterFactory=$.BaseCanvasFactory=$.BaseCMapReaderFactory=void 0;var vt=_e(1);class xt{constructor(){this.constructor===xt&&(0,vt.unreachable)("Cannot initialize BaseFilterFactory.")}addFilter(St){return"none"}addHCMFilter(St,Rt){return"none"}addHighlightHCMFilter(St,Rt,Pt,kt){return"none"}destroy(St=!1){}}$.BaseFilterFactory=xt;class bt{constructor(){this.constructor===bt&&(0,vt.unreachable)("Cannot initialize BaseCanvasFactory.")}create(St,Rt){if(St<=0||Rt<=0)throw new Error("Invalid canvas size");const Pt=this._createCanvas(St,Rt);return{canvas:Pt,context:Pt.getContext("2d")}}reset(St,Rt,Pt){if(!St.canvas)throw new Error("Canvas is not specified");if(Rt<=0||Pt<=0)throw new Error("Invalid canvas size");St.canvas.width=Rt,St.canvas.height=Pt}destroy(St){if(!St.canvas)throw new Error("Canvas is not specified");St.canvas.width=0,St.canvas.height=0,St.canvas=null,St.context=null}_createCanvas(St,Rt){(0,vt.unreachable)("Abstract method `_createCanvas` called.")}}$.BaseCanvasFactory=bt;class Et{constructor({baseUrl:St=null,isCompressed:Rt=!0}){this.constructor===Et&&(0,vt.unreachable)("Cannot initialize BaseCMapReaderFactory."),this.baseUrl=St,this.isCompressed=Rt}async fetch({name:St}){if(!this.baseUrl)throw new Error('The CMap "baseUrl" parameter must be specified, ensure that the "cMapUrl" and "cMapPacked" API parameters are provided.');if(!St)throw new Error("CMap name must be specified.");const Rt=this.baseUrl+St+(this.isCompressed?".bcmap":""),Pt=this.isCompressed?vt.CMapCompressionType.BINARY:vt.CMapCompressionType.NONE;return this._fetchData(Rt,Pt).catch(kt=>{throw new Error(`Unable to load ${this.isCompressed?"binary ":""}CMap at: ${Rt}`)})}_fetchData(St,Rt){(0,vt.unreachable)("Abstract method `_fetchData` called.")}}$.BaseCMapReaderFactory=Et;class At{constructor({baseUrl:St=null}){this.constructor===At&&(0,vt.unreachable)("Cannot initialize BaseStandardFontDataFactory."),this.baseUrl=St}async fetch({filename:St}){if(!this.baseUrl)throw new Error('The standard font "baseUrl" parameter must be specified, ensure that the "standardFontDataUrl" API parameter is provided.');if(!St)throw new Error("Font filename must be specified.");const Rt=`${this.baseUrl}${St}`;return this._fetchData(Rt).catch(Pt=>{throw new Error(`Unable to load font data at: ${Rt}`)})}_fetchData(St){(0,vt.unreachable)("Abstract method `_fetchData` called.")}}$.BaseStandardFontDataFactory=At;class _t{constructor(){this.constructor===_t&&(0,vt.unreachable)("Cannot initialize BaseSVGFactory.")}create(St,Rt,Pt=!1){if(St<=0||Rt<=0)throw new Error("Invalid SVG dimensions");const kt=this._createSVG("svg:svg");return kt.setAttribute("version","1.1"),Pt||(kt.setAttribute("width",`${St}px`),kt.setAttribute("height",`${Rt}px`)),kt.setAttribute("preserveAspectRatio","none"),kt.setAttribute("viewBox",`0 0 ${St} ${Rt}`),kt}createElement(St){if(typeof St!="string")throw new Error("Invalid SVG element type");return this._createSVG(St)}_createSVG(St){(0,vt.unreachable)("Abstract method `_createSVG` called.")}}$.BaseSVGFactory=_t},(ht,$,_e)=>{Object.defineProperty($,"__esModule",{value:!0}),$.MurmurHash3_64=void 0;var vt=_e(1);const xt=3285377520,bt=4294901760,Et=65535;class At{constructor(Ct){this.h1=Ct?Ct&4294967295:xt,this.h2=Ct?Ct&4294967295:xt}update(Ct){let St,Rt;if(typeof Ct=="string"){St=new Uint8Array(Ct.length*2),Rt=0;for(let jt=0,zt=Ct.length;jt<zt;jt++){const Kt=Ct.charCodeAt(jt);Kt<=255?St[Rt++]=Kt:(St[Rt++]=Kt>>>8,St[Rt++]=Kt&255)}}else if((0,vt.isArrayBuffer)(Ct))St=Ct.slice(),Rt=St.byteLength;else throw new Error("Wrong data format in MurmurHash3_64_update. Input must be a string or array.");const Pt=Rt>>2,kt=Rt-Pt*4,Mt=new Uint32Array(St.buffer,0,Pt);let Lt=0,$t=0,Ft=this.h1,Dt=this.h2;const Nt=3432918353,Ht=461845907,Ot=Nt&Et,Bt=Ht&Et;for(let jt=0;jt<Pt;jt++)jt&1?(Lt=Mt[jt],Lt=Lt*Nt&bt|Lt*Ot&Et,Lt=Lt<<15|Lt>>>17,Lt=Lt*Ht&bt|Lt*Bt&Et,Ft^=Lt,Ft=Ft<<13|Ft>>>19,Ft=Ft*5+3864292196):($t=Mt[jt],$t=$t*Nt&bt|$t*Ot&Et,$t=$t<<15|$t>>>17,$t=$t*Ht&bt|$t*Bt&Et,Dt^=$t,Dt=Dt<<13|Dt>>>19,Dt=Dt*5+3864292196);switch(Lt=0,kt){case 3:Lt^=St[Pt*4+2]<<16;case 2:Lt^=St[Pt*4+1]<<8;case 1:Lt^=St[Pt*4],Lt=Lt*Nt&bt|Lt*Ot&Et,Lt=Lt<<15|Lt>>>17,Lt=Lt*Ht&bt|Lt*Bt&Et,Pt&1?Ft^=Lt:Dt^=Lt}this.h1=Ft,this.h2=Dt}hexdigest(){let Ct=this.h1,St=this.h2;return Ct^=St>>>1,Ct=Ct*3981806797&bt|Ct*36045&Et,St=St*4283543511&bt|((St<<16|Ct>>>16)*2950163797&bt)>>>16,Ct^=St>>>1,Ct=Ct*444984403&bt|Ct*60499&Et,St=St*3301882366&bt|((St<<16|Ct>>>16)*3120437893&bt)>>>16,Ct^=St>>>1,(Ct>>>0).toString(16).padStart(8,"0")+(St>>>0).toString(16).padStart(8,"0")}}$.MurmurHash3_64=At},(ht,$,_e)=>{var Et;Object.defineProperty($,"__esModule",{value:!0}),$.FontLoader=$.FontFaceObject=void 0;var vt=_e(1);class xt{constructor({ownerDocument:_t=globalThis.document,styleElement:Ct=null}){Gt(this,Et,new Set);this._document=_t,this.nativeFontFaces=new Set,this.styleElement=null,this.loadingRequests=[],this.loadTestFontId=0}addNativeFontFace(_t){this.nativeFontFaces.add(_t),this._document.fonts.add(_t)}removeNativeFontFace(_t){this.nativeFontFaces.delete(_t),this._document.fonts.delete(_t)}insertRule(_t){this.styleElement||(this.styleElement=this._document.createElement("style"),this._document.documentElement.getElementsByTagName("head")[0].append(this.styleElement));const Ct=this.styleElement.sheet;Ct.insertRule(_t,Ct.cssRules.length)}clear(){for(const _t of this.nativeFontFaces)this._document.fonts.delete(_t);this.nativeFontFaces.clear(),wt(this,Et).clear(),this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}async loadSystemFont(_t){if(!(!_t||wt(this,Et).has(_t.loadedName))){if((0,vt.assert)(!this.disableFontFace,"loadSystemFont shouldn't be called when `disableFontFace` is set."),this.isFontLoadingAPISupported){const{loadedName:Ct,src:St,style:Rt}=_t,Pt=new FontFace(Ct,St,Rt);this.addNativeFontFace(Pt);try{await Pt.load(),wt(this,Et).add(Ct)}catch{(0,vt.warn)(`Cannot load system font: ${_t.baseFontName}, installing it could help to improve PDF rendering.`),this.removeNativeFontFace(Pt)}return}(0,vt.unreachable)("Not implemented: loadSystemFont without the Font Loading API.")}}async bind(_t){if(_t.attached||_t.missingFile&&!_t.systemFontInfo)return;if(_t.attached=!0,_t.systemFontInfo){await this.loadSystemFont(_t.systemFontInfo);return}if(this.isFontLoadingAPISupported){const St=_t.createNativeFontFace();if(St){this.addNativeFontFace(St);try{await St.loaded}catch(Rt){throw(0,vt.warn)(`Failed to load font '${St.family}': '${Rt}'.`),_t.disableFontFace=!0,Rt}}return}const Ct=_t.createFontFaceRule();if(Ct){if(this.insertRule(Ct),this.isSyncFontLoadingSupported)return;await new Promise(St=>{const Rt=this._queueLoadingCallback(St);this._prepareFontLoadEvent(_t,Rt)})}}get isFontLoadingAPISupported(){var Ct;const _t=!!((Ct=this._document)!=null&&Ct.fonts);return(0,vt.shadow)(this,"isFontLoadingAPISupported",_t)}get isSyncFontLoadingSupported(){let _t=!1;return(vt.isNodeJS||typeof navigator<"u"&&/Mozilla\/5.0.*?rv:\d+.*? Gecko/.test(navigator.userAgent))&&(_t=!0),(0,vt.shadow)(this,"isSyncFontLoadingSupported",_t)}_queueLoadingCallback(_t){function Ct(){for((0,vt.assert)(!Rt.done,"completeRequest() cannot be called twice."),Rt.done=!0;St.length>0&&St[0].done;){const Pt=St.shift();setTimeout(Pt.callback,0)}}const{loadingRequests:St}=this,Rt={done:!1,complete:Ct,callback:_t};return St.push(Rt),Rt}get _loadTestFont(){const _t=atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA==");return(0,vt.shadow)(this,"_loadTestFont",_t)}_prepareFontLoadEvent(_t,Ct){function St(Xt,en){return Xt.charCodeAt(en)<<24|Xt.charCodeAt(en+1)<<16|Xt.charCodeAt(en+2)<<8|Xt.charCodeAt(en+3)&255}function Rt(Xt,en,on,An){const un=Xt.substring(0,en),vn=Xt.substring(en+on);return un+An+vn}let Pt,kt;const Mt=this._document.createElement("canvas");Mt.width=1,Mt.height=1;const Lt=Mt.getContext("2d");let $t=0;function Ft(Xt,en){if(++$t>30){(0,vt.warn)("Load test font never loaded."),en();return}if(Lt.font="30px "+Xt,Lt.fillText(".",0,20),Lt.getImageData(0,0,1,1).data[3]>0){en();return}setTimeout(Ft.bind(null,Xt,en))}const Dt=`lt${Date.now()}${this.loadTestFontId++}`;let Nt=this._loadTestFont;Nt=Rt(Nt,976,Dt.length,Dt);const Ot=16,Bt=1482184792;let jt=St(Nt,Ot);for(Pt=0,kt=Dt.length-3;Pt<kt;Pt+=4)jt=jt-Bt+St(Dt,Pt)|0;Pt<Dt.length&&(jt=jt-Bt+St(Dt+"XXX",Pt)|0),Nt=Rt(Nt,Ot,4,(0,vt.string32)(jt));const zt=`url(data:font/opentype;base64,${btoa(Nt)});`,Kt=`@font-face {font-family:"${Dt}";src:${zt}}`;this.insertRule(Kt);const nn=this._document.createElement("div");nn.style.visibility="hidden",nn.style.width=nn.style.height="10px",nn.style.position="absolute",nn.style.top=nn.style.left="0px";for(const Xt of[_t.loadedName,Dt]){const en=this._document.createElement("span");en.textContent="Hi",en.style.fontFamily=Xt,nn.append(en)}this._document.body.append(nn),Ft(Dt,()=>{nn.remove(),Ct.complete()})}}Et=new WeakMap,$.FontLoader=xt;class bt{constructor(_t,{isEvalSupported:Ct=!0,disableFontFace:St=!1,ignoreErrors:Rt=!1,inspectFont:Pt=null}){this.compiledGlyphs=Object.create(null);for(const kt in _t)this[kt]=_t[kt];this.isEvalSupported=Ct!==!1,this.disableFontFace=St===!0,this.ignoreErrors=Rt===!0,this._inspectFont=Pt}createNativeFontFace(){var Ct;if(!this.data||this.disableFontFace)return null;let _t;if(!this.cssFontInfo)_t=new FontFace(this.loadedName,this.data,{});else{const St={weight:this.cssFontInfo.fontWeight};this.cssFontInfo.italicAngle&&(St.style=`oblique ${this.cssFontInfo.italicAngle}deg`),_t=new FontFace(this.cssFontInfo.fontFamily,this.data,St)}return(Ct=this._inspectFont)==null||Ct.call(this,this),_t}createFontFaceRule(){var Rt;if(!this.data||this.disableFontFace)return null;const _t=(0,vt.bytesToString)(this.data),Ct=`url(data:${this.mimetype};base64,${btoa(_t)});`;let St;if(!this.cssFontInfo)St=`@font-face {font-family:"${this.loadedName}";src:${Ct}}`;else{let Pt=`font-weight: ${this.cssFontInfo.fontWeight};`;this.cssFontInfo.italicAngle&&(Pt+=`font-style: oblique ${this.cssFontInfo.italicAngle}deg;`),St=`@font-face {font-family:"${this.cssFontInfo.fontFamily}";${Pt}src:${Ct}}`}return(Rt=this._inspectFont)==null||Rt.call(this,this,Ct),St}getPathGenerator(_t,Ct){if(this.compiledGlyphs[Ct]!==void 0)return this.compiledGlyphs[Ct];let St;try{St=_t.get(this.loadedName+"_path_"+Ct)}catch(Rt){if(!this.ignoreErrors)throw Rt;return(0,vt.warn)(`getPathGenerator - ignoring character: "${Rt}".`),this.compiledGlyphs[Ct]=function(Pt,kt){}}if(this.isEvalSupported&&vt.FeatureTest.isEvalSupported){const Rt=[];for(const Pt of St){const kt=Pt.args!==void 0?Pt.args.join(","):"";Rt.push("c.",Pt.cmd,"(",kt,`);
`)}return this.compiledGlyphs[Ct]=new Function("c","size",Rt.join(""))}return this.compiledGlyphs[Ct]=function(Rt,Pt){for(const kt of St)kt.cmd==="scale"&&(kt.args=[Pt,-Pt]),Rt[kt.cmd].apply(Rt,kt.args)}}}$.FontFaceObject=bt},(ht,$,_e)=>{Object.defineProperty($,"__esModule",{value:!0}),$.NodeStandardFontDataFactory=$.NodeFilterFactory=$.NodeCanvasFactory=$.NodeCMapReaderFactory=void 0;var vt=_e(7);_e(1);const xt=function(Ct){return new Promise((St,Rt)=>{require$$5.readFile(Ct,(kt,Mt)=>{if(kt||!Mt){Rt(new Error(kt));return}St(new Uint8Array(Mt))})})};class bt extends vt.BaseFilterFactory{}$.NodeFilterFactory=bt;class Et extends vt.BaseCanvasFactory{_createCanvas(St,Rt){return require$$5.createCanvas(St,Rt)}}$.NodeCanvasFactory=Et;class At extends vt.BaseCMapReaderFactory{_fetchData(St,Rt){return xt(St).then(Pt=>({cMapData:Pt,compressionType:Rt}))}}$.NodeCMapReaderFactory=At;class _t extends vt.BaseStandardFontDataFactory{_fetchData(St){return xt(St)}}$.NodeStandardFontDataFactory=_t},(ht,$,_e)=>{var dn,N1,O1;Object.defineProperty($,"__esModule",{value:!0}),$.CanvasGraphics=void 0;var vt=_e(1),xt=_e(6),bt=_e(12),Et=_e(13);const At=16,_t=100,Ct=4096,St=15,Rt=10,Pt=1e3,kt=16;function Mt(rn,qt){if(rn._removeMirroring)throw new Error("Context is already forwarding operations.");rn.__originalSave=rn.save,rn.__originalRestore=rn.restore,rn.__originalRotate=rn.rotate,rn.__originalScale=rn.scale,rn.__originalTranslate=rn.translate,rn.__originalTransform=rn.transform,rn.__originalSetTransform=rn.setTransform,rn.__originalResetTransform=rn.resetTransform,rn.__originalClip=rn.clip,rn.__originalMoveTo=rn.moveTo,rn.__originalLineTo=rn.lineTo,rn.__originalBezierCurveTo=rn.bezierCurveTo,rn.__originalRect=rn.rect,rn.__originalClosePath=rn.closePath,rn.__originalBeginPath=rn.beginPath,rn._removeMirroring=()=>{rn.save=rn.__originalSave,rn.restore=rn.__originalRestore,rn.rotate=rn.__originalRotate,rn.scale=rn.__originalScale,rn.translate=rn.__originalTranslate,rn.transform=rn.__originalTransform,rn.setTransform=rn.__originalSetTransform,rn.resetTransform=rn.__originalResetTransform,rn.clip=rn.__originalClip,rn.moveTo=rn.__originalMoveTo,rn.lineTo=rn.__originalLineTo,rn.bezierCurveTo=rn.__originalBezierCurveTo,rn.rect=rn.__originalRect,rn.closePath=rn.__originalClosePath,rn.beginPath=rn.__originalBeginPath,delete rn._removeMirroring},rn.save=function(){qt.save(),this.__originalSave()},rn.restore=function(){qt.restore(),this.__originalRestore()},rn.translate=function(Jt,hn){qt.translate(Jt,hn),this.__originalTranslate(Jt,hn)},rn.scale=function(Jt,hn){qt.scale(Jt,hn),this.__originalScale(Jt,hn)},rn.transform=function(Jt,hn,cn,fn,Rn,jn){qt.transform(Jt,hn,cn,fn,Rn,jn),this.__originalTransform(Jt,hn,cn,fn,Rn,jn)},rn.setTransform=function(Jt,hn,cn,fn,Rn,jn){qt.setTransform(Jt,hn,cn,fn,Rn,jn),this.__originalSetTransform(Jt,hn,cn,fn,Rn,jn)},rn.resetTransform=function(){qt.resetTransform(),this.__originalResetTransform()},rn.rotate=function(Jt){qt.rotate(Jt),this.__originalRotate(Jt)},rn.clip=function(Jt){qt.clip(Jt),this.__originalClip(Jt)},rn.moveTo=function(Yt,Jt){qt.moveTo(Yt,Jt),this.__originalMoveTo(Yt,Jt)},rn.lineTo=function(Yt,Jt){qt.lineTo(Yt,Jt),this.__originalLineTo(Yt,Jt)},rn.bezierCurveTo=function(Yt,Jt,hn,cn,fn,Rn){qt.bezierCurveTo(Yt,Jt,hn,cn,fn,Rn),this.__originalBezierCurveTo(Yt,Jt,hn,cn,fn,Rn)},rn.rect=function(Yt,Jt,hn,cn){qt.rect(Yt,Jt,hn,cn),this.__originalRect(Yt,Jt,hn,cn)},rn.closePath=function(){qt.closePath(),this.__originalClosePath()},rn.beginPath=function(){qt.beginPath(),this.__originalBeginPath()}}class Lt{constructor(qt){this.canvasFactory=qt,this.cache=Object.create(null)}getCanvas(qt,Yt,Jt){let hn;return this.cache[qt]!==void 0?(hn=this.cache[qt],this.canvasFactory.reset(hn,Yt,Jt)):(hn=this.canvasFactory.create(Yt,Jt),this.cache[qt]=hn),hn}delete(qt){delete this.cache[qt]}clear(){for(const qt in this.cache){const Yt=this.cache[qt];this.canvasFactory.destroy(Yt),delete this.cache[qt]}}}function $t(rn,qt,Yt,Jt,hn,cn,fn,Rn,jn,Un){const[zn,Gn,Yn,Zn,Dn,$n]=(0,xt.getCurrentTransform)(rn);if(Gn===0&&Yn===0){const Pn=fn*zn+Dn,Nn=Math.round(Pn),Vn=Rn*Zn+$n,Qn=Math.round(Vn),qn=(fn+jn)*zn+Dn,Tn=Math.abs(Math.round(qn)-Nn)||1,or=(Rn+Un)*Zn+$n,nr=Math.abs(Math.round(or)-Qn)||1;return rn.setTransform(Math.sign(zn),0,0,Math.sign(Zn),Nn,Qn),rn.drawImage(qt,Yt,Jt,hn,cn,0,0,Tn,nr),rn.setTransform(zn,Gn,Yn,Zn,Dn,$n),[Tn,nr]}if(zn===0&&Zn===0){const Pn=Rn*Yn+Dn,Nn=Math.round(Pn),Vn=fn*Gn+$n,Qn=Math.round(Vn),qn=(Rn+Un)*Yn+Dn,Tn=Math.abs(Math.round(qn)-Nn)||1,or=(fn+jn)*Gn+$n,nr=Math.abs(Math.round(or)-Qn)||1;return rn.setTransform(0,Math.sign(Gn),Math.sign(Yn),0,Nn,Qn),rn.drawImage(qt,Yt,Jt,hn,cn,0,0,nr,Tn),rn.setTransform(zn,Gn,Yn,Zn,Dn,$n),[nr,Tn]}rn.drawImage(qt,Yt,Jt,hn,cn,fn,Rn,jn,Un);const sn=Math.hypot(zn,Gn),mn=Math.hypot(Yn,Zn);return[sn*jn,mn*Un]}function Ft(rn){const{width:qt,height:Yt}=rn;if(qt>Pt||Yt>Pt)return null;const Jt=1e3,hn=new Uint8Array([0,2,4,0,1,0,5,4,8,10,0,8,0,2,1,0]),cn=qt+1;let fn=new Uint8Array(cn*(Yt+1)),Rn,jn,Un;const zn=qt+7&-8;let Gn=new Uint8Array(zn*Yt),Yn=0;for(const mn of rn.data){let Pn=128;for(;Pn>0;)Gn[Yn++]=mn&Pn?0:255,Pn>>=1}let Zn=0;for(Yn=0,Gn[Yn]!==0&&(fn[0]=1,++Zn),jn=1;jn<qt;jn++)Gn[Yn]!==Gn[Yn+1]&&(fn[jn]=Gn[Yn]?2:1,++Zn),Yn++;for(Gn[Yn]!==0&&(fn[jn]=2,++Zn),Rn=1;Rn<Yt;Rn++){Yn=Rn*zn,Un=Rn*cn,Gn[Yn-zn]!==Gn[Yn]&&(fn[Un]=Gn[Yn]?1:8,++Zn);let mn=(Gn[Yn]?4:0)+(Gn[Yn-zn]?8:0);for(jn=1;jn<qt;jn++)mn=(mn>>2)+(Gn[Yn+1]?4:0)+(Gn[Yn-zn+1]?8:0),hn[mn]&&(fn[Un+jn]=hn[mn],++Zn),Yn++;if(Gn[Yn-zn]!==Gn[Yn]&&(fn[Un+jn]=Gn[Yn]?2:4,++Zn),Zn>Jt)return null}for(Yn=zn*(Yt-1),Un=Rn*cn,Gn[Yn]!==0&&(fn[Un]=8,++Zn),jn=1;jn<qt;jn++)Gn[Yn]!==Gn[Yn+1]&&(fn[Un+jn]=Gn[Yn]?4:8,++Zn),Yn++;if(Gn[Yn]!==0&&(fn[Un+jn]=4,++Zn),Zn>Jt)return null;const Dn=new Int32Array([0,cn,-1,0,-cn,0,0,0,1]),$n=new Path2D;for(Rn=0;Zn&&Rn<=Yt;Rn++){let mn=Rn*cn;const Pn=mn+qt;for(;mn<Pn&&!fn[mn];)mn++;if(mn===Pn)continue;$n.moveTo(mn%cn,Rn);const Nn=mn;let Vn=fn[mn];do{const Qn=Dn[Vn];do mn+=Qn;while(!fn[mn]);const qn=fn[mn];qn!==5&&qn!==10?(Vn=qn,fn[mn]=0):(Vn=qn&51*Vn>>4,fn[mn]&=Vn>>2|Vn<<2),$n.lineTo(mn%cn,mn/cn|0),fn[mn]||--Zn}while(Nn!==mn);--Rn}return Gn=null,fn=null,function(mn){mn.save(),mn.scale(1/qt,-1/Yt),mn.translate(0,-Yt),mn.fill($n),mn.beginPath(),mn.restore()}}class Dt{constructor(qt,Yt){this.alphaIsShape=!1,this.fontSize=0,this.fontSizeScale=1,this.textMatrix=vt.IDENTITY_MATRIX,this.textMatrixScale=1,this.fontMatrix=vt.FONT_IDENTITY_MATRIX,this.leading=0,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRenderingMode=vt.TextRenderingMode.FILL,this.textRise=0,this.fillColor="#000000",this.strokeColor="#000000",this.patternFill=!1,this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.activeSMask=null,this.transferMaps="none",this.startNewPathAndClipBox([0,0,qt,Yt])}clone(){const qt=Object.create(this);return qt.clipBox=this.clipBox.slice(),qt}setCurrentPoint(qt,Yt){this.x=qt,this.y=Yt}updatePathMinMax(qt,Yt,Jt){[Yt,Jt]=vt.Util.applyTransform([Yt,Jt],qt),this.minX=Math.min(this.minX,Yt),this.minY=Math.min(this.minY,Jt),this.maxX=Math.max(this.maxX,Yt),this.maxY=Math.max(this.maxY,Jt)}updateRectMinMax(qt,Yt){const Jt=vt.Util.applyTransform(Yt,qt),hn=vt.Util.applyTransform(Yt.slice(2),qt);this.minX=Math.min(this.minX,Jt[0],hn[0]),this.minY=Math.min(this.minY,Jt[1],hn[1]),this.maxX=Math.max(this.maxX,Jt[0],hn[0]),this.maxY=Math.max(this.maxY,Jt[1],hn[1])}updateScalingPathMinMax(qt,Yt){vt.Util.scaleMinMax(qt,Yt),this.minX=Math.min(this.minX,Yt[0]),this.maxX=Math.max(this.maxX,Yt[1]),this.minY=Math.min(this.minY,Yt[2]),this.maxY=Math.max(this.maxY,Yt[3])}updateCurvePathMinMax(qt,Yt,Jt,hn,cn,fn,Rn,jn,Un,zn){const Gn=vt.Util.bezierBoundingBox(Yt,Jt,hn,cn,fn,Rn,jn,Un);if(zn){zn[0]=Math.min(zn[0],Gn[0],Gn[2]),zn[1]=Math.max(zn[1],Gn[0],Gn[2]),zn[2]=Math.min(zn[2],Gn[1],Gn[3]),zn[3]=Math.max(zn[3],Gn[1],Gn[3]);return}this.updateRectMinMax(qt,Gn)}getPathBoundingBox(qt=bt.PathType.FILL,Yt=null){const Jt=[this.minX,this.minY,this.maxX,this.maxY];if(qt===bt.PathType.STROKE){Yt||(0,vt.unreachable)("Stroke bounding box must include transform.");const hn=vt.Util.singularValueDecompose2dScale(Yt),cn=hn[0]*this.lineWidth/2,fn=hn[1]*this.lineWidth/2;Jt[0]-=cn,Jt[1]-=fn,Jt[2]+=cn,Jt[3]+=fn}return Jt}updateClipFromPath(){const qt=vt.Util.intersect(this.clipBox,this.getPathBoundingBox());this.startNewPathAndClipBox(qt||[0,0,0,0])}isEmptyClip(){return this.minX===1/0}startNewPathAndClipBox(qt){this.clipBox=qt,this.minX=1/0,this.minY=1/0,this.maxX=0,this.maxY=0}getClippedPathBoundingBox(qt=bt.PathType.FILL,Yt=null){return vt.Util.intersect(this.clipBox,this.getPathBoundingBox(qt,Yt))}}function Nt(rn,qt){if(typeof ImageData<"u"&&qt instanceof ImageData){rn.putImageData(qt,0,0);return}const Yt=qt.height,Jt=qt.width,hn=Yt%kt,cn=(Yt-hn)/kt,fn=hn===0?cn:cn+1,Rn=rn.createImageData(Jt,kt);let jn=0,Un;const zn=qt.data,Gn=Rn.data;let Yn,Zn,Dn,$n;if(qt.kind===vt.ImageKind.GRAYSCALE_1BPP){const sn=zn.byteLength,mn=new Uint32Array(Gn.buffer,0,Gn.byteLength>>2),Pn=mn.length,Nn=Jt+7>>3,Vn=4294967295,Qn=vt.FeatureTest.isLittleEndian?4278190080:255;for(Yn=0;Yn<fn;Yn++){for(Dn=Yn<cn?kt:hn,Un=0,Zn=0;Zn<Dn;Zn++){const qn=sn-jn;let Tn=0;const or=qn>Nn?Jt:qn*8-7,nr=or&-8;let Nr=0,Pr=0;for(;Tn<nr;Tn+=8)Pr=zn[jn++],mn[Un++]=Pr&128?Vn:Qn,mn[Un++]=Pr&64?Vn:Qn,mn[Un++]=Pr&32?Vn:Qn,mn[Un++]=Pr&16?Vn:Qn,mn[Un++]=Pr&8?Vn:Qn,mn[Un++]=Pr&4?Vn:Qn,mn[Un++]=Pr&2?Vn:Qn,mn[Un++]=Pr&1?Vn:Qn;for(;Tn<or;Tn++)Nr===0&&(Pr=zn[jn++],Nr=128),mn[Un++]=Pr&Nr?Vn:Qn,Nr>>=1}for(;Un<Pn;)mn[Un++]=0;rn.putImageData(Rn,0,Yn*kt)}}else if(qt.kind===vt.ImageKind.RGBA_32BPP){for(Zn=0,$n=Jt*kt*4,Yn=0;Yn<cn;Yn++)Gn.set(zn.subarray(jn,jn+$n)),jn+=$n,rn.putImageData(Rn,0,Zn),Zn+=kt;Yn<fn&&($n=Jt*hn*4,Gn.set(zn.subarray(jn,jn+$n)),rn.putImageData(Rn,0,Zn))}else if(qt.kind===vt.ImageKind.RGB_24BPP)for(Dn=kt,$n=Jt*Dn,Yn=0;Yn<fn;Yn++){for(Yn>=cn&&(Dn=hn,$n=Jt*Dn),Un=0,Zn=$n;Zn--;)Gn[Un++]=zn[jn++],Gn[Un++]=zn[jn++],Gn[Un++]=zn[jn++],Gn[Un++]=255;rn.putImageData(Rn,0,Yn*kt)}else throw new Error(`bad image kind: ${qt.kind}`)}function Ht(rn,qt){if(qt.bitmap){rn.drawImage(qt.bitmap,0,0);return}const Yt=qt.height,Jt=qt.width,hn=Yt%kt,cn=(Yt-hn)/kt,fn=hn===0?cn:cn+1,Rn=rn.createImageData(Jt,kt);let jn=0;const Un=qt.data,zn=Rn.data;for(let Gn=0;Gn<fn;Gn++){const Yn=Gn<cn?kt:hn;({srcPos:jn}=(0,Et.convertBlackAndWhiteToRGBA)({src:Un,srcPos:jn,dest:zn,width:Jt,height:Yn,nonBlackColor:0})),rn.putImageData(Rn,0,Gn*kt)}}function Ot(rn,qt){const Yt=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font","filter"];for(const Jt of Yt)rn[Jt]!==void 0&&(qt[Jt]=rn[Jt]);rn.setLineDash!==void 0&&(qt.setLineDash(rn.getLineDash()),qt.lineDashOffset=rn.lineDashOffset)}function Bt(rn){if(rn.strokeStyle=rn.fillStyle="#000000",rn.fillRule="nonzero",rn.globalAlpha=1,rn.lineWidth=1,rn.lineCap="butt",rn.lineJoin="miter",rn.miterLimit=10,rn.globalCompositeOperation="source-over",rn.font="10px sans-serif",rn.setLineDash!==void 0&&(rn.setLineDash([]),rn.lineDashOffset=0),!vt.isNodeJS){const{filter:qt}=rn;qt!=="none"&&qt!==""&&(rn.filter="none")}}function jt(rn,qt,Yt,Jt){const hn=rn.length;for(let cn=3;cn<hn;cn+=4){const fn=rn[cn];if(fn===0)rn[cn-3]=qt,rn[cn-2]=Yt,rn[cn-1]=Jt;else if(fn<255){const Rn=255-fn;rn[cn-3]=rn[cn-3]*fn+qt*Rn>>8,rn[cn-2]=rn[cn-2]*fn+Yt*Rn>>8,rn[cn-1]=rn[cn-1]*fn+Jt*Rn>>8}}}function zt(rn,qt,Yt){const Jt=rn.length,hn=1/255;for(let cn=3;cn<Jt;cn+=4){const fn=Yt?Yt[rn[cn]]:rn[cn];qt[cn]=qt[cn]*fn*hn|0}}function Kt(rn,qt,Yt){const Jt=rn.length;for(let hn=3;hn<Jt;hn+=4){const cn=rn[hn-3]*77+rn[hn-2]*152+rn[hn-1]*28;qt[hn]=Yt?qt[hn]*Yt[cn>>8]>>8:qt[hn]*cn>>16}}function nn(rn,qt,Yt,Jt,hn,cn,fn,Rn,jn,Un,zn){const Gn=!!cn,Yn=Gn?cn[0]:0,Zn=Gn?cn[1]:0,Dn=Gn?cn[2]:0,$n=hn==="Luminosity"?Kt:zt,mn=Math.min(Jt,Math.ceil(1048576/Yt));for(let Pn=0;Pn<Jt;Pn+=mn){const Nn=Math.min(mn,Jt-Pn),Vn=rn.getImageData(Rn-Un,Pn+(jn-zn),Yt,Nn),Qn=qt.getImageData(Rn,Pn+jn,Yt,Nn);Gn&&jt(Vn.data,Yn,Zn,Dn),$n(Vn.data,Qn.data,fn),qt.putImageData(Qn,Rn,Pn+jn)}}function Xt(rn,qt,Yt,Jt){const hn=Jt[0],cn=Jt[1],fn=Jt[2]-hn,Rn=Jt[3]-cn;fn===0||Rn===0||(nn(qt.context,Yt,fn,Rn,qt.subtype,qt.backdrop,qt.transferMap,hn,cn,qt.offsetX,qt.offsetY),rn.save(),rn.globalAlpha=1,rn.globalCompositeOperation="source-over",rn.setTransform(1,0,0,1,0,0),rn.drawImage(Yt.canvas,0,0),rn.restore())}function en(rn,qt){const Yt=vt.Util.singularValueDecompose2dScale(rn);Yt[0]=Math.fround(Yt[0]),Yt[1]=Math.fround(Yt[1]);const Jt=Math.fround((globalThis.devicePixelRatio||1)*xt.PixelsPerInch.PDF_TO_CSS_UNITS);return qt!==void 0?qt:Yt[0]<=Jt||Yt[1]<=Jt}const on=["butt","round","square"],An=["miter","round","bevel"],un={},vn={},Sn=class Sn{constructor(qt,Yt,Jt,hn,cn,{optionalContentConfig:fn,markedContentStack:Rn=null},jn,Un){Gt(this,dn);this.ctx=qt,this.current=new Dt(this.ctx.canvas.width,this.ctx.canvas.height),this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=Yt,this.objs=Jt,this.canvasFactory=hn,this.filterFactory=cn,this.groupStack=[],this.processingType3=null,this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.suspendedCtx=null,this.contentVisible=!0,this.markedContentStack=Rn||[],this.optionalContentConfig=fn,this.cachedCanvases=new Lt(this.canvasFactory),this.cachedPatterns=new Map,this.annotationCanvasMap=jn,this.viewportScale=1,this.outputScaleX=1,this.outputScaleY=1,this.pageColors=Un,this._cachedScaleForStroking=[-1,0],this._cachedGetSinglePixelWidth=null,this._cachedBitmapsMap=new Map}getObject(qt,Yt=null){return typeof qt=="string"?qt.startsWith("g_")?this.commonObjs.get(qt):this.objs.get(qt):Yt}beginDrawing({transform:qt,viewport:Yt,transparency:Jt=!1,background:hn=null}){const cn=this.ctx.canvas.width,fn=this.ctx.canvas.height,Rn=this.ctx.fillStyle;if(this.ctx.fillStyle=hn||"#ffffff",this.ctx.fillRect(0,0,cn,fn),this.ctx.fillStyle=Rn,Jt){const jn=this.cachedCanvases.getCanvas("transparent",cn,fn);this.compositeCtx=this.ctx,this.transparentCanvas=jn.canvas,this.ctx=jn.context,this.ctx.save(),this.ctx.transform(...(0,xt.getCurrentTransform)(this.compositeCtx))}this.ctx.save(),Bt(this.ctx),qt&&(this.ctx.transform(...qt),this.outputScaleX=qt[0],this.outputScaleY=qt[0]),this.ctx.transform(...Yt.transform),this.viewportScale=Yt.scale,this.baseTransform=(0,xt.getCurrentTransform)(this.ctx)}executeOperatorList(qt,Yt,Jt,hn){const cn=qt.argsArray,fn=qt.fnArray;let Rn=Yt||0;const jn=cn.length;if(jn===Rn)return Rn;const Un=jn-Rn>Rt&&typeof Jt=="function",zn=Un?Date.now()+St:0;let Gn=0;const Yn=this.commonObjs,Zn=this.objs;let Dn;for(;;){if(hn!==void 0&&Rn===hn.nextBreakPoint)return hn.breakIt(Rn,Jt),Rn;if(Dn=fn[Rn],Dn!==vt.OPS.dependency)this[Dn].apply(this,cn[Rn]);else for(const $n of cn[Rn]){const sn=$n.startsWith("g_")?Yn:Zn;if(!sn.has($n))return sn.get($n,Jt),Rn}if(Rn++,Rn===jn)return Rn;if(Un&&++Gn>Rt){if(Date.now()>zn)return Jt(),Rn;Gn=0}}}endDrawing(){Ut(this,dn,N1).call(this),this.cachedCanvases.clear(),this.cachedPatterns.clear();for(const qt of this._cachedBitmapsMap.values()){for(const Yt of qt.values())typeof HTMLCanvasElement<"u"&&Yt instanceof HTMLCanvasElement&&(Yt.width=Yt.height=0);qt.clear()}this._cachedBitmapsMap.clear(),Ut(this,dn,O1).call(this)}_scaleImage(qt,Yt){const Jt=qt.width,hn=qt.height;let cn=Math.max(Math.hypot(Yt[0],Yt[1]),1),fn=Math.max(Math.hypot(Yt[2],Yt[3]),1),Rn=Jt,jn=hn,Un="prescale1",zn,Gn;for(;cn>2&&Rn>1||fn>2&&jn>1;){let Yn=Rn,Zn=jn;cn>2&&Rn>1&&(Yn=Rn>=16384?Math.floor(Rn/2)-1||1:Math.ceil(Rn/2),cn/=Rn/Yn),fn>2&&jn>1&&(Zn=jn>=16384?Math.floor(jn/2)-1||1:Math.ceil(jn)/2,fn/=jn/Zn),zn=this.cachedCanvases.getCanvas(Un,Yn,Zn),Gn=zn.context,Gn.clearRect(0,0,Yn,Zn),Gn.drawImage(qt,0,0,Rn,jn,0,0,Yn,Zn),qt=zn.canvas,Rn=Yn,jn=Zn,Un=Un==="prescale1"?"prescale2":"prescale1"}return{img:qt,paintWidth:Rn,paintHeight:jn}}_createMaskCanvas(qt){const Yt=this.ctx,{width:Jt,height:hn}=qt,cn=this.current.fillColor,fn=this.current.patternFill,Rn=(0,xt.getCurrentTransform)(Yt);let jn,Un,zn,Gn;if((qt.bitmap||qt.data)&&qt.count>1){const Tn=qt.bitmap||qt.data.buffer;Un=JSON.stringify(fn?Rn:[Rn.slice(0,4),cn]),jn=this._cachedBitmapsMap.get(Tn),jn||(jn=new Map,this._cachedBitmapsMap.set(Tn,jn));const or=jn.get(Un);if(or&&!fn){const nr=Math.round(Math.min(Rn[0],Rn[2])+Rn[4]),Nr=Math.round(Math.min(Rn[1],Rn[3])+Rn[5]);return{canvas:or,offsetX:nr,offsetY:Nr}}zn=or}zn||(Gn=this.cachedCanvases.getCanvas("maskCanvas",Jt,hn),Ht(Gn.context,qt));let Yn=vt.Util.transform(Rn,[1/Jt,0,0,-1/hn,0,0]);Yn=vt.Util.transform(Yn,[1,0,0,1,0,-hn]);const Zn=vt.Util.applyTransform([0,0],Yn),Dn=vt.Util.applyTransform([Jt,hn],Yn),$n=vt.Util.normalizeRect([Zn[0],Zn[1],Dn[0],Dn[1]]),sn=Math.round($n[2]-$n[0])||1,mn=Math.round($n[3]-$n[1])||1,Pn=this.cachedCanvases.getCanvas("fillCanvas",sn,mn),Nn=Pn.context,Vn=Math.min(Zn[0],Dn[0]),Qn=Math.min(Zn[1],Dn[1]);Nn.translate(-Vn,-Qn),Nn.transform(...Yn),zn||(zn=this._scaleImage(Gn.canvas,(0,xt.getCurrentTransformInverse)(Nn)),zn=zn.img,jn&&fn&&jn.set(Un,zn)),Nn.imageSmoothingEnabled=en((0,xt.getCurrentTransform)(Nn),qt.interpolate),$t(Nn,zn,0,0,zn.width,zn.height,0,0,Jt,hn),Nn.globalCompositeOperation="source-in";const qn=vt.Util.transform((0,xt.getCurrentTransformInverse)(Nn),[1,0,0,1,-Vn,-Qn]);return Nn.fillStyle=fn?cn.getPattern(Yt,this,qn,bt.PathType.FILL):cn,Nn.fillRect(0,0,Jt,hn),jn&&!fn&&(this.cachedCanvases.delete("fillCanvas"),jn.set(Un,Pn.canvas)),{canvas:Pn.canvas,offsetX:Math.round(Vn),offsetY:Math.round(Qn)}}setLineWidth(qt){qt!==this.current.lineWidth&&(this._cachedScaleForStroking[0]=-1),this.current.lineWidth=qt,this.ctx.lineWidth=qt}setLineCap(qt){this.ctx.lineCap=on[qt]}setLineJoin(qt){this.ctx.lineJoin=An[qt]}setMiterLimit(qt){this.ctx.miterLimit=qt}setDash(qt,Yt){const Jt=this.ctx;Jt.setLineDash!==void 0&&(Jt.setLineDash(qt),Jt.lineDashOffset=Yt)}setRenderingIntent(qt){}setFlatness(qt){}setGState(qt){for(const[Yt,Jt]of qt)switch(Yt){case"LW":this.setLineWidth(Jt);break;case"LC":this.setLineCap(Jt);break;case"LJ":this.setLineJoin(Jt);break;case"ML":this.setMiterLimit(Jt);break;case"D":this.setDash(Jt[0],Jt[1]);break;case"RI":this.setRenderingIntent(Jt);break;case"FL":this.setFlatness(Jt);break;case"Font":this.setFont(Jt[0],Jt[1]);break;case"CA":this.current.strokeAlpha=Jt;break;case"ca":this.current.fillAlpha=Jt,this.ctx.globalAlpha=Jt;break;case"BM":this.ctx.globalCompositeOperation=Jt;break;case"SMask":this.current.activeSMask=Jt?this.tempSMask:null,this.tempSMask=null,this.checkSMaskState();break;case"TR":this.ctx.filter=this.current.transferMaps=this.filterFactory.addFilter(Jt);break}}get inSMaskMode(){return!!this.suspendedCtx}checkSMaskState(){const qt=this.inSMaskMode;this.current.activeSMask&&!qt?this.beginSMaskMode():!this.current.activeSMask&&qt&&this.endSMaskMode()}beginSMaskMode(){if(this.inSMaskMode)throw new Error("beginSMaskMode called while already in smask mode");const qt=this.ctx.canvas.width,Yt=this.ctx.canvas.height,Jt="smaskGroupAt"+this.groupLevel,hn=this.cachedCanvases.getCanvas(Jt,qt,Yt);this.suspendedCtx=this.ctx,this.ctx=hn.context;const cn=this.ctx;cn.setTransform(...(0,xt.getCurrentTransform)(this.suspendedCtx)),Ot(this.suspendedCtx,cn),Mt(cn,this.suspendedCtx),this.setGState([["BM","source-over"],["ca",1],["CA",1]])}endSMaskMode(){if(!this.inSMaskMode)throw new Error("endSMaskMode called while not in smask mode");this.ctx._removeMirroring(),Ot(this.ctx,this.suspendedCtx),this.ctx=this.suspendedCtx,this.suspendedCtx=null}compose(qt){if(!this.current.activeSMask)return;qt?(qt[0]=Math.floor(qt[0]),qt[1]=Math.floor(qt[1]),qt[2]=Math.ceil(qt[2]),qt[3]=Math.ceil(qt[3])):qt=[0,0,this.ctx.canvas.width,this.ctx.canvas.height];const Yt=this.current.activeSMask,Jt=this.suspendedCtx;Xt(Jt,Yt,this.ctx,qt),this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.restore()}save(){this.inSMaskMode?(Ot(this.ctx,this.suspendedCtx),this.suspendedCtx.save()):this.ctx.save();const qt=this.current;this.stateStack.push(qt),this.current=qt.clone()}restore(){this.stateStack.length===0&&this.inSMaskMode&&this.endSMaskMode(),this.stateStack.length!==0&&(this.current=this.stateStack.pop(),this.inSMaskMode?(this.suspendedCtx.restore(),Ot(this.suspendedCtx,this.ctx)):this.ctx.restore(),this.checkSMaskState(),this.pendingClip=null,this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null)}transform(qt,Yt,Jt,hn,cn,fn){this.ctx.transform(qt,Yt,Jt,hn,cn,fn),this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}constructPath(qt,Yt,Jt){const hn=this.ctx,cn=this.current;let fn=cn.x,Rn=cn.y,jn,Un;const zn=(0,xt.getCurrentTransform)(hn),Gn=zn[0]===0&&zn[3]===0||zn[1]===0&&zn[2]===0,Yn=Gn?Jt.slice(0):null;for(let Zn=0,Dn=0,$n=qt.length;Zn<$n;Zn++)switch(qt[Zn]|0){case vt.OPS.rectangle:fn=Yt[Dn++],Rn=Yt[Dn++];const sn=Yt[Dn++],mn=Yt[Dn++],Pn=fn+sn,Nn=Rn+mn;hn.moveTo(fn,Rn),sn===0||mn===0?hn.lineTo(Pn,Nn):(hn.lineTo(Pn,Rn),hn.lineTo(Pn,Nn),hn.lineTo(fn,Nn)),Gn||cn.updateRectMinMax(zn,[fn,Rn,Pn,Nn]),hn.closePath();break;case vt.OPS.moveTo:fn=Yt[Dn++],Rn=Yt[Dn++],hn.moveTo(fn,Rn),Gn||cn.updatePathMinMax(zn,fn,Rn);break;case vt.OPS.lineTo:fn=Yt[Dn++],Rn=Yt[Dn++],hn.lineTo(fn,Rn),Gn||cn.updatePathMinMax(zn,fn,Rn);break;case vt.OPS.curveTo:jn=fn,Un=Rn,fn=Yt[Dn+4],Rn=Yt[Dn+5],hn.bezierCurveTo(Yt[Dn],Yt[Dn+1],Yt[Dn+2],Yt[Dn+3],fn,Rn),cn.updateCurvePathMinMax(zn,jn,Un,Yt[Dn],Yt[Dn+1],Yt[Dn+2],Yt[Dn+3],fn,Rn,Yn),Dn+=6;break;case vt.OPS.curveTo2:jn=fn,Un=Rn,hn.bezierCurveTo(fn,Rn,Yt[Dn],Yt[Dn+1],Yt[Dn+2],Yt[Dn+3]),cn.updateCurvePathMinMax(zn,jn,Un,fn,Rn,Yt[Dn],Yt[Dn+1],Yt[Dn+2],Yt[Dn+3],Yn),fn=Yt[Dn+2],Rn=Yt[Dn+3],Dn+=4;break;case vt.OPS.curveTo3:jn=fn,Un=Rn,fn=Yt[Dn+2],Rn=Yt[Dn+3],hn.bezierCurveTo(Yt[Dn],Yt[Dn+1],fn,Rn,fn,Rn),cn.updateCurvePathMinMax(zn,jn,Un,Yt[Dn],Yt[Dn+1],fn,Rn,fn,Rn,Yn),Dn+=4;break;case vt.OPS.closePath:hn.closePath();break}Gn&&cn.updateScalingPathMinMax(zn,Yn),cn.setCurrentPoint(fn,Rn)}closePath(){this.ctx.closePath()}stroke(qt=!0){const Yt=this.ctx,Jt=this.current.strokeColor;Yt.globalAlpha=this.current.strokeAlpha,this.contentVisible&&(typeof Jt=="object"&&(Jt!=null&&Jt.getPattern)?(Yt.save(),Yt.strokeStyle=Jt.getPattern(Yt,this,(0,xt.getCurrentTransformInverse)(Yt),bt.PathType.STROKE),this.rescaleAndStroke(!1),Yt.restore()):this.rescaleAndStroke(!0)),qt&&this.consumePath(this.current.getClippedPathBoundingBox()),Yt.globalAlpha=this.current.fillAlpha}closeStroke(){this.closePath(),this.stroke()}fill(qt=!0){const Yt=this.ctx,Jt=this.current.fillColor,hn=this.current.patternFill;let cn=!1;hn&&(Yt.save(),Yt.fillStyle=Jt.getPattern(Yt,this,(0,xt.getCurrentTransformInverse)(Yt),bt.PathType.FILL),cn=!0);const fn=this.current.getClippedPathBoundingBox();this.contentVisible&&fn!==null&&(this.pendingEOFill?(Yt.fill("evenodd"),this.pendingEOFill=!1):Yt.fill()),cn&&Yt.restore(),qt&&this.consumePath(fn)}eoFill(){this.pendingEOFill=!0,this.fill()}fillStroke(){this.fill(!1),this.stroke(!1),this.consumePath()}eoFillStroke(){this.pendingEOFill=!0,this.fillStroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.pendingEOFill=!0,this.closePath(),this.fillStroke()}endPath(){this.consumePath()}clip(){this.pendingClip=un}eoClip(){this.pendingClip=vn}beginText(){this.current.textMatrix=vt.IDENTITY_MATRIX,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}endText(){const qt=this.pendingTextPaths,Yt=this.ctx;if(qt===void 0){Yt.beginPath();return}Yt.save(),Yt.beginPath();for(const Jt of qt)Yt.setTransform(...Jt.transform),Yt.translate(Jt.x,Jt.y),Jt.addToPath(Yt,Jt.fontSize);Yt.restore(),Yt.clip(),Yt.beginPath(),delete this.pendingTextPaths}setCharSpacing(qt){this.current.charSpacing=qt}setWordSpacing(qt){this.current.wordSpacing=qt}setHScale(qt){this.current.textHScale=qt/100}setLeading(qt){this.current.leading=-qt}setFont(qt,Yt){var zn;const Jt=this.commonObjs.get(qt),hn=this.current;if(!Jt)throw new Error(`Can't find font for ${qt}`);if(hn.fontMatrix=Jt.fontMatrix||vt.FONT_IDENTITY_MATRIX,(hn.fontMatrix[0]===0||hn.fontMatrix[3]===0)&&(0,vt.warn)("Invalid font matrix for font "+qt),Yt<0?(Yt=-Yt,hn.fontDirection=-1):hn.fontDirection=1,this.current.font=Jt,this.current.fontSize=Yt,Jt.isType3Font)return;const cn=Jt.loadedName||"sans-serif",fn=((zn=Jt.systemFontInfo)==null?void 0:zn.css)||`"${cn}", ${Jt.fallbackName}`;let Rn="normal";Jt.black?Rn="900":Jt.bold&&(Rn="bold");const jn=Jt.italic?"italic":"normal";let Un=Yt;Yt<At?Un=At:Yt>_t&&(Un=_t),this.current.fontSizeScale=Yt/Un,this.ctx.font=`${jn} ${Rn} ${Un}px ${fn}`}setTextRenderingMode(qt){this.current.textRenderingMode=qt}setTextRise(qt){this.current.textRise=qt}moveText(qt,Yt){this.current.x=this.current.lineX+=qt,this.current.y=this.current.lineY+=Yt}setLeadingMoveText(qt,Yt){this.setLeading(-Yt),this.moveText(qt,Yt)}setTextMatrix(qt,Yt,Jt,hn,cn,fn){this.current.textMatrix=[qt,Yt,Jt,hn,cn,fn],this.current.textMatrixScale=Math.hypot(qt,Yt),this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}nextLine(){this.moveText(0,this.current.leading)}paintChar(qt,Yt,Jt,hn){const cn=this.ctx,fn=this.current,Rn=fn.font,jn=fn.textRenderingMode,Un=fn.fontSize/fn.fontSizeScale,zn=jn&vt.TextRenderingMode.FILL_STROKE_MASK,Gn=!!(jn&vt.TextRenderingMode.ADD_TO_PATH_FLAG),Yn=fn.patternFill&&!Rn.missingFile;let Zn;(Rn.disableFontFace||Gn||Yn)&&(Zn=Rn.getPathGenerator(this.commonObjs,qt)),Rn.disableFontFace||Yn?(cn.save(),cn.translate(Yt,Jt),cn.beginPath(),Zn(cn,Un),hn&&cn.setTransform(...hn),(zn===vt.TextRenderingMode.FILL||zn===vt.TextRenderingMode.FILL_STROKE)&&cn.fill(),(zn===vt.TextRenderingMode.STROKE||zn===vt.TextRenderingMode.FILL_STROKE)&&cn.stroke(),cn.restore()):((zn===vt.TextRenderingMode.FILL||zn===vt.TextRenderingMode.FILL_STROKE)&&cn.fillText(qt,Yt,Jt),(zn===vt.TextRenderingMode.STROKE||zn===vt.TextRenderingMode.FILL_STROKE)&&cn.strokeText(qt,Yt,Jt)),Gn&&(this.pendingTextPaths||(this.pendingTextPaths=[])).push({transform:(0,xt.getCurrentTransform)(cn),x:Yt,y:Jt,fontSize:Un,addToPath:Zn})}get isFontSubpixelAAEnabled(){const{context:qt}=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10);qt.scale(1.5,1),qt.fillText("I",0,10);const Yt=qt.getImageData(0,0,10,10).data;let Jt=!1;for(let hn=3;hn<Yt.length;hn+=4)if(Yt[hn]>0&&Yt[hn]<255){Jt=!0;break}return(0,vt.shadow)(this,"isFontSubpixelAAEnabled",Jt)}showText(qt){const Yt=this.current,Jt=Yt.font;if(Jt.isType3Font)return this.showType3Text(qt);const hn=Yt.fontSize;if(hn===0)return;const cn=this.ctx,fn=Yt.fontSizeScale,Rn=Yt.charSpacing,jn=Yt.wordSpacing,Un=Yt.fontDirection,zn=Yt.textHScale*Un,Gn=qt.length,Yn=Jt.vertical,Zn=Yn?1:-1,Dn=Jt.defaultVMetrics,$n=hn*Yt.fontMatrix[0],sn=Yt.textRenderingMode===vt.TextRenderingMode.FILL&&!Jt.disableFontFace&&!Yt.patternFill;cn.save(),cn.transform(...Yt.textMatrix),cn.translate(Yt.x,Yt.y+Yt.textRise),Un>0?cn.scale(zn,-1):cn.scale(zn,1);let mn;if(Yt.patternFill){cn.save();const qn=Yt.fillColor.getPattern(cn,this,(0,xt.getCurrentTransformInverse)(cn),bt.PathType.FILL);mn=(0,xt.getCurrentTransform)(cn),cn.restore(),cn.fillStyle=qn}let Pn=Yt.lineWidth;const Nn=Yt.textMatrixScale;if(Nn===0||Pn===0){const qn=Yt.textRenderingMode&vt.TextRenderingMode.FILL_STROKE_MASK;(qn===vt.TextRenderingMode.STROKE||qn===vt.TextRenderingMode.FILL_STROKE)&&(Pn=this.getSinglePixelWidth())}else Pn/=Nn;if(fn!==1&&(cn.scale(fn,fn),Pn/=fn),cn.lineWidth=Pn,Jt.isInvalidPDFjsFont){const qn=[];let Tn=0;for(const or of qt)qn.push(or.unicode),Tn+=or.width;cn.fillText(qn.join(""),0,0),Yt.x+=Tn*$n*zn,cn.restore(),this.compose();return}let Vn=0,Qn;for(Qn=0;Qn<Gn;++Qn){const qn=qt[Qn];if(typeof qn=="number"){Vn+=Zn*qn*hn/1e3;continue}let Tn=!1;const or=(qn.isSpace?jn:0)+Rn,nr=qn.fontChar,Nr=qn.accent;let Pr,Kr,hr=qn.width;if(Yn){const Ur=qn.vmetric||Dn,is=-(qn.vmetric?Ur[1]:hr*.5)*$n,Xn=Ur[2]*$n;hr=Ur?-Ur[0]:hr,Pr=is/fn,Kr=(Vn+Xn)/fn}else Pr=Vn/fn,Kr=0;if(Jt.remeasure&&hr>0){const Ur=cn.measureText(nr).width*1e3/hn*fn;if(hr<Ur&&this.isFontSubpixelAAEnabled){const is=hr/Ur;Tn=!0,cn.save(),cn.scale(is,1),Pr/=is}else hr!==Ur&&(Pr+=(hr-Ur)/2e3*hn/fn)}if(this.contentVisible&&(qn.isInFont||Jt.missingFile)){if(sn&&!Nr)cn.fillText(nr,Pr,Kr);else if(this.paintChar(nr,Pr,Kr,mn),Nr){const Ur=Pr+hn*Nr.offset.x/fn,is=Kr-hn*Nr.offset.y/fn;this.paintChar(Nr.fontChar,Ur,is,mn)}}const wr=Yn?hr*$n-or*Un:hr*$n+or*Un;Vn+=wr,Tn&&cn.restore()}Yn?Yt.y-=Vn:Yt.x+=Vn*zn,cn.restore(),this.compose()}showType3Text(qt){const Yt=this.ctx,Jt=this.current,hn=Jt.font,cn=Jt.fontSize,fn=Jt.fontDirection,Rn=hn.vertical?1:-1,jn=Jt.charSpacing,Un=Jt.wordSpacing,zn=Jt.textHScale*fn,Gn=Jt.fontMatrix||vt.FONT_IDENTITY_MATRIX,Yn=qt.length,Zn=Jt.textRenderingMode===vt.TextRenderingMode.INVISIBLE;let Dn,$n,sn,mn;if(!(Zn||cn===0)){for(this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null,Yt.save(),Yt.transform(...Jt.textMatrix),Yt.translate(Jt.x,Jt.y),Yt.scale(zn,fn),Dn=0;Dn<Yn;++Dn){if($n=qt[Dn],typeof $n=="number"){mn=Rn*$n*cn/1e3,this.ctx.translate(mn,0),Jt.x+=mn*zn;continue}const Pn=($n.isSpace?Un:0)+jn,Nn=hn.charProcOperatorList[$n.operatorListId];if(!Nn){(0,vt.warn)(`Type3 character "${$n.operatorListId}" is not available.`);continue}this.contentVisible&&(this.processingType3=$n,this.save(),Yt.scale(cn,cn),Yt.transform(...Gn),this.executeOperatorList(Nn),this.restore()),sn=vt.Util.applyTransform([$n.width,0],Gn)[0]*cn+Pn,Yt.translate(sn,0),Jt.x+=sn*zn}Yt.restore(),this.processingType3=null}}setCharWidth(qt,Yt){}setCharWidthAndBounds(qt,Yt,Jt,hn,cn,fn){this.ctx.rect(Jt,hn,cn-Jt,fn-hn),this.ctx.clip(),this.endPath()}getColorN_Pattern(qt){let Yt;if(qt[0]==="TilingPattern"){const Jt=qt[1],hn=this.baseTransform||(0,xt.getCurrentTransform)(this.ctx),cn={createCanvasGraphics:fn=>new Sn(fn,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:this.optionalContentConfig,markedContentStack:this.markedContentStack})};Yt=new bt.TilingPattern(qt,Jt,this.ctx,cn,hn)}else Yt=this._getPattern(qt[1],qt[2]);return Yt}setStrokeColorN(){this.current.strokeColor=this.getColorN_Pattern(arguments)}setFillColorN(){this.current.fillColor=this.getColorN_Pattern(arguments),this.current.patternFill=!0}setStrokeRGBColor(qt,Yt,Jt){const hn=vt.Util.makeHexColor(qt,Yt,Jt);this.ctx.strokeStyle=hn,this.current.strokeColor=hn}setFillRGBColor(qt,Yt,Jt){const hn=vt.Util.makeHexColor(qt,Yt,Jt);this.ctx.fillStyle=hn,this.current.fillColor=hn,this.current.patternFill=!1}_getPattern(qt,Yt=null){let Jt;return this.cachedPatterns.has(qt)?Jt=this.cachedPatterns.get(qt):(Jt=(0,bt.getShadingPattern)(this.getObject(qt)),this.cachedPatterns.set(qt,Jt)),Yt&&(Jt.matrix=Yt),Jt}shadingFill(qt){if(!this.contentVisible)return;const Yt=this.ctx;this.save();const Jt=this._getPattern(qt);Yt.fillStyle=Jt.getPattern(Yt,this,(0,xt.getCurrentTransformInverse)(Yt),bt.PathType.SHADING);const hn=(0,xt.getCurrentTransformInverse)(Yt);if(hn){const{width:cn,height:fn}=Yt.canvas,[Rn,jn,Un,zn]=vt.Util.getAxialAlignedBoundingBox([0,0,cn,fn],hn);this.ctx.fillRect(Rn,jn,Un-Rn,zn-jn)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);this.compose(this.current.getClippedPathBoundingBox()),this.restore()}beginInlineImage(){(0,vt.unreachable)("Should not call beginInlineImage")}beginImageData(){(0,vt.unreachable)("Should not call beginImageData")}paintFormXObjectBegin(qt,Yt){if(this.contentVisible&&(this.save(),this.baseTransformStack.push(this.baseTransform),Array.isArray(qt)&&qt.length===6&&this.transform(...qt),this.baseTransform=(0,xt.getCurrentTransform)(this.ctx),Yt)){const Jt=Yt[2]-Yt[0],hn=Yt[3]-Yt[1];this.ctx.rect(Yt[0],Yt[1],Jt,hn),this.current.updateRectMinMax((0,xt.getCurrentTransform)(this.ctx),Yt),this.clip(),this.endPath()}}paintFormXObjectEnd(){this.contentVisible&&(this.restore(),this.baseTransform=this.baseTransformStack.pop())}beginGroup(qt){if(!this.contentVisible)return;this.save(),this.inSMaskMode&&(this.endSMaskMode(),this.current.activeSMask=null);const Yt=this.ctx;qt.isolated||(0,vt.info)("TODO: Support non-isolated groups."),qt.knockout&&(0,vt.warn)("Knockout groups not supported.");const Jt=(0,xt.getCurrentTransform)(Yt);if(qt.matrix&&Yt.transform(...qt.matrix),!qt.bbox)throw new Error("Bounding box is required.");let hn=vt.Util.getAxialAlignedBoundingBox(qt.bbox,(0,xt.getCurrentTransform)(Yt));const cn=[0,0,Yt.canvas.width,Yt.canvas.height];hn=vt.Util.intersect(hn,cn)||[0,0,0,0];const fn=Math.floor(hn[0]),Rn=Math.floor(hn[1]);let jn=Math.max(Math.ceil(hn[2])-fn,1),Un=Math.max(Math.ceil(hn[3])-Rn,1),zn=1,Gn=1;jn>Ct&&(zn=jn/Ct,jn=Ct),Un>Ct&&(Gn=Un/Ct,Un=Ct),this.current.startNewPathAndClipBox([0,0,jn,Un]);let Yn="groupAt"+this.groupLevel;qt.smask&&(Yn+="_smask_"+this.smaskCounter++%2);const Zn=this.cachedCanvases.getCanvas(Yn,jn,Un),Dn=Zn.context;Dn.scale(1/zn,1/Gn),Dn.translate(-fn,-Rn),Dn.transform(...Jt),qt.smask?this.smaskStack.push({canvas:Zn.canvas,context:Dn,offsetX:fn,offsetY:Rn,scaleX:zn,scaleY:Gn,subtype:qt.smask.subtype,backdrop:qt.smask.backdrop,transferMap:qt.smask.transferMap||null,startTransformInverse:null}):(Yt.setTransform(1,0,0,1,0,0),Yt.translate(fn,Rn),Yt.scale(zn,Gn),Yt.save()),Ot(Yt,Dn),this.ctx=Dn,this.setGState([["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(Yt),this.groupLevel++}endGroup(qt){if(!this.contentVisible)return;this.groupLevel--;const Yt=this.ctx,Jt=this.groupStack.pop();if(this.ctx=Jt,this.ctx.imageSmoothingEnabled=!1,qt.smask)this.tempSMask=this.smaskStack.pop(),this.restore();else{this.ctx.restore();const hn=(0,xt.getCurrentTransform)(this.ctx);this.restore(),this.ctx.save(),this.ctx.setTransform(...hn);const cn=vt.Util.getAxialAlignedBoundingBox([0,0,Yt.canvas.width,Yt.canvas.height],hn);this.ctx.drawImage(Yt.canvas,0,0),this.ctx.restore(),this.compose(cn)}}beginAnnotation(qt,Yt,Jt,hn,cn){if(Ut(this,dn,N1).call(this),Bt(this.ctx),this.ctx.save(),this.save(),this.baseTransform&&this.ctx.setTransform(...this.baseTransform),Array.isArray(Yt)&&Yt.length===4){const fn=Yt[2]-Yt[0],Rn=Yt[3]-Yt[1];if(cn&&this.annotationCanvasMap){Jt=Jt.slice(),Jt[4]-=Yt[0],Jt[5]-=Yt[1],Yt=Yt.slice(),Yt[0]=Yt[1]=0,Yt[2]=fn,Yt[3]=Rn;const[jn,Un]=vt.Util.singularValueDecompose2dScale((0,xt.getCurrentTransform)(this.ctx)),{viewportScale:zn}=this,Gn=Math.ceil(fn*this.outputScaleX*zn),Yn=Math.ceil(Rn*this.outputScaleY*zn);this.annotationCanvas=this.canvasFactory.create(Gn,Yn);const{canvas:Zn,context:Dn}=this.annotationCanvas;this.annotationCanvasMap.set(qt,Zn),this.annotationCanvas.savedCtx=this.ctx,this.ctx=Dn,this.ctx.save(),this.ctx.setTransform(jn,0,0,-Un,0,Rn*Un),Bt(this.ctx)}else Bt(this.ctx),this.ctx.rect(Yt[0],Yt[1],fn,Rn),this.ctx.clip(),this.endPath()}this.current=new Dt(this.ctx.canvas.width,this.ctx.canvas.height),this.transform(...Jt),this.transform(...hn)}endAnnotation(){this.annotationCanvas&&(this.ctx.restore(),Ut(this,dn,O1).call(this),this.ctx=this.annotationCanvas.savedCtx,delete this.annotationCanvas.savedCtx,delete this.annotationCanvas)}paintImageMaskXObject(qt){if(!this.contentVisible)return;const Yt=qt.count;qt=this.getObject(qt.data,qt),qt.count=Yt;const Jt=this.ctx,hn=this.processingType3;if(hn&&(hn.compiled===void 0&&(hn.compiled=Ft(qt)),hn.compiled)){hn.compiled(Jt);return}const cn=this._createMaskCanvas(qt),fn=cn.canvas;Jt.save(),Jt.setTransform(1,0,0,1,0,0),Jt.drawImage(fn,cn.offsetX,cn.offsetY),Jt.restore(),this.compose()}paintImageMaskXObjectRepeat(qt,Yt,Jt=0,hn=0,cn,fn){if(!this.contentVisible)return;qt=this.getObject(qt.data,qt);const Rn=this.ctx;Rn.save();const jn=(0,xt.getCurrentTransform)(Rn);Rn.transform(Yt,Jt,hn,cn,0,0);const Un=this._createMaskCanvas(qt);Rn.setTransform(1,0,0,1,Un.offsetX-jn[4],Un.offsetY-jn[5]);for(let zn=0,Gn=fn.length;zn<Gn;zn+=2){const Yn=vt.Util.transform(jn,[Yt,Jt,hn,cn,fn[zn],fn[zn+1]]),[Zn,Dn]=vt.Util.applyTransform([0,0],Yn);Rn.drawImage(Un.canvas,Zn,Dn)}Rn.restore(),this.compose()}paintImageMaskXObjectGroup(qt){if(!this.contentVisible)return;const Yt=this.ctx,Jt=this.current.fillColor,hn=this.current.patternFill;for(const cn of qt){const{data:fn,width:Rn,height:jn,transform:Un}=cn,zn=this.cachedCanvases.getCanvas("maskCanvas",Rn,jn),Gn=zn.context;Gn.save();const Yn=this.getObject(fn,cn);Ht(Gn,Yn),Gn.globalCompositeOperation="source-in",Gn.fillStyle=hn?Jt.getPattern(Gn,this,(0,xt.getCurrentTransformInverse)(Yt),bt.PathType.FILL):Jt,Gn.fillRect(0,0,Rn,jn),Gn.restore(),Yt.save(),Yt.transform(...Un),Yt.scale(1,-1),$t(Yt,zn.canvas,0,0,Rn,jn,0,-1,1,1),Yt.restore()}this.compose()}paintImageXObject(qt){if(!this.contentVisible)return;const Yt=this.getObject(qt);if(!Yt){(0,vt.warn)("Dependent image isn't ready yet");return}this.paintInlineImageXObject(Yt)}paintImageXObjectRepeat(qt,Yt,Jt,hn){if(!this.contentVisible)return;const cn=this.getObject(qt);if(!cn){(0,vt.warn)("Dependent image isn't ready yet");return}const fn=cn.width,Rn=cn.height,jn=[];for(let Un=0,zn=hn.length;Un<zn;Un+=2)jn.push({transform:[Yt,0,0,Jt,hn[Un],hn[Un+1]],x:0,y:0,w:fn,h:Rn});this.paintInlineImageXObjectGroup(cn,jn)}applyTransferMapsToCanvas(qt){return this.current.transferMaps!=="none"&&(qt.filter=this.current.transferMaps,qt.drawImage(qt.canvas,0,0),qt.filter="none"),qt.canvas}applyTransferMapsToBitmap(qt){if(this.current.transferMaps==="none")return qt.bitmap;const{bitmap:Yt,width:Jt,height:hn}=qt,cn=this.cachedCanvases.getCanvas("inlineImage",Jt,hn),fn=cn.context;return fn.filter=this.current.transferMaps,fn.drawImage(Yt,0,0),fn.filter="none",cn.canvas}paintInlineImageXObject(qt){if(!this.contentVisible)return;const Yt=qt.width,Jt=qt.height,hn=this.ctx;if(this.save(),!vt.isNodeJS){const{filter:Rn}=hn;Rn!=="none"&&Rn!==""&&(hn.filter="none")}hn.scale(1/Yt,-1/Jt);let cn;if(qt.bitmap)cn=this.applyTransferMapsToBitmap(qt);else if(typeof HTMLElement=="function"&&qt instanceof HTMLElement||!qt.data)cn=qt;else{const jn=this.cachedCanvases.getCanvas("inlineImage",Yt,Jt).context;Nt(jn,qt),cn=this.applyTransferMapsToCanvas(jn)}const fn=this._scaleImage(cn,(0,xt.getCurrentTransformInverse)(hn));hn.imageSmoothingEnabled=en((0,xt.getCurrentTransform)(hn),qt.interpolate),$t(hn,fn.img,0,0,fn.paintWidth,fn.paintHeight,0,-Jt,Yt,Jt),this.compose(),this.restore()}paintInlineImageXObjectGroup(qt,Yt){if(!this.contentVisible)return;const Jt=this.ctx;let hn;if(qt.bitmap)hn=qt.bitmap;else{const cn=qt.width,fn=qt.height,jn=this.cachedCanvases.getCanvas("inlineImage",cn,fn).context;Nt(jn,qt),hn=this.applyTransferMapsToCanvas(jn)}for(const cn of Yt)Jt.save(),Jt.transform(...cn.transform),Jt.scale(1,-1),$t(Jt,hn,cn.x,cn.y,cn.w,cn.h,0,-1,1,1),Jt.restore();this.compose()}paintSolidColorImageMask(){this.contentVisible&&(this.ctx.fillRect(0,0,1,1),this.compose())}markPoint(qt){}markPointProps(qt,Yt){}beginMarkedContent(qt){this.markedContentStack.push({visible:!0})}beginMarkedContentProps(qt,Yt){qt==="OC"?this.markedContentStack.push({visible:this.optionalContentConfig.isVisible(Yt)}):this.markedContentStack.push({visible:!0}),this.contentVisible=this.isContentVisible()}endMarkedContent(){this.markedContentStack.pop(),this.contentVisible=this.isContentVisible()}beginCompat(){}endCompat(){}consumePath(qt){const Yt=this.current.isEmptyClip();this.pendingClip&&this.current.updateClipFromPath(),this.pendingClip||this.compose(qt);const Jt=this.ctx;this.pendingClip&&(Yt||(this.pendingClip===vn?Jt.clip("evenodd"):Jt.clip()),this.pendingClip=null),this.current.startNewPathAndClipBox(this.current.clipBox),Jt.beginPath()}getSinglePixelWidth(){if(!this._cachedGetSinglePixelWidth){const qt=(0,xt.getCurrentTransform)(this.ctx);if(qt[1]===0&&qt[2]===0)this._cachedGetSinglePixelWidth=1/Math.min(Math.abs(qt[0]),Math.abs(qt[3]));else{const Yt=Math.abs(qt[0]*qt[3]-qt[2]*qt[1]),Jt=Math.hypot(qt[0],qt[2]),hn=Math.hypot(qt[1],qt[3]);this._cachedGetSinglePixelWidth=Math.max(Jt,hn)/Yt}}return this._cachedGetSinglePixelWidth}getScaleForStroking(){if(this._cachedScaleForStroking[0]===-1){const{lineWidth:qt}=this.current,{a:Yt,b:Jt,c:hn,d:cn}=this.ctx.getTransform();let fn,Rn;if(Jt===0&&hn===0){const jn=Math.abs(Yt),Un=Math.abs(cn);if(jn===Un)if(qt===0)fn=Rn=1/jn;else{const zn=jn*qt;fn=Rn=zn<1?1/zn:1}else if(qt===0)fn=1/jn,Rn=1/Un;else{const zn=jn*qt,Gn=Un*qt;fn=zn<1?1/zn:1,Rn=Gn<1?1/Gn:1}}else{const jn=Math.abs(Yt*cn-Jt*hn),Un=Math.hypot(Yt,Jt),zn=Math.hypot(hn,cn);if(qt===0)fn=zn/jn,Rn=Un/jn;else{const Gn=qt*jn;fn=zn>Gn?zn/Gn:1,Rn=Un>Gn?Un/Gn:1}}this._cachedScaleForStroking[0]=fn,this._cachedScaleForStroking[1]=Rn}return this._cachedScaleForStroking}rescaleAndStroke(qt){const{ctx:Yt}=this,{lineWidth:Jt}=this.current,[hn,cn]=this.getScaleForStroking();if(Yt.lineWidth=Jt||1,hn===1&&cn===1){Yt.stroke();return}const fn=Yt.getLineDash();if(qt&&Yt.save(),Yt.scale(hn,cn),fn.length>0){const Rn=Math.max(hn,cn);Yt.setLineDash(fn.map(jn=>jn/Rn)),Yt.lineDashOffset/=Rn}Yt.stroke(),qt&&Yt.restore()}isContentVisible(){for(let qt=this.markedContentStack.length-1;qt>=0;qt--)if(!this.markedContentStack[qt].visible)return!1;return!0}};dn=new WeakSet,N1=function(){for(;this.stateStack.length||this.inSMaskMode;)this.restore();this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null)},O1=function(){if(this.pageColors){const qt=this.filterFactory.addHCMFilter(this.pageColors.foreground,this.pageColors.background);if(qt!=="none"){const Yt=this.ctx.filter;this.ctx.filter=qt,this.ctx.drawImage(this.ctx.canvas,0,0),this.ctx.filter=Yt}}};let an=Sn;$.CanvasGraphics=an;for(const rn in vt.OPS)an.prototype[rn]!==void 0&&(an.prototype[vt.OPS[rn]]=an.prototype[rn])},(ht,$,_e)=>{Object.defineProperty($,"__esModule",{value:!0}),$.TilingPattern=$.PathType=void 0,$.getShadingPattern=kt;var vt=_e(1),xt=_e(6);const bt={FILL:"Fill",STROKE:"Stroke",SHADING:"Shading"};$.PathType=bt;function Et(Ft,Dt){if(!Dt)return;const Nt=Dt[2]-Dt[0],Ht=Dt[3]-Dt[1],Ot=new Path2D;Ot.rect(Dt[0],Dt[1],Nt,Ht),Ft.clip(Ot)}class At{constructor(){this.constructor===At&&(0,vt.unreachable)("Cannot initialize BaseShadingPattern.")}getPattern(){(0,vt.unreachable)("Abstract method `getPattern` called.")}}class _t extends At{constructor(Dt){super(),this._type=Dt[1],this._bbox=Dt[2],this._colorStops=Dt[3],this._p0=Dt[4],this._p1=Dt[5],this._r0=Dt[6],this._r1=Dt[7],this.matrix=null}_createGradient(Dt){let Nt;this._type==="axial"?Nt=Dt.createLinearGradient(this._p0[0],this._p0[1],this._p1[0],this._p1[1]):this._type==="radial"&&(Nt=Dt.createRadialGradient(this._p0[0],this._p0[1],this._r0,this._p1[0],this._p1[1],this._r1));for(const Ht of this._colorStops)Nt.addColorStop(Ht[0],Ht[1]);return Nt}getPattern(Dt,Nt,Ht,Ot){let Bt;if(Ot===bt.STROKE||Ot===bt.FILL){const jt=Nt.current.getClippedPathBoundingBox(Ot,(0,xt.getCurrentTransform)(Dt))||[0,0,0,0],zt=Math.ceil(jt[2]-jt[0])||1,Kt=Math.ceil(jt[3]-jt[1])||1,nn=Nt.cachedCanvases.getCanvas("pattern",zt,Kt,!0),Xt=nn.context;Xt.clearRect(0,0,Xt.canvas.width,Xt.canvas.height),Xt.beginPath(),Xt.rect(0,0,Xt.canvas.width,Xt.canvas.height),Xt.translate(-jt[0],-jt[1]),Ht=vt.Util.transform(Ht,[1,0,0,1,jt[0],jt[1]]),Xt.transform(...Nt.baseTransform),this.matrix&&Xt.transform(...this.matrix),Et(Xt,this._bbox),Xt.fillStyle=this._createGradient(Xt),Xt.fill(),Bt=Dt.createPattern(nn.canvas,"no-repeat");const en=new DOMMatrix(Ht);Bt.setTransform(en)}else Et(Dt,this._bbox),Bt=this._createGradient(Dt);return Bt}}function Ct(Ft,Dt,Nt,Ht,Ot,Bt,jt,zt){const Kt=Dt.coords,nn=Dt.colors,Xt=Ft.data,en=Ft.width*4;let on;Kt[Nt+1]>Kt[Ht+1]&&(on=Nt,Nt=Ht,Ht=on,on=Bt,Bt=jt,jt=on),Kt[Ht+1]>Kt[Ot+1]&&(on=Ht,Ht=Ot,Ot=on,on=jt,jt=zt,zt=on),Kt[Nt+1]>Kt[Ht+1]&&(on=Nt,Nt=Ht,Ht=on,on=Bt,Bt=jt,jt=on);const An=(Kt[Nt]+Dt.offsetX)*Dt.scaleX,un=(Kt[Nt+1]+Dt.offsetY)*Dt.scaleY,vn=(Kt[Ht]+Dt.offsetX)*Dt.scaleX,an=(Kt[Ht+1]+Dt.offsetY)*Dt.scaleY,dn=(Kt[Ot]+Dt.offsetX)*Dt.scaleX,tn=(Kt[Ot+1]+Dt.offsetY)*Dt.scaleY;if(un>=tn)return;const gn=nn[Bt],Sn=nn[Bt+1],rn=nn[Bt+2],qt=nn[jt],Yt=nn[jt+1],Jt=nn[jt+2],hn=nn[zt],cn=nn[zt+1],fn=nn[zt+2],Rn=Math.round(un),jn=Math.round(tn);let Un,zn,Gn,Yn,Zn,Dn,$n,sn;for(let mn=Rn;mn<=jn;mn++){if(mn<an){const qn=mn<un?0:(un-mn)/(un-an);Un=An-(An-vn)*qn,zn=gn-(gn-qt)*qn,Gn=Sn-(Sn-Yt)*qn,Yn=rn-(rn-Jt)*qn}else{let qn;mn>tn?qn=1:an===tn?qn=0:qn=(an-mn)/(an-tn),Un=vn-(vn-dn)*qn,zn=qt-(qt-hn)*qn,Gn=Yt-(Yt-cn)*qn,Yn=Jt-(Jt-fn)*qn}let Pn;mn<un?Pn=0:mn>tn?Pn=1:Pn=(un-mn)/(un-tn),Zn=An-(An-dn)*Pn,Dn=gn-(gn-hn)*Pn,$n=Sn-(Sn-cn)*Pn,sn=rn-(rn-fn)*Pn;const Nn=Math.round(Math.min(Un,Zn)),Vn=Math.round(Math.max(Un,Zn));let Qn=en*mn+Nn*4;for(let qn=Nn;qn<=Vn;qn++)Pn=(Un-qn)/(Un-Zn),Pn<0?Pn=0:Pn>1&&(Pn=1),Xt[Qn++]=zn-(zn-Dn)*Pn|0,Xt[Qn++]=Gn-(Gn-$n)*Pn|0,Xt[Qn++]=Yn-(Yn-sn)*Pn|0,Xt[Qn++]=255}}function St(Ft,Dt,Nt){const Ht=Dt.coords,Ot=Dt.colors;let Bt,jt;switch(Dt.type){case"lattice":const zt=Dt.verticesPerRow,Kt=Math.floor(Ht.length/zt)-1,nn=zt-1;for(Bt=0;Bt<Kt;Bt++){let Xt=Bt*zt;for(let en=0;en<nn;en++,Xt++)Ct(Ft,Nt,Ht[Xt],Ht[Xt+1],Ht[Xt+zt],Ot[Xt],Ot[Xt+1],Ot[Xt+zt]),Ct(Ft,Nt,Ht[Xt+zt+1],Ht[Xt+1],Ht[Xt+zt],Ot[Xt+zt+1],Ot[Xt+1],Ot[Xt+zt])}break;case"triangles":for(Bt=0,jt=Ht.length;Bt<jt;Bt+=3)Ct(Ft,Nt,Ht[Bt],Ht[Bt+1],Ht[Bt+2],Ot[Bt],Ot[Bt+1],Ot[Bt+2]);break;default:throw new Error("illegal figure")}}class Rt extends At{constructor(Dt){super(),this._coords=Dt[2],this._colors=Dt[3],this._figures=Dt[4],this._bounds=Dt[5],this._bbox=Dt[7],this._background=Dt[8],this.matrix=null}_createMeshCanvas(Dt,Nt,Ht){const zt=Math.floor(this._bounds[0]),Kt=Math.floor(this._bounds[1]),nn=Math.ceil(this._bounds[2])-zt,Xt=Math.ceil(this._bounds[3])-Kt,en=Math.min(Math.ceil(Math.abs(nn*Dt[0]*1.1)),3e3),on=Math.min(Math.ceil(Math.abs(Xt*Dt[1]*1.1)),3e3),An=nn/en,un=Xt/on,vn={coords:this._coords,colors:this._colors,offsetX:-zt,offsetY:-Kt,scaleX:1/An,scaleY:1/un},an=en+2*2,dn=on+2*2,tn=Ht.getCanvas("mesh",an,dn,!1),gn=tn.context,Sn=gn.createImageData(en,on);if(Nt){const qt=Sn.data;for(let Yt=0,Jt=qt.length;Yt<Jt;Yt+=4)qt[Yt]=Nt[0],qt[Yt+1]=Nt[1],qt[Yt+2]=Nt[2],qt[Yt+3]=255}for(const qt of this._figures)St(Sn,qt,vn);return gn.putImageData(Sn,2,2),{canvas:tn.canvas,offsetX:zt-2*An,offsetY:Kt-2*un,scaleX:An,scaleY:un}}getPattern(Dt,Nt,Ht,Ot){Et(Dt,this._bbox);let Bt;if(Ot===bt.SHADING)Bt=vt.Util.singularValueDecompose2dScale((0,xt.getCurrentTransform)(Dt));else if(Bt=vt.Util.singularValueDecompose2dScale(Nt.baseTransform),this.matrix){const zt=vt.Util.singularValueDecompose2dScale(this.matrix);Bt=[Bt[0]*zt[0],Bt[1]*zt[1]]}const jt=this._createMeshCanvas(Bt,Ot===bt.SHADING?null:this._background,Nt.cachedCanvases);return Ot!==bt.SHADING&&(Dt.setTransform(...Nt.baseTransform),this.matrix&&Dt.transform(...this.matrix)),Dt.translate(jt.offsetX,jt.offsetY),Dt.scale(jt.scaleX,jt.scaleY),Dt.createPattern(jt.canvas,"no-repeat")}}class Pt extends At{getPattern(){return"hotpink"}}function kt(Ft){switch(Ft[0]){case"RadialAxial":return new _t(Ft);case"Mesh":return new Rt(Ft);case"Dummy":return new Pt}throw new Error(`Unknown IR type: ${Ft[0]}`)}const Mt={COLORED:1,UNCOLORED:2},$t=class $t{constructor(Dt,Nt,Ht,Ot,Bt){this.operatorList=Dt[2],this.matrix=Dt[3]||[1,0,0,1,0,0],this.bbox=Dt[4],this.xstep=Dt[5],this.ystep=Dt[6],this.paintType=Dt[7],this.tilingType=Dt[8],this.color=Nt,this.ctx=Ht,this.canvasGraphicsFactory=Ot,this.baseTransform=Bt}createPatternCanvas(Dt){const Nt=this.operatorList,Ht=this.bbox,Ot=this.xstep,Bt=this.ystep,jt=this.paintType,zt=this.tilingType,Kt=this.color,nn=this.canvasGraphicsFactory;(0,vt.info)("TilingType: "+zt);const Xt=Ht[0],en=Ht[1],on=Ht[2],An=Ht[3],un=vt.Util.singularValueDecompose2dScale(this.matrix),vn=vt.Util.singularValueDecompose2dScale(this.baseTransform),an=[un[0]*vn[0],un[1]*vn[1]],dn=this.getSizeAndScale(Ot,this.ctx.canvas.width,an[0]),tn=this.getSizeAndScale(Bt,this.ctx.canvas.height,an[1]),gn=Dt.cachedCanvases.getCanvas("pattern",dn.size,tn.size,!0),Sn=gn.context,rn=nn.createCanvasGraphics(Sn);rn.groupLevel=Dt.groupLevel,this.setFillAndStrokeStyleToContext(rn,jt,Kt);let qt=Xt,Yt=en,Jt=on,hn=An;return Xt<0&&(qt=0,Jt+=Math.abs(Xt)),en<0&&(Yt=0,hn+=Math.abs(en)),Sn.translate(-(dn.scale*qt),-(tn.scale*Yt)),rn.transform(dn.scale,0,0,tn.scale,0,0),Sn.save(),this.clipBbox(rn,qt,Yt,Jt,hn),rn.baseTransform=(0,xt.getCurrentTransform)(rn.ctx),rn.executeOperatorList(Nt),rn.endDrawing(),{canvas:gn.canvas,scaleX:dn.scale,scaleY:tn.scale,offsetX:qt,offsetY:Yt}}getSizeAndScale(Dt,Nt,Ht){Dt=Math.abs(Dt);const Ot=Math.max($t.MAX_PATTERN_SIZE,Nt);let Bt=Math.ceil(Dt*Ht);return Bt>=Ot?Bt=Ot:Ht=Bt/Dt,{scale:Ht,size:Bt}}clipBbox(Dt,Nt,Ht,Ot,Bt){const jt=Ot-Nt,zt=Bt-Ht;Dt.ctx.rect(Nt,Ht,jt,zt),Dt.current.updateRectMinMax((0,xt.getCurrentTransform)(Dt.ctx),[Nt,Ht,Ot,Bt]),Dt.clip(),Dt.endPath()}setFillAndStrokeStyleToContext(Dt,Nt,Ht){const Ot=Dt.ctx,Bt=Dt.current;switch(Nt){case Mt.COLORED:const jt=this.ctx;Ot.fillStyle=jt.fillStyle,Ot.strokeStyle=jt.strokeStyle,Bt.fillColor=jt.fillStyle,Bt.strokeColor=jt.strokeStyle;break;case Mt.UNCOLORED:const zt=vt.Util.makeHexColor(Ht[0],Ht[1],Ht[2]);Ot.fillStyle=zt,Ot.strokeStyle=zt,Bt.fillColor=zt,Bt.strokeColor=zt;break;default:throw new vt.FormatError(`Unsupported paint type: ${Nt}`)}}getPattern(Dt,Nt,Ht,Ot){let Bt=Ht;Ot!==bt.SHADING&&(Bt=vt.Util.transform(Bt,Nt.baseTransform),this.matrix&&(Bt=vt.Util.transform(Bt,this.matrix)));const jt=this.createPatternCanvas(Nt);let zt=new DOMMatrix(Bt);zt=zt.translate(jt.offsetX,jt.offsetY),zt=zt.scale(1/jt.scaleX,1/jt.scaleY);const Kt=Dt.createPattern(jt.canvas,"repeat");return Kt.setTransform(zt),Kt}};_r($t,"MAX_PATTERN_SIZE",3e3);let Lt=$t;$.TilingPattern=Lt},(ht,$,_e)=>{Object.defineProperty($,"__esModule",{value:!0}),$.convertBlackAndWhiteToRGBA=bt,$.convertToRGBA=xt,$.grayToRGBA=At;var vt=_e(1);function xt(_t){switch(_t.kind){case vt.ImageKind.GRAYSCALE_1BPP:return bt(_t);case vt.ImageKind.RGB_24BPP:return Et(_t)}return null}function bt({src:_t,srcPos:Ct=0,dest:St,width:Rt,height:Pt,nonBlackColor:kt=4294967295,inverseDecode:Mt=!1}){const Lt=vt.FeatureTest.isLittleEndian?4278190080:255,[$t,Ft]=Mt?[kt,Lt]:[Lt,kt],Dt=Rt>>3,Nt=Rt&7,Ht=_t.length;St=new Uint32Array(St.buffer);let Ot=0;for(let Bt=0;Bt<Pt;Bt++){for(const zt=Ct+Dt;Ct<zt;Ct++){const Kt=Ct<Ht?_t[Ct]:255;St[Ot++]=Kt&128?Ft:$t,St[Ot++]=Kt&64?Ft:$t,St[Ot++]=Kt&32?Ft:$t,St[Ot++]=Kt&16?Ft:$t,St[Ot++]=Kt&8?Ft:$t,St[Ot++]=Kt&4?Ft:$t,St[Ot++]=Kt&2?Ft:$t,St[Ot++]=Kt&1?Ft:$t}if(Nt===0)continue;const jt=Ct<Ht?_t[Ct++]:255;for(let zt=0;zt<Nt;zt++)St[Ot++]=jt&1<<7-zt?Ft:$t}return{srcPos:Ct,destPos:Ot}}function Et({src:_t,srcPos:Ct=0,dest:St,destPos:Rt=0,width:Pt,height:kt}){let Mt=0;const Lt=_t.length>>2,$t=new Uint32Array(_t.buffer,Ct,Lt);if(vt.FeatureTest.isLittleEndian){for(;Mt<Lt-2;Mt+=3,Rt+=4){const Ft=$t[Mt],Dt=$t[Mt+1],Nt=$t[Mt+2];St[Rt]=Ft|4278190080,St[Rt+1]=Ft>>>24|Dt<<8|4278190080,St[Rt+2]=Dt>>>16|Nt<<16|4278190080,St[Rt+3]=Nt>>>8|4278190080}for(let Ft=Mt*4,Dt=_t.length;Ft<Dt;Ft+=3)St[Rt++]=_t[Ft]|_t[Ft+1]<<8|_t[Ft+2]<<16|4278190080}else{for(;Mt<Lt-2;Mt+=3,Rt+=4){const Ft=$t[Mt],Dt=$t[Mt+1],Nt=$t[Mt+2];St[Rt]=Ft|255,St[Rt+1]=Ft<<24|Dt>>>8|255,St[Rt+2]=Dt<<16|Nt>>>16|255,St[Rt+3]=Nt<<8|255}for(let Ft=Mt*4,Dt=_t.length;Ft<Dt;Ft+=3)St[Rt++]=_t[Ft]<<24|_t[Ft+1]<<16|_t[Ft+2]<<8|255}return{srcPos:Ct,destPos:Rt}}function At(_t,Ct){if(vt.FeatureTest.isLittleEndian)for(let St=0,Rt=_t.length;St<Rt;St++)Ct[St]=_t[St]*65793|4278190080;else for(let St=0,Rt=_t.length;St<Rt;St++)Ct[St]=_t[St]*16843008|255}},(ht,$)=>{Object.defineProperty($,"__esModule",{value:!0}),$.GlobalWorkerOptions=void 0;const _e=Object.create(null);$.GlobalWorkerOptions=_e,_e.workerPort=null,_e.workerSrc=""},(ht,$,_e)=>{var _t,JA,ew,jy;Object.defineProperty($,"__esModule",{value:!0}),$.MessageHandler=void 0;var vt=_e(1);const xt={UNKNOWN:0,DATA:1,ERROR:2},bt={UNKNOWN:0,CANCEL:1,CANCEL_COMPLETE:2,CLOSE:3,ENQUEUE:4,ERROR:5,PULL:6,PULL_COMPLETE:7,START_COMPLETE:8};function Et(Pt){switch(Pt instanceof Error||typeof Pt=="object"&&Pt!==null||(0,vt.unreachable)('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),Pt.name){case"AbortException":return new vt.AbortException(Pt.message);case"MissingPDFException":return new vt.MissingPDFException(Pt.message);case"PasswordException":return new vt.PasswordException(Pt.message,Pt.code);case"UnexpectedResponseException":return new vt.UnexpectedResponseException(Pt.message,Pt.status);case"UnknownErrorException":return new vt.UnknownErrorException(Pt.message,Pt.details);default:return new vt.UnknownErrorException(Pt.message,Pt.toString())}}class At{constructor(kt,Mt,Lt){Gt(this,_t);this.sourceName=kt,this.targetName=Mt,this.comObj=Lt,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),this._onComObjOnMessage=$t=>{const Ft=$t.data;if(Ft.targetName!==this.sourceName)return;if(Ft.stream){Ut(this,_t,ew).call(this,Ft);return}if(Ft.callback){const Nt=Ft.callbackId,Ht=this.callbackCapabilities[Nt];if(!Ht)throw new Error(`Cannot resolve callback ${Nt}`);if(delete this.callbackCapabilities[Nt],Ft.callback===xt.DATA)Ht.resolve(Ft.data);else if(Ft.callback===xt.ERROR)Ht.reject(Et(Ft.reason));else throw new Error("Unexpected callback case");return}const Dt=this.actionHandler[Ft.action];if(!Dt)throw new Error(`Unknown action from worker: ${Ft.action}`);if(Ft.callbackId){const Nt=this.sourceName,Ht=Ft.sourceName;new Promise(function(Ot){Ot(Dt(Ft.data))}).then(function(Ot){Lt.postMessage({sourceName:Nt,targetName:Ht,callback:xt.DATA,callbackId:Ft.callbackId,data:Ot})},function(Ot){Lt.postMessage({sourceName:Nt,targetName:Ht,callback:xt.ERROR,callbackId:Ft.callbackId,reason:Et(Ot)})});return}if(Ft.streamId){Ut(this,_t,JA).call(this,Ft);return}Dt(Ft.data)},Lt.addEventListener("message",this._onComObjOnMessage)}on(kt,Mt){const Lt=this.actionHandler;if(Lt[kt])throw new Error(`There is already an actionName called "${kt}"`);Lt[kt]=Mt}send(kt,Mt,Lt){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:kt,data:Mt},Lt)}sendWithPromise(kt,Mt,Lt){const $t=this.callbackId++,Ft=new vt.PromiseCapability;this.callbackCapabilities[$t]=Ft;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:kt,callbackId:$t,data:Mt},Lt)}catch(Dt){Ft.reject(Dt)}return Ft.promise}sendWithStream(kt,Mt,Lt,$t){const Ft=this.streamId++,Dt=this.sourceName,Nt=this.targetName,Ht=this.comObj;return new ReadableStream({start:Ot=>{const Bt=new vt.PromiseCapability;return this.streamControllers[Ft]={controller:Ot,startCall:Bt,pullCall:null,cancelCall:null,isClosed:!1},Ht.postMessage({sourceName:Dt,targetName:Nt,action:kt,streamId:Ft,data:Mt,desiredSize:Ot.desiredSize},$t),Bt.promise},pull:Ot=>{const Bt=new vt.PromiseCapability;return this.streamControllers[Ft].pullCall=Bt,Ht.postMessage({sourceName:Dt,targetName:Nt,stream:bt.PULL,streamId:Ft,desiredSize:Ot.desiredSize}),Bt.promise},cancel:Ot=>{(0,vt.assert)(Ot instanceof Error,"cancel must have a valid reason");const Bt=new vt.PromiseCapability;return this.streamControllers[Ft].cancelCall=Bt,this.streamControllers[Ft].isClosed=!0,Ht.postMessage({sourceName:Dt,targetName:Nt,stream:bt.CANCEL,streamId:Ft,reason:Et(Ot)}),Bt.promise}},Lt)}destroy(){this.comObj.removeEventListener("message",this._onComObjOnMessage)}}_t=new WeakSet,JA=function(kt){const Mt=kt.streamId,Lt=this.sourceName,$t=kt.sourceName,Ft=this.comObj,Dt=this,Nt=this.actionHandler[kt.action],Ht={enqueue(Ot,Bt=1,jt){if(this.isCancelled)return;const zt=this.desiredSize;this.desiredSize-=Bt,zt>0&&this.desiredSize<=0&&(this.sinkCapability=new vt.PromiseCapability,this.ready=this.sinkCapability.promise),Ft.postMessage({sourceName:Lt,targetName:$t,stream:bt.ENQUEUE,streamId:Mt,chunk:Ot},jt)},close(){this.isCancelled||(this.isCancelled=!0,Ft.postMessage({sourceName:Lt,targetName:$t,stream:bt.CLOSE,streamId:Mt}),delete Dt.streamSinks[Mt])},error(Ot){(0,vt.assert)(Ot instanceof Error,"error must have a valid reason"),!this.isCancelled&&(this.isCancelled=!0,Ft.postMessage({sourceName:Lt,targetName:$t,stream:bt.ERROR,streamId:Mt,reason:Et(Ot)}))},sinkCapability:new vt.PromiseCapability,onPull:null,onCancel:null,isCancelled:!1,desiredSize:kt.desiredSize,ready:null};Ht.sinkCapability.resolve(),Ht.ready=Ht.sinkCapability.promise,this.streamSinks[Mt]=Ht,new Promise(function(Ot){Ot(Nt(kt.data,Ht))}).then(function(){Ft.postMessage({sourceName:Lt,targetName:$t,stream:bt.START_COMPLETE,streamId:Mt,success:!0})},function(Ot){Ft.postMessage({sourceName:Lt,targetName:$t,stream:bt.START_COMPLETE,streamId:Mt,reason:Et(Ot)})})},ew=function(kt){const Mt=kt.streamId,Lt=this.sourceName,$t=kt.sourceName,Ft=this.comObj,Dt=this.streamControllers[Mt],Nt=this.streamSinks[Mt];switch(kt.stream){case bt.START_COMPLETE:kt.success?Dt.startCall.resolve():Dt.startCall.reject(Et(kt.reason));break;case bt.PULL_COMPLETE:kt.success?Dt.pullCall.resolve():Dt.pullCall.reject(Et(kt.reason));break;case bt.PULL:if(!Nt){Ft.postMessage({sourceName:Lt,targetName:$t,stream:bt.PULL_COMPLETE,streamId:Mt,success:!0});break}Nt.desiredSize<=0&&kt.desiredSize>0&&Nt.sinkCapability.resolve(),Nt.desiredSize=kt.desiredSize,new Promise(function(Ht){var Ot;Ht((Ot=Nt.onPull)==null?void 0:Ot.call(Nt))}).then(function(){Ft.postMessage({sourceName:Lt,targetName:$t,stream:bt.PULL_COMPLETE,streamId:Mt,success:!0})},function(Ht){Ft.postMessage({sourceName:Lt,targetName:$t,stream:bt.PULL_COMPLETE,streamId:Mt,reason:Et(Ht)})});break;case bt.ENQUEUE:if((0,vt.assert)(Dt,"enqueue should have stream controller"),Dt.isClosed)break;Dt.controller.enqueue(kt.chunk);break;case bt.CLOSE:if((0,vt.assert)(Dt,"close should have stream controller"),Dt.isClosed)break;Dt.isClosed=!0,Dt.controller.close(),Ut(this,_t,jy).call(this,Dt,Mt);break;case bt.ERROR:(0,vt.assert)(Dt,"error should have stream controller"),Dt.controller.error(Et(kt.reason)),Ut(this,_t,jy).call(this,Dt,Mt);break;case bt.CANCEL_COMPLETE:kt.success?Dt.cancelCall.resolve():Dt.cancelCall.reject(Et(kt.reason)),Ut(this,_t,jy).call(this,Dt,Mt);break;case bt.CANCEL:if(!Nt)break;new Promise(function(Ht){var Ot;Ht((Ot=Nt.onCancel)==null?void 0:Ot.call(Nt,Et(kt.reason)))}).then(function(){Ft.postMessage({sourceName:Lt,targetName:$t,stream:bt.CANCEL_COMPLETE,streamId:Mt,success:!0})},function(Ht){Ft.postMessage({sourceName:Lt,targetName:$t,stream:bt.CANCEL_COMPLETE,streamId:Mt,reason:Et(Ht)})}),Nt.sinkCapability.reject(Et(kt.reason)),Nt.isCancelled=!0,delete this.streamSinks[Mt];break;default:throw new Error("Unexpected stream case")}},jy=async function(kt,Mt){var Lt,$t,Ft;await Promise.allSettled([(Lt=kt.startCall)==null?void 0:Lt.promise,($t=kt.pullCall)==null?void 0:$t.promise,(Ft=kt.cancelCall)==null?void 0:Ft.promise]),delete this.streamControllers[Mt]},$.MessageHandler=At},(ht,$,_e)=>{var bt,Et;Object.defineProperty($,"__esModule",{value:!0}),$.Metadata=void 0;var vt=_e(1);class xt{constructor({parsedData:_t,rawData:Ct}){Gt(this,bt);Gt(this,Et);Vt(this,bt,_t),Vt(this,Et,Ct)}getRaw(){return wt(this,Et)}get(_t){return wt(this,bt).get(_t)??null}getAll(){return(0,vt.objectFromMap)(wt(this,bt))}has(_t){return wt(this,bt).has(_t)}}bt=new WeakMap,Et=new WeakMap,$.Metadata=xt},(ht,$,_e)=>{var _t,Ct,St,Rt,Pt,kt,j1;Object.defineProperty($,"__esModule",{value:!0}),$.OptionalContentConfig=void 0;var vt=_e(1),xt=_e(8);const bt=Symbol("INTERNAL");class Et{constructor($t,Ft){Gt(this,_t,!0);this.name=$t,this.intent=Ft}get visible(){return wt(this,_t)}_setVisible($t,Ft){$t!==bt&&(0,vt.unreachable)("Internal method `_setVisible` called."),Vt(this,_t,Ft)}}_t=new WeakMap;class At{constructor($t){Gt(this,kt);Gt(this,Ct,null);Gt(this,St,new Map);Gt(this,Rt,null);Gt(this,Pt,null);if(this.name=null,this.creator=null,$t!==null){this.name=$t.name,this.creator=$t.creator,Vt(this,Pt,$t.order);for(const Ft of $t.groups)wt(this,St).set(Ft.id,new Et(Ft.name,Ft.intent));if($t.baseState==="OFF")for(const Ft of wt(this,St).values())Ft._setVisible(bt,!1);for(const Ft of $t.on)wt(this,St).get(Ft)._setVisible(bt,!0);for(const Ft of $t.off)wt(this,St).get(Ft)._setVisible(bt,!1);Vt(this,Rt,this.getHash())}}isVisible($t){if(wt(this,St).size===0)return!0;if(!$t)return(0,vt.warn)("Optional content group not defined."),!0;if($t.type==="OCG")return wt(this,St).has($t.id)?wt(this,St).get($t.id).visible:((0,vt.warn)(`Optional content group not found: ${$t.id}`),!0);if($t.type==="OCMD"){if($t.expression)return Ut(this,kt,j1).call(this,$t.expression);if(!$t.policy||$t.policy==="AnyOn"){for(const Ft of $t.ids){if(!wt(this,St).has(Ft))return(0,vt.warn)(`Optional content group not found: ${Ft}`),!0;if(wt(this,St).get(Ft).visible)return!0}return!1}else if($t.policy==="AllOn"){for(const Ft of $t.ids){if(!wt(this,St).has(Ft))return(0,vt.warn)(`Optional content group not found: ${Ft}`),!0;if(!wt(this,St).get(Ft).visible)return!1}return!0}else if($t.policy==="AnyOff"){for(const Ft of $t.ids){if(!wt(this,St).has(Ft))return(0,vt.warn)(`Optional content group not found: ${Ft}`),!0;if(!wt(this,St).get(Ft).visible)return!0}return!1}else if($t.policy==="AllOff"){for(const Ft of $t.ids){if(!wt(this,St).has(Ft))return(0,vt.warn)(`Optional content group not found: ${Ft}`),!0;if(wt(this,St).get(Ft).visible)return!1}return!0}return(0,vt.warn)(`Unknown optional content policy ${$t.policy}.`),!0}return(0,vt.warn)(`Unknown group type ${$t.type}.`),!0}setVisibility($t,Ft=!0){if(!wt(this,St).has($t)){(0,vt.warn)(`Optional content group not found: ${$t}`);return}wt(this,St).get($t)._setVisible(bt,!!Ft),Vt(this,Ct,null)}get hasInitialVisibility(){return wt(this,Rt)===null||this.getHash()===wt(this,Rt)}getOrder(){return wt(this,St).size?wt(this,Pt)?wt(this,Pt).slice():[...wt(this,St).keys()]:null}getGroups(){return wt(this,St).size>0?(0,vt.objectFromMap)(wt(this,St)):null}getGroup($t){return wt(this,St).get($t)||null}getHash(){if(wt(this,Ct)!==null)return wt(this,Ct);const $t=new xt.MurmurHash3_64;for(const[Ft,Dt]of wt(this,St))$t.update(`${Ft}:${Dt.visible}`);return Vt(this,Ct,$t.hexdigest())}}Ct=new WeakMap,St=new WeakMap,Rt=new WeakMap,Pt=new WeakMap,kt=new WeakSet,j1=function($t){const Ft=$t.length;if(Ft<2)return!0;const Dt=$t[0];for(let Nt=1;Nt<Ft;Nt++){const Ht=$t[Nt];let Ot;if(Array.isArray(Ht))Ot=Ut(this,kt,j1).call(this,Ht);else if(wt(this,St).has(Ht))Ot=wt(this,St).get(Ht).visible;else return(0,vt.warn)(`Optional content group not found: ${Ht}`),!0;switch(Dt){case"And":if(!Ot)return!1;break;case"Or":if(Ot)return!0;break;case"Not":return!Ot;default:return!0}}return Dt==="And"},$.OptionalContentConfig=At},(ht,$,_e)=>{Object.defineProperty($,"__esModule",{value:!0}),$.PDFDataTransportStream=void 0;var vt=_e(1),xt=_e(6);class bt{constructor({length:Ct,initialData:St,progressiveDone:Rt=!1,contentDispositionFilename:Pt=null,disableRange:kt=!1,disableStream:Mt=!1},Lt){if((0,vt.assert)(Lt,'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.'),this._queuedChunks=[],this._progressiveDone=Rt,this._contentDispositionFilename=Pt,(St==null?void 0:St.length)>0){const $t=St instanceof Uint8Array&&St.byteLength===St.buffer.byteLength?St.buffer:new Uint8Array(St).buffer;this._queuedChunks.push($t)}this._pdfDataRangeTransport=Lt,this._isStreamingSupported=!Mt,this._isRangeSupported=!kt,this._contentLength=Ct,this._fullRequestReader=null,this._rangeReaders=[],this._pdfDataRangeTransport.addRangeListener(($t,Ft)=>{this._onReceiveData({begin:$t,chunk:Ft})}),this._pdfDataRangeTransport.addProgressListener(($t,Ft)=>{this._onProgress({loaded:$t,total:Ft})}),this._pdfDataRangeTransport.addProgressiveReadListener($t=>{this._onReceiveData({chunk:$t})}),this._pdfDataRangeTransport.addProgressiveDoneListener(()=>{this._onProgressiveDone()}),this._pdfDataRangeTransport.transportReady()}_onReceiveData({begin:Ct,chunk:St}){const Rt=St instanceof Uint8Array&&St.byteLength===St.buffer.byteLength?St.buffer:new Uint8Array(St).buffer;if(Ct===void 0)this._fullRequestReader?this._fullRequestReader._enqueue(Rt):this._queuedChunks.push(Rt);else{const Pt=this._rangeReaders.some(function(kt){return kt._begin!==Ct?!1:(kt._enqueue(Rt),!0)});(0,vt.assert)(Pt,"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.")}}get _progressiveDataLength(){var Ct;return((Ct=this._fullRequestReader)==null?void 0:Ct._loaded)??0}_onProgress(Ct){var St,Rt,Pt,kt;Ct.total===void 0?(Rt=(St=this._rangeReaders[0])==null?void 0:St.onProgress)==null||Rt.call(St,{loaded:Ct.loaded}):(kt=(Pt=this._fullRequestReader)==null?void 0:Pt.onProgress)==null||kt.call(Pt,{loaded:Ct.loaded,total:Ct.total})}_onProgressiveDone(){var Ct;(Ct=this._fullRequestReader)==null||Ct.progressiveDone(),this._progressiveDone=!0}_removeRangeReader(Ct){const St=this._rangeReaders.indexOf(Ct);St>=0&&this._rangeReaders.splice(St,1)}getFullReader(){(0,vt.assert)(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");const Ct=this._queuedChunks;return this._queuedChunks=null,new Et(this,Ct,this._progressiveDone,this._contentDispositionFilename)}getRangeReader(Ct,St){if(St<=this._progressiveDataLength)return null;const Rt=new At(this,Ct,St);return this._pdfDataRangeTransport.requestDataRange(Ct,St),this._rangeReaders.push(Rt),Rt}cancelAllRequests(Ct){var St;(St=this._fullRequestReader)==null||St.cancel(Ct);for(const Rt of this._rangeReaders.slice(0))Rt.cancel(Ct);this._pdfDataRangeTransport.abort()}}$.PDFDataTransportStream=bt;class Et{constructor(Ct,St,Rt=!1,Pt=null){this._stream=Ct,this._done=Rt||!1,this._filename=(0,xt.isPdfFile)(Pt)?Pt:null,this._queuedChunks=St||[],this._loaded=0;for(const kt of this._queuedChunks)this._loaded+=kt.byteLength;this._requests=[],this._headersReady=Promise.resolve(),Ct._fullRequestReader=this,this.onProgress=null}_enqueue(Ct){this._done||(this._requests.length>0?this._requests.shift().resolve({value:Ct,done:!1}):this._queuedChunks.push(Ct),this._loaded+=Ct.byteLength)}get headersReady(){return this._headersReady}get filename(){return this._filename}get isRangeSupported(){return this._stream._isRangeSupported}get isStreamingSupported(){return this._stream._isStreamingSupported}get contentLength(){return this._stream._contentLength}async read(){if(this._queuedChunks.length>0)return{value:this._queuedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const Ct=new vt.PromiseCapability;return this._requests.push(Ct),Ct.promise}cancel(Ct){this._done=!0;for(const St of this._requests)St.resolve({value:void 0,done:!0});this._requests.length=0}progressiveDone(){this._done||(this._done=!0)}}class At{constructor(Ct,St,Rt){this._stream=Ct,this._begin=St,this._end=Rt,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}_enqueue(Ct){if(!this._done){if(this._requests.length===0)this._queuedChunk=Ct;else{this._requests.shift().resolve({value:Ct,done:!1});for(const Rt of this._requests)Rt.resolve({value:void 0,done:!0});this._requests.length=0}this._done=!0,this._stream._removeRangeReader(this)}}get isStreamingSupported(){return!1}async read(){if(this._queuedChunk){const St=this._queuedChunk;return this._queuedChunk=null,{value:St,done:!1}}if(this._done)return{value:void 0,done:!0};const Ct=new vt.PromiseCapability;return this._requests.push(Ct),Ct.promise}cancel(Ct){this._done=!0;for(const St of this._requests)St.resolve({value:void 0,done:!0});this._requests.length=0,this._stream._removeRangeReader(this)}}},(ht,$,_e)=>{Object.defineProperty($,"__esModule",{value:!0}),$.PDFFetchStream=void 0;var vt=_e(1),xt=_e(20);function bt(Rt,Pt,kt){return{method:"GET",headers:Rt,signal:kt.signal,mode:"cors",credentials:Pt?"include":"same-origin",redirect:"follow"}}function Et(Rt){const Pt=new Headers;for(const kt in Rt){const Mt=Rt[kt];Mt!==void 0&&Pt.append(kt,Mt)}return Pt}function At(Rt){return Rt instanceof Uint8Array?Rt.buffer:Rt instanceof ArrayBuffer?Rt:((0,vt.warn)(`getArrayBuffer - unexpected data format: ${Rt}`),new Uint8Array(Rt).buffer)}class _t{constructor(Pt){this.source=Pt,this.isHttp=/^https?:/i.test(Pt.url),this.httpHeaders=this.isHttp&&Pt.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var Pt;return((Pt=this._fullRequestReader)==null?void 0:Pt._loaded)??0}getFullReader(){return(0,vt.assert)(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once."),this._fullRequestReader=new Ct(this),this._fullRequestReader}getRangeReader(Pt,kt){if(kt<=this._progressiveDataLength)return null;const Mt=new St(this,Pt,kt);return this._rangeRequestReaders.push(Mt),Mt}cancelAllRequests(Pt){var kt;(kt=this._fullRequestReader)==null||kt.cancel(Pt);for(const Mt of this._rangeRequestReaders.slice(0))Mt.cancel(Pt)}}$.PDFFetchStream=_t;class Ct{constructor(Pt){this._stream=Pt,this._reader=null,this._loaded=0,this._filename=null;const kt=Pt.source;this._withCredentials=kt.withCredentials||!1,this._contentLength=kt.length,this._headersCapability=new vt.PromiseCapability,this._disableRange=kt.disableRange||!1,this._rangeChunkSize=kt.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._abortController=new AbortController,this._isStreamingSupported=!kt.disableStream,this._isRangeSupported=!kt.disableRange,this._headers=Et(this._stream.httpHeaders);const Mt=kt.url;fetch(Mt,bt(this._headers,this._withCredentials,this._abortController)).then(Lt=>{if(!(0,xt.validateResponseStatus)(Lt.status))throw(0,xt.createResponseStatusError)(Lt.status,Mt);this._reader=Lt.body.getReader(),this._headersCapability.resolve();const $t=Nt=>Lt.headers.get(Nt),{allowRangeRequests:Ft,suggestedLength:Dt}=(0,xt.validateRangeRequestCapabilities)({getResponseHeader:$t,isHttp:this._stream.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=Ft,this._contentLength=Dt||this._contentLength,this._filename=(0,xt.extractFilenameFromHeader)($t),!this._isStreamingSupported&&this._isRangeSupported&&this.cancel(new vt.AbortException("Streaming is disabled."))}).catch(this._headersCapability.reject),this.onProgress=null}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var Mt;await this._headersCapability.promise;const{value:Pt,done:kt}=await this._reader.read();return kt?{value:Pt,done:kt}:(this._loaded+=Pt.byteLength,(Mt=this.onProgress)==null||Mt.call(this,{loaded:this._loaded,total:this._contentLength}),{value:At(Pt),done:!1})}cancel(Pt){var kt;(kt=this._reader)==null||kt.cancel(Pt),this._abortController.abort()}}class St{constructor(Pt,kt,Mt){this._stream=Pt,this._reader=null,this._loaded=0;const Lt=Pt.source;this._withCredentials=Lt.withCredentials||!1,this._readCapability=new vt.PromiseCapability,this._isStreamingSupported=!Lt.disableStream,this._abortController=new AbortController,this._headers=Et(this._stream.httpHeaders),this._headers.append("Range",`bytes=${kt}-${Mt-1}`);const $t=Lt.url;fetch($t,bt(this._headers,this._withCredentials,this._abortController)).then(Ft=>{if(!(0,xt.validateResponseStatus)(Ft.status))throw(0,xt.createResponseStatusError)(Ft.status,$t);this._readCapability.resolve(),this._reader=Ft.body.getReader()}).catch(this._readCapability.reject),this.onProgress=null}get isStreamingSupported(){return this._isStreamingSupported}async read(){var Mt;await this._readCapability.promise;const{value:Pt,done:kt}=await this._reader.read();return kt?{value:Pt,done:kt}:(this._loaded+=Pt.byteLength,(Mt=this.onProgress)==null||Mt.call(this,{loaded:this._loaded}),{value:At(Pt),done:!1})}cancel(Pt){var kt;(kt=this._reader)==null||kt.cancel(Pt),this._abortController.abort()}}},(ht,$,_e)=>{Object.defineProperty($,"__esModule",{value:!0}),$.createResponseStatusError=_t,$.extractFilenameFromHeader=At,$.validateRangeRequestCapabilities=Et,$.validateResponseStatus=Ct;var vt=_e(1),xt=_e(21),bt=_e(6);function Et({getResponseHeader:St,isHttp:Rt,rangeChunkSize:Pt,disableRange:kt}){const Mt={allowRangeRequests:!1,suggestedLength:void 0},Lt=parseInt(St("Content-Length"),10);return!Number.isInteger(Lt)||(Mt.suggestedLength=Lt,Lt<=2*Pt)||kt||!Rt||St("Accept-Ranges")!=="bytes"||(St("Content-Encoding")||"identity")!=="identity"||(Mt.allowRangeRequests=!0),Mt}function At(St){const Rt=St("Content-Disposition");if(Rt){let Pt=(0,xt.getFilenameFromContentDispositionHeader)(Rt);if(Pt.includes("%"))try{Pt=decodeURIComponent(Pt)}catch{}if((0,bt.isPdfFile)(Pt))return Pt}return null}function _t(St,Rt){return St===404||St===0&&Rt.startsWith("file:")?new vt.MissingPDFException('Missing PDF "'+Rt+'".'):new vt.UnexpectedResponseException(`Unexpected server response (${St}) while retrieving PDF "${Rt}".`,St)}function Ct(St){return St===200||St===206}},(ht,$,_e)=>{Object.defineProperty($,"__esModule",{value:!0}),$.getFilenameFromContentDispositionHeader=xt;var vt=_e(1);function xt(bt){let Et=!0,At=_t("filename\\*","i").exec(bt);if(At){At=At[1];let Lt=Pt(At);return Lt=unescape(Lt),Lt=kt(Lt),Lt=Mt(Lt),St(Lt)}if(At=Rt(bt),At){const Lt=Mt(At);return St(Lt)}if(At=_t("filename","i").exec(bt),At){At=At[1];let Lt=Pt(At);return Lt=Mt(Lt),St(Lt)}function _t(Lt,$t){return new RegExp("(?:^|;)\\s*"+Lt+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',$t)}function Ct(Lt,$t){if(Lt){if(!/^[\x00-\xFF]+$/.test($t))return $t;try{const Ft=new TextDecoder(Lt,{fatal:!0}),Dt=(0,vt.stringToBytes)($t);$t=Ft.decode(Dt),Et=!1}catch{}}return $t}function St(Lt){return Et&&/[\x80-\xff]/.test(Lt)&&(Lt=Ct("utf-8",Lt),Et&&(Lt=Ct("iso-8859-1",Lt))),Lt}function Rt(Lt){const $t=[];let Ft;const Dt=_t("filename\\*((?!0\\d)\\d+)(\\*?)","ig");for(;(Ft=Dt.exec(Lt))!==null;){let[,Ht,Ot,Bt]=Ft;if(Ht=parseInt(Ht,10),Ht in $t){if(Ht===0)break;continue}$t[Ht]=[Ot,Bt]}const Nt=[];for(let Ht=0;Ht<$t.length&&Ht in $t;++Ht){let[Ot,Bt]=$t[Ht];Bt=Pt(Bt),Ot&&(Bt=unescape(Bt),Ht===0&&(Bt=kt(Bt))),Nt.push(Bt)}return Nt.join("")}function Pt(Lt){if(Lt.startsWith('"')){const $t=Lt.slice(1).split('\\"');for(let Ft=0;Ft<$t.length;++Ft){const Dt=$t[Ft].indexOf('"');Dt!==-1&&($t[Ft]=$t[Ft].slice(0,Dt),$t.length=Ft+1),$t[Ft]=$t[Ft].replaceAll(/\\(.)/g,"$1")}Lt=$t.join('"')}return Lt}function kt(Lt){const $t=Lt.indexOf("'");if($t===-1)return Lt;const Ft=Lt.slice(0,$t),Nt=Lt.slice($t+1).replace(/^[^']*'/,"");return Ct(Ft,Nt)}function Mt(Lt){return!Lt.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(Lt)?Lt:Lt.replaceAll(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,function($t,Ft,Dt,Nt){if(Dt==="q"||Dt==="Q")return Nt=Nt.replaceAll("_"," "),Nt=Nt.replaceAll(/=([0-9a-fA-F]{2})/g,function(Ht,Ot){return String.fromCharCode(parseInt(Ot,16))}),Ct(Ft,Nt);try{Nt=atob(Nt)}catch{}return Ct(Ft,Nt)})}return""}},(ht,$,_e)=>{Object.defineProperty($,"__esModule",{value:!0}),$.PDFNetworkStream=void 0;var vt=_e(1),xt=_e(20);const bt=200,Et=206;function At(Pt){const kt=Pt.response;return typeof kt!="string"?kt:(0,vt.stringToBytes)(kt).buffer}class _t{constructor(kt,Mt={}){this.url=kt,this.isHttp=/^https?:/i.test(kt),this.httpHeaders=this.isHttp&&Mt.httpHeaders||Object.create(null),this.withCredentials=Mt.withCredentials||!1,this.currXhrId=0,this.pendingRequests=Object.create(null)}requestRange(kt,Mt,Lt){const $t={begin:kt,end:Mt};for(const Ft in Lt)$t[Ft]=Lt[Ft];return this.request($t)}requestFull(kt){return this.request(kt)}request(kt){const Mt=new XMLHttpRequest,Lt=this.currXhrId++,$t=this.pendingRequests[Lt]={xhr:Mt};Mt.open("GET",this.url),Mt.withCredentials=this.withCredentials;for(const Ft in this.httpHeaders){const Dt=this.httpHeaders[Ft];Dt!==void 0&&Mt.setRequestHeader(Ft,Dt)}return this.isHttp&&"begin"in kt&&"end"in kt?(Mt.setRequestHeader("Range",`bytes=${kt.begin}-${kt.end-1}`),$t.expectedStatus=Et):$t.expectedStatus=bt,Mt.responseType="arraybuffer",kt.onError&&(Mt.onerror=function(Ft){kt.onError(Mt.status)}),Mt.onreadystatechange=this.onStateChange.bind(this,Lt),Mt.onprogress=this.onProgress.bind(this,Lt),$t.onHeadersReceived=kt.onHeadersReceived,$t.onDone=kt.onDone,$t.onError=kt.onError,$t.onProgress=kt.onProgress,Mt.send(null),Lt}onProgress(kt,Mt){var $t;const Lt=this.pendingRequests[kt];Lt&&(($t=Lt.onProgress)==null||$t.call(Lt,Mt))}onStateChange(kt,Mt){var Ht,Ot,Bt;const Lt=this.pendingRequests[kt];if(!Lt)return;const $t=Lt.xhr;if($t.readyState>=2&&Lt.onHeadersReceived&&(Lt.onHeadersReceived(),delete Lt.onHeadersReceived),$t.readyState!==4||!(kt in this.pendingRequests))return;if(delete this.pendingRequests[kt],$t.status===0&&this.isHttp){(Ht=Lt.onError)==null||Ht.call(Lt,$t.status);return}const Ft=$t.status||bt;if(!(Ft===bt&&Lt.expectedStatus===Et)&&Ft!==Lt.expectedStatus){(Ot=Lt.onError)==null||Ot.call(Lt,$t.status);return}const Nt=At($t);if(Ft===Et){const jt=$t.getResponseHeader("Content-Range"),zt=/bytes (\d+)-(\d+)\/(\d+)/.exec(jt);Lt.onDone({begin:parseInt(zt[1],10),chunk:Nt})}else Nt?Lt.onDone({begin:0,chunk:Nt}):(Bt=Lt.onError)==null||Bt.call(Lt,$t.status)}getRequestXhr(kt){return this.pendingRequests[kt].xhr}isPendingRequest(kt){return kt in this.pendingRequests}abortRequest(kt){const Mt=this.pendingRequests[kt].xhr;delete this.pendingRequests[kt],Mt.abort()}}class Ct{constructor(kt){this._source=kt,this._manager=new _t(kt.url,{httpHeaders:kt.httpHeaders,withCredentials:kt.withCredentials}),this._rangeChunkSize=kt.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}_onRangeRequestReaderClosed(kt){const Mt=this._rangeRequestReaders.indexOf(kt);Mt>=0&&this._rangeRequestReaders.splice(Mt,1)}getFullReader(){return(0,vt.assert)(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once."),this._fullRequestReader=new St(this._manager,this._source),this._fullRequestReader}getRangeReader(kt,Mt){const Lt=new Rt(this._manager,kt,Mt);return Lt.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(Lt),Lt}cancelAllRequests(kt){var Mt;(Mt=this._fullRequestReader)==null||Mt.cancel(kt);for(const Lt of this._rangeRequestReaders.slice(0))Lt.cancel(kt)}}$.PDFNetworkStream=Ct;class St{constructor(kt,Mt){this._manager=kt;const Lt={onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=Mt.url,this._fullRequestId=kt.requestFull(Lt),this._headersReceivedCapability=new vt.PromiseCapability,this._disableRange=Mt.disableRange||!1,this._contentLength=Mt.length,this._rangeChunkSize=Mt.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}_onHeadersReceived(){const kt=this._fullRequestId,Mt=this._manager.getRequestXhr(kt),Lt=Dt=>Mt.getResponseHeader(Dt),{allowRangeRequests:$t,suggestedLength:Ft}=(0,xt.validateRangeRequestCapabilities)({getResponseHeader:Lt,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});$t&&(this._isRangeSupported=!0),this._contentLength=Ft||this._contentLength,this._filename=(0,xt.extractFilenameFromHeader)(Lt),this._isRangeSupported&&this._manager.abortRequest(kt),this._headersReceivedCapability.resolve()}_onDone(kt){if(kt&&(this._requests.length>0?this._requests.shift().resolve({value:kt.chunk,done:!1}):this._cachedChunks.push(kt.chunk)),this._done=!0,!(this._cachedChunks.length>0)){for(const Mt of this._requests)Mt.resolve({value:void 0,done:!0});this._requests.length=0}}_onError(kt){this._storedError=(0,xt.createResponseStatusError)(kt,this._url),this._headersReceivedCapability.reject(this._storedError);for(const Mt of this._requests)Mt.reject(this._storedError);this._requests.length=0,this._cachedChunks.length=0}_onProgress(kt){var Mt;(Mt=this.onProgress)==null||Mt.call(this,{loaded:kt.loaded,total:kt.lengthComputable?kt.total:this._contentLength})}get filename(){return this._filename}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}get contentLength(){return this._contentLength}get headersReady(){return this._headersReceivedCapability.promise}async read(){if(this._storedError)throw this._storedError;if(this._cachedChunks.length>0)return{value:this._cachedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const kt=new vt.PromiseCapability;return this._requests.push(kt),kt.promise}cancel(kt){this._done=!0,this._headersReceivedCapability.reject(kt);for(const Mt of this._requests)Mt.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}}class Rt{constructor(kt,Mt,Lt){this._manager=kt;const $t={onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=kt.url,this._requestId=kt.requestRange(Mt,Lt,$t),this._requests=[],this._queuedChunk=null,this._done=!1,this._storedError=void 0,this.onProgress=null,this.onClosed=null}_close(){var kt;(kt=this.onClosed)==null||kt.call(this,this)}_onDone(kt){const Mt=kt.chunk;this._requests.length>0?this._requests.shift().resolve({value:Mt,done:!1}):this._queuedChunk=Mt,this._done=!0;for(const Lt of this._requests)Lt.resolve({value:void 0,done:!0});this._requests.length=0,this._close()}_onError(kt){this._storedError=(0,xt.createResponseStatusError)(kt,this._url);for(const Mt of this._requests)Mt.reject(this._storedError);this._requests.length=0,this._queuedChunk=null}_onProgress(kt){var Mt;this.isStreamingSupported||(Mt=this.onProgress)==null||Mt.call(this,{loaded:kt.loaded})}get isStreamingSupported(){return!1}async read(){if(this._storedError)throw this._storedError;if(this._queuedChunk!==null){const Mt=this._queuedChunk;return this._queuedChunk=null,{value:Mt,done:!1}}if(this._done)return{value:void 0,done:!0};const kt=new vt.PromiseCapability;return this._requests.push(kt),kt.promise}cancel(kt){this._done=!0;for(const Mt of this._requests)Mt.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}}},(ht,$,_e)=>{Object.defineProperty($,"__esModule",{value:!0}),$.PDFNodeStream=void 0;var vt=_e(1),xt=_e(20);const bt=/^file:\/\/\/[a-zA-Z]:\//;function Et(Lt){const $t=require$$5,Ft=$t.parse(Lt);return Ft.protocol==="file:"||Ft.host?Ft:/^[a-z]:[/\\]/i.test(Lt)?$t.parse(`file:///${Lt}`):(Ft.host||(Ft.protocol="file:"),Ft)}class At{constructor($t){this.source=$t,this.url=Et($t.url),this.isHttp=this.url.protocol==="http:"||this.url.protocol==="https:",this.isFsUrl=this.url.protocol==="file:",this.httpHeaders=this.isHttp&&$t.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var $t;return(($t=this._fullRequestReader)==null?void 0:$t._loaded)??0}getFullReader(){return(0,vt.assert)(!this._fullRequestReader,"PDFNodeStream.getFullReader can only be called once."),this._fullRequestReader=this.isFsUrl?new kt(this):new Rt(this),this._fullRequestReader}getRangeReader($t,Ft){if(Ft<=this._progressiveDataLength)return null;const Dt=this.isFsUrl?new Mt(this,$t,Ft):new Pt(this,$t,Ft);return this._rangeRequestReaders.push(Dt),Dt}cancelAllRequests($t){var Ft;(Ft=this._fullRequestReader)==null||Ft.cancel($t);for(const Dt of this._rangeRequestReaders.slice(0))Dt.cancel($t)}}$.PDFNodeStream=At;class _t{constructor($t){this._url=$t.url,this._done=!1,this._storedError=null,this.onProgress=null;const Ft=$t.source;this._contentLength=Ft.length,this._loaded=0,this._filename=null,this._disableRange=Ft.disableRange||!1,this._rangeChunkSize=Ft.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!Ft.disableStream,this._isRangeSupported=!Ft.disableRange,this._readableStream=null,this._readCapability=new vt.PromiseCapability,this._headersCapability=new vt.PromiseCapability}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var Dt;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const $t=this._readableStream.read();return $t===null?(this._readCapability=new vt.PromiseCapability,this.read()):(this._loaded+=$t.length,(Dt=this.onProgress)==null||Dt.call(this,{loaded:this._loaded,total:this._contentLength}),{value:new Uint8Array($t).buffer,done:!1})}cancel($t){if(!this._readableStream){this._error($t);return}this._readableStream.destroy($t)}_error($t){this._storedError=$t,this._readCapability.resolve()}_setReadableStream($t){this._readableStream=$t,$t.on("readable",()=>{this._readCapability.resolve()}),$t.on("end",()=>{$t.destroy(),this._done=!0,this._readCapability.resolve()}),$t.on("error",Ft=>{this._error(Ft)}),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new vt.AbortException("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}}class Ct{constructor($t){this._url=$t.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=new vt.PromiseCapability;const Ft=$t.source;this._isStreamingSupported=!Ft.disableStream}get isStreamingSupported(){return this._isStreamingSupported}async read(){var Dt;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const $t=this._readableStream.read();return $t===null?(this._readCapability=new vt.PromiseCapability,this.read()):(this._loaded+=$t.length,(Dt=this.onProgress)==null||Dt.call(this,{loaded:this._loaded}),{value:new Uint8Array($t).buffer,done:!1})}cancel($t){if(!this._readableStream){this._error($t);return}this._readableStream.destroy($t)}_error($t){this._storedError=$t,this._readCapability.resolve()}_setReadableStream($t){this._readableStream=$t,$t.on("readable",()=>{this._readCapability.resolve()}),$t.on("end",()=>{$t.destroy(),this._done=!0,this._readCapability.resolve()}),$t.on("error",Ft=>{this._error(Ft)}),this._storedError&&this._readableStream.destroy(this._storedError)}}function St(Lt,$t){return{protocol:Lt.protocol,auth:Lt.auth,host:Lt.hostname,port:Lt.port,path:Lt.path,method:"GET",headers:$t}}class Rt extends _t{constructor($t){super($t);const Ft=Dt=>{if(Dt.statusCode===404){const Bt=new vt.MissingPDFException(`Missing PDF "${this._url}".`);this._storedError=Bt,this._headersCapability.reject(Bt);return}this._headersCapability.resolve(),this._setReadableStream(Dt);const Nt=Bt=>this._readableStream.headers[Bt.toLowerCase()],{allowRangeRequests:Ht,suggestedLength:Ot}=(0,xt.validateRangeRequestCapabilities)({getResponseHeader:Nt,isHttp:$t.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=Ht,this._contentLength=Ot||this._contentLength,this._filename=(0,xt.extractFilenameFromHeader)(Nt)};if(this._request=null,this._url.protocol==="http:"){const Dt=require$$5;this._request=Dt.request(St(this._url,$t.httpHeaders),Ft)}else{const Dt=require$$5;this._request=Dt.request(St(this._url,$t.httpHeaders),Ft)}this._request.on("error",Dt=>{this._storedError=Dt,this._headersCapability.reject(Dt)}),this._request.end()}}class Pt extends Ct{constructor($t,Ft,Dt){super($t),this._httpHeaders={};for(const Ht in $t.httpHeaders){const Ot=$t.httpHeaders[Ht];Ot!==void 0&&(this._httpHeaders[Ht]=Ot)}this._httpHeaders.Range=`bytes=${Ft}-${Dt-1}`;const Nt=Ht=>{if(Ht.statusCode===404){const Ot=new vt.MissingPDFException(`Missing PDF "${this._url}".`);this._storedError=Ot;return}this._setReadableStream(Ht)};if(this._request=null,this._url.protocol==="http:"){const Ht=require$$5;this._request=Ht.request(St(this._url,this._httpHeaders),Nt)}else{const Ht=require$$5;this._request=Ht.request(St(this._url,this._httpHeaders),Nt)}this._request.on("error",Ht=>{this._storedError=Ht}),this._request.end()}}class kt extends _t{constructor($t){super($t);let Ft=decodeURIComponent(this._url.path);bt.test(this._url.href)&&(Ft=Ft.replace(/^\//,""));const Dt=require$$5;Dt.lstat(Ft,(Nt,Ht)=>{if(Nt){Nt.code==="ENOENT"&&(Nt=new vt.MissingPDFException(`Missing PDF "${Ft}".`)),this._storedError=Nt,this._headersCapability.reject(Nt);return}this._contentLength=Ht.size,this._setReadableStream(Dt.createReadStream(Ft)),this._headersCapability.resolve()})}}class Mt extends Ct{constructor($t,Ft,Dt){super($t);let Nt=decodeURIComponent(this._url.path);bt.test(this._url.href)&&(Nt=Nt.replace(/^\//,""));const Ht=require$$5;this._setReadableStream(Ht.createReadStream(Nt,{start:Ft,end:Dt-1}))}}},(ht,$,_e)=>{Object.defineProperty($,"__esModule",{value:!0}),$.SVGGraphics=void 0;var vt=_e(6),xt=_e(1);const bt={fontStyle:"normal",fontWeight:"normal",fillColor:"#000000"},Et="http://www.w3.org/XML/1998/namespace",At="http://www.w3.org/1999/xlink",_t=["butt","round","square"],Ct=["miter","round","bevel"],St=function(Ht,Ot="",Bt=!1){if(URL.createObjectURL&&typeof Blob<"u"&&!Bt)return URL.createObjectURL(new Blob([Ht],{type:Ot}));const jt="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";let zt=`data:${Ot};base64,`;for(let Kt=0,nn=Ht.length;Kt<nn;Kt+=3){const Xt=Ht[Kt]&255,en=Ht[Kt+1]&255,on=Ht[Kt+2]&255,An=Xt>>2,un=(Xt&3)<<4|en>>4,vn=Kt+1<nn?(en&15)<<2|on>>6:64,an=Kt+2<nn?on&63:64;zt+=jt[An]+jt[un]+jt[vn]+jt[an]}return zt},Rt=function(){const Ht=new Uint8Array([137,80,78,71,13,10,26,10]),Ot=12,Bt=new Int32Array(256);for(let on=0;on<256;on++){let An=on;for(let un=0;un<8;un++)An=An&1?3988292384^An>>1&2147483647:An>>1&2147483647;Bt[on]=An}function jt(on,An,un){let vn=-1;for(let an=An;an<un;an++){const dn=(vn^on[an])&255,tn=Bt[dn];vn=vn>>>8^tn}return vn^-1}function zt(on,An,un,vn){let an=vn;const dn=An.length;un[an]=dn>>24&255,un[an+1]=dn>>16&255,un[an+2]=dn>>8&255,un[an+3]=dn&255,an+=4,un[an]=on.charCodeAt(0)&255,un[an+1]=on.charCodeAt(1)&255,un[an+2]=on.charCodeAt(2)&255,un[an+3]=on.charCodeAt(3)&255,an+=4,un.set(An,an),an+=An.length;const tn=jt(un,vn+4,an);un[an]=tn>>24&255,un[an+1]=tn>>16&255,un[an+2]=tn>>8&255,un[an+3]=tn&255}function Kt(on,An,un){let vn=1,an=0;for(let dn=An;dn<un;++dn)vn=(vn+(on[dn]&255))%65521,an=(an+vn)%65521;return an<<16|vn}function nn(on){if(!xt.isNodeJS)return Xt(on);try{const An=parseInt(process.versions.node)>=8?on:Buffer.from(on),un=require$$5.deflateSync(An,{level:9});return un instanceof Uint8Array?un:new Uint8Array(un)}catch(An){(0,xt.warn)("Not compressing PNG because zlib.deflateSync is unavailable: "+An)}return Xt(on)}function Xt(on){let An=on.length;const un=65535,vn=Math.ceil(An/un),an=new Uint8Array(2+An+vn*5+4);let dn=0;an[dn++]=120,an[dn++]=156;let tn=0;for(;An>un;)an[dn++]=0,an[dn++]=255,an[dn++]=255,an[dn++]=0,an[dn++]=0,an.set(on.subarray(tn,tn+un),dn),dn+=un,tn+=un,An-=un;an[dn++]=1,an[dn++]=An&255,an[dn++]=An>>8&255,an[dn++]=~An&65535&255,an[dn++]=(~An&65535)>>8&255,an.set(on.subarray(tn),dn),dn+=on.length-tn;const gn=Kt(on,0,on.length);return an[dn++]=gn>>24&255,an[dn++]=gn>>16&255,an[dn++]=gn>>8&255,an[dn++]=gn&255,an}function en(on,An,un,vn){const an=on.width,dn=on.height;let tn,gn,Sn;const rn=on.data;switch(An){case xt.ImageKind.GRAYSCALE_1BPP:gn=0,tn=1,Sn=an+7>>3;break;case xt.ImageKind.RGB_24BPP:gn=2,tn=8,Sn=an*3;break;case xt.ImageKind.RGBA_32BPP:gn=6,tn=8,Sn=an*4;break;default:throw new Error("invalid format")}const qt=new Uint8Array((1+Sn)*dn);let Yt=0,Jt=0;for(let Un=0;Un<dn;++Un)qt[Yt++]=0,qt.set(rn.subarray(Jt,Jt+Sn),Yt),Jt+=Sn,Yt+=Sn;if(An===xt.ImageKind.GRAYSCALE_1BPP&&vn){Yt=0;for(let Un=0;Un<dn;Un++){Yt++;for(let zn=0;zn<Sn;zn++)qt[Yt++]^=255}}const hn=new Uint8Array([an>>24&255,an>>16&255,an>>8&255,an&255,dn>>24&255,dn>>16&255,dn>>8&255,dn&255,tn,gn,0,0,0]),cn=nn(qt),fn=Ht.length+Ot*3+hn.length+cn.length,Rn=new Uint8Array(fn);let jn=0;return Rn.set(Ht,jn),jn+=Ht.length,zt("IHDR",hn,Rn,jn),jn+=Ot+hn.length,zt("IDATA",cn,Rn,jn),jn+=Ot+cn.length,zt("IEND",new Uint8Array(0),Rn,jn),St(Rn,"image/png",un)}return function(An,un,vn){const an=An.kind===void 0?xt.ImageKind.GRAYSCALE_1BPP:An.kind;return en(An,an,un,vn)}}();class Pt{constructor(){this.fontSizeScale=1,this.fontWeight=bt.fontWeight,this.fontSize=0,this.textMatrix=xt.IDENTITY_MATRIX,this.fontMatrix=xt.FONT_IDENTITY_MATRIX,this.leading=0,this.textRenderingMode=xt.TextRenderingMode.FILL,this.textMatrixScale=1,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRise=0,this.fillColor=bt.fillColor,this.strokeColor="#000000",this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.lineJoin="",this.lineCap="",this.miterLimit=0,this.dashArray=[],this.dashPhase=0,this.dependencies=[],this.activeClipUrl=null,this.clipGroup=null,this.maskId=""}clone(){return Object.create(this)}setCurrentPoint(Ot,Bt){this.x=Ot,this.y=Bt}}function kt(Ht){let Ot=[];const Bt=[];for(const jt of Ht){if(jt.fn==="save"){Ot.push({fnId:92,fn:"group",items:[]}),Bt.push(Ot),Ot=Ot.at(-1).items;continue}jt.fn==="restore"?Ot=Bt.pop():Ot.push(jt)}return Ot}function Mt(Ht){if(Number.isInteger(Ht))return Ht.toString();const Ot=Ht.toFixed(10);let Bt=Ot.length-1;if(Ot[Bt]!=="0")return Ot;do Bt--;while(Ot[Bt]==="0");return Ot.substring(0,Ot[Bt]==="."?Bt:Bt+1)}function Lt(Ht){if(Ht[4]===0&&Ht[5]===0){if(Ht[1]===0&&Ht[2]===0)return Ht[0]===1&&Ht[3]===1?"":`scale(${Mt(Ht[0])} ${Mt(Ht[3])})`;if(Ht[0]===Ht[3]&&Ht[1]===-Ht[2]){const Ot=Math.acos(Ht[0])*180/Math.PI;return`rotate(${Mt(Ot)})`}}else if(Ht[0]===1&&Ht[1]===0&&Ht[2]===0&&Ht[3]===1)return`translate(${Mt(Ht[4])} ${Mt(Ht[5])})`;return`matrix(${Mt(Ht[0])} ${Mt(Ht[1])} ${Mt(Ht[2])} ${Mt(Ht[3])} ${Mt(Ht[4])} ${Mt(Ht[5])})`}let $t=0,Ft=0,Dt=0;class Nt{constructor(Ot,Bt,jt=!1){(0,vt.deprecated)("The SVG back-end is no longer maintained and *may* be removed in the future."),this.svgFactory=new vt.DOMSVGFactory,this.current=new Pt,this.transformMatrix=xt.IDENTITY_MATRIX,this.transformStack=[],this.extraStack=[],this.commonObjs=Ot,this.objs=Bt,this.pendingClip=null,this.pendingEOFill=!1,this.embedFonts=!1,this.embeddedFonts=Object.create(null),this.cssStyle=null,this.forceDataSchema=!!jt,this._operatorIdMapping=[];for(const zt in xt.OPS)this._operatorIdMapping[xt.OPS[zt]]=zt}getObject(Ot,Bt=null){return typeof Ot=="string"?Ot.startsWith("g_")?this.commonObjs.get(Ot):this.objs.get(Ot):Bt}save(){this.transformStack.push(this.transformMatrix);const Ot=this.current;this.extraStack.push(Ot),this.current=Ot.clone()}restore(){this.transformMatrix=this.transformStack.pop(),this.current=this.extraStack.pop(),this.pendingClip=null,this.tgrp=null}group(Ot){this.save(),this.executeOpTree(Ot),this.restore()}loadDependencies(Ot){const Bt=Ot.fnArray,jt=Ot.argsArray;for(let zt=0,Kt=Bt.length;zt<Kt;zt++)if(Bt[zt]===xt.OPS.dependency)for(const nn of jt[zt]){const Xt=nn.startsWith("g_")?this.commonObjs:this.objs,en=new Promise(on=>{Xt.get(nn,on)});this.current.dependencies.push(en)}return Promise.all(this.current.dependencies)}transform(Ot,Bt,jt,zt,Kt,nn){const Xt=[Ot,Bt,jt,zt,Kt,nn];this.transformMatrix=xt.Util.transform(this.transformMatrix,Xt),this.tgrp=null}getSVG(Ot,Bt){this.viewport=Bt;const jt=this._initialize(Bt);return this.loadDependencies(Ot).then(()=>(this.transformMatrix=xt.IDENTITY_MATRIX,this.executeOpTree(this.convertOpList(Ot)),jt))}convertOpList(Ot){const Bt=this._operatorIdMapping,jt=Ot.argsArray,zt=Ot.fnArray,Kt=[];for(let nn=0,Xt=zt.length;nn<Xt;nn++){const en=zt[nn];Kt.push({fnId:en,fn:Bt[en],args:jt[nn]})}return kt(Kt)}executeOpTree(Ot){for(const Bt of Ot){const jt=Bt.fn,zt=Bt.fnId,Kt=Bt.args;switch(zt|0){case xt.OPS.beginText:this.beginText();break;case xt.OPS.dependency:break;case xt.OPS.setLeading:this.setLeading(Kt);break;case xt.OPS.setLeadingMoveText:this.setLeadingMoveText(Kt[0],Kt[1]);break;case xt.OPS.setFont:this.setFont(Kt);break;case xt.OPS.showText:this.showText(Kt[0]);break;case xt.OPS.showSpacedText:this.showText(Kt[0]);break;case xt.OPS.endText:this.endText();break;case xt.OPS.moveText:this.moveText(Kt[0],Kt[1]);break;case xt.OPS.setCharSpacing:this.setCharSpacing(Kt[0]);break;case xt.OPS.setWordSpacing:this.setWordSpacing(Kt[0]);break;case xt.OPS.setHScale:this.setHScale(Kt[0]);break;case xt.OPS.setTextMatrix:this.setTextMatrix(Kt[0],Kt[1],Kt[2],Kt[3],Kt[4],Kt[5]);break;case xt.OPS.setTextRise:this.setTextRise(Kt[0]);break;case xt.OPS.setTextRenderingMode:this.setTextRenderingMode(Kt[0]);break;case xt.OPS.setLineWidth:this.setLineWidth(Kt[0]);break;case xt.OPS.setLineJoin:this.setLineJoin(Kt[0]);break;case xt.OPS.setLineCap:this.setLineCap(Kt[0]);break;case xt.OPS.setMiterLimit:this.setMiterLimit(Kt[0]);break;case xt.OPS.setFillRGBColor:this.setFillRGBColor(Kt[0],Kt[1],Kt[2]);break;case xt.OPS.setStrokeRGBColor:this.setStrokeRGBColor(Kt[0],Kt[1],Kt[2]);break;case xt.OPS.setStrokeColorN:this.setStrokeColorN(Kt);break;case xt.OPS.setFillColorN:this.setFillColorN(Kt);break;case xt.OPS.shadingFill:this.shadingFill(Kt[0]);break;case xt.OPS.setDash:this.setDash(Kt[0],Kt[1]);break;case xt.OPS.setRenderingIntent:this.setRenderingIntent(Kt[0]);break;case xt.OPS.setFlatness:this.setFlatness(Kt[0]);break;case xt.OPS.setGState:this.setGState(Kt[0]);break;case xt.OPS.fill:this.fill();break;case xt.OPS.eoFill:this.eoFill();break;case xt.OPS.stroke:this.stroke();break;case xt.OPS.fillStroke:this.fillStroke();break;case xt.OPS.eoFillStroke:this.eoFillStroke();break;case xt.OPS.clip:this.clip("nonzero");break;case xt.OPS.eoClip:this.clip("evenodd");break;case xt.OPS.paintSolidColorImageMask:this.paintSolidColorImageMask();break;case xt.OPS.paintImageXObject:this.paintImageXObject(Kt[0]);break;case xt.OPS.paintInlineImageXObject:this.paintInlineImageXObject(Kt[0]);break;case xt.OPS.paintImageMaskXObject:this.paintImageMaskXObject(Kt[0]);break;case xt.OPS.paintFormXObjectBegin:this.paintFormXObjectBegin(Kt[0],Kt[1]);break;case xt.OPS.paintFormXObjectEnd:this.paintFormXObjectEnd();break;case xt.OPS.closePath:this.closePath();break;case xt.OPS.closeStroke:this.closeStroke();break;case xt.OPS.closeFillStroke:this.closeFillStroke();break;case xt.OPS.closeEOFillStroke:this.closeEOFillStroke();break;case xt.OPS.nextLine:this.nextLine();break;case xt.OPS.transform:this.transform(Kt[0],Kt[1],Kt[2],Kt[3],Kt[4],Kt[5]);break;case xt.OPS.constructPath:this.constructPath(Kt[0],Kt[1]);break;case xt.OPS.endPath:this.endPath();break;case 92:this.group(Bt.items);break;default:(0,xt.warn)(`Unimplemented operator ${jt}`);break}}}setWordSpacing(Ot){this.current.wordSpacing=Ot}setCharSpacing(Ot){this.current.charSpacing=Ot}nextLine(){this.moveText(0,this.current.leading)}setTextMatrix(Ot,Bt,jt,zt,Kt,nn){const Xt=this.current;Xt.textMatrix=Xt.lineMatrix=[Ot,Bt,jt,zt,Kt,nn],Xt.textMatrixScale=Math.hypot(Ot,Bt),Xt.x=Xt.lineX=0,Xt.y=Xt.lineY=0,Xt.xcoords=[],Xt.ycoords=[],Xt.tspan=this.svgFactory.createElement("svg:tspan"),Xt.tspan.setAttributeNS(null,"font-family",Xt.fontFamily),Xt.tspan.setAttributeNS(null,"font-size",`${Mt(Xt.fontSize)}px`),Xt.tspan.setAttributeNS(null,"y",Mt(-Xt.y)),Xt.txtElement=this.svgFactory.createElement("svg:text"),Xt.txtElement.append(Xt.tspan)}beginText(){const Ot=this.current;Ot.x=Ot.lineX=0,Ot.y=Ot.lineY=0,Ot.textMatrix=xt.IDENTITY_MATRIX,Ot.lineMatrix=xt.IDENTITY_MATRIX,Ot.textMatrixScale=1,Ot.tspan=this.svgFactory.createElement("svg:tspan"),Ot.txtElement=this.svgFactory.createElement("svg:text"),Ot.txtgrp=this.svgFactory.createElement("svg:g"),Ot.xcoords=[],Ot.ycoords=[]}moveText(Ot,Bt){const jt=this.current;jt.x=jt.lineX+=Ot,jt.y=jt.lineY+=Bt,jt.xcoords=[],jt.ycoords=[],jt.tspan=this.svgFactory.createElement("svg:tspan"),jt.tspan.setAttributeNS(null,"font-family",jt.fontFamily),jt.tspan.setAttributeNS(null,"font-size",`${Mt(jt.fontSize)}px`),jt.tspan.setAttributeNS(null,"y",Mt(-jt.y))}showText(Ot){const Bt=this.current,jt=Bt.font,zt=Bt.fontSize;if(zt===0)return;const Kt=Bt.fontSizeScale,nn=Bt.charSpacing,Xt=Bt.wordSpacing,en=Bt.fontDirection,on=Bt.textHScale*en,An=jt.vertical,un=An?1:-1,vn=jt.defaultVMetrics,an=zt*Bt.fontMatrix[0];let dn=0;for(const Sn of Ot){if(Sn===null){dn+=en*Xt;continue}else if(typeof Sn=="number"){dn+=un*Sn*zt/1e3;continue}const rn=(Sn.isSpace?Xt:0)+nn,qt=Sn.fontChar;let Yt,Jt,hn=Sn.width;if(An){let fn;const Rn=Sn.vmetric||vn;fn=Sn.vmetric?Rn[1]:hn*.5,fn=-fn*an;const jn=Rn[2]*an;hn=Rn?-Rn[0]:hn,Yt=fn/Kt,Jt=(dn+jn)/Kt}else Yt=dn/Kt,Jt=0;(Sn.isInFont||jt.missingFile)&&(Bt.xcoords.push(Bt.x+Yt),An&&Bt.ycoords.push(-Bt.y+Jt),Bt.tspan.textContent+=qt);const cn=An?hn*an-rn*en:hn*an+rn*en;dn+=cn}Bt.tspan.setAttributeNS(null,"x",Bt.xcoords.map(Mt).join(" ")),An?Bt.tspan.setAttributeNS(null,"y",Bt.ycoords.map(Mt).join(" ")):Bt.tspan.setAttributeNS(null,"y",Mt(-Bt.y)),An?Bt.y-=dn:Bt.x+=dn*on,Bt.tspan.setAttributeNS(null,"font-family",Bt.fontFamily),Bt.tspan.setAttributeNS(null,"font-size",`${Mt(Bt.fontSize)}px`),Bt.fontStyle!==bt.fontStyle&&Bt.tspan.setAttributeNS(null,"font-style",Bt.fontStyle),Bt.fontWeight!==bt.fontWeight&&Bt.tspan.setAttributeNS(null,"font-weight",Bt.fontWeight);const tn=Bt.textRenderingMode&xt.TextRenderingMode.FILL_STROKE_MASK;if(tn===xt.TextRenderingMode.FILL||tn===xt.TextRenderingMode.FILL_STROKE?(Bt.fillColor!==bt.fillColor&&Bt.tspan.setAttributeNS(null,"fill",Bt.fillColor),Bt.fillAlpha<1&&Bt.tspan.setAttributeNS(null,"fill-opacity",Bt.fillAlpha)):Bt.textRenderingMode===xt.TextRenderingMode.ADD_TO_PATH?Bt.tspan.setAttributeNS(null,"fill","transparent"):Bt.tspan.setAttributeNS(null,"fill","none"),tn===xt.TextRenderingMode.STROKE||tn===xt.TextRenderingMode.FILL_STROKE){const Sn=1/(Bt.textMatrixScale||1);this._setStrokeAttributes(Bt.tspan,Sn)}let gn=Bt.textMatrix;Bt.textRise!==0&&(gn=gn.slice(),gn[5]+=Bt.textRise),Bt.txtElement.setAttributeNS(null,"transform",`${Lt(gn)} scale(${Mt(on)}, -1)`),Bt.txtElement.setAttributeNS(Et,"xml:space","preserve"),Bt.txtElement.append(Bt.tspan),Bt.txtgrp.append(Bt.txtElement),this._ensureTransformGroup().append(Bt.txtElement)}setLeadingMoveText(Ot,Bt){this.setLeading(-Bt),this.moveText(Ot,Bt)}addFontStyle(Ot){if(!Ot.data)throw new Error('addFontStyle: No font data available, ensure that the "fontExtraProperties" API parameter is set.');this.cssStyle||(this.cssStyle=this.svgFactory.createElement("svg:style"),this.cssStyle.setAttributeNS(null,"type","text/css"),this.defs.append(this.cssStyle));const Bt=St(Ot.data,Ot.mimetype,this.forceDataSchema);this.cssStyle.textContent+=`@font-face { font-family: "${Ot.loadedName}"; src: url(${Bt}); }
`}setFont(Ot){const Bt=this.current,jt=this.commonObjs.get(Ot[0]);let zt=Ot[1];Bt.font=jt,this.embedFonts&&!jt.missingFile&&!this.embeddedFonts[jt.loadedName]&&(this.addFontStyle(jt),this.embeddedFonts[jt.loadedName]=jt),Bt.fontMatrix=jt.fontMatrix||xt.FONT_IDENTITY_MATRIX;let Kt="normal";jt.black?Kt="900":jt.bold&&(Kt="bold");const nn=jt.italic?"italic":"normal";zt<0?(zt=-zt,Bt.fontDirection=-1):Bt.fontDirection=1,Bt.fontSize=zt,Bt.fontFamily=jt.loadedName,Bt.fontWeight=Kt,Bt.fontStyle=nn,Bt.tspan=this.svgFactory.createElement("svg:tspan"),Bt.tspan.setAttributeNS(null,"y",Mt(-Bt.y)),Bt.xcoords=[],Bt.ycoords=[]}endText(){var Bt;const Ot=this.current;Ot.textRenderingMode&xt.TextRenderingMode.ADD_TO_PATH_FLAG&&((Bt=Ot.txtElement)!=null&&Bt.hasChildNodes())&&(Ot.element=Ot.txtElement,this.clip("nonzero"),this.endPath())}setLineWidth(Ot){Ot>0&&(this.current.lineWidth=Ot)}setLineCap(Ot){this.current.lineCap=_t[Ot]}setLineJoin(Ot){this.current.lineJoin=Ct[Ot]}setMiterLimit(Ot){this.current.miterLimit=Ot}setStrokeAlpha(Ot){this.current.strokeAlpha=Ot}setStrokeRGBColor(Ot,Bt,jt){this.current.strokeColor=xt.Util.makeHexColor(Ot,Bt,jt)}setFillAlpha(Ot){this.current.fillAlpha=Ot}setFillRGBColor(Ot,Bt,jt){this.current.fillColor=xt.Util.makeHexColor(Ot,Bt,jt),this.current.tspan=this.svgFactory.createElement("svg:tspan"),this.current.xcoords=[],this.current.ycoords=[]}setStrokeColorN(Ot){this.current.strokeColor=this._makeColorN_Pattern(Ot)}setFillColorN(Ot){this.current.fillColor=this._makeColorN_Pattern(Ot)}shadingFill(Ot){const{width:Bt,height:jt}=this.viewport,zt=xt.Util.inverseTransform(this.transformMatrix),[Kt,nn,Xt,en]=xt.Util.getAxialAlignedBoundingBox([0,0,Bt,jt],zt),on=this.svgFactory.createElement("svg:rect");on.setAttributeNS(null,"x",Kt),on.setAttributeNS(null,"y",nn),on.setAttributeNS(null,"width",Xt-Kt),on.setAttributeNS(null,"height",en-nn),on.setAttributeNS(null,"fill",this._makeShadingPattern(Ot)),this.current.fillAlpha<1&&on.setAttributeNS(null,"fill-opacity",this.current.fillAlpha),this._ensureTransformGroup().append(on)}_makeColorN_Pattern(Ot){return Ot[0]==="TilingPattern"?this._makeTilingPattern(Ot):this._makeShadingPattern(Ot)}_makeTilingPattern(Ot){const Bt=Ot[1],jt=Ot[2],zt=Ot[3]||xt.IDENTITY_MATRIX,[Kt,nn,Xt,en]=Ot[4],on=Ot[5],An=Ot[6],un=Ot[7],vn=`shading${Dt++}`,[an,dn,tn,gn]=xt.Util.normalizeRect([...xt.Util.applyTransform([Kt,nn],zt),...xt.Util.applyTransform([Xt,en],zt)]),[Sn,rn]=xt.Util.singularValueDecompose2dScale(zt),qt=on*Sn,Yt=An*rn,Jt=this.svgFactory.createElement("svg:pattern");Jt.setAttributeNS(null,"id",vn),Jt.setAttributeNS(null,"patternUnits","userSpaceOnUse"),Jt.setAttributeNS(null,"width",qt),Jt.setAttributeNS(null,"height",Yt),Jt.setAttributeNS(null,"x",`${an}`),Jt.setAttributeNS(null,"y",`${dn}`);const hn=this.svg,cn=this.transformMatrix,fn=this.current.fillColor,Rn=this.current.strokeColor,jn=this.svgFactory.create(tn-an,gn-dn);if(this.svg=jn,this.transformMatrix=zt,un===2){const Un=xt.Util.makeHexColor(...Bt);this.current.fillColor=Un,this.current.strokeColor=Un}return this.executeOpTree(this.convertOpList(jt)),this.svg=hn,this.transformMatrix=cn,this.current.fillColor=fn,this.current.strokeColor=Rn,Jt.append(jn.childNodes[0]),this.defs.append(Jt),`url(#${vn})`}_makeShadingPattern(Ot){switch(typeof Ot=="string"&&(Ot=this.objs.get(Ot)),Ot[0]){case"RadialAxial":const Bt=`shading${Dt++}`,jt=Ot[3];let zt;switch(Ot[1]){case"axial":const Kt=Ot[4],nn=Ot[5];zt=this.svgFactory.createElement("svg:linearGradient"),zt.setAttributeNS(null,"id",Bt),zt.setAttributeNS(null,"gradientUnits","userSpaceOnUse"),zt.setAttributeNS(null,"x1",Kt[0]),zt.setAttributeNS(null,"y1",Kt[1]),zt.setAttributeNS(null,"x2",nn[0]),zt.setAttributeNS(null,"y2",nn[1]);break;case"radial":const Xt=Ot[4],en=Ot[5],on=Ot[6],An=Ot[7];zt=this.svgFactory.createElement("svg:radialGradient"),zt.setAttributeNS(null,"id",Bt),zt.setAttributeNS(null,"gradientUnits","userSpaceOnUse"),zt.setAttributeNS(null,"cx",en[0]),zt.setAttributeNS(null,"cy",en[1]),zt.setAttributeNS(null,"r",An),zt.setAttributeNS(null,"fx",Xt[0]),zt.setAttributeNS(null,"fy",Xt[1]),zt.setAttributeNS(null,"fr",on);break;default:throw new Error(`Unknown RadialAxial type: ${Ot[1]}`)}for(const Kt of jt){const nn=this.svgFactory.createElement("svg:stop");nn.setAttributeNS(null,"offset",Kt[0]),nn.setAttributeNS(null,"stop-color",Kt[1]),zt.append(nn)}return this.defs.append(zt),`url(#${Bt})`;case"Mesh":return(0,xt.warn)("Unimplemented pattern Mesh"),null;case"Dummy":return"hotpink";default:throw new Error(`Unknown IR type: ${Ot[0]}`)}}setDash(Ot,Bt){this.current.dashArray=Ot,this.current.dashPhase=Bt}constructPath(Ot,Bt){const jt=this.current;let zt=jt.x,Kt=jt.y,nn=[],Xt=0;for(const en of Ot)switch(en|0){case xt.OPS.rectangle:zt=Bt[Xt++],Kt=Bt[Xt++];const on=Bt[Xt++],An=Bt[Xt++],un=zt+on,vn=Kt+An;nn.push("M",Mt(zt),Mt(Kt),"L",Mt(un),Mt(Kt),"L",Mt(un),Mt(vn),"L",Mt(zt),Mt(vn),"Z");break;case xt.OPS.moveTo:zt=Bt[Xt++],Kt=Bt[Xt++],nn.push("M",Mt(zt),Mt(Kt));break;case xt.OPS.lineTo:zt=Bt[Xt++],Kt=Bt[Xt++],nn.push("L",Mt(zt),Mt(Kt));break;case xt.OPS.curveTo:zt=Bt[Xt+4],Kt=Bt[Xt+5],nn.push("C",Mt(Bt[Xt]),Mt(Bt[Xt+1]),Mt(Bt[Xt+2]),Mt(Bt[Xt+3]),Mt(zt),Mt(Kt)),Xt+=6;break;case xt.OPS.curveTo2:nn.push("C",Mt(zt),Mt(Kt),Mt(Bt[Xt]),Mt(Bt[Xt+1]),Mt(Bt[Xt+2]),Mt(Bt[Xt+3])),zt=Bt[Xt+2],Kt=Bt[Xt+3],Xt+=4;break;case xt.OPS.curveTo3:zt=Bt[Xt+2],Kt=Bt[Xt+3],nn.push("C",Mt(Bt[Xt]),Mt(Bt[Xt+1]),Mt(zt),Mt(Kt),Mt(zt),Mt(Kt)),Xt+=4;break;case xt.OPS.closePath:nn.push("Z");break}nn=nn.join(" "),jt.path&&Ot.length>0&&Ot[0]!==xt.OPS.rectangle&&Ot[0]!==xt.OPS.moveTo?nn=jt.path.getAttributeNS(null,"d")+nn:(jt.path=this.svgFactory.createElement("svg:path"),this._ensureTransformGroup().append(jt.path)),jt.path.setAttributeNS(null,"d",nn),jt.path.setAttributeNS(null,"fill","none"),jt.element=jt.path,jt.setCurrentPoint(zt,Kt)}endPath(){const Ot=this.current;if(Ot.path=null,!this.pendingClip)return;if(!Ot.element){this.pendingClip=null;return}const Bt=`clippath${$t++}`,jt=this.svgFactory.createElement("svg:clipPath");jt.setAttributeNS(null,"id",Bt),jt.setAttributeNS(null,"transform",Lt(this.transformMatrix));const zt=Ot.element.cloneNode(!0);if(this.pendingClip==="evenodd"?zt.setAttributeNS(null,"clip-rule","evenodd"):zt.setAttributeNS(null,"clip-rule","nonzero"),this.pendingClip=null,jt.append(zt),this.defs.append(jt),Ot.activeClipUrl){Ot.clipGroup=null;for(const Kt of this.extraStack)Kt.clipGroup=null;jt.setAttributeNS(null,"clip-path",Ot.activeClipUrl)}Ot.activeClipUrl=`url(#${Bt})`,this.tgrp=null}clip(Ot){this.pendingClip=Ot}closePath(){const Ot=this.current;if(Ot.path){const Bt=`${Ot.path.getAttributeNS(null,"d")}Z`;Ot.path.setAttributeNS(null,"d",Bt)}}setLeading(Ot){this.current.leading=-Ot}setTextRise(Ot){this.current.textRise=Ot}setTextRenderingMode(Ot){this.current.textRenderingMode=Ot}setHScale(Ot){this.current.textHScale=Ot/100}setRenderingIntent(Ot){}setFlatness(Ot){}setGState(Ot){for(const[Bt,jt]of Ot)switch(Bt){case"LW":this.setLineWidth(jt);break;case"LC":this.setLineCap(jt);break;case"LJ":this.setLineJoin(jt);break;case"ML":this.setMiterLimit(jt);break;case"D":this.setDash(jt[0],jt[1]);break;case"RI":this.setRenderingIntent(jt);break;case"FL":this.setFlatness(jt);break;case"Font":this.setFont(jt);break;case"CA":this.setStrokeAlpha(jt);break;case"ca":this.setFillAlpha(jt);break;default:(0,xt.warn)(`Unimplemented graphic state operator ${Bt}`);break}}fill(){const Ot=this.current;Ot.element&&(Ot.element.setAttributeNS(null,"fill",Ot.fillColor),Ot.element.setAttributeNS(null,"fill-opacity",Ot.fillAlpha),this.endPath())}stroke(){const Ot=this.current;Ot.element&&(this._setStrokeAttributes(Ot.element),Ot.element.setAttributeNS(null,"fill","none"),this.endPath())}_setStrokeAttributes(Ot,Bt=1){const jt=this.current;let zt=jt.dashArray;Bt!==1&&zt.length>0&&(zt=zt.map(function(Kt){return Bt*Kt})),Ot.setAttributeNS(null,"stroke",jt.strokeColor),Ot.setAttributeNS(null,"stroke-opacity",jt.strokeAlpha),Ot.setAttributeNS(null,"stroke-miterlimit",Mt(jt.miterLimit)),Ot.setAttributeNS(null,"stroke-linecap",jt.lineCap),Ot.setAttributeNS(null,"stroke-linejoin",jt.lineJoin),Ot.setAttributeNS(null,"stroke-width",Mt(Bt*jt.lineWidth)+"px"),Ot.setAttributeNS(null,"stroke-dasharray",zt.map(Mt).join(" ")),Ot.setAttributeNS(null,"stroke-dashoffset",Mt(Bt*jt.dashPhase)+"px")}eoFill(){var Ot;(Ot=this.current.element)==null||Ot.setAttributeNS(null,"fill-rule","evenodd"),this.fill()}fillStroke(){this.stroke(),this.fill()}eoFillStroke(){var Ot;(Ot=this.current.element)==null||Ot.setAttributeNS(null,"fill-rule","evenodd"),this.fillStroke()}closeStroke(){this.closePath(),this.stroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.closePath(),this.eoFillStroke()}paintSolidColorImageMask(){const Ot=this.svgFactory.createElement("svg:rect");Ot.setAttributeNS(null,"x","0"),Ot.setAttributeNS(null,"y","0"),Ot.setAttributeNS(null,"width","1px"),Ot.setAttributeNS(null,"height","1px"),Ot.setAttributeNS(null,"fill",this.current.fillColor),this._ensureTransformGroup().append(Ot)}paintImageXObject(Ot){const Bt=this.getObject(Ot);if(!Bt){(0,xt.warn)(`Dependent image with object ID ${Ot} is not ready yet`);return}this.paintInlineImageXObject(Bt)}paintInlineImageXObject(Ot,Bt){const jt=Ot.width,zt=Ot.height,Kt=Rt(Ot,this.forceDataSchema,!!Bt),nn=this.svgFactory.createElement("svg:rect");nn.setAttributeNS(null,"x","0"),nn.setAttributeNS(null,"y","0"),nn.setAttributeNS(null,"width",Mt(jt)),nn.setAttributeNS(null,"height",Mt(zt)),this.current.element=nn,this.clip("nonzero");const Xt=this.svgFactory.createElement("svg:image");Xt.setAttributeNS(At,"xlink:href",Kt),Xt.setAttributeNS(null,"x","0"),Xt.setAttributeNS(null,"y",Mt(-zt)),Xt.setAttributeNS(null,"width",Mt(jt)+"px"),Xt.setAttributeNS(null,"height",Mt(zt)+"px"),Xt.setAttributeNS(null,"transform",`scale(${Mt(1/jt)} ${Mt(-1/zt)})`),Bt?Bt.append(Xt):this._ensureTransformGroup().append(Xt)}paintImageMaskXObject(Ot){const Bt=this.getObject(Ot.data,Ot);if(Bt.bitmap){(0,xt.warn)("paintImageMaskXObject: ImageBitmap support is not implemented, ensure that the `isOffscreenCanvasSupported` API parameter is disabled.");return}const jt=this.current,zt=Bt.width,Kt=Bt.height,nn=jt.fillColor;jt.maskId=`mask${Ft++}`;const Xt=this.svgFactory.createElement("svg:mask");Xt.setAttributeNS(null,"id",jt.maskId);const en=this.svgFactory.createElement("svg:rect");en.setAttributeNS(null,"x","0"),en.setAttributeNS(null,"y","0"),en.setAttributeNS(null,"width",Mt(zt)),en.setAttributeNS(null,"height",Mt(Kt)),en.setAttributeNS(null,"fill",nn),en.setAttributeNS(null,"mask",`url(#${jt.maskId})`),this.defs.append(Xt),this._ensureTransformGroup().append(en),this.paintInlineImageXObject(Bt,Xt)}paintFormXObjectBegin(Ot,Bt){if(Array.isArray(Ot)&&Ot.length===6&&this.transform(Ot[0],Ot[1],Ot[2],Ot[3],Ot[4],Ot[5]),Bt){const jt=Bt[2]-Bt[0],zt=Bt[3]-Bt[1],Kt=this.svgFactory.createElement("svg:rect");Kt.setAttributeNS(null,"x",Bt[0]),Kt.setAttributeNS(null,"y",Bt[1]),Kt.setAttributeNS(null,"width",Mt(jt)),Kt.setAttributeNS(null,"height",Mt(zt)),this.current.element=Kt,this.clip("nonzero"),this.endPath()}}paintFormXObjectEnd(){}_initialize(Ot){const Bt=this.svgFactory.create(Ot.width,Ot.height),jt=this.svgFactory.createElement("svg:defs");Bt.append(jt),this.defs=jt;const zt=this.svgFactory.createElement("svg:g");return zt.setAttributeNS(null,"transform",Lt(Ot.transform)),Bt.append(zt),this.svg=zt,Bt}_ensureClipGroup(){if(!this.current.clipGroup){const Ot=this.svgFactory.createElement("svg:g");Ot.setAttributeNS(null,"clip-path",this.current.activeClipUrl),this.svg.append(Ot),this.current.clipGroup=Ot}return this.current.clipGroup}_ensureTransformGroup(){return this.tgrp||(this.tgrp=this.svgFactory.createElement("svg:g"),this.tgrp.setAttributeNS(null,"transform",Lt(this.transformMatrix)),this.current.activeClipUrl?this._ensureClipGroup().append(this.tgrp):this.svg.append(this.tgrp)),this.tgrp}}$.SVGGraphics=Nt},(ht,$)=>{Object.defineProperty($,"__esModule",{value:!0}),$.XfaText=void 0;class _e{static textContent(xt){const bt=[],Et={items:bt,styles:Object.create(null)};function At(_t){var Rt;if(!_t)return;let Ct=null;const St=_t.name;if(St==="#text")Ct=_t.value;else if(_e.shouldBuildText(St))(Rt=_t==null?void 0:_t.attributes)!=null&&Rt.textContent?Ct=_t.attributes.textContent:_t.value&&(Ct=_t.value);else return;if(Ct!==null&&bt.push({str:Ct}),!!_t.children)for(const Pt of _t.children)At(Pt)}return At(xt),Et}static shouldBuildText(xt){return!(xt==="textarea"||xt==="input"||xt==="option"||xt==="select")}}$.XfaText=_e},(ht,$,_e)=>{Object.defineProperty($,"__esModule",{value:!0}),$.TextLayerRenderTask=void 0,$.renderTextLayer=Lt,$.updateTextLayer=$t;var vt=_e(1),xt=_e(6);const bt=1e5,Et=30,At=.8,_t=new Map;function Ct(Ft,Dt){let Nt;if(Dt&&vt.FeatureTest.isOffscreenCanvasSupported)Nt=new OffscreenCanvas(Ft,Ft).getContext("2d",{alpha:!1});else{const Ht=document.createElement("canvas");Ht.width=Ht.height=Ft,Nt=Ht.getContext("2d",{alpha:!1})}return Nt}function St(Ft,Dt){const Nt=_t.get(Ft);if(Nt)return Nt;const Ht=Ct(Et,Dt);Ht.font=`${Et}px ${Ft}`;const Ot=Ht.measureText("");let Bt=Ot.fontBoundingBoxAscent,jt=Math.abs(Ot.fontBoundingBoxDescent);if(Bt){const Kt=Bt/(Bt+jt);return _t.set(Ft,Kt),Ht.canvas.width=Ht.canvas.height=0,Kt}Ht.strokeStyle="red",Ht.clearRect(0,0,Et,Et),Ht.strokeText("g",0,0);let zt=Ht.getImageData(0,0,Et,Et).data;jt=0;for(let Kt=zt.length-1-3;Kt>=0;Kt-=4)if(zt[Kt]>0){jt=Math.ceil(Kt/4/Et);break}Ht.clearRect(0,0,Et,Et),Ht.strokeText("A",0,Et),zt=Ht.getImageData(0,0,Et,Et).data,Bt=0;for(let Kt=0,nn=zt.length;Kt<nn;Kt+=4)if(zt[Kt]>0){Bt=Et-Math.floor(Kt/4/Et);break}if(Ht.canvas.width=Ht.canvas.height=0,Bt){const Kt=Bt/(Bt+jt);return _t.set(Ft,Kt),Kt}return _t.set(Ft,At),At}function Rt(Ft,Dt,Nt){const Ht=document.createElement("span"),Ot={angle:0,canvasWidth:0,hasText:Dt.str!=="",hasEOL:Dt.hasEOL,fontSize:0};Ft._textDivs.push(Ht);const Bt=vt.Util.transform(Ft._transform,Dt.transform);let jt=Math.atan2(Bt[1],Bt[0]);const zt=Nt[Dt.fontName];zt.vertical&&(jt+=Math.PI/2);const Kt=Math.hypot(Bt[2],Bt[3]),nn=Kt*St(zt.fontFamily,Ft._isOffscreenCanvasSupported);let Xt,en;jt===0?(Xt=Bt[4],en=Bt[5]-nn):(Xt=Bt[4]+nn*Math.sin(jt),en=Bt[5]-nn*Math.cos(jt));const on="calc(var(--scale-factor)*",An=Ht.style;Ft._container===Ft._rootContainer?(An.left=`${(100*Xt/Ft._pageWidth).toFixed(2)}%`,An.top=`${(100*en/Ft._pageHeight).toFixed(2)}%`):(An.left=`${on}${Xt.toFixed(2)}px)`,An.top=`${on}${en.toFixed(2)}px)`),An.fontSize=`${on}${Kt.toFixed(2)}px)`,An.fontFamily=zt.fontFamily,Ot.fontSize=Kt,Ht.setAttribute("role","presentation"),Ht.textContent=Dt.str,Ht.dir=Dt.dir,Ft._fontInspectorEnabled&&(Ht.dataset.fontName=Dt.fontName),jt!==0&&(Ot.angle=jt*(180/Math.PI));let un=!1;if(Dt.str.length>1)un=!0;else if(Dt.str!==" "&&Dt.transform[0]!==Dt.transform[3]){const vn=Math.abs(Dt.transform[0]),an=Math.abs(Dt.transform[3]);vn!==an&&Math.max(vn,an)/Math.min(vn,an)>1.5&&(un=!0)}un&&(Ot.canvasWidth=zt.vertical?Dt.height:Dt.width),Ft._textDivProperties.set(Ht,Ot),Ft._isReadableStream&&Ft._layoutText(Ht)}function Pt(Ft){const{div:Dt,scale:Nt,properties:Ht,ctx:Ot,prevFontSize:Bt,prevFontFamily:jt}=Ft,{style:zt}=Dt;let Kt="";if(Ht.canvasWidth!==0&&Ht.hasText){const{fontFamily:nn}=zt,{canvasWidth:Xt,fontSize:en}=Ht;(Bt!==en||jt!==nn)&&(Ot.font=`${en*Nt}px ${nn}`,Ft.prevFontSize=en,Ft.prevFontFamily=nn);const{width:on}=Ot.measureText(Dt.textContent);on>0&&(Kt=`scaleX(${Xt*Nt/on})`)}Ht.angle!==0&&(Kt=`rotate(${Ht.angle}deg) ${Kt}`),Kt.length>0&&(zt.transform=Kt)}function kt(Ft){if(Ft._canceled)return;const Dt=Ft._textDivs,Nt=Ft._capability;if(Dt.length>bt){Nt.resolve();return}if(!Ft._isReadableStream)for(const Ot of Dt)Ft._layoutText(Ot);Nt.resolve()}class Mt{constructor({textContentSource:Dt,container:Nt,viewport:Ht,textDivs:Ot,textDivProperties:Bt,textContentItemsStr:jt,isOffscreenCanvasSupported:zt}){var on;this._textContentSource=Dt,this._isReadableStream=Dt instanceof ReadableStream,this._container=this._rootContainer=Nt,this._textDivs=Ot||[],this._textContentItemsStr=jt||[],this._isOffscreenCanvasSupported=zt,this._fontInspectorEnabled=!!((on=globalThis.FontInspector)!=null&&on.enabled),this._reader=null,this._textDivProperties=Bt||new WeakMap,this._canceled=!1,this._capability=new vt.PromiseCapability,this._layoutTextParams={prevFontSize:null,prevFontFamily:null,div:null,scale:Ht.scale*(globalThis.devicePixelRatio||1),properties:null,ctx:Ct(0,zt)};const{pageWidth:Kt,pageHeight:nn,pageX:Xt,pageY:en}=Ht.rawDims;this._transform=[1,0,0,-1,-Xt,en+nn],this._pageWidth=Kt,this._pageHeight=nn,(0,xt.setLayerDimensions)(Nt,Ht),this._capability.promise.finally(()=>{this._layoutTextParams=null}).catch(()=>{})}get promise(){return this._capability.promise}cancel(){this._canceled=!0,this._reader&&(this._reader.cancel(new vt.AbortException("TextLayer task cancelled.")).catch(()=>{}),this._reader=null),this._capability.reject(new vt.AbortException("TextLayer task cancelled."))}_processItems(Dt,Nt){for(const Ht of Dt){if(Ht.str===void 0){if(Ht.type==="beginMarkedContentProps"||Ht.type==="beginMarkedContent"){const Ot=this._container;this._container=document.createElement("span"),this._container.classList.add("markedContent"),Ht.id!==null&&this._container.setAttribute("id",`${Ht.id}`),Ot.append(this._container)}else Ht.type==="endMarkedContent"&&(this._container=this._container.parentNode);continue}this._textContentItemsStr.push(Ht.str),Rt(this,Ht,Nt)}}_layoutText(Dt){const Nt=this._layoutTextParams.properties=this._textDivProperties.get(Dt);if(this._layoutTextParams.div=Dt,Pt(this._layoutTextParams),Nt.hasText&&this._container.append(Dt),Nt.hasEOL){const Ht=document.createElement("br");Ht.setAttribute("role","presentation"),this._container.append(Ht)}}_render(){const Dt=new vt.PromiseCapability;let Nt=Object.create(null);if(this._isReadableStream){const Ht=()=>{this._reader.read().then(({value:Ot,done:Bt})=>{if(Bt){Dt.resolve();return}Object.assign(Nt,Ot.styles),this._processItems(Ot.items,Nt),Ht()},Dt.reject)};this._reader=this._textContentSource.getReader(),Ht()}else if(this._textContentSource){const{items:Ht,styles:Ot}=this._textContentSource;this._processItems(Ht,Ot),Dt.resolve()}else throw new Error('No "textContentSource" parameter specified.');Dt.promise.then(()=>{Nt=null,kt(this)},this._capability.reject)}}$.TextLayerRenderTask=Mt;function Lt(Ft){!Ft.textContentSource&&(Ft.textContent||Ft.textContentStream)&&((0,xt.deprecated)("The TextLayerRender `textContent`/`textContentStream` parameters will be removed in the future, please use `textContentSource` instead."),Ft.textContentSource=Ft.textContent||Ft.textContentStream);const{container:Dt,viewport:Nt}=Ft,Ht=getComputedStyle(Dt),Ot=Ht.getPropertyValue("visibility"),Bt=parseFloat(Ht.getPropertyValue("--scale-factor"));Ot==="visible"&&(!Bt||Math.abs(Bt-Nt.scale)>1e-5)&&console.error("The `--scale-factor` CSS-variable must be set, to the same value as `viewport.scale`, either on the `container`-element itself or higher up in the DOM.");const jt=new Mt(Ft);return jt._render(),jt}function $t({container:Ft,viewport:Dt,textDivs:Nt,textDivProperties:Ht,isOffscreenCanvasSupported:Ot,mustRotate:Bt=!0,mustRescale:jt=!0}){if(Bt&&(0,xt.setLayerDimensions)(Ft,{rotation:Dt.rotation}),jt){const zt=Ct(0,Ot),nn={prevFontSize:null,prevFontFamily:null,div:null,scale:Dt.scale*(globalThis.devicePixelRatio||1),properties:null,ctx:zt};for(const Xt of Nt)nn.properties=Ht.get(Xt),nn.div=Xt,Pt(nn)}}},(ht,$,_e)=>{var St,Rt,Pt,kt,Mt,Lt,$t,Ft,Dt,Nt,Ht,H1,Hy,B1,U1;Object.defineProperty($,"__esModule",{value:!0}),$.AnnotationEditorLayer=void 0;var vt=_e(1),xt=_e(4),bt=_e(28),Et=_e(33),At=_e(6),_t=_e(34);const Kt=class Kt{constructor({uiManager:Xt,pageIndex:en,div:on,accessibilityManager:An,annotationLayer:un,viewport:vn,l10n:an}){Gt(this,Ht);Gt(this,St);Gt(this,Rt,!1);Gt(this,Pt,null);Gt(this,kt,this.pointerup.bind(this));Gt(this,Mt,this.pointerdown.bind(this));Gt(this,Lt,new Map);Gt(this,$t,!1);Gt(this,Ft,!1);Gt(this,Dt,!1);Gt(this,Nt);const dn=[bt.FreeTextEditor,Et.InkEditor,_t.StampEditor];if(!Kt._initialized){Kt._initialized=!0;for(const tn of dn)tn.initialize(an)}Xt.registerEditorTypes(dn),Vt(this,Nt,Xt),this.pageIndex=en,this.div=on,Vt(this,St,An),Vt(this,Pt,un),this.viewport=vn,wt(this,Nt).addLayer(this)}get isEmpty(){return wt(this,Lt).size===0}updateToolbar(Xt){wt(this,Nt).updateToolbar(Xt)}updateMode(Xt=wt(this,Nt).getMode()){Ut(this,Ht,U1).call(this),Xt===vt.AnnotationEditorType.INK?(this.addInkEditorIfNeeded(!1),this.disableClick()):this.enableClick(),Xt!==vt.AnnotationEditorType.NONE&&(this.div.classList.toggle("freeTextEditing",Xt===vt.AnnotationEditorType.FREETEXT),this.div.classList.toggle("inkEditing",Xt===vt.AnnotationEditorType.INK),this.div.classList.toggle("stampEditing",Xt===vt.AnnotationEditorType.STAMP),this.div.hidden=!1)}addInkEditorIfNeeded(Xt){if(!Xt&&wt(this,Nt).getMode()!==vt.AnnotationEditorType.INK)return;if(!Xt){for(const on of wt(this,Lt).values())if(on.isEmpty()){on.setInBackground();return}}Ut(this,Ht,Hy).call(this,{offsetX:0,offsetY:0},!1).setInBackground()}setEditingState(Xt){wt(this,Nt).setEditingState(Xt)}addCommands(Xt){wt(this,Nt).addCommands(Xt)}enable(){this.div.style.pointerEvents="auto";const Xt=new Set;for(const on of wt(this,Lt).values())on.enableEditing(),on.annotationElementId&&Xt.add(on.annotationElementId);if(!wt(this,Pt))return;const en=wt(this,Pt).getEditableAnnotations();for(const on of en){if(on.hide(),wt(this,Nt).isDeletedAnnotationElement(on.data.id)||Xt.has(on.data.id))continue;const An=this.deserialize(on);An&&(this.addOrRebuild(An),An.enableEditing())}}disable(){var en;Vt(this,Dt,!0),this.div.style.pointerEvents="none";const Xt=new Set;for(const on of wt(this,Lt).values()){if(on.disableEditing(),!on.annotationElementId||on.serialize()!==null){Xt.add(on.annotationElementId);continue}(en=this.getEditableAnnotation(on.annotationElementId))==null||en.show(),on.remove()}if(wt(this,Pt)){const on=wt(this,Pt).getEditableAnnotations();for(const An of on){const{id:un}=An.data;Xt.has(un)||wt(this,Nt).isDeletedAnnotationElement(un)||An.show()}}Ut(this,Ht,U1).call(this),this.isEmpty&&(this.div.hidden=!0),Vt(this,Dt,!1)}getEditableAnnotation(Xt){var en;return((en=wt(this,Pt))==null?void 0:en.getEditableAnnotation(Xt))||null}setActiveEditor(Xt){wt(this,Nt).getActive()!==Xt&&wt(this,Nt).setActiveEditor(Xt)}enableClick(){this.div.addEventListener("pointerdown",wt(this,Mt)),this.div.addEventListener("pointerup",wt(this,kt))}disableClick(){this.div.removeEventListener("pointerdown",wt(this,Mt)),this.div.removeEventListener("pointerup",wt(this,kt))}attach(Xt){wt(this,Lt).set(Xt.id,Xt);const{annotationElementId:en}=Xt;en&&wt(this,Nt).isDeletedAnnotationElement(en)&&wt(this,Nt).removeDeletedAnnotationElement(Xt)}detach(Xt){var en;wt(this,Lt).delete(Xt.id),(en=wt(this,St))==null||en.removePointerInTextLayer(Xt.contentDiv),!wt(this,Dt)&&Xt.annotationElementId&&wt(this,Nt).addDeletedAnnotationElement(Xt)}remove(Xt){this.detach(Xt),wt(this,Nt).removeEditor(Xt),Xt.div.contains(document.activeElement)&&setTimeout(()=>{wt(this,Nt).focusMainContainer()},0),Xt.div.remove(),Xt.isAttachedToDOM=!1,wt(this,Ft)||this.addInkEditorIfNeeded(!1)}changeParent(Xt){var en;Xt.parent!==this&&(Xt.annotationElementId&&(wt(this,Nt).addDeletedAnnotationElement(Xt.annotationElementId),xt.AnnotationEditor.deleteAnnotationElement(Xt),Xt.annotationElementId=null),this.attach(Xt),(en=Xt.parent)==null||en.detach(Xt),Xt.setParent(this),Xt.div&&Xt.isAttachedToDOM&&(Xt.div.remove(),this.div.append(Xt.div)))}add(Xt){if(this.changeParent(Xt),wt(this,Nt).addEditor(Xt),this.attach(Xt),!Xt.isAttachedToDOM){const en=Xt.render();this.div.append(en),Xt.isAttachedToDOM=!0}Xt.fixAndSetPosition(),Xt.onceAdded(),wt(this,Nt).addToAnnotationStorage(Xt)}moveEditorInDOM(Xt){var on;if(!Xt.isAttachedToDOM)return;const{activeElement:en}=document;Xt.div.contains(en)&&(Xt._focusEventsAllowed=!1,setTimeout(()=>{Xt.div.contains(document.activeElement)?Xt._focusEventsAllowed=!0:(Xt.div.addEventListener("focusin",()=>{Xt._focusEventsAllowed=!0},{once:!0}),en.focus())},0)),Xt._structTreeParentId=(on=wt(this,St))==null?void 0:on.moveElementInDOM(this.div,Xt.div,Xt.contentDiv,!0)}addOrRebuild(Xt){Xt.needsToBeRebuilt()?Xt.rebuild():this.add(Xt)}addUndoableEditor(Xt){const en=()=>Xt._uiManager.rebuild(Xt),on=()=>{Xt.remove()};this.addCommands({cmd:en,undo:on,mustExec:!1})}getNextId(){return wt(this,Nt).getId()}pasteEditor(Xt,en){wt(this,Nt).updateToolbar(Xt),wt(this,Nt).updateMode(Xt);const{offsetX:on,offsetY:An}=Ut(this,Ht,B1).call(this),un=this.getNextId(),vn=Ut(this,Ht,H1).call(this,{parent:this,id:un,x:on,y:An,uiManager:wt(this,Nt),isCentered:!0,...en});vn&&this.add(vn)}deserialize(Xt){switch(Xt.annotationType??Xt.annotationEditorType){case vt.AnnotationEditorType.FREETEXT:return bt.FreeTextEditor.deserialize(Xt,this,wt(this,Nt));case vt.AnnotationEditorType.INK:return Et.InkEditor.deserialize(Xt,this,wt(this,Nt));case vt.AnnotationEditorType.STAMP:return _t.StampEditor.deserialize(Xt,this,wt(this,Nt))}return null}addNewEditor(){Ut(this,Ht,Hy).call(this,Ut(this,Ht,B1).call(this),!0)}setSelected(Xt){wt(this,Nt).setSelected(Xt)}toggleSelected(Xt){wt(this,Nt).toggleSelected(Xt)}isSelected(Xt){return wt(this,Nt).isSelected(Xt)}unselect(Xt){wt(this,Nt).unselect(Xt)}pointerup(Xt){const{isMac:en}=vt.FeatureTest.platform;if(!(Xt.button!==0||Xt.ctrlKey&&en)&&Xt.target===this.div&&wt(this,$t)){if(Vt(this,$t,!1),!wt(this,Rt)){Vt(this,Rt,!0);return}if(wt(this,Nt).getMode()===vt.AnnotationEditorType.STAMP){wt(this,Nt).unselectAll();return}Ut(this,Ht,Hy).call(this,Xt,!1)}}pointerdown(Xt){if(wt(this,$t)){Vt(this,$t,!1);return}const{isMac:en}=vt.FeatureTest.platform;if(Xt.button!==0||Xt.ctrlKey&&en||Xt.target!==this.div)return;Vt(this,$t,!0);const on=wt(this,Nt).getActive();Vt(this,Rt,!on||on.isEmpty())}findNewParent(Xt,en,on){const An=wt(this,Nt).findParent(en,on);return An===null||An===this?!1:(An.changeParent(Xt),!0)}destroy(){var Xt,en;((Xt=wt(this,Nt).getActive())==null?void 0:Xt.parent)===this&&(wt(this,Nt).commitOrRemove(),wt(this,Nt).setActiveEditor(null));for(const on of wt(this,Lt).values())(en=wt(this,St))==null||en.removePointerInTextLayer(on.contentDiv),on.setParent(null),on.isAttachedToDOM=!1,on.div.remove();this.div=null,wt(this,Lt).clear(),wt(this,Nt).removeLayer(this)}render({viewport:Xt}){this.viewport=Xt,(0,At.setLayerDimensions)(this.div,Xt);for(const en of wt(this,Nt).getEditors(this.pageIndex))this.add(en);this.updateMode()}update({viewport:Xt}){wt(this,Nt).commitOrRemove(),this.viewport=Xt,(0,At.setLayerDimensions)(this.div,{rotation:Xt.rotation}),this.updateMode()}get pageDimensions(){const{pageWidth:Xt,pageHeight:en}=this.viewport.rawDims;return[Xt,en]}};St=new WeakMap,Rt=new WeakMap,Pt=new WeakMap,kt=new WeakMap,Mt=new WeakMap,Lt=new WeakMap,$t=new WeakMap,Ft=new WeakMap,Dt=new WeakMap,Nt=new WeakMap,Ht=new WeakSet,H1=function(Xt){switch(wt(this,Nt).getMode()){case vt.AnnotationEditorType.FREETEXT:return new bt.FreeTextEditor(Xt);case vt.AnnotationEditorType.INK:return new Et.InkEditor(Xt);case vt.AnnotationEditorType.STAMP:return new _t.StampEditor(Xt)}return null},Hy=function(Xt,en){const on=this.getNextId(),An=Ut(this,Ht,H1).call(this,{parent:this,id:on,x:Xt.offsetX,y:Xt.offsetY,uiManager:wt(this,Nt),isCentered:en});return An&&this.add(An),An},B1=function(){const{x:Xt,y:en,width:on,height:An}=this.div.getBoundingClientRect(),un=Math.max(0,Xt),vn=Math.max(0,en),an=Math.min(window.innerWidth,Xt+on),dn=Math.min(window.innerHeight,en+An),tn=(un+an)/2-Xt,gn=(vn+dn)/2-en,[Sn,rn]=this.viewport.rotation%180===0?[tn,gn]:[gn,tn];return{offsetX:Sn,offsetY:rn}},U1=function(){Vt(this,Ft,!0);for(const Xt of wt(this,Lt).values())Xt.isEmpty()&&Xt.remove();Vt(this,Ft,!1)},_r(Kt,"_initialized",!1);let Ct=Kt;$.AnnotationEditorLayer=Ct},(ht,$,_e)=>{var _t,Ct,St,Rt,Pt,kt,Mt,Lt,$t,Ft,tw,nw,iw,x0,z1,rw,V1;Object.defineProperty($,"__esModule",{value:!0}),$.FreeTextEditor=void 0;var vt=_e(1),xt=_e(5),bt=_e(4),Et=_e(29);const Kt=class Kt extends bt.AnnotationEditor{constructor(en){super({...en,name:"freeTextEditor"});Gt(this,Ft);Gt(this,_t,this.editorDivBlur.bind(this));Gt(this,Ct,this.editorDivFocus.bind(this));Gt(this,St,this.editorDivInput.bind(this));Gt(this,Rt,this.editorDivKeydown.bind(this));Gt(this,Pt);Gt(this,kt,"");Gt(this,Mt,`${this.id}-editor`);Gt(this,Lt);Gt(this,$t,null);Vt(this,Pt,en.color||Kt._defaultColor||bt.AnnotationEditor._defaultLineColor),Vt(this,Lt,en.fontSize||Kt._defaultFontSize)}static get _keyboardManager(){const en=Kt.prototype,on=vn=>vn.isEmpty(),An=xt.AnnotationEditorUIManager.TRANSLATE_SMALL,un=xt.AnnotationEditorUIManager.TRANSLATE_BIG;return(0,vt.shadow)(this,"_keyboardManager",new xt.KeyboardManager([[["ctrl+s","mac+meta+s","ctrl+p","mac+meta+p"],en.commitOrRemove,{bubbles:!0}],[["ctrl+Enter","mac+meta+Enter","Escape","mac+Escape"],en.commitOrRemove],[["ArrowLeft","mac+ArrowLeft"],en._translateEmpty,{args:[-An,0],checker:on}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],en._translateEmpty,{args:[-un,0],checker:on}],[["ArrowRight","mac+ArrowRight"],en._translateEmpty,{args:[An,0],checker:on}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],en._translateEmpty,{args:[un,0],checker:on}],[["ArrowUp","mac+ArrowUp"],en._translateEmpty,{args:[0,-An],checker:on}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],en._translateEmpty,{args:[0,-un],checker:on}],[["ArrowDown","mac+ArrowDown"],en._translateEmpty,{args:[0,An],checker:on}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],en._translateEmpty,{args:[0,un],checker:on}]]))}static initialize(en){bt.AnnotationEditor.initialize(en,{strings:["free_text2_default_content","editor_free_text2_aria_label"]});const on=getComputedStyle(document.documentElement);this._internalPadding=parseFloat(on.getPropertyValue("--freetext-padding"))}static updateDefaultParams(en,on){switch(en){case vt.AnnotationEditorParamsType.FREETEXT_SIZE:Kt._defaultFontSize=on;break;case vt.AnnotationEditorParamsType.FREETEXT_COLOR:Kt._defaultColor=on;break}}updateParams(en,on){switch(en){case vt.AnnotationEditorParamsType.FREETEXT_SIZE:Ut(this,Ft,tw).call(this,on);break;case vt.AnnotationEditorParamsType.FREETEXT_COLOR:Ut(this,Ft,nw).call(this,on);break}}static get defaultPropertiesToUpdate(){return[[vt.AnnotationEditorParamsType.FREETEXT_SIZE,Kt._defaultFontSize],[vt.AnnotationEditorParamsType.FREETEXT_COLOR,Kt._defaultColor||bt.AnnotationEditor._defaultLineColor]]}get propertiesToUpdate(){return[[vt.AnnotationEditorParamsType.FREETEXT_SIZE,wt(this,Lt)],[vt.AnnotationEditorParamsType.FREETEXT_COLOR,wt(this,Pt)]]}_translateEmpty(en,on){this._uiManager.translateSelectedEditors(en,on,!0)}getInitialTranslation(){const en=this.parentScale;return[-Kt._internalPadding*en,-(Kt._internalPadding+wt(this,Lt))*en]}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.isAttachedToDOM||this.parent.add(this)))}enableEditMode(){this.isInEditMode()||(this.parent.setEditingState(!1),this.parent.updateToolbar(vt.AnnotationEditorType.FREETEXT),super.enableEditMode(),this.overlayDiv.classList.remove("enabled"),this.editorDiv.contentEditable=!0,this._isDraggable=!1,this.div.removeAttribute("aria-activedescendant"),this.editorDiv.addEventListener("keydown",wt(this,Rt)),this.editorDiv.addEventListener("focus",wt(this,Ct)),this.editorDiv.addEventListener("blur",wt(this,_t)),this.editorDiv.addEventListener("input",wt(this,St)))}disableEditMode(){this.isInEditMode()&&(this.parent.setEditingState(!0),super.disableEditMode(),this.overlayDiv.classList.add("enabled"),this.editorDiv.contentEditable=!1,this.div.setAttribute("aria-activedescendant",wt(this,Mt)),this._isDraggable=!0,this.editorDiv.removeEventListener("keydown",wt(this,Rt)),this.editorDiv.removeEventListener("focus",wt(this,Ct)),this.editorDiv.removeEventListener("blur",wt(this,_t)),this.editorDiv.removeEventListener("input",wt(this,St)),this.div.focus({preventScroll:!0}),this.isEditing=!1,this.parent.div.classList.add("freeTextEditing"))}focusin(en){this._focusEventsAllowed&&(super.focusin(en),en.target!==this.editorDiv&&this.editorDiv.focus())}onceAdded(){var en;if(this.width){Ut(this,Ft,V1).call(this);return}this.enableEditMode(),this.editorDiv.focus(),(en=this._initialOptions)!=null&&en.isCentered&&this.center(),this._initialOptions=null}isEmpty(){return!this.editorDiv||this.editorDiv.innerText.trim()===""}remove(){this.isEditing=!1,this.parent&&(this.parent.setEditingState(!0),this.parent.div.classList.add("freeTextEditing")),super.remove()}commit(){if(!this.isInEditMode())return;super.commit(),this.disableEditMode();const en=wt(this,kt),on=Vt(this,kt,Ut(this,Ft,iw).call(this).trimEnd());if(en===on)return;const An=un=>{if(Vt(this,kt,un),!un){this.remove();return}Ut(this,Ft,z1).call(this),this._uiManager.rebuild(this),Ut(this,Ft,x0).call(this)};this.addCommands({cmd:()=>{An(on)},undo:()=>{An(en)},mustExec:!1}),Ut(this,Ft,x0).call(this)}shouldGetKeyboardEvents(){return this.isInEditMode()}enterInEditMode(){this.enableEditMode(),this.editorDiv.focus()}dblclick(en){this.enterInEditMode()}keydown(en){en.target===this.div&&en.key==="Enter"&&(this.enterInEditMode(),en.preventDefault())}editorDivKeydown(en){Kt._keyboardManager.exec(this,en)}editorDivFocus(en){this.isEditing=!0}editorDivBlur(en){this.isEditing=!1}editorDivInput(en){this.parent.div.classList.toggle("freeTextEditing",this.isEmpty())}disableEditing(){this.editorDiv.setAttribute("role","comment"),this.editorDiv.removeAttribute("aria-multiline")}enableEditing(){this.editorDiv.setAttribute("role","textbox"),this.editorDiv.setAttribute("aria-multiline",!0)}render(){if(this.div)return this.div;let en,on;this.width&&(en=this.x,on=this.y),super.render(),this.editorDiv=document.createElement("div"),this.editorDiv.className="internal",this.editorDiv.setAttribute("id",wt(this,Mt)),this.enableEditing(),bt.AnnotationEditor._l10nPromise.get("editor_free_text2_aria_label").then(un=>{var vn;return(vn=this.editorDiv)==null?void 0:vn.setAttribute("aria-label",un)}),bt.AnnotationEditor._l10nPromise.get("free_text2_default_content").then(un=>{var vn;return(vn=this.editorDiv)==null?void 0:vn.setAttribute("default-content",un)}),this.editorDiv.contentEditable=!0;const{style:An}=this.editorDiv;if(An.fontSize=`calc(${wt(this,Lt)}px * var(--scale-factor))`,An.color=wt(this,Pt),this.div.append(this.editorDiv),this.overlayDiv=document.createElement("div"),this.overlayDiv.classList.add("overlay","enabled"),this.div.append(this.overlayDiv),(0,xt.bindEvents)(this,this.div,["dblclick","keydown"]),this.width){const[un,vn]=this.parentDimensions;if(this.annotationElementId){const{position:an}=wt(this,$t);let[dn,tn]=this.getInitialTranslation();[dn,tn]=this.pageTranslationToScreen(dn,tn);const[gn,Sn]=this.pageDimensions,[rn,qt]=this.pageTranslation;let Yt,Jt;switch(this.rotation){case 0:Yt=en+(an[0]-rn)/gn,Jt=on+this.height-(an[1]-qt)/Sn;break;case 90:Yt=en+(an[0]-rn)/gn,Jt=on-(an[1]-qt)/Sn,[dn,tn]=[tn,-dn];break;case 180:Yt=en-this.width+(an[0]-rn)/gn,Jt=on-(an[1]-qt)/Sn,[dn,tn]=[-dn,-tn];break;case 270:Yt=en+(an[0]-rn-this.height*Sn)/gn,Jt=on+(an[1]-qt-this.width*gn)/Sn,[dn,tn]=[-tn,dn];break}this.setAt(Yt*un,Jt*vn,dn,tn)}else this.setAt(en*un,on*vn,this.width*un,this.height*vn);Ut(this,Ft,z1).call(this),this._isDraggable=!0,this.editorDiv.contentEditable=!1}else this._isDraggable=!1,this.editorDiv.contentEditable=!0;return this.div}get contentDiv(){return this.editorDiv}static deserialize(en,on,An){let un=null;if(en instanceof Et.FreeTextAnnotationElement){const{data:{defaultAppearanceData:{fontSize:an,fontColor:dn},rect:tn,rotation:gn,id:Sn},textContent:rn,textPosition:qt,parent:{page:{pageNumber:Yt}}}=en;if(!rn||rn.length===0)return null;un=en={annotationType:vt.AnnotationEditorType.FREETEXT,color:Array.from(dn),fontSize:an,value:rn.join(`
`),position:qt,pageIndex:Yt-1,rect:tn,rotation:gn,id:Sn,deleted:!1}}const vn=super.deserialize(en,on,An);return Vt(vn,Lt,en.fontSize),Vt(vn,Pt,vt.Util.makeHexColor(...en.color)),Vt(vn,kt,en.value),vn.annotationElementId=en.id||null,Vt(vn,$t,un),vn}serialize(en=!1){if(this.isEmpty())return null;if(this.deleted)return{pageIndex:this.pageIndex,id:this.annotationElementId,deleted:!0};const on=Kt._internalPadding*this.parentScale,An=this.getRect(on,on),un=bt.AnnotationEditor._colorManager.convert(this.isAttachedToDOM?getComputedStyle(this.editorDiv).color:wt(this,Pt)),vn={annotationType:vt.AnnotationEditorType.FREETEXT,color:un,fontSize:wt(this,Lt),value:wt(this,kt),pageIndex:this.pageIndex,rect:An,rotation:this.rotation,structTreeParentId:this._structTreeParentId};return en?vn:this.annotationElementId&&!Ut(this,Ft,rw).call(this,vn)?null:(vn.id=this.annotationElementId,vn)}};_t=new WeakMap,Ct=new WeakMap,St=new WeakMap,Rt=new WeakMap,Pt=new WeakMap,kt=new WeakMap,Mt=new WeakMap,Lt=new WeakMap,$t=new WeakMap,Ft=new WeakSet,tw=function(en){const on=un=>{this.editorDiv.style.fontSize=`calc(${un}px * var(--scale-factor))`,this.translate(0,-(un-wt(this,Lt))*this.parentScale),Vt(this,Lt,un),Ut(this,Ft,x0).call(this)},An=wt(this,Lt);this.addCommands({cmd:()=>{on(en)},undo:()=>{on(An)},mustExec:!0,type:vt.AnnotationEditorParamsType.FREETEXT_SIZE,overwriteIfSameType:!0,keepUndo:!0})},nw=function(en){const on=wt(this,Pt);this.addCommands({cmd:()=>{Vt(this,Pt,this.editorDiv.style.color=en)},undo:()=>{Vt(this,Pt,this.editorDiv.style.color=on)},mustExec:!0,type:vt.AnnotationEditorParamsType.FREETEXT_COLOR,overwriteIfSameType:!0,keepUndo:!0})},iw=function(){const en=this.editorDiv.getElementsByTagName("div");if(en.length===0)return this.editorDiv.innerText;const on=[];for(const An of en)on.push(An.innerText.replace(/\r\n?|\n/,""));return on.join(`
`)},x0=function(){const[en,on]=this.parentDimensions;let An;if(this.isAttachedToDOM)An=this.div.getBoundingClientRect();else{const{currentLayer:un,div:vn}=this,an=vn.style.display;vn.style.display="hidden",un.div.append(this.div),An=vn.getBoundingClientRect(),vn.remove(),vn.style.display=an}this.rotation%180===this.parentRotation%180?(this.width=An.width/en,this.height=An.height/on):(this.width=An.height/en,this.height=An.width/on),this.fixAndSetPosition()},z1=function(){if(this.editorDiv.replaceChildren(),!!wt(this,kt))for(const en of wt(this,kt).split(`
`)){const on=document.createElement("div");on.append(en?document.createTextNode(en):document.createElement("br")),this.editorDiv.append(on)}},rw=function(en){const{value:on,fontSize:An,color:un,rect:vn,pageIndex:an}=wt(this,$t);return en.value!==on||en.fontSize!==An||en.rect.some((dn,tn)=>Math.abs(dn-vn[tn])>=1)||en.color.some((dn,tn)=>dn!==un[tn])||en.pageIndex!==an},V1=function(en=!1){if(!this.annotationElementId)return;if(Ut(this,Ft,x0).call(this),!en&&(this.width===0||this.height===0)){setTimeout(()=>Ut(this,Ft,V1).call(this,!0),0);return}const on=Kt._internalPadding*this.parentScale;wt(this,$t).rect=this.getRect(on,on)},_r(Kt,"_freeTextDefaultContent",""),_r(Kt,"_internalPadding",0),_r(Kt,"_defaultColor",null),_r(Kt,"_defaultFontSize",10),_r(Kt,"_type","freetext");let At=Kt;$.FreeTextEditor=At},(ht,$,_e)=>{var Jt,cn,Yu,sw,jn,Un,zn,Gn,Yn,Zn,Dn,$n,sn,mn,Pn,Nn,Vn,Qn,qn,Tn,or,nr,ow,By,W1,G1,wr,Ur,is,Xn,kn,Fn,dr,X1,Tr,yn,Wn,sr,aw,q1;Object.defineProperty($,"__esModule",{value:!0}),$.StampAnnotationElement=$.InkAnnotationElement=$.FreeTextAnnotationElement=$.AnnotationLayer=void 0;var vt=_e(1),xt=_e(6),bt=_e(3),Et=_e(30),At=_e(31),_t=_e(32);const Ct=1e3,St=9,Rt=new WeakSet;function Pt(ur){return{width:ur[2]-ur[0],height:ur[3]-ur[1]}}class kt{static create(pn){switch(pn.data.annotationType){case vt.AnnotationType.LINK:return new Lt(pn);case vt.AnnotationType.TEXT:return new $t(pn);case vt.AnnotationType.WIDGET:switch(pn.data.fieldType){case"Tx":return new Dt(pn);case"Btn":return pn.data.radioButton?new Ot(pn):pn.data.checkBox?new Ht(pn):new Bt(pn);case"Ch":return new jt(pn);case"Sig":return new Nt(pn)}return new Ft(pn);case vt.AnnotationType.POPUP:return new zt(pn);case vt.AnnotationType.FREETEXT:return new nn(pn);case vt.AnnotationType.LINE:return new Xt(pn);case vt.AnnotationType.SQUARE:return new en(pn);case vt.AnnotationType.CIRCLE:return new on(pn);case vt.AnnotationType.POLYLINE:return new An(pn);case vt.AnnotationType.CARET:return new vn(pn);case vt.AnnotationType.INK:return new an(pn);case vt.AnnotationType.POLYGON:return new un(pn);case vt.AnnotationType.HIGHLIGHT:return new dn(pn);case vt.AnnotationType.UNDERLINE:return new tn(pn);case vt.AnnotationType.SQUIGGLY:return new gn(pn);case vt.AnnotationType.STRIKEOUT:return new Sn(pn);case vt.AnnotationType.STAMP:return new rn(pn);case vt.AnnotationType.FILEATTACHMENT:return new qt(pn);default:return new Mt(pn)}}}const hn=class hn{constructor(pn,{isRenderable:ln=!1,ignoreBorder:_n=!1,createQuadrilaterals:Hn=!1}={}){Gt(this,Jt,!1);this.isRenderable=ln,this.data=pn.data,this.layer=pn.layer,this.linkService=pn.linkService,this.downloadManager=pn.downloadManager,this.imageResourcesPath=pn.imageResourcesPath,this.renderForms=pn.renderForms,this.svgFactory=pn.svgFactory,this.annotationStorage=pn.annotationStorage,this.enableScripting=pn.enableScripting,this.hasJSActions=pn.hasJSActions,this._fieldObjects=pn.fieldObjects,this.parent=pn.parent,ln&&(this.container=this._createContainer(_n)),Hn&&this._createQuadrilaterals()}static _hasPopupData({titleObj:pn,contentsObj:ln,richText:_n}){return!!(pn!=null&&pn.str||ln!=null&&ln.str||_n!=null&&_n.str)}get hasPopupData(){return hn._hasPopupData(this.data)}_createContainer(pn){const{data:ln,parent:{page:_n,viewport:Hn}}=this,Bn=document.createElement("section");Bn.setAttribute("data-annotation-id",ln.id),this instanceof Ft||(Bn.tabIndex=Ct),Bn.style.zIndex=this.parent.zIndex++,this.data.popupRef&&Bn.setAttribute("aria-haspopup","dialog"),ln.noRotate&&Bn.classList.add("norotate");const{pageWidth:Kn,pageHeight:tr,pageX:vr,pageY:fr}=Hn.rawDims;if(!ln.rect||this instanceof zt){const{rotation:Dr}=ln;return!ln.hasOwnCanvas&&Dr!==0&&this.setRotation(Dr,Bn),Bn}const{width:lr,height:Hr}=Pt(ln.rect),pr=vt.Util.normalizeRect([ln.rect[0],_n.view[3]-ln.rect[1]+_n.view[1],ln.rect[2],_n.view[3]-ln.rect[3]+_n.view[1]]);if(!pn&&ln.borderStyle.width>0){Bn.style.borderWidth=`${ln.borderStyle.width}px`;const Dr=ln.borderStyle.horizontalCornerRadius,Wr=ln.borderStyle.verticalCornerRadius;if(Dr>0||Wr>0){const hs=`calc(${Dr}px * var(--scale-factor)) / calc(${Wr}px * var(--scale-factor))`;Bn.style.borderRadius=hs}else if(this instanceof Ot){const hs=`calc(${lr}px * var(--scale-factor)) / calc(${Hr}px * var(--scale-factor))`;Bn.style.borderRadius=hs}switch(ln.borderStyle.style){case vt.AnnotationBorderStyleType.SOLID:Bn.style.borderStyle="solid";break;case vt.AnnotationBorderStyleType.DASHED:Bn.style.borderStyle="dashed";break;case vt.AnnotationBorderStyleType.BEVELED:(0,vt.warn)("Unimplemented border style: beveled");break;case vt.AnnotationBorderStyleType.INSET:(0,vt.warn)("Unimplemented border style: inset");break;case vt.AnnotationBorderStyleType.UNDERLINE:Bn.style.borderBottomStyle="solid";break}const es=ln.borderColor||null;es?(Vt(this,Jt,!0),Bn.style.borderColor=vt.Util.makeHexColor(es[0]|0,es[1]|0,es[2]|0)):Bn.style.borderWidth=0}Bn.style.left=`${100*(pr[0]-vr)/Kn}%`,Bn.style.top=`${100*(pr[1]-fr)/tr}%`;const{rotation:br}=ln;return ln.hasOwnCanvas||br===0?(Bn.style.width=`${100*lr/Kn}%`,Bn.style.height=`${100*Hr/tr}%`):this.setRotation(br,Bn),Bn}setRotation(pn,ln=this.container){if(!this.data.rect)return;const{pageWidth:_n,pageHeight:Hn}=this.parent.viewport.rawDims,{width:Bn,height:Kn}=Pt(this.data.rect);let tr,vr;pn%180===0?(tr=100*Bn/_n,vr=100*Kn/Hn):(tr=100*Kn/_n,vr=100*Bn/Hn),ln.style.width=`${tr}%`,ln.style.height=`${vr}%`,ln.setAttribute("data-main-rotation",(360-pn)%360)}get _commonActions(){const pn=(ln,_n,Hn)=>{const Bn=Hn.detail[ln],Kn=Bn[0],tr=Bn.slice(1);Hn.target.style[_n]=Et.ColorConverters[`${Kn}_HTML`](tr),this.annotationStorage.setValue(this.data.id,{[_n]:Et.ColorConverters[`${Kn}_rgb`](tr)})};return(0,vt.shadow)(this,"_commonActions",{display:ln=>{const{display:_n}=ln.detail,Hn=_n%2===1;this.container.style.visibility=Hn?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noView:Hn,noPrint:_n===1||_n===2})},print:ln=>{this.annotationStorage.setValue(this.data.id,{noPrint:!ln.detail.print})},hidden:ln=>{const{hidden:_n}=ln.detail;this.container.style.visibility=_n?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noPrint:_n,noView:_n})},focus:ln=>{setTimeout(()=>ln.target.focus({preventScroll:!1}),0)},userName:ln=>{ln.target.title=ln.detail.userName},readonly:ln=>{ln.target.disabled=ln.detail.readonly},required:ln=>{this._setRequired(ln.target,ln.detail.required)},bgColor:ln=>{pn("bgColor","backgroundColor",ln)},fillColor:ln=>{pn("fillColor","backgroundColor",ln)},fgColor:ln=>{pn("fgColor","color",ln)},textColor:ln=>{pn("textColor","color",ln)},borderColor:ln=>{pn("borderColor","borderColor",ln)},strokeColor:ln=>{pn("strokeColor","borderColor",ln)},rotation:ln=>{const _n=ln.detail.rotation;this.setRotation(_n),this.annotationStorage.setValue(this.data.id,{rotation:_n})}})}_dispatchEventFromSandbox(pn,ln){const _n=this._commonActions;for(const Hn of Object.keys(ln.detail)){const Bn=pn[Hn]||_n[Hn];Bn==null||Bn(ln)}}_setDefaultPropertiesFromJS(pn){if(!this.enableScripting)return;const ln=this.annotationStorage.getRawValue(this.data.id);if(!ln)return;const _n=this._commonActions;for(const[Hn,Bn]of Object.entries(ln)){const Kn=_n[Hn];if(Kn){const tr={detail:{[Hn]:Bn},target:pn};Kn(tr),delete ln[Hn]}}}_createQuadrilaterals(){if(!this.container)return;const{quadPoints:pn}=this.data;if(!pn)return;const[ln,_n,Hn,Bn]=this.data.rect;if(pn.length===1){const[,{x:Wr,y:es},{x:hs,y:Hs}]=pn[0];if(Hn===Wr&&Bn===es&&ln===hs&&_n===Hs)return}const{style:Kn}=this.container;let tr;if(wt(this,Jt)){const{borderColor:Wr,borderWidth:es}=Kn;Kn.borderWidth=0,tr=["url('data:image/svg+xml;utf8,",'<svg xmlns="http://www.w3.org/2000/svg"',' preserveAspectRatio="none" viewBox="0 0 1 1">',`<g fill="transparent" stroke="${Wr}" stroke-width="${es}">`],this.container.classList.add("hasBorder")}const vr=Hn-ln,fr=Bn-_n,{svgFactory:lr}=this,Hr=lr.createElement("svg");Hr.classList.add("quadrilateralsContainer"),Hr.setAttribute("width",0),Hr.setAttribute("height",0);const pr=lr.createElement("defs");Hr.append(pr);const br=lr.createElement("clipPath"),Dr=`clippath_${this.data.id}`;br.setAttribute("id",Dr),br.setAttribute("clipPathUnits","objectBoundingBox"),pr.append(br);for(const[,{x:Wr,y:es},{x:hs,y:Hs}]of pn){const ks=lr.createElement("rect"),jo=(hs-ln)/vr,na=(Bn-es)/fr,ga=(Wr-hs)/vr,ny=(es-Hs)/fr;ks.setAttribute("x",jo),ks.setAttribute("y",na),ks.setAttribute("width",ga),ks.setAttribute("height",ny),br.append(ks),tr==null||tr.push(`<rect vector-effect="non-scaling-stroke" x="${jo}" y="${na}" width="${ga}" height="${ny}"/>`)}wt(this,Jt)&&(tr.push("</g></svg>')"),Kn.backgroundImage=tr.join("")),this.container.append(Hr),this.container.style.clipPath=`url(#${Dr})`}_createPopup(){const{container:pn,data:ln}=this;pn.setAttribute("aria-haspopup","dialog");const _n=new zt({data:{color:ln.color,titleObj:ln.titleObj,modificationDate:ln.modificationDate,contentsObj:ln.contentsObj,richText:ln.richText,parentRect:ln.rect,borderStyle:0,id:`popup_${ln.id}`,rotation:ln.rotation},parent:this.parent,elements:[this]});this.parent.div.append(_n.render())}render(){(0,vt.unreachable)("Abstract method `AnnotationElement.render` called")}_getElementsByName(pn,ln=null){const _n=[];if(this._fieldObjects){const Hn=this._fieldObjects[pn];if(Hn)for(const{page:Bn,id:Kn,exportValues:tr}of Hn){if(Bn===-1||Kn===ln)continue;const vr=typeof tr=="string"?tr:null,fr=document.querySelector(`[data-element-id="${Kn}"]`);if(fr&&!Rt.has(fr)){(0,vt.warn)(`_getElementsByName - element not allowed: ${Kn}`);continue}_n.push({id:Kn,exportValue:vr,domElement:fr})}return _n}for(const Hn of document.getElementsByName(pn)){const{exportValue:Bn}=Hn,Kn=Hn.getAttribute("data-element-id");Kn!==ln&&Rt.has(Hn)&&_n.push({id:Kn,exportValue:Bn,domElement:Hn})}return _n}show(){var pn;this.container&&(this.container.hidden=!1),(pn=this.popup)==null||pn.maybeShow()}hide(){var pn;this.container&&(this.container.hidden=!0),(pn=this.popup)==null||pn.forceHide()}getElementsToTriggerPopup(){return this.container}addHighlightArea(){const pn=this.getElementsToTriggerPopup();if(Array.isArray(pn))for(const ln of pn)ln.classList.add("highlightArea");else pn.classList.add("highlightArea")}_editOnDoubleClick(){const{annotationEditorType:pn,data:{id:ln}}=this;this.container.addEventListener("dblclick",()=>{var _n;(_n=this.linkService.eventBus)==null||_n.dispatch("switchannotationeditormode",{source:this,mode:pn,editId:ln})})}};Jt=new WeakMap;let Mt=hn;class Lt extends Mt{constructor(ln,_n=null){super(ln,{isRenderable:!0,ignoreBorder:!!(_n!=null&&_n.ignoreBorder),createQuadrilaterals:!0});Gt(this,cn);this.isTooltipOnly=ln.data.isTooltipOnly}render(){const{data:ln,linkService:_n}=this,Hn=document.createElement("a");Hn.setAttribute("data-element-id",ln.id);let Bn=!1;return ln.url?(_n.addLinkAttributes(Hn,ln.url,ln.newWindow),Bn=!0):ln.action?(this._bindNamedAction(Hn,ln.action),Bn=!0):ln.attachment?(this._bindAttachment(Hn,ln.attachment),Bn=!0):ln.setOCGState?(Ut(this,cn,sw).call(this,Hn,ln.setOCGState),Bn=!0):ln.dest?(this._bindLink(Hn,ln.dest),Bn=!0):(ln.actions&&(ln.actions.Action||ln.actions["Mouse Up"]||ln.actions["Mouse Down"])&&this.enableScripting&&this.hasJSActions&&(this._bindJSAction(Hn,ln),Bn=!0),ln.resetForm?(this._bindResetFormAction(Hn,ln.resetForm),Bn=!0):this.isTooltipOnly&&!Bn&&(this._bindLink(Hn,""),Bn=!0)),this.container.classList.add("linkAnnotation"),Bn&&this.container.append(Hn),this.container}_bindLink(ln,_n){ln.href=this.linkService.getDestinationHash(_n),ln.onclick=()=>(_n&&this.linkService.goToDestination(_n),!1),(_n||_n==="")&&Ut(this,cn,Yu).call(this)}_bindNamedAction(ln,_n){ln.href=this.linkService.getAnchorUrl(""),ln.onclick=()=>(this.linkService.executeNamedAction(_n),!1),Ut(this,cn,Yu).call(this)}_bindAttachment(ln,_n){ln.href=this.linkService.getAnchorUrl(""),ln.onclick=()=>{var Hn;return(Hn=this.downloadManager)==null||Hn.openOrDownloadData(this.container,_n.content,_n.filename),!1},Ut(this,cn,Yu).call(this)}_bindJSAction(ln,_n){ln.href=this.linkService.getAnchorUrl("");const Hn=new Map([["Action","onclick"],["Mouse Up","onmouseup"],["Mouse Down","onmousedown"]]);for(const Bn of Object.keys(_n.actions)){const Kn=Hn.get(Bn);Kn&&(ln[Kn]=()=>{var tr;return(tr=this.linkService.eventBus)==null||tr.dispatch("dispatcheventinsandbox",{source:this,detail:{id:_n.id,name:Bn}}),!1})}ln.onclick||(ln.onclick=()=>!1),Ut(this,cn,Yu).call(this)}_bindResetFormAction(ln,_n){const Hn=ln.onclick;if(Hn||(ln.href=this.linkService.getAnchorUrl("")),Ut(this,cn,Yu).call(this),!this._fieldObjects){(0,vt.warn)('_bindResetFormAction - "resetForm" action not supported, ensure that the `fieldObjects` parameter is provided.'),Hn||(ln.onclick=()=>!1);return}ln.onclick=()=>{var Hr;Hn==null||Hn();const{fields:Bn,refs:Kn,include:tr}=_n,vr=[];if(Bn.length!==0||Kn.length!==0){const pr=new Set(Kn);for(const br of Bn){const Dr=this._fieldObjects[br]||[];for(const{id:Wr}of Dr)pr.add(Wr)}for(const br of Object.values(this._fieldObjects))for(const Dr of br)pr.has(Dr.id)===tr&&vr.push(Dr)}else for(const pr of Object.values(this._fieldObjects))vr.push(...pr);const fr=this.annotationStorage,lr=[];for(const pr of vr){const{id:br}=pr;switch(lr.push(br),pr.type){case"text":{const Wr=pr.defaultValue||"";fr.setValue(br,{value:Wr});break}case"checkbox":case"radiobutton":{const Wr=pr.defaultValue===pr.exportValues;fr.setValue(br,{value:Wr});break}case"combobox":case"listbox":{const Wr=pr.defaultValue||"";fr.setValue(br,{value:Wr});break}default:continue}const Dr=document.querySelector(`[data-element-id="${br}"]`);if(Dr){if(!Rt.has(Dr)){(0,vt.warn)(`_bindResetFormAction - element not allowed: ${br}`);continue}}else continue;Dr.dispatchEvent(new Event("resetform"))}return this.enableScripting&&((Hr=this.linkService.eventBus)==null||Hr.dispatch("dispatcheventinsandbox",{source:this,detail:{id:"app",ids:lr,name:"ResetForm"}})),!1}}}cn=new WeakSet,Yu=function(){this.container.setAttribute("data-internal-link","")},sw=function(ln,_n){ln.href=this.linkService.getAnchorUrl(""),ln.onclick=()=>(this.linkService.executeSetOCGState(_n),!1),Ut(this,cn,Yu).call(this)};class $t extends Mt{constructor(pn){super(pn,{isRenderable:!0})}render(){this.container.classList.add("textAnnotation");const pn=document.createElement("img");return pn.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",pn.alt="[{{type}} Annotation]",pn.dataset.l10nId="text_annotation_type",pn.dataset.l10nArgs=JSON.stringify({type:this.data.name}),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.append(pn),this.container}}class Ft extends Mt{render(){return this.data.alternativeText&&(this.container.title=this.data.alternativeText),this.container}showElementAndHideCanvas(pn){var ln;this.data.hasOwnCanvas&&(((ln=pn.previousSibling)==null?void 0:ln.nodeName)==="CANVAS"&&(pn.previousSibling.hidden=!0),pn.hidden=!1)}_getKeyModifier(pn){const{isWin:ln,isMac:_n}=vt.FeatureTest.platform;return ln&&pn.ctrlKey||_n&&pn.metaKey}_setEventListener(pn,ln,_n,Hn,Bn){_n.includes("mouse")?pn.addEventListener(_n,Kn=>{var tr;(tr=this.linkService.eventBus)==null||tr.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:Hn,value:Bn(Kn),shift:Kn.shiftKey,modifier:this._getKeyModifier(Kn)}})}):pn.addEventListener(_n,Kn=>{var tr;if(_n==="blur"){if(!ln.focused||!Kn.relatedTarget)return;ln.focused=!1}else if(_n==="focus"){if(ln.focused)return;ln.focused=!0}Bn&&((tr=this.linkService.eventBus)==null||tr.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:Hn,value:Bn(Kn)}}))})}_setEventListeners(pn,ln,_n,Hn){var Bn,Kn,tr;for(const[vr,fr]of _n)(fr==="Action"||(Bn=this.data.actions)!=null&&Bn[fr])&&((fr==="Focus"||fr==="Blur")&&(ln||(ln={focused:!1})),this._setEventListener(pn,ln,vr,fr,Hn),fr==="Focus"&&!((Kn=this.data.actions)!=null&&Kn.Blur)?this._setEventListener(pn,ln,"blur","Blur",null):fr==="Blur"&&!((tr=this.data.actions)!=null&&tr.Focus)&&this._setEventListener(pn,ln,"focus","Focus",null))}_setBackgroundColor(pn){const ln=this.data.backgroundColor||null;pn.style.backgroundColor=ln===null?"transparent":vt.Util.makeHexColor(ln[0],ln[1],ln[2])}_setTextStyle(pn){const ln=["left","center","right"],{fontColor:_n}=this.data.defaultAppearanceData,Hn=this.data.defaultAppearanceData.fontSize||St,Bn=pn.style;let Kn;const tr=2,vr=fr=>Math.round(10*fr)/10;if(this.data.multiLine){const fr=Math.abs(this.data.rect[3]-this.data.rect[1]-tr),lr=Math.round(fr/(vt.LINE_FACTOR*Hn))||1,Hr=fr/lr;Kn=Math.min(Hn,vr(Hr/vt.LINE_FACTOR))}else{const fr=Math.abs(this.data.rect[3]-this.data.rect[1]-tr);Kn=Math.min(Hn,vr(fr/vt.LINE_FACTOR))}Bn.fontSize=`calc(${Kn}px * var(--scale-factor))`,Bn.color=vt.Util.makeHexColor(_n[0],_n[1],_n[2]),this.data.textAlignment!==null&&(Bn.textAlign=ln[this.data.textAlignment])}_setRequired(pn,ln){ln?pn.setAttribute("required",!0):pn.removeAttribute("required"),pn.setAttribute("aria-required",ln)}}class Dt extends Ft{constructor(pn){const ln=pn.renderForms||!pn.data.hasAppearance&&!!pn.data.fieldValue;super(pn,{isRenderable:ln})}setPropertyOnSiblings(pn,ln,_n,Hn){const Bn=this.annotationStorage;for(const Kn of this._getElementsByName(pn.name,pn.id))Kn.domElement&&(Kn.domElement[ln]=_n),Bn.setValue(Kn.id,{[Hn]:_n})}render(){var Hn,Bn;const pn=this.annotationStorage,ln=this.data.id;this.container.classList.add("textWidgetAnnotation");let _n=null;if(this.renderForms){const Kn=pn.getValue(ln,{value:this.data.fieldValue});let tr=Kn.value||"";const vr=pn.getValue(ln,{charLimit:this.data.maxLen}).charLimit;vr&&tr.length>vr&&(tr=tr.slice(0,vr));let fr=Kn.formattedValue||((Hn=this.data.textContent)==null?void 0:Hn.join(`
`))||null;fr&&this.data.comb&&(fr=fr.replaceAll(/\s+/g,""));const lr={userValue:tr,formattedValue:fr,lastCommittedValue:null,commitKey:1,focused:!1};this.data.multiLine?(_n=document.createElement("textarea"),_n.textContent=fr??tr,this.data.doNotScroll&&(_n.style.overflowY="hidden")):(_n=document.createElement("input"),_n.type="text",_n.setAttribute("value",fr??tr),this.data.doNotScroll&&(_n.style.overflowX="hidden")),this.data.hasOwnCanvas&&(_n.hidden=!0),Rt.add(_n),_n.setAttribute("data-element-id",ln),_n.disabled=this.data.readOnly,_n.name=this.data.fieldName,_n.tabIndex=Ct,this._setRequired(_n,this.data.required),vr&&(_n.maxLength=vr),_n.addEventListener("input",pr=>{pn.setValue(ln,{value:pr.target.value}),this.setPropertyOnSiblings(_n,"value",pr.target.value,"value"),lr.formattedValue=null}),_n.addEventListener("resetform",pr=>{const br=this.data.defaultFieldValue??"";_n.value=lr.userValue=br,lr.formattedValue=null});let Hr=pr=>{const{formattedValue:br}=lr;br!=null&&(pr.target.value=br),pr.target.scrollLeft=0};if(this.enableScripting&&this.hasJSActions){_n.addEventListener("focus",br=>{if(lr.focused)return;const{target:Dr}=br;lr.userValue&&(Dr.value=lr.userValue),lr.lastCommittedValue=Dr.value,lr.commitKey=1,lr.focused=!0}),_n.addEventListener("updatefromsandbox",br=>{this.showElementAndHideCanvas(br.target);const Dr={value(Wr){lr.userValue=Wr.detail.value??"",pn.setValue(ln,{value:lr.userValue.toString()}),Wr.target.value=lr.userValue},formattedValue(Wr){const{formattedValue:es}=Wr.detail;lr.formattedValue=es,es!=null&&Wr.target!==document.activeElement&&(Wr.target.value=es),pn.setValue(ln,{formattedValue:es})},selRange(Wr){Wr.target.setSelectionRange(...Wr.detail.selRange)},charLimit:Wr=>{var ks;const{charLimit:es}=Wr.detail,{target:hs}=Wr;if(es===0){hs.removeAttribute("maxLength");return}hs.setAttribute("maxLength",es);let Hs=lr.userValue;!Hs||Hs.length<=es||(Hs=Hs.slice(0,es),hs.value=lr.userValue=Hs,pn.setValue(ln,{value:Hs}),(ks=this.linkService.eventBus)==null||ks.dispatch("dispatcheventinsandbox",{source:this,detail:{id:ln,name:"Keystroke",value:Hs,willCommit:!0,commitKey:1,selStart:hs.selectionStart,selEnd:hs.selectionEnd}}))}};this._dispatchEventFromSandbox(Dr,br)}),_n.addEventListener("keydown",br=>{var es;lr.commitKey=1;let Dr=-1;if(br.key==="Escape"?Dr=0:br.key==="Enter"&&!this.data.multiLine?Dr=2:br.key==="Tab"&&(lr.commitKey=3),Dr===-1)return;const{value:Wr}=br.target;lr.lastCommittedValue!==Wr&&(lr.lastCommittedValue=Wr,lr.userValue=Wr,(es=this.linkService.eventBus)==null||es.dispatch("dispatcheventinsandbox",{source:this,detail:{id:ln,name:"Keystroke",value:Wr,willCommit:!0,commitKey:Dr,selStart:br.target.selectionStart,selEnd:br.target.selectionEnd}}))});const pr=Hr;Hr=null,_n.addEventListener("blur",br=>{var Wr;if(!lr.focused||!br.relatedTarget)return;lr.focused=!1;const{value:Dr}=br.target;lr.userValue=Dr,lr.lastCommittedValue!==Dr&&((Wr=this.linkService.eventBus)==null||Wr.dispatch("dispatcheventinsandbox",{source:this,detail:{id:ln,name:"Keystroke",value:Dr,willCommit:!0,commitKey:lr.commitKey,selStart:br.target.selectionStart,selEnd:br.target.selectionEnd}})),pr(br)}),(Bn=this.data.actions)!=null&&Bn.Keystroke&&_n.addEventListener("beforeinput",br=>{var na;lr.lastCommittedValue=null;const{data:Dr,target:Wr}=br,{value:es,selectionStart:hs,selectionEnd:Hs}=Wr;let ks=hs,jo=Hs;switch(br.inputType){case"deleteWordBackward":{const ga=es.substring(0,hs).match(/\w*[^\w]*$/);ga&&(ks-=ga[0].length);break}case"deleteWordForward":{const ga=es.substring(hs).match(/^[^\w]*\w*/);ga&&(jo+=ga[0].length);break}case"deleteContentBackward":hs===Hs&&(ks-=1);break;case"deleteContentForward":hs===Hs&&(jo+=1);break}br.preventDefault(),(na=this.linkService.eventBus)==null||na.dispatch("dispatcheventinsandbox",{source:this,detail:{id:ln,name:"Keystroke",value:es,change:Dr||"",willCommit:!1,selStart:ks,selEnd:jo}})}),this._setEventListeners(_n,lr,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],br=>br.target.value)}if(Hr&&_n.addEventListener("blur",Hr),this.data.comb){const br=(this.data.rect[2]-this.data.rect[0])/vr;_n.classList.add("comb"),_n.style.letterSpacing=`calc(${br}px * var(--scale-factor) - 1ch)`}}else _n=document.createElement("div"),_n.textContent=this.data.fieldValue,_n.style.verticalAlign="middle",_n.style.display="table-cell";return this._setTextStyle(_n),this._setBackgroundColor(_n),this._setDefaultPropertiesFromJS(_n),this.container.append(_n),this.container}}class Nt extends Ft{constructor(pn){super(pn,{isRenderable:!!pn.data.hasOwnCanvas})}}class Ht extends Ft{constructor(pn){super(pn,{isRenderable:pn.renderForms})}render(){const pn=this.annotationStorage,ln=this.data,_n=ln.id;let Hn=pn.getValue(_n,{value:ln.exportValue===ln.fieldValue}).value;typeof Hn=="string"&&(Hn=Hn!=="Off",pn.setValue(_n,{value:Hn})),this.container.classList.add("buttonWidgetAnnotation","checkBox");const Bn=document.createElement("input");return Rt.add(Bn),Bn.setAttribute("data-element-id",_n),Bn.disabled=ln.readOnly,this._setRequired(Bn,this.data.required),Bn.type="checkbox",Bn.name=ln.fieldName,Hn&&Bn.setAttribute("checked",!0),Bn.setAttribute("exportValue",ln.exportValue),Bn.tabIndex=Ct,Bn.addEventListener("change",Kn=>{const{name:tr,checked:vr}=Kn.target;for(const fr of this._getElementsByName(tr,_n)){const lr=vr&&fr.exportValue===ln.exportValue;fr.domElement&&(fr.domElement.checked=lr),pn.setValue(fr.id,{value:lr})}pn.setValue(_n,{value:vr})}),Bn.addEventListener("resetform",Kn=>{const tr=ln.defaultFieldValue||"Off";Kn.target.checked=tr===ln.exportValue}),this.enableScripting&&this.hasJSActions&&(Bn.addEventListener("updatefromsandbox",Kn=>{const tr={value(vr){vr.target.checked=vr.detail.value!=="Off",pn.setValue(_n,{value:vr.target.checked})}};this._dispatchEventFromSandbox(tr,Kn)}),this._setEventListeners(Bn,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],Kn=>Kn.target.checked)),this._setBackgroundColor(Bn),this._setDefaultPropertiesFromJS(Bn),this.container.append(Bn),this.container}}class Ot extends Ft{constructor(pn){super(pn,{isRenderable:pn.renderForms})}render(){this.container.classList.add("buttonWidgetAnnotation","radioButton");const pn=this.annotationStorage,ln=this.data,_n=ln.id;let Hn=pn.getValue(_n,{value:ln.fieldValue===ln.buttonValue}).value;typeof Hn=="string"&&(Hn=Hn!==ln.buttonValue,pn.setValue(_n,{value:Hn}));const Bn=document.createElement("input");if(Rt.add(Bn),Bn.setAttribute("data-element-id",_n),Bn.disabled=ln.readOnly,this._setRequired(Bn,this.data.required),Bn.type="radio",Bn.name=ln.fieldName,Hn&&Bn.setAttribute("checked",!0),Bn.tabIndex=Ct,Bn.addEventListener("change",Kn=>{const{name:tr,checked:vr}=Kn.target;for(const fr of this._getElementsByName(tr,_n))pn.setValue(fr.id,{value:!1});pn.setValue(_n,{value:vr})}),Bn.addEventListener("resetform",Kn=>{const tr=ln.defaultFieldValue;Kn.target.checked=tr!=null&&tr===ln.buttonValue}),this.enableScripting&&this.hasJSActions){const Kn=ln.buttonValue;Bn.addEventListener("updatefromsandbox",tr=>{const vr={value:fr=>{const lr=Kn===fr.detail.value;for(const Hr of this._getElementsByName(fr.target.name)){const pr=lr&&Hr.id===_n;Hr.domElement&&(Hr.domElement.checked=pr),pn.setValue(Hr.id,{value:pr})}}};this._dispatchEventFromSandbox(vr,tr)}),this._setEventListeners(Bn,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],tr=>tr.target.checked)}return this._setBackgroundColor(Bn),this._setDefaultPropertiesFromJS(Bn),this.container.append(Bn),this.container}}class Bt extends Lt{constructor(pn){super(pn,{ignoreBorder:pn.data.hasAppearance})}render(){const pn=super.render();pn.classList.add("buttonWidgetAnnotation","pushButton"),this.data.alternativeText&&(pn.title=this.data.alternativeText);const ln=pn.lastChild;return this.enableScripting&&this.hasJSActions&&ln&&(this._setDefaultPropertiesFromJS(ln),ln.addEventListener("updatefromsandbox",_n=>{this._dispatchEventFromSandbox({},_n)})),pn}}class jt extends Ft{constructor(pn){super(pn,{isRenderable:pn.renderForms})}render(){this.container.classList.add("choiceWidgetAnnotation");const pn=this.annotationStorage,ln=this.data.id,_n=pn.getValue(ln,{value:this.data.fieldValue}),Hn=document.createElement("select");Rt.add(Hn),Hn.setAttribute("data-element-id",ln),Hn.disabled=this.data.readOnly,this._setRequired(Hn,this.data.required),Hn.name=this.data.fieldName,Hn.tabIndex=Ct;let Bn=this.data.combo&&this.data.options.length>0;this.data.combo||(Hn.size=this.data.options.length,this.data.multiSelect&&(Hn.multiple=!0)),Hn.addEventListener("resetform",lr=>{const Hr=this.data.defaultFieldValue;for(const pr of Hn.options)pr.selected=pr.value===Hr});for(const lr of this.data.options){const Hr=document.createElement("option");Hr.textContent=lr.displayValue,Hr.value=lr.exportValue,_n.value.includes(lr.exportValue)&&(Hr.setAttribute("selected",!0),Bn=!1),Hn.append(Hr)}let Kn=null;if(Bn){const lr=document.createElement("option");lr.value=" ",lr.setAttribute("hidden",!0),lr.setAttribute("selected",!0),Hn.prepend(lr),Kn=()=>{lr.remove(),Hn.removeEventListener("input",Kn),Kn=null},Hn.addEventListener("input",Kn)}const tr=lr=>{const Hr=lr?"value":"textContent",{options:pr,multiple:br}=Hn;return br?Array.prototype.filter.call(pr,Dr=>Dr.selected).map(Dr=>Dr[Hr]):pr.selectedIndex===-1?null:pr[pr.selectedIndex][Hr]};let vr=tr(!1);const fr=lr=>{const Hr=lr.target.options;return Array.prototype.map.call(Hr,pr=>({displayValue:pr.textContent,exportValue:pr.value}))};return this.enableScripting&&this.hasJSActions?(Hn.addEventListener("updatefromsandbox",lr=>{const Hr={value(pr){Kn==null||Kn();const br=pr.detail.value,Dr=new Set(Array.isArray(br)?br:[br]);for(const Wr of Hn.options)Wr.selected=Dr.has(Wr.value);pn.setValue(ln,{value:tr(!0)}),vr=tr(!1)},multipleSelection(pr){Hn.multiple=!0},remove(pr){const br=Hn.options,Dr=pr.detail.remove;br[Dr].selected=!1,Hn.remove(Dr),br.length>0&&Array.prototype.findIndex.call(br,es=>es.selected)===-1&&(br[0].selected=!0),pn.setValue(ln,{value:tr(!0),items:fr(pr)}),vr=tr(!1)},clear(pr){for(;Hn.length!==0;)Hn.remove(0);pn.setValue(ln,{value:null,items:[]}),vr=tr(!1)},insert(pr){const{index:br,displayValue:Dr,exportValue:Wr}=pr.detail.insert,es=Hn.children[br],hs=document.createElement("option");hs.textContent=Dr,hs.value=Wr,es?es.before(hs):Hn.append(hs),pn.setValue(ln,{value:tr(!0),items:fr(pr)}),vr=tr(!1)},items(pr){const{items:br}=pr.detail;for(;Hn.length!==0;)Hn.remove(0);for(const Dr of br){const{displayValue:Wr,exportValue:es}=Dr,hs=document.createElement("option");hs.textContent=Wr,hs.value=es,Hn.append(hs)}Hn.options.length>0&&(Hn.options[0].selected=!0),pn.setValue(ln,{value:tr(!0),items:fr(pr)}),vr=tr(!1)},indices(pr){const br=new Set(pr.detail.indices);for(const Dr of pr.target.options)Dr.selected=br.has(Dr.index);pn.setValue(ln,{value:tr(!0)}),vr=tr(!1)},editable(pr){pr.target.disabled=!pr.detail.editable}};this._dispatchEventFromSandbox(Hr,lr)}),Hn.addEventListener("input",lr=>{var pr;const Hr=tr(!0);pn.setValue(ln,{value:Hr}),lr.preventDefault(),(pr=this.linkService.eventBus)==null||pr.dispatch("dispatcheventinsandbox",{source:this,detail:{id:ln,name:"Keystroke",value:vr,changeEx:Hr,willCommit:!1,commitKey:1,keyDown:!1}})}),this._setEventListeners(Hn,null,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"],["input","Action"],["input","Validate"]],lr=>lr.target.value)):Hn.addEventListener("input",function(lr){pn.setValue(ln,{value:tr(!0)})}),this.data.combo&&this._setTextStyle(Hn),this._setBackgroundColor(Hn),this._setDefaultPropertiesFromJS(Hn),this.container.append(Hn),this.container}}class zt extends Mt{constructor(pn){const{data:ln,elements:_n}=pn;super(pn,{isRenderable:Mt._hasPopupData(ln)}),this.elements=_n}render(){this.container.classList.add("popupAnnotation");const pn=new Kt({container:this.container,color:this.data.color,titleObj:this.data.titleObj,modificationDate:this.data.modificationDate,contentsObj:this.data.contentsObj,richText:this.data.richText,rect:this.data.rect,parentRect:this.data.parentRect||null,parent:this.parent,elements:this.elements,open:this.data.open}),ln=[];for(const _n of this.elements)_n.popup=pn,ln.push(_n.data.id),_n.addHighlightArea();return this.container.setAttribute("aria-controls",ln.map(_n=>`${vt.AnnotationPrefix}${_n}`).join(",")),this.container}}class Kt{constructor({container:pn,color:ln,elements:_n,titleObj:Hn,modificationDate:Bn,contentsObj:Kn,richText:tr,parent:vr,rect:fr,parentRect:lr,open:Hr}){Gt(this,nr);Gt(this,jn,null);Gt(this,Un,Ut(this,nr,ow).bind(this));Gt(this,zn,Ut(this,nr,G1).bind(this));Gt(this,Gn,Ut(this,nr,W1).bind(this));Gt(this,Yn,Ut(this,nr,By).bind(this));Gt(this,Zn,null);Gt(this,Dn,null);Gt(this,$n,null);Gt(this,sn,null);Gt(this,mn,null);Gt(this,Pn,null);Gt(this,Nn,!1);Gt(this,Vn,null);Gt(this,Qn,null);Gt(this,qn,null);Gt(this,Tn,null);Gt(this,or,!1);var br;Vt(this,Dn,pn),Vt(this,Tn,Hn),Vt(this,$n,Kn),Vt(this,qn,tr),Vt(this,mn,vr),Vt(this,Zn,ln),Vt(this,Qn,fr),Vt(this,Pn,lr),Vt(this,sn,_n);const pr=xt.PDFDateString.toDateObject(Bn);pr&&Vt(this,jn,vr.l10n.get("annotation_date_string",{date:pr.toLocaleDateString(),time:pr.toLocaleTimeString()})),this.trigger=_n.flatMap(Dr=>Dr.getElementsToTriggerPopup());for(const Dr of this.trigger)Dr.addEventListener("click",wt(this,Yn)),Dr.addEventListener("mouseenter",wt(this,Gn)),Dr.addEventListener("mouseleave",wt(this,zn)),Dr.classList.add("popupTriggerArea");for(const Dr of _n)(br=Dr.container)==null||br.addEventListener("keydown",wt(this,Un));wt(this,Dn).hidden=!0,Hr&&Ut(this,nr,By).call(this)}render(){if(wt(this,Vn))return;const{page:{view:pn},viewport:{rawDims:{pageWidth:ln,pageHeight:_n,pageX:Hn,pageY:Bn}}}=wt(this,mn),Kn=Vt(this,Vn,document.createElement("div"));if(Kn.className="popup",wt(this,Zn)){const ks=Kn.style.outlineColor=vt.Util.makeHexColor(...wt(this,Zn));CSS.supports("background-color","color-mix(in srgb, red 30%, white)")?Kn.style.backgroundColor=`color-mix(in srgb, ${ks} 30%, white)`:Kn.style.backgroundColor=vt.Util.makeHexColor(...wt(this,Zn).map(na=>Math.floor(.7*(255-na)+na)))}const tr=document.createElement("span");tr.className="header";const vr=document.createElement("h1");if(tr.append(vr),{dir:vr.dir,str:vr.textContent}=wt(this,Tn),Kn.append(tr),wt(this,jn)){const ks=document.createElement("span");ks.classList.add("popupDate"),wt(this,jn).then(jo=>{ks.textContent=jo}),tr.append(ks)}const fr=wt(this,$n),lr=wt(this,qn);if(lr!=null&&lr.str&&(!(fr!=null&&fr.str)||fr.str===lr.str))_t.XfaLayer.render({xfaHtml:lr.html,intent:"richText",div:Kn}),Kn.lastChild.classList.add("richText","popupContent");else{const ks=this._formatContents(fr);Kn.append(ks)}let Hr=!!wt(this,Pn),pr=Hr?wt(this,Pn):wt(this,Qn);for(const ks of wt(this,sn))if(!pr||vt.Util.intersect(ks.data.rect,pr)!==null){pr=ks.data.rect,Hr=!0;break}const br=vt.Util.normalizeRect([pr[0],pn[3]-pr[1]+pn[1],pr[2],pn[3]-pr[3]+pn[1]]),Wr=Hr?pr[2]-pr[0]+5:0,es=br[0]+Wr,hs=br[1],{style:Hs}=wt(this,Dn);Hs.left=`${100*(es-Hn)/ln}%`,Hs.top=`${100*(hs-Bn)/_n}%`,wt(this,Dn).append(Kn)}_formatContents({str:pn,dir:ln}){const _n=document.createElement("p");_n.classList.add("popupContent"),_n.dir=ln;const Hn=pn.split(/(?:\r\n?|\n)/);for(let Bn=0,Kn=Hn.length;Bn<Kn;++Bn){const tr=Hn[Bn];_n.append(document.createTextNode(tr)),Bn<Kn-1&&_n.append(document.createElement("br"))}return _n}forceHide(){Vt(this,or,this.isVisible),wt(this,or)&&(wt(this,Dn).hidden=!0)}maybeShow(){wt(this,or)&&(Vt(this,or,!1),wt(this,Dn).hidden=!1)}get isVisible(){return wt(this,Dn).hidden===!1}}jn=new WeakMap,Un=new WeakMap,zn=new WeakMap,Gn=new WeakMap,Yn=new WeakMap,Zn=new WeakMap,Dn=new WeakMap,$n=new WeakMap,sn=new WeakMap,mn=new WeakMap,Pn=new WeakMap,Nn=new WeakMap,Vn=new WeakMap,Qn=new WeakMap,qn=new WeakMap,Tn=new WeakMap,or=new WeakMap,nr=new WeakSet,ow=function(pn){pn.altKey||pn.shiftKey||pn.ctrlKey||pn.metaKey||(pn.key==="Enter"||pn.key==="Escape"&&wt(this,Nn))&&Ut(this,nr,By).call(this)},By=function(){Vt(this,Nn,!wt(this,Nn)),wt(this,Nn)?(Ut(this,nr,W1).call(this),wt(this,Dn).addEventListener("click",wt(this,Yn)),wt(this,Dn).addEventListener("keydown",wt(this,Un))):(Ut(this,nr,G1).call(this),wt(this,Dn).removeEventListener("click",wt(this,Yn)),wt(this,Dn).removeEventListener("keydown",wt(this,Un)))},W1=function(){wt(this,Vn)||this.render(),this.isVisible?wt(this,Nn)&&wt(this,Dn).classList.add("focused"):(wt(this,Dn).hidden=!1,wt(this,Dn).style.zIndex=parseInt(wt(this,Dn).style.zIndex)+1e3)},G1=function(){wt(this,Dn).classList.remove("focused"),!(wt(this,Nn)||!this.isVisible)&&(wt(this,Dn).hidden=!0,wt(this,Dn).style.zIndex=parseInt(wt(this,Dn).style.zIndex)-1e3)};class nn extends Mt{constructor(pn){super(pn,{isRenderable:!0,ignoreBorder:!0}),this.textContent=pn.data.textContent,this.textPosition=pn.data.textPosition,this.annotationEditorType=vt.AnnotationEditorType.FREETEXT}render(){if(this.container.classList.add("freeTextAnnotation"),this.textContent){const pn=document.createElement("div");pn.classList.add("annotationTextContent"),pn.setAttribute("role","comment");for(const ln of this.textContent){const _n=document.createElement("span");_n.textContent=ln,pn.append(_n)}this.container.append(pn)}return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}}$.FreeTextAnnotationElement=nn;class Xt extends Mt{constructor(ln){super(ln,{isRenderable:!0,ignoreBorder:!0});Gt(this,wr,null)}render(){this.container.classList.add("lineAnnotation");const ln=this.data,{width:_n,height:Hn}=Pt(ln.rect),Bn=this.svgFactory.create(_n,Hn,!0),Kn=Vt(this,wr,this.svgFactory.createElement("svg:line"));return Kn.setAttribute("x1",ln.rect[2]-ln.lineCoordinates[0]),Kn.setAttribute("y1",ln.rect[3]-ln.lineCoordinates[1]),Kn.setAttribute("x2",ln.rect[2]-ln.lineCoordinates[2]),Kn.setAttribute("y2",ln.rect[3]-ln.lineCoordinates[3]),Kn.setAttribute("stroke-width",ln.borderStyle.width||1),Kn.setAttribute("stroke","transparent"),Kn.setAttribute("fill","transparent"),Bn.append(Kn),this.container.append(Bn),!ln.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return wt(this,wr)}addHighlightArea(){this.container.classList.add("highlightArea")}}wr=new WeakMap;class en extends Mt{constructor(ln){super(ln,{isRenderable:!0,ignoreBorder:!0});Gt(this,Ur,null)}render(){this.container.classList.add("squareAnnotation");const ln=this.data,{width:_n,height:Hn}=Pt(ln.rect),Bn=this.svgFactory.create(_n,Hn,!0),Kn=ln.borderStyle.width,tr=Vt(this,Ur,this.svgFactory.createElement("svg:rect"));return tr.setAttribute("x",Kn/2),tr.setAttribute("y",Kn/2),tr.setAttribute("width",_n-Kn),tr.setAttribute("height",Hn-Kn),tr.setAttribute("stroke-width",Kn||1),tr.setAttribute("stroke","transparent"),tr.setAttribute("fill","transparent"),Bn.append(tr),this.container.append(Bn),!ln.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return wt(this,Ur)}addHighlightArea(){this.container.classList.add("highlightArea")}}Ur=new WeakMap;class on extends Mt{constructor(ln){super(ln,{isRenderable:!0,ignoreBorder:!0});Gt(this,is,null)}render(){this.container.classList.add("circleAnnotation");const ln=this.data,{width:_n,height:Hn}=Pt(ln.rect),Bn=this.svgFactory.create(_n,Hn,!0),Kn=ln.borderStyle.width,tr=Vt(this,is,this.svgFactory.createElement("svg:ellipse"));return tr.setAttribute("cx",_n/2),tr.setAttribute("cy",Hn/2),tr.setAttribute("rx",_n/2-Kn/2),tr.setAttribute("ry",Hn/2-Kn/2),tr.setAttribute("stroke-width",Kn||1),tr.setAttribute("stroke","transparent"),tr.setAttribute("fill","transparent"),Bn.append(tr),this.container.append(Bn),!ln.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return wt(this,is)}addHighlightArea(){this.container.classList.add("highlightArea")}}is=new WeakMap;class An extends Mt{constructor(ln){super(ln,{isRenderable:!0,ignoreBorder:!0});Gt(this,Xn,null);this.containerClassName="polylineAnnotation",this.svgElementName="svg:polyline"}render(){this.container.classList.add(this.containerClassName);const ln=this.data,{width:_n,height:Hn}=Pt(ln.rect),Bn=this.svgFactory.create(_n,Hn,!0);let Kn=[];for(const vr of ln.vertices){const fr=vr.x-ln.rect[0],lr=ln.rect[3]-vr.y;Kn.push(fr+","+lr)}Kn=Kn.join(" ");const tr=Vt(this,Xn,this.svgFactory.createElement(this.svgElementName));return tr.setAttribute("points",Kn),tr.setAttribute("stroke-width",ln.borderStyle.width||1),tr.setAttribute("stroke","transparent"),tr.setAttribute("fill","transparent"),Bn.append(tr),this.container.append(Bn),!ln.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return wt(this,Xn)}addHighlightArea(){this.container.classList.add("highlightArea")}}Xn=new WeakMap;class un extends An{constructor(pn){super(pn),this.containerClassName="polygonAnnotation",this.svgElementName="svg:polygon"}}class vn extends Mt{constructor(pn){super(pn,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("caretAnnotation"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container}}class an extends Mt{constructor(ln){super(ln,{isRenderable:!0,ignoreBorder:!0});Gt(this,kn,[]);this.containerClassName="inkAnnotation",this.svgElementName="svg:polyline",this.annotationEditorType=vt.AnnotationEditorType.INK}render(){this.container.classList.add(this.containerClassName);const ln=this.data,{width:_n,height:Hn}=Pt(ln.rect),Bn=this.svgFactory.create(_n,Hn,!0);for(const Kn of ln.inkLists){let tr=[];for(const fr of Kn){const lr=fr.x-ln.rect[0],Hr=ln.rect[3]-fr.y;tr.push(`${lr},${Hr}`)}tr=tr.join(" ");const vr=this.svgFactory.createElement(this.svgElementName);wt(this,kn).push(vr),vr.setAttribute("points",tr),vr.setAttribute("stroke-width",ln.borderStyle.width||1),vr.setAttribute("stroke","transparent"),vr.setAttribute("fill","transparent"),!ln.popupRef&&this.hasPopupData&&this._createPopup(),Bn.append(vr)}return this.container.append(Bn),this.container}getElementsToTriggerPopup(){return wt(this,kn)}addHighlightArea(){this.container.classList.add("highlightArea")}}kn=new WeakMap,$.InkAnnotationElement=an;class dn extends Mt{constructor(pn){super(pn,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("highlightAnnotation"),this.container}}class tn extends Mt{constructor(pn){super(pn,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("underlineAnnotation"),this.container}}class gn extends Mt{constructor(pn){super(pn,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("squigglyAnnotation"),this.container}}class Sn extends Mt{constructor(pn){super(pn,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("strikeoutAnnotation"),this.container}}class rn extends Mt{constructor(pn){super(pn,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("stampAnnotation"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container}}$.StampAnnotationElement=rn;class qt extends Mt{constructor(ln){var Bn;super(ln,{isRenderable:!0});Gt(this,dr);Gt(this,Fn,null);const{filename:_n,content:Hn}=this.data.file;this.filename=(0,xt.getFilenameFromUrl)(_n,!0),this.content=Hn,(Bn=this.linkService.eventBus)==null||Bn.dispatch("fileattachmentannotation",{source:this,filename:_n,content:Hn})}render(){this.container.classList.add("fileAttachmentAnnotation");const{container:ln,data:_n}=this;let Hn;_n.hasAppearance||_n.fillAlpha===0?Hn=document.createElement("div"):(Hn=document.createElement("img"),Hn.src=`${this.imageResourcesPath}annotation-${/paperclip/i.test(_n.name)?"paperclip":"pushpin"}.svg`,_n.fillAlpha&&_n.fillAlpha<1&&(Hn.style=`filter: opacity(${Math.round(_n.fillAlpha*100)}%);`)),Hn.addEventListener("dblclick",Ut(this,dr,X1).bind(this)),Vt(this,Fn,Hn);const{isMac:Bn}=vt.FeatureTest.platform;return ln.addEventListener("keydown",Kn=>{Kn.key==="Enter"&&(Bn?Kn.metaKey:Kn.ctrlKey)&&Ut(this,dr,X1).call(this)}),!_n.popupRef&&this.hasPopupData?this._createPopup():Hn.classList.add("popupTriggerArea"),ln.append(Hn),ln}getElementsToTriggerPopup(){return wt(this,Fn)}addHighlightArea(){this.container.classList.add("highlightArea")}}Fn=new WeakMap,dr=new WeakSet,X1=function(){var ln;(ln=this.downloadManager)==null||ln.openOrDownloadData(this.container,this.content,this.filename)};class Yt{constructor({div:pn,accessibilityManager:ln,annotationCanvasMap:_n,l10n:Hn,page:Bn,viewport:Kn}){Gt(this,sr);Gt(this,Tr,null);Gt(this,yn,null);Gt(this,Wn,new Map);this.div=pn,Vt(this,Tr,ln),Vt(this,yn,_n),this.l10n=Hn,this.page=Bn,this.viewport=Kn,this.zIndex=0,this.l10n||(this.l10n=At.NullL10n)}async render(pn){const{annotations:ln}=pn,_n=this.div;(0,xt.setLayerDimensions)(_n,this.viewport);const Hn=new Map,Bn={data:null,layer:_n,linkService:pn.linkService,downloadManager:pn.downloadManager,imageResourcesPath:pn.imageResourcesPath||"",renderForms:pn.renderForms!==!1,svgFactory:new xt.DOMSVGFactory,annotationStorage:pn.annotationStorage||new bt.AnnotationStorage,enableScripting:pn.enableScripting===!0,hasJSActions:pn.hasJSActions,fieldObjects:pn.fieldObjects,parent:this,elements:null};for(const Kn of ln){if(Kn.noHTML)continue;const tr=Kn.annotationType===vt.AnnotationType.POPUP;if(tr){const lr=Hn.get(Kn.id);if(!lr)continue;Bn.elements=lr}else{const{width:lr,height:Hr}=Pt(Kn.rect);if(lr<=0||Hr<=0)continue}Bn.data=Kn;const vr=kt.create(Bn);if(!vr.isRenderable)continue;if(!tr&&Kn.popupRef){const lr=Hn.get(Kn.popupRef);lr?lr.push(vr):Hn.set(Kn.popupRef,[vr])}vr.annotationEditorType>0&&wt(this,Wn).set(vr.data.id,vr);const fr=vr.render();Kn.hidden&&(fr.style.visibility="hidden"),Ut(this,sr,aw).call(this,fr,Kn.id)}Ut(this,sr,q1).call(this),await this.l10n.translate(_n)}update({viewport:pn}){const ln=this.div;this.viewport=pn,(0,xt.setLayerDimensions)(ln,{rotation:pn.rotation}),Ut(this,sr,q1).call(this),ln.hidden=!1}getEditableAnnotations(){return Array.from(wt(this,Wn).values())}getEditableAnnotation(pn){return wt(this,Wn).get(pn)}}Tr=new WeakMap,yn=new WeakMap,Wn=new WeakMap,sr=new WeakSet,aw=function(pn,ln){var Hn;const _n=pn.firstChild||pn;_n.id=`${vt.AnnotationPrefix}${ln}`,this.div.append(pn),(Hn=wt(this,Tr))==null||Hn.moveElementInDOM(this.div,pn,_n,!1)},q1=function(){if(!wt(this,yn))return;const pn=this.div;for(const[ln,_n]of wt(this,yn)){const Hn=pn.querySelector(`[data-annotation-id="${ln}"]`);if(!Hn)continue;const{firstChild:Bn}=Hn;Bn?Bn.nodeName==="CANVAS"?Bn.replaceWith(_n):Bn.before(_n):Hn.append(_n)}wt(this,yn).clear()},$.AnnotationLayer=Yt},(ht,$)=>{Object.defineProperty($,"__esModule",{value:!0}),$.ColorConverters=void 0;function _e(bt){return Math.floor(Math.max(0,Math.min(1,bt))*255).toString(16).padStart(2,"0")}function vt(bt){return Math.max(0,Math.min(255,255*bt))}class xt{static CMYK_G([Et,At,_t,Ct]){return["G",1-Math.min(1,.3*Et+.59*_t+.11*At+Ct)]}static G_CMYK([Et]){return["CMYK",0,0,0,1-Et]}static G_RGB([Et]){return["RGB",Et,Et,Et]}static G_rgb([Et]){return Et=vt(Et),[Et,Et,Et]}static G_HTML([Et]){const At=_e(Et);return`#${At}${At}${At}`}static RGB_G([Et,At,_t]){return["G",.3*Et+.59*At+.11*_t]}static RGB_rgb(Et){return Et.map(vt)}static RGB_HTML(Et){return`#${Et.map(_e).join("")}`}static T_HTML(){return"#00000000"}static T_rgb(){return[null]}static CMYK_RGB([Et,At,_t,Ct]){return["RGB",1-Math.min(1,Et+Ct),1-Math.min(1,_t+Ct),1-Math.min(1,At+Ct)]}static CMYK_rgb([Et,At,_t,Ct]){return[vt(1-Math.min(1,Et+Ct)),vt(1-Math.min(1,_t+Ct)),vt(1-Math.min(1,At+Ct))]}static CMYK_HTML(Et){const At=this.CMYK_RGB(Et).slice(1);return this.RGB_HTML(At)}static RGB_CMYK([Et,At,_t]){const Ct=1-Et,St=1-At,Rt=1-_t,Pt=Math.min(Ct,St,Rt);return["CMYK",Ct,St,Rt,Pt]}}$.ColorConverters=xt},(ht,$)=>{Object.defineProperty($,"__esModule",{value:!0}),$.NullL10n=void 0,$.getL10nFallback=vt;const _e={of_pages:"of {{pagesCount}}",page_of_pages:"({{pageNumber}} of {{pagesCount}})",document_properties_kb:"{{size_kb}} KB ({{size_b}} bytes)",document_properties_mb:"{{size_mb}} MB ({{size_b}} bytes)",document_properties_date_string:"{{date}}, {{time}}",document_properties_page_size_unit_inches:"in",document_properties_page_size_unit_millimeters:"mm",document_properties_page_size_orientation_portrait:"portrait",document_properties_page_size_orientation_landscape:"landscape",document_properties_page_size_name_a3:"A3",document_properties_page_size_name_a4:"A4",document_properties_page_size_name_letter:"Letter",document_properties_page_size_name_legal:"Legal",document_properties_page_size_dimension_string:"{{width}}  {{height}} {{unit}} ({{orientation}})",document_properties_page_size_dimension_name_string:"{{width}}  {{height}} {{unit}} ({{name}}, {{orientation}})",document_properties_linearized_yes:"Yes",document_properties_linearized_no:"No",additional_layers:"Additional Layers",page_landmark:"Page {{page}}",thumb_page_title:"Page {{page}}",thumb_page_canvas:"Thumbnail of Page {{page}}",find_reached_top:"Reached top of document, continued from bottom",find_reached_bottom:"Reached end of document, continued from top","find_match_count[one]":"{{current}} of {{total}} match","find_match_count[other]":"{{current}} of {{total}} matches","find_match_count_limit[one]":"More than {{limit}} match","find_match_count_limit[other]":"More than {{limit}} matches",find_not_found:"Phrase not found",page_scale_width:"Page Width",page_scale_fit:"Page Fit",page_scale_auto:"Automatic Zoom",page_scale_actual:"Actual Size",page_scale_percent:"{{scale}}%",loading_error:"An error occurred while loading the PDF.",invalid_file_error:"Invalid or corrupted PDF file.",missing_file_error:"Missing PDF file.",unexpected_response_error:"Unexpected server response.",rendering_error:"An error occurred while rendering the page.",annotation_date_string:"{{date}}, {{time}}",printing_not_supported:"Warning: Printing is not fully supported by this browser.",printing_not_ready:"Warning: The PDF is not fully loaded for printing.",web_fonts_disabled:"Web fonts are disabled: unable to use embedded PDF fonts.",free_text2_default_content:"Start typing",editor_free_text2_aria_label:"Text Editor",editor_ink2_aria_label:"Draw Editor",editor_ink_canvas_aria_label:"User-created image",editor_alt_text_button_label:"Alt text",editor_alt_text_edit_button_label:"Edit alt text",editor_alt_text_decorative_tooltip:"Marked as decorative"};_e.print_progress_percent="{{progress}}%";function vt(Et,At){switch(Et){case"find_match_count":Et=`find_match_count[${At.total===1?"one":"other"}]`;break;case"find_match_count_limit":Et=`find_match_count_limit[${At.limit===1?"one":"other"}]`;break}return _e[Et]||""}function xt(Et,At){return At?Et.replaceAll(/\{\{\s*(\w+)\s*\}\}/g,(_t,Ct)=>Ct in At?At[Ct]:"{{"+Ct+"}}"):Et}const bt={async getLanguage(){return"en-us"},async getDirection(){return"ltr"},async get(Et,At=null,_t=vt(Et,At)){return xt(_t,At)},async translate(Et){}};$.NullL10n=bt},(ht,$,_e)=>{Object.defineProperty($,"__esModule",{value:!0}),$.XfaLayer=void 0;var vt=_e(25);class xt{static setupStorage(Et,At,_t,Ct,St){const Rt=Ct.getValue(At,{value:null});switch(_t.name){case"textarea":if(Rt.value!==null&&(Et.textContent=Rt.value),St==="print")break;Et.addEventListener("input",Pt=>{Ct.setValue(At,{value:Pt.target.value})});break;case"input":if(_t.attributes.type==="radio"||_t.attributes.type==="checkbox"){if(Rt.value===_t.attributes.xfaOn?Et.setAttribute("checked",!0):Rt.value===_t.attributes.xfaOff&&Et.removeAttribute("checked"),St==="print")break;Et.addEventListener("change",Pt=>{Ct.setValue(At,{value:Pt.target.checked?Pt.target.getAttribute("xfaOn"):Pt.target.getAttribute("xfaOff")})})}else{if(Rt.value!==null&&Et.setAttribute("value",Rt.value),St==="print")break;Et.addEventListener("input",Pt=>{Ct.setValue(At,{value:Pt.target.value})})}break;case"select":if(Rt.value!==null){Et.setAttribute("value",Rt.value);for(const Pt of _t.children)Pt.attributes.value===Rt.value?Pt.attributes.selected=!0:Pt.attributes.hasOwnProperty("selected")&&delete Pt.attributes.selected}Et.addEventListener("input",Pt=>{const kt=Pt.target.options,Mt=kt.selectedIndex===-1?"":kt[kt.selectedIndex].value;Ct.setValue(At,{value:Mt})});break}}static setAttributes({html:Et,element:At,storage:_t=null,intent:Ct,linkService:St}){const{attributes:Rt}=At,Pt=Et instanceof HTMLAnchorElement;Rt.type==="radio"&&(Rt.name=`${Rt.name}-${Ct}`);for(const[kt,Mt]of Object.entries(Rt))if(Mt!=null)switch(kt){case"class":Mt.length&&Et.setAttribute(kt,Mt.join(" "));break;case"dataId":break;case"id":Et.setAttribute("data-element-id",Mt);break;case"style":Object.assign(Et.style,Mt);break;case"textContent":Et.textContent=Mt;break;default:(!Pt||kt!=="href"&&kt!=="newWindow")&&Et.setAttribute(kt,Mt)}Pt&&St.addLinkAttributes(Et,Rt.href,Rt.newWindow),_t&&Rt.dataId&&this.setupStorage(Et,Rt.dataId,At,_t)}static render(Et){var Lt;const At=Et.annotationStorage,_t=Et.linkService,Ct=Et.xfaHtml,St=Et.intent||"display",Rt=document.createElement(Ct.name);Ct.attributes&&this.setAttributes({html:Rt,element:Ct,intent:St,linkService:_t});const Pt=[[Ct,-1,Rt]],kt=Et.div;if(kt.append(Rt),Et.viewport){const $t=`matrix(${Et.viewport.transform.join(",")})`;kt.style.transform=$t}St!=="richText"&&kt.setAttribute("class","xfaLayer xfaFont");const Mt=[];for(;Pt.length>0;){const[$t,Ft,Dt]=Pt.at(-1);if(Ft+1===$t.children.length){Pt.pop();continue}const Nt=$t.children[++Pt.at(-1)[1]];if(Nt===null)continue;const{name:Ht}=Nt;if(Ht==="#text"){const Bt=document.createTextNode(Nt.value);Mt.push(Bt),Dt.append(Bt);continue}const Ot=(Lt=Nt==null?void 0:Nt.attributes)!=null&&Lt.xmlns?document.createElementNS(Nt.attributes.xmlns,Ht):document.createElement(Ht);if(Dt.append(Ot),Nt.attributes&&this.setAttributes({html:Ot,element:Nt,storage:At,intent:St,linkService:_t}),Nt.children&&Nt.children.length>0)Pt.push([Nt,-1,Ot]);else if(Nt.value){const Bt=document.createTextNode(Nt.value);vt.XfaText.shouldBuildText(Ht)&&Mt.push(Bt),Ot.append(Bt)}}for(const $t of kt.querySelectorAll(".xfaNonInteractive input, .xfaNonInteractive textarea"))$t.setAttribute("readOnly",!0);return{textDivs:Mt}}static update(Et){const At=`matrix(${Et.viewport.transform.join(",")})`;Et.div.style.transform=At,Et.div.hidden=!1}}$.XfaLayer=xt},(ht,$,_e)=>{var Ct,St,Rt,Pt,kt,Mt,Lt,$t,Ft,Dt,Nt,Ht,Ot,Bt,jt,lw,cw,uw,dw,K1,hw,Y1,fw,pw,gw,mw,vw,$l,Z1,Uy,zy,rm,Q1,Vy,cn,yw,J1,xw,bw,_b,Wy,sm;Object.defineProperty($,"__esModule",{value:!0}),$.InkEditor=void 0;var vt=_e(1),xt=_e(4),bt=_e(29),Et=_e(6),At=_e(5);const Zn=class Zn extends xt.AnnotationEditor{constructor(sn){super({...sn,name:"inkEditor"});Gt(this,jt);Gt(this,Ct,0);Gt(this,St,0);Gt(this,Rt,this.canvasPointermove.bind(this));Gt(this,Pt,this.canvasPointerleave.bind(this));Gt(this,kt,this.canvasPointerup.bind(this));Gt(this,Mt,this.canvasPointerdown.bind(this));Gt(this,Lt,new Path2D);Gt(this,$t,!1);Gt(this,Ft,!1);Gt(this,Dt,!1);Gt(this,Nt,null);Gt(this,Ht,0);Gt(this,Ot,0);Gt(this,Bt,null);this.color=sn.color||null,this.thickness=sn.thickness||null,this.opacity=sn.opacity||null,this.paths=[],this.bezierPath2D=[],this.allRawPaths=[],this.currentPath=[],this.scaleFactor=1,this.translationX=this.translationY=0,this.x=0,this.y=0,this._willKeepAspectRatio=!0}static initialize(sn){xt.AnnotationEditor.initialize(sn,{strings:["editor_ink_canvas_aria_label","editor_ink2_aria_label"]})}static updateDefaultParams(sn,mn){switch(sn){case vt.AnnotationEditorParamsType.INK_THICKNESS:Zn._defaultThickness=mn;break;case vt.AnnotationEditorParamsType.INK_COLOR:Zn._defaultColor=mn;break;case vt.AnnotationEditorParamsType.INK_OPACITY:Zn._defaultOpacity=mn/100;break}}updateParams(sn,mn){switch(sn){case vt.AnnotationEditorParamsType.INK_THICKNESS:Ut(this,jt,lw).call(this,mn);break;case vt.AnnotationEditorParamsType.INK_COLOR:Ut(this,jt,cw).call(this,mn);break;case vt.AnnotationEditorParamsType.INK_OPACITY:Ut(this,jt,uw).call(this,mn);break}}static get defaultPropertiesToUpdate(){return[[vt.AnnotationEditorParamsType.INK_THICKNESS,Zn._defaultThickness],[vt.AnnotationEditorParamsType.INK_COLOR,Zn._defaultColor||xt.AnnotationEditor._defaultLineColor],[vt.AnnotationEditorParamsType.INK_OPACITY,Math.round(Zn._defaultOpacity*100)]]}get propertiesToUpdate(){return[[vt.AnnotationEditorParamsType.INK_THICKNESS,this.thickness||Zn._defaultThickness],[vt.AnnotationEditorParamsType.INK_COLOR,this.color||Zn._defaultColor||xt.AnnotationEditor._defaultLineColor],[vt.AnnotationEditorParamsType.INK_OPACITY,Math.round(100*(this.opacity??Zn._defaultOpacity))]]}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.canvas||(Ut(this,jt,Uy).call(this),Ut(this,jt,zy).call(this)),this.isAttachedToDOM||(this.parent.add(this),Ut(this,jt,rm).call(this)),Ut(this,jt,sm).call(this)))}remove(){this.canvas!==null&&(this.isEmpty()||this.commit(),this.canvas.width=this.canvas.height=0,this.canvas.remove(),this.canvas=null,wt(this,Nt).disconnect(),Vt(this,Nt,null),super.remove())}setParent(sn){!this.parent&&sn?this._uiManager.removeShouldRescale(this):this.parent&&sn===null&&this._uiManager.addShouldRescale(this),super.setParent(sn)}onScaleChanging(){const[sn,mn]=this.parentDimensions,Pn=this.width*sn,Nn=this.height*mn;this.setDimensions(Pn,Nn)}enableEditMode(){wt(this,$t)||this.canvas===null||(super.enableEditMode(),this._isDraggable=!1,this.canvas.addEventListener("pointerdown",wt(this,Mt)))}disableEditMode(){!this.isInEditMode()||this.canvas===null||(super.disableEditMode(),this._isDraggable=!this.isEmpty(),this.div.classList.remove("editing"),this.canvas.removeEventListener("pointerdown",wt(this,Mt)))}onceAdded(){this._isDraggable=!this.isEmpty()}isEmpty(){return this.paths.length===0||this.paths.length===1&&this.paths[0].length===0}commit(){wt(this,$t)||(super.commit(),this.isEditing=!1,this.disableEditMode(),this.setInForeground(),Vt(this,$t,!0),this.div.classList.add("disabled"),Ut(this,jt,sm).call(this,!0),this.makeResizable(),this.parent.addInkEditorIfNeeded(!0),this.moveInDOM(),this.div.focus({preventScroll:!0}))}focusin(sn){this._focusEventsAllowed&&(super.focusin(sn),this.enableEditMode())}canvasPointerdown(sn){sn.button!==0||!this.isInEditMode()||wt(this,$t)||(this.setInForeground(),sn.preventDefault(),sn.type!=="mouse"&&this.div.focus(),Ut(this,jt,hw).call(this,sn.offsetX,sn.offsetY))}canvasPointermove(sn){sn.preventDefault(),Ut(this,jt,Y1).call(this,sn.offsetX,sn.offsetY)}canvasPointerup(sn){sn.preventDefault(),Ut(this,jt,Z1).call(this,sn)}canvasPointerleave(sn){Ut(this,jt,Z1).call(this,sn)}get isResizable(){return!this.isEmpty()&&wt(this,$t)}render(){if(this.div)return this.div;let sn,mn;this.width&&(sn=this.x,mn=this.y),super.render(),xt.AnnotationEditor._l10nPromise.get("editor_ink2_aria_label").then(qn=>{var Tn;return(Tn=this.div)==null?void 0:Tn.setAttribute("aria-label",qn)});const[Pn,Nn,Vn,Qn]=Ut(this,jt,dw).call(this);if(this.setAt(Pn,Nn,0,0),this.setDims(Vn,Qn),Ut(this,jt,Uy).call(this),this.width){const[qn,Tn]=this.parentDimensions;this.setAspectRatio(this.width*qn,this.height*Tn),this.setAt(sn*qn,mn*Tn,this.width*qn,this.height*Tn),Vt(this,Dt,!0),Ut(this,jt,rm).call(this),this.setDims(this.width*qn,this.height*Tn),Ut(this,jt,$l).call(this),this.div.classList.add("disabled")}else this.div.classList.add("editing"),this.enableEditMode();return Ut(this,jt,zy).call(this),this.div}setDimensions(sn,mn){const Pn=Math.round(sn),Nn=Math.round(mn);if(wt(this,Ht)===Pn&&wt(this,Ot)===Nn)return;Vt(this,Ht,Pn),Vt(this,Ot,Nn),this.canvas.style.visibility="hidden";const[Vn,Qn]=this.parentDimensions;this.width=sn/Vn,this.height=mn/Qn,this.fixAndSetPosition(),wt(this,$t)&&Ut(this,jt,Q1).call(this,sn,mn),Ut(this,jt,rm).call(this),Ut(this,jt,$l).call(this),this.canvas.style.visibility="visible",this.fixDims()}static deserialize(sn,mn,Pn){var wr,Ur,is;if(sn instanceof bt.InkAnnotationElement)return null;const Nn=super.deserialize(sn,mn,Pn);Nn.thickness=sn.thickness,Nn.color=vt.Util.makeHexColor(...sn.color),Nn.opacity=sn.opacity;const[Vn,Qn]=Nn.pageDimensions,qn=Nn.width*Vn,Tn=Nn.height*Qn,or=Nn.parentScale,nr=sn.thickness/2;Vt(Nn,$t,!0),Vt(Nn,Ht,Math.round(qn)),Vt(Nn,Ot,Math.round(Tn));const{paths:Nr,rect:Pr,rotation:Kr}=sn;for(let{bezier:Xn}of Nr){Xn=Ut(wr=Zn,cn,xw).call(wr,Xn,Pr,Kr);const kn=[];Nn.paths.push(kn);let Fn=or*(Xn[0]-nr),dr=or*(Xn[1]-nr);for(let Tr=2,yn=Xn.length;Tr<yn;Tr+=6){const Wn=or*(Xn[Tr]-nr),sr=or*(Xn[Tr+1]-nr),mr=or*(Xn[Tr+2]-nr),xr=or*(Xn[Tr+3]-nr),ur=or*(Xn[Tr+4]-nr),pn=or*(Xn[Tr+5]-nr);kn.push([[Fn,dr],[Wn,sr],[mr,xr],[ur,pn]]),Fn=ur,dr=pn}const gr=Ut(this,cn,yw).call(this,kn);Nn.bezierPath2D.push(gr)}const hr=Ut(Ur=Nn,jt,_b).call(Ur);return Vt(Nn,St,Math.max(xt.AnnotationEditor.MIN_SIZE,hr[2]-hr[0])),Vt(Nn,Ct,Math.max(xt.AnnotationEditor.MIN_SIZE,hr[3]-hr[1])),Ut(is=Nn,jt,Q1).call(is,qn,Tn),Nn}serialize(){if(this.isEmpty())return null;const sn=this.getRect(0,0),mn=xt.AnnotationEditor._colorManager.convert(this.ctx.strokeStyle);return{annotationType:vt.AnnotationEditorType.INK,color:mn,thickness:this.thickness,opacity:this.opacity,paths:Ut(this,jt,bw).call(this,this.scaleFactor/this.parentScale,this.translationX,this.translationY,sn),pageIndex:this.pageIndex,rect:sn,rotation:this.rotation,structTreeParentId:this._structTreeParentId}}};Ct=new WeakMap,St=new WeakMap,Rt=new WeakMap,Pt=new WeakMap,kt=new WeakMap,Mt=new WeakMap,Lt=new WeakMap,$t=new WeakMap,Ft=new WeakMap,Dt=new WeakMap,Nt=new WeakMap,Ht=new WeakMap,Ot=new WeakMap,Bt=new WeakMap,jt=new WeakSet,lw=function(sn){const mn=this.thickness;this.addCommands({cmd:()=>{this.thickness=sn,Ut(this,jt,sm).call(this)},undo:()=>{this.thickness=mn,Ut(this,jt,sm).call(this)},mustExec:!0,type:vt.AnnotationEditorParamsType.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0})},cw=function(sn){const mn=this.color;this.addCommands({cmd:()=>{this.color=sn,Ut(this,jt,$l).call(this)},undo:()=>{this.color=mn,Ut(this,jt,$l).call(this)},mustExec:!0,type:vt.AnnotationEditorParamsType.INK_COLOR,overwriteIfSameType:!0,keepUndo:!0})},uw=function(sn){sn/=100;const mn=this.opacity;this.addCommands({cmd:()=>{this.opacity=sn,Ut(this,jt,$l).call(this)},undo:()=>{this.opacity=mn,Ut(this,jt,$l).call(this)},mustExec:!0,type:vt.AnnotationEditorParamsType.INK_OPACITY,overwriteIfSameType:!0,keepUndo:!0})},dw=function(){const{parentRotation:sn,parentDimensions:[mn,Pn]}=this;switch(sn){case 90:return[0,Pn,Pn,mn];case 180:return[mn,Pn,mn,Pn];case 270:return[mn,0,Pn,mn];default:return[0,0,mn,Pn]}},K1=function(){const{ctx:sn,color:mn,opacity:Pn,thickness:Nn,parentScale:Vn,scaleFactor:Qn}=this;sn.lineWidth=Nn*Vn/Qn,sn.lineCap="round",sn.lineJoin="round",sn.miterLimit=10,sn.strokeStyle=`${mn}${(0,At.opacityToHex)(Pn)}`},hw=function(sn,mn){this.canvas.addEventListener("contextmenu",Et.noContextMenu),this.canvas.addEventListener("pointerleave",wt(this,Pt)),this.canvas.addEventListener("pointermove",wt(this,Rt)),this.canvas.addEventListener("pointerup",wt(this,kt)),this.canvas.removeEventListener("pointerdown",wt(this,Mt)),this.isEditing=!0,wt(this,Dt)||(Vt(this,Dt,!0),Ut(this,jt,rm).call(this),this.thickness||(this.thickness=Zn._defaultThickness),this.color||(this.color=Zn._defaultColor||xt.AnnotationEditor._defaultLineColor),this.opacity??(this.opacity=Zn._defaultOpacity)),this.currentPath.push([sn,mn]),Vt(this,Ft,!1),Ut(this,jt,K1).call(this),Vt(this,Bt,()=>{Ut(this,jt,gw).call(this),wt(this,Bt)&&window.requestAnimationFrame(wt(this,Bt))}),window.requestAnimationFrame(wt(this,Bt))},Y1=function(sn,mn){const[Pn,Nn]=this.currentPath.at(-1);if(this.currentPath.length>1&&sn===Pn&&mn===Nn)return;const Vn=this.currentPath;let Qn=wt(this,Lt);if(Vn.push([sn,mn]),Vt(this,Ft,!0),Vn.length<=2){Qn.moveTo(...Vn[0]),Qn.lineTo(sn,mn);return}Vn.length===3&&(Vt(this,Lt,Qn=new Path2D),Qn.moveTo(...Vn[0])),Ut(this,jt,mw).call(this,Qn,...Vn.at(-3),...Vn.at(-2),sn,mn)},fw=function(){if(this.currentPath.length===0)return;const sn=this.currentPath.at(-1);wt(this,Lt).lineTo(...sn)},pw=function(sn,mn){Vt(this,Bt,null),sn=Math.min(Math.max(sn,0),this.canvas.width),mn=Math.min(Math.max(mn,0),this.canvas.height),Ut(this,jt,Y1).call(this,sn,mn),Ut(this,jt,fw).call(this);let Pn;if(this.currentPath.length!==1)Pn=Ut(this,jt,vw).call(this);else{const Tn=[sn,mn];Pn=[[Tn,Tn.slice(),Tn.slice(),Tn]]}const Nn=wt(this,Lt),Vn=this.currentPath;this.currentPath=[],Vt(this,Lt,new Path2D);const Qn=()=>{this.allRawPaths.push(Vn),this.paths.push(Pn),this.bezierPath2D.push(Nn),this.rebuild()},qn=()=>{this.allRawPaths.pop(),this.paths.pop(),this.bezierPath2D.pop(),this.paths.length===0?this.remove():(this.canvas||(Ut(this,jt,Uy).call(this),Ut(this,jt,zy).call(this)),Ut(this,jt,sm).call(this))};this.addCommands({cmd:Qn,undo:qn,mustExec:!0})},gw=function(){if(!wt(this,Ft))return;Vt(this,Ft,!1);const sn=Math.ceil(this.thickness*this.parentScale),mn=this.currentPath.slice(-3),Pn=mn.map(Qn=>Qn[0]),Nn=mn.map(Qn=>Qn[1]);Math.min(...Pn)-sn,Math.max(...Pn)+sn,Math.min(...Nn)-sn,Math.max(...Nn)+sn;const{ctx:Vn}=this;Vn.save(),Vn.clearRect(0,0,this.canvas.width,this.canvas.height);for(const Qn of this.bezierPath2D)Vn.stroke(Qn);Vn.stroke(wt(this,Lt)),Vn.restore()},mw=function(sn,mn,Pn,Nn,Vn,Qn,qn){const Tn=(mn+Nn)/2,or=(Pn+Vn)/2,nr=(Nn+Qn)/2,Nr=(Vn+qn)/2;sn.bezierCurveTo(Tn+2*(Nn-Tn)/3,or+2*(Vn-or)/3,nr+2*(Nn-nr)/3,Nr+2*(Vn-Nr)/3,nr,Nr)},vw=function(){const sn=this.currentPath;if(sn.length<=2)return[[sn[0],sn[0],sn.at(-1),sn.at(-1)]];const mn=[];let Pn,[Nn,Vn]=sn[0];for(Pn=1;Pn<sn.length-2;Pn++){const[Pr,Kr]=sn[Pn],[hr,wr]=sn[Pn+1],Ur=(Pr+hr)/2,is=(Kr+wr)/2,Xn=[Nn+2*(Pr-Nn)/3,Vn+2*(Kr-Vn)/3],kn=[Ur+2*(Pr-Ur)/3,is+2*(Kr-is)/3];mn.push([[Nn,Vn],Xn,kn,[Ur,is]]),[Nn,Vn]=[Ur,is]}const[Qn,qn]=sn[Pn],[Tn,or]=sn[Pn+1],nr=[Nn+2*(Qn-Nn)/3,Vn+2*(qn-Vn)/3],Nr=[Tn+2*(Qn-Tn)/3,or+2*(qn-or)/3];return mn.push([[Nn,Vn],nr,Nr,[Tn,or]]),mn},$l=function(){if(this.isEmpty()){Ut(this,jt,Vy).call(this);return}Ut(this,jt,K1).call(this);const{canvas:sn,ctx:mn}=this;mn.setTransform(1,0,0,1,0,0),mn.clearRect(0,0,sn.width,sn.height),Ut(this,jt,Vy).call(this);for(const Pn of this.bezierPath2D)mn.stroke(Pn)},Z1=function(sn){this.canvas.removeEventListener("pointerleave",wt(this,Pt)),this.canvas.removeEventListener("pointermove",wt(this,Rt)),this.canvas.removeEventListener("pointerup",wt(this,kt)),this.canvas.addEventListener("pointerdown",wt(this,Mt)),setTimeout(()=>{this.canvas.removeEventListener("contextmenu",Et.noContextMenu)},10),Ut(this,jt,pw).call(this,sn.offsetX,sn.offsetY),this.addToAnnotationStorage(),this.setInBackground()},Uy=function(){this.canvas=document.createElement("canvas"),this.canvas.width=this.canvas.height=0,this.canvas.className="inkEditorCanvas",xt.AnnotationEditor._l10nPromise.get("editor_ink_canvas_aria_label").then(sn=>{var mn;return(mn=this.canvas)==null?void 0:mn.setAttribute("aria-label",sn)}),this.div.append(this.canvas),this.ctx=this.canvas.getContext("2d")},zy=function(){Vt(this,Nt,new ResizeObserver(sn=>{const mn=sn[0].contentRect;mn.width&&mn.height&&this.setDimensions(mn.width,mn.height)})),wt(this,Nt).observe(this.div)},rm=function(){if(!wt(this,Dt))return;const[sn,mn]=this.parentDimensions;this.canvas.width=Math.ceil(this.width*sn),this.canvas.height=Math.ceil(this.height*mn),Ut(this,jt,Vy).call(this)},Q1=function(sn,mn){const Pn=Ut(this,jt,Wy).call(this),Nn=(sn-Pn)/wt(this,St),Vn=(mn-Pn)/wt(this,Ct);this.scaleFactor=Math.min(Nn,Vn)},Vy=function(){const sn=Ut(this,jt,Wy).call(this)/2;this.ctx.setTransform(this.scaleFactor,0,0,this.scaleFactor,this.translationX*this.scaleFactor+sn,this.translationY*this.scaleFactor+sn)},cn=new WeakSet,yw=function(sn){const mn=new Path2D;for(let Pn=0,Nn=sn.length;Pn<Nn;Pn++){const[Vn,Qn,qn,Tn]=sn[Pn];Pn===0&&mn.moveTo(...Vn),mn.bezierCurveTo(Qn[0],Qn[1],qn[0],qn[1],Tn[0],Tn[1])}return mn},J1=function(sn,mn,Pn){const[Nn,Vn,Qn,qn]=mn;switch(Pn){case 0:for(let Tn=0,or=sn.length;Tn<or;Tn+=2)sn[Tn]+=Nn,sn[Tn+1]=qn-sn[Tn+1];break;case 90:for(let Tn=0,or=sn.length;Tn<or;Tn+=2){const nr=sn[Tn];sn[Tn]=sn[Tn+1]+Nn,sn[Tn+1]=nr+Vn}break;case 180:for(let Tn=0,or=sn.length;Tn<or;Tn+=2)sn[Tn]=Qn-sn[Tn],sn[Tn+1]+=Vn;break;case 270:for(let Tn=0,or=sn.length;Tn<or;Tn+=2){const nr=sn[Tn];sn[Tn]=Qn-sn[Tn+1],sn[Tn+1]=qn-nr}break;default:throw new Error("Invalid rotation")}return sn},xw=function(sn,mn,Pn){const[Nn,Vn,Qn,qn]=mn;switch(Pn){case 0:for(let Tn=0,or=sn.length;Tn<or;Tn+=2)sn[Tn]-=Nn,sn[Tn+1]=qn-sn[Tn+1];break;case 90:for(let Tn=0,or=sn.length;Tn<or;Tn+=2){const nr=sn[Tn];sn[Tn]=sn[Tn+1]-Vn,sn[Tn+1]=nr-Nn}break;case 180:for(let Tn=0,or=sn.length;Tn<or;Tn+=2)sn[Tn]=Qn-sn[Tn],sn[Tn+1]-=Vn;break;case 270:for(let Tn=0,or=sn.length;Tn<or;Tn+=2){const nr=sn[Tn];sn[Tn]=qn-sn[Tn+1],sn[Tn+1]=Qn-nr}break;default:throw new Error("Invalid rotation")}return sn},bw=function(sn,mn,Pn,Nn){var or,nr;const Vn=[],Qn=this.thickness/2,qn=sn*mn+Qn,Tn=sn*Pn+Qn;for(const Nr of this.paths){const Pr=[],Kr=[];for(let hr=0,wr=Nr.length;hr<wr;hr++){const[Ur,is,Xn,kn]=Nr[hr],Fn=sn*Ur[0]+qn,dr=sn*Ur[1]+Tn,gr=sn*is[0]+qn,Tr=sn*is[1]+Tn,yn=sn*Xn[0]+qn,Wn=sn*Xn[1]+Tn,sr=sn*kn[0]+qn,mr=sn*kn[1]+Tn;hr===0&&(Pr.push(Fn,dr),Kr.push(Fn,dr)),Pr.push(gr,Tr,yn,Wn,sr,mr),Kr.push(gr,Tr),hr===wr-1&&Kr.push(sr,mr)}Vn.push({bezier:Ut(or=Zn,cn,J1).call(or,Pr,Nn,this.rotation),points:Ut(nr=Zn,cn,J1).call(nr,Kr,Nn,this.rotation)})}return Vn},_b=function(){let sn=1/0,mn=-1/0,Pn=1/0,Nn=-1/0;for(const Vn of this.paths)for(const[Qn,qn,Tn,or]of Vn){const nr=vt.Util.bezierBoundingBox(...Qn,...qn,...Tn,...or);sn=Math.min(sn,nr[0]),Pn=Math.min(Pn,nr[1]),mn=Math.max(mn,nr[2]),Nn=Math.max(Nn,nr[3])}return[sn,Pn,mn,Nn]},Wy=function(){return wt(this,$t)?Math.ceil(this.thickness*this.parentScale):0},sm=function(sn=!1){if(this.isEmpty())return;if(!wt(this,$t)){Ut(this,jt,$l).call(this);return}const mn=Ut(this,jt,_b).call(this),Pn=Ut(this,jt,Wy).call(this);Vt(this,St,Math.max(xt.AnnotationEditor.MIN_SIZE,mn[2]-mn[0])),Vt(this,Ct,Math.max(xt.AnnotationEditor.MIN_SIZE,mn[3]-mn[1]));const Nn=Math.ceil(Pn+wt(this,St)*this.scaleFactor),Vn=Math.ceil(Pn+wt(this,Ct)*this.scaleFactor),[Qn,qn]=this.parentDimensions;this.width=Nn/Qn,this.height=Vn/qn,this.setAspectRatio(Nn,Vn);const Tn=this.translationX,or=this.translationY;this.translationX=-mn[0],this.translationY=-mn[1],Ut(this,jt,rm).call(this),Ut(this,jt,$l).call(this),Vt(this,Ht,Nn),Vt(this,Ot,Vn),this.setDims(Nn,Vn);const nr=sn?Pn/this.scaleFactor/2:0;this.translate(Tn-this.translationX-nr,or-this.translationY-nr)},Gt(Zn,cn),_r(Zn,"_defaultColor",null),_r(Zn,"_defaultOpacity",1),_r(Zn,"_defaultThickness",1),_r(Zn,"_type","ink");let _t=Zn;$.InkEditor=_t},(ht,$,_e)=>{var _t,Ct,St,Rt,Pt,kt,Mt,Lt,$t,Ft,Dt,b0,E0,Gy,eE,Ew,Aw,tE,Xy,ww;Object.defineProperty($,"__esModule",{value:!0}),$.StampEditor=void 0;var vt=_e(1),xt=_e(4),bt=_e(6),Et=_e(29);const en=class en extends xt.AnnotationEditor{constructor(un){super({...un,name:"stampEditor"});Gt(this,Dt);Gt(this,_t,null);Gt(this,Ct,null);Gt(this,St,null);Gt(this,Rt,null);Gt(this,Pt,null);Gt(this,kt,null);Gt(this,Mt,null);Gt(this,Lt,null);Gt(this,$t,!1);Gt(this,Ft,!1);Vt(this,Rt,un.bitmapUrl),Vt(this,Pt,un.bitmapFile)}static initialize(un){xt.AnnotationEditor.initialize(un)}static get supportedTypes(){const un=["apng","avif","bmp","gif","jpeg","png","svg+xml","webp","x-icon"];return(0,vt.shadow)(this,"supportedTypes",un.map(vn=>`image/${vn}`))}static get supportedTypesStr(){return(0,vt.shadow)(this,"supportedTypesStr",this.supportedTypes.join(","))}static isHandlingMimeForPasting(un){return this.supportedTypes.includes(un)}static paste(un,vn){vn.pasteEditor(vt.AnnotationEditorType.STAMP,{bitmapFile:un.getAsFile()})}remove(){var un,vn;wt(this,Ct)&&(Vt(this,_t,null),this._uiManager.imageManager.deleteId(wt(this,Ct)),(un=wt(this,kt))==null||un.remove(),Vt(this,kt,null),(vn=wt(this,Mt))==null||vn.disconnect(),Vt(this,Mt,null)),super.remove()}rebuild(){if(!this.parent){wt(this,Ct)&&Ut(this,Dt,Gy).call(this);return}super.rebuild(),this.div!==null&&(wt(this,Ct)&&Ut(this,Dt,Gy).call(this),this.isAttachedToDOM||this.parent.add(this))}onceAdded(){this._isDraggable=!0,this.div.focus()}isEmpty(){return!(wt(this,St)||wt(this,_t)||wt(this,Rt)||wt(this,Pt))}get isResizable(){return!0}render(){if(this.div)return this.div;let un,vn;if(this.width&&(un=this.x,vn=this.y),super.render(),this.div.hidden=!0,wt(this,_t)?Ut(this,Dt,eE).call(this):Ut(this,Dt,Gy).call(this),this.width){const[an,dn]=this.parentDimensions;this.setAt(un*an,vn*dn,this.width*an,this.height*dn)}return this.div}static deserialize(un,vn,an){if(un instanceof Et.StampAnnotationElement)return null;const dn=super.deserialize(un,vn,an),{rect:tn,bitmapUrl:gn,bitmapId:Sn,isSvg:rn,accessibilityData:qt}=un;Sn&&an.imageManager.isValidId(Sn)?Vt(dn,Ct,Sn):Vt(dn,Rt,gn),Vt(dn,$t,rn);const[Yt,Jt]=dn.pageDimensions;return dn.width=(tn[2]-tn[0])/Yt,dn.height=(tn[3]-tn[1])/Jt,qt&&(dn.altTextData=qt),dn}serialize(un=!1,vn=null){if(this.isEmpty())return null;const an={annotationType:vt.AnnotationEditorType.STAMP,bitmapId:wt(this,Ct),pageIndex:this.pageIndex,rect:this.getRect(0,0),rotation:this.rotation,isSvg:wt(this,$t),structTreeParentId:this._structTreeParentId};if(un)return an.bitmapUrl=Ut(this,Dt,Xy).call(this,!0),an.accessibilityData=this.altTextData,an;const{decorative:dn,altText:tn}=this.altTextData;if(!dn&&tn&&(an.accessibilityData={type:"Figure",alt:tn}),vn===null)return an;vn.stamps||(vn.stamps=new Map);const gn=wt(this,$t)?(an.rect[2]-an.rect[0])*(an.rect[3]-an.rect[1]):null;if(!vn.stamps.has(wt(this,Ct)))vn.stamps.set(wt(this,Ct),{area:gn,serialized:an}),an.bitmap=Ut(this,Dt,Xy).call(this,!1);else if(wt(this,$t)){const Sn=vn.stamps.get(wt(this,Ct));gn>Sn.area&&(Sn.area=gn,Sn.serialized.bitmap.close(),Sn.serialized.bitmap=Ut(this,Dt,Xy).call(this,!1))}return an}};_t=new WeakMap,Ct=new WeakMap,St=new WeakMap,Rt=new WeakMap,Pt=new WeakMap,kt=new WeakMap,Mt=new WeakMap,Lt=new WeakMap,$t=new WeakMap,Ft=new WeakMap,Dt=new WeakSet,b0=function(un,vn=!1){if(!un){this.remove();return}Vt(this,_t,un.bitmap),vn||(Vt(this,Ct,un.id),Vt(this,$t,un.isSvg)),Ut(this,Dt,eE).call(this)},E0=function(){Vt(this,St,null),this._uiManager.enableWaiting(!1),wt(this,kt)&&this.div.focus()},Gy=function(){if(wt(this,Ct)){this._uiManager.enableWaiting(!0),this._uiManager.imageManager.getFromId(wt(this,Ct)).then(vn=>Ut(this,Dt,b0).call(this,vn,!0)).finally(()=>Ut(this,Dt,E0).call(this));return}if(wt(this,Rt)){const vn=wt(this,Rt);Vt(this,Rt,null),this._uiManager.enableWaiting(!0),Vt(this,St,this._uiManager.imageManager.getFromUrl(vn).then(an=>Ut(this,Dt,b0).call(this,an)).finally(()=>Ut(this,Dt,E0).call(this)));return}if(wt(this,Pt)){const vn=wt(this,Pt);Vt(this,Pt,null),this._uiManager.enableWaiting(!0),Vt(this,St,this._uiManager.imageManager.getFromFile(vn).then(an=>Ut(this,Dt,b0).call(this,an)).finally(()=>Ut(this,Dt,E0).call(this)));return}const un=document.createElement("input");un.type="file",un.accept=en.supportedTypesStr,Vt(this,St,new Promise(vn=>{un.addEventListener("change",async()=>{if(!un.files||un.files.length===0)this.remove();else{this._uiManager.enableWaiting(!0);const an=await this._uiManager.imageManager.getFromFile(un.files[0]);Ut(this,Dt,b0).call(this,an)}vn()}),un.addEventListener("cancel",()=>{this.remove(),vn()})}).finally(()=>Ut(this,Dt,E0).call(this))),un.click()},eE=function(){const{div:un}=this;let{width:vn,height:an}=wt(this,_t);const[dn,tn]=this.pageDimensions,gn=.75;if(this.width)vn=this.width*dn,an=this.height*tn;else if(vn>gn*dn||an>gn*tn){const Yt=Math.min(gn*dn/vn,gn*tn/an);vn*=Yt,an*=Yt}const[Sn,rn]=this.parentDimensions;this.setDims(vn*Sn/dn,an*rn/tn),this._uiManager.enableWaiting(!1);const qt=Vt(this,kt,document.createElement("canvas"));un.append(qt),un.hidden=!1,Ut(this,Dt,tE).call(this,vn,an),Ut(this,Dt,ww).call(this),wt(this,Ft)||(this.parent.addUndoableEditor(this),Vt(this,Ft,!0)),this._uiManager._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",subtype:this.editorType,data:{action:"inserted_image"}}}),this.addAltTextButton()},Ew=function(un,vn){var gn;const[an,dn]=this.parentDimensions;this.width=un/an,this.height=vn/dn,this.setDims(un,vn),(gn=this._initialOptions)!=null&&gn.isCentered?this.center():this.fixAndSetPosition(),this._initialOptions=null,wt(this,Lt)!==null&&clearTimeout(wt(this,Lt)),Vt(this,Lt,setTimeout(()=>{Vt(this,Lt,null),Ut(this,Dt,tE).call(this,un,vn)},200))},Aw=function(un,vn){const{width:an,height:dn}=wt(this,_t);let tn=an,gn=dn,Sn=wt(this,_t);for(;tn>2*un||gn>2*vn;){const rn=tn,qt=gn;tn>2*un&&(tn=tn>=16384?Math.floor(tn/2)-1:Math.ceil(tn/2)),gn>2*vn&&(gn=gn>=16384?Math.floor(gn/2)-1:Math.ceil(gn/2));const Yt=new OffscreenCanvas(tn,gn);Yt.getContext("2d").drawImage(Sn,0,0,rn,qt,0,0,tn,gn),Sn=Yt.transferToImageBitmap()}return Sn},tE=function(un,vn){un=Math.ceil(un),vn=Math.ceil(vn);const an=wt(this,kt);if(!an||an.width===un&&an.height===vn)return;an.width=un,an.height=vn;const dn=wt(this,$t)?wt(this,_t):Ut(this,Dt,Aw).call(this,un,vn),tn=an.getContext("2d");tn.filter=this._uiManager.hcmFilter,tn.drawImage(dn,0,0,dn.width,dn.height,0,0,un,vn)},Xy=function(un){if(un){if(wt(this,$t)){const dn=this._uiManager.imageManager.getSvgUrl(wt(this,Ct));if(dn)return dn}const vn=document.createElement("canvas");return{width:vn.width,height:vn.height}=wt(this,_t),vn.getContext("2d").drawImage(wt(this,_t),0,0),vn.toDataURL()}if(wt(this,$t)){const[vn,an]=this.pageDimensions,dn=Math.round(this.width*vn*bt.PixelsPerInch.PDF_TO_CSS_UNITS),tn=Math.round(this.height*an*bt.PixelsPerInch.PDF_TO_CSS_UNITS),gn=new OffscreenCanvas(dn,tn);return gn.getContext("2d").drawImage(wt(this,_t),0,0,wt(this,_t).width,wt(this,_t).height,0,0,dn,tn),gn.transferToImageBitmap()}return structuredClone(wt(this,_t))},ww=function(){Vt(this,Mt,new ResizeObserver(un=>{const vn=un[0].contentRect;vn.width&&vn.height&&Ut(this,Dt,Ew).call(this,vn.width,vn.height)})),wt(this,Mt).observe(this.div)},_r(en,"_type","stamp");let At=en;$.StampEditor=At}],__webpack_module_cache__={};function __w_pdfjs_require__(ht){var $=__webpack_module_cache__[ht];if($!==void 0)return $.exports;var _e=__webpack_module_cache__[ht]={exports:{}};return __webpack_modules__[ht](_e,_e.exports,__w_pdfjs_require__),_e.exports}var __webpack_exports__={};return(()=>{var ht=__webpack_exports__;Object.defineProperty(ht,"__esModule",{value:!0}),Object.defineProperty(ht,"AbortException",{enumerable:!0,get:function(){return $.AbortException}}),Object.defineProperty(ht,"AnnotationEditorLayer",{enumerable:!0,get:function(){return bt.AnnotationEditorLayer}}),Object.defineProperty(ht,"AnnotationEditorParamsType",{enumerable:!0,get:function(){return $.AnnotationEditorParamsType}}),Object.defineProperty(ht,"AnnotationEditorType",{enumerable:!0,get:function(){return $.AnnotationEditorType}}),Object.defineProperty(ht,"AnnotationEditorUIManager",{enumerable:!0,get:function(){return Et.AnnotationEditorUIManager}}),Object.defineProperty(ht,"AnnotationLayer",{enumerable:!0,get:function(){return At.AnnotationLayer}}),Object.defineProperty(ht,"AnnotationMode",{enumerable:!0,get:function(){return $.AnnotationMode}}),Object.defineProperty(ht,"CMapCompressionType",{enumerable:!0,get:function(){return $.CMapCompressionType}}),Object.defineProperty(ht,"DOMSVGFactory",{enumerable:!0,get:function(){return vt.DOMSVGFactory}}),Object.defineProperty(ht,"FeatureTest",{enumerable:!0,get:function(){return $.FeatureTest}}),Object.defineProperty(ht,"GlobalWorkerOptions",{enumerable:!0,get:function(){return _t.GlobalWorkerOptions}}),Object.defineProperty(ht,"ImageKind",{enumerable:!0,get:function(){return $.ImageKind}}),Object.defineProperty(ht,"InvalidPDFException",{enumerable:!0,get:function(){return $.InvalidPDFException}}),Object.defineProperty(ht,"MissingPDFException",{enumerable:!0,get:function(){return $.MissingPDFException}}),Object.defineProperty(ht,"OPS",{enumerable:!0,get:function(){return $.OPS}}),Object.defineProperty(ht,"PDFDataRangeTransport",{enumerable:!0,get:function(){return _e.PDFDataRangeTransport}}),Object.defineProperty(ht,"PDFDateString",{enumerable:!0,get:function(){return vt.PDFDateString}}),Object.defineProperty(ht,"PDFWorker",{enumerable:!0,get:function(){return _e.PDFWorker}}),Object.defineProperty(ht,"PasswordResponses",{enumerable:!0,get:function(){return $.PasswordResponses}}),Object.defineProperty(ht,"PermissionFlag",{enumerable:!0,get:function(){return $.PermissionFlag}}),Object.defineProperty(ht,"PixelsPerInch",{enumerable:!0,get:function(){return vt.PixelsPerInch}}),Object.defineProperty(ht,"PromiseCapability",{enumerable:!0,get:function(){return $.PromiseCapability}}),Object.defineProperty(ht,"RenderingCancelledException",{enumerable:!0,get:function(){return vt.RenderingCancelledException}}),Object.defineProperty(ht,"SVGGraphics",{enumerable:!0,get:function(){return _e.SVGGraphics}}),Object.defineProperty(ht,"UnexpectedResponseException",{enumerable:!0,get:function(){return $.UnexpectedResponseException}}),Object.defineProperty(ht,"Util",{enumerable:!0,get:function(){return $.Util}}),Object.defineProperty(ht,"VerbosityLevel",{enumerable:!0,get:function(){return $.VerbosityLevel}}),Object.defineProperty(ht,"XfaLayer",{enumerable:!0,get:function(){return Ct.XfaLayer}}),Object.defineProperty(ht,"build",{enumerable:!0,get:function(){return _e.build}}),Object.defineProperty(ht,"createValidAbsoluteUrl",{enumerable:!0,get:function(){return $.createValidAbsoluteUrl}}),Object.defineProperty(ht,"getDocument",{enumerable:!0,get:function(){return _e.getDocument}}),Object.defineProperty(ht,"getFilenameFromUrl",{enumerable:!0,get:function(){return vt.getFilenameFromUrl}}),Object.defineProperty(ht,"getPdfFilenameFromUrl",{enumerable:!0,get:function(){return vt.getPdfFilenameFromUrl}}),Object.defineProperty(ht,"getXfaPageViewport",{enumerable:!0,get:function(){return vt.getXfaPageViewport}}),Object.defineProperty(ht,"isDataScheme",{enumerable:!0,get:function(){return vt.isDataScheme}}),Object.defineProperty(ht,"isPdfFile",{enumerable:!0,get:function(){return vt.isPdfFile}}),Object.defineProperty(ht,"loadScript",{enumerable:!0,get:function(){return vt.loadScript}}),Object.defineProperty(ht,"noContextMenu",{enumerable:!0,get:function(){return vt.noContextMenu}}),Object.defineProperty(ht,"normalizeUnicode",{enumerable:!0,get:function(){return $.normalizeUnicode}}),Object.defineProperty(ht,"renderTextLayer",{enumerable:!0,get:function(){return xt.renderTextLayer}}),Object.defineProperty(ht,"setLayerDimensions",{enumerable:!0,get:function(){return vt.setLayerDimensions}}),Object.defineProperty(ht,"shadow",{enumerable:!0,get:function(){return $.shadow}}),Object.defineProperty(ht,"updateTextLayer",{enumerable:!0,get:function(){return xt.updateTextLayer}}),Object.defineProperty(ht,"version",{enumerable:!0,get:function(){return _e.version}});var $=__w_pdfjs_require__(1),_e=__w_pdfjs_require__(2),vt=__w_pdfjs_require__(6),xt=__w_pdfjs_require__(26),bt=__w_pdfjs_require__(27),Et=__w_pdfjs_require__(5),At=__w_pdfjs_require__(29),_t=__w_pdfjs_require__(14),Ct=__w_pdfjs_require__(32)})(),__webpack_exports__})())})(pdf);var pdfExports=pdf.exports;const pdfjs=getDefaultExportFromCjs(pdfExports);function PdfShow(){const{state:ht}=useLocation(),{url:$}=ht,_e=reactExports.useRef(null);return reactExports.useEffect(()=>{console.log("hi"),(async()=>{try{const xt=await fetch($).then(Rt=>Rt.arrayBuffer()),Et=await(await pdfjs.getDocument({data:xt}).promise).getPage(1),At=_e.current,_t=At.getContext("2d"),Ct=Et.getViewport({scale:1});At.width=Ct.width,At.height=Ct.height;const St={canvasContext:_t,viewport:Ct};await Et.render(St)}catch(xt){console.error("Error loading PDF:",xt)}})()},[$]),jsxRuntimeExports.jsx("canvas",{ref:_e})}function Editsvg(){return jsxRuntimeExports.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:"size-6 ",children:[jsxRuntimeExports.jsx("path",{d:"M21.731 2.269a2.625 2.625 0 0 0-3.712 0l-1.157 1.157 3.712 3.712 1.157-1.157a2.625 2.625 0 0 0 0-3.712ZM19.513 8.199l-3.712-3.712-8.4 8.4a5.25 5.25 0 0 0-1.32 2.214l-.8 2.685a.75.75 0 0 0 .933.933l2.685-.8a5.25 5.25 0 0 0 2.214-1.32l8.4-8.4Z"}),jsxRuntimeExports.jsx("path",{d:"M5.25 5.25a3 3 0 0 0-3 3v10.5a3 3 0 0 0 3 3h10.5a3 3 0 0 0 3-3V13.5a.75.75 0 0 0-1.5 0v5.25a1.5 1.5 0 0 1-1.5 1.5H5.25a1.5 1.5 0 0 1-1.5-1.5V8.25a1.5 1.5 0 0 1 1.5-1.5h5.25a.75.75 0 0 0 0-1.5H5.25Z"})]})}function Doctoranalysis(){const ht=reactExports.useRef(null),[$,_e]=reactExports.useState(0),vt=useLocation(),xt=useNavigate(),[bt,Et]=reactExports.useState(null),[At,_t]=reactExports.useState(null),[Ct,St]=reactExports.useState(null),[Rt,Pt]=reactExports.useState(null),[kt,Mt]=reactExports.useState(null),[Lt,$t]=reactExports.useState(!1),[Ft,Dt]=reactExports.useState([]),[Nt,Ht]=reactExports.useState(!1),[Ot,Bt]=reactExports.useState(""),[jt,zt]=reactExports.useState(null),Kt=reactExports.useRef(null);reactExports.useEffect(()=>{if(vt.state){const{id:vn,pid:an,isDoctor:dn,patientData:tn}=vt.state;Et(an),_t(vn),St(dn),Pt(tn)}},[vt]),reactExports.useEffect(()=>{At&&bt&&(nn(),Xt())},[At,bt]);async function nn(){try{const vn=await axios.get(`/en/getreport/${At}`);Mt(vn.data),Dt(vn.data.precautions),Ht(vn.data.isVerified),Bt(vn.data.doctorNotes||"")}catch(vn){console.error("Error fetching report:",vn)}}async function Xt(){try{const vn=await axios.post("/en/getprevreports",{patientId:bt,reportId:At});zt(vn.data)}catch(vn){console.error("Error fetching dates:",vn)}}const en=()=>{$t(!Lt),setTimeout(()=>{var vn;(vn=Kt.current)==null||vn.focus()},0)},on=vn=>{const an=new Date,dn=new Date(vn);let tn=an.getFullYear()-dn.getFullYear();const gn=an.getMonth()-dn.getMonth();return(gn<0||gn===0&&an.getDate()<dn.getDate())&&tn--,tn},An=async()=>{try{Ht(!0);const vn={...kt,doctorNotes:Ot};Mt(vn);const an=await axios.post("/en/saveprecautions",{reportId:At,precautions:Ft,doctorNotes:Ot});console.log(an)}catch(vn){console.error("Error verifying report:",vn)}},un=vn=>{xt("/doctoranalysis",{replace:!0,state:{id:vn,pid:bt,isDoctor:Ct,patientData:Rt}}),window.scrollTo(0,0)};return!kt||!jt||!Rt?jsxRuntimeExports.jsx("div",{children:"Loading..."}):kt&&jt&&Rt&&jsxRuntimeExports.jsx("div",{className:"relative flex size-full min-h-screen flex-col bg-white group/design-root overflow-x-hidden ",style:{fontFamily:'Manrope, "Noto Sans", sans-serif'},children:jsxRuntimeExports.jsxs("div",{className:"layout-container flex h-full grow flex-col",children:[jsxRuntimeExports.jsxs("header",{className:"flex items-center justify-between whitespace-nowrap border-b border-solid border-b-[#f0f2f4] px-10 py-3",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-4 text-[#111418]",children:[jsxRuntimeExports.jsx("div",{className:"size-4",children:jsxRuntimeExports.jsx("svg",{viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:jsxRuntimeExports.jsx("path",{d:"M4 4H17.3334V17.3334H30.6666V30.6666H44V44H4V4Z",fill:"currentColor"})})}),jsxRuntimeExports.jsx("h2",{className:"text-[#111418] text-lg font-bold leading-tight tracking-[-0.015em]",children:"Saanjh sahayak"})]}),jsxRuntimeExports.jsxs("div",{className:"flex flex-1 justify-end gap-8",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-9",children:[jsxRuntimeExports.jsx("a",{className:"text-[#111418] text-sm font-medium leading-normal",href:"#",children:"Patients"}),jsxRuntimeExports.jsx("a",{className:"text-[#111418] text-sm font-medium leading-normal",href:"#",children:"Reports"})]}),jsxRuntimeExports.jsxs("div",{className:"flex gap-2",children:[jsxRuntimeExports.jsx("button",{className:"flex max-w-[480px] cursor-pointer items-center justify-center overflow-hidden rounded-xl h-10 bg-[#f0f2f4] text-[#111418] gap-2 text-sm font-bold leading-normal tracking-[0.015em] min-w-0 px-2.5",children:jsxRuntimeExports.jsx("div",{className:"text-[#111418]","data-icon":"MagnifyingGlass","data-size":"20px","data-weight":"regular",children:jsxRuntimeExports.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20px",height:"20px",fill:"currentColor",viewBox:"0 0 256 256",children:jsxRuntimeExports.jsx("path",{d:"M229.66,218.34l-50.07-50.06a88.11,88.11,0,1,0-11.31,11.31l50.06,50.07a8,8,0,0,0,11.32-11.32ZM40,112a72,72,0,1,1,72,72A72.08,72.08,0,0,1,40,112Z"})})})}),jsxRuntimeExports.jsx("button",{className:"flex max-w-[480px] cursor-pointer items-center justify-center overflow-hidden rounded-xl h-10 bg-[#f0f2f4] text-[#111418] gap-2 text-sm font-bold leading-normal tracking-[0.015em] min-w-0 px-2.5",children:jsxRuntimeExports.jsx("div",{className:"text-[#111418]","data-icon":"Bell","data-size":"20px","data-weight":"regular",children:jsxRuntimeExports.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20px",height:"20px",fill:"currentColor",viewBox:"0 0 256 256",children:jsxRuntimeExports.jsx("path",{d:"M221.8,175.94C216.25,166.38,208,139.33,208,104a80,80,0,1,0-160,0c0,35.34-8.26,62.38-13.81,71.94A16,16,0,0,0,48,200H88.81a40,40,0,0,0,78.38,0H208a16,16,0,0,0,13.8-24.06ZM128,216a24,24,0,0,1-22.62-16h45.24A24,24,0,0,1,128,216ZM48,184c7.7-13.24,16-43.92,16-80a64,64,0,1,1,128,0c0,36.05,8.28,66.73,16,80Z"})})})}),jsxRuntimeExports.jsx("button",{className:"flex max-w-[480px] cursor-pointer items-center justify-center overflow-hidden rounded-xl h-10 bg-[#f0f2f4] text-[#111418] gap-2 text-sm font-bold leading-normal tracking-[0.015em] min-w-0 px-2.5",children:jsxRuntimeExports.jsx("div",{className:"text-[#111418]","data-icon":"ChatCircleDots","data-size":"20px","data-weight":"regular",children:jsxRuntimeExports.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20px",height:"20px",fill:"currentColor",viewBox:"0 0 256 256",children:jsxRuntimeExports.jsx("path",{d:"M140,128a12,12,0,1,1-12-12A12,12,0,0,1,140,128ZM84,116a12,12,0,1,0,12,12A12,12,0,0,0,84,116Zm88,0a12,12,0,1,0,12,12A12,12,0,0,0,172,116Zm60,12A104,104,0,0,1,79.12,219.82L45.07,231.17a16,16,0,0,1-20.24-20.24l11.35-34.05A104,104,0,1,1,232,128Zm-16,0A88,88,0,1,0,51.81,172.06a8,8,0,0,1,.66,6.54L40,216,77.4,203.53a7.85,7.85,0,0,1,2.53-.42,8,8,0,0,1,4,1.08A88,88,0,0,0,216,128Z"})})})})]}),jsxRuntimeExports.jsx("div",{className:"bg-center bg-no-repeat aspect-square bg-cover rounded-full size-10",style:{backgroundImage:'url("https://cdn.usegalileo.ai/stability/1c59f8b8-2f0d-4280-9e6d-75d6c0cee0d6.png")'}})]})]}),jsxRuntimeExports.jsx("div",{className:"px-40 flex flex-1 justify-center py-5",children:jsxRuntimeExports.jsxs("div",{className:"layout-content-container flex flex-col max-w-[960px] flex-1",children:[jsxRuntimeExports.jsx("div",{className:"flex flex-wrap justify-between gap-3 p-4",children:jsxRuntimeExports.jsx("p",{className:"text-[#111418] text-4xl font-black leading-tight tracking-[-0.033em] min-w-72 content-center",children:"Patient Information"})}),jsxRuntimeExports.jsx("div",{className:"flex p-4 @container",children:jsxRuntimeExports.jsx("div",{className:"flex w-full flex-col gap-4 @[520px]:flex-row @[520px]:justify-between @[520px]:items-start",children:jsxRuntimeExports.jsxs("div",{className:"flex gap-4",children:[jsxRuntimeExports.jsx("div",{className:"bg-center bg-no-repeat aspect-square bg-cover rounded-full min-h-32 w-32",style:{backgroundImage:'url("https://cdn.usegalileo.ai/stability/82b7a4d5-f5b9-4dd7-9c3a-8650f6ea64f0.png")'}}),jsxRuntimeExports.jsxs("div",{className:"flex flex-col justify-center",children:[jsxRuntimeExports.jsx("p",{className:"text-[#111418] text-[22px] font-bold leading-tight tracking-[-0.015em]",children:Rt.name}),jsxRuntimeExports.jsxs("p",{className:"text-[#637588] text-base font-normal leading-normal",children:[Rt.gender,", Age ",on(Rt.DOB)]}),jsxRuntimeExports.jsxs("p",{className:"text-[#637588] text-base font-normal leading-normal",children:[" Blood Group: ",Rt.bloodGroup]})]})]})})}),jsxRuntimeExports.jsx("h3",{className:"text-[#111418] text-lg font-bold leading-tight tracking-[-0.015em] px-4 pb-2 pt-4",children:"Known Conditions"}),jsxRuntimeExports.jsx("div",{className:"flex gap-3 p-3 flex-wrap pr-4",children:Rt.chronics.map((vn,an)=>jsxRuntimeExports.jsx("div",{className:"flex h-8 shrink-0 items-center justify-center gap-x-2 rounded-xl bg-[#f0f2f4] pl-4 pr-4",children:jsxRuntimeExports.jsx("p",{className:"text-[#111418] text-sm font-medium leading-normal",children:vn})},an))}),jsxRuntimeExports.jsx("h3",{className:"text-[#111418] text-lg font-bold leading-tight tracking-[-0.015em] px-4 pb-2 pt-4",children:"Current Report"}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-4 bg-white px-4 min-h-[72px] py-2 justify-between",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-4",children:[jsxRuntimeExports.jsx("div",{className:"text-[#111418] flex items-center justify-center rounded-lg bg-[#f0f2f4] shrink-0 size-12","data-icon":"File","data-size":"24px","data-weight":"regular",children:jsxRuntimeExports.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24px",height:"24px",fill:"currentColor",viewBox:"0 0 256 256",children:jsxRuntimeExports.jsx("path",{d:"M213.66,82.34l-56-56A8,8,0,0,0,152,24H56A16,16,0,0,0,40,40V216a16,16,0,0,0,16,16H200a16,16,0,0,0,16-16V88A8,8,0,0,0,213.66,82.34ZM160,51.31,188.69,80H160ZM200,216H56V40h88V88a8,8,0,0,0,8,8h48V216Z"})})}),jsxRuntimeExports.jsxs("div",{className:"flex flex-col justify-center",children:[jsxRuntimeExports.jsx("p",{className:"text-[#111418] text-base font-medium leading-normal line-clamp-1",children:"Test Report"}),jsxRuntimeExports.jsx("p",{className:"text-[#637588] text-sm font-normal leading-normal line-clamp-2",children:"Report from 27 June 2024"})]})]}),jsxRuntimeExports.jsx("div",{className:"shrink-0",children:jsxRuntimeExports.jsx("div",{className:"text-[#111418] flex size-7 items-center justify-center","data-icon":"CaretRight","data-size":"24px","data-weight":"regular",children:jsxRuntimeExports.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24px",height:"24px",fill:"currentColor",viewBox:"0 0 256 256",children:jsxRuntimeExports.jsx("path",{d:"M181.66,133.66l-80,80a8,8,0,0,1-11.32-11.32L164.69,128,90.34,53.66a8,8,0,0,1,11.32-11.32l80,80A8,8,0,0,1,181.66,133.66Z"})})})})]}),jsxRuntimeExports.jsx("h3",{className:"text-[#111418] text-lg font-bold leading-tight tracking-[-0.015em] px-4 pb-2 pt-4",children:"Analysis"}),jsxRuntimeExports.jsx("div",{className:"text-lg   tracking-[-0.020em] ",children:jsxRuntimeExports.jsx("p",{className:"px-4 pb-2 pt-4",children:kt.summary})}),jsxRuntimeExports.jsx("h3",{className:"text-[#111418] text-lg font-bold leading-tight tracking-[-0.015em] px-4 pb-2 pt-4",children:"Precautions"}),jsxRuntimeExports.jsx("div",{className:"p-4 @container",children:jsxRuntimeExports.jsxs("div",{className:"flex flex-1 items-start justify-between gap-4 rounded-xl border border-[#dce0e5] bg-white p-5 @[480px]:flex-row @[480px]:items-center",style:{height:$?`${$+20}px`:"auto"},children:[jsxRuntimeExports.jsx("div",{className:"flex flex-col gap-1 flex-1",children:Lt?jsxRuntimeExports.jsx("textarea",{defaultValue:Ft.join(`
`),className:"border border-[#dce0e5] rounded-xl p-2 flex-1",onChange:vn=>Dt(vn.target.value.split(`
`))}):jsxRuntimeExports.jsx("ul",{className:"text-[#637588] text-base font-normal leading-normal flex-1",ref:ht,children:Ft.map((vn,an)=>jsxRuntimeExports.jsx("li",{children:vn},an))})}),jsxRuntimeExports.jsx("button",{onClick:en,className:` ${Nt?"hidden":""} ${Ct?"":"hidden"} flex min-w-[60px] max-w-[480px] cursor-pointer items-center justify-center overflow-hidden rounded-xl h-10 px-4 bg-[#1b7ada] text-white text-sm font-medium leading-normal`,children:Lt?jsxRuntimeExports.jsx("span",{className:"truncate",children:"Save"}):jsxRuntimeExports.jsx(Editsvg,{})})]})}),jsxRuntimeExports.jsx("h3",{className:`text-[#111418] text-lg font-bold leading-tight tracking-[-0.015em] px-4 pb-2 pt-4 ${Ct?"":"hidden"} `,children:"Predictions"}),jsxRuntimeExports.jsx("div",{className:`p-4 @container ${Ct?"":"hidden"}`,children:jsxRuntimeExports.jsx("div",{className:"flex flex-1  items-start justify-between gap-4 rounded-xl border border-[#dce0e5] bg-white p-5 @[480px]:flex-row @[480px]:items-center",children:jsxRuntimeExports.jsx("div",{className:"flex flex-col gap-1 flex-1",children:jsxRuntimeExports.jsx("ul",{className:"text-[#637588] text-base font-normal leading-normal flex-1",ref:ht,children:kt.possibleDiseases.map((vn,an)=>jsxRuntimeExports.jsx("li",{children:vn},an))})})})}),jsxRuntimeExports.jsx("h3",{className:"text-[#111418] text-lg font-bold leading-tight tracking-[-0.015em] px-4 pb-2 pt-4",children:"Doctor's Advice"}),jsxRuntimeExports.jsx("div",{className:"flex max-w-[480px] flex-1 flex-wrap items-end gap-4 px-4 py-3",children:jsxRuntimeExports.jsx("label",{className:"flex flex-col min-w-40 flex-1",children:kt.doctorNotes===""?jsxRuntimeExports.jsx("textarea",{defaultValue:kt.doctorNotes,className:"border border-[#dce0e5] rounded-xl p-2 flex-1",onChange:vn=>Bt(vn.target.value)}):jsxRuntimeExports.jsx("div",{className:"text-[#637588] text-base font-normal leading-normal flex-1",ref:ht,children:kt.doctorNotes})})}),jsxRuntimeExports.jsx("div",{className:"flex px-4 py-3 justify-end",children:jsxRuntimeExports.jsx("button",{onClick:An,className:`${Nt===!1?"flex":"hidden"} ${Ct?"":"hidden"}  flex min-w-[84px] max-w-[480px] cursor-pointer items-center justify-center overflow-hidden rounded-xl h-10 px-4 bg-[#1b7ada] text-white text-sm font-bold leading-normal tracking-[0.015em]`,children:jsxRuntimeExports.jsx("span",{className:"truncate",children:"verify"})})}),jsxRuntimeExports.jsx("h3",{className:"text-[#111418] text-lg font-bold leading-tight tracking-[-0.015em] px-4 pb-2 pt-4",children:"Previous Reports"}),jsxRuntimeExports.jsx("div",{children:jt.map((vn,an)=>jsxRuntimeExports.jsxs("div",{onClick:()=>{un(vn.file)},className:"flex items-center gap-4  px-4 min-h-[72px] py-2 justify-between cursor-pointer hover:bg-slate-100 hover:scale-105 transition transform duration-300",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-4",children:[jsxRuntimeExports.jsx("div",{className:"text-[#0d151c] flex items-center justify-center rounded-lg bg-[#e7eef4] shrink-0 size-12","data-icon":"File","data-size":"24px","data-weight":"regular",children:jsxRuntimeExports.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24px",height:"24px",fill:"currentColor",viewBox:"0 0 256 256",children:jsxRuntimeExports.jsx("path",{d:"M213.66,82.34l-56-56A8,8,0,0,0,152,24H56A16,16,0,0,0,40,40V216a16,16,0,0,0,16,16H200a16,16,0,0,0,16-16V88A8,8,0,0,0,213.66,82.34ZM160,51.31,188.69,80H160ZM200,216H56V40h88V88a8,8,0,0,0,8,8h48V216Z"})})}),jsxRuntimeExports.jsxs("div",{className:"flex flex-col justify-center",children:[jsxRuntimeExports.jsx("p",{className:"text-[#0d151c] text-base font-medium leading-normal line-clamp-1",children:vn.date}),jsxRuntimeExports.jsx("p",{className:"text-[#49779c] text-sm font-normal leading-normal line-clamp-2",children:vn.specialistReq})]})]}),jsxRuntimeExports.jsx("div",{className:"shrink-0",children:jsxRuntimeExports.jsx("div",{className:"text-[#0d151c] flex size-7 items-center justify-center","data-icon":"CaretRight","data-size":"24px","data-weight":"regular",children:jsxRuntimeExports.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24px",height:"24px",fill:"currentColor",viewBox:"0 0 256 256",children:jsxRuntimeExports.jsx("path",{d:"M181.66,133.66l-80,80a8,8,0,0,1-11.32-11.32L164.69,128,90.34,53.66a8,8,0,0,1,11.32-11.32l80,80A8,8,0,0,1,181.66,133.66Z"})})})})]},an))})]})})]})})}var core_min={};(function(ht){var $=reactExports,_e=pdfExports;function vt(Wt){var Qt=Object.create(null);return Wt&&Object.keys(Wt).forEach(function(xn){if(xn!=="default"){var bn=Object.getOwnPropertyDescriptor(Wt,xn);Object.defineProperty(Qt,xn,bn.get?bn:{enumerable:!0,get:function(){return Wt[xn]}})}}),Qt.default=Wt,Object.freeze(Qt)}var xt,bt=vt($),Et=vt(_e);ht.AnnotationType=void 0,(xt=ht.AnnotationType||(ht.AnnotationType={}))[xt.Text=1]="Text",xt[xt.Link=2]="Link",xt[xt.FreeText=3]="FreeText",xt[xt.Line=4]="Line",xt[xt.Square=5]="Square",xt[xt.Circle=6]="Circle",xt[xt.Polygon=7]="Polygon",xt[xt.Polyline=8]="Polyline",xt[xt.Highlight=9]="Highlight",xt[xt.Underline=10]="Underline",xt[xt.Squiggly=11]="Squiggly",xt[xt.StrikeOut=12]="StrikeOut",xt[xt.Stamp=13]="Stamp",xt[xt.Caret=14]="Caret",xt[xt.Ink=15]="Ink",xt[xt.Popup=16]="Popup",xt[xt.FileAttachment=17]="FileAttachment";var At=function(Wt,Qt){return At=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(xn,bn){xn.__proto__=bn}||function(xn,bn){for(var wn in bn)Object.prototype.hasOwnProperty.call(bn,wn)&&(xn[wn]=bn[wn])},At(Wt,Qt)};function _t(Wt,Qt){if(typeof Qt!="function"&&Qt!==null)throw new TypeError("Class extends value "+String(Qt)+" is not a constructor or null");function xn(){this.constructor=Wt}At(Wt,Qt),Wt.prototype=Qt===null?Object.create(Qt):(xn.prototype=Qt.prototype,new xn)}var Ct,St=function(){return St=Object.assign||function(Wt){for(var Qt,xn=1,bn=arguments.length;xn<bn;xn++)for(var wn in Qt=arguments[xn])Object.prototype.hasOwnProperty.call(Qt,wn)&&(Wt[wn]=Qt[wn]);return Wt},St.apply(this,arguments)};ht.TextDirection=void 0,(Ct=ht.TextDirection||(ht.TextDirection={})).RightToLeft="RTL",Ct.LeftToRight="LTR";var Rt,Pt=bt.createContext({currentTheme:"light",direction:ht.TextDirection.LeftToRight,setCurrentTheme:function(){}}),kt=function(Wt){var Qt=[];return Object.keys(Wt).forEach(function(xn){xn&&Wt[xn]&&Qt.push(xn)}),Qt.join(" ")},Mt=typeof window<"u"?bt.useLayoutEffect:bt.useEffect,Lt=function(Wt){var Qt=bt.useRef(null),xn=Wt.once,bn=Wt.threshold,wn=Wt.onVisibilityChanged;return Mt(function(){var Cn=Qt.current;if(Cn){var On=new IntersectionObserver(function(Mn){Mn.forEach(function(En){var In=En.isIntersecting,Ln=En.intersectionRatio;wn({isVisible:In,ratio:Ln}),In&&xn&&(On.unobserve(Cn),On.disconnect())})},{threshold:bn||0});return On.observe(Cn),function(){On.unobserve(Cn),On.disconnect()}}},[]),Qt},$t=function(Wt){var Qt=Wt.children,xn=Wt.ignoreDirection,bn=xn!==void 0&&xn,wn=Wt.size,Cn=wn===void 0?24:wn,On=bt.useContext(Pt).direction,Mn=!bn&&On===ht.TextDirection.RightToLeft,En="".concat(Cn||24,"px");return bt.createElement("svg",{"aria-hidden":"true",className:kt({"rpv-core__icon":!0,"rpv-core__icon--rtl":Mn}),focusable:"false",height:En,viewBox:"0 0 24 24",width:En},Qt)},Ft=function(){return bt.createElement($t,{size:16},bt.createElement("path",{d:"M23.5,0.499l-16.5,23l-6.5-6.5"}))},Dt=function(Wt){var Qt=Wt.children,xn=Wt.testId,bn=Wt.onClick,wn=bt.useContext(Pt).direction===ht.TextDirection.RightToLeft,Cn=xn?{"data-testid":xn}:{};return bt.createElement("button",St({className:kt({"rpv-core__primary-button":!0,"rpv-core__primary-button--rtl":wn}),type:"button",onClick:bn},Cn),Qt)},Nt=function(Wt){var Qt=Wt.size,xn=Qt===void 0?"4rem":Qt,bn=Wt.testId,wn=bt.useState(!1),Cn=wn[0],On=wn[1],Mn=bn?{"data-testid":bn}:{},En=Lt({onVisibilityChanged:function(In){On(In.isVisible)}});return bt.createElement("div",St({},Mn,{className:kt({"rpv-core__spinner":!0,"rpv-core__spinner--animating":Cn}),ref:En,style:{height:xn,width:xn}}))},Ht=function(Wt){var Qt=Wt.ariaLabel,xn=Qt===void 0?"":Qt,bn=Wt.autoFocus,wn=bn!==void 0&&bn,Cn=Wt.placeholder,On=Cn===void 0?"":Cn,Mn=Wt.testId,En=Wt.type,In=En===void 0?"text":En,Ln=Wt.value,er=Ln===void 0?"":Ln,_i=Wt.onChange,Jn=Wt.onKeyDown,cr=Jn===void 0?function(){}:Jn,ar=bt.useContext(Pt).direction,rr=bt.useRef(),Qr=ar===ht.TextDirection.RightToLeft,Lr={ref:rr,"data-testid":"","aria-label":xn,className:kt({"rpv-core__textbox":!0,"rpv-core__textbox--rtl":Qr}),placeholder:On,value:er,onChange:function(Ir){return _i(Ir.target.value)},onKeyDown:cr};return Mn&&(Lr["data-testid"]=Mn),Mt(function(){if(wn){var Ir=rr.current;if(Ir){var Br=window.scrollX,Sr=window.scrollY;Ir.focus(),window.scrollTo(Br,Sr)}}},[]),In==="text"?bt.createElement("input",St({type:"text"},Lr)):bt.createElement("input",St({type:"password"},Lr))};(function(Wt){Wt[Wt.ExitFullScreen=0]="ExitFullScreen",Wt[Wt.FullScreenChange=1]="FullScreenChange",Wt[Wt.FullScreenElement=2]="FullScreenElement",Wt[Wt.FullScreenEnabled=3]="FullScreenEnabled",Wt[Wt.RequestFullScreen=4]="RequestFullScreen"})(Rt||(Rt={}));var Ot,Bt={ExitFullScreen:"exitFullscreen",FullScreenChange:"fullscreenchange",FullScreenElement:"fullscreenElement",FullScreenEnabled:"fullscreenEnabled",RequestFullScreen:"requestFullscreen"},jt={ExitFullScreen:"webkitExitFullscreen",FullScreenChange:"webkitfullscreenchange",FullScreenElement:"webkitFullscreenElement",FullScreenEnabled:"webkitFullscreenEnabled",RequestFullScreen:"webkitRequestFullscreen"},zt={ExitFullScreen:"msExitFullscreen",FullScreenChange:"msFullscreenChange",FullScreenElement:"msFullscreenElement",FullScreenEnabled:"msFullscreenEnabled",RequestFullScreen:"msRequestFullscreen"},Kt=typeof window<"u",nn=Kt&&(Rt.FullScreenEnabled in document&&Bt||jt.FullScreenEnabled in document&&jt||zt.FullScreenEnabled in document&&zt)||Bt,Xt=function(){return Kt&&nn.FullScreenEnabled in document&&document[nn.FullScreenEnabled]===!0},en=function(Wt){return Kt?Wt[nn.ExitFullScreen]():Promise.resolve({})},on=function(){return Kt?document[nn.FullScreenElement]:null},An=function(Wt,Qt){var xn=bt.useRef(),bn=function(){xn.current&&clearTimeout(xn.current)};return bt.useEffect(function(){return function(){return bn()}},[]),bt.useCallback(function(){for(var wn=[],Cn=0;Cn<arguments.length;Cn++)wn[Cn]=arguments[Cn];bn(),xn.current=setTimeout(function(){Wt.apply(void 0,wn)},Qt)},[Wt,Qt])},un=function(){var Wt=bt.useRef(!1);return bt.useEffect(function(){return Wt.current=!0,function(){Wt.current=!1}},[]),Wt},vn=function(Wt){var Qt=bt.useRef(Wt);return bt.useEffect(function(){Qt.current=Wt},[Wt]),Qt.current};(function(Wt){Wt.NotRenderedYet="NotRenderedYet",Wt.Rendering="Rendering",Wt.Rendered="Rendered"})(Ot||(Ot={}));var an,dn=-9999,tn=function(Wt){var Qt=Wt.doc,xn=Qt.numPages,bn=Qt.loadingTask.docId,wn=bt.useMemo(function(){return Array(xn).fill(null).map(function(Mn,En){return{pageIndex:En,renderStatus:Ot.NotRenderedYet,visibility:dn}})},[bn]),Cn=bt.useRef({currentRenderingPage:-1,startRange:0,endRange:xn-1,visibilities:wn}),On=function(Mn,En){Cn.current.visibilities[Mn].visibility=En};return{getHighestPriorityPage:function(){var Mn=Cn.current.visibilities.slice(Cn.current.startRange,Cn.current.endRange+1).filter(function(_i){return _i.visibility>dn});if(!Mn.length)return-1;for(var En=Mn[0].pageIndex,In=Mn[Mn.length-1].pageIndex,Ln=Mn.length,er=0;er<Ln;er++){if(Mn[er].renderStatus===Ot.Rendering)return-1;if(Mn[er].renderStatus===Ot.NotRenderedYet)return Mn[er].pageIndex}return In+1<xn&&Cn.current.visibilities[In+1].renderStatus!==Ot.Rendered?In+1:En-1>=0&&Cn.current.visibilities[En-1].renderStatus!==Ot.Rendered?En-1:-1},isInRange:function(Mn){return Mn>=Cn.current.startRange&&Mn<=Cn.current.endRange},markNotRendered:function(){for(var Mn=0;Mn<xn;Mn++)Cn.current.visibilities[Mn].renderStatus=Ot.NotRenderedYet},markRendered:function(Mn){Cn.current.visibilities[Mn].renderStatus=Ot.Rendered},markRendering:function(Mn){Cn.current.currentRenderingPage!==-1&&Cn.current.currentRenderingPage!==Mn&&Cn.current.visibilities[Cn.current.currentRenderingPage].renderStatus===Ot.Rendering&&(Cn.current.visibilities[Cn.current.currentRenderingPage].renderStatus=Ot.NotRenderedYet),Cn.current.visibilities[Mn].renderStatus=Ot.Rendering,Cn.current.currentRenderingPage=Mn},setOutOfRange:function(Mn){On(Mn,dn)},setRange:function(Mn,En){Cn.current.startRange=Mn,Cn.current.endRange=En;for(var In=0;In<xn;In++)(In<Mn||In>En)&&(Cn.current.visibilities[In].visibility=dn,Cn.current.visibilities[In].renderStatus=Ot.NotRenderedYet)},setVisibility:On}},gn={core:{askingPassword:{requirePasswordToOpen:"This document requires a password to open",submit:"Submit"},wrongPassword:{tryAgain:"The password is wrong. Please try again"},pageLabel:"Page {{pageIndex}}"}},Sn=bt.createContext({l10n:gn,setL10n:function(){}}),rn=0,qt=function(){return rn++},Yt=function(Wt,Qt,xn){var bn=function(wn){var Cn=Qt.current;if(Cn){var On=wn.target;if(On instanceof Element&&On.shadowRoot){var Mn=wn.composedPath();Mn.length>0&&!Cn.contains(Mn[0])&&xn()}else Cn.contains(On)||xn()}};bt.useEffect(function(){if(Wt){var wn={capture:!0};return document.addEventListener("click",bn,wn),function(){document.removeEventListener("click",bn,wn)}}},[])},Jt=function(Wt){var Qt=function(xn){xn.key==="Escape"&&Wt()};bt.useEffect(function(){return document.addEventListener("keyup",Qt),function(){document.removeEventListener("keyup",Qt)}},[])},hn=function(Wt){var Qt=Wt.ariaControlsSuffix,xn=Wt.children,bn=Wt.closeOnClickOutside,wn=Wt.closeOnEscape,Cn=Wt.onToggle,On=bt.useRef(),Mn=bt.useContext(Pt).direction===ht.TextDirection.RightToLeft;return bt.useEffect(function(){var En=window.getComputedStyle(document.body).overflow;return document.body.style.overflow="hidden",function(){document.body.style.overflow=En}},[]),Jt(function(){On.current&&wn&&Cn()}),Yt(bn,On,Cn),Mt(function(){var En=On.current;if(En){var In=.75*document.body.clientHeight;En.getBoundingClientRect().height>=In&&(En.style.overflow="auto",En.style.maxHeight="".concat(In,"px"))}},[]),bt.createElement("div",{"aria-modal":"true",className:kt({"rpv-core__modal-body":!0,"rpv-core__modal-body--rtl":Mn}),id:"rpv-core__modal-body-".concat(Qt),ref:On,role:"dialog",tabIndex:-1},xn)},cn=function(Wt){var Qt=Wt.children;return bt.createElement("div",{className:"rpv-core__modal-overlay"},Qt)};ht.ToggleStatus=void 0,(an=ht.ToggleStatus||(ht.ToggleStatus={})).Close="Close",an.Open="Open",an.Toggle="Toggle";var fn,Rn=function(Wt){var Qt=bt.useState(Wt),xn=Qt[0],bn=Qt[1];return{opened:xn,toggle:function(wn){switch(wn){case ht.ToggleStatus.Close:bn(!1);break;case ht.ToggleStatus.Open:bn(!0);break;case ht.ToggleStatus.Toggle:default:bn(function(Cn){return!Cn})}}}},jn=function(Wt){var Qt=Wt.content,xn=Wt.isOpened,bn=xn!==void 0&&xn,wn=Wt.target,Cn=Rn(bn),On=Cn.opened,Mn=Cn.toggle;return bt.createElement(bt.Fragment,null,wn&&wn(Mn,On),On&&Qt(Mn))};ht.Position=void 0,(fn=ht.Position||(ht.Position={})).TopLeft="TOP_LEFT",fn.TopCenter="TOP_CENTER",fn.TopRight="TOP_RIGHT",fn.RightTop="RIGHT_TOP",fn.RightCenter="RIGHT_CENTER",fn.RightBottom="RIGHT_BOTTOM",fn.BottomLeft="BOTTOM_LEFT",fn.BottomCenter="BOTTOM_CENTER",fn.BottomRight="BOTTOM_RIGHT",fn.LeftTop="LEFT_TOP",fn.LeftCenter="LEFT_CENTER",fn.LeftBottom="LEFT_BOTTOM";var Un,zn,Gn,Yn,Zn,Dn,$n,sn,mn=function(Wt,Qt,xn,bn,wn){Mt(function(){var Cn=Qt.current,On=Wt.current,Mn=xn.current;if(On&&Cn&&Mn){var En=Mn.getBoundingClientRect(),In=function(_i,Jn,cr,ar){var rr=Jn.getBoundingClientRect(),Qr=_i.getBoundingClientRect(),Lr=Qr.height,Ir=Qr.width,Br=0,Sr=0;switch(cr){case ht.Position.TopLeft:Br=rr.top-Lr,Sr=rr.left;break;case ht.Position.TopCenter:Br=rr.top-Lr,Sr=rr.left+rr.width/2-Ir/2;break;case ht.Position.TopRight:Br=rr.top-Lr,Sr=rr.left+rr.width-Ir;break;case ht.Position.RightTop:Br=rr.top,Sr=rr.left+rr.width;break;case ht.Position.RightCenter:Br=rr.top+rr.height/2-Lr/2,Sr=rr.left+rr.width;break;case ht.Position.RightBottom:Br=rr.top+rr.height-Lr,Sr=rr.left+rr.width;break;case ht.Position.BottomLeft:Br=rr.top+rr.height,Sr=rr.left;break;case ht.Position.BottomCenter:Br=rr.top+rr.height,Sr=rr.left+rr.width/2-Ir/2;break;case ht.Position.BottomRight:Br=rr.top+rr.height,Sr=rr.left+rr.width-Ir;break;case ht.Position.LeftTop:Br=rr.top,Sr=rr.left-Ir;break;case ht.Position.LeftCenter:Br=rr.top+rr.height/2-Lr/2,Sr=rr.left-Ir;break;case ht.Position.LeftBottom:Br=rr.top+rr.height-Lr,Sr=rr.left-Ir}return{left:Sr+(ar.left||0),top:Br+(ar.top||0)}}(On,Cn,bn,wn),Ln=In.top,er=In.left;On.style.top="".concat(Ln-En.top,"px"),On.style.left="".concat(er-En.left,"px")}},[])},Pn=function(Wt){var Qt,xn=Wt.customClassName,bn=Wt.position;return bt.createElement("div",{className:kt((Qt={"rpv-core__arrow":!0,"rpv-core__arrow--tl":bn===ht.Position.TopLeft,"rpv-core__arrow--tc":bn===ht.Position.TopCenter,"rpv-core__arrow--tr":bn===ht.Position.TopRight,"rpv-core__arrow--rt":bn===ht.Position.RightTop,"rpv-core__arrow--rc":bn===ht.Position.RightCenter,"rpv-core__arrow--rb":bn===ht.Position.RightBottom,"rpv-core__arrow--bl":bn===ht.Position.BottomLeft,"rpv-core__arrow--bc":bn===ht.Position.BottomCenter,"rpv-core__arrow--br":bn===ht.Position.BottomRight,"rpv-core__arrow--lt":bn===ht.Position.LeftTop,"rpv-core__arrow--lc":bn===ht.Position.LeftCenter,"rpv-core__arrow--lb":bn===ht.Position.LeftBottom},Qt["".concat(xn)]=xn!=="",Qt))})},Nn=function(Wt){var Qt=Wt.ariaControlsSuffix,xn=Wt.children,bn=Wt.closeOnClickOutside,wn=Wt.offset,Cn=Wt.position,On=Wt.targetRef,Mn=Wt.onClose,En=bt.useRef(),In=bt.useRef(),Ln=bt.useRef(),er=bt.useContext(Pt).direction===ht.TextDirection.RightToLeft;Yt(bn,En,Mn),mn(En,On,Ln,Cn,wn),Mt(function(){var Jn=In.current;if(Jn){var cr=.75*document.body.clientHeight;Jn.getBoundingClientRect().height>=cr&&(Jn.style.overflow="auto",Jn.style.maxHeight="".concat(cr,"px"))}},[]);var _i="rpv-core__popover-body-inner-".concat(Qt);return bt.createElement(bt.Fragment,null,bt.createElement("div",{ref:Ln,style:{left:0,position:"absolute",top:0}}),bt.createElement("div",{"aria-describedby":_i,className:kt({"rpv-core__popover-body":!0,"rpv-core__popover-body--rtl":er}),id:"rpv-core__popover-body-".concat(Qt),ref:En,role:"dialog",tabIndex:-1},bt.createElement(Pn,{customClassName:"rpv-core__popover-body-arrow",position:Cn}),bt.createElement("div",{id:_i,ref:In},xn)))},Vn=function(Wt){var Qt=Wt.closeOnEscape,xn=Wt.onClose,bn=bt.useRef();return Jt(function(){bn.current&&Qt&&xn()}),bt.createElement("div",{className:"rpv-core__popover-overlay",ref:bn})},Qn=function(Wt){var Qt=Wt.ariaControlsSuffix,xn=Wt.children,bn=Wt.contentRef,wn=Wt.offset,Cn=Wt.position,On=Wt.targetRef,Mn=bt.useRef(),En=bt.useContext(Pt).direction===ht.TextDirection.RightToLeft;return mn(bn,On,Mn,Cn,wn),bt.createElement(bt.Fragment,null,bt.createElement("div",{ref:Mn,style:{left:0,position:"absolute",top:0}}),bt.createElement("div",{className:kt({"rpv-core__tooltip-body":!0,"rpv-core__tooltip-body--rtl":En}),id:"rpv-core__tooltip-body-".concat(Qt),ref:bn,role:"tooltip"},bt.createElement(Pn,{customClassName:"rpv-core__tooltip-body-arrow",position:Cn}),bt.createElement("div",{className:"rpv-core__tooltip-body-content"},xn)))};ht.FullScreenMode=void 0,(Un=ht.FullScreenMode||(ht.FullScreenMode={})).Normal="Normal",Un.Entering="Entering",Un.Entered="Entered",Un.EnteredCompletely="EnteredCompletely",Un.Exitting="Exitting",Un.Exited="Exited",ht.LayerRenderStatus=void 0,(zn=ht.LayerRenderStatus||(ht.LayerRenderStatus={}))[zn.PreRender=0]="PreRender",zn[zn.DidRender=1]="DidRender",ht.PageMode=void 0,(Gn=ht.PageMode||(ht.PageMode={})).Attachments="UseAttachments",Gn.Bookmarks="UseOutlines",Gn.ContentGroup="UseOC",Gn.Default="UserNone",Gn.FullScreen="FullScreen",Gn.Thumbnails="UseThumbs",ht.PasswordStatus=void 0,(Yn=ht.PasswordStatus||(ht.PasswordStatus={})).RequiredPassword="RequiredPassword",Yn.WrongPassword="WrongPassword",ht.RotateDirection=void 0,(Zn=ht.RotateDirection||(ht.RotateDirection={})).Backward="Backward",Zn.Forward="Forward",ht.ScrollMode=void 0,(Dn=ht.ScrollMode||(ht.ScrollMode={})).Page="Page",Dn.Horizontal="Horizontal",Dn.Vertical="Vertical",Dn.Wrapped="Wrapped",ht.SpecialZoomLevel=void 0,($n=ht.SpecialZoomLevel||(ht.SpecialZoomLevel={})).ActualSize="ActualSize",$n.PageFit="PageFit",$n.PageWidth="PageWidth",ht.ViewMode=void 0,(sn=ht.ViewMode||(ht.ViewMode={})).DualPage="DualPage",sn.DualPageWithCover="DualPageWithCover",sn.SinglePage="SinglePage";var qn,Tn=function(Wt,Qt){return Wt.reduce(function(xn,bn,wn){return wn%Qt?xn[xn.length-1].push(bn):xn.push([bn]),xn},[])},or=function(Wt,Qt){switch(Qt[1].name){case"XYZ":return{bottomOffset:function(xn,bn){return Qt[3]===null?bn:Qt[3]},leftOffset:function(xn,bn){return Qt[2]===null?0:Qt[2]},pageIndex:Wt,scaleTo:Qt[4]};case"Fit":case"FitB":return{bottomOffset:0,leftOffset:0,pageIndex:Wt,scaleTo:ht.SpecialZoomLevel.PageFit};case"FitH":case"FitBH":return{bottomOffset:Qt[2],leftOffset:0,pageIndex:Wt,scaleTo:ht.SpecialZoomLevel.PageWidth};default:return{bottomOffset:0,leftOffset:0,pageIndex:Wt,scaleTo:1}}},nr=new Map,Nr=new Map,Pr=function(Wt,Qt){return"".concat(Wt.loadingTask.docId,"___").concat(Qt.num,"R").concat(Qt.gen===0?"":Qt.gen)},Kr=function(Wt,Qt,xn){nr.set(Pr(Wt,Qt),xn)},hr=function(Wt,Qt){if(!Wt)return Promise.reject("The document is not loaded yet");var xn="".concat(Wt.loadingTask.docId,"___").concat(Qt),bn=Nr.get(xn);return bn?Promise.resolve(bn):new Promise(function(wn,Cn){Wt.getPage(Qt+1).then(function(On){Nr.set(xn,On),On.ref&&Kr(Wt,On.ref,Qt),wn(On)})})},wr=function(Wt,Qt){return new Promise(function(xn){new Promise(function(bn){typeof Qt=="string"?Wt.getDestination(Qt).then(function(wn){bn(wn)}):bn(Qt)}).then(function(bn){if(typeof bn[0]=="object"&&bn[0]!==null){var wn=bn[0],Cn=function(Mn,En){var In=Pr(Mn,En);return nr.has(In)?nr.get(In):null}(Wt,wn);Cn===null?Wt.getPageIndex(wn).then(function(Mn){Kr(Wt,wn,Mn),wr(Wt,Qt).then(function(En){return xn(En)})}):xn(or(Cn,bn))}else{var On=or(bn[0],bn);xn(On)}})})};(function(Wt){Wt[Wt.Solid=1]="Solid",Wt[Wt.Dashed=2]="Dashed",Wt[Wt.Beveled=3]="Beveled",Wt[Wt.Inset=4]="Inset",Wt[Wt.Underline=5]="Underline"})(qn||(qn={}));var Ur,is=new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?"),Xn=function(Wt,Qt,xn,bn){var wn=parseInt(Wt,10);return wn>=Qt&&wn<=xn?wn:bn},kn=function(Wt){return Wt.contentsObj?Wt.contentsObj.str:Wt.contents||""},Fn=function(Wt){return Wt.titleObj?Wt.titleObj.str:Wt.title||""},dr=function(Wt){var Qt=Wt.annotation,xn=bt.useContext(Pt).direction,bn=Fn(Qt),wn=kn(Qt),Cn=xn===ht.TextDirection.RightToLeft,On=bt.useRef(),Mn="";if(Qt.modificationDate){var En=function(In){var Ln=is.exec(In);if(!Ln)return null;var er=parseInt(Ln[1],10),_i=Xn(Ln[2],1,12,1)-1,Jn=Xn(Ln[3],1,31,1),cr=Xn(Ln[4],0,23,0),ar=Xn(Ln[5],0,59,0),rr=Xn(Ln[6],0,59,0),Qr=Ln[7]||"Z",Lr=Xn(Ln[8],0,23,0),Ir=Xn(Ln[9],0,59,0);switch(Qr){case"-":cr+=Lr,ar+=Ir;break;case"+":cr-=Lr,ar-=Ir}return new Date(Date.UTC(er,_i,Jn,cr,ar,rr))}(Qt.modificationDate);Mn=En?"".concat(En.toLocaleDateString(),", ").concat(En.toLocaleTimeString()):""}return bt.useLayoutEffect(function(){if(On.current){var In=document.querySelector('[data-annotation-id="'.concat(Qt.id,'"]'));if(In){var Ln=In;return Ln.style.zIndex+=1,function(){Ln.style.zIndex="".concat(parseInt(Ln.style.zIndex,10)-1)}}}},[]),bt.createElement("div",{ref:On,className:kt({"rpv-core__annotation-popup-wrapper":!0,"rpv-core__annotation-popup-wrapper--rtl":Cn}),style:{top:Qt.annotationType===ht.AnnotationType.Popup?"":"100%"}},bn&&bt.createElement(bt.Fragment,null,bt.createElement("div",{className:kt({"rpv-core__annotation-popup-title":!0,"rpv-core__annotation-popup-title--ltr":!Cn,"rpv-core__annotation-popup-title--rtl":Cn})},bn),bt.createElement("div",{className:"rpv-core__annotation-popup-date"},Mn)),wn&&bt.createElement("div",{className:"rpv-core__annotation-popup-content"},wn.split(`
`).map(function(In,Ln){return bt.createElement(bt.Fragment,{key:Ln},In,bt.createElement("br",null))})))};(function(Wt){Wt.Click="Click",Wt.Hover="Hover"})(Ur||(Ur={}));var gr,Tr=function(Wt){var Qt,xn=Wt.annotation,bn=Wt.children,wn=Wt.ignoreBorder,Cn=Wt.hasPopup,On=Wt.isRenderable,Mn=Wt.page,En=Wt.viewport,In=xn.rect,Ln=function(){var Or=Rn(!1),as=Or.opened,rs=Or.toggle,ls=bt.useState(Ur.Hover),us=ls[0],fs=ls[1];return{opened:as,closeOnHover:function(){us===Ur.Hover&&rs(ht.ToggleStatus.Close)},openOnHover:function(){us===Ur.Hover&&rs(ht.ToggleStatus.Open)},toggleOnClick:function(){switch(us){case Ur.Click:as&&fs(Ur.Hover),rs(ht.ToggleStatus.Toggle);break;case Ur.Hover:fs(Ur.Click),rs(ht.ToggleStatus.Open)}}}}(),er=Ln.closeOnHover,_i=Ln.opened,Jn=Ln.openOnHover,cr=Ln.toggleOnClick,ar=(Qt=[In[0],Mn.view[3]+Mn.view[1]-In[1],In[2],Mn.view[3]+Mn.view[1]-In[3]],[Math.min(Qt[0],Qt[2]),Math.min(Qt[1],Qt[3]),Math.max(Qt[0],Qt[2]),Math.max(Qt[1],Qt[3])]),rr=In[2]-In[0],Qr=In[3]-In[1],Lr={borderColor:"",borderRadius:"",borderStyle:"",borderWidth:""};if(!wn&&xn.borderStyle.width>0){switch(xn.borderStyle.style){case qn.Dashed:Lr.borderStyle="dashed";break;case qn.Solid:Lr.borderStyle="solid";break;case qn.Underline:Lr=Object.assign({borderBottomStyle:"solid"},Lr);case qn.Beveled:case qn.Inset:}var Ir=xn.borderStyle.width;Lr.borderWidth="".concat(Ir,"px"),xn.borderStyle.style!==qn.Underline&&(rr-=2*Ir,Qr-=2*Ir);var Br=xn.borderStyle,Sr=Br.horizontalCornerRadius,zr=Br.verticalCornerRadius;(Sr>0||zr>0)&&(Lr.borderRadius="".concat(Sr,"px / ").concat(zr,"px")),xn.color?Lr.borderColor="rgb(".concat(0|xn.color[0],", ").concat(0|xn.color[1],", ").concat(0|xn.color[2],")"):Lr.borderWidth="0"}return bt.createElement(bt.Fragment,null,On&&bn({popup:{opened:_i,closeOnHover:er,openOnHover:Jn,toggleOnClick:cr},slot:{attrs:{style:Object.assign({height:"".concat(Qr,"px"),left:"".concat(ar[0],"px"),top:"".concat(ar[1],"px"),transform:"matrix(".concat(En.transform.join(","),")"),transformOrigin:"-".concat(ar[0],"px -").concat(ar[1],"px"),width:"".concat(rr,"px")},Lr)},children:bt.createElement(bt.Fragment,null,Cn&&_i&&bt.createElement(dr,{annotation:xn}))}}))},yn=function(Wt){var Qt=Wt.annotation,xn=Wt.page,bn=Wt.viewport,wn=Qt.hasPopup===!1,Cn=Fn(Qt),On=kn(Qt),Mn=!!(Qt.hasPopup||Cn||On);return bt.createElement(Tr,{annotation:Qt,hasPopup:wn,ignoreBorder:!0,isRenderable:Mn,page:xn,viewport:bn},function(En){return bt.createElement("div",St({},En.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--caret","data-annotation-id":Qt.id,onClick:En.popup.toggleOnClick,onMouseEnter:En.popup.openOnHover,onMouseLeave:En.popup.closeOnHover}),En.slot.children)})},Wn=function(Wt){var Qt=Wt.annotation,xn=Wt.page,bn=Wt.viewport,wn=Qt.hasPopup===!1,Cn=Fn(Qt),On=kn(Qt),Mn=!!(Qt.hasPopup||Cn||On),En=Qt.rect,In=En[2]-En[0],Ln=En[3]-En[1],er=Qt.borderStyle.width;return bt.createElement(Tr,{annotation:Qt,hasPopup:wn,ignoreBorder:!0,isRenderable:Mn,page:xn,viewport:bn},function(_i){return bt.createElement("div",St({},_i.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--circle","data-annotation-id":Qt.id,onClick:_i.popup.toggleOnClick,onMouseEnter:_i.popup.openOnHover,onMouseLeave:_i.popup.closeOnHover}),bt.createElement("svg",{height:"".concat(Ln,"px"),preserveAspectRatio:"none",version:"1.1",viewBox:"0 0 ".concat(In," ").concat(Ln),width:"".concat(In,"px")},bt.createElement("circle",{cy:Ln/2,fill:"none",rx:In/2-er/2,ry:Ln/2-er/2,stroke:"transparent",strokeWidth:er||1})),_i.slot.children)})},sr=function(Wt){var Qt=Wt.annotation,xn=Wt.page,bn=Wt.viewport,wn=Fn(Qt),Cn=kn(Qt),On=!(Qt.hasPopup!==!1||!wn&&!Cn),Mn=function(){var En,In,Ln,er,_i=Qt.file;_i&&(En=_i.filename,In=_i.content,Ln=typeof In=="string"?"":URL.createObjectURL(new Blob([In],{type:""})),(er=document.createElement("a")).style.display="none",er.href=Ln||En,er.setAttribute("download",function(Jn){var cr=Jn.split("/").pop();return cr?cr.split("#")[0].split("?")[0]:Jn}(En)),document.body.appendChild(er),er.click(),document.body.removeChild(er),Ln&&URL.revokeObjectURL(Ln))};return bt.createElement(Tr,{annotation:Qt,hasPopup:On,ignoreBorder:!0,isRenderable:!0,page:xn,viewport:bn},function(En){return bt.createElement("div",St({},En.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--file-attachment","data-annotation-id":Qt.id,onClick:En.popup.toggleOnClick,onDoubleClick:Mn,onMouseEnter:En.popup.openOnHover,onMouseLeave:En.popup.closeOnHover}),En.slot.children)})},mr=function(Wt){var Qt=Wt.annotation,xn=Wt.page,bn=Wt.viewport,wn=Qt.hasPopup===!1,Cn=Fn(Qt),On=kn(Qt),Mn=!!(Qt.hasPopup||Cn||On);return bt.createElement(Tr,{annotation:Qt,hasPopup:wn,ignoreBorder:!0,isRenderable:Mn,page:xn,viewport:bn},function(En){return bt.createElement("div",St({},En.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--free-text","data-annotation-id":Qt.id,onClick:En.popup.toggleOnClick,onMouseEnter:En.popup.openOnHover,onMouseLeave:En.popup.closeOnHover}),En.slot.children)})},xr=function(Wt){var Qt=Wt.annotation,xn=Wt.page,bn=Wt.viewport,wn=Fn(Qt),Cn=kn(Qt),On=!(!wn&&!Cn),Mn=!Qt.parentType||["Circle","Ink","Line","Polygon","PolyLine","Square"].indexOf(Qt.parentType)!==-1;return Mt(function(){if(Qt.parentId){var En=document.querySelector('[data-annotation-id="'.concat(Qt.parentId,'"]')),In=document.querySelector('[data-annotation-id="'.concat(Qt.id,'"]'));if(En&&In){var Ln=parseFloat(En.style.left),er=parseFloat(En.style.top)+parseFloat(En.style.height);In.style.left="".concat(Ln,"px"),In.style.top="".concat(er,"px"),In.style.transformOrigin="-".concat(Ln,"px -").concat(er,"px")}}},[]),bt.createElement(Tr,{annotation:Qt,hasPopup:Mn,ignoreBorder:!1,isRenderable:On,page:xn,viewport:bn},function(En){return bt.createElement("div",St({},En.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--popup","data-annotation-id":Qt.id}),bt.createElement(dr,{annotation:Qt}))})},ur=function(Wt){var Qt=Wt.annotation,xn=Wt.childAnnotation,bn=Wt.page,wn=Wt.viewport,Cn=Qt.hasPopup===!1,On=Fn(Qt),Mn=kn(Qt),En=!!(Qt.hasPopup||On||Mn);if(Qt.quadPoints&&Qt.quadPoints.length>0){var In=Qt.quadPoints.map(function(Ln){return Object.assign({},Qt,{rect:[Ln[2].x,Ln[2].y,Ln[1].x,Ln[1].y],quadPoints:[]})});return bt.createElement(bt.Fragment,null,In.map(function(Ln,er){return bt.createElement(ur,{key:er,annotation:Ln,childAnnotation:xn,page:bn,viewport:wn})}))}return bt.createElement(Tr,{annotation:Qt,hasPopup:Cn,ignoreBorder:!0,isRenderable:En,page:bn,viewport:wn},function(Ln){return bt.createElement(bt.Fragment,null,bt.createElement("div",St({},Ln.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--highlight","data-annotation-id":Qt.id,onClick:Ln.popup.toggleOnClick,onMouseEnter:Ln.popup.openOnHover,onMouseLeave:Ln.popup.closeOnHover}),Ln.slot.children),xn&&xn.annotationType===ht.AnnotationType.Popup&&Ln.popup.opened&&bt.createElement(xr,{annotation:xn,page:bn,viewport:wn}))})},pn=function(Wt){var Qt=Wt.annotation,xn=Wt.page,bn=Wt.viewport,wn=Qt.hasPopup===!1,Cn=Fn(Qt),On=kn(Qt),Mn=!!(Qt.hasPopup||Cn||On),En=Qt.rect,In=En[2]-En[0],Ln=En[3]-En[1],er=Qt.borderStyle.width;return bt.createElement(Tr,{annotation:Qt,hasPopup:wn,ignoreBorder:!0,isRenderable:Mn,page:xn,viewport:bn},function(_i){return bt.createElement("div",St({},_i.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--ink","data-annotation-id":Qt.id,onClick:_i.popup.toggleOnClick,onMouseEnter:_i.popup.openOnHover,onMouseLeave:_i.popup.closeOnHover}),Qt.inkLists&&Qt.inkLists.length&&bt.createElement("svg",{height:"".concat(Ln,"px"),preserveAspectRatio:"none",version:"1.1",viewBox:"0 0 ".concat(In," ").concat(Ln),width:"".concat(In,"px")},Qt.inkLists.map(function(Jn,cr){return bt.createElement("polyline",{key:cr,fill:"none",stroke:"transparent",strokeWidth:er||1,points:Jn.map(function(ar){return"".concat(ar.x-En[0],",").concat(En[3]-ar.y)}).join(" ")})})),_i.slot.children)})},ln=function(Wt){var Qt=Wt.annotation,xn=Wt.page,bn=Wt.viewport,wn=Qt.hasPopup===!1,Cn=Fn(Qt),On=kn(Qt),Mn=!!(Qt.hasPopup||Cn||On),En=Qt.rect,In=En[2]-En[0],Ln=En[3]-En[1],er=Qt.borderStyle.width;return bt.createElement(Tr,{annotation:Qt,hasPopup:wn,ignoreBorder:!0,isRenderable:Mn,page:xn,viewport:bn},function(_i){return bt.createElement("div",St({},_i.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--line","data-annotation-id":Qt.id,onClick:_i.popup.toggleOnClick,onMouseEnter:_i.popup.openOnHover,onMouseLeave:_i.popup.closeOnHover}),bt.createElement("svg",{height:"".concat(Ln,"px"),preserveAspectRatio:"none",version:"1.1",viewBox:"0 0 ".concat(In," ").concat(Ln),width:"".concat(In,"px")},bt.createElement("line",{stroke:"transparent",strokeWidth:er||1,x1:En[2]-Qt.lineCoordinates[0],x2:En[2]-Qt.lineCoordinates[2],y1:En[3]-Qt.lineCoordinates[1],y2:En[3]-Qt.lineCoordinates[3]})),_i.slot.children)})},_n=/^([^\w]*)(javascript|data|vbscript)/im,Hn=/&#(\w+)(^\w|;)?/g,Bn=/[\u0000-\u001F\u007F-\u009F\u2000-\u200D\uFEFF]/gim,Kn=/^([^:]+):/gm,tr=function(Wt,Qt){var xn,bn=(xn=Wt||"",xn.replace(Hn,function(Mn,En){return String.fromCharCode(En)})).replace(Bn,"").trim();if(!bn)return Qt;var wn=bn[0];if(wn==="."||wn==="/")return bn;var Cn=bn.match(Kn);if(!Cn)return bn;var On=Cn[0];return _n.test(On)?Qt:bn},vr=function(Wt){var Qt,xn=Wt.annotation,bn=Wt.annotationContainerRef,wn=Wt.doc,Cn=Wt.outlines,On=Wt.page,Mn=Wt.pageIndex,En=Wt.scale,In=Wt.viewport,Ln=Wt.onExecuteNamedAction,er=Wt.onJumpFromLinkAnnotation,_i=Wt.onJumpToDest,Jn=bt.useRef(),cr=Cn&&Cn.length&&xn.dest&&typeof xn.dest=="string"?(Qt=Cn.find(function(Lr){return Lr.dest===xn.dest}))===null||Qt===void 0?void 0:Qt.title:"",ar=!!(xn.url||xn.dest||xn.action||xn.unsafeUrl),rr={};if(xn.url||xn.unsafeUrl){var Qr=tr(xn.url||xn.unsafeUrl,"");Qr?rr={"data-target":"external",href:Qr,rel:"noopener noreferrer nofollow",target:xn.newWindow?"_blank":"",title:Qr}:ar=!1}else rr={href:"","data-annotation-link":xn.id,onClick:function(Lr){Lr.preventDefault(),xn.action?Ln(xn.action):wr(wn,xn.dest).then(function(Ir){var Br=Jn.current,Sr=bn.current;if(Br&&Sr){var zr=Br.getBoundingClientRect();Sr.style.setProperty("height","100%"),Sr.style.setProperty("width","100%");var Or=Sr.getBoundingClientRect();Sr.style.removeProperty("height"),Sr.style.removeProperty("width");var as=(zr.left-Or.left)/En,rs=(Or.bottom-zr.bottom+zr.height)/En;er({bottomOffset:rs,label:cr,leftOffset:as,pageIndex:Mn})}_i(Ir)})}};return cr&&(rr=Object.assign({},rr,{title:cr,"aria-label":cr})),bt.createElement(Tr,{annotation:xn,hasPopup:!1,ignoreBorder:!1,isRenderable:ar,page:On,viewport:In},function(Lr){return bt.createElement("div",St({},Lr.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--link","data-annotation-id":xn.id,"data-testid":"core__annotation--link-".concat(xn.id)}),bt.createElement("a",St({ref:Jn},rr)))})},fr=function(Wt){var Qt=Wt.annotation,xn=Wt.page,bn=Wt.viewport,wn=Qt.hasPopup===!1,Cn=Fn(Qt),On=kn(Qt),Mn=!!(Qt.hasPopup||Cn||On),En=Qt.rect,In=En[2]-En[0],Ln=En[3]-En[1],er=Qt.borderStyle.width;return bt.createElement(Tr,{annotation:Qt,hasPopup:wn,ignoreBorder:!0,isRenderable:Mn,page:xn,viewport:bn},function(_i){return bt.createElement("div",St({},_i.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--polygon","data-annotation-id":Qt.id,onClick:_i.popup.toggleOnClick,onMouseEnter:_i.popup.openOnHover,onMouseLeave:_i.popup.closeOnHover}),Qt.vertices&&Qt.vertices.length&&bt.createElement("svg",{height:"".concat(Ln,"px"),preserveAspectRatio:"none",version:"1.1",viewBox:"0 0 ".concat(In," ").concat(Ln),width:"".concat(In,"px")},bt.createElement("polygon",{fill:"none",stroke:"transparent",strokeWidth:er||1,points:Qt.vertices.map(function(Jn){return"".concat(Jn.x-En[0],",").concat(En[3]-Jn.y)}).join(" ")})),_i.slot.children)})},lr=function(Wt){var Qt=Wt.annotation,xn=Wt.page,bn=Wt.viewport,wn=Qt.hasPopup===!1,Cn=Fn(Qt),On=kn(Qt),Mn=!!(Qt.hasPopup||Cn||On),En=Qt.rect,In=En[2]-En[0],Ln=En[3]-En[1],er=Qt.borderStyle.width;return bt.createElement(Tr,{annotation:Qt,hasPopup:wn,ignoreBorder:!0,isRenderable:Mn,page:xn,viewport:bn},function(_i){return bt.createElement("div",St({},_i.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--polyline","data-annotation-id":Qt.id,onClick:_i.popup.toggleOnClick,onMouseEnter:_i.popup.openOnHover,onMouseLeave:_i.popup.closeOnHover}),Qt.vertices&&Qt.vertices.length&&bt.createElement("svg",{height:"".concat(Ln,"px"),preserveAspectRatio:"none",version:"1.1",viewBox:"0 0 ".concat(In," ").concat(Ln),width:"".concat(In,"px")},bt.createElement("polyline",{fill:"none",stroke:"transparent",strokeWidth:er||1,points:Qt.vertices.map(function(Jn){return"".concat(Jn.x-En[0],",").concat(En[3]-Jn.y)}).join(" ")})),_i.slot.children)})},Hr=function(Wt){var Qt=Wt.annotation,xn=Wt.page,bn=Wt.viewport,wn=Qt.hasPopup===!1,Cn=Fn(Qt),On=kn(Qt),Mn=!!(Qt.hasPopup||Cn||On),En=Qt.rect,In=En[2]-En[0],Ln=En[3]-En[1],er=Qt.borderStyle.width;return bt.createElement(Tr,{annotation:Qt,hasPopup:wn,ignoreBorder:!0,isRenderable:Mn,page:xn,viewport:bn},function(_i){return bt.createElement("div",St({},_i.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--square","data-annotation-id":Qt.id,onClick:_i.popup.toggleOnClick,onMouseEnter:_i.popup.openOnHover,onMouseLeave:_i.popup.closeOnHover}),bt.createElement("svg",{height:"".concat(Ln,"px"),preserveAspectRatio:"none",version:"1.1",viewBox:"0 0 ".concat(In," ").concat(Ln),width:"".concat(In,"px")},bt.createElement("rect",{height:Ln-er,fill:"none",stroke:"transparent",strokeWidth:er||1,x:er/2,y:er/2,width:In-er})),_i.slot.children)})},pr=function(Wt){var Qt=Wt.annotation,xn=Wt.page,bn=Wt.viewport,wn=Qt.hasPopup===!1,Cn=Fn(Qt),On=kn(Qt),Mn=!!(Qt.hasPopup||Cn||On);return bt.createElement(Tr,{annotation:Qt,hasPopup:wn,ignoreBorder:!0,isRenderable:Mn,page:xn,viewport:bn},function(En){return bt.createElement("div",St({},En.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--squiggly","data-annotation-id":Qt.id,onClick:En.popup.toggleOnClick,onMouseEnter:En.popup.openOnHover,onMouseLeave:En.popup.closeOnHover}),En.slot.children)})},br=function(Wt){var Qt=Wt.annotation,xn=Wt.page,bn=Wt.viewport,wn=Qt.hasPopup===!1,Cn=Fn(Qt),On=kn(Qt),Mn=!!(Qt.hasPopup||Cn||On);return bt.createElement(Tr,{annotation:Qt,hasPopup:wn,ignoreBorder:!0,isRenderable:Mn,page:xn,viewport:bn},function(En){return bt.createElement("div",St({},En.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--stamp","data-annotation-id":Qt.id,onClick:En.popup.toggleOnClick,onMouseEnter:En.popup.openOnHover,onMouseLeave:En.popup.closeOnHover}),En.slot.children)})},Dr=function(Wt){var Qt=Wt.annotation,xn=Wt.page,bn=Wt.viewport,wn=Qt.hasPopup===!1,Cn=Fn(Qt),On=kn(Qt),Mn=!!(Qt.hasPopup||Cn||On);return bt.createElement(Tr,{annotation:Qt,hasPopup:wn,ignoreBorder:!0,isRenderable:Mn,page:xn,viewport:bn},function(En){return bt.createElement("div",St({},En.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--strike-out","data-annotation-id":Qt.id,onClick:En.popup.toggleOnClick,onMouseEnter:En.popup.openOnHover,onMouseLeave:En.popup.closeOnHover}),En.slot.children)})},Wr=function(){return bt.createElement($t,{size:16},bt.createElement("path",{d:"M.5,16.5a1,1,0,0,0,1,1h2v4l4-4h15a1,1,0,0,0,1-1V3.5a1,1,0,0,0-1-1H1.5a1,1,0,0,0-1,1Z"}),bt.createElement("path",{d:"M7.25,9.75A.25.25,0,1,1,7,10a.25.25,0,0,1,.25-.25"}),bt.createElement("path",{d:"M12,9.75a.25.25,0,1,1-.25.25A.25.25,0,0,1,12,9.75"}),bt.createElement("path",{d:"M16.75,9.75a.25.25,0,1,1-.25.25.25.25,0,0,1,.25-.25"}))},es=function(){return bt.createElement($t,{size:16},bt.createElement("path",{d:"M0.500 12.001 A11.500 11.500 0 1 0 23.500 12.001 A11.500 11.500 0 1 0 0.500 12.001 Z"}),bt.createElement("path",{d:"M6.000 12.001 A6.000 6.000 0 1 0 18.000 12.001 A6.000 6.000 0 1 0 6.000 12.001 Z"}),bt.createElement("path",{d:"M21.423 5.406L17.415 9.414"}),bt.createElement("path",{d:"M14.587 6.585L18.607 2.565"}),bt.createElement("path",{d:"M5.405 21.424L9.413 17.416"}),bt.createElement("path",{d:"M6.585 14.588L2.577 18.596"}),bt.createElement("path",{d:"M18.602 21.419L14.595 17.412"}),bt.createElement("path",{d:"M17.419 14.58L21.428 18.589"}),bt.createElement("path",{d:"M2.582 5.399L6.588 9.406"}),bt.createElement("path",{d:"M9.421 6.581L5.412 2.572"}))},hs=function(){return bt.createElement($t,{size:16},bt.createElement("path",{d:"M4.000 18.500 A1.500 1.500 0 1 0 7.000 18.500 A1.500 1.500 0 1 0 4.000 18.500 Z"}),bt.createElement("path",{d:"M20.5.5l-9.782,9.783a7,7,0,1,0,3,3L17,10h1.5V8.5L19,8h1.5V6.5L21,6h1.5V4.5l1-1V.5Z"}))},Hs=function(){return bt.createElement($t,{size:16},bt.createElement("path",{d:"M2.000 2.500 L22.000 2.500 L22.000 23.500 L2.000 23.500 Z"}),bt.createElement("path",{d:"M6 4.5L6 0.5"}),bt.createElement("path",{d:"M18 4.5L18 0.5"}),bt.createElement("path",{d:"M10 4.5L10 0.5"}),bt.createElement("path",{d:"M14 4.5L14 0.5"}))},ks=function(){return bt.createElement($t,{size:16},bt.createElement("path",{d:"M17.5 0.498L17.5 23.498"}),bt.createElement("path",{d:"M10.5 0.498L10.5 23.498"}),bt.createElement("path",{d:"M23.5.5H6.5a6,6,0,0,0,0,12h4"}))},jo=function(){return bt.createElement($t,{size:16},bt.createElement("path",{d:"M2.5 22.995L12 6.005 21.5 22.995 2.5 22.995z"}))},na=function(Wt){var Qt=Wt.annotation,xn=Wt.childAnnotation,bn=Wt.page,wn=Wt.viewport,Cn=Qt.hasPopup===!1,On=Fn(Qt),Mn=kn(Qt),En=!!(Qt.hasPopup||On||Mn),In=Qt.name?Qt.name.toLowerCase():"";return bt.createElement(Tr,{annotation:Qt,hasPopup:Cn,ignoreBorder:!1,isRenderable:En,page:bn,viewport:wn},function(Ln){return bt.createElement(bt.Fragment,null,bt.createElement("div",St({},Ln.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--text","data-annotation-id":Qt.id,onClick:Ln.popup.toggleOnClick,onMouseEnter:Ln.popup.openOnHover,onMouseLeave:Ln.popup.closeOnHover}),In&&bt.createElement("div",{className:"rpv-core__annotation-text-icon"},In==="check"&&bt.createElement(Ft,null),In==="comment"&&bt.createElement(Wr,null),In==="help"&&bt.createElement(es,null),In==="insert"&&bt.createElement(jo,null),In==="key"&&bt.createElement(hs,null),In==="note"&&bt.createElement(Hs,null),(In==="newparagraph"||In==="paragraph")&&bt.createElement(ks,null)),Ln.slot.children),xn&&xn.annotationType===ht.AnnotationType.Popup&&Ln.popup.opened&&bt.createElement(xr,{annotation:xn,page:bn,viewport:wn}))})},ga=function(Wt){var Qt=Wt.annotation,xn=Wt.page,bn=Wt.viewport,wn=Qt.hasPopup===!1,Cn=Fn(Qt),On=kn(Qt),Mn=!!(Qt.hasPopup||Cn||On);return bt.createElement(Tr,{annotation:Qt,hasPopup:wn,ignoreBorder:!0,isRenderable:Mn,page:xn,viewport:bn},function(En){return bt.createElement("div",St({},En.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--underline","data-annotation-id":Qt.id,onClick:En.popup.toggleOnClick,onMouseEnter:En.popup.openOnHover,onMouseLeave:En.popup.closeOnHover}),En.slot.children)})},ny=function(Wt){var Qt=Wt.annotations,xn=Wt.doc,bn=Wt.outlines,wn=Wt.page,Cn=Wt.pageIndex,On=Wt.plugins,Mn=Wt.rotation,En=Wt.scale,In=Wt.onExecuteNamedAction,Ln=Wt.onJumpFromLinkAnnotation,er=Wt.onJumpToDest,_i=bt.useRef(),Jn=wn.getViewport({rotation:Mn,scale:En}).clone({dontFlip:!0}),cr=Qt.filter(function(ar){return!ar.parentId});return Mt(function(){var ar=_i.current;ar&&On.forEach(function(rr){rr.onAnnotationLayerRender&&rr.onAnnotationLayerRender({annotations:cr,container:ar,pageIndex:Cn,rotation:Mn,scale:En})})},[]),bt.createElement("div",{ref:_i,className:"rpv-core__annotation-layer","data-testid":"core__annotation-layer-".concat(Cn)},cr.map(function(ar){var rr=Qt.find(function(Qr){return Qr.parentId===ar.id});switch(ar.annotationType){case ht.AnnotationType.Caret:return bt.createElement(yn,{key:ar.id,annotation:ar,page:wn,viewport:Jn});case ht.AnnotationType.Circle:return bt.createElement(Wn,{key:ar.id,annotation:ar,page:wn,viewport:Jn});case ht.AnnotationType.FileAttachment:return bt.createElement(sr,{key:ar.id,annotation:ar,page:wn,viewport:Jn});case ht.AnnotationType.FreeText:return bt.createElement(mr,{key:ar.id,annotation:ar,page:wn,viewport:Jn});case ht.AnnotationType.Highlight:return bt.createElement(ur,{key:ar.id,annotation:ar,childAnnotation:rr,page:wn,viewport:Jn});case ht.AnnotationType.Ink:return bt.createElement(pn,{key:ar.id,annotation:ar,page:wn,viewport:Jn});case ht.AnnotationType.Line:return bt.createElement(ln,{key:ar.id,annotation:ar,page:wn,viewport:Jn});case ht.AnnotationType.Link:return bt.createElement(vr,{key:ar.id,annotation:ar,annotationContainerRef:_i,doc:xn,outlines:bn,page:wn,pageIndex:Cn,scale:En,viewport:Jn,onExecuteNamedAction:In,onJumpFromLinkAnnotation:Ln,onJumpToDest:er});case ht.AnnotationType.Polygon:return bt.createElement(fr,{key:ar.id,annotation:ar,page:wn,viewport:Jn});case ht.AnnotationType.Polyline:return bt.createElement(lr,{key:ar.id,annotation:ar,page:wn,viewport:Jn});case ht.AnnotationType.Popup:return bt.createElement(xr,{key:ar.id,annotation:ar,page:wn,viewport:Jn});case ht.AnnotationType.Square:return bt.createElement(Hr,{key:ar.id,annotation:ar,page:wn,viewport:Jn});case ht.AnnotationType.Squiggly:return bt.createElement(pr,{key:ar.id,annotation:ar,page:wn,viewport:Jn});case ht.AnnotationType.Stamp:return bt.createElement(br,{key:ar.id,annotation:ar,page:wn,viewport:Jn});case ht.AnnotationType.StrikeOut:return bt.createElement(Dr,{key:ar.id,annotation:ar,page:wn,viewport:Jn});case ht.AnnotationType.Text:return bt.createElement(na,{key:ar.id,annotation:ar,childAnnotation:rr,page:wn,viewport:Jn});case ht.AnnotationType.Underline:return bt.createElement(ga,{key:ar.id,annotation:ar,page:wn,viewport:Jn});default:return bt.createElement(bt.Fragment,{key:ar.id})}}))},_w=function(Wt){var Qt=Wt.page,xn=Wt.renderAnnotations,bn=un(),wn=bt.useState({loading:!0,annotations:[]}),Cn=wn[0],On=wn[1];return bt.useEffect(function(){Qt.getAnnotations({intent:"display"}).then(function(Mn){bn.current&&On({loading:!1,annotations:Mn})})},[]),Cn.loading?bt.createElement(bt.Fragment,null):xn(Cn.annotations)},Sw=function(Wt){var Qt=Wt.doc,xn=Wt.outlines,bn=Wt.page,wn=Wt.pageIndex,Cn=Wt.plugins,On=Wt.rotation,Mn=Wt.scale,En=Wt.onExecuteNamedAction,In=Wt.onJumpFromLinkAnnotation,Ln=Wt.onJumpToDest;return bt.createElement(_w,{page:bn,renderAnnotations:function(er){return bt.createElement(ny,{annotations:er,doc:Qt,outlines:xn,page:bn,pageIndex:wn,plugins:Cn,rotation:On,scale:Mn,onExecuteNamedAction:En,onJumpFromLinkAnnotation:In,onJumpToDest:Ln})}})},iy=function(Wt,Qt){var xn=Wt%Qt;return xn===0?Wt:Math.floor(Wt-xn)},Cw=function(Wt){var Qt=Wt.canvasLayerRef,xn=Wt.height,bn=Wt.page,wn=Wt.pageIndex,Cn=Wt.plugins,On=Wt.rotation,Mn=Wt.scale,En=Wt.width,In=Wt.onRenderCanvasCompleted,Ln=bt.useRef();return Mt(function(){var er=Ln.current;er&&er.cancel();var _i=Qt.current;_i.removeAttribute("data-testid"),Cn.forEach(function(Or){Or.onCanvasLayerRender&&Or.onCanvasLayerRender({ele:_i,pageIndex:wn,rotation:On,scale:Mn,status:ht.LayerRenderStatus.PreRender})});var Jn=bn.getViewport({rotation:On,scale:Mn}),cr=window.devicePixelRatio||1,ar=Math.sqrt(16777216/(Jn.width*Jn.height)),rr=cr>ar;rr?_i.style.transform="scale(1, 1)":_i.style.removeProperty("transform");var Qr=Math.min(ar,cr),Lr=function(Or,as){var rs,ls;if(Math.floor(Or)===Or)return[Or,1];var us=1/Or;if(us>as)return[1,as];if(Math.floor(us)===us)return[1,us];for(var fs=Or>1?us:Or,$s=0,Ss=1,Os=1,Ms=1;;){var Ls=$s+Os,Ds=Ss+Ms;if(Ds>as)break;fs<=Ls/Ds?(Os=(rs=[Ls,Ds])[0],Ms=rs[1]):($s=(ls=[Ls,Ds])[0],Ss=ls[1])}return fs<($s/Ss+Os/Ms)/2?fs===Or?[$s,Ss]:[Ss,$s]:fs===Or?[Os,Ms]:[Ms,Os]}(Qr,8),Ir=Lr[0],Br=Lr[1];_i.width=iy(Jn.width*Qr,Ir),_i.height=iy(Jn.height*Qr,Ir),_i.style.width="".concat(iy(Jn.width,Br),"px"),_i.style.height="".concat(iy(Jn.height,Br),"px"),_i.hidden=!0;var Sr=_i.getContext("2d",{alpha:!1}),zr=rr||cr!==1?[Qr,0,0,Qr,0,0]:null;return Ln.current=bn.render({canvasContext:Sr,transform:zr,viewport:Jn}),Ln.current.promise.then(function(){_i.hidden=!1,_i.setAttribute("data-testid","core__canvas-layer-".concat(wn)),Cn.forEach(function(Or){Or.onCanvasLayerRender&&Or.onCanvasLayerRender({ele:_i,pageIndex:wn,rotation:On,scale:Mn,status:ht.LayerRenderStatus.DidRender})}),In()},function(){In()}),function(){_i&&(_i.width=0,_i.height=0)}},[]),bt.createElement("div",{className:"rpv-core__canvas-layer",style:{height:"".concat(xn,"px"),width:"".concat(En,"px")}},bt.createElement("canvas",{ref:Qt}))},Rw=function(Wt){var Qt=Wt.height,xn=Wt.page,bn=Wt.rotation,wn=Wt.scale,Cn=Wt.width,On=bt.useRef();return Mt(function(){var Mn=On.current,En=xn.getViewport({rotation:bn,scale:wn});xn.getOperatorList().then(function(In){(function(){var Ln=On.current;Ln&&(Ln.innerHTML="")})(),new Et.SVGGraphics(xn.commonObjs,xn.objs).getSVG(In,En).then(function(Ln){Ln.style.height="".concat(Qt,"px"),Ln.style.width="".concat(Cn,"px"),Mn.appendChild(Ln)})})},[]),bt.createElement("div",{className:"rpv-core__svg-layer",ref:On})},Tw=function(Wt){var Qt=Wt.containerRef,xn=Wt.page,bn=Wt.pageIndex,wn=Wt.plugins,Cn=Wt.rotation,On=Wt.scale,Mn=Wt.onRenderTextCompleted,En=bt.useRef(),In=function(){var Ln=Qt.current;Ln&&([].slice.call(Ln.querySelectorAll(".rpv-core__text-layer-text")).forEach(function(er){return Ln.removeChild(er)}),[].slice.call(Ln.querySelectorAll('br[role="presentation"]')).forEach(function(er){return Ln.removeChild(er)}))};return Mt(function(){var Ln=En.current;Ln&&Ln.cancel();var er=Qt.current;if(er){er.removeAttribute("data-testid");var _i=xn.getViewport({rotation:Cn,scale:On});return wn.forEach(function(Jn){Jn.onTextLayerRender&&Jn.onTextLayerRender({ele:er,pageIndex:bn,scale:On,status:ht.LayerRenderStatus.PreRender})}),xn.getTextContent().then(function(Jn){In(),En.current=Et.renderTextLayer({container:er,textContent:Jn,textContentSource:Jn,viewport:_i}),En.current.promise.then(function(){er.setAttribute("data-testid","core__text-layer-".concat(bn)),[].slice.call(er.children).forEach(function(cr){cr.classList.contains("rpv-core__text-layer-text--not")||cr.classList.add("rpv-core__text-layer-text")}),wn.forEach(function(cr){cr.onTextLayerRender&&cr.onTextLayerRender({ele:er,pageIndex:bn,scale:On,status:ht.LayerRenderStatus.DidRender})}),Mn()},function(){er.removeAttribute("data-testid"),Mn()})}),function(){var Jn;In(),(Jn=En.current)===null||Jn===void 0||Jn.cancel()}}},[]),bt.createElement("div",{className:"rpv-core__text-layer",ref:Qt})},Pw=function(Wt){var Qt=Wt.doc,xn=Wt.measureRef,bn=Wt.outlines,wn=Wt.pageIndex,Cn=Wt.pageRotation,On=Wt.pageSize,Mn=Wt.plugins,En=Wt.renderPage,In=Wt.renderQueueKey,Ln=Wt.rotation,er=Wt.scale,_i=Wt.shouldRender,Jn=Wt.viewMode,cr=Wt.onExecuteNamedAction,ar=Wt.onJumpFromLinkAnnotation,rr=Wt.onJumpToDest,Qr=Wt.onRenderCompleted,Lr=Wt.onRotatePage,Ir=un(),Br=bt.useState(null),Sr=Br[0],zr=Br[1],Or=bt.useState(!1),as=Or[0],rs=Or[1],ls=bt.useState(!1),us=ls[0],fs=ls[1],$s=bt.useRef(),Ss=bt.useRef(),Os=Math.abs(Ln+Cn)%180==0,Ms=On.pageWidth*er,Ls=On.pageHeight*er,Ds=Os?Ms:Ls,Fs=Os?Ls:Ms,Js=(On.rotation+Ln+Cn)%360,xa=bt.useRef(0),Ho=En||function(Vs){return bt.createElement(bt.Fragment,null,Vs.canvasLayer.children,Vs.textLayer.children,Vs.annotationLayer.children)};return bt.useEffect(function(){zr(null),rs(!1),fs(!1)},[Cn,Ln,er]),bt.useEffect(function(){_i&&Ir.current&&!Sr&&hr(Qt,wn).then(function(Vs){Ir.current&&(xa.current=In,zr(Vs))})},[_i,Sr]),bt.useEffect(function(){as&&us&&(In!==xa.current?(zr(null),rs(!1),fs(!1)):Qr(wn))},[as,us]),bt.createElement("div",{className:kt({"rpv-core__page-layer":!0,"rpv-core__page-layer--dual":Jn===ht.ViewMode.DualPage,"rpv-core__page-layer--dual-cover":Jn===ht.ViewMode.DualPageWithCover,"rpv-core__page-layer--single":Jn===ht.ViewMode.SinglePage}),"data-testid":"core__page-layer-".concat(wn),ref:xn,style:{height:"".concat(Fs,"px"),width:"".concat(Ds,"px")}},Sr?bt.createElement(bt.Fragment,null,Ho({annotationLayer:{attrs:{},children:bt.createElement(Sw,{doc:Qt,outlines:bn,page:Sr,pageIndex:wn,plugins:Mn,rotation:Js,scale:er,onExecuteNamedAction:cr,onJumpFromLinkAnnotation:ar,onJumpToDest:rr})},canvasLayer:{attrs:{},children:bt.createElement(Cw,{canvasLayerRef:$s,height:Fs,page:Sr,pageIndex:wn,plugins:Mn,rotation:Js,scale:er,width:Ds,onRenderCanvasCompleted:function(){Ir.current&&rs(!0)}})},canvasLayerRendered:as,doc:Qt,height:Fs,pageIndex:wn,rotation:Js,scale:er,svgLayer:{attrs:{},children:bt.createElement(Rw,{height:Fs,page:Sr,rotation:Js,scale:er,width:Ds})},textLayer:{attrs:{},children:bt.createElement(Tw,{containerRef:Ss,page:Sr,pageIndex:wn,plugins:Mn,rotation:Js,scale:er,onRenderTextCompleted:function(){Ir.current&&fs(!0)}})},textLayerRendered:us,width:Ds,markRendered:Qr,onRotatePage:function(Vs){return Lr(wn,Vs)}}),Mn.map(function(Vs,yo){return Vs.renderPageLayer?bt.createElement(bt.Fragment,{key:yo},Vs.renderPageLayer({canvasLayerRef:$s,canvasLayerRendered:as,doc:Qt,height:Fs,pageIndex:wn,rotation:Js,scale:er,textLayerRef:Ss,textLayerRendered:us,width:Ds})):bt.createElement(bt.Fragment,{key:yo})})):bt.createElement(Nt,{testId:"core__page-layer-loading-".concat(wn)}))},kw=function(Wt,Qt){var xn=Qt.rect;return Wt.height!==xn.height||Wt.width!==xn.width?xn:Wt};(function(Wt){Wt.Horizontal="Horizontal",Wt.Vertical="Vertical",Wt.Both="Both"})(gr||(gr={}));var Mw=function(Wt){return 1-Math.pow(1-Wt,4)},ry=1e-4,sE={left:0,top:0},oE={capture:!1,passive:!0},Fw=function(Wt){var Qt=Wt.elementRef,xn=Wt.enableSmoothScroll,bn=Wt.isRtl,wn=Wt.scrollDirection,Cn=Wt.onSmoothScroll,On=bt.useState(sE),Mn=On[0],En=On[1],In=bt.useState(Qt.current),Ln=In[0],er=In[1],_i=bn?-1:1,Jn=bt.useRef(wn);Jn.current=wn;var cr=bt.useRef(sE),ar=bt.useRef(!0),rr=bt.useCallback(function(){ar.current=!0,xn&&En(cr.current),Cn(!1)},[]),Qr=bt.useCallback(function(){if(Ln){switch(Jn.current){case gr.Horizontal:cr.current={left:_i*Ln.scrollLeft,top:0};break;case gr.Both:cr.current={left:_i*Ln.scrollLeft,top:Ln.scrollTop};break;case gr.Vertical:default:cr.current={left:0,top:Ln.scrollTop}}xn&&!ar.current||En(cr.current)}},[Ln]);Mt(function(){er(Qt.current)}),Mt(function(){if(Ln)return Ln.addEventListener("scroll",Qr,oE),function(){Ln.removeEventListener("scroll",Qr,oE)}},[Ln]);var Lr=bt.useCallback(function(Ir,Br){var Sr=Qt.current;if(!Sr)return Promise.resolve();var zr={left:0,top:0};switch(Jn.current){case gr.Horizontal:zr.left=_i*Ir.left;break;case gr.Both:zr.left=_i*Ir.left,zr.top=Ir.top;break;case gr.Vertical:default:zr.top=Ir.top}return Br?(ar.current=!1,Cn(!0),new Promise(function(Or,as){(function(rs,ls,us,fs,$s,Ss){$s===void 0&&($s=function(yo){return yo}),Ss===void 0&&(Ss=function(){});var Os=0,Ms=0,Ls=!1;switch(ls){case gr.Horizontal:Ms=rs.scrollLeft,Os=0;case gr.Both:Ms=rs.scrollLeft,Os=rs.scrollTop;break;case gr.Vertical:default:Ms=0,Os=rs.scrollTop}var Ds=function(){Ls||(Ls=!0,rs.scrollLeft=us.left,rs.scrollTop=us.top,Ss())};if(Math.abs(Os-us.top)<=ry&&ls===gr.Vertical)Ds();else if(Math.abs(Ms-us.left)<=ry&&ls===gr.Horizontal)Ds();else{var Fs,Js=-1,xa=Ms-us.left,Ho=Os-us.top,Vs=function(yo){Js===-1&&(Js=yo);var Il=yo-Js,jr=Math.min(Il/fs,1),$r=$s(jr),Cr={left:Ms-xa*$r,top:Os-Ho*$r};switch(ls){case gr.Horizontal:rs.scrollLeft=Cr.left;break;case gr.Both:rs.scrollLeft=Cr.left,rs.scrollTop=Cr.top;break;case gr.Vertical:default:rs.scrollTop=Cr.top}Math.abs(Cr.top-us.top)<=ry&&Math.abs(Cr.left-us.left)<=ry&&!Ls&&(window.cancelAnimationFrame(Fs),Ds()),Il<fs?Fs=window.requestAnimationFrame(Vs):window.cancelAnimationFrame(Fs)};Fs=window.requestAnimationFrame(Vs)}})(Sr,Jn.current,zr,400,Mw,function(){rr(),Or()})})):new Promise(function(Or,as){switch(Jn.current){case gr.Horizontal:Sr.scrollLeft=zr.left;break;case gr.Both:Sr.scrollLeft=zr.left,Sr.scrollTop=zr.top;break;case gr.Vertical:default:Sr.scrollTop=zr.top}Or()})},[Qt]);return{scrollOffset:Mn,scrollTo:Lr}},e0=function(Wt,Qt,xn){return Math.max(Wt,Math.min(xn,Qt))},Lw=function(Wt,Qt){if(Qt!==ht.ViewMode.DualPageWithCover)return 0;if(!function(wn){var Cn=wn.length;if(Cn===1)return!1;for(var On=1;On<Cn;On++)if(wn[On].height!==wn[0].height||wn[On].width!==wn[0].width)return!0;return!1}(Wt))return 2*Wt[0].width;var xn=Tn(Wt.slice(1),2).map(function(wn){return wn.length===2?wn[0].width+wn[1].width:wn[0].width}),bn=[Wt[0].width].concat(xn);return Math.max.apply(Math,bn)},Dw={left:0,top:0},Iw={left:0,top:0},fx={left:0,top:0},$w={left:0,top:0},Nw={height:0,width:0},aE={left:0,top:0},lE="data-virtual-index",Ow=[0,.1,.2,.3,.4,.5,.6,.7,.8,.9,1],jw=function(Wt){var Qt=Wt.enableSmoothScroll,xn=Wt.isRtl,bn=Wt.numberOfItems,wn=Wt.parentRef,Cn=Wt.setRenderRange,On=Wt.sizes,Mn=Wt.scrollMode,En=Wt.viewMode,In=bt.useState(!1),Ln=In[0],er=In[1],_i=bt.useCallback(function(jr){return er(jr)},[]),Jn=bt.useRef(Mn);Jn.current=Mn;var cr=bt.useRef(En);cr.current=En;var ar=Mn===ht.ScrollMode.Wrapped||En===ht.ViewMode.DualPageWithCover||En===ht.ViewMode.DualPage?gr.Both:Mn===ht.ScrollMode.Horizontal?gr.Horizontal:gr.Vertical,rr=Fw({elementRef:wn,enableSmoothScroll:Qt,isRtl:xn,scrollDirection:ar,onSmoothScroll:_i}),Qr=rr.scrollOffset,Lr=rr.scrollTo,Ir=function(jr){var $r=jr.elementRef,Cr=bt.useState($r.current),kr=Cr[0],Rr=Cr[1],Vr=bt.useRef(!1),Gr=bt.useReducer(kw,{height:0,width:0}),Mr=Gr[0],yr=Gr[1];return Mt(function(){$r.current!==kr&&Rr($r.current)}),Mt(function(){if(kr&&!Vr.current){Vr.current=!0;var Yr=kr.getBoundingClientRect(),Jr=Yr.height,Es=Yr.width;yr({rect:{height:Jr,width:Es}})}},[kr]),bt.useEffect(function(){if(kr){var Yr=new ResizeObserver(function(Jr,Es){Jr.forEach(function(ys){if(ys.target===kr){var Ks=ys.contentRect,Ao=Ks.height,Zr=Ks.width;yr({rect:{height:Ao,width:Zr}})}})});return Yr.observe(kr),function(){Yr.unobserve(kr)}}},[kr]),Mr}({elementRef:wn}),Br=bt.useRef({scrollOffset:aE,measurements:[]});Br.current.scrollOffset=Qr;var Sr=bt.useMemo(function(){return Array(bn).fill(-1)},[]),zr=bt.useState(Sr),Or=zr[0],as=zr[1],rs=bt.useMemo(function(){var jr=new IntersectionObserver(function($r){$r.forEach(function(Cr){var kr=Cr.isIntersecting?Cr.intersectionRatio:-1,Rr=Cr.target.getAttribute(lE);if(Rr){var Vr=parseInt(Rr,10);0<=Vr&&Vr<bn&&as(function(Gr){return Gr[Vr]=kr,function(Mr,yr,Yr){for(var Jr,Es=0,ys=yr.length;Es<ys;Es++)!Jr&&Es in yr||(Jr||(Jr=Array.prototype.slice.call(yr,0,Es)),Jr[Es]=yr[Es]);return Mr.concat(Jr||Array.prototype.slice.call(yr))}([],Gr)})}})},{threshold:Ow});return jr},[]),ls=bt.useMemo(function(){return Mn===ht.ScrollMode.Page&&En===ht.ViewMode.SinglePage?function(jr,$r,Cr){for(var kr=[],Rr=0;Rr<jr;Rr++){var Vr={height:Math.max($r.height,Cr[Rr].height),width:Math.max($r.width,Cr[Rr].width)},Gr=Rr===0?$w:kr[Rr-1].end,Mr={left:Gr.left+Vr.width,top:Gr.top+Vr.height};kr[Rr]={index:Rr,start:Gr,size:Vr,end:Mr,visibility:-1}}return kr}(bn,Ir,On):En===ht.ViewMode.DualPageWithCover?function(jr,$r,Cr,kr){for(var Rr=[],Vr=0,Gr=0,Mr=fx,yr=0;yr<jr;yr++){var Yr=yr===0?{height:kr===ht.ScrollMode.Page?Math.max($r.height,Cr[yr].height):Cr[yr].height,width:kr===ht.ScrollMode.Page?Math.max($r.width,Cr[yr].width):Cr[yr].width}:{height:kr===ht.ScrollMode.Page?Math.max($r.height,Cr[yr].height):Cr[yr].height,width:Math.max($r.width/2,Cr[yr].width)};kr===ht.ScrollMode.Page?Mr=yr===0?fx:{left:yr%2==0?Yr.width:0,top:Math.floor((yr-1)/2)*Yr.height+Rr[0].end.top}:yr===0?(Mr=fx,Vr=Cr[0].height,Gr=0):yr%2==1?(Mr={left:0,top:Vr+=Gr},Gr=yr===jr-1?Cr[yr].height:Math.max(Cr[yr].height,Cr[yr+1].height)):Mr={left:Rr[yr-1].end.left,top:Vr};var Jr={left:Mr.left+Yr.width,top:Mr.top+Yr.height};Rr[yr]={index:yr,start:Mr,size:Yr,end:Jr,visibility:-1}}return Rr}(bn,Ir,On,Mn):En===ht.ViewMode.DualPage?function(jr,$r,Cr,kr){for(var Rr=[],Vr=0,Gr=0,Mr=Iw,yr=0;yr<jr;yr++){var Yr={height:kr===ht.ScrollMode.Page?Math.max($r.height,Cr[yr].height):Cr[yr].height,width:Math.max($r.width/2,Cr[yr].width)};kr===ht.ScrollMode.Page?Mr={left:yr%2==0?0:Yr.width,top:Math.floor(yr/2)*Yr.height}:yr%2==0?(Mr={left:0,top:Vr+=Gr},Gr=yr===jr-1?Cr[yr].height:Math.max(Cr[yr].height,Cr[yr+1].height)):Mr={left:Rr[yr-1].end.left,top:Vr};var Jr={left:Mr.left+Yr.width,top:Mr.top+Yr.height};Rr[yr]={index:yr,start:Mr,size:Yr,end:Jr,visibility:-1}}return Rr}(bn,Ir,On,Mn):function(jr,$r,Cr,kr){for(var Rr=[],Vr=0,Gr={left:0,top:0},Mr=0,yr=Dw,Yr=0;Yr<jr;Yr++){var Jr=Cr[Yr];if(Yr===0)Vr=Jr.width,Gr={left:0,top:0},Mr=Jr.height;else switch(kr){case ht.ScrollMode.Wrapped:(Vr+=Jr.width)<$r.width?(yr={left:Rr[Yr-1].end.left,top:Gr.top},Mr=Math.max(Mr,Jr.height)):(Vr=Jr.width,Gr={left:(yr={left:Gr.left,top:Gr.top+Mr}).left,top:yr.top},Mr=Jr.height);break;case ht.ScrollMode.Horizontal:case ht.ScrollMode.Vertical:default:yr=Rr[Yr-1].end}var Es={left:yr.left+Jr.width,top:yr.top+Jr.height};Rr[Yr]={index:Yr,start:yr,size:Jr,end:Es,visibility:-1}}return Rr}(bn,Ir,On,Mn)},[Mn,On,En,Ir]),us=ls[bn-1]?{height:ls[bn-1].end.top,width:ls[bn-1].end.left}:Nw;Br.current.measurements=ls;var fs=bt.useMemo(function(){var jr=function(Yr,Jr,Es,ys){var Ks=0;switch(Yr){case gr.Horizontal:Ks=ys.left;break;case gr.Vertical:default:Ks=ys.top}var Ao=Jr.length-1,Zr=function(ms,gu,qp,oy){for(;ms<=gu;){var Wu=(ms+gu)/2|0,t0=oy(Wu);if(t0<qp)ms=Wu+1;else{if(!(t0>qp))return Wu;gu=Wu-1}}return ms>0?ms-1:0}(0,Ao,Ks,function(ms){switch(Yr){case gr.Horizontal:return Jr[ms].start.left;case gr.Both:case gr.Vertical:default:return Jr[ms].start.top}});if(Yr===gr.Both)for(var Ys=Jr[Zr].start.top;Zr-1>=0&&Jr[Zr-1].start.top===Ys&&Jr[Zr-1].start.left>=ys.left;)Zr--;for(var As=Zr;As<=Ao;){var Cs={top:Jr[As].start.top-ys.top,left:Jr[As].start.left-ys.left},Bs={height:Es.height-Cs.top,width:Es.width-Cs.left};if(Yr===gr.Horizontal&&Bs.width<0||Yr===gr.Vertical&&Bs.height<0||Yr===gr.Both&&(Bs.width<0||Bs.height<0))break;As++}return{start:Zr,end:As}}(ar,ls,Ir,Qr),$r=jr.start,Cr=jr.end,kr=Or.slice(e0(0,bn,$r),e0(0,bn,Cr)),Rr=$r+kr.reduce(function(Yr,Jr,Es,ys){return Jr>ys[Yr]?Es:Yr},0),Vr=Rr=e0(0,bn-1,Rr),Gr=Cn({endPage:Cr,numPages:bn,startPage:$r}),Mr=Gr.startPage,yr=Gr.endPage;switch(Mr=Math.max(Mr,0),yr=Math.min(yr,bn-1),En){case ht.ViewMode.DualPageWithCover:Rr>0&&(Vr=Rr%2==1?Rr:Rr-1),Mr=Mr===0?0:Mr%2==1?Mr:Mr-1,bn-(yr=yr%2==1?yr-1:yr)<=2&&(yr=bn-1);break;case ht.ViewMode.DualPage:Vr=Rr%2==0?Rr:Rr-1,Mr=Mr%2==0?Mr:Mr-1,yr=yr%2==1?yr:yr-1;break;case ht.ViewMode.SinglePage:default:Vr=Rr}return{startPage:Mr,endPage:yr,maxVisbilityIndex:Vr}},[ls,Ir,Qr,En,Or]),$s=fs.startPage,Ss=fs.endPage,Os=fs.maxVisbilityIndex,Ms=bt.useMemo(function(){for(var jr=[],$r=function(kr){var Rr=ls[kr],Vr=St(St({},Rr),{visibility:Or[kr]!==void 0?Or[kr]:-1,measureRef:function(Gr){Gr&&(Gr.setAttribute(lE,"".concat(kr)),rs.observe(Gr))}});jr.push(Vr)},Cr=$s;Cr<=Ss;Cr++)$r(Cr);return jr},[$s,Ss,Or,ls]),Ls=bt.useCallback(function(jr,$r){var Cr=Br.current.measurements[e0(0,bn-1,jr)],kr=Jn.current===ht.ScrollMode.Page?aE:$r;return Cr?Lr({left:kr.left+Cr.start.left,top:kr.top+Cr.start.top},Qt):Promise.resolve()},[Lr,Qt]),Ds=bt.useCallback(function(jr,$r){var Cr=Br.current.measurements,kr=Cr[jr].start,Rr=Cr.find(function(Gr){return Gr.start.top-kr.top>1e-12});if(!Rr)return Promise.resolve();var Vr=Rr.index;switch(cr.current){case ht.ViewMode.DualPage:Vr=Vr%2==0?Vr:Vr+1;break;case ht.ViewMode.DualPageWithCover:Vr=Vr%2==1?Vr:Vr+1}return Ls(Vr,$r)},[]),Fs=bt.useCallback(function(jr,$r){for(var Cr=Br.current.measurements,kr=Cr[jr].start,Rr=jr,Vr=!1,Gr=bn-1;Gr>=0;Gr--)if(kr.top-Cr[Gr].start.top>1e-12){Vr=!0,Rr=Cr[Gr].index;break}if(!Vr)return Promise.resolve();switch(cr.current){case ht.ViewMode.DualPage:Rr=Rr%2==0?Rr:Rr-1;break;case ht.ViewMode.DualPageWithCover:Rr=Rr%2==0?Rr-1:Rr}return Rr===jr&&(Rr=jr-1),Ls(Rr,$r)},[]),Js=bt.useCallback(function(jr,$r){if(cr.current===ht.ViewMode.DualPageWithCover||cr.current===ht.ViewMode.DualPage)return Ds(jr,$r);switch(Jn.current){case ht.ScrollMode.Wrapped:return Ds(jr,$r);case ht.ScrollMode.Horizontal:case ht.ScrollMode.Vertical:default:return Ls(jr+1,$r)}},[]),xa=bt.useCallback(function(jr,$r){if(cr.current===ht.ViewMode.DualPageWithCover||cr.current===ht.ViewMode.DualPage)return Fs(jr,$r);switch(Jn.current){case ht.ScrollMode.Wrapped:return Fs(jr,$r);case ht.ScrollMode.Horizontal:case ht.ScrollMode.Vertical:default:return Ls(jr-1,$r)}},[]),Ho=bt.useCallback(function(){return function(jr,$r){switch($r){case ht.ScrollMode.Horizontal:return{position:"relative",height:"100%",width:"".concat(jr.width,"px")};case ht.ScrollMode.Vertical:default:return{position:"relative",height:"".concat(jr.height,"px"),width:"100%"}}}(us,Jn.current)},[us]),Vs=bt.useCallback(function(jr){return function($r,Cr,kr){return kr!==ht.ScrollMode.Page?{}:{height:"".concat(Cr.height,"px"),width:"100%",position:"absolute",top:0,transform:"translateY(".concat($r.start.top,"px)")}}(jr,Ir,Jn.current)},[Ir]),yo=bt.useCallback(function(jr){return function($r,Cr,kr,Rr,Vr){var Gr,Mr,yr,Yr,Jr,Es,ys,Ks=Cr?"right":"left",Ao=Cr?-1:1,Zr=kr.length,Ys=$r.start.left*Ao,As=$r.size,Cs=As.height,Bs=As.width;if(Rr===ht.ViewMode.DualPageWithCover){var ms=Vr===ht.ScrollMode.Page?0:$r.start.top;return $r.index===0||Zr%2==0&&$r.index===Zr-1?((Gr={height:"".concat(Cs,"px"),minWidth:"".concat(Lw(kr,Rr),"px"),width:"100%"})[Ks]=0,Gr.position="absolute",Gr.top=0,Gr.transform="translate(".concat(Ys,"px, ").concat(ms,"px)"),Gr):((Mr={height:"".concat(Cs,"px"),width:"".concat(Bs,"px")})[Ks]=0,Mr.position="absolute",Mr.top=0,Mr.transform="translate(".concat(Ys,"px, ").concat(ms,"px)"),Mr)}if(Rr===ht.ViewMode.DualPage)return(yr={height:"".concat(Cs,"px"),width:"".concat(Bs,"px")})[Ks]=0,yr.position="absolute",yr.top=0,yr.transform="translate(".concat(Ys,"px, ").concat(Vr===ht.ScrollMode.Page?0:$r.start.top,"px)"),yr;switch(Vr){case ht.ScrollMode.Horizontal:return(Yr={height:"100%",width:"".concat(Bs,"px")})[Ks]=0,Yr.position="absolute",Yr.top=0,Yr.transform="translateX(".concat(Ys,"px)"),Yr;case ht.ScrollMode.Page:return(Jr={height:"".concat(Cs,"px"),width:"".concat(Bs,"px")})[Ks]=0,Jr.position="absolute",Jr.top=0,Jr;case ht.ScrollMode.Wrapped:return(Es={height:"".concat(Cs,"px"),width:"".concat(Bs,"px")})[Ks]=0,Es.position="absolute",Es.top=0,Es.transform="translate(".concat(Ys,"px, ").concat($r.start.top,"px)"),Es;case ht.ScrollMode.Vertical:default:return(ys={height:"".concat(Cs,"px"),width:"100%"})[Ks]=0,ys.position="absolute",ys.top=0,ys.transform="translateY(".concat($r.start.top,"px)"),ys}}(jr,xn,On,cr.current,Jn.current)},[xn,On]),Il=bt.useCallback(function(jr,$r){var Cr=Br.current,kr=Cr.measurements,Rr=Cr.scrollOffset,Vr=kr[e0(0,bn-1,$r)];if(Vr){var Gr=Jn.current===ht.ScrollMode.Page?{left:Vr.start.left,top:Vr.start.top}:{left:Rr.left*jr,top:Rr.top*jr};return Lr(Gr,!1)}return Promise.resolve()},[]);return bt.useEffect(function(){return function(){rs.disconnect()}},[]),{boundingClientRect:Ir,isSmoothScrolling:Ln,startPage:$s,endPage:Ss,maxVisbilityIndex:Os,virtualItems:Ms,getContainerStyles:Ho,getItemContainerStyles:Vs,getItemStyles:yo,scrollToItem:Ls,scrollToNextItem:Js,scrollToPreviousItem:xa,zoom:Il}},px=function(Wt,Qt,xn,bn,wn,Cn){var On=xn;switch(!0){case(wn===ht.ViewMode.DualPageWithCover&&Cn>=3):case(wn===ht.ViewMode.DualPage&&Cn>=3):On=2*xn;break;default:On=xn}switch(bn){case ht.SpecialZoomLevel.ActualSize:return 1;case ht.SpecialZoomLevel.PageFit:return Math.min((Wt.clientWidth-17)/On,(Wt.clientHeight-16)/Qt);case ht.SpecialZoomLevel.PageWidth:return(Wt.clientWidth-17)/On}},Hw=function(Wt){var Qt,xn,bn=Wt.getCurrentPage,wn=(Qt=50,xn=bt.useRef([]),bt.useEffect(function(){return function(){xn.current=[]}},[]),{push:function(In){var Ln=xn.current;Ln.length+1>Qt&&Ln.shift(),Ln.push(In),xn.current=Ln},map:function(In){return xn.current.map(function(Ln){return In(Ln)})},pop:function(){var In=xn.current;if(In.length===0)return null;var Ln=In.pop();return xn.current=In,Ln}}),Cn=function(In){var Ln=bt.useRef([]);return bt.useEffect(function(){return function(){Ln.current=[]}},[]),{dequeue:function(){var er=Ln.current;if(er.length===0)return null;var _i=er.shift();return Ln.current=er,_i||null},enqueue:function(er){var _i=Ln.current;_i.length+1>In&&_i.pop(),Ln.current=[er].concat(_i)},map:function(er){return Ln.current.map(function(_i){return er(_i)})}}}(50),On=function(){var In=Cn.dequeue();return In&&wn.push(In),In&&In.pageIndex===bn()?On():In},Mn=function(){var In=wn.pop();return In&&Cn.enqueue(In),In&&In.pageIndex===bn()?Mn():In},En=bt.useCallback(function(In){wn.push(In)},[]);return{getNextDestination:On,getPreviousDestination:Mn,markVisitedDestination:En}},cE=function(Wt){var Qt=[];return Wt.map(function(xn){Qt=Qt.concat(xn).concat(function(bn){var wn=[];return bn.items&&bn.items.length>0&&(wn=wn.concat(cE(bn.items))),wn}(xn))}),Qt},uE={capture:!1,passive:!0},Bw={height:0,width:0},gx={height:0,width:0},Uw=function(Wt){var Qt=Wt.getCurrentPage,xn=Wt.getCurrentScrollMode,bn=Wt.jumpToPage,wn=Wt.targetRef,Cn=bt.useState(ht.FullScreenMode.Normal),On=Cn[0],Mn=Cn[1],En=function(){var Or=bt.useState(Bw),as=Or[0],rs=Or[1],ls=An(function(){rs({height:window.innerHeight,width:window.innerWidth})},100);return Mt(function(){return window.addEventListener("resize",ls,uE),function(){window.removeEventListener("resize",ls,uE)}},[]),as}(),In=bt.useState(gx),Ln=In[0],er=In[1],_i=bt.useRef(gx),Jn=bt.useRef(Qt()),cr=bt.useRef(gx),ar=bt.useState(wn.current),rr=ar[0],Qr=ar[1],Lr=bt.useRef();Mt(function(){wn.current!==rr&&Qr(wn.current)},[]),Mt(function(){if(rr){var Or=new ResizeObserver(function(as){as.forEach(function(rs){var ls=rs.target.getBoundingClientRect(),us=ls.height,fs=ls.width;er({height:us,width:fs})})});return Or.observe(rr),function(){Or.unobserve(rr),Or.disconnect()}}},[rr]);var Ir=bt.useCallback(function(Or){var as=on();return as&&as!==Or?(Mn(ht.FullScreenMode.Normal),en(as)):Promise.resolve()},[]),Br=bt.useCallback(function(Or){Or&&Xt()&&(Qr(Or),Ir(Or).then(function(){Lr.current=Or,Mn(ht.FullScreenMode.Entering),function(as){Kt&&as[nn.RequestFullScreen]()}(Or)}))},[]),Sr=bt.useCallback(function(){on()&&(Mn(ht.FullScreenMode.Exitting),en(document))},[]),zr=bt.useCallback(function(){rr&&on()!==rr&&Mn(ht.FullScreenMode.Exitting)},[rr]);return bt.useEffect(function(){switch(On){case ht.FullScreenMode.Entering:Lr.current&&(Lr.current.style.backgroundColor="var(--rpv-core__full-screen-target-background-color)"),Jn.current=Qt(),_i.current={height:window.innerHeight,width:window.innerWidth};break;case ht.FullScreenMode.Entered:xn()===ht.ScrollMode.Page?bn(Jn.current).then(function(){Mn(ht.FullScreenMode.EnteredCompletely)}):Mn(ht.FullScreenMode.EnteredCompletely);break;case ht.FullScreenMode.Exitting:Lr.current&&(Lr.current.style.backgroundColor="",Lr.current=null),Jn.current=Qt();break;case ht.FullScreenMode.Exited:Mn(ht.FullScreenMode.Normal),xn()===ht.ScrollMode.Page&&bn(Jn.current)}},[On]),bt.useEffect(function(){if(On!==ht.FullScreenMode.Normal)return On===ht.FullScreenMode.Entering&&En.height===Ln.height&&En.width===Ln.width&&En.height>0&&En.width>0&&(cr.current.height===0||En.height==cr.current.height)?(cr.current={height:window.innerHeight,width:window.innerWidth},void Mn(ht.FullScreenMode.Entered)):void(On===ht.FullScreenMode.Exitting&&_i.current.height===En.height&&_i.current.width===En.width&&En.height>0&&En.width>0&&Mn(ht.FullScreenMode.Exited))},[On,En,Ln]),bt.useEffect(function(){var Or;return Or=zr,Kt&&document.addEventListener(nn.FullScreenChange,Or),function(){(function(as){Kt&&document.removeEventListener(nn.FullScreenChange,as)})(zr)}},[rr]),{enterFullScreenMode:Br,exitFullScreenMode:Sr,fullScreenMode:On}},zw={buildPageStyles:function(){return{}},transformSize:function(Wt){return Wt.size}},Xp={left:0,top:0},Vw=function(Wt){var Qt=Wt.currentFile,xn=Wt.defaultScale,bn=Wt.doc,wn=Wt.enableSmoothScroll,Cn=Wt.initialPage,On=Wt.initialRotation,Mn=Wt.initialScale,En=Wt.pageLayout,In=Wt.pageSizes,Ln=Wt.plugins,er=Wt.renderPage,_i=Wt.scrollMode,Jn=Wt.setRenderRange,cr=Wt.viewMode,ar=Wt.viewerState,rr=Wt.onDocumentLoad,Qr=Wt.onOpenFile,Lr=Wt.onPageChange,Ir=Wt.onRotate,Br=Wt.onRotatePage,Sr=Wt.onZoom,zr=bn.numPages,Or=bn.loadingTask.docId,as=bt.useContext(Sn).l10n,rs=bt.useContext(Pt),ls=rs.direction===ht.TextDirection.RightToLeft,us=bt.useRef(),fs=bt.useRef(),$s=bt.useState(Cn),Ss=$s[0],Os=$s[1],Ms=bt.useRef(null),Ls=Hw({getCurrentPage:function(){return Zr.current.pageIndex}}),Ds=bt.useState(On),Fs=Ds[0],Js=Ds[1],xa=vn(Fs),Ho=bt.useState(!1),Vs=Ho[0],yo=Ho[1],Il=bt.useState(new Map),jr=Il[0],$r=Il[1],Cr=bt.useState(_i),kr=Cr[0],Rr=Cr[1],Vr=vn(kr),Gr=bt.useState(cr),Mr=Gr[0],yr=Gr[1],Yr=vn(Mr),Jr=function(ir){var qr=un(),ts=bt.useState([]),ps=ts[0],ds=ts[1];return bt.useEffect(function(){ir.getOutline().then(function(ns){if(qr.current&&ns!==null){var Us=cE(ns);ds(Us)}})},[]),ps}(bn),Es=bt.useState(Mn),ys=Es[0],Ks=Es[1],Ao=vn(ys),Zr=bt.useRef(ar),Ys=bt.useRef(typeof xn=="string"?xn:null),As=bt.useRef(-1),Cs=bt.useRef(-1),Bs=bt.useRef(Cn),ms=Uw({getCurrentPage:function(){return Zr.current.pageIndex},getCurrentScrollMode:function(){return Zr.current.scrollMode},jumpToPage:function(ir){return vu(ir)},targetRef:fs}),gu=bt.useState(-1),qp=gu[0],oy=gu[1],Wu=bt.useState(0),t0=Wu[0],Yw=Wu[1],wo=tn({doc:bn});bt.useEffect(function(){return function(){nr.clear(),Nr.clear()}},[Or]);var pE=bt.useMemo(function(){return Object.assign({},zw,En)},[]),Zw=bt.useMemo(function(){return Array(zr).fill(0).map(function(ir,qr){var ts=[In[qr].pageHeight,In[qr].pageWidth],ps=Math.abs(Fs)%180==0?{height:ts[0],width:ts[1]}:{height:ts[1],width:ts[0]},ds={height:ps.height*ys,width:ps.width*ys};return pE.transformSize({numPages:zr,pageIndex:qr,size:ds})})},[Fs,ys]),xs=jw({enableSmoothScroll:wn,isRtl:ls,numberOfItems:zr,parentRef:fs,scrollMode:kr,setRenderRange:Jn,sizes:Zw,viewMode:Mr}),Qw=An(function(){!Ys.current||Zr.current.fullScreenMode!==ht.FullScreenMode.Normal||Cn>0&&Bs.current===Cn||Gu(Ys.current)},200);(function(ir){var qr=ir.targetRef,ts=ir.onResize;Mt(function(){var ps=new ResizeObserver(function(ns){ns.forEach(function(Us){ts(Us.target)})}),ds=qr.current;if(ds)return ps.observe(ds),function(){ps.unobserve(ds)}},[])})({targetRef:fs,onResize:Qw});var mu=function(ir){var qr=ir;Ln.forEach(function(ts){ts.onViewerStateChange&&(qr=ts.onViewerStateChange(qr))}),Zr.current=qr},Jw=function(){return fs.current},e_=function(){return Zr.current},t_=bt.useCallback(function(ir){Ls.markVisitedDestination(ir)},[]),yx=bt.useCallback(function(ir){var qr=ir.pageIndex,ts=ir.bottomOffset,ps=ir.leftOffset,ds=ir.scaleTo,ns=fs.current,Us=Zr.current;return ns&&Us?new Promise(function(yu,_x){hr(bn,qr).then(function(ay){var xu=ay.getViewport({scale:1}),ly=0,AE=(typeof ts=="function"?ts(xu.width,xu.height):ts)||0,cy=(typeof ps=="function"?ps(xu.width,xu.height):ps)||0,Kp=Us.scale;switch(ds){case ht.SpecialZoomLevel.PageFit:ly=0,cy=0,Gu(ht.SpecialZoomLevel.PageFit);break;case ht.SpecialZoomLevel.PageWidth:Kp=px(ns,In[qr].pageHeight,In[qr].pageWidth,ht.SpecialZoomLevel.PageWidth,cr,zr),ly=(xu.height-AE)*Kp,cy*=Kp,Gu(Kp);break;default:ly=(xu.height-AE)*Kp,cy*=Kp}switch(Us.scrollMode){case ht.ScrollMode.Horizontal:xs.scrollToItem(qr,{left:cy,top:0}).then(function(){yu()});break;case ht.ScrollMode.Vertical:default:xs.scrollToItem(qr,{left:0,top:ly}).then(function(){yu()})}})}):Promise.resolve()},[]),gE=bt.useCallback(function(ir){return Ls.markVisitedDestination(ir),yx(ir)},[]),n_=bt.useCallback(function(){var ir=Ls.getNextDestination();return ir?yx(ir):Promise.resolve()},[]),i_=bt.useCallback(function(){var ir=Ls.getPreviousDestination();return ir?yx(ir):Promise.resolve()},[]),r_=bt.useCallback(function(){return xs.scrollToNextItem(Zr.current.pageIndex,Xp)},[]),vu=bt.useCallback(function(ir){return 0<=ir&&ir<zr?xs.scrollToItem(ir,Xp):Promise.resolve()},[]),s_=bt.useCallback(function(){return xs.scrollToPreviousItem(Zr.current.pageIndex,Xp)},[]),mE=bt.useCallback(function(ir){var qr,ts;(qr=ir.name,ts=qr.split(/\./).pop(),ts?ts.toLowerCase():"").toLowerCase()==="pdf"&&new Promise(function(ps){var ds=new FileReader;ds.readAsArrayBuffer(ir),ds.onload=function(){var ns=new Uint8Array(ds.result);ps(ns)}}).then(function(ps){Qr(ir.name,ps)})},[Qr]),vE=bt.useCallback(function(ir){var qr=ir===ht.RotateDirection.Backward?-90:90,ts=Zr.current.rotation,ps=ts===360||ts===-360?qr:ts+qr;wo.markNotRendered(),Js(ps),mu(St(St({},Zr.current),{rotation:ps})),Ir({direction:ir,doc:bn,rotation:ps})},[]),xx=bt.useCallback(function(ir,qr){var ts=qr===ht.RotateDirection.Backward?-90:90,ps=Zr.current.pagesRotation,ds=(ps.has(ir)?ps.get(ir):On)+ts,ns=ps.set(ir,ds);$r(ns),yo(function(Us){return!Us}),mu(St(St({},Zr.current),{pagesRotation:ns,rotatedPage:ir})),Br({direction:qr,doc:bn,pageIndex:ir,rotation:ds}),wo.markRendering(ir),oy(ir)},[]),yE=bt.useCallback(function(ir){mu(St(St({},Zr.current),{scrollMode:ir})),Rr(ir)},[]),xE=bt.useCallback(function(ir){mu(St(St({},Zr.current),{viewMode:ir})),yr(ir)},[]),Gu=bt.useCallback(function(ir){var qr=fs.current,ts=Zr.current.pageIndex;if(!(ts<0||ts>=zr)){var ps=In[ts].pageHeight,ds=In[ts].pageWidth,ns=qr?typeof ir=="string"?px(qr,ps,ds,ir,Zr.current.viewMode,zr):ir:1;Ys.current=typeof ir=="string"?ir:null,ns!==Zr.current.scale&&(Yw(function(Us){return Us+1}),wo.markNotRendered(),Ks(ns),Sr({doc:bn,scale:ns}),mu(St(St({},Zr.current),{scale:ns})))}},[]),o_=bt.useCallback(function(ir){ms.enterFullScreenMode(ir)},[]),a_=bt.useCallback(function(){ms.exitFullScreenMode()},[]);bt.useEffect(function(){mu(St(St({},Zr.current),{fullScreenMode:ms.fullScreenMode}))},[ms.fullScreenMode]),bt.useEffect(function(){var ir={enterFullScreenMode:o_,exitFullScreenMode:a_,getPagesContainer:Jw,getViewerState:e_,jumpToDestination:gE,jumpToNextDestination:n_,jumpToPreviousDestination:i_,jumpToNextPage:r_,jumpToPreviousPage:s_,jumpToPage:vu,openFile:mE,rotate:vE,rotatePage:xx,setViewerState:mu,switchScrollMode:yE,switchViewMode:xE,zoom:Gu};return Ln.forEach(function(qr){qr.install&&qr.install(ir)}),function(){Ln.forEach(function(qr){qr.uninstall&&qr.uninstall(ir)})}},[Or]),bt.useEffect(function(){rr({doc:bn,file:Qt}),Ln.forEach(function(ir){ir.onDocumentLoad&&ir.onDocumentLoad({doc:bn,file:Qt})})},[Or]);var bx,Ex,Ax,bE=xs.boundingClientRect;bx=function(){Cn&&vu(Cn)},Ex=bE.height>0&&bE.width>0,Ax=bt.useRef(!1),Mt(function(){Ex&&!Ax.current&&(Ax.current=!0,bx())},[bx,Ex]),Mt(function(){var ir=Zr.current.pageIndex;ir>-1&&Vr!==kr&&xs.scrollToItem(ir,Xp).then(function(){ms.fullScreenMode===ht.FullScreenMode.EnteredCompletely&&(wn||wo.markNotRendered(),As.current=-1)})},[kr]),Mt(function(){var ir=Zr.current.pageIndex;ir>-1&&xa!==Fs&&xs.scrollToItem(ir,Xp)},[Fs]),Mt(function(){Ao!=0&&Ao!=Zr.current.scale&&xs.zoom(Zr.current.scale/Ao,Zr.current.pageIndex).then(function(){ms.fullScreenMode===ht.FullScreenMode.EnteredCompletely&&(Cs.current=-1)})},[ys]),Mt(function(){if(Yr!==Zr.current.viewMode){var ir=xs.startPage,qr=xs.endPage,ts=xs.virtualItems;wo.markNotRendered(),wo.setRange(ir,qr);for(var ps=function(ns){var Us=ts.find(function(yu){return yu.index===ns});Us&&wo.setVisibility(ns,Us.visibility)},ds=ir;ds<=qr;ds++)ps(ds);wx()}},[Mr]),Mt(function(){var ir=Zr.current.pageIndex;ir>-1&&Yr!==Mr&&xs.scrollToItem(ir,Xp)},[Mr]),Mt(function(){var ir=Zr.current.pageIndex;ir>0&&ir===Cn&&Bs.current===Cn&&Ys.current&&(Bs.current=-1,Gu(Ys.current))},[Ss]),bt.useEffect(function(){xs.isSmoothScrolling||Ms.current!==null&&Ms.current===Ss||(Ms.current=Ss,Lr({currentPage:Ss,doc:bn}))},[Ss,xs.isSmoothScrolling]),bt.useEffect(function(){ms.fullScreenMode===ht.FullScreenMode.Entering&&Zr.current.scrollMode===ht.ScrollMode.Page&&(As.current=Zr.current.pageIndex),ms.fullScreenMode===ht.FullScreenMode.EnteredCompletely&&Zr.current.scrollMode===ht.ScrollMode.Page&&wn&&(As.current=-1),ms.fullScreenMode===ht.FullScreenMode.EnteredCompletely&&Ys.current&&(Cs.current=Zr.current.pageIndex,Gu(Ys.current))},[ms.fullScreenMode]),bt.useEffect(function(){if(ms.fullScreenMode!==ht.FullScreenMode.Entering&&ms.fullScreenMode!==ht.FullScreenMode.Exitting&&!xs.isSmoothScrolling){var ir=xs.startPage,qr=xs.endPage,ts=xs.maxVisbilityIndex,ps=xs.virtualItems,ds=ts,ns=ms.fullScreenMode===ht.FullScreenMode.Entered||ms.fullScreenMode===ht.FullScreenMode.EnteredCompletely;if(!(ns&&ds!==As.current&&As.current>-1||ns&&ds!==Cs.current&&Cs.current>-1)){Os(ds),mu(St(St({},Zr.current),{pageIndex:ds})),wo.setRange(ir,qr);for(var Us=function(_x){var ay=ps.find(function(xu){return xu.index===_x});ay&&wo.setVisibility(_x,ay.visibility)},yu=ir;yu<=qr;yu++)Us(yu);wx()}}},[xs.startPage,xs.endPage,xs.isSmoothScrolling,xs.maxVisbilityIndex,ms.fullScreenMode,Vs,Fs,ys]);var l_=bt.useCallback(function(ir){wo.markRendered(ir),wx()},[t0]),wx=function(){var ir=wo.getHighestPriorityPage();ir>-1&&wo.isInRange(ir)&&(wo.markRendering(ir),oy(ir))},c_=function(ir){var qr=Ss-1,ts=Ss+1;switch(ir){case"FirstPage":vu(0);break;case"LastPage":vu(zr-1);break;case"NextPage":ts<zr&&vu(ts);break;case"PrevPage":qr>=0&&vu(qr)}},u_=bt.useCallback(function(){var ir=xs.virtualItems,qr=[];switch(Mr){case ht.ViewMode.DualPage:qr=Tn(ir,2);break;case ht.ViewMode.DualPageWithCover:ir.length&&(qr=ir[0].index===0?[[ir[0]]].concat(Tn(ir.slice(1),2)):Tn(ir,2));break;case ht.ViewMode.SinglePage:default:qr=Tn(ir,1)}var ts=as&&as.core?as.core.pageLabel:"Page {{pageIndex}}",ps={attrs:{className:"rpv-core__inner-container","data-testid":"core__inner-container",ref:us,style:{height:"100%"}},children:bt.createElement(bt.Fragment,null),subSlot:{attrs:{"data-testid":"core__inner-pages",className:kt({"rpv-core__inner-pages":!0,"rpv-core__inner-pages--horizontal":kr===ht.ScrollMode.Horizontal,"rpv-core__inner-pages--rtl":ls,"rpv-core__inner-pages--single":kr===ht.ScrollMode.Page,"rpv-core__inner-pages--vertical":kr===ht.ScrollMode.Vertical,"rpv-core__inner-pages--wrapped":kr===ht.ScrollMode.Wrapped}),ref:fs,style:{height:"100%",position:"relative"}},children:bt.createElement("div",{"data-testid":"core__inner-current-page-".concat(Ss),style:Object.assign({"--scale-factor":ys},xs.getContainerStyles())},qr.map(function(ds){return bt.createElement("div",{className:kt({"rpv-core__inner-page-container":!0,"rpv-core__inner-page-container--single":kr===ht.ScrollMode.Page}),style:xs.getItemContainerStyles(ds[0]),key:"".concat(ds[0].index,"-").concat(Mr)},ds.map(function(ns){var Us=Mr===ht.ViewMode.DualPageWithCover&&(ns.index===0||zr%2==0&&ns.index===zr-1);return bt.createElement("div",{"aria-label":ts.replace("{{pageIndex}}","".concat(ns.index+1)),className:kt({"rpv-core__inner-page":!0,"rpv-core__inner-page--dual-even":Mr===ht.ViewMode.DualPage&&ns.index%2==0,"rpv-core__inner-page--dual-odd":Mr===ht.ViewMode.DualPage&&ns.index%2==1,"rpv-core__inner-page--dual-cover":Us,"rpv-core__inner-page--dual-cover-even":Mr===ht.ViewMode.DualPageWithCover&&!Us&&ns.index%2==0,"rpv-core__inner-page--dual-cover-odd":Mr===ht.ViewMode.DualPageWithCover&&!Us&&ns.index%2==1,"rpv-core__inner-page--single":Mr===ht.ViewMode.SinglePage&&kr===ht.ScrollMode.Page}),role:"region",key:"".concat(ns.index,"-").concat(Mr),style:Object.assign({},xs.getItemStyles(ns),pE.buildPageStyles({numPages:zr,pageIndex:ns.index,scrollMode:kr,viewMode:Mr}))},bt.createElement(Pw,{doc:bn,measureRef:ns.measureRef,outlines:Jr,pageIndex:ns.index,pageRotation:jr.has(ns.index)?jr.get(ns.index):0,pageSize:In[ns.index],plugins:Ln,renderPage:er,renderQueueKey:t0,rotation:Fs,scale:ys,shouldRender:qp===ns.index,viewMode:Mr,onExecuteNamedAction:c_,onJumpFromLinkAnnotation:t_,onJumpToDest:gE,onRenderCompleted:l_,onRotatePage:xx}))}))}))}};return Ln.forEach(function(ds){ds.renderViewer&&(ps=ds.renderViewer({containerRef:us,doc:bn,pagesContainerRef:fs,pagesRotation:jr,pageSizes:In,rotation:Fs,slot:ps,themeContext:rs,jumpToPage:vu,openFile:mE,rotate:vE,rotatePage:xx,switchScrollMode:yE,switchViewMode:xE,zoom:Gu}))}),ps},[Ln,xs]),EE=bt.useCallback(function(ir){return bt.createElement("div",St({},ir.attrs,{style:ir.attrs&&ir.attrs.style?ir.attrs.style:{}}),ir.children,ir.subSlot&&EE(ir.subSlot))},[]);return EE(u_())},dE=[.1,.2,.3,.4,.5,.6,.7,.8,.9,1,1.1,1.3,1.5,1.7,1.9,2.1,2.4,2.7,3,3.3,3.7,4.1,4.6,5.1,5.7,6.3,7,7.7,8.5,9.4,10],Ww=function(Wt){var Qt=Wt.defaultScale,xn=Wt.doc,bn=Wt.render,wn=Wt.scrollMode,Cn=Wt.viewMode,On=bt.useRef(),Mn=bt.useState({pageSizes:[],scale:0}),En=Mn[0],In=Mn[1];return bt.useLayoutEffect(function(){var Ln=Array(xn.numPages).fill(0).map(function(er,_i){return new Promise(function(Jn,cr){hr(xn,_i).then(function(ar){var rr=ar.getViewport({scale:1});Jn({pageHeight:rr.height,pageWidth:rr.width,rotation:rr.rotation})})})});Promise.all(Ln).then(function(er){var _i=On.current;if(_i&&er.length!==0){var Jn=er[0].pageWidth,cr=er[0].pageHeight,ar=_i.parentElement,rr=(ar.clientWidth-45)/Jn,Qr=(ar.clientHeight-45)/cr,Lr=rr;switch(wn){case ht.ScrollMode.Horizontal:Lr=Math.min(rr,Qr);break;case ht.ScrollMode.Vertical:default:Lr=rr}var Ir,Br,Sr=Qt?typeof Qt=="string"?px(ar,cr,Jn,Qt,Cn,xn.numPages):Qt:(Ir=Lr,(Br=dE.findIndex(function(zr){return zr>=Ir}))===-1||Br===0?Ir:dE[Br-1]);In({pageSizes:er,scale:Sr})}})},[xn.loadingTask.docId]),En.pageSizes.length===0||En.scale===0?bt.createElement("div",{className:"rpv-core__page-size-calculator","data-testid":"core__page-size-calculating",ref:On},bt.createElement(Nt,null)):bn(En.pageSizes,En.scale)},sy=function(){},mx=function(Wt){function Qt(xn,bn){var wn=Wt.call(this)||this;return wn.verifyPassword=xn,wn.passwordStatus=bn,wn}return _t(Qt,Wt),Qt}(sy),Gw=function(Wt){var Qt=Wt.passwordStatus,xn=Wt.renderProtectedView,bn=Wt.verifyPassword,wn=Wt.onDocumentAskPassword,Cn=bt.useContext(Sn).l10n,On=bt.useState(""),Mn=On[0],En=On[1],In=bt.useContext(Pt).direction===ht.TextDirection.RightToLeft,Ln=function(){return bn(Mn)};return bt.useEffect(function(){wn&&wn({verifyPassword:bn})},[]),xn?xn({passwordStatus:Qt,verifyPassword:bn}):bt.createElement("div",{className:"rpv-core__asking-password-wrapper"},bt.createElement("div",{className:kt({"rpv-core__asking-password":!0,"rpv-core__asking-password--rtl":In})},bt.createElement("div",{className:"rpv-core__asking-password-message"},Qt===ht.PasswordStatus.RequiredPassword&&Cn.core.askingPassword.requirePasswordToOpen,Qt===ht.PasswordStatus.WrongPassword&&Cn.core.wrongPassword.tryAgain),bt.createElement("div",{className:"rpv-core__asking-password-body"},bt.createElement("div",{className:kt({"rpv-core__asking-password-input":!0,"rpv-core__asking-password-input--ltr":!In,"rpv-core__asking-password-input--rtl":In})},bt.createElement(Ht,{testId:"core__asking-password-input",type:"password",value:Mn,onChange:En,onKeyDown:function(er){er.key==="Enter"&&Ln()}})),bt.createElement(Dt,{onClick:Ln},Cn.core.askingPassword.submit))))},hE=function(Wt){function Qt(xn){var bn=Wt.call(this)||this;return bn.doc=xn,bn}return _t(Qt,Wt),Qt}(sy),fE=function(Wt){function Qt(xn){var bn=Wt.call(this)||this;return bn.error=xn,bn}return _t(Qt,Wt),Qt}(sy),vx=function(Wt){function Qt(xn){var bn=Wt.call(this)||this;return bn.percentages=xn,bn}return _t(Qt,Wt),Qt}(sy),Xw=function(Wt){var Qt=Wt.characterMap,xn=Wt.file,bn=Wt.httpHeaders,wn=Wt.render,Cn=Wt.renderError,On=Wt.renderLoader,Mn=Wt.renderProtectedView,En=Wt.transformGetDocumentParams,In=Wt.withCredentials,Ln=Wt.onDocumentAskPassword,er=bt.useContext(Pt).direction===ht.TextDirection.RightToLeft,_i=bt.useState(new vx(0)),Jn=_i[0],cr=_i[1],ar=bt.useRef(""),rr=un();return bt.useEffect(function(){ar.current="",cr(new vx(0));var Qr=new Et.PDFWorker({name:"PDFWorker_".concat(Date.now())}),Lr=Object.assign({httpHeaders:bn,withCredentials:In,worker:Qr},typeof xn=="string"?{url:xn}:{data:xn},Qt?{cMapUrl:Qt.url,cMapPacked:Qt.isCompressed}:{}),Ir=En?En(Lr):Lr,Br=Et.getDocument(Ir);return Br.onPassword=function(Sr,zr){switch(zr){case Et.PasswordResponses.NEED_PASSWORD:rr.current&&cr(new mx(Sr,ht.PasswordStatus.RequiredPassword));break;case Et.PasswordResponses.INCORRECT_PASSWORD:rr.current&&cr(new mx(Sr,ht.PasswordStatus.WrongPassword))}},Br.onProgress=function(Sr){var zr=Sr.total>0?Math.min(100,100*Sr.loaded/Sr.total):100;rr.current&&ar.current===""&&cr(new vx(zr))},Br.promise.then(function(Sr){ar.current=Sr.loadingTask.docId,rr.current&&cr(new hE(Sr))},function(Sr){return rr.current&&!Qr.destroyed&&cr(new fE({message:Sr.message||"Cannot load document",name:Sr.name}))}),function(){Br.destroy(),Qr.destroy()}},[xn]),Jn instanceof mx?bt.createElement(Gw,{passwordStatus:Jn.passwordStatus,renderProtectedView:Mn,verifyPassword:Jn.verifyPassword,onDocumentAskPassword:Ln}):Jn instanceof hE?wn(Jn.doc):Jn instanceof fE?Cn?Cn(Jn.error):bt.createElement("div",{className:kt({"rpv-core__doc-error":!0,"rpv-core__doc-error--rtl":er})},bt.createElement("div",{className:"rpv-core__doc-error-text"},Jn.error.message)):bt.createElement("div",{"data-testid":"core__doc-loading",className:kt({"rpv-core__doc-loading":!0,"rpv-core__doc-loading--rtl":er})},On?On(Jn.percentages):bt.createElement(Nt,null))},qw=function(Wt,Qt){var xn=bt.useMemo(function(){return Wt==="auto"?typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light":Wt},[]),bn=bt.useState(xn),wn=bn[0],Cn=bn[1],On=vn(wn);return bt.useEffect(function(){if(Wt==="auto"){var Mn=window.matchMedia("(prefers-color-scheme: dark)"),En=function(In){Cn(In.matches?"dark":"light")};return Mn.addEventListener("change",En),function(){return Mn.removeEventListener("change",En)}}},[]),bt.useEffect(function(){wn!==On&&Qt&&Qt(wn)},[wn]),bt.useEffect(function(){Wt!==wn&&Cn(Wt)},[Wt]),{currentTheme:wn,setCurrentTheme:Cn}},Kw=function(Wt){return{startPage:Wt.startPage-3,endPage:Wt.endPage+3}};ht.Button=function(Wt){var Qt=Wt.children,xn=Wt.testId,bn=Wt.onClick,wn=bt.useContext(Pt).direction===ht.TextDirection.RightToLeft,Cn=xn?{"data-testid":xn}:{};return bt.createElement("button",St({className:kt({"rpv-core__button":!0,"rpv-core__button--rtl":wn}),type:"button",onClick:bn},Cn),Qt)},ht.Icon=$t,ht.LazyRender=function(Wt){var Qt=Wt.attrs,xn=Wt.children,bn=Wt.testId,wn=bt.useState(!1),Cn=wn[0],On=wn[1],Mn=bn?St(St({},Qt),{"data-testid":bn}):Qt,En=Lt({once:!0,onVisibilityChanged:function(In){In.isVisible&&On(!0)}});return bt.createElement("div",St({ref:En},Mn),Cn&&xn)},ht.LocalizationContext=Sn,ht.Menu=function(Wt){var Qt=Wt.children,xn=bt.useRef(),bn=bt.useRef([]),wn=bt.useContext(Pt).direction===ht.TextDirection.RightToLeft,Cn=function(Mn){if(xn.current)switch(Mn.key){case"Tab":Mn.preventDefault();break;case"ArrowDown":Mn.preventDefault(),On(function(En,In){return In+1});break;case"ArrowUp":Mn.preventDefault(),On(function(En,In){return In-1});break;case"End":Mn.preventDefault(),On(function(En,In){return En.length-1});break;case"Home":Mn.preventDefault(),On(function(En,In){return 0})}},On=function(Mn){if(xn.current){var En=bn.current,In=En.findIndex(function(er){return er.getAttribute("tabindex")==="0"}),Ln=Math.min(En.length-1,Math.max(0,Mn(En,In)));In>=0&&In<=En.length-1&&En[In].setAttribute("tabindex","-1"),En[Ln].setAttribute("tabindex","0"),En[Ln].focus()}};return Mt(function(){var Mn=xn.current;if(Mn){var En=function(In){var Ln=[];return In.querySelectorAll('.rpv-core__menu-item[role="menuitem"]').forEach(function(er){if(er instanceof HTMLElement){var _i=er.parentElement;(_i===In||window.getComputedStyle(_i).display!=="none")&&Ln.push(er)}}),Ln}(Mn);bn.current=En}},[]),Mt(function(){return document.addEventListener("keydown",Cn),function(){document.removeEventListener("keydown",Cn)}},[]),bt.createElement("div",{ref:xn,"aria-orientation":"vertical",className:kt({"rpv-core__menu":!0,"rpv-core__menu--rtl":wn}),role:"menu",tabIndex:0},Qt)},ht.MenuDivider=function(){return bt.createElement("div",{"aria-orientation":"horizontal",className:"rpv-core__menu-divider",role:"separator"})},ht.MenuItem=function(Wt){var Qt=Wt.checked,xn=Qt!==void 0&&Qt,bn=Wt.children,wn=Wt.icon,Cn=wn===void 0?null:wn,On=Wt.isDisabled,Mn=On!==void 0&&On,En=Wt.testId,In=Wt.onClick,Ln=bt.useContext(Pt).direction===ht.TextDirection.RightToLeft,er=En?{"data-testid":En}:{};return bt.createElement("button",St({className:kt({"rpv-core__menu-item":!0,"rpv-core__menu-item--disabled":Mn,"rpv-core__menu-item--ltr":!Ln,"rpv-core__menu-item--rtl":Ln}),role:"menuitem",tabIndex:-1,type:"button",onClick:In},er),bt.createElement("div",{className:kt({"rpv-core__menu-item-icon":!0,"rpv-core__menu-item-icon--ltr":!Ln,"rpv-core__menu-item-icon--rtl":Ln})},Cn),bt.createElement("div",{className:kt({"rpv-core__menu-item-label":!0,"rpv-core__menu-item-label--ltr":!Ln,"rpv-core__menu-item-label--rtl":Ln})},bn),bt.createElement("div",{className:kt({"rpv-core__menu-item-check":!0,"rpv-core__menu-item-check--ltr":!Ln,"rpv-core__menu-item-check--rtl":Ln})},xn&&bt.createElement(Ft,null)))},ht.MinimalButton=function(Wt){var Qt=Wt.ariaLabel,xn=Qt===void 0?"":Qt,bn=Wt.ariaKeyShortcuts,wn=bn===void 0?"":bn,Cn=Wt.children,On=Wt.isDisabled,Mn=On!==void 0&&On,En=Wt.isSelected,In=En!==void 0&&En,Ln=Wt.testId,er=Wt.onClick,_i=bt.useContext(Pt).direction===ht.TextDirection.RightToLeft,Jn=Ln?{"data-testid":Ln}:{};return bt.createElement("button",St({"aria-label":xn},wn&&{"aria-keyshortcuts":wn},Mn&&{"aria-disabled":!0},{className:kt({"rpv-core__minimal-button":!0,"rpv-core__minimal-button--disabled":Mn,"rpv-core__minimal-button--rtl":_i,"rpv-core__minimal-button--selected":In}),type:"button",onClick:er},Jn),Cn)},ht.Modal=function(Wt){var Qt=Wt.ariaControlsSuffix,xn=Wt.closeOnClickOutside,bn=Wt.closeOnEscape,wn=Wt.content,Cn=Wt.isOpened,On=Cn!==void 0&&Cn,Mn=Wt.target,En=Qt||"".concat(qt());return bt.createElement(jn,{target:Mn?function(In,Ln){return bt.createElement("div",{"aria-expanded":Ln?"true":"false","aria-haspopup":"dialog","aria-controls":"rpv-core__modal-body-".concat(En)},Mn(In,Ln))}:null,content:function(In){return bt.createElement(cn,null,bt.createElement(hn,{ariaControlsSuffix:En,closeOnClickOutside:xn,closeOnEscape:bn,onToggle:In},wn(In)))},isOpened:On})},ht.Popover=function(Wt){var Qt=Wt.ariaHasPopup,xn=Qt===void 0?"dialog":Qt,bn=Wt.ariaControlsSuffix,wn=Wt.closeOnClickOutside,Cn=Wt.closeOnEscape,On=Wt.content,Mn=Wt.lockScroll,En=Mn===void 0||Mn,In=Wt.offset,Ln=Wt.position,er=Wt.target,_i=Rn(!1),Jn=_i.opened,cr=_i.toggle,ar=bt.useRef(),rr=bt.useMemo(function(){return bn||"".concat(qt())},[]);return bt.createElement("div",{ref:ar,"aria-expanded":Jn?"true":"false","aria-haspopup":xn,"aria-controls":"rpv-core__popver-body-".concat(rr)},er(cr,Jn),Jn&&bt.createElement(bt.Fragment,null,En&&bt.createElement(Vn,{closeOnEscape:Cn,onClose:cr}),bt.createElement(Nn,{ariaControlsSuffix:rr,closeOnClickOutside:wn,offset:In,position:Ln,targetRef:ar,onClose:cr},On(cr))))},ht.PrimaryButton=Dt,ht.ProgressBar=function(Wt){var Qt=Wt.progress,xn=bt.useContext(Pt).direction===ht.TextDirection.RightToLeft;return bt.createElement("div",{className:kt({"rpv-core__progress-bar":!0,"rpv-core__progress-bar--rtl":xn})},bt.createElement("div",{className:"rpv-core__progress-bar-progress",style:{width:"".concat(Qt,"%")}},Qt,"%"))},ht.Separator=function(){return bt.createElement("div",{className:"rpv-core__separator"})},ht.Spinner=Nt,ht.Splitter=function(Wt){var Qt=Wt.constrain,xn=bt.useContext(Pt).direction===ht.TextDirection.RightToLeft,bn=bt.useRef(),wn=bt.useRef(),Cn=bt.useRef(),On=bt.useRef(0),Mn=bt.useRef(0),En=bt.useRef(0),In=bt.useRef(0),Ln={capture:!0},er=function(Jn){var cr=bn.current,ar=wn.current,rr=Cn.current;if(cr&&ar&&rr){var Qr=In.current,Lr=Jn.clientX-On.current,Ir=En.current+(xn?-Lr:Lr),Br=cr.parentElement.getBoundingClientRect().width,Sr=100*Ir/Br;if(cr.classList.add("rpv-core__splitter--resizing"),Qt){var zr=Br-Ir-Qr;if(!Qt({firstHalfPercentage:Sr,firstHalfSize:Ir,secondHalfPercentage:100*zr/Br,secondHalfSize:zr}))return}ar.style.width="".concat(Sr,"%"),document.body.classList.add("rpv-core__splitter-body--resizing"),ar.classList.add("rpv-core__splitter-sibling--resizing"),rr.classList.add("rpv-core__splitter-sibling--resizing")}},_i=function(Jn){var cr=bn.current,ar=wn.current,rr=Cn.current;cr&&ar&&rr&&(document.body.classList.remove("rpv-core__splitter-body--resizing"),cr.classList.remove("rpv-core__splitter--resizing"),ar.classList.remove("rpv-core__splitter-sibling--resizing"),rr.classList.remove("rpv-core__splitter-sibling--resizing"),document.removeEventListener("mousemove",er,Ln),document.removeEventListener("mouseup",_i,Ln))};return bt.useEffect(function(){var Jn=bn.current;Jn&&(In.current=Jn.getBoundingClientRect().width,wn.current=Jn.previousElementSibling,Cn.current=Jn.nextElementSibling)},[]),bt.createElement("div",{ref:bn,className:"rpv-core__splitter",onMouseDown:function(Jn){var cr=wn.current;cr&&(On.current=Jn.clientX,Mn.current=Jn.clientY,En.current=cr.getBoundingClientRect().width,document.addEventListener("mousemove",er,Ln),document.addEventListener("mouseup",_i,Ln))}})},ht.TextBox=Ht,ht.ThemeContext=Pt,ht.Tooltip=function(Wt){var Qt=Wt.ariaControlsSuffix,xn=Wt.content,bn=Wt.offset,wn=Wt.position,Cn=Wt.target,On=Rn(!1),Mn=On.opened,En=On.toggle,In=bt.useRef(),Ln=bt.useRef(),er=bt.useMemo(function(){return Qt||"".concat(qt())},[]);Jt(function(){In.current&&document.activeElement&&In.current.contains(document.activeElement)&&Jn()});var _i=function(){En(ht.ToggleStatus.Open)},Jn=function(){En(ht.ToggleStatus.Close)};return bt.createElement(bt.Fragment,null,bt.createElement("div",{ref:In,"aria-describedby":"rpv-core__tooltip-body-".concat(er),onBlur:function(cr){cr.relatedTarget instanceof HTMLElement&&cr.currentTarget.parentElement&&cr.currentTarget.parentElement.contains(cr.relatedTarget)?Ln.current&&(Ln.current.style.display="none"):Jn()},onFocus:_i,onMouseEnter:_i,onMouseLeave:Jn},Cn),Mn&&bt.createElement(Qn,{ariaControlsSuffix:er,contentRef:Ln,offset:bn,position:wn,targetRef:In},xn()))},ht.Viewer=function(Wt){var Qt=Wt.characterMap,xn=Wt.defaultScale,bn=Wt.enableSmoothScroll,wn=bn===void 0||bn,Cn=Wt.fileUrl,On=Wt.httpHeaders,Mn=On===void 0?{}:On,En=Wt.initialPage,In=En===void 0?0:En,Ln=Wt.pageLayout,er=Wt.initialRotation,_i=er===void 0?0:er,Jn=Wt.localization,cr=Wt.plugins,ar=cr===void 0?[]:cr,rr=Wt.renderError,Qr=Wt.renderLoader,Lr=Wt.renderPage,Ir=Wt.renderProtectedView,Br=Wt.scrollMode,Sr=Br===void 0?ht.ScrollMode.Vertical:Br,zr=Wt.setRenderRange,Or=zr===void 0?Kw:zr,as=Wt.transformGetDocumentParams,rs=Wt.theme,ls=rs===void 0?{direction:ht.TextDirection.LeftToRight,theme:"light"}:rs,us=Wt.viewMode,fs=us===void 0?ht.ViewMode.SinglePage:us,$s=Wt.withCredentials,Ss=$s!==void 0&&$s,Os=Wt.onDocumentAskPassword,Ms=Wt.onDocumentLoad,Ls=Ms===void 0?function(){}:Ms,Ds=Wt.onPageChange,Fs=Ds===void 0?function(){}:Ds,Js=Wt.onRotate,xa=Js===void 0?function(){}:Js,Ho=Wt.onRotatePage,Vs=Ho===void 0?function(){}:Ho,yo=Wt.onSwitchTheme,Il=yo===void 0?function(){}:yo,jr=Wt.onZoom,$r=jr===void 0?function(){}:jr,Cr=bt.useState({data:Cn,name:typeof Cn=="string"?Cn:"",shouldLoad:!1}),kr=Cr[0],Rr=Cr[1],Vr=function(As,Cs){Rr({data:Cs,name:As,shouldLoad:!0})},Gr=bt.useState(!1),Mr=Gr[0],yr=Gr[1],Yr=vn(kr);bt.useEffect(function(){var As,Cs,Bs,ms;As=Yr.data,ms=typeof(Cs=Cn),(Bs=typeof As)=="string"&&ms==="string"&&As===Cs||Bs==="object"&&ms==="object"&&As.length===Cs.length&&As.every(function(gu,qp){return gu===Cs[qp]})||Rr({data:Cn,name:typeof Cn=="string"?Cn:"",shouldLoad:Mr})},[Cn,Mr]);var Jr=Lt({onVisibilityChanged:function(As){yr(As.isVisible),As.isVisible&&Rr(function(Cs){return Object.assign({},Cs,{shouldLoad:!0})})}}),Es=typeof ls=="string"?{direction:ht.TextDirection.LeftToRight,theme:ls}:ls,ys=bt.useState(Jn||gn),Ks=ys[0],Ao=ys[1],Zr={l10n:Ks,setL10n:Ao},Ys=Object.assign({},{direction:Es.direction},qw(Es.theme||"light",Il));return bt.useEffect(function(){Jn&&Ao(Jn)},[Jn]),bt.createElement(Sn.Provider,{value:Zr},bt.createElement(Pt.Provider,{value:Ys},bt.createElement("div",{ref:Jr,className:"rpv-core__viewer rpv-core__viewer--".concat(Ys.currentTheme),"data-testid":"core__viewer",style:{height:"100%",width:"100%"}},kr.shouldLoad&&bt.createElement(Xw,{characterMap:Qt,file:kr.data,httpHeaders:Mn,render:function(As){return bt.createElement(Ww,{defaultScale:xn,doc:As,render:function(Cs,Bs){return bt.createElement(Vw,{currentFile:{data:kr.data,name:kr.name},defaultScale:xn,doc:As,enableSmoothScroll:wn,initialPage:In,initialRotation:_i,initialScale:Bs,pageLayout:Ln,pageSizes:Cs,plugins:ar,renderPage:Lr,scrollMode:Sr,setRenderRange:Or,viewMode:fs,viewerState:{file:kr,fullScreenMode:ht.FullScreenMode.Normal,pageIndex:-1,pageHeight:Cs[0].pageHeight,pageWidth:Cs[0].pageWidth,pagesRotation:new Map,rotation:_i,scale:Bs,scrollMode:Sr,viewMode:fs},onDocumentLoad:Ls,onOpenFile:Vr,onPageChange:Fs,onRotate:xa,onRotatePage:Vs,onZoom:$r})},scrollMode:Sr,viewMode:fs})},renderError:rr,renderLoader:Qr,renderProtectedView:Ir,transformGetDocumentParams:as,withCredentials:Ss,onDocumentAskPassword:Os}))))},ht.Worker=function(Wt){var Qt=Wt.children,xn=Wt.workerUrl;return Et.GlobalWorkerOptions.workerSrc=xn,bt.createElement(bt.Fragment,null,Qt)},ht.chunk=Tn,ht.classNames=kt,ht.createStore=function(Wt){var Qt=Wt||{},xn={},bn=function(Cn,On){var Mn;Qt=St(St({},Qt),((Mn={})[Cn]=On,Mn)),(xn[Cn]||[]).forEach(function(En){return En(Qt[Cn])})},wn=function(Cn){return Qt[Cn]};return{subscribe:function(Cn,On){xn[Cn]=(xn[Cn]||[]).concat(On)},unsubscribe:function(Cn,On){xn[Cn]=(xn[Cn]||[]).filter(function(Mn){return Mn!==On})},update:function(Cn,On){bn(Cn,On)},updateCurrentValue:function(Cn,On){var Mn=wn(Cn);Mn!==void 0&&bn(Cn,On(Mn))},get:function(Cn){return wn(Cn)}}},ht.getDestination=wr,ht.getPage=hr,ht.isFullScreenEnabled=Xt,ht.isMac=function(){return typeof window<"u"&&/(Mac|iPhone|iPod|iPad)/i.test(navigator.platform)},ht.useDebounceCallback=An,ht.useIntersectionObserver=Lt,ht.useIsMounted=un,ht.useIsomorphicLayoutEffect=Mt,ht.usePrevious=vn,ht.useRenderQueue=tn})(core_min);const Load=()=>{const[ht,$]=reactExports.useState(""),[_e,vt]=reactExports.useState(null),[xt,bt]=reactExports.useState(null),[Et,At]=reactExports.useState(null);function _t(Rt){const Pt=Rt.target.files[0];if(At(Pt.size/(1024*1024)),Pt){const kt=new FileReader;kt.onloadend=()=>{vt(kt.result.split(",")[1])},kt.readAsDataURL(Pt);const Mt=Rt.target.value.replace("C:\\fakepath\\","");$(Mt)}else alert("No file selected")}const Ct=async Rt=>{Rt.preventDefault();try{await axios.post("/en/uploadpdf",{file:_e,filename:ht}),console.log("Successfully uploaded.")}catch(Pt){console.log("Error uploading details:",Pt),alert("File size too large")}},St=async Rt=>{Rt.preventDefault();try{console.log("hi");const Pt=await axios.get("/en/pdfid/66813196189877e17f54a9e0",{responseType:"arraybuffer"}),kt=new Uint8Array(Pt.data),Mt=new Blob([kt],{type:"application/pdf"});let Lt=window.URL.createObjectURL(Mt);bt(Lt)}catch(Pt){console.log("Error uploading details:",Pt),alert("File size too large")}};return jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs("form",{onSubmit:Ct,children:[jsxRuntimeExports.jsx("input",{type:"file",onChange:_t,accept:"application/pdf"}),jsxRuntimeExports.jsx("button",{type:"submit",children:"Upload"})]}),jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsx("button",{onClick:St,children:"show pdf"}),xt&&jsxRuntimeExports.jsx("embed",{src:xt,type:"application/pdf",width:"100%",height:"600px"})]})};function App(){const[ht,$]=reactExports.useState(!0);return jsxRuntimeExports.jsx("div",{className:"App",children:jsxRuntimeExports.jsx(BrowserRouter,{children:jsxRuntimeExports.jsxs(Routes,{children:[jsxRuntimeExports.jsx(Route,{path:"/",element:jsxRuntimeExports.jsx(LandingPage,{})}),jsxRuntimeExports.jsx(Route,{path:"/main",element:jsxRuntimeExports.jsx(Main,{isDoctor:ht})}),jsxRuntimeExports.jsx(Route,{path:"/form",element:jsxRuntimeExports.jsx(Form,{})}),jsxRuntimeExports.jsx(Route,{path:"/patient",element:jsxRuntimeExports.jsx(Patient,{isDoctor:ht})}),jsxRuntimeExports.jsx(Route,{path:"/signin",element:jsxRuntimeExports.jsx(Signin,{setIsDoctor:$,isDoctor:ht})}),jsxRuntimeExports.jsx(Route,{path:"/newSignin",element:jsxRuntimeExports.jsx(NewSignin,{})}),jsxRuntimeExports.jsx(Route,{path:"/upload",element:jsxRuntimeExports.jsx(Upload,{})}),jsxRuntimeExports.jsx(Route,{path:"/load",element:jsxRuntimeExports.jsx(Load,{})}),jsxRuntimeExports.jsx(Route,{path:"/pdfShow",element:jsxRuntimeExports.jsx(PdfShow,{})}),jsxRuntimeExports.jsx(Route,{path:"/doctoranalysis",element:jsxRuntimeExports.jsx(Doctoranalysis,{})})]})})})}client.createRoot(document.getElementById("root")).render(jsxRuntimeExports.jsx(React.StrictMode,{children:jsxRuntimeExports.jsx(App,{})}));
