var U5=Object.defineProperty;var f9=_e=>{throw TypeError(_e)};var H5=(_e,$,xt)=>$ in _e?U5(_e,$,{enumerable:!0,configurable:!0,writable:!0,value:xt}):_e[$]=xt;var Us=(_e,$,xt)=>H5(_e,typeof $!="symbol"?$+"":$,xt),py=(_e,$,xt)=>$.has(_e)||f9("Cannot "+xt);var Dt=(_e,$,xt)=>(py(_e,$,"read from private field"),xt?xt.call(_e):$.get(_e)),Nn=(_e,$,xt)=>$.has(_e)?f9("Cannot add the same private member more than once"):$ instanceof WeakSet?$.add(_e):$.set(_e,xt),$n=(_e,$,xt,bt)=>(py(_e,$,"write to private field"),bt?bt.call(_e,xt):$.set(_e,xt),xt),On=(_e,$,xt)=>(py(_e,$,"access private method"),xt);var Ao=(_e,$,xt,bt)=>({set _(St){$n(_e,$,St,xt)},get _(){return Dt(_e,$,bt)}});function _mergeNamespaces(_e,$){for(var xt=0;xt<$.length;xt++){const bt=$[xt];if(typeof bt!="string"&&!Array.isArray(bt)){for(const St in bt)if(St!=="default"&&!(St in _e)){const At=Object.getOwnPropertyDescriptor(bt,St);At&&Object.defineProperty(_e,St,At.get?At:{enumerable:!0,get:()=>bt[St]})}}}return Object.freeze(Object.defineProperty(_e,Symbol.toStringTag,{value:"Module"}))}(function(){const $=document.createElement("link").relList;if($&&$.supports&&$.supports("modulepreload"))return;for(const St of document.querySelectorAll('link[rel="modulepreload"]'))bt(St);new MutationObserver(St=>{for(const At of St)if(At.type==="childList")for(const Ct of At.addedNodes)Ct.tagName==="LINK"&&Ct.rel==="modulepreload"&&bt(Ct)}).observe(document,{childList:!0,subtree:!0});function xt(St){const At={};return St.integrity&&(At.integrity=St.integrity),St.referrerPolicy&&(At.referrerPolicy=St.referrerPolicy),St.crossOrigin==="use-credentials"?At.credentials="include":St.crossOrigin==="anonymous"?At.credentials="omit":At.credentials="same-origin",At}function bt(St){if(St.ep)return;St.ep=!0;const At=xt(St);fetch(St.href,At)}})();function getDefaultExportFromCjs(_e){return _e&&_e.__esModule&&Object.prototype.hasOwnProperty.call(_e,"default")?_e.default:_e}function getAugmentedNamespace(_e){if(_e.__esModule)return _e;var $=_e.default;if(typeof $=="function"){var xt=function bt(){return this instanceof bt?Reflect.construct($,arguments,this.constructor):$.apply(this,arguments)};xt.prototype=$.prototype}else xt={};return Object.defineProperty(xt,"__esModule",{value:!0}),Object.keys(_e).forEach(function(bt){var St=Object.getOwnPropertyDescriptor(_e,bt);Object.defineProperty(xt,bt,St.get?St:{enumerable:!0,get:function(){return _e[bt]}})}),xt}var jsxRuntime={exports:{}},reactJsxRuntime_production_min={},react={exports:{}},react_production_min={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var l$3=Symbol.for("react.element"),n$5=Symbol.for("react.portal"),p$6=Symbol.for("react.fragment"),q$2=Symbol.for("react.strict_mode"),r$3=Symbol.for("react.profiler"),t$5=Symbol.for("react.provider"),u$8=Symbol.for("react.context"),v$2=Symbol.for("react.forward_ref"),w$2=Symbol.for("react.suspense"),x$1=Symbol.for("react.memo"),y$5=Symbol.for("react.lazy"),z$2=Symbol.iterator;function A$4(_e){return _e===null||typeof _e!="object"?null:(_e=z$2&&_e[z$2]||_e["@@iterator"],typeof _e=="function"?_e:null)}var B$2={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},C$2=Object.assign,D$5={};function E$2(_e,$,xt){this.props=_e,this.context=$,this.refs=D$5,this.updater=xt||B$2}E$2.prototype.isReactComponent={};E$2.prototype.setState=function(_e,$){if(typeof _e!="object"&&typeof _e!="function"&&_e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,_e,$,"setState")};E$2.prototype.forceUpdate=function(_e){this.updater.enqueueForceUpdate(this,_e,"forceUpdate")};function F$4(){}F$4.prototype=E$2.prototype;function G$3(_e,$,xt){this.props=_e,this.context=$,this.refs=D$5,this.updater=xt||B$2}var H$3=G$3.prototype=new F$4;H$3.constructor=G$3;C$2(H$3,E$2.prototype);H$3.isPureReactComponent=!0;var I$5=Array.isArray,J$2=Object.prototype.hasOwnProperty,K$1={current:null},L$2={key:!0,ref:!0,__self:!0,__source:!0};function M$4(_e,$,xt){var bt,St={},At=null,Ct=null;if($!=null)for(bt in $.ref!==void 0&&(Ct=$.ref),$.key!==void 0&&(At=""+$.key),$)J$2.call($,bt)&&!L$2.hasOwnProperty(bt)&&(St[bt]=$[bt]);var Et=arguments.length-2;if(Et===1)St.children=xt;else if(1<Et){for(var Pt=Array(Et),wt=0;wt<Et;wt++)Pt[wt]=arguments[wt+2];St.children=Pt}if(_e&&_e.defaultProps)for(bt in Et=_e.defaultProps,Et)St[bt]===void 0&&(St[bt]=Et[bt]);return{$$typeof:l$3,type:_e,key:At,ref:Ct,props:St,_owner:K$1.current}}function N$4(_e,$){return{$$typeof:l$3,type:_e.type,key:$,ref:_e.ref,props:_e.props,_owner:_e._owner}}function O$3(_e){return typeof _e=="object"&&_e!==null&&_e.$$typeof===l$3}function escape$1(_e){var $={"=":"=0",":":"=2"};return"$"+_e.replace(/[=:]/g,function(xt){return $[xt]})}var P$4=/\/+/g;function Q$1(_e,$){return typeof _e=="object"&&_e!==null&&_e.key!=null?escape$1(""+_e.key):$.toString(36)}function R$2(_e,$,xt,bt,St){var At=typeof _e;(At==="undefined"||At==="boolean")&&(_e=null);var Ct=!1;if(_e===null)Ct=!0;else switch(At){case"string":case"number":Ct=!0;break;case"object":switch(_e.$$typeof){case l$3:case n$5:Ct=!0}}if(Ct)return Ct=_e,St=St(Ct),_e=bt===""?"."+Q$1(Ct,0):bt,I$5(St)?(xt="",_e!=null&&(xt=_e.replace(P$4,"$&/")+"/"),R$2(St,$,xt,"",function(wt){return wt})):St!=null&&(O$3(St)&&(St=N$4(St,xt+(!St.key||Ct&&Ct.key===St.key?"":(""+St.key).replace(P$4,"$&/")+"/")+_e)),$.push(St)),1;if(Ct=0,bt=bt===""?".":bt+":",I$5(_e))for(var Et=0;Et<_e.length;Et++){At=_e[Et];var Pt=bt+Q$1(At,Et);Ct+=R$2(At,$,xt,Pt,St)}else if(Pt=A$4(_e),typeof Pt=="function")for(_e=Pt.call(_e),Et=0;!(At=_e.next()).done;)At=At.value,Pt=bt+Q$1(At,Et++),Ct+=R$2(At,$,xt,Pt,St);else if(At==="object")throw $=String(_e),Error("Objects are not valid as a React child (found: "+($==="[object Object]"?"object with keys {"+Object.keys(_e).join(", ")+"}":$)+"). If you meant to render a collection of children, use an array instead.");return Ct}function S$5(_e,$,xt){if(_e==null)return _e;var bt=[],St=0;return R$2(_e,bt,"","",function(At){return $.call(xt,At,St++)}),bt}function T$4(_e){if(_e._status===-1){var $=_e._result;$=$(),$.then(function(xt){(_e._status===0||_e._status===-1)&&(_e._status=1,_e._result=xt)},function(xt){(_e._status===0||_e._status===-1)&&(_e._status=2,_e._result=xt)}),_e._status===-1&&(_e._status=0,_e._result=$)}if(_e._status===1)return _e._result.default;throw _e._result}var U$3={current:null},V$2={transition:null},W$3={ReactCurrentDispatcher:U$3,ReactCurrentBatchConfig:V$2,ReactCurrentOwner:K$1};function X$1(){throw Error("act(...) is not supported in production builds of React.")}react_production_min.Children={map:S$5,forEach:function(_e,$,xt){S$5(_e,function(){$.apply(this,arguments)},xt)},count:function(_e){var $=0;return S$5(_e,function(){$++}),$},toArray:function(_e){return S$5(_e,function($){return $})||[]},only:function(_e){if(!O$3(_e))throw Error("React.Children.only expected to receive a single React element child.");return _e}};react_production_min.Component=E$2;react_production_min.Fragment=p$6;react_production_min.Profiler=r$3;react_production_min.PureComponent=G$3;react_production_min.StrictMode=q$2;react_production_min.Suspense=w$2;react_production_min.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=W$3;react_production_min.act=X$1;react_production_min.cloneElement=function(_e,$,xt){if(_e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+_e+".");var bt=C$2({},_e.props),St=_e.key,At=_e.ref,Ct=_e._owner;if($!=null){if($.ref!==void 0&&(At=$.ref,Ct=K$1.current),$.key!==void 0&&(St=""+$.key),_e.type&&_e.type.defaultProps)var Et=_e.type.defaultProps;for(Pt in $)J$2.call($,Pt)&&!L$2.hasOwnProperty(Pt)&&(bt[Pt]=$[Pt]===void 0&&Et!==void 0?Et[Pt]:$[Pt])}var Pt=arguments.length-2;if(Pt===1)bt.children=xt;else if(1<Pt){Et=Array(Pt);for(var wt=0;wt<Pt;wt++)Et[wt]=arguments[wt+2];bt.children=Et}return{$$typeof:l$3,type:_e.type,key:St,ref:At,props:bt,_owner:Ct}};react_production_min.createContext=function(_e){return _e={$$typeof:u$8,_currentValue:_e,_currentValue2:_e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},_e.Provider={$$typeof:t$5,_context:_e},_e.Consumer=_e};react_production_min.createElement=M$4;react_production_min.createFactory=function(_e){var $=M$4.bind(null,_e);return $.type=_e,$};react_production_min.createRef=function(){return{current:null}};react_production_min.forwardRef=function(_e){return{$$typeof:v$2,render:_e}};react_production_min.isValidElement=O$3;react_production_min.lazy=function(_e){return{$$typeof:y$5,_payload:{_status:-1,_result:_e},_init:T$4}};react_production_min.memo=function(_e,$){return{$$typeof:x$1,type:_e,compare:$===void 0?null:$}};react_production_min.startTransition=function(_e){var $=V$2.transition;V$2.transition={};try{_e()}finally{V$2.transition=$}};react_production_min.unstable_act=X$1;react_production_min.useCallback=function(_e,$){return U$3.current.useCallback(_e,$)};react_production_min.useContext=function(_e){return U$3.current.useContext(_e)};react_production_min.useDebugValue=function(){};react_production_min.useDeferredValue=function(_e){return U$3.current.useDeferredValue(_e)};react_production_min.useEffect=function(_e,$){return U$3.current.useEffect(_e,$)};react_production_min.useId=function(){return U$3.current.useId()};react_production_min.useImperativeHandle=function(_e,$,xt){return U$3.current.useImperativeHandle(_e,$,xt)};react_production_min.useInsertionEffect=function(_e,$){return U$3.current.useInsertionEffect(_e,$)};react_production_min.useLayoutEffect=function(_e,$){return U$3.current.useLayoutEffect(_e,$)};react_production_min.useMemo=function(_e,$){return U$3.current.useMemo(_e,$)};react_production_min.useReducer=function(_e,$,xt){return U$3.current.useReducer(_e,$,xt)};react_production_min.useRef=function(_e){return U$3.current.useRef(_e)};react_production_min.useState=function(_e){return U$3.current.useState(_e)};react_production_min.useSyncExternalStore=function(_e,$,xt){return U$3.current.useSyncExternalStore(_e,$,xt)};react_production_min.useTransition=function(){return U$3.current.useTransition()};react_production_min.version="18.3.1";react.exports=react_production_min;var reactExports=react.exports;const React=getDefaultExportFromCjs(reactExports),t$4=_mergeNamespaces({__proto__:null,default:React},[reactExports]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var f$6=reactExports,k=Symbol.for("react.element"),l$2=Symbol.for("react.fragment"),m$5=Object.prototype.hasOwnProperty,n$4=f$6.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,p$5={key:!0,ref:!0,__self:!0,__source:!0};function q$1(_e,$,xt){var bt,St={},At=null,Ct=null;xt!==void 0&&(At=""+xt),$.key!==void 0&&(At=""+$.key),$.ref!==void 0&&(Ct=$.ref);for(bt in $)m$5.call($,bt)&&!p$5.hasOwnProperty(bt)&&(St[bt]=$[bt]);if(_e&&_e.defaultProps)for(bt in $=_e.defaultProps,$)St[bt]===void 0&&(St[bt]=$[bt]);return{$$typeof:k,type:_e,key:At,ref:Ct,props:St,_owner:n$4.current}}reactJsxRuntime_production_min.Fragment=l$2;reactJsxRuntime_production_min.jsx=q$1;reactJsxRuntime_production_min.jsxs=q$1;jsxRuntime.exports=reactJsxRuntime_production_min;var jsxRuntimeExports=jsxRuntime.exports,client={},reactDom={exports:{}},reactDom_production_min={},scheduler={exports:{}},scheduler_production_min={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(_e){function $(Ut,Mt){var Ht=Ut.length;Ut.push(Mt);e:for(;0<Ht;){var sn=Ht-1>>>1,zt=Ut[sn];if(0<St(zt,Mt))Ut[sn]=Mt,Ut[Ht]=zt,Ht=sn;else break e}}function xt(Ut){return Ut.length===0?null:Ut[0]}function bt(Ut){if(Ut.length===0)return null;var Mt=Ut[0],Ht=Ut.pop();if(Ht!==Mt){Ut[0]=Ht;e:for(var sn=0,zt=Ut.length,Xt=zt>>>1;sn<Xt;){var Qt=2*(sn+1)-1,ln=Ut[Qt],on=Qt+1,cn=Ut[on];if(0>St(ln,Ht))on<zt&&0>St(cn,ln)?(Ut[sn]=cn,Ut[on]=Ht,sn=on):(Ut[sn]=ln,Ut[Qt]=Ht,sn=Qt);else if(on<zt&&0>St(cn,Ht))Ut[sn]=cn,Ut[on]=Ht,sn=on;else break e}}return Mt}function St(Ut,Mt){var Ht=Ut.sortIndex-Mt.sortIndex;return Ht!==0?Ht:Ut.id-Mt.id}if(typeof performance=="object"&&typeof performance.now=="function"){var At=performance;_e.unstable_now=function(){return At.now()}}else{var Ct=Date,Et=Ct.now();_e.unstable_now=function(){return Ct.now()-Et}}var Pt=[],wt=[],kt=1,_t=null,ht=3,vt=!1,Ft=!1,Vt=!1,qt=typeof setTimeout=="function"?setTimeout:null,Lt=typeof clearTimeout=="function"?clearTimeout:null,$t=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function Ot(Ut){for(var Mt=xt(wt);Mt!==null;){if(Mt.callback===null)bt(wt);else if(Mt.startTime<=Ut)bt(wt),Mt.sortIndex=Mt.expirationTime,$(Pt,Mt);else break;Mt=xt(wt)}}function jt(Ut){if(Vt=!1,Ot(Ut),!Ft)if(xt(Pt)!==null)Ft=!0,Yt(Rt);else{var Mt=xt(wt);Mt!==null&&dn(jt,Mt.startTime-Ut)}}function Rt(Ut,Mt){Ft=!1,Vt&&(Vt=!1,Lt(Gt),Gt=-1),vt=!0;var Ht=ht;try{for(Ot(Mt),_t=xt(Pt);_t!==null&&(!(_t.expirationTime>Mt)||Ut&&!tn());){var sn=_t.callback;if(typeof sn=="function"){_t.callback=null,ht=_t.priorityLevel;var zt=sn(_t.expirationTime<=Mt);Mt=_e.unstable_now(),typeof zt=="function"?_t.callback=zt:_t===xt(Pt)&&bt(Pt),Ot(Mt)}else bt(Pt);_t=xt(Pt)}if(_t!==null)var Xt=!0;else{var Qt=xt(wt);Qt!==null&&dn(jt,Qt.startTime-Mt),Xt=!1}return Xt}finally{_t=null,ht=Ht,vt=!1}}var Kt=!1,Bt=null,Gt=-1,en=5,hn=-1;function tn(){return!(_e.unstable_now()-hn<en)}function gn(){if(Bt!==null){var Ut=_e.unstable_now();hn=Ut;var Mt=!0;try{Mt=Bt(!0,Ut)}finally{Mt?nn():(Kt=!1,Bt=null)}}else Kt=!1}var nn;if(typeof $t=="function")nn=function(){$t(gn)};else if(typeof MessageChannel<"u"){var bn=new MessageChannel,Wt=bn.port2;bn.port1.onmessage=gn,nn=function(){Wt.postMessage(null)}}else nn=function(){qt(gn,0)};function Yt(Ut){Bt=Ut,Kt||(Kt=!0,nn())}function dn(Ut,Mt){Gt=qt(function(){Ut(_e.unstable_now())},Mt)}_e.unstable_IdlePriority=5,_e.unstable_ImmediatePriority=1,_e.unstable_LowPriority=4,_e.unstable_NormalPriority=3,_e.unstable_Profiling=null,_e.unstable_UserBlockingPriority=2,_e.unstable_cancelCallback=function(Ut){Ut.callback=null},_e.unstable_continueExecution=function(){Ft||vt||(Ft=!0,Yt(Rt))},_e.unstable_forceFrameRate=function(Ut){0>Ut||125<Ut?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):en=0<Ut?Math.floor(1e3/Ut):5},_e.unstable_getCurrentPriorityLevel=function(){return ht},_e.unstable_getFirstCallbackNode=function(){return xt(Pt)},_e.unstable_next=function(Ut){switch(ht){case 1:case 2:case 3:var Mt=3;break;default:Mt=ht}var Ht=ht;ht=Mt;try{return Ut()}finally{ht=Ht}},_e.unstable_pauseExecution=function(){},_e.unstable_requestPaint=function(){},_e.unstable_runWithPriority=function(Ut,Mt){switch(Ut){case 1:case 2:case 3:case 4:case 5:break;default:Ut=3}var Ht=ht;ht=Ut;try{return Mt()}finally{ht=Ht}},_e.unstable_scheduleCallback=function(Ut,Mt,Ht){var sn=_e.unstable_now();switch(typeof Ht=="object"&&Ht!==null?(Ht=Ht.delay,Ht=typeof Ht=="number"&&0<Ht?sn+Ht:sn):Ht=sn,Ut){case 1:var zt=-1;break;case 2:zt=250;break;case 5:zt=1073741823;break;case 4:zt=1e4;break;default:zt=5e3}return zt=Ht+zt,Ut={id:kt++,callback:Mt,priorityLevel:Ut,startTime:Ht,expirationTime:zt,sortIndex:-1},Ht>sn?(Ut.sortIndex=Ht,$(wt,Ut),xt(Pt)===null&&Ut===xt(wt)&&(Vt?(Lt(Gt),Gt=-1):Vt=!0,dn(jt,Ht-sn))):(Ut.sortIndex=zt,$(Pt,Ut),Ft||vt||(Ft=!0,Yt(Rt))),Ut},_e.unstable_shouldYield=tn,_e.unstable_wrapCallback=function(Ut){var Mt=ht;return function(){var Ht=ht;ht=Mt;try{return Ut.apply(this,arguments)}finally{ht=Ht}}}})(scheduler_production_min);scheduler.exports=scheduler_production_min;var schedulerExports=scheduler.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var aa=reactExports,ca=schedulerExports;function p$4(_e){for(var $="https://reactjs.org/docs/error-decoder.html?invariant="+_e,xt=1;xt<arguments.length;xt++)$+="&args[]="+encodeURIComponent(arguments[xt]);return"Minified React error #"+_e+"; visit "+$+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var da=new Set,ea={};function fa(_e,$){ha(_e,$),ha(_e+"Capture",$)}function ha(_e,$){for(ea[_e]=$,_e=0;_e<$.length;_e++)da.add($[_e])}var ia=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ja=Object.prototype.hasOwnProperty,ka=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,la={},ma={};function oa(_e){return ja.call(ma,_e)?!0:ja.call(la,_e)?!1:ka.test(_e)?ma[_e]=!0:(la[_e]=!0,!1)}function pa(_e,$,xt,bt){if(xt!==null&&xt.type===0)return!1;switch(typeof $){case"function":case"symbol":return!0;case"boolean":return bt?!1:xt!==null?!xt.acceptsBooleans:(_e=_e.toLowerCase().slice(0,5),_e!=="data-"&&_e!=="aria-");default:return!1}}function qa(_e,$,xt,bt){if($===null||typeof $>"u"||pa(_e,$,xt,bt))return!0;if(bt)return!1;if(xt!==null)switch(xt.type){case 3:return!$;case 4:return $===!1;case 5:return isNaN($);case 6:return isNaN($)||1>$}return!1}function v$1(_e,$,xt,bt,St,At,Ct){this.acceptsBooleans=$===2||$===3||$===4,this.attributeName=bt,this.attributeNamespace=St,this.mustUseProperty=xt,this.propertyName=_e,this.type=$,this.sanitizeURL=At,this.removeEmptyString=Ct}var z$1={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(_e){z$1[_e]=new v$1(_e,0,!1,_e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(_e){var $=_e[0];z$1[$]=new v$1($,1,!1,_e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(_e){z$1[_e]=new v$1(_e,2,!1,_e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(_e){z$1[_e]=new v$1(_e,2,!1,_e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(_e){z$1[_e]=new v$1(_e,3,!1,_e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(_e){z$1[_e]=new v$1(_e,3,!0,_e,null,!1,!1)});["capture","download"].forEach(function(_e){z$1[_e]=new v$1(_e,4,!1,_e,null,!1,!1)});["cols","rows","size","span"].forEach(function(_e){z$1[_e]=new v$1(_e,6,!1,_e,null,!1,!1)});["rowSpan","start"].forEach(function(_e){z$1[_e]=new v$1(_e,5,!1,_e.toLowerCase(),null,!1,!1)});var ra=/[\-:]([a-z])/g;function sa(_e){return _e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(_e){var $=_e.replace(ra,sa);z$1[$]=new v$1($,1,!1,_e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(_e){var $=_e.replace(ra,sa);z$1[$]=new v$1($,1,!1,_e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(_e){var $=_e.replace(ra,sa);z$1[$]=new v$1($,1,!1,_e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(_e){z$1[_e]=new v$1(_e,1,!1,_e.toLowerCase(),null,!1,!1)});z$1.xlinkHref=new v$1("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(_e){z$1[_e]=new v$1(_e,1,!1,_e.toLowerCase(),null,!0,!0)});function ta(_e,$,xt,bt){var St=z$1.hasOwnProperty($)?z$1[$]:null;(St!==null?St.type!==0:bt||!(2<$.length)||$[0]!=="o"&&$[0]!=="O"||$[1]!=="n"&&$[1]!=="N")&&(qa($,xt,St,bt)&&(xt=null),bt||St===null?oa($)&&(xt===null?_e.removeAttribute($):_e.setAttribute($,""+xt)):St.mustUseProperty?_e[St.propertyName]=xt===null?St.type===3?!1:"":xt:($=St.attributeName,bt=St.attributeNamespace,xt===null?_e.removeAttribute($):(St=St.type,xt=St===3||St===4&&xt===!0?"":""+xt,bt?_e.setAttributeNS(bt,$,xt):_e.setAttribute($,xt))))}var ua=aa.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,va=Symbol.for("react.element"),wa=Symbol.for("react.portal"),ya=Symbol.for("react.fragment"),za=Symbol.for("react.strict_mode"),Aa=Symbol.for("react.profiler"),Ba=Symbol.for("react.provider"),Ca=Symbol.for("react.context"),Da=Symbol.for("react.forward_ref"),Ea=Symbol.for("react.suspense"),Fa=Symbol.for("react.suspense_list"),Ga=Symbol.for("react.memo"),Ha=Symbol.for("react.lazy"),Ia=Symbol.for("react.offscreen"),Ja=Symbol.iterator;function Ka(_e){return _e===null||typeof _e!="object"?null:(_e=Ja&&_e[Ja]||_e["@@iterator"],typeof _e=="function"?_e:null)}var A$3=Object.assign,La;function Ma(_e){if(La===void 0)try{throw Error()}catch(xt){var $=xt.stack.trim().match(/\n( *(at )?)/);La=$&&$[1]||""}return`
`+La+_e}var Na=!1;function Oa(_e,$){if(!_e||Na)return"";Na=!0;var xt=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if($)if($=function(){throw Error()},Object.defineProperty($.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct($,[])}catch(wt){var bt=wt}Reflect.construct(_e,[],$)}else{try{$.call()}catch(wt){bt=wt}_e.call($.prototype)}else{try{throw Error()}catch(wt){bt=wt}_e()}}catch(wt){if(wt&&bt&&typeof wt.stack=="string"){for(var St=wt.stack.split(`
`),At=bt.stack.split(`
`),Ct=St.length-1,Et=At.length-1;1<=Ct&&0<=Et&&St[Ct]!==At[Et];)Et--;for(;1<=Ct&&0<=Et;Ct--,Et--)if(St[Ct]!==At[Et]){if(Ct!==1||Et!==1)do if(Ct--,Et--,0>Et||St[Ct]!==At[Et]){var Pt=`
`+St[Ct].replace(" at new "," at ");return _e.displayName&&Pt.includes("<anonymous>")&&(Pt=Pt.replace("<anonymous>",_e.displayName)),Pt}while(1<=Ct&&0<=Et);break}}}finally{Na=!1,Error.prepareStackTrace=xt}return(_e=_e?_e.displayName||_e.name:"")?Ma(_e):""}function Pa(_e){switch(_e.tag){case 5:return Ma(_e.type);case 16:return Ma("Lazy");case 13:return Ma("Suspense");case 19:return Ma("SuspenseList");case 0:case 2:case 15:return _e=Oa(_e.type,!1),_e;case 11:return _e=Oa(_e.type.render,!1),_e;case 1:return _e=Oa(_e.type,!0),_e;default:return""}}function Qa(_e){if(_e==null)return null;if(typeof _e=="function")return _e.displayName||_e.name||null;if(typeof _e=="string")return _e;switch(_e){case ya:return"Fragment";case wa:return"Portal";case Aa:return"Profiler";case za:return"StrictMode";case Ea:return"Suspense";case Fa:return"SuspenseList"}if(typeof _e=="object")switch(_e.$$typeof){case Ca:return(_e.displayName||"Context")+".Consumer";case Ba:return(_e._context.displayName||"Context")+".Provider";case Da:var $=_e.render;return _e=_e.displayName,_e||(_e=$.displayName||$.name||"",_e=_e!==""?"ForwardRef("+_e+")":"ForwardRef"),_e;case Ga:return $=_e.displayName||null,$!==null?$:Qa(_e.type)||"Memo";case Ha:$=_e._payload,_e=_e._init;try{return Qa(_e($))}catch{}}return null}function Ra(_e){var $=_e.type;switch(_e.tag){case 24:return"Cache";case 9:return($.displayName||"Context")+".Consumer";case 10:return($._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return _e=$.render,_e=_e.displayName||_e.name||"",$.displayName||(_e!==""?"ForwardRef("+_e+")":"ForwardRef");case 7:return"Fragment";case 5:return $;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Qa($);case 8:return $===za?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof $=="function")return $.displayName||$.name||null;if(typeof $=="string")return $}return null}function Sa(_e){switch(typeof _e){case"boolean":case"number":case"string":case"undefined":return _e;case"object":return _e;default:return""}}function Ta(_e){var $=_e.type;return(_e=_e.nodeName)&&_e.toLowerCase()==="input"&&($==="checkbox"||$==="radio")}function Ua(_e){var $=Ta(_e)?"checked":"value",xt=Object.getOwnPropertyDescriptor(_e.constructor.prototype,$),bt=""+_e[$];if(!_e.hasOwnProperty($)&&typeof xt<"u"&&typeof xt.get=="function"&&typeof xt.set=="function"){var St=xt.get,At=xt.set;return Object.defineProperty(_e,$,{configurable:!0,get:function(){return St.call(this)},set:function(Ct){bt=""+Ct,At.call(this,Ct)}}),Object.defineProperty(_e,$,{enumerable:xt.enumerable}),{getValue:function(){return bt},setValue:function(Ct){bt=""+Ct},stopTracking:function(){_e._valueTracker=null,delete _e[$]}}}}function Va(_e){_e._valueTracker||(_e._valueTracker=Ua(_e))}function Wa(_e){if(!_e)return!1;var $=_e._valueTracker;if(!$)return!0;var xt=$.getValue(),bt="";return _e&&(bt=Ta(_e)?_e.checked?"true":"false":_e.value),_e=bt,_e!==xt?($.setValue(_e),!0):!1}function Xa(_e){if(_e=_e||(typeof document<"u"?document:void 0),typeof _e>"u")return null;try{return _e.activeElement||_e.body}catch{return _e.body}}function Ya(_e,$){var xt=$.checked;return A$3({},$,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:xt??_e._wrapperState.initialChecked})}function Za(_e,$){var xt=$.defaultValue==null?"":$.defaultValue,bt=$.checked!=null?$.checked:$.defaultChecked;xt=Sa($.value!=null?$.value:xt),_e._wrapperState={initialChecked:bt,initialValue:xt,controlled:$.type==="checkbox"||$.type==="radio"?$.checked!=null:$.value!=null}}function ab(_e,$){$=$.checked,$!=null&&ta(_e,"checked",$,!1)}function bb(_e,$){ab(_e,$);var xt=Sa($.value),bt=$.type;if(xt!=null)bt==="number"?(xt===0&&_e.value===""||_e.value!=xt)&&(_e.value=""+xt):_e.value!==""+xt&&(_e.value=""+xt);else if(bt==="submit"||bt==="reset"){_e.removeAttribute("value");return}$.hasOwnProperty("value")?cb(_e,$.type,xt):$.hasOwnProperty("defaultValue")&&cb(_e,$.type,Sa($.defaultValue)),$.checked==null&&$.defaultChecked!=null&&(_e.defaultChecked=!!$.defaultChecked)}function db(_e,$,xt){if($.hasOwnProperty("value")||$.hasOwnProperty("defaultValue")){var bt=$.type;if(!(bt!=="submit"&&bt!=="reset"||$.value!==void 0&&$.value!==null))return;$=""+_e._wrapperState.initialValue,xt||$===_e.value||(_e.value=$),_e.defaultValue=$}xt=_e.name,xt!==""&&(_e.name=""),_e.defaultChecked=!!_e._wrapperState.initialChecked,xt!==""&&(_e.name=xt)}function cb(_e,$,xt){($!=="number"||Xa(_e.ownerDocument)!==_e)&&(xt==null?_e.defaultValue=""+_e._wrapperState.initialValue:_e.defaultValue!==""+xt&&(_e.defaultValue=""+xt))}var eb=Array.isArray;function fb(_e,$,xt,bt){if(_e=_e.options,$){$={};for(var St=0;St<xt.length;St++)$["$"+xt[St]]=!0;for(xt=0;xt<_e.length;xt++)St=$.hasOwnProperty("$"+_e[xt].value),_e[xt].selected!==St&&(_e[xt].selected=St),St&&bt&&(_e[xt].defaultSelected=!0)}else{for(xt=""+Sa(xt),$=null,St=0;St<_e.length;St++){if(_e[St].value===xt){_e[St].selected=!0,bt&&(_e[St].defaultSelected=!0);return}$!==null||_e[St].disabled||($=_e[St])}$!==null&&($.selected=!0)}}function gb(_e,$){if($.dangerouslySetInnerHTML!=null)throw Error(p$4(91));return A$3({},$,{value:void 0,defaultValue:void 0,children:""+_e._wrapperState.initialValue})}function hb(_e,$){var xt=$.value;if(xt==null){if(xt=$.children,$=$.defaultValue,xt!=null){if($!=null)throw Error(p$4(92));if(eb(xt)){if(1<xt.length)throw Error(p$4(93));xt=xt[0]}$=xt}$==null&&($=""),xt=$}_e._wrapperState={initialValue:Sa(xt)}}function ib(_e,$){var xt=Sa($.value),bt=Sa($.defaultValue);xt!=null&&(xt=""+xt,xt!==_e.value&&(_e.value=xt),$.defaultValue==null&&_e.defaultValue!==xt&&(_e.defaultValue=xt)),bt!=null&&(_e.defaultValue=""+bt)}function jb(_e){var $=_e.textContent;$===_e._wrapperState.initialValue&&$!==""&&$!==null&&(_e.value=$)}function kb(_e){switch(_e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function lb(_e,$){return _e==null||_e==="http://www.w3.org/1999/xhtml"?kb($):_e==="http://www.w3.org/2000/svg"&&$==="foreignObject"?"http://www.w3.org/1999/xhtml":_e}var mb,nb=function(_e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function($,xt,bt,St){MSApp.execUnsafeLocalFunction(function(){return _e($,xt,bt,St)})}:_e}(function(_e,$){if(_e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in _e)_e.innerHTML=$;else{for(mb=mb||document.createElement("div"),mb.innerHTML="<svg>"+$.valueOf().toString()+"</svg>",$=mb.firstChild;_e.firstChild;)_e.removeChild(_e.firstChild);for(;$.firstChild;)_e.appendChild($.firstChild)}});function ob(_e,$){if($){var xt=_e.firstChild;if(xt&&xt===_e.lastChild&&xt.nodeType===3){xt.nodeValue=$;return}}_e.textContent=$}var pb={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},qb=["Webkit","ms","Moz","O"];Object.keys(pb).forEach(function(_e){qb.forEach(function($){$=$+_e.charAt(0).toUpperCase()+_e.substring(1),pb[$]=pb[_e]})});function rb(_e,$,xt){return $==null||typeof $=="boolean"||$===""?"":xt||typeof $!="number"||$===0||pb.hasOwnProperty(_e)&&pb[_e]?(""+$).trim():$+"px"}function sb(_e,$){_e=_e.style;for(var xt in $)if($.hasOwnProperty(xt)){var bt=xt.indexOf("--")===0,St=rb(xt,$[xt],bt);xt==="float"&&(xt="cssFloat"),bt?_e.setProperty(xt,St):_e[xt]=St}}var tb=A$3({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ub(_e,$){if($){if(tb[_e]&&($.children!=null||$.dangerouslySetInnerHTML!=null))throw Error(p$4(137,_e));if($.dangerouslySetInnerHTML!=null){if($.children!=null)throw Error(p$4(60));if(typeof $.dangerouslySetInnerHTML!="object"||!("__html"in $.dangerouslySetInnerHTML))throw Error(p$4(61))}if($.style!=null&&typeof $.style!="object")throw Error(p$4(62))}}function vb(_e,$){if(_e.indexOf("-")===-1)return typeof $.is=="string";switch(_e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var wb=null;function xb(_e){return _e=_e.target||_e.srcElement||window,_e.correspondingUseElement&&(_e=_e.correspondingUseElement),_e.nodeType===3?_e.parentNode:_e}var yb=null,zb=null,Ab=null;function Bb(_e){if(_e=Cb(_e)){if(typeof yb!="function")throw Error(p$4(280));var $=_e.stateNode;$&&($=Db($),yb(_e.stateNode,_e.type,$))}}function Eb(_e){zb?Ab?Ab.push(_e):Ab=[_e]:zb=_e}function Fb(){if(zb){var _e=zb,$=Ab;if(Ab=zb=null,Bb(_e),$)for(_e=0;_e<$.length;_e++)Bb($[_e])}}function Gb(_e,$){return _e($)}function Hb(){}var Ib=!1;function Jb(_e,$,xt){if(Ib)return _e($,xt);Ib=!0;try{return Gb(_e,$,xt)}finally{Ib=!1,(zb!==null||Ab!==null)&&(Hb(),Fb())}}function Kb(_e,$){var xt=_e.stateNode;if(xt===null)return null;var bt=Db(xt);if(bt===null)return null;xt=bt[$];e:switch($){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(bt=!bt.disabled)||(_e=_e.type,bt=!(_e==="button"||_e==="input"||_e==="select"||_e==="textarea")),_e=!bt;break e;default:_e=!1}if(_e)return null;if(xt&&typeof xt!="function")throw Error(p$4(231,$,typeof xt));return xt}var Lb=!1;if(ia)try{var Mb={};Object.defineProperty(Mb,"passive",{get:function(){Lb=!0}}),window.addEventListener("test",Mb,Mb),window.removeEventListener("test",Mb,Mb)}catch{Lb=!1}function Nb(_e,$,xt,bt,St,At,Ct,Et,Pt){var wt=Array.prototype.slice.call(arguments,3);try{$.apply(xt,wt)}catch(kt){this.onError(kt)}}var Ob=!1,Pb=null,Qb=!1,Rb=null,Sb={onError:function(_e){Ob=!0,Pb=_e}};function Tb(_e,$,xt,bt,St,At,Ct,Et,Pt){Ob=!1,Pb=null,Nb.apply(Sb,arguments)}function Ub(_e,$,xt,bt,St,At,Ct,Et,Pt){if(Tb.apply(this,arguments),Ob){if(Ob){var wt=Pb;Ob=!1,Pb=null}else throw Error(p$4(198));Qb||(Qb=!0,Rb=wt)}}function Vb(_e){var $=_e,xt=_e;if(_e.alternate)for(;$.return;)$=$.return;else{_e=$;do $=_e,$.flags&4098&&(xt=$.return),_e=$.return;while(_e)}return $.tag===3?xt:null}function Wb(_e){if(_e.tag===13){var $=_e.memoizedState;if($===null&&(_e=_e.alternate,_e!==null&&($=_e.memoizedState)),$!==null)return $.dehydrated}return null}function Xb(_e){if(Vb(_e)!==_e)throw Error(p$4(188))}function Yb(_e){var $=_e.alternate;if(!$){if($=Vb(_e),$===null)throw Error(p$4(188));return $!==_e?null:_e}for(var xt=_e,bt=$;;){var St=xt.return;if(St===null)break;var At=St.alternate;if(At===null){if(bt=St.return,bt!==null){xt=bt;continue}break}if(St.child===At.child){for(At=St.child;At;){if(At===xt)return Xb(St),_e;if(At===bt)return Xb(St),$;At=At.sibling}throw Error(p$4(188))}if(xt.return!==bt.return)xt=St,bt=At;else{for(var Ct=!1,Et=St.child;Et;){if(Et===xt){Ct=!0,xt=St,bt=At;break}if(Et===bt){Ct=!0,bt=St,xt=At;break}Et=Et.sibling}if(!Ct){for(Et=At.child;Et;){if(Et===xt){Ct=!0,xt=At,bt=St;break}if(Et===bt){Ct=!0,bt=At,xt=St;break}Et=Et.sibling}if(!Ct)throw Error(p$4(189))}}if(xt.alternate!==bt)throw Error(p$4(190))}if(xt.tag!==3)throw Error(p$4(188));return xt.stateNode.current===xt?_e:$}function Zb(_e){return _e=Yb(_e),_e!==null?$b(_e):null}function $b(_e){if(_e.tag===5||_e.tag===6)return _e;for(_e=_e.child;_e!==null;){var $=$b(_e);if($!==null)return $;_e=_e.sibling}return null}var ac=ca.unstable_scheduleCallback,bc=ca.unstable_cancelCallback,cc=ca.unstable_shouldYield,dc=ca.unstable_requestPaint,B$1=ca.unstable_now,ec=ca.unstable_getCurrentPriorityLevel,fc=ca.unstable_ImmediatePriority,gc=ca.unstable_UserBlockingPriority,hc=ca.unstable_NormalPriority,ic=ca.unstable_LowPriority,jc=ca.unstable_IdlePriority,kc=null,lc=null;function mc(_e){if(lc&&typeof lc.onCommitFiberRoot=="function")try{lc.onCommitFiberRoot(kc,_e,void 0,(_e.current.flags&128)===128)}catch{}}var oc=Math.clz32?Math.clz32:nc,pc=Math.log,qc=Math.LN2;function nc(_e){return _e>>>=0,_e===0?32:31-(pc(_e)/qc|0)|0}var rc=64,sc=4194304;function tc(_e){switch(_e&-_e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return _e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return _e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return _e}}function uc(_e,$){var xt=_e.pendingLanes;if(xt===0)return 0;var bt=0,St=_e.suspendedLanes,At=_e.pingedLanes,Ct=xt&268435455;if(Ct!==0){var Et=Ct&~St;Et!==0?bt=tc(Et):(At&=Ct,At!==0&&(bt=tc(At)))}else Ct=xt&~St,Ct!==0?bt=tc(Ct):At!==0&&(bt=tc(At));if(bt===0)return 0;if($!==0&&$!==bt&&!($&St)&&(St=bt&-bt,At=$&-$,St>=At||St===16&&(At&4194240)!==0))return $;if(bt&4&&(bt|=xt&16),$=_e.entangledLanes,$!==0)for(_e=_e.entanglements,$&=bt;0<$;)xt=31-oc($),St=1<<xt,bt|=_e[xt],$&=~St;return bt}function vc(_e,$){switch(_e){case 1:case 2:case 4:return $+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return $+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function wc(_e,$){for(var xt=_e.suspendedLanes,bt=_e.pingedLanes,St=_e.expirationTimes,At=_e.pendingLanes;0<At;){var Ct=31-oc(At),Et=1<<Ct,Pt=St[Ct];Pt===-1?(!(Et&xt)||Et&bt)&&(St[Ct]=vc(Et,$)):Pt<=$&&(_e.expiredLanes|=Et),At&=~Et}}function xc(_e){return _e=_e.pendingLanes&-1073741825,_e!==0?_e:_e&1073741824?1073741824:0}function yc(){var _e=rc;return rc<<=1,!(rc&4194240)&&(rc=64),_e}function zc(_e){for(var $=[],xt=0;31>xt;xt++)$.push(_e);return $}function Ac(_e,$,xt){_e.pendingLanes|=$,$!==536870912&&(_e.suspendedLanes=0,_e.pingedLanes=0),_e=_e.eventTimes,$=31-oc($),_e[$]=xt}function Bc(_e,$){var xt=_e.pendingLanes&~$;_e.pendingLanes=$,_e.suspendedLanes=0,_e.pingedLanes=0,_e.expiredLanes&=$,_e.mutableReadLanes&=$,_e.entangledLanes&=$,$=_e.entanglements;var bt=_e.eventTimes;for(_e=_e.expirationTimes;0<xt;){var St=31-oc(xt),At=1<<St;$[St]=0,bt[St]=-1,_e[St]=-1,xt&=~At}}function Cc(_e,$){var xt=_e.entangledLanes|=$;for(_e=_e.entanglements;xt;){var bt=31-oc(xt),St=1<<bt;St&$|_e[bt]&$&&(_e[bt]|=$),xt&=~St}}var C$1=0;function Dc(_e){return _e&=-_e,1<_e?4<_e?_e&268435455?16:536870912:4:1}var Ec,Fc,Gc,Hc,Ic,Jc=!1,Kc=[],Lc=null,Mc=null,Nc=null,Oc=new Map,Pc=new Map,Qc=[],Rc="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Sc(_e,$){switch(_e){case"focusin":case"focusout":Lc=null;break;case"dragenter":case"dragleave":Mc=null;break;case"mouseover":case"mouseout":Nc=null;break;case"pointerover":case"pointerout":Oc.delete($.pointerId);break;case"gotpointercapture":case"lostpointercapture":Pc.delete($.pointerId)}}function Tc(_e,$,xt,bt,St,At){return _e===null||_e.nativeEvent!==At?(_e={blockedOn:$,domEventName:xt,eventSystemFlags:bt,nativeEvent:At,targetContainers:[St]},$!==null&&($=Cb($),$!==null&&Fc($)),_e):(_e.eventSystemFlags|=bt,$=_e.targetContainers,St!==null&&$.indexOf(St)===-1&&$.push(St),_e)}function Uc(_e,$,xt,bt,St){switch($){case"focusin":return Lc=Tc(Lc,_e,$,xt,bt,St),!0;case"dragenter":return Mc=Tc(Mc,_e,$,xt,bt,St),!0;case"mouseover":return Nc=Tc(Nc,_e,$,xt,bt,St),!0;case"pointerover":var At=St.pointerId;return Oc.set(At,Tc(Oc.get(At)||null,_e,$,xt,bt,St)),!0;case"gotpointercapture":return At=St.pointerId,Pc.set(At,Tc(Pc.get(At)||null,_e,$,xt,bt,St)),!0}return!1}function Vc(_e){var $=Wc(_e.target);if($!==null){var xt=Vb($);if(xt!==null){if($=xt.tag,$===13){if($=Wb(xt),$!==null){_e.blockedOn=$,Ic(_e.priority,function(){Gc(xt)});return}}else if($===3&&xt.stateNode.current.memoizedState.isDehydrated){_e.blockedOn=xt.tag===3?xt.stateNode.containerInfo:null;return}}}_e.blockedOn=null}function Xc(_e){if(_e.blockedOn!==null)return!1;for(var $=_e.targetContainers;0<$.length;){var xt=Yc(_e.domEventName,_e.eventSystemFlags,$[0],_e.nativeEvent);if(xt===null){xt=_e.nativeEvent;var bt=new xt.constructor(xt.type,xt);wb=bt,xt.target.dispatchEvent(bt),wb=null}else return $=Cb(xt),$!==null&&Fc($),_e.blockedOn=xt,!1;$.shift()}return!0}function Zc(_e,$,xt){Xc(_e)&&xt.delete($)}function $c(){Jc=!1,Lc!==null&&Xc(Lc)&&(Lc=null),Mc!==null&&Xc(Mc)&&(Mc=null),Nc!==null&&Xc(Nc)&&(Nc=null),Oc.forEach(Zc),Pc.forEach(Zc)}function ad(_e,$){_e.blockedOn===$&&(_e.blockedOn=null,Jc||(Jc=!0,ca.unstable_scheduleCallback(ca.unstable_NormalPriority,$c)))}function bd(_e){function $(St){return ad(St,_e)}if(0<Kc.length){ad(Kc[0],_e);for(var xt=1;xt<Kc.length;xt++){var bt=Kc[xt];bt.blockedOn===_e&&(bt.blockedOn=null)}}for(Lc!==null&&ad(Lc,_e),Mc!==null&&ad(Mc,_e),Nc!==null&&ad(Nc,_e),Oc.forEach($),Pc.forEach($),xt=0;xt<Qc.length;xt++)bt=Qc[xt],bt.blockedOn===_e&&(bt.blockedOn=null);for(;0<Qc.length&&(xt=Qc[0],xt.blockedOn===null);)Vc(xt),xt.blockedOn===null&&Qc.shift()}var cd=ua.ReactCurrentBatchConfig,dd=!0;function ed(_e,$,xt,bt){var St=C$1,At=cd.transition;cd.transition=null;try{C$1=1,fd(_e,$,xt,bt)}finally{C$1=St,cd.transition=At}}function gd(_e,$,xt,bt){var St=C$1,At=cd.transition;cd.transition=null;try{C$1=4,fd(_e,$,xt,bt)}finally{C$1=St,cd.transition=At}}function fd(_e,$,xt,bt){if(dd){var St=Yc(_e,$,xt,bt);if(St===null)hd(_e,$,bt,id$2,xt),Sc(_e,bt);else if(Uc(St,_e,$,xt,bt))bt.stopPropagation();else if(Sc(_e,bt),$&4&&-1<Rc.indexOf(_e)){for(;St!==null;){var At=Cb(St);if(At!==null&&Ec(At),At=Yc(_e,$,xt,bt),At===null&&hd(_e,$,bt,id$2,xt),At===St)break;St=At}St!==null&&bt.stopPropagation()}else hd(_e,$,bt,null,xt)}}var id$2=null;function Yc(_e,$,xt,bt){if(id$2=null,_e=xb(bt),_e=Wc(_e),_e!==null)if($=Vb(_e),$===null)_e=null;else if(xt=$.tag,xt===13){if(_e=Wb($),_e!==null)return _e;_e=null}else if(xt===3){if($.stateNode.current.memoizedState.isDehydrated)return $.tag===3?$.stateNode.containerInfo:null;_e=null}else $!==_e&&(_e=null);return id$2=_e,null}function jd(_e){switch(_e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(ec()){case fc:return 1;case gc:return 4;case hc:case ic:return 16;case jc:return 536870912;default:return 16}default:return 16}}var kd=null,ld=null,md=null;function nd(){if(md)return md;var _e,$=ld,xt=$.length,bt,St="value"in kd?kd.value:kd.textContent,At=St.length;for(_e=0;_e<xt&&$[_e]===St[_e];_e++);var Ct=xt-_e;for(bt=1;bt<=Ct&&$[xt-bt]===St[At-bt];bt++);return md=St.slice(_e,1<bt?1-bt:void 0)}function od(_e){var $=_e.keyCode;return"charCode"in _e?(_e=_e.charCode,_e===0&&$===13&&(_e=13)):_e=$,_e===10&&(_e=13),32<=_e||_e===13?_e:0}function pd(){return!0}function qd(){return!1}function rd(_e){function $(xt,bt,St,At,Ct){this._reactName=xt,this._targetInst=St,this.type=bt,this.nativeEvent=At,this.target=Ct,this.currentTarget=null;for(var Et in _e)_e.hasOwnProperty(Et)&&(xt=_e[Et],this[Et]=xt?xt(At):At[Et]);return this.isDefaultPrevented=(At.defaultPrevented!=null?At.defaultPrevented:At.returnValue===!1)?pd:qd,this.isPropagationStopped=qd,this}return A$3($.prototype,{preventDefault:function(){this.defaultPrevented=!0;var xt=this.nativeEvent;xt&&(xt.preventDefault?xt.preventDefault():typeof xt.returnValue!="unknown"&&(xt.returnValue=!1),this.isDefaultPrevented=pd)},stopPropagation:function(){var xt=this.nativeEvent;xt&&(xt.stopPropagation?xt.stopPropagation():typeof xt.cancelBubble!="unknown"&&(xt.cancelBubble=!0),this.isPropagationStopped=pd)},persist:function(){},isPersistent:pd}),$}var sd={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(_e){return _e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},td=rd(sd),ud=A$3({},sd,{view:0,detail:0}),vd=rd(ud),wd,xd,yd,Ad=A$3({},ud,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:zd,button:0,buttons:0,relatedTarget:function(_e){return _e.relatedTarget===void 0?_e.fromElement===_e.srcElement?_e.toElement:_e.fromElement:_e.relatedTarget},movementX:function(_e){return"movementX"in _e?_e.movementX:(_e!==yd&&(yd&&_e.type==="mousemove"?(wd=_e.screenX-yd.screenX,xd=_e.screenY-yd.screenY):xd=wd=0,yd=_e),wd)},movementY:function(_e){return"movementY"in _e?_e.movementY:xd}}),Bd=rd(Ad),Cd=A$3({},Ad,{dataTransfer:0}),Dd=rd(Cd),Ed=A$3({},ud,{relatedTarget:0}),Fd=rd(Ed),Gd=A$3({},sd,{animationName:0,elapsedTime:0,pseudoElement:0}),Hd=rd(Gd),Id=A$3({},sd,{clipboardData:function(_e){return"clipboardData"in _e?_e.clipboardData:window.clipboardData}}),Jd=rd(Id),Kd=A$3({},sd,{data:0}),Ld=rd(Kd),Md={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Nd={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Od={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Pd(_e){var $=this.nativeEvent;return $.getModifierState?$.getModifierState(_e):(_e=Od[_e])?!!$[_e]:!1}function zd(){return Pd}var Qd=A$3({},ud,{key:function(_e){if(_e.key){var $=Md[_e.key]||_e.key;if($!=="Unidentified")return $}return _e.type==="keypress"?(_e=od(_e),_e===13?"Enter":String.fromCharCode(_e)):_e.type==="keydown"||_e.type==="keyup"?Nd[_e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:zd,charCode:function(_e){return _e.type==="keypress"?od(_e):0},keyCode:function(_e){return _e.type==="keydown"||_e.type==="keyup"?_e.keyCode:0},which:function(_e){return _e.type==="keypress"?od(_e):_e.type==="keydown"||_e.type==="keyup"?_e.keyCode:0}}),Rd=rd(Qd),Sd=A$3({},Ad,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Td=rd(Sd),Ud=A$3({},ud,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:zd}),Vd=rd(Ud),Wd=A$3({},sd,{propertyName:0,elapsedTime:0,pseudoElement:0}),Xd=rd(Wd),Yd=A$3({},Ad,{deltaX:function(_e){return"deltaX"in _e?_e.deltaX:"wheelDeltaX"in _e?-_e.wheelDeltaX:0},deltaY:function(_e){return"deltaY"in _e?_e.deltaY:"wheelDeltaY"in _e?-_e.wheelDeltaY:"wheelDelta"in _e?-_e.wheelDelta:0},deltaZ:0,deltaMode:0}),Zd=rd(Yd),$d=[9,13,27,32],ae=ia&&"CompositionEvent"in window,be$1=null;ia&&"documentMode"in document&&(be$1=document.documentMode);var ce$1=ia&&"TextEvent"in window&&!be$1,de=ia&&(!ae||be$1&&8<be$1&&11>=be$1),ee=" ",fe=!1;function ge(_e,$){switch(_e){case"keyup":return $d.indexOf($.keyCode)!==-1;case"keydown":return $.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function he(_e){return _e=_e.detail,typeof _e=="object"&&"data"in _e?_e.data:null}var ie=!1;function je(_e,$){switch(_e){case"compositionend":return he($);case"keypress":return $.which!==32?null:(fe=!0,ee);case"textInput":return _e=$.data,_e===ee&&fe?null:_e;default:return null}}function ke(_e,$){if(ie)return _e==="compositionend"||!ae&&ge(_e,$)?(_e=nd(),md=ld=kd=null,ie=!1,_e):null;switch(_e){case"paste":return null;case"keypress":if(!($.ctrlKey||$.altKey||$.metaKey)||$.ctrlKey&&$.altKey){if($.char&&1<$.char.length)return $.char;if($.which)return String.fromCharCode($.which)}return null;case"compositionend":return de&&$.locale!=="ko"?null:$.data;default:return null}}var le={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function me(_e){var $=_e&&_e.nodeName&&_e.nodeName.toLowerCase();return $==="input"?!!le[_e.type]:$==="textarea"}function ne(_e,$,xt,bt){Eb(bt),$=oe($,"onChange"),0<$.length&&(xt=new td("onChange","change",null,xt,bt),_e.push({event:xt,listeners:$}))}var pe$1=null,qe$1=null;function re(_e){se(_e,0)}function te$1(_e){var $=ue(_e);if(Wa($))return _e}function ve$1(_e,$){if(_e==="change")return $}var we=!1;if(ia){var xe$1;if(ia){var ye$1="oninput"in document;if(!ye$1){var ze$1=document.createElement("div");ze$1.setAttribute("oninput","return;"),ye$1=typeof ze$1.oninput=="function"}xe$1=ye$1}else xe$1=!1;we=xe$1&&(!document.documentMode||9<document.documentMode)}function Ae(){pe$1&&(pe$1.detachEvent("onpropertychange",Be),qe$1=pe$1=null)}function Be(_e){if(_e.propertyName==="value"&&te$1(qe$1)){var $=[];ne($,qe$1,_e,xb(_e)),Jb(re,$)}}function Ce(_e,$,xt){_e==="focusin"?(Ae(),pe$1=$,qe$1=xt,pe$1.attachEvent("onpropertychange",Be)):_e==="focusout"&&Ae()}function De(_e){if(_e==="selectionchange"||_e==="keyup"||_e==="keydown")return te$1(qe$1)}function Ee(_e,$){if(_e==="click")return te$1($)}function Fe$1(_e,$){if(_e==="input"||_e==="change")return te$1($)}function Ge(_e,$){return _e===$&&(_e!==0||1/_e===1/$)||_e!==_e&&$!==$}var He=typeof Object.is=="function"?Object.is:Ge;function Ie(_e,$){if(He(_e,$))return!0;if(typeof _e!="object"||_e===null||typeof $!="object"||$===null)return!1;var xt=Object.keys(_e),bt=Object.keys($);if(xt.length!==bt.length)return!1;for(bt=0;bt<xt.length;bt++){var St=xt[bt];if(!ja.call($,St)||!He(_e[St],$[St]))return!1}return!0}function Je$1(_e){for(;_e&&_e.firstChild;)_e=_e.firstChild;return _e}function Ke(_e,$){var xt=Je$1(_e);_e=0;for(var bt;xt;){if(xt.nodeType===3){if(bt=_e+xt.textContent.length,_e<=$&&bt>=$)return{node:xt,offset:$-_e};_e=bt}e:{for(;xt;){if(xt.nextSibling){xt=xt.nextSibling;break e}xt=xt.parentNode}xt=void 0}xt=Je$1(xt)}}function Le(_e,$){return _e&&$?_e===$?!0:_e&&_e.nodeType===3?!1:$&&$.nodeType===3?Le(_e,$.parentNode):"contains"in _e?_e.contains($):_e.compareDocumentPosition?!!(_e.compareDocumentPosition($)&16):!1:!1}function Me(){for(var _e=window,$=Xa();$ instanceof _e.HTMLIFrameElement;){try{var xt=typeof $.contentWindow.location.href=="string"}catch{xt=!1}if(xt)_e=$.contentWindow;else break;$=Xa(_e.document)}return $}function Ne(_e){var $=_e&&_e.nodeName&&_e.nodeName.toLowerCase();return $&&($==="input"&&(_e.type==="text"||_e.type==="search"||_e.type==="tel"||_e.type==="url"||_e.type==="password")||$==="textarea"||_e.contentEditable==="true")}function Oe(_e){var $=Me(),xt=_e.focusedElem,bt=_e.selectionRange;if($!==xt&&xt&&xt.ownerDocument&&Le(xt.ownerDocument.documentElement,xt)){if(bt!==null&&Ne(xt)){if($=bt.start,_e=bt.end,_e===void 0&&(_e=$),"selectionStart"in xt)xt.selectionStart=$,xt.selectionEnd=Math.min(_e,xt.value.length);else if(_e=($=xt.ownerDocument||document)&&$.defaultView||window,_e.getSelection){_e=_e.getSelection();var St=xt.textContent.length,At=Math.min(bt.start,St);bt=bt.end===void 0?At:Math.min(bt.end,St),!_e.extend&&At>bt&&(St=bt,bt=At,At=St),St=Ke(xt,At);var Ct=Ke(xt,bt);St&&Ct&&(_e.rangeCount!==1||_e.anchorNode!==St.node||_e.anchorOffset!==St.offset||_e.focusNode!==Ct.node||_e.focusOffset!==Ct.offset)&&($=$.createRange(),$.setStart(St.node,St.offset),_e.removeAllRanges(),At>bt?(_e.addRange($),_e.extend(Ct.node,Ct.offset)):($.setEnd(Ct.node,Ct.offset),_e.addRange($)))}}for($=[],_e=xt;_e=_e.parentNode;)_e.nodeType===1&&$.push({element:_e,left:_e.scrollLeft,top:_e.scrollTop});for(typeof xt.focus=="function"&&xt.focus(),xt=0;xt<$.length;xt++)_e=$[xt],_e.element.scrollLeft=_e.left,_e.element.scrollTop=_e.top}}var Pe=ia&&"documentMode"in document&&11>=document.documentMode,Qe=null,Re$1=null,Se=null,Te=!1;function Ue(_e,$,xt){var bt=xt.window===xt?xt.document:xt.nodeType===9?xt:xt.ownerDocument;Te||Qe==null||Qe!==Xa(bt)||(bt=Qe,"selectionStart"in bt&&Ne(bt)?bt={start:bt.selectionStart,end:bt.selectionEnd}:(bt=(bt.ownerDocument&&bt.ownerDocument.defaultView||window).getSelection(),bt={anchorNode:bt.anchorNode,anchorOffset:bt.anchorOffset,focusNode:bt.focusNode,focusOffset:bt.focusOffset}),Se&&Ie(Se,bt)||(Se=bt,bt=oe(Re$1,"onSelect"),0<bt.length&&($=new td("onSelect","select",null,$,xt),_e.push({event:$,listeners:bt}),$.target=Qe)))}function Ve$1(_e,$){var xt={};return xt[_e.toLowerCase()]=$.toLowerCase(),xt["Webkit"+_e]="webkit"+$,xt["Moz"+_e]="moz"+$,xt}var We={animationend:Ve$1("Animation","AnimationEnd"),animationiteration:Ve$1("Animation","AnimationIteration"),animationstart:Ve$1("Animation","AnimationStart"),transitionend:Ve$1("Transition","TransitionEnd")},Xe$1={},Ye$1={};ia&&(Ye$1=document.createElement("div").style,"AnimationEvent"in window||(delete We.animationend.animation,delete We.animationiteration.animation,delete We.animationstart.animation),"TransitionEvent"in window||delete We.transitionend.transition);function Ze$1(_e){if(Xe$1[_e])return Xe$1[_e];if(!We[_e])return _e;var $=We[_e],xt;for(xt in $)if($.hasOwnProperty(xt)&&xt in Ye$1)return Xe$1[_e]=$[xt];return _e}var $e$1=Ze$1("animationend"),af=Ze$1("animationiteration"),bf=Ze$1("animationstart"),cf=Ze$1("transitionend"),df=new Map,ef="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ff(_e,$){df.set(_e,$),fa($,[_e])}for(var gf=0;gf<ef.length;gf++){var hf=ef[gf],jf=hf.toLowerCase(),kf=hf[0].toUpperCase()+hf.slice(1);ff(jf,"on"+kf)}ff($e$1,"onAnimationEnd");ff(af,"onAnimationIteration");ff(bf,"onAnimationStart");ff("dblclick","onDoubleClick");ff("focusin","onFocus");ff("focusout","onBlur");ff(cf,"onTransitionEnd");ha("onMouseEnter",["mouseout","mouseover"]);ha("onMouseLeave",["mouseout","mouseover"]);ha("onPointerEnter",["pointerout","pointerover"]);ha("onPointerLeave",["pointerout","pointerover"]);fa("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));fa("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));fa("onBeforeInput",["compositionend","keypress","textInput","paste"]);fa("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));fa("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));fa("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var lf="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),mf=new Set("cancel close invalid load scroll toggle".split(" ").concat(lf));function nf(_e,$,xt){var bt=_e.type||"unknown-event";_e.currentTarget=xt,Ub(bt,$,void 0,_e),_e.currentTarget=null}function se(_e,$){$=($&4)!==0;for(var xt=0;xt<_e.length;xt++){var bt=_e[xt],St=bt.event;bt=bt.listeners;e:{var At=void 0;if($)for(var Ct=bt.length-1;0<=Ct;Ct--){var Et=bt[Ct],Pt=Et.instance,wt=Et.currentTarget;if(Et=Et.listener,Pt!==At&&St.isPropagationStopped())break e;nf(St,Et,wt),At=Pt}else for(Ct=0;Ct<bt.length;Ct++){if(Et=bt[Ct],Pt=Et.instance,wt=Et.currentTarget,Et=Et.listener,Pt!==At&&St.isPropagationStopped())break e;nf(St,Et,wt),At=Pt}}}if(Qb)throw _e=Rb,Qb=!1,Rb=null,_e}function D$4(_e,$){var xt=$[of];xt===void 0&&(xt=$[of]=new Set);var bt=_e+"__bubble";xt.has(bt)||(pf($,_e,2,!1),xt.add(bt))}function qf(_e,$,xt){var bt=0;$&&(bt|=4),pf(xt,_e,bt,$)}var rf="_reactListening"+Math.random().toString(36).slice(2);function sf(_e){if(!_e[rf]){_e[rf]=!0,da.forEach(function(xt){xt!=="selectionchange"&&(mf.has(xt)||qf(xt,!1,_e),qf(xt,!0,_e))});var $=_e.nodeType===9?_e:_e.ownerDocument;$===null||$[rf]||($[rf]=!0,qf("selectionchange",!1,$))}}function pf(_e,$,xt,bt){switch(jd($)){case 1:var St=ed;break;case 4:St=gd;break;default:St=fd}xt=St.bind(null,$,xt,_e),St=void 0,!Lb||$!=="touchstart"&&$!=="touchmove"&&$!=="wheel"||(St=!0),bt?St!==void 0?_e.addEventListener($,xt,{capture:!0,passive:St}):_e.addEventListener($,xt,!0):St!==void 0?_e.addEventListener($,xt,{passive:St}):_e.addEventListener($,xt,!1)}function hd(_e,$,xt,bt,St){var At=bt;if(!($&1)&&!($&2)&&bt!==null)e:for(;;){if(bt===null)return;var Ct=bt.tag;if(Ct===3||Ct===4){var Et=bt.stateNode.containerInfo;if(Et===St||Et.nodeType===8&&Et.parentNode===St)break;if(Ct===4)for(Ct=bt.return;Ct!==null;){var Pt=Ct.tag;if((Pt===3||Pt===4)&&(Pt=Ct.stateNode.containerInfo,Pt===St||Pt.nodeType===8&&Pt.parentNode===St))return;Ct=Ct.return}for(;Et!==null;){if(Ct=Wc(Et),Ct===null)return;if(Pt=Ct.tag,Pt===5||Pt===6){bt=At=Ct;continue e}Et=Et.parentNode}}bt=bt.return}Jb(function(){var wt=At,kt=xb(xt),_t=[];e:{var ht=df.get(_e);if(ht!==void 0){var vt=td,Ft=_e;switch(_e){case"keypress":if(od(xt)===0)break e;case"keydown":case"keyup":vt=Rd;break;case"focusin":Ft="focus",vt=Fd;break;case"focusout":Ft="blur",vt=Fd;break;case"beforeblur":case"afterblur":vt=Fd;break;case"click":if(xt.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":vt=Bd;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":vt=Dd;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":vt=Vd;break;case $e$1:case af:case bf:vt=Hd;break;case cf:vt=Xd;break;case"scroll":vt=vd;break;case"wheel":vt=Zd;break;case"copy":case"cut":case"paste":vt=Jd;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":vt=Td}var Vt=($&4)!==0,qt=!Vt&&_e==="scroll",Lt=Vt?ht!==null?ht+"Capture":null:ht;Vt=[];for(var $t=wt,Ot;$t!==null;){Ot=$t;var jt=Ot.stateNode;if(Ot.tag===5&&jt!==null&&(Ot=jt,Lt!==null&&(jt=Kb($t,Lt),jt!=null&&Vt.push(tf($t,jt,Ot)))),qt)break;$t=$t.return}0<Vt.length&&(ht=new vt(ht,Ft,null,xt,kt),_t.push({event:ht,listeners:Vt}))}}if(!($&7)){e:{if(ht=_e==="mouseover"||_e==="pointerover",vt=_e==="mouseout"||_e==="pointerout",ht&&xt!==wb&&(Ft=xt.relatedTarget||xt.fromElement)&&(Wc(Ft)||Ft[uf]))break e;if((vt||ht)&&(ht=kt.window===kt?kt:(ht=kt.ownerDocument)?ht.defaultView||ht.parentWindow:window,vt?(Ft=xt.relatedTarget||xt.toElement,vt=wt,Ft=Ft?Wc(Ft):null,Ft!==null&&(qt=Vb(Ft),Ft!==qt||Ft.tag!==5&&Ft.tag!==6)&&(Ft=null)):(vt=null,Ft=wt),vt!==Ft)){if(Vt=Bd,jt="onMouseLeave",Lt="onMouseEnter",$t="mouse",(_e==="pointerout"||_e==="pointerover")&&(Vt=Td,jt="onPointerLeave",Lt="onPointerEnter",$t="pointer"),qt=vt==null?ht:ue(vt),Ot=Ft==null?ht:ue(Ft),ht=new Vt(jt,$t+"leave",vt,xt,kt),ht.target=qt,ht.relatedTarget=Ot,jt=null,Wc(kt)===wt&&(Vt=new Vt(Lt,$t+"enter",Ft,xt,kt),Vt.target=Ot,Vt.relatedTarget=qt,jt=Vt),qt=jt,vt&&Ft)t:{for(Vt=vt,Lt=Ft,$t=0,Ot=Vt;Ot;Ot=vf(Ot))$t++;for(Ot=0,jt=Lt;jt;jt=vf(jt))Ot++;for(;0<$t-Ot;)Vt=vf(Vt),$t--;for(;0<Ot-$t;)Lt=vf(Lt),Ot--;for(;$t--;){if(Vt===Lt||Lt!==null&&Vt===Lt.alternate)break t;Vt=vf(Vt),Lt=vf(Lt)}Vt=null}else Vt=null;vt!==null&&wf(_t,ht,vt,Vt,!1),Ft!==null&&qt!==null&&wf(_t,qt,Ft,Vt,!0)}}e:{if(ht=wt?ue(wt):window,vt=ht.nodeName&&ht.nodeName.toLowerCase(),vt==="select"||vt==="input"&&ht.type==="file")var Rt=ve$1;else if(me(ht))if(we)Rt=Fe$1;else{Rt=De;var Kt=Ce}else(vt=ht.nodeName)&&vt.toLowerCase()==="input"&&(ht.type==="checkbox"||ht.type==="radio")&&(Rt=Ee);if(Rt&&(Rt=Rt(_e,wt))){ne(_t,Rt,xt,kt);break e}Kt&&Kt(_e,ht,wt),_e==="focusout"&&(Kt=ht._wrapperState)&&Kt.controlled&&ht.type==="number"&&cb(ht,"number",ht.value)}switch(Kt=wt?ue(wt):window,_e){case"focusin":(me(Kt)||Kt.contentEditable==="true")&&(Qe=Kt,Re$1=wt,Se=null);break;case"focusout":Se=Re$1=Qe=null;break;case"mousedown":Te=!0;break;case"contextmenu":case"mouseup":case"dragend":Te=!1,Ue(_t,xt,kt);break;case"selectionchange":if(Pe)break;case"keydown":case"keyup":Ue(_t,xt,kt)}var Bt;if(ae)e:{switch(_e){case"compositionstart":var Gt="onCompositionStart";break e;case"compositionend":Gt="onCompositionEnd";break e;case"compositionupdate":Gt="onCompositionUpdate";break e}Gt=void 0}else ie?ge(_e,xt)&&(Gt="onCompositionEnd"):_e==="keydown"&&xt.keyCode===229&&(Gt="onCompositionStart");Gt&&(de&&xt.locale!=="ko"&&(ie||Gt!=="onCompositionStart"?Gt==="onCompositionEnd"&&ie&&(Bt=nd()):(kd=kt,ld="value"in kd?kd.value:kd.textContent,ie=!0)),Kt=oe(wt,Gt),0<Kt.length&&(Gt=new Ld(Gt,_e,null,xt,kt),_t.push({event:Gt,listeners:Kt}),Bt?Gt.data=Bt:(Bt=he(xt),Bt!==null&&(Gt.data=Bt)))),(Bt=ce$1?je(_e,xt):ke(_e,xt))&&(wt=oe(wt,"onBeforeInput"),0<wt.length&&(kt=new Ld("onBeforeInput","beforeinput",null,xt,kt),_t.push({event:kt,listeners:wt}),kt.data=Bt))}se(_t,$)})}function tf(_e,$,xt){return{instance:_e,listener:$,currentTarget:xt}}function oe(_e,$){for(var xt=$+"Capture",bt=[];_e!==null;){var St=_e,At=St.stateNode;St.tag===5&&At!==null&&(St=At,At=Kb(_e,xt),At!=null&&bt.unshift(tf(_e,At,St)),At=Kb(_e,$),At!=null&&bt.push(tf(_e,At,St))),_e=_e.return}return bt}function vf(_e){if(_e===null)return null;do _e=_e.return;while(_e&&_e.tag!==5);return _e||null}function wf(_e,$,xt,bt,St){for(var At=$._reactName,Ct=[];xt!==null&&xt!==bt;){var Et=xt,Pt=Et.alternate,wt=Et.stateNode;if(Pt!==null&&Pt===bt)break;Et.tag===5&&wt!==null&&(Et=wt,St?(Pt=Kb(xt,At),Pt!=null&&Ct.unshift(tf(xt,Pt,Et))):St||(Pt=Kb(xt,At),Pt!=null&&Ct.push(tf(xt,Pt,Et)))),xt=xt.return}Ct.length!==0&&_e.push({event:$,listeners:Ct})}var xf=/\r\n?/g,yf=/\u0000|\uFFFD/g;function zf(_e){return(typeof _e=="string"?_e:""+_e).replace(xf,`
`).replace(yf,"")}function Af(_e,$,xt){if($=zf($),zf(_e)!==$&&xt)throw Error(p$4(425))}function Bf(){}var Cf=null,Df=null;function Ef(_e,$){return _e==="textarea"||_e==="noscript"||typeof $.children=="string"||typeof $.children=="number"||typeof $.dangerouslySetInnerHTML=="object"&&$.dangerouslySetInnerHTML!==null&&$.dangerouslySetInnerHTML.__html!=null}var Ff=typeof setTimeout=="function"?setTimeout:void 0,Gf=typeof clearTimeout=="function"?clearTimeout:void 0,Hf=typeof Promise=="function"?Promise:void 0,Jf=typeof queueMicrotask=="function"?queueMicrotask:typeof Hf<"u"?function(_e){return Hf.resolve(null).then(_e).catch(If)}:Ff;function If(_e){setTimeout(function(){throw _e})}function Kf(_e,$){var xt=$,bt=0;do{var St=xt.nextSibling;if(_e.removeChild(xt),St&&St.nodeType===8)if(xt=St.data,xt==="/$"){if(bt===0){_e.removeChild(St),bd($);return}bt--}else xt!=="$"&&xt!=="$?"&&xt!=="$!"||bt++;xt=St}while(xt);bd($)}function Lf(_e){for(;_e!=null;_e=_e.nextSibling){var $=_e.nodeType;if($===1||$===3)break;if($===8){if($=_e.data,$==="$"||$==="$!"||$==="$?")break;if($==="/$")return null}}return _e}function Mf(_e){_e=_e.previousSibling;for(var $=0;_e;){if(_e.nodeType===8){var xt=_e.data;if(xt==="$"||xt==="$!"||xt==="$?"){if($===0)return _e;$--}else xt==="/$"&&$++}_e=_e.previousSibling}return null}var Nf=Math.random().toString(36).slice(2),Of="__reactFiber$"+Nf,Pf="__reactProps$"+Nf,uf="__reactContainer$"+Nf,of="__reactEvents$"+Nf,Qf="__reactListeners$"+Nf,Rf="__reactHandles$"+Nf;function Wc(_e){var $=_e[Of];if($)return $;for(var xt=_e.parentNode;xt;){if($=xt[uf]||xt[Of]){if(xt=$.alternate,$.child!==null||xt!==null&&xt.child!==null)for(_e=Mf(_e);_e!==null;){if(xt=_e[Of])return xt;_e=Mf(_e)}return $}_e=xt,xt=_e.parentNode}return null}function Cb(_e){return _e=_e[Of]||_e[uf],!_e||_e.tag!==5&&_e.tag!==6&&_e.tag!==13&&_e.tag!==3?null:_e}function ue(_e){if(_e.tag===5||_e.tag===6)return _e.stateNode;throw Error(p$4(33))}function Db(_e){return _e[Pf]||null}var Sf=[],Tf=-1;function Uf(_e){return{current:_e}}function E$1(_e){0>Tf||(_e.current=Sf[Tf],Sf[Tf]=null,Tf--)}function G$2(_e,$){Tf++,Sf[Tf]=_e.current,_e.current=$}var Vf={},H$2=Uf(Vf),Wf=Uf(!1),Xf=Vf;function Yf(_e,$){var xt=_e.type.contextTypes;if(!xt)return Vf;var bt=_e.stateNode;if(bt&&bt.__reactInternalMemoizedUnmaskedChildContext===$)return bt.__reactInternalMemoizedMaskedChildContext;var St={},At;for(At in xt)St[At]=$[At];return bt&&(_e=_e.stateNode,_e.__reactInternalMemoizedUnmaskedChildContext=$,_e.__reactInternalMemoizedMaskedChildContext=St),St}function Zf(_e){return _e=_e.childContextTypes,_e!=null}function $f(){E$1(Wf),E$1(H$2)}function ag(_e,$,xt){if(H$2.current!==Vf)throw Error(p$4(168));G$2(H$2,$),G$2(Wf,xt)}function bg(_e,$,xt){var bt=_e.stateNode;if($=$.childContextTypes,typeof bt.getChildContext!="function")return xt;bt=bt.getChildContext();for(var St in bt)if(!(St in $))throw Error(p$4(108,Ra(_e)||"Unknown",St));return A$3({},xt,bt)}function cg(_e){return _e=(_e=_e.stateNode)&&_e.__reactInternalMemoizedMergedChildContext||Vf,Xf=H$2.current,G$2(H$2,_e),G$2(Wf,Wf.current),!0}function dg(_e,$,xt){var bt=_e.stateNode;if(!bt)throw Error(p$4(169));xt?(_e=bg(_e,$,Xf),bt.__reactInternalMemoizedMergedChildContext=_e,E$1(Wf),E$1(H$2),G$2(H$2,_e)):E$1(Wf),G$2(Wf,xt)}var eg=null,fg=!1,gg=!1;function hg(_e){eg===null?eg=[_e]:eg.push(_e)}function ig(_e){fg=!0,hg(_e)}function jg(){if(!gg&&eg!==null){gg=!0;var _e=0,$=C$1;try{var xt=eg;for(C$1=1;_e<xt.length;_e++){var bt=xt[_e];do bt=bt(!0);while(bt!==null)}eg=null,fg=!1}catch(St){throw eg!==null&&(eg=eg.slice(_e+1)),ac(fc,jg),St}finally{C$1=$,gg=!1}}return null}var kg=[],lg=0,mg=null,ng=0,og=[],pg=0,qg=null,rg=1,sg="";function tg(_e,$){kg[lg++]=ng,kg[lg++]=mg,mg=_e,ng=$}function ug(_e,$,xt){og[pg++]=rg,og[pg++]=sg,og[pg++]=qg,qg=_e;var bt=rg;_e=sg;var St=32-oc(bt)-1;bt&=~(1<<St),xt+=1;var At=32-oc($)+St;if(30<At){var Ct=St-St%5;At=(bt&(1<<Ct)-1).toString(32),bt>>=Ct,St-=Ct,rg=1<<32-oc($)+St|xt<<St|bt,sg=At+_e}else rg=1<<At|xt<<St|bt,sg=_e}function vg(_e){_e.return!==null&&(tg(_e,1),ug(_e,1,0))}function wg(_e){for(;_e===mg;)mg=kg[--lg],kg[lg]=null,ng=kg[--lg],kg[lg]=null;for(;_e===qg;)qg=og[--pg],og[pg]=null,sg=og[--pg],og[pg]=null,rg=og[--pg],og[pg]=null}var xg=null,yg=null,I$4=!1,zg=null;function Ag(_e,$){var xt=Bg(5,null,null,0);xt.elementType="DELETED",xt.stateNode=$,xt.return=_e,$=_e.deletions,$===null?(_e.deletions=[xt],_e.flags|=16):$.push(xt)}function Cg(_e,$){switch(_e.tag){case 5:var xt=_e.type;return $=$.nodeType!==1||xt.toLowerCase()!==$.nodeName.toLowerCase()?null:$,$!==null?(_e.stateNode=$,xg=_e,yg=Lf($.firstChild),!0):!1;case 6:return $=_e.pendingProps===""||$.nodeType!==3?null:$,$!==null?(_e.stateNode=$,xg=_e,yg=null,!0):!1;case 13:return $=$.nodeType!==8?null:$,$!==null?(xt=qg!==null?{id:rg,overflow:sg}:null,_e.memoizedState={dehydrated:$,treeContext:xt,retryLane:1073741824},xt=Bg(18,null,null,0),xt.stateNode=$,xt.return=_e,_e.child=xt,xg=_e,yg=null,!0):!1;default:return!1}}function Dg(_e){return(_e.mode&1)!==0&&(_e.flags&128)===0}function Eg(_e){if(I$4){var $=yg;if($){var xt=$;if(!Cg(_e,$)){if(Dg(_e))throw Error(p$4(418));$=Lf(xt.nextSibling);var bt=xg;$&&Cg(_e,$)?Ag(bt,xt):(_e.flags=_e.flags&-4097|2,I$4=!1,xg=_e)}}else{if(Dg(_e))throw Error(p$4(418));_e.flags=_e.flags&-4097|2,I$4=!1,xg=_e}}}function Fg(_e){for(_e=_e.return;_e!==null&&_e.tag!==5&&_e.tag!==3&&_e.tag!==13;)_e=_e.return;xg=_e}function Gg(_e){if(_e!==xg)return!1;if(!I$4)return Fg(_e),I$4=!0,!1;var $;if(($=_e.tag!==3)&&!($=_e.tag!==5)&&($=_e.type,$=$!=="head"&&$!=="body"&&!Ef(_e.type,_e.memoizedProps)),$&&($=yg)){if(Dg(_e))throw Hg(),Error(p$4(418));for(;$;)Ag(_e,$),$=Lf($.nextSibling)}if(Fg(_e),_e.tag===13){if(_e=_e.memoizedState,_e=_e!==null?_e.dehydrated:null,!_e)throw Error(p$4(317));e:{for(_e=_e.nextSibling,$=0;_e;){if(_e.nodeType===8){var xt=_e.data;if(xt==="/$"){if($===0){yg=Lf(_e.nextSibling);break e}$--}else xt!=="$"&&xt!=="$!"&&xt!=="$?"||$++}_e=_e.nextSibling}yg=null}}else yg=xg?Lf(_e.stateNode.nextSibling):null;return!0}function Hg(){for(var _e=yg;_e;)_e=Lf(_e.nextSibling)}function Ig(){yg=xg=null,I$4=!1}function Jg(_e){zg===null?zg=[_e]:zg.push(_e)}var Kg=ua.ReactCurrentBatchConfig;function Lg(_e,$,xt){if(_e=xt.ref,_e!==null&&typeof _e!="function"&&typeof _e!="object"){if(xt._owner){if(xt=xt._owner,xt){if(xt.tag!==1)throw Error(p$4(309));var bt=xt.stateNode}if(!bt)throw Error(p$4(147,_e));var St=bt,At=""+_e;return $!==null&&$.ref!==null&&typeof $.ref=="function"&&$.ref._stringRef===At?$.ref:($=function(Ct){var Et=St.refs;Ct===null?delete Et[At]:Et[At]=Ct},$._stringRef=At,$)}if(typeof _e!="string")throw Error(p$4(284));if(!xt._owner)throw Error(p$4(290,_e))}return _e}function Mg(_e,$){throw _e=Object.prototype.toString.call($),Error(p$4(31,_e==="[object Object]"?"object with keys {"+Object.keys($).join(", ")+"}":_e))}function Ng(_e){var $=_e._init;return $(_e._payload)}function Og(_e){function $(Lt,$t){if(_e){var Ot=Lt.deletions;Ot===null?(Lt.deletions=[$t],Lt.flags|=16):Ot.push($t)}}function xt(Lt,$t){if(!_e)return null;for(;$t!==null;)$(Lt,$t),$t=$t.sibling;return null}function bt(Lt,$t){for(Lt=new Map;$t!==null;)$t.key!==null?Lt.set($t.key,$t):Lt.set($t.index,$t),$t=$t.sibling;return Lt}function St(Lt,$t){return Lt=Pg(Lt,$t),Lt.index=0,Lt.sibling=null,Lt}function At(Lt,$t,Ot){return Lt.index=Ot,_e?(Ot=Lt.alternate,Ot!==null?(Ot=Ot.index,Ot<$t?(Lt.flags|=2,$t):Ot):(Lt.flags|=2,$t)):(Lt.flags|=1048576,$t)}function Ct(Lt){return _e&&Lt.alternate===null&&(Lt.flags|=2),Lt}function Et(Lt,$t,Ot,jt){return $t===null||$t.tag!==6?($t=Qg(Ot,Lt.mode,jt),$t.return=Lt,$t):($t=St($t,Ot),$t.return=Lt,$t)}function Pt(Lt,$t,Ot,jt){var Rt=Ot.type;return Rt===ya?kt(Lt,$t,Ot.props.children,jt,Ot.key):$t!==null&&($t.elementType===Rt||typeof Rt=="object"&&Rt!==null&&Rt.$$typeof===Ha&&Ng(Rt)===$t.type)?(jt=St($t,Ot.props),jt.ref=Lg(Lt,$t,Ot),jt.return=Lt,jt):(jt=Rg(Ot.type,Ot.key,Ot.props,null,Lt.mode,jt),jt.ref=Lg(Lt,$t,Ot),jt.return=Lt,jt)}function wt(Lt,$t,Ot,jt){return $t===null||$t.tag!==4||$t.stateNode.containerInfo!==Ot.containerInfo||$t.stateNode.implementation!==Ot.implementation?($t=Sg(Ot,Lt.mode,jt),$t.return=Lt,$t):($t=St($t,Ot.children||[]),$t.return=Lt,$t)}function kt(Lt,$t,Ot,jt,Rt){return $t===null||$t.tag!==7?($t=Tg(Ot,Lt.mode,jt,Rt),$t.return=Lt,$t):($t=St($t,Ot),$t.return=Lt,$t)}function _t(Lt,$t,Ot){if(typeof $t=="string"&&$t!==""||typeof $t=="number")return $t=Qg(""+$t,Lt.mode,Ot),$t.return=Lt,$t;if(typeof $t=="object"&&$t!==null){switch($t.$$typeof){case va:return Ot=Rg($t.type,$t.key,$t.props,null,Lt.mode,Ot),Ot.ref=Lg(Lt,null,$t),Ot.return=Lt,Ot;case wa:return $t=Sg($t,Lt.mode,Ot),$t.return=Lt,$t;case Ha:var jt=$t._init;return _t(Lt,jt($t._payload),Ot)}if(eb($t)||Ka($t))return $t=Tg($t,Lt.mode,Ot,null),$t.return=Lt,$t;Mg(Lt,$t)}return null}function ht(Lt,$t,Ot,jt){var Rt=$t!==null?$t.key:null;if(typeof Ot=="string"&&Ot!==""||typeof Ot=="number")return Rt!==null?null:Et(Lt,$t,""+Ot,jt);if(typeof Ot=="object"&&Ot!==null){switch(Ot.$$typeof){case va:return Ot.key===Rt?Pt(Lt,$t,Ot,jt):null;case wa:return Ot.key===Rt?wt(Lt,$t,Ot,jt):null;case Ha:return Rt=Ot._init,ht(Lt,$t,Rt(Ot._payload),jt)}if(eb(Ot)||Ka(Ot))return Rt!==null?null:kt(Lt,$t,Ot,jt,null);Mg(Lt,Ot)}return null}function vt(Lt,$t,Ot,jt,Rt){if(typeof jt=="string"&&jt!==""||typeof jt=="number")return Lt=Lt.get(Ot)||null,Et($t,Lt,""+jt,Rt);if(typeof jt=="object"&&jt!==null){switch(jt.$$typeof){case va:return Lt=Lt.get(jt.key===null?Ot:jt.key)||null,Pt($t,Lt,jt,Rt);case wa:return Lt=Lt.get(jt.key===null?Ot:jt.key)||null,wt($t,Lt,jt,Rt);case Ha:var Kt=jt._init;return vt(Lt,$t,Ot,Kt(jt._payload),Rt)}if(eb(jt)||Ka(jt))return Lt=Lt.get(Ot)||null,kt($t,Lt,jt,Rt,null);Mg($t,jt)}return null}function Ft(Lt,$t,Ot,jt){for(var Rt=null,Kt=null,Bt=$t,Gt=$t=0,en=null;Bt!==null&&Gt<Ot.length;Gt++){Bt.index>Gt?(en=Bt,Bt=null):en=Bt.sibling;var hn=ht(Lt,Bt,Ot[Gt],jt);if(hn===null){Bt===null&&(Bt=en);break}_e&&Bt&&hn.alternate===null&&$(Lt,Bt),$t=At(hn,$t,Gt),Kt===null?Rt=hn:Kt.sibling=hn,Kt=hn,Bt=en}if(Gt===Ot.length)return xt(Lt,Bt),I$4&&tg(Lt,Gt),Rt;if(Bt===null){for(;Gt<Ot.length;Gt++)Bt=_t(Lt,Ot[Gt],jt),Bt!==null&&($t=At(Bt,$t,Gt),Kt===null?Rt=Bt:Kt.sibling=Bt,Kt=Bt);return I$4&&tg(Lt,Gt),Rt}for(Bt=bt(Lt,Bt);Gt<Ot.length;Gt++)en=vt(Bt,Lt,Gt,Ot[Gt],jt),en!==null&&(_e&&en.alternate!==null&&Bt.delete(en.key===null?Gt:en.key),$t=At(en,$t,Gt),Kt===null?Rt=en:Kt.sibling=en,Kt=en);return _e&&Bt.forEach(function(tn){return $(Lt,tn)}),I$4&&tg(Lt,Gt),Rt}function Vt(Lt,$t,Ot,jt){var Rt=Ka(Ot);if(typeof Rt!="function")throw Error(p$4(150));if(Ot=Rt.call(Ot),Ot==null)throw Error(p$4(151));for(var Kt=Rt=null,Bt=$t,Gt=$t=0,en=null,hn=Ot.next();Bt!==null&&!hn.done;Gt++,hn=Ot.next()){Bt.index>Gt?(en=Bt,Bt=null):en=Bt.sibling;var tn=ht(Lt,Bt,hn.value,jt);if(tn===null){Bt===null&&(Bt=en);break}_e&&Bt&&tn.alternate===null&&$(Lt,Bt),$t=At(tn,$t,Gt),Kt===null?Rt=tn:Kt.sibling=tn,Kt=tn,Bt=en}if(hn.done)return xt(Lt,Bt),I$4&&tg(Lt,Gt),Rt;if(Bt===null){for(;!hn.done;Gt++,hn=Ot.next())hn=_t(Lt,hn.value,jt),hn!==null&&($t=At(hn,$t,Gt),Kt===null?Rt=hn:Kt.sibling=hn,Kt=hn);return I$4&&tg(Lt,Gt),Rt}for(Bt=bt(Lt,Bt);!hn.done;Gt++,hn=Ot.next())hn=vt(Bt,Lt,Gt,hn.value,jt),hn!==null&&(_e&&hn.alternate!==null&&Bt.delete(hn.key===null?Gt:hn.key),$t=At(hn,$t,Gt),Kt===null?Rt=hn:Kt.sibling=hn,Kt=hn);return _e&&Bt.forEach(function(gn){return $(Lt,gn)}),I$4&&tg(Lt,Gt),Rt}function qt(Lt,$t,Ot,jt){if(typeof Ot=="object"&&Ot!==null&&Ot.type===ya&&Ot.key===null&&(Ot=Ot.props.children),typeof Ot=="object"&&Ot!==null){switch(Ot.$$typeof){case va:e:{for(var Rt=Ot.key,Kt=$t;Kt!==null;){if(Kt.key===Rt){if(Rt=Ot.type,Rt===ya){if(Kt.tag===7){xt(Lt,Kt.sibling),$t=St(Kt,Ot.props.children),$t.return=Lt,Lt=$t;break e}}else if(Kt.elementType===Rt||typeof Rt=="object"&&Rt!==null&&Rt.$$typeof===Ha&&Ng(Rt)===Kt.type){xt(Lt,Kt.sibling),$t=St(Kt,Ot.props),$t.ref=Lg(Lt,Kt,Ot),$t.return=Lt,Lt=$t;break e}xt(Lt,Kt);break}else $(Lt,Kt);Kt=Kt.sibling}Ot.type===ya?($t=Tg(Ot.props.children,Lt.mode,jt,Ot.key),$t.return=Lt,Lt=$t):(jt=Rg(Ot.type,Ot.key,Ot.props,null,Lt.mode,jt),jt.ref=Lg(Lt,$t,Ot),jt.return=Lt,Lt=jt)}return Ct(Lt);case wa:e:{for(Kt=Ot.key;$t!==null;){if($t.key===Kt)if($t.tag===4&&$t.stateNode.containerInfo===Ot.containerInfo&&$t.stateNode.implementation===Ot.implementation){xt(Lt,$t.sibling),$t=St($t,Ot.children||[]),$t.return=Lt,Lt=$t;break e}else{xt(Lt,$t);break}else $(Lt,$t);$t=$t.sibling}$t=Sg(Ot,Lt.mode,jt),$t.return=Lt,Lt=$t}return Ct(Lt);case Ha:return Kt=Ot._init,qt(Lt,$t,Kt(Ot._payload),jt)}if(eb(Ot))return Ft(Lt,$t,Ot,jt);if(Ka(Ot))return Vt(Lt,$t,Ot,jt);Mg(Lt,Ot)}return typeof Ot=="string"&&Ot!==""||typeof Ot=="number"?(Ot=""+Ot,$t!==null&&$t.tag===6?(xt(Lt,$t.sibling),$t=St($t,Ot),$t.return=Lt,Lt=$t):(xt(Lt,$t),$t=Qg(Ot,Lt.mode,jt),$t.return=Lt,Lt=$t),Ct(Lt)):xt(Lt,$t)}return qt}var Ug=Og(!0),Vg=Og(!1),Wg=Uf(null),Xg=null,Yg=null,Zg=null;function $g(){Zg=Yg=Xg=null}function ah(_e){var $=Wg.current;E$1(Wg),_e._currentValue=$}function bh(_e,$,xt){for(;_e!==null;){var bt=_e.alternate;if((_e.childLanes&$)!==$?(_e.childLanes|=$,bt!==null&&(bt.childLanes|=$)):bt!==null&&(bt.childLanes&$)!==$&&(bt.childLanes|=$),_e===xt)break;_e=_e.return}}function ch(_e,$){Xg=_e,Zg=Yg=null,_e=_e.dependencies,_e!==null&&_e.firstContext!==null&&(_e.lanes&$&&(dh=!0),_e.firstContext=null)}function eh(_e){var $=_e._currentValue;if(Zg!==_e)if(_e={context:_e,memoizedValue:$,next:null},Yg===null){if(Xg===null)throw Error(p$4(308));Yg=_e,Xg.dependencies={lanes:0,firstContext:_e}}else Yg=Yg.next=_e;return $}var fh=null;function gh(_e){fh===null?fh=[_e]:fh.push(_e)}function hh(_e,$,xt,bt){var St=$.interleaved;return St===null?(xt.next=xt,gh($)):(xt.next=St.next,St.next=xt),$.interleaved=xt,ih(_e,bt)}function ih(_e,$){_e.lanes|=$;var xt=_e.alternate;for(xt!==null&&(xt.lanes|=$),xt=_e,_e=_e.return;_e!==null;)_e.childLanes|=$,xt=_e.alternate,xt!==null&&(xt.childLanes|=$),xt=_e,_e=_e.return;return xt.tag===3?xt.stateNode:null}var jh=!1;function kh(_e){_e.updateQueue={baseState:_e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function lh(_e,$){_e=_e.updateQueue,$.updateQueue===_e&&($.updateQueue={baseState:_e.baseState,firstBaseUpdate:_e.firstBaseUpdate,lastBaseUpdate:_e.lastBaseUpdate,shared:_e.shared,effects:_e.effects})}function mh(_e,$){return{eventTime:_e,lane:$,tag:0,payload:null,callback:null,next:null}}function nh(_e,$,xt){var bt=_e.updateQueue;if(bt===null)return null;if(bt=bt.shared,K&2){var St=bt.pending;return St===null?$.next=$:($.next=St.next,St.next=$),bt.pending=$,ih(_e,xt)}return St=bt.interleaved,St===null?($.next=$,gh(bt)):($.next=St.next,St.next=$),bt.interleaved=$,ih(_e,xt)}function oh(_e,$,xt){if($=$.updateQueue,$!==null&&($=$.shared,(xt&4194240)!==0)){var bt=$.lanes;bt&=_e.pendingLanes,xt|=bt,$.lanes=xt,Cc(_e,xt)}}function ph(_e,$){var xt=_e.updateQueue,bt=_e.alternate;if(bt!==null&&(bt=bt.updateQueue,xt===bt)){var St=null,At=null;if(xt=xt.firstBaseUpdate,xt!==null){do{var Ct={eventTime:xt.eventTime,lane:xt.lane,tag:xt.tag,payload:xt.payload,callback:xt.callback,next:null};At===null?St=At=Ct:At=At.next=Ct,xt=xt.next}while(xt!==null);At===null?St=At=$:At=At.next=$}else St=At=$;xt={baseState:bt.baseState,firstBaseUpdate:St,lastBaseUpdate:At,shared:bt.shared,effects:bt.effects},_e.updateQueue=xt;return}_e=xt.lastBaseUpdate,_e===null?xt.firstBaseUpdate=$:_e.next=$,xt.lastBaseUpdate=$}function qh(_e,$,xt,bt){var St=_e.updateQueue;jh=!1;var At=St.firstBaseUpdate,Ct=St.lastBaseUpdate,Et=St.shared.pending;if(Et!==null){St.shared.pending=null;var Pt=Et,wt=Pt.next;Pt.next=null,Ct===null?At=wt:Ct.next=wt,Ct=Pt;var kt=_e.alternate;kt!==null&&(kt=kt.updateQueue,Et=kt.lastBaseUpdate,Et!==Ct&&(Et===null?kt.firstBaseUpdate=wt:Et.next=wt,kt.lastBaseUpdate=Pt))}if(At!==null){var _t=St.baseState;Ct=0,kt=wt=Pt=null,Et=At;do{var ht=Et.lane,vt=Et.eventTime;if((bt&ht)===ht){kt!==null&&(kt=kt.next={eventTime:vt,lane:0,tag:Et.tag,payload:Et.payload,callback:Et.callback,next:null});e:{var Ft=_e,Vt=Et;switch(ht=$,vt=xt,Vt.tag){case 1:if(Ft=Vt.payload,typeof Ft=="function"){_t=Ft.call(vt,_t,ht);break e}_t=Ft;break e;case 3:Ft.flags=Ft.flags&-65537|128;case 0:if(Ft=Vt.payload,ht=typeof Ft=="function"?Ft.call(vt,_t,ht):Ft,ht==null)break e;_t=A$3({},_t,ht);break e;case 2:jh=!0}}Et.callback!==null&&Et.lane!==0&&(_e.flags|=64,ht=St.effects,ht===null?St.effects=[Et]:ht.push(Et))}else vt={eventTime:vt,lane:ht,tag:Et.tag,payload:Et.payload,callback:Et.callback,next:null},kt===null?(wt=kt=vt,Pt=_t):kt=kt.next=vt,Ct|=ht;if(Et=Et.next,Et===null){if(Et=St.shared.pending,Et===null)break;ht=Et,Et=ht.next,ht.next=null,St.lastBaseUpdate=ht,St.shared.pending=null}}while(!0);if(kt===null&&(Pt=_t),St.baseState=Pt,St.firstBaseUpdate=wt,St.lastBaseUpdate=kt,$=St.shared.interleaved,$!==null){St=$;do Ct|=St.lane,St=St.next;while(St!==$)}else At===null&&(St.shared.lanes=0);rh|=Ct,_e.lanes=Ct,_e.memoizedState=_t}}function sh(_e,$,xt){if(_e=$.effects,$.effects=null,_e!==null)for($=0;$<_e.length;$++){var bt=_e[$],St=bt.callback;if(St!==null){if(bt.callback=null,bt=xt,typeof St!="function")throw Error(p$4(191,St));St.call(bt)}}}var th={},uh=Uf(th),vh$1=Uf(th),wh=Uf(th);function xh(_e){if(_e===th)throw Error(p$4(174));return _e}function yh(_e,$){switch(G$2(wh,$),G$2(vh$1,_e),G$2(uh,th),_e=$.nodeType,_e){case 9:case 11:$=($=$.documentElement)?$.namespaceURI:lb(null,"");break;default:_e=_e===8?$.parentNode:$,$=_e.namespaceURI||null,_e=_e.tagName,$=lb($,_e)}E$1(uh),G$2(uh,$)}function zh(){E$1(uh),E$1(vh$1),E$1(wh)}function Ah(_e){xh(wh.current);var $=xh(uh.current),xt=lb($,_e.type);$!==xt&&(G$2(vh$1,_e),G$2(uh,xt))}function Bh(_e){vh$1.current===_e&&(E$1(uh),E$1(vh$1))}var L$1=Uf(0);function Ch(_e){for(var $=_e;$!==null;){if($.tag===13){var xt=$.memoizedState;if(xt!==null&&(xt=xt.dehydrated,xt===null||xt.data==="$?"||xt.data==="$!"))return $}else if($.tag===19&&$.memoizedProps.revealOrder!==void 0){if($.flags&128)return $}else if($.child!==null){$.child.return=$,$=$.child;continue}if($===_e)break;for(;$.sibling===null;){if($.return===null||$.return===_e)return null;$=$.return}$.sibling.return=$.return,$=$.sibling}return null}var Dh=[];function Eh(){for(var _e=0;_e<Dh.length;_e++)Dh[_e]._workInProgressVersionPrimary=null;Dh.length=0}var Fh=ua.ReactCurrentDispatcher,Gh=ua.ReactCurrentBatchConfig,Hh=0,M$3=null,N$3=null,O$2=null,Ih=!1,Jh=!1,Kh=0,Lh=0;function P$3(){throw Error(p$4(321))}function Mh(_e,$){if($===null)return!1;for(var xt=0;xt<$.length&&xt<_e.length;xt++)if(!He(_e[xt],$[xt]))return!1;return!0}function Nh(_e,$,xt,bt,St,At){if(Hh=At,M$3=$,$.memoizedState=null,$.updateQueue=null,$.lanes=0,Fh.current=_e===null||_e.memoizedState===null?Oh:Ph,_e=xt(bt,St),Jh){At=0;do{if(Jh=!1,Kh=0,25<=At)throw Error(p$4(301));At+=1,O$2=N$3=null,$.updateQueue=null,Fh.current=Qh,_e=xt(bt,St)}while(Jh)}if(Fh.current=Rh,$=N$3!==null&&N$3.next!==null,Hh=0,O$2=N$3=M$3=null,Ih=!1,$)throw Error(p$4(300));return _e}function Sh(){var _e=Kh!==0;return Kh=0,_e}function Th(){var _e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return O$2===null?M$3.memoizedState=O$2=_e:O$2=O$2.next=_e,O$2}function Uh(){if(N$3===null){var _e=M$3.alternate;_e=_e!==null?_e.memoizedState:null}else _e=N$3.next;var $=O$2===null?M$3.memoizedState:O$2.next;if($!==null)O$2=$,N$3=_e;else{if(_e===null)throw Error(p$4(310));N$3=_e,_e={memoizedState:N$3.memoizedState,baseState:N$3.baseState,baseQueue:N$3.baseQueue,queue:N$3.queue,next:null},O$2===null?M$3.memoizedState=O$2=_e:O$2=O$2.next=_e}return O$2}function Vh(_e,$){return typeof $=="function"?$(_e):$}function Wh(_e){var $=Uh(),xt=$.queue;if(xt===null)throw Error(p$4(311));xt.lastRenderedReducer=_e;var bt=N$3,St=bt.baseQueue,At=xt.pending;if(At!==null){if(St!==null){var Ct=St.next;St.next=At.next,At.next=Ct}bt.baseQueue=St=At,xt.pending=null}if(St!==null){At=St.next,bt=bt.baseState;var Et=Ct=null,Pt=null,wt=At;do{var kt=wt.lane;if((Hh&kt)===kt)Pt!==null&&(Pt=Pt.next={lane:0,action:wt.action,hasEagerState:wt.hasEagerState,eagerState:wt.eagerState,next:null}),bt=wt.hasEagerState?wt.eagerState:_e(bt,wt.action);else{var _t={lane:kt,action:wt.action,hasEagerState:wt.hasEagerState,eagerState:wt.eagerState,next:null};Pt===null?(Et=Pt=_t,Ct=bt):Pt=Pt.next=_t,M$3.lanes|=kt,rh|=kt}wt=wt.next}while(wt!==null&&wt!==At);Pt===null?Ct=bt:Pt.next=Et,He(bt,$.memoizedState)||(dh=!0),$.memoizedState=bt,$.baseState=Ct,$.baseQueue=Pt,xt.lastRenderedState=bt}if(_e=xt.interleaved,_e!==null){St=_e;do At=St.lane,M$3.lanes|=At,rh|=At,St=St.next;while(St!==_e)}else St===null&&(xt.lanes=0);return[$.memoizedState,xt.dispatch]}function Xh(_e){var $=Uh(),xt=$.queue;if(xt===null)throw Error(p$4(311));xt.lastRenderedReducer=_e;var bt=xt.dispatch,St=xt.pending,At=$.memoizedState;if(St!==null){xt.pending=null;var Ct=St=St.next;do At=_e(At,Ct.action),Ct=Ct.next;while(Ct!==St);He(At,$.memoizedState)||(dh=!0),$.memoizedState=At,$.baseQueue===null&&($.baseState=At),xt.lastRenderedState=At}return[At,bt]}function Yh(){}function Zh(_e,$){var xt=M$3,bt=Uh(),St=$(),At=!He(bt.memoizedState,St);if(At&&(bt.memoizedState=St,dh=!0),bt=bt.queue,$h(ai.bind(null,xt,bt,_e),[_e]),bt.getSnapshot!==$||At||O$2!==null&&O$2.memoizedState.tag&1){if(xt.flags|=2048,bi(9,ci.bind(null,xt,bt,St,$),void 0,null),Q===null)throw Error(p$4(349));Hh&30||di(xt,$,St)}return St}function di(_e,$,xt){_e.flags|=16384,_e={getSnapshot:$,value:xt},$=M$3.updateQueue,$===null?($={lastEffect:null,stores:null},M$3.updateQueue=$,$.stores=[_e]):(xt=$.stores,xt===null?$.stores=[_e]:xt.push(_e))}function ci(_e,$,xt,bt){$.value=xt,$.getSnapshot=bt,ei($)&&fi(_e)}function ai(_e,$,xt){return xt(function(){ei($)&&fi(_e)})}function ei(_e){var $=_e.getSnapshot;_e=_e.value;try{var xt=$();return!He(_e,xt)}catch{return!0}}function fi(_e){var $=ih(_e,1);$!==null&&gi($,_e,1,-1)}function hi(_e){var $=Th();return typeof _e=="function"&&(_e=_e()),$.memoizedState=$.baseState=_e,_e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Vh,lastRenderedState:_e},$.queue=_e,_e=_e.dispatch=ii.bind(null,M$3,_e),[$.memoizedState,_e]}function bi(_e,$,xt,bt){return _e={tag:_e,create:$,destroy:xt,deps:bt,next:null},$=M$3.updateQueue,$===null?($={lastEffect:null,stores:null},M$3.updateQueue=$,$.lastEffect=_e.next=_e):(xt=$.lastEffect,xt===null?$.lastEffect=_e.next=_e:(bt=xt.next,xt.next=_e,_e.next=bt,$.lastEffect=_e)),_e}function ji(){return Uh().memoizedState}function ki(_e,$,xt,bt){var St=Th();M$3.flags|=_e,St.memoizedState=bi(1|$,xt,void 0,bt===void 0?null:bt)}function li(_e,$,xt,bt){var St=Uh();bt=bt===void 0?null:bt;var At=void 0;if(N$3!==null){var Ct=N$3.memoizedState;if(At=Ct.destroy,bt!==null&&Mh(bt,Ct.deps)){St.memoizedState=bi($,xt,At,bt);return}}M$3.flags|=_e,St.memoizedState=bi(1|$,xt,At,bt)}function mi(_e,$){return ki(8390656,8,_e,$)}function $h(_e,$){return li(2048,8,_e,$)}function ni(_e,$){return li(4,2,_e,$)}function oi(_e,$){return li(4,4,_e,$)}function pi(_e,$){if(typeof $=="function")return _e=_e(),$(_e),function(){$(null)};if($!=null)return _e=_e(),$.current=_e,function(){$.current=null}}function qi(_e,$,xt){return xt=xt!=null?xt.concat([_e]):null,li(4,4,pi.bind(null,$,_e),xt)}function ri(){}function si(_e,$){var xt=Uh();$=$===void 0?null:$;var bt=xt.memoizedState;return bt!==null&&$!==null&&Mh($,bt[1])?bt[0]:(xt.memoizedState=[_e,$],_e)}function ti(_e,$){var xt=Uh();$=$===void 0?null:$;var bt=xt.memoizedState;return bt!==null&&$!==null&&Mh($,bt[1])?bt[0]:(_e=_e(),xt.memoizedState=[_e,$],_e)}function ui(_e,$,xt){return Hh&21?(He(xt,$)||(xt=yc(),M$3.lanes|=xt,rh|=xt,_e.baseState=!0),$):(_e.baseState&&(_e.baseState=!1,dh=!0),_e.memoizedState=xt)}function vi(_e,$){var xt=C$1;C$1=xt!==0&&4>xt?xt:4,_e(!0);var bt=Gh.transition;Gh.transition={};try{_e(!1),$()}finally{C$1=xt,Gh.transition=bt}}function wi(){return Uh().memoizedState}function xi(_e,$,xt){var bt=yi(_e);if(xt={lane:bt,action:xt,hasEagerState:!1,eagerState:null,next:null},zi(_e))Ai($,xt);else if(xt=hh(_e,$,xt,bt),xt!==null){var St=R$1();gi(xt,_e,bt,St),Bi(xt,$,bt)}}function ii(_e,$,xt){var bt=yi(_e),St={lane:bt,action:xt,hasEagerState:!1,eagerState:null,next:null};if(zi(_e))Ai($,St);else{var At=_e.alternate;if(_e.lanes===0&&(At===null||At.lanes===0)&&(At=$.lastRenderedReducer,At!==null))try{var Ct=$.lastRenderedState,Et=At(Ct,xt);if(St.hasEagerState=!0,St.eagerState=Et,He(Et,Ct)){var Pt=$.interleaved;Pt===null?(St.next=St,gh($)):(St.next=Pt.next,Pt.next=St),$.interleaved=St;return}}catch{}finally{}xt=hh(_e,$,St,bt),xt!==null&&(St=R$1(),gi(xt,_e,bt,St),Bi(xt,$,bt))}}function zi(_e){var $=_e.alternate;return _e===M$3||$!==null&&$===M$3}function Ai(_e,$){Jh=Ih=!0;var xt=_e.pending;xt===null?$.next=$:($.next=xt.next,xt.next=$),_e.pending=$}function Bi(_e,$,xt){if(xt&4194240){var bt=$.lanes;bt&=_e.pendingLanes,xt|=bt,$.lanes=xt,Cc(_e,xt)}}var Rh={readContext:eh,useCallback:P$3,useContext:P$3,useEffect:P$3,useImperativeHandle:P$3,useInsertionEffect:P$3,useLayoutEffect:P$3,useMemo:P$3,useReducer:P$3,useRef:P$3,useState:P$3,useDebugValue:P$3,useDeferredValue:P$3,useTransition:P$3,useMutableSource:P$3,useSyncExternalStore:P$3,useId:P$3,unstable_isNewReconciler:!1},Oh={readContext:eh,useCallback:function(_e,$){return Th().memoizedState=[_e,$===void 0?null:$],_e},useContext:eh,useEffect:mi,useImperativeHandle:function(_e,$,xt){return xt=xt!=null?xt.concat([_e]):null,ki(4194308,4,pi.bind(null,$,_e),xt)},useLayoutEffect:function(_e,$){return ki(4194308,4,_e,$)},useInsertionEffect:function(_e,$){return ki(4,2,_e,$)},useMemo:function(_e,$){var xt=Th();return $=$===void 0?null:$,_e=_e(),xt.memoizedState=[_e,$],_e},useReducer:function(_e,$,xt){var bt=Th();return $=xt!==void 0?xt($):$,bt.memoizedState=bt.baseState=$,_e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:_e,lastRenderedState:$},bt.queue=_e,_e=_e.dispatch=xi.bind(null,M$3,_e),[bt.memoizedState,_e]},useRef:function(_e){var $=Th();return _e={current:_e},$.memoizedState=_e},useState:hi,useDebugValue:ri,useDeferredValue:function(_e){return Th().memoizedState=_e},useTransition:function(){var _e=hi(!1),$=_e[0];return _e=vi.bind(null,_e[1]),Th().memoizedState=_e,[$,_e]},useMutableSource:function(){},useSyncExternalStore:function(_e,$,xt){var bt=M$3,St=Th();if(I$4){if(xt===void 0)throw Error(p$4(407));xt=xt()}else{if(xt=$(),Q===null)throw Error(p$4(349));Hh&30||di(bt,$,xt)}St.memoizedState=xt;var At={value:xt,getSnapshot:$};return St.queue=At,mi(ai.bind(null,bt,At,_e),[_e]),bt.flags|=2048,bi(9,ci.bind(null,bt,At,xt,$),void 0,null),xt},useId:function(){var _e=Th(),$=Q.identifierPrefix;if(I$4){var xt=sg,bt=rg;xt=(bt&~(1<<32-oc(bt)-1)).toString(32)+xt,$=":"+$+"R"+xt,xt=Kh++,0<xt&&($+="H"+xt.toString(32)),$+=":"}else xt=Lh++,$=":"+$+"r"+xt.toString(32)+":";return _e.memoizedState=$},unstable_isNewReconciler:!1},Ph={readContext:eh,useCallback:si,useContext:eh,useEffect:$h,useImperativeHandle:qi,useInsertionEffect:ni,useLayoutEffect:oi,useMemo:ti,useReducer:Wh,useRef:ji,useState:function(){return Wh(Vh)},useDebugValue:ri,useDeferredValue:function(_e){var $=Uh();return ui($,N$3.memoizedState,_e)},useTransition:function(){var _e=Wh(Vh)[0],$=Uh().memoizedState;return[_e,$]},useMutableSource:Yh,useSyncExternalStore:Zh,useId:wi,unstable_isNewReconciler:!1},Qh={readContext:eh,useCallback:si,useContext:eh,useEffect:$h,useImperativeHandle:qi,useInsertionEffect:ni,useLayoutEffect:oi,useMemo:ti,useReducer:Xh,useRef:ji,useState:function(){return Xh(Vh)},useDebugValue:ri,useDeferredValue:function(_e){var $=Uh();return N$3===null?$.memoizedState=_e:ui($,N$3.memoizedState,_e)},useTransition:function(){var _e=Xh(Vh)[0],$=Uh().memoizedState;return[_e,$]},useMutableSource:Yh,useSyncExternalStore:Zh,useId:wi,unstable_isNewReconciler:!1};function Ci(_e,$){if(_e&&_e.defaultProps){$=A$3({},$),_e=_e.defaultProps;for(var xt in _e)$[xt]===void 0&&($[xt]=_e[xt]);return $}return $}function Di(_e,$,xt,bt){$=_e.memoizedState,xt=xt(bt,$),xt=xt==null?$:A$3({},$,xt),_e.memoizedState=xt,_e.lanes===0&&(_e.updateQueue.baseState=xt)}var Ei={isMounted:function(_e){return(_e=_e._reactInternals)?Vb(_e)===_e:!1},enqueueSetState:function(_e,$,xt){_e=_e._reactInternals;var bt=R$1(),St=yi(_e),At=mh(bt,St);At.payload=$,xt!=null&&(At.callback=xt),$=nh(_e,At,St),$!==null&&(gi($,_e,St,bt),oh($,_e,St))},enqueueReplaceState:function(_e,$,xt){_e=_e._reactInternals;var bt=R$1(),St=yi(_e),At=mh(bt,St);At.tag=1,At.payload=$,xt!=null&&(At.callback=xt),$=nh(_e,At,St),$!==null&&(gi($,_e,St,bt),oh($,_e,St))},enqueueForceUpdate:function(_e,$){_e=_e._reactInternals;var xt=R$1(),bt=yi(_e),St=mh(xt,bt);St.tag=2,$!=null&&(St.callback=$),$=nh(_e,St,bt),$!==null&&(gi($,_e,bt,xt),oh($,_e,bt))}};function Fi(_e,$,xt,bt,St,At,Ct){return _e=_e.stateNode,typeof _e.shouldComponentUpdate=="function"?_e.shouldComponentUpdate(bt,At,Ct):$.prototype&&$.prototype.isPureReactComponent?!Ie(xt,bt)||!Ie(St,At):!0}function Gi(_e,$,xt){var bt=!1,St=Vf,At=$.contextType;return typeof At=="object"&&At!==null?At=eh(At):(St=Zf($)?Xf:H$2.current,bt=$.contextTypes,At=(bt=bt!=null)?Yf(_e,St):Vf),$=new $(xt,At),_e.memoizedState=$.state!==null&&$.state!==void 0?$.state:null,$.updater=Ei,_e.stateNode=$,$._reactInternals=_e,bt&&(_e=_e.stateNode,_e.__reactInternalMemoizedUnmaskedChildContext=St,_e.__reactInternalMemoizedMaskedChildContext=At),$}function Hi(_e,$,xt,bt){_e=$.state,typeof $.componentWillReceiveProps=="function"&&$.componentWillReceiveProps(xt,bt),typeof $.UNSAFE_componentWillReceiveProps=="function"&&$.UNSAFE_componentWillReceiveProps(xt,bt),$.state!==_e&&Ei.enqueueReplaceState($,$.state,null)}function Ii(_e,$,xt,bt){var St=_e.stateNode;St.props=xt,St.state=_e.memoizedState,St.refs={},kh(_e);var At=$.contextType;typeof At=="object"&&At!==null?St.context=eh(At):(At=Zf($)?Xf:H$2.current,St.context=Yf(_e,At)),St.state=_e.memoizedState,At=$.getDerivedStateFromProps,typeof At=="function"&&(Di(_e,$,At,xt),St.state=_e.memoizedState),typeof $.getDerivedStateFromProps=="function"||typeof St.getSnapshotBeforeUpdate=="function"||typeof St.UNSAFE_componentWillMount!="function"&&typeof St.componentWillMount!="function"||($=St.state,typeof St.componentWillMount=="function"&&St.componentWillMount(),typeof St.UNSAFE_componentWillMount=="function"&&St.UNSAFE_componentWillMount(),$!==St.state&&Ei.enqueueReplaceState(St,St.state,null),qh(_e,xt,St,bt),St.state=_e.memoizedState),typeof St.componentDidMount=="function"&&(_e.flags|=4194308)}function Ji(_e,$){try{var xt="",bt=$;do xt+=Pa(bt),bt=bt.return;while(bt);var St=xt}catch(At){St=`
Error generating stack: `+At.message+`
`+At.stack}return{value:_e,source:$,stack:St,digest:null}}function Ki(_e,$,xt){return{value:_e,source:null,stack:xt??null,digest:$??null}}function Li(_e,$){try{console.error($.value)}catch(xt){setTimeout(function(){throw xt})}}var Mi=typeof WeakMap=="function"?WeakMap:Map;function Ni(_e,$,xt){xt=mh(-1,xt),xt.tag=3,xt.payload={element:null};var bt=$.value;return xt.callback=function(){Oi||(Oi=!0,Pi=bt),Li(_e,$)},xt}function Qi(_e,$,xt){xt=mh(-1,xt),xt.tag=3;var bt=_e.type.getDerivedStateFromError;if(typeof bt=="function"){var St=$.value;xt.payload=function(){return bt(St)},xt.callback=function(){Li(_e,$)}}var At=_e.stateNode;return At!==null&&typeof At.componentDidCatch=="function"&&(xt.callback=function(){Li(_e,$),typeof bt!="function"&&(Ri===null?Ri=new Set([this]):Ri.add(this));var Ct=$.stack;this.componentDidCatch($.value,{componentStack:Ct!==null?Ct:""})}),xt}function Si(_e,$,xt){var bt=_e.pingCache;if(bt===null){bt=_e.pingCache=new Mi;var St=new Set;bt.set($,St)}else St=bt.get($),St===void 0&&(St=new Set,bt.set($,St));St.has(xt)||(St.add(xt),_e=Ti.bind(null,_e,$,xt),$.then(_e,_e))}function Ui(_e){do{var $;if(($=_e.tag===13)&&($=_e.memoizedState,$=$!==null?$.dehydrated!==null:!0),$)return _e;_e=_e.return}while(_e!==null);return null}function Vi(_e,$,xt,bt,St){return _e.mode&1?(_e.flags|=65536,_e.lanes=St,_e):(_e===$?_e.flags|=65536:(_e.flags|=128,xt.flags|=131072,xt.flags&=-52805,xt.tag===1&&(xt.alternate===null?xt.tag=17:($=mh(-1,1),$.tag=2,nh(xt,$,1))),xt.lanes|=1),_e)}var Wi=ua.ReactCurrentOwner,dh=!1;function Xi(_e,$,xt,bt){$.child=_e===null?Vg($,null,xt,bt):Ug($,_e.child,xt,bt)}function Yi(_e,$,xt,bt,St){xt=xt.render;var At=$.ref;return ch($,St),bt=Nh(_e,$,xt,bt,At,St),xt=Sh(),_e!==null&&!dh?($.updateQueue=_e.updateQueue,$.flags&=-2053,_e.lanes&=~St,Zi(_e,$,St)):(I$4&&xt&&vg($),$.flags|=1,Xi(_e,$,bt,St),$.child)}function $i(_e,$,xt,bt,St){if(_e===null){var At=xt.type;return typeof At=="function"&&!aj(At)&&At.defaultProps===void 0&&xt.compare===null&&xt.defaultProps===void 0?($.tag=15,$.type=At,bj(_e,$,At,bt,St)):(_e=Rg(xt.type,null,bt,$,$.mode,St),_e.ref=$.ref,_e.return=$,$.child=_e)}if(At=_e.child,!(_e.lanes&St)){var Ct=At.memoizedProps;if(xt=xt.compare,xt=xt!==null?xt:Ie,xt(Ct,bt)&&_e.ref===$.ref)return Zi(_e,$,St)}return $.flags|=1,_e=Pg(At,bt),_e.ref=$.ref,_e.return=$,$.child=_e}function bj(_e,$,xt,bt,St){if(_e!==null){var At=_e.memoizedProps;if(Ie(At,bt)&&_e.ref===$.ref)if(dh=!1,$.pendingProps=bt=At,(_e.lanes&St)!==0)_e.flags&131072&&(dh=!0);else return $.lanes=_e.lanes,Zi(_e,$,St)}return cj(_e,$,xt,bt,St)}function dj(_e,$,xt){var bt=$.pendingProps,St=bt.children,At=_e!==null?_e.memoizedState:null;if(bt.mode==="hidden")if(!($.mode&1))$.memoizedState={baseLanes:0,cachePool:null,transitions:null},G$2(ej,fj),fj|=xt;else{if(!(xt&1073741824))return _e=At!==null?At.baseLanes|xt:xt,$.lanes=$.childLanes=1073741824,$.memoizedState={baseLanes:_e,cachePool:null,transitions:null},$.updateQueue=null,G$2(ej,fj),fj|=_e,null;$.memoizedState={baseLanes:0,cachePool:null,transitions:null},bt=At!==null?At.baseLanes:xt,G$2(ej,fj),fj|=bt}else At!==null?(bt=At.baseLanes|xt,$.memoizedState=null):bt=xt,G$2(ej,fj),fj|=bt;return Xi(_e,$,St,xt),$.child}function gj(_e,$){var xt=$.ref;(_e===null&&xt!==null||_e!==null&&_e.ref!==xt)&&($.flags|=512,$.flags|=2097152)}function cj(_e,$,xt,bt,St){var At=Zf(xt)?Xf:H$2.current;return At=Yf($,At),ch($,St),xt=Nh(_e,$,xt,bt,At,St),bt=Sh(),_e!==null&&!dh?($.updateQueue=_e.updateQueue,$.flags&=-2053,_e.lanes&=~St,Zi(_e,$,St)):(I$4&&bt&&vg($),$.flags|=1,Xi(_e,$,xt,St),$.child)}function hj(_e,$,xt,bt,St){if(Zf(xt)){var At=!0;cg($)}else At=!1;if(ch($,St),$.stateNode===null)ij(_e,$),Gi($,xt,bt),Ii($,xt,bt,St),bt=!0;else if(_e===null){var Ct=$.stateNode,Et=$.memoizedProps;Ct.props=Et;var Pt=Ct.context,wt=xt.contextType;typeof wt=="object"&&wt!==null?wt=eh(wt):(wt=Zf(xt)?Xf:H$2.current,wt=Yf($,wt));var kt=xt.getDerivedStateFromProps,_t=typeof kt=="function"||typeof Ct.getSnapshotBeforeUpdate=="function";_t||typeof Ct.UNSAFE_componentWillReceiveProps!="function"&&typeof Ct.componentWillReceiveProps!="function"||(Et!==bt||Pt!==wt)&&Hi($,Ct,bt,wt),jh=!1;var ht=$.memoizedState;Ct.state=ht,qh($,bt,Ct,St),Pt=$.memoizedState,Et!==bt||ht!==Pt||Wf.current||jh?(typeof kt=="function"&&(Di($,xt,kt,bt),Pt=$.memoizedState),(Et=jh||Fi($,xt,Et,bt,ht,Pt,wt))?(_t||typeof Ct.UNSAFE_componentWillMount!="function"&&typeof Ct.componentWillMount!="function"||(typeof Ct.componentWillMount=="function"&&Ct.componentWillMount(),typeof Ct.UNSAFE_componentWillMount=="function"&&Ct.UNSAFE_componentWillMount()),typeof Ct.componentDidMount=="function"&&($.flags|=4194308)):(typeof Ct.componentDidMount=="function"&&($.flags|=4194308),$.memoizedProps=bt,$.memoizedState=Pt),Ct.props=bt,Ct.state=Pt,Ct.context=wt,bt=Et):(typeof Ct.componentDidMount=="function"&&($.flags|=4194308),bt=!1)}else{Ct=$.stateNode,lh(_e,$),Et=$.memoizedProps,wt=$.type===$.elementType?Et:Ci($.type,Et),Ct.props=wt,_t=$.pendingProps,ht=Ct.context,Pt=xt.contextType,typeof Pt=="object"&&Pt!==null?Pt=eh(Pt):(Pt=Zf(xt)?Xf:H$2.current,Pt=Yf($,Pt));var vt=xt.getDerivedStateFromProps;(kt=typeof vt=="function"||typeof Ct.getSnapshotBeforeUpdate=="function")||typeof Ct.UNSAFE_componentWillReceiveProps!="function"&&typeof Ct.componentWillReceiveProps!="function"||(Et!==_t||ht!==Pt)&&Hi($,Ct,bt,Pt),jh=!1,ht=$.memoizedState,Ct.state=ht,qh($,bt,Ct,St);var Ft=$.memoizedState;Et!==_t||ht!==Ft||Wf.current||jh?(typeof vt=="function"&&(Di($,xt,vt,bt),Ft=$.memoizedState),(wt=jh||Fi($,xt,wt,bt,ht,Ft,Pt)||!1)?(kt||typeof Ct.UNSAFE_componentWillUpdate!="function"&&typeof Ct.componentWillUpdate!="function"||(typeof Ct.componentWillUpdate=="function"&&Ct.componentWillUpdate(bt,Ft,Pt),typeof Ct.UNSAFE_componentWillUpdate=="function"&&Ct.UNSAFE_componentWillUpdate(bt,Ft,Pt)),typeof Ct.componentDidUpdate=="function"&&($.flags|=4),typeof Ct.getSnapshotBeforeUpdate=="function"&&($.flags|=1024)):(typeof Ct.componentDidUpdate!="function"||Et===_e.memoizedProps&&ht===_e.memoizedState||($.flags|=4),typeof Ct.getSnapshotBeforeUpdate!="function"||Et===_e.memoizedProps&&ht===_e.memoizedState||($.flags|=1024),$.memoizedProps=bt,$.memoizedState=Ft),Ct.props=bt,Ct.state=Ft,Ct.context=Pt,bt=wt):(typeof Ct.componentDidUpdate!="function"||Et===_e.memoizedProps&&ht===_e.memoizedState||($.flags|=4),typeof Ct.getSnapshotBeforeUpdate!="function"||Et===_e.memoizedProps&&ht===_e.memoizedState||($.flags|=1024),bt=!1)}return jj(_e,$,xt,bt,At,St)}function jj(_e,$,xt,bt,St,At){gj(_e,$);var Ct=($.flags&128)!==0;if(!bt&&!Ct)return St&&dg($,xt,!1),Zi(_e,$,At);bt=$.stateNode,Wi.current=$;var Et=Ct&&typeof xt.getDerivedStateFromError!="function"?null:bt.render();return $.flags|=1,_e!==null&&Ct?($.child=Ug($,_e.child,null,At),$.child=Ug($,null,Et,At)):Xi(_e,$,Et,At),$.memoizedState=bt.state,St&&dg($,xt,!0),$.child}function kj(_e){var $=_e.stateNode;$.pendingContext?ag(_e,$.pendingContext,$.pendingContext!==$.context):$.context&&ag(_e,$.context,!1),yh(_e,$.containerInfo)}function lj(_e,$,xt,bt,St){return Ig(),Jg(St),$.flags|=256,Xi(_e,$,xt,bt),$.child}var mj={dehydrated:null,treeContext:null,retryLane:0};function nj(_e){return{baseLanes:_e,cachePool:null,transitions:null}}function oj(_e,$,xt){var bt=$.pendingProps,St=L$1.current,At=!1,Ct=($.flags&128)!==0,Et;if((Et=Ct)||(Et=_e!==null&&_e.memoizedState===null?!1:(St&2)!==0),Et?(At=!0,$.flags&=-129):(_e===null||_e.memoizedState!==null)&&(St|=1),G$2(L$1,St&1),_e===null)return Eg($),_e=$.memoizedState,_e!==null&&(_e=_e.dehydrated,_e!==null)?($.mode&1?_e.data==="$!"?$.lanes=8:$.lanes=1073741824:$.lanes=1,null):(Ct=bt.children,_e=bt.fallback,At?(bt=$.mode,At=$.child,Ct={mode:"hidden",children:Ct},!(bt&1)&&At!==null?(At.childLanes=0,At.pendingProps=Ct):At=pj(Ct,bt,0,null),_e=Tg(_e,bt,xt,null),At.return=$,_e.return=$,At.sibling=_e,$.child=At,$.child.memoizedState=nj(xt),$.memoizedState=mj,_e):qj($,Ct));if(St=_e.memoizedState,St!==null&&(Et=St.dehydrated,Et!==null))return rj(_e,$,Ct,bt,Et,St,xt);if(At){At=bt.fallback,Ct=$.mode,St=_e.child,Et=St.sibling;var Pt={mode:"hidden",children:bt.children};return!(Ct&1)&&$.child!==St?(bt=$.child,bt.childLanes=0,bt.pendingProps=Pt,$.deletions=null):(bt=Pg(St,Pt),bt.subtreeFlags=St.subtreeFlags&14680064),Et!==null?At=Pg(Et,At):(At=Tg(At,Ct,xt,null),At.flags|=2),At.return=$,bt.return=$,bt.sibling=At,$.child=bt,bt=At,At=$.child,Ct=_e.child.memoizedState,Ct=Ct===null?nj(xt):{baseLanes:Ct.baseLanes|xt,cachePool:null,transitions:Ct.transitions},At.memoizedState=Ct,At.childLanes=_e.childLanes&~xt,$.memoizedState=mj,bt}return At=_e.child,_e=At.sibling,bt=Pg(At,{mode:"visible",children:bt.children}),!($.mode&1)&&(bt.lanes=xt),bt.return=$,bt.sibling=null,_e!==null&&(xt=$.deletions,xt===null?($.deletions=[_e],$.flags|=16):xt.push(_e)),$.child=bt,$.memoizedState=null,bt}function qj(_e,$){return $=pj({mode:"visible",children:$},_e.mode,0,null),$.return=_e,_e.child=$}function sj(_e,$,xt,bt){return bt!==null&&Jg(bt),Ug($,_e.child,null,xt),_e=qj($,$.pendingProps.children),_e.flags|=2,$.memoizedState=null,_e}function rj(_e,$,xt,bt,St,At,Ct){if(xt)return $.flags&256?($.flags&=-257,bt=Ki(Error(p$4(422))),sj(_e,$,Ct,bt)):$.memoizedState!==null?($.child=_e.child,$.flags|=128,null):(At=bt.fallback,St=$.mode,bt=pj({mode:"visible",children:bt.children},St,0,null),At=Tg(At,St,Ct,null),At.flags|=2,bt.return=$,At.return=$,bt.sibling=At,$.child=bt,$.mode&1&&Ug($,_e.child,null,Ct),$.child.memoizedState=nj(Ct),$.memoizedState=mj,At);if(!($.mode&1))return sj(_e,$,Ct,null);if(St.data==="$!"){if(bt=St.nextSibling&&St.nextSibling.dataset,bt)var Et=bt.dgst;return bt=Et,At=Error(p$4(419)),bt=Ki(At,bt,void 0),sj(_e,$,Ct,bt)}if(Et=(Ct&_e.childLanes)!==0,dh||Et){if(bt=Q,bt!==null){switch(Ct&-Ct){case 4:St=2;break;case 16:St=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:St=32;break;case 536870912:St=268435456;break;default:St=0}St=St&(bt.suspendedLanes|Ct)?0:St,St!==0&&St!==At.retryLane&&(At.retryLane=St,ih(_e,St),gi(bt,_e,St,-1))}return tj(),bt=Ki(Error(p$4(421))),sj(_e,$,Ct,bt)}return St.data==="$?"?($.flags|=128,$.child=_e.child,$=uj.bind(null,_e),St._reactRetry=$,null):(_e=At.treeContext,yg=Lf(St.nextSibling),xg=$,I$4=!0,zg=null,_e!==null&&(og[pg++]=rg,og[pg++]=sg,og[pg++]=qg,rg=_e.id,sg=_e.overflow,qg=$),$=qj($,bt.children),$.flags|=4096,$)}function vj(_e,$,xt){_e.lanes|=$;var bt=_e.alternate;bt!==null&&(bt.lanes|=$),bh(_e.return,$,xt)}function wj(_e,$,xt,bt,St){var At=_e.memoizedState;At===null?_e.memoizedState={isBackwards:$,rendering:null,renderingStartTime:0,last:bt,tail:xt,tailMode:St}:(At.isBackwards=$,At.rendering=null,At.renderingStartTime=0,At.last=bt,At.tail=xt,At.tailMode=St)}function xj(_e,$,xt){var bt=$.pendingProps,St=bt.revealOrder,At=bt.tail;if(Xi(_e,$,bt.children,xt),bt=L$1.current,bt&2)bt=bt&1|2,$.flags|=128;else{if(_e!==null&&_e.flags&128)e:for(_e=$.child;_e!==null;){if(_e.tag===13)_e.memoizedState!==null&&vj(_e,xt,$);else if(_e.tag===19)vj(_e,xt,$);else if(_e.child!==null){_e.child.return=_e,_e=_e.child;continue}if(_e===$)break e;for(;_e.sibling===null;){if(_e.return===null||_e.return===$)break e;_e=_e.return}_e.sibling.return=_e.return,_e=_e.sibling}bt&=1}if(G$2(L$1,bt),!($.mode&1))$.memoizedState=null;else switch(St){case"forwards":for(xt=$.child,St=null;xt!==null;)_e=xt.alternate,_e!==null&&Ch(_e)===null&&(St=xt),xt=xt.sibling;xt=St,xt===null?(St=$.child,$.child=null):(St=xt.sibling,xt.sibling=null),wj($,!1,St,xt,At);break;case"backwards":for(xt=null,St=$.child,$.child=null;St!==null;){if(_e=St.alternate,_e!==null&&Ch(_e)===null){$.child=St;break}_e=St.sibling,St.sibling=xt,xt=St,St=_e}wj($,!0,xt,null,At);break;case"together":wj($,!1,null,null,void 0);break;default:$.memoizedState=null}return $.child}function ij(_e,$){!($.mode&1)&&_e!==null&&(_e.alternate=null,$.alternate=null,$.flags|=2)}function Zi(_e,$,xt){if(_e!==null&&($.dependencies=_e.dependencies),rh|=$.lanes,!(xt&$.childLanes))return null;if(_e!==null&&$.child!==_e.child)throw Error(p$4(153));if($.child!==null){for(_e=$.child,xt=Pg(_e,_e.pendingProps),$.child=xt,xt.return=$;_e.sibling!==null;)_e=_e.sibling,xt=xt.sibling=Pg(_e,_e.pendingProps),xt.return=$;xt.sibling=null}return $.child}function yj(_e,$,xt){switch($.tag){case 3:kj($),Ig();break;case 5:Ah($);break;case 1:Zf($.type)&&cg($);break;case 4:yh($,$.stateNode.containerInfo);break;case 10:var bt=$.type._context,St=$.memoizedProps.value;G$2(Wg,bt._currentValue),bt._currentValue=St;break;case 13:if(bt=$.memoizedState,bt!==null)return bt.dehydrated!==null?(G$2(L$1,L$1.current&1),$.flags|=128,null):xt&$.child.childLanes?oj(_e,$,xt):(G$2(L$1,L$1.current&1),_e=Zi(_e,$,xt),_e!==null?_e.sibling:null);G$2(L$1,L$1.current&1);break;case 19:if(bt=(xt&$.childLanes)!==0,_e.flags&128){if(bt)return xj(_e,$,xt);$.flags|=128}if(St=$.memoizedState,St!==null&&(St.rendering=null,St.tail=null,St.lastEffect=null),G$2(L$1,L$1.current),bt)break;return null;case 22:case 23:return $.lanes=0,dj(_e,$,xt)}return Zi(_e,$,xt)}var zj,Aj,Bj,Cj;zj=function(_e,$){for(var xt=$.child;xt!==null;){if(xt.tag===5||xt.tag===6)_e.appendChild(xt.stateNode);else if(xt.tag!==4&&xt.child!==null){xt.child.return=xt,xt=xt.child;continue}if(xt===$)break;for(;xt.sibling===null;){if(xt.return===null||xt.return===$)return;xt=xt.return}xt.sibling.return=xt.return,xt=xt.sibling}};Aj=function(){};Bj=function(_e,$,xt,bt){var St=_e.memoizedProps;if(St!==bt){_e=$.stateNode,xh(uh.current);var At=null;switch(xt){case"input":St=Ya(_e,St),bt=Ya(_e,bt),At=[];break;case"select":St=A$3({},St,{value:void 0}),bt=A$3({},bt,{value:void 0}),At=[];break;case"textarea":St=gb(_e,St),bt=gb(_e,bt),At=[];break;default:typeof St.onClick!="function"&&typeof bt.onClick=="function"&&(_e.onclick=Bf)}ub(xt,bt);var Ct;xt=null;for(wt in St)if(!bt.hasOwnProperty(wt)&&St.hasOwnProperty(wt)&&St[wt]!=null)if(wt==="style"){var Et=St[wt];for(Ct in Et)Et.hasOwnProperty(Ct)&&(xt||(xt={}),xt[Ct]="")}else wt!=="dangerouslySetInnerHTML"&&wt!=="children"&&wt!=="suppressContentEditableWarning"&&wt!=="suppressHydrationWarning"&&wt!=="autoFocus"&&(ea.hasOwnProperty(wt)?At||(At=[]):(At=At||[]).push(wt,null));for(wt in bt){var Pt=bt[wt];if(Et=St!=null?St[wt]:void 0,bt.hasOwnProperty(wt)&&Pt!==Et&&(Pt!=null||Et!=null))if(wt==="style")if(Et){for(Ct in Et)!Et.hasOwnProperty(Ct)||Pt&&Pt.hasOwnProperty(Ct)||(xt||(xt={}),xt[Ct]="");for(Ct in Pt)Pt.hasOwnProperty(Ct)&&Et[Ct]!==Pt[Ct]&&(xt||(xt={}),xt[Ct]=Pt[Ct])}else xt||(At||(At=[]),At.push(wt,xt)),xt=Pt;else wt==="dangerouslySetInnerHTML"?(Pt=Pt?Pt.__html:void 0,Et=Et?Et.__html:void 0,Pt!=null&&Et!==Pt&&(At=At||[]).push(wt,Pt)):wt==="children"?typeof Pt!="string"&&typeof Pt!="number"||(At=At||[]).push(wt,""+Pt):wt!=="suppressContentEditableWarning"&&wt!=="suppressHydrationWarning"&&(ea.hasOwnProperty(wt)?(Pt!=null&&wt==="onScroll"&&D$4("scroll",_e),At||Et===Pt||(At=[])):(At=At||[]).push(wt,Pt))}xt&&(At=At||[]).push("style",xt);var wt=At;($.updateQueue=wt)&&($.flags|=4)}};Cj=function(_e,$,xt,bt){xt!==bt&&($.flags|=4)};function Dj(_e,$){if(!I$4)switch(_e.tailMode){case"hidden":$=_e.tail;for(var xt=null;$!==null;)$.alternate!==null&&(xt=$),$=$.sibling;xt===null?_e.tail=null:xt.sibling=null;break;case"collapsed":xt=_e.tail;for(var bt=null;xt!==null;)xt.alternate!==null&&(bt=xt),xt=xt.sibling;bt===null?$||_e.tail===null?_e.tail=null:_e.tail.sibling=null:bt.sibling=null}}function S$4(_e){var $=_e.alternate!==null&&_e.alternate.child===_e.child,xt=0,bt=0;if($)for(var St=_e.child;St!==null;)xt|=St.lanes|St.childLanes,bt|=St.subtreeFlags&14680064,bt|=St.flags&14680064,St.return=_e,St=St.sibling;else for(St=_e.child;St!==null;)xt|=St.lanes|St.childLanes,bt|=St.subtreeFlags,bt|=St.flags,St.return=_e,St=St.sibling;return _e.subtreeFlags|=bt,_e.childLanes=xt,$}function Ej(_e,$,xt){var bt=$.pendingProps;switch(wg($),$.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return S$4($),null;case 1:return Zf($.type)&&$f(),S$4($),null;case 3:return bt=$.stateNode,zh(),E$1(Wf),E$1(H$2),Eh(),bt.pendingContext&&(bt.context=bt.pendingContext,bt.pendingContext=null),(_e===null||_e.child===null)&&(Gg($)?$.flags|=4:_e===null||_e.memoizedState.isDehydrated&&!($.flags&256)||($.flags|=1024,zg!==null&&(Fj(zg),zg=null))),Aj(_e,$),S$4($),null;case 5:Bh($);var St=xh(wh.current);if(xt=$.type,_e!==null&&$.stateNode!=null)Bj(_e,$,xt,bt,St),_e.ref!==$.ref&&($.flags|=512,$.flags|=2097152);else{if(!bt){if($.stateNode===null)throw Error(p$4(166));return S$4($),null}if(_e=xh(uh.current),Gg($)){bt=$.stateNode,xt=$.type;var At=$.memoizedProps;switch(bt[Of]=$,bt[Pf]=At,_e=($.mode&1)!==0,xt){case"dialog":D$4("cancel",bt),D$4("close",bt);break;case"iframe":case"object":case"embed":D$4("load",bt);break;case"video":case"audio":for(St=0;St<lf.length;St++)D$4(lf[St],bt);break;case"source":D$4("error",bt);break;case"img":case"image":case"link":D$4("error",bt),D$4("load",bt);break;case"details":D$4("toggle",bt);break;case"input":Za(bt,At),D$4("invalid",bt);break;case"select":bt._wrapperState={wasMultiple:!!At.multiple},D$4("invalid",bt);break;case"textarea":hb(bt,At),D$4("invalid",bt)}ub(xt,At),St=null;for(var Ct in At)if(At.hasOwnProperty(Ct)){var Et=At[Ct];Ct==="children"?typeof Et=="string"?bt.textContent!==Et&&(At.suppressHydrationWarning!==!0&&Af(bt.textContent,Et,_e),St=["children",Et]):typeof Et=="number"&&bt.textContent!==""+Et&&(At.suppressHydrationWarning!==!0&&Af(bt.textContent,Et,_e),St=["children",""+Et]):ea.hasOwnProperty(Ct)&&Et!=null&&Ct==="onScroll"&&D$4("scroll",bt)}switch(xt){case"input":Va(bt),db(bt,At,!0);break;case"textarea":Va(bt),jb(bt);break;case"select":case"option":break;default:typeof At.onClick=="function"&&(bt.onclick=Bf)}bt=St,$.updateQueue=bt,bt!==null&&($.flags|=4)}else{Ct=St.nodeType===9?St:St.ownerDocument,_e==="http://www.w3.org/1999/xhtml"&&(_e=kb(xt)),_e==="http://www.w3.org/1999/xhtml"?xt==="script"?(_e=Ct.createElement("div"),_e.innerHTML="<script><\/script>",_e=_e.removeChild(_e.firstChild)):typeof bt.is=="string"?_e=Ct.createElement(xt,{is:bt.is}):(_e=Ct.createElement(xt),xt==="select"&&(Ct=_e,bt.multiple?Ct.multiple=!0:bt.size&&(Ct.size=bt.size))):_e=Ct.createElementNS(_e,xt),_e[Of]=$,_e[Pf]=bt,zj(_e,$,!1,!1),$.stateNode=_e;e:{switch(Ct=vb(xt,bt),xt){case"dialog":D$4("cancel",_e),D$4("close",_e),St=bt;break;case"iframe":case"object":case"embed":D$4("load",_e),St=bt;break;case"video":case"audio":for(St=0;St<lf.length;St++)D$4(lf[St],_e);St=bt;break;case"source":D$4("error",_e),St=bt;break;case"img":case"image":case"link":D$4("error",_e),D$4("load",_e),St=bt;break;case"details":D$4("toggle",_e),St=bt;break;case"input":Za(_e,bt),St=Ya(_e,bt),D$4("invalid",_e);break;case"option":St=bt;break;case"select":_e._wrapperState={wasMultiple:!!bt.multiple},St=A$3({},bt,{value:void 0}),D$4("invalid",_e);break;case"textarea":hb(_e,bt),St=gb(_e,bt),D$4("invalid",_e);break;default:St=bt}ub(xt,St),Et=St;for(At in Et)if(Et.hasOwnProperty(At)){var Pt=Et[At];At==="style"?sb(_e,Pt):At==="dangerouslySetInnerHTML"?(Pt=Pt?Pt.__html:void 0,Pt!=null&&nb(_e,Pt)):At==="children"?typeof Pt=="string"?(xt!=="textarea"||Pt!=="")&&ob(_e,Pt):typeof Pt=="number"&&ob(_e,""+Pt):At!=="suppressContentEditableWarning"&&At!=="suppressHydrationWarning"&&At!=="autoFocus"&&(ea.hasOwnProperty(At)?Pt!=null&&At==="onScroll"&&D$4("scroll",_e):Pt!=null&&ta(_e,At,Pt,Ct))}switch(xt){case"input":Va(_e),db(_e,bt,!1);break;case"textarea":Va(_e),jb(_e);break;case"option":bt.value!=null&&_e.setAttribute("value",""+Sa(bt.value));break;case"select":_e.multiple=!!bt.multiple,At=bt.value,At!=null?fb(_e,!!bt.multiple,At,!1):bt.defaultValue!=null&&fb(_e,!!bt.multiple,bt.defaultValue,!0);break;default:typeof St.onClick=="function"&&(_e.onclick=Bf)}switch(xt){case"button":case"input":case"select":case"textarea":bt=!!bt.autoFocus;break e;case"img":bt=!0;break e;default:bt=!1}}bt&&($.flags|=4)}$.ref!==null&&($.flags|=512,$.flags|=2097152)}return S$4($),null;case 6:if(_e&&$.stateNode!=null)Cj(_e,$,_e.memoizedProps,bt);else{if(typeof bt!="string"&&$.stateNode===null)throw Error(p$4(166));if(xt=xh(wh.current),xh(uh.current),Gg($)){if(bt=$.stateNode,xt=$.memoizedProps,bt[Of]=$,(At=bt.nodeValue!==xt)&&(_e=xg,_e!==null))switch(_e.tag){case 3:Af(bt.nodeValue,xt,(_e.mode&1)!==0);break;case 5:_e.memoizedProps.suppressHydrationWarning!==!0&&Af(bt.nodeValue,xt,(_e.mode&1)!==0)}At&&($.flags|=4)}else bt=(xt.nodeType===9?xt:xt.ownerDocument).createTextNode(bt),bt[Of]=$,$.stateNode=bt}return S$4($),null;case 13:if(E$1(L$1),bt=$.memoizedState,_e===null||_e.memoizedState!==null&&_e.memoizedState.dehydrated!==null){if(I$4&&yg!==null&&$.mode&1&&!($.flags&128))Hg(),Ig(),$.flags|=98560,At=!1;else if(At=Gg($),bt!==null&&bt.dehydrated!==null){if(_e===null){if(!At)throw Error(p$4(318));if(At=$.memoizedState,At=At!==null?At.dehydrated:null,!At)throw Error(p$4(317));At[Of]=$}else Ig(),!($.flags&128)&&($.memoizedState=null),$.flags|=4;S$4($),At=!1}else zg!==null&&(Fj(zg),zg=null),At=!0;if(!At)return $.flags&65536?$:null}return $.flags&128?($.lanes=xt,$):(bt=bt!==null,bt!==(_e!==null&&_e.memoizedState!==null)&&bt&&($.child.flags|=8192,$.mode&1&&(_e===null||L$1.current&1?T$3===0&&(T$3=3):tj())),$.updateQueue!==null&&($.flags|=4),S$4($),null);case 4:return zh(),Aj(_e,$),_e===null&&sf($.stateNode.containerInfo),S$4($),null;case 10:return ah($.type._context),S$4($),null;case 17:return Zf($.type)&&$f(),S$4($),null;case 19:if(E$1(L$1),At=$.memoizedState,At===null)return S$4($),null;if(bt=($.flags&128)!==0,Ct=At.rendering,Ct===null)if(bt)Dj(At,!1);else{if(T$3!==0||_e!==null&&_e.flags&128)for(_e=$.child;_e!==null;){if(Ct=Ch(_e),Ct!==null){for($.flags|=128,Dj(At,!1),bt=Ct.updateQueue,bt!==null&&($.updateQueue=bt,$.flags|=4),$.subtreeFlags=0,bt=xt,xt=$.child;xt!==null;)At=xt,_e=bt,At.flags&=14680066,Ct=At.alternate,Ct===null?(At.childLanes=0,At.lanes=_e,At.child=null,At.subtreeFlags=0,At.memoizedProps=null,At.memoizedState=null,At.updateQueue=null,At.dependencies=null,At.stateNode=null):(At.childLanes=Ct.childLanes,At.lanes=Ct.lanes,At.child=Ct.child,At.subtreeFlags=0,At.deletions=null,At.memoizedProps=Ct.memoizedProps,At.memoizedState=Ct.memoizedState,At.updateQueue=Ct.updateQueue,At.type=Ct.type,_e=Ct.dependencies,At.dependencies=_e===null?null:{lanes:_e.lanes,firstContext:_e.firstContext}),xt=xt.sibling;return G$2(L$1,L$1.current&1|2),$.child}_e=_e.sibling}At.tail!==null&&B$1()>Gj&&($.flags|=128,bt=!0,Dj(At,!1),$.lanes=4194304)}else{if(!bt)if(_e=Ch(Ct),_e!==null){if($.flags|=128,bt=!0,xt=_e.updateQueue,xt!==null&&($.updateQueue=xt,$.flags|=4),Dj(At,!0),At.tail===null&&At.tailMode==="hidden"&&!Ct.alternate&&!I$4)return S$4($),null}else 2*B$1()-At.renderingStartTime>Gj&&xt!==1073741824&&($.flags|=128,bt=!0,Dj(At,!1),$.lanes=4194304);At.isBackwards?(Ct.sibling=$.child,$.child=Ct):(xt=At.last,xt!==null?xt.sibling=Ct:$.child=Ct,At.last=Ct)}return At.tail!==null?($=At.tail,At.rendering=$,At.tail=$.sibling,At.renderingStartTime=B$1(),$.sibling=null,xt=L$1.current,G$2(L$1,bt?xt&1|2:xt&1),$):(S$4($),null);case 22:case 23:return Hj(),bt=$.memoizedState!==null,_e!==null&&_e.memoizedState!==null!==bt&&($.flags|=8192),bt&&$.mode&1?fj&1073741824&&(S$4($),$.subtreeFlags&6&&($.flags|=8192)):S$4($),null;case 24:return null;case 25:return null}throw Error(p$4(156,$.tag))}function Ij(_e,$){switch(wg($),$.tag){case 1:return Zf($.type)&&$f(),_e=$.flags,_e&65536?($.flags=_e&-65537|128,$):null;case 3:return zh(),E$1(Wf),E$1(H$2),Eh(),_e=$.flags,_e&65536&&!(_e&128)?($.flags=_e&-65537|128,$):null;case 5:return Bh($),null;case 13:if(E$1(L$1),_e=$.memoizedState,_e!==null&&_e.dehydrated!==null){if($.alternate===null)throw Error(p$4(340));Ig()}return _e=$.flags,_e&65536?($.flags=_e&-65537|128,$):null;case 19:return E$1(L$1),null;case 4:return zh(),null;case 10:return ah($.type._context),null;case 22:case 23:return Hj(),null;case 24:return null;default:return null}}var Jj=!1,U$2=!1,Kj=typeof WeakSet=="function"?WeakSet:Set,V$1=null;function Lj(_e,$){var xt=_e.ref;if(xt!==null)if(typeof xt=="function")try{xt(null)}catch(bt){W$2(_e,$,bt)}else xt.current=null}function Mj(_e,$,xt){try{xt()}catch(bt){W$2(_e,$,bt)}}var Nj=!1;function Oj(_e,$){if(Cf=dd,_e=Me(),Ne(_e)){if("selectionStart"in _e)var xt={start:_e.selectionStart,end:_e.selectionEnd};else e:{xt=(xt=_e.ownerDocument)&&xt.defaultView||window;var bt=xt.getSelection&&xt.getSelection();if(bt&&bt.rangeCount!==0){xt=bt.anchorNode;var St=bt.anchorOffset,At=bt.focusNode;bt=bt.focusOffset;try{xt.nodeType,At.nodeType}catch{xt=null;break e}var Ct=0,Et=-1,Pt=-1,wt=0,kt=0,_t=_e,ht=null;t:for(;;){for(var vt;_t!==xt||St!==0&&_t.nodeType!==3||(Et=Ct+St),_t!==At||bt!==0&&_t.nodeType!==3||(Pt=Ct+bt),_t.nodeType===3&&(Ct+=_t.nodeValue.length),(vt=_t.firstChild)!==null;)ht=_t,_t=vt;for(;;){if(_t===_e)break t;if(ht===xt&&++wt===St&&(Et=Ct),ht===At&&++kt===bt&&(Pt=Ct),(vt=_t.nextSibling)!==null)break;_t=ht,ht=_t.parentNode}_t=vt}xt=Et===-1||Pt===-1?null:{start:Et,end:Pt}}else xt=null}xt=xt||{start:0,end:0}}else xt=null;for(Df={focusedElem:_e,selectionRange:xt},dd=!1,V$1=$;V$1!==null;)if($=V$1,_e=$.child,($.subtreeFlags&1028)!==0&&_e!==null)_e.return=$,V$1=_e;else for(;V$1!==null;){$=V$1;try{var Ft=$.alternate;if($.flags&1024)switch($.tag){case 0:case 11:case 15:break;case 1:if(Ft!==null){var Vt=Ft.memoizedProps,qt=Ft.memoizedState,Lt=$.stateNode,$t=Lt.getSnapshotBeforeUpdate($.elementType===$.type?Vt:Ci($.type,Vt),qt);Lt.__reactInternalSnapshotBeforeUpdate=$t}break;case 3:var Ot=$.stateNode.containerInfo;Ot.nodeType===1?Ot.textContent="":Ot.nodeType===9&&Ot.documentElement&&Ot.removeChild(Ot.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(p$4(163))}}catch(jt){W$2($,$.return,jt)}if(_e=$.sibling,_e!==null){_e.return=$.return,V$1=_e;break}V$1=$.return}return Ft=Nj,Nj=!1,Ft}function Pj(_e,$,xt){var bt=$.updateQueue;if(bt=bt!==null?bt.lastEffect:null,bt!==null){var St=bt=bt.next;do{if((St.tag&_e)===_e){var At=St.destroy;St.destroy=void 0,At!==void 0&&Mj($,xt,At)}St=St.next}while(St!==bt)}}function Qj(_e,$){if($=$.updateQueue,$=$!==null?$.lastEffect:null,$!==null){var xt=$=$.next;do{if((xt.tag&_e)===_e){var bt=xt.create;xt.destroy=bt()}xt=xt.next}while(xt!==$)}}function Rj(_e){var $=_e.ref;if($!==null){var xt=_e.stateNode;switch(_e.tag){case 5:_e=xt;break;default:_e=xt}typeof $=="function"?$(_e):$.current=_e}}function Sj(_e){var $=_e.alternate;$!==null&&(_e.alternate=null,Sj($)),_e.child=null,_e.deletions=null,_e.sibling=null,_e.tag===5&&($=_e.stateNode,$!==null&&(delete $[Of],delete $[Pf],delete $[of],delete $[Qf],delete $[Rf])),_e.stateNode=null,_e.return=null,_e.dependencies=null,_e.memoizedProps=null,_e.memoizedState=null,_e.pendingProps=null,_e.stateNode=null,_e.updateQueue=null}function Tj(_e){return _e.tag===5||_e.tag===3||_e.tag===4}function Uj(_e){e:for(;;){for(;_e.sibling===null;){if(_e.return===null||Tj(_e.return))return null;_e=_e.return}for(_e.sibling.return=_e.return,_e=_e.sibling;_e.tag!==5&&_e.tag!==6&&_e.tag!==18;){if(_e.flags&2||_e.child===null||_e.tag===4)continue e;_e.child.return=_e,_e=_e.child}if(!(_e.flags&2))return _e.stateNode}}function Vj(_e,$,xt){var bt=_e.tag;if(bt===5||bt===6)_e=_e.stateNode,$?xt.nodeType===8?xt.parentNode.insertBefore(_e,$):xt.insertBefore(_e,$):(xt.nodeType===8?($=xt.parentNode,$.insertBefore(_e,xt)):($=xt,$.appendChild(_e)),xt=xt._reactRootContainer,xt!=null||$.onclick!==null||($.onclick=Bf));else if(bt!==4&&(_e=_e.child,_e!==null))for(Vj(_e,$,xt),_e=_e.sibling;_e!==null;)Vj(_e,$,xt),_e=_e.sibling}function Wj(_e,$,xt){var bt=_e.tag;if(bt===5||bt===6)_e=_e.stateNode,$?xt.insertBefore(_e,$):xt.appendChild(_e);else if(bt!==4&&(_e=_e.child,_e!==null))for(Wj(_e,$,xt),_e=_e.sibling;_e!==null;)Wj(_e,$,xt),_e=_e.sibling}var X=null,Xj=!1;function Yj(_e,$,xt){for(xt=xt.child;xt!==null;)Zj(_e,$,xt),xt=xt.sibling}function Zj(_e,$,xt){if(lc&&typeof lc.onCommitFiberUnmount=="function")try{lc.onCommitFiberUnmount(kc,xt)}catch{}switch(xt.tag){case 5:U$2||Lj(xt,$);case 6:var bt=X,St=Xj;X=null,Yj(_e,$,xt),X=bt,Xj=St,X!==null&&(Xj?(_e=X,xt=xt.stateNode,_e.nodeType===8?_e.parentNode.removeChild(xt):_e.removeChild(xt)):X.removeChild(xt.stateNode));break;case 18:X!==null&&(Xj?(_e=X,xt=xt.stateNode,_e.nodeType===8?Kf(_e.parentNode,xt):_e.nodeType===1&&Kf(_e,xt),bd(_e)):Kf(X,xt.stateNode));break;case 4:bt=X,St=Xj,X=xt.stateNode.containerInfo,Xj=!0,Yj(_e,$,xt),X=bt,Xj=St;break;case 0:case 11:case 14:case 15:if(!U$2&&(bt=xt.updateQueue,bt!==null&&(bt=bt.lastEffect,bt!==null))){St=bt=bt.next;do{var At=St,Ct=At.destroy;At=At.tag,Ct!==void 0&&(At&2||At&4)&&Mj(xt,$,Ct),St=St.next}while(St!==bt)}Yj(_e,$,xt);break;case 1:if(!U$2&&(Lj(xt,$),bt=xt.stateNode,typeof bt.componentWillUnmount=="function"))try{bt.props=xt.memoizedProps,bt.state=xt.memoizedState,bt.componentWillUnmount()}catch(Et){W$2(xt,$,Et)}Yj(_e,$,xt);break;case 21:Yj(_e,$,xt);break;case 22:xt.mode&1?(U$2=(bt=U$2)||xt.memoizedState!==null,Yj(_e,$,xt),U$2=bt):Yj(_e,$,xt);break;default:Yj(_e,$,xt)}}function ak(_e){var $=_e.updateQueue;if($!==null){_e.updateQueue=null;var xt=_e.stateNode;xt===null&&(xt=_e.stateNode=new Kj),$.forEach(function(bt){var St=bk.bind(null,_e,bt);xt.has(bt)||(xt.add(bt),bt.then(St,St))})}}function ck(_e,$){var xt=$.deletions;if(xt!==null)for(var bt=0;bt<xt.length;bt++){var St=xt[bt];try{var At=_e,Ct=$,Et=Ct;e:for(;Et!==null;){switch(Et.tag){case 5:X=Et.stateNode,Xj=!1;break e;case 3:X=Et.stateNode.containerInfo,Xj=!0;break e;case 4:X=Et.stateNode.containerInfo,Xj=!0;break e}Et=Et.return}if(X===null)throw Error(p$4(160));Zj(At,Ct,St),X=null,Xj=!1;var Pt=St.alternate;Pt!==null&&(Pt.return=null),St.return=null}catch(wt){W$2(St,$,wt)}}if($.subtreeFlags&12854)for($=$.child;$!==null;)dk($,_e),$=$.sibling}function dk(_e,$){var xt=_e.alternate,bt=_e.flags;switch(_e.tag){case 0:case 11:case 14:case 15:if(ck($,_e),ek(_e),bt&4){try{Pj(3,_e,_e.return),Qj(3,_e)}catch(Vt){W$2(_e,_e.return,Vt)}try{Pj(5,_e,_e.return)}catch(Vt){W$2(_e,_e.return,Vt)}}break;case 1:ck($,_e),ek(_e),bt&512&&xt!==null&&Lj(xt,xt.return);break;case 5:if(ck($,_e),ek(_e),bt&512&&xt!==null&&Lj(xt,xt.return),_e.flags&32){var St=_e.stateNode;try{ob(St,"")}catch(Vt){W$2(_e,_e.return,Vt)}}if(bt&4&&(St=_e.stateNode,St!=null)){var At=_e.memoizedProps,Ct=xt!==null?xt.memoizedProps:At,Et=_e.type,Pt=_e.updateQueue;if(_e.updateQueue=null,Pt!==null)try{Et==="input"&&At.type==="radio"&&At.name!=null&&ab(St,At),vb(Et,Ct);var wt=vb(Et,At);for(Ct=0;Ct<Pt.length;Ct+=2){var kt=Pt[Ct],_t=Pt[Ct+1];kt==="style"?sb(St,_t):kt==="dangerouslySetInnerHTML"?nb(St,_t):kt==="children"?ob(St,_t):ta(St,kt,_t,wt)}switch(Et){case"input":bb(St,At);break;case"textarea":ib(St,At);break;case"select":var ht=St._wrapperState.wasMultiple;St._wrapperState.wasMultiple=!!At.multiple;var vt=At.value;vt!=null?fb(St,!!At.multiple,vt,!1):ht!==!!At.multiple&&(At.defaultValue!=null?fb(St,!!At.multiple,At.defaultValue,!0):fb(St,!!At.multiple,At.multiple?[]:"",!1))}St[Pf]=At}catch(Vt){W$2(_e,_e.return,Vt)}}break;case 6:if(ck($,_e),ek(_e),bt&4){if(_e.stateNode===null)throw Error(p$4(162));St=_e.stateNode,At=_e.memoizedProps;try{St.nodeValue=At}catch(Vt){W$2(_e,_e.return,Vt)}}break;case 3:if(ck($,_e),ek(_e),bt&4&&xt!==null&&xt.memoizedState.isDehydrated)try{bd($.containerInfo)}catch(Vt){W$2(_e,_e.return,Vt)}break;case 4:ck($,_e),ek(_e);break;case 13:ck($,_e),ek(_e),St=_e.child,St.flags&8192&&(At=St.memoizedState!==null,St.stateNode.isHidden=At,!At||St.alternate!==null&&St.alternate.memoizedState!==null||(fk=B$1())),bt&4&&ak(_e);break;case 22:if(kt=xt!==null&&xt.memoizedState!==null,_e.mode&1?(U$2=(wt=U$2)||kt,ck($,_e),U$2=wt):ck($,_e),ek(_e),bt&8192){if(wt=_e.memoizedState!==null,(_e.stateNode.isHidden=wt)&&!kt&&_e.mode&1)for(V$1=_e,kt=_e.child;kt!==null;){for(_t=V$1=kt;V$1!==null;){switch(ht=V$1,vt=ht.child,ht.tag){case 0:case 11:case 14:case 15:Pj(4,ht,ht.return);break;case 1:Lj(ht,ht.return);var Ft=ht.stateNode;if(typeof Ft.componentWillUnmount=="function"){bt=ht,xt=ht.return;try{$=bt,Ft.props=$.memoizedProps,Ft.state=$.memoizedState,Ft.componentWillUnmount()}catch(Vt){W$2(bt,xt,Vt)}}break;case 5:Lj(ht,ht.return);break;case 22:if(ht.memoizedState!==null){gk(_t);continue}}vt!==null?(vt.return=ht,V$1=vt):gk(_t)}kt=kt.sibling}e:for(kt=null,_t=_e;;){if(_t.tag===5){if(kt===null){kt=_t;try{St=_t.stateNode,wt?(At=St.style,typeof At.setProperty=="function"?At.setProperty("display","none","important"):At.display="none"):(Et=_t.stateNode,Pt=_t.memoizedProps.style,Ct=Pt!=null&&Pt.hasOwnProperty("display")?Pt.display:null,Et.style.display=rb("display",Ct))}catch(Vt){W$2(_e,_e.return,Vt)}}}else if(_t.tag===6){if(kt===null)try{_t.stateNode.nodeValue=wt?"":_t.memoizedProps}catch(Vt){W$2(_e,_e.return,Vt)}}else if((_t.tag!==22&&_t.tag!==23||_t.memoizedState===null||_t===_e)&&_t.child!==null){_t.child.return=_t,_t=_t.child;continue}if(_t===_e)break e;for(;_t.sibling===null;){if(_t.return===null||_t.return===_e)break e;kt===_t&&(kt=null),_t=_t.return}kt===_t&&(kt=null),_t.sibling.return=_t.return,_t=_t.sibling}}break;case 19:ck($,_e),ek(_e),bt&4&&ak(_e);break;case 21:break;default:ck($,_e),ek(_e)}}function ek(_e){var $=_e.flags;if($&2){try{e:{for(var xt=_e.return;xt!==null;){if(Tj(xt)){var bt=xt;break e}xt=xt.return}throw Error(p$4(160))}switch(bt.tag){case 5:var St=bt.stateNode;bt.flags&32&&(ob(St,""),bt.flags&=-33);var At=Uj(_e);Wj(_e,At,St);break;case 3:case 4:var Ct=bt.stateNode.containerInfo,Et=Uj(_e);Vj(_e,Et,Ct);break;default:throw Error(p$4(161))}}catch(Pt){W$2(_e,_e.return,Pt)}_e.flags&=-3}$&4096&&(_e.flags&=-4097)}function hk(_e,$,xt){V$1=_e,ik(_e)}function ik(_e,$,xt){for(var bt=(_e.mode&1)!==0;V$1!==null;){var St=V$1,At=St.child;if(St.tag===22&&bt){var Ct=St.memoizedState!==null||Jj;if(!Ct){var Et=St.alternate,Pt=Et!==null&&Et.memoizedState!==null||U$2;Et=Jj;var wt=U$2;if(Jj=Ct,(U$2=Pt)&&!wt)for(V$1=St;V$1!==null;)Ct=V$1,Pt=Ct.child,Ct.tag===22&&Ct.memoizedState!==null?jk(St):Pt!==null?(Pt.return=Ct,V$1=Pt):jk(St);for(;At!==null;)V$1=At,ik(At),At=At.sibling;V$1=St,Jj=Et,U$2=wt}kk(_e)}else St.subtreeFlags&8772&&At!==null?(At.return=St,V$1=At):kk(_e)}}function kk(_e){for(;V$1!==null;){var $=V$1;if($.flags&8772){var xt=$.alternate;try{if($.flags&8772)switch($.tag){case 0:case 11:case 15:U$2||Qj(5,$);break;case 1:var bt=$.stateNode;if($.flags&4&&!U$2)if(xt===null)bt.componentDidMount();else{var St=$.elementType===$.type?xt.memoizedProps:Ci($.type,xt.memoizedProps);bt.componentDidUpdate(St,xt.memoizedState,bt.__reactInternalSnapshotBeforeUpdate)}var At=$.updateQueue;At!==null&&sh($,At,bt);break;case 3:var Ct=$.updateQueue;if(Ct!==null){if(xt=null,$.child!==null)switch($.child.tag){case 5:xt=$.child.stateNode;break;case 1:xt=$.child.stateNode}sh($,Ct,xt)}break;case 5:var Et=$.stateNode;if(xt===null&&$.flags&4){xt=Et;var Pt=$.memoizedProps;switch($.type){case"button":case"input":case"select":case"textarea":Pt.autoFocus&&xt.focus();break;case"img":Pt.src&&(xt.src=Pt.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if($.memoizedState===null){var wt=$.alternate;if(wt!==null){var kt=wt.memoizedState;if(kt!==null){var _t=kt.dehydrated;_t!==null&&bd(_t)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(p$4(163))}U$2||$.flags&512&&Rj($)}catch(ht){W$2($,$.return,ht)}}if($===_e){V$1=null;break}if(xt=$.sibling,xt!==null){xt.return=$.return,V$1=xt;break}V$1=$.return}}function gk(_e){for(;V$1!==null;){var $=V$1;if($===_e){V$1=null;break}var xt=$.sibling;if(xt!==null){xt.return=$.return,V$1=xt;break}V$1=$.return}}function jk(_e){for(;V$1!==null;){var $=V$1;try{switch($.tag){case 0:case 11:case 15:var xt=$.return;try{Qj(4,$)}catch(Pt){W$2($,xt,Pt)}break;case 1:var bt=$.stateNode;if(typeof bt.componentDidMount=="function"){var St=$.return;try{bt.componentDidMount()}catch(Pt){W$2($,St,Pt)}}var At=$.return;try{Rj($)}catch(Pt){W$2($,At,Pt)}break;case 5:var Ct=$.return;try{Rj($)}catch(Pt){W$2($,Ct,Pt)}}}catch(Pt){W$2($,$.return,Pt)}if($===_e){V$1=null;break}var Et=$.sibling;if(Et!==null){Et.return=$.return,V$1=Et;break}V$1=$.return}}var lk=Math.ceil,mk=ua.ReactCurrentDispatcher,nk=ua.ReactCurrentOwner,ok=ua.ReactCurrentBatchConfig,K=0,Q=null,Y=null,Z=0,fj=0,ej=Uf(0),T$3=0,pk=null,rh=0,qk=0,rk=0,sk=null,tk=null,fk=0,Gj=1/0,uk=null,Oi=!1,Pi=null,Ri=null,vk=!1,wk=null,xk=0,yk=0,zk=null,Ak=-1,Bk=0;function R$1(){return K&6?B$1():Ak!==-1?Ak:Ak=B$1()}function yi(_e){return _e.mode&1?K&2&&Z!==0?Z&-Z:Kg.transition!==null?(Bk===0&&(Bk=yc()),Bk):(_e=C$1,_e!==0||(_e=window.event,_e=_e===void 0?16:jd(_e.type)),_e):1}function gi(_e,$,xt,bt){if(50<yk)throw yk=0,zk=null,Error(p$4(185));Ac(_e,xt,bt),(!(K&2)||_e!==Q)&&(_e===Q&&(!(K&2)&&(qk|=xt),T$3===4&&Ck(_e,Z)),Dk(_e,bt),xt===1&&K===0&&!($.mode&1)&&(Gj=B$1()+500,fg&&jg()))}function Dk(_e,$){var xt=_e.callbackNode;wc(_e,$);var bt=uc(_e,_e===Q?Z:0);if(bt===0)xt!==null&&bc(xt),_e.callbackNode=null,_e.callbackPriority=0;else if($=bt&-bt,_e.callbackPriority!==$){if(xt!=null&&bc(xt),$===1)_e.tag===0?ig(Ek.bind(null,_e)):hg(Ek.bind(null,_e)),Jf(function(){!(K&6)&&jg()}),xt=null;else{switch(Dc(bt)){case 1:xt=fc;break;case 4:xt=gc;break;case 16:xt=hc;break;case 536870912:xt=jc;break;default:xt=hc}xt=Fk(xt,Gk.bind(null,_e))}_e.callbackPriority=$,_e.callbackNode=xt}}function Gk(_e,$){if(Ak=-1,Bk=0,K&6)throw Error(p$4(327));var xt=_e.callbackNode;if(Hk()&&_e.callbackNode!==xt)return null;var bt=uc(_e,_e===Q?Z:0);if(bt===0)return null;if(bt&30||bt&_e.expiredLanes||$)$=Ik(_e,bt);else{$=bt;var St=K;K|=2;var At=Jk();(Q!==_e||Z!==$)&&(uk=null,Gj=B$1()+500,Kk(_e,$));do try{Lk();break}catch(Et){Mk(_e,Et)}while(!0);$g(),mk.current=At,K=St,Y!==null?$=0:(Q=null,Z=0,$=T$3)}if($!==0){if($===2&&(St=xc(_e),St!==0&&(bt=St,$=Nk(_e,St))),$===1)throw xt=pk,Kk(_e,0),Ck(_e,bt),Dk(_e,B$1()),xt;if($===6)Ck(_e,bt);else{if(St=_e.current.alternate,!(bt&30)&&!Ok(St)&&($=Ik(_e,bt),$===2&&(At=xc(_e),At!==0&&(bt=At,$=Nk(_e,At))),$===1))throw xt=pk,Kk(_e,0),Ck(_e,bt),Dk(_e,B$1()),xt;switch(_e.finishedWork=St,_e.finishedLanes=bt,$){case 0:case 1:throw Error(p$4(345));case 2:Pk(_e,tk,uk);break;case 3:if(Ck(_e,bt),(bt&130023424)===bt&&($=fk+500-B$1(),10<$)){if(uc(_e,0)!==0)break;if(St=_e.suspendedLanes,(St&bt)!==bt){R$1(),_e.pingedLanes|=_e.suspendedLanes&St;break}_e.timeoutHandle=Ff(Pk.bind(null,_e,tk,uk),$);break}Pk(_e,tk,uk);break;case 4:if(Ck(_e,bt),(bt&4194240)===bt)break;for($=_e.eventTimes,St=-1;0<bt;){var Ct=31-oc(bt);At=1<<Ct,Ct=$[Ct],Ct>St&&(St=Ct),bt&=~At}if(bt=St,bt=B$1()-bt,bt=(120>bt?120:480>bt?480:1080>bt?1080:1920>bt?1920:3e3>bt?3e3:4320>bt?4320:1960*lk(bt/1960))-bt,10<bt){_e.timeoutHandle=Ff(Pk.bind(null,_e,tk,uk),bt);break}Pk(_e,tk,uk);break;case 5:Pk(_e,tk,uk);break;default:throw Error(p$4(329))}}}return Dk(_e,B$1()),_e.callbackNode===xt?Gk.bind(null,_e):null}function Nk(_e,$){var xt=sk;return _e.current.memoizedState.isDehydrated&&(Kk(_e,$).flags|=256),_e=Ik(_e,$),_e!==2&&($=tk,tk=xt,$!==null&&Fj($)),_e}function Fj(_e){tk===null?tk=_e:tk.push.apply(tk,_e)}function Ok(_e){for(var $=_e;;){if($.flags&16384){var xt=$.updateQueue;if(xt!==null&&(xt=xt.stores,xt!==null))for(var bt=0;bt<xt.length;bt++){var St=xt[bt],At=St.getSnapshot;St=St.value;try{if(!He(At(),St))return!1}catch{return!1}}}if(xt=$.child,$.subtreeFlags&16384&&xt!==null)xt.return=$,$=xt;else{if($===_e)break;for(;$.sibling===null;){if($.return===null||$.return===_e)return!0;$=$.return}$.sibling.return=$.return,$=$.sibling}}return!0}function Ck(_e,$){for($&=~rk,$&=~qk,_e.suspendedLanes|=$,_e.pingedLanes&=~$,_e=_e.expirationTimes;0<$;){var xt=31-oc($),bt=1<<xt;_e[xt]=-1,$&=~bt}}function Ek(_e){if(K&6)throw Error(p$4(327));Hk();var $=uc(_e,0);if(!($&1))return Dk(_e,B$1()),null;var xt=Ik(_e,$);if(_e.tag!==0&&xt===2){var bt=xc(_e);bt!==0&&($=bt,xt=Nk(_e,bt))}if(xt===1)throw xt=pk,Kk(_e,0),Ck(_e,$),Dk(_e,B$1()),xt;if(xt===6)throw Error(p$4(345));return _e.finishedWork=_e.current.alternate,_e.finishedLanes=$,Pk(_e,tk,uk),Dk(_e,B$1()),null}function Qk(_e,$){var xt=K;K|=1;try{return _e($)}finally{K=xt,K===0&&(Gj=B$1()+500,fg&&jg())}}function Rk(_e){wk!==null&&wk.tag===0&&!(K&6)&&Hk();var $=K;K|=1;var xt=ok.transition,bt=C$1;try{if(ok.transition=null,C$1=1,_e)return _e()}finally{C$1=bt,ok.transition=xt,K=$,!(K&6)&&jg()}}function Hj(){fj=ej.current,E$1(ej)}function Kk(_e,$){_e.finishedWork=null,_e.finishedLanes=0;var xt=_e.timeoutHandle;if(xt!==-1&&(_e.timeoutHandle=-1,Gf(xt)),Y!==null)for(xt=Y.return;xt!==null;){var bt=xt;switch(wg(bt),bt.tag){case 1:bt=bt.type.childContextTypes,bt!=null&&$f();break;case 3:zh(),E$1(Wf),E$1(H$2),Eh();break;case 5:Bh(bt);break;case 4:zh();break;case 13:E$1(L$1);break;case 19:E$1(L$1);break;case 10:ah(bt.type._context);break;case 22:case 23:Hj()}xt=xt.return}if(Q=_e,Y=_e=Pg(_e.current,null),Z=fj=$,T$3=0,pk=null,rk=qk=rh=0,tk=sk=null,fh!==null){for($=0;$<fh.length;$++)if(xt=fh[$],bt=xt.interleaved,bt!==null){xt.interleaved=null;var St=bt.next,At=xt.pending;if(At!==null){var Ct=At.next;At.next=St,bt.next=Ct}xt.pending=bt}fh=null}return _e}function Mk(_e,$){do{var xt=Y;try{if($g(),Fh.current=Rh,Ih){for(var bt=M$3.memoizedState;bt!==null;){var St=bt.queue;St!==null&&(St.pending=null),bt=bt.next}Ih=!1}if(Hh=0,O$2=N$3=M$3=null,Jh=!1,Kh=0,nk.current=null,xt===null||xt.return===null){T$3=1,pk=$,Y=null;break}e:{var At=_e,Ct=xt.return,Et=xt,Pt=$;if($=Z,Et.flags|=32768,Pt!==null&&typeof Pt=="object"&&typeof Pt.then=="function"){var wt=Pt,kt=Et,_t=kt.tag;if(!(kt.mode&1)&&(_t===0||_t===11||_t===15)){var ht=kt.alternate;ht?(kt.updateQueue=ht.updateQueue,kt.memoizedState=ht.memoizedState,kt.lanes=ht.lanes):(kt.updateQueue=null,kt.memoizedState=null)}var vt=Ui(Ct);if(vt!==null){vt.flags&=-257,Vi(vt,Ct,Et,At,$),vt.mode&1&&Si(At,wt,$),$=vt,Pt=wt;var Ft=$.updateQueue;if(Ft===null){var Vt=new Set;Vt.add(Pt),$.updateQueue=Vt}else Ft.add(Pt);break e}else{if(!($&1)){Si(At,wt,$),tj();break e}Pt=Error(p$4(426))}}else if(I$4&&Et.mode&1){var qt=Ui(Ct);if(qt!==null){!(qt.flags&65536)&&(qt.flags|=256),Vi(qt,Ct,Et,At,$),Jg(Ji(Pt,Et));break e}}At=Pt=Ji(Pt,Et),T$3!==4&&(T$3=2),sk===null?sk=[At]:sk.push(At),At=Ct;do{switch(At.tag){case 3:At.flags|=65536,$&=-$,At.lanes|=$;var Lt=Ni(At,Pt,$);ph(At,Lt);break e;case 1:Et=Pt;var $t=At.type,Ot=At.stateNode;if(!(At.flags&128)&&(typeof $t.getDerivedStateFromError=="function"||Ot!==null&&typeof Ot.componentDidCatch=="function"&&(Ri===null||!Ri.has(Ot)))){At.flags|=65536,$&=-$,At.lanes|=$;var jt=Qi(At,Et,$);ph(At,jt);break e}}At=At.return}while(At!==null)}Sk(xt)}catch(Rt){$=Rt,Y===xt&&xt!==null&&(Y=xt=xt.return);continue}break}while(!0)}function Jk(){var _e=mk.current;return mk.current=Rh,_e===null?Rh:_e}function tj(){(T$3===0||T$3===3||T$3===2)&&(T$3=4),Q===null||!(rh&268435455)&&!(qk&268435455)||Ck(Q,Z)}function Ik(_e,$){var xt=K;K|=2;var bt=Jk();(Q!==_e||Z!==$)&&(uk=null,Kk(_e,$));do try{Tk();break}catch(St){Mk(_e,St)}while(!0);if($g(),K=xt,mk.current=bt,Y!==null)throw Error(p$4(261));return Q=null,Z=0,T$3}function Tk(){for(;Y!==null;)Uk(Y)}function Lk(){for(;Y!==null&&!cc();)Uk(Y)}function Uk(_e){var $=Vk(_e.alternate,_e,fj);_e.memoizedProps=_e.pendingProps,$===null?Sk(_e):Y=$,nk.current=null}function Sk(_e){var $=_e;do{var xt=$.alternate;if(_e=$.return,$.flags&32768){if(xt=Ij(xt,$),xt!==null){xt.flags&=32767,Y=xt;return}if(_e!==null)_e.flags|=32768,_e.subtreeFlags=0,_e.deletions=null;else{T$3=6,Y=null;return}}else if(xt=Ej(xt,$,fj),xt!==null){Y=xt;return}if($=$.sibling,$!==null){Y=$;return}Y=$=_e}while($!==null);T$3===0&&(T$3=5)}function Pk(_e,$,xt){var bt=C$1,St=ok.transition;try{ok.transition=null,C$1=1,Wk(_e,$,xt,bt)}finally{ok.transition=St,C$1=bt}return null}function Wk(_e,$,xt,bt){do Hk();while(wk!==null);if(K&6)throw Error(p$4(327));xt=_e.finishedWork;var St=_e.finishedLanes;if(xt===null)return null;if(_e.finishedWork=null,_e.finishedLanes=0,xt===_e.current)throw Error(p$4(177));_e.callbackNode=null,_e.callbackPriority=0;var At=xt.lanes|xt.childLanes;if(Bc(_e,At),_e===Q&&(Y=Q=null,Z=0),!(xt.subtreeFlags&2064)&&!(xt.flags&2064)||vk||(vk=!0,Fk(hc,function(){return Hk(),null})),At=(xt.flags&15990)!==0,xt.subtreeFlags&15990||At){At=ok.transition,ok.transition=null;var Ct=C$1;C$1=1;var Et=K;K|=4,nk.current=null,Oj(_e,xt),dk(xt,_e),Oe(Df),dd=!!Cf,Df=Cf=null,_e.current=xt,hk(xt),dc(),K=Et,C$1=Ct,ok.transition=At}else _e.current=xt;if(vk&&(vk=!1,wk=_e,xk=St),At=_e.pendingLanes,At===0&&(Ri=null),mc(xt.stateNode),Dk(_e,B$1()),$!==null)for(bt=_e.onRecoverableError,xt=0;xt<$.length;xt++)St=$[xt],bt(St.value,{componentStack:St.stack,digest:St.digest});if(Oi)throw Oi=!1,_e=Pi,Pi=null,_e;return xk&1&&_e.tag!==0&&Hk(),At=_e.pendingLanes,At&1?_e===zk?yk++:(yk=0,zk=_e):yk=0,jg(),null}function Hk(){if(wk!==null){var _e=Dc(xk),$=ok.transition,xt=C$1;try{if(ok.transition=null,C$1=16>_e?16:_e,wk===null)var bt=!1;else{if(_e=wk,wk=null,xk=0,K&6)throw Error(p$4(331));var St=K;for(K|=4,V$1=_e.current;V$1!==null;){var At=V$1,Ct=At.child;if(V$1.flags&16){var Et=At.deletions;if(Et!==null){for(var Pt=0;Pt<Et.length;Pt++){var wt=Et[Pt];for(V$1=wt;V$1!==null;){var kt=V$1;switch(kt.tag){case 0:case 11:case 15:Pj(8,kt,At)}var _t=kt.child;if(_t!==null)_t.return=kt,V$1=_t;else for(;V$1!==null;){kt=V$1;var ht=kt.sibling,vt=kt.return;if(Sj(kt),kt===wt){V$1=null;break}if(ht!==null){ht.return=vt,V$1=ht;break}V$1=vt}}}var Ft=At.alternate;if(Ft!==null){var Vt=Ft.child;if(Vt!==null){Ft.child=null;do{var qt=Vt.sibling;Vt.sibling=null,Vt=qt}while(Vt!==null)}}V$1=At}}if(At.subtreeFlags&2064&&Ct!==null)Ct.return=At,V$1=Ct;else e:for(;V$1!==null;){if(At=V$1,At.flags&2048)switch(At.tag){case 0:case 11:case 15:Pj(9,At,At.return)}var Lt=At.sibling;if(Lt!==null){Lt.return=At.return,V$1=Lt;break e}V$1=At.return}}var $t=_e.current;for(V$1=$t;V$1!==null;){Ct=V$1;var Ot=Ct.child;if(Ct.subtreeFlags&2064&&Ot!==null)Ot.return=Ct,V$1=Ot;else e:for(Ct=$t;V$1!==null;){if(Et=V$1,Et.flags&2048)try{switch(Et.tag){case 0:case 11:case 15:Qj(9,Et)}}catch(Rt){W$2(Et,Et.return,Rt)}if(Et===Ct){V$1=null;break e}var jt=Et.sibling;if(jt!==null){jt.return=Et.return,V$1=jt;break e}V$1=Et.return}}if(K=St,jg(),lc&&typeof lc.onPostCommitFiberRoot=="function")try{lc.onPostCommitFiberRoot(kc,_e)}catch{}bt=!0}return bt}finally{C$1=xt,ok.transition=$}}return!1}function Xk(_e,$,xt){$=Ji(xt,$),$=Ni(_e,$,1),_e=nh(_e,$,1),$=R$1(),_e!==null&&(Ac(_e,1,$),Dk(_e,$))}function W$2(_e,$,xt){if(_e.tag===3)Xk(_e,_e,xt);else for(;$!==null;){if($.tag===3){Xk($,_e,xt);break}else if($.tag===1){var bt=$.stateNode;if(typeof $.type.getDerivedStateFromError=="function"||typeof bt.componentDidCatch=="function"&&(Ri===null||!Ri.has(bt))){_e=Ji(xt,_e),_e=Qi($,_e,1),$=nh($,_e,1),_e=R$1(),$!==null&&(Ac($,1,_e),Dk($,_e));break}}$=$.return}}function Ti(_e,$,xt){var bt=_e.pingCache;bt!==null&&bt.delete($),$=R$1(),_e.pingedLanes|=_e.suspendedLanes&xt,Q===_e&&(Z&xt)===xt&&(T$3===4||T$3===3&&(Z&130023424)===Z&&500>B$1()-fk?Kk(_e,0):rk|=xt),Dk(_e,$)}function Yk(_e,$){$===0&&(_e.mode&1?($=sc,sc<<=1,!(sc&130023424)&&(sc=4194304)):$=1);var xt=R$1();_e=ih(_e,$),_e!==null&&(Ac(_e,$,xt),Dk(_e,xt))}function uj(_e){var $=_e.memoizedState,xt=0;$!==null&&(xt=$.retryLane),Yk(_e,xt)}function bk(_e,$){var xt=0;switch(_e.tag){case 13:var bt=_e.stateNode,St=_e.memoizedState;St!==null&&(xt=St.retryLane);break;case 19:bt=_e.stateNode;break;default:throw Error(p$4(314))}bt!==null&&bt.delete($),Yk(_e,xt)}var Vk;Vk=function(_e,$,xt){if(_e!==null)if(_e.memoizedProps!==$.pendingProps||Wf.current)dh=!0;else{if(!(_e.lanes&xt)&&!($.flags&128))return dh=!1,yj(_e,$,xt);dh=!!(_e.flags&131072)}else dh=!1,I$4&&$.flags&1048576&&ug($,ng,$.index);switch($.lanes=0,$.tag){case 2:var bt=$.type;ij(_e,$),_e=$.pendingProps;var St=Yf($,H$2.current);ch($,xt),St=Nh(null,$,bt,_e,St,xt);var At=Sh();return $.flags|=1,typeof St=="object"&&St!==null&&typeof St.render=="function"&&St.$$typeof===void 0?($.tag=1,$.memoizedState=null,$.updateQueue=null,Zf(bt)?(At=!0,cg($)):At=!1,$.memoizedState=St.state!==null&&St.state!==void 0?St.state:null,kh($),St.updater=Ei,$.stateNode=St,St._reactInternals=$,Ii($,bt,_e,xt),$=jj(null,$,bt,!0,At,xt)):($.tag=0,I$4&&At&&vg($),Xi(null,$,St,xt),$=$.child),$;case 16:bt=$.elementType;e:{switch(ij(_e,$),_e=$.pendingProps,St=bt._init,bt=St(bt._payload),$.type=bt,St=$.tag=Zk(bt),_e=Ci(bt,_e),St){case 0:$=cj(null,$,bt,_e,xt);break e;case 1:$=hj(null,$,bt,_e,xt);break e;case 11:$=Yi(null,$,bt,_e,xt);break e;case 14:$=$i(null,$,bt,Ci(bt.type,_e),xt);break e}throw Error(p$4(306,bt,""))}return $;case 0:return bt=$.type,St=$.pendingProps,St=$.elementType===bt?St:Ci(bt,St),cj(_e,$,bt,St,xt);case 1:return bt=$.type,St=$.pendingProps,St=$.elementType===bt?St:Ci(bt,St),hj(_e,$,bt,St,xt);case 3:e:{if(kj($),_e===null)throw Error(p$4(387));bt=$.pendingProps,At=$.memoizedState,St=At.element,lh(_e,$),qh($,bt,null,xt);var Ct=$.memoizedState;if(bt=Ct.element,At.isDehydrated)if(At={element:bt,isDehydrated:!1,cache:Ct.cache,pendingSuspenseBoundaries:Ct.pendingSuspenseBoundaries,transitions:Ct.transitions},$.updateQueue.baseState=At,$.memoizedState=At,$.flags&256){St=Ji(Error(p$4(423)),$),$=lj(_e,$,bt,xt,St);break e}else if(bt!==St){St=Ji(Error(p$4(424)),$),$=lj(_e,$,bt,xt,St);break e}else for(yg=Lf($.stateNode.containerInfo.firstChild),xg=$,I$4=!0,zg=null,xt=Vg($,null,bt,xt),$.child=xt;xt;)xt.flags=xt.flags&-3|4096,xt=xt.sibling;else{if(Ig(),bt===St){$=Zi(_e,$,xt);break e}Xi(_e,$,bt,xt)}$=$.child}return $;case 5:return Ah($),_e===null&&Eg($),bt=$.type,St=$.pendingProps,At=_e!==null?_e.memoizedProps:null,Ct=St.children,Ef(bt,St)?Ct=null:At!==null&&Ef(bt,At)&&($.flags|=32),gj(_e,$),Xi(_e,$,Ct,xt),$.child;case 6:return _e===null&&Eg($),null;case 13:return oj(_e,$,xt);case 4:return yh($,$.stateNode.containerInfo),bt=$.pendingProps,_e===null?$.child=Ug($,null,bt,xt):Xi(_e,$,bt,xt),$.child;case 11:return bt=$.type,St=$.pendingProps,St=$.elementType===bt?St:Ci(bt,St),Yi(_e,$,bt,St,xt);case 7:return Xi(_e,$,$.pendingProps,xt),$.child;case 8:return Xi(_e,$,$.pendingProps.children,xt),$.child;case 12:return Xi(_e,$,$.pendingProps.children,xt),$.child;case 10:e:{if(bt=$.type._context,St=$.pendingProps,At=$.memoizedProps,Ct=St.value,G$2(Wg,bt._currentValue),bt._currentValue=Ct,At!==null)if(He(At.value,Ct)){if(At.children===St.children&&!Wf.current){$=Zi(_e,$,xt);break e}}else for(At=$.child,At!==null&&(At.return=$);At!==null;){var Et=At.dependencies;if(Et!==null){Ct=At.child;for(var Pt=Et.firstContext;Pt!==null;){if(Pt.context===bt){if(At.tag===1){Pt=mh(-1,xt&-xt),Pt.tag=2;var wt=At.updateQueue;if(wt!==null){wt=wt.shared;var kt=wt.pending;kt===null?Pt.next=Pt:(Pt.next=kt.next,kt.next=Pt),wt.pending=Pt}}At.lanes|=xt,Pt=At.alternate,Pt!==null&&(Pt.lanes|=xt),bh(At.return,xt,$),Et.lanes|=xt;break}Pt=Pt.next}}else if(At.tag===10)Ct=At.type===$.type?null:At.child;else if(At.tag===18){if(Ct=At.return,Ct===null)throw Error(p$4(341));Ct.lanes|=xt,Et=Ct.alternate,Et!==null&&(Et.lanes|=xt),bh(Ct,xt,$),Ct=At.sibling}else Ct=At.child;if(Ct!==null)Ct.return=At;else for(Ct=At;Ct!==null;){if(Ct===$){Ct=null;break}if(At=Ct.sibling,At!==null){At.return=Ct.return,Ct=At;break}Ct=Ct.return}At=Ct}Xi(_e,$,St.children,xt),$=$.child}return $;case 9:return St=$.type,bt=$.pendingProps.children,ch($,xt),St=eh(St),bt=bt(St),$.flags|=1,Xi(_e,$,bt,xt),$.child;case 14:return bt=$.type,St=Ci(bt,$.pendingProps),St=Ci(bt.type,St),$i(_e,$,bt,St,xt);case 15:return bj(_e,$,$.type,$.pendingProps,xt);case 17:return bt=$.type,St=$.pendingProps,St=$.elementType===bt?St:Ci(bt,St),ij(_e,$),$.tag=1,Zf(bt)?(_e=!0,cg($)):_e=!1,ch($,xt),Gi($,bt,St),Ii($,bt,St,xt),jj(null,$,bt,!0,_e,xt);case 19:return xj(_e,$,xt);case 22:return dj(_e,$,xt)}throw Error(p$4(156,$.tag))};function Fk(_e,$){return ac(_e,$)}function $k(_e,$,xt,bt){this.tag=_e,this.key=xt,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=$,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=bt,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Bg(_e,$,xt,bt){return new $k(_e,$,xt,bt)}function aj(_e){return _e=_e.prototype,!(!_e||!_e.isReactComponent)}function Zk(_e){if(typeof _e=="function")return aj(_e)?1:0;if(_e!=null){if(_e=_e.$$typeof,_e===Da)return 11;if(_e===Ga)return 14}return 2}function Pg(_e,$){var xt=_e.alternate;return xt===null?(xt=Bg(_e.tag,$,_e.key,_e.mode),xt.elementType=_e.elementType,xt.type=_e.type,xt.stateNode=_e.stateNode,xt.alternate=_e,_e.alternate=xt):(xt.pendingProps=$,xt.type=_e.type,xt.flags=0,xt.subtreeFlags=0,xt.deletions=null),xt.flags=_e.flags&14680064,xt.childLanes=_e.childLanes,xt.lanes=_e.lanes,xt.child=_e.child,xt.memoizedProps=_e.memoizedProps,xt.memoizedState=_e.memoizedState,xt.updateQueue=_e.updateQueue,$=_e.dependencies,xt.dependencies=$===null?null:{lanes:$.lanes,firstContext:$.firstContext},xt.sibling=_e.sibling,xt.index=_e.index,xt.ref=_e.ref,xt}function Rg(_e,$,xt,bt,St,At){var Ct=2;if(bt=_e,typeof _e=="function")aj(_e)&&(Ct=1);else if(typeof _e=="string")Ct=5;else e:switch(_e){case ya:return Tg(xt.children,St,At,$);case za:Ct=8,St|=8;break;case Aa:return _e=Bg(12,xt,$,St|2),_e.elementType=Aa,_e.lanes=At,_e;case Ea:return _e=Bg(13,xt,$,St),_e.elementType=Ea,_e.lanes=At,_e;case Fa:return _e=Bg(19,xt,$,St),_e.elementType=Fa,_e.lanes=At,_e;case Ia:return pj(xt,St,At,$);default:if(typeof _e=="object"&&_e!==null)switch(_e.$$typeof){case Ba:Ct=10;break e;case Ca:Ct=9;break e;case Da:Ct=11;break e;case Ga:Ct=14;break e;case Ha:Ct=16,bt=null;break e}throw Error(p$4(130,_e==null?_e:typeof _e,""))}return $=Bg(Ct,xt,$,St),$.elementType=_e,$.type=bt,$.lanes=At,$}function Tg(_e,$,xt,bt){return _e=Bg(7,_e,bt,$),_e.lanes=xt,_e}function pj(_e,$,xt,bt){return _e=Bg(22,_e,bt,$),_e.elementType=Ia,_e.lanes=xt,_e.stateNode={isHidden:!1},_e}function Qg(_e,$,xt){return _e=Bg(6,_e,null,$),_e.lanes=xt,_e}function Sg(_e,$,xt){return $=Bg(4,_e.children!==null?_e.children:[],_e.key,$),$.lanes=xt,$.stateNode={containerInfo:_e.containerInfo,pendingChildren:null,implementation:_e.implementation},$}function al(_e,$,xt,bt,St){this.tag=$,this.containerInfo=_e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=zc(0),this.expirationTimes=zc(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=zc(0),this.identifierPrefix=bt,this.onRecoverableError=St,this.mutableSourceEagerHydrationData=null}function bl(_e,$,xt,bt,St,At,Ct,Et,Pt){return _e=new al(_e,$,xt,Et,Pt),$===1?($=1,At===!0&&($|=8)):$=0,At=Bg(3,null,null,$),_e.current=At,At.stateNode=_e,At.memoizedState={element:bt,isDehydrated:xt,cache:null,transitions:null,pendingSuspenseBoundaries:null},kh(At),_e}function cl(_e,$,xt){var bt=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:wa,key:bt==null?null:""+bt,children:_e,containerInfo:$,implementation:xt}}function dl(_e){if(!_e)return Vf;_e=_e._reactInternals;e:{if(Vb(_e)!==_e||_e.tag!==1)throw Error(p$4(170));var $=_e;do{switch($.tag){case 3:$=$.stateNode.context;break e;case 1:if(Zf($.type)){$=$.stateNode.__reactInternalMemoizedMergedChildContext;break e}}$=$.return}while($!==null);throw Error(p$4(171))}if(_e.tag===1){var xt=_e.type;if(Zf(xt))return bg(_e,xt,$)}return $}function el(_e,$,xt,bt,St,At,Ct,Et,Pt){return _e=bl(xt,bt,!0,_e,St,At,Ct,Et,Pt),_e.context=dl(null),xt=_e.current,bt=R$1(),St=yi(xt),At=mh(bt,St),At.callback=$??null,nh(xt,At,St),_e.current.lanes=St,Ac(_e,St,bt),Dk(_e,bt),_e}function fl(_e,$,xt,bt){var St=$.current,At=R$1(),Ct=yi(St);return xt=dl(xt),$.context===null?$.context=xt:$.pendingContext=xt,$=mh(At,Ct),$.payload={element:_e},bt=bt===void 0?null:bt,bt!==null&&($.callback=bt),_e=nh(St,$,Ct),_e!==null&&(gi(_e,St,Ct,At),oh(_e,St,Ct)),Ct}function gl(_e){if(_e=_e.current,!_e.child)return null;switch(_e.child.tag){case 5:return _e.child.stateNode;default:return _e.child.stateNode}}function hl(_e,$){if(_e=_e.memoizedState,_e!==null&&_e.dehydrated!==null){var xt=_e.retryLane;_e.retryLane=xt!==0&&xt<$?xt:$}}function il(_e,$){hl(_e,$),(_e=_e.alternate)&&hl(_e,$)}function jl(){return null}var kl=typeof reportError=="function"?reportError:function(_e){console.error(_e)};function ll(_e){this._internalRoot=_e}ml.prototype.render=ll.prototype.render=function(_e){var $=this._internalRoot;if($===null)throw Error(p$4(409));fl(_e,$,null,null)};ml.prototype.unmount=ll.prototype.unmount=function(){var _e=this._internalRoot;if(_e!==null){this._internalRoot=null;var $=_e.containerInfo;Rk(function(){fl(null,_e,null,null)}),$[uf]=null}};function ml(_e){this._internalRoot=_e}ml.prototype.unstable_scheduleHydration=function(_e){if(_e){var $=Hc();_e={blockedOn:null,target:_e,priority:$};for(var xt=0;xt<Qc.length&&$!==0&&$<Qc[xt].priority;xt++);Qc.splice(xt,0,_e),xt===0&&Vc(_e)}};function nl(_e){return!(!_e||_e.nodeType!==1&&_e.nodeType!==9&&_e.nodeType!==11)}function ol(_e){return!(!_e||_e.nodeType!==1&&_e.nodeType!==9&&_e.nodeType!==11&&(_e.nodeType!==8||_e.nodeValue!==" react-mount-point-unstable "))}function pl(){}function ql(_e,$,xt,bt,St){if(St){if(typeof bt=="function"){var At=bt;bt=function(){var wt=gl(Ct);At.call(wt)}}var Ct=el($,bt,_e,0,null,!1,!1,"",pl);return _e._reactRootContainer=Ct,_e[uf]=Ct.current,sf(_e.nodeType===8?_e.parentNode:_e),Rk(),Ct}for(;St=_e.lastChild;)_e.removeChild(St);if(typeof bt=="function"){var Et=bt;bt=function(){var wt=gl(Pt);Et.call(wt)}}var Pt=bl(_e,0,!1,null,null,!1,!1,"",pl);return _e._reactRootContainer=Pt,_e[uf]=Pt.current,sf(_e.nodeType===8?_e.parentNode:_e),Rk(function(){fl($,Pt,xt,bt)}),Pt}function rl(_e,$,xt,bt,St){var At=xt._reactRootContainer;if(At){var Ct=At;if(typeof St=="function"){var Et=St;St=function(){var Pt=gl(Ct);Et.call(Pt)}}fl($,Ct,_e,St)}else Ct=ql(xt,$,_e,St,bt);return gl(Ct)}Ec=function(_e){switch(_e.tag){case 3:var $=_e.stateNode;if($.current.memoizedState.isDehydrated){var xt=tc($.pendingLanes);xt!==0&&(Cc($,xt|1),Dk($,B$1()),!(K&6)&&(Gj=B$1()+500,jg()))}break;case 13:Rk(function(){var bt=ih(_e,1);if(bt!==null){var St=R$1();gi(bt,_e,1,St)}}),il(_e,1)}};Fc=function(_e){if(_e.tag===13){var $=ih(_e,134217728);if($!==null){var xt=R$1();gi($,_e,134217728,xt)}il(_e,134217728)}};Gc=function(_e){if(_e.tag===13){var $=yi(_e),xt=ih(_e,$);if(xt!==null){var bt=R$1();gi(xt,_e,$,bt)}il(_e,$)}};Hc=function(){return C$1};Ic=function(_e,$){var xt=C$1;try{return C$1=_e,$()}finally{C$1=xt}};yb=function(_e,$,xt){switch($){case"input":if(bb(_e,xt),$=xt.name,xt.type==="radio"&&$!=null){for(xt=_e;xt.parentNode;)xt=xt.parentNode;for(xt=xt.querySelectorAll("input[name="+JSON.stringify(""+$)+'][type="radio"]'),$=0;$<xt.length;$++){var bt=xt[$];if(bt!==_e&&bt.form===_e.form){var St=Db(bt);if(!St)throw Error(p$4(90));Wa(bt),bb(bt,St)}}}break;case"textarea":ib(_e,xt);break;case"select":$=xt.value,$!=null&&fb(_e,!!xt.multiple,$,!1)}};Gb=Qk;Hb=Rk;var sl={usingClientEntryPoint:!1,Events:[Cb,ue,Db,Eb,Fb,Qk]},tl={findFiberByHostInstance:Wc,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},ul={bundleType:tl.bundleType,version:tl.version,rendererPackageName:tl.rendererPackageName,rendererConfig:tl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ua.ReactCurrentDispatcher,findHostInstanceByFiber:function(_e){return _e=Zb(_e),_e===null?null:_e.stateNode},findFiberByHostInstance:tl.findFiberByHostInstance||jl,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var vl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!vl.isDisabled&&vl.supportsFiber)try{kc=vl.inject(ul),lc=vl}catch{}}reactDom_production_min.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=sl;reactDom_production_min.createPortal=function(_e,$){var xt=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!nl($))throw Error(p$4(200));return cl(_e,$,null,xt)};reactDom_production_min.createRoot=function(_e,$){if(!nl(_e))throw Error(p$4(299));var xt=!1,bt="",St=kl;return $!=null&&($.unstable_strictMode===!0&&(xt=!0),$.identifierPrefix!==void 0&&(bt=$.identifierPrefix),$.onRecoverableError!==void 0&&(St=$.onRecoverableError)),$=bl(_e,1,!1,null,null,xt,!1,bt,St),_e[uf]=$.current,sf(_e.nodeType===8?_e.parentNode:_e),new ll($)};reactDom_production_min.findDOMNode=function(_e){if(_e==null)return null;if(_e.nodeType===1)return _e;var $=_e._reactInternals;if($===void 0)throw typeof _e.render=="function"?Error(p$4(188)):(_e=Object.keys(_e).join(","),Error(p$4(268,_e)));return _e=Zb($),_e=_e===null?null:_e.stateNode,_e};reactDom_production_min.flushSync=function(_e){return Rk(_e)};reactDom_production_min.hydrate=function(_e,$,xt){if(!ol($))throw Error(p$4(200));return rl(null,_e,$,!0,xt)};reactDom_production_min.hydrateRoot=function(_e,$,xt){if(!nl(_e))throw Error(p$4(405));var bt=xt!=null&&xt.hydratedSources||null,St=!1,At="",Ct=kl;if(xt!=null&&(xt.unstable_strictMode===!0&&(St=!0),xt.identifierPrefix!==void 0&&(At=xt.identifierPrefix),xt.onRecoverableError!==void 0&&(Ct=xt.onRecoverableError)),$=el($,null,_e,1,xt??null,St,!1,At,Ct),_e[uf]=$.current,sf(_e),bt)for(_e=0;_e<bt.length;_e++)xt=bt[_e],St=xt._getVersion,St=St(xt._source),$.mutableSourceEagerHydrationData==null?$.mutableSourceEagerHydrationData=[xt,St]:$.mutableSourceEagerHydrationData.push(xt,St);return new ml($)};reactDom_production_min.render=function(_e,$,xt){if(!ol($))throw Error(p$4(200));return rl(null,_e,$,!1,xt)};reactDom_production_min.unmountComponentAtNode=function(_e){if(!ol(_e))throw Error(p$4(40));return _e._reactRootContainer?(Rk(function(){rl(null,null,_e,!1,function(){_e._reactRootContainer=null,_e[uf]=null})}),!0):!1};reactDom_production_min.unstable_batchedUpdates=Qk;reactDom_production_min.unstable_renderSubtreeIntoContainer=function(_e,$,xt,bt){if(!ol(xt))throw Error(p$4(200));if(_e==null||_e._reactInternals===void 0)throw Error(p$4(38));return rl(_e,$,xt,!1,bt)};reactDom_production_min.version="18.3.1-next-f1338f8080-20240426";function checkDCE(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(checkDCE)}catch(_e){console.error(_e)}}checkDCE(),reactDom.exports=reactDom_production_min;var reactDomExports=reactDom.exports,m$4=reactDomExports;client.createRoot=m$4.createRoot,client.hydrateRoot=m$4.hydrateRoot;/**
 * @remix-run/router v1.16.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function _extends$2(){return _extends$2=Object.assign?Object.assign.bind():function(_e){for(var $=1;$<arguments.length;$++){var xt=arguments[$];for(var bt in xt)Object.prototype.hasOwnProperty.call(xt,bt)&&(_e[bt]=xt[bt])}return _e},_extends$2.apply(this,arguments)}var Action;(function(_e){_e.Pop="POP",_e.Push="PUSH",_e.Replace="REPLACE"})(Action||(Action={}));const PopStateEventType="popstate";function createBrowserHistory(_e){_e===void 0&&(_e={});function $(bt,St){let{pathname:At,search:Ct,hash:Et}=bt.location;return createLocation("",{pathname:At,search:Ct,hash:Et},St.state&&St.state.usr||null,St.state&&St.state.key||"default")}function xt(bt,St){return typeof St=="string"?St:createPath(St)}return getUrlBasedHistory($,xt,null,_e)}function invariant$1(_e,$){if(_e===!1||_e===null||typeof _e>"u")throw new Error($)}function warning(_e,$){if(!_e){typeof console<"u"&&console.warn($);try{throw new Error($)}catch{}}}function createKey(){return Math.random().toString(36).substr(2,8)}function getHistoryState(_e,$){return{usr:_e.state,key:_e.key,idx:$}}function createLocation(_e,$,xt,bt){return xt===void 0&&(xt=null),_extends$2({pathname:typeof _e=="string"?_e:_e.pathname,search:"",hash:""},typeof $=="string"?parsePath($):$,{state:xt,key:$&&$.key||bt||createKey()})}function createPath(_e){let{pathname:$="/",search:xt="",hash:bt=""}=_e;return xt&&xt!=="?"&&($+=xt.charAt(0)==="?"?xt:"?"+xt),bt&&bt!=="#"&&($+=bt.charAt(0)==="#"?bt:"#"+bt),$}function parsePath(_e){let $={};if(_e){let xt=_e.indexOf("#");xt>=0&&($.hash=_e.substr(xt),_e=_e.substr(0,xt));let bt=_e.indexOf("?");bt>=0&&($.search=_e.substr(bt),_e=_e.substr(0,bt)),_e&&($.pathname=_e)}return $}function getUrlBasedHistory(_e,$,xt,bt){bt===void 0&&(bt={});let{window:St=document.defaultView,v5Compat:At=!1}=bt,Ct=St.history,Et=Action.Pop,Pt=null,wt=kt();wt==null&&(wt=0,Ct.replaceState(_extends$2({},Ct.state,{idx:wt}),""));function kt(){return(Ct.state||{idx:null}).idx}function _t(){Et=Action.Pop;let qt=kt(),Lt=qt==null?null:qt-wt;wt=qt,Pt&&Pt({action:Et,location:Vt.location,delta:Lt})}function ht(qt,Lt){Et=Action.Push;let $t=createLocation(Vt.location,qt,Lt);wt=kt()+1;let Ot=getHistoryState($t,wt),jt=Vt.createHref($t);try{Ct.pushState(Ot,"",jt)}catch(Rt){if(Rt instanceof DOMException&&Rt.name==="DataCloneError")throw Rt;St.location.assign(jt)}At&&Pt&&Pt({action:Et,location:Vt.location,delta:1})}function vt(qt,Lt){Et=Action.Replace;let $t=createLocation(Vt.location,qt,Lt);wt=kt();let Ot=getHistoryState($t,wt),jt=Vt.createHref($t);Ct.replaceState(Ot,"",jt),At&&Pt&&Pt({action:Et,location:Vt.location,delta:0})}function Ft(qt){let Lt=St.location.origin!=="null"?St.location.origin:St.location.href,$t=typeof qt=="string"?qt:createPath(qt);return $t=$t.replace(/ $/,"%20"),invariant$1(Lt,"No window.location.(origin|href) available to create URL for href: "+$t),new URL($t,Lt)}let Vt={get action(){return Et},get location(){return _e(St,Ct)},listen(qt){if(Pt)throw new Error("A history only accepts one active listener");return St.addEventListener(PopStateEventType,_t),Pt=qt,()=>{St.removeEventListener(PopStateEventType,_t),Pt=null}},createHref(qt){return $(St,qt)},createURL:Ft,encodeLocation(qt){let Lt=Ft(qt);return{pathname:Lt.pathname,search:Lt.search,hash:Lt.hash}},push:ht,replace:vt,go(qt){return Ct.go(qt)}};return Vt}var ResultType;(function(_e){_e.data="data",_e.deferred="deferred",_e.redirect="redirect",_e.error="error"})(ResultType||(ResultType={}));function matchRoutes(_e,$,xt){xt===void 0&&(xt="/");let bt=typeof $=="string"?parsePath($):$,St=stripBasename(bt.pathname||"/",xt);if(St==null)return null;let At=flattenRoutes(_e);rankRouteBranches(At);let Ct=null;for(let Et=0;Ct==null&&Et<At.length;++Et){let Pt=decodePath(St);Ct=matchRouteBranch(At[Et],Pt)}return Ct}function flattenRoutes(_e,$,xt,bt){$===void 0&&($=[]),xt===void 0&&(xt=[]),bt===void 0&&(bt="");let St=(At,Ct,Et)=>{let Pt={relativePath:Et===void 0?At.path||"":Et,caseSensitive:At.caseSensitive===!0,childrenIndex:Ct,route:At};Pt.relativePath.startsWith("/")&&(invariant$1(Pt.relativePath.startsWith(bt),'Absolute route path "'+Pt.relativePath+'" nested under path '+('"'+bt+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),Pt.relativePath=Pt.relativePath.slice(bt.length));let wt=joinPaths([bt,Pt.relativePath]),kt=xt.concat(Pt);At.children&&At.children.length>0&&(invariant$1(At.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+wt+'".')),flattenRoutes(At.children,$,kt,wt)),!(At.path==null&&!At.index)&&$.push({path:wt,score:computeScore(wt,At.index),routesMeta:kt})};return _e.forEach((At,Ct)=>{var Et;if(At.path===""||!((Et=At.path)!=null&&Et.includes("?")))St(At,Ct);else for(let Pt of explodeOptionalSegments(At.path))St(At,Ct,Pt)}),$}function explodeOptionalSegments(_e){let $=_e.split("/");if($.length===0)return[];let[xt,...bt]=$,St=xt.endsWith("?"),At=xt.replace(/\?$/,"");if(bt.length===0)return St?[At,""]:[At];let Ct=explodeOptionalSegments(bt.join("/")),Et=[];return Et.push(...Ct.map(Pt=>Pt===""?At:[At,Pt].join("/"))),St&&Et.push(...Ct),Et.map(Pt=>_e.startsWith("/")&&Pt===""?"/":Pt)}function rankRouteBranches(_e){_e.sort(($,xt)=>$.score!==xt.score?xt.score-$.score:compareIndexes($.routesMeta.map(bt=>bt.childrenIndex),xt.routesMeta.map(bt=>bt.childrenIndex)))}const paramRe=/^:[\w-]+$/,dynamicSegmentValue=3,indexRouteValue=2,emptySegmentValue=1,staticSegmentValue=10,splatPenalty=-2,isSplat=_e=>_e==="*";function computeScore(_e,$){let xt=_e.split("/"),bt=xt.length;return xt.some(isSplat)&&(bt+=splatPenalty),$&&(bt+=indexRouteValue),xt.filter(St=>!isSplat(St)).reduce((St,At)=>St+(paramRe.test(At)?dynamicSegmentValue:At===""?emptySegmentValue:staticSegmentValue),bt)}function compareIndexes(_e,$){return _e.length===$.length&&_e.slice(0,-1).every((bt,St)=>bt===$[St])?_e[_e.length-1]-$[$.length-1]:0}function matchRouteBranch(_e,$){let{routesMeta:xt}=_e,bt={},St="/",At=[];for(let Ct=0;Ct<xt.length;++Ct){let Et=xt[Ct],Pt=Ct===xt.length-1,wt=St==="/"?$:$.slice(St.length)||"/",kt=matchPath({path:Et.relativePath,caseSensitive:Et.caseSensitive,end:Pt},wt);if(!kt)return null;Object.assign(bt,kt.params);let _t=Et.route;At.push({params:bt,pathname:joinPaths([St,kt.pathname]),pathnameBase:normalizePathname(joinPaths([St,kt.pathnameBase])),route:_t}),kt.pathnameBase!=="/"&&(St=joinPaths([St,kt.pathnameBase]))}return At}function matchPath(_e,$){typeof _e=="string"&&(_e={path:_e,caseSensitive:!1,end:!0});let[xt,bt]=compilePath(_e.path,_e.caseSensitive,_e.end),St=$.match(xt);if(!St)return null;let At=St[0],Ct=At.replace(/(.)\/+$/,"$1"),Et=St.slice(1);return{params:bt.reduce((wt,kt,_t)=>{let{paramName:ht,isOptional:vt}=kt;if(ht==="*"){let Vt=Et[_t]||"";Ct=At.slice(0,At.length-Vt.length).replace(/(.)\/+$/,"$1")}const Ft=Et[_t];return vt&&!Ft?wt[ht]=void 0:wt[ht]=(Ft||"").replace(/%2F/g,"/"),wt},{}),pathname:At,pathnameBase:Ct,pattern:_e}}function compilePath(_e,$,xt){$===void 0&&($=!1),xt===void 0&&(xt=!0),warning(_e==="*"||!_e.endsWith("*")||_e.endsWith("/*"),'Route path "'+_e+'" will be treated as if it were '+('"'+_e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+_e.replace(/\*$/,"/*")+'".'));let bt=[],St="^"+_e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(Ct,Et,Pt)=>(bt.push({paramName:Et,isOptional:Pt!=null}),Pt?"/?([^\\/]+)?":"/([^\\/]+)"));return _e.endsWith("*")?(bt.push({paramName:"*"}),St+=_e==="*"||_e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):xt?St+="\\/*$":_e!==""&&_e!=="/"&&(St+="(?:(?=\\/|$))"),[new RegExp(St,$?void 0:"i"),bt]}function decodePath(_e){try{return _e.split("/").map($=>decodeURIComponent($).replace(/\//g,"%2F")).join("/")}catch($){return warning(!1,'The URL path "'+_e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+$+").")),_e}}function stripBasename(_e,$){if($==="/")return _e;if(!_e.toLowerCase().startsWith($.toLowerCase()))return null;let xt=$.endsWith("/")?$.length-1:$.length,bt=_e.charAt(xt);return bt&&bt!=="/"?null:_e.slice(xt)||"/"}function resolvePath(_e,$){$===void 0&&($="/");let{pathname:xt,search:bt="",hash:St=""}=typeof _e=="string"?parsePath(_e):_e;return{pathname:xt?xt.startsWith("/")?xt:resolvePathname(xt,$):$,search:normalizeSearch(bt),hash:normalizeHash(St)}}function resolvePathname(_e,$){let xt=$.replace(/\/+$/,"").split("/");return _e.split("/").forEach(St=>{St===".."?xt.length>1&&xt.pop():St!=="."&&xt.push(St)}),xt.length>1?xt.join("/"):"/"}function getInvalidPathError(_e,$,xt,bt){return"Cannot include a '"+_e+"' character in a manually specified "+("`to."+$+"` field ["+JSON.stringify(bt)+"].  Please separate it out to the ")+("`to."+xt+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function getPathContributingMatches(_e){return _e.filter(($,xt)=>xt===0||$.route.path&&$.route.path.length>0)}function getResolveToMatches(_e,$){let xt=getPathContributingMatches(_e);return $?xt.map((bt,St)=>St===_e.length-1?bt.pathname:bt.pathnameBase):xt.map(bt=>bt.pathnameBase)}function resolveTo(_e,$,xt,bt){bt===void 0&&(bt=!1);let St;typeof _e=="string"?St=parsePath(_e):(St=_extends$2({},_e),invariant$1(!St.pathname||!St.pathname.includes("?"),getInvalidPathError("?","pathname","search",St)),invariant$1(!St.pathname||!St.pathname.includes("#"),getInvalidPathError("#","pathname","hash",St)),invariant$1(!St.search||!St.search.includes("#"),getInvalidPathError("#","search","hash",St)));let At=_e===""||St.pathname==="",Ct=At?"/":St.pathname,Et;if(Ct==null)Et=xt;else{let _t=$.length-1;if(!bt&&Ct.startsWith("..")){let ht=Ct.split("/");for(;ht[0]==="..";)ht.shift(),_t-=1;St.pathname=ht.join("/")}Et=_t>=0?$[_t]:"/"}let Pt=resolvePath(St,Et),wt=Ct&&Ct!=="/"&&Ct.endsWith("/"),kt=(At||Ct===".")&&xt.endsWith("/");return!Pt.pathname.endsWith("/")&&(wt||kt)&&(Pt.pathname+="/"),Pt}const joinPaths=_e=>_e.join("/").replace(/\/\/+/g,"/"),normalizePathname=_e=>_e.replace(/\/+$/,"").replace(/^\/*/,"/"),normalizeSearch=_e=>!_e||_e==="?"?"":_e.startsWith("?")?_e:"?"+_e,normalizeHash=_e=>!_e||_e==="#"?"":_e.startsWith("#")?_e:"#"+_e;function isRouteErrorResponse(_e){return _e!=null&&typeof _e.status=="number"&&typeof _e.statusText=="string"&&typeof _e.internal=="boolean"&&"data"in _e}const validMutationMethodsArr=["post","put","patch","delete"];new Set(validMutationMethodsArr);const validRequestMethodsArr=["get",...validMutationMethodsArr];new Set(validRequestMethodsArr);/**
 * React Router v6.23.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function _extends$1(){return _extends$1=Object.assign?Object.assign.bind():function(_e){for(var $=1;$<arguments.length;$++){var xt=arguments[$];for(var bt in xt)Object.prototype.hasOwnProperty.call(xt,bt)&&(_e[bt]=xt[bt])}return _e},_extends$1.apply(this,arguments)}const DataRouterContext=reactExports.createContext(null),DataRouterStateContext=reactExports.createContext(null),NavigationContext=reactExports.createContext(null),LocationContext=reactExports.createContext(null),RouteContext=reactExports.createContext({outlet:null,matches:[],isDataRoute:!1}),RouteErrorContext=reactExports.createContext(null);function useInRouterContext(){return reactExports.useContext(LocationContext)!=null}function useLocation(){return useInRouterContext()||invariant$1(!1),reactExports.useContext(LocationContext).location}function useIsomorphicLayoutEffect$1(_e){reactExports.useContext(NavigationContext).static||reactExports.useLayoutEffect(_e)}function useNavigate(){let{isDataRoute:_e}=reactExports.useContext(RouteContext);return _e?useNavigateStable():useNavigateUnstable()}function useNavigateUnstable(){useInRouterContext()||invariant$1(!1);let _e=reactExports.useContext(DataRouterContext),{basename:$,future:xt,navigator:bt}=reactExports.useContext(NavigationContext),{matches:St}=reactExports.useContext(RouteContext),{pathname:At}=useLocation(),Ct=JSON.stringify(getResolveToMatches(St,xt.v7_relativeSplatPath)),Et=reactExports.useRef(!1);return useIsomorphicLayoutEffect$1(()=>{Et.current=!0}),reactExports.useCallback(function(wt,kt){if(kt===void 0&&(kt={}),!Et.current)return;if(typeof wt=="number"){bt.go(wt);return}let _t=resolveTo(wt,JSON.parse(Ct),At,kt.relative==="path");_e==null&&$!=="/"&&(_t.pathname=_t.pathname==="/"?$:joinPaths([$,_t.pathname])),(kt.replace?bt.replace:bt.push)(_t,kt.state,kt)},[$,bt,Ct,At,_e])}function useRoutes(_e,$){return useRoutesImpl(_e,$)}function useRoutesImpl(_e,$,xt,bt){useInRouterContext()||invariant$1(!1);let{navigator:St}=reactExports.useContext(NavigationContext),{matches:At}=reactExports.useContext(RouteContext),Ct=At[At.length-1],Et=Ct?Ct.params:{};Ct&&Ct.pathname;let Pt=Ct?Ct.pathnameBase:"/";Ct&&Ct.route;let wt=useLocation(),kt;if($){var _t;let qt=typeof $=="string"?parsePath($):$;Pt==="/"||(_t=qt.pathname)!=null&&_t.startsWith(Pt)||invariant$1(!1),kt=qt}else kt=wt;let ht=kt.pathname||"/",vt=ht;if(Pt!=="/"){let qt=Pt.replace(/^\//,"").split("/");vt="/"+ht.replace(/^\//,"").split("/").slice(qt.length).join("/")}let Ft=matchRoutes(_e,{pathname:vt}),Vt=_renderMatches(Ft&&Ft.map(qt=>Object.assign({},qt,{params:Object.assign({},Et,qt.params),pathname:joinPaths([Pt,St.encodeLocation?St.encodeLocation(qt.pathname).pathname:qt.pathname]),pathnameBase:qt.pathnameBase==="/"?Pt:joinPaths([Pt,St.encodeLocation?St.encodeLocation(qt.pathnameBase).pathname:qt.pathnameBase])})),At,xt,bt);return $&&Vt?reactExports.createElement(LocationContext.Provider,{value:{location:_extends$1({pathname:"/",search:"",hash:"",state:null,key:"default"},kt),navigationType:Action.Pop}},Vt):Vt}function DefaultErrorComponent(){let _e=useRouteError(),$=isRouteErrorResponse(_e)?_e.status+" "+_e.statusText:_e instanceof Error?_e.message:JSON.stringify(_e),xt=_e instanceof Error?_e.stack:null,St={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return reactExports.createElement(reactExports.Fragment,null,reactExports.createElement("h2",null,"Unexpected Application Error!"),reactExports.createElement("h3",{style:{fontStyle:"italic"}},$),xt?reactExports.createElement("pre",{style:St},xt):null,null)}const defaultErrorElement=reactExports.createElement(DefaultErrorComponent,null);class RenderErrorBoundary extends reactExports.Component{constructor($){super($),this.state={location:$.location,revalidation:$.revalidation,error:$.error}}static getDerivedStateFromError($){return{error:$}}static getDerivedStateFromProps($,xt){return xt.location!==$.location||xt.revalidation!=="idle"&&$.revalidation==="idle"?{error:$.error,location:$.location,revalidation:$.revalidation}:{error:$.error!==void 0?$.error:xt.error,location:xt.location,revalidation:$.revalidation||xt.revalidation}}componentDidCatch($,xt){console.error("React Router caught the following error during render",$,xt)}render(){return this.state.error!==void 0?reactExports.createElement(RouteContext.Provider,{value:this.props.routeContext},reactExports.createElement(RouteErrorContext.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function RenderedRoute(_e){let{routeContext:$,match:xt,children:bt}=_e,St=reactExports.useContext(DataRouterContext);return St&&St.static&&St.staticContext&&(xt.route.errorElement||xt.route.ErrorBoundary)&&(St.staticContext._deepestRenderedBoundaryId=xt.route.id),reactExports.createElement(RouteContext.Provider,{value:$},bt)}function _renderMatches(_e,$,xt,bt){var St;if($===void 0&&($=[]),xt===void 0&&(xt=null),bt===void 0&&(bt=null),_e==null){var At;if((At=xt)!=null&&At.errors)_e=xt.matches;else return null}let Ct=_e,Et=(St=xt)==null?void 0:St.errors;if(Et!=null){let kt=Ct.findIndex(_t=>_t.route.id&&(Et==null?void 0:Et[_t.route.id])!==void 0);kt>=0||invariant$1(!1),Ct=Ct.slice(0,Math.min(Ct.length,kt+1))}let Pt=!1,wt=-1;if(xt&&bt&&bt.v7_partialHydration)for(let kt=0;kt<Ct.length;kt++){let _t=Ct[kt];if((_t.route.HydrateFallback||_t.route.hydrateFallbackElement)&&(wt=kt),_t.route.id){let{loaderData:ht,errors:vt}=xt,Ft=_t.route.loader&&ht[_t.route.id]===void 0&&(!vt||vt[_t.route.id]===void 0);if(_t.route.lazy||Ft){Pt=!0,wt>=0?Ct=Ct.slice(0,wt+1):Ct=[Ct[0]];break}}}return Ct.reduceRight((kt,_t,ht)=>{let vt,Ft=!1,Vt=null,qt=null;xt&&(vt=Et&&_t.route.id?Et[_t.route.id]:void 0,Vt=_t.route.errorElement||defaultErrorElement,Pt&&(wt<0&&ht===0?(Ft=!0,qt=null):wt===ht&&(Ft=!0,qt=_t.route.hydrateFallbackElement||null)));let Lt=$.concat(Ct.slice(0,ht+1)),$t=()=>{let Ot;return vt?Ot=Vt:Ft?Ot=qt:_t.route.Component?Ot=reactExports.createElement(_t.route.Component,null):_t.route.element?Ot=_t.route.element:Ot=kt,reactExports.createElement(RenderedRoute,{match:_t,routeContext:{outlet:kt,matches:Lt,isDataRoute:xt!=null},children:Ot})};return xt&&(_t.route.ErrorBoundary||_t.route.errorElement||ht===0)?reactExports.createElement(RenderErrorBoundary,{location:xt.location,revalidation:xt.revalidation,component:Vt,error:vt,children:$t(),routeContext:{outlet:null,matches:Lt,isDataRoute:!0}}):$t()},null)}var DataRouterHook$1=function(_e){return _e.UseBlocker="useBlocker",_e.UseRevalidator="useRevalidator",_e.UseNavigateStable="useNavigate",_e}(DataRouterHook$1||{}),DataRouterStateHook$1=function(_e){return _e.UseBlocker="useBlocker",_e.UseLoaderData="useLoaderData",_e.UseActionData="useActionData",_e.UseRouteError="useRouteError",_e.UseNavigation="useNavigation",_e.UseRouteLoaderData="useRouteLoaderData",_e.UseMatches="useMatches",_e.UseRevalidator="useRevalidator",_e.UseNavigateStable="useNavigate",_e.UseRouteId="useRouteId",_e}(DataRouterStateHook$1||{});function useDataRouterContext(_e){let $=reactExports.useContext(DataRouterContext);return $||invariant$1(!1),$}function useDataRouterState(_e){let $=reactExports.useContext(DataRouterStateContext);return $||invariant$1(!1),$}function useRouteContext(_e){let $=reactExports.useContext(RouteContext);return $||invariant$1(!1),$}function useCurrentRouteId(_e){let $=useRouteContext(),xt=$.matches[$.matches.length-1];return xt.route.id||invariant$1(!1),xt.route.id}function useRouteError(){var _e;let $=reactExports.useContext(RouteErrorContext),xt=useDataRouterState(DataRouterStateHook$1.UseRouteError),bt=useCurrentRouteId(DataRouterStateHook$1.UseRouteError);return $!==void 0?$:(_e=xt.errors)==null?void 0:_e[bt]}function useNavigateStable(){let{router:_e}=useDataRouterContext(DataRouterHook$1.UseNavigateStable),$=useCurrentRouteId(DataRouterStateHook$1.UseNavigateStable),xt=reactExports.useRef(!1);return useIsomorphicLayoutEffect$1(()=>{xt.current=!0}),reactExports.useCallback(function(St,At){At===void 0&&(At={}),xt.current&&(typeof St=="number"?_e.navigate(St):_e.navigate(St,_extends$1({fromRouteId:$},At)))},[_e,$])}function Route(_e){invariant$1(!1)}function Router(_e){let{basename:$="/",children:xt=null,location:bt,navigationType:St=Action.Pop,navigator:At,static:Ct=!1,future:Et}=_e;useInRouterContext()&&invariant$1(!1);let Pt=$.replace(/^\/*/,"/"),wt=reactExports.useMemo(()=>({basename:Pt,navigator:At,static:Ct,future:_extends$1({v7_relativeSplatPath:!1},Et)}),[Pt,Et,At,Ct]);typeof bt=="string"&&(bt=parsePath(bt));let{pathname:kt="/",search:_t="",hash:ht="",state:vt=null,key:Ft="default"}=bt,Vt=reactExports.useMemo(()=>{let qt=stripBasename(kt,Pt);return qt==null?null:{location:{pathname:qt,search:_t,hash:ht,state:vt,key:Ft},navigationType:St}},[Pt,kt,_t,ht,vt,Ft,St]);return Vt==null?null:reactExports.createElement(NavigationContext.Provider,{value:wt},reactExports.createElement(LocationContext.Provider,{children:xt,value:Vt}))}function Routes(_e){let{children:$,location:xt}=_e;return useRoutes(createRoutesFromChildren($),xt)}new Promise(()=>{});function createRoutesFromChildren(_e,$){$===void 0&&($=[]);let xt=[];return reactExports.Children.forEach(_e,(bt,St)=>{if(!reactExports.isValidElement(bt))return;let At=[...$,St];if(bt.type===reactExports.Fragment){xt.push.apply(xt,createRoutesFromChildren(bt.props.children,At));return}bt.type!==Route&&invariant$1(!1),!bt.props.index||!bt.props.children||invariant$1(!1);let Ct={id:bt.props.id||At.join("-"),caseSensitive:bt.props.caseSensitive,element:bt.props.element,Component:bt.props.Component,index:bt.props.index,path:bt.props.path,loader:bt.props.loader,action:bt.props.action,errorElement:bt.props.errorElement,ErrorBoundary:bt.props.ErrorBoundary,hasErrorBoundary:bt.props.ErrorBoundary!=null||bt.props.errorElement!=null,shouldRevalidate:bt.props.shouldRevalidate,handle:bt.props.handle,lazy:bt.props.lazy};bt.props.children&&(Ct.children=createRoutesFromChildren(bt.props.children,At)),xt.push(Ct)}),xt}/**
 * React Router DOM v6.23.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */const REACT_ROUTER_VERSION="6";try{window.__reactRouterVersion=REACT_ROUTER_VERSION}catch{}const START_TRANSITION="startTransition",startTransitionImpl=t$4[START_TRANSITION];function BrowserRouter(_e){let{basename:$,children:xt,future:bt,window:St}=_e,At=reactExports.useRef();At.current==null&&(At.current=createBrowserHistory({window:St,v5Compat:!0}));let Ct=At.current,[Et,Pt]=reactExports.useState({action:Ct.action,location:Ct.location}),{v7_startTransition:wt}=bt||{},kt=reactExports.useCallback(_t=>{wt&&startTransitionImpl?startTransitionImpl(()=>Pt(_t)):Pt(_t)},[Pt,wt]);return reactExports.useLayoutEffect(()=>Ct.listen(kt),[Ct,kt]),reactExports.createElement(Router,{basename:$,children:xt,location:Et.location,navigationType:Et.action,navigator:Ct,future:bt})}var DataRouterHook;(function(_e){_e.UseScrollRestoration="useScrollRestoration",_e.UseSubmit="useSubmit",_e.UseSubmitFetcher="useSubmitFetcher",_e.UseFetcher="useFetcher",_e.useViewTransitionState="useViewTransitionState"})(DataRouterHook||(DataRouterHook={}));var DataRouterStateHook;(function(_e){_e.UseFetcher="useFetcher",_e.UseFetchers="useFetchers",_e.UseScrollRestoration="useScrollRestoration"})(DataRouterStateHook||(DataRouterStateHook={}));const $f0a04ccd8dbdd83b$export$e5c5a5f917a5871c=typeof document<"u"?React.useLayoutEffect:()=>{};function $8ae05eaa5c114e9c$export$7f54fc3180508a52(_e){const $=reactExports.useRef(null);return $f0a04ccd8dbdd83b$export$e5c5a5f917a5871c(()=>{$.current=_e},[_e]),reactExports.useCallback((...xt)=>{const bt=$.current;return bt==null?void 0:bt(...xt)},[])}const $431fbd86ca7dc216$export$b204af158042fbac=_e=>{var $;return($=_e==null?void 0:_e.ownerDocument)!==null&&$!==void 0?$:document},$431fbd86ca7dc216$export$f21a1ffae260145a=_e=>_e&&"window"in _e&&_e.window===_e?_e:$431fbd86ca7dc216$export$b204af158042fbac(_e).defaultView||window;function $c87311424ea30a05$var$testUserAgent(_e){var $;return typeof window>"u"||window.navigator==null?!1:(($=window.navigator.userAgentData)===null||$===void 0?void 0:$.brands.some(xt=>_e.test(xt.brand)))||_e.test(window.navigator.userAgent)}function $c87311424ea30a05$var$testPlatform(_e){var $;return typeof window<"u"&&window.navigator!=null?_e.test((($=window.navigator.userAgentData)===null||$===void 0?void 0:$.platform)||window.navigator.platform):!1}function $c87311424ea30a05$export$9ac100e40613ea10(){return $c87311424ea30a05$var$testPlatform(/^Mac/i)}function $c87311424ea30a05$export$a11b0059900ceec8(){return $c87311424ea30a05$var$testUserAgent(/Android/i)}function $6a7db85432448f7f$export$60278871457622de(_e){return _e.mozInputSource===0&&_e.isTrusted?!0:$c87311424ea30a05$export$a11b0059900ceec8()&&_e.pointerType?_e.type==="click"&&_e.buttons===1:_e.detail===0&&!_e.pointerType}class $8a9cb279dc87e130$export$905e7fc544a71f36{isDefaultPrevented(){return this.nativeEvent.defaultPrevented}preventDefault(){this.defaultPrevented=!0,this.nativeEvent.preventDefault()}stopPropagation(){this.nativeEvent.stopPropagation(),this.isPropagationStopped=()=>!0}isPropagationStopped(){return!1}persist(){}constructor($,xt){this.nativeEvent=xt,this.target=xt.target,this.currentTarget=xt.currentTarget,this.relatedTarget=xt.relatedTarget,this.bubbles=xt.bubbles,this.cancelable=xt.cancelable,this.defaultPrevented=xt.defaultPrevented,this.eventPhase=xt.eventPhase,this.isTrusted=xt.isTrusted,this.timeStamp=xt.timeStamp,this.type=$}}function $8a9cb279dc87e130$export$715c682d09d639cc(_e){let $=reactExports.useRef({isFocused:!1,observer:null});$f0a04ccd8dbdd83b$export$e5c5a5f917a5871c(()=>{const bt=$.current;return()=>{bt.observer&&(bt.observer.disconnect(),bt.observer=null)}},[]);let xt=$8ae05eaa5c114e9c$export$7f54fc3180508a52(bt=>{_e==null||_e(bt)});return reactExports.useCallback(bt=>{if(bt.target instanceof HTMLButtonElement||bt.target instanceof HTMLInputElement||bt.target instanceof HTMLTextAreaElement||bt.target instanceof HTMLSelectElement){$.current.isFocused=!0;let St=bt.target,At=Ct=>{$.current.isFocused=!1,St.disabled&&xt(new $8a9cb279dc87e130$export$905e7fc544a71f36("blur",Ct)),$.current.observer&&($.current.observer.disconnect(),$.current.observer=null)};St.addEventListener("focusout",At,{once:!0}),$.current.observer=new MutationObserver(()=>{if($.current.isFocused&&St.disabled){var Ct;(Ct=$.current.observer)===null||Ct===void 0||Ct.disconnect();let Et=St===document.activeElement?null:document.activeElement;St.dispatchEvent(new FocusEvent("blur",{relatedTarget:Et})),St.dispatchEvent(new FocusEvent("focusout",{bubbles:!0,relatedTarget:Et}))}}),$.current.observer.observe(St,{attributes:!0,attributeFilter:["disabled"]})}},[xt])}function $a1ea59d68270f0dd$export$f8168d8dd8fd66e6(_e){let{isDisabled:$,onFocus:xt,onBlur:bt,onFocusChange:St}=_e;const At=reactExports.useCallback(Pt=>{if(Pt.target===Pt.currentTarget)return bt&&bt(Pt),St&&St(!1),!0},[bt,St]),Ct=$8a9cb279dc87e130$export$715c682d09d639cc(At),Et=reactExports.useCallback(Pt=>{const wt=$431fbd86ca7dc216$export$b204af158042fbac(Pt.target);Pt.target===Pt.currentTarget&&wt.activeElement===Pt.target&&(xt&&xt(Pt),St&&St(!0),Ct(Pt))},[St,xt,Ct]);return{focusProps:{onFocus:!$&&(xt||St||bt)?Et:void 0,onBlur:!$&&(bt||St)?At:void 0}}}let $507fabe10e71c6fb$var$currentModality=null,$507fabe10e71c6fb$var$changeHandlers=new Set,$507fabe10e71c6fb$export$d90243b58daecda7=new Map,$507fabe10e71c6fb$var$hasEventBeforeFocus=!1,$507fabe10e71c6fb$var$hasBlurredWindowRecently=!1;const $507fabe10e71c6fb$var$FOCUS_VISIBLE_INPUT_KEYS={Tab:!0,Escape:!0};function $507fabe10e71c6fb$var$triggerChangeHandlers(_e,$){for(let xt of $507fabe10e71c6fb$var$changeHandlers)xt(_e,$)}function $507fabe10e71c6fb$var$isValidKey(_e){return!(_e.metaKey||!$c87311424ea30a05$export$9ac100e40613ea10()&&_e.altKey||_e.ctrlKey||_e.key==="Control"||_e.key==="Shift"||_e.key==="Meta")}function $507fabe10e71c6fb$var$handleKeyboardEvent(_e){$507fabe10e71c6fb$var$hasEventBeforeFocus=!0,$507fabe10e71c6fb$var$isValidKey(_e)&&($507fabe10e71c6fb$var$currentModality="keyboard",$507fabe10e71c6fb$var$triggerChangeHandlers("keyboard",_e))}function $507fabe10e71c6fb$var$handlePointerEvent(_e){$507fabe10e71c6fb$var$currentModality="pointer",(_e.type==="mousedown"||_e.type==="pointerdown")&&($507fabe10e71c6fb$var$hasEventBeforeFocus=!0,$507fabe10e71c6fb$var$triggerChangeHandlers("pointer",_e))}function $507fabe10e71c6fb$var$handleClickEvent(_e){$6a7db85432448f7f$export$60278871457622de(_e)&&($507fabe10e71c6fb$var$hasEventBeforeFocus=!0,$507fabe10e71c6fb$var$currentModality="virtual")}function $507fabe10e71c6fb$var$handleFocusEvent(_e){_e.target===window||_e.target===document||(!$507fabe10e71c6fb$var$hasEventBeforeFocus&&!$507fabe10e71c6fb$var$hasBlurredWindowRecently&&($507fabe10e71c6fb$var$currentModality="virtual",$507fabe10e71c6fb$var$triggerChangeHandlers("virtual",_e)),$507fabe10e71c6fb$var$hasEventBeforeFocus=!1,$507fabe10e71c6fb$var$hasBlurredWindowRecently=!1)}function $507fabe10e71c6fb$var$handleWindowBlur(){$507fabe10e71c6fb$var$hasEventBeforeFocus=!1,$507fabe10e71c6fb$var$hasBlurredWindowRecently=!0}function $507fabe10e71c6fb$var$setupGlobalFocusEvents(_e){if(typeof window>"u"||$507fabe10e71c6fb$export$d90243b58daecda7.get($431fbd86ca7dc216$export$f21a1ffae260145a(_e)))return;const $=$431fbd86ca7dc216$export$f21a1ffae260145a(_e),xt=$431fbd86ca7dc216$export$b204af158042fbac(_e);let bt=$.HTMLElement.prototype.focus;$.HTMLElement.prototype.focus=function(){$507fabe10e71c6fb$var$hasEventBeforeFocus=!0,bt.apply(this,arguments)},xt.addEventListener("keydown",$507fabe10e71c6fb$var$handleKeyboardEvent,!0),xt.addEventListener("keyup",$507fabe10e71c6fb$var$handleKeyboardEvent,!0),xt.addEventListener("click",$507fabe10e71c6fb$var$handleClickEvent,!0),$.addEventListener("focus",$507fabe10e71c6fb$var$handleFocusEvent,!0),$.addEventListener("blur",$507fabe10e71c6fb$var$handleWindowBlur,!1),typeof PointerEvent<"u"?(xt.addEventListener("pointerdown",$507fabe10e71c6fb$var$handlePointerEvent,!0),xt.addEventListener("pointermove",$507fabe10e71c6fb$var$handlePointerEvent,!0),xt.addEventListener("pointerup",$507fabe10e71c6fb$var$handlePointerEvent,!0)):(xt.addEventListener("mousedown",$507fabe10e71c6fb$var$handlePointerEvent,!0),xt.addEventListener("mousemove",$507fabe10e71c6fb$var$handlePointerEvent,!0),xt.addEventListener("mouseup",$507fabe10e71c6fb$var$handlePointerEvent,!0)),$.addEventListener("beforeunload",()=>{$507fabe10e71c6fb$var$tearDownWindowFocusTracking(_e)},{once:!0}),$507fabe10e71c6fb$export$d90243b58daecda7.set($,{focus:bt})}const $507fabe10e71c6fb$var$tearDownWindowFocusTracking=(_e,$)=>{const xt=$431fbd86ca7dc216$export$f21a1ffae260145a(_e),bt=$431fbd86ca7dc216$export$b204af158042fbac(_e);$&&bt.removeEventListener("DOMContentLoaded",$),$507fabe10e71c6fb$export$d90243b58daecda7.has(xt)&&(xt.HTMLElement.prototype.focus=$507fabe10e71c6fb$export$d90243b58daecda7.get(xt).focus,bt.removeEventListener("keydown",$507fabe10e71c6fb$var$handleKeyboardEvent,!0),bt.removeEventListener("keyup",$507fabe10e71c6fb$var$handleKeyboardEvent,!0),bt.removeEventListener("click",$507fabe10e71c6fb$var$handleClickEvent,!0),xt.removeEventListener("focus",$507fabe10e71c6fb$var$handleFocusEvent,!0),xt.removeEventListener("blur",$507fabe10e71c6fb$var$handleWindowBlur,!1),typeof PointerEvent<"u"?(bt.removeEventListener("pointerdown",$507fabe10e71c6fb$var$handlePointerEvent,!0),bt.removeEventListener("pointermove",$507fabe10e71c6fb$var$handlePointerEvent,!0),bt.removeEventListener("pointerup",$507fabe10e71c6fb$var$handlePointerEvent,!0)):(bt.removeEventListener("mousedown",$507fabe10e71c6fb$var$handlePointerEvent,!0),bt.removeEventListener("mousemove",$507fabe10e71c6fb$var$handlePointerEvent,!0),bt.removeEventListener("mouseup",$507fabe10e71c6fb$var$handlePointerEvent,!0)),$507fabe10e71c6fb$export$d90243b58daecda7.delete(xt))};function $507fabe10e71c6fb$export$2f1888112f558a7d(_e){const $=$431fbd86ca7dc216$export$b204af158042fbac(_e);let xt;return $.readyState!=="loading"?$507fabe10e71c6fb$var$setupGlobalFocusEvents(_e):(xt=()=>{$507fabe10e71c6fb$var$setupGlobalFocusEvents(_e)},$.addEventListener("DOMContentLoaded",xt)),()=>$507fabe10e71c6fb$var$tearDownWindowFocusTracking(_e,xt)}typeof document<"u"&&$507fabe10e71c6fb$export$2f1888112f558a7d();function $507fabe10e71c6fb$export$b9b3dfddab17db27(){return $507fabe10e71c6fb$var$currentModality!=="pointer"}const $507fabe10e71c6fb$var$nonTextInputTypes=new Set(["checkbox","radio","range","color","file","image","button","submit","reset"]);function $507fabe10e71c6fb$var$isKeyboardFocusEvent(_e,$,xt){var bt;const St=typeof window<"u"?$431fbd86ca7dc216$export$f21a1ffae260145a(xt==null?void 0:xt.target).HTMLInputElement:HTMLInputElement,At=typeof window<"u"?$431fbd86ca7dc216$export$f21a1ffae260145a(xt==null?void 0:xt.target).HTMLTextAreaElement:HTMLTextAreaElement,Ct=typeof window<"u"?$431fbd86ca7dc216$export$f21a1ffae260145a(xt==null?void 0:xt.target).HTMLElement:HTMLElement,Et=typeof window<"u"?$431fbd86ca7dc216$export$f21a1ffae260145a(xt==null?void 0:xt.target).KeyboardEvent:KeyboardEvent;return _e=_e||(xt==null?void 0:xt.target)instanceof St&&!$507fabe10e71c6fb$var$nonTextInputTypes.has(xt==null||(bt=xt.target)===null||bt===void 0?void 0:bt.type)||(xt==null?void 0:xt.target)instanceof At||(xt==null?void 0:xt.target)instanceof Ct&&(xt==null?void 0:xt.target.isContentEditable),!(_e&&$==="keyboard"&&xt instanceof Et&&!$507fabe10e71c6fb$var$FOCUS_VISIBLE_INPUT_KEYS[xt.key])}function $507fabe10e71c6fb$export$ec71b4b83ac08ec3(_e,$,xt){$507fabe10e71c6fb$var$setupGlobalFocusEvents(),reactExports.useEffect(()=>{let bt=(St,At)=>{$507fabe10e71c6fb$var$isKeyboardFocusEvent(!!(xt!=null&&xt.isTextInput),St,At)&&_e($507fabe10e71c6fb$export$b9b3dfddab17db27())};return $507fabe10e71c6fb$var$changeHandlers.add(bt),()=>{$507fabe10e71c6fb$var$changeHandlers.delete(bt)}},$)}function $9ab94262bd0047c7$export$420e68273165f4ec(_e){let{isDisabled:$,onBlurWithin:xt,onFocusWithin:bt,onFocusWithinChange:St}=_e,At=reactExports.useRef({isFocusWithin:!1}),Ct=reactExports.useCallback(wt=>{At.current.isFocusWithin&&!wt.currentTarget.contains(wt.relatedTarget)&&(At.current.isFocusWithin=!1,xt&&xt(wt),St&&St(!1))},[xt,St,At]),Et=$8a9cb279dc87e130$export$715c682d09d639cc(Ct),Pt=reactExports.useCallback(wt=>{!At.current.isFocusWithin&&document.activeElement===wt.target&&(bt&&bt(wt),St&&St(!0),At.current.isFocusWithin=!0,Et(wt))},[bt,St,Et]);return $?{focusWithinProps:{onFocus:void 0,onBlur:void 0}}:{focusWithinProps:{onFocus:Pt,onBlur:Ct}}}let $6179b936705e76d3$var$globalIgnoreEmulatedMouseEvents=!1,$6179b936705e76d3$var$hoverCount=0;function $6179b936705e76d3$var$setGlobalIgnoreEmulatedMouseEvents(){$6179b936705e76d3$var$globalIgnoreEmulatedMouseEvents=!0,setTimeout(()=>{$6179b936705e76d3$var$globalIgnoreEmulatedMouseEvents=!1},50)}function $6179b936705e76d3$var$handleGlobalPointerEvent(_e){_e.pointerType==="touch"&&$6179b936705e76d3$var$setGlobalIgnoreEmulatedMouseEvents()}function $6179b936705e76d3$var$setupGlobalTouchEvents(){if(!(typeof document>"u"))return typeof PointerEvent<"u"?document.addEventListener("pointerup",$6179b936705e76d3$var$handleGlobalPointerEvent):document.addEventListener("touchend",$6179b936705e76d3$var$setGlobalIgnoreEmulatedMouseEvents),$6179b936705e76d3$var$hoverCount++,()=>{$6179b936705e76d3$var$hoverCount--,!($6179b936705e76d3$var$hoverCount>0)&&(typeof PointerEvent<"u"?document.removeEventListener("pointerup",$6179b936705e76d3$var$handleGlobalPointerEvent):document.removeEventListener("touchend",$6179b936705e76d3$var$setGlobalIgnoreEmulatedMouseEvents))}}function $6179b936705e76d3$export$ae780daf29e6d456(_e){let{onHoverStart:$,onHoverChange:xt,onHoverEnd:bt,isDisabled:St}=_e,[At,Ct]=reactExports.useState(!1),Et=reactExports.useRef({isHovered:!1,ignoreEmulatedMouseEvents:!1,pointerType:"",target:null}).current;reactExports.useEffect($6179b936705e76d3$var$setupGlobalTouchEvents,[]);let{hoverProps:Pt,triggerHoverEnd:wt}=reactExports.useMemo(()=>{let kt=(vt,Ft)=>{if(Et.pointerType=Ft,St||Ft==="touch"||Et.isHovered||!vt.currentTarget.contains(vt.target))return;Et.isHovered=!0;let Vt=vt.currentTarget;Et.target=Vt,$&&$({type:"hoverstart",target:Vt,pointerType:Ft}),xt&&xt(!0),Ct(!0)},_t=(vt,Ft)=>{if(Et.pointerType="",Et.target=null,Ft==="touch"||!Et.isHovered)return;Et.isHovered=!1;let Vt=vt.currentTarget;bt&&bt({type:"hoverend",target:Vt,pointerType:Ft}),xt&&xt(!1),Ct(!1)},ht={};return typeof PointerEvent<"u"?(ht.onPointerEnter=vt=>{$6179b936705e76d3$var$globalIgnoreEmulatedMouseEvents&&vt.pointerType==="mouse"||kt(vt,vt.pointerType)},ht.onPointerLeave=vt=>{!St&&vt.currentTarget.contains(vt.target)&&_t(vt,vt.pointerType)}):(ht.onTouchStart=()=>{Et.ignoreEmulatedMouseEvents=!0},ht.onMouseEnter=vt=>{!Et.ignoreEmulatedMouseEvents&&!$6179b936705e76d3$var$globalIgnoreEmulatedMouseEvents&&kt(vt,"mouse"),Et.ignoreEmulatedMouseEvents=!1},ht.onMouseLeave=vt=>{!St&&vt.currentTarget.contains(vt.target)&&_t(vt,"mouse")}),{hoverProps:ht,triggerHoverEnd:_t}},[$,xt,bt,St,Et]);return reactExports.useEffect(()=>{St&&wt({currentTarget:Et.target},Et.pointerType)},[St]),{hoverProps:Pt,isHovered:At}}function $f7dceffc5ad7768b$export$4e328f61c538687f(_e={}){let{autoFocus:$=!1,isTextInput:xt,within:bt}=_e,St=reactExports.useRef({isFocused:!1,isFocusVisible:$||$507fabe10e71c6fb$export$b9b3dfddab17db27()}),[At,Ct]=reactExports.useState(!1),[Et,Pt]=reactExports.useState(()=>St.current.isFocused&&St.current.isFocusVisible),wt=reactExports.useCallback(()=>Pt(St.current.isFocused&&St.current.isFocusVisible),[]),kt=reactExports.useCallback(vt=>{St.current.isFocused=vt,Ct(vt),wt()},[wt]);$507fabe10e71c6fb$export$ec71b4b83ac08ec3(vt=>{St.current.isFocusVisible=vt,wt()},[],{isTextInput:xt});let{focusProps:_t}=$a1ea59d68270f0dd$export$f8168d8dd8fd66e6({isDisabled:bt,onFocusChange:kt}),{focusWithinProps:ht}=$9ab94262bd0047c7$export$420e68273165f4ec({isDisabled:!bt,onFocusWithinChange:kt});return{isFocused:At,isFocusVisible:Et,focusProps:bt?ht:_t}}var i$5=Object.defineProperty,d$3=(_e,$,xt)=>$ in _e?i$5(_e,$,{enumerable:!0,configurable:!0,writable:!0,value:xt}):_e[$]=xt,r$2=(_e,$,xt)=>(d$3(_e,typeof $!="symbol"?$+"":$,xt),xt);let o$5=class{constructor(){r$2(this,"current",this.detect()),r$2(this,"handoffState","pending"),r$2(this,"currentId",0)}set($){this.current!==$&&(this.handoffState="pending",this.currentId=0,this.current=$)}reset(){this.set(this.detect())}nextId(){return++this.currentId}get isServer(){return this.current==="server"}get isClient(){return this.current==="client"}detect(){return typeof window>"u"||typeof document>"u"?"server":"client"}handoff(){this.handoffState==="pending"&&(this.handoffState="complete")}get isHandoffComplete(){return this.handoffState==="complete"}},s$5=new o$5;function u$7(_e){return s$5.isServer?null:_e instanceof Node?_e.ownerDocument:_e!=null&&_e.hasOwnProperty("current")&&_e.current instanceof Node?_e.current.ownerDocument:document}function t$3(_e){typeof queueMicrotask=="function"?queueMicrotask(_e):Promise.resolve().then(_e).catch($=>setTimeout(()=>{throw $}))}function o$4(){let _e=[],$={addEventListener(xt,bt,St,At){return xt.addEventListener(bt,St,At),$.add(()=>xt.removeEventListener(bt,St,At))},requestAnimationFrame(...xt){let bt=requestAnimationFrame(...xt);return $.add(()=>cancelAnimationFrame(bt))},nextFrame(...xt){return $.requestAnimationFrame(()=>$.requestAnimationFrame(...xt))},setTimeout(...xt){let bt=setTimeout(...xt);return $.add(()=>clearTimeout(bt))},microTask(...xt){let bt={current:!0};return t$3(()=>{bt.current&&xt[0]()}),$.add(()=>{bt.current=!1})},style(xt,bt,St){let At=xt.style.getPropertyValue(bt);return Object.assign(xt.style,{[bt]:St}),this.add(()=>{Object.assign(xt.style,{[bt]:At})})},group(xt){let bt=o$4();return xt(bt),this.add(()=>bt.dispose())},add(xt){return _e.includes(xt)||_e.push(xt),()=>{let bt=_e.indexOf(xt);if(bt>=0)for(let St of _e.splice(bt,1))St()}},dispose(){for(let xt of _e.splice(0))xt()}};return $}function p$3(){let[_e]=reactExports.useState(o$4);return reactExports.useEffect(()=>()=>_e.dispose(),[_e]),_e}let n$3=(_e,$)=>{s$5.isServer?reactExports.useEffect(_e,$):reactExports.useLayoutEffect(_e,$)};function s$4(_e){let $=reactExports.useRef(_e);return n$3(()=>{$.current=_e},[_e]),$}let o$3=function(_e){let $=s$4(_e);return React.useCallback((...xt)=>$.current(...xt),[$])};function E(_e){let $=_e.width/2,xt=_e.height/2;return{top:_e.clientY-xt,right:_e.clientX+$,bottom:_e.clientY+xt,left:_e.clientX-$}}function P$2(_e,$){return!(!_e||!$||_e.right<$.left||_e.left>$.right||_e.bottom<$.top||_e.top>$.bottom)}function w$1({disabled:_e=!1}={}){let $=reactExports.useRef(null),[xt,bt]=reactExports.useState(!1),St=p$3(),At=o$3(()=>{$.current=null,bt(!1),St.dispose()}),Ct=o$3(Et=>{if(St.dispose(),$.current===null){$.current=Et.currentTarget,bt(!0);{let Pt=u$7(Et.currentTarget);St.addEventListener(Pt,"pointerup",At,!1),St.addEventListener(Pt,"pointermove",wt=>{if($.current){let kt=E(wt);bt(P$2(kt,$.current.getBoundingClientRect()))}},!1),St.addEventListener(Pt,"pointercancel",At,!1)}}});return{pressed:xt,pressProps:_e?{}:{onPointerDown:Ct,onPointerUp:At,onClick:At}}}let e$2=reactExports.createContext(void 0);function a$7(){return reactExports.useContext(e$2)}function t$2(..._e){return Array.from(new Set(_e.flatMap($=>typeof $=="string"?$.split(" "):[]))).filter(Boolean).join(" ")}function u$6(_e,$,...xt){if(_e in $){let St=$[_e];return typeof St=="function"?St(...xt):St}let bt=new Error(`Tried to handle "${_e}" but there is no handler defined. Only defined handlers are: ${Object.keys($).map(St=>`"${St}"`).join(", ")}.`);throw Error.captureStackTrace&&Error.captureStackTrace(bt,u$6),bt}var O$1=(_e=>(_e[_e.None=0]="None",_e[_e.RenderStrategy=1]="RenderStrategy",_e[_e.Static=2]="Static",_e))(O$1||{}),M$2=(_e=>(_e[_e.Unmount=0]="Unmount",_e[_e.Hidden=1]="Hidden",_e))(M$2||{});function H$1({ourProps:_e,theirProps:$,slot:xt,defaultTag:bt,features:St,visible:At=!0,name:Ct,mergeRefs:Et}){Et=Et??A$2;let Pt=N$2($,_e);if(At)return b$1(Pt,xt,bt,Ct,Et);let wt=St??0;if(wt&2){let{static:kt=!1,..._t}=Pt;if(kt)return b$1(_t,xt,bt,Ct,Et)}if(wt&1){let{unmount:kt=!0,..._t}=Pt;return u$6(kt?0:1,{0(){return null},1(){return b$1({..._t,hidden:!0,style:{display:"none"}},xt,bt,Ct,Et)}})}return b$1(Pt,xt,bt,Ct,Et)}function b$1(_e,$={},xt,bt,St){let{as:At=xt,children:Ct,refName:Et="ref",...Pt}=h$2(_e,["unmount","static"]),wt=_e.ref!==void 0?{[Et]:_e.ref}:{},kt=typeof Ct=="function"?Ct($):Ct;"className"in Pt&&Pt.className&&typeof Pt.className=="function"&&(Pt.className=Pt.className($)),Pt["aria-labelledby"]&&Pt["aria-labelledby"]===Pt.id&&(Pt["aria-labelledby"]=void 0);let _t={};if($){let ht=!1,vt=[];for(let[Ft,Vt]of Object.entries($))typeof Vt=="boolean"&&(ht=!0),Vt===!0&&vt.push(Ft.replace(/([A-Z])/g,qt=>`-${qt.toLowerCase()}`));if(ht){_t["data-headlessui-state"]=vt.join(" ");for(let Ft of vt)_t[`data-${Ft}`]=""}}if(At===reactExports.Fragment&&(Object.keys(m$3(Pt)).length>0||Object.keys(m$3(_t)).length>0))if(!reactExports.isValidElement(kt)||Array.isArray(kt)&&kt.length>1){if(Object.keys(m$3(Pt)).length>0)throw new Error(['Passing props on "Fragment"!',"",`The current component <${bt} /> is rendering a "Fragment".`,"However we need to passthrough the following props:",Object.keys(m$3(Pt)).concat(Object.keys(m$3(_t))).map(ht=>`  - ${ht}`).join(`
`),"","You can apply a few solutions:",['Add an `as="..."` prop, to ensure that we render an actual element instead of a "Fragment".',"Render a single element as the child so that we can forward the props onto that element."].map(ht=>`  - ${ht}`).join(`
`)].join(`
`))}else{let ht=kt.props,vt=ht==null?void 0:ht.className,Ft=typeof vt=="function"?(...Lt)=>t$2(vt(...Lt),Pt.className):t$2(vt,Pt.className),Vt=Ft?{className:Ft}:{},qt=N$2(kt.props,m$3(h$2(Pt,["ref"])));for(let Lt in _t)Lt in qt&&delete _t[Lt];return reactExports.cloneElement(kt,Object.assign({},qt,_t,wt,{ref:St(kt.ref,wt.ref)},Vt))}return reactExports.createElement(At,Object.assign({},h$2(Pt,["ref"]),At!==reactExports.Fragment&&wt,At!==reactExports.Fragment&&_t),kt)}function A$2(..._e){return _e.every($=>$==null)?void 0:$=>{for(let xt of _e)xt!=null&&(typeof xt=="function"?xt($):xt.current=$)}}function N$2(..._e){if(_e.length===0)return{};if(_e.length===1)return _e[0];let $={},xt={};for(let bt of _e)for(let St in bt)St.startsWith("on")&&typeof bt[St]=="function"?(xt[St]!=null||(xt[St]=[]),xt[St].push(bt[St])):$[St]=bt[St];if($.disabled||$["aria-disabled"])for(let bt in xt)/^(on(?:Click|Pointer|Mouse|Key)(?:Down|Up|Press)?)$/.test(bt)&&(xt[bt]=[St=>{var At;return(At=St==null?void 0:St.preventDefault)==null?void 0:At.call(St)}]);for(let bt in xt)Object.assign($,{[bt](St,...At){let Ct=xt[bt];for(let Et of Ct){if((St instanceof Event||(St==null?void 0:St.nativeEvent)instanceof Event)&&St.defaultPrevented)return;Et(St,...At)}}});return $}function D$3(..._e){if(_e.length===0)return{};if(_e.length===1)return _e[0];let $={},xt={};for(let bt of _e)for(let St in bt)St.startsWith("on")&&typeof bt[St]=="function"?(xt[St]!=null||(xt[St]=[]),xt[St].push(bt[St])):$[St]=bt[St];for(let bt in xt)Object.assign($,{[bt](...St){let At=xt[bt];for(let Ct of At)Ct==null||Ct(...St)}});return $}function I$3(_e){var $;return Object.assign(reactExports.forwardRef(_e),{displayName:($=_e.displayName)!=null?$:_e.name})}function m$3(_e){let $=Object.assign({},_e);for(let xt in $)$[xt]===void 0&&delete $[xt];return $}function h$2(_e,$=[]){let xt=Object.assign({},_e);for(let bt of $)bt in xt&&delete xt[bt];return xt}let e$1=reactExports.createContext(void 0);function u$5(){return reactExports.useContext(e$1)}function r$1(_e){let $=_e.parentElement,xt=null;for(;$&&!($ instanceof HTMLFieldSetElement);)$ instanceof HTMLLegendElement&&(xt=$),$=$.parentElement;let bt=($==null?void 0:$.getAttribute("disabled"))==="";return bt&&i$4(xt)?!1:bt}function i$4(_e){if(!_e)return!1;let $=_e.previousElementSibling;for(;$!==null;){if($ instanceof HTMLLegendElement)return!1;$=$.previousElementSibling}return!0}let u$4=Symbol();function T$2(_e,$=!0){return Object.assign(_e,{[u$4]:$})}function y$4(..._e){let $=reactExports.useRef(_e);reactExports.useEffect(()=>{$.current=_e},[_e]);let xt=o$3(bt=>{for(let St of $.current)St!=null&&(typeof St=="function"?St(bt):St.current=bt)});return _e.every(bt=>bt==null||(bt==null?void 0:bt[u$4]))?void 0:xt}let a$6=reactExports.createContext(null);a$6.displayName="DescriptionContext";function f$5(){let _e=reactExports.useContext(a$6);if(_e===null){let $=new Error("You used a <Description /> component, but it is not inside a relevant parent.");throw Error.captureStackTrace&&Error.captureStackTrace($,f$5),$}return _e}function U$1(){let[_e,$]=reactExports.useState([]);return[_e.length>0?_e.join(" "):void 0,reactExports.useMemo(()=>function(xt){let bt=o$3(At=>($(Ct=>[...Ct,At]),()=>$(Ct=>{let Et=Ct.slice(),Pt=Et.indexOf(At);return Pt!==-1&&Et.splice(Pt,1),Et}))),St=reactExports.useMemo(()=>({register:bt,slot:xt.slot,name:xt.name,props:xt.props,value:xt.value}),[bt,xt.slot,xt.name,xt.props,xt.value]);return React.createElement(a$6.Provider,{value:St},xt.children)},[$])]}let S$3="p";function C(_e,$){let xt=reactExports.useId(),bt=a$7(),{id:St=`headlessui-description-${xt}`,...At}=_e,Ct=f$5(),Et=y$4($);n$3(()=>Ct.register(St),[St,Ct.register]);let Pt=bt||!1,wt=reactExports.useMemo(()=>({...Ct.slot,disabled:Pt}),[Ct.slot,Pt]),kt={ref:Et,...Ct.props,id:St};return H$1({ourProps:kt,theirProps:At,slot:wt,defaultTag:S$3,name:Ct.name||"Description"})}let _$1=I$3(C);Object.assign(_$1,{});var o$2=(_e=>(_e.Space=" ",_e.Enter="Enter",_e.Escape="Escape",_e.Backspace="Backspace",_e.Delete="Delete",_e.ArrowLeft="ArrowLeft",_e.ArrowUp="ArrowUp",_e.ArrowRight="ArrowRight",_e.ArrowDown="ArrowDown",_e.Home="Home",_e.End="End",_e.PageUp="PageUp",_e.PageDown="PageDown",_e.Tab="Tab",_e))(o$2||{});let c$4=reactExports.createContext(null);c$4.displayName="LabelContext";function P$1(){let _e=reactExports.useContext(c$4);if(_e===null){let $=new Error("You used a <Label /> component, but it is not inside a relevant parent.");throw Error.captureStackTrace&&Error.captureStackTrace($,P$1),$}return _e}function I$2(_e){var $,xt,bt;let St=(xt=($=reactExports.useContext(c$4))==null?void 0:$.value)!=null?xt:void 0;return((bt=void 0)!=null?bt:0)>0?[St,..._e].filter(Boolean).join(" "):St}function z({inherit:_e=!1}={}){let $=I$2(),[xt,bt]=reactExports.useState([]),St=_e?[$,...xt].filter(Boolean):xt;return[St.length>0?St.join(" "):void 0,reactExports.useMemo(()=>function(At){let Ct=o$3(Pt=>(bt(wt=>[...wt,Pt]),()=>bt(wt=>{let kt=wt.slice(),_t=kt.indexOf(Pt);return _t!==-1&&kt.splice(_t,1),kt}))),Et=reactExports.useMemo(()=>({register:Ct,slot:At.slot,name:At.name,props:At.props,value:At.value}),[Ct,At.slot,At.name,At.props,At.value]);return React.createElement(c$4.Provider,{value:Et},At.children)},[bt])]}let N$1="label";function G$1(_e,$){var xt;let bt=reactExports.useId(),St=P$1(),At=u$5(),Ct=a$7(),{id:Et=`headlessui-label-${bt}`,htmlFor:Pt=At??((xt=St.props)==null?void 0:xt.htmlFor),passive:wt=!1,...kt}=_e,_t=y$4($);n$3(()=>St.register(Et),[Et,St.register]);let ht=o$3(qt=>{let Lt=qt.currentTarget;if(Lt instanceof HTMLLabelElement&&qt.preventDefault(),St.props&&"onClick"in St.props&&typeof St.props.onClick=="function"&&St.props.onClick(qt),Lt instanceof HTMLLabelElement){let $t=document.getElementById(Lt.htmlFor);if($t){let Ot=$t.getAttribute("disabled");if(Ot==="true"||Ot==="")return;let jt=$t.getAttribute("aria-disabled");if(jt==="true"||jt==="")return;($t instanceof HTMLInputElement&&($t.type==="radio"||$t.type==="checkbox")||$t.role==="radio"||$t.role==="checkbox"||$t.role==="switch")&&$t.click(),$t.focus({preventScroll:!0})}}}),vt=Ct||!1,Ft=reactExports.useMemo(()=>({...St.slot,disabled:vt}),[St.slot,vt]),Vt={ref:_t,...St.props,id:Et,htmlFor:Pt,onClick:ht};return wt&&("onClick"in Vt&&(delete Vt.htmlFor,delete Vt.onClick),"onClick"in kt&&delete kt.onClick),H$1({ourProps:Vt,theirProps:kt,slot:Ft,defaultTag:Pt?N$1:"div",name:St.name||"Label"})}let U=I$3(G$1);Object.assign(U,{});function s$3(_e){if(_e===null)return{width:0,height:0};let{width:$,height:xt}=_e.getBoundingClientRect();return{width:$,height:xt}}function f$4(_e,$=!1){let xt=_e===null?null:"current"in _e?_e.current:_e,[bt,St]=reactExports.useReducer(()=>({}),{}),At=reactExports.useMemo(()=>s$3(xt),[xt,bt]);return n$3(()=>{if(!xt)return;let Ct=new ResizeObserver(St);return Ct.observe(xt),()=>{Ct.disconnect()}},[xt]),$?{width:`${At.width}px`,height:`${At.height}px`}:At}let a$5=class extends Map{constructor($){super(),this.factory=$}get($){let xt=super.get($);return xt===void 0&&(xt=this.factory($),this.set($,xt)),xt}};function a$4(_e,$){let xt=_e(),bt=new Set;return{getSnapshot(){return xt},subscribe(St){return bt.add(St),()=>bt.delete(St)},dispatch(St,...At){let Ct=$[St].call(xt,...At);Ct&&(xt=Ct,bt.forEach(Et=>Et()))}}}function o$1(_e){return reactExports.useSyncExternalStore(_e.subscribe,_e.getSnapshot,_e.getSnapshot)}let p$2=new a$5(()=>a$4(()=>[],{ADD(_e){return this.includes(_e)?this:[...this,_e]},REMOVE(_e){let $=this.indexOf(_e);if($===-1)return this;let xt=this.slice();return xt.splice($,1),xt}}));function x(_e,$){let xt=p$2.get($),bt=reactExports.useId(),St=o$1(xt);if(n$3(()=>{if(_e)return xt.dispatch("ADD",bt),()=>xt.dispatch("REMOVE",bt)},[xt,_e]),!_e)return!1;let At=St.indexOf(bt),Ct=St.length;return At===-1&&(At=Ct,Ct+=1),At===Ct-1}let f$3=new Map,u$3=new Map;function h$1(_e){var $;let xt=($=u$3.get(_e))!=null?$:0;return u$3.set(_e,xt+1),xt!==0?()=>m$2(_e):(f$3.set(_e,{"aria-hidden":_e.getAttribute("aria-hidden"),inert:_e.inert}),_e.setAttribute("aria-hidden","true"),_e.inert=!0,()=>m$2(_e))}function m$2(_e){var $;let xt=($=u$3.get(_e))!=null?$:1;if(xt===1?u$3.delete(_e):u$3.set(_e,xt-1),xt!==1)return;let bt=f$3.get(_e);bt&&(bt["aria-hidden"]===null?_e.removeAttribute("aria-hidden"):_e.setAttribute("aria-hidden",bt["aria-hidden"]),_e.inert=bt.inert,f$3.delete(_e))}function y$3(_e,{allowed:$,disallowed:xt}={}){let bt=x(_e,"inert-others");n$3(()=>{var St,At;if(!bt)return;let Ct=o$4();for(let Pt of(St=xt==null?void 0:xt())!=null?St:[])Pt&&Ct.add(h$1(Pt));let Et=(At=$==null?void 0:$())!=null?At:[];for(let Pt of Et){if(!Pt)continue;let wt=u$7(Pt);if(!wt)continue;let kt=Pt.parentElement;for(;kt&&kt!==wt.body;){for(let _t of kt.children)Et.some(ht=>_t.contains(ht))||Ct.add(h$1(_t));kt=kt.parentElement}}return Ct.dispose},[bt,$,xt])}function m$1(_e,$,xt){let bt=s$4(St=>{let At=St.getBoundingClientRect();At.x===0&&At.y===0&&At.width===0&&At.height===0&&xt()});reactExports.useEffect(()=>{if(!_e)return;let St=$===null?null:$ instanceof HTMLElement?$:$.current;if(!St)return;let At=o$4();if(typeof ResizeObserver<"u"){let Ct=new ResizeObserver(()=>bt.current(St));Ct.observe(St),At.add(()=>Ct.disconnect())}if(typeof IntersectionObserver<"u"){let Ct=new IntersectionObserver(()=>bt.current(St));Ct.observe(St),At.add(()=>Ct.disconnect())}return()=>At.dispose()},[$,bt,_e])}let f$2=["[contentEditable=true]","[tabindex]","a[href]","area[href]","button:not([disabled])","iframe","input:not([disabled])","select:not([disabled])","textarea:not([disabled])"].map(_e=>`${_e}:not([tabindex='-1'])`).join(","),p$1=["[data-autofocus]"].map(_e=>`${_e}:not([tabindex='-1'])`).join(",");var F$3=(_e=>(_e[_e.First=1]="First",_e[_e.Previous=2]="Previous",_e[_e.Next=4]="Next",_e[_e.Last=8]="Last",_e[_e.WrapAround=16]="WrapAround",_e[_e.NoScroll=32]="NoScroll",_e[_e.AutoFocus=64]="AutoFocus",_e))(F$3||{}),T$1=(_e=>(_e[_e.Error=0]="Error",_e[_e.Overflow=1]="Overflow",_e[_e.Success=2]="Success",_e[_e.Underflow=3]="Underflow",_e))(T$1||{}),y$2=(_e=>(_e[_e.Previous=-1]="Previous",_e[_e.Next=1]="Next",_e))(y$2||{});function b(_e=document.body){return _e==null?[]:Array.from(_e.querySelectorAll(f$2)).sort(($,xt)=>Math.sign(($.tabIndex||Number.MAX_SAFE_INTEGER)-(xt.tabIndex||Number.MAX_SAFE_INTEGER)))}function S$2(_e=document.body){return _e==null?[]:Array.from(_e.querySelectorAll(p$1)).sort(($,xt)=>Math.sign(($.tabIndex||Number.MAX_SAFE_INTEGER)-(xt.tabIndex||Number.MAX_SAFE_INTEGER)))}var h=(_e=>(_e[_e.Strict=0]="Strict",_e[_e.Loose=1]="Loose",_e))(h||{});function A$1(_e,$=0){var xt;return _e===((xt=u$7(_e))==null?void 0:xt.body)?!1:u$6($,{0(){return _e.matches(f$2)},1(){let bt=_e;for(;bt!==null;){if(bt.matches(f$2))return!0;bt=bt.parentElement}return!1}})}function G(_e){let $=u$7(_e);o$4().nextFrame(()=>{$&&!A$1($.activeElement,0)&&I$1(_e)})}var H=(_e=>(_e[_e.Keyboard=0]="Keyboard",_e[_e.Mouse=1]="Mouse",_e))(H||{});typeof window<"u"&&typeof document<"u"&&(document.addEventListener("keydown",_e=>{_e.metaKey||_e.altKey||_e.ctrlKey||(document.documentElement.dataset.headlessuiFocusVisible="")},!0),document.addEventListener("click",_e=>{_e.detail===1?delete document.documentElement.dataset.headlessuiFocusVisible:_e.detail===0&&(document.documentElement.dataset.headlessuiFocusVisible="")},!0));function I$1(_e){_e==null||_e.focus({preventScroll:!0})}let w=["textarea","input"].join(",");function O(_e){var $,xt;return(xt=($=_e==null?void 0:_e.matches)==null?void 0:$.call(_e,w))!=null?xt:!1}function _(_e,$=xt=>xt){return _e.slice().sort((xt,bt)=>{let St=$(xt),At=$(bt);if(St===null||At===null)return 0;let Ct=St.compareDocumentPosition(At);return Ct&Node.DOCUMENT_POSITION_FOLLOWING?-1:Ct&Node.DOCUMENT_POSITION_PRECEDING?1:0})}function j$2(_e,$){return P(b(),$,{relativeTo:_e})}function P(_e,$,{sorted:xt=!0,relativeTo:bt=null,skipElements:St=[]}={}){let At=Array.isArray(_e)?_e.length>0?_e[0].ownerDocument:document:_e.ownerDocument,Ct=Array.isArray(_e)?xt?_(_e):_e:$&64?S$2(_e):b(_e);St.length>0&&Ct.length>1&&(Ct=Ct.filter(vt=>!St.some(Ft=>Ft!=null&&"current"in Ft?(Ft==null?void 0:Ft.current)===vt:Ft===vt))),bt=bt??At.activeElement;let Et=(()=>{if($&5)return 1;if($&10)return-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),Pt=(()=>{if($&1)return 0;if($&2)return Math.max(0,Ct.indexOf(bt))-1;if($&4)return Math.max(0,Ct.indexOf(bt))+1;if($&8)return Ct.length-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),wt=$&32?{preventScroll:!0}:{},kt=0,_t=Ct.length,ht;do{if(kt>=_t||kt+_t<=0)return 0;let vt=Pt+kt;if($&16)vt=(vt+_t)%_t;else{if(vt<0)return 3;if(vt>=_t)return 1}ht=Ct[vt],ht==null||ht.focus(wt),kt+=Et}while(ht!==At.activeElement);return $&6&&O(ht)&&ht.select(),2}function t$1(){return/iPhone/gi.test(window.navigator.platform)||/Mac/gi.test(window.navigator.platform)&&window.navigator.maxTouchPoints>0}function i$3(){return/Android/gi.test(window.navigator.userAgent)}function n$2(){return t$1()||i$3()}function i$2(_e,$,xt,bt){let St=s$4(xt);reactExports.useEffect(()=>{if(!_e)return;function At(Ct){St.current(Ct)}return document.addEventListener($,At,bt),()=>document.removeEventListener($,At,bt)},[_e,$,bt])}function s$2(_e,$,xt,bt){let St=s$4(xt);reactExports.useEffect(()=>{if(!_e)return;function At(Ct){St.current(Ct)}return window.addEventListener($,At,bt),()=>window.removeEventListener($,At,bt)},[_e,$,bt])}const d$2=30;function F$2(_e,$,xt){let bt=x(_e,"outside-click"),St=s$4(xt),At=reactExports.useCallback(function(Pt,wt){if(Pt.defaultPrevented)return;let kt=wt(Pt);if(kt===null||!kt.getRootNode().contains(kt)||!kt.isConnected)return;let _t=function ht(vt){return typeof vt=="function"?ht(vt()):Array.isArray(vt)||vt instanceof Set?vt:[vt]}($);for(let ht of _t){if(ht===null)continue;let vt=ht instanceof HTMLElement?ht:ht.current;if(vt!=null&&vt.contains(kt)||Pt.composed&&Pt.composedPath().includes(vt))return}return!A$1(kt,h.Loose)&&kt.tabIndex!==-1&&Pt.preventDefault(),St.current(Pt,kt)},[St]),Ct=reactExports.useRef(null);i$2(bt,"pointerdown",Pt=>{var wt,kt;Ct.current=((kt=(wt=Pt.composedPath)==null?void 0:wt.call(Pt))==null?void 0:kt[0])||Pt.target},!0),i$2(bt,"mousedown",Pt=>{var wt,kt;Ct.current=((kt=(wt=Pt.composedPath)==null?void 0:wt.call(Pt))==null?void 0:kt[0])||Pt.target},!0),i$2(bt,"click",Pt=>{n$2()||Ct.current&&(At(Pt,()=>Ct.current),Ct.current=null)},!0);let Et=reactExports.useRef({x:0,y:0});i$2(bt,"touchstart",Pt=>{Et.current.x=Pt.touches[0].clientX,Et.current.y=Pt.touches[0].clientY},!0),i$2(bt,"touchend",Pt=>{let wt={x:Pt.changedTouches[0].clientX,y:Pt.changedTouches[0].clientY};if(!(Math.abs(wt.x-Et.current.x)>=d$2||Math.abs(wt.y-Et.current.y)>=d$2))return At(Pt,()=>Pt.target instanceof HTMLElement?Pt.target:null)},!0),s$2(bt,"blur",Pt=>At(Pt,()=>window.document.activeElement instanceof HTMLIFrameElement?window.document.activeElement:null),!0)}function n$1(..._e){return reactExports.useMemo(()=>u$7(..._e),[..._e])}function i$1(_e){var $;if(_e.type)return _e.type;let xt=($=_e.as)!=null?$:"button";if(typeof xt=="string"&&xt.toLowerCase()==="button")return"button"}function T(_e,$){let[xt,bt]=reactExports.useState(()=>i$1(_e));return n$3(()=>{bt(i$1(_e))},[_e.type,_e.as]),n$3(()=>{xt||$.current&&$.current instanceof HTMLButtonElement&&!$.current.hasAttribute("type")&&bt("button")},[xt,$]),xt}function d$1(){let _e;return{before({doc:$}){var xt;let bt=$.documentElement,St=(xt=$.defaultView)!=null?xt:window;_e=Math.max(0,St.innerWidth-bt.clientWidth)},after({doc:$,d:xt}){let bt=$.documentElement,St=Math.max(0,bt.clientWidth-bt.offsetWidth),At=Math.max(0,_e-St);xt.style(bt,"paddingRight",`${At}px`)}}}function d(){return t$1()?{before({doc:_e,d:$,meta:xt}){function bt(St){return xt.containers.flatMap(At=>At()).some(At=>At.contains(St))}$.microTask(()=>{var St;if(window.getComputedStyle(_e.documentElement).scrollBehavior!=="auto"){let Et=o$4();Et.style(_e.documentElement,"scrollBehavior","auto"),$.add(()=>$.microTask(()=>Et.dispose()))}let At=(St=window.scrollY)!=null?St:window.pageYOffset,Ct=null;$.addEventListener(_e,"click",Et=>{if(Et.target instanceof HTMLElement)try{let Pt=Et.target.closest("a");if(!Pt)return;let{hash:wt}=new URL(Pt.href),kt=_e.querySelector(wt);kt&&!bt(kt)&&(Ct=kt)}catch{}},!0),$.addEventListener(_e,"touchstart",Et=>{if(Et.target instanceof HTMLElement)if(bt(Et.target)){let Pt=Et.target;for(;Pt.parentElement&&bt(Pt.parentElement);)Pt=Pt.parentElement;$.style(Pt,"overscrollBehavior","contain")}else $.style(Et.target,"touchAction","none")}),$.addEventListener(_e,"touchmove",Et=>{if(Et.target instanceof HTMLElement){if(Et.target.tagName==="INPUT")return;if(bt(Et.target)){let Pt=Et.target;for(;Pt.parentElement&&Pt.dataset.headlessuiPortal!==""&&!(Pt.scrollHeight>Pt.clientHeight||Pt.scrollWidth>Pt.clientWidth);)Pt=Pt.parentElement;Pt.dataset.headlessuiPortal===""&&Et.preventDefault()}else Et.preventDefault()}},{passive:!1}),$.add(()=>{var Et;let Pt=(Et=window.scrollY)!=null?Et:window.pageYOffset;At!==Pt&&window.scrollTo(0,At),Ct&&Ct.isConnected&&(Ct.scrollIntoView({block:"nearest"}),Ct=null)})})}}:{}}function r(){return{before({doc:_e,d:$}){$.style(_e.documentElement,"overflow","hidden")}}}function m(_e){let $={};for(let xt of _e)Object.assign($,xt($));return $}let a$3=a$4(()=>new Map,{PUSH(_e,$){var xt;let bt=(xt=this.get(_e))!=null?xt:{doc:_e,count:0,d:o$4(),meta:new Set};return bt.count++,bt.meta.add($),this.set(_e,bt),this},POP(_e,$){let xt=this.get(_e);return xt&&(xt.count--,xt.meta.delete($)),this},SCROLL_PREVENT({doc:_e,d:$,meta:xt}){let bt={doc:_e,d:$,meta:m(xt)},St=[d(),d$1(),r()];St.forEach(({before:At})=>At==null?void 0:At(bt)),St.forEach(({after:At})=>At==null?void 0:At(bt))},SCROLL_ALLOW({d:_e}){_e.dispose()},TEARDOWN({doc:_e}){this.delete(_e)}});a$3.subscribe(()=>{let _e=a$3.getSnapshot(),$=new Map;for(let[xt]of _e)$.set(xt,xt.documentElement.style.overflow);for(let xt of _e.values()){let bt=$.get(xt.doc)==="hidden",St=xt.count!==0;(St&&!bt||!St&&bt)&&a$3.dispatch(xt.count>0?"SCROLL_PREVENT":"SCROLL_ALLOW",xt),xt.count===0&&a$3.dispatch("TEARDOWN",xt)}});function a$2(_e,$,xt=()=>({containers:[]})){let bt=o$1(a$3),St=$?bt.get($):void 0,At=St?St.count>0:!1;return n$3(()=>{if(!(!$||!_e))return a$3.dispatch("PUSH",$,xt),()=>a$3.dispatch("POP",$,xt)},[_e,$]),At}function f$1(_e,$,xt=()=>[document.body]){let bt=x(_e,"scroll-lock");a$2(bt,$,St=>{var At;return{containers:[...(At=St.containers)!=null?At:[],xt]}})}function t(_e){return[_e.screenX,_e.screenY]}function u$2(){let _e=reactExports.useRef([-1,-1]);return{wasMoved($){let xt=t($);return _e.current[0]===xt[0]&&_e.current[1]===xt[1]?!1:(_e.current=xt,!0)},update($){_e.current=t($)}}}function l$1(_e){let $={called:!1};return(...xt)=>{if(!$.called)return $.called=!0,_e(...xt)}}function c$3(_e=0){let[$,xt]=reactExports.useState(_e),bt=reactExports.useCallback(Pt=>xt(Pt),[$]),St=reactExports.useCallback(Pt=>xt(wt=>wt|Pt),[$]),At=reactExports.useCallback(Pt=>($&Pt)===Pt,[$]),Ct=reactExports.useCallback(Pt=>xt(wt=>wt&~Pt),[xt]),Et=reactExports.useCallback(Pt=>xt(wt=>wt^Pt),[xt]);return{flags:$,setFlag:bt,addFlag:St,hasFlag:At,removeFlag:Ct,toggleFlag:Et}}var D$2=(_e=>(_e[_e.None=0]="None",_e[_e.Closed=1]="Closed",_e[_e.Enter=2]="Enter",_e[_e.Leave=4]="Leave",_e))(D$2||{});function A(_e){let $={};for(let xt in _e)_e[xt]===!0&&($[`data-${xt}`]="");return $}function V(_e,$,xt,bt){let[St,At]=reactExports.useState(xt),{hasFlag:Ct,addFlag:Et,removeFlag:Pt}=c$3(_e&&St?3:0),wt=reactExports.useRef(!1),kt=reactExports.useRef(!1),_t=p$3();return n$3(function ht(){var vt;if(!_e)return;xt&&At(!0);let Ft=$.current;return Ft?((vt=void 0)==null||vt.call(bt,xt),M$1(Ft,{inFlight:wt,prepare(){kt.current?kt.current=!1:kt.current=wt.current,wt.current=!0,!kt.current&&(xt?(Et(3),Pt(4)):(Et(4),Pt(2)))},run(){kt.current?xt?(Pt(3),Et(4)):(Pt(4),Et(3)):xt?Pt(1):Et(1)},done(){var Vt;kt.current&&typeof Ft.getAnimations=="function"&&Ft.getAnimations().length>0||(wt.current=!1,Pt(7),xt||At(!1),(Vt=void 0)==null||Vt.call(bt,xt))}})):xt?(Et(3),_t.nextFrame(()=>ht())):void 0},[_e,xt,$,_t]),_e?[St,{closed:Ct(1),enter:Ct(2),leave:Ct(4),transition:Ct(2)||Ct(4)}]:[xt,{closed:void 0,enter:void 0,leave:void 0,transition:void 0}]}function M$1(_e,{prepare:$,run:xt,done:bt,inFlight:St}){let At=o$4();return R(_e,{prepare:$,inFlight:St}),At.nextFrame(()=>{At.add(F$1(_e,bt)),xt()}),At.dispose}function F$1(_e,$){let xt=l$1($),bt=o$4();if(!_e)return bt.dispose;let{transitionDuration:St,transitionDelay:At}=getComputedStyle(_e),[Ct,Et]=[St,At].map(wt=>{let[kt=0]=wt.split(",").filter(Boolean).map(_t=>_t.includes("ms")?parseFloat(_t):parseFloat(_t)*1e3).sort((_t,ht)=>ht-_t);return kt}),Pt=Ct+Et;if(Pt!==0){let wt=bt.group(kt=>{let _t=kt.setTimeout(()=>{xt(),kt.dispose()},Pt);kt.addEventListener(_e,"transitionrun",ht=>{ht.target===ht.currentTarget&&(_t(),kt.addEventListener(_e,"transitioncancel",vt=>{vt.target===vt.currentTarget&&(xt(),wt())}))})});bt.addEventListener(_e,"transitionend",kt=>{kt.target===kt.currentTarget&&(xt(),bt.dispose())})}else xt();return bt.dispose}function R(_e,{inFlight:$,prepare:xt}){if($!=null&&$.current){xt();return}let bt=_e.style.transition;_e.style.transition="none",xt(),_e.offsetHeight,_e.style.transition=bt}function F(_e,{container:$,accept:xt,walk:bt}){let St=reactExports.useRef(xt),At=reactExports.useRef(bt);reactExports.useEffect(()=>{St.current=xt,At.current=bt},[xt,bt]),n$3(()=>{if(!$||!_e)return;let Ct=u$7($);if(!Ct)return;let Et=St.current,Pt=At.current,wt=Object.assign(_t=>Et(_t),{acceptNode:Et}),kt=Ct.createTreeWalker($,NodeFilter.SHOW_ELEMENT,wt,!1);for(;kt.nextNode();)Pt(kt.currentNode)},[$,_e,St,At])}function getNodeName(_e){return isNode(_e)?(_e.nodeName||"").toLowerCase():"#document"}function getWindow(_e){var $;return(_e==null||($=_e.ownerDocument)==null?void 0:$.defaultView)||window}function getDocumentElement(_e){var $;return($=(isNode(_e)?_e.ownerDocument:_e.document)||window.document)==null?void 0:$.documentElement}function isNode(_e){return _e instanceof Node||_e instanceof getWindow(_e).Node}function isElement(_e){return _e instanceof Element||_e instanceof getWindow(_e).Element}function isHTMLElement(_e){return _e instanceof HTMLElement||_e instanceof getWindow(_e).HTMLElement}function isShadowRoot(_e){return typeof ShadowRoot>"u"?!1:_e instanceof ShadowRoot||_e instanceof getWindow(_e).ShadowRoot}function isOverflowElement(_e){const{overflow:$,overflowX:xt,overflowY:bt,display:St}=getComputedStyle$2(_e);return/auto|scroll|overlay|hidden|clip/.test($+bt+xt)&&!["inline","contents"].includes(St)}function isTableElement(_e){return["table","td","th"].includes(getNodeName(_e))}function isTopLayer(_e){return[":popover-open",":modal"].some($=>{try{return _e.matches($)}catch{return!1}})}function isContainingBlock(_e){const $=isWebKit(),xt=getComputedStyle$2(_e);return xt.transform!=="none"||xt.perspective!=="none"||(xt.containerType?xt.containerType!=="normal":!1)||!$&&(xt.backdropFilter?xt.backdropFilter!=="none":!1)||!$&&(xt.filter?xt.filter!=="none":!1)||["transform","perspective","filter"].some(bt=>(xt.willChange||"").includes(bt))||["paint","layout","strict","content"].some(bt=>(xt.contain||"").includes(bt))}function getContainingBlock(_e){let $=getParentNode(_e);for(;isHTMLElement($)&&!isLastTraversableNode($);){if(isTopLayer($))return null;if(isContainingBlock($))return $;$=getParentNode($)}return null}function isWebKit(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function isLastTraversableNode(_e){return["html","body","#document"].includes(getNodeName(_e))}function getComputedStyle$2(_e){return getWindow(_e).getComputedStyle(_e)}function getNodeScroll(_e){return isElement(_e)?{scrollLeft:_e.scrollLeft,scrollTop:_e.scrollTop}:{scrollLeft:_e.pageXOffset,scrollTop:_e.pageYOffset}}function getParentNode(_e){if(getNodeName(_e)==="html")return _e;const $=_e.assignedSlot||_e.parentNode||isShadowRoot(_e)&&_e.host||getDocumentElement(_e);return isShadowRoot($)?$.host:$}function getNearestOverflowAncestor(_e){const $=getParentNode(_e);return isLastTraversableNode($)?_e.ownerDocument?_e.ownerDocument.body:_e.body:isHTMLElement($)&&isOverflowElement($)?$:getNearestOverflowAncestor($)}function getOverflowAncestors(_e,$,xt){var bt;$===void 0&&($=[]),xt===void 0&&(xt=!0);const St=getNearestOverflowAncestor(_e),At=St===((bt=_e.ownerDocument)==null?void 0:bt.body),Ct=getWindow(St);return At?$.concat(Ct,Ct.visualViewport||[],isOverflowElement(St)?St:[],Ct.frameElement&&xt?getOverflowAncestors(Ct.frameElement):[]):$.concat(St,getOverflowAncestors(St,[],xt))}function getUserAgent(){const _e=navigator.userAgentData;return _e&&Array.isArray(_e.brands)?_e.brands.map($=>{let{brand:xt,version:bt}=$;return xt+"/"+bt}).join(" "):navigator.userAgent}const min=Math.min,max=Math.max,round=Math.round,floor=Math.floor,createCoords=_e=>({x:_e,y:_e}),oppositeSideMap={left:"right",right:"left",bottom:"top",top:"bottom"},oppositeAlignmentMap={start:"end",end:"start"};function clamp$1(_e,$,xt){return max(_e,min($,xt))}function evaluate(_e,$){return typeof _e=="function"?_e($):_e}function getSide(_e){return _e.split("-")[0]}function getAlignment(_e){return _e.split("-")[1]}function getOppositeAxis(_e){return _e==="x"?"y":"x"}function getAxisLength(_e){return _e==="y"?"height":"width"}function getSideAxis(_e){return["top","bottom"].includes(getSide(_e))?"y":"x"}function getAlignmentAxis(_e){return getOppositeAxis(getSideAxis(_e))}function getAlignmentSides(_e,$,xt){xt===void 0&&(xt=!1);const bt=getAlignment(_e),St=getAlignmentAxis(_e),At=getAxisLength(St);let Ct=St==="x"?bt===(xt?"end":"start")?"right":"left":bt==="start"?"bottom":"top";return $.reference[At]>$.floating[At]&&(Ct=getOppositePlacement(Ct)),[Ct,getOppositePlacement(Ct)]}function getExpandedPlacements(_e){const $=getOppositePlacement(_e);return[getOppositeAlignmentPlacement(_e),$,getOppositeAlignmentPlacement($)]}function getOppositeAlignmentPlacement(_e){return _e.replace(/start|end/g,$=>oppositeAlignmentMap[$])}function getSideList(_e,$,xt){const bt=["left","right"],St=["right","left"],At=["top","bottom"],Ct=["bottom","top"];switch(_e){case"top":case"bottom":return xt?$?St:bt:$?bt:St;case"left":case"right":return $?At:Ct;default:return[]}}function getOppositeAxisPlacements(_e,$,xt,bt){const St=getAlignment(_e);let At=getSideList(getSide(_e),xt==="start",bt);return St&&(At=At.map(Ct=>Ct+"-"+St),$&&(At=At.concat(At.map(getOppositeAlignmentPlacement)))),At}function getOppositePlacement(_e){return _e.replace(/left|right|bottom|top/g,$=>oppositeSideMap[$])}function expandPaddingObject(_e){return{top:0,right:0,bottom:0,left:0,..._e}}function getPaddingObject(_e){return typeof _e!="number"?expandPaddingObject(_e):{top:_e,right:_e,bottom:_e,left:_e}}function rectToClientRect(_e){const{x:$,y:xt,width:bt,height:St}=_e;return{width:bt,height:St,top:xt,left:$,right:$+bt,bottom:xt+St,x:$,y:xt}}function computeCoordsFromPlacement(_e,$,xt){let{reference:bt,floating:St}=_e;const At=getSideAxis($),Ct=getAlignmentAxis($),Et=getAxisLength(Ct),Pt=getSide($),wt=At==="y",kt=bt.x+bt.width/2-St.width/2,_t=bt.y+bt.height/2-St.height/2,ht=bt[Et]/2-St[Et]/2;let vt;switch(Pt){case"top":vt={x:kt,y:bt.y-St.height};break;case"bottom":vt={x:kt,y:bt.y+bt.height};break;case"right":vt={x:bt.x+bt.width,y:_t};break;case"left":vt={x:bt.x-St.width,y:_t};break;default:vt={x:bt.x,y:bt.y}}switch(getAlignment($)){case"start":vt[Ct]-=ht*(xt&&wt?-1:1);break;case"end":vt[Ct]+=ht*(xt&&wt?-1:1);break}return vt}const computePosition$1=async(_e,$,xt)=>{const{placement:bt="bottom",strategy:St="absolute",middleware:At=[],platform:Ct}=xt,Et=At.filter(Boolean),Pt=await(Ct.isRTL==null?void 0:Ct.isRTL($));let wt=await Ct.getElementRects({reference:_e,floating:$,strategy:St}),{x:kt,y:_t}=computeCoordsFromPlacement(wt,bt,Pt),ht=bt,vt={},Ft=0;for(let Vt=0;Vt<Et.length;Vt++){const{name:qt,fn:Lt}=Et[Vt],{x:$t,y:Ot,data:jt,reset:Rt}=await Lt({x:kt,y:_t,initialPlacement:bt,placement:ht,strategy:St,middlewareData:vt,rects:wt,platform:Ct,elements:{reference:_e,floating:$}});kt=$t??kt,_t=Ot??_t,vt={...vt,[qt]:{...vt[qt],...jt}},Rt&&Ft<=50&&(Ft++,typeof Rt=="object"&&(Rt.placement&&(ht=Rt.placement),Rt.rects&&(wt=Rt.rects===!0?await Ct.getElementRects({reference:_e,floating:$,strategy:St}):Rt.rects),{x:kt,y:_t}=computeCoordsFromPlacement(wt,ht,Pt)),Vt=-1)}return{x:kt,y:_t,placement:ht,strategy:St,middlewareData:vt}};async function detectOverflow$1(_e,$){var xt;$===void 0&&($={});const{x:bt,y:St,platform:At,rects:Ct,elements:Et,strategy:Pt}=_e,{boundary:wt="clippingAncestors",rootBoundary:kt="viewport",elementContext:_t="floating",altBoundary:ht=!1,padding:vt=0}=evaluate($,_e),Ft=getPaddingObject(vt),qt=Et[ht?_t==="floating"?"reference":"floating":_t],Lt=rectToClientRect(await At.getClippingRect({element:(xt=await(At.isElement==null?void 0:At.isElement(qt)))==null||xt?qt:qt.contextElement||await(At.getDocumentElement==null?void 0:At.getDocumentElement(Et.floating)),boundary:wt,rootBoundary:kt,strategy:Pt})),$t=_t==="floating"?{x:bt,y:St,width:Ct.floating.width,height:Ct.floating.height}:Ct.reference,Ot=await(At.getOffsetParent==null?void 0:At.getOffsetParent(Et.floating)),jt=await(At.isElement==null?void 0:At.isElement(Ot))?await(At.getScale==null?void 0:At.getScale(Ot))||{x:1,y:1}:{x:1,y:1},Rt=rectToClientRect(At.convertOffsetParentRelativeRectToViewportRelativeRect?await At.convertOffsetParentRelativeRectToViewportRelativeRect({elements:Et,rect:$t,offsetParent:Ot,strategy:Pt}):$t);return{top:(Lt.top-Rt.top+Ft.top)/jt.y,bottom:(Rt.bottom-Lt.bottom+Ft.bottom)/jt.y,left:(Lt.left-Rt.left+Ft.left)/jt.x,right:(Rt.right-Lt.right+Ft.right)/jt.x}}const flip$2=function(_e){return _e===void 0&&(_e={}),{name:"flip",options:_e,async fn($){var xt,bt;const{placement:St,middlewareData:At,rects:Ct,initialPlacement:Et,platform:Pt,elements:wt}=$,{mainAxis:kt=!0,crossAxis:_t=!0,fallbackPlacements:ht,fallbackStrategy:vt="bestFit",fallbackAxisSideDirection:Ft="none",flipAlignment:Vt=!0,...qt}=evaluate(_e,$);if((xt=At.arrow)!=null&&xt.alignmentOffset)return{};const Lt=getSide(St),$t=getSideAxis(Et),Ot=getSide(Et)===Et,jt=await(Pt.isRTL==null?void 0:Pt.isRTL(wt.floating)),Rt=ht||(Ot||!Vt?[getOppositePlacement(Et)]:getExpandedPlacements(Et)),Kt=Ft!=="none";!ht&&Kt&&Rt.push(...getOppositeAxisPlacements(Et,Vt,Ft,jt));const Bt=[Et,...Rt],Gt=await detectOverflow$1($,qt),en=[];let hn=((bt=At.flip)==null?void 0:bt.overflows)||[];if(kt&&en.push(Gt[Lt]),_t){const bn=getAlignmentSides(St,Ct,jt);en.push(Gt[bn[0]],Gt[bn[1]])}if(hn=[...hn,{placement:St,overflows:en}],!en.every(bn=>bn<=0)){var tn,gn;const bn=(((tn=At.flip)==null?void 0:tn.index)||0)+1,Wt=Bt[bn];if(Wt)return{data:{index:bn,overflows:hn},reset:{placement:Wt}};let Yt=(gn=hn.filter(dn=>dn.overflows[0]<=0).sort((dn,Ut)=>dn.overflows[1]-Ut.overflows[1])[0])==null?void 0:gn.placement;if(!Yt)switch(vt){case"bestFit":{var nn;const dn=(nn=hn.filter(Ut=>{if(Kt){const Mt=getSideAxis(Ut.placement);return Mt===$t||Mt==="y"}return!0}).map(Ut=>[Ut.placement,Ut.overflows.filter(Mt=>Mt>0).reduce((Mt,Ht)=>Mt+Ht,0)]).sort((Ut,Mt)=>Ut[1]-Mt[1])[0])==null?void 0:nn[0];dn&&(Yt=dn);break}case"initialPlacement":Yt=Et;break}if(St!==Yt)return{reset:{placement:Yt}}}return{}}}};async function convertValueToCoords(_e,$){const{placement:xt,platform:bt,elements:St}=_e,At=await(bt.isRTL==null?void 0:bt.isRTL(St.floating)),Ct=getSide(xt),Et=getAlignment(xt),Pt=getSideAxis(xt)==="y",wt=["left","top"].includes(Ct)?-1:1,kt=At&&Pt?-1:1,_t=evaluate($,_e);let{mainAxis:ht,crossAxis:vt,alignmentAxis:Ft}=typeof _t=="number"?{mainAxis:_t,crossAxis:0,alignmentAxis:null}:{mainAxis:0,crossAxis:0,alignmentAxis:null,..._t};return Et&&typeof Ft=="number"&&(vt=Et==="end"?Ft*-1:Ft),Pt?{x:vt*kt,y:ht*wt}:{x:ht*wt,y:vt*kt}}const offset$2=function(_e){return _e===void 0&&(_e=0),{name:"offset",options:_e,async fn($){var xt,bt;const{x:St,y:At,placement:Ct,middlewareData:Et}=$,Pt=await convertValueToCoords($,_e);return Ct===((xt=Et.offset)==null?void 0:xt.placement)&&(bt=Et.arrow)!=null&&bt.alignmentOffset?{}:{x:St+Pt.x,y:At+Pt.y,data:{...Pt,placement:Ct}}}}},shift$2=function(_e){return _e===void 0&&(_e={}),{name:"shift",options:_e,async fn($){const{x:xt,y:bt,placement:St}=$,{mainAxis:At=!0,crossAxis:Ct=!1,limiter:Et={fn:qt=>{let{x:Lt,y:$t}=qt;return{x:Lt,y:$t}}},...Pt}=evaluate(_e,$),wt={x:xt,y:bt},kt=await detectOverflow$1($,Pt),_t=getSideAxis(getSide(St)),ht=getOppositeAxis(_t);let vt=wt[ht],Ft=wt[_t];if(At){const qt=ht==="y"?"top":"left",Lt=ht==="y"?"bottom":"right",$t=vt+kt[qt],Ot=vt-kt[Lt];vt=clamp$1($t,vt,Ot)}if(Ct){const qt=_t==="y"?"top":"left",Lt=_t==="y"?"bottom":"right",$t=Ft+kt[qt],Ot=Ft-kt[Lt];Ft=clamp$1($t,Ft,Ot)}const Vt=Et.fn({...$,[ht]:vt,[_t]:Ft});return{...Vt,data:{x:Vt.x-xt,y:Vt.y-bt}}}}},size$2=function(_e){return _e===void 0&&(_e={}),{name:"size",options:_e,async fn($){const{placement:xt,rects:bt,platform:St,elements:At}=$,{apply:Ct=()=>{},...Et}=evaluate(_e,$),Pt=await detectOverflow$1($,Et),wt=getSide(xt),kt=getAlignment(xt),_t=getSideAxis(xt)==="y",{width:ht,height:vt}=bt.floating;let Ft,Vt;wt==="top"||wt==="bottom"?(Ft=wt,Vt=kt===(await(St.isRTL==null?void 0:St.isRTL(At.floating))?"start":"end")?"left":"right"):(Vt=wt,Ft=kt==="end"?"top":"bottom");const qt=vt-Pt.top-Pt.bottom,Lt=ht-Pt.left-Pt.right,$t=min(vt-Pt[Ft],qt),Ot=min(ht-Pt[Vt],Lt),jt=!$.middlewareData.shift;let Rt=$t,Kt=Ot;if(_t?Kt=kt||jt?min(Ot,Lt):Lt:Rt=kt||jt?min($t,qt):qt,jt&&!kt){const Gt=max(Pt.left,0),en=max(Pt.right,0),hn=max(Pt.top,0),tn=max(Pt.bottom,0);_t?Kt=ht-2*(Gt!==0||en!==0?Gt+en:max(Pt.left,Pt.right)):Rt=vt-2*(hn!==0||tn!==0?hn+tn:max(Pt.top,Pt.bottom))}await Ct({...$,availableWidth:Kt,availableHeight:Rt});const Bt=await St.getDimensions(At.floating);return ht!==Bt.width||vt!==Bt.height?{reset:{rects:!0}}:{}}}};function getCssDimensions(_e){const $=getComputedStyle$2(_e);let xt=parseFloat($.width)||0,bt=parseFloat($.height)||0;const St=isHTMLElement(_e),At=St?_e.offsetWidth:xt,Ct=St?_e.offsetHeight:bt,Et=round(xt)!==At||round(bt)!==Ct;return Et&&(xt=At,bt=Ct),{width:xt,height:bt,$:Et}}function unwrapElement(_e){return isElement(_e)?_e:_e.contextElement}function getScale(_e){const $=unwrapElement(_e);if(!isHTMLElement($))return createCoords(1);const xt=$.getBoundingClientRect(),{width:bt,height:St,$:At}=getCssDimensions($);let Ct=(At?round(xt.width):xt.width)/bt,Et=(At?round(xt.height):xt.height)/St;return(!Ct||!Number.isFinite(Ct))&&(Ct=1),(!Et||!Number.isFinite(Et))&&(Et=1),{x:Ct,y:Et}}const noOffsets=createCoords(0);function getVisualOffsets(_e){const $=getWindow(_e);return!isWebKit()||!$.visualViewport?noOffsets:{x:$.visualViewport.offsetLeft,y:$.visualViewport.offsetTop}}function shouldAddVisualOffsets(_e,$,xt){return $===void 0&&($=!1),!xt||$&&xt!==getWindow(_e)?!1:$}function getBoundingClientRect(_e,$,xt,bt){$===void 0&&($=!1),xt===void 0&&(xt=!1);const St=_e.getBoundingClientRect(),At=unwrapElement(_e);let Ct=createCoords(1);$&&(bt?isElement(bt)&&(Ct=getScale(bt)):Ct=getScale(_e));const Et=shouldAddVisualOffsets(At,xt,bt)?getVisualOffsets(At):createCoords(0);let Pt=(St.left+Et.x)/Ct.x,wt=(St.top+Et.y)/Ct.y,kt=St.width/Ct.x,_t=St.height/Ct.y;if(At){const ht=getWindow(At),vt=bt&&isElement(bt)?getWindow(bt):bt;let Ft=ht,Vt=Ft.frameElement;for(;Vt&&bt&&vt!==Ft;){const qt=getScale(Vt),Lt=Vt.getBoundingClientRect(),$t=getComputedStyle$2(Vt),Ot=Lt.left+(Vt.clientLeft+parseFloat($t.paddingLeft))*qt.x,jt=Lt.top+(Vt.clientTop+parseFloat($t.paddingTop))*qt.y;Pt*=qt.x,wt*=qt.y,kt*=qt.x,_t*=qt.y,Pt+=Ot,wt+=jt,Ft=getWindow(Vt),Vt=Ft.frameElement}}return rectToClientRect({width:kt,height:_t,x:Pt,y:wt})}function convertOffsetParentRelativeRectToViewportRelativeRect(_e){let{elements:$,rect:xt,offsetParent:bt,strategy:St}=_e;const At=St==="fixed",Ct=getDocumentElement(bt),Et=$?isTopLayer($.floating):!1;if(bt===Ct||Et&&At)return xt;let Pt={scrollLeft:0,scrollTop:0},wt=createCoords(1);const kt=createCoords(0),_t=isHTMLElement(bt);if((_t||!_t&&!At)&&((getNodeName(bt)!=="body"||isOverflowElement(Ct))&&(Pt=getNodeScroll(bt)),isHTMLElement(bt))){const ht=getBoundingClientRect(bt);wt=getScale(bt),kt.x=ht.x+bt.clientLeft,kt.y=ht.y+bt.clientTop}return{width:xt.width*wt.x,height:xt.height*wt.y,x:xt.x*wt.x-Pt.scrollLeft*wt.x+kt.x,y:xt.y*wt.y-Pt.scrollTop*wt.y+kt.y}}function getClientRects(_e){return Array.from(_e.getClientRects())}function getWindowScrollBarX(_e){return getBoundingClientRect(getDocumentElement(_e)).left+getNodeScroll(_e).scrollLeft}function getDocumentRect(_e){const $=getDocumentElement(_e),xt=getNodeScroll(_e),bt=_e.ownerDocument.body,St=max($.scrollWidth,$.clientWidth,bt.scrollWidth,bt.clientWidth),At=max($.scrollHeight,$.clientHeight,bt.scrollHeight,bt.clientHeight);let Ct=-xt.scrollLeft+getWindowScrollBarX(_e);const Et=-xt.scrollTop;return getComputedStyle$2(bt).direction==="rtl"&&(Ct+=max($.clientWidth,bt.clientWidth)-St),{width:St,height:At,x:Ct,y:Et}}function getViewportRect(_e,$){const xt=getWindow(_e),bt=getDocumentElement(_e),St=xt.visualViewport;let At=bt.clientWidth,Ct=bt.clientHeight,Et=0,Pt=0;if(St){At=St.width,Ct=St.height;const wt=isWebKit();(!wt||wt&&$==="fixed")&&(Et=St.offsetLeft,Pt=St.offsetTop)}return{width:At,height:Ct,x:Et,y:Pt}}function getInnerBoundingClientRect(_e,$){const xt=getBoundingClientRect(_e,!0,$==="fixed"),bt=xt.top+_e.clientTop,St=xt.left+_e.clientLeft,At=isHTMLElement(_e)?getScale(_e):createCoords(1),Ct=_e.clientWidth*At.x,Et=_e.clientHeight*At.y,Pt=St*At.x,wt=bt*At.y;return{width:Ct,height:Et,x:Pt,y:wt}}function getClientRectFromClippingAncestor(_e,$,xt){let bt;if($==="viewport")bt=getViewportRect(_e,xt);else if($==="document")bt=getDocumentRect(getDocumentElement(_e));else if(isElement($))bt=getInnerBoundingClientRect($,xt);else{const St=getVisualOffsets(_e);bt={...$,x:$.x-St.x,y:$.y-St.y}}return rectToClientRect(bt)}function hasFixedPositionAncestor(_e,$){const xt=getParentNode(_e);return xt===$||!isElement(xt)||isLastTraversableNode(xt)?!1:getComputedStyle$2(xt).position==="fixed"||hasFixedPositionAncestor(xt,$)}function getClippingElementAncestors(_e,$){const xt=$.get(_e);if(xt)return xt;let bt=getOverflowAncestors(_e,[],!1).filter(Et=>isElement(Et)&&getNodeName(Et)!=="body"),St=null;const At=getComputedStyle$2(_e).position==="fixed";let Ct=At?getParentNode(_e):_e;for(;isElement(Ct)&&!isLastTraversableNode(Ct);){const Et=getComputedStyle$2(Ct),Pt=isContainingBlock(Ct);!Pt&&Et.position==="fixed"&&(St=null),(At?!Pt&&!St:!Pt&&Et.position==="static"&&!!St&&["absolute","fixed"].includes(St.position)||isOverflowElement(Ct)&&!Pt&&hasFixedPositionAncestor(_e,Ct))?bt=bt.filter(kt=>kt!==Ct):St=Et,Ct=getParentNode(Ct)}return $.set(_e,bt),bt}function getClippingRect(_e){let{element:$,boundary:xt,rootBoundary:bt,strategy:St}=_e;const Ct=[...xt==="clippingAncestors"?isTopLayer($)?[]:getClippingElementAncestors($,this._c):[].concat(xt),bt],Et=Ct[0],Pt=Ct.reduce((wt,kt)=>{const _t=getClientRectFromClippingAncestor($,kt,St);return wt.top=max(_t.top,wt.top),wt.right=min(_t.right,wt.right),wt.bottom=min(_t.bottom,wt.bottom),wt.left=max(_t.left,wt.left),wt},getClientRectFromClippingAncestor($,Et,St));return{width:Pt.right-Pt.left,height:Pt.bottom-Pt.top,x:Pt.left,y:Pt.top}}function getDimensions(_e){const{width:$,height:xt}=getCssDimensions(_e);return{width:$,height:xt}}function getRectRelativeToOffsetParent(_e,$,xt){const bt=isHTMLElement($),St=getDocumentElement($),At=xt==="fixed",Ct=getBoundingClientRect(_e,!0,At,$);let Et={scrollLeft:0,scrollTop:0};const Pt=createCoords(0);if(bt||!bt&&!At)if((getNodeName($)!=="body"||isOverflowElement(St))&&(Et=getNodeScroll($)),bt){const _t=getBoundingClientRect($,!0,At,$);Pt.x=_t.x+$.clientLeft,Pt.y=_t.y+$.clientTop}else St&&(Pt.x=getWindowScrollBarX(St));const wt=Ct.left+Et.scrollLeft-Pt.x,kt=Ct.top+Et.scrollTop-Pt.y;return{x:wt,y:kt,width:Ct.width,height:Ct.height}}function isStaticPositioned(_e){return getComputedStyle$2(_e).position==="static"}function getTrueOffsetParent(_e,$){return!isHTMLElement(_e)||getComputedStyle$2(_e).position==="fixed"?null:$?$(_e):_e.offsetParent}function getOffsetParent(_e,$){const xt=getWindow(_e);if(isTopLayer(_e))return xt;if(!isHTMLElement(_e)){let St=getParentNode(_e);for(;St&&!isLastTraversableNode(St);){if(isElement(St)&&!isStaticPositioned(St))return St;St=getParentNode(St)}return xt}let bt=getTrueOffsetParent(_e,$);for(;bt&&isTableElement(bt)&&isStaticPositioned(bt);)bt=getTrueOffsetParent(bt,$);return bt&&isLastTraversableNode(bt)&&isStaticPositioned(bt)&&!isContainingBlock(bt)?xt:bt||getContainingBlock(_e)||xt}const getElementRects=async function(_e){const $=this.getOffsetParent||getOffsetParent,xt=this.getDimensions,bt=await xt(_e.floating);return{reference:getRectRelativeToOffsetParent(_e.reference,await $(_e.floating),_e.strategy),floating:{x:0,y:0,width:bt.width,height:bt.height}}};function isRTL(_e){return getComputedStyle$2(_e).direction==="rtl"}const platform$2={convertOffsetParentRelativeRectToViewportRelativeRect,getDocumentElement,getClippingRect,getOffsetParent,getElementRects,getClientRects,getDimensions,getScale,isElement,isRTL};function observeMove(_e,$){let xt=null,bt;const St=getDocumentElement(_e);function At(){var Et;clearTimeout(bt),(Et=xt)==null||Et.disconnect(),xt=null}function Ct(Et,Pt){Et===void 0&&(Et=!1),Pt===void 0&&(Pt=1),At();const{left:wt,top:kt,width:_t,height:ht}=_e.getBoundingClientRect();if(Et||$(),!_t||!ht)return;const vt=floor(kt),Ft=floor(St.clientWidth-(wt+_t)),Vt=floor(St.clientHeight-(kt+ht)),qt=floor(wt),$t={rootMargin:-vt+"px "+-Ft+"px "+-Vt+"px "+-qt+"px",threshold:max(0,min(1,Pt))||1};let Ot=!0;function jt(Rt){const Kt=Rt[0].intersectionRatio;if(Kt!==Pt){if(!Ot)return Ct();Kt?Ct(!1,Kt):bt=setTimeout(()=>{Ct(!1,1e-7)},1e3)}Ot=!1}try{xt=new IntersectionObserver(jt,{...$t,root:St.ownerDocument})}catch{xt=new IntersectionObserver(jt,$t)}xt.observe(_e)}return Ct(!0),At}function autoUpdate(_e,$,xt,bt){bt===void 0&&(bt={});const{ancestorScroll:St=!0,ancestorResize:At=!0,elementResize:Ct=typeof ResizeObserver=="function",layoutShift:Et=typeof IntersectionObserver=="function",animationFrame:Pt=!1}=bt,wt=unwrapElement(_e),kt=St||At?[...wt?getOverflowAncestors(wt):[],...getOverflowAncestors($)]:[];kt.forEach(Lt=>{St&&Lt.addEventListener("scroll",xt,{passive:!0}),At&&Lt.addEventListener("resize",xt)});const _t=wt&&Et?observeMove(wt,xt):null;let ht=-1,vt=null;Ct&&(vt=new ResizeObserver(Lt=>{let[$t]=Lt;$t&&$t.target===wt&&vt&&(vt.unobserve($),cancelAnimationFrame(ht),ht=requestAnimationFrame(()=>{var Ot;(Ot=vt)==null||Ot.observe($)})),xt()}),wt&&!Pt&&vt.observe(wt),vt.observe($));let Ft,Vt=Pt?getBoundingClientRect(_e):null;Pt&&qt();function qt(){const Lt=getBoundingClientRect(_e);Vt&&(Lt.x!==Vt.x||Lt.y!==Vt.y||Lt.width!==Vt.width||Lt.height!==Vt.height)&&xt(),Vt=Lt,Ft=requestAnimationFrame(qt)}return xt(),()=>{var Lt;kt.forEach($t=>{St&&$t.removeEventListener("scroll",xt),At&&$t.removeEventListener("resize",xt)}),_t==null||_t(),(Lt=vt)==null||Lt.disconnect(),vt=null,Pt&&cancelAnimationFrame(Ft)}}const detectOverflow=detectOverflow$1,offset$1=offset$2,shift$1=shift$2,flip$1=flip$2,size$1=size$2,computePosition=(_e,$,xt)=>{const bt=new Map,St={platform:platform$2,...xt},At={...St.platform,_c:bt};return computePosition$1(_e,$,{...St,platform:At})};var index$1=typeof document<"u"?reactExports.useLayoutEffect:reactExports.useEffect;function deepEqual(_e,$){if(_e===$)return!0;if(typeof _e!=typeof $)return!1;if(typeof _e=="function"&&_e.toString()===$.toString())return!0;let xt,bt,St;if(_e&&$&&typeof _e=="object"){if(Array.isArray(_e)){if(xt=_e.length,xt!==$.length)return!1;for(bt=xt;bt--!==0;)if(!deepEqual(_e[bt],$[bt]))return!1;return!0}if(St=Object.keys(_e),xt=St.length,xt!==Object.keys($).length)return!1;for(bt=xt;bt--!==0;)if(!{}.hasOwnProperty.call($,St[bt]))return!1;for(bt=xt;bt--!==0;){const At=St[bt];if(!(At==="_owner"&&_e.$$typeof)&&!deepEqual(_e[At],$[At]))return!1}return!0}return _e!==_e&&$!==$}function getDPR(_e){return typeof window>"u"?1:(_e.ownerDocument.defaultView||window).devicePixelRatio||1}function roundByDPR(_e,$){const xt=getDPR(_e);return Math.round($*xt)/xt}function useLatestRef(_e){const $=reactExports.useRef(_e);return index$1(()=>{$.current=_e}),$}function useFloating$1(_e){_e===void 0&&(_e={});const{placement:$="bottom",strategy:xt="absolute",middleware:bt=[],platform:St,elements:{reference:At,floating:Ct}={},transform:Et=!0,whileElementsMounted:Pt,open:wt}=_e,[kt,_t]=reactExports.useState({x:0,y:0,strategy:xt,placement:$,middlewareData:{},isPositioned:!1}),[ht,vt]=reactExports.useState(bt);deepEqual(ht,bt)||vt(bt);const[Ft,Vt]=reactExports.useState(null),[qt,Lt]=reactExports.useState(null),$t=reactExports.useCallback(dn=>{dn!==Kt.current&&(Kt.current=dn,Vt(dn))},[]),Ot=reactExports.useCallback(dn=>{dn!==Bt.current&&(Bt.current=dn,Lt(dn))},[]),jt=At||Ft,Rt=Ct||qt,Kt=reactExports.useRef(null),Bt=reactExports.useRef(null),Gt=reactExports.useRef(kt),en=Pt!=null,hn=useLatestRef(Pt),tn=useLatestRef(St),gn=reactExports.useCallback(()=>{if(!Kt.current||!Bt.current)return;const dn={placement:$,strategy:xt,middleware:ht};tn.current&&(dn.platform=tn.current),computePosition(Kt.current,Bt.current,dn).then(Ut=>{const Mt={...Ut,isPositioned:!0};nn.current&&!deepEqual(Gt.current,Mt)&&(Gt.current=Mt,reactDomExports.flushSync(()=>{_t(Mt)}))})},[ht,$,xt,tn]);index$1(()=>{wt===!1&&Gt.current.isPositioned&&(Gt.current.isPositioned=!1,_t(dn=>({...dn,isPositioned:!1})))},[wt]);const nn=reactExports.useRef(!1);index$1(()=>(nn.current=!0,()=>{nn.current=!1}),[]),index$1(()=>{if(jt&&(Kt.current=jt),Rt&&(Bt.current=Rt),jt&&Rt){if(hn.current)return hn.current(jt,Rt,gn);gn()}},[jt,Rt,gn,hn,en]);const bn=reactExports.useMemo(()=>({reference:Kt,floating:Bt,setReference:$t,setFloating:Ot}),[$t,Ot]),Wt=reactExports.useMemo(()=>({reference:jt,floating:Rt}),[jt,Rt]),Yt=reactExports.useMemo(()=>{const dn={position:xt,left:0,top:0};if(!Wt.floating)return dn;const Ut=roundByDPR(Wt.floating,kt.x),Mt=roundByDPR(Wt.floating,kt.y);return Et?{...dn,transform:"translate("+Ut+"px, "+Mt+"px)",...getDPR(Wt.floating)>=1.5&&{willChange:"transform"}}:{position:xt,left:Ut,top:Mt}},[xt,Et,Wt.floating,kt.x,kt.y]);return reactExports.useMemo(()=>({...kt,update:gn,refs:bn,elements:Wt,floatingStyles:Yt}),[kt,gn,bn,Wt,Yt])}const offset=(_e,$)=>({...offset$1(_e),options:[_e,$]}),shift=(_e,$)=>({...shift$1(_e),options:[_e,$]}),flip=(_e,$)=>({...flip$1(_e),options:[_e,$]}),size=(_e,$)=>({...size$1(_e),options:[_e,$]}),SafeReact={...t$4},useInsertionEffect=SafeReact.useInsertionEffect,useSafeInsertionEffect=useInsertionEffect||(_e=>_e());function useEffectEvent(_e){const $=reactExports.useRef(()=>{});return useSafeInsertionEffect(()=>{$.current=_e}),reactExports.useCallback(function(){for(var xt=arguments.length,bt=new Array(xt),St=0;St<xt;St++)bt[St]=arguments[St];return $.current==null?void 0:$.current(...bt)},[])}var index=typeof document<"u"?reactExports.useLayoutEffect:reactExports.useEffect;let serverHandoffComplete=!1,count=0;const genId=()=>"floating-ui-"+Math.random().toString(36).slice(2,6)+count++;function useFloatingId(){const[_e,$]=reactExports.useState(()=>serverHandoffComplete?genId():void 0);return index(()=>{_e==null&&$(genId())},[]),reactExports.useEffect(()=>{serverHandoffComplete=!0},[]),_e}const useReactId=SafeReact.useId,useId=useReactId||useFloatingId;function createPubSub(){const _e=new Map;return{emit($,xt){var bt;(bt=_e.get($))==null||bt.forEach(St=>St(xt))},on($,xt){_e.set($,[..._e.get($)||[],xt])},off($,xt){var bt;_e.set($,((bt=_e.get($))==null?void 0:bt.filter(St=>St!==xt))||[])}}}const FloatingNodeContext=reactExports.createContext(null),FloatingTreeContext=reactExports.createContext(null),useFloatingParentNodeId=()=>{var _e;return((_e=reactExports.useContext(FloatingNodeContext))==null?void 0:_e.id)||null},useFloatingTree=()=>reactExports.useContext(FloatingTreeContext);function useFloatingRootContext(_e){const{open:$=!1,onOpenChange:xt,elements:bt}=_e,St=useId(),At=reactExports.useRef({}),[Ct]=reactExports.useState(()=>createPubSub()),Et=useFloatingParentNodeId()!=null,[Pt,wt]=reactExports.useState(bt.reference),kt=useEffectEvent((vt,Ft,Vt)=>{At.current.openEvent=vt?Ft:void 0,Ct.emit("openchange",{open:vt,event:Ft,reason:Vt,nested:Et}),xt==null||xt(vt,Ft,Vt)}),_t=reactExports.useMemo(()=>({setPositionReference:wt}),[]),ht=reactExports.useMemo(()=>({reference:Pt||bt.reference||null,floating:bt.floating||null,domReference:bt.reference}),[Pt,bt.reference,bt.floating]);return reactExports.useMemo(()=>({dataRef:At,open:$,onOpenChange:kt,elements:ht,events:Ct,floatingId:St,refs:_t}),[$,kt,ht,Ct,St,_t])}function useFloating(_e){_e===void 0&&(_e={});const{nodeId:$}=_e,xt=useFloatingRootContext({..._e,elements:{reference:null,floating:null,..._e.elements}}),bt=_e.rootContext||xt,St=bt.elements,[At,Ct]=reactExports.useState(null),[Et,Pt]=reactExports.useState(null),kt=(St==null?void 0:St.reference)||At,_t=reactExports.useRef(null),ht=useFloatingTree();index(()=>{kt&&(_t.current=kt)},[kt]);const vt=useFloating$1({..._e,elements:{...St,...Et&&{reference:Et}}}),Ft=reactExports.useCallback(Ot=>{const jt=isElement(Ot)?{getBoundingClientRect:()=>Ot.getBoundingClientRect(),contextElement:Ot}:Ot;Pt(jt),vt.refs.setReference(jt)},[vt.refs]),Vt=reactExports.useCallback(Ot=>{(isElement(Ot)||Ot===null)&&(_t.current=Ot,Ct(Ot)),(isElement(vt.refs.reference.current)||vt.refs.reference.current===null||Ot!==null&&!isElement(Ot))&&vt.refs.setReference(Ot)},[vt.refs]),qt=reactExports.useMemo(()=>({...vt.refs,setReference:Vt,setPositionReference:Ft,domReference:_t}),[vt.refs,Vt,Ft]),Lt=reactExports.useMemo(()=>({...vt.elements,domReference:kt}),[vt.elements,kt]),$t=reactExports.useMemo(()=>({...vt,...bt,refs:qt,elements:Lt,nodeId:$}),[vt,qt,Lt,$,bt]);return index(()=>{bt.dataRef.current.floatingContext=$t;const Ot=ht==null?void 0:ht.nodesRef.current.find(jt=>jt.id===$);Ot&&(Ot.context=$t)}),reactExports.useMemo(()=>({...vt,context:$t,refs:qt,elements:Lt}),[vt,qt,Lt,$t])}const ACTIVE_KEY="active",SELECTED_KEY="selected";function mergeProps(_e,$,xt){const bt=new Map,St=xt==="item";let At=_e;if(St&&_e){const{[ACTIVE_KEY]:Ct,[SELECTED_KEY]:Et,...Pt}=_e;At=Pt}return{...xt==="floating"&&{tabIndex:-1},...At,...$.map(Ct=>{const Et=Ct?Ct[xt]:null;return typeof Et=="function"?_e?Et(_e):null:Et}).concat(_e).reduce((Ct,Et)=>(Et&&Object.entries(Et).forEach(Pt=>{let[wt,kt]=Pt;if(!(St&&[ACTIVE_KEY,SELECTED_KEY].includes(wt)))if(wt.indexOf("on")===0){if(bt.has(wt)||bt.set(wt,[]),typeof kt=="function"){var _t;(_t=bt.get(wt))==null||_t.push(kt),Ct[wt]=function(){for(var ht,vt=arguments.length,Ft=new Array(vt),Vt=0;Vt<vt;Vt++)Ft[Vt]=arguments[Vt];return(ht=bt.get(wt))==null?void 0:ht.map(qt=>qt(...Ft)).find(qt=>qt!==void 0)}}}else Ct[wt]=kt}),Ct),{})}}function useInteractions(_e){_e===void 0&&(_e=[]);const $=_e.map(Et=>Et==null?void 0:Et.reference),xt=_e.map(Et=>Et==null?void 0:Et.floating),bt=_e.map(Et=>Et==null?void 0:Et.item),St=reactExports.useCallback(Et=>mergeProps(Et,_e,"reference"),$),At=reactExports.useCallback(Et=>mergeProps(Et,_e,"floating"),xt),Ct=reactExports.useCallback(Et=>mergeProps(Et,_e,"item"),bt);return reactExports.useMemo(()=>({getReferenceProps:St,getFloatingProps:At,getItemProps:Ct}),[St,At,Ct])}function getArgsWithCustomFloatingHeight(_e,$){return{..._e,rects:{..._e.rects,floating:{..._e.rects.floating,height:$}}}}const inner=_e=>({name:"inner",options:_e,async fn($){const{listRef:xt,overflowRef:bt,onFallbackChange:St,offset:At=0,index:Ct=0,minItemsVisible:Et=4,referenceOverflowThreshold:Pt=0,scrollRef:wt,...kt}=evaluate(_e,$),{rects:_t,elements:{floating:ht}}=$,vt=xt.current[Ct];if(!vt)return{};const Ft={...$,...await offset(-vt.offsetTop-ht.clientTop-_t.reference.height/2-vt.offsetHeight/2-At).fn($)},Vt=(wt==null?void 0:wt.current)||ht,qt=await detectOverflow(getArgsWithCustomFloatingHeight(Ft,Vt.scrollHeight),kt),Lt=await detectOverflow(Ft,{...kt,elementContext:"reference"}),$t=Math.max(0,qt.top),Ot=Ft.y+$t,jt=Math.max(0,Vt.scrollHeight-$t-Math.max(0,qt.bottom));return Vt.style.maxHeight=jt+"px",Vt.scrollTop=$t,St&&(Vt.offsetHeight<vt.offsetHeight*Math.min(Et,xt.current.length-1)-1||Lt.top>=-Pt||Lt.bottom>=-Pt?reactDomExports.flushSync(()=>St(!0)):reactDomExports.flushSync(()=>St(!1))),bt&&(bt.current=await detectOverflow(getArgsWithCustomFloatingHeight({...Ft,y:Ot},Vt.offsetHeight),kt)),{y:Ot}}});function useInnerOffset(_e,$){const{open:xt,elements:bt}=_e,{enabled:St=!0,overflowRef:At,scrollRef:Ct,onChange:Et}=$,Pt=useEffectEvent(Et),wt=reactExports.useRef(!1),kt=reactExports.useRef(null),_t=reactExports.useRef(null);reactExports.useEffect(()=>{if(!St)return;function vt(Vt){if(Vt.ctrlKey||!Ft||At.current==null)return;const qt=Vt.deltaY,Lt=At.current.top>=-.5,$t=At.current.bottom>=-.5,Ot=Ft.scrollHeight-Ft.clientHeight,jt=qt<0?-1:1,Rt=qt<0?"max":"min";Ft.scrollHeight<=Ft.clientHeight||(!Lt&&qt>0||!$t&&qt<0?(Vt.preventDefault(),reactDomExports.flushSync(()=>{Pt(Kt=>Kt+Math[Rt](qt,Ot*jt))})):/firefox/i.test(getUserAgent())&&(Ft.scrollTop+=qt))}const Ft=(Ct==null?void 0:Ct.current)||bt.floating;if(xt&&Ft)return Ft.addEventListener("wheel",vt),requestAnimationFrame(()=>{kt.current=Ft.scrollTop,At.current!=null&&(_t.current={...At.current})}),()=>{kt.current=null,_t.current=null,Ft.removeEventListener("wheel",vt)}},[St,xt,bt.floating,At,Ct,Pt]);const ht=reactExports.useMemo(()=>({onKeyDown(){wt.current=!0},onWheel(){wt.current=!1},onPointerMove(){wt.current=!1},onScroll(){const vt=(Ct==null?void 0:Ct.current)||bt.floating;if(!(!At.current||!vt||!wt.current)){if(kt.current!==null){const Ft=vt.scrollTop-kt.current;(At.current.bottom<-.5&&Ft<-1||At.current.top<-.5&&Ft>1)&&reactDomExports.flushSync(()=>Pt(Vt=>Vt+Ft))}requestAnimationFrame(()=>{kt.current=vt.scrollTop})}}}),[bt.floating,Pt,At,Ct]);return reactExports.useMemo(()=>St?{floating:ht}:{},[St,ht])}let y$1=reactExports.createContext({styles:void 0,setReference:()=>{},setFloating:()=>{},getReferenceProps:()=>({}),getFloatingProps:()=>({}),slot:{}});y$1.displayName="FloatingContext";let S$1=reactExports.createContext(null);S$1.displayName="PlacementContext";function xe(_e){return reactExports.useMemo(()=>_e?typeof _e=="string"?{to:_e}:_e:null,[_e])}function ye(){return reactExports.useContext(y$1).setReference}function Fe(){return reactExports.useContext(y$1).getReferenceProps}function be(){let{getFloatingProps:_e,slot:$}=reactExports.useContext(y$1);return reactExports.useCallback((...xt)=>Object.assign({},_e(...xt),{"data-anchor":$.anchor}),[_e,$])}function Re(_e=null){_e===!1&&(_e=null),typeof _e=="string"&&(_e={to:_e});let $=reactExports.useContext(S$1),xt=reactExports.useMemo(()=>_e,[JSON.stringify(_e,typeof HTMLElement<"u"?(St,At)=>At instanceof HTMLElement?At.outerHTML:At:void 0)]);n$3(()=>{$==null||$(xt??null)},[$,xt]);let bt=reactExports.useContext(y$1);return reactExports.useMemo(()=>[bt.setFloating,_e?bt.styles:{}],[bt.setFloating,_e,bt.styles])}let q=4;function ve({children:_e,enabled:$=!0}){let[xt,bt]=reactExports.useState(null),[St,At]=reactExports.useState(0),Ct=reactExports.useRef(null),[Et,Pt]=reactExports.useState(null);pe(Et);let wt=$&&xt!==null&&Et!==null,{to:kt="bottom",gap:_t=0,offset:ht=0,padding:vt=0,inner:Ft}=ce(xt,Et),[Vt,qt="center"]=kt.split(" ");n$3(()=>{wt&&At(0)},[wt]);let{refs:Lt,floatingStyles:$t,context:Ot}=useFloating({open:wt,placement:Vt==="selection"?qt==="center"?"bottom":`bottom-${qt}`:qt==="center"?`${Vt}`:`${Vt}-${qt}`,strategy:"absolute",transform:!1,middleware:[offset({mainAxis:Vt==="selection"?0:_t,crossAxis:ht}),shift({padding:vt}),Vt!=="selection"&&flip({padding:vt}),Vt==="selection"&&Ft?inner({...Ft,padding:vt,overflowRef:Ct,offset:St,minItemsVisible:q,referenceOverflowThreshold:vt,onFallbackChange(tn){var gn,nn;if(!tn)return;let bn=Ot.elements.floating;if(!bn)return;let Wt=parseFloat(getComputedStyle(bn).scrollPaddingBottom)||0,Yt=Math.min(q,bn.childElementCount),dn=0,Ut=0;for(let Mt of(nn=(gn=Ot.elements.floating)==null?void 0:gn.childNodes)!=null?nn:[])if(Mt instanceof HTMLElement){let Ht=Mt.offsetTop,sn=Ht+Mt.clientHeight+Wt,zt=bn.scrollTop,Xt=zt+bn.clientHeight;if(Ht>=zt&&sn<=Xt)Yt--;else{Ut=Math.max(0,Math.min(sn,Xt)-Math.max(Ht,zt)),dn=Mt.clientHeight;break}}Yt>=1&&At(Mt=>{let Ht=dn*Yt-Ut+Wt;return Mt>=Ht?Mt:Ht})}}):null,size({padding:vt,apply({availableWidth:tn,availableHeight:gn,elements:nn}){Object.assign(nn.floating.style,{overflow:"auto",maxWidth:`${tn}px`,maxHeight:`min(var(--anchor-max-height, 100vh), ${gn}px)`})}})].filter(Boolean),whileElementsMounted:autoUpdate}),[jt=Vt,Rt=qt]=Ot.placement.split("-");Vt==="selection"&&(jt="selection");let Kt=reactExports.useMemo(()=>({anchor:[jt,Rt].filter(Boolean).join(" ")}),[jt,Rt]),Bt=useInnerOffset(Ot,{overflowRef:Ct,onChange:At}),{getReferenceProps:Gt,getFloatingProps:en}=useInteractions([Bt]),hn=o$3(tn=>{Pt(tn),Lt.setFloating(tn)});return reactExports.createElement(S$1.Provider,{value:bt},reactExports.createElement(y$1.Provider,{value:{setFloating:hn,setReference:Lt.setReference,styles:$t,getReferenceProps:Gt,getFloatingProps:en,slot:Kt}},_e))}function pe(_e){n$3(()=>{if(!_e)return;let $=new MutationObserver(()=>{let xt=_e.style.maxHeight;parseFloat(xt)!==parseInt(xt)&&(_e.style.maxHeight=`${Math.ceil(parseFloat(xt))}px`)});return $.observe(_e,{attributes:!0,attributeFilter:["style"]}),()=>{$.disconnect()}},[_e])}function ce(_e,$){var xt,bt,St;let At=L((xt=_e==null?void 0:_e.gap)!=null?xt:"var(--anchor-gap, 0)",$),Ct=L((bt=_e==null?void 0:_e.offset)!=null?bt:"var(--anchor-offset, 0)",$),Et=L((St=_e==null?void 0:_e.padding)!=null?St:"var(--anchor-padding, 0)",$);return{..._e,gap:At,offset:Ct,padding:Et}}function L(_e,$,xt=void 0){let bt=p$3(),St=o$3((Pt,wt)=>{if(Pt==null)return[xt,null];if(typeof Pt=="number")return[Pt,null];if(typeof Pt=="string"){if(!wt)return[xt,null];let kt=J$1(Pt,wt);return[kt,_t=>{let ht=D$1(Pt);{let vt=ht.map(Ft=>window.getComputedStyle(wt).getPropertyValue(Ft));bt.requestAnimationFrame(function Ft(){bt.nextFrame(Ft);let Vt=!1;for(let[Lt,$t]of ht.entries()){let Ot=window.getComputedStyle(wt).getPropertyValue($t);if(vt[Lt]!==Ot){vt[Lt]=Ot,Vt=!0;break}}if(!Vt)return;let qt=J$1(Pt,wt);kt!==qt&&(_t(qt),kt=qt)})}return bt.dispose}]}return[xt,null]}),At=reactExports.useMemo(()=>St(_e,$)[0],[_e,$]),[Ct=At,Et]=reactExports.useState();return n$3(()=>{let[Pt,wt]=St(_e,$);if(Et(Pt),!!wt)return wt(Et)},[_e,$]),Ct}function D$1(_e){let $=/var\((.*)\)/.exec(_e);if($){let xt=$[1].indexOf(",");if(xt===-1)return[$[1]];let bt=$[1].slice(0,xt).trim(),St=$[1].slice(xt+1).trim();return St?[bt,...D$1(St)]:[bt]}return[]}function J$1(_e,$){let xt=document.createElement("div");$.appendChild(xt),xt.style.setProperty("margin-top","0px","important"),xt.style.setProperty("margin-top",_e,"important");let bt=parseFloat(window.getComputedStyle(xt).marginTop)||0;return $.removeChild(xt),bt}let n=reactExports.createContext(null);n.displayName="OpenClosedContext";var i=(_e=>(_e[_e.Open=1]="Open",_e[_e.Closed=2]="Closed",_e[_e.Closing=4]="Closing",_e[_e.Opening=8]="Opening",_e))(i||{});function u$1(){return reactExports.useContext(n)}function c$2({value:_e,children:$}){return React.createElement(n.Provider,{value:_e},$)}function u(_e){throw new Error("Unexpected object: "+_e)}var c$1=(_e=>(_e[_e.First=0]="First",_e[_e.Previous=1]="Previous",_e[_e.Next=2]="Next",_e[_e.Last=3]="Last",_e[_e.Specific=4]="Specific",_e[_e.Nothing=5]="Nothing",_e))(c$1||{});function f(_e,$){let xt=$.resolveItems();if(xt.length<=0)return null;let bt=$.resolveActiveIndex(),St=bt??-1;switch(_e.focus){case 0:{for(let At=0;At<xt.length;++At)if(!$.resolveDisabled(xt[At],At,xt))return At;return bt}case 1:{St===-1&&(St=xt.length);for(let At=St-1;At>=0;--At)if(!$.resolveDisabled(xt[At],At,xt))return At;return bt}case 2:{for(let At=St+1;At<xt.length;++At)if(!$.resolveDisabled(xt[At],At,xt))return At;return bt}case 3:{for(let At=xt.length-1;At>=0;--At)if(!$.resolveDisabled(xt[At],At,xt))return At;return bt}case 4:{for(let At=0;At<xt.length;++At)if($.resolveId(xt[At],At,xt)===_e.id)return At;return bt}case 5:return null;default:u(_e)}}function c(_e){let $=o$3(_e),xt=reactExports.useRef(!1);reactExports.useEffect(()=>(xt.current=!1,()=>{xt.current=!0,t$3(()=>{xt.current&&$()})}),[$])}function s$1(){let _e=typeof document>"u";return"useSyncExternalStore"in t$4?($=>$.useSyncExternalStore)(t$4)(()=>()=>{},()=>!1,()=>!_e):!1}function l(){let _e=s$1(),[$,xt]=reactExports.useState(s$5.isHandoffComplete);return $&&s$5.isHandoffComplete===!1&&xt(!1),reactExports.useEffect(()=>{$!==!0&&xt(!0)},[$]),reactExports.useEffect(()=>s$5.handoff(),[]),_e?!1:$}let e=reactExports.createContext(!1);function a$1(){return reactExports.useContext(e)}function D(_e){let $=a$1(),xt=reactExports.useContext(v),bt=n$1(_e),[St,At]=reactExports.useState(()=>{var Ct;if(!$&&xt!==null)return(Ct=xt.current)!=null?Ct:null;if(s$5.isServer)return null;let Et=bt==null?void 0:bt.getElementById("headlessui-portal-root");if(Et)return Et;if(bt===null)return null;let Pt=bt.createElement("div");return Pt.setAttribute("id","headlessui-portal-root"),bt.body.appendChild(Pt)});return reactExports.useEffect(()=>{St!==null&&(bt!=null&&bt.body.contains(St)||bt==null||bt.body.appendChild(St))},[St,bt]),reactExports.useEffect(()=>{$||xt!==null&&At(xt.current)},[xt,At,$]),St}let M=reactExports.Fragment,N=I$3(function(_e,$){let xt=_e,bt=reactExports.useRef(null),St=y$4(T$2(kt=>{bt.current=kt}),$),At=n$1(bt),Ct=D(bt),[Et]=reactExports.useState(()=>{var kt;return s$5.isServer?null:(kt=At==null?void 0:At.createElement("div"))!=null?kt:null}),Pt=reactExports.useContext(y),wt=l();return n$3(()=>{!Ct||!Et||Ct.contains(Et)||(Et.setAttribute("data-headlessui-portal",""),Ct.appendChild(Et))},[Ct,Et]),n$3(()=>{if(Et&&Pt)return Pt.register(Et)},[Pt,Et]),c(()=>{var kt;!Ct||!Et||(Et instanceof Node&&Ct.contains(Et)&&Ct.removeChild(Et),Ct.childNodes.length<=0&&((kt=Ct.parentElement)==null||kt.removeChild(Ct)))}),wt?!Ct||!Et?null:reactDomExports.createPortal(H$1({ourProps:{ref:St},theirProps:xt,slot:{},defaultTag:M,name:"Portal"}),Et):null});function S(_e,$){let xt=y$4($),{enabled:bt=!0,...St}=_e;return bt?React.createElement(N,{...St,ref:xt}):H$1({ourProps:{ref:xt},theirProps:St,slot:{},defaultTag:M,name:"Portal"})}let j$1=reactExports.Fragment,v=reactExports.createContext(null);function W$1(_e,$){let{target:xt,...bt}=_e,St={ref:y$4($)};return React.createElement(v.Provider,{value:xt},H$1({ourProps:St,theirProps:bt,defaultTag:j$1,name:"Popover.Group"}))}let y=reactExports.createContext(null),I=I$3(S),J=I$3(W$1),te=Object.assign(I,{Group:J});function p(_e,$){let xt=reactExports.useRef({left:0,top:0});if(n$3(()=>{let St=$.current;if(!St)return;let At=St.getBoundingClientRect();At&&(xt.current=At)},[_e]),$.current==null||!_e||$.current===document.activeElement)return!1;let bt=$.current.getBoundingClientRect();return bt.top!==xt.current.top||bt.left!==xt.current.left}let a=/([\u2700-\u27BF]|[\uE000-\uF8FF]|\uD83C[\uDC00-\uDFFF]|\uD83D[\uDC00-\uDFFF]|[\u2011-\u26FF]|\uD83E[\uDD10-\uDDFF])/g;function o(_e){var $,xt;let bt=($=_e.innerText)!=null?$:"",St=_e.cloneNode(!0);if(!(St instanceof HTMLElement))return bt;let At=!1;for(let Et of St.querySelectorAll('[hidden],[aria-hidden],[role="img"]'))Et.remove(),At=!0;let Ct=At?(xt=St.innerText)!=null?xt:"":bt;return a.test(Ct)&&(Ct=Ct.replace(a,"")),Ct}function g(_e){let $=_e.getAttribute("aria-label");if(typeof $=="string")return $.trim();let xt=_e.getAttribute("aria-labelledby");if(xt){let bt=xt.split(" ").map(St=>{let At=document.getElementById(St);if(At){let Ct=At.getAttribute("aria-label");return typeof Ct=="string"?Ct.trim():o(At).trim()}return null}).filter(Boolean);if(bt.length>0)return bt.join(", ")}return o(_e).trim()}function s(_e){let $=reactExports.useRef(""),xt=reactExports.useRef("");return o$3(()=>{let bt=_e.current;if(!bt)return"";let St=bt.innerText;if($.current===St)return xt.current;let At=g(bt).trim().toLowerCase();return $.current=St,xt.current=At,At})}var Je=(_e=>(_e[_e.Open=0]="Open",_e[_e.Closed=1]="Closed",_e))(Je||{}),Ve=(_e=>(_e[_e.Pointer=0]="Pointer",_e[_e.Other=1]="Other",_e))(Ve||{}),Xe=(_e=>(_e[_e.OpenMenu=0]="OpenMenu",_e[_e.CloseMenu=1]="CloseMenu",_e[_e.GoToItem=2]="GoToItem",_e[_e.Search=3]="Search",_e[_e.ClearSearch=4]="ClearSearch",_e[_e.RegisterItem=5]="RegisterItem",_e[_e.UnregisterItem=6]="UnregisterItem",_e))(Xe||{});function W(_e,$=xt=>xt){let xt=_e.activeItemIndex!==null?_e.items[_e.activeItemIndex]:null,bt=_($(_e.items.slice()),At=>At.dataRef.current.domRef.current),St=xt?bt.indexOf(xt):null;return St===-1&&(St=null),{items:bt,activeItemIndex:St}}let $e={1(_e){return _e.menuState===1?_e:{..._e,activeItemIndex:null,menuState:1}},0(_e){return _e.menuState===0?_e:{..._e,__demoMode:!1,menuState:0}},2:(_e,$)=>{var xt,bt,St,At,Ct;if(_e.menuState===1)return _e;let Et={..._e,searchQuery:"",activationTrigger:(xt=$.trigger)!=null?xt:1,__demoMode:!1};if($.focus===c$1.Nothing)return{...Et,activeItemIndex:null};if($.focus===c$1.Specific)return{...Et,activeItemIndex:_e.items.findIndex(kt=>kt.id===$.id)};if($.focus===c$1.Previous){let kt=_e.activeItemIndex;if(kt!==null){let _t=_e.items[kt].dataRef.current.domRef,ht=f($,{resolveItems:()=>_e.items,resolveActiveIndex:()=>_e.activeItemIndex,resolveId:vt=>vt.id,resolveDisabled:vt=>vt.dataRef.current.disabled});if(ht!==null){let vt=_e.items[ht].dataRef.current.domRef;if(((bt=_t.current)==null?void 0:bt.previousElementSibling)===vt.current||((St=vt.current)==null?void 0:St.previousElementSibling)===null)return{...Et,activeItemIndex:ht}}}}else if($.focus===c$1.Next){let kt=_e.activeItemIndex;if(kt!==null){let _t=_e.items[kt].dataRef.current.domRef,ht=f($,{resolveItems:()=>_e.items,resolveActiveIndex:()=>_e.activeItemIndex,resolveId:vt=>vt.id,resolveDisabled:vt=>vt.dataRef.current.disabled});if(ht!==null){let vt=_e.items[ht].dataRef.current.domRef;if(((At=_t.current)==null?void 0:At.nextElementSibling)===vt.current||((Ct=vt.current)==null?void 0:Ct.nextElementSibling)===null)return{...Et,activeItemIndex:ht}}}}let Pt=W(_e),wt=f($,{resolveItems:()=>Pt.items,resolveActiveIndex:()=>Pt.activeItemIndex,resolveId:kt=>kt.id,resolveDisabled:kt=>kt.dataRef.current.disabled});return{...Et,...Pt,activeItemIndex:wt}},3:(_e,$)=>{let xt=_e.searchQuery!==""?0:1,bt=_e.searchQuery+$.value.toLowerCase(),St=(_e.activeItemIndex!==null?_e.items.slice(_e.activeItemIndex+xt).concat(_e.items.slice(0,_e.activeItemIndex+xt)):_e.items).find(Ct=>{var Et;return((Et=Ct.dataRef.current.textValue)==null?void 0:Et.startsWith(bt))&&!Ct.dataRef.current.disabled}),At=St?_e.items.indexOf(St):-1;return At===-1||At===_e.activeItemIndex?{..._e,searchQuery:bt}:{..._e,searchQuery:bt,activeItemIndex:At,activationTrigger:1}},4(_e){return _e.searchQuery===""?_e:{..._e,searchQuery:"",searchActiveItemIndex:null}},5:(_e,$)=>{let xt=W(_e,bt=>[...bt,{id:$.id,dataRef:$.dataRef}]);return{..._e,...xt}},6:(_e,$)=>{let xt=W(_e,bt=>{let St=bt.findIndex(At=>At.id===$.id);return St!==-1&&bt.splice(St,1),bt});return{..._e,...xt,activationTrigger:1}}},j=reactExports.createContext(null);j.displayName="MenuContext";function B(_e){let $=reactExports.useContext(j);if($===null){let xt=new Error(`<${_e} /> is missing a parent <Menu /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(xt,B),xt}return $}function qe(_e,$){return u$6($.type,$e,_e,$)}let ze=reactExports.Fragment;function Ye(_e,$){let{__demoMode:xt=!1,...bt}=_e,St=reactExports.useReducer(qe,{__demoMode:xt,menuState:xt?0:1,buttonRef:reactExports.createRef(),itemsRef:reactExports.createRef(),items:[],searchQuery:"",activeItemIndex:null,activationTrigger:1}),[{menuState:At,itemsRef:Ct,buttonRef:Et},Pt]=St,wt=y$4($);F$2(At===0,[Et,Ct],(vt,Ft)=>{var Vt;Pt({type:1}),A$1(Ft,h.Loose)||(vt.preventDefault(),(Vt=Et.current)==null||Vt.focus())});let kt=o$3(()=>{Pt({type:1})}),_t=reactExports.useMemo(()=>({open:At===0,close:kt}),[At,kt]),ht={ref:wt};return React.createElement(ve,null,React.createElement(j.Provider,{value:St},React.createElement(c$2,{value:u$6(At,{0:i.Open,1:i.Closed})},H$1({ourProps:ht,theirProps:bt,slot:_t,defaultTag:ze,name:"Menu"}))))}let Ze="button";function et(_e,$){var xt;let bt=reactExports.useId(),{id:St=`headlessui-menu-button-${bt}`,disabled:At=!1,autoFocus:Ct=!1,...Et}=_e,[Pt,wt]=B("Menu.Button"),kt=Fe(),_t=y$4(Pt.buttonRef,$,ye()),ht=o$3(Bt=>{switch(Bt.key){case o$2.Space:case o$2.Enter:case o$2.ArrowDown:Bt.preventDefault(),Bt.stopPropagation(),reactDomExports.flushSync(()=>wt({type:0})),wt({type:2,focus:c$1.First});break;case o$2.ArrowUp:Bt.preventDefault(),Bt.stopPropagation(),reactDomExports.flushSync(()=>wt({type:0})),wt({type:2,focus:c$1.Last});break}}),vt=o$3(Bt=>{switch(Bt.key){case o$2.Space:Bt.preventDefault();break}}),Ft=o$3(Bt=>{var Gt;if(r$1(Bt.currentTarget))return Bt.preventDefault();At||(Pt.menuState===0?(reactDomExports.flushSync(()=>wt({type:1})),(Gt=Pt.buttonRef.current)==null||Gt.focus({preventScroll:!0})):(Bt.preventDefault(),wt({type:0})))}),{isFocusVisible:Vt,focusProps:qt}=$f7dceffc5ad7768b$export$4e328f61c538687f({autoFocus:Ct}),{isHovered:Lt,hoverProps:$t}=$6179b936705e76d3$export$ae780daf29e6d456({isDisabled:At}),{pressed:Ot,pressProps:jt}=w$1({disabled:At}),Rt=reactExports.useMemo(()=>({open:Pt.menuState===0,active:Ot||Pt.menuState===0,disabled:At,hover:Lt,focus:Vt,autofocus:Ct}),[Pt,Lt,Vt,Ot,At,Ct]),Kt=D$3(kt(),{ref:_t,id:St,type:T(_e,Pt.buttonRef),"aria-haspopup":"menu","aria-controls":(xt=Pt.itemsRef.current)==null?void 0:xt.id,"aria-expanded":Pt.menuState===0,disabled:At||void 0,autoFocus:Ct,onKeyDown:ht,onKeyUp:vt,onClick:Ft},qt,$t,jt);return H$1({ourProps:Kt,theirProps:Et,slot:Rt,defaultTag:Ze,name:"Menu.Button"})}let tt="div",nt=O$1.RenderStrategy|O$1.Static;function rt(_e,$){var xt,bt;let St=reactExports.useId(),{id:At=`headlessui-menu-items-${St}`,anchor:Ct,portal:Et=!1,modal:Pt=!0,transition:wt=!1,...kt}=_e,_t=xe(Ct),[ht,vt]=B("Menu.Items"),[Ft,Vt]=Re(_t),qt=be(),Lt=y$4(ht.itemsRef,$,_t?Ft:null),$t=n$1(ht.itemsRef);_t&&(Et=!0);let Ot=u$1(),[jt,Rt]=V(wt,ht.itemsRef,Ot!==null?(Ot&i.Open)===i.Open:ht.menuState===0);m$1(jt,ht.buttonRef,()=>{vt({type:1})});let Kt=ht.__demoMode?!1:Pt&&ht.menuState===0;f$1(Kt,$t);let Bt=ht.__demoMode?!1:Pt&&ht.menuState===0;y$3(Bt,{allowed:o$3(()=>[ht.buttonRef.current,ht.itemsRef.current])});let Gt=ht.menuState!==0,en=p(Gt,ht.buttonRef)?!1:jt;reactExports.useEffect(()=>{let Wt=ht.itemsRef.current;Wt&&ht.menuState===0&&Wt!==($t==null?void 0:$t.activeElement)&&Wt.focus({preventScroll:!0})},[ht.menuState,ht.itemsRef,$t,ht.itemsRef.current]),F(ht.menuState===0,{container:ht.itemsRef.current,accept(Wt){return Wt.getAttribute("role")==="menuitem"?NodeFilter.FILTER_REJECT:Wt.hasAttribute("role")?NodeFilter.FILTER_SKIP:NodeFilter.FILTER_ACCEPT},walk(Wt){Wt.setAttribute("role","none")}});let hn=p$3(),tn=o$3(Wt=>{var Yt,dn,Ut;switch(hn.dispose(),Wt.key){case o$2.Space:if(ht.searchQuery!=="")return Wt.preventDefault(),Wt.stopPropagation(),vt({type:3,value:Wt.key});case o$2.Enter:if(Wt.preventDefault(),Wt.stopPropagation(),vt({type:1}),ht.activeItemIndex!==null){let{dataRef:Mt}=ht.items[ht.activeItemIndex];(dn=(Yt=Mt.current)==null?void 0:Yt.domRef.current)==null||dn.click()}G(ht.buttonRef.current);break;case o$2.ArrowDown:return Wt.preventDefault(),Wt.stopPropagation(),vt({type:2,focus:c$1.Next});case o$2.ArrowUp:return Wt.preventDefault(),Wt.stopPropagation(),vt({type:2,focus:c$1.Previous});case o$2.Home:case o$2.PageUp:return Wt.preventDefault(),Wt.stopPropagation(),vt({type:2,focus:c$1.First});case o$2.End:case o$2.PageDown:return Wt.preventDefault(),Wt.stopPropagation(),vt({type:2,focus:c$1.Last});case o$2.Escape:Wt.preventDefault(),Wt.stopPropagation(),reactDomExports.flushSync(()=>vt({type:1})),(Ut=ht.buttonRef.current)==null||Ut.focus({preventScroll:!0});break;case o$2.Tab:Wt.preventDefault(),Wt.stopPropagation(),reactDomExports.flushSync(()=>vt({type:1})),j$2(ht.buttonRef.current,Wt.shiftKey?F$3.Previous:F$3.Next);break;default:Wt.key.length===1&&(vt({type:3,value:Wt.key}),hn.setTimeout(()=>vt({type:4}),350));break}}),gn=o$3(Wt=>{switch(Wt.key){case o$2.Space:Wt.preventDefault();break}}),nn=reactExports.useMemo(()=>({open:ht.menuState===0}),[ht.menuState]),bn=D$3(_t?qt():{},{"aria-activedescendant":ht.activeItemIndex===null||(xt=ht.items[ht.activeItemIndex])==null?void 0:xt.id,"aria-labelledby":(bt=ht.buttonRef.current)==null?void 0:bt.id,id:At,onKeyDown:tn,onKeyUp:gn,role:"menu",tabIndex:ht.menuState===0?0:void 0,ref:Lt,style:{...kt.style,...Vt,"--button-width":f$4(ht.buttonRef,!0).width},...A(Rt)});return React.createElement(te,{enabled:Et?_e.static||jt:!1},H$1({ourProps:bn,theirProps:kt,slot:nn,defaultTag:tt,features:nt,visible:en,name:"Menu.Items"}))}let ot=reactExports.Fragment;function at(_e,$){let xt=reactExports.useId(),{id:bt=`headlessui-menu-item-${xt}`,disabled:St=!1,...At}=_e,[Ct,Et]=B("Menu.Item"),Pt=Ct.activeItemIndex!==null?Ct.items[Ct.activeItemIndex].id===bt:!1,wt=reactExports.useRef(null),kt=y$4($,wt);n$3(()=>{if(!Ct.__demoMode&&Ct.menuState===0&&Pt&&Ct.activationTrigger!==0)return o$4().requestAnimationFrame(()=>{var en,hn;(hn=(en=wt.current)==null?void 0:en.scrollIntoView)==null||hn.call(en,{block:"nearest"})})},[Ct.__demoMode,wt,Pt,Ct.menuState,Ct.activationTrigger,Ct.activeItemIndex]);let _t=s(wt),ht=reactExports.useRef({disabled:St,domRef:wt,get textValue(){return _t()}});n$3(()=>{ht.current.disabled=St},[ht,St]),n$3(()=>(Et({type:5,id:bt,dataRef:ht}),()=>Et({type:6,id:bt})),[ht,bt]);let vt=o$3(()=>{Et({type:1})}),Ft=o$3(en=>{if(St)return en.preventDefault();Et({type:1}),G(Ct.buttonRef.current)}),Vt=o$3(()=>{if(St)return Et({type:2,focus:c$1.Nothing});Et({type:2,focus:c$1.Specific,id:bt})}),qt=u$2(),Lt=o$3(en=>{qt.update(en),!St&&(Pt||Et({type:2,focus:c$1.Specific,id:bt,trigger:0}))}),$t=o$3(en=>{qt.wasMoved(en)&&(St||Pt||Et({type:2,focus:c$1.Specific,id:bt,trigger:0}))}),Ot=o$3(en=>{qt.wasMoved(en)&&(St||Pt&&Et({type:2,focus:c$1.Nothing}))}),[jt,Rt]=z(),[Kt,Bt]=U$1(),Gt=reactExports.useMemo(()=>({active:Pt,focus:Pt,disabled:St,close:vt}),[Pt,St,vt]);return React.createElement(Rt,null,React.createElement(Bt,null,H$1({ourProps:{id:bt,ref:kt,role:"menuitem",tabIndex:St===!0?void 0:-1,"aria-disabled":St===!0?!0:void 0,"aria-labelledby":jt,"aria-describedby":Kt,disabled:void 0,onClick:Ft,onFocus:Vt,onPointerEnter:Lt,onMouseEnter:Lt,onPointerMove:$t,onMouseMove:$t,onPointerLeave:Ot,onMouseLeave:Ot},theirProps:At,slot:Gt,defaultTag:ot,name:"Menu.Item"})))}let it="div";function st(_e,$){let[xt,bt]=z();return React.createElement(bt,null,H$1({ourProps:{ref:$,"aria-labelledby":xt,role:"group"},theirProps:_e,slot:{},defaultTag:it,name:"Menu.Section"}))}let lt="header";function ut(_e,$){let xt=reactExports.useId(),{id:bt=`headlessui-menu-heading-${xt}`,...St}=_e,At=P$1();n$3(()=>At.register(bt),[bt,At.register]);let Ct={id:bt,ref:$,role:"presentation",...At.props};return H$1({ourProps:Ct,theirProps:St,slot:{},defaultTag:lt,name:"Menu.Heading"})}let pt="div";function dt(_e,$){return H$1({ourProps:{ref:$,role:"separator"},theirProps:_e,slot:{},defaultTag:pt,name:"Menu.Separator"})}let mt=I$3(Ye),ct=I$3(et),ft=I$3(rt),Tt=I$3(at),yt=I$3(st),gt=I$3(ut),It=I$3(dt),Zt=Object.assign(mt,{Button:ct,Items:ft,Item:Tt,Section:yt,Heading:gt,Separator:It});function ChevronDownIcon({title:_e,titleId:$,...xt},bt){return reactExports.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:bt,"aria-labelledby":$},xt),_e?reactExports.createElement("title",{id:$},_e):null,reactExports.createElement("path",{fillRule:"evenodd",d:"M5.22 8.22a.75.75 0 0 1 1.06 0L10 11.94l3.72-3.72a.75.75 0 1 1 1.06 1.06l-4.25 4.25a.75.75 0 0 1-1.06 0L5.22 9.28a.75.75 0 0 1 0-1.06Z",clipRule:"evenodd"}))}const ForwardRef=reactExports.forwardRef(ChevronDownIcon),Navbar=_e=>{console.log(_e);const $=useNavigate();return jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between whitespace-nowrap border-b border-solid border-b-[#e7eef4] px-10 py-3",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-4 text-[#0d151c]",children:[jsxRuntimeExports.jsx("div",{className:"size-4",children:jsxRuntimeExports.jsx("svg",{viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:jsxRuntimeExports.jsx("path",{d:"M36.7273 44C33.9891 44 31.6043 39.8386 30.3636 33.69C29.123 39.8386 26.7382 44 24 44C21.2618 44 18.877 39.8386 17.6364 33.69C16.3957 39.8386 14.0109 44 11.2727 44C7.25611 44 4 35.0457 4 24C4 12.9543 7.25611 4 11.2727 4C14.0109 4 16.3957 8.16144 17.6364 14.31C18.877 8.16144 21.2618 4 24 4C26.7382 4 29.123 8.16144 30.3636 14.31C31.6043 8.16144 33.9891 4 36.7273 4C40.7439 4 44 12.9543 44 24C44 35.0457 40.7439 44 36.7273 44Z",fill:"currentColor"})})}),jsxRuntimeExports.jsx("h2",{className:"text-[#0d151c] text-lg font-bold leading-tight tracking-[-0.015em]",children:"Sanjh Sahayak"})]}),jsxRuntimeExports.jsxs("div",{className:"flex flex-1 justify-end gap-8",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-9",children:[jsxRuntimeExports.jsx("a",{className:"text-[#0d151c] text-sm font-medium leading-normal cursor-pointer",onClick:()=>$("/"),children:"Home"}),jsxRuntimeExports.jsx("a",{className:`text-[#0d151c] text-sm font-medium leading-normal cursor-pointer ${_e.patient?"":"hidden"}`,onClick:()=>$("/main"),children:"Patients"})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx("button",{className:"flex max-w-[480px] cursor-pointer items-center justify-center overflow-hidden rounded-xl h-10 bg-[#e7eef4] text-[#0d151c] gap-2 text-sm font-bold leading-normal tracking-[0.015em] min-w-0 px-2.5",children:jsxRuntimeExports.jsx("div",{className:"text-[#0d151c]","data-icon":"MagnifyingGlass","data-size":"20px","data-weight":"regular",children:jsxRuntimeExports.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20px",height:"20px",fill:"currentColor",viewBox:"0 0 256 256",children:jsxRuntimeExports.jsx("path",{d:"M229.66,218.34l-50.07-50.06a88.11,88.11,0,1,0-11.31,11.31l50.06,50.07a8,8,0,0,0,11.32-11.32ZM40,112a72,72,0,1,1,72,72A72.08,72.08,0,0,1,40,112Z"})})})}),jsxRuntimeExports.jsx("button",{className:"flex max-w-[480px] cursor-pointer items-center justify-center overflow-hidden rounded-xl h-10 bg-[#e7eef4] text-[#0d151c] gap-2 text-sm font-bold leading-normal tracking-[0.015em] min-w-0 px-2.5",children:jsxRuntimeExports.jsx("div",{className:"text-[#0d151c]","data-icon":"ChatCircleDots","data-size":"20px","data-weight":"regular",children:jsxRuntimeExports.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20px",height:"20px",fill:"currentColor",viewBox:"0 0 256 256",children:jsxRuntimeExports.jsx("path",{d:"M140,128a12,12,0,1,1-12-12A12,12,0,0,1,140,128ZM84,116a12,12,0,1,0,12,12A12,12,0,0,0,84,116Zm88,0a12,12,0,1,0,12,12A12,12,0,0,0,172,116Zm60,12A104,104,0,0,1,79.12,219.82L45.07,231.17a16,16,0,0,1-20.24-20.24l11.35-34.05A104,104,0,1,1,232,128Zm-16,0A88,88,0,1,0,51.81,172.06a8,8,0,0,1,.66,6.54L40,216,77.4,203.53a7.85,7.85,0,0,1,2.53-.42,8,8,0,0,1,4,1.08A88,88,0,0,0,216,128Z"})})})}),jsxRuntimeExports.jsx("button",{className:"flex max-w-[480px] cursor-pointer items-center justify-center overflow-hidden rounded-xl h-10 bg-[#e7eef4] text-[#0d151c] gap-2 text-sm font-bold leading-normal tracking-[0.015em] min-w-0 px-2.5",children:jsxRuntimeExports.jsx("div",{className:"text-[#0d151c]","data-icon":"Bell","data-size":"20px","data-weight":"regular",children:jsxRuntimeExports.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20px",height:"20px",fill:"currentColor",viewBox:"0 0 256 256",children:jsxRuntimeExports.jsx("path",{d:"M221.8,175.94C216.25,166.38,208,139.33,208,104a80,80,0,1,0-160,0c0,35.34-8.26,62.38-13.81,71.94A16,16,0,0,0,48,200H88.81a40,40,0,0,0,78.38,0H208a16,16,0,0,0,13.8-24.06ZM128,216a24,24,0,0,1-22.62-16h45.24A24,24,0,0,1,128,216ZM48,184c7.7-13.24,16-43.92,16-80a64,64,0,1,1,128,0c0,36.05,8.28,66.73,16,80Z"})})})})]}),jsxRuntimeExports.jsx("div",{className:"flex items-center justify-center gap-2",children:jsxRuntimeExports.jsx("div",{className:"text-[#0d151c] font-medium text-sm leading-normal",children:_e.isDoctor?"Doctor":"Care taker"})}),jsxRuntimeExports.jsx("div",{className:"bg-center bg-no-repeat aspect-square bg-cover rounded-full size-10",style:{backgroundImage:'url("https://cdn.usegalileo.ai/stability/62891830-57f4-4b6d-ab96-97aa59242b87.png")'}})]})]})};function bind(_e,$){return function(){return _e.apply($,arguments)}}const{toString}=Object.prototype,{getPrototypeOf}=Object,kindOf=(_e=>$=>{const xt=toString.call($);return _e[xt]||(_e[xt]=xt.slice(8,-1).toLowerCase())})(Object.create(null)),kindOfTest=_e=>(_e=_e.toLowerCase(),$=>kindOf($)===_e),typeOfTest=_e=>$=>typeof $===_e,{isArray}=Array,isUndefined=typeOfTest("undefined");function isBuffer(_e){return _e!==null&&!isUndefined(_e)&&_e.constructor!==null&&!isUndefined(_e.constructor)&&isFunction(_e.constructor.isBuffer)&&_e.constructor.isBuffer(_e)}const isArrayBuffer=kindOfTest("ArrayBuffer");function isArrayBufferView(_e){let $;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?$=ArrayBuffer.isView(_e):$=_e&&_e.buffer&&isArrayBuffer(_e.buffer),$}const isString$1=typeOfTest("string"),isFunction=typeOfTest("function"),isNumber=typeOfTest("number"),isObject=_e=>_e!==null&&typeof _e=="object",isBoolean=_e=>_e===!0||_e===!1,isPlainObject=_e=>{if(kindOf(_e)!=="object")return!1;const $=getPrototypeOf(_e);return($===null||$===Object.prototype||Object.getPrototypeOf($)===null)&&!(Symbol.toStringTag in _e)&&!(Symbol.iterator in _e)},isDate=kindOfTest("Date"),isFile=kindOfTest("File"),isBlob=kindOfTest("Blob"),isFileList=kindOfTest("FileList"),isStream=_e=>isObject(_e)&&isFunction(_e.pipe),isFormData=_e=>{let $;return _e&&(typeof FormData=="function"&&_e instanceof FormData||isFunction(_e.append)&&(($=kindOf(_e))==="formdata"||$==="object"&&isFunction(_e.toString)&&_e.toString()==="[object FormData]"))},isURLSearchParams=kindOfTest("URLSearchParams"),[isReadableStream,isRequest,isResponse,isHeaders]=["ReadableStream","Request","Response","Headers"].map(kindOfTest),trim=_e=>_e.trim?_e.trim():_e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function forEach(_e,$,{allOwnKeys:xt=!1}={}){if(_e===null||typeof _e>"u")return;let bt,St;if(typeof _e!="object"&&(_e=[_e]),isArray(_e))for(bt=0,St=_e.length;bt<St;bt++)$.call(null,_e[bt],bt,_e);else{const At=xt?Object.getOwnPropertyNames(_e):Object.keys(_e),Ct=At.length;let Et;for(bt=0;bt<Ct;bt++)Et=At[bt],$.call(null,_e[Et],Et,_e)}}function findKey(_e,$){$=$.toLowerCase();const xt=Object.keys(_e);let bt=xt.length,St;for(;bt-- >0;)if(St=xt[bt],$===St.toLowerCase())return St;return null}const _global=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,isContextDefined=_e=>!isUndefined(_e)&&_e!==_global;function merge(){const{caseless:_e}=isContextDefined(this)&&this||{},$={},xt=(bt,St)=>{const At=_e&&findKey($,St)||St;isPlainObject($[At])&&isPlainObject(bt)?$[At]=merge($[At],bt):isPlainObject(bt)?$[At]=merge({},bt):isArray(bt)?$[At]=bt.slice():$[At]=bt};for(let bt=0,St=arguments.length;bt<St;bt++)arguments[bt]&&forEach(arguments[bt],xt);return $}const extend=(_e,$,xt,{allOwnKeys:bt}={})=>(forEach($,(St,At)=>{xt&&isFunction(St)?_e[At]=bind(St,xt):_e[At]=St},{allOwnKeys:bt}),_e),stripBOM=_e=>(_e.charCodeAt(0)===65279&&(_e=_e.slice(1)),_e),inherits=(_e,$,xt,bt)=>{_e.prototype=Object.create($.prototype,bt),_e.prototype.constructor=_e,Object.defineProperty(_e,"super",{value:$.prototype}),xt&&Object.assign(_e.prototype,xt)},toFlatObject=(_e,$,xt,bt)=>{let St,At,Ct;const Et={};if($=$||{},_e==null)return $;do{for(St=Object.getOwnPropertyNames(_e),At=St.length;At-- >0;)Ct=St[At],(!bt||bt(Ct,_e,$))&&!Et[Ct]&&($[Ct]=_e[Ct],Et[Ct]=!0);_e=xt!==!1&&getPrototypeOf(_e)}while(_e&&(!xt||xt(_e,$))&&_e!==Object.prototype);return $},endsWith=(_e,$,xt)=>{_e=String(_e),(xt===void 0||xt>_e.length)&&(xt=_e.length),xt-=$.length;const bt=_e.indexOf($,xt);return bt!==-1&&bt===xt},toArray=_e=>{if(!_e)return null;if(isArray(_e))return _e;let $=_e.length;if(!isNumber($))return null;const xt=new Array($);for(;$-- >0;)xt[$]=_e[$];return xt},isTypedArray=(_e=>$=>_e&&$ instanceof _e)(typeof Uint8Array<"u"&&getPrototypeOf(Uint8Array)),forEachEntry=(_e,$)=>{const bt=(_e&&_e[Symbol.iterator]).call(_e);let St;for(;(St=bt.next())&&!St.done;){const At=St.value;$.call(_e,At[0],At[1])}},matchAll=(_e,$)=>{let xt;const bt=[];for(;(xt=_e.exec($))!==null;)bt.push(xt);return bt},isHTMLForm=kindOfTest("HTMLFormElement"),toCamelCase=_e=>_e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(xt,bt,St){return bt.toUpperCase()+St}),hasOwnProperty=(({hasOwnProperty:_e})=>($,xt)=>_e.call($,xt))(Object.prototype),isRegExp=kindOfTest("RegExp"),reduceDescriptors=(_e,$)=>{const xt=Object.getOwnPropertyDescriptors(_e),bt={};forEach(xt,(St,At)=>{let Ct;(Ct=$(St,At,_e))!==!1&&(bt[At]=Ct||St)}),Object.defineProperties(_e,bt)},freezeMethods=_e=>{reduceDescriptors(_e,($,xt)=>{if(isFunction(_e)&&["arguments","caller","callee"].indexOf(xt)!==-1)return!1;const bt=_e[xt];if(isFunction(bt)){if($.enumerable=!1,"writable"in $){$.writable=!1;return}$.set||($.set=()=>{throw Error("Can not rewrite read-only method '"+xt+"'")})}})},toObjectSet=(_e,$)=>{const xt={},bt=St=>{St.forEach(At=>{xt[At]=!0})};return isArray(_e)?bt(_e):bt(String(_e).split($)),xt},noop$1=()=>{},toFiniteNumber=(_e,$)=>_e!=null&&Number.isFinite(_e=+_e)?_e:$,ALPHA="abcdefghijklmnopqrstuvwxyz",DIGIT="0123456789",ALPHABET={DIGIT,ALPHA,ALPHA_DIGIT:ALPHA+ALPHA.toUpperCase()+DIGIT},generateString=(_e=16,$=ALPHABET.ALPHA_DIGIT)=>{let xt="";const{length:bt}=$;for(;_e--;)xt+=$[Math.random()*bt|0];return xt};function isSpecCompliantForm(_e){return!!(_e&&isFunction(_e.append)&&_e[Symbol.toStringTag]==="FormData"&&_e[Symbol.iterator])}const toJSONObject=_e=>{const $=new Array(10),xt=(bt,St)=>{if(isObject(bt)){if($.indexOf(bt)>=0)return;if(!("toJSON"in bt)){$[St]=bt;const At=isArray(bt)?[]:{};return forEach(bt,(Ct,Et)=>{const Pt=xt(Ct,St+1);!isUndefined(Pt)&&(At[Et]=Pt)}),$[St]=void 0,At}}return bt};return xt(_e,0)},isAsyncFn=kindOfTest("AsyncFunction"),isThenable=_e=>_e&&(isObject(_e)||isFunction(_e))&&isFunction(_e.then)&&isFunction(_e.catch),utils$1={isArray,isArrayBuffer,isBuffer,isFormData,isArrayBufferView,isString:isString$1,isNumber,isBoolean,isObject,isPlainObject,isReadableStream,isRequest,isResponse,isHeaders,isUndefined,isDate,isFile,isBlob,isRegExp,isFunction,isStream,isURLSearchParams,isTypedArray,isFileList,forEach,merge,extend,trim,stripBOM,inherits,toFlatObject,kindOf,kindOfTest,endsWith,toArray,forEachEntry,matchAll,isHTMLForm,hasOwnProperty,hasOwnProp:hasOwnProperty,reduceDescriptors,freezeMethods,toObjectSet,toCamelCase,noop:noop$1,toFiniteNumber,findKey,global:_global,isContextDefined,ALPHABET,generateString,isSpecCompliantForm,toJSONObject,isAsyncFn,isThenable};function AxiosError(_e,$,xt,bt,St){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=_e,this.name="AxiosError",$&&(this.code=$),xt&&(this.config=xt),bt&&(this.request=bt),St&&(this.response=St)}utils$1.inherits(AxiosError,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:utils$1.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});const prototype$1=AxiosError.prototype,descriptors={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(_e=>{descriptors[_e]={value:_e}});Object.defineProperties(AxiosError,descriptors);Object.defineProperty(prototype$1,"isAxiosError",{value:!0});AxiosError.from=(_e,$,xt,bt,St,At)=>{const Ct=Object.create(prototype$1);return utils$1.toFlatObject(_e,Ct,function(Pt){return Pt!==Error.prototype},Et=>Et!=="isAxiosError"),AxiosError.call(Ct,_e.message,$,xt,bt,St),Ct.cause=_e,Ct.name=_e.name,At&&Object.assign(Ct,At),Ct};const httpAdapter=null;function isVisitable(_e){return utils$1.isPlainObject(_e)||utils$1.isArray(_e)}function removeBrackets(_e){return utils$1.endsWith(_e,"[]")?_e.slice(0,-2):_e}function renderKey(_e,$,xt){return _e?_e.concat($).map(function(St,At){return St=removeBrackets(St),!xt&&At?"["+St+"]":St}).join(xt?".":""):$}function isFlatArray(_e){return utils$1.isArray(_e)&&!_e.some(isVisitable)}const predicates=utils$1.toFlatObject(utils$1,{},null,function($){return/^is[A-Z]/.test($)});function toFormData(_e,$,xt){if(!utils$1.isObject(_e))throw new TypeError("target must be an object");$=$||new FormData,xt=utils$1.toFlatObject(xt,{metaTokens:!0,dots:!1,indexes:!1},!1,function(Vt,qt){return!utils$1.isUndefined(qt[Vt])});const bt=xt.metaTokens,St=xt.visitor||kt,At=xt.dots,Ct=xt.indexes,Pt=(xt.Blob||typeof Blob<"u"&&Blob)&&utils$1.isSpecCompliantForm($);if(!utils$1.isFunction(St))throw new TypeError("visitor must be a function");function wt(Ft){if(Ft===null)return"";if(utils$1.isDate(Ft))return Ft.toISOString();if(!Pt&&utils$1.isBlob(Ft))throw new AxiosError("Blob is not supported. Use a Buffer instead.");return utils$1.isArrayBuffer(Ft)||utils$1.isTypedArray(Ft)?Pt&&typeof Blob=="function"?new Blob([Ft]):Buffer.from(Ft):Ft}function kt(Ft,Vt,qt){let Lt=Ft;if(Ft&&!qt&&typeof Ft=="object"){if(utils$1.endsWith(Vt,"{}"))Vt=bt?Vt:Vt.slice(0,-2),Ft=JSON.stringify(Ft);else if(utils$1.isArray(Ft)&&isFlatArray(Ft)||(utils$1.isFileList(Ft)||utils$1.endsWith(Vt,"[]"))&&(Lt=utils$1.toArray(Ft)))return Vt=removeBrackets(Vt),Lt.forEach(function(Ot,jt){!(utils$1.isUndefined(Ot)||Ot===null)&&$.append(Ct===!0?renderKey([Vt],jt,At):Ct===null?Vt:Vt+"[]",wt(Ot))}),!1}return isVisitable(Ft)?!0:($.append(renderKey(qt,Vt,At),wt(Ft)),!1)}const _t=[],ht=Object.assign(predicates,{defaultVisitor:kt,convertValue:wt,isVisitable});function vt(Ft,Vt){if(!utils$1.isUndefined(Ft)){if(_t.indexOf(Ft)!==-1)throw Error("Circular reference detected in "+Vt.join("."));_t.push(Ft),utils$1.forEach(Ft,function(Lt,$t){(!(utils$1.isUndefined(Lt)||Lt===null)&&St.call($,Lt,utils$1.isString($t)?$t.trim():$t,Vt,ht))===!0&&vt(Lt,Vt?Vt.concat($t):[$t])}),_t.pop()}}if(!utils$1.isObject(_e))throw new TypeError("data must be an object");return vt(_e),$}function encode$1(_e){const $={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(_e).replace(/[!'()~]|%20|%00/g,function(bt){return $[bt]})}function AxiosURLSearchParams(_e,$){this._pairs=[],_e&&toFormData(_e,this,$)}const prototype=AxiosURLSearchParams.prototype;prototype.append=function($,xt){this._pairs.push([$,xt])};prototype.toString=function($){const xt=$?function(bt){return $.call(this,bt,encode$1)}:encode$1;return this._pairs.map(function(St){return xt(St[0])+"="+xt(St[1])},"").join("&")};function encode(_e){return encodeURIComponent(_e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function buildURL(_e,$,xt){if(!$)return _e;const bt=xt&&xt.encode||encode,St=xt&&xt.serialize;let At;if(St?At=St($,xt):At=utils$1.isURLSearchParams($)?$.toString():new AxiosURLSearchParams($,xt).toString(bt),At){const Ct=_e.indexOf("#");Ct!==-1&&(_e=_e.slice(0,Ct)),_e+=(_e.indexOf("?")===-1?"?":"&")+At}return _e}class InterceptorManager{constructor(){this.handlers=[]}use($,xt,bt){return this.handlers.push({fulfilled:$,rejected:xt,synchronous:bt?bt.synchronous:!1,runWhen:bt?bt.runWhen:null}),this.handlers.length-1}eject($){this.handlers[$]&&(this.handlers[$]=null)}clear(){this.handlers&&(this.handlers=[])}forEach($){utils$1.forEach(this.handlers,function(bt){bt!==null&&$(bt)})}}const transitionalDefaults={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},URLSearchParams$1=typeof URLSearchParams<"u"?URLSearchParams:AxiosURLSearchParams,FormData$1=typeof FormData<"u"?FormData:null,Blob$1=typeof Blob<"u"?Blob:null,platform$1={isBrowser:!0,classes:{URLSearchParams:URLSearchParams$1,FormData:FormData$1,Blob:Blob$1},protocols:["http","https","file","blob","url","data"]},hasBrowserEnv=typeof window<"u"&&typeof document<"u",hasStandardBrowserEnv=(_e=>hasBrowserEnv&&["ReactNative","NativeScript","NS"].indexOf(_e)<0)(typeof navigator<"u"&&navigator.product),hasStandardBrowserWebWorkerEnv=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",origin=hasBrowserEnv&&window.location.href||"http://localhost",utils=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv,hasStandardBrowserEnv,hasStandardBrowserWebWorkerEnv,origin},Symbol.toStringTag,{value:"Module"})),platform={...utils,...platform$1};function toURLEncodedForm(_e,$){return toFormData(_e,new platform.classes.URLSearchParams,Object.assign({visitor:function(xt,bt,St,At){return platform.isNode&&utils$1.isBuffer(xt)?(this.append(bt,xt.toString("base64")),!1):At.defaultVisitor.apply(this,arguments)}},$))}function parsePropPath(_e){return utils$1.matchAll(/\w+|\[(\w*)]/g,_e).map($=>$[0]==="[]"?"":$[1]||$[0])}function arrayToObject(_e){const $={},xt=Object.keys(_e);let bt;const St=xt.length;let At;for(bt=0;bt<St;bt++)At=xt[bt],$[At]=_e[At];return $}function formDataToJSON(_e){function $(xt,bt,St,At){let Ct=xt[At++];if(Ct==="__proto__")return!0;const Et=Number.isFinite(+Ct),Pt=At>=xt.length;return Ct=!Ct&&utils$1.isArray(St)?St.length:Ct,Pt?(utils$1.hasOwnProp(St,Ct)?St[Ct]=[St[Ct],bt]:St[Ct]=bt,!Et):((!St[Ct]||!utils$1.isObject(St[Ct]))&&(St[Ct]=[]),$(xt,bt,St[Ct],At)&&utils$1.isArray(St[Ct])&&(St[Ct]=arrayToObject(St[Ct])),!Et)}if(utils$1.isFormData(_e)&&utils$1.isFunction(_e.entries)){const xt={};return utils$1.forEachEntry(_e,(bt,St)=>{$(parsePropPath(bt),St,xt,0)}),xt}return null}function stringifySafely(_e,$,xt){if(utils$1.isString(_e))try{return($||JSON.parse)(_e),utils$1.trim(_e)}catch(bt){if(bt.name!=="SyntaxError")throw bt}return(xt||JSON.stringify)(_e)}const defaults={transitional:transitionalDefaults,adapter:["xhr","http","fetch"],transformRequest:[function($,xt){const bt=xt.getContentType()||"",St=bt.indexOf("application/json")>-1,At=utils$1.isObject($);if(At&&utils$1.isHTMLForm($)&&($=new FormData($)),utils$1.isFormData($))return St?JSON.stringify(formDataToJSON($)):$;if(utils$1.isArrayBuffer($)||utils$1.isBuffer($)||utils$1.isStream($)||utils$1.isFile($)||utils$1.isBlob($)||utils$1.isReadableStream($))return $;if(utils$1.isArrayBufferView($))return $.buffer;if(utils$1.isURLSearchParams($))return xt.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),$.toString();let Et;if(At){if(bt.indexOf("application/x-www-form-urlencoded")>-1)return toURLEncodedForm($,this.formSerializer).toString();if((Et=utils$1.isFileList($))||bt.indexOf("multipart/form-data")>-1){const Pt=this.env&&this.env.FormData;return toFormData(Et?{"files[]":$}:$,Pt&&new Pt,this.formSerializer)}}return At||St?(xt.setContentType("application/json",!1),stringifySafely($)):$}],transformResponse:[function($){const xt=this.transitional||defaults.transitional,bt=xt&&xt.forcedJSONParsing,St=this.responseType==="json";if(utils$1.isResponse($)||utils$1.isReadableStream($))return $;if($&&utils$1.isString($)&&(bt&&!this.responseType||St)){const Ct=!(xt&&xt.silentJSONParsing)&&St;try{return JSON.parse($)}catch(Et){if(Ct)throw Et.name==="SyntaxError"?AxiosError.from(Et,AxiosError.ERR_BAD_RESPONSE,this,null,this.response):Et}}return $}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:platform.classes.FormData,Blob:platform.classes.Blob},validateStatus:function($){return $>=200&&$<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};utils$1.forEach(["delete","get","head","post","put","patch"],_e=>{defaults.headers[_e]={}});const ignoreDuplicateOf=utils$1.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),parseHeaders=_e=>{const $={};let xt,bt,St;return _e&&_e.split(`
`).forEach(function(Ct){St=Ct.indexOf(":"),xt=Ct.substring(0,St).trim().toLowerCase(),bt=Ct.substring(St+1).trim(),!(!xt||$[xt]&&ignoreDuplicateOf[xt])&&(xt==="set-cookie"?$[xt]?$[xt].push(bt):$[xt]=[bt]:$[xt]=$[xt]?$[xt]+", "+bt:bt)}),$},$internals=Symbol("internals");function normalizeHeader(_e){return _e&&String(_e).trim().toLowerCase()}function normalizeValue(_e){return _e===!1||_e==null?_e:utils$1.isArray(_e)?_e.map(normalizeValue):String(_e)}function parseTokens(_e){const $=Object.create(null),xt=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let bt;for(;bt=xt.exec(_e);)$[bt[1]]=bt[2];return $}const isValidHeaderName=_e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(_e.trim());function matchHeaderValue(_e,$,xt,bt,St){if(utils$1.isFunction(bt))return bt.call(this,$,xt);if(St&&($=xt),!!utils$1.isString($)){if(utils$1.isString(bt))return $.indexOf(bt)!==-1;if(utils$1.isRegExp(bt))return bt.test($)}}function formatHeader(_e){return _e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,($,xt,bt)=>xt.toUpperCase()+bt)}function buildAccessors(_e,$){const xt=utils$1.toCamelCase(" "+$);["get","set","has"].forEach(bt=>{Object.defineProperty(_e,bt+xt,{value:function(St,At,Ct){return this[bt].call(this,$,St,At,Ct)},configurable:!0})})}class AxiosHeaders{constructor($){$&&this.set($)}set($,xt,bt){const St=this;function At(Et,Pt,wt){const kt=normalizeHeader(Pt);if(!kt)throw new Error("header name must be a non-empty string");const _t=utils$1.findKey(St,kt);(!_t||St[_t]===void 0||wt===!0||wt===void 0&&St[_t]!==!1)&&(St[_t||Pt]=normalizeValue(Et))}const Ct=(Et,Pt)=>utils$1.forEach(Et,(wt,kt)=>At(wt,kt,Pt));if(utils$1.isPlainObject($)||$ instanceof this.constructor)Ct($,xt);else if(utils$1.isString($)&&($=$.trim())&&!isValidHeaderName($))Ct(parseHeaders($),xt);else if(utils$1.isHeaders($))for(const[Et,Pt]of $.entries())At(Pt,Et,bt);else $!=null&&At(xt,$,bt);return this}get($,xt){if($=normalizeHeader($),$){const bt=utils$1.findKey(this,$);if(bt){const St=this[bt];if(!xt)return St;if(xt===!0)return parseTokens(St);if(utils$1.isFunction(xt))return xt.call(this,St,bt);if(utils$1.isRegExp(xt))return xt.exec(St);throw new TypeError("parser must be boolean|regexp|function")}}}has($,xt){if($=normalizeHeader($),$){const bt=utils$1.findKey(this,$);return!!(bt&&this[bt]!==void 0&&(!xt||matchHeaderValue(this,this[bt],bt,xt)))}return!1}delete($,xt){const bt=this;let St=!1;function At(Ct){if(Ct=normalizeHeader(Ct),Ct){const Et=utils$1.findKey(bt,Ct);Et&&(!xt||matchHeaderValue(bt,bt[Et],Et,xt))&&(delete bt[Et],St=!0)}}return utils$1.isArray($)?$.forEach(At):At($),St}clear($){const xt=Object.keys(this);let bt=xt.length,St=!1;for(;bt--;){const At=xt[bt];(!$||matchHeaderValue(this,this[At],At,$,!0))&&(delete this[At],St=!0)}return St}normalize($){const xt=this,bt={};return utils$1.forEach(this,(St,At)=>{const Ct=utils$1.findKey(bt,At);if(Ct){xt[Ct]=normalizeValue(St),delete xt[At];return}const Et=$?formatHeader(At):String(At).trim();Et!==At&&delete xt[At],xt[Et]=normalizeValue(St),bt[Et]=!0}),this}concat(...$){return this.constructor.concat(this,...$)}toJSON($){const xt=Object.create(null);return utils$1.forEach(this,(bt,St)=>{bt!=null&&bt!==!1&&(xt[St]=$&&utils$1.isArray(bt)?bt.join(", "):bt)}),xt}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([$,xt])=>$+": "+xt).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from($){return $ instanceof this?$:new this($)}static concat($,...xt){const bt=new this($);return xt.forEach(St=>bt.set(St)),bt}static accessor($){const bt=(this[$internals]=this[$internals]={accessors:{}}).accessors,St=this.prototype;function At(Ct){const Et=normalizeHeader(Ct);bt[Et]||(buildAccessors(St,Ct),bt[Et]=!0)}return utils$1.isArray($)?$.forEach(At):At($),this}}AxiosHeaders.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);utils$1.reduceDescriptors(AxiosHeaders.prototype,({value:_e},$)=>{let xt=$[0].toUpperCase()+$.slice(1);return{get:()=>_e,set(bt){this[xt]=bt}}});utils$1.freezeMethods(AxiosHeaders);function transformData(_e,$){const xt=this||defaults,bt=$||xt,St=AxiosHeaders.from(bt.headers);let At=bt.data;return utils$1.forEach(_e,function(Et){At=Et.call(xt,At,St.normalize(),$?$.status:void 0)}),St.normalize(),At}function isCancel(_e){return!!(_e&&_e.__CANCEL__)}function CanceledError(_e,$,xt){AxiosError.call(this,_e??"canceled",AxiosError.ERR_CANCELED,$,xt),this.name="CanceledError"}utils$1.inherits(CanceledError,AxiosError,{__CANCEL__:!0});function settle(_e,$,xt){const bt=xt.config.validateStatus;!xt.status||!bt||bt(xt.status)?_e(xt):$(new AxiosError("Request failed with status code "+xt.status,[AxiosError.ERR_BAD_REQUEST,AxiosError.ERR_BAD_RESPONSE][Math.floor(xt.status/100)-4],xt.config,xt.request,xt))}function parseProtocol(_e){const $=/^([-+\w]{1,25})(:?\/\/|:)/.exec(_e);return $&&$[1]||""}function speedometer(_e,$){_e=_e||10;const xt=new Array(_e),bt=new Array(_e);let St=0,At=0,Ct;return $=$!==void 0?$:1e3,function(Pt){const wt=Date.now(),kt=bt[At];Ct||(Ct=wt),xt[St]=Pt,bt[St]=wt;let _t=At,ht=0;for(;_t!==St;)ht+=xt[_t++],_t=_t%_e;if(St=(St+1)%_e,St===At&&(At=(At+1)%_e),wt-Ct<$)return;const vt=kt&&wt-kt;return vt?Math.round(ht*1e3/vt):void 0}}function throttle(_e,$){let xt=0;const bt=1e3/$;let St=null;return function(){const Ct=this===!0,Et=Date.now();if(Ct||Et-xt>bt)return St&&(clearTimeout(St),St=null),xt=Et,_e.apply(null,arguments);St||(St=setTimeout(()=>(St=null,xt=Date.now(),_e.apply(null,arguments)),bt-(Et-xt)))}}const progressEventReducer=(_e,$,xt=3)=>{let bt=0;const St=speedometer(50,250);return throttle(At=>{const Ct=At.loaded,Et=At.lengthComputable?At.total:void 0,Pt=Ct-bt,wt=St(Pt),kt=Ct<=Et;bt=Ct;const _t={loaded:Ct,total:Et,progress:Et?Ct/Et:void 0,bytes:Pt,rate:wt||void 0,estimated:wt&&Et&&kt?(Et-Ct)/wt:void 0,event:At,lengthComputable:Et!=null};_t[$?"download":"upload"]=!0,_e(_t)},xt)},isURLSameOrigin=platform.hasStandardBrowserEnv?function(){const $=/(msie|trident)/i.test(navigator.userAgent),xt=document.createElement("a");let bt;function St(At){let Ct=At;return $&&(xt.setAttribute("href",Ct),Ct=xt.href),xt.setAttribute("href",Ct),{href:xt.href,protocol:xt.protocol?xt.protocol.replace(/:$/,""):"",host:xt.host,search:xt.search?xt.search.replace(/^\?/,""):"",hash:xt.hash?xt.hash.replace(/^#/,""):"",hostname:xt.hostname,port:xt.port,pathname:xt.pathname.charAt(0)==="/"?xt.pathname:"/"+xt.pathname}}return bt=St(window.location.href),function(Ct){const Et=utils$1.isString(Ct)?St(Ct):Ct;return Et.protocol===bt.protocol&&Et.host===bt.host}}():function(){return function(){return!0}}(),cookies=platform.hasStandardBrowserEnv?{write(_e,$,xt,bt,St,At){const Ct=[_e+"="+encodeURIComponent($)];utils$1.isNumber(xt)&&Ct.push("expires="+new Date(xt).toGMTString()),utils$1.isString(bt)&&Ct.push("path="+bt),utils$1.isString(St)&&Ct.push("domain="+St),At===!0&&Ct.push("secure"),document.cookie=Ct.join("; ")},read(_e){const $=document.cookie.match(new RegExp("(^|;\\s*)("+_e+")=([^;]*)"));return $?decodeURIComponent($[3]):null},remove(_e){this.write(_e,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function isAbsoluteURL(_e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(_e)}function combineURLs(_e,$){return $?_e.replace(/\/?\/$/,"")+"/"+$.replace(/^\/+/,""):_e}function buildFullPath(_e,$){return _e&&!isAbsoluteURL($)?combineURLs(_e,$):$}const headersToObject=_e=>_e instanceof AxiosHeaders?{..._e}:_e;function mergeConfig(_e,$){$=$||{};const xt={};function bt(wt,kt,_t){return utils$1.isPlainObject(wt)&&utils$1.isPlainObject(kt)?utils$1.merge.call({caseless:_t},wt,kt):utils$1.isPlainObject(kt)?utils$1.merge({},kt):utils$1.isArray(kt)?kt.slice():kt}function St(wt,kt,_t){if(utils$1.isUndefined(kt)){if(!utils$1.isUndefined(wt))return bt(void 0,wt,_t)}else return bt(wt,kt,_t)}function At(wt,kt){if(!utils$1.isUndefined(kt))return bt(void 0,kt)}function Ct(wt,kt){if(utils$1.isUndefined(kt)){if(!utils$1.isUndefined(wt))return bt(void 0,wt)}else return bt(void 0,kt)}function Et(wt,kt,_t){if(_t in $)return bt(wt,kt);if(_t in _e)return bt(void 0,wt)}const Pt={url:At,method:At,data:At,baseURL:Ct,transformRequest:Ct,transformResponse:Ct,paramsSerializer:Ct,timeout:Ct,timeoutMessage:Ct,withCredentials:Ct,withXSRFToken:Ct,adapter:Ct,responseType:Ct,xsrfCookieName:Ct,xsrfHeaderName:Ct,onUploadProgress:Ct,onDownloadProgress:Ct,decompress:Ct,maxContentLength:Ct,maxBodyLength:Ct,beforeRedirect:Ct,transport:Ct,httpAgent:Ct,httpsAgent:Ct,cancelToken:Ct,socketPath:Ct,responseEncoding:Ct,validateStatus:Et,headers:(wt,kt)=>St(headersToObject(wt),headersToObject(kt),!0)};return utils$1.forEach(Object.keys(Object.assign({},_e,$)),function(kt){const _t=Pt[kt]||St,ht=_t(_e[kt],$[kt],kt);utils$1.isUndefined(ht)&&_t!==Et||(xt[kt]=ht)}),xt}const resolveConfig=_e=>{const $=mergeConfig({},_e);let{data:xt,withXSRFToken:bt,xsrfHeaderName:St,xsrfCookieName:At,headers:Ct,auth:Et}=$;$.headers=Ct=AxiosHeaders.from(Ct),$.url=buildURL(buildFullPath($.baseURL,$.url),_e.params,_e.paramsSerializer),Et&&Ct.set("Authorization","Basic "+btoa((Et.username||"")+":"+(Et.password?unescape(encodeURIComponent(Et.password)):"")));let Pt;if(utils$1.isFormData(xt)){if(platform.hasStandardBrowserEnv||platform.hasStandardBrowserWebWorkerEnv)Ct.setContentType(void 0);else if((Pt=Ct.getContentType())!==!1){const[wt,...kt]=Pt?Pt.split(";").map(_t=>_t.trim()).filter(Boolean):[];Ct.setContentType([wt||"multipart/form-data",...kt].join("; "))}}if(platform.hasStandardBrowserEnv&&(bt&&utils$1.isFunction(bt)&&(bt=bt($)),bt||bt!==!1&&isURLSameOrigin($.url))){const wt=St&&At&&cookies.read(At);wt&&Ct.set(St,wt)}return $},isXHRAdapterSupported=typeof XMLHttpRequest<"u",xhrAdapter=isXHRAdapterSupported&&function(_e){return new Promise(function(xt,bt){const St=resolveConfig(_e);let At=St.data;const Ct=AxiosHeaders.from(St.headers).normalize();let{responseType:Et}=St,Pt;function wt(){St.cancelToken&&St.cancelToken.unsubscribe(Pt),St.signal&&St.signal.removeEventListener("abort",Pt)}let kt=new XMLHttpRequest;kt.open(St.method.toUpperCase(),St.url,!0),kt.timeout=St.timeout;function _t(){if(!kt)return;const vt=AxiosHeaders.from("getAllResponseHeaders"in kt&&kt.getAllResponseHeaders()),Vt={data:!Et||Et==="text"||Et==="json"?kt.responseText:kt.response,status:kt.status,statusText:kt.statusText,headers:vt,config:_e,request:kt};settle(function(Lt){xt(Lt),wt()},function(Lt){bt(Lt),wt()},Vt),kt=null}"onloadend"in kt?kt.onloadend=_t:kt.onreadystatechange=function(){!kt||kt.readyState!==4||kt.status===0&&!(kt.responseURL&&kt.responseURL.indexOf("file:")===0)||setTimeout(_t)},kt.onabort=function(){kt&&(bt(new AxiosError("Request aborted",AxiosError.ECONNABORTED,St,kt)),kt=null)},kt.onerror=function(){bt(new AxiosError("Network Error",AxiosError.ERR_NETWORK,St,kt)),kt=null},kt.ontimeout=function(){let Ft=St.timeout?"timeout of "+St.timeout+"ms exceeded":"timeout exceeded";const Vt=St.transitional||transitionalDefaults;St.timeoutErrorMessage&&(Ft=St.timeoutErrorMessage),bt(new AxiosError(Ft,Vt.clarifyTimeoutError?AxiosError.ETIMEDOUT:AxiosError.ECONNABORTED,St,kt)),kt=null},At===void 0&&Ct.setContentType(null),"setRequestHeader"in kt&&utils$1.forEach(Ct.toJSON(),function(Ft,Vt){kt.setRequestHeader(Vt,Ft)}),utils$1.isUndefined(St.withCredentials)||(kt.withCredentials=!!St.withCredentials),Et&&Et!=="json"&&(kt.responseType=St.responseType),typeof St.onDownloadProgress=="function"&&kt.addEventListener("progress",progressEventReducer(St.onDownloadProgress,!0)),typeof St.onUploadProgress=="function"&&kt.upload&&kt.upload.addEventListener("progress",progressEventReducer(St.onUploadProgress)),(St.cancelToken||St.signal)&&(Pt=vt=>{kt&&(bt(!vt||vt.type?new CanceledError(null,_e,kt):vt),kt.abort(),kt=null)},St.cancelToken&&St.cancelToken.subscribe(Pt),St.signal&&(St.signal.aborted?Pt():St.signal.addEventListener("abort",Pt)));const ht=parseProtocol(St.url);if(ht&&platform.protocols.indexOf(ht)===-1){bt(new AxiosError("Unsupported protocol "+ht+":",AxiosError.ERR_BAD_REQUEST,_e));return}kt.send(At||null)})},composeSignals=(_e,$)=>{let xt=new AbortController,bt;const St=function(Pt){if(!bt){bt=!0,Ct();const wt=Pt instanceof Error?Pt:this.reason;xt.abort(wt instanceof AxiosError?wt:new CanceledError(wt instanceof Error?wt.message:wt))}};let At=$&&setTimeout(()=>{St(new AxiosError(`timeout ${$} of ms exceeded`,AxiosError.ETIMEDOUT))},$);const Ct=()=>{_e&&(At&&clearTimeout(At),At=null,_e.forEach(Pt=>{Pt&&(Pt.removeEventListener?Pt.removeEventListener("abort",St):Pt.unsubscribe(St))}),_e=null)};_e.forEach(Pt=>Pt&&Pt.addEventListener&&Pt.addEventListener("abort",St));const{signal:Et}=xt;return Et.unsubscribe=Ct,[Et,()=>{At&&clearTimeout(At),At=null}]},streamChunk=function*(_e,$){let xt=_e.byteLength;if(!$||xt<$){yield _e;return}let bt=0,St;for(;bt<xt;)St=bt+$,yield _e.slice(bt,St),bt=St},readBytes=async function*(_e,$,xt){for await(const bt of _e)yield*streamChunk(ArrayBuffer.isView(bt)?bt:await xt(String(bt)),$)},trackStream=(_e,$,xt,bt,St)=>{const At=readBytes(_e,$,St);let Ct=0;return new ReadableStream({type:"bytes",async pull(Et){const{done:Pt,value:wt}=await At.next();if(Pt){Et.close(),bt();return}let kt=wt.byteLength;xt&&xt(Ct+=kt),Et.enqueue(new Uint8Array(wt))},cancel(Et){return bt(Et),At.return()}},{highWaterMark:2})},fetchProgressDecorator=(_e,$)=>{const xt=_e!=null;return bt=>setTimeout(()=>$({lengthComputable:xt,total:_e,loaded:bt}))},isFetchSupported=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",isReadableStreamSupported=isFetchSupported&&typeof ReadableStream=="function",encodeText=isFetchSupported&&(typeof TextEncoder=="function"?(_e=>$=>_e.encode($))(new TextEncoder):async _e=>new Uint8Array(await new Response(_e).arrayBuffer())),supportsRequestStream=isReadableStreamSupported&&(()=>{let _e=!1;const $=new Request(platform.origin,{body:new ReadableStream,method:"POST",get duplex(){return _e=!0,"half"}}).headers.has("Content-Type");return _e&&!$})(),DEFAULT_CHUNK_SIZE=64*1024,supportsResponseStream=isReadableStreamSupported&&!!(()=>{try{return utils$1.isReadableStream(new Response("").body)}catch{}})(),resolvers={stream:supportsResponseStream&&(_e=>_e.body)};isFetchSupported&&(_e=>{["text","arrayBuffer","blob","formData","stream"].forEach($=>{!resolvers[$]&&(resolvers[$]=utils$1.isFunction(_e[$])?xt=>xt[$]():(xt,bt)=>{throw new AxiosError(`Response type '${$}' is not supported`,AxiosError.ERR_NOT_SUPPORT,bt)})})})(new Response);const getBodyLength=async _e=>{if(_e==null)return 0;if(utils$1.isBlob(_e))return _e.size;if(utils$1.isSpecCompliantForm(_e))return(await new Request(_e).arrayBuffer()).byteLength;if(utils$1.isArrayBufferView(_e))return _e.byteLength;if(utils$1.isURLSearchParams(_e)&&(_e=_e+""),utils$1.isString(_e))return(await encodeText(_e)).byteLength},resolveBodyLength=async(_e,$)=>{const xt=utils$1.toFiniteNumber(_e.getContentLength());return xt??getBodyLength($)},fetchAdapter=isFetchSupported&&(async _e=>{let{url:$,method:xt,data:bt,signal:St,cancelToken:At,timeout:Ct,onDownloadProgress:Et,onUploadProgress:Pt,responseType:wt,headers:kt,withCredentials:_t="same-origin",fetchOptions:ht}=resolveConfig(_e);wt=wt?(wt+"").toLowerCase():"text";let[vt,Ft]=St||At||Ct?composeSignals([St,At],Ct):[],Vt,qt;const Lt=()=>{!Vt&&setTimeout(()=>{vt&&vt.unsubscribe()}),Vt=!0};let $t;try{if(Pt&&supportsRequestStream&&xt!=="get"&&xt!=="head"&&($t=await resolveBodyLength(kt,bt))!==0){let Kt=new Request($,{method:"POST",body:bt,duplex:"half"}),Bt;utils$1.isFormData(bt)&&(Bt=Kt.headers.get("content-type"))&&kt.setContentType(Bt),Kt.body&&(bt=trackStream(Kt.body,DEFAULT_CHUNK_SIZE,fetchProgressDecorator($t,progressEventReducer(Pt)),null,encodeText))}utils$1.isString(_t)||(_t=_t?"cors":"omit"),qt=new Request($,{...ht,signal:vt,method:xt.toUpperCase(),headers:kt.normalize().toJSON(),body:bt,duplex:"half",withCredentials:_t});let Ot=await fetch(qt);const jt=supportsResponseStream&&(wt==="stream"||wt==="response");if(supportsResponseStream&&(Et||jt)){const Kt={};["status","statusText","headers"].forEach(Gt=>{Kt[Gt]=Ot[Gt]});const Bt=utils$1.toFiniteNumber(Ot.headers.get("content-length"));Ot=new Response(trackStream(Ot.body,DEFAULT_CHUNK_SIZE,Et&&fetchProgressDecorator(Bt,progressEventReducer(Et,!0)),jt&&Lt,encodeText),Kt)}wt=wt||"text";let Rt=await resolvers[utils$1.findKey(resolvers,wt)||"text"](Ot,_e);return!jt&&Lt(),Ft&&Ft(),await new Promise((Kt,Bt)=>{settle(Kt,Bt,{data:Rt,headers:AxiosHeaders.from(Ot.headers),status:Ot.status,statusText:Ot.statusText,config:_e,request:qt})})}catch(Ot){throw Lt(),Ot&&Ot.name==="TypeError"&&/fetch/i.test(Ot.message)?Object.assign(new AxiosError("Network Error",AxiosError.ERR_NETWORK,_e,qt),{cause:Ot.cause||Ot}):AxiosError.from(Ot,Ot&&Ot.code,_e,qt)}}),knownAdapters={http:httpAdapter,xhr:xhrAdapter,fetch:fetchAdapter};utils$1.forEach(knownAdapters,(_e,$)=>{if(_e){try{Object.defineProperty(_e,"name",{value:$})}catch{}Object.defineProperty(_e,"adapterName",{value:$})}});const renderReason=_e=>`- ${_e}`,isResolvedHandle=_e=>utils$1.isFunction(_e)||_e===null||_e===!1,adapters={getAdapter:_e=>{_e=utils$1.isArray(_e)?_e:[_e];const{length:$}=_e;let xt,bt;const St={};for(let At=0;At<$;At++){xt=_e[At];let Ct;if(bt=xt,!isResolvedHandle(xt)&&(bt=knownAdapters[(Ct=String(xt)).toLowerCase()],bt===void 0))throw new AxiosError(`Unknown adapter '${Ct}'`);if(bt)break;St[Ct||"#"+At]=bt}if(!bt){const At=Object.entries(St).map(([Et,Pt])=>`adapter ${Et} `+(Pt===!1?"is not supported by the environment":"is not available in the build"));let Ct=$?At.length>1?`since :
`+At.map(renderReason).join(`
`):" "+renderReason(At[0]):"as no adapter specified";throw new AxiosError("There is no suitable adapter to dispatch the request "+Ct,"ERR_NOT_SUPPORT")}return bt},adapters:knownAdapters};function throwIfCancellationRequested(_e){if(_e.cancelToken&&_e.cancelToken.throwIfRequested(),_e.signal&&_e.signal.aborted)throw new CanceledError(null,_e)}function dispatchRequest(_e){return throwIfCancellationRequested(_e),_e.headers=AxiosHeaders.from(_e.headers),_e.data=transformData.call(_e,_e.transformRequest),["post","put","patch"].indexOf(_e.method)!==-1&&_e.headers.setContentType("application/x-www-form-urlencoded",!1),adapters.getAdapter(_e.adapter||defaults.adapter)(_e).then(function(bt){return throwIfCancellationRequested(_e),bt.data=transformData.call(_e,_e.transformResponse,bt),bt.headers=AxiosHeaders.from(bt.headers),bt},function(bt){return isCancel(bt)||(throwIfCancellationRequested(_e),bt&&bt.response&&(bt.response.data=transformData.call(_e,_e.transformResponse,bt.response),bt.response.headers=AxiosHeaders.from(bt.response.headers))),Promise.reject(bt)})}const VERSION="1.7.2",validators$1={};["object","boolean","number","function","string","symbol"].forEach((_e,$)=>{validators$1[_e]=function(bt){return typeof bt===_e||"a"+($<1?"n ":" ")+_e}});const deprecatedWarnings={};validators$1.transitional=function($,xt,bt){function St(At,Ct){return"[Axios v"+VERSION+"] Transitional option '"+At+"'"+Ct+(bt?". "+bt:"")}return(At,Ct,Et)=>{if($===!1)throw new AxiosError(St(Ct," has been removed"+(xt?" in "+xt:"")),AxiosError.ERR_DEPRECATED);return xt&&!deprecatedWarnings[Ct]&&(deprecatedWarnings[Ct]=!0,console.warn(St(Ct," has been deprecated since v"+xt+" and will be removed in the near future"))),$?$(At,Ct,Et):!0}};function assertOptions(_e,$,xt){if(typeof _e!="object")throw new AxiosError("options must be an object",AxiosError.ERR_BAD_OPTION_VALUE);const bt=Object.keys(_e);let St=bt.length;for(;St-- >0;){const At=bt[St],Ct=$[At];if(Ct){const Et=_e[At],Pt=Et===void 0||Ct(Et,At,_e);if(Pt!==!0)throw new AxiosError("option "+At+" must be "+Pt,AxiosError.ERR_BAD_OPTION_VALUE);continue}if(xt!==!0)throw new AxiosError("Unknown option "+At,AxiosError.ERR_BAD_OPTION)}}const validator={assertOptions,validators:validators$1},validators=validator.validators;class Axios{constructor($){this.defaults=$,this.interceptors={request:new InterceptorManager,response:new InterceptorManager}}async request($,xt){try{return await this._request($,xt)}catch(bt){if(bt instanceof Error){let St;Error.captureStackTrace?Error.captureStackTrace(St={}):St=new Error;const At=St.stack?St.stack.replace(/^.+\n/,""):"";try{bt.stack?At&&!String(bt.stack).endsWith(At.replace(/^.+\n.+\n/,""))&&(bt.stack+=`
`+At):bt.stack=At}catch{}}throw bt}}_request($,xt){typeof $=="string"?(xt=xt||{},xt.url=$):xt=$||{},xt=mergeConfig(this.defaults,xt);const{transitional:bt,paramsSerializer:St,headers:At}=xt;bt!==void 0&&validator.assertOptions(bt,{silentJSONParsing:validators.transitional(validators.boolean),forcedJSONParsing:validators.transitional(validators.boolean),clarifyTimeoutError:validators.transitional(validators.boolean)},!1),St!=null&&(utils$1.isFunction(St)?xt.paramsSerializer={serialize:St}:validator.assertOptions(St,{encode:validators.function,serialize:validators.function},!0)),xt.method=(xt.method||this.defaults.method||"get").toLowerCase();let Ct=At&&utils$1.merge(At.common,At[xt.method]);At&&utils$1.forEach(["delete","get","head","post","put","patch","common"],Ft=>{delete At[Ft]}),xt.headers=AxiosHeaders.concat(Ct,At);const Et=[];let Pt=!0;this.interceptors.request.forEach(function(Vt){typeof Vt.runWhen=="function"&&Vt.runWhen(xt)===!1||(Pt=Pt&&Vt.synchronous,Et.unshift(Vt.fulfilled,Vt.rejected))});const wt=[];this.interceptors.response.forEach(function(Vt){wt.push(Vt.fulfilled,Vt.rejected)});let kt,_t=0,ht;if(!Pt){const Ft=[dispatchRequest.bind(this),void 0];for(Ft.unshift.apply(Ft,Et),Ft.push.apply(Ft,wt),ht=Ft.length,kt=Promise.resolve(xt);_t<ht;)kt=kt.then(Ft[_t++],Ft[_t++]);return kt}ht=Et.length;let vt=xt;for(_t=0;_t<ht;){const Ft=Et[_t++],Vt=Et[_t++];try{vt=Ft(vt)}catch(qt){Vt.call(this,qt);break}}try{kt=dispatchRequest.call(this,vt)}catch(Ft){return Promise.reject(Ft)}for(_t=0,ht=wt.length;_t<ht;)kt=kt.then(wt[_t++],wt[_t++]);return kt}getUri($){$=mergeConfig(this.defaults,$);const xt=buildFullPath($.baseURL,$.url);return buildURL(xt,$.params,$.paramsSerializer)}}utils$1.forEach(["delete","get","head","options"],function($){Axios.prototype[$]=function(xt,bt){return this.request(mergeConfig(bt||{},{method:$,url:xt,data:(bt||{}).data}))}});utils$1.forEach(["post","put","patch"],function($){function xt(bt){return function(At,Ct,Et){return this.request(mergeConfig(Et||{},{method:$,headers:bt?{"Content-Type":"multipart/form-data"}:{},url:At,data:Ct}))}}Axios.prototype[$]=xt(),Axios.prototype[$+"Form"]=xt(!0)});class CancelToken{constructor($){if(typeof $!="function")throw new TypeError("executor must be a function.");let xt;this.promise=new Promise(function(At){xt=At});const bt=this;this.promise.then(St=>{if(!bt._listeners)return;let At=bt._listeners.length;for(;At-- >0;)bt._listeners[At](St);bt._listeners=null}),this.promise.then=St=>{let At;const Ct=new Promise(Et=>{bt.subscribe(Et),At=Et}).then(St);return Ct.cancel=function(){bt.unsubscribe(At)},Ct},$(function(At,Ct,Et){bt.reason||(bt.reason=new CanceledError(At,Ct,Et),xt(bt.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe($){if(this.reason){$(this.reason);return}this._listeners?this._listeners.push($):this._listeners=[$]}unsubscribe($){if(!this._listeners)return;const xt=this._listeners.indexOf($);xt!==-1&&this._listeners.splice(xt,1)}static source(){let $;return{token:new CancelToken(function(St){$=St}),cancel:$}}}function spread(_e){return function(xt){return _e.apply(null,xt)}}function isAxiosError(_e){return utils$1.isObject(_e)&&_e.isAxiosError===!0}const HttpStatusCode={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(HttpStatusCode).forEach(([_e,$])=>{HttpStatusCode[$]=_e});function createInstance(_e){const $=new Axios(_e),xt=bind(Axios.prototype.request,$);return utils$1.extend(xt,Axios.prototype,$,{allOwnKeys:!0}),utils$1.extend(xt,$,null,{allOwnKeys:!0}),xt.create=function(St){return createInstance(mergeConfig(_e,St))},xt}const axios=createInstance(defaults);axios.Axios=Axios;axios.CanceledError=CanceledError;axios.CancelToken=CancelToken;axios.isCancel=isCancel;axios.VERSION=VERSION;axios.toFormData=toFormData;axios.AxiosError=AxiosError;axios.Cancel=axios.CanceledError;axios.all=function($){return Promise.all($)};axios.spread=spread;axios.isAxiosError=isAxiosError;axios.mergeConfig=mergeConfig;axios.AxiosHeaders=AxiosHeaders;axios.formToJSON=_e=>formDataToJSON(utils$1.isHTMLForm(_e)?new FormData(_e):_e);axios.getAdapter=adapters.getAdapter;axios.HttpStatusCode=HttpStatusCode;axios.default=axios;function PatientRegistrationForm$1(){const[_e,$]=reactExports.useState(""),xt=useNavigate(),[bt,St]=reactExports.useState({firstName:"",lastName:"",dateOfBirth:"",gender:"",bloodGroup:"",phoneNumber:"",chronics:[]}),At=wt=>{const{name:kt,value:_t}=wt.target;St(ht=>({...ht,[kt]:_t}))},Ct=()=>{_e.trim()!==""&&(St(wt=>({...wt,chronics:[...wt.chronics,_e.trim()]})),$(""))},Et=wt=>{St(kt=>({...kt,chronics:kt.chronics.filter((_t,ht)=>ht!==wt)}))},Pt=async wt=>{wt.preventDefault(),console.log("Form submitted:",bt);const kt={...bt,dateOfBirth:bt.dateOfBirth?new Date(bt.dateOfBirth).toISOString():null},_t=await axios.post("/en/setPatient",kt);console.log(_t.data.data),St({firstName:"",lastName:"",dateOfBirth:null,gender:"",bloodGroup:"",phoneNumber:"",chronics:[]}),alert("Form data submitted successfully!"),xt(-1)};return jsxRuntimeExports.jsxs("div",{className:"flex flex-col min-h-screen bg-gray-100",children:[jsxRuntimeExports.jsx(Navbar,{}),jsxRuntimeExports.jsx("div",{className:"flex-grow flex items-center justify-center px-4 py-12",children:jsxRuntimeExports.jsx("div",{className:"w-full max-w-4xl bg-white shadow-2xl rounded-3xl overflow-hidden",children:jsxRuntimeExports.jsxs("div",{className:"md:flex",children:[jsxRuntimeExports.jsx("div",{className:"md:flex-shrink-0 bg-blue-600 md:w-48 flex items-center justify-center",children:jsxRuntimeExports.jsx("svg",{className:"h-20 w-20 text-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:jsxRuntimeExports.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-3 7h3m-3 4h3m-6-4h.01M9 16h.01"})})}),jsxRuntimeExports.jsxs("div",{className:"p-8 md:flex-grow",children:[jsxRuntimeExports.jsx("h2",{className:"text-3xl font-bold text-gray-800 mb-2",children:"Add a New Patient"}),jsxRuntimeExports.jsx("p",{className:"text-gray-600 mb-8",children:"Please enter the patient's details below"}),jsxRuntimeExports.jsxs("form",{onSubmit:Pt,className:"space-y-6",children:[jsxRuntimeExports.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"First Name"}),jsxRuntimeExports.jsx("input",{required:!0,type:"text",name:"firstName",value:bt.firstName,onChange:At,className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm",placeholder:"First name"})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Last Name"}),jsxRuntimeExports.jsx("input",{type:"text",name:"lastName",value:bt.lastName,onChange:At,className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm",placeholder:"Last name"})]})]}),jsxRuntimeExports.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Date of Birth"}),jsxRuntimeExports.jsx("input",{type:"date",name:"dateOfBirth",value:bt.dateOfBirth,onChange:At,className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm"})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Gender"}),jsxRuntimeExports.jsxs("select",{name:"gender",value:bt.gender,onChange:At,className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm",children:[jsxRuntimeExports.jsx("option",{value:"",children:"Select gender"}),jsxRuntimeExports.jsx("option",{value:"male",children:"Male"}),jsxRuntimeExports.jsx("option",{value:"female",children:"Female"}),jsxRuntimeExports.jsx("option",{value:"other",children:"Other"})]})]})]}),jsxRuntimeExports.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Blood Group"}),jsxRuntimeExports.jsx("input",{type:"text",name:"bloodGroup",value:bt.bloodGroup,onChange:At,className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm",placeholder:"Blood group"})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Phone Number"}),jsxRuntimeExports.jsx("input",{type:"tel",name:"phoneNumber",value:bt.phoneNumber,onChange:At,className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm",placeholder:"Phone number"})]})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Current Chronic Conditions"}),jsxRuntimeExports.jsxs("div",{className:"mt-1 flex rounded-md shadow-sm",children:[jsxRuntimeExports.jsx("input",{type:"text",value:_e,onChange:wt=>$(wt.target.value),className:"flex-1 min-w-0 block w-full px-3 py-2 rounded-none rounded-l-md focus:ring-blue-500 focus:border-blue-500 sm:text-sm border-gray-300",placeholder:"Enter a chronic condition"}),jsxRuntimeExports.jsx("button",{type:"button",onClick:Ct,className:"inline-flex items-center px-3 rounded-r-md border border-l-0 border-gray-300 bg-gray-50 text-gray-500 text-sm",children:"Add"})]}),jsxRuntimeExports.jsx("div",{className:"mt-2 space-y-2",children:bt.chronics.map((wt,kt)=>jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between bg-gray-100 p-2 rounded",children:[jsxRuntimeExports.jsx("span",{children:wt}),jsxRuntimeExports.jsx("button",{type:"button",onClick:()=>Et(kt),className:"text-red-500 hover:text-red-700",children:"Remove"})]},kt))})]}),jsxRuntimeExports.jsxs("div",{className:"flex justify-end space-x-4",children:[jsxRuntimeExports.jsx("button",{type:"button",className:"px-4 py-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:"Cancel"}),jsxRuntimeExports.jsx("button",{type:"submit",className:"px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:"Create Patient"})]})]})]})]})})})]})}function classNames(..._e){return _e.filter(Boolean).join(" ")}function Dropdown(_e){function $(){_e.setEditPatients(!_e.editPatients),_e.setDeletePatients(!1),console.log("edit d",_e.editPatients),console.log("delete d",_e.deletePatients)}function xt(){_e.setDeletePatients(!_e.deletePatients),_e.setEditPatients(!1),console.log("edit d",_e.editPatients),console.log("delete d",_e.deletePatients)}const bt=useNavigate();return jsxRuntimeExports.jsxs(Zt,{as:"div",className:"relative inline-block text-left",children:[jsxRuntimeExports.jsx("div",{children:jsxRuntimeExports.jsxs(ct,{className:"inline-flex w-full justify-center gap-x-1.5 rounded-md bg-white px-3 py-2 text-sm font-semibold text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 hover:bg-gray-50",children:["Manage patients",jsxRuntimeExports.jsx(ForwardRef,{className:"-mr-1 h-5 w-5 text-gray-400","aria-hidden":"true"})]})}),jsxRuntimeExports.jsx(ft,{transition:!0,className:"absolute right-0 z-10 mt-2 w-56 origin-top-right rounded-md bg-white shadow-lg ring-1 ring-black ring-opacity-5 transition focus:outline-none data-[closed]:scale-95 data-[closed]:transform data-[closed]:opacity-0 data-[enter]:duration-100 data-[leave]:duration-75 data-[enter]:ease-out data-[leave]:ease-in",children:jsxRuntimeExports.jsxs("div",{className:"py-1",children:[jsxRuntimeExports.jsx(Tt,{children:({focus:St})=>jsxRuntimeExports.jsx("a",{onClick:()=>bt("/form"),className:classNames(St?"bg-gray-100 text-gray-900":"text-gray-700","block px-4 py-2 text-sm"),children:"Add Patient"})}),jsxRuntimeExports.jsx(Tt,{children:({focus:St})=>jsxRuntimeExports.jsx("a",{onClick:$,className:classNames(St?"bg-gray-100 text-gray-900":"text-gray-700","block px-4 py-2 text-sm"),children:"Edit Patient"})}),jsxRuntimeExports.jsx(Tt,{children:({focus:St})=>jsxRuntimeExports.jsx("a",{onClick:xt,className:classNames(St?"bg-gray-100 text-gray-900":"text-gray-700","block px-4 py-2 text-sm"),children:"Remove Patient"})})]})})]})}function List(_e){const[$,xt]=reactExports.useState(!1),[bt,St]=reactExports.useState(!1),At=useNavigate(),[Ct,Et]=reactExports.useState([]),[Pt,wt]=reactExports.useState([]),[kt,_t]=reactExports.useState(_e.isDoctor),[ht,vt]=reactExports.useState(!0),[Ft,Vt]=reactExports.useState(!0),qt=Bt=>{const Gt=new Date,en=new Date(Bt);let hn=Gt.getFullYear()-en.getFullYear();const tn=Gt.getMonth()-en.getMonth();return(tn<0||tn===0&&Gt.getDate()<en.getDate())&&hn--,hn};async function Lt(){const Bt=await axios.get("en/getpatients");Et(Bt.data),_e.setNoofPatients(Bt.data.length)}async function $t(){const Bt=await axios.get("en/getreports");wt(Bt.data)}reactExports.useEffect(()=>{Lt(),$t()},[]);function Ot(Bt){const Gt=new Date(Bt),en=String(Gt.getDate()).padStart(2,"0"),hn=String(Gt.getMonth()+1).padStart(2,"0"),tn=Gt.getFullYear();return`${en}/${hn}/${tn}`}const jt=(Bt,Gt)=>async()=>{try{const en=await axios.get(`/en/getpatient/${Gt}`);_e.isDoctor?At("/doctoranalysis",{state:{id:Bt,pid:Gt,isDoctor:_e.isDoctor,patientData:en.data}}):At("/caretakeranalysis",{state:{id:Bt,pid:Gt,isDoctor:_e.isDoctor,patientData:en.data}})}catch(en){console.error("Error in handlePatient:",en)}},Rt=Bt=>async()=>{try{const Gt=await axios.get(`/en/getpatient/${Bt}`);if(console.log("editPatients",$),console.log("deletePatients",bt),!$&&!bt)try{At("/patient",{state:{id:Bt}})}catch(en){console.log(en)}else $&&!bt&&At("/edit",{state:{patientData:Gt.data}})}catch(Gt){console.error("Error in handlePatient:",Gt)}},Kt=Ft?Pt.filter(Bt=>Bt.isVerified):Pt.filter(Bt=>!Bt.isVerified);return Pt&&Ct&&jsxRuntimeExports.jsxs("div",{className:"layout-content-container flex flex-col max-w-[920px] flex-1 bg-[#f8fafb]",children:[jsxRuntimeExports.jsx("div",{className:"flex flex-wrap justify-between gap-3 p-4",children:jsxRuntimeExports.jsxs("div",{className:"flex flex-col w-full",children:[jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-center mb-4",children:[jsxRuntimeExports.jsxs("div",{className:"flex space-x-4",children:[jsxRuntimeExports.jsx("button",{onClick:()=>vt(!0),className:`text-lg font-semibold px-4 py-2 focus:outline-none transition-all duration-300 ${ht?"text-[#0e141b] border-b-2 border-[#0e141b]":"text-[#4f7396] hover:text-[#0e141b]"}`,children:"Patients"}),jsxRuntimeExports.jsx("button",{onClick:()=>vt(!1),className:`text-lg font-semibold px-4 py-2 focus:outline-none transition-all duration-300 ${ht?"text-[#4f7396] hover:text-[#0e141b]":"text-[#0e141b] border-b-2 border-[#0e141b]"}`,children:"Reports"})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-4",children:[!ht&&jsxRuntimeExports.jsx("button",{onClick:()=>Vt(!Ft),className:"px-4 py-2 bg-[#e8edf3] text-[#4f7396] rounded-md transition-all duration-300 hover:bg-[#d1d8e0] focus:outline-none focus:ring-2 focus:ring-[#4f7396] focus:ring-opacity-50",children:Ft?"Show Unverified":"Show Verified"}),jsxRuntimeExports.jsx("div",{className:`${kt?"hidden":"flex"}`,children:jsxRuntimeExports.jsx(Dropdown,{editPatients:$,setEditPatients:xt,deletePatients:bt,setDeletePatients:St})})]})]}),jsxRuntimeExports.jsxs("div",{className:"relative",children:[jsxRuntimeExports.jsx("input",{placeholder:ht?"Search patients":"Search reports",className:"w-full px-4 py-2 pl-10 pr-4 text-[#0e141b] bg-[#e8edf3] border border-[#e8edf3] rounded-xl focus:outline-none focus:ring-2 focus:ring-[#4f7396] focus:border-transparent"}),jsxRuntimeExports.jsx("div",{className:"absolute inset-y-0 left-0 flex items-center pl-3",children:jsxRuntimeExports.jsx("svg",{className:"w-5 h-5 text-[#4f7396]",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:jsxRuntimeExports.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})})]})]})}),jsxRuntimeExports.jsx("div",{className:"flex-grow p-4",children:ht?Ct.map((Bt,Gt)=>jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-4 bg-[#f8fafb] px-4 min-h-[72px] py-2 mb-3 transition-all duration-300 ease-in-out hover:bg-[#e8edf3] cursor-pointer rounded-xl",onClick:Rt(Bt._id),children:[jsxRuntimeExports.jsx("div",{className:"bg-[#e8edf3] text-[#4f7396] font-bold rounded-full h-14 w-14 flex items-center justify-center",children:Bt.name.charAt(0).toUpperCase()}),jsxRuntimeExports.jsxs("div",{className:"flex flex-col justify-center flex-grow",children:[jsxRuntimeExports.jsx("p",{className:"text-[#0e141b] text-base font-medium leading-normal line-clamp-1",children:Bt.name}),jsxRuntimeExports.jsxs("p",{className:"text-[#4f7396] text-sm font-normal leading-normal line-clamp-2",children:["Age: ",qt(Bt.DOB),", Gender: ",Bt.gender]})]}),jsxRuntimeExports.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:`w-6 h-6 text-[#4f7396] ${$?"block":"hidden"} `,children:[jsxRuntimeExports.jsx("path",{d:"M21.731 2.269a2.625 2.625 0 0 0-3.712 0l-1.157 1.157 3.712 3.712 1.157-1.157a2.625 2.625 0 0 0 0-3.712ZM19.513 8.199l-3.712-3.712-8.4 8.4a5.25 5.25 0 0 0-1.32 2.214l-.8 2.685a.75.75 0 0 0 .933.933l2.685-.8a5.25 5.25 0 0 0 2.214-1.32l8.4-8.4Z"}),jsxRuntimeExports.jsx("path",{d:"M5.25 5.25a3 3 0 0 0-3 3v10.5a3 3 0 0 0 3 3h10.5a3 3 0 0 0 3-3V13.5a.75.75 0 0 0-1.5 0v5.25a1.5 1.5 0 0 1-1.5 1.5H5.25a1.5 1.5 0 0 1-1.5-1.5V8.25a1.5 1.5 0 0 1 1.5-1.5h5.25a.75.75 0 0 0 0-1.5H5.25Z"})]}),jsxRuntimeExports.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"currentColor",className:`w-6 h-6 text-[#4f7396] ${bt?"block":"hidden"}`,children:jsxRuntimeExports.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m14.74 9-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 0 1-2.244 2.077H8.084a2.25 2.25 0 0 1-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 0 0-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 0 1 3.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 0 0-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 0 0-7.5 0"})})]},Gt)):Kt.map((Bt,Gt)=>jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-4 bg-[#f8fafb] px-4 min-h-[72px] py-2 mb-3 transition-all duration-300 ease-in-out hover:bg-[#e8edf3] cursor-pointer rounded-xl",onClick:jt(Bt._id,Bt.patientId),children:[jsxRuntimeExports.jsx("div",{className:"bg-[#e8edf3] text-[#4f7396] font-bold rounded-full h-14 w-14 flex items-center justify-center",children:"R"}),jsxRuntimeExports.jsxs("div",{className:"flex flex-col justify-center flex-grow",children:[jsxRuntimeExports.jsx("p",{className:"text-[#0e141b] text-base font-medium leading-normal line-clamp-1",children:Bt.specialistReq}),jsxRuntimeExports.jsxs("p",{className:"text-[#4f7396] text-sm font-normal leading-normal line-clamp-2",children:["Patient: ",Bt.patient,", Date: ",Ot(Bt.dateOfReport)]})]}),jsxRuntimeExports.jsx("span",{className:`px-2 py-1 rounded-full text-xs ${Bt.isVerified?"bg-green-200 text-green-800":"bg-yellow-200 text-yellow-800"}`,children:Bt.isVerified?"Verified":"Unverified"})]},Gt))})]})}function Analytics(_e){return jsxRuntimeExports.jsxs("div",{className:"layout-content-container flex flex-col w-[360px]",children:[jsxRuntimeExports.jsx("h3",{className:"text-[#0e141b] text-lg font-bold leading-tight tracking-[-0.015em] px-4 pb-2 pt-4",children:"Analytics"}),jsxRuntimeExports.jsxs("div",{className:"flex flex-wrap gap-4 p-4",children:[jsxRuntimeExports.jsxs("div",{className:"flex min-w-[158px] flex-1 flex-col gap-2 rounded-xl p-6 border border-[#d0dbe6]",children:[jsxRuntimeExports.jsx("p",{className:"text-[#0e141b] text-base font-medium leading-normal",children:"Total Patients"}),jsxRuntimeExports.jsx("p",{className:"text-[#0e141b] tracking-light text-2xl font-bold leading-tight",children:_e.noofPatients}),jsxRuntimeExports.jsx("p",{className:"text-[#078838] text-base font-medium leading-normal",children:"+5%"})]}),jsxRuntimeExports.jsxs("div",{className:"flex min-w-[158px] flex-1 flex-col gap-2 rounded-xl p-6 border border-[#d0dbe6]",children:[jsxRuntimeExports.jsx("p",{className:"text-[#0e141b] text-base font-medium leading-normal",children:"Average Age"}),jsxRuntimeExports.jsx("p",{className:"text-[#0e141b] tracking-light text-2xl font-bold leading-tight",children:"44"}),jsxRuntimeExports.jsx("p",{className:"text-[#e73908] text-base font-medium leading-normal",children:"-2%"})]})]})]})}function Main(_e){const[$,xt]=reactExports.useState(0);return useNavigate(),jsxRuntimeExports.jsx("div",{className:"relative flex size-full min-h-screen flex-col bg-[#f8fafb] group/design-root overflow-x-hidden",style:{fontFamily:'Inter, "Noto Sans", sans-serif'},children:jsxRuntimeExports.jsxs("div",{className:"layout-container flex h-full grow flex-col",children:[jsxRuntimeExports.jsx(Navbar,{isDoctor:_e.isDoctor}),jsxRuntimeExports.jsxs("div",{className:"gap-1 px-6 flex flex-1 justify-center py-5",children:[jsxRuntimeExports.jsx(List,{isDoctor:_e.isDoctor,setNoofPatients:xt,noofPatients:$}),jsxRuntimeExports.jsx(Analytics,{noofPatients:$})]})]})})}const LandingPage=()=>{const _e=reactExports.useRef(null),$=()=>{_e.current.scrollIntoView({behavior:"smooth"})};let xt=useNavigate();return jsxRuntimeExports.jsx("div",{className:"relative flex size-full min-h-screen flex-col bg-[#F9FAFA] group/design-root overflow-x-hidden",style:{fontFamily:'Epilogue, "Noto Sans", sans-serif'},children:jsxRuntimeExports.jsxs("div",{className:"layout-container flex h-full grow flex-col",children:[jsxRuntimeExports.jsxs("header",{className:"flex items-center justify-between whitespace-nowrap border-b border-solid border-b-[#EEEFF2] px-10 py-3",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-4 text-[#1C1D22]",children:[jsxRuntimeExports.jsx("div",{className:"size-4",children:jsxRuntimeExports.jsxs("svg",{viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[jsxRuntimeExports.jsxs("g",{clipPath:"url(#clip0_6_543)",children:[jsxRuntimeExports.jsx("path",{d:"M42.1739 20.1739L27.8261 5.82609C29.1366 7.13663 28.3989 10.1876 26.2002 13.7654C24.8538 15.9564 22.9595 18.3449 20.6522 20.6522C18.3449 22.9595 15.9564 24.8538 13.7654 26.2002C10.1876 28.3989 7.13663 29.1366 5.82609 27.8261L20.1739 42.1739C21.4845 43.4845 24.5355 42.7467 28.1133 40.548C30.3042 39.2016 32.6927 37.3073 35 35C37.3073 32.6927 39.2016 30.3042 40.548 28.1133C42.7467 24.5355 43.4845 21.4845 42.1739 20.1739Z",fill:"currentColor"}),jsxRuntimeExports.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M7.24189 26.4066C7.31369 26.4411 7.64204 26.5637 8.52504 26.3738C9.59462 26.1438 11.0343 25.5311 12.7183 24.4963C14.7583 23.2426 17.0256 21.4503 19.238 19.238C21.4503 17.0256 23.2426 14.7583 24.4963 12.7183C25.5311 11.0343 26.1438 9.59463 26.3738 8.52504C26.5637 7.64204 26.4411 7.31369 26.4066 7.24189C26.345 7.21246 26.143 7.14535 25.6664 7.1918C24.9745 7.25925 23.9954 7.5498 22.7699 8.14278C20.3369 9.32007 17.3369 11.4915 14.4142 14.4142C11.4915 17.3369 9.32007 20.3369 8.14278 22.7699C7.5498 23.9954 7.25925 24.9745 7.1918 25.6664C7.14534 26.143 7.21246 26.345 7.24189 26.4066ZM29.9001 10.7285C29.4519 12.0322 28.7617 13.4172 27.9042 14.8126C26.465 17.1544 24.4686 19.6641 22.0664 22.0664C19.6641 24.4686 17.1544 26.465 14.8126 27.9042C13.4172 28.7617 12.0322 29.4519 10.7285 29.9001L21.5754 40.747C21.6001 40.7606 21.8995 40.931 22.8729 40.7217C23.9424 40.4916 25.3821 39.879 27.0661 38.8441C29.1062 37.5904 31.3734 35.7982 33.5858 33.5858C35.7982 31.3734 37.5904 29.1062 38.8441 27.0661C39.879 25.3821 40.4916 23.9425 40.7216 22.8729C40.931 21.8995 40.7606 21.6001 40.747 21.5754L29.9001 10.7285ZM29.2403 4.41187L43.5881 18.7597C44.9757 20.1473 44.9743 22.1235 44.6322 23.7139C44.2714 25.3919 43.4158 27.2666 42.252 29.1604C40.8128 31.5022 38.8165 34.012 36.4142 36.4142C34.012 38.8165 31.5022 40.8128 29.1604 42.252C27.2666 43.4158 25.3919 44.2714 23.7139 44.6322C22.1235 44.9743 20.1473 44.9757 18.7597 43.5881L4.41187 29.2403C3.29027 28.1187 3.08209 26.5973 3.21067 25.2783C3.34099 23.9415 3.8369 22.4852 4.54214 21.0277C5.96129 18.0948 8.43335 14.7382 11.5858 11.5858C14.7382 8.43335 18.0948 5.9613 21.0277 4.54214C22.4852 3.8369 23.9415 3.34099 25.2783 3.21067C26.5973 3.08209 28.1187 3.29028 29.2403 4.41187Z",fill:"currentColor"})]}),jsxRuntimeExports.jsx("defs",{children:jsxRuntimeExports.jsx("clipPath",{id:"clip0_6_543",children:jsxRuntimeExports.jsx("rect",{width:"48",height:"48",fill:"white"})})})]})}),jsxRuntimeExports.jsx("h2",{className:"text-[#1C1D22] text-lg font-bold leading-tight tracking-[-0.015em]",children:"Saanjh Sahayak"})]}),jsxRuntimeExports.jsxs("div",{className:"flex flex-1 justify-end gap-8",children:[jsxRuntimeExports.jsx("div",{className:"flex items-center gap-9",children:jsxRuntimeExports.jsx("a",{className:"text-[#1C1D22] text-sm font-medium leading-normal cursor-pointer",onClick:$,children:"Features"})}),jsxRuntimeExports.jsx("div",{className:"flex gap-2",children:jsxRuntimeExports.jsx("button",{className:"flex min-w-[84px] max-w-[480px] cursor-pointer items-center justify-center overflow-hidden rounded-full h-10 px-4 bg-[#607AFB] text-[#F9FAFA] text-sm font-bold leading-normal tracking-[0.015em]",onClick:()=>xt("/signin"),children:jsxRuntimeExports.jsx("span",{className:"truncate",children:"Login"})})})]})]}),jsxRuntimeExports.jsx("div",{className:"px-40 flex flex-1 justify-center py-5",children:jsxRuntimeExports.jsxs("div",{className:"layout-content-container flex flex-col max-w-[960px] flex-1",children:[jsxRuntimeExports.jsx("div",{className:"@container",children:jsxRuntimeExports.jsx("div",{className:"@[480px]:p-4",children:jsxRuntimeExports.jsxs("div",{className:"flex min-h-[480px] flex-col gap-6 bg-cover bg-center bg-no-repeat @[480px]:gap-8 @[480px]:rounded-xl items-start justify-end px-4 pb-10 @[480px]:px-10",style:{backgroundImage:'linear-gradient(rgba(0, 0, 0, 0.1) 0%, rgba(0, 0, 0, 0.4) 100%), url("https://cdn.usegalileo.ai/sdxl10/d0342d60-6ca8-4000-abde-e44f0d824c83.png")'},children:[jsxRuntimeExports.jsxs("div",{className:"flex flex-col gap-2 text-left",children:[jsxRuntimeExports.jsx("h1",{className:"text-white text-4xl font-black leading-tight tracking-[-0.033em] @[480px]:text-5xl @[480px]:font-black @[480px]:leading-tight @[480px]:tracking-[-0.033em]",children:"Saanjh Sahayak, better care for our elders"}),jsxRuntimeExports.jsx("h2",{className:"text-white text-sm font-normal leading-normal @[480px]:text-base @[480px]:font-normal @[480px]:leading-normal",children:"We are here to provide comprehensive and compassionate care to the elderly in old age homes."})]}),jsxRuntimeExports.jsx("label",{className:"flex flex-col min-w-40 h-14 w-full max-w-[480px] @[480px]:h-16"})]})})}),jsxRuntimeExports.jsxs("div",{className:"flex flex-col gap-10 px-4 py-10 @container",ref:_e,children:[jsxRuntimeExports.jsx("h1",{className:"text-[#1C1D22] tracking-light text-[32px] font-bold leading-tight @[480px]:text-4xl @[480px]:font-black @[480px]:leading-tight @[480px]:tracking-[-0.033em] max-w-[720px]",children:"For Caretakers"}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-[repeat(auto-fit,minmax(158px,1fr))] gap-3 p-0",children:[jsxRuntimeExports.jsxs("div",{className:"flex flex-1 gap-3 rounded-lg border border-[#D5D6DD] bg-[#FFFFFF] p-4 flex-col",children:[jsxRuntimeExports.jsx("div",{className:"text-[#1C1D22]","data-icon":"FirstAid","data-size":"24px","data-weight":"regular",children:jsxRuntimeExports.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24px",height:"24px",fill:"currentColor",viewBox:"0 0 256 256",children:jsxRuntimeExports.jsx("path",{d:"M216,88H168V40a16,16,0,0,0-16-16H104A16,16,0,0,0,88,40V88H40a16,16,0,0,0-16,16v48a16,16,0,0,0,16,16H88v48a16,16,0,0,0,16,16h48a16,16,0,0,0,16-16V168h48a16,16,0,0,0,16-16V104A16,16,0,0,0,216,88Zm0,64H160a8,8,0,0,0-8,8v56H104V160a8,8,0,0,0-8-8H40V104H96a8,8,0,0,0,8-8V40h48V96a8,8,0,0,0,8,8h56Z"})})}),jsxRuntimeExports.jsxs("div",{className:"flex flex-col gap-1",children:[jsxRuntimeExports.jsx("h2",{className:"text-[#1C1D22] text-base font-bold leading-tight",children:"Upload and Monitor Patient Reports"}),jsxRuntimeExports.jsx("p",{className:"text-[#3C3F4A] text-sm font-normal leading-normal",children:"Easily upload and monitor patient reports. Our system is designed to handle a variety of formats, ensuring a seamless experience."})]})]}),jsxRuntimeExports.jsxs("div",{className:"flex flex-1 gap-3 rounded-lg border border-[#D5D6DD] bg-[#FFFFFF] p-4 flex-col",children:[jsxRuntimeExports.jsx("div",{className:"text-[#1C1D22]","data-icon":"Notification","data-size":"24px","data-weight":"regular",children:jsxRuntimeExports.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24px",height:"24px",fill:"currentColor",viewBox:"0 0 256 256",children:jsxRuntimeExports.jsx("path",{d:"M216,128v80a16,16,0,0,1-16,16H48a16,16,0,0,1-16-16V56A16,16,0,0,1,48,40h80a8,8,0,0,1,0,16H48V208H200V128a8,8,0,0,1,16,0Zm16-68a36,36,0,1,1-36-36A36,36,0,0,1,232,60Zm-16,0a20,20,0,1,0-20,20A20,20,0,0,0,216,60Z"})})}),jsxRuntimeExports.jsxs("div",{className:"flex flex-col gap-1",children:[jsxRuntimeExports.jsx("h2",{className:"text-[#1C1D22] text-base font-bold leading-tight",children:"Receive Alerts and Reminders"}),jsxRuntimeExports.jsx("p",{className:"text-[#3C3F4A] text-sm font-normal leading-normal",children:"Get instant alerts and reminders for medication, doctor's appointments, and more. Stay on top of your loved one's care."})]})]})]})]}),jsxRuntimeExports.jsxs("div",{className:"flex flex-col gap-10 px-4 py-10 @container",children:[jsxRuntimeExports.jsx("h1",{className:"text-[#1C1D22] tracking-light text-[32px] font-bold leading-tight @[480px]:text-4xl @[480px]:font-black @[480px]:leading-tight @[480px]:tracking-[-0.033em] max-w-[720px]",children:"For Doctors"}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-[repeat(auto-fit,minmax(158px,1fr))] gap-3 p-0",children:[jsxRuntimeExports.jsxs("div",{className:"flex flex-1 gap-3 rounded-lg border border-[#D5D6DD] bg-[#FFFFFF] p-4 flex-col",children:[jsxRuntimeExports.jsx("div",{className:"text-[#1C1D22]","data-icon":"FirstAid","data-size":"24px","data-weight":"regular",children:jsxRuntimeExports.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24px",height:"24px",fill:"currentColor",viewBox:"0 0 256 256",children:jsxRuntimeExports.jsx("path",{d:"M216,88H168V40a16,16,0,0,0-16-16H104A16,16,0,0,0,88,40V88H40a16,16,0,0,0-16,16v48a16,16,0,0,0,16,16H88v48a16,16,0,0,0,16,16h48a16,16,0,0,0,16-16V168h48a16,16,0,0,0,16-16V104A16,16,0,0,0,216,88Zm0,64H160a8,8,0,0,0-8,8v56H104V160a8,8,0,0,0-8-8H40V104H96a8,8,0,0,0,8-8V40h48V96a8,8,0,0,0,8,8h56Z"})})}),jsxRuntimeExports.jsxs("div",{className:"flex flex-col gap-1",children:[jsxRuntimeExports.jsx("h2",{className:"text-[#1C1D22] text-base font-bold leading-tight",children:"Verify Patient Information"}),jsxRuntimeExports.jsx("p",{className:"text-[#3C3F4A] text-sm font-normal leading-normal",children:"Quickly and securely verify patient information. Our platform is designed to ensure compliance with privacy and data protection regulations."})]})]}),jsxRuntimeExports.jsxs("div",{className:"flex flex-1 gap-3 rounded-lg border border-[#D5D6DD] bg-[#FFFFFF] p-4 flex-col",children:[jsxRuntimeExports.jsx("div",{className:"text-[#1C1D22]","data-icon":"Translate","data-size":"24px","data-weight":"regular",children:jsxRuntimeExports.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24px",height:"24px",fill:"currentColor",viewBox:"0 0 256 256",children:jsxRuntimeExports.jsx("path",{d:"M239.15,212.42l-56-112a8,8,0,0,0-14.31,0l-21.71,43.43A88,88,0,0,1,100,126.93,103.65,103.65,0,0,0,127.69,64H152a8,8,0,0,0,0-16H96V32a8,8,0,0,0-16,0V48H24a8,8,0,0,0,0,16h87.63A87.76,87.76,0,0,1,88,116.35a87.74,87.74,0,0,1-19-31,8,8,0,1,0-15.08,5.34A103.63,103.63,0,0,0,76,127a87.55,87.55,0,0,1-52,17,8,8,0,0,0,0,16,103.46,103.46,0,0,0,64-22.08,104.18,104.18,0,0,0,51.44,21.31l-26.6,53.19a8,8,0,0,0,14.31,7.16L140.94,192h70.11l13.79,27.58A8,8,0,0,0,232,224a8,8,0,0,0,7.15-11.58ZM148.94,176,176,121.89,203.05,176Z"})})}),jsxRuntimeExports.jsxs("div",{className:"flex flex-col gap-1",children:[jsxRuntimeExports.jsx("h2",{className:"text-[#1C1D22] text-base font-bold leading-tight",children:"Analyze with Large Language Model"}),jsxRuntimeExports.jsx("p",{className:"text-[#3C3F4A] text-sm font-normal leading-normal",children:"Utilize our powerful Large Language Model for in-depth patient analysis. Get insights and recommendations based on the latest medical research."})]})]})]})]}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-[repeat(auto-fit,minmax(158px,1fr))] gap-3 p-4",children:[jsxRuntimeExports.jsxs("div",{className:"flex flex-col gap-3 pb-3",children:[jsxRuntimeExports.jsx("div",{className:"w-full bg-center bg-no-repeat aspect-video bg-cover rounded-xl",style:{backgroundImage:'url("https://cdn.usegalileo.ai/stability/fb823941-87a6-47fb-998f-c8224ea8c6db.png")'}}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"text-[#1C1D22] text-base font-medium leading-normal",children:"Get help from experts"}),jsxRuntimeExports.jsx("p",{className:"text-[#3C3F4A] text-sm font-normal leading-normal",children:"Our team of geriatricians and nurse practitioners are here to help."})]})]}),jsxRuntimeExports.jsxs("div",{className:"flex flex-col gap-3 pb-3",children:[jsxRuntimeExports.jsx("div",{className:"w-full bg-center bg-no-repeat aspect-video bg-cover rounded-xl",style:{backgroundImage:'url("https://cdn.usegalileo.ai/stability/b543c2c9-c73f-4636-8737-59e6d3f7a20e.png")'}}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"text-[#1C1D22] text-base font-medium leading-normal",children:"Stay connected"}),jsxRuntimeExports.jsx("p",{className:"text-[#3C3F4A] text-sm font-normal leading-normal",children:"Easily communicate with our team via video calls, phone calls, or chat."})]})]}),jsxRuntimeExports.jsxs("div",{className:"flex flex-col gap-3 pb-3",children:[jsxRuntimeExports.jsx("div",{className:"w-full bg-center bg-no-repeat aspect-video bg-cover rounded-xl",style:{backgroundImage:'url("https://cdn.usegalileo.ai/sdxl10/8329d0d0-4083-4c19-89c0-de0625991c40.png")'}}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"text-[#1C1D22] text-base font-medium leading-normal",children:"Get reminders"}),jsxRuntimeExports.jsx("p",{className:"text-[#3C3F4A] text-sm font-normal leading-normal",children:"Set up medication reminders and get alerts when it's time to take a dose."})]})]})]})]})})]})})};var DefaultContext={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},IconContext=React.createContext&&React.createContext(DefaultContext),_excluded=["attr","size","title"];function _objectWithoutProperties(_e,$){if(_e==null)return{};var xt=_objectWithoutPropertiesLoose(_e,$),bt,St;if(Object.getOwnPropertySymbols){var At=Object.getOwnPropertySymbols(_e);for(St=0;St<At.length;St++)bt=At[St],!($.indexOf(bt)>=0)&&Object.prototype.propertyIsEnumerable.call(_e,bt)&&(xt[bt]=_e[bt])}return xt}function _objectWithoutPropertiesLoose(_e,$){if(_e==null)return{};var xt={};for(var bt in _e)if(Object.prototype.hasOwnProperty.call(_e,bt)){if($.indexOf(bt)>=0)continue;xt[bt]=_e[bt]}return xt}function _extends(){return _extends=Object.assign?Object.assign.bind():function(_e){for(var $=1;$<arguments.length;$++){var xt=arguments[$];for(var bt in xt)Object.prototype.hasOwnProperty.call(xt,bt)&&(_e[bt]=xt[bt])}return _e},_extends.apply(this,arguments)}function ownKeys(_e,$){var xt=Object.keys(_e);if(Object.getOwnPropertySymbols){var bt=Object.getOwnPropertySymbols(_e);$&&(bt=bt.filter(function(St){return Object.getOwnPropertyDescriptor(_e,St).enumerable})),xt.push.apply(xt,bt)}return xt}function _objectSpread(_e){for(var $=1;$<arguments.length;$++){var xt=arguments[$]!=null?arguments[$]:{};$%2?ownKeys(Object(xt),!0).forEach(function(bt){_defineProperty(_e,bt,xt[bt])}):Object.getOwnPropertyDescriptors?Object.defineProperties(_e,Object.getOwnPropertyDescriptors(xt)):ownKeys(Object(xt)).forEach(function(bt){Object.defineProperty(_e,bt,Object.getOwnPropertyDescriptor(xt,bt))})}return _e}function _defineProperty(_e,$,xt){return $=_toPropertyKey($),$ in _e?Object.defineProperty(_e,$,{value:xt,enumerable:!0,configurable:!0,writable:!0}):_e[$]=xt,_e}function _toPropertyKey(_e){var $=_toPrimitive(_e,"string");return typeof $=="symbol"?$:$+""}function _toPrimitive(_e,$){if(typeof _e!="object"||!_e)return _e;var xt=_e[Symbol.toPrimitive];if(xt!==void 0){var bt=xt.call(_e,$||"default");if(typeof bt!="object")return bt;throw new TypeError("@@toPrimitive must return a primitive value.")}return($==="string"?String:Number)(_e)}function Tree2Element(_e){return _e&&_e.map(($,xt)=>React.createElement($.tag,_objectSpread({key:xt},$.attr),Tree2Element($.child)))}function GenIcon(_e){return $=>React.createElement(IconBase,_extends({attr:_objectSpread({},_e.attr)},$),Tree2Element(_e.child))}function IconBase(_e){var $=xt=>{var{attr:bt,size:St,title:At}=_e,Ct=_objectWithoutProperties(_e,_excluded),Et=St||xt.size||"1em",Pt;return xt.className&&(Pt=xt.className),_e.className&&(Pt=(Pt?Pt+" ":"")+_e.className),React.createElement("svg",_extends({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},xt.attr,bt,Ct,{className:Pt,style:_objectSpread(_objectSpread({color:_e.color||xt.color},xt.style),_e.style),height:Et,width:Et,xmlns:"http://www.w3.org/2000/svg"}),At&&React.createElement("title",null,At),_e.children)};return IconContext!==void 0?React.createElement(IconContext.Consumer,null,xt=>$(xt)):$(DefaultContext)}function FaEdit(_e){return GenIcon({tag:"svg",attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M402.6 83.2l90.2 90.2c3.8 3.8 3.8 10 0 13.8L274.4 405.6l-92.8 10.3c-12.4 1.4-22.9-9.1-21.5-21.5l10.3-92.8L388.8 83.2c3.8-3.8 10-3.8 13.8 0zm162-22.9l-48.8-48.8c-15.2-15.2-39.9-15.2-55.2 0l-35.4 35.4c-3.8 3.8-3.8 10 0 13.8l90.2 90.2c3.8 3.8 10 3.8 13.8 0l35.4-35.4c15.2-15.3 15.2-40 0-55.2zM384 346.2V448H64V128h229.8c3.2 0 6.2-1.3 8.5-3.5l40-40c7.6-7.6 2.2-20.5-8.5-20.5H48C21.5 64 0 85.5 0 112v352c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V306.2c0-10.7-12.9-16-20.5-8.5l-40 40c-2.2 2.3-3.5 5.3-3.5 8.5z"},child:[]}]})(_e)}const MotionConfigContext=reactExports.createContext({transformPagePoint:_e=>_e,isStatic:!1,reducedMotion:"never"}),MotionContext=reactExports.createContext({}),PresenceContext=reactExports.createContext(null),isBrowser=typeof document<"u",useIsomorphicLayoutEffect=isBrowser?reactExports.useLayoutEffect:reactExports.useEffect,LazyContext=reactExports.createContext({strict:!1}),camelToDash=_e=>_e.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),optimizedAppearDataId="framerAppearId",optimizedAppearDataAttribute="data-"+camelToDash(optimizedAppearDataId),MotionGlobalConfig={skipAnimations:!1,useManualTiming:!1};class Queue{constructor(){this.order=[],this.scheduled=new Set}add($){if(!this.scheduled.has($))return this.scheduled.add($),this.order.push($),!0}remove($){const xt=this.order.indexOf($);xt!==-1&&(this.order.splice(xt,1),this.scheduled.delete($))}clear(){this.order.length=0,this.scheduled.clear()}}function createRenderStep(_e){let $=new Queue,xt=new Queue,bt=0,St=!1,At=!1;const Ct=new WeakSet,Et={schedule:(Pt,wt=!1,kt=!1)=>{const _t=kt&&St,ht=_t?$:xt;return wt&&Ct.add(Pt),ht.add(Pt)&&_t&&St&&(bt=$.order.length),Pt},cancel:Pt=>{xt.remove(Pt),Ct.delete(Pt)},process:Pt=>{if(St){At=!0;return}if(St=!0,[$,xt]=[xt,$],xt.clear(),bt=$.order.length,bt)for(let wt=0;wt<bt;wt++){const kt=$.order[wt];Ct.has(kt)&&(Et.schedule(kt),_e()),kt(Pt)}St=!1,At&&(At=!1,Et.process(Pt))}};return Et}const stepsOrder=["read","resolveKeyframes","update","preRender","render","postRender"],maxElapsed=40;function createRenderBatcher(_e,$){let xt=!1,bt=!0;const St={delta:0,timestamp:0,isProcessing:!1},At=stepsOrder.reduce((_t,ht)=>(_t[ht]=createRenderStep(()=>xt=!0),_t),{}),Ct=_t=>{At[_t].process(St)},Et=()=>{const _t=performance.now();xt=!1,St.delta=bt?1e3/60:Math.max(Math.min(_t-St.timestamp,maxElapsed),1),St.timestamp=_t,St.isProcessing=!0,stepsOrder.forEach(Ct),St.isProcessing=!1,xt&&$&&(bt=!1,_e(Et))},Pt=()=>{xt=!0,bt=!0,St.isProcessing||_e(Et)};return{schedule:stepsOrder.reduce((_t,ht)=>{const vt=At[ht];return _t[ht]=(Ft,Vt=!1,qt=!1)=>(xt||Pt(),vt.schedule(Ft,Vt,qt)),_t},{}),cancel:_t=>stepsOrder.forEach(ht=>At[ht].cancel(_t)),state:St,steps:At}}const{schedule:microtask,cancel:cancelMicrotask}=createRenderBatcher(queueMicrotask,!1);function isRefObject(_e){return _e&&typeof _e=="object"&&Object.prototype.hasOwnProperty.call(_e,"current")}const SwitchLayoutGroupContext=reactExports.createContext({});let scheduleHandoffComplete=!1;function useVisualElement(_e,$,xt,bt,St){const{visualElement:At}=reactExports.useContext(MotionContext),Ct=reactExports.useContext(LazyContext),Et=reactExports.useContext(PresenceContext),Pt=reactExports.useContext(MotionConfigContext).reducedMotion,wt=reactExports.useRef();bt=bt||Ct.renderer,!wt.current&&bt&&(wt.current=bt(_e,{visualState:$,parent:At,props:xt,presenceContext:Et,blockInitialAnimation:Et?Et.initial===!1:!1,reducedMotionConfig:Pt}));const kt=wt.current,_t=reactExports.useContext(SwitchLayoutGroupContext);kt&&!kt.projection&&St&&(kt.type==="html"||kt.type==="svg")&&createProjectionNode$1(wt.current,xt,St,_t),reactExports.useInsertionEffect(()=>{kt&&kt.update(xt,Et)});const ht=reactExports.useRef(!!(xt[optimizedAppearDataAttribute]&&!window.HandoffComplete));return useIsomorphicLayoutEffect(()=>{kt&&(kt.updateFeatures(),microtask.render(kt.render),ht.current&&kt.animationState&&kt.animationState.animateChanges())}),reactExports.useEffect(()=>{kt&&(!ht.current&&kt.animationState&&kt.animationState.animateChanges(),ht.current&&(ht.current=!1,scheduleHandoffComplete||(scheduleHandoffComplete=!0,queueMicrotask(completeHandoff))))}),kt}function completeHandoff(){window.HandoffComplete=!0}function createProjectionNode$1(_e,$,xt,bt){const{layoutId:St,layout:At,drag:Ct,dragConstraints:Et,layoutScroll:Pt,layoutRoot:wt}=$;_e.projection=new xt(_e.latestValues,$["data-framer-portal-id"]?void 0:getClosestProjectingNode(_e.parent)),_e.projection.setOptions({layoutId:St,layout:At,alwaysMeasureLayout:!!Ct||Et&&isRefObject(Et),visualElement:_e,scheduleRender:()=>_e.scheduleRender(),animationType:typeof At=="string"?At:"both",initialPromotionConfig:bt,layoutScroll:Pt,layoutRoot:wt})}function getClosestProjectingNode(_e){if(_e)return _e.options.allowProjection!==!1?_e.projection:getClosestProjectingNode(_e.parent)}function useMotionRef(_e,$,xt){return reactExports.useCallback(bt=>{bt&&_e.mount&&_e.mount(bt),$&&(bt?$.mount(bt):$.unmount()),xt&&(typeof xt=="function"?xt(bt):isRefObject(xt)&&(xt.current=bt))},[$])}function isVariantLabel(_e){return typeof _e=="string"||Array.isArray(_e)}function isAnimationControls(_e){return _e!==null&&typeof _e=="object"&&typeof _e.start=="function"}const variantPriorityOrder=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],variantProps=["initial",...variantPriorityOrder];function isControllingVariants(_e){return isAnimationControls(_e.animate)||variantProps.some($=>isVariantLabel(_e[$]))}function isVariantNode(_e){return!!(isControllingVariants(_e)||_e.variants)}function getCurrentTreeVariants(_e,$){if(isControllingVariants(_e)){const{initial:xt,animate:bt}=_e;return{initial:xt===!1||isVariantLabel(xt)?xt:void 0,animate:isVariantLabel(bt)?bt:void 0}}return _e.inherit!==!1?$:{}}function useCreateMotionContext(_e){const{initial:$,animate:xt}=getCurrentTreeVariants(_e,reactExports.useContext(MotionContext));return reactExports.useMemo(()=>({initial:$,animate:xt}),[variantLabelsAsDependency($),variantLabelsAsDependency(xt)])}function variantLabelsAsDependency(_e){return Array.isArray(_e)?_e.join(" "):_e}const featureProps={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},featureDefinitions={};for(const _e in featureProps)featureDefinitions[_e]={isEnabled:$=>featureProps[_e].some(xt=>!!$[xt])};function loadFeatures(_e){for(const $ in _e)featureDefinitions[$]={...featureDefinitions[$],..._e[$]}}const LayoutGroupContext=reactExports.createContext({}),motionComponentSymbol=Symbol.for("motionComponentSymbol"),noop=_e=>_e;let invariant=noop;function createMotionComponent({preloadedFeatures:_e,createVisualElement:$,useRender:xt,useVisualState:bt,Component:St}){_e&&loadFeatures(_e);function At(Et,Pt){let wt;const kt={...reactExports.useContext(MotionConfigContext),...Et,layoutId:useLayoutId(Et)},{isStatic:_t}=kt,ht=useCreateMotionContext(Et),vt=bt(Et,_t);if(!_t&&isBrowser){useStrictMode();const Ft=getProjectionFunctionality(kt);wt=Ft.MeasureLayout,ht.visualElement=useVisualElement(St,vt,kt,$,Ft.ProjectionNode)}return jsxRuntimeExports.jsxs(MotionContext.Provider,{value:ht,children:[wt&&ht.visualElement?jsxRuntimeExports.jsx(wt,{visualElement:ht.visualElement,...kt}):null,xt(St,Et,useMotionRef(vt,ht.visualElement,Pt),vt,_t,ht.visualElement)]})}const Ct=reactExports.forwardRef(At);return Ct[motionComponentSymbol]=St,Ct}function useLayoutId({layoutId:_e}){const $=reactExports.useContext(LayoutGroupContext).id;return $&&_e!==void 0?$+"-"+_e:_e}function useStrictMode(_e,$){reactExports.useContext(LazyContext).strict}function getProjectionFunctionality(_e){const{drag:$,layout:xt}=featureDefinitions;if(!$&&!xt)return{};const bt={...$,...xt};return{MeasureLayout:$!=null&&$.isEnabled(_e)||xt!=null&&xt.isEnabled(_e)?bt.MeasureLayout:void 0,ProjectionNode:bt.ProjectionNode}}function createMotionProxy(_e){function $(bt,St={}){return createMotionComponent(_e(bt,St))}if(typeof Proxy>"u")return $;const xt=new Map;return new Proxy($,{get:(bt,St)=>(xt.has(St)||xt.set(St,$(St)),xt.get(St))})}const lowercaseSVGElements=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function isSVGComponent(_e){return typeof _e!="string"||_e.includes("-")?!1:!!(lowercaseSVGElements.indexOf(_e)>-1||/[A-Z]/u.test(_e))}const scaleCorrectors={};function addScaleCorrector(_e){Object.assign(scaleCorrectors,_e)}const transformPropOrder=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],transformProps=new Set(transformPropOrder);function isForcedMotionValue(_e,{layout:$,layoutId:xt}){return transformProps.has(_e)||_e.startsWith("origin")||($||xt!==void 0)&&(!!scaleCorrectors[_e]||_e==="opacity")}const isMotionValue=_e=>!!(_e&&_e.getVelocity),translateAlias={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},numTransforms=transformPropOrder.length;function buildTransform(_e,{enableHardwareAcceleration:$=!0,allowTransformNone:xt=!0},bt,St){let At="";for(let Ct=0;Ct<numTransforms;Ct++){const Et=transformPropOrder[Ct];if(_e[Et]!==void 0){const Pt=translateAlias[Et]||Et;At+=`${Pt}(${_e[Et]}) `}}return $&&!_e.z&&(At+="translateZ(0)"),At=At.trim(),St?At=St(_e,bt?"":At):xt&&bt&&(At="none"),At}const checkStringStartsWith=_e=>$=>typeof $=="string"&&$.startsWith(_e),isCSSVariableName=checkStringStartsWith("--"),startsAsVariableToken=checkStringStartsWith("var(--"),isCSSVariableToken=_e=>startsAsVariableToken(_e)?singleCssVariableRegex.test(_e.split("/*")[0].trim()):!1,singleCssVariableRegex=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,getValueAsType=(_e,$)=>$&&typeof _e=="number"?$.transform(_e):_e,clamp=(_e,$,xt)=>xt>$?$:xt<_e?_e:xt,number={test:_e=>typeof _e=="number",parse:parseFloat,transform:_e=>_e},alpha={...number,transform:_e=>clamp(0,1,_e)},scale={...number,default:1},sanitize=_e=>Math.round(_e*1e5)/1e5,floatRegex=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu,colorRegex=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu,singleColorRegex=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu;function isString(_e){return typeof _e=="string"}function isNullish(_e){return _e==null}const createUnitType=_e=>({test:$=>isString($)&&$.endsWith(_e)&&$.split(" ").length===1,parse:parseFloat,transform:$=>`${$}${_e}`}),degrees=createUnitType("deg"),percent=createUnitType("%"),px=createUnitType("px"),vh=createUnitType("vh"),vw=createUnitType("vw"),progressPercentage={...percent,parse:_e=>percent.parse(_e)/100,transform:_e=>percent.transform(_e*100)},int={...number,transform:Math.round},numberValueTypes={borderWidth:px,borderTopWidth:px,borderRightWidth:px,borderBottomWidth:px,borderLeftWidth:px,borderRadius:px,radius:px,borderTopLeftRadius:px,borderTopRightRadius:px,borderBottomRightRadius:px,borderBottomLeftRadius:px,width:px,maxWidth:px,height:px,maxHeight:px,size:px,top:px,right:px,bottom:px,left:px,padding:px,paddingTop:px,paddingRight:px,paddingBottom:px,paddingLeft:px,margin:px,marginTop:px,marginRight:px,marginBottom:px,marginLeft:px,rotate:degrees,rotateX:degrees,rotateY:degrees,rotateZ:degrees,scale,scaleX:scale,scaleY:scale,scaleZ:scale,skew:degrees,skewX:degrees,skewY:degrees,distance:px,translateX:px,translateY:px,translateZ:px,x:px,y:px,z:px,perspective:px,transformPerspective:px,opacity:alpha,originX:progressPercentage,originY:progressPercentage,originZ:px,zIndex:int,backgroundPositionX:px,backgroundPositionY:px,fillOpacity:alpha,strokeOpacity:alpha,numOctaves:int};function buildHTMLStyles(_e,$,xt,bt){const{style:St,vars:At,transform:Ct,transformOrigin:Et}=_e;let Pt=!1,wt=!1,kt=!0;for(const _t in $){const ht=$[_t];if(isCSSVariableName(_t)){At[_t]=ht;continue}const vt=numberValueTypes[_t],Ft=getValueAsType(ht,vt);if(transformProps.has(_t)){if(Pt=!0,Ct[_t]=Ft,!kt)continue;ht!==(vt.default||0)&&(kt=!1)}else _t.startsWith("origin")?(wt=!0,Et[_t]=Ft):St[_t]=Ft}if($.transform||(Pt||bt?St.transform=buildTransform(_e.transform,xt,kt,bt):St.transform&&(St.transform="none")),wt){const{originX:_t="50%",originY:ht="50%",originZ:vt=0}=Et;St.transformOrigin=`${_t} ${ht} ${vt}`}}const createHtmlRenderState=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function copyRawValuesOnly(_e,$,xt){for(const bt in $)!isMotionValue($[bt])&&!isForcedMotionValue(bt,xt)&&(_e[bt]=$[bt])}function useInitialMotionValues({transformTemplate:_e},$,xt){return reactExports.useMemo(()=>{const bt=createHtmlRenderState();return buildHTMLStyles(bt,$,{enableHardwareAcceleration:!xt},_e),Object.assign({},bt.vars,bt.style)},[$])}function useStyle(_e,$,xt){const bt=_e.style||{},St={};return copyRawValuesOnly(St,bt,_e),Object.assign(St,useInitialMotionValues(_e,$,xt)),St}function useHTMLProps(_e,$,xt){const bt={},St=useStyle(_e,$,xt);return _e.drag&&_e.dragListener!==!1&&(bt.draggable=!1,St.userSelect=St.WebkitUserSelect=St.WebkitTouchCallout="none",St.touchAction=_e.drag===!0?"none":`pan-${_e.drag==="x"?"y":"x"}`),_e.tabIndex===void 0&&(_e.onTap||_e.onTapStart||_e.whileTap)&&(bt.tabIndex=0),bt.style=St,bt}const validMotionProps=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function isValidMotionProp(_e){return _e.startsWith("while")||_e.startsWith("drag")&&_e!=="draggable"||_e.startsWith("layout")||_e.startsWith("onTap")||_e.startsWith("onPan")||_e.startsWith("onLayout")||validMotionProps.has(_e)}let shouldForward=_e=>!isValidMotionProp(_e);function loadExternalIsValidProp(_e){_e&&(shouldForward=$=>$.startsWith("on")?!isValidMotionProp($):_e($))}try{loadExternalIsValidProp(require("@emotion/is-prop-valid").default)}catch{}function filterProps(_e,$,xt){const bt={};for(const St in _e)St==="values"&&typeof _e.values=="object"||(shouldForward(St)||xt===!0&&isValidMotionProp(St)||!$&&!isValidMotionProp(St)||_e.draggable&&St.startsWith("onDrag"))&&(bt[St]=_e[St]);return bt}function calcOrigin$1(_e,$,xt){return typeof _e=="string"?_e:px.transform($+xt*_e)}function calcSVGTransformOrigin(_e,$,xt){const bt=calcOrigin$1($,_e.x,_e.width),St=calcOrigin$1(xt,_e.y,_e.height);return`${bt} ${St}`}const dashKeys={offset:"stroke-dashoffset",array:"stroke-dasharray"},camelKeys={offset:"strokeDashoffset",array:"strokeDasharray"};function buildSVGPath(_e,$,xt=1,bt=0,St=!0){_e.pathLength=1;const At=St?dashKeys:camelKeys;_e[At.offset]=px.transform(-bt);const Ct=px.transform($),Et=px.transform(xt);_e[At.array]=`${Ct} ${Et}`}function buildSVGAttrs(_e,{attrX:$,attrY:xt,attrScale:bt,originX:St,originY:At,pathLength:Ct,pathSpacing:Et=1,pathOffset:Pt=0,...wt},kt,_t,ht){if(buildHTMLStyles(_e,wt,kt,ht),_t){_e.style.viewBox&&(_e.attrs.viewBox=_e.style.viewBox);return}_e.attrs=_e.style,_e.style={};const{attrs:vt,style:Ft,dimensions:Vt}=_e;vt.transform&&(Vt&&(Ft.transform=vt.transform),delete vt.transform),Vt&&(St!==void 0||At!==void 0||Ft.transform)&&(Ft.transformOrigin=calcSVGTransformOrigin(Vt,St!==void 0?St:.5,At!==void 0?At:.5)),$!==void 0&&(vt.x=$),xt!==void 0&&(vt.y=xt),bt!==void 0&&(vt.scale=bt),Ct!==void 0&&buildSVGPath(vt,Ct,Et,Pt,!1)}const createSvgRenderState=()=>({...createHtmlRenderState(),attrs:{}}),isSVGTag=_e=>typeof _e=="string"&&_e.toLowerCase()==="svg";function useSVGProps(_e,$,xt,bt){const St=reactExports.useMemo(()=>{const At=createSvgRenderState();return buildSVGAttrs(At,$,{enableHardwareAcceleration:!1},isSVGTag(bt),_e.transformTemplate),{...At.attrs,style:{...At.style}}},[$]);if(_e.style){const At={};copyRawValuesOnly(At,_e.style,_e),St.style={...At,...St.style}}return St}function createUseRender(_e=!1){return(xt,bt,St,{latestValues:At},Ct)=>{const Pt=(isSVGComponent(xt)?useSVGProps:useHTMLProps)(bt,At,Ct,xt),wt=filterProps(bt,typeof xt=="string",_e),kt=xt!==reactExports.Fragment?{...wt,...Pt,ref:St}:{},{children:_t}=bt,ht=reactExports.useMemo(()=>isMotionValue(_t)?_t.get():_t,[_t]);return reactExports.createElement(xt,{...kt,children:ht})}}function renderHTML(_e,{style:$,vars:xt},bt,St){Object.assign(_e.style,$,St&&St.getProjectionStyles(bt));for(const At in xt)_e.style.setProperty(At,xt[At])}const camelCaseAttributes=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function renderSVG(_e,$,xt,bt){renderHTML(_e,$,void 0,bt);for(const St in $.attrs)_e.setAttribute(camelCaseAttributes.has(St)?St:camelToDash(St),$.attrs[St])}function scrapeMotionValuesFromProps$1(_e,$,xt){var bt;const{style:St}=_e,At={};for(const Ct in St)(isMotionValue(St[Ct])||$.style&&isMotionValue($.style[Ct])||isForcedMotionValue(Ct,_e)||((bt=xt==null?void 0:xt.getValue(Ct))===null||bt===void 0?void 0:bt.liveStyle)!==void 0)&&(At[Ct]=St[Ct]);return At}function scrapeMotionValuesFromProps(_e,$,xt){const bt=scrapeMotionValuesFromProps$1(_e,$,xt);for(const St in _e)if(isMotionValue(_e[St])||isMotionValue($[St])){const At=transformPropOrder.indexOf(St)!==-1?"attr"+St.charAt(0).toUpperCase()+St.substring(1):St;bt[At]=_e[St]}return bt}function getValueState(_e){const $=[{},{}];return _e==null||_e.values.forEach((xt,bt)=>{$[0][bt]=xt.get(),$[1][bt]=xt.getVelocity()}),$}function resolveVariantFromProps(_e,$,xt,bt){if(typeof $=="function"){const[St,At]=getValueState(bt);$=$(xt!==void 0?xt:_e.custom,St,At)}if(typeof $=="string"&&($=_e.variants&&_e.variants[$]),typeof $=="function"){const[St,At]=getValueState(bt);$=$(xt!==void 0?xt:_e.custom,St,At)}return $}function useConstant(_e){const $=reactExports.useRef(null);return $.current===null&&($.current=_e()),$.current}const isKeyframesTarget=_e=>Array.isArray(_e),isCustomValue=_e=>!!(_e&&typeof _e=="object"&&_e.mix&&_e.toValue),resolveFinalValueInKeyframes=_e=>isKeyframesTarget(_e)?_e[_e.length-1]||0:_e;function resolveMotionValue(_e){const $=isMotionValue(_e)?_e.get():_e;return isCustomValue($)?$.toValue():$}function makeState({scrapeMotionValuesFromProps:_e,createRenderState:$,onMount:xt},bt,St,At){const Ct={latestValues:makeLatestValues(bt,St,At,_e),renderState:$()};return xt&&(Ct.mount=Et=>xt(bt,Et,Ct)),Ct}const makeUseVisualState=_e=>($,xt)=>{const bt=reactExports.useContext(MotionContext),St=reactExports.useContext(PresenceContext),At=()=>makeState(_e,$,bt,St);return xt?At():useConstant(At)};function makeLatestValues(_e,$,xt,bt){const St={},At=bt(_e,{});for(const ht in At)St[ht]=resolveMotionValue(At[ht]);let{initial:Ct,animate:Et}=_e;const Pt=isControllingVariants(_e),wt=isVariantNode(_e);$&&wt&&!Pt&&_e.inherit!==!1&&(Ct===void 0&&(Ct=$.initial),Et===void 0&&(Et=$.animate));let kt=xt?xt.initial===!1:!1;kt=kt||Ct===!1;const _t=kt?Et:Ct;return _t&&typeof _t!="boolean"&&!isAnimationControls(_t)&&(Array.isArray(_t)?_t:[_t]).forEach(vt=>{const Ft=resolveVariantFromProps(_e,vt);if(!Ft)return;const{transitionEnd:Vt,transition:qt,...Lt}=Ft;for(const $t in Lt){let Ot=Lt[$t];if(Array.isArray(Ot)){const jt=kt?Ot.length-1:0;Ot=Ot[jt]}Ot!==null&&(St[$t]=Ot)}for(const $t in Vt)St[$t]=Vt[$t]}),St}const{schedule:frame,cancel:cancelFrame,state:frameData,steps}=createRenderBatcher(typeof requestAnimationFrame<"u"?requestAnimationFrame:noop,!0),svgMotionConfig={useVisualState:makeUseVisualState({scrapeMotionValuesFromProps,createRenderState:createSvgRenderState,onMount:(_e,$,{renderState:xt,latestValues:bt})=>{frame.read(()=>{try{xt.dimensions=typeof $.getBBox=="function"?$.getBBox():$.getBoundingClientRect()}catch{xt.dimensions={x:0,y:0,width:0,height:0}}}),frame.render(()=>{buildSVGAttrs(xt,bt,{enableHardwareAcceleration:!1},isSVGTag($.tagName),_e.transformTemplate),renderSVG($,xt)})}})},htmlMotionConfig={useVisualState:makeUseVisualState({scrapeMotionValuesFromProps:scrapeMotionValuesFromProps$1,createRenderState:createHtmlRenderState})};function createDomMotionConfig(_e,{forwardMotionProps:$=!1},xt,bt){return{...isSVGComponent(_e)?svgMotionConfig:htmlMotionConfig,preloadedFeatures:xt,useRender:createUseRender($),createVisualElement:bt,Component:_e}}function addDomEvent(_e,$,xt,bt={passive:!0}){return _e.addEventListener($,xt,bt),()=>_e.removeEventListener($,xt)}const isPrimaryPointer=_e=>_e.pointerType==="mouse"?typeof _e.button!="number"||_e.button<=0:_e.isPrimary!==!1;function extractEventInfo(_e,$="page"){return{point:{x:_e[`${$}X`],y:_e[`${$}Y`]}}}const addPointerInfo=_e=>$=>isPrimaryPointer($)&&_e($,extractEventInfo($));function addPointerEvent(_e,$,xt,bt){return addDomEvent(_e,$,addPointerInfo(xt),bt)}const combineFunctions=(_e,$)=>xt=>$(_e(xt)),pipe=(..._e)=>_e.reduce(combineFunctions);function createLock(_e){let $=null;return()=>{const xt=()=>{$=null};return $===null?($=_e,xt):!1}}const globalHorizontalLock=createLock("dragHorizontal"),globalVerticalLock=createLock("dragVertical");function getGlobalLock(_e){let $=!1;if(_e==="y")$=globalVerticalLock();else if(_e==="x")$=globalHorizontalLock();else{const xt=globalHorizontalLock(),bt=globalVerticalLock();xt&&bt?$=()=>{xt(),bt()}:(xt&&xt(),bt&&bt())}return $}function isDragActive(){const _e=getGlobalLock(!0);return _e?(_e(),!1):!0}class Feature{constructor($){this.isMounted=!1,this.node=$}update(){}}function addHoverEvent(_e,$){const xt=$?"pointerenter":"pointerleave",bt=$?"onHoverStart":"onHoverEnd",St=(At,Ct)=>{if(At.pointerType==="touch"||isDragActive())return;const Et=_e.getProps();_e.animationState&&Et.whileHover&&_e.animationState.setActive("whileHover",$);const Pt=Et[bt];Pt&&frame.postRender(()=>Pt(At,Ct))};return addPointerEvent(_e.current,xt,St,{passive:!_e.getProps()[bt]})}class HoverGesture extends Feature{mount(){this.unmount=pipe(addHoverEvent(this.node,!0),addHoverEvent(this.node,!1))}unmount(){}}class FocusGesture extends Feature{constructor(){super(...arguments),this.isActive=!1}onFocus(){let $=!1;try{$=this.node.current.matches(":focus-visible")}catch{$=!0}!$||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=pipe(addDomEvent(this.node.current,"focus",()=>this.onFocus()),addDomEvent(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}const isNodeOrChild=(_e,$)=>$?_e===$?!0:isNodeOrChild(_e,$.parentElement):!1;function fireSyntheticPointerEvent(_e,$){if(!$)return;const xt=new PointerEvent("pointer"+_e);$(xt,extractEventInfo(xt))}class PressGesture extends Feature{constructor(){super(...arguments),this.removeStartListeners=noop,this.removeEndListeners=noop,this.removeAccessibleListeners=noop,this.startPointerPress=($,xt)=>{if(this.isPressing)return;this.removeEndListeners();const bt=this.node.getProps(),At=addPointerEvent(window,"pointerup",(Et,Pt)=>{if(!this.checkPressEnd())return;const{onTap:wt,onTapCancel:kt,globalTapTarget:_t}=this.node.getProps(),ht=!_t&&!isNodeOrChild(this.node.current,Et.target)?kt:wt;ht&&frame.update(()=>ht(Et,Pt))},{passive:!(bt.onTap||bt.onPointerUp)}),Ct=addPointerEvent(window,"pointercancel",(Et,Pt)=>this.cancelPress(Et,Pt),{passive:!(bt.onTapCancel||bt.onPointerCancel)});this.removeEndListeners=pipe(At,Ct),this.startPress($,xt)},this.startAccessiblePress=()=>{const $=At=>{if(At.key!=="Enter"||this.isPressing)return;const Ct=Et=>{Et.key!=="Enter"||!this.checkPressEnd()||fireSyntheticPointerEvent("up",(Pt,wt)=>{const{onTap:kt}=this.node.getProps();kt&&frame.postRender(()=>kt(Pt,wt))})};this.removeEndListeners(),this.removeEndListeners=addDomEvent(this.node.current,"keyup",Ct),fireSyntheticPointerEvent("down",(Et,Pt)=>{this.startPress(Et,Pt)})},xt=addDomEvent(this.node.current,"keydown",$),bt=()=>{this.isPressing&&fireSyntheticPointerEvent("cancel",(At,Ct)=>this.cancelPress(At,Ct))},St=addDomEvent(this.node.current,"blur",bt);this.removeAccessibleListeners=pipe(xt,St)}}startPress($,xt){this.isPressing=!0;const{onTapStart:bt,whileTap:St}=this.node.getProps();St&&this.node.animationState&&this.node.animationState.setActive("whileTap",!0),bt&&frame.postRender(()=>bt($,xt))}checkPressEnd(){return this.removeEndListeners(),this.isPressing=!1,this.node.getProps().whileTap&&this.node.animationState&&this.node.animationState.setActive("whileTap",!1),!isDragActive()}cancelPress($,xt){if(!this.checkPressEnd())return;const{onTapCancel:bt}=this.node.getProps();bt&&frame.postRender(()=>bt($,xt))}mount(){const $=this.node.getProps(),xt=addPointerEvent($.globalTapTarget?window:this.node.current,"pointerdown",this.startPointerPress,{passive:!($.onTapStart||$.onPointerStart)}),bt=addDomEvent(this.node.current,"focus",this.startAccessiblePress);this.removeStartListeners=pipe(xt,bt)}unmount(){this.removeStartListeners(),this.removeEndListeners(),this.removeAccessibleListeners()}}const observerCallbacks=new WeakMap,observers=new WeakMap,fireObserverCallback=_e=>{const $=observerCallbacks.get(_e.target);$&&$(_e)},fireAllObserverCallbacks=_e=>{_e.forEach(fireObserverCallback)};function initIntersectionObserver({root:_e,...$}){const xt=_e||document;observers.has(xt)||observers.set(xt,{});const bt=observers.get(xt),St=JSON.stringify($);return bt[St]||(bt[St]=new IntersectionObserver(fireAllObserverCallbacks,{root:_e,...$})),bt[St]}function observeIntersection(_e,$,xt){const bt=initIntersectionObserver($);return observerCallbacks.set(_e,xt),bt.observe(_e),()=>{observerCallbacks.delete(_e),bt.unobserve(_e)}}const thresholdNames={some:0,all:1};class InViewFeature extends Feature{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:$={}}=this.node.getProps(),{root:xt,margin:bt,amount:St="some",once:At}=$,Ct={root:xt?xt.current:void 0,rootMargin:bt,threshold:typeof St=="number"?St:thresholdNames[St]},Et=Pt=>{const{isIntersecting:wt}=Pt;if(this.isInView===wt||(this.isInView=wt,At&&!wt&&this.hasEnteredView))return;wt&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",wt);const{onViewportEnter:kt,onViewportLeave:_t}=this.node.getProps(),ht=wt?kt:_t;ht&&ht(Pt)};return observeIntersection(this.node.current,Ct,Et)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:$,prevProps:xt}=this.node;["amount","margin","root"].some(hasViewportOptionChanged($,xt))&&this.startObserver()}unmount(){}}function hasViewportOptionChanged({viewport:_e={}},{viewport:$={}}={}){return xt=>_e[xt]!==$[xt]}const gestureAnimations={inView:{Feature:InViewFeature},tap:{Feature:PressGesture},focus:{Feature:FocusGesture},hover:{Feature:HoverGesture}};function shallowCompare(_e,$){if(!Array.isArray($))return!1;const xt=$.length;if(xt!==_e.length)return!1;for(let bt=0;bt<xt;bt++)if($[bt]!==_e[bt])return!1;return!0}function resolveVariant(_e,$,xt){const bt=_e.getProps();return resolveVariantFromProps(bt,$,xt!==void 0?xt:bt.custom,_e)}const secondsToMilliseconds=_e=>_e*1e3,millisecondsToSeconds=_e=>_e/1e3,underDampedSpring={type:"spring",stiffness:500,damping:25,restSpeed:10},criticallyDampedSpring=_e=>({type:"spring",stiffness:550,damping:_e===0?2*Math.sqrt(550):30,restSpeed:10}),keyframesTransition={type:"keyframes",duration:.8},ease={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},getDefaultTransition=(_e,{keyframes:$})=>$.length>2?keyframesTransition:transformProps.has(_e)?_e.startsWith("scale")?criticallyDampedSpring($[1]):underDampedSpring:ease;function isTransitionDefined({when:_e,delay:$,delayChildren:xt,staggerChildren:bt,staggerDirection:St,repeat:At,repeatType:Ct,repeatDelay:Et,from:Pt,elapsed:wt,...kt}){return!!Object.keys(kt).length}function getValueTransition(_e,$){return _e[$]||_e.default||_e}const isNotNull=_e=>_e!==null;function getFinalKeyframe(_e,{repeat:$,repeatType:xt="loop"},bt){const St=_e.filter(isNotNull),At=$&&xt!=="loop"&&$%2===1?0:St.length-1;return!At||bt===void 0?St[At]:bt}let now;function clearTime(){now=void 0}const time={now:()=>(now===void 0&&time.set(frameData.isProcessing||MotionGlobalConfig.useManualTiming?frameData.timestamp:performance.now()),now),set:_e=>{now=_e,queueMicrotask(clearTime)}},isZeroValueString=_e=>/^0[^.\s]+$/u.test(_e);function isNone(_e){return typeof _e=="number"?_e===0:_e!==null?_e==="none"||_e==="0"||isZeroValueString(_e):!0}const isNumericalString=_e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(_e),splitCSSVariableRegex=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function parseCSSVariable(_e){const $=splitCSSVariableRegex.exec(_e);if(!$)return[,];const[,xt,bt,St]=$;return[`--${xt??bt}`,St]}function getVariableValue(_e,$,xt=1){const[bt,St]=parseCSSVariable(_e);if(!bt)return;const At=window.getComputedStyle($).getPropertyValue(bt);if(At){const Ct=At.trim();return isNumericalString(Ct)?parseFloat(Ct):Ct}return isCSSVariableToken(St)?getVariableValue(St,$,xt+1):St}const positionalKeys=new Set(["width","height","top","left","right","bottom","x","y","translateX","translateY"]),isNumOrPxType=_e=>_e===number||_e===px,getPosFromMatrix=(_e,$)=>parseFloat(_e.split(", ")[$]),getTranslateFromMatrix=(_e,$)=>(xt,{transform:bt})=>{if(bt==="none"||!bt)return 0;const St=bt.match(/^matrix3d\((.+)\)$/u);if(St)return getPosFromMatrix(St[1],$);{const At=bt.match(/^matrix\((.+)\)$/u);return At?getPosFromMatrix(At[1],_e):0}},transformKeys=new Set(["x","y","z"]),nonTranslationalTransformKeys=transformPropOrder.filter(_e=>!transformKeys.has(_e));function removeNonTranslationalTransform(_e){const $=[];return nonTranslationalTransformKeys.forEach(xt=>{const bt=_e.getValue(xt);bt!==void 0&&($.push([xt,bt.get()]),bt.set(xt.startsWith("scale")?1:0))}),$}const positionalValues={width:({x:_e},{paddingLeft:$="0",paddingRight:xt="0"})=>_e.max-_e.min-parseFloat($)-parseFloat(xt),height:({y:_e},{paddingTop:$="0",paddingBottom:xt="0"})=>_e.max-_e.min-parseFloat($)-parseFloat(xt),top:(_e,{top:$})=>parseFloat($),left:(_e,{left:$})=>parseFloat($),bottom:({y:_e},{top:$})=>parseFloat($)+(_e.max-_e.min),right:({x:_e},{left:$})=>parseFloat($)+(_e.max-_e.min),x:getTranslateFromMatrix(4,13),y:getTranslateFromMatrix(5,14)};positionalValues.translateX=positionalValues.x;positionalValues.translateY=positionalValues.y;const testValueType=_e=>$=>$.test(_e),auto={test:_e=>_e==="auto",parse:_e=>_e},dimensionValueTypes=[number,px,percent,degrees,vw,vh,auto],findDimensionValueType=_e=>dimensionValueTypes.find(testValueType(_e)),toResolve=new Set;let isScheduled=!1,anyNeedsMeasurement=!1;function measureAllKeyframes(){if(anyNeedsMeasurement){const _e=Array.from(toResolve).filter(bt=>bt.needsMeasurement),$=new Set(_e.map(bt=>bt.element)),xt=new Map;$.forEach(bt=>{const St=removeNonTranslationalTransform(bt);St.length&&(xt.set(bt,St),bt.render())}),_e.forEach(bt=>bt.measureInitialState()),$.forEach(bt=>{bt.render();const St=xt.get(bt);St&&St.forEach(([At,Ct])=>{var Et;(Et=bt.getValue(At))===null||Et===void 0||Et.set(Ct)})}),_e.forEach(bt=>bt.measureEndState()),_e.forEach(bt=>{bt.suspendedScrollY!==void 0&&window.scrollTo(0,bt.suspendedScrollY)})}anyNeedsMeasurement=!1,isScheduled=!1,toResolve.forEach(_e=>_e.complete()),toResolve.clear()}function readAllKeyframes(){toResolve.forEach(_e=>{_e.readKeyframes(),_e.needsMeasurement&&(anyNeedsMeasurement=!0)})}function flushKeyframeResolvers(){readAllKeyframes(),measureAllKeyframes()}class KeyframeResolver{constructor($,xt,bt,St,At,Ct=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...$],this.onComplete=xt,this.name=bt,this.motionValue=St,this.element=At,this.isAsync=Ct}scheduleResolve(){this.isScheduled=!0,this.isAsync?(toResolve.add(this),isScheduled||(isScheduled=!0,frame.read(readAllKeyframes),frame.resolveKeyframes(measureAllKeyframes))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:$,name:xt,element:bt,motionValue:St}=this;for(let At=0;At<$.length;At++)if($[At]===null)if(At===0){const Ct=St==null?void 0:St.get(),Et=$[$.length-1];if(Ct!==void 0)$[0]=Ct;else if(bt&&xt){const Pt=bt.readValue(xt,Et);Pt!=null&&($[0]=Pt)}$[0]===void 0&&($[0]=Et),St&&Ct===void 0&&St.set($[0])}else $[At]=$[At-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),toResolve.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,toResolve.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const isColorString=(_e,$)=>xt=>!!(isString(xt)&&singleColorRegex.test(xt)&&xt.startsWith(_e)||$&&!isNullish(xt)&&Object.prototype.hasOwnProperty.call(xt,$)),splitColor=(_e,$,xt)=>bt=>{if(!isString(bt))return bt;const[St,At,Ct,Et]=bt.match(floatRegex);return{[_e]:parseFloat(St),[$]:parseFloat(At),[xt]:parseFloat(Ct),alpha:Et!==void 0?parseFloat(Et):1}},clampRgbUnit=_e=>clamp(0,255,_e),rgbUnit={...number,transform:_e=>Math.round(clampRgbUnit(_e))},rgba={test:isColorString("rgb","red"),parse:splitColor("red","green","blue"),transform:({red:_e,green:$,blue:xt,alpha:bt=1})=>"rgba("+rgbUnit.transform(_e)+", "+rgbUnit.transform($)+", "+rgbUnit.transform(xt)+", "+sanitize(alpha.transform(bt))+")"};function parseHex(_e){let $="",xt="",bt="",St="";return _e.length>5?($=_e.substring(1,3),xt=_e.substring(3,5),bt=_e.substring(5,7),St=_e.substring(7,9)):($=_e.substring(1,2),xt=_e.substring(2,3),bt=_e.substring(3,4),St=_e.substring(4,5),$+=$,xt+=xt,bt+=bt,St+=St),{red:parseInt($,16),green:parseInt(xt,16),blue:parseInt(bt,16),alpha:St?parseInt(St,16)/255:1}}const hex={test:isColorString("#"),parse:parseHex,transform:rgba.transform},hsla={test:isColorString("hsl","hue"),parse:splitColor("hue","saturation","lightness"),transform:({hue:_e,saturation:$,lightness:xt,alpha:bt=1})=>"hsla("+Math.round(_e)+", "+percent.transform(sanitize($))+", "+percent.transform(sanitize(xt))+", "+sanitize(alpha.transform(bt))+")"},color={test:_e=>rgba.test(_e)||hex.test(_e)||hsla.test(_e),parse:_e=>rgba.test(_e)?rgba.parse(_e):hsla.test(_e)?hsla.parse(_e):hex.parse(_e),transform:_e=>isString(_e)?_e:_e.hasOwnProperty("red")?rgba.transform(_e):hsla.transform(_e)};function test(_e){var $,xt;return isNaN(_e)&&isString(_e)&&((($=_e.match(floatRegex))===null||$===void 0?void 0:$.length)||0)+(((xt=_e.match(colorRegex))===null||xt===void 0?void 0:xt.length)||0)>0}const NUMBER_TOKEN="number",COLOR_TOKEN="color",VAR_TOKEN="var",VAR_FUNCTION_TOKEN="var(",SPLIT_TOKEN="${}",complexRegex=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function analyseComplexValue(_e){const $=_e.toString(),xt=[],bt={color:[],number:[],var:[]},St=[];let At=0;const Et=$.replace(complexRegex,Pt=>(color.test(Pt)?(bt.color.push(At),St.push(COLOR_TOKEN),xt.push(color.parse(Pt))):Pt.startsWith(VAR_FUNCTION_TOKEN)?(bt.var.push(At),St.push(VAR_TOKEN),xt.push(Pt)):(bt.number.push(At),St.push(NUMBER_TOKEN),xt.push(parseFloat(Pt))),++At,SPLIT_TOKEN)).split(SPLIT_TOKEN);return{values:xt,split:Et,indexes:bt,types:St}}function parseComplexValue(_e){return analyseComplexValue(_e).values}function createTransformer(_e){const{split:$,types:xt}=analyseComplexValue(_e),bt=$.length;return St=>{let At="";for(let Ct=0;Ct<bt;Ct++)if(At+=$[Ct],St[Ct]!==void 0){const Et=xt[Ct];Et===NUMBER_TOKEN?At+=sanitize(St[Ct]):Et===COLOR_TOKEN?At+=color.transform(St[Ct]):At+=St[Ct]}return At}}const convertNumbersToZero=_e=>typeof _e=="number"?0:_e;function getAnimatableNone$1(_e){const $=parseComplexValue(_e);return createTransformer(_e)($.map(convertNumbersToZero))}const complex={test,parse:parseComplexValue,createTransformer,getAnimatableNone:getAnimatableNone$1},maxDefaults=new Set(["brightness","contrast","saturate","opacity"]);function applyDefaultFilter(_e){const[$,xt]=_e.slice(0,-1).split("(");if($==="drop-shadow")return _e;const[bt]=xt.match(floatRegex)||[];if(!bt)return _e;const St=xt.replace(bt,"");let At=maxDefaults.has($)?1:0;return bt!==xt&&(At*=100),$+"("+At+St+")"}const functionRegex=/\b([a-z-]*)\(.*?\)/gu,filter={...complex,getAnimatableNone:_e=>{const $=_e.match(functionRegex);return $?$.map(applyDefaultFilter).join(" "):_e}},defaultValueTypes={...numberValueTypes,color,backgroundColor:color,outlineColor:color,fill:color,stroke:color,borderColor:color,borderTopColor:color,borderRightColor:color,borderBottomColor:color,borderLeftColor:color,filter,WebkitFilter:filter},getDefaultValueType=_e=>defaultValueTypes[_e];function getAnimatableNone(_e,$){let xt=getDefaultValueType(_e);return xt!==filter&&(xt=complex),xt.getAnimatableNone?xt.getAnimatableNone($):void 0}const invalidTemplates=new Set(["auto","none","0"]);function makeNoneKeyframesAnimatable(_e,$,xt){let bt=0,St;for(;bt<_e.length&&!St;){const At=_e[bt];typeof At=="string"&&!invalidTemplates.has(At)&&analyseComplexValue(At).values.length&&(St=_e[bt]),bt++}if(St&&xt)for(const At of $)_e[At]=getAnimatableNone(xt,St)}class DOMKeyframesResolver extends KeyframeResolver{constructor($,xt,bt,St){super($,xt,bt,St,St==null?void 0:St.owner,!0)}readKeyframes(){const{unresolvedKeyframes:$,element:xt,name:bt}=this;if(!xt.current)return;super.readKeyframes();for(let Pt=0;Pt<$.length;Pt++){let wt=$[Pt];if(typeof wt=="string"&&(wt=wt.trim(),isCSSVariableToken(wt))){const kt=getVariableValue(wt,xt.current);kt!==void 0&&($[Pt]=kt),Pt===$.length-1&&(this.finalKeyframe=wt)}}if(this.resolveNoneKeyframes(),!positionalKeys.has(bt)||$.length!==2)return;const[St,At]=$,Ct=findDimensionValueType(St),Et=findDimensionValueType(At);if(Ct!==Et)if(isNumOrPxType(Ct)&&isNumOrPxType(Et))for(let Pt=0;Pt<$.length;Pt++){const wt=$[Pt];typeof wt=="string"&&($[Pt]=parseFloat(wt))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:$,name:xt}=this,bt=[];for(let St=0;St<$.length;St++)isNone($[St])&&bt.push(St);bt.length&&makeNoneKeyframesAnimatable($,bt,xt)}measureInitialState(){const{element:$,unresolvedKeyframes:xt,name:bt}=this;if(!$.current)return;bt==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=positionalValues[bt]($.measureViewportBox(),window.getComputedStyle($.current)),xt[0]=this.measuredOrigin;const St=xt[xt.length-1];St!==void 0&&$.getValue(bt,St).jump(St,!1)}measureEndState(){var $;const{element:xt,name:bt,unresolvedKeyframes:St}=this;if(!xt.current)return;const At=xt.getValue(bt);At&&At.jump(this.measuredOrigin,!1);const Ct=St.length-1,Et=St[Ct];St[Ct]=positionalValues[bt](xt.measureViewportBox(),window.getComputedStyle(xt.current)),Et!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=Et),!(($=this.removedTransforms)===null||$===void 0)&&$.length&&this.removedTransforms.forEach(([Pt,wt])=>{xt.getValue(Pt).set(wt)}),this.resolveNoneKeyframes()}}function memo(_e){let $;return()=>($===void 0&&($=_e()),$)}const isAnimatable=(_e,$)=>$==="zIndex"?!1:!!(typeof _e=="number"||Array.isArray(_e)||typeof _e=="string"&&(complex.test(_e)||_e==="0")&&!_e.startsWith("url("));function hasKeyframesChanged(_e){const $=_e[0];if(_e.length===1)return!0;for(let xt=0;xt<_e.length;xt++)if(_e[xt]!==$)return!0}function canAnimate(_e,$,xt,bt){const St=_e[0];if(St===null)return!1;if($==="display"||$==="visibility")return!0;const At=_e[_e.length-1],Ct=isAnimatable(St,$),Et=isAnimatable(At,$);return!Ct||!Et?!1:hasKeyframesChanged(_e)||xt==="spring"&&bt}class BaseAnimation{constructor({autoplay:$=!0,delay:xt=0,type:bt="keyframes",repeat:St=0,repeatDelay:At=0,repeatType:Ct="loop",...Et}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.options={autoplay:$,delay:xt,type:bt,repeat:St,repeatDelay:At,repeatType:Ct,...Et},this.updateFinishedPromise()}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&flushKeyframeResolvers(),this._resolved}onKeyframesResolved($,xt){this.hasAttemptedResolve=!0;const{name:bt,type:St,velocity:At,delay:Ct,onComplete:Et,onUpdate:Pt,isGenerator:wt}=this.options;if(!wt&&!canAnimate($,bt,St,At))if(Ct)this.options.duration=0;else{Pt==null||Pt(getFinalKeyframe($,this.options,xt)),Et==null||Et(),this.resolveFinishedPromise();return}const kt=this.initPlayback($,xt);kt!==!1&&(this._resolved={keyframes:$,finalKeyframe:xt,...kt},this.onPostResolved())}onPostResolved(){}then($,xt){return this.currentFinishedPromise.then($,xt)}updateFinishedPromise(){this.currentFinishedPromise=new Promise($=>{this.resolveFinishedPromise=$})}}function velocityPerSecond(_e,$){return $?_e*(1e3/$):0}const velocitySampleDuration=5;function calcGeneratorVelocity(_e,$,xt){const bt=Math.max($-velocitySampleDuration,0);return velocityPerSecond(xt-_e(bt),$-bt)}const safeMin=.001,minDuration=.01,maxDuration$1=10,minDamping=.05,maxDamping=1;function findSpring({duration:_e=800,bounce:$=.25,velocity:xt=0,mass:bt=1}){let St,At,Ct=1-$;Ct=clamp(minDamping,maxDamping,Ct),_e=clamp(minDuration,maxDuration$1,millisecondsToSeconds(_e)),Ct<1?(St=wt=>{const kt=wt*Ct,_t=kt*_e,ht=kt-xt,vt=calcAngularFreq(wt,Ct),Ft=Math.exp(-_t);return safeMin-ht/vt*Ft},At=wt=>{const _t=wt*Ct*_e,ht=_t*xt+xt,vt=Math.pow(Ct,2)*Math.pow(wt,2)*_e,Ft=Math.exp(-_t),Vt=calcAngularFreq(Math.pow(wt,2),Ct);return(-St(wt)+safeMin>0?-1:1)*((ht-vt)*Ft)/Vt}):(St=wt=>{const kt=Math.exp(-wt*_e),_t=(wt-xt)*_e+1;return-safeMin+kt*_t},At=wt=>{const kt=Math.exp(-wt*_e),_t=(xt-wt)*(_e*_e);return kt*_t});const Et=5/_e,Pt=approximateRoot(St,At,Et);if(_e=secondsToMilliseconds(_e),isNaN(Pt))return{stiffness:100,damping:10,duration:_e};{const wt=Math.pow(Pt,2)*bt;return{stiffness:wt,damping:Ct*2*Math.sqrt(bt*wt),duration:_e}}}const rootIterations=12;function approximateRoot(_e,$,xt){let bt=xt;for(let St=1;St<rootIterations;St++)bt=bt-_e(bt)/$(bt);return bt}function calcAngularFreq(_e,$){return _e*Math.sqrt(1-$*$)}const durationKeys=["duration","bounce"],physicsKeys=["stiffness","damping","mass"];function isSpringType(_e,$){return $.some(xt=>_e[xt]!==void 0)}function getSpringOptions(_e){let $={velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1,..._e};if(!isSpringType(_e,physicsKeys)&&isSpringType(_e,durationKeys)){const xt=findSpring(_e);$={...$,...xt,mass:1},$.isResolvedFromDuration=!0}return $}function spring({keyframes:_e,restDelta:$,restSpeed:xt,...bt}){const St=_e[0],At=_e[_e.length-1],Ct={done:!1,value:St},{stiffness:Et,damping:Pt,mass:wt,duration:kt,velocity:_t,isResolvedFromDuration:ht}=getSpringOptions({...bt,velocity:-millisecondsToSeconds(bt.velocity||0)}),vt=_t||0,Ft=Pt/(2*Math.sqrt(Et*wt)),Vt=At-St,qt=millisecondsToSeconds(Math.sqrt(Et/wt)),Lt=Math.abs(Vt)<5;xt||(xt=Lt?.01:2),$||($=Lt?.005:.5);let $t;if(Ft<1){const Ot=calcAngularFreq(qt,Ft);$t=jt=>{const Rt=Math.exp(-Ft*qt*jt);return At-Rt*((vt+Ft*qt*Vt)/Ot*Math.sin(Ot*jt)+Vt*Math.cos(Ot*jt))}}else if(Ft===1)$t=Ot=>At-Math.exp(-qt*Ot)*(Vt+(vt+qt*Vt)*Ot);else{const Ot=qt*Math.sqrt(Ft*Ft-1);$t=jt=>{const Rt=Math.exp(-Ft*qt*jt),Kt=Math.min(Ot*jt,300);return At-Rt*((vt+Ft*qt*Vt)*Math.sinh(Kt)+Ot*Vt*Math.cosh(Kt))/Ot}}return{calculatedDuration:ht&&kt||null,next:Ot=>{const jt=$t(Ot);if(ht)Ct.done=Ot>=kt;else{let Rt=vt;Ot!==0&&(Ft<1?Rt=calcGeneratorVelocity($t,Ot,jt):Rt=0);const Kt=Math.abs(Rt)<=xt,Bt=Math.abs(At-jt)<=$;Ct.done=Kt&&Bt}return Ct.value=Ct.done?At:jt,Ct}}}function inertia({keyframes:_e,velocity:$=0,power:xt=.8,timeConstant:bt=325,bounceDamping:St=10,bounceStiffness:At=500,modifyTarget:Ct,min:Et,max:Pt,restDelta:wt=.5,restSpeed:kt}){const _t=_e[0],ht={done:!1,value:_t},vt=Gt=>Et!==void 0&&Gt<Et||Pt!==void 0&&Gt>Pt,Ft=Gt=>Et===void 0?Pt:Pt===void 0||Math.abs(Et-Gt)<Math.abs(Pt-Gt)?Et:Pt;let Vt=xt*$;const qt=_t+Vt,Lt=Ct===void 0?qt:Ct(qt);Lt!==qt&&(Vt=Lt-_t);const $t=Gt=>-Vt*Math.exp(-Gt/bt),Ot=Gt=>Lt+$t(Gt),jt=Gt=>{const en=$t(Gt),hn=Ot(Gt);ht.done=Math.abs(en)<=wt,ht.value=ht.done?Lt:hn};let Rt,Kt;const Bt=Gt=>{vt(ht.value)&&(Rt=Gt,Kt=spring({keyframes:[ht.value,Ft(ht.value)],velocity:calcGeneratorVelocity(Ot,Gt,ht.value),damping:St,stiffness:At,restDelta:wt,restSpeed:kt}))};return Bt(0),{calculatedDuration:null,next:Gt=>{let en=!1;return!Kt&&Rt===void 0&&(en=!0,jt(Gt),Bt(Gt)),Rt!==void 0&&Gt>=Rt?Kt.next(Gt-Rt):(!en&&jt(Gt),ht)}}}const calcBezier=(_e,$,xt)=>(((1-3*xt+3*$)*_e+(3*xt-6*$))*_e+3*$)*_e,subdivisionPrecision=1e-7,subdivisionMaxIterations=12;function binarySubdivide(_e,$,xt,bt,St){let At,Ct,Et=0;do Ct=$+(xt-$)/2,At=calcBezier(Ct,bt,St)-_e,At>0?xt=Ct:$=Ct;while(Math.abs(At)>subdivisionPrecision&&++Et<subdivisionMaxIterations);return Ct}function cubicBezier(_e,$,xt,bt){if(_e===$&&xt===bt)return noop;const St=At=>binarySubdivide(At,0,1,_e,xt);return At=>At===0||At===1?At:calcBezier(St(At),$,bt)}const easeIn=cubicBezier(.42,0,1,1),easeOut=cubicBezier(0,0,.58,1),easeInOut=cubicBezier(.42,0,.58,1),isEasingArray=_e=>Array.isArray(_e)&&typeof _e[0]!="number",mirrorEasing=_e=>$=>$<=.5?_e(2*$)/2:(2-_e(2*(1-$)))/2,reverseEasing=_e=>$=>1-_e(1-$),circIn=_e=>1-Math.sin(Math.acos(_e)),circOut=reverseEasing(circIn),circInOut=mirrorEasing(circIn),backOut=cubicBezier(.33,1.53,.69,.99),backIn=reverseEasing(backOut),backInOut=mirrorEasing(backIn),anticipate=_e=>(_e*=2)<1?.5*backIn(_e):.5*(2-Math.pow(2,-10*(_e-1))),easingLookup={linear:noop,easeIn,easeInOut,easeOut,circIn,circInOut,circOut,backIn,backInOut,backOut,anticipate},easingDefinitionToFunction=_e=>{if(Array.isArray(_e)){invariant(_e.length===4);const[$,xt,bt,St]=_e;return cubicBezier($,xt,bt,St)}else if(typeof _e=="string")return invariant(easingLookup[_e]!==void 0),easingLookup[_e];return _e},progress=(_e,$,xt)=>{const bt=$-_e;return bt===0?1:(xt-_e)/bt},mixNumber$1=(_e,$,xt)=>_e+($-_e)*xt;function hueToRgb(_e,$,xt){return xt<0&&(xt+=1),xt>1&&(xt-=1),xt<1/6?_e+($-_e)*6*xt:xt<1/2?$:xt<2/3?_e+($-_e)*(2/3-xt)*6:_e}function hslaToRgba({hue:_e,saturation:$,lightness:xt,alpha:bt}){_e/=360,$/=100,xt/=100;let St=0,At=0,Ct=0;if(!$)St=At=Ct=xt;else{const Et=xt<.5?xt*(1+$):xt+$-xt*$,Pt=2*xt-Et;St=hueToRgb(Pt,Et,_e+1/3),At=hueToRgb(Pt,Et,_e),Ct=hueToRgb(Pt,Et,_e-1/3)}return{red:Math.round(St*255),green:Math.round(At*255),blue:Math.round(Ct*255),alpha:bt}}function mixImmediate(_e,$){return xt=>xt>0?$:_e}const mixLinearColor=(_e,$,xt)=>{const bt=_e*_e,St=xt*($*$-bt)+bt;return St<0?0:Math.sqrt(St)},colorTypes=[hex,rgba,hsla],getColorType=_e=>colorTypes.find($=>$.test(_e));function asRGBA(_e){const $=getColorType(_e);if(!$)return!1;let xt=$.parse(_e);return $===hsla&&(xt=hslaToRgba(xt)),xt}const mixColor=(_e,$)=>{const xt=asRGBA(_e),bt=asRGBA($);if(!xt||!bt)return mixImmediate(_e,$);const St={...xt};return At=>(St.red=mixLinearColor(xt.red,bt.red,At),St.green=mixLinearColor(xt.green,bt.green,At),St.blue=mixLinearColor(xt.blue,bt.blue,At),St.alpha=mixNumber$1(xt.alpha,bt.alpha,At),rgba.transform(St))},invisibleValues=new Set(["none","hidden"]);function mixVisibility(_e,$){return invisibleValues.has(_e)?xt=>xt<=0?_e:$:xt=>xt>=1?$:_e}function mixNumber(_e,$){return xt=>mixNumber$1(_e,$,xt)}function getMixer(_e){return typeof _e=="number"?mixNumber:typeof _e=="string"?isCSSVariableToken(_e)?mixImmediate:color.test(_e)?mixColor:mixComplex:Array.isArray(_e)?mixArray:typeof _e=="object"?color.test(_e)?mixColor:mixObject:mixImmediate}function mixArray(_e,$){const xt=[..._e],bt=xt.length,St=_e.map((At,Ct)=>getMixer(At)(At,$[Ct]));return At=>{for(let Ct=0;Ct<bt;Ct++)xt[Ct]=St[Ct](At);return xt}}function mixObject(_e,$){const xt={..._e,...$},bt={};for(const St in xt)_e[St]!==void 0&&$[St]!==void 0&&(bt[St]=getMixer(_e[St])(_e[St],$[St]));return St=>{for(const At in bt)xt[At]=bt[At](St);return xt}}function matchOrder(_e,$){var xt;const bt=[],St={color:0,var:0,number:0};for(let At=0;At<$.values.length;At++){const Ct=$.types[At],Et=_e.indexes[Ct][St[Ct]],Pt=(xt=_e.values[Et])!==null&&xt!==void 0?xt:0;bt[At]=Pt,St[Ct]++}return bt}const mixComplex=(_e,$)=>{const xt=complex.createTransformer($),bt=analyseComplexValue(_e),St=analyseComplexValue($);return bt.indexes.var.length===St.indexes.var.length&&bt.indexes.color.length===St.indexes.color.length&&bt.indexes.number.length>=St.indexes.number.length?invisibleValues.has(_e)&&!St.values.length||invisibleValues.has($)&&!bt.values.length?mixVisibility(_e,$):pipe(mixArray(matchOrder(bt,St),St.values),xt):mixImmediate(_e,$)};function mix(_e,$,xt){return typeof _e=="number"&&typeof $=="number"&&typeof xt=="number"?mixNumber$1(_e,$,xt):getMixer(_e)(_e,$)}function createMixers(_e,$,xt){const bt=[],St=xt||mix,At=_e.length-1;for(let Ct=0;Ct<At;Ct++){let Et=St(_e[Ct],_e[Ct+1]);if($){const Pt=Array.isArray($)?$[Ct]||noop:$;Et=pipe(Pt,Et)}bt.push(Et)}return bt}function interpolate(_e,$,{clamp:xt=!0,ease:bt,mixer:St}={}){const At=_e.length;if(invariant(At===$.length),At===1)return()=>$[0];if(At===2&&_e[0]===_e[1])return()=>$[1];_e[0]>_e[At-1]&&(_e=[..._e].reverse(),$=[...$].reverse());const Ct=createMixers($,bt,St),Et=Ct.length,Pt=wt=>{let kt=0;if(Et>1)for(;kt<_e.length-2&&!(wt<_e[kt+1]);kt++);const _t=progress(_e[kt],_e[kt+1],wt);return Ct[kt](_t)};return xt?wt=>Pt(clamp(_e[0],_e[At-1],wt)):Pt}function fillOffset(_e,$){const xt=_e[_e.length-1];for(let bt=1;bt<=$;bt++){const St=progress(0,$,bt);_e.push(mixNumber$1(xt,1,St))}}function defaultOffset(_e){const $=[0];return fillOffset($,_e.length-1),$}function convertOffsetToTimes(_e,$){return _e.map(xt=>xt*$)}function defaultEasing(_e,$){return _e.map(()=>$||easeInOut).splice(0,_e.length-1)}function keyframes({duration:_e=300,keyframes:$,times:xt,ease:bt="easeInOut"}){const St=isEasingArray(bt)?bt.map(easingDefinitionToFunction):easingDefinitionToFunction(bt),At={done:!1,value:$[0]},Ct=convertOffsetToTimes(xt&&xt.length===$.length?xt:defaultOffset($),_e),Et=interpolate(Ct,$,{ease:Array.isArray(St)?St:defaultEasing($,St)});return{calculatedDuration:_e,next:Pt=>(At.value=Et(Pt),At.done=Pt>=_e,At)}}const maxGeneratorDuration=2e4;function calcGeneratorDuration(_e){let $=0;const xt=50;let bt=_e.next($);for(;!bt.done&&$<maxGeneratorDuration;)$+=xt,bt=_e.next($);return $>=maxGeneratorDuration?1/0:$}const frameloopDriver=_e=>{const $=({timestamp:xt})=>_e(xt);return{start:()=>frame.update($,!0),stop:()=>cancelFrame($),now:()=>frameData.isProcessing?frameData.timestamp:time.now()}},generators={decay:inertia,inertia,tween:keyframes,keyframes,spring},percentToProgress=_e=>_e/100;class MainThreadAnimation extends BaseAnimation{constructor({KeyframeResolver:$=KeyframeResolver,...xt}){super(xt),this.holdTime=null,this.startTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:Et}=this.options;Et&&Et()};const{name:bt,motionValue:St,keyframes:At}=this.options,Ct=(Et,Pt)=>this.onKeyframesResolved(Et,Pt);bt&&St&&St.owner?this.resolver=St.owner.resolveKeyframes(At,Ct,bt,St):this.resolver=new $(At,Ct,bt,St),this.resolver.scheduleResolve()}initPlayback($){const{type:xt="keyframes",repeat:bt=0,repeatDelay:St=0,repeatType:At,velocity:Ct=0}=this.options,Et=generators[xt]||keyframes;let Pt,wt;Et!==keyframes&&typeof $[0]!="number"&&(Pt=pipe(percentToProgress,mix($[0],$[1])),$=[0,100]);const kt=Et({...this.options,keyframes:$});At==="mirror"&&(wt=Et({...this.options,keyframes:[...$].reverse(),velocity:-Ct})),kt.calculatedDuration===null&&(kt.calculatedDuration=calcGeneratorDuration(kt));const{calculatedDuration:_t}=kt,ht=_t+St,vt=ht*(bt+1)-St;return{generator:kt,mirroredGenerator:wt,mapPercentToKeyframes:Pt,calculatedDuration:_t,resolvedDuration:ht,totalDuration:vt}}onPostResolved(){const{autoplay:$=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!$?this.pause():this.state=this.pendingPlayState}tick($,xt=!1){const{resolved:bt}=this;if(!bt){const{keyframes:Gt}=this.options;return{done:!0,value:Gt[Gt.length-1]}}const{finalKeyframe:St,generator:At,mirroredGenerator:Ct,mapPercentToKeyframes:Et,keyframes:Pt,calculatedDuration:wt,totalDuration:kt,resolvedDuration:_t}=bt;if(this.startTime===null)return At.next(0);const{delay:ht,repeat:vt,repeatType:Ft,repeatDelay:Vt,onUpdate:qt}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,$):this.speed<0&&(this.startTime=Math.min($-kt/this.speed,this.startTime)),xt?this.currentTime=$:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round($-this.startTime)*this.speed;const Lt=this.currentTime-ht*(this.speed>=0?1:-1),$t=this.speed>=0?Lt<0:Lt>kt;this.currentTime=Math.max(Lt,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=kt);let Ot=this.currentTime,jt=At;if(vt){const Gt=Math.min(this.currentTime,kt)/_t;let en=Math.floor(Gt),hn=Gt%1;!hn&&Gt>=1&&(hn=1),hn===1&&en--,en=Math.min(en,vt+1),!!(en%2)&&(Ft==="reverse"?(hn=1-hn,Vt&&(hn-=Vt/_t)):Ft==="mirror"&&(jt=Ct)),Ot=clamp(0,1,hn)*_t}const Rt=$t?{done:!1,value:Pt[0]}:jt.next(Ot);Et&&(Rt.value=Et(Rt.value));let{done:Kt}=Rt;!$t&&wt!==null&&(Kt=this.speed>=0?this.currentTime>=kt:this.currentTime<=0);const Bt=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&Kt);return Bt&&St!==void 0&&(Rt.value=getFinalKeyframe(Pt,this.options,St)),qt&&qt(Rt.value),Bt&&this.finish(),Rt}get duration(){const{resolved:$}=this;return $?millisecondsToSeconds($.calculatedDuration):0}get time(){return millisecondsToSeconds(this.currentTime)}set time($){$=secondsToMilliseconds($),this.currentTime=$,this.holdTime!==null||this.speed===0?this.holdTime=$:this.driver&&(this.startTime=this.driver.now()-$/this.speed)}get speed(){return this.playbackSpeed}set speed($){const xt=this.playbackSpeed!==$;this.playbackSpeed=$,xt&&(this.time=millisecondsToSeconds(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:$=frameloopDriver,onPlay:xt}=this.options;this.driver||(this.driver=$(St=>this.tick(St))),xt&&xt();const bt=this.driver.now();this.holdTime!==null?this.startTime=bt-this.holdTime:(!this.startTime||this.state==="finished")&&(this.startTime=bt),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var $;if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=($=this.currentTime)!==null&&$!==void 0?$:0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:$}=this.options;$&&$()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample($){return this.startTime=0,this.tick($,!0)}}const isBezierDefinition=_e=>Array.isArray(_e)&&typeof _e[0]=="number";function isWaapiSupportedEasing(_e){return!!(!_e||typeof _e=="string"&&_e in supportedWaapiEasing||isBezierDefinition(_e)||Array.isArray(_e)&&_e.every(isWaapiSupportedEasing))}const cubicBezierAsString=([_e,$,xt,bt])=>`cubic-bezier(${_e}, ${$}, ${xt}, ${bt})`,supportedWaapiEasing={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:cubicBezierAsString([0,.65,.55,1]),circOut:cubicBezierAsString([.55,0,1,.45]),backIn:cubicBezierAsString([.31,.01,.66,-.59]),backOut:cubicBezierAsString([.33,1.53,.69,.99])};function mapEasingToNativeEasingWithDefault(_e){return mapEasingToNativeEasing(_e)||supportedWaapiEasing.easeOut}function mapEasingToNativeEasing(_e){if(_e)return isBezierDefinition(_e)?cubicBezierAsString(_e):Array.isArray(_e)?_e.map(mapEasingToNativeEasingWithDefault):supportedWaapiEasing[_e]}function animateStyle(_e,$,xt,{delay:bt=0,duration:St=300,repeat:At=0,repeatType:Ct="loop",ease:Et,times:Pt}={}){const wt={[$]:xt};Pt&&(wt.offset=Pt);const kt=mapEasingToNativeEasing(Et);return Array.isArray(kt)&&(wt.easing=kt),_e.animate(wt,{delay:bt,duration:St,easing:Array.isArray(kt)?"linear":kt,fill:"both",iterations:At+1,direction:Ct==="reverse"?"alternate":"normal"})}const supportsWaapi=memo(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),acceleratedValues=new Set(["opacity","clipPath","filter","transform"]),sampleDelta=10,maxDuration=2e4;function requiresPregeneratedKeyframes(_e){return _e.type==="spring"||_e.name==="backgroundColor"||!isWaapiSupportedEasing(_e.ease)}function pregenerateKeyframes(_e,$){const xt=new MainThreadAnimation({...$,keyframes:_e,repeat:0,delay:0,isGenerator:!0});let bt={done:!1,value:_e[0]};const St=[];let At=0;for(;!bt.done&&At<maxDuration;)bt=xt.sample(At),St.push(bt.value),At+=sampleDelta;return{times:void 0,keyframes:St,duration:At-sampleDelta,ease:"linear"}}class AcceleratedAnimation extends BaseAnimation{constructor($){super($);const{name:xt,motionValue:bt,keyframes:St}=this.options;this.resolver=new DOMKeyframesResolver(St,(At,Ct)=>this.onKeyframesResolved(At,Ct),xt,bt),this.resolver.scheduleResolve()}initPlayback($,xt){var bt;let{duration:St=300,times:At,ease:Ct,type:Et,motionValue:Pt,name:wt}=this.options;if(!(!((bt=Pt.owner)===null||bt===void 0)&&bt.current))return!1;if(requiresPregeneratedKeyframes(this.options)){const{onComplete:_t,onUpdate:ht,motionValue:vt,...Ft}=this.options,Vt=pregenerateKeyframes($,Ft);$=Vt.keyframes,$.length===1&&($[1]=$[0]),St=Vt.duration,At=Vt.times,Ct=Vt.ease,Et="keyframes"}const kt=animateStyle(Pt.owner.current,wt,$,{...this.options,duration:St,times:At,ease:Ct});return kt.startTime=time.now(),this.pendingTimeline?(kt.timeline=this.pendingTimeline,this.pendingTimeline=void 0):kt.onfinish=()=>{const{onComplete:_t}=this.options;Pt.set(getFinalKeyframe($,this.options,xt)),_t&&_t(),this.cancel(),this.resolveFinishedPromise()},{animation:kt,duration:St,times:At,type:Et,ease:Ct,keyframes:$}}get duration(){const{resolved:$}=this;if(!$)return 0;const{duration:xt}=$;return millisecondsToSeconds(xt)}get time(){const{resolved:$}=this;if(!$)return 0;const{animation:xt}=$;return millisecondsToSeconds(xt.currentTime||0)}set time($){const{resolved:xt}=this;if(!xt)return;const{animation:bt}=xt;bt.currentTime=secondsToMilliseconds($)}get speed(){const{resolved:$}=this;if(!$)return 1;const{animation:xt}=$;return xt.playbackRate}set speed($){const{resolved:xt}=this;if(!xt)return;const{animation:bt}=xt;bt.playbackRate=$}get state(){const{resolved:$}=this;if(!$)return"idle";const{animation:xt}=$;return xt.playState}attachTimeline($){if(!this._resolved)this.pendingTimeline=$;else{const{resolved:xt}=this;if(!xt)return noop;const{animation:bt}=xt;bt.timeline=$,bt.onfinish=null}return noop}play(){if(this.isStopped)return;const{resolved:$}=this;if(!$)return;const{animation:xt}=$;xt.playState==="finished"&&this.updateFinishedPromise(),xt.play()}pause(){const{resolved:$}=this;if(!$)return;const{animation:xt}=$;xt.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;const{resolved:$}=this;if(!$)return;const{animation:xt,keyframes:bt,duration:St,type:At,ease:Ct,times:Et}=$;if(!(xt.playState==="idle"||xt.playState==="finished")){if(this.time){const{motionValue:Pt,onUpdate:wt,onComplete:kt,..._t}=this.options,ht=new MainThreadAnimation({..._t,keyframes:bt,duration:St,type:At,ease:Ct,times:Et,isGenerator:!0}),vt=secondsToMilliseconds(this.time);Pt.setWithVelocity(ht.sample(vt-sampleDelta).value,ht.sample(vt).value,sampleDelta)}this.cancel()}}complete(){const{resolved:$}=this;$&&$.animation.finish()}cancel(){const{resolved:$}=this;$&&$.animation.cancel()}static supports($){const{motionValue:xt,name:bt,repeatDelay:St,repeatType:At,damping:Ct,type:Et}=$;return supportsWaapi()&&bt&&acceleratedValues.has(bt)&&xt&&xt.owner&&xt.owner.current instanceof HTMLElement&&!xt.owner.getProps().onUpdate&&!St&&At!=="mirror"&&Ct!==0&&Et!=="inertia"}}function observeTimeline(_e,$){let xt;const bt=()=>{const{currentTime:St}=$,Ct=(St===null?0:St.value)/100;xt!==Ct&&_e(Ct),xt=Ct};return frame.update(bt,!0),()=>cancelFrame(bt)}const supportsScrollTimeline=memo(()=>window.ScrollTimeline!==void 0);class GroupPlaybackControls{constructor($){this.stop=()=>this.runAll("stop"),this.animations=$.filter(Boolean)}then($,xt){return Promise.all(this.animations).then($).catch(xt)}getAll($){return this.animations[0][$]}setAll($,xt){for(let bt=0;bt<this.animations.length;bt++)this.animations[bt][$]=xt}attachTimeline($){const xt=this.animations.map(bt=>{if(supportsScrollTimeline()&&bt.attachTimeline)bt.attachTimeline($);else return bt.pause(),observeTimeline(St=>{bt.time=bt.duration*St},$)});return()=>{xt.forEach((bt,St)=>{bt&&bt(),this.animations[St].stop()})}}get time(){return this.getAll("time")}set time($){this.setAll("time",$)}get speed(){return this.getAll("speed")}set speed($){this.setAll("speed",$)}get duration(){let $=0;for(let xt=0;xt<this.animations.length;xt++)$=Math.max($,this.animations[xt].duration);return $}runAll($){this.animations.forEach(xt=>xt[$]())}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}const animateMotionValue=(_e,$,xt,bt={},St,At)=>Ct=>{const Et=getValueTransition(bt,_e)||{},Pt=Et.delay||bt.delay||0;let{elapsed:wt=0}=bt;wt=wt-secondsToMilliseconds(Pt);let kt={keyframes:Array.isArray(xt)?xt:[null,xt],ease:"easeOut",velocity:$.getVelocity(),...Et,delay:-wt,onUpdate:ht=>{$.set(ht),Et.onUpdate&&Et.onUpdate(ht)},onComplete:()=>{Ct(),Et.onComplete&&Et.onComplete()},name:_e,motionValue:$,element:At?void 0:St};isTransitionDefined(Et)||(kt={...kt,...getDefaultTransition(_e,kt)}),kt.duration&&(kt.duration=secondsToMilliseconds(kt.duration)),kt.repeatDelay&&(kt.repeatDelay=secondsToMilliseconds(kt.repeatDelay)),kt.from!==void 0&&(kt.keyframes[0]=kt.from);let _t=!1;if((kt.type===!1||kt.duration===0&&!kt.repeatDelay)&&(kt.duration=0,kt.delay===0&&(_t=!0)),_t&&!At&&$.get()!==void 0){const ht=getFinalKeyframe(kt.keyframes,Et);if(ht!==void 0)return frame.update(()=>{kt.onUpdate(ht),kt.onComplete()}),new GroupPlaybackControls([])}return!At&&AcceleratedAnimation.supports(kt)?new AcceleratedAnimation(kt):new MainThreadAnimation(kt)};function isWillChangeMotionValue(_e){return!!(isMotionValue(_e)&&_e.add)}function addUniqueItem(_e,$){_e.indexOf($)===-1&&_e.push($)}function removeItem(_e,$){const xt=_e.indexOf($);xt>-1&&_e.splice(xt,1)}class SubscriptionManager{constructor(){this.subscriptions=[]}add($){return addUniqueItem(this.subscriptions,$),()=>removeItem(this.subscriptions,$)}notify($,xt,bt){const St=this.subscriptions.length;if(St)if(St===1)this.subscriptions[0]($,xt,bt);else for(let At=0;At<St;At++){const Ct=this.subscriptions[At];Ct&&Ct($,xt,bt)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const MAX_VELOCITY_DELTA=30,isFloat=_e=>!isNaN(parseFloat(_e));class MotionValue{constructor($,xt={}){this.version="11.2.13",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(bt,St=!0)=>{const At=time.now();this.updatedAt!==At&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(bt),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),St&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent($),this.owner=xt.owner}setCurrent($){this.current=$,this.updatedAt=time.now(),this.canTrackVelocity===null&&$!==void 0&&(this.canTrackVelocity=isFloat(this.current))}setPrevFrameValue($=this.current){this.prevFrameValue=$,this.prevUpdatedAt=this.updatedAt}onChange($){return this.on("change",$)}on($,xt){this.events[$]||(this.events[$]=new SubscriptionManager);const bt=this.events[$].add(xt);return $==="change"?()=>{bt(),frame.read(()=>{this.events.change.getSize()||this.stop()})}:bt}clearListeners(){for(const $ in this.events)this.events[$].clear()}attach($,xt){this.passiveEffect=$,this.stopPassiveEffect=xt}set($,xt=!0){!xt||!this.passiveEffect?this.updateAndNotify($,xt):this.passiveEffect($,this.updateAndNotify)}setWithVelocity($,xt,bt){this.set(xt),this.prev=void 0,this.prevFrameValue=$,this.prevUpdatedAt=this.updatedAt-bt}jump($,xt=!0){this.updateAndNotify($),this.prev=$,this.prevUpdatedAt=this.prevFrameValue=void 0,xt&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const $=time.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||$-this.updatedAt>MAX_VELOCITY_DELTA)return 0;const xt=Math.min(this.updatedAt-this.prevUpdatedAt,MAX_VELOCITY_DELTA);return velocityPerSecond(parseFloat(this.current)-parseFloat(this.prevFrameValue),xt)}start($){return this.stop(),new Promise(xt=>{this.hasAnimated=!0,this.animation=$(xt),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function motionValue(_e,$){return new MotionValue(_e,$)}function setMotionValue(_e,$,xt){_e.hasValue($)?_e.getValue($).set(xt):_e.addValue($,motionValue(xt))}function setTarget(_e,$){const xt=resolveVariant(_e,$);let{transitionEnd:bt={},transition:St={},...At}=xt||{};At={...At,...bt};for(const Ct in At){const Et=resolveFinalValueInKeyframes(At[Ct]);setMotionValue(_e,Ct,Et)}}function getOptimisedAppearId(_e){return _e.getProps()[optimizedAppearDataAttribute]}function shouldBlockAnimation({protectedKeys:_e,needsAnimating:$},xt){const bt=_e.hasOwnProperty(xt)&&$[xt]!==!0;return $[xt]=!1,bt}function animateTarget(_e,$,{delay:xt=0,transitionOverride:bt,type:St}={}){var At;let{transition:Ct=_e.getDefaultTransition(),transitionEnd:Et,...Pt}=$;const wt=_e.getValue("willChange");bt&&(Ct=bt);const kt=[],_t=St&&_e.animationState&&_e.animationState.getState()[St];for(const ht in Pt){const vt=_e.getValue(ht,(At=_e.latestValues[ht])!==null&&At!==void 0?At:null),Ft=Pt[ht];if(Ft===void 0||_t&&shouldBlockAnimation(_t,ht))continue;const Vt={delay:xt,elapsed:0,...getValueTransition(Ct||{},ht)};let qt=!1;if(window.HandoffAppearAnimations){const $t=getOptimisedAppearId(_e);if($t){const Ot=window.HandoffAppearAnimations($t,ht,vt,frame);Ot!==null&&(Vt.elapsed=Ot,qt=!0)}}vt.start(animateMotionValue(ht,vt,Ft,_e.shouldReduceMotion&&transformProps.has(ht)?{type:!1}:Vt,_e,qt));const Lt=vt.animation;Lt&&(isWillChangeMotionValue(wt)&&(wt.add(ht),Lt.then(()=>wt.remove(ht))),kt.push(Lt))}return Et&&Promise.all(kt).then(()=>{frame.update(()=>{Et&&setTarget(_e,Et)})}),kt}function animateVariant(_e,$,xt={}){var bt;const St=resolveVariant(_e,$,xt.type==="exit"?(bt=_e.presenceContext)===null||bt===void 0?void 0:bt.custom:void 0);let{transition:At=_e.getDefaultTransition()||{}}=St||{};xt.transitionOverride&&(At=xt.transitionOverride);const Ct=St?()=>Promise.all(animateTarget(_e,St,xt)):()=>Promise.resolve(),Et=_e.variantChildren&&_e.variantChildren.size?(wt=0)=>{const{delayChildren:kt=0,staggerChildren:_t,staggerDirection:ht}=At;return animateChildren(_e,$,kt+wt,_t,ht,xt)}:()=>Promise.resolve(),{when:Pt}=At;if(Pt){const[wt,kt]=Pt==="beforeChildren"?[Ct,Et]:[Et,Ct];return wt().then(()=>kt())}else return Promise.all([Ct(),Et(xt.delay)])}function animateChildren(_e,$,xt=0,bt=0,St=1,At){const Ct=[],Et=(_e.variantChildren.size-1)*bt,Pt=St===1?(wt=0)=>wt*bt:(wt=0)=>Et-wt*bt;return Array.from(_e.variantChildren).sort(sortByTreeOrder).forEach((wt,kt)=>{wt.notify("AnimationStart",$),Ct.push(animateVariant(wt,$,{...At,delay:xt+Pt(kt)}).then(()=>wt.notify("AnimationComplete",$)))}),Promise.all(Ct)}function sortByTreeOrder(_e,$){return _e.sortNodePosition($)}function animateVisualElement(_e,$,xt={}){_e.notify("AnimationStart",$);let bt;if(Array.isArray($)){const St=$.map(At=>animateVariant(_e,At,xt));bt=Promise.all(St)}else if(typeof $=="string")bt=animateVariant(_e,$,xt);else{const St=typeof $=="function"?resolveVariant(_e,$,xt.custom):$;bt=Promise.all(animateTarget(_e,St,xt))}return bt.then(()=>{frame.postRender(()=>{_e.notify("AnimationComplete",$)})})}const reversePriorityOrder=[...variantPriorityOrder].reverse(),numAnimationTypes=variantPriorityOrder.length;function animateList(_e){return $=>Promise.all($.map(({animation:xt,options:bt})=>animateVisualElement(_e,xt,bt)))}function createAnimationState(_e){let $=animateList(_e),xt=createState(),bt=!0;const St=Pt=>(wt,kt)=>{var _t;const ht=resolveVariant(_e,kt,Pt==="exit"?(_t=_e.presenceContext)===null||_t===void 0?void 0:_t.custom:void 0);if(ht){const{transition:vt,transitionEnd:Ft,...Vt}=ht;wt={...wt,...Vt,...Ft}}return wt};function At(Pt){$=Pt(_e)}function Ct(Pt){const wt=_e.getProps(),kt=_e.getVariantContext(!0)||{},_t=[],ht=new Set;let vt={},Ft=1/0;for(let qt=0;qt<numAnimationTypes;qt++){const Lt=reversePriorityOrder[qt],$t=xt[Lt],Ot=wt[Lt]!==void 0?wt[Lt]:kt[Lt],jt=isVariantLabel(Ot),Rt=Lt===Pt?$t.isActive:null;Rt===!1&&(Ft=qt);let Kt=Ot===kt[Lt]&&Ot!==wt[Lt]&&jt;if(Kt&&bt&&_e.manuallyAnimateOnMount&&(Kt=!1),$t.protectedKeys={...vt},!$t.isActive&&Rt===null||!Ot&&!$t.prevProp||isAnimationControls(Ot)||typeof Ot=="boolean")continue;let Gt=checkVariantsDidChange($t.prevProp,Ot)||Lt===Pt&&$t.isActive&&!Kt&&jt||qt>Ft&&jt,en=!1;const hn=Array.isArray(Ot)?Ot:[Ot];let tn=hn.reduce(St(Lt),{});Rt===!1&&(tn={});const{prevResolvedValues:gn={}}=$t,nn={...gn,...tn},bn=Wt=>{Gt=!0,ht.has(Wt)&&(en=!0,ht.delete(Wt)),$t.needsAnimating[Wt]=!0;const Yt=_e.getValue(Wt);Yt&&(Yt.liveStyle=!1)};for(const Wt in nn){const Yt=tn[Wt],dn=gn[Wt];if(vt.hasOwnProperty(Wt))continue;let Ut=!1;isKeyframesTarget(Yt)&&isKeyframesTarget(dn)?Ut=!shallowCompare(Yt,dn):Ut=Yt!==dn,Ut?Yt!=null?bn(Wt):ht.add(Wt):Yt!==void 0&&ht.has(Wt)?bn(Wt):$t.protectedKeys[Wt]=!0}$t.prevProp=Ot,$t.prevResolvedValues=tn,$t.isActive&&(vt={...vt,...tn}),bt&&_e.blockInitialAnimation&&(Gt=!1),Gt&&(!Kt||en)&&_t.push(...hn.map(Wt=>({animation:Wt,options:{type:Lt}})))}if(ht.size){const qt={};ht.forEach(Lt=>{const $t=_e.getBaseTarget(Lt),Ot=_e.getValue(Lt);Ot&&(Ot.liveStyle=!0),qt[Lt]=$t??null}),_t.push({animation:qt})}let Vt=!!_t.length;return bt&&(wt.initial===!1||wt.initial===wt.animate)&&!_e.manuallyAnimateOnMount&&(Vt=!1),bt=!1,Vt?$(_t):Promise.resolve()}function Et(Pt,wt){var kt;if(xt[Pt].isActive===wt)return Promise.resolve();(kt=_e.variantChildren)===null||kt===void 0||kt.forEach(ht=>{var vt;return(vt=ht.animationState)===null||vt===void 0?void 0:vt.setActive(Pt,wt)}),xt[Pt].isActive=wt;const _t=Ct(Pt);for(const ht in xt)xt[ht].protectedKeys={};return _t}return{animateChanges:Ct,setActive:Et,setAnimateFunction:At,getState:()=>xt,reset:()=>{xt=createState(),bt=!0}}}function checkVariantsDidChange(_e,$){return typeof $=="string"?$!==_e:Array.isArray($)?!shallowCompare($,_e):!1}function createTypeState(_e=!1){return{isActive:_e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function createState(){return{animate:createTypeState(!0),whileInView:createTypeState(),whileHover:createTypeState(),whileTap:createTypeState(),whileDrag:createTypeState(),whileFocus:createTypeState(),exit:createTypeState()}}class AnimationFeature extends Feature{constructor($){super($),$.animationState||($.animationState=createAnimationState($))}updateAnimationControlsSubscription(){const{animate:$}=this.node.getProps();isAnimationControls($)&&(this.unmountControls=$.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:$}=this.node.getProps(),{animate:xt}=this.node.prevProps||{};$!==xt&&this.updateAnimationControlsSubscription()}unmount(){var $;this.node.animationState.reset(),($=this.unmountControls)===null||$===void 0||$.call(this)}}let id$1=0;class ExitAnimationFeature extends Feature{constructor(){super(...arguments),this.id=id$1++}update(){if(!this.node.presenceContext)return;const{isPresent:$,onExitComplete:xt}=this.node.presenceContext,{isPresent:bt}=this.node.prevPresenceContext||{};if(!this.node.animationState||$===bt)return;const St=this.node.animationState.setActive("exit",!$);xt&&!$&&St.then(()=>xt(this.id))}mount(){const{register:$}=this.node.presenceContext||{};$&&(this.unmount=$(this.id))}unmount(){}}const animations={animation:{Feature:AnimationFeature},exit:{Feature:ExitAnimationFeature}},distance=(_e,$)=>Math.abs(_e-$);function distance2D(_e,$){const xt=distance(_e.x,$.x),bt=distance(_e.y,$.y);return Math.sqrt(xt**2+bt**2)}class PanSession{constructor($,xt,{transformPagePoint:bt,contextWindow:St,dragSnapToOrigin:At=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const _t=getPanInfo(this.lastMoveEventInfo,this.history),ht=this.startEvent!==null,vt=distance2D(_t.offset,{x:0,y:0})>=3;if(!ht&&!vt)return;const{point:Ft}=_t,{timestamp:Vt}=frameData;this.history.push({...Ft,timestamp:Vt});const{onStart:qt,onMove:Lt}=this.handlers;ht||(qt&&qt(this.lastMoveEvent,_t),this.startEvent=this.lastMoveEvent),Lt&&Lt(this.lastMoveEvent,_t)},this.handlePointerMove=(_t,ht)=>{this.lastMoveEvent=_t,this.lastMoveEventInfo=transformPoint(ht,this.transformPagePoint),frame.update(this.updatePoint,!0)},this.handlePointerUp=(_t,ht)=>{this.end();const{onEnd:vt,onSessionEnd:Ft,resumeAnimation:Vt}=this.handlers;if(this.dragSnapToOrigin&&Vt&&Vt(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const qt=getPanInfo(_t.type==="pointercancel"?this.lastMoveEventInfo:transformPoint(ht,this.transformPagePoint),this.history);this.startEvent&&vt&&vt(_t,qt),Ft&&Ft(_t,qt)},!isPrimaryPointer($))return;this.dragSnapToOrigin=At,this.handlers=xt,this.transformPagePoint=bt,this.contextWindow=St||window;const Ct=extractEventInfo($),Et=transformPoint(Ct,this.transformPagePoint),{point:Pt}=Et,{timestamp:wt}=frameData;this.history=[{...Pt,timestamp:wt}];const{onSessionStart:kt}=xt;kt&&kt($,getPanInfo(Et,this.history)),this.removeListeners=pipe(addPointerEvent(this.contextWindow,"pointermove",this.handlePointerMove),addPointerEvent(this.contextWindow,"pointerup",this.handlePointerUp),addPointerEvent(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers($){this.handlers=$}end(){this.removeListeners&&this.removeListeners(),cancelFrame(this.updatePoint)}}function transformPoint(_e,$){return $?{point:$(_e.point)}:_e}function subtractPoint(_e,$){return{x:_e.x-$.x,y:_e.y-$.y}}function getPanInfo({point:_e},$){return{point:_e,delta:subtractPoint(_e,lastDevicePoint($)),offset:subtractPoint(_e,startDevicePoint($)),velocity:getVelocity($,.1)}}function startDevicePoint(_e){return _e[0]}function lastDevicePoint(_e){return _e[_e.length-1]}function getVelocity(_e,$){if(_e.length<2)return{x:0,y:0};let xt=_e.length-1,bt=null;const St=lastDevicePoint(_e);for(;xt>=0&&(bt=_e[xt],!(St.timestamp-bt.timestamp>secondsToMilliseconds($)));)xt--;if(!bt)return{x:0,y:0};const At=millisecondsToSeconds(St.timestamp-bt.timestamp);if(At===0)return{x:0,y:0};const Ct={x:(St.x-bt.x)/At,y:(St.y-bt.y)/At};return Ct.x===1/0&&(Ct.x=0),Ct.y===1/0&&(Ct.y=0),Ct}function calcLength(_e){return _e.max-_e.min}function isNear(_e,$=0,xt=.01){return Math.abs(_e-$)<=xt}function calcAxisDelta(_e,$,xt,bt=.5){_e.origin=bt,_e.originPoint=mixNumber$1($.min,$.max,_e.origin),_e.scale=calcLength(xt)/calcLength($),(isNear(_e.scale,1,1e-4)||isNaN(_e.scale))&&(_e.scale=1),_e.translate=mixNumber$1(xt.min,xt.max,_e.origin)-_e.originPoint,(isNear(_e.translate)||isNaN(_e.translate))&&(_e.translate=0)}function calcBoxDelta(_e,$,xt,bt){calcAxisDelta(_e.x,$.x,xt.x,bt?bt.originX:void 0),calcAxisDelta(_e.y,$.y,xt.y,bt?bt.originY:void 0)}function calcRelativeAxis(_e,$,xt){_e.min=xt.min+$.min,_e.max=_e.min+calcLength($)}function calcRelativeBox(_e,$,xt){calcRelativeAxis(_e.x,$.x,xt.x),calcRelativeAxis(_e.y,$.y,xt.y)}function calcRelativeAxisPosition(_e,$,xt){_e.min=$.min-xt.min,_e.max=_e.min+calcLength($)}function calcRelativePosition(_e,$,xt){calcRelativeAxisPosition(_e.x,$.x,xt.x),calcRelativeAxisPosition(_e.y,$.y,xt.y)}function applyConstraints(_e,{min:$,max:xt},bt){return $!==void 0&&_e<$?_e=bt?mixNumber$1($,_e,bt.min):Math.max(_e,$):xt!==void 0&&_e>xt&&(_e=bt?mixNumber$1(xt,_e,bt.max):Math.min(_e,xt)),_e}function calcRelativeAxisConstraints(_e,$,xt){return{min:$!==void 0?_e.min+$:void 0,max:xt!==void 0?_e.max+xt-(_e.max-_e.min):void 0}}function calcRelativeConstraints(_e,{top:$,left:xt,bottom:bt,right:St}){return{x:calcRelativeAxisConstraints(_e.x,xt,St),y:calcRelativeAxisConstraints(_e.y,$,bt)}}function calcViewportAxisConstraints(_e,$){let xt=$.min-_e.min,bt=$.max-_e.max;return $.max-$.min<_e.max-_e.min&&([xt,bt]=[bt,xt]),{min:xt,max:bt}}function calcViewportConstraints(_e,$){return{x:calcViewportAxisConstraints(_e.x,$.x),y:calcViewportAxisConstraints(_e.y,$.y)}}function calcOrigin(_e,$){let xt=.5;const bt=calcLength(_e),St=calcLength($);return St>bt?xt=progress($.min,$.max-bt,_e.min):bt>St&&(xt=progress(_e.min,_e.max-St,$.min)),clamp(0,1,xt)}function rebaseAxisConstraints(_e,$){const xt={};return $.min!==void 0&&(xt.min=$.min-_e.min),$.max!==void 0&&(xt.max=$.max-_e.min),xt}const defaultElastic=.35;function resolveDragElastic(_e=defaultElastic){return _e===!1?_e=0:_e===!0&&(_e=defaultElastic),{x:resolveAxisElastic(_e,"left","right"),y:resolveAxisElastic(_e,"top","bottom")}}function resolveAxisElastic(_e,$,xt){return{min:resolvePointElastic(_e,$),max:resolvePointElastic(_e,xt)}}function resolvePointElastic(_e,$){return typeof _e=="number"?_e:_e[$]||0}const createAxisDelta=()=>({translate:0,scale:1,origin:0,originPoint:0}),createDelta=()=>({x:createAxisDelta(),y:createAxisDelta()}),createAxis=()=>({min:0,max:0}),createBox=()=>({x:createAxis(),y:createAxis()});function eachAxis(_e){return[_e("x"),_e("y")]}function convertBoundingBoxToBox({top:_e,left:$,right:xt,bottom:bt}){return{x:{min:$,max:xt},y:{min:_e,max:bt}}}function convertBoxToBoundingBox({x:_e,y:$}){return{top:$.min,right:_e.max,bottom:$.max,left:_e.min}}function transformBoxPoints(_e,$){if(!$)return _e;const xt=$({x:_e.left,y:_e.top}),bt=$({x:_e.right,y:_e.bottom});return{top:xt.y,left:xt.x,bottom:bt.y,right:bt.x}}function isIdentityScale(_e){return _e===void 0||_e===1}function hasScale({scale:_e,scaleX:$,scaleY:xt}){return!isIdentityScale(_e)||!isIdentityScale($)||!isIdentityScale(xt)}function hasTransform(_e){return hasScale(_e)||has2DTranslate(_e)||_e.z||_e.rotate||_e.rotateX||_e.rotateY||_e.skewX||_e.skewY}function has2DTranslate(_e){return is2DTranslate(_e.x)||is2DTranslate(_e.y)}function is2DTranslate(_e){return _e&&_e!=="0%"}function scalePoint(_e,$,xt){const bt=_e-xt,St=$*bt;return xt+St}function applyPointDelta(_e,$,xt,bt,St){return St!==void 0&&(_e=scalePoint(_e,St,bt)),scalePoint(_e,xt,bt)+$}function applyAxisDelta(_e,$=0,xt=1,bt,St){_e.min=applyPointDelta(_e.min,$,xt,bt,St),_e.max=applyPointDelta(_e.max,$,xt,bt,St)}function applyBoxDelta(_e,{x:$,y:xt}){applyAxisDelta(_e.x,$.translate,$.scale,$.originPoint),applyAxisDelta(_e.y,xt.translate,xt.scale,xt.originPoint)}function applyTreeDeltas(_e,$,xt,bt=!1){const St=xt.length;if(!St)return;$.x=$.y=1;let At,Ct;for(let Et=0;Et<St;Et++){At=xt[Et],Ct=At.projectionDelta;const Pt=At.instance;Pt&&Pt.style&&Pt.style.display==="contents"||(bt&&At.options.layoutScroll&&At.scroll&&At!==At.root&&transformBox(_e,{x:-At.scroll.offset.x,y:-At.scroll.offset.y}),Ct&&($.x*=Ct.x.scale,$.y*=Ct.y.scale,applyBoxDelta(_e,Ct)),bt&&hasTransform(At.latestValues)&&transformBox(_e,At.latestValues))}$.x=snapToDefault($.x),$.y=snapToDefault($.y)}function snapToDefault(_e){return Number.isInteger(_e)||_e>1.0000000000001||_e<.999999999999?_e:1}function translateAxis(_e,$){_e.min=_e.min+$,_e.max=_e.max+$}function transformAxis(_e,$,[xt,bt,St]){const At=$[St]!==void 0?$[St]:.5,Ct=mixNumber$1(_e.min,_e.max,At);applyAxisDelta(_e,$[xt],$[bt],Ct,$.scale)}const xKeys$1=["x","scaleX","originX"],yKeys$1=["y","scaleY","originY"];function transformBox(_e,$){transformAxis(_e.x,$,xKeys$1),transformAxis(_e.y,$,yKeys$1)}function measureViewportBox(_e,$){return convertBoundingBoxToBox(transformBoxPoints(_e.getBoundingClientRect(),$))}function measurePageBox(_e,$,xt){const bt=measureViewportBox(_e,xt),{scroll:St}=$;return St&&(translateAxis(bt.x,St.offset.x),translateAxis(bt.y,St.offset.y)),bt}const getContextWindow=({current:_e})=>_e?_e.ownerDocument.defaultView:null,elementDragControls=new WeakMap;class VisualElementDragControls{constructor($){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=createBox(),this.visualElement=$}start($,{snapToCursor:xt=!1}={}){const{presenceContext:bt}=this.visualElement;if(bt&&bt.isPresent===!1)return;const St=kt=>{const{dragSnapToOrigin:_t}=this.getProps();_t?this.pauseAnimation():this.stopAnimation(),xt&&this.snapToCursor(extractEventInfo(kt,"page").point)},At=(kt,_t)=>{const{drag:ht,dragPropagation:vt,onDragStart:Ft}=this.getProps();if(ht&&!vt&&(this.openGlobalLock&&this.openGlobalLock(),this.openGlobalLock=getGlobalLock(ht),!this.openGlobalLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),eachAxis(qt=>{let Lt=this.getAxisMotionValue(qt).get()||0;if(percent.test(Lt)){const{projection:$t}=this.visualElement;if($t&&$t.layout){const Ot=$t.layout.layoutBox[qt];Ot&&(Lt=calcLength(Ot)*(parseFloat(Lt)/100))}}this.originPoint[qt]=Lt}),Ft&&frame.postRender(()=>Ft(kt,_t));const{animationState:Vt}=this.visualElement;Vt&&Vt.setActive("whileDrag",!0)},Ct=(kt,_t)=>{const{dragPropagation:ht,dragDirectionLock:vt,onDirectionLock:Ft,onDrag:Vt}=this.getProps();if(!ht&&!this.openGlobalLock)return;const{offset:qt}=_t;if(vt&&this.currentDirection===null){this.currentDirection=getCurrentDirection(qt),this.currentDirection!==null&&Ft&&Ft(this.currentDirection);return}this.updateAxis("x",_t.point,qt),this.updateAxis("y",_t.point,qt),this.visualElement.render(),Vt&&Vt(kt,_t)},Et=(kt,_t)=>this.stop(kt,_t),Pt=()=>eachAxis(kt=>{var _t;return this.getAnimationState(kt)==="paused"&&((_t=this.getAxisMotionValue(kt).animation)===null||_t===void 0?void 0:_t.play())}),{dragSnapToOrigin:wt}=this.getProps();this.panSession=new PanSession($,{onSessionStart:St,onStart:At,onMove:Ct,onSessionEnd:Et,resumeAnimation:Pt},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:wt,contextWindow:getContextWindow(this.visualElement)})}stop($,xt){const bt=this.isDragging;if(this.cancel(),!bt)return;const{velocity:St}=xt;this.startAnimation(St);const{onDragEnd:At}=this.getProps();At&&frame.postRender(()=>At($,xt))}cancel(){this.isDragging=!1;const{projection:$,animationState:xt}=this.visualElement;$&&($.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:bt}=this.getProps();!bt&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),xt&&xt.setActive("whileDrag",!1)}updateAxis($,xt,bt){const{drag:St}=this.getProps();if(!bt||!shouldDrag($,St,this.currentDirection))return;const At=this.getAxisMotionValue($);let Ct=this.originPoint[$]+bt[$];this.constraints&&this.constraints[$]&&(Ct=applyConstraints(Ct,this.constraints[$],this.elastic[$])),At.set(Ct)}resolveConstraints(){var $;const{dragConstraints:xt,dragElastic:bt}=this.getProps(),St=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):($=this.visualElement.projection)===null||$===void 0?void 0:$.layout,At=this.constraints;xt&&isRefObject(xt)?this.constraints||(this.constraints=this.resolveRefConstraints()):xt&&St?this.constraints=calcRelativeConstraints(St.layoutBox,xt):this.constraints=!1,this.elastic=resolveDragElastic(bt),At!==this.constraints&&St&&this.constraints&&!this.hasMutatedConstraints&&eachAxis(Ct=>{this.constraints!==!1&&this.getAxisMotionValue(Ct)&&(this.constraints[Ct]=rebaseAxisConstraints(St.layoutBox[Ct],this.constraints[Ct]))})}resolveRefConstraints(){const{dragConstraints:$,onMeasureDragConstraints:xt}=this.getProps();if(!$||!isRefObject($))return!1;const bt=$.current,{projection:St}=this.visualElement;if(!St||!St.layout)return!1;const At=measurePageBox(bt,St.root,this.visualElement.getTransformPagePoint());let Ct=calcViewportConstraints(St.layout.layoutBox,At);if(xt){const Et=xt(convertBoxToBoundingBox(Ct));this.hasMutatedConstraints=!!Et,Et&&(Ct=convertBoundingBoxToBox(Et))}return Ct}startAnimation($){const{drag:xt,dragMomentum:bt,dragElastic:St,dragTransition:At,dragSnapToOrigin:Ct,onDragTransitionEnd:Et}=this.getProps(),Pt=this.constraints||{},wt=eachAxis(kt=>{if(!shouldDrag(kt,xt,this.currentDirection))return;let _t=Pt&&Pt[kt]||{};Ct&&(_t={min:0,max:0});const ht=St?200:1e6,vt=St?40:1e7,Ft={type:"inertia",velocity:bt?$[kt]:0,bounceStiffness:ht,bounceDamping:vt,timeConstant:750,restDelta:1,restSpeed:10,...At,..._t};return this.startAxisValueAnimation(kt,Ft)});return Promise.all(wt).then(Et)}startAxisValueAnimation($,xt){const bt=this.getAxisMotionValue($);return bt.start(animateMotionValue($,bt,0,xt,this.visualElement))}stopAnimation(){eachAxis($=>this.getAxisMotionValue($).stop())}pauseAnimation(){eachAxis($=>{var xt;return(xt=this.getAxisMotionValue($).animation)===null||xt===void 0?void 0:xt.pause()})}getAnimationState($){var xt;return(xt=this.getAxisMotionValue($).animation)===null||xt===void 0?void 0:xt.state}getAxisMotionValue($){const xt=`_drag${$.toUpperCase()}`,bt=this.visualElement.getProps(),St=bt[xt];return St||this.visualElement.getValue($,(bt.initial?bt.initial[$]:void 0)||0)}snapToCursor($){eachAxis(xt=>{const{drag:bt}=this.getProps();if(!shouldDrag(xt,bt,this.currentDirection))return;const{projection:St}=this.visualElement,At=this.getAxisMotionValue(xt);if(St&&St.layout){const{min:Ct,max:Et}=St.layout.layoutBox[xt];At.set($[xt]-mixNumber$1(Ct,Et,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:$,dragConstraints:xt}=this.getProps(),{projection:bt}=this.visualElement;if(!isRefObject(xt)||!bt||!this.constraints)return;this.stopAnimation();const St={x:0,y:0};eachAxis(Ct=>{const Et=this.getAxisMotionValue(Ct);if(Et&&this.constraints!==!1){const Pt=Et.get();St[Ct]=calcOrigin({min:Pt,max:Pt},this.constraints[Ct])}});const{transformTemplate:At}=this.visualElement.getProps();this.visualElement.current.style.transform=At?At({},""):"none",bt.root&&bt.root.updateScroll(),bt.updateLayout(),this.resolveConstraints(),eachAxis(Ct=>{if(!shouldDrag(Ct,$,null))return;const Et=this.getAxisMotionValue(Ct),{min:Pt,max:wt}=this.constraints[Ct];Et.set(mixNumber$1(Pt,wt,St[Ct]))})}addListeners(){if(!this.visualElement.current)return;elementDragControls.set(this.visualElement,this);const $=this.visualElement.current,xt=addPointerEvent($,"pointerdown",Pt=>{const{drag:wt,dragListener:kt=!0}=this.getProps();wt&&kt&&this.start(Pt)}),bt=()=>{const{dragConstraints:Pt}=this.getProps();isRefObject(Pt)&&Pt.current&&(this.constraints=this.resolveRefConstraints())},{projection:St}=this.visualElement,At=St.addEventListener("measure",bt);St&&!St.layout&&(St.root&&St.root.updateScroll(),St.updateLayout()),frame.read(bt);const Ct=addDomEvent(window,"resize",()=>this.scalePositionWithinConstraints()),Et=St.addEventListener("didUpdate",({delta:Pt,hasLayoutChanged:wt})=>{this.isDragging&&wt&&(eachAxis(kt=>{const _t=this.getAxisMotionValue(kt);_t&&(this.originPoint[kt]+=Pt[kt].translate,_t.set(_t.get()+Pt[kt].translate))}),this.visualElement.render())});return()=>{Ct(),xt(),At(),Et&&Et()}}getProps(){const $=this.visualElement.getProps(),{drag:xt=!1,dragDirectionLock:bt=!1,dragPropagation:St=!1,dragConstraints:At=!1,dragElastic:Ct=defaultElastic,dragMomentum:Et=!0}=$;return{...$,drag:xt,dragDirectionLock:bt,dragPropagation:St,dragConstraints:At,dragElastic:Ct,dragMomentum:Et}}}function shouldDrag(_e,$,xt){return($===!0||$===_e)&&(xt===null||xt===_e)}function getCurrentDirection(_e,$=10){let xt=null;return Math.abs(_e.y)>$?xt="y":Math.abs(_e.x)>$&&(xt="x"),xt}class DragGesture extends Feature{constructor($){super($),this.removeGroupControls=noop,this.removeListeners=noop,this.controls=new VisualElementDragControls($)}mount(){const{dragControls:$}=this.node.getProps();$&&(this.removeGroupControls=$.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||noop}unmount(){this.removeGroupControls(),this.removeListeners()}}const asyncHandler=_e=>($,xt)=>{_e&&frame.postRender(()=>_e($,xt))};class PanGesture extends Feature{constructor(){super(...arguments),this.removePointerDownListener=noop}onPointerDown($){this.session=new PanSession($,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:getContextWindow(this.node)})}createPanHandlers(){const{onPanSessionStart:$,onPanStart:xt,onPan:bt,onPanEnd:St}=this.node.getProps();return{onSessionStart:asyncHandler($),onStart:asyncHandler(xt),onMove:bt,onEnd:(At,Ct)=>{delete this.session,St&&frame.postRender(()=>St(At,Ct))}}}mount(){this.removePointerDownListener=addPointerEvent(this.node.current,"pointerdown",$=>this.onPointerDown($))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}function usePresence(){const _e=reactExports.useContext(PresenceContext);if(_e===null)return[!0,null];const{isPresent:$,onExitComplete:xt,register:bt}=_e,St=reactExports.useId();return reactExports.useEffect(()=>bt(St),[]),!$&&xt?[!1,()=>xt&&xt(St)]:[!0]}const globalProjectionState={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function pixelsToPercent(_e,$){return $.max===$.min?0:_e/($.max-$.min)*100}const correctBorderRadius={correct:(_e,$)=>{if(!$.target)return _e;if(typeof _e=="string")if(px.test(_e))_e=parseFloat(_e);else return _e;const xt=pixelsToPercent(_e,$.target.x),bt=pixelsToPercent(_e,$.target.y);return`${xt}% ${bt}%`}},correctBoxShadow={correct:(_e,{treeScale:$,projectionDelta:xt})=>{const bt=_e,St=complex.parse(_e);if(St.length>5)return bt;const At=complex.createTransformer(_e),Ct=typeof St[0]!="number"?1:0,Et=xt.x.scale*$.x,Pt=xt.y.scale*$.y;St[0+Ct]/=Et,St[1+Ct]/=Pt;const wt=mixNumber$1(Et,Pt,.5);return typeof St[2+Ct]=="number"&&(St[2+Ct]/=wt),typeof St[3+Ct]=="number"&&(St[3+Ct]/=wt),At(St)}};class MeasureLayoutWithContext extends reactExports.Component{componentDidMount(){const{visualElement:$,layoutGroup:xt,switchLayoutGroup:bt,layoutId:St}=this.props,{projection:At}=$;addScaleCorrector(defaultScaleCorrectors),At&&(xt.group&&xt.group.add(At),bt&&bt.register&&St&&bt.register(At),At.root.didUpdate(),At.addEventListener("animationComplete",()=>{this.safeToRemove()}),At.setOptions({...At.options,onExitComplete:()=>this.safeToRemove()})),globalProjectionState.hasEverUpdated=!0}getSnapshotBeforeUpdate($){const{layoutDependency:xt,visualElement:bt,drag:St,isPresent:At}=this.props,Ct=bt.projection;return Ct&&(Ct.isPresent=At,St||$.layoutDependency!==xt||xt===void 0?Ct.willUpdate():this.safeToRemove(),$.isPresent!==At&&(At?Ct.promote():Ct.relegate()||frame.postRender(()=>{const Et=Ct.getStack();(!Et||!Et.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:$}=this.props.visualElement;$&&($.root.didUpdate(),microtask.postRender(()=>{!$.currentAnimation&&$.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:$,layoutGroup:xt,switchLayoutGroup:bt}=this.props,{projection:St}=$;St&&(St.scheduleCheckAfterUnmount(),xt&&xt.group&&xt.group.remove(St),bt&&bt.deregister&&bt.deregister(St))}safeToRemove(){const{safeToRemove:$}=this.props;$&&$()}render(){return null}}function MeasureLayout(_e){const[$,xt]=usePresence(),bt=reactExports.useContext(LayoutGroupContext);return jsxRuntimeExports.jsx(MeasureLayoutWithContext,{..._e,layoutGroup:bt,switchLayoutGroup:reactExports.useContext(SwitchLayoutGroupContext),isPresent:$,safeToRemove:xt})}const defaultScaleCorrectors={borderRadius:{...correctBorderRadius,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:correctBorderRadius,borderTopRightRadius:correctBorderRadius,borderBottomLeftRadius:correctBorderRadius,borderBottomRightRadius:correctBorderRadius,boxShadow:correctBoxShadow},borders=["TopLeft","TopRight","BottomLeft","BottomRight"],numBorders=borders.length,asNumber=_e=>typeof _e=="string"?parseFloat(_e):_e,isPx=_e=>typeof _e=="number"||px.test(_e);function mixValues(_e,$,xt,bt,St,At){St?(_e.opacity=mixNumber$1(0,xt.opacity!==void 0?xt.opacity:1,easeCrossfadeIn(bt)),_e.opacityExit=mixNumber$1($.opacity!==void 0?$.opacity:1,0,easeCrossfadeOut(bt))):At&&(_e.opacity=mixNumber$1($.opacity!==void 0?$.opacity:1,xt.opacity!==void 0?xt.opacity:1,bt));for(let Ct=0;Ct<numBorders;Ct++){const Et=`border${borders[Ct]}Radius`;let Pt=getRadius($,Et),wt=getRadius(xt,Et);if(Pt===void 0&&wt===void 0)continue;Pt||(Pt=0),wt||(wt=0),Pt===0||wt===0||isPx(Pt)===isPx(wt)?(_e[Et]=Math.max(mixNumber$1(asNumber(Pt),asNumber(wt),bt),0),(percent.test(wt)||percent.test(Pt))&&(_e[Et]+="%")):_e[Et]=wt}($.rotate||xt.rotate)&&(_e.rotate=mixNumber$1($.rotate||0,xt.rotate||0,bt))}function getRadius(_e,$){return _e[$]!==void 0?_e[$]:_e.borderRadius}const easeCrossfadeIn=compress(0,.5,circOut),easeCrossfadeOut=compress(.5,.95,noop);function compress(_e,$,xt){return bt=>bt<_e?0:bt>$?1:xt(progress(_e,$,bt))}function copyAxisInto(_e,$){_e.min=$.min,_e.max=$.max}function copyBoxInto(_e,$){copyAxisInto(_e.x,$.x),copyAxisInto(_e.y,$.y)}function removePointDelta(_e,$,xt,bt,St){return _e-=$,_e=scalePoint(_e,1/xt,bt),St!==void 0&&(_e=scalePoint(_e,1/St,bt)),_e}function removeAxisDelta(_e,$=0,xt=1,bt=.5,St,At=_e,Ct=_e){if(percent.test($)&&($=parseFloat($),$=mixNumber$1(Ct.min,Ct.max,$/100)-Ct.min),typeof $!="number")return;let Et=mixNumber$1(At.min,At.max,bt);_e===At&&(Et-=$),_e.min=removePointDelta(_e.min,$,xt,Et,St),_e.max=removePointDelta(_e.max,$,xt,Et,St)}function removeAxisTransforms(_e,$,[xt,bt,St],At,Ct){removeAxisDelta(_e,$[xt],$[bt],$[St],$.scale,At,Ct)}const xKeys=["x","scaleX","originX"],yKeys=["y","scaleY","originY"];function removeBoxTransforms(_e,$,xt,bt){removeAxisTransforms(_e.x,$,xKeys,xt?xt.x:void 0,bt?bt.x:void 0),removeAxisTransforms(_e.y,$,yKeys,xt?xt.y:void 0,bt?bt.y:void 0)}function isAxisDeltaZero(_e){return _e.translate===0&&_e.scale===1}function isDeltaZero(_e){return isAxisDeltaZero(_e.x)&&isAxisDeltaZero(_e.y)}function boxEquals(_e,$){return _e.x.min===$.x.min&&_e.x.max===$.x.max&&_e.y.min===$.y.min&&_e.y.max===$.y.max}function boxEqualsRounded(_e,$){return Math.round(_e.x.min)===Math.round($.x.min)&&Math.round(_e.x.max)===Math.round($.x.max)&&Math.round(_e.y.min)===Math.round($.y.min)&&Math.round(_e.y.max)===Math.round($.y.max)}function aspectRatio(_e){return calcLength(_e.x)/calcLength(_e.y)}class NodeStack{constructor(){this.members=[]}add($){addUniqueItem(this.members,$),$.scheduleRender()}remove($){if(removeItem(this.members,$),$===this.prevLead&&(this.prevLead=void 0),$===this.lead){const xt=this.members[this.members.length-1];xt&&this.promote(xt)}}relegate($){const xt=this.members.findIndex(St=>$===St);if(xt===0)return!1;let bt;for(let St=xt;St>=0;St--){const At=this.members[St];if(At.isPresent!==!1){bt=At;break}}return bt?(this.promote(bt),!0):!1}promote($,xt){const bt=this.lead;if($!==bt&&(this.prevLead=bt,this.lead=$,$.show(),bt)){bt.instance&&bt.scheduleRender(),$.scheduleRender(),$.resumeFrom=bt,xt&&($.resumeFrom.preserveOpacity=!0),bt.snapshot&&($.snapshot=bt.snapshot,$.snapshot.latestValues=bt.animationValues||bt.latestValues),$.root&&$.root.isUpdating&&($.isLayoutDirty=!0);const{crossfade:St}=$.options;St===!1&&bt.hide()}}exitAnimationComplete(){this.members.forEach($=>{const{options:xt,resumingFrom:bt}=$;xt.onExitComplete&&xt.onExitComplete(),bt&&bt.options.onExitComplete&&bt.options.onExitComplete()})}scheduleRender(){this.members.forEach($=>{$.instance&&$.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function buildProjectionTransform(_e,$,xt){let bt="";const St=_e.x.translate/$.x,At=_e.y.translate/$.y,Ct=(xt==null?void 0:xt.z)||0;if((St||At||Ct)&&(bt=`translate3d(${St}px, ${At}px, ${Ct}px) `),($.x!==1||$.y!==1)&&(bt+=`scale(${1/$.x}, ${1/$.y}) `),xt){const{transformPerspective:wt,rotate:kt,rotateX:_t,rotateY:ht,skewX:vt,skewY:Ft}=xt;wt&&(bt=`perspective(${wt}px) ${bt}`),kt&&(bt+=`rotate(${kt}deg) `),_t&&(bt+=`rotateX(${_t}deg) `),ht&&(bt+=`rotateY(${ht}deg) `),vt&&(bt+=`skewX(${vt}deg) `),Ft&&(bt+=`skewY(${Ft}deg) `)}const Et=_e.x.scale*$.x,Pt=_e.y.scale*$.y;return(Et!==1||Pt!==1)&&(bt+=`scale(${Et}, ${Pt})`),bt||"none"}const compareByDepth=(_e,$)=>_e.depth-$.depth;class FlatTree{constructor(){this.children=[],this.isDirty=!1}add($){addUniqueItem(this.children,$),this.isDirty=!0}remove($){removeItem(this.children,$),this.isDirty=!0}forEach($){this.isDirty&&this.children.sort(compareByDepth),this.isDirty=!1,this.children.forEach($)}}function delay(_e,$){const xt=time.now(),bt=({timestamp:St})=>{const At=St-xt;At>=$&&(cancelFrame(bt),_e(At-$))};return frame.read(bt,!0),()=>cancelFrame(bt)}function record(_e){window.MotionDebug&&window.MotionDebug.record(_e)}function isSVGElement(_e){return _e instanceof SVGElement&&_e.tagName!=="svg"}function animateSingleValue(_e,$,xt){const bt=isMotionValue(_e)?_e:motionValue(_e);return bt.start(animateMotionValue("",bt,$,xt)),bt.animation}const transformAxes=["","X","Y","Z"],hiddenVisibility={visibility:"hidden"},animationTarget=1e3;let id=0;const projectionFrameData={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0};function resetDistortingTransform(_e,$,xt,bt){const{latestValues:St}=$;St[_e]&&(xt[_e]=St[_e],$.setStaticValue(_e,0),bt&&(bt[_e]=0))}function isOptimisedAppearTree(_e){if(_e.hasCheckedOptimisedAppear=!0,_e.root===_e)return!1;const{visualElement:$}=_e.options;return $?getOptimisedAppearId($)?!0:_e.parent&&!_e.parent.hasCheckedOptimisedAppear?isOptimisedAppearTree(_e.parent):!1:!1}function createProjectionNode({attachResizeListener:_e,defaultParent:$,measureScroll:xt,checkIsScrollRoot:bt,resetTransform:St}){return class{constructor(Ct={},Et=$==null?void 0:$()){this.id=id++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,projectionFrameData.totalNodes=projectionFrameData.resolvedTargetDeltas=projectionFrameData.recalculatedProjection=0,this.nodes.forEach(propagateDirtyNodes),this.nodes.forEach(resolveTargetDelta),this.nodes.forEach(calcProjection),this.nodes.forEach(cleanDirtyNodes),record(projectionFrameData)},this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=Ct,this.root=Et?Et.root||Et:this,this.path=Et?[...Et.path,Et]:[],this.parent=Et,this.depth=Et?Et.depth+1:0;for(let Pt=0;Pt<this.path.length;Pt++)this.path[Pt].shouldResetTransform=!0;this.root===this&&(this.nodes=new FlatTree)}addEventListener(Ct,Et){return this.eventHandlers.has(Ct)||this.eventHandlers.set(Ct,new SubscriptionManager),this.eventHandlers.get(Ct).add(Et)}notifyListeners(Ct,...Et){const Pt=this.eventHandlers.get(Ct);Pt&&Pt.notify(...Et)}hasListeners(Ct){return this.eventHandlers.has(Ct)}mount(Ct,Et=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=isSVGElement(Ct),this.instance=Ct;const{layoutId:Pt,layout:wt,visualElement:kt}=this.options;if(kt&&!kt.current&&kt.mount(Ct),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),Et&&(wt||Pt)&&(this.isLayoutDirty=!0),_e){let _t;const ht=()=>this.root.updateBlockedByResize=!1;_e(Ct,()=>{this.root.updateBlockedByResize=!0,_t&&_t(),_t=delay(ht,250),globalProjectionState.hasAnimatedSinceResize&&(globalProjectionState.hasAnimatedSinceResize=!1,this.nodes.forEach(finishAnimation))})}Pt&&this.root.registerSharedNode(Pt,this),this.options.animate!==!1&&kt&&(Pt||wt)&&this.addEventListener("didUpdate",({delta:_t,hasLayoutChanged:ht,hasRelativeTargetChanged:vt,layout:Ft})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const Vt=this.options.transition||kt.getDefaultTransition()||defaultLayoutTransition,{onLayoutAnimationStart:qt,onLayoutAnimationComplete:Lt}=kt.getProps(),$t=!this.targetLayout||!boxEqualsRounded(this.targetLayout,Ft)||vt,Ot=!ht&&vt;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||Ot||ht&&($t||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(_t,Ot);const jt={...getValueTransition(Vt,"layout"),onPlay:qt,onComplete:Lt};(kt.shouldReduceMotion||this.options.layoutRoot)&&(jt.delay=0,jt.type=!1),this.startAnimation(jt)}else ht||finishAnimation(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=Ft})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const Ct=this.getStack();Ct&&Ct.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,cancelFrame(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(resetSkewAndRotation),this.animationId++)}getTransformTemplate(){const{visualElement:Ct}=this.options;return Ct&&Ct.getProps().transformTemplate}willUpdate(Ct=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.HandoffCancelAllAnimations&&isOptimisedAppearTree(this)&&window.HandoffCancelAllAnimations(),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let kt=0;kt<this.path.length;kt++){const _t=this.path[kt];_t.shouldResetTransform=!0,_t.updateScroll("snapshot"),_t.options.layoutRoot&&_t.willUpdate(!1)}const{layoutId:Et,layout:Pt}=this.options;if(Et===void 0&&!Pt)return;const wt=this.getTransformTemplate();this.prevTransformTemplateValue=wt?wt(this.latestValues,""):void 0,this.updateSnapshot(),Ct&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(clearMeasurements);return}this.isUpdating||this.nodes.forEach(clearIsLayoutDirty),this.isUpdating=!1,this.nodes.forEach(resetTransformStyle),this.nodes.forEach(updateLayout),this.nodes.forEach(notifyLayoutUpdate),this.clearAllSnapshots();const Et=time.now();frameData.delta=clamp(0,1e3/60,Et-frameData.timestamp),frameData.timestamp=Et,frameData.isProcessing=!0,steps.update.process(frameData),steps.preRender.process(frameData),steps.render.process(frameData),frameData.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,microtask.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(clearSnapshot),this.sharedNodes.forEach(removeLeadSnapshots)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,frame.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){frame.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let Pt=0;Pt<this.path.length;Pt++)this.path[Pt].updateScroll();const Ct=this.layout;this.layout=this.measure(!1),this.layoutCorrected=createBox(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:Et}=this.options;Et&&Et.notify("LayoutMeasure",this.layout.layoutBox,Ct?Ct.layoutBox:void 0)}updateScroll(Ct="measure"){let Et=!!(this.options.layoutScroll&&this.instance);this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===Ct&&(Et=!1),Et&&(this.scroll={animationId:this.root.animationId,phase:Ct,isRoot:bt(this.instance),offset:xt(this.instance)})}resetTransform(){if(!St)return;const Ct=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,Et=this.projectionDelta&&!isDeltaZero(this.projectionDelta),Pt=this.getTransformTemplate(),wt=Pt?Pt(this.latestValues,""):void 0,kt=wt!==this.prevTransformTemplateValue;Ct&&(Et||hasTransform(this.latestValues)||kt)&&(St(this.instance,wt),this.shouldResetTransform=!1,this.scheduleRender())}measure(Ct=!0){const Et=this.measurePageBox();let Pt=this.removeElementScroll(Et);return Ct&&(Pt=this.removeTransform(Pt)),roundBox(Pt),{animationId:this.root.animationId,measuredBox:Et,layoutBox:Pt,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:Ct}=this.options;if(!Ct)return createBox();const Et=Ct.measureViewportBox(),{scroll:Pt}=this.root;return Pt&&(translateAxis(Et.x,Pt.offset.x),translateAxis(Et.y,Pt.offset.y)),Et}removeElementScroll(Ct){const Et=createBox();copyBoxInto(Et,Ct);for(let Pt=0;Pt<this.path.length;Pt++){const wt=this.path[Pt],{scroll:kt,options:_t}=wt;if(wt!==this.root&&kt&&_t.layoutScroll){if(kt.isRoot){copyBoxInto(Et,Ct);const{scroll:ht}=this.root;ht&&(translateAxis(Et.x,-ht.offset.x),translateAxis(Et.y,-ht.offset.y))}translateAxis(Et.x,kt.offset.x),translateAxis(Et.y,kt.offset.y)}}return Et}applyTransform(Ct,Et=!1){const Pt=createBox();copyBoxInto(Pt,Ct);for(let wt=0;wt<this.path.length;wt++){const kt=this.path[wt];!Et&&kt.options.layoutScroll&&kt.scroll&&kt!==kt.root&&transformBox(Pt,{x:-kt.scroll.offset.x,y:-kt.scroll.offset.y}),hasTransform(kt.latestValues)&&transformBox(Pt,kt.latestValues)}return hasTransform(this.latestValues)&&transformBox(Pt,this.latestValues),Pt}removeTransform(Ct){const Et=createBox();copyBoxInto(Et,Ct);for(let Pt=0;Pt<this.path.length;Pt++){const wt=this.path[Pt];if(!wt.instance||!hasTransform(wt.latestValues))continue;hasScale(wt.latestValues)&&wt.updateSnapshot();const kt=createBox(),_t=wt.measurePageBox();copyBoxInto(kt,_t),removeBoxTransforms(Et,wt.latestValues,wt.snapshot?wt.snapshot.layoutBox:void 0,kt)}return hasTransform(this.latestValues)&&removeBoxTransforms(Et,this.latestValues),Et}setTargetDelta(Ct){this.targetDelta=Ct,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(Ct){this.options={...this.options,...Ct,crossfade:Ct.crossfade!==void 0?Ct.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==frameData.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(Ct=!1){var Et;const Pt=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=Pt.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=Pt.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=Pt.isSharedProjectionDirty);const wt=!!this.resumingFrom||this!==Pt;if(!(Ct||wt&&this.isSharedProjectionDirty||this.isProjectionDirty||!((Et=this.parent)===null||Et===void 0)&&Et.isProjectionDirty||this.attemptToResolveRelativeTarget))return;const{layout:_t,layoutId:ht}=this.options;if(!(!this.layout||!(_t||ht))){if(this.resolvedRelativeTargetAt=frameData.timestamp,!this.targetDelta&&!this.relativeTarget){const vt=this.getClosestProjectingParent();vt&&vt.layout&&this.animationProgress!==1?(this.relativeParent=vt,this.forceRelativeParentToResolveTarget(),this.relativeTarget=createBox(),this.relativeTargetOrigin=createBox(),calcRelativePosition(this.relativeTargetOrigin,this.layout.layoutBox,vt.layout.layoutBox),copyBoxInto(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=createBox(),this.targetWithTransforms=createBox()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),calcRelativeBox(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):copyBoxInto(this.target,this.layout.layoutBox),applyBoxDelta(this.target,this.targetDelta)):copyBoxInto(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const vt=this.getClosestProjectingParent();vt&&!!vt.resumingFrom==!!this.resumingFrom&&!vt.options.layoutScroll&&vt.target&&this.animationProgress!==1?(this.relativeParent=vt,this.forceRelativeParentToResolveTarget(),this.relativeTarget=createBox(),this.relativeTargetOrigin=createBox(),calcRelativePosition(this.relativeTargetOrigin,this.target,vt.target),copyBoxInto(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}projectionFrameData.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||hasScale(this.parent.latestValues)||has2DTranslate(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var Ct;const Et=this.getLead(),Pt=!!this.resumingFrom||this!==Et;let wt=!0;if((this.isProjectionDirty||!((Ct=this.parent)===null||Ct===void 0)&&Ct.isProjectionDirty)&&(wt=!1),Pt&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(wt=!1),this.resolvedRelativeTargetAt===frameData.timestamp&&(wt=!1),wt)return;const{layout:kt,layoutId:_t}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(kt||_t))return;copyBoxInto(this.layoutCorrected,this.layout.layoutBox);const ht=this.treeScale.x,vt=this.treeScale.y;applyTreeDeltas(this.layoutCorrected,this.treeScale,this.path,Pt),Et.layout&&!Et.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(Et.target=Et.layout.layoutBox,Et.targetWithTransforms=createBox());const{target:Ft}=Et;if(!Ft){this.projectionTransform&&(this.projectionDelta=createDelta(),this.projectionTransform="none",this.scheduleRender());return}this.projectionDelta||(this.projectionDelta=createDelta(),this.projectionDeltaWithTransform=createDelta());const Vt=this.projectionTransform;calcBoxDelta(this.projectionDelta,this.layoutCorrected,Ft,this.latestValues),this.projectionTransform=buildProjectionTransform(this.projectionDelta,this.treeScale),(this.projectionTransform!==Vt||this.treeScale.x!==ht||this.treeScale.y!==vt)&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",Ft)),projectionFrameData.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(Ct=!0){if(this.options.scheduleRender&&this.options.scheduleRender(),Ct){const Et=this.getStack();Et&&Et.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}setAnimationOrigin(Ct,Et=!1){const Pt=this.snapshot,wt=Pt?Pt.latestValues:{},kt={...this.latestValues},_t=createDelta();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!Et;const ht=createBox(),vt=Pt?Pt.source:void 0,Ft=this.layout?this.layout.source:void 0,Vt=vt!==Ft,qt=this.getStack(),Lt=!qt||qt.members.length<=1,$t=!!(Vt&&!Lt&&this.options.crossfade===!0&&!this.path.some(hasOpacityCrossfade));this.animationProgress=0;let Ot;this.mixTargetDelta=jt=>{const Rt=jt/1e3;mixAxisDelta(_t.x,Ct.x,Rt),mixAxisDelta(_t.y,Ct.y,Rt),this.setTargetDelta(_t),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(calcRelativePosition(ht,this.layout.layoutBox,this.relativeParent.layout.layoutBox),mixBox(this.relativeTarget,this.relativeTargetOrigin,ht,Rt),Ot&&boxEquals(this.relativeTarget,Ot)&&(this.isProjectionDirty=!1),Ot||(Ot=createBox()),copyBoxInto(Ot,this.relativeTarget)),Vt&&(this.animationValues=kt,mixValues(kt,wt,this.latestValues,Rt,$t,Lt)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=Rt},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(Ct){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(cancelFrame(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=frame.update(()=>{globalProjectionState.hasAnimatedSinceResize=!0,this.currentAnimation=animateSingleValue(0,animationTarget,{...Ct,onUpdate:Et=>{this.mixTargetDelta(Et),Ct.onUpdate&&Ct.onUpdate(Et)},onComplete:()=>{Ct.onComplete&&Ct.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const Ct=this.getStack();Ct&&Ct.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(animationTarget),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const Ct=this.getLead();let{targetWithTransforms:Et,target:Pt,layout:wt,latestValues:kt}=Ct;if(!(!Et||!Pt||!wt)){if(this!==Ct&&this.layout&&wt&&shouldAnimatePositionOnly(this.options.animationType,this.layout.layoutBox,wt.layoutBox)){Pt=this.target||createBox();const _t=calcLength(this.layout.layoutBox.x);Pt.x.min=Ct.target.x.min,Pt.x.max=Pt.x.min+_t;const ht=calcLength(this.layout.layoutBox.y);Pt.y.min=Ct.target.y.min,Pt.y.max=Pt.y.min+ht}copyBoxInto(Et,Pt),transformBox(Et,kt),calcBoxDelta(this.projectionDeltaWithTransform,this.layoutCorrected,Et,kt)}}registerSharedNode(Ct,Et){this.sharedNodes.has(Ct)||this.sharedNodes.set(Ct,new NodeStack),this.sharedNodes.get(Ct).add(Et);const wt=Et.options.initialPromotionConfig;Et.promote({transition:wt?wt.transition:void 0,preserveFollowOpacity:wt&&wt.shouldPreserveFollowOpacity?wt.shouldPreserveFollowOpacity(Et):void 0})}isLead(){const Ct=this.getStack();return Ct?Ct.lead===this:!0}getLead(){var Ct;const{layoutId:Et}=this.options;return Et?((Ct=this.getStack())===null||Ct===void 0?void 0:Ct.lead)||this:this}getPrevLead(){var Ct;const{layoutId:Et}=this.options;return Et?(Ct=this.getStack())===null||Ct===void 0?void 0:Ct.prevLead:void 0}getStack(){const{layoutId:Ct}=this.options;if(Ct)return this.root.sharedNodes.get(Ct)}promote({needsReset:Ct,transition:Et,preserveFollowOpacity:Pt}={}){const wt=this.getStack();wt&&wt.promote(this,Pt),Ct&&(this.projectionDelta=void 0,this.needsReset=!0),Et&&this.setOptions({transition:Et})}relegate(){const Ct=this.getStack();return Ct?Ct.relegate(this):!1}resetSkewAndRotation(){const{visualElement:Ct}=this.options;if(!Ct)return;let Et=!1;const{latestValues:Pt}=Ct;if((Pt.z||Pt.rotate||Pt.rotateX||Pt.rotateY||Pt.rotateZ||Pt.skewX||Pt.skewY)&&(Et=!0),!Et)return;const wt={};Pt.z&&resetDistortingTransform("z",Ct,wt,this.animationValues);for(let kt=0;kt<transformAxes.length;kt++)resetDistortingTransform(`rotate${transformAxes[kt]}`,Ct,wt,this.animationValues),resetDistortingTransform(`skew${transformAxes[kt]}`,Ct,wt,this.animationValues);Ct.render();for(const kt in wt)Ct.setStaticValue(kt,wt[kt]),this.animationValues&&(this.animationValues[kt]=wt[kt]);Ct.scheduleRender()}getProjectionStyles(Ct){var Et,Pt;if(!this.instance||this.isSVG)return;if(!this.isVisible)return hiddenVisibility;const wt={visibility:""},kt=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,wt.opacity="",wt.pointerEvents=resolveMotionValue(Ct==null?void 0:Ct.pointerEvents)||"",wt.transform=kt?kt(this.latestValues,""):"none",wt;const _t=this.getLead();if(!this.projectionDelta||!this.layout||!_t.target){const Vt={};return this.options.layoutId&&(Vt.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,Vt.pointerEvents=resolveMotionValue(Ct==null?void 0:Ct.pointerEvents)||""),this.hasProjected&&!hasTransform(this.latestValues)&&(Vt.transform=kt?kt({},""):"none",this.hasProjected=!1),Vt}const ht=_t.animationValues||_t.latestValues;this.applyTransformsToTarget(),wt.transform=buildProjectionTransform(this.projectionDeltaWithTransform,this.treeScale,ht),kt&&(wt.transform=kt(ht,wt.transform));const{x:vt,y:Ft}=this.projectionDelta;wt.transformOrigin=`${vt.origin*100}% ${Ft.origin*100}% 0`,_t.animationValues?wt.opacity=_t===this?(Pt=(Et=ht.opacity)!==null&&Et!==void 0?Et:this.latestValues.opacity)!==null&&Pt!==void 0?Pt:1:this.preserveOpacity?this.latestValues.opacity:ht.opacityExit:wt.opacity=_t===this?ht.opacity!==void 0?ht.opacity:"":ht.opacityExit!==void 0?ht.opacityExit:0;for(const Vt in scaleCorrectors){if(ht[Vt]===void 0)continue;const{correct:qt,applyTo:Lt}=scaleCorrectors[Vt],$t=wt.transform==="none"?ht[Vt]:qt(ht[Vt],_t);if(Lt){const Ot=Lt.length;for(let jt=0;jt<Ot;jt++)wt[Lt[jt]]=$t}else wt[Vt]=$t}return this.options.layoutId&&(wt.pointerEvents=_t===this?resolveMotionValue(Ct==null?void 0:Ct.pointerEvents)||"":"none"),wt}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(Ct=>{var Et;return(Et=Ct.currentAnimation)===null||Et===void 0?void 0:Et.stop()}),this.root.nodes.forEach(clearMeasurements),this.root.sharedNodes.clear()}}}function updateLayout(_e){_e.updateLayout()}function notifyLayoutUpdate(_e){var $;const xt=(($=_e.resumeFrom)===null||$===void 0?void 0:$.snapshot)||_e.snapshot;if(_e.isLead()&&_e.layout&&xt&&_e.hasListeners("didUpdate")){const{layoutBox:bt,measuredBox:St}=_e.layout,{animationType:At}=_e.options,Ct=xt.source!==_e.layout.source;At==="size"?eachAxis(_t=>{const ht=Ct?xt.measuredBox[_t]:xt.layoutBox[_t],vt=calcLength(ht);ht.min=bt[_t].min,ht.max=ht.min+vt}):shouldAnimatePositionOnly(At,xt.layoutBox,bt)&&eachAxis(_t=>{const ht=Ct?xt.measuredBox[_t]:xt.layoutBox[_t],vt=calcLength(bt[_t]);ht.max=ht.min+vt,_e.relativeTarget&&!_e.currentAnimation&&(_e.isProjectionDirty=!0,_e.relativeTarget[_t].max=_e.relativeTarget[_t].min+vt)});const Et=createDelta();calcBoxDelta(Et,bt,xt.layoutBox);const Pt=createDelta();Ct?calcBoxDelta(Pt,_e.applyTransform(St,!0),xt.measuredBox):calcBoxDelta(Pt,bt,xt.layoutBox);const wt=!isDeltaZero(Et);let kt=!1;if(!_e.resumeFrom){const _t=_e.getClosestProjectingParent();if(_t&&!_t.resumeFrom){const{snapshot:ht,layout:vt}=_t;if(ht&&vt){const Ft=createBox();calcRelativePosition(Ft,xt.layoutBox,ht.layoutBox);const Vt=createBox();calcRelativePosition(Vt,bt,vt.layoutBox),boxEqualsRounded(Ft,Vt)||(kt=!0),_t.options.layoutRoot&&(_e.relativeTarget=Vt,_e.relativeTargetOrigin=Ft,_e.relativeParent=_t)}}}_e.notifyListeners("didUpdate",{layout:bt,snapshot:xt,delta:Pt,layoutDelta:Et,hasLayoutChanged:wt,hasRelativeTargetChanged:kt})}else if(_e.isLead()){const{onExitComplete:bt}=_e.options;bt&&bt()}_e.options.transition=void 0}function propagateDirtyNodes(_e){projectionFrameData.totalNodes++,_e.parent&&(_e.isProjecting()||(_e.isProjectionDirty=_e.parent.isProjectionDirty),_e.isSharedProjectionDirty||(_e.isSharedProjectionDirty=!!(_e.isProjectionDirty||_e.parent.isProjectionDirty||_e.parent.isSharedProjectionDirty)),_e.isTransformDirty||(_e.isTransformDirty=_e.parent.isTransformDirty))}function cleanDirtyNodes(_e){_e.isProjectionDirty=_e.isSharedProjectionDirty=_e.isTransformDirty=!1}function clearSnapshot(_e){_e.clearSnapshot()}function clearMeasurements(_e){_e.clearMeasurements()}function clearIsLayoutDirty(_e){_e.isLayoutDirty=!1}function resetTransformStyle(_e){const{visualElement:$}=_e.options;$&&$.getProps().onBeforeLayoutMeasure&&$.notify("BeforeLayoutMeasure"),_e.resetTransform()}function finishAnimation(_e){_e.finishAnimation(),_e.targetDelta=_e.relativeTarget=_e.target=void 0,_e.isProjectionDirty=!0}function resolveTargetDelta(_e){_e.resolveTargetDelta()}function calcProjection(_e){_e.calcProjection()}function resetSkewAndRotation(_e){_e.resetSkewAndRotation()}function removeLeadSnapshots(_e){_e.removeLeadSnapshot()}function mixAxisDelta(_e,$,xt){_e.translate=mixNumber$1($.translate,0,xt),_e.scale=mixNumber$1($.scale,1,xt),_e.origin=$.origin,_e.originPoint=$.originPoint}function mixAxis(_e,$,xt,bt){_e.min=mixNumber$1($.min,xt.min,bt),_e.max=mixNumber$1($.max,xt.max,bt)}function mixBox(_e,$,xt,bt){mixAxis(_e.x,$.x,xt.x,bt),mixAxis(_e.y,$.y,xt.y,bt)}function hasOpacityCrossfade(_e){return _e.animationValues&&_e.animationValues.opacityExit!==void 0}const defaultLayoutTransition={duration:.45,ease:[.4,0,.1,1]},userAgentContains=_e=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(_e),roundPoint=userAgentContains("applewebkit/")&&!userAgentContains("chrome/")?Math.round:noop;function roundAxis(_e){_e.min=roundPoint(_e.min),_e.max=roundPoint(_e.max)}function roundBox(_e){roundAxis(_e.x),roundAxis(_e.y)}function shouldAnimatePositionOnly(_e,$,xt){return _e==="position"||_e==="preserve-aspect"&&!isNear(aspectRatio($),aspectRatio(xt),.2)}const DocumentProjectionNode=createProjectionNode({attachResizeListener:(_e,$)=>addDomEvent(_e,"resize",$),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),rootProjectionNode={current:void 0},HTMLProjectionNode=createProjectionNode({measureScroll:_e=>({x:_e.scrollLeft,y:_e.scrollTop}),defaultParent:()=>{if(!rootProjectionNode.current){const _e=new DocumentProjectionNode({});_e.mount(window),_e.setOptions({layoutScroll:!0}),rootProjectionNode.current=_e}return rootProjectionNode.current},resetTransform:(_e,$)=>{_e.style.transform=$!==void 0?$:"none"},checkIsScrollRoot:_e=>window.getComputedStyle(_e).position==="fixed"}),drag={pan:{Feature:PanGesture},drag:{Feature:DragGesture,ProjectionNode:HTMLProjectionNode,MeasureLayout}},prefersReducedMotion={current:null},hasReducedMotionListener={current:!1};function initPrefersReducedMotion(){if(hasReducedMotionListener.current=!0,!!isBrowser)if(window.matchMedia){const _e=window.matchMedia("(prefers-reduced-motion)"),$=()=>prefersReducedMotion.current=_e.matches;_e.addListener($),$()}else prefersReducedMotion.current=!1}function updateMotionValuesFromProps(_e,$,xt){const{willChange:bt}=$;for(const St in $){const At=$[St],Ct=xt[St];if(isMotionValue(At))_e.addValue(St,At),isWillChangeMotionValue(bt)&&bt.add(St);else if(isMotionValue(Ct))_e.addValue(St,motionValue(At,{owner:_e})),isWillChangeMotionValue(bt)&&bt.remove(St);else if(Ct!==At)if(_e.hasValue(St)){const Et=_e.getValue(St);Et.liveStyle===!0?Et.jump(At):Et.hasAnimated||Et.set(At)}else{const Et=_e.getStaticValue(St);_e.addValue(St,motionValue(Et!==void 0?Et:At,{owner:_e}))}}for(const St in xt)$[St]===void 0&&_e.removeValue(St);return $}const visualElementStore=new WeakMap,valueTypes=[...dimensionValueTypes,color,complex],findValueType=_e=>valueTypes.find(testValueType(_e)),propEventHandlers=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"],numVariantProps=variantProps.length;class VisualElement{scrapeMotionValuesFromProps($,xt,bt){return{}}constructor({parent:$,props:xt,presenceContext:bt,reducedMotionConfig:St,blockInitialAnimation:At,visualState:Ct},Et={}){this.resolveKeyframes=(ht,vt,Ft,Vt)=>new this.KeyframeResolver(ht,vt,Ft,Vt,this),this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=KeyframeResolver,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.scheduleRender=()=>frame.render(this.render,!1,!0);const{latestValues:Pt,renderState:wt}=Ct;this.latestValues=Pt,this.baseTarget={...Pt},this.initialValues=xt.initial?{...Pt}:{},this.renderState=wt,this.parent=$,this.props=xt,this.presenceContext=bt,this.depth=$?$.depth+1:0,this.reducedMotionConfig=St,this.options=Et,this.blockInitialAnimation=!!At,this.isControllingVariants=isControllingVariants(xt),this.isVariantNode=isVariantNode(xt),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!($&&$.current);const{willChange:kt,..._t}=this.scrapeMotionValuesFromProps(xt,{},this);for(const ht in _t){const vt=_t[ht];Pt[ht]!==void 0&&isMotionValue(vt)&&(vt.set(Pt[ht],!1),isWillChangeMotionValue(kt)&&kt.add(ht))}}mount($){this.current=$,visualElementStore.set($,this),this.projection&&!this.projection.instance&&this.projection.mount($),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((xt,bt)=>this.bindToMotionValue(bt,xt)),hasReducedMotionListener.current||initPrefersReducedMotion(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:prefersReducedMotion.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){visualElementStore.delete(this.current),this.projection&&this.projection.unmount(),cancelFrame(this.notifyUpdate),cancelFrame(this.render),this.valueSubscriptions.forEach($=>$()),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const $ in this.events)this.events[$].clear();for(const $ in this.features){const xt=this.features[$];xt&&(xt.unmount(),xt.isMounted=!1)}this.current=null}bindToMotionValue($,xt){const bt=transformProps.has($),St=xt.on("change",Ct=>{this.latestValues[$]=Ct,this.props.onUpdate&&frame.preRender(this.notifyUpdate),bt&&this.projection&&(this.projection.isTransformDirty=!0)}),At=xt.on("renderRequest",this.scheduleRender);this.valueSubscriptions.set($,()=>{St(),At(),xt.owner&&xt.stop()})}sortNodePosition($){return!this.current||!this.sortInstanceNodePosition||this.type!==$.type?0:this.sortInstanceNodePosition(this.current,$.current)}updateFeatures(){let $="animation";for($ in featureDefinitions){const xt=featureDefinitions[$];if(!xt)continue;const{isEnabled:bt,Feature:St}=xt;if(!this.features[$]&&St&&bt(this.props)&&(this.features[$]=new St(this)),this.features[$]){const At=this.features[$];At.isMounted?At.update():(At.mount(),At.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.options,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):createBox()}getStaticValue($){return this.latestValues[$]}setStaticValue($,xt){this.latestValues[$]=xt}update($,xt){($.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=$,this.prevPresenceContext=this.presenceContext,this.presenceContext=xt;for(let bt=0;bt<propEventHandlers.length;bt++){const St=propEventHandlers[bt];this.propEventSubscriptions[St]&&(this.propEventSubscriptions[St](),delete this.propEventSubscriptions[St]);const At="on"+St,Ct=$[At];Ct&&(this.propEventSubscriptions[St]=this.on(St,Ct))}this.prevMotionValues=updateMotionValuesFromProps(this,this.scrapeMotionValuesFromProps($,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant($){return this.props.variants?this.props.variants[$]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}getVariantContext($=!1){if($)return this.parent?this.parent.getVariantContext():void 0;if(!this.isControllingVariants){const bt=this.parent?this.parent.getVariantContext()||{}:{};return this.props.initial!==void 0&&(bt.initial=this.props.initial),bt}const xt={};for(let bt=0;bt<numVariantProps;bt++){const St=variantProps[bt],At=this.props[St];(isVariantLabel(At)||At===!1)&&(xt[St]=At)}return xt}addVariantChild($){const xt=this.getClosestVariantNode();if(xt)return xt.variantChildren&&xt.variantChildren.add($),()=>xt.variantChildren.delete($)}addValue($,xt){const bt=this.values.get($);xt!==bt&&(bt&&this.removeValue($),this.bindToMotionValue($,xt),this.values.set($,xt),this.latestValues[$]=xt.get())}removeValue($){this.values.delete($);const xt=this.valueSubscriptions.get($);xt&&(xt(),this.valueSubscriptions.delete($)),delete this.latestValues[$],this.removeValueFromRenderState($,this.renderState)}hasValue($){return this.values.has($)}getValue($,xt){if(this.props.values&&this.props.values[$])return this.props.values[$];let bt=this.values.get($);return bt===void 0&&xt!==void 0&&(bt=motionValue(xt===null?void 0:xt,{owner:this}),this.addValue($,bt)),bt}readValue($,xt){var bt;let St=this.latestValues[$]!==void 0||!this.current?this.latestValues[$]:(bt=this.getBaseTargetFromProps(this.props,$))!==null&&bt!==void 0?bt:this.readValueFromInstance(this.current,$,this.options);return St!=null&&(typeof St=="string"&&(isNumericalString(St)||isZeroValueString(St))?St=parseFloat(St):!findValueType(St)&&complex.test(xt)&&(St=getAnimatableNone($,xt)),this.setBaseTarget($,isMotionValue(St)?St.get():St)),isMotionValue(St)?St.get():St}setBaseTarget($,xt){this.baseTarget[$]=xt}getBaseTarget($){var xt;const{initial:bt}=this.props;let St;if(typeof bt=="string"||typeof bt=="object"){const Ct=resolveVariantFromProps(this.props,bt,(xt=this.presenceContext)===null||xt===void 0?void 0:xt.custom);Ct&&(St=Ct[$])}if(bt&&St!==void 0)return St;const At=this.getBaseTargetFromProps(this.props,$);return At!==void 0&&!isMotionValue(At)?At:this.initialValues[$]!==void 0&&St===void 0?void 0:this.baseTarget[$]}on($,xt){return this.events[$]||(this.events[$]=new SubscriptionManager),this.events[$].add(xt)}notify($,...xt){this.events[$]&&this.events[$].notify(...xt)}}class DOMVisualElement extends VisualElement{constructor(){super(...arguments),this.KeyframeResolver=DOMKeyframesResolver}sortInstanceNodePosition($,xt){return $.compareDocumentPosition(xt)&2?1:-1}getBaseTargetFromProps($,xt){return $.style?$.style[xt]:void 0}removeValueFromRenderState($,{vars:xt,style:bt}){delete xt[$],delete bt[$]}}function getComputedStyle$1(_e){return window.getComputedStyle(_e)}class HTMLVisualElement extends DOMVisualElement{constructor(){super(...arguments),this.type="html"}readValueFromInstance($,xt){if(transformProps.has(xt)){const bt=getDefaultValueType(xt);return bt&&bt.default||0}else{const bt=getComputedStyle$1($),St=(isCSSVariableName(xt)?bt.getPropertyValue(xt):bt[xt])||0;return typeof St=="string"?St.trim():St}}measureInstanceViewportBox($,{transformPagePoint:xt}){return measureViewportBox($,xt)}build($,xt,bt,St){buildHTMLStyles($,xt,bt,St.transformTemplate)}scrapeMotionValuesFromProps($,xt,bt){return scrapeMotionValuesFromProps$1($,xt,bt)}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:$}=this.props;isMotionValue($)&&(this.childSubscription=$.on("change",xt=>{this.current&&(this.current.textContent=`${xt}`)}))}renderInstance($,xt,bt,St){renderHTML($,xt,bt,St)}}class SVGVisualElement extends DOMVisualElement{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1}getBaseTargetFromProps($,xt){return $[xt]}readValueFromInstance($,xt){if(transformProps.has(xt)){const bt=getDefaultValueType(xt);return bt&&bt.default||0}return xt=camelCaseAttributes.has(xt)?xt:camelToDash(xt),$.getAttribute(xt)}measureInstanceViewportBox(){return createBox()}scrapeMotionValuesFromProps($,xt,bt){return scrapeMotionValuesFromProps($,xt,bt)}build($,xt,bt,St){buildSVGAttrs($,xt,bt,this.isSVGTag,St.transformTemplate)}renderInstance($,xt,bt,St){renderSVG($,xt,bt,St)}mount($){this.isSVGTag=isSVGTag($.tagName),super.mount($)}}const createDomVisualElement=(_e,$)=>isSVGComponent(_e)?new SVGVisualElement($,{enableHardwareAcceleration:!1}):new HTMLVisualElement($,{allowProjection:_e!==reactExports.Fragment,enableHardwareAcceleration:!0}),layout={layout:{ProjectionNode:HTMLProjectionNode,MeasureLayout}},preloadedFeatures={...animations,...gestureAnimations,...drag,...layout},motion=createMotionProxy((_e,$)=>createDomMotionConfig(_e,$,preloadedFeatures,createDomVisualElement));function useIsMounted(){const _e=reactExports.useRef(!1);return useIsomorphicLayoutEffect(()=>(_e.current=!0,()=>{_e.current=!1}),[]),_e}function useForceUpdate(){const _e=useIsMounted(),[$,xt]=reactExports.useState(0),bt=reactExports.useCallback(()=>{_e.current&&xt($+1)},[$]);return[reactExports.useCallback(()=>frame.postRender(bt),[bt]),$]}class PopChildMeasure extends reactExports.Component{getSnapshotBeforeUpdate($){const xt=this.props.childRef.current;if(xt&&$.isPresent&&!this.props.isPresent){const bt=this.props.sizeRef.current;bt.height=xt.offsetHeight||0,bt.width=xt.offsetWidth||0,bt.top=xt.offsetTop,bt.left=xt.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function PopChild({children:_e,isPresent:$}){const xt=reactExports.useId(),bt=reactExports.useRef(null),St=reactExports.useRef({width:0,height:0,top:0,left:0}),{nonce:At}=reactExports.useContext(MotionConfigContext);return reactExports.useInsertionEffect(()=>{const{width:Ct,height:Et,top:Pt,left:wt}=St.current;if($||!bt.current||!Ct||!Et)return;bt.current.dataset.motionPopId=xt;const kt=document.createElement("style");return At&&(kt.nonce=At),document.head.appendChild(kt),kt.sheet&&kt.sheet.insertRule(`
          [data-motion-pop-id="${xt}"] {
            position: absolute !important;
            width: ${Ct}px !important;
            height: ${Et}px !important;
            top: ${Pt}px !important;
            left: ${wt}px !important;
          }
        `),()=>{document.head.removeChild(kt)}},[$]),jsxRuntimeExports.jsx(PopChildMeasure,{isPresent:$,childRef:bt,sizeRef:St,children:reactExports.cloneElement(_e,{ref:bt})})}const PresenceChild=({children:_e,initial:$,isPresent:xt,onExitComplete:bt,custom:St,presenceAffectsLayout:At,mode:Ct})=>{const Et=useConstant(newChildrenMap),Pt=reactExports.useId(),wt=reactExports.useMemo(()=>({id:Pt,initial:$,isPresent:xt,custom:St,onExitComplete:kt=>{Et.set(kt,!0);for(const _t of Et.values())if(!_t)return;bt&&bt()},register:kt=>(Et.set(kt,!1),()=>Et.delete(kt))}),At?[Math.random()]:[xt]);return reactExports.useMemo(()=>{Et.forEach((kt,_t)=>Et.set(_t,!1))},[xt]),reactExports.useEffect(()=>{!xt&&!Et.size&&bt&&bt()},[xt]),Ct==="popLayout"&&(_e=jsxRuntimeExports.jsx(PopChild,{isPresent:xt,children:_e})),jsxRuntimeExports.jsx(PresenceContext.Provider,{value:wt,children:_e})};function newChildrenMap(){return new Map}function useUnmountEffect(_e){return reactExports.useEffect(()=>()=>_e(),[])}const getChildKey=_e=>_e.key||"";function updateChildLookup(_e,$){_e.forEach(xt=>{const bt=getChildKey(xt);$.set(bt,xt)})}function onlyElements(_e){const $=[];return reactExports.Children.forEach(_e,xt=>{reactExports.isValidElement(xt)&&$.push(xt)}),$}const AnimatePresence=({children:_e,custom:$,initial:xt=!0,onExitComplete:bt,exitBeforeEnter:St,presenceAffectsLayout:At=!0,mode:Ct="sync"})=>{const Et=reactExports.useContext(LayoutGroupContext).forceRender||useForceUpdate()[0],Pt=useIsMounted(),wt=onlyElements(_e);let kt=wt;const _t=reactExports.useRef(new Map).current,ht=reactExports.useRef(kt),vt=reactExports.useRef(new Map).current,Ft=reactExports.useRef(!0);if(useIsomorphicLayoutEffect(()=>{Ft.current=!1,updateChildLookup(wt,vt),ht.current=kt}),useUnmountEffect(()=>{Ft.current=!0,vt.clear(),_t.clear()}),Ft.current)return jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:kt.map($t=>jsxRuntimeExports.jsx(PresenceChild,{isPresent:!0,initial:xt?void 0:!1,presenceAffectsLayout:At,mode:Ct,children:$t},getChildKey($t)))});kt=[...kt];const Vt=ht.current.map(getChildKey),qt=wt.map(getChildKey),Lt=Vt.length;for(let $t=0;$t<Lt;$t++){const Ot=Vt[$t];qt.indexOf(Ot)===-1&&!_t.has(Ot)&&_t.set(Ot,void 0)}return Ct==="wait"&&_t.size&&(kt=[]),_t.forEach(($t,Ot)=>{if(qt.indexOf(Ot)!==-1)return;const jt=vt.get(Ot);if(!jt)return;const Rt=Vt.indexOf(Ot);let Kt=$t;if(!Kt){const Bt=()=>{_t.delete(Ot);const Gt=Array.from(vt.keys()).filter(en=>!qt.includes(en));if(Gt.forEach(en=>vt.delete(en)),ht.current=wt.filter(en=>{const hn=getChildKey(en);return hn===Ot||Gt.includes(hn)}),!_t.size){if(Pt.current===!1)return;Et(),bt&&bt()}};Kt=jsxRuntimeExports.jsx(PresenceChild,{isPresent:!1,onExitComplete:Bt,custom:$,presenceAffectsLayout:At,mode:Ct,children:jt},getChildKey(jt)),_t.set(Ot,Kt)}kt.splice(Rt,0,Kt)}),kt=kt.map($t=>{const Ot=$t.key;return _t.has(Ot)?$t:jsxRuntimeExports.jsx(PresenceChild,{isPresent:!0,presenceAffectsLayout:At,mode:Ct,children:$t},getChildKey($t))}),jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:_t.size?kt:kt.map($t=>reactExports.cloneElement($t))})};/**
 * @license lucide-react v0.403.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const toKebabCase=_e=>_e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),mergeClasses=(..._e)=>_e.filter(($,xt,bt)=>!!$&&bt.indexOf($)===xt).join(" ");/**
 * @license lucide-react v0.403.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var defaultAttributes={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.403.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Icon=reactExports.forwardRef(({color:_e="currentColor",size:$=24,strokeWidth:xt=2,absoluteStrokeWidth:bt,className:St="",children:At,iconNode:Ct,...Et},Pt)=>reactExports.createElement("svg",{ref:Pt,...defaultAttributes,width:$,height:$,stroke:_e,strokeWidth:bt?Number(xt)*24/Number($):xt,className:mergeClasses("lucide",St),...Et},[...Ct.map(([wt,kt])=>reactExports.createElement(wt,kt)),...Array.isArray(At)?At:[At]]));/**
 * @license lucide-react v0.403.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const createLucideIcon=(_e,$)=>{const xt=reactExports.forwardRef(({className:bt,...St},At)=>reactExports.createElement(Icon,{ref:At,iconNode:$,className:mergeClasses(`lucide-${toKebabCase(_e)}`,bt),...St}));return xt.displayName=`${_e}`,xt};/**
 * @license lucide-react v0.403.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CircleCheckBig=createLucideIcon("CircleCheckBig",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.403.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CircleX=createLucideIcon("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.403.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FileText=createLucideIcon("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.403.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LineChart=createLucideIcon("LineChart",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"m19 9-5 5-4-4-3 3",key:"2osh9i"}]]);/**
 * @license lucide-react v0.403.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LoaderCircle=createLucideIcon("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.403.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TriangleAlert=createLucideIcon("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.403.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const User=createLucideIcon("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]),ProcessingPopup=_e=>_e.isOpen?jsxRuntimeExports.jsx(motion.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50 backdrop-blur-sm",children:jsxRuntimeExports.jsxs(motion.div,{initial:{scale:.9,y:20},animate:{scale:1,y:0},className:"bg-white rounded-lg shadow-2xl p-8 w-96 max-w-full",children:[jsxRuntimeExports.jsx(motion.div,{animate:{rotate:360},transition:{duration:2,repeat:1/0,ease:"linear"},className:"w-20 h-20 mx-auto mb-6",children:jsxRuntimeExports.jsx(LoaderCircle,{className:"w-full h-full text-blue-500"})}),jsxRuntimeExports.jsx("h2",{className:"text-2xl font-bold text-center mb-4",children:"Processing PDF"}),jsxRuntimeExports.jsx("p",{className:"text-gray-600 text-center mb-6",children:"Please wait while we analyze your test report PDF."}),jsxRuntimeExports.jsxs("div",{className:"flex justify-around mb-6",children:[jsxRuntimeExports.jsxs(motion.div,{whileHover:{scale:1.1},className:"flex flex-col items-center",children:[jsxRuntimeExports.jsx(FileText,{className:"w-8 h-8 text-blue-500 mb-2"}),jsxRuntimeExports.jsx("span",{className:"text-sm",children:"Analyzing"})]}),jsxRuntimeExports.jsxs(motion.div,{whileHover:{scale:1.1},className:"flex flex-col items-center",children:[jsxRuntimeExports.jsx(TriangleAlert,{className:"w-8 h-8 text-yellow-500 mb-2"}),jsxRuntimeExports.jsx("span",{className:"text-sm",children:"Precautions"})]}),jsxRuntimeExports.jsxs(motion.div,{whileHover:{scale:1.1},className:"flex flex-col items-center",children:[jsxRuntimeExports.jsx(LineChart,{className:"w-8 h-8 text-green-500 mb-2"}),jsxRuntimeExports.jsx("span",{className:"text-sm",children:"Predictions"})]})]}),jsxRuntimeExports.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2.5 dark:bg-gray-700",children:jsxRuntimeExports.jsx(motion.div,{className:"bg-blue-600 h-2.5 rounded-full",initial:{width:"0%"},animate:{width:"100%"},transition:{duration:3,repeat:1/0}})})]})}):null,ResultPopup=_e=>{const $=()=>{_e.setOpenResult(!1)};return jsxRuntimeExports.jsx(AnimatePresence,{children:_e.openResult&&jsxRuntimeExports.jsx(motion.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50 backdrop-blur-sm",children:jsxRuntimeExports.jsxs(motion.div,{initial:{scale:.9,y:20},animate:{scale:1,y:0},exit:{scale:.9,y:20},className:"bg-white rounded-lg shadow-2xl p-8 w-96 max-w-full",children:[jsxRuntimeExports.jsx(motion.div,{initial:{scale:0},animate:{scale:1},transition:{type:"spring",stiffness:260,damping:20},className:"w-24 h-24 mx-auto mb-6",children:_e.isValid?jsxRuntimeExports.jsx(CircleX,{className:"w-full h-full text-red-500"}):jsxRuntimeExports.jsx(CircleCheckBig,{className:"w-full h-full text-green-500"})}),jsxRuntimeExports.jsx("h2",{className:"text-2xl font-bold text-center mb-4",children:_e.isValid?"Invalid PDF":"Upload Successful!"}),jsxRuntimeExports.jsx("p",{className:"text-gray-600 text-center mb-6",children:_e.isValid?"The file you uploaded is not a valid PDF. Please try again with a valid PDF file.":"Your report has been successfully uploaded and processed."}),jsxRuntimeExports.jsx("div",{className:"flex justify-center space-x-4",children:jsxRuntimeExports.jsx(motion.button,{whileHover:{scale:1.05},whileTap:{scale:.95},className:"flex items-center px-4 py-2 bg-gray-300 text-gray-700 rounded-full shadow-lg hover:bg-gray-400 transition-colors duration-300",onClick:$,children:"Close"})})]})})})};function Profile(_e){const[$,xt]=reactExports.useState(_e.id),[bt,St]=reactExports.useState();reactExports.useState(""),reactExports.useState(null),reactExports.useState(0),reactExports.useState(null),reactExports.useState(null),reactExports.useState(null);const[At,Ct]=reactExports.useState(null),[Et,Pt]=reactExports.useState(!1),[wt,kt]=reactExports.useState(!1),[_t,ht]=reactExports.useState(null),vt=useNavigate();async function Ft(){const jt=await axios.get(`/en/getpatient/${$}`);St(jt.data)}async function Vt(){console.log("hi");const jt=await axios.get(`/en/getdates/${$}`);Ct(jt.data)}reactExports.useEffect(()=>{Ft(),Vt()},[$]);const qt=jt=>{const Rt=new Date,Kt=new Date(jt);let Bt=Rt.getFullYear()-Kt.getFullYear();const Gt=Rt.getMonth()-Kt.getMonth();return(Gt<0||Gt===0&&Rt.getDate()<Kt.getDate())&&Bt--,Bt},Lt=()=>{vt("/edit",{state:{patientData:bt}})},$t=async jt=>{Pt(!0);const Rt=jt.target.files[0];if(Rt){const Kt=new FileReader;Kt.onloadend=async()=>{const Bt=Kt.result.split(",")[1],Gt=jt.target.value.replace("C:\\fakepath\\","");try{console.log("hi"),(await axios.post("/en/uploadpdf",{file:Bt,filename:Gt,patientId:$,name:bt.name})).data.data===!1?(Pt(!1),ht(!0),kt(!0)):(Pt(!1),ht(!1),kt(!0))}catch(en){console.log("Error uploading details:",en),Pt(!1),alert("File size too large or other issues.")}},Kt.readAsDataURL(Rt)}else console.log("No input file")},Ot=async jt=>{try{_e.isDoctor?vt("/doctoranalysis",{state:{id:jt,pid:$,isDoctor:_e.isDoctor,patientData:bt}}):vt("/caretakeranalysis",{state:{id:jt,pid:$,isDoctor:_e.isDoctor,patientData:bt}})}catch{}};return bt&&At&&jsxRuntimeExports.jsxs("div",{className:"px-40 flex flex-1 justify-center py-5",children:[jsxRuntimeExports.jsxs("div",{className:"layout-content-container flex flex-col max-w-[960px] flex-1",children:[jsxRuntimeExports.jsxs("div",{className:"relative flex p-4 @container",children:[jsxRuntimeExports.jsx("div",{className:`absolute top-2 right-2 ${_e.isDoctor?"hidden":""}`,children:jsxRuntimeExports.jsx("button",{className:"text-blue-500 hover:text-blue-700",onClick:Lt,children:jsxRuntimeExports.jsx(FaEdit,{size:20})})}),jsxRuntimeExports.jsx("div",{className:"flex w-full flex-col gap-4 @[520px]:flex-row @[520px]:justify-between @[520px]:items-center",children:jsxRuntimeExports.jsxs("div",{className:"flex gap-4 self-start",children:[jsxRuntimeExports.jsx("div",{className:"bg-gray-200 rounded-full w-32 h-32 flex items-center justify-center",children:jsxRuntimeExports.jsx(User,{className:"text-gray-500 w-20 h-20"})}),jsxRuntimeExports.jsxs("div",{className:"flex flex-col justify-center",children:[jsxRuntimeExports.jsx("p",{className:"text-[#0d151c] text-[22px] font-bold leading-tight tracking-[-0.015em]",children:bt.name}),jsxRuntimeExports.jsxs("p",{className:"text-[#49779c] text-base font-normal leading-normal",children:["Age ",qt(bt.DOB),", ",bt.gender,", Blood type: ",bt.bloodGroup]})]})]})})]}),jsxRuntimeExports.jsxs("div",{className:"flex gap-4 bg-slate-50 px-4 py-3",children:[jsxRuntimeExports.jsx("div",{className:"text-[#0d151c] flex items-center justify-center rounded-lg bg-[#e7eef4] shrink-0 size-12","data-icon":"User","data-size":"24px","data-weight":"regular",children:jsxRuntimeExports.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24px",height:"24px",fill:"currentColor",viewBox:"0 0 256 256",children:jsxRuntimeExports.jsx("path",{d:"M230.92,212c-15.23-26.33-38.7-45.21-66.09-54.16a72,72,0,1,0-73.66,0C63.78,166.78,40.31,185.66,25.08,212a8,8,0,1,0,13.85,8c18.84-32.56,52.14-52,89.07-52s70.23,19.44,89.07,52a8,8,0,1,0,13.85-8ZM72,96a56,56,0,1,1,56,56A56.06,56.06,0,0,1,72,96Z"})})}),jsxRuntimeExports.jsxs("div",{className:"flex flex-1 flex-col justify-center",children:[jsxRuntimeExports.jsx("p",{className:"text-[#0d151c] text-base font-medium leading-normal",children:"Patient Information"}),jsxRuntimeExports.jsxs("p",{className:"text-[#49779c] text-sm font-normal leading-normal",children:["Previous test reports: ",bt.reportsList.length]}),jsxRuntimeExports.jsxs("div",{className:"flex flex-col",children:[jsxRuntimeExports.jsx("p",{className:"text-[#49779c] text-sm font-medium leading-normal mb-2",children:"Known health conditions:"}),jsxRuntimeExports.jsx("div",{className:"flex flex-wrap gap-2",children:bt.chronics.map((jt,Rt)=>jsxRuntimeExports.jsx("span",{className:"px-2 py-1 bg-blue-100 text-blue-800 text-xs font-medium rounded-full",children:jt},Rt))})]})]})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-4 bg-slate-50 px-4 min-h-14 justify-between",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-4",children:[jsxRuntimeExports.jsx("div",{className:"text-[#0d151c] flex items-center justify-center rounded-lg bg-[#e7eef4] shrink-0 size-10","data-icon":"Phone","data-size":"24px","data-weight":"regular",children:jsxRuntimeExports.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24px",height:"24px",fill:"currentColor",viewBox:"0 0 256 256",children:jsxRuntimeExports.jsx("path",{d:"M222.37,158.46l-47.11-21.11-.13-.06a16,16,0,0,0-15.17,1.4,8.12,8.12,0,0,0-.75.56L134.87,160c-15.42-7.49-31.34-23.29-38.83-38.51l20.78-24.71c.2-.25.39-.5.57-.77a16,16,0,0,0,1.32-15.06l0-.12L97.54,33.64a16,16,0,0,0-16.62-9.52A56.26,56.26,0,0,0,32,80c0,79.4,64.6,144,144,144a56.26,56.26,0,0,0,55.88-48.92A16,16,0,0,0,222.37,158.46ZM176,208A128.14,128.14,0,0,1,48,80,40.2,40.2,0,0,1,82.87,40a.61.61,0,0,0,0,.12l21,47L83.2,111.86a6.13,6.13,0,0,0-.57.77,16,16,0,0,0-1,15.7c9.06,18.53,27.73,37.06,46.46,46.11a16,16,0,0,0,15.75-1.14,8.44,8.44,0,0,0,.74-.56L168.89,152l47,21.05h0s.08,0,.11,0A40.21,40.21,0,0,1,176,208Z"})})}),jsxRuntimeExports.jsx("p",{className:"text-[#0d151c] text-base font-normal leading-normal flex-1 truncate",children:"Contact Number"})]}),jsxRuntimeExports.jsx("div",{className:"shrink-0",children:jsxRuntimeExports.jsxs("p",{className:"text-[#0d151c] text-base font-normal leading-normal",children:["(+91) ",bt.phone]})})]}),jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-center px-4 pb-3 pt-5",children:[jsxRuntimeExports.jsx("h2",{className:"text-[#0d151c] text-[22px] font-bold leading-tight tracking-[-0.015em]",children:"Report History"}),jsxRuntimeExports.jsx("label",{htmlFor:"file-upload",className:`bg-blue-500 text-white px-4 py-2 rounded cursor-pointer ${_e.isDoctor?"hidden":""}`,children:"Upload Reports"}),jsxRuntimeExports.jsx("input",{id:"file-upload",type:"file",className:"hidden",onChange:$t})]}),jsxRuntimeExports.jsx("div",{children:At.map((jt,Rt)=>jsxRuntimeExports.jsxs("div",{onClick:()=>{Ot(jt.file)},className:"flex items-center gap-4 bg-slate-50 px-4 min-h-[72px] py-2 justify-between cursor-pointer hover:bg-slate-100 hover:scale-105 transition transform duration-300",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-4",children:[jsxRuntimeExports.jsx("div",{className:"text-[#0d151c] flex items-center justify-center rounded-lg bg-[#e7eef4] shrink-0 size-12","data-icon":"File","data-size":"24px","data-weight":"regular",children:jsxRuntimeExports.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24px",height:"24px",fill:"currentColor",viewBox:"0 0 256 256",children:jsxRuntimeExports.jsx("path",{d:"M213.66,82.34l-56-56A8,8,0,0,0,152,24H56A16,16,0,0,0,40,40V216a16,16,0,0,0,16,16H200a16,16,0,0,0,16-16V88A8,8,0,0,0,213.66,82.34ZM160,51.31,188.69,80H160ZM200,216H56V40h88V88a8,8,0,0,0,8,8h48V216Z"})})}),jsxRuntimeExports.jsxs("div",{className:"flex flex-col justify-center",children:[jsxRuntimeExports.jsx("p",{className:"text-[#0d151c] text-base font-medium leading-normal line-clamp-1",children:jt.date}),jsxRuntimeExports.jsx("p",{className:"text-[#49779c] text-sm font-normal leading-normal line-clamp-2",children:jt.specialistReq})]})]}),jsxRuntimeExports.jsx("div",{className:"shrink-0",children:jsxRuntimeExports.jsx("div",{className:"text-[#0d151c] flex size-7 items-center justify-center","data-icon":"CaretRight","data-size":"24px","data-weight":"regular",children:jsxRuntimeExports.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24px",height:"24px",fill:"currentColor",viewBox:"0 0 256 256",children:jsxRuntimeExports.jsx("path",{d:"M181.66,133.66l-80,80a8,8,0,0,1-11.32-11.32L164.69,128,90.34,53.66a8,8,0,0,1,11.32-11.32l80,80A8,8,0,0,1,181.66,133.66Z"})})})})]},Rt))})]}),Et&&jsxRuntimeExports.jsx(ProcessingPopup,{isOpen:Et}),wt&&jsxRuntimeExports.jsx(ResultPopup,{openResult:wt,setOpenResult:kt,isValid:_t})]})}function Patient(_e){const{state:$}=useLocation(),{id:xt}=$;return jsxRuntimeExports.jsx("div",{className:"relative flex size-full min-h-screen flex-col bg-slate-50 group/design-root overflow-x-hidden",style:{fontFamily:'Manrope, "Noto Sans", sans-serif;'},children:jsxRuntimeExports.jsxs("div",{className:"layout-container flex h-full grow flex-col",children:[jsxRuntimeExports.jsx(Navbar,{patient:!0,isDoctor:_e.isDoctor}),jsxRuntimeExports.jsx(Profile,{isDoctor:_e.isDoctor,id:xt})]})})}const Signin=({setIsDoctor:_e})=>{const[$,xt]=reactExports.useState(""),bt=useNavigate(),St=Ct=>{const Et=Ct.target.value;xt(Et),_e(Et==="doctor")},At=()=>{$?bt("/main"):alert("Please select a role before signing in.")};return jsxRuntimeExports.jsx("div",{className:"flex items-center justify-center min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100",children:jsxRuntimeExports.jsxs("div",{className:"flex w-full max-w-4xl h-[80vh] bg-white rounded-xl shadow-2xl overflow-hidden",children:[jsxRuntimeExports.jsxs("div",{className:"w-1/2 p-8 flex flex-col justify-center",children:[jsxRuntimeExports.jsx("h2",{className:"text-3xl font-bold text-center text-gray-800 mb-6",children:"Welcome to Saanjh Sahayak"}),jsxRuntimeExports.jsx("p",{className:"text-center text-gray-600 mb-8",children:"Please select if you are a doctor or a caretaker."}),jsxRuntimeExports.jsxs("div",{className:"space-y-6",children:[jsxRuntimeExports.jsxs("select",{className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all",value:$,onChange:St,children:[jsxRuntimeExports.jsx("option",{value:"",disabled:!0,children:"Select your role"}),jsxRuntimeExports.jsx("option",{value:"doctor",children:"Doctor"}),jsxRuntimeExports.jsx("option",{value:"caretaker",children:"Caretaker"})]}),jsxRuntimeExports.jsx("button",{className:`w-full py-3 rounded-lg transition-all ${$?"bg-blue-600 hover:bg-blue-700 text-white":"bg-gray-300 text-gray-500 cursor-not-allowed"}`,onClick:At,disabled:!$,children:"Sign in"})]})]}),jsxRuntimeExports.jsxs("div",{className:"w-1/2 bg-gradient-to-br from-blue-400 to-indigo-600 flex flex-col items-center justify-center p-8 relative overflow-hidden",children:[jsxRuntimeExports.jsx("div",{className:"text-4xl font-bold text-white mb-4 z-10",children:"Saanjh Sahayak"}),jsxRuntimeExports.jsx("p",{className:"text-xl text-blue-100 text-center mb-8 z-10",children:"Your Healthcare Companion"}),jsxRuntimeExports.jsxs("div",{className:"absolute top-0 left-0 w-full h-full",children:[jsxRuntimeExports.jsx("div",{className:"absolute w-48 h-48 bg-white opacity-10 rounded-full -top-12 -left-12 animate-pulse"}),jsxRuntimeExports.jsx("div",{className:"absolute w-72 h-72 bg-white opacity-10 rounded-full -bottom-16 -right-16 animate-pulse delay-1000"})]}),jsxRuntimeExports.jsx("svg",{className:"w-32 h-32 text-white animate-float z-10",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:jsxRuntimeExports.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z"})})]})]})})},NewSignin=()=>{const[_e,$]=reactExports.useState(null),xt=bt=>{$(bt)};return jsxRuntimeExports.jsx("div",{className:"relative flex items-center justify-center min-h-screen bg-slate-50",children:jsxRuntimeExports.jsxs("div",{className:"layout-container flex flex-col max-w-[960px] w-full px-6",children:[jsxRuntimeExports.jsxs("header",{className:"flex items-center justify-between border-b border-solid border-b-[#e7edf3] px-4 py-3",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-4 text-[#0e141b]",children:[jsxRuntimeExports.jsx("div",{className:"size-4",children:jsxRuntimeExports.jsx("svg",{viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:jsxRuntimeExports.jsx("path",{d:"M4 42.4379C4 42.4379 14.0962 36.0744 24 41.1692C35.0664 46.8624 44 42.2078 44 42.2078L44 7.01134C44 7.01134 35.068 11.6577 24.0031 5.96913C14.0971 0.876274 4 7.27094 4 7.27094L4 42.4379Z",fill:"currentColor"})})}),jsxRuntimeExports.jsx("h2",{className:"text-[#0e141b] text-lg font-bold leading-tight tracking-[-0.015em]",children:"HealthCo"})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-8",children:[jsxRuntimeExports.jsx("button",{className:"text-[#1980e6] text-sm font-medium leading-normal",onClick:()=>alert("Link to professionals"),children:"For professionals"}),jsxRuntimeExports.jsx("button",{className:"text-[#1980e6] text-sm font-medium leading-normal",onClick:()=>alert("Link to caretakers"),children:"For caretakers"})]})]}),jsxRuntimeExports.jsxs("div",{className:"flex flex-col items-center justify-center flex-1",children:[jsxRuntimeExports.jsx("h2",{className:"text-[#0e141b] tracking-light text-[28px] font-bold leading-tight pb-3",children:"Welcome to HealthCo"}),jsxRuntimeExports.jsx("button",{className:"bg-[#1980e6] text-slate-50 text-base font-bold leading-normal tracking-[0.015em] py-3 px-8 rounded-lg mb-6",onClick:()=>alert("Display user selection"),children:"Select User"}),_e===null&&jsxRuntimeExports.jsxs("div",{className:"flex gap-6",children:[jsxRuntimeExports.jsx("button",{className:"flex items-center justify-center bg-[#1980e6] text-slate-50 text-base font-bold leading-normal tracking-[0.015em] py-3 px-8 rounded-lg",onClick:()=>xt("doctor"),children:"Doctor"}),jsxRuntimeExports.jsx("button",{className:"flex items-center justify-center bg-[#1980e6] text-slate-50 text-base font-bold leading-normal tracking-[0.015em] py-3 px-8 rounded-lg",onClick:()=>xt("caretaker"),children:"Caretaker"})]}),_e&&jsxRuntimeExports.jsxs("div",{className:"text-[#0e141b] text-base font-normal leading-normal mt-4",children:["You are signed in as ",jsxRuntimeExports.jsx("strong",{children:_e}),"."]})]}),jsxRuntimeExports.jsx("footer",{className:"flex justify-center py-3",children:jsxRuntimeExports.jsx("p",{className:"text-[#4e7397] text-sm font-normal leading-normal",children:"By continuing, you agree to our Terms of Use and Privacy Policy"})})]})})},scriptRel="modulepreload",assetsURL=function(_e){return"/"+_e},seen={},__vitePreload=function($,xt,bt){let St=Promise.resolve();if(xt&&xt.length>0){document.getElementsByTagName("link");const At=document.querySelector("meta[property=csp-nonce]"),Ct=(At==null?void 0:At.nonce)||(At==null?void 0:At.getAttribute("nonce"));St=Promise.all(xt.map(Et=>{if(Et=assetsURL(Et),Et in seen)return;seen[Et]=!0;const Pt=Et.endsWith(".css"),wt=Pt?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${Et}"]${wt}`))return;const kt=document.createElement("link");if(kt.rel=Pt?"stylesheet":scriptRel,Pt||(kt.as="script",kt.crossOrigin=""),kt.href=Et,Ct&&kt.setAttribute("nonce",Ct),document.head.appendChild(kt),Pt)return new Promise((_t,ht)=>{kt.addEventListener("load",_t),kt.addEventListener("error",()=>ht(new Error(`Unable to preload CSS for ${Et}`)))})}))}return St.then(()=>$()).catch(At=>{const Ct=new Event("vite:preloadError",{cancelable:!0});if(Ct.payload=At,window.dispatchEvent(Ct),!Ct.defaultPrevented)throw At})};var __webpack_require__={};__webpack_require__.d=(_e,$)=>{for(var xt in $)__webpack_require__.o($,xt)&&!__webpack_require__.o(_e,xt)&&Object.defineProperty(_e,xt,{enumerable:!0,get:$[xt]})};__webpack_require__.o=(_e,$)=>Object.prototype.hasOwnProperty.call(_e,$);var __webpack_exports__=globalThis.pdfjsLib={};__webpack_require__.d(__webpack_exports__,{AbortException:()=>AbortException,AnnotationEditorLayer:()=>AnnotationEditorLayer,AnnotationEditorParamsType:()=>AnnotationEditorParamsType,AnnotationEditorType:()=>AnnotationEditorType,AnnotationEditorUIManager:()=>AnnotationEditorUIManager,AnnotationLayer:()=>AnnotationLayer,AnnotationMode:()=>AnnotationMode,CMapCompressionType:()=>CMapCompressionType,ColorPicker:()=>ColorPicker,DOMSVGFactory:()=>DOMSVGFactory,DrawLayer:()=>DrawLayer,FeatureTest:()=>util_FeatureTest,GlobalWorkerOptions:()=>GlobalWorkerOptions,ImageKind:()=>util_ImageKind,InvalidPDFException:()=>InvalidPDFException,MissingPDFException:()=>MissingPDFException,OPS:()=>OPS,Outliner:()=>Outliner,PDFDataRangeTransport:()=>PDFDataRangeTransport,PDFDateString:()=>PDFDateString,PDFWorker:()=>PDFWorker,PasswordResponses:()=>PasswordResponses,PermissionFlag:()=>PermissionFlag,PixelsPerInch:()=>PixelsPerInch,RenderingCancelledException:()=>RenderingCancelledException,TextLayer:()=>TextLayer,UnexpectedResponseException:()=>UnexpectedResponseException,Util:()=>Util,VerbosityLevel:()=>VerbosityLevel,XfaLayer:()=>XfaLayer,build:()=>build$1,createValidAbsoluteUrl:()=>createValidAbsoluteUrl,fetchData:()=>fetchData,getDocument:()=>getDocument,getFilenameFromUrl:()=>getFilenameFromUrl,getPdfFilenameFromUrl:()=>getPdfFilenameFromUrl,getXfaPageViewport:()=>getXfaPageViewport,isDataScheme:()=>isDataScheme,isPdfFile:()=>isPdfFile,noContextMenu:()=>noContextMenu,normalizeUnicode:()=>normalizeUnicode,renderTextLayer:()=>renderTextLayer,setLayerDimensions:()=>setLayerDimensions,shadow:()=>shadow,updateTextLayer:()=>updateTextLayer,version:()=>version});const isNodeJS=typeof process=="object"&&process+""=="[object process]"&&!process.versions.nw&&!(process.versions.electron&&process.type&&process.type!=="browser"),IDENTITY_MATRIX=[1,0,0,1,0,0],FONT_IDENTITY_MATRIX=[.001,0,0,.001,0,0],MAX_IMAGE_SIZE_TO_CACHE=1e7,LINE_FACTOR=1.35,RenderingIntentFlag={ANY:1,DISPLAY:2,PRINT:4,SAVE:8,ANNOTATIONS_FORMS:16,ANNOTATIONS_STORAGE:32,ANNOTATIONS_DISABLE:64,OPLIST:256},AnnotationMode={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3},AnnotationEditorPrefix="pdfjs_internal_editor_",AnnotationEditorType={DISABLE:-1,NONE:0,FREETEXT:3,HIGHLIGHT:9,STAMP:13,INK:15},AnnotationEditorParamsType={RESIZE:1,CREATE:2,FREETEXT_SIZE:11,FREETEXT_COLOR:12,FREETEXT_OPACITY:13,INK_COLOR:21,INK_THICKNESS:22,INK_OPACITY:23,HIGHLIGHT_COLOR:31,HIGHLIGHT_DEFAULT_COLOR:32,HIGHLIGHT_THICKNESS:33,HIGHLIGHT_FREE:34,HIGHLIGHT_SHOW_ALL:35},PermissionFlag={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048},TextRenderingMode={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_ADD_TO_PATH:4,STROKE_ADD_TO_PATH:5,FILL_STROKE_ADD_TO_PATH:6,ADD_TO_PATH:7,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4},util_ImageKind={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3},AnnotationType={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,SOUND:18,MOVIE:19,WIDGET:20,SCREEN:21,PRINTERMARK:22,TRAPNET:23,WATERMARK:24,THREED:25,REDACT:26},AnnotationBorderStyleType={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5},VerbosityLevel={ERRORS:0,WARNINGS:1,INFOS:5},CMapCompressionType={NONE:0,BINARY:1},OPS={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotation:80,endAnnotation:81,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91},PasswordResponses={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};let verbosity=VerbosityLevel.WARNINGS;function setVerbosityLevel(_e){Number.isInteger(_e)&&(verbosity=_e)}function getVerbosityLevel(){return verbosity}function info(_e){verbosity>=VerbosityLevel.INFOS&&console.log(`Info: ${_e}`)}function warn(_e){verbosity>=VerbosityLevel.WARNINGS&&console.log(`Warning: ${_e}`)}function unreachable(_e){throw new Error(_e)}function assert(_e,$){_e||unreachable($)}function _isValidProtocol(_e){switch(_e==null?void 0:_e.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}function createValidAbsoluteUrl(_e,$=null,xt=null){if(!_e)return null;try{if(xt&&typeof _e=="string"){if(xt.addDefaultProtocol&&_e.startsWith("www.")){const St=_e.match(/\./g);(St==null?void 0:St.length)>=2&&(_e=`http://${_e}`)}if(xt.tryConvertEncoding)try{_e=stringToUTF8String(_e)}catch{}}const bt=$?new URL(_e,$):new URL(_e);if(_isValidProtocol(bt))return bt}catch{}return null}function shadow(_e,$,xt,bt=!1){return Object.defineProperty(_e,$,{value:xt,enumerable:!bt,configurable:!0,writable:!1}),xt}const BaseException=function(){function $(xt,bt){this.constructor===$&&unreachable("Cannot initialize BaseException."),this.message=xt,this.name=bt}return $.prototype=new Error,$.constructor=$,$}();class PasswordException extends BaseException{constructor($,xt){super($,"PasswordException"),this.code=xt}}class UnknownErrorException extends BaseException{constructor($,xt){super($,"UnknownErrorException"),this.details=xt}}class InvalidPDFException extends BaseException{constructor($){super($,"InvalidPDFException")}}class MissingPDFException extends BaseException{constructor($){super($,"MissingPDFException")}}class UnexpectedResponseException extends BaseException{constructor($,xt){super($,"UnexpectedResponseException"),this.status=xt}}class FormatError extends BaseException{constructor($){super($,"FormatError")}}class AbortException extends BaseException{constructor($){super($,"AbortException")}}function bytesToString(_e){(typeof _e!="object"||(_e==null?void 0:_e.length)===void 0)&&unreachable("Invalid argument for bytesToString");const $=_e.length,xt=8192;if($<xt)return String.fromCharCode.apply(null,_e);const bt=[];for(let St=0;St<$;St+=xt){const At=Math.min(St+xt,$),Ct=_e.subarray(St,At);bt.push(String.fromCharCode.apply(null,Ct))}return bt.join("")}function stringToBytes(_e){typeof _e!="string"&&unreachable("Invalid argument for stringToBytes");const $=_e.length,xt=new Uint8Array($);for(let bt=0;bt<$;++bt)xt[bt]=_e.charCodeAt(bt)&255;return xt}function string32(_e){return String.fromCharCode(_e>>24&255,_e>>16&255,_e>>8&255,_e&255)}function objectFromMap(_e){const $=Object.create(null);for(const[xt,bt]of _e)$[xt]=bt;return $}function isLittleEndian(){const _e=new Uint8Array(4);return _e[0]=1,new Uint32Array(_e.buffer,0,1)[0]===1}function isEvalSupported(){try{return new Function(""),!0}catch{return!1}}class util_FeatureTest{static get isLittleEndian(){return shadow(this,"isLittleEndian",isLittleEndian())}static get isEvalSupported(){return shadow(this,"isEvalSupported",isEvalSupported())}static get isOffscreenCanvasSupported(){return shadow(this,"isOffscreenCanvasSupported",typeof OffscreenCanvas<"u")}static get platform(){return typeof navigator<"u"&&typeof(navigator==null?void 0:navigator.platform)=="string"?shadow(this,"platform",{isMac:navigator.platform.includes("Mac")}):shadow(this,"platform",{isMac:!1})}static get isCSSRoundSupported(){var $,xt;return shadow(this,"isCSSRoundSupported",(xt=($=globalThis.CSS)==null?void 0:$.supports)==null?void 0:xt.call($,"width: round(1.5px, 1px)"))}}const hexNumbers=Array.from(Array(256).keys(),_e=>_e.toString(16).padStart(2,"0"));var ju,e2,gy;class Util{static makeHexColor($,xt,bt){return`#${hexNumbers[$]}${hexNumbers[xt]}${hexNumbers[bt]}`}static scaleMinMax($,xt){let bt;$[0]?($[0]<0&&(bt=xt[0],xt[0]=xt[2],xt[2]=bt),xt[0]*=$[0],xt[2]*=$[0],$[3]<0&&(bt=xt[1],xt[1]=xt[3],xt[3]=bt),xt[1]*=$[3],xt[3]*=$[3]):(bt=xt[0],xt[0]=xt[1],xt[1]=bt,bt=xt[2],xt[2]=xt[3],xt[3]=bt,$[1]<0&&(bt=xt[1],xt[1]=xt[3],xt[3]=bt),xt[1]*=$[1],xt[3]*=$[1],$[2]<0&&(bt=xt[0],xt[0]=xt[2],xt[2]=bt),xt[0]*=$[2],xt[2]*=$[2]),xt[0]+=$[4],xt[1]+=$[5],xt[2]+=$[4],xt[3]+=$[5]}static transform($,xt){return[$[0]*xt[0]+$[2]*xt[1],$[1]*xt[0]+$[3]*xt[1],$[0]*xt[2]+$[2]*xt[3],$[1]*xt[2]+$[3]*xt[3],$[0]*xt[4]+$[2]*xt[5]+$[4],$[1]*xt[4]+$[3]*xt[5]+$[5]]}static applyTransform($,xt){const bt=$[0]*xt[0]+$[1]*xt[2]+xt[4],St=$[0]*xt[1]+$[1]*xt[3]+xt[5];return[bt,St]}static applyInverseTransform($,xt){const bt=xt[0]*xt[3]-xt[1]*xt[2],St=($[0]*xt[3]-$[1]*xt[2]+xt[2]*xt[5]-xt[4]*xt[3])/bt,At=(-$[0]*xt[1]+$[1]*xt[0]+xt[4]*xt[1]-xt[5]*xt[0])/bt;return[St,At]}static getAxialAlignedBoundingBox($,xt){const bt=this.applyTransform($,xt),St=this.applyTransform($.slice(2,4),xt),At=this.applyTransform([$[0],$[3]],xt),Ct=this.applyTransform([$[2],$[1]],xt);return[Math.min(bt[0],St[0],At[0],Ct[0]),Math.min(bt[1],St[1],At[1],Ct[1]),Math.max(bt[0],St[0],At[0],Ct[0]),Math.max(bt[1],St[1],At[1],Ct[1])]}static inverseTransform($){const xt=$[0]*$[3]-$[1]*$[2];return[$[3]/xt,-$[1]/xt,-$[2]/xt,$[0]/xt,($[2]*$[5]-$[4]*$[3])/xt,($[4]*$[1]-$[5]*$[0])/xt]}static singularValueDecompose2dScale($){const xt=[$[0],$[2],$[1],$[3]],bt=$[0]*xt[0]+$[1]*xt[2],St=$[0]*xt[1]+$[1]*xt[3],At=$[2]*xt[0]+$[3]*xt[2],Ct=$[2]*xt[1]+$[3]*xt[3],Et=(bt+Ct)/2,Pt=Math.sqrt((bt+Ct)**2-4*(bt*Ct-At*St))/2,wt=Et+Pt||1,kt=Et-Pt||1;return[Math.sqrt(wt),Math.sqrt(kt)]}static normalizeRect($){const xt=$.slice(0);return $[0]>$[2]&&(xt[0]=$[2],xt[2]=$[0]),$[1]>$[3]&&(xt[1]=$[3],xt[3]=$[1]),xt}static intersect($,xt){const bt=Math.max(Math.min($[0],$[2]),Math.min(xt[0],xt[2])),St=Math.min(Math.max($[0],$[2]),Math.max(xt[0],xt[2]));if(bt>St)return null;const At=Math.max(Math.min($[1],$[3]),Math.min(xt[1],xt[3])),Ct=Math.min(Math.max($[1],$[3]),Math.max(xt[1],xt[3]));return At>Ct?null:[bt,At,St,Ct]}static bezierBoundingBox($,xt,bt,St,At,Ct,Et,Pt,wt){return wt?(wt[0]=Math.min(wt[0],$,Et),wt[1]=Math.min(wt[1],xt,Pt),wt[2]=Math.max(wt[2],$,Et),wt[3]=Math.max(wt[3],xt,Pt)):wt=[Math.min($,Et),Math.min(xt,Pt),Math.max($,Et),Math.max(xt,Pt)],On(this,ju,gy).call(this,$,bt,At,Et,xt,St,Ct,Pt,3*(-$+3*(bt-At)+Et),6*($-2*bt+At),3*(bt-$),wt),On(this,ju,gy).call(this,$,bt,At,Et,xt,St,Ct,Pt,3*(-xt+3*(St-Ct)+Pt),6*(xt-2*St+Ct),3*(St-xt),wt),wt}}ju=new WeakSet,e2=function($,xt,bt,St,At,Ct,Et,Pt,wt,kt){if(wt<=0||wt>=1)return;const _t=1-wt,ht=wt*wt,vt=ht*wt,Ft=_t*(_t*(_t*$+3*wt*xt)+3*ht*bt)+vt*St,Vt=_t*(_t*(_t*At+3*wt*Ct)+3*ht*Et)+vt*Pt;kt[0]=Math.min(kt[0],Ft),kt[1]=Math.min(kt[1],Vt),kt[2]=Math.max(kt[2],Ft),kt[3]=Math.max(kt[3],Vt)},gy=function($,xt,bt,St,At,Ct,Et,Pt,wt,kt,_t,ht){if(Math.abs(wt)<1e-12){Math.abs(kt)>=1e-12&&On(this,ju,e2).call(this,$,xt,bt,St,At,Ct,Et,Pt,-_t/kt,ht);return}const vt=kt**2-4*_t*wt;if(vt<0)return;const Ft=Math.sqrt(vt),Vt=2*wt;On(this,ju,e2).call(this,$,xt,bt,St,At,Ct,Et,Pt,(-kt+Ft)/Vt,ht),On(this,ju,e2).call(this,$,xt,bt,St,At,Ct,Et,Pt,(-kt-Ft)/Vt,ht)},Nn(Util,ju);function stringToUTF8String(_e){return decodeURIComponent(escape(_e))}let NormalizeRegex=null,NormalizationMap=null;function normalizeUnicode(_e){return NormalizeRegex||(NormalizeRegex=/([\u00a0\u00b5\u037e\u0eb3\u2000-\u200a\u202f\u2126\ufb00-\ufb04\ufb06\ufb20-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufba1\ufba4-\ufba9\ufbae-\ufbb1\ufbd3-\ufbdc\ufbde-\ufbe7\ufbea-\ufbf8\ufbfc-\ufbfd\ufc00-\ufc5d\ufc64-\ufcf1\ufcf5-\ufd3d\ufd88\ufdf4\ufdfa-\ufdfb\ufe71\ufe77\ufe79\ufe7b\ufe7d]+)|(\ufb05+)/gu,NormalizationMap=new Map([["","t"]])),_e.replaceAll(NormalizeRegex,($,xt,bt)=>xt?xt.normalize("NFKC"):NormalizationMap.get(bt))}function getUuid(){if(typeof crypto<"u"&&typeof(crypto==null?void 0:crypto.randomUUID)=="function")return crypto.randomUUID();const _e=new Uint8Array(32);if(typeof crypto<"u"&&typeof(crypto==null?void 0:crypto.getRandomValues)=="function")crypto.getRandomValues(_e);else for(let $=0;$<32;$++)_e[$]=Math.floor(Math.random()*255);return bytesToString(_e)}const AnnotationPrefix="pdfjs_internal_id_",FontRenderOps={BEZIER_CURVE_TO:0,MOVE_TO:1,LINE_TO:2,QUADRATIC_CURVE_TO:3,RESTORE:4,SAVE:5,SCALE:6,TRANSFORM:7,TRANSLATE:8};class BaseFilterFactory{constructor(){this.constructor===BaseFilterFactory&&unreachable("Cannot initialize BaseFilterFactory.")}addFilter($){return"none"}addHCMFilter($,xt){return"none"}addAlphaFilter($){return"none"}addLuminosityFilter($){return"none"}addHighlightHCMFilter($,xt,bt,St,At){return"none"}destroy($=!1){}}class BaseCanvasFactory{constructor(){this.constructor===BaseCanvasFactory&&unreachable("Cannot initialize BaseCanvasFactory.")}create($,xt){if($<=0||xt<=0)throw new Error("Invalid canvas size");const bt=this._createCanvas($,xt);return{canvas:bt,context:bt.getContext("2d")}}reset($,xt,bt){if(!$.canvas)throw new Error("Canvas is not specified");if(xt<=0||bt<=0)throw new Error("Invalid canvas size");$.canvas.width=xt,$.canvas.height=bt}destroy($){if(!$.canvas)throw new Error("Canvas is not specified");$.canvas.width=0,$.canvas.height=0,$.canvas=null,$.context=null}_createCanvas($,xt){unreachable("Abstract method `_createCanvas` called.")}}class BaseCMapReaderFactory{constructor({baseUrl:$=null,isCompressed:xt=!0}){this.constructor===BaseCMapReaderFactory&&unreachable("Cannot initialize BaseCMapReaderFactory."),this.baseUrl=$,this.isCompressed=xt}async fetch({name:$}){if(!this.baseUrl)throw new Error('The CMap "baseUrl" parameter must be specified, ensure that the "cMapUrl" and "cMapPacked" API parameters are provided.');if(!$)throw new Error("CMap name must be specified.");const xt=this.baseUrl+$+(this.isCompressed?".bcmap":""),bt=this.isCompressed?CMapCompressionType.BINARY:CMapCompressionType.NONE;return this._fetchData(xt,bt).catch(St=>{throw new Error(`Unable to load ${this.isCompressed?"binary ":""}CMap at: ${xt}`)})}_fetchData($,xt){unreachable("Abstract method `_fetchData` called.")}}class BaseStandardFontDataFactory{constructor({baseUrl:$=null}){this.constructor===BaseStandardFontDataFactory&&unreachable("Cannot initialize BaseStandardFontDataFactory."),this.baseUrl=$}async fetch({filename:$}){if(!this.baseUrl)throw new Error('The standard font "baseUrl" parameter must be specified, ensure that the "standardFontDataUrl" API parameter is provided.');if(!$)throw new Error("Font filename must be specified.");const xt=`${this.baseUrl}${$}`;return this._fetchData(xt).catch(bt=>{throw new Error(`Unable to load font data at: ${xt}`)})}_fetchData($){unreachable("Abstract method `_fetchData` called.")}}class BaseSVGFactory{constructor(){this.constructor===BaseSVGFactory&&unreachable("Cannot initialize BaseSVGFactory.")}create($,xt,bt=!1){if($<=0||xt<=0)throw new Error("Invalid SVG dimensions");const St=this._createSVG("svg:svg");return St.setAttribute("version","1.1"),bt||(St.setAttribute("width",`${$}px`),St.setAttribute("height",`${xt}px`)),St.setAttribute("preserveAspectRatio","none"),St.setAttribute("viewBox",`0 0 ${$} ${xt}`),St}createElement($){if(typeof $!="string")throw new Error("Invalid SVG element type");return this._createSVG($)}_createSVG($){unreachable("Abstract method `_createSVG` called.")}}const SVG_NS="http://www.w3.org/2000/svg",_0=class _0{};Us(_0,"CSS",96),Us(_0,"PDF",72),Us(_0,"PDF_TO_CSS_UNITS",_0.CSS/_0.PDF);let PixelsPerInch=_0;var I0,Xl,gu,Uo,V2,O0,cr,Mo,Dp,Lp,t2,g9,my,Np,Y1,Z1,xy,J1;class DOMFilterFactory extends BaseFilterFactory{constructor({docId:xt,ownerDocument:bt=globalThis.document}={}){super();Nn(this,cr);Nn(this,I0);Nn(this,Xl);Nn(this,gu);Nn(this,Uo);Nn(this,V2);Nn(this,O0,0);$n(this,gu,xt),$n(this,Uo,bt)}addFilter(xt){if(!xt)return"none";let bt=Dt(this,cr,Mo).get(xt);if(bt)return bt;const[St,At,Ct]=On(this,cr,t2).call(this,xt),Et=xt.length===1?St:`${St}${At}${Ct}`;if(bt=Dt(this,cr,Mo).get(Et),bt)return Dt(this,cr,Mo).set(xt,bt),bt;const Pt=`g_${Dt(this,gu)}_transfer_map_${Ao(this,O0)._++}`,wt=`url(#${Pt})`;Dt(this,cr,Mo).set(xt,wt),Dt(this,cr,Mo).set(Et,wt);const kt=On(this,cr,Np).call(this,Pt);return On(this,cr,Z1).call(this,St,At,Ct,kt),wt}addHCMFilter(xt,bt){var Ft;const St=`${xt}-${bt}`,At="base";let Ct=Dt(this,cr,Dp).get(At);if((Ct==null?void 0:Ct.key)===St||(Ct?((Ft=Ct.filter)==null||Ft.remove(),Ct.key=St,Ct.url="none",Ct.filter=null):(Ct={key:St,url:"none",filter:null},Dt(this,cr,Dp).set(At,Ct)),!xt||!bt))return Ct.url;const Et=On(this,cr,J1).call(this,xt);xt=Util.makeHexColor(...Et);const Pt=On(this,cr,J1).call(this,bt);if(bt=Util.makeHexColor(...Pt),Dt(this,cr,Lp).style.color="",xt==="#000000"&&bt==="#ffffff"||xt===bt)return Ct.url;const wt=new Array(256);for(let Vt=0;Vt<=255;Vt++){const qt=Vt/255;wt[Vt]=qt<=.03928?qt/12.92:((qt+.055)/1.055)**2.4}const kt=wt.join(","),_t=`g_${Dt(this,gu)}_hcm_filter`,ht=Ct.filter=On(this,cr,Np).call(this,_t);On(this,cr,Z1).call(this,kt,kt,kt,ht),On(this,cr,my).call(this,ht);const vt=(Vt,qt)=>{const Lt=Et[Vt]/255,$t=Pt[Vt]/255,Ot=new Array(qt+1);for(let jt=0;jt<=qt;jt++)Ot[jt]=Lt+jt/qt*($t-Lt);return Ot.join(",")};return On(this,cr,Z1).call(this,vt(0,5),vt(1,5),vt(2,5),ht),Ct.url=`url(#${_t})`,Ct.url}addAlphaFilter(xt){let bt=Dt(this,cr,Mo).get(xt);if(bt)return bt;const[St]=On(this,cr,t2).call(this,[xt]),At=`alpha_${St}`;if(bt=Dt(this,cr,Mo).get(At),bt)return Dt(this,cr,Mo).set(xt,bt),bt;const Ct=`g_${Dt(this,gu)}_alpha_map_${Ao(this,O0)._++}`,Et=`url(#${Ct})`;Dt(this,cr,Mo).set(xt,Et),Dt(this,cr,Mo).set(At,Et);const Pt=On(this,cr,Np).call(this,Ct);return On(this,cr,xy).call(this,St,Pt),Et}addLuminosityFilter(xt){let bt=Dt(this,cr,Mo).get(xt||"luminosity");if(bt)return bt;let St,At;if(xt?([St]=On(this,cr,t2).call(this,[xt]),At=`luminosity_${St}`):At="luminosity",bt=Dt(this,cr,Mo).get(At),bt)return Dt(this,cr,Mo).set(xt,bt),bt;const Ct=`g_${Dt(this,gu)}_luminosity_map_${Ao(this,O0)._++}`,Et=`url(#${Ct})`;Dt(this,cr,Mo).set(xt,Et),Dt(this,cr,Mo).set(At,Et);const Pt=On(this,cr,Np).call(this,Ct);return On(this,cr,g9).call(this,Pt),xt&&On(this,cr,xy).call(this,St,Pt),Et}addHighlightHCMFilter(xt,bt,St,At,Ct){var $t;const Et=`${bt}-${St}-${At}-${Ct}`;let Pt=Dt(this,cr,Dp).get(xt);if((Pt==null?void 0:Pt.key)===Et||(Pt?(($t=Pt.filter)==null||$t.remove(),Pt.key=Et,Pt.url="none",Pt.filter=null):(Pt={key:Et,url:"none",filter:null},Dt(this,cr,Dp).set(xt,Pt)),!bt||!St))return Pt.url;const[wt,kt]=[bt,St].map(On(this,cr,J1).bind(this));let _t=Math.round(.2126*wt[0]+.7152*wt[1]+.0722*wt[2]),ht=Math.round(.2126*kt[0]+.7152*kt[1]+.0722*kt[2]),[vt,Ft]=[At,Ct].map(On(this,cr,J1).bind(this));ht<_t&&([_t,ht,vt,Ft]=[ht,_t,Ft,vt]),Dt(this,cr,Lp).style.color="";const Vt=(Ot,jt,Rt)=>{const Kt=new Array(256),Bt=(ht-_t)/Rt,Gt=Ot/255,en=(jt-Ot)/(255*Rt);let hn=0;for(let tn=0;tn<=Rt;tn++){const gn=Math.round(_t+tn*Bt),nn=Gt+tn*en;for(let bn=hn;bn<=gn;bn++)Kt[bn]=nn;hn=gn+1}for(let tn=hn;tn<256;tn++)Kt[tn]=Kt[hn-1];return Kt.join(",")},qt=`g_${Dt(this,gu)}_hcm_${xt}_filter`,Lt=Pt.filter=On(this,cr,Np).call(this,qt);return On(this,cr,my).call(this,Lt),On(this,cr,Z1).call(this,Vt(vt[0],Ft[0],5),Vt(vt[1],Ft[1],5),Vt(vt[2],Ft[2],5),Lt),Pt.url=`url(#${qt})`,Pt.url}destroy(xt=!1){xt&&Dt(this,cr,Dp).size!==0||(Dt(this,Xl)&&(Dt(this,Xl).parentNode.parentNode.remove(),$n(this,Xl,null)),Dt(this,I0)&&(Dt(this,I0).clear(),$n(this,I0,null)),$n(this,O0,0))}}I0=new WeakMap,Xl=new WeakMap,gu=new WeakMap,Uo=new WeakMap,V2=new WeakMap,O0=new WeakMap,cr=new WeakSet,Mo=function(){return Dt(this,I0)||$n(this,I0,new Map)},Dp=function(){return Dt(this,V2)||$n(this,V2,new Map)},Lp=function(){if(!Dt(this,Xl)){const xt=Dt(this,Uo).createElement("div"),{style:bt}=xt;bt.visibility="hidden",bt.contain="strict",bt.width=bt.height=0,bt.position="absolute",bt.top=bt.left=0,bt.zIndex=-1;const St=Dt(this,Uo).createElementNS(SVG_NS,"svg");St.setAttribute("width",0),St.setAttribute("height",0),$n(this,Xl,Dt(this,Uo).createElementNS(SVG_NS,"defs")),xt.append(St),St.append(Dt(this,Xl)),Dt(this,Uo).body.append(xt)}return Dt(this,Xl)},t2=function(xt){if(xt.length===1){const wt=xt[0],kt=new Array(256);for(let ht=0;ht<256;ht++)kt[ht]=wt[ht]/255;const _t=kt.join(",");return[_t,_t,_t]}const[bt,St,At]=xt,Ct=new Array(256),Et=new Array(256),Pt=new Array(256);for(let wt=0;wt<256;wt++)Ct[wt]=bt[wt]/255,Et[wt]=St[wt]/255,Pt[wt]=At[wt]/255;return[Ct.join(","),Et.join(","),Pt.join(",")]},g9=function(xt){const bt=Dt(this,Uo).createElementNS(SVG_NS,"feColorMatrix");bt.setAttribute("type","matrix"),bt.setAttribute("values","0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.3 0.59 0.11 0 0"),xt.append(bt)},my=function(xt){const bt=Dt(this,Uo).createElementNS(SVG_NS,"feColorMatrix");bt.setAttribute("type","matrix"),bt.setAttribute("values","0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0 0 0 1 0"),xt.append(bt)},Np=function(xt){const bt=Dt(this,Uo).createElementNS(SVG_NS,"filter");return bt.setAttribute("color-interpolation-filters","sRGB"),bt.setAttribute("id",xt),Dt(this,cr,Lp).append(bt),bt},Y1=function(xt,bt,St){const At=Dt(this,Uo).createElementNS(SVG_NS,bt);At.setAttribute("type","discrete"),At.setAttribute("tableValues",St),xt.append(At)},Z1=function(xt,bt,St,At){const Ct=Dt(this,Uo).createElementNS(SVG_NS,"feComponentTransfer");At.append(Ct),On(this,cr,Y1).call(this,Ct,"feFuncR",xt),On(this,cr,Y1).call(this,Ct,"feFuncG",bt),On(this,cr,Y1).call(this,Ct,"feFuncB",St)},xy=function(xt,bt){const St=Dt(this,Uo).createElementNS(SVG_NS,"feComponentTransfer");bt.append(St),On(this,cr,Y1).call(this,St,"feFuncA",xt)},J1=function(xt){return Dt(this,cr,Lp).style.color=xt,getRGB(getComputedStyle(Dt(this,cr,Lp)).getPropertyValue("color"))};class DOMCanvasFactory extends BaseCanvasFactory{constructor({ownerDocument:$=globalThis.document}={}){super(),this._document=$}_createCanvas($,xt){const bt=this._document.createElement("canvas");return bt.width=$,bt.height=xt,bt}}async function fetchData(_e,$="text"){if(isValidFetchUrl(_e,document.baseURI)){const xt=await fetch(_e);if(!xt.ok)throw new Error(xt.statusText);switch($){case"arraybuffer":return xt.arrayBuffer();case"blob":return xt.blob();case"json":return xt.json()}return xt.text()}return new Promise((xt,bt)=>{const St=new XMLHttpRequest;St.open("GET",_e,!0),St.responseType=$,St.onreadystatechange=()=>{if(St.readyState===XMLHttpRequest.DONE){if(St.status===200||St.status===0){switch($){case"arraybuffer":case"blob":case"json":xt(St.response);return}xt(St.responseText);return}bt(new Error(St.statusText))}},St.send(null)})}class DOMCMapReaderFactory extends BaseCMapReaderFactory{_fetchData($,xt){return fetchData($,this.isCompressed?"arraybuffer":"text").then(bt=>({cMapData:bt instanceof ArrayBuffer?new Uint8Array(bt):stringToBytes(bt),compressionType:xt}))}}class DOMStandardFontDataFactory extends BaseStandardFontDataFactory{_fetchData($){return fetchData($,"arraybuffer").then(xt=>new Uint8Array(xt))}}class DOMSVGFactory extends BaseSVGFactory{_createSVG($){return document.createElementNS(SVG_NS,$)}}class PageViewport{constructor({viewBox:$,scale:xt,rotation:bt,offsetX:St=0,offsetY:At=0,dontFlip:Ct=!1}){this.viewBox=$,this.scale=xt,this.rotation=bt,this.offsetX=St,this.offsetY=At;const Et=($[2]+$[0])/2,Pt=($[3]+$[1])/2;let wt,kt,_t,ht;switch(bt%=360,bt<0&&(bt+=360),bt){case 180:wt=-1,kt=0,_t=0,ht=1;break;case 90:wt=0,kt=1,_t=1,ht=0;break;case 270:wt=0,kt=-1,_t=-1,ht=0;break;case 0:wt=1,kt=0,_t=0,ht=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}Ct&&(_t=-_t,ht=-ht);let vt,Ft,Vt,qt;wt===0?(vt=Math.abs(Pt-$[1])*xt+St,Ft=Math.abs(Et-$[0])*xt+At,Vt=($[3]-$[1])*xt,qt=($[2]-$[0])*xt):(vt=Math.abs(Et-$[0])*xt+St,Ft=Math.abs(Pt-$[1])*xt+At,Vt=($[2]-$[0])*xt,qt=($[3]-$[1])*xt),this.transform=[wt*xt,kt*xt,_t*xt,ht*xt,vt-wt*xt*Et-_t*xt*Pt,Ft-kt*xt*Et-ht*xt*Pt],this.width=Vt,this.height=qt}get rawDims(){const{viewBox:$}=this;return shadow(this,"rawDims",{pageWidth:$[2]-$[0],pageHeight:$[3]-$[1],pageX:$[0],pageY:$[1]})}clone({scale:$=this.scale,rotation:xt=this.rotation,offsetX:bt=this.offsetX,offsetY:St=this.offsetY,dontFlip:At=!1}={}){return new PageViewport({viewBox:this.viewBox.slice(),scale:$,rotation:xt,offsetX:bt,offsetY:St,dontFlip:At})}convertToViewportPoint($,xt){return Util.applyTransform([$,xt],this.transform)}convertToViewportRectangle($){const xt=Util.applyTransform([$[0],$[1]],this.transform),bt=Util.applyTransform([$[2],$[3]],this.transform);return[xt[0],xt[1],bt[0],bt[1]]}convertToPdfPoint($,xt){return Util.applyInverseTransform([$,xt],this.transform)}}class RenderingCancelledException extends BaseException{constructor($,xt=0){super($,"RenderingCancelledException"),this.extraDelay=xt}}function isDataScheme(_e){const $=_e.length;let xt=0;for(;xt<$&&_e[xt].trim()==="";)xt++;return _e.substring(xt,xt+5).toLowerCase()==="data:"}function isPdfFile(_e){return typeof _e=="string"&&/\.pdf$/i.test(_e)}function getFilenameFromUrl(_e){return[_e]=_e.split(/[#?]/,1),_e.substring(_e.lastIndexOf("/")+1)}function getPdfFilenameFromUrl(_e,$="document.pdf"){if(typeof _e!="string")return $;if(isDataScheme(_e))return warn('getPdfFilenameFromUrl: ignore "data:"-URL for performance reasons.'),$;const xt=/^(?:(?:[^:]+:)?\/\/[^/]+)?([^?#]*)(\?[^#]*)?(#.*)?$/,bt=/[^/?#=]+\.pdf\b(?!.*\.pdf\b)/i,St=xt.exec(_e);let At=bt.exec(St[1])||bt.exec(St[2])||bt.exec(St[3]);if(At&&(At=At[0],At.includes("%")))try{At=bt.exec(decodeURIComponent(At))[0]}catch{}return At||$}class StatTimer{constructor(){Us(this,"started",Object.create(null));Us(this,"times",[])}time($){$ in this.started&&warn(`Timer is already running for ${$}`),this.started[$]=Date.now()}timeEnd($){$ in this.started||warn(`Timer has not been started for ${$}`),this.times.push({name:$,start:this.started[$],end:Date.now()}),delete this.started[$]}toString(){const $=[];let xt=0;for(const{name:bt}of this.times)xt=Math.max(bt.length,xt);for(const{name:bt,start:St,end:At}of this.times)$.push(`${bt.padEnd(xt)} ${At-St}ms
`);return $.join("")}}function isValidFetchUrl(_e,$){try{const{protocol:xt}=$?new URL(_e,$):new URL(_e);return xt==="http:"||xt==="https:"}catch{return!1}}function noContextMenu(_e){_e.preventDefault()}function deprecated(_e){console.log("Deprecated API usage: "+_e)}let pdfDateStringRegex;class PDFDateString{static toDateObject($){if(!$||typeof $!="string")return null;pdfDateStringRegex||(pdfDateStringRegex=new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?"));const xt=pdfDateStringRegex.exec($);if(!xt)return null;const bt=parseInt(xt[1],10);let St=parseInt(xt[2],10);St=St>=1&&St<=12?St-1:0;let At=parseInt(xt[3],10);At=At>=1&&At<=31?At:1;let Ct=parseInt(xt[4],10);Ct=Ct>=0&&Ct<=23?Ct:0;let Et=parseInt(xt[5],10);Et=Et>=0&&Et<=59?Et:0;let Pt=parseInt(xt[6],10);Pt=Pt>=0&&Pt<=59?Pt:0;const wt=xt[7]||"Z";let kt=parseInt(xt[8],10);kt=kt>=0&&kt<=23?kt:0;let _t=parseInt(xt[9],10)||0;return _t=_t>=0&&_t<=59?_t:0,wt==="-"?(Ct+=kt,Et+=_t):wt==="+"&&(Ct-=kt,Et-=_t),new Date(Date.UTC(bt,St,At,Ct,Et,Pt))}}function getXfaPageViewport(_e,{scale:$=1,rotation:xt=0}){const{width:bt,height:St}=_e.attributes.style,At=[0,0,parseInt(bt),parseInt(St)];return new PageViewport({viewBox:At,scale:$,rotation:xt})}function getRGB(_e){if(_e.startsWith("#")){const $=parseInt(_e.slice(1),16);return[($&16711680)>>16,($&65280)>>8,$&255]}return _e.startsWith("rgb(")?_e.slice(4,-1).split(",").map($=>parseInt($)):_e.startsWith("rgba(")?_e.slice(5,-1).split(",").map($=>parseInt($)).slice(0,3):(warn(`Not a valid color format: "${_e}"`),[0,0,0])}function getColorValues(_e){const $=document.createElement("span");$.style.visibility="hidden",document.body.append($);for(const xt of _e.keys()){$.style.color=xt;const bt=window.getComputedStyle($).color;_e.set(xt,getRGB(bt))}$.remove()}function getCurrentTransform(_e){const{a:$,b:xt,c:bt,d:St,e:At,f:Ct}=_e.getTransform();return[$,xt,bt,St,At,Ct]}function getCurrentTransformInverse(_e){const{a:$,b:xt,c:bt,d:St,e:At,f:Ct}=_e.getTransform().invertSelf();return[$,xt,bt,St,At,Ct]}function setLayerDimensions(_e,$,xt=!1,bt=!0){if($ instanceof PageViewport){const{pageWidth:St,pageHeight:At}=$.rawDims,{style:Ct}=_e,Et=util_FeatureTest.isCSSRoundSupported,Pt=`var(--scale-factor) * ${St}px`,wt=`var(--scale-factor) * ${At}px`,kt=Et?`round(${Pt}, 1px)`:`calc(${Pt})`,_t=Et?`round(${wt}, 1px)`:`calc(${wt})`;!xt||$.rotation%180===0?(Ct.width=kt,Ct.height=_t):(Ct.width=_t,Ct.height=kt)}bt&&_e.setAttribute("data-main-rotation",$.rotation)}var D0,L0,Wl,N0,z2,m9,$o,x9,b9,n2,y9,by;const X2=class X2{constructor($){Nn(this,$o);Nn(this,D0,null);Nn(this,L0,null);Nn(this,Wl);Nn(this,N0,null);$n(this,Wl,$)}render(){const $=$n(this,D0,document.createElement("div"));$.className="editToolbar",$.setAttribute("role","toolbar"),$.addEventListener("contextmenu",noContextMenu),$.addEventListener("pointerdown",On(X2,z2,m9));const xt=$n(this,N0,document.createElement("div"));xt.className="buttons",$.append(xt);const bt=Dt(this,Wl).toolbarPosition;if(bt){const{style:St}=$,At=Dt(this,Wl)._uiManager.direction==="ltr"?1-bt[0]:bt[0];St.insetInlineEnd=`${100*At}%`,St.top=`calc(${100*bt[1]}% + var(--editor-toolbar-vert-offset))`}return On(this,$o,y9).call(this),$}hide(){var $;Dt(this,D0).classList.add("hidden"),($=Dt(this,L0))==null||$.hideDropdown()}show(){Dt(this,D0).classList.remove("hidden")}addAltTextButton($){On(this,$o,n2).call(this,$),Dt(this,N0).prepend($,Dt(this,$o,by))}addColorPicker($){$n(this,L0,$);const xt=$.renderButton();On(this,$o,n2).call(this,xt),Dt(this,N0).prepend(xt,Dt(this,$o,by))}remove(){var $;Dt(this,D0).remove(),($=Dt(this,L0))==null||$.destroy(),$n(this,L0,null)}};D0=new WeakMap,L0=new WeakMap,Wl=new WeakMap,N0=new WeakMap,z2=new WeakSet,m9=function($){$.stopPropagation()},$o=new WeakSet,x9=function($){Dt(this,Wl)._focusEventsAllowed=!1,$.preventDefault(),$.stopPropagation()},b9=function($){Dt(this,Wl)._focusEventsAllowed=!0,$.preventDefault(),$.stopPropagation()},n2=function($){$.addEventListener("focusin",On(this,$o,x9).bind(this),{capture:!0}),$.addEventListener("focusout",On(this,$o,b9).bind(this),{capture:!0}),$.addEventListener("contextmenu",noContextMenu)},y9=function(){const $=document.createElement("button");$.className="delete",$.tabIndex=0,$.setAttribute("data-l10n-id",`pdfjs-editor-remove-${Dt(this,Wl).editorType}-button`),On(this,$o,n2).call(this,$),$.addEventListener("click",xt=>{Dt(this,Wl)._uiManager.delete()}),Dt(this,N0).append($)},by=function(){const $=document.createElement("div");return $.className="divider",$},Nn(X2,z2);let EditorToolbar=X2;var mm,$0,xm,b0,v9,w9,S9;class HighlightToolbar{constructor($){Nn(this,b0);Nn(this,mm,null);Nn(this,$0,null);Nn(this,xm);$n(this,xm,$)}show($,xt,bt){const[St,At]=On(this,b0,w9).call(this,xt,bt),{style:Ct}=Dt(this,$0)||$n(this,$0,On(this,b0,v9).call(this));$.append(Dt(this,$0)),Ct.insetInlineEnd=`${100*St}%`,Ct.top=`calc(${100*At}% + var(--editor-toolbar-vert-offset))`}hide(){Dt(this,$0).remove()}}mm=new WeakMap,$0=new WeakMap,xm=new WeakMap,b0=new WeakSet,v9=function(){const $=$n(this,$0,document.createElement("div"));$.className="editToolbar",$.setAttribute("role","toolbar"),$.addEventListener("contextmenu",noContextMenu);const xt=$n(this,mm,document.createElement("div"));return xt.className="buttons",$.append(xt),On(this,b0,S9).call(this),$},w9=function($,xt){let bt=0,St=0;for(const At of $){const Ct=At.y+At.height;if(Ct<bt)continue;const Et=At.x+(xt?At.width:0);if(Ct>bt){St=Et,bt=Ct;continue}xt?Et>St&&(St=Et):Et<St&&(St=Et)}return[xt?1-St:St,bt]},S9=function(){const $=document.createElement("button");$.className="highlightButton",$.tabIndex=0,$.setAttribute("data-l10n-id","pdfjs-highlight-floating-button1");const xt=document.createElement("span");$.append(xt),xt.className="visuallyHidden",xt.setAttribute("data-l10n-id","pdfjs-highlight-floating-button-label"),$.addEventListener("contextmenu",noContextMenu),$.addEventListener("click",()=>{Dt(this,xm).highlightSelection("floating_button")}),Dt(this,mm).append($)};function bindEvents(_e,$,xt){for(const bt of xt)$.addEventListener(bt,_e[bt].bind(_e))}function opacityToHex(_e){return Math.round(Math.min(255,Math.max(1,255*_e))).toString(16).padStart(2,"0")}var W2;class IdManager{constructor(){Nn(this,W2,0)}get id(){return`${AnnotationEditorPrefix}${Ao(this,W2)._++}`}}W2=new WeakMap;var bm,G2,yl,ym,yy;const t9=class t9{constructor(){Nn(this,ym);Nn(this,bm,getUuid());Nn(this,G2,0);Nn(this,yl,null)}static get _isSVGFittingCanvas(){const $='data:image/svg+xml;charset=UTF-8,<svg viewBox="0 0 1 1" width="1" height="1" xmlns="http://www.w3.org/2000/svg"><rect width="1" height="1" style="fill:red;"/></svg>',bt=new OffscreenCanvas(1,3).getContext("2d"),St=new Image;St.src=$;const At=St.decode().then(()=>(bt.drawImage(St,0,0,1,1,0,0,1,3),new Uint32Array(bt.getImageData(0,0,1,1).data.buffer)[0]===0));return shadow(this,"_isSVGFittingCanvas",At)}async getFromFile($){const{lastModified:xt,name:bt,size:St,type:At}=$;return On(this,ym,yy).call(this,`${xt}_${bt}_${St}_${At}`,$)}async getFromUrl($){return On(this,ym,yy).call(this,$,$)}async getFromId($){Dt(this,yl)||$n(this,yl,new Map);const xt=Dt(this,yl).get($);return xt?xt.bitmap?(xt.refCounter+=1,xt):xt.file?this.getFromFile(xt.file):this.getFromUrl(xt.url):null}getSvgUrl($){const xt=Dt(this,yl).get($);return xt!=null&&xt.isSvg?xt.svgUrl:null}deleteId($){Dt(this,yl)||$n(this,yl,new Map);const xt=Dt(this,yl).get($);xt&&(xt.refCounter-=1,xt.refCounter===0&&(xt.bitmap=null))}isValidId($){return $.startsWith(`image_${Dt(this,bm)}_`)}};bm=new WeakMap,G2=new WeakMap,yl=new WeakMap,ym=new WeakSet,yy=async function($,xt){Dt(this,yl)||$n(this,yl,new Map);let bt=Dt(this,yl).get($);if(bt===null)return null;if(bt!=null&&bt.bitmap)return bt.refCounter+=1,bt;try{bt||(bt={bitmap:null,id:`image_${Dt(this,bm)}_${Ao(this,G2)._++}`,refCounter:0,isSvg:!1});let St;if(typeof xt=="string"?(bt.url=xt,St=await fetchData(xt,"blob")):St=bt.file=xt,St.type==="image/svg+xml"){const At=t9._isSVGFittingCanvas,Ct=new FileReader,Et=new Image,Pt=new Promise((wt,kt)=>{Et.onload=()=>{bt.bitmap=Et,bt.isSvg=!0,wt()},Ct.onload=async()=>{const _t=bt.svgUrl=Ct.result;Et.src=await At?`${_t}#svgView(preserveAspectRatio(none))`:_t},Et.onerror=Ct.onerror=kt});Ct.readAsDataURL(St),await Pt}else bt.bitmap=await createImageBitmap(St);bt.refCounter=1}catch(St){console.error(St),bt=null}return Dt(this,yl).set($,bt),bt&&Dt(this,yl).set(bt.id,bt),bt};let ImageManager=t9;var yo,Zu,vm,vo;class CommandManager{constructor($=128){Nn(this,yo,[]);Nn(this,Zu,!1);Nn(this,vm);Nn(this,vo,-1);$n(this,vm,$)}add({cmd:$,undo:xt,post:bt,mustExec:St,type:At=NaN,overwriteIfSameType:Ct=!1,keepUndo:Et=!1}){if(St&&$(),Dt(this,Zu))return;const Pt={cmd:$,undo:xt,post:bt,type:At};if(Dt(this,vo)===-1){Dt(this,yo).length>0&&(Dt(this,yo).length=0),$n(this,vo,0),Dt(this,yo).push(Pt);return}if(Ct&&Dt(this,yo)[Dt(this,vo)].type===At){Et&&(Pt.undo=Dt(this,yo)[Dt(this,vo)].undo),Dt(this,yo)[Dt(this,vo)]=Pt;return}const wt=Dt(this,vo)+1;wt===Dt(this,vm)?Dt(this,yo).splice(0,1):($n(this,vo,wt),wt<Dt(this,yo).length&&Dt(this,yo).splice(wt)),Dt(this,yo).push(Pt)}undo(){if(Dt(this,vo)===-1)return;$n(this,Zu,!0);const{undo:$,post:xt}=Dt(this,yo)[Dt(this,vo)];$(),xt==null||xt(),$n(this,Zu,!1),$n(this,vo,Dt(this,vo)-1)}redo(){if(Dt(this,vo)<Dt(this,yo).length-1){$n(this,vo,Dt(this,vo)+1),$n(this,Zu,!0);const{cmd:$,post:xt}=Dt(this,yo)[Dt(this,vo)];$(),xt==null||xt(),$n(this,Zu,!1)}}hasSomethingToUndo(){return Dt(this,vo)!==-1}hasSomethingToRedo(){return Dt(this,vo)<Dt(this,yo).length-1}destroy(){$n(this,yo,null)}}yo=new WeakMap,Zu=new WeakMap,vm=new WeakMap,vo=new WeakMap;var q2,A9;class KeyboardManager{constructor($){Nn(this,q2);this.buffer=[],this.callbacks=new Map,this.allKeys=new Set;const{isMac:xt}=util_FeatureTest.platform;for(const[bt,St,At={}]of $)for(const Ct of bt){const Et=Ct.startsWith("mac+");xt&&Et?(this.callbacks.set(Ct.slice(4),{callback:St,options:At}),this.allKeys.add(Ct.split("+").at(-1))):!xt&&!Et&&(this.callbacks.set(Ct,{callback:St,options:At}),this.allKeys.add(Ct.split("+").at(-1)))}}exec($,xt){if(!this.allKeys.has(xt.key))return;const bt=this.callbacks.get(On(this,q2,A9).call(this,xt));if(!bt)return;const{callback:St,options:{bubbles:At=!1,args:Ct=[],checker:Et=null}}=bt;Et&&!Et($,xt)||(St.bind($,...Ct,xt)(),At||(xt.stopPropagation(),xt.preventDefault()))}}q2=new WeakSet,A9=function($){$.altKey&&this.buffer.push("alt"),$.ctrlKey&&this.buffer.push("ctrl"),$.metaKey&&this.buffer.push("meta"),$.shiftKey&&this.buffer.push("shift"),this.buffer.push($.key);const xt=this.buffer.join("+");return this.buffer.length=0,xt};const K2=class K2{get _colors(){const $=new Map([["CanvasText",null],["Canvas",null]]);return getColorValues($),shadow(this,"_colors",$)}convert($){const xt=getRGB($);if(!window.matchMedia("(forced-colors: active)").matches)return xt;for(const[bt,St]of this._colors)if(St.every((At,Ct)=>At===xt[Ct]))return K2._colorsMapping.get(bt);return xt}getHexCode($){const xt=this._colors.get($);return xt?Util.makeHexColor(...xt):$}};Us(K2,"_colorsMapping",new Map([["CanvasText",[0,0,0]],["Canvas",[255,255,255]]]));let ColorManager=K2;var Go,fo,Co,Yp,mu,Zp,_l,Jp,j0,Gl,xu,B0,wm,Sm,Kl,Qp,Ju,Yl,Y2,Qu,Am,U0,Em,e1,ko,Kr,bu,H0,Cm,km,Tm,Pm,Rm,Fm,_m,Mm,Im,Om,Dm,Lm,Nm,$m,e0,Zl,yu,jm,Ys,i2,E9,C9,s2,k9,T9,P9,vy,wy,Sy,Ay,Ey,Oo,Ku,R9,F9,Cy,_9,Q1,ky;const Kp=class Kp{constructor($,xt,bt,St,At,Ct,Et,Pt,wt){Nn(this,Ys);Nn(this,Go,null);Nn(this,fo,new Map);Nn(this,Co,new Map);Nn(this,Yp,null);Nn(this,mu,null);Nn(this,Zp,null);Nn(this,_l,new CommandManager);Nn(this,Jp,0);Nn(this,j0,new Set);Nn(this,Gl,null);Nn(this,xu,null);Nn(this,B0,new Set);Nn(this,wm,!1);Nn(this,Sm,null);Nn(this,Kl,null);Nn(this,Qp,null);Nn(this,Ju,!1);Nn(this,Yl,null);Nn(this,Y2,new IdManager);Nn(this,Qu,!1);Nn(this,Am,!1);Nn(this,U0,null);Nn(this,Em,null);Nn(this,e1,null);Nn(this,ko,AnnotationEditorType.NONE);Nn(this,Kr,new Set);Nn(this,bu,null);Nn(this,H0,null);Nn(this,Cm,null);Nn(this,km,this.blur.bind(this));Nn(this,Tm,this.focus.bind(this));Nn(this,Pm,this.copy.bind(this));Nn(this,Rm,this.cut.bind(this));Nn(this,Fm,this.paste.bind(this));Nn(this,_m,this.keydown.bind(this));Nn(this,Mm,this.keyup.bind(this));Nn(this,Im,this.onEditingAction.bind(this));Nn(this,Om,this.onPageChanging.bind(this));Nn(this,Dm,this.onScaleChanging.bind(this));Nn(this,Lm,On(this,Ys,C9).bind(this));Nn(this,Nm,this.onRotationChanging.bind(this));Nn(this,$m,{isEditing:!1,isEmpty:!0,hasSomethingToUndo:!1,hasSomethingToRedo:!1,hasSelectedEditor:!1,hasSelectedText:!1});Nn(this,e0,[0,0]);Nn(this,Zl,null);Nn(this,yu,null);Nn(this,jm,null);$n(this,yu,$),$n(this,jm,xt),$n(this,Yp,bt),this._eventBus=St,this._eventBus._on("editingaction",Dt(this,Im)),this._eventBus._on("pagechanging",Dt(this,Om)),this._eventBus._on("scalechanging",Dt(this,Dm)),this._eventBus._on("rotationchanging",Dt(this,Nm)),On(this,Ys,k9).call(this),On(this,Ys,wy).call(this),$n(this,mu,At.annotationStorage),$n(this,Sm,At.filterFactory),$n(this,H0,Ct),$n(this,Qp,Et||null),$n(this,wm,Pt),$n(this,e1,wt||null),this.viewParameters={realScale:PixelsPerInch.PDF_TO_CSS_UNITS,rotation:0},this.isShiftKeyDown=!1}static get _keyboardManager(){const $=Kp.prototype,xt=Ct=>Dt(Ct,yu).contains(document.activeElement)&&document.activeElement.tagName!=="BUTTON"&&Ct.hasSomethingToControl(),bt=(Ct,{target:Et})=>{if(Et instanceof HTMLInputElement){const{type:Pt}=Et;return Pt!=="text"&&Pt!=="number"}return!0},St=this.TRANSLATE_SMALL,At=this.TRANSLATE_BIG;return shadow(this,"_keyboardManager",new KeyboardManager([[["ctrl+a","mac+meta+a"],$.selectAll,{checker:bt}],[["ctrl+z","mac+meta+z"],$.undo,{checker:bt}],[["ctrl+y","ctrl+shift+z","mac+meta+shift+z","ctrl+shift+Z","mac+meta+shift+Z"],$.redo,{checker:bt}],[["Backspace","alt+Backspace","ctrl+Backspace","shift+Backspace","mac+Backspace","mac+alt+Backspace","mac+ctrl+Backspace","Delete","ctrl+Delete","shift+Delete","mac+Delete"],$.delete,{checker:bt}],[["Enter","mac+Enter"],$.addNewEditorFromKeyboard,{checker:(Ct,{target:Et})=>!(Et instanceof HTMLButtonElement)&&Dt(Ct,yu).contains(Et)&&!Ct.isEnterHandled}],[[" ","mac+ "],$.addNewEditorFromKeyboard,{checker:(Ct,{target:Et})=>!(Et instanceof HTMLButtonElement)&&Dt(Ct,yu).contains(document.activeElement)}],[["Escape","mac+Escape"],$.unselectAll],[["ArrowLeft","mac+ArrowLeft"],$.translateSelectedEditors,{args:[-St,0],checker:xt}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],$.translateSelectedEditors,{args:[-At,0],checker:xt}],[["ArrowRight","mac+ArrowRight"],$.translateSelectedEditors,{args:[St,0],checker:xt}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],$.translateSelectedEditors,{args:[At,0],checker:xt}],[["ArrowUp","mac+ArrowUp"],$.translateSelectedEditors,{args:[0,-St],checker:xt}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],$.translateSelectedEditors,{args:[0,-At],checker:xt}],[["ArrowDown","mac+ArrowDown"],$.translateSelectedEditors,{args:[0,St],checker:xt}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],$.translateSelectedEditors,{args:[0,At],checker:xt}]]))}destroy(){var $,xt;On(this,Ys,Sy).call(this),On(this,Ys,vy).call(this),this._eventBus._off("editingaction",Dt(this,Im)),this._eventBus._off("pagechanging",Dt(this,Om)),this._eventBus._off("scalechanging",Dt(this,Dm)),this._eventBus._off("rotationchanging",Dt(this,Nm));for(const bt of Dt(this,Co).values())bt.destroy();Dt(this,Co).clear(),Dt(this,fo).clear(),Dt(this,B0).clear(),$n(this,Go,null),Dt(this,Kr).clear(),Dt(this,_l).destroy(),($=Dt(this,Yp))==null||$.destroy(),(xt=Dt(this,Yl))==null||xt.hide(),$n(this,Yl,null),Dt(this,Kl)&&(clearTimeout(Dt(this,Kl)),$n(this,Kl,null)),Dt(this,Zl)&&(clearTimeout(Dt(this,Zl)),$n(this,Zl,null)),On(this,Ys,T9).call(this)}async mlGuess($){var xt;return((xt=Dt(this,e1))==null?void 0:xt.guess($))||null}get hasMLManager(){return!!Dt(this,e1)}get hcmFilter(){return shadow(this,"hcmFilter",Dt(this,H0)?Dt(this,Sm).addHCMFilter(Dt(this,H0).foreground,Dt(this,H0).background):"none")}get direction(){return shadow(this,"direction",getComputedStyle(Dt(this,yu)).direction)}get highlightColors(){return shadow(this,"highlightColors",Dt(this,Qp)?new Map(Dt(this,Qp).split(",").map($=>$.split("=").map(xt=>xt.trim()))):null)}get highlightColorNames(){return shadow(this,"highlightColorNames",this.highlightColors?new Map(Array.from(this.highlightColors,$=>$.reverse())):null)}setMainHighlightColorPicker($){$n(this,Em,$)}editAltText($){var xt;(xt=Dt(this,Yp))==null||xt.editAltText(this,$)}onPageChanging({pageNumber:$}){$n(this,Jp,$-1)}focusMainContainer(){Dt(this,yu).focus()}findParent($,xt){for(const bt of Dt(this,Co).values()){const{x:St,y:At,width:Ct,height:Et}=bt.div.getBoundingClientRect();if($>=St&&$<=St+Ct&&xt>=At&&xt<=At+Et)return bt}return null}disableUserSelect($=!1){Dt(this,jm).classList.toggle("noUserSelect",$)}addShouldRescale($){Dt(this,B0).add($)}removeShouldRescale($){Dt(this,B0).delete($)}onScaleChanging({scale:$}){this.commitOrRemove(),this.viewParameters.realScale=$*PixelsPerInch.PDF_TO_CSS_UNITS;for(const xt of Dt(this,B0))xt.onScaleChanging()}onRotationChanging({pagesRotation:$}){this.commitOrRemove(),this.viewParameters.rotation=$}highlightSelection($=""){const xt=document.getSelection();if(!xt||xt.isCollapsed)return;const{anchorNode:bt,anchorOffset:St,focusNode:At,focusOffset:Ct}=xt,Et=xt.toString(),wt=On(this,Ys,i2).call(this,xt).closest(".textLayer"),kt=this.getSelectionBoxes(wt);if(kt){xt.empty(),Dt(this,ko)===AnnotationEditorType.NONE&&(this._eventBus.dispatch("showannotationeditorui",{source:this,mode:AnnotationEditorType.HIGHLIGHT}),this.showAllEditors("highlight",!0,!0));for(const _t of Dt(this,Co).values())if(_t.hasTextLayer(wt)){_t.createAndAddNewEditor({x:0,y:0},!1,{methodOfCreation:$,boxes:kt,anchorNode:bt,anchorOffset:St,focusNode:At,focusOffset:Ct,text:Et});break}}}addToAnnotationStorage($){!$.isEmpty()&&Dt(this,mu)&&!Dt(this,mu).has($.id)&&Dt(this,mu).setValue($.id,$)}blur(){if(this.isShiftKeyDown=!1,Dt(this,Ju)&&($n(this,Ju,!1),On(this,Ys,s2).call(this,"main_toolbar")),!this.hasSelection)return;const{activeElement:$}=document;for(const xt of Dt(this,Kr))if(xt.div.contains($)){$n(this,U0,[xt,$]),xt._focusEventsAllowed=!1;break}}focus(){if(!Dt(this,U0))return;const[$,xt]=Dt(this,U0);$n(this,U0,null),xt.addEventListener("focusin",()=>{$._focusEventsAllowed=!0},{once:!0}),xt.focus()}addEditListeners(){On(this,Ys,wy).call(this),On(this,Ys,Ay).call(this)}removeEditListeners(){On(this,Ys,Sy).call(this),On(this,Ys,Ey).call(this)}copy($){var bt;if($.preventDefault(),(bt=Dt(this,Go))==null||bt.commitOrRemove(),!this.hasSelection)return;const xt=[];for(const St of Dt(this,Kr)){const At=St.serialize(!0);At&&xt.push(At)}xt.length!==0&&$.clipboardData.setData("application/pdfjs",JSON.stringify(xt))}cut($){this.copy($),this.delete()}paste($){$.preventDefault();const{clipboardData:xt}=$;for(const At of xt.items)for(const Ct of Dt(this,xu))if(Ct.isHandlingMimeForPasting(At.type)){Ct.paste(At,this.currentLayer);return}let bt=xt.getData("application/pdfjs");if(!bt)return;try{bt=JSON.parse(bt)}catch(At){warn(`paste: "${At.message}".`);return}if(!Array.isArray(bt))return;this.unselectAll();const St=this.currentLayer;try{const At=[];for(const Pt of bt){const wt=St.deserialize(Pt);if(!wt)return;At.push(wt)}const Ct=()=>{for(const Pt of At)On(this,Ys,Cy).call(this,Pt);On(this,Ys,ky).call(this,At)},Et=()=>{for(const Pt of At)Pt.remove()};this.addCommands({cmd:Ct,undo:Et,mustExec:!0})}catch(At){warn(`paste: "${At.message}".`)}}keydown($){!this.isShiftKeyDown&&$.key==="Shift"&&(this.isShiftKeyDown=!0),Dt(this,ko)!==AnnotationEditorType.NONE&&!this.isEditorHandlingKeyboard&&Kp._keyboardManager.exec(this,$)}keyup($){this.isShiftKeyDown&&$.key==="Shift"&&(this.isShiftKeyDown=!1,Dt(this,Ju)&&($n(this,Ju,!1),On(this,Ys,s2).call(this,"main_toolbar")))}onEditingAction({name:$}){switch($){case"undo":case"redo":case"delete":case"selectAll":this[$]();break;case"highlightSelection":this.highlightSelection("context_menu");break}}setEditingState($){$?(On(this,Ys,P9).call(this),On(this,Ys,Ay).call(this),On(this,Ys,Oo).call(this,{isEditing:Dt(this,ko)!==AnnotationEditorType.NONE,isEmpty:On(this,Ys,Q1).call(this),hasSomethingToUndo:Dt(this,_l).hasSomethingToUndo(),hasSomethingToRedo:Dt(this,_l).hasSomethingToRedo(),hasSelectedEditor:!1})):(On(this,Ys,vy).call(this),On(this,Ys,Ey).call(this),On(this,Ys,Oo).call(this,{isEditing:!1}),this.disableUserSelect(!1))}registerEditorTypes($){if(!Dt(this,xu)){$n(this,xu,$);for(const xt of Dt(this,xu))On(this,Ys,Ku).call(this,xt.defaultPropertiesToUpdate)}}getId(){return Dt(this,Y2).id}get currentLayer(){return Dt(this,Co).get(Dt(this,Jp))}getLayer($){return Dt(this,Co).get($)}get currentPageIndex(){return Dt(this,Jp)}addLayer($){Dt(this,Co).set($.pageIndex,$),Dt(this,Qu)?$.enable():$.disable()}removeLayer($){Dt(this,Co).delete($.pageIndex)}updateMode($,xt=null,bt=!1){if(Dt(this,ko)!==$){if($n(this,ko,$),$===AnnotationEditorType.NONE){this.setEditingState(!1),On(this,Ys,F9).call(this);return}this.setEditingState(!0),On(this,Ys,R9).call(this),this.unselectAll();for(const St of Dt(this,Co).values())St.updateMode($);if(!xt&&bt){this.addNewEditorFromKeyboard();return}if(xt){for(const St of Dt(this,fo).values())if(St.annotationElementId===xt){this.setSelected(St),St.enterInEditMode();break}}}}addNewEditorFromKeyboard(){this.currentLayer.canCreateNewEmptyEditor()&&this.currentLayer.addNewEditor()}updateToolbar($){$!==Dt(this,ko)&&this._eventBus.dispatch("switchannotationeditormode",{source:this,mode:$})}updateParams($,xt){var bt;if(Dt(this,xu)){switch($){case AnnotationEditorParamsType.CREATE:this.currentLayer.addNewEditor();return;case AnnotationEditorParamsType.HIGHLIGHT_DEFAULT_COLOR:(bt=Dt(this,Em))==null||bt.updateColor(xt);break;case AnnotationEditorParamsType.HIGHLIGHT_SHOW_ALL:this._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:{type:"highlight",action:"toggle_visibility"}}}),(Dt(this,Cm)||$n(this,Cm,new Map)).set($,xt),this.showAllEditors("highlight",xt);break}for(const St of Dt(this,Kr))St.updateParams($,xt);for(const St of Dt(this,xu))St.updateDefaultParams($,xt)}}showAllEditors($,xt,bt=!1){var At;for(const Ct of Dt(this,fo).values())Ct.editorType===$&&Ct.show(xt);(((At=Dt(this,Cm))==null?void 0:At.get(AnnotationEditorParamsType.HIGHLIGHT_SHOW_ALL))??!0)!==xt&&On(this,Ys,Ku).call(this,[[AnnotationEditorParamsType.HIGHLIGHT_SHOW_ALL,xt]])}enableWaiting($=!1){if(Dt(this,Am)!==$){$n(this,Am,$);for(const xt of Dt(this,Co).values())$?xt.disableClick():xt.enableClick(),xt.div.classList.toggle("waiting",$)}}getEditors($){const xt=[];for(const bt of Dt(this,fo).values())bt.pageIndex===$&&xt.push(bt);return xt}getEditor($){return Dt(this,fo).get($)}addEditor($){Dt(this,fo).set($.id,$)}removeEditor($){var xt;$.div.contains(document.activeElement)&&(Dt(this,Kl)&&clearTimeout(Dt(this,Kl)),$n(this,Kl,setTimeout(()=>{this.focusMainContainer(),$n(this,Kl,null)},0))),Dt(this,fo).delete($.id),this.unselect($),(!$.annotationElementId||!Dt(this,j0).has($.annotationElementId))&&((xt=Dt(this,mu))==null||xt.remove($.id))}addDeletedAnnotationElement($){Dt(this,j0).add($.annotationElementId),this.addChangedExistingAnnotation($),$.deleted=!0}isDeletedAnnotationElement($){return Dt(this,j0).has($)}removeDeletedAnnotationElement($){Dt(this,j0).delete($.annotationElementId),this.removeChangedExistingAnnotation($),$.deleted=!1}setActiveEditor($){Dt(this,Go)!==$&&($n(this,Go,$),$&&On(this,Ys,Ku).call(this,$.propertiesToUpdate))}updateUI($){Dt(this,Ys,_9)===$&&On(this,Ys,Ku).call(this,$.propertiesToUpdate)}toggleSelected($){if(Dt(this,Kr).has($)){Dt(this,Kr).delete($),$.unselect(),On(this,Ys,Oo).call(this,{hasSelectedEditor:this.hasSelection});return}Dt(this,Kr).add($),$.select(),On(this,Ys,Ku).call(this,$.propertiesToUpdate),On(this,Ys,Oo).call(this,{hasSelectedEditor:!0})}setSelected($){for(const xt of Dt(this,Kr))xt!==$&&xt.unselect();Dt(this,Kr).clear(),Dt(this,Kr).add($),$.select(),On(this,Ys,Ku).call(this,$.propertiesToUpdate),On(this,Ys,Oo).call(this,{hasSelectedEditor:!0})}isSelected($){return Dt(this,Kr).has($)}get firstSelectedEditor(){return Dt(this,Kr).values().next().value}unselect($){$.unselect(),Dt(this,Kr).delete($),On(this,Ys,Oo).call(this,{hasSelectedEditor:this.hasSelection})}get hasSelection(){return Dt(this,Kr).size!==0}get isEnterHandled(){return Dt(this,Kr).size===1&&this.firstSelectedEditor.isEnterHandled}undo(){Dt(this,_l).undo(),On(this,Ys,Oo).call(this,{hasSomethingToUndo:Dt(this,_l).hasSomethingToUndo(),hasSomethingToRedo:!0,isEmpty:On(this,Ys,Q1).call(this)})}redo(){Dt(this,_l).redo(),On(this,Ys,Oo).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:Dt(this,_l).hasSomethingToRedo(),isEmpty:On(this,Ys,Q1).call(this)})}addCommands($){Dt(this,_l).add($),On(this,Ys,Oo).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:!1,isEmpty:On(this,Ys,Q1).call(this)})}delete(){if(this.commitOrRemove(),!this.hasSelection)return;const $=[...Dt(this,Kr)],xt=()=>{for(const St of $)St.remove()},bt=()=>{for(const St of $)On(this,Ys,Cy).call(this,St)};this.addCommands({cmd:xt,undo:bt,mustExec:!0})}commitOrRemove(){var $;($=Dt(this,Go))==null||$.commitOrRemove()}hasSomethingToControl(){return Dt(this,Go)||this.hasSelection}selectAll(){for(const $ of Dt(this,Kr))$.commit();On(this,Ys,ky).call(this,Dt(this,fo).values())}unselectAll(){if(!(Dt(this,Go)&&(Dt(this,Go).commitOrRemove(),Dt(this,ko)!==AnnotationEditorType.NONE))&&this.hasSelection){for(const $ of Dt(this,Kr))$.unselect();Dt(this,Kr).clear(),On(this,Ys,Oo).call(this,{hasSelectedEditor:!1})}}translateSelectedEditors($,xt,bt=!1){if(bt||this.commitOrRemove(),!this.hasSelection)return;Dt(this,e0)[0]+=$,Dt(this,e0)[1]+=xt;const[St,At]=Dt(this,e0),Ct=[...Dt(this,Kr)],Et=1e3;Dt(this,Zl)&&clearTimeout(Dt(this,Zl)),$n(this,Zl,setTimeout(()=>{$n(this,Zl,null),Dt(this,e0)[0]=Dt(this,e0)[1]=0,this.addCommands({cmd:()=>{for(const Pt of Ct)Dt(this,fo).has(Pt.id)&&Pt.translateInPage(St,At)},undo:()=>{for(const Pt of Ct)Dt(this,fo).has(Pt.id)&&Pt.translateInPage(-St,-At)},mustExec:!1})},Et));for(const Pt of Ct)Pt.translateInPage($,xt)}setUpDragSession(){if(this.hasSelection){this.disableUserSelect(!0),$n(this,Gl,new Map);for(const $ of Dt(this,Kr))Dt(this,Gl).set($,{savedX:$.x,savedY:$.y,savedPageIndex:$.pageIndex,newX:0,newY:0,newPageIndex:-1})}}endDragSession(){if(!Dt(this,Gl))return!1;this.disableUserSelect(!1);const $=Dt(this,Gl);$n(this,Gl,null);let xt=!1;for(const[{x:St,y:At,pageIndex:Ct},Et]of $)Et.newX=St,Et.newY=At,Et.newPageIndex=Ct,xt||(xt=St!==Et.savedX||At!==Et.savedY||Ct!==Et.savedPageIndex);if(!xt)return!1;const bt=(St,At,Ct,Et)=>{if(Dt(this,fo).has(St.id)){const Pt=Dt(this,Co).get(Et);Pt?St._setParentAndPosition(Pt,At,Ct):(St.pageIndex=Et,St.x=At,St.y=Ct)}};return this.addCommands({cmd:()=>{for(const[St,{newX:At,newY:Ct,newPageIndex:Et}]of $)bt(St,At,Ct,Et)},undo:()=>{for(const[St,{savedX:At,savedY:Ct,savedPageIndex:Et}]of $)bt(St,At,Ct,Et)},mustExec:!0}),!0}dragSelectedEditors($,xt){if(Dt(this,Gl))for(const bt of Dt(this,Gl).keys())bt.drag($,xt)}rebuild($){if($.parent===null){const xt=this.getLayer($.pageIndex);xt?(xt.changeParent($),xt.addOrRebuild($)):(this.addEditor($),this.addToAnnotationStorage($),$.rebuild())}else $.parent.addOrRebuild($)}get isEditorHandlingKeyboard(){var $;return(($=this.getActive())==null?void 0:$.shouldGetKeyboardEvents())||Dt(this,Kr).size===1&&this.firstSelectedEditor.shouldGetKeyboardEvents()}isActive($){return Dt(this,Go)===$}getActive(){return Dt(this,Go)}getMode(){return Dt(this,ko)}get imageManager(){return shadow(this,"imageManager",new ImageManager)}getSelectionBoxes($){if(!$)return null;const xt=document.getSelection();for(let wt=0,kt=xt.rangeCount;wt<kt;wt++)if(!$.contains(xt.getRangeAt(wt).commonAncestorContainer))return null;const{x:bt,y:St,width:At,height:Ct}=$.getBoundingClientRect();let Et;switch($.getAttribute("data-main-rotation")){case"90":Et=(wt,kt,_t,ht)=>({x:(kt-St)/Ct,y:1-(wt+_t-bt)/At,width:ht/Ct,height:_t/At});break;case"180":Et=(wt,kt,_t,ht)=>({x:1-(wt+_t-bt)/At,y:1-(kt+ht-St)/Ct,width:_t/At,height:ht/Ct});break;case"270":Et=(wt,kt,_t,ht)=>({x:1-(kt+ht-St)/Ct,y:(wt-bt)/At,width:ht/Ct,height:_t/At});break;default:Et=(wt,kt,_t,ht)=>({x:(wt-bt)/At,y:(kt-St)/Ct,width:_t/At,height:ht/Ct});break}const Pt=[];for(let wt=0,kt=xt.rangeCount;wt<kt;wt++){const _t=xt.getRangeAt(wt);if(!_t.collapsed)for(const{x:ht,y:vt,width:Ft,height:Vt}of _t.getClientRects())Ft===0||Vt===0||Pt.push(Et(ht,vt,Ft,Vt))}return Pt.length===0?null:Pt}addChangedExistingAnnotation({annotationElementId:$,id:xt}){(Dt(this,Zp)||$n(this,Zp,new Map)).set($,xt)}removeChangedExistingAnnotation({annotationElementId:$}){var xt;(xt=Dt(this,Zp))==null||xt.delete($)}renderAnnotationElement($){var St;const xt=(St=Dt(this,Zp))==null?void 0:St.get($.data.id);if(!xt)return;const bt=Dt(this,mu).getRawValue(xt);bt&&(Dt(this,ko)===AnnotationEditorType.NONE&&!bt.hasBeenModified||bt.renderAnnotationElement($))}};Go=new WeakMap,fo=new WeakMap,Co=new WeakMap,Yp=new WeakMap,mu=new WeakMap,Zp=new WeakMap,_l=new WeakMap,Jp=new WeakMap,j0=new WeakMap,Gl=new WeakMap,xu=new WeakMap,B0=new WeakMap,wm=new WeakMap,Sm=new WeakMap,Kl=new WeakMap,Qp=new WeakMap,Ju=new WeakMap,Yl=new WeakMap,Y2=new WeakMap,Qu=new WeakMap,Am=new WeakMap,U0=new WeakMap,Em=new WeakMap,e1=new WeakMap,ko=new WeakMap,Kr=new WeakMap,bu=new WeakMap,H0=new WeakMap,Cm=new WeakMap,km=new WeakMap,Tm=new WeakMap,Pm=new WeakMap,Rm=new WeakMap,Fm=new WeakMap,_m=new WeakMap,Mm=new WeakMap,Im=new WeakMap,Om=new WeakMap,Dm=new WeakMap,Lm=new WeakMap,Nm=new WeakMap,$m=new WeakMap,e0=new WeakMap,Zl=new WeakMap,yu=new WeakMap,jm=new WeakMap,Ys=new WeakSet,i2=function({anchorNode:$}){return $.nodeType===Node.TEXT_NODE?$.parentElement:$},E9=function(){const $=document.getSelection();if(!$||$.isCollapsed)return;const bt=On(this,Ys,i2).call(this,$).closest(".textLayer"),St=this.getSelectionBoxes(bt);St&&(Dt(this,Yl)||$n(this,Yl,new HighlightToolbar(this)),Dt(this,Yl).show(bt,St,this.direction==="ltr"))},C9=function(){var At,Ct,Et;const $=document.getSelection();if(!$||$.isCollapsed){Dt(this,bu)&&((At=Dt(this,Yl))==null||At.hide(),$n(this,bu,null),On(this,Ys,Oo).call(this,{hasSelectedText:!1}));return}const{anchorNode:xt}=$;if(xt===Dt(this,bu))return;if(!On(this,Ys,i2).call(this,$).closest(".textLayer")){Dt(this,bu)&&((Ct=Dt(this,Yl))==null||Ct.hide(),$n(this,bu,null),On(this,Ys,Oo).call(this,{hasSelectedText:!1}));return}if((Et=Dt(this,Yl))==null||Et.hide(),$n(this,bu,xt),On(this,Ys,Oo).call(this,{hasSelectedText:!0}),!(Dt(this,ko)!==AnnotationEditorType.HIGHLIGHT&&Dt(this,ko)!==AnnotationEditorType.NONE)&&(Dt(this,ko)===AnnotationEditorType.HIGHLIGHT&&this.showAllEditors("highlight",!0,!0),$n(this,Ju,this.isShiftKeyDown),!this.isShiftKeyDown)){const Pt=wt=>{wt.type==="pointerup"&&wt.button!==0||(window.removeEventListener("pointerup",Pt),window.removeEventListener("blur",Pt),wt.type==="pointerup"&&On(this,Ys,s2).call(this,"main_toolbar"))};window.addEventListener("pointerup",Pt),window.addEventListener("blur",Pt)}},s2=function($=""){Dt(this,ko)===AnnotationEditorType.HIGHLIGHT?this.highlightSelection($):Dt(this,wm)&&On(this,Ys,E9).call(this)},k9=function(){document.addEventListener("selectionchange",Dt(this,Lm))},T9=function(){document.removeEventListener("selectionchange",Dt(this,Lm))},P9=function(){window.addEventListener("focus",Dt(this,Tm)),window.addEventListener("blur",Dt(this,km))},vy=function(){window.removeEventListener("focus",Dt(this,Tm)),window.removeEventListener("blur",Dt(this,km))},wy=function(){window.addEventListener("keydown",Dt(this,_m)),window.addEventListener("keyup",Dt(this,Mm))},Sy=function(){window.removeEventListener("keydown",Dt(this,_m)),window.removeEventListener("keyup",Dt(this,Mm))},Ay=function(){document.addEventListener("copy",Dt(this,Pm)),document.addEventListener("cut",Dt(this,Rm)),document.addEventListener("paste",Dt(this,Fm))},Ey=function(){document.removeEventListener("copy",Dt(this,Pm)),document.removeEventListener("cut",Dt(this,Rm)),document.removeEventListener("paste",Dt(this,Fm))},Oo=function($){Object.entries($).some(([bt,St])=>Dt(this,$m)[bt]!==St)&&(this._eventBus.dispatch("annotationeditorstateschanged",{source:this,details:Object.assign(Dt(this,$m),$)}),Dt(this,ko)===AnnotationEditorType.HIGHLIGHT&&$.hasSelectedEditor===!1&&On(this,Ys,Ku).call(this,[[AnnotationEditorParamsType.HIGHLIGHT_FREE,!0]]))},Ku=function($){this._eventBus.dispatch("annotationeditorparamschanged",{source:this,details:$})},R9=function(){if(!Dt(this,Qu)){$n(this,Qu,!0);for(const $ of Dt(this,Co).values())$.enable();for(const $ of Dt(this,fo).values())$.enable()}},F9=function(){if(this.unselectAll(),Dt(this,Qu)){$n(this,Qu,!1);for(const $ of Dt(this,Co).values())$.disable();for(const $ of Dt(this,fo).values())$.disable()}},Cy=function($){const xt=Dt(this,Co).get($.pageIndex);xt?xt.addOrRebuild($):(this.addEditor($),this.addToAnnotationStorage($))},_9=function(){let $=null;for($ of Dt(this,Kr));return $},Q1=function(){if(Dt(this,fo).size===0)return!0;if(Dt(this,fo).size===1)for(const $ of Dt(this,fo).values())return $.isEmpty();return!1},ky=function($){for(const xt of Dt(this,Kr))xt.unselect();Dt(this,Kr).clear();for(const xt of $)xt.isEmpty()||(Dt(this,Kr).add(xt),xt.select());On(this,Ys,Oo).call(this,{hasSelectedEditor:this.hasSelection})},Us(Kp,"TRANSLATE_SMALL",1),Us(Kp,"TRANSLATE_BIG",10);let AnnotationEditorUIManager=Kp;var vu,wu,Ml,Su,Il,t1,Au,Bm,Ty;const du=class du{constructor($){Nn(this,Bm);Nn(this,vu,"");Nn(this,wu,!1);Nn(this,Ml,null);Nn(this,Su,null);Nn(this,Il,null);Nn(this,t1,!1);Nn(this,Au,null);$n(this,Au,$)}static initialize($){du._l10nPromise||(du._l10nPromise=$)}async render(){const $=$n(this,Ml,document.createElement("button"));$.className="altText";const xt=await du._l10nPromise.get("pdfjs-editor-alt-text-button-label");$.textContent=xt,$.setAttribute("aria-label",xt),$.tabIndex="0",$.addEventListener("contextmenu",noContextMenu),$.addEventListener("pointerdown",St=>St.stopPropagation());const bt=St=>{St.preventDefault(),Dt(this,Au)._uiManager.editAltText(Dt(this,Au))};return $.addEventListener("click",bt,{capture:!0}),$.addEventListener("keydown",St=>{St.target===$&&St.key==="Enter"&&($n(this,t1,!0),bt(St))}),await On(this,Bm,Ty).call(this),$}finish(){Dt(this,Ml)&&(Dt(this,Ml).focus({focusVisible:Dt(this,t1)}),$n(this,t1,!1))}isEmpty(){return!Dt(this,vu)&&!Dt(this,wu)}get data(){return{altText:Dt(this,vu),decorative:Dt(this,wu)}}set data({altText:$,decorative:xt}){Dt(this,vu)===$&&Dt(this,wu)===xt||($n(this,vu,$),$n(this,wu,xt),On(this,Bm,Ty).call(this))}toggle($=!1){Dt(this,Ml)&&(!$&&Dt(this,Il)&&(clearTimeout(Dt(this,Il)),$n(this,Il,null)),Dt(this,Ml).disabled=!$)}destroy(){var $;($=Dt(this,Ml))==null||$.remove(),$n(this,Ml,null),$n(this,Su,null)}};vu=new WeakMap,wu=new WeakMap,Ml=new WeakMap,Su=new WeakMap,Il=new WeakMap,t1=new WeakMap,Au=new WeakMap,Bm=new WeakSet,Ty=async function(){var St;const $=Dt(this,Ml);if(!$)return;if(!Dt(this,vu)&&!Dt(this,wu)){$.classList.remove("done"),(St=Dt(this,Su))==null||St.remove();return}$.classList.add("done"),du._l10nPromise.get("pdfjs-editor-alt-text-edit-button-label").then(At=>{$.setAttribute("aria-label",At)});let xt=Dt(this,Su);if(!xt){$n(this,Su,xt=document.createElement("span")),xt.className="tooltip",xt.setAttribute("role","tooltip");const At=xt.id=`alt-text-tooltip-${Dt(this,Au).id}`;$.setAttribute("aria-describedby",At);const Ct=100;$.addEventListener("mouseenter",()=>{$n(this,Il,setTimeout(()=>{$n(this,Il,null),Dt(this,Su).classList.add("show"),Dt(this,Au)._reportTelemetry({action:"alt_text_tooltip"})},Ct))}),$.addEventListener("mouseleave",()=>{var Et;Dt(this,Il)&&(clearTimeout(Dt(this,Il)),$n(this,Il,null)),(Et=Dt(this,Su))==null||Et.classList.remove("show")})}xt.innerText=Dt(this,wu)?await du._l10nPromise.get("pdfjs-editor-alt-text-decorative-tooltip"):Dt(this,vu),xt.parentNode||$.append(xt);const bt=Dt(this,Au).getImageForAltText();bt==null||bt.setAttribute("aria-describedby",xt.id)},Us(du,"_l10nPromise",null);let AltText=du;var Ol,Do,n1,V0,To,z0,i1,s1,Io,Um,X0,t0,Hm,W0,Eu,Jl,r1,a1,wl,Vm,Z2,Dr,Py,zm,Ry,Fy,M9,I9,_y,My,Iy,O9,D9,L9,N9,Oy,_g;const _a=class _a{constructor($){Nn(this,Dr);Nn(this,Ol,null);Nn(this,Do,null);Nn(this,n1,!1);Nn(this,V0,!1);Nn(this,To,null);Nn(this,z0,null);Nn(this,i1,this.focusin.bind(this));Nn(this,s1,this.focusout.bind(this));Nn(this,Io,null);Nn(this,Um,"");Nn(this,X0,!1);Nn(this,t0,null);Nn(this,Hm,!1);Nn(this,W0,!1);Nn(this,Eu,!1);Nn(this,Jl,null);Nn(this,r1,0);Nn(this,a1,0);Nn(this,wl,null);Us(this,"_initialOptions",Object.create(null));Us(this,"_isVisible",!0);Us(this,"_uiManager",null);Us(this,"_focusEventsAllowed",!0);Us(this,"_l10nPromise",null);Nn(this,Vm,!1);Nn(this,Z2,_a._zIndex++);this.constructor===_a&&unreachable("Cannot initialize AnnotationEditor."),this.parent=$.parent,this.id=$.id,this.width=this.height=null,this.pageIndex=$.parent.pageIndex,this.name=$.name,this.div=null,this._uiManager=$.uiManager,this.annotationElementId=null,this._willKeepAspectRatio=!1,this._initialOptions.isCentered=$.isCentered,this._structTreeParentId=null;const{rotation:xt,rawDims:{pageWidth:bt,pageHeight:St,pageX:At,pageY:Ct}}=this.parent.viewport;this.rotation=xt,this.pageRotation=(360+xt-this._uiManager.viewParameters.rotation)%360,this.pageDimensions=[bt,St],this.pageTranslation=[At,Ct];const[Et,Pt]=this.parentDimensions;this.x=$.x/Et,this.y=$.y/Pt,this.isAttachedToDOM=!1,this.deleted=!1}static get _resizerKeyboardManager(){const $=_a.prototype._resizeWithKeyboard,xt=AnnotationEditorUIManager.TRANSLATE_SMALL,bt=AnnotationEditorUIManager.TRANSLATE_BIG;return shadow(this,"_resizerKeyboardManager",new KeyboardManager([[["ArrowLeft","mac+ArrowLeft"],$,{args:[-xt,0]}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],$,{args:[-bt,0]}],[["ArrowRight","mac+ArrowRight"],$,{args:[xt,0]}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],$,{args:[bt,0]}],[["ArrowUp","mac+ArrowUp"],$,{args:[0,-xt]}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],$,{args:[0,-bt]}],[["ArrowDown","mac+ArrowDown"],$,{args:[0,xt]}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],$,{args:[0,bt]}],[["Escape","mac+Escape"],_a.prototype._stopResizingWithKeyboard]]))}get editorType(){return Object.getPrototypeOf(this).constructor._type}static get _defaultLineColor(){return shadow(this,"_defaultLineColor",this._colorManager.getHexCode("CanvasText"))}static deleteAnnotationElement($){const xt=new FakeEditor({id:$.parent.getNextId(),parent:$.parent,uiManager:$._uiManager});xt.annotationElementId=$.annotationElementId,xt.deleted=!0,xt._uiManager.addToAnnotationStorage(xt)}static initialize($,xt,bt){if(_a._l10nPromise||(_a._l10nPromise=new Map(["pdfjs-editor-alt-text-button-label","pdfjs-editor-alt-text-edit-button-label","pdfjs-editor-alt-text-decorative-tooltip","pdfjs-editor-resizer-label-topLeft","pdfjs-editor-resizer-label-topMiddle","pdfjs-editor-resizer-label-topRight","pdfjs-editor-resizer-label-middleRight","pdfjs-editor-resizer-label-bottomRight","pdfjs-editor-resizer-label-bottomMiddle","pdfjs-editor-resizer-label-bottomLeft","pdfjs-editor-resizer-label-middleLeft"].map(At=>[At,$.get(At.replaceAll(/([A-Z])/g,Ct=>`-${Ct.toLowerCase()}`))]))),bt!=null&&bt.strings)for(const At of bt.strings)_a._l10nPromise.set(At,$.get(At));if(_a._borderLineWidth!==-1)return;const St=getComputedStyle(document.documentElement);_a._borderLineWidth=parseFloat(St.getPropertyValue("--outline-width"))||0}static updateDefaultParams($,xt){}static get defaultPropertiesToUpdate(){return[]}static isHandlingMimeForPasting($){return!1}static paste($,xt){unreachable("Not implemented")}get propertiesToUpdate(){return[]}get _isDraggable(){return Dt(this,Vm)}set _isDraggable($){var xt;$n(this,Vm,$),(xt=this.div)==null||xt.classList.toggle("draggable",$)}get isEnterHandled(){return!0}center(){const[$,xt]=this.pageDimensions;switch(this.parentRotation){case 90:this.x-=this.height*xt/($*2),this.y+=this.width*$/(xt*2);break;case 180:this.x+=this.width/2,this.y+=this.height/2;break;case 270:this.x+=this.height*xt/($*2),this.y-=this.width*$/(xt*2);break;default:this.x-=this.width/2,this.y-=this.height/2;break}this.fixAndSetPosition()}addCommands($){this._uiManager.addCommands($)}get currentLayer(){return this._uiManager.currentLayer}setInBackground(){this.div.style.zIndex=0}setInForeground(){this.div.style.zIndex=Dt(this,Z2)}setParent($){$!==null?(this.pageIndex=$.pageIndex,this.pageDimensions=$.pageDimensions):On(this,Dr,_g).call(this),this.parent=$}focusin($){this._focusEventsAllowed&&(Dt(this,X0)?$n(this,X0,!1):this.parent.setSelected(this))}focusout($){var bt;if(!this._focusEventsAllowed||!this.isAttachedToDOM)return;const xt=$.relatedTarget;xt!=null&&xt.closest(`#${this.id}`)||($.preventDefault(),(bt=this.parent)!=null&&bt.isMultipleSelection||this.commitOrRemove())}commitOrRemove(){this.isEmpty()?this.remove():this.commit()}commit(){this.addToAnnotationStorage()}addToAnnotationStorage(){this._uiManager.addToAnnotationStorage(this)}setAt($,xt,bt,St){const[At,Ct]=this.parentDimensions;[bt,St]=this.screenToPageTranslation(bt,St),this.x=($+bt)/At,this.y=(xt+St)/Ct,this.fixAndSetPosition()}translate($,xt){On(this,Dr,Py).call(this,this.parentDimensions,$,xt)}translateInPage($,xt){Dt(this,t0)||$n(this,t0,[this.x,this.y]),On(this,Dr,Py).call(this,this.pageDimensions,$,xt),this.div.scrollIntoView({block:"nearest"})}drag($,xt){Dt(this,t0)||$n(this,t0,[this.x,this.y]);const[bt,St]=this.parentDimensions;if(this.x+=$/bt,this.y+=xt/St,this.parent&&(this.x<0||this.x>1||this.y<0||this.y>1)){const{x:wt,y:kt}=this.div.getBoundingClientRect();this.parent.findNewParent(this,wt,kt)&&(this.x-=Math.floor(this.x),this.y-=Math.floor(this.y))}let{x:At,y:Ct}=this;const[Et,Pt]=this.getBaseTranslation();At+=Et,Ct+=Pt,this.div.style.left=`${(100*At).toFixed(2)}%`,this.div.style.top=`${(100*Ct).toFixed(2)}%`,this.div.scrollIntoView({block:"nearest"})}get _hasBeenMoved(){return!!Dt(this,t0)&&(Dt(this,t0)[0]!==this.x||Dt(this,t0)[1]!==this.y)}getBaseTranslation(){const[$,xt]=this.parentDimensions,{_borderLineWidth:bt}=_a,St=bt/$,At=bt/xt;switch(this.rotation){case 90:return[-St,At];case 180:return[St,At];case 270:return[St,-At];default:return[-St,-At]}}get _mustFixPosition(){return!0}fixAndSetPosition($=this.rotation){const[xt,bt]=this.pageDimensions;let{x:St,y:At,width:Ct,height:Et}=this;if(Ct*=xt,Et*=bt,St*=xt,At*=bt,this._mustFixPosition)switch($){case 0:St=Math.max(0,Math.min(xt-Ct,St)),At=Math.max(0,Math.min(bt-Et,At));break;case 90:St=Math.max(0,Math.min(xt-Et,St)),At=Math.min(bt,Math.max(Ct,At));break;case 180:St=Math.min(xt,Math.max(Ct,St)),At=Math.min(bt,Math.max(Et,At));break;case 270:St=Math.min(xt,Math.max(Et,St)),At=Math.max(0,Math.min(bt-Ct,At));break}this.x=St/=xt,this.y=At/=bt;const[Pt,wt]=this.getBaseTranslation();St+=Pt,At+=wt;const{style:kt}=this.div;kt.left=`${(100*St).toFixed(2)}%`,kt.top=`${(100*At).toFixed(2)}%`,this.moveInDOM()}screenToPageTranslation($,xt){var bt;return On(bt=_a,zm,Ry).call(bt,$,xt,this.parentRotation)}pageTranslationToScreen($,xt){var bt;return On(bt=_a,zm,Ry).call(bt,$,xt,360-this.parentRotation)}get parentScale(){return this._uiManager.viewParameters.realScale}get parentRotation(){return(this._uiManager.viewParameters.rotation+this.pageRotation)%360}get parentDimensions(){const{parentScale:$,pageDimensions:[xt,bt]}=this,St=xt*$,At=bt*$;return util_FeatureTest.isCSSRoundSupported?[Math.round(St),Math.round(At)]:[St,At]}setDims($,xt){const[bt,St]=this.parentDimensions;this.div.style.width=`${(100*$/bt).toFixed(2)}%`,Dt(this,V0)||(this.div.style.height=`${(100*xt/St).toFixed(2)}%`)}fixDims(){const{style:$}=this.div,{height:xt,width:bt}=$,St=bt.endsWith("%"),At=!Dt(this,V0)&&xt.endsWith("%");if(St&&At)return;const[Ct,Et]=this.parentDimensions;St||($.width=`${(100*parseFloat(bt)/Ct).toFixed(2)}%`),!Dt(this,V0)&&!At&&($.height=`${(100*parseFloat(xt)/Et).toFixed(2)}%`)}getInitialTranslation(){return[0,0]}altTextFinish(){var $;($=Dt(this,Do))==null||$.finish()}async addEditToolbar(){return Dt(this,Io)||Dt(this,W0)?Dt(this,Io):($n(this,Io,new EditorToolbar(this)),this.div.append(Dt(this,Io).render()),Dt(this,Do)&&Dt(this,Io).addAltTextButton(await Dt(this,Do).render()),Dt(this,Io))}removeEditToolbar(){var $;Dt(this,Io)&&(Dt(this,Io).remove(),$n(this,Io,null),($=Dt(this,Do))==null||$.destroy())}getClientDimensions(){return this.div.getBoundingClientRect()}async addAltTextButton(){Dt(this,Do)||(AltText.initialize(_a._l10nPromise),$n(this,Do,new AltText(this)),await this.addEditToolbar())}get altTextData(){var $;return($=Dt(this,Do))==null?void 0:$.data}set altTextData($){Dt(this,Do)&&(Dt(this,Do).data=$)}hasAltText(){var $;return!(($=Dt(this,Do))!=null&&$.isEmpty())}render(){this.div=document.createElement("div"),this.div.setAttribute("data-editor-rotation",(360-this.rotation)%360),this.div.className=this.name,this.div.setAttribute("id",this.id),this.div.tabIndex=Dt(this,n1)?-1:0,this._isVisible||this.div.classList.add("hidden"),this.setInForeground(),this.div.addEventListener("focusin",Dt(this,i1)),this.div.addEventListener("focusout",Dt(this,s1));const[$,xt]=this.parentDimensions;this.parentRotation%180!==0&&(this.div.style.maxWidth=`${(100*xt/$).toFixed(2)}%`,this.div.style.maxHeight=`${(100*$/xt).toFixed(2)}%`);const[bt,St]=this.getInitialTranslation();return this.translate(bt,St),bindEvents(this,this.div,["pointerdown"]),this.div}pointerdown($){const{isMac:xt}=util_FeatureTest.platform;if($.button!==0||$.ctrlKey&&xt){$.preventDefault();return}if($n(this,X0,!0),this._isDraggable){On(this,Dr,O9).call(this,$);return}On(this,Dr,Iy).call(this,$)}moveInDOM(){Dt(this,Jl)&&clearTimeout(Dt(this,Jl)),$n(this,Jl,setTimeout(()=>{var $;$n(this,Jl,null),($=this.parent)==null||$.moveEditorInDOM(this)},0))}_setParentAndPosition($,xt,bt){$.changeParent(this),this.x=xt,this.y=bt,this.fixAndSetPosition()}getRect($,xt,bt=this.rotation){const St=this.parentScale,[At,Ct]=this.pageDimensions,[Et,Pt]=this.pageTranslation,wt=$/St,kt=xt/St,_t=this.x*At,ht=this.y*Ct,vt=this.width*At,Ft=this.height*Ct;switch(bt){case 0:return[_t+wt+Et,Ct-ht-kt-Ft+Pt,_t+wt+vt+Et,Ct-ht-kt+Pt];case 90:return[_t+kt+Et,Ct-ht+wt+Pt,_t+kt+Ft+Et,Ct-ht+wt+vt+Pt];case 180:return[_t-wt-vt+Et,Ct-ht+kt+Pt,_t-wt+Et,Ct-ht+kt+Ft+Pt];case 270:return[_t-kt-Ft+Et,Ct-ht-wt-vt+Pt,_t-kt+Et,Ct-ht-wt+Pt];default:throw new Error("Invalid rotation")}}getRectInCurrentCoords($,xt){const[bt,St,At,Ct]=$,Et=At-bt,Pt=Ct-St;switch(this.rotation){case 0:return[bt,xt-Ct,Et,Pt];case 90:return[bt,xt-St,Pt,Et];case 180:return[At,xt-St,Et,Pt];case 270:return[At,xt-Ct,Pt,Et];default:throw new Error("Invalid rotation")}}onceAdded(){}isEmpty(){return!1}enableEditMode(){$n(this,W0,!0)}disableEditMode(){$n(this,W0,!1)}isInEditMode(){return Dt(this,W0)}shouldGetKeyboardEvents(){return Dt(this,Eu)}needsToBeRebuilt(){return this.div&&!this.isAttachedToDOM}rebuild(){var $,xt;($=this.div)==null||$.addEventListener("focusin",Dt(this,i1)),(xt=this.div)==null||xt.addEventListener("focusout",Dt(this,s1))}rotate($){}serialize($=!1,xt=null){unreachable("An editor must be serializable")}static deserialize($,xt,bt){const St=new this.prototype.constructor({parent:xt,id:xt.getNextId(),uiManager:bt});St.rotation=$.rotation;const[At,Ct]=St.pageDimensions,[Et,Pt,wt,kt]=St.getRectInCurrentCoords($.rect,Ct);return St.x=Et/At,St.y=Pt/Ct,St.width=wt/At,St.height=kt/Ct,St}get hasBeenModified(){return!!this.annotationElementId&&(this.deleted||this.serialize()!==null)}remove(){if(this.div.removeEventListener("focusin",Dt(this,i1)),this.div.removeEventListener("focusout",Dt(this,s1)),this.isEmpty()||this.commit(),this.parent?this.parent.remove(this):this._uiManager.removeEditor(this),Dt(this,Jl)&&(clearTimeout(Dt(this,Jl)),$n(this,Jl,null)),On(this,Dr,_g).call(this),this.removeEditToolbar(),Dt(this,wl)){for(const $ of Dt(this,wl).values())clearTimeout($);$n(this,wl,null)}this.parent=null}get isResizable(){return!1}makeResizable(){this.isResizable&&(On(this,Dr,M9).call(this),Dt(this,To).classList.remove("hidden"),bindEvents(this,this.div,["keydown"]))}get toolbarPosition(){return null}keydown($){if(!this.isResizable||$.target!==this.div||$.key!=="Enter")return;this._uiManager.setSelected(this),$n(this,z0,{savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height});const xt=Dt(this,To).children;if(!Dt(this,Ol)){$n(this,Ol,Array.from(xt));const Ct=On(this,Dr,D9).bind(this),Et=On(this,Dr,L9).bind(this);for(const Pt of Dt(this,Ol)){const wt=Pt.getAttribute("data-resizer-name");Pt.setAttribute("role","spinbutton"),Pt.addEventListener("keydown",Ct),Pt.addEventListener("blur",Et),Pt.addEventListener("focus",On(this,Dr,N9).bind(this,wt)),_a._l10nPromise.get(`pdfjs-editor-resizer-label-${wt}`).then(kt=>Pt.setAttribute("aria-label",kt))}}const bt=Dt(this,Ol)[0];let St=0;for(const Ct of xt){if(Ct===bt)break;St++}const At=(360-this.rotation+this.parentRotation)%360/90*(Dt(this,Ol).length/4);if(At!==St){if(At<St)for(let Et=0;Et<St-At;Et++)Dt(this,To).append(Dt(this,To).firstChild);else if(At>St)for(let Et=0;Et<At-St;Et++)Dt(this,To).firstChild.before(Dt(this,To).lastChild);let Ct=0;for(const Et of xt){const wt=Dt(this,Ol)[Ct++].getAttribute("data-resizer-name");_a._l10nPromise.get(`pdfjs-editor-resizer-label-${wt}`).then(kt=>Et.setAttribute("aria-label",kt))}}On(this,Dr,Oy).call(this,0),$n(this,Eu,!0),Dt(this,To).firstChild.focus({focusVisible:!0}),$.preventDefault(),$.stopImmediatePropagation()}_resizeWithKeyboard($,xt){Dt(this,Eu)&&On(this,Dr,My).call(this,Dt(this,Um),{movementX:$,movementY:xt})}_stopResizingWithKeyboard(){On(this,Dr,_g).call(this),this.div.focus()}select(){var $,xt;if(this.makeResizable(),($=this.div)==null||$.classList.add("selectedEditor"),!Dt(this,Io)){this.addEditToolbar().then(()=>{var bt,St;(bt=this.div)!=null&&bt.classList.contains("selectedEditor")&&((St=Dt(this,Io))==null||St.show())});return}(xt=Dt(this,Io))==null||xt.show()}unselect(){var $,xt,bt,St;($=Dt(this,To))==null||$.classList.add("hidden"),(xt=this.div)==null||xt.classList.remove("selectedEditor"),(bt=this.div)!=null&&bt.contains(document.activeElement)&&this._uiManager.currentLayer.div.focus({preventScroll:!0}),(St=Dt(this,Io))==null||St.hide()}updateParams($,xt){}disableEditing(){}enableEditing(){}enterInEditMode(){}getImageForAltText(){return null}get contentDiv(){return this.div}get isEditing(){return Dt(this,Hm)}set isEditing($){$n(this,Hm,$),this.parent&&($?(this.parent.setSelected(this),this.parent.setActiveEditor(this)):this.parent.setActiveEditor(null))}setAspectRatio($,xt){$n(this,V0,!0);const bt=$/xt,{style:St}=this.div;St.aspectRatio=bt,St.height="auto"}static get MIN_SIZE(){return 16}static canCreateNewEmptyEditor(){return!0}get telemetryInitialData(){return{action:"added"}}get telemetryFinalData(){return null}_reportTelemetry($,xt=!1){if(xt){Dt(this,wl)||$n(this,wl,new Map);const{action:bt}=$;let St=Dt(this,wl).get(bt);St&&clearTimeout(St),St=setTimeout(()=>{this._reportTelemetry($),Dt(this,wl).delete(bt),Dt(this,wl).size===0&&$n(this,wl,null)},_a._telemetryTimeout),Dt(this,wl).set(bt,St);return}$.type||($.type=this.editorType),this._uiManager._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:$}})}show($=this._isVisible){this.div.classList.toggle("hidden",!$),this._isVisible=$}enable(){this.div&&(this.div.tabIndex=0),$n(this,n1,!1)}disable(){this.div&&(this.div.tabIndex=-1),$n(this,n1,!0)}renderAnnotationElement($){let xt=$.container.querySelector(".annotationContent");if(!xt)xt=document.createElement("div"),xt.classList.add("annotationContent",this.editorType),$.container.prepend(xt);else if(xt.nodeName==="CANVAS"){const bt=xt;xt=document.createElement("div"),xt.classList.add("annotationContent",this.editorType),bt.before(xt)}return xt}resetAnnotationElement($){const{firstChild:xt}=$.container;xt.nodeName==="DIV"&&xt.classList.contains("annotationContent")&&xt.remove()}};Ol=new WeakMap,Do=new WeakMap,n1=new WeakMap,V0=new WeakMap,To=new WeakMap,z0=new WeakMap,i1=new WeakMap,s1=new WeakMap,Io=new WeakMap,Um=new WeakMap,X0=new WeakMap,t0=new WeakMap,Hm=new WeakMap,W0=new WeakMap,Eu=new WeakMap,Jl=new WeakMap,r1=new WeakMap,a1=new WeakMap,wl=new WeakMap,Vm=new WeakMap,Z2=new WeakMap,Dr=new WeakSet,Py=function([$,xt],bt,St){[bt,St]=this.screenToPageTranslation(bt,St),this.x+=bt/$,this.y+=St/xt,this.fixAndSetPosition()},zm=new WeakSet,Ry=function($,xt,bt){switch(bt){case 90:return[xt,-$];case 180:return[-$,-xt];case 270:return[-xt,$];default:return[$,xt]}},Fy=function($){switch($){case 90:{const[xt,bt]=this.pageDimensions;return[0,-xt/bt,bt/xt,0]}case 180:return[-1,0,0,-1];case 270:{const[xt,bt]=this.pageDimensions;return[0,xt/bt,-bt/xt,0]}default:return[1,0,0,1]}},M9=function(){if(Dt(this,To))return;$n(this,To,document.createElement("div")),Dt(this,To).classList.add("resizers");const $=this._willKeepAspectRatio?["topLeft","topRight","bottomRight","bottomLeft"]:["topLeft","topMiddle","topRight","middleRight","bottomRight","bottomMiddle","bottomLeft","middleLeft"];for(const xt of $){const bt=document.createElement("div");Dt(this,To).append(bt),bt.classList.add("resizer",xt),bt.setAttribute("data-resizer-name",xt),bt.addEventListener("pointerdown",On(this,Dr,I9).bind(this,xt)),bt.addEventListener("contextmenu",noContextMenu),bt.tabIndex=-1}this.div.prepend(Dt(this,To))},I9=function($,xt){var Ft;xt.preventDefault();const{isMac:bt}=util_FeatureTest.platform;if(xt.button!==0||xt.ctrlKey&&bt)return;(Ft=Dt(this,Do))==null||Ft.toggle(!1);const St=On(this,Dr,My).bind(this,$),At=this._isDraggable;this._isDraggable=!1;const Ct={passive:!0,capture:!0};this.parent.togglePointerEvents(!1),window.addEventListener("pointermove",St,Ct),window.addEventListener("contextmenu",noContextMenu);const Et=this.x,Pt=this.y,wt=this.width,kt=this.height,_t=this.parent.div.style.cursor,ht=this.div.style.cursor;this.div.style.cursor=this.parent.div.style.cursor=window.getComputedStyle(xt.target).cursor;const vt=()=>{var Vt;this.parent.togglePointerEvents(!0),(Vt=Dt(this,Do))==null||Vt.toggle(!0),this._isDraggable=At,window.removeEventListener("pointerup",vt),window.removeEventListener("blur",vt),window.removeEventListener("pointermove",St,Ct),window.removeEventListener("contextmenu",noContextMenu),this.parent.div.style.cursor=_t,this.div.style.cursor=ht,On(this,Dr,_y).call(this,Et,Pt,wt,kt)};window.addEventListener("pointerup",vt),window.addEventListener("blur",vt)},_y=function($,xt,bt,St){const At=this.x,Ct=this.y,Et=this.width,Pt=this.height;At===$&&Ct===xt&&Et===bt&&Pt===St||this.addCommands({cmd:()=>{this.width=Et,this.height=Pt,this.x=At,this.y=Ct;const[wt,kt]=this.parentDimensions;this.setDims(wt*Et,kt*Pt),this.fixAndSetPosition()},undo:()=>{this.width=bt,this.height=St,this.x=$,this.y=xt;const[wt,kt]=this.parentDimensions;this.setDims(wt*bt,kt*St),this.fixAndSetPosition()},mustExec:!0})},My=function($,xt){const[bt,St]=this.parentDimensions,At=this.x,Ct=this.y,Et=this.width,Pt=this.height,wt=_a.MIN_SIZE/bt,kt=_a.MIN_SIZE/St,_t=dn=>Math.round(dn*1e4)/1e4,ht=On(this,Dr,Fy).call(this,this.rotation),vt=(dn,Ut)=>[ht[0]*dn+ht[2]*Ut,ht[1]*dn+ht[3]*Ut],Ft=On(this,Dr,Fy).call(this,360-this.rotation),Vt=(dn,Ut)=>[Ft[0]*dn+Ft[2]*Ut,Ft[1]*dn+Ft[3]*Ut];let qt,Lt,$t=!1,Ot=!1;switch($){case"topLeft":$t=!0,qt=(dn,Ut)=>[0,0],Lt=(dn,Ut)=>[dn,Ut];break;case"topMiddle":qt=(dn,Ut)=>[dn/2,0],Lt=(dn,Ut)=>[dn/2,Ut];break;case"topRight":$t=!0,qt=(dn,Ut)=>[dn,0],Lt=(dn,Ut)=>[0,Ut];break;case"middleRight":Ot=!0,qt=(dn,Ut)=>[dn,Ut/2],Lt=(dn,Ut)=>[0,Ut/2];break;case"bottomRight":$t=!0,qt=(dn,Ut)=>[dn,Ut],Lt=(dn,Ut)=>[0,0];break;case"bottomMiddle":qt=(dn,Ut)=>[dn/2,Ut],Lt=(dn,Ut)=>[dn/2,0];break;case"bottomLeft":$t=!0,qt=(dn,Ut)=>[0,Ut],Lt=(dn,Ut)=>[dn,0];break;case"middleLeft":Ot=!0,qt=(dn,Ut)=>[0,Ut/2],Lt=(dn,Ut)=>[dn,Ut/2];break}const jt=qt(Et,Pt),Rt=Lt(Et,Pt);let Kt=vt(...Rt);const Bt=_t(At+Kt[0]),Gt=_t(Ct+Kt[1]);let en=1,hn=1,[tn,gn]=this.screenToPageTranslation(xt.movementX,xt.movementY);if([tn,gn]=Vt(tn/bt,gn/St),$t){const dn=Math.hypot(Et,Pt);en=hn=Math.max(Math.min(Math.hypot(Rt[0]-jt[0]-tn,Rt[1]-jt[1]-gn)/dn,1/Et,1/Pt),wt/Et,kt/Pt)}else Ot?en=Math.max(wt,Math.min(1,Math.abs(Rt[0]-jt[0]-tn)))/Et:hn=Math.max(kt,Math.min(1,Math.abs(Rt[1]-jt[1]-gn)))/Pt;const nn=_t(Et*en),bn=_t(Pt*hn);Kt=vt(...Lt(nn,bn));const Wt=Bt-Kt[0],Yt=Gt-Kt[1];this.width=nn,this.height=bn,this.x=Wt,this.y=Yt,this.setDims(bt*nn,St*bn),this.fixAndSetPosition()},Iy=function($){const{isMac:xt}=util_FeatureTest.platform;$.ctrlKey&&!xt||$.shiftKey||$.metaKey&&xt?this.parent.toggleSelected(this):this.parent.setSelected(this)},O9=function($){const xt=this._uiManager.isSelected(this);this._uiManager.setUpDragSession();let bt,St;xt&&(this.div.classList.add("moving"),bt={passive:!0,capture:!0},$n(this,r1,$.clientX),$n(this,a1,$.clientY),St=Ct=>{const{clientX:Et,clientY:Pt}=Ct,[wt,kt]=this.screenToPageTranslation(Et-Dt(this,r1),Pt-Dt(this,a1));$n(this,r1,Et),$n(this,a1,Pt),this._uiManager.dragSelectedEditors(wt,kt)},window.addEventListener("pointermove",St,bt));const At=()=>{window.removeEventListener("pointerup",At),window.removeEventListener("blur",At),xt&&(this.div.classList.remove("moving"),window.removeEventListener("pointermove",St,bt)),$n(this,X0,!1),this._uiManager.endDragSession()||On(this,Dr,Iy).call(this,$)};window.addEventListener("pointerup",At),window.addEventListener("blur",At)},D9=function($){_a._resizerKeyboardManager.exec(this,$)},L9=function($){var xt;Dt(this,Eu)&&((xt=$.relatedTarget)==null?void 0:xt.parentNode)!==Dt(this,To)&&On(this,Dr,_g).call(this)},N9=function($){$n(this,Um,Dt(this,Eu)?$:"")},Oy=function($){if(Dt(this,Ol))for(const xt of Dt(this,Ol))xt.tabIndex=$},_g=function(){if($n(this,Eu,!1),On(this,Dr,Oy).call(this,-1),Dt(this,z0)){const{savedX:$,savedY:xt,savedWidth:bt,savedHeight:St}=Dt(this,z0);On(this,Dr,_y).call(this,$,xt,bt,St),$n(this,z0,null)}},Nn(_a,zm),Us(_a,"_borderLineWidth",-1),Us(_a,"_colorManager",new ColorManager),Us(_a,"_zIndex",1),Us(_a,"_telemetryTimeout",1e3);let AnnotationEditor=_a;class FakeEditor extends AnnotationEditor{constructor($){super($),this.annotationElementId=$.annotationElementId,this.deleted=!0}serialize(){return{id:this.annotationElementId,deleted:!0,pageIndex:this.pageIndex}}}const SEED=3285377520,MASK_HIGH=4294901760,MASK_LOW=65535;class MurmurHash3_64{constructor($){this.h1=$?$&4294967295:SEED,this.h2=$?$&4294967295:SEED}update($){let xt,bt;if(typeof $=="string"){xt=new Uint8Array($.length*2),bt=0;for(let Vt=0,qt=$.length;Vt<qt;Vt++){const Lt=$.charCodeAt(Vt);Lt<=255?xt[bt++]=Lt:(xt[bt++]=Lt>>>8,xt[bt++]=Lt&255)}}else if(ArrayBuffer.isView($))xt=$.slice(),bt=xt.byteLength;else throw new Error("Invalid data format, must be a string or TypedArray.");const St=bt>>2,At=bt-St*4,Ct=new Uint32Array(xt.buffer,0,St);let Et=0,Pt=0,wt=this.h1,kt=this.h2;const _t=3432918353,ht=461845907,vt=_t&MASK_LOW,Ft=ht&MASK_LOW;for(let Vt=0;Vt<St;Vt++)Vt&1?(Et=Ct[Vt],Et=Et*_t&MASK_HIGH|Et*vt&MASK_LOW,Et=Et<<15|Et>>>17,Et=Et*ht&MASK_HIGH|Et*Ft&MASK_LOW,wt^=Et,wt=wt<<13|wt>>>19,wt=wt*5+3864292196):(Pt=Ct[Vt],Pt=Pt*_t&MASK_HIGH|Pt*vt&MASK_LOW,Pt=Pt<<15|Pt>>>17,Pt=Pt*ht&MASK_HIGH|Pt*Ft&MASK_LOW,kt^=Pt,kt=kt<<13|kt>>>19,kt=kt*5+3864292196);switch(Et=0,At){case 3:Et^=xt[St*4+2]<<16;case 2:Et^=xt[St*4+1]<<8;case 1:Et^=xt[St*4],Et=Et*_t&MASK_HIGH|Et*vt&MASK_LOW,Et=Et<<15|Et>>>17,Et=Et*ht&MASK_HIGH|Et*Ft&MASK_LOW,St&1?wt^=Et:kt^=Et}this.h1=wt,this.h2=kt}hexdigest(){let $=this.h1,xt=this.h2;return $^=xt>>>1,$=$*3981806797&MASK_HIGH|$*36045&MASK_LOW,xt=xt*4283543511&MASK_HIGH|((xt<<16|$>>>16)*2950163797&MASK_HIGH)>>>16,$^=xt>>>1,$=$*444984403&MASK_HIGH|$*60499&MASK_LOW,xt=xt*3301882366&MASK_HIGH|((xt<<16|$>>>16)*3120437893&MASK_HIGH)>>>16,$^=xt>>>1,($>>>0).toString(16).padStart(8,"0")+(xt>>>0).toString(16).padStart(8,"0")}}const SerializableEmpty=Object.freeze({map:null,hash:"",transfer:void 0});var G0,Po,J2,$9;class AnnotationStorage{constructor(){Nn(this,J2);Nn(this,G0,!1);Nn(this,Po,new Map);this.onSetModified=null,this.onResetModified=null,this.onAnnotationEditor=null}getValue($,xt){const bt=Dt(this,Po).get($);return bt===void 0?xt:Object.assign(xt,bt)}getRawValue($){return Dt(this,Po).get($)}remove($){if(Dt(this,Po).delete($),Dt(this,Po).size===0&&this.resetModified(),typeof this.onAnnotationEditor=="function"){for(const xt of Dt(this,Po).values())if(xt instanceof AnnotationEditor)return;this.onAnnotationEditor(null)}}setValue($,xt){const bt=Dt(this,Po).get($);let St=!1;if(bt!==void 0)for(const[At,Ct]of Object.entries(xt))bt[At]!==Ct&&(St=!0,bt[At]=Ct);else St=!0,Dt(this,Po).set($,xt);St&&On(this,J2,$9).call(this),xt instanceof AnnotationEditor&&typeof this.onAnnotationEditor=="function"&&this.onAnnotationEditor(xt.constructor._type)}has($){return Dt(this,Po).has($)}getAll(){return Dt(this,Po).size>0?objectFromMap(Dt(this,Po)):null}setAll($){for(const[xt,bt]of Object.entries($))this.setValue(xt,bt)}get size(){return Dt(this,Po).size}resetModified(){Dt(this,G0)&&($n(this,G0,!1),typeof this.onResetModified=="function"&&this.onResetModified())}get print(){return new PrintAnnotationStorage(this)}get serializable(){if(Dt(this,Po).size===0)return SerializableEmpty;const $=new Map,xt=new MurmurHash3_64,bt=[],St=Object.create(null);let At=!1;for(const[Ct,Et]of Dt(this,Po)){const Pt=Et instanceof AnnotationEditor?Et.serialize(!1,St):Et;Pt&&($.set(Ct,Pt),xt.update(`${Ct}:${JSON.stringify(Pt)}`),At||(At=!!Pt.bitmap))}if(At)for(const Ct of $.values())Ct.bitmap&&bt.push(Ct.bitmap);return $.size>0?{map:$,hash:xt.hexdigest(),transfer:bt}:SerializableEmpty}get editorStats(){let $=null;const xt=new Map;for(const bt of Dt(this,Po).values()){if(!(bt instanceof AnnotationEditor))continue;const St=bt.telemetryFinalData;if(!St)continue;const{type:At}=St;xt.has(At)||xt.set(At,Object.getPrototypeOf(bt).constructor),$||($=Object.create(null));const Ct=$[At]||($[At]=new Map);for(const[Et,Pt]of Object.entries(St)){if(Et==="type")continue;let wt=Ct.get(Et);wt||(wt=new Map,Ct.set(Et,wt));const kt=wt.get(Pt)??0;wt.set(Pt,kt+1)}}for(const[bt,St]of xt)$[bt]=St.computeTelemetryFinalData($[bt]);return $}}G0=new WeakMap,Po=new WeakMap,J2=new WeakSet,$9=function(){Dt(this,G0)||($n(this,G0,!0),typeof this.onSetModified=="function"&&this.onSetModified())};var Xm;class PrintAnnotationStorage extends AnnotationStorage{constructor(xt){super();Nn(this,Xm);const{map:bt,hash:St,transfer:At}=xt.serializable,Ct=structuredClone(bt,At?{transfer:At}:null);$n(this,Xm,{map:Ct,hash:St,transfer:At})}get print(){unreachable("Should not call PrintAnnotationStorage.print")}get serializable(){return Dt(this,Xm)}}Xm=new WeakMap;var o1;class FontLoader{constructor({ownerDocument:$=globalThis.document,styleElement:xt=null}){Nn(this,o1,new Set);this._document=$,this.nativeFontFaces=new Set,this.styleElement=null,this.loadingRequests=[],this.loadTestFontId=0}addNativeFontFace($){this.nativeFontFaces.add($),this._document.fonts.add($)}removeNativeFontFace($){this.nativeFontFaces.delete($),this._document.fonts.delete($)}insertRule($){this.styleElement||(this.styleElement=this._document.createElement("style"),this._document.documentElement.getElementsByTagName("head")[0].append(this.styleElement));const xt=this.styleElement.sheet;xt.insertRule($,xt.cssRules.length)}clear(){for(const $ of this.nativeFontFaces)this._document.fonts.delete($);this.nativeFontFaces.clear(),Dt(this,o1).clear(),this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}async loadSystemFont({systemFontInfo:$,_inspectFont:xt}){if(!(!$||Dt(this,o1).has($.loadedName))){if(assert(!this.disableFontFace,"loadSystemFont shouldn't be called when `disableFontFace` is set."),this.isFontLoadingAPISupported){const{loadedName:bt,src:St,style:At}=$,Ct=new FontFace(bt,St,At);this.addNativeFontFace(Ct);try{await Ct.load(),Dt(this,o1).add(bt),xt==null||xt($)}catch{warn(`Cannot load system font: ${$.baseFontName}, installing it could help to improve PDF rendering.`),this.removeNativeFontFace(Ct)}return}unreachable("Not implemented: loadSystemFont without the Font Loading API.")}}async bind($){if($.attached||$.missingFile&&!$.systemFontInfo)return;if($.attached=!0,$.systemFontInfo){await this.loadSystemFont($);return}if(this.isFontLoadingAPISupported){const bt=$.createNativeFontFace();if(bt){this.addNativeFontFace(bt);try{await bt.loaded}catch(St){throw warn(`Failed to load font '${bt.family}': '${St}'.`),$.disableFontFace=!0,St}}return}const xt=$.createFontFaceRule();if(xt){if(this.insertRule(xt),this.isSyncFontLoadingSupported)return;await new Promise(bt=>{const St=this._queueLoadingCallback(bt);this._prepareFontLoadEvent($,St)})}}get isFontLoadingAPISupported(){var xt;const $=!!((xt=this._document)!=null&&xt.fonts);return shadow(this,"isFontLoadingAPISupported",$)}get isSyncFontLoadingSupported(){let $=!1;return(isNodeJS||typeof navigator<"u"&&typeof(navigator==null?void 0:navigator.userAgent)=="string"&&/Mozilla\/5.0.*?rv:\d+.*? Gecko/.test(navigator.userAgent))&&($=!0),shadow(this,"isSyncFontLoadingSupported",$)}_queueLoadingCallback($){function xt(){for(assert(!St.done,"completeRequest() cannot be called twice."),St.done=!0;bt.length>0&&bt[0].done;){const At=bt.shift();setTimeout(At.callback,0)}}const{loadingRequests:bt}=this,St={done:!1,complete:xt,callback:$};return bt.push(St),St}get _loadTestFont(){const $=atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA==");return shadow(this,"_loadTestFont",$)}_prepareFontLoadEvent($,xt){function bt(jt,Rt){return jt.charCodeAt(Rt)<<24|jt.charCodeAt(Rt+1)<<16|jt.charCodeAt(Rt+2)<<8|jt.charCodeAt(Rt+3)&255}function St(jt,Rt,Kt,Bt){const Gt=jt.substring(0,Rt),en=jt.substring(Rt+Kt);return Gt+Bt+en}let At,Ct;const Et=this._document.createElement("canvas");Et.width=1,Et.height=1;const Pt=Et.getContext("2d");let wt=0;function kt(jt,Rt){if(++wt>30){warn("Load test font never loaded."),Rt();return}if(Pt.font="30px "+jt,Pt.fillText(".",0,20),Pt.getImageData(0,0,1,1).data[3]>0){Rt();return}setTimeout(kt.bind(null,jt,Rt))}const _t=`lt${Date.now()}${this.loadTestFontId++}`;let ht=this._loadTestFont;ht=St(ht,976,_t.length,_t);const Ft=16,Vt=1482184792;let qt=bt(ht,Ft);for(At=0,Ct=_t.length-3;At<Ct;At+=4)qt=qt-Vt+bt(_t,At)|0;At<_t.length&&(qt=qt-Vt+bt(_t+"XXX",At)|0),ht=St(ht,Ft,4,string32(qt));const Lt=`url(data:font/opentype;base64,${btoa(ht)});`,$t=`@font-face {font-family:"${_t}";src:${Lt}}`;this.insertRule($t);const Ot=this._document.createElement("div");Ot.style.visibility="hidden",Ot.style.width=Ot.style.height="10px",Ot.style.position="absolute",Ot.style.top=Ot.style.left="0px";for(const jt of[$.loadedName,_t]){const Rt=this._document.createElement("span");Rt.textContent="Hi",Rt.style.fontFamily=jt,Ot.append(Rt)}this._document.body.append(Ot),kt(_t,()=>{Ot.remove(),xt.complete()})}}o1=new WeakMap;class FontFaceObject{constructor($,{disableFontFace:xt=!1,inspectFont:bt=null}){this.compiledGlyphs=Object.create(null);for(const St in $)this[St]=$[St];this.disableFontFace=xt===!0,this._inspectFont=bt}createNativeFontFace(){var xt;if(!this.data||this.disableFontFace)return null;let $;if(!this.cssFontInfo)$=new FontFace(this.loadedName,this.data,{});else{const bt={weight:this.cssFontInfo.fontWeight};this.cssFontInfo.italicAngle&&(bt.style=`oblique ${this.cssFontInfo.italicAngle}deg`),$=new FontFace(this.cssFontInfo.fontFamily,this.data,bt)}return(xt=this._inspectFont)==null||xt.call(this,this),$}createFontFaceRule(){var St;if(!this.data||this.disableFontFace)return null;const $=bytesToString(this.data),xt=`url(data:${this.mimetype};base64,${btoa($)});`;let bt;if(!this.cssFontInfo)bt=`@font-face {font-family:"${this.loadedName}";src:${xt}}`;else{let At=`font-weight: ${this.cssFontInfo.fontWeight};`;this.cssFontInfo.italicAngle&&(At+=`font-style: oblique ${this.cssFontInfo.italicAngle}deg;`),bt=`@font-face {font-family:"${this.cssFontInfo.fontFamily}";${At}src:${xt}}`}return(St=this._inspectFont)==null||St.call(this,this,xt),bt}getPathGenerator($,xt){if(this.compiledGlyphs[xt]!==void 0)return this.compiledGlyphs[xt];let bt;try{bt=$.get(this.loadedName+"_path_"+xt)}catch(At){warn(`getPathGenerator - ignoring character: "${At}".`)}if(!Array.isArray(bt)||bt.length===0)return this.compiledGlyphs[xt]=function(At,Ct){};const St=[];for(let At=0,Ct=bt.length;At<Ct;)switch(bt[At++]){case FontRenderOps.BEZIER_CURVE_TO:{const[Et,Pt,wt,kt,_t,ht]=bt.slice(At,At+6);St.push(vt=>vt.bezierCurveTo(Et,Pt,wt,kt,_t,ht)),At+=6}break;case FontRenderOps.MOVE_TO:{const[Et,Pt]=bt.slice(At,At+2);St.push(wt=>wt.moveTo(Et,Pt)),At+=2}break;case FontRenderOps.LINE_TO:{const[Et,Pt]=bt.slice(At,At+2);St.push(wt=>wt.lineTo(Et,Pt)),At+=2}break;case FontRenderOps.QUADRATIC_CURVE_TO:{const[Et,Pt,wt,kt]=bt.slice(At,At+4);St.push(_t=>_t.quadraticCurveTo(Et,Pt,wt,kt)),At+=4}break;case FontRenderOps.RESTORE:St.push(Et=>Et.restore());break;case FontRenderOps.SAVE:St.push(Et=>Et.save());break;case FontRenderOps.SCALE:assert(St.length===2,"Scale command is only valid at the third position.");break;case FontRenderOps.TRANSFORM:{const[Et,Pt,wt,kt,_t,ht]=bt.slice(At,At+6);St.push(vt=>vt.transform(Et,Pt,wt,kt,_t,ht)),At+=6}break;case FontRenderOps.TRANSLATE:{const[Et,Pt]=bt.slice(At,At+2);St.push(wt=>wt.translate(Et,Pt)),At+=2}break}return this.compiledGlyphs[xt]=function(Ct,Et){St[0](Ct),St[1](Ct),Ct.scale(Et,-Et);for(let Pt=2,wt=St.length;Pt<wt;Pt++)St[Pt](Ct)}}}if(isNodeJS){var packageCapability=Promise.withResolvers(),packageMap=null;(async()=>{const $=await __vitePreload(()=>Promise.resolve().then(()=>__viteBrowserExternal$1),[]),xt=await __vitePreload(()=>Promise.resolve().then(()=>__viteBrowserExternal$1),void 0),bt=await __vitePreload(()=>Promise.resolve().then(()=>__viteBrowserExternal$1),void 0),St=await __vitePreload(()=>Promise.resolve().then(()=>__viteBrowserExternal$1),void 0);let At,Ct;return new Map(Object.entries({fs:$,http:xt,https:bt,url:St,canvas:At,path2d:Ct}))})().then($=>{packageMap=$,packageCapability.resolve()},$=>{warn(`loadPackages: ${$}`),packageMap=new Map,packageCapability.resolve()})}class NodePackages{static get promise(){return packageCapability.promise}static get($){return packageMap==null?void 0:packageMap.get($)}}const node_utils_fetchData=function(_e){return NodePackages.get("fs").promises.readFile(_e).then(xt=>new Uint8Array(xt))};class NodeFilterFactory extends BaseFilterFactory{}class NodeCanvasFactory extends BaseCanvasFactory{_createCanvas($,xt){return NodePackages.get("canvas").createCanvas($,xt)}}class NodeCMapReaderFactory extends BaseCMapReaderFactory{_fetchData($,xt){return node_utils_fetchData($).then(bt=>({cMapData:bt,compressionType:xt}))}}class NodeStandardFontDataFactory extends BaseStandardFontDataFactory{_fetchData($){return node_utils_fetchData($)}}const PathType={FILL:"Fill",STROKE:"Stroke",SHADING:"Shading"};function applyBoundingBox(_e,$){if(!$)return;const xt=$[2]-$[0],bt=$[3]-$[1],St=new Path2D;St.rect($[0],$[1],xt,bt),_e.clip(St)}class BaseShadingPattern{constructor(){this.constructor===BaseShadingPattern&&unreachable("Cannot initialize BaseShadingPattern.")}getPattern(){unreachable("Abstract method `getPattern` called.")}}class RadialAxialShadingPattern extends BaseShadingPattern{constructor($){super(),this._type=$[1],this._bbox=$[2],this._colorStops=$[3],this._p0=$[4],this._p1=$[5],this._r0=$[6],this._r1=$[7],this.matrix=null}_createGradient($){let xt;this._type==="axial"?xt=$.createLinearGradient(this._p0[0],this._p0[1],this._p1[0],this._p1[1]):this._type==="radial"&&(xt=$.createRadialGradient(this._p0[0],this._p0[1],this._r0,this._p1[0],this._p1[1],this._r1));for(const bt of this._colorStops)xt.addColorStop(bt[0],bt[1]);return xt}getPattern($,xt,bt,St){let At;if(St===PathType.STROKE||St===PathType.FILL){const Ct=xt.current.getClippedPathBoundingBox(St,getCurrentTransform($))||[0,0,0,0],Et=Math.ceil(Ct[2]-Ct[0])||1,Pt=Math.ceil(Ct[3]-Ct[1])||1,wt=xt.cachedCanvases.getCanvas("pattern",Et,Pt,!0),kt=wt.context;kt.clearRect(0,0,kt.canvas.width,kt.canvas.height),kt.beginPath(),kt.rect(0,0,kt.canvas.width,kt.canvas.height),kt.translate(-Ct[0],-Ct[1]),bt=Util.transform(bt,[1,0,0,1,Ct[0],Ct[1]]),kt.transform(...xt.baseTransform),this.matrix&&kt.transform(...this.matrix),applyBoundingBox(kt,this._bbox),kt.fillStyle=this._createGradient(kt),kt.fill(),At=$.createPattern(wt.canvas,"no-repeat");const _t=new DOMMatrix(bt);At.setTransform(_t)}else applyBoundingBox($,this._bbox),At=this._createGradient($);return At}}function drawTriangle(_e,$,xt,bt,St,At,Ct,Et){const Pt=$.coords,wt=$.colors,kt=_e.data,_t=_e.width*4;let ht;Pt[xt+1]>Pt[bt+1]&&(ht=xt,xt=bt,bt=ht,ht=At,At=Ct,Ct=ht),Pt[bt+1]>Pt[St+1]&&(ht=bt,bt=St,St=ht,ht=Ct,Ct=Et,Et=ht),Pt[xt+1]>Pt[bt+1]&&(ht=xt,xt=bt,bt=ht,ht=At,At=Ct,Ct=ht);const vt=(Pt[xt]+$.offsetX)*$.scaleX,Ft=(Pt[xt+1]+$.offsetY)*$.scaleY,Vt=(Pt[bt]+$.offsetX)*$.scaleX,qt=(Pt[bt+1]+$.offsetY)*$.scaleY,Lt=(Pt[St]+$.offsetX)*$.scaleX,$t=(Pt[St+1]+$.offsetY)*$.scaleY;if(Ft>=$t)return;const Ot=wt[At],jt=wt[At+1],Rt=wt[At+2],Kt=wt[Ct],Bt=wt[Ct+1],Gt=wt[Ct+2],en=wt[Et],hn=wt[Et+1],tn=wt[Et+2],gn=Math.round(Ft),nn=Math.round($t);let bn,Wt,Yt,dn,Ut,Mt,Ht,sn;for(let zt=gn;zt<=nn;zt++){if(zt<qt){const cn=zt<Ft?0:(Ft-zt)/(Ft-qt);bn=vt-(vt-Vt)*cn,Wt=Ot-(Ot-Kt)*cn,Yt=jt-(jt-Bt)*cn,dn=Rt-(Rt-Gt)*cn}else{let cn;zt>$t?cn=1:qt===$t?cn=0:cn=(qt-zt)/(qt-$t),bn=Vt-(Vt-Lt)*cn,Wt=Kt-(Kt-en)*cn,Yt=Bt-(Bt-hn)*cn,dn=Gt-(Gt-tn)*cn}let Xt;zt<Ft?Xt=0:zt>$t?Xt=1:Xt=(Ft-zt)/(Ft-$t),Ut=vt-(vt-Lt)*Xt,Mt=Ot-(Ot-en)*Xt,Ht=jt-(jt-hn)*Xt,sn=Rt-(Rt-tn)*Xt;const Qt=Math.round(Math.min(bn,Ut)),ln=Math.round(Math.max(bn,Ut));let on=_t*zt+Qt*4;for(let cn=Qt;cn<=ln;cn++)Xt=(bn-cn)/(bn-Ut),Xt<0?Xt=0:Xt>1&&(Xt=1),kt[on++]=Wt-(Wt-Mt)*Xt|0,kt[on++]=Yt-(Yt-Ht)*Xt|0,kt[on++]=dn-(dn-sn)*Xt|0,kt[on++]=255}}function drawFigure(_e,$,xt){const bt=$.coords,St=$.colors;let At,Ct;switch($.type){case"lattice":const Et=$.verticesPerRow,Pt=Math.floor(bt.length/Et)-1,wt=Et-1;for(At=0;At<Pt;At++){let kt=At*Et;for(let _t=0;_t<wt;_t++,kt++)drawTriangle(_e,xt,bt[kt],bt[kt+1],bt[kt+Et],St[kt],St[kt+1],St[kt+Et]),drawTriangle(_e,xt,bt[kt+Et+1],bt[kt+1],bt[kt+Et],St[kt+Et+1],St[kt+1],St[kt+Et])}break;case"triangles":for(At=0,Ct=bt.length;At<Ct;At+=3)drawTriangle(_e,xt,bt[At],bt[At+1],bt[At+2],St[At],St[At+1],St[At+2]);break;default:throw new Error("illegal figure")}}class MeshShadingPattern extends BaseShadingPattern{constructor($){super(),this._coords=$[2],this._colors=$[3],this._figures=$[4],this._bounds=$[5],this._bbox=$[7],this._background=$[8],this.matrix=null}_createMeshCanvas($,xt,bt){const Et=Math.floor(this._bounds[0]),Pt=Math.floor(this._bounds[1]),wt=Math.ceil(this._bounds[2])-Et,kt=Math.ceil(this._bounds[3])-Pt,_t=Math.min(Math.ceil(Math.abs(wt*$[0]*1.1)),3e3),ht=Math.min(Math.ceil(Math.abs(kt*$[1]*1.1)),3e3),vt=wt/_t,Ft=kt/ht,Vt={coords:this._coords,colors:this._colors,offsetX:-Et,offsetY:-Pt,scaleX:1/vt,scaleY:1/Ft},qt=_t+2*2,Lt=ht+2*2,$t=bt.getCanvas("mesh",qt,Lt,!1),Ot=$t.context,jt=Ot.createImageData(_t,ht);if(xt){const Kt=jt.data;for(let Bt=0,Gt=Kt.length;Bt<Gt;Bt+=4)Kt[Bt]=xt[0],Kt[Bt+1]=xt[1],Kt[Bt+2]=xt[2],Kt[Bt+3]=255}for(const Kt of this._figures)drawFigure(jt,Kt,Vt);return Ot.putImageData(jt,2,2),{canvas:$t.canvas,offsetX:Et-2*vt,offsetY:Pt-2*Ft,scaleX:vt,scaleY:Ft}}getPattern($,xt,bt,St){applyBoundingBox($,this._bbox);let At;if(St===PathType.SHADING)At=Util.singularValueDecompose2dScale(getCurrentTransform($));else if(At=Util.singularValueDecompose2dScale(xt.baseTransform),this.matrix){const Et=Util.singularValueDecompose2dScale(this.matrix);At=[At[0]*Et[0],At[1]*Et[1]]}const Ct=this._createMeshCanvas(At,St===PathType.SHADING?null:this._background,xt.cachedCanvases);return St!==PathType.SHADING&&($.setTransform(...xt.baseTransform),this.matrix&&$.transform(...this.matrix)),$.translate(Ct.offsetX,Ct.offsetY),$.scale(Ct.scaleX,Ct.scaleY),$.createPattern(Ct.canvas,"no-repeat")}}class DummyShadingPattern extends BaseShadingPattern{getPattern(){return"hotpink"}}function getShadingPattern(_e){switch(_e[0]){case"RadialAxial":return new RadialAxialShadingPattern(_e);case"Mesh":return new MeshShadingPattern(_e);case"Dummy":return new DummyShadingPattern}throw new Error(`Unknown IR type: ${_e[0]}`)}const PaintType={COLORED:1,UNCOLORED:2},Q2=class Q2{constructor($,xt,bt,St,At){this.operatorList=$[2],this.matrix=$[3],this.bbox=$[4],this.xstep=$[5],this.ystep=$[6],this.paintType=$[7],this.tilingType=$[8],this.color=xt,this.ctx=bt,this.canvasGraphicsFactory=St,this.baseTransform=At}createPatternCanvas($){const xt=this.operatorList,bt=this.bbox,St=this.xstep,At=this.ystep,Ct=this.paintType,Et=this.tilingType,Pt=this.color,wt=this.canvasGraphicsFactory;info("TilingType: "+Et);const kt=bt[0],_t=bt[1],ht=bt[2],vt=bt[3],Ft=Util.singularValueDecompose2dScale(this.matrix),Vt=Util.singularValueDecompose2dScale(this.baseTransform),qt=[Ft[0]*Vt[0],Ft[1]*Vt[1]],Lt=this.getSizeAndScale(St,this.ctx.canvas.width,qt[0]),$t=this.getSizeAndScale(At,this.ctx.canvas.height,qt[1]),Ot=$.cachedCanvases.getCanvas("pattern",Lt.size,$t.size,!0),jt=Ot.context,Rt=wt.createCanvasGraphics(jt);Rt.groupLevel=$.groupLevel,this.setFillAndStrokeStyleToContext(Rt,Ct,Pt);let Kt=kt,Bt=_t,Gt=ht,en=vt;return kt<0&&(Kt=0,Gt+=Math.abs(kt)),_t<0&&(Bt=0,en+=Math.abs(_t)),jt.translate(-(Lt.scale*Kt),-($t.scale*Bt)),Rt.transform(Lt.scale,0,0,$t.scale,0,0),jt.save(),this.clipBbox(Rt,Kt,Bt,Gt,en),Rt.baseTransform=getCurrentTransform(Rt.ctx),Rt.executeOperatorList(xt),Rt.endDrawing(),{canvas:Ot.canvas,scaleX:Lt.scale,scaleY:$t.scale,offsetX:Kt,offsetY:Bt}}getSizeAndScale($,xt,bt){$=Math.abs($);const St=Math.max(Q2.MAX_PATTERN_SIZE,xt);let At=Math.ceil($*bt);return At>=St?At=St:bt=At/$,{scale:bt,size:At}}clipBbox($,xt,bt,St,At){const Ct=St-xt,Et=At-bt;$.ctx.rect(xt,bt,Ct,Et),$.current.updateRectMinMax(getCurrentTransform($.ctx),[xt,bt,St,At]),$.clip(),$.endPath()}setFillAndStrokeStyleToContext($,xt,bt){const St=$.ctx,At=$.current;switch(xt){case PaintType.COLORED:const Ct=this.ctx;St.fillStyle=Ct.fillStyle,St.strokeStyle=Ct.strokeStyle,At.fillColor=Ct.fillStyle,At.strokeColor=Ct.strokeStyle;break;case PaintType.UNCOLORED:const Et=Util.makeHexColor(bt[0],bt[1],bt[2]);St.fillStyle=Et,St.strokeStyle=Et,At.fillColor=Et,At.strokeColor=Et;break;default:throw new FormatError(`Unsupported paint type: ${xt}`)}}getPattern($,xt,bt,St){let At=bt;St!==PathType.SHADING&&(At=Util.transform(At,xt.baseTransform),this.matrix&&(At=Util.transform(At,this.matrix)));const Ct=this.createPatternCanvas(xt);let Et=new DOMMatrix(At);Et=Et.translate(Ct.offsetX,Ct.offsetY),Et=Et.scale(1/Ct.scaleX,1/Ct.scaleY);const Pt=$.createPattern(Ct.canvas,"repeat");return Pt.setTransform(Et),Pt}};Us(Q2,"MAX_PATTERN_SIZE",3e3);let TilingPattern=Q2;function convertBlackAndWhiteToRGBA({src:_e,srcPos:$=0,dest:xt,width:bt,height:St,nonBlackColor:At=4294967295,inverseDecode:Ct=!1}){const Et=util_FeatureTest.isLittleEndian?4278190080:255,[Pt,wt]=Ct?[At,Et]:[Et,At],kt=bt>>3,_t=bt&7,ht=_e.length;xt=new Uint32Array(xt.buffer);let vt=0;for(let Ft=0;Ft<St;Ft++){for(const qt=$+kt;$<qt;$++){const Lt=$<ht?_e[$]:255;xt[vt++]=Lt&128?wt:Pt,xt[vt++]=Lt&64?wt:Pt,xt[vt++]=Lt&32?wt:Pt,xt[vt++]=Lt&16?wt:Pt,xt[vt++]=Lt&8?wt:Pt,xt[vt++]=Lt&4?wt:Pt,xt[vt++]=Lt&2?wt:Pt,xt[vt++]=Lt&1?wt:Pt}if(_t===0)continue;const Vt=$<ht?_e[$++]:255;for(let qt=0;qt<_t;qt++)xt[vt++]=Vt&1<<7-qt?wt:Pt}return{srcPos:$,destPos:vt}}const MIN_FONT_SIZE=16,MAX_FONT_SIZE=100,EXECUTION_TIME=15,EXECUTION_STEPS=10,MAX_SIZE_TO_COMPILE=1e3,FULL_CHUNK_HEIGHT=16;function mirrorContextOperations(_e,$){if(_e._removeMirroring)throw new Error("Context is already forwarding operations.");_e.__originalSave=_e.save,_e.__originalRestore=_e.restore,_e.__originalRotate=_e.rotate,_e.__originalScale=_e.scale,_e.__originalTranslate=_e.translate,_e.__originalTransform=_e.transform,_e.__originalSetTransform=_e.setTransform,_e.__originalResetTransform=_e.resetTransform,_e.__originalClip=_e.clip,_e.__originalMoveTo=_e.moveTo,_e.__originalLineTo=_e.lineTo,_e.__originalBezierCurveTo=_e.bezierCurveTo,_e.__originalRect=_e.rect,_e.__originalClosePath=_e.closePath,_e.__originalBeginPath=_e.beginPath,_e._removeMirroring=()=>{_e.save=_e.__originalSave,_e.restore=_e.__originalRestore,_e.rotate=_e.__originalRotate,_e.scale=_e.__originalScale,_e.translate=_e.__originalTranslate,_e.transform=_e.__originalTransform,_e.setTransform=_e.__originalSetTransform,_e.resetTransform=_e.__originalResetTransform,_e.clip=_e.__originalClip,_e.moveTo=_e.__originalMoveTo,_e.lineTo=_e.__originalLineTo,_e.bezierCurveTo=_e.__originalBezierCurveTo,_e.rect=_e.__originalRect,_e.closePath=_e.__originalClosePath,_e.beginPath=_e.__originalBeginPath,delete _e._removeMirroring},_e.save=function(){$.save(),this.__originalSave()},_e.restore=function(){$.restore(),this.__originalRestore()},_e.translate=function(bt,St){$.translate(bt,St),this.__originalTranslate(bt,St)},_e.scale=function(bt,St){$.scale(bt,St),this.__originalScale(bt,St)},_e.transform=function(bt,St,At,Ct,Et,Pt){$.transform(bt,St,At,Ct,Et,Pt),this.__originalTransform(bt,St,At,Ct,Et,Pt)},_e.setTransform=function(bt,St,At,Ct,Et,Pt){$.setTransform(bt,St,At,Ct,Et,Pt),this.__originalSetTransform(bt,St,At,Ct,Et,Pt)},_e.resetTransform=function(){$.resetTransform(),this.__originalResetTransform()},_e.rotate=function(bt){$.rotate(bt),this.__originalRotate(bt)},_e.clip=function(bt){$.clip(bt),this.__originalClip(bt)},_e.moveTo=function(xt,bt){$.moveTo(xt,bt),this.__originalMoveTo(xt,bt)},_e.lineTo=function(xt,bt){$.lineTo(xt,bt),this.__originalLineTo(xt,bt)},_e.bezierCurveTo=function(xt,bt,St,At,Ct,Et){$.bezierCurveTo(xt,bt,St,At,Ct,Et),this.__originalBezierCurveTo(xt,bt,St,At,Ct,Et)},_e.rect=function(xt,bt,St,At){$.rect(xt,bt,St,At),this.__originalRect(xt,bt,St,At)},_e.closePath=function(){$.closePath(),this.__originalClosePath()},_e.beginPath=function(){$.beginPath(),this.__originalBeginPath()}}class CachedCanvases{constructor($){this.canvasFactory=$,this.cache=Object.create(null)}getCanvas($,xt,bt){let St;return this.cache[$]!==void 0?(St=this.cache[$],this.canvasFactory.reset(St,xt,bt)):(St=this.canvasFactory.create(xt,bt),this.cache[$]=St),St}delete($){delete this.cache[$]}clear(){for(const $ in this.cache){const xt=this.cache[$];this.canvasFactory.destroy(xt),delete this.cache[$]}}}function drawImageAtIntegerCoords(_e,$,xt,bt,St,At,Ct,Et,Pt,wt){const[kt,_t,ht,vt,Ft,Vt]=getCurrentTransform(_e);if(_t===0&&ht===0){const $t=Ct*kt+Ft,Ot=Math.round($t),jt=Et*vt+Vt,Rt=Math.round(jt),Kt=(Ct+Pt)*kt+Ft,Bt=Math.abs(Math.round(Kt)-Ot)||1,Gt=(Et+wt)*vt+Vt,en=Math.abs(Math.round(Gt)-Rt)||1;return _e.setTransform(Math.sign(kt),0,0,Math.sign(vt),Ot,Rt),_e.drawImage($,xt,bt,St,At,0,0,Bt,en),_e.setTransform(kt,_t,ht,vt,Ft,Vt),[Bt,en]}if(kt===0&&vt===0){const $t=Et*ht+Ft,Ot=Math.round($t),jt=Ct*_t+Vt,Rt=Math.round(jt),Kt=(Et+wt)*ht+Ft,Bt=Math.abs(Math.round(Kt)-Ot)||1,Gt=(Ct+Pt)*_t+Vt,en=Math.abs(Math.round(Gt)-Rt)||1;return _e.setTransform(0,Math.sign(_t),Math.sign(ht),0,Ot,Rt),_e.drawImage($,xt,bt,St,At,0,0,en,Bt),_e.setTransform(kt,_t,ht,vt,Ft,Vt),[en,Bt]}_e.drawImage($,xt,bt,St,At,Ct,Et,Pt,wt);const qt=Math.hypot(kt,_t),Lt=Math.hypot(ht,vt);return[qt*Pt,Lt*wt]}function compileType3Glyph(_e){const{width:$,height:xt}=_e;if($>MAX_SIZE_TO_COMPILE||xt>MAX_SIZE_TO_COMPILE)return null;const bt=1e3,St=new Uint8Array([0,2,4,0,1,0,5,4,8,10,0,8,0,2,1,0]),At=$+1;let Ct=new Uint8Array(At*(xt+1)),Et,Pt,wt;const kt=$+7&-8;let _t=new Uint8Array(kt*xt),ht=0;for(const Lt of _e.data){let $t=128;for(;$t>0;)_t[ht++]=Lt&$t?0:255,$t>>=1}let vt=0;for(ht=0,_t[ht]!==0&&(Ct[0]=1,++vt),Pt=1;Pt<$;Pt++)_t[ht]!==_t[ht+1]&&(Ct[Pt]=_t[ht]?2:1,++vt),ht++;for(_t[ht]!==0&&(Ct[Pt]=2,++vt),Et=1;Et<xt;Et++){ht=Et*kt,wt=Et*At,_t[ht-kt]!==_t[ht]&&(Ct[wt]=_t[ht]?1:8,++vt);let Lt=(_t[ht]?4:0)+(_t[ht-kt]?8:0);for(Pt=1;Pt<$;Pt++)Lt=(Lt>>2)+(_t[ht+1]?4:0)+(_t[ht-kt+1]?8:0),St[Lt]&&(Ct[wt+Pt]=St[Lt],++vt),ht++;if(_t[ht-kt]!==_t[ht]&&(Ct[wt+Pt]=_t[ht]?2:4,++vt),vt>bt)return null}for(ht=kt*(xt-1),wt=Et*At,_t[ht]!==0&&(Ct[wt]=8,++vt),Pt=1;Pt<$;Pt++)_t[ht]!==_t[ht+1]&&(Ct[wt+Pt]=_t[ht]?4:8,++vt),ht++;if(_t[ht]!==0&&(Ct[wt+Pt]=4,++vt),vt>bt)return null;const Ft=new Int32Array([0,At,-1,0,-At,0,0,0,1]),Vt=new Path2D;for(Et=0;vt&&Et<=xt;Et++){let Lt=Et*At;const $t=Lt+$;for(;Lt<$t&&!Ct[Lt];)Lt++;if(Lt===$t)continue;Vt.moveTo(Lt%At,Et);const Ot=Lt;let jt=Ct[Lt];do{const Rt=Ft[jt];do Lt+=Rt;while(!Ct[Lt]);const Kt=Ct[Lt];Kt!==5&&Kt!==10?(jt=Kt,Ct[Lt]=0):(jt=Kt&51*jt>>4,Ct[Lt]&=jt>>2|jt<<2),Vt.lineTo(Lt%At,Lt/At|0),Ct[Lt]||--vt}while(Ot!==Lt);--Et}return _t=null,Ct=null,function(Lt){Lt.save(),Lt.scale(1/$,-1/xt),Lt.translate(0,-xt),Lt.fill(Vt),Lt.beginPath(),Lt.restore()}}class CanvasExtraState{constructor($,xt){this.alphaIsShape=!1,this.fontSize=0,this.fontSizeScale=1,this.textMatrix=IDENTITY_MATRIX,this.textMatrixScale=1,this.fontMatrix=FONT_IDENTITY_MATRIX,this.leading=0,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRenderingMode=TextRenderingMode.FILL,this.textRise=0,this.fillColor="#000000",this.strokeColor="#000000",this.patternFill=!1,this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.activeSMask=null,this.transferMaps="none",this.startNewPathAndClipBox([0,0,$,xt])}clone(){const $=Object.create(this);return $.clipBox=this.clipBox.slice(),$}setCurrentPoint($,xt){this.x=$,this.y=xt}updatePathMinMax($,xt,bt){[xt,bt]=Util.applyTransform([xt,bt],$),this.minX=Math.min(this.minX,xt),this.minY=Math.min(this.minY,bt),this.maxX=Math.max(this.maxX,xt),this.maxY=Math.max(this.maxY,bt)}updateRectMinMax($,xt){const bt=Util.applyTransform(xt,$),St=Util.applyTransform(xt.slice(2),$),At=Util.applyTransform([xt[0],xt[3]],$),Ct=Util.applyTransform([xt[2],xt[1]],$);this.minX=Math.min(this.minX,bt[0],St[0],At[0],Ct[0]),this.minY=Math.min(this.minY,bt[1],St[1],At[1],Ct[1]),this.maxX=Math.max(this.maxX,bt[0],St[0],At[0],Ct[0]),this.maxY=Math.max(this.maxY,bt[1],St[1],At[1],Ct[1])}updateScalingPathMinMax($,xt){Util.scaleMinMax($,xt),this.minX=Math.min(this.minX,xt[0]),this.minY=Math.min(this.minY,xt[1]),this.maxX=Math.max(this.maxX,xt[2]),this.maxY=Math.max(this.maxY,xt[3])}updateCurvePathMinMax($,xt,bt,St,At,Ct,Et,Pt,wt,kt){const _t=Util.bezierBoundingBox(xt,bt,St,At,Ct,Et,Pt,wt,kt);kt||this.updateRectMinMax($,_t)}getPathBoundingBox($=PathType.FILL,xt=null){const bt=[this.minX,this.minY,this.maxX,this.maxY];if($===PathType.STROKE){xt||unreachable("Stroke bounding box must include transform.");const St=Util.singularValueDecompose2dScale(xt),At=St[0]*this.lineWidth/2,Ct=St[1]*this.lineWidth/2;bt[0]-=At,bt[1]-=Ct,bt[2]+=At,bt[3]+=Ct}return bt}updateClipFromPath(){const $=Util.intersect(this.clipBox,this.getPathBoundingBox());this.startNewPathAndClipBox($||[0,0,0,0])}isEmptyClip(){return this.minX===1/0}startNewPathAndClipBox($){this.clipBox=$,this.minX=1/0,this.minY=1/0,this.maxX=0,this.maxY=0}getClippedPathBoundingBox($=PathType.FILL,xt=null){return Util.intersect(this.clipBox,this.getPathBoundingBox($,xt))}}function putBinaryImageData(_e,$){if(typeof ImageData<"u"&&$ instanceof ImageData){_e.putImageData($,0,0);return}const xt=$.height,bt=$.width,St=xt%FULL_CHUNK_HEIGHT,At=(xt-St)/FULL_CHUNK_HEIGHT,Ct=St===0?At:At+1,Et=_e.createImageData(bt,FULL_CHUNK_HEIGHT);let Pt=0,wt;const kt=$.data,_t=Et.data;let ht,vt,Ft,Vt;if($.kind===util_ImageKind.GRAYSCALE_1BPP){const qt=kt.byteLength,Lt=new Uint32Array(_t.buffer,0,_t.byteLength>>2),$t=Lt.length,Ot=bt+7>>3,jt=4294967295,Rt=util_FeatureTest.isLittleEndian?4278190080:255;for(ht=0;ht<Ct;ht++){for(Ft=ht<At?FULL_CHUNK_HEIGHT:St,wt=0,vt=0;vt<Ft;vt++){const Kt=qt-Pt;let Bt=0;const Gt=Kt>Ot?bt:Kt*8-7,en=Gt&-8;let hn=0,tn=0;for(;Bt<en;Bt+=8)tn=kt[Pt++],Lt[wt++]=tn&128?jt:Rt,Lt[wt++]=tn&64?jt:Rt,Lt[wt++]=tn&32?jt:Rt,Lt[wt++]=tn&16?jt:Rt,Lt[wt++]=tn&8?jt:Rt,Lt[wt++]=tn&4?jt:Rt,Lt[wt++]=tn&2?jt:Rt,Lt[wt++]=tn&1?jt:Rt;for(;Bt<Gt;Bt++)hn===0&&(tn=kt[Pt++],hn=128),Lt[wt++]=tn&hn?jt:Rt,hn>>=1}for(;wt<$t;)Lt[wt++]=0;_e.putImageData(Et,0,ht*FULL_CHUNK_HEIGHT)}}else if($.kind===util_ImageKind.RGBA_32BPP){for(vt=0,Vt=bt*FULL_CHUNK_HEIGHT*4,ht=0;ht<At;ht++)_t.set(kt.subarray(Pt,Pt+Vt)),Pt+=Vt,_e.putImageData(Et,0,vt),vt+=FULL_CHUNK_HEIGHT;ht<Ct&&(Vt=bt*St*4,_t.set(kt.subarray(Pt,Pt+Vt)),_e.putImageData(Et,0,vt))}else if($.kind===util_ImageKind.RGB_24BPP)for(Ft=FULL_CHUNK_HEIGHT,Vt=bt*Ft,ht=0;ht<Ct;ht++){for(ht>=At&&(Ft=St,Vt=bt*Ft),wt=0,vt=Vt;vt--;)_t[wt++]=kt[Pt++],_t[wt++]=kt[Pt++],_t[wt++]=kt[Pt++],_t[wt++]=255;_e.putImageData(Et,0,ht*FULL_CHUNK_HEIGHT)}else throw new Error(`bad image kind: ${$.kind}`)}function putBinaryImageMask(_e,$){if($.bitmap){_e.drawImage($.bitmap,0,0);return}const xt=$.height,bt=$.width,St=xt%FULL_CHUNK_HEIGHT,At=(xt-St)/FULL_CHUNK_HEIGHT,Ct=St===0?At:At+1,Et=_e.createImageData(bt,FULL_CHUNK_HEIGHT);let Pt=0;const wt=$.data,kt=Et.data;for(let _t=0;_t<Ct;_t++){const ht=_t<At?FULL_CHUNK_HEIGHT:St;({srcPos:Pt}=convertBlackAndWhiteToRGBA({src:wt,srcPos:Pt,dest:kt,width:bt,height:ht,nonBlackColor:0})),_e.putImageData(Et,0,_t*FULL_CHUNK_HEIGHT)}}function copyCtxState(_e,$){const xt=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font","filter"];for(const bt of xt)_e[bt]!==void 0&&($[bt]=_e[bt]);_e.setLineDash!==void 0&&($.setLineDash(_e.getLineDash()),$.lineDashOffset=_e.lineDashOffset)}function resetCtxToDefault(_e){if(_e.strokeStyle=_e.fillStyle="#000000",_e.fillRule="nonzero",_e.globalAlpha=1,_e.lineWidth=1,_e.lineCap="butt",_e.lineJoin="miter",_e.miterLimit=10,_e.globalCompositeOperation="source-over",_e.font="10px sans-serif",_e.setLineDash!==void 0&&(_e.setLineDash([]),_e.lineDashOffset=0),!isNodeJS){const{filter:$}=_e;$!=="none"&&$!==""&&(_e.filter="none")}}function getImageSmoothingEnabled(_e,$){if($)return!0;const xt=Util.singularValueDecompose2dScale(_e);xt[0]=Math.fround(xt[0]),xt[1]=Math.fround(xt[1]);const bt=Math.fround((globalThis.devicePixelRatio||1)*PixelsPerInch.PDF_TO_CSS_UNITS);return xt[0]<=bt&&xt[1]<=bt}const LINE_CAP_STYLES=["butt","round","square"],LINE_JOIN_STYLES=["miter","round","bevel"],NORMAL_CLIP={},EO_CLIP={};var y0,Dy,Ly;const n9=class n9{constructor($,xt,bt,St,At,{optionalContentConfig:Ct,markedContentStack:Et=null},Pt,wt){Nn(this,y0);this.ctx=$,this.current=new CanvasExtraState(this.ctx.canvas.width,this.ctx.canvas.height),this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=xt,this.objs=bt,this.canvasFactory=St,this.filterFactory=At,this.groupStack=[],this.processingType3=null,this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.suspendedCtx=null,this.contentVisible=!0,this.markedContentStack=Et||[],this.optionalContentConfig=Ct,this.cachedCanvases=new CachedCanvases(this.canvasFactory),this.cachedPatterns=new Map,this.annotationCanvasMap=Pt,this.viewportScale=1,this.outputScaleX=1,this.outputScaleY=1,this.pageColors=wt,this._cachedScaleForStroking=[-1,0],this._cachedGetSinglePixelWidth=null,this._cachedBitmapsMap=new Map}getObject($,xt=null){return typeof $=="string"?$.startsWith("g_")?this.commonObjs.get($):this.objs.get($):xt}beginDrawing({transform:$,viewport:xt,transparency:bt=!1,background:St=null}){const At=this.ctx.canvas.width,Ct=this.ctx.canvas.height,Et=this.ctx.fillStyle;if(this.ctx.fillStyle=St||"#ffffff",this.ctx.fillRect(0,0,At,Ct),this.ctx.fillStyle=Et,bt){const Pt=this.cachedCanvases.getCanvas("transparent",At,Ct);this.compositeCtx=this.ctx,this.transparentCanvas=Pt.canvas,this.ctx=Pt.context,this.ctx.save(),this.ctx.transform(...getCurrentTransform(this.compositeCtx))}this.ctx.save(),resetCtxToDefault(this.ctx),$&&(this.ctx.transform(...$),this.outputScaleX=$[0],this.outputScaleY=$[0]),this.ctx.transform(...xt.transform),this.viewportScale=xt.scale,this.baseTransform=getCurrentTransform(this.ctx)}executeOperatorList($,xt,bt,St){const At=$.argsArray,Ct=$.fnArray;let Et=xt||0;const Pt=At.length;if(Pt===Et)return Et;const wt=Pt-Et>EXECUTION_STEPS&&typeof bt=="function",kt=wt?Date.now()+EXECUTION_TIME:0;let _t=0;const ht=this.commonObjs,vt=this.objs;let Ft;for(;;){if(St!==void 0&&Et===St.nextBreakPoint)return St.breakIt(Et,bt),Et;if(Ft=Ct[Et],Ft!==OPS.dependency)this[Ft].apply(this,At[Et]);else for(const Vt of At[Et]){const qt=Vt.startsWith("g_")?ht:vt;if(!qt.has(Vt))return qt.get(Vt,bt),Et}if(Et++,Et===Pt)return Et;if(wt&&++_t>EXECUTION_STEPS){if(Date.now()>kt)return bt(),Et;_t=0}}}endDrawing(){On(this,y0,Dy).call(this),this.cachedCanvases.clear(),this.cachedPatterns.clear();for(const $ of this._cachedBitmapsMap.values()){for(const xt of $.values())typeof HTMLCanvasElement<"u"&&xt instanceof HTMLCanvasElement&&(xt.width=xt.height=0);$.clear()}this._cachedBitmapsMap.clear(),On(this,y0,Ly).call(this)}_scaleImage($,xt){const bt=$.width,St=$.height;let At=Math.max(Math.hypot(xt[0],xt[1]),1),Ct=Math.max(Math.hypot(xt[2],xt[3]),1),Et=bt,Pt=St,wt="prescale1",kt,_t;for(;At>2&&Et>1||Ct>2&&Pt>1;){let ht=Et,vt=Pt;At>2&&Et>1&&(ht=Et>=16384?Math.floor(Et/2)-1||1:Math.ceil(Et/2),At/=Et/ht),Ct>2&&Pt>1&&(vt=Pt>=16384?Math.floor(Pt/2)-1||1:Math.ceil(Pt)/2,Ct/=Pt/vt),kt=this.cachedCanvases.getCanvas(wt,ht,vt),_t=kt.context,_t.clearRect(0,0,ht,vt),_t.drawImage($,0,0,Et,Pt,0,0,ht,vt),$=kt.canvas,Et=ht,Pt=vt,wt=wt==="prescale1"?"prescale2":"prescale1"}return{img:$,paintWidth:Et,paintHeight:Pt}}_createMaskCanvas($){const xt=this.ctx,{width:bt,height:St}=$,At=this.current.fillColor,Ct=this.current.patternFill,Et=getCurrentTransform(xt);let Pt,wt,kt,_t;if(($.bitmap||$.data)&&$.count>1){const Gt=$.bitmap||$.data.buffer;wt=JSON.stringify(Ct?Et:[Et.slice(0,4),At]),Pt=this._cachedBitmapsMap.get(Gt),Pt||(Pt=new Map,this._cachedBitmapsMap.set(Gt,Pt));const en=Pt.get(wt);if(en&&!Ct){const hn=Math.round(Math.min(Et[0],Et[2])+Et[4]),tn=Math.round(Math.min(Et[1],Et[3])+Et[5]);return{canvas:en,offsetX:hn,offsetY:tn}}kt=en}kt||(_t=this.cachedCanvases.getCanvas("maskCanvas",bt,St),putBinaryImageMask(_t.context,$));let ht=Util.transform(Et,[1/bt,0,0,-1/St,0,0]);ht=Util.transform(ht,[1,0,0,1,0,-St]);const[vt,Ft,Vt,qt]=Util.getAxialAlignedBoundingBox([0,0,bt,St],ht),Lt=Math.round(Vt-vt)||1,$t=Math.round(qt-Ft)||1,Ot=this.cachedCanvases.getCanvas("fillCanvas",Lt,$t),jt=Ot.context,Rt=vt,Kt=Ft;jt.translate(-Rt,-Kt),jt.transform(...ht),kt||(kt=this._scaleImage(_t.canvas,getCurrentTransformInverse(jt)),kt=kt.img,Pt&&Ct&&Pt.set(wt,kt)),jt.imageSmoothingEnabled=getImageSmoothingEnabled(getCurrentTransform(jt),$.interpolate),drawImageAtIntegerCoords(jt,kt,0,0,kt.width,kt.height,0,0,bt,St),jt.globalCompositeOperation="source-in";const Bt=Util.transform(getCurrentTransformInverse(jt),[1,0,0,1,-Rt,-Kt]);return jt.fillStyle=Ct?At.getPattern(xt,this,Bt,PathType.FILL):At,jt.fillRect(0,0,bt,St),Pt&&!Ct&&(this.cachedCanvases.delete("fillCanvas"),Pt.set(wt,Ot.canvas)),{canvas:Ot.canvas,offsetX:Math.round(Rt),offsetY:Math.round(Kt)}}setLineWidth($){$!==this.current.lineWidth&&(this._cachedScaleForStroking[0]=-1),this.current.lineWidth=$,this.ctx.lineWidth=$}setLineCap($){this.ctx.lineCap=LINE_CAP_STYLES[$]}setLineJoin($){this.ctx.lineJoin=LINE_JOIN_STYLES[$]}setMiterLimit($){this.ctx.miterLimit=$}setDash($,xt){const bt=this.ctx;bt.setLineDash!==void 0&&(bt.setLineDash($),bt.lineDashOffset=xt)}setRenderingIntent($){}setFlatness($){}setGState($){for(const[xt,bt]of $)switch(xt){case"LW":this.setLineWidth(bt);break;case"LC":this.setLineCap(bt);break;case"LJ":this.setLineJoin(bt);break;case"ML":this.setMiterLimit(bt);break;case"D":this.setDash(bt[0],bt[1]);break;case"RI":this.setRenderingIntent(bt);break;case"FL":this.setFlatness(bt);break;case"Font":this.setFont(bt[0],bt[1]);break;case"CA":this.current.strokeAlpha=bt;break;case"ca":this.current.fillAlpha=bt,this.ctx.globalAlpha=bt;break;case"BM":this.ctx.globalCompositeOperation=bt;break;case"SMask":this.current.activeSMask=bt?this.tempSMask:null,this.tempSMask=null,this.checkSMaskState();break;case"TR":this.ctx.filter=this.current.transferMaps=this.filterFactory.addFilter(bt);break}}get inSMaskMode(){return!!this.suspendedCtx}checkSMaskState(){const $=this.inSMaskMode;this.current.activeSMask&&!$?this.beginSMaskMode():!this.current.activeSMask&&$&&this.endSMaskMode()}beginSMaskMode(){if(this.inSMaskMode)throw new Error("beginSMaskMode called while already in smask mode");const $=this.ctx.canvas.width,xt=this.ctx.canvas.height,bt="smaskGroupAt"+this.groupLevel,St=this.cachedCanvases.getCanvas(bt,$,xt);this.suspendedCtx=this.ctx,this.ctx=St.context;const At=this.ctx;At.setTransform(...getCurrentTransform(this.suspendedCtx)),copyCtxState(this.suspendedCtx,At),mirrorContextOperations(At,this.suspendedCtx),this.setGState([["BM","source-over"],["ca",1],["CA",1]])}endSMaskMode(){if(!this.inSMaskMode)throw new Error("endSMaskMode called while not in smask mode");this.ctx._removeMirroring(),copyCtxState(this.ctx,this.suspendedCtx),this.ctx=this.suspendedCtx,this.suspendedCtx=null}compose($){if(!this.current.activeSMask)return;$?($[0]=Math.floor($[0]),$[1]=Math.floor($[1]),$[2]=Math.ceil($[2]),$[3]=Math.ceil($[3])):$=[0,0,this.ctx.canvas.width,this.ctx.canvas.height];const xt=this.current.activeSMask,bt=this.suspendedCtx;this.composeSMask(bt,xt,this.ctx,$),this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.restore()}composeSMask($,xt,bt,St){const At=St[0],Ct=St[1],Et=St[2]-At,Pt=St[3]-Ct;Et===0||Pt===0||(this.genericComposeSMask(xt.context,bt,Et,Pt,xt.subtype,xt.backdrop,xt.transferMap,At,Ct,xt.offsetX,xt.offsetY),$.save(),$.globalAlpha=1,$.globalCompositeOperation="source-over",$.setTransform(1,0,0,1,0,0),$.drawImage(bt.canvas,0,0),$.restore())}genericComposeSMask($,xt,bt,St,At,Ct,Et,Pt,wt,kt,_t){let ht=$.canvas,vt=Pt-kt,Ft=wt-_t;if(Ct){if(vt<0||Ft<0||vt+bt>ht.width||Ft+St>ht.height){const qt=this.cachedCanvases.getCanvas("maskExtension",bt,St),Lt=qt.context;Lt.drawImage(ht,-vt,-Ft),Ct.some($t=>$t!==0)&&(Lt.globalCompositeOperation="destination-atop",Lt.fillStyle=Util.makeHexColor(...Ct),Lt.fillRect(0,0,bt,St),Lt.globalCompositeOperation="source-over"),ht=qt.canvas,vt=Ft=0}else if(Ct.some(qt=>qt!==0)){$.save(),$.globalAlpha=1,$.setTransform(1,0,0,1,0,0);const qt=new Path2D;qt.rect(vt,Ft,bt,St),$.clip(qt),$.globalCompositeOperation="destination-atop",$.fillStyle=Util.makeHexColor(...Ct),$.fillRect(vt,Ft,bt,St),$.restore()}}xt.save(),xt.globalAlpha=1,xt.setTransform(1,0,0,1,0,0),At==="Alpha"&&Et?xt.filter=this.filterFactory.addAlphaFilter(Et):At==="Luminosity"&&(xt.filter=this.filterFactory.addLuminosityFilter(Et));const Vt=new Path2D;Vt.rect(Pt,wt,bt,St),xt.clip(Vt),xt.globalCompositeOperation="destination-in",xt.drawImage(ht,vt,Ft,bt,St,Pt,wt,bt,St),xt.restore()}save(){this.inSMaskMode?(copyCtxState(this.ctx,this.suspendedCtx),this.suspendedCtx.save()):this.ctx.save();const $=this.current;this.stateStack.push($),this.current=$.clone()}restore(){this.stateStack.length===0&&this.inSMaskMode&&this.endSMaskMode(),this.stateStack.length!==0&&(this.current=this.stateStack.pop(),this.inSMaskMode?(this.suspendedCtx.restore(),copyCtxState(this.suspendedCtx,this.ctx)):this.ctx.restore(),this.checkSMaskState(),this.pendingClip=null,this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null)}transform($,xt,bt,St,At,Ct){this.ctx.transform($,xt,bt,St,At,Ct),this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}constructPath($,xt,bt){const St=this.ctx,At=this.current;let Ct=At.x,Et=At.y,Pt,wt;const kt=getCurrentTransform(St),_t=kt[0]===0&&kt[3]===0||kt[1]===0&&kt[2]===0,ht=_t?bt.slice(0):null;for(let vt=0,Ft=0,Vt=$.length;vt<Vt;vt++)switch($[vt]|0){case OPS.rectangle:Ct=xt[Ft++],Et=xt[Ft++];const qt=xt[Ft++],Lt=xt[Ft++],$t=Ct+qt,Ot=Et+Lt;St.moveTo(Ct,Et),qt===0||Lt===0?St.lineTo($t,Ot):(St.lineTo($t,Et),St.lineTo($t,Ot),St.lineTo(Ct,Ot)),_t||At.updateRectMinMax(kt,[Ct,Et,$t,Ot]),St.closePath();break;case OPS.moveTo:Ct=xt[Ft++],Et=xt[Ft++],St.moveTo(Ct,Et),_t||At.updatePathMinMax(kt,Ct,Et);break;case OPS.lineTo:Ct=xt[Ft++],Et=xt[Ft++],St.lineTo(Ct,Et),_t||At.updatePathMinMax(kt,Ct,Et);break;case OPS.curveTo:Pt=Ct,wt=Et,Ct=xt[Ft+4],Et=xt[Ft+5],St.bezierCurveTo(xt[Ft],xt[Ft+1],xt[Ft+2],xt[Ft+3],Ct,Et),At.updateCurvePathMinMax(kt,Pt,wt,xt[Ft],xt[Ft+1],xt[Ft+2],xt[Ft+3],Ct,Et,ht),Ft+=6;break;case OPS.curveTo2:Pt=Ct,wt=Et,St.bezierCurveTo(Ct,Et,xt[Ft],xt[Ft+1],xt[Ft+2],xt[Ft+3]),At.updateCurvePathMinMax(kt,Pt,wt,Ct,Et,xt[Ft],xt[Ft+1],xt[Ft+2],xt[Ft+3],ht),Ct=xt[Ft+2],Et=xt[Ft+3],Ft+=4;break;case OPS.curveTo3:Pt=Ct,wt=Et,Ct=xt[Ft+2],Et=xt[Ft+3],St.bezierCurveTo(xt[Ft],xt[Ft+1],Ct,Et,Ct,Et),At.updateCurvePathMinMax(kt,Pt,wt,xt[Ft],xt[Ft+1],Ct,Et,Ct,Et,ht),Ft+=4;break;case OPS.closePath:St.closePath();break}_t&&At.updateScalingPathMinMax(kt,ht),At.setCurrentPoint(Ct,Et)}closePath(){this.ctx.closePath()}stroke($=!0){const xt=this.ctx,bt=this.current.strokeColor;xt.globalAlpha=this.current.strokeAlpha,this.contentVisible&&(typeof bt=="object"&&(bt!=null&&bt.getPattern)?(xt.save(),xt.strokeStyle=bt.getPattern(xt,this,getCurrentTransformInverse(xt),PathType.STROKE),this.rescaleAndStroke(!1),xt.restore()):this.rescaleAndStroke(!0)),$&&this.consumePath(this.current.getClippedPathBoundingBox()),xt.globalAlpha=this.current.fillAlpha}closeStroke(){this.closePath(),this.stroke()}fill($=!0){const xt=this.ctx,bt=this.current.fillColor,St=this.current.patternFill;let At=!1;St&&(xt.save(),xt.fillStyle=bt.getPattern(xt,this,getCurrentTransformInverse(xt),PathType.FILL),At=!0);const Ct=this.current.getClippedPathBoundingBox();this.contentVisible&&Ct!==null&&(this.pendingEOFill?(xt.fill("evenodd"),this.pendingEOFill=!1):xt.fill()),At&&xt.restore(),$&&this.consumePath(Ct)}eoFill(){this.pendingEOFill=!0,this.fill()}fillStroke(){this.fill(!1),this.stroke(!1),this.consumePath()}eoFillStroke(){this.pendingEOFill=!0,this.fillStroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.pendingEOFill=!0,this.closePath(),this.fillStroke()}endPath(){this.consumePath()}clip(){this.pendingClip=NORMAL_CLIP}eoClip(){this.pendingClip=EO_CLIP}beginText(){this.current.textMatrix=IDENTITY_MATRIX,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}endText(){const $=this.pendingTextPaths,xt=this.ctx;if($===void 0){xt.beginPath();return}xt.save(),xt.beginPath();for(const bt of $)xt.setTransform(...bt.transform),xt.translate(bt.x,bt.y),bt.addToPath(xt,bt.fontSize);xt.restore(),xt.clip(),xt.beginPath(),delete this.pendingTextPaths}setCharSpacing($){this.current.charSpacing=$}setWordSpacing($){this.current.wordSpacing=$}setHScale($){this.current.textHScale=$/100}setLeading($){this.current.leading=-$}setFont($,xt){var kt;const bt=this.commonObjs.get($),St=this.current;if(!bt)throw new Error(`Can't find font for ${$}`);if(St.fontMatrix=bt.fontMatrix||FONT_IDENTITY_MATRIX,(St.fontMatrix[0]===0||St.fontMatrix[3]===0)&&warn("Invalid font matrix for font "+$),xt<0?(xt=-xt,St.fontDirection=-1):St.fontDirection=1,this.current.font=bt,this.current.fontSize=xt,bt.isType3Font)return;const At=bt.loadedName||"sans-serif",Ct=((kt=bt.systemFontInfo)==null?void 0:kt.css)||`"${At}", ${bt.fallbackName}`;let Et="normal";bt.black?Et="900":bt.bold&&(Et="bold");const Pt=bt.italic?"italic":"normal";let wt=xt;xt<MIN_FONT_SIZE?wt=MIN_FONT_SIZE:xt>MAX_FONT_SIZE&&(wt=MAX_FONT_SIZE),this.current.fontSizeScale=xt/wt,this.ctx.font=`${Pt} ${Et} ${wt}px ${Ct}`}setTextRenderingMode($){this.current.textRenderingMode=$}setTextRise($){this.current.textRise=$}moveText($,xt){this.current.x=this.current.lineX+=$,this.current.y=this.current.lineY+=xt}setLeadingMoveText($,xt){this.setLeading(-xt),this.moveText($,xt)}setTextMatrix($,xt,bt,St,At,Ct){this.current.textMatrix=[$,xt,bt,St,At,Ct],this.current.textMatrixScale=Math.hypot($,xt),this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}nextLine(){this.moveText(0,this.current.leading)}paintChar($,xt,bt,St){const At=this.ctx,Ct=this.current,Et=Ct.font,Pt=Ct.textRenderingMode,wt=Ct.fontSize/Ct.fontSizeScale,kt=Pt&TextRenderingMode.FILL_STROKE_MASK,_t=!!(Pt&TextRenderingMode.ADD_TO_PATH_FLAG),ht=Ct.patternFill&&!Et.missingFile;let vt;(Et.disableFontFace||_t||ht)&&(vt=Et.getPathGenerator(this.commonObjs,$)),Et.disableFontFace||ht?(At.save(),At.translate(xt,bt),At.beginPath(),vt(At,wt),St&&At.setTransform(...St),(kt===TextRenderingMode.FILL||kt===TextRenderingMode.FILL_STROKE)&&At.fill(),(kt===TextRenderingMode.STROKE||kt===TextRenderingMode.FILL_STROKE)&&At.stroke(),At.restore()):((kt===TextRenderingMode.FILL||kt===TextRenderingMode.FILL_STROKE)&&At.fillText($,xt,bt),(kt===TextRenderingMode.STROKE||kt===TextRenderingMode.FILL_STROKE)&&At.strokeText($,xt,bt)),_t&&(this.pendingTextPaths||(this.pendingTextPaths=[])).push({transform:getCurrentTransform(At),x:xt,y:bt,fontSize:wt,addToPath:vt})}get isFontSubpixelAAEnabled(){const{context:$}=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10);$.scale(1.5,1),$.fillText("I",0,10);const xt=$.getImageData(0,0,10,10).data;let bt=!1;for(let St=3;St<xt.length;St+=4)if(xt[St]>0&&xt[St]<255){bt=!0;break}return shadow(this,"isFontSubpixelAAEnabled",bt)}showText($){const xt=this.current,bt=xt.font;if(bt.isType3Font)return this.showType3Text($);const St=xt.fontSize;if(St===0)return;const At=this.ctx,Ct=xt.fontSizeScale,Et=xt.charSpacing,Pt=xt.wordSpacing,wt=xt.fontDirection,kt=xt.textHScale*wt,_t=$.length,ht=bt.vertical,vt=ht?1:-1,Ft=bt.defaultVMetrics,Vt=St*xt.fontMatrix[0],qt=xt.textRenderingMode===TextRenderingMode.FILL&&!bt.disableFontFace&&!xt.patternFill;At.save(),At.transform(...xt.textMatrix),At.translate(xt.x,xt.y+xt.textRise),wt>0?At.scale(kt,-1):At.scale(kt,1);let Lt;if(xt.patternFill){At.save();const Kt=xt.fillColor.getPattern(At,this,getCurrentTransformInverse(At),PathType.FILL);Lt=getCurrentTransform(At),At.restore(),At.fillStyle=Kt}let $t=xt.lineWidth;const Ot=xt.textMatrixScale;if(Ot===0||$t===0){const Kt=xt.textRenderingMode&TextRenderingMode.FILL_STROKE_MASK;(Kt===TextRenderingMode.STROKE||Kt===TextRenderingMode.FILL_STROKE)&&($t=this.getSinglePixelWidth())}else $t/=Ot;if(Ct!==1&&(At.scale(Ct,Ct),$t/=Ct),At.lineWidth=$t,bt.isInvalidPDFjsFont){const Kt=[];let Bt=0;for(const Gt of $)Kt.push(Gt.unicode),Bt+=Gt.width;At.fillText(Kt.join(""),0,0),xt.x+=Bt*Vt*kt,At.restore(),this.compose();return}let jt=0,Rt;for(Rt=0;Rt<_t;++Rt){const Kt=$[Rt];if(typeof Kt=="number"){jt+=vt*Kt*St/1e3;continue}let Bt=!1;const Gt=(Kt.isSpace?Pt:0)+Et,en=Kt.fontChar,hn=Kt.accent;let tn,gn,nn=Kt.width;if(ht){const Wt=Kt.vmetric||Ft,Yt=-(Kt.vmetric?Wt[1]:nn*.5)*Vt,dn=Wt[2]*Vt;nn=Wt?-Wt[0]:nn,tn=Yt/Ct,gn=(jt+dn)/Ct}else tn=jt/Ct,gn=0;if(bt.remeasure&&nn>0){const Wt=At.measureText(en).width*1e3/St*Ct;if(nn<Wt&&this.isFontSubpixelAAEnabled){const Yt=nn/Wt;Bt=!0,At.save(),At.scale(Yt,1),tn/=Yt}else nn!==Wt&&(tn+=(nn-Wt)/2e3*St/Ct)}if(this.contentVisible&&(Kt.isInFont||bt.missingFile)){if(qt&&!hn)At.fillText(en,tn,gn);else if(this.paintChar(en,tn,gn,Lt),hn){const Wt=tn+St*hn.offset.x/Ct,Yt=gn-St*hn.offset.y/Ct;this.paintChar(hn.fontChar,Wt,Yt,Lt)}}const bn=ht?nn*Vt-Gt*wt:nn*Vt+Gt*wt;jt+=bn,Bt&&At.restore()}ht?xt.y-=jt:xt.x+=jt*kt,At.restore(),this.compose()}showType3Text($){const xt=this.ctx,bt=this.current,St=bt.font,At=bt.fontSize,Ct=bt.fontDirection,Et=St.vertical?1:-1,Pt=bt.charSpacing,wt=bt.wordSpacing,kt=bt.textHScale*Ct,_t=bt.fontMatrix||FONT_IDENTITY_MATRIX,ht=$.length,vt=bt.textRenderingMode===TextRenderingMode.INVISIBLE;let Ft,Vt,qt,Lt;if(!(vt||At===0)){for(this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null,xt.save(),xt.transform(...bt.textMatrix),xt.translate(bt.x,bt.y),xt.scale(kt,Ct),Ft=0;Ft<ht;++Ft){if(Vt=$[Ft],typeof Vt=="number"){Lt=Et*Vt*At/1e3,this.ctx.translate(Lt,0),bt.x+=Lt*kt;continue}const $t=(Vt.isSpace?wt:0)+Pt,Ot=St.charProcOperatorList[Vt.operatorListId];if(!Ot){warn(`Type3 character "${Vt.operatorListId}" is not available.`);continue}this.contentVisible&&(this.processingType3=Vt,this.save(),xt.scale(At,At),xt.transform(..._t),this.executeOperatorList(Ot),this.restore()),qt=Util.applyTransform([Vt.width,0],_t)[0]*At+$t,xt.translate(qt,0),bt.x+=qt*kt}xt.restore(),this.processingType3=null}}setCharWidth($,xt){}setCharWidthAndBounds($,xt,bt,St,At,Ct){this.ctx.rect(bt,St,At-bt,Ct-St),this.ctx.clip(),this.endPath()}getColorN_Pattern($){let xt;if($[0]==="TilingPattern"){const bt=$[1],St=this.baseTransform||getCurrentTransform(this.ctx),At={createCanvasGraphics:Ct=>new n9(Ct,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:this.optionalContentConfig,markedContentStack:this.markedContentStack})};xt=new TilingPattern($,bt,this.ctx,At,St)}else xt=this._getPattern($[1],$[2]);return xt}setStrokeColorN(){this.current.strokeColor=this.getColorN_Pattern(arguments)}setFillColorN(){this.current.fillColor=this.getColorN_Pattern(arguments),this.current.patternFill=!0}setStrokeRGBColor($,xt,bt){const St=Util.makeHexColor($,xt,bt);this.ctx.strokeStyle=St,this.current.strokeColor=St}setFillRGBColor($,xt,bt){const St=Util.makeHexColor($,xt,bt);this.ctx.fillStyle=St,this.current.fillColor=St,this.current.patternFill=!1}_getPattern($,xt=null){let bt;return this.cachedPatterns.has($)?bt=this.cachedPatterns.get($):(bt=getShadingPattern(this.getObject($)),this.cachedPatterns.set($,bt)),xt&&(bt.matrix=xt),bt}shadingFill($){if(!this.contentVisible)return;const xt=this.ctx;this.save();const bt=this._getPattern($);xt.fillStyle=bt.getPattern(xt,this,getCurrentTransformInverse(xt),PathType.SHADING);const St=getCurrentTransformInverse(xt);if(St){const{width:At,height:Ct}=xt.canvas,[Et,Pt,wt,kt]=Util.getAxialAlignedBoundingBox([0,0,At,Ct],St);this.ctx.fillRect(Et,Pt,wt-Et,kt-Pt)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);this.compose(this.current.getClippedPathBoundingBox()),this.restore()}beginInlineImage(){unreachable("Should not call beginInlineImage")}beginImageData(){unreachable("Should not call beginImageData")}paintFormXObjectBegin($,xt){if(this.contentVisible&&(this.save(),this.baseTransformStack.push(this.baseTransform),$&&this.transform(...$),this.baseTransform=getCurrentTransform(this.ctx),xt)){const bt=xt[2]-xt[0],St=xt[3]-xt[1];this.ctx.rect(xt[0],xt[1],bt,St),this.current.updateRectMinMax(getCurrentTransform(this.ctx),xt),this.clip(),this.endPath()}}paintFormXObjectEnd(){this.contentVisible&&(this.restore(),this.baseTransform=this.baseTransformStack.pop())}beginGroup($){if(!this.contentVisible)return;this.save(),this.inSMaskMode&&(this.endSMaskMode(),this.current.activeSMask=null);const xt=this.ctx;$.isolated||info("TODO: Support non-isolated groups."),$.knockout&&warn("Knockout groups not supported.");const bt=getCurrentTransform(xt);if($.matrix&&xt.transform(...$.matrix),!$.bbox)throw new Error("Bounding box is required.");let St=Util.getAxialAlignedBoundingBox($.bbox,getCurrentTransform(xt));const At=[0,0,xt.canvas.width,xt.canvas.height];St=Util.intersect(St,At)||[0,0,0,0];const Ct=Math.floor(St[0]),Et=Math.floor(St[1]),Pt=Math.max(Math.ceil(St[2])-Ct,1),wt=Math.max(Math.ceil(St[3])-Et,1);this.current.startNewPathAndClipBox([0,0,Pt,wt]);let kt="groupAt"+this.groupLevel;$.smask&&(kt+="_smask_"+this.smaskCounter++%2);const _t=this.cachedCanvases.getCanvas(kt,Pt,wt),ht=_t.context;ht.translate(-Ct,-Et),ht.transform(...bt),$.smask?this.smaskStack.push({canvas:_t.canvas,context:ht,offsetX:Ct,offsetY:Et,subtype:$.smask.subtype,backdrop:$.smask.backdrop,transferMap:$.smask.transferMap||null,startTransformInverse:null}):(xt.setTransform(1,0,0,1,0,0),xt.translate(Ct,Et),xt.save()),copyCtxState(xt,ht),this.ctx=ht,this.setGState([["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(xt),this.groupLevel++}endGroup($){if(!this.contentVisible)return;this.groupLevel--;const xt=this.ctx,bt=this.groupStack.pop();if(this.ctx=bt,this.ctx.imageSmoothingEnabled=!1,$.smask)this.tempSMask=this.smaskStack.pop(),this.restore();else{this.ctx.restore();const St=getCurrentTransform(this.ctx);this.restore(),this.ctx.save(),this.ctx.setTransform(...St);const At=Util.getAxialAlignedBoundingBox([0,0,xt.canvas.width,xt.canvas.height],St);this.ctx.drawImage(xt.canvas,0,0),this.ctx.restore(),this.compose(At)}}beginAnnotation($,xt,bt,St,At){if(On(this,y0,Dy).call(this),resetCtxToDefault(this.ctx),this.ctx.save(),this.save(),this.baseTransform&&this.ctx.setTransform(...this.baseTransform),xt){const Ct=xt[2]-xt[0],Et=xt[3]-xt[1];if(At&&this.annotationCanvasMap){bt=bt.slice(),bt[4]-=xt[0],bt[5]-=xt[1],xt=xt.slice(),xt[0]=xt[1]=0,xt[2]=Ct,xt[3]=Et;const[Pt,wt]=Util.singularValueDecompose2dScale(getCurrentTransform(this.ctx)),{viewportScale:kt}=this,_t=Math.ceil(Ct*this.outputScaleX*kt),ht=Math.ceil(Et*this.outputScaleY*kt);this.annotationCanvas=this.canvasFactory.create(_t,ht);const{canvas:vt,context:Ft}=this.annotationCanvas;this.annotationCanvasMap.set($,vt),this.annotationCanvas.savedCtx=this.ctx,this.ctx=Ft,this.ctx.save(),this.ctx.setTransform(Pt,0,0,-wt,0,Et*wt),resetCtxToDefault(this.ctx)}else resetCtxToDefault(this.ctx),this.ctx.rect(xt[0],xt[1],Ct,Et),this.ctx.clip(),this.endPath()}this.current=new CanvasExtraState(this.ctx.canvas.width,this.ctx.canvas.height),this.transform(...bt),this.transform(...St)}endAnnotation(){this.annotationCanvas&&(this.ctx.restore(),On(this,y0,Ly).call(this),this.ctx=this.annotationCanvas.savedCtx,delete this.annotationCanvas.savedCtx,delete this.annotationCanvas)}paintImageMaskXObject($){if(!this.contentVisible)return;const xt=$.count;$=this.getObject($.data,$),$.count=xt;const bt=this.ctx,St=this.processingType3;if(St&&(St.compiled===void 0&&(St.compiled=compileType3Glyph($)),St.compiled)){St.compiled(bt);return}const At=this._createMaskCanvas($),Ct=At.canvas;bt.save(),bt.setTransform(1,0,0,1,0,0),bt.drawImage(Ct,At.offsetX,At.offsetY),bt.restore(),this.compose()}paintImageMaskXObjectRepeat($,xt,bt=0,St=0,At,Ct){if(!this.contentVisible)return;$=this.getObject($.data,$);const Et=this.ctx;Et.save();const Pt=getCurrentTransform(Et);Et.transform(xt,bt,St,At,0,0);const wt=this._createMaskCanvas($);Et.setTransform(1,0,0,1,wt.offsetX-Pt[4],wt.offsetY-Pt[5]);for(let kt=0,_t=Ct.length;kt<_t;kt+=2){const ht=Util.transform(Pt,[xt,bt,St,At,Ct[kt],Ct[kt+1]]),[vt,Ft]=Util.applyTransform([0,0],ht);Et.drawImage(wt.canvas,vt,Ft)}Et.restore(),this.compose()}paintImageMaskXObjectGroup($){if(!this.contentVisible)return;const xt=this.ctx,bt=this.current.fillColor,St=this.current.patternFill;for(const At of $){const{data:Ct,width:Et,height:Pt,transform:wt}=At,kt=this.cachedCanvases.getCanvas("maskCanvas",Et,Pt),_t=kt.context;_t.save();const ht=this.getObject(Ct,At);putBinaryImageMask(_t,ht),_t.globalCompositeOperation="source-in",_t.fillStyle=St?bt.getPattern(_t,this,getCurrentTransformInverse(xt),PathType.FILL):bt,_t.fillRect(0,0,Et,Pt),_t.restore(),xt.save(),xt.transform(...wt),xt.scale(1,-1),drawImageAtIntegerCoords(xt,kt.canvas,0,0,Et,Pt,0,-1,1,1),xt.restore()}this.compose()}paintImageXObject($){if(!this.contentVisible)return;const xt=this.getObject($);if(!xt){warn("Dependent image isn't ready yet");return}this.paintInlineImageXObject(xt)}paintImageXObjectRepeat($,xt,bt,St){if(!this.contentVisible)return;const At=this.getObject($);if(!At){warn("Dependent image isn't ready yet");return}const Ct=At.width,Et=At.height,Pt=[];for(let wt=0,kt=St.length;wt<kt;wt+=2)Pt.push({transform:[xt,0,0,bt,St[wt],St[wt+1]],x:0,y:0,w:Ct,h:Et});this.paintInlineImageXObjectGroup(At,Pt)}applyTransferMapsToCanvas($){return this.current.transferMaps!=="none"&&($.filter=this.current.transferMaps,$.drawImage($.canvas,0,0),$.filter="none"),$.canvas}applyTransferMapsToBitmap($){if(this.current.transferMaps==="none")return $.bitmap;const{bitmap:xt,width:bt,height:St}=$,At=this.cachedCanvases.getCanvas("inlineImage",bt,St),Ct=At.context;return Ct.filter=this.current.transferMaps,Ct.drawImage(xt,0,0),Ct.filter="none",At.canvas}paintInlineImageXObject($){if(!this.contentVisible)return;const xt=$.width,bt=$.height,St=this.ctx;if(this.save(),!isNodeJS){const{filter:Et}=St;Et!=="none"&&Et!==""&&(St.filter="none")}St.scale(1/xt,-1/bt);let At;if($.bitmap)At=this.applyTransferMapsToBitmap($);else if(typeof HTMLElement=="function"&&$ instanceof HTMLElement||!$.data)At=$;else{const Pt=this.cachedCanvases.getCanvas("inlineImage",xt,bt).context;putBinaryImageData(Pt,$),At=this.applyTransferMapsToCanvas(Pt)}const Ct=this._scaleImage(At,getCurrentTransformInverse(St));St.imageSmoothingEnabled=getImageSmoothingEnabled(getCurrentTransform(St),$.interpolate),drawImageAtIntegerCoords(St,Ct.img,0,0,Ct.paintWidth,Ct.paintHeight,0,-bt,xt,bt),this.compose(),this.restore()}paintInlineImageXObjectGroup($,xt){if(!this.contentVisible)return;const bt=this.ctx;let St;if($.bitmap)St=$.bitmap;else{const At=$.width,Ct=$.height,Pt=this.cachedCanvases.getCanvas("inlineImage",At,Ct).context;putBinaryImageData(Pt,$),St=this.applyTransferMapsToCanvas(Pt)}for(const At of xt)bt.save(),bt.transform(...At.transform),bt.scale(1,-1),drawImageAtIntegerCoords(bt,St,At.x,At.y,At.w,At.h,0,-1,1,1),bt.restore();this.compose()}paintSolidColorImageMask(){this.contentVisible&&(this.ctx.fillRect(0,0,1,1),this.compose())}markPoint($){}markPointProps($,xt){}beginMarkedContent($){this.markedContentStack.push({visible:!0})}beginMarkedContentProps($,xt){$==="OC"?this.markedContentStack.push({visible:this.optionalContentConfig.isVisible(xt)}):this.markedContentStack.push({visible:!0}),this.contentVisible=this.isContentVisible()}endMarkedContent(){this.markedContentStack.pop(),this.contentVisible=this.isContentVisible()}beginCompat(){}endCompat(){}consumePath($){const xt=this.current.isEmptyClip();this.pendingClip&&this.current.updateClipFromPath(),this.pendingClip||this.compose($);const bt=this.ctx;this.pendingClip&&(xt||(this.pendingClip===EO_CLIP?bt.clip("evenodd"):bt.clip()),this.pendingClip=null),this.current.startNewPathAndClipBox(this.current.clipBox),bt.beginPath()}getSinglePixelWidth(){if(!this._cachedGetSinglePixelWidth){const $=getCurrentTransform(this.ctx);if($[1]===0&&$[2]===0)this._cachedGetSinglePixelWidth=1/Math.min(Math.abs($[0]),Math.abs($[3]));else{const xt=Math.abs($[0]*$[3]-$[2]*$[1]),bt=Math.hypot($[0],$[2]),St=Math.hypot($[1],$[3]);this._cachedGetSinglePixelWidth=Math.max(bt,St)/xt}}return this._cachedGetSinglePixelWidth}getScaleForStroking(){if(this._cachedScaleForStroking[0]===-1){const{lineWidth:$}=this.current,{a:xt,b:bt,c:St,d:At}=this.ctx.getTransform();let Ct,Et;if(bt===0&&St===0){const Pt=Math.abs(xt),wt=Math.abs(At);if(Pt===wt)if($===0)Ct=Et=1/Pt;else{const kt=Pt*$;Ct=Et=kt<1?1/kt:1}else if($===0)Ct=1/Pt,Et=1/wt;else{const kt=Pt*$,_t=wt*$;Ct=kt<1?1/kt:1,Et=_t<1?1/_t:1}}else{const Pt=Math.abs(xt*At-bt*St),wt=Math.hypot(xt,bt),kt=Math.hypot(St,At);if($===0)Ct=kt/Pt,Et=wt/Pt;else{const _t=$*Pt;Ct=kt>_t?kt/_t:1,Et=wt>_t?wt/_t:1}}this._cachedScaleForStroking[0]=Ct,this._cachedScaleForStroking[1]=Et}return this._cachedScaleForStroking}rescaleAndStroke($){const{ctx:xt}=this,{lineWidth:bt}=this.current,[St,At]=this.getScaleForStroking();if(xt.lineWidth=bt||1,St===1&&At===1){xt.stroke();return}const Ct=xt.getLineDash();if($&&xt.save(),xt.scale(St,At),Ct.length>0){const Et=Math.max(St,At);xt.setLineDash(Ct.map(Pt=>Pt/Et)),xt.lineDashOffset/=Et}xt.stroke(),$&&xt.restore()}isContentVisible(){for(let $=this.markedContentStack.length-1;$>=0;$--)if(!this.markedContentStack[$].visible)return!1;return!0}};y0=new WeakSet,Dy=function(){for(;this.stateStack.length||this.inSMaskMode;)this.restore();this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null)},Ly=function(){if(this.pageColors){const $=this.filterFactory.addHCMFilter(this.pageColors.foreground,this.pageColors.background);if($!=="none"){const xt=this.ctx.filter;this.ctx.filter=$,this.ctx.drawImage(this.ctx.canvas,0,0),this.ctx.filter=xt}}};let CanvasGraphics=n9;for(const _e in OPS)CanvasGraphics.prototype[_e]!==void 0&&(CanvasGraphics.prototype[OPS[_e]]=CanvasGraphics.prototype[_e]);var Wm,Gm;class GlobalWorkerOptions{static get workerPort(){return Dt(this,Wm)}static set workerPort($){if(!(typeof Worker<"u"&&$ instanceof Worker)&&$!==null)throw new Error("Invalid `workerPort` type.");$n(this,Wm,$)}static get workerSrc(){return Dt(this,Gm)}static set workerSrc($){if(typeof $!="string")throw new Error("Invalid `workerSrc` type.");$n(this,Gm,$)}}Wm=new WeakMap,Gm=new WeakMap,Nn(GlobalWorkerOptions,Wm,null),Nn(GlobalWorkerOptions,Gm,"");const CallbackKind={UNKNOWN:0,DATA:1,ERROR:2},StreamKind={UNKNOWN:0,CANCEL:1,CANCEL_COMPLETE:2,CLOSE:3,ENQUEUE:4,ERROR:5,PULL:6,PULL_COMPLETE:7,START_COMPLETE:8};function wrapReason(_e){switch(_e instanceof Error||typeof _e=="object"&&_e!==null||unreachable('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),_e.name){case"AbortException":return new AbortException(_e.message);case"MissingPDFException":return new MissingPDFException(_e.message);case"PasswordException":return new PasswordException(_e.message,_e.code);case"UnexpectedResponseException":return new UnexpectedResponseException(_e.message,_e.status);case"UnknownErrorException":return new UnknownErrorException(_e.message,_e.details);default:return new UnknownErrorException(_e.message,_e.toString())}}var lu,j9,B9,r2;class MessageHandler{constructor($,xt,bt){Nn(this,lu);this.sourceName=$,this.targetName=xt,this.comObj=bt,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),this._onComObjOnMessage=St=>{const At=St.data;if(At.targetName!==this.sourceName)return;if(At.stream){On(this,lu,B9).call(this,At);return}if(At.callback){const Et=At.callbackId,Pt=this.callbackCapabilities[Et];if(!Pt)throw new Error(`Cannot resolve callback ${Et}`);if(delete this.callbackCapabilities[Et],At.callback===CallbackKind.DATA)Pt.resolve(At.data);else if(At.callback===CallbackKind.ERROR)Pt.reject(wrapReason(At.reason));else throw new Error("Unexpected callback case");return}const Ct=this.actionHandler[At.action];if(!Ct)throw new Error(`Unknown action from worker: ${At.action}`);if(At.callbackId){const Et=this.sourceName,Pt=At.sourceName;new Promise(function(wt){wt(Ct(At.data))}).then(function(wt){bt.postMessage({sourceName:Et,targetName:Pt,callback:CallbackKind.DATA,callbackId:At.callbackId,data:wt})},function(wt){bt.postMessage({sourceName:Et,targetName:Pt,callback:CallbackKind.ERROR,callbackId:At.callbackId,reason:wrapReason(wt)})});return}if(At.streamId){On(this,lu,j9).call(this,At);return}Ct(At.data)},bt.addEventListener("message",this._onComObjOnMessage)}on($,xt){const bt=this.actionHandler;if(bt[$])throw new Error(`There is already an actionName called "${$}"`);bt[$]=xt}send($,xt,bt){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:$,data:xt},bt)}sendWithPromise($,xt,bt){const St=this.callbackId++,At=Promise.withResolvers();this.callbackCapabilities[St]=At;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:$,callbackId:St,data:xt},bt)}catch(Ct){At.reject(Ct)}return At.promise}sendWithStream($,xt,bt,St){const At=this.streamId++,Ct=this.sourceName,Et=this.targetName,Pt=this.comObj;return new ReadableStream({start:wt=>{const kt=Promise.withResolvers();return this.streamControllers[At]={controller:wt,startCall:kt,pullCall:null,cancelCall:null,isClosed:!1},Pt.postMessage({sourceName:Ct,targetName:Et,action:$,streamId:At,data:xt,desiredSize:wt.desiredSize},St),kt.promise},pull:wt=>{const kt=Promise.withResolvers();return this.streamControllers[At].pullCall=kt,Pt.postMessage({sourceName:Ct,targetName:Et,stream:StreamKind.PULL,streamId:At,desiredSize:wt.desiredSize}),kt.promise},cancel:wt=>{assert(wt instanceof Error,"cancel must have a valid reason");const kt=Promise.withResolvers();return this.streamControllers[At].cancelCall=kt,this.streamControllers[At].isClosed=!0,Pt.postMessage({sourceName:Ct,targetName:Et,stream:StreamKind.CANCEL,streamId:At,reason:wrapReason(wt)}),kt.promise}},bt)}destroy(){this.comObj.removeEventListener("message",this._onComObjOnMessage)}}lu=new WeakSet,j9=function($){const xt=$.streamId,bt=this.sourceName,St=$.sourceName,At=this.comObj,Ct=this,Et=this.actionHandler[$.action],Pt={enqueue(wt,kt=1,_t){if(this.isCancelled)return;const ht=this.desiredSize;this.desiredSize-=kt,ht>0&&this.desiredSize<=0&&(this.sinkCapability=Promise.withResolvers(),this.ready=this.sinkCapability.promise),At.postMessage({sourceName:bt,targetName:St,stream:StreamKind.ENQUEUE,streamId:xt,chunk:wt},_t)},close(){this.isCancelled||(this.isCancelled=!0,At.postMessage({sourceName:bt,targetName:St,stream:StreamKind.CLOSE,streamId:xt}),delete Ct.streamSinks[xt])},error(wt){assert(wt instanceof Error,"error must have a valid reason"),!this.isCancelled&&(this.isCancelled=!0,At.postMessage({sourceName:bt,targetName:St,stream:StreamKind.ERROR,streamId:xt,reason:wrapReason(wt)}))},sinkCapability:Promise.withResolvers(),onPull:null,onCancel:null,isCancelled:!1,desiredSize:$.desiredSize,ready:null};Pt.sinkCapability.resolve(),Pt.ready=Pt.sinkCapability.promise,this.streamSinks[xt]=Pt,new Promise(function(wt){wt(Et($.data,Pt))}).then(function(){At.postMessage({sourceName:bt,targetName:St,stream:StreamKind.START_COMPLETE,streamId:xt,success:!0})},function(wt){At.postMessage({sourceName:bt,targetName:St,stream:StreamKind.START_COMPLETE,streamId:xt,reason:wrapReason(wt)})})},B9=function($){const xt=$.streamId,bt=this.sourceName,St=$.sourceName,At=this.comObj,Ct=this.streamControllers[xt],Et=this.streamSinks[xt];switch($.stream){case StreamKind.START_COMPLETE:$.success?Ct.startCall.resolve():Ct.startCall.reject(wrapReason($.reason));break;case StreamKind.PULL_COMPLETE:$.success?Ct.pullCall.resolve():Ct.pullCall.reject(wrapReason($.reason));break;case StreamKind.PULL:if(!Et){At.postMessage({sourceName:bt,targetName:St,stream:StreamKind.PULL_COMPLETE,streamId:xt,success:!0});break}Et.desiredSize<=0&&$.desiredSize>0&&Et.sinkCapability.resolve(),Et.desiredSize=$.desiredSize,new Promise(function(Pt){var wt;Pt((wt=Et.onPull)==null?void 0:wt.call(Et))}).then(function(){At.postMessage({sourceName:bt,targetName:St,stream:StreamKind.PULL_COMPLETE,streamId:xt,success:!0})},function(Pt){At.postMessage({sourceName:bt,targetName:St,stream:StreamKind.PULL_COMPLETE,streamId:xt,reason:wrapReason(Pt)})});break;case StreamKind.ENQUEUE:if(assert(Ct,"enqueue should have stream controller"),Ct.isClosed)break;Ct.controller.enqueue($.chunk);break;case StreamKind.CLOSE:if(assert(Ct,"close should have stream controller"),Ct.isClosed)break;Ct.isClosed=!0,Ct.controller.close(),On(this,lu,r2).call(this,Ct,xt);break;case StreamKind.ERROR:assert(Ct,"error should have stream controller"),Ct.controller.error(wrapReason($.reason)),On(this,lu,r2).call(this,Ct,xt);break;case StreamKind.CANCEL_COMPLETE:$.success?Ct.cancelCall.resolve():Ct.cancelCall.reject(wrapReason($.reason)),On(this,lu,r2).call(this,Ct,xt);break;case StreamKind.CANCEL:if(!Et)break;new Promise(function(Pt){var wt;Pt((wt=Et.onCancel)==null?void 0:wt.call(Et,wrapReason($.reason)))}).then(function(){At.postMessage({sourceName:bt,targetName:St,stream:StreamKind.CANCEL_COMPLETE,streamId:xt,success:!0})},function(Pt){At.postMessage({sourceName:bt,targetName:St,stream:StreamKind.CANCEL_COMPLETE,streamId:xt,reason:wrapReason(Pt)})}),Et.sinkCapability.reject(wrapReason($.reason)),Et.isCancelled=!0,delete this.streamSinks[xt];break;default:throw new Error("Unexpected stream case")}},r2=async function($,xt){var bt,St,At;await Promise.allSettled([(bt=$.startCall)==null?void 0:bt.promise,(St=$.pullCall)==null?void 0:St.promise,(At=$.cancelCall)==null?void 0:At.promise]),delete this.streamControllers[xt]};var q0,qm;class Metadata{constructor({parsedData:$,rawData:xt}){Nn(this,q0);Nn(this,qm);$n(this,q0,$),$n(this,qm,xt)}getRaw(){return Dt(this,qm)}get($){return Dt(this,q0).get($)??null}getAll(){return objectFromMap(Dt(this,q0))}has($){return Dt(this,q0).has($)}}q0=new WeakMap,qm=new WeakMap;const INTERNAL=Symbol("INTERNAL");var Km,Ym,Zm,l1;class OptionalContentGroup{constructor($,{name:xt,intent:bt,usage:St}){Nn(this,Km,!1);Nn(this,Ym,!1);Nn(this,Zm,!1);Nn(this,l1,!0);$n(this,Km,!!($&RenderingIntentFlag.DISPLAY)),$n(this,Ym,!!($&RenderingIntentFlag.PRINT)),this.name=xt,this.intent=bt,this.usage=St}get visible(){if(Dt(this,Zm))return Dt(this,l1);if(!Dt(this,l1))return!1;const{print:$,view:xt}=this.usage;return Dt(this,Km)?(xt==null?void 0:xt.viewState)!=="OFF":Dt(this,Ym)?($==null?void 0:$.printState)!=="OFF":!0}_setVisible($,xt,bt=!1){$!==INTERNAL&&unreachable("Internal method `_setVisible` called."),$n(this,Zm,bt),$n(this,l1,xt)}}Km=new WeakMap,Ym=new WeakMap,Zm=new WeakMap,l1=new WeakMap;var n0,ga,c1,u1,Jm,Ny;class OptionalContentConfig{constructor($,xt=RenderingIntentFlag.DISPLAY){Nn(this,Jm);Nn(this,n0,null);Nn(this,ga,new Map);Nn(this,c1,null);Nn(this,u1,null);if(this.renderingIntent=xt,this.name=null,this.creator=null,$!==null){this.name=$.name,this.creator=$.creator,$n(this,u1,$.order);for(const bt of $.groups)Dt(this,ga).set(bt.id,new OptionalContentGroup(xt,bt));if($.baseState==="OFF")for(const bt of Dt(this,ga).values())bt._setVisible(INTERNAL,!1);for(const bt of $.on)Dt(this,ga).get(bt)._setVisible(INTERNAL,!0);for(const bt of $.off)Dt(this,ga).get(bt)._setVisible(INTERNAL,!1);$n(this,c1,this.getHash())}}isVisible($){if(Dt(this,ga).size===0)return!0;if(!$)return info("Optional content group not defined."),!0;if($.type==="OCG")return Dt(this,ga).has($.id)?Dt(this,ga).get($.id).visible:(warn(`Optional content group not found: ${$.id}`),!0);if($.type==="OCMD"){if($.expression)return On(this,Jm,Ny).call(this,$.expression);if(!$.policy||$.policy==="AnyOn"){for(const xt of $.ids){if(!Dt(this,ga).has(xt))return warn(`Optional content group not found: ${xt}`),!0;if(Dt(this,ga).get(xt).visible)return!0}return!1}else if($.policy==="AllOn"){for(const xt of $.ids){if(!Dt(this,ga).has(xt))return warn(`Optional content group not found: ${xt}`),!0;if(!Dt(this,ga).get(xt).visible)return!1}return!0}else if($.policy==="AnyOff"){for(const xt of $.ids){if(!Dt(this,ga).has(xt))return warn(`Optional content group not found: ${xt}`),!0;if(!Dt(this,ga).get(xt).visible)return!0}return!1}else if($.policy==="AllOff"){for(const xt of $.ids){if(!Dt(this,ga).has(xt))return warn(`Optional content group not found: ${xt}`),!0;if(Dt(this,ga).get(xt).visible)return!1}return!0}return warn(`Unknown optional content policy ${$.policy}.`),!0}return warn(`Unknown group type ${$.type}.`),!0}setVisibility($,xt=!0){const bt=Dt(this,ga).get($);if(!bt){warn(`Optional content group not found: ${$}`);return}bt._setVisible(INTERNAL,!!xt,!0),$n(this,n0,null)}setOCGState({state:$,preserveRB:xt}){let bt;for(const St of $){switch(St){case"ON":case"OFF":case"Toggle":bt=St;continue}const At=Dt(this,ga).get(St);if(At)switch(bt){case"ON":At._setVisible(INTERNAL,!0);break;case"OFF":At._setVisible(INTERNAL,!1);break;case"Toggle":At._setVisible(INTERNAL,!At.visible);break}}$n(this,n0,null)}get hasInitialVisibility(){return Dt(this,c1)===null||this.getHash()===Dt(this,c1)}getOrder(){return Dt(this,ga).size?Dt(this,u1)?Dt(this,u1).slice():[...Dt(this,ga).keys()]:null}getGroups(){return Dt(this,ga).size>0?objectFromMap(Dt(this,ga)):null}getGroup($){return Dt(this,ga).get($)||null}getHash(){if(Dt(this,n0)!==null)return Dt(this,n0);const $=new MurmurHash3_64;for(const[xt,bt]of Dt(this,ga))$.update(`${xt}:${bt.visible}`);return $n(this,n0,$.hexdigest())}}n0=new WeakMap,ga=new WeakMap,c1=new WeakMap,u1=new WeakMap,Jm=new WeakSet,Ny=function($){const xt=$.length;if(xt<2)return!0;const bt=$[0];for(let St=1;St<xt;St++){const At=$[St];let Ct;if(Array.isArray(At))Ct=On(this,Jm,Ny).call(this,At);else if(Dt(this,ga).has(At))Ct=Dt(this,ga).get(At).visible;else return warn(`Optional content group not found: ${At}`),!0;switch(bt){case"And":if(!Ct)return!1;break;case"Or":if(Ct)return!0;break;case"Not":return!Ct;default:return!0}}return bt==="And"};class PDFDataTransportStream{constructor($,{disableRange:xt=!1,disableStream:bt=!1}){assert($,'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.');const{length:St,initialData:At,progressiveDone:Ct,contentDispositionFilename:Et}=$;if(this._queuedChunks=[],this._progressiveDone=Ct,this._contentDispositionFilename=Et,(At==null?void 0:At.length)>0){const Pt=At instanceof Uint8Array&&At.byteLength===At.buffer.byteLength?At.buffer:new Uint8Array(At).buffer;this._queuedChunks.push(Pt)}this._pdfDataRangeTransport=$,this._isStreamingSupported=!bt,this._isRangeSupported=!xt,this._contentLength=St,this._fullRequestReader=null,this._rangeReaders=[],$.addRangeListener((Pt,wt)=>{this._onReceiveData({begin:Pt,chunk:wt})}),$.addProgressListener((Pt,wt)=>{this._onProgress({loaded:Pt,total:wt})}),$.addProgressiveReadListener(Pt=>{this._onReceiveData({chunk:Pt})}),$.addProgressiveDoneListener(()=>{this._onProgressiveDone()}),$.transportReady()}_onReceiveData({begin:$,chunk:xt}){const bt=xt instanceof Uint8Array&&xt.byteLength===xt.buffer.byteLength?xt.buffer:new Uint8Array(xt).buffer;if($===void 0)this._fullRequestReader?this._fullRequestReader._enqueue(bt):this._queuedChunks.push(bt);else{const St=this._rangeReaders.some(function(At){return At._begin!==$?!1:(At._enqueue(bt),!0)});assert(St,"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.")}}get _progressiveDataLength(){var $;return(($=this._fullRequestReader)==null?void 0:$._loaded)??0}_onProgress($){var xt,bt,St,At;$.total===void 0?(bt=(xt=this._rangeReaders[0])==null?void 0:xt.onProgress)==null||bt.call(xt,{loaded:$.loaded}):(At=(St=this._fullRequestReader)==null?void 0:St.onProgress)==null||At.call(St,{loaded:$.loaded,total:$.total})}_onProgressiveDone(){var $;($=this._fullRequestReader)==null||$.progressiveDone(),this._progressiveDone=!0}_removeRangeReader($){const xt=this._rangeReaders.indexOf($);xt>=0&&this._rangeReaders.splice(xt,1)}getFullReader(){assert(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");const $=this._queuedChunks;return this._queuedChunks=null,new PDFDataTransportStreamReader(this,$,this._progressiveDone,this._contentDispositionFilename)}getRangeReader($,xt){if(xt<=this._progressiveDataLength)return null;const bt=new PDFDataTransportStreamRangeReader(this,$,xt);return this._pdfDataRangeTransport.requestDataRange($,xt),this._rangeReaders.push(bt),bt}cancelAllRequests($){var xt;(xt=this._fullRequestReader)==null||xt.cancel($);for(const bt of this._rangeReaders.slice(0))bt.cancel($);this._pdfDataRangeTransport.abort()}}class PDFDataTransportStreamReader{constructor($,xt,bt=!1,St=null){this._stream=$,this._done=bt||!1,this._filename=isPdfFile(St)?St:null,this._queuedChunks=xt||[],this._loaded=0;for(const At of this._queuedChunks)this._loaded+=At.byteLength;this._requests=[],this._headersReady=Promise.resolve(),$._fullRequestReader=this,this.onProgress=null}_enqueue($){this._done||(this._requests.length>0?this._requests.shift().resolve({value:$,done:!1}):this._queuedChunks.push($),this._loaded+=$.byteLength)}get headersReady(){return this._headersReady}get filename(){return this._filename}get isRangeSupported(){return this._stream._isRangeSupported}get isStreamingSupported(){return this._stream._isStreamingSupported}get contentLength(){return this._stream._contentLength}async read(){if(this._queuedChunks.length>0)return{value:this._queuedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const $=Promise.withResolvers();return this._requests.push($),$.promise}cancel($){this._done=!0;for(const xt of this._requests)xt.resolve({value:void 0,done:!0});this._requests.length=0}progressiveDone(){this._done||(this._done=!0)}}class PDFDataTransportStreamRangeReader{constructor($,xt,bt){this._stream=$,this._begin=xt,this._end=bt,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}_enqueue($){if(!this._done){if(this._requests.length===0)this._queuedChunk=$;else{this._requests.shift().resolve({value:$,done:!1});for(const bt of this._requests)bt.resolve({value:void 0,done:!0});this._requests.length=0}this._done=!0,this._stream._removeRangeReader(this)}}get isStreamingSupported(){return!1}async read(){if(this._queuedChunk){const xt=this._queuedChunk;return this._queuedChunk=null,{value:xt,done:!1}}if(this._done)return{value:void 0,done:!0};const $=Promise.withResolvers();return this._requests.push($),$.promise}cancel($){this._done=!0;for(const xt of this._requests)xt.resolve({value:void 0,done:!0});this._requests.length=0,this._stream._removeRangeReader(this)}}function getFilenameFromContentDispositionHeader(_e){let $=!0,xt=bt("filename\\*","i").exec(_e);if(xt){xt=xt[1];let kt=Et(xt);return kt=unescape(kt),kt=Pt(kt),kt=wt(kt),At(kt)}if(xt=Ct(_e),xt){const kt=wt(xt);return At(kt)}if(xt=bt("filename","i").exec(_e),xt){xt=xt[1];let kt=Et(xt);return kt=wt(kt),At(kt)}function bt(kt,_t){return new RegExp("(?:^|;)\\s*"+kt+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',_t)}function St(kt,_t){if(kt){if(!/^[\x00-\xFF]+$/.test(_t))return _t;try{const ht=new TextDecoder(kt,{fatal:!0}),vt=stringToBytes(_t);_t=ht.decode(vt),$=!1}catch{}}return _t}function At(kt){return $&&/[\x80-\xff]/.test(kt)&&(kt=St("utf-8",kt),$&&(kt=St("iso-8859-1",kt))),kt}function Ct(kt){const _t=[];let ht;const vt=bt("filename\\*((?!0\\d)\\d+)(\\*?)","ig");for(;(ht=vt.exec(kt))!==null;){let[,Vt,qt,Lt]=ht;if(Vt=parseInt(Vt,10),Vt in _t){if(Vt===0)break;continue}_t[Vt]=[qt,Lt]}const Ft=[];for(let Vt=0;Vt<_t.length&&Vt in _t;++Vt){let[qt,Lt]=_t[Vt];Lt=Et(Lt),qt&&(Lt=unescape(Lt),Vt===0&&(Lt=Pt(Lt))),Ft.push(Lt)}return Ft.join("")}function Et(kt){if(kt.startsWith('"')){const _t=kt.slice(1).split('\\"');for(let ht=0;ht<_t.length;++ht){const vt=_t[ht].indexOf('"');vt!==-1&&(_t[ht]=_t[ht].slice(0,vt),_t.length=ht+1),_t[ht]=_t[ht].replaceAll(/\\(.)/g,"$1")}kt=_t.join('"')}return kt}function Pt(kt){const _t=kt.indexOf("'");if(_t===-1)return kt;const ht=kt.slice(0,_t),Ft=kt.slice(_t+1).replace(/^[^']*'/,"");return St(ht,Ft)}function wt(kt){return!kt.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(kt)?kt:kt.replaceAll(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,function(_t,ht,vt,Ft){if(vt==="q"||vt==="Q")return Ft=Ft.replaceAll("_"," "),Ft=Ft.replaceAll(/=([0-9a-fA-F]{2})/g,function(Vt,qt){return String.fromCharCode(parseInt(qt,16))}),St(ht,Ft);try{Ft=atob(Ft)}catch{}return St(ht,Ft)})}return""}function validateRangeRequestCapabilities({getResponseHeader:_e,isHttp:$,rangeChunkSize:xt,disableRange:bt}){const St={allowRangeRequests:!1,suggestedLength:void 0},At=parseInt(_e("Content-Length"),10);return!Number.isInteger(At)||(St.suggestedLength=At,At<=2*xt)||bt||!$||_e("Accept-Ranges")!=="bytes"||(_e("Content-Encoding")||"identity")!=="identity"||(St.allowRangeRequests=!0),St}function extractFilenameFromHeader(_e){const $=_e("Content-Disposition");if($){let xt=getFilenameFromContentDispositionHeader($);if(xt.includes("%"))try{xt=decodeURIComponent(xt)}catch{}if(isPdfFile(xt))return xt}return null}function createResponseStatusError(_e,$){return _e===404||_e===0&&$.startsWith("file:")?new MissingPDFException('Missing PDF "'+$+'".'):new UnexpectedResponseException(`Unexpected server response (${_e}) while retrieving PDF "${$}".`,_e)}function validateResponseStatus(_e){return _e===200||_e===206}function createFetchOptions(_e,$,xt){return{method:"GET",headers:_e,signal:xt.signal,mode:"cors",credentials:$?"include":"same-origin",redirect:"follow"}}function createHeaders(_e){const $=new Headers;for(const xt in _e){const bt=_e[xt];bt!==void 0&&$.append(xt,bt)}return $}function getArrayBuffer(_e){return _e instanceof Uint8Array?_e.buffer:_e instanceof ArrayBuffer?_e:(warn(`getArrayBuffer - unexpected data format: ${_e}`),new Uint8Array(_e).buffer)}class PDFFetchStream{constructor($){this.source=$,this.isHttp=/^https?:/i.test($.url),this.httpHeaders=this.isHttp&&$.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var $;return(($=this._fullRequestReader)==null?void 0:$._loaded)??0}getFullReader(){return assert(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once."),this._fullRequestReader=new PDFFetchStreamReader(this),this._fullRequestReader}getRangeReader($,xt){if(xt<=this._progressiveDataLength)return null;const bt=new PDFFetchStreamRangeReader(this,$,xt);return this._rangeRequestReaders.push(bt),bt}cancelAllRequests($){var xt;(xt=this._fullRequestReader)==null||xt.cancel($);for(const bt of this._rangeRequestReaders.slice(0))bt.cancel($)}}class PDFFetchStreamReader{constructor($){this._stream=$,this._reader=null,this._loaded=0,this._filename=null;const xt=$.source;this._withCredentials=xt.withCredentials||!1,this._contentLength=xt.length,this._headersCapability=Promise.withResolvers(),this._disableRange=xt.disableRange||!1,this._rangeChunkSize=xt.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._abortController=new AbortController,this._isStreamingSupported=!xt.disableStream,this._isRangeSupported=!xt.disableRange,this._headers=createHeaders(this._stream.httpHeaders);const bt=xt.url;fetch(bt,createFetchOptions(this._headers,this._withCredentials,this._abortController)).then(St=>{if(!validateResponseStatus(St.status))throw createResponseStatusError(St.status,bt);this._reader=St.body.getReader(),this._headersCapability.resolve();const At=Pt=>St.headers.get(Pt),{allowRangeRequests:Ct,suggestedLength:Et}=validateRangeRequestCapabilities({getResponseHeader:At,isHttp:this._stream.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=Ct,this._contentLength=Et||this._contentLength,this._filename=extractFilenameFromHeader(At),!this._isStreamingSupported&&this._isRangeSupported&&this.cancel(new AbortException("Streaming is disabled."))}).catch(this._headersCapability.reject),this.onProgress=null}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var bt;await this._headersCapability.promise;const{value:$,done:xt}=await this._reader.read();return xt?{value:$,done:xt}:(this._loaded+=$.byteLength,(bt=this.onProgress)==null||bt.call(this,{loaded:this._loaded,total:this._contentLength}),{value:getArrayBuffer($),done:!1})}cancel($){var xt;(xt=this._reader)==null||xt.cancel($),this._abortController.abort()}}class PDFFetchStreamRangeReader{constructor($,xt,bt){this._stream=$,this._reader=null,this._loaded=0;const St=$.source;this._withCredentials=St.withCredentials||!1,this._readCapability=Promise.withResolvers(),this._isStreamingSupported=!St.disableStream,this._abortController=new AbortController,this._headers=createHeaders(this._stream.httpHeaders),this._headers.append("Range",`bytes=${xt}-${bt-1}`);const At=St.url;fetch(At,createFetchOptions(this._headers,this._withCredentials,this._abortController)).then(Ct=>{if(!validateResponseStatus(Ct.status))throw createResponseStatusError(Ct.status,At);this._readCapability.resolve(),this._reader=Ct.body.getReader()}).catch(this._readCapability.reject),this.onProgress=null}get isStreamingSupported(){return this._isStreamingSupported}async read(){var bt;await this._readCapability.promise;const{value:$,done:xt}=await this._reader.read();return xt?{value:$,done:xt}:(this._loaded+=$.byteLength,(bt=this.onProgress)==null||bt.call(this,{loaded:this._loaded}),{value:getArrayBuffer($),done:!1})}cancel($){var xt;(xt=this._reader)==null||xt.cancel($),this._abortController.abort()}}const OK_RESPONSE=200,PARTIAL_CONTENT_RESPONSE=206;function network_getArrayBuffer(_e){const $=_e.response;return typeof $!="string"?$:stringToBytes($).buffer}class NetworkManager{constructor($,xt={}){this.url=$,this.isHttp=/^https?:/i.test($),this.httpHeaders=this.isHttp&&xt.httpHeaders||Object.create(null),this.withCredentials=xt.withCredentials||!1,this.currXhrId=0,this.pendingRequests=Object.create(null)}requestRange($,xt,bt){const St={begin:$,end:xt};for(const At in bt)St[At]=bt[At];return this.request(St)}requestFull($){return this.request($)}request($){const xt=new XMLHttpRequest,bt=this.currXhrId++,St=this.pendingRequests[bt]={xhr:xt};xt.open("GET",this.url),xt.withCredentials=this.withCredentials;for(const At in this.httpHeaders){const Ct=this.httpHeaders[At];Ct!==void 0&&xt.setRequestHeader(At,Ct)}return this.isHttp&&"begin"in $&&"end"in $?(xt.setRequestHeader("Range",`bytes=${$.begin}-${$.end-1}`),St.expectedStatus=PARTIAL_CONTENT_RESPONSE):St.expectedStatus=OK_RESPONSE,xt.responseType="arraybuffer",$.onError&&(xt.onerror=function(At){$.onError(xt.status)}),xt.onreadystatechange=this.onStateChange.bind(this,bt),xt.onprogress=this.onProgress.bind(this,bt),St.onHeadersReceived=$.onHeadersReceived,St.onDone=$.onDone,St.onError=$.onError,St.onProgress=$.onProgress,xt.send(null),bt}onProgress($,xt){var St;const bt=this.pendingRequests[$];bt&&((St=bt.onProgress)==null||St.call(bt,xt))}onStateChange($,xt){var Pt,wt,kt;const bt=this.pendingRequests[$];if(!bt)return;const St=bt.xhr;if(St.readyState>=2&&bt.onHeadersReceived&&(bt.onHeadersReceived(),delete bt.onHeadersReceived),St.readyState!==4||!($ in this.pendingRequests))return;if(delete this.pendingRequests[$],St.status===0&&this.isHttp){(Pt=bt.onError)==null||Pt.call(bt,St.status);return}const At=St.status||OK_RESPONSE;if(!(At===OK_RESPONSE&&bt.expectedStatus===PARTIAL_CONTENT_RESPONSE)&&At!==bt.expectedStatus){(wt=bt.onError)==null||wt.call(bt,St.status);return}const Et=network_getArrayBuffer(St);if(At===PARTIAL_CONTENT_RESPONSE){const _t=St.getResponseHeader("Content-Range"),ht=/bytes (\d+)-(\d+)\/(\d+)/.exec(_t);bt.onDone({begin:parseInt(ht[1],10),chunk:Et})}else Et?bt.onDone({begin:0,chunk:Et}):(kt=bt.onError)==null||kt.call(bt,St.status)}getRequestXhr($){return this.pendingRequests[$].xhr}isPendingRequest($){return $ in this.pendingRequests}abortRequest($){const xt=this.pendingRequests[$].xhr;delete this.pendingRequests[$],xt.abort()}}class PDFNetworkStream{constructor($){this._source=$,this._manager=new NetworkManager($.url,{httpHeaders:$.httpHeaders,withCredentials:$.withCredentials}),this._rangeChunkSize=$.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}_onRangeRequestReaderClosed($){const xt=this._rangeRequestReaders.indexOf($);xt>=0&&this._rangeRequestReaders.splice(xt,1)}getFullReader(){return assert(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once."),this._fullRequestReader=new PDFNetworkStreamFullRequestReader(this._manager,this._source),this._fullRequestReader}getRangeReader($,xt){const bt=new PDFNetworkStreamRangeRequestReader(this._manager,$,xt);return bt.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(bt),bt}cancelAllRequests($){var xt;(xt=this._fullRequestReader)==null||xt.cancel($);for(const bt of this._rangeRequestReaders.slice(0))bt.cancel($)}}class PDFNetworkStreamFullRequestReader{constructor($,xt){this._manager=$;const bt={onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=xt.url,this._fullRequestId=$.requestFull(bt),this._headersReceivedCapability=Promise.withResolvers(),this._disableRange=xt.disableRange||!1,this._contentLength=xt.length,this._rangeChunkSize=xt.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}_onHeadersReceived(){const $=this._fullRequestId,xt=this._manager.getRequestXhr($),bt=Ct=>xt.getResponseHeader(Ct),{allowRangeRequests:St,suggestedLength:At}=validateRangeRequestCapabilities({getResponseHeader:bt,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});St&&(this._isRangeSupported=!0),this._contentLength=At||this._contentLength,this._filename=extractFilenameFromHeader(bt),this._isRangeSupported&&this._manager.abortRequest($),this._headersReceivedCapability.resolve()}_onDone($){if($&&(this._requests.length>0?this._requests.shift().resolve({value:$.chunk,done:!1}):this._cachedChunks.push($.chunk)),this._done=!0,!(this._cachedChunks.length>0)){for(const xt of this._requests)xt.resolve({value:void 0,done:!0});this._requests.length=0}}_onError($){this._storedError=createResponseStatusError($,this._url),this._headersReceivedCapability.reject(this._storedError);for(const xt of this._requests)xt.reject(this._storedError);this._requests.length=0,this._cachedChunks.length=0}_onProgress($){var xt;(xt=this.onProgress)==null||xt.call(this,{loaded:$.loaded,total:$.lengthComputable?$.total:this._contentLength})}get filename(){return this._filename}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}get contentLength(){return this._contentLength}get headersReady(){return this._headersReceivedCapability.promise}async read(){if(this._storedError)throw this._storedError;if(this._cachedChunks.length>0)return{value:this._cachedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const $=Promise.withResolvers();return this._requests.push($),$.promise}cancel($){this._done=!0,this._headersReceivedCapability.reject($);for(const xt of this._requests)xt.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}}class PDFNetworkStreamRangeRequestReader{constructor($,xt,bt){this._manager=$;const St={onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=$.url,this._requestId=$.requestRange(xt,bt,St),this._requests=[],this._queuedChunk=null,this._done=!1,this._storedError=void 0,this.onProgress=null,this.onClosed=null}_close(){var $;($=this.onClosed)==null||$.call(this,this)}_onDone($){const xt=$.chunk;this._requests.length>0?this._requests.shift().resolve({value:xt,done:!1}):this._queuedChunk=xt,this._done=!0;for(const bt of this._requests)bt.resolve({value:void 0,done:!0});this._requests.length=0,this._close()}_onError($){this._storedError=createResponseStatusError($,this._url);for(const xt of this._requests)xt.reject(this._storedError);this._requests.length=0,this._queuedChunk=null}_onProgress($){var xt;this.isStreamingSupported||(xt=this.onProgress)==null||xt.call(this,{loaded:$.loaded})}get isStreamingSupported(){return!1}async read(){if(this._storedError)throw this._storedError;if(this._queuedChunk!==null){const xt=this._queuedChunk;return this._queuedChunk=null,{value:xt,done:!1}}if(this._done)return{value:void 0,done:!0};const $=Promise.withResolvers();return this._requests.push($),$.promise}cancel($){this._done=!0;for(const xt of this._requests)xt.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}}const fileUriRegex=/^file:\/\/\/[a-zA-Z]:\//;function parseUrl(_e){const $=NodePackages.get("url"),xt=$.parse(_e);return xt.protocol==="file:"||xt.host?xt:/^[a-z]:[/\\]/i.test(_e)?$.parse(`file:///${_e}`):(xt.host||(xt.protocol="file:"),xt)}class PDFNodeStream{constructor($){this.source=$,this.url=parseUrl($.url),this.isHttp=this.url.protocol==="http:"||this.url.protocol==="https:",this.isFsUrl=this.url.protocol==="file:",this.httpHeaders=this.isHttp&&$.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var $;return(($=this._fullRequestReader)==null?void 0:$._loaded)??0}getFullReader(){return assert(!this._fullRequestReader,"PDFNodeStream.getFullReader can only be called once."),this._fullRequestReader=this.isFsUrl?new PDFNodeStreamFsFullReader(this):new PDFNodeStreamFullReader(this),this._fullRequestReader}getRangeReader($,xt){if(xt<=this._progressiveDataLength)return null;const bt=this.isFsUrl?new PDFNodeStreamFsRangeReader(this,$,xt):new PDFNodeStreamRangeReader(this,$,xt);return this._rangeRequestReaders.push(bt),bt}cancelAllRequests($){var xt;(xt=this._fullRequestReader)==null||xt.cancel($);for(const bt of this._rangeRequestReaders.slice(0))bt.cancel($)}}class BaseFullReader{constructor($){this._url=$.url,this._done=!1,this._storedError=null,this.onProgress=null;const xt=$.source;this._contentLength=xt.length,this._loaded=0,this._filename=null,this._disableRange=xt.disableRange||!1,this._rangeChunkSize=xt.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!xt.disableStream,this._isRangeSupported=!xt.disableRange,this._readableStream=null,this._readCapability=Promise.withResolvers(),this._headersCapability=Promise.withResolvers()}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var bt;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const $=this._readableStream.read();return $===null?(this._readCapability=Promise.withResolvers(),this.read()):(this._loaded+=$.length,(bt=this.onProgress)==null||bt.call(this,{loaded:this._loaded,total:this._contentLength}),{value:new Uint8Array($).buffer,done:!1})}cancel($){if(!this._readableStream){this._error($);return}this._readableStream.destroy($)}_error($){this._storedError=$,this._readCapability.resolve()}_setReadableStream($){this._readableStream=$,$.on("readable",()=>{this._readCapability.resolve()}),$.on("end",()=>{$.destroy(),this._done=!0,this._readCapability.resolve()}),$.on("error",xt=>{this._error(xt)}),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new AbortException("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}}class BaseRangeReader{constructor($){this._url=$.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=Promise.withResolvers();const xt=$.source;this._isStreamingSupported=!xt.disableStream}get isStreamingSupported(){return this._isStreamingSupported}async read(){var bt;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const $=this._readableStream.read();return $===null?(this._readCapability=Promise.withResolvers(),this.read()):(this._loaded+=$.length,(bt=this.onProgress)==null||bt.call(this,{loaded:this._loaded}),{value:new Uint8Array($).buffer,done:!1})}cancel($){if(!this._readableStream){this._error($);return}this._readableStream.destroy($)}_error($){this._storedError=$,this._readCapability.resolve()}_setReadableStream($){this._readableStream=$,$.on("readable",()=>{this._readCapability.resolve()}),$.on("end",()=>{$.destroy(),this._done=!0,this._readCapability.resolve()}),$.on("error",xt=>{this._error(xt)}),this._storedError&&this._readableStream.destroy(this._storedError)}}function createRequestOptions(_e,$){return{protocol:_e.protocol,auth:_e.auth,host:_e.hostname,port:_e.port,path:_e.path,method:"GET",headers:$}}class PDFNodeStreamFullReader extends BaseFullReader{constructor($){super($);const xt=bt=>{if(bt.statusCode===404){const Et=new MissingPDFException(`Missing PDF "${this._url}".`);this._storedError=Et,this._headersCapability.reject(Et);return}this._headersCapability.resolve(),this._setReadableStream(bt);const St=Et=>this._readableStream.headers[Et.toLowerCase()],{allowRangeRequests:At,suggestedLength:Ct}=validateRangeRequestCapabilities({getResponseHeader:St,isHttp:$.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=At,this._contentLength=Ct||this._contentLength,this._filename=extractFilenameFromHeader(St)};if(this._request=null,this._url.protocol==="http:"){const bt=NodePackages.get("http");this._request=bt.request(createRequestOptions(this._url,$.httpHeaders),xt)}else{const bt=NodePackages.get("https");this._request=bt.request(createRequestOptions(this._url,$.httpHeaders),xt)}this._request.on("error",bt=>{this._storedError=bt,this._headersCapability.reject(bt)}),this._request.end()}}class PDFNodeStreamRangeReader extends BaseRangeReader{constructor($,xt,bt){super($),this._httpHeaders={};for(const At in $.httpHeaders){const Ct=$.httpHeaders[At];Ct!==void 0&&(this._httpHeaders[At]=Ct)}this._httpHeaders.Range=`bytes=${xt}-${bt-1}`;const St=At=>{if(At.statusCode===404){const Ct=new MissingPDFException(`Missing PDF "${this._url}".`);this._storedError=Ct;return}this._setReadableStream(At)};if(this._request=null,this._url.protocol==="http:"){const At=NodePackages.get("http");this._request=At.request(createRequestOptions(this._url,this._httpHeaders),St)}else{const At=NodePackages.get("https");this._request=At.request(createRequestOptions(this._url,this._httpHeaders),St)}this._request.on("error",At=>{this._storedError=At}),this._request.end()}}class PDFNodeStreamFsFullReader extends BaseFullReader{constructor($){super($);let xt=decodeURIComponent(this._url.path);fileUriRegex.test(this._url.href)&&(xt=xt.replace(/^\//,""));const bt=NodePackages.get("fs");bt.promises.lstat(xt).then(St=>{this._contentLength=St.size,this._setReadableStream(bt.createReadStream(xt)),this._headersCapability.resolve()},St=>{St.code==="ENOENT"&&(St=new MissingPDFException(`Missing PDF "${xt}".`)),this._storedError=St,this._headersCapability.reject(St)})}}class PDFNodeStreamFsRangeReader extends BaseRangeReader{constructor($,xt,bt){super($);let St=decodeURIComponent(this._url.path);fileUriRegex.test(this._url.href)&&(St=St.replace(/^\//,""));const At=NodePackages.get("fs");this._setReadableStream(At.createReadStream(St,{start:xt,end:bt-1}))}}const MAX_TEXT_DIVS_TO_RENDER=1e5,DEFAULT_FONT_SIZE=30,DEFAULT_FONT_ASCENT=.8;var p9,i0,Ho,Qm,ex,K0,Cu,tx,nx,Y0,h1,d1,s0,f1,ix,p1,Z0,sx,rx,J0,Q0,g1,Uu,U9,H9,$y,x0,a2,V9;const Rl=class Rl{constructor({textContentSource:$,container:xt,viewport:bt}){Nn(this,Uu);Nn(this,i0,Promise.withResolvers());Nn(this,Ho,null);Nn(this,Qm,!1);Nn(this,ex,!!((p9=globalThis.FontInspector)!=null&&p9.enabled));Nn(this,K0,null);Nn(this,Cu,null);Nn(this,tx,0);Nn(this,nx,0);Nn(this,Y0,null);Nn(this,h1,null);Nn(this,d1,0);Nn(this,s0,0);Nn(this,f1,Object.create(null));Nn(this,ix,[]);Nn(this,p1,null);Nn(this,Z0,[]);Nn(this,sx,new WeakMap);Nn(this,rx,null);if($ instanceof ReadableStream)$n(this,p1,$);else if(typeof $=="object")$n(this,p1,new ReadableStream({start(Pt){Pt.enqueue($),Pt.close()}}));else throw new Error('No "textContentSource" parameter specified.');$n(this,Ho,$n(this,h1,xt)),$n(this,s0,bt.scale*(globalThis.devicePixelRatio||1)),$n(this,d1,bt.rotation),$n(this,Cu,{prevFontSize:null,prevFontFamily:null,div:null,properties:null,ctx:null});const{pageWidth:St,pageHeight:At,pageX:Ct,pageY:Et}=bt.rawDims;$n(this,rx,[1,0,0,-1,-Ct,Et+At]),$n(this,nx,St),$n(this,tx,At),setLayerDimensions(xt,bt),Dt(this,i0).promise.catch(()=>{}).then(()=>{Dt(Rl,g1).delete(this),$n(this,Cu,null),$n(this,f1,null)})}render(){const $=()=>{Dt(this,Y0).read().then(({value:xt,done:bt})=>{if(bt){Dt(this,i0).resolve();return}Dt(this,K0)??$n(this,K0,xt.lang),Object.assign(Dt(this,f1),xt.styles),On(this,Uu,U9).call(this,xt.items),$()},Dt(this,i0).reject)};return $n(this,Y0,Dt(this,p1).getReader()),Dt(Rl,g1).add(this),$(),Dt(this,i0).promise}update({viewport:$,onBefore:xt=null}){var At;const bt=$.scale*(globalThis.devicePixelRatio||1),St=$.rotation;if(St!==Dt(this,d1)&&(xt==null||xt(),$n(this,d1,St),setLayerDimensions(Dt(this,h1),{rotation:St})),bt!==Dt(this,s0)){xt==null||xt(),$n(this,s0,bt);const Ct={prevFontSize:null,prevFontFamily:null,div:null,properties:null,ctx:On(At=Rl,x0,a2).call(At,Dt(this,K0))};for(const Et of Dt(this,Z0))Ct.properties=Dt(this,sx).get(Et),Ct.div=Et,On(this,Uu,$y).call(this,Ct)}}cancel(){var xt;const $=new AbortException("TextLayer task cancelled.");(xt=Dt(this,Y0))==null||xt.cancel($).catch(()=>{}),$n(this,Y0,null),Dt(this,i0).reject($)}get textDivs(){return Dt(this,Z0)}get textContentItemsStr(){return Dt(this,ix)}static cleanup(){if(!(Dt(this,g1).size>0)){Dt(this,J0).clear();for(const{canvas:$}of Dt(this,Q0).values())$.remove();Dt(this,Q0).clear()}}};i0=new WeakMap,Ho=new WeakMap,Qm=new WeakMap,ex=new WeakMap,K0=new WeakMap,Cu=new WeakMap,tx=new WeakMap,nx=new WeakMap,Y0=new WeakMap,h1=new WeakMap,d1=new WeakMap,s0=new WeakMap,f1=new WeakMap,ix=new WeakMap,p1=new WeakMap,Z0=new WeakMap,sx=new WeakMap,rx=new WeakMap,J0=new WeakMap,Q0=new WeakMap,g1=new WeakMap,Uu=new WeakSet,U9=function($){var St,At;if(Dt(this,Qm))return;(At=Dt(this,Cu)).ctx||(At.ctx=On(St=Rl,x0,a2).call(St,Dt(this,K0)));const xt=Dt(this,Z0),bt=Dt(this,ix);for(const Ct of $){if(xt.length>MAX_TEXT_DIVS_TO_RENDER){warn("Ignoring additional textDivs for performance reasons."),$n(this,Qm,!0);return}if(Ct.str===void 0){if(Ct.type==="beginMarkedContentProps"||Ct.type==="beginMarkedContent"){const Et=Dt(this,Ho);$n(this,Ho,document.createElement("span")),Dt(this,Ho).classList.add("markedContent"),Ct.id!==null&&Dt(this,Ho).setAttribute("id",`${Ct.id}`),Et.append(Dt(this,Ho))}else Ct.type==="endMarkedContent"&&$n(this,Ho,Dt(this,Ho).parentNode);continue}bt.push(Ct.str),On(this,Uu,H9).call(this,Ct)}},H9=function($){var Vt;const xt=document.createElement("span"),bt={angle:0,canvasWidth:0,hasText:$.str!=="",hasEOL:$.hasEOL,fontSize:0};Dt(this,Z0).push(xt);const St=Util.transform(Dt(this,rx),$.transform);let At=Math.atan2(St[1],St[0]);const Ct=Dt(this,f1)[$.fontName];Ct.vertical&&(At+=Math.PI/2);const Et=Dt(this,ex)&&Ct.fontSubstitution||Ct.fontFamily,Pt=Math.hypot(St[2],St[3]),wt=Pt*On(Vt=Rl,x0,V9).call(Vt,Et,Dt(this,K0));let kt,_t;At===0?(kt=St[4],_t=St[5]-wt):(kt=St[4]+wt*Math.sin(At),_t=St[5]-wt*Math.cos(At));const ht="calc(var(--scale-factor)*",vt=xt.style;Dt(this,Ho)===Dt(this,h1)?(vt.left=`${(100*kt/Dt(this,nx)).toFixed(2)}%`,vt.top=`${(100*_t/Dt(this,tx)).toFixed(2)}%`):(vt.left=`${ht}${kt.toFixed(2)}px)`,vt.top=`${ht}${_t.toFixed(2)}px)`),vt.fontSize=`${ht}${Pt.toFixed(2)}px)`,vt.fontFamily=Et,bt.fontSize=Pt,xt.setAttribute("role","presentation"),xt.textContent=$.str,xt.dir=$.dir,Dt(this,ex)&&(xt.dataset.fontName=Ct.fontSubstitutionLoadedName||$.fontName),At!==0&&(bt.angle=At*(180/Math.PI));let Ft=!1;if($.str.length>1)Ft=!0;else if($.str!==" "&&$.transform[0]!==$.transform[3]){const qt=Math.abs($.transform[0]),Lt=Math.abs($.transform[3]);qt!==Lt&&Math.max(qt,Lt)/Math.min(qt,Lt)>1.5&&(Ft=!0)}if(Ft&&(bt.canvasWidth=Ct.vertical?$.height:$.width),Dt(this,sx).set(xt,bt),Dt(this,Cu).div=xt,Dt(this,Cu).properties=bt,On(this,Uu,$y).call(this,Dt(this,Cu)),bt.hasText&&Dt(this,Ho).append(xt),bt.hasEOL){const qt=document.createElement("br");qt.setAttribute("role","presentation"),Dt(this,Ho).append(qt)}},$y=function($){const{div:xt,properties:bt,ctx:St,prevFontSize:At,prevFontFamily:Ct}=$,{style:Et}=xt;let Pt="";if(bt.canvasWidth!==0&&bt.hasText){const{fontFamily:wt}=Et,{canvasWidth:kt,fontSize:_t}=bt;(At!==_t||Ct!==wt)&&(St.font=`${_t*Dt(this,s0)}px ${wt}`,$.prevFontSize=_t,$.prevFontFamily=wt);const{width:ht}=St.measureText(xt.textContent);ht>0&&(Pt=`scaleX(${kt*Dt(this,s0)/ht})`)}bt.angle!==0&&(Pt=`rotate(${bt.angle}deg) ${Pt}`),Pt.length>0&&(Et.transform=Pt)},x0=new WeakSet,a2=function($=null){let xt=Dt(this,Q0).get($||($=""));if(!xt){const bt=document.createElement("canvas");bt.className="hiddenCanvasElement",bt.lang=$,document.body.append(bt),xt=bt.getContext("2d",{alpha:!1}),Dt(this,Q0).set($,xt)}return xt},V9=function($,xt){const bt=Dt(this,J0).get($);if(bt)return bt;const St=On(this,x0,a2).call(this,xt),At=St.font;St.canvas.width=St.canvas.height=DEFAULT_FONT_SIZE,St.font=`${DEFAULT_FONT_SIZE}px ${$}`;const Ct=St.measureText("");let Et=Ct.fontBoundingBoxAscent,Pt=Math.abs(Ct.fontBoundingBoxDescent);if(Et){const _t=Et/(Et+Pt);return Dt(this,J0).set($,_t),St.canvas.width=St.canvas.height=0,St.font=At,_t}St.strokeStyle="red",St.clearRect(0,0,DEFAULT_FONT_SIZE,DEFAULT_FONT_SIZE),St.strokeText("g",0,0);let wt=St.getImageData(0,0,DEFAULT_FONT_SIZE,DEFAULT_FONT_SIZE).data;Pt=0;for(let _t=wt.length-1-3;_t>=0;_t-=4)if(wt[_t]>0){Pt=Math.ceil(_t/4/DEFAULT_FONT_SIZE);break}St.clearRect(0,0,DEFAULT_FONT_SIZE,DEFAULT_FONT_SIZE),St.strokeText("A",0,DEFAULT_FONT_SIZE),wt=St.getImageData(0,0,DEFAULT_FONT_SIZE,DEFAULT_FONT_SIZE).data,Et=0;for(let _t=0,ht=wt.length;_t<ht;_t+=4)if(wt[_t]>0){Et=DEFAULT_FONT_SIZE-Math.floor(_t/4/DEFAULT_FONT_SIZE);break}St.canvas.width=St.canvas.height=0,St.font=At;const kt=Et?Et/(Et+Pt):DEFAULT_FONT_ASCENT;return Dt(this,J0).set($,kt),kt},Nn(Rl,x0),Nn(Rl,J0,new Map),Nn(Rl,Q0,new Map),Nn(Rl,g1,new Set);let TextLayer=Rl;function renderTextLayer(){deprecated("`renderTextLayer`, please use `TextLayer` instead.");const{textContentSource:_e,container:$,viewport:xt,...bt}=arguments[0],St=Object.keys(bt);St.length>0&&warn("Ignoring `renderTextLayer` parameters: "+St.join(", "));const At=new TextLayer({textContentSource:_e,container:$,viewport:xt}),{textDivs:Ct,textContentItemsStr:Et}=At;return{promise:At.render(),textDivs:Ct,textContentItemsStr:Et}}function updateTextLayer(){deprecated("`updateTextLayer`, please use `TextLayer` instead.")}class XfaText{static textContent($){const xt=[],bt={items:xt,styles:Object.create(null)};function St(At){var Pt;if(!At)return;let Ct=null;const Et=At.name;if(Et==="#text")Ct=At.value;else if(XfaText.shouldBuildText(Et))(Pt=At==null?void 0:At.attributes)!=null&&Pt.textContent?Ct=At.attributes.textContent:At.value&&(Ct=At.value);else return;if(Ct!==null&&xt.push({str:Ct}),!!At.children)for(const wt of At.children)St(wt)}return St($),bt}static shouldBuildText($){return!($==="textarea"||$==="input"||$==="option"||$==="select")}}const DEFAULT_RANGE_CHUNK_SIZE=65536,RENDERING_CANCELLED_TIMEOUT=100,DELAYED_CLEANUP_TIMEOUT=5e3,DefaultCanvasFactory=isNodeJS?NodeCanvasFactory:DOMCanvasFactory,DefaultCMapReaderFactory=isNodeJS?NodeCMapReaderFactory:DOMCMapReaderFactory,DefaultFilterFactory=isNodeJS?NodeFilterFactory:DOMFilterFactory,DefaultStandardFontDataFactory=isNodeJS?NodeStandardFontDataFactory:DOMStandardFontDataFactory;function getDocument(_e){if(typeof _e=="string"||_e instanceof URL?_e={url:_e}:(_e instanceof ArrayBuffer||ArrayBuffer.isView(_e))&&(_e={data:_e}),typeof _e!="object")throw new Error("Invalid parameter in getDocument, need parameter object.");if(!_e.url&&!_e.data&&!_e.range)throw new Error("Invalid parameter object: need either .data, .range or .url");const $=new PDFDocumentLoadingTask,{docId:xt}=$,bt=_e.url?getUrlProp(_e.url):null,St=_e.data?getDataProp(_e.data):null,At=_e.httpHeaders||null,Ct=_e.withCredentials===!0,Et=_e.password??null,Pt=_e.range instanceof PDFDataRangeTransport?_e.range:null,wt=Number.isInteger(_e.rangeChunkSize)&&_e.rangeChunkSize>0?_e.rangeChunkSize:DEFAULT_RANGE_CHUNK_SIZE;let kt=_e.worker instanceof PDFWorker?_e.worker:null;const _t=_e.verbosity,ht=typeof _e.docBaseUrl=="string"&&!isDataScheme(_e.docBaseUrl)?_e.docBaseUrl:null,vt=typeof _e.cMapUrl=="string"?_e.cMapUrl:null,Ft=_e.cMapPacked!==!1,Vt=_e.CMapReaderFactory||DefaultCMapReaderFactory,qt=typeof _e.standardFontDataUrl=="string"?_e.standardFontDataUrl:null,Lt=_e.StandardFontDataFactory||DefaultStandardFontDataFactory,$t=_e.stopAtErrors!==!0,Ot=Number.isInteger(_e.maxImageSize)&&_e.maxImageSize>-1?_e.maxImageSize:-1,jt=_e.isEvalSupported!==!1,Rt=typeof _e.isOffscreenCanvasSupported=="boolean"?_e.isOffscreenCanvasSupported:!isNodeJS,Kt=Number.isInteger(_e.canvasMaxAreaInBytes)?_e.canvasMaxAreaInBytes:-1,Bt=typeof _e.disableFontFace=="boolean"?_e.disableFontFace:isNodeJS,Gt=_e.fontExtraProperties===!0,en=_e.enableXfa===!0,hn=_e.ownerDocument||globalThis.document,tn=_e.disableRange===!0,gn=_e.disableStream===!0,nn=_e.disableAutoFetch===!0,bn=_e.pdfBug===!0,Wt=Pt?Pt.length:_e.length??NaN,Yt=typeof _e.useSystemFonts=="boolean"?_e.useSystemFonts:!isNodeJS&&!Bt,dn=typeof _e.useWorkerFetch=="boolean"?_e.useWorkerFetch:Vt===DOMCMapReaderFactory&&Lt===DOMStandardFontDataFactory&&vt&&qt&&isValidFetchUrl(vt,document.baseURI)&&isValidFetchUrl(qt,document.baseURI),Ut=_e.canvasFactory||new DefaultCanvasFactory({ownerDocument:hn}),Mt=_e.filterFactory||new DefaultFilterFactory({docId:xt,ownerDocument:hn}),Ht=null;setVerbosityLevel(_t);const sn={canvasFactory:Ut,filterFactory:Mt};if(dn||(sn.cMapReaderFactory=new Vt({baseUrl:vt,isCompressed:Ft}),sn.standardFontDataFactory=new Lt({baseUrl:qt})),!kt){const Qt={verbosity:_t,port:GlobalWorkerOptions.workerPort};kt=Qt.port?PDFWorker.fromPort(Qt):new PDFWorker(Qt),$._worker=kt}const zt={docId:xt,apiVersion:"4.3.136",data:St,password:Et,disableAutoFetch:nn,rangeChunkSize:wt,length:Wt,docBaseUrl:ht,enableXfa:en,evaluatorOptions:{maxImageSize:Ot,disableFontFace:Bt,ignoreErrors:$t,isEvalSupported:jt,isOffscreenCanvasSupported:Rt,canvasMaxAreaInBytes:Kt,fontExtraProperties:Gt,useSystemFonts:Yt,cMapUrl:dn?vt:null,standardFontDataUrl:dn?qt:null}},Xt={disableFontFace:Bt,fontExtraProperties:Gt,ownerDocument:hn,pdfBug:bn,styleElement:Ht,loadingParams:{disableAutoFetch:nn,enableXfa:en}};return kt.promise.then(function(){if($.destroyed)throw new Error("Loading aborted");if(kt.destroyed)throw new Error("Worker was destroyed");const Qt=kt.messageHandler.sendWithPromise("GetDocRequest",zt,St?[St.buffer]:null);let ln;return Pt?ln=new PDFDataTransportStream(Pt,{disableRange:tn,disableStream:gn}):St||(ln=(cn=>isNodeJS?function(){return typeof fetch<"u"&&typeof Response<"u"&&"body"in Response.prototype}()&&isValidFetchUrl(cn.url)?new PDFFetchStream(cn):new PDFNodeStream(cn):isValidFetchUrl(cn.url)?new PDFFetchStream(cn):new PDFNetworkStream(cn))({url:bt,length:Wt,httpHeaders:At,withCredentials:Ct,rangeChunkSize:wt,disableRange:tn,disableStream:gn})),Qt.then(on=>{if($.destroyed)throw new Error("Loading aborted");if(kt.destroyed)throw new Error("Worker was destroyed");const cn=new MessageHandler(xt,on,kt.port),rn=new WorkerTransport(cn,$,ln,Xt,sn);$._transport=rn,cn.send("Ready",null)})}).catch($._capability.reject),$}function getUrlProp(_e){if(_e instanceof URL)return _e.href;try{return new URL(_e,window.location).href}catch{if(isNodeJS&&typeof _e=="string")return _e}throw new Error("Invalid PDF url data: either string or URL-object is expected in the url property.")}function getDataProp(_e){if(isNodeJS&&typeof Buffer<"u"&&_e instanceof Buffer)throw new Error("Please provide binary data as `Uint8Array`, rather than `Buffer`.");if(_e instanceof Uint8Array&&_e.byteLength===_e.buffer.byteLength)return _e;if(typeof _e=="string")return stringToBytes(_e);if(_e instanceof ArrayBuffer||ArrayBuffer.isView(_e)||typeof _e=="object"&&!isNaN(_e==null?void 0:_e.length))return new Uint8Array(_e);throw new Error("Invalid PDF binary data: either TypedArray, string, or array-like object is expected in the data property.")}function isRefProxy(_e){return typeof _e=="object"&&Number.isInteger(_e==null?void 0:_e.num)&&_e.num>=0&&Number.isInteger(_e==null?void 0:_e.gen)&&_e.gen>=0}var _b;const ey=class ey{constructor(){this._capability=Promise.withResolvers(),this._transport=null,this._worker=null,this.docId=`d${Ao(ey,_b)._++}`,this.destroyed=!1,this.onPassword=null,this.onProgress=null}get promise(){return this._capability.promise}async destroy(){var $,xt,bt;this.destroyed=!0;try{($=this._worker)!=null&&$.port&&(this._worker._pendingDestroy=!0),await((xt=this._transport)==null?void 0:xt.destroy())}catch(St){throw(bt=this._worker)!=null&&bt.port&&delete this._worker._pendingDestroy,St}this._transport=null,this._worker&&(this._worker.destroy(),this._worker=null)}};_b=new WeakMap,Nn(ey,_b,0);let PDFDocumentLoadingTask=ey;class PDFDataRangeTransport{constructor($,xt,bt=!1,St=null){this.length=$,this.initialData=xt,this.progressiveDone=bt,this.contentDispositionFilename=St,this._rangeListeners=[],this._progressListeners=[],this._progressiveReadListeners=[],this._progressiveDoneListeners=[],this._readyCapability=Promise.withResolvers()}addRangeListener($){this._rangeListeners.push($)}addProgressListener($){this._progressListeners.push($)}addProgressiveReadListener($){this._progressiveReadListeners.push($)}addProgressiveDoneListener($){this._progressiveDoneListeners.push($)}onDataRange($,xt){for(const bt of this._rangeListeners)bt($,xt)}onDataProgress($,xt){this._readyCapability.promise.then(()=>{for(const bt of this._progressListeners)bt($,xt)})}onDataProgressiveRead($){this._readyCapability.promise.then(()=>{for(const xt of this._progressiveReadListeners)xt($)})}onDataProgressiveDone(){this._readyCapability.promise.then(()=>{for(const $ of this._progressiveDoneListeners)$()})}transportReady(){this._readyCapability.resolve()}requestDataRange($,xt){unreachable("Abstract method PDFDataRangeTransport.requestDataRange")}abort(){}}class PDFDocumentProxy{constructor($,xt){this._pdfInfo=$,this._transport=xt}get annotationStorage(){return this._transport.annotationStorage}get filterFactory(){return this._transport.filterFactory}get numPages(){return this._pdfInfo.numPages}get fingerprints(){return this._pdfInfo.fingerprints}get isPureXfa(){return shadow(this,"isPureXfa",!!this._transport._htmlForXfa)}get allXfaHtml(){return this._transport._htmlForXfa}getPage($){return this._transport.getPage($)}getPageIndex($){return this._transport.getPageIndex($)}getDestinations(){return this._transport.getDestinations()}getDestination($){return this._transport.getDestination($)}getPageLabels(){return this._transport.getPageLabels()}getPageLayout(){return this._transport.getPageLayout()}getPageMode(){return this._transport.getPageMode()}getViewerPreferences(){return this._transport.getViewerPreferences()}getOpenAction(){return this._transport.getOpenAction()}getAttachments(){return this._transport.getAttachments()}getJSActions(){return this._transport.getDocJSActions()}getOutline(){return this._transport.getOutline()}getOptionalContentConfig({intent:$="display"}={}){const{renderingIntent:xt}=this._transport.getRenderingIntent($);return this._transport.getOptionalContentConfig(xt)}getPermissions(){return this._transport.getPermissions()}getMetadata(){return this._transport.getMetadata()}getMarkInfo(){return this._transport.getMarkInfo()}getData(){return this._transport.getData()}saveDocument(){return this._transport.saveDocument()}getDownloadInfo(){return this._transport.downloadInfoCapability.promise}cleanup($=!1){return this._transport.startCleanup($||this.isPureXfa)}destroy(){return this.loadingTask.destroy()}cachedPageNumber($){return this._transport.cachedPageNumber($)}get loadingParams(){return this._transport.loadingParams}get loadingTask(){return this._transport.loadingTask}getFieldObjects(){return this._transport.getFieldObjects()}hasJSActions(){return this._transport.hasJSActions()}getCalculationOrderIds(){return this._transport.getCalculationOrderIds()}}var r0,ku,El,$p,o2;class PDFPageProxy{constructor($,xt,bt,St=!1){Nn(this,El);Nn(this,r0,null);Nn(this,ku,!1);this._pageIndex=$,this._pageInfo=xt,this._transport=bt,this._stats=St?new StatTimer:null,this._pdfBug=St,this.commonObjs=bt.commonObjs,this.objs=new PDFObjects,this._maybeCleanupAfterRender=!1,this._intentStates=new Map,this.destroyed=!1}get pageNumber(){return this._pageIndex+1}get rotate(){return this._pageInfo.rotate}get ref(){return this._pageInfo.ref}get userUnit(){return this._pageInfo.userUnit}get view(){return this._pageInfo.view}getViewport({scale:$,rotation:xt=this.rotate,offsetX:bt=0,offsetY:St=0,dontFlip:At=!1}={}){return new PageViewport({viewBox:this.view,scale:$,rotation:xt,offsetX:bt,offsetY:St,dontFlip:At})}getAnnotations({intent:$="display"}={}){const{renderingIntent:xt}=this._transport.getRenderingIntent($);return this._transport.getAnnotations(this._pageIndex,xt)}getJSActions(){return this._transport.getPageJSActions(this._pageIndex)}get filterFactory(){return this._transport.filterFactory}get isPureXfa(){return shadow(this,"isPureXfa",!!this._transport._htmlForXfa)}async getXfa(){var $;return(($=this._transport._htmlForXfa)==null?void 0:$.children[this._pageIndex])||null}render({canvasContext:$,viewport:xt,intent:bt="display",annotationMode:St=AnnotationMode.ENABLE,transform:At=null,background:Ct=null,optionalContentConfigPromise:Et=null,annotationCanvasMap:Pt=null,pageColors:wt=null,printAnnotationStorage:kt=null}){var Ot,jt;(Ot=this._stats)==null||Ot.time("Overall");const _t=this._transport.getRenderingIntent(bt,St,kt),{renderingIntent:ht,cacheKey:vt}=_t;$n(this,ku,!1),On(this,El,o2).call(this),Et||(Et=this._transport.getOptionalContentConfig(ht));let Ft=this._intentStates.get(vt);Ft||(Ft=Object.create(null),this._intentStates.set(vt,Ft)),Ft.streamReaderCancelTimeout&&(clearTimeout(Ft.streamReaderCancelTimeout),Ft.streamReaderCancelTimeout=null);const Vt=!!(ht&RenderingIntentFlag.PRINT);Ft.displayReadyCapability||(Ft.displayReadyCapability=Promise.withResolvers(),Ft.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(jt=this._stats)==null||jt.time("Page Request"),this._pumpOperatorList(_t));const qt=Rt=>{var Kt;Ft.renderTasks.delete(Lt),(this._maybeCleanupAfterRender||Vt)&&$n(this,ku,!0),On(this,El,$p).call(this,!Vt),Rt?(Lt.capability.reject(Rt),this._abortOperatorList({intentState:Ft,reason:Rt instanceof Error?Rt:new Error(Rt)})):Lt.capability.resolve(),this._stats&&(this._stats.timeEnd("Rendering"),this._stats.timeEnd("Overall"),(Kt=globalThis.Stats)!=null&&Kt.enabled&&globalThis.Stats.add(this.pageNumber,this._stats))},Lt=new InternalRenderTask({callback:qt,params:{canvasContext:$,viewport:xt,transform:At,background:Ct},objs:this.objs,commonObjs:this.commonObjs,annotationCanvasMap:Pt,operatorList:Ft.operatorList,pageIndex:this._pageIndex,canvasFactory:this._transport.canvasFactory,filterFactory:this._transport.filterFactory,useRequestAnimationFrame:!Vt,pdfBug:this._pdfBug,pageColors:wt});(Ft.renderTasks||(Ft.renderTasks=new Set)).add(Lt);const $t=Lt.task;return Promise.all([Ft.displayReadyCapability.promise,Et]).then(([Rt,Kt])=>{var Bt;if(this.destroyed){qt();return}if((Bt=this._stats)==null||Bt.time("Rendering"),!(Kt.renderingIntent&ht))throw new Error("Must use the same `intent`-argument when calling the `PDFPageProxy.render` and `PDFDocumentProxy.getOptionalContentConfig` methods.");Lt.initializeGraphics({transparency:Rt,optionalContentConfig:Kt}),Lt.operatorListChanged()}).catch(qt),$t}getOperatorList({intent:$="display",annotationMode:xt=AnnotationMode.ENABLE,printAnnotationStorage:bt=null}={}){var Pt;function St(){Ct.operatorList.lastChunk&&(Ct.opListReadCapability.resolve(Ct.operatorList),Ct.renderTasks.delete(Et))}const At=this._transport.getRenderingIntent($,xt,bt,!0);let Ct=this._intentStates.get(At.cacheKey);Ct||(Ct=Object.create(null),this._intentStates.set(At.cacheKey,Ct));let Et;return Ct.opListReadCapability||(Et=Object.create(null),Et.operatorListChanged=St,Ct.opListReadCapability=Promise.withResolvers(),(Ct.renderTasks||(Ct.renderTasks=new Set)).add(Et),Ct.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(Pt=this._stats)==null||Pt.time("Page Request"),this._pumpOperatorList(At)),Ct.opListReadCapability.promise}streamTextContent({includeMarkedContent:$=!1,disableNormalization:xt=!1}={}){return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,includeMarkedContent:$===!0,disableNormalization:xt===!0},{highWaterMark:100,size(St){return St.items.length}})}getTextContent($={}){if(this._transport._htmlForXfa)return this.getXfa().then(bt=>XfaText.textContent(bt));const xt=this.streamTextContent($);return new Promise(function(bt,St){function At(){Ct.read().then(function({value:Pt,done:wt}){if(wt){bt(Et);return}Et.lang??(Et.lang=Pt.lang),Object.assign(Et.styles,Pt.styles),Et.items.push(...Pt.items),At()},St)}const Ct=xt.getReader(),Et={items:[],styles:Object.create(null),lang:null};At()})}getStructTree(){return this._transport.getStructTree(this._pageIndex)}_destroy(){this.destroyed=!0;const $=[];for(const xt of this._intentStates.values())if(this._abortOperatorList({intentState:xt,reason:new Error("Page was destroyed."),force:!0}),!xt.opListReadCapability)for(const bt of xt.renderTasks)$.push(bt.completed),bt.cancel();return this.objs.clear(),$n(this,ku,!1),On(this,El,o2).call(this),Promise.all($)}cleanup($=!1){$n(this,ku,!0);const xt=On(this,El,$p).call(this,!1);return $&&xt&&this._stats&&(this._stats=new StatTimer),xt}_startRenderPage($,xt){var St,At;const bt=this._intentStates.get(xt);bt&&((St=this._stats)==null||St.timeEnd("Page Request"),(At=bt.displayReadyCapability)==null||At.resolve($))}_renderPageChunk($,xt){for(let bt=0,St=$.length;bt<St;bt++)xt.operatorList.fnArray.push($.fnArray[bt]),xt.operatorList.argsArray.push($.argsArray[bt]);xt.operatorList.lastChunk=$.lastChunk,xt.operatorList.separateAnnots=$.separateAnnots;for(const bt of xt.renderTasks)bt.operatorListChanged();$.lastChunk&&On(this,El,$p).call(this,!0)}_pumpOperatorList({renderingIntent:$,cacheKey:xt,annotationStorageSerializable:bt}){const{map:St,transfer:At}=bt,Et=this._transport.messageHandler.sendWithStream("GetOperatorList",{pageIndex:this._pageIndex,intent:$,cacheKey:xt,annotationStorage:St},At).getReader(),Pt=this._intentStates.get(xt);Pt.streamReader=Et;const wt=()=>{Et.read().then(({value:kt,done:_t})=>{if(_t){Pt.streamReader=null;return}this._transport.destroyed||(this._renderPageChunk(kt,Pt),wt())},kt=>{if(Pt.streamReader=null,!this._transport.destroyed){if(Pt.operatorList){Pt.operatorList.lastChunk=!0;for(const _t of Pt.renderTasks)_t.operatorListChanged();On(this,El,$p).call(this,!0)}if(Pt.displayReadyCapability)Pt.displayReadyCapability.reject(kt);else if(Pt.opListReadCapability)Pt.opListReadCapability.reject(kt);else throw kt}})};wt()}_abortOperatorList({intentState:$,reason:xt,force:bt=!1}){if($.streamReader){if($.streamReaderCancelTimeout&&(clearTimeout($.streamReaderCancelTimeout),$.streamReaderCancelTimeout=null),!bt){if($.renderTasks.size>0)return;if(xt instanceof RenderingCancelledException){let St=RENDERING_CANCELLED_TIMEOUT;xt.extraDelay>0&&xt.extraDelay<1e3&&(St+=xt.extraDelay),$.streamReaderCancelTimeout=setTimeout(()=>{$.streamReaderCancelTimeout=null,this._abortOperatorList({intentState:$,reason:xt,force:!0})},St);return}}if($.streamReader.cancel(new AbortException(xt.message)).catch(()=>{}),$.streamReader=null,!this._transport.destroyed){for(const[St,At]of this._intentStates)if(At===$){this._intentStates.delete(St);break}this.cleanup()}}}get stats(){return this._stats}}r0=new WeakMap,ku=new WeakMap,El=new WeakSet,$p=function($=!1){if(On(this,El,o2).call(this),!Dt(this,ku)||this.destroyed)return!1;if($)return $n(this,r0,setTimeout(()=>{$n(this,r0,null),On(this,El,$p).call(this,!1)},DELAYED_CLEANUP_TIMEOUT)),!1;for(const{renderTasks:xt,operatorList:bt}of this._intentStates.values())if(xt.size>0||!bt.lastChunk)return!1;return this._intentStates.clear(),this.objs.clear(),$n(this,ku,!1),!0},o2=function(){Dt(this,r0)&&(clearTimeout(Dt(this,r0)),$n(this,r0,null))};var _h,ty;class LoopbackPort{constructor(){Nn(this,_h,new Set);Nn(this,ty,Promise.resolve())}postMessage($,xt){const bt={data:structuredClone($,xt?{transfer:xt}:null)};Dt(this,ty).then(()=>{for(const St of Dt(this,_h))St.call(this,bt)})}addEventListener($,xt){Dt(this,_h).add(xt)}removeEventListener($,xt){Dt(this,_h).delete(xt)}terminate(){Dt(this,_h).clear()}}_h=new WeakMap,ty=new WeakMap;const PDFWorkerUtil={isWorkerDisabled:!1,fakeWorkerId:0};isNodeJS&&(PDFWorkerUtil.isWorkerDisabled=!0,GlobalWorkerOptions.workerSrc||(GlobalWorkerOptions.workerSrc="./pdf.worker.mjs")),PDFWorkerUtil.isSameOrigin=function(_e,$){let xt;try{if(xt=new URL(_e),!xt.origin||xt.origin==="null")return!1}catch{return!1}const bt=new URL($,xt);return xt.origin===bt.origin},PDFWorkerUtil.createCDNWrapper=function(_e){const $=`await import("${_e}");`;return URL.createObjectURL(new Blob([$],{type:"text/javascript"}))};var _d,m1,l2;const Wo=class Wo{constructor({name:$=null,port:xt=null,verbosity:bt=getVerbosityLevel()}={}){var St;if(this.name=$,this.destroyed=!1,this.verbosity=bt,this._readyCapability=Promise.withResolvers(),this._port=null,this._webWorker=null,this._messageHandler=null,xt){if((St=Dt(Wo,_d))!=null&&St.has(xt))throw new Error("Cannot use more than one PDFWorker per port.");(Dt(Wo,_d)||$n(Wo,_d,new WeakMap)).set(xt,this),this._initializeFromPort(xt);return}this._initialize()}get promise(){return isNodeJS?Promise.all([NodePackages.promise,this._readyCapability.promise]):this._readyCapability.promise}get port(){return this._port}get messageHandler(){return this._messageHandler}_initializeFromPort($){this._port=$,this._messageHandler=new MessageHandler("main","worker",$),this._messageHandler.on("ready",function(){}),this._readyCapability.resolve(),this._messageHandler.send("configure",{verbosity:this.verbosity})}_initialize(){if(!PDFWorkerUtil.isWorkerDisabled&&!Dt(Wo,m1,l2)){let{workerSrc:$}=Wo;try{PDFWorkerUtil.isSameOrigin(window.location.href,$)||($=PDFWorkerUtil.createCDNWrapper(new URL($,window.location).href));const xt=new Worker($,{type:"module"}),bt=new MessageHandler("main","worker",xt),St=()=>{xt.removeEventListener("error",At),bt.destroy(),xt.terminate(),this.destroyed?this._readyCapability.reject(new Error("Worker was destroyed")):this._setupFakeWorker()},At=()=>{this._webWorker||St()};xt.addEventListener("error",At),bt.on("test",Et=>{if(xt.removeEventListener("error",At),this.destroyed){St();return}Et?(this._messageHandler=bt,this._port=xt,this._webWorker=xt,this._readyCapability.resolve(),bt.send("configure",{verbosity:this.verbosity})):(this._setupFakeWorker(),bt.destroy(),xt.terminate())}),bt.on("ready",Et=>{if(xt.removeEventListener("error",At),this.destroyed){St();return}try{Ct()}catch{this._setupFakeWorker()}});const Ct=()=>{const Et=new Uint8Array;bt.send("test",Et,[Et.buffer])};Ct();return}catch{info("The worker has been disabled.")}}this._setupFakeWorker()}_setupFakeWorker(){PDFWorkerUtil.isWorkerDisabled||(warn("Setting up fake worker."),PDFWorkerUtil.isWorkerDisabled=!0),Wo._setupFakeWorkerGlobal.then($=>{if(this.destroyed){this._readyCapability.reject(new Error("Worker was destroyed"));return}const xt=new LoopbackPort;this._port=xt;const bt=`fake${PDFWorkerUtil.fakeWorkerId++}`,St=new MessageHandler(bt+"_worker",bt,xt);$.setup(St,xt);const At=new MessageHandler(bt,bt+"_worker",xt);this._messageHandler=At,this._readyCapability.resolve(),At.send("configure",{verbosity:this.verbosity})}).catch($=>{this._readyCapability.reject(new Error(`Setting up fake worker failed: "${$.message}".`))})}destroy(){var $;this.destroyed=!0,this._webWorker&&(this._webWorker.terminate(),this._webWorker=null),($=Dt(Wo,_d))==null||$.delete(this._port),this._port=null,this._messageHandler&&(this._messageHandler.destroy(),this._messageHandler=null)}static fromPort($){var bt;if(!($!=null&&$.port))throw new Error("PDFWorker.fromPort - invalid method signature.");const xt=(bt=Dt(this,_d))==null?void 0:bt.get($.port);if(xt){if(xt._pendingDestroy)throw new Error("PDFWorker.fromPort - the worker is being destroyed.\nPlease remember to await `PDFDocumentLoadingTask.destroy()`-calls.");return xt}return new Wo($)}static get workerSrc(){if(GlobalWorkerOptions.workerSrc)return GlobalWorkerOptions.workerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}static get _setupFakeWorkerGlobal(){return shadow(this,"_setupFakeWorkerGlobal",(async()=>Dt(this,m1,l2)?Dt(this,m1,l2):(await import(this.workerSrc)).WorkerMessageHandler)())}};_d=new WeakMap,m1=new WeakSet,l2=function(){var $;try{return(($=globalThis.pdfjsWorker)==null?void 0:$.WorkerMessageHandler)||null}catch{return null}},Nn(Wo,m1),Nn(Wo,_d);let PDFWorker=Wo;var Tu,Ql,x1,b1,_c,_f,em;class WorkerTransport{constructor($,xt,bt,St,At){Nn(this,_f);Nn(this,Tu,new Map);Nn(this,Ql,new Map);Nn(this,x1,new Map);Nn(this,b1,new Map);Nn(this,_c,null);this.messageHandler=$,this.loadingTask=xt,this.commonObjs=new PDFObjects,this.fontLoader=new FontLoader({ownerDocument:St.ownerDocument,styleElement:St.styleElement}),this.loadingParams=St.loadingParams,this._params=St,this.canvasFactory=At.canvasFactory,this.filterFactory=At.filterFactory,this.cMapReaderFactory=At.cMapReaderFactory,this.standardFontDataFactory=At.standardFontDataFactory,this.destroyed=!1,this.destroyCapability=null,this._networkStream=bt,this._fullReader=null,this._lastProgress=null,this.downloadInfoCapability=Promise.withResolvers(),this.setupMessageHandler()}get annotationStorage(){return shadow(this,"annotationStorage",new AnnotationStorage)}getRenderingIntent($,xt=AnnotationMode.ENABLE,bt=null,St=!1){let At=RenderingIntentFlag.DISPLAY,Ct=SerializableEmpty;switch($){case"any":At=RenderingIntentFlag.ANY;break;case"display":break;case"print":At=RenderingIntentFlag.PRINT;break;default:warn(`getRenderingIntent - invalid intent: ${$}`)}switch(xt){case AnnotationMode.DISABLE:At+=RenderingIntentFlag.ANNOTATIONS_DISABLE;break;case AnnotationMode.ENABLE:break;case AnnotationMode.ENABLE_FORMS:At+=RenderingIntentFlag.ANNOTATIONS_FORMS;break;case AnnotationMode.ENABLE_STORAGE:At+=RenderingIntentFlag.ANNOTATIONS_STORAGE,Ct=(At&RenderingIntentFlag.PRINT&&bt instanceof PrintAnnotationStorage?bt:this.annotationStorage).serializable;break;default:warn(`getRenderingIntent - invalid annotationMode: ${xt}`)}return St&&(At+=RenderingIntentFlag.OPLIST),{renderingIntent:At,cacheKey:`${At}_${Ct.hash}`,annotationStorageSerializable:Ct}}destroy(){var bt;if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=Promise.withResolvers(),(bt=Dt(this,_c))==null||bt.reject(new Error("Worker was destroyed during onPassword callback"));const $=[];for(const St of Dt(this,Ql).values())$.push(St._destroy());Dt(this,Ql).clear(),Dt(this,x1).clear(),Dt(this,b1).clear(),this.hasOwnProperty("annotationStorage")&&this.annotationStorage.resetModified();const xt=this.messageHandler.sendWithPromise("Terminate",null);return $.push(xt),Promise.all($).then(()=>{var St;this.commonObjs.clear(),this.fontLoader.clear(),Dt(this,Tu).clear(),this.filterFactory.destroy(),TextLayer.cleanup(),(St=this._networkStream)==null||St.cancelAllRequests(new AbortException("Worker was terminated.")),this.messageHandler&&(this.messageHandler.destroy(),this.messageHandler=null),this.destroyCapability.resolve()},this.destroyCapability.reject),this.destroyCapability.promise}setupMessageHandler(){const{messageHandler:$,loadingTask:xt}=this;$.on("GetReader",(bt,St)=>{assert(this._networkStream,"GetReader - no `IPDFStream` instance available."),this._fullReader=this._networkStream.getFullReader(),this._fullReader.onProgress=At=>{this._lastProgress={loaded:At.loaded,total:At.total}},St.onPull=()=>{this._fullReader.read().then(function({value:At,done:Ct}){if(Ct){St.close();return}assert(At instanceof ArrayBuffer,"GetReader - expected an ArrayBuffer."),St.enqueue(new Uint8Array(At),1,[At])}).catch(At=>{St.error(At)})},St.onCancel=At=>{this._fullReader.cancel(At),St.ready.catch(Ct=>{if(!this.destroyed)throw Ct})}}),$.on("ReaderHeadersReady",bt=>{const St=Promise.withResolvers(),At=this._fullReader;return At.headersReady.then(()=>{var Ct;(!At.isStreamingSupported||!At.isRangeSupported)&&(this._lastProgress&&((Ct=xt.onProgress)==null||Ct.call(xt,this._lastProgress)),At.onProgress=Et=>{var Pt;(Pt=xt.onProgress)==null||Pt.call(xt,{loaded:Et.loaded,total:Et.total})}),St.resolve({isStreamingSupported:At.isStreamingSupported,isRangeSupported:At.isRangeSupported,contentLength:At.contentLength})},St.reject),St.promise}),$.on("GetRangeReader",(bt,St)=>{assert(this._networkStream,"GetRangeReader - no `IPDFStream` instance available.");const At=this._networkStream.getRangeReader(bt.begin,bt.end);if(!At){St.close();return}St.onPull=()=>{At.read().then(function({value:Ct,done:Et}){if(Et){St.close();return}assert(Ct instanceof ArrayBuffer,"GetRangeReader - expected an ArrayBuffer."),St.enqueue(new Uint8Array(Ct),1,[Ct])}).catch(Ct=>{St.error(Ct)})},St.onCancel=Ct=>{At.cancel(Ct),St.ready.catch(Et=>{if(!this.destroyed)throw Et})}}),$.on("GetDoc",({pdfInfo:bt})=>{this._numPages=bt.numPages,this._htmlForXfa=bt.htmlForXfa,delete bt.htmlForXfa,xt._capability.resolve(new PDFDocumentProxy(bt,this))}),$.on("DocException",function(bt){let St;switch(bt.name){case"PasswordException":St=new PasswordException(bt.message,bt.code);break;case"InvalidPDFException":St=new InvalidPDFException(bt.message);break;case"MissingPDFException":St=new MissingPDFException(bt.message);break;case"UnexpectedResponseException":St=new UnexpectedResponseException(bt.message,bt.status);break;case"UnknownErrorException":St=new UnknownErrorException(bt.message,bt.details);break;default:unreachable("DocException - expected a valid Error.")}xt._capability.reject(St)}),$.on("PasswordRequest",bt=>{if($n(this,_c,Promise.withResolvers()),xt.onPassword){const St=At=>{At instanceof Error?Dt(this,_c).reject(At):Dt(this,_c).resolve({password:At})};try{xt.onPassword(St,bt.code)}catch(At){Dt(this,_c).reject(At)}}else Dt(this,_c).reject(new PasswordException(bt.message,bt.code));return Dt(this,_c).promise}),$.on("DataLoaded",bt=>{var St;(St=xt.onProgress)==null||St.call(xt,{loaded:bt.length,total:bt.length}),this.downloadInfoCapability.resolve(bt)}),$.on("StartRenderPage",bt=>{if(this.destroyed)return;Dt(this,Ql).get(bt.pageIndex)._startRenderPage(bt.transparency,bt.cacheKey)}),$.on("commonobj",([bt,St,At])=>{var Ct;if(this.destroyed||this.commonObjs.has(bt))return null;switch(St){case"Font":const{disableFontFace:Et,fontExtraProperties:Pt,pdfBug:wt}=this._params;if("error"in At){const vt=At.error;warn(`Error during font loading: ${vt}`),this.commonObjs.resolve(bt,vt);break}const kt=wt&&((Ct=globalThis.FontInspector)!=null&&Ct.enabled)?(vt,Ft)=>globalThis.FontInspector.fontAdded(vt,Ft):null,_t=new FontFaceObject(At,{disableFontFace:Et,inspectFont:kt});this.fontLoader.bind(_t).catch(()=>$.sendWithPromise("FontFallback",{id:bt})).finally(()=>{!Pt&&_t.data&&(_t.data=null),this.commonObjs.resolve(bt,_t)});break;case"CopyLocalImage":const{imageRef:ht}=At;assert(ht,"The imageRef must be defined.");for(const vt of Dt(this,Ql).values())for(const[,Ft]of vt.objs)if((Ft==null?void 0:Ft.ref)===ht)return Ft.dataLen?(this.commonObjs.resolve(bt,structuredClone(Ft)),Ft.dataLen):null;break;case"FontPath":case"Image":case"Pattern":this.commonObjs.resolve(bt,At);break;default:throw new Error(`Got unknown common object type ${St}`)}return null}),$.on("obj",([bt,St,At,Ct])=>{var Pt;if(this.destroyed)return;const Et=Dt(this,Ql).get(St);if(!Et.objs.has(bt)){if(Et._intentStates.size===0){(Pt=Ct==null?void 0:Ct.bitmap)==null||Pt.close();return}switch(At){case"Image":Et.objs.resolve(bt,Ct),(Ct==null?void 0:Ct.dataLen)>MAX_IMAGE_SIZE_TO_CACHE&&(Et._maybeCleanupAfterRender=!0);break;case"Pattern":Et.objs.resolve(bt,Ct);break;default:throw new Error(`Got unknown object type ${At}`)}}}),$.on("DocProgress",bt=>{var St;this.destroyed||(St=xt.onProgress)==null||St.call(xt,{loaded:bt.loaded,total:bt.total})}),$.on("FetchBuiltInCMap",bt=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.cMapReaderFactory?this.cMapReaderFactory.fetch(bt):Promise.reject(new Error("CMapReaderFactory not initialized, see the `useWorkerFetch` parameter."))),$.on("FetchStandardFontData",bt=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.standardFontDataFactory?this.standardFontDataFactory.fetch(bt):Promise.reject(new Error("StandardFontDataFactory not initialized, see the `useWorkerFetch` parameter.")))}getData(){return this.messageHandler.sendWithPromise("GetData",null)}saveDocument(){var bt;this.annotationStorage.size<=0&&warn("saveDocument called while `annotationStorage` is empty, please use the getData-method instead.");const{map:$,transfer:xt}=this.annotationStorage.serializable;return this.messageHandler.sendWithPromise("SaveDocument",{isPureXfa:!!this._htmlForXfa,numPages:this._numPages,annotationStorage:$,filename:((bt=this._fullReader)==null?void 0:bt.filename)??null},xt).finally(()=>{this.annotationStorage.resetModified()})}getPage($){if(!Number.isInteger($)||$<=0||$>this._numPages)return Promise.reject(new Error("Invalid page request."));const xt=$-1,bt=Dt(this,x1).get(xt);if(bt)return bt;const St=this.messageHandler.sendWithPromise("GetPage",{pageIndex:xt}).then(At=>{if(this.destroyed)throw new Error("Transport destroyed");At.refStr&&Dt(this,b1).set(At.refStr,$);const Ct=new PDFPageProxy(xt,At,this,this._params.pdfBug);return Dt(this,Ql).set(xt,Ct),Ct});return Dt(this,x1).set(xt,St),St}getPageIndex($){return isRefProxy($)?this.messageHandler.sendWithPromise("GetPageIndex",{num:$.num,gen:$.gen}):Promise.reject(new Error("Invalid pageIndex request."))}getAnnotations($,xt){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:$,intent:xt})}getFieldObjects(){return On(this,_f,em).call(this,"GetFieldObjects")}hasJSActions(){return On(this,_f,em).call(this,"HasJSActions")}getCalculationOrderIds(){return this.messageHandler.sendWithPromise("GetCalculationOrderIds",null)}getDestinations(){return this.messageHandler.sendWithPromise("GetDestinations",null)}getDestination($){return typeof $!="string"?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:$})}getPageLabels(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}getPageLayout(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}getPageMode(){return this.messageHandler.sendWithPromise("GetPageMode",null)}getViewerPreferences(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}getOpenAction(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}getAttachments(){return this.messageHandler.sendWithPromise("GetAttachments",null)}getDocJSActions(){return On(this,_f,em).call(this,"GetDocJSActions")}getPageJSActions($){return this.messageHandler.sendWithPromise("GetPageJSActions",{pageIndex:$})}getStructTree($){return this.messageHandler.sendWithPromise("GetStructTree",{pageIndex:$})}getOutline(){return this.messageHandler.sendWithPromise("GetOutline",null)}getOptionalContentConfig($){return On(this,_f,em).call(this,"GetOptionalContentConfig").then(xt=>new OptionalContentConfig(xt,$))}getPermissions(){return this.messageHandler.sendWithPromise("GetPermissions",null)}getMetadata(){const $="GetMetadata",xt=Dt(this,Tu).get($);if(xt)return xt;const bt=this.messageHandler.sendWithPromise($,null).then(St=>{var At,Ct;return{info:St[0],metadata:St[1]?new Metadata(St[1]):null,contentDispositionFilename:((At=this._fullReader)==null?void 0:At.filename)??null,contentLength:((Ct=this._fullReader)==null?void 0:Ct.contentLength)??null}});return Dt(this,Tu).set($,bt),bt}getMarkInfo(){return this.messageHandler.sendWithPromise("GetMarkInfo",null)}async startCleanup($=!1){if(!this.destroyed){await this.messageHandler.sendWithPromise("Cleanup",null);for(const xt of Dt(this,Ql).values())if(!xt.cleanup())throw new Error(`startCleanup: Page ${xt.pageNumber} is currently rendering.`);this.commonObjs.clear(),$||this.fontLoader.clear(),Dt(this,Tu).clear(),this.filterFactory.destroy(!0),TextLayer.cleanup()}}cachedPageNumber($){if(!isRefProxy($))return null;const xt=$.gen===0?`${$.num}R`:`${$.num}R${$.gen}`;return Dt(this,b1).get(xt)??null}}Tu=new WeakMap,Ql=new WeakMap,x1=new WeakMap,b1=new WeakMap,_c=new WeakMap,_f=new WeakSet,em=function($,xt=null){const bt=Dt(this,Tu).get($);if(bt)return bt;const St=this.messageHandler.sendWithPromise($,xt);return Dt(this,Tu).set($,St),St};const INITIAL_DATA=Symbol("INITIAL_DATA");var Dl,ax,jy;class PDFObjects{constructor(){Nn(this,ax);Nn(this,Dl,Object.create(null))}get($,xt=null){if(xt){const St=On(this,ax,jy).call(this,$);return St.promise.then(()=>xt(St.data)),null}const bt=Dt(this,Dl)[$];if(!bt||bt.data===INITIAL_DATA)throw new Error(`Requesting object that isn't resolved yet ${$}.`);return bt.data}has($){const xt=Dt(this,Dl)[$];return!!xt&&xt.data!==INITIAL_DATA}resolve($,xt=null){const bt=On(this,ax,jy).call(this,$);bt.data=xt,bt.resolve()}clear(){var $;for(const xt in Dt(this,Dl)){const{data:bt}=Dt(this,Dl)[xt];($=bt==null?void 0:bt.bitmap)==null||$.close()}$n(this,Dl,Object.create(null))}*[Symbol.iterator](){for(const $ in Dt(this,Dl)){const{data:xt}=Dt(this,Dl)[$];xt!==INITIAL_DATA&&(yield[$,xt])}}}Dl=new WeakMap,ax=new WeakSet,jy=function($){var xt;return(xt=Dt(this,Dl))[$]||(xt[$]={...Promise.withResolvers(),data:INITIAL_DATA})};var a0;class RenderTask{constructor($){Nn(this,a0,null);$n(this,a0,$),this.onContinue=null}get promise(){return Dt(this,a0).capability.promise}cancel($=0){Dt(this,a0).cancel(null,$)}get separateAnnots(){const{separateAnnots:$}=Dt(this,a0).operatorList;if(!$)return!1;const{annotationCanvasMap:xt}=Dt(this,a0);return $.form||$.canvas&&(xt==null?void 0:xt.size)>0}}a0=new WeakMap;var ep;const M0=class M0{constructor({callback:$,params:xt,objs:bt,commonObjs:St,annotationCanvasMap:At,operatorList:Ct,pageIndex:Et,canvasFactory:Pt,filterFactory:wt,useRequestAnimationFrame:kt=!1,pdfBug:_t=!1,pageColors:ht=null}){this.callback=$,this.params=xt,this.objs=bt,this.commonObjs=St,this.annotationCanvasMap=At,this.operatorListIdx=null,this.operatorList=Ct,this._pageIndex=Et,this.canvasFactory=Pt,this.filterFactory=wt,this._pdfBug=_t,this.pageColors=ht,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=kt===!0&&typeof window<"u",this.cancelled=!1,this.capability=Promise.withResolvers(),this.task=new RenderTask(this),this._cancelBound=this.cancel.bind(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=xt.canvasContext.canvas}get completed(){return this.capability.promise.catch(function(){})}initializeGraphics({transparency:$=!1,optionalContentConfig:xt}){var Et,Pt;if(this.cancelled)return;if(this._canvas){if(Dt(M0,ep).has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");Dt(M0,ep).add(this._canvas)}this._pdfBug&&((Et=globalThis.StepperManager)!=null&&Et.enabled)&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());const{canvasContext:bt,viewport:St,transform:At,background:Ct}=this.params;this.gfx=new CanvasGraphics(bt,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:xt},this.annotationCanvasMap,this.pageColors),this.gfx.beginDrawing({transform:At,viewport:St,transparency:$,background:Ct}),this.operatorListIdx=0,this.graphicsReady=!0,(Pt=this.graphicsReadyCallback)==null||Pt.call(this)}cancel($=null,xt=0){var bt;this.running=!1,this.cancelled=!0,(bt=this.gfx)==null||bt.endDrawing(),Dt(M0,ep).delete(this._canvas),this.callback($||new RenderingCancelledException(`Rendering cancelled, page ${this._pageIndex+1}`,xt))}operatorListChanged(){var $;if(!this.graphicsReady){this.graphicsReadyCallback||(this.graphicsReadyCallback=this._continueBound);return}($=this.stepper)==null||$.updateOperatorList(this.operatorList),!this.running&&this._continue()}_continue(){this.running=!0,!this.cancelled&&(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}_scheduleNext(){this._useRequestAnimationFrame?window.requestAnimationFrame(()=>{this._nextBound().catch(this._cancelBound)}):Promise.resolve().then(this._nextBound).catch(this._cancelBound)}async _next(){this.cancelled||(this.operatorListIdx=this.gfx.executeOperatorList(this.operatorList,this.operatorListIdx,this._continueBound,this.stepper),this.operatorListIdx===this.operatorList.argsArray.length&&(this.running=!1,this.operatorList.lastChunk&&(this.gfx.endDrawing(),Dt(M0,ep).delete(this._canvas),this.callback())))}};ep=new WeakMap,Nn(M0,ep,new WeakSet);let InternalRenderTask=M0;const version="4.3.136",build$1="0cec64437";function makeColorComp(_e){return Math.floor(Math.max(0,Math.min(1,_e))*255).toString(16).padStart(2,"0")}function scaleAndClamp(_e){return Math.max(0,Math.min(255,255*_e))}class ColorConverters{static CMYK_G([$,xt,bt,St]){return["G",1-Math.min(1,.3*$+.59*bt+.11*xt+St)]}static G_CMYK([$]){return["CMYK",0,0,0,1-$]}static G_RGB([$]){return["RGB",$,$,$]}static G_rgb([$]){return $=scaleAndClamp($),[$,$,$]}static G_HTML([$]){const xt=makeColorComp($);return`#${xt}${xt}${xt}`}static RGB_G([$,xt,bt]){return["G",.3*$+.59*xt+.11*bt]}static RGB_rgb($){return $.map(scaleAndClamp)}static RGB_HTML($){return`#${$.map(makeColorComp).join("")}`}static T_HTML(){return"#00000000"}static T_rgb(){return[null]}static CMYK_RGB([$,xt,bt,St]){return["RGB",1-Math.min(1,$+St),1-Math.min(1,bt+St),1-Math.min(1,xt+St)]}static CMYK_rgb([$,xt,bt,St]){return[scaleAndClamp(1-Math.min(1,$+St)),scaleAndClamp(1-Math.min(1,bt+St)),scaleAndClamp(1-Math.min(1,xt+St))]}static CMYK_HTML($){const xt=this.CMYK_RGB($).slice(1);return this.RGB_HTML(xt)}static RGB_CMYK([$,xt,bt]){const St=1-$,At=1-xt,Ct=1-bt,Et=Math.min(St,At,Ct);return["CMYK",St,At,Ct,Et]}}class XfaLayer{static setupStorage($,xt,bt,St,At){const Ct=St.getValue(xt,{value:null});switch(bt.name){case"textarea":if(Ct.value!==null&&($.textContent=Ct.value),At==="print")break;$.addEventListener("input",Et=>{St.setValue(xt,{value:Et.target.value})});break;case"input":if(bt.attributes.type==="radio"||bt.attributes.type==="checkbox"){if(Ct.value===bt.attributes.xfaOn?$.setAttribute("checked",!0):Ct.value===bt.attributes.xfaOff&&$.removeAttribute("checked"),At==="print")break;$.addEventListener("change",Et=>{St.setValue(xt,{value:Et.target.checked?Et.target.getAttribute("xfaOn"):Et.target.getAttribute("xfaOff")})})}else{if(Ct.value!==null&&$.setAttribute("value",Ct.value),At==="print")break;$.addEventListener("input",Et=>{St.setValue(xt,{value:Et.target.value})})}break;case"select":if(Ct.value!==null){$.setAttribute("value",Ct.value);for(const Et of bt.children)Et.attributes.value===Ct.value?Et.attributes.selected=!0:Et.attributes.hasOwnProperty("selected")&&delete Et.attributes.selected}$.addEventListener("input",Et=>{const Pt=Et.target.options,wt=Pt.selectedIndex===-1?"":Pt[Pt.selectedIndex].value;St.setValue(xt,{value:wt})});break}}static setAttributes({html:$,element:xt,storage:bt=null,intent:St,linkService:At}){const{attributes:Ct}=xt,Et=$ instanceof HTMLAnchorElement;Ct.type==="radio"&&(Ct.name=`${Ct.name}-${St}`);for(const[Pt,wt]of Object.entries(Ct))if(wt!=null)switch(Pt){case"class":wt.length&&$.setAttribute(Pt,wt.join(" "));break;case"dataId":break;case"id":$.setAttribute("data-element-id",wt);break;case"style":Object.assign($.style,wt);break;case"textContent":$.textContent=wt;break;default:(!Et||Pt!=="href"&&Pt!=="newWindow")&&$.setAttribute(Pt,wt)}Et&&At.addLinkAttributes($,Ct.href,Ct.newWindow),bt&&Ct.dataId&&this.setupStorage($,Ct.dataId,xt,bt)}static render($){var _t,ht;const xt=$.annotationStorage,bt=$.linkService,St=$.xfaHtml,At=$.intent||"display",Ct=document.createElement(St.name);St.attributes&&this.setAttributes({html:Ct,element:St,intent:At,linkService:bt});const Et=At!=="richText",Pt=$.div;if(Pt.append(Ct),$.viewport){const vt=`matrix(${$.viewport.transform.join(",")})`;Pt.style.transform=vt}Et&&Pt.setAttribute("class","xfaLayer xfaFont");const wt=[];if(St.children.length===0){if(St.value){const vt=document.createTextNode(St.value);Ct.append(vt),Et&&XfaText.shouldBuildText(St.name)&&wt.push(vt)}return{textDivs:wt}}const kt=[[St,-1,Ct]];for(;kt.length>0;){const[vt,Ft,Vt]=kt.at(-1);if(Ft+1===vt.children.length){kt.pop();continue}const qt=vt.children[++kt.at(-1)[1]];if(qt===null)continue;const{name:Lt}=qt;if(Lt==="#text"){const Ot=document.createTextNode(qt.value);wt.push(Ot),Vt.append(Ot);continue}const $t=(_t=qt==null?void 0:qt.attributes)!=null&&_t.xmlns?document.createElementNS(qt.attributes.xmlns,Lt):document.createElement(Lt);if(Vt.append($t),qt.attributes&&this.setAttributes({html:$t,element:qt,storage:xt,intent:At,linkService:bt}),((ht=qt.children)==null?void 0:ht.length)>0)kt.push([qt,-1,$t]);else if(qt.value){const Ot=document.createTextNode(qt.value);Et&&XfaText.shouldBuildText(Lt)&&wt.push(Ot),$t.append(Ot)}}for(const vt of Pt.querySelectorAll(".xfaNonInteractive input, .xfaNonInteractive textarea"))vt.setAttribute("readOnly",!0);return{textDivs:wt}}static update($){const xt=`matrix(${$.viewport.transform.join(",")})`;$.div.style.transform=xt,$.div.hidden=!1}}const DEFAULT_TAB_INDEX=1e3,annotation_layer_DEFAULT_FONT_SIZE=9,GetElementsByNameSet=new WeakSet;function getRectDims(_e){return{width:_e[2]-_e[0],height:_e[3]-_e[1]}}class AnnotationElementFactory{static create($){switch($.data.annotationType){case AnnotationType.LINK:return new LinkAnnotationElement($);case AnnotationType.TEXT:return new TextAnnotationElement($);case AnnotationType.WIDGET:switch($.data.fieldType){case"Tx":return new TextWidgetAnnotationElement($);case"Btn":return $.data.radioButton?new RadioButtonWidgetAnnotationElement($):$.data.checkBox?new CheckboxWidgetAnnotationElement($):new PushButtonWidgetAnnotationElement($);case"Ch":return new ChoiceWidgetAnnotationElement($);case"Sig":return new SignatureWidgetAnnotationElement($)}return new WidgetAnnotationElement($);case AnnotationType.POPUP:return new PopupAnnotationElement($);case AnnotationType.FREETEXT:return new FreeTextAnnotationElement($);case AnnotationType.LINE:return new LineAnnotationElement($);case AnnotationType.SQUARE:return new SquareAnnotationElement($);case AnnotationType.CIRCLE:return new CircleAnnotationElement($);case AnnotationType.POLYLINE:return new PolylineAnnotationElement($);case AnnotationType.CARET:return new CaretAnnotationElement($);case AnnotationType.INK:return new InkAnnotationElement($);case AnnotationType.POLYGON:return new PolygonAnnotationElement($);case AnnotationType.HIGHLIGHT:return new HighlightAnnotationElement($);case AnnotationType.UNDERLINE:return new UnderlineAnnotationElement($);case AnnotationType.SQUIGGLY:return new SquigglyAnnotationElement($);case AnnotationType.STRIKEOUT:return new StrikeOutAnnotationElement($);case AnnotationType.STAMP:return new StampAnnotationElement($);case AnnotationType.FILEATTACHMENT:return new FileAttachmentAnnotationElement($);default:return new AnnotationElement($)}}}var tp,y1,v1,ox,By;const i9=class i9{constructor($,{isRenderable:xt=!1,ignoreBorder:bt=!1,createQuadrilaterals:St=!1}={}){Nn(this,ox);Nn(this,tp,null);Nn(this,y1,!1);Nn(this,v1,null);this.isRenderable=xt,this.data=$.data,this.layer=$.layer,this.linkService=$.linkService,this.downloadManager=$.downloadManager,this.imageResourcesPath=$.imageResourcesPath,this.renderForms=$.renderForms,this.svgFactory=$.svgFactory,this.annotationStorage=$.annotationStorage,this.enableScripting=$.enableScripting,this.hasJSActions=$.hasJSActions,this._fieldObjects=$.fieldObjects,this.parent=$.parent,xt&&(this.container=this._createContainer(bt)),St&&this._createQuadrilaterals()}static _hasPopupData({titleObj:$,contentsObj:xt,richText:bt}){return!!($!=null&&$.str||xt!=null&&xt.str||bt!=null&&bt.str)}get hasPopupData(){return i9._hasPopupData(this.data)}updateEdited($){var bt;if(!this.container)return;Dt(this,tp)||$n(this,tp,{rect:this.data.rect.slice(0)});const{rect:xt}=$;xt&&On(this,ox,By).call(this,xt),(bt=Dt(this,v1))==null||bt.popup.updateEdited($)}resetEdited(){var $;Dt(this,tp)&&(On(this,ox,By).call(this,Dt(this,tp).rect),($=Dt(this,v1))==null||$.popup.resetEdited(),$n(this,tp,null))}_createContainer($){const{data:xt,parent:{page:bt,viewport:St}}=this,At=document.createElement("section");At.setAttribute("data-annotation-id",xt.id),this instanceof WidgetAnnotationElement||(At.tabIndex=DEFAULT_TAB_INDEX);const{style:Ct}=At;if(Ct.zIndex=this.parent.zIndex++,xt.popupRef&&At.setAttribute("aria-haspopup","dialog"),xt.alternativeText&&(At.title=xt.alternativeText),xt.noRotate&&At.classList.add("norotate"),!xt.rect||this instanceof PopupAnnotationElement){const{rotation:Vt}=xt;return!xt.hasOwnCanvas&&Vt!==0&&this.setRotation(Vt,At),At}const{width:Et,height:Pt}=getRectDims(xt.rect);if(!$&&xt.borderStyle.width>0){Ct.borderWidth=`${xt.borderStyle.width}px`;const Vt=xt.borderStyle.horizontalCornerRadius,qt=xt.borderStyle.verticalCornerRadius;if(Vt>0||qt>0){const $t=`calc(${Vt}px * var(--scale-factor)) / calc(${qt}px * var(--scale-factor))`;Ct.borderRadius=$t}else if(this instanceof RadioButtonWidgetAnnotationElement){const $t=`calc(${Et}px * var(--scale-factor)) / calc(${Pt}px * var(--scale-factor))`;Ct.borderRadius=$t}switch(xt.borderStyle.style){case AnnotationBorderStyleType.SOLID:Ct.borderStyle="solid";break;case AnnotationBorderStyleType.DASHED:Ct.borderStyle="dashed";break;case AnnotationBorderStyleType.BEVELED:warn("Unimplemented border style: beveled");break;case AnnotationBorderStyleType.INSET:warn("Unimplemented border style: inset");break;case AnnotationBorderStyleType.UNDERLINE:Ct.borderBottomStyle="solid";break}const Lt=xt.borderColor||null;Lt?($n(this,y1,!0),Ct.borderColor=Util.makeHexColor(Lt[0]|0,Lt[1]|0,Lt[2]|0)):Ct.borderWidth=0}const wt=Util.normalizeRect([xt.rect[0],bt.view[3]-xt.rect[1]+bt.view[1],xt.rect[2],bt.view[3]-xt.rect[3]+bt.view[1]]),{pageWidth:kt,pageHeight:_t,pageX:ht,pageY:vt}=St.rawDims;Ct.left=`${100*(wt[0]-ht)/kt}%`,Ct.top=`${100*(wt[1]-vt)/_t}%`;const{rotation:Ft}=xt;return xt.hasOwnCanvas||Ft===0?(Ct.width=`${100*Et/kt}%`,Ct.height=`${100*Pt/_t}%`):this.setRotation(Ft,At),At}setRotation($,xt=this.container){if(!this.data.rect)return;const{pageWidth:bt,pageHeight:St}=this.parent.viewport.rawDims,{width:At,height:Ct}=getRectDims(this.data.rect);let Et,Pt;$%180===0?(Et=100*At/bt,Pt=100*Ct/St):(Et=100*Ct/bt,Pt=100*At/St),xt.style.width=`${Et}%`,xt.style.height=`${Pt}%`,xt.setAttribute("data-main-rotation",(360-$)%360)}get _commonActions(){const $=(xt,bt,St)=>{const At=St.detail[xt],Ct=At[0],Et=At.slice(1);St.target.style[bt]=ColorConverters[`${Ct}_HTML`](Et),this.annotationStorage.setValue(this.data.id,{[bt]:ColorConverters[`${Ct}_rgb`](Et)})};return shadow(this,"_commonActions",{display:xt=>{const{display:bt}=xt.detail,St=bt%2===1;this.container.style.visibility=St?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noView:St,noPrint:bt===1||bt===2})},print:xt=>{this.annotationStorage.setValue(this.data.id,{noPrint:!xt.detail.print})},hidden:xt=>{const{hidden:bt}=xt.detail;this.container.style.visibility=bt?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noPrint:bt,noView:bt})},focus:xt=>{setTimeout(()=>xt.target.focus({preventScroll:!1}),0)},userName:xt=>{xt.target.title=xt.detail.userName},readonly:xt=>{xt.target.disabled=xt.detail.readonly},required:xt=>{this._setRequired(xt.target,xt.detail.required)},bgColor:xt=>{$("bgColor","backgroundColor",xt)},fillColor:xt=>{$("fillColor","backgroundColor",xt)},fgColor:xt=>{$("fgColor","color",xt)},textColor:xt=>{$("textColor","color",xt)},borderColor:xt=>{$("borderColor","borderColor",xt)},strokeColor:xt=>{$("strokeColor","borderColor",xt)},rotation:xt=>{const bt=xt.detail.rotation;this.setRotation(bt),this.annotationStorage.setValue(this.data.id,{rotation:bt})}})}_dispatchEventFromSandbox($,xt){const bt=this._commonActions;for(const St of Object.keys(xt.detail)){const At=$[St]||bt[St];At==null||At(xt)}}_setDefaultPropertiesFromJS($){if(!this.enableScripting)return;const xt=this.annotationStorage.getRawValue(this.data.id);if(!xt)return;const bt=this._commonActions;for(const[St,At]of Object.entries(xt)){const Ct=bt[St];if(Ct){const Et={detail:{[St]:At},target:$};Ct(Et),delete xt[St]}}}_createQuadrilaterals(){if(!this.container)return;const{quadPoints:$}=this.data;if(!$)return;const[xt,bt,St,At]=this.data.rect;if($.length===1){const[,{x:Vt,y:qt},{x:Lt,y:$t}]=$[0];if(St===Vt&&At===qt&&xt===Lt&&bt===$t)return}const{style:Ct}=this.container;let Et;if(Dt(this,y1)){const{borderColor:Vt,borderWidth:qt}=Ct;Ct.borderWidth=0,Et=["url('data:image/svg+xml;utf8,",'<svg xmlns="http://www.w3.org/2000/svg"',' preserveAspectRatio="none" viewBox="0 0 1 1">',`<g fill="transparent" stroke="${Vt}" stroke-width="${qt}">`],this.container.classList.add("hasBorder")}const Pt=St-xt,wt=At-bt,{svgFactory:kt}=this,_t=kt.createElement("svg");_t.classList.add("quadrilateralsContainer"),_t.setAttribute("width",0),_t.setAttribute("height",0);const ht=kt.createElement("defs");_t.append(ht);const vt=kt.createElement("clipPath"),Ft=`clippath_${this.data.id}`;vt.setAttribute("id",Ft),vt.setAttribute("clipPathUnits","objectBoundingBox"),ht.append(vt);for(const[,{x:Vt,y:qt},{x:Lt,y:$t}]of $){const Ot=kt.createElement("rect"),jt=(Lt-xt)/Pt,Rt=(At-qt)/wt,Kt=(Vt-Lt)/Pt,Bt=(qt-$t)/wt;Ot.setAttribute("x",jt),Ot.setAttribute("y",Rt),Ot.setAttribute("width",Kt),Ot.setAttribute("height",Bt),vt.append(Ot),Et==null||Et.push(`<rect vector-effect="non-scaling-stroke" x="${jt}" y="${Rt}" width="${Kt}" height="${Bt}"/>`)}Dt(this,y1)&&(Et.push("</g></svg>')"),Ct.backgroundImage=Et.join("")),this.container.append(_t),this.container.style.clipPath=`url(#${Ft})`}_createPopup(){const{container:$,data:xt}=this;$.setAttribute("aria-haspopup","dialog");const bt=$n(this,v1,new PopupAnnotationElement({data:{color:xt.color,titleObj:xt.titleObj,modificationDate:xt.modificationDate,contentsObj:xt.contentsObj,richText:xt.richText,parentRect:xt.rect,borderStyle:0,id:`popup_${xt.id}`,rotation:xt.rotation},parent:this.parent,elements:[this]}));this.parent.div.append(bt.render())}render(){unreachable("Abstract method `AnnotationElement.render` called")}_getElementsByName($,xt=null){const bt=[];if(this._fieldObjects){const St=this._fieldObjects[$];if(St)for(const{page:At,id:Ct,exportValues:Et}of St){if(At===-1||Ct===xt)continue;const Pt=typeof Et=="string"?Et:null,wt=document.querySelector(`[data-element-id="${Ct}"]`);if(wt&&!GetElementsByNameSet.has(wt)){warn(`_getElementsByName - element not allowed: ${Ct}`);continue}bt.push({id:Ct,exportValue:Pt,domElement:wt})}return bt}for(const St of document.getElementsByName($)){const{exportValue:At}=St,Ct=St.getAttribute("data-element-id");Ct!==xt&&GetElementsByNameSet.has(St)&&bt.push({id:Ct,exportValue:At,domElement:St})}return bt}show(){var $;this.container&&(this.container.hidden=!1),($=this.popup)==null||$.maybeShow()}hide(){var $;this.container&&(this.container.hidden=!0),($=this.popup)==null||$.forceHide()}getElementsToTriggerPopup(){return this.container}addHighlightArea(){const $=this.getElementsToTriggerPopup();if(Array.isArray($))for(const xt of $)xt.classList.add("highlightArea");else $.classList.add("highlightArea")}get _isEditable(){return!1}_editOnDoubleClick(){if(!this._isEditable)return;const{annotationEditorType:$,data:{id:xt}}=this;this.container.addEventListener("dblclick",()=>{var bt;(bt=this.linkService.eventBus)==null||bt.dispatch("switchannotationeditormode",{source:this,mode:$,editId:xt})})}};tp=new WeakMap,y1=new WeakMap,v1=new WeakMap,ox=new WeakSet,By=function($){const{container:{style:xt},data:{rect:bt,rotation:St},parent:{viewport:{rawDims:{pageWidth:At,pageHeight:Ct,pageX:Et,pageY:Pt}}}}=this;bt==null||bt.splice(0,4,...$);const{width:wt,height:kt}=getRectDims($);xt.left=`${100*($[0]-Et)/At}%`,xt.top=`${100*(Ct-$[3]+Pt)/Ct}%`,St===0?(xt.width=`${100*wt/At}%`,xt.height=`${100*kt/Ct}%`):this.setRotation(St)};let AnnotationElement=i9;var Qo,T0,z9,X9;class LinkAnnotationElement extends AnnotationElement{constructor(xt,bt=null){super(xt,{isRenderable:!0,ignoreBorder:!!(bt!=null&&bt.ignoreBorder),createQuadrilaterals:!0});Nn(this,Qo);this.isTooltipOnly=xt.data.isTooltipOnly}render(){const{data:xt,linkService:bt}=this,St=document.createElement("a");St.setAttribute("data-element-id",xt.id);let At=!1;return xt.url?(bt.addLinkAttributes(St,xt.url,xt.newWindow),At=!0):xt.action?(this._bindNamedAction(St,xt.action),At=!0):xt.attachment?(On(this,Qo,z9).call(this,St,xt.attachment,xt.attachmentDest),At=!0):xt.setOCGState?(On(this,Qo,X9).call(this,St,xt.setOCGState),At=!0):xt.dest?(this._bindLink(St,xt.dest),At=!0):(xt.actions&&(xt.actions.Action||xt.actions["Mouse Up"]||xt.actions["Mouse Down"])&&this.enableScripting&&this.hasJSActions&&(this._bindJSAction(St,xt),At=!0),xt.resetForm?(this._bindResetFormAction(St,xt.resetForm),At=!0):this.isTooltipOnly&&!At&&(this._bindLink(St,""),At=!0)),this.container.classList.add("linkAnnotation"),At&&this.container.append(St),this.container}_bindLink(xt,bt){xt.href=this.linkService.getDestinationHash(bt),xt.onclick=()=>(bt&&this.linkService.goToDestination(bt),!1),(bt||bt==="")&&On(this,Qo,T0).call(this)}_bindNamedAction(xt,bt){xt.href=this.linkService.getAnchorUrl(""),xt.onclick=()=>(this.linkService.executeNamedAction(bt),!1),On(this,Qo,T0).call(this)}_bindJSAction(xt,bt){xt.href=this.linkService.getAnchorUrl("");const St=new Map([["Action","onclick"],["Mouse Up","onmouseup"],["Mouse Down","onmousedown"]]);for(const At of Object.keys(bt.actions)){const Ct=St.get(At);Ct&&(xt[Ct]=()=>{var Et;return(Et=this.linkService.eventBus)==null||Et.dispatch("dispatcheventinsandbox",{source:this,detail:{id:bt.id,name:At}}),!1})}xt.onclick||(xt.onclick=()=>!1),On(this,Qo,T0).call(this)}_bindResetFormAction(xt,bt){const St=xt.onclick;if(St||(xt.href=this.linkService.getAnchorUrl("")),On(this,Qo,T0).call(this),!this._fieldObjects){warn('_bindResetFormAction - "resetForm" action not supported, ensure that the `fieldObjects` parameter is provided.'),St||(xt.onclick=()=>!1);return}xt.onclick=()=>{var _t;St==null||St();const{fields:At,refs:Ct,include:Et}=bt,Pt=[];if(At.length!==0||Ct.length!==0){const ht=new Set(Ct);for(const vt of At){const Ft=this._fieldObjects[vt]||[];for(const{id:Vt}of Ft)ht.add(Vt)}for(const vt of Object.values(this._fieldObjects))for(const Ft of vt)ht.has(Ft.id)===Et&&Pt.push(Ft)}else for(const ht of Object.values(this._fieldObjects))Pt.push(...ht);const wt=this.annotationStorage,kt=[];for(const ht of Pt){const{id:vt}=ht;switch(kt.push(vt),ht.type){case"text":{const Vt=ht.defaultValue||"";wt.setValue(vt,{value:Vt});break}case"checkbox":case"radiobutton":{const Vt=ht.defaultValue===ht.exportValues;wt.setValue(vt,{value:Vt});break}case"combobox":case"listbox":{const Vt=ht.defaultValue||"";wt.setValue(vt,{value:Vt});break}default:continue}const Ft=document.querySelector(`[data-element-id="${vt}"]`);if(Ft){if(!GetElementsByNameSet.has(Ft)){warn(`_bindResetFormAction - element not allowed: ${vt}`);continue}}else continue;Ft.dispatchEvent(new Event("resetform"))}return this.enableScripting&&((_t=this.linkService.eventBus)==null||_t.dispatch("dispatcheventinsandbox",{source:this,detail:{id:"app",ids:kt,name:"ResetForm"}})),!1}}}Qo=new WeakSet,T0=function(){this.container.setAttribute("data-internal-link","")},z9=function(xt,bt,St=null){xt.href=this.linkService.getAnchorUrl(""),bt.description&&(xt.title=bt.description),xt.onclick=()=>{var At;return(At=this.downloadManager)==null||At.openOrDownloadData(bt.content,bt.filename,St),!1},On(this,Qo,T0).call(this)},X9=function(xt,bt){xt.href=this.linkService.getAnchorUrl(""),xt.onclick=()=>(this.linkService.executeSetOCGState(bt),!1),On(this,Qo,T0).call(this)};class TextAnnotationElement extends AnnotationElement{constructor($){super($,{isRenderable:!0})}render(){this.container.classList.add("textAnnotation");const $=document.createElement("img");return $.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",$.setAttribute("data-l10n-id","pdfjs-text-annotation-type"),$.setAttribute("data-l10n-args",JSON.stringify({type:this.data.name})),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.append($),this.container}}class WidgetAnnotationElement extends AnnotationElement{render(){return this.container}showElementAndHideCanvas($){var xt;this.data.hasOwnCanvas&&(((xt=$.previousSibling)==null?void 0:xt.nodeName)==="CANVAS"&&($.previousSibling.hidden=!0),$.hidden=!1)}_getKeyModifier($){return util_FeatureTest.platform.isMac?$.metaKey:$.ctrlKey}_setEventListener($,xt,bt,St,At){bt.includes("mouse")?$.addEventListener(bt,Ct=>{var Et;(Et=this.linkService.eventBus)==null||Et.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:St,value:At(Ct),shift:Ct.shiftKey,modifier:this._getKeyModifier(Ct)}})}):$.addEventListener(bt,Ct=>{var Et;if(bt==="blur"){if(!xt.focused||!Ct.relatedTarget)return;xt.focused=!1}else if(bt==="focus"){if(xt.focused)return;xt.focused=!0}At&&((Et=this.linkService.eventBus)==null||Et.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:St,value:At(Ct)}}))})}_setEventListeners($,xt,bt,St){var At,Ct,Et;for(const[Pt,wt]of bt)(wt==="Action"||(At=this.data.actions)!=null&&At[wt])&&((wt==="Focus"||wt==="Blur")&&(xt||(xt={focused:!1})),this._setEventListener($,xt,Pt,wt,St),wt==="Focus"&&!((Ct=this.data.actions)!=null&&Ct.Blur)?this._setEventListener($,xt,"blur","Blur",null):wt==="Blur"&&!((Et=this.data.actions)!=null&&Et.Focus)&&this._setEventListener($,xt,"focus","Focus",null))}_setBackgroundColor($){const xt=this.data.backgroundColor||null;$.style.backgroundColor=xt===null?"transparent":Util.makeHexColor(xt[0],xt[1],xt[2])}_setTextStyle($){const xt=["left","center","right"],{fontColor:bt}=this.data.defaultAppearanceData,St=this.data.defaultAppearanceData.fontSize||annotation_layer_DEFAULT_FONT_SIZE,At=$.style;let Ct;const Et=2,Pt=wt=>Math.round(10*wt)/10;if(this.data.multiLine){const wt=Math.abs(this.data.rect[3]-this.data.rect[1]-Et),kt=Math.round(wt/(LINE_FACTOR*St))||1,_t=wt/kt;Ct=Math.min(St,Pt(_t/LINE_FACTOR))}else{const wt=Math.abs(this.data.rect[3]-this.data.rect[1]-Et);Ct=Math.min(St,Pt(wt/LINE_FACTOR))}At.fontSize=`calc(${Ct}px * var(--scale-factor))`,At.color=Util.makeHexColor(bt[0],bt[1],bt[2]),this.data.textAlignment!==null&&(At.textAlign=xt[this.data.textAlignment])}_setRequired($,xt){xt?$.setAttribute("required",!0):$.removeAttribute("required"),$.setAttribute("aria-required",xt)}}class TextWidgetAnnotationElement extends WidgetAnnotationElement{constructor($){const xt=$.renderForms||$.data.hasOwnCanvas||!$.data.hasAppearance&&!!$.data.fieldValue;super($,{isRenderable:xt})}setPropertyOnSiblings($,xt,bt,St){const At=this.annotationStorage;for(const Ct of this._getElementsByName($.name,$.id))Ct.domElement&&(Ct.domElement[xt]=bt),At.setValue(Ct.id,{[St]:bt})}render(){var St,At;const $=this.annotationStorage,xt=this.data.id;this.container.classList.add("textWidgetAnnotation");let bt=null;if(this.renderForms){const Ct=$.getValue(xt,{value:this.data.fieldValue});let Et=Ct.value||"";const Pt=$.getValue(xt,{charLimit:this.data.maxLen}).charLimit;Pt&&Et.length>Pt&&(Et=Et.slice(0,Pt));let wt=Ct.formattedValue||((St=this.data.textContent)==null?void 0:St.join(`
`))||null;wt&&this.data.comb&&(wt=wt.replaceAll(/\s+/g,""));const kt={userValue:Et,formattedValue:wt,lastCommittedValue:null,commitKey:1,focused:!1};this.data.multiLine?(bt=document.createElement("textarea"),bt.textContent=wt??Et,this.data.doNotScroll&&(bt.style.overflowY="hidden")):(bt=document.createElement("input"),bt.type="text",bt.setAttribute("value",wt??Et),this.data.doNotScroll&&(bt.style.overflowX="hidden")),this.data.hasOwnCanvas&&(bt.hidden=!0),GetElementsByNameSet.add(bt),bt.setAttribute("data-element-id",xt),bt.disabled=this.data.readOnly,bt.name=this.data.fieldName,bt.tabIndex=DEFAULT_TAB_INDEX,this._setRequired(bt,this.data.required),Pt&&(bt.maxLength=Pt),bt.addEventListener("input",ht=>{$.setValue(xt,{value:ht.target.value}),this.setPropertyOnSiblings(bt,"value",ht.target.value,"value"),kt.formattedValue=null}),bt.addEventListener("resetform",ht=>{const vt=this.data.defaultFieldValue??"";bt.value=kt.userValue=vt,kt.formattedValue=null});let _t=ht=>{const{formattedValue:vt}=kt;vt!=null&&(ht.target.value=vt),ht.target.scrollLeft=0};if(this.enableScripting&&this.hasJSActions){bt.addEventListener("focus",vt=>{var Vt;if(kt.focused)return;const{target:Ft}=vt;kt.userValue&&(Ft.value=kt.userValue),kt.lastCommittedValue=Ft.value,kt.commitKey=1,(Vt=this.data.actions)!=null&&Vt.Focus||(kt.focused=!0)}),bt.addEventListener("updatefromsandbox",vt=>{this.showElementAndHideCanvas(vt.target);const Ft={value(Vt){kt.userValue=Vt.detail.value??"",$.setValue(xt,{value:kt.userValue.toString()}),Vt.target.value=kt.userValue},formattedValue(Vt){const{formattedValue:qt}=Vt.detail;kt.formattedValue=qt,qt!=null&&Vt.target!==document.activeElement&&(Vt.target.value=qt),$.setValue(xt,{formattedValue:qt})},selRange(Vt){Vt.target.setSelectionRange(...Vt.detail.selRange)},charLimit:Vt=>{var Ot;const{charLimit:qt}=Vt.detail,{target:Lt}=Vt;if(qt===0){Lt.removeAttribute("maxLength");return}Lt.setAttribute("maxLength",qt);let $t=kt.userValue;!$t||$t.length<=qt||($t=$t.slice(0,qt),Lt.value=kt.userValue=$t,$.setValue(xt,{value:$t}),(Ot=this.linkService.eventBus)==null||Ot.dispatch("dispatcheventinsandbox",{source:this,detail:{id:xt,name:"Keystroke",value:$t,willCommit:!0,commitKey:1,selStart:Lt.selectionStart,selEnd:Lt.selectionEnd}}))}};this._dispatchEventFromSandbox(Ft,vt)}),bt.addEventListener("keydown",vt=>{var qt;kt.commitKey=1;let Ft=-1;if(vt.key==="Escape"?Ft=0:vt.key==="Enter"&&!this.data.multiLine?Ft=2:vt.key==="Tab"&&(kt.commitKey=3),Ft===-1)return;const{value:Vt}=vt.target;kt.lastCommittedValue!==Vt&&(kt.lastCommittedValue=Vt,kt.userValue=Vt,(qt=this.linkService.eventBus)==null||qt.dispatch("dispatcheventinsandbox",{source:this,detail:{id:xt,name:"Keystroke",value:Vt,willCommit:!0,commitKey:Ft,selStart:vt.target.selectionStart,selEnd:vt.target.selectionEnd}}))});const ht=_t;_t=null,bt.addEventListener("blur",vt=>{var Vt,qt;if(!kt.focused||!vt.relatedTarget)return;(Vt=this.data.actions)!=null&&Vt.Blur||(kt.focused=!1);const{value:Ft}=vt.target;kt.userValue=Ft,kt.lastCommittedValue!==Ft&&((qt=this.linkService.eventBus)==null||qt.dispatch("dispatcheventinsandbox",{source:this,detail:{id:xt,name:"Keystroke",value:Ft,willCommit:!0,commitKey:kt.commitKey,selStart:vt.target.selectionStart,selEnd:vt.target.selectionEnd}})),ht(vt)}),(At=this.data.actions)!=null&&At.Keystroke&&bt.addEventListener("beforeinput",vt=>{var Rt;kt.lastCommittedValue=null;const{data:Ft,target:Vt}=vt,{value:qt,selectionStart:Lt,selectionEnd:$t}=Vt;let Ot=Lt,jt=$t;switch(vt.inputType){case"deleteWordBackward":{const Kt=qt.substring(0,Lt).match(/\w*[^\w]*$/);Kt&&(Ot-=Kt[0].length);break}case"deleteWordForward":{const Kt=qt.substring(Lt).match(/^[^\w]*\w*/);Kt&&(jt+=Kt[0].length);break}case"deleteContentBackward":Lt===$t&&(Ot-=1);break;case"deleteContentForward":Lt===$t&&(jt+=1);break}vt.preventDefault(),(Rt=this.linkService.eventBus)==null||Rt.dispatch("dispatcheventinsandbox",{source:this,detail:{id:xt,name:"Keystroke",value:qt,change:Ft||"",willCommit:!1,selStart:Ot,selEnd:jt}})}),this._setEventListeners(bt,kt,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],vt=>vt.target.value)}if(_t&&bt.addEventListener("blur",_t),this.data.comb){const vt=(this.data.rect[2]-this.data.rect[0])/Pt;bt.classList.add("comb"),bt.style.letterSpacing=`calc(${vt}px * var(--scale-factor) - 1ch)`}}else bt=document.createElement("div"),bt.textContent=this.data.fieldValue,bt.style.verticalAlign="middle",bt.style.display="table-cell",this.data.hasOwnCanvas&&(bt.hidden=!0);return this._setTextStyle(bt),this._setBackgroundColor(bt),this._setDefaultPropertiesFromJS(bt),this.container.append(bt),this.container}}class SignatureWidgetAnnotationElement extends WidgetAnnotationElement{constructor($){super($,{isRenderable:!!$.data.hasOwnCanvas})}}class CheckboxWidgetAnnotationElement extends WidgetAnnotationElement{constructor($){super($,{isRenderable:$.renderForms})}render(){const $=this.annotationStorage,xt=this.data,bt=xt.id;let St=$.getValue(bt,{value:xt.exportValue===xt.fieldValue}).value;typeof St=="string"&&(St=St!=="Off",$.setValue(bt,{value:St})),this.container.classList.add("buttonWidgetAnnotation","checkBox");const At=document.createElement("input");return GetElementsByNameSet.add(At),At.setAttribute("data-element-id",bt),At.disabled=xt.readOnly,this._setRequired(At,this.data.required),At.type="checkbox",At.name=xt.fieldName,St&&At.setAttribute("checked",!0),At.setAttribute("exportValue",xt.exportValue),At.tabIndex=DEFAULT_TAB_INDEX,At.addEventListener("change",Ct=>{const{name:Et,checked:Pt}=Ct.target;for(const wt of this._getElementsByName(Et,bt)){const kt=Pt&&wt.exportValue===xt.exportValue;wt.domElement&&(wt.domElement.checked=kt),$.setValue(wt.id,{value:kt})}$.setValue(bt,{value:Pt})}),At.addEventListener("resetform",Ct=>{const Et=xt.defaultFieldValue||"Off";Ct.target.checked=Et===xt.exportValue}),this.enableScripting&&this.hasJSActions&&(At.addEventListener("updatefromsandbox",Ct=>{const Et={value(Pt){Pt.target.checked=Pt.detail.value!=="Off",$.setValue(bt,{value:Pt.target.checked})}};this._dispatchEventFromSandbox(Et,Ct)}),this._setEventListeners(At,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],Ct=>Ct.target.checked)),this._setBackgroundColor(At),this._setDefaultPropertiesFromJS(At),this.container.append(At),this.container}}class RadioButtonWidgetAnnotationElement extends WidgetAnnotationElement{constructor($){super($,{isRenderable:$.renderForms})}render(){this.container.classList.add("buttonWidgetAnnotation","radioButton");const $=this.annotationStorage,xt=this.data,bt=xt.id;let St=$.getValue(bt,{value:xt.fieldValue===xt.buttonValue}).value;if(typeof St=="string"&&(St=St!==xt.buttonValue,$.setValue(bt,{value:St})),St)for(const Ct of this._getElementsByName(xt.fieldName,bt))$.setValue(Ct.id,{value:!1});const At=document.createElement("input");if(GetElementsByNameSet.add(At),At.setAttribute("data-element-id",bt),At.disabled=xt.readOnly,this._setRequired(At,this.data.required),At.type="radio",At.name=xt.fieldName,St&&At.setAttribute("checked",!0),At.tabIndex=DEFAULT_TAB_INDEX,At.addEventListener("change",Ct=>{const{name:Et,checked:Pt}=Ct.target;for(const wt of this._getElementsByName(Et,bt))$.setValue(wt.id,{value:!1});$.setValue(bt,{value:Pt})}),At.addEventListener("resetform",Ct=>{const Et=xt.defaultFieldValue;Ct.target.checked=Et!=null&&Et===xt.buttonValue}),this.enableScripting&&this.hasJSActions){const Ct=xt.buttonValue;At.addEventListener("updatefromsandbox",Et=>{const Pt={value:wt=>{const kt=Ct===wt.detail.value;for(const _t of this._getElementsByName(wt.target.name)){const ht=kt&&_t.id===bt;_t.domElement&&(_t.domElement.checked=ht),$.setValue(_t.id,{value:ht})}}};this._dispatchEventFromSandbox(Pt,Et)}),this._setEventListeners(At,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],Et=>Et.target.checked)}return this._setBackgroundColor(At),this._setDefaultPropertiesFromJS(At),this.container.append(At),this.container}}class PushButtonWidgetAnnotationElement extends LinkAnnotationElement{constructor($){super($,{ignoreBorder:$.data.hasAppearance})}render(){const $=super.render();$.classList.add("buttonWidgetAnnotation","pushButton");const xt=$.lastChild;return this.enableScripting&&this.hasJSActions&&xt&&(this._setDefaultPropertiesFromJS(xt),xt.addEventListener("updatefromsandbox",bt=>{this._dispatchEventFromSandbox({},bt)})),$}}class ChoiceWidgetAnnotationElement extends WidgetAnnotationElement{constructor($){super($,{isRenderable:$.renderForms})}render(){this.container.classList.add("choiceWidgetAnnotation");const $=this.annotationStorage,xt=this.data.id,bt=$.getValue(xt,{value:this.data.fieldValue}),St=document.createElement("select");GetElementsByNameSet.add(St),St.setAttribute("data-element-id",xt),St.disabled=this.data.readOnly,this._setRequired(St,this.data.required),St.name=this.data.fieldName,St.tabIndex=DEFAULT_TAB_INDEX;let At=this.data.combo&&this.data.options.length>0;this.data.combo||(St.size=this.data.options.length,this.data.multiSelect&&(St.multiple=!0)),St.addEventListener("resetform",kt=>{const _t=this.data.defaultFieldValue;for(const ht of St.options)ht.selected=ht.value===_t});for(const kt of this.data.options){const _t=document.createElement("option");_t.textContent=kt.displayValue,_t.value=kt.exportValue,bt.value.includes(kt.exportValue)&&(_t.setAttribute("selected",!0),At=!1),St.append(_t)}let Ct=null;if(At){const kt=document.createElement("option");kt.value=" ",kt.setAttribute("hidden",!0),kt.setAttribute("selected",!0),St.prepend(kt),Ct=()=>{kt.remove(),St.removeEventListener("input",Ct),Ct=null},St.addEventListener("input",Ct)}const Et=kt=>{const _t=kt?"value":"textContent",{options:ht,multiple:vt}=St;return vt?Array.prototype.filter.call(ht,Ft=>Ft.selected).map(Ft=>Ft[_t]):ht.selectedIndex===-1?null:ht[ht.selectedIndex][_t]};let Pt=Et(!1);const wt=kt=>{const _t=kt.target.options;return Array.prototype.map.call(_t,ht=>({displayValue:ht.textContent,exportValue:ht.value}))};return this.enableScripting&&this.hasJSActions?(St.addEventListener("updatefromsandbox",kt=>{const _t={value(ht){Ct==null||Ct();const vt=ht.detail.value,Ft=new Set(Array.isArray(vt)?vt:[vt]);for(const Vt of St.options)Vt.selected=Ft.has(Vt.value);$.setValue(xt,{value:Et(!0)}),Pt=Et(!1)},multipleSelection(ht){St.multiple=!0},remove(ht){const vt=St.options,Ft=ht.detail.remove;vt[Ft].selected=!1,St.remove(Ft),vt.length>0&&Array.prototype.findIndex.call(vt,qt=>qt.selected)===-1&&(vt[0].selected=!0),$.setValue(xt,{value:Et(!0),items:wt(ht)}),Pt=Et(!1)},clear(ht){for(;St.length!==0;)St.remove(0);$.setValue(xt,{value:null,items:[]}),Pt=Et(!1)},insert(ht){const{index:vt,displayValue:Ft,exportValue:Vt}=ht.detail.insert,qt=St.children[vt],Lt=document.createElement("option");Lt.textContent=Ft,Lt.value=Vt,qt?qt.before(Lt):St.append(Lt),$.setValue(xt,{value:Et(!0),items:wt(ht)}),Pt=Et(!1)},items(ht){const{items:vt}=ht.detail;for(;St.length!==0;)St.remove(0);for(const Ft of vt){const{displayValue:Vt,exportValue:qt}=Ft,Lt=document.createElement("option");Lt.textContent=Vt,Lt.value=qt,St.append(Lt)}St.options.length>0&&(St.options[0].selected=!0),$.setValue(xt,{value:Et(!0),items:wt(ht)}),Pt=Et(!1)},indices(ht){const vt=new Set(ht.detail.indices);for(const Ft of ht.target.options)Ft.selected=vt.has(Ft.index);$.setValue(xt,{value:Et(!0)}),Pt=Et(!1)},editable(ht){ht.target.disabled=!ht.detail.editable}};this._dispatchEventFromSandbox(_t,kt)}),St.addEventListener("input",kt=>{var vt;const _t=Et(!0),ht=Et(!1);$.setValue(xt,{value:_t}),kt.preventDefault(),(vt=this.linkService.eventBus)==null||vt.dispatch("dispatcheventinsandbox",{source:this,detail:{id:xt,name:"Keystroke",value:Pt,change:ht,changeEx:_t,willCommit:!1,commitKey:1,keyDown:!1}})}),this._setEventListeners(St,null,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"],["input","Action"],["input","Validate"]],kt=>kt.target.value)):St.addEventListener("input",function(kt){$.setValue(xt,{value:Et(!0)})}),this.data.combo&&this._setTextStyle(St),this._setBackgroundColor(St),this._setDefaultPropertiesFromJS(St),this.container.append(St),this.container}}class PopupAnnotationElement extends AnnotationElement{constructor($){const{data:xt,elements:bt}=$;super($,{isRenderable:AnnotationElement._hasPopupData(xt)}),this.elements=bt,this.popup=null}render(){this.container.classList.add("popupAnnotation");const $=this.popup=new PopupElement({container:this.container,color:this.data.color,titleObj:this.data.titleObj,modificationDate:this.data.modificationDate,contentsObj:this.data.contentsObj,richText:this.data.richText,rect:this.data.rect,parentRect:this.data.parentRect||null,parent:this.parent,elements:this.elements,open:this.data.open}),xt=[];for(const bt of this.elements)bt.popup=$,xt.push(bt.data.id),bt.addHighlightArea();return this.container.setAttribute("aria-controls",xt.map(bt=>`${AnnotationPrefix}${bt}`).join(",")),this.container}}var w1,ny,iy,S1,np,ao,Pu,ip,lx,cx,A1,Ru,Ll,Fu,ux,_u,hx,sp,rp,xa,c2,Uy,W9,G9,q9,K9,u2,h2,Hy;class PopupElement{constructor({container:$,color:xt,elements:bt,titleObj:St,modificationDate:At,contentsObj:Ct,richText:Et,parent:Pt,rect:wt,parentRect:kt,open:_t}){Nn(this,xa);Nn(this,w1,On(this,xa,q9).bind(this));Nn(this,ny,On(this,xa,Hy).bind(this));Nn(this,iy,On(this,xa,h2).bind(this));Nn(this,S1,On(this,xa,u2).bind(this));Nn(this,np,null);Nn(this,ao,null);Nn(this,Pu,null);Nn(this,ip,null);Nn(this,lx,null);Nn(this,cx,null);Nn(this,A1,null);Nn(this,Ru,!1);Nn(this,Ll,null);Nn(this,Fu,null);Nn(this,ux,null);Nn(this,_u,null);Nn(this,hx,null);Nn(this,sp,null);Nn(this,rp,!1);var ht;$n(this,ao,$),$n(this,hx,St),$n(this,Pu,Ct),$n(this,_u,Et),$n(this,cx,Pt),$n(this,np,xt),$n(this,ux,wt),$n(this,A1,kt),$n(this,lx,bt),$n(this,ip,PDFDateString.toDateObject(At)),this.trigger=bt.flatMap(vt=>vt.getElementsToTriggerPopup());for(const vt of this.trigger)vt.addEventListener("click",Dt(this,S1)),vt.addEventListener("mouseenter",Dt(this,iy)),vt.addEventListener("mouseleave",Dt(this,ny)),vt.classList.add("popupTriggerArea");for(const vt of bt)(ht=vt.container)==null||ht.addEventListener("keydown",Dt(this,w1));Dt(this,ao).hidden=!0,_t&&On(this,xa,u2).call(this)}render(){if(Dt(this,Ll))return;const $=$n(this,Ll,document.createElement("div"));if($.className="popup",Dt(this,np)){const At=$.style.outlineColor=Util.makeHexColor(...Dt(this,np));CSS.supports("background-color","color-mix(in srgb, red 30%, white)")?$.style.backgroundColor=`color-mix(in srgb, ${At} 30%, white)`:$.style.backgroundColor=Util.makeHexColor(...Dt(this,np).map(Et=>Math.floor(.7*(255-Et)+Et)))}const xt=document.createElement("span");xt.className="header";const bt=document.createElement("h1");if(xt.append(bt),{dir:bt.dir,str:bt.textContent}=Dt(this,hx),$.append(xt),Dt(this,ip)){const At=document.createElement("span");At.classList.add("popupDate"),At.setAttribute("data-l10n-id","pdfjs-annotation-date-string"),At.setAttribute("data-l10n-args",JSON.stringify({date:Dt(this,ip).toLocaleDateString(),time:Dt(this,ip).toLocaleTimeString()})),xt.append(At)}const St=Dt(this,xa,c2);if(St)XfaLayer.render({xfaHtml:St,intent:"richText",div:$}),$.lastChild.classList.add("richText","popupContent");else{const At=this._formatContents(Dt(this,Pu));$.append(At)}Dt(this,ao).append($)}_formatContents({str:$,dir:xt}){const bt=document.createElement("p");bt.classList.add("popupContent"),bt.dir=xt;const St=$.split(/(?:\r\n?|\n)/);for(let At=0,Ct=St.length;At<Ct;++At){const Et=St[At];bt.append(document.createTextNode(Et)),At<Ct-1&&bt.append(document.createElement("br"))}return bt}updateEdited({rect:$,popupContent:xt}){var bt;Dt(this,sp)||$n(this,sp,{contentsObj:Dt(this,Pu),richText:Dt(this,_u)}),$&&$n(this,Fu,null),xt&&($n(this,_u,On(this,xa,G9).call(this,xt)),$n(this,Pu,null)),(bt=Dt(this,Ll))==null||bt.remove(),$n(this,Ll,null)}resetEdited(){var $;Dt(this,sp)&&({contentsObj:Ao(this,Pu)._,richText:Ao(this,_u)._}=Dt(this,sp),$n(this,sp,null),($=Dt(this,Ll))==null||$.remove(),$n(this,Ll,null),$n(this,Fu,null))}forceHide(){$n(this,rp,this.isVisible),Dt(this,rp)&&(Dt(this,ao).hidden=!0)}maybeShow(){Dt(this,rp)&&(Dt(this,Ll)||On(this,xa,h2).call(this),$n(this,rp,!1),Dt(this,ao).hidden=!1)}get isVisible(){return Dt(this,ao).hidden===!1}}w1=new WeakMap,ny=new WeakMap,iy=new WeakMap,S1=new WeakMap,np=new WeakMap,ao=new WeakMap,Pu=new WeakMap,ip=new WeakMap,lx=new WeakMap,cx=new WeakMap,A1=new WeakMap,Ru=new WeakMap,Ll=new WeakMap,Fu=new WeakMap,ux=new WeakMap,_u=new WeakMap,hx=new WeakMap,sp=new WeakMap,rp=new WeakMap,xa=new WeakSet,c2=function(){const $=Dt(this,_u),xt=Dt(this,Pu);return $!=null&&$.str&&(!(xt!=null&&xt.str)||xt.str===$.str)&&Dt(this,_u).html||null},Uy=function(){var $,xt,bt;return((bt=(xt=($=Dt(this,xa,c2))==null?void 0:$.attributes)==null?void 0:xt.style)==null?void 0:bt.fontSize)||0},W9=function(){var $,xt,bt;return((bt=(xt=($=Dt(this,xa,c2))==null?void 0:$.attributes)==null?void 0:xt.style)==null?void 0:bt.color)||null},G9=function($){const xt=[],bt={str:$,html:{name:"div",attributes:{dir:"auto"},children:[{name:"p",children:xt}]}},St={style:{color:Dt(this,xa,W9),fontSize:Dt(this,xa,Uy)?`calc(${Dt(this,xa,Uy)}px * var(--scale-factor))`:""}};for(const At of $.split(`
`))xt.push({name:"span",value:At,attributes:St});return bt},q9=function($){$.altKey||$.shiftKey||$.ctrlKey||$.metaKey||($.key==="Enter"||$.key==="Escape"&&Dt(this,Ru))&&On(this,xa,u2).call(this)},K9=function(){if(Dt(this,Fu)!==null)return;const{page:{view:$},viewport:{rawDims:{pageWidth:xt,pageHeight:bt,pageX:St,pageY:At}}}=Dt(this,cx);let Ct=!!Dt(this,A1),Et=Ct?Dt(this,A1):Dt(this,ux);for(const Ft of Dt(this,lx))if(!Et||Util.intersect(Ft.data.rect,Et)!==null){Et=Ft.data.rect,Ct=!0;break}const Pt=Util.normalizeRect([Et[0],$[3]-Et[1]+$[1],Et[2],$[3]-Et[3]+$[1]]),kt=Ct?Et[2]-Et[0]+5:0,_t=Pt[0]+kt,ht=Pt[1];$n(this,Fu,[100*(_t-St)/xt,100*(ht-At)/bt]);const{style:vt}=Dt(this,ao);vt.left=`${Dt(this,Fu)[0]}%`,vt.top=`${Dt(this,Fu)[1]}%`},u2=function(){$n(this,Ru,!Dt(this,Ru)),Dt(this,Ru)?(On(this,xa,h2).call(this),Dt(this,ao).addEventListener("click",Dt(this,S1)),Dt(this,ao).addEventListener("keydown",Dt(this,w1))):(On(this,xa,Hy).call(this),Dt(this,ao).removeEventListener("click",Dt(this,S1)),Dt(this,ao).removeEventListener("keydown",Dt(this,w1)))},h2=function(){Dt(this,Ll)||this.render(),this.isVisible?Dt(this,Ru)&&Dt(this,ao).classList.add("focused"):(On(this,xa,K9).call(this),Dt(this,ao).hidden=!1,Dt(this,ao).style.zIndex=parseInt(Dt(this,ao).style.zIndex)+1e3)},Hy=function(){Dt(this,ao).classList.remove("focused"),!(Dt(this,Ru)||!this.isVisible)&&(Dt(this,ao).hidden=!0,Dt(this,ao).style.zIndex=parseInt(Dt(this,ao).style.zIndex)-1e3)};class FreeTextAnnotationElement extends AnnotationElement{constructor($){super($,{isRenderable:!0,ignoreBorder:!0}),this.textContent=$.data.textContent,this.textPosition=$.data.textPosition,this.annotationEditorType=AnnotationEditorType.FREETEXT}render(){if(this.container.classList.add("freeTextAnnotation"),this.textContent){const $=document.createElement("div");$.classList.add("annotationTextContent"),$.setAttribute("role","comment");for(const xt of this.textContent){const bt=document.createElement("span");bt.textContent=xt,$.append(bt)}this.container.append($)}return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}get _isEditable(){return this.data.hasOwnCanvas}}var dx;class LineAnnotationElement extends AnnotationElement{constructor(xt){super(xt,{isRenderable:!0,ignoreBorder:!0});Nn(this,dx,null)}render(){this.container.classList.add("lineAnnotation");const xt=this.data,{width:bt,height:St}=getRectDims(xt.rect),At=this.svgFactory.create(bt,St,!0),Ct=$n(this,dx,this.svgFactory.createElement("svg:line"));return Ct.setAttribute("x1",xt.rect[2]-xt.lineCoordinates[0]),Ct.setAttribute("y1",xt.rect[3]-xt.lineCoordinates[1]),Ct.setAttribute("x2",xt.rect[2]-xt.lineCoordinates[2]),Ct.setAttribute("y2",xt.rect[3]-xt.lineCoordinates[3]),Ct.setAttribute("stroke-width",xt.borderStyle.width||1),Ct.setAttribute("stroke","transparent"),Ct.setAttribute("fill","transparent"),At.append(Ct),this.container.append(At),!xt.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return Dt(this,dx)}addHighlightArea(){this.container.classList.add("highlightArea")}}dx=new WeakMap;var fx;class SquareAnnotationElement extends AnnotationElement{constructor(xt){super(xt,{isRenderable:!0,ignoreBorder:!0});Nn(this,fx,null)}render(){this.container.classList.add("squareAnnotation");const xt=this.data,{width:bt,height:St}=getRectDims(xt.rect),At=this.svgFactory.create(bt,St,!0),Ct=xt.borderStyle.width,Et=$n(this,fx,this.svgFactory.createElement("svg:rect"));return Et.setAttribute("x",Ct/2),Et.setAttribute("y",Ct/2),Et.setAttribute("width",bt-Ct),Et.setAttribute("height",St-Ct),Et.setAttribute("stroke-width",Ct||1),Et.setAttribute("stroke","transparent"),Et.setAttribute("fill","transparent"),At.append(Et),this.container.append(At),!xt.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return Dt(this,fx)}addHighlightArea(){this.container.classList.add("highlightArea")}}fx=new WeakMap;var gx;class CircleAnnotationElement extends AnnotationElement{constructor(xt){super(xt,{isRenderable:!0,ignoreBorder:!0});Nn(this,gx,null)}render(){this.container.classList.add("circleAnnotation");const xt=this.data,{width:bt,height:St}=getRectDims(xt.rect),At=this.svgFactory.create(bt,St,!0),Ct=xt.borderStyle.width,Et=$n(this,gx,this.svgFactory.createElement("svg:ellipse"));return Et.setAttribute("cx",bt/2),Et.setAttribute("cy",St/2),Et.setAttribute("rx",bt/2-Ct/2),Et.setAttribute("ry",St/2-Ct/2),Et.setAttribute("stroke-width",Ct||1),Et.setAttribute("stroke","transparent"),Et.setAttribute("fill","transparent"),At.append(Et),this.container.append(At),!xt.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return Dt(this,gx)}addHighlightArea(){this.container.classList.add("highlightArea")}}gx=new WeakMap;var mx;class PolylineAnnotationElement extends AnnotationElement{constructor(xt){super(xt,{isRenderable:!0,ignoreBorder:!0});Nn(this,mx,null);this.containerClassName="polylineAnnotation",this.svgElementName="svg:polyline"}render(){this.container.classList.add(this.containerClassName);const xt=this.data,{width:bt,height:St}=getRectDims(xt.rect),At=this.svgFactory.create(bt,St,!0);let Ct=[];for(const Pt of xt.vertices){const wt=Pt.x-xt.rect[0],kt=xt.rect[3]-Pt.y;Ct.push(wt+","+kt)}Ct=Ct.join(" ");const Et=$n(this,mx,this.svgFactory.createElement(this.svgElementName));return Et.setAttribute("points",Ct),Et.setAttribute("stroke-width",xt.borderStyle.width||1),Et.setAttribute("stroke","transparent"),Et.setAttribute("fill","transparent"),At.append(Et),this.container.append(At),!xt.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return Dt(this,mx)}addHighlightArea(){this.container.classList.add("highlightArea")}}mx=new WeakMap;class PolygonAnnotationElement extends PolylineAnnotationElement{constructor($){super($),this.containerClassName="polygonAnnotation",this.svgElementName="svg:polygon"}}class CaretAnnotationElement extends AnnotationElement{constructor($){super($,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("caretAnnotation"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container}}var xx;class InkAnnotationElement extends AnnotationElement{constructor(xt){super(xt,{isRenderable:!0,ignoreBorder:!0});Nn(this,xx,[]);this.containerClassName="inkAnnotation",this.svgElementName="svg:polyline",this.annotationEditorType=AnnotationEditorType.INK}render(){this.container.classList.add(this.containerClassName);const xt=this.data,{width:bt,height:St}=getRectDims(xt.rect),At=this.svgFactory.create(bt,St,!0);for(const Ct of xt.inkLists){let Et=[];for(const wt of Ct){const kt=wt.x-xt.rect[0],_t=xt.rect[3]-wt.y;Et.push(`${kt},${_t}`)}Et=Et.join(" ");const Pt=this.svgFactory.createElement(this.svgElementName);Dt(this,xx).push(Pt),Pt.setAttribute("points",Et),Pt.setAttribute("stroke-width",xt.borderStyle.width||1),Pt.setAttribute("stroke","transparent"),Pt.setAttribute("fill","transparent"),!xt.popupRef&&this.hasPopupData&&this._createPopup(),At.append(Pt)}return this.container.append(At),this.container}getElementsToTriggerPopup(){return Dt(this,xx)}addHighlightArea(){this.container.classList.add("highlightArea")}}xx=new WeakMap;class HighlightAnnotationElement extends AnnotationElement{constructor($){super($,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("highlightAnnotation"),this.container}}class UnderlineAnnotationElement extends AnnotationElement{constructor($){super($,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("underlineAnnotation"),this.container}}class SquigglyAnnotationElement extends AnnotationElement{constructor($){super($,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("squigglyAnnotation"),this.container}}class StrikeOutAnnotationElement extends AnnotationElement{constructor($){super($,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("strikeoutAnnotation"),this.container}}class StampAnnotationElement extends AnnotationElement{constructor($){super($,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("stampAnnotation"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container}}var bx,yx,Vy;class FileAttachmentAnnotationElement extends AnnotationElement{constructor(xt){var St;super(xt,{isRenderable:!0});Nn(this,yx);Nn(this,bx,null);const{file:bt}=this.data;this.filename=bt.filename,this.content=bt.content,(St=this.linkService.eventBus)==null||St.dispatch("fileattachmentannotation",{source:this,...bt})}render(){this.container.classList.add("fileAttachmentAnnotation");const{container:xt,data:bt}=this;let St;bt.hasAppearance||bt.fillAlpha===0?St=document.createElement("div"):(St=document.createElement("img"),St.src=`${this.imageResourcesPath}annotation-${/paperclip/i.test(bt.name)?"paperclip":"pushpin"}.svg`,bt.fillAlpha&&bt.fillAlpha<1&&(St.style=`filter: opacity(${Math.round(bt.fillAlpha*100)}%);`)),St.addEventListener("dblclick",On(this,yx,Vy).bind(this)),$n(this,bx,St);const{isMac:At}=util_FeatureTest.platform;return xt.addEventListener("keydown",Ct=>{Ct.key==="Enter"&&(At?Ct.metaKey:Ct.ctrlKey)&&On(this,yx,Vy).call(this)}),!bt.popupRef&&this.hasPopupData?this._createPopup():St.classList.add("popupTriggerArea"),xt.append(St),xt}getElementsToTriggerPopup(){return Dt(this,bx)}addHighlightArea(){this.container.classList.add("highlightArea")}}bx=new WeakMap,yx=new WeakSet,Vy=function(){var xt;(xt=this.downloadManager)==null||xt.openOrDownloadData(this.content,this.filename)};var vx,ap,E1,Cp,Y9,zy;class AnnotationLayer{constructor({div:$,accessibilityManager:xt,annotationCanvasMap:bt,annotationEditorUIManager:St,page:At,viewport:Ct}){Nn(this,Cp);Nn(this,vx,null);Nn(this,ap,null);Nn(this,E1,new Map);this.div=$,$n(this,vx,xt),$n(this,ap,bt),this.page=At,this.viewport=Ct,this.zIndex=0,this._annotationEditorUIManager=St}async render($){var Ct;const{annotations:xt}=$,bt=this.div;setLayerDimensions(bt,this.viewport);const St=new Map,At={data:null,layer:bt,linkService:$.linkService,downloadManager:$.downloadManager,imageResourcesPath:$.imageResourcesPath||"",renderForms:$.renderForms!==!1,svgFactory:new DOMSVGFactory,annotationStorage:$.annotationStorage||new AnnotationStorage,enableScripting:$.enableScripting===!0,hasJSActions:$.hasJSActions,fieldObjects:$.fieldObjects,parent:this,elements:null};for(const Et of xt){if(Et.noHTML)continue;const Pt=Et.annotationType===AnnotationType.POPUP;if(Pt){const _t=St.get(Et.id);if(!_t)continue;At.elements=_t}else{const{width:_t,height:ht}=getRectDims(Et.rect);if(_t<=0||ht<=0)continue}At.data=Et;const wt=AnnotationElementFactory.create(At);if(!wt.isRenderable)continue;if(!Pt&&Et.popupRef){const _t=St.get(Et.popupRef);_t?_t.push(wt):St.set(Et.popupRef,[wt])}const kt=wt.render();Et.hidden&&(kt.style.visibility="hidden"),On(this,Cp,Y9).call(this,kt,Et.id),wt.annotationEditorType>0&&(Dt(this,E1).set(wt.data.id,wt),(Ct=this._annotationEditorUIManager)==null||Ct.renderAnnotationElement(wt))}On(this,Cp,zy).call(this)}update({viewport:$}){const xt=this.div;this.viewport=$,setLayerDimensions(xt,{rotation:$.rotation}),On(this,Cp,zy).call(this),xt.hidden=!1}getEditableAnnotations(){return Array.from(Dt(this,E1).values())}getEditableAnnotation($){return Dt(this,E1).get($)}}vx=new WeakMap,ap=new WeakMap,E1=new WeakMap,Cp=new WeakSet,Y9=function($,xt){var St;const bt=$.firstChild||$;bt.id=`${AnnotationPrefix}${xt}`,this.div.append($),(St=Dt(this,vx))==null||St.moveElementInDOM(this.div,$,bt,!1)},zy=function(){if(!Dt(this,ap))return;const $=this.div;for(const[xt,bt]of Dt(this,ap)){const St=$.querySelector(`[data-annotation-id="${xt}"]`);if(!St)continue;bt.className="annotationContent";const{firstChild:At}=St;At?At.nodeName==="CANVAS"?At.replaceWith(bt):At.classList.contains("annotationContent")?At.after(bt):At.before(bt):St.append(bt)}Dt(this,ap).clear()};const EOL_PATTERN=/\r\n?|\n/g;var wx,Sx,Ax,Ex,Cx,Nl,qo,kx,Ko,C1,uo,Z9,J9,Q9,d2,Bu,f2,p2,ev,Xy,tv;const to=class to extends AnnotationEditor{constructor(xt){super({...xt,name:"freeTextEditor"});Nn(this,uo);Nn(this,wx,this.editorDivBlur.bind(this));Nn(this,Sx,this.editorDivFocus.bind(this));Nn(this,Ax,this.editorDivInput.bind(this));Nn(this,Ex,this.editorDivKeydown.bind(this));Nn(this,Cx,this.editorDivPaste.bind(this));Nn(this,Nl);Nn(this,qo,"");Nn(this,kx,`${this.id}-editor`);Nn(this,Ko);Nn(this,C1,null);$n(this,Nl,xt.color||to._defaultColor||AnnotationEditor._defaultLineColor),$n(this,Ko,xt.fontSize||to._defaultFontSize)}static get _keyboardManager(){const xt=to.prototype,bt=Ct=>Ct.isEmpty(),St=AnnotationEditorUIManager.TRANSLATE_SMALL,At=AnnotationEditorUIManager.TRANSLATE_BIG;return shadow(this,"_keyboardManager",new KeyboardManager([[["ctrl+s","mac+meta+s","ctrl+p","mac+meta+p"],xt.commitOrRemove,{bubbles:!0}],[["ctrl+Enter","mac+meta+Enter","Escape","mac+Escape"],xt.commitOrRemove],[["ArrowLeft","mac+ArrowLeft"],xt._translateEmpty,{args:[-St,0],checker:bt}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],xt._translateEmpty,{args:[-At,0],checker:bt}],[["ArrowRight","mac+ArrowRight"],xt._translateEmpty,{args:[St,0],checker:bt}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],xt._translateEmpty,{args:[At,0],checker:bt}],[["ArrowUp","mac+ArrowUp"],xt._translateEmpty,{args:[0,-St],checker:bt}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],xt._translateEmpty,{args:[0,-At],checker:bt}],[["ArrowDown","mac+ArrowDown"],xt._translateEmpty,{args:[0,St],checker:bt}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],xt._translateEmpty,{args:[0,At],checker:bt}]]))}static initialize(xt,bt){AnnotationEditor.initialize(xt,bt,{strings:["pdfjs-free-text-default-content"]});const St=getComputedStyle(document.documentElement);this._internalPadding=parseFloat(St.getPropertyValue("--freetext-padding"))}static updateDefaultParams(xt,bt){switch(xt){case AnnotationEditorParamsType.FREETEXT_SIZE:to._defaultFontSize=bt;break;case AnnotationEditorParamsType.FREETEXT_COLOR:to._defaultColor=bt;break}}updateParams(xt,bt){switch(xt){case AnnotationEditorParamsType.FREETEXT_SIZE:On(this,uo,Z9).call(this,bt);break;case AnnotationEditorParamsType.FREETEXT_COLOR:On(this,uo,J9).call(this,bt);break}}static get defaultPropertiesToUpdate(){return[[AnnotationEditorParamsType.FREETEXT_SIZE,to._defaultFontSize],[AnnotationEditorParamsType.FREETEXT_COLOR,to._defaultColor||AnnotationEditor._defaultLineColor]]}get propertiesToUpdate(){return[[AnnotationEditorParamsType.FREETEXT_SIZE,Dt(this,Ko)],[AnnotationEditorParamsType.FREETEXT_COLOR,Dt(this,Nl)]]}_translateEmpty(xt,bt){this._uiManager.translateSelectedEditors(xt,bt,!0)}getInitialTranslation(){const xt=this.parentScale;return[-to._internalPadding*xt,-(to._internalPadding+Dt(this,Ko))*xt]}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.isAttachedToDOM||this.parent.add(this)))}enableEditMode(){this.isInEditMode()||(this.parent.setEditingState(!1),this.parent.updateToolbar(AnnotationEditorType.FREETEXT),super.enableEditMode(),this.overlayDiv.classList.remove("enabled"),this.editorDiv.contentEditable=!0,this._isDraggable=!1,this.div.removeAttribute("aria-activedescendant"),this.editorDiv.addEventListener("keydown",Dt(this,Ex)),this.editorDiv.addEventListener("focus",Dt(this,Sx)),this.editorDiv.addEventListener("blur",Dt(this,wx)),this.editorDiv.addEventListener("input",Dt(this,Ax)),this.editorDiv.addEventListener("paste",Dt(this,Cx)))}disableEditMode(){this.isInEditMode()&&(this.parent.setEditingState(!0),super.disableEditMode(),this.overlayDiv.classList.add("enabled"),this.editorDiv.contentEditable=!1,this.div.setAttribute("aria-activedescendant",Dt(this,kx)),this._isDraggable=!0,this.editorDiv.removeEventListener("keydown",Dt(this,Ex)),this.editorDiv.removeEventListener("focus",Dt(this,Sx)),this.editorDiv.removeEventListener("blur",Dt(this,wx)),this.editorDiv.removeEventListener("input",Dt(this,Ax)),this.editorDiv.removeEventListener("paste",Dt(this,Cx)),this.div.focus({preventScroll:!0}),this.isEditing=!1,this.parent.div.classList.add("freetextEditing"))}focusin(xt){this._focusEventsAllowed&&(super.focusin(xt),xt.target!==this.editorDiv&&this.editorDiv.focus())}onceAdded(){var xt;this.width||(this.enableEditMode(),this.editorDiv.focus(),(xt=this._initialOptions)!=null&&xt.isCentered&&this.center(),this._initialOptions=null)}isEmpty(){return!this.editorDiv||this.editorDiv.innerText.trim()===""}remove(){this.isEditing=!1,this.parent&&(this.parent.setEditingState(!0),this.parent.div.classList.add("freetextEditing")),super.remove()}commit(){if(!this.isInEditMode())return;super.commit(),this.disableEditMode();const xt=Dt(this,qo),bt=$n(this,qo,On(this,uo,Q9).call(this).trimEnd());if(xt===bt)return;const St=At=>{if($n(this,qo,At),!At){this.remove();return}On(this,uo,p2).call(this),this._uiManager.rebuild(this),On(this,uo,d2).call(this)};this.addCommands({cmd:()=>{St(bt)},undo:()=>{St(xt)},mustExec:!1}),On(this,uo,d2).call(this)}shouldGetKeyboardEvents(){return this.isInEditMode()}enterInEditMode(){this.enableEditMode(),this.editorDiv.focus()}dblclick(xt){this.enterInEditMode()}keydown(xt){xt.target===this.div&&xt.key==="Enter"&&(this.enterInEditMode(),xt.preventDefault())}editorDivKeydown(xt){to._keyboardManager.exec(this,xt)}editorDivFocus(xt){this.isEditing=!0}editorDivBlur(xt){this.isEditing=!1}editorDivInput(xt){this.parent.div.classList.toggle("freetextEditing",this.isEmpty())}disableEditing(){this.editorDiv.setAttribute("role","comment"),this.editorDiv.removeAttribute("aria-multiline")}enableEditing(){this.editorDiv.setAttribute("role","textbox"),this.editorDiv.setAttribute("aria-multiline",!0)}render(){if(this.div)return this.div;let xt,bt;this.width&&(xt=this.x,bt=this.y),super.render(),this.editorDiv=document.createElement("div"),this.editorDiv.className="internal",this.editorDiv.setAttribute("id",Dt(this,kx)),this.editorDiv.setAttribute("data-l10n-id","pdfjs-free-text"),this.enableEditing(),AnnotationEditor._l10nPromise.get("pdfjs-free-text-default-content").then(At=>{var Ct;return(Ct=this.editorDiv)==null?void 0:Ct.setAttribute("default-content",At)}),this.editorDiv.contentEditable=!0;const{style:St}=this.editorDiv;if(St.fontSize=`calc(${Dt(this,Ko)}px * var(--scale-factor))`,St.color=Dt(this,Nl),this.div.append(this.editorDiv),this.overlayDiv=document.createElement("div"),this.overlayDiv.classList.add("overlay","enabled"),this.div.append(this.overlayDiv),bindEvents(this,this.div,["dblclick","keydown"]),this.width){const[At,Ct]=this.parentDimensions;if(this.annotationElementId){const{position:Et}=Dt(this,C1);let[Pt,wt]=this.getInitialTranslation();[Pt,wt]=this.pageTranslationToScreen(Pt,wt);const[kt,_t]=this.pageDimensions,[ht,vt]=this.pageTranslation;let Ft,Vt;switch(this.rotation){case 0:Ft=xt+(Et[0]-ht)/kt,Vt=bt+this.height-(Et[1]-vt)/_t;break;case 90:Ft=xt+(Et[0]-ht)/kt,Vt=bt-(Et[1]-vt)/_t,[Pt,wt]=[wt,-Pt];break;case 180:Ft=xt-this.width+(Et[0]-ht)/kt,Vt=bt-(Et[1]-vt)/_t,[Pt,wt]=[-Pt,-wt];break;case 270:Ft=xt+(Et[0]-ht-this.height*_t)/kt,Vt=bt+(Et[1]-vt-this.width*kt)/_t,[Pt,wt]=[-wt,Pt];break}this.setAt(Ft*At,Vt*Ct,Pt,wt)}else this.setAt(xt*At,bt*Ct,this.width*At,this.height*Ct);On(this,uo,p2).call(this),this._isDraggable=!0,this.editorDiv.contentEditable=!1}else this._isDraggable=!1,this.editorDiv.contentEditable=!0;return this.div}editorDivPaste(xt){var Ft,Vt,qt;const bt=xt.clipboardData||window.clipboardData,{types:St}=bt;if(St.length===1&&St[0]==="text/plain")return;xt.preventDefault();const At=On(Ft=to,Bu,Xy).call(Ft,bt.getData("text")||"").replaceAll(EOL_PATTERN,`
`);if(!At)return;const Ct=window.getSelection();if(!Ct.rangeCount)return;this.editorDiv.normalize(),Ct.deleteFromDocument();const Et=Ct.getRangeAt(0);if(!At.includes(`
`)){Et.insertNode(document.createTextNode(At)),this.editorDiv.normalize(),Ct.collapseToStart();return}const{startContainer:Pt,startOffset:wt}=Et,kt=[],_t=[];if(Pt.nodeType===Node.TEXT_NODE){const Lt=Pt.parentElement;if(_t.push(Pt.nodeValue.slice(wt).replaceAll(EOL_PATTERN,"")),Lt!==this.editorDiv){let $t=kt;for(const Ot of this.editorDiv.childNodes){if(Ot===Lt){$t=_t;continue}$t.push(On(Vt=to,Bu,f2).call(Vt,Ot))}}kt.push(Pt.nodeValue.slice(0,wt).replaceAll(EOL_PATTERN,""))}else if(Pt===this.editorDiv){let Lt=kt,$t=0;for(const Ot of this.editorDiv.childNodes)$t++===wt&&(Lt=_t),Lt.push(On(qt=to,Bu,f2).call(qt,Ot))}$n(this,qo,`${kt.join(`
`)}${At}${_t.join(`
`)}`),On(this,uo,p2).call(this);const ht=new Range;let vt=kt.reduce((Lt,$t)=>Lt+$t.length,0);for(const{firstChild:Lt}of this.editorDiv.childNodes)if(Lt.nodeType===Node.TEXT_NODE){const $t=Lt.nodeValue.length;if(vt<=$t){ht.setStart(Lt,vt),ht.setEnd(Lt,vt);break}vt-=$t}Ct.removeAllRanges(),Ct.addRange(ht)}get contentDiv(){return this.editorDiv}static deserialize(xt,bt,St){var Et;let At=null;if(xt instanceof FreeTextAnnotationElement){const{data:{defaultAppearanceData:{fontSize:Pt,fontColor:wt},rect:kt,rotation:_t,id:ht},textContent:vt,textPosition:Ft,parent:{page:{pageNumber:Vt}}}=xt;if(!vt||vt.length===0)return null;At=xt={annotationType:AnnotationEditorType.FREETEXT,color:Array.from(wt),fontSize:Pt,value:vt.join(`
`),position:Ft,pageIndex:Vt-1,rect:kt.slice(0),rotation:_t,id:ht,deleted:!1}}const Ct=super.deserialize(xt,bt,St);return $n(Ct,Ko,xt.fontSize),$n(Ct,Nl,Util.makeHexColor(...xt.color)),$n(Ct,qo,On(Et=to,Bu,Xy).call(Et,xt.value)),Ct.annotationElementId=xt.id||null,$n(Ct,C1,At),Ct}serialize(xt=!1){if(this.isEmpty())return null;if(this.deleted)return{pageIndex:this.pageIndex,id:this.annotationElementId,deleted:!0};const bt=to._internalPadding*this.parentScale,St=this.getRect(bt,bt),At=AnnotationEditor._colorManager.convert(this.isAttachedToDOM?getComputedStyle(this.editorDiv).color:Dt(this,Nl)),Ct={annotationType:AnnotationEditorType.FREETEXT,color:At,fontSize:Dt(this,Ko),value:On(this,uo,ev).call(this),pageIndex:this.pageIndex,rect:St,rotation:this.rotation,structTreeParentId:this._structTreeParentId};return xt?Ct:this.annotationElementId&&!On(this,uo,tv).call(this,Ct)?null:(Ct.id=this.annotationElementId,Ct)}renderAnnotationElement(xt){const bt=super.renderAnnotationElement(xt);if(this.deleted)return bt;const{style:St}=bt;St.fontSize=`calc(${Dt(this,Ko)}px * var(--scale-factor))`,St.color=Dt(this,Nl),bt.replaceChildren();for(const Ct of Dt(this,qo).split(`
`)){const Et=document.createElement("div");Et.append(Ct?document.createTextNode(Ct):document.createElement("br")),bt.append(Et)}const At=to._internalPadding*this.parentScale;return xt.updateEdited({rect:this.getRect(At,At),popupContent:Dt(this,qo)}),bt}resetAnnotationElement(xt){super.resetAnnotationElement(xt),xt.resetEdited()}};wx=new WeakMap,Sx=new WeakMap,Ax=new WeakMap,Ex=new WeakMap,Cx=new WeakMap,Nl=new WeakMap,qo=new WeakMap,kx=new WeakMap,Ko=new WeakMap,C1=new WeakMap,uo=new WeakSet,Z9=function(xt){const bt=At=>{this.editorDiv.style.fontSize=`calc(${At}px * var(--scale-factor))`,this.translate(0,-(At-Dt(this,Ko))*this.parentScale),$n(this,Ko,At),On(this,uo,d2).call(this)},St=Dt(this,Ko);this.addCommands({cmd:bt.bind(this,xt),undo:bt.bind(this,St),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:AnnotationEditorParamsType.FREETEXT_SIZE,overwriteIfSameType:!0,keepUndo:!0})},J9=function(xt){const bt=At=>{$n(this,Nl,this.editorDiv.style.color=At)},St=Dt(this,Nl);this.addCommands({cmd:bt.bind(this,xt),undo:bt.bind(this,St),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:AnnotationEditorParamsType.FREETEXT_COLOR,overwriteIfSameType:!0,keepUndo:!0})},Q9=function(){var bt;const xt=[];this.editorDiv.normalize();for(const St of this.editorDiv.childNodes)xt.push(On(bt=to,Bu,f2).call(bt,St));return xt.join(`
`)},d2=function(){const[xt,bt]=this.parentDimensions;let St;if(this.isAttachedToDOM)St=this.div.getBoundingClientRect();else{const{currentLayer:At,div:Ct}=this,Et=Ct.style.display,Pt=Ct.classList.contains("hidden");Ct.classList.remove("hidden"),Ct.style.display="hidden",At.div.append(this.div),St=Ct.getBoundingClientRect(),Ct.remove(),Ct.style.display=Et,Ct.classList.toggle("hidden",Pt)}this.rotation%180===this.parentRotation%180?(this.width=St.width/xt,this.height=St.height/bt):(this.width=St.height/xt,this.height=St.width/bt),this.fixAndSetPosition()},Bu=new WeakSet,f2=function(xt){return(xt.nodeType===Node.TEXT_NODE?xt.nodeValue:xt.innerText).replaceAll(EOL_PATTERN,"")},p2=function(){if(this.editorDiv.replaceChildren(),!!Dt(this,qo))for(const xt of Dt(this,qo).split(`
`)){const bt=document.createElement("div");bt.append(xt?document.createTextNode(xt):document.createElement("br")),this.editorDiv.append(bt)}},ev=function(){return Dt(this,qo).replaceAll(""," ")},Xy=function(xt){return xt.replaceAll(" ","")},tv=function(xt){const{value:bt,fontSize:St,color:At,pageIndex:Ct}=Dt(this,C1);return this._hasBeenMoved||xt.value!==bt||xt.fontSize!==St||xt.color.some((Et,Pt)=>Et!==At[Pt])||xt.pageIndex!==Ct},Nn(to,Bu),Us(to,"_freeTextDefaultContent",""),Us(to,"_internalPadding",0),Us(to,"_defaultColor",null),Us(to,"_defaultFontSize",10),Us(to,"_type","freetext"),Us(to,"_editorType",AnnotationEditorType.FREETEXT);let FreeTextEditor=to;var Tx,o0,$l,jo,nv,g2,iv,sv,Wy;class Outliner{constructor($,xt=0,bt=0,St=!0){Nn(this,jo);Nn(this,Tx);Nn(this,o0,[]);Nn(this,$l,[]);let At=1/0,Ct=-1/0,Et=1/0,Pt=-1/0;const kt=10**-4;for(const{x:Lt,y:$t,width:Ot,height:jt}of $){const Rt=Math.floor((Lt-xt)/kt)*kt,Kt=Math.ceil((Lt+Ot+xt)/kt)*kt,Bt=Math.floor(($t-xt)/kt)*kt,Gt=Math.ceil(($t+jt+xt)/kt)*kt,en=[Rt,Bt,Gt,!0],hn=[Kt,Bt,Gt,!1];Dt(this,o0).push(en,hn),At=Math.min(At,Rt),Ct=Math.max(Ct,Kt),Et=Math.min(Et,Bt),Pt=Math.max(Pt,Gt)}const _t=Ct-At+2*bt,ht=Pt-Et+2*bt,vt=At-bt,Ft=Et-bt,Vt=Dt(this,o0).at(St?-1:-2),qt=[Vt[0],Vt[2]];for(const Lt of Dt(this,o0)){const[$t,Ot,jt]=Lt;Lt[0]=($t-vt)/_t,Lt[1]=(Ot-Ft)/ht,Lt[2]=(jt-Ft)/ht}$n(this,Tx,{x:vt,y:Ft,width:_t,height:ht,lastPoint:qt})}getOutlines(){Dt(this,o0).sort((xt,bt)=>xt[0]-bt[0]||xt[1]-bt[1]||xt[2]-bt[2]);const $=[];for(const xt of Dt(this,o0))xt[3]?($.push(...On(this,jo,Wy).call(this,xt)),On(this,jo,iv).call(this,xt)):(On(this,jo,sv).call(this,xt),$.push(...On(this,jo,Wy).call(this,xt)));return On(this,jo,nv).call(this,$)}}Tx=new WeakMap,o0=new WeakMap,$l=new WeakMap,jo=new WeakSet,nv=function($){const xt=[],bt=new Set;for(const Ct of $){const[Et,Pt,wt]=Ct;xt.push([Et,Pt,Ct],[Et,wt,Ct])}xt.sort((Ct,Et)=>Ct[1]-Et[1]||Ct[0]-Et[0]);for(let Ct=0,Et=xt.length;Ct<Et;Ct+=2){const Pt=xt[Ct][2],wt=xt[Ct+1][2];Pt.push(wt),wt.push(Pt),bt.add(Pt),bt.add(wt)}const St=[];let At;for(;bt.size>0;){const Ct=bt.values().next().value;let[Et,Pt,wt,kt,_t]=Ct;bt.delete(Ct);let ht=Et,vt=Pt;for(At=[Et,wt],St.push(At);;){let Ft;if(bt.has(kt))Ft=kt;else if(bt.has(_t))Ft=_t;else break;bt.delete(Ft),[Et,Pt,wt,kt,_t]=Ft,ht!==Et&&(At.push(ht,vt,Et,vt===Pt?Pt:wt),ht=Et),vt=vt===Pt?wt:Pt}At.push(ht,vt)}return new HighlightOutline(St,Dt(this,Tx))},g2=function($){const xt=Dt(this,$l);let bt=0,St=xt.length-1;for(;bt<=St;){const At=bt+St>>1,Ct=xt[At][0];if(Ct===$)return At;Ct<$?bt=At+1:St=At-1}return St+1},iv=function([,$,xt]){const bt=On(this,jo,g2).call(this,$);Dt(this,$l).splice(bt,0,[$,xt])},sv=function([,$,xt]){const bt=On(this,jo,g2).call(this,$);for(let St=bt;St<Dt(this,$l).length;St++){const[At,Ct]=Dt(this,$l)[St];if(At!==$)break;if(At===$&&Ct===xt){Dt(this,$l).splice(St,1);return}}for(let St=bt-1;St>=0;St--){const[At,Ct]=Dt(this,$l)[St];if(At!==$)break;if(At===$&&Ct===xt){Dt(this,$l).splice(St,1);return}}},Wy=function($){const[xt,bt,St]=$,At=[[xt,bt,St]],Ct=On(this,jo,g2).call(this,St);for(let Et=0;Et<Ct;Et++){const[Pt,wt]=Dt(this,$l)[Et];for(let kt=0,_t=At.length;kt<_t;kt++){const[,ht,vt]=At[kt];if(!(wt<=ht||vt<=Pt)){if(ht>=Pt){if(vt>wt)At[kt][1]=wt;else{if(_t===1)return[];At.splice(kt,1),kt--,_t--}continue}At[kt][2]=Pt,vt>wt&&At.push([xt,wt,vt])}}}return At};class Outline{toSVGPath(){throw new Error("Abstract method `toSVGPath` must be implemented.")}get box(){throw new Error("Abstract getter `box` must be implemented.")}serialize($,xt){throw new Error("Abstract method `serialize` must be implemented.")}get free(){return this instanceof FreeHighlightOutline}}var Px,k1;class HighlightOutline extends Outline{constructor(xt,bt){super();Nn(this,Px);Nn(this,k1);$n(this,k1,xt),$n(this,Px,bt)}toSVGPath(){const xt=[];for(const bt of Dt(this,k1)){let[St,At]=bt;xt.push(`M${St} ${At}`);for(let Ct=2;Ct<bt.length;Ct+=2){const Et=bt[Ct],Pt=bt[Ct+1];Et===St?(xt.push(`V${Pt}`),At=Pt):Pt===At&&(xt.push(`H${Et}`),St=Et)}xt.push("Z")}return xt.join(" ")}serialize([xt,bt,St,At],Ct){const Et=[],Pt=St-xt,wt=At-bt;for(const kt of Dt(this,k1)){const _t=new Array(kt.length);for(let ht=0;ht<kt.length;ht+=2)_t[ht]=xt+kt[ht]*Pt,_t[ht+1]=At-kt[ht+1]*wt;Et.push(_t)}return Et}get box(){return Dt(this,Px)}}Px=new WeakMap,k1=new WeakMap;var eu,Mu,T1,P1,tu,jr,op,lp,Rx,Fx,R1,F1,l0,_x,sy,ry,Mx,Gy;const fu=class fu{constructor({x:$,y:xt},bt,St,At,Ct,Et=0){Nn(this,Mx);Nn(this,eu);Nn(this,Mu,[]);Nn(this,T1);Nn(this,P1);Nn(this,tu,[]);Nn(this,jr,new Float64Array(18));Nn(this,op);Nn(this,lp);Nn(this,Rx);Nn(this,Fx);Nn(this,R1);Nn(this,F1);Nn(this,l0,[]);$n(this,eu,bt),$n(this,F1,At*St),$n(this,P1,Ct),Dt(this,jr).set([NaN,NaN,NaN,NaN,$,xt],6),$n(this,T1,Et),$n(this,Fx,Dt(fu,_x)*St),$n(this,Rx,Dt(fu,ry)*St),$n(this,R1,St),Dt(this,l0).push($,xt)}get free(){return!0}isEmpty(){return isNaN(Dt(this,jr)[8])}add({x:$,y:xt}){var en;$n(this,op,$),$n(this,lp,xt);const[bt,St,At,Ct]=Dt(this,eu);let[Et,Pt,wt,kt]=Dt(this,jr).subarray(8,12);const _t=$-wt,ht=xt-kt,vt=Math.hypot(_t,ht);if(vt<Dt(this,Rx))return!1;const Ft=vt-Dt(this,Fx),Vt=Ft/vt,qt=Vt*_t,Lt=Vt*ht;let $t=Et,Ot=Pt;Et=wt,Pt=kt,wt+=qt,kt+=Lt,(en=Dt(this,l0))==null||en.push($,xt);const jt=-Lt/Ft,Rt=qt/Ft,Kt=jt*Dt(this,F1),Bt=Rt*Dt(this,F1);return Dt(this,jr).set(Dt(this,jr).subarray(2,8),0),Dt(this,jr).set([wt+Kt,kt+Bt],4),Dt(this,jr).set(Dt(this,jr).subarray(14,18),12),Dt(this,jr).set([wt-Kt,kt-Bt],16),isNaN(Dt(this,jr)[6])?(Dt(this,tu).length===0&&(Dt(this,jr).set([Et+Kt,Pt+Bt],2),Dt(this,tu).push(NaN,NaN,NaN,NaN,(Et+Kt-bt)/At,(Pt+Bt-St)/Ct),Dt(this,jr).set([Et-Kt,Pt-Bt],14),Dt(this,Mu).push(NaN,NaN,NaN,NaN,(Et-Kt-bt)/At,(Pt-Bt-St)/Ct)),Dt(this,jr).set([$t,Ot,Et,Pt,wt,kt],6),!this.isEmpty()):(Dt(this,jr).set([$t,Ot,Et,Pt,wt,kt],6),Math.abs(Math.atan2(Ot-Pt,$t-Et)-Math.atan2(Lt,qt))<Math.PI/2?([Et,Pt,wt,kt]=Dt(this,jr).subarray(2,6),Dt(this,tu).push(NaN,NaN,NaN,NaN,((Et+wt)/2-bt)/At,((Pt+kt)/2-St)/Ct),[Et,Pt,$t,Ot]=Dt(this,jr).subarray(14,18),Dt(this,Mu).push(NaN,NaN,NaN,NaN,(($t+Et)/2-bt)/At,((Ot+Pt)/2-St)/Ct),!0):([$t,Ot,Et,Pt,wt,kt]=Dt(this,jr).subarray(0,6),Dt(this,tu).push((($t+5*Et)/6-bt)/At,((Ot+5*Pt)/6-St)/Ct,((5*Et+wt)/6-bt)/At,((5*Pt+kt)/6-St)/Ct,((Et+wt)/2-bt)/At,((Pt+kt)/2-St)/Ct),[wt,kt,Et,Pt,$t,Ot]=Dt(this,jr).subarray(12,18),Dt(this,Mu).push((($t+5*Et)/6-bt)/At,((Ot+5*Pt)/6-St)/Ct,((5*Et+wt)/6-bt)/At,((5*Pt+kt)/6-St)/Ct,((Et+wt)/2-bt)/At,((Pt+kt)/2-St)/Ct),!0))}toSVGPath(){if(this.isEmpty())return"";const $=Dt(this,tu),xt=Dt(this,Mu),bt=Dt(this,jr).subarray(4,6),St=Dt(this,jr).subarray(16,18),[At,Ct,Et,Pt]=Dt(this,eu),[wt,kt,_t,ht]=On(this,Mx,Gy).call(this);if(isNaN(Dt(this,jr)[6])&&!this.isEmpty())return`M${(Dt(this,jr)[2]-At)/Et} ${(Dt(this,jr)[3]-Ct)/Pt} L${(Dt(this,jr)[4]-At)/Et} ${(Dt(this,jr)[5]-Ct)/Pt} L${wt} ${kt} L${_t} ${ht} L${(Dt(this,jr)[16]-At)/Et} ${(Dt(this,jr)[17]-Ct)/Pt} L${(Dt(this,jr)[14]-At)/Et} ${(Dt(this,jr)[15]-Ct)/Pt} Z`;const vt=[];vt.push(`M${$[4]} ${$[5]}`);for(let Ft=6;Ft<$.length;Ft+=6)isNaN($[Ft])?vt.push(`L${$[Ft+4]} ${$[Ft+5]}`):vt.push(`C${$[Ft]} ${$[Ft+1]} ${$[Ft+2]} ${$[Ft+3]} ${$[Ft+4]} ${$[Ft+5]}`);vt.push(`L${(bt[0]-At)/Et} ${(bt[1]-Ct)/Pt} L${wt} ${kt} L${_t} ${ht} L${(St[0]-At)/Et} ${(St[1]-Ct)/Pt}`);for(let Ft=xt.length-6;Ft>=6;Ft-=6)isNaN(xt[Ft])?vt.push(`L${xt[Ft+4]} ${xt[Ft+5]}`):vt.push(`C${xt[Ft]} ${xt[Ft+1]} ${xt[Ft+2]} ${xt[Ft+3]} ${xt[Ft+4]} ${xt[Ft+5]}`);return vt.push(`L${xt[4]} ${xt[5]} Z`),vt.join(" ")}getOutlines(){var Lt;const $=Dt(this,tu),xt=Dt(this,Mu),bt=Dt(this,jr),St=bt.subarray(4,6),At=bt.subarray(16,18),[Ct,Et,Pt,wt]=Dt(this,eu),kt=new Float64Array((((Lt=Dt(this,l0))==null?void 0:Lt.length)??0)+2);for(let $t=0,Ot=kt.length-2;$t<Ot;$t+=2)kt[$t]=(Dt(this,l0)[$t]-Ct)/Pt,kt[$t+1]=(Dt(this,l0)[$t+1]-Et)/wt;kt[kt.length-2]=(Dt(this,op)-Ct)/Pt,kt[kt.length-1]=(Dt(this,lp)-Et)/wt;const[_t,ht,vt,Ft]=On(this,Mx,Gy).call(this);if(isNaN(bt[6])&&!this.isEmpty()){const $t=new Float64Array(36);return $t.set([NaN,NaN,NaN,NaN,(bt[2]-Ct)/Pt,(bt[3]-Et)/wt,NaN,NaN,NaN,NaN,(bt[4]-Ct)/Pt,(bt[5]-Et)/wt,NaN,NaN,NaN,NaN,_t,ht,NaN,NaN,NaN,NaN,vt,Ft,NaN,NaN,NaN,NaN,(bt[16]-Ct)/Pt,(bt[17]-Et)/wt,NaN,NaN,NaN,NaN,(bt[14]-Ct)/Pt,(bt[15]-Et)/wt],0),new FreeHighlightOutline($t,kt,Dt(this,eu),Dt(this,R1),Dt(this,T1),Dt(this,P1))}const Vt=new Float64Array(Dt(this,tu).length+24+Dt(this,Mu).length);let qt=$.length;for(let $t=0;$t<qt;$t+=2){if(isNaN($[$t])){Vt[$t]=Vt[$t+1]=NaN;continue}Vt[$t]=$[$t],Vt[$t+1]=$[$t+1]}Vt.set([NaN,NaN,NaN,NaN,(St[0]-Ct)/Pt,(St[1]-Et)/wt,NaN,NaN,NaN,NaN,_t,ht,NaN,NaN,NaN,NaN,vt,Ft,NaN,NaN,NaN,NaN,(At[0]-Ct)/Pt,(At[1]-Et)/wt],qt),qt+=24;for(let $t=xt.length-6;$t>=6;$t-=6)for(let Ot=0;Ot<6;Ot+=2){if(isNaN(xt[$t+Ot])){Vt[qt]=Vt[qt+1]=NaN,qt+=2;continue}Vt[qt]=xt[$t+Ot],Vt[qt+1]=xt[$t+Ot+1],qt+=2}return Vt.set([NaN,NaN,NaN,NaN,xt[4],xt[5]],qt),new FreeHighlightOutline(Vt,kt,Dt(this,eu),Dt(this,R1),Dt(this,T1),Dt(this,P1))}};eu=new WeakMap,Mu=new WeakMap,T1=new WeakMap,P1=new WeakMap,tu=new WeakMap,jr=new WeakMap,op=new WeakMap,lp=new WeakMap,Rx=new WeakMap,Fx=new WeakMap,R1=new WeakMap,F1=new WeakMap,l0=new WeakMap,_x=new WeakMap,sy=new WeakMap,ry=new WeakMap,Mx=new WeakSet,Gy=function(){const $=Dt(this,jr).subarray(4,6),xt=Dt(this,jr).subarray(16,18),[bt,St,At,Ct]=Dt(this,eu);return[(Dt(this,op)+($[0]-xt[0])/2-bt)/At,(Dt(this,lp)+($[1]-xt[1])/2-St)/Ct,(Dt(this,op)+(xt[0]-$[0])/2-bt)/At,(Dt(this,lp)+(xt[1]-$[1])/2-St)/Ct]},Nn(fu,_x,8),Nn(fu,sy,2),Nn(fu,ry,Dt(fu,_x)+Dt(fu,sy));let FreeOutliner=fu;var _1,cp,Iu,Ix,Yo,Ox,oo,Vo,tm,nm,rv;class FreeHighlightOutline extends Outline{constructor(xt,bt,St,At,Ct,Et){super();Nn(this,Vo);Nn(this,_1);Nn(this,cp,null);Nn(this,Iu);Nn(this,Ix);Nn(this,Yo);Nn(this,Ox);Nn(this,oo);$n(this,oo,xt),$n(this,Yo,bt),$n(this,_1,St),$n(this,Ox,At),$n(this,Iu,Ct),$n(this,Ix,Et),On(this,Vo,rv).call(this,Et);const{x:Pt,y:wt,width:kt,height:_t}=Dt(this,cp);for(let ht=0,vt=xt.length;ht<vt;ht+=2)xt[ht]=(xt[ht]-Pt)/kt,xt[ht+1]=(xt[ht+1]-wt)/_t;for(let ht=0,vt=bt.length;ht<vt;ht+=2)bt[ht]=(bt[ht]-Pt)/kt,bt[ht+1]=(bt[ht+1]-wt)/_t}toSVGPath(){const xt=[`M${Dt(this,oo)[4]} ${Dt(this,oo)[5]}`];for(let bt=6,St=Dt(this,oo).length;bt<St;bt+=6){if(isNaN(Dt(this,oo)[bt])){xt.push(`L${Dt(this,oo)[bt+4]} ${Dt(this,oo)[bt+5]}`);continue}xt.push(`C${Dt(this,oo)[bt]} ${Dt(this,oo)[bt+1]} ${Dt(this,oo)[bt+2]} ${Dt(this,oo)[bt+3]} ${Dt(this,oo)[bt+4]} ${Dt(this,oo)[bt+5]}`)}return xt.push("Z"),xt.join(" ")}serialize([xt,bt,St,At],Ct){const Et=St-xt,Pt=At-bt;let wt,kt;switch(Ct){case 0:wt=On(this,Vo,tm).call(this,Dt(this,oo),xt,At,Et,-Pt),kt=On(this,Vo,tm).call(this,Dt(this,Yo),xt,At,Et,-Pt);break;case 90:wt=On(this,Vo,nm).call(this,Dt(this,oo),xt,bt,Et,Pt),kt=On(this,Vo,nm).call(this,Dt(this,Yo),xt,bt,Et,Pt);break;case 180:wt=On(this,Vo,tm).call(this,Dt(this,oo),St,bt,-Et,Pt),kt=On(this,Vo,tm).call(this,Dt(this,Yo),St,bt,-Et,Pt);break;case 270:wt=On(this,Vo,nm).call(this,Dt(this,oo),St,At,-Et,-Pt),kt=On(this,Vo,nm).call(this,Dt(this,Yo),St,At,-Et,-Pt);break}return{outline:Array.from(wt),points:[Array.from(kt)]}}get box(){return Dt(this,cp)}getNewOutline(xt,bt){const{x:St,y:At,width:Ct,height:Et}=Dt(this,cp),[Pt,wt,kt,_t]=Dt(this,_1),ht=Ct*kt,vt=Et*_t,Ft=St*kt+Pt,Vt=At*_t+wt,qt=new FreeOutliner({x:Dt(this,Yo)[0]*ht+Ft,y:Dt(this,Yo)[1]*vt+Vt},Dt(this,_1),Dt(this,Ox),xt,Dt(this,Ix),bt??Dt(this,Iu));for(let Lt=2;Lt<Dt(this,Yo).length;Lt+=2)qt.add({x:Dt(this,Yo)[Lt]*ht+Ft,y:Dt(this,Yo)[Lt+1]*vt+Vt});return qt.getOutlines()}}_1=new WeakMap,cp=new WeakMap,Iu=new WeakMap,Ix=new WeakMap,Yo=new WeakMap,Ox=new WeakMap,oo=new WeakMap,Vo=new WeakSet,tm=function(xt,bt,St,At,Ct){const Et=new Float64Array(xt.length);for(let Pt=0,wt=xt.length;Pt<wt;Pt+=2)Et[Pt]=bt+xt[Pt]*At,Et[Pt+1]=St+xt[Pt+1]*Ct;return Et},nm=function(xt,bt,St,At,Ct){const Et=new Float64Array(xt.length);for(let Pt=0,wt=xt.length;Pt<wt;Pt+=2)Et[Pt]=bt+xt[Pt+1]*At,Et[Pt+1]=St+xt[Pt]*Ct;return Et},rv=function(xt){const bt=Dt(this,oo);let St=bt[4],At=bt[5],Ct=St,Et=At,Pt=St,wt=At,kt=St,_t=At;const ht=xt?Math.max:Math.min;for(let Lt=6,$t=bt.length;Lt<$t;Lt+=6){if(isNaN(bt[Lt]))Ct=Math.min(Ct,bt[Lt+4]),Et=Math.min(Et,bt[Lt+5]),Pt=Math.max(Pt,bt[Lt+4]),wt=Math.max(wt,bt[Lt+5]),_t<bt[Lt+5]?(kt=bt[Lt+4],_t=bt[Lt+5]):_t===bt[Lt+5]&&(kt=ht(kt,bt[Lt+4]));else{const Ot=Util.bezierBoundingBox(St,At,...bt.slice(Lt,Lt+6));Ct=Math.min(Ct,Ot[0]),Et=Math.min(Et,Ot[1]),Pt=Math.max(Pt,Ot[2]),wt=Math.max(wt,Ot[3]),_t<Ot[3]?(kt=Ot[2],_t=Ot[3]):_t===Ot[3]&&(kt=ht(kt,Ot[2]))}St=bt[Lt+4],At=bt[Lt+5]}const vt=Ct-Dt(this,Iu),Ft=Et-Dt(this,Iu),Vt=Pt-Ct+2*Dt(this,Iu),qt=wt-Et+2*Dt(this,Iu);$n(this,cp,{x:vt,y:Ft,width:Vt,height:qt,lastPoint:[kt,_t]})};var Dx,Lx,Bl,up,M1,po,Nx,I1,$x,jx,c0,O1,$a,qy,Ky,av,P0,ov,Yu;const pu=class pu{constructor({editor:$=null,uiManager:xt=null}){Nn(this,$a);Nn(this,Dx,On(this,$a,av).bind(this));Nn(this,Lx,On(this,$a,ov).bind(this));Nn(this,Bl,null);Nn(this,up,null);Nn(this,M1);Nn(this,po,null);Nn(this,Nx,!1);Nn(this,I1,!1);Nn(this,$x,null);Nn(this,jx);Nn(this,c0,null);Nn(this,O1);var bt;$?($n(this,I1,!1),$n(this,O1,AnnotationEditorParamsType.HIGHLIGHT_COLOR),$n(this,$x,$)):($n(this,I1,!0),$n(this,O1,AnnotationEditorParamsType.HIGHLIGHT_DEFAULT_COLOR)),$n(this,c0,($==null?void 0:$._uiManager)||xt),$n(this,jx,Dt(this,c0)._eventBus),$n(this,M1,($==null?void 0:$.color)||((bt=Dt(this,c0))==null?void 0:bt.highlightColors.values().next().value)||"#FFFF98")}static get _keyboardManager(){return shadow(this,"_keyboardManager",new KeyboardManager([[["Escape","mac+Escape"],pu.prototype._hideDropdownFromKeyboard],[[" ","mac+ "],pu.prototype._colorSelectFromKeyboard],[["ArrowDown","ArrowRight","mac+ArrowDown","mac+ArrowRight"],pu.prototype._moveToNext],[["ArrowUp","ArrowLeft","mac+ArrowUp","mac+ArrowLeft"],pu.prototype._moveToPrevious],[["Home","mac+Home"],pu.prototype._moveToBeginning],[["End","mac+End"],pu.prototype._moveToEnd]]))}renderButton(){const $=$n(this,Bl,document.createElement("button"));$.className="colorPicker",$.tabIndex="0",$.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-button"),$.setAttribute("aria-haspopup",!0),$.addEventListener("click",On(this,$a,P0).bind(this)),$.addEventListener("keydown",Dt(this,Dx));const xt=$n(this,up,document.createElement("span"));return xt.className="swatch",xt.setAttribute("aria-hidden",!0),xt.style.backgroundColor=Dt(this,M1),$.append(xt),$}renderMainDropdown(){const $=$n(this,po,On(this,$a,qy).call(this));return $.setAttribute("aria-orientation","horizontal"),$.setAttribute("aria-labelledby","highlightColorPickerLabel"),$}_colorSelectFromKeyboard($){if($.target===Dt(this,Bl)){On(this,$a,P0).call(this,$);return}const xt=$.target.getAttribute("data-color");xt&&On(this,$a,Ky).call(this,xt,$)}_moveToNext($){var xt,bt;if(!Dt(this,$a,Yu)){On(this,$a,P0).call(this,$);return}if($.target===Dt(this,Bl)){(xt=Dt(this,po).firstChild)==null||xt.focus();return}(bt=$.target.nextSibling)==null||bt.focus()}_moveToPrevious($){var xt,bt;if($.target===((xt=Dt(this,po))==null?void 0:xt.firstChild)||$.target===Dt(this,Bl)){Dt(this,$a,Yu)&&this._hideDropdownFromKeyboard();return}Dt(this,$a,Yu)||On(this,$a,P0).call(this,$),(bt=$.target.previousSibling)==null||bt.focus()}_moveToBeginning($){var xt;if(!Dt(this,$a,Yu)){On(this,$a,P0).call(this,$);return}(xt=Dt(this,po).firstChild)==null||xt.focus()}_moveToEnd($){var xt;if(!Dt(this,$a,Yu)){On(this,$a,P0).call(this,$);return}(xt=Dt(this,po).lastChild)==null||xt.focus()}hideDropdown(){var $;($=Dt(this,po))==null||$.classList.add("hidden"),window.removeEventListener("pointerdown",Dt(this,Lx))}_hideDropdownFromKeyboard(){var $;if(!Dt(this,I1)){if(!Dt(this,$a,Yu)){($=Dt(this,$x))==null||$.unselect();return}this.hideDropdown(),Dt(this,Bl).focus({preventScroll:!0,focusVisible:Dt(this,Nx)})}}updateColor($){if(Dt(this,up)&&(Dt(this,up).style.backgroundColor=$),!Dt(this,po))return;const xt=Dt(this,c0).highlightColors.values();for(const bt of Dt(this,po).children)bt.setAttribute("aria-selected",xt.next().value===$)}destroy(){var $,xt;($=Dt(this,Bl))==null||$.remove(),$n(this,Bl,null),$n(this,up,null),(xt=Dt(this,po))==null||xt.remove(),$n(this,po,null)}};Dx=new WeakMap,Lx=new WeakMap,Bl=new WeakMap,up=new WeakMap,M1=new WeakMap,po=new WeakMap,Nx=new WeakMap,I1=new WeakMap,$x=new WeakMap,jx=new WeakMap,c0=new WeakMap,O1=new WeakMap,$a=new WeakSet,qy=function(){const $=document.createElement("div");$.addEventListener("contextmenu",noContextMenu),$.className="dropdown",$.role="listbox",$.setAttribute("aria-multiselectable",!1),$.setAttribute("aria-orientation","vertical"),$.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-dropdown");for(const[xt,bt]of Dt(this,c0).highlightColors){const St=document.createElement("button");St.tabIndex="0",St.role="option",St.setAttribute("data-color",bt),St.title=xt,St.setAttribute("data-l10n-id",`pdfjs-editor-colorpicker-${xt}`);const At=document.createElement("span");St.append(At),At.className="swatch",At.style.backgroundColor=bt,St.setAttribute("aria-selected",bt===Dt(this,M1)),St.addEventListener("click",On(this,$a,Ky).bind(this,bt)),$.append(St)}return $.addEventListener("keydown",Dt(this,Dx)),$},Ky=function($,xt){xt.stopPropagation(),Dt(this,jx).dispatch("switchannotationeditorparams",{source:this,type:Dt(this,O1),value:$})},av=function($){pu._keyboardManager.exec(this,$)},P0=function($){if(Dt(this,$a,Yu)){this.hideDropdown();return}if($n(this,Nx,$.detail===0),window.addEventListener("pointerdown",Dt(this,Lx)),Dt(this,po)){Dt(this,po).classList.remove("hidden");return}const xt=$n(this,po,On(this,$a,qy).call(this));Dt(this,Bl).append(xt)},ov=function($){var xt;(xt=Dt(this,po))!=null&&xt.contains($.target)||this.hideDropdown()},Yu=function(){return Dt(this,po)&&!Dt(this,po).classList.contains("hidden")};let ColorPicker=pu;var D1,Bx,u0,hp,L1,Sl,Ux,Hx,dp,Ul,Lo,Zo,ay,N1,fp,go,$1,nu,Vx,Lr,Yy,Zy,lv,cv,uv,Jy,im,Cl,jp,hv,m2,sm,dv,fv,pv,gv;const Xr=class Xr extends AnnotationEditor{constructor(xt){super({...xt,name:"highlightEditor"});Nn(this,Lr);Nn(this,D1,null);Nn(this,Bx,0);Nn(this,u0);Nn(this,hp,null);Nn(this,L1,null);Nn(this,Sl,null);Nn(this,Ux,null);Nn(this,Hx,0);Nn(this,dp,null);Nn(this,Ul,null);Nn(this,Lo,null);Nn(this,Zo,!1);Nn(this,ay,On(this,Lr,hv).bind(this));Nn(this,N1,null);Nn(this,fp);Nn(this,go,null);Nn(this,$1,"");Nn(this,nu);Nn(this,Vx,"");this.color=xt.color||Xr._defaultColor,$n(this,nu,xt.thickness||Xr._defaultThickness),$n(this,fp,xt.opacity||Xr._defaultOpacity),$n(this,u0,xt.boxes||null),$n(this,Vx,xt.methodOfCreation||""),$n(this,$1,xt.text||""),this._isDraggable=!1,xt.highlightId>-1?($n(this,Zo,!0),On(this,Lr,Zy).call(this,xt),On(this,Lr,im).call(this)):($n(this,D1,xt.anchorNode),$n(this,Bx,xt.anchorOffset),$n(this,Ux,xt.focusNode),$n(this,Hx,xt.focusOffset),On(this,Lr,Yy).call(this),On(this,Lr,im).call(this),this.rotate(this.rotation))}static get _keyboardManager(){const xt=Xr.prototype;return shadow(this,"_keyboardManager",new KeyboardManager([[["ArrowLeft","mac+ArrowLeft"],xt._moveCaret,{args:[0]}],[["ArrowRight","mac+ArrowRight"],xt._moveCaret,{args:[1]}],[["ArrowUp","mac+ArrowUp"],xt._moveCaret,{args:[2]}],[["ArrowDown","mac+ArrowDown"],xt._moveCaret,{args:[3]}]]))}get telemetryInitialData(){return{action:"added",type:Dt(this,Zo)?"free_highlight":"highlight",color:this._uiManager.highlightColorNames.get(this.color),thickness:Dt(this,nu),methodOfCreation:Dt(this,Vx)}}get telemetryFinalData(){return{type:"highlight",color:this._uiManager.highlightColorNames.get(this.color)}}static computeTelemetryFinalData(xt){return{numberOfColors:xt.get("color").size}}static initialize(xt,bt){var St;AnnotationEditor.initialize(xt,bt),Xr._defaultColor||(Xr._defaultColor=((St=bt.highlightColors)==null?void 0:St.values().next().value)||"#fff066")}static updateDefaultParams(xt,bt){switch(xt){case AnnotationEditorParamsType.HIGHLIGHT_DEFAULT_COLOR:Xr._defaultColor=bt;break;case AnnotationEditorParamsType.HIGHLIGHT_THICKNESS:Xr._defaultThickness=bt;break}}translateInPage(xt,bt){}get toolbarPosition(){return Dt(this,N1)}updateParams(xt,bt){switch(xt){case AnnotationEditorParamsType.HIGHLIGHT_COLOR:On(this,Lr,lv).call(this,bt);break;case AnnotationEditorParamsType.HIGHLIGHT_THICKNESS:On(this,Lr,cv).call(this,bt);break}}static get defaultPropertiesToUpdate(){return[[AnnotationEditorParamsType.HIGHLIGHT_DEFAULT_COLOR,Xr._defaultColor],[AnnotationEditorParamsType.HIGHLIGHT_THICKNESS,Xr._defaultThickness]]}get propertiesToUpdate(){return[[AnnotationEditorParamsType.HIGHLIGHT_COLOR,this.color||Xr._defaultColor],[AnnotationEditorParamsType.HIGHLIGHT_THICKNESS,Dt(this,nu)||Xr._defaultThickness],[AnnotationEditorParamsType.HIGHLIGHT_FREE,Dt(this,Zo)]]}async addEditToolbar(){const xt=await super.addEditToolbar();return xt?(this._uiManager.highlightColors&&($n(this,L1,new ColorPicker({editor:this})),xt.addColorPicker(Dt(this,L1))),xt):null}disableEditing(){super.disableEditing(),this.div.classList.toggle("disabled",!0)}enableEditing(){super.enableEditing(),this.div.classList.toggle("disabled",!1)}fixAndSetPosition(){return super.fixAndSetPosition(On(this,Lr,sm).call(this))}getBaseTranslation(){return[0,0]}getRect(xt,bt){return super.getRect(xt,bt,On(this,Lr,sm).call(this))}onceAdded(){this.parent.addUndoableEditor(this),this.div.focus()}remove(){On(this,Lr,Jy).call(this),this._reportTelemetry({action:"deleted"}),super.remove()}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(On(this,Lr,im).call(this),this.isAttachedToDOM||this.parent.add(this)))}setParent(xt){var St;let bt=!1;this.parent&&!xt?On(this,Lr,Jy).call(this):xt&&(On(this,Lr,im).call(this,xt),bt=!this.parent&&((St=this.div)==null?void 0:St.classList.contains("selectedEditor"))),super.setParent(xt),this.show(this._isVisible),bt&&this.select()}rotate(xt){var At,Ct,Et;const{drawLayer:bt}=this.parent;let St;Dt(this,Zo)?(xt=(xt-this.rotation+360)%360,St=On(At=Xr,Cl,jp).call(At,Dt(this,Ul).box,xt)):St=On(Ct=Xr,Cl,jp).call(Ct,this,xt),bt.rotate(Dt(this,Lo),xt),bt.rotate(Dt(this,go),xt),bt.updateBox(Dt(this,Lo),St),bt.updateBox(Dt(this,go),On(Et=Xr,Cl,jp).call(Et,Dt(this,Sl).box,xt))}render(){if(this.div)return this.div;const xt=super.render();Dt(this,$1)&&(xt.setAttribute("aria-label",Dt(this,$1)),xt.setAttribute("role","mark")),Dt(this,Zo)?xt.classList.add("free"):this.div.addEventListener("keydown",Dt(this,ay));const bt=$n(this,dp,document.createElement("div"));xt.append(bt),bt.setAttribute("aria-hidden","true"),bt.className="internal",bt.style.clipPath=Dt(this,hp);const[St,At]=this.parentDimensions;return this.setDims(this.width*St,this.height*At),bindEvents(this,Dt(this,dp),["pointerover","pointerleave"]),this.enableEditing(),xt}pointerover(){this.parent.drawLayer.addClass(Dt(this,go),"hovered")}pointerleave(){this.parent.drawLayer.removeClass(Dt(this,go),"hovered")}_moveCaret(xt){switch(this.parent.unselect(this),xt){case 0:case 2:On(this,Lr,m2).call(this,!0);break;case 1:case 3:On(this,Lr,m2).call(this,!1);break}}select(){var xt,bt;super.select(),Dt(this,go)&&((xt=this.parent)==null||xt.drawLayer.removeClass(Dt(this,go),"hovered"),(bt=this.parent)==null||bt.drawLayer.addClass(Dt(this,go),"selected"))}unselect(){var xt;super.unselect(),Dt(this,go)&&((xt=this.parent)==null||xt.drawLayer.removeClass(Dt(this,go),"selected"),Dt(this,Zo)||On(this,Lr,m2).call(this,!1))}get _mustFixPosition(){return!Dt(this,Zo)}show(xt=this._isVisible){super.show(xt),this.parent&&(this.parent.drawLayer.show(Dt(this,Lo),xt),this.parent.drawLayer.show(Dt(this,go),xt))}static startHighlighting(xt,bt,{target:St,x:At,y:Ct}){const{x:Et,y:Pt,width:wt,height:kt}=St.getBoundingClientRect(),_t=Vt=>{On(this,Cl,pv).call(this,xt,Vt)},ht={capture:!0,passive:!1},vt=Vt=>{Vt.preventDefault(),Vt.stopPropagation()},Ft=Vt=>{St.removeEventListener("pointermove",_t),window.removeEventListener("blur",Ft),window.removeEventListener("pointerup",Ft),window.removeEventListener("pointerdown",vt,ht),window.removeEventListener("contextmenu",noContextMenu),On(this,Cl,gv).call(this,xt,Vt)};window.addEventListener("blur",Ft),window.addEventListener("pointerup",Ft),window.addEventListener("pointerdown",vt,ht),window.addEventListener("contextmenu",noContextMenu),St.addEventListener("pointermove",_t),this._freeHighlight=new FreeOutliner({x:At,y:Ct},[Et,Pt,wt,kt],xt.scale,this._defaultThickness/2,bt,.001),{id:this._freeHighlightId,clipPathId:this._freeHighlightClipId}=xt.drawLayer.highlight(this._freeHighlight,this._defaultColor,this._defaultOpacity,!0)}static deserialize(xt,bt,St){var Vt;const At=super.deserialize(xt,bt,St),{rect:[Ct,Et,Pt,wt],color:kt,quadPoints:_t}=xt;At.color=Util.makeHexColor(...kt),$n(At,fp,xt.opacity);const[ht,vt]=At.pageDimensions;At.width=(Pt-Ct)/ht,At.height=(wt-Et)/vt;const Ft=$n(At,u0,[]);for(let qt=0;qt<_t.length;qt+=8)Ft.push({x:(_t[4]-Pt)/ht,y:(wt-(1-_t[qt+5]))/vt,width:(_t[qt+2]-_t[qt])/ht,height:(_t[qt+5]-_t[qt+1])/vt});return On(Vt=At,Lr,Yy).call(Vt),At}serialize(xt=!1){if(this.isEmpty()||xt)return null;const bt=this.getRect(0,0),St=AnnotationEditor._colorManager.convert(this.color);return{annotationType:AnnotationEditorType.HIGHLIGHT,color:St,opacity:Dt(this,fp),thickness:Dt(this,nu),quadPoints:On(this,Lr,dv).call(this),outlines:On(this,Lr,fv).call(this,bt),pageIndex:this.pageIndex,rect:bt,rotation:On(this,Lr,sm).call(this),structTreeParentId:this._structTreeParentId}}static canCreateNewEmptyEditor(){return!1}};D1=new WeakMap,Bx=new WeakMap,u0=new WeakMap,hp=new WeakMap,L1=new WeakMap,Sl=new WeakMap,Ux=new WeakMap,Hx=new WeakMap,dp=new WeakMap,Ul=new WeakMap,Lo=new WeakMap,Zo=new WeakMap,ay=new WeakMap,N1=new WeakMap,fp=new WeakMap,go=new WeakMap,$1=new WeakMap,nu=new WeakMap,Vx=new WeakMap,Lr=new WeakSet,Yy=function(){const xt=new Outliner(Dt(this,u0),.001);$n(this,Ul,xt.getOutlines()),{x:this.x,y:this.y,width:this.width,height:this.height}=Dt(this,Ul).box;const bt=new Outliner(Dt(this,u0),.0025,.001,this._uiManager.direction==="ltr");$n(this,Sl,bt.getOutlines());const{lastPoint:St}=Dt(this,Sl).box;$n(this,N1,[(St[0]-this.x)/this.width,(St[1]-this.y)/this.height])},Zy=function({highlightOutlines:xt,highlightId:bt,clipPathId:St}){var _t,ht;if($n(this,Ul,xt),$n(this,Sl,xt.getNewOutline(Dt(this,nu)/2+1.5,.0025)),bt>=0)$n(this,Lo,bt),$n(this,hp,St),this.parent.drawLayer.finalizeLine(bt,xt),$n(this,go,this.parent.drawLayer.highlightOutline(Dt(this,Sl)));else if(this.parent){const vt=this.parent.viewport.rotation;this.parent.drawLayer.updateLine(Dt(this,Lo),xt),this.parent.drawLayer.updateBox(Dt(this,Lo),On(_t=Xr,Cl,jp).call(_t,Dt(this,Ul).box,(vt-this.rotation+360)%360)),this.parent.drawLayer.updateLine(Dt(this,go),Dt(this,Sl)),this.parent.drawLayer.updateBox(Dt(this,go),On(ht=Xr,Cl,jp).call(ht,Dt(this,Sl).box,vt))}const{x:Ct,y:Et,width:Pt,height:wt}=xt.box;switch(this.rotation){case 0:this.x=Ct,this.y=Et,this.width=Pt,this.height=wt;break;case 90:{const[vt,Ft]=this.parentDimensions;this.x=Et,this.y=1-Ct,this.width=Pt*Ft/vt,this.height=wt*vt/Ft;break}case 180:this.x=1-Ct,this.y=1-Et,this.width=Pt,this.height=wt;break;case 270:{const[vt,Ft]=this.parentDimensions;this.x=1-Et,this.y=Ct,this.width=Pt*Ft/vt,this.height=wt*vt/Ft;break}}const{lastPoint:kt}=Dt(this,Sl).box;$n(this,N1,[(kt[0]-Ct)/Pt,(kt[1]-Et)/wt])},lv=function(xt){const bt=At=>{var Ct,Et;this.color=At,(Ct=this.parent)==null||Ct.drawLayer.changeColor(Dt(this,Lo),At),(Et=Dt(this,L1))==null||Et.updateColor(At)},St=this.color;this.addCommands({cmd:bt.bind(this,xt),undo:bt.bind(this,St),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:AnnotationEditorParamsType.HIGHLIGHT_COLOR,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"color_changed",color:this._uiManager.highlightColorNames.get(xt)},!0)},cv=function(xt){const bt=Dt(this,nu),St=At=>{$n(this,nu,At),On(this,Lr,uv).call(this,At)};this.addCommands({cmd:St.bind(this,xt),undo:St.bind(this,bt),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:AnnotationEditorParamsType.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"thickness_changed",thickness:xt},!0)},uv=function(xt){if(!Dt(this,Zo))return;On(this,Lr,Zy).call(this,{highlightOutlines:Dt(this,Ul).getNewOutline(xt/2)}),this.fixAndSetPosition();const[bt,St]=this.parentDimensions;this.setDims(this.width*bt,this.height*St)},Jy=function(){Dt(this,Lo)===null||!this.parent||(this.parent.drawLayer.remove(Dt(this,Lo)),$n(this,Lo,null),this.parent.drawLayer.remove(Dt(this,go)),$n(this,go,null))},im=function(xt=this.parent){Dt(this,Lo)===null&&({id:Ao(this,Lo)._,clipPathId:Ao(this,hp)._}=xt.drawLayer.highlight(Dt(this,Ul),this.color,Dt(this,fp)),$n(this,go,xt.drawLayer.highlightOutline(Dt(this,Sl))),Dt(this,dp)&&(Dt(this,dp).style.clipPath=Dt(this,hp)))},Cl=new WeakSet,jp=function({x:xt,y:bt,width:St,height:At},Ct){switch(Ct){case 90:return{x:1-bt-At,y:xt,width:At,height:St};case 180:return{x:1-xt-St,y:1-bt-At,width:St,height:At};case 270:return{x:bt,y:1-xt-St,width:At,height:St}}return{x:xt,y:bt,width:St,height:At}},hv=function(xt){Xr._keyboardManager.exec(this,xt)},m2=function(xt){if(!Dt(this,D1))return;const bt=window.getSelection();xt?bt.setPosition(Dt(this,D1),Dt(this,Bx)):bt.setPosition(Dt(this,Ux),Dt(this,Hx))},sm=function(){return Dt(this,Zo)?this.rotation:0},dv=function(){if(Dt(this,Zo))return null;const[xt,bt]=this.pageDimensions,St=Dt(this,u0),At=new Array(St.length*8);let Ct=0;for(const{x:Et,y:Pt,width:wt,height:kt}of St){const _t=Et*xt,ht=(1-Pt-kt)*bt;At[Ct]=At[Ct+4]=_t,At[Ct+1]=At[Ct+3]=ht,At[Ct+2]=At[Ct+6]=_t+wt*xt,At[Ct+5]=At[Ct+7]=ht+kt*bt,Ct+=8}return At},fv=function(xt){return Dt(this,Ul).serialize(xt,On(this,Lr,sm).call(this))},pv=function(xt,bt){this._freeHighlight.add(bt)&&xt.drawLayer.updatePath(this._freeHighlightId,this._freeHighlight)},gv=function(xt,bt){this._freeHighlight.isEmpty()?xt.drawLayer.removeFreeHighlight(this._freeHighlightId):xt.createAndAddNewEditor(bt,!1,{highlightId:this._freeHighlightId,highlightOutlines:this._freeHighlight.getOutlines(),clipPathId:this._freeHighlightClipId,methodOfCreation:"main_toolbar"}),this._freeHighlightId=-1,this._freeHighlight=null,this._freeHighlightClipId=""},Nn(Xr,Cl),Us(Xr,"_defaultColor",null),Us(Xr,"_defaultOpacity",1),Us(Xr,"_defaultThickness",12),Us(Xr,"_l10nPromise"),Us(Xr,"_type","highlight"),Us(Xr,"_editorType",AnnotationEditorType.HIGHLIGHT),Us(Xr,"_freeHighlightId",-1),Us(Xr,"_freeHighlight",null),Us(Xr,"_freeHighlightClipId","");let HighlightEditor=Xr;var pp,gp,zx,Xx,Wx,mp,iu,Ou,Al,xp,bp,yp,vp,wp,h0,Zs,mv,xv,bv,yv,Qy,vv,e3,wv,Sv,Av,Ev,Cv,R0,t3,x2,b2,Bp,n3,y2,Hu,kv,i3,Tv,Pv,s3,v2,rm;const ro=class ro extends AnnotationEditor{constructor(xt){super({...xt,name:"inkEditor"});Nn(this,Zs);Nn(this,pp,0);Nn(this,gp,0);Nn(this,zx,this.canvasPointermove.bind(this));Nn(this,Xx,this.canvasPointerleave.bind(this));Nn(this,Wx,this.canvasPointerup.bind(this));Nn(this,mp,this.canvasPointerdown.bind(this));Nn(this,iu,null);Nn(this,Ou,new Path2D);Nn(this,Al,!1);Nn(this,xp,!1);Nn(this,bp,!1);Nn(this,yp,null);Nn(this,vp,0);Nn(this,wp,0);Nn(this,h0,null);this.color=xt.color||null,this.thickness=xt.thickness||null,this.opacity=xt.opacity||null,this.paths=[],this.bezierPath2D=[],this.allRawPaths=[],this.currentPath=[],this.scaleFactor=1,this.translationX=this.translationY=0,this.x=0,this.y=0,this._willKeepAspectRatio=!0}static initialize(xt,bt){AnnotationEditor.initialize(xt,bt)}static updateDefaultParams(xt,bt){switch(xt){case AnnotationEditorParamsType.INK_THICKNESS:ro._defaultThickness=bt;break;case AnnotationEditorParamsType.INK_COLOR:ro._defaultColor=bt;break;case AnnotationEditorParamsType.INK_OPACITY:ro._defaultOpacity=bt/100;break}}updateParams(xt,bt){switch(xt){case AnnotationEditorParamsType.INK_THICKNESS:On(this,Zs,mv).call(this,bt);break;case AnnotationEditorParamsType.INK_COLOR:On(this,Zs,xv).call(this,bt);break;case AnnotationEditorParamsType.INK_OPACITY:On(this,Zs,bv).call(this,bt);break}}static get defaultPropertiesToUpdate(){return[[AnnotationEditorParamsType.INK_THICKNESS,ro._defaultThickness],[AnnotationEditorParamsType.INK_COLOR,ro._defaultColor||AnnotationEditor._defaultLineColor],[AnnotationEditorParamsType.INK_OPACITY,Math.round(ro._defaultOpacity*100)]]}get propertiesToUpdate(){return[[AnnotationEditorParamsType.INK_THICKNESS,this.thickness||ro._defaultThickness],[AnnotationEditorParamsType.INK_COLOR,this.color||ro._defaultColor||AnnotationEditor._defaultLineColor],[AnnotationEditorParamsType.INK_OPACITY,Math.round(100*(this.opacity??ro._defaultOpacity))]]}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.canvas||(On(this,Zs,x2).call(this),On(this,Zs,b2).call(this)),this.isAttachedToDOM||(this.parent.add(this),On(this,Zs,Bp).call(this)),On(this,Zs,rm).call(this)))}remove(){this.canvas!==null&&(this.isEmpty()||this.commit(),this.canvas.width=this.canvas.height=0,this.canvas.remove(),this.canvas=null,Dt(this,iu)&&(clearTimeout(Dt(this,iu)),$n(this,iu,null)),Dt(this,yp).disconnect(),$n(this,yp,null),super.remove())}setParent(xt){!this.parent&&xt?this._uiManager.removeShouldRescale(this):this.parent&&xt===null&&this._uiManager.addShouldRescale(this),super.setParent(xt)}onScaleChanging(){const[xt,bt]=this.parentDimensions,St=this.width*xt,At=this.height*bt;this.setDimensions(St,At)}enableEditMode(){Dt(this,Al)||this.canvas===null||(super.enableEditMode(),this._isDraggable=!1,this.canvas.addEventListener("pointerdown",Dt(this,mp)))}disableEditMode(){!this.isInEditMode()||this.canvas===null||(super.disableEditMode(),this._isDraggable=!this.isEmpty(),this.div.classList.remove("editing"),this.canvas.removeEventListener("pointerdown",Dt(this,mp)))}onceAdded(){this._isDraggable=!this.isEmpty()}isEmpty(){return this.paths.length===0||this.paths.length===1&&this.paths[0].length===0}commit(){Dt(this,Al)||(super.commit(),this.isEditing=!1,this.disableEditMode(),this.setInForeground(),$n(this,Al,!0),this.div.classList.add("disabled"),On(this,Zs,rm).call(this,!0),this.select(),this.parent.addInkEditorIfNeeded(!0),this.moveInDOM(),this.div.focus({preventScroll:!0}))}focusin(xt){this._focusEventsAllowed&&(super.focusin(xt),this.enableEditMode())}canvasPointerdown(xt){xt.button!==0||!this.isInEditMode()||Dt(this,Al)||(this.setInForeground(),xt.preventDefault(),this.div.contains(document.activeElement)||this.div.focus({preventScroll:!0}),On(this,Zs,vv).call(this,xt.offsetX,xt.offsetY))}canvasPointermove(xt){xt.preventDefault(),On(this,Zs,e3).call(this,xt.offsetX,xt.offsetY)}canvasPointerup(xt){xt.preventDefault(),On(this,Zs,t3).call(this,xt)}canvasPointerleave(xt){On(this,Zs,t3).call(this,xt)}get isResizable(){return!this.isEmpty()&&Dt(this,Al)}render(){if(this.div)return this.div;let xt,bt;this.width&&(xt=this.x,bt=this.y),super.render(),this.div.setAttribute("data-l10n-id","pdfjs-ink");const[St,At,Ct,Et]=On(this,Zs,yv).call(this);if(this.setAt(St,At,0,0),this.setDims(Ct,Et),On(this,Zs,x2).call(this),this.width){const[Pt,wt]=this.parentDimensions;this.setAspectRatio(this.width*Pt,this.height*wt),this.setAt(xt*Pt,bt*wt,this.width*Pt,this.height*wt),$n(this,bp,!0),On(this,Zs,Bp).call(this),this.setDims(this.width*Pt,this.height*wt),On(this,Zs,R0).call(this),this.div.classList.add("disabled")}else this.div.classList.add("editing"),this.enableEditMode();return On(this,Zs,b2).call(this),this.div}setDimensions(xt,bt){const St=Math.round(xt),At=Math.round(bt);if(Dt(this,vp)===St&&Dt(this,wp)===At)return;$n(this,vp,St),$n(this,wp,At),this.canvas.style.visibility="hidden";const[Ct,Et]=this.parentDimensions;this.width=xt/Ct,this.height=bt/Et,this.fixAndSetPosition(),Dt(this,Al)&&On(this,Zs,n3).call(this,xt,bt),On(this,Zs,Bp).call(this),On(this,Zs,R0).call(this),this.canvas.style.visibility="visible",this.fixDims()}static deserialize(xt,bt,St){var qt,Lt,$t;if(xt instanceof InkAnnotationElement)return null;const At=super.deserialize(xt,bt,St);At.thickness=xt.thickness,At.color=Util.makeHexColor(...xt.color),At.opacity=xt.opacity;const[Ct,Et]=At.pageDimensions,Pt=At.width*Ct,wt=At.height*Et,kt=At.parentScale,_t=xt.thickness/2;$n(At,Al,!0),$n(At,vp,Math.round(Pt)),$n(At,wp,Math.round(wt));const{paths:ht,rect:vt,rotation:Ft}=xt;for(let{bezier:Ot}of ht){Ot=On(qt=ro,Hu,Tv).call(qt,Ot,vt,Ft);const jt=[];At.paths.push(jt);let Rt=kt*(Ot[0]-_t),Kt=kt*(Ot[1]-_t);for(let Gt=2,en=Ot.length;Gt<en;Gt+=6){const hn=kt*(Ot[Gt]-_t),tn=kt*(Ot[Gt+1]-_t),gn=kt*(Ot[Gt+2]-_t),nn=kt*(Ot[Gt+3]-_t),bn=kt*(Ot[Gt+4]-_t),Wt=kt*(Ot[Gt+5]-_t);jt.push([[Rt,Kt],[hn,tn],[gn,nn],[bn,Wt]]),Rt=bn,Kt=Wt}const Bt=On(this,Hu,kv).call(this,jt);At.bezierPath2D.push(Bt)}const Vt=On(Lt=At,Zs,s3).call(Lt);return $n(At,gp,Math.max(AnnotationEditor.MIN_SIZE,Vt[2]-Vt[0])),$n(At,pp,Math.max(AnnotationEditor.MIN_SIZE,Vt[3]-Vt[1])),On($t=At,Zs,n3).call($t,Pt,wt),At}serialize(){if(this.isEmpty())return null;const xt=this.getRect(0,0),bt=AnnotationEditor._colorManager.convert(this.ctx.strokeStyle);return{annotationType:AnnotationEditorType.INK,color:bt,thickness:this.thickness,opacity:this.opacity,paths:On(this,Zs,Pv).call(this,this.scaleFactor/this.parentScale,this.translationX,this.translationY,xt),pageIndex:this.pageIndex,rect:xt,rotation:this.rotation,structTreeParentId:this._structTreeParentId}}};pp=new WeakMap,gp=new WeakMap,zx=new WeakMap,Xx=new WeakMap,Wx=new WeakMap,mp=new WeakMap,iu=new WeakMap,Ou=new WeakMap,Al=new WeakMap,xp=new WeakMap,bp=new WeakMap,yp=new WeakMap,vp=new WeakMap,wp=new WeakMap,h0=new WeakMap,Zs=new WeakSet,mv=function(xt){const bt=At=>{this.thickness=At,On(this,Zs,rm).call(this)},St=this.thickness;this.addCommands({cmd:bt.bind(this,xt),undo:bt.bind(this,St),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:AnnotationEditorParamsType.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0})},xv=function(xt){const bt=At=>{this.color=At,On(this,Zs,R0).call(this)},St=this.color;this.addCommands({cmd:bt.bind(this,xt),undo:bt.bind(this,St),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:AnnotationEditorParamsType.INK_COLOR,overwriteIfSameType:!0,keepUndo:!0})},bv=function(xt){const bt=At=>{this.opacity=At,On(this,Zs,R0).call(this)};xt/=100;const St=this.opacity;this.addCommands({cmd:bt.bind(this,xt),undo:bt.bind(this,St),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:AnnotationEditorParamsType.INK_OPACITY,overwriteIfSameType:!0,keepUndo:!0})},yv=function(){const{parentRotation:xt,parentDimensions:[bt,St]}=this;switch(xt){case 90:return[0,St,St,bt];case 180:return[bt,St,bt,St];case 270:return[bt,0,St,bt];default:return[0,0,bt,St]}},Qy=function(){const{ctx:xt,color:bt,opacity:St,thickness:At,parentScale:Ct,scaleFactor:Et}=this;xt.lineWidth=At*Ct/Et,xt.lineCap="round",xt.lineJoin="round",xt.miterLimit=10,xt.strokeStyle=`${bt}${opacityToHex(St)}`},vv=function(xt,bt){this.canvas.addEventListener("contextmenu",noContextMenu),this.canvas.addEventListener("pointerleave",Dt(this,Xx)),this.canvas.addEventListener("pointermove",Dt(this,zx)),this.canvas.addEventListener("pointerup",Dt(this,Wx)),this.canvas.removeEventListener("pointerdown",Dt(this,mp)),this.isEditing=!0,Dt(this,bp)||($n(this,bp,!0),On(this,Zs,Bp).call(this),this.thickness||(this.thickness=ro._defaultThickness),this.color||(this.color=ro._defaultColor||AnnotationEditor._defaultLineColor),this.opacity??(this.opacity=ro._defaultOpacity)),this.currentPath.push([xt,bt]),$n(this,xp,!1),On(this,Zs,Qy).call(this),$n(this,h0,()=>{On(this,Zs,Av).call(this),Dt(this,h0)&&window.requestAnimationFrame(Dt(this,h0))}),window.requestAnimationFrame(Dt(this,h0))},e3=function(xt,bt){const[St,At]=this.currentPath.at(-1);if(this.currentPath.length>1&&xt===St&&bt===At)return;const Ct=this.currentPath;let Et=Dt(this,Ou);if(Ct.push([xt,bt]),$n(this,xp,!0),Ct.length<=2){Et.moveTo(...Ct[0]),Et.lineTo(xt,bt);return}Ct.length===3&&($n(this,Ou,Et=new Path2D),Et.moveTo(...Ct[0])),On(this,Zs,Ev).call(this,Et,...Ct.at(-3),...Ct.at(-2),xt,bt)},wv=function(){if(this.currentPath.length===0)return;const xt=this.currentPath.at(-1);Dt(this,Ou).lineTo(...xt)},Sv=function(xt,bt){$n(this,h0,null),xt=Math.min(Math.max(xt,0),this.canvas.width),bt=Math.min(Math.max(bt,0),this.canvas.height),On(this,Zs,e3).call(this,xt,bt),On(this,Zs,wv).call(this);let St;if(this.currentPath.length!==1)St=On(this,Zs,Cv).call(this);else{const wt=[xt,bt];St=[[wt,wt.slice(),wt.slice(),wt]]}const At=Dt(this,Ou),Ct=this.currentPath;this.currentPath=[],$n(this,Ou,new Path2D);const Et=()=>{this.allRawPaths.push(Ct),this.paths.push(St),this.bezierPath2D.push(At),this._uiManager.rebuild(this)},Pt=()=>{this.allRawPaths.pop(),this.paths.pop(),this.bezierPath2D.pop(),this.paths.length===0?this.remove():(this.canvas||(On(this,Zs,x2).call(this),On(this,Zs,b2).call(this)),On(this,Zs,rm).call(this))};this.addCommands({cmd:Et,undo:Pt,mustExec:!0})},Av=function(){if(!Dt(this,xp))return;$n(this,xp,!1);const xt=Math.ceil(this.thickness*this.parentScale),bt=this.currentPath.slice(-3),St=bt.map(Et=>Et[0]),At=bt.map(Et=>Et[1]);Math.min(...St)-xt,Math.max(...St)+xt,Math.min(...At)-xt,Math.max(...At)+xt;const{ctx:Ct}=this;Ct.save(),Ct.clearRect(0,0,this.canvas.width,this.canvas.height);for(const Et of this.bezierPath2D)Ct.stroke(Et);Ct.stroke(Dt(this,Ou)),Ct.restore()},Ev=function(xt,bt,St,At,Ct,Et,Pt){const wt=(bt+At)/2,kt=(St+Ct)/2,_t=(At+Et)/2,ht=(Ct+Pt)/2;xt.bezierCurveTo(wt+2*(At-wt)/3,kt+2*(Ct-kt)/3,_t+2*(At-_t)/3,ht+2*(Ct-ht)/3,_t,ht)},Cv=function(){const xt=this.currentPath;if(xt.length<=2)return[[xt[0],xt[0],xt.at(-1),xt.at(-1)]];const bt=[];let St,[At,Ct]=xt[0];for(St=1;St<xt.length-2;St++){const[vt,Ft]=xt[St],[Vt,qt]=xt[St+1],Lt=(vt+Vt)/2,$t=(Ft+qt)/2,Ot=[At+2*(vt-At)/3,Ct+2*(Ft-Ct)/3],jt=[Lt+2*(vt-Lt)/3,$t+2*(Ft-$t)/3];bt.push([[At,Ct],Ot,jt,[Lt,$t]]),[At,Ct]=[Lt,$t]}const[Et,Pt]=xt[St],[wt,kt]=xt[St+1],_t=[At+2*(Et-At)/3,Ct+2*(Pt-Ct)/3],ht=[wt+2*(Et-wt)/3,kt+2*(Pt-kt)/3];return bt.push([[At,Ct],_t,ht,[wt,kt]]),bt},R0=function(){if(this.isEmpty()){On(this,Zs,y2).call(this);return}On(this,Zs,Qy).call(this);const{canvas:xt,ctx:bt}=this;bt.setTransform(1,0,0,1,0,0),bt.clearRect(0,0,xt.width,xt.height),On(this,Zs,y2).call(this);for(const St of this.bezierPath2D)bt.stroke(St)},t3=function(xt){this.canvas.removeEventListener("pointerleave",Dt(this,Xx)),this.canvas.removeEventListener("pointermove",Dt(this,zx)),this.canvas.removeEventListener("pointerup",Dt(this,Wx)),this.canvas.addEventListener("pointerdown",Dt(this,mp)),Dt(this,iu)&&clearTimeout(Dt(this,iu)),$n(this,iu,setTimeout(()=>{$n(this,iu,null),this.canvas.removeEventListener("contextmenu",noContextMenu)},10)),On(this,Zs,Sv).call(this,xt.offsetX,xt.offsetY),this.addToAnnotationStorage(),this.setInBackground()},x2=function(){this.canvas=document.createElement("canvas"),this.canvas.width=this.canvas.height=0,this.canvas.className="inkEditorCanvas",this.canvas.setAttribute("data-l10n-id","pdfjs-ink-canvas"),this.div.append(this.canvas),this.ctx=this.canvas.getContext("2d")},b2=function(){$n(this,yp,new ResizeObserver(xt=>{const bt=xt[0].contentRect;bt.width&&bt.height&&this.setDimensions(bt.width,bt.height)})),Dt(this,yp).observe(this.div)},Bp=function(){if(!Dt(this,bp))return;const[xt,bt]=this.parentDimensions;this.canvas.width=Math.ceil(this.width*xt),this.canvas.height=Math.ceil(this.height*bt),On(this,Zs,y2).call(this)},n3=function(xt,bt){const St=On(this,Zs,v2).call(this),At=(xt-St)/Dt(this,gp),Ct=(bt-St)/Dt(this,pp);this.scaleFactor=Math.min(At,Ct)},y2=function(){const xt=On(this,Zs,v2).call(this)/2;this.ctx.setTransform(this.scaleFactor,0,0,this.scaleFactor,this.translationX*this.scaleFactor+xt,this.translationY*this.scaleFactor+xt)},Hu=new WeakSet,kv=function(xt){const bt=new Path2D;for(let St=0,At=xt.length;St<At;St++){const[Ct,Et,Pt,wt]=xt[St];St===0&&bt.moveTo(...Ct),bt.bezierCurveTo(Et[0],Et[1],Pt[0],Pt[1],wt[0],wt[1])}return bt},i3=function(xt,bt,St){const[At,Ct,Et,Pt]=bt;switch(St){case 0:for(let wt=0,kt=xt.length;wt<kt;wt+=2)xt[wt]+=At,xt[wt+1]=Pt-xt[wt+1];break;case 90:for(let wt=0,kt=xt.length;wt<kt;wt+=2){const _t=xt[wt];xt[wt]=xt[wt+1]+At,xt[wt+1]=_t+Ct}break;case 180:for(let wt=0,kt=xt.length;wt<kt;wt+=2)xt[wt]=Et-xt[wt],xt[wt+1]+=Ct;break;case 270:for(let wt=0,kt=xt.length;wt<kt;wt+=2){const _t=xt[wt];xt[wt]=Et-xt[wt+1],xt[wt+1]=Pt-_t}break;default:throw new Error("Invalid rotation")}return xt},Tv=function(xt,bt,St){const[At,Ct,Et,Pt]=bt;switch(St){case 0:for(let wt=0,kt=xt.length;wt<kt;wt+=2)xt[wt]-=At,xt[wt+1]=Pt-xt[wt+1];break;case 90:for(let wt=0,kt=xt.length;wt<kt;wt+=2){const _t=xt[wt];xt[wt]=xt[wt+1]-Ct,xt[wt+1]=_t-At}break;case 180:for(let wt=0,kt=xt.length;wt<kt;wt+=2)xt[wt]=Et-xt[wt],xt[wt+1]-=Ct;break;case 270:for(let wt=0,kt=xt.length;wt<kt;wt+=2){const _t=xt[wt];xt[wt]=Pt-xt[wt+1],xt[wt+1]=Et-_t}break;default:throw new Error("Invalid rotation")}return xt},Pv=function(xt,bt,St,At){var kt,_t;const Ct=[],Et=this.thickness/2,Pt=xt*bt+Et,wt=xt*St+Et;for(const ht of this.paths){const vt=[],Ft=[];for(let Vt=0,qt=ht.length;Vt<qt;Vt++){const[Lt,$t,Ot,jt]=ht[Vt];if(Lt[0]===jt[0]&&Lt[1]===jt[1]&&qt===1){const nn=xt*Lt[0]+Pt,bn=xt*Lt[1]+wt;vt.push(nn,bn),Ft.push(nn,bn);break}const Rt=xt*Lt[0]+Pt,Kt=xt*Lt[1]+wt,Bt=xt*$t[0]+Pt,Gt=xt*$t[1]+wt,en=xt*Ot[0]+Pt,hn=xt*Ot[1]+wt,tn=xt*jt[0]+Pt,gn=xt*jt[1]+wt;Vt===0&&(vt.push(Rt,Kt),Ft.push(Rt,Kt)),vt.push(Bt,Gt,en,hn,tn,gn),Ft.push(Bt,Gt),Vt===qt-1&&Ft.push(tn,gn)}Ct.push({bezier:On(kt=ro,Hu,i3).call(kt,vt,At,this.rotation),points:On(_t=ro,Hu,i3).call(_t,Ft,At,this.rotation)})}return Ct},s3=function(){let xt=1/0,bt=-1/0,St=1/0,At=-1/0;for(const Ct of this.paths)for(const[Et,Pt,wt,kt]of Ct){const _t=Util.bezierBoundingBox(...Et,...Pt,...wt,...kt);xt=Math.min(xt,_t[0]),St=Math.min(St,_t[1]),bt=Math.max(bt,_t[2]),At=Math.max(At,_t[3])}return[xt,St,bt,At]},v2=function(){return Dt(this,Al)?Math.ceil(this.thickness*this.parentScale):0},rm=function(xt=!1){if(this.isEmpty())return;if(!Dt(this,Al)){On(this,Zs,R0).call(this);return}const bt=On(this,Zs,s3).call(this),St=On(this,Zs,v2).call(this);$n(this,gp,Math.max(AnnotationEditor.MIN_SIZE,bt[2]-bt[0])),$n(this,pp,Math.max(AnnotationEditor.MIN_SIZE,bt[3]-bt[1]));const At=Math.ceil(St+Dt(this,gp)*this.scaleFactor),Ct=Math.ceil(St+Dt(this,pp)*this.scaleFactor),[Et,Pt]=this.parentDimensions;this.width=At/Et,this.height=Ct/Pt,this.setAspectRatio(At,Ct);const wt=this.translationX,kt=this.translationY;this.translationX=-bt[0],this.translationY=-bt[1],On(this,Zs,Bp).call(this),On(this,Zs,R0).call(this),$n(this,vp,At),$n(this,wp,Ct),this.setDims(At,Ct);const _t=xt?St/this.scaleFactor/2:0;this.translate(wt-this.translationX-_t,kt-this.translationY-_t)},Nn(ro,Hu),Us(ro,"_defaultColor",null),Us(ro,"_defaultOpacity",1),Us(ro,"_defaultThickness",1),Us(ro,"_type","ink"),Us(ro,"_editorType",AnnotationEditorType.INK);let InkEditor=ro;var Ro,Fo,d0,Du,f0,j1,su,Sp,ru,Hl,Gx,Vr,am,om,w2,r3,Rv,Fv,a3,S2,_v;const gm=class gm extends AnnotationEditor{constructor(xt){super({...xt,name:"stampEditor"});Nn(this,Vr);Nn(this,Ro,null);Nn(this,Fo,null);Nn(this,d0,null);Nn(this,Du,null);Nn(this,f0,null);Nn(this,j1,"");Nn(this,su,null);Nn(this,Sp,null);Nn(this,ru,null);Nn(this,Hl,!1);Nn(this,Gx,!1);$n(this,Du,xt.bitmapUrl),$n(this,f0,xt.bitmapFile)}static initialize(xt,bt){AnnotationEditor.initialize(xt,bt)}static get supportedTypes(){return shadow(this,"supportedTypes",["apng","avif","bmp","gif","jpeg","png","svg+xml","webp","x-icon"].map(bt=>`image/${bt}`))}static get supportedTypesStr(){return shadow(this,"supportedTypesStr",this.supportedTypes.join(","))}static isHandlingMimeForPasting(xt){return this.supportedTypes.includes(xt)}static paste(xt,bt){bt.pasteEditor(AnnotationEditorType.STAMP,{bitmapFile:xt.getAsFile()})}remove(){var xt,bt;Dt(this,Fo)&&($n(this,Ro,null),this._uiManager.imageManager.deleteId(Dt(this,Fo)),(xt=Dt(this,su))==null||xt.remove(),$n(this,su,null),(bt=Dt(this,Sp))==null||bt.disconnect(),$n(this,Sp,null),Dt(this,ru)&&(clearTimeout(Dt(this,ru)),$n(this,ru,null))),super.remove()}rebuild(){if(!this.parent){Dt(this,Fo)&&On(this,Vr,w2).call(this);return}super.rebuild(),this.div!==null&&(Dt(this,Fo)&&Dt(this,su)===null&&On(this,Vr,w2).call(this),this.isAttachedToDOM||this.parent.add(this))}onceAdded(){this._isDraggable=!0,this.div.focus()}isEmpty(){return!(Dt(this,d0)||Dt(this,Ro)||Dt(this,Du)||Dt(this,f0)||Dt(this,Fo))}get isResizable(){return!0}render(){if(this.div)return this.div;let xt,bt;if(this.width&&(xt=this.x,bt=this.y),super.render(),this.div.hidden=!0,this.addAltTextButton(),Dt(this,Ro)?On(this,Vr,r3).call(this):On(this,Vr,w2).call(this),this.width){const[St,At]=this.parentDimensions;this.setAt(xt*St,bt*At,this.width*St,this.height*At)}return this.div}getImageForAltText(){return Dt(this,su)}static deserialize(xt,bt,St){if(xt instanceof StampAnnotationElement)return null;const At=super.deserialize(xt,bt,St),{rect:Ct,bitmapUrl:Et,bitmapId:Pt,isSvg:wt,accessibilityData:kt}=xt;Pt&&St.imageManager.isValidId(Pt)?$n(At,Fo,Pt):$n(At,Du,Et),$n(At,Hl,wt);const[_t,ht]=At.pageDimensions;return At.width=(Ct[2]-Ct[0])/_t,At.height=(Ct[3]-Ct[1])/ht,kt&&(At.altTextData=kt),At}serialize(xt=!1,bt=null){if(this.isEmpty())return null;const St={annotationType:AnnotationEditorType.STAMP,bitmapId:Dt(this,Fo),pageIndex:this.pageIndex,rect:this.getRect(0,0),rotation:this.rotation,isSvg:Dt(this,Hl),structTreeParentId:this._structTreeParentId};if(xt)return St.bitmapUrl=On(this,Vr,S2).call(this,!0),St.accessibilityData=this.altTextData,St;const{decorative:At,altText:Ct}=this.altTextData;if(!At&&Ct&&(St.accessibilityData={type:"Figure",alt:Ct}),bt===null)return St;bt.stamps||(bt.stamps=new Map);const Et=Dt(this,Hl)?(St.rect[2]-St.rect[0])*(St.rect[3]-St.rect[1]):null;if(!bt.stamps.has(Dt(this,Fo)))bt.stamps.set(Dt(this,Fo),{area:Et,serialized:St}),St.bitmap=On(this,Vr,S2).call(this,!1);else if(Dt(this,Hl)){const Pt=bt.stamps.get(Dt(this,Fo));Et>Pt.area&&(Pt.area=Et,Pt.serialized.bitmap.close(),Pt.serialized.bitmap=On(this,Vr,S2).call(this,!1))}return St}};Ro=new WeakMap,Fo=new WeakMap,d0=new WeakMap,Du=new WeakMap,f0=new WeakMap,j1=new WeakMap,su=new WeakMap,Sp=new WeakMap,ru=new WeakMap,Hl=new WeakMap,Gx=new WeakMap,Vr=new WeakSet,am=function(xt,bt=!1){if(!xt){this.remove();return}$n(this,Ro,xt.bitmap),bt||($n(this,Fo,xt.id),$n(this,Hl,xt.isSvg)),xt.file&&$n(this,j1,xt.file.name),On(this,Vr,r3).call(this)},om=function(){$n(this,d0,null),this._uiManager.enableWaiting(!1),Dt(this,su)&&this.div.focus()},w2=function(){if(Dt(this,Fo)){this._uiManager.enableWaiting(!0),this._uiManager.imageManager.getFromId(Dt(this,Fo)).then(bt=>On(this,Vr,am).call(this,bt,!0)).finally(()=>On(this,Vr,om).call(this));return}if(Dt(this,Du)){const bt=Dt(this,Du);$n(this,Du,null),this._uiManager.enableWaiting(!0),$n(this,d0,this._uiManager.imageManager.getFromUrl(bt).then(St=>On(this,Vr,am).call(this,St)).finally(()=>On(this,Vr,om).call(this)));return}if(Dt(this,f0)){const bt=Dt(this,f0);$n(this,f0,null),this._uiManager.enableWaiting(!0),$n(this,d0,this._uiManager.imageManager.getFromFile(bt).then(St=>On(this,Vr,am).call(this,St)).finally(()=>On(this,Vr,om).call(this)));return}const xt=document.createElement("input");xt.type="file",xt.accept=gm.supportedTypesStr,$n(this,d0,new Promise(bt=>{xt.addEventListener("change",async()=>{if(!xt.files||xt.files.length===0)this.remove();else{this._uiManager.enableWaiting(!0);const St=await this._uiManager.imageManager.getFromFile(xt.files[0]);On(this,Vr,am).call(this,St)}bt()}),xt.addEventListener("cancel",()=>{this.remove(),bt()})}).finally(()=>On(this,Vr,om).call(this))),xt.click()},r3=function(){const{div:xt}=this;let{width:bt,height:St}=Dt(this,Ro);const[At,Ct]=this.pageDimensions,Et=.75;if(this.width)bt=this.width*At,St=this.height*Ct;else if(bt>Et*At||St>Et*Ct){const _t=Math.min(Et*At/bt,Et*Ct/St);bt*=_t,St*=_t}const[Pt,wt]=this.parentDimensions;this.setDims(bt*Pt/At,St*wt/Ct),this._uiManager.enableWaiting(!1);const kt=$n(this,su,document.createElement("canvas"));xt.append(kt),xt.hidden=!1,On(this,Vr,a3).call(this,bt,St),On(this,Vr,_v).call(this),Dt(this,Gx)||(this.parent.addUndoableEditor(this),$n(this,Gx,!0)),this._reportTelemetry({action:"inserted_image"}),Dt(this,j1)&&kt.setAttribute("aria-label",Dt(this,j1))},Rv=function(xt,bt){var Et;const[St,At]=this.parentDimensions;this.width=xt/St,this.height=bt/At,this.setDims(xt,bt),(Et=this._initialOptions)!=null&&Et.isCentered?this.center():this.fixAndSetPosition(),this._initialOptions=null,Dt(this,ru)!==null&&clearTimeout(Dt(this,ru)),$n(this,ru,setTimeout(()=>{$n(this,ru,null),On(this,Vr,a3).call(this,xt,bt)},200))},Fv=function(xt,bt){const{width:St,height:At}=Dt(this,Ro);let Ct=St,Et=At,Pt=Dt(this,Ro);for(;Ct>2*xt||Et>2*bt;){const wt=Ct,kt=Et;Ct>2*xt&&(Ct=Ct>=16384?Math.floor(Ct/2)-1:Math.ceil(Ct/2)),Et>2*bt&&(Et=Et>=16384?Math.floor(Et/2)-1:Math.ceil(Et/2));const _t=new OffscreenCanvas(Ct,Et);_t.getContext("2d").drawImage(Pt,0,0,wt,kt,0,0,Ct,Et),Pt=_t.transferToImageBitmap()}return Pt},a3=function(xt,bt){xt=Math.ceil(xt),bt=Math.ceil(bt);const St=Dt(this,su);if(!St||St.width===xt&&St.height===bt)return;St.width=xt,St.height=bt;const At=Dt(this,Hl)?Dt(this,Ro):On(this,Vr,Fv).call(this,xt,bt);if(this._uiManager.hasMLManager&&!this.hasAltText()){const Pt=new OffscreenCanvas(xt,bt).getContext("2d");Pt.drawImage(At,0,0,At.width,At.height,0,0,xt,bt),this._uiManager.mlGuess({service:"image-to-text",request:{data:Pt.getImageData(0,0,xt,bt).data,width:xt,height:bt,channels:4}}).then(wt=>{const kt=(wt==null?void 0:wt.output)||"";this.parent&&kt&&!this.hasAltText()&&(this.altTextData={altText:kt,decorative:!1})})}const Ct=St.getContext("2d");Ct.filter=this._uiManager.hcmFilter,Ct.drawImage(At,0,0,At.width,At.height,0,0,xt,bt)},S2=function(xt){if(xt){if(Dt(this,Hl)){const At=this._uiManager.imageManager.getSvgUrl(Dt(this,Fo));if(At)return At}const bt=document.createElement("canvas");return{width:bt.width,height:bt.height}=Dt(this,Ro),bt.getContext("2d").drawImage(Dt(this,Ro),0,0),bt.toDataURL()}if(Dt(this,Hl)){const[bt,St]=this.pageDimensions,At=Math.round(this.width*bt*PixelsPerInch.PDF_TO_CSS_UNITS),Ct=Math.round(this.height*St*PixelsPerInch.PDF_TO_CSS_UNITS),Et=new OffscreenCanvas(At,Ct);return Et.getContext("2d").drawImage(Dt(this,Ro),0,0,Dt(this,Ro).width,Dt(this,Ro).height,0,0,At,Ct),Et.transferToImageBitmap()}return structuredClone(Dt(this,Ro))},_v=function(){$n(this,Sp,new ResizeObserver(xt=>{const bt=xt[0].contentRect;bt.width&&bt.height&&On(this,Vr,Rv).call(this,bt.width,bt.height)})),Dt(this,Sp).observe(this.div)},Us(gm,"_type","stamp"),Us(gm,"_editorType",AnnotationEditorType.STAMP);let StampEditor=gm;var Ap,B1,au,Ep,Lu,Nu,$u,Jo,p0,U1,H1,No,Ar,g0,_o,Mv,o3,l3,c3,A2;const Fl=class Fl{constructor({uiManager:$,pageIndex:xt,div:bt,accessibilityManager:St,annotationLayer:At,drawLayer:Ct,textLayer:Et,viewport:Pt,l10n:wt}){Nn(this,_o);Nn(this,Ap);Nn(this,B1,!1);Nn(this,au,null);Nn(this,Ep,null);Nn(this,Lu,null);Nn(this,Nu,null);Nn(this,$u,null);Nn(this,Jo,new Map);Nn(this,p0,!1);Nn(this,U1,!1);Nn(this,H1,!1);Nn(this,No,null);Nn(this,Ar);const kt=[...Dt(Fl,g0).values()];if(!Fl._initialized){Fl._initialized=!0;for(const _t of kt)_t.initialize(wt,$)}$.registerEditorTypes(kt),$n(this,Ar,$),this.pageIndex=xt,this.div=bt,$n(this,Ap,St),$n(this,au,At),this.viewport=Pt,$n(this,No,Et),this.drawLayer=Ct,Dt(this,Ar).addLayer(this)}get isEmpty(){return Dt(this,Jo).size===0}get isInvisible(){return this.isEmpty&&Dt(this,Ar).getMode()===AnnotationEditorType.NONE}updateToolbar($){Dt(this,Ar).updateToolbar($)}updateMode($=Dt(this,Ar).getMode()){switch(On(this,_o,A2).call(this),$){case AnnotationEditorType.NONE:this.disableTextSelection(),this.togglePointerEvents(!1),this.toggleAnnotationLayerPointerEvents(!0),this.disableClick();return;case AnnotationEditorType.INK:this.addInkEditorIfNeeded(!1),this.disableTextSelection(),this.togglePointerEvents(!0),this.disableClick();break;case AnnotationEditorType.HIGHLIGHT:this.enableTextSelection(),this.togglePointerEvents(!1),this.disableClick();break;default:this.disableTextSelection(),this.togglePointerEvents(!0),this.enableClick()}this.toggleAnnotationLayerPointerEvents(!1);const{classList:xt}=this.div;for(const bt of Dt(Fl,g0).values())xt.toggle(`${bt._type}Editing`,$===bt._editorType);this.div.hidden=!1}hasTextLayer($){var xt;return $===((xt=Dt(this,No))==null?void 0:xt.div)}addInkEditorIfNeeded($){if(Dt(this,Ar).getMode()!==AnnotationEditorType.INK)return;if(!$){for(const bt of Dt(this,Jo).values())if(bt.isEmpty()){bt.setInBackground();return}}this.createAndAddNewEditor({offsetX:0,offsetY:0},!1).setInBackground()}setEditingState($){Dt(this,Ar).setEditingState($)}addCommands($){Dt(this,Ar).addCommands($)}togglePointerEvents($=!1){this.div.classList.toggle("disabled",!$)}toggleAnnotationLayerPointerEvents($=!1){var xt;(xt=Dt(this,au))==null||xt.div.classList.toggle("disabled",!$)}enable(){this.div.tabIndex=0,this.togglePointerEvents(!0);const $=new Set;for(const bt of Dt(this,Jo).values())bt.enableEditing(),bt.show(!0),bt.annotationElementId&&(Dt(this,Ar).removeChangedExistingAnnotation(bt),$.add(bt.annotationElementId));if(!Dt(this,au))return;const xt=Dt(this,au).getEditableAnnotations();for(const bt of xt){if(bt.hide(),Dt(this,Ar).isDeletedAnnotationElement(bt.data.id)||$.has(bt.data.id))continue;const St=this.deserialize(bt);St&&(this.addOrRebuild(St),St.enableEditing())}}disable(){var St;$n(this,H1,!0),this.div.tabIndex=-1,this.togglePointerEvents(!1);const $=new Map,xt=new Map;for(const At of Dt(this,Jo).values())if(At.disableEditing(),!!At.annotationElementId){if(At.serialize()!==null){$.set(At.annotationElementId,At);continue}else xt.set(At.annotationElementId,At);(St=this.getEditableAnnotation(At.annotationElementId))==null||St.show(),At.remove()}if(Dt(this,au)){const At=Dt(this,au).getEditableAnnotations();for(const Ct of At){const{id:Et}=Ct.data;if(Dt(this,Ar).isDeletedAnnotationElement(Et))continue;let Pt=xt.get(Et);if(Pt){Pt.resetAnnotationElement(Ct),Pt.show(!1),Ct.show();continue}Pt=$.get(Et),Pt&&(Dt(this,Ar).addChangedExistingAnnotation(Pt),Pt.renderAnnotationElement(Ct),Pt.show(!1)),Ct.show()}}On(this,_o,A2).call(this),this.isEmpty&&(this.div.hidden=!0);const{classList:bt}=this.div;for(const At of Dt(Fl,g0).values())bt.remove(`${At._type}Editing`);this.disableTextSelection(),this.toggleAnnotationLayerPointerEvents(!0),$n(this,H1,!1)}getEditableAnnotation($){var xt;return((xt=Dt(this,au))==null?void 0:xt.getEditableAnnotation($))||null}setActiveEditor($){Dt(this,Ar).getActive()!==$&&Dt(this,Ar).setActiveEditor($)}enableTextSelection(){var $;this.div.tabIndex=-1,($=Dt(this,No))!=null&&$.div&&!Dt(this,Nu)&&($n(this,Nu,On(this,_o,Mv).bind(this)),Dt(this,No).div.addEventListener("pointerdown",Dt(this,Nu)),Dt(this,No).div.classList.add("highlighting"))}disableTextSelection(){var $;this.div.tabIndex=0,($=Dt(this,No))!=null&&$.div&&Dt(this,Nu)&&(Dt(this,No).div.removeEventListener("pointerdown",Dt(this,Nu)),$n(this,Nu,null),Dt(this,No).div.classList.remove("highlighting"))}enableClick(){Dt(this,Lu)||($n(this,Lu,this.pointerdown.bind(this)),$n(this,Ep,this.pointerup.bind(this)),this.div.addEventListener("pointerdown",Dt(this,Lu)),this.div.addEventListener("pointerup",Dt(this,Ep)))}disableClick(){Dt(this,Lu)&&(this.div.removeEventListener("pointerdown",Dt(this,Lu)),this.div.removeEventListener("pointerup",Dt(this,Ep)),$n(this,Lu,null),$n(this,Ep,null))}attach($){Dt(this,Jo).set($.id,$);const{annotationElementId:xt}=$;xt&&Dt(this,Ar).isDeletedAnnotationElement(xt)&&Dt(this,Ar).removeDeletedAnnotationElement($)}detach($){var xt;Dt(this,Jo).delete($.id),(xt=Dt(this,Ap))==null||xt.removePointerInTextLayer($.contentDiv),!Dt(this,H1)&&$.annotationElementId&&Dt(this,Ar).addDeletedAnnotationElement($)}remove($){this.detach($),Dt(this,Ar).removeEditor($),$.div.remove(),$.isAttachedToDOM=!1,Dt(this,U1)||this.addInkEditorIfNeeded(!1)}changeParent($){var xt;$.parent!==this&&($.parent&&$.annotationElementId&&(Dt(this,Ar).addDeletedAnnotationElement($.annotationElementId),AnnotationEditor.deleteAnnotationElement($),$.annotationElementId=null),this.attach($),(xt=$.parent)==null||xt.detach($),$.setParent(this),$.div&&$.isAttachedToDOM&&($.div.remove(),this.div.append($.div)))}add($){if(!($.parent===this&&$.isAttachedToDOM)){if(this.changeParent($),Dt(this,Ar).addEditor($),this.attach($),!$.isAttachedToDOM){const xt=$.render();this.div.append(xt),$.isAttachedToDOM=!0}$.fixAndSetPosition(),$.onceAdded(),Dt(this,Ar).addToAnnotationStorage($),$._reportTelemetry($.telemetryInitialData)}}moveEditorInDOM($){var bt;if(!$.isAttachedToDOM)return;const{activeElement:xt}=document;$.div.contains(xt)&&!Dt(this,$u)&&($._focusEventsAllowed=!1,$n(this,$u,setTimeout(()=>{$n(this,$u,null),$.div.contains(document.activeElement)?$._focusEventsAllowed=!0:($.div.addEventListener("focusin",()=>{$._focusEventsAllowed=!0},{once:!0}),xt.focus())},0))),$._structTreeParentId=(bt=Dt(this,Ap))==null?void 0:bt.moveElementInDOM(this.div,$.div,$.contentDiv,!0)}addOrRebuild($){$.needsToBeRebuilt()?($.parent||($.parent=this),$.rebuild(),$.show()):this.add($)}addUndoableEditor($){const xt=()=>$._uiManager.rebuild($),bt=()=>{$.remove()};this.addCommands({cmd:xt,undo:bt,mustExec:!1})}getNextId(){return Dt(this,Ar).getId()}canCreateNewEmptyEditor(){var $;return($=Dt(this,_o,o3))==null?void 0:$.canCreateNewEmptyEditor()}pasteEditor($,xt){Dt(this,Ar).updateToolbar($),Dt(this,Ar).updateMode($);const{offsetX:bt,offsetY:St}=On(this,_o,c3).call(this),At=this.getNextId(),Ct=On(this,_o,l3).call(this,{parent:this,id:At,x:bt,y:St,uiManager:Dt(this,Ar),isCentered:!0,...xt});Ct&&this.add(Ct)}deserialize($){var xt;return((xt=Dt(Fl,g0).get($.annotationType??$.annotationEditorType))==null?void 0:xt.deserialize($,this,Dt(this,Ar)))||null}createAndAddNewEditor($,xt,bt={}){const St=this.getNextId(),At=On(this,_o,l3).call(this,{parent:this,id:St,x:$.offsetX,y:$.offsetY,uiManager:Dt(this,Ar),isCentered:xt,...bt});return At&&this.add(At),At}addNewEditor(){this.createAndAddNewEditor(On(this,_o,c3).call(this),!0)}setSelected($){Dt(this,Ar).setSelected($)}toggleSelected($){Dt(this,Ar).toggleSelected($)}isSelected($){return Dt(this,Ar).isSelected($)}unselect($){Dt(this,Ar).unselect($)}pointerup($){const{isMac:xt}=util_FeatureTest.platform;if(!($.button!==0||$.ctrlKey&&xt)&&$.target===this.div&&Dt(this,p0)){if($n(this,p0,!1),!Dt(this,B1)){$n(this,B1,!0);return}if(Dt(this,Ar).getMode()===AnnotationEditorType.STAMP){Dt(this,Ar).unselectAll();return}this.createAndAddNewEditor($,!1)}}pointerdown($){if(Dt(this,Ar).getMode()===AnnotationEditorType.HIGHLIGHT&&this.enableTextSelection(),Dt(this,p0)){$n(this,p0,!1);return}const{isMac:xt}=util_FeatureTest.platform;if($.button!==0||$.ctrlKey&&xt||$.target!==this.div)return;$n(this,p0,!0);const bt=Dt(this,Ar).getActive();$n(this,B1,!bt||bt.isEmpty())}findNewParent($,xt,bt){const St=Dt(this,Ar).findParent(xt,bt);return St===null||St===this?!1:(St.changeParent($),!0)}destroy(){var $,xt;(($=Dt(this,Ar).getActive())==null?void 0:$.parent)===this&&(Dt(this,Ar).commitOrRemove(),Dt(this,Ar).setActiveEditor(null)),Dt(this,$u)&&(clearTimeout(Dt(this,$u)),$n(this,$u,null));for(const bt of Dt(this,Jo).values())(xt=Dt(this,Ap))==null||xt.removePointerInTextLayer(bt.contentDiv),bt.setParent(null),bt.isAttachedToDOM=!1,bt.div.remove();this.div=null,Dt(this,Jo).clear(),Dt(this,Ar).removeLayer(this)}render({viewport:$}){this.viewport=$,setLayerDimensions(this.div,$);for(const xt of Dt(this,Ar).getEditors(this.pageIndex))this.add(xt),xt.rebuild();this.updateMode()}update({viewport:$}){Dt(this,Ar).commitOrRemove(),On(this,_o,A2).call(this);const xt=this.viewport.rotation,bt=$.rotation;if(this.viewport=$,setLayerDimensions(this.div,{rotation:bt}),xt!==bt)for(const St of Dt(this,Jo).values())St.rotate(bt);this.addInkEditorIfNeeded(!1)}get pageDimensions(){const{pageWidth:$,pageHeight:xt}=this.viewport.rawDims;return[$,xt]}get scale(){return Dt(this,Ar).viewParameters.realScale}};Ap=new WeakMap,B1=new WeakMap,au=new WeakMap,Ep=new WeakMap,Lu=new WeakMap,Nu=new WeakMap,$u=new WeakMap,Jo=new WeakMap,p0=new WeakMap,U1=new WeakMap,H1=new WeakMap,No=new WeakMap,Ar=new WeakMap,g0=new WeakMap,_o=new WeakSet,Mv=function($){if(Dt(this,Ar).unselectAll(),$.target===Dt(this,No).div){const{isMac:xt}=util_FeatureTest.platform;if($.button!==0||$.ctrlKey&&xt)return;Dt(this,Ar).showAllEditors("highlight",!0,!0),Dt(this,No).div.classList.add("free"),HighlightEditor.startHighlighting(this,Dt(this,Ar).direction==="ltr",$),Dt(this,No).div.addEventListener("pointerup",()=>{Dt(this,No).div.classList.remove("free")},{once:!0}),$.preventDefault()}},o3=function(){return Dt(Fl,g0).get(Dt(this,Ar).getMode())},l3=function($){const xt=Dt(this,_o,o3);return xt?new xt.prototype.constructor($):null},c3=function(){const{x:$,y:xt,width:bt,height:St}=this.div.getBoundingClientRect(),At=Math.max(0,$),Ct=Math.max(0,xt),Et=Math.min(window.innerWidth,$+bt),Pt=Math.min(window.innerHeight,xt+St),wt=(At+Et)/2-$,kt=(Ct+Pt)/2-xt,[_t,ht]=this.viewport.rotation%180===0?[wt,kt]:[kt,wt];return{offsetX:_t,offsetY:ht}},A2=function(){$n(this,U1,!0);for(const $ of Dt(this,Jo).values())$.isEmpty()&&$.remove();$n(this,U1,!1)},Us(Fl,"_initialized",!1),Nn(Fl,g0,new Map([FreeTextEditor,InkEditor,StampEditor,HighlightEditor].map($=>[$._editorType,$])));let AnnotationEditorLayer=Fl;var ou,qx,mo,m0,Kx,u3,kp,h3,Iv;const Eo=class Eo{constructor({pageIndex:$}){Nn(this,kp);Nn(this,ou,null);Nn(this,qx,0);Nn(this,mo,new Map);Nn(this,m0,new Map);this.pageIndex=$}setParent($){if(!Dt(this,ou)){$n(this,ou,$);return}if(Dt(this,ou)!==$){if(Dt(this,mo).size>0)for(const xt of Dt(this,mo).values())xt.remove(),$.append(xt);$n(this,ou,$)}}static get _svgFactory(){return shadow(this,"_svgFactory",new DOMSVGFactory)}highlight($,xt,bt,St=!1){const At=Ao(this,qx)._++,Ct=On(this,kp,h3).call(this,$.box);Ct.classList.add("highlight"),$.free&&Ct.classList.add("free");const Et=Eo._svgFactory.createElement("defs");Ct.append(Et);const Pt=Eo._svgFactory.createElement("path");Et.append(Pt);const wt=`path_p${this.pageIndex}_${At}`;Pt.setAttribute("id",wt),Pt.setAttribute("d",$.toSVGPath()),St&&Dt(this,m0).set(At,Pt);const kt=On(this,kp,Iv).call(this,Et,wt),_t=Eo._svgFactory.createElement("use");return Ct.append(_t),Ct.setAttribute("fill",xt),Ct.setAttribute("fill-opacity",bt),_t.setAttribute("href",`#${wt}`),Dt(this,mo).set(At,Ct),{id:At,clipPathId:`url(#${kt})`}}highlightOutline($){const xt=Ao(this,qx)._++,bt=On(this,kp,h3).call(this,$.box);bt.classList.add("highlightOutline");const St=Eo._svgFactory.createElement("defs");bt.append(St);const At=Eo._svgFactory.createElement("path");St.append(At);const Ct=`path_p${this.pageIndex}_${xt}`;At.setAttribute("id",Ct),At.setAttribute("d",$.toSVGPath()),At.setAttribute("vector-effect","non-scaling-stroke");let Et;if($.free){bt.classList.add("free");const kt=Eo._svgFactory.createElement("mask");St.append(kt),Et=`mask_p${this.pageIndex}_${xt}`,kt.setAttribute("id",Et),kt.setAttribute("maskUnits","objectBoundingBox");const _t=Eo._svgFactory.createElement("rect");kt.append(_t),_t.setAttribute("width","1"),_t.setAttribute("height","1"),_t.setAttribute("fill","white");const ht=Eo._svgFactory.createElement("use");kt.append(ht),ht.setAttribute("href",`#${Ct}`),ht.setAttribute("stroke","none"),ht.setAttribute("fill","black"),ht.setAttribute("fill-rule","nonzero"),ht.classList.add("mask")}const Pt=Eo._svgFactory.createElement("use");bt.append(Pt),Pt.setAttribute("href",`#${Ct}`),Et&&Pt.setAttribute("mask",`url(#${Et})`);const wt=Pt.cloneNode();return bt.append(wt),Pt.classList.add("mainOutline"),wt.classList.add("secondaryOutline"),Dt(this,mo).set(xt,bt),xt}finalizeLine($,xt){const bt=Dt(this,m0).get($);Dt(this,m0).delete($),this.updateBox($,xt.box),bt.setAttribute("d",xt.toSVGPath())}updateLine($,xt){Dt(this,mo).get($).firstChild.firstChild.setAttribute("d",xt.toSVGPath())}removeFreeHighlight($){this.remove($),Dt(this,m0).delete($)}updatePath($,xt){Dt(this,m0).get($).setAttribute("d",xt.toSVGPath())}updateBox($,xt){var bt;On(bt=Eo,Kx,u3).call(bt,Dt(this,mo).get($),xt)}show($,xt){Dt(this,mo).get($).classList.toggle("hidden",!xt)}rotate($,xt){Dt(this,mo).get($).setAttribute("data-main-rotation",xt)}changeColor($,xt){Dt(this,mo).get($).setAttribute("fill",xt)}changeOpacity($,xt){Dt(this,mo).get($).setAttribute("fill-opacity",xt)}addClass($,xt){Dt(this,mo).get($).classList.add(xt)}removeClass($,xt){Dt(this,mo).get($).classList.remove(xt)}remove($){Dt(this,ou)!==null&&(Dt(this,mo).get($).remove(),Dt(this,mo).delete($))}destroy(){$n(this,ou,null);for(const $ of Dt(this,mo).values())$.remove();Dt(this,mo).clear()}};ou=new WeakMap,qx=new WeakMap,mo=new WeakMap,m0=new WeakMap,Kx=new WeakSet,u3=function($,{x:xt=0,y:bt=0,width:St=1,height:At=1}={}){const{style:Ct}=$;Ct.top=`${100*bt}%`,Ct.left=`${100*xt}%`,Ct.width=`${100*St}%`,Ct.height=`${100*At}%`},kp=new WeakSet,h3=function($){var bt;const xt=Eo._svgFactory.create(1,1,!0);return Dt(this,ou).append(xt),xt.setAttribute("aria-hidden",!0),On(bt=Eo,Kx,u3).call(bt,xt,$),xt},Iv=function($,xt){const bt=Eo._svgFactory.createElement("clipPath");$.append(bt);const St=`clip_${xt}`;bt.setAttribute("id",St),bt.setAttribute("clipPathUnits","objectBoundingBox");const At=Eo._svgFactory.createElement("use");return bt.append(At),At.setAttribute("href",`#${xt}`),At.classList.add("clip"),St},Nn(Eo,Kx);let DrawLayer=Eo;__webpack_exports__.AbortException;__webpack_exports__.AnnotationEditorLayer;__webpack_exports__.AnnotationEditorParamsType;__webpack_exports__.AnnotationEditorType;__webpack_exports__.AnnotationEditorUIManager;__webpack_exports__.AnnotationLayer;__webpack_exports__.AnnotationMode;__webpack_exports__.CMapCompressionType;__webpack_exports__.ColorPicker;__webpack_exports__.DOMSVGFactory;__webpack_exports__.DrawLayer;__webpack_exports__.FeatureTest;var __webpack_exports__GlobalWorkerOptions=__webpack_exports__.GlobalWorkerOptions;__webpack_exports__.ImageKind;__webpack_exports__.InvalidPDFException;__webpack_exports__.MissingPDFException;__webpack_exports__.OPS;__webpack_exports__.Outliner;__webpack_exports__.PDFDataRangeTransport;__webpack_exports__.PDFDateString;__webpack_exports__.PDFWorker;__webpack_exports__.PasswordResponses;__webpack_exports__.PermissionFlag;__webpack_exports__.PixelsPerInch;__webpack_exports__.RenderingCancelledException;__webpack_exports__.TextLayer;__webpack_exports__.UnexpectedResponseException;__webpack_exports__.Util;__webpack_exports__.VerbosityLevel;__webpack_exports__.XfaLayer;__webpack_exports__.build;__webpack_exports__.createValidAbsoluteUrl;__webpack_exports__.fetchData;__webpack_exports__.getDocument;__webpack_exports__.getFilenameFromUrl;__webpack_exports__.getPdfFilenameFromUrl;__webpack_exports__.getXfaPageViewport;__webpack_exports__.isDataScheme;__webpack_exports__.isPdfFile;__webpack_exports__.noContextMenu;__webpack_exports__.normalizeUnicode;__webpack_exports__.renderTextLayer;__webpack_exports__.setLayerDimensions;__webpack_exports__.shadow;__webpack_exports__.updateTextLayer;__webpack_exports__.version;__webpack_exports__GlobalWorkerOptions.workerSrc=new URL("/assets/pdf.worker.min-DKQKFyKK.js",import.meta.url).toString();function Upload(){const[_e,$]=reactExports.useState(""),[xt,bt]=reactExports.useState(""),[St,At]=reactExports.useState(null);reactExports.useState(null);const Ct=async Et=>{Et.preventDefault();const Pt=new FormData;Pt.append("title",_e),Pt.append("file",xt),console.log(_e,xt);const wt=await axios.post("/en/uploadpdf",Pt,{headers:{"Content-Type":"multipart/form-data"}});console.log(wt),wt.data.status=="ok"&&(alert("Uploaded Successfully!!!"),getPdf())};return jsxRuntimeExports.jsxs("div",{className:"App",children:[jsxRuntimeExports.jsxs("form",{className:"formStyle",onSubmit:Ct,children:[jsxRuntimeExports.jsx("h4",{children:"Upload Pdf in React"}),jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsx("input",{type:"text",className:"form-control",placeholder:"Title",required:!0,onChange:Et=>$(Et.target.value)}),jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsx("input",{type:"file",class:"form-control",accept:"application/pdf",required:!0,onChange:Et=>bt(Et.target.files[0])}),jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsx("button",{class:"btn btn-primary",type:"submit",children:"Submit"})]}),jsxRuntimeExports.jsxs("div",{className:"uploaded",children:[jsxRuntimeExports.jsx("h4",{children:"Uploaded PDF:"}),jsxRuntimeExports.jsx("div",{className:"output-div",children:St==null?"":St.map(Et=>jsxRuntimeExports.jsxs("div",{className:"inner-div",children:[jsxRuntimeExports.jsxs("h6",{children:["Title: ",Et.title]}),jsxRuntimeExports.jsx("button",{className:"btn btn-primary",onClick:()=>showPdf(Et.pdf),children:"Show Pdf"})]}))})]})]})}function commonjsRequire(_e){throw new Error('Could not dynamically require "'+_e+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var pdf={exports:{}};const __viteBrowserExternal={},__viteBrowserExternal$1=Object.freeze(Object.defineProperty({__proto__:null,default:__viteBrowserExternal},Symbol.toStringTag,{value:"Module"})),require$$5=getAugmentedNamespace(__viteBrowserExternal$1);(function(module,exports){(function($,xt){module.exports=$.pdfjsLib=xt()})(globalThis,()=>(()=>{var __webpack_modules__=[,(_e,$)=>{var es;Object.defineProperty($,"__esModule",{value:!0}),$.VerbosityLevel=$.Util=$.UnknownErrorException=$.UnexpectedResponseException=$.TextRenderingMode=$.RenderingIntentFlag=$.PromiseCapability=$.PermissionFlag=$.PasswordResponses=$.PasswordException=$.PageActionEventType=$.OPS=$.MissingPDFException=$.MAX_IMAGE_SIZE_TO_CACHE=$.LINE_FACTOR=$.LINE_DESCENT_FACTOR=$.InvalidPDFException=$.ImageKind=$.IDENTITY_MATRIX=$.FormatError=$.FeatureTest=$.FONT_IDENTITY_MATRIX=$.DocumentActionEventType=$.CMapCompressionType=$.BaseException=$.BASELINE_FACTOR=$.AnnotationType=$.AnnotationReplyType=$.AnnotationPrefix=$.AnnotationMode=$.AnnotationFlag=$.AnnotationFieldFlag=$.AnnotationEditorType=$.AnnotationEditorPrefix=$.AnnotationEditorParamsType=$.AnnotationBorderStyleType=$.AnnotationActionEventType=$.AbortException=void 0,$.assert=Mt,$.bytesToString=wn,$.createValidAbsoluteUrl=sn,$.getModificationDate=Rn,$.getUuid=Un,$.getVerbosityLevel=Wt,$.info=Yt,$.isArrayBuffer=Cn,$.isArrayEqual=vn,$.isNodeJS=void 0,$.normalizeUnicode=Ln,$.objectFromMap=Tn,$.objectSize=In,$.setVerbosityLevel=bn,$.shadow=zt,$.string32=Fn,$.stringToBytes=En,$.stringToPDFString=Sn,$.stringToUTF8String=kn,$.unreachable=Ut,$.utf8StringToString=Pn,$.warn=dn;const xt=typeof process=="object"&&process+""=="[object process]"&&!process.versions.nw&&!(process.versions.electron&&process.type&&process.type!=="browser");$.isNodeJS=xt;const bt=[1,0,0,1,0,0];$.IDENTITY_MATRIX=bt;const St=[.001,0,0,.001,0,0];$.FONT_IDENTITY_MATRIX=St;const At=1e7;$.MAX_IMAGE_SIZE_TO_CACHE=At;const Ct=1.35;$.LINE_FACTOR=Ct;const Et=.35;$.LINE_DESCENT_FACTOR=Et;const Pt=Et/Ct;$.BASELINE_FACTOR=Pt;const wt={ANY:1,DISPLAY:2,PRINT:4,SAVE:8,ANNOTATIONS_FORMS:16,ANNOTATIONS_STORAGE:32,ANNOTATIONS_DISABLE:64,OPLIST:256};$.RenderingIntentFlag=wt;const kt={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3};$.AnnotationMode=kt;const _t="pdfjs_internal_editor_";$.AnnotationEditorPrefix=_t;const ht={DISABLE:-1,NONE:0,FREETEXT:3,STAMP:13,INK:15};$.AnnotationEditorType=ht;const vt={RESIZE:1,CREATE:2,FREETEXT_SIZE:11,FREETEXT_COLOR:12,FREETEXT_OPACITY:13,INK_COLOR:21,INK_THICKNESS:22,INK_OPACITY:23};$.AnnotationEditorParamsType=vt;const Ft={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048};$.PermissionFlag=Ft;const Vt={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_ADD_TO_PATH:4,STROKE_ADD_TO_PATH:5,FILL_STROKE_ADD_TO_PATH:6,ADD_TO_PATH:7,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4};$.TextRenderingMode=Vt;const qt={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3};$.ImageKind=qt;const Lt={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,SOUND:18,MOVIE:19,WIDGET:20,SCREEN:21,PRINTERMARK:22,TRAPNET:23,WATERMARK:24,THREED:25,REDACT:26};$.AnnotationType=Lt;const $t={GROUP:"Group",REPLY:"R"};$.AnnotationReplyType=$t;const Ot={INVISIBLE:1,HIDDEN:2,PRINT:4,NOZOOM:8,NOROTATE:16,NOVIEW:32,READONLY:64,LOCKED:128,TOGGLENOVIEW:256,LOCKEDCONTENTS:512};$.AnnotationFlag=Ot;const jt={READONLY:1,REQUIRED:2,NOEXPORT:4,MULTILINE:4096,PASSWORD:8192,NOTOGGLETOOFF:16384,RADIO:32768,PUSHBUTTON:65536,COMBO:131072,EDIT:262144,SORT:524288,FILESELECT:1048576,MULTISELECT:2097152,DONOTSPELLCHECK:4194304,DONOTSCROLL:8388608,COMB:16777216,RICHTEXT:33554432,RADIOSINUNISON:33554432,COMMITONSELCHANGE:67108864};$.AnnotationFieldFlag=jt;const Rt={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5};$.AnnotationBorderStyleType=Rt;const Kt={E:"Mouse Enter",X:"Mouse Exit",D:"Mouse Down",U:"Mouse Up",Fo:"Focus",Bl:"Blur",PO:"PageOpen",PC:"PageClose",PV:"PageVisible",PI:"PageInvisible",K:"Keystroke",F:"Format",V:"Validate",C:"Calculate"};$.AnnotationActionEventType=Kt;const Bt={WC:"WillClose",WS:"WillSave",DS:"DidSave",WP:"WillPrint",DP:"DidPrint"};$.DocumentActionEventType=Bt;const Gt={O:"PageOpen",C:"PageClose"};$.PageActionEventType=Gt;const en={ERRORS:0,WARNINGS:1,INFOS:5};$.VerbosityLevel=en;const hn={NONE:0,BINARY:1};$.CMapCompressionType=hn;const tn={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotation:80,endAnnotation:81,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91};$.OPS=tn;const gn={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};$.PasswordResponses=gn;let nn=en.WARNINGS;function bn(Qn){Number.isInteger(Qn)&&(nn=Qn)}function Wt(){return nn}function Yt(Qn){nn>=en.INFOS&&console.log(`Info: ${Qn}`)}function dn(Qn){nn>=en.WARNINGS&&console.log(`Warning: ${Qn}`)}function Ut(Qn){throw new Error(Qn)}function Mt(Qn,Yn){Qn||Ut(Yn)}function Ht(Qn){switch(Qn==null?void 0:Qn.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}function sn(Qn,Yn=null,zn=null){if(!Qn)return null;try{if(zn&&typeof Qn=="string"){if(zn.addDefaultProtocol&&Qn.startsWith("www.")){const ls=Qn.match(/\./g);(ls==null?void 0:ls.length)>=2&&(Qn=`http://${Qn}`)}if(zn.tryConvertEncoding)try{Qn=kn(Qn)}catch{}}const ns=Yn?new URL(Qn,Yn):new URL(Qn);if(Ht(ns))return ns}catch{}return null}function zt(Qn,Yn,zn,ns=!1){return Object.defineProperty(Qn,Yn,{value:zn,enumerable:!ns,configurable:!0,writable:!1}),zn}const Xt=function(){function Yn(zn,ns){this.constructor===Yn&&Ut("Cannot initialize BaseException."),this.message=zn,this.name=ns}return Yn.prototype=new Error,Yn.constructor=Yn,Yn}();$.BaseException=Xt;class Qt extends Xt{constructor(Yn,zn){super(Yn,"PasswordException"),this.code=zn}}$.PasswordException=Qt;class ln extends Xt{constructor(Yn,zn){super(Yn,"UnknownErrorException"),this.details=zn}}$.UnknownErrorException=ln;class on extends Xt{constructor(Yn){super(Yn,"InvalidPDFException")}}$.InvalidPDFException=on;class cn extends Xt{constructor(Yn){super(Yn,"MissingPDFException")}}$.MissingPDFException=cn;class rn extends Xt{constructor(Yn,zn){super(Yn,"UnexpectedResponseException"),this.status=zn}}$.UnexpectedResponseException=rn;class an extends Xt{constructor(Yn){super(Yn,"FormatError")}}$.FormatError=an;class xn extends Xt{constructor(Yn){super(Yn,"AbortException")}}$.AbortException=xn;function wn(Qn){(typeof Qn!="object"||(Qn==null?void 0:Qn.length)===void 0)&&Ut("Invalid argument for bytesToString");const Yn=Qn.length,zn=8192;if(Yn<zn)return String.fromCharCode.apply(null,Qn);const ns=[];for(let ls=0;ls<Yn;ls+=zn){const ds=Math.min(ls+zn,Yn),Bn=Qn.subarray(ls,ds);ns.push(String.fromCharCode.apply(null,Bn))}return ns.join("")}function En(Qn){typeof Qn!="string"&&Ut("Invalid argument for stringToBytes");const Yn=Qn.length,zn=new Uint8Array(Yn);for(let ns=0;ns<Yn;++ns)zn[ns]=Qn.charCodeAt(ns)&255;return zn}function Fn(Qn){return String.fromCharCode(Qn>>24&255,Qn>>16&255,Qn>>8&255,Qn&255)}function In(Qn){return Object.keys(Qn).length}function Tn(Qn){const Yn=Object.create(null);for(const[zn,ns]of Qn)Yn[zn]=ns;return Yn}function An(){const Qn=new Uint8Array(4);return Qn[0]=1,new Uint32Array(Qn.buffer,0,1)[0]===1}function mn(){try{return new Function(""),!0}catch{return!1}}class pn{static get isLittleEndian(){return zt(this,"isLittleEndian",An())}static get isEvalSupported(){return zt(this,"isEvalSupported",mn())}static get isOffscreenCanvasSupported(){return zt(this,"isOffscreenCanvasSupported",typeof OffscreenCanvas<"u")}static get platform(){return typeof navigator>"u"?zt(this,"platform",{isWin:!1,isMac:!1}):zt(this,"platform",{isWin:navigator.platform.includes("Win"),isMac:navigator.platform.includes("Mac")})}static get isCSSRoundSupported(){var Yn,zn;return zt(this,"isCSSRoundSupported",(zn=(Yn=globalThis.CSS)==null?void 0:Yn.supports)==null?void 0:zn.call(Yn,"width: round(1.5px, 1px)"))}}$.FeatureTest=pn;const Jt=[...Array(256).keys()].map(Qn=>Qn.toString(16).padStart(2,"0"));class un{static makeHexColor(Yn,zn,ns){return`#${Jt[Yn]}${Jt[zn]}${Jt[ns]}`}static scaleMinMax(Yn,zn){let ns;Yn[0]?(Yn[0]<0&&(ns=zn[0],zn[0]=zn[1],zn[1]=ns),zn[0]*=Yn[0],zn[1]*=Yn[0],Yn[3]<0&&(ns=zn[2],zn[2]=zn[3],zn[3]=ns),zn[2]*=Yn[3],zn[3]*=Yn[3]):(ns=zn[0],zn[0]=zn[2],zn[2]=ns,ns=zn[1],zn[1]=zn[3],zn[3]=ns,Yn[1]<0&&(ns=zn[2],zn[2]=zn[3],zn[3]=ns),zn[2]*=Yn[1],zn[3]*=Yn[1],Yn[2]<0&&(ns=zn[0],zn[0]=zn[1],zn[1]=ns),zn[0]*=Yn[2],zn[1]*=Yn[2]),zn[0]+=Yn[4],zn[1]+=Yn[4],zn[2]+=Yn[5],zn[3]+=Yn[5]}static transform(Yn,zn){return[Yn[0]*zn[0]+Yn[2]*zn[1],Yn[1]*zn[0]+Yn[3]*zn[1],Yn[0]*zn[2]+Yn[2]*zn[3],Yn[1]*zn[2]+Yn[3]*zn[3],Yn[0]*zn[4]+Yn[2]*zn[5]+Yn[4],Yn[1]*zn[4]+Yn[3]*zn[5]+Yn[5]]}static applyTransform(Yn,zn){const ns=Yn[0]*zn[0]+Yn[1]*zn[2]+zn[4],ls=Yn[0]*zn[1]+Yn[1]*zn[3]+zn[5];return[ns,ls]}static applyInverseTransform(Yn,zn){const ns=zn[0]*zn[3]-zn[1]*zn[2],ls=(Yn[0]*zn[3]-Yn[1]*zn[2]+zn[2]*zn[5]-zn[4]*zn[3])/ns,ds=(-Yn[0]*zn[1]+Yn[1]*zn[0]+zn[4]*zn[1]-zn[5]*zn[0])/ns;return[ls,ds]}static getAxialAlignedBoundingBox(Yn,zn){const ns=this.applyTransform(Yn,zn),ls=this.applyTransform(Yn.slice(2,4),zn),ds=this.applyTransform([Yn[0],Yn[3]],zn),Bn=this.applyTransform([Yn[2],Yn[1]],zn);return[Math.min(ns[0],ls[0],ds[0],Bn[0]),Math.min(ns[1],ls[1],ds[1],Bn[1]),Math.max(ns[0],ls[0],ds[0],Bn[0]),Math.max(ns[1],ls[1],ds[1],Bn[1])]}static inverseTransform(Yn){const zn=Yn[0]*Yn[3]-Yn[1]*Yn[2];return[Yn[3]/zn,-Yn[1]/zn,-Yn[2]/zn,Yn[0]/zn,(Yn[2]*Yn[5]-Yn[4]*Yn[3])/zn,(Yn[4]*Yn[1]-Yn[5]*Yn[0])/zn]}static singularValueDecompose2dScale(Yn){const zn=[Yn[0],Yn[2],Yn[1],Yn[3]],ns=Yn[0]*zn[0]+Yn[1]*zn[2],ls=Yn[0]*zn[1]+Yn[1]*zn[3],ds=Yn[2]*zn[0]+Yn[3]*zn[2],Bn=Yn[2]*zn[1]+Yn[3]*zn[3],Hn=(ns+Bn)/2,Xn=Math.sqrt((ns+Bn)**2-4*(ns*Bn-ds*ls))/2,cs=Hn+Xn||1,rs=Hn-Xn||1;return[Math.sqrt(cs),Math.sqrt(rs)]}static normalizeRect(Yn){const zn=Yn.slice(0);return Yn[0]>Yn[2]&&(zn[0]=Yn[2],zn[2]=Yn[0]),Yn[1]>Yn[3]&&(zn[1]=Yn[3],zn[3]=Yn[1]),zn}static intersect(Yn,zn){const ns=Math.max(Math.min(Yn[0],Yn[2]),Math.min(zn[0],zn[2])),ls=Math.min(Math.max(Yn[0],Yn[2]),Math.max(zn[0],zn[2]));if(ns>ls)return null;const ds=Math.max(Math.min(Yn[1],Yn[3]),Math.min(zn[1],zn[3])),Bn=Math.min(Math.max(Yn[1],Yn[3]),Math.max(zn[1],zn[3]));return ds>Bn?null:[ns,ds,ls,Bn]}static bezierBoundingBox(Yn,zn,ns,ls,ds,Bn,Hn,Xn){const cs=[],rs=[[],[]];let xs,Jn,Wn,Zn,us,hs,os,ps;for(let Ls=0;Ls<2;++Ls){if(Ls===0?(Jn=6*Yn-12*ns+6*ds,xs=-3*Yn+9*ns-9*ds+3*Hn,Wn=3*ns-3*Yn):(Jn=6*zn-12*ls+6*Bn,xs=-3*zn+9*ls-9*Bn+3*Xn,Wn=3*ls-3*zn),Math.abs(xs)<1e-12){if(Math.abs(Jn)<1e-12)continue;Zn=-Wn/Jn,0<Zn&&Zn<1&&cs.push(Zn);continue}os=Jn*Jn-4*Wn*xs,ps=Math.sqrt(os),!(os<0)&&(us=(-Jn+ps)/(2*xs),0<us&&us<1&&cs.push(us),hs=(-Jn-ps)/(2*xs),0<hs&&hs<1&&cs.push(hs))}let ws=cs.length,fs;const Ss=ws;for(;ws--;)Zn=cs[ws],fs=1-Zn,rs[0][ws]=fs*fs*fs*Yn+3*fs*fs*Zn*ns+3*fs*Zn*Zn*ds+Zn*Zn*Zn*Hn,rs[1][ws]=fs*fs*fs*zn+3*fs*fs*Zn*ls+3*fs*Zn*Zn*Bn+Zn*Zn*Zn*Xn;return rs[0][Ss]=Yn,rs[1][Ss]=zn,rs[0][Ss+1]=Hn,rs[1][Ss+1]=Xn,rs[0].length=rs[1].length=Ss+2,[Math.min(...rs[0]),Math.min(...rs[1]),Math.max(...rs[0]),Math.max(...rs[1])]}}$.Util=un;const fn=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,728,711,710,729,733,731,730,732,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,8226,8224,8225,8230,8212,8211,402,8260,8249,8250,8722,8240,8222,8220,8221,8216,8217,8218,8482,64257,64258,321,338,352,376,381,305,322,339,353,382,0,8364];function Sn(Qn){if(Qn[0]>=""){let zn;if(Qn[0]===""&&Qn[1]===""?zn="utf-16be":Qn[0]===""&&Qn[1]===""?zn="utf-16le":Qn[0]===""&&Qn[1]===""&&Qn[2]===""&&(zn="utf-8"),zn)try{const ns=new TextDecoder(zn,{fatal:!0}),ls=En(Qn);return ns.decode(ls)}catch(ns){dn(`stringToPDFString: "${ns}".`)}}const Yn=[];for(let zn=0,ns=Qn.length;zn<ns;zn++){const ls=fn[Qn.charCodeAt(zn)];Yn.push(ls?String.fromCharCode(ls):Qn.charAt(zn))}return Yn.join("")}function kn(Qn){return decodeURIComponent(escape(Qn))}function Pn(Qn){return unescape(encodeURIComponent(Qn))}function Cn(Qn){return typeof Qn=="object"&&(Qn==null?void 0:Qn.byteLength)!==void 0}function vn(Qn,Yn){if(Qn.length!==Yn.length)return!1;for(let zn=0,ns=Qn.length;zn<ns;zn++)if(Qn[zn]!==Yn[zn])return!1;return!0}function Rn(Qn=new Date){return[Qn.getUTCFullYear().toString(),(Qn.getUTCMonth()+1).toString().padStart(2,"0"),Qn.getUTCDate().toString().padStart(2,"0"),Qn.getUTCHours().toString().padStart(2,"0"),Qn.getUTCMinutes().toString().padStart(2,"0"),Qn.getUTCSeconds().toString().padStart(2,"0")].join("")}class Mn{constructor(){Nn(this,es,!1);this.promise=new Promise((Yn,zn)=>{this.resolve=ns=>{$n(this,es,!0),Yn(ns)},this.reject=ns=>{$n(this,es,!0),zn(ns)}})}get settled(){return Dt(this,es)}}es=new WeakMap,$.PromiseCapability=Mn;let _n=null,Dn=null;function Ln(Qn){return _n||(_n=/([\u00a0\u00b5\u037e\u0eb3\u2000-\u200a\u202f\u2126\ufb00-\ufb04\ufb06\ufb20-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufba1\ufba4-\ufba9\ufbae-\ufbb1\ufbd3-\ufbdc\ufbde-\ufbe7\ufbea-\ufbf8\ufbfc-\ufbfd\ufc00-\ufc5d\ufc64-\ufcf1\ufcf5-\ufd3d\ufd88\ufdf4\ufdfa-\ufdfb\ufe71\ufe77\ufe79\ufe7b\ufe7d]+)|(\ufb05+)/gu,Dn=new Map([["","t"]])),Qn.replaceAll(_n,(Yn,zn,ns)=>zn?zn.normalize("NFKC"):Dn.get(ns))}function Un(){if(typeof crypto<"u"&&typeof(crypto==null?void 0:crypto.randomUUID)=="function")return crypto.randomUUID();const Qn=new Uint8Array(32);if(typeof crypto<"u"&&typeof(crypto==null?void 0:crypto.getRandomValues)=="function")crypto.getRandomValues(Qn);else for(let Yn=0;Yn<32;Yn++)Qn[Yn]=Math.floor(Math.random()*255);return wn(Qn)}const ts="pdfjs_internal_id_";$.AnnotationPrefix=ts},(__unused_webpack_module,exports,__w_pdfjs_require__)=>{var _e,xt,bt,St,Up,E2,Et,Pt,wt,kt,_t,ht,vt,Ft,Vt,C2,Lt,$t,d3,jt,Rt;Object.defineProperty(exports,"__esModule",{value:!0}),exports.RenderTask=exports.PDFWorkerUtil=exports.PDFWorker=exports.PDFPageProxy=exports.PDFDocumentProxy=exports.PDFDocumentLoadingTask=exports.PDFDataRangeTransport=exports.LoopbackPort=exports.DefaultStandardFontDataFactory=exports.DefaultFilterFactory=exports.DefaultCanvasFactory=exports.DefaultCMapReaderFactory=void 0,Object.defineProperty(exports,"SVGGraphics",{enumerable:!0,get:function(){return _displaySvg.SVGGraphics}}),exports.build=void 0,exports.getDocument=getDocument,exports.version=void 0;var _util=__w_pdfjs_require__(1),_annotation_storage=__w_pdfjs_require__(3),_display_utils=__w_pdfjs_require__(6),_font_loader=__w_pdfjs_require__(9),_displayNode_utils=__w_pdfjs_require__(10),_canvas=__w_pdfjs_require__(11),_worker_options=__w_pdfjs_require__(14),_message_handler=__w_pdfjs_require__(15),_metadata=__w_pdfjs_require__(16),_optional_content_config=__w_pdfjs_require__(17),_transport_stream=__w_pdfjs_require__(18),_displayFetch_stream=__w_pdfjs_require__(19),_displayNetwork=__w_pdfjs_require__(22),_displayNode_stream=__w_pdfjs_require__(23),_displaySvg=__w_pdfjs_require__(24),_xfa_text=__w_pdfjs_require__(25);const DEFAULT_RANGE_CHUNK_SIZE=65536,RENDERING_CANCELLED_TIMEOUT=100,DELAYED_CLEANUP_TIMEOUT=5e3,DefaultCanvasFactory=_util.isNodeJS?_displayNode_utils.NodeCanvasFactory:_display_utils.DOMCanvasFactory;exports.DefaultCanvasFactory=DefaultCanvasFactory;const DefaultCMapReaderFactory=_util.isNodeJS?_displayNode_utils.NodeCMapReaderFactory:_display_utils.DOMCMapReaderFactory;exports.DefaultCMapReaderFactory=DefaultCMapReaderFactory;const DefaultFilterFactory=_util.isNodeJS?_displayNode_utils.NodeFilterFactory:_display_utils.DOMFilterFactory;exports.DefaultFilterFactory=DefaultFilterFactory;const DefaultStandardFontDataFactory=_util.isNodeJS?_displayNode_utils.NodeStandardFontDataFactory:_display_utils.DOMStandardFontDataFactory;exports.DefaultStandardFontDataFactory=DefaultStandardFontDataFactory;function getDocument(Bt){if(typeof Bt=="string"||Bt instanceof URL?Bt={url:Bt}:(0,_util.isArrayBuffer)(Bt)&&(Bt={data:Bt}),typeof Bt!="object")throw new Error("Invalid parameter in getDocument, need parameter object.");if(!Bt.url&&!Bt.data&&!Bt.range)throw new Error("Invalid parameter object: need either .data, .range or .url");const Gt=new PDFDocumentLoadingTask,{docId:en}=Gt,hn=Bt.url?getUrlProp(Bt.url):null,tn=Bt.data?getDataProp(Bt.data):null,gn=Bt.httpHeaders||null,nn=Bt.withCredentials===!0,bn=Bt.password??null,Wt=Bt.range instanceof PDFDataRangeTransport?Bt.range:null,Yt=Number.isInteger(Bt.rangeChunkSize)&&Bt.rangeChunkSize>0?Bt.rangeChunkSize:DEFAULT_RANGE_CHUNK_SIZE;let dn=Bt.worker instanceof PDFWorker?Bt.worker:null;const Ut=Bt.verbosity,Mt=typeof Bt.docBaseUrl=="string"&&!(0,_display_utils.isDataScheme)(Bt.docBaseUrl)?Bt.docBaseUrl:null,Ht=typeof Bt.cMapUrl=="string"?Bt.cMapUrl:null,sn=Bt.cMapPacked!==!1,zt=Bt.CMapReaderFactory||DefaultCMapReaderFactory,Xt=typeof Bt.standardFontDataUrl=="string"?Bt.standardFontDataUrl:null,Qt=Bt.StandardFontDataFactory||DefaultStandardFontDataFactory,ln=Bt.stopAtErrors!==!0,on=Number.isInteger(Bt.maxImageSize)&&Bt.maxImageSize>-1?Bt.maxImageSize:-1,cn=Bt.isEvalSupported!==!1,rn=typeof Bt.isOffscreenCanvasSupported=="boolean"?Bt.isOffscreenCanvasSupported:!_util.isNodeJS,an=Number.isInteger(Bt.canvasMaxAreaInBytes)?Bt.canvasMaxAreaInBytes:-1,xn=typeof Bt.disableFontFace=="boolean"?Bt.disableFontFace:_util.isNodeJS,wn=Bt.fontExtraProperties===!0,En=Bt.enableXfa===!0,Fn=Bt.ownerDocument||globalThis.document,In=Bt.disableRange===!0,Tn=Bt.disableStream===!0,An=Bt.disableAutoFetch===!0,mn=Bt.pdfBug===!0,pn=Wt?Wt.length:Bt.length??NaN,Jt=typeof Bt.useSystemFonts=="boolean"?Bt.useSystemFonts:!_util.isNodeJS&&!xn,un=typeof Bt.useWorkerFetch=="boolean"?Bt.useWorkerFetch:zt===_display_utils.DOMCMapReaderFactory&&Qt===_display_utils.DOMStandardFontDataFactory&&Ht&&Xt&&(0,_display_utils.isValidFetchUrl)(Ht,document.baseURI)&&(0,_display_utils.isValidFetchUrl)(Xt,document.baseURI),fn=Bt.canvasFactory||new DefaultCanvasFactory({ownerDocument:Fn}),Sn=Bt.filterFactory||new DefaultFilterFactory({docId:en,ownerDocument:Fn}),kn=null;(0,_util.setVerbosityLevel)(Ut);const Pn={canvasFactory:fn,filterFactory:Sn};if(un||(Pn.cMapReaderFactory=new zt({baseUrl:Ht,isCompressed:sn}),Pn.standardFontDataFactory=new Qt({baseUrl:Xt})),!dn){const Rn={verbosity:Ut,port:_worker_options.GlobalWorkerOptions.workerPort};dn=Rn.port?PDFWorker.fromPort(Rn):new PDFWorker(Rn),Gt._worker=dn}const Cn={docId:en,apiVersion:"3.11.174",data:tn,password:bn,disableAutoFetch:An,rangeChunkSize:Yt,length:pn,docBaseUrl:Mt,enableXfa:En,evaluatorOptions:{maxImageSize:on,disableFontFace:xn,ignoreErrors:ln,isEvalSupported:cn,isOffscreenCanvasSupported:rn,canvasMaxAreaInBytes:an,fontExtraProperties:wn,useSystemFonts:Jt,cMapUrl:un?Ht:null,standardFontDataUrl:un?Xt:null}},vn={ignoreErrors:ln,isEvalSupported:cn,disableFontFace:xn,fontExtraProperties:wn,enableXfa:En,ownerDocument:Fn,disableAutoFetch:An,pdfBug:mn,styleElement:kn};return dn.promise.then(function(){if(Gt.destroyed)throw new Error("Loading aborted");const Rn=_fetchDocument(dn,Cn),Mn=new Promise(function(_n){let Dn;Wt?Dn=new _transport_stream.PDFDataTransportStream({length:pn,initialData:Wt.initialData,progressiveDone:Wt.progressiveDone,contentDispositionFilename:Wt.contentDispositionFilename,disableRange:In,disableStream:Tn},Wt):tn||(Dn=(Un=>_util.isNodeJS?new _displayNode_stream.PDFNodeStream(Un):(0,_display_utils.isValidFetchUrl)(Un.url)?new _displayFetch_stream.PDFFetchStream(Un):new _displayNetwork.PDFNetworkStream(Un))({url:hn,length:pn,httpHeaders:gn,withCredentials:nn,rangeChunkSize:Yt,disableRange:In,disableStream:Tn})),_n(Dn)});return Promise.all([Rn,Mn]).then(function([_n,Dn]){if(Gt.destroyed)throw new Error("Loading aborted");const Ln=new _message_handler.MessageHandler(en,_n,dn.port),Un=new WorkerTransport(Ln,Gt,Dn,vn,Pn);Gt._transport=Un,Ln.send("Ready",null)})}).catch(Gt._capability.reject),Gt}async function _fetchDocument(Bt,Gt){if(Bt.destroyed)throw new Error("Worker was destroyed");const en=await Bt.messageHandler.sendWithPromise("GetDocRequest",Gt,Gt.data?[Gt.data.buffer]:null);if(Bt.destroyed)throw new Error("Worker was destroyed");return en}function getUrlProp(Bt){if(Bt instanceof URL)return Bt.href;try{return new URL(Bt,window.location).href}catch{if(_util.isNodeJS&&typeof Bt=="string")return Bt}throw new Error("Invalid PDF url data: either string or URL-object is expected in the url property.")}function getDataProp(Bt){if(_util.isNodeJS&&typeof Buffer<"u"&&Bt instanceof Buffer)throw new Error("Please provide binary data as `Uint8Array`, rather than `Buffer`.");if(Bt instanceof Uint8Array&&Bt.byteLength===Bt.buffer.byteLength)return Bt;if(typeof Bt=="string")return(0,_util.stringToBytes)(Bt);if(typeof Bt=="object"&&!isNaN(Bt==null?void 0:Bt.length)||(0,_util.isArrayBuffer)(Bt))return new Uint8Array(Bt);throw new Error("Invalid PDF binary data: either TypedArray, string, or array-like object is expected in the data property.")}const $=class ${constructor(){this._capability=new _util.PromiseCapability,this._transport=null,this._worker=null,this.docId=`d${Ao($,_e)._++}`,this.destroyed=!1,this.onPassword=null,this.onProgress=null}get promise(){return this._capability.promise}async destroy(){var Gt,en,hn;this.destroyed=!0;try{(Gt=this._worker)!=null&&Gt.port&&(this._worker._pendingDestroy=!0),await((en=this._transport)==null?void 0:en.destroy())}catch(tn){throw(hn=this._worker)!=null&&hn.port&&delete this._worker._pendingDestroy,tn}this._transport=null,this._worker&&(this._worker.destroy(),this._worker=null)}};_e=new WeakMap,Nn($,_e,0);let PDFDocumentLoadingTask=$;exports.PDFDocumentLoadingTask=PDFDocumentLoadingTask;class PDFDataRangeTransport{constructor(Gt,en,hn=!1,tn=null){this.length=Gt,this.initialData=en,this.progressiveDone=hn,this.contentDispositionFilename=tn,this._rangeListeners=[],this._progressListeners=[],this._progressiveReadListeners=[],this._progressiveDoneListeners=[],this._readyCapability=new _util.PromiseCapability}addRangeListener(Gt){this._rangeListeners.push(Gt)}addProgressListener(Gt){this._progressListeners.push(Gt)}addProgressiveReadListener(Gt){this._progressiveReadListeners.push(Gt)}addProgressiveDoneListener(Gt){this._progressiveDoneListeners.push(Gt)}onDataRange(Gt,en){for(const hn of this._rangeListeners)hn(Gt,en)}onDataProgress(Gt,en){this._readyCapability.promise.then(()=>{for(const hn of this._progressListeners)hn(Gt,en)})}onDataProgressiveRead(Gt){this._readyCapability.promise.then(()=>{for(const en of this._progressiveReadListeners)en(Gt)})}onDataProgressiveDone(){this._readyCapability.promise.then(()=>{for(const Gt of this._progressiveDoneListeners)Gt()})}transportReady(){this._readyCapability.resolve()}requestDataRange(Gt,en){(0,_util.unreachable)("Abstract method PDFDataRangeTransport.requestDataRange")}abort(){}}exports.PDFDataRangeTransport=PDFDataRangeTransport;class PDFDocumentProxy{constructor(Gt,en){this._pdfInfo=Gt,this._transport=en,Object.defineProperty(this,"getJavaScript",{value:()=>((0,_display_utils.deprecated)("`PDFDocumentProxy.getJavaScript`, please use `PDFDocumentProxy.getJSActions` instead."),this.getJSActions().then(hn=>{if(!hn)return hn;const tn=[];for(const gn in hn)tn.push(...hn[gn]);return tn}))})}get annotationStorage(){return this._transport.annotationStorage}get filterFactory(){return this._transport.filterFactory}get numPages(){return this._pdfInfo.numPages}get fingerprints(){return this._pdfInfo.fingerprints}get isPureXfa(){return(0,_util.shadow)(this,"isPureXfa",!!this._transport._htmlForXfa)}get allXfaHtml(){return this._transport._htmlForXfa}getPage(Gt){return this._transport.getPage(Gt)}getPageIndex(Gt){return this._transport.getPageIndex(Gt)}getDestinations(){return this._transport.getDestinations()}getDestination(Gt){return this._transport.getDestination(Gt)}getPageLabels(){return this._transport.getPageLabels()}getPageLayout(){return this._transport.getPageLayout()}getPageMode(){return this._transport.getPageMode()}getViewerPreferences(){return this._transport.getViewerPreferences()}getOpenAction(){return this._transport.getOpenAction()}getAttachments(){return this._transport.getAttachments()}getJSActions(){return this._transport.getDocJSActions()}getOutline(){return this._transport.getOutline()}getOptionalContentConfig(){return this._transport.getOptionalContentConfig()}getPermissions(){return this._transport.getPermissions()}getMetadata(){return this._transport.getMetadata()}getMarkInfo(){return this._transport.getMarkInfo()}getData(){return this._transport.getData()}saveDocument(){return this._transport.saveDocument()}getDownloadInfo(){return this._transport.downloadInfoCapability.promise}cleanup(Gt=!1){return this._transport.startCleanup(Gt||this.isPureXfa)}destroy(){return this.loadingTask.destroy()}get loadingParams(){return this._transport.loadingParams}get loadingTask(){return this._transport.loadingTask}getFieldObjects(){return this._transport.getFieldObjects()}hasJSActions(){return this._transport.hasJSActions()}getCalculationOrderIds(){return this._transport.getCalculationOrderIds()}}exports.PDFDocumentProxy=PDFDocumentProxy;class PDFPageProxy{constructor(Gt,en,hn,tn=!1){Nn(this,St);Nn(this,xt,null);Nn(this,bt,!1);this._pageIndex=Gt,this._pageInfo=en,this._transport=hn,this._stats=tn?new _display_utils.StatTimer:null,this._pdfBug=tn,this.commonObjs=hn.commonObjs,this.objs=new PDFObjects,this._maybeCleanupAfterRender=!1,this._intentStates=new Map,this.destroyed=!1}get pageNumber(){return this._pageIndex+1}get rotate(){return this._pageInfo.rotate}get ref(){return this._pageInfo.ref}get userUnit(){return this._pageInfo.userUnit}get view(){return this._pageInfo.view}getViewport({scale:Gt,rotation:en=this.rotate,offsetX:hn=0,offsetY:tn=0,dontFlip:gn=!1}={}){return new _display_utils.PageViewport({viewBox:this.view,scale:Gt,rotation:en,offsetX:hn,offsetY:tn,dontFlip:gn})}getAnnotations({intent:Gt="display"}={}){const en=this._transport.getRenderingIntent(Gt);return this._transport.getAnnotations(this._pageIndex,en.renderingIntent)}getJSActions(){return this._transport.getPageJSActions(this._pageIndex)}get filterFactory(){return this._transport.filterFactory}get isPureXfa(){return(0,_util.shadow)(this,"isPureXfa",!!this._transport._htmlForXfa)}async getXfa(){var Gt;return((Gt=this._transport._htmlForXfa)==null?void 0:Gt.children[this._pageIndex])||null}render({canvasContext:Gt,viewport:en,intent:hn="display",annotationMode:tn=_util.AnnotationMode.ENABLE,transform:gn=null,background:nn=null,optionalContentConfigPromise:bn=null,annotationCanvasMap:Wt=null,pageColors:Yt=null,printAnnotationStorage:dn=null}){var Qt,ln;(Qt=this._stats)==null||Qt.time("Overall");const Ut=this._transport.getRenderingIntent(hn,tn,dn);$n(this,bt,!1),On(this,St,E2).call(this),bn||(bn=this._transport.getOptionalContentConfig());let Mt=this._intentStates.get(Ut.cacheKey);Mt||(Mt=Object.create(null),this._intentStates.set(Ut.cacheKey,Mt)),Mt.streamReaderCancelTimeout&&(clearTimeout(Mt.streamReaderCancelTimeout),Mt.streamReaderCancelTimeout=null);const Ht=!!(Ut.renderingIntent&_util.RenderingIntentFlag.PRINT);Mt.displayReadyCapability||(Mt.displayReadyCapability=new _util.PromiseCapability,Mt.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(ln=this._stats)==null||ln.time("Page Request"),this._pumpOperatorList(Ut));const sn=on=>{var cn,rn;Mt.renderTasks.delete(zt),(this._maybeCleanupAfterRender||Ht)&&$n(this,bt,!0),On(this,St,Up).call(this,!Ht),on?(zt.capability.reject(on),this._abortOperatorList({intentState:Mt,reason:on instanceof Error?on:new Error(on)})):zt.capability.resolve(),(cn=this._stats)==null||cn.timeEnd("Rendering"),(rn=this._stats)==null||rn.timeEnd("Overall")},zt=new InternalRenderTask({callback:sn,params:{canvasContext:Gt,viewport:en,transform:gn,background:nn},objs:this.objs,commonObjs:this.commonObjs,annotationCanvasMap:Wt,operatorList:Mt.operatorList,pageIndex:this._pageIndex,canvasFactory:this._transport.canvasFactory,filterFactory:this._transport.filterFactory,useRequestAnimationFrame:!Ht,pdfBug:this._pdfBug,pageColors:Yt});(Mt.renderTasks||(Mt.renderTasks=new Set)).add(zt);const Xt=zt.task;return Promise.all([Mt.displayReadyCapability.promise,bn]).then(([on,cn])=>{var rn;if(this.destroyed){sn();return}(rn=this._stats)==null||rn.time("Rendering"),zt.initializeGraphics({transparency:on,optionalContentConfig:cn}),zt.operatorListChanged()}).catch(sn),Xt}getOperatorList({intent:Gt="display",annotationMode:en=_util.AnnotationMode.ENABLE,printAnnotationStorage:hn=null}={}){var Wt;function tn(){nn.operatorList.lastChunk&&(nn.opListReadCapability.resolve(nn.operatorList),nn.renderTasks.delete(bn))}const gn=this._transport.getRenderingIntent(Gt,en,hn,!0);let nn=this._intentStates.get(gn.cacheKey);nn||(nn=Object.create(null),this._intentStates.set(gn.cacheKey,nn));let bn;return nn.opListReadCapability||(bn=Object.create(null),bn.operatorListChanged=tn,nn.opListReadCapability=new _util.PromiseCapability,(nn.renderTasks||(nn.renderTasks=new Set)).add(bn),nn.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(Wt=this._stats)==null||Wt.time("Page Request"),this._pumpOperatorList(gn)),nn.opListReadCapability.promise}streamTextContent({includeMarkedContent:Gt=!1,disableNormalization:en=!1}={}){return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,includeMarkedContent:Gt===!0,disableNormalization:en===!0},{highWaterMark:100,size(tn){return tn.items.length}})}getTextContent(Gt={}){if(this._transport._htmlForXfa)return this.getXfa().then(hn=>_xfa_text.XfaText.textContent(hn));const en=this.streamTextContent(Gt);return new Promise(function(hn,tn){function gn(){nn.read().then(function({value:Wt,done:Yt}){if(Yt){hn(bn);return}Object.assign(bn.styles,Wt.styles),bn.items.push(...Wt.items),gn()},tn)}const nn=en.getReader(),bn={items:[],styles:Object.create(null)};gn()})}getStructTree(){return this._transport.getStructTree(this._pageIndex)}_destroy(){this.destroyed=!0;const Gt=[];for(const en of this._intentStates.values())if(this._abortOperatorList({intentState:en,reason:new Error("Page was destroyed."),force:!0}),!en.opListReadCapability)for(const hn of en.renderTasks)Gt.push(hn.completed),hn.cancel();return this.objs.clear(),$n(this,bt,!1),On(this,St,E2).call(this),Promise.all(Gt)}cleanup(Gt=!1){$n(this,bt,!0);const en=On(this,St,Up).call(this,!1);return Gt&&en&&this._stats&&(this._stats=new _display_utils.StatTimer),en}_startRenderPage(Gt,en){var tn,gn;const hn=this._intentStates.get(en);hn&&((tn=this._stats)==null||tn.timeEnd("Page Request"),(gn=hn.displayReadyCapability)==null||gn.resolve(Gt))}_renderPageChunk(Gt,en){for(let hn=0,tn=Gt.length;hn<tn;hn++)en.operatorList.fnArray.push(Gt.fnArray[hn]),en.operatorList.argsArray.push(Gt.argsArray[hn]);en.operatorList.lastChunk=Gt.lastChunk,en.operatorList.separateAnnots=Gt.separateAnnots;for(const hn of en.renderTasks)hn.operatorListChanged();Gt.lastChunk&&On(this,St,Up).call(this,!0)}_pumpOperatorList({renderingIntent:Gt,cacheKey:en,annotationStorageSerializable:hn}){const{map:tn,transfers:gn}=hn,bn=this._transport.messageHandler.sendWithStream("GetOperatorList",{pageIndex:this._pageIndex,intent:Gt,cacheKey:en,annotationStorage:tn},gn).getReader(),Wt=this._intentStates.get(en);Wt.streamReader=bn;const Yt=()=>{bn.read().then(({value:dn,done:Ut})=>{if(Ut){Wt.streamReader=null;return}this._transport.destroyed||(this._renderPageChunk(dn,Wt),Yt())},dn=>{if(Wt.streamReader=null,!this._transport.destroyed){if(Wt.operatorList){Wt.operatorList.lastChunk=!0;for(const Ut of Wt.renderTasks)Ut.operatorListChanged();On(this,St,Up).call(this,!0)}if(Wt.displayReadyCapability)Wt.displayReadyCapability.reject(dn);else if(Wt.opListReadCapability)Wt.opListReadCapability.reject(dn);else throw dn}})};Yt()}_abortOperatorList({intentState:Gt,reason:en,force:hn=!1}){if(Gt.streamReader){if(Gt.streamReaderCancelTimeout&&(clearTimeout(Gt.streamReaderCancelTimeout),Gt.streamReaderCancelTimeout=null),!hn){if(Gt.renderTasks.size>0)return;if(en instanceof _display_utils.RenderingCancelledException){let tn=RENDERING_CANCELLED_TIMEOUT;en.extraDelay>0&&en.extraDelay<1e3&&(tn+=en.extraDelay),Gt.streamReaderCancelTimeout=setTimeout(()=>{Gt.streamReaderCancelTimeout=null,this._abortOperatorList({intentState:Gt,reason:en,force:!0})},tn);return}}if(Gt.streamReader.cancel(new _util.AbortException(en.message)).catch(()=>{}),Gt.streamReader=null,!this._transport.destroyed){for(const[tn,gn]of this._intentStates)if(gn===Gt){this._intentStates.delete(tn);break}this.cleanup()}}}get stats(){return this._stats}}xt=new WeakMap,bt=new WeakMap,St=new WeakSet,Up=function(Gt=!1){if(On(this,St,E2).call(this),!Dt(this,bt)||this.destroyed)return!1;if(Gt)return $n(this,xt,setTimeout(()=>{$n(this,xt,null),On(this,St,Up).call(this,!1)},DELAYED_CLEANUP_TIMEOUT)),!1;for(const{renderTasks:en,operatorList:hn}of this._intentStates.values())if(en.size>0||!hn.lastChunk)return!1;return this._intentStates.clear(),this.objs.clear(),$n(this,bt,!1),!0},E2=function(){Dt(this,xt)&&(clearTimeout(Dt(this,xt)),$n(this,xt,null))},exports.PDFPageProxy=PDFPageProxy;class LoopbackPort{constructor(){Nn(this,Et,new Set);Nn(this,Pt,Promise.resolve())}postMessage(Gt,en){const hn={data:structuredClone(Gt,en?{transfer:en}:null)};Dt(this,Pt).then(()=>{for(const tn of Dt(this,Et))tn.call(this,hn)})}addEventListener(Gt,en){Dt(this,Et).add(en)}removeEventListener(Gt,en){Dt(this,Et).delete(en)}terminate(){Dt(this,Et).clear()}}Et=new WeakMap,Pt=new WeakMap,exports.LoopbackPort=LoopbackPort;const PDFWorkerUtil={isWorkerDisabled:!1,fallbackWorkerSrc:null,fakeWorkerId:0};exports.PDFWorkerUtil=PDFWorkerUtil;{if(_util.isNodeJS&&typeof commonjsRequire=="function")PDFWorkerUtil.isWorkerDisabled=!0,PDFWorkerUtil.fallbackWorkerSrc="./pdf.worker.js";else if(typeof document=="object"){const Bt=(wt=document==null?void 0:document.currentScript)==null?void 0:wt.src;Bt&&(PDFWorkerUtil.fallbackWorkerSrc=Bt.replace(/(\.(?:min\.)?js)(\?.*)?$/i,".worker$1$2"))}PDFWorkerUtil.isSameOrigin=function(Bt,Gt){let en;try{if(en=new URL(Bt),!en.origin||en.origin==="null")return!1}catch{return!1}const hn=new URL(Gt,en);return en.origin===hn.origin},PDFWorkerUtil.createCDNWrapper=function(Bt){const Gt=`importScripts("${Bt}");`;return URL.createObjectURL(new Blob([Gt]))}}const _PDFWorker=class _PDFWorker{constructor({name:Bt=null,port:Gt=null,verbosity:en=(0,_util.getVerbosityLevel)()}={}){var hn;if(this.name=Bt,this.destroyed=!1,this.verbosity=en,this._readyCapability=new _util.PromiseCapability,this._port=null,this._webWorker=null,this._messageHandler=null,Gt){if((hn=Dt(_PDFWorker,kt))!=null&&hn.has(Gt))throw new Error("Cannot use more than one PDFWorker per port.");(Dt(_PDFWorker,kt)||$n(_PDFWorker,kt,new WeakMap)).set(Gt,this),this._initializeFromPort(Gt);return}this._initialize()}get promise(){return this._readyCapability.promise}get port(){return this._port}get messageHandler(){return this._messageHandler}_initializeFromPort(Bt){this._port=Bt,this._messageHandler=new _message_handler.MessageHandler("main","worker",Bt),this._messageHandler.on("ready",function(){}),this._readyCapability.resolve(),this._messageHandler.send("configure",{verbosity:this.verbosity})}_initialize(){if(!PDFWorkerUtil.isWorkerDisabled&&!_PDFWorker._mainThreadWorkerMessageHandler){let{workerSrc:Bt}=_PDFWorker;try{PDFWorkerUtil.isSameOrigin(window.location.href,Bt)||(Bt=PDFWorkerUtil.createCDNWrapper(new URL(Bt,window.location).href));const Gt=new Worker(Bt),en=new _message_handler.MessageHandler("main","worker",Gt),hn=()=>{Gt.removeEventListener("error",tn),en.destroy(),Gt.terminate(),this.destroyed?this._readyCapability.reject(new Error("Worker was destroyed")):this._setupFakeWorker()},tn=()=>{this._webWorker||hn()};Gt.addEventListener("error",tn),en.on("test",nn=>{if(Gt.removeEventListener("error",tn),this.destroyed){hn();return}nn?(this._messageHandler=en,this._port=Gt,this._webWorker=Gt,this._readyCapability.resolve(),en.send("configure",{verbosity:this.verbosity})):(this._setupFakeWorker(),en.destroy(),Gt.terminate())}),en.on("ready",nn=>{if(Gt.removeEventListener("error",tn),this.destroyed){hn();return}try{gn()}catch{this._setupFakeWorker()}});const gn=()=>{const nn=new Uint8Array;en.send("test",nn,[nn.buffer])};gn();return}catch{(0,_util.info)("The worker has been disabled.")}}this._setupFakeWorker()}_setupFakeWorker(){PDFWorkerUtil.isWorkerDisabled||((0,_util.warn)("Setting up fake worker."),PDFWorkerUtil.isWorkerDisabled=!0),_PDFWorker._setupFakeWorkerGlobal.then(Bt=>{if(this.destroyed){this._readyCapability.reject(new Error("Worker was destroyed"));return}const Gt=new LoopbackPort;this._port=Gt;const en=`fake${PDFWorkerUtil.fakeWorkerId++}`,hn=new _message_handler.MessageHandler(en+"_worker",en,Gt);Bt.setup(hn,Gt);const tn=new _message_handler.MessageHandler(en,en+"_worker",Gt);this._messageHandler=tn,this._readyCapability.resolve(),tn.send("configure",{verbosity:this.verbosity})}).catch(Bt=>{this._readyCapability.reject(new Error(`Setting up fake worker failed: "${Bt.message}".`))})}destroy(){var Bt;this.destroyed=!0,this._webWorker&&(this._webWorker.terminate(),this._webWorker=null),(Bt=Dt(_PDFWorker,kt))==null||Bt.delete(this._port),this._port=null,this._messageHandler&&(this._messageHandler.destroy(),this._messageHandler=null)}static fromPort(Bt){var en;if(!(Bt!=null&&Bt.port))throw new Error("PDFWorker.fromPort - invalid method signature.");const Gt=(en=Dt(this,kt))==null?void 0:en.get(Bt.port);if(Gt){if(Gt._pendingDestroy)throw new Error("PDFWorker.fromPort - the worker is being destroyed.\nPlease remember to await `PDFDocumentLoadingTask.destroy()`-calls.");return Gt}return new _PDFWorker(Bt)}static get workerSrc(){if(_worker_options.GlobalWorkerOptions.workerSrc)return _worker_options.GlobalWorkerOptions.workerSrc;if(PDFWorkerUtil.fallbackWorkerSrc!==null)return _util.isNodeJS||(0,_display_utils.deprecated)('No "GlobalWorkerOptions.workerSrc" specified.'),PDFWorkerUtil.fallbackWorkerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}static get _mainThreadWorkerMessageHandler(){var Bt;try{return((Bt=globalThis.pdfjsWorker)==null?void 0:Bt.WorkerMessageHandler)||null}catch{return null}}static get _setupFakeWorkerGlobal(){const loader=async()=>{const mainWorkerMessageHandler=this._mainThreadWorkerMessageHandler;if(mainWorkerMessageHandler)return mainWorkerMessageHandler;if(_util.isNodeJS&&typeof commonjsRequire=="function"){const worker=eval("require")(this.workerSrc);return worker.WorkerMessageHandler}return await(0,_display_utils.loadScript)(this.workerSrc),window.pdfjsWorker.WorkerMessageHandler};return(0,_util.shadow)(this,"_setupFakeWorkerGlobal",loader())}};kt=new WeakMap,Nn(_PDFWorker,kt);let PDFWorker=_PDFWorker;exports.PDFWorker=PDFWorker;class WorkerTransport{constructor(Gt,en,hn,tn,gn){Nn(this,Vt);Nn(this,_t,new Map);Nn(this,ht,new Map);Nn(this,vt,new Map);Nn(this,Ft,null);this.messageHandler=Gt,this.loadingTask=en,this.commonObjs=new PDFObjects,this.fontLoader=new _font_loader.FontLoader({ownerDocument:tn.ownerDocument,styleElement:tn.styleElement}),this._params=tn,this.canvasFactory=gn.canvasFactory,this.filterFactory=gn.filterFactory,this.cMapReaderFactory=gn.cMapReaderFactory,this.standardFontDataFactory=gn.standardFontDataFactory,this.destroyed=!1,this.destroyCapability=null,this._networkStream=hn,this._fullReader=null,this._lastProgress=null,this.downloadInfoCapability=new _util.PromiseCapability,this.setupMessageHandler()}get annotationStorage(){return(0,_util.shadow)(this,"annotationStorage",new _annotation_storage.AnnotationStorage)}getRenderingIntent(Gt,en=_util.AnnotationMode.ENABLE,hn=null,tn=!1){let gn=_util.RenderingIntentFlag.DISPLAY,nn=_annotation_storage.SerializableEmpty;switch(Gt){case"any":gn=_util.RenderingIntentFlag.ANY;break;case"display":break;case"print":gn=_util.RenderingIntentFlag.PRINT;break;default:(0,_util.warn)(`getRenderingIntent - invalid intent: ${Gt}`)}switch(en){case _util.AnnotationMode.DISABLE:gn+=_util.RenderingIntentFlag.ANNOTATIONS_DISABLE;break;case _util.AnnotationMode.ENABLE:break;case _util.AnnotationMode.ENABLE_FORMS:gn+=_util.RenderingIntentFlag.ANNOTATIONS_FORMS;break;case _util.AnnotationMode.ENABLE_STORAGE:gn+=_util.RenderingIntentFlag.ANNOTATIONS_STORAGE,nn=(gn&_util.RenderingIntentFlag.PRINT&&hn instanceof _annotation_storage.PrintAnnotationStorage?hn:this.annotationStorage).serializable;break;default:(0,_util.warn)(`getRenderingIntent - invalid annotationMode: ${en}`)}return tn&&(gn+=_util.RenderingIntentFlag.OPLIST),{renderingIntent:gn,cacheKey:`${gn}_${nn.hash}`,annotationStorageSerializable:nn}}destroy(){var hn;if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=new _util.PromiseCapability,(hn=Dt(this,Ft))==null||hn.reject(new Error("Worker was destroyed during onPassword callback"));const Gt=[];for(const tn of Dt(this,ht).values())Gt.push(tn._destroy());Dt(this,ht).clear(),Dt(this,vt).clear(),this.hasOwnProperty("annotationStorage")&&this.annotationStorage.resetModified();const en=this.messageHandler.sendWithPromise("Terminate",null);return Gt.push(en),Promise.all(Gt).then(()=>{var tn;this.commonObjs.clear(),this.fontLoader.clear(),Dt(this,_t).clear(),this.filterFactory.destroy(),(tn=this._networkStream)==null||tn.cancelAllRequests(new _util.AbortException("Worker was terminated.")),this.messageHandler&&(this.messageHandler.destroy(),this.messageHandler=null),this.destroyCapability.resolve()},this.destroyCapability.reject),this.destroyCapability.promise}setupMessageHandler(){const{messageHandler:Gt,loadingTask:en}=this;Gt.on("GetReader",(hn,tn)=>{(0,_util.assert)(this._networkStream,"GetReader - no `IPDFStream` instance available."),this._fullReader=this._networkStream.getFullReader(),this._fullReader.onProgress=gn=>{this._lastProgress={loaded:gn.loaded,total:gn.total}},tn.onPull=()=>{this._fullReader.read().then(function({value:gn,done:nn}){if(nn){tn.close();return}(0,_util.assert)(gn instanceof ArrayBuffer,"GetReader - expected an ArrayBuffer."),tn.enqueue(new Uint8Array(gn),1,[gn])}).catch(gn=>{tn.error(gn)})},tn.onCancel=gn=>{this._fullReader.cancel(gn),tn.ready.catch(nn=>{if(!this.destroyed)throw nn})}}),Gt.on("ReaderHeadersReady",hn=>{const tn=new _util.PromiseCapability,gn=this._fullReader;return gn.headersReady.then(()=>{var nn;(!gn.isStreamingSupported||!gn.isRangeSupported)&&(this._lastProgress&&((nn=en.onProgress)==null||nn.call(en,this._lastProgress)),gn.onProgress=bn=>{var Wt;(Wt=en.onProgress)==null||Wt.call(en,{loaded:bn.loaded,total:bn.total})}),tn.resolve({isStreamingSupported:gn.isStreamingSupported,isRangeSupported:gn.isRangeSupported,contentLength:gn.contentLength})},tn.reject),tn.promise}),Gt.on("GetRangeReader",(hn,tn)=>{(0,_util.assert)(this._networkStream,"GetRangeReader - no `IPDFStream` instance available.");const gn=this._networkStream.getRangeReader(hn.begin,hn.end);if(!gn){tn.close();return}tn.onPull=()=>{gn.read().then(function({value:nn,done:bn}){if(bn){tn.close();return}(0,_util.assert)(nn instanceof ArrayBuffer,"GetRangeReader - expected an ArrayBuffer."),tn.enqueue(new Uint8Array(nn),1,[nn])}).catch(nn=>{tn.error(nn)})},tn.onCancel=nn=>{gn.cancel(nn),tn.ready.catch(bn=>{if(!this.destroyed)throw bn})}}),Gt.on("GetDoc",({pdfInfo:hn})=>{this._numPages=hn.numPages,this._htmlForXfa=hn.htmlForXfa,delete hn.htmlForXfa,en._capability.resolve(new PDFDocumentProxy(hn,this))}),Gt.on("DocException",function(hn){let tn;switch(hn.name){case"PasswordException":tn=new _util.PasswordException(hn.message,hn.code);break;case"InvalidPDFException":tn=new _util.InvalidPDFException(hn.message);break;case"MissingPDFException":tn=new _util.MissingPDFException(hn.message);break;case"UnexpectedResponseException":tn=new _util.UnexpectedResponseException(hn.message,hn.status);break;case"UnknownErrorException":tn=new _util.UnknownErrorException(hn.message,hn.details);break;default:(0,_util.unreachable)("DocException - expected a valid Error.")}en._capability.reject(tn)}),Gt.on("PasswordRequest",hn=>{if($n(this,Ft,new _util.PromiseCapability),en.onPassword){const tn=gn=>{gn instanceof Error?Dt(this,Ft).reject(gn):Dt(this,Ft).resolve({password:gn})};try{en.onPassword(tn,hn.code)}catch(gn){Dt(this,Ft).reject(gn)}}else Dt(this,Ft).reject(new _util.PasswordException(hn.message,hn.code));return Dt(this,Ft).promise}),Gt.on("DataLoaded",hn=>{var tn;(tn=en.onProgress)==null||tn.call(en,{loaded:hn.length,total:hn.length}),this.downloadInfoCapability.resolve(hn)}),Gt.on("StartRenderPage",hn=>{if(this.destroyed)return;Dt(this,ht).get(hn.pageIndex)._startRenderPage(hn.transparency,hn.cacheKey)}),Gt.on("commonobj",([hn,tn,gn])=>{var nn;if(!this.destroyed&&!this.commonObjs.has(hn))switch(tn){case"Font":const bn=this._params;if("error"in gn){const dn=gn.error;(0,_util.warn)(`Error during font loading: ${dn}`),this.commonObjs.resolve(hn,dn);break}const Wt=bn.pdfBug&&((nn=globalThis.FontInspector)!=null&&nn.enabled)?(dn,Ut)=>globalThis.FontInspector.fontAdded(dn,Ut):null,Yt=new _font_loader.FontFaceObject(gn,{isEvalSupported:bn.isEvalSupported,disableFontFace:bn.disableFontFace,ignoreErrors:bn.ignoreErrors,inspectFont:Wt});this.fontLoader.bind(Yt).catch(dn=>Gt.sendWithPromise("FontFallback",{id:hn})).finally(()=>{!bn.fontExtraProperties&&Yt.data&&(Yt.data=null),this.commonObjs.resolve(hn,Yt)});break;case"FontPath":case"Image":case"Pattern":this.commonObjs.resolve(hn,gn);break;default:throw new Error(`Got unknown common object type ${tn}`)}}),Gt.on("obj",([hn,tn,gn,nn])=>{var Wt;if(this.destroyed)return;const bn=Dt(this,ht).get(tn);if(!bn.objs.has(hn))switch(gn){case"Image":if(bn.objs.resolve(hn,nn),nn){let Yt;if(nn.bitmap){const{width:dn,height:Ut}=nn;Yt=dn*Ut*4}else Yt=((Wt=nn.data)==null?void 0:Wt.length)||0;Yt>_util.MAX_IMAGE_SIZE_TO_CACHE&&(bn._maybeCleanupAfterRender=!0)}break;case"Pattern":bn.objs.resolve(hn,nn);break;default:throw new Error(`Got unknown object type ${gn}`)}}),Gt.on("DocProgress",hn=>{var tn;this.destroyed||(tn=en.onProgress)==null||tn.call(en,{loaded:hn.loaded,total:hn.total})}),Gt.on("FetchBuiltInCMap",hn=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.cMapReaderFactory?this.cMapReaderFactory.fetch(hn):Promise.reject(new Error("CMapReaderFactory not initialized, see the `useWorkerFetch` parameter."))),Gt.on("FetchStandardFontData",hn=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.standardFontDataFactory?this.standardFontDataFactory.fetch(hn):Promise.reject(new Error("StandardFontDataFactory not initialized, see the `useWorkerFetch` parameter.")))}getData(){return this.messageHandler.sendWithPromise("GetData",null)}saveDocument(){var hn;this.annotationStorage.size<=0&&(0,_util.warn)("saveDocument called while `annotationStorage` is empty, please use the getData-method instead.");const{map:Gt,transfers:en}=this.annotationStorage.serializable;return this.messageHandler.sendWithPromise("SaveDocument",{isPureXfa:!!this._htmlForXfa,numPages:this._numPages,annotationStorage:Gt,filename:((hn=this._fullReader)==null?void 0:hn.filename)??null},en).finally(()=>{this.annotationStorage.resetModified()})}getPage(Gt){if(!Number.isInteger(Gt)||Gt<=0||Gt>this._numPages)return Promise.reject(new Error("Invalid page request."));const en=Gt-1,hn=Dt(this,vt).get(en);if(hn)return hn;const tn=this.messageHandler.sendWithPromise("GetPage",{pageIndex:en}).then(gn=>{if(this.destroyed)throw new Error("Transport destroyed");const nn=new PDFPageProxy(en,gn,this,this._params.pdfBug);return Dt(this,ht).set(en,nn),nn});return Dt(this,vt).set(en,tn),tn}getPageIndex(Gt){return typeof Gt!="object"||Gt===null||!Number.isInteger(Gt.num)||Gt.num<0||!Number.isInteger(Gt.gen)||Gt.gen<0?Promise.reject(new Error("Invalid pageIndex request.")):this.messageHandler.sendWithPromise("GetPageIndex",{num:Gt.num,gen:Gt.gen})}getAnnotations(Gt,en){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:Gt,intent:en})}getFieldObjects(){return On(this,Vt,C2).call(this,"GetFieldObjects")}hasJSActions(){return On(this,Vt,C2).call(this,"HasJSActions")}getCalculationOrderIds(){return this.messageHandler.sendWithPromise("GetCalculationOrderIds",null)}getDestinations(){return this.messageHandler.sendWithPromise("GetDestinations",null)}getDestination(Gt){return typeof Gt!="string"?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:Gt})}getPageLabels(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}getPageLayout(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}getPageMode(){return this.messageHandler.sendWithPromise("GetPageMode",null)}getViewerPreferences(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}getOpenAction(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}getAttachments(){return this.messageHandler.sendWithPromise("GetAttachments",null)}getDocJSActions(){return On(this,Vt,C2).call(this,"GetDocJSActions")}getPageJSActions(Gt){return this.messageHandler.sendWithPromise("GetPageJSActions",{pageIndex:Gt})}getStructTree(Gt){return this.messageHandler.sendWithPromise("GetStructTree",{pageIndex:Gt})}getOutline(){return this.messageHandler.sendWithPromise("GetOutline",null)}getOptionalContentConfig(){return this.messageHandler.sendWithPromise("GetOptionalContentConfig",null).then(Gt=>new _optional_content_config.OptionalContentConfig(Gt))}getPermissions(){return this.messageHandler.sendWithPromise("GetPermissions",null)}getMetadata(){const Gt="GetMetadata",en=Dt(this,_t).get(Gt);if(en)return en;const hn=this.messageHandler.sendWithPromise(Gt,null).then(tn=>{var gn,nn;return{info:tn[0],metadata:tn[1]?new _metadata.Metadata(tn[1]):null,contentDispositionFilename:((gn=this._fullReader)==null?void 0:gn.filename)??null,contentLength:((nn=this._fullReader)==null?void 0:nn.contentLength)??null}});return Dt(this,_t).set(Gt,hn),hn}getMarkInfo(){return this.messageHandler.sendWithPromise("GetMarkInfo",null)}async startCleanup(Gt=!1){if(!this.destroyed){await this.messageHandler.sendWithPromise("Cleanup",null);for(const en of Dt(this,ht).values())if(!en.cleanup())throw new Error(`startCleanup: Page ${en.pageNumber} is currently rendering.`);this.commonObjs.clear(),Gt||this.fontLoader.clear(),Dt(this,_t).clear(),this.filterFactory.destroy(!0)}}get loadingParams(){const{disableAutoFetch:Gt,enableXfa:en}=this._params;return(0,_util.shadow)(this,"loadingParams",{disableAutoFetch:Gt,enableXfa:en})}}_t=new WeakMap,ht=new WeakMap,vt=new WeakMap,Ft=new WeakMap,Vt=new WeakSet,C2=function(Gt,en=null){const hn=Dt(this,_t).get(Gt);if(hn)return hn;const tn=this.messageHandler.sendWithPromise(Gt,en);return Dt(this,_t).set(Gt,tn),tn};class PDFObjects{constructor(){Nn(this,$t);Nn(this,Lt,Object.create(null))}get(Gt,en=null){if(en){const tn=On(this,$t,d3).call(this,Gt);return tn.capability.promise.then(()=>en(tn.data)),null}const hn=Dt(this,Lt)[Gt];if(!(hn!=null&&hn.capability.settled))throw new Error(`Requesting object that isn't resolved yet ${Gt}.`);return hn.data}has(Gt){const en=Dt(this,Lt)[Gt];return(en==null?void 0:en.capability.settled)||!1}resolve(Gt,en=null){const hn=On(this,$t,d3).call(this,Gt);hn.data=en,hn.capability.resolve()}clear(){var Gt;for(const en in Dt(this,Lt)){const{data:hn}=Dt(this,Lt)[en];(Gt=hn==null?void 0:hn.bitmap)==null||Gt.close()}$n(this,Lt,Object.create(null))}}Lt=new WeakMap,$t=new WeakSet,d3=function(Gt){var en;return(en=Dt(this,Lt))[Gt]||(en[Gt]={capability:new _util.PromiseCapability,data:null})};class RenderTask{constructor(Gt){Nn(this,jt,null);$n(this,jt,Gt),this.onContinue=null}get promise(){return Dt(this,jt).capability.promise}cancel(Gt=0){Dt(this,jt).cancel(null,Gt)}get separateAnnots(){const{separateAnnots:Gt}=Dt(this,jt).operatorList;if(!Gt)return!1;const{annotationCanvasMap:en}=Dt(this,jt);return Gt.form||Gt.canvas&&(en==null?void 0:en.size)>0}}jt=new WeakMap,exports.RenderTask=RenderTask;const Kt=class Kt{constructor({callback:Gt,params:en,objs:hn,commonObjs:tn,annotationCanvasMap:gn,operatorList:nn,pageIndex:bn,canvasFactory:Wt,filterFactory:Yt,useRequestAnimationFrame:dn=!1,pdfBug:Ut=!1,pageColors:Mt=null}){this.callback=Gt,this.params=en,this.objs=hn,this.commonObjs=tn,this.annotationCanvasMap=gn,this.operatorListIdx=null,this.operatorList=nn,this._pageIndex=bn,this.canvasFactory=Wt,this.filterFactory=Yt,this._pdfBug=Ut,this.pageColors=Mt,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=dn===!0&&typeof window<"u",this.cancelled=!1,this.capability=new _util.PromiseCapability,this.task=new RenderTask(this),this._cancelBound=this.cancel.bind(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=en.canvasContext.canvas}get completed(){return this.capability.promise.catch(function(){})}initializeGraphics({transparency:Gt=!1,optionalContentConfig:en}){var bn,Wt;if(this.cancelled)return;if(this._canvas){if(Dt(Kt,Rt).has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");Dt(Kt,Rt).add(this._canvas)}this._pdfBug&&((bn=globalThis.StepperManager)!=null&&bn.enabled)&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());const{canvasContext:hn,viewport:tn,transform:gn,background:nn}=this.params;this.gfx=new _canvas.CanvasGraphics(hn,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:en},this.annotationCanvasMap,this.pageColors),this.gfx.beginDrawing({transform:gn,viewport:tn,transparency:Gt,background:nn}),this.operatorListIdx=0,this.graphicsReady=!0,(Wt=this.graphicsReadyCallback)==null||Wt.call(this)}cancel(Gt=null,en=0){var hn;this.running=!1,this.cancelled=!0,(hn=this.gfx)==null||hn.endDrawing(),Dt(Kt,Rt).delete(this._canvas),this.callback(Gt||new _display_utils.RenderingCancelledException(`Rendering cancelled, page ${this._pageIndex+1}`,en))}operatorListChanged(){var Gt;if(!this.graphicsReady){this.graphicsReadyCallback||(this.graphicsReadyCallback=this._continueBound);return}(Gt=this.stepper)==null||Gt.updateOperatorList(this.operatorList),!this.running&&this._continue()}_continue(){this.running=!0,!this.cancelled&&(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}_scheduleNext(){this._useRequestAnimationFrame?window.requestAnimationFrame(()=>{this._nextBound().catch(this._cancelBound)}):Promise.resolve().then(this._nextBound).catch(this._cancelBound)}async _next(){this.cancelled||(this.operatorListIdx=this.gfx.executeOperatorList(this.operatorList,this.operatorListIdx,this._continueBound,this.stepper),this.operatorListIdx===this.operatorList.argsArray.length&&(this.running=!1,this.operatorList.lastChunk&&(this.gfx.endDrawing(),Dt(Kt,Rt).delete(this._canvas),this.callback())))}};Rt=new WeakMap,Nn(Kt,Rt,new WeakSet);let InternalRenderTask=Kt;const version="3.11.174";exports.version=version;const build="ce8716743";exports.build=build},(_e,$,xt)=>{var wt,kt,_t,Ov,vt;Object.defineProperty($,"__esModule",{value:!0}),$.SerializableEmpty=$.PrintAnnotationStorage=$.AnnotationStorage=void 0;var bt=xt(1),St=xt(4),At=xt(8);const Ct=Object.freeze({map:null,hash:"",transfers:void 0});$.SerializableEmpty=Ct;class Et{constructor(){Nn(this,_t);Nn(this,wt,!1);Nn(this,kt,new Map);this.onSetModified=null,this.onResetModified=null,this.onAnnotationEditor=null}getValue(Vt,qt){const Lt=Dt(this,kt).get(Vt);return Lt===void 0?qt:Object.assign(qt,Lt)}getRawValue(Vt){return Dt(this,kt).get(Vt)}remove(Vt){if(Dt(this,kt).delete(Vt),Dt(this,kt).size===0&&this.resetModified(),typeof this.onAnnotationEditor=="function"){for(const qt of Dt(this,kt).values())if(qt instanceof St.AnnotationEditor)return;this.onAnnotationEditor(null)}}setValue(Vt,qt){const Lt=Dt(this,kt).get(Vt);let $t=!1;if(Lt!==void 0)for(const[Ot,jt]of Object.entries(qt))Lt[Ot]!==jt&&($t=!0,Lt[Ot]=jt);else $t=!0,Dt(this,kt).set(Vt,qt);$t&&On(this,_t,Ov).call(this),qt instanceof St.AnnotationEditor&&typeof this.onAnnotationEditor=="function"&&this.onAnnotationEditor(qt.constructor._type)}has(Vt){return Dt(this,kt).has(Vt)}getAll(){return Dt(this,kt).size>0?(0,bt.objectFromMap)(Dt(this,kt)):null}setAll(Vt){for(const[qt,Lt]of Object.entries(Vt))this.setValue(qt,Lt)}get size(){return Dt(this,kt).size}resetModified(){Dt(this,wt)&&($n(this,wt,!1),typeof this.onResetModified=="function"&&this.onResetModified())}get print(){return new Pt(this)}get serializable(){if(Dt(this,kt).size===0)return Ct;const Vt=new Map,qt=new At.MurmurHash3_64,Lt=[],$t=Object.create(null);let Ot=!1;for(const[jt,Rt]of Dt(this,kt)){const Kt=Rt instanceof St.AnnotationEditor?Rt.serialize(!1,$t):Rt;Kt&&(Vt.set(jt,Kt),qt.update(`${jt}:${JSON.stringify(Kt)}`),Ot||(Ot=!!Kt.bitmap))}if(Ot)for(const jt of Vt.values())jt.bitmap&&Lt.push(jt.bitmap);return Vt.size>0?{map:Vt,hash:qt.hexdigest(),transfers:Lt}:Ct}}wt=new WeakMap,kt=new WeakMap,_t=new WeakSet,Ov=function(){Dt(this,wt)||($n(this,wt,!0),typeof this.onSetModified=="function"&&this.onSetModified())},$.AnnotationStorage=Et;class Pt extends Et{constructor(qt){super();Nn(this,vt);const{map:Lt,hash:$t,transfers:Ot}=qt.serializable,jt=structuredClone(Lt,Ot?{transfer:Ot}:null);$n(this,vt,{map:jt,hash:$t,transfers:Ot})}get print(){(0,bt.unreachable)("Should not call PrintAnnotationStorage.print")}get serializable(){return Dt(this,vt)}}vt=new WeakMap,$.PrintAnnotationStorage=Pt},(_e,$,xt)=>{var Pt,wt,kt,_t,ht,vt,Ft,Vt,qt,Lt,$t,Ot,jt,Rt,Kt,f3,p3,en,g3,m3,Dv,Lv,Nv,x3,$v;Object.defineProperty($,"__esModule",{value:!0}),$.AnnotationEditor=void 0;var bt=xt(5),St=xt(1),At=xt(6);const dn=class dn{constructor(Mt){Nn(this,Kt);Nn(this,Pt,"");Nn(this,wt,!1);Nn(this,kt,null);Nn(this,_t,null);Nn(this,ht,null);Nn(this,vt,!1);Nn(this,Ft,null);Nn(this,Vt,this.focusin.bind(this));Nn(this,qt,this.focusout.bind(this));Nn(this,Lt,!1);Nn(this,$t,!1);Nn(this,Ot,!1);Us(this,"_initialOptions",Object.create(null));Us(this,"_uiManager",null);Us(this,"_focusEventsAllowed",!0);Us(this,"_l10nPromise",null);Nn(this,jt,!1);Nn(this,Rt,dn._zIndex++);this.constructor===dn&&(0,St.unreachable)("Cannot initialize AnnotationEditor."),this.parent=Mt.parent,this.id=Mt.id,this.width=this.height=null,this.pageIndex=Mt.parent.pageIndex,this.name=Mt.name,this.div=null,this._uiManager=Mt.uiManager,this.annotationElementId=null,this._willKeepAspectRatio=!1,this._initialOptions.isCentered=Mt.isCentered,this._structTreeParentId=null;const{rotation:Ht,rawDims:{pageWidth:sn,pageHeight:zt,pageX:Xt,pageY:Qt}}=this.parent.viewport;this.rotation=Ht,this.pageRotation=(360+Ht-this._uiManager.viewParameters.rotation)%360,this.pageDimensions=[sn,zt],this.pageTranslation=[Xt,Qt];const[ln,on]=this.parentDimensions;this.x=Mt.x/ln,this.y=Mt.y/on,this.isAttachedToDOM=!1,this.deleted=!1}get editorType(){return Object.getPrototypeOf(this).constructor._type}static get _defaultLineColor(){return(0,St.shadow)(this,"_defaultLineColor",this._colorManager.getHexCode("CanvasText"))}static deleteAnnotationElement(Mt){const Ht=new Et({id:Mt.parent.getNextId(),parent:Mt.parent,uiManager:Mt._uiManager});Ht.annotationElementId=Mt.annotationElementId,Ht.deleted=!0,Ht._uiManager.addToAnnotationStorage(Ht)}static initialize(Mt,Ht=null){if(dn._l10nPromise||(dn._l10nPromise=new Map(["editor_alt_text_button_label","editor_alt_text_edit_button_label","editor_alt_text_decorative_tooltip"].map(zt=>[zt,Mt.get(zt)]))),Ht!=null&&Ht.strings)for(const zt of Ht.strings)dn._l10nPromise.set(zt,Mt.get(zt));if(dn._borderLineWidth!==-1)return;const sn=getComputedStyle(document.documentElement);dn._borderLineWidth=parseFloat(sn.getPropertyValue("--outline-width"))||0}static updateDefaultParams(Mt,Ht){}static get defaultPropertiesToUpdate(){return[]}static isHandlingMimeForPasting(Mt){return!1}static paste(Mt,Ht){(0,St.unreachable)("Not implemented")}get propertiesToUpdate(){return[]}get _isDraggable(){return Dt(this,jt)}set _isDraggable(Mt){var Ht;$n(this,jt,Mt),(Ht=this.div)==null||Ht.classList.toggle("draggable",Mt)}center(){const[Mt,Ht]=this.pageDimensions;switch(this.parentRotation){case 90:this.x-=this.height*Ht/(Mt*2),this.y+=this.width*Mt/(Ht*2);break;case 180:this.x+=this.width/2,this.y+=this.height/2;break;case 270:this.x+=this.height*Ht/(Mt*2),this.y-=this.width*Mt/(Ht*2);break;default:this.x-=this.width/2,this.y-=this.height/2;break}this.fixAndSetPosition()}addCommands(Mt){this._uiManager.addCommands(Mt)}get currentLayer(){return this._uiManager.currentLayer}setInBackground(){this.div.style.zIndex=0}setInForeground(){this.div.style.zIndex=Dt(this,Rt)}setParent(Mt){Mt!==null&&(this.pageIndex=Mt.pageIndex,this.pageDimensions=Mt.pageDimensions),this.parent=Mt}focusin(Mt){this._focusEventsAllowed&&(Dt(this,Lt)?$n(this,Lt,!1):this.parent.setSelected(this))}focusout(Mt){var sn;if(!this._focusEventsAllowed||!this.isAttachedToDOM)return;const Ht=Mt.relatedTarget;Ht!=null&&Ht.closest(`#${this.id}`)||(Mt.preventDefault(),(sn=this.parent)!=null&&sn.isMultipleSelection||this.commitOrRemove())}commitOrRemove(){this.isEmpty()?this.remove():this.commit()}commit(){this.addToAnnotationStorage()}addToAnnotationStorage(){this._uiManager.addToAnnotationStorage(this)}setAt(Mt,Ht,sn,zt){const[Xt,Qt]=this.parentDimensions;[sn,zt]=this.screenToPageTranslation(sn,zt),this.x=(Mt+sn)/Xt,this.y=(Ht+zt)/Qt,this.fixAndSetPosition()}translate(Mt,Ht){On(this,Kt,f3).call(this,this.parentDimensions,Mt,Ht)}translateInPage(Mt,Ht){On(this,Kt,f3).call(this,this.pageDimensions,Mt,Ht),this.div.scrollIntoView({block:"nearest"})}drag(Mt,Ht){const[sn,zt]=this.parentDimensions;if(this.x+=Mt/sn,this.y+=Ht/zt,this.parent&&(this.x<0||this.x>1||this.y<0||this.y>1)){const{x:cn,y:rn}=this.div.getBoundingClientRect();this.parent.findNewParent(this,cn,rn)&&(this.x-=Math.floor(this.x),this.y-=Math.floor(this.y))}let{x:Xt,y:Qt}=this;const[ln,on]=On(this,Kt,p3).call(this);Xt+=ln,Qt+=on,this.div.style.left=`${(100*Xt).toFixed(2)}%`,this.div.style.top=`${(100*Qt).toFixed(2)}%`,this.div.scrollIntoView({block:"nearest"})}fixAndSetPosition(){const[Mt,Ht]=this.pageDimensions;let{x:sn,y:zt,width:Xt,height:Qt}=this;switch(Xt*=Mt,Qt*=Ht,sn*=Mt,zt*=Ht,this.rotation){case 0:sn=Math.max(0,Math.min(Mt-Xt,sn)),zt=Math.max(0,Math.min(Ht-Qt,zt));break;case 90:sn=Math.max(0,Math.min(Mt-Qt,sn)),zt=Math.min(Ht,Math.max(Xt,zt));break;case 180:sn=Math.min(Mt,Math.max(Xt,sn)),zt=Math.min(Ht,Math.max(Qt,zt));break;case 270:sn=Math.min(Mt,Math.max(Qt,sn)),zt=Math.max(0,Math.min(Ht-Xt,zt));break}this.x=sn/=Mt,this.y=zt/=Ht;const[ln,on]=On(this,Kt,p3).call(this);sn+=ln,zt+=on;const{style:cn}=this.div;cn.left=`${(100*sn).toFixed(2)}%`,cn.top=`${(100*zt).toFixed(2)}%`,this.moveInDOM()}screenToPageTranslation(Mt,Ht){var sn;return On(sn=dn,en,g3).call(sn,Mt,Ht,this.parentRotation)}pageTranslationToScreen(Mt,Ht){var sn;return On(sn=dn,en,g3).call(sn,Mt,Ht,360-this.parentRotation)}get parentScale(){return this._uiManager.viewParameters.realScale}get parentRotation(){return(this._uiManager.viewParameters.rotation+this.pageRotation)%360}get parentDimensions(){const{parentScale:Mt,pageDimensions:[Ht,sn]}=this,zt=Ht*Mt,Xt=sn*Mt;return St.FeatureTest.isCSSRoundSupported?[Math.round(zt),Math.round(Xt)]:[zt,Xt]}setDims(Mt,Ht){var Xt;const[sn,zt]=this.parentDimensions;this.div.style.width=`${(100*Mt/sn).toFixed(2)}%`,Dt(this,vt)||(this.div.style.height=`${(100*Ht/zt).toFixed(2)}%`),(Xt=Dt(this,kt))==null||Xt.classList.toggle("small",Mt<dn.SMALL_EDITOR_SIZE||Ht<dn.SMALL_EDITOR_SIZE)}fixDims(){const{style:Mt}=this.div,{height:Ht,width:sn}=Mt,zt=sn.endsWith("%"),Xt=!Dt(this,vt)&&Ht.endsWith("%");if(zt&&Xt)return;const[Qt,ln]=this.parentDimensions;zt||(Mt.width=`${(100*parseFloat(sn)/Qt).toFixed(2)}%`),!Dt(this,vt)&&!Xt&&(Mt.height=`${(100*parseFloat(Ht)/ln).toFixed(2)}%`)}getInitialTranslation(){return[0,0]}async addAltTextButton(){if(Dt(this,kt))return;const Mt=$n(this,kt,document.createElement("button"));Mt.className="altText";const Ht=await dn._l10nPromise.get("editor_alt_text_button_label");Mt.textContent=Ht,Mt.setAttribute("aria-label",Ht),Mt.tabIndex="0",Mt.addEventListener("contextmenu",At.noContextMenu),Mt.addEventListener("pointerdown",sn=>sn.stopPropagation()),Mt.addEventListener("click",sn=>{sn.preventDefault(),this._uiManager.editAltText(this)},{capture:!0}),Mt.addEventListener("keydown",sn=>{sn.target===Mt&&sn.key==="Enter"&&(sn.preventDefault(),this._uiManager.editAltText(this))}),On(this,Kt,x3).call(this),this.div.append(Mt),dn.SMALL_EDITOR_SIZE||(dn.SMALL_EDITOR_SIZE=Math.min(128,Math.round(Mt.getBoundingClientRect().width*1.4)))}getClientDimensions(){return this.div.getBoundingClientRect()}get altTextData(){return{altText:Dt(this,Pt),decorative:Dt(this,wt)}}set altTextData({altText:Mt,decorative:Ht}){Dt(this,Pt)===Mt&&Dt(this,wt)===Ht||($n(this,Pt,Mt),$n(this,wt,Ht),On(this,Kt,x3).call(this))}render(){this.div=document.createElement("div"),this.div.setAttribute("data-editor-rotation",(360-this.rotation)%360),this.div.className=this.name,this.div.setAttribute("id",this.id),this.div.setAttribute("tabIndex",0),this.setInForeground(),this.div.addEventListener("focusin",Dt(this,Vt)),this.div.addEventListener("focusout",Dt(this,qt));const[Mt,Ht]=this.parentDimensions;this.parentRotation%180!==0&&(this.div.style.maxWidth=`${(100*Ht/Mt).toFixed(2)}%`,this.div.style.maxHeight=`${(100*Mt/Ht).toFixed(2)}%`);const[sn,zt]=this.getInitialTranslation();return this.translate(sn,zt),(0,bt.bindEvents)(this,this.div,["pointerdown"]),this.div}pointerdown(Mt){const{isMac:Ht}=St.FeatureTest.platform;if(Mt.button!==0||Mt.ctrlKey&&Ht){Mt.preventDefault();return}$n(this,Lt,!0),On(this,Kt,$v).call(this,Mt)}moveInDOM(){var Mt;(Mt=this.parent)==null||Mt.moveEditorInDOM(this)}_setParentAndPosition(Mt,Ht,sn){Mt.changeParent(this),this.x=Ht,this.y=sn,this.fixAndSetPosition()}getRect(Mt,Ht){const sn=this.parentScale,[zt,Xt]=this.pageDimensions,[Qt,ln]=this.pageTranslation,on=Mt/sn,cn=Ht/sn,rn=this.x*zt,an=this.y*Xt,xn=this.width*zt,wn=this.height*Xt;switch(this.rotation){case 0:return[rn+on+Qt,Xt-an-cn-wn+ln,rn+on+xn+Qt,Xt-an-cn+ln];case 90:return[rn+cn+Qt,Xt-an+on+ln,rn+cn+wn+Qt,Xt-an+on+xn+ln];case 180:return[rn-on-xn+Qt,Xt-an+cn+ln,rn-on+Qt,Xt-an+cn+wn+ln];case 270:return[rn-cn-wn+Qt,Xt-an-on-xn+ln,rn-cn+Qt,Xt-an-on+ln];default:throw new Error("Invalid rotation")}}getRectInCurrentCoords(Mt,Ht){const[sn,zt,Xt,Qt]=Mt,ln=Xt-sn,on=Qt-zt;switch(this.rotation){case 0:return[sn,Ht-Qt,ln,on];case 90:return[sn,Ht-zt,on,ln];case 180:return[Xt,Ht-zt,ln,on];case 270:return[Xt,Ht-Qt,on,ln];default:throw new Error("Invalid rotation")}}onceAdded(){}isEmpty(){return!1}enableEditMode(){$n(this,Ot,!0)}disableEditMode(){$n(this,Ot,!1)}isInEditMode(){return Dt(this,Ot)}shouldGetKeyboardEvents(){return!1}needsToBeRebuilt(){return this.div&&!this.isAttachedToDOM}rebuild(){var Mt,Ht;(Mt=this.div)==null||Mt.addEventListener("focusin",Dt(this,Vt)),(Ht=this.div)==null||Ht.addEventListener("focusout",Dt(this,qt))}serialize(Mt=!1,Ht=null){(0,St.unreachable)("An editor must be serializable")}static deserialize(Mt,Ht,sn){const zt=new this.prototype.constructor({parent:Ht,id:Ht.getNextId(),uiManager:sn});zt.rotation=Mt.rotation;const[Xt,Qt]=zt.pageDimensions,[ln,on,cn,rn]=zt.getRectInCurrentCoords(Mt.rect,Qt);return zt.x=ln/Xt,zt.y=on/Qt,zt.width=cn/Xt,zt.height=rn/Qt,zt}remove(){var Mt;this.div.removeEventListener("focusin",Dt(this,Vt)),this.div.removeEventListener("focusout",Dt(this,qt)),this.isEmpty()||this.commit(),this.parent?this.parent.remove(this):this._uiManager.removeEditor(this),(Mt=Dt(this,kt))==null||Mt.remove(),$n(this,kt,null),$n(this,_t,null)}get isResizable(){return!1}makeResizable(){this.isResizable&&(On(this,Kt,Dv).call(this),Dt(this,Ft).classList.remove("hidden"))}select(){var Mt;this.makeResizable(),(Mt=this.div)==null||Mt.classList.add("selectedEditor")}unselect(){var Mt,Ht,sn;(Mt=Dt(this,Ft))==null||Mt.classList.add("hidden"),(Ht=this.div)==null||Ht.classList.remove("selectedEditor"),(sn=this.div)!=null&&sn.contains(document.activeElement)&&this._uiManager.currentLayer.div.focus()}updateParams(Mt,Ht){}disableEditing(){Dt(this,kt)&&(Dt(this,kt).hidden=!0)}enableEditing(){Dt(this,kt)&&(Dt(this,kt).hidden=!1)}enterInEditMode(){}get contentDiv(){return this.div}get isEditing(){return Dt(this,$t)}set isEditing(Mt){$n(this,$t,Mt),this.parent&&(Mt?(this.parent.setSelected(this),this.parent.setActiveEditor(this)):this.parent.setActiveEditor(null))}setAspectRatio(Mt,Ht){$n(this,vt,!0);const sn=Mt/Ht,{style:zt}=this.div;zt.aspectRatio=sn,zt.height="auto"}static get MIN_SIZE(){return 16}};Pt=new WeakMap,wt=new WeakMap,kt=new WeakMap,_t=new WeakMap,ht=new WeakMap,vt=new WeakMap,Ft=new WeakMap,Vt=new WeakMap,qt=new WeakMap,Lt=new WeakMap,$t=new WeakMap,Ot=new WeakMap,jt=new WeakMap,Rt=new WeakMap,Kt=new WeakSet,f3=function([Mt,Ht],sn,zt){[sn,zt]=this.screenToPageTranslation(sn,zt),this.x+=sn/Mt,this.y+=zt/Ht,this.fixAndSetPosition()},p3=function(){const[Mt,Ht]=this.parentDimensions,{_borderLineWidth:sn}=dn,zt=sn/Mt,Xt=sn/Ht;switch(this.rotation){case 90:return[-zt,Xt];case 180:return[zt,Xt];case 270:return[zt,-Xt];default:return[-zt,-Xt]}},en=new WeakSet,g3=function(Mt,Ht,sn){switch(sn){case 90:return[Ht,-Mt];case 180:return[-Mt,-Ht];case 270:return[-Ht,Mt];default:return[Mt,Ht]}},m3=function(Mt){switch(Mt){case 90:{const[Ht,sn]=this.pageDimensions;return[0,-Ht/sn,sn/Ht,0]}case 180:return[-1,0,0,-1];case 270:{const[Ht,sn]=this.pageDimensions;return[0,Ht/sn,-sn/Ht,0]}default:return[1,0,0,1]}},Dv=function(){if(Dt(this,Ft))return;$n(this,Ft,document.createElement("div")),Dt(this,Ft).classList.add("resizers");const Mt=["topLeft","topRight","bottomRight","bottomLeft"];this._willKeepAspectRatio||Mt.push("topMiddle","middleRight","bottomMiddle","middleLeft");for(const Ht of Mt){const sn=document.createElement("div");Dt(this,Ft).append(sn),sn.classList.add("resizer",Ht),sn.addEventListener("pointerdown",On(this,Kt,Lv).bind(this,Ht)),sn.addEventListener("contextmenu",At.noContextMenu)}this.div.prepend(Dt(this,Ft))},Lv=function(Mt,Ht){Ht.preventDefault();const{isMac:sn}=St.FeatureTest.platform;if(Ht.button!==0||Ht.ctrlKey&&sn)return;const zt=On(this,Kt,Nv).bind(this,Mt),Xt=this._isDraggable;this._isDraggable=!1;const Qt={passive:!0,capture:!0};window.addEventListener("pointermove",zt,Qt);const ln=this.x,on=this.y,cn=this.width,rn=this.height,an=this.parent.div.style.cursor,xn=this.div.style.cursor;this.div.style.cursor=this.parent.div.style.cursor=window.getComputedStyle(Ht.target).cursor;const wn=()=>{this._isDraggable=Xt,window.removeEventListener("pointerup",wn),window.removeEventListener("blur",wn),window.removeEventListener("pointermove",zt,Qt),this.parent.div.style.cursor=an,this.div.style.cursor=xn;const En=this.x,Fn=this.y,In=this.width,Tn=this.height;En===ln&&Fn===on&&In===cn&&Tn===rn||this.addCommands({cmd:()=>{this.width=In,this.height=Tn,this.x=En,this.y=Fn;const[An,mn]=this.parentDimensions;this.setDims(An*In,mn*Tn),this.fixAndSetPosition()},undo:()=>{this.width=cn,this.height=rn,this.x=ln,this.y=on;const[An,mn]=this.parentDimensions;this.setDims(An*cn,mn*rn),this.fixAndSetPosition()},mustExec:!0})};window.addEventListener("pointerup",wn),window.addEventListener("blur",wn)},Nv=function(Mt,Ht){const[sn,zt]=this.parentDimensions,Xt=this.x,Qt=this.y,ln=this.width,on=this.height,cn=dn.MIN_SIZE/sn,rn=dn.MIN_SIZE/zt,an=Ln=>Math.round(Ln*1e4)/1e4,xn=On(this,Kt,m3).call(this,this.rotation),wn=(Ln,Un)=>[xn[0]*Ln+xn[2]*Un,xn[1]*Ln+xn[3]*Un],En=On(this,Kt,m3).call(this,360-this.rotation),Fn=(Ln,Un)=>[En[0]*Ln+En[2]*Un,En[1]*Ln+En[3]*Un];let In,Tn,An=!1,mn=!1;switch(Mt){case"topLeft":An=!0,In=(Ln,Un)=>[0,0],Tn=(Ln,Un)=>[Ln,Un];break;case"topMiddle":In=(Ln,Un)=>[Ln/2,0],Tn=(Ln,Un)=>[Ln/2,Un];break;case"topRight":An=!0,In=(Ln,Un)=>[Ln,0],Tn=(Ln,Un)=>[0,Un];break;case"middleRight":mn=!0,In=(Ln,Un)=>[Ln,Un/2],Tn=(Ln,Un)=>[0,Un/2];break;case"bottomRight":An=!0,In=(Ln,Un)=>[Ln,Un],Tn=(Ln,Un)=>[0,0];break;case"bottomMiddle":In=(Ln,Un)=>[Ln/2,Un],Tn=(Ln,Un)=>[Ln/2,0];break;case"bottomLeft":An=!0,In=(Ln,Un)=>[0,Un],Tn=(Ln,Un)=>[Ln,0];break;case"middleLeft":mn=!0,In=(Ln,Un)=>[0,Un/2],Tn=(Ln,Un)=>[Ln,Un/2];break}const pn=In(ln,on),Jt=Tn(ln,on);let un=wn(...Jt);const fn=an(Xt+un[0]),Sn=an(Qt+un[1]);let kn=1,Pn=1,[Cn,vn]=this.screenToPageTranslation(Ht.movementX,Ht.movementY);if([Cn,vn]=Fn(Cn/sn,vn/zt),An){const Ln=Math.hypot(ln,on);kn=Pn=Math.max(Math.min(Math.hypot(Jt[0]-pn[0]-Cn,Jt[1]-pn[1]-vn)/Ln,1/ln,1/on),cn/ln,rn/on)}else mn?kn=Math.max(cn,Math.min(1,Math.abs(Jt[0]-pn[0]-Cn)))/ln:Pn=Math.max(rn,Math.min(1,Math.abs(Jt[1]-pn[1]-vn)))/on;const Rn=an(ln*kn),Mn=an(on*Pn);un=wn(...Tn(Rn,Mn));const _n=fn-un[0],Dn=Sn-un[1];this.width=Rn,this.height=Mn,this.x=_n,this.y=Dn,this.setDims(sn*Rn,zt*Mn),this.fixAndSetPosition()},x3=async function(){var sn;const Mt=Dt(this,kt);if(!Mt)return;if(!Dt(this,Pt)&&!Dt(this,wt)){Mt.classList.remove("done"),(sn=Dt(this,_t))==null||sn.remove();return}dn._l10nPromise.get("editor_alt_text_edit_button_label").then(zt=>{Mt.setAttribute("aria-label",zt)});let Ht=Dt(this,_t);if(!Ht){$n(this,_t,Ht=document.createElement("span")),Ht.className="tooltip",Ht.setAttribute("role","tooltip");const zt=Ht.id=`alt-text-tooltip-${this.id}`;Mt.setAttribute("aria-describedby",zt);const Xt=100;Mt.addEventListener("mouseenter",()=>{$n(this,ht,setTimeout(()=>{$n(this,ht,null),Dt(this,_t).classList.add("show"),this._uiManager._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",subtype:this.editorType,data:{action:"alt_text_tooltip"}}})},Xt))}),Mt.addEventListener("mouseleave",()=>{var Qt;clearTimeout(Dt(this,ht)),$n(this,ht,null),(Qt=Dt(this,_t))==null||Qt.classList.remove("show")})}Mt.classList.add("done"),Ht.innerText=Dt(this,wt)?await dn._l10nPromise.get("editor_alt_text_decorative_tooltip"):Dt(this,Pt),Ht.parentNode||Mt.append(Ht)},$v=function(Mt){if(!this._isDraggable)return;const Ht=this._uiManager.isSelected(this);this._uiManager.setUpDragSession();let sn,zt;Ht&&(sn={passive:!0,capture:!0},zt=Qt=>{const[ln,on]=this.screenToPageTranslation(Qt.movementX,Qt.movementY);this._uiManager.dragSelectedEditors(ln,on)},window.addEventListener("pointermove",zt,sn));const Xt=()=>{if(window.removeEventListener("pointerup",Xt),window.removeEventListener("blur",Xt),Ht&&window.removeEventListener("pointermove",zt,sn),$n(this,Lt,!1),!this._uiManager.endDragSession()){const{isMac:Qt}=St.FeatureTest.platform;Mt.ctrlKey&&!Qt||Mt.shiftKey||Mt.metaKey&&Qt?this.parent.toggleSelected(this):this.parent.setSelected(this)}};window.addEventListener("pointerup",Xt),window.addEventListener("blur",Xt)},Nn(dn,en),Us(dn,"_borderLineWidth",-1),Us(dn,"_colorManager",new bt.ColorManager),Us(dn,"_zIndex",1),Us(dn,"SMALL_EDITOR_SIZE",0);let Ct=dn;$.AnnotationEditor=Ct;class Et extends Ct{constructor(Mt){super(Mt),this.annotationElementId=Mt.annotationElementId,this.deleted=!0}serialize(){return{id:this.annotationElementId,deleted:!0,pageIndex:this.pageIndex}}}},(_e,$,xt)=>{var vt,Ft,Vt,qt,Lt,b3,jt,Rt,Kt,Bt,Gt,jv,tn,gn,nn,bn,Wt,Yt,dn,Ut,Mt,Ht,sn,zt,Xt,Qt,ln,on,cn,rn,an,xn,wn,En,Fn,In,Tn,An,mn,pn,Jt,un,fn,Sn,kn,Pn,Cn,Bv,y3,v3,k2,w3,S3,xl,lm,Uv,Hv,A3,cm,E3;Object.defineProperty($,"__esModule",{value:!0}),$.KeyboardManager=$.CommandManager=$.ColorManager=$.AnnotationEditorUIManager=void 0,$.bindEvents=At,$.opacityToHex=Ct;var bt=xt(1),St=xt(6);function At(ds,Bn,Hn){for(const Xn of Hn)Bn.addEventListener(Xn,ds[Xn].bind(ds))}function Ct(ds){return Math.round(Math.min(255,Math.max(1,255*ds))).toString(16).padStart(2,"0")}class Et{constructor(){Nn(this,vt,0)}getId(){return`${bt.AnnotationEditorPrefix}${Ao(this,vt)._++}`}}vt=new WeakMap;const Ot=class Ot{constructor(){Nn(this,Lt);Nn(this,Ft,(0,bt.getUuid)());Nn(this,Vt,0);Nn(this,qt,null)}static get _isSVGFittingCanvas(){const Bn='data:image/svg+xml;charset=UTF-8,<svg viewBox="0 0 1 1" width="1" height="1" xmlns="http://www.w3.org/2000/svg"><rect width="1" height="1" style="fill:red;"/></svg>',Xn=new OffscreenCanvas(1,3).getContext("2d"),cs=new Image;cs.src=Bn;const rs=cs.decode().then(()=>(Xn.drawImage(cs,0,0,1,1,0,0,1,3),new Uint32Array(Xn.getImageData(0,0,1,1).data.buffer)[0]===0));return(0,bt.shadow)(this,"_isSVGFittingCanvas",rs)}async getFromFile(Bn){const{lastModified:Hn,name:Xn,size:cs,type:rs}=Bn;return On(this,Lt,b3).call(this,`${Hn}_${Xn}_${cs}_${rs}`,Bn)}async getFromUrl(Bn){return On(this,Lt,b3).call(this,Bn,Bn)}async getFromId(Bn){Dt(this,qt)||$n(this,qt,new Map);const Hn=Dt(this,qt).get(Bn);return Hn?Hn.bitmap?(Hn.refCounter+=1,Hn):Hn.file?this.getFromFile(Hn.file):this.getFromUrl(Hn.url):null}getSvgUrl(Bn){const Hn=Dt(this,qt).get(Bn);return Hn!=null&&Hn.isSvg?Hn.svgUrl:null}deleteId(Bn){Dt(this,qt)||$n(this,qt,new Map);const Hn=Dt(this,qt).get(Bn);Hn&&(Hn.refCounter-=1,Hn.refCounter===0&&(Hn.bitmap=null))}isValidId(Bn){return Bn.startsWith(`image_${Dt(this,Ft)}_`)}};Ft=new WeakMap,Vt=new WeakMap,qt=new WeakMap,Lt=new WeakSet,b3=async function(Bn,Hn){Dt(this,qt)||$n(this,qt,new Map);let Xn=Dt(this,qt).get(Bn);if(Xn===null)return null;if(Xn!=null&&Xn.bitmap)return Xn.refCounter+=1,Xn;try{Xn||(Xn={bitmap:null,id:`image_${Dt(this,Ft)}_${Ao(this,Vt)._++}`,refCounter:0,isSvg:!1});let cs;if(typeof Hn=="string"){Xn.url=Hn;const rs=await fetch(Hn);if(!rs.ok)throw new Error(rs.statusText);cs=await rs.blob()}else cs=Xn.file=Hn;if(cs.type==="image/svg+xml"){const rs=Ot._isSVGFittingCanvas,xs=new FileReader,Jn=new Image,Wn=new Promise((Zn,us)=>{Jn.onload=()=>{Xn.bitmap=Jn,Xn.isSvg=!0,Zn()},xs.onload=async()=>{const hs=Xn.svgUrl=xs.result;Jn.src=await rs?`${hs}#svgView(preserveAspectRatio(none))`:hs},Jn.onerror=xs.onerror=us});xs.readAsDataURL(cs),await Wn}else Xn.bitmap=await createImageBitmap(cs);Xn.refCounter=1}catch(cs){console.error(cs),Xn=null}return Dt(this,qt).set(Bn,Xn),Xn&&Dt(this,qt).set(Xn.id,Xn),Xn};let Pt=Ot;class wt{constructor(Bn=128){Nn(this,jt,[]);Nn(this,Rt,!1);Nn(this,Kt);Nn(this,Bt,-1);$n(this,Kt,Bn)}add({cmd:Bn,undo:Hn,mustExec:Xn,type:cs=NaN,overwriteIfSameType:rs=!1,keepUndo:xs=!1}){if(Xn&&Bn(),Dt(this,Rt))return;const Jn={cmd:Bn,undo:Hn,type:cs};if(Dt(this,Bt)===-1){Dt(this,jt).length>0&&(Dt(this,jt).length=0),$n(this,Bt,0),Dt(this,jt).push(Jn);return}if(rs&&Dt(this,jt)[Dt(this,Bt)].type===cs){xs&&(Jn.undo=Dt(this,jt)[Dt(this,Bt)].undo),Dt(this,jt)[Dt(this,Bt)]=Jn;return}const Wn=Dt(this,Bt)+1;Wn===Dt(this,Kt)?Dt(this,jt).splice(0,1):($n(this,Bt,Wn),Wn<Dt(this,jt).length&&Dt(this,jt).splice(Wn)),Dt(this,jt).push(Jn)}undo(){Dt(this,Bt)!==-1&&($n(this,Rt,!0),Dt(this,jt)[Dt(this,Bt)].undo(),$n(this,Rt,!1),$n(this,Bt,Dt(this,Bt)-1))}redo(){Dt(this,Bt)<Dt(this,jt).length-1&&($n(this,Bt,Dt(this,Bt)+1),$n(this,Rt,!0),Dt(this,jt)[Dt(this,Bt)].cmd(),$n(this,Rt,!1))}hasSomethingToUndo(){return Dt(this,Bt)!==-1}hasSomethingToRedo(){return Dt(this,Bt)<Dt(this,jt).length-1}destroy(){$n(this,jt,null)}}jt=new WeakMap,Rt=new WeakMap,Kt=new WeakMap,Bt=new WeakMap,$.CommandManager=wt;class kt{constructor(Bn){Nn(this,Gt);this.buffer=[],this.callbacks=new Map,this.allKeys=new Set;const{isMac:Hn}=bt.FeatureTest.platform;for(const[Xn,cs,rs={}]of Bn)for(const xs of Xn){const Jn=xs.startsWith("mac+");Hn&&Jn?(this.callbacks.set(xs.slice(4),{callback:cs,options:rs}),this.allKeys.add(xs.split("+").at(-1))):!Hn&&!Jn&&(this.callbacks.set(xs,{callback:cs,options:rs}),this.allKeys.add(xs.split("+").at(-1)))}}exec(Bn,Hn){if(!this.allKeys.has(Hn.key))return;const Xn=this.callbacks.get(On(this,Gt,jv).call(this,Hn));if(!Xn)return;const{callback:cs,options:{bubbles:rs=!1,args:xs=[],checker:Jn=null}}=Xn;Jn&&!Jn(Bn,Hn)||(cs.bind(Bn,...xs)(),rs||(Hn.stopPropagation(),Hn.preventDefault()))}}Gt=new WeakSet,jv=function(Bn){Bn.altKey&&this.buffer.push("alt"),Bn.ctrlKey&&this.buffer.push("ctrl"),Bn.metaKey&&this.buffer.push("meta"),Bn.shiftKey&&this.buffer.push("shift"),this.buffer.push(Bn.key);const Hn=this.buffer.join("+");return this.buffer.length=0,Hn},$.KeyboardManager=kt;const hn=class hn{get _colors(){const Bn=new Map([["CanvasText",null],["Canvas",null]]);return(0,St.getColorValues)(Bn),(0,bt.shadow)(this,"_colors",Bn)}convert(Bn){const Hn=(0,St.getRGB)(Bn);if(!window.matchMedia("(forced-colors: active)").matches)return Hn;for(const[Xn,cs]of this._colors)if(cs.every((rs,xs)=>rs===Hn[xs]))return hn._colorsMapping.get(Xn);return Hn}getHexCode(Bn){const Hn=this._colors.get(Bn);return Hn?bt.Util.makeHexColor(...Hn):Bn}};Us(hn,"_colorsMapping",new Map([["CanvasText",[0,0,0]],["Canvas",[255,255,255]]]));let _t=hn;$.ColorManager=_t;const ls=class ls{constructor(Bn,Hn,Xn,cs,rs,xs){Nn(this,Cn);Nn(this,tn,null);Nn(this,gn,new Map);Nn(this,nn,new Map);Nn(this,bn,null);Nn(this,Wt,null);Nn(this,Yt,new wt);Nn(this,dn,0);Nn(this,Ut,new Set);Nn(this,Mt,null);Nn(this,Ht,null);Nn(this,sn,new Set);Nn(this,zt,null);Nn(this,Xt,new Et);Nn(this,Qt,!1);Nn(this,ln,!1);Nn(this,on,null);Nn(this,cn,bt.AnnotationEditorType.NONE);Nn(this,rn,new Set);Nn(this,an,null);Nn(this,xn,this.blur.bind(this));Nn(this,wn,this.focus.bind(this));Nn(this,En,this.copy.bind(this));Nn(this,Fn,this.cut.bind(this));Nn(this,In,this.paste.bind(this));Nn(this,Tn,this.keydown.bind(this));Nn(this,An,this.onEditingAction.bind(this));Nn(this,mn,this.onPageChanging.bind(this));Nn(this,pn,this.onScaleChanging.bind(this));Nn(this,Jt,this.onRotationChanging.bind(this));Nn(this,un,{isEditing:!1,isEmpty:!0,hasSomethingToUndo:!1,hasSomethingToRedo:!1,hasSelectedEditor:!1});Nn(this,fn,[0,0]);Nn(this,Sn,null);Nn(this,kn,null);Nn(this,Pn,null);$n(this,kn,Bn),$n(this,Pn,Hn),$n(this,bn,Xn),this._eventBus=cs,this._eventBus._on("editingaction",Dt(this,An)),this._eventBus._on("pagechanging",Dt(this,mn)),this._eventBus._on("scalechanging",Dt(this,pn)),this._eventBus._on("rotationchanging",Dt(this,Jt)),$n(this,Wt,rs.annotationStorage),$n(this,zt,rs.filterFactory),$n(this,an,xs),this.viewParameters={realScale:St.PixelsPerInch.PDF_TO_CSS_UNITS,rotation:0}}static get _keyboardManager(){const Bn=ls.prototype,Hn=rs=>{const{activeElement:xs}=document;return xs&&Dt(rs,kn).contains(xs)&&rs.hasSomethingToControl()},Xn=this.TRANSLATE_SMALL,cs=this.TRANSLATE_BIG;return(0,bt.shadow)(this,"_keyboardManager",new kt([[["ctrl+a","mac+meta+a"],Bn.selectAll],[["ctrl+z","mac+meta+z"],Bn.undo],[["ctrl+y","ctrl+shift+z","mac+meta+shift+z","ctrl+shift+Z","mac+meta+shift+Z"],Bn.redo],[["Backspace","alt+Backspace","ctrl+Backspace","shift+Backspace","mac+Backspace","mac+alt+Backspace","mac+ctrl+Backspace","Delete","ctrl+Delete","shift+Delete","mac+Delete"],Bn.delete],[["Escape","mac+Escape"],Bn.unselectAll],[["ArrowLeft","mac+ArrowLeft"],Bn.translateSelectedEditors,{args:[-Xn,0],checker:Hn}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],Bn.translateSelectedEditors,{args:[-cs,0],checker:Hn}],[["ArrowRight","mac+ArrowRight"],Bn.translateSelectedEditors,{args:[Xn,0],checker:Hn}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],Bn.translateSelectedEditors,{args:[cs,0],checker:Hn}],[["ArrowUp","mac+ArrowUp"],Bn.translateSelectedEditors,{args:[0,-Xn],checker:Hn}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],Bn.translateSelectedEditors,{args:[0,-cs],checker:Hn}],[["ArrowDown","mac+ArrowDown"],Bn.translateSelectedEditors,{args:[0,Xn],checker:Hn}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],Bn.translateSelectedEditors,{args:[0,cs],checker:Hn}]]))}destroy(){On(this,Cn,k2).call(this),On(this,Cn,y3).call(this),this._eventBus._off("editingaction",Dt(this,An)),this._eventBus._off("pagechanging",Dt(this,mn)),this._eventBus._off("scalechanging",Dt(this,pn)),this._eventBus._off("rotationchanging",Dt(this,Jt));for(const Bn of Dt(this,nn).values())Bn.destroy();Dt(this,nn).clear(),Dt(this,gn).clear(),Dt(this,sn).clear(),$n(this,tn,null),Dt(this,rn).clear(),Dt(this,Yt).destroy(),Dt(this,bn).destroy()}get hcmFilter(){return(0,bt.shadow)(this,"hcmFilter",Dt(this,an)?Dt(this,zt).addHCMFilter(Dt(this,an).foreground,Dt(this,an).background):"none")}get direction(){return(0,bt.shadow)(this,"direction",getComputedStyle(Dt(this,kn)).direction)}editAltText(Bn){var Hn;(Hn=Dt(this,bn))==null||Hn.editAltText(this,Bn)}onPageChanging({pageNumber:Bn}){$n(this,dn,Bn-1)}focusMainContainer(){Dt(this,kn).focus()}findParent(Bn,Hn){for(const Xn of Dt(this,nn).values()){const{x:cs,y:rs,width:xs,height:Jn}=Xn.div.getBoundingClientRect();if(Bn>=cs&&Bn<=cs+xs&&Hn>=rs&&Hn<=rs+Jn)return Xn}return null}disableUserSelect(Bn=!1){Dt(this,Pn).classList.toggle("noUserSelect",Bn)}addShouldRescale(Bn){Dt(this,sn).add(Bn)}removeShouldRescale(Bn){Dt(this,sn).delete(Bn)}onScaleChanging({scale:Bn}){this.commitOrRemove(),this.viewParameters.realScale=Bn*St.PixelsPerInch.PDF_TO_CSS_UNITS;for(const Hn of Dt(this,sn))Hn.onScaleChanging()}onRotationChanging({pagesRotation:Bn}){this.commitOrRemove(),this.viewParameters.rotation=Bn}addToAnnotationStorage(Bn){!Bn.isEmpty()&&Dt(this,Wt)&&!Dt(this,Wt).has(Bn.id)&&Dt(this,Wt).setValue(Bn.id,Bn)}blur(){if(!this.hasSelection)return;const{activeElement:Bn}=document;for(const Hn of Dt(this,rn))if(Hn.div.contains(Bn)){$n(this,on,[Hn,Bn]),Hn._focusEventsAllowed=!1;break}}focus(){if(!Dt(this,on))return;const[Bn,Hn]=Dt(this,on);$n(this,on,null),Hn.addEventListener("focusin",()=>{Bn._focusEventsAllowed=!0},{once:!0}),Hn.focus()}addEditListeners(){On(this,Cn,v3).call(this),On(this,Cn,w3).call(this)}removeEditListeners(){On(this,Cn,k2).call(this),On(this,Cn,S3).call(this)}copy(Bn){var Xn;if(Bn.preventDefault(),(Xn=Dt(this,tn))==null||Xn.commitOrRemove(),!this.hasSelection)return;const Hn=[];for(const cs of Dt(this,rn)){const rs=cs.serialize(!0);rs&&Hn.push(rs)}Hn.length!==0&&Bn.clipboardData.setData("application/pdfjs",JSON.stringify(Hn))}cut(Bn){this.copy(Bn),this.delete()}paste(Bn){Bn.preventDefault();const{clipboardData:Hn}=Bn;for(const rs of Hn.items)for(const xs of Dt(this,Ht))if(xs.isHandlingMimeForPasting(rs.type)){xs.paste(rs,this.currentLayer);return}let Xn=Hn.getData("application/pdfjs");if(!Xn)return;try{Xn=JSON.parse(Xn)}catch(rs){(0,bt.warn)(`paste: "${rs.message}".`);return}if(!Array.isArray(Xn))return;this.unselectAll();const cs=this.currentLayer;try{const rs=[];for(const Wn of Xn){const Zn=cs.deserialize(Wn);if(!Zn)return;rs.push(Zn)}const xs=()=>{for(const Wn of rs)On(this,Cn,A3).call(this,Wn);On(this,Cn,E3).call(this,rs)},Jn=()=>{for(const Wn of rs)Wn.remove()};this.addCommands({cmd:xs,undo:Jn,mustExec:!0})}catch(rs){(0,bt.warn)(`paste: "${rs.message}".`)}}keydown(Bn){var Hn;(Hn=this.getActive())!=null&&Hn.shouldGetKeyboardEvents()||ls._keyboardManager.exec(this,Bn)}onEditingAction(Bn){["undo","redo","delete","selectAll"].includes(Bn.name)&&this[Bn.name]()}setEditingState(Bn){Bn?(On(this,Cn,Bv).call(this),On(this,Cn,v3).call(this),On(this,Cn,w3).call(this),On(this,Cn,xl).call(this,{isEditing:Dt(this,cn)!==bt.AnnotationEditorType.NONE,isEmpty:On(this,Cn,cm).call(this),hasSomethingToUndo:Dt(this,Yt).hasSomethingToUndo(),hasSomethingToRedo:Dt(this,Yt).hasSomethingToRedo(),hasSelectedEditor:!1})):(On(this,Cn,y3).call(this),On(this,Cn,k2).call(this),On(this,Cn,S3).call(this),On(this,Cn,xl).call(this,{isEditing:!1}),this.disableUserSelect(!1))}registerEditorTypes(Bn){if(!Dt(this,Ht)){$n(this,Ht,Bn);for(const Hn of Dt(this,Ht))On(this,Cn,lm).call(this,Hn.defaultPropertiesToUpdate)}}getId(){return Dt(this,Xt).getId()}get currentLayer(){return Dt(this,nn).get(Dt(this,dn))}getLayer(Bn){return Dt(this,nn).get(Bn)}get currentPageIndex(){return Dt(this,dn)}addLayer(Bn){Dt(this,nn).set(Bn.pageIndex,Bn),Dt(this,Qt)?Bn.enable():Bn.disable()}removeLayer(Bn){Dt(this,nn).delete(Bn.pageIndex)}updateMode(Bn,Hn=null){if(Dt(this,cn)!==Bn){if($n(this,cn,Bn),Bn===bt.AnnotationEditorType.NONE){this.setEditingState(!1),On(this,Cn,Hv).call(this);return}this.setEditingState(!0),On(this,Cn,Uv).call(this),this.unselectAll();for(const Xn of Dt(this,nn).values())Xn.updateMode(Bn);if(Hn){for(const Xn of Dt(this,gn).values())if(Xn.annotationElementId===Hn){this.setSelected(Xn),Xn.enterInEditMode();break}}}}updateToolbar(Bn){Bn!==Dt(this,cn)&&this._eventBus.dispatch("switchannotationeditormode",{source:this,mode:Bn})}updateParams(Bn,Hn){if(Dt(this,Ht)){if(Bn===bt.AnnotationEditorParamsType.CREATE){this.currentLayer.addNewEditor(Bn);return}for(const Xn of Dt(this,rn))Xn.updateParams(Bn,Hn);for(const Xn of Dt(this,Ht))Xn.updateDefaultParams(Bn,Hn)}}enableWaiting(Bn=!1){if(Dt(this,ln)!==Bn){$n(this,ln,Bn);for(const Hn of Dt(this,nn).values())Bn?Hn.disableClick():Hn.enableClick(),Hn.div.classList.toggle("waiting",Bn)}}getEditors(Bn){const Hn=[];for(const Xn of Dt(this,gn).values())Xn.pageIndex===Bn&&Hn.push(Xn);return Hn}getEditor(Bn){return Dt(this,gn).get(Bn)}addEditor(Bn){Dt(this,gn).set(Bn.id,Bn)}removeEditor(Bn){var Hn;Dt(this,gn).delete(Bn.id),this.unselect(Bn),(!Bn.annotationElementId||!Dt(this,Ut).has(Bn.annotationElementId))&&((Hn=Dt(this,Wt))==null||Hn.remove(Bn.id))}addDeletedAnnotationElement(Bn){Dt(this,Ut).add(Bn.annotationElementId),Bn.deleted=!0}isDeletedAnnotationElement(Bn){return Dt(this,Ut).has(Bn)}removeDeletedAnnotationElement(Bn){Dt(this,Ut).delete(Bn.annotationElementId),Bn.deleted=!1}setActiveEditor(Bn){Dt(this,tn)!==Bn&&($n(this,tn,Bn),Bn&&On(this,Cn,lm).call(this,Bn.propertiesToUpdate))}toggleSelected(Bn){if(Dt(this,rn).has(Bn)){Dt(this,rn).delete(Bn),Bn.unselect(),On(this,Cn,xl).call(this,{hasSelectedEditor:this.hasSelection});return}Dt(this,rn).add(Bn),Bn.select(),On(this,Cn,lm).call(this,Bn.propertiesToUpdate),On(this,Cn,xl).call(this,{hasSelectedEditor:!0})}setSelected(Bn){for(const Hn of Dt(this,rn))Hn!==Bn&&Hn.unselect();Dt(this,rn).clear(),Dt(this,rn).add(Bn),Bn.select(),On(this,Cn,lm).call(this,Bn.propertiesToUpdate),On(this,Cn,xl).call(this,{hasSelectedEditor:!0})}isSelected(Bn){return Dt(this,rn).has(Bn)}unselect(Bn){Bn.unselect(),Dt(this,rn).delete(Bn),On(this,Cn,xl).call(this,{hasSelectedEditor:this.hasSelection})}get hasSelection(){return Dt(this,rn).size!==0}undo(){Dt(this,Yt).undo(),On(this,Cn,xl).call(this,{hasSomethingToUndo:Dt(this,Yt).hasSomethingToUndo(),hasSomethingToRedo:!0,isEmpty:On(this,Cn,cm).call(this)})}redo(){Dt(this,Yt).redo(),On(this,Cn,xl).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:Dt(this,Yt).hasSomethingToRedo(),isEmpty:On(this,Cn,cm).call(this)})}addCommands(Bn){Dt(this,Yt).add(Bn),On(this,Cn,xl).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:!1,isEmpty:On(this,Cn,cm).call(this)})}delete(){if(this.commitOrRemove(),!this.hasSelection)return;const Bn=[...Dt(this,rn)],Hn=()=>{for(const cs of Bn)cs.remove()},Xn=()=>{for(const cs of Bn)On(this,Cn,A3).call(this,cs)};this.addCommands({cmd:Hn,undo:Xn,mustExec:!0})}commitOrRemove(){var Bn;(Bn=Dt(this,tn))==null||Bn.commitOrRemove()}hasSomethingToControl(){return Dt(this,tn)||this.hasSelection}selectAll(){for(const Bn of Dt(this,rn))Bn.commit();On(this,Cn,E3).call(this,Dt(this,gn).values())}unselectAll(){if(Dt(this,tn)){Dt(this,tn).commitOrRemove();return}if(this.hasSelection){for(const Bn of Dt(this,rn))Bn.unselect();Dt(this,rn).clear(),On(this,Cn,xl).call(this,{hasSelectedEditor:!1})}}translateSelectedEditors(Bn,Hn,Xn=!1){if(Xn||this.commitOrRemove(),!this.hasSelection)return;Dt(this,fn)[0]+=Bn,Dt(this,fn)[1]+=Hn;const[cs,rs]=Dt(this,fn),xs=[...Dt(this,rn)],Jn=1e3;Dt(this,Sn)&&clearTimeout(Dt(this,Sn)),$n(this,Sn,setTimeout(()=>{$n(this,Sn,null),Dt(this,fn)[0]=Dt(this,fn)[1]=0,this.addCommands({cmd:()=>{for(const Wn of xs)Dt(this,gn).has(Wn.id)&&Wn.translateInPage(cs,rs)},undo:()=>{for(const Wn of xs)Dt(this,gn).has(Wn.id)&&Wn.translateInPage(-cs,-rs)},mustExec:!1})},Jn));for(const Wn of xs)Wn.translateInPage(Bn,Hn)}setUpDragSession(){if(this.hasSelection){this.disableUserSelect(!0),$n(this,Mt,new Map);for(const Bn of Dt(this,rn))Dt(this,Mt).set(Bn,{savedX:Bn.x,savedY:Bn.y,savedPageIndex:Bn.pageIndex,newX:0,newY:0,newPageIndex:-1})}}endDragSession(){if(!Dt(this,Mt))return!1;this.disableUserSelect(!1);const Bn=Dt(this,Mt);$n(this,Mt,null);let Hn=!1;for(const[{x:cs,y:rs,pageIndex:xs},Jn]of Bn)Jn.newX=cs,Jn.newY=rs,Jn.newPageIndex=xs,Hn||(Hn=cs!==Jn.savedX||rs!==Jn.savedY||xs!==Jn.savedPageIndex);if(!Hn)return!1;const Xn=(cs,rs,xs,Jn)=>{if(Dt(this,gn).has(cs.id)){const Wn=Dt(this,nn).get(Jn);Wn?cs._setParentAndPosition(Wn,rs,xs):(cs.pageIndex=Jn,cs.x=rs,cs.y=xs)}};return this.addCommands({cmd:()=>{for(const[cs,{newX:rs,newY:xs,newPageIndex:Jn}]of Bn)Xn(cs,rs,xs,Jn)},undo:()=>{for(const[cs,{savedX:rs,savedY:xs,savedPageIndex:Jn}]of Bn)Xn(cs,rs,xs,Jn)},mustExec:!0}),!0}dragSelectedEditors(Bn,Hn){if(Dt(this,Mt))for(const Xn of Dt(this,Mt).keys())Xn.drag(Bn,Hn)}rebuild(Bn){if(Bn.parent===null){const Hn=this.getLayer(Bn.pageIndex);Hn?(Hn.changeParent(Bn),Hn.addOrRebuild(Bn)):(this.addEditor(Bn),this.addToAnnotationStorage(Bn),Bn.rebuild())}else Bn.parent.addOrRebuild(Bn)}isActive(Bn){return Dt(this,tn)===Bn}getActive(){return Dt(this,tn)}getMode(){return Dt(this,cn)}get imageManager(){return(0,bt.shadow)(this,"imageManager",new Pt)}};tn=new WeakMap,gn=new WeakMap,nn=new WeakMap,bn=new WeakMap,Wt=new WeakMap,Yt=new WeakMap,dn=new WeakMap,Ut=new WeakMap,Mt=new WeakMap,Ht=new WeakMap,sn=new WeakMap,zt=new WeakMap,Xt=new WeakMap,Qt=new WeakMap,ln=new WeakMap,on=new WeakMap,cn=new WeakMap,rn=new WeakMap,an=new WeakMap,xn=new WeakMap,wn=new WeakMap,En=new WeakMap,Fn=new WeakMap,In=new WeakMap,Tn=new WeakMap,An=new WeakMap,mn=new WeakMap,pn=new WeakMap,Jt=new WeakMap,un=new WeakMap,fn=new WeakMap,Sn=new WeakMap,kn=new WeakMap,Pn=new WeakMap,Cn=new WeakSet,Bv=function(){window.addEventListener("focus",Dt(this,wn)),window.addEventListener("blur",Dt(this,xn))},y3=function(){window.removeEventListener("focus",Dt(this,wn)),window.removeEventListener("blur",Dt(this,xn))},v3=function(){window.addEventListener("keydown",Dt(this,Tn),{capture:!0})},k2=function(){window.removeEventListener("keydown",Dt(this,Tn),{capture:!0})},w3=function(){document.addEventListener("copy",Dt(this,En)),document.addEventListener("cut",Dt(this,Fn)),document.addEventListener("paste",Dt(this,In))},S3=function(){document.removeEventListener("copy",Dt(this,En)),document.removeEventListener("cut",Dt(this,Fn)),document.removeEventListener("paste",Dt(this,In))},xl=function(Bn){Object.entries(Bn).some(([Xn,cs])=>Dt(this,un)[Xn]!==cs)&&this._eventBus.dispatch("annotationeditorstateschanged",{source:this,details:Object.assign(Dt(this,un),Bn)})},lm=function(Bn){this._eventBus.dispatch("annotationeditorparamschanged",{source:this,details:Bn})},Uv=function(){if(!Dt(this,Qt)){$n(this,Qt,!0);for(const Bn of Dt(this,nn).values())Bn.enable()}},Hv=function(){if(this.unselectAll(),Dt(this,Qt)){$n(this,Qt,!1);for(const Bn of Dt(this,nn).values())Bn.disable()}},A3=function(Bn){const Hn=Dt(this,nn).get(Bn.pageIndex);Hn?Hn.addOrRebuild(Bn):this.addEditor(Bn)},cm=function(){if(Dt(this,gn).size===0)return!0;if(Dt(this,gn).size===1)for(const Bn of Dt(this,gn).values())return Bn.isEmpty();return!1},E3=function(Bn){Dt(this,rn).clear();for(const Hn of Bn)Hn.isEmpty()||(Dt(this,rn).add(Hn),Hn.select());On(this,Cn,xl).call(this,{hasSelectedEditor:!0})},Us(ls,"TRANSLATE_SMALL",1),Us(ls,"TRANSLATE_BIG",10);let ht=ls;$.AnnotationEditorUIManager=ht},(_e,$,xt)=>{var dn,Ut,Mt,Ht,sn,zt,Xt,Qt,ln,on,cn,rn,Hp,Vp,C3,T2,P2,um,hm;Object.defineProperty($,"__esModule",{value:!0}),$.StatTimer=$.RenderingCancelledException=$.PixelsPerInch=$.PageViewport=$.PDFDateString=$.DOMStandardFontDataFactory=$.DOMSVGFactory=$.DOMFilterFactory=$.DOMCanvasFactory=$.DOMCMapReaderFactory=void 0,$.deprecated=Bt,$.getColorValues=gn,$.getCurrentTransform=nn,$.getCurrentTransformInverse=bn,$.getFilenameFromUrl=Lt,$.getPdfFilenameFromUrl=$t,$.getRGB=tn,$.getXfaPageViewport=hn,$.isDataScheme=Vt,$.isPdfFile=qt,$.isValidFetchUrl=jt,$.loadScript=Kt,$.noContextMenu=Rt,$.setLayerDimensions=Wt;var bt=xt(7),St=xt(1);const At="http://www.w3.org/2000/svg",Yt=class Yt{};Us(Yt,"CSS",96),Us(Yt,"PDF",72),Us(Yt,"PDF_TO_CSS_UNITS",Yt.CSS/Yt.PDF);let Ct=Yt;$.PixelsPerInch=Ct;class Et extends bt.BaseFilterFactory{constructor({docId:pn,ownerDocument:Jt=globalThis.document}={}){super();Nn(this,rn);Nn(this,dn);Nn(this,Ut);Nn(this,Mt);Nn(this,Ht);Nn(this,sn);Nn(this,zt);Nn(this,Xt);Nn(this,Qt);Nn(this,ln);Nn(this,on);Nn(this,cn,0);$n(this,Mt,pn),$n(this,Ht,Jt)}addFilter(pn){if(!pn)return"none";let Jt=Dt(this,rn,Hp).get(pn);if(Jt)return Jt;let un,fn,Sn,kn;if(pn.length===1){const Rn=pn[0],Mn=new Array(256);for(let _n=0;_n<256;_n++)Mn[_n]=Rn[_n]/255;kn=un=fn=Sn=Mn.join(",")}else{const[Rn,Mn,_n]=pn,Dn=new Array(256),Ln=new Array(256),Un=new Array(256);for(let ts=0;ts<256;ts++)Dn[ts]=Rn[ts]/255,Ln[ts]=Mn[ts]/255,Un[ts]=_n[ts]/255;un=Dn.join(","),fn=Ln.join(","),Sn=Un.join(","),kn=`${un}${fn}${Sn}`}if(Jt=Dt(this,rn,Hp).get(kn),Jt)return Dt(this,rn,Hp).set(pn,Jt),Jt;const Pn=`g_${Dt(this,Mt)}_transfer_map_${Ao(this,cn)._++}`,Cn=`url(#${Pn})`;Dt(this,rn,Hp).set(pn,Cn),Dt(this,rn,Hp).set(kn,Cn);const vn=On(this,rn,T2).call(this,Pn);return On(this,rn,um).call(this,un,fn,Sn,vn),Cn}addHCMFilter(pn,Jt){var Mn;const un=`${pn}-${Jt}`;if(Dt(this,zt)===un)return Dt(this,Xt);if($n(this,zt,un),$n(this,Xt,"none"),(Mn=Dt(this,sn))==null||Mn.remove(),!pn||!Jt)return Dt(this,Xt);const fn=On(this,rn,hm).call(this,pn);pn=St.Util.makeHexColor(...fn);const Sn=On(this,rn,hm).call(this,Jt);if(Jt=St.Util.makeHexColor(...Sn),Dt(this,rn,Vp).style.color="",pn==="#000000"&&Jt==="#ffffff"||pn===Jt)return Dt(this,Xt);const kn=new Array(256);for(let _n=0;_n<=255;_n++){const Dn=_n/255;kn[_n]=Dn<=.03928?Dn/12.92:((Dn+.055)/1.055)**2.4}const Pn=kn.join(","),Cn=`g_${Dt(this,Mt)}_hcm_filter`,vn=$n(this,Qt,On(this,rn,T2).call(this,Cn));On(this,rn,um).call(this,Pn,Pn,Pn,vn),On(this,rn,C3).call(this,vn);const Rn=(_n,Dn)=>{const Ln=fn[_n]/255,Un=Sn[_n]/255,ts=new Array(Dn+1);for(let es=0;es<=Dn;es++)ts[es]=Ln+es/Dn*(Un-Ln);return ts.join(",")};return On(this,rn,um).call(this,Rn(0,5),Rn(1,5),Rn(2,5),vn),$n(this,Xt,`url(#${Cn})`),Dt(this,Xt)}addHighlightHCMFilter(pn,Jt,un,fn){var Un;const Sn=`${pn}-${Jt}-${un}-${fn}`;if(Dt(this,ln)===Sn)return Dt(this,on);if($n(this,ln,Sn),$n(this,on,"none"),(Un=Dt(this,Qt))==null||Un.remove(),!pn||!Jt)return Dt(this,on);const[kn,Pn]=[pn,Jt].map(On(this,rn,hm).bind(this));let Cn=Math.round(.2126*kn[0]+.7152*kn[1]+.0722*kn[2]),vn=Math.round(.2126*Pn[0]+.7152*Pn[1]+.0722*Pn[2]),[Rn,Mn]=[un,fn].map(On(this,rn,hm).bind(this));vn<Cn&&([Cn,vn,Rn,Mn]=[vn,Cn,Mn,Rn]),Dt(this,rn,Vp).style.color="";const _n=(ts,es,Qn)=>{const Yn=new Array(256),zn=(vn-Cn)/Qn,ns=ts/255,ls=(es-ts)/(255*Qn);let ds=0;for(let Bn=0;Bn<=Qn;Bn++){const Hn=Math.round(Cn+Bn*zn),Xn=ns+Bn*ls;for(let cs=ds;cs<=Hn;cs++)Yn[cs]=Xn;ds=Hn+1}for(let Bn=ds;Bn<256;Bn++)Yn[Bn]=Yn[ds-1];return Yn.join(",")},Dn=`g_${Dt(this,Mt)}_hcm_highlight_filter`,Ln=$n(this,Qt,On(this,rn,T2).call(this,Dn));return On(this,rn,C3).call(this,Ln),On(this,rn,um).call(this,_n(Rn[0],Mn[0],5),_n(Rn[1],Mn[1],5),_n(Rn[2],Mn[2],5),Ln),$n(this,on,`url(#${Dn})`),Dt(this,on)}destroy(pn=!1){pn&&(Dt(this,Xt)||Dt(this,on))||(Dt(this,Ut)&&(Dt(this,Ut).parentNode.parentNode.remove(),$n(this,Ut,null)),Dt(this,dn)&&(Dt(this,dn).clear(),$n(this,dn,null)),$n(this,cn,0))}}dn=new WeakMap,Ut=new WeakMap,Mt=new WeakMap,Ht=new WeakMap,sn=new WeakMap,zt=new WeakMap,Xt=new WeakMap,Qt=new WeakMap,ln=new WeakMap,on=new WeakMap,cn=new WeakMap,rn=new WeakSet,Hp=function(){return Dt(this,dn)||$n(this,dn,new Map)},Vp=function(){if(!Dt(this,Ut)){const pn=Dt(this,Ht).createElement("div"),{style:Jt}=pn;Jt.visibility="hidden",Jt.contain="strict",Jt.width=Jt.height=0,Jt.position="absolute",Jt.top=Jt.left=0,Jt.zIndex=-1;const un=Dt(this,Ht).createElementNS(At,"svg");un.setAttribute("width",0),un.setAttribute("height",0),$n(this,Ut,Dt(this,Ht).createElementNS(At,"defs")),pn.append(un),un.append(Dt(this,Ut)),Dt(this,Ht).body.append(pn)}return Dt(this,Ut)},C3=function(pn){const Jt=Dt(this,Ht).createElementNS(At,"feColorMatrix");Jt.setAttribute("type","matrix"),Jt.setAttribute("values","0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0 0 0 1 0"),pn.append(Jt)},T2=function(pn){const Jt=Dt(this,Ht).createElementNS(At,"filter");return Jt.setAttribute("color-interpolation-filters","sRGB"),Jt.setAttribute("id",pn),Dt(this,rn,Vp).append(Jt),Jt},P2=function(pn,Jt,un){const fn=Dt(this,Ht).createElementNS(At,Jt);fn.setAttribute("type","discrete"),fn.setAttribute("tableValues",un),pn.append(fn)},um=function(pn,Jt,un,fn){const Sn=Dt(this,Ht).createElementNS(At,"feComponentTransfer");fn.append(Sn),On(this,rn,P2).call(this,Sn,"feFuncR",pn),On(this,rn,P2).call(this,Sn,"feFuncG",Jt),On(this,rn,P2).call(this,Sn,"feFuncB",un)},hm=function(pn){return Dt(this,rn,Vp).style.color=pn,tn(getComputedStyle(Dt(this,rn,Vp)).getPropertyValue("color"))},$.DOMFilterFactory=Et;class Pt extends bt.BaseCanvasFactory{constructor({ownerDocument:mn=globalThis.document}={}){super(),this._document=mn}_createCanvas(mn,pn){const Jt=this._document.createElement("canvas");return Jt.width=mn,Jt.height=pn,Jt}}$.DOMCanvasFactory=Pt;async function wt(An,mn=!1){if(jt(An,document.baseURI)){const pn=await fetch(An);if(!pn.ok)throw new Error(pn.statusText);return mn?new Uint8Array(await pn.arrayBuffer()):(0,St.stringToBytes)(await pn.text())}return new Promise((pn,Jt)=>{const un=new XMLHttpRequest;un.open("GET",An,!0),mn&&(un.responseType="arraybuffer"),un.onreadystatechange=()=>{if(un.readyState===XMLHttpRequest.DONE){if(un.status===200||un.status===0){let fn;if(mn&&un.response?fn=new Uint8Array(un.response):!mn&&un.responseText&&(fn=(0,St.stringToBytes)(un.responseText)),fn){pn(fn);return}}Jt(new Error(un.statusText))}},un.send(null)})}class kt extends bt.BaseCMapReaderFactory{_fetchData(mn,pn){return wt(mn,this.isCompressed).then(Jt=>({cMapData:Jt,compressionType:pn}))}}$.DOMCMapReaderFactory=kt;class _t extends bt.BaseStandardFontDataFactory{_fetchData(mn){return wt(mn,!0)}}$.DOMStandardFontDataFactory=_t;class ht extends bt.BaseSVGFactory{_createSVG(mn){return document.createElementNS(At,mn)}}$.DOMSVGFactory=ht;class vt{constructor({viewBox:mn,scale:pn,rotation:Jt,offsetX:un=0,offsetY:fn=0,dontFlip:Sn=!1}){this.viewBox=mn,this.scale=pn,this.rotation=Jt,this.offsetX=un,this.offsetY=fn;const kn=(mn[2]+mn[0])/2,Pn=(mn[3]+mn[1])/2;let Cn,vn,Rn,Mn;switch(Jt%=360,Jt<0&&(Jt+=360),Jt){case 180:Cn=-1,vn=0,Rn=0,Mn=1;break;case 90:Cn=0,vn=1,Rn=1,Mn=0;break;case 270:Cn=0,vn=-1,Rn=-1,Mn=0;break;case 0:Cn=1,vn=0,Rn=0,Mn=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}Sn&&(Rn=-Rn,Mn=-Mn);let _n,Dn,Ln,Un;Cn===0?(_n=Math.abs(Pn-mn[1])*pn+un,Dn=Math.abs(kn-mn[0])*pn+fn,Ln=(mn[3]-mn[1])*pn,Un=(mn[2]-mn[0])*pn):(_n=Math.abs(kn-mn[0])*pn+un,Dn=Math.abs(Pn-mn[1])*pn+fn,Ln=(mn[2]-mn[0])*pn,Un=(mn[3]-mn[1])*pn),this.transform=[Cn*pn,vn*pn,Rn*pn,Mn*pn,_n-Cn*pn*kn-Rn*pn*Pn,Dn-vn*pn*kn-Mn*pn*Pn],this.width=Ln,this.height=Un}get rawDims(){const{viewBox:mn}=this;return(0,St.shadow)(this,"rawDims",{pageWidth:mn[2]-mn[0],pageHeight:mn[3]-mn[1],pageX:mn[0],pageY:mn[1]})}clone({scale:mn=this.scale,rotation:pn=this.rotation,offsetX:Jt=this.offsetX,offsetY:un=this.offsetY,dontFlip:fn=!1}={}){return new vt({viewBox:this.viewBox.slice(),scale:mn,rotation:pn,offsetX:Jt,offsetY:un,dontFlip:fn})}convertToViewportPoint(mn,pn){return St.Util.applyTransform([mn,pn],this.transform)}convertToViewportRectangle(mn){const pn=St.Util.applyTransform([mn[0],mn[1]],this.transform),Jt=St.Util.applyTransform([mn[2],mn[3]],this.transform);return[pn[0],pn[1],Jt[0],Jt[1]]}convertToPdfPoint(mn,pn){return St.Util.applyInverseTransform([mn,pn],this.transform)}}$.PageViewport=vt;class Ft extends St.BaseException{constructor(mn,pn=0){super(mn,"RenderingCancelledException"),this.extraDelay=pn}}$.RenderingCancelledException=Ft;function Vt(An){const mn=An.length;let pn=0;for(;pn<mn&&An[pn].trim()==="";)pn++;return An.substring(pn,pn+5).toLowerCase()==="data:"}function qt(An){return typeof An=="string"&&/\.pdf$/i.test(An)}function Lt(An,mn=!1){return mn||([An]=An.split(/[#?]/,1)),An.substring(An.lastIndexOf("/")+1)}function $t(An,mn="document.pdf"){if(typeof An!="string")return mn;if(Vt(An))return(0,St.warn)('getPdfFilenameFromUrl: ignore "data:"-URL for performance reasons.'),mn;const pn=/^(?:(?:[^:]+:)?\/\/[^/]+)?([^?#]*)(\?[^#]*)?(#.*)?$/,Jt=/[^/?#=]+\.pdf\b(?!.*\.pdf\b)/i,un=pn.exec(An);let fn=Jt.exec(un[1])||Jt.exec(un[2])||Jt.exec(un[3]);if(fn&&(fn=fn[0],fn.includes("%")))try{fn=Jt.exec(decodeURIComponent(fn))[0]}catch{}return fn||mn}class Ot{constructor(){Us(this,"started",Object.create(null));Us(this,"times",[])}time(mn){mn in this.started&&(0,St.warn)(`Timer is already running for ${mn}`),this.started[mn]=Date.now()}timeEnd(mn){mn in this.started||(0,St.warn)(`Timer has not been started for ${mn}`),this.times.push({name:mn,start:this.started[mn],end:Date.now()}),delete this.started[mn]}toString(){const mn=[];let pn=0;for(const{name:Jt}of this.times)pn=Math.max(Jt.length,pn);for(const{name:Jt,start:un,end:fn}of this.times)mn.push(`${Jt.padEnd(pn)} ${fn-un}ms
`);return mn.join("")}}$.StatTimer=Ot;function jt(An,mn){try{const{protocol:pn}=mn?new URL(An,mn):new URL(An);return pn==="http:"||pn==="https:"}catch{return!1}}function Rt(An){An.preventDefault()}function Kt(An,mn=!1){return new Promise((pn,Jt)=>{const un=document.createElement("script");un.src=An,un.onload=function(fn){mn&&un.remove(),pn(fn)},un.onerror=function(){Jt(new Error(`Cannot load script at: ${un.src}`))},(document.head||document.documentElement).append(un)})}function Bt(An){console.log("Deprecated API usage: "+An)}let Gt;class en{static toDateObject(mn){if(!mn||typeof mn!="string")return null;Gt||(Gt=new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?"));const pn=Gt.exec(mn);if(!pn)return null;const Jt=parseInt(pn[1],10);let un=parseInt(pn[2],10);un=un>=1&&un<=12?un-1:0;let fn=parseInt(pn[3],10);fn=fn>=1&&fn<=31?fn:1;let Sn=parseInt(pn[4],10);Sn=Sn>=0&&Sn<=23?Sn:0;let kn=parseInt(pn[5],10);kn=kn>=0&&kn<=59?kn:0;let Pn=parseInt(pn[6],10);Pn=Pn>=0&&Pn<=59?Pn:0;const Cn=pn[7]||"Z";let vn=parseInt(pn[8],10);vn=vn>=0&&vn<=23?vn:0;let Rn=parseInt(pn[9],10)||0;return Rn=Rn>=0&&Rn<=59?Rn:0,Cn==="-"?(Sn+=vn,kn+=Rn):Cn==="+"&&(Sn-=vn,kn-=Rn),new Date(Date.UTC(Jt,un,fn,Sn,kn,Pn))}}$.PDFDateString=en;function hn(An,{scale:mn=1,rotation:pn=0}){const{width:Jt,height:un}=An.attributes.style,fn=[0,0,parseInt(Jt),parseInt(un)];return new vt({viewBox:fn,scale:mn,rotation:pn})}function tn(An){if(An.startsWith("#")){const mn=parseInt(An.slice(1),16);return[(mn&16711680)>>16,(mn&65280)>>8,mn&255]}return An.startsWith("rgb(")?An.slice(4,-1).split(",").map(mn=>parseInt(mn)):An.startsWith("rgba(")?An.slice(5,-1).split(",").map(mn=>parseInt(mn)).slice(0,3):((0,St.warn)(`Not a valid color format: "${An}"`),[0,0,0])}function gn(An){const mn=document.createElement("span");mn.style.visibility="hidden",document.body.append(mn);for(const pn of An.keys()){mn.style.color=pn;const Jt=window.getComputedStyle(mn).color;An.set(pn,tn(Jt))}mn.remove()}function nn(An){const{a:mn,b:pn,c:Jt,d:un,e:fn,f:Sn}=An.getTransform();return[mn,pn,Jt,un,fn,Sn]}function bn(An){const{a:mn,b:pn,c:Jt,d:un,e:fn,f:Sn}=An.getTransform().invertSelf();return[mn,pn,Jt,un,fn,Sn]}function Wt(An,mn,pn=!1,Jt=!0){if(mn instanceof vt){const{pageWidth:un,pageHeight:fn}=mn.rawDims,{style:Sn}=An,kn=St.FeatureTest.isCSSRoundSupported,Pn=`var(--scale-factor) * ${un}px`,Cn=`var(--scale-factor) * ${fn}px`,vn=kn?`round(${Pn}, 1px)`:`calc(${Pn})`,Rn=kn?`round(${Cn}, 1px)`:`calc(${Cn})`;!pn||mn.rotation%180===0?(Sn.width=vn,Sn.height=Rn):(Sn.width=Rn,Sn.height=vn)}Jt&&An.setAttribute("data-main-rotation",mn.rotation)}},(_e,$,xt)=>{Object.defineProperty($,"__esModule",{value:!0}),$.BaseStandardFontDataFactory=$.BaseSVGFactory=$.BaseFilterFactory=$.BaseCanvasFactory=$.BaseCMapReaderFactory=void 0;var bt=xt(1);class St{constructor(){this.constructor===St&&(0,bt.unreachable)("Cannot initialize BaseFilterFactory.")}addFilter(kt){return"none"}addHCMFilter(kt,_t){return"none"}addHighlightHCMFilter(kt,_t,ht,vt){return"none"}destroy(kt=!1){}}$.BaseFilterFactory=St;class At{constructor(){this.constructor===At&&(0,bt.unreachable)("Cannot initialize BaseCanvasFactory.")}create(kt,_t){if(kt<=0||_t<=0)throw new Error("Invalid canvas size");const ht=this._createCanvas(kt,_t);return{canvas:ht,context:ht.getContext("2d")}}reset(kt,_t,ht){if(!kt.canvas)throw new Error("Canvas is not specified");if(_t<=0||ht<=0)throw new Error("Invalid canvas size");kt.canvas.width=_t,kt.canvas.height=ht}destroy(kt){if(!kt.canvas)throw new Error("Canvas is not specified");kt.canvas.width=0,kt.canvas.height=0,kt.canvas=null,kt.context=null}_createCanvas(kt,_t){(0,bt.unreachable)("Abstract method `_createCanvas` called.")}}$.BaseCanvasFactory=At;class Ct{constructor({baseUrl:kt=null,isCompressed:_t=!0}){this.constructor===Ct&&(0,bt.unreachable)("Cannot initialize BaseCMapReaderFactory."),this.baseUrl=kt,this.isCompressed=_t}async fetch({name:kt}){if(!this.baseUrl)throw new Error('The CMap "baseUrl" parameter must be specified, ensure that the "cMapUrl" and "cMapPacked" API parameters are provided.');if(!kt)throw new Error("CMap name must be specified.");const _t=this.baseUrl+kt+(this.isCompressed?".bcmap":""),ht=this.isCompressed?bt.CMapCompressionType.BINARY:bt.CMapCompressionType.NONE;return this._fetchData(_t,ht).catch(vt=>{throw new Error(`Unable to load ${this.isCompressed?"binary ":""}CMap at: ${_t}`)})}_fetchData(kt,_t){(0,bt.unreachable)("Abstract method `_fetchData` called.")}}$.BaseCMapReaderFactory=Ct;class Et{constructor({baseUrl:kt=null}){this.constructor===Et&&(0,bt.unreachable)("Cannot initialize BaseStandardFontDataFactory."),this.baseUrl=kt}async fetch({filename:kt}){if(!this.baseUrl)throw new Error('The standard font "baseUrl" parameter must be specified, ensure that the "standardFontDataUrl" API parameter is provided.');if(!kt)throw new Error("Font filename must be specified.");const _t=`${this.baseUrl}${kt}`;return this._fetchData(_t).catch(ht=>{throw new Error(`Unable to load font data at: ${_t}`)})}_fetchData(kt){(0,bt.unreachable)("Abstract method `_fetchData` called.")}}$.BaseStandardFontDataFactory=Et;class Pt{constructor(){this.constructor===Pt&&(0,bt.unreachable)("Cannot initialize BaseSVGFactory.")}create(kt,_t,ht=!1){if(kt<=0||_t<=0)throw new Error("Invalid SVG dimensions");const vt=this._createSVG("svg:svg");return vt.setAttribute("version","1.1"),ht||(vt.setAttribute("width",`${kt}px`),vt.setAttribute("height",`${_t}px`)),vt.setAttribute("preserveAspectRatio","none"),vt.setAttribute("viewBox",`0 0 ${kt} ${_t}`),vt}createElement(kt){if(typeof kt!="string")throw new Error("Invalid SVG element type");return this._createSVG(kt)}_createSVG(kt){(0,bt.unreachable)("Abstract method `_createSVG` called.")}}$.BaseSVGFactory=Pt},(_e,$,xt)=>{Object.defineProperty($,"__esModule",{value:!0}),$.MurmurHash3_64=void 0;var bt=xt(1);const St=3285377520,At=4294901760,Ct=65535;class Et{constructor(wt){this.h1=wt?wt&4294967295:St,this.h2=wt?wt&4294967295:St}update(wt){let kt,_t;if(typeof wt=="string"){kt=new Uint8Array(wt.length*2),_t=0;for(let Bt=0,Gt=wt.length;Bt<Gt;Bt++){const en=wt.charCodeAt(Bt);en<=255?kt[_t++]=en:(kt[_t++]=en>>>8,kt[_t++]=en&255)}}else if((0,bt.isArrayBuffer)(wt))kt=wt.slice(),_t=kt.byteLength;else throw new Error("Wrong data format in MurmurHash3_64_update. Input must be a string or array.");const ht=_t>>2,vt=_t-ht*4,Ft=new Uint32Array(kt.buffer,0,ht);let Vt=0,qt=0,Lt=this.h1,$t=this.h2;const Ot=3432918353,jt=461845907,Rt=Ot&Ct,Kt=jt&Ct;for(let Bt=0;Bt<ht;Bt++)Bt&1?(Vt=Ft[Bt],Vt=Vt*Ot&At|Vt*Rt&Ct,Vt=Vt<<15|Vt>>>17,Vt=Vt*jt&At|Vt*Kt&Ct,Lt^=Vt,Lt=Lt<<13|Lt>>>19,Lt=Lt*5+3864292196):(qt=Ft[Bt],qt=qt*Ot&At|qt*Rt&Ct,qt=qt<<15|qt>>>17,qt=qt*jt&At|qt*Kt&Ct,$t^=qt,$t=$t<<13|$t>>>19,$t=$t*5+3864292196);switch(Vt=0,vt){case 3:Vt^=kt[ht*4+2]<<16;case 2:Vt^=kt[ht*4+1]<<8;case 1:Vt^=kt[ht*4],Vt=Vt*Ot&At|Vt*Rt&Ct,Vt=Vt<<15|Vt>>>17,Vt=Vt*jt&At|Vt*Kt&Ct,ht&1?Lt^=Vt:$t^=Vt}this.h1=Lt,this.h2=$t}hexdigest(){let wt=this.h1,kt=this.h2;return wt^=kt>>>1,wt=wt*3981806797&At|wt*36045&Ct,kt=kt*4283543511&At|((kt<<16|wt>>>16)*2950163797&At)>>>16,wt^=kt>>>1,wt=wt*444984403&At|wt*60499&Ct,kt=kt*3301882366&At|((kt<<16|wt>>>16)*3120437893&At)>>>16,wt^=kt>>>1,(wt>>>0).toString(16).padStart(8,"0")+(kt>>>0).toString(16).padStart(8,"0")}}$.MurmurHash3_64=Et},(_e,$,xt)=>{var Ct;Object.defineProperty($,"__esModule",{value:!0}),$.FontLoader=$.FontFaceObject=void 0;var bt=xt(1);class St{constructor({ownerDocument:Pt=globalThis.document,styleElement:wt=null}){Nn(this,Ct,new Set);this._document=Pt,this.nativeFontFaces=new Set,this.styleElement=null,this.loadingRequests=[],this.loadTestFontId=0}addNativeFontFace(Pt){this.nativeFontFaces.add(Pt),this._document.fonts.add(Pt)}removeNativeFontFace(Pt){this.nativeFontFaces.delete(Pt),this._document.fonts.delete(Pt)}insertRule(Pt){this.styleElement||(this.styleElement=this._document.createElement("style"),this._document.documentElement.getElementsByTagName("head")[0].append(this.styleElement));const wt=this.styleElement.sheet;wt.insertRule(Pt,wt.cssRules.length)}clear(){for(const Pt of this.nativeFontFaces)this._document.fonts.delete(Pt);this.nativeFontFaces.clear(),Dt(this,Ct).clear(),this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}async loadSystemFont(Pt){if(!(!Pt||Dt(this,Ct).has(Pt.loadedName))){if((0,bt.assert)(!this.disableFontFace,"loadSystemFont shouldn't be called when `disableFontFace` is set."),this.isFontLoadingAPISupported){const{loadedName:wt,src:kt,style:_t}=Pt,ht=new FontFace(wt,kt,_t);this.addNativeFontFace(ht);try{await ht.load(),Dt(this,Ct).add(wt)}catch{(0,bt.warn)(`Cannot load system font: ${Pt.baseFontName}, installing it could help to improve PDF rendering.`),this.removeNativeFontFace(ht)}return}(0,bt.unreachable)("Not implemented: loadSystemFont without the Font Loading API.")}}async bind(Pt){if(Pt.attached||Pt.missingFile&&!Pt.systemFontInfo)return;if(Pt.attached=!0,Pt.systemFontInfo){await this.loadSystemFont(Pt.systemFontInfo);return}if(this.isFontLoadingAPISupported){const kt=Pt.createNativeFontFace();if(kt){this.addNativeFontFace(kt);try{await kt.loaded}catch(_t){throw(0,bt.warn)(`Failed to load font '${kt.family}': '${_t}'.`),Pt.disableFontFace=!0,_t}}return}const wt=Pt.createFontFaceRule();if(wt){if(this.insertRule(wt),this.isSyncFontLoadingSupported)return;await new Promise(kt=>{const _t=this._queueLoadingCallback(kt);this._prepareFontLoadEvent(Pt,_t)})}}get isFontLoadingAPISupported(){var wt;const Pt=!!((wt=this._document)!=null&&wt.fonts);return(0,bt.shadow)(this,"isFontLoadingAPISupported",Pt)}get isSyncFontLoadingSupported(){let Pt=!1;return(bt.isNodeJS||typeof navigator<"u"&&/Mozilla\/5.0.*?rv:\d+.*? Gecko/.test(navigator.userAgent))&&(Pt=!0),(0,bt.shadow)(this,"isSyncFontLoadingSupported",Pt)}_queueLoadingCallback(Pt){function wt(){for((0,bt.assert)(!_t.done,"completeRequest() cannot be called twice."),_t.done=!0;kt.length>0&&kt[0].done;){const ht=kt.shift();setTimeout(ht.callback,0)}}const{loadingRequests:kt}=this,_t={done:!1,complete:wt,callback:Pt};return kt.push(_t),_t}get _loadTestFont(){const Pt=atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA==");return(0,bt.shadow)(this,"_loadTestFont",Pt)}_prepareFontLoadEvent(Pt,wt){function kt(tn,gn){return tn.charCodeAt(gn)<<24|tn.charCodeAt(gn+1)<<16|tn.charCodeAt(gn+2)<<8|tn.charCodeAt(gn+3)&255}function _t(tn,gn,nn,bn){const Wt=tn.substring(0,gn),Yt=tn.substring(gn+nn);return Wt+bn+Yt}let ht,vt;const Ft=this._document.createElement("canvas");Ft.width=1,Ft.height=1;const Vt=Ft.getContext("2d");let qt=0;function Lt(tn,gn){if(++qt>30){(0,bt.warn)("Load test font never loaded."),gn();return}if(Vt.font="30px "+tn,Vt.fillText(".",0,20),Vt.getImageData(0,0,1,1).data[3]>0){gn();return}setTimeout(Lt.bind(null,tn,gn))}const $t=`lt${Date.now()}${this.loadTestFontId++}`;let Ot=this._loadTestFont;Ot=_t(Ot,976,$t.length,$t);const Rt=16,Kt=1482184792;let Bt=kt(Ot,Rt);for(ht=0,vt=$t.length-3;ht<vt;ht+=4)Bt=Bt-Kt+kt($t,ht)|0;ht<$t.length&&(Bt=Bt-Kt+kt($t+"XXX",ht)|0),Ot=_t(Ot,Rt,4,(0,bt.string32)(Bt));const Gt=`url(data:font/opentype;base64,${btoa(Ot)});`,en=`@font-face {font-family:"${$t}";src:${Gt}}`;this.insertRule(en);const hn=this._document.createElement("div");hn.style.visibility="hidden",hn.style.width=hn.style.height="10px",hn.style.position="absolute",hn.style.top=hn.style.left="0px";for(const tn of[Pt.loadedName,$t]){const gn=this._document.createElement("span");gn.textContent="Hi",gn.style.fontFamily=tn,hn.append(gn)}this._document.body.append(hn),Lt($t,()=>{hn.remove(),wt.complete()})}}Ct=new WeakMap,$.FontLoader=St;class At{constructor(Pt,{isEvalSupported:wt=!0,disableFontFace:kt=!1,ignoreErrors:_t=!1,inspectFont:ht=null}){this.compiledGlyphs=Object.create(null);for(const vt in Pt)this[vt]=Pt[vt];this.isEvalSupported=wt!==!1,this.disableFontFace=kt===!0,this.ignoreErrors=_t===!0,this._inspectFont=ht}createNativeFontFace(){var wt;if(!this.data||this.disableFontFace)return null;let Pt;if(!this.cssFontInfo)Pt=new FontFace(this.loadedName,this.data,{});else{const kt={weight:this.cssFontInfo.fontWeight};this.cssFontInfo.italicAngle&&(kt.style=`oblique ${this.cssFontInfo.italicAngle}deg`),Pt=new FontFace(this.cssFontInfo.fontFamily,this.data,kt)}return(wt=this._inspectFont)==null||wt.call(this,this),Pt}createFontFaceRule(){var _t;if(!this.data||this.disableFontFace)return null;const Pt=(0,bt.bytesToString)(this.data),wt=`url(data:${this.mimetype};base64,${btoa(Pt)});`;let kt;if(!this.cssFontInfo)kt=`@font-face {font-family:"${this.loadedName}";src:${wt}}`;else{let ht=`font-weight: ${this.cssFontInfo.fontWeight};`;this.cssFontInfo.italicAngle&&(ht+=`font-style: oblique ${this.cssFontInfo.italicAngle}deg;`),kt=`@font-face {font-family:"${this.cssFontInfo.fontFamily}";${ht}src:${wt}}`}return(_t=this._inspectFont)==null||_t.call(this,this,wt),kt}getPathGenerator(Pt,wt){if(this.compiledGlyphs[wt]!==void 0)return this.compiledGlyphs[wt];let kt;try{kt=Pt.get(this.loadedName+"_path_"+wt)}catch(_t){if(!this.ignoreErrors)throw _t;return(0,bt.warn)(`getPathGenerator - ignoring character: "${_t}".`),this.compiledGlyphs[wt]=function(ht,vt){}}if(this.isEvalSupported&&bt.FeatureTest.isEvalSupported){const _t=[];for(const ht of kt){const vt=ht.args!==void 0?ht.args.join(","):"";_t.push("c.",ht.cmd,"(",vt,`);
`)}return this.compiledGlyphs[wt]=new Function("c","size",_t.join(""))}return this.compiledGlyphs[wt]=function(_t,ht){for(const vt of kt)vt.cmd==="scale"&&(vt.args=[ht,-ht]),_t[vt.cmd].apply(_t,vt.args)}}}$.FontFaceObject=At},(_e,$,xt)=>{Object.defineProperty($,"__esModule",{value:!0}),$.NodeStandardFontDataFactory=$.NodeFilterFactory=$.NodeCanvasFactory=$.NodeCMapReaderFactory=void 0;var bt=xt(7);xt(1);const St=function(wt){return new Promise((kt,_t)=>{require$$5.readFile(wt,(vt,Ft)=>{if(vt||!Ft){_t(new Error(vt));return}kt(new Uint8Array(Ft))})})};class At extends bt.BaseFilterFactory{}$.NodeFilterFactory=At;class Ct extends bt.BaseCanvasFactory{_createCanvas(kt,_t){return require$$5.createCanvas(kt,_t)}}$.NodeCanvasFactory=Ct;class Et extends bt.BaseCMapReaderFactory{_fetchData(kt,_t){return St(kt).then(ht=>({cMapData:ht,compressionType:_t}))}}$.NodeCMapReaderFactory=Et;class Pt extends bt.BaseStandardFontDataFactory{_fetchData(kt){return St(kt)}}$.NodeStandardFontDataFactory=Pt},(_e,$,xt)=>{var Ut,k3,T3;Object.defineProperty($,"__esModule",{value:!0}),$.CanvasGraphics=void 0;var bt=xt(1),St=xt(6),At=xt(12),Ct=xt(13);const Et=16,Pt=100,wt=4096,kt=15,_t=10,ht=1e3,vt=16;function Ft(zt,Xt){if(zt._removeMirroring)throw new Error("Context is already forwarding operations.");zt.__originalSave=zt.save,zt.__originalRestore=zt.restore,zt.__originalRotate=zt.rotate,zt.__originalScale=zt.scale,zt.__originalTranslate=zt.translate,zt.__originalTransform=zt.transform,zt.__originalSetTransform=zt.setTransform,zt.__originalResetTransform=zt.resetTransform,zt.__originalClip=zt.clip,zt.__originalMoveTo=zt.moveTo,zt.__originalLineTo=zt.lineTo,zt.__originalBezierCurveTo=zt.bezierCurveTo,zt.__originalRect=zt.rect,zt.__originalClosePath=zt.closePath,zt.__originalBeginPath=zt.beginPath,zt._removeMirroring=()=>{zt.save=zt.__originalSave,zt.restore=zt.__originalRestore,zt.rotate=zt.__originalRotate,zt.scale=zt.__originalScale,zt.translate=zt.__originalTranslate,zt.transform=zt.__originalTransform,zt.setTransform=zt.__originalSetTransform,zt.resetTransform=zt.__originalResetTransform,zt.clip=zt.__originalClip,zt.moveTo=zt.__originalMoveTo,zt.lineTo=zt.__originalLineTo,zt.bezierCurveTo=zt.__originalBezierCurveTo,zt.rect=zt.__originalRect,zt.closePath=zt.__originalClosePath,zt.beginPath=zt.__originalBeginPath,delete zt._removeMirroring},zt.save=function(){Xt.save(),this.__originalSave()},zt.restore=function(){Xt.restore(),this.__originalRestore()},zt.translate=function(ln,on){Xt.translate(ln,on),this.__originalTranslate(ln,on)},zt.scale=function(ln,on){Xt.scale(ln,on),this.__originalScale(ln,on)},zt.transform=function(ln,on,cn,rn,an,xn){Xt.transform(ln,on,cn,rn,an,xn),this.__originalTransform(ln,on,cn,rn,an,xn)},zt.setTransform=function(ln,on,cn,rn,an,xn){Xt.setTransform(ln,on,cn,rn,an,xn),this.__originalSetTransform(ln,on,cn,rn,an,xn)},zt.resetTransform=function(){Xt.resetTransform(),this.__originalResetTransform()},zt.rotate=function(ln){Xt.rotate(ln),this.__originalRotate(ln)},zt.clip=function(ln){Xt.clip(ln),this.__originalClip(ln)},zt.moveTo=function(Qt,ln){Xt.moveTo(Qt,ln),this.__originalMoveTo(Qt,ln)},zt.lineTo=function(Qt,ln){Xt.lineTo(Qt,ln),this.__originalLineTo(Qt,ln)},zt.bezierCurveTo=function(Qt,ln,on,cn,rn,an){Xt.bezierCurveTo(Qt,ln,on,cn,rn,an),this.__originalBezierCurveTo(Qt,ln,on,cn,rn,an)},zt.rect=function(Qt,ln,on,cn){Xt.rect(Qt,ln,on,cn),this.__originalRect(Qt,ln,on,cn)},zt.closePath=function(){Xt.closePath(),this.__originalClosePath()},zt.beginPath=function(){Xt.beginPath(),this.__originalBeginPath()}}class Vt{constructor(Xt){this.canvasFactory=Xt,this.cache=Object.create(null)}getCanvas(Xt,Qt,ln){let on;return this.cache[Xt]!==void 0?(on=this.cache[Xt],this.canvasFactory.reset(on,Qt,ln)):(on=this.canvasFactory.create(Qt,ln),this.cache[Xt]=on),on}delete(Xt){delete this.cache[Xt]}clear(){for(const Xt in this.cache){const Qt=this.cache[Xt];this.canvasFactory.destroy(Qt),delete this.cache[Xt]}}}function qt(zt,Xt,Qt,ln,on,cn,rn,an,xn,wn){const[En,Fn,In,Tn,An,mn]=(0,St.getCurrentTransform)(zt);if(Fn===0&&In===0){const un=rn*En+An,fn=Math.round(un),Sn=an*Tn+mn,kn=Math.round(Sn),Pn=(rn+xn)*En+An,Cn=Math.abs(Math.round(Pn)-fn)||1,vn=(an+wn)*Tn+mn,Rn=Math.abs(Math.round(vn)-kn)||1;return zt.setTransform(Math.sign(En),0,0,Math.sign(Tn),fn,kn),zt.drawImage(Xt,Qt,ln,on,cn,0,0,Cn,Rn),zt.setTransform(En,Fn,In,Tn,An,mn),[Cn,Rn]}if(En===0&&Tn===0){const un=an*In+An,fn=Math.round(un),Sn=rn*Fn+mn,kn=Math.round(Sn),Pn=(an+wn)*In+An,Cn=Math.abs(Math.round(Pn)-fn)||1,vn=(rn+xn)*Fn+mn,Rn=Math.abs(Math.round(vn)-kn)||1;return zt.setTransform(0,Math.sign(Fn),Math.sign(In),0,fn,kn),zt.drawImage(Xt,Qt,ln,on,cn,0,0,Rn,Cn),zt.setTransform(En,Fn,In,Tn,An,mn),[Rn,Cn]}zt.drawImage(Xt,Qt,ln,on,cn,rn,an,xn,wn);const pn=Math.hypot(En,Fn),Jt=Math.hypot(In,Tn);return[pn*xn,Jt*wn]}function Lt(zt){const{width:Xt,height:Qt}=zt;if(Xt>ht||Qt>ht)return null;const ln=1e3,on=new Uint8Array([0,2,4,0,1,0,5,4,8,10,0,8,0,2,1,0]),cn=Xt+1;let rn=new Uint8Array(cn*(Qt+1)),an,xn,wn;const En=Xt+7&-8;let Fn=new Uint8Array(En*Qt),In=0;for(const Jt of zt.data){let un=128;for(;un>0;)Fn[In++]=Jt&un?0:255,un>>=1}let Tn=0;for(In=0,Fn[In]!==0&&(rn[0]=1,++Tn),xn=1;xn<Xt;xn++)Fn[In]!==Fn[In+1]&&(rn[xn]=Fn[In]?2:1,++Tn),In++;for(Fn[In]!==0&&(rn[xn]=2,++Tn),an=1;an<Qt;an++){In=an*En,wn=an*cn,Fn[In-En]!==Fn[In]&&(rn[wn]=Fn[In]?1:8,++Tn);let Jt=(Fn[In]?4:0)+(Fn[In-En]?8:0);for(xn=1;xn<Xt;xn++)Jt=(Jt>>2)+(Fn[In+1]?4:0)+(Fn[In-En+1]?8:0),on[Jt]&&(rn[wn+xn]=on[Jt],++Tn),In++;if(Fn[In-En]!==Fn[In]&&(rn[wn+xn]=Fn[In]?2:4,++Tn),Tn>ln)return null}for(In=En*(Qt-1),wn=an*cn,Fn[In]!==0&&(rn[wn]=8,++Tn),xn=1;xn<Xt;xn++)Fn[In]!==Fn[In+1]&&(rn[wn+xn]=Fn[In]?4:8,++Tn),In++;if(Fn[In]!==0&&(rn[wn+xn]=4,++Tn),Tn>ln)return null;const An=new Int32Array([0,cn,-1,0,-cn,0,0,0,1]),mn=new Path2D;for(an=0;Tn&&an<=Qt;an++){let Jt=an*cn;const un=Jt+Xt;for(;Jt<un&&!rn[Jt];)Jt++;if(Jt===un)continue;mn.moveTo(Jt%cn,an);const fn=Jt;let Sn=rn[Jt];do{const kn=An[Sn];do Jt+=kn;while(!rn[Jt]);const Pn=rn[Jt];Pn!==5&&Pn!==10?(Sn=Pn,rn[Jt]=0):(Sn=Pn&51*Sn>>4,rn[Jt]&=Sn>>2|Sn<<2),mn.lineTo(Jt%cn,Jt/cn|0),rn[Jt]||--Tn}while(fn!==Jt);--an}return Fn=null,rn=null,function(Jt){Jt.save(),Jt.scale(1/Xt,-1/Qt),Jt.translate(0,-Qt),Jt.fill(mn),Jt.beginPath(),Jt.restore()}}class $t{constructor(Xt,Qt){this.alphaIsShape=!1,this.fontSize=0,this.fontSizeScale=1,this.textMatrix=bt.IDENTITY_MATRIX,this.textMatrixScale=1,this.fontMatrix=bt.FONT_IDENTITY_MATRIX,this.leading=0,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRenderingMode=bt.TextRenderingMode.FILL,this.textRise=0,this.fillColor="#000000",this.strokeColor="#000000",this.patternFill=!1,this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.activeSMask=null,this.transferMaps="none",this.startNewPathAndClipBox([0,0,Xt,Qt])}clone(){const Xt=Object.create(this);return Xt.clipBox=this.clipBox.slice(),Xt}setCurrentPoint(Xt,Qt){this.x=Xt,this.y=Qt}updatePathMinMax(Xt,Qt,ln){[Qt,ln]=bt.Util.applyTransform([Qt,ln],Xt),this.minX=Math.min(this.minX,Qt),this.minY=Math.min(this.minY,ln),this.maxX=Math.max(this.maxX,Qt),this.maxY=Math.max(this.maxY,ln)}updateRectMinMax(Xt,Qt){const ln=bt.Util.applyTransform(Qt,Xt),on=bt.Util.applyTransform(Qt.slice(2),Xt);this.minX=Math.min(this.minX,ln[0],on[0]),this.minY=Math.min(this.minY,ln[1],on[1]),this.maxX=Math.max(this.maxX,ln[0],on[0]),this.maxY=Math.max(this.maxY,ln[1],on[1])}updateScalingPathMinMax(Xt,Qt){bt.Util.scaleMinMax(Xt,Qt),this.minX=Math.min(this.minX,Qt[0]),this.maxX=Math.max(this.maxX,Qt[1]),this.minY=Math.min(this.minY,Qt[2]),this.maxY=Math.max(this.maxY,Qt[3])}updateCurvePathMinMax(Xt,Qt,ln,on,cn,rn,an,xn,wn,En){const Fn=bt.Util.bezierBoundingBox(Qt,ln,on,cn,rn,an,xn,wn);if(En){En[0]=Math.min(En[0],Fn[0],Fn[2]),En[1]=Math.max(En[1],Fn[0],Fn[2]),En[2]=Math.min(En[2],Fn[1],Fn[3]),En[3]=Math.max(En[3],Fn[1],Fn[3]);return}this.updateRectMinMax(Xt,Fn)}getPathBoundingBox(Xt=At.PathType.FILL,Qt=null){const ln=[this.minX,this.minY,this.maxX,this.maxY];if(Xt===At.PathType.STROKE){Qt||(0,bt.unreachable)("Stroke bounding box must include transform.");const on=bt.Util.singularValueDecompose2dScale(Qt),cn=on[0]*this.lineWidth/2,rn=on[1]*this.lineWidth/2;ln[0]-=cn,ln[1]-=rn,ln[2]+=cn,ln[3]+=rn}return ln}updateClipFromPath(){const Xt=bt.Util.intersect(this.clipBox,this.getPathBoundingBox());this.startNewPathAndClipBox(Xt||[0,0,0,0])}isEmptyClip(){return this.minX===1/0}startNewPathAndClipBox(Xt){this.clipBox=Xt,this.minX=1/0,this.minY=1/0,this.maxX=0,this.maxY=0}getClippedPathBoundingBox(Xt=At.PathType.FILL,Qt=null){return bt.Util.intersect(this.clipBox,this.getPathBoundingBox(Xt,Qt))}}function Ot(zt,Xt){if(typeof ImageData<"u"&&Xt instanceof ImageData){zt.putImageData(Xt,0,0);return}const Qt=Xt.height,ln=Xt.width,on=Qt%vt,cn=(Qt-on)/vt,rn=on===0?cn:cn+1,an=zt.createImageData(ln,vt);let xn=0,wn;const En=Xt.data,Fn=an.data;let In,Tn,An,mn;if(Xt.kind===bt.ImageKind.GRAYSCALE_1BPP){const pn=En.byteLength,Jt=new Uint32Array(Fn.buffer,0,Fn.byteLength>>2),un=Jt.length,fn=ln+7>>3,Sn=4294967295,kn=bt.FeatureTest.isLittleEndian?4278190080:255;for(In=0;In<rn;In++){for(An=In<cn?vt:on,wn=0,Tn=0;Tn<An;Tn++){const Pn=pn-xn;let Cn=0;const vn=Pn>fn?ln:Pn*8-7,Rn=vn&-8;let Mn=0,_n=0;for(;Cn<Rn;Cn+=8)_n=En[xn++],Jt[wn++]=_n&128?Sn:kn,Jt[wn++]=_n&64?Sn:kn,Jt[wn++]=_n&32?Sn:kn,Jt[wn++]=_n&16?Sn:kn,Jt[wn++]=_n&8?Sn:kn,Jt[wn++]=_n&4?Sn:kn,Jt[wn++]=_n&2?Sn:kn,Jt[wn++]=_n&1?Sn:kn;for(;Cn<vn;Cn++)Mn===0&&(_n=En[xn++],Mn=128),Jt[wn++]=_n&Mn?Sn:kn,Mn>>=1}for(;wn<un;)Jt[wn++]=0;zt.putImageData(an,0,In*vt)}}else if(Xt.kind===bt.ImageKind.RGBA_32BPP){for(Tn=0,mn=ln*vt*4,In=0;In<cn;In++)Fn.set(En.subarray(xn,xn+mn)),xn+=mn,zt.putImageData(an,0,Tn),Tn+=vt;In<rn&&(mn=ln*on*4,Fn.set(En.subarray(xn,xn+mn)),zt.putImageData(an,0,Tn))}else if(Xt.kind===bt.ImageKind.RGB_24BPP)for(An=vt,mn=ln*An,In=0;In<rn;In++){for(In>=cn&&(An=on,mn=ln*An),wn=0,Tn=mn;Tn--;)Fn[wn++]=En[xn++],Fn[wn++]=En[xn++],Fn[wn++]=En[xn++],Fn[wn++]=255;zt.putImageData(an,0,In*vt)}else throw new Error(`bad image kind: ${Xt.kind}`)}function jt(zt,Xt){if(Xt.bitmap){zt.drawImage(Xt.bitmap,0,0);return}const Qt=Xt.height,ln=Xt.width,on=Qt%vt,cn=(Qt-on)/vt,rn=on===0?cn:cn+1,an=zt.createImageData(ln,vt);let xn=0;const wn=Xt.data,En=an.data;for(let Fn=0;Fn<rn;Fn++){const In=Fn<cn?vt:on;({srcPos:xn}=(0,Ct.convertBlackAndWhiteToRGBA)({src:wn,srcPos:xn,dest:En,width:ln,height:In,nonBlackColor:0})),zt.putImageData(an,0,Fn*vt)}}function Rt(zt,Xt){const Qt=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font","filter"];for(const ln of Qt)zt[ln]!==void 0&&(Xt[ln]=zt[ln]);zt.setLineDash!==void 0&&(Xt.setLineDash(zt.getLineDash()),Xt.lineDashOffset=zt.lineDashOffset)}function Kt(zt){if(zt.strokeStyle=zt.fillStyle="#000000",zt.fillRule="nonzero",zt.globalAlpha=1,zt.lineWidth=1,zt.lineCap="butt",zt.lineJoin="miter",zt.miterLimit=10,zt.globalCompositeOperation="source-over",zt.font="10px sans-serif",zt.setLineDash!==void 0&&(zt.setLineDash([]),zt.lineDashOffset=0),!bt.isNodeJS){const{filter:Xt}=zt;Xt!=="none"&&Xt!==""&&(zt.filter="none")}}function Bt(zt,Xt,Qt,ln){const on=zt.length;for(let cn=3;cn<on;cn+=4){const rn=zt[cn];if(rn===0)zt[cn-3]=Xt,zt[cn-2]=Qt,zt[cn-1]=ln;else if(rn<255){const an=255-rn;zt[cn-3]=zt[cn-3]*rn+Xt*an>>8,zt[cn-2]=zt[cn-2]*rn+Qt*an>>8,zt[cn-1]=zt[cn-1]*rn+ln*an>>8}}}function Gt(zt,Xt,Qt){const ln=zt.length,on=1/255;for(let cn=3;cn<ln;cn+=4){const rn=Qt?Qt[zt[cn]]:zt[cn];Xt[cn]=Xt[cn]*rn*on|0}}function en(zt,Xt,Qt){const ln=zt.length;for(let on=3;on<ln;on+=4){const cn=zt[on-3]*77+zt[on-2]*152+zt[on-1]*28;Xt[on]=Qt?Xt[on]*Qt[cn>>8]>>8:Xt[on]*cn>>16}}function hn(zt,Xt,Qt,ln,on,cn,rn,an,xn,wn,En){const Fn=!!cn,In=Fn?cn[0]:0,Tn=Fn?cn[1]:0,An=Fn?cn[2]:0,mn=on==="Luminosity"?en:Gt,Jt=Math.min(ln,Math.ceil(1048576/Qt));for(let un=0;un<ln;un+=Jt){const fn=Math.min(Jt,ln-un),Sn=zt.getImageData(an-wn,un+(xn-En),Qt,fn),kn=Xt.getImageData(an,un+xn,Qt,fn);Fn&&Bt(Sn.data,In,Tn,An),mn(Sn.data,kn.data,rn),Xt.putImageData(kn,an,un+xn)}}function tn(zt,Xt,Qt,ln){const on=ln[0],cn=ln[1],rn=ln[2]-on,an=ln[3]-cn;rn===0||an===0||(hn(Xt.context,Qt,rn,an,Xt.subtype,Xt.backdrop,Xt.transferMap,on,cn,Xt.offsetX,Xt.offsetY),zt.save(),zt.globalAlpha=1,zt.globalCompositeOperation="source-over",zt.setTransform(1,0,0,1,0,0),zt.drawImage(Qt.canvas,0,0),zt.restore())}function gn(zt,Xt){const Qt=bt.Util.singularValueDecompose2dScale(zt);Qt[0]=Math.fround(Qt[0]),Qt[1]=Math.fround(Qt[1]);const ln=Math.fround((globalThis.devicePixelRatio||1)*St.PixelsPerInch.PDF_TO_CSS_UNITS);return Xt!==void 0?Xt:Qt[0]<=ln||Qt[1]<=ln}const nn=["butt","round","square"],bn=["miter","round","bevel"],Wt={},Yt={},sn=class sn{constructor(Xt,Qt,ln,on,cn,{optionalContentConfig:rn,markedContentStack:an=null},xn,wn){Nn(this,Ut);this.ctx=Xt,this.current=new $t(this.ctx.canvas.width,this.ctx.canvas.height),this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=Qt,this.objs=ln,this.canvasFactory=on,this.filterFactory=cn,this.groupStack=[],this.processingType3=null,this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.suspendedCtx=null,this.contentVisible=!0,this.markedContentStack=an||[],this.optionalContentConfig=rn,this.cachedCanvases=new Vt(this.canvasFactory),this.cachedPatterns=new Map,this.annotationCanvasMap=xn,this.viewportScale=1,this.outputScaleX=1,this.outputScaleY=1,this.pageColors=wn,this._cachedScaleForStroking=[-1,0],this._cachedGetSinglePixelWidth=null,this._cachedBitmapsMap=new Map}getObject(Xt,Qt=null){return typeof Xt=="string"?Xt.startsWith("g_")?this.commonObjs.get(Xt):this.objs.get(Xt):Qt}beginDrawing({transform:Xt,viewport:Qt,transparency:ln=!1,background:on=null}){const cn=this.ctx.canvas.width,rn=this.ctx.canvas.height,an=this.ctx.fillStyle;if(this.ctx.fillStyle=on||"#ffffff",this.ctx.fillRect(0,0,cn,rn),this.ctx.fillStyle=an,ln){const xn=this.cachedCanvases.getCanvas("transparent",cn,rn);this.compositeCtx=this.ctx,this.transparentCanvas=xn.canvas,this.ctx=xn.context,this.ctx.save(),this.ctx.transform(...(0,St.getCurrentTransform)(this.compositeCtx))}this.ctx.save(),Kt(this.ctx),Xt&&(this.ctx.transform(...Xt),this.outputScaleX=Xt[0],this.outputScaleY=Xt[0]),this.ctx.transform(...Qt.transform),this.viewportScale=Qt.scale,this.baseTransform=(0,St.getCurrentTransform)(this.ctx)}executeOperatorList(Xt,Qt,ln,on){const cn=Xt.argsArray,rn=Xt.fnArray;let an=Qt||0;const xn=cn.length;if(xn===an)return an;const wn=xn-an>_t&&typeof ln=="function",En=wn?Date.now()+kt:0;let Fn=0;const In=this.commonObjs,Tn=this.objs;let An;for(;;){if(on!==void 0&&an===on.nextBreakPoint)return on.breakIt(an,ln),an;if(An=rn[an],An!==bt.OPS.dependency)this[An].apply(this,cn[an]);else for(const mn of cn[an]){const pn=mn.startsWith("g_")?In:Tn;if(!pn.has(mn))return pn.get(mn,ln),an}if(an++,an===xn)return an;if(wn&&++Fn>_t){if(Date.now()>En)return ln(),an;Fn=0}}}endDrawing(){On(this,Ut,k3).call(this),this.cachedCanvases.clear(),this.cachedPatterns.clear();for(const Xt of this._cachedBitmapsMap.values()){for(const Qt of Xt.values())typeof HTMLCanvasElement<"u"&&Qt instanceof HTMLCanvasElement&&(Qt.width=Qt.height=0);Xt.clear()}this._cachedBitmapsMap.clear(),On(this,Ut,T3).call(this)}_scaleImage(Xt,Qt){const ln=Xt.width,on=Xt.height;let cn=Math.max(Math.hypot(Qt[0],Qt[1]),1),rn=Math.max(Math.hypot(Qt[2],Qt[3]),1),an=ln,xn=on,wn="prescale1",En,Fn;for(;cn>2&&an>1||rn>2&&xn>1;){let In=an,Tn=xn;cn>2&&an>1&&(In=an>=16384?Math.floor(an/2)-1||1:Math.ceil(an/2),cn/=an/In),rn>2&&xn>1&&(Tn=xn>=16384?Math.floor(xn/2)-1||1:Math.ceil(xn)/2,rn/=xn/Tn),En=this.cachedCanvases.getCanvas(wn,In,Tn),Fn=En.context,Fn.clearRect(0,0,In,Tn),Fn.drawImage(Xt,0,0,an,xn,0,0,In,Tn),Xt=En.canvas,an=In,xn=Tn,wn=wn==="prescale1"?"prescale2":"prescale1"}return{img:Xt,paintWidth:an,paintHeight:xn}}_createMaskCanvas(Xt){const Qt=this.ctx,{width:ln,height:on}=Xt,cn=this.current.fillColor,rn=this.current.patternFill,an=(0,St.getCurrentTransform)(Qt);let xn,wn,En,Fn;if((Xt.bitmap||Xt.data)&&Xt.count>1){const Cn=Xt.bitmap||Xt.data.buffer;wn=JSON.stringify(rn?an:[an.slice(0,4),cn]),xn=this._cachedBitmapsMap.get(Cn),xn||(xn=new Map,this._cachedBitmapsMap.set(Cn,xn));const vn=xn.get(wn);if(vn&&!rn){const Rn=Math.round(Math.min(an[0],an[2])+an[4]),Mn=Math.round(Math.min(an[1],an[3])+an[5]);return{canvas:vn,offsetX:Rn,offsetY:Mn}}En=vn}En||(Fn=this.cachedCanvases.getCanvas("maskCanvas",ln,on),jt(Fn.context,Xt));let In=bt.Util.transform(an,[1/ln,0,0,-1/on,0,0]);In=bt.Util.transform(In,[1,0,0,1,0,-on]);const Tn=bt.Util.applyTransform([0,0],In),An=bt.Util.applyTransform([ln,on],In),mn=bt.Util.normalizeRect([Tn[0],Tn[1],An[0],An[1]]),pn=Math.round(mn[2]-mn[0])||1,Jt=Math.round(mn[3]-mn[1])||1,un=this.cachedCanvases.getCanvas("fillCanvas",pn,Jt),fn=un.context,Sn=Math.min(Tn[0],An[0]),kn=Math.min(Tn[1],An[1]);fn.translate(-Sn,-kn),fn.transform(...In),En||(En=this._scaleImage(Fn.canvas,(0,St.getCurrentTransformInverse)(fn)),En=En.img,xn&&rn&&xn.set(wn,En)),fn.imageSmoothingEnabled=gn((0,St.getCurrentTransform)(fn),Xt.interpolate),qt(fn,En,0,0,En.width,En.height,0,0,ln,on),fn.globalCompositeOperation="source-in";const Pn=bt.Util.transform((0,St.getCurrentTransformInverse)(fn),[1,0,0,1,-Sn,-kn]);return fn.fillStyle=rn?cn.getPattern(Qt,this,Pn,At.PathType.FILL):cn,fn.fillRect(0,0,ln,on),xn&&!rn&&(this.cachedCanvases.delete("fillCanvas"),xn.set(wn,un.canvas)),{canvas:un.canvas,offsetX:Math.round(Sn),offsetY:Math.round(kn)}}setLineWidth(Xt){Xt!==this.current.lineWidth&&(this._cachedScaleForStroking[0]=-1),this.current.lineWidth=Xt,this.ctx.lineWidth=Xt}setLineCap(Xt){this.ctx.lineCap=nn[Xt]}setLineJoin(Xt){this.ctx.lineJoin=bn[Xt]}setMiterLimit(Xt){this.ctx.miterLimit=Xt}setDash(Xt,Qt){const ln=this.ctx;ln.setLineDash!==void 0&&(ln.setLineDash(Xt),ln.lineDashOffset=Qt)}setRenderingIntent(Xt){}setFlatness(Xt){}setGState(Xt){for(const[Qt,ln]of Xt)switch(Qt){case"LW":this.setLineWidth(ln);break;case"LC":this.setLineCap(ln);break;case"LJ":this.setLineJoin(ln);break;case"ML":this.setMiterLimit(ln);break;case"D":this.setDash(ln[0],ln[1]);break;case"RI":this.setRenderingIntent(ln);break;case"FL":this.setFlatness(ln);break;case"Font":this.setFont(ln[0],ln[1]);break;case"CA":this.current.strokeAlpha=ln;break;case"ca":this.current.fillAlpha=ln,this.ctx.globalAlpha=ln;break;case"BM":this.ctx.globalCompositeOperation=ln;break;case"SMask":this.current.activeSMask=ln?this.tempSMask:null,this.tempSMask=null,this.checkSMaskState();break;case"TR":this.ctx.filter=this.current.transferMaps=this.filterFactory.addFilter(ln);break}}get inSMaskMode(){return!!this.suspendedCtx}checkSMaskState(){const Xt=this.inSMaskMode;this.current.activeSMask&&!Xt?this.beginSMaskMode():!this.current.activeSMask&&Xt&&this.endSMaskMode()}beginSMaskMode(){if(this.inSMaskMode)throw new Error("beginSMaskMode called while already in smask mode");const Xt=this.ctx.canvas.width,Qt=this.ctx.canvas.height,ln="smaskGroupAt"+this.groupLevel,on=this.cachedCanvases.getCanvas(ln,Xt,Qt);this.suspendedCtx=this.ctx,this.ctx=on.context;const cn=this.ctx;cn.setTransform(...(0,St.getCurrentTransform)(this.suspendedCtx)),Rt(this.suspendedCtx,cn),Ft(cn,this.suspendedCtx),this.setGState([["BM","source-over"],["ca",1],["CA",1]])}endSMaskMode(){if(!this.inSMaskMode)throw new Error("endSMaskMode called while not in smask mode");this.ctx._removeMirroring(),Rt(this.ctx,this.suspendedCtx),this.ctx=this.suspendedCtx,this.suspendedCtx=null}compose(Xt){if(!this.current.activeSMask)return;Xt?(Xt[0]=Math.floor(Xt[0]),Xt[1]=Math.floor(Xt[1]),Xt[2]=Math.ceil(Xt[2]),Xt[3]=Math.ceil(Xt[3])):Xt=[0,0,this.ctx.canvas.width,this.ctx.canvas.height];const Qt=this.current.activeSMask,ln=this.suspendedCtx;tn(ln,Qt,this.ctx,Xt),this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.restore()}save(){this.inSMaskMode?(Rt(this.ctx,this.suspendedCtx),this.suspendedCtx.save()):this.ctx.save();const Xt=this.current;this.stateStack.push(Xt),this.current=Xt.clone()}restore(){this.stateStack.length===0&&this.inSMaskMode&&this.endSMaskMode(),this.stateStack.length!==0&&(this.current=this.stateStack.pop(),this.inSMaskMode?(this.suspendedCtx.restore(),Rt(this.suspendedCtx,this.ctx)):this.ctx.restore(),this.checkSMaskState(),this.pendingClip=null,this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null)}transform(Xt,Qt,ln,on,cn,rn){this.ctx.transform(Xt,Qt,ln,on,cn,rn),this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}constructPath(Xt,Qt,ln){const on=this.ctx,cn=this.current;let rn=cn.x,an=cn.y,xn,wn;const En=(0,St.getCurrentTransform)(on),Fn=En[0]===0&&En[3]===0||En[1]===0&&En[2]===0,In=Fn?ln.slice(0):null;for(let Tn=0,An=0,mn=Xt.length;Tn<mn;Tn++)switch(Xt[Tn]|0){case bt.OPS.rectangle:rn=Qt[An++],an=Qt[An++];const pn=Qt[An++],Jt=Qt[An++],un=rn+pn,fn=an+Jt;on.moveTo(rn,an),pn===0||Jt===0?on.lineTo(un,fn):(on.lineTo(un,an),on.lineTo(un,fn),on.lineTo(rn,fn)),Fn||cn.updateRectMinMax(En,[rn,an,un,fn]),on.closePath();break;case bt.OPS.moveTo:rn=Qt[An++],an=Qt[An++],on.moveTo(rn,an),Fn||cn.updatePathMinMax(En,rn,an);break;case bt.OPS.lineTo:rn=Qt[An++],an=Qt[An++],on.lineTo(rn,an),Fn||cn.updatePathMinMax(En,rn,an);break;case bt.OPS.curveTo:xn=rn,wn=an,rn=Qt[An+4],an=Qt[An+5],on.bezierCurveTo(Qt[An],Qt[An+1],Qt[An+2],Qt[An+3],rn,an),cn.updateCurvePathMinMax(En,xn,wn,Qt[An],Qt[An+1],Qt[An+2],Qt[An+3],rn,an,In),An+=6;break;case bt.OPS.curveTo2:xn=rn,wn=an,on.bezierCurveTo(rn,an,Qt[An],Qt[An+1],Qt[An+2],Qt[An+3]),cn.updateCurvePathMinMax(En,xn,wn,rn,an,Qt[An],Qt[An+1],Qt[An+2],Qt[An+3],In),rn=Qt[An+2],an=Qt[An+3],An+=4;break;case bt.OPS.curveTo3:xn=rn,wn=an,rn=Qt[An+2],an=Qt[An+3],on.bezierCurveTo(Qt[An],Qt[An+1],rn,an,rn,an),cn.updateCurvePathMinMax(En,xn,wn,Qt[An],Qt[An+1],rn,an,rn,an,In),An+=4;break;case bt.OPS.closePath:on.closePath();break}Fn&&cn.updateScalingPathMinMax(En,In),cn.setCurrentPoint(rn,an)}closePath(){this.ctx.closePath()}stroke(Xt=!0){const Qt=this.ctx,ln=this.current.strokeColor;Qt.globalAlpha=this.current.strokeAlpha,this.contentVisible&&(typeof ln=="object"&&(ln!=null&&ln.getPattern)?(Qt.save(),Qt.strokeStyle=ln.getPattern(Qt,this,(0,St.getCurrentTransformInverse)(Qt),At.PathType.STROKE),this.rescaleAndStroke(!1),Qt.restore()):this.rescaleAndStroke(!0)),Xt&&this.consumePath(this.current.getClippedPathBoundingBox()),Qt.globalAlpha=this.current.fillAlpha}closeStroke(){this.closePath(),this.stroke()}fill(Xt=!0){const Qt=this.ctx,ln=this.current.fillColor,on=this.current.patternFill;let cn=!1;on&&(Qt.save(),Qt.fillStyle=ln.getPattern(Qt,this,(0,St.getCurrentTransformInverse)(Qt),At.PathType.FILL),cn=!0);const rn=this.current.getClippedPathBoundingBox();this.contentVisible&&rn!==null&&(this.pendingEOFill?(Qt.fill("evenodd"),this.pendingEOFill=!1):Qt.fill()),cn&&Qt.restore(),Xt&&this.consumePath(rn)}eoFill(){this.pendingEOFill=!0,this.fill()}fillStroke(){this.fill(!1),this.stroke(!1),this.consumePath()}eoFillStroke(){this.pendingEOFill=!0,this.fillStroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.pendingEOFill=!0,this.closePath(),this.fillStroke()}endPath(){this.consumePath()}clip(){this.pendingClip=Wt}eoClip(){this.pendingClip=Yt}beginText(){this.current.textMatrix=bt.IDENTITY_MATRIX,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}endText(){const Xt=this.pendingTextPaths,Qt=this.ctx;if(Xt===void 0){Qt.beginPath();return}Qt.save(),Qt.beginPath();for(const ln of Xt)Qt.setTransform(...ln.transform),Qt.translate(ln.x,ln.y),ln.addToPath(Qt,ln.fontSize);Qt.restore(),Qt.clip(),Qt.beginPath(),delete this.pendingTextPaths}setCharSpacing(Xt){this.current.charSpacing=Xt}setWordSpacing(Xt){this.current.wordSpacing=Xt}setHScale(Xt){this.current.textHScale=Xt/100}setLeading(Xt){this.current.leading=-Xt}setFont(Xt,Qt){var En;const ln=this.commonObjs.get(Xt),on=this.current;if(!ln)throw new Error(`Can't find font for ${Xt}`);if(on.fontMatrix=ln.fontMatrix||bt.FONT_IDENTITY_MATRIX,(on.fontMatrix[0]===0||on.fontMatrix[3]===0)&&(0,bt.warn)("Invalid font matrix for font "+Xt),Qt<0?(Qt=-Qt,on.fontDirection=-1):on.fontDirection=1,this.current.font=ln,this.current.fontSize=Qt,ln.isType3Font)return;const cn=ln.loadedName||"sans-serif",rn=((En=ln.systemFontInfo)==null?void 0:En.css)||`"${cn}", ${ln.fallbackName}`;let an="normal";ln.black?an="900":ln.bold&&(an="bold");const xn=ln.italic?"italic":"normal";let wn=Qt;Qt<Et?wn=Et:Qt>Pt&&(wn=Pt),this.current.fontSizeScale=Qt/wn,this.ctx.font=`${xn} ${an} ${wn}px ${rn}`}setTextRenderingMode(Xt){this.current.textRenderingMode=Xt}setTextRise(Xt){this.current.textRise=Xt}moveText(Xt,Qt){this.current.x=this.current.lineX+=Xt,this.current.y=this.current.lineY+=Qt}setLeadingMoveText(Xt,Qt){this.setLeading(-Qt),this.moveText(Xt,Qt)}setTextMatrix(Xt,Qt,ln,on,cn,rn){this.current.textMatrix=[Xt,Qt,ln,on,cn,rn],this.current.textMatrixScale=Math.hypot(Xt,Qt),this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}nextLine(){this.moveText(0,this.current.leading)}paintChar(Xt,Qt,ln,on){const cn=this.ctx,rn=this.current,an=rn.font,xn=rn.textRenderingMode,wn=rn.fontSize/rn.fontSizeScale,En=xn&bt.TextRenderingMode.FILL_STROKE_MASK,Fn=!!(xn&bt.TextRenderingMode.ADD_TO_PATH_FLAG),In=rn.patternFill&&!an.missingFile;let Tn;(an.disableFontFace||Fn||In)&&(Tn=an.getPathGenerator(this.commonObjs,Xt)),an.disableFontFace||In?(cn.save(),cn.translate(Qt,ln),cn.beginPath(),Tn(cn,wn),on&&cn.setTransform(...on),(En===bt.TextRenderingMode.FILL||En===bt.TextRenderingMode.FILL_STROKE)&&cn.fill(),(En===bt.TextRenderingMode.STROKE||En===bt.TextRenderingMode.FILL_STROKE)&&cn.stroke(),cn.restore()):((En===bt.TextRenderingMode.FILL||En===bt.TextRenderingMode.FILL_STROKE)&&cn.fillText(Xt,Qt,ln),(En===bt.TextRenderingMode.STROKE||En===bt.TextRenderingMode.FILL_STROKE)&&cn.strokeText(Xt,Qt,ln)),Fn&&(this.pendingTextPaths||(this.pendingTextPaths=[])).push({transform:(0,St.getCurrentTransform)(cn),x:Qt,y:ln,fontSize:wn,addToPath:Tn})}get isFontSubpixelAAEnabled(){const{context:Xt}=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10);Xt.scale(1.5,1),Xt.fillText("I",0,10);const Qt=Xt.getImageData(0,0,10,10).data;let ln=!1;for(let on=3;on<Qt.length;on+=4)if(Qt[on]>0&&Qt[on]<255){ln=!0;break}return(0,bt.shadow)(this,"isFontSubpixelAAEnabled",ln)}showText(Xt){const Qt=this.current,ln=Qt.font;if(ln.isType3Font)return this.showType3Text(Xt);const on=Qt.fontSize;if(on===0)return;const cn=this.ctx,rn=Qt.fontSizeScale,an=Qt.charSpacing,xn=Qt.wordSpacing,wn=Qt.fontDirection,En=Qt.textHScale*wn,Fn=Xt.length,In=ln.vertical,Tn=In?1:-1,An=ln.defaultVMetrics,mn=on*Qt.fontMatrix[0],pn=Qt.textRenderingMode===bt.TextRenderingMode.FILL&&!ln.disableFontFace&&!Qt.patternFill;cn.save(),cn.transform(...Qt.textMatrix),cn.translate(Qt.x,Qt.y+Qt.textRise),wn>0?cn.scale(En,-1):cn.scale(En,1);let Jt;if(Qt.patternFill){cn.save();const Pn=Qt.fillColor.getPattern(cn,this,(0,St.getCurrentTransformInverse)(cn),At.PathType.FILL);Jt=(0,St.getCurrentTransform)(cn),cn.restore(),cn.fillStyle=Pn}let un=Qt.lineWidth;const fn=Qt.textMatrixScale;if(fn===0||un===0){const Pn=Qt.textRenderingMode&bt.TextRenderingMode.FILL_STROKE_MASK;(Pn===bt.TextRenderingMode.STROKE||Pn===bt.TextRenderingMode.FILL_STROKE)&&(un=this.getSinglePixelWidth())}else un/=fn;if(rn!==1&&(cn.scale(rn,rn),un/=rn),cn.lineWidth=un,ln.isInvalidPDFjsFont){const Pn=[];let Cn=0;for(const vn of Xt)Pn.push(vn.unicode),Cn+=vn.width;cn.fillText(Pn.join(""),0,0),Qt.x+=Cn*mn*En,cn.restore(),this.compose();return}let Sn=0,kn;for(kn=0;kn<Fn;++kn){const Pn=Xt[kn];if(typeof Pn=="number"){Sn+=Tn*Pn*on/1e3;continue}let Cn=!1;const vn=(Pn.isSpace?xn:0)+an,Rn=Pn.fontChar,Mn=Pn.accent;let _n,Dn,Ln=Pn.width;if(In){const ts=Pn.vmetric||An,es=-(Pn.vmetric?ts[1]:Ln*.5)*mn,Qn=ts[2]*mn;Ln=ts?-ts[0]:Ln,_n=es/rn,Dn=(Sn+Qn)/rn}else _n=Sn/rn,Dn=0;if(ln.remeasure&&Ln>0){const ts=cn.measureText(Rn).width*1e3/on*rn;if(Ln<ts&&this.isFontSubpixelAAEnabled){const es=Ln/ts;Cn=!0,cn.save(),cn.scale(es,1),_n/=es}else Ln!==ts&&(_n+=(Ln-ts)/2e3*on/rn)}if(this.contentVisible&&(Pn.isInFont||ln.missingFile)){if(pn&&!Mn)cn.fillText(Rn,_n,Dn);else if(this.paintChar(Rn,_n,Dn,Jt),Mn){const ts=_n+on*Mn.offset.x/rn,es=Dn-on*Mn.offset.y/rn;this.paintChar(Mn.fontChar,ts,es,Jt)}}const Un=In?Ln*mn-vn*wn:Ln*mn+vn*wn;Sn+=Un,Cn&&cn.restore()}In?Qt.y-=Sn:Qt.x+=Sn*En,cn.restore(),this.compose()}showType3Text(Xt){const Qt=this.ctx,ln=this.current,on=ln.font,cn=ln.fontSize,rn=ln.fontDirection,an=on.vertical?1:-1,xn=ln.charSpacing,wn=ln.wordSpacing,En=ln.textHScale*rn,Fn=ln.fontMatrix||bt.FONT_IDENTITY_MATRIX,In=Xt.length,Tn=ln.textRenderingMode===bt.TextRenderingMode.INVISIBLE;let An,mn,pn,Jt;if(!(Tn||cn===0)){for(this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null,Qt.save(),Qt.transform(...ln.textMatrix),Qt.translate(ln.x,ln.y),Qt.scale(En,rn),An=0;An<In;++An){if(mn=Xt[An],typeof mn=="number"){Jt=an*mn*cn/1e3,this.ctx.translate(Jt,0),ln.x+=Jt*En;continue}const un=(mn.isSpace?wn:0)+xn,fn=on.charProcOperatorList[mn.operatorListId];if(!fn){(0,bt.warn)(`Type3 character "${mn.operatorListId}" is not available.`);continue}this.contentVisible&&(this.processingType3=mn,this.save(),Qt.scale(cn,cn),Qt.transform(...Fn),this.executeOperatorList(fn),this.restore()),pn=bt.Util.applyTransform([mn.width,0],Fn)[0]*cn+un,Qt.translate(pn,0),ln.x+=pn*En}Qt.restore(),this.processingType3=null}}setCharWidth(Xt,Qt){}setCharWidthAndBounds(Xt,Qt,ln,on,cn,rn){this.ctx.rect(ln,on,cn-ln,rn-on),this.ctx.clip(),this.endPath()}getColorN_Pattern(Xt){let Qt;if(Xt[0]==="TilingPattern"){const ln=Xt[1],on=this.baseTransform||(0,St.getCurrentTransform)(this.ctx),cn={createCanvasGraphics:rn=>new sn(rn,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:this.optionalContentConfig,markedContentStack:this.markedContentStack})};Qt=new At.TilingPattern(Xt,ln,this.ctx,cn,on)}else Qt=this._getPattern(Xt[1],Xt[2]);return Qt}setStrokeColorN(){this.current.strokeColor=this.getColorN_Pattern(arguments)}setFillColorN(){this.current.fillColor=this.getColorN_Pattern(arguments),this.current.patternFill=!0}setStrokeRGBColor(Xt,Qt,ln){const on=bt.Util.makeHexColor(Xt,Qt,ln);this.ctx.strokeStyle=on,this.current.strokeColor=on}setFillRGBColor(Xt,Qt,ln){const on=bt.Util.makeHexColor(Xt,Qt,ln);this.ctx.fillStyle=on,this.current.fillColor=on,this.current.patternFill=!1}_getPattern(Xt,Qt=null){let ln;return this.cachedPatterns.has(Xt)?ln=this.cachedPatterns.get(Xt):(ln=(0,At.getShadingPattern)(this.getObject(Xt)),this.cachedPatterns.set(Xt,ln)),Qt&&(ln.matrix=Qt),ln}shadingFill(Xt){if(!this.contentVisible)return;const Qt=this.ctx;this.save();const ln=this._getPattern(Xt);Qt.fillStyle=ln.getPattern(Qt,this,(0,St.getCurrentTransformInverse)(Qt),At.PathType.SHADING);const on=(0,St.getCurrentTransformInverse)(Qt);if(on){const{width:cn,height:rn}=Qt.canvas,[an,xn,wn,En]=bt.Util.getAxialAlignedBoundingBox([0,0,cn,rn],on);this.ctx.fillRect(an,xn,wn-an,En-xn)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);this.compose(this.current.getClippedPathBoundingBox()),this.restore()}beginInlineImage(){(0,bt.unreachable)("Should not call beginInlineImage")}beginImageData(){(0,bt.unreachable)("Should not call beginImageData")}paintFormXObjectBegin(Xt,Qt){if(this.contentVisible&&(this.save(),this.baseTransformStack.push(this.baseTransform),Array.isArray(Xt)&&Xt.length===6&&this.transform(...Xt),this.baseTransform=(0,St.getCurrentTransform)(this.ctx),Qt)){const ln=Qt[2]-Qt[0],on=Qt[3]-Qt[1];this.ctx.rect(Qt[0],Qt[1],ln,on),this.current.updateRectMinMax((0,St.getCurrentTransform)(this.ctx),Qt),this.clip(),this.endPath()}}paintFormXObjectEnd(){this.contentVisible&&(this.restore(),this.baseTransform=this.baseTransformStack.pop())}beginGroup(Xt){if(!this.contentVisible)return;this.save(),this.inSMaskMode&&(this.endSMaskMode(),this.current.activeSMask=null);const Qt=this.ctx;Xt.isolated||(0,bt.info)("TODO: Support non-isolated groups."),Xt.knockout&&(0,bt.warn)("Knockout groups not supported.");const ln=(0,St.getCurrentTransform)(Qt);if(Xt.matrix&&Qt.transform(...Xt.matrix),!Xt.bbox)throw new Error("Bounding box is required.");let on=bt.Util.getAxialAlignedBoundingBox(Xt.bbox,(0,St.getCurrentTransform)(Qt));const cn=[0,0,Qt.canvas.width,Qt.canvas.height];on=bt.Util.intersect(on,cn)||[0,0,0,0];const rn=Math.floor(on[0]),an=Math.floor(on[1]);let xn=Math.max(Math.ceil(on[2])-rn,1),wn=Math.max(Math.ceil(on[3])-an,1),En=1,Fn=1;xn>wt&&(En=xn/wt,xn=wt),wn>wt&&(Fn=wn/wt,wn=wt),this.current.startNewPathAndClipBox([0,0,xn,wn]);let In="groupAt"+this.groupLevel;Xt.smask&&(In+="_smask_"+this.smaskCounter++%2);const Tn=this.cachedCanvases.getCanvas(In,xn,wn),An=Tn.context;An.scale(1/En,1/Fn),An.translate(-rn,-an),An.transform(...ln),Xt.smask?this.smaskStack.push({canvas:Tn.canvas,context:An,offsetX:rn,offsetY:an,scaleX:En,scaleY:Fn,subtype:Xt.smask.subtype,backdrop:Xt.smask.backdrop,transferMap:Xt.smask.transferMap||null,startTransformInverse:null}):(Qt.setTransform(1,0,0,1,0,0),Qt.translate(rn,an),Qt.scale(En,Fn),Qt.save()),Rt(Qt,An),this.ctx=An,this.setGState([["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(Qt),this.groupLevel++}endGroup(Xt){if(!this.contentVisible)return;this.groupLevel--;const Qt=this.ctx,ln=this.groupStack.pop();if(this.ctx=ln,this.ctx.imageSmoothingEnabled=!1,Xt.smask)this.tempSMask=this.smaskStack.pop(),this.restore();else{this.ctx.restore();const on=(0,St.getCurrentTransform)(this.ctx);this.restore(),this.ctx.save(),this.ctx.setTransform(...on);const cn=bt.Util.getAxialAlignedBoundingBox([0,0,Qt.canvas.width,Qt.canvas.height],on);this.ctx.drawImage(Qt.canvas,0,0),this.ctx.restore(),this.compose(cn)}}beginAnnotation(Xt,Qt,ln,on,cn){if(On(this,Ut,k3).call(this),Kt(this.ctx),this.ctx.save(),this.save(),this.baseTransform&&this.ctx.setTransform(...this.baseTransform),Array.isArray(Qt)&&Qt.length===4){const rn=Qt[2]-Qt[0],an=Qt[3]-Qt[1];if(cn&&this.annotationCanvasMap){ln=ln.slice(),ln[4]-=Qt[0],ln[5]-=Qt[1],Qt=Qt.slice(),Qt[0]=Qt[1]=0,Qt[2]=rn,Qt[3]=an;const[xn,wn]=bt.Util.singularValueDecompose2dScale((0,St.getCurrentTransform)(this.ctx)),{viewportScale:En}=this,Fn=Math.ceil(rn*this.outputScaleX*En),In=Math.ceil(an*this.outputScaleY*En);this.annotationCanvas=this.canvasFactory.create(Fn,In);const{canvas:Tn,context:An}=this.annotationCanvas;this.annotationCanvasMap.set(Xt,Tn),this.annotationCanvas.savedCtx=this.ctx,this.ctx=An,this.ctx.save(),this.ctx.setTransform(xn,0,0,-wn,0,an*wn),Kt(this.ctx)}else Kt(this.ctx),this.ctx.rect(Qt[0],Qt[1],rn,an),this.ctx.clip(),this.endPath()}this.current=new $t(this.ctx.canvas.width,this.ctx.canvas.height),this.transform(...ln),this.transform(...on)}endAnnotation(){this.annotationCanvas&&(this.ctx.restore(),On(this,Ut,T3).call(this),this.ctx=this.annotationCanvas.savedCtx,delete this.annotationCanvas.savedCtx,delete this.annotationCanvas)}paintImageMaskXObject(Xt){if(!this.contentVisible)return;const Qt=Xt.count;Xt=this.getObject(Xt.data,Xt),Xt.count=Qt;const ln=this.ctx,on=this.processingType3;if(on&&(on.compiled===void 0&&(on.compiled=Lt(Xt)),on.compiled)){on.compiled(ln);return}const cn=this._createMaskCanvas(Xt),rn=cn.canvas;ln.save(),ln.setTransform(1,0,0,1,0,0),ln.drawImage(rn,cn.offsetX,cn.offsetY),ln.restore(),this.compose()}paintImageMaskXObjectRepeat(Xt,Qt,ln=0,on=0,cn,rn){if(!this.contentVisible)return;Xt=this.getObject(Xt.data,Xt);const an=this.ctx;an.save();const xn=(0,St.getCurrentTransform)(an);an.transform(Qt,ln,on,cn,0,0);const wn=this._createMaskCanvas(Xt);an.setTransform(1,0,0,1,wn.offsetX-xn[4],wn.offsetY-xn[5]);for(let En=0,Fn=rn.length;En<Fn;En+=2){const In=bt.Util.transform(xn,[Qt,ln,on,cn,rn[En],rn[En+1]]),[Tn,An]=bt.Util.applyTransform([0,0],In);an.drawImage(wn.canvas,Tn,An)}an.restore(),this.compose()}paintImageMaskXObjectGroup(Xt){if(!this.contentVisible)return;const Qt=this.ctx,ln=this.current.fillColor,on=this.current.patternFill;for(const cn of Xt){const{data:rn,width:an,height:xn,transform:wn}=cn,En=this.cachedCanvases.getCanvas("maskCanvas",an,xn),Fn=En.context;Fn.save();const In=this.getObject(rn,cn);jt(Fn,In),Fn.globalCompositeOperation="source-in",Fn.fillStyle=on?ln.getPattern(Fn,this,(0,St.getCurrentTransformInverse)(Qt),At.PathType.FILL):ln,Fn.fillRect(0,0,an,xn),Fn.restore(),Qt.save(),Qt.transform(...wn),Qt.scale(1,-1),qt(Qt,En.canvas,0,0,an,xn,0,-1,1,1),Qt.restore()}this.compose()}paintImageXObject(Xt){if(!this.contentVisible)return;const Qt=this.getObject(Xt);if(!Qt){(0,bt.warn)("Dependent image isn't ready yet");return}this.paintInlineImageXObject(Qt)}paintImageXObjectRepeat(Xt,Qt,ln,on){if(!this.contentVisible)return;const cn=this.getObject(Xt);if(!cn){(0,bt.warn)("Dependent image isn't ready yet");return}const rn=cn.width,an=cn.height,xn=[];for(let wn=0,En=on.length;wn<En;wn+=2)xn.push({transform:[Qt,0,0,ln,on[wn],on[wn+1]],x:0,y:0,w:rn,h:an});this.paintInlineImageXObjectGroup(cn,xn)}applyTransferMapsToCanvas(Xt){return this.current.transferMaps!=="none"&&(Xt.filter=this.current.transferMaps,Xt.drawImage(Xt.canvas,0,0),Xt.filter="none"),Xt.canvas}applyTransferMapsToBitmap(Xt){if(this.current.transferMaps==="none")return Xt.bitmap;const{bitmap:Qt,width:ln,height:on}=Xt,cn=this.cachedCanvases.getCanvas("inlineImage",ln,on),rn=cn.context;return rn.filter=this.current.transferMaps,rn.drawImage(Qt,0,0),rn.filter="none",cn.canvas}paintInlineImageXObject(Xt){if(!this.contentVisible)return;const Qt=Xt.width,ln=Xt.height,on=this.ctx;if(this.save(),!bt.isNodeJS){const{filter:an}=on;an!=="none"&&an!==""&&(on.filter="none")}on.scale(1/Qt,-1/ln);let cn;if(Xt.bitmap)cn=this.applyTransferMapsToBitmap(Xt);else if(typeof HTMLElement=="function"&&Xt instanceof HTMLElement||!Xt.data)cn=Xt;else{const xn=this.cachedCanvases.getCanvas("inlineImage",Qt,ln).context;Ot(xn,Xt),cn=this.applyTransferMapsToCanvas(xn)}const rn=this._scaleImage(cn,(0,St.getCurrentTransformInverse)(on));on.imageSmoothingEnabled=gn((0,St.getCurrentTransform)(on),Xt.interpolate),qt(on,rn.img,0,0,rn.paintWidth,rn.paintHeight,0,-ln,Qt,ln),this.compose(),this.restore()}paintInlineImageXObjectGroup(Xt,Qt){if(!this.contentVisible)return;const ln=this.ctx;let on;if(Xt.bitmap)on=Xt.bitmap;else{const cn=Xt.width,rn=Xt.height,xn=this.cachedCanvases.getCanvas("inlineImage",cn,rn).context;Ot(xn,Xt),on=this.applyTransferMapsToCanvas(xn)}for(const cn of Qt)ln.save(),ln.transform(...cn.transform),ln.scale(1,-1),qt(ln,on,cn.x,cn.y,cn.w,cn.h,0,-1,1,1),ln.restore();this.compose()}paintSolidColorImageMask(){this.contentVisible&&(this.ctx.fillRect(0,0,1,1),this.compose())}markPoint(Xt){}markPointProps(Xt,Qt){}beginMarkedContent(Xt){this.markedContentStack.push({visible:!0})}beginMarkedContentProps(Xt,Qt){Xt==="OC"?this.markedContentStack.push({visible:this.optionalContentConfig.isVisible(Qt)}):this.markedContentStack.push({visible:!0}),this.contentVisible=this.isContentVisible()}endMarkedContent(){this.markedContentStack.pop(),this.contentVisible=this.isContentVisible()}beginCompat(){}endCompat(){}consumePath(Xt){const Qt=this.current.isEmptyClip();this.pendingClip&&this.current.updateClipFromPath(),this.pendingClip||this.compose(Xt);const ln=this.ctx;this.pendingClip&&(Qt||(this.pendingClip===Yt?ln.clip("evenodd"):ln.clip()),this.pendingClip=null),this.current.startNewPathAndClipBox(this.current.clipBox),ln.beginPath()}getSinglePixelWidth(){if(!this._cachedGetSinglePixelWidth){const Xt=(0,St.getCurrentTransform)(this.ctx);if(Xt[1]===0&&Xt[2]===0)this._cachedGetSinglePixelWidth=1/Math.min(Math.abs(Xt[0]),Math.abs(Xt[3]));else{const Qt=Math.abs(Xt[0]*Xt[3]-Xt[2]*Xt[1]),ln=Math.hypot(Xt[0],Xt[2]),on=Math.hypot(Xt[1],Xt[3]);this._cachedGetSinglePixelWidth=Math.max(ln,on)/Qt}}return this._cachedGetSinglePixelWidth}getScaleForStroking(){if(this._cachedScaleForStroking[0]===-1){const{lineWidth:Xt}=this.current,{a:Qt,b:ln,c:on,d:cn}=this.ctx.getTransform();let rn,an;if(ln===0&&on===0){const xn=Math.abs(Qt),wn=Math.abs(cn);if(xn===wn)if(Xt===0)rn=an=1/xn;else{const En=xn*Xt;rn=an=En<1?1/En:1}else if(Xt===0)rn=1/xn,an=1/wn;else{const En=xn*Xt,Fn=wn*Xt;rn=En<1?1/En:1,an=Fn<1?1/Fn:1}}else{const xn=Math.abs(Qt*cn-ln*on),wn=Math.hypot(Qt,ln),En=Math.hypot(on,cn);if(Xt===0)rn=En/xn,an=wn/xn;else{const Fn=Xt*xn;rn=En>Fn?En/Fn:1,an=wn>Fn?wn/Fn:1}}this._cachedScaleForStroking[0]=rn,this._cachedScaleForStroking[1]=an}return this._cachedScaleForStroking}rescaleAndStroke(Xt){const{ctx:Qt}=this,{lineWidth:ln}=this.current,[on,cn]=this.getScaleForStroking();if(Qt.lineWidth=ln||1,on===1&&cn===1){Qt.stroke();return}const rn=Qt.getLineDash();if(Xt&&Qt.save(),Qt.scale(on,cn),rn.length>0){const an=Math.max(on,cn);Qt.setLineDash(rn.map(xn=>xn/an)),Qt.lineDashOffset/=an}Qt.stroke(),Xt&&Qt.restore()}isContentVisible(){for(let Xt=this.markedContentStack.length-1;Xt>=0;Xt--)if(!this.markedContentStack[Xt].visible)return!1;return!0}};Ut=new WeakSet,k3=function(){for(;this.stateStack.length||this.inSMaskMode;)this.restore();this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null)},T3=function(){if(this.pageColors){const Xt=this.filterFactory.addHCMFilter(this.pageColors.foreground,this.pageColors.background);if(Xt!=="none"){const Qt=this.ctx.filter;this.ctx.filter=Xt,this.ctx.drawImage(this.ctx.canvas,0,0),this.ctx.filter=Qt}}};let dn=sn;$.CanvasGraphics=dn;for(const zt in bt.OPS)dn.prototype[zt]!==void 0&&(dn.prototype[bt.OPS[zt]]=dn.prototype[zt])},(_e,$,xt)=>{Object.defineProperty($,"__esModule",{value:!0}),$.TilingPattern=$.PathType=void 0,$.getShadingPattern=vt;var bt=xt(1),St=xt(6);const At={FILL:"Fill",STROKE:"Stroke",SHADING:"Shading"};$.PathType=At;function Ct(Lt,$t){if(!$t)return;const Ot=$t[2]-$t[0],jt=$t[3]-$t[1],Rt=new Path2D;Rt.rect($t[0],$t[1],Ot,jt),Lt.clip(Rt)}class Et{constructor(){this.constructor===Et&&(0,bt.unreachable)("Cannot initialize BaseShadingPattern.")}getPattern(){(0,bt.unreachable)("Abstract method `getPattern` called.")}}class Pt extends Et{constructor($t){super(),this._type=$t[1],this._bbox=$t[2],this._colorStops=$t[3],this._p0=$t[4],this._p1=$t[5],this._r0=$t[6],this._r1=$t[7],this.matrix=null}_createGradient($t){let Ot;this._type==="axial"?Ot=$t.createLinearGradient(this._p0[0],this._p0[1],this._p1[0],this._p1[1]):this._type==="radial"&&(Ot=$t.createRadialGradient(this._p0[0],this._p0[1],this._r0,this._p1[0],this._p1[1],this._r1));for(const jt of this._colorStops)Ot.addColorStop(jt[0],jt[1]);return Ot}getPattern($t,Ot,jt,Rt){let Kt;if(Rt===At.STROKE||Rt===At.FILL){const Bt=Ot.current.getClippedPathBoundingBox(Rt,(0,St.getCurrentTransform)($t))||[0,0,0,0],Gt=Math.ceil(Bt[2]-Bt[0])||1,en=Math.ceil(Bt[3]-Bt[1])||1,hn=Ot.cachedCanvases.getCanvas("pattern",Gt,en,!0),tn=hn.context;tn.clearRect(0,0,tn.canvas.width,tn.canvas.height),tn.beginPath(),tn.rect(0,0,tn.canvas.width,tn.canvas.height),tn.translate(-Bt[0],-Bt[1]),jt=bt.Util.transform(jt,[1,0,0,1,Bt[0],Bt[1]]),tn.transform(...Ot.baseTransform),this.matrix&&tn.transform(...this.matrix),Ct(tn,this._bbox),tn.fillStyle=this._createGradient(tn),tn.fill(),Kt=$t.createPattern(hn.canvas,"no-repeat");const gn=new DOMMatrix(jt);Kt.setTransform(gn)}else Ct($t,this._bbox),Kt=this._createGradient($t);return Kt}}function wt(Lt,$t,Ot,jt,Rt,Kt,Bt,Gt){const en=$t.coords,hn=$t.colors,tn=Lt.data,gn=Lt.width*4;let nn;en[Ot+1]>en[jt+1]&&(nn=Ot,Ot=jt,jt=nn,nn=Kt,Kt=Bt,Bt=nn),en[jt+1]>en[Rt+1]&&(nn=jt,jt=Rt,Rt=nn,nn=Bt,Bt=Gt,Gt=nn),en[Ot+1]>en[jt+1]&&(nn=Ot,Ot=jt,jt=nn,nn=Kt,Kt=Bt,Bt=nn);const bn=(en[Ot]+$t.offsetX)*$t.scaleX,Wt=(en[Ot+1]+$t.offsetY)*$t.scaleY,Yt=(en[jt]+$t.offsetX)*$t.scaleX,dn=(en[jt+1]+$t.offsetY)*$t.scaleY,Ut=(en[Rt]+$t.offsetX)*$t.scaleX,Mt=(en[Rt+1]+$t.offsetY)*$t.scaleY;if(Wt>=Mt)return;const Ht=hn[Kt],sn=hn[Kt+1],zt=hn[Kt+2],Xt=hn[Bt],Qt=hn[Bt+1],ln=hn[Bt+2],on=hn[Gt],cn=hn[Gt+1],rn=hn[Gt+2],an=Math.round(Wt),xn=Math.round(Mt);let wn,En,Fn,In,Tn,An,mn,pn;for(let Jt=an;Jt<=xn;Jt++){if(Jt<dn){const Pn=Jt<Wt?0:(Wt-Jt)/(Wt-dn);wn=bn-(bn-Yt)*Pn,En=Ht-(Ht-Xt)*Pn,Fn=sn-(sn-Qt)*Pn,In=zt-(zt-ln)*Pn}else{let Pn;Jt>Mt?Pn=1:dn===Mt?Pn=0:Pn=(dn-Jt)/(dn-Mt),wn=Yt-(Yt-Ut)*Pn,En=Xt-(Xt-on)*Pn,Fn=Qt-(Qt-cn)*Pn,In=ln-(ln-rn)*Pn}let un;Jt<Wt?un=0:Jt>Mt?un=1:un=(Wt-Jt)/(Wt-Mt),Tn=bn-(bn-Ut)*un,An=Ht-(Ht-on)*un,mn=sn-(sn-cn)*un,pn=zt-(zt-rn)*un;const fn=Math.round(Math.min(wn,Tn)),Sn=Math.round(Math.max(wn,Tn));let kn=gn*Jt+fn*4;for(let Pn=fn;Pn<=Sn;Pn++)un=(wn-Pn)/(wn-Tn),un<0?un=0:un>1&&(un=1),tn[kn++]=En-(En-An)*un|0,tn[kn++]=Fn-(Fn-mn)*un|0,tn[kn++]=In-(In-pn)*un|0,tn[kn++]=255}}function kt(Lt,$t,Ot){const jt=$t.coords,Rt=$t.colors;let Kt,Bt;switch($t.type){case"lattice":const Gt=$t.verticesPerRow,en=Math.floor(jt.length/Gt)-1,hn=Gt-1;for(Kt=0;Kt<en;Kt++){let tn=Kt*Gt;for(let gn=0;gn<hn;gn++,tn++)wt(Lt,Ot,jt[tn],jt[tn+1],jt[tn+Gt],Rt[tn],Rt[tn+1],Rt[tn+Gt]),wt(Lt,Ot,jt[tn+Gt+1],jt[tn+1],jt[tn+Gt],Rt[tn+Gt+1],Rt[tn+1],Rt[tn+Gt])}break;case"triangles":for(Kt=0,Bt=jt.length;Kt<Bt;Kt+=3)wt(Lt,Ot,jt[Kt],jt[Kt+1],jt[Kt+2],Rt[Kt],Rt[Kt+1],Rt[Kt+2]);break;default:throw new Error("illegal figure")}}class _t extends Et{constructor($t){super(),this._coords=$t[2],this._colors=$t[3],this._figures=$t[4],this._bounds=$t[5],this._bbox=$t[7],this._background=$t[8],this.matrix=null}_createMeshCanvas($t,Ot,jt){const Gt=Math.floor(this._bounds[0]),en=Math.floor(this._bounds[1]),hn=Math.ceil(this._bounds[2])-Gt,tn=Math.ceil(this._bounds[3])-en,gn=Math.min(Math.ceil(Math.abs(hn*$t[0]*1.1)),3e3),nn=Math.min(Math.ceil(Math.abs(tn*$t[1]*1.1)),3e3),bn=hn/gn,Wt=tn/nn,Yt={coords:this._coords,colors:this._colors,offsetX:-Gt,offsetY:-en,scaleX:1/bn,scaleY:1/Wt},dn=gn+2*2,Ut=nn+2*2,Mt=jt.getCanvas("mesh",dn,Ut,!1),Ht=Mt.context,sn=Ht.createImageData(gn,nn);if(Ot){const Xt=sn.data;for(let Qt=0,ln=Xt.length;Qt<ln;Qt+=4)Xt[Qt]=Ot[0],Xt[Qt+1]=Ot[1],Xt[Qt+2]=Ot[2],Xt[Qt+3]=255}for(const Xt of this._figures)kt(sn,Xt,Yt);return Ht.putImageData(sn,2,2),{canvas:Mt.canvas,offsetX:Gt-2*bn,offsetY:en-2*Wt,scaleX:bn,scaleY:Wt}}getPattern($t,Ot,jt,Rt){Ct($t,this._bbox);let Kt;if(Rt===At.SHADING)Kt=bt.Util.singularValueDecompose2dScale((0,St.getCurrentTransform)($t));else if(Kt=bt.Util.singularValueDecompose2dScale(Ot.baseTransform),this.matrix){const Gt=bt.Util.singularValueDecompose2dScale(this.matrix);Kt=[Kt[0]*Gt[0],Kt[1]*Gt[1]]}const Bt=this._createMeshCanvas(Kt,Rt===At.SHADING?null:this._background,Ot.cachedCanvases);return Rt!==At.SHADING&&($t.setTransform(...Ot.baseTransform),this.matrix&&$t.transform(...this.matrix)),$t.translate(Bt.offsetX,Bt.offsetY),$t.scale(Bt.scaleX,Bt.scaleY),$t.createPattern(Bt.canvas,"no-repeat")}}class ht extends Et{getPattern(){return"hotpink"}}function vt(Lt){switch(Lt[0]){case"RadialAxial":return new Pt(Lt);case"Mesh":return new _t(Lt);case"Dummy":return new ht}throw new Error(`Unknown IR type: ${Lt[0]}`)}const Ft={COLORED:1,UNCOLORED:2},qt=class qt{constructor($t,Ot,jt,Rt,Kt){this.operatorList=$t[2],this.matrix=$t[3]||[1,0,0,1,0,0],this.bbox=$t[4],this.xstep=$t[5],this.ystep=$t[6],this.paintType=$t[7],this.tilingType=$t[8],this.color=Ot,this.ctx=jt,this.canvasGraphicsFactory=Rt,this.baseTransform=Kt}createPatternCanvas($t){const Ot=this.operatorList,jt=this.bbox,Rt=this.xstep,Kt=this.ystep,Bt=this.paintType,Gt=this.tilingType,en=this.color,hn=this.canvasGraphicsFactory;(0,bt.info)("TilingType: "+Gt);const tn=jt[0],gn=jt[1],nn=jt[2],bn=jt[3],Wt=bt.Util.singularValueDecompose2dScale(this.matrix),Yt=bt.Util.singularValueDecompose2dScale(this.baseTransform),dn=[Wt[0]*Yt[0],Wt[1]*Yt[1]],Ut=this.getSizeAndScale(Rt,this.ctx.canvas.width,dn[0]),Mt=this.getSizeAndScale(Kt,this.ctx.canvas.height,dn[1]),Ht=$t.cachedCanvases.getCanvas("pattern",Ut.size,Mt.size,!0),sn=Ht.context,zt=hn.createCanvasGraphics(sn);zt.groupLevel=$t.groupLevel,this.setFillAndStrokeStyleToContext(zt,Bt,en);let Xt=tn,Qt=gn,ln=nn,on=bn;return tn<0&&(Xt=0,ln+=Math.abs(tn)),gn<0&&(Qt=0,on+=Math.abs(gn)),sn.translate(-(Ut.scale*Xt),-(Mt.scale*Qt)),zt.transform(Ut.scale,0,0,Mt.scale,0,0),sn.save(),this.clipBbox(zt,Xt,Qt,ln,on),zt.baseTransform=(0,St.getCurrentTransform)(zt.ctx),zt.executeOperatorList(Ot),zt.endDrawing(),{canvas:Ht.canvas,scaleX:Ut.scale,scaleY:Mt.scale,offsetX:Xt,offsetY:Qt}}getSizeAndScale($t,Ot,jt){$t=Math.abs($t);const Rt=Math.max(qt.MAX_PATTERN_SIZE,Ot);let Kt=Math.ceil($t*jt);return Kt>=Rt?Kt=Rt:jt=Kt/$t,{scale:jt,size:Kt}}clipBbox($t,Ot,jt,Rt,Kt){const Bt=Rt-Ot,Gt=Kt-jt;$t.ctx.rect(Ot,jt,Bt,Gt),$t.current.updateRectMinMax((0,St.getCurrentTransform)($t.ctx),[Ot,jt,Rt,Kt]),$t.clip(),$t.endPath()}setFillAndStrokeStyleToContext($t,Ot,jt){const Rt=$t.ctx,Kt=$t.current;switch(Ot){case Ft.COLORED:const Bt=this.ctx;Rt.fillStyle=Bt.fillStyle,Rt.strokeStyle=Bt.strokeStyle,Kt.fillColor=Bt.fillStyle,Kt.strokeColor=Bt.strokeStyle;break;case Ft.UNCOLORED:const Gt=bt.Util.makeHexColor(jt[0],jt[1],jt[2]);Rt.fillStyle=Gt,Rt.strokeStyle=Gt,Kt.fillColor=Gt,Kt.strokeColor=Gt;break;default:throw new bt.FormatError(`Unsupported paint type: ${Ot}`)}}getPattern($t,Ot,jt,Rt){let Kt=jt;Rt!==At.SHADING&&(Kt=bt.Util.transform(Kt,Ot.baseTransform),this.matrix&&(Kt=bt.Util.transform(Kt,this.matrix)));const Bt=this.createPatternCanvas(Ot);let Gt=new DOMMatrix(Kt);Gt=Gt.translate(Bt.offsetX,Bt.offsetY),Gt=Gt.scale(1/Bt.scaleX,1/Bt.scaleY);const en=$t.createPattern(Bt.canvas,"repeat");return en.setTransform(Gt),en}};Us(qt,"MAX_PATTERN_SIZE",3e3);let Vt=qt;$.TilingPattern=Vt},(_e,$,xt)=>{Object.defineProperty($,"__esModule",{value:!0}),$.convertBlackAndWhiteToRGBA=At,$.convertToRGBA=St,$.grayToRGBA=Et;var bt=xt(1);function St(Pt){switch(Pt.kind){case bt.ImageKind.GRAYSCALE_1BPP:return At(Pt);case bt.ImageKind.RGB_24BPP:return Ct(Pt)}return null}function At({src:Pt,srcPos:wt=0,dest:kt,width:_t,height:ht,nonBlackColor:vt=4294967295,inverseDecode:Ft=!1}){const Vt=bt.FeatureTest.isLittleEndian?4278190080:255,[qt,Lt]=Ft?[vt,Vt]:[Vt,vt],$t=_t>>3,Ot=_t&7,jt=Pt.length;kt=new Uint32Array(kt.buffer);let Rt=0;for(let Kt=0;Kt<ht;Kt++){for(const Gt=wt+$t;wt<Gt;wt++){const en=wt<jt?Pt[wt]:255;kt[Rt++]=en&128?Lt:qt,kt[Rt++]=en&64?Lt:qt,kt[Rt++]=en&32?Lt:qt,kt[Rt++]=en&16?Lt:qt,kt[Rt++]=en&8?Lt:qt,kt[Rt++]=en&4?Lt:qt,kt[Rt++]=en&2?Lt:qt,kt[Rt++]=en&1?Lt:qt}if(Ot===0)continue;const Bt=wt<jt?Pt[wt++]:255;for(let Gt=0;Gt<Ot;Gt++)kt[Rt++]=Bt&1<<7-Gt?Lt:qt}return{srcPos:wt,destPos:Rt}}function Ct({src:Pt,srcPos:wt=0,dest:kt,destPos:_t=0,width:ht,height:vt}){let Ft=0;const Vt=Pt.length>>2,qt=new Uint32Array(Pt.buffer,wt,Vt);if(bt.FeatureTest.isLittleEndian){for(;Ft<Vt-2;Ft+=3,_t+=4){const Lt=qt[Ft],$t=qt[Ft+1],Ot=qt[Ft+2];kt[_t]=Lt|4278190080,kt[_t+1]=Lt>>>24|$t<<8|4278190080,kt[_t+2]=$t>>>16|Ot<<16|4278190080,kt[_t+3]=Ot>>>8|4278190080}for(let Lt=Ft*4,$t=Pt.length;Lt<$t;Lt+=3)kt[_t++]=Pt[Lt]|Pt[Lt+1]<<8|Pt[Lt+2]<<16|4278190080}else{for(;Ft<Vt-2;Ft+=3,_t+=4){const Lt=qt[Ft],$t=qt[Ft+1],Ot=qt[Ft+2];kt[_t]=Lt|255,kt[_t+1]=Lt<<24|$t>>>8|255,kt[_t+2]=$t<<16|Ot>>>16|255,kt[_t+3]=Ot<<8|255}for(let Lt=Ft*4,$t=Pt.length;Lt<$t;Lt+=3)kt[_t++]=Pt[Lt]<<24|Pt[Lt+1]<<16|Pt[Lt+2]<<8|255}return{srcPos:wt,destPos:_t}}function Et(Pt,wt){if(bt.FeatureTest.isLittleEndian)for(let kt=0,_t=Pt.length;kt<_t;kt++)wt[kt]=Pt[kt]*65793|4278190080;else for(let kt=0,_t=Pt.length;kt<_t;kt++)wt[kt]=Pt[kt]*16843008|255}},(_e,$)=>{Object.defineProperty($,"__esModule",{value:!0}),$.GlobalWorkerOptions=void 0;const xt=Object.create(null);$.GlobalWorkerOptions=xt,xt.workerPort=null,xt.workerSrc=""},(_e,$,xt)=>{var Pt,Vv,zv,R2;Object.defineProperty($,"__esModule",{value:!0}),$.MessageHandler=void 0;var bt=xt(1);const St={UNKNOWN:0,DATA:1,ERROR:2},At={UNKNOWN:0,CANCEL:1,CANCEL_COMPLETE:2,CLOSE:3,ENQUEUE:4,ERROR:5,PULL:6,PULL_COMPLETE:7,START_COMPLETE:8};function Ct(ht){switch(ht instanceof Error||typeof ht=="object"&&ht!==null||(0,bt.unreachable)('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),ht.name){case"AbortException":return new bt.AbortException(ht.message);case"MissingPDFException":return new bt.MissingPDFException(ht.message);case"PasswordException":return new bt.PasswordException(ht.message,ht.code);case"UnexpectedResponseException":return new bt.UnexpectedResponseException(ht.message,ht.status);case"UnknownErrorException":return new bt.UnknownErrorException(ht.message,ht.details);default:return new bt.UnknownErrorException(ht.message,ht.toString())}}class Et{constructor(vt,Ft,Vt){Nn(this,Pt);this.sourceName=vt,this.targetName=Ft,this.comObj=Vt,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),this._onComObjOnMessage=qt=>{const Lt=qt.data;if(Lt.targetName!==this.sourceName)return;if(Lt.stream){On(this,Pt,zv).call(this,Lt);return}if(Lt.callback){const Ot=Lt.callbackId,jt=this.callbackCapabilities[Ot];if(!jt)throw new Error(`Cannot resolve callback ${Ot}`);if(delete this.callbackCapabilities[Ot],Lt.callback===St.DATA)jt.resolve(Lt.data);else if(Lt.callback===St.ERROR)jt.reject(Ct(Lt.reason));else throw new Error("Unexpected callback case");return}const $t=this.actionHandler[Lt.action];if(!$t)throw new Error(`Unknown action from worker: ${Lt.action}`);if(Lt.callbackId){const Ot=this.sourceName,jt=Lt.sourceName;new Promise(function(Rt){Rt($t(Lt.data))}).then(function(Rt){Vt.postMessage({sourceName:Ot,targetName:jt,callback:St.DATA,callbackId:Lt.callbackId,data:Rt})},function(Rt){Vt.postMessage({sourceName:Ot,targetName:jt,callback:St.ERROR,callbackId:Lt.callbackId,reason:Ct(Rt)})});return}if(Lt.streamId){On(this,Pt,Vv).call(this,Lt);return}$t(Lt.data)},Vt.addEventListener("message",this._onComObjOnMessage)}on(vt,Ft){const Vt=this.actionHandler;if(Vt[vt])throw new Error(`There is already an actionName called "${vt}"`);Vt[vt]=Ft}send(vt,Ft,Vt){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:vt,data:Ft},Vt)}sendWithPromise(vt,Ft,Vt){const qt=this.callbackId++,Lt=new bt.PromiseCapability;this.callbackCapabilities[qt]=Lt;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:vt,callbackId:qt,data:Ft},Vt)}catch($t){Lt.reject($t)}return Lt.promise}sendWithStream(vt,Ft,Vt,qt){const Lt=this.streamId++,$t=this.sourceName,Ot=this.targetName,jt=this.comObj;return new ReadableStream({start:Rt=>{const Kt=new bt.PromiseCapability;return this.streamControllers[Lt]={controller:Rt,startCall:Kt,pullCall:null,cancelCall:null,isClosed:!1},jt.postMessage({sourceName:$t,targetName:Ot,action:vt,streamId:Lt,data:Ft,desiredSize:Rt.desiredSize},qt),Kt.promise},pull:Rt=>{const Kt=new bt.PromiseCapability;return this.streamControllers[Lt].pullCall=Kt,jt.postMessage({sourceName:$t,targetName:Ot,stream:At.PULL,streamId:Lt,desiredSize:Rt.desiredSize}),Kt.promise},cancel:Rt=>{(0,bt.assert)(Rt instanceof Error,"cancel must have a valid reason");const Kt=new bt.PromiseCapability;return this.streamControllers[Lt].cancelCall=Kt,this.streamControllers[Lt].isClosed=!0,jt.postMessage({sourceName:$t,targetName:Ot,stream:At.CANCEL,streamId:Lt,reason:Ct(Rt)}),Kt.promise}},Vt)}destroy(){this.comObj.removeEventListener("message",this._onComObjOnMessage)}}Pt=new WeakSet,Vv=function(vt){const Ft=vt.streamId,Vt=this.sourceName,qt=vt.sourceName,Lt=this.comObj,$t=this,Ot=this.actionHandler[vt.action],jt={enqueue(Rt,Kt=1,Bt){if(this.isCancelled)return;const Gt=this.desiredSize;this.desiredSize-=Kt,Gt>0&&this.desiredSize<=0&&(this.sinkCapability=new bt.PromiseCapability,this.ready=this.sinkCapability.promise),Lt.postMessage({sourceName:Vt,targetName:qt,stream:At.ENQUEUE,streamId:Ft,chunk:Rt},Bt)},close(){this.isCancelled||(this.isCancelled=!0,Lt.postMessage({sourceName:Vt,targetName:qt,stream:At.CLOSE,streamId:Ft}),delete $t.streamSinks[Ft])},error(Rt){(0,bt.assert)(Rt instanceof Error,"error must have a valid reason"),!this.isCancelled&&(this.isCancelled=!0,Lt.postMessage({sourceName:Vt,targetName:qt,stream:At.ERROR,streamId:Ft,reason:Ct(Rt)}))},sinkCapability:new bt.PromiseCapability,onPull:null,onCancel:null,isCancelled:!1,desiredSize:vt.desiredSize,ready:null};jt.sinkCapability.resolve(),jt.ready=jt.sinkCapability.promise,this.streamSinks[Ft]=jt,new Promise(function(Rt){Rt(Ot(vt.data,jt))}).then(function(){Lt.postMessage({sourceName:Vt,targetName:qt,stream:At.START_COMPLETE,streamId:Ft,success:!0})},function(Rt){Lt.postMessage({sourceName:Vt,targetName:qt,stream:At.START_COMPLETE,streamId:Ft,reason:Ct(Rt)})})},zv=function(vt){const Ft=vt.streamId,Vt=this.sourceName,qt=vt.sourceName,Lt=this.comObj,$t=this.streamControllers[Ft],Ot=this.streamSinks[Ft];switch(vt.stream){case At.START_COMPLETE:vt.success?$t.startCall.resolve():$t.startCall.reject(Ct(vt.reason));break;case At.PULL_COMPLETE:vt.success?$t.pullCall.resolve():$t.pullCall.reject(Ct(vt.reason));break;case At.PULL:if(!Ot){Lt.postMessage({sourceName:Vt,targetName:qt,stream:At.PULL_COMPLETE,streamId:Ft,success:!0});break}Ot.desiredSize<=0&&vt.desiredSize>0&&Ot.sinkCapability.resolve(),Ot.desiredSize=vt.desiredSize,new Promise(function(jt){var Rt;jt((Rt=Ot.onPull)==null?void 0:Rt.call(Ot))}).then(function(){Lt.postMessage({sourceName:Vt,targetName:qt,stream:At.PULL_COMPLETE,streamId:Ft,success:!0})},function(jt){Lt.postMessage({sourceName:Vt,targetName:qt,stream:At.PULL_COMPLETE,streamId:Ft,reason:Ct(jt)})});break;case At.ENQUEUE:if((0,bt.assert)($t,"enqueue should have stream controller"),$t.isClosed)break;$t.controller.enqueue(vt.chunk);break;case At.CLOSE:if((0,bt.assert)($t,"close should have stream controller"),$t.isClosed)break;$t.isClosed=!0,$t.controller.close(),On(this,Pt,R2).call(this,$t,Ft);break;case At.ERROR:(0,bt.assert)($t,"error should have stream controller"),$t.controller.error(Ct(vt.reason)),On(this,Pt,R2).call(this,$t,Ft);break;case At.CANCEL_COMPLETE:vt.success?$t.cancelCall.resolve():$t.cancelCall.reject(Ct(vt.reason)),On(this,Pt,R2).call(this,$t,Ft);break;case At.CANCEL:if(!Ot)break;new Promise(function(jt){var Rt;jt((Rt=Ot.onCancel)==null?void 0:Rt.call(Ot,Ct(vt.reason)))}).then(function(){Lt.postMessage({sourceName:Vt,targetName:qt,stream:At.CANCEL_COMPLETE,streamId:Ft,success:!0})},function(jt){Lt.postMessage({sourceName:Vt,targetName:qt,stream:At.CANCEL_COMPLETE,streamId:Ft,reason:Ct(jt)})}),Ot.sinkCapability.reject(Ct(vt.reason)),Ot.isCancelled=!0,delete this.streamSinks[Ft];break;default:throw new Error("Unexpected stream case")}},R2=async function(vt,Ft){var Vt,qt,Lt;await Promise.allSettled([(Vt=vt.startCall)==null?void 0:Vt.promise,(qt=vt.pullCall)==null?void 0:qt.promise,(Lt=vt.cancelCall)==null?void 0:Lt.promise]),delete this.streamControllers[Ft]},$.MessageHandler=Et},(_e,$,xt)=>{var At,Ct;Object.defineProperty($,"__esModule",{value:!0}),$.Metadata=void 0;var bt=xt(1);class St{constructor({parsedData:Pt,rawData:wt}){Nn(this,At);Nn(this,Ct);$n(this,At,Pt),$n(this,Ct,wt)}getRaw(){return Dt(this,Ct)}get(Pt){return Dt(this,At).get(Pt)??null}getAll(){return(0,bt.objectFromMap)(Dt(this,At))}has(Pt){return Dt(this,At).has(Pt)}}At=new WeakMap,Ct=new WeakMap,$.Metadata=St},(_e,$,xt)=>{var Pt,wt,kt,_t,ht,vt,P3;Object.defineProperty($,"__esModule",{value:!0}),$.OptionalContentConfig=void 0;var bt=xt(1),St=xt(8);const At=Symbol("INTERNAL");class Ct{constructor(qt,Lt){Nn(this,Pt,!0);this.name=qt,this.intent=Lt}get visible(){return Dt(this,Pt)}_setVisible(qt,Lt){qt!==At&&(0,bt.unreachable)("Internal method `_setVisible` called."),$n(this,Pt,Lt)}}Pt=new WeakMap;class Et{constructor(qt){Nn(this,vt);Nn(this,wt,null);Nn(this,kt,new Map);Nn(this,_t,null);Nn(this,ht,null);if(this.name=null,this.creator=null,qt!==null){this.name=qt.name,this.creator=qt.creator,$n(this,ht,qt.order);for(const Lt of qt.groups)Dt(this,kt).set(Lt.id,new Ct(Lt.name,Lt.intent));if(qt.baseState==="OFF")for(const Lt of Dt(this,kt).values())Lt._setVisible(At,!1);for(const Lt of qt.on)Dt(this,kt).get(Lt)._setVisible(At,!0);for(const Lt of qt.off)Dt(this,kt).get(Lt)._setVisible(At,!1);$n(this,_t,this.getHash())}}isVisible(qt){if(Dt(this,kt).size===0)return!0;if(!qt)return(0,bt.warn)("Optional content group not defined."),!0;if(qt.type==="OCG")return Dt(this,kt).has(qt.id)?Dt(this,kt).get(qt.id).visible:((0,bt.warn)(`Optional content group not found: ${qt.id}`),!0);if(qt.type==="OCMD"){if(qt.expression)return On(this,vt,P3).call(this,qt.expression);if(!qt.policy||qt.policy==="AnyOn"){for(const Lt of qt.ids){if(!Dt(this,kt).has(Lt))return(0,bt.warn)(`Optional content group not found: ${Lt}`),!0;if(Dt(this,kt).get(Lt).visible)return!0}return!1}else if(qt.policy==="AllOn"){for(const Lt of qt.ids){if(!Dt(this,kt).has(Lt))return(0,bt.warn)(`Optional content group not found: ${Lt}`),!0;if(!Dt(this,kt).get(Lt).visible)return!1}return!0}else if(qt.policy==="AnyOff"){for(const Lt of qt.ids){if(!Dt(this,kt).has(Lt))return(0,bt.warn)(`Optional content group not found: ${Lt}`),!0;if(!Dt(this,kt).get(Lt).visible)return!0}return!1}else if(qt.policy==="AllOff"){for(const Lt of qt.ids){if(!Dt(this,kt).has(Lt))return(0,bt.warn)(`Optional content group not found: ${Lt}`),!0;if(Dt(this,kt).get(Lt).visible)return!1}return!0}return(0,bt.warn)(`Unknown optional content policy ${qt.policy}.`),!0}return(0,bt.warn)(`Unknown group type ${qt.type}.`),!0}setVisibility(qt,Lt=!0){if(!Dt(this,kt).has(qt)){(0,bt.warn)(`Optional content group not found: ${qt}`);return}Dt(this,kt).get(qt)._setVisible(At,!!Lt),$n(this,wt,null)}get hasInitialVisibility(){return Dt(this,_t)===null||this.getHash()===Dt(this,_t)}getOrder(){return Dt(this,kt).size?Dt(this,ht)?Dt(this,ht).slice():[...Dt(this,kt).keys()]:null}getGroups(){return Dt(this,kt).size>0?(0,bt.objectFromMap)(Dt(this,kt)):null}getGroup(qt){return Dt(this,kt).get(qt)||null}getHash(){if(Dt(this,wt)!==null)return Dt(this,wt);const qt=new St.MurmurHash3_64;for(const[Lt,$t]of Dt(this,kt))qt.update(`${Lt}:${$t.visible}`);return $n(this,wt,qt.hexdigest())}}wt=new WeakMap,kt=new WeakMap,_t=new WeakMap,ht=new WeakMap,vt=new WeakSet,P3=function(qt){const Lt=qt.length;if(Lt<2)return!0;const $t=qt[0];for(let Ot=1;Ot<Lt;Ot++){const jt=qt[Ot];let Rt;if(Array.isArray(jt))Rt=On(this,vt,P3).call(this,jt);else if(Dt(this,kt).has(jt))Rt=Dt(this,kt).get(jt).visible;else return(0,bt.warn)(`Optional content group not found: ${jt}`),!0;switch($t){case"And":if(!Rt)return!1;break;case"Or":if(Rt)return!0;break;case"Not":return!Rt;default:return!0}}return $t==="And"},$.OptionalContentConfig=Et},(_e,$,xt)=>{Object.defineProperty($,"__esModule",{value:!0}),$.PDFDataTransportStream=void 0;var bt=xt(1),St=xt(6);class At{constructor({length:wt,initialData:kt,progressiveDone:_t=!1,contentDispositionFilename:ht=null,disableRange:vt=!1,disableStream:Ft=!1},Vt){if((0,bt.assert)(Vt,'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.'),this._queuedChunks=[],this._progressiveDone=_t,this._contentDispositionFilename=ht,(kt==null?void 0:kt.length)>0){const qt=kt instanceof Uint8Array&&kt.byteLength===kt.buffer.byteLength?kt.buffer:new Uint8Array(kt).buffer;this._queuedChunks.push(qt)}this._pdfDataRangeTransport=Vt,this._isStreamingSupported=!Ft,this._isRangeSupported=!vt,this._contentLength=wt,this._fullRequestReader=null,this._rangeReaders=[],this._pdfDataRangeTransport.addRangeListener((qt,Lt)=>{this._onReceiveData({begin:qt,chunk:Lt})}),this._pdfDataRangeTransport.addProgressListener((qt,Lt)=>{this._onProgress({loaded:qt,total:Lt})}),this._pdfDataRangeTransport.addProgressiveReadListener(qt=>{this._onReceiveData({chunk:qt})}),this._pdfDataRangeTransport.addProgressiveDoneListener(()=>{this._onProgressiveDone()}),this._pdfDataRangeTransport.transportReady()}_onReceiveData({begin:wt,chunk:kt}){const _t=kt instanceof Uint8Array&&kt.byteLength===kt.buffer.byteLength?kt.buffer:new Uint8Array(kt).buffer;if(wt===void 0)this._fullRequestReader?this._fullRequestReader._enqueue(_t):this._queuedChunks.push(_t);else{const ht=this._rangeReaders.some(function(vt){return vt._begin!==wt?!1:(vt._enqueue(_t),!0)});(0,bt.assert)(ht,"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.")}}get _progressiveDataLength(){var wt;return((wt=this._fullRequestReader)==null?void 0:wt._loaded)??0}_onProgress(wt){var kt,_t,ht,vt;wt.total===void 0?(_t=(kt=this._rangeReaders[0])==null?void 0:kt.onProgress)==null||_t.call(kt,{loaded:wt.loaded}):(vt=(ht=this._fullRequestReader)==null?void 0:ht.onProgress)==null||vt.call(ht,{loaded:wt.loaded,total:wt.total})}_onProgressiveDone(){var wt;(wt=this._fullRequestReader)==null||wt.progressiveDone(),this._progressiveDone=!0}_removeRangeReader(wt){const kt=this._rangeReaders.indexOf(wt);kt>=0&&this._rangeReaders.splice(kt,1)}getFullReader(){(0,bt.assert)(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");const wt=this._queuedChunks;return this._queuedChunks=null,new Ct(this,wt,this._progressiveDone,this._contentDispositionFilename)}getRangeReader(wt,kt){if(kt<=this._progressiveDataLength)return null;const _t=new Et(this,wt,kt);return this._pdfDataRangeTransport.requestDataRange(wt,kt),this._rangeReaders.push(_t),_t}cancelAllRequests(wt){var kt;(kt=this._fullRequestReader)==null||kt.cancel(wt);for(const _t of this._rangeReaders.slice(0))_t.cancel(wt);this._pdfDataRangeTransport.abort()}}$.PDFDataTransportStream=At;class Ct{constructor(wt,kt,_t=!1,ht=null){this._stream=wt,this._done=_t||!1,this._filename=(0,St.isPdfFile)(ht)?ht:null,this._queuedChunks=kt||[],this._loaded=0;for(const vt of this._queuedChunks)this._loaded+=vt.byteLength;this._requests=[],this._headersReady=Promise.resolve(),wt._fullRequestReader=this,this.onProgress=null}_enqueue(wt){this._done||(this._requests.length>0?this._requests.shift().resolve({value:wt,done:!1}):this._queuedChunks.push(wt),this._loaded+=wt.byteLength)}get headersReady(){return this._headersReady}get filename(){return this._filename}get isRangeSupported(){return this._stream._isRangeSupported}get isStreamingSupported(){return this._stream._isStreamingSupported}get contentLength(){return this._stream._contentLength}async read(){if(this._queuedChunks.length>0)return{value:this._queuedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const wt=new bt.PromiseCapability;return this._requests.push(wt),wt.promise}cancel(wt){this._done=!0;for(const kt of this._requests)kt.resolve({value:void 0,done:!0});this._requests.length=0}progressiveDone(){this._done||(this._done=!0)}}class Et{constructor(wt,kt,_t){this._stream=wt,this._begin=kt,this._end=_t,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}_enqueue(wt){if(!this._done){if(this._requests.length===0)this._queuedChunk=wt;else{this._requests.shift().resolve({value:wt,done:!1});for(const _t of this._requests)_t.resolve({value:void 0,done:!0});this._requests.length=0}this._done=!0,this._stream._removeRangeReader(this)}}get isStreamingSupported(){return!1}async read(){if(this._queuedChunk){const kt=this._queuedChunk;return this._queuedChunk=null,{value:kt,done:!1}}if(this._done)return{value:void 0,done:!0};const wt=new bt.PromiseCapability;return this._requests.push(wt),wt.promise}cancel(wt){this._done=!0;for(const kt of this._requests)kt.resolve({value:void 0,done:!0});this._requests.length=0,this._stream._removeRangeReader(this)}}},(_e,$,xt)=>{Object.defineProperty($,"__esModule",{value:!0}),$.PDFFetchStream=void 0;var bt=xt(1),St=xt(20);function At(_t,ht,vt){return{method:"GET",headers:_t,signal:vt.signal,mode:"cors",credentials:ht?"include":"same-origin",redirect:"follow"}}function Ct(_t){const ht=new Headers;for(const vt in _t){const Ft=_t[vt];Ft!==void 0&&ht.append(vt,Ft)}return ht}function Et(_t){return _t instanceof Uint8Array?_t.buffer:_t instanceof ArrayBuffer?_t:((0,bt.warn)(`getArrayBuffer - unexpected data format: ${_t}`),new Uint8Array(_t).buffer)}class Pt{constructor(ht){this.source=ht,this.isHttp=/^https?:/i.test(ht.url),this.httpHeaders=this.isHttp&&ht.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var ht;return((ht=this._fullRequestReader)==null?void 0:ht._loaded)??0}getFullReader(){return(0,bt.assert)(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once."),this._fullRequestReader=new wt(this),this._fullRequestReader}getRangeReader(ht,vt){if(vt<=this._progressiveDataLength)return null;const Ft=new kt(this,ht,vt);return this._rangeRequestReaders.push(Ft),Ft}cancelAllRequests(ht){var vt;(vt=this._fullRequestReader)==null||vt.cancel(ht);for(const Ft of this._rangeRequestReaders.slice(0))Ft.cancel(ht)}}$.PDFFetchStream=Pt;class wt{constructor(ht){this._stream=ht,this._reader=null,this._loaded=0,this._filename=null;const vt=ht.source;this._withCredentials=vt.withCredentials||!1,this._contentLength=vt.length,this._headersCapability=new bt.PromiseCapability,this._disableRange=vt.disableRange||!1,this._rangeChunkSize=vt.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._abortController=new AbortController,this._isStreamingSupported=!vt.disableStream,this._isRangeSupported=!vt.disableRange,this._headers=Ct(this._stream.httpHeaders);const Ft=vt.url;fetch(Ft,At(this._headers,this._withCredentials,this._abortController)).then(Vt=>{if(!(0,St.validateResponseStatus)(Vt.status))throw(0,St.createResponseStatusError)(Vt.status,Ft);this._reader=Vt.body.getReader(),this._headersCapability.resolve();const qt=Ot=>Vt.headers.get(Ot),{allowRangeRequests:Lt,suggestedLength:$t}=(0,St.validateRangeRequestCapabilities)({getResponseHeader:qt,isHttp:this._stream.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=Lt,this._contentLength=$t||this._contentLength,this._filename=(0,St.extractFilenameFromHeader)(qt),!this._isStreamingSupported&&this._isRangeSupported&&this.cancel(new bt.AbortException("Streaming is disabled."))}).catch(this._headersCapability.reject),this.onProgress=null}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var Ft;await this._headersCapability.promise;const{value:ht,done:vt}=await this._reader.read();return vt?{value:ht,done:vt}:(this._loaded+=ht.byteLength,(Ft=this.onProgress)==null||Ft.call(this,{loaded:this._loaded,total:this._contentLength}),{value:Et(ht),done:!1})}cancel(ht){var vt;(vt=this._reader)==null||vt.cancel(ht),this._abortController.abort()}}class kt{constructor(ht,vt,Ft){this._stream=ht,this._reader=null,this._loaded=0;const Vt=ht.source;this._withCredentials=Vt.withCredentials||!1,this._readCapability=new bt.PromiseCapability,this._isStreamingSupported=!Vt.disableStream,this._abortController=new AbortController,this._headers=Ct(this._stream.httpHeaders),this._headers.append("Range",`bytes=${vt}-${Ft-1}`);const qt=Vt.url;fetch(qt,At(this._headers,this._withCredentials,this._abortController)).then(Lt=>{if(!(0,St.validateResponseStatus)(Lt.status))throw(0,St.createResponseStatusError)(Lt.status,qt);this._readCapability.resolve(),this._reader=Lt.body.getReader()}).catch(this._readCapability.reject),this.onProgress=null}get isStreamingSupported(){return this._isStreamingSupported}async read(){var Ft;await this._readCapability.promise;const{value:ht,done:vt}=await this._reader.read();return vt?{value:ht,done:vt}:(this._loaded+=ht.byteLength,(Ft=this.onProgress)==null||Ft.call(this,{loaded:this._loaded}),{value:Et(ht),done:!1})}cancel(ht){var vt;(vt=this._reader)==null||vt.cancel(ht),this._abortController.abort()}}},(_e,$,xt)=>{Object.defineProperty($,"__esModule",{value:!0}),$.createResponseStatusError=Pt,$.extractFilenameFromHeader=Et,$.validateRangeRequestCapabilities=Ct,$.validateResponseStatus=wt;var bt=xt(1),St=xt(21),At=xt(6);function Ct({getResponseHeader:kt,isHttp:_t,rangeChunkSize:ht,disableRange:vt}){const Ft={allowRangeRequests:!1,suggestedLength:void 0},Vt=parseInt(kt("Content-Length"),10);return!Number.isInteger(Vt)||(Ft.suggestedLength=Vt,Vt<=2*ht)||vt||!_t||kt("Accept-Ranges")!=="bytes"||(kt("Content-Encoding")||"identity")!=="identity"||(Ft.allowRangeRequests=!0),Ft}function Et(kt){const _t=kt("Content-Disposition");if(_t){let ht=(0,St.getFilenameFromContentDispositionHeader)(_t);if(ht.includes("%"))try{ht=decodeURIComponent(ht)}catch{}if((0,At.isPdfFile)(ht))return ht}return null}function Pt(kt,_t){return kt===404||kt===0&&_t.startsWith("file:")?new bt.MissingPDFException('Missing PDF "'+_t+'".'):new bt.UnexpectedResponseException(`Unexpected server response (${kt}) while retrieving PDF "${_t}".`,kt)}function wt(kt){return kt===200||kt===206}},(_e,$,xt)=>{Object.defineProperty($,"__esModule",{value:!0}),$.getFilenameFromContentDispositionHeader=St;var bt=xt(1);function St(At){let Ct=!0,Et=Pt("filename\\*","i").exec(At);if(Et){Et=Et[1];let Vt=ht(Et);return Vt=unescape(Vt),Vt=vt(Vt),Vt=Ft(Vt),kt(Vt)}if(Et=_t(At),Et){const Vt=Ft(Et);return kt(Vt)}if(Et=Pt("filename","i").exec(At),Et){Et=Et[1];let Vt=ht(Et);return Vt=Ft(Vt),kt(Vt)}function Pt(Vt,qt){return new RegExp("(?:^|;)\\s*"+Vt+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',qt)}function wt(Vt,qt){if(Vt){if(!/^[\x00-\xFF]+$/.test(qt))return qt;try{const Lt=new TextDecoder(Vt,{fatal:!0}),$t=(0,bt.stringToBytes)(qt);qt=Lt.decode($t),Ct=!1}catch{}}return qt}function kt(Vt){return Ct&&/[\x80-\xff]/.test(Vt)&&(Vt=wt("utf-8",Vt),Ct&&(Vt=wt("iso-8859-1",Vt))),Vt}function _t(Vt){const qt=[];let Lt;const $t=Pt("filename\\*((?!0\\d)\\d+)(\\*?)","ig");for(;(Lt=$t.exec(Vt))!==null;){let[,jt,Rt,Kt]=Lt;if(jt=parseInt(jt,10),jt in qt){if(jt===0)break;continue}qt[jt]=[Rt,Kt]}const Ot=[];for(let jt=0;jt<qt.length&&jt in qt;++jt){let[Rt,Kt]=qt[jt];Kt=ht(Kt),Rt&&(Kt=unescape(Kt),jt===0&&(Kt=vt(Kt))),Ot.push(Kt)}return Ot.join("")}function ht(Vt){if(Vt.startsWith('"')){const qt=Vt.slice(1).split('\\"');for(let Lt=0;Lt<qt.length;++Lt){const $t=qt[Lt].indexOf('"');$t!==-1&&(qt[Lt]=qt[Lt].slice(0,$t),qt.length=Lt+1),qt[Lt]=qt[Lt].replaceAll(/\\(.)/g,"$1")}Vt=qt.join('"')}return Vt}function vt(Vt){const qt=Vt.indexOf("'");if(qt===-1)return Vt;const Lt=Vt.slice(0,qt),Ot=Vt.slice(qt+1).replace(/^[^']*'/,"");return wt(Lt,Ot)}function Ft(Vt){return!Vt.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(Vt)?Vt:Vt.replaceAll(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,function(qt,Lt,$t,Ot){if($t==="q"||$t==="Q")return Ot=Ot.replaceAll("_"," "),Ot=Ot.replaceAll(/=([0-9a-fA-F]{2})/g,function(jt,Rt){return String.fromCharCode(parseInt(Rt,16))}),wt(Lt,Ot);try{Ot=atob(Ot)}catch{}return wt(Lt,Ot)})}return""}},(_e,$,xt)=>{Object.defineProperty($,"__esModule",{value:!0}),$.PDFNetworkStream=void 0;var bt=xt(1),St=xt(20);const At=200,Ct=206;function Et(ht){const vt=ht.response;return typeof vt!="string"?vt:(0,bt.stringToBytes)(vt).buffer}class Pt{constructor(vt,Ft={}){this.url=vt,this.isHttp=/^https?:/i.test(vt),this.httpHeaders=this.isHttp&&Ft.httpHeaders||Object.create(null),this.withCredentials=Ft.withCredentials||!1,this.currXhrId=0,this.pendingRequests=Object.create(null)}requestRange(vt,Ft,Vt){const qt={begin:vt,end:Ft};for(const Lt in Vt)qt[Lt]=Vt[Lt];return this.request(qt)}requestFull(vt){return this.request(vt)}request(vt){const Ft=new XMLHttpRequest,Vt=this.currXhrId++,qt=this.pendingRequests[Vt]={xhr:Ft};Ft.open("GET",this.url),Ft.withCredentials=this.withCredentials;for(const Lt in this.httpHeaders){const $t=this.httpHeaders[Lt];$t!==void 0&&Ft.setRequestHeader(Lt,$t)}return this.isHttp&&"begin"in vt&&"end"in vt?(Ft.setRequestHeader("Range",`bytes=${vt.begin}-${vt.end-1}`),qt.expectedStatus=Ct):qt.expectedStatus=At,Ft.responseType="arraybuffer",vt.onError&&(Ft.onerror=function(Lt){vt.onError(Ft.status)}),Ft.onreadystatechange=this.onStateChange.bind(this,Vt),Ft.onprogress=this.onProgress.bind(this,Vt),qt.onHeadersReceived=vt.onHeadersReceived,qt.onDone=vt.onDone,qt.onError=vt.onError,qt.onProgress=vt.onProgress,Ft.send(null),Vt}onProgress(vt,Ft){var qt;const Vt=this.pendingRequests[vt];Vt&&((qt=Vt.onProgress)==null||qt.call(Vt,Ft))}onStateChange(vt,Ft){var jt,Rt,Kt;const Vt=this.pendingRequests[vt];if(!Vt)return;const qt=Vt.xhr;if(qt.readyState>=2&&Vt.onHeadersReceived&&(Vt.onHeadersReceived(),delete Vt.onHeadersReceived),qt.readyState!==4||!(vt in this.pendingRequests))return;if(delete this.pendingRequests[vt],qt.status===0&&this.isHttp){(jt=Vt.onError)==null||jt.call(Vt,qt.status);return}const Lt=qt.status||At;if(!(Lt===At&&Vt.expectedStatus===Ct)&&Lt!==Vt.expectedStatus){(Rt=Vt.onError)==null||Rt.call(Vt,qt.status);return}const Ot=Et(qt);if(Lt===Ct){const Bt=qt.getResponseHeader("Content-Range"),Gt=/bytes (\d+)-(\d+)\/(\d+)/.exec(Bt);Vt.onDone({begin:parseInt(Gt[1],10),chunk:Ot})}else Ot?Vt.onDone({begin:0,chunk:Ot}):(Kt=Vt.onError)==null||Kt.call(Vt,qt.status)}getRequestXhr(vt){return this.pendingRequests[vt].xhr}isPendingRequest(vt){return vt in this.pendingRequests}abortRequest(vt){const Ft=this.pendingRequests[vt].xhr;delete this.pendingRequests[vt],Ft.abort()}}class wt{constructor(vt){this._source=vt,this._manager=new Pt(vt.url,{httpHeaders:vt.httpHeaders,withCredentials:vt.withCredentials}),this._rangeChunkSize=vt.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}_onRangeRequestReaderClosed(vt){const Ft=this._rangeRequestReaders.indexOf(vt);Ft>=0&&this._rangeRequestReaders.splice(Ft,1)}getFullReader(){return(0,bt.assert)(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once."),this._fullRequestReader=new kt(this._manager,this._source),this._fullRequestReader}getRangeReader(vt,Ft){const Vt=new _t(this._manager,vt,Ft);return Vt.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(Vt),Vt}cancelAllRequests(vt){var Ft;(Ft=this._fullRequestReader)==null||Ft.cancel(vt);for(const Vt of this._rangeRequestReaders.slice(0))Vt.cancel(vt)}}$.PDFNetworkStream=wt;class kt{constructor(vt,Ft){this._manager=vt;const Vt={onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=Ft.url,this._fullRequestId=vt.requestFull(Vt),this._headersReceivedCapability=new bt.PromiseCapability,this._disableRange=Ft.disableRange||!1,this._contentLength=Ft.length,this._rangeChunkSize=Ft.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}_onHeadersReceived(){const vt=this._fullRequestId,Ft=this._manager.getRequestXhr(vt),Vt=$t=>Ft.getResponseHeader($t),{allowRangeRequests:qt,suggestedLength:Lt}=(0,St.validateRangeRequestCapabilities)({getResponseHeader:Vt,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});qt&&(this._isRangeSupported=!0),this._contentLength=Lt||this._contentLength,this._filename=(0,St.extractFilenameFromHeader)(Vt),this._isRangeSupported&&this._manager.abortRequest(vt),this._headersReceivedCapability.resolve()}_onDone(vt){if(vt&&(this._requests.length>0?this._requests.shift().resolve({value:vt.chunk,done:!1}):this._cachedChunks.push(vt.chunk)),this._done=!0,!(this._cachedChunks.length>0)){for(const Ft of this._requests)Ft.resolve({value:void 0,done:!0});this._requests.length=0}}_onError(vt){this._storedError=(0,St.createResponseStatusError)(vt,this._url),this._headersReceivedCapability.reject(this._storedError);for(const Ft of this._requests)Ft.reject(this._storedError);this._requests.length=0,this._cachedChunks.length=0}_onProgress(vt){var Ft;(Ft=this.onProgress)==null||Ft.call(this,{loaded:vt.loaded,total:vt.lengthComputable?vt.total:this._contentLength})}get filename(){return this._filename}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}get contentLength(){return this._contentLength}get headersReady(){return this._headersReceivedCapability.promise}async read(){if(this._storedError)throw this._storedError;if(this._cachedChunks.length>0)return{value:this._cachedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const vt=new bt.PromiseCapability;return this._requests.push(vt),vt.promise}cancel(vt){this._done=!0,this._headersReceivedCapability.reject(vt);for(const Ft of this._requests)Ft.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}}class _t{constructor(vt,Ft,Vt){this._manager=vt;const qt={onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=vt.url,this._requestId=vt.requestRange(Ft,Vt,qt),this._requests=[],this._queuedChunk=null,this._done=!1,this._storedError=void 0,this.onProgress=null,this.onClosed=null}_close(){var vt;(vt=this.onClosed)==null||vt.call(this,this)}_onDone(vt){const Ft=vt.chunk;this._requests.length>0?this._requests.shift().resolve({value:Ft,done:!1}):this._queuedChunk=Ft,this._done=!0;for(const Vt of this._requests)Vt.resolve({value:void 0,done:!0});this._requests.length=0,this._close()}_onError(vt){this._storedError=(0,St.createResponseStatusError)(vt,this._url);for(const Ft of this._requests)Ft.reject(this._storedError);this._requests.length=0,this._queuedChunk=null}_onProgress(vt){var Ft;this.isStreamingSupported||(Ft=this.onProgress)==null||Ft.call(this,{loaded:vt.loaded})}get isStreamingSupported(){return!1}async read(){if(this._storedError)throw this._storedError;if(this._queuedChunk!==null){const Ft=this._queuedChunk;return this._queuedChunk=null,{value:Ft,done:!1}}if(this._done)return{value:void 0,done:!0};const vt=new bt.PromiseCapability;return this._requests.push(vt),vt.promise}cancel(vt){this._done=!0;for(const Ft of this._requests)Ft.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}}},(_e,$,xt)=>{Object.defineProperty($,"__esModule",{value:!0}),$.PDFNodeStream=void 0;var bt=xt(1),St=xt(20);const At=/^file:\/\/\/[a-zA-Z]:\//;function Ct(Vt){const qt=require$$5,Lt=qt.parse(Vt);return Lt.protocol==="file:"||Lt.host?Lt:/^[a-z]:[/\\]/i.test(Vt)?qt.parse(`file:///${Vt}`):(Lt.host||(Lt.protocol="file:"),Lt)}class Et{constructor(qt){this.source=qt,this.url=Ct(qt.url),this.isHttp=this.url.protocol==="http:"||this.url.protocol==="https:",this.isFsUrl=this.url.protocol==="file:",this.httpHeaders=this.isHttp&&qt.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var qt;return((qt=this._fullRequestReader)==null?void 0:qt._loaded)??0}getFullReader(){return(0,bt.assert)(!this._fullRequestReader,"PDFNodeStream.getFullReader can only be called once."),this._fullRequestReader=this.isFsUrl?new vt(this):new _t(this),this._fullRequestReader}getRangeReader(qt,Lt){if(Lt<=this._progressiveDataLength)return null;const $t=this.isFsUrl?new Ft(this,qt,Lt):new ht(this,qt,Lt);return this._rangeRequestReaders.push($t),$t}cancelAllRequests(qt){var Lt;(Lt=this._fullRequestReader)==null||Lt.cancel(qt);for(const $t of this._rangeRequestReaders.slice(0))$t.cancel(qt)}}$.PDFNodeStream=Et;class Pt{constructor(qt){this._url=qt.url,this._done=!1,this._storedError=null,this.onProgress=null;const Lt=qt.source;this._contentLength=Lt.length,this._loaded=0,this._filename=null,this._disableRange=Lt.disableRange||!1,this._rangeChunkSize=Lt.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!Lt.disableStream,this._isRangeSupported=!Lt.disableRange,this._readableStream=null,this._readCapability=new bt.PromiseCapability,this._headersCapability=new bt.PromiseCapability}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var $t;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const qt=this._readableStream.read();return qt===null?(this._readCapability=new bt.PromiseCapability,this.read()):(this._loaded+=qt.length,($t=this.onProgress)==null||$t.call(this,{loaded:this._loaded,total:this._contentLength}),{value:new Uint8Array(qt).buffer,done:!1})}cancel(qt){if(!this._readableStream){this._error(qt);return}this._readableStream.destroy(qt)}_error(qt){this._storedError=qt,this._readCapability.resolve()}_setReadableStream(qt){this._readableStream=qt,qt.on("readable",()=>{this._readCapability.resolve()}),qt.on("end",()=>{qt.destroy(),this._done=!0,this._readCapability.resolve()}),qt.on("error",Lt=>{this._error(Lt)}),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new bt.AbortException("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}}class wt{constructor(qt){this._url=qt.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=new bt.PromiseCapability;const Lt=qt.source;this._isStreamingSupported=!Lt.disableStream}get isStreamingSupported(){return this._isStreamingSupported}async read(){var $t;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const qt=this._readableStream.read();return qt===null?(this._readCapability=new bt.PromiseCapability,this.read()):(this._loaded+=qt.length,($t=this.onProgress)==null||$t.call(this,{loaded:this._loaded}),{value:new Uint8Array(qt).buffer,done:!1})}cancel(qt){if(!this._readableStream){this._error(qt);return}this._readableStream.destroy(qt)}_error(qt){this._storedError=qt,this._readCapability.resolve()}_setReadableStream(qt){this._readableStream=qt,qt.on("readable",()=>{this._readCapability.resolve()}),qt.on("end",()=>{qt.destroy(),this._done=!0,this._readCapability.resolve()}),qt.on("error",Lt=>{this._error(Lt)}),this._storedError&&this._readableStream.destroy(this._storedError)}}function kt(Vt,qt){return{protocol:Vt.protocol,auth:Vt.auth,host:Vt.hostname,port:Vt.port,path:Vt.path,method:"GET",headers:qt}}class _t extends Pt{constructor(qt){super(qt);const Lt=$t=>{if($t.statusCode===404){const Kt=new bt.MissingPDFException(`Missing PDF "${this._url}".`);this._storedError=Kt,this._headersCapability.reject(Kt);return}this._headersCapability.resolve(),this._setReadableStream($t);const Ot=Kt=>this._readableStream.headers[Kt.toLowerCase()],{allowRangeRequests:jt,suggestedLength:Rt}=(0,St.validateRangeRequestCapabilities)({getResponseHeader:Ot,isHttp:qt.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=jt,this._contentLength=Rt||this._contentLength,this._filename=(0,St.extractFilenameFromHeader)(Ot)};if(this._request=null,this._url.protocol==="http:"){const $t=require$$5;this._request=$t.request(kt(this._url,qt.httpHeaders),Lt)}else{const $t=require$$5;this._request=$t.request(kt(this._url,qt.httpHeaders),Lt)}this._request.on("error",$t=>{this._storedError=$t,this._headersCapability.reject($t)}),this._request.end()}}class ht extends wt{constructor(qt,Lt,$t){super(qt),this._httpHeaders={};for(const jt in qt.httpHeaders){const Rt=qt.httpHeaders[jt];Rt!==void 0&&(this._httpHeaders[jt]=Rt)}this._httpHeaders.Range=`bytes=${Lt}-${$t-1}`;const Ot=jt=>{if(jt.statusCode===404){const Rt=new bt.MissingPDFException(`Missing PDF "${this._url}".`);this._storedError=Rt;return}this._setReadableStream(jt)};if(this._request=null,this._url.protocol==="http:"){const jt=require$$5;this._request=jt.request(kt(this._url,this._httpHeaders),Ot)}else{const jt=require$$5;this._request=jt.request(kt(this._url,this._httpHeaders),Ot)}this._request.on("error",jt=>{this._storedError=jt}),this._request.end()}}class vt extends Pt{constructor(qt){super(qt);let Lt=decodeURIComponent(this._url.path);At.test(this._url.href)&&(Lt=Lt.replace(/^\//,""));const $t=require$$5;$t.lstat(Lt,(Ot,jt)=>{if(Ot){Ot.code==="ENOENT"&&(Ot=new bt.MissingPDFException(`Missing PDF "${Lt}".`)),this._storedError=Ot,this._headersCapability.reject(Ot);return}this._contentLength=jt.size,this._setReadableStream($t.createReadStream(Lt)),this._headersCapability.resolve()})}}class Ft extends wt{constructor(qt,Lt,$t){super(qt);let Ot=decodeURIComponent(this._url.path);At.test(this._url.href)&&(Ot=Ot.replace(/^\//,""));const jt=require$$5;this._setReadableStream(jt.createReadStream(Ot,{start:Lt,end:$t-1}))}}},(_e,$,xt)=>{Object.defineProperty($,"__esModule",{value:!0}),$.SVGGraphics=void 0;var bt=xt(6),St=xt(1);const At={fontStyle:"normal",fontWeight:"normal",fillColor:"#000000"},Ct="http://www.w3.org/XML/1998/namespace",Et="http://www.w3.org/1999/xlink",Pt=["butt","round","square"],wt=["miter","round","bevel"],kt=function(jt,Rt="",Kt=!1){if(URL.createObjectURL&&typeof Blob<"u"&&!Kt)return URL.createObjectURL(new Blob([jt],{type:Rt}));const Bt="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";let Gt=`data:${Rt};base64,`;for(let en=0,hn=jt.length;en<hn;en+=3){const tn=jt[en]&255,gn=jt[en+1]&255,nn=jt[en+2]&255,bn=tn>>2,Wt=(tn&3)<<4|gn>>4,Yt=en+1<hn?(gn&15)<<2|nn>>6:64,dn=en+2<hn?nn&63:64;Gt+=Bt[bn]+Bt[Wt]+Bt[Yt]+Bt[dn]}return Gt},_t=function(){const jt=new Uint8Array([137,80,78,71,13,10,26,10]),Rt=12,Kt=new Int32Array(256);for(let nn=0;nn<256;nn++){let bn=nn;for(let Wt=0;Wt<8;Wt++)bn=bn&1?3988292384^bn>>1&2147483647:bn>>1&2147483647;Kt[nn]=bn}function Bt(nn,bn,Wt){let Yt=-1;for(let dn=bn;dn<Wt;dn++){const Ut=(Yt^nn[dn])&255,Mt=Kt[Ut];Yt=Yt>>>8^Mt}return Yt^-1}function Gt(nn,bn,Wt,Yt){let dn=Yt;const Ut=bn.length;Wt[dn]=Ut>>24&255,Wt[dn+1]=Ut>>16&255,Wt[dn+2]=Ut>>8&255,Wt[dn+3]=Ut&255,dn+=4,Wt[dn]=nn.charCodeAt(0)&255,Wt[dn+1]=nn.charCodeAt(1)&255,Wt[dn+2]=nn.charCodeAt(2)&255,Wt[dn+3]=nn.charCodeAt(3)&255,dn+=4,Wt.set(bn,dn),dn+=bn.length;const Mt=Bt(Wt,Yt+4,dn);Wt[dn]=Mt>>24&255,Wt[dn+1]=Mt>>16&255,Wt[dn+2]=Mt>>8&255,Wt[dn+3]=Mt&255}function en(nn,bn,Wt){let Yt=1,dn=0;for(let Ut=bn;Ut<Wt;++Ut)Yt=(Yt+(nn[Ut]&255))%65521,dn=(dn+Yt)%65521;return dn<<16|Yt}function hn(nn){if(!St.isNodeJS)return tn(nn);try{const bn=parseInt(process.versions.node)>=8?nn:Buffer.from(nn),Wt=require$$5.deflateSync(bn,{level:9});return Wt instanceof Uint8Array?Wt:new Uint8Array(Wt)}catch(bn){(0,St.warn)("Not compressing PNG because zlib.deflateSync is unavailable: "+bn)}return tn(nn)}function tn(nn){let bn=nn.length;const Wt=65535,Yt=Math.ceil(bn/Wt),dn=new Uint8Array(2+bn+Yt*5+4);let Ut=0;dn[Ut++]=120,dn[Ut++]=156;let Mt=0;for(;bn>Wt;)dn[Ut++]=0,dn[Ut++]=255,dn[Ut++]=255,dn[Ut++]=0,dn[Ut++]=0,dn.set(nn.subarray(Mt,Mt+Wt),Ut),Ut+=Wt,Mt+=Wt,bn-=Wt;dn[Ut++]=1,dn[Ut++]=bn&255,dn[Ut++]=bn>>8&255,dn[Ut++]=~bn&65535&255,dn[Ut++]=(~bn&65535)>>8&255,dn.set(nn.subarray(Mt),Ut),Ut+=nn.length-Mt;const Ht=en(nn,0,nn.length);return dn[Ut++]=Ht>>24&255,dn[Ut++]=Ht>>16&255,dn[Ut++]=Ht>>8&255,dn[Ut++]=Ht&255,dn}function gn(nn,bn,Wt,Yt){const dn=nn.width,Ut=nn.height;let Mt,Ht,sn;const zt=nn.data;switch(bn){case St.ImageKind.GRAYSCALE_1BPP:Ht=0,Mt=1,sn=dn+7>>3;break;case St.ImageKind.RGB_24BPP:Ht=2,Mt=8,sn=dn*3;break;case St.ImageKind.RGBA_32BPP:Ht=6,Mt=8,sn=dn*4;break;default:throw new Error("invalid format")}const Xt=new Uint8Array((1+sn)*Ut);let Qt=0,ln=0;for(let wn=0;wn<Ut;++wn)Xt[Qt++]=0,Xt.set(zt.subarray(ln,ln+sn),Qt),ln+=sn,Qt+=sn;if(bn===St.ImageKind.GRAYSCALE_1BPP&&Yt){Qt=0;for(let wn=0;wn<Ut;wn++){Qt++;for(let En=0;En<sn;En++)Xt[Qt++]^=255}}const on=new Uint8Array([dn>>24&255,dn>>16&255,dn>>8&255,dn&255,Ut>>24&255,Ut>>16&255,Ut>>8&255,Ut&255,Mt,Ht,0,0,0]),cn=hn(Xt),rn=jt.length+Rt*3+on.length+cn.length,an=new Uint8Array(rn);let xn=0;return an.set(jt,xn),xn+=jt.length,Gt("IHDR",on,an,xn),xn+=Rt+on.length,Gt("IDATA",cn,an,xn),xn+=Rt+cn.length,Gt("IEND",new Uint8Array(0),an,xn),kt(an,"image/png",Wt)}return function(bn,Wt,Yt){const dn=bn.kind===void 0?St.ImageKind.GRAYSCALE_1BPP:bn.kind;return gn(bn,dn,Wt,Yt)}}();class ht{constructor(){this.fontSizeScale=1,this.fontWeight=At.fontWeight,this.fontSize=0,this.textMatrix=St.IDENTITY_MATRIX,this.fontMatrix=St.FONT_IDENTITY_MATRIX,this.leading=0,this.textRenderingMode=St.TextRenderingMode.FILL,this.textMatrixScale=1,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRise=0,this.fillColor=At.fillColor,this.strokeColor="#000000",this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.lineJoin="",this.lineCap="",this.miterLimit=0,this.dashArray=[],this.dashPhase=0,this.dependencies=[],this.activeClipUrl=null,this.clipGroup=null,this.maskId=""}clone(){return Object.create(this)}setCurrentPoint(Rt,Kt){this.x=Rt,this.y=Kt}}function vt(jt){let Rt=[];const Kt=[];for(const Bt of jt){if(Bt.fn==="save"){Rt.push({fnId:92,fn:"group",items:[]}),Kt.push(Rt),Rt=Rt.at(-1).items;continue}Bt.fn==="restore"?Rt=Kt.pop():Rt.push(Bt)}return Rt}function Ft(jt){if(Number.isInteger(jt))return jt.toString();const Rt=jt.toFixed(10);let Kt=Rt.length-1;if(Rt[Kt]!=="0")return Rt;do Kt--;while(Rt[Kt]==="0");return Rt.substring(0,Rt[Kt]==="."?Kt:Kt+1)}function Vt(jt){if(jt[4]===0&&jt[5]===0){if(jt[1]===0&&jt[2]===0)return jt[0]===1&&jt[3]===1?"":`scale(${Ft(jt[0])} ${Ft(jt[3])})`;if(jt[0]===jt[3]&&jt[1]===-jt[2]){const Rt=Math.acos(jt[0])*180/Math.PI;return`rotate(${Ft(Rt)})`}}else if(jt[0]===1&&jt[1]===0&&jt[2]===0&&jt[3]===1)return`translate(${Ft(jt[4])} ${Ft(jt[5])})`;return`matrix(${Ft(jt[0])} ${Ft(jt[1])} ${Ft(jt[2])} ${Ft(jt[3])} ${Ft(jt[4])} ${Ft(jt[5])})`}let qt=0,Lt=0,$t=0;class Ot{constructor(Rt,Kt,Bt=!1){(0,bt.deprecated)("The SVG back-end is no longer maintained and *may* be removed in the future."),this.svgFactory=new bt.DOMSVGFactory,this.current=new ht,this.transformMatrix=St.IDENTITY_MATRIX,this.transformStack=[],this.extraStack=[],this.commonObjs=Rt,this.objs=Kt,this.pendingClip=null,this.pendingEOFill=!1,this.embedFonts=!1,this.embeddedFonts=Object.create(null),this.cssStyle=null,this.forceDataSchema=!!Bt,this._operatorIdMapping=[];for(const Gt in St.OPS)this._operatorIdMapping[St.OPS[Gt]]=Gt}getObject(Rt,Kt=null){return typeof Rt=="string"?Rt.startsWith("g_")?this.commonObjs.get(Rt):this.objs.get(Rt):Kt}save(){this.transformStack.push(this.transformMatrix);const Rt=this.current;this.extraStack.push(Rt),this.current=Rt.clone()}restore(){this.transformMatrix=this.transformStack.pop(),this.current=this.extraStack.pop(),this.pendingClip=null,this.tgrp=null}group(Rt){this.save(),this.executeOpTree(Rt),this.restore()}loadDependencies(Rt){const Kt=Rt.fnArray,Bt=Rt.argsArray;for(let Gt=0,en=Kt.length;Gt<en;Gt++)if(Kt[Gt]===St.OPS.dependency)for(const hn of Bt[Gt]){const tn=hn.startsWith("g_")?this.commonObjs:this.objs,gn=new Promise(nn=>{tn.get(hn,nn)});this.current.dependencies.push(gn)}return Promise.all(this.current.dependencies)}transform(Rt,Kt,Bt,Gt,en,hn){const tn=[Rt,Kt,Bt,Gt,en,hn];this.transformMatrix=St.Util.transform(this.transformMatrix,tn),this.tgrp=null}getSVG(Rt,Kt){this.viewport=Kt;const Bt=this._initialize(Kt);return this.loadDependencies(Rt).then(()=>(this.transformMatrix=St.IDENTITY_MATRIX,this.executeOpTree(this.convertOpList(Rt)),Bt))}convertOpList(Rt){const Kt=this._operatorIdMapping,Bt=Rt.argsArray,Gt=Rt.fnArray,en=[];for(let hn=0,tn=Gt.length;hn<tn;hn++){const gn=Gt[hn];en.push({fnId:gn,fn:Kt[gn],args:Bt[hn]})}return vt(en)}executeOpTree(Rt){for(const Kt of Rt){const Bt=Kt.fn,Gt=Kt.fnId,en=Kt.args;switch(Gt|0){case St.OPS.beginText:this.beginText();break;case St.OPS.dependency:break;case St.OPS.setLeading:this.setLeading(en);break;case St.OPS.setLeadingMoveText:this.setLeadingMoveText(en[0],en[1]);break;case St.OPS.setFont:this.setFont(en);break;case St.OPS.showText:this.showText(en[0]);break;case St.OPS.showSpacedText:this.showText(en[0]);break;case St.OPS.endText:this.endText();break;case St.OPS.moveText:this.moveText(en[0],en[1]);break;case St.OPS.setCharSpacing:this.setCharSpacing(en[0]);break;case St.OPS.setWordSpacing:this.setWordSpacing(en[0]);break;case St.OPS.setHScale:this.setHScale(en[0]);break;case St.OPS.setTextMatrix:this.setTextMatrix(en[0],en[1],en[2],en[3],en[4],en[5]);break;case St.OPS.setTextRise:this.setTextRise(en[0]);break;case St.OPS.setTextRenderingMode:this.setTextRenderingMode(en[0]);break;case St.OPS.setLineWidth:this.setLineWidth(en[0]);break;case St.OPS.setLineJoin:this.setLineJoin(en[0]);break;case St.OPS.setLineCap:this.setLineCap(en[0]);break;case St.OPS.setMiterLimit:this.setMiterLimit(en[0]);break;case St.OPS.setFillRGBColor:this.setFillRGBColor(en[0],en[1],en[2]);break;case St.OPS.setStrokeRGBColor:this.setStrokeRGBColor(en[0],en[1],en[2]);break;case St.OPS.setStrokeColorN:this.setStrokeColorN(en);break;case St.OPS.setFillColorN:this.setFillColorN(en);break;case St.OPS.shadingFill:this.shadingFill(en[0]);break;case St.OPS.setDash:this.setDash(en[0],en[1]);break;case St.OPS.setRenderingIntent:this.setRenderingIntent(en[0]);break;case St.OPS.setFlatness:this.setFlatness(en[0]);break;case St.OPS.setGState:this.setGState(en[0]);break;case St.OPS.fill:this.fill();break;case St.OPS.eoFill:this.eoFill();break;case St.OPS.stroke:this.stroke();break;case St.OPS.fillStroke:this.fillStroke();break;case St.OPS.eoFillStroke:this.eoFillStroke();break;case St.OPS.clip:this.clip("nonzero");break;case St.OPS.eoClip:this.clip("evenodd");break;case St.OPS.paintSolidColorImageMask:this.paintSolidColorImageMask();break;case St.OPS.paintImageXObject:this.paintImageXObject(en[0]);break;case St.OPS.paintInlineImageXObject:this.paintInlineImageXObject(en[0]);break;case St.OPS.paintImageMaskXObject:this.paintImageMaskXObject(en[0]);break;case St.OPS.paintFormXObjectBegin:this.paintFormXObjectBegin(en[0],en[1]);break;case St.OPS.paintFormXObjectEnd:this.paintFormXObjectEnd();break;case St.OPS.closePath:this.closePath();break;case St.OPS.closeStroke:this.closeStroke();break;case St.OPS.closeFillStroke:this.closeFillStroke();break;case St.OPS.closeEOFillStroke:this.closeEOFillStroke();break;case St.OPS.nextLine:this.nextLine();break;case St.OPS.transform:this.transform(en[0],en[1],en[2],en[3],en[4],en[5]);break;case St.OPS.constructPath:this.constructPath(en[0],en[1]);break;case St.OPS.endPath:this.endPath();break;case 92:this.group(Kt.items);break;default:(0,St.warn)(`Unimplemented operator ${Bt}`);break}}}setWordSpacing(Rt){this.current.wordSpacing=Rt}setCharSpacing(Rt){this.current.charSpacing=Rt}nextLine(){this.moveText(0,this.current.leading)}setTextMatrix(Rt,Kt,Bt,Gt,en,hn){const tn=this.current;tn.textMatrix=tn.lineMatrix=[Rt,Kt,Bt,Gt,en,hn],tn.textMatrixScale=Math.hypot(Rt,Kt),tn.x=tn.lineX=0,tn.y=tn.lineY=0,tn.xcoords=[],tn.ycoords=[],tn.tspan=this.svgFactory.createElement("svg:tspan"),tn.tspan.setAttributeNS(null,"font-family",tn.fontFamily),tn.tspan.setAttributeNS(null,"font-size",`${Ft(tn.fontSize)}px`),tn.tspan.setAttributeNS(null,"y",Ft(-tn.y)),tn.txtElement=this.svgFactory.createElement("svg:text"),tn.txtElement.append(tn.tspan)}beginText(){const Rt=this.current;Rt.x=Rt.lineX=0,Rt.y=Rt.lineY=0,Rt.textMatrix=St.IDENTITY_MATRIX,Rt.lineMatrix=St.IDENTITY_MATRIX,Rt.textMatrixScale=1,Rt.tspan=this.svgFactory.createElement("svg:tspan"),Rt.txtElement=this.svgFactory.createElement("svg:text"),Rt.txtgrp=this.svgFactory.createElement("svg:g"),Rt.xcoords=[],Rt.ycoords=[]}moveText(Rt,Kt){const Bt=this.current;Bt.x=Bt.lineX+=Rt,Bt.y=Bt.lineY+=Kt,Bt.xcoords=[],Bt.ycoords=[],Bt.tspan=this.svgFactory.createElement("svg:tspan"),Bt.tspan.setAttributeNS(null,"font-family",Bt.fontFamily),Bt.tspan.setAttributeNS(null,"font-size",`${Ft(Bt.fontSize)}px`),Bt.tspan.setAttributeNS(null,"y",Ft(-Bt.y))}showText(Rt){const Kt=this.current,Bt=Kt.font,Gt=Kt.fontSize;if(Gt===0)return;const en=Kt.fontSizeScale,hn=Kt.charSpacing,tn=Kt.wordSpacing,gn=Kt.fontDirection,nn=Kt.textHScale*gn,bn=Bt.vertical,Wt=bn?1:-1,Yt=Bt.defaultVMetrics,dn=Gt*Kt.fontMatrix[0];let Ut=0;for(const sn of Rt){if(sn===null){Ut+=gn*tn;continue}else if(typeof sn=="number"){Ut+=Wt*sn*Gt/1e3;continue}const zt=(sn.isSpace?tn:0)+hn,Xt=sn.fontChar;let Qt,ln,on=sn.width;if(bn){let rn;const an=sn.vmetric||Yt;rn=sn.vmetric?an[1]:on*.5,rn=-rn*dn;const xn=an[2]*dn;on=an?-an[0]:on,Qt=rn/en,ln=(Ut+xn)/en}else Qt=Ut/en,ln=0;(sn.isInFont||Bt.missingFile)&&(Kt.xcoords.push(Kt.x+Qt),bn&&Kt.ycoords.push(-Kt.y+ln),Kt.tspan.textContent+=Xt);const cn=bn?on*dn-zt*gn:on*dn+zt*gn;Ut+=cn}Kt.tspan.setAttributeNS(null,"x",Kt.xcoords.map(Ft).join(" ")),bn?Kt.tspan.setAttributeNS(null,"y",Kt.ycoords.map(Ft).join(" ")):Kt.tspan.setAttributeNS(null,"y",Ft(-Kt.y)),bn?Kt.y-=Ut:Kt.x+=Ut*nn,Kt.tspan.setAttributeNS(null,"font-family",Kt.fontFamily),Kt.tspan.setAttributeNS(null,"font-size",`${Ft(Kt.fontSize)}px`),Kt.fontStyle!==At.fontStyle&&Kt.tspan.setAttributeNS(null,"font-style",Kt.fontStyle),Kt.fontWeight!==At.fontWeight&&Kt.tspan.setAttributeNS(null,"font-weight",Kt.fontWeight);const Mt=Kt.textRenderingMode&St.TextRenderingMode.FILL_STROKE_MASK;if(Mt===St.TextRenderingMode.FILL||Mt===St.TextRenderingMode.FILL_STROKE?(Kt.fillColor!==At.fillColor&&Kt.tspan.setAttributeNS(null,"fill",Kt.fillColor),Kt.fillAlpha<1&&Kt.tspan.setAttributeNS(null,"fill-opacity",Kt.fillAlpha)):Kt.textRenderingMode===St.TextRenderingMode.ADD_TO_PATH?Kt.tspan.setAttributeNS(null,"fill","transparent"):Kt.tspan.setAttributeNS(null,"fill","none"),Mt===St.TextRenderingMode.STROKE||Mt===St.TextRenderingMode.FILL_STROKE){const sn=1/(Kt.textMatrixScale||1);this._setStrokeAttributes(Kt.tspan,sn)}let Ht=Kt.textMatrix;Kt.textRise!==0&&(Ht=Ht.slice(),Ht[5]+=Kt.textRise),Kt.txtElement.setAttributeNS(null,"transform",`${Vt(Ht)} scale(${Ft(nn)}, -1)`),Kt.txtElement.setAttributeNS(Ct,"xml:space","preserve"),Kt.txtElement.append(Kt.tspan),Kt.txtgrp.append(Kt.txtElement),this._ensureTransformGroup().append(Kt.txtElement)}setLeadingMoveText(Rt,Kt){this.setLeading(-Kt),this.moveText(Rt,Kt)}addFontStyle(Rt){if(!Rt.data)throw new Error('addFontStyle: No font data available, ensure that the "fontExtraProperties" API parameter is set.');this.cssStyle||(this.cssStyle=this.svgFactory.createElement("svg:style"),this.cssStyle.setAttributeNS(null,"type","text/css"),this.defs.append(this.cssStyle));const Kt=kt(Rt.data,Rt.mimetype,this.forceDataSchema);this.cssStyle.textContent+=`@font-face { font-family: "${Rt.loadedName}"; src: url(${Kt}); }
`}setFont(Rt){const Kt=this.current,Bt=this.commonObjs.get(Rt[0]);let Gt=Rt[1];Kt.font=Bt,this.embedFonts&&!Bt.missingFile&&!this.embeddedFonts[Bt.loadedName]&&(this.addFontStyle(Bt),this.embeddedFonts[Bt.loadedName]=Bt),Kt.fontMatrix=Bt.fontMatrix||St.FONT_IDENTITY_MATRIX;let en="normal";Bt.black?en="900":Bt.bold&&(en="bold");const hn=Bt.italic?"italic":"normal";Gt<0?(Gt=-Gt,Kt.fontDirection=-1):Kt.fontDirection=1,Kt.fontSize=Gt,Kt.fontFamily=Bt.loadedName,Kt.fontWeight=en,Kt.fontStyle=hn,Kt.tspan=this.svgFactory.createElement("svg:tspan"),Kt.tspan.setAttributeNS(null,"y",Ft(-Kt.y)),Kt.xcoords=[],Kt.ycoords=[]}endText(){var Kt;const Rt=this.current;Rt.textRenderingMode&St.TextRenderingMode.ADD_TO_PATH_FLAG&&((Kt=Rt.txtElement)!=null&&Kt.hasChildNodes())&&(Rt.element=Rt.txtElement,this.clip("nonzero"),this.endPath())}setLineWidth(Rt){Rt>0&&(this.current.lineWidth=Rt)}setLineCap(Rt){this.current.lineCap=Pt[Rt]}setLineJoin(Rt){this.current.lineJoin=wt[Rt]}setMiterLimit(Rt){this.current.miterLimit=Rt}setStrokeAlpha(Rt){this.current.strokeAlpha=Rt}setStrokeRGBColor(Rt,Kt,Bt){this.current.strokeColor=St.Util.makeHexColor(Rt,Kt,Bt)}setFillAlpha(Rt){this.current.fillAlpha=Rt}setFillRGBColor(Rt,Kt,Bt){this.current.fillColor=St.Util.makeHexColor(Rt,Kt,Bt),this.current.tspan=this.svgFactory.createElement("svg:tspan"),this.current.xcoords=[],this.current.ycoords=[]}setStrokeColorN(Rt){this.current.strokeColor=this._makeColorN_Pattern(Rt)}setFillColorN(Rt){this.current.fillColor=this._makeColorN_Pattern(Rt)}shadingFill(Rt){const{width:Kt,height:Bt}=this.viewport,Gt=St.Util.inverseTransform(this.transformMatrix),[en,hn,tn,gn]=St.Util.getAxialAlignedBoundingBox([0,0,Kt,Bt],Gt),nn=this.svgFactory.createElement("svg:rect");nn.setAttributeNS(null,"x",en),nn.setAttributeNS(null,"y",hn),nn.setAttributeNS(null,"width",tn-en),nn.setAttributeNS(null,"height",gn-hn),nn.setAttributeNS(null,"fill",this._makeShadingPattern(Rt)),this.current.fillAlpha<1&&nn.setAttributeNS(null,"fill-opacity",this.current.fillAlpha),this._ensureTransformGroup().append(nn)}_makeColorN_Pattern(Rt){return Rt[0]==="TilingPattern"?this._makeTilingPattern(Rt):this._makeShadingPattern(Rt)}_makeTilingPattern(Rt){const Kt=Rt[1],Bt=Rt[2],Gt=Rt[3]||St.IDENTITY_MATRIX,[en,hn,tn,gn]=Rt[4],nn=Rt[5],bn=Rt[6],Wt=Rt[7],Yt=`shading${$t++}`,[dn,Ut,Mt,Ht]=St.Util.normalizeRect([...St.Util.applyTransform([en,hn],Gt),...St.Util.applyTransform([tn,gn],Gt)]),[sn,zt]=St.Util.singularValueDecompose2dScale(Gt),Xt=nn*sn,Qt=bn*zt,ln=this.svgFactory.createElement("svg:pattern");ln.setAttributeNS(null,"id",Yt),ln.setAttributeNS(null,"patternUnits","userSpaceOnUse"),ln.setAttributeNS(null,"width",Xt),ln.setAttributeNS(null,"height",Qt),ln.setAttributeNS(null,"x",`${dn}`),ln.setAttributeNS(null,"y",`${Ut}`);const on=this.svg,cn=this.transformMatrix,rn=this.current.fillColor,an=this.current.strokeColor,xn=this.svgFactory.create(Mt-dn,Ht-Ut);if(this.svg=xn,this.transformMatrix=Gt,Wt===2){const wn=St.Util.makeHexColor(...Kt);this.current.fillColor=wn,this.current.strokeColor=wn}return this.executeOpTree(this.convertOpList(Bt)),this.svg=on,this.transformMatrix=cn,this.current.fillColor=rn,this.current.strokeColor=an,ln.append(xn.childNodes[0]),this.defs.append(ln),`url(#${Yt})`}_makeShadingPattern(Rt){switch(typeof Rt=="string"&&(Rt=this.objs.get(Rt)),Rt[0]){case"RadialAxial":const Kt=`shading${$t++}`,Bt=Rt[3];let Gt;switch(Rt[1]){case"axial":const en=Rt[4],hn=Rt[5];Gt=this.svgFactory.createElement("svg:linearGradient"),Gt.setAttributeNS(null,"id",Kt),Gt.setAttributeNS(null,"gradientUnits","userSpaceOnUse"),Gt.setAttributeNS(null,"x1",en[0]),Gt.setAttributeNS(null,"y1",en[1]),Gt.setAttributeNS(null,"x2",hn[0]),Gt.setAttributeNS(null,"y2",hn[1]);break;case"radial":const tn=Rt[4],gn=Rt[5],nn=Rt[6],bn=Rt[7];Gt=this.svgFactory.createElement("svg:radialGradient"),Gt.setAttributeNS(null,"id",Kt),Gt.setAttributeNS(null,"gradientUnits","userSpaceOnUse"),Gt.setAttributeNS(null,"cx",gn[0]),Gt.setAttributeNS(null,"cy",gn[1]),Gt.setAttributeNS(null,"r",bn),Gt.setAttributeNS(null,"fx",tn[0]),Gt.setAttributeNS(null,"fy",tn[1]),Gt.setAttributeNS(null,"fr",nn);break;default:throw new Error(`Unknown RadialAxial type: ${Rt[1]}`)}for(const en of Bt){const hn=this.svgFactory.createElement("svg:stop");hn.setAttributeNS(null,"offset",en[0]),hn.setAttributeNS(null,"stop-color",en[1]),Gt.append(hn)}return this.defs.append(Gt),`url(#${Kt})`;case"Mesh":return(0,St.warn)("Unimplemented pattern Mesh"),null;case"Dummy":return"hotpink";default:throw new Error(`Unknown IR type: ${Rt[0]}`)}}setDash(Rt,Kt){this.current.dashArray=Rt,this.current.dashPhase=Kt}constructPath(Rt,Kt){const Bt=this.current;let Gt=Bt.x,en=Bt.y,hn=[],tn=0;for(const gn of Rt)switch(gn|0){case St.OPS.rectangle:Gt=Kt[tn++],en=Kt[tn++];const nn=Kt[tn++],bn=Kt[tn++],Wt=Gt+nn,Yt=en+bn;hn.push("M",Ft(Gt),Ft(en),"L",Ft(Wt),Ft(en),"L",Ft(Wt),Ft(Yt),"L",Ft(Gt),Ft(Yt),"Z");break;case St.OPS.moveTo:Gt=Kt[tn++],en=Kt[tn++],hn.push("M",Ft(Gt),Ft(en));break;case St.OPS.lineTo:Gt=Kt[tn++],en=Kt[tn++],hn.push("L",Ft(Gt),Ft(en));break;case St.OPS.curveTo:Gt=Kt[tn+4],en=Kt[tn+5],hn.push("C",Ft(Kt[tn]),Ft(Kt[tn+1]),Ft(Kt[tn+2]),Ft(Kt[tn+3]),Ft(Gt),Ft(en)),tn+=6;break;case St.OPS.curveTo2:hn.push("C",Ft(Gt),Ft(en),Ft(Kt[tn]),Ft(Kt[tn+1]),Ft(Kt[tn+2]),Ft(Kt[tn+3])),Gt=Kt[tn+2],en=Kt[tn+3],tn+=4;break;case St.OPS.curveTo3:Gt=Kt[tn+2],en=Kt[tn+3],hn.push("C",Ft(Kt[tn]),Ft(Kt[tn+1]),Ft(Gt),Ft(en),Ft(Gt),Ft(en)),tn+=4;break;case St.OPS.closePath:hn.push("Z");break}hn=hn.join(" "),Bt.path&&Rt.length>0&&Rt[0]!==St.OPS.rectangle&&Rt[0]!==St.OPS.moveTo?hn=Bt.path.getAttributeNS(null,"d")+hn:(Bt.path=this.svgFactory.createElement("svg:path"),this._ensureTransformGroup().append(Bt.path)),Bt.path.setAttributeNS(null,"d",hn),Bt.path.setAttributeNS(null,"fill","none"),Bt.element=Bt.path,Bt.setCurrentPoint(Gt,en)}endPath(){const Rt=this.current;if(Rt.path=null,!this.pendingClip)return;if(!Rt.element){this.pendingClip=null;return}const Kt=`clippath${qt++}`,Bt=this.svgFactory.createElement("svg:clipPath");Bt.setAttributeNS(null,"id",Kt),Bt.setAttributeNS(null,"transform",Vt(this.transformMatrix));const Gt=Rt.element.cloneNode(!0);if(this.pendingClip==="evenodd"?Gt.setAttributeNS(null,"clip-rule","evenodd"):Gt.setAttributeNS(null,"clip-rule","nonzero"),this.pendingClip=null,Bt.append(Gt),this.defs.append(Bt),Rt.activeClipUrl){Rt.clipGroup=null;for(const en of this.extraStack)en.clipGroup=null;Bt.setAttributeNS(null,"clip-path",Rt.activeClipUrl)}Rt.activeClipUrl=`url(#${Kt})`,this.tgrp=null}clip(Rt){this.pendingClip=Rt}closePath(){const Rt=this.current;if(Rt.path){const Kt=`${Rt.path.getAttributeNS(null,"d")}Z`;Rt.path.setAttributeNS(null,"d",Kt)}}setLeading(Rt){this.current.leading=-Rt}setTextRise(Rt){this.current.textRise=Rt}setTextRenderingMode(Rt){this.current.textRenderingMode=Rt}setHScale(Rt){this.current.textHScale=Rt/100}setRenderingIntent(Rt){}setFlatness(Rt){}setGState(Rt){for(const[Kt,Bt]of Rt)switch(Kt){case"LW":this.setLineWidth(Bt);break;case"LC":this.setLineCap(Bt);break;case"LJ":this.setLineJoin(Bt);break;case"ML":this.setMiterLimit(Bt);break;case"D":this.setDash(Bt[0],Bt[1]);break;case"RI":this.setRenderingIntent(Bt);break;case"FL":this.setFlatness(Bt);break;case"Font":this.setFont(Bt);break;case"CA":this.setStrokeAlpha(Bt);break;case"ca":this.setFillAlpha(Bt);break;default:(0,St.warn)(`Unimplemented graphic state operator ${Kt}`);break}}fill(){const Rt=this.current;Rt.element&&(Rt.element.setAttributeNS(null,"fill",Rt.fillColor),Rt.element.setAttributeNS(null,"fill-opacity",Rt.fillAlpha),this.endPath())}stroke(){const Rt=this.current;Rt.element&&(this._setStrokeAttributes(Rt.element),Rt.element.setAttributeNS(null,"fill","none"),this.endPath())}_setStrokeAttributes(Rt,Kt=1){const Bt=this.current;let Gt=Bt.dashArray;Kt!==1&&Gt.length>0&&(Gt=Gt.map(function(en){return Kt*en})),Rt.setAttributeNS(null,"stroke",Bt.strokeColor),Rt.setAttributeNS(null,"stroke-opacity",Bt.strokeAlpha),Rt.setAttributeNS(null,"stroke-miterlimit",Ft(Bt.miterLimit)),Rt.setAttributeNS(null,"stroke-linecap",Bt.lineCap),Rt.setAttributeNS(null,"stroke-linejoin",Bt.lineJoin),Rt.setAttributeNS(null,"stroke-width",Ft(Kt*Bt.lineWidth)+"px"),Rt.setAttributeNS(null,"stroke-dasharray",Gt.map(Ft).join(" ")),Rt.setAttributeNS(null,"stroke-dashoffset",Ft(Kt*Bt.dashPhase)+"px")}eoFill(){var Rt;(Rt=this.current.element)==null||Rt.setAttributeNS(null,"fill-rule","evenodd"),this.fill()}fillStroke(){this.stroke(),this.fill()}eoFillStroke(){var Rt;(Rt=this.current.element)==null||Rt.setAttributeNS(null,"fill-rule","evenodd"),this.fillStroke()}closeStroke(){this.closePath(),this.stroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.closePath(),this.eoFillStroke()}paintSolidColorImageMask(){const Rt=this.svgFactory.createElement("svg:rect");Rt.setAttributeNS(null,"x","0"),Rt.setAttributeNS(null,"y","0"),Rt.setAttributeNS(null,"width","1px"),Rt.setAttributeNS(null,"height","1px"),Rt.setAttributeNS(null,"fill",this.current.fillColor),this._ensureTransformGroup().append(Rt)}paintImageXObject(Rt){const Kt=this.getObject(Rt);if(!Kt){(0,St.warn)(`Dependent image with object ID ${Rt} is not ready yet`);return}this.paintInlineImageXObject(Kt)}paintInlineImageXObject(Rt,Kt){const Bt=Rt.width,Gt=Rt.height,en=_t(Rt,this.forceDataSchema,!!Kt),hn=this.svgFactory.createElement("svg:rect");hn.setAttributeNS(null,"x","0"),hn.setAttributeNS(null,"y","0"),hn.setAttributeNS(null,"width",Ft(Bt)),hn.setAttributeNS(null,"height",Ft(Gt)),this.current.element=hn,this.clip("nonzero");const tn=this.svgFactory.createElement("svg:image");tn.setAttributeNS(Et,"xlink:href",en),tn.setAttributeNS(null,"x","0"),tn.setAttributeNS(null,"y",Ft(-Gt)),tn.setAttributeNS(null,"width",Ft(Bt)+"px"),tn.setAttributeNS(null,"height",Ft(Gt)+"px"),tn.setAttributeNS(null,"transform",`scale(${Ft(1/Bt)} ${Ft(-1/Gt)})`),Kt?Kt.append(tn):this._ensureTransformGroup().append(tn)}paintImageMaskXObject(Rt){const Kt=this.getObject(Rt.data,Rt);if(Kt.bitmap){(0,St.warn)("paintImageMaskXObject: ImageBitmap support is not implemented, ensure that the `isOffscreenCanvasSupported` API parameter is disabled.");return}const Bt=this.current,Gt=Kt.width,en=Kt.height,hn=Bt.fillColor;Bt.maskId=`mask${Lt++}`;const tn=this.svgFactory.createElement("svg:mask");tn.setAttributeNS(null,"id",Bt.maskId);const gn=this.svgFactory.createElement("svg:rect");gn.setAttributeNS(null,"x","0"),gn.setAttributeNS(null,"y","0"),gn.setAttributeNS(null,"width",Ft(Gt)),gn.setAttributeNS(null,"height",Ft(en)),gn.setAttributeNS(null,"fill",hn),gn.setAttributeNS(null,"mask",`url(#${Bt.maskId})`),this.defs.append(tn),this._ensureTransformGroup().append(gn),this.paintInlineImageXObject(Kt,tn)}paintFormXObjectBegin(Rt,Kt){if(Array.isArray(Rt)&&Rt.length===6&&this.transform(Rt[0],Rt[1],Rt[2],Rt[3],Rt[4],Rt[5]),Kt){const Bt=Kt[2]-Kt[0],Gt=Kt[3]-Kt[1],en=this.svgFactory.createElement("svg:rect");en.setAttributeNS(null,"x",Kt[0]),en.setAttributeNS(null,"y",Kt[1]),en.setAttributeNS(null,"width",Ft(Bt)),en.setAttributeNS(null,"height",Ft(Gt)),this.current.element=en,this.clip("nonzero"),this.endPath()}}paintFormXObjectEnd(){}_initialize(Rt){const Kt=this.svgFactory.create(Rt.width,Rt.height),Bt=this.svgFactory.createElement("svg:defs");Kt.append(Bt),this.defs=Bt;const Gt=this.svgFactory.createElement("svg:g");return Gt.setAttributeNS(null,"transform",Vt(Rt.transform)),Kt.append(Gt),this.svg=Gt,Kt}_ensureClipGroup(){if(!this.current.clipGroup){const Rt=this.svgFactory.createElement("svg:g");Rt.setAttributeNS(null,"clip-path",this.current.activeClipUrl),this.svg.append(Rt),this.current.clipGroup=Rt}return this.current.clipGroup}_ensureTransformGroup(){return this.tgrp||(this.tgrp=this.svgFactory.createElement("svg:g"),this.tgrp.setAttributeNS(null,"transform",Vt(this.transformMatrix)),this.current.activeClipUrl?this._ensureClipGroup().append(this.tgrp):this.svg.append(this.tgrp)),this.tgrp}}$.SVGGraphics=Ot},(_e,$)=>{Object.defineProperty($,"__esModule",{value:!0}),$.XfaText=void 0;class xt{static textContent(St){const At=[],Ct={items:At,styles:Object.create(null)};function Et(Pt){var _t;if(!Pt)return;let wt=null;const kt=Pt.name;if(kt==="#text")wt=Pt.value;else if(xt.shouldBuildText(kt))(_t=Pt==null?void 0:Pt.attributes)!=null&&_t.textContent?wt=Pt.attributes.textContent:Pt.value&&(wt=Pt.value);else return;if(wt!==null&&At.push({str:wt}),!!Pt.children)for(const ht of Pt.children)Et(ht)}return Et(St),Ct}static shouldBuildText(St){return!(St==="textarea"||St==="input"||St==="option"||St==="select")}}$.XfaText=xt},(_e,$,xt)=>{Object.defineProperty($,"__esModule",{value:!0}),$.TextLayerRenderTask=void 0,$.renderTextLayer=Vt,$.updateTextLayer=qt;var bt=xt(1),St=xt(6);const At=1e5,Ct=30,Et=.8,Pt=new Map;function wt(Lt,$t){let Ot;if($t&&bt.FeatureTest.isOffscreenCanvasSupported)Ot=new OffscreenCanvas(Lt,Lt).getContext("2d",{alpha:!1});else{const jt=document.createElement("canvas");jt.width=jt.height=Lt,Ot=jt.getContext("2d",{alpha:!1})}return Ot}function kt(Lt,$t){const Ot=Pt.get(Lt);if(Ot)return Ot;const jt=wt(Ct,$t);jt.font=`${Ct}px ${Lt}`;const Rt=jt.measureText("");let Kt=Rt.fontBoundingBoxAscent,Bt=Math.abs(Rt.fontBoundingBoxDescent);if(Kt){const en=Kt/(Kt+Bt);return Pt.set(Lt,en),jt.canvas.width=jt.canvas.height=0,en}jt.strokeStyle="red",jt.clearRect(0,0,Ct,Ct),jt.strokeText("g",0,0);let Gt=jt.getImageData(0,0,Ct,Ct).data;Bt=0;for(let en=Gt.length-1-3;en>=0;en-=4)if(Gt[en]>0){Bt=Math.ceil(en/4/Ct);break}jt.clearRect(0,0,Ct,Ct),jt.strokeText("A",0,Ct),Gt=jt.getImageData(0,0,Ct,Ct).data,Kt=0;for(let en=0,hn=Gt.length;en<hn;en+=4)if(Gt[en]>0){Kt=Ct-Math.floor(en/4/Ct);break}if(jt.canvas.width=jt.canvas.height=0,Kt){const en=Kt/(Kt+Bt);return Pt.set(Lt,en),en}return Pt.set(Lt,Et),Et}function _t(Lt,$t,Ot){const jt=document.createElement("span"),Rt={angle:0,canvasWidth:0,hasText:$t.str!=="",hasEOL:$t.hasEOL,fontSize:0};Lt._textDivs.push(jt);const Kt=bt.Util.transform(Lt._transform,$t.transform);let Bt=Math.atan2(Kt[1],Kt[0]);const Gt=Ot[$t.fontName];Gt.vertical&&(Bt+=Math.PI/2);const en=Math.hypot(Kt[2],Kt[3]),hn=en*kt(Gt.fontFamily,Lt._isOffscreenCanvasSupported);let tn,gn;Bt===0?(tn=Kt[4],gn=Kt[5]-hn):(tn=Kt[4]+hn*Math.sin(Bt),gn=Kt[5]-hn*Math.cos(Bt));const nn="calc(var(--scale-factor)*",bn=jt.style;Lt._container===Lt._rootContainer?(bn.left=`${(100*tn/Lt._pageWidth).toFixed(2)}%`,bn.top=`${(100*gn/Lt._pageHeight).toFixed(2)}%`):(bn.left=`${nn}${tn.toFixed(2)}px)`,bn.top=`${nn}${gn.toFixed(2)}px)`),bn.fontSize=`${nn}${en.toFixed(2)}px)`,bn.fontFamily=Gt.fontFamily,Rt.fontSize=en,jt.setAttribute("role","presentation"),jt.textContent=$t.str,jt.dir=$t.dir,Lt._fontInspectorEnabled&&(jt.dataset.fontName=$t.fontName),Bt!==0&&(Rt.angle=Bt*(180/Math.PI));let Wt=!1;if($t.str.length>1)Wt=!0;else if($t.str!==" "&&$t.transform[0]!==$t.transform[3]){const Yt=Math.abs($t.transform[0]),dn=Math.abs($t.transform[3]);Yt!==dn&&Math.max(Yt,dn)/Math.min(Yt,dn)>1.5&&(Wt=!0)}Wt&&(Rt.canvasWidth=Gt.vertical?$t.height:$t.width),Lt._textDivProperties.set(jt,Rt),Lt._isReadableStream&&Lt._layoutText(jt)}function ht(Lt){const{div:$t,scale:Ot,properties:jt,ctx:Rt,prevFontSize:Kt,prevFontFamily:Bt}=Lt,{style:Gt}=$t;let en="";if(jt.canvasWidth!==0&&jt.hasText){const{fontFamily:hn}=Gt,{canvasWidth:tn,fontSize:gn}=jt;(Kt!==gn||Bt!==hn)&&(Rt.font=`${gn*Ot}px ${hn}`,Lt.prevFontSize=gn,Lt.prevFontFamily=hn);const{width:nn}=Rt.measureText($t.textContent);nn>0&&(en=`scaleX(${tn*Ot/nn})`)}jt.angle!==0&&(en=`rotate(${jt.angle}deg) ${en}`),en.length>0&&(Gt.transform=en)}function vt(Lt){if(Lt._canceled)return;const $t=Lt._textDivs,Ot=Lt._capability;if($t.length>At){Ot.resolve();return}if(!Lt._isReadableStream)for(const Rt of $t)Lt._layoutText(Rt);Ot.resolve()}class Ft{constructor({textContentSource:$t,container:Ot,viewport:jt,textDivs:Rt,textDivProperties:Kt,textContentItemsStr:Bt,isOffscreenCanvasSupported:Gt}){var nn;this._textContentSource=$t,this._isReadableStream=$t instanceof ReadableStream,this._container=this._rootContainer=Ot,this._textDivs=Rt||[],this._textContentItemsStr=Bt||[],this._isOffscreenCanvasSupported=Gt,this._fontInspectorEnabled=!!((nn=globalThis.FontInspector)!=null&&nn.enabled),this._reader=null,this._textDivProperties=Kt||new WeakMap,this._canceled=!1,this._capability=new bt.PromiseCapability,this._layoutTextParams={prevFontSize:null,prevFontFamily:null,div:null,scale:jt.scale*(globalThis.devicePixelRatio||1),properties:null,ctx:wt(0,Gt)};const{pageWidth:en,pageHeight:hn,pageX:tn,pageY:gn}=jt.rawDims;this._transform=[1,0,0,-1,-tn,gn+hn],this._pageWidth=en,this._pageHeight=hn,(0,St.setLayerDimensions)(Ot,jt),this._capability.promise.finally(()=>{this._layoutTextParams=null}).catch(()=>{})}get promise(){return this._capability.promise}cancel(){this._canceled=!0,this._reader&&(this._reader.cancel(new bt.AbortException("TextLayer task cancelled.")).catch(()=>{}),this._reader=null),this._capability.reject(new bt.AbortException("TextLayer task cancelled."))}_processItems($t,Ot){for(const jt of $t){if(jt.str===void 0){if(jt.type==="beginMarkedContentProps"||jt.type==="beginMarkedContent"){const Rt=this._container;this._container=document.createElement("span"),this._container.classList.add("markedContent"),jt.id!==null&&this._container.setAttribute("id",`${jt.id}`),Rt.append(this._container)}else jt.type==="endMarkedContent"&&(this._container=this._container.parentNode);continue}this._textContentItemsStr.push(jt.str),_t(this,jt,Ot)}}_layoutText($t){const Ot=this._layoutTextParams.properties=this._textDivProperties.get($t);if(this._layoutTextParams.div=$t,ht(this._layoutTextParams),Ot.hasText&&this._container.append($t),Ot.hasEOL){const jt=document.createElement("br");jt.setAttribute("role","presentation"),this._container.append(jt)}}_render(){const $t=new bt.PromiseCapability;let Ot=Object.create(null);if(this._isReadableStream){const jt=()=>{this._reader.read().then(({value:Rt,done:Kt})=>{if(Kt){$t.resolve();return}Object.assign(Ot,Rt.styles),this._processItems(Rt.items,Ot),jt()},$t.reject)};this._reader=this._textContentSource.getReader(),jt()}else if(this._textContentSource){const{items:jt,styles:Rt}=this._textContentSource;this._processItems(jt,Rt),$t.resolve()}else throw new Error('No "textContentSource" parameter specified.');$t.promise.then(()=>{Ot=null,vt(this)},this._capability.reject)}}$.TextLayerRenderTask=Ft;function Vt(Lt){!Lt.textContentSource&&(Lt.textContent||Lt.textContentStream)&&((0,St.deprecated)("The TextLayerRender `textContent`/`textContentStream` parameters will be removed in the future, please use `textContentSource` instead."),Lt.textContentSource=Lt.textContent||Lt.textContentStream);const{container:$t,viewport:Ot}=Lt,jt=getComputedStyle($t),Rt=jt.getPropertyValue("visibility"),Kt=parseFloat(jt.getPropertyValue("--scale-factor"));Rt==="visible"&&(!Kt||Math.abs(Kt-Ot.scale)>1e-5)&&console.error("The `--scale-factor` CSS-variable must be set, to the same value as `viewport.scale`, either on the `container`-element itself or higher up in the DOM.");const Bt=new Ft(Lt);return Bt._render(),Bt}function qt({container:Lt,viewport:$t,textDivs:Ot,textDivProperties:jt,isOffscreenCanvasSupported:Rt,mustRotate:Kt=!0,mustRescale:Bt=!0}){if(Kt&&(0,St.setLayerDimensions)(Lt,{rotation:$t.rotation}),Bt){const Gt=wt(0,Rt),hn={prevFontSize:null,prevFontFamily:null,div:null,scale:$t.scale*(globalThis.devicePixelRatio||1),properties:null,ctx:Gt};for(const tn of Ot)hn.properties=jt.get(tn),hn.div=tn,ht(hn)}}},(_e,$,xt)=>{var kt,_t,ht,vt,Ft,Vt,qt,Lt,$t,Ot,jt,R3,F2,F3,_3;Object.defineProperty($,"__esModule",{value:!0}),$.AnnotationEditorLayer=void 0;var bt=xt(1),St=xt(4),At=xt(28),Ct=xt(33),Et=xt(6),Pt=xt(34);const en=class en{constructor({uiManager:tn,pageIndex:gn,div:nn,accessibilityManager:bn,annotationLayer:Wt,viewport:Yt,l10n:dn}){Nn(this,jt);Nn(this,kt);Nn(this,_t,!1);Nn(this,ht,null);Nn(this,vt,this.pointerup.bind(this));Nn(this,Ft,this.pointerdown.bind(this));Nn(this,Vt,new Map);Nn(this,qt,!1);Nn(this,Lt,!1);Nn(this,$t,!1);Nn(this,Ot);const Ut=[At.FreeTextEditor,Ct.InkEditor,Pt.StampEditor];if(!en._initialized){en._initialized=!0;for(const Mt of Ut)Mt.initialize(dn)}tn.registerEditorTypes(Ut),$n(this,Ot,tn),this.pageIndex=gn,this.div=nn,$n(this,kt,bn),$n(this,ht,Wt),this.viewport=Yt,Dt(this,Ot).addLayer(this)}get isEmpty(){return Dt(this,Vt).size===0}updateToolbar(tn){Dt(this,Ot).updateToolbar(tn)}updateMode(tn=Dt(this,Ot).getMode()){On(this,jt,_3).call(this),tn===bt.AnnotationEditorType.INK?(this.addInkEditorIfNeeded(!1),this.disableClick()):this.enableClick(),tn!==bt.AnnotationEditorType.NONE&&(this.div.classList.toggle("freeTextEditing",tn===bt.AnnotationEditorType.FREETEXT),this.div.classList.toggle("inkEditing",tn===bt.AnnotationEditorType.INK),this.div.classList.toggle("stampEditing",tn===bt.AnnotationEditorType.STAMP),this.div.hidden=!1)}addInkEditorIfNeeded(tn){if(!tn&&Dt(this,Ot).getMode()!==bt.AnnotationEditorType.INK)return;if(!tn){for(const nn of Dt(this,Vt).values())if(nn.isEmpty()){nn.setInBackground();return}}On(this,jt,F2).call(this,{offsetX:0,offsetY:0},!1).setInBackground()}setEditingState(tn){Dt(this,Ot).setEditingState(tn)}addCommands(tn){Dt(this,Ot).addCommands(tn)}enable(){this.div.style.pointerEvents="auto";const tn=new Set;for(const nn of Dt(this,Vt).values())nn.enableEditing(),nn.annotationElementId&&tn.add(nn.annotationElementId);if(!Dt(this,ht))return;const gn=Dt(this,ht).getEditableAnnotations();for(const nn of gn){if(nn.hide(),Dt(this,Ot).isDeletedAnnotationElement(nn.data.id)||tn.has(nn.data.id))continue;const bn=this.deserialize(nn);bn&&(this.addOrRebuild(bn),bn.enableEditing())}}disable(){var gn;$n(this,$t,!0),this.div.style.pointerEvents="none";const tn=new Set;for(const nn of Dt(this,Vt).values()){if(nn.disableEditing(),!nn.annotationElementId||nn.serialize()!==null){tn.add(nn.annotationElementId);continue}(gn=this.getEditableAnnotation(nn.annotationElementId))==null||gn.show(),nn.remove()}if(Dt(this,ht)){const nn=Dt(this,ht).getEditableAnnotations();for(const bn of nn){const{id:Wt}=bn.data;tn.has(Wt)||Dt(this,Ot).isDeletedAnnotationElement(Wt)||bn.show()}}On(this,jt,_3).call(this),this.isEmpty&&(this.div.hidden=!0),$n(this,$t,!1)}getEditableAnnotation(tn){var gn;return((gn=Dt(this,ht))==null?void 0:gn.getEditableAnnotation(tn))||null}setActiveEditor(tn){Dt(this,Ot).getActive()!==tn&&Dt(this,Ot).setActiveEditor(tn)}enableClick(){this.div.addEventListener("pointerdown",Dt(this,Ft)),this.div.addEventListener("pointerup",Dt(this,vt))}disableClick(){this.div.removeEventListener("pointerdown",Dt(this,Ft)),this.div.removeEventListener("pointerup",Dt(this,vt))}attach(tn){Dt(this,Vt).set(tn.id,tn);const{annotationElementId:gn}=tn;gn&&Dt(this,Ot).isDeletedAnnotationElement(gn)&&Dt(this,Ot).removeDeletedAnnotationElement(tn)}detach(tn){var gn;Dt(this,Vt).delete(tn.id),(gn=Dt(this,kt))==null||gn.removePointerInTextLayer(tn.contentDiv),!Dt(this,$t)&&tn.annotationElementId&&Dt(this,Ot).addDeletedAnnotationElement(tn)}remove(tn){this.detach(tn),Dt(this,Ot).removeEditor(tn),tn.div.contains(document.activeElement)&&setTimeout(()=>{Dt(this,Ot).focusMainContainer()},0),tn.div.remove(),tn.isAttachedToDOM=!1,Dt(this,Lt)||this.addInkEditorIfNeeded(!1)}changeParent(tn){var gn;tn.parent!==this&&(tn.annotationElementId&&(Dt(this,Ot).addDeletedAnnotationElement(tn.annotationElementId),St.AnnotationEditor.deleteAnnotationElement(tn),tn.annotationElementId=null),this.attach(tn),(gn=tn.parent)==null||gn.detach(tn),tn.setParent(this),tn.div&&tn.isAttachedToDOM&&(tn.div.remove(),this.div.append(tn.div)))}add(tn){if(this.changeParent(tn),Dt(this,Ot).addEditor(tn),this.attach(tn),!tn.isAttachedToDOM){const gn=tn.render();this.div.append(gn),tn.isAttachedToDOM=!0}tn.fixAndSetPosition(),tn.onceAdded(),Dt(this,Ot).addToAnnotationStorage(tn)}moveEditorInDOM(tn){var nn;if(!tn.isAttachedToDOM)return;const{activeElement:gn}=document;tn.div.contains(gn)&&(tn._focusEventsAllowed=!1,setTimeout(()=>{tn.div.contains(document.activeElement)?tn._focusEventsAllowed=!0:(tn.div.addEventListener("focusin",()=>{tn._focusEventsAllowed=!0},{once:!0}),gn.focus())},0)),tn._structTreeParentId=(nn=Dt(this,kt))==null?void 0:nn.moveElementInDOM(this.div,tn.div,tn.contentDiv,!0)}addOrRebuild(tn){tn.needsToBeRebuilt()?tn.rebuild():this.add(tn)}addUndoableEditor(tn){const gn=()=>tn._uiManager.rebuild(tn),nn=()=>{tn.remove()};this.addCommands({cmd:gn,undo:nn,mustExec:!1})}getNextId(){return Dt(this,Ot).getId()}pasteEditor(tn,gn){Dt(this,Ot).updateToolbar(tn),Dt(this,Ot).updateMode(tn);const{offsetX:nn,offsetY:bn}=On(this,jt,F3).call(this),Wt=this.getNextId(),Yt=On(this,jt,R3).call(this,{parent:this,id:Wt,x:nn,y:bn,uiManager:Dt(this,Ot),isCentered:!0,...gn});Yt&&this.add(Yt)}deserialize(tn){switch(tn.annotationType??tn.annotationEditorType){case bt.AnnotationEditorType.FREETEXT:return At.FreeTextEditor.deserialize(tn,this,Dt(this,Ot));case bt.AnnotationEditorType.INK:return Ct.InkEditor.deserialize(tn,this,Dt(this,Ot));case bt.AnnotationEditorType.STAMP:return Pt.StampEditor.deserialize(tn,this,Dt(this,Ot))}return null}addNewEditor(){On(this,jt,F2).call(this,On(this,jt,F3).call(this),!0)}setSelected(tn){Dt(this,Ot).setSelected(tn)}toggleSelected(tn){Dt(this,Ot).toggleSelected(tn)}isSelected(tn){return Dt(this,Ot).isSelected(tn)}unselect(tn){Dt(this,Ot).unselect(tn)}pointerup(tn){const{isMac:gn}=bt.FeatureTest.platform;if(!(tn.button!==0||tn.ctrlKey&&gn)&&tn.target===this.div&&Dt(this,qt)){if($n(this,qt,!1),!Dt(this,_t)){$n(this,_t,!0);return}if(Dt(this,Ot).getMode()===bt.AnnotationEditorType.STAMP){Dt(this,Ot).unselectAll();return}On(this,jt,F2).call(this,tn,!1)}}pointerdown(tn){if(Dt(this,qt)){$n(this,qt,!1);return}const{isMac:gn}=bt.FeatureTest.platform;if(tn.button!==0||tn.ctrlKey&&gn||tn.target!==this.div)return;$n(this,qt,!0);const nn=Dt(this,Ot).getActive();$n(this,_t,!nn||nn.isEmpty())}findNewParent(tn,gn,nn){const bn=Dt(this,Ot).findParent(gn,nn);return bn===null||bn===this?!1:(bn.changeParent(tn),!0)}destroy(){var tn,gn;((tn=Dt(this,Ot).getActive())==null?void 0:tn.parent)===this&&(Dt(this,Ot).commitOrRemove(),Dt(this,Ot).setActiveEditor(null));for(const nn of Dt(this,Vt).values())(gn=Dt(this,kt))==null||gn.removePointerInTextLayer(nn.contentDiv),nn.setParent(null),nn.isAttachedToDOM=!1,nn.div.remove();this.div=null,Dt(this,Vt).clear(),Dt(this,Ot).removeLayer(this)}render({viewport:tn}){this.viewport=tn,(0,Et.setLayerDimensions)(this.div,tn);for(const gn of Dt(this,Ot).getEditors(this.pageIndex))this.add(gn);this.updateMode()}update({viewport:tn}){Dt(this,Ot).commitOrRemove(),this.viewport=tn,(0,Et.setLayerDimensions)(this.div,{rotation:tn.rotation}),this.updateMode()}get pageDimensions(){const{pageWidth:tn,pageHeight:gn}=this.viewport.rawDims;return[tn,gn]}};kt=new WeakMap,_t=new WeakMap,ht=new WeakMap,vt=new WeakMap,Ft=new WeakMap,Vt=new WeakMap,qt=new WeakMap,Lt=new WeakMap,$t=new WeakMap,Ot=new WeakMap,jt=new WeakSet,R3=function(tn){switch(Dt(this,Ot).getMode()){case bt.AnnotationEditorType.FREETEXT:return new At.FreeTextEditor(tn);case bt.AnnotationEditorType.INK:return new Ct.InkEditor(tn);case bt.AnnotationEditorType.STAMP:return new Pt.StampEditor(tn)}return null},F2=function(tn,gn){const nn=this.getNextId(),bn=On(this,jt,R3).call(this,{parent:this,id:nn,x:tn.offsetX,y:tn.offsetY,uiManager:Dt(this,Ot),isCentered:gn});return bn&&this.add(bn),bn},F3=function(){const{x:tn,y:gn,width:nn,height:bn}=this.div.getBoundingClientRect(),Wt=Math.max(0,tn),Yt=Math.max(0,gn),dn=Math.min(window.innerWidth,tn+nn),Ut=Math.min(window.innerHeight,gn+bn),Mt=(Wt+dn)/2-tn,Ht=(Yt+Ut)/2-gn,[sn,zt]=this.viewport.rotation%180===0?[Mt,Ht]:[Ht,Mt];return{offsetX:sn,offsetY:zt}},_3=function(){$n(this,Lt,!0);for(const tn of Dt(this,Vt).values())tn.isEmpty()&&tn.remove();$n(this,Lt,!1)},Us(en,"_initialized",!1);let wt=en;$.AnnotationEditorLayer=wt},(_e,$,xt)=>{var Pt,wt,kt,_t,ht,vt,Ft,Vt,qt,Lt,Xv,Wv,Gv,dm,M3,qv,I3;Object.defineProperty($,"__esModule",{value:!0}),$.FreeTextEditor=void 0;var bt=xt(1),St=xt(5),At=xt(4),Ct=xt(29);const en=class en extends At.AnnotationEditor{constructor(gn){super({...gn,name:"freeTextEditor"});Nn(this,Lt);Nn(this,Pt,this.editorDivBlur.bind(this));Nn(this,wt,this.editorDivFocus.bind(this));Nn(this,kt,this.editorDivInput.bind(this));Nn(this,_t,this.editorDivKeydown.bind(this));Nn(this,ht);Nn(this,vt,"");Nn(this,Ft,`${this.id}-editor`);Nn(this,Vt);Nn(this,qt,null);$n(this,ht,gn.color||en._defaultColor||At.AnnotationEditor._defaultLineColor),$n(this,Vt,gn.fontSize||en._defaultFontSize)}static get _keyboardManager(){const gn=en.prototype,nn=Yt=>Yt.isEmpty(),bn=St.AnnotationEditorUIManager.TRANSLATE_SMALL,Wt=St.AnnotationEditorUIManager.TRANSLATE_BIG;return(0,bt.shadow)(this,"_keyboardManager",new St.KeyboardManager([[["ctrl+s","mac+meta+s","ctrl+p","mac+meta+p"],gn.commitOrRemove,{bubbles:!0}],[["ctrl+Enter","mac+meta+Enter","Escape","mac+Escape"],gn.commitOrRemove],[["ArrowLeft","mac+ArrowLeft"],gn._translateEmpty,{args:[-bn,0],checker:nn}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],gn._translateEmpty,{args:[-Wt,0],checker:nn}],[["ArrowRight","mac+ArrowRight"],gn._translateEmpty,{args:[bn,0],checker:nn}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],gn._translateEmpty,{args:[Wt,0],checker:nn}],[["ArrowUp","mac+ArrowUp"],gn._translateEmpty,{args:[0,-bn],checker:nn}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],gn._translateEmpty,{args:[0,-Wt],checker:nn}],[["ArrowDown","mac+ArrowDown"],gn._translateEmpty,{args:[0,bn],checker:nn}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],gn._translateEmpty,{args:[0,Wt],checker:nn}]]))}static initialize(gn){At.AnnotationEditor.initialize(gn,{strings:["free_text2_default_content","editor_free_text2_aria_label"]});const nn=getComputedStyle(document.documentElement);this._internalPadding=parseFloat(nn.getPropertyValue("--freetext-padding"))}static updateDefaultParams(gn,nn){switch(gn){case bt.AnnotationEditorParamsType.FREETEXT_SIZE:en._defaultFontSize=nn;break;case bt.AnnotationEditorParamsType.FREETEXT_COLOR:en._defaultColor=nn;break}}updateParams(gn,nn){switch(gn){case bt.AnnotationEditorParamsType.FREETEXT_SIZE:On(this,Lt,Xv).call(this,nn);break;case bt.AnnotationEditorParamsType.FREETEXT_COLOR:On(this,Lt,Wv).call(this,nn);break}}static get defaultPropertiesToUpdate(){return[[bt.AnnotationEditorParamsType.FREETEXT_SIZE,en._defaultFontSize],[bt.AnnotationEditorParamsType.FREETEXT_COLOR,en._defaultColor||At.AnnotationEditor._defaultLineColor]]}get propertiesToUpdate(){return[[bt.AnnotationEditorParamsType.FREETEXT_SIZE,Dt(this,Vt)],[bt.AnnotationEditorParamsType.FREETEXT_COLOR,Dt(this,ht)]]}_translateEmpty(gn,nn){this._uiManager.translateSelectedEditors(gn,nn,!0)}getInitialTranslation(){const gn=this.parentScale;return[-en._internalPadding*gn,-(en._internalPadding+Dt(this,Vt))*gn]}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.isAttachedToDOM||this.parent.add(this)))}enableEditMode(){this.isInEditMode()||(this.parent.setEditingState(!1),this.parent.updateToolbar(bt.AnnotationEditorType.FREETEXT),super.enableEditMode(),this.overlayDiv.classList.remove("enabled"),this.editorDiv.contentEditable=!0,this._isDraggable=!1,this.div.removeAttribute("aria-activedescendant"),this.editorDiv.addEventListener("keydown",Dt(this,_t)),this.editorDiv.addEventListener("focus",Dt(this,wt)),this.editorDiv.addEventListener("blur",Dt(this,Pt)),this.editorDiv.addEventListener("input",Dt(this,kt)))}disableEditMode(){this.isInEditMode()&&(this.parent.setEditingState(!0),super.disableEditMode(),this.overlayDiv.classList.add("enabled"),this.editorDiv.contentEditable=!1,this.div.setAttribute("aria-activedescendant",Dt(this,Ft)),this._isDraggable=!0,this.editorDiv.removeEventListener("keydown",Dt(this,_t)),this.editorDiv.removeEventListener("focus",Dt(this,wt)),this.editorDiv.removeEventListener("blur",Dt(this,Pt)),this.editorDiv.removeEventListener("input",Dt(this,kt)),this.div.focus({preventScroll:!0}),this.isEditing=!1,this.parent.div.classList.add("freeTextEditing"))}focusin(gn){this._focusEventsAllowed&&(super.focusin(gn),gn.target!==this.editorDiv&&this.editorDiv.focus())}onceAdded(){var gn;if(this.width){On(this,Lt,I3).call(this);return}this.enableEditMode(),this.editorDiv.focus(),(gn=this._initialOptions)!=null&&gn.isCentered&&this.center(),this._initialOptions=null}isEmpty(){return!this.editorDiv||this.editorDiv.innerText.trim()===""}remove(){this.isEditing=!1,this.parent&&(this.parent.setEditingState(!0),this.parent.div.classList.add("freeTextEditing")),super.remove()}commit(){if(!this.isInEditMode())return;super.commit(),this.disableEditMode();const gn=Dt(this,vt),nn=$n(this,vt,On(this,Lt,Gv).call(this).trimEnd());if(gn===nn)return;const bn=Wt=>{if($n(this,vt,Wt),!Wt){this.remove();return}On(this,Lt,M3).call(this),this._uiManager.rebuild(this),On(this,Lt,dm).call(this)};this.addCommands({cmd:()=>{bn(nn)},undo:()=>{bn(gn)},mustExec:!1}),On(this,Lt,dm).call(this)}shouldGetKeyboardEvents(){return this.isInEditMode()}enterInEditMode(){this.enableEditMode(),this.editorDiv.focus()}dblclick(gn){this.enterInEditMode()}keydown(gn){gn.target===this.div&&gn.key==="Enter"&&(this.enterInEditMode(),gn.preventDefault())}editorDivKeydown(gn){en._keyboardManager.exec(this,gn)}editorDivFocus(gn){this.isEditing=!0}editorDivBlur(gn){this.isEditing=!1}editorDivInput(gn){this.parent.div.classList.toggle("freeTextEditing",this.isEmpty())}disableEditing(){this.editorDiv.setAttribute("role","comment"),this.editorDiv.removeAttribute("aria-multiline")}enableEditing(){this.editorDiv.setAttribute("role","textbox"),this.editorDiv.setAttribute("aria-multiline",!0)}render(){if(this.div)return this.div;let gn,nn;this.width&&(gn=this.x,nn=this.y),super.render(),this.editorDiv=document.createElement("div"),this.editorDiv.className="internal",this.editorDiv.setAttribute("id",Dt(this,Ft)),this.enableEditing(),At.AnnotationEditor._l10nPromise.get("editor_free_text2_aria_label").then(Wt=>{var Yt;return(Yt=this.editorDiv)==null?void 0:Yt.setAttribute("aria-label",Wt)}),At.AnnotationEditor._l10nPromise.get("free_text2_default_content").then(Wt=>{var Yt;return(Yt=this.editorDiv)==null?void 0:Yt.setAttribute("default-content",Wt)}),this.editorDiv.contentEditable=!0;const{style:bn}=this.editorDiv;if(bn.fontSize=`calc(${Dt(this,Vt)}px * var(--scale-factor))`,bn.color=Dt(this,ht),this.div.append(this.editorDiv),this.overlayDiv=document.createElement("div"),this.overlayDiv.classList.add("overlay","enabled"),this.div.append(this.overlayDiv),(0,St.bindEvents)(this,this.div,["dblclick","keydown"]),this.width){const[Wt,Yt]=this.parentDimensions;if(this.annotationElementId){const{position:dn}=Dt(this,qt);let[Ut,Mt]=this.getInitialTranslation();[Ut,Mt]=this.pageTranslationToScreen(Ut,Mt);const[Ht,sn]=this.pageDimensions,[zt,Xt]=this.pageTranslation;let Qt,ln;switch(this.rotation){case 0:Qt=gn+(dn[0]-zt)/Ht,ln=nn+this.height-(dn[1]-Xt)/sn;break;case 90:Qt=gn+(dn[0]-zt)/Ht,ln=nn-(dn[1]-Xt)/sn,[Ut,Mt]=[Mt,-Ut];break;case 180:Qt=gn-this.width+(dn[0]-zt)/Ht,ln=nn-(dn[1]-Xt)/sn,[Ut,Mt]=[-Ut,-Mt];break;case 270:Qt=gn+(dn[0]-zt-this.height*sn)/Ht,ln=nn+(dn[1]-Xt-this.width*Ht)/sn,[Ut,Mt]=[-Mt,Ut];break}this.setAt(Qt*Wt,ln*Yt,Ut,Mt)}else this.setAt(gn*Wt,nn*Yt,this.width*Wt,this.height*Yt);On(this,Lt,M3).call(this),this._isDraggable=!0,this.editorDiv.contentEditable=!1}else this._isDraggable=!1,this.editorDiv.contentEditable=!0;return this.div}get contentDiv(){return this.editorDiv}static deserialize(gn,nn,bn){let Wt=null;if(gn instanceof Ct.FreeTextAnnotationElement){const{data:{defaultAppearanceData:{fontSize:dn,fontColor:Ut},rect:Mt,rotation:Ht,id:sn},textContent:zt,textPosition:Xt,parent:{page:{pageNumber:Qt}}}=gn;if(!zt||zt.length===0)return null;Wt=gn={annotationType:bt.AnnotationEditorType.FREETEXT,color:Array.from(Ut),fontSize:dn,value:zt.join(`
`),position:Xt,pageIndex:Qt-1,rect:Mt,rotation:Ht,id:sn,deleted:!1}}const Yt=super.deserialize(gn,nn,bn);return $n(Yt,Vt,gn.fontSize),$n(Yt,ht,bt.Util.makeHexColor(...gn.color)),$n(Yt,vt,gn.value),Yt.annotationElementId=gn.id||null,$n(Yt,qt,Wt),Yt}serialize(gn=!1){if(this.isEmpty())return null;if(this.deleted)return{pageIndex:this.pageIndex,id:this.annotationElementId,deleted:!0};const nn=en._internalPadding*this.parentScale,bn=this.getRect(nn,nn),Wt=At.AnnotationEditor._colorManager.convert(this.isAttachedToDOM?getComputedStyle(this.editorDiv).color:Dt(this,ht)),Yt={annotationType:bt.AnnotationEditorType.FREETEXT,color:Wt,fontSize:Dt(this,Vt),value:Dt(this,vt),pageIndex:this.pageIndex,rect:bn,rotation:this.rotation,structTreeParentId:this._structTreeParentId};return gn?Yt:this.annotationElementId&&!On(this,Lt,qv).call(this,Yt)?null:(Yt.id=this.annotationElementId,Yt)}};Pt=new WeakMap,wt=new WeakMap,kt=new WeakMap,_t=new WeakMap,ht=new WeakMap,vt=new WeakMap,Ft=new WeakMap,Vt=new WeakMap,qt=new WeakMap,Lt=new WeakSet,Xv=function(gn){const nn=Wt=>{this.editorDiv.style.fontSize=`calc(${Wt}px * var(--scale-factor))`,this.translate(0,-(Wt-Dt(this,Vt))*this.parentScale),$n(this,Vt,Wt),On(this,Lt,dm).call(this)},bn=Dt(this,Vt);this.addCommands({cmd:()=>{nn(gn)},undo:()=>{nn(bn)},mustExec:!0,type:bt.AnnotationEditorParamsType.FREETEXT_SIZE,overwriteIfSameType:!0,keepUndo:!0})},Wv=function(gn){const nn=Dt(this,ht);this.addCommands({cmd:()=>{$n(this,ht,this.editorDiv.style.color=gn)},undo:()=>{$n(this,ht,this.editorDiv.style.color=nn)},mustExec:!0,type:bt.AnnotationEditorParamsType.FREETEXT_COLOR,overwriteIfSameType:!0,keepUndo:!0})},Gv=function(){const gn=this.editorDiv.getElementsByTagName("div");if(gn.length===0)return this.editorDiv.innerText;const nn=[];for(const bn of gn)nn.push(bn.innerText.replace(/\r\n?|\n/,""));return nn.join(`
`)},dm=function(){const[gn,nn]=this.parentDimensions;let bn;if(this.isAttachedToDOM)bn=this.div.getBoundingClientRect();else{const{currentLayer:Wt,div:Yt}=this,dn=Yt.style.display;Yt.style.display="hidden",Wt.div.append(this.div),bn=Yt.getBoundingClientRect(),Yt.remove(),Yt.style.display=dn}this.rotation%180===this.parentRotation%180?(this.width=bn.width/gn,this.height=bn.height/nn):(this.width=bn.height/gn,this.height=bn.width/nn),this.fixAndSetPosition()},M3=function(){if(this.editorDiv.replaceChildren(),!!Dt(this,vt))for(const gn of Dt(this,vt).split(`
`)){const nn=document.createElement("div");nn.append(gn?document.createTextNode(gn):document.createElement("br")),this.editorDiv.append(nn)}},qv=function(gn){const{value:nn,fontSize:bn,color:Wt,rect:Yt,pageIndex:dn}=Dt(this,qt);return gn.value!==nn||gn.fontSize!==bn||gn.rect.some((Ut,Mt)=>Math.abs(Ut-Yt[Mt])>=1)||gn.color.some((Ut,Mt)=>Ut!==Wt[Mt])||gn.pageIndex!==dn},I3=function(gn=!1){if(!this.annotationElementId)return;if(On(this,Lt,dm).call(this),!gn&&(this.width===0||this.height===0)){setTimeout(()=>On(this,Lt,I3).call(this,!0),0);return}const nn=en._internalPadding*this.parentScale;Dt(this,qt).rect=this.getRect(nn,nn)},Us(en,"_freeTextDefaultContent",""),Us(en,"_internalPadding",0),Us(en,"_defaultColor",null),Us(en,"_defaultFontSize",10),Us(en,"_type","freetext");let Et=en;$.FreeTextEditor=Et},(_e,$,xt)=>{var ln,cn,F0,Kv,xn,wn,En,Fn,In,Tn,An,mn,pn,Jt,un,fn,Sn,kn,Pn,Cn,vn,Rn,Yv,_2,O3,D3,Un,ts,es,Qn,Yn,zn,ns,L3,ds,Bn,Hn,Xn,Zv,N3;Object.defineProperty($,"__esModule",{value:!0}),$.StampAnnotationElement=$.InkAnnotationElement=$.FreeTextAnnotationElement=$.AnnotationLayer=void 0;var bt=xt(1),St=xt(6),At=xt(3),Ct=xt(30),Et=xt(31),Pt=xt(32);const wt=1e3,kt=9,_t=new WeakSet;function ht(xs){return{width:xs[2]-xs[0],height:xs[3]-xs[1]}}class vt{static create(Jn){switch(Jn.data.annotationType){case bt.AnnotationType.LINK:return new Vt(Jn);case bt.AnnotationType.TEXT:return new qt(Jn);case bt.AnnotationType.WIDGET:switch(Jn.data.fieldType){case"Tx":return new $t(Jn);case"Btn":return Jn.data.radioButton?new Rt(Jn):Jn.data.checkBox?new jt(Jn):new Kt(Jn);case"Ch":return new Bt(Jn);case"Sig":return new Ot(Jn)}return new Lt(Jn);case bt.AnnotationType.POPUP:return new Gt(Jn);case bt.AnnotationType.FREETEXT:return new hn(Jn);case bt.AnnotationType.LINE:return new tn(Jn);case bt.AnnotationType.SQUARE:return new gn(Jn);case bt.AnnotationType.CIRCLE:return new nn(Jn);case bt.AnnotationType.POLYLINE:return new bn(Jn);case bt.AnnotationType.CARET:return new Yt(Jn);case bt.AnnotationType.INK:return new dn(Jn);case bt.AnnotationType.POLYGON:return new Wt(Jn);case bt.AnnotationType.HIGHLIGHT:return new Ut(Jn);case bt.AnnotationType.UNDERLINE:return new Mt(Jn);case bt.AnnotationType.SQUIGGLY:return new Ht(Jn);case bt.AnnotationType.STRIKEOUT:return new sn(Jn);case bt.AnnotationType.STAMP:return new zt(Jn);case bt.AnnotationType.FILEATTACHMENT:return new Xt(Jn);default:return new Ft(Jn)}}}const on=class on{constructor(Jn,{isRenderable:Wn=!1,ignoreBorder:Zn=!1,createQuadrilaterals:us=!1}={}){Nn(this,ln,!1);this.isRenderable=Wn,this.data=Jn.data,this.layer=Jn.layer,this.linkService=Jn.linkService,this.downloadManager=Jn.downloadManager,this.imageResourcesPath=Jn.imageResourcesPath,this.renderForms=Jn.renderForms,this.svgFactory=Jn.svgFactory,this.annotationStorage=Jn.annotationStorage,this.enableScripting=Jn.enableScripting,this.hasJSActions=Jn.hasJSActions,this._fieldObjects=Jn.fieldObjects,this.parent=Jn.parent,Wn&&(this.container=this._createContainer(Zn)),us&&this._createQuadrilaterals()}static _hasPopupData({titleObj:Jn,contentsObj:Wn,richText:Zn}){return!!(Jn!=null&&Jn.str||Wn!=null&&Wn.str||Zn!=null&&Zn.str)}get hasPopupData(){return on._hasPopupData(this.data)}_createContainer(Jn){const{data:Wn,parent:{page:Zn,viewport:us}}=this,hs=document.createElement("section");hs.setAttribute("data-annotation-id",Wn.id),this instanceof Lt||(hs.tabIndex=wt),hs.style.zIndex=this.parent.zIndex++,this.data.popupRef&&hs.setAttribute("aria-haspopup","dialog"),Wn.noRotate&&hs.classList.add("norotate");const{pageWidth:os,pageHeight:ps,pageX:ws,pageY:fs}=us.rawDims;if(!Wn.rect||this instanceof Gt){const{rotation:Es}=Wn;return!Wn.hasOwnCanvas&&Es!==0&&this.setRotation(Es,hs),hs}const{width:Ss,height:Ls}=ht(Wn.rect),Fs=bt.Util.normalizeRect([Wn.rect[0],Zn.view[3]-Wn.rect[1]+Zn.view[1],Wn.rect[2],Zn.view[3]-Wn.rect[3]+Zn.view[1]]);if(!Jn&&Wn.borderStyle.width>0){hs.style.borderWidth=`${Wn.borderStyle.width}px`;const Es=Wn.borderStyle.horizontalCornerRadius,Ps=Wn.borderStyle.verticalCornerRadius;if(Es>0||Ps>0){const qs=`calc(${Es}px * var(--scale-factor)) / calc(${Ps}px * var(--scale-factor))`;hs.style.borderRadius=qs}else if(this instanceof Rt){const qs=`calc(${Ss}px * var(--scale-factor)) / calc(${Ls}px * var(--scale-factor))`;hs.style.borderRadius=qs}switch(Wn.borderStyle.style){case bt.AnnotationBorderStyleType.SOLID:hs.style.borderStyle="solid";break;case bt.AnnotationBorderStyleType.DASHED:hs.style.borderStyle="dashed";break;case bt.AnnotationBorderStyleType.BEVELED:(0,bt.warn)("Unimplemented border style: beveled");break;case bt.AnnotationBorderStyleType.INSET:(0,bt.warn)("Unimplemented border style: inset");break;case bt.AnnotationBorderStyleType.UNDERLINE:hs.style.borderBottomStyle="solid";break}const Rs=Wn.borderColor||null;Rs?($n(this,ln,!0),hs.style.borderColor=bt.Util.makeHexColor(Rs[0]|0,Rs[1]|0,Rs[2]|0)):hs.style.borderWidth=0}hs.style.left=`${100*(Fs[0]-ws)/os}%`,hs.style.top=`${100*(Fs[1]-fs)/ps}%`;const{rotation:$s}=Wn;return Wn.hasOwnCanvas||$s===0?(hs.style.width=`${100*Ss/os}%`,hs.style.height=`${100*Ls/ps}%`):this.setRotation($s,hs),hs}setRotation(Jn,Wn=this.container){if(!this.data.rect)return;const{pageWidth:Zn,pageHeight:us}=this.parent.viewport.rawDims,{width:hs,height:os}=ht(this.data.rect);let ps,ws;Jn%180===0?(ps=100*hs/Zn,ws=100*os/us):(ps=100*os/Zn,ws=100*hs/us),Wn.style.width=`${ps}%`,Wn.style.height=`${ws}%`,Wn.setAttribute("data-main-rotation",(360-Jn)%360)}get _commonActions(){const Jn=(Wn,Zn,us)=>{const hs=us.detail[Wn],os=hs[0],ps=hs.slice(1);us.target.style[Zn]=Ct.ColorConverters[`${os}_HTML`](ps),this.annotationStorage.setValue(this.data.id,{[Zn]:Ct.ColorConverters[`${os}_rgb`](ps)})};return(0,bt.shadow)(this,"_commonActions",{display:Wn=>{const{display:Zn}=Wn.detail,us=Zn%2===1;this.container.style.visibility=us?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noView:us,noPrint:Zn===1||Zn===2})},print:Wn=>{this.annotationStorage.setValue(this.data.id,{noPrint:!Wn.detail.print})},hidden:Wn=>{const{hidden:Zn}=Wn.detail;this.container.style.visibility=Zn?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noPrint:Zn,noView:Zn})},focus:Wn=>{setTimeout(()=>Wn.target.focus({preventScroll:!1}),0)},userName:Wn=>{Wn.target.title=Wn.detail.userName},readonly:Wn=>{Wn.target.disabled=Wn.detail.readonly},required:Wn=>{this._setRequired(Wn.target,Wn.detail.required)},bgColor:Wn=>{Jn("bgColor","backgroundColor",Wn)},fillColor:Wn=>{Jn("fillColor","backgroundColor",Wn)},fgColor:Wn=>{Jn("fgColor","color",Wn)},textColor:Wn=>{Jn("textColor","color",Wn)},borderColor:Wn=>{Jn("borderColor","borderColor",Wn)},strokeColor:Wn=>{Jn("strokeColor","borderColor",Wn)},rotation:Wn=>{const Zn=Wn.detail.rotation;this.setRotation(Zn),this.annotationStorage.setValue(this.data.id,{rotation:Zn})}})}_dispatchEventFromSandbox(Jn,Wn){const Zn=this._commonActions;for(const us of Object.keys(Wn.detail)){const hs=Jn[us]||Zn[us];hs==null||hs(Wn)}}_setDefaultPropertiesFromJS(Jn){if(!this.enableScripting)return;const Wn=this.annotationStorage.getRawValue(this.data.id);if(!Wn)return;const Zn=this._commonActions;for(const[us,hs]of Object.entries(Wn)){const os=Zn[us];if(os){const ps={detail:{[us]:hs},target:Jn};os(ps),delete Wn[us]}}}_createQuadrilaterals(){if(!this.container)return;const{quadPoints:Jn}=this.data;if(!Jn)return;const[Wn,Zn,us,hs]=this.data.rect;if(Jn.length===1){const[,{x:Ps,y:Rs},{x:qs,y:vr}]=Jn[0];if(us===Ps&&hs===Rs&&Wn===qs&&Zn===vr)return}const{style:os}=this.container;let ps;if(Dt(this,ln)){const{borderColor:Ps,borderWidth:Rs}=os;os.borderWidth=0,ps=["url('data:image/svg+xml;utf8,",'<svg xmlns="http://www.w3.org/2000/svg"',' preserveAspectRatio="none" viewBox="0 0 1 1">',`<g fill="transparent" stroke="${Ps}" stroke-width="${Rs}">`],this.container.classList.add("hasBorder")}const ws=us-Wn,fs=hs-Zn,{svgFactory:Ss}=this,Ls=Ss.createElement("svg");Ls.classList.add("quadrilateralsContainer"),Ls.setAttribute("width",0),Ls.setAttribute("height",0);const Fs=Ss.createElement("defs");Ls.append(Fs);const $s=Ss.createElement("clipPath"),Es=`clippath_${this.data.id}`;$s.setAttribute("id",Es),$s.setAttribute("clipPathUnits","objectBoundingBox"),Fs.append($s);for(const[,{x:Ps,y:Rs},{x:qs,y:vr}]of Jn){const lr=Ss.createElement("rect"),nr=(qs-Wn)/ws,Nr=(hs-Rs)/fs,Gr=(Ps-qs)/ws,vs=(Rs-vr)/fs;lr.setAttribute("x",nr),lr.setAttribute("y",Nr),lr.setAttribute("width",Gr),lr.setAttribute("height",vs),$s.append(lr),ps==null||ps.push(`<rect vector-effect="non-scaling-stroke" x="${nr}" y="${Nr}" width="${Gr}" height="${vs}"/>`)}Dt(this,ln)&&(ps.push("</g></svg>')"),os.backgroundImage=ps.join("")),this.container.append(Ls),this.container.style.clipPath=`url(#${Es})`}_createPopup(){const{container:Jn,data:Wn}=this;Jn.setAttribute("aria-haspopup","dialog");const Zn=new Gt({data:{color:Wn.color,titleObj:Wn.titleObj,modificationDate:Wn.modificationDate,contentsObj:Wn.contentsObj,richText:Wn.richText,parentRect:Wn.rect,borderStyle:0,id:`popup_${Wn.id}`,rotation:Wn.rotation},parent:this.parent,elements:[this]});this.parent.div.append(Zn.render())}render(){(0,bt.unreachable)("Abstract method `AnnotationElement.render` called")}_getElementsByName(Jn,Wn=null){const Zn=[];if(this._fieldObjects){const us=this._fieldObjects[Jn];if(us)for(const{page:hs,id:os,exportValues:ps}of us){if(hs===-1||os===Wn)continue;const ws=typeof ps=="string"?ps:null,fs=document.querySelector(`[data-element-id="${os}"]`);if(fs&&!_t.has(fs)){(0,bt.warn)(`_getElementsByName - element not allowed: ${os}`);continue}Zn.push({id:os,exportValue:ws,domElement:fs})}return Zn}for(const us of document.getElementsByName(Jn)){const{exportValue:hs}=us,os=us.getAttribute("data-element-id");os!==Wn&&_t.has(us)&&Zn.push({id:os,exportValue:hs,domElement:us})}return Zn}show(){var Jn;this.container&&(this.container.hidden=!1),(Jn=this.popup)==null||Jn.maybeShow()}hide(){var Jn;this.container&&(this.container.hidden=!0),(Jn=this.popup)==null||Jn.forceHide()}getElementsToTriggerPopup(){return this.container}addHighlightArea(){const Jn=this.getElementsToTriggerPopup();if(Array.isArray(Jn))for(const Wn of Jn)Wn.classList.add("highlightArea");else Jn.classList.add("highlightArea")}_editOnDoubleClick(){const{annotationEditorType:Jn,data:{id:Wn}}=this;this.container.addEventListener("dblclick",()=>{var Zn;(Zn=this.linkService.eventBus)==null||Zn.dispatch("switchannotationeditormode",{source:this,mode:Jn,editId:Wn})})}};ln=new WeakMap;let Ft=on;class Vt extends Ft{constructor(Wn,Zn=null){super(Wn,{isRenderable:!0,ignoreBorder:!!(Zn!=null&&Zn.ignoreBorder),createQuadrilaterals:!0});Nn(this,cn);this.isTooltipOnly=Wn.data.isTooltipOnly}render(){const{data:Wn,linkService:Zn}=this,us=document.createElement("a");us.setAttribute("data-element-id",Wn.id);let hs=!1;return Wn.url?(Zn.addLinkAttributes(us,Wn.url,Wn.newWindow),hs=!0):Wn.action?(this._bindNamedAction(us,Wn.action),hs=!0):Wn.attachment?(this._bindAttachment(us,Wn.attachment),hs=!0):Wn.setOCGState?(On(this,cn,Kv).call(this,us,Wn.setOCGState),hs=!0):Wn.dest?(this._bindLink(us,Wn.dest),hs=!0):(Wn.actions&&(Wn.actions.Action||Wn.actions["Mouse Up"]||Wn.actions["Mouse Down"])&&this.enableScripting&&this.hasJSActions&&(this._bindJSAction(us,Wn),hs=!0),Wn.resetForm?(this._bindResetFormAction(us,Wn.resetForm),hs=!0):this.isTooltipOnly&&!hs&&(this._bindLink(us,""),hs=!0)),this.container.classList.add("linkAnnotation"),hs&&this.container.append(us),this.container}_bindLink(Wn,Zn){Wn.href=this.linkService.getDestinationHash(Zn),Wn.onclick=()=>(Zn&&this.linkService.goToDestination(Zn),!1),(Zn||Zn==="")&&On(this,cn,F0).call(this)}_bindNamedAction(Wn,Zn){Wn.href=this.linkService.getAnchorUrl(""),Wn.onclick=()=>(this.linkService.executeNamedAction(Zn),!1),On(this,cn,F0).call(this)}_bindAttachment(Wn,Zn){Wn.href=this.linkService.getAnchorUrl(""),Wn.onclick=()=>{var us;return(us=this.downloadManager)==null||us.openOrDownloadData(this.container,Zn.content,Zn.filename),!1},On(this,cn,F0).call(this)}_bindJSAction(Wn,Zn){Wn.href=this.linkService.getAnchorUrl("");const us=new Map([["Action","onclick"],["Mouse Up","onmouseup"],["Mouse Down","onmousedown"]]);for(const hs of Object.keys(Zn.actions)){const os=us.get(hs);os&&(Wn[os]=()=>{var ps;return(ps=this.linkService.eventBus)==null||ps.dispatch("dispatcheventinsandbox",{source:this,detail:{id:Zn.id,name:hs}}),!1})}Wn.onclick||(Wn.onclick=()=>!1),On(this,cn,F0).call(this)}_bindResetFormAction(Wn,Zn){const us=Wn.onclick;if(us||(Wn.href=this.linkService.getAnchorUrl("")),On(this,cn,F0).call(this),!this._fieldObjects){(0,bt.warn)('_bindResetFormAction - "resetForm" action not supported, ensure that the `fieldObjects` parameter is provided.'),us||(Wn.onclick=()=>!1);return}Wn.onclick=()=>{var Ls;us==null||us();const{fields:hs,refs:os,include:ps}=Zn,ws=[];if(hs.length!==0||os.length!==0){const Fs=new Set(os);for(const $s of hs){const Es=this._fieldObjects[$s]||[];for(const{id:Ps}of Es)Fs.add(Ps)}for(const $s of Object.values(this._fieldObjects))for(const Es of $s)Fs.has(Es.id)===ps&&ws.push(Es)}else for(const Fs of Object.values(this._fieldObjects))ws.push(...Fs);const fs=this.annotationStorage,Ss=[];for(const Fs of ws){const{id:$s}=Fs;switch(Ss.push($s),Fs.type){case"text":{const Ps=Fs.defaultValue||"";fs.setValue($s,{value:Ps});break}case"checkbox":case"radiobutton":{const Ps=Fs.defaultValue===Fs.exportValues;fs.setValue($s,{value:Ps});break}case"combobox":case"listbox":{const Ps=Fs.defaultValue||"";fs.setValue($s,{value:Ps});break}default:continue}const Es=document.querySelector(`[data-element-id="${$s}"]`);if(Es){if(!_t.has(Es)){(0,bt.warn)(`_bindResetFormAction - element not allowed: ${$s}`);continue}}else continue;Es.dispatchEvent(new Event("resetform"))}return this.enableScripting&&((Ls=this.linkService.eventBus)==null||Ls.dispatch("dispatcheventinsandbox",{source:this,detail:{id:"app",ids:Ss,name:"ResetForm"}})),!1}}}cn=new WeakSet,F0=function(){this.container.setAttribute("data-internal-link","")},Kv=function(Wn,Zn){Wn.href=this.linkService.getAnchorUrl(""),Wn.onclick=()=>(this.linkService.executeSetOCGState(Zn),!1),On(this,cn,F0).call(this)};class qt extends Ft{constructor(Jn){super(Jn,{isRenderable:!0})}render(){this.container.classList.add("textAnnotation");const Jn=document.createElement("img");return Jn.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",Jn.alt="[{{type}} Annotation]",Jn.dataset.l10nId="text_annotation_type",Jn.dataset.l10nArgs=JSON.stringify({type:this.data.name}),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.append(Jn),this.container}}class Lt extends Ft{render(){return this.data.alternativeText&&(this.container.title=this.data.alternativeText),this.container}showElementAndHideCanvas(Jn){var Wn;this.data.hasOwnCanvas&&(((Wn=Jn.previousSibling)==null?void 0:Wn.nodeName)==="CANVAS"&&(Jn.previousSibling.hidden=!0),Jn.hidden=!1)}_getKeyModifier(Jn){const{isWin:Wn,isMac:Zn}=bt.FeatureTest.platform;return Wn&&Jn.ctrlKey||Zn&&Jn.metaKey}_setEventListener(Jn,Wn,Zn,us,hs){Zn.includes("mouse")?Jn.addEventListener(Zn,os=>{var ps;(ps=this.linkService.eventBus)==null||ps.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:us,value:hs(os),shift:os.shiftKey,modifier:this._getKeyModifier(os)}})}):Jn.addEventListener(Zn,os=>{var ps;if(Zn==="blur"){if(!Wn.focused||!os.relatedTarget)return;Wn.focused=!1}else if(Zn==="focus"){if(Wn.focused)return;Wn.focused=!0}hs&&((ps=this.linkService.eventBus)==null||ps.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:us,value:hs(os)}}))})}_setEventListeners(Jn,Wn,Zn,us){var hs,os,ps;for(const[ws,fs]of Zn)(fs==="Action"||(hs=this.data.actions)!=null&&hs[fs])&&((fs==="Focus"||fs==="Blur")&&(Wn||(Wn={focused:!1})),this._setEventListener(Jn,Wn,ws,fs,us),fs==="Focus"&&!((os=this.data.actions)!=null&&os.Blur)?this._setEventListener(Jn,Wn,"blur","Blur",null):fs==="Blur"&&!((ps=this.data.actions)!=null&&ps.Focus)&&this._setEventListener(Jn,Wn,"focus","Focus",null))}_setBackgroundColor(Jn){const Wn=this.data.backgroundColor||null;Jn.style.backgroundColor=Wn===null?"transparent":bt.Util.makeHexColor(Wn[0],Wn[1],Wn[2])}_setTextStyle(Jn){const Wn=["left","center","right"],{fontColor:Zn}=this.data.defaultAppearanceData,us=this.data.defaultAppearanceData.fontSize||kt,hs=Jn.style;let os;const ps=2,ws=fs=>Math.round(10*fs)/10;if(this.data.multiLine){const fs=Math.abs(this.data.rect[3]-this.data.rect[1]-ps),Ss=Math.round(fs/(bt.LINE_FACTOR*us))||1,Ls=fs/Ss;os=Math.min(us,ws(Ls/bt.LINE_FACTOR))}else{const fs=Math.abs(this.data.rect[3]-this.data.rect[1]-ps);os=Math.min(us,ws(fs/bt.LINE_FACTOR))}hs.fontSize=`calc(${os}px * var(--scale-factor))`,hs.color=bt.Util.makeHexColor(Zn[0],Zn[1],Zn[2]),this.data.textAlignment!==null&&(hs.textAlign=Wn[this.data.textAlignment])}_setRequired(Jn,Wn){Wn?Jn.setAttribute("required",!0):Jn.removeAttribute("required"),Jn.setAttribute("aria-required",Wn)}}class $t extends Lt{constructor(Jn){const Wn=Jn.renderForms||!Jn.data.hasAppearance&&!!Jn.data.fieldValue;super(Jn,{isRenderable:Wn})}setPropertyOnSiblings(Jn,Wn,Zn,us){const hs=this.annotationStorage;for(const os of this._getElementsByName(Jn.name,Jn.id))os.domElement&&(os.domElement[Wn]=Zn),hs.setValue(os.id,{[us]:Zn})}render(){var us,hs;const Jn=this.annotationStorage,Wn=this.data.id;this.container.classList.add("textWidgetAnnotation");let Zn=null;if(this.renderForms){const os=Jn.getValue(Wn,{value:this.data.fieldValue});let ps=os.value||"";const ws=Jn.getValue(Wn,{charLimit:this.data.maxLen}).charLimit;ws&&ps.length>ws&&(ps=ps.slice(0,ws));let fs=os.formattedValue||((us=this.data.textContent)==null?void 0:us.join(`
`))||null;fs&&this.data.comb&&(fs=fs.replaceAll(/\s+/g,""));const Ss={userValue:ps,formattedValue:fs,lastCommittedValue:null,commitKey:1,focused:!1};this.data.multiLine?(Zn=document.createElement("textarea"),Zn.textContent=fs??ps,this.data.doNotScroll&&(Zn.style.overflowY="hidden")):(Zn=document.createElement("input"),Zn.type="text",Zn.setAttribute("value",fs??ps),this.data.doNotScroll&&(Zn.style.overflowX="hidden")),this.data.hasOwnCanvas&&(Zn.hidden=!0),_t.add(Zn),Zn.setAttribute("data-element-id",Wn),Zn.disabled=this.data.readOnly,Zn.name=this.data.fieldName,Zn.tabIndex=wt,this._setRequired(Zn,this.data.required),ws&&(Zn.maxLength=ws),Zn.addEventListener("input",Fs=>{Jn.setValue(Wn,{value:Fs.target.value}),this.setPropertyOnSiblings(Zn,"value",Fs.target.value,"value"),Ss.formattedValue=null}),Zn.addEventListener("resetform",Fs=>{const $s=this.data.defaultFieldValue??"";Zn.value=Ss.userValue=$s,Ss.formattedValue=null});let Ls=Fs=>{const{formattedValue:$s}=Ss;$s!=null&&(Fs.target.value=$s),Fs.target.scrollLeft=0};if(this.enableScripting&&this.hasJSActions){Zn.addEventListener("focus",$s=>{if(Ss.focused)return;const{target:Es}=$s;Ss.userValue&&(Es.value=Ss.userValue),Ss.lastCommittedValue=Es.value,Ss.commitKey=1,Ss.focused=!0}),Zn.addEventListener("updatefromsandbox",$s=>{this.showElementAndHideCanvas($s.target);const Es={value(Ps){Ss.userValue=Ps.detail.value??"",Jn.setValue(Wn,{value:Ss.userValue.toString()}),Ps.target.value=Ss.userValue},formattedValue(Ps){const{formattedValue:Rs}=Ps.detail;Ss.formattedValue=Rs,Rs!=null&&Ps.target!==document.activeElement&&(Ps.target.value=Rs),Jn.setValue(Wn,{formattedValue:Rs})},selRange(Ps){Ps.target.setSelectionRange(...Ps.detail.selRange)},charLimit:Ps=>{var lr;const{charLimit:Rs}=Ps.detail,{target:qs}=Ps;if(Rs===0){qs.removeAttribute("maxLength");return}qs.setAttribute("maxLength",Rs);let vr=Ss.userValue;!vr||vr.length<=Rs||(vr=vr.slice(0,Rs),qs.value=Ss.userValue=vr,Jn.setValue(Wn,{value:vr}),(lr=this.linkService.eventBus)==null||lr.dispatch("dispatcheventinsandbox",{source:this,detail:{id:Wn,name:"Keystroke",value:vr,willCommit:!0,commitKey:1,selStart:qs.selectionStart,selEnd:qs.selectionEnd}}))}};this._dispatchEventFromSandbox(Es,$s)}),Zn.addEventListener("keydown",$s=>{var Rs;Ss.commitKey=1;let Es=-1;if($s.key==="Escape"?Es=0:$s.key==="Enter"&&!this.data.multiLine?Es=2:$s.key==="Tab"&&(Ss.commitKey=3),Es===-1)return;const{value:Ps}=$s.target;Ss.lastCommittedValue!==Ps&&(Ss.lastCommittedValue=Ps,Ss.userValue=Ps,(Rs=this.linkService.eventBus)==null||Rs.dispatch("dispatcheventinsandbox",{source:this,detail:{id:Wn,name:"Keystroke",value:Ps,willCommit:!0,commitKey:Es,selStart:$s.target.selectionStart,selEnd:$s.target.selectionEnd}}))});const Fs=Ls;Ls=null,Zn.addEventListener("blur",$s=>{var Ps;if(!Ss.focused||!$s.relatedTarget)return;Ss.focused=!1;const{value:Es}=$s.target;Ss.userValue=Es,Ss.lastCommittedValue!==Es&&((Ps=this.linkService.eventBus)==null||Ps.dispatch("dispatcheventinsandbox",{source:this,detail:{id:Wn,name:"Keystroke",value:Es,willCommit:!0,commitKey:Ss.commitKey,selStart:$s.target.selectionStart,selEnd:$s.target.selectionEnd}})),Fs($s)}),(hs=this.data.actions)!=null&&hs.Keystroke&&Zn.addEventListener("beforeinput",$s=>{var Nr;Ss.lastCommittedValue=null;const{data:Es,target:Ps}=$s,{value:Rs,selectionStart:qs,selectionEnd:vr}=Ps;let lr=qs,nr=vr;switch($s.inputType){case"deleteWordBackward":{const Gr=Rs.substring(0,qs).match(/\w*[^\w]*$/);Gr&&(lr-=Gr[0].length);break}case"deleteWordForward":{const Gr=Rs.substring(qs).match(/^[^\w]*\w*/);Gr&&(nr+=Gr[0].length);break}case"deleteContentBackward":qs===vr&&(lr-=1);break;case"deleteContentForward":qs===vr&&(nr+=1);break}$s.preventDefault(),(Nr=this.linkService.eventBus)==null||Nr.dispatch("dispatcheventinsandbox",{source:this,detail:{id:Wn,name:"Keystroke",value:Rs,change:Es||"",willCommit:!1,selStart:lr,selEnd:nr}})}),this._setEventListeners(Zn,Ss,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],$s=>$s.target.value)}if(Ls&&Zn.addEventListener("blur",Ls),this.data.comb){const $s=(this.data.rect[2]-this.data.rect[0])/ws;Zn.classList.add("comb"),Zn.style.letterSpacing=`calc(${$s}px * var(--scale-factor) - 1ch)`}}else Zn=document.createElement("div"),Zn.textContent=this.data.fieldValue,Zn.style.verticalAlign="middle",Zn.style.display="table-cell";return this._setTextStyle(Zn),this._setBackgroundColor(Zn),this._setDefaultPropertiesFromJS(Zn),this.container.append(Zn),this.container}}class Ot extends Lt{constructor(Jn){super(Jn,{isRenderable:!!Jn.data.hasOwnCanvas})}}class jt extends Lt{constructor(Jn){super(Jn,{isRenderable:Jn.renderForms})}render(){const Jn=this.annotationStorage,Wn=this.data,Zn=Wn.id;let us=Jn.getValue(Zn,{value:Wn.exportValue===Wn.fieldValue}).value;typeof us=="string"&&(us=us!=="Off",Jn.setValue(Zn,{value:us})),this.container.classList.add("buttonWidgetAnnotation","checkBox");const hs=document.createElement("input");return _t.add(hs),hs.setAttribute("data-element-id",Zn),hs.disabled=Wn.readOnly,this._setRequired(hs,this.data.required),hs.type="checkbox",hs.name=Wn.fieldName,us&&hs.setAttribute("checked",!0),hs.setAttribute("exportValue",Wn.exportValue),hs.tabIndex=wt,hs.addEventListener("change",os=>{const{name:ps,checked:ws}=os.target;for(const fs of this._getElementsByName(ps,Zn)){const Ss=ws&&fs.exportValue===Wn.exportValue;fs.domElement&&(fs.domElement.checked=Ss),Jn.setValue(fs.id,{value:Ss})}Jn.setValue(Zn,{value:ws})}),hs.addEventListener("resetform",os=>{const ps=Wn.defaultFieldValue||"Off";os.target.checked=ps===Wn.exportValue}),this.enableScripting&&this.hasJSActions&&(hs.addEventListener("updatefromsandbox",os=>{const ps={value(ws){ws.target.checked=ws.detail.value!=="Off",Jn.setValue(Zn,{value:ws.target.checked})}};this._dispatchEventFromSandbox(ps,os)}),this._setEventListeners(hs,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],os=>os.target.checked)),this._setBackgroundColor(hs),this._setDefaultPropertiesFromJS(hs),this.container.append(hs),this.container}}class Rt extends Lt{constructor(Jn){super(Jn,{isRenderable:Jn.renderForms})}render(){this.container.classList.add("buttonWidgetAnnotation","radioButton");const Jn=this.annotationStorage,Wn=this.data,Zn=Wn.id;let us=Jn.getValue(Zn,{value:Wn.fieldValue===Wn.buttonValue}).value;typeof us=="string"&&(us=us!==Wn.buttonValue,Jn.setValue(Zn,{value:us}));const hs=document.createElement("input");if(_t.add(hs),hs.setAttribute("data-element-id",Zn),hs.disabled=Wn.readOnly,this._setRequired(hs,this.data.required),hs.type="radio",hs.name=Wn.fieldName,us&&hs.setAttribute("checked",!0),hs.tabIndex=wt,hs.addEventListener("change",os=>{const{name:ps,checked:ws}=os.target;for(const fs of this._getElementsByName(ps,Zn))Jn.setValue(fs.id,{value:!1});Jn.setValue(Zn,{value:ws})}),hs.addEventListener("resetform",os=>{const ps=Wn.defaultFieldValue;os.target.checked=ps!=null&&ps===Wn.buttonValue}),this.enableScripting&&this.hasJSActions){const os=Wn.buttonValue;hs.addEventListener("updatefromsandbox",ps=>{const ws={value:fs=>{const Ss=os===fs.detail.value;for(const Ls of this._getElementsByName(fs.target.name)){const Fs=Ss&&Ls.id===Zn;Ls.domElement&&(Ls.domElement.checked=Fs),Jn.setValue(Ls.id,{value:Fs})}}};this._dispatchEventFromSandbox(ws,ps)}),this._setEventListeners(hs,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],ps=>ps.target.checked)}return this._setBackgroundColor(hs),this._setDefaultPropertiesFromJS(hs),this.container.append(hs),this.container}}class Kt extends Vt{constructor(Jn){super(Jn,{ignoreBorder:Jn.data.hasAppearance})}render(){const Jn=super.render();Jn.classList.add("buttonWidgetAnnotation","pushButton"),this.data.alternativeText&&(Jn.title=this.data.alternativeText);const Wn=Jn.lastChild;return this.enableScripting&&this.hasJSActions&&Wn&&(this._setDefaultPropertiesFromJS(Wn),Wn.addEventListener("updatefromsandbox",Zn=>{this._dispatchEventFromSandbox({},Zn)})),Jn}}class Bt extends Lt{constructor(Jn){super(Jn,{isRenderable:Jn.renderForms})}render(){this.container.classList.add("choiceWidgetAnnotation");const Jn=this.annotationStorage,Wn=this.data.id,Zn=Jn.getValue(Wn,{value:this.data.fieldValue}),us=document.createElement("select");_t.add(us),us.setAttribute("data-element-id",Wn),us.disabled=this.data.readOnly,this._setRequired(us,this.data.required),us.name=this.data.fieldName,us.tabIndex=wt;let hs=this.data.combo&&this.data.options.length>0;this.data.combo||(us.size=this.data.options.length,this.data.multiSelect&&(us.multiple=!0)),us.addEventListener("resetform",Ss=>{const Ls=this.data.defaultFieldValue;for(const Fs of us.options)Fs.selected=Fs.value===Ls});for(const Ss of this.data.options){const Ls=document.createElement("option");Ls.textContent=Ss.displayValue,Ls.value=Ss.exportValue,Zn.value.includes(Ss.exportValue)&&(Ls.setAttribute("selected",!0),hs=!1),us.append(Ls)}let os=null;if(hs){const Ss=document.createElement("option");Ss.value=" ",Ss.setAttribute("hidden",!0),Ss.setAttribute("selected",!0),us.prepend(Ss),os=()=>{Ss.remove(),us.removeEventListener("input",os),os=null},us.addEventListener("input",os)}const ps=Ss=>{const Ls=Ss?"value":"textContent",{options:Fs,multiple:$s}=us;return $s?Array.prototype.filter.call(Fs,Es=>Es.selected).map(Es=>Es[Ls]):Fs.selectedIndex===-1?null:Fs[Fs.selectedIndex][Ls]};let ws=ps(!1);const fs=Ss=>{const Ls=Ss.target.options;return Array.prototype.map.call(Ls,Fs=>({displayValue:Fs.textContent,exportValue:Fs.value}))};return this.enableScripting&&this.hasJSActions?(us.addEventListener("updatefromsandbox",Ss=>{const Ls={value(Fs){os==null||os();const $s=Fs.detail.value,Es=new Set(Array.isArray($s)?$s:[$s]);for(const Ps of us.options)Ps.selected=Es.has(Ps.value);Jn.setValue(Wn,{value:ps(!0)}),ws=ps(!1)},multipleSelection(Fs){us.multiple=!0},remove(Fs){const $s=us.options,Es=Fs.detail.remove;$s[Es].selected=!1,us.remove(Es),$s.length>0&&Array.prototype.findIndex.call($s,Rs=>Rs.selected)===-1&&($s[0].selected=!0),Jn.setValue(Wn,{value:ps(!0),items:fs(Fs)}),ws=ps(!1)},clear(Fs){for(;us.length!==0;)us.remove(0);Jn.setValue(Wn,{value:null,items:[]}),ws=ps(!1)},insert(Fs){const{index:$s,displayValue:Es,exportValue:Ps}=Fs.detail.insert,Rs=us.children[$s],qs=document.createElement("option");qs.textContent=Es,qs.value=Ps,Rs?Rs.before(qs):us.append(qs),Jn.setValue(Wn,{value:ps(!0),items:fs(Fs)}),ws=ps(!1)},items(Fs){const{items:$s}=Fs.detail;for(;us.length!==0;)us.remove(0);for(const Es of $s){const{displayValue:Ps,exportValue:Rs}=Es,qs=document.createElement("option");qs.textContent=Ps,qs.value=Rs,us.append(qs)}us.options.length>0&&(us.options[0].selected=!0),Jn.setValue(Wn,{value:ps(!0),items:fs(Fs)}),ws=ps(!1)},indices(Fs){const $s=new Set(Fs.detail.indices);for(const Es of Fs.target.options)Es.selected=$s.has(Es.index);Jn.setValue(Wn,{value:ps(!0)}),ws=ps(!1)},editable(Fs){Fs.target.disabled=!Fs.detail.editable}};this._dispatchEventFromSandbox(Ls,Ss)}),us.addEventListener("input",Ss=>{var Fs;const Ls=ps(!0);Jn.setValue(Wn,{value:Ls}),Ss.preventDefault(),(Fs=this.linkService.eventBus)==null||Fs.dispatch("dispatcheventinsandbox",{source:this,detail:{id:Wn,name:"Keystroke",value:ws,changeEx:Ls,willCommit:!1,commitKey:1,keyDown:!1}})}),this._setEventListeners(us,null,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"],["input","Action"],["input","Validate"]],Ss=>Ss.target.value)):us.addEventListener("input",function(Ss){Jn.setValue(Wn,{value:ps(!0)})}),this.data.combo&&this._setTextStyle(us),this._setBackgroundColor(us),this._setDefaultPropertiesFromJS(us),this.container.append(us),this.container}}class Gt extends Ft{constructor(Jn){const{data:Wn,elements:Zn}=Jn;super(Jn,{isRenderable:Ft._hasPopupData(Wn)}),this.elements=Zn}render(){this.container.classList.add("popupAnnotation");const Jn=new en({container:this.container,color:this.data.color,titleObj:this.data.titleObj,modificationDate:this.data.modificationDate,contentsObj:this.data.contentsObj,richText:this.data.richText,rect:this.data.rect,parentRect:this.data.parentRect||null,parent:this.parent,elements:this.elements,open:this.data.open}),Wn=[];for(const Zn of this.elements)Zn.popup=Jn,Wn.push(Zn.data.id),Zn.addHighlightArea();return this.container.setAttribute("aria-controls",Wn.map(Zn=>`${bt.AnnotationPrefix}${Zn}`).join(",")),this.container}}class en{constructor({container:Jn,color:Wn,elements:Zn,titleObj:us,modificationDate:hs,contentsObj:os,richText:ps,parent:ws,rect:fs,parentRect:Ss,open:Ls}){Nn(this,Rn);Nn(this,xn,null);Nn(this,wn,On(this,Rn,Yv).bind(this));Nn(this,En,On(this,Rn,D3).bind(this));Nn(this,Fn,On(this,Rn,O3).bind(this));Nn(this,In,On(this,Rn,_2).bind(this));Nn(this,Tn,null);Nn(this,An,null);Nn(this,mn,null);Nn(this,pn,null);Nn(this,Jt,null);Nn(this,un,null);Nn(this,fn,!1);Nn(this,Sn,null);Nn(this,kn,null);Nn(this,Pn,null);Nn(this,Cn,null);Nn(this,vn,!1);var $s;$n(this,An,Jn),$n(this,Cn,us),$n(this,mn,os),$n(this,Pn,ps),$n(this,Jt,ws),$n(this,Tn,Wn),$n(this,kn,fs),$n(this,un,Ss),$n(this,pn,Zn);const Fs=St.PDFDateString.toDateObject(hs);Fs&&$n(this,xn,ws.l10n.get("annotation_date_string",{date:Fs.toLocaleDateString(),time:Fs.toLocaleTimeString()})),this.trigger=Zn.flatMap(Es=>Es.getElementsToTriggerPopup());for(const Es of this.trigger)Es.addEventListener("click",Dt(this,In)),Es.addEventListener("mouseenter",Dt(this,Fn)),Es.addEventListener("mouseleave",Dt(this,En)),Es.classList.add("popupTriggerArea");for(const Es of Zn)($s=Es.container)==null||$s.addEventListener("keydown",Dt(this,wn));Dt(this,An).hidden=!0,Ls&&On(this,Rn,_2).call(this)}render(){if(Dt(this,Sn))return;const{page:{view:Jn},viewport:{rawDims:{pageWidth:Wn,pageHeight:Zn,pageX:us,pageY:hs}}}=Dt(this,Jt),os=$n(this,Sn,document.createElement("div"));if(os.className="popup",Dt(this,Tn)){const lr=os.style.outlineColor=bt.Util.makeHexColor(...Dt(this,Tn));CSS.supports("background-color","color-mix(in srgb, red 30%, white)")?os.style.backgroundColor=`color-mix(in srgb, ${lr} 30%, white)`:os.style.backgroundColor=bt.Util.makeHexColor(...Dt(this,Tn).map(Nr=>Math.floor(.7*(255-Nr)+Nr)))}const ps=document.createElement("span");ps.className="header";const ws=document.createElement("h1");if(ps.append(ws),{dir:ws.dir,str:ws.textContent}=Dt(this,Cn),os.append(ps),Dt(this,xn)){const lr=document.createElement("span");lr.classList.add("popupDate"),Dt(this,xn).then(nr=>{lr.textContent=nr}),ps.append(lr)}const fs=Dt(this,mn),Ss=Dt(this,Pn);if(Ss!=null&&Ss.str&&(!(fs!=null&&fs.str)||fs.str===Ss.str))Pt.XfaLayer.render({xfaHtml:Ss.html,intent:"richText",div:os}),os.lastChild.classList.add("richText","popupContent");else{const lr=this._formatContents(fs);os.append(lr)}let Ls=!!Dt(this,un),Fs=Ls?Dt(this,un):Dt(this,kn);for(const lr of Dt(this,pn))if(!Fs||bt.Util.intersect(lr.data.rect,Fs)!==null){Fs=lr.data.rect,Ls=!0;break}const $s=bt.Util.normalizeRect([Fs[0],Jn[3]-Fs[1]+Jn[1],Fs[2],Jn[3]-Fs[3]+Jn[1]]),Ps=Ls?Fs[2]-Fs[0]+5:0,Rs=$s[0]+Ps,qs=$s[1],{style:vr}=Dt(this,An);vr.left=`${100*(Rs-us)/Wn}%`,vr.top=`${100*(qs-hs)/Zn}%`,Dt(this,An).append(os)}_formatContents({str:Jn,dir:Wn}){const Zn=document.createElement("p");Zn.classList.add("popupContent"),Zn.dir=Wn;const us=Jn.split(/(?:\r\n?|\n)/);for(let hs=0,os=us.length;hs<os;++hs){const ps=us[hs];Zn.append(document.createTextNode(ps)),hs<os-1&&Zn.append(document.createElement("br"))}return Zn}forceHide(){$n(this,vn,this.isVisible),Dt(this,vn)&&(Dt(this,An).hidden=!0)}maybeShow(){Dt(this,vn)&&($n(this,vn,!1),Dt(this,An).hidden=!1)}get isVisible(){return Dt(this,An).hidden===!1}}xn=new WeakMap,wn=new WeakMap,En=new WeakMap,Fn=new WeakMap,In=new WeakMap,Tn=new WeakMap,An=new WeakMap,mn=new WeakMap,pn=new WeakMap,Jt=new WeakMap,un=new WeakMap,fn=new WeakMap,Sn=new WeakMap,kn=new WeakMap,Pn=new WeakMap,Cn=new WeakMap,vn=new WeakMap,Rn=new WeakSet,Yv=function(Jn){Jn.altKey||Jn.shiftKey||Jn.ctrlKey||Jn.metaKey||(Jn.key==="Enter"||Jn.key==="Escape"&&Dt(this,fn))&&On(this,Rn,_2).call(this)},_2=function(){$n(this,fn,!Dt(this,fn)),Dt(this,fn)?(On(this,Rn,O3).call(this),Dt(this,An).addEventListener("click",Dt(this,In)),Dt(this,An).addEventListener("keydown",Dt(this,wn))):(On(this,Rn,D3).call(this),Dt(this,An).removeEventListener("click",Dt(this,In)),Dt(this,An).removeEventListener("keydown",Dt(this,wn)))},O3=function(){Dt(this,Sn)||this.render(),this.isVisible?Dt(this,fn)&&Dt(this,An).classList.add("focused"):(Dt(this,An).hidden=!1,Dt(this,An).style.zIndex=parseInt(Dt(this,An).style.zIndex)+1e3)},D3=function(){Dt(this,An).classList.remove("focused"),!(Dt(this,fn)||!this.isVisible)&&(Dt(this,An).hidden=!0,Dt(this,An).style.zIndex=parseInt(Dt(this,An).style.zIndex)-1e3)};class hn extends Ft{constructor(Jn){super(Jn,{isRenderable:!0,ignoreBorder:!0}),this.textContent=Jn.data.textContent,this.textPosition=Jn.data.textPosition,this.annotationEditorType=bt.AnnotationEditorType.FREETEXT}render(){if(this.container.classList.add("freeTextAnnotation"),this.textContent){const Jn=document.createElement("div");Jn.classList.add("annotationTextContent"),Jn.setAttribute("role","comment");for(const Wn of this.textContent){const Zn=document.createElement("span");Zn.textContent=Wn,Jn.append(Zn)}this.container.append(Jn)}return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}}$.FreeTextAnnotationElement=hn;class tn extends Ft{constructor(Wn){super(Wn,{isRenderable:!0,ignoreBorder:!0});Nn(this,Un,null)}render(){this.container.classList.add("lineAnnotation");const Wn=this.data,{width:Zn,height:us}=ht(Wn.rect),hs=this.svgFactory.create(Zn,us,!0),os=$n(this,Un,this.svgFactory.createElement("svg:line"));return os.setAttribute("x1",Wn.rect[2]-Wn.lineCoordinates[0]),os.setAttribute("y1",Wn.rect[3]-Wn.lineCoordinates[1]),os.setAttribute("x2",Wn.rect[2]-Wn.lineCoordinates[2]),os.setAttribute("y2",Wn.rect[3]-Wn.lineCoordinates[3]),os.setAttribute("stroke-width",Wn.borderStyle.width||1),os.setAttribute("stroke","transparent"),os.setAttribute("fill","transparent"),hs.append(os),this.container.append(hs),!Wn.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return Dt(this,Un)}addHighlightArea(){this.container.classList.add("highlightArea")}}Un=new WeakMap;class gn extends Ft{constructor(Wn){super(Wn,{isRenderable:!0,ignoreBorder:!0});Nn(this,ts,null)}render(){this.container.classList.add("squareAnnotation");const Wn=this.data,{width:Zn,height:us}=ht(Wn.rect),hs=this.svgFactory.create(Zn,us,!0),os=Wn.borderStyle.width,ps=$n(this,ts,this.svgFactory.createElement("svg:rect"));return ps.setAttribute("x",os/2),ps.setAttribute("y",os/2),ps.setAttribute("width",Zn-os),ps.setAttribute("height",us-os),ps.setAttribute("stroke-width",os||1),ps.setAttribute("stroke","transparent"),ps.setAttribute("fill","transparent"),hs.append(ps),this.container.append(hs),!Wn.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return Dt(this,ts)}addHighlightArea(){this.container.classList.add("highlightArea")}}ts=new WeakMap;class nn extends Ft{constructor(Wn){super(Wn,{isRenderable:!0,ignoreBorder:!0});Nn(this,es,null)}render(){this.container.classList.add("circleAnnotation");const Wn=this.data,{width:Zn,height:us}=ht(Wn.rect),hs=this.svgFactory.create(Zn,us,!0),os=Wn.borderStyle.width,ps=$n(this,es,this.svgFactory.createElement("svg:ellipse"));return ps.setAttribute("cx",Zn/2),ps.setAttribute("cy",us/2),ps.setAttribute("rx",Zn/2-os/2),ps.setAttribute("ry",us/2-os/2),ps.setAttribute("stroke-width",os||1),ps.setAttribute("stroke","transparent"),ps.setAttribute("fill","transparent"),hs.append(ps),this.container.append(hs),!Wn.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return Dt(this,es)}addHighlightArea(){this.container.classList.add("highlightArea")}}es=new WeakMap;class bn extends Ft{constructor(Wn){super(Wn,{isRenderable:!0,ignoreBorder:!0});Nn(this,Qn,null);this.containerClassName="polylineAnnotation",this.svgElementName="svg:polyline"}render(){this.container.classList.add(this.containerClassName);const Wn=this.data,{width:Zn,height:us}=ht(Wn.rect),hs=this.svgFactory.create(Zn,us,!0);let os=[];for(const ws of Wn.vertices){const fs=ws.x-Wn.rect[0],Ss=Wn.rect[3]-ws.y;os.push(fs+","+Ss)}os=os.join(" ");const ps=$n(this,Qn,this.svgFactory.createElement(this.svgElementName));return ps.setAttribute("points",os),ps.setAttribute("stroke-width",Wn.borderStyle.width||1),ps.setAttribute("stroke","transparent"),ps.setAttribute("fill","transparent"),hs.append(ps),this.container.append(hs),!Wn.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return Dt(this,Qn)}addHighlightArea(){this.container.classList.add("highlightArea")}}Qn=new WeakMap;class Wt extends bn{constructor(Jn){super(Jn),this.containerClassName="polygonAnnotation",this.svgElementName="svg:polygon"}}class Yt extends Ft{constructor(Jn){super(Jn,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("caretAnnotation"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container}}class dn extends Ft{constructor(Wn){super(Wn,{isRenderable:!0,ignoreBorder:!0});Nn(this,Yn,[]);this.containerClassName="inkAnnotation",this.svgElementName="svg:polyline",this.annotationEditorType=bt.AnnotationEditorType.INK}render(){this.container.classList.add(this.containerClassName);const Wn=this.data,{width:Zn,height:us}=ht(Wn.rect),hs=this.svgFactory.create(Zn,us,!0);for(const os of Wn.inkLists){let ps=[];for(const fs of os){const Ss=fs.x-Wn.rect[0],Ls=Wn.rect[3]-fs.y;ps.push(`${Ss},${Ls}`)}ps=ps.join(" ");const ws=this.svgFactory.createElement(this.svgElementName);Dt(this,Yn).push(ws),ws.setAttribute("points",ps),ws.setAttribute("stroke-width",Wn.borderStyle.width||1),ws.setAttribute("stroke","transparent"),ws.setAttribute("fill","transparent"),!Wn.popupRef&&this.hasPopupData&&this._createPopup(),hs.append(ws)}return this.container.append(hs),this.container}getElementsToTriggerPopup(){return Dt(this,Yn)}addHighlightArea(){this.container.classList.add("highlightArea")}}Yn=new WeakMap,$.InkAnnotationElement=dn;class Ut extends Ft{constructor(Jn){super(Jn,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("highlightAnnotation"),this.container}}class Mt extends Ft{constructor(Jn){super(Jn,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("underlineAnnotation"),this.container}}class Ht extends Ft{constructor(Jn){super(Jn,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("squigglyAnnotation"),this.container}}class sn extends Ft{constructor(Jn){super(Jn,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("strikeoutAnnotation"),this.container}}class zt extends Ft{constructor(Jn){super(Jn,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("stampAnnotation"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container}}$.StampAnnotationElement=zt;class Xt extends Ft{constructor(Wn){var hs;super(Wn,{isRenderable:!0});Nn(this,ns);Nn(this,zn,null);const{filename:Zn,content:us}=this.data.file;this.filename=(0,St.getFilenameFromUrl)(Zn,!0),this.content=us,(hs=this.linkService.eventBus)==null||hs.dispatch("fileattachmentannotation",{source:this,filename:Zn,content:us})}render(){this.container.classList.add("fileAttachmentAnnotation");const{container:Wn,data:Zn}=this;let us;Zn.hasAppearance||Zn.fillAlpha===0?us=document.createElement("div"):(us=document.createElement("img"),us.src=`${this.imageResourcesPath}annotation-${/paperclip/i.test(Zn.name)?"paperclip":"pushpin"}.svg`,Zn.fillAlpha&&Zn.fillAlpha<1&&(us.style=`filter: opacity(${Math.round(Zn.fillAlpha*100)}%);`)),us.addEventListener("dblclick",On(this,ns,L3).bind(this)),$n(this,zn,us);const{isMac:hs}=bt.FeatureTest.platform;return Wn.addEventListener("keydown",os=>{os.key==="Enter"&&(hs?os.metaKey:os.ctrlKey)&&On(this,ns,L3).call(this)}),!Zn.popupRef&&this.hasPopupData?this._createPopup():us.classList.add("popupTriggerArea"),Wn.append(us),Wn}getElementsToTriggerPopup(){return Dt(this,zn)}addHighlightArea(){this.container.classList.add("highlightArea")}}zn=new WeakMap,ns=new WeakSet,L3=function(){var Wn;(Wn=this.downloadManager)==null||Wn.openOrDownloadData(this.container,this.content,this.filename)};class Qt{constructor({div:Jn,accessibilityManager:Wn,annotationCanvasMap:Zn,l10n:us,page:hs,viewport:os}){Nn(this,Xn);Nn(this,ds,null);Nn(this,Bn,null);Nn(this,Hn,new Map);this.div=Jn,$n(this,ds,Wn),$n(this,Bn,Zn),this.l10n=us,this.page=hs,this.viewport=os,this.zIndex=0,this.l10n||(this.l10n=Et.NullL10n)}async render(Jn){const{annotations:Wn}=Jn,Zn=this.div;(0,St.setLayerDimensions)(Zn,this.viewport);const us=new Map,hs={data:null,layer:Zn,linkService:Jn.linkService,downloadManager:Jn.downloadManager,imageResourcesPath:Jn.imageResourcesPath||"",renderForms:Jn.renderForms!==!1,svgFactory:new St.DOMSVGFactory,annotationStorage:Jn.annotationStorage||new At.AnnotationStorage,enableScripting:Jn.enableScripting===!0,hasJSActions:Jn.hasJSActions,fieldObjects:Jn.fieldObjects,parent:this,elements:null};for(const os of Wn){if(os.noHTML)continue;const ps=os.annotationType===bt.AnnotationType.POPUP;if(ps){const Ss=us.get(os.id);if(!Ss)continue;hs.elements=Ss}else{const{width:Ss,height:Ls}=ht(os.rect);if(Ss<=0||Ls<=0)continue}hs.data=os;const ws=vt.create(hs);if(!ws.isRenderable)continue;if(!ps&&os.popupRef){const Ss=us.get(os.popupRef);Ss?Ss.push(ws):us.set(os.popupRef,[ws])}ws.annotationEditorType>0&&Dt(this,Hn).set(ws.data.id,ws);const fs=ws.render();os.hidden&&(fs.style.visibility="hidden"),On(this,Xn,Zv).call(this,fs,os.id)}On(this,Xn,N3).call(this),await this.l10n.translate(Zn)}update({viewport:Jn}){const Wn=this.div;this.viewport=Jn,(0,St.setLayerDimensions)(Wn,{rotation:Jn.rotation}),On(this,Xn,N3).call(this),Wn.hidden=!1}getEditableAnnotations(){return Array.from(Dt(this,Hn).values())}getEditableAnnotation(Jn){return Dt(this,Hn).get(Jn)}}ds=new WeakMap,Bn=new WeakMap,Hn=new WeakMap,Xn=new WeakSet,Zv=function(Jn,Wn){var us;const Zn=Jn.firstChild||Jn;Zn.id=`${bt.AnnotationPrefix}${Wn}`,this.div.append(Jn),(us=Dt(this,ds))==null||us.moveElementInDOM(this.div,Jn,Zn,!1)},N3=function(){if(!Dt(this,Bn))return;const Jn=this.div;for(const[Wn,Zn]of Dt(this,Bn)){const us=Jn.querySelector(`[data-annotation-id="${Wn}"]`);if(!us)continue;const{firstChild:hs}=us;hs?hs.nodeName==="CANVAS"?hs.replaceWith(Zn):hs.before(Zn):us.append(Zn)}Dt(this,Bn).clear()},$.AnnotationLayer=Qt},(_e,$)=>{Object.defineProperty($,"__esModule",{value:!0}),$.ColorConverters=void 0;function xt(At){return Math.floor(Math.max(0,Math.min(1,At))*255).toString(16).padStart(2,"0")}function bt(At){return Math.max(0,Math.min(255,255*At))}class St{static CMYK_G([Ct,Et,Pt,wt]){return["G",1-Math.min(1,.3*Ct+.59*Pt+.11*Et+wt)]}static G_CMYK([Ct]){return["CMYK",0,0,0,1-Ct]}static G_RGB([Ct]){return["RGB",Ct,Ct,Ct]}static G_rgb([Ct]){return Ct=bt(Ct),[Ct,Ct,Ct]}static G_HTML([Ct]){const Et=xt(Ct);return`#${Et}${Et}${Et}`}static RGB_G([Ct,Et,Pt]){return["G",.3*Ct+.59*Et+.11*Pt]}static RGB_rgb(Ct){return Ct.map(bt)}static RGB_HTML(Ct){return`#${Ct.map(xt).join("")}`}static T_HTML(){return"#00000000"}static T_rgb(){return[null]}static CMYK_RGB([Ct,Et,Pt,wt]){return["RGB",1-Math.min(1,Ct+wt),1-Math.min(1,Pt+wt),1-Math.min(1,Et+wt)]}static CMYK_rgb([Ct,Et,Pt,wt]){return[bt(1-Math.min(1,Ct+wt)),bt(1-Math.min(1,Pt+wt)),bt(1-Math.min(1,Et+wt))]}static CMYK_HTML(Ct){const Et=this.CMYK_RGB(Ct).slice(1);return this.RGB_HTML(Et)}static RGB_CMYK([Ct,Et,Pt]){const wt=1-Ct,kt=1-Et,_t=1-Pt,ht=Math.min(wt,kt,_t);return["CMYK",wt,kt,_t,ht]}}$.ColorConverters=St},(_e,$)=>{Object.defineProperty($,"__esModule",{value:!0}),$.NullL10n=void 0,$.getL10nFallback=bt;const xt={of_pages:"of {{pagesCount}}",page_of_pages:"({{pageNumber}} of {{pagesCount}})",document_properties_kb:"{{size_kb}} KB ({{size_b}} bytes)",document_properties_mb:"{{size_mb}} MB ({{size_b}} bytes)",document_properties_date_string:"{{date}}, {{time}}",document_properties_page_size_unit_inches:"in",document_properties_page_size_unit_millimeters:"mm",document_properties_page_size_orientation_portrait:"portrait",document_properties_page_size_orientation_landscape:"landscape",document_properties_page_size_name_a3:"A3",document_properties_page_size_name_a4:"A4",document_properties_page_size_name_letter:"Letter",document_properties_page_size_name_legal:"Legal",document_properties_page_size_dimension_string:"{{width}}  {{height}} {{unit}} ({{orientation}})",document_properties_page_size_dimension_name_string:"{{width}}  {{height}} {{unit}} ({{name}}, {{orientation}})",document_properties_linearized_yes:"Yes",document_properties_linearized_no:"No",additional_layers:"Additional Layers",page_landmark:"Page {{page}}",thumb_page_title:"Page {{page}}",thumb_page_canvas:"Thumbnail of Page {{page}}",find_reached_top:"Reached top of document, continued from bottom",find_reached_bottom:"Reached end of document, continued from top","find_match_count[one]":"{{current}} of {{total}} match","find_match_count[other]":"{{current}} of {{total}} matches","find_match_count_limit[one]":"More than {{limit}} match","find_match_count_limit[other]":"More than {{limit}} matches",find_not_found:"Phrase not found",page_scale_width:"Page Width",page_scale_fit:"Page Fit",page_scale_auto:"Automatic Zoom",page_scale_actual:"Actual Size",page_scale_percent:"{{scale}}%",loading_error:"An error occurred while loading the PDF.",invalid_file_error:"Invalid or corrupted PDF file.",missing_file_error:"Missing PDF file.",unexpected_response_error:"Unexpected server response.",rendering_error:"An error occurred while rendering the page.",annotation_date_string:"{{date}}, {{time}}",printing_not_supported:"Warning: Printing is not fully supported by this browser.",printing_not_ready:"Warning: The PDF is not fully loaded for printing.",web_fonts_disabled:"Web fonts are disabled: unable to use embedded PDF fonts.",free_text2_default_content:"Start typing",editor_free_text2_aria_label:"Text Editor",editor_ink2_aria_label:"Draw Editor",editor_ink_canvas_aria_label:"User-created image",editor_alt_text_button_label:"Alt text",editor_alt_text_edit_button_label:"Edit alt text",editor_alt_text_decorative_tooltip:"Marked as decorative"};xt.print_progress_percent="{{progress}}%";function bt(Ct,Et){switch(Ct){case"find_match_count":Ct=`find_match_count[${Et.total===1?"one":"other"}]`;break;case"find_match_count_limit":Ct=`find_match_count_limit[${Et.limit===1?"one":"other"}]`;break}return xt[Ct]||""}function St(Ct,Et){return Et?Ct.replaceAll(/\{\{\s*(\w+)\s*\}\}/g,(Pt,wt)=>wt in Et?Et[wt]:"{{"+wt+"}}"):Ct}const At={async getLanguage(){return"en-us"},async getDirection(){return"ltr"},async get(Ct,Et=null,Pt=bt(Ct,Et)){return St(Pt,Et)},async translate(Ct){}};$.NullL10n=At},(_e,$,xt)=>{Object.defineProperty($,"__esModule",{value:!0}),$.XfaLayer=void 0;var bt=xt(25);class St{static setupStorage(Ct,Et,Pt,wt,kt){const _t=wt.getValue(Et,{value:null});switch(Pt.name){case"textarea":if(_t.value!==null&&(Ct.textContent=_t.value),kt==="print")break;Ct.addEventListener("input",ht=>{wt.setValue(Et,{value:ht.target.value})});break;case"input":if(Pt.attributes.type==="radio"||Pt.attributes.type==="checkbox"){if(_t.value===Pt.attributes.xfaOn?Ct.setAttribute("checked",!0):_t.value===Pt.attributes.xfaOff&&Ct.removeAttribute("checked"),kt==="print")break;Ct.addEventListener("change",ht=>{wt.setValue(Et,{value:ht.target.checked?ht.target.getAttribute("xfaOn"):ht.target.getAttribute("xfaOff")})})}else{if(_t.value!==null&&Ct.setAttribute("value",_t.value),kt==="print")break;Ct.addEventListener("input",ht=>{wt.setValue(Et,{value:ht.target.value})})}break;case"select":if(_t.value!==null){Ct.setAttribute("value",_t.value);for(const ht of Pt.children)ht.attributes.value===_t.value?ht.attributes.selected=!0:ht.attributes.hasOwnProperty("selected")&&delete ht.attributes.selected}Ct.addEventListener("input",ht=>{const vt=ht.target.options,Ft=vt.selectedIndex===-1?"":vt[vt.selectedIndex].value;wt.setValue(Et,{value:Ft})});break}}static setAttributes({html:Ct,element:Et,storage:Pt=null,intent:wt,linkService:kt}){const{attributes:_t}=Et,ht=Ct instanceof HTMLAnchorElement;_t.type==="radio"&&(_t.name=`${_t.name}-${wt}`);for(const[vt,Ft]of Object.entries(_t))if(Ft!=null)switch(vt){case"class":Ft.length&&Ct.setAttribute(vt,Ft.join(" "));break;case"dataId":break;case"id":Ct.setAttribute("data-element-id",Ft);break;case"style":Object.assign(Ct.style,Ft);break;case"textContent":Ct.textContent=Ft;break;default:(!ht||vt!=="href"&&vt!=="newWindow")&&Ct.setAttribute(vt,Ft)}ht&&kt.addLinkAttributes(Ct,_t.href,_t.newWindow),Pt&&_t.dataId&&this.setupStorage(Ct,_t.dataId,Et,Pt)}static render(Ct){var Vt;const Et=Ct.annotationStorage,Pt=Ct.linkService,wt=Ct.xfaHtml,kt=Ct.intent||"display",_t=document.createElement(wt.name);wt.attributes&&this.setAttributes({html:_t,element:wt,intent:kt,linkService:Pt});const ht=[[wt,-1,_t]],vt=Ct.div;if(vt.append(_t),Ct.viewport){const qt=`matrix(${Ct.viewport.transform.join(",")})`;vt.style.transform=qt}kt!=="richText"&&vt.setAttribute("class","xfaLayer xfaFont");const Ft=[];for(;ht.length>0;){const[qt,Lt,$t]=ht.at(-1);if(Lt+1===qt.children.length){ht.pop();continue}const Ot=qt.children[++ht.at(-1)[1]];if(Ot===null)continue;const{name:jt}=Ot;if(jt==="#text"){const Kt=document.createTextNode(Ot.value);Ft.push(Kt),$t.append(Kt);continue}const Rt=(Vt=Ot==null?void 0:Ot.attributes)!=null&&Vt.xmlns?document.createElementNS(Ot.attributes.xmlns,jt):document.createElement(jt);if($t.append(Rt),Ot.attributes&&this.setAttributes({html:Rt,element:Ot,storage:Et,intent:kt,linkService:Pt}),Ot.children&&Ot.children.length>0)ht.push([Ot,-1,Rt]);else if(Ot.value){const Kt=document.createTextNode(Ot.value);bt.XfaText.shouldBuildText(jt)&&Ft.push(Kt),Rt.append(Kt)}}for(const qt of vt.querySelectorAll(".xfaNonInteractive input, .xfaNonInteractive textarea"))qt.setAttribute("readOnly",!0);return{textDivs:Ft}}static update(Ct){const Et=`matrix(${Ct.viewport.transform.join(",")})`;Ct.div.style.transform=Et,Ct.div.hidden=!1}}$.XfaLayer=St},(_e,$,xt)=>{var wt,kt,_t,ht,vt,Ft,Vt,qt,Lt,$t,Ot,jt,Rt,Kt,Bt,Jv,Qv,e5,t5,$3,n5,j3,i5,s5,r5,a5,o5,hu,B3,M2,I2,zp,U3,O2,cn,l5,H3,c5,u5,V3,D2,Xp;Object.defineProperty($,"__esModule",{value:!0}),$.InkEditor=void 0;var bt=xt(1),St=xt(4),At=xt(29),Ct=xt(6),Et=xt(5);const Tn=class Tn extends St.AnnotationEditor{constructor(pn){super({...pn,name:"inkEditor"});Nn(this,Bt);Nn(this,wt,0);Nn(this,kt,0);Nn(this,_t,this.canvasPointermove.bind(this));Nn(this,ht,this.canvasPointerleave.bind(this));Nn(this,vt,this.canvasPointerup.bind(this));Nn(this,Ft,this.canvasPointerdown.bind(this));Nn(this,Vt,new Path2D);Nn(this,qt,!1);Nn(this,Lt,!1);Nn(this,$t,!1);Nn(this,Ot,null);Nn(this,jt,0);Nn(this,Rt,0);Nn(this,Kt,null);this.color=pn.color||null,this.thickness=pn.thickness||null,this.opacity=pn.opacity||null,this.paths=[],this.bezierPath2D=[],this.allRawPaths=[],this.currentPath=[],this.scaleFactor=1,this.translationX=this.translationY=0,this.x=0,this.y=0,this._willKeepAspectRatio=!0}static initialize(pn){St.AnnotationEditor.initialize(pn,{strings:["editor_ink_canvas_aria_label","editor_ink2_aria_label"]})}static updateDefaultParams(pn,Jt){switch(pn){case bt.AnnotationEditorParamsType.INK_THICKNESS:Tn._defaultThickness=Jt;break;case bt.AnnotationEditorParamsType.INK_COLOR:Tn._defaultColor=Jt;break;case bt.AnnotationEditorParamsType.INK_OPACITY:Tn._defaultOpacity=Jt/100;break}}updateParams(pn,Jt){switch(pn){case bt.AnnotationEditorParamsType.INK_THICKNESS:On(this,Bt,Jv).call(this,Jt);break;case bt.AnnotationEditorParamsType.INK_COLOR:On(this,Bt,Qv).call(this,Jt);break;case bt.AnnotationEditorParamsType.INK_OPACITY:On(this,Bt,e5).call(this,Jt);break}}static get defaultPropertiesToUpdate(){return[[bt.AnnotationEditorParamsType.INK_THICKNESS,Tn._defaultThickness],[bt.AnnotationEditorParamsType.INK_COLOR,Tn._defaultColor||St.AnnotationEditor._defaultLineColor],[bt.AnnotationEditorParamsType.INK_OPACITY,Math.round(Tn._defaultOpacity*100)]]}get propertiesToUpdate(){return[[bt.AnnotationEditorParamsType.INK_THICKNESS,this.thickness||Tn._defaultThickness],[bt.AnnotationEditorParamsType.INK_COLOR,this.color||Tn._defaultColor||St.AnnotationEditor._defaultLineColor],[bt.AnnotationEditorParamsType.INK_OPACITY,Math.round(100*(this.opacity??Tn._defaultOpacity))]]}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.canvas||(On(this,Bt,M2).call(this),On(this,Bt,I2).call(this)),this.isAttachedToDOM||(this.parent.add(this),On(this,Bt,zp).call(this)),On(this,Bt,Xp).call(this)))}remove(){this.canvas!==null&&(this.isEmpty()||this.commit(),this.canvas.width=this.canvas.height=0,this.canvas.remove(),this.canvas=null,Dt(this,Ot).disconnect(),$n(this,Ot,null),super.remove())}setParent(pn){!this.parent&&pn?this._uiManager.removeShouldRescale(this):this.parent&&pn===null&&this._uiManager.addShouldRescale(this),super.setParent(pn)}onScaleChanging(){const[pn,Jt]=this.parentDimensions,un=this.width*pn,fn=this.height*Jt;this.setDimensions(un,fn)}enableEditMode(){Dt(this,qt)||this.canvas===null||(super.enableEditMode(),this._isDraggable=!1,this.canvas.addEventListener("pointerdown",Dt(this,Ft)))}disableEditMode(){!this.isInEditMode()||this.canvas===null||(super.disableEditMode(),this._isDraggable=!this.isEmpty(),this.div.classList.remove("editing"),this.canvas.removeEventListener("pointerdown",Dt(this,Ft)))}onceAdded(){this._isDraggable=!this.isEmpty()}isEmpty(){return this.paths.length===0||this.paths.length===1&&this.paths[0].length===0}commit(){Dt(this,qt)||(super.commit(),this.isEditing=!1,this.disableEditMode(),this.setInForeground(),$n(this,qt,!0),this.div.classList.add("disabled"),On(this,Bt,Xp).call(this,!0),this.makeResizable(),this.parent.addInkEditorIfNeeded(!0),this.moveInDOM(),this.div.focus({preventScroll:!0}))}focusin(pn){this._focusEventsAllowed&&(super.focusin(pn),this.enableEditMode())}canvasPointerdown(pn){pn.button!==0||!this.isInEditMode()||Dt(this,qt)||(this.setInForeground(),pn.preventDefault(),pn.type!=="mouse"&&this.div.focus(),On(this,Bt,n5).call(this,pn.offsetX,pn.offsetY))}canvasPointermove(pn){pn.preventDefault(),On(this,Bt,j3).call(this,pn.offsetX,pn.offsetY)}canvasPointerup(pn){pn.preventDefault(),On(this,Bt,B3).call(this,pn)}canvasPointerleave(pn){On(this,Bt,B3).call(this,pn)}get isResizable(){return!this.isEmpty()&&Dt(this,qt)}render(){if(this.div)return this.div;let pn,Jt;this.width&&(pn=this.x,Jt=this.y),super.render(),St.AnnotationEditor._l10nPromise.get("editor_ink2_aria_label").then(Pn=>{var Cn;return(Cn=this.div)==null?void 0:Cn.setAttribute("aria-label",Pn)});const[un,fn,Sn,kn]=On(this,Bt,t5).call(this);if(this.setAt(un,fn,0,0),this.setDims(Sn,kn),On(this,Bt,M2).call(this),this.width){const[Pn,Cn]=this.parentDimensions;this.setAspectRatio(this.width*Pn,this.height*Cn),this.setAt(pn*Pn,Jt*Cn,this.width*Pn,this.height*Cn),$n(this,$t,!0),On(this,Bt,zp).call(this),this.setDims(this.width*Pn,this.height*Cn),On(this,Bt,hu).call(this),this.div.classList.add("disabled")}else this.div.classList.add("editing"),this.enableEditMode();return On(this,Bt,I2).call(this),this.div}setDimensions(pn,Jt){const un=Math.round(pn),fn=Math.round(Jt);if(Dt(this,jt)===un&&Dt(this,Rt)===fn)return;$n(this,jt,un),$n(this,Rt,fn),this.canvas.style.visibility="hidden";const[Sn,kn]=this.parentDimensions;this.width=pn/Sn,this.height=Jt/kn,this.fixAndSetPosition(),Dt(this,qt)&&On(this,Bt,U3).call(this,pn,Jt),On(this,Bt,zp).call(this),On(this,Bt,hu).call(this),this.canvas.style.visibility="visible",this.fixDims()}static deserialize(pn,Jt,un){var Un,ts,es;if(pn instanceof At.InkAnnotationElement)return null;const fn=super.deserialize(pn,Jt,un);fn.thickness=pn.thickness,fn.color=bt.Util.makeHexColor(...pn.color),fn.opacity=pn.opacity;const[Sn,kn]=fn.pageDimensions,Pn=fn.width*Sn,Cn=fn.height*kn,vn=fn.parentScale,Rn=pn.thickness/2;$n(fn,qt,!0),$n(fn,jt,Math.round(Pn)),$n(fn,Rt,Math.round(Cn));const{paths:Mn,rect:_n,rotation:Dn}=pn;for(let{bezier:Qn}of Mn){Qn=On(Un=Tn,cn,c5).call(Un,Qn,_n,Dn);const Yn=[];fn.paths.push(Yn);let zn=vn*(Qn[0]-Rn),ns=vn*(Qn[1]-Rn);for(let ds=2,Bn=Qn.length;ds<Bn;ds+=6){const Hn=vn*(Qn[ds]-Rn),Xn=vn*(Qn[ds+1]-Rn),cs=vn*(Qn[ds+2]-Rn),rs=vn*(Qn[ds+3]-Rn),xs=vn*(Qn[ds+4]-Rn),Jn=vn*(Qn[ds+5]-Rn);Yn.push([[zn,ns],[Hn,Xn],[cs,rs],[xs,Jn]]),zn=xs,ns=Jn}const ls=On(this,cn,l5).call(this,Yn);fn.bezierPath2D.push(ls)}const Ln=On(ts=fn,Bt,V3).call(ts);return $n(fn,kt,Math.max(St.AnnotationEditor.MIN_SIZE,Ln[2]-Ln[0])),$n(fn,wt,Math.max(St.AnnotationEditor.MIN_SIZE,Ln[3]-Ln[1])),On(es=fn,Bt,U3).call(es,Pn,Cn),fn}serialize(){if(this.isEmpty())return null;const pn=this.getRect(0,0),Jt=St.AnnotationEditor._colorManager.convert(this.ctx.strokeStyle);return{annotationType:bt.AnnotationEditorType.INK,color:Jt,thickness:this.thickness,opacity:this.opacity,paths:On(this,Bt,u5).call(this,this.scaleFactor/this.parentScale,this.translationX,this.translationY,pn),pageIndex:this.pageIndex,rect:pn,rotation:this.rotation,structTreeParentId:this._structTreeParentId}}};wt=new WeakMap,kt=new WeakMap,_t=new WeakMap,ht=new WeakMap,vt=new WeakMap,Ft=new WeakMap,Vt=new WeakMap,qt=new WeakMap,Lt=new WeakMap,$t=new WeakMap,Ot=new WeakMap,jt=new WeakMap,Rt=new WeakMap,Kt=new WeakMap,Bt=new WeakSet,Jv=function(pn){const Jt=this.thickness;this.addCommands({cmd:()=>{this.thickness=pn,On(this,Bt,Xp).call(this)},undo:()=>{this.thickness=Jt,On(this,Bt,Xp).call(this)},mustExec:!0,type:bt.AnnotationEditorParamsType.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0})},Qv=function(pn){const Jt=this.color;this.addCommands({cmd:()=>{this.color=pn,On(this,Bt,hu).call(this)},undo:()=>{this.color=Jt,On(this,Bt,hu).call(this)},mustExec:!0,type:bt.AnnotationEditorParamsType.INK_COLOR,overwriteIfSameType:!0,keepUndo:!0})},e5=function(pn){pn/=100;const Jt=this.opacity;this.addCommands({cmd:()=>{this.opacity=pn,On(this,Bt,hu).call(this)},undo:()=>{this.opacity=Jt,On(this,Bt,hu).call(this)},mustExec:!0,type:bt.AnnotationEditorParamsType.INK_OPACITY,overwriteIfSameType:!0,keepUndo:!0})},t5=function(){const{parentRotation:pn,parentDimensions:[Jt,un]}=this;switch(pn){case 90:return[0,un,un,Jt];case 180:return[Jt,un,Jt,un];case 270:return[Jt,0,un,Jt];default:return[0,0,Jt,un]}},$3=function(){const{ctx:pn,color:Jt,opacity:un,thickness:fn,parentScale:Sn,scaleFactor:kn}=this;pn.lineWidth=fn*Sn/kn,pn.lineCap="round",pn.lineJoin="round",pn.miterLimit=10,pn.strokeStyle=`${Jt}${(0,Et.opacityToHex)(un)}`},n5=function(pn,Jt){this.canvas.addEventListener("contextmenu",Ct.noContextMenu),this.canvas.addEventListener("pointerleave",Dt(this,ht)),this.canvas.addEventListener("pointermove",Dt(this,_t)),this.canvas.addEventListener("pointerup",Dt(this,vt)),this.canvas.removeEventListener("pointerdown",Dt(this,Ft)),this.isEditing=!0,Dt(this,$t)||($n(this,$t,!0),On(this,Bt,zp).call(this),this.thickness||(this.thickness=Tn._defaultThickness),this.color||(this.color=Tn._defaultColor||St.AnnotationEditor._defaultLineColor),this.opacity??(this.opacity=Tn._defaultOpacity)),this.currentPath.push([pn,Jt]),$n(this,Lt,!1),On(this,Bt,$3).call(this),$n(this,Kt,()=>{On(this,Bt,r5).call(this),Dt(this,Kt)&&window.requestAnimationFrame(Dt(this,Kt))}),window.requestAnimationFrame(Dt(this,Kt))},j3=function(pn,Jt){const[un,fn]=this.currentPath.at(-1);if(this.currentPath.length>1&&pn===un&&Jt===fn)return;const Sn=this.currentPath;let kn=Dt(this,Vt);if(Sn.push([pn,Jt]),$n(this,Lt,!0),Sn.length<=2){kn.moveTo(...Sn[0]),kn.lineTo(pn,Jt);return}Sn.length===3&&($n(this,Vt,kn=new Path2D),kn.moveTo(...Sn[0])),On(this,Bt,a5).call(this,kn,...Sn.at(-3),...Sn.at(-2),pn,Jt)},i5=function(){if(this.currentPath.length===0)return;const pn=this.currentPath.at(-1);Dt(this,Vt).lineTo(...pn)},s5=function(pn,Jt){$n(this,Kt,null),pn=Math.min(Math.max(pn,0),this.canvas.width),Jt=Math.min(Math.max(Jt,0),this.canvas.height),On(this,Bt,j3).call(this,pn,Jt),On(this,Bt,i5).call(this);let un;if(this.currentPath.length!==1)un=On(this,Bt,o5).call(this);else{const Cn=[pn,Jt];un=[[Cn,Cn.slice(),Cn.slice(),Cn]]}const fn=Dt(this,Vt),Sn=this.currentPath;this.currentPath=[],$n(this,Vt,new Path2D);const kn=()=>{this.allRawPaths.push(Sn),this.paths.push(un),this.bezierPath2D.push(fn),this.rebuild()},Pn=()=>{this.allRawPaths.pop(),this.paths.pop(),this.bezierPath2D.pop(),this.paths.length===0?this.remove():(this.canvas||(On(this,Bt,M2).call(this),On(this,Bt,I2).call(this)),On(this,Bt,Xp).call(this))};this.addCommands({cmd:kn,undo:Pn,mustExec:!0})},r5=function(){if(!Dt(this,Lt))return;$n(this,Lt,!1);const pn=Math.ceil(this.thickness*this.parentScale),Jt=this.currentPath.slice(-3),un=Jt.map(kn=>kn[0]),fn=Jt.map(kn=>kn[1]);Math.min(...un)-pn,Math.max(...un)+pn,Math.min(...fn)-pn,Math.max(...fn)+pn;const{ctx:Sn}=this;Sn.save(),Sn.clearRect(0,0,this.canvas.width,this.canvas.height);for(const kn of this.bezierPath2D)Sn.stroke(kn);Sn.stroke(Dt(this,Vt)),Sn.restore()},a5=function(pn,Jt,un,fn,Sn,kn,Pn){const Cn=(Jt+fn)/2,vn=(un+Sn)/2,Rn=(fn+kn)/2,Mn=(Sn+Pn)/2;pn.bezierCurveTo(Cn+2*(fn-Cn)/3,vn+2*(Sn-vn)/3,Rn+2*(fn-Rn)/3,Mn+2*(Sn-Mn)/3,Rn,Mn)},o5=function(){const pn=this.currentPath;if(pn.length<=2)return[[pn[0],pn[0],pn.at(-1),pn.at(-1)]];const Jt=[];let un,[fn,Sn]=pn[0];for(un=1;un<pn.length-2;un++){const[_n,Dn]=pn[un],[Ln,Un]=pn[un+1],ts=(_n+Ln)/2,es=(Dn+Un)/2,Qn=[fn+2*(_n-fn)/3,Sn+2*(Dn-Sn)/3],Yn=[ts+2*(_n-ts)/3,es+2*(Dn-es)/3];Jt.push([[fn,Sn],Qn,Yn,[ts,es]]),[fn,Sn]=[ts,es]}const[kn,Pn]=pn[un],[Cn,vn]=pn[un+1],Rn=[fn+2*(kn-fn)/3,Sn+2*(Pn-Sn)/3],Mn=[Cn+2*(kn-Cn)/3,vn+2*(Pn-vn)/3];return Jt.push([[fn,Sn],Rn,Mn,[Cn,vn]]),Jt},hu=function(){if(this.isEmpty()){On(this,Bt,O2).call(this);return}On(this,Bt,$3).call(this);const{canvas:pn,ctx:Jt}=this;Jt.setTransform(1,0,0,1,0,0),Jt.clearRect(0,0,pn.width,pn.height),On(this,Bt,O2).call(this);for(const un of this.bezierPath2D)Jt.stroke(un)},B3=function(pn){this.canvas.removeEventListener("pointerleave",Dt(this,ht)),this.canvas.removeEventListener("pointermove",Dt(this,_t)),this.canvas.removeEventListener("pointerup",Dt(this,vt)),this.canvas.addEventListener("pointerdown",Dt(this,Ft)),setTimeout(()=>{this.canvas.removeEventListener("contextmenu",Ct.noContextMenu)},10),On(this,Bt,s5).call(this,pn.offsetX,pn.offsetY),this.addToAnnotationStorage(),this.setInBackground()},M2=function(){this.canvas=document.createElement("canvas"),this.canvas.width=this.canvas.height=0,this.canvas.className="inkEditorCanvas",St.AnnotationEditor._l10nPromise.get("editor_ink_canvas_aria_label").then(pn=>{var Jt;return(Jt=this.canvas)==null?void 0:Jt.setAttribute("aria-label",pn)}),this.div.append(this.canvas),this.ctx=this.canvas.getContext("2d")},I2=function(){$n(this,Ot,new ResizeObserver(pn=>{const Jt=pn[0].contentRect;Jt.width&&Jt.height&&this.setDimensions(Jt.width,Jt.height)})),Dt(this,Ot).observe(this.div)},zp=function(){if(!Dt(this,$t))return;const[pn,Jt]=this.parentDimensions;this.canvas.width=Math.ceil(this.width*pn),this.canvas.height=Math.ceil(this.height*Jt),On(this,Bt,O2).call(this)},U3=function(pn,Jt){const un=On(this,Bt,D2).call(this),fn=(pn-un)/Dt(this,kt),Sn=(Jt-un)/Dt(this,wt);this.scaleFactor=Math.min(fn,Sn)},O2=function(){const pn=On(this,Bt,D2).call(this)/2;this.ctx.setTransform(this.scaleFactor,0,0,this.scaleFactor,this.translationX*this.scaleFactor+pn,this.translationY*this.scaleFactor+pn)},cn=new WeakSet,l5=function(pn){const Jt=new Path2D;for(let un=0,fn=pn.length;un<fn;un++){const[Sn,kn,Pn,Cn]=pn[un];un===0&&Jt.moveTo(...Sn),Jt.bezierCurveTo(kn[0],kn[1],Pn[0],Pn[1],Cn[0],Cn[1])}return Jt},H3=function(pn,Jt,un){const[fn,Sn,kn,Pn]=Jt;switch(un){case 0:for(let Cn=0,vn=pn.length;Cn<vn;Cn+=2)pn[Cn]+=fn,pn[Cn+1]=Pn-pn[Cn+1];break;case 90:for(let Cn=0,vn=pn.length;Cn<vn;Cn+=2){const Rn=pn[Cn];pn[Cn]=pn[Cn+1]+fn,pn[Cn+1]=Rn+Sn}break;case 180:for(let Cn=0,vn=pn.length;Cn<vn;Cn+=2)pn[Cn]=kn-pn[Cn],pn[Cn+1]+=Sn;break;case 270:for(let Cn=0,vn=pn.length;Cn<vn;Cn+=2){const Rn=pn[Cn];pn[Cn]=kn-pn[Cn+1],pn[Cn+1]=Pn-Rn}break;default:throw new Error("Invalid rotation")}return pn},c5=function(pn,Jt,un){const[fn,Sn,kn,Pn]=Jt;switch(un){case 0:for(let Cn=0,vn=pn.length;Cn<vn;Cn+=2)pn[Cn]-=fn,pn[Cn+1]=Pn-pn[Cn+1];break;case 90:for(let Cn=0,vn=pn.length;Cn<vn;Cn+=2){const Rn=pn[Cn];pn[Cn]=pn[Cn+1]-Sn,pn[Cn+1]=Rn-fn}break;case 180:for(let Cn=0,vn=pn.length;Cn<vn;Cn+=2)pn[Cn]=kn-pn[Cn],pn[Cn+1]-=Sn;break;case 270:for(let Cn=0,vn=pn.length;Cn<vn;Cn+=2){const Rn=pn[Cn];pn[Cn]=Pn-pn[Cn+1],pn[Cn+1]=kn-Rn}break;default:throw new Error("Invalid rotation")}return pn},u5=function(pn,Jt,un,fn){var vn,Rn;const Sn=[],kn=this.thickness/2,Pn=pn*Jt+kn,Cn=pn*un+kn;for(const Mn of this.paths){const _n=[],Dn=[];for(let Ln=0,Un=Mn.length;Ln<Un;Ln++){const[ts,es,Qn,Yn]=Mn[Ln],zn=pn*ts[0]+Pn,ns=pn*ts[1]+Cn,ls=pn*es[0]+Pn,ds=pn*es[1]+Cn,Bn=pn*Qn[0]+Pn,Hn=pn*Qn[1]+Cn,Xn=pn*Yn[0]+Pn,cs=pn*Yn[1]+Cn;Ln===0&&(_n.push(zn,ns),Dn.push(zn,ns)),_n.push(ls,ds,Bn,Hn,Xn,cs),Dn.push(ls,ds),Ln===Un-1&&Dn.push(Xn,cs)}Sn.push({bezier:On(vn=Tn,cn,H3).call(vn,_n,fn,this.rotation),points:On(Rn=Tn,cn,H3).call(Rn,Dn,fn,this.rotation)})}return Sn},V3=function(){let pn=1/0,Jt=-1/0,un=1/0,fn=-1/0;for(const Sn of this.paths)for(const[kn,Pn,Cn,vn]of Sn){const Rn=bt.Util.bezierBoundingBox(...kn,...Pn,...Cn,...vn);pn=Math.min(pn,Rn[0]),un=Math.min(un,Rn[1]),Jt=Math.max(Jt,Rn[2]),fn=Math.max(fn,Rn[3])}return[pn,un,Jt,fn]},D2=function(){return Dt(this,qt)?Math.ceil(this.thickness*this.parentScale):0},Xp=function(pn=!1){if(this.isEmpty())return;if(!Dt(this,qt)){On(this,Bt,hu).call(this);return}const Jt=On(this,Bt,V3).call(this),un=On(this,Bt,D2).call(this);$n(this,kt,Math.max(St.AnnotationEditor.MIN_SIZE,Jt[2]-Jt[0])),$n(this,wt,Math.max(St.AnnotationEditor.MIN_SIZE,Jt[3]-Jt[1]));const fn=Math.ceil(un+Dt(this,kt)*this.scaleFactor),Sn=Math.ceil(un+Dt(this,wt)*this.scaleFactor),[kn,Pn]=this.parentDimensions;this.width=fn/kn,this.height=Sn/Pn,this.setAspectRatio(fn,Sn);const Cn=this.translationX,vn=this.translationY;this.translationX=-Jt[0],this.translationY=-Jt[1],On(this,Bt,zp).call(this),On(this,Bt,hu).call(this),$n(this,jt,fn),$n(this,Rt,Sn),this.setDims(fn,Sn);const Rn=pn?un/this.scaleFactor/2:0;this.translate(Cn-this.translationX-Rn,vn-this.translationY-Rn)},Nn(Tn,cn),Us(Tn,"_defaultColor",null),Us(Tn,"_defaultOpacity",1),Us(Tn,"_defaultThickness",1),Us(Tn,"_type","ink");let Pt=Tn;$.InkEditor=Pt},(_e,$,xt)=>{var Pt,wt,kt,_t,ht,vt,Ft,Vt,qt,Lt,$t,fm,pm,L2,z3,h5,d5,X3,N2,f5;Object.defineProperty($,"__esModule",{value:!0}),$.StampEditor=void 0;var bt=xt(1),St=xt(4),At=xt(6),Ct=xt(29);const gn=class gn extends St.AnnotationEditor{constructor(Wt){super({...Wt,name:"stampEditor"});Nn(this,$t);Nn(this,Pt,null);Nn(this,wt,null);Nn(this,kt,null);Nn(this,_t,null);Nn(this,ht,null);Nn(this,vt,null);Nn(this,Ft,null);Nn(this,Vt,null);Nn(this,qt,!1);Nn(this,Lt,!1);$n(this,_t,Wt.bitmapUrl),$n(this,ht,Wt.bitmapFile)}static initialize(Wt){St.AnnotationEditor.initialize(Wt)}static get supportedTypes(){const Wt=["apng","avif","bmp","gif","jpeg","png","svg+xml","webp","x-icon"];return(0,bt.shadow)(this,"supportedTypes",Wt.map(Yt=>`image/${Yt}`))}static get supportedTypesStr(){return(0,bt.shadow)(this,"supportedTypesStr",this.supportedTypes.join(","))}static isHandlingMimeForPasting(Wt){return this.supportedTypes.includes(Wt)}static paste(Wt,Yt){Yt.pasteEditor(bt.AnnotationEditorType.STAMP,{bitmapFile:Wt.getAsFile()})}remove(){var Wt,Yt;Dt(this,wt)&&($n(this,Pt,null),this._uiManager.imageManager.deleteId(Dt(this,wt)),(Wt=Dt(this,vt))==null||Wt.remove(),$n(this,vt,null),(Yt=Dt(this,Ft))==null||Yt.disconnect(),$n(this,Ft,null)),super.remove()}rebuild(){if(!this.parent){Dt(this,wt)&&On(this,$t,L2).call(this);return}super.rebuild(),this.div!==null&&(Dt(this,wt)&&On(this,$t,L2).call(this),this.isAttachedToDOM||this.parent.add(this))}onceAdded(){this._isDraggable=!0,this.div.focus()}isEmpty(){return!(Dt(this,kt)||Dt(this,Pt)||Dt(this,_t)||Dt(this,ht))}get isResizable(){return!0}render(){if(this.div)return this.div;let Wt,Yt;if(this.width&&(Wt=this.x,Yt=this.y),super.render(),this.div.hidden=!0,Dt(this,Pt)?On(this,$t,z3).call(this):On(this,$t,L2).call(this),this.width){const[dn,Ut]=this.parentDimensions;this.setAt(Wt*dn,Yt*Ut,this.width*dn,this.height*Ut)}return this.div}static deserialize(Wt,Yt,dn){if(Wt instanceof Ct.StampAnnotationElement)return null;const Ut=super.deserialize(Wt,Yt,dn),{rect:Mt,bitmapUrl:Ht,bitmapId:sn,isSvg:zt,accessibilityData:Xt}=Wt;sn&&dn.imageManager.isValidId(sn)?$n(Ut,wt,sn):$n(Ut,_t,Ht),$n(Ut,qt,zt);const[Qt,ln]=Ut.pageDimensions;return Ut.width=(Mt[2]-Mt[0])/Qt,Ut.height=(Mt[3]-Mt[1])/ln,Xt&&(Ut.altTextData=Xt),Ut}serialize(Wt=!1,Yt=null){if(this.isEmpty())return null;const dn={annotationType:bt.AnnotationEditorType.STAMP,bitmapId:Dt(this,wt),pageIndex:this.pageIndex,rect:this.getRect(0,0),rotation:this.rotation,isSvg:Dt(this,qt),structTreeParentId:this._structTreeParentId};if(Wt)return dn.bitmapUrl=On(this,$t,N2).call(this,!0),dn.accessibilityData=this.altTextData,dn;const{decorative:Ut,altText:Mt}=this.altTextData;if(!Ut&&Mt&&(dn.accessibilityData={type:"Figure",alt:Mt}),Yt===null)return dn;Yt.stamps||(Yt.stamps=new Map);const Ht=Dt(this,qt)?(dn.rect[2]-dn.rect[0])*(dn.rect[3]-dn.rect[1]):null;if(!Yt.stamps.has(Dt(this,wt)))Yt.stamps.set(Dt(this,wt),{area:Ht,serialized:dn}),dn.bitmap=On(this,$t,N2).call(this,!1);else if(Dt(this,qt)){const sn=Yt.stamps.get(Dt(this,wt));Ht>sn.area&&(sn.area=Ht,sn.serialized.bitmap.close(),sn.serialized.bitmap=On(this,$t,N2).call(this,!1))}return dn}};Pt=new WeakMap,wt=new WeakMap,kt=new WeakMap,_t=new WeakMap,ht=new WeakMap,vt=new WeakMap,Ft=new WeakMap,Vt=new WeakMap,qt=new WeakMap,Lt=new WeakMap,$t=new WeakSet,fm=function(Wt,Yt=!1){if(!Wt){this.remove();return}$n(this,Pt,Wt.bitmap),Yt||($n(this,wt,Wt.id),$n(this,qt,Wt.isSvg)),On(this,$t,z3).call(this)},pm=function(){$n(this,kt,null),this._uiManager.enableWaiting(!1),Dt(this,vt)&&this.div.focus()},L2=function(){if(Dt(this,wt)){this._uiManager.enableWaiting(!0),this._uiManager.imageManager.getFromId(Dt(this,wt)).then(Yt=>On(this,$t,fm).call(this,Yt,!0)).finally(()=>On(this,$t,pm).call(this));return}if(Dt(this,_t)){const Yt=Dt(this,_t);$n(this,_t,null),this._uiManager.enableWaiting(!0),$n(this,kt,this._uiManager.imageManager.getFromUrl(Yt).then(dn=>On(this,$t,fm).call(this,dn)).finally(()=>On(this,$t,pm).call(this)));return}if(Dt(this,ht)){const Yt=Dt(this,ht);$n(this,ht,null),this._uiManager.enableWaiting(!0),$n(this,kt,this._uiManager.imageManager.getFromFile(Yt).then(dn=>On(this,$t,fm).call(this,dn)).finally(()=>On(this,$t,pm).call(this)));return}const Wt=document.createElement("input");Wt.type="file",Wt.accept=gn.supportedTypesStr,$n(this,kt,new Promise(Yt=>{Wt.addEventListener("change",async()=>{if(!Wt.files||Wt.files.length===0)this.remove();else{this._uiManager.enableWaiting(!0);const dn=await this._uiManager.imageManager.getFromFile(Wt.files[0]);On(this,$t,fm).call(this,dn)}Yt()}),Wt.addEventListener("cancel",()=>{this.remove(),Yt()})}).finally(()=>On(this,$t,pm).call(this))),Wt.click()},z3=function(){const{div:Wt}=this;let{width:Yt,height:dn}=Dt(this,Pt);const[Ut,Mt]=this.pageDimensions,Ht=.75;if(this.width)Yt=this.width*Ut,dn=this.height*Mt;else if(Yt>Ht*Ut||dn>Ht*Mt){const Qt=Math.min(Ht*Ut/Yt,Ht*Mt/dn);Yt*=Qt,dn*=Qt}const[sn,zt]=this.parentDimensions;this.setDims(Yt*sn/Ut,dn*zt/Mt),this._uiManager.enableWaiting(!1);const Xt=$n(this,vt,document.createElement("canvas"));Wt.append(Xt),Wt.hidden=!1,On(this,$t,X3).call(this,Yt,dn),On(this,$t,f5).call(this),Dt(this,Lt)||(this.parent.addUndoableEditor(this),$n(this,Lt,!0)),this._uiManager._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",subtype:this.editorType,data:{action:"inserted_image"}}}),this.addAltTextButton()},h5=function(Wt,Yt){var Ht;const[dn,Ut]=this.parentDimensions;this.width=Wt/dn,this.height=Yt/Ut,this.setDims(Wt,Yt),(Ht=this._initialOptions)!=null&&Ht.isCentered?this.center():this.fixAndSetPosition(),this._initialOptions=null,Dt(this,Vt)!==null&&clearTimeout(Dt(this,Vt)),$n(this,Vt,setTimeout(()=>{$n(this,Vt,null),On(this,$t,X3).call(this,Wt,Yt)},200))},d5=function(Wt,Yt){const{width:dn,height:Ut}=Dt(this,Pt);let Mt=dn,Ht=Ut,sn=Dt(this,Pt);for(;Mt>2*Wt||Ht>2*Yt;){const zt=Mt,Xt=Ht;Mt>2*Wt&&(Mt=Mt>=16384?Math.floor(Mt/2)-1:Math.ceil(Mt/2)),Ht>2*Yt&&(Ht=Ht>=16384?Math.floor(Ht/2)-1:Math.ceil(Ht/2));const Qt=new OffscreenCanvas(Mt,Ht);Qt.getContext("2d").drawImage(sn,0,0,zt,Xt,0,0,Mt,Ht),sn=Qt.transferToImageBitmap()}return sn},X3=function(Wt,Yt){Wt=Math.ceil(Wt),Yt=Math.ceil(Yt);const dn=Dt(this,vt);if(!dn||dn.width===Wt&&dn.height===Yt)return;dn.width=Wt,dn.height=Yt;const Ut=Dt(this,qt)?Dt(this,Pt):On(this,$t,d5).call(this,Wt,Yt),Mt=dn.getContext("2d");Mt.filter=this._uiManager.hcmFilter,Mt.drawImage(Ut,0,0,Ut.width,Ut.height,0,0,Wt,Yt)},N2=function(Wt){if(Wt){if(Dt(this,qt)){const Ut=this._uiManager.imageManager.getSvgUrl(Dt(this,wt));if(Ut)return Ut}const Yt=document.createElement("canvas");return{width:Yt.width,height:Yt.height}=Dt(this,Pt),Yt.getContext("2d").drawImage(Dt(this,Pt),0,0),Yt.toDataURL()}if(Dt(this,qt)){const[Yt,dn]=this.pageDimensions,Ut=Math.round(this.width*Yt*At.PixelsPerInch.PDF_TO_CSS_UNITS),Mt=Math.round(this.height*dn*At.PixelsPerInch.PDF_TO_CSS_UNITS),Ht=new OffscreenCanvas(Ut,Mt);return Ht.getContext("2d").drawImage(Dt(this,Pt),0,0,Dt(this,Pt).width,Dt(this,Pt).height,0,0,Ut,Mt),Ht.transferToImageBitmap()}return structuredClone(Dt(this,Pt))},f5=function(){$n(this,Ft,new ResizeObserver(Wt=>{const Yt=Wt[0].contentRect;Yt.width&&Yt.height&&On(this,$t,h5).call(this,Yt.width,Yt.height)})),Dt(this,Ft).observe(this.div)},Us(gn,"_type","stamp");let Et=gn;$.StampEditor=Et}],__webpack_module_cache__={};function __w_pdfjs_require__(_e){var $=__webpack_module_cache__[_e];if($!==void 0)return $.exports;var xt=__webpack_module_cache__[_e]={exports:{}};return __webpack_modules__[_e](xt,xt.exports,__w_pdfjs_require__),xt.exports}var __webpack_exports__={};return(()=>{var _e=__webpack_exports__;Object.defineProperty(_e,"__esModule",{value:!0}),Object.defineProperty(_e,"AbortException",{enumerable:!0,get:function(){return $.AbortException}}),Object.defineProperty(_e,"AnnotationEditorLayer",{enumerable:!0,get:function(){return At.AnnotationEditorLayer}}),Object.defineProperty(_e,"AnnotationEditorParamsType",{enumerable:!0,get:function(){return $.AnnotationEditorParamsType}}),Object.defineProperty(_e,"AnnotationEditorType",{enumerable:!0,get:function(){return $.AnnotationEditorType}}),Object.defineProperty(_e,"AnnotationEditorUIManager",{enumerable:!0,get:function(){return Ct.AnnotationEditorUIManager}}),Object.defineProperty(_e,"AnnotationLayer",{enumerable:!0,get:function(){return Et.AnnotationLayer}}),Object.defineProperty(_e,"AnnotationMode",{enumerable:!0,get:function(){return $.AnnotationMode}}),Object.defineProperty(_e,"CMapCompressionType",{enumerable:!0,get:function(){return $.CMapCompressionType}}),Object.defineProperty(_e,"DOMSVGFactory",{enumerable:!0,get:function(){return bt.DOMSVGFactory}}),Object.defineProperty(_e,"FeatureTest",{enumerable:!0,get:function(){return $.FeatureTest}}),Object.defineProperty(_e,"GlobalWorkerOptions",{enumerable:!0,get:function(){return Pt.GlobalWorkerOptions}}),Object.defineProperty(_e,"ImageKind",{enumerable:!0,get:function(){return $.ImageKind}}),Object.defineProperty(_e,"InvalidPDFException",{enumerable:!0,get:function(){return $.InvalidPDFException}}),Object.defineProperty(_e,"MissingPDFException",{enumerable:!0,get:function(){return $.MissingPDFException}}),Object.defineProperty(_e,"OPS",{enumerable:!0,get:function(){return $.OPS}}),Object.defineProperty(_e,"PDFDataRangeTransport",{enumerable:!0,get:function(){return xt.PDFDataRangeTransport}}),Object.defineProperty(_e,"PDFDateString",{enumerable:!0,get:function(){return bt.PDFDateString}}),Object.defineProperty(_e,"PDFWorker",{enumerable:!0,get:function(){return xt.PDFWorker}}),Object.defineProperty(_e,"PasswordResponses",{enumerable:!0,get:function(){return $.PasswordResponses}}),Object.defineProperty(_e,"PermissionFlag",{enumerable:!0,get:function(){return $.PermissionFlag}}),Object.defineProperty(_e,"PixelsPerInch",{enumerable:!0,get:function(){return bt.PixelsPerInch}}),Object.defineProperty(_e,"PromiseCapability",{enumerable:!0,get:function(){return $.PromiseCapability}}),Object.defineProperty(_e,"RenderingCancelledException",{enumerable:!0,get:function(){return bt.RenderingCancelledException}}),Object.defineProperty(_e,"SVGGraphics",{enumerable:!0,get:function(){return xt.SVGGraphics}}),Object.defineProperty(_e,"UnexpectedResponseException",{enumerable:!0,get:function(){return $.UnexpectedResponseException}}),Object.defineProperty(_e,"Util",{enumerable:!0,get:function(){return $.Util}}),Object.defineProperty(_e,"VerbosityLevel",{enumerable:!0,get:function(){return $.VerbosityLevel}}),Object.defineProperty(_e,"XfaLayer",{enumerable:!0,get:function(){return wt.XfaLayer}}),Object.defineProperty(_e,"build",{enumerable:!0,get:function(){return xt.build}}),Object.defineProperty(_e,"createValidAbsoluteUrl",{enumerable:!0,get:function(){return $.createValidAbsoluteUrl}}),Object.defineProperty(_e,"getDocument",{enumerable:!0,get:function(){return xt.getDocument}}),Object.defineProperty(_e,"getFilenameFromUrl",{enumerable:!0,get:function(){return bt.getFilenameFromUrl}}),Object.defineProperty(_e,"getPdfFilenameFromUrl",{enumerable:!0,get:function(){return bt.getPdfFilenameFromUrl}}),Object.defineProperty(_e,"getXfaPageViewport",{enumerable:!0,get:function(){return bt.getXfaPageViewport}}),Object.defineProperty(_e,"isDataScheme",{enumerable:!0,get:function(){return bt.isDataScheme}}),Object.defineProperty(_e,"isPdfFile",{enumerable:!0,get:function(){return bt.isPdfFile}}),Object.defineProperty(_e,"loadScript",{enumerable:!0,get:function(){return bt.loadScript}}),Object.defineProperty(_e,"noContextMenu",{enumerable:!0,get:function(){return bt.noContextMenu}}),Object.defineProperty(_e,"normalizeUnicode",{enumerable:!0,get:function(){return $.normalizeUnicode}}),Object.defineProperty(_e,"renderTextLayer",{enumerable:!0,get:function(){return St.renderTextLayer}}),Object.defineProperty(_e,"setLayerDimensions",{enumerable:!0,get:function(){return bt.setLayerDimensions}}),Object.defineProperty(_e,"shadow",{enumerable:!0,get:function(){return $.shadow}}),Object.defineProperty(_e,"updateTextLayer",{enumerable:!0,get:function(){return St.updateTextLayer}}),Object.defineProperty(_e,"version",{enumerable:!0,get:function(){return xt.version}});var $=__w_pdfjs_require__(1),xt=__w_pdfjs_require__(2),bt=__w_pdfjs_require__(6),St=__w_pdfjs_require__(26),At=__w_pdfjs_require__(27),Ct=__w_pdfjs_require__(5),Et=__w_pdfjs_require__(29),Pt=__w_pdfjs_require__(14),wt=__w_pdfjs_require__(32)})(),__webpack_exports__})())})(pdf);var pdfExports=pdf.exports;const pdfjs=getDefaultExportFromCjs(pdfExports);var pdf_worker_entry={},pdf_worker={exports:{}};(function(_e,$){(function(bt,St){_e.exports=bt.pdfjsWorker=St()})(globalThis,()=>(()=>{var xt=[,(Ct,Et,Pt)=>{Object.defineProperty(Et,"__esModule",{value:!0}),Et.WorkerTask=Et.WorkerMessageHandler=void 0;var wt=Pt(2),kt=Pt(3),_t=Pt(4),ht=Pt(6),vt=Pt(10),Ft=Pt(68),Vt=Pt(73),qt=Pt(104),Lt=Pt(105),$t=Pt(72);class Ot{constructor(Bt){this.name=Bt,this.terminated=!1,this._capability=new wt.PromiseCapability}get finished(){return this._capability.promise}finish(){this._capability.resolve()}terminate(){this.terminated=!0}ensureNotTerminated(){if(this.terminated)throw new Error("Worker task was terminated")}}Et.WorkerTask=Ot;class jt{static setup(Bt,Gt){let en=!1;Bt.on("test",function(hn){en||(en=!0,Bt.send("test",hn instanceof Uint8Array))}),Bt.on("configure",function(hn){(0,wt.setVerbosityLevel)(hn.verbosity)}),Bt.on("GetDocRequest",function(hn){return jt.createDocumentHandler(hn,Gt)})}static createDocumentHandler(Bt,Gt){let en,hn=!1,tn=null;const gn=new Set,nn=(0,wt.getVerbosityLevel)(),{docId:bn,apiVersion:Wt}=Bt,Yt="3.11.174";if(Wt!==Yt)throw new Error(`The API version "${Wt}" does not match the Worker version "${Yt}".`);const dn=[];for(const on in[])dn.push(on);if(dn.length)throw new Error("The `Array.prototype` contains unexpected enumerable properties: "+dn.join(", ")+"; thus breaking e.g. `for...in` iteration of `Array`s.");const Ut=bn+"_worker";let Mt=new qt.MessageHandler(Ut,bn,Gt);function Ht(){if(hn)throw new Error("Worker was terminated")}function sn(on){gn.add(on)}function zt(on){on.finish(),gn.delete(on)}async function Xt(on){await en.ensureDoc("checkHeader"),await en.ensureDoc("parseStartXRef"),await en.ensureDoc("parse",[on]),await en.ensureDoc("checkFirstPage",[on]),await en.ensureDoc("checkLastPage",[on]);const cn=await en.ensureDoc("isPureXfa");if(cn){const wn=new Ot("loadXfaFonts");sn(wn),await Promise.all([en.loadXfaFonts(Mt,wn).catch(En=>{}).then(()=>zt(wn)),en.loadXfaImages()])}const[rn,an]=await Promise.all([en.ensureDoc("numPages"),en.ensureDoc("fingerprints")]),xn=cn?await en.ensureDoc("htmlForXfa"):null;return{numPages:rn,fingerprints:an,htmlForXfa:xn}}function Qt({data:on,password:cn,disableAutoFetch:rn,rangeChunkSize:an,length:xn,docBaseUrl:wn,enableXfa:En,evaluatorOptions:Fn}){const In={source:null,disableAutoFetch:rn,docBaseUrl:wn,docId:bn,enableXfa:En,evaluatorOptions:Fn,handler:Mt,length:xn,password:cn,rangeChunkSize:an},Tn=new wt.PromiseCapability;let An;if(on){try{In.source=on,An=new ht.LocalPdfManager(In),Tn.resolve(An)}catch(Sn){Tn.reject(Sn)}return Tn.promise}let mn,pn=[];try{mn=new Lt.PDFWorkerStream(Mt)}catch(Sn){return Tn.reject(Sn),Tn.promise}const Jt=mn.getFullReader();Jt.headersReady.then(function(){if(Jt.isRangeSupported){In.source=mn,In.length=Jt.contentLength,In.disableAutoFetch||(In.disableAutoFetch=Jt.isStreamingSupported),An=new ht.NetworkPdfManager(In);for(const Sn of pn)An.sendProgressiveData(Sn);pn=[],Tn.resolve(An),tn=null}}).catch(function(Sn){Tn.reject(Sn),tn=null});let un=0;const fn=function(){const Sn=(0,kt.arrayBuffersToBytes)(pn);xn&&Sn.length!==xn&&(0,wt.warn)("reported HTTP length is different from actual");try{In.source=Sn,An=new ht.LocalPdfManager(In),Tn.resolve(An)}catch(kn){Tn.reject(kn)}pn=[]};return new Promise(function(Sn,kn){const Pn=function({value:Cn,done:vn}){try{if(Ht(),vn){An||fn(),tn=null;return}un+=Cn.byteLength,Jt.isStreamingSupported||Mt.send("DocProgress",{loaded:un,total:Math.max(un,Jt.contentLength||0)}),An?An.sendProgressiveData(Cn):pn.push(Cn),Jt.read().then(Pn,kn)}catch(Rn){kn(Rn)}};Jt.read().then(Pn,kn)}).catch(function(Sn){Tn.reject(Sn),tn=null}),tn=function(Sn){mn.cancelAllRequests(Sn)},Tn.promise}function ln(on){function cn(xn){Ht(),Mt.send("GetDoc",{pdfInfo:xn})}function rn(xn){if(Ht(),xn instanceof wt.PasswordException){const wn=new Ot(`PasswordException: response ${xn.code}`);sn(wn),Mt.sendWithPromise("PasswordRequest",xn).then(function({password:En}){zt(wn),en.updatePassword(En),an()}).catch(function(){zt(wn),Mt.send("DocException",xn)})}else xn instanceof wt.InvalidPDFException||xn instanceof wt.MissingPDFException||xn instanceof wt.UnexpectedResponseException||xn instanceof wt.UnknownErrorException?Mt.send("DocException",xn):Mt.send("DocException",new wt.UnknownErrorException(xn.message,xn.toString()))}function an(){Ht(),Xt(!1).then(cn,function(xn){if(Ht(),!(xn instanceof kt.XRefParseException)){rn(xn);return}en.requestLoadedStream().then(function(){Ht(),Xt(!0).then(cn,rn)})})}Ht(),Qt(on).then(function(xn){if(hn)throw xn.terminate(new wt.AbortException("Worker was terminated.")),new Error("Worker was terminated");en=xn,en.requestLoadedStream(!0).then(wn=>{Mt.send("DataLoaded",{length:wn.bytes.byteLength})})}).then(an,rn)}return Mt.on("GetPage",function(on){return en.getPage(on.pageIndex).then(function(cn){return Promise.all([en.ensure(cn,"rotate"),en.ensure(cn,"ref"),en.ensure(cn,"userUnit"),en.ensure(cn,"view")]).then(function([rn,an,xn,wn]){return{rotate:rn,ref:an,userUnit:xn,view:wn}})})}),Mt.on("GetPageIndex",function(on){const cn=_t.Ref.get(on.num,on.gen);return en.ensureCatalog("getPageIndex",[cn])}),Mt.on("GetDestinations",function(on){return en.ensureCatalog("destinations")}),Mt.on("GetDestination",function(on){return en.ensureCatalog("getDestination",[on.id])}),Mt.on("GetPageLabels",function(on){return en.ensureCatalog("pageLabels")}),Mt.on("GetPageLayout",function(on){return en.ensureCatalog("pageLayout")}),Mt.on("GetPageMode",function(on){return en.ensureCatalog("pageMode")}),Mt.on("GetViewerPreferences",function(on){return en.ensureCatalog("viewerPreferences")}),Mt.on("GetOpenAction",function(on){return en.ensureCatalog("openAction")}),Mt.on("GetAttachments",function(on){return en.ensureCatalog("attachments")}),Mt.on("GetDocJSActions",function(on){return en.ensureCatalog("jsActions")}),Mt.on("GetPageJSActions",function({pageIndex:on}){return en.getPage(on).then(function(cn){return en.ensure(cn,"jsActions")})}),Mt.on("GetOutline",function(on){return en.ensureCatalog("documentOutline")}),Mt.on("GetOptionalContentConfig",function(on){return en.ensureCatalog("optionalContentConfig")}),Mt.on("GetPermissions",function(on){return en.ensureCatalog("permissions")}),Mt.on("GetMetadata",function(on){return Promise.all([en.ensureDoc("documentInfo"),en.ensureCatalog("metadata")])}),Mt.on("GetMarkInfo",function(on){return en.ensureCatalog("markInfo")}),Mt.on("GetData",function(on){return en.requestLoadedStream().then(function(cn){return cn.bytes})}),Mt.on("GetAnnotations",function({pageIndex:on,intent:cn}){return en.getPage(on).then(function(rn){const an=new Ot(`GetAnnotations: page ${on}`);return sn(an),rn.getAnnotationsData(Mt,an,cn).then(xn=>(zt(an),xn),xn=>{throw zt(an),xn})})}),Mt.on("GetFieldObjects",function(on){return en.ensureDoc("fieldObjects")}),Mt.on("HasJSActions",function(on){return en.ensureDoc("hasJSActions")}),Mt.on("GetCalculationOrderIds",function(on){return en.ensureDoc("calculationOrderIds")}),Mt.on("SaveDocument",async function({isPureXfa:on,numPages:cn,annotationStorage:rn,filename:an}){const xn=[en.requestLoadedStream(),en.ensureCatalog("acroForm"),en.ensureCatalog("acroFormRef"),en.ensureDoc("startXRef"),en.ensureDoc("xref"),en.ensureDoc("linearization"),en.ensureCatalog("structTreeRoot")],wn=[],En=on?null:(0,kt.getNewAnnotationsMap)(rn),[Fn,In,Tn,An,mn,pn,Jt]=await Promise.all(xn),un=mn.trailer.getRaw("Root")||null;let fn;if(En){Jt?await Jt.canUpdateStructTree({pdfManager:en,newAnnotationsByPage:En})&&(fn=Jt):await $t.StructTreeRoot.canCreateStructureTree({catalogRef:un,pdfManager:en,newAnnotationsByPage:En})&&(fn=null);const Dn=vt.AnnotationFactory.generateImages(rn.values(),mn,en.evaluatorOptions.isOffscreenCanvasSupported),Ln=fn===void 0?wn:[];for(const[Un,ts]of En)Ln.push(en.getPage(Un).then(es=>{const Qn=new Ot(`Save (editor): page ${Un}`);return es.saveNewAnnotations(Mt,Qn,ts,Dn).finally(function(){zt(Qn)})}));fn===null?wn.push(Promise.all(Ln).then(async Un=>(await $t.StructTreeRoot.createStructureTree({newAnnotationsByPage:En,xref:mn,catalogRef:un,pdfManager:en,newRefs:Un}),Un))):fn&&wn.push(Promise.all(Ln).then(async Un=>(await fn.updateStructureTree({newAnnotationsByPage:En,pdfManager:en,newRefs:Un}),Un)))}if(on)wn.push(en.serializeXfaData(rn));else for(let Dn=0;Dn<cn;Dn++)wn.push(en.getPage(Dn).then(function(Ln){const Un=new Ot(`Save: page ${Dn}`);return Ln.save(Mt,Un,rn).finally(function(){zt(Un)})}));const Sn=await Promise.all(wn);let kn=[],Pn=null;if(on){if(Pn=Sn[0],!Pn)return Fn.bytes}else if(kn=Sn.flat(2),kn.length===0)return Fn.bytes;const Cn=Tn&&In instanceof _t.Dict&&kn.some(Dn=>Dn.needAppearances),vn=In instanceof _t.Dict&&In.get("XFA")||null;let Rn=null,Mn=!1;if(Array.isArray(vn)){for(let Dn=0,Ln=vn.length;Dn<Ln;Dn+=2)vn[Dn]==="datasets"&&(Rn=vn[Dn+1],Mn=!0);Rn===null&&(Rn=mn.getNewTemporaryRef())}else vn&&(0,wt.warn)("Unsupported XFA type.");let _n=Object.create(null);if(mn.trailer){const Dn=Object.create(null),Ln=mn.trailer.get("Info")||null;Ln instanceof _t.Dict&&Ln.forEach((Un,ts)=>{typeof ts=="string"&&(Dn[Un]=(0,wt.stringToPDFString)(ts))}),_n={rootRef:un,encryptRef:mn.trailer.getRaw("Encrypt")||null,newRef:mn.getNewTemporaryRef(),infoRef:mn.trailer.getRaw("Info")||null,info:Dn,fileIds:mn.trailer.get("ID")||null,startXRef:pn?An:mn.lastXRefStreamPos??An,filename:an}}return(0,Vt.incrementalUpdate)({originalData:Fn.bytes,xrefInfo:_n,newRefs:kn,xref:mn,hasXfa:!!vn,xfaDatasetsRef:Rn,hasXfaDatasetsEntry:Mn,needAppearances:Cn,acroFormRef:Tn,acroForm:In,xfaData:Pn}).finally(()=>{mn.resetNewTemporaryRef()})}),Mt.on("GetOperatorList",function(on,cn){const rn=on.pageIndex;en.getPage(rn).then(function(an){const xn=new Ot(`GetOperatorList: page ${rn}`);sn(xn);const wn=nn>=wt.VerbosityLevel.INFOS?Date.now():0;an.getOperatorList({handler:Mt,sink:cn,task:xn,intent:on.intent,cacheKey:on.cacheKey,annotationStorage:on.annotationStorage}).then(function(En){zt(xn),wn&&(0,wt.info)(`page=${rn+1} - getOperatorList: time=${Date.now()-wn}ms, len=${En.length}`),cn.close()},function(En){zt(xn),!xn.terminated&&cn.error(En)})})}),Mt.on("GetTextContent",function(on,cn){const{pageIndex:rn,includeMarkedContent:an,disableNormalization:xn}=on;en.getPage(rn).then(function(wn){const En=new Ot("GetTextContent: page "+rn);sn(En);const Fn=nn>=wt.VerbosityLevel.INFOS?Date.now():0;wn.extractTextContent({handler:Mt,task:En,sink:cn,includeMarkedContent:an,disableNormalization:xn}).then(function(){zt(En),Fn&&(0,wt.info)(`page=${rn+1} - getTextContent: time=${Date.now()-Fn}ms`),cn.close()},function(In){zt(En),!En.terminated&&cn.error(In)})})}),Mt.on("GetStructTree",function(on){return en.getPage(on.pageIndex).then(function(cn){return en.ensure(cn,"getStructTree")})}),Mt.on("FontFallback",function(on){return en.fontFallback(on.id,Mt)}),Mt.on("Cleanup",function(on){return en.cleanup(!0)}),Mt.on("Terminate",function(on){hn=!0;const cn=[];if(en){en.terminate(new wt.AbortException("Worker was terminated."));const rn=en.cleanup();cn.push(rn),en=null}else(0,Ft.clearGlobalCaches)();tn&&tn(new wt.AbortException("Worker was terminated."));for(const rn of gn)cn.push(rn.finished),rn.terminate();return Promise.all(cn).then(function(){Mt.destroy(),Mt=null})}),Mt.on("Ready",function(on){ln(Bt),Bt=null}),Ut}static initializeFromPort(Bt){const Gt=new qt.MessageHandler("worker","main",Bt);jt.setup(Gt,Bt),Gt.send("ready",null)}}Et.WorkerMessageHandler=jt;function Rt(Kt){return typeof Kt.postMessage=="function"&&"onmessage"in Kt}typeof window>"u"&&!wt.isNodeJS&&typeof self<"u"&&Rt(self)&&jt.initializeFromPort(self)},(Ct,Et)=>{var ds;Object.defineProperty(Et,"__esModule",{value:!0}),Et.VerbosityLevel=Et.Util=Et.UnknownErrorException=Et.UnexpectedResponseException=Et.TextRenderingMode=Et.RenderingIntentFlag=Et.PromiseCapability=Et.PermissionFlag=Et.PasswordResponses=Et.PasswordException=Et.PageActionEventType=Et.OPS=Et.MissingPDFException=Et.MAX_IMAGE_SIZE_TO_CACHE=Et.LINE_FACTOR=Et.LINE_DESCENT_FACTOR=Et.InvalidPDFException=Et.ImageKind=Et.IDENTITY_MATRIX=Et.FormatError=Et.FeatureTest=Et.FONT_IDENTITY_MATRIX=Et.DocumentActionEventType=Et.CMapCompressionType=Et.BaseException=Et.BASELINE_FACTOR=Et.AnnotationType=Et.AnnotationReplyType=Et.AnnotationPrefix=Et.AnnotationMode=Et.AnnotationFlag=Et.AnnotationFieldFlag=Et.AnnotationEditorType=Et.AnnotationEditorPrefix=Et.AnnotationEditorParamsType=Et.AnnotationBorderStyleType=Et.AnnotationActionEventType=Et.AbortException=void 0,Et.assert=ln,Et.bytesToString=mn,Et.createValidAbsoluteUrl=cn,Et.getModificationDate=ts,Et.getUuid=ns,Et.getVerbosityLevel=sn,Et.info=zt,Et.isArrayBuffer=Ln,Et.isArrayEqual=Un,Et.isNodeJS=void 0,Et.normalizeUnicode=zn,Et.objectFromMap=fn,Et.objectSize=un,Et.setVerbosityLevel=Ht,Et.shadow=rn,Et.string32=Jt,Et.stringToBytes=pn,Et.stringToPDFString=Mn,Et.stringToUTF8String=_n,Et.unreachable=Qt,Et.utf8StringToString=Dn,Et.warn=Xt;const Pt=typeof process=="object"&&process+""=="[object process]"&&!process.versions.nw&&!(process.versions.electron&&process.type&&process.type!=="browser");Et.isNodeJS=Pt;const wt=[1,0,0,1,0,0];Et.IDENTITY_MATRIX=wt;const kt=[.001,0,0,.001,0,0];Et.FONT_IDENTITY_MATRIX=kt;const _t=1e7;Et.MAX_IMAGE_SIZE_TO_CACHE=_t;const ht=1.35;Et.LINE_FACTOR=ht;const vt=.35;Et.LINE_DESCENT_FACTOR=vt;const Ft=vt/ht;Et.BASELINE_FACTOR=Ft;const Vt={ANY:1,DISPLAY:2,PRINT:4,SAVE:8,ANNOTATIONS_FORMS:16,ANNOTATIONS_STORAGE:32,ANNOTATIONS_DISABLE:64,OPLIST:256};Et.RenderingIntentFlag=Vt;const qt={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3};Et.AnnotationMode=qt;const Lt="pdfjs_internal_editor_";Et.AnnotationEditorPrefix=Lt;const $t={DISABLE:-1,NONE:0,FREETEXT:3,STAMP:13,INK:15};Et.AnnotationEditorType=$t;const Ot={RESIZE:1,CREATE:2,FREETEXT_SIZE:11,FREETEXT_COLOR:12,FREETEXT_OPACITY:13,INK_COLOR:21,INK_THICKNESS:22,INK_OPACITY:23};Et.AnnotationEditorParamsType=Ot;const jt={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048};Et.PermissionFlag=jt;const Rt={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_ADD_TO_PATH:4,STROKE_ADD_TO_PATH:5,FILL_STROKE_ADD_TO_PATH:6,ADD_TO_PATH:7,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4};Et.TextRenderingMode=Rt;const Kt={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3};Et.ImageKind=Kt;const Bt={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,SOUND:18,MOVIE:19,WIDGET:20,SCREEN:21,PRINTERMARK:22,TRAPNET:23,WATERMARK:24,THREED:25,REDACT:26};Et.AnnotationType=Bt;const Gt={GROUP:"Group",REPLY:"R"};Et.AnnotationReplyType=Gt;const en={INVISIBLE:1,HIDDEN:2,PRINT:4,NOZOOM:8,NOROTATE:16,NOVIEW:32,READONLY:64,LOCKED:128,TOGGLENOVIEW:256,LOCKEDCONTENTS:512};Et.AnnotationFlag=en;const hn={READONLY:1,REQUIRED:2,NOEXPORT:4,MULTILINE:4096,PASSWORD:8192,NOTOGGLETOOFF:16384,RADIO:32768,PUSHBUTTON:65536,COMBO:131072,EDIT:262144,SORT:524288,FILESELECT:1048576,MULTISELECT:2097152,DONOTSPELLCHECK:4194304,DONOTSCROLL:8388608,COMB:16777216,RICHTEXT:33554432,RADIOSINUNISON:33554432,COMMITONSELCHANGE:67108864};Et.AnnotationFieldFlag=hn;const tn={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5};Et.AnnotationBorderStyleType=tn;const gn={E:"Mouse Enter",X:"Mouse Exit",D:"Mouse Down",U:"Mouse Up",Fo:"Focus",Bl:"Blur",PO:"PageOpen",PC:"PageClose",PV:"PageVisible",PI:"PageInvisible",K:"Keystroke",F:"Format",V:"Validate",C:"Calculate"};Et.AnnotationActionEventType=gn;const nn={WC:"WillClose",WS:"WillSave",DS:"DidSave",WP:"WillPrint",DP:"DidPrint"};Et.DocumentActionEventType=nn;const bn={O:"PageOpen",C:"PageClose"};Et.PageActionEventType=bn;const Wt={ERRORS:0,WARNINGS:1,INFOS:5};Et.VerbosityLevel=Wt;const Yt={NONE:0,BINARY:1};Et.CMapCompressionType=Yt;const dn={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotation:80,endAnnotation:81,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91};Et.OPS=dn;const Ut={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};Et.PasswordResponses=Ut;let Mt=Wt.WARNINGS;function Ht(Bn){Number.isInteger(Bn)&&(Mt=Bn)}function sn(){return Mt}function zt(Bn){Mt>=Wt.INFOS&&console.log(`Info: ${Bn}`)}function Xt(Bn){Mt>=Wt.WARNINGS&&console.log(`Warning: ${Bn}`)}function Qt(Bn){throw new Error(Bn)}function ln(Bn,Hn){Bn||Qt(Hn)}function on(Bn){switch(Bn==null?void 0:Bn.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}function cn(Bn,Hn=null,Xn=null){if(!Bn)return null;try{if(Xn&&typeof Bn=="string"){if(Xn.addDefaultProtocol&&Bn.startsWith("www.")){const rs=Bn.match(/\./g);(rs==null?void 0:rs.length)>=2&&(Bn=`http://${Bn}`)}if(Xn.tryConvertEncoding)try{Bn=_n(Bn)}catch{}}const cs=Hn?new URL(Bn,Hn):new URL(Bn);if(on(cs))return cs}catch{}return null}function rn(Bn,Hn,Xn,cs=!1){return Object.defineProperty(Bn,Hn,{value:Xn,enumerable:!cs,configurable:!0,writable:!1}),Xn}const an=function(){function Hn(Xn,cs){this.constructor===Hn&&Qt("Cannot initialize BaseException."),this.message=Xn,this.name=cs}return Hn.prototype=new Error,Hn.constructor=Hn,Hn}();Et.BaseException=an;class xn extends an{constructor(Hn,Xn){super(Hn,"PasswordException"),this.code=Xn}}Et.PasswordException=xn;class wn extends an{constructor(Hn,Xn){super(Hn,"UnknownErrorException"),this.details=Xn}}Et.UnknownErrorException=wn;class En extends an{constructor(Hn){super(Hn,"InvalidPDFException")}}Et.InvalidPDFException=En;class Fn extends an{constructor(Hn){super(Hn,"MissingPDFException")}}Et.MissingPDFException=Fn;class In extends an{constructor(Hn,Xn){super(Hn,"UnexpectedResponseException"),this.status=Xn}}Et.UnexpectedResponseException=In;class Tn extends an{constructor(Hn){super(Hn,"FormatError")}}Et.FormatError=Tn;class An extends an{constructor(Hn){super(Hn,"AbortException")}}Et.AbortException=An;function mn(Bn){(typeof Bn!="object"||(Bn==null?void 0:Bn.length)===void 0)&&Qt("Invalid argument for bytesToString");const Hn=Bn.length,Xn=8192;if(Hn<Xn)return String.fromCharCode.apply(null,Bn);const cs=[];for(let rs=0;rs<Hn;rs+=Xn){const xs=Math.min(rs+Xn,Hn),Jn=Bn.subarray(rs,xs);cs.push(String.fromCharCode.apply(null,Jn))}return cs.join("")}function pn(Bn){typeof Bn!="string"&&Qt("Invalid argument for stringToBytes");const Hn=Bn.length,Xn=new Uint8Array(Hn);for(let cs=0;cs<Hn;++cs)Xn[cs]=Bn.charCodeAt(cs)&255;return Xn}function Jt(Bn){return String.fromCharCode(Bn>>24&255,Bn>>16&255,Bn>>8&255,Bn&255)}function un(Bn){return Object.keys(Bn).length}function fn(Bn){const Hn=Object.create(null);for(const[Xn,cs]of Bn)Hn[Xn]=cs;return Hn}function Sn(){const Bn=new Uint8Array(4);return Bn[0]=1,new Uint32Array(Bn.buffer,0,1)[0]===1}function kn(){try{return new Function(""),!0}catch{return!1}}class Pn{static get isLittleEndian(){return rn(this,"isLittleEndian",Sn())}static get isEvalSupported(){return rn(this,"isEvalSupported",kn())}static get isOffscreenCanvasSupported(){return rn(this,"isOffscreenCanvasSupported",typeof OffscreenCanvas<"u")}static get platform(){return typeof navigator>"u"?rn(this,"platform",{isWin:!1,isMac:!1}):rn(this,"platform",{isWin:navigator.platform.includes("Win"),isMac:navigator.platform.includes("Mac")})}static get isCSSRoundSupported(){var Hn,Xn;return rn(this,"isCSSRoundSupported",(Xn=(Hn=globalThis.CSS)==null?void 0:Hn.supports)==null?void 0:Xn.call(Hn,"width: round(1.5px, 1px)"))}}Et.FeatureTest=Pn;const Cn=[...Array(256).keys()].map(Bn=>Bn.toString(16).padStart(2,"0"));class vn{static makeHexColor(Hn,Xn,cs){return`#${Cn[Hn]}${Cn[Xn]}${Cn[cs]}`}static scaleMinMax(Hn,Xn){let cs;Hn[0]?(Hn[0]<0&&(cs=Xn[0],Xn[0]=Xn[1],Xn[1]=cs),Xn[0]*=Hn[0],Xn[1]*=Hn[0],Hn[3]<0&&(cs=Xn[2],Xn[2]=Xn[3],Xn[3]=cs),Xn[2]*=Hn[3],Xn[3]*=Hn[3]):(cs=Xn[0],Xn[0]=Xn[2],Xn[2]=cs,cs=Xn[1],Xn[1]=Xn[3],Xn[3]=cs,Hn[1]<0&&(cs=Xn[2],Xn[2]=Xn[3],Xn[3]=cs),Xn[2]*=Hn[1],Xn[3]*=Hn[1],Hn[2]<0&&(cs=Xn[0],Xn[0]=Xn[1],Xn[1]=cs),Xn[0]*=Hn[2],Xn[1]*=Hn[2]),Xn[0]+=Hn[4],Xn[1]+=Hn[4],Xn[2]+=Hn[5],Xn[3]+=Hn[5]}static transform(Hn,Xn){return[Hn[0]*Xn[0]+Hn[2]*Xn[1],Hn[1]*Xn[0]+Hn[3]*Xn[1],Hn[0]*Xn[2]+Hn[2]*Xn[3],Hn[1]*Xn[2]+Hn[3]*Xn[3],Hn[0]*Xn[4]+Hn[2]*Xn[5]+Hn[4],Hn[1]*Xn[4]+Hn[3]*Xn[5]+Hn[5]]}static applyTransform(Hn,Xn){const cs=Hn[0]*Xn[0]+Hn[1]*Xn[2]+Xn[4],rs=Hn[0]*Xn[1]+Hn[1]*Xn[3]+Xn[5];return[cs,rs]}static applyInverseTransform(Hn,Xn){const cs=Xn[0]*Xn[3]-Xn[1]*Xn[2],rs=(Hn[0]*Xn[3]-Hn[1]*Xn[2]+Xn[2]*Xn[5]-Xn[4]*Xn[3])/cs,xs=(-Hn[0]*Xn[1]+Hn[1]*Xn[0]+Xn[4]*Xn[1]-Xn[5]*Xn[0])/cs;return[rs,xs]}static getAxialAlignedBoundingBox(Hn,Xn){const cs=this.applyTransform(Hn,Xn),rs=this.applyTransform(Hn.slice(2,4),Xn),xs=this.applyTransform([Hn[0],Hn[3]],Xn),Jn=this.applyTransform([Hn[2],Hn[1]],Xn);return[Math.min(cs[0],rs[0],xs[0],Jn[0]),Math.min(cs[1],rs[1],xs[1],Jn[1]),Math.max(cs[0],rs[0],xs[0],Jn[0]),Math.max(cs[1],rs[1],xs[1],Jn[1])]}static inverseTransform(Hn){const Xn=Hn[0]*Hn[3]-Hn[1]*Hn[2];return[Hn[3]/Xn,-Hn[1]/Xn,-Hn[2]/Xn,Hn[0]/Xn,(Hn[2]*Hn[5]-Hn[4]*Hn[3])/Xn,(Hn[4]*Hn[1]-Hn[5]*Hn[0])/Xn]}static singularValueDecompose2dScale(Hn){const Xn=[Hn[0],Hn[2],Hn[1],Hn[3]],cs=Hn[0]*Xn[0]+Hn[1]*Xn[2],rs=Hn[0]*Xn[1]+Hn[1]*Xn[3],xs=Hn[2]*Xn[0]+Hn[3]*Xn[2],Jn=Hn[2]*Xn[1]+Hn[3]*Xn[3],Wn=(cs+Jn)/2,Zn=Math.sqrt((cs+Jn)**2-4*(cs*Jn-xs*rs))/2,us=Wn+Zn||1,hs=Wn-Zn||1;return[Math.sqrt(us),Math.sqrt(hs)]}static normalizeRect(Hn){const Xn=Hn.slice(0);return Hn[0]>Hn[2]&&(Xn[0]=Hn[2],Xn[2]=Hn[0]),Hn[1]>Hn[3]&&(Xn[1]=Hn[3],Xn[3]=Hn[1]),Xn}static intersect(Hn,Xn){const cs=Math.max(Math.min(Hn[0],Hn[2]),Math.min(Xn[0],Xn[2])),rs=Math.min(Math.max(Hn[0],Hn[2]),Math.max(Xn[0],Xn[2]));if(cs>rs)return null;const xs=Math.max(Math.min(Hn[1],Hn[3]),Math.min(Xn[1],Xn[3])),Jn=Math.min(Math.max(Hn[1],Hn[3]),Math.max(Xn[1],Xn[3]));return xs>Jn?null:[cs,xs,rs,Jn]}static bezierBoundingBox(Hn,Xn,cs,rs,xs,Jn,Wn,Zn){const us=[],hs=[[],[]];let os,ps,ws,fs,Ss,Ls,Fs,$s;for(let qs=0;qs<2;++qs){if(qs===0?(ps=6*Hn-12*cs+6*xs,os=-3*Hn+9*cs-9*xs+3*Wn,ws=3*cs-3*Hn):(ps=6*Xn-12*rs+6*Jn,os=-3*Xn+9*rs-9*Jn+3*Zn,ws=3*rs-3*Xn),Math.abs(os)<1e-12){if(Math.abs(ps)<1e-12)continue;fs=-ws/ps,0<fs&&fs<1&&us.push(fs);continue}Fs=ps*ps-4*ws*os,$s=Math.sqrt(Fs),!(Fs<0)&&(Ss=(-ps+$s)/(2*os),0<Ss&&Ss<1&&us.push(Ss),Ls=(-ps-$s)/(2*os),0<Ls&&Ls<1&&us.push(Ls))}let Es=us.length,Ps;const Rs=Es;for(;Es--;)fs=us[Es],Ps=1-fs,hs[0][Es]=Ps*Ps*Ps*Hn+3*Ps*Ps*fs*cs+3*Ps*fs*fs*xs+fs*fs*fs*Wn,hs[1][Es]=Ps*Ps*Ps*Xn+3*Ps*Ps*fs*rs+3*Ps*fs*fs*Jn+fs*fs*fs*Zn;return hs[0][Rs]=Hn,hs[1][Rs]=Xn,hs[0][Rs+1]=Wn,hs[1][Rs+1]=Zn,hs[0].length=hs[1].length=Rs+2,[Math.min(...hs[0]),Math.min(...hs[1]),Math.max(...hs[0]),Math.max(...hs[1])]}}Et.Util=vn;const Rn=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,728,711,710,729,733,731,730,732,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,8226,8224,8225,8230,8212,8211,402,8260,8249,8250,8722,8240,8222,8220,8221,8216,8217,8218,8482,64257,64258,321,338,352,376,381,305,322,339,353,382,0,8364];function Mn(Bn){if(Bn[0]>=""){let Xn;if(Bn[0]===""&&Bn[1]===""?Xn="utf-16be":Bn[0]===""&&Bn[1]===""?Xn="utf-16le":Bn[0]===""&&Bn[1]===""&&Bn[2]===""&&(Xn="utf-8"),Xn)try{const cs=new TextDecoder(Xn,{fatal:!0}),rs=pn(Bn);return cs.decode(rs)}catch(cs){Xt(`stringToPDFString: "${cs}".`)}}const Hn=[];for(let Xn=0,cs=Bn.length;Xn<cs;Xn++){const rs=Rn[Bn.charCodeAt(Xn)];Hn.push(rs?String.fromCharCode(rs):Bn.charAt(Xn))}return Hn.join("")}function _n(Bn){return decodeURIComponent(escape(Bn))}function Dn(Bn){return unescape(encodeURIComponent(Bn))}function Ln(Bn){return typeof Bn=="object"&&(Bn==null?void 0:Bn.byteLength)!==void 0}function Un(Bn,Hn){if(Bn.length!==Hn.length)return!1;for(let Xn=0,cs=Bn.length;Xn<cs;Xn++)if(Bn[Xn]!==Hn[Xn])return!1;return!0}function ts(Bn=new Date){return[Bn.getUTCFullYear().toString(),(Bn.getUTCMonth()+1).toString().padStart(2,"0"),Bn.getUTCDate().toString().padStart(2,"0"),Bn.getUTCHours().toString().padStart(2,"0"),Bn.getUTCMinutes().toString().padStart(2,"0"),Bn.getUTCSeconds().toString().padStart(2,"0")].join("")}class es{constructor(){Nn(this,ds,!1);this.promise=new Promise((Hn,Xn)=>{this.resolve=cs=>{$n(this,ds,!0),Hn(cs)},this.reject=cs=>{$n(this,ds,!0),Xn(cs)}})}get settled(){return Dt(this,ds)}}ds=new WeakMap,Et.PromiseCapability=es;let Qn=null,Yn=null;function zn(Bn){return Qn||(Qn=/([\u00a0\u00b5\u037e\u0eb3\u2000-\u200a\u202f\u2126\ufb00-\ufb04\ufb06\ufb20-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufba1\ufba4-\ufba9\ufbae-\ufbb1\ufbd3-\ufbdc\ufbde-\ufbe7\ufbea-\ufbf8\ufbfc-\ufbfd\ufc00-\ufc5d\ufc64-\ufcf1\ufcf5-\ufd3d\ufd88\ufdf4\ufdfa-\ufdfb\ufe71\ufe77\ufe79\ufe7b\ufe7d]+)|(\ufb05+)/gu,Yn=new Map([["","t"]])),Bn.replaceAll(Qn,(Hn,Xn,cs)=>Xn?Xn.normalize("NFKC"):Yn.get(cs))}function ns(){if(typeof crypto<"u"&&typeof(crypto==null?void 0:crypto.randomUUID)=="function")return crypto.randomUUID();const Bn=new Uint8Array(32);if(typeof crypto<"u"&&typeof(crypto==null?void 0:crypto.getRandomValues)=="function")crypto.getRandomValues(Bn);else for(let Hn=0;Hn<32;Hn++)Bn[Hn]=Math.floor(Math.random()*255);return mn(Bn)}const ls="pdfjs_internal_id_";Et.AnnotationPrefix=ls},(Ct,Et,Pt)=>{Object.defineProperty(Et,"__esModule",{value:!0}),Et.XRefParseException=Et.XRefEntryException=Et.ParserEOFException=Et.PDF_VERSION_REGEXP=Et.MissingDataException=void 0,Et.arrayBuffersToBytes=$t,Et.collectActions=Wt,Et.encodeToXmlString=dn,Et.escapePDFName=gn,Et.escapeString=nn,Et.getInheritableProperty=Ot,Et.getLookupTableFactory=vt,Et.getNewAnnotationsMap=zt,Et.getRotationMatrix=on,Et.isAscii=Xt,Et.isWhiteSpace=hn,Et.log2=Kt,Et.numberToString=sn,Et.parseXFAPath=tn,Et.readInt8=Bt,Et.readUint16=Gt,Et.readUint32=en,Et.recoverJsURL=Ht,Et.stringToUTF16HexString=Qt,Et.stringToUTF16String=ln,Et.toRomanNumerals=Rt,Et.validateCSSFont=Mt,Et.validateFontName=Ut;var wt=Pt(2),kt=Pt(4),_t=Pt(5);const ht=/^[1-9]\.\d$/;Et.PDF_VERSION_REGEXP=ht;function vt(cn){let rn;return function(){return cn&&(rn=Object.create(null),cn(rn),cn=null),rn}}class Ft extends wt.BaseException{constructor(rn,an){super(`Missing data [${rn}, ${an})`,"MissingDataException"),this.begin=rn,this.end=an}}Et.MissingDataException=Ft;class Vt extends wt.BaseException{constructor(rn){super(rn,"ParserEOFException")}}Et.ParserEOFException=Vt;class qt extends wt.BaseException{constructor(rn){super(rn,"XRefEntryException")}}Et.XRefEntryException=qt;class Lt extends wt.BaseException{constructor(rn){super(rn,"XRefParseException")}}Et.XRefParseException=Lt;function $t(cn){const rn=cn.length;if(rn===0)return new Uint8Array(0);if(rn===1)return new Uint8Array(cn[0]);let an=0;for(let En=0;En<rn;En++)an+=cn[En].byteLength;const xn=new Uint8Array(an);let wn=0;for(let En=0;En<rn;En++){const Fn=new Uint8Array(cn[En]);xn.set(Fn,wn),wn+=Fn.byteLength}return xn}function Ot({dict:cn,key:rn,getArray:an=!1,stopWhenFound:xn=!0}){let wn;const En=new kt.RefSet;for(;cn instanceof kt.Dict&&!(cn.objId&&En.has(cn.objId));){cn.objId&&En.put(cn.objId);const Fn=an?cn.getArray(rn):cn.get(rn);if(Fn!==void 0){if(xn)return Fn;(wn||(wn=[])).push(Fn)}cn=cn.get("Parent")}return wn}const jt=["","C","CC","CCC","CD","D","DC","DCC","DCCC","CM","","X","XX","XXX","XL","L","LX","LXX","LXXX","XC","","I","II","III","IV","V","VI","VII","VIII","IX"];function Rt(cn,rn=!1){(0,wt.assert)(Number.isInteger(cn)&&cn>0,"The number should be a positive integer.");const an=[];let xn;for(;cn>=1e3;)cn-=1e3,an.push("M");xn=cn/100|0,cn%=100,an.push(jt[xn]),xn=cn/10|0,cn%=10,an.push(jt[10+xn]),an.push(jt[20+cn]);const wn=an.join("");return rn?wn.toLowerCase():wn}function Kt(cn){return cn<=0?0:Math.ceil(Math.log2(cn))}function Bt(cn,rn){return cn[rn]<<24>>24}function Gt(cn,rn){return cn[rn]<<8|cn[rn+1]}function en(cn,rn){return(cn[rn]<<24|cn[rn+1]<<16|cn[rn+2]<<8|cn[rn+3])>>>0}function hn(cn){return cn===32||cn===9||cn===13||cn===10}function tn(cn){const rn=/(.+)\[(\d+)\]$/;return cn.split(".").map(an=>{const xn=an.match(rn);return xn?{name:xn[1],pos:parseInt(xn[2],10)}:{name:an,pos:0}})}function gn(cn){const rn=[];let an=0;for(let xn=0,wn=cn.length;xn<wn;xn++){const En=cn.charCodeAt(xn);(En<33||En>126||En===35||En===40||En===41||En===60||En===62||En===91||En===93||En===123||En===125||En===47||En===37)&&(an<xn&&rn.push(cn.substring(an,xn)),rn.push(`#${En.toString(16)}`),an=xn+1)}return rn.length===0?cn:(an<cn.length&&rn.push(cn.substring(an,cn.length)),rn.join(""))}function nn(cn){return cn.replaceAll(/([()\\\n\r])/g,rn=>rn===`
`?"\\n":rn==="\r"?"\\r":`\\${rn}`)}function bn(cn,rn,an,xn){if(!cn)return;let wn=null;if(cn instanceof kt.Ref){if(xn.has(cn))return;wn=cn,xn.put(wn),cn=rn.fetch(cn)}if(Array.isArray(cn))for(const En of cn)bn(En,rn,an,xn);else if(cn instanceof kt.Dict){if((0,kt.isName)(cn.get("S"),"JavaScript")){const En=cn.get("JS");let Fn;En instanceof _t.BaseStream?Fn=En.getString():typeof En=="string"&&(Fn=En),Fn&&(Fn=(0,wt.stringToPDFString)(Fn).replaceAll("\0","")),Fn&&an.push(Fn)}bn(cn.getRaw("Next"),rn,an,xn)}wn&&xn.remove(wn)}function Wt(cn,rn,an){const xn=Object.create(null),wn=Ot({dict:rn,key:"AA",stopWhenFound:!1});if(wn)for(let En=wn.length-1;En>=0;En--){const Fn=wn[En];if(Fn instanceof kt.Dict)for(const In of Fn.getKeys()){const Tn=an[In];if(!Tn)continue;const An=Fn.getRaw(In),mn=new kt.RefSet,pn=[];bn(An,cn,pn,mn),pn.length>0&&(xn[Tn]=pn)}}if(rn.has("A")){const En=rn.get("A"),Fn=new kt.RefSet,In=[];bn(En,cn,In,Fn),In.length>0&&(xn.Action=In)}return(0,wt.objectSize)(xn)>0?xn:null}const Yt={60:"&lt;",62:"&gt;",38:"&amp;",34:"&quot;",39:"&apos;"};function dn(cn){const rn=[];let an=0;for(let xn=0,wn=cn.length;xn<wn;xn++){const En=cn.codePointAt(xn);if(32<=En&&En<=126){const Fn=Yt[En];Fn&&(an<xn&&rn.push(cn.substring(an,xn)),rn.push(Fn),an=xn+1)}else an<xn&&rn.push(cn.substring(an,xn)),rn.push(`&#x${En.toString(16).toUpperCase()};`),En>55295&&(En<57344||En>65533)&&xn++,an=xn+1}return rn.length===0?cn:(an<cn.length&&rn.push(cn.substring(an,cn.length)),rn.join(""))}function Ut(cn,rn=!1){const an=/^("|').*("|')$/.exec(cn);if(an&&an[1]===an[2]){if(new RegExp(`[^\\\\]${an[1]}`).test(cn.slice(1,-1)))return rn&&(0,wt.warn)(`FontFamily contains unescaped ${an[1]}: ${cn}.`),!1}else for(const xn of cn.split(/[ \t]+/))if(/^(\d|(-(\d|-)))/.test(xn)||!/^[\w-\\]+$/.test(xn))return rn&&(0,wt.warn)(`FontFamily contains invalid <custom-ident>: ${cn}.`),!1;return!0}function Mt(cn){const rn="14",an="400",xn=new Set(["100","200","300","400","500","600","700","800","900","1000","normal","bold","bolder","lighter"]),{fontFamily:wn,fontWeight:En,italicAngle:Fn}=cn;if(!Ut(wn,!0))return!1;const In=En?En.toString():"";cn.fontWeight=xn.has(In)?In:an;const Tn=parseFloat(Fn);return cn.italicAngle=isNaN(Tn)||Tn<-90||Tn>90?rn:Fn.toString(),!0}function Ht(cn){const rn=["app.launchURL","window.open","xfa.host.gotoURL"],xn=new RegExp("^\\s*("+rn.join("|").replaceAll(".","\\.")+`)\\((?:'|")([^'"]*)(?:'|")(?:,\\s*(\\w+)\\)|\\))`,"i").exec(cn);if(xn!=null&&xn[2]){const wn=xn[2];let En=!1;return xn[3]==="true"&&xn[1]==="app.launchURL"&&(En=!0),{url:wn,newWindow:En}}return null}function sn(cn){if(Number.isInteger(cn))return cn.toString();const rn=Math.round(cn*100);return rn%100===0?(rn/100).toString():rn%10===0?cn.toFixed(1):cn.toFixed(2)}function zt(cn){if(!cn)return null;const rn=new Map;for(const[an,xn]of cn){if(!an.startsWith(wt.AnnotationEditorPrefix))continue;let wn=rn.get(xn.pageIndex);wn||(wn=[],rn.set(xn.pageIndex,wn)),wn.push(xn)}return rn.size>0?rn:null}function Xt(cn){return/^[\x00-\x7F]*$/.test(cn)}function Qt(cn){const rn=[];for(let an=0,xn=cn.length;an<xn;an++){const wn=cn.charCodeAt(an);rn.push((wn>>8&255).toString(16).padStart(2,"0"),(wn&255).toString(16).padStart(2,"0"))}return rn.join("")}function ln(cn,rn=!1){const an=[];rn&&an.push("");for(let xn=0,wn=cn.length;xn<wn;xn++){const En=cn.charCodeAt(xn);an.push(String.fromCharCode(En>>8&255),String.fromCharCode(En&255))}return an.join("")}function on(cn,rn,an){switch(cn){case 90:return[0,1,-1,0,rn,0];case 180:return[-1,0,0,-1,rn,an];case 270:return[0,-1,1,0,0,an];default:throw new Error("Invalid rotation")}}},(Ct,Et,Pt)=>{Object.defineProperty(Et,"__esModule",{value:!0}),Et.RefSetCache=Et.RefSet=Et.Ref=Et.Name=Et.EOF=Et.Dict=Et.Cmd=Et.CIRCULAR_REF=void 0,Et.clearPrimitiveCaches=Vt,Et.isCmd=Gt,Et.isDict=en,Et.isName=Bt,Et.isRefsEqual=hn;var wt=Pt(2);const kt=Symbol("CIRCULAR_REF");Et.CIRCULAR_REF=kt;const _t=Symbol("EOF");Et.EOF=_t;let ht=Object.create(null),vt=Object.create(null),Ft=Object.create(null);function Vt(){ht=Object.create(null),vt=Object.create(null),Ft=Object.create(null)}class qt{constructor(gn){this.name=gn}static get(gn){return vt[gn]||(vt[gn]=new qt(gn))}}Et.Name=qt;class Lt{constructor(gn){this.cmd=gn}static get(gn){return ht[gn]||(ht[gn]=new Lt(gn))}}Et.Cmd=Lt;const $t=function(){return $t};class Ot{constructor(gn=null){this._map=Object.create(null),this.xref=gn,this.objId=null,this.suppressEncryption=!1,this.__nonSerializable__=$t}assignXref(gn){this.xref=gn}get size(){return Object.keys(this._map).length}get(gn,nn,bn){let Wt=this._map[gn];return Wt===void 0&&nn!==void 0&&(Wt=this._map[nn],Wt===void 0&&bn!==void 0&&(Wt=this._map[bn])),Wt instanceof jt&&this.xref?this.xref.fetch(Wt,this.suppressEncryption):Wt}async getAsync(gn,nn,bn){let Wt=this._map[gn];return Wt===void 0&&nn!==void 0&&(Wt=this._map[nn],Wt===void 0&&bn!==void 0&&(Wt=this._map[bn])),Wt instanceof jt&&this.xref?this.xref.fetchAsync(Wt,this.suppressEncryption):Wt}getArray(gn,nn,bn){let Wt=this._map[gn];if(Wt===void 0&&nn!==void 0&&(Wt=this._map[nn],Wt===void 0&&bn!==void 0&&(Wt=this._map[bn])),Wt instanceof jt&&this.xref&&(Wt=this.xref.fetch(Wt,this.suppressEncryption)),Array.isArray(Wt)){Wt=Wt.slice();for(let Yt=0,dn=Wt.length;Yt<dn;Yt++)Wt[Yt]instanceof jt&&this.xref&&(Wt[Yt]=this.xref.fetch(Wt[Yt],this.suppressEncryption))}return Wt}getRaw(gn){return this._map[gn]}getKeys(){return Object.keys(this._map)}getRawValues(){return Object.values(this._map)}set(gn,nn){this._map[gn]=nn}has(gn){return this._map[gn]!==void 0}forEach(gn){for(const nn in this._map)gn(nn,this.get(nn))}static get empty(){const gn=new Ot(null);return gn.set=(nn,bn)=>{(0,wt.unreachable)("Should not call `set` on the empty dictionary.")},(0,wt.shadow)(this,"empty",gn)}static merge({xref:gn,dictArray:nn,mergeSubDicts:bn=!1}){const Wt=new Ot(gn),Yt=new Map;for(const dn of nn)if(dn instanceof Ot)for(const[Ut,Mt]of Object.entries(dn._map)){let Ht=Yt.get(Ut);if(Ht===void 0)Ht=[],Yt.set(Ut,Ht);else if(!bn||!(Mt instanceof Ot))continue;Ht.push(Mt)}for(const[dn,Ut]of Yt){if(Ut.length===1||!(Ut[0]instanceof Ot)){Wt._map[dn]=Ut[0];continue}const Mt=new Ot(gn);for(const Ht of Ut)for(const[sn,zt]of Object.entries(Ht._map))Mt._map[sn]===void 0&&(Mt._map[sn]=zt);Mt.size>0&&(Wt._map[dn]=Mt)}return Yt.clear(),Wt.size>0?Wt:Ot.empty}clone(){const gn=new Ot(this.xref);for(const nn of this.getKeys())gn.set(nn,this.getRaw(nn));return gn}}Et.Dict=Ot;class jt{constructor(gn,nn){this.num=gn,this.gen=nn}toString(){return this.gen===0?`${this.num}R`:`${this.num}R${this.gen}`}static fromString(gn){const nn=Ft[gn];if(nn)return nn;const bn=/^(\d+)R(\d*)$/.exec(gn);return!bn||bn[1]==="0"?null:Ft[gn]=new jt(parseInt(bn[1]),bn[2]?parseInt(bn[2]):0)}static get(gn,nn){const bn=nn===0?`${gn}R`:`${gn}R${nn}`;return Ft[bn]||(Ft[bn]=new jt(gn,nn))}}Et.Ref=jt;class Rt{constructor(gn=null){this._set=new Set(gn==null?void 0:gn._set)}has(gn){return this._set.has(gn.toString())}put(gn){this._set.add(gn.toString())}remove(gn){this._set.delete(gn.toString())}[Symbol.iterator](){return this._set.values()}clear(){this._set.clear()}}Et.RefSet=Rt;class Kt{constructor(){this._map=new Map}get size(){return this._map.size}get(gn){return this._map.get(gn.toString())}has(gn){return this._map.has(gn.toString())}put(gn,nn){this._map.set(gn.toString(),nn)}putAlias(gn,nn){this._map.set(gn.toString(),this.get(nn))}[Symbol.iterator](){return this._map.values()}clear(){this._map.clear()}}Et.RefSetCache=Kt;function Bt(tn,gn){return tn instanceof qt&&(gn===void 0||tn.name===gn)}function Gt(tn,gn){return tn instanceof Lt&&(gn===void 0||tn.cmd===gn)}function en(tn,gn){return tn instanceof Ot&&(gn===void 0||Bt(tn.get("Type"),gn))}function hn(tn,gn){return tn.num===gn.num&&tn.gen===gn.gen}},(Ct,Et,Pt)=>{Object.defineProperty(Et,"__esModule",{value:!0}),Et.BaseStream=void 0;var wt=Pt(2);class kt{constructor(){this.constructor===kt&&(0,wt.unreachable)("Cannot initialize BaseStream.")}get length(){(0,wt.unreachable)("Abstract getter `length` accessed")}get isEmpty(){(0,wt.unreachable)("Abstract getter `isEmpty` accessed")}get isDataLoaded(){return(0,wt.shadow)(this,"isDataLoaded",!0)}getByte(){(0,wt.unreachable)("Abstract method `getByte` called")}getBytes(ht){(0,wt.unreachable)("Abstract method `getBytes` called")}peekByte(){const ht=this.getByte();return ht!==-1&&this.pos--,ht}peekBytes(ht){const vt=this.getBytes(ht);return this.pos-=vt.length,vt}getUint16(){const ht=this.getByte(),vt=this.getByte();return ht===-1||vt===-1?-1:(ht<<8)+vt}getInt32(){const ht=this.getByte(),vt=this.getByte(),Ft=this.getByte(),Vt=this.getByte();return(ht<<24)+(vt<<16)+(Ft<<8)+Vt}getByteRange(ht,vt){(0,wt.unreachable)("Abstract method `getByteRange` called")}getString(ht){return(0,wt.bytesToString)(this.getBytes(ht))}skip(ht){this.pos+=ht||1}reset(){(0,wt.unreachable)("Abstract method `reset` called")}moveStart(){(0,wt.unreachable)("Abstract method `moveStart` called")}makeSubStream(ht,vt,Ft=null){(0,wt.unreachable)("Abstract method `makeSubStream` called")}getBaseStreams(){return null}}Et.BaseStream=kt},(Ct,Et,Pt)=>{Object.defineProperty(Et,"__esModule",{value:!0}),Et.NetworkPdfManager=Et.LocalPdfManager=void 0;var wt=Pt(2),kt=Pt(7),_t=Pt(3),ht=Pt(9),vt=Pt(8);function Ft($t){if($t){const Ot=(0,wt.createValidAbsoluteUrl)($t);if(Ot)return Ot.href;(0,wt.warn)(`Invalid absolute docBaseUrl: "${$t}".`)}return null}class Vt{constructor(Ot){var jt;this.constructor===Vt&&(0,wt.unreachable)("Cannot initialize BasePdfManager."),this._docBaseUrl=Ft(Ot.docBaseUrl),this._docId=Ot.docId,this._password=Ot.password,this.enableXfa=Ot.enableXfa,(jt=Ot.evaluatorOptions).isOffscreenCanvasSupported&&(jt.isOffscreenCanvasSupported=wt.FeatureTest.isOffscreenCanvasSupported),this.evaluatorOptions=Ot.evaluatorOptions}get docId(){return this._docId}get password(){return this._password}get docBaseUrl(){return this._docBaseUrl}get catalog(){return this.pdfDocument.catalog}ensureDoc(Ot,jt){return this.ensure(this.pdfDocument,Ot,jt)}ensureXRef(Ot,jt){return this.ensure(this.pdfDocument.xref,Ot,jt)}ensureCatalog(Ot,jt){return this.ensure(this.pdfDocument.catalog,Ot,jt)}getPage(Ot){return this.pdfDocument.getPage(Ot)}fontFallback(Ot,jt){return this.pdfDocument.fontFallback(Ot,jt)}loadXfaFonts(Ot,jt){return this.pdfDocument.loadXfaFonts(Ot,jt)}loadXfaImages(){return this.pdfDocument.loadXfaImages()}serializeXfaData(Ot){return this.pdfDocument.serializeXfaData(Ot)}cleanup(Ot=!1){return this.pdfDocument.cleanup(Ot)}async ensure(Ot,jt,Rt){(0,wt.unreachable)("Abstract method `ensure` called")}requestRange(Ot,jt){(0,wt.unreachable)("Abstract method `requestRange` called")}requestLoadedStream(Ot=!1){(0,wt.unreachable)("Abstract method `requestLoadedStream` called")}sendProgressiveData(Ot){(0,wt.unreachable)("Abstract method `sendProgressiveData` called")}updatePassword(Ot){this._password=Ot}terminate(Ot){(0,wt.unreachable)("Abstract method `terminate` called")}}class qt extends Vt{constructor(Ot){super(Ot);const jt=new vt.Stream(Ot.source);this.pdfDocument=new ht.PDFDocument(this,jt),this._loadedStreamPromise=Promise.resolve(jt)}async ensure(Ot,jt,Rt){const Kt=Ot[jt];return typeof Kt=="function"?Kt.apply(Ot,Rt):Kt}requestRange(Ot,jt){return Promise.resolve()}requestLoadedStream(Ot=!1){return this._loadedStreamPromise}terminate(Ot){}}Et.LocalPdfManager=qt;class Lt extends Vt{constructor(Ot){super(Ot),this.streamManager=new kt.ChunkedStreamManager(Ot.source,{msgHandler:Ot.handler,length:Ot.length,disableAutoFetch:Ot.disableAutoFetch,rangeChunkSize:Ot.rangeChunkSize}),this.pdfDocument=new ht.PDFDocument(this,this.streamManager.getStream())}async ensure(Ot,jt,Rt){try{const Kt=Ot[jt];return typeof Kt=="function"?Kt.apply(Ot,Rt):Kt}catch(Kt){if(!(Kt instanceof _t.MissingDataException))throw Kt;return await this.requestRange(Kt.begin,Kt.end),this.ensure(Ot,jt,Rt)}}requestRange(Ot,jt){return this.streamManager.requestRange(Ot,jt)}requestLoadedStream(Ot=!1){return this.streamManager.requestAllChunks(Ot)}sendProgressiveData(Ot){this.streamManager.onReceiveData({chunk:Ot})}terminate(Ot){this.streamManager.abort(Ot)}}Et.NetworkPdfManager=Lt},(Ct,Et,Pt)=>{Object.defineProperty(Et,"__esModule",{value:!0}),Et.ChunkedStreamManager=Et.ChunkedStream=void 0;var wt=Pt(3),kt=Pt(2),_t=Pt(8);class ht extends _t.Stream{constructor(Vt,qt,Lt){super(new Uint8Array(Vt),0,Vt,null),this.chunkSize=qt,this._loadedChunks=new Set,this.numChunks=Math.ceil(Vt/qt),this.manager=Lt,this.progressiveDataLength=0,this.lastSuccessfulEnsureByteChunk=-1}getMissingChunks(){const Vt=[];for(let qt=0,Lt=this.numChunks;qt<Lt;++qt)this._loadedChunks.has(qt)||Vt.push(qt);return Vt}get numChunksLoaded(){return this._loadedChunks.size}get isDataLoaded(){return this.numChunksLoaded===this.numChunks}onReceiveData(Vt,qt){const Lt=this.chunkSize;if(Vt%Lt!==0)throw new Error(`Bad begin offset: ${Vt}`);const $t=Vt+qt.byteLength;if($t%Lt!==0&&$t!==this.bytes.length)throw new Error(`Bad end offset: ${$t}`);this.bytes.set(new Uint8Array(qt),Vt);const Ot=Math.floor(Vt/Lt),jt=Math.floor(($t-1)/Lt)+1;for(let Rt=Ot;Rt<jt;++Rt)this._loadedChunks.add(Rt)}onReceiveProgressiveData(Vt){let qt=this.progressiveDataLength;const Lt=Math.floor(qt/this.chunkSize);this.bytes.set(new Uint8Array(Vt),qt),qt+=Vt.byteLength,this.progressiveDataLength=qt;const $t=qt>=this.end?this.numChunks:Math.floor(qt/this.chunkSize);for(let Ot=Lt;Ot<$t;++Ot)this._loadedChunks.add(Ot)}ensureByte(Vt){if(Vt<this.progressiveDataLength)return;const qt=Math.floor(Vt/this.chunkSize);if(!(qt>this.numChunks)&&qt!==this.lastSuccessfulEnsureByteChunk){if(!this._loadedChunks.has(qt))throw new wt.MissingDataException(Vt,Vt+1);this.lastSuccessfulEnsureByteChunk=qt}}ensureRange(Vt,qt){if(Vt>=qt||qt<=this.progressiveDataLength)return;const Lt=Math.floor(Vt/this.chunkSize);if(Lt>this.numChunks)return;const $t=Math.min(Math.floor((qt-1)/this.chunkSize)+1,this.numChunks);for(let Ot=Lt;Ot<$t;++Ot)if(!this._loadedChunks.has(Ot))throw new wt.MissingDataException(Vt,qt)}nextEmptyChunk(Vt){const qt=this.numChunks;for(let Lt=0;Lt<qt;++Lt){const $t=(Vt+Lt)%qt;if(!this._loadedChunks.has($t))return $t}return null}hasChunk(Vt){return this._loadedChunks.has(Vt)}getByte(){const Vt=this.pos;return Vt>=this.end?-1:(Vt>=this.progressiveDataLength&&this.ensureByte(Vt),this.bytes[this.pos++])}getBytes(Vt){const qt=this.bytes,Lt=this.pos,$t=this.end;if(!Vt)return $t>this.progressiveDataLength&&this.ensureRange(Lt,$t),qt.subarray(Lt,$t);let Ot=Lt+Vt;return Ot>$t&&(Ot=$t),Ot>this.progressiveDataLength&&this.ensureRange(Lt,Ot),this.pos=Ot,qt.subarray(Lt,Ot)}getByteRange(Vt,qt){return Vt<0&&(Vt=0),qt>this.end&&(qt=this.end),qt>this.progressiveDataLength&&this.ensureRange(Vt,qt),this.bytes.subarray(Vt,qt)}makeSubStream(Vt,qt,Lt=null){qt?Vt+qt>this.progressiveDataLength&&this.ensureRange(Vt,Vt+qt):Vt>=this.progressiveDataLength&&this.ensureByte(Vt);function $t(){}$t.prototype=Object.create(this),$t.prototype.getMissingChunks=function(){const jt=this.chunkSize,Rt=Math.floor(this.start/jt),Kt=Math.floor((this.end-1)/jt)+1,Bt=[];for(let Gt=Rt;Gt<Kt;++Gt)this._loadedChunks.has(Gt)||Bt.push(Gt);return Bt},Object.defineProperty($t.prototype,"isDataLoaded",{get(){return this.numChunksLoaded===this.numChunks?!0:this.getMissingChunks().length===0},configurable:!0});const Ot=new $t;return Ot.pos=Ot.start=Vt,Ot.end=Vt+qt||this.end,Ot.dict=Lt,Ot}getBaseStreams(){return[this]}}Et.ChunkedStream=ht;class vt{constructor(Vt,qt){this.length=qt.length,this.chunkSize=qt.rangeChunkSize,this.stream=new ht(this.length,this.chunkSize,this),this.pdfNetworkStream=Vt,this.disableAutoFetch=qt.disableAutoFetch,this.msgHandler=qt.msgHandler,this.currRequestId=0,this._chunksNeededByRequest=new Map,this._requestsByChunk=new Map,this._promisesByRequest=new Map,this.progressiveDataLength=0,this.aborted=!1,this._loadedStreamCapability=new kt.PromiseCapability}sendRequest(Vt,qt){const Lt=this.pdfNetworkStream.getRangeReader(Vt,qt);Lt.isStreamingSupported||(Lt.onProgress=this.onProgress.bind(this));let $t=[],Ot=0;return new Promise((jt,Rt)=>{const Kt=({value:Bt,done:Gt})=>{try{if(Gt){const en=(0,wt.arrayBuffersToBytes)($t);$t=null,jt(en);return}Ot+=Bt.byteLength,Lt.isStreamingSupported&&this.onProgress({loaded:Ot}),$t.push(Bt),Lt.read().then(Kt,Rt)}catch(en){Rt(en)}};Lt.read().then(Kt,Rt)}).then(jt=>{this.aborted||this.onReceiveData({chunk:jt,begin:Vt})})}requestAllChunks(Vt=!1){if(!Vt){const qt=this.stream.getMissingChunks();this._requestChunks(qt)}return this._loadedStreamCapability.promise}_requestChunks(Vt){const qt=this.currRequestId++,Lt=new Set;this._chunksNeededByRequest.set(qt,Lt);for(const jt of Vt)this.stream.hasChunk(jt)||Lt.add(jt);if(Lt.size===0)return Promise.resolve();const $t=new kt.PromiseCapability;this._promisesByRequest.set(qt,$t);const Ot=[];for(const jt of Lt){let Rt=this._requestsByChunk.get(jt);Rt||(Rt=[],this._requestsByChunk.set(jt,Rt),Ot.push(jt)),Rt.push(qt)}if(Ot.length>0){const jt=this.groupChunks(Ot);for(const Rt of jt){const Kt=Rt.beginChunk*this.chunkSize,Bt=Math.min(Rt.endChunk*this.chunkSize,this.length);this.sendRequest(Kt,Bt).catch($t.reject)}}return $t.promise.catch(jt=>{if(!this.aborted)throw jt})}getStream(){return this.stream}requestRange(Vt,qt){qt=Math.min(qt,this.length);const Lt=this.getBeginChunk(Vt),$t=this.getEndChunk(qt),Ot=[];for(let jt=Lt;jt<$t;++jt)Ot.push(jt);return this._requestChunks(Ot)}requestRanges(Vt=[]){const qt=[];for(const Lt of Vt){const $t=this.getBeginChunk(Lt.begin),Ot=this.getEndChunk(Lt.end);for(let jt=$t;jt<Ot;++jt)qt.includes(jt)||qt.push(jt)}return qt.sort(function(Lt,$t){return Lt-$t}),this._requestChunks(qt)}groupChunks(Vt){const qt=[];let Lt=-1,$t=-1;for(let Ot=0,jt=Vt.length;Ot<jt;++Ot){const Rt=Vt[Ot];Lt<0&&(Lt=Rt),$t>=0&&$t+1!==Rt&&(qt.push({beginChunk:Lt,endChunk:$t+1}),Lt=Rt),Ot+1===Vt.length&&qt.push({beginChunk:Lt,endChunk:Rt+1}),$t=Rt}return qt}onProgress(Vt){this.msgHandler.send("DocProgress",{loaded:this.stream.numChunksLoaded*this.chunkSize+Vt.loaded,total:this.length})}onReceiveData(Vt){const qt=Vt.chunk,Lt=Vt.begin===void 0,$t=Lt?this.progressiveDataLength:Vt.begin,Ot=$t+qt.byteLength,jt=Math.floor($t/this.chunkSize),Rt=Ot<this.length?Math.floor(Ot/this.chunkSize):Math.ceil(Ot/this.chunkSize);Lt?(this.stream.onReceiveProgressiveData(qt),this.progressiveDataLength=Ot):this.stream.onReceiveData($t,qt),this.stream.isDataLoaded&&this._loadedStreamCapability.resolve(this.stream);const Kt=[];for(let Bt=jt;Bt<Rt;++Bt){const Gt=this._requestsByChunk.get(Bt);if(Gt){this._requestsByChunk.delete(Bt);for(const en of Gt){const hn=this._chunksNeededByRequest.get(en);hn.has(Bt)&&hn.delete(Bt),!(hn.size>0)&&Kt.push(en)}}}if(!this.disableAutoFetch&&this._requestsByChunk.size===0){let Bt;if(this.stream.numChunksLoaded===1){const Gt=this.stream.numChunks-1;this.stream.hasChunk(Gt)||(Bt=Gt)}else Bt=this.stream.nextEmptyChunk(Rt);Number.isInteger(Bt)&&this._requestChunks([Bt])}for(const Bt of Kt){const Gt=this._promisesByRequest.get(Bt);this._promisesByRequest.delete(Bt),Gt.resolve()}this.msgHandler.send("DocProgress",{loaded:this.stream.numChunksLoaded*this.chunkSize,total:this.length})}onError(Vt){this._loadedStreamCapability.reject(Vt)}getBeginChunk(Vt){return Math.floor(Vt/this.chunkSize)}getEndChunk(Vt){return Math.floor((Vt-1)/this.chunkSize)+1}abort(Vt){var qt;this.aborted=!0,(qt=this.pdfNetworkStream)==null||qt.cancelAllRequests(Vt);for(const Lt of this._promisesByRequest.values())Lt.reject(Vt)}}Et.ChunkedStreamManager=vt},(Ct,Et,Pt)=>{Object.defineProperty(Et,"__esModule",{value:!0}),Et.StringStream=Et.Stream=Et.NullStream=void 0;var wt=Pt(5),kt=Pt(2);class _t extends wt.BaseStream{constructor(Vt,qt,Lt,$t){super(),this.bytes=Vt instanceof Uint8Array?Vt:new Uint8Array(Vt),this.start=qt||0,this.pos=this.start,this.end=qt+Lt||this.bytes.length,this.dict=$t}get length(){return this.end-this.start}get isEmpty(){return this.length===0}getByte(){return this.pos>=this.end?-1:this.bytes[this.pos++]}getBytes(Vt){const qt=this.bytes,Lt=this.pos,$t=this.end;if(!Vt)return qt.subarray(Lt,$t);let Ot=Lt+Vt;return Ot>$t&&(Ot=$t),this.pos=Ot,qt.subarray(Lt,Ot)}getByteRange(Vt,qt){return Vt<0&&(Vt=0),qt>this.end&&(qt=this.end),this.bytes.subarray(Vt,qt)}reset(){this.pos=this.start}moveStart(){this.start=this.pos}makeSubStream(Vt,qt,Lt=null){return new _t(this.bytes.buffer,Vt,qt,Lt)}}Et.Stream=_t;class ht extends _t{constructor(Vt){super((0,kt.stringToBytes)(Vt))}}Et.StringStream=ht;class vt extends _t{constructor(){super(new Uint8Array(0))}}Et.NullStream=vt},(Ct,Et,Pt)=>{var Xt,W3,ln,G3;Object.defineProperty(Et,"__esModule",{value:!0}),Et.Page=Et.PDFDocument=void 0;var wt=Pt(2),kt=Pt(10),_t=Pt(3),ht=Pt(4),vt=Pt(51),Ft=Pt(5),Vt=Pt(74),qt=Pt(66),Lt=Pt(68),$t=Pt(102),Ot=Pt(16),jt=Pt(8),Rt=Pt(76),Kt=Pt(64),Bt=Pt(13),Gt=Pt(18),en=Pt(72),hn=Pt(73),tn=Pt(77),gn=Pt(103);const nn=1,bn=[0,0,612,792];class Wt{constructor({pdfManager:rn,xref:an,pageIndex:xn,pageDict:wn,ref:En,globalIdFactory:Fn,fontCache:In,builtInCMapCache:Tn,standardFontDataCache:An,globalImageCache:mn,systemFontCache:pn,nonBlendModesSet:Jt,xfaFactory:un}){Nn(this,Xt);this.pdfManager=rn,this.pageIndex=xn,this.pageDict=wn,this.xref=an,this.ref=En,this.fontCache=In,this.builtInCMapCache=Tn,this.standardFontDataCache=An,this.globalImageCache=mn,this.systemFontCache=pn,this.nonBlendModesSet=Jt,this.evaluatorOptions=rn.evaluatorOptions,this.resourcesPromise=null,this.xfaFactory=un;const fn={obj:0};this._localIdFactory=class extends Fn{static createObjId(){return`p${xn}_${++fn.obj}`}static getPageObjId(){return`p${En.toString()}`}}}_getInheritableProperty(rn,an=!1){const xn=(0,_t.getInheritableProperty)({dict:this.pageDict,key:rn,getArray:an,stopWhenFound:!1});return Array.isArray(xn)?xn.length===1||!(xn[0]instanceof ht.Dict)?xn[0]:ht.Dict.merge({xref:this.xref,dictArray:xn}):xn}get content(){return this.pageDict.getArray("Contents")}get resources(){const rn=this._getInheritableProperty("Resources");return(0,wt.shadow)(this,"resources",rn instanceof ht.Dict?rn:ht.Dict.empty)}_getBoundingBox(rn){if(this.xfaData)return this.xfaData.bbox;let an=this._getInheritableProperty(rn,!0);if(Array.isArray(an)&&an.length===4){if(an=wt.Util.normalizeRect(an),an[2]-an[0]>0&&an[3]-an[1]>0)return an;(0,wt.warn)(`Empty, or invalid, /${rn} entry.`)}return null}get mediaBox(){return(0,wt.shadow)(this,"mediaBox",this._getBoundingBox("MediaBox")||bn)}get cropBox(){return(0,wt.shadow)(this,"cropBox",this._getBoundingBox("CropBox")||this.mediaBox)}get userUnit(){let rn=this.pageDict.get("UserUnit");return(typeof rn!="number"||rn<=0)&&(rn=nn),(0,wt.shadow)(this,"userUnit",rn)}get view(){const{cropBox:rn,mediaBox:an}=this;if(rn!==an&&!(0,wt.isArrayEqual)(rn,an)){const xn=wt.Util.intersect(rn,an);if(xn&&xn[2]-xn[0]>0&&xn[3]-xn[1]>0)return(0,wt.shadow)(this,"view",xn);(0,wt.warn)("Empty /CropBox and /MediaBox intersection.")}return(0,wt.shadow)(this,"view",an)}get rotate(){let rn=this._getInheritableProperty("Rotate")||0;return rn%90!==0?rn=0:rn>=360?rn%=360:rn<0&&(rn=(rn%360+360)%360),(0,wt.shadow)(this,"rotate",rn)}_onSubStreamError(rn,an){if(this.evaluatorOptions.ignoreErrors){(0,wt.warn)(`getContentStream - ignoring sub-stream (${an}): "${rn}".`);return}throw rn}getContentStream(){return this.pdfManager.ensure(this,"content").then(rn=>rn instanceof Ft.BaseStream?rn:Array.isArray(rn)?new Gt.StreamsSequenceStream(rn,this._onSubStreamError.bind(this)):new jt.NullStream)}get xfaData(){return(0,wt.shadow)(this,"xfaData",this.xfaFactory?{bbox:this.xfaFactory.getBoundingBox(this.pageIndex)}:null)}async saveNewAnnotations(rn,an,xn,wn){if(this.xfaFactory)throw new Error("XFA: Cannot save new annotations.");const En=new Bt.PartialEvaluator({xref:this.xref,handler:rn,pageIndex:this.pageIndex,idFactory:this._localIdFactory,fontCache:this.fontCache,builtInCMapCache:this.builtInCMapCache,standardFontDataCache:this.standardFontDataCache,globalImageCache:this.globalImageCache,systemFontCache:this.systemFontCache,options:this.evaluatorOptions}),Fn=new ht.RefSet,In=new ht.RefSet;On(this,Xt,W3).call(this,xn,Fn,In);const Tn=this.pageDict,An=this.annotations.filter(fn=>!(fn instanceof ht.Ref&&Fn.has(fn))),mn=await kt.AnnotationFactory.saveNewAnnotations(En,an,xn,wn);for(const{ref:fn}of mn.annotations)fn instanceof ht.Ref&&!In.has(fn)&&An.push(fn);const pn=Tn.get("Annots");Tn.set("Annots",An);const Jt=[];await(0,hn.writeObject)(this.ref,Tn,Jt,this.xref),pn&&Tn.set("Annots",pn);const un=mn.dependencies;return un.push({ref:this.ref,data:Jt.join("")},...mn.annotations),un}save(rn,an,xn){const wn=new Bt.PartialEvaluator({xref:this.xref,handler:rn,pageIndex:this.pageIndex,idFactory:this._localIdFactory,fontCache:this.fontCache,builtInCMapCache:this.builtInCMapCache,standardFontDataCache:this.standardFontDataCache,globalImageCache:this.globalImageCache,systemFontCache:this.systemFontCache,options:this.evaluatorOptions});return this._parsedAnnotations.then(function(En){const Fn=[];for(const In of En)In.mustBePrinted(xn)&&Fn.push(In.save(wn,an,xn).catch(function(Tn){return(0,wt.warn)(`save - ignoring annotation data during "${an.name}" task: "${Tn}".`),null}));return Promise.all(Fn).then(function(In){return In.filter(Tn=>!!Tn)})})}loadResources(rn){return this.resourcesPromise||(this.resourcesPromise=this.pdfManager.ensure(this,"resources")),this.resourcesPromise.then(()=>new Rt.ObjectLoader(this.resources,rn,this.xref).load())}getOperatorList({handler:rn,sink:an,task:xn,intent:wn,cacheKey:En,annotationStorage:Fn=null}){const In=this.getContentStream(),Tn=this.loadResources(["ColorSpace","ExtGState","Font","Pattern","Properties","Shading","XObject"]),An=new Bt.PartialEvaluator({xref:this.xref,handler:rn,pageIndex:this.pageIndex,idFactory:this._localIdFactory,fontCache:this.fontCache,builtInCMapCache:this.builtInCMapCache,standardFontDataCache:this.standardFontDataCache,globalImageCache:this.globalImageCache,systemFontCache:this.systemFontCache,options:this.evaluatorOptions}),mn=this.xfaFactory?null:(0,_t.getNewAnnotationsMap)(Fn);let pn=null,Jt=Promise.resolve(null);if(mn){const Sn=mn.get(this.pageIndex);if(Sn){const kn=this.pdfManager.ensureDoc("annotationGlobals");let Pn;const Cn=new Set;for(const{bitmapId:Rn,bitmap:Mn}of Sn)Rn&&!Mn&&!Cn.has(Rn)&&Cn.add(Rn);const{isOffscreenCanvasSupported:vn}=this.evaluatorOptions;if(Cn.size>0){const Rn=Sn.slice();for(const[Mn,_n]of Fn)Mn.startsWith(wt.AnnotationEditorPrefix)&&_n.bitmap&&Cn.has(_n.bitmapId)&&Rn.push(_n);Pn=kt.AnnotationFactory.generateImages(Rn,this.xref,vn)}else Pn=kt.AnnotationFactory.generateImages(Sn,this.xref,vn);pn=new ht.RefSet,On(this,Xt,W3).call(this,Sn,pn,null),Jt=kn.then(Rn=>Rn?kt.AnnotationFactory.printNewAnnotations(Rn,An,xn,Sn,Pn):null)}}const fn=Promise.all([In,Tn]).then(([Sn])=>{const kn=new Kt.OperatorList(wn,an);return rn.send("StartRenderPage",{transparency:An.hasBlendModes(this.resources,this.nonBlendModesSet),pageIndex:this.pageIndex,cacheKey:En}),An.getOperatorList({stream:Sn,task:xn,resources:this.resources,operatorList:kn}).then(function(){return kn})});return Promise.all([fn,this._parsedAnnotations,Jt]).then(function([Sn,kn,Pn]){if(Pn){kn=kn.filter(Dn=>!(Dn.ref&&pn.has(Dn.ref)));for(let Dn=0,Ln=Pn.length;Dn<Ln;Dn++){const Un=Pn[Dn];if(Un.refToReplace){const ts=kn.findIndex(es=>es.ref&&(0,ht.isRefsEqual)(es.ref,Un.refToReplace));ts>=0&&(kn.splice(ts,1,Un),Pn.splice(Dn--,1),Ln--)}}kn=kn.concat(Pn)}if(kn.length===0||wn&wt.RenderingIntentFlag.ANNOTATIONS_DISABLE)return Sn.flush(!0),{length:Sn.totalLength};const Cn=!!(wn&wt.RenderingIntentFlag.ANNOTATIONS_FORMS),vn=!!(wn&wt.RenderingIntentFlag.ANY),Rn=!!(wn&wt.RenderingIntentFlag.DISPLAY),Mn=!!(wn&wt.RenderingIntentFlag.PRINT),_n=[];for(const Dn of kn)(vn||Rn&&Dn.mustBeViewed(Fn,Cn)||Mn&&Dn.mustBePrinted(Fn))&&_n.push(Dn.getOperatorList(An,xn,wn,Cn,Fn).catch(function(Ln){return(0,wt.warn)(`getOperatorList - ignoring annotation data during "${xn.name}" task: "${Ln}".`),{opList:null,separateForm:!1,separateCanvas:!1}}));return Promise.all(_n).then(function(Dn){let Ln=!1,Un=!1;for(const{opList:ts,separateForm:es,separateCanvas:Qn}of Dn)Sn.addOpList(ts),Ln||(Ln=es),Un||(Un=Qn);return Sn.flush(!0,{form:Ln,canvas:Un}),{length:Sn.totalLength}})})}extractTextContent({handler:rn,task:an,includeMarkedContent:xn,disableNormalization:wn,sink:En}){const Fn=this.getContentStream(),In=this.loadResources(["ExtGState","Font","Properties","XObject"]);return Promise.all([Fn,In]).then(([An])=>new Bt.PartialEvaluator({xref:this.xref,handler:rn,pageIndex:this.pageIndex,idFactory:this._localIdFactory,fontCache:this.fontCache,builtInCMapCache:this.builtInCMapCache,standardFontDataCache:this.standardFontDataCache,globalImageCache:this.globalImageCache,systemFontCache:this.systemFontCache,options:this.evaluatorOptions}).getTextContent({stream:An,task:an,resources:this.resources,includeMarkedContent:xn,disableNormalization:wn,sink:En,viewBox:this.view}))}async getStructTree(){const rn=await this.pdfManager.ensureCatalog("structTreeRoot");return rn?(await this._parsedAnnotations,(await this.pdfManager.ensure(this,"_parseStructTree",[rn])).serializable):null}_parseStructTree(rn){const an=new en.StructTreePage(rn,this.pageDict);return an.parse(this.ref),an}async getAnnotationsData(rn,an,xn){const wn=await this._parsedAnnotations;if(wn.length===0)return wn;const En=[],Fn=[];let In;const Tn=!!(xn&wt.RenderingIntentFlag.ANY),An=!!(xn&wt.RenderingIntentFlag.DISPLAY),mn=!!(xn&wt.RenderingIntentFlag.PRINT);for(const pn of wn){const Jt=Tn||An&&pn.viewable;(Jt||mn&&pn.printable)&&En.push(pn.data),pn.hasTextContent&&Jt&&(In||(In=new Bt.PartialEvaluator({xref:this.xref,handler:rn,pageIndex:this.pageIndex,idFactory:this._localIdFactory,fontCache:this.fontCache,builtInCMapCache:this.builtInCMapCache,standardFontDataCache:this.standardFontDataCache,globalImageCache:this.globalImageCache,systemFontCache:this.systemFontCache,options:this.evaluatorOptions})),Fn.push(pn.extractTextContent(In,an,[-1/0,-1/0,1/0,1/0]).catch(function(un){(0,wt.warn)(`getAnnotationsData - ignoring textContent during "${an.name}" task: "${un}".`)})))}return await Promise.all(Fn),En}get annotations(){const rn=this._getInheritableProperty("Annots");return(0,wt.shadow)(this,"annotations",Array.isArray(rn)?rn:[])}get _parsedAnnotations(){const rn=this.pdfManager.ensure(this,"annotations").then(async an=>{if(an.length===0)return an;const xn=await this.pdfManager.ensureDoc("annotationGlobals");if(!xn)return[];const wn=[];for(const In of an)wn.push(kt.AnnotationFactory.create(this.xref,In,xn,this._localIdFactory,!1,this.ref).catch(function(Tn){return(0,wt.warn)(`_parsedAnnotations: "${Tn}".`),null}));const En=[];let Fn;for(const In of await Promise.all(wn))if(In){if(In instanceof kt.PopupAnnotation){(Fn||(Fn=[])).push(In);continue}En.push(In)}return Fn&&En.push(...Fn),En});return(0,wt.shadow)(this,"_parsedAnnotations",rn)}get jsActions(){const rn=(0,_t.collectActions)(this.xref,this.pageDict,wt.PageActionEventType);return(0,wt.shadow)(this,"jsActions",rn)}}Xt=new WeakSet,W3=function(rn,an,xn){for(const wn of rn)if(wn.id){const En=ht.Ref.fromString(wn.id);if(!En){(0,wt.warn)(`A non-linked annotation cannot be modified: ${wn.id}`);continue}if(wn.deleted){an.put(En);continue}xn==null||xn.put(En),wn.ref=En,delete wn.id}},Et.Page=Wt;const Yt=new Uint8Array([37,80,68,70,45]),dn=new Uint8Array([115,116,97,114,116,120,114,101,102]),Ut=new Uint8Array([101,110,100,111,98,106]),Mt=1024,Ht="\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0";function sn(cn,rn,an=1024,xn=!1){const wn=rn.length,En=cn.peekBytes(an),Fn=En.length-wn;if(Fn<=0)return!1;if(xn){const In=wn-1;let Tn=En.length-1;for(;Tn>=In;){let An=0;for(;An<wn&&En[Tn-An]===rn[In-An];)An++;if(An>=wn)return cn.pos+=Tn-In,!0;Tn--}}else{let In=0;for(;In<=Fn;){let Tn=0;for(;Tn<wn&&En[In+Tn]===rn[Tn];)Tn++;if(Tn>=wn)return cn.pos+=In,!0;In++}}return!1}class zt{constructor(rn,an){Nn(this,ln);if(an.length<=0)throw new wt.InvalidPDFException("The PDF file is empty, i.e. its size is zero bytes.");this.pdfManager=rn,this.stream=an,this.xref=new gn.XRef(an,rn),this._pagePromises=new Map,this._version=null;const xn={font:0};this._globalIdFactory=class{static getDocId(){return`g_${rn.docId}`}static createFontId(){return`f${++xn.font}`}static createObjId(){(0,wt.unreachable)("Abstract method `createObjId` called.")}static getPageObjId(){(0,wt.unreachable)("Abstract method `getPageObjId` called.")}}}parse(rn){this.xref.parse(rn),this.catalog=new qt.Catalog(this.pdfManager,this.xref)}get linearization(){let rn=null;try{rn=Ot.Linearization.create(this.stream)}catch(an){if(an instanceof _t.MissingDataException)throw an;(0,wt.info)(an)}return(0,wt.shadow)(this,"linearization",rn)}get startXRef(){const rn=this.stream;let an=0;if(this.linearization)rn.reset(),sn(rn,Ut)&&(an=rn.pos+6-rn.start);else{const wn=dn.length;let En=!1,Fn=rn.end;for(;!En&&Fn>0;)Fn-=1024-wn,Fn<0&&(Fn=0),rn.pos=Fn,En=sn(rn,dn,1024,!0);if(En){rn.skip(9);let In;do In=rn.getByte();while((0,_t.isWhiteSpace)(In));let Tn="";for(;In>=32&&In<=57;)Tn+=String.fromCharCode(In),In=rn.getByte();an=parseInt(Tn,10),isNaN(an)&&(an=0)}}return(0,wt.shadow)(this,"startXRef",an)}checkHeader(){const rn=this.stream;if(rn.reset(),!sn(rn,Yt))return;rn.moveStart(),rn.skip(Yt.length);let an="",xn;for(;(xn=rn.getByte())>32&&an.length<7;)an+=String.fromCharCode(xn);_t.PDF_VERSION_REGEXP.test(an)?this._version=an:(0,wt.warn)(`Invalid PDF header version: ${an}`)}parseStartXRef(){this.xref.setStartXRef(this.startXRef)}get numPages(){let rn=0;return this.catalog.hasActualNumPages?rn=this.catalog.numPages:this.xfaFactory?rn=this.xfaFactory.getNumPages():this.linearization?rn=this.linearization.numPages:rn=this.catalog.numPages,(0,wt.shadow)(this,"numPages",rn)}_hasOnlyDocumentSignatures(rn,an=0){return Array.isArray(rn)?rn.every(wn=>{if(wn=this.xref.fetchIfRef(wn),!(wn instanceof ht.Dict))return!1;if(wn.has("Kids"))return++an>10?((0,wt.warn)("_hasOnlyDocumentSignatures: maximum recursion depth reached"),!1):this._hasOnlyDocumentSignatures(wn.get("Kids"),an);const En=(0,ht.isName)(wn.get("FT"),"Sig"),Fn=wn.get("Rect"),In=Array.isArray(Fn)&&Fn.every(Tn=>Tn===0);return En&&In}):!1}get _xfaStreams(){const rn=this.catalog.acroForm;if(!rn)return null;const an=rn.get("XFA"),xn={"xdp:xdp":"",template:"",datasets:"",config:"",connectionSet:"",localeSet:"",stylesheet:"","/xdp:xdp":""};if(an instanceof Ft.BaseStream&&!an.isEmpty)return xn["xdp:xdp"]=an,xn;if(!Array.isArray(an)||an.length===0)return null;for(let wn=0,En=an.length;wn<En;wn+=2){let Fn;if(wn===0?Fn="xdp:xdp":wn===En-2?Fn="/xdp:xdp":Fn=an[wn],!xn.hasOwnProperty(Fn))continue;const In=this.xref.fetchIfRef(an[wn+1]);!(In instanceof Ft.BaseStream)||In.isEmpty||(xn[Fn]=In)}return xn}get xfaDatasets(){const rn=this._xfaStreams;if(!rn)return(0,wt.shadow)(this,"xfaDatasets",null);for(const an of["datasets","xdp:xdp"]){const xn=rn[an];if(xn)try{const wn=(0,wt.stringToUTF8String)(xn.getString()),En={[an]:wn};return(0,wt.shadow)(this,"xfaDatasets",new $t.DatasetReader(En))}catch{(0,wt.warn)("XFA - Invalid utf-8 string.");break}}return(0,wt.shadow)(this,"xfaDatasets",null)}get xfaData(){const rn=this._xfaStreams;if(!rn)return null;const an=Object.create(null);for(const[xn,wn]of Object.entries(rn))if(wn)try{an[xn]=(0,wt.stringToUTF8String)(wn.getString())}catch{return(0,wt.warn)("XFA - Invalid utf-8 string."),null}return an}get xfaFactory(){let rn;return this.pdfManager.enableXfa&&this.catalog.needsRendering&&this.formInfo.hasXfa&&!this.formInfo.hasAcroForm&&(rn=this.xfaData),(0,wt.shadow)(this,"xfaFactory",rn?new tn.XFAFactory(rn):null)}get isPureXfa(){return this.xfaFactory?this.xfaFactory.isValid():!1}get htmlForXfa(){return this.xfaFactory?this.xfaFactory.getPages():null}async loadXfaImages(){const rn=await this.pdfManager.ensureCatalog("xfaImages");if(!rn)return;const an=rn.getKeys();await new Rt.ObjectLoader(rn,an,this.xref).load();const wn=new Map;for(const En of an){const Fn=rn.get(En);Fn instanceof Ft.BaseStream&&wn.set(En,Fn.getBytes())}this.xfaFactory.setImages(wn)}async loadXfaFonts(rn,an){const xn=await this.pdfManager.ensureCatalog("acroForm");if(!xn)return;const wn=await xn.getAsync("DR");if(!(wn instanceof ht.Dict))return;await new Rt.ObjectLoader(wn,["Font"],this.xref).load();const Fn=wn.get("Font");if(!(Fn instanceof ht.Dict))return;const In=Object.assign(Object.create(null),this.pdfManager.evaluatorOptions);In.useSystemFonts=!1;const Tn=new Bt.PartialEvaluator({xref:this.xref,handler:rn,pageIndex:-1,idFactory:this._globalIdFactory,fontCache:this.catalog.fontCache,builtInCMapCache:this.catalog.builtInCMapCache,standardFontDataCache:this.catalog.standardFontDataCache,options:In}),An=new Kt.OperatorList,mn=[],pn={get font(){return mn.at(-1)},set font(kn){mn.push(kn)},clone(){return this}},Jt=new Map;Fn.forEach((kn,Pn)=>{Jt.set(kn,Pn)});const un=[];for(const[kn,Pn]of Jt){const Cn=Pn.get("FontDescriptor");if(!(Cn instanceof ht.Dict))continue;let vn=Cn.get("FontFamily");vn=vn.replaceAll(/[ ]+(\d)/g,"$1");const Rn=Cn.get("FontWeight"),Mn=-Cn.get("ItalicAngle"),_n={fontFamily:vn,fontWeight:Rn,italicAngle:Mn};(0,_t.validateCSSFont)(_n)&&un.push(Tn.handleSetFont(wn,[ht.Name.get(kn),1],null,An,an,pn,null,_n).catch(function(Dn){return(0,wt.warn)(`loadXfaFonts: "${Dn}".`),null}))}await Promise.all(un);const fn=this.xfaFactory.setFonts(mn);if(!fn)return;In.ignoreErrors=!0,un.length=0,mn.length=0;const Sn=new Set;for(const kn of fn)(0,vt.getXfaFontName)(`${kn}-Regular`)||Sn.add(kn);Sn.size&&fn.push("PdfJS-Fallback");for(const kn of fn)if(!Sn.has(kn))for(const Pn of[{name:"Regular",fontWeight:400,italicAngle:0},{name:"Bold",fontWeight:700,italicAngle:0},{name:"Italic",fontWeight:400,italicAngle:12},{name:"BoldItalic",fontWeight:700,italicAngle:12}]){const Cn=`${kn}-${Pn.name}`,vn=(0,vt.getXfaFontDict)(Cn);un.push(Tn.handleSetFont(wn,[ht.Name.get(Cn),1],null,An,an,pn,vn,{fontFamily:kn,fontWeight:Pn.fontWeight,italicAngle:Pn.italicAngle}).catch(function(Rn){return(0,wt.warn)(`loadXfaFonts: "${Rn}".`),null}))}await Promise.all(un),this.xfaFactory.appendFonts(mn,Sn)}async serializeXfaData(rn){return this.xfaFactory?this.xfaFactory.serializeData(rn):null}get version(){return this.catalog.version||this._version}get formInfo(){const rn={hasFields:!1,hasAcroForm:!1,hasXfa:!1,hasSignatures:!1},an=this.catalog.acroForm;if(!an)return(0,wt.shadow)(this,"formInfo",rn);try{const xn=an.get("Fields"),wn=Array.isArray(xn)&&xn.length>0;rn.hasFields=wn;const En=an.get("XFA");rn.hasXfa=Array.isArray(En)&&En.length>0||En instanceof Ft.BaseStream&&!En.isEmpty;const In=!!(an.get("SigFlags")&1),Tn=In&&this._hasOnlyDocumentSignatures(xn);rn.hasAcroForm=wn&&!Tn,rn.hasSignatures=In}catch(xn){if(xn instanceof _t.MissingDataException)throw xn;(0,wt.warn)(`Cannot fetch form information: "${xn}".`)}return(0,wt.shadow)(this,"formInfo",rn)}get documentInfo(){const rn={PDFFormatVersion:this.version,Language:this.catalog.lang,EncryptFilterName:this.xref.encrypt?this.xref.encrypt.filterName:null,IsLinearized:!!this.linearization,IsAcroFormPresent:this.formInfo.hasAcroForm,IsXFAPresent:this.formInfo.hasXfa,IsCollectionPresent:!!this.catalog.collection,IsSignaturesPresent:this.formInfo.hasSignatures};let an;try{an=this.xref.trailer.get("Info")}catch(xn){if(xn instanceof _t.MissingDataException)throw xn;(0,wt.info)("The document information dictionary is invalid.")}if(!(an instanceof ht.Dict))return(0,wt.shadow)(this,"documentInfo",rn);for(const xn of an.getKeys()){const wn=an.get(xn);switch(xn){case"Title":case"Author":case"Subject":case"Keywords":case"Creator":case"Producer":case"CreationDate":case"ModDate":if(typeof wn=="string"){rn[xn]=(0,wt.stringToPDFString)(wn);continue}break;case"Trapped":if(wn instanceof ht.Name){rn[xn]=wn;continue}break;default:let En;switch(typeof wn){case"string":En=(0,wt.stringToPDFString)(wn);break;case"number":case"boolean":En=wn;break;default:wn instanceof ht.Name&&(En=wn);break}if(En===void 0){(0,wt.warn)(`Bad value, for custom key "${xn}", in Info: ${wn}.`);continue}rn.Custom||(rn.Custom=Object.create(null)),rn.Custom[xn]=En;continue}(0,wt.warn)(`Bad value, for key "${xn}", in Info: ${wn}.`)}return(0,wt.shadow)(this,"documentInfo",rn)}get fingerprints(){function rn(Fn){return typeof Fn=="string"&&Fn.length>0&&Fn!==Ht}function an(Fn){const In=[];for(const Tn of Fn){const An=Tn.toString(16);In.push(An.padStart(2,"0"))}return In.join("")}const xn=this.xref.trailer.get("ID");let wn,En;return Array.isArray(xn)&&rn(xn[0])?(wn=(0,wt.stringToBytes)(xn[0]),xn[1]!==xn[0]&&rn(xn[1])&&(En=(0,wt.stringToBytes)(xn[1]))):wn=(0,Vt.calculateMD5)(this.stream.getByteRange(0,Mt),0,Mt),(0,wt.shadow)(this,"fingerprints",[an(wn),En?an(En):null])}async _getLinearizationPage(rn){const{catalog:an,linearization:xn,xref:wn}=this,En=ht.Ref.get(xn.objectNumberFirst,0);try{const Fn=await wn.fetchAsync(En);if(Fn instanceof ht.Dict){let In=Fn.getRaw("Type");if(In instanceof ht.Ref&&(In=await wn.fetchAsync(In)),(0,ht.isName)(In,"Page")||!Fn.has("Type")&&!Fn.has("Kids"))return an.pageKidsCountCache.has(En)||an.pageKidsCountCache.put(En,1),an.pageIndexCache.has(En)||an.pageIndexCache.put(En,0),[Fn,En]}throw new wt.FormatError("The Linearization dictionary doesn't point to a valid Page dictionary.")}catch(Fn){return(0,wt.warn)(`_getLinearizationPage: "${Fn.message}".`),an.getPageDict(rn)}}getPage(rn){const an=this._pagePromises.get(rn);if(an)return an;const{catalog:xn,linearization:wn,xfaFactory:En}=this;let Fn;return En?Fn=Promise.resolve([ht.Dict.empty,null]):(wn==null?void 0:wn.pageFirst)===rn?Fn=this._getLinearizationPage(rn):Fn=xn.getPageDict(rn),Fn=Fn.then(([In,Tn])=>new Wt({pdfManager:this.pdfManager,xref:this.xref,pageIndex:rn,pageDict:In,ref:Tn,globalIdFactory:this._globalIdFactory,fontCache:xn.fontCache,builtInCMapCache:xn.builtInCMapCache,standardFontDataCache:xn.standardFontDataCache,globalImageCache:xn.globalImageCache,systemFontCache:xn.systemFontCache,nonBlendModesSet:xn.nonBlendModesSet,xfaFactory:En})),this._pagePromises.set(rn,Fn),Fn}async checkFirstPage(rn=!1){if(!rn)try{await this.getPage(0)}catch(an){if(an instanceof _t.XRefEntryException)throw this._pagePromises.delete(0),await this.cleanup(),new _t.XRefParseException}}async checkLastPage(rn=!1){const{catalog:an,pdfManager:xn}=this;an.setActualNumPages();let wn;try{if(await Promise.all([xn.ensureDoc("xfaFactory"),xn.ensureDoc("linearization"),xn.ensureCatalog("numPages")]),this.xfaFactory)return;if(this.linearization?wn=this.linearization.numPages:wn=an.numPages,Number.isInteger(wn)){if(wn<=1)return}else throw new wt.FormatError("Page count is not an integer.");await this.getPage(wn-1)}catch(En){if(this._pagePromises.delete(wn-1),await this.cleanup(),En instanceof _t.XRefEntryException&&!rn)throw new _t.XRefParseException;(0,wt.warn)(`checkLastPage - invalid /Pages tree /Count: ${wn}.`);let Fn;try{Fn=await an.getAllPageDicts(rn)}catch(In){if(In instanceof _t.XRefEntryException&&!rn)throw new _t.XRefParseException;an.setActualNumPages(1);return}for(const[In,[Tn,An]]of Fn){let mn;Tn instanceof Error?(mn=Promise.reject(Tn),mn.catch(()=>{})):mn=Promise.resolve(new Wt({pdfManager:xn,xref:this.xref,pageIndex:In,pageDict:Tn,ref:An,globalIdFactory:this._globalIdFactory,fontCache:an.fontCache,builtInCMapCache:an.builtInCMapCache,standardFontDataCache:an.standardFontDataCache,globalImageCache:an.globalImageCache,systemFontCache:an.systemFontCache,nonBlendModesSet:an.nonBlendModesSet,xfaFactory:null})),this._pagePromises.set(In,mn)}an.setActualNumPages(Fn.size)}}fontFallback(rn,an){return this.catalog.fontFallback(rn,an)}async cleanup(rn=!1){return this.catalog?this.catalog.cleanup(rn):(0,Lt.clearGlobalCaches)()}get fieldObjects(){if(!this.formInfo.hasFields)return(0,wt.shadow)(this,"fieldObjects",Promise.resolve(null));const rn=this.pdfManager.ensureDoc("annotationGlobals").then(async an=>{if(!an)return null;const xn=Object.create(null),wn=new Map;for(const Fn of this.catalog.acroForm.get("Fields"))On(this,ln,G3).call(this,"",Fn,wn,an);const En=[];for(const[Fn,In]of wn)En.push(Promise.all(In).then(Tn=>{Tn=Tn.filter(An=>!!An),Tn.length>0&&(xn[Fn]=Tn)}));return await Promise.all(En),xn});return(0,wt.shadow)(this,"fieldObjects",rn)}get hasJSActions(){const rn=this.pdfManager.ensureDoc("_parseHasJSActions");return(0,wt.shadow)(this,"hasJSActions",rn)}async _parseHasJSActions(){const[rn,an]=await Promise.all([this.pdfManager.ensureCatalog("jsActions"),this.pdfManager.ensureDoc("fieldObjects")]);return rn?!0:an?Object.values(an).some(xn=>xn.some(wn=>wn.actions!==null)):!1}get calculationOrderIds(){const rn=this.catalog.acroForm;if(!(rn!=null&&rn.has("CO")))return(0,wt.shadow)(this,"calculationOrderIds",null);const an=rn.get("CO");if(!Array.isArray(an)||an.length===0)return(0,wt.shadow)(this,"calculationOrderIds",null);const xn=[];for(const wn of an)wn instanceof ht.Ref&&xn.push(wn.toString());return xn.length===0?(0,wt.shadow)(this,"calculationOrderIds",null):(0,wt.shadow)(this,"calculationOrderIds",xn)}get annotationGlobals(){return(0,wt.shadow)(this,"annotationGlobals",kt.AnnotationFactory.createGlobals(this.pdfManager))}}ln=new WeakSet,G3=function(rn,an,xn,wn){const En=this.xref.fetchIfRef(an);if(En.has("T")){const Fn=(0,wt.stringToPDFString)(En.get("T"));rn=rn===""?Fn:`${rn}.${Fn}`}if(xn.has(rn)||xn.set(rn,[]),xn.get(rn).push(kt.AnnotationFactory.create(this.xref,an,wn,this._localIdFactory,!0,null).then(Fn=>Fn==null?void 0:Fn.getFieldObject()).catch(function(Fn){return(0,wt.warn)(`#collectFieldObjects: "${Fn}".`),null})),En.has("Kids"))for(const Fn of En.get("Kids"))On(this,ln,G3).call(this,rn,Fn,xn,wn)},Et.PDFDocument=zt},(Ct,Et,Pt)=>{Object.defineProperty(Et,"__esModule",{value:!0}),Et.PopupAnnotation=Et.MarkupAnnotation=Et.AnnotationFactory=Et.AnnotationBorderStyle=Et.Annotation=void 0,Et.getQuadPoints=tn;var wt=Pt(2),kt=Pt(3),_t=Pt(11),ht=Pt(4),vt=Pt(8),Ft=Pt(5),Vt=Pt(60),qt=Pt(66),Lt=Pt(12),$t=Pt(69),Ot=Pt(26),jt=Pt(76),Rt=Pt(64),Kt=Pt(73),Bt=Pt(77);class Gt{static createGlobals(Jt){return Promise.all([Jt.ensureCatalog("acroForm"),Jt.ensureDoc("xfaDatasets"),Jt.ensureCatalog("structTreeRoot"),Jt.ensureCatalog("baseUrl"),Jt.ensureCatalog("attachments")]).then(([un,fn,Sn,kn,Pn])=>({pdfManager:Jt,acroForm:un instanceof ht.Dict?un:ht.Dict.empty,xfaDatasets:fn,structTreeRoot:Sn,baseUrl:kn,attachments:Pn}),un=>((0,wt.warn)(`createGlobals: "${un}".`),null))}static async create(Jt,un,fn,Sn,kn,Pn){const Cn=kn?await this._getPageIndex(Jt,un,fn.pdfManager):null;return fn.pdfManager.ensure(this,"_create",[Jt,un,fn,Sn,kn,Cn,Pn])}static _create(Jt,un,fn,Sn,kn=!1,Pn=null,Cn=null){const vn=Jt.fetchIfRef(un);if(!(vn instanceof ht.Dict))return;const{acroForm:Rn,pdfManager:Mn}=fn,_n=un instanceof ht.Ref?un.toString():`annot_${Sn.createObjId()}`;let Dn=vn.get("Subtype");Dn=Dn instanceof ht.Name?Dn.name:null;const Ln={xref:Jt,ref:un,dict:vn,subtype:Dn,id:_n,annotationGlobals:fn,collectFields:kn,needAppearances:!kn&&Rn.get("NeedAppearances")===!0,pageIndex:Pn,evaluatorOptions:Mn.evaluatorOptions,pageRef:Cn};switch(Dn){case"Link":return new zt(Ln);case"Text":return new sn(Ln);case"Widget":let Un=(0,kt.getInheritableProperty)({dict:vn,key:"FT"});switch(Un=Un instanceof ht.Name?Un.name:null,Un){case"Tx":return new dn(Ln);case"Btn":return new Ut(Ln);case"Ch":return new Mt(Ln);case"Sig":return new Ht(Ln)}return(0,wt.warn)(`Unimplemented widget field type "${Un}", falling back to base field type.`),new Yt(Ln);case"Popup":return new Xt(Ln);case"FreeText":return new Qt(Ln);case"Line":return new ln(Ln);case"Square":return new on(Ln);case"Circle":return new cn(Ln);case"PolyLine":return new rn(Ln);case"Polygon":return new an(Ln);case"Caret":return new xn(Ln);case"Ink":return new wn(Ln);case"Highlight":return new En(Ln);case"Underline":return new Fn(Ln);case"Squiggly":return new In(Ln);case"StrikeOut":return new Tn(Ln);case"Stamp":return new An(Ln);case"FileAttachment":return new mn(Ln);default:return kn||(Dn?(0,wt.warn)(`Unimplemented annotation type "${Dn}", falling back to base annotation.`):(0,wt.warn)("Annotation is missing the required /Subtype.")),new nn(Ln)}}static async _getPageIndex(Jt,un,fn){try{const Sn=await Jt.fetchIfRefAsync(un);if(!(Sn instanceof ht.Dict))return-1;const kn=Sn.getRaw("P");if(kn instanceof ht.Ref)try{return await fn.ensureCatalog("getPageIndex",[kn])}catch(Cn){(0,wt.info)(`_getPageIndex -- not a valid page reference: "${Cn}".`)}if(Sn.has("Kids"))return-1;const Pn=await fn.ensureDoc("numPages");for(let Cn=0;Cn<Pn;Cn++){const vn=await fn.getPage(Cn),Rn=await fn.ensure(vn,"annotations");for(const Mn of Rn)if(Mn instanceof ht.Ref&&(0,ht.isRefsEqual)(Mn,un))return Cn}}catch(Sn){(0,wt.warn)(`_getPageIndex: "${Sn}".`)}return-1}static generateImages(Jt,un,fn){if(!fn)return(0,wt.warn)("generateImages: OffscreenCanvas is not supported, cannot save or print some annotations with images."),null;let Sn;for(const{bitmapId:kn,bitmap:Pn}of Jt)Pn&&(Sn||(Sn=new Map),Sn.set(kn,An.createImage(Pn,un)));return Sn}static async saveNewAnnotations(Jt,un,fn,Sn){const kn=Jt.xref;let Pn;const Cn=[],vn=[],{isOffscreenCanvasSupported:Rn}=Jt.options;for(const Mn of fn)if(!Mn.deleted)switch(Mn.annotationType){case wt.AnnotationEditorType.FREETEXT:if(!Pn){const Dn=new ht.Dict(kn);Dn.set("BaseFont",ht.Name.get("Helvetica")),Dn.set("Type",ht.Name.get("Font")),Dn.set("Subtype",ht.Name.get("Type1")),Dn.set("Encoding",ht.Name.get("WinAnsiEncoding"));const Ln=[];Pn=kn.getNewTemporaryRef(),await(0,Kt.writeObject)(Pn,Dn,Ln,kn),Cn.push({ref:Pn,data:Ln.join("")})}vn.push(Qt.createNewAnnotation(kn,Mn,Cn,{evaluator:Jt,task:un,baseFontRef:Pn}));break;case wt.AnnotationEditorType.INK:vn.push(wn.createNewAnnotation(kn,Mn,Cn));break;case wt.AnnotationEditorType.STAMP:if(!Rn)break;const _n=await Sn.get(Mn.bitmapId);if(_n.imageStream){const{imageStream:Dn,smaskStream:Ln}=_n,Un=[];if(Ln){const es=kn.getNewTemporaryRef();await(0,Kt.writeObject)(es,Ln,Un,kn),Cn.push({ref:es,data:Un.join("")}),Dn.dict.set("SMask",es),Un.length=0}const ts=_n.imageRef=kn.getNewTemporaryRef();await(0,Kt.writeObject)(ts,Dn,Un,kn),Cn.push({ref:ts,data:Un.join("")}),_n.imageStream=_n.smaskStream=null}vn.push(An.createNewAnnotation(kn,Mn,Cn,{image:_n}));break}return{annotations:await Promise.all(vn),dependencies:Cn}}static async printNewAnnotations(Jt,un,fn,Sn,kn){if(!Sn)return null;const{options:Pn,xref:Cn}=un,vn=[];for(const Rn of Sn)if(!Rn.deleted)switch(Rn.annotationType){case wt.AnnotationEditorType.FREETEXT:vn.push(Qt.createNewPrintAnnotation(Jt,Cn,Rn,{evaluator:un,task:fn,evaluatorOptions:Pn}));break;case wt.AnnotationEditorType.INK:vn.push(wn.createNewPrintAnnotation(Jt,Cn,Rn,{evaluatorOptions:Pn}));break;case wt.AnnotationEditorType.STAMP:if(!Pn.isOffscreenCanvasSupported)break;const Mn=await kn.get(Rn.bitmapId);if(Mn.imageStream){const{imageStream:_n,smaskStream:Dn}=Mn;Dn&&_n.dict.set("SMask",Dn),Mn.imageRef=new Ot.JpegStream(_n,_n.length),Mn.imageStream=Mn.smaskStream=null}vn.push(An.createNewPrintAnnotation(Jt,Cn,Rn,{image:Mn,evaluatorOptions:Pn}));break}return Promise.all(vn)}}Et.AnnotationFactory=Gt;function en(pn,Jt=new Uint8ClampedArray(3)){if(!Array.isArray(pn))return Jt;const un=Jt||new Uint8ClampedArray(3);switch(pn.length){case 0:return null;case 1:return Lt.ColorSpace.singletons.gray.getRgbItem(pn,0,un,0),un;case 3:return Lt.ColorSpace.singletons.rgb.getRgbItem(pn,0,un,0),un;case 4:return Lt.ColorSpace.singletons.cmyk.getRgbItem(pn,0,un,0),un;default:return Jt}}function hn(pn){return Array.from(pn,Jt=>Jt/255)}function tn(pn,Jt){const un=pn.getArray("QuadPoints");if(!Array.isArray(un)||un.length===0||un.length%8>0)return null;const fn=[];for(let Sn=0,kn=un.length/8;Sn<kn;Sn++){let Pn=1/0,Cn=-1/0,vn=1/0,Rn=-1/0;for(let Mn=Sn*8,_n=Sn*8+8;Mn<_n;Mn+=2){const Dn=un[Mn],Ln=un[Mn+1];Pn=Math.min(Dn,Pn),Cn=Math.max(Dn,Cn),vn=Math.min(Ln,vn),Rn=Math.max(Ln,Rn)}if(Jt!==null&&(Pn<Jt[0]||Cn>Jt[2]||vn<Jt[1]||Rn>Jt[3]))return null;fn.push([{x:Pn,y:Rn},{x:Cn,y:Rn},{x:Pn,y:vn},{x:Cn,y:vn}])}return fn}function gn(pn,Jt,un){const[fn,Sn,kn,Pn]=wt.Util.getAxialAlignedBoundingBox(Jt,un);if(fn===kn||Sn===Pn)return[1,0,0,1,pn[0],pn[1]];const Cn=(pn[2]-pn[0])/(kn-fn),vn=(pn[3]-pn[1])/(Pn-Sn);return[Cn,0,0,vn,pn[0]-fn*Cn,pn[1]-Sn*vn]}class nn{constructor(Jt){const{dict:un,xref:fn,annotationGlobals:Sn}=Jt;this.setTitle(un.get("T")),this.setContents(un.get("Contents")),this.setModificationDate(un.get("M")),this.setFlags(un.get("F")),this.setRectangle(un.getArray("Rect")),this.setColor(un.getArray("C")),this.setBorderStyle(un),this.setAppearance(un),this.setOptionalContent(un);const kn=un.get("MK");this.setBorderAndBackgroundColors(kn),this.setRotation(kn,un),this.ref=Jt.ref instanceof ht.Ref?Jt.ref:null,this._streams=[],this.appearance&&this._streams.push(this.appearance);const Pn=!!(this.flags&wt.AnnotationFlag.LOCKED),Cn=!!(this.flags&wt.AnnotationFlag.LOCKEDCONTENTS);if(Sn.structTreeRoot){let vn=un.get("StructParent");vn=Number.isInteger(vn)&&vn>=0?vn:-1,Sn.structTreeRoot.addAnnotationIdToPage(Jt.pageRef,vn)}if(this.data={annotationFlags:this.flags,borderStyle:this.borderStyle,color:this.color,backgroundColor:this.backgroundColor,borderColor:this.borderColor,rotation:this.rotation,contentsObj:this._contents,hasAppearance:!!this.appearance,id:Jt.id,modificationDate:this.modificationDate,rect:this.rectangle,subtype:Jt.subtype,hasOwnCanvas:!1,noRotate:!!(this.flags&wt.AnnotationFlag.NOROTATE),noHTML:Pn&&Cn},Jt.collectFields){const vn=un.get("Kids");if(Array.isArray(vn)){const Rn=[];for(const Mn of vn)Mn instanceof ht.Ref&&Rn.push(Mn.toString());Rn.length!==0&&(this.data.kidIds=Rn)}this.data.actions=(0,kt.collectActions)(fn,un,wt.AnnotationActionEventType),this.data.fieldName=this._constructFieldName(un),this.data.pageIndex=Jt.pageIndex}this._isOffscreenCanvasSupported=Jt.evaluatorOptions.isOffscreenCanvasSupported,this._fallbackFontDict=null,this._needAppearances=!1}_hasFlag(Jt,un){return!!(Jt&un)}_isViewable(Jt){return!this._hasFlag(Jt,wt.AnnotationFlag.INVISIBLE)&&!this._hasFlag(Jt,wt.AnnotationFlag.NOVIEW)}_isPrintable(Jt){return this._hasFlag(Jt,wt.AnnotationFlag.PRINT)&&!this._hasFlag(Jt,wt.AnnotationFlag.HIDDEN)&&!this._hasFlag(Jt,wt.AnnotationFlag.INVISIBLE)}mustBeViewed(Jt,un){var Sn;const fn=(Sn=Jt==null?void 0:Jt.get(this.data.id))==null?void 0:Sn.noView;return fn!==void 0?!fn:this.viewable&&!this._hasFlag(this.flags,wt.AnnotationFlag.HIDDEN)}mustBePrinted(Jt){var fn;const un=(fn=Jt==null?void 0:Jt.get(this.data.id))==null?void 0:fn.noPrint;return un!==void 0?!un:this.printable}get viewable(){return this.data.quadPoints===null?!1:this.flags===0?!0:this._isViewable(this.flags)}get printable(){return this.data.quadPoints===null||this.flags===0?!1:this._isPrintable(this.flags)}_parseStringHelper(Jt){const un=typeof Jt=="string"?(0,wt.stringToPDFString)(Jt):"",fn=un&&(0,Vt.bidi)(un).dir==="rtl"?"rtl":"ltr";return{str:un,dir:fn}}setDefaultAppearance(Jt){const{dict:un,annotationGlobals:fn}=Jt,Sn=(0,kt.getInheritableProperty)({dict:un,key:"DA"})||fn.acroForm.get("DA");this._defaultAppearance=typeof Sn=="string"?Sn:"",this.data.defaultAppearanceData=(0,_t.parseDefaultAppearance)(this._defaultAppearance)}setTitle(Jt){this._title=this._parseStringHelper(Jt)}setContents(Jt){this._contents=this._parseStringHelper(Jt)}setModificationDate(Jt){this.modificationDate=typeof Jt=="string"?Jt:null}setFlags(Jt){this.flags=Number.isInteger(Jt)&&Jt>0?Jt:0}hasFlag(Jt){return this._hasFlag(this.flags,Jt)}setRectangle(Jt){this.rectangle=Array.isArray(Jt)&&Jt.length===4?wt.Util.normalizeRect(Jt):[0,0,0,0]}setColor(Jt){this.color=en(Jt)}setLineEndings(Jt){if(this.lineEndings=["None","None"],Array.isArray(Jt)&&Jt.length===2)for(let un=0;un<2;un++){const fn=Jt[un];if(fn instanceof ht.Name)switch(fn.name){case"None":continue;case"Square":case"Circle":case"Diamond":case"OpenArrow":case"ClosedArrow":case"Butt":case"ROpenArrow":case"RClosedArrow":case"Slash":this.lineEndings[un]=fn.name;continue}(0,wt.warn)(`Ignoring invalid lineEnding: ${fn}`)}}setRotation(Jt,un){this.rotation=0;let fn=Jt instanceof ht.Dict?Jt.get("R")||0:un.get("Rotate")||0;Number.isInteger(fn)&&fn!==0&&(fn%=360,fn<0&&(fn+=360),fn%90===0&&(this.rotation=fn))}setBorderAndBackgroundColors(Jt){Jt instanceof ht.Dict?(this.borderColor=en(Jt.getArray("BC"),null),this.backgroundColor=en(Jt.getArray("BG"),null)):this.borderColor=this.backgroundColor=null}setBorderStyle(Jt){if(this.borderStyle=new bn,Jt instanceof ht.Dict)if(Jt.has("BS")){const un=Jt.get("BS"),fn=un.get("Type");(!fn||(0,ht.isName)(fn,"Border"))&&(this.borderStyle.setWidth(un.get("W"),this.rectangle),this.borderStyle.setStyle(un.get("S")),this.borderStyle.setDashArray(un.getArray("D")))}else if(Jt.has("Border")){const un=Jt.getArray("Border");Array.isArray(un)&&un.length>=3&&(this.borderStyle.setHorizontalCornerRadius(un[0]),this.borderStyle.setVerticalCornerRadius(un[1]),this.borderStyle.setWidth(un[2],this.rectangle),un.length===4&&this.borderStyle.setDashArray(un[3],!0))}else this.borderStyle.setWidth(0)}setAppearance(Jt){this.appearance=null;const un=Jt.get("AP");if(!(un instanceof ht.Dict))return;const fn=un.get("N");if(fn instanceof Ft.BaseStream){this.appearance=fn;return}if(!(fn instanceof ht.Dict))return;const Sn=Jt.get("AS");if(!(Sn instanceof ht.Name)||!fn.has(Sn.name))return;const kn=fn.get(Sn.name);kn instanceof Ft.BaseStream&&(this.appearance=kn)}setOptionalContent(Jt){this.oc=null;const un=Jt.get("OC");un instanceof ht.Name?(0,wt.warn)("setOptionalContent: Support for /Name-entry is not implemented."):un instanceof ht.Dict&&(this.oc=un)}loadResources(Jt,un){return un.dict.getAsync("Resources").then(fn=>fn?new jt.ObjectLoader(fn,Jt,fn.xref).load().then(function(){return fn}):void 0)}async getOperatorList(Jt,un,fn,Sn,kn){const Pn=this.data;let Cn=this.appearance;const vn=!!(this.data.hasOwnCanvas&&fn&wt.RenderingIntentFlag.DISPLAY);if(!Cn){if(!vn)return{opList:new Rt.OperatorList,separateForm:!1,separateCanvas:!1};Cn=new vt.StringStream(""),Cn.dict=new ht.Dict}const Rn=Cn.dict,Mn=await this.loadResources(["ExtGState","ColorSpace","Pattern","Shading","XObject","Font"],Cn),_n=Rn.getArray("BBox")||[0,0,1,1],Dn=Rn.getArray("Matrix")||[1,0,0,1,0,0],Ln=gn(Pn.rect,_n,Dn),Un=new Rt.OperatorList;let ts;return this.oc&&(ts=await Jt.parseMarkedContentProps(this.oc,null)),ts!==void 0&&Un.addOp(wt.OPS.beginMarkedContentProps,["OC",ts]),Un.addOp(wt.OPS.beginAnnotation,[Pn.id,Pn.rect,Ln,Dn,vn]),await Jt.getOperatorList({stream:Cn,task:un,resources:Mn,operatorList:Un,fallbackFontDict:this._fallbackFontDict}),Un.addOp(wt.OPS.endAnnotation,[]),ts!==void 0&&Un.addOp(wt.OPS.endMarkedContent,[]),this.reset(),{opList:Un,separateForm:!1,separateCanvas:vn}}async save(Jt,un,fn){return null}get hasTextContent(){return!1}async extractTextContent(Jt,un,fn){if(!this.appearance)return;const Sn=await this.loadResources(["ExtGState","Font","Properties","XObject"],this.appearance),kn=[],Pn=[];let Cn=null;const vn={desiredSize:Math.Infinity,ready:!0,enqueue(Rn,Mn){for(const _n of Rn.items)_n.str!==void 0&&(Cn||(Cn=_n.transform.slice(-2)),Pn.push(_n.str),_n.hasEOL&&(kn.push(Pn.join("")),Pn.length=0))}};if(await Jt.getTextContent({stream:this.appearance,task:un,resources:Sn,includeMarkedContent:!0,sink:vn,viewBox:fn}),this.reset(),Pn.length&&kn.push(Pn.join("")),kn.length>1||kn[0]){const Rn=this.appearance.dict,Mn=Rn.getArray("BBox")||[0,0,1,1],_n=Rn.getArray("Matrix")||[1,0,0,1,0,0],Dn=this.data.rect,Ln=gn(Dn,Mn,_n);Ln[4]-=Dn[0],Ln[5]-=Dn[1],Cn=wt.Util.applyTransform(Cn,Ln),Cn=wt.Util.applyTransform(Cn,_n),this.data.textPosition=Cn,this.data.textContent=kn}}getFieldObject(){return this.data.kidIds?{id:this.data.id,actions:this.data.actions,name:this.data.fieldName,strokeColor:this.data.borderColor,fillColor:this.data.backgroundColor,type:"",kidIds:this.data.kidIds,page:this.data.pageIndex,rotation:this.rotation}:null}reset(){for(const Jt of this._streams)Jt.reset()}_constructFieldName(Jt){if(!Jt.has("T")&&!Jt.has("Parent"))return(0,wt.warn)("Unknown field name, falling back to empty field name."),"";if(!Jt.has("Parent"))return(0,wt.stringToPDFString)(Jt.get("T"));const un=[];Jt.has("T")&&un.unshift((0,wt.stringToPDFString)(Jt.get("T")));let fn=Jt;const Sn=new ht.RefSet;for(Jt.objId&&Sn.put(Jt.objId);fn.has("Parent")&&(fn=fn.get("Parent"),!(!(fn instanceof ht.Dict)||fn.objId&&Sn.has(fn.objId)));)fn.objId&&Sn.put(fn.objId),fn.has("T")&&un.unshift((0,wt.stringToPDFString)(fn.get("T")));return un.join(".")}}Et.Annotation=nn;class bn{constructor(){this.width=1,this.style=wt.AnnotationBorderStyleType.SOLID,this.dashArray=[3],this.horizontalCornerRadius=0,this.verticalCornerRadius=0}setWidth(Jt,un=[0,0,0,0]){if(Jt instanceof ht.Name){this.width=0;return}if(typeof Jt=="number"){if(Jt>0){const fn=(un[2]-un[0])/2,Sn=(un[3]-un[1])/2;fn>0&&Sn>0&&(Jt>fn||Jt>Sn)&&((0,wt.warn)(`AnnotationBorderStyle.setWidth - ignoring width: ${Jt}`),Jt=1)}this.width=Jt}}setStyle(Jt){if(Jt instanceof ht.Name)switch(Jt.name){case"S":this.style=wt.AnnotationBorderStyleType.SOLID;break;case"D":this.style=wt.AnnotationBorderStyleType.DASHED;break;case"B":this.style=wt.AnnotationBorderStyleType.BEVELED;break;case"I":this.style=wt.AnnotationBorderStyleType.INSET;break;case"U":this.style=wt.AnnotationBorderStyleType.UNDERLINE;break}}setDashArray(Jt,un=!1){if(Array.isArray(Jt)&&Jt.length>0){let fn=!0,Sn=!0;for(const kn of Jt)if(+kn>=0)kn>0&&(Sn=!1);else{fn=!1;break}fn&&!Sn?(this.dashArray=Jt,un&&this.setStyle(ht.Name.get("D"))):this.width=0}else Jt&&(this.width=0)}setHorizontalCornerRadius(Jt){Number.isInteger(Jt)&&(this.horizontalCornerRadius=Jt)}setVerticalCornerRadius(Jt){Number.isInteger(Jt)&&(this.verticalCornerRadius=Jt)}}Et.AnnotationBorderStyle=bn;class Wt extends nn{constructor(Jt){super(Jt);const{dict:un}=Jt;if(un.has("IRT")){const Sn=un.getRaw("IRT");this.data.inReplyTo=Sn instanceof ht.Ref?Sn.toString():null;const kn=un.get("RT");this.data.replyType=kn instanceof ht.Name?kn.name:wt.AnnotationReplyType.REPLY}let fn=null;if(this.data.replyType===wt.AnnotationReplyType.GROUP){const Sn=un.get("IRT");this.setTitle(Sn.get("T")),this.data.titleObj=this._title,this.setContents(Sn.get("Contents")),this.data.contentsObj=this._contents,Sn.has("CreationDate")?(this.setCreationDate(Sn.get("CreationDate")),this.data.creationDate=this.creationDate):this.data.creationDate=null,Sn.has("M")?(this.setModificationDate(Sn.get("M")),this.data.modificationDate=this.modificationDate):this.data.modificationDate=null,fn=Sn.getRaw("Popup"),Sn.has("C")?(this.setColor(Sn.getArray("C")),this.data.color=this.color):this.data.color=null}else this.data.titleObj=this._title,this.setCreationDate(un.get("CreationDate")),this.data.creationDate=this.creationDate,fn=un.getRaw("Popup"),un.has("C")||(this.data.color=null);this.data.popupRef=fn instanceof ht.Ref?fn.toString():null,un.has("RC")&&(this.data.richText=Bt.XFAFactory.getRichTextAsHtml(un.get("RC")))}setCreationDate(Jt){this.creationDate=typeof Jt=="string"?Jt:null}_setDefaultAppearance({xref:Jt,extra:un,strokeColor:fn,fillColor:Sn,blendMode:kn,strokeAlpha:Pn,fillAlpha:Cn,pointsCallback:vn}){let Rn=Number.MAX_VALUE,Mn=Number.MAX_VALUE,_n=Number.MIN_VALUE,Dn=Number.MIN_VALUE;const Ln=["q"];un&&Ln.push(un),fn&&Ln.push(`${fn[0]} ${fn[1]} ${fn[2]} RG`),Sn&&Ln.push(`${Sn[0]} ${Sn[1]} ${Sn[2]} rg`);let Un=this.data.quadPoints;Un||(Un=[[{x:this.rectangle[0],y:this.rectangle[3]},{x:this.rectangle[2],y:this.rectangle[3]},{x:this.rectangle[0],y:this.rectangle[1]},{x:this.rectangle[2],y:this.rectangle[1]}]]);for(const Bn of Un){const[Hn,Xn,cs,rs]=vn(Ln,Bn);Rn=Math.min(Rn,Hn),_n=Math.max(_n,Xn),Mn=Math.min(Mn,cs),Dn=Math.max(Dn,rs)}Ln.push("Q");const ts=new ht.Dict(Jt),es=new ht.Dict(Jt);es.set("Subtype",ht.Name.get("Form"));const Qn=new vt.StringStream(Ln.join(" "));Qn.dict=es,ts.set("Fm0",Qn);const Yn=new ht.Dict(Jt);kn&&Yn.set("BM",ht.Name.get(kn)),typeof Pn=="number"&&Yn.set("CA",Pn),typeof Cn=="number"&&Yn.set("ca",Cn);const zn=new ht.Dict(Jt);zn.set("GS0",Yn);const ns=new ht.Dict(Jt);ns.set("ExtGState",zn),ns.set("XObject",ts);const ls=new ht.Dict(Jt);ls.set("Resources",ns);const ds=this.data.rect=[Rn,Mn,_n,Dn];ls.set("BBox",ds),this.appearance=new vt.StringStream("/GS0 gs /Fm0 Do"),this.appearance.dict=ls,this._streams.push(this.appearance,Qn)}static async createNewAnnotation(Jt,un,fn,Sn){const kn=un.ref||(un.ref=Jt.getNewTemporaryRef()),Pn=await this.createNewAppearanceStream(un,Jt,Sn),Cn=[];let vn;if(Pn){const Rn=Jt.getNewTemporaryRef();vn=this.createNewDict(un,Jt,{apRef:Rn}),await(0,Kt.writeObject)(Rn,Pn,Cn,Jt),fn.push({ref:Rn,data:Cn.join("")})}else vn=this.createNewDict(un,Jt,{});return Number.isInteger(un.parentTreeId)&&vn.set("StructParent",un.parentTreeId),Cn.length=0,await(0,Kt.writeObject)(kn,vn,Cn,Jt),{ref:kn,data:Cn.join("")}}static async createNewPrintAnnotation(Jt,un,fn,Sn){const kn=await this.createNewAppearanceStream(fn,un,Sn),Pn=this.createNewDict(fn,un,{ap:kn}),Cn=new this.prototype.constructor({dict:Pn,xref:un,annotationGlobals:Jt,evaluatorOptions:Sn.evaluatorOptions});return fn.ref&&(Cn.ref=Cn.refToReplace=fn.ref),Cn}}Et.MarkupAnnotation=Wt;class Yt extends nn{constructor(Jt){var Dn;super(Jt);const{dict:un,xref:fn,annotationGlobals:Sn}=Jt,kn=this.data;this._needAppearances=Jt.needAppearances,kn.annotationType=wt.AnnotationType.WIDGET,kn.fieldName===void 0&&(kn.fieldName=this._constructFieldName(un)),kn.actions===void 0&&(kn.actions=(0,kt.collectActions)(fn,un,wt.AnnotationActionEventType));let Pn=(0,kt.getInheritableProperty)({dict:un,key:"V",getArray:!0});kn.fieldValue=this._decodeFormValue(Pn);const Cn=(0,kt.getInheritableProperty)({dict:un,key:"DV",getArray:!0});if(kn.defaultFieldValue=this._decodeFormValue(Cn),Pn===void 0&&Sn.xfaDatasets){const Ln=this._title.str;Ln&&(this._hasValueFromXFA=!0,kn.fieldValue=Pn=Sn.xfaDatasets.getValue(Ln))}Pn===void 0&&kn.defaultFieldValue!==null&&(kn.fieldValue=kn.defaultFieldValue),kn.alternativeText=(0,wt.stringToPDFString)(un.get("TU")||""),this.setDefaultAppearance(Jt),kn.hasAppearance||(kn.hasAppearance=this._needAppearances&&kn.fieldValue!==void 0&&kn.fieldValue!==null);const vn=(0,kt.getInheritableProperty)({dict:un,key:"FT"});kn.fieldType=vn instanceof ht.Name?vn.name:null;const Rn=(0,kt.getInheritableProperty)({dict:un,key:"DR"}),Mn=Sn.acroForm.get("DR"),_n=(Dn=this.appearance)==null?void 0:Dn.dict.get("Resources");this._fieldResources={localResources:Rn,acroFormResources:Mn,appearanceResources:_n,mergedResources:ht.Dict.merge({xref:fn,dictArray:[Rn,_n,Mn],mergeSubDicts:!0})},kn.fieldFlags=(0,kt.getInheritableProperty)({dict:un,key:"Ff"}),(!Number.isInteger(kn.fieldFlags)||kn.fieldFlags<0)&&(kn.fieldFlags=0),kn.readOnly=this.hasFieldFlag(wt.AnnotationFieldFlag.READONLY),kn.required=this.hasFieldFlag(wt.AnnotationFieldFlag.REQUIRED),kn.hidden=this._hasFlag(kn.annotationFlags,wt.AnnotationFlag.HIDDEN)||this._hasFlag(kn.annotationFlags,wt.AnnotationFlag.NOVIEW)}_decodeFormValue(Jt){return Array.isArray(Jt)?Jt.filter(un=>typeof un=="string").map(un=>(0,wt.stringToPDFString)(un)):Jt instanceof ht.Name?(0,wt.stringToPDFString)(Jt.name):typeof Jt=="string"?(0,wt.stringToPDFString)(Jt):null}hasFieldFlag(Jt){return!!(this.data.fieldFlags&Jt)}_isViewable(Jt){return!this._hasFlag(Jt,wt.AnnotationFlag.INVISIBLE)}mustBeViewed(Jt,un){return un?this.viewable:super.mustBeViewed(Jt,un)&&!this._hasFlag(this.flags,wt.AnnotationFlag.NOVIEW)}getRotationMatrix(Jt){var kn;let un=(kn=Jt==null?void 0:Jt.get(this.data.id))==null?void 0:kn.rotation;if(un===void 0&&(un=this.rotation),un===0)return wt.IDENTITY_MATRIX;const fn=this.data.rect[2]-this.data.rect[0],Sn=this.data.rect[3]-this.data.rect[1];return(0,kt.getRotationMatrix)(un,fn,Sn)}getBorderAndBackgroundAppearances(Jt){var Cn;let un=(Cn=Jt==null?void 0:Jt.get(this.data.id))==null?void 0:Cn.rotation;if(un===void 0&&(un=this.rotation),!this.backgroundColor&&!this.borderColor)return"";const fn=this.data.rect[2]-this.data.rect[0],Sn=this.data.rect[3]-this.data.rect[1],kn=un===0||un===180?`0 0 ${fn} ${Sn} re`:`0 0 ${Sn} ${fn} re`;let Pn="";if(this.backgroundColor&&(Pn=`${(0,_t.getPdfColor)(this.backgroundColor,!0)} ${kn} f `),this.borderColor){const vn=this.borderStyle.width||1;Pn+=`${vn} w ${(0,_t.getPdfColor)(this.borderColor,!1)} ${kn} S `}return Pn}async getOperatorList(Jt,un,fn,Sn,kn){if(Sn&&!(this instanceof Ht)&&!this.data.noHTML&&!this.data.hasOwnCanvas)return{opList:new Rt.OperatorList,separateForm:!0,separateCanvas:!1};if(!this._hasText)return super.getOperatorList(Jt,un,fn,Sn,kn);const Pn=await this._getAppearance(Jt,un,fn,kn);if(this.appearance&&Pn===null)return super.getOperatorList(Jt,un,fn,Sn,kn);const Cn=new Rt.OperatorList;if(!this._defaultAppearance||Pn===null)return{opList:Cn,separateForm:!1,separateCanvas:!1};const vn=!!(this.data.hasOwnCanvas&&fn&wt.RenderingIntentFlag.DISPLAY),Rn=[1,0,0,1,0,0],Mn=[0,0,this.data.rect[2]-this.data.rect[0],this.data.rect[3]-this.data.rect[1]],_n=gn(this.data.rect,Mn,Rn);let Dn;this.oc&&(Dn=await Jt.parseMarkedContentProps(this.oc,null)),Dn!==void 0&&Cn.addOp(wt.OPS.beginMarkedContentProps,["OC",Dn]),Cn.addOp(wt.OPS.beginAnnotation,[this.data.id,this.data.rect,_n,this.getRotationMatrix(kn),vn]);const Ln=new vt.StringStream(Pn);return await Jt.getOperatorList({stream:Ln,task:un,resources:this._fieldResources.mergedResources,operatorList:Cn}),Cn.addOp(wt.OPS.endAnnotation,[]),Dn!==void 0&&Cn.addOp(wt.OPS.endMarkedContent,[]),{opList:Cn,separateForm:!1,separateCanvas:vn}}_getMKDict(Jt){const un=new ht.Dict(null);return Jt&&un.set("R",Jt),this.borderColor&&un.set("BC",hn(this.borderColor)),this.backgroundColor&&un.set("BG",hn(this.backgroundColor)),un.size>0?un:null}amendSavedDict(Jt,un){}async save(Jt,un,fn){const Sn=fn==null?void 0:fn.get(this.data.id);let kn=Sn==null?void 0:Sn.value,Pn=Sn==null?void 0:Sn.rotation;if(kn===this.data.fieldValue||kn===void 0){if(!this._hasValueFromXFA&&Pn===void 0)return null;kn||(kn=this.data.fieldValue)}if(Pn===void 0&&!this._hasValueFromXFA&&Array.isArray(kn)&&Array.isArray(this.data.fieldValue)&&kn.length===this.data.fieldValue.length&&kn.every((Qn,Yn)=>Qn===this.data.fieldValue[Yn]))return null;Pn===void 0&&(Pn=this.rotation);let Cn=null;if(!this._needAppearances&&(Cn=await this._getAppearance(Jt,un,wt.RenderingIntentFlag.SAVE,fn),Cn===null))return null;let vn=!1;Cn!=null&&Cn.needAppearances&&(vn=!0,Cn=null);const{xref:Rn}=Jt,Mn=Rn.fetchIfRef(this.ref);if(!(Mn instanceof ht.Dict))return null;const _n=new ht.Dict(Rn);for(const Qn of Mn.getKeys())Qn!=="AP"&&_n.set(Qn,Mn.getRaw(Qn));const Dn={path:this.data.fieldName,value:kn},Ln=Qn=>(0,kt.isAscii)(Qn)?Qn:(0,kt.stringToUTF16String)(Qn,!0);_n.set("V",Array.isArray(kn)?kn.map(Ln):Ln(kn)),this.amendSavedDict(fn,_n);const Un=this._getMKDict(Pn);Un&&_n.set("MK",Un);const ts=[],es=[{ref:this.ref,data:"",xfa:Dn,needAppearances:vn}];if(Cn!==null){const Qn=Rn.getNewTemporaryRef(),Yn=new ht.Dict(Rn);_n.set("AP",Yn),Yn.set("N",Qn);const zn=this._getSaveFieldResources(Rn),ns=new vt.StringStream(Cn),ls=ns.dict=new ht.Dict(Rn);ls.set("Subtype",ht.Name.get("Form")),ls.set("Resources",zn),ls.set("BBox",[0,0,this.data.rect[2]-this.data.rect[0],this.data.rect[3]-this.data.rect[1]]);const ds=this.getRotationMatrix(fn);ds!==wt.IDENTITY_MATRIX&&ls.set("Matrix",ds),await(0,Kt.writeObject)(Qn,ns,ts,Rn),es.push({ref:Qn,data:ts.join(""),xfa:null,needAppearances:!1}),ts.length=0}return _n.set("M",`D:${(0,wt.getModificationDate)()}`),await(0,Kt.writeObject)(this.ref,_n,ts,Rn),es[0].data=ts.join(""),es}async _getAppearance(Jt,un,fn,Sn){if(this.hasFieldFlag(wt.AnnotationFieldFlag.PASSWORD))return null;const Pn=Sn==null?void 0:Sn.get(this.data.id);let Cn,vn;if(Pn&&(Cn=Pn.formattedValue||Pn.value,vn=Pn.rotation),vn===void 0&&Cn===void 0&&!this._needAppearances&&(!this._hasValueFromXFA||this.appearance))return null;const Rn=this.getBorderAndBackgroundAppearances(Sn);if(Cn===void 0&&(Cn=this.data.fieldValue,!Cn))return`/Tx BMC q ${Rn}Q EMC`;if(Array.isArray(Cn)&&Cn.length===1&&(Cn=Cn[0]),(0,wt.assert)(typeof Cn=="string","Expected `value` to be a string."),Cn=Cn.trim(),this.data.combo){const xs=this.data.options.find(({exportValue:Jn})=>Cn===Jn);Cn=(xs==null?void 0:xs.displayValue)||Cn}if(Cn==="")return`/Tx BMC q ${Rn}Q EMC`;vn===void 0&&(vn=this.rotation);let Mn=-1,_n;this.data.multiLine?(_n=Cn.split(/\r\n?|\n/).map(xs=>xs.normalize("NFC")),Mn=_n.length):_n=[Cn.replace(/\r\n?|\n/,"").normalize("NFC")];const Dn=1,Ln=2;let Un=this.data.rect[3]-this.data.rect[1],ts=this.data.rect[2]-this.data.rect[0];(vn===90||vn===270)&&([ts,Un]=[Un,ts]),this._defaultAppearance||(this.data.defaultAppearanceData=(0,_t.parseDefaultAppearance)(this._defaultAppearance="/Helvetica 0 Tf 0 g"));let es=await Yt._getFontData(Jt,un,this.data.defaultAppearanceData,this._fieldResources.mergedResources),Qn,Yn,zn;const ns=[];let ls=!1;for(const xs of _n){const Jn=es.encodeString(xs);Jn.length>1&&(ls=!0),ns.push(Jn.join(""))}if(ls&&fn&wt.RenderingIntentFlag.SAVE)return{needAppearances:!0};if(ls&&this._isOffscreenCanvasSupported){const xs=this.data.comb?"monospace":"sans-serif",Jn=new _t.FakeUnicodeFont(Jt.xref,xs),Wn=Jn.createFontResources(_n.join("")),Zn=Wn.getRaw("Font");if(this._fieldResources.mergedResources.has("Font")){const os=this._fieldResources.mergedResources.get("Font");for(const ps of Zn.getKeys())os.set(ps,Zn.getRaw(ps))}else this._fieldResources.mergedResources.set("Font",Zn);const us=Jn.fontName.name;es=await Yt._getFontData(Jt,un,{fontName:us,fontSize:0},Wn);for(let os=0,ps=ns.length;os<ps;os++)ns[os]=(0,kt.stringToUTF16String)(_n[os]);const hs=Object.assign(Object.create(null),this.data.defaultAppearanceData);this.data.defaultAppearanceData.fontSize=0,this.data.defaultAppearanceData.fontName=us,[Qn,Yn,zn]=this._computeFontSize(Un-2*Dn,ts-2*Ln,Cn,es,Mn),this.data.defaultAppearanceData=hs}else this._isOffscreenCanvasSupported||(0,wt.warn)("_getAppearance: OffscreenCanvas is not supported, annotation may not render correctly."),[Qn,Yn,zn]=this._computeFontSize(Un-2*Dn,ts-2*Ln,Cn,es,Mn);let ds=es.descent;isNaN(ds)?ds=wt.BASELINE_FACTOR*zn:ds=Math.max(wt.BASELINE_FACTOR*zn,Math.abs(ds)*Yn);const Bn=Math.min(Math.floor((Un-Yn)/2),Dn),Hn=this.data.textAlignment;if(this.data.multiLine)return this._getMultilineAppearance(Qn,ns,es,Yn,ts,Un,Hn,Ln,Bn,ds,zn,Sn);if(this.data.comb)return this._getCombAppearance(Qn,es,ns[0],Yn,ts,Un,Ln,Bn,ds,zn,Sn);const Xn=Bn+ds;if(Hn===0||Hn>2)return`/Tx BMC q ${Rn}BT `+Qn+` 1 0 0 1 ${(0,kt.numberToString)(Ln)} ${(0,kt.numberToString)(Xn)} Tm (${(0,kt.escapeString)(ns[0])}) Tj ET Q EMC`;const cs={shift:0},rs=this._renderText(ns[0],es,Yn,ts,Hn,cs,Ln,Xn);return`/Tx BMC q ${Rn}BT `+Qn+` 1 0 0 1 0 0 Tm ${rs} ET Q EMC`}static async _getFontData(Jt,un,fn,Sn){const kn=new Rt.OperatorList,Pn={font:null,clone(){return this}},{fontName:Cn,fontSize:vn}=fn;return await Jt.handleSetFont(Sn,[Cn&&ht.Name.get(Cn),vn],null,kn,un,Pn,null),Pn.font}_getTextWidth(Jt,un){return un.charsToGlyphs(Jt).reduce((fn,Sn)=>fn+Sn.width,0)/1e3}_computeFontSize(Jt,un,fn,Sn,kn){let{fontSize:Pn}=this.data.defaultAppearanceData,Cn=(Pn||12)*wt.LINE_FACTOR,vn=Math.round(Jt/Cn);if(!Pn){const Rn=Dn=>Math.floor(Dn*100)/100;if(kn===-1){const Dn=this._getTextWidth(fn,Sn);Pn=Rn(Math.min(Jt/wt.LINE_FACTOR,Dn>un?un/Dn:1/0)),vn=1}else{const Dn=fn.split(/\r\n?|\n/),Ln=[];for(const ts of Dn){const es=Sn.encodeString(ts).join(""),Qn=Sn.charsToGlyphs(es),Yn=Sn.getCharPositions(es);Ln.push({line:es,glyphs:Qn,positions:Yn})}const Un=ts=>{let es=0;for(const Qn of Ln){const Yn=this._splitLine(null,Sn,ts,un,Qn);if(es+=Yn.length*ts,es>Jt)return!0}return!1};for(vn=Math.max(vn,kn);;){if(Cn=Jt/vn,Pn=Rn(Cn/wt.LINE_FACTOR),Un(Pn)){vn++;continue}break}}const{fontName:Mn,fontColor:_n}=this.data.defaultAppearanceData;this._defaultAppearance=(0,_t.createDefaultAppearance)({fontSize:Pn,fontName:Mn,fontColor:_n})}return[this._defaultAppearance,Pn,Jt/vn]}_renderText(Jt,un,fn,Sn,kn,Pn,Cn,vn){let Rn;if(kn===1){const _n=this._getTextWidth(Jt,un)*fn;Rn=(Sn-_n)/2}else if(kn===2){const _n=this._getTextWidth(Jt,un)*fn;Rn=Sn-_n-Cn}else Rn=Cn;const Mn=(0,kt.numberToString)(Rn-Pn.shift);return Pn.shift=Rn,vn=(0,kt.numberToString)(vn),`${Mn} ${vn} Td (${(0,kt.escapeString)(Jt)}) Tj`}_getSaveFieldResources(Jt){var Pn;const{localResources:un,appearanceResources:fn,acroFormResources:Sn}=this._fieldResources,kn=(Pn=this.data.defaultAppearanceData)==null?void 0:Pn.fontName;if(!kn)return un||ht.Dict.empty;for(const Cn of[un,fn])if(Cn instanceof ht.Dict){const vn=Cn.get("Font");if(vn instanceof ht.Dict&&vn.has(kn))return Cn}if(Sn instanceof ht.Dict){const Cn=Sn.get("Font");if(Cn instanceof ht.Dict&&Cn.has(kn)){const vn=new ht.Dict(Jt);vn.set(kn,Cn.getRaw(kn));const Rn=new ht.Dict(Jt);return Rn.set("Font",vn),ht.Dict.merge({xref:Jt,dictArray:[Rn,un],mergeSubDicts:!0})}}return un||ht.Dict.empty}getFieldObject(){return null}}class dn extends Yt{constructor(Jt){super(Jt),this.data.hasOwnCanvas=this.data.readOnly&&!this.data.noHTML,this._hasText=!0;const un=Jt.dict;typeof this.data.fieldValue!="string"&&(this.data.fieldValue="");let fn=(0,kt.getInheritableProperty)({dict:un,key:"Q"});(!Number.isInteger(fn)||fn<0||fn>2)&&(fn=null),this.data.textAlignment=fn;let Sn=(0,kt.getInheritableProperty)({dict:un,key:"MaxLen"});(!Number.isInteger(Sn)||Sn<0)&&(Sn=0),this.data.maxLen=Sn,this.data.multiLine=this.hasFieldFlag(wt.AnnotationFieldFlag.MULTILINE),this.data.comb=this.hasFieldFlag(wt.AnnotationFieldFlag.COMB)&&!this.hasFieldFlag(wt.AnnotationFieldFlag.MULTILINE)&&!this.hasFieldFlag(wt.AnnotationFieldFlag.PASSWORD)&&!this.hasFieldFlag(wt.AnnotationFieldFlag.FILESELECT)&&this.data.maxLen!==0,this.data.doNotScroll=this.hasFieldFlag(wt.AnnotationFieldFlag.DONOTSCROLL)}get hasTextContent(){return!!this.appearance&&!this._needAppearances}_getCombAppearance(Jt,un,fn,Sn,kn,Pn,Cn,vn,Rn,Mn,_n){const Dn=kn/this.data.maxLen,Ln=this.getBorderAndBackgroundAppearances(_n),Un=[],ts=un.getCharPositions(fn);for(const[Qn,Yn]of ts)Un.push(`(${(0,kt.escapeString)(fn.substring(Qn,Yn))}) Tj`);const es=Un.join(` ${(0,kt.numberToString)(Dn)} 0 Td `);return`/Tx BMC q ${Ln}BT `+Jt+` 1 0 0 1 ${(0,kt.numberToString)(Cn)} ${(0,kt.numberToString)(vn+Rn)} Tm ${es} ET Q EMC`}_getMultilineAppearance(Jt,un,fn,Sn,kn,Pn,Cn,vn,Rn,Mn,_n,Dn){const Ln=[],Un=kn-2*vn,ts={shift:0};for(let Yn=0,zn=un.length;Yn<zn;Yn++){const ns=un[Yn],ls=this._splitLine(ns,fn,Sn,Un);for(let ds=0,Bn=ls.length;ds<Bn;ds++){const Hn=ls[ds],Xn=Yn===0&&ds===0?-Rn-(_n-Mn):-_n;Ln.push(this._renderText(Hn,fn,Sn,kn,Cn,ts,vn,Xn))}}const es=this.getBorderAndBackgroundAppearances(Dn),Qn=Ln.join(`
`);return`/Tx BMC q ${es}BT `+Jt+` 1 0 0 1 0 ${(0,kt.numberToString)(Pn)} Tm ${Qn} ET Q EMC`}_splitLine(Jt,un,fn,Sn,kn={}){Jt=kn.line||Jt;const Pn=kn.glyphs||un.charsToGlyphs(Jt);if(Pn.length<=1)return[Jt];const Cn=kn.positions||un.getCharPositions(Jt),vn=fn/1e3,Rn=[];let Mn=-1,_n=-1,Dn=-1,Ln=0,Un=0;for(let ts=0,es=Pn.length;ts<es;ts++){const[Qn,Yn]=Cn[ts],zn=Pn[ts],ns=zn.width*vn;zn.unicode===" "?Un+ns>Sn?(Rn.push(Jt.substring(Ln,Qn)),Ln=Qn,Un=ns,Mn=-1,Dn=-1):(Un+=ns,Mn=Qn,_n=Yn,Dn=ts):Un+ns>Sn?Mn!==-1?(Rn.push(Jt.substring(Ln,_n)),Ln=_n,ts=Dn+1,Mn=-1,Un=0):(Rn.push(Jt.substring(Ln,Qn)),Ln=Qn,Un=ns):Un+=ns}return Ln<Jt.length&&Rn.push(Jt.substring(Ln,Jt.length)),Rn}getFieldObject(){return{id:this.data.id,value:this.data.fieldValue,defaultValue:this.data.defaultFieldValue||"",multiline:this.data.multiLine,password:this.hasFieldFlag(wt.AnnotationFieldFlag.PASSWORD),charLimit:this.data.maxLen,comb:this.data.comb,editable:!this.data.readOnly,hidden:this.data.hidden,name:this.data.fieldName,rect:this.data.rect,actions:this.data.actions,page:this.data.pageIndex,strokeColor:this.data.borderColor,fillColor:this.data.backgroundColor,rotation:this.rotation,type:"text"}}}class Ut extends Yt{constructor(Jt){super(Jt),this.checkedAppearance=null,this.uncheckedAppearance=null,this.data.checkBox=!this.hasFieldFlag(wt.AnnotationFieldFlag.RADIO)&&!this.hasFieldFlag(wt.AnnotationFieldFlag.PUSHBUTTON),this.data.radioButton=this.hasFieldFlag(wt.AnnotationFieldFlag.RADIO)&&!this.hasFieldFlag(wt.AnnotationFieldFlag.PUSHBUTTON),this.data.pushButton=this.hasFieldFlag(wt.AnnotationFieldFlag.PUSHBUTTON),this.data.isTooltipOnly=!1,this.data.checkBox?this._processCheckBox(Jt):this.data.radioButton?this._processRadioButton(Jt):this.data.pushButton?(this.data.hasOwnCanvas=!0,this._processPushButton(Jt)):(0,wt.warn)("Invalid field flags for button widget annotation")}async getOperatorList(Jt,un,fn,Sn,kn){if(this.data.pushButton)return super.getOperatorList(Jt,un,fn,!1,kn);let Pn=null,Cn=null;if(kn){const Rn=kn.get(this.data.id);Pn=Rn?Rn.value:null,Cn=Rn?Rn.rotation:null}if(Pn===null&&this.appearance)return super.getOperatorList(Jt,un,fn,Sn,kn);Pn==null&&(Pn=this.data.checkBox?this.data.fieldValue===this.data.exportValue:this.data.fieldValue===this.data.buttonValue);const vn=Pn?this.checkedAppearance:this.uncheckedAppearance;if(vn){const Rn=this.appearance,Mn=vn.dict.getArray("Matrix")||wt.IDENTITY_MATRIX;Cn&&vn.dict.set("Matrix",this.getRotationMatrix(kn)),this.appearance=vn;const _n=super.getOperatorList(Jt,un,fn,Sn,kn);return this.appearance=Rn,vn.dict.set("Matrix",Mn),_n}return{opList:new Rt.OperatorList,separateForm:!1,separateCanvas:!1}}async save(Jt,un,fn){return this.data.checkBox?this._saveCheckbox(Jt,un,fn):this.data.radioButton?this._saveRadioButton(Jt,un,fn):null}async _saveCheckbox(Jt,un,fn){if(!fn)return null;const Sn=fn.get(this.data.id);let kn=Sn==null?void 0:Sn.rotation,Pn=Sn==null?void 0:Sn.value;if(kn===void 0&&(Pn===void 0||this.data.fieldValue===this.data.exportValue===Pn))return null;const Cn=Jt.xref.fetchIfRef(this.ref);if(!(Cn instanceof ht.Dict))return null;kn===void 0&&(kn=this.rotation),Pn===void 0&&(Pn=this.data.fieldValue===this.data.exportValue);const vn={path:this.data.fieldName,value:Pn?this.data.exportValue:""},Rn=ht.Name.get(Pn?this.data.exportValue:"Off");Cn.set("V",Rn),Cn.set("AS",Rn),Cn.set("M",`D:${(0,wt.getModificationDate)()}`);const Mn=this._getMKDict(kn);Mn&&Cn.set("MK",Mn);const _n=[];return await(0,Kt.writeObject)(this.ref,Cn,_n,Jt.xref),[{ref:this.ref,data:_n.join(""),xfa:vn}]}async _saveRadioButton(Jt,un,fn){if(!fn)return null;const Sn=fn.get(this.data.id);let kn=Sn==null?void 0:Sn.rotation,Pn=Sn==null?void 0:Sn.value;if(kn===void 0&&(Pn===void 0||this.data.fieldValue===this.data.buttonValue===Pn))return null;const Cn=Jt.xref.fetchIfRef(this.ref);if(!(Cn instanceof ht.Dict))return null;Pn===void 0&&(Pn=this.data.fieldValue===this.data.buttonValue),kn===void 0&&(kn=this.rotation);const vn={path:this.data.fieldName,value:Pn?this.data.buttonValue:""},Rn=ht.Name.get(Pn?this.data.buttonValue:"Off"),Mn=[];let _n=null;if(Pn)if(this.parent instanceof ht.Ref){const Un=Jt.xref.fetch(this.parent);Un.set("V",Rn),await(0,Kt.writeObject)(this.parent,Un,Mn,Jt.xref),_n=Mn.join(""),Mn.length=0}else this.parent instanceof ht.Dict&&this.parent.set("V",Rn);Cn.set("AS",Rn),Cn.set("M",`D:${(0,wt.getModificationDate)()}`);const Dn=this._getMKDict(kn);Dn&&Cn.set("MK",Dn),await(0,Kt.writeObject)(this.ref,Cn,Mn,Jt.xref);const Ln=[{ref:this.ref,data:Mn.join(""),xfa:vn}];return _n&&Ln.push({ref:this.parent,data:_n,xfa:null}),Ln}_getDefaultCheckedAppearance(Jt,un){const fn=this.data.rect[2]-this.data.rect[0],Sn=this.data.rect[3]-this.data.rect[1],kn=[0,0,fn,Sn],Cn=Math.min(fn,Sn)*.8;let vn,Rn;un==="check"?(vn={width:.755*Cn,height:.705*Cn},Rn="3"):un==="disc"?(vn={width:.791*Cn,height:.705*Cn},Rn="l"):(0,wt.unreachable)(`_getDefaultCheckedAppearance - unsupported type: ${un}`);const Mn=(0,kt.numberToString)((fn-vn.width)/2),_n=(0,kt.numberToString)((Sn-vn.height)/2),Dn=`q BT /PdfJsZaDb ${Cn} Tf 0 g ${Mn} ${_n} Td (${Rn}) Tj ET Q`,Ln=new ht.Dict(Jt.xref);Ln.set("FormType",1),Ln.set("Subtype",ht.Name.get("Form")),Ln.set("Type",ht.Name.get("XObject")),Ln.set("BBox",kn),Ln.set("Matrix",[1,0,0,1,0,0]),Ln.set("Length",Dn.length);const Un=new ht.Dict(Jt.xref),ts=new ht.Dict(Jt.xref);ts.set("PdfJsZaDb",this.fallbackFontDict),Un.set("Font",ts),Ln.set("Resources",Un),this.checkedAppearance=new vt.StringStream(Dn),this.checkedAppearance.dict=Ln,this._streams.push(this.checkedAppearance)}_processCheckBox(Jt){const un=Jt.dict.get("AP");if(!(un instanceof ht.Dict))return;const fn=un.get("N");if(!(fn instanceof ht.Dict))return;const Sn=this._decodeFormValue(Jt.dict.get("AS"));typeof Sn=="string"&&(this.data.fieldValue=Sn);const kn=this.data.fieldValue!==null&&this.data.fieldValue!=="Off"?this.data.fieldValue:"Yes",Pn=fn.getKeys();if(Pn.length===0)Pn.push("Off",kn);else if(Pn.length===1)Pn[0]==="Off"?Pn.push(kn):Pn.unshift("Off");else if(Pn.includes(kn))Pn.length=0,Pn.push("Off",kn);else{const Rn=Pn.find(Mn=>Mn!=="Off");Pn.length=0,Pn.push("Off",Rn)}Pn.includes(this.data.fieldValue)||(this.data.fieldValue="Off"),this.data.exportValue=Pn[1];const Cn=fn.get(this.data.exportValue);this.checkedAppearance=Cn instanceof Ft.BaseStream?Cn:null;const vn=fn.get("Off");this.uncheckedAppearance=vn instanceof Ft.BaseStream?vn:null,this.checkedAppearance?this._streams.push(this.checkedAppearance):this._getDefaultCheckedAppearance(Jt,"check"),this.uncheckedAppearance&&this._streams.push(this.uncheckedAppearance),this._fallbackFontDict=this.fallbackFontDict,this.data.defaultFieldValue===null&&(this.data.defaultFieldValue="Off")}_processRadioButton(Jt){this.data.fieldValue=this.data.buttonValue=null;const un=Jt.dict.get("Parent");if(un instanceof ht.Dict){this.parent=Jt.dict.getRaw("Parent");const Cn=un.get("V");Cn instanceof ht.Name&&(this.data.fieldValue=this._decodeFormValue(Cn))}const fn=Jt.dict.get("AP");if(!(fn instanceof ht.Dict))return;const Sn=fn.get("N");if(!(Sn instanceof ht.Dict))return;for(const Cn of Sn.getKeys())if(Cn!=="Off"){this.data.buttonValue=this._decodeFormValue(Cn);break}const kn=Sn.get(this.data.buttonValue);this.checkedAppearance=kn instanceof Ft.BaseStream?kn:null;const Pn=Sn.get("Off");this.uncheckedAppearance=Pn instanceof Ft.BaseStream?Pn:null,this.checkedAppearance?this._streams.push(this.checkedAppearance):this._getDefaultCheckedAppearance(Jt,"disc"),this.uncheckedAppearance&&this._streams.push(this.uncheckedAppearance),this._fallbackFontDict=this.fallbackFontDict,this.data.defaultFieldValue===null&&(this.data.defaultFieldValue="Off")}_processPushButton(Jt){const{dict:un,annotationGlobals:fn}=Jt;if(!un.has("A")&&!un.has("AA")&&!this.data.alternativeText){(0,wt.warn)("Push buttons without action dictionaries are not supported");return}this.data.isTooltipOnly=!un.has("A")&&!un.has("AA"),qt.Catalog.parseDestDictionary({destDict:un,resultObj:this.data,docBaseUrl:fn.baseUrl,docAttachments:fn.attachments})}getFieldObject(){let Jt="button",un;return this.data.checkBox?(Jt="checkbox",un=this.data.exportValue):this.data.radioButton&&(Jt="radiobutton",un=this.data.buttonValue),{id:this.data.id,value:this.data.fieldValue||"Off",defaultValue:this.data.defaultFieldValue,exportValues:un,editable:!this.data.readOnly,name:this.data.fieldName,rect:this.data.rect,hidden:this.data.hidden,actions:this.data.actions,page:this.data.pageIndex,strokeColor:this.data.borderColor,fillColor:this.data.backgroundColor,rotation:this.rotation,type:Jt}}get fallbackFontDict(){const Jt=new ht.Dict;return Jt.set("BaseFont",ht.Name.get("ZapfDingbats")),Jt.set("Type",ht.Name.get("FallbackType")),Jt.set("Subtype",ht.Name.get("FallbackType")),Jt.set("Encoding",ht.Name.get("ZapfDingbatsEncoding")),(0,wt.shadow)(this,"fallbackFontDict",Jt)}}class Mt extends Yt{constructor(Jt){super(Jt);const{dict:un,xref:fn}=Jt;this.indices=un.getArray("I"),this.hasIndices=Array.isArray(this.indices)&&this.indices.length>0,this.data.options=[];const Sn=(0,kt.getInheritableProperty)({dict:un,key:"Opt"});if(Array.isArray(Sn))for(let kn=0,Pn=Sn.length;kn<Pn;kn++){const Cn=fn.fetchIfRef(Sn[kn]),vn=Array.isArray(Cn);this.data.options[kn]={exportValue:this._decodeFormValue(vn?fn.fetchIfRef(Cn[0]):Cn),displayValue:this._decodeFormValue(vn?fn.fetchIfRef(Cn[1]):Cn)}}if(!this.hasIndices)typeof this.data.fieldValue=="string"?this.data.fieldValue=[this.data.fieldValue]:this.data.fieldValue||(this.data.fieldValue=[]);else{this.data.fieldValue=[];const kn=this.data.options.length;for(const Pn of this.indices)Number.isInteger(Pn)&&Pn>=0&&Pn<kn&&this.data.fieldValue.push(this.data.options[Pn].exportValue)}this.data.combo=this.hasFieldFlag(wt.AnnotationFieldFlag.COMBO),this.data.multiSelect=this.hasFieldFlag(wt.AnnotationFieldFlag.MULTISELECT),this._hasText=!0}getFieldObject(){const Jt=this.data.combo?"combobox":"listbox",un=this.data.fieldValue.length>0?this.data.fieldValue[0]:null;return{id:this.data.id,value:un,defaultValue:this.data.defaultFieldValue,editable:!this.data.readOnly,name:this.data.fieldName,rect:this.data.rect,numItems:this.data.fieldValue.length,multipleSelection:this.data.multiSelect,hidden:this.data.hidden,actions:this.data.actions,items:this.data.options,page:this.data.pageIndex,strokeColor:this.data.borderColor,fillColor:this.data.backgroundColor,rotation:this.rotation,type:Jt}}amendSavedDict(Jt,un){var Pn;if(!this.hasIndices)return;let fn=(Pn=Jt==null?void 0:Jt.get(this.data.id))==null?void 0:Pn.value;Array.isArray(fn)||(fn=[fn]);const Sn=[],{options:kn}=this.data;for(let Cn=0,vn=0,Rn=kn.length;Cn<Rn;Cn++)kn[Cn].exportValue===fn[vn]&&(Sn.push(Cn),vn+=1);un.set("I",Sn)}async _getAppearance(Jt,un,fn,Sn){if(this.data.combo)return super._getAppearance(Jt,un,fn,Sn);let kn,Pn;const Cn=Sn==null?void 0:Sn.get(this.data.id);if(Cn&&(Pn=Cn.rotation,kn=Cn.value),Pn===void 0&&kn===void 0&&!this._needAppearances)return null;kn===void 0?kn=this.data.fieldValue:Array.isArray(kn)||(kn=[kn]);const vn=1,Rn=2;let Mn=this.data.rect[3]-this.data.rect[1],_n=this.data.rect[2]-this.data.rect[0];(Pn===90||Pn===270)&&([_n,Mn]=[Mn,_n]);const Dn=this.data.options.length,Ln=[];for(let Hn=0;Hn<Dn;Hn++){const{exportValue:Xn}=this.data.options[Hn];kn.includes(Xn)&&Ln.push(Hn)}this._defaultAppearance||(this.data.defaultAppearanceData=(0,_t.parseDefaultAppearance)(this._defaultAppearance="/Helvetica 0 Tf 0 g"));const Un=await Yt._getFontData(Jt,un,this.data.defaultAppearanceData,this._fieldResources.mergedResources);let ts,{fontSize:es}=this.data.defaultAppearanceData;if(es)ts=this._defaultAppearance;else{const Hn=(Mn-vn)/Dn;let Xn=-1,cs;for(const{displayValue:rs}of this.data.options){const xs=this._getTextWidth(rs,Un);xs>Xn&&(Xn=xs,cs=rs)}[ts,es]=this._computeFontSize(Hn,_n-2*Rn,cs,Un,-1)}const Qn=es*wt.LINE_FACTOR,Yn=(Qn-es)/2,zn=Math.floor(Mn/Qn);let ns=0;if(Ln.length>0){const Hn=Math.min(...Ln),Xn=Math.max(...Ln);ns=Math.max(0,Xn-zn+1),ns>Hn&&(ns=Hn)}const ls=Math.min(ns+zn+1,Dn),ds=["/Tx BMC q",`1 1 ${_n} ${Mn} re W n`];if(Ln.length){ds.push("0.600006 0.756866 0.854904 rg");for(const Hn of Ln)ns<=Hn&&Hn<ls&&ds.push(`1 ${Mn-(Hn-ns+1)*Qn} ${_n} ${Qn} re f`)}ds.push("BT",ts,`1 0 0 1 0 ${Mn} Tm`);const Bn={shift:0};for(let Hn=ns;Hn<ls;Hn++){const{displayValue:Xn}=this.data.options[Hn],cs=Hn===ns?Yn:0;ds.push(this._renderText(Xn,Un,es,_n,0,Bn,Rn,-Qn+cs))}return ds.push("ET Q EMC"),ds.join(`
`)}}class Ht extends Yt{constructor(Jt){super(Jt),this.data.fieldValue=null,this.data.hasOwnCanvas=this.data.noRotate}getFieldObject(){return{id:this.data.id,value:null,page:this.data.pageIndex,type:"signature"}}}class sn extends Wt{constructor(Jt){super(Jt),this.data.noRotate=!0,this.data.hasOwnCanvas=this.data.noRotate;const{dict:fn}=Jt;this.data.annotationType=wt.AnnotationType.TEXT,this.data.hasAppearance?this.data.name="NoIcon":(this.data.rect[1]=this.data.rect[3]-22,this.data.rect[2]=this.data.rect[0]+22,this.data.name=fn.has("Name")?fn.get("Name").name:"Note"),fn.has("State")?(this.data.state=fn.get("State")||null,this.data.stateModel=fn.get("StateModel")||null):(this.data.state=null,this.data.stateModel=null)}}class zt extends nn{constructor(Jt){var kn;super(Jt);const{dict:un,annotationGlobals:fn}=Jt;this.data.annotationType=wt.AnnotationType.LINK;const Sn=tn(un,this.rectangle);Sn&&(this.data.quadPoints=Sn),(kn=this.data).borderColor||(kn.borderColor=this.data.color),qt.Catalog.parseDestDictionary({destDict:un,resultObj:this.data,docBaseUrl:fn.baseUrl,docAttachments:fn.attachments})}}class Xt extends nn{constructor(Jt){super(Jt);const{dict:un}=Jt;this.data.annotationType=wt.AnnotationType.POPUP,(this.data.rect[0]===this.data.rect[2]||this.data.rect[1]===this.data.rect[3])&&(this.data.rect=null);let fn=un.get("Parent");if(!fn){(0,wt.warn)("Popup annotation has a missing or invalid parent annotation.");return}const Sn=fn.getArray("Rect");this.data.parentRect=Array.isArray(Sn)&&Sn.length===4?wt.Util.normalizeRect(Sn):null;const kn=fn.get("RT");if((0,ht.isName)(kn,wt.AnnotationReplyType.GROUP)&&(fn=fn.get("IRT")),fn.has("M")?(this.setModificationDate(fn.get("M")),this.data.modificationDate=this.modificationDate):this.data.modificationDate=null,fn.has("C")?(this.setColor(fn.getArray("C")),this.data.color=this.color):this.data.color=null,!this.viewable){const Pn=fn.get("F");this._isViewable(Pn)&&this.setFlags(Pn)}this.setTitle(fn.get("T")),this.data.titleObj=this._title,this.setContents(fn.get("Contents")),this.data.contentsObj=this._contents,fn.has("RC")&&(this.data.richText=Bt.XFAFactory.getRichTextAsHtml(fn.get("RC"))),this.data.open=!!un.get("Open")}}Et.PopupAnnotation=Xt;class Qt extends Wt{constructor(Jt){var Sn;super(Jt),this.data.hasOwnCanvas=!0;const{evaluatorOptions:un,xref:fn}=Jt;if(this.data.annotationType=wt.AnnotationType.FREETEXT,this.setDefaultAppearance(Jt),this.appearance){const{fontColor:kn,fontSize:Pn}=(0,_t.parseAppearanceStream)(this.appearance,un,fn);this.data.defaultAppearanceData.fontColor=kn,this.data.defaultAppearanceData.fontSize=Pn||10}else if(this._isOffscreenCanvasSupported){const kn=Jt.dict.get("CA"),Pn=new _t.FakeUnicodeFont(fn,"sans-serif");(Sn=this.data.defaultAppearanceData).fontSize||(Sn.fontSize=10);const{fontColor:Cn,fontSize:vn}=this.data.defaultAppearanceData;this.appearance=Pn.createAppearance(this._contents.str,this.rectangle,this.rotation,vn,Cn,kn),this._streams.push(this.appearance,_t.FakeUnicodeFont.toUnicodeStream)}else(0,wt.warn)("FreeTextAnnotation: OffscreenCanvas is not supported, annotation may not render correctly.")}get hasTextContent(){return!!this.appearance}static createNewDict(Jt,un,{apRef:fn,ap:Sn}){const{color:kn,fontSize:Pn,rect:Cn,rotation:vn,user:Rn,value:Mn}=Jt,_n=new ht.Dict(un);_n.set("Type",ht.Name.get("Annot")),_n.set("Subtype",ht.Name.get("FreeText")),_n.set("CreationDate",`D:${(0,wt.getModificationDate)()}`),_n.set("Rect",Cn);const Dn=`/Helv ${Pn} Tf ${(0,_t.getPdfColor)(kn,!0)}`;if(_n.set("DA",Dn),_n.set("Contents",(0,kt.isAscii)(Mn)?Mn:(0,kt.stringToUTF16String)(Mn,!0)),_n.set("F",4),_n.set("Border",[0,0,0]),_n.set("Rotate",vn),Rn&&_n.set("T",(0,kt.isAscii)(Rn)?Rn:(0,kt.stringToUTF16String)(Rn,!0)),fn||Sn){const Ln=new ht.Dict(un);_n.set("AP",Ln),fn?Ln.set("N",fn):Ln.set("N",Sn)}return _n}static async createNewAppearanceStream(Jt,un,fn){const{baseFontRef:Sn,evaluator:kn,task:Pn}=fn,{color:Cn,fontSize:vn,rect:Rn,rotation:Mn,value:_n}=Jt,Dn=new ht.Dict(un),Ln=new ht.Dict(un);if(Sn)Ln.set("Helv",Sn);else{const Fs=new ht.Dict(un);Fs.set("BaseFont",ht.Name.get("Helvetica")),Fs.set("Type",ht.Name.get("Font")),Fs.set("Subtype",ht.Name.get("Type1")),Fs.set("Encoding",ht.Name.get("WinAnsiEncoding")),Ln.set("Helv",Fs)}Dn.set("Font",Ln);const Un=await Yt._getFontData(kn,Pn,{fontName:"Helv",fontSize:vn},Dn),[ts,es,Qn,Yn]=Rn;let zn=Qn-ts,ns=Yn-es;Mn%180!==0&&([zn,ns]=[ns,zn]);const ls=_n.split(`
`),ds=vn/1e3;let Bn=-1/0;const Hn=[];for(let Fs of ls){const $s=Un.encodeString(Fs);if($s.length>1)return null;Fs=$s.join(""),Hn.push(Fs);let Es=0;const Ps=Un.charsToGlyphs(Fs);for(const Rs of Ps)Es+=Rs.width*ds;Bn=Math.max(Bn,Es)}let Xn=1;Bn>zn&&(Xn=zn/Bn);let cs=1;const rs=wt.LINE_FACTOR*vn,xs=(wt.LINE_FACTOR-wt.LINE_DESCENT_FACTOR)*vn,Jn=rs*ls.length;Jn>ns&&(cs=ns/Jn);const Wn=Math.min(Xn,cs),Zn=vn*Wn;let us,hs,os;switch(Mn){case 0:os=[1,0,0,1],hs=[Rn[0],Rn[1],zn,ns],us=[Rn[0],Rn[3]-xs];break;case 90:os=[0,1,-1,0],hs=[Rn[1],-Rn[2],zn,ns],us=[Rn[1],-Rn[0]-xs];break;case 180:os=[-1,0,0,-1],hs=[-Rn[2],-Rn[3],zn,ns],us=[-Rn[2],-Rn[1]-xs];break;case 270:os=[0,-1,1,0],hs=[-Rn[3],Rn[0],zn,ns],us=[-Rn[3],Rn[2]-xs];break}const ps=["q",`${os.join(" ")} 0 0 cm`,`${hs.join(" ")} re W n`,"BT",`${(0,_t.getPdfColor)(Cn,!0)}`,`0 Tc /Helv ${(0,kt.numberToString)(Zn)} Tf`];ps.push(`${us.join(" ")} Td (${(0,kt.escapeString)(Hn[0])}) Tj`);const ws=(0,kt.numberToString)(rs);for(let Fs=1,$s=Hn.length;Fs<$s;Fs++){const Es=Hn[Fs];ps.push(`0 -${ws} Td (${(0,kt.escapeString)(Es)}) Tj`)}ps.push("ET","Q");const fs=ps.join(`
`),Ss=new ht.Dict(un);Ss.set("FormType",1),Ss.set("Subtype",ht.Name.get("Form")),Ss.set("Type",ht.Name.get("XObject")),Ss.set("BBox",Rn),Ss.set("Resources",Dn),Ss.set("Matrix",[1,0,0,1,-Rn[0],-Rn[1]]);const Ls=new vt.StringStream(fs);return Ls.dict=Ss,Ls}}class ln extends Wt{constructor(Jt){super(Jt);const{dict:un,xref:fn}=Jt;this.data.annotationType=wt.AnnotationType.LINE,this.data.hasOwnCanvas=this.data.noRotate;const Sn=un.getArray("L");if(this.data.lineCoordinates=wt.Util.normalizeRect(Sn),this.setLineEndings(un.getArray("LE")),this.data.lineEndings=this.lineEndings,!this.appearance){const kn=this.color?hn(this.color):[0,0,0],Pn=un.get("CA"),Cn=en(un.getArray("IC"),null),vn=Cn?hn(Cn):null,Rn=vn?Pn:null,Mn=this.borderStyle.width||1,_n=2*Mn,Dn=[this.data.lineCoordinates[0]-_n,this.data.lineCoordinates[1]-_n,this.data.lineCoordinates[2]+_n,this.data.lineCoordinates[3]+_n];wt.Util.intersect(this.rectangle,Dn)||(this.rectangle=Dn),this._setDefaultAppearance({xref:fn,extra:`${Mn} w`,strokeColor:kn,fillColor:vn,strokeAlpha:Pn,fillAlpha:Rn,pointsCallback:(Ln,Un)=>(Ln.push(`${Sn[0]} ${Sn[1]} m`,`${Sn[2]} ${Sn[3]} l`,"S"),[Un[0].x-Mn,Un[1].x+Mn,Un[3].y-Mn,Un[1].y+Mn])})}}}class on extends Wt{constructor(Jt){super(Jt);const{dict:un,xref:fn}=Jt;if(this.data.annotationType=wt.AnnotationType.SQUARE,this.data.hasOwnCanvas=this.data.noRotate,!this.appearance){const Sn=this.color?hn(this.color):[0,0,0],kn=un.get("CA"),Pn=en(un.getArray("IC"),null),Cn=Pn?hn(Pn):null,vn=Cn?kn:null;if(this.borderStyle.width===0&&!Cn)return;this._setDefaultAppearance({xref:fn,extra:`${this.borderStyle.width} w`,strokeColor:Sn,fillColor:Cn,strokeAlpha:kn,fillAlpha:vn,pointsCallback:(Rn,Mn)=>{const _n=Mn[2].x+this.borderStyle.width/2,Dn=Mn[2].y+this.borderStyle.width/2,Ln=Mn[3].x-Mn[2].x-this.borderStyle.width,Un=Mn[1].y-Mn[3].y-this.borderStyle.width;return Rn.push(`${_n} ${Dn} ${Ln} ${Un} re`),Cn?Rn.push("B"):Rn.push("S"),[Mn[0].x,Mn[1].x,Mn[3].y,Mn[1].y]}})}}}class cn extends Wt{constructor(Jt){super(Jt);const{dict:un,xref:fn}=Jt;if(this.data.annotationType=wt.AnnotationType.CIRCLE,!this.appearance){const Sn=this.color?hn(this.color):[0,0,0],kn=un.get("CA"),Pn=en(un.getArray("IC"),null),Cn=Pn?hn(Pn):null,vn=Cn?kn:null;if(this.borderStyle.width===0&&!Cn)return;const Rn=4/3*Math.tan(Math.PI/(2*4));this._setDefaultAppearance({xref:fn,extra:`${this.borderStyle.width} w`,strokeColor:Sn,fillColor:Cn,strokeAlpha:kn,fillAlpha:vn,pointsCallback:(Mn,_n)=>{const Dn=_n[0].x+this.borderStyle.width/2,Ln=_n[0].y-this.borderStyle.width/2,Un=_n[3].x-this.borderStyle.width/2,ts=_n[3].y+this.borderStyle.width/2,es=Dn+(Un-Dn)/2,Qn=Ln+(ts-Ln)/2,Yn=(Un-Dn)/2*Rn,zn=(ts-Ln)/2*Rn;return Mn.push(`${es} ${ts} m`,`${es+Yn} ${ts} ${Un} ${Qn+zn} ${Un} ${Qn} c`,`${Un} ${Qn-zn} ${es+Yn} ${Ln} ${es} ${Ln} c`,`${es-Yn} ${Ln} ${Dn} ${Qn-zn} ${Dn} ${Qn} c`,`${Dn} ${Qn+zn} ${es-Yn} ${ts} ${es} ${ts} c`,"h"),Cn?Mn.push("B"):Mn.push("S"),[_n[0].x,_n[1].x,_n[3].y,_n[1].y]}})}}}class rn extends Wt{constructor(Jt){super(Jt);const{dict:un,xref:fn}=Jt;this.data.annotationType=wt.AnnotationType.POLYLINE,this.data.hasOwnCanvas=this.data.noRotate,this.data.vertices=[],this instanceof an||(this.setLineEndings(un.getArray("LE")),this.data.lineEndings=this.lineEndings);const Sn=un.getArray("Vertices");if(Array.isArray(Sn)){for(let kn=0,Pn=Sn.length;kn<Pn;kn+=2)this.data.vertices.push({x:Sn[kn],y:Sn[kn+1]});if(!this.appearance){const kn=this.color?hn(this.color):[0,0,0],Pn=un.get("CA"),Cn=this.borderStyle.width||1,vn=2*Cn,Rn=[1/0,1/0,-1/0,-1/0];for(const Mn of this.data.vertices)Rn[0]=Math.min(Rn[0],Mn.x-vn),Rn[1]=Math.min(Rn[1],Mn.y-vn),Rn[2]=Math.max(Rn[2],Mn.x+vn),Rn[3]=Math.max(Rn[3],Mn.y+vn);wt.Util.intersect(this.rectangle,Rn)||(this.rectangle=Rn),this._setDefaultAppearance({xref:fn,extra:`${Cn} w`,strokeColor:kn,strokeAlpha:Pn,pointsCallback:(Mn,_n)=>{const Dn=this.data.vertices;for(let Ln=0,Un=Dn.length;Ln<Un;Ln++)Mn.push(`${Dn[Ln].x} ${Dn[Ln].y} ${Ln===0?"m":"l"}`);return Mn.push("S"),[_n[0].x,_n[1].x,_n[3].y,_n[1].y]}})}}}}class an extends rn{constructor(Jt){super(Jt),this.data.annotationType=wt.AnnotationType.POLYGON}}class xn extends Wt{constructor(Jt){super(Jt),this.data.annotationType=wt.AnnotationType.CARET}}class wn extends Wt{constructor(Jt){super(Jt),this.data.hasOwnCanvas=this.data.noRotate;const{dict:un,xref:fn}=Jt;this.data.annotationType=wt.AnnotationType.INK,this.data.inkLists=[];const Sn=un.getArray("InkList");if(Array.isArray(Sn)){for(let kn=0,Pn=Sn.length;kn<Pn;++kn){this.data.inkLists.push([]);for(let Cn=0,vn=Sn[kn].length;Cn<vn;Cn+=2)this.data.inkLists[kn].push({x:fn.fetchIfRef(Sn[kn][Cn]),y:fn.fetchIfRef(Sn[kn][Cn+1])})}if(!this.appearance){const kn=this.color?hn(this.color):[0,0,0],Pn=un.get("CA"),Cn=this.borderStyle.width||1,vn=2*Cn,Rn=[1/0,1/0,-1/0,-1/0];for(const Mn of this.data.inkLists)for(const _n of Mn)Rn[0]=Math.min(Rn[0],_n.x-vn),Rn[1]=Math.min(Rn[1],_n.y-vn),Rn[2]=Math.max(Rn[2],_n.x+vn),Rn[3]=Math.max(Rn[3],_n.y+vn);wt.Util.intersect(this.rectangle,Rn)||(this.rectangle=Rn),this._setDefaultAppearance({xref:fn,extra:`${Cn} w`,strokeColor:kn,strokeAlpha:Pn,pointsCallback:(Mn,_n)=>{for(const Dn of this.data.inkLists){for(let Ln=0,Un=Dn.length;Ln<Un;Ln++)Mn.push(`${Dn[Ln].x} ${Dn[Ln].y} ${Ln===0?"m":"l"}`);Mn.push("S")}return[_n[0].x,_n[1].x,_n[3].y,_n[1].y]}})}}}static createNewDict(Jt,un,{apRef:fn,ap:Sn}){const{color:kn,opacity:Pn,paths:Cn,rect:vn,rotation:Rn,thickness:Mn}=Jt,_n=new ht.Dict(un);_n.set("Type",ht.Name.get("Annot")),_n.set("Subtype",ht.Name.get("Ink")),_n.set("CreationDate",`D:${(0,wt.getModificationDate)()}`),_n.set("Rect",vn),_n.set("InkList",Cn.map(Un=>Un.points)),_n.set("F",4),_n.set("Rotate",Rn);const Dn=new ht.Dict(un);_n.set("BS",Dn),Dn.set("W",Mn),_n.set("C",Array.from(kn,Un=>Un/255)),_n.set("CA",Pn);const Ln=new ht.Dict(un);return _n.set("AP",Ln),fn?Ln.set("N",fn):Ln.set("N",Sn),_n}static async createNewAppearanceStream(Jt,un,fn){const{color:Sn,rect:kn,paths:Pn,thickness:Cn,opacity:vn}=Jt,Rn=[`${Cn} w 1 J 1 j`,`${(0,_t.getPdfColor)(Sn,!1)}`];vn!==1&&Rn.push("/R0 gs");const Mn=[];for(const{bezier:Un}of Pn){Mn.length=0,Mn.push(`${(0,kt.numberToString)(Un[0])} ${(0,kt.numberToString)(Un[1])} m`);for(let ts=2,es=Un.length;ts<es;ts+=6){const Qn=Un.slice(ts,ts+6).map(kt.numberToString).join(" ");Mn.push(`${Qn} c`)}Mn.push("S"),Rn.push(Mn.join(`
`))}const _n=Rn.join(`
`),Dn=new ht.Dict(un);if(Dn.set("FormType",1),Dn.set("Subtype",ht.Name.get("Form")),Dn.set("Type",ht.Name.get("XObject")),Dn.set("BBox",kn),Dn.set("Length",_n.length),vn!==1){const Un=new ht.Dict(un),ts=new ht.Dict(un),es=new ht.Dict(un);es.set("CA",vn),es.set("Type",ht.Name.get("ExtGState")),ts.set("R0",es),Un.set("ExtGState",ts),Dn.set("Resources",Un)}const Ln=new vt.StringStream(_n);return Ln.dict=Dn,Ln}}class En extends Wt{constructor(Jt){var kn;super(Jt);const{dict:un,xref:fn}=Jt;if(this.data.annotationType=wt.AnnotationType.HIGHLIGHT,this.data.quadPoints=tn(un,null)){const Pn=(kn=this.appearance)==null?void 0:kn.dict.get("Resources");if(!this.appearance||!(Pn!=null&&Pn.has("ExtGState"))){this.appearance&&(0,wt.warn)("HighlightAnnotation - ignoring built-in appearance stream.");const Cn=this.color?hn(this.color):[1,1,0],vn=un.get("CA");this._setDefaultAppearance({xref:fn,fillColor:Cn,blendMode:"Multiply",fillAlpha:vn,pointsCallback:(Rn,Mn)=>(Rn.push(`${Mn[0].x} ${Mn[0].y} m`,`${Mn[1].x} ${Mn[1].y} l`,`${Mn[3].x} ${Mn[3].y} l`,`${Mn[2].x} ${Mn[2].y} l`,"f"),[Mn[0].x,Mn[1].x,Mn[3].y,Mn[1].y])})}}else this.data.popupRef=null}}class Fn extends Wt{constructor(Jt){super(Jt);const{dict:un,xref:fn}=Jt;if(this.data.annotationType=wt.AnnotationType.UNDERLINE,this.data.quadPoints=tn(un,null)){if(!this.appearance){const kn=this.color?hn(this.color):[0,0,0],Pn=un.get("CA");this._setDefaultAppearance({xref:fn,extra:"[] 0 d 0.571 w",strokeColor:kn,strokeAlpha:Pn,pointsCallback:(Cn,vn)=>(Cn.push(`${vn[2].x} ${vn[2].y+1.3} m`,`${vn[3].x} ${vn[3].y+1.3} l`,"S"),[vn[0].x,vn[1].x,vn[3].y,vn[1].y])})}}else this.data.popupRef=null}}class In extends Wt{constructor(Jt){super(Jt);const{dict:un,xref:fn}=Jt;if(this.data.annotationType=wt.AnnotationType.SQUIGGLY,this.data.quadPoints=tn(un,null)){if(!this.appearance){const kn=this.color?hn(this.color):[0,0,0],Pn=un.get("CA");this._setDefaultAppearance({xref:fn,extra:"[] 0 d 1 w",strokeColor:kn,strokeAlpha:Pn,pointsCallback:(Cn,vn)=>{const Rn=(vn[0].y-vn[2].y)/6;let Mn=Rn,_n=vn[2].x;const Dn=vn[2].y,Ln=vn[3].x;Cn.push(`${_n} ${Dn+Mn} m`);do _n+=2,Mn=Mn===0?Rn:0,Cn.push(`${_n} ${Dn+Mn} l`);while(_n<Ln);return Cn.push("S"),[vn[2].x,Ln,Dn-2*Rn,Dn+2*Rn]}})}}else this.data.popupRef=null}}class Tn extends Wt{constructor(Jt){super(Jt);const{dict:un,xref:fn}=Jt;if(this.data.annotationType=wt.AnnotationType.STRIKEOUT,this.data.quadPoints=tn(un,null)){if(!this.appearance){const kn=this.color?hn(this.color):[0,0,0],Pn=un.get("CA");this._setDefaultAppearance({xref:fn,extra:"[] 0 d 1 w",strokeColor:kn,strokeAlpha:Pn,pointsCallback:(Cn,vn)=>(Cn.push(`${(vn[0].x+vn[2].x)/2} ${(vn[0].y+vn[2].y)/2} m`,`${(vn[1].x+vn[3].x)/2} ${(vn[1].y+vn[3].y)/2} l`,"S"),[vn[0].x,vn[1].x,vn[3].y,vn[1].y])})}}else this.data.popupRef=null}}class An extends Wt{constructor(Jt){super(Jt),this.data.annotationType=wt.AnnotationType.STAMP,this.data.hasOwnCanvas=this.data.noRotate}static async createImage(Jt,un){const{width:fn,height:Sn}=Jt,kn=new OffscreenCanvas(fn,Sn),Pn=kn.getContext("2d",{alpha:!0});Pn.drawImage(Jt,0,0);const Cn=Pn.getImageData(0,0,fn,Sn).data,vn=new Uint32Array(Cn.buffer),Rn=vn.some(wt.FeatureTest.isLittleEndian?es=>es>>>24!==255:es=>(es&255)!==255);Rn&&(Pn.fillStyle="white",Pn.fillRect(0,0,fn,Sn),Pn.drawImage(Jt,0,0));const Mn=kn.convertToBlob({type:"image/jpeg",quality:1}).then(es=>es.arrayBuffer()),_n=ht.Name.get("XObject"),Dn=ht.Name.get("Image"),Ln=new ht.Dict(un);Ln.set("Type",_n),Ln.set("Subtype",Dn),Ln.set("BitsPerComponent",8),Ln.set("ColorSpace",ht.Name.get("DeviceRGB")),Ln.set("Filter",ht.Name.get("DCTDecode")),Ln.set("BBox",[0,0,fn,Sn]),Ln.set("Width",fn),Ln.set("Height",Sn);let Un=null;if(Rn){const es=new Uint8Array(vn.length);if(wt.FeatureTest.isLittleEndian)for(let Yn=0,zn=vn.length;Yn<zn;Yn++)es[Yn]=vn[Yn]>>>24;else for(let Yn=0,zn=vn.length;Yn<zn;Yn++)es[Yn]=vn[Yn]&255;const Qn=new ht.Dict(un);Qn.set("Type",_n),Qn.set("Subtype",Dn),Qn.set("BitsPerComponent",8),Qn.set("ColorSpace",ht.Name.get("DeviceGray")),Qn.set("Width",fn),Qn.set("Height",Sn),Un=new vt.Stream(es,0,0,Qn)}return{imageStream:new vt.Stream(await Mn,0,0,Ln),smaskStream:Un,width:fn,height:Sn}}static createNewDict(Jt,un,{apRef:fn,ap:Sn}){const{rect:kn,rotation:Pn,user:Cn}=Jt,vn=new ht.Dict(un);if(vn.set("Type",ht.Name.get("Annot")),vn.set("Subtype",ht.Name.get("Stamp")),vn.set("CreationDate",`D:${(0,wt.getModificationDate)()}`),vn.set("Rect",kn),vn.set("F",4),vn.set("Border",[0,0,0]),vn.set("Rotate",Pn),Cn&&vn.set("T",(0,kt.isAscii)(Cn)?Cn:(0,kt.stringToUTF16String)(Cn,!0)),fn||Sn){const Rn=new ht.Dict(un);vn.set("AP",Rn),fn?Rn.set("N",fn):Rn.set("N",Sn)}return vn}static async createNewAppearanceStream(Jt,un,fn){const{rotation:Sn}=Jt,{imageRef:kn,width:Pn,height:Cn}=fn.image,vn=new ht.Dict(un),Rn=new ht.Dict(un);vn.set("XObject",Rn),Rn.set("Im0",kn);const Mn=`q ${Pn} 0 0 ${Cn} 0 0 cm /Im0 Do Q`,_n=new ht.Dict(un);if(_n.set("FormType",1),_n.set("Subtype",ht.Name.get("Form")),_n.set("Type",ht.Name.get("XObject")),_n.set("BBox",[0,0,Pn,Cn]),_n.set("Resources",vn),Sn){const Ln=(0,kt.getRotationMatrix)(Sn,Pn,Cn);_n.set("Matrix",Ln)}const Dn=new vt.StringStream(Mn);return Dn.dict=_n,Dn}}class mn extends Wt{constructor(Jt){super(Jt);const{dict:un,xref:fn}=Jt,Sn=new $t.FileSpec(un.get("FS"),fn);this.data.annotationType=wt.AnnotationType.FILEATTACHMENT,this.data.hasOwnCanvas=this.data.noRotate,this.data.file=Sn.serializable;const kn=un.get("Name");this.data.name=kn instanceof ht.Name?(0,wt.stringToPDFString)(kn.name):"PushPin";const Pn=un.get("ca");this.data.fillAlpha=typeof Pn=="number"&&Pn>=0&&Pn<=1?Pn:null}}},(Ct,Et,Pt)=>{Object.defineProperty(Et,"__esModule",{value:!0}),Et.FakeUnicodeFont=void 0,Et.createDefaultAppearance=Kt,Et.getPdfColor=Rt,Et.parseAppearanceStream=jt,Et.parseDefaultAppearance=$t;var wt=Pt(4),kt=Pt(3),_t=Pt(2),ht=Pt(12),vt=Pt(13),Ft=Pt(59),Vt=Pt(57),qt=Pt(8);class Lt extends vt.EvaluatorPreprocessor{constructor(en){super(new qt.StringStream(en))}parse(){const en={fn:0,args:[]},hn={fontSize:0,fontName:"",fontColor:new Uint8ClampedArray(3)};try{for(;en.args.length=0,!!this.read(en);){if(this.savedStatesDepth!==0)continue;const{fn:tn,args:gn}=en;switch(tn|0){case _t.OPS.setFont:const[nn,bn]=gn;nn instanceof wt.Name&&(hn.fontName=nn.name),typeof bn=="number"&&bn>0&&(hn.fontSize=bn);break;case _t.OPS.setFillRGBColor:ht.ColorSpace.singletons.rgb.getRgbItem(gn,0,hn.fontColor,0);break;case _t.OPS.setFillGray:ht.ColorSpace.singletons.gray.getRgbItem(gn,0,hn.fontColor,0);break;case _t.OPS.setFillCMYKColor:ht.ColorSpace.singletons.cmyk.getRgbItem(gn,0,hn.fontColor,0);break}}}catch(tn){(0,_t.warn)(`parseDefaultAppearance - ignoring errors: "${tn}".`)}return hn}}function $t(Gt){return new Lt(Gt).parse()}class Ot extends vt.EvaluatorPreprocessor{constructor(en,hn,tn){var gn;super(en),this.stream=en,this.evaluatorOptions=hn,this.xref=tn,this.resources=(gn=en.dict)==null?void 0:gn.get("Resources")}parse(){const en={fn:0,args:[]};let hn={scaleFactor:1,fontSize:0,fontName:"",fontColor:new Uint8ClampedArray(3),fillColorSpace:ht.ColorSpace.singletons.gray},tn=!1;const gn=[];try{for(;en.args.length=0,!(tn||!this.read(en));){const{fn:nn,args:bn}=en;switch(nn|0){case _t.OPS.save:gn.push({scaleFactor:hn.scaleFactor,fontSize:hn.fontSize,fontName:hn.fontName,fontColor:hn.fontColor.slice(),fillColorSpace:hn.fillColorSpace});break;case _t.OPS.restore:hn=gn.pop()||hn;break;case _t.OPS.setTextMatrix:hn.scaleFactor*=Math.hypot(bn[0],bn[1]);break;case _t.OPS.setFont:const[Wt,Yt]=bn;Wt instanceof wt.Name&&(hn.fontName=Wt.name),typeof Yt=="number"&&Yt>0&&(hn.fontSize=Yt*hn.scaleFactor);break;case _t.OPS.setFillColorSpace:hn.fillColorSpace=ht.ColorSpace.parse({cs:bn[0],xref:this.xref,resources:this.resources,pdfFunctionFactory:this._pdfFunctionFactory,localColorSpaceCache:this._localColorSpaceCache});break;case _t.OPS.setFillColor:hn.fillColorSpace.getRgbItem(bn,0,hn.fontColor,0);break;case _t.OPS.setFillRGBColor:ht.ColorSpace.singletons.rgb.getRgbItem(bn,0,hn.fontColor,0);break;case _t.OPS.setFillGray:ht.ColorSpace.singletons.gray.getRgbItem(bn,0,hn.fontColor,0);break;case _t.OPS.setFillCMYKColor:ht.ColorSpace.singletons.cmyk.getRgbItem(bn,0,hn.fontColor,0);break;case _t.OPS.showText:case _t.OPS.showSpacedText:case _t.OPS.nextLineShowText:case _t.OPS.nextLineSetSpacingShowText:tn=!0;break}}}catch(nn){(0,_t.warn)(`parseAppearanceStream - ignoring errors: "${nn}".`)}return this.stream.reset(),delete hn.scaleFactor,delete hn.fillColorSpace,hn}get _localColorSpaceCache(){return(0,_t.shadow)(this,"_localColorSpaceCache",new Ft.LocalColorSpaceCache)}get _pdfFunctionFactory(){const en=new Vt.PDFFunctionFactory({xref:this.xref,isEvalSupported:this.evaluatorOptions.isEvalSupported});return(0,_t.shadow)(this,"_pdfFunctionFactory",en)}}function jt(Gt,en,hn){return new Ot(Gt,en,hn).parse()}function Rt(Gt,en){if(Gt[0]===Gt[1]&&Gt[1]===Gt[2]){const hn=Gt[0]/255;return`${(0,kt.numberToString)(hn)} ${en?"g":"G"}`}return Array.from(Gt,hn=>(0,kt.numberToString)(hn/255)).join(" ")+` ${en?"rg":"RG"}`}function Kt({fontSize:Gt,fontName:en,fontColor:hn}){return`/${(0,kt.escapePDFName)(en)} ${Gt} Tf ${Rt(hn,!0)}`}class Bt{constructor(en,hn){this.xref=en,this.widths=null,this.firstChar=1/0,this.lastChar=-1/0,this.fontFamily=hn;const tn=new OffscreenCanvas(1,1);this.ctxMeasure=tn.getContext("2d"),Bt._fontNameId||(Bt._fontNameId=1),this.fontName=wt.Name.get(`InvalidPDFjsFont_${hn}_${Bt._fontNameId++}`)}get toUnicodeRef(){if(!Bt._toUnicodeRef){const en=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo
<< /Registry (Adobe)
/Ordering (UCS) /Supplement 0 >> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000> <FFFF>
endcodespacerange
1 beginbfrange
<0000> <FFFF> <0000>
endbfrange
endcmap CMapName currentdict /CMap defineresource pop end end`,hn=Bt.toUnicodeStream=new qt.StringStream(en),tn=new wt.Dict(this.xref);hn.dict=tn,tn.set("Length",en.length),Bt._toUnicodeRef=this.xref.getNewPersistentRef(hn)}return Bt._toUnicodeRef}get fontDescriptorRef(){if(!Bt._fontDescriptorRef){const en=new wt.Dict(this.xref);en.set("Type",wt.Name.get("FontDescriptor")),en.set("FontName",this.fontName),en.set("FontFamily","MyriadPro Regular"),en.set("FontBBox",[0,0,0,0]),en.set("FontStretch",wt.Name.get("Normal")),en.set("FontWeight",400),en.set("ItalicAngle",0),Bt._fontDescriptorRef=this.xref.getNewPersistentRef(en)}return Bt._fontDescriptorRef}get descendantFontRef(){const en=new wt.Dict(this.xref);en.set("BaseFont",this.fontName),en.set("Type",wt.Name.get("Font")),en.set("Subtype",wt.Name.get("CIDFontType0")),en.set("CIDToGIDMap",wt.Name.get("Identity")),en.set("FirstChar",this.firstChar),en.set("LastChar",this.lastChar),en.set("FontDescriptor",this.fontDescriptorRef),en.set("DW",1e3);const hn=[],tn=[...this.widths.entries()].sort();let gn=null,nn=null;for(const[Wt,Yt]of tn){if(!gn){gn=Wt,nn=[Yt];continue}Wt===gn+nn.length?nn.push(Yt):(hn.push(gn,nn),gn=Wt,nn=[Yt])}gn&&hn.push(gn,nn),en.set("W",hn);const bn=new wt.Dict(this.xref);return bn.set("Ordering","Identity"),bn.set("Registry","Adobe"),bn.set("Supplement",0),en.set("CIDSystemInfo",bn),this.xref.getNewPersistentRef(en)}get baseFontRef(){const en=new wt.Dict(this.xref);return en.set("BaseFont",this.fontName),en.set("Type",wt.Name.get("Font")),en.set("Subtype",wt.Name.get("Type0")),en.set("Encoding",wt.Name.get("Identity-H")),en.set("DescendantFonts",[this.descendantFontRef]),en.set("ToUnicode",this.toUnicodeRef),this.xref.getNewPersistentRef(en)}get resources(){const en=new wt.Dict(this.xref),hn=new wt.Dict(this.xref);return hn.set(this.fontName.name,this.baseFontRef),en.set("Font",hn),en}_createContext(){return this.widths=new Map,this.ctxMeasure.font=`1000px ${this.fontFamily}`,this.ctxMeasure}createFontResources(en){const hn=this._createContext();for(const tn of en.split(/\r\n?|\n/))for(const gn of tn.split("")){const nn=gn.charCodeAt(0);if(this.widths.has(nn))continue;const bn=hn.measureText(gn),Wt=Math.ceil(bn.width);this.widths.set(nn,Wt),this.firstChar=Math.min(nn,this.firstChar),this.lastChar=Math.max(nn,this.lastChar)}return this.resources}createAppearance(en,hn,tn,gn,nn,bn){const Wt=this._createContext(),Yt=[];let dn=-1/0;for(const mn of en.split(/\r\n?|\n/)){Yt.push(mn);const pn=Wt.measureText(mn).width;dn=Math.max(dn,pn);for(const Jt of mn.split("")){const un=Jt.charCodeAt(0);let fn=this.widths.get(un);if(fn===void 0){const Sn=Wt.measureText(Jt);fn=Math.ceil(Sn.width),this.widths.set(un,fn),this.firstChar=Math.min(un,this.firstChar),this.lastChar=Math.max(un,this.lastChar)}}}dn*=gn/1e3;const[Ut,Mt,Ht,sn]=hn;let zt=Ht-Ut,Xt=sn-Mt;tn%180!==0&&([zt,Xt]=[Xt,zt]);let Qt=1;dn>zt&&(Qt=zt/dn);let ln=1;const on=_t.LINE_FACTOR*gn,cn=_t.LINE_DESCENT_FACTOR*gn,rn=on*Yt.length;rn>Xt&&(ln=Xt/rn);const an=Math.min(Qt,ln),xn=gn*an,wn=["q",`0 0 ${(0,kt.numberToString)(zt)} ${(0,kt.numberToString)(Xt)} re W n`,"BT",`1 0 0 1 0 ${(0,kt.numberToString)(Xt+cn)} Tm 0 Tc ${Rt(nn,!0)}`,`/${this.fontName.name} ${(0,kt.numberToString)(xn)} Tf`],{resources:En}=this;if(bn=typeof bn=="number"&&bn>=0&&bn<=1?bn:1,bn!==1){wn.push("/R0 gs");const mn=new wt.Dict(this.xref),pn=new wt.Dict(this.xref);pn.set("ca",bn),pn.set("CA",bn),pn.set("Type",wt.Name.get("ExtGState")),mn.set("R0",pn),En.set("ExtGState",mn)}const Fn=(0,kt.numberToString)(on);for(const mn of Yt)wn.push(`0 -${Fn} Td <${(0,kt.stringToUTF16HexString)(mn)}> Tj`);wn.push("ET","Q");const In=wn.join(`
`),Tn=new wt.Dict(this.xref);if(Tn.set("Subtype",wt.Name.get("Form")),Tn.set("Type",wt.Name.get("XObject")),Tn.set("BBox",[0,0,zt,Xt]),Tn.set("Length",In.length),Tn.set("Resources",En),tn){const mn=(0,kt.getRotationMatrix)(tn,zt,Xt);Tn.set("Matrix",mn)}const An=new qt.StringStream(In);return An.dict=Tn,An}}Et.FakeUnicodeFont=Bt},(Ct,Et,Pt)=>{var Gt,q3,hn,K3,gn,nn,bn,Wt,Yt,dn,Ut,Mt,Ht,Wp,p5,g5,$2,Gp,qp,m5,x5,b5,Y3,En,j2,B2,Z3;Object.defineProperty(Et,"__esModule",{value:!0}),Et.ColorSpace=void 0;var wt=Pt(2),kt=Pt(4),_t=Pt(5),ht=Pt(3);function vt(An,mn,pn,Jt,un,fn,Sn){Sn=Sn!==1?0:Sn;const Pn=pn/un,Cn=Jt/fn;let vn=0,Rn;const Mn=new Uint16Array(un),_n=pn*3;for(let Dn=0;Dn<un;Dn++)Mn[Dn]=Math.floor(Dn*Pn)*3;for(let Dn=0;Dn<fn;Dn++){const Ln=Math.floor(Dn*Cn)*_n;for(let Un=0;Un<un;Un++)Rn=Ln+Mn[Un],mn[vn++]=An[Rn++],mn[vn++]=An[Rn++],mn[vn++]=An[Rn++],vn+=Sn}}class Ft{constructor(mn,pn){this.constructor===Ft&&(0,wt.unreachable)("Cannot initialize ColorSpace."),this.name=mn,this.numComps=pn}getRgb(mn,pn){const Jt=new Uint8ClampedArray(3);return this.getRgbItem(mn,pn,Jt,0),Jt}getRgbItem(mn,pn,Jt,un){(0,wt.unreachable)("Should not call ColorSpace.getRgbItem")}getRgbBuffer(mn,pn,Jt,un,fn,Sn,kn){(0,wt.unreachable)("Should not call ColorSpace.getRgbBuffer")}getOutputLength(mn,pn){(0,wt.unreachable)("Should not call ColorSpace.getOutputLength")}isPassthrough(mn){return!1}isDefaultDecode(mn,pn){return Ft.isDefaultDecode(mn,this.numComps)}fillRgb(mn,pn,Jt,un,fn,Sn,kn,Pn,Cn){const vn=pn*Jt;let Rn=null;const Mn=1<<kn,_n=Jt!==fn||pn!==un;if(this.isPassthrough(kn))Rn=Pn;else if(this.numComps===1&&vn>Mn&&this.name!=="DeviceGray"&&this.name!=="DeviceRGB"){const Dn=kn<=8?new Uint8Array(Mn):new Uint16Array(Mn);for(let Un=0;Un<Mn;Un++)Dn[Un]=Un;const Ln=new Uint8ClampedArray(Mn*3);if(this.getRgbBuffer(Dn,0,Mn,Ln,0,kn,0),_n){Rn=new Uint8Array(vn*3);let Un=0;for(let ts=0;ts<vn;++ts){const es=Pn[ts]*3;Rn[Un++]=Ln[es],Rn[Un++]=Ln[es+1],Rn[Un++]=Ln[es+2]}}else{let Un=0;for(let ts=0;ts<vn;++ts){const es=Pn[ts]*3;mn[Un++]=Ln[es],mn[Un++]=Ln[es+1],mn[Un++]=Ln[es+2],Un+=Cn}}}else _n?(Rn=new Uint8ClampedArray(vn*3),this.getRgbBuffer(Pn,0,vn,Rn,0,kn,0)):this.getRgbBuffer(Pn,0,un*Sn,mn,0,kn,Cn);if(Rn)if(_n)vt(Rn,mn,pn,Jt,un,fn,Cn);else{let Dn=0,Ln=0;for(let Un=0,ts=un*Sn;Un<ts;Un++)mn[Dn++]=Rn[Ln++],mn[Dn++]=Rn[Ln++],mn[Dn++]=Rn[Ln++],Dn+=Cn}}get usesZeroToOneRange(){return(0,wt.shadow)(this,"usesZeroToOneRange",!0)}static _cache(mn,pn,Jt,un){if(!Jt)throw new Error('ColorSpace._cache - expected "localColorSpaceCache" argument.');if(!un)throw new Error('ColorSpace._cache - expected "parsedColorSpace" argument.');let fn,Sn;mn instanceof kt.Ref&&(Sn=mn,mn=pn.fetch(mn)),mn instanceof kt.Name&&(fn=mn.name),(fn||Sn)&&Jt.set(fn,Sn,un)}static getCached(mn,pn,Jt){if(!Jt)throw new Error('ColorSpace.getCached - expected "localColorSpaceCache" argument.');if(mn instanceof kt.Ref){const un=Jt.getByRef(mn);if(un)return un;try{mn=pn.fetch(mn)}catch(fn){if(fn instanceof ht.MissingDataException)throw fn}}if(mn instanceof kt.Name){const un=Jt.getByName(mn.name);if(un)return un}return null}static async parseAsync({cs:mn,xref:pn,resources:Jt=null,pdfFunctionFactory:un,localColorSpaceCache:fn}){const Sn=this._parse(mn,pn,Jt,un);return this._cache(mn,pn,fn,Sn),Sn}static parse({cs:mn,xref:pn,resources:Jt=null,pdfFunctionFactory:un,localColorSpaceCache:fn}){const Sn=this.getCached(mn,pn,fn);if(Sn)return Sn;const kn=this._parse(mn,pn,Jt,un);return this._cache(mn,pn,fn,kn),kn}static _parse(mn,pn,Jt=null,un){if(mn=pn.fetchIfRef(mn),mn instanceof kt.Name)switch(mn.name){case"G":case"DeviceGray":return this.singletons.gray;case"RGB":case"DeviceRGB":return this.singletons.rgb;case"CMYK":case"DeviceCMYK":return this.singletons.cmyk;case"Pattern":return new qt(null);default:if(Jt instanceof kt.Dict){const fn=Jt.get("ColorSpace");if(fn instanceof kt.Dict){const Sn=fn.get(mn.name);if(Sn){if(Sn instanceof kt.Name)return this._parse(Sn,pn,Jt,un);mn=Sn;break}}}throw new wt.FormatError(`Unrecognized ColorSpace: ${mn.name}`)}if(Array.isArray(mn)){const fn=pn.fetchIfRef(mn[0]).name;let Sn,kn,Pn,Cn,vn,Rn;switch(fn){case"G":case"DeviceGray":return this.singletons.gray;case"RGB":case"DeviceRGB":return this.singletons.rgb;case"CMYK":case"DeviceCMYK":return this.singletons.cmyk;case"CalGray":return Sn=pn.fetchIfRef(mn[1]),Cn=Sn.getArray("WhitePoint"),vn=Sn.getArray("BlackPoint"),Rn=Sn.get("Gamma"),new Rt(Cn,vn,Rn);case"CalRGB":Sn=pn.fetchIfRef(mn[1]),Cn=Sn.getArray("WhitePoint"),vn=Sn.getArray("BlackPoint"),Rn=Sn.getArray("Gamma");const Mn=Sn.getArray("Matrix");return new Kt(Cn,vn,Rn,Mn);case"ICCBased":const Dn=pn.fetchIfRef(mn[1]).dict;kn=Dn.get("N");const Ln=Dn.get("Alternate");if(Ln){const zn=this._parse(Ln,pn,Jt,un);if(zn.numComps===kn)return zn;(0,wt.warn)("ICCBased color space: Ignoring incorrect /Alternate entry.")}if(kn===1)return this.singletons.gray;if(kn===3)return this.singletons.rgb;if(kn===4)return this.singletons.cmyk;break;case"Pattern":return Pn=mn[1]||null,Pn&&(Pn=this._parse(Pn,pn,Jt,un)),new qt(Pn);case"I":case"Indexed":Pn=this._parse(mn[1],pn,Jt,un);const Un=pn.fetchIfRef(mn[2])+1,ts=pn.fetchIfRef(mn[3]);return new Lt(Pn,Un,ts);case"Separation":case"DeviceN":const es=pn.fetchIfRef(mn[1]);kn=Array.isArray(es)?es.length:1,Pn=this._parse(mn[2],pn,Jt,un);const Qn=un.create(mn[3]);return new Vt(kn,Pn,Qn);case"Lab":Sn=pn.fetchIfRef(mn[1]),Cn=Sn.getArray("WhitePoint"),vn=Sn.getArray("BlackPoint");const Yn=Sn.getArray("Range");return new Bt(Cn,vn,Yn);default:throw new wt.FormatError(`Unimplemented ColorSpace object: ${fn}`)}}throw new wt.FormatError(`Unrecognized ColorSpace object: ${mn}`)}static isDefaultDecode(mn,pn){if(!Array.isArray(mn))return!0;if(pn*2!==mn.length)return(0,wt.warn)("The decode map is not the correct length"),!0;for(let Jt=0,un=mn.length;Jt<un;Jt+=2)if(mn[Jt]!==0||mn[Jt+1]!==1)return!1;return!0}static get singletons(){return(0,wt.shadow)(this,"singletons",{get gray(){return(0,wt.shadow)(this,"gray",new $t)},get rgb(){return(0,wt.shadow)(this,"rgb",new Ot)},get cmyk(){return(0,wt.shadow)(this,"cmyk",new jt)}})}}Et.ColorSpace=Ft;class Vt extends Ft{constructor(mn,pn,Jt){super("Alternate",mn),this.base=pn,this.tintFn=Jt,this.tmpBuf=new Float32Array(pn.numComps)}getRgbItem(mn,pn,Jt,un){const fn=this.tmpBuf;this.tintFn(mn,pn,fn,0),this.base.getRgbItem(fn,0,Jt,un)}getRgbBuffer(mn,pn,Jt,un,fn,Sn,kn){const Pn=this.tintFn,Cn=this.base,vn=1/((1<<Sn)-1),Rn=Cn.numComps,Mn=Cn.usesZeroToOneRange,_n=(Cn.isPassthrough(8)||!Mn)&&kn===0;let Dn=_n?fn:0;const Ln=_n?un:new Uint8ClampedArray(Rn*Jt),Un=this.numComps,ts=new Float32Array(Un),es=new Float32Array(Rn);let Qn,Yn;for(Qn=0;Qn<Jt;Qn++){for(Yn=0;Yn<Un;Yn++)ts[Yn]=mn[pn++]*vn;if(Pn(ts,0,es,0),Mn)for(Yn=0;Yn<Rn;Yn++)Ln[Dn++]=es[Yn]*255;else Cn.getRgbItem(es,0,Ln,Dn),Dn+=Rn}_n||Cn.getRgbBuffer(Ln,0,Jt,un,fn,8,kn)}getOutputLength(mn,pn){return this.base.getOutputLength(mn*this.base.numComps/this.numComps,pn)}}class qt extends Ft{constructor(mn){super("Pattern",null),this.base=mn}isDefaultDecode(mn,pn){(0,wt.unreachable)("Should not call PatternCS.isDefaultDecode")}}class Lt extends Ft{constructor(mn,pn,Jt){super("Indexed",1),this.base=mn,this.highVal=pn;const un=mn.numComps*pn;if(this.lookup=new Uint8Array(un),Jt instanceof _t.BaseStream){const fn=Jt.getBytes(un);this.lookup.set(fn)}else if(typeof Jt=="string")for(let fn=0;fn<un;++fn)this.lookup[fn]=Jt.charCodeAt(fn)&255;else throw new wt.FormatError(`IndexedCS - unrecognized lookup table: ${Jt}`)}getRgbItem(mn,pn,Jt,un){const fn=this.base.numComps,Sn=mn[pn]*fn;this.base.getRgbBuffer(this.lookup,Sn,1,Jt,un,8,0)}getRgbBuffer(mn,pn,Jt,un,fn,Sn,kn){const Pn=this.base,Cn=Pn.numComps,vn=Pn.getOutputLength(Cn,kn),Rn=this.lookup;for(let Mn=0;Mn<Jt;++Mn){const _n=mn[pn++]*Cn;Pn.getRgbBuffer(Rn,_n,1,un,fn,8,kn),fn+=vn}}getOutputLength(mn,pn){return this.base.getOutputLength(mn*this.base.numComps,pn)}isDefaultDecode(mn,pn){return Array.isArray(mn)?mn.length!==2?((0,wt.warn)("Decode map length is not correct"),!0):!Number.isInteger(pn)||pn<1?((0,wt.warn)("Bits per component is not correct"),!0):mn[0]===0&&mn[1]===(1<<pn)-1:!0}}class $t extends Ft{constructor(){super("DeviceGray",1)}getRgbItem(mn,pn,Jt,un){const fn=mn[pn]*255;Jt[un]=Jt[un+1]=Jt[un+2]=fn}getRgbBuffer(mn,pn,Jt,un,fn,Sn,kn){const Pn=255/((1<<Sn)-1);let Cn=pn,vn=fn;for(let Rn=0;Rn<Jt;++Rn){const Mn=Pn*mn[Cn++];un[vn++]=Mn,un[vn++]=Mn,un[vn++]=Mn,vn+=kn}}getOutputLength(mn,pn){return mn*(3+pn)}}class Ot extends Ft{constructor(){super("DeviceRGB",3)}getRgbItem(mn,pn,Jt,un){Jt[un]=mn[pn]*255,Jt[un+1]=mn[pn+1]*255,Jt[un+2]=mn[pn+2]*255}getRgbBuffer(mn,pn,Jt,un,fn,Sn,kn){if(Sn===8&&kn===0){un.set(mn.subarray(pn,pn+Jt*3),fn);return}const Pn=255/((1<<Sn)-1);let Cn=pn,vn=fn;for(let Rn=0;Rn<Jt;++Rn)un[vn++]=Pn*mn[Cn++],un[vn++]=Pn*mn[Cn++],un[vn++]=Pn*mn[Cn++],vn+=kn}getOutputLength(mn,pn){return mn*(3+pn)/3|0}isPassthrough(mn){return mn===8}}class jt extends Ft{constructor(){super("DeviceCMYK",4);Nn(this,Gt)}getRgbItem(pn,Jt,un,fn){On(this,Gt,q3).call(this,pn,Jt,1,un,fn)}getRgbBuffer(pn,Jt,un,fn,Sn,kn,Pn){const Cn=1/((1<<kn)-1);for(let vn=0;vn<un;vn++)On(this,Gt,q3).call(this,pn,Jt,Cn,fn,Sn),Jt+=4,Sn+=3+Pn}getOutputLength(pn,Jt){return pn/4*(3+Jt)|0}}Gt=new WeakSet,q3=function(pn,Jt,un,fn,Sn){const kn=pn[Jt]*un,Pn=pn[Jt+1]*un,Cn=pn[Jt+2]*un,vn=pn[Jt+3]*un;fn[Sn]=255+kn*(-4.387332384609988*kn+54.48615194189176*Pn+18.82290502165302*Cn+212.25662451639585*vn+-285.2331026137004)+Pn*(1.7149763477362134*Pn-5.6096736904047315*Cn+-17.873870861415444*vn-5.497006427196366)+Cn*(-2.5217340131683033*Cn-21.248923337353073*vn+17.5119270841813)+vn*(-21.86122147463605*vn-189.48180835922747),fn[Sn+1]=255+kn*(8.841041422036149*kn+60.118027045597366*Pn+6.871425592049007*Cn+31.159100130055922*vn+-79.2970844816548)+Pn*(-15.310361306967817*Pn+17.575251261109482*Cn+131.35250912493976*vn-190.9453302588951)+Cn*(4.444339102852739*Cn+9.8632861493405*vn-24.86741582555878)+vn*(-20.737325471181034*vn-187.80453709719578),fn[Sn+2]=255+kn*(.8842522430003296*kn+8.078677503112928*Pn+30.89978309703729*Cn-.23883238689178934*vn+-14.183576799673286)+Pn*(10.49593273432072*Pn+63.02378494754052*Cn+50.606957656360734*vn-112.23884253719248)+Cn*(.03296041114873217*Cn+115.60384449646641*vn+-193.58209356861505)+vn*(-22.33816807309886*vn-180.12613974708367)};class Rt extends Ft{constructor(pn,Jt,un){super("CalGray",1);Nn(this,hn);if(!pn)throw new wt.FormatError("WhitePoint missing - required for color space CalGray");if([this.XW,this.YW,this.ZW]=pn,[this.XB,this.YB,this.ZB]=Jt||[0,0,0],this.G=un||1,this.XW<0||this.ZW<0||this.YW!==1)throw new wt.FormatError(`Invalid WhitePoint components for ${this.name}, no fallback available`);(this.XB<0||this.YB<0||this.ZB<0)&&((0,wt.info)(`Invalid BlackPoint for ${this.name}, falling back to default.`),this.XB=this.YB=this.ZB=0),(this.XB!==0||this.YB!==0||this.ZB!==0)&&(0,wt.warn)(`${this.name}, BlackPoint: XB: ${this.XB}, YB: ${this.YB}, ZB: ${this.ZB}, only default values are supported.`),this.G<1&&((0,wt.info)(`Invalid Gamma: ${this.G} for ${this.name}, falling back to default.`),this.G=1)}getRgbItem(pn,Jt,un,fn){On(this,hn,K3).call(this,pn,Jt,un,fn,1)}getRgbBuffer(pn,Jt,un,fn,Sn,kn,Pn){const Cn=1/((1<<kn)-1);for(let vn=0;vn<un;++vn)On(this,hn,K3).call(this,pn,Jt,fn,Sn,Cn),Jt+=1,Sn+=3+Pn}getOutputLength(pn,Jt){return pn*(3+Jt)}}hn=new WeakSet,K3=function(pn,Jt,un,fn,Sn){const Pn=(pn[Jt]*Sn)**this.G,Cn=this.YW*Pn,vn=Math.max(295.8*Cn**.3333333333333333-40.8,0);un[fn]=vn,un[fn+1]=vn,un[fn+2]=vn};const wn=class wn extends Ft{constructor(pn,Jt,un,fn){super("CalRGB",3);Nn(this,Ht);if(!pn)throw new wt.FormatError("WhitePoint missing - required for color space CalRGB");const[Sn,kn,Pn]=this.whitePoint=pn,[Cn,vn,Rn]=this.blackPoint=Jt||new Float32Array(3);if([this.GR,this.GG,this.GB]=un||new Float32Array([1,1,1]),[this.MXA,this.MYA,this.MZA,this.MXB,this.MYB,this.MZB,this.MXC,this.MYC,this.MZC]=fn||new Float32Array([1,0,0,0,1,0,0,0,1]),Sn<0||Pn<0||kn!==1)throw new wt.FormatError(`Invalid WhitePoint components for ${this.name}, no fallback available`);(Cn<0||vn<0||Rn<0)&&((0,wt.info)(`Invalid BlackPoint for ${this.name} [${Cn}, ${vn}, ${Rn}], falling back to default.`),this.blackPoint=new Float32Array(3)),(this.GR<0||this.GG<0||this.GB<0)&&((0,wt.info)(`Invalid Gamma [${this.GR}, ${this.GG}, ${this.GB}] for ${this.name}, falling back to default.`),this.GR=this.GG=this.GB=1)}getRgbItem(pn,Jt,un,fn){On(this,Ht,Y3).call(this,pn,Jt,un,fn,1)}getRgbBuffer(pn,Jt,un,fn,Sn,kn,Pn){const Cn=1/((1<<kn)-1);for(let vn=0;vn<un;++vn)On(this,Ht,Y3).call(this,pn,Jt,fn,Sn,Cn),Jt+=3,Sn+=3+Pn}getOutputLength(pn,Jt){return pn*(3+Jt)/3|0}};gn=new WeakMap,nn=new WeakMap,bn=new WeakMap,Wt=new WeakMap,Yt=new WeakMap,dn=new WeakMap,Ut=new WeakMap,Mt=new WeakMap,Ht=new WeakSet,Wp=function(pn,Jt,un){un[0]=pn[0]*Jt[0]+pn[1]*Jt[1]+pn[2]*Jt[2],un[1]=pn[3]*Jt[0]+pn[4]*Jt[1]+pn[5]*Jt[2],un[2]=pn[6]*Jt[0]+pn[7]*Jt[1]+pn[8]*Jt[2]},p5=function(pn,Jt,un){un[0]=Jt[0]*1/pn[0],un[1]=Jt[1]*1/pn[1],un[2]=Jt[2]*1/pn[2]},g5=function(pn,Jt,un){un[0]=Jt[0]*.95047/pn[0],un[1]=Jt[1]*1/pn[1],un[2]=Jt[2]*1.08883/pn[2]},$2=function(pn){return pn<=.0031308?On(this,Ht,Gp).call(this,0,1,12.92*pn):pn>=.99554525?1:On(this,Ht,Gp).call(this,0,1,1.055*pn**.4166666666666667-.055)},Gp=function(pn,Jt,un){return Math.max(pn,Math.min(Jt,un))},qp=function(pn){return pn<0?-On(this,Ht,qp).call(this,-pn):pn>8?((pn+16)/116)**3:pn*Dt(wn,Mt)},m5=function(pn,Jt,un){if(pn[0]===0&&pn[1]===0&&pn[2]===0){un[0]=Jt[0],un[1]=Jt[1],un[2]=Jt[2];return}const fn=On(this,Ht,qp).call(this,0),Sn=fn,kn=On(this,Ht,qp).call(this,pn[0]),Pn=fn,Cn=On(this,Ht,qp).call(this,pn[1]),vn=fn,Rn=On(this,Ht,qp).call(this,pn[2]),Mn=(1-Sn)/(1-kn),_n=1-Mn,Dn=(1-Pn)/(1-Cn),Ln=1-Dn,Un=(1-vn)/(1-Rn),ts=1-Un;un[0]=Jt[0]*Mn+_n,un[1]=Jt[1]*Dn+Ln,un[2]=Jt[2]*Un+ts},x5=function(pn,Jt,un){if(pn[0]===1&&pn[2]===1){un[0]=Jt[0],un[1]=Jt[1],un[2]=Jt[2];return}const fn=un;On(this,Ht,Wp).call(this,Dt(wn,gn),Jt,fn);const Sn=Dt(wn,Yt);On(this,Ht,p5).call(this,pn,fn,Sn),On(this,Ht,Wp).call(this,Dt(wn,nn),Sn,un)},b5=function(pn,Jt,un){const fn=un;On(this,Ht,Wp).call(this,Dt(wn,gn),Jt,fn);const Sn=Dt(wn,Yt);On(this,Ht,g5).call(this,pn,fn,Sn),On(this,Ht,Wp).call(this,Dt(wn,nn),Sn,un)},Y3=function(pn,Jt,un,fn,Sn){const kn=On(this,Ht,Gp).call(this,0,1,pn[Jt]*Sn),Pn=On(this,Ht,Gp).call(this,0,1,pn[Jt+1]*Sn),Cn=On(this,Ht,Gp).call(this,0,1,pn[Jt+2]*Sn),vn=kn===1?1:kn**this.GR,Rn=Pn===1?1:Pn**this.GG,Mn=Cn===1?1:Cn**this.GB,_n=this.MXA*vn+this.MXB*Rn+this.MXC*Mn,Dn=this.MYA*vn+this.MYB*Rn+this.MYC*Mn,Ln=this.MZA*vn+this.MZB*Rn+this.MZC*Mn,Un=Dt(wn,dn);Un[0]=_n,Un[1]=Dn,Un[2]=Ln;const ts=Dt(wn,Ut);On(this,Ht,x5).call(this,this.whitePoint,Un,ts);const es=Dt(wn,dn);On(this,Ht,m5).call(this,this.blackPoint,ts,es);const Qn=Dt(wn,Ut);On(this,Ht,b5).call(this,Dt(wn,Wt),es,Qn);const Yn=Dt(wn,dn);On(this,Ht,Wp).call(this,Dt(wn,bn),Qn,Yn),un[fn]=On(this,Ht,$2).call(this,Yn[0])*255,un[fn+1]=On(this,Ht,$2).call(this,Yn[1])*255,un[fn+2]=On(this,Ht,$2).call(this,Yn[2])*255},Nn(wn,gn,new Float32Array([.8951,.2664,-.1614,-.7502,1.7135,.0367,.0389,-.0685,1.0296])),Nn(wn,nn,new Float32Array([.9869929,-.1470543,.1599627,.4323053,.5183603,.0492912,-.0085287,.0400428,.9684867])),Nn(wn,bn,new Float32Array([3.2404542,-1.5371385,-.4985314,-.969266,1.8760108,.041556,.0556434,-.2040259,1.0572252])),Nn(wn,Wt,new Float32Array([1,1,1])),Nn(wn,Yt,new Float32Array(3)),Nn(wn,dn,new Float32Array(3)),Nn(wn,Ut,new Float32Array(3)),Nn(wn,Mt,.0011070564598794539);let Kt=wn;class Bt extends Ft{constructor(pn,Jt,un){super("Lab",3);Nn(this,En);if(!pn)throw new wt.FormatError("WhitePoint missing - required for color space Lab");if([this.XW,this.YW,this.ZW]=pn,[this.amin,this.amax,this.bmin,this.bmax]=un||[-100,100,-100,100],[this.XB,this.YB,this.ZB]=Jt||[0,0,0],this.XW<0||this.ZW<0||this.YW!==1)throw new wt.FormatError("Invalid WhitePoint components, no fallback available");(this.XB<0||this.YB<0||this.ZB<0)&&((0,wt.info)("Invalid BlackPoint, falling back to default"),this.XB=this.YB=this.ZB=0),(this.amin>this.amax||this.bmin>this.bmax)&&((0,wt.info)("Invalid Range, falling back to defaults"),this.amin=-100,this.amax=100,this.bmin=-100,this.bmax=100)}getRgbItem(pn,Jt,un,fn){On(this,En,Z3).call(this,pn,Jt,!1,un,fn)}getRgbBuffer(pn,Jt,un,fn,Sn,kn,Pn){const Cn=(1<<kn)-1;for(let vn=0;vn<un;vn++)On(this,En,Z3).call(this,pn,Jt,Cn,fn,Sn),Jt+=3,Sn+=3+Pn}getOutputLength(pn,Jt){return pn*(3+Jt)/3|0}isDefaultDecode(pn,Jt){return!0}get usesZeroToOneRange(){return(0,wt.shadow)(this,"usesZeroToOneRange",!1)}}En=new WeakSet,j2=function(pn){return pn>=.20689655172413793?pn**3:.12841854934601665*(pn-.13793103448275862)},B2=function(pn,Jt,un,fn){return un+pn*(fn-un)/Jt},Z3=function(pn,Jt,un,fn,Sn){let kn=pn[Jt],Pn=pn[Jt+1],Cn=pn[Jt+2];un!==!1&&(kn=On(this,En,B2).call(this,kn,un,0,100),Pn=On(this,En,B2).call(this,Pn,un,this.amin,this.amax),Cn=On(this,En,B2).call(this,Cn,un,this.bmin,this.bmax)),Pn>this.amax?Pn=this.amax:Pn<this.amin&&(Pn=this.amin),Cn>this.bmax?Cn=this.bmax:Cn<this.bmin&&(Cn=this.bmin);const vn=(kn+16)/116,Rn=vn+Pn/500,Mn=vn-Cn/200,_n=this.XW*On(this,En,j2).call(this,Rn),Dn=this.YW*On(this,En,j2).call(this,vn),Ln=this.ZW*On(this,En,j2).call(this,Mn);let Un,ts,es;this.ZW<1?(Un=_n*3.1339+Dn*-1.617+Ln*-.4906,ts=_n*-.9785+Dn*1.916+Ln*.0333,es=_n*.072+Dn*-.229+Ln*1.4057):(Un=_n*3.2406+Dn*-1.5372+Ln*-.4986,ts=_n*-.9689+Dn*1.8758+Ln*.0415,es=_n*.0557+Dn*-.204+Ln*1.057),fn[Sn]=Math.sqrt(Un)*255,fn[Sn+1]=Math.sqrt(ts)*255,fn[Sn+2]=Math.sqrt(es)*255}},(Ct,Et,Pt)=>{Object.defineProperty(Et,"__esModule",{value:!0}),Et.PartialEvaluator=Et.EvaluatorPreprocessor=void 0;var wt=Pt(2),kt=Pt(14),_t=Pt(4),ht=Pt(34),vt=Pt(37),Ft=Pt(41),Vt=Pt(50),qt=Pt(51),Lt=Pt(42),$t=Pt(57),Ot=Pt(16),jt=Pt(59),Rt=Pt(8),Kt=Pt(5),Bt=Pt(60),Gt=Pt(12),en=Pt(18),hn=Pt(38),tn=Pt(61),gn=Pt(39),nn=Pt(45),bn=Pt(40),Wt=Pt(62),Yt=Pt(63),dn=Pt(64),Ut=Pt(65);const Mt=Object.freeze({maxImageSize:-1,disableFontFace:!1,ignoreErrors:!1,isEvalSupported:!0,isOffscreenCanvasSupported:!1,canvasMaxAreaInBytes:-1,fontExtraProperties:!1,useSystemFonts:!0,cMapUrl:null,standardFontDataUrl:null}),Ht={TILING:1,SHADING:2},sn=10,zt=Promise.resolve();function Xt(In,Tn=!1){if(Array.isArray(In)){for(const An of In){const mn=Xt(An,!0);if(mn)return mn}return(0,wt.warn)(`Unsupported blend mode Array: ${In}`),"source-over"}if(!(In instanceof _t.Name))return Tn?null:"source-over";switch(In.name){case"Normal":case"Compatible":return"source-over";case"Multiply":return"multiply";case"Screen":return"screen";case"Overlay":return"overlay";case"Darken":return"darken";case"Lighten":return"lighten";case"ColorDodge":return"color-dodge";case"ColorBurn":return"color-burn";case"HardLight":return"hard-light";case"SoftLight":return"soft-light";case"Difference":return"difference";case"Exclusion":return"exclusion";case"Hue":return"hue";case"Saturation":return"saturation";case"Color":return"color";case"Luminosity":return"luminosity"}return Tn?null:((0,wt.warn)(`Unsupported blend mode: ${In.name}`),"source-over")}function Qt(In){var Tn;In.fn===wt.OPS.paintImageMaskXObject&&((Tn=In.args[0])==null?void 0:Tn.count)>0&&In.args[0].count++}const En=class En{constructor(){this.reset()}check(){return++this.checked<En.CHECK_TIME_EVERY?!1:(this.checked=0,this.endTime<=Date.now())}reset(){this.endTime=Date.now()+En.TIME_SLOT_DURATION_MS,this.checked=0}};Us(En,"TIME_SLOT_DURATION_MS",20),Us(En,"CHECK_TIME_EVERY",100);let ln=En;class on{constructor({xref:Tn,handler:An,pageIndex:mn,idFactory:pn,fontCache:Jt,builtInCMapCache:un,standardFontDataCache:fn,globalImageCache:Sn,systemFontCache:kn,options:Pn=null}){this.xref=Tn,this.handler=An,this.pageIndex=mn,this.idFactory=pn,this.fontCache=Jt,this.builtInCMapCache=un,this.standardFontDataCache=fn,this.globalImageCache=Sn,this.systemFontCache=kn,this.options=Pn||Mt,this.parsingType3Font=!1,this._regionalImageCache=new jt.RegionalImageCache,this._fetchBuiltInCMapBound=this.fetchBuiltInCMap.bind(this),Wt.ImageResizer.setMaxArea(this.options.canvasMaxAreaInBytes)}get _pdfFunctionFactory(){const Tn=new $t.PDFFunctionFactory({xref:this.xref,isEvalSupported:this.options.isEvalSupported});return(0,wt.shadow)(this,"_pdfFunctionFactory",Tn)}clone(Tn=null){const An=Object.create(this);return An.options=Object.assign(Object.create(null),this.options,Tn),An}hasBlendModes(Tn,An){if(!(Tn instanceof _t.Dict)||Tn.objId&&An.has(Tn.objId))return!1;const mn=new _t.RefSet(An);Tn.objId&&mn.put(Tn.objId);const pn=[Tn],Jt=this.xref;for(;pn.length;){const un=pn.shift(),fn=un.get("ExtGState");if(fn instanceof _t.Dict)for(let kn of fn.getRawValues()){if(kn instanceof _t.Ref){if(mn.has(kn))continue;try{kn=Jt.fetch(kn)}catch(Cn){mn.put(kn),(0,wt.info)(`hasBlendModes - ignoring ExtGState: "${Cn}".`);continue}}if(!(kn instanceof _t.Dict))continue;kn.objId&&mn.put(kn.objId);const Pn=kn.get("BM");if(Pn instanceof _t.Name){if(Pn.name!=="Normal")return!0;continue}if(Pn!==void 0&&Array.isArray(Pn)){for(const Cn of Pn)if(Cn instanceof _t.Name&&Cn.name!=="Normal")return!0}}const Sn=un.get("XObject");if(Sn instanceof _t.Dict)for(let kn of Sn.getRawValues()){if(kn instanceof _t.Ref){if(mn.has(kn))continue;try{kn=Jt.fetch(kn)}catch(Cn){mn.put(kn),(0,wt.info)(`hasBlendModes - ignoring XObject: "${Cn}".`);continue}}if(!(kn instanceof Kt.BaseStream))continue;kn.dict.objId&&mn.put(kn.dict.objId);const Pn=kn.dict.get("Resources");Pn instanceof _t.Dict&&(Pn.objId&&mn.has(Pn.objId)||(pn.push(Pn),Pn.objId&&mn.put(Pn.objId)))}}for(const un of mn)An.put(un);return!1}async fetchBuiltInCMap(Tn){const An=this.builtInCMapCache.get(Tn);if(An)return An;let mn;if(this.options.cMapUrl!==null){const pn=`${this.options.cMapUrl}${Tn}.bcmap`,Jt=await fetch(pn);if(!Jt.ok)throw new Error(`fetchBuiltInCMap: failed to fetch file "${pn}" with "${Jt.statusText}".`);mn={cMapData:new Uint8Array(await Jt.arrayBuffer()),compressionType:wt.CMapCompressionType.BINARY}}else mn=await this.handler.sendWithPromise("FetchBuiltInCMap",{name:Tn});return mn.compressionType!==wt.CMapCompressionType.NONE&&this.builtInCMapCache.set(Tn,mn),mn}async fetchStandardFontData(Tn){const An=this.standardFontDataCache.get(Tn);if(An)return new Rt.Stream(An);if(this.options.useSystemFonts&&Tn!=="Symbol"&&Tn!=="ZapfDingbats")return null;const mn=(0,Ft.getFontNameToFileMap)(),pn=mn[Tn];let Jt;if(this.options.standardFontDataUrl!==null){const un=`${this.options.standardFontDataUrl}${pn}`,fn=await fetch(un);fn.ok?Jt=await fn.arrayBuffer():(0,wt.warn)(`fetchStandardFontData: failed to fetch file "${un}" with "${fn.statusText}".`)}else try{Jt=await this.handler.sendWithPromise("FetchStandardFontData",{filename:pn})}catch(un){(0,wt.warn)(`fetchStandardFontData: failed to fetch file "${pn}" with "${un}".`)}return Jt?(this.standardFontDataCache.set(Tn,Jt),new Rt.Stream(Jt)):null}async buildFormXObject(Tn,An,mn,pn,Jt,un,fn){const Sn=An.dict,kn=Sn.getArray("Matrix");let Pn=Sn.getArray("BBox");Pn=Array.isArray(Pn)&&Pn.length===4?wt.Util.normalizeRect(Pn):null;let Cn,vn;Sn.has("OC")&&(Cn=await this.parseMarkedContentProps(Sn.get("OC"),Tn)),Cn!==void 0&&pn.addOp(wt.OPS.beginMarkedContentProps,["OC",Cn]);const Rn=Sn.get("Group");if(Rn){vn={matrix:kn,bbox:Pn,smask:mn,isolated:!1,knockout:!1};const _n=Rn.get("S");let Dn=null;if((0,_t.isName)(_n,"Transparency")&&(vn.isolated=Rn.get("I")||!1,vn.knockout=Rn.get("K")||!1,Rn.has("CS"))){const Ln=Rn.getRaw("CS"),Un=Gt.ColorSpace.getCached(Ln,this.xref,fn);Un?Dn=Un:Dn=await this.parseColorSpace({cs:Ln,resources:Tn,localColorSpaceCache:fn})}mn!=null&&mn.backdrop&&(Dn||(Dn=Gt.ColorSpace.singletons.rgb),mn.backdrop=Dn.getRgb(mn.backdrop,0)),pn.addOp(wt.OPS.beginGroup,[vn])}const Mn=Rn?[kn,null]:[kn,Pn];return pn.addOp(wt.OPS.paintFormXObjectBegin,Mn),this.getOperatorList({stream:An,task:Jt,resources:Sn.get("Resources")||Tn,operatorList:pn,initialState:un}).then(function(){pn.addOp(wt.OPS.paintFormXObjectEnd,[]),Rn&&pn.addOp(wt.OPS.endGroup,[vn]),Cn!==void 0&&pn.addOp(wt.OPS.endMarkedContent,[])})}_sendImgData(Tn,An,mn=!1){const pn=An?[An.bitmap||An.data.buffer]:null;return this.parsingType3Font||mn?this.handler.send("commonobj",[Tn,"Image",An],pn):this.handler.send("obj",[Tn,this.pageIndex,"Image",An],pn)}async buildPaintImageXObject({resources:Tn,image:An,isInline:mn=!1,operatorList:pn,cacheKey:Jt,localImageCache:un,localColorSpaceCache:fn}){const Sn=An.dict,kn=Sn.objId,Pn=Sn.get("W","Width"),Cn=Sn.get("H","Height");if(!(Pn&&typeof Pn=="number")||!(Cn&&typeof Cn=="number")){(0,wt.warn)("Image dimensions are missing, or not numbers.");return}const vn=this.options.maxImageSize;if(vn!==-1&&Pn*Cn>vn){const es="Image exceeded maximum allowed size and was removed.";if(this.options.ignoreErrors){(0,wt.warn)(es);return}throw new Error(es)}let Rn;Sn.has("OC")&&(Rn=await this.parseMarkedContentProps(Sn.get("OC"),Tn));const Mn=Sn.get("IM","ImageMask")||!1;let _n,Dn;if(Mn){const es=Sn.get("I","Interpolate"),Qn=Pn+7>>3,Yn=An.getBytes(Qn*Cn),zn=Sn.getArray("D","Decode");if(this.parsingType3Font){if(_n=Ut.PDFImage.createRawMask({imgArray:Yn,width:Pn,height:Cn,imageIsFromDecodeStream:An instanceof en.DecodeStream,inverseDecode:(zn==null?void 0:zn[0])>0,interpolate:es}),_n.cached=!!Jt,Dn=[_n],pn.addImageOps(wt.OPS.paintImageMaskXObject,Dn,Rn),Jt){const ls={fn:wt.OPS.paintImageMaskXObject,args:Dn,optionalContent:Rn};un.set(Jt,kn,ls),kn&&this._regionalImageCache.set(null,kn,ls)}return}if(_n=await Ut.PDFImage.createMask({imgArray:Yn,width:Pn,height:Cn,imageIsFromDecodeStream:An instanceof en.DecodeStream,inverseDecode:(zn==null?void 0:zn[0])>0,interpolate:es,isOffscreenCanvasSupported:this.options.isOffscreenCanvasSupported}),_n.isSingleOpaquePixel){if(pn.addImageOps(wt.OPS.paintSolidColorImageMask,[],Rn),Jt){const ls={fn:wt.OPS.paintSolidColorImageMask,args:[],optionalContent:Rn};un.set(Jt,kn,ls),kn&&this._regionalImageCache.set(null,kn,ls)}return}const ns=`mask_${this.idFactory.createObjId()}`;if(pn.addDependency(ns),this._sendImgData(ns,_n),Dn=[{data:ns,width:_n.width,height:_n.height,interpolate:_n.interpolate,count:1}],pn.addImageOps(wt.OPS.paintImageMaskXObject,Dn,Rn),Jt){const ls={fn:wt.OPS.paintImageMaskXObject,args:Dn,optionalContent:Rn};un.set(Jt,kn,ls),kn&&this._regionalImageCache.set(null,kn,ls)}return}if(mn&&!Sn.has("SMask")&&!Sn.has("Mask")&&Pn+Cn<200){_n=await new Ut.PDFImage({xref:this.xref,res:Tn,image:An,isInline:mn,pdfFunctionFactory:this._pdfFunctionFactory,localColorSpaceCache:fn}).createImageData(!0,!1),pn.isOffscreenCanvasSupported=this.options.isOffscreenCanvasSupported,pn.addImageOps(wt.OPS.paintInlineImageXObject,[_n],Rn);return}let Un=`img_${this.idFactory.createObjId()}`,ts=!1;if(this.parsingType3Font?Un=`${this.idFactory.getDocId()}_type3_${Un}`:kn&&(ts=this.globalImageCache.shouldCache(kn,this.pageIndex),ts&&(Un=`${this.idFactory.getDocId()}_${Un}`)),pn.addDependency(Un),Dn=[Un,Pn,Cn],Ut.PDFImage.buildImage({xref:this.xref,res:Tn,image:An,isInline:mn,pdfFunctionFactory:this._pdfFunctionFactory,localColorSpaceCache:fn}).then(async es=>{if(_n=await es.createImageData(!1,this.options.isOffscreenCanvasSupported),Jt&&kn&&ts){const Qn=_n.bitmap?_n.width*_n.height*4:_n.data.length;this.globalImageCache.addByteSize(kn,Qn)}return this._sendImgData(Un,_n,ts)}).catch(es=>((0,wt.warn)(`Unable to decode image "${Un}": "${es}".`),this._sendImgData(Un,null,ts))),pn.addImageOps(wt.OPS.paintImageXObject,Dn,Rn),Jt){const es={fn:wt.OPS.paintImageXObject,args:Dn,optionalContent:Rn};un.set(Jt,kn,es),kn&&(this._regionalImageCache.set(null,kn,es),ts&&((0,wt.assert)(!mn,"Cannot cache an inline image globally."),this.globalImageCache.setData(kn,{objId:Un,fn:wt.OPS.paintImageXObject,args:Dn,optionalContent:Rn,byteSize:0})))}}handleSMask(Tn,An,mn,pn,Jt,un){const fn=Tn.get("G"),Sn={subtype:Tn.get("S").name,backdrop:Tn.get("BC")},kn=Tn.get("TR");if((0,$t.isPDFFunction)(kn)){const Pn=this._pdfFunctionFactory.create(kn),Cn=new Uint8Array(256),vn=new Float32Array(1);for(let Rn=0;Rn<256;Rn++)vn[0]=Rn/255,Pn(vn,0,vn,0),Cn[Rn]=vn[0]*255|0;Sn.transferMap=Cn}return this.buildFormXObject(An,fn,Sn,mn,pn,Jt.state.clone(),un)}handleTransferFunction(Tn){let An;if(Array.isArray(Tn))An=Tn;else if((0,$t.isPDFFunction)(Tn))An=[Tn];else return null;const mn=[];let pn=0,Jt=0;for(const un of An){const fn=this.xref.fetchIfRef(un);if(pn++,(0,_t.isName)(fn,"Identity")){mn.push(null);continue}else if(!(0,$t.isPDFFunction)(fn))return null;const Sn=this._pdfFunctionFactory.create(fn),kn=new Uint8Array(256),Pn=new Float32Array(1);for(let Cn=0;Cn<256;Cn++)Pn[0]=Cn/255,Sn(Pn,0,Pn,0),kn[Cn]=Pn[0]*255|0;mn.push(kn),Jt++}return!(pn===1||pn===4)||Jt===0?null:mn}handleTilingType(Tn,An,mn,pn,Jt,un,fn,Sn){const kn=new dn.OperatorList,Pn=_t.Dict.merge({xref:this.xref,dictArray:[Jt.get("Resources"),mn]});return this.getOperatorList({stream:pn,task:fn,resources:Pn,operatorList:kn}).then(function(){const Cn=kn.getIR(),vn=(0,Vt.getTilingPatternIR)(Cn,Jt,An);un.addDependencies(kn.dependencies),un.addOp(Tn,vn),Jt.objId&&Sn.set(null,Jt.objId,{operatorListIR:Cn,dict:Jt})}).catch(Cn=>{if(!(Cn instanceof wt.AbortException)){if(this.options.ignoreErrors){(0,wt.warn)(`handleTilingType - ignoring pattern: "${Cn}".`);return}throw Cn}})}handleSetFont(Tn,An,mn,pn,Jt,un,fn=null,Sn=null){const kn=(An==null?void 0:An[0])instanceof _t.Name?An[0].name:null;return this.loadFont(kn,mn,Tn,fn,Sn).then(Pn=>Pn.font.isType3Font?Pn.loadType3Data(this,Tn,Jt).then(function(){return pn.addDependencies(Pn.type3Dependencies),Pn}).catch(Cn=>new cn({loadedName:"g_font_error",font:new ht.ErrorFont(`Type3 font load error: ${Cn}`),dict:Pn.font,evaluatorOptions:this.options})):Pn).then(Pn=>(un.font=Pn.font,Pn.send(this.handler),Pn.loadedName))}handleText(Tn,An){const mn=An.font,pn=mn.charsToGlyphs(Tn);return mn.data&&(An.textRenderingMode&wt.TextRenderingMode.ADD_TO_PATH_FLAG||An.fillColorSpace.name==="Pattern"||mn.disableFontFace||this.options.disableFontFace)&&on.buildFontPaths(mn,pn,this.handler,this.options),pn}ensureStateFont(Tn){if(Tn.font)return;const An=new wt.FormatError("Missing setFont (Tf) operator before text rendering operator.");if(this.options.ignoreErrors){(0,wt.warn)(`ensureStateFont: "${An}".`);return}throw An}async setGState({resources:Tn,gState:An,operatorList:mn,cacheKey:pn,task:Jt,stateManager:un,localGStateCache:fn,localColorSpaceCache:Sn}){const kn=An.objId;let Pn=!0;const Cn=[];let vn=Promise.resolve();for(const Rn of An.getKeys()){const Mn=An.get(Rn);switch(Rn){case"Type":break;case"LW":case"LC":case"LJ":case"ML":case"D":case"RI":case"FL":case"CA":case"ca":Cn.push([Rn,Mn]);break;case"Font":Pn=!1,vn=vn.then(()=>this.handleSetFont(Tn,null,Mn[0],mn,Jt,un.state).then(function(Dn){mn.addDependency(Dn),Cn.push([Rn,[Dn,Mn[1]]])}));break;case"BM":Cn.push([Rn,Xt(Mn)]);break;case"SMask":if((0,_t.isName)(Mn,"None")){Cn.push([Rn,!1]);break}Mn instanceof _t.Dict?(Pn=!1,vn=vn.then(()=>this.handleSMask(Mn,Tn,mn,Jt,un,Sn)),Cn.push([Rn,!0])):(0,wt.warn)("Unsupported SMask type");break;case"TR":const _n=this.handleTransferFunction(Mn);Cn.push([Rn,_n]);break;case"OP":case"op":case"OPM":case"BG":case"BG2":case"UCR":case"UCR2":case"TR2":case"HT":case"SM":case"SA":case"AIS":case"TK":(0,wt.info)("graphic state operator "+Rn);break;default:(0,wt.info)("Unknown graphic state operator "+Rn);break}}return vn.then(function(){Cn.length>0&&mn.addOp(wt.OPS.setGState,[Cn]),Pn&&fn.set(pn,kn,Cn)})}loadFont(Tn,An,mn,pn=null,Jt=null){const un=async()=>new cn({loadedName:"g_font_error",font:new ht.ErrorFont(`Font "${Tn}" is not available.`),dict:An,evaluatorOptions:this.options});let fn;if(An)An instanceof _t.Ref&&(fn=An);else{const Mn=mn.get("Font");Mn&&(fn=Mn.getRaw(Tn))}if(fn){if(this.parsingType3Font&&this.type3FontRefs.has(fn))return un();if(this.fontCache.has(fn))return this.fontCache.get(fn);An=this.xref.fetchIfRef(fn)}if(!(An instanceof _t.Dict)){if(!this.options.ignoreErrors&&!this.parsingType3Font)return(0,wt.warn)(`Font "${Tn}" is not available.`),un();(0,wt.warn)(`Font "${Tn}" is not available -- attempting to fallback to a default font.`),An=pn||on.fallbackFontDict}if(An.cacheKey&&this.fontCache.has(An.cacheKey))return this.fontCache.get(An.cacheKey);const Sn=new wt.PromiseCapability;let kn;try{kn=this.preEvaluateFont(An),kn.cssFontInfo=Jt}catch(Mn){return(0,wt.warn)(`loadFont - preEvaluateFont failed: "${Mn}".`),un()}const{descriptor:Pn,hash:Cn}=kn,vn=fn instanceof _t.Ref;let Rn;if(Cn&&Pn instanceof _t.Dict){const Mn=Pn.fontAliases||(Pn.fontAliases=Object.create(null));if(Mn[Cn]){const _n=Mn[Cn].aliasRef;if(vn&&_n&&this.fontCache.has(_n))return this.fontCache.putAlias(fn,_n),this.fontCache.get(fn)}else Mn[Cn]={fontID:this.idFactory.createFontId()};vn&&(Mn[Cn].aliasRef=fn),Rn=Mn[Cn].fontID}else Rn=this.idFactory.createFontId();return(0,wt.assert)(Rn==null?void 0:Rn.startsWith("f"),'The "fontID" must be (correctly) defined.'),vn?this.fontCache.put(fn,Sn.promise):(An.cacheKey=`cacheKey_${Rn}`,this.fontCache.put(An.cacheKey,Sn.promise)),An.loadedName=`${this.idFactory.getDocId()}_${Rn}`,this.translateFont(kn).then(Mn=>{Sn.resolve(new cn({loadedName:An.loadedName,font:Mn,dict:An,evaluatorOptions:this.options}))}).catch(Mn=>{(0,wt.warn)(`loadFont - translateFont failed: "${Mn}".`),Sn.resolve(new cn({loadedName:An.loadedName,font:new ht.ErrorFont(Mn instanceof Error?Mn.message:Mn),dict:An,evaluatorOptions:this.options}))}),Sn.promise}buildPath(Tn,An,mn,pn=!1){const Jt=Tn.length-1;if(mn||(mn=[]),Jt<0||Tn.fnArray[Jt]!==wt.OPS.constructPath){pn&&((0,wt.warn)(`Encountered path operator "${An}" inside of a text object.`),Tn.addOp(wt.OPS.save,null));let un;switch(An){case wt.OPS.rectangle:const fn=mn[0]+mn[2],Sn=mn[1]+mn[3];un=[Math.min(mn[0],fn),Math.max(mn[0],fn),Math.min(mn[1],Sn),Math.max(mn[1],Sn)];break;case wt.OPS.moveTo:case wt.OPS.lineTo:un=[mn[0],mn[0],mn[1],mn[1]];break;default:un=[1/0,-1/0,1/0,-1/0];break}Tn.addOp(wt.OPS.constructPath,[[An],mn,un]),pn&&Tn.addOp(wt.OPS.restore,null)}else{const un=Tn.argsArray[Jt];un[0].push(An),un[1].push(...mn);const fn=un[2];switch(An){case wt.OPS.rectangle:const Sn=mn[0]+mn[2],kn=mn[1]+mn[3];fn[0]=Math.min(fn[0],mn[0],Sn),fn[1]=Math.max(fn[1],mn[0],Sn),fn[2]=Math.min(fn[2],mn[1],kn),fn[3]=Math.max(fn[3],mn[1],kn);break;case wt.OPS.moveTo:case wt.OPS.lineTo:fn[0]=Math.min(fn[0],mn[0]),fn[1]=Math.max(fn[1],mn[0]),fn[2]=Math.min(fn[2],mn[1]),fn[3]=Math.max(fn[3],mn[1]);break}}}parseColorSpace({cs:Tn,resources:An,localColorSpaceCache:mn}){return Gt.ColorSpace.parseAsync({cs:Tn,xref:this.xref,resources:An,pdfFunctionFactory:this._pdfFunctionFactory,localColorSpaceCache:mn}).catch(pn=>{if(pn instanceof wt.AbortException)return null;if(this.options.ignoreErrors)return(0,wt.warn)(`parseColorSpace - ignoring ColorSpace: "${pn}".`),null;throw pn})}parseShading({shading:Tn,resources:An,localColorSpaceCache:mn,localShadingPatternCache:pn}){let Jt=pn.get(Tn);if(!Jt){var un=Vt.Pattern.parseShading(Tn,this.xref,An,this._pdfFunctionFactory,mn);const fn=un.getIR();Jt=`pattern_${this.idFactory.createObjId()}`,this.parsingType3Font&&(Jt=`${this.idFactory.getDocId()}_type3_${Jt}`),pn.set(Tn,Jt),this.parsingType3Font?this.handler.send("commonobj",[Jt,"Pattern",fn]):this.handler.send("obj",[Jt,this.pageIndex,"Pattern",fn])}return Jt}handleColorN(Tn,An,mn,pn,Jt,un,fn,Sn,kn,Pn){const Cn=mn.pop();if(Cn instanceof _t.Name){const vn=Jt.getRaw(Cn.name),Rn=vn instanceof _t.Ref&&kn.getByRef(vn);if(Rn)try{const _n=pn.base?pn.base.getRgb(mn,0):null,Dn=(0,Vt.getTilingPatternIR)(Rn.operatorListIR,Rn.dict,_n);Tn.addOp(An,Dn);return}catch{}const Mn=this.xref.fetchIfRef(vn);if(Mn){const _n=Mn instanceof Kt.BaseStream?Mn.dict:Mn,Dn=_n.get("PatternType");if(Dn===Ht.TILING){const Ln=pn.base?pn.base.getRgb(mn,0):null;return this.handleTilingType(An,Ln,un,Mn,_n,Tn,fn,kn)}else if(Dn===Ht.SHADING){const Ln=_n.get("Shading"),Un=_n.getArray("Matrix"),ts=this.parseShading({shading:Ln,resources:un,localColorSpaceCache:Sn,localShadingPatternCache:Pn});Tn.addOp(An,["Shading",ts,Un]);return}throw new wt.FormatError(`Unknown PatternType: ${Dn}`)}}throw new wt.FormatError(`Unknown PatternName: ${Cn}`)}_parseVisibilityExpression(Tn,An,mn){if(++An>10){(0,wt.warn)("Visibility expression is too deeply nested");return}const Jt=Tn.length,un=this.xref.fetchIfRef(Tn[0]);if(Jt<2||!(un instanceof _t.Name)){(0,wt.warn)("Invalid visibility expression");return}switch(un.name){case"And":case"Or":case"Not":mn.push(un.name);break;default:(0,wt.warn)(`Invalid operator ${un.name} in visibility expression`);return}for(let fn=1;fn<Jt;fn++){const Sn=Tn[fn],kn=this.xref.fetchIfRef(Sn);if(Array.isArray(kn)){const Pn=[];mn.push(Pn),this._parseVisibilityExpression(kn,An,Pn)}else Sn instanceof _t.Ref&&mn.push(Sn.toString())}}async parseMarkedContentProps(Tn,An){var Jt;let mn;if(Tn instanceof _t.Name)mn=An.get("Properties").get(Tn.name);else if(Tn instanceof _t.Dict)mn=Tn;else throw new wt.FormatError("Optional content properties malformed.");const pn=(Jt=mn.get("Type"))==null?void 0:Jt.name;if(pn==="OCG")return{type:pn,id:mn.objId};if(pn==="OCMD"){const un=mn.get("VE");if(Array.isArray(un)){const Sn=[];if(this._parseVisibilityExpression(un,0,Sn),Sn.length>0)return{type:"OCMD",expression:Sn}}const fn=mn.get("OCGs");if(Array.isArray(fn)||fn instanceof _t.Dict){const Sn=[];if(Array.isArray(fn))for(const kn of fn)Sn.push(kn.toString());else Sn.push(fn.objId);return{type:pn,ids:Sn,policy:mn.get("P")instanceof _t.Name?mn.get("P").name:null,expression:null}}else if(fn instanceof _t.Ref)return{type:pn,id:fn.toString()}}return null}getOperatorList({stream:Tn,task:An,resources:mn,operatorList:pn,initialState:Jt=null,fallbackFontDict:un=null}){if(mn||(mn=_t.Dict.empty),Jt||(Jt=new xn),!pn)throw new Error('getOperatorList: missing "operatorList" parameter');const fn=this,Sn=this.xref;let kn=!1;const Pn=new jt.LocalImageCache,Cn=new jt.LocalColorSpaceCache,vn=new jt.LocalGStateCache,Rn=new jt.LocalTilingPatternCache,Mn=new Map,_n=mn.get("XObject")||_t.Dict.empty,Dn=mn.get("Pattern")||_t.Dict.empty,Ln=new rn(Jt),Un=new wn(Tn,Sn,Ln),ts=new ln;function es(Qn){for(let Yn=0,zn=Un.savedStatesDepth;Yn<zn;Yn++)pn.addOp(wt.OPS.restore,[])}return new Promise(function Qn(Yn,zn){const ns=function(os){Promise.all([os,pn.ready]).then(function(){try{Qn(Yn,zn)}catch(ps){zn(ps)}},zn)};An.ensureNotTerminated(),ts.reset();const ls={};let ds,Bn,Hn,Xn,cs,rs;for(;!(ds=ts.check())&&(ls.args=null,!!Un.read(ls));){let os=ls.args,ps=ls.fn;switch(ps|0){case wt.OPS.paintXObject:if(rs=os[0]instanceof _t.Name,cs=os[0].name,rs){const fs=Pn.getByName(cs);if(fs){pn.addImageOps(fs.fn,fs.args,fs.optionalContent),Qt(fs),os=null;continue}}ns(new Promise(function(fs,Ss){if(!rs)throw new wt.FormatError("XObject must be referred to by name.");let Ls=_n.getRaw(cs);if(Ls instanceof _t.Ref){const $s=Pn.getByRef(Ls)||fn._regionalImageCache.getByRef(Ls);if($s){pn.addImageOps($s.fn,$s.args,$s.optionalContent),Qt($s),fs();return}const Es=fn.globalImageCache.getData(Ls,fn.pageIndex);if(Es){pn.addDependency(Es.objId),pn.addImageOps(Es.fn,Es.args,Es.optionalContent),fs();return}Ls=Sn.fetch(Ls)}if(!(Ls instanceof Kt.BaseStream))throw new wt.FormatError("XObject should be a stream");const Fs=Ls.dict.get("Subtype");if(!(Fs instanceof _t.Name))throw new wt.FormatError("XObject should have a Name subtype");if(Fs.name==="Form"){Ln.save(),fn.buildFormXObject(mn,Ls,null,pn,An,Ln.state.clone(),Cn).then(function(){Ln.restore(),fs()},Ss);return}else if(Fs.name==="Image"){fn.buildPaintImageXObject({resources:mn,image:Ls,operatorList:pn,cacheKey:cs,localImageCache:Pn,localColorSpaceCache:Cn}).then(fs,Ss);return}else if(Fs.name==="PS")(0,wt.info)("Ignored XObject subtype PS");else throw new wt.FormatError(`Unhandled XObject subtype ${Fs.name}`);fs()}).catch(function(fs){if(!(fs instanceof wt.AbortException)){if(fn.options.ignoreErrors){(0,wt.warn)(`getOperatorList - ignoring XObject: "${fs}".`);return}throw fs}}));return;case wt.OPS.setFont:var xs=os[1];ns(fn.handleSetFont(mn,os,null,pn,An,Ln.state,un).then(function(fs){pn.addDependency(fs),pn.addOp(wt.OPS.setFont,[fs,xs])}));return;case wt.OPS.beginText:kn=!0;break;case wt.OPS.endText:kn=!1;break;case wt.OPS.endInlineImage:var Jn=os[0].cacheKey;if(Jn){const fs=Pn.getByName(Jn);if(fs){pn.addImageOps(fs.fn,fs.args,fs.optionalContent),Qt(fs),os=null;continue}}ns(fn.buildPaintImageXObject({resources:mn,image:os[0],isInline:!0,operatorList:pn,cacheKey:Jn,localImageCache:Pn,localColorSpaceCache:Cn}));return;case wt.OPS.showText:if(!Ln.state.font){fn.ensureStateFont(Ln.state);continue}os[0]=fn.handleText(os[0],Ln.state);break;case wt.OPS.showSpacedText:if(!Ln.state.font){fn.ensureStateFont(Ln.state);continue}var Wn=[],Zn=Ln.state;for(const fs of os[0])typeof fs=="string"?Wn.push(...fn.handleText(fs,Zn)):typeof fs=="number"&&Wn.push(fs);os[0]=Wn,ps=wt.OPS.showText;break;case wt.OPS.nextLineShowText:if(!Ln.state.font){fn.ensureStateFont(Ln.state);continue}pn.addOp(wt.OPS.nextLine),os[0]=fn.handleText(os[0],Ln.state),ps=wt.OPS.showText;break;case wt.OPS.nextLineSetSpacingShowText:if(!Ln.state.font){fn.ensureStateFont(Ln.state);continue}pn.addOp(wt.OPS.nextLine),pn.addOp(wt.OPS.setWordSpacing,[os.shift()]),pn.addOp(wt.OPS.setCharSpacing,[os.shift()]),os[0]=fn.handleText(os[0],Ln.state),ps=wt.OPS.showText;break;case wt.OPS.setTextRenderingMode:Ln.state.textRenderingMode=os[0];break;case wt.OPS.setFillColorSpace:{const fs=Gt.ColorSpace.getCached(os[0],Sn,Cn);if(fs){Ln.state.fillColorSpace=fs;continue}ns(fn.parseColorSpace({cs:os[0],resources:mn,localColorSpaceCache:Cn}).then(function(Ss){Ss&&(Ln.state.fillColorSpace=Ss)}));return}case wt.OPS.setStrokeColorSpace:{const fs=Gt.ColorSpace.getCached(os[0],Sn,Cn);if(fs){Ln.state.strokeColorSpace=fs;continue}ns(fn.parseColorSpace({cs:os[0],resources:mn,localColorSpaceCache:Cn}).then(function(Ss){Ss&&(Ln.state.strokeColorSpace=Ss)}));return}case wt.OPS.setFillColor:Xn=Ln.state.fillColorSpace,os=Xn.getRgb(os,0),ps=wt.OPS.setFillRGBColor;break;case wt.OPS.setStrokeColor:Xn=Ln.state.strokeColorSpace,os=Xn.getRgb(os,0),ps=wt.OPS.setStrokeRGBColor;break;case wt.OPS.setFillGray:Ln.state.fillColorSpace=Gt.ColorSpace.singletons.gray,os=Gt.ColorSpace.singletons.gray.getRgb(os,0),ps=wt.OPS.setFillRGBColor;break;case wt.OPS.setStrokeGray:Ln.state.strokeColorSpace=Gt.ColorSpace.singletons.gray,os=Gt.ColorSpace.singletons.gray.getRgb(os,0),ps=wt.OPS.setStrokeRGBColor;break;case wt.OPS.setFillCMYKColor:Ln.state.fillColorSpace=Gt.ColorSpace.singletons.cmyk,os=Gt.ColorSpace.singletons.cmyk.getRgb(os,0),ps=wt.OPS.setFillRGBColor;break;case wt.OPS.setStrokeCMYKColor:Ln.state.strokeColorSpace=Gt.ColorSpace.singletons.cmyk,os=Gt.ColorSpace.singletons.cmyk.getRgb(os,0),ps=wt.OPS.setStrokeRGBColor;break;case wt.OPS.setFillRGBColor:Ln.state.fillColorSpace=Gt.ColorSpace.singletons.rgb,os=Gt.ColorSpace.singletons.rgb.getRgb(os,0);break;case wt.OPS.setStrokeRGBColor:Ln.state.strokeColorSpace=Gt.ColorSpace.singletons.rgb,os=Gt.ColorSpace.singletons.rgb.getRgb(os,0);break;case wt.OPS.setFillColorN:if(Xn=Ln.state.fillColorSpace,Xn.name==="Pattern"){ns(fn.handleColorN(pn,wt.OPS.setFillColorN,os,Xn,Dn,mn,An,Cn,Rn,Mn));return}os=Xn.getRgb(os,0),ps=wt.OPS.setFillRGBColor;break;case wt.OPS.setStrokeColorN:if(Xn=Ln.state.strokeColorSpace,Xn.name==="Pattern"){ns(fn.handleColorN(pn,wt.OPS.setStrokeColorN,os,Xn,Dn,mn,An,Cn,Rn,Mn));return}os=Xn.getRgb(os,0),ps=wt.OPS.setStrokeRGBColor;break;case wt.OPS.shadingFill:var us=mn.get("Shading");if(!us)throw new wt.FormatError("No shading resource found");var hs=us.get(os[0].name);if(!hs)throw new wt.FormatError("No shading object found");os=[fn.parseShading({shading:hs,resources:mn,localColorSpaceCache:Cn,localShadingPatternCache:Mn})],ps=wt.OPS.shadingFill;break;case wt.OPS.setGState:if(rs=os[0]instanceof _t.Name,cs=os[0].name,rs){const fs=vn.getByName(cs);if(fs){fs.length>0&&pn.addOp(wt.OPS.setGState,[fs]),os=null;continue}}ns(new Promise(function(fs,Ss){if(!rs)throw new wt.FormatError("GState must be referred to by name.");const Ls=mn.get("ExtGState");if(!(Ls instanceof _t.Dict))throw new wt.FormatError("ExtGState should be a dictionary.");const Fs=Ls.get(cs);if(!(Fs instanceof _t.Dict))throw new wt.FormatError("GState should be a dictionary.");fn.setGState({resources:mn,gState:Fs,operatorList:pn,cacheKey:cs,task:An,stateManager:Ln,localGStateCache:vn,localColorSpaceCache:Cn}).then(fs,Ss)}).catch(function(fs){if(!(fs instanceof wt.AbortException)){if(fn.options.ignoreErrors){(0,wt.warn)(`getOperatorList - ignoring ExtGState: "${fs}".`);return}throw fs}}));return;case wt.OPS.moveTo:case wt.OPS.lineTo:case wt.OPS.curveTo:case wt.OPS.curveTo2:case wt.OPS.curveTo3:case wt.OPS.closePath:case wt.OPS.rectangle:fn.buildPath(pn,ps,os,kn);continue;case wt.OPS.markPoint:case wt.OPS.markPointProps:case wt.OPS.beginCompat:case wt.OPS.endCompat:continue;case wt.OPS.beginMarkedContentProps:if(!(os[0]instanceof _t.Name)){(0,wt.warn)(`Expected name for beginMarkedContentProps arg0=${os[0]}`);continue}if(os[0].name==="OC"){ns(fn.parseMarkedContentProps(os[1],mn).then(fs=>{pn.addOp(wt.OPS.beginMarkedContentProps,["OC",fs])}).catch(fs=>{if(!(fs instanceof wt.AbortException)){if(fn.options.ignoreErrors){(0,wt.warn)(`getOperatorList - ignoring beginMarkedContentProps: "${fs}".`);return}throw fs}}));return}os=[os[0].name,os[1]instanceof _t.Dict?os[1].get("MCID"):null];break;case wt.OPS.beginMarkedContent:case wt.OPS.endMarkedContent:default:if(os!==null){for(Bn=0,Hn=os.length;Bn<Hn&&!(os[Bn]instanceof _t.Dict);Bn++);if(Bn<Hn){(0,wt.warn)("getOperatorList - ignoring operator: "+ps);continue}}}pn.addOp(ps,os)}if(ds){ns(zt);return}es(),Yn()}).catch(Qn=>{if(!(Qn instanceof wt.AbortException)){if(this.options.ignoreErrors){(0,wt.warn)(`getOperatorList - ignoring errors during "${An.name}" task: "${Qn}".`),es();return}throw Qn}})}getTextContent({stream:Tn,task:An,resources:mn,stateManager:pn=null,includeMarkedContent:Jt=!1,sink:un,seenStyles:fn=new Set,viewBox:Sn,markedContentData:kn=null,disableNormalization:Pn=!1}){mn||(mn=_t.Dict.empty),pn||(pn=new rn(new an)),Jt&&(kn||(kn={level:0}));const Cn={items:[],styles:Object.create(null)},vn={initialized:!1,str:[],totalWidth:0,totalHeight:0,width:0,height:0,vertical:!1,prevTransform:null,textAdvanceScale:0,spaceInFlowMin:0,spaceInFlowMax:0,trackingSpaceMin:1/0,negativeSpaceMax:-1/0,notASpace:-1/0,transform:null,fontName:null,hasEOL:!1},Rn=[" "," "];let Mn=0;function _n(Es){const Ps=(Mn+1)%2,Rs=Rn[Mn]!==" "&&Rn[Ps]===" ";return Rn[Mn]=Es,Mn=Ps,Rs}function Dn(){return Rn[Mn]!==" "&&Rn[(Mn+1)%2]===" "}function Ln(){Rn[0]=Rn[1]=" ",Mn=0}const Un=.102,ts=.03,es=-.2,Qn=.102,Yn=.6,zn=.25,ns=this,ls=this.xref,ds=[];let Bn=null;const Hn=new jt.LocalImageCache,Xn=new jt.LocalGStateCache,cs=new wn(Tn,ls,pn);let rs;function xs({width:Es=0,height:Ps=0,transform:Rs=vn.prevTransform,fontName:qs=vn.fontName}){Cn.items.push({str:" ",dir:"ltr",width:Es,height:Ps,transform:Rs,fontName:qs,hasEOL:!1})}function Jn(){const Es=rs.font,Ps=[rs.fontSize*rs.textHScale,0,0,rs.fontSize,0,rs.textRise];if(Es.isType3Font&&(rs.fontSize<=1||Es.isCharBBox)&&!(0,wt.isArrayEqual)(rs.fontMatrix,wt.FONT_IDENTITY_MATRIX)){const Rs=Es.bbox[3]-Es.bbox[1];Rs>0&&(Ps[3]*=Rs*rs.fontMatrix[3])}return wt.Util.transform(rs.ctm,wt.Util.transform(rs.textMatrix,Ps))}function Wn(){if(vn.initialized)return vn;const{font:Es,loadedName:Ps}=rs;fn.has(Ps)||(fn.add(Ps),Cn.styles[Ps]={fontFamily:Es.fallbackName,ascent:Es.ascent,descent:Es.descent,vertical:Es.vertical}),vn.fontName=Ps;const Rs=vn.transform=Jn();Es.vertical?(vn.width=vn.totalWidth=Math.hypot(Rs[0],Rs[1]),vn.height=vn.totalHeight=0,vn.vertical=!0):(vn.width=vn.totalWidth=0,vn.height=vn.totalHeight=Math.hypot(Rs[2],Rs[3]),vn.vertical=!1);const qs=Math.hypot(rs.textLineMatrix[0],rs.textLineMatrix[1]),vr=Math.hypot(rs.ctm[0],rs.ctm[1]);vn.textAdvanceScale=vr*qs;const{fontSize:lr}=rs;return vn.trackingSpaceMin=lr*Un,vn.notASpace=lr*ts,vn.negativeSpaceMax=lr*es,vn.spaceInFlowMin=lr*Qn,vn.spaceInFlowMax=lr*Yn,vn.hasEOL=!1,vn.initialized=!0,vn}function Zn(){if(!vn.initialized)return;const Es=Math.hypot(rs.textLineMatrix[0],rs.textLineMatrix[1]),Rs=Math.hypot(rs.ctm[0],rs.ctm[1])*Es;Rs!==vn.textAdvanceScale&&(vn.vertical?(vn.totalHeight+=vn.height*vn.textAdvanceScale,vn.height=0):(vn.totalWidth+=vn.width*vn.textAdvanceScale,vn.width=0),vn.textAdvanceScale=Rs)}function us(Es){let Ps=Es.str.join("");Pn||(Ps=(0,wt.normalizeUnicode)(Ps));const Rs=(0,Bt.bidi)(Ps,-1,Es.vertical);return{str:Rs.str,dir:Rs.dir,width:Math.abs(Es.totalWidth),height:Math.abs(Es.totalHeight),transform:Es.transform,fontName:Es.fontName,hasEOL:Es.hasEOL}}function hs(Es,Ps){return ns.loadFont(Es,Ps,mn).then(function(Rs){return Rs.font.isType3Font?Rs.loadType3Data(ns,mn,An).catch(function(){}).then(function(){return Rs}):Rs}).then(function(Rs){rs.loadedName=Rs.loadedName,rs.font=Rs.font,rs.fontMatrix=Rs.font.fontMatrix||wt.FONT_IDENTITY_MATRIX})}function os(Es,Ps,Rs){const qs=Math.hypot(Rs[0],Rs[1]);return[(Rs[0]*Es+Rs[1]*Ps)/qs,(Rs[2]*Es+Rs[3]*Ps)/qs]}function ps(Es){var ys;const Ps=Jn();let Rs=Ps[4],qs=Ps[5];if((ys=rs.font)!=null&&ys.vertical){if(Rs<Sn[0]||Rs>Sn[2]||qs+Es<Sn[1]||qs>Sn[3])return!1}else if(Rs+Es<Sn[0]||Rs>Sn[2]||qs<Sn[1]||qs>Sn[3])return!1;if(!rs.font||!vn.prevTransform)return!0;let vr=vn.prevTransform[4],lr=vn.prevTransform[5];if(vr===Rs&&lr===qs)return!0;let nr=-1;switch(Ps[0]&&Ps[1]===0&&Ps[2]===0?nr=Ps[0]>0?0:180:Ps[1]&&Ps[0]===0&&Ps[3]===0&&(nr=Ps[1]>0?90:270),nr){case 0:break;case 90:[Rs,qs]=[qs,Rs],[vr,lr]=[lr,vr];break;case 180:[Rs,qs,vr,lr]=[-Rs,-qs,-vr,-lr];break;case 270:[Rs,qs]=[-qs,-Rs],[vr,lr]=[-lr,-vr];break;default:[Rs,qs]=os(Rs,qs,Ps),[vr,lr]=os(vr,lr,vn.prevTransform)}if(rs.font.vertical){const As=(lr-qs)/vn.textAdvanceScale,_s=Rs-vr,js=Math.sign(vn.height);return As<js*vn.negativeSpaceMax?Math.abs(_s)>.5*vn.width?(fs(),!0):(Ln(),Ls(),!0):Math.abs(_s)>vn.width?(fs(),!0):(As<=js*vn.notASpace&&Ln(),As<=js*vn.trackingSpaceMin?Dn()?(Ln(),Ls(),xs({height:Math.abs(As)})):vn.height+=As:Ss(As,vn.prevTransform,js)||(vn.str.length===0?(Ln(),xs({height:Math.abs(As)})):vn.height+=As),Math.abs(_s)>vn.width*zn&&Ls(),!0)}const Nr=(Rs-vr)/vn.textAdvanceScale,Gr=qs-lr,vs=Math.sign(vn.width);return Nr<vs*vn.negativeSpaceMax?Math.abs(Gr)>.5*vn.height?(fs(),!0):(Ln(),Ls(),!0):Math.abs(Gr)>vn.height?(fs(),!0):(Nr<=vs*vn.notASpace&&Ln(),Nr<=vs*vn.trackingSpaceMin?Dn()?(Ln(),Ls(),xs({width:Math.abs(Nr)})):vn.width+=Nr:Ss(Nr,vn.prevTransform,vs)||(vn.str.length===0?(Ln(),xs({width:Math.abs(Nr)})):vn.width+=Nr),Math.abs(Gr)>vn.height*zn&&Ls(),!0)}function ws({chars:Es,extraSpacing:Ps}){const Rs=rs.font;if(!Es){const lr=rs.charSpacing+Ps;lr&&(Rs.vertical?rs.translateTextMatrix(0,-lr):rs.translateTextMatrix(lr*rs.textHScale,0));return}const qs=Rs.charsToGlyphs(Es),vr=rs.fontMatrix[0]*rs.fontSize;for(let lr=0,nr=qs.length;lr<nr;lr++){const Nr=qs[lr],{category:Gr}=Nr;if(Gr.isInvisibleFormatMark)continue;let vs=rs.charSpacing+(lr+1===nr?Ps:0),ys=Nr.width;Rs.vertical&&(ys=Nr.vmetric?Nr.vmetric[0]:-ys);let As=ys*vr;if(Gr.isWhitespace){Rs.vertical?(vs+=-As+rs.wordSpacing,rs.translateTextMatrix(0,-vs)):(vs+=As+rs.wordSpacing,rs.translateTextMatrix(vs*rs.textHScale,0)),_n(" ");continue}if(!Gr.isZeroWidthDiacritic&&!ps(As)){Rs.vertical?rs.translateTextMatrix(0,As):rs.translateTextMatrix(As*rs.textHScale,0);continue}const _s=Wn();Gr.isZeroWidthDiacritic&&(As=0),Rs.vertical?(rs.translateTextMatrix(0,As),As=Math.abs(As),_s.height+=As):(As*=rs.textHScale,rs.translateTextMatrix(As,0),_s.width+=As),As&&(_s.prevTransform=Jn());const js=Nr.unicode;_n(js)&&_s.str.push(" "),_s.str.push(js),vs&&(Rs.vertical?rs.translateTextMatrix(0,-vs):rs.translateTextMatrix(vs*rs.textHScale,0))}}function fs(){Ln(),vn.initialized?(vn.hasEOL=!0,Ls()):Cn.items.push({str:"",dir:"ltr",width:0,height:0,transform:Jn(),fontName:rs.loadedName,hasEOL:!0})}function Ss(Es,Ps,Rs){if(Rs*vn.spaceInFlowMin<=Es&&Es<=Rs*vn.spaceInFlowMax)return vn.initialized&&(Ln(),vn.str.push(" ")),!1;const qs=vn.fontName;let vr=0;return vn.vertical&&(vr=Es,Es=0),Ls(),Ln(),xs({width:Math.abs(Es),height:Math.abs(vr),transform:Ps||Jn(),fontName:qs}),!0}function Ls(){!vn.initialized||!vn.str||(vn.vertical?vn.totalHeight+=vn.height*vn.textAdvanceScale:vn.totalWidth+=vn.width*vn.textAdvanceScale,Cn.items.push(us(vn)),vn.initialized=!1,vn.str.length=0)}function Fs(Es=!1){const Ps=Cn.items.length;Ps!==0&&(Es&&Ps<sn||(un.enqueue(Cn,Ps),Cn.items=[],Cn.styles=Object.create(null)))}const $s=new ln;return new Promise(function Es(Ps,Rs){const qs=function(As){Fs(!0),Promise.all([As,un.ready]).then(function(){try{Es(Ps,Rs)}catch(_s){Rs(_s)}},Rs)};An.ensureNotTerminated(),$s.reset();const vr={};let lr,nr=[];for(;!(lr=$s.check())&&(nr.length=0,vr.args=nr,!!cs.read(vr));){const As=rs;rs=pn.state;const _s=vr.fn;switch(nr=vr.args,_s|0){case wt.OPS.setFont:var Nr=nr[0].name,Gr=nr[1];if(rs.font&&Nr===rs.fontName&&Gr===rs.fontSize)break;Ls(),rs.fontName=Nr,rs.fontSize=Gr,qs(hs(Nr,null));return;case wt.OPS.setTextRise:rs.textRise=nr[0];break;case wt.OPS.setHScale:rs.textHScale=nr[0]/100;break;case wt.OPS.setLeading:rs.leading=nr[0];break;case wt.OPS.moveText:rs.translateTextLineMatrix(nr[0],nr[1]),rs.textMatrix=rs.textLineMatrix.slice();break;case wt.OPS.setLeadingMoveText:rs.leading=-nr[1],rs.translateTextLineMatrix(nr[0],nr[1]),rs.textMatrix=rs.textLineMatrix.slice();break;case wt.OPS.nextLine:rs.carriageReturn();break;case wt.OPS.setTextMatrix:rs.setTextMatrix(nr[0],nr[1],nr[2],nr[3],nr[4],nr[5]),rs.setTextLineMatrix(nr[0],nr[1],nr[2],nr[3],nr[4],nr[5]),Zn();break;case wt.OPS.setCharSpacing:rs.charSpacing=nr[0];break;case wt.OPS.setWordSpacing:rs.wordSpacing=nr[0];break;case wt.OPS.beginText:rs.textMatrix=wt.IDENTITY_MATRIX.slice(),rs.textLineMatrix=wt.IDENTITY_MATRIX.slice();break;case wt.OPS.showSpacedText:if(!pn.state.font){ns.ensureStateFont(pn.state);continue}const js=(rs.font.vertical?1:-1)*rs.fontSize/1e3,er=nr[0];for(let Os=0,Ts=er.length;Os<Ts;Os++){const Ws=er[Os];if(typeof Ws=="string")ds.push(Ws);else if(typeof Ws=="number"&&Ws!==0){const ur=ds.join("");ds.length=0,ws({chars:ur,extraSpacing:Ws*js})}}if(ds.length>0){const Os=ds.join("");ds.length=0,ws({chars:Os,extraSpacing:0})}break;case wt.OPS.showText:if(!pn.state.font){ns.ensureStateFont(pn.state);continue}ws({chars:nr[0],extraSpacing:0});break;case wt.OPS.nextLineShowText:if(!pn.state.font){ns.ensureStateFont(pn.state);continue}rs.carriageReturn(),ws({chars:nr[0],extraSpacing:0});break;case wt.OPS.nextLineSetSpacingShowText:if(!pn.state.font){ns.ensureStateFont(pn.state);continue}rs.wordSpacing=nr[0],rs.charSpacing=nr[1],rs.carriageReturn(),ws({chars:nr[2],extraSpacing:0});break;case wt.OPS.paintXObject:Ls(),Bn||(Bn=mn.get("XObject")||_t.Dict.empty);var vs=nr[0]instanceof _t.Name,ys=nr[0].name;if(vs&&Hn.getByName(ys))break;qs(new Promise(function(Os,Ts){if(!vs)throw new wt.FormatError("XObject must be referred to by name.");let Ws=Bn.getRaw(ys);if(Ws instanceof _t.Ref){if(Hn.getByRef(Ws)){Os();return}if(ns.globalImageCache.getData(Ws,ns.pageIndex)){Os();return}Ws=ls.fetch(Ws)}if(!(Ws instanceof Kt.BaseStream))throw new wt.FormatError("XObject should be a stream");const ur=Ws.dict.get("Subtype");if(!(ur instanceof _t.Name))throw new wt.FormatError("XObject should have a Name subtype");if(ur.name!=="Form"){Hn.set(ys,Ws.dict.objId,!0),Os();return}const br=pn.state.clone(),Js=new rn(br),rr=Ws.dict.getArray("Matrix");Array.isArray(rr)&&rr.length===6&&Js.transform(rr),Fs();const mr={enqueueInvoked:!1,enqueue(Xs,hr){this.enqueueInvoked=!0,un.enqueue(Xs,hr)},get desiredSize(){return un.desiredSize},get ready(){return un.ready}};ns.getTextContent({stream:Ws,task:An,resources:Ws.dict.get("Resources")||mn,stateManager:Js,includeMarkedContent:Jt,sink:mr,seenStyles:fn,viewBox:Sn,markedContentData:kn,disableNormalization:Pn}).then(function(){mr.enqueueInvoked||Hn.set(ys,Ws.dict.objId,!0),Os()},Ts)}).catch(function(Os){if(!(Os instanceof wt.AbortException)){if(ns.options.ignoreErrors){(0,wt.warn)(`getTextContent - ignoring XObject: "${Os}".`);return}throw Os}}));return;case wt.OPS.setGState:if(vs=nr[0]instanceof _t.Name,ys=nr[0].name,vs&&Xn.getByName(ys))break;qs(new Promise(function(Os,Ts){if(!vs)throw new wt.FormatError("GState must be referred to by name.");const Ws=mn.get("ExtGState");if(!(Ws instanceof _t.Dict))throw new wt.FormatError("ExtGState should be a dictionary.");const ur=Ws.get(ys);if(!(ur instanceof _t.Dict))throw new wt.FormatError("GState should be a dictionary.");const br=ur.get("Font");if(!br){Xn.set(ys,ur.objId,!0),Os();return}Ls(),rs.fontName=null,rs.fontSize=br[1],hs(null,br[0]).then(Os,Ts)}).catch(function(Os){if(!(Os instanceof wt.AbortException)){if(ns.options.ignoreErrors){(0,wt.warn)(`getTextContent - ignoring ExtGState: "${Os}".`);return}throw Os}}));return;case wt.OPS.beginMarkedContent:Ls(),Jt&&(kn.level++,Cn.items.push({type:"beginMarkedContent",tag:nr[0]instanceof _t.Name?nr[0].name:null}));break;case wt.OPS.beginMarkedContentProps:if(Ls(),Jt){kn.level++;let Os=null;nr[1]instanceof _t.Dict&&(Os=nr[1].get("MCID")),Cn.items.push({type:"beginMarkedContentProps",id:Number.isInteger(Os)?`${ns.idFactory.getPageObjId()}_mc${Os}`:null,tag:nr[0]instanceof _t.Name?nr[0].name:null})}break;case wt.OPS.endMarkedContent:if(Ls(),Jt){if(kn.level===0)break;kn.level--,Cn.items.push({type:"endMarkedContent"})}break;case wt.OPS.restore:As&&(As.font!==rs.font||As.fontSize!==rs.fontSize||As.fontName!==rs.fontName)&&Ls();break}if(Cn.items.length>=un.desiredSize){lr=!0;break}}if(lr){qs(zt);return}Ls(),Fs(),Ps()}).catch(Es=>{if(!(Es instanceof wt.AbortException)){if(this.options.ignoreErrors){(0,wt.warn)(`getTextContent - ignoring errors during "${An.name}" task: "${Es}".`),Ls(),Fs();return}throw Es}})}extractDataStructures(Tn,An,mn){const pn=this.xref;let Jt;const un=this.readToUnicode(mn.toUnicode||Tn.get("ToUnicode")||An.get("ToUnicode"));if(mn.composite){const vn=Tn.get("CIDSystemInfo");vn instanceof _t.Dict&&(mn.cidSystemInfo={registry:(0,wt.stringToPDFString)(vn.get("Registry")),ordering:(0,wt.stringToPDFString)(vn.get("Ordering")),supplement:vn.get("Supplement")});try{const Rn=Tn.get("CIDToGIDMap");Rn instanceof Kt.BaseStream&&(Jt=Rn.getBytes())}catch(Rn){if(!this.options.ignoreErrors)throw Rn;(0,wt.warn)(`extractDataStructures - ignoring CIDToGIDMap data: "${Rn}".`)}}const fn=[];let Sn=null,kn;if(Tn.has("Encoding")){if(kn=Tn.get("Encoding"),kn instanceof _t.Dict){if(Sn=kn.get("BaseEncoding"),Sn=Sn instanceof _t.Name?Sn.name:null,kn.has("Differences")){const vn=kn.get("Differences");let Rn=0;for(const Mn of vn){const _n=pn.fetchIfRef(Mn);if(typeof _n=="number")Rn=_n;else if(_n instanceof _t.Name)fn[Rn++]=_n.name;else throw new wt.FormatError(`Invalid entry in 'Differences' array: ${_n}`)}}}else if(kn instanceof _t.Name)Sn=kn.name;else{const vn="Encoding is not a Name nor a Dict";if(!this.options.ignoreErrors)throw new wt.FormatError(vn);(0,wt.warn)(vn)}Sn!=="MacRomanEncoding"&&Sn!=="MacExpertEncoding"&&Sn!=="WinAnsiEncoding"&&(Sn=null)}const Pn=!mn.file||mn.isInternalFont,Cn=(0,Ft.getSymbolsFonts)()[mn.name];if(Sn&&Pn&&Cn&&(Sn=null),Sn)mn.defaultEncoding=(0,vt.getEncoding)(Sn);else{const vn=!!(mn.flags&hn.FontFlags.Symbolic),Rn=!!(mn.flags&hn.FontFlags.Nonsymbolic);kn=vt.StandardEncoding,mn.type==="TrueType"&&!Rn&&(kn=vt.WinAnsiEncoding),(vn||Cn)&&(kn=vt.MacRomanEncoding,Pn&&(/Symbol/i.test(mn.name)?kn=vt.SymbolSetEncoding:/Dingbats/i.test(mn.name)?kn=vt.ZapfDingbatsEncoding:/Wingdings/i.test(mn.name)&&(kn=vt.WinAnsiEncoding))),mn.defaultEncoding=kn}return mn.differences=fn,mn.baseEncodingName=Sn,mn.hasEncoding=!!Sn||fn.length>0,mn.dict=Tn,un.then(vn=>(mn.toUnicode=vn,this.buildToUnicode(mn))).then(vn=>(mn.toUnicode=vn,Jt&&(mn.cidToGidMap=this.readCidToGidMap(Jt,vn)),mn))}_simpleFontToUnicode(Tn,An=!1){(0,wt.assert)(!Tn.composite,"Must be a simple font.");const mn=[],pn=Tn.defaultEncoding.slice(),Jt=Tn.baseEncodingName,un=Tn.differences;for(const Sn in un){const kn=un[Sn];kn!==".notdef"&&(pn[Sn]=kn)}const fn=(0,gn.getGlyphsUnicode)();for(const Sn in pn){let kn=pn[Sn];if(kn==="")continue;let Pn=fn[kn];if(Pn!==void 0){mn[Sn]=String.fromCharCode(Pn);continue}let Cn=0;switch(kn[0]){case"G":kn.length===3&&(Cn=parseInt(kn.substring(1),16));break;case"g":kn.length===5&&(Cn=parseInt(kn.substring(1),16));break;case"C":case"c":if(kn.length>=3&&kn.length<=4){const vn=kn.substring(1);if(An){Cn=parseInt(vn,16);break}if(Cn=+vn,Number.isNaN(Cn)&&Number.isInteger(parseInt(vn,16)))return this._simpleFontToUnicode(Tn,!0)}break;case"u":Pn=(0,bn.getUnicodeForGlyph)(kn,fn),Pn!==-1&&(Cn=Pn);break;default:switch(kn){case"f_h":case"f_t":case"T_h":mn[Sn]=kn.replaceAll("_","");continue}break}if(Cn>0&&Cn<=1114111&&Number.isInteger(Cn)){if(Jt&&Cn===+Sn){const vn=(0,vt.getEncoding)(Jt);if(vn&&(kn=vn[Sn])){mn[Sn]=String.fromCharCode(fn[kn]);continue}}mn[Sn]=String.fromCodePoint(Cn)}}return mn}async buildToUnicode(Tn){var An;if(Tn.hasIncludedToUnicodeMap=((An=Tn.toUnicode)==null?void 0:An.length)>0,Tn.hasIncludedToUnicodeMap)return!Tn.composite&&Tn.hasEncoding&&(Tn.fallbackToUnicode=this._simpleFontToUnicode(Tn)),Tn.toUnicode;if(!Tn.composite)return new Lt.ToUnicodeMap(this._simpleFontToUnicode(Tn));if(Tn.composite&&(Tn.cMap.builtInCMap&&!(Tn.cMap instanceof kt.IdentityCMap)||Tn.cidSystemInfo.registry==="Adobe"&&(Tn.cidSystemInfo.ordering==="GB1"||Tn.cidSystemInfo.ordering==="CNS1"||Tn.cidSystemInfo.ordering==="Japan1"||Tn.cidSystemInfo.ordering==="Korea1"))){const{registry:mn,ordering:pn}=Tn.cidSystemInfo,Jt=_t.Name.get(`${mn}-${pn}-UCS2`),un=await kt.CMapFactory.create({encoding:Jt,fetchBuiltInCMap:this._fetchBuiltInCMapBound,useCMap:null}),fn=[],Sn=[];return Tn.cMap.forEach(function(kn,Pn){if(Pn>65535)throw new wt.FormatError("Max size of CID is 65,535");const Cn=un.lookup(Pn);if(Cn){Sn.length=0;for(let vn=0,Rn=Cn.length;vn<Rn;vn+=2)Sn.push((Cn.charCodeAt(vn)<<8)+Cn.charCodeAt(vn+1));fn[kn]=String.fromCharCode(...Sn)}}),new Lt.ToUnicodeMap(fn)}return new Lt.IdentityToUnicodeMap(Tn.firstChar,Tn.lastChar)}readToUnicode(Tn){return Tn?Tn instanceof _t.Name?kt.CMapFactory.create({encoding:Tn,fetchBuiltInCMap:this._fetchBuiltInCMapBound,useCMap:null}).then(function(An){return An instanceof kt.IdentityCMap?new Lt.IdentityToUnicodeMap(0,65535):new Lt.ToUnicodeMap(An.getMap())}):Tn instanceof Kt.BaseStream?kt.CMapFactory.create({encoding:Tn,fetchBuiltInCMap:this._fetchBuiltInCMapBound,useCMap:null}).then(function(An){if(An instanceof kt.IdentityCMap)return new Lt.IdentityToUnicodeMap(0,65535);const mn=new Array(An.length);return An.forEach(function(pn,Jt){if(typeof Jt=="number"){mn[pn]=String.fromCodePoint(Jt);return}const un=[];for(let fn=0;fn<Jt.length;fn+=2){const Sn=Jt.charCodeAt(fn)<<8|Jt.charCodeAt(fn+1);if((Sn&63488)!==55296){un.push(Sn);continue}fn+=2;const kn=Jt.charCodeAt(fn)<<8|Jt.charCodeAt(fn+1);un.push(((Sn&1023)<<10)+(kn&1023)+65536)}mn[pn]=String.fromCodePoint(...un)}),new Lt.ToUnicodeMap(mn)},An=>{if(An instanceof wt.AbortException)return null;if(this.options.ignoreErrors)return(0,wt.warn)(`readToUnicode - ignoring ToUnicode data: "${An}".`),null;throw An}):Promise.resolve(null):Promise.resolve(null)}readCidToGidMap(Tn,An){const mn=[];for(let pn=0,Jt=Tn.length;pn<Jt;pn++){const un=Tn[pn++]<<8|Tn[pn],fn=pn>>1;un===0&&!An.has(fn)||(mn[fn]=un)}return mn}extractWidths(Tn,An,mn){const pn=this.xref;let Jt=[],un=0;const fn=[];let Sn,kn,Pn,Cn,vn,Rn,Mn,_n;if(mn.composite){if(un=Tn.has("DW")?Tn.get("DW"):1e3,_n=Tn.get("W"),_n)for(kn=0,Pn=_n.length;kn<Pn;kn++)if(Rn=pn.fetchIfRef(_n[kn++]),Mn=pn.fetchIfRef(_n[kn]),Array.isArray(Mn))for(Cn=0,vn=Mn.length;Cn<vn;Cn++)Jt[Rn++]=pn.fetchIfRef(Mn[Cn]);else{const Un=pn.fetchIfRef(_n[++kn]);for(Cn=Rn;Cn<=Mn;Cn++)Jt[Cn]=Un}if(mn.vertical){let Un=Tn.getArray("DW2")||[880,-1e3];if(Sn=[Un[1],un*.5,Un[0]],Un=Tn.get("W2"),Un)for(kn=0,Pn=Un.length;kn<Pn;kn++)if(Rn=pn.fetchIfRef(Un[kn++]),Mn=pn.fetchIfRef(Un[kn]),Array.isArray(Mn))for(Cn=0,vn=Mn.length;Cn<vn;Cn++)fn[Rn++]=[pn.fetchIfRef(Mn[Cn++]),pn.fetchIfRef(Mn[Cn++]),pn.fetchIfRef(Mn[Cn])];else{const ts=[pn.fetchIfRef(Un[++kn]),pn.fetchIfRef(Un[++kn]),pn.fetchIfRef(Un[++kn])];for(Cn=Rn;Cn<=Mn;Cn++)fn[Cn]=ts}}}else{const Un=mn.firstChar;if(_n=Tn.get("Widths"),_n){for(Cn=Un,kn=0,Pn=_n.length;kn<Pn;kn++)Jt[Cn++]=pn.fetchIfRef(_n[kn]);un=parseFloat(An.get("MissingWidth"))||0}else{const ts=Tn.get("BaseFont");if(ts instanceof _t.Name){const es=this.getBaseFontMetrics(ts.name);Jt=this.buildCharCodeToWidth(es.widths,mn),un=es.defaultWidth}}}let Dn=!0,Ln=un;for(const Un in Jt){const ts=Jt[Un];if(ts){if(!Ln){Ln=ts;continue}if(Ln!==ts){Dn=!1;break}}}Dn?mn.flags|=hn.FontFlags.FixedPitch:mn.flags&=~hn.FontFlags.FixedPitch,mn.defaultWidth=un,mn.widths=Jt,mn.defaultVMetrics=Sn,mn.vmetrics=fn}isSerifFont(Tn){const An=Tn.split("-")[0];return An in(0,Ft.getSerifFonts)()||/serif/gi.test(An)}getBaseFontMetrics(Tn){let An=0,mn=Object.create(null),pn=!1,un=(0,Ft.getStdFontMap)()[Tn]||Tn;const fn=(0,nn.getMetrics)();un in fn||(un=this.isSerifFont(Tn)?"Times-Roman":"Helvetica");const Sn=fn[un];return typeof Sn=="number"?(An=Sn,pn=!0):mn=Sn(),{defaultWidth:An,monospace:pn,widths:mn}}buildCharCodeToWidth(Tn,An){const mn=Object.create(null),pn=An.differences,Jt=An.defaultEncoding;for(let un=0;un<256;un++){if(un in pn&&Tn[pn[un]]){mn[un]=Tn[pn[un]];continue}if(un in Jt&&Tn[Jt[un]]){mn[un]=Tn[Jt[un]];continue}}return mn}preEvaluateFont(Tn){const An=Tn;let mn=Tn.get("Subtype");if(!(mn instanceof _t.Name))throw new wt.FormatError("invalid font Subtype");let pn=!1,Jt,un;if(mn.name==="Type0"){const Pn=Tn.get("DescendantFonts");if(!Pn)throw new wt.FormatError("Descendant fonts are not specified");if(Tn=Array.isArray(Pn)?this.xref.fetchIfRef(Pn[0]):Pn,!(Tn instanceof _t.Dict))throw new wt.FormatError("Descendant font is not a dictionary.");if(mn=Tn.get("Subtype"),!(mn instanceof _t.Name))throw new wt.FormatError("invalid font Subtype");pn=!0}const fn=Tn.get("FirstChar")||0,Sn=Tn.get("LastChar")||(pn?65535:255),kn=Tn.get("FontDescriptor");if(kn){Jt=new Yt.MurmurHash3_64;const Pn=An.getRaw("Encoding");if(Pn instanceof _t.Name)Jt.update(Pn.name);else if(Pn instanceof _t.Ref)Jt.update(Pn.toString());else if(Pn instanceof _t.Dict){for(const vn of Pn.getRawValues())if(vn instanceof _t.Name)Jt.update(vn.name);else if(vn instanceof _t.Ref)Jt.update(vn.toString());else if(Array.isArray(vn)){const Rn=vn.length,Mn=new Array(Rn);for(let _n=0;_n<Rn;_n++){const Dn=vn[_n];Dn instanceof _t.Name?Mn[_n]=Dn.name:(typeof Dn=="number"||Dn instanceof _t.Ref)&&(Mn[_n]=Dn.toString())}Jt.update(Mn.join())}}if(Jt.update(`${fn}-${Sn}`),un=Tn.get("ToUnicode")||An.get("ToUnicode"),un instanceof Kt.BaseStream){const vn=un.str||un,Rn=vn.buffer?new Uint8Array(vn.buffer.buffer,0,vn.bufferLength):new Uint8Array(vn.bytes.buffer,vn.start,vn.end-vn.start);Jt.update(Rn)}else un instanceof _t.Name&&Jt.update(un.name);const Cn=Tn.get("Widths")||An.get("Widths");if(Array.isArray(Cn)){const vn=[];for(const Rn of Cn)(typeof Rn=="number"||Rn instanceof _t.Ref)&&vn.push(Rn.toString());Jt.update(vn.join())}if(pn){Jt.update("compositeFont");const vn=Tn.get("W")||An.get("W");if(Array.isArray(vn)){const Mn=[];for(const _n of vn)if(typeof _n=="number"||_n instanceof _t.Ref)Mn.push(_n.toString());else if(Array.isArray(_n)){const Dn=[];for(const Ln of _n)(typeof Ln=="number"||Ln instanceof _t.Ref)&&Dn.push(Ln.toString());Mn.push(`[${Dn.join()}]`)}Jt.update(Mn.join())}const Rn=Tn.getRaw("CIDToGIDMap")||An.getRaw("CIDToGIDMap");Rn instanceof _t.Name?Jt.update(Rn.name):Rn instanceof _t.Ref?Jt.update(Rn.toString()):Rn instanceof Kt.BaseStream&&Jt.update(Rn.peekBytes())}}return{descriptor:kn,dict:Tn,baseDict:An,composite:pn,type:mn.name,firstChar:fn,lastChar:Sn,toUnicode:un,hash:Jt?Jt.hexdigest():""}}async translateFont({descriptor:Tn,dict:An,baseDict:mn,composite:pn,type:Jt,firstChar:un,lastChar:fn,toUnicode:Sn,cssFontInfo:kn}){const Pn=Jt==="Type3";let Cn;if(!Tn)if(Pn)Tn=new _t.Dict(null),Tn.set("FontName",_t.Name.get(Jt)),Tn.set("FontBBox",An.getArray("FontBBox")||[0,0,0,0]);else{let ns=An.get("BaseFont");if(!(ns instanceof _t.Name))throw new wt.FormatError("Base font is not specified");ns=ns.name.replaceAll(/[,_]/g,"-");const ls=this.getBaseFontMetrics(ns),ds=ns.split("-")[0],Bn=(this.isSerifFont(ds)?hn.FontFlags.Serif:0)|(ls.monospace?hn.FontFlags.FixedPitch:0)|((0,Ft.getSymbolsFonts)()[ds]?hn.FontFlags.Symbolic:hn.FontFlags.Nonsymbolic);Cn={type:Jt,name:ns,loadedName:mn.loadedName,systemFontInfo:null,widths:ls.widths,defaultWidth:ls.defaultWidth,isSimulatedFlags:!0,flags:Bn,firstChar:un,lastChar:fn,toUnicode:Sn,xHeight:0,capHeight:0,italicAngle:0,isType3Font:Pn};const Hn=An.get("Widths"),Xn=(0,Ft.getStandardFontName)(ns);let cs=null;return Xn&&(cs=await this.fetchStandardFontData(Xn),Cn.isInternalFont=!!cs),!Cn.isInternalFont&&this.options.useSystemFonts&&(Cn.systemFontInfo=(0,tn.getFontSubstitution)(this.systemFontCache,this.idFactory,this.options.standardFontDataUrl,ns,Xn)),this.extractDataStructures(An,An,Cn).then(rs=>{if(Hn){const xs=[];let Jn=un;for(const Wn of Hn)xs[Jn++]=this.xref.fetchIfRef(Wn);rs.widths=xs}else rs.widths=this.buildCharCodeToWidth(ls.widths,rs);return new ht.Font(ns,cs,rs)})}let vn=Tn.get("FontName"),Rn=An.get("BaseFont");typeof vn=="string"&&(vn=_t.Name.get(vn)),typeof Rn=="string"&&(Rn=_t.Name.get(Rn));const Mn=vn==null?void 0:vn.name,_n=Rn==null?void 0:Rn.name;if(!Pn&&Mn!==_n&&((0,wt.info)(`The FontDescriptor's FontName is "${Mn}" but should be the same as the Font's BaseFont "${_n}".`),Mn&&_n&&(_n.startsWith(Mn)||!(0,Ft.isKnownFontName)(Mn)&&(0,Ft.isKnownFontName)(_n))&&(vn=null)),vn||(vn=Rn),!(vn instanceof _t.Name))throw new wt.FormatError("invalid font name");let Dn,Ln,Un,ts,es;try{Dn=Tn.get("FontFile","FontFile2","FontFile3")}catch(ns){if(!this.options.ignoreErrors)throw ns;(0,wt.warn)(`translateFont - fetching "${vn.name}" font file: "${ns}".`),Dn=new Rt.NullStream}let Qn=!1,Yn=null,zn=null;if(Dn){if(Dn.dict){const ns=Dn.dict.get("Subtype");ns instanceof _t.Name&&(Ln=ns.name),Un=Dn.dict.get("Length1"),ts=Dn.dict.get("Length2"),es=Dn.dict.get("Length3")}}else if(kn){const ns=(0,qt.getXfaFontName)(vn.name);ns&&(kn.fontFamily=`${kn.fontFamily}-PdfJS-XFA`,kn.metrics=ns.metrics||null,Yn=ns.factors||null,Dn=await this.fetchStandardFontData(ns.name),Qn=!!Dn,mn=An=(0,qt.getXfaFontDict)(vn.name),pn=!0)}else if(!Pn){const ns=(0,Ft.getStandardFontName)(vn.name);ns&&(Dn=await this.fetchStandardFontData(ns),Qn=!!Dn),!Qn&&this.options.useSystemFonts&&(zn=(0,tn.getFontSubstitution)(this.systemFontCache,this.idFactory,this.options.standardFontDataUrl,vn.name,ns))}if(Cn={type:Jt,name:vn.name,subtype:Ln,file:Dn,length1:Un,length2:ts,length3:es,isInternalFont:Qn,loadedName:mn.loadedName,composite:pn,fixedPitch:!1,fontMatrix:An.getArray("FontMatrix")||wt.FONT_IDENTITY_MATRIX,firstChar:un,lastChar:fn,toUnicode:Sn,bbox:Tn.getArray("FontBBox")||An.getArray("FontBBox"),ascent:Tn.get("Ascent"),descent:Tn.get("Descent"),xHeight:Tn.get("XHeight")||0,capHeight:Tn.get("CapHeight")||0,flags:Tn.get("Flags"),italicAngle:Tn.get("ItalicAngle")||0,isType3Font:Pn,cssFontInfo:kn,scaleFactors:Yn,systemFontInfo:zn},pn){const ns=mn.get("Encoding");ns instanceof _t.Name&&(Cn.cidEncoding=ns.name);const ls=await kt.CMapFactory.create({encoding:ns,fetchBuiltInCMap:this._fetchBuiltInCMapBound,useCMap:null});Cn.cMap=ls,Cn.vertical=Cn.cMap.vertical}return this.extractDataStructures(An,mn,Cn).then(ns=>(this.extractWidths(An,Tn,ns),new ht.Font(vn.name,Dn,ns)))}static buildFontPaths(Tn,An,mn,pn){function Jt(un){const fn=`${Tn.loadedName}_path_${un}`;try{if(Tn.renderer.hasBuiltPath(un))return;mn.send("commonobj",[fn,"FontPath",Tn.renderer.getPathJs(un)])}catch(Sn){if(pn.ignoreErrors){(0,wt.warn)(`buildFontPaths - ignoring ${fn} glyph: "${Sn}".`);return}throw Sn}}for(const un of An){Jt(un.fontChar);const fn=un.accent;fn!=null&&fn.fontChar&&Jt(fn.fontChar)}}static get fallbackFontDict(){const Tn=new _t.Dict;return Tn.set("BaseFont",_t.Name.get("Helvetica")),Tn.set("Type",_t.Name.get("FallbackType")),Tn.set("Subtype",_t.Name.get("FallbackType")),Tn.set("Encoding",_t.Name.get("WinAnsiEncoding")),(0,wt.shadow)(this,"fallbackFontDict",Tn)}}Et.PartialEvaluator=on;class cn{constructor({loadedName:Tn,font:An,dict:mn,evaluatorOptions:pn}){this.loadedName=Tn,this.font=An,this.dict=mn,this._evaluatorOptions=pn||Mt,this.type3Loaded=null,this.type3Dependencies=An.isType3Font?new Set:null,this.sent=!1}send(Tn){this.sent||(this.sent=!0,Tn.send("commonobj",[this.loadedName,"Font",this.font.exportData(this._evaluatorOptions.fontExtraProperties)]))}fallback(Tn){this.font.data&&(this.font.disableFontFace=!0,on.buildFontPaths(this.font,this.font.glyphCacheValues,Tn,this._evaluatorOptions))}loadType3Data(Tn,An,mn){if(this.type3Loaded)return this.type3Loaded;if(!this.font.isType3Font)throw new Error("Must be a Type3 font.");const pn=Tn.clone({ignoreErrors:!1});pn.parsingType3Font=!0;const Jt=new _t.RefSet(Tn.type3FontRefs);this.dict.objId&&!Jt.has(this.dict.objId)&&Jt.put(this.dict.objId),pn.type3FontRefs=Jt;const un=this.font,fn=this.type3Dependencies;let Sn=Promise.resolve();const kn=this.dict.get("CharProcs"),Pn=this.dict.get("Resources")||An,Cn=Object.create(null),vn=wt.Util.normalizeRect(un.bbox||[0,0,0,0]),Rn=vn[2]-vn[0],Mn=vn[3]-vn[1],_n=Math.hypot(Rn,Mn);for(const Dn of kn.getKeys())Sn=Sn.then(()=>{const Ln=kn.get(Dn),Un=new dn.OperatorList;return pn.getOperatorList({stream:Ln,task:mn,resources:Pn,operatorList:Un}).then(()=>{Un.fnArray[0]===wt.OPS.setCharWidthAndBounds&&this._removeType3ColorOperators(Un,_n),Cn[Dn]=Un.getIR();for(const ts of Un.dependencies)fn.add(ts)}).catch(function(ts){(0,wt.warn)(`Type3 font resource "${Dn}" is not available.`);const es=new dn.OperatorList;Cn[Dn]=es.getIR()})});return this.type3Loaded=Sn.then(()=>{un.charProcOperatorList=Cn,this._bbox&&(un.isCharBBox=!0,un.bbox=this._bbox)}),this.type3Loaded}_removeType3ColorOperators(Tn,An=NaN){const mn=wt.Util.normalizeRect(Tn.argsArray[0].slice(2)),pn=mn[2]-mn[0],Jt=mn[3]-mn[1],un=Math.hypot(pn,Jt);pn===0||Jt===0?(Tn.fnArray.splice(0,1),Tn.argsArray.splice(0,1)):(An===0||Math.round(un/An)>=10)&&(this._bbox||(this._bbox=[1/0,1/0,-1/0,-1/0]),this._bbox[0]=Math.min(this._bbox[0],mn[0]),this._bbox[1]=Math.min(this._bbox[1],mn[1]),this._bbox[2]=Math.max(this._bbox[2],mn[2]),this._bbox[3]=Math.max(this._bbox[3],mn[3]));let fn=0,Sn=Tn.length;for(;fn<Sn;){switch(Tn.fnArray[fn]){case wt.OPS.setCharWidthAndBounds:break;case wt.OPS.setStrokeColorSpace:case wt.OPS.setFillColorSpace:case wt.OPS.setStrokeColor:case wt.OPS.setStrokeColorN:case wt.OPS.setFillColor:case wt.OPS.setFillColorN:case wt.OPS.setStrokeGray:case wt.OPS.setFillGray:case wt.OPS.setStrokeRGBColor:case wt.OPS.setFillRGBColor:case wt.OPS.setStrokeCMYKColor:case wt.OPS.setFillCMYKColor:case wt.OPS.shadingFill:case wt.OPS.setRenderingIntent:Tn.fnArray.splice(fn,1),Tn.argsArray.splice(fn,1),Sn--;continue;case wt.OPS.setGState:const[kn]=Tn.argsArray[fn];let Pn=0,Cn=kn.length;for(;Pn<Cn;){const[vn]=kn[Pn];switch(vn){case"TR":case"TR2":case"HT":case"BG":case"BG2":case"UCR":case"UCR2":kn.splice(Pn,1),Cn--;continue}Pn++}break}fn++}}}class rn{constructor(Tn=new xn){this.state=Tn,this.stateStack=[]}save(){const Tn=this.state;this.stateStack.push(this.state),this.state=Tn.clone()}restore(){const Tn=this.stateStack.pop();Tn&&(this.state=Tn)}transform(Tn){this.state.ctm=wt.Util.transform(this.state.ctm,Tn)}}class an{constructor(){this.ctm=new Float32Array(wt.IDENTITY_MATRIX),this.fontName=null,this.fontSize=0,this.loadedName=null,this.font=null,this.fontMatrix=wt.FONT_IDENTITY_MATRIX,this.textMatrix=wt.IDENTITY_MATRIX.slice(),this.textLineMatrix=wt.IDENTITY_MATRIX.slice(),this.charSpacing=0,this.wordSpacing=0,this.leading=0,this.textHScale=1,this.textRise=0}setTextMatrix(Tn,An,mn,pn,Jt,un){const fn=this.textMatrix;fn[0]=Tn,fn[1]=An,fn[2]=mn,fn[3]=pn,fn[4]=Jt,fn[5]=un}setTextLineMatrix(Tn,An,mn,pn,Jt,un){const fn=this.textLineMatrix;fn[0]=Tn,fn[1]=An,fn[2]=mn,fn[3]=pn,fn[4]=Jt,fn[5]=un}translateTextMatrix(Tn,An){const mn=this.textMatrix;mn[4]=mn[0]*Tn+mn[2]*An+mn[4],mn[5]=mn[1]*Tn+mn[3]*An+mn[5]}translateTextLineMatrix(Tn,An){const mn=this.textLineMatrix;mn[4]=mn[0]*Tn+mn[2]*An+mn[4],mn[5]=mn[1]*Tn+mn[3]*An+mn[5]}carriageReturn(){this.translateTextLineMatrix(0,-this.leading),this.textMatrix=this.textLineMatrix.slice()}clone(){const Tn=Object.create(this);return Tn.textMatrix=this.textMatrix.slice(),Tn.textLineMatrix=this.textLineMatrix.slice(),Tn.fontMatrix=this.fontMatrix.slice(),Tn}}class xn{constructor(){this.ctm=new Float32Array(wt.IDENTITY_MATRIX),this.font=null,this.textRenderingMode=wt.TextRenderingMode.FILL,this.fillColorSpace=Gt.ColorSpace.singletons.gray,this.strokeColorSpace=Gt.ColorSpace.singletons.gray}clone(){return Object.create(this)}}const Fn=class Fn{static get opMap(){return(0,wt.shadow)(this,"opMap",{w:{id:wt.OPS.setLineWidth,numArgs:1,variableArgs:!1},J:{id:wt.OPS.setLineCap,numArgs:1,variableArgs:!1},j:{id:wt.OPS.setLineJoin,numArgs:1,variableArgs:!1},M:{id:wt.OPS.setMiterLimit,numArgs:1,variableArgs:!1},d:{id:wt.OPS.setDash,numArgs:2,variableArgs:!1},ri:{id:wt.OPS.setRenderingIntent,numArgs:1,variableArgs:!1},i:{id:wt.OPS.setFlatness,numArgs:1,variableArgs:!1},gs:{id:wt.OPS.setGState,numArgs:1,variableArgs:!1},q:{id:wt.OPS.save,numArgs:0,variableArgs:!1},Q:{id:wt.OPS.restore,numArgs:0,variableArgs:!1},cm:{id:wt.OPS.transform,numArgs:6,variableArgs:!1},m:{id:wt.OPS.moveTo,numArgs:2,variableArgs:!1},l:{id:wt.OPS.lineTo,numArgs:2,variableArgs:!1},c:{id:wt.OPS.curveTo,numArgs:6,variableArgs:!1},v:{id:wt.OPS.curveTo2,numArgs:4,variableArgs:!1},y:{id:wt.OPS.curveTo3,numArgs:4,variableArgs:!1},h:{id:wt.OPS.closePath,numArgs:0,variableArgs:!1},re:{id:wt.OPS.rectangle,numArgs:4,variableArgs:!1},S:{id:wt.OPS.stroke,numArgs:0,variableArgs:!1},s:{id:wt.OPS.closeStroke,numArgs:0,variableArgs:!1},f:{id:wt.OPS.fill,numArgs:0,variableArgs:!1},F:{id:wt.OPS.fill,numArgs:0,variableArgs:!1},"f*":{id:wt.OPS.eoFill,numArgs:0,variableArgs:!1},B:{id:wt.OPS.fillStroke,numArgs:0,variableArgs:!1},"B*":{id:wt.OPS.eoFillStroke,numArgs:0,variableArgs:!1},b:{id:wt.OPS.closeFillStroke,numArgs:0,variableArgs:!1},"b*":{id:wt.OPS.closeEOFillStroke,numArgs:0,variableArgs:!1},n:{id:wt.OPS.endPath,numArgs:0,variableArgs:!1},W:{id:wt.OPS.clip,numArgs:0,variableArgs:!1},"W*":{id:wt.OPS.eoClip,numArgs:0,variableArgs:!1},BT:{id:wt.OPS.beginText,numArgs:0,variableArgs:!1},ET:{id:wt.OPS.endText,numArgs:0,variableArgs:!1},Tc:{id:wt.OPS.setCharSpacing,numArgs:1,variableArgs:!1},Tw:{id:wt.OPS.setWordSpacing,numArgs:1,variableArgs:!1},Tz:{id:wt.OPS.setHScale,numArgs:1,variableArgs:!1},TL:{id:wt.OPS.setLeading,numArgs:1,variableArgs:!1},Tf:{id:wt.OPS.setFont,numArgs:2,variableArgs:!1},Tr:{id:wt.OPS.setTextRenderingMode,numArgs:1,variableArgs:!1},Ts:{id:wt.OPS.setTextRise,numArgs:1,variableArgs:!1},Td:{id:wt.OPS.moveText,numArgs:2,variableArgs:!1},TD:{id:wt.OPS.setLeadingMoveText,numArgs:2,variableArgs:!1},Tm:{id:wt.OPS.setTextMatrix,numArgs:6,variableArgs:!1},"T*":{id:wt.OPS.nextLine,numArgs:0,variableArgs:!1},Tj:{id:wt.OPS.showText,numArgs:1,variableArgs:!1},TJ:{id:wt.OPS.showSpacedText,numArgs:1,variableArgs:!1},"'":{id:wt.OPS.nextLineShowText,numArgs:1,variableArgs:!1},'"':{id:wt.OPS.nextLineSetSpacingShowText,numArgs:3,variableArgs:!1},d0:{id:wt.OPS.setCharWidth,numArgs:2,variableArgs:!1},d1:{id:wt.OPS.setCharWidthAndBounds,numArgs:6,variableArgs:!1},CS:{id:wt.OPS.setStrokeColorSpace,numArgs:1,variableArgs:!1},cs:{id:wt.OPS.setFillColorSpace,numArgs:1,variableArgs:!1},SC:{id:wt.OPS.setStrokeColor,numArgs:4,variableArgs:!0},SCN:{id:wt.OPS.setStrokeColorN,numArgs:33,variableArgs:!0},sc:{id:wt.OPS.setFillColor,numArgs:4,variableArgs:!0},scn:{id:wt.OPS.setFillColorN,numArgs:33,variableArgs:!0},G:{id:wt.OPS.setStrokeGray,numArgs:1,variableArgs:!1},g:{id:wt.OPS.setFillGray,numArgs:1,variableArgs:!1},RG:{id:wt.OPS.setStrokeRGBColor,numArgs:3,variableArgs:!1},rg:{id:wt.OPS.setFillRGBColor,numArgs:3,variableArgs:!1},K:{id:wt.OPS.setStrokeCMYKColor,numArgs:4,variableArgs:!1},k:{id:wt.OPS.setFillCMYKColor,numArgs:4,variableArgs:!1},sh:{id:wt.OPS.shadingFill,numArgs:1,variableArgs:!1},BI:{id:wt.OPS.beginInlineImage,numArgs:0,variableArgs:!1},ID:{id:wt.OPS.beginImageData,numArgs:0,variableArgs:!1},EI:{id:wt.OPS.endInlineImage,numArgs:1,variableArgs:!1},Do:{id:wt.OPS.paintXObject,numArgs:1,variableArgs:!1},MP:{id:wt.OPS.markPoint,numArgs:1,variableArgs:!1},DP:{id:wt.OPS.markPointProps,numArgs:2,variableArgs:!1},BMC:{id:wt.OPS.beginMarkedContent,numArgs:1,variableArgs:!1},BDC:{id:wt.OPS.beginMarkedContentProps,numArgs:2,variableArgs:!1},EMC:{id:wt.OPS.endMarkedContent,numArgs:0,variableArgs:!1},BX:{id:wt.OPS.beginCompat,numArgs:0,variableArgs:!1},EX:{id:wt.OPS.endCompat,numArgs:0,variableArgs:!1},BM:null,BD:null,true:null,fa:null,fal:null,fals:null,false:null,nu:null,nul:null,null:null})}constructor(Tn,An,mn=new rn){this.parser=new Ot.Parser({lexer:new Ot.Lexer(Tn,Fn.opMap),xref:An}),this.stateManager=mn,this.nonProcessedArgs=[],this._isPathOp=!1,this._numInvalidPathOPS=0}get savedStatesDepth(){return this.stateManager.stateStack.length}read(Tn){let An=Tn.args;for(;;){const mn=this.parser.getObj();if(mn instanceof _t.Cmd){const pn=mn.cmd,Jt=Fn.opMap[pn];if(!Jt){(0,wt.warn)(`Unknown command "${pn}".`);continue}const un=Jt.id,fn=Jt.numArgs;let Sn=An!==null?An.length:0;if(this._isPathOp||(this._numInvalidPathOPS=0),this._isPathOp=un>=wt.OPS.moveTo&&un<=wt.OPS.endPath,Jt.variableArgs)Sn>fn&&(0,wt.info)(`Command ${pn}: expected [0, ${fn}] args, but received ${Sn} args.`);else{if(Sn!==fn){const kn=this.nonProcessedArgs;for(;Sn>fn;)kn.push(An.shift()),Sn--;for(;Sn<fn&&kn.length!==0;)An===null&&(An=[]),An.unshift(kn.pop()),Sn++}if(Sn<fn){const kn=`command ${pn}: expected ${fn} args, but received ${Sn} args.`;if(this._isPathOp&&++this._numInvalidPathOPS>Fn.MAX_INVALID_PATH_OPS)throw new wt.FormatError(`Invalid ${kn}`);(0,wt.warn)(`Skipping ${kn}`),An!==null&&(An.length=0);continue}}return this.preprocessCommand(un,An),Tn.fn=un,Tn.args=An,!0}if(mn===_t.EOF)return!1;if(mn!==null&&(An===null&&(An=[]),An.push(mn),An.length>33))throw new wt.FormatError("Too many arguments")}}preprocessCommand(Tn,An){switch(Tn|0){case wt.OPS.save:this.stateManager.save();break;case wt.OPS.restore:this.stateManager.restore();break;case wt.OPS.transform:this.stateManager.transform(An);break}}};Us(Fn,"MAX_INVALID_PATH_OPS",10);let wn=Fn;Et.EvaluatorPreprocessor=wn},(Ct,Et,Pt)=>{Object.defineProperty(Et,"__esModule",{value:!0}),Et.IdentityCMap=Et.CMapFactory=Et.CMap=void 0;var wt=Pt(2),kt=Pt(4),_t=Pt(5),ht=Pt(15),vt=Pt(16),Ft=Pt(3),Vt=Pt(8);const qt=["Adobe-GB1-UCS2","Adobe-CNS1-UCS2","Adobe-Japan1-UCS2","Adobe-Korea1-UCS2","78-EUC-H","78-EUC-V","78-H","78-RKSJ-H","78-RKSJ-V","78-V","78ms-RKSJ-H","78ms-RKSJ-V","83pv-RKSJ-H","90ms-RKSJ-H","90ms-RKSJ-V","90msp-RKSJ-H","90msp-RKSJ-V","90pv-RKSJ-H","90pv-RKSJ-V","Add-H","Add-RKSJ-H","Add-RKSJ-V","Add-V","Adobe-CNS1-0","Adobe-CNS1-1","Adobe-CNS1-2","Adobe-CNS1-3","Adobe-CNS1-4","Adobe-CNS1-5","Adobe-CNS1-6","Adobe-GB1-0","Adobe-GB1-1","Adobe-GB1-2","Adobe-GB1-3","Adobe-GB1-4","Adobe-GB1-5","Adobe-Japan1-0","Adobe-Japan1-1","Adobe-Japan1-2","Adobe-Japan1-3","Adobe-Japan1-4","Adobe-Japan1-5","Adobe-Japan1-6","Adobe-Korea1-0","Adobe-Korea1-1","Adobe-Korea1-2","B5-H","B5-V","B5pc-H","B5pc-V","CNS-EUC-H","CNS-EUC-V","CNS1-H","CNS1-V","CNS2-H","CNS2-V","ETHK-B5-H","ETHK-B5-V","ETen-B5-H","ETen-B5-V","ETenms-B5-H","ETenms-B5-V","EUC-H","EUC-V","Ext-H","Ext-RKSJ-H","Ext-RKSJ-V","Ext-V","GB-EUC-H","GB-EUC-V","GB-H","GB-V","GBK-EUC-H","GBK-EUC-V","GBK2K-H","GBK2K-V","GBKp-EUC-H","GBKp-EUC-V","GBT-EUC-H","GBT-EUC-V","GBT-H","GBT-V","GBTpc-EUC-H","GBTpc-EUC-V","GBpc-EUC-H","GBpc-EUC-V","H","HKdla-B5-H","HKdla-B5-V","HKdlb-B5-H","HKdlb-B5-V","HKgccs-B5-H","HKgccs-B5-V","HKm314-B5-H","HKm314-B5-V","HKm471-B5-H","HKm471-B5-V","HKscs-B5-H","HKscs-B5-V","Hankaku","Hiragana","KSC-EUC-H","KSC-EUC-V","KSC-H","KSC-Johab-H","KSC-Johab-V","KSC-V","KSCms-UHC-H","KSCms-UHC-HW-H","KSCms-UHC-HW-V","KSCms-UHC-V","KSCpc-EUC-H","KSCpc-EUC-V","Katakana","NWP-H","NWP-V","RKSJ-H","RKSJ-V","Roman","UniCNS-UCS2-H","UniCNS-UCS2-V","UniCNS-UTF16-H","UniCNS-UTF16-V","UniCNS-UTF32-H","UniCNS-UTF32-V","UniCNS-UTF8-H","UniCNS-UTF8-V","UniGB-UCS2-H","UniGB-UCS2-V","UniGB-UTF16-H","UniGB-UTF16-V","UniGB-UTF32-H","UniGB-UTF32-V","UniGB-UTF8-H","UniGB-UTF8-V","UniJIS-UCS2-H","UniJIS-UCS2-HW-H","UniJIS-UCS2-HW-V","UniJIS-UCS2-V","UniJIS-UTF16-H","UniJIS-UTF16-V","UniJIS-UTF32-H","UniJIS-UTF32-V","UniJIS-UTF8-H","UniJIS-UTF8-V","UniJIS2004-UTF16-H","UniJIS2004-UTF16-V","UniJIS2004-UTF32-H","UniJIS2004-UTF32-V","UniJIS2004-UTF8-H","UniJIS2004-UTF8-V","UniJISPro-UCS2-HW-V","UniJISPro-UCS2-V","UniJISPro-UTF8-V","UniJISX0213-UTF32-H","UniJISX0213-UTF32-V","UniJISX02132004-UTF32-H","UniJISX02132004-UTF32-V","UniKS-UCS2-H","UniKS-UCS2-V","UniKS-UTF16-H","UniKS-UTF16-V","UniKS-UTF32-H","UniKS-UTF32-V","UniKS-UTF8-H","UniKS-UTF8-V","V","WP-Symbol"],Lt=2**24-1;class $t{constructor(Mt=!1){this.codespaceRanges=[[],[],[],[]],this.numCodespaceRanges=0,this._map=[],this.name="",this.vertical=!1,this.useCMap=null,this.builtInCMap=Mt}addCodespaceRange(Mt,Ht,sn){this.codespaceRanges[Mt-1].push(Ht,sn),this.numCodespaceRanges++}mapCidRange(Mt,Ht,sn){if(Ht-Mt>Lt)throw new Error("mapCidRange - ignoring data above MAX_MAP_RANGE.");for(;Mt<=Ht;)this._map[Mt++]=sn++}mapBfRange(Mt,Ht,sn){if(Ht-Mt>Lt)throw new Error("mapBfRange - ignoring data above MAX_MAP_RANGE.");const zt=sn.length-1;for(;Mt<=Ht;){this._map[Mt++]=sn;const Xt=sn.charCodeAt(zt)+1;if(Xt>255){sn=sn.substring(0,zt-1)+String.fromCharCode(sn.charCodeAt(zt-1)+1)+"\0";continue}sn=sn.substring(0,zt)+String.fromCharCode(Xt)}}mapBfRangeToArray(Mt,Ht,sn){if(Ht-Mt>Lt)throw new Error("mapBfRangeToArray - ignoring data above MAX_MAP_RANGE.");const zt=sn.length;let Xt=0;for(;Mt<=Ht&&Xt<zt;)this._map[Mt]=sn[Xt++],++Mt}mapOne(Mt,Ht){this._map[Mt]=Ht}lookup(Mt){return this._map[Mt]}contains(Mt){return this._map[Mt]!==void 0}forEach(Mt){const Ht=this._map,sn=Ht.length;if(sn<=65536)for(let zt=0;zt<sn;zt++)Ht[zt]!==void 0&&Mt(zt,Ht[zt]);else for(const zt in Ht)Mt(zt,Ht[zt])}charCodeOf(Mt){const Ht=this._map;if(Ht.length<=65536)return Ht.indexOf(Mt);for(const sn in Ht)if(Ht[sn]===Mt)return sn|0;return-1}getMap(){return this._map}readCharCode(Mt,Ht,sn){let zt=0;const Xt=this.codespaceRanges;for(let Qt=0,ln=Xt.length;Qt<ln;Qt++){zt=(zt<<8|Mt.charCodeAt(Ht+Qt))>>>0;const on=Xt[Qt];for(let cn=0,rn=on.length;cn<rn;){const an=on[cn++],xn=on[cn++];if(zt>=an&&zt<=xn){sn.charcode=zt,sn.length=Qt+1;return}}}sn.charcode=0,sn.length=1}getCharCodeLength(Mt){const Ht=this.codespaceRanges;for(let sn=0,zt=Ht.length;sn<zt;sn++){const Xt=Ht[sn];for(let Qt=0,ln=Xt.length;Qt<ln;){const on=Xt[Qt++],cn=Xt[Qt++];if(Mt>=on&&Mt<=cn)return sn+1}}return 1}get length(){return this._map.length}get isIdentityCMap(){if(!(this.name==="Identity-H"||this.name==="Identity-V")||this._map.length!==65536)return!1;for(let Mt=0;Mt<65536;Mt++)if(this._map[Mt]!==Mt)return!1;return!0}}Et.CMap=$t;class Ot extends $t{constructor(Mt,Ht){super(),this.vertical=Mt,this.addCodespaceRange(Ht,0,65535)}mapCidRange(Mt,Ht,sn){(0,wt.unreachable)("should not call mapCidRange")}mapBfRange(Mt,Ht,sn){(0,wt.unreachable)("should not call mapBfRange")}mapBfRangeToArray(Mt,Ht,sn){(0,wt.unreachable)("should not call mapBfRangeToArray")}mapOne(Mt,Ht){(0,wt.unreachable)("should not call mapCidOne")}lookup(Mt){return Number.isInteger(Mt)&&Mt<=65535?Mt:void 0}contains(Mt){return Number.isInteger(Mt)&&Mt<=65535}forEach(Mt){for(let Ht=0;Ht<=65535;Ht++)Mt(Ht,Ht)}charCodeOf(Mt){return Number.isInteger(Mt)&&Mt<=65535?Mt:-1}getMap(){const Mt=new Array(65536);for(let Ht=0;Ht<=65535;Ht++)Mt[Ht]=Ht;return Mt}get length(){return 65536}get isIdentityCMap(){(0,wt.unreachable)("should not access .isIdentityCMap")}}Et.IdentityCMap=Ot;function jt(Ut){let Mt=0;for(let Ht=0;Ht<Ut.length;Ht++)Mt=Mt<<8|Ut.charCodeAt(Ht);return Mt>>>0}function Rt(Ut){if(typeof Ut!="string")throw new wt.FormatError("Malformed CMap: expected string.")}function Kt(Ut){if(!Number.isInteger(Ut))throw new wt.FormatError("Malformed CMap: expected int.")}function Bt(Ut,Mt){for(;;){let Ht=Mt.getObj();if(Ht===kt.EOF)break;if((0,kt.isCmd)(Ht,"endbfchar"))return;Rt(Ht);const sn=jt(Ht);Ht=Mt.getObj(),Rt(Ht);const zt=Ht;Ut.mapOne(sn,zt)}}function Gt(Ut,Mt){for(;;){let Ht=Mt.getObj();if(Ht===kt.EOF)break;if((0,kt.isCmd)(Ht,"endbfrange"))return;Rt(Ht);const sn=jt(Ht);Ht=Mt.getObj(),Rt(Ht);const zt=jt(Ht);if(Ht=Mt.getObj(),Number.isInteger(Ht)||typeof Ht=="string"){const Xt=Number.isInteger(Ht)?String.fromCharCode(Ht):Ht;Ut.mapBfRange(sn,zt,Xt)}else if((0,kt.isCmd)(Ht,"[")){Ht=Mt.getObj();const Xt=[];for(;!(0,kt.isCmd)(Ht,"]")&&Ht!==kt.EOF;)Xt.push(Ht),Ht=Mt.getObj();Ut.mapBfRangeToArray(sn,zt,Xt)}else break}throw new wt.FormatError("Invalid bf range.")}function en(Ut,Mt){for(;;){let Ht=Mt.getObj();if(Ht===kt.EOF)break;if((0,kt.isCmd)(Ht,"endcidchar"))return;Rt(Ht);const sn=jt(Ht);Ht=Mt.getObj(),Kt(Ht);const zt=Ht;Ut.mapOne(sn,zt)}}function hn(Ut,Mt){for(;;){let Ht=Mt.getObj();if(Ht===kt.EOF)break;if((0,kt.isCmd)(Ht,"endcidrange"))return;Rt(Ht);const sn=jt(Ht);Ht=Mt.getObj(),Rt(Ht);const zt=jt(Ht);Ht=Mt.getObj(),Kt(Ht);const Xt=Ht;Ut.mapCidRange(sn,zt,Xt)}}function tn(Ut,Mt){for(;;){let Ht=Mt.getObj();if(Ht===kt.EOF)break;if((0,kt.isCmd)(Ht,"endcodespacerange"))return;if(typeof Ht!="string")break;const sn=jt(Ht);if(Ht=Mt.getObj(),typeof Ht!="string")break;const zt=jt(Ht);Ut.addCodespaceRange(Ht.length,sn,zt)}throw new wt.FormatError("Invalid codespace range.")}function gn(Ut,Mt){const Ht=Mt.getObj();Number.isInteger(Ht)&&(Ut.vertical=!!Ht)}function nn(Ut,Mt){const Ht=Mt.getObj();Ht instanceof kt.Name&&(Ut.name=Ht.name)}async function bn(Ut,Mt,Ht,sn){let zt,Xt;e:for(;;)try{const Qt=Mt.getObj();if(Qt===kt.EOF)break;if(Qt instanceof kt.Name)Qt.name==="WMode"?gn(Ut,Mt):Qt.name==="CMapName"&&nn(Ut,Mt),zt=Qt;else if(Qt instanceof kt.Cmd)switch(Qt.cmd){case"endcmap":break e;case"usecmap":zt instanceof kt.Name&&(Xt=zt.name);break;case"begincodespacerange":tn(Ut,Mt);break;case"beginbfchar":Bt(Ut,Mt);break;case"begincidchar":en(Ut,Mt);break;case"beginbfrange":Gt(Ut,Mt);break;case"begincidrange":hn(Ut,Mt);break}}catch(Qt){if(Qt instanceof Ft.MissingDataException)throw Qt;(0,wt.warn)("Invalid cMap data: "+Qt);continue}return!sn&&Xt&&(sn=Xt),sn?Wt(Ut,Ht,sn):Ut}async function Wt(Ut,Mt,Ht){if(Ut.useCMap=await Yt(Ht,Mt),Ut.numCodespaceRanges===0){const sn=Ut.useCMap.codespaceRanges;for(let zt=0;zt<sn.length;zt++)Ut.codespaceRanges[zt]=sn[zt].slice();Ut.numCodespaceRanges=Ut.useCMap.numCodespaceRanges}return Ut.useCMap.forEach(function(sn,zt){Ut.contains(sn)||Ut.mapOne(sn,Ut.useCMap.lookup(sn))}),Ut}async function Yt(Ut,Mt){if(Ut==="Identity-H")return new Ot(!1,2);if(Ut==="Identity-V")return new Ot(!0,2);if(!qt.includes(Ut))throw new Error("Unknown CMap name: "+Ut);if(!Mt)throw new Error("Built-in CMap parameters are not provided.");const{cMapData:Ht,compressionType:sn}=await Mt(Ut),zt=new $t(!0);if(sn===wt.CMapCompressionType.BINARY)return new ht.BinaryCMapReader().process(Ht,zt,Xt=>Wt(zt,Mt,Xt));if(sn===wt.CMapCompressionType.NONE){const Xt=new vt.Lexer(new Vt.Stream(Ht));return bn(zt,Xt,Mt,null)}throw new Error(`Invalid CMap "compressionType" value: ${sn}`)}class dn{static async create({encoding:Mt,fetchBuiltInCMap:Ht,useCMap:sn}){if(Mt instanceof kt.Name)return Yt(Mt.name,Ht);if(Mt instanceof _t.BaseStream){const zt=await bn(new $t,new vt.Lexer(Mt),Ht,sn);return zt.isIdentityCMap?Yt(zt.name,Ht):zt}throw new Error("Encoding required.")}}Et.CMapFactory=dn},(Ct,Et,Pt)=>{Object.defineProperty(Et,"__esModule",{value:!0}),Et.BinaryCMapReader=void 0;var wt=Pt(2);function kt($t,Ot){let jt=0;for(let Rt=0;Rt<=Ot;Rt++)jt=jt<<8|$t[Rt];return jt>>>0}function _t($t,Ot){return Ot===1?String.fromCharCode($t[0],$t[1]):Ot===3?String.fromCharCode($t[0],$t[1],$t[2],$t[3]):String.fromCharCode(...$t.subarray(0,Ot+1))}function ht($t,Ot,jt){let Rt=0;for(let Kt=jt;Kt>=0;Kt--)Rt+=$t[Kt]+Ot[Kt],$t[Kt]=Rt&255,Rt>>=8}function vt($t,Ot){let jt=1;for(let Rt=Ot;Rt>=0&&jt>0;Rt--)jt+=$t[Rt],$t[Rt]=jt&255,jt>>=8}const Ft=16,Vt=19;class qt{constructor(Ot){this.buffer=Ot,this.pos=0,this.end=Ot.length,this.tmpBuf=new Uint8Array(Vt)}readByte(){return this.pos>=this.end?-1:this.buffer[this.pos++]}readNumber(){let Ot=0,jt;do{const Rt=this.readByte();if(Rt<0)throw new wt.FormatError("unexpected EOF in bcmap");jt=!(Rt&128),Ot=Ot<<7|Rt&127}while(!jt);return Ot}readSigned(){const Ot=this.readNumber();return Ot&1?~(Ot>>>1):Ot>>>1}readHex(Ot,jt){Ot.set(this.buffer.subarray(this.pos,this.pos+jt+1)),this.pos+=jt+1}readHexNumber(Ot,jt){let Rt;const Kt=this.tmpBuf;let Bt=0;do{const tn=this.readByte();if(tn<0)throw new wt.FormatError("unexpected EOF in bcmap");Rt=!(tn&128),Kt[Bt++]=tn&127}while(!Rt);let Gt=jt,en=0,hn=0;for(;Gt>=0;){for(;hn<8&&Kt.length>0;)en|=Kt[--Bt]<<hn,hn+=7;Ot[Gt]=en&255,Gt--,en>>=8,hn-=8}}readHexSigned(Ot,jt){this.readHexNumber(Ot,jt);const Rt=Ot[jt]&1?255:0;let Kt=0;for(let Bt=0;Bt<=jt;Bt++)Kt=(Kt&1)<<8|Ot[Bt],Ot[Bt]=Kt>>1^Rt}readString(){const Ot=this.readNumber(),jt=new Array(Ot);for(let Rt=0;Rt<Ot;Rt++)jt[Rt]=this.readNumber();return String.fromCharCode(...jt)}}class Lt{async process(Ot,jt,Rt){const Kt=new qt(Ot),Bt=Kt.readByte();jt.vertical=!!(Bt&1);let Gt=null;const en=new Uint8Array(Ft),hn=new Uint8Array(Ft),tn=new Uint8Array(Ft),gn=new Uint8Array(Ft),nn=new Uint8Array(Ft);let bn,Wt;for(;(Wt=Kt.readByte())>=0;){const Yt=Wt>>5;if(Yt===7){switch(Wt&31){case 0:Kt.readString();break;case 1:Gt=Kt.readString();break}continue}const dn=!!(Wt&16),Ut=Wt&15;if(Ut+1>Ft)throw new Error("BinaryCMapReader.process: Invalid dataSize.");const Mt=1,Ht=Kt.readNumber();switch(Yt){case 0:Kt.readHex(en,Ut),Kt.readHexNumber(hn,Ut),ht(hn,en,Ut),jt.addCodespaceRange(Ut+1,kt(en,Ut),kt(hn,Ut));for(let sn=1;sn<Ht;sn++)vt(hn,Ut),Kt.readHexNumber(en,Ut),ht(en,hn,Ut),Kt.readHexNumber(hn,Ut),ht(hn,en,Ut),jt.addCodespaceRange(Ut+1,kt(en,Ut),kt(hn,Ut));break;case 1:Kt.readHex(en,Ut),Kt.readHexNumber(hn,Ut),ht(hn,en,Ut),Kt.readNumber();for(let sn=1;sn<Ht;sn++)vt(hn,Ut),Kt.readHexNumber(en,Ut),ht(en,hn,Ut),Kt.readHexNumber(hn,Ut),ht(hn,en,Ut),Kt.readNumber();break;case 2:Kt.readHex(tn,Ut),bn=Kt.readNumber(),jt.mapOne(kt(tn,Ut),bn);for(let sn=1;sn<Ht;sn++)vt(tn,Ut),dn||(Kt.readHexNumber(nn,Ut),ht(tn,nn,Ut)),bn=Kt.readSigned()+(bn+1),jt.mapOne(kt(tn,Ut),bn);break;case 3:Kt.readHex(en,Ut),Kt.readHexNumber(hn,Ut),ht(hn,en,Ut),bn=Kt.readNumber(),jt.mapCidRange(kt(en,Ut),kt(hn,Ut),bn);for(let sn=1;sn<Ht;sn++)vt(hn,Ut),dn?en.set(hn):(Kt.readHexNumber(en,Ut),ht(en,hn,Ut)),Kt.readHexNumber(hn,Ut),ht(hn,en,Ut),bn=Kt.readNumber(),jt.mapCidRange(kt(en,Ut),kt(hn,Ut),bn);break;case 4:Kt.readHex(tn,Mt),Kt.readHex(gn,Ut),jt.mapOne(kt(tn,Mt),_t(gn,Ut));for(let sn=1;sn<Ht;sn++)vt(tn,Mt),dn||(Kt.readHexNumber(nn,Mt),ht(tn,nn,Mt)),vt(gn,Ut),Kt.readHexSigned(nn,Ut),ht(gn,nn,Ut),jt.mapOne(kt(tn,Mt),_t(gn,Ut));break;case 5:Kt.readHex(en,Mt),Kt.readHexNumber(hn,Mt),ht(hn,en,Mt),Kt.readHex(gn,Ut),jt.mapBfRange(kt(en,Mt),kt(hn,Mt),_t(gn,Ut));for(let sn=1;sn<Ht;sn++)vt(hn,Mt),dn?en.set(hn):(Kt.readHexNumber(en,Mt),ht(en,hn,Mt)),Kt.readHexNumber(hn,Mt),ht(hn,en,Mt),Kt.readHex(gn,Ut),jt.mapBfRange(kt(en,Mt),kt(hn,Mt),_t(gn,Ut));break;default:throw new Error(`BinaryCMapReader.process - unknown type: ${Yt}`)}}return Gt?Rt(Gt):jt}}Et.BinaryCMapReader=Lt},(Ct,Et,Pt)=>{Object.defineProperty(Et,"__esModule",{value:!0}),Et.Parser=Et.Linearization=Et.Lexer=void 0;var wt=Pt(2),kt=Pt(4),_t=Pt(3),ht=Pt(8),vt=Pt(17),Ft=Pt(19),Vt=Pt(20),qt=Pt(22),Lt=Pt(23),$t=Pt(26),Ot=Pt(29),jt=Pt(31),Rt=Pt(32),Kt=Pt(33);const Bt=1e3;function Gt(bn){const Wt=[],Yt=bn.length;let dn=0;for(;dn<Yt-1;)Wt.push(bn[dn++]<<8|bn[dn++]);return dn<Yt&&Wt.push(bn[dn]),Yt+"_"+String.fromCharCode.apply(null,Wt)}class en{constructor({lexer:Wt,xref:Yt,allowStreams:dn=!1,recoveryMode:Ut=!1}){this.lexer=Wt,this.xref=Yt,this.allowStreams=dn,this.recoveryMode=Ut,this.imageCache=Object.create(null),this._imageId=0,this.refill()}refill(){this.buf1=this.lexer.getObj(),this.buf2=this.lexer.getObj()}shift(){this.buf2 instanceof kt.Cmd&&this.buf2.cmd==="ID"?(this.buf1=this.buf2,this.buf2=null):(this.buf1=this.buf2,this.buf2=this.lexer.getObj())}tryShift(){try{return this.shift(),!0}catch(Wt){if(Wt instanceof _t.MissingDataException)throw Wt;return!1}}getObj(Wt=null){const Yt=this.buf1;if(this.shift(),Yt instanceof kt.Cmd)switch(Yt.cmd){case"BI":return this.makeInlineImage(Wt);case"[":const dn=[];for(;!(0,kt.isCmd)(this.buf1,"]")&&this.buf1!==kt.EOF;)dn.push(this.getObj(Wt));if(this.buf1===kt.EOF){if(this.recoveryMode)return dn;throw new _t.ParserEOFException("End of file inside array.")}return this.shift(),dn;case"<<":const Ut=new kt.Dict(this.xref);for(;!(0,kt.isCmd)(this.buf1,">>")&&this.buf1!==kt.EOF;){if(!(this.buf1 instanceof kt.Name)){(0,wt.info)("Malformed dictionary: key must be a name object"),this.shift();continue}const Mt=this.buf1.name;if(this.shift(),this.buf1===kt.EOF)break;Ut.set(Mt,this.getObj(Wt))}if(this.buf1===kt.EOF){if(this.recoveryMode)return Ut;throw new _t.ParserEOFException("End of file inside dictionary.")}return(0,kt.isCmd)(this.buf2,"stream")?this.allowStreams?this.makeStream(Ut,Wt):Ut:(this.shift(),Ut);default:return Yt}if(Number.isInteger(Yt)){if(Number.isInteger(this.buf1)&&(0,kt.isCmd)(this.buf2,"R")){const dn=kt.Ref.get(Yt,this.buf1);return this.shift(),this.shift(),dn}return Yt}return typeof Yt=="string"&&Wt?Wt.decryptString(Yt):Yt}findDefaultInlineStreamEnd(Wt){const{knownCommands:zt}=this.lexer,Xt=Wt.pos,Qt=15;let ln=0,on,cn;for(;(on=Wt.getByte())!==-1;)if(ln===0)ln=on===69?1:0;else if(ln===1)ln=on===73?2:0;else if(on===32||on===10||on===13){cn=Wt.pos;const an=Wt.peekBytes(Qt),xn=an.length;if(xn===0)break;for(let Fn=0;Fn<xn;Fn++)if(on=an[Fn],!(on===0&&an[Fn+1]!==0)&&on!==10&&on!==13&&(on<32||on>127)){ln=0;break}if(ln!==2)continue;if(!zt){(0,wt.warn)("findDefaultInlineStreamEnd - `lexer.knownCommands` is undefined.");continue}const wn=new gn(new ht.Stream(an.slice()),zt);wn._hexStringWarn=()=>{};let En=0;for(;;){const Fn=wn.getObj();if(Fn===kt.EOF){ln=0;break}if(Fn instanceof kt.Cmd){const In=zt[Fn.cmd];if(In){if(In.variableArgs?En<=In.numArgs:En===In.numArgs)break}else{ln=0;break}En=0;continue}En++}if(ln===2)break}else ln=0;on===-1&&((0,wt.warn)("findDefaultInlineStreamEnd: Reached the end of the stream without finding a valid EI marker"),cn&&((0,wt.warn)('... trying to recover by using the last "EI" occurrence.'),Wt.skip(-(Wt.pos-cn))));let rn=4;return Wt.skip(-rn),on=Wt.peekByte(),Wt.skip(rn),(0,_t.isWhiteSpace)(on)||rn--,Wt.pos-rn-Xt}findDCTDecodeInlineStreamEnd(Wt){const Yt=Wt.pos;let dn=!1,Ut,Mt;for(;(Ut=Wt.getByte())!==-1;)if(Ut===255){switch(Wt.getByte()){case 0:break;case 255:Wt.skip(-1);break;case 217:dn=!0;break;case 192:case 193:case 194:case 195:case 197:case 198:case 199:case 201:case 202:case 203:case 205:case 206:case 207:case 196:case 204:case 218:case 219:case 220:case 221:case 222:case 223:case 224:case 225:case 226:case 227:case 228:case 229:case 230:case 231:case 232:case 233:case 234:case 235:case 236:case 237:case 238:case 239:case 254:Mt=Wt.getUint16(),Mt>2?Wt.skip(Mt-2):Wt.skip(-2);break}if(dn)break}const Ht=Wt.pos-Yt;return Ut===-1?((0,wt.warn)("Inline DCTDecode image stream: EOI marker not found, searching for /EI/ instead."),Wt.skip(-Ht),this.findDefaultInlineStreamEnd(Wt)):(this.inlineStreamSkipEI(Wt),Ht)}findASCII85DecodeInlineStreamEnd(Wt){const Ut=Wt.pos;let Mt;for(;(Mt=Wt.getByte())!==-1;)if(Mt===126){const sn=Wt.pos;for(Mt=Wt.peekByte();(0,_t.isWhiteSpace)(Mt);)Wt.skip(),Mt=Wt.peekByte();if(Mt===62){Wt.skip();break}if(Wt.pos>sn){const zt=Wt.peekBytes(2);if(zt[0]===69&&zt[1]===73)break}}const Ht=Wt.pos-Ut;return Mt===-1?((0,wt.warn)("Inline ASCII85Decode image stream: EOD marker not found, searching for /EI/ instead."),Wt.skip(-Ht),this.findDefaultInlineStreamEnd(Wt)):(this.inlineStreamSkipEI(Wt),Ht)}findASCIIHexDecodeInlineStreamEnd(Wt){const dn=Wt.pos;let Ut;for(;(Ut=Wt.getByte())!==-1&&Ut!==62;);const Mt=Wt.pos-dn;return Ut===-1?((0,wt.warn)("Inline ASCIIHexDecode image stream: EOD marker not found, searching for /EI/ instead."),Wt.skip(-Mt),this.findDefaultInlineStreamEnd(Wt)):(this.inlineStreamSkipEI(Wt),Mt)}inlineStreamSkipEI(Wt){let Ut=0,Mt;for(;(Mt=Wt.getByte())!==-1;)if(Ut===0)Ut=Mt===69?1:0;else if(Ut===1)Ut=Mt===73?2:0;else if(Ut===2)break}makeInlineImage(Wt){const Yt=this.lexer,dn=Yt.stream,Ut=Object.create(null);let Mt;for(;!(0,kt.isCmd)(this.buf1,"ID")&&this.buf1!==kt.EOF;){if(!(this.buf1 instanceof kt.Name))throw new wt.FormatError("Dictionary key must be a name object");const cn=this.buf1.name;if(this.shift(),this.buf1===kt.EOF)break;Ut[cn]=this.getObj(Wt)}Yt.beginInlineImagePos!==-1&&(Mt=dn.pos-Yt.beginInlineImagePos);const Ht=this.xref.fetchIfRef(Ut.F||Ut.Filter);let sn;if(Ht instanceof kt.Name)sn=Ht.name;else if(Array.isArray(Ht)){const cn=this.xref.fetchIfRef(Ht[0]);cn instanceof kt.Name&&(sn=cn.name)}const zt=dn.pos;let Xt;switch(sn){case"DCT":case"DCTDecode":Xt=this.findDCTDecodeInlineStreamEnd(dn);break;case"A85":case"ASCII85Decode":Xt=this.findASCII85DecodeInlineStreamEnd(dn);break;case"AHx":case"ASCIIHexDecode":Xt=this.findASCIIHexDecodeInlineStreamEnd(dn);break;default:Xt=this.findDefaultInlineStreamEnd(dn)}let Qt;if(Xt<Bt&&Mt>0){const cn=dn.pos;dn.pos=Yt.beginInlineImagePos,Qt=Gt(dn.getBytes(Mt+Xt)),dn.pos=cn;const rn=this.imageCache[Qt];if(rn!==void 0)return this.buf2=kt.Cmd.get("EI"),this.shift(),rn.reset(),rn}const ln=new kt.Dict(this.xref);for(const cn in Ut)ln.set(cn,Ut[cn]);let on=dn.makeSubStream(zt,Xt,ln);return Wt&&(on=Wt.createStream(on,Xt)),on=this.filter(on,ln,Xt),on.dict=ln,Qt!==void 0&&(on.cacheKey=`inline_img_${++this._imageId}`,this.imageCache[Qt]=on),this.buf2=kt.Cmd.get("EI"),this.shift(),on}_findStreamLength(Wt,Yt){const{stream:dn}=this.lexer;dn.pos=Wt;const Ut=2048,Mt=Yt.length;for(;dn.pos<dn.end;){const Ht=dn.peekBytes(Ut),sn=Ht.length-Mt;if(sn<=0)break;let zt=0;for(;zt<sn;){let Xt=0;for(;Xt<Mt&&Ht[zt+Xt]===Yt[Xt];)Xt++;if(Xt>=Mt)return dn.pos+=zt,dn.pos-Wt;zt++}dn.pos+=sn}return-1}makeStream(Wt,Yt){const dn=this.lexer;let Ut=dn.stream;dn.skipToNextLine();const Mt=Ut.pos-1;let Ht=Wt.get("Length");if(Number.isInteger(Ht)||((0,wt.info)(`Bad length "${Ht&&Ht.toString()}" in stream.`),Ht=0),Ut.pos=Mt+Ht,dn.nextChar(),this.tryShift()&&(0,kt.isCmd)(this.buf2,"endstream"))this.shift();else{const sn=new Uint8Array([101,110,100,115,116,114,101,97,109]);let zt=this._findStreamLength(Mt,sn);if(zt<0){for(let Qt=1;Qt<=1;Qt++){const ln=sn.length-Qt,on=sn.slice(0,ln),cn=this._findStreamLength(Mt,on);if(cn>=0){const rn=Ut.peekBytes(ln+1)[ln];if(!(0,_t.isWhiteSpace)(rn))break;(0,wt.info)(`Found "${(0,wt.bytesToString)(on)}" when searching for endstream command.`),zt=cn;break}}if(zt<0)throw new wt.FormatError("Missing endstream command.")}Ht=zt,dn.nextChar(),this.shift(),this.shift()}return this.shift(),Ut=Ut.makeSubStream(Mt,Ht,Wt),Yt&&(Ut=Yt.createStream(Ut,Ht)),Ut=this.filter(Ut,Wt,Ht),Ut.dict=Wt,Ut}filter(Wt,Yt,dn){let Ut=Yt.get("F","Filter"),Mt=Yt.get("DP","DecodeParms");if(Ut instanceof kt.Name)return Array.isArray(Mt)&&(0,wt.warn)("/DecodeParms should not be an Array, when /Filter is a Name."),this.makeFilter(Wt,Ut.name,dn,Mt);let Ht=dn;if(Array.isArray(Ut)){const sn=Ut,zt=Mt;for(let Xt=0,Qt=sn.length;Xt<Qt;++Xt){if(Ut=this.xref.fetchIfRef(sn[Xt]),!(Ut instanceof kt.Name))throw new wt.FormatError(`Bad filter name "${Ut}"`);Mt=null,Array.isArray(zt)&&Xt in zt&&(Mt=this.xref.fetchIfRef(zt[Xt])),Wt=this.makeFilter(Wt,Ut.name,Ht,Mt),Ht=null}}return Wt}makeFilter(Wt,Yt,dn,Ut){if(dn===0)return(0,wt.warn)(`Empty "${Yt}" stream.`),new ht.NullStream;try{switch(Yt){case"Fl":case"FlateDecode":return Ut?new Rt.PredictorStream(new qt.FlateStream(Wt,dn),dn,Ut):new qt.FlateStream(Wt,dn);case"LZW":case"LZWDecode":let Mt=1;return Ut?(Ut.has("EarlyChange")&&(Mt=Ut.get("EarlyChange")),new Rt.PredictorStream(new jt.LZWStream(Wt,dn,Mt),dn,Ut)):new jt.LZWStream(Wt,dn,Mt);case"DCT":case"DCTDecode":return new $t.JpegStream(Wt,dn,Ut);case"JPX":case"JPXDecode":return new Ot.JpxStream(Wt,dn,Ut);case"A85":case"ASCII85Decode":return new vt.Ascii85Stream(Wt,dn);case"AHx":case"ASCIIHexDecode":return new Ft.AsciiHexStream(Wt,dn);case"CCF":case"CCITTFaxDecode":return new Vt.CCITTFaxStream(Wt,dn,Ut);case"RL":case"RunLengthDecode":return new Kt.RunLengthStream(Wt,dn);case"JBIG2Decode":return new Lt.Jbig2Stream(Wt,dn,Ut)}return(0,wt.warn)(`Filter "${Yt}" is not supported.`),Wt}catch(Mt){if(Mt instanceof _t.MissingDataException)throw Mt;return(0,wt.warn)(`Invalid stream: "${Mt}"`),new ht.NullStream}}}Et.Parser=en;const hn=[1,0,0,0,0,0,0,0,0,1,1,0,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,2,0,0,2,2,0,0,0,0,0,2,0,0,0,0,0,0,0,0,0,0,0,0,2,0,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,0,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,0,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];function tn(bn){return bn>=48&&bn<=57?bn&15:bn>=65&&bn<=70||bn>=97&&bn<=102?(bn&15)+9:-1}class gn{constructor(Wt,Yt=null){this.stream=Wt,this.nextChar(),this.strBuf=[],this.knownCommands=Yt,this._hexStringNumWarn=0,this.beginInlineImagePos=-1}nextChar(){return this.currentChar=this.stream.getByte()}peekChar(){return this.stream.peekByte()}getNumber(){let Wt=this.currentChar,Yt=!1,dn=0,Ut=1;if(Wt===45?(Ut=-1,Wt=this.nextChar(),Wt===45&&(Wt=this.nextChar())):Wt===43&&(Wt=this.nextChar()),Wt===10||Wt===13)do Wt=this.nextChar();while(Wt===10||Wt===13);if(Wt===46&&(dn=10,Wt=this.nextChar()),Wt<48||Wt>57){const zt=`Invalid number: ${String.fromCharCode(Wt)} (charCode ${Wt})`;if((0,_t.isWhiteSpace)(Wt)||Wt===-1)return(0,wt.info)(`Lexer.getNumber - "${zt}".`),0;throw new wt.FormatError(zt)}let Mt=Wt-48,Ht=0,sn=1;for(;(Wt=this.nextChar())>=0;)if(Wt>=48&&Wt<=57){const zt=Wt-48;Yt?Ht=Ht*10+zt:(dn!==0&&(dn*=10),Mt=Mt*10+zt)}else if(Wt===46)if(dn===0)dn=1;else break;else if(Wt===45)(0,wt.warn)("Badly formatted number: minus sign in the middle");else if(Wt===69||Wt===101){if(Wt=this.peekChar(),Wt===43||Wt===45)sn=Wt===45?-1:1,this.nextChar();else if(Wt<48||Wt>57)break;Yt=!0}else break;return dn!==0&&(Mt/=dn),Yt&&(Mt*=10**(sn*Ht)),Ut*Mt}getString(){let Wt=1,Yt=!1;const dn=this.strBuf;dn.length=0;let Ut=this.nextChar();for(;;){let Mt=!1;switch(Ut|0){case-1:(0,wt.warn)("Unterminated string"),Yt=!0;break;case 40:++Wt,dn.push("(");break;case 41:--Wt===0?(this.nextChar(),Yt=!0):dn.push(")");break;case 92:switch(Ut=this.nextChar(),Ut){case-1:(0,wt.warn)("Unterminated string"),Yt=!0;break;case 110:dn.push(`
`);break;case 114:dn.push("\r");break;case 116:dn.push("	");break;case 98:dn.push("\b");break;case 102:dn.push("\f");break;case 92:case 40:case 41:dn.push(String.fromCharCode(Ut));break;case 48:case 49:case 50:case 51:case 52:case 53:case 54:case 55:let Ht=Ut&15;Ut=this.nextChar(),Mt=!0,Ut>=48&&Ut<=55&&(Ht=(Ht<<3)+(Ut&15),Ut=this.nextChar(),Ut>=48&&Ut<=55&&(Mt=!1,Ht=(Ht<<3)+(Ut&15))),dn.push(String.fromCharCode(Ht));break;case 13:this.peekChar()===10&&this.nextChar();break;case 10:break;default:dn.push(String.fromCharCode(Ut));break}break;default:dn.push(String.fromCharCode(Ut));break}if(Yt)break;Mt||(Ut=this.nextChar())}return dn.join("")}getName(){let Wt,Yt;const dn=this.strBuf;for(dn.length=0;(Wt=this.nextChar())>=0&&!hn[Wt];)if(Wt===35){if(Wt=this.nextChar(),hn[Wt]){(0,wt.warn)("Lexer_getName: NUMBER SIGN (#) should be followed by a hexadecimal number."),dn.push("#");break}const Ut=tn(Wt);if(Ut!==-1){Yt=Wt,Wt=this.nextChar();const Mt=tn(Wt);if(Mt===-1){if((0,wt.warn)(`Lexer_getName: Illegal digit (${String.fromCharCode(Wt)}) in hexadecimal number.`),dn.push("#",String.fromCharCode(Yt)),hn[Wt])break;dn.push(String.fromCharCode(Wt));continue}dn.push(String.fromCharCode(Ut<<4|Mt))}else dn.push("#",String.fromCharCode(Wt))}else dn.push(String.fromCharCode(Wt));return dn.length>127&&(0,wt.warn)(`Name token is longer than allowed by the spec: ${dn.length}`),kt.Name.get(dn.join(""))}_hexStringWarn(Wt){if(this._hexStringNumWarn++===5){(0,wt.warn)("getHexString - ignoring additional invalid characters.");return}this._hexStringNumWarn>5||(0,wt.warn)(`getHexString - ignoring invalid character: ${Wt}`)}getHexString(){const Wt=this.strBuf;Wt.length=0;let Yt=this.currentChar,dn=!0,Ut,Mt;for(this._hexStringNumWarn=0;;)if(Yt<0){(0,wt.warn)("Unterminated hex string");break}else if(Yt===62){this.nextChar();break}else if(hn[Yt]===1){Yt=this.nextChar();continue}else{if(dn){if(Ut=tn(Yt),Ut===-1){this._hexStringWarn(Yt),Yt=this.nextChar();continue}}else{if(Mt=tn(Yt),Mt===-1){this._hexStringWarn(Yt),Yt=this.nextChar();continue}Wt.push(String.fromCharCode(Ut<<4|Mt))}dn=!dn,Yt=this.nextChar()}return Wt.join("")}getObj(){let Wt=!1,Yt=this.currentChar;for(;;){if(Yt<0)return kt.EOF;if(Wt)(Yt===10||Yt===13)&&(Wt=!1);else if(Yt===37)Wt=!0;else if(hn[Yt]!==1)break;Yt=this.nextChar()}switch(Yt|0){case 48:case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:case 43:case 45:case 46:return this.getNumber();case 40:return this.getString();case 47:return this.getName();case 91:return this.nextChar(),kt.Cmd.get("[");case 93:return this.nextChar(),kt.Cmd.get("]");case 60:return Yt=this.nextChar(),Yt===60?(this.nextChar(),kt.Cmd.get("<<")):this.getHexString();case 62:return Yt=this.nextChar(),Yt===62?(this.nextChar(),kt.Cmd.get(">>")):kt.Cmd.get(">");case 123:return this.nextChar(),kt.Cmd.get("{");case 125:return this.nextChar(),kt.Cmd.get("}");case 41:throw this.nextChar(),new wt.FormatError(`Illegal character: ${Yt}`)}let dn=String.fromCharCode(Yt);if(Yt<32||Yt>127){const Ht=this.peekChar();if(Ht>=32&&Ht<=127)return this.nextChar(),kt.Cmd.get(dn)}const Ut=this.knownCommands;let Mt=(Ut==null?void 0:Ut[dn])!==void 0;for(;(Yt=this.nextChar())>=0&&!hn[Yt];){const Ht=dn+String.fromCharCode(Yt);if(Mt&&Ut[Ht]===void 0)break;if(dn.length===128)throw new wt.FormatError(`Command token too long: ${dn.length}`);dn=Ht,Mt=(Ut==null?void 0:Ut[dn])!==void 0}return dn==="true"?!0:dn==="false"?!1:dn==="null"?null:(dn==="BI"&&(this.beginInlineImagePos=this.stream.pos),kt.Cmd.get(dn))}skipToNextLine(){let Wt=this.currentChar;for(;Wt>=0;){if(Wt===13){Wt=this.nextChar(),Wt===10&&this.nextChar();break}else if(Wt===10){this.nextChar();break}Wt=this.nextChar()}}}Et.Lexer=gn;class nn{static create(Wt){function Yt(ln,on,cn=!1){const rn=ln.get(on);if(Number.isInteger(rn)&&(cn?rn>=0:rn>0))return rn;throw new Error(`The "${on}" parameter in the linearization dictionary is invalid.`)}function dn(ln){const on=ln.get("H");let cn;if(Array.isArray(on)&&((cn=on.length)===2||cn===4)){for(let rn=0;rn<cn;rn++){const an=on[rn];if(!(Number.isInteger(an)&&an>0))throw new Error(`Hint (${rn}) in the linearization dictionary is invalid.`)}return on}throw new Error("Hint array in the linearization dictionary is invalid.")}const Ut=new en({lexer:new gn(Wt),xref:null}),Mt=Ut.getObj(),Ht=Ut.getObj(),sn=Ut.getObj(),zt=Ut.getObj();let Xt,Qt;if(Number.isInteger(Mt)&&Number.isInteger(Ht)&&(0,kt.isCmd)(sn,"obj")&&zt instanceof kt.Dict&&typeof(Xt=zt.get("Linearized"))=="number"&&Xt>0){if((Qt=Yt(zt,"L"))!==Wt.length)throw new Error('The "L" parameter in the linearization dictionary does not equal the stream length.')}else return null;return{length:Qt,hints:dn(zt),objectNumberFirst:Yt(zt,"O"),endFirst:Yt(zt,"E"),numPages:Yt(zt,"N"),mainXRefEntriesOffset:Yt(zt,"T"),pageFirst:zt.has("P")?Yt(zt,"P",!0):0}}}Et.Linearization=nn},(Ct,Et,Pt)=>{Object.defineProperty(Et,"__esModule",{value:!0}),Et.Ascii85Stream=void 0;var wt=Pt(18),kt=Pt(3);class _t extends wt.DecodeStream{constructor(vt,Ft){Ft&&(Ft*=.8),super(Ft),this.str=vt,this.dict=vt.dict,this.input=new Uint8Array(5)}readBlock(){const qt=this.str;let Lt=qt.getByte();for(;(0,kt.isWhiteSpace)(Lt);)Lt=qt.getByte();if(Lt===-1||Lt===126){this.eof=!0;return}const $t=this.bufferLength;let Ot,jt;if(Lt===122){for(Ot=this.ensureBuffer($t+4),jt=0;jt<4;++jt)Ot[$t+jt]=0;this.bufferLength+=4}else{const Rt=this.input;for(Rt[0]=Lt,jt=1;jt<5;++jt){for(Lt=qt.getByte();(0,kt.isWhiteSpace)(Lt);)Lt=qt.getByte();if(Rt[jt]=Lt,Lt===-1||Lt===126)break}if(Ot=this.ensureBuffer($t+jt-1),this.bufferLength+=jt-1,jt<5){for(;jt<5;++jt)Rt[jt]=117;this.eof=!0}let Kt=0;for(jt=0;jt<5;++jt)Kt=Kt*85+(Rt[jt]-33);for(jt=3;jt>=0;--jt)Ot[$t+jt]=Kt&255,Kt>>=8}}}Et.Ascii85Stream=_t},(Ct,Et,Pt)=>{Object.defineProperty(Et,"__esModule",{value:!0}),Et.StreamsSequenceStream=Et.DecodeStream=void 0;var wt=Pt(5),kt=Pt(8);const _t=new Uint8Array(0);class ht extends wt.BaseStream{constructor(Vt){if(super(),this._rawMinBufferLength=Vt||0,this.pos=0,this.bufferLength=0,this.eof=!1,this.buffer=_t,this.minBufferLength=512,Vt)for(;this.minBufferLength<Vt;)this.minBufferLength*=2}get isEmpty(){for(;!this.eof&&this.bufferLength===0;)this.readBlock();return this.bufferLength===0}ensureBuffer(Vt){const qt=this.buffer;if(Vt<=qt.byteLength)return qt;let Lt=this.minBufferLength;for(;Lt<Vt;)Lt*=2;const $t=new Uint8Array(Lt);return $t.set(qt),this.buffer=$t}getByte(){const Vt=this.pos;for(;this.bufferLength<=Vt;){if(this.eof)return-1;this.readBlock()}return this.buffer[this.pos++]}getBytes(Vt){const qt=this.pos;let Lt;if(Vt){for(this.ensureBuffer(qt+Vt),Lt=qt+Vt;!this.eof&&this.bufferLength<Lt;)this.readBlock();const $t=this.bufferLength;Lt>$t&&(Lt=$t)}else{for(;!this.eof;)this.readBlock();Lt=this.bufferLength}return this.pos=Lt,this.buffer.subarray(qt,Lt)}reset(){this.pos=0}makeSubStream(Vt,qt,Lt=null){if(qt===void 0)for(;!this.eof;)this.readBlock();else{const $t=Vt+qt;for(;this.bufferLength<=$t&&!this.eof;)this.readBlock()}return new kt.Stream(this.buffer,Vt,qt,Lt)}getBaseStreams(){return this.str?this.str.getBaseStreams():null}}Et.DecodeStream=ht;class vt extends ht{constructor(Vt,qt=null){let Lt=0;for(const $t of Vt)Lt+=$t instanceof ht?$t._rawMinBufferLength:$t.length;super(Lt),this.streams=Vt,this._onError=qt}readBlock(){var Rt;const Vt=this.streams;if(Vt.length===0){this.eof=!0;return}const qt=Vt.shift();let Lt;try{Lt=qt.getBytes()}catch(Kt){if(this._onError){this._onError(Kt,(Rt=qt.dict)==null?void 0:Rt.objId);return}throw Kt}const $t=this.bufferLength,Ot=$t+Lt.length;this.ensureBuffer(Ot).set(Lt,$t),this.bufferLength=Ot}getBaseStreams(){const Vt=[];for(const qt of this.streams){const Lt=qt.getBaseStreams();Lt&&Vt.push(...Lt)}return Vt.length>0?Vt:null}}Et.StreamsSequenceStream=vt},(Ct,Et,Pt)=>{Object.defineProperty(Et,"__esModule",{value:!0}),Et.AsciiHexStream=void 0;var wt=Pt(18);class kt extends wt.DecodeStream{constructor(ht,vt){vt&&(vt*=.5),super(vt),this.str=ht,this.dict=ht.dict,this.firstDigit=-1}readBlock(){const vt=this.str.getBytes(8e3);if(!vt.length){this.eof=!0;return}const Ft=vt.length+1>>1,Vt=this.ensureBuffer(this.bufferLength+Ft);let qt=this.bufferLength,Lt=this.firstDigit;for(const $t of vt){let Ot;if($t>=48&&$t<=57)Ot=$t&15;else if($t>=65&&$t<=70||$t>=97&&$t<=102)Ot=($t&15)+9;else if($t===62){this.eof=!0;break}else continue;Lt<0?Lt=Ot:(Vt[qt++]=Lt<<4|Ot,Lt=-1)}Lt>=0&&this.eof&&(Vt[qt++]=Lt<<4,Lt=-1),this.firstDigit=Lt,this.bufferLength=qt}}Et.AsciiHexStream=kt},(Ct,Et,Pt)=>{Object.defineProperty(Et,"__esModule",{value:!0}),Et.CCITTFaxStream=void 0;var wt=Pt(21),kt=Pt(18),_t=Pt(4);class ht extends kt.DecodeStream{constructor(Ft,Vt,qt){super(Vt),this.str=Ft,this.dict=Ft.dict,qt instanceof _t.Dict||(qt=_t.Dict.empty);const Lt={next(){return Ft.getByte()}};this.ccittFaxDecoder=new wt.CCITTFaxDecoder(Lt,{K:qt.get("K"),EndOfLine:qt.get("EndOfLine"),EncodedByteAlign:qt.get("EncodedByteAlign"),Columns:qt.get("Columns"),Rows:qt.get("Rows"),EndOfBlock:qt.get("EndOfBlock"),BlackIs1:qt.get("BlackIs1")})}readBlock(){for(;!this.eof;){const Ft=this.ccittFaxDecoder.readNextChar();if(Ft===-1){this.eof=!0;return}this.ensureBuffer(this.bufferLength+1),this.buffer[this.bufferLength++]=Ft}}}Et.CCITTFaxStream=ht},(Ct,Et,Pt)=>{Object.defineProperty(Et,"__esModule",{value:!0}),Et.CCITTFaxDecoder=void 0;var wt=Pt(2);const kt=-2,_t=-1,ht=0,vt=1,Ft=2,Vt=3,qt=4,Lt=5,$t=6,Ot=7,jt=8,Rt=[[-1,-1],[-1,-1],[7,jt],[7,Ot],[6,$t],[6,$t],[6,Lt],[6,Lt],[4,ht],[4,ht],[4,ht],[4,ht],[4,ht],[4,ht],[4,ht],[4,ht],[3,vt],[3,vt],[3,vt],[3,vt],[3,vt],[3,vt],[3,vt],[3,vt],[3,vt],[3,vt],[3,vt],[3,vt],[3,vt],[3,vt],[3,vt],[3,vt],[3,qt],[3,qt],[3,qt],[3,qt],[3,qt],[3,qt],[3,qt],[3,qt],[3,qt],[3,qt],[3,qt],[3,qt],[3,qt],[3,qt],[3,qt],[3,qt],[3,Vt],[3,Vt],[3,Vt],[3,Vt],[3,Vt],[3,Vt],[3,Vt],[3,Vt],[3,Vt],[3,Vt],[3,Vt],[3,Vt],[3,Vt],[3,Vt],[3,Vt],[3,Vt],[1,Ft],[1,Ft],[1,Ft],[1,Ft],[1,Ft],[1,Ft],[1,Ft],[1,Ft],[1,Ft],[1,Ft],[1,Ft],[1,Ft],[1,Ft],[1,Ft],[1,Ft],[1,Ft],[1,Ft],[1,Ft],[1,Ft],[1,Ft],[1,Ft],[1,Ft],[1,Ft],[1,Ft],[1,Ft],[1,Ft],[1,Ft],[1,Ft],[1,Ft],[1,Ft],[1,Ft],[1,Ft],[1,Ft],[1,Ft],[1,Ft],[1,Ft],[1,Ft],[1,Ft],[1,Ft],[1,Ft],[1,Ft],[1,Ft],[1,Ft],[1,Ft],[1,Ft],[1,Ft],[1,Ft],[1,Ft],[1,Ft],[1,Ft],[1,Ft],[1,Ft],[1,Ft],[1,Ft],[1,Ft],[1,Ft],[1,Ft],[1,Ft],[1,Ft],[1,Ft],[1,Ft],[1,Ft],[1,Ft],[1,Ft]],Kt=[[-1,-1],[12,kt],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[11,1792],[11,1792],[12,1984],[12,2048],[12,2112],[12,2176],[12,2240],[12,2304],[11,1856],[11,1856],[11,1920],[11,1920],[12,2368],[12,2432],[12,2496],[12,2560]],Bt=[[-1,-1],[-1,-1],[-1,-1],[-1,-1],[8,29],[8,29],[8,30],[8,30],[8,45],[8,45],[8,46],[8,46],[7,22],[7,22],[7,22],[7,22],[7,23],[7,23],[7,23],[7,23],[8,47],[8,47],[8,48],[8,48],[6,13],[6,13],[6,13],[6,13],[6,13],[6,13],[6,13],[6,13],[7,20],[7,20],[7,20],[7,20],[8,33],[8,33],[8,34],[8,34],[8,35],[8,35],[8,36],[8,36],[8,37],[8,37],[8,38],[8,38],[7,19],[7,19],[7,19],[7,19],[8,31],[8,31],[8,32],[8,32],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,12],[6,12],[6,12],[6,12],[6,12],[6,12],[6,12],[6,12],[8,53],[8,53],[8,54],[8,54],[7,26],[7,26],[7,26],[7,26],[8,39],[8,39],[8,40],[8,40],[8,41],[8,41],[8,42],[8,42],[8,43],[8,43],[8,44],[8,44],[7,21],[7,21],[7,21],[7,21],[7,28],[7,28],[7,28],[7,28],[8,61],[8,61],[8,62],[8,62],[8,63],[8,63],[8,0],[8,0],[8,320],[8,320],[8,384],[8,384],[5,10],[5,10],[5,10],[5,10],[5,10],[5,10],[5,10],[5,10],[5,10],[5,10],[5,10],[5,10],[5,10],[5,10],[5,10],[5,10],[5,11],[5,11],[5,11],[5,11],[5,11],[5,11],[5,11],[5,11],[5,11],[5,11],[5,11],[5,11],[5,11],[5,11],[5,11],[5,11],[7,27],[7,27],[7,27],[7,27],[8,59],[8,59],[8,60],[8,60],[9,1472],[9,1536],[9,1600],[9,1728],[7,18],[7,18],[7,18],[7,18],[7,24],[7,24],[7,24],[7,24],[8,49],[8,49],[8,50],[8,50],[8,51],[8,51],[8,52],[8,52],[7,25],[7,25],[7,25],[7,25],[8,55],[8,55],[8,56],[8,56],[8,57],[8,57],[8,58],[8,58],[6,192],[6,192],[6,192],[6,192],[6,192],[6,192],[6,192],[6,192],[6,1664],[6,1664],[6,1664],[6,1664],[6,1664],[6,1664],[6,1664],[6,1664],[8,448],[8,448],[8,512],[8,512],[9,704],[9,768],[8,640],[8,640],[8,576],[8,576],[9,832],[9,896],[9,960],[9,1024],[9,1088],[9,1152],[9,1216],[9,1280],[9,1344],[9,1408],[7,256],[7,256],[7,256],[7,256],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[5,128],[5,128],[5,128],[5,128],[5,128],[5,128],[5,128],[5,128],[5,128],[5,128],[5,128],[5,128],[5,128],[5,128],[5,128],[5,128],[5,8],[5,8],[5,8],[5,8],[5,8],[5,8],[5,8],[5,8],[5,8],[5,8],[5,8],[5,8],[5,8],[5,8],[5,8],[5,8],[5,9],[5,9],[5,9],[5,9],[5,9],[5,9],[5,9],[5,9],[5,9],[5,9],[5,9],[5,9],[5,9],[5,9],[5,9],[5,9],[6,16],[6,16],[6,16],[6,16],[6,16],[6,16],[6,16],[6,16],[6,17],[6,17],[6,17],[6,17],[6,17],[6,17],[6,17],[6,17],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[6,14],[6,14],[6,14],[6,14],[6,14],[6,14],[6,14],[6,14],[6,15],[6,15],[6,15],[6,15],[6,15],[6,15],[6,15],[6,15],[5,64],[5,64],[5,64],[5,64],[5,64],[5,64],[5,64],[5,64],[5,64],[5,64],[5,64],[5,64],[5,64],[5,64],[5,64],[5,64],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7]],Gt=[[-1,-1],[-1,-1],[12,kt],[12,kt],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[11,1792],[11,1792],[11,1792],[11,1792],[12,1984],[12,1984],[12,2048],[12,2048],[12,2112],[12,2112],[12,2176],[12,2176],[12,2240],[12,2240],[12,2304],[12,2304],[11,1856],[11,1856],[11,1856],[11,1856],[11,1920],[11,1920],[11,1920],[11,1920],[12,2368],[12,2368],[12,2432],[12,2432],[12,2496],[12,2496],[12,2560],[12,2560],[10,18],[10,18],[10,18],[10,18],[10,18],[10,18],[10,18],[10,18],[12,52],[12,52],[13,640],[13,704],[13,768],[13,832],[12,55],[12,55],[12,56],[12,56],[13,1280],[13,1344],[13,1408],[13,1472],[12,59],[12,59],[12,60],[12,60],[13,1536],[13,1600],[11,24],[11,24],[11,24],[11,24],[11,25],[11,25],[11,25],[11,25],[13,1664],[13,1728],[12,320],[12,320],[12,384],[12,384],[12,448],[12,448],[13,512],[13,576],[12,53],[12,53],[12,54],[12,54],[13,896],[13,960],[13,1024],[13,1088],[13,1152],[13,1216],[10,64],[10,64],[10,64],[10,64],[10,64],[10,64],[10,64],[10,64]],en=[[8,13],[8,13],[8,13],[8,13],[8,13],[8,13],[8,13],[8,13],[8,13],[8,13],[8,13],[8,13],[8,13],[8,13],[8,13],[8,13],[11,23],[11,23],[12,50],[12,51],[12,44],[12,45],[12,46],[12,47],[12,57],[12,58],[12,61],[12,256],[10,16],[10,16],[10,16],[10,16],[10,17],[10,17],[10,17],[10,17],[12,48],[12,49],[12,62],[12,63],[12,30],[12,31],[12,32],[12,33],[12,40],[12,41],[11,22],[11,22],[8,14],[8,14],[8,14],[8,14],[8,14],[8,14],[8,14],[8,14],[8,14],[8,14],[8,14],[8,14],[8,14],[8,14],[8,14],[8,14],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[9,15],[9,15],[9,15],[9,15],[9,15],[9,15],[9,15],[9,15],[12,128],[12,192],[12,26],[12,27],[12,28],[12,29],[11,19],[11,19],[11,20],[11,20],[12,34],[12,35],[12,36],[12,37],[12,38],[12,39],[11,21],[11,21],[12,42],[12,43],[10,0],[10,0],[10,0],[10,0],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12]],hn=[[-1,-1],[-1,-1],[-1,-1],[-1,-1],[6,9],[6,8],[5,7],[5,7],[4,6],[4,6],[4,6],[4,6],[4,5],[4,5],[4,5],[4,5],[3,1],[3,1],[3,1],[3,1],[3,1],[3,1],[3,1],[3,1],[3,4],[3,4],[3,4],[3,4],[3,4],[3,4],[3,4],[3,4],[2,3],[2,3],[2,3],[2,3],[2,3],[2,3],[2,3],[2,3],[2,3],[2,3],[2,3],[2,3],[2,3],[2,3],[2,3],[2,3],[2,2],[2,2],[2,2],[2,2],[2,2],[2,2],[2,2],[2,2],[2,2],[2,2],[2,2],[2,2],[2,2],[2,2],[2,2],[2,2]];class tn{constructor(nn,bn={}){if(!nn||typeof nn.next!="function")throw new Error('CCITTFaxDecoder - invalid "source" parameter.');this.source=nn,this.eof=!1,this.encoding=bn.K||0,this.eoline=bn.EndOfLine||!1,this.byteAlign=bn.EncodedByteAlign||!1,this.columns=bn.Columns||1728,this.rows=bn.Rows||0,this.eoblock=bn.EndOfBlock??!0,this.black=bn.BlackIs1||!1,this.codingLine=new Uint32Array(this.columns+1),this.refLine=new Uint32Array(this.columns+2),this.codingLine[0]=this.columns,this.codingPos=0,this.row=0,this.nextLine2D=this.encoding<0,this.inputBits=0,this.inputBuf=0,this.outputBits=0,this.rowsDone=!1;let Wt;for(;(Wt=this._lookBits(12))===0;)this._eatBits(1);Wt===1&&this._eatBits(12),this.encoding>0&&(this.nextLine2D=!this._lookBits(1),this._eatBits(1))}readNextChar(){if(this.eof)return-1;const nn=this.refLine,bn=this.codingLine,Wt=this.columns;let Yt,dn,Ut,Mt;if(this.outputBits===0){if(this.rowsDone&&(this.eof=!0),this.eof)return-1;this.err=!1;let sn,zt,Xt;if(this.nextLine2D){for(Mt=0;bn[Mt]<Wt;++Mt)nn[Mt]=bn[Mt];for(nn[Mt++]=Wt,nn[Mt]=Wt,bn[0]=0,this.codingPos=0,Yt=0,dn=0;bn[this.codingPos]<Wt;)switch(sn=this._getTwoDimCode(),sn){case ht:this._addPixels(nn[Yt+1],dn),nn[Yt+1]<Wt&&(Yt+=2);break;case vt:if(sn=zt=0,dn){do sn+=Xt=this._getBlackCode();while(Xt>=64);do zt+=Xt=this._getWhiteCode();while(Xt>=64)}else{do sn+=Xt=this._getWhiteCode();while(Xt>=64);do zt+=Xt=this._getBlackCode();while(Xt>=64)}for(this._addPixels(bn[this.codingPos]+sn,dn),bn[this.codingPos]<Wt&&this._addPixels(bn[this.codingPos]+zt,dn^1);nn[Yt]<=bn[this.codingPos]&&nn[Yt]<Wt;)Yt+=2;break;case Ot:if(this._addPixels(nn[Yt]+3,dn),dn^=1,bn[this.codingPos]<Wt)for(++Yt;nn[Yt]<=bn[this.codingPos]&&nn[Yt]<Wt;)Yt+=2;break;case Lt:if(this._addPixels(nn[Yt]+2,dn),dn^=1,bn[this.codingPos]<Wt)for(++Yt;nn[Yt]<=bn[this.codingPos]&&nn[Yt]<Wt;)Yt+=2;break;case Vt:if(this._addPixels(nn[Yt]+1,dn),dn^=1,bn[this.codingPos]<Wt)for(++Yt;nn[Yt]<=bn[this.codingPos]&&nn[Yt]<Wt;)Yt+=2;break;case Ft:if(this._addPixels(nn[Yt],dn),dn^=1,bn[this.codingPos]<Wt)for(++Yt;nn[Yt]<=bn[this.codingPos]&&nn[Yt]<Wt;)Yt+=2;break;case jt:if(this._addPixelsNeg(nn[Yt]-3,dn),dn^=1,bn[this.codingPos]<Wt)for(Yt>0?--Yt:++Yt;nn[Yt]<=bn[this.codingPos]&&nn[Yt]<Wt;)Yt+=2;break;case $t:if(this._addPixelsNeg(nn[Yt]-2,dn),dn^=1,bn[this.codingPos]<Wt)for(Yt>0?--Yt:++Yt;nn[Yt]<=bn[this.codingPos]&&nn[Yt]<Wt;)Yt+=2;break;case qt:if(this._addPixelsNeg(nn[Yt]-1,dn),dn^=1,bn[this.codingPos]<Wt)for(Yt>0?--Yt:++Yt;nn[Yt]<=bn[this.codingPos]&&nn[Yt]<Wt;)Yt+=2;break;case _t:this._addPixels(Wt,0),this.eof=!0;break;default:(0,wt.info)("bad 2d code"),this._addPixels(Wt,0),this.err=!0}}else for(bn[0]=0,this.codingPos=0,dn=0;bn[this.codingPos]<Wt;){if(sn=0,dn)do sn+=Xt=this._getBlackCode();while(Xt>=64);else do sn+=Xt=this._getWhiteCode();while(Xt>=64);this._addPixels(bn[this.codingPos]+sn,dn),dn^=1}let Qt=!1;if(this.byteAlign&&(this.inputBits&=-8),!this.eoblock&&this.row===this.rows-1)this.rowsDone=!0;else{if(sn=this._lookBits(12),this.eoline)for(;sn!==_t&&sn!==1;)this._eatBits(1),sn=this._lookBits(12);else for(;sn===0;)this._eatBits(1),sn=this._lookBits(12);sn===1?(this._eatBits(12),Qt=!0):sn===_t&&(this.eof=!0)}if(!this.eof&&this.encoding>0&&!this.rowsDone&&(this.nextLine2D=!this._lookBits(1),this._eatBits(1)),this.eoblock&&Qt&&this.byteAlign){if(sn=this._lookBits(12),sn===1){if(this._eatBits(12),this.encoding>0&&(this._lookBits(1),this._eatBits(1)),this.encoding>=0)for(Mt=0;Mt<4;++Mt)sn=this._lookBits(12),sn!==1&&(0,wt.info)("bad rtc code: "+sn),this._eatBits(12),this.encoding>0&&(this._lookBits(1),this._eatBits(1));this.eof=!0}}else if(this.err&&this.eoline){for(;;){if(sn=this._lookBits(13),sn===_t)return this.eof=!0,-1;if(sn>>1===1)break;this._eatBits(1)}this._eatBits(12),this.encoding>0&&(this._eatBits(1),this.nextLine2D=!(sn&1))}this.outputBits=bn[0]>0?bn[this.codingPos=0]:bn[this.codingPos=1],this.row++}let Ht;if(this.outputBits>=8)Ht=this.codingPos&1?0:255,this.outputBits-=8,this.outputBits===0&&bn[this.codingPos]<Wt&&(this.codingPos++,this.outputBits=bn[this.codingPos]-bn[this.codingPos-1]);else{Ut=8,Ht=0;do{if(typeof this.outputBits!="number")throw new wt.FormatError('Invalid /CCITTFaxDecode data, "outputBits" must be a number.');this.outputBits>Ut?(Ht<<=Ut,this.codingPos&1||(Ht|=255>>8-Ut),this.outputBits-=Ut,Ut=0):(Ht<<=this.outputBits,this.codingPos&1||(Ht|=255>>8-this.outputBits),Ut-=this.outputBits,this.outputBits=0,bn[this.codingPos]<Wt?(this.codingPos++,this.outputBits=bn[this.codingPos]-bn[this.codingPos-1]):Ut>0&&(Ht<<=Ut,Ut=0))}while(Ut)}return this.black&&(Ht^=255),Ht}_addPixels(nn,bn){const Wt=this.codingLine;let Yt=this.codingPos;nn>Wt[Yt]&&(nn>this.columns&&((0,wt.info)("row is wrong length"),this.err=!0,nn=this.columns),Yt&1^bn&&++Yt,Wt[Yt]=nn),this.codingPos=Yt}_addPixelsNeg(nn,bn){const Wt=this.codingLine;let Yt=this.codingPos;if(nn>Wt[Yt])nn>this.columns&&((0,wt.info)("row is wrong length"),this.err=!0,nn=this.columns),Yt&1^bn&&++Yt,Wt[Yt]=nn;else if(nn<Wt[Yt]){for(nn<0&&((0,wt.info)("invalid code"),this.err=!0,nn=0);Yt>0&&nn<Wt[Yt-1];)--Yt;Wt[Yt]=nn}this.codingPos=Yt}_findTableCode(nn,bn,Wt,Yt){const dn=Yt||0;for(let Ut=nn;Ut<=bn;++Ut){let Mt=this._lookBits(Ut);if(Mt===_t)return[!0,1,!1];if(Ut<bn&&(Mt<<=bn-Ut),!dn||Mt>=dn){const Ht=Wt[Mt-dn];if(Ht[0]===Ut)return this._eatBits(Ut),[!0,Ht[1],!0]}}return[!1,0,!1]}_getTwoDimCode(){let nn=0,bn;if(this.eoblock){if(nn=this._lookBits(7),bn=Rt[nn],(bn==null?void 0:bn[0])>0)return this._eatBits(bn[0]),bn[1]}else{const Wt=this._findTableCode(1,7,Rt);if(Wt[0]&&Wt[2])return Wt[1]}return(0,wt.info)("Bad two dim code"),_t}_getWhiteCode(){let nn=0,bn;if(this.eoblock){if(nn=this._lookBits(12),nn===_t)return 1;if(bn=nn>>5?Bt[nn>>3]:Kt[nn],bn[0]>0)return this._eatBits(bn[0]),bn[1]}else{let Wt=this._findTableCode(1,9,Bt);if(Wt[0]||(Wt=this._findTableCode(11,12,Kt),Wt[0]))return Wt[1]}return(0,wt.info)("bad white code"),this._eatBits(1),1}_getBlackCode(){let nn,bn;if(this.eoblock){if(nn=this._lookBits(13),nn===_t)return 1;if(nn>>7?!(nn>>9)&&nn>>7?bn=en[(nn>>1)-64]:bn=hn[nn>>7]:bn=Gt[nn],bn[0]>0)return this._eatBits(bn[0]),bn[1]}else{let Wt=this._findTableCode(2,6,hn);if(Wt[0]||(Wt=this._findTableCode(7,12,en,64),Wt[0])||(Wt=this._findTableCode(10,13,Gt),Wt[0]))return Wt[1]}return(0,wt.info)("bad black code"),this._eatBits(1),1}_lookBits(nn){let bn;for(;this.inputBits<nn;){if((bn=this.source.next())===-1)return this.inputBits===0?_t:this.inputBuf<<nn-this.inputBits&65535>>16-nn;this.inputBuf=this.inputBuf<<8|bn,this.inputBits+=8}return this.inputBuf>>this.inputBits-nn&65535>>16-nn}_eatBits(nn){(this.inputBits-=nn)<0&&(this.inputBits=0)}}Et.CCITTFaxDecoder=tn},(Ct,Et,Pt)=>{Object.defineProperty(Et,"__esModule",{value:!0}),Et.FlateStream=void 0;var wt=Pt(18),kt=Pt(2);const _t=new Int32Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),ht=new Int32Array([3,4,5,6,7,8,9,10,65547,65549,65551,65553,131091,131095,131099,131103,196643,196651,196659,196667,262211,262227,262243,262259,327811,327843,327875,327907,258,258,258]),vt=new Int32Array([1,2,3,4,65541,65543,131081,131085,196625,196633,262177,262193,327745,327777,393345,393409,459009,459137,524801,525057,590849,591361,657409,658433,724993,727041,794625,798721,868353,876545]),Ft=[new Int32Array([459008,524368,524304,524568,459024,524400,524336,590016,459016,524384,524320,589984,524288,524416,524352,590048,459012,524376,524312,589968,459028,524408,524344,590032,459020,524392,524328,59e4,524296,524424,524360,590064,459010,524372,524308,524572,459026,524404,524340,590024,459018,524388,524324,589992,524292,524420,524356,590056,459014,524380,524316,589976,459030,524412,524348,590040,459022,524396,524332,590008,524300,524428,524364,590072,459009,524370,524306,524570,459025,524402,524338,590020,459017,524386,524322,589988,524290,524418,524354,590052,459013,524378,524314,589972,459029,524410,524346,590036,459021,524394,524330,590004,524298,524426,524362,590068,459011,524374,524310,524574,459027,524406,524342,590028,459019,524390,524326,589996,524294,524422,524358,590060,459015,524382,524318,589980,459031,524414,524350,590044,459023,524398,524334,590012,524302,524430,524366,590076,459008,524369,524305,524569,459024,524401,524337,590018,459016,524385,524321,589986,524289,524417,524353,590050,459012,524377,524313,589970,459028,524409,524345,590034,459020,524393,524329,590002,524297,524425,524361,590066,459010,524373,524309,524573,459026,524405,524341,590026,459018,524389,524325,589994,524293,524421,524357,590058,459014,524381,524317,589978,459030,524413,524349,590042,459022,524397,524333,590010,524301,524429,524365,590074,459009,524371,524307,524571,459025,524403,524339,590022,459017,524387,524323,589990,524291,524419,524355,590054,459013,524379,524315,589974,459029,524411,524347,590038,459021,524395,524331,590006,524299,524427,524363,590070,459011,524375,524311,524575,459027,524407,524343,590030,459019,524391,524327,589998,524295,524423,524359,590062,459015,524383,524319,589982,459031,524415,524351,590046,459023,524399,524335,590014,524303,524431,524367,590078,459008,524368,524304,524568,459024,524400,524336,590017,459016,524384,524320,589985,524288,524416,524352,590049,459012,524376,524312,589969,459028,524408,524344,590033,459020,524392,524328,590001,524296,524424,524360,590065,459010,524372,524308,524572,459026,524404,524340,590025,459018,524388,524324,589993,524292,524420,524356,590057,459014,524380,524316,589977,459030,524412,524348,590041,459022,524396,524332,590009,524300,524428,524364,590073,459009,524370,524306,524570,459025,524402,524338,590021,459017,524386,524322,589989,524290,524418,524354,590053,459013,524378,524314,589973,459029,524410,524346,590037,459021,524394,524330,590005,524298,524426,524362,590069,459011,524374,524310,524574,459027,524406,524342,590029,459019,524390,524326,589997,524294,524422,524358,590061,459015,524382,524318,589981,459031,524414,524350,590045,459023,524398,524334,590013,524302,524430,524366,590077,459008,524369,524305,524569,459024,524401,524337,590019,459016,524385,524321,589987,524289,524417,524353,590051,459012,524377,524313,589971,459028,524409,524345,590035,459020,524393,524329,590003,524297,524425,524361,590067,459010,524373,524309,524573,459026,524405,524341,590027,459018,524389,524325,589995,524293,524421,524357,590059,459014,524381,524317,589979,459030,524413,524349,590043,459022,524397,524333,590011,524301,524429,524365,590075,459009,524371,524307,524571,459025,524403,524339,590023,459017,524387,524323,589991,524291,524419,524355,590055,459013,524379,524315,589975,459029,524411,524347,590039,459021,524395,524331,590007,524299,524427,524363,590071,459011,524375,524311,524575,459027,524407,524343,590031,459019,524391,524327,589999,524295,524423,524359,590063,459015,524383,524319,589983,459031,524415,524351,590047,459023,524399,524335,590015,524303,524431,524367,590079]),9],Vt=[new Int32Array([327680,327696,327688,327704,327684,327700,327692,327708,327682,327698,327690,327706,327686,327702,327694,0,327681,327697,327689,327705,327685,327701,327693,327709,327683,327699,327691,327707,327687,327703,327695,0]),5];class qt extends wt.DecodeStream{constructor($t,Ot){super(Ot),this.str=$t,this.dict=$t.dict;const jt=$t.getByte(),Rt=$t.getByte();if(jt===-1||Rt===-1)throw new kt.FormatError(`Invalid header in flate stream: ${jt}, ${Rt}`);if((jt&15)!==8)throw new kt.FormatError(`Unknown compression method in flate stream: ${jt}, ${Rt}`);if(((jt<<8)+Rt)%31!==0)throw new kt.FormatError(`Bad FCHECK in flate stream: ${jt}, ${Rt}`);if(Rt&32)throw new kt.FormatError(`FDICT bit set in flate stream: ${jt}, ${Rt}`);this.codeSize=0,this.codeBuf=0}getBits($t){const Ot=this.str;let jt=this.codeSize,Rt=this.codeBuf,Kt;for(;jt<$t;){if((Kt=Ot.getByte())===-1)throw new kt.FormatError("Bad encoding in flate stream");Rt|=Kt<<jt,jt+=8}return Kt=Rt&(1<<$t)-1,this.codeBuf=Rt>>$t,this.codeSize=jt-=$t,Kt}getCode($t){const Ot=this.str,jt=$t[0],Rt=$t[1];let Kt=this.codeSize,Bt=this.codeBuf,Gt;for(;Kt<Rt&&(Gt=Ot.getByte())!==-1;)Bt|=Gt<<Kt,Kt+=8;const en=jt[Bt&(1<<Rt)-1],hn=en>>16,tn=en&65535;if(hn<1||Kt<hn)throw new kt.FormatError("Bad encoding in flate stream");return this.codeBuf=Bt>>hn,this.codeSize=Kt-hn,tn}generateHuffmanTable($t){const Ot=$t.length;let jt=0,Rt;for(Rt=0;Rt<Ot;++Rt)$t[Rt]>jt&&(jt=$t[Rt]);const Kt=1<<jt,Bt=new Int32Array(Kt);for(let Gt=1,en=0,hn=2;Gt<=jt;++Gt,en<<=1,hn<<=1)for(let tn=0;tn<Ot;++tn)if($t[tn]===Gt){let gn=0,nn=en;for(Rt=0;Rt<Gt;++Rt)gn=gn<<1|nn&1,nn>>=1;for(Rt=gn;Rt<Kt;Rt+=hn)Bt[Rt]=Gt<<16|tn;++en}return[Bt,jt]}readBlock(){let $t,Ot;const jt=this.str;let Rt=this.getBits(3);if(Rt&1&&(this.eof=!0),Rt>>=1,Rt===0){let hn;if((hn=jt.getByte())===-1)throw new kt.FormatError("Bad block header in flate stream");let tn=hn;if((hn=jt.getByte())===-1)throw new kt.FormatError("Bad block header in flate stream");if(tn|=hn<<8,(hn=jt.getByte())===-1)throw new kt.FormatError("Bad block header in flate stream");let gn=hn;if((hn=jt.getByte())===-1)throw new kt.FormatError("Bad block header in flate stream");if(gn|=hn<<8,gn!==(~tn&65535)&&(tn!==0||gn!==0))throw new kt.FormatError("Bad uncompressed block length in flate stream");this.codeBuf=0,this.codeSize=0;const nn=this.bufferLength,bn=nn+tn;if($t=this.ensureBuffer(bn),this.bufferLength=bn,tn===0)jt.peekByte()===-1&&(this.eof=!0);else{const Wt=jt.getBytes(tn);$t.set(Wt,nn),Wt.length<tn&&(this.eof=!0)}return}let Kt,Bt;if(Rt===1)Kt=Ft,Bt=Vt;else if(Rt===2){const hn=this.getBits(5)+257,tn=this.getBits(5)+1,gn=this.getBits(4)+4,nn=new Uint8Array(_t.length);let bn;for(bn=0;bn<gn;++bn)nn[_t[bn]]=this.getBits(3);const Wt=this.generateHuffmanTable(nn);Ot=0,bn=0;const Yt=hn+tn,dn=new Uint8Array(Yt);let Ut,Mt,Ht;for(;bn<Yt;){const sn=this.getCode(Wt);if(sn===16)Ut=2,Mt=3,Ht=Ot;else if(sn===17)Ut=3,Mt=3,Ht=Ot=0;else if(sn===18)Ut=7,Mt=11,Ht=Ot=0;else{dn[bn++]=Ot=sn;continue}let zt=this.getBits(Ut)+Mt;for(;zt-- >0;)dn[bn++]=Ht}Kt=this.generateHuffmanTable(dn.subarray(0,hn)),Bt=this.generateHuffmanTable(dn.subarray(hn,Yt))}else throw new kt.FormatError("Unknown block type in flate stream");$t=this.buffer;let Gt=$t?$t.length:0,en=this.bufferLength;for(;;){let hn=this.getCode(Kt);if(hn<256){en+1>=Gt&&($t=this.ensureBuffer(en+1),Gt=$t.length),$t[en++]=hn;continue}if(hn===256){this.bufferLength=en;return}hn-=257,hn=ht[hn];let tn=hn>>16;tn>0&&(tn=this.getBits(tn)),Ot=(hn&65535)+tn,hn=this.getCode(Bt),hn=vt[hn],tn=hn>>16,tn>0&&(tn=this.getBits(tn));const gn=(hn&65535)+tn;en+Ot>=Gt&&($t=this.ensureBuffer(en+Ot),Gt=$t.length);for(let nn=0;nn<Ot;++nn,++en)$t[en]=$t[en-gn]}}}Et.FlateStream=qt},(Ct,Et,Pt)=>{Object.defineProperty(Et,"__esModule",{value:!0}),Et.Jbig2Stream=void 0;var wt=Pt(5),kt=Pt(18),_t=Pt(4),ht=Pt(24),vt=Pt(2);class Ft extends kt.DecodeStream{constructor(qt,Lt,$t){super(Lt),this.stream=qt,this.dict=qt.dict,this.maybeLength=Lt,this.params=$t}get bytes(){return(0,vt.shadow)(this,"bytes",this.stream.getBytes(this.maybeLength))}ensureBuffer(qt){}readBlock(){if(this.eof)return;const qt=new ht.Jbig2Image,Lt=[];if(this.params instanceof _t.Dict){const jt=this.params.get("JBIG2Globals");if(jt instanceof wt.BaseStream){const Rt=jt.getBytes();Lt.push({data:Rt,start:0,end:Rt.length})}}Lt.push({data:this.bytes,start:0,end:this.bytes.length});const $t=qt.parseChunks(Lt),Ot=$t.length;for(let jt=0;jt<Ot;jt++)$t[jt]^=255;this.buffer=$t,this.bufferLength=Ot,this.eof=!0}}Et.Jbig2Stream=Ft},(Ct,Et,Pt)=>{Object.defineProperty(Et,"__esModule",{value:!0}),Et.Jbig2Image=void 0;var wt=Pt(2),kt=Pt(3),_t=Pt(25),ht=Pt(21);class vt extends wt.BaseException{constructor(mn){super(`JBIG2 error: ${mn}`,"Jbig2Error")}}class Ft{getContexts(mn){return mn in this?this[mn]:this[mn]=new Int8Array(65536)}}class Vt{constructor(mn,pn,Jt){this.data=mn,this.start=pn,this.end=Jt}get decoder(){const mn=new _t.ArithmeticDecoder(this.data,this.start,this.end);return(0,wt.shadow)(this,"decoder",mn)}get contextCache(){const mn=new Ft;return(0,wt.shadow)(this,"contextCache",mn)}}const qt=2**31-1,Lt=-(2**31);function $t(An,mn,pn){const Jt=An.getContexts(mn);let un=1;function fn(Cn){let vn=0;for(let Rn=0;Rn<Cn;Rn++){const Mn=pn.readBit(Jt,un);un=un<256?un<<1|Mn:(un<<1|Mn)&511|256,vn=vn<<1|Mn}return vn>>>0}const Sn=fn(1),kn=fn(1)?fn(1)?fn(1)?fn(1)?fn(1)?fn(32)+4436:fn(12)+340:fn(8)+84:fn(6)+20:fn(4)+4:fn(2);let Pn;return Sn===0?Pn=kn:kn>0&&(Pn=-kn),Pn>=Lt&&Pn<=qt?Pn:null}function Ot(An,mn,pn){const Jt=An.getContexts("IAID");let un=1;for(let fn=0;fn<pn;fn++){const Sn=mn.readBit(Jt,un);un=un<<1|Sn}return pn<31?un&(1<<pn)-1:un&2147483647}const jt=["SymbolDictionary",null,null,null,"IntermediateTextRegion",null,"ImmediateTextRegion","ImmediateLosslessTextRegion",null,null,null,null,null,null,null,null,"PatternDictionary",null,null,null,"IntermediateHalftoneRegion",null,"ImmediateHalftoneRegion","ImmediateLosslessHalftoneRegion",null,null,null,null,null,null,null,null,null,null,null,null,"IntermediateGenericRegion",null,"ImmediateGenericRegion","ImmediateLosslessGenericRegion","IntermediateGenericRefinementRegion",null,"ImmediateGenericRefinementRegion","ImmediateLosslessGenericRefinementRegion",null,null,null,null,"PageInformation","EndOfPage","EndOfStripe","EndOfFile","Profiles","Tables",null,null,null,null,null,null,null,null,"Extension"],Rt=[[{x:-1,y:-2},{x:0,y:-2},{x:1,y:-2},{x:-2,y:-1},{x:-1,y:-1},{x:0,y:-1},{x:1,y:-1},{x:2,y:-1},{x:-4,y:0},{x:-3,y:0},{x:-2,y:0},{x:-1,y:0}],[{x:-1,y:-2},{x:0,y:-2},{x:1,y:-2},{x:2,y:-2},{x:-2,y:-1},{x:-1,y:-1},{x:0,y:-1},{x:1,y:-1},{x:2,y:-1},{x:-3,y:0},{x:-2,y:0},{x:-1,y:0}],[{x:-1,y:-2},{x:0,y:-2},{x:1,y:-2},{x:-2,y:-1},{x:-1,y:-1},{x:0,y:-1},{x:1,y:-1},{x:-2,y:0},{x:-1,y:0}],[{x:-3,y:-1},{x:-2,y:-1},{x:-1,y:-1},{x:0,y:-1},{x:1,y:-1},{x:-4,y:0},{x:-3,y:0},{x:-2,y:0},{x:-1,y:0}]],Kt=[{coding:[{x:0,y:-1},{x:1,y:-1},{x:-1,y:0}],reference:[{x:0,y:-1},{x:1,y:-1},{x:-1,y:0},{x:0,y:0},{x:1,y:0},{x:-1,y:1},{x:0,y:1},{x:1,y:1}]},{coding:[{x:-1,y:-1},{x:0,y:-1},{x:1,y:-1},{x:-1,y:0}],reference:[{x:0,y:-1},{x:-1,y:0},{x:0,y:0},{x:1,y:0},{x:0,y:1},{x:1,y:1}]}],Bt=[39717,1941,229,405];function Gt(An,mn,pn){const Jt=pn.decoder,un=pn.contextCache.getContexts("GB"),fn=[];let Sn,kn,Pn,Cn,vn,Rn,Mn;const _n=31735;for(kn=0;kn<mn;kn++)for(vn=fn[kn]=new Uint8Array(An),Rn=kn<1?vn:fn[kn-1],Mn=kn<2?vn:fn[kn-2],Sn=Mn[0]<<13|Mn[1]<<12|Mn[2]<<11|Rn[0]<<7|Rn[1]<<6|Rn[2]<<5|Rn[3]<<4,Pn=0;Pn<An;Pn++)vn[Pn]=Cn=Jt.readBit(un,Sn),Sn=(Sn&_n)<<1|(Pn+3<An?Mn[Pn+3]<<11:0)|(Pn+4<An?Rn[Pn+4]<<4:0)|Cn;return fn}function en(An,mn,pn,Jt,un,fn,Sn,kn){if(An){const ws=new an(kn.data,kn.start,kn.end);return In(ws,mn,pn,!1)}if(Jt===0&&!fn&&!un&&Sn.length===4&&Sn[0].x===3&&Sn[0].y===-1&&Sn[1].x===-3&&Sn[1].y===-1&&Sn[2].x===2&&Sn[2].y===-2&&Sn[3].x===-2&&Sn[3].y===-2)return Gt(mn,pn,kn);const Pn=Rt[Jt].concat(Sn);Pn.sort(function(ws,fs){return ws.y-fs.y||ws.x-fs.x});const Cn=Pn.length,vn=new Int8Array(Cn),Rn=new Int8Array(Cn),Mn=[];let _n=0,Dn=0,Ln=0,Un=0,ts,es;for(es=0;es<Cn;es++)vn[es]=Pn[es].x,Rn[es]=Pn[es].y,Dn=Math.min(Dn,Pn[es].x),Ln=Math.max(Ln,Pn[es].x),Un=Math.min(Un,Pn[es].y),es<Cn-1&&Pn[es].y===Pn[es+1].y&&Pn[es].x===Pn[es+1].x-1?_n|=1<<Cn-1-es:Mn.push(es);const Qn=Mn.length,Yn=new Int8Array(Qn),zn=new Int8Array(Qn),ns=new Uint16Array(Qn);for(ts=0;ts<Qn;ts++)es=Mn[ts],Yn[ts]=Pn[es].x,zn[ts]=Pn[es].y,ns[ts]=1<<Cn-1-es;const ls=-Dn,ds=-Un,Bn=mn-Ln,Hn=Bt[Jt];let Xn=new Uint8Array(mn);const cs=[],rs=kn.decoder,xs=kn.contextCache.getContexts("GB");let Jn=0,Wn,Zn,us,hs=0,os,ps;for(let ws=0;ws<pn;ws++){if(un){const fs=rs.readBit(xs,Hn);if(Jn^=fs,Jn){cs.push(Xn);continue}}for(Xn=new Uint8Array(Xn),cs.push(Xn),Wn=0;Wn<mn;Wn++){if(Wn>=ls&&Wn<Bn&&ws>=ds)for(hs=hs<<1&_n,es=0;es<Qn;es++)Zn=ws+zn[es],us=Wn+Yn[es],os=cs[Zn][us],os&&(os=ns[es],hs|=os);else for(hs=0,ps=Cn-1,es=0;es<Cn;es++,ps--)us=Wn+vn[es],us>=0&&us<mn&&(Zn=ws+Rn[es],Zn>=0&&(os=cs[Zn][us],os&&(hs|=os<<ps)));const fs=rs.readBit(xs,hs);Xn[Wn]=fs}}return cs}function hn(An,mn,pn,Jt,un,fn,Sn,kn,Pn){let Cn=Kt[pn].coding;pn===0&&(Cn=Cn.concat([kn[0]]));const vn=Cn.length,Rn=new Int32Array(vn),Mn=new Int32Array(vn);let _n;for(_n=0;_n<vn;_n++)Rn[_n]=Cn[_n].x,Mn[_n]=Cn[_n].y;let Dn=Kt[pn].reference;pn===0&&(Dn=Dn.concat([kn[1]]));const Ln=Dn.length,Un=new Int32Array(Ln),ts=new Int32Array(Ln);for(_n=0;_n<Ln;_n++)Un[_n]=Dn[_n].x,ts[_n]=Dn[_n].y;const es=Jt[0].length,Qn=Jt.length,Yn=[],zn=Pn.decoder,ns=Pn.contextCache.getContexts("GR");for(let ls=0;ls<mn;ls++){const ds=new Uint8Array(An);Yn.push(ds);for(let Bn=0;Bn<An;Bn++){let Hn,Xn,cs=0;for(_n=0;_n<vn;_n++)Hn=ls+Mn[_n],Xn=Bn+Rn[_n],Hn<0||Xn<0||Xn>=An?cs<<=1:cs=cs<<1|Yn[Hn][Xn];for(_n=0;_n<Ln;_n++)Hn=ls+ts[_n]-fn,Xn=Bn+Un[_n]-un,Hn<0||Hn>=Qn||Xn<0||Xn>=es?cs<<=1:cs=cs<<1|Jt[Hn][Xn];const rs=zn.readBit(ns,cs);ds[Bn]=rs}}return Yn}function tn(An,mn,pn,Jt,un,fn,Sn,kn,Pn,Cn,vn,Rn){if(An&&mn)throw new vt("symbol refinement with Huffman is not supported");const Mn=[];let _n=0,Dn=(0,kt.log2)(pn.length+Jt);const Ln=vn.decoder,Un=vn.contextCache;let ts,es;for(An&&(ts=rn(1),es=[],Dn=Math.max(Dn,1));Mn.length<Jt;){const Bn=An?fn.tableDeltaHeight.decode(Rn):$t(Un,"IADH",Ln);_n+=Bn;let Hn=0,Xn=0;const cs=An?es.length:0;for(;;){const rs=An?fn.tableDeltaWidth.decode(Rn):$t(Un,"IADW",Ln);if(rs===null)break;Hn+=rs,Xn+=Hn;let xs;if(mn){const Jn=$t(Un,"IAAI",Ln);if(Jn>1)xs=gn(An,mn,Hn,_n,0,Jn,1,pn.concat(Mn),Dn,0,0,1,0,fn,Pn,Cn,vn,0,Rn);else{const Wn=Ot(Un,Ln,Dn),Zn=$t(Un,"IARDX",Ln),us=$t(Un,"IARDY",Ln),hs=Wn<pn.length?pn[Wn]:Mn[Wn-pn.length];xs=hn(Hn,_n,Pn,hs,Zn,us,!1,Cn,vn)}Mn.push(xs)}else An?es.push(Hn):(xs=en(!1,Hn,_n,Sn,!1,null,kn,vn),Mn.push(xs))}if(An&&!mn){const rs=fn.tableBitmapSize.decode(Rn);Rn.byteAlign();let xs;if(rs===0)xs=Fn(Rn,Xn,_n);else{const Wn=Rn.end,Zn=Rn.position+rs;Rn.end=Zn,xs=In(Rn,Xn,_n,!1),Rn.end=Wn,Rn.position=Zn}const Jn=es.length;if(cs===Jn-1)Mn.push(xs);else{let Wn,Zn,us=0,hs,os,ps;for(Wn=cs;Wn<Jn;Wn++){for(os=es[Wn],hs=us+os,ps=[],Zn=0;Zn<_n;Zn++)ps.push(xs[Zn].subarray(us,hs));Mn.push(ps),us=hs}}}}const Qn=[],Yn=[];let zn=!1,ns,ls;const ds=pn.length+Jt;for(;Yn.length<ds;){let Bn=An?ts.decode(Rn):$t(Un,"IAEX",Ln);for(;Bn--;)Yn.push(zn);zn=!zn}for(ns=0,ls=pn.length;ns<ls;ns++)Yn[ns]&&Qn.push(pn[ns]);for(let Bn=0;Bn<Jt;ns++,Bn++)Yn[ns]&&Qn.push(Mn[Bn]);return Qn}function gn(An,mn,pn,Jt,un,fn,Sn,kn,Pn,Cn,vn,Rn,Mn,_n,Dn,Ln,Un,ts,es){if(An&&mn)throw new vt("refinement with Huffman is not supported");const Qn=[];let Yn,zn;for(Yn=0;Yn<Jt;Yn++){if(zn=new Uint8Array(pn),un)for(let Hn=0;Hn<pn;Hn++)zn[Hn]=un;Qn.push(zn)}const ns=Un.decoder,ls=Un.contextCache;let ds=An?-_n.tableDeltaT.decode(es):-$t(ls,"IADT",ns),Bn=0;for(Yn=0;Yn<fn;){const Hn=An?_n.tableDeltaT.decode(es):$t(ls,"IADT",ns);ds+=Hn;const Xn=An?_n.tableFirstS.decode(es):$t(ls,"IAFS",ns);Bn+=Xn;let cs=Bn;do{let rs=0;Sn>1&&(rs=An?es.readBits(ts):$t(ls,"IAIT",ns));const xs=Sn*ds+rs,Jn=An?_n.symbolIDTable.decode(es):Ot(ls,ns,Pn),Wn=mn&&(An?es.readBit():$t(ls,"IARI",ns));let Zn=kn[Jn],us=Zn[0].length,hs=Zn.length;if(Wn){const Fs=$t(ls,"IARDW",ns),$s=$t(ls,"IARDH",ns),Es=$t(ls,"IARDX",ns),Ps=$t(ls,"IARDY",ns);us+=Fs,hs+=$s,Zn=hn(us,hs,Dn,Zn,(Fs>>1)+Es,($s>>1)+Ps,!1,Ln,Un)}const os=xs-(Rn&1?0:hs-1),ps=cs-(Rn&2?us-1:0);let ws,fs,Ss;if(Cn){for(ws=0;ws<hs;ws++){if(zn=Qn[ps+ws],!zn)continue;Ss=Zn[ws];const Fs=Math.min(pn-os,us);switch(Mn){case 0:for(fs=0;fs<Fs;fs++)zn[os+fs]|=Ss[fs];break;case 2:for(fs=0;fs<Fs;fs++)zn[os+fs]^=Ss[fs];break;default:throw new vt(`operator ${Mn} is not supported`)}}cs+=hs-1}else{for(fs=0;fs<hs;fs++)if(zn=Qn[os+fs],!!zn)switch(Ss=Zn[fs],Mn){case 0:for(ws=0;ws<us;ws++)zn[ps+ws]|=Ss[ws];break;case 2:for(ws=0;ws<us;ws++)zn[ps+ws]^=Ss[ws];break;default:throw new vt(`operator ${Mn} is not supported`)}cs+=us-1}Yn++;const Ls=An?_n.tableDeltaS.decode(es):$t(ls,"IADS",ns);if(Ls===null)break;cs+=Ls+vn}while(!0)}return Qn}function nn(An,mn,pn,Jt,un,fn){const Sn=[];An||(Sn.push({x:-mn,y:0}),un===0&&Sn.push({x:-3,y:-1},{x:2,y:-2},{x:-2,y:-2}));const kn=(Jt+1)*mn,Pn=en(An,kn,pn,un,!1,null,Sn,fn),Cn=[];for(let vn=0;vn<=Jt;vn++){const Rn=[],Mn=mn*vn,_n=Mn+mn;for(let Dn=0;Dn<pn;Dn++)Rn.push(Pn[Dn].subarray(Mn,_n));Cn.push(Rn)}return Cn}function bn(An,mn,pn,Jt,un,fn,Sn,kn,Pn,Cn,vn,Rn,Mn,_n,Dn){if(Sn)throw new vt("skip is not supported");if(kn!==0)throw new vt(`operator "${kn}" is not supported in halftone region`);const Un=[];let ts,es,Qn;for(ts=0;ts<un;ts++){if(Qn=new Uint8Array(Jt),fn)for(es=0;es<Jt;es++)Qn[es]=fn;Un.push(Qn)}const Yn=mn.length,zn=mn[0],ns=zn[0].length,ls=zn.length,ds=(0,kt.log2)(Yn),Bn=[];An||(Bn.push({x:pn<=1?3:2,y:-1}),pn===0&&Bn.push({x:-3,y:-1},{x:2,y:-2},{x:-2,y:-2}));const Hn=[];let Xn,cs;for(An&&(Xn=new an(Dn.data,Dn.start,Dn.end)),ts=ds-1;ts>=0;ts--)An?cs=In(Xn,Pn,Cn,!0):cs=en(!1,Pn,Cn,pn,!1,null,Bn,Dn),Hn[ts]=cs;let rs,xs,Jn,Wn,Zn,us,hs,os,ps;for(rs=0;rs<Cn;rs++)for(xs=0;xs<Pn;xs++){for(Jn=0,Wn=0,es=ds-1;es>=0;es--)Jn^=Hn[es][rs][xs],Wn|=Jn<<es;if(Zn=mn[Wn],us=vn+rs*_n+xs*Mn>>8,hs=Rn+rs*Mn-xs*_n>>8,us>=0&&us+ns<=Jt&&hs>=0&&hs+ls<=un)for(ts=0;ts<ls;ts++)for(ps=Un[hs+ts],os=Zn[ts],es=0;es<ns;es++)ps[us+es]|=os[es];else{let ws,fs;for(ts=0;ts<ls;ts++)if(fs=hs+ts,!(fs<0||fs>=un))for(ps=Un[fs],os=Zn[ts],es=0;es<ns;es++)ws=us+es,ws>=0&&ws<Jt&&(ps[ws]|=os[es])}}return Un}function Wt(An,mn){const pn={};pn.number=(0,kt.readUint32)(An,mn);const Jt=An[mn+4],un=Jt&63;if(!jt[un])throw new vt("invalid segment type: "+un);pn.type=un,pn.typeName=jt[un],pn.deferredNonRetain=!!(Jt&128);const fn=!!(Jt&64),Sn=An[mn+5];let kn=Sn>>5&7;const Pn=[Sn&31];let Cn=mn+6;if(Sn===7){kn=(0,kt.readUint32)(An,Cn-1)&536870911,Cn+=3;let Dn=kn+7>>3;for(Pn[0]=An[Cn++];--Dn>0;)Pn.push(An[Cn++])}else if(Sn===5||Sn===6)throw new vt("invalid referred-to flags");pn.retainBits=Pn;let vn=4;pn.number<=256?vn=1:pn.number<=65536&&(vn=2);const Rn=[];let Mn,_n;for(Mn=0;Mn<kn;Mn++){let Dn;vn===1?Dn=An[Cn]:vn===2?Dn=(0,kt.readUint16)(An,Cn):Dn=(0,kt.readUint32)(An,Cn),Rn.push(Dn),Cn+=vn}if(pn.referredTo=Rn,fn?(pn.pageAssociation=(0,kt.readUint32)(An,Cn),Cn+=4):pn.pageAssociation=An[Cn++],pn.length=(0,kt.readUint32)(An,Cn),Cn+=4,pn.length===4294967295)if(un===38){const Dn=dn(An,Cn),Un=!!(An[Cn+Ut]&1),ts=6,es=new Uint8Array(ts);for(Un||(es[0]=255,es[1]=172),es[2]=Dn.height>>>24&255,es[3]=Dn.height>>16&255,es[4]=Dn.height>>8&255,es[5]=Dn.height&255,Mn=Cn,_n=An.length;Mn<_n;Mn++){let Qn=0;for(;Qn<ts&&es[Qn]===An[Mn+Qn];)Qn++;if(Qn===ts){pn.length=Mn+ts;break}}if(pn.length===4294967295)throw new vt("segment end was not found")}else throw new vt("invalid unknown segment length");return pn.headerEnd=Cn,pn}function Yt(An,mn,pn,Jt){const un=[];let fn=pn;for(;fn<Jt;){const Sn=Wt(mn,fn);fn=Sn.headerEnd;const kn={header:Sn,data:mn};if(An.randomAccess||(kn.start=fn,fn+=Sn.length,kn.end=fn),un.push(kn),Sn.type===51)break}if(An.randomAccess)for(let Sn=0,kn=un.length;Sn<kn;Sn++)un[Sn].start=fn,fn+=un[Sn].header.length,un[Sn].end=fn;return un}function dn(An,mn){return{width:(0,kt.readUint32)(An,mn),height:(0,kt.readUint32)(An,mn+4),x:(0,kt.readUint32)(An,mn+8),y:(0,kt.readUint32)(An,mn+12),combinationOperator:An[mn+16]&7}}const Ut=17;function Mt(An,mn){const pn=An.header,Jt=An.data,un=An.end;let fn=An.start,Sn,kn,Pn,Cn;switch(pn.type){case 0:const Rn={},Mn=(0,kt.readUint16)(Jt,fn);if(Rn.huffman=!!(Mn&1),Rn.refinement=!!(Mn&2),Rn.huffmanDHSelector=Mn>>2&3,Rn.huffmanDWSelector=Mn>>4&3,Rn.bitmapSizeSelector=Mn>>6&1,Rn.aggregationInstancesSelector=Mn>>7&1,Rn.bitmapCodingContextUsed=!!(Mn&256),Rn.bitmapCodingContextRetained=!!(Mn&512),Rn.template=Mn>>10&3,Rn.refinementTemplate=Mn>>12&1,fn+=2,!Rn.huffman){for(Cn=Rn.template===0?4:1,kn=[],Pn=0;Pn<Cn;Pn++)kn.push({x:(0,kt.readInt8)(Jt,fn),y:(0,kt.readInt8)(Jt,fn+1)}),fn+=2;Rn.at=kn}if(Rn.refinement&&!Rn.refinementTemplate){for(kn=[],Pn=0;Pn<2;Pn++)kn.push({x:(0,kt.readInt8)(Jt,fn),y:(0,kt.readInt8)(Jt,fn+1)}),fn+=2;Rn.refinementAt=kn}Rn.numberOfExportedSymbols=(0,kt.readUint32)(Jt,fn),fn+=4,Rn.numberOfNewSymbols=(0,kt.readUint32)(Jt,fn),fn+=4,Sn=[Rn,pn.number,pn.referredTo,Jt,fn,un];break;case 6:case 7:const _n={};_n.info=dn(Jt,fn),fn+=Ut;const Dn=(0,kt.readUint16)(Jt,fn);if(fn+=2,_n.huffman=!!(Dn&1),_n.refinement=!!(Dn&2),_n.logStripSize=Dn>>2&3,_n.stripSize=1<<_n.logStripSize,_n.referenceCorner=Dn>>4&3,_n.transposed=!!(Dn&64),_n.combinationOperator=Dn>>7&3,_n.defaultPixelValue=Dn>>9&1,_n.dsOffset=Dn<<17>>27,_n.refinementTemplate=Dn>>15&1,_n.huffman){const ls=(0,kt.readUint16)(Jt,fn);fn+=2,_n.huffmanFS=ls&3,_n.huffmanDS=ls>>2&3,_n.huffmanDT=ls>>4&3,_n.huffmanRefinementDW=ls>>6&3,_n.huffmanRefinementDH=ls>>8&3,_n.huffmanRefinementDX=ls>>10&3,_n.huffmanRefinementDY=ls>>12&3,_n.huffmanRefinementSizeSelector=!!(ls&16384)}if(_n.refinement&&!_n.refinementTemplate){for(kn=[],Pn=0;Pn<2;Pn++)kn.push({x:(0,kt.readInt8)(Jt,fn),y:(0,kt.readInt8)(Jt,fn+1)}),fn+=2;_n.refinementAt=kn}_n.numberOfSymbolInstances=(0,kt.readUint32)(Jt,fn),fn+=4,Sn=[_n,pn.referredTo,Jt,fn,un];break;case 16:const Ln={},Un=Jt[fn++];Ln.mmr=!!(Un&1),Ln.template=Un>>1&3,Ln.patternWidth=Jt[fn++],Ln.patternHeight=Jt[fn++],Ln.maxPatternIndex=(0,kt.readUint32)(Jt,fn),fn+=4,Sn=[Ln,pn.number,Jt,fn,un];break;case 22:case 23:const ts={};ts.info=dn(Jt,fn),fn+=Ut;const es=Jt[fn++];ts.mmr=!!(es&1),ts.template=es>>1&3,ts.enableSkip=!!(es&8),ts.combinationOperator=es>>4&7,ts.defaultPixelValue=es>>7&1,ts.gridWidth=(0,kt.readUint32)(Jt,fn),fn+=4,ts.gridHeight=(0,kt.readUint32)(Jt,fn),fn+=4,ts.gridOffsetX=(0,kt.readUint32)(Jt,fn)&4294967295,fn+=4,ts.gridOffsetY=(0,kt.readUint32)(Jt,fn)&4294967295,fn+=4,ts.gridVectorX=(0,kt.readUint16)(Jt,fn),fn+=2,ts.gridVectorY=(0,kt.readUint16)(Jt,fn),fn+=2,Sn=[ts,pn.referredTo,Jt,fn,un];break;case 38:case 39:const Qn={};Qn.info=dn(Jt,fn),fn+=Ut;const Yn=Jt[fn++];if(Qn.mmr=!!(Yn&1),Qn.template=Yn>>1&3,Qn.prediction=!!(Yn&8),!Qn.mmr){for(Cn=Qn.template===0?4:1,kn=[],Pn=0;Pn<Cn;Pn++)kn.push({x:(0,kt.readInt8)(Jt,fn),y:(0,kt.readInt8)(Jt,fn+1)}),fn+=2;Qn.at=kn}Sn=[Qn,Jt,fn,un];break;case 48:const zn={width:(0,kt.readUint32)(Jt,fn),height:(0,kt.readUint32)(Jt,fn+4),resolutionX:(0,kt.readUint32)(Jt,fn+8),resolutionY:(0,kt.readUint32)(Jt,fn+12)};zn.height===4294967295&&delete zn.height;const ns=Jt[fn+16];(0,kt.readUint16)(Jt,fn+17),zn.lossless=!!(ns&1),zn.refinement=!!(ns&2),zn.defaultPixelValue=ns>>2&1,zn.combinationOperator=ns>>3&3,zn.requiresBuffer=!!(ns&32),zn.combinationOperatorOverride=!!(ns&64),Sn=[zn];break;case 49:break;case 50:break;case 51:break;case 53:Sn=[pn.number,Jt,fn,un];break;case 62:break;default:throw new vt(`segment type ${pn.typeName}(${pn.type}) is not implemented`)}const vn="on"+pn.typeName;vn in mn&&mn[vn].apply(mn,Sn)}function Ht(An,mn){for(let pn=0,Jt=An.length;pn<Jt;pn++)Mt(An[pn],mn)}function sn(An){const mn=new zt;for(let pn=0,Jt=An.length;pn<Jt;pn++){const un=An[pn],fn=Yt({},un.data,un.start,un.end);Ht(fn,mn)}return mn.buffer}class zt{onPageInformation(mn){this.currentPageInfo=mn;const pn=mn.width+7>>3,Jt=new Uint8ClampedArray(pn*mn.height);mn.defaultPixelValue&&Jt.fill(255),this.buffer=Jt}drawBitmap(mn,pn){const Jt=this.currentPageInfo,un=mn.width,fn=mn.height,Sn=Jt.width+7>>3,kn=Jt.combinationOperatorOverride?mn.combinationOperator:Jt.combinationOperator,Pn=this.buffer,Cn=128>>(mn.x&7);let vn=mn.y*Sn+(mn.x>>3),Rn,Mn,_n,Dn;switch(kn){case 0:for(Rn=0;Rn<fn;Rn++){for(_n=Cn,Dn=vn,Mn=0;Mn<un;Mn++)pn[Rn][Mn]&&(Pn[Dn]|=_n),_n>>=1,_n||(_n=128,Dn++);vn+=Sn}break;case 2:for(Rn=0;Rn<fn;Rn++){for(_n=Cn,Dn=vn,Mn=0;Mn<un;Mn++)pn[Rn][Mn]&&(Pn[Dn]^=_n),_n>>=1,_n||(_n=128,Dn++);vn+=Sn}break;default:throw new vt(`operator ${kn} is not supported`)}}onImmediateGenericRegion(mn,pn,Jt,un){const fn=mn.info,Sn=new Vt(pn,Jt,un),kn=en(mn.mmr,fn.width,fn.height,mn.template,mn.prediction,null,mn.at,Sn);this.drawBitmap(fn,kn)}onImmediateLosslessGenericRegion(){this.onImmediateGenericRegion(...arguments)}onSymbolDictionary(mn,pn,Jt,un,fn,Sn){let kn,Pn;mn.huffman&&(kn=En(mn,Jt,this.customTables),Pn=new an(un,fn,Sn));let Cn=this.symbols;Cn||(this.symbols=Cn={});const vn=[];for(const Mn of Jt){const _n=Cn[Mn];_n&&vn.push(..._n)}const Rn=new Vt(un,fn,Sn);Cn[pn]=tn(mn.huffman,mn.refinement,vn,mn.numberOfNewSymbols,mn.numberOfExportedSymbols,kn,mn.template,mn.at,mn.refinementTemplate,mn.refinementAt,Rn,Pn)}onImmediateTextRegion(mn,pn,Jt,un,fn){const Sn=mn.info;let kn,Pn;const Cn=this.symbols,vn=[];for(const Dn of pn){const Ln=Cn[Dn];Ln&&vn.push(...Ln)}const Rn=(0,kt.log2)(vn.length);mn.huffman&&(Pn=new an(Jt,un,fn),kn=wn(mn,pn,this.customTables,vn.length,Pn));const Mn=new Vt(Jt,un,fn),_n=gn(mn.huffman,mn.refinement,Sn.width,Sn.height,mn.defaultPixelValue,mn.numberOfSymbolInstances,mn.stripSize,vn,Rn,mn.transposed,mn.dsOffset,mn.referenceCorner,mn.combinationOperator,kn,mn.refinementTemplate,mn.refinementAt,Mn,mn.logStripSize,Pn);this.drawBitmap(Sn,_n)}onImmediateLosslessTextRegion(){this.onImmediateTextRegion(...arguments)}onPatternDictionary(mn,pn,Jt,un,fn){let Sn=this.patterns;Sn||(this.patterns=Sn={});const kn=new Vt(Jt,un,fn);Sn[pn]=nn(mn.mmr,mn.patternWidth,mn.patternHeight,mn.maxPatternIndex,mn.template,kn)}onImmediateHalftoneRegion(mn,pn,Jt,un,fn){const Sn=this.patterns[pn[0]],kn=mn.info,Pn=new Vt(Jt,un,fn),Cn=bn(mn.mmr,Sn,mn.template,kn.width,kn.height,mn.defaultPixelValue,mn.enableSkip,mn.combinationOperator,mn.gridWidth,mn.gridHeight,mn.gridOffsetX,mn.gridOffsetY,mn.gridVectorX,mn.gridVectorY,Pn);this.drawBitmap(kn,Cn)}onImmediateLosslessHalftoneRegion(){this.onImmediateHalftoneRegion(...arguments)}onTables(mn,pn,Jt,un){let fn=this.customTables;fn||(this.customTables=fn={}),fn[mn]=on(pn,Jt,un)}}class Xt{constructor(mn){mn.length===2?(this.isOOB=!0,this.rangeLow=0,this.prefixLength=mn[0],this.rangeLength=0,this.prefixCode=mn[1],this.isLowerRange=!1):(this.isOOB=!1,this.rangeLow=mn[0],this.prefixLength=mn[1],this.rangeLength=mn[2],this.prefixCode=mn[3],this.isLowerRange=mn[4]==="lower")}}class Qt{constructor(mn){this.children=[],mn?(this.isLeaf=!0,this.rangeLength=mn.rangeLength,this.rangeLow=mn.rangeLow,this.isLowerRange=mn.isLowerRange,this.isOOB=mn.isOOB):this.isLeaf=!1}buildTree(mn,pn){const Jt=mn.prefixCode>>pn&1;if(pn<=0)this.children[Jt]=new Qt(mn);else{let un=this.children[Jt];un||(this.children[Jt]=un=new Qt(null)),un.buildTree(mn,pn-1)}}decodeNode(mn){if(this.isLeaf){if(this.isOOB)return null;const Jt=mn.readBits(this.rangeLength);return this.rangeLow+(this.isLowerRange?-Jt:Jt)}const pn=this.children[mn.readBit()];if(!pn)throw new vt("invalid Huffman data");return pn.decodeNode(mn)}}class ln{constructor(mn,pn){pn||this.assignPrefixCodes(mn),this.rootNode=new Qt(null);for(let Jt=0,un=mn.length;Jt<un;Jt++){const fn=mn[Jt];fn.prefixLength>0&&this.rootNode.buildTree(fn,fn.prefixLength-1)}}decode(mn){return this.rootNode.decodeNode(mn)}assignPrefixCodes(mn){const pn=mn.length;let Jt=0;for(let vn=0;vn<pn;vn++)Jt=Math.max(Jt,mn[vn].prefixLength);const un=new Uint32Array(Jt+1);for(let vn=0;vn<pn;vn++)un[mn[vn].prefixLength]++;let fn=1,Sn=0,kn,Pn,Cn;for(un[0]=0;fn<=Jt;){for(Sn=Sn+un[fn-1]<<1,kn=Sn,Pn=0;Pn<pn;)Cn=mn[Pn],Cn.prefixLength===fn&&(Cn.prefixCode=kn,kn++),Pn++;fn++}}}function on(An,mn,pn){const Jt=An[mn],un=(0,kt.readUint32)(An,mn+1)&4294967295,fn=(0,kt.readUint32)(An,mn+5)&4294967295,Sn=new an(An,mn+9,pn),kn=(Jt>>1&7)+1,Pn=(Jt>>4&7)+1,Cn=[];let vn,Rn,Mn=un;do vn=Sn.readBits(kn),Rn=Sn.readBits(Pn),Cn.push(new Xt([Mn,vn,Rn,0])),Mn+=1<<Rn;while(Mn<fn);return vn=Sn.readBits(kn),Cn.push(new Xt([un-1,vn,32,0,"lower"])),vn=Sn.readBits(kn),Cn.push(new Xt([fn,vn,32,0])),Jt&1&&(vn=Sn.readBits(kn),Cn.push(new Xt([vn,0]))),new ln(Cn,!1)}const cn={};function rn(An){let mn=cn[An];if(mn)return mn;let pn;switch(An){case 1:pn=[[0,1,4,0],[16,2,8,2],[272,3,16,6],[65808,3,32,7]];break;case 2:pn=[[0,1,0,0],[1,2,0,2],[2,3,0,6],[3,4,3,14],[11,5,6,30],[75,6,32,62],[6,63]];break;case 3:pn=[[-256,8,8,254],[0,1,0,0],[1,2,0,2],[2,3,0,6],[3,4,3,14],[11,5,6,30],[-257,8,32,255,"lower"],[75,7,32,126],[6,62]];break;case 4:pn=[[1,1,0,0],[2,2,0,2],[3,3,0,6],[4,4,3,14],[12,5,6,30],[76,5,32,31]];break;case 5:pn=[[-255,7,8,126],[1,1,0,0],[2,2,0,2],[3,3,0,6],[4,4,3,14],[12,5,6,30],[-256,7,32,127,"lower"],[76,6,32,62]];break;case 6:pn=[[-2048,5,10,28],[-1024,4,9,8],[-512,4,8,9],[-256,4,7,10],[-128,5,6,29],[-64,5,5,30],[-32,4,5,11],[0,2,7,0],[128,3,7,2],[256,3,8,3],[512,4,9,12],[1024,4,10,13],[-2049,6,32,62,"lower"],[2048,6,32,63]];break;case 7:pn=[[-1024,4,9,8],[-512,3,8,0],[-256,4,7,9],[-128,5,6,26],[-64,5,5,27],[-32,4,5,10],[0,4,5,11],[32,5,5,28],[64,5,6,29],[128,4,7,12],[256,3,8,1],[512,3,9,2],[1024,3,10,3],[-1025,5,32,30,"lower"],[2048,5,32,31]];break;case 8:pn=[[-15,8,3,252],[-7,9,1,508],[-5,8,1,253],[-3,9,0,509],[-2,7,0,124],[-1,4,0,10],[0,2,1,0],[2,5,0,26],[3,6,0,58],[4,3,4,4],[20,6,1,59],[22,4,4,11],[38,4,5,12],[70,5,6,27],[134,5,7,28],[262,6,7,60],[390,7,8,125],[646,6,10,61],[-16,9,32,510,"lower"],[1670,9,32,511],[2,1]];break;case 9:pn=[[-31,8,4,252],[-15,9,2,508],[-11,8,2,253],[-7,9,1,509],[-5,7,1,124],[-3,4,1,10],[-1,3,1,2],[1,3,1,3],[3,5,1,26],[5,6,1,58],[7,3,5,4],[39,6,2,59],[43,4,5,11],[75,4,6,12],[139,5,7,27],[267,5,8,28],[523,6,8,60],[779,7,9,125],[1291,6,11,61],[-32,9,32,510,"lower"],[3339,9,32,511],[2,0]];break;case 10:pn=[[-21,7,4,122],[-5,8,0,252],[-4,7,0,123],[-3,5,0,24],[-2,2,2,0],[2,5,0,25],[3,6,0,54],[4,7,0,124],[5,8,0,253],[6,2,6,1],[70,5,5,26],[102,6,5,55],[134,6,6,56],[198,6,7,57],[326,6,8,58],[582,6,9,59],[1094,6,10,60],[2118,7,11,125],[-22,8,32,254,"lower"],[4166,8,32,255],[2,2]];break;case 11:pn=[[1,1,0,0],[2,2,1,2],[4,4,0,12],[5,4,1,13],[7,5,1,28],[9,5,2,29],[13,6,2,60],[17,7,2,122],[21,7,3,123],[29,7,4,124],[45,7,5,125],[77,7,6,126],[141,7,32,127]];break;case 12:pn=[[1,1,0,0],[2,2,0,2],[3,3,1,6],[5,5,0,28],[6,5,1,29],[8,6,1,60],[10,7,0,122],[11,7,1,123],[13,7,2,124],[17,7,3,125],[25,7,4,126],[41,8,5,254],[73,8,32,255]];break;case 13:pn=[[1,1,0,0],[2,3,0,4],[3,4,0,12],[4,5,0,28],[5,4,1,13],[7,3,3,5],[15,6,1,58],[17,6,2,59],[21,6,3,60],[29,6,4,61],[45,6,5,62],[77,7,6,126],[141,7,32,127]];break;case 14:pn=[[-2,3,0,4],[-1,3,0,5],[0,1,0,0],[1,3,0,6],[2,3,0,7]];break;case 15:pn=[[-24,7,4,124],[-8,6,2,60],[-4,5,1,28],[-2,4,0,12],[-1,3,0,4],[0,1,0,0],[1,3,0,5],[2,4,0,13],[3,5,1,29],[5,6,2,61],[9,7,4,125],[-25,7,32,126,"lower"],[25,7,32,127]];break;default:throw new vt(`standard table B.${An} does not exist`)}for(let Jt=0,un=pn.length;Jt<un;Jt++)pn[Jt]=new Xt(pn[Jt]);return mn=new ln(pn,!0),cn[An]=mn,mn}class an{constructor(mn,pn,Jt){this.data=mn,this.start=pn,this.end=Jt,this.position=pn,this.shift=-1,this.currentByte=0}readBit(){if(this.shift<0){if(this.position>=this.end)throw new vt("end of data while reading bit");this.currentByte=this.data[this.position++],this.shift=7}const mn=this.currentByte>>this.shift&1;return this.shift--,mn}readBits(mn){let pn=0,Jt;for(Jt=mn-1;Jt>=0;Jt--)pn|=this.readBit()<<Jt;return pn}byteAlign(){this.shift=-1}next(){return this.position>=this.end?-1:this.data[this.position++]}}function xn(An,mn,pn){let Jt=0;for(let un=0,fn=mn.length;un<fn;un++){const Sn=pn[mn[un]];if(Sn){if(An===Jt)return Sn;Jt++}}throw new vt("can't find custom Huffman table")}function wn(An,mn,pn,Jt,un){const fn=[];for(let Mn=0;Mn<=34;Mn++){const _n=un.readBits(4);fn.push(new Xt([Mn,_n,0,0]))}const Sn=new ln(fn,!1);fn.length=0;for(let Mn=0;Mn<Jt;){const _n=Sn.decode(un);if(_n>=32){let Dn,Ln,Un;switch(_n){case 32:if(Mn===0)throw new vt("no previous value in symbol ID table");Ln=un.readBits(2)+3,Dn=fn[Mn-1].prefixLength;break;case 33:Ln=un.readBits(3)+3,Dn=0;break;case 34:Ln=un.readBits(7)+11,Dn=0;break;default:throw new vt("invalid code length in symbol ID table")}for(Un=0;Un<Ln;Un++)fn.push(new Xt([Mn,Dn,0,0])),Mn++}else fn.push(new Xt([Mn,_n,0,0])),Mn++}un.byteAlign();const kn=new ln(fn,!1);let Pn=0,Cn,vn,Rn;switch(An.huffmanFS){case 0:case 1:Cn=rn(An.huffmanFS+6);break;case 3:Cn=xn(Pn,mn,pn),Pn++;break;default:throw new vt("invalid Huffman FS selector")}switch(An.huffmanDS){case 0:case 1:case 2:vn=rn(An.huffmanDS+8);break;case 3:vn=xn(Pn,mn,pn),Pn++;break;default:throw new vt("invalid Huffman DS selector")}switch(An.huffmanDT){case 0:case 1:case 2:Rn=rn(An.huffmanDT+11);break;case 3:Rn=xn(Pn,mn,pn),Pn++;break;default:throw new vt("invalid Huffman DT selector")}if(An.refinement)throw new vt("refinement with Huffman is not supported");return{symbolIDTable:kn,tableFirstS:Cn,tableDeltaS:vn,tableDeltaT:Rn}}function En(An,mn,pn){let Jt=0,un,fn;switch(An.huffmanDHSelector){case 0:case 1:un=rn(An.huffmanDHSelector+4);break;case 3:un=xn(Jt,mn,pn),Jt++;break;default:throw new vt("invalid Huffman DH selector")}switch(An.huffmanDWSelector){case 0:case 1:fn=rn(An.huffmanDWSelector+2);break;case 3:fn=xn(Jt,mn,pn),Jt++;break;default:throw new vt("invalid Huffman DW selector")}let Sn,kn;return An.bitmapSizeSelector?(Sn=xn(Jt,mn,pn),Jt++):Sn=rn(1),An.aggregationInstancesSelector?kn=xn(Jt,mn,pn):kn=rn(1),{tableDeltaHeight:un,tableDeltaWidth:fn,tableBitmapSize:Sn,tableAggregateInstances:kn}}function Fn(An,mn,pn){const Jt=[];for(let un=0;un<pn;un++){const fn=new Uint8Array(mn);Jt.push(fn);for(let Sn=0;Sn<mn;Sn++)fn[Sn]=An.readBit();An.byteAlign()}return Jt}function In(An,mn,pn,Jt){const un={K:-1,Columns:mn,Rows:pn,BlackIs1:!0,EndOfBlock:Jt},fn=new ht.CCITTFaxDecoder(An,un),Sn=[];let kn,Pn=!1;for(let Cn=0;Cn<pn;Cn++){const vn=new Uint8Array(mn);Sn.push(vn);let Rn=-1;for(let Mn=0;Mn<mn;Mn++)Rn<0&&(kn=fn.readNextChar(),kn===-1&&(kn=0,Pn=!0),Rn=7),vn[Mn]=kn>>Rn&1,Rn--}if(Jt&&!Pn)for(let vn=0;vn<5&&fn.readNextChar()!==-1;vn++);return Sn}class Tn{parseChunks(mn){return sn(mn)}parse(mn){throw new Error("Not implemented: Jbig2Image.parse")}}Et.Jbig2Image=Tn},(Ct,Et)=>{Object.defineProperty(Et,"__esModule",{value:!0}),Et.ArithmeticDecoder=void 0;const Pt=[{qe:22017,nmps:1,nlps:1,switchFlag:1},{qe:13313,nmps:2,nlps:6,switchFlag:0},{qe:6145,nmps:3,nlps:9,switchFlag:0},{qe:2753,nmps:4,nlps:12,switchFlag:0},{qe:1313,nmps:5,nlps:29,switchFlag:0},{qe:545,nmps:38,nlps:33,switchFlag:0},{qe:22017,nmps:7,nlps:6,switchFlag:1},{qe:21505,nmps:8,nlps:14,switchFlag:0},{qe:18433,nmps:9,nlps:14,switchFlag:0},{qe:14337,nmps:10,nlps:14,switchFlag:0},{qe:12289,nmps:11,nlps:17,switchFlag:0},{qe:9217,nmps:12,nlps:18,switchFlag:0},{qe:7169,nmps:13,nlps:20,switchFlag:0},{qe:5633,nmps:29,nlps:21,switchFlag:0},{qe:22017,nmps:15,nlps:14,switchFlag:1},{qe:21505,nmps:16,nlps:14,switchFlag:0},{qe:20737,nmps:17,nlps:15,switchFlag:0},{qe:18433,nmps:18,nlps:16,switchFlag:0},{qe:14337,nmps:19,nlps:17,switchFlag:0},{qe:13313,nmps:20,nlps:18,switchFlag:0},{qe:12289,nmps:21,nlps:19,switchFlag:0},{qe:10241,nmps:22,nlps:19,switchFlag:0},{qe:9217,nmps:23,nlps:20,switchFlag:0},{qe:8705,nmps:24,nlps:21,switchFlag:0},{qe:7169,nmps:25,nlps:22,switchFlag:0},{qe:6145,nmps:26,nlps:23,switchFlag:0},{qe:5633,nmps:27,nlps:24,switchFlag:0},{qe:5121,nmps:28,nlps:25,switchFlag:0},{qe:4609,nmps:29,nlps:26,switchFlag:0},{qe:4353,nmps:30,nlps:27,switchFlag:0},{qe:2753,nmps:31,nlps:28,switchFlag:0},{qe:2497,nmps:32,nlps:29,switchFlag:0},{qe:2209,nmps:33,nlps:30,switchFlag:0},{qe:1313,nmps:34,nlps:31,switchFlag:0},{qe:1089,nmps:35,nlps:32,switchFlag:0},{qe:673,nmps:36,nlps:33,switchFlag:0},{qe:545,nmps:37,nlps:34,switchFlag:0},{qe:321,nmps:38,nlps:35,switchFlag:0},{qe:273,nmps:39,nlps:36,switchFlag:0},{qe:133,nmps:40,nlps:37,switchFlag:0},{qe:73,nmps:41,nlps:38,switchFlag:0},{qe:37,nmps:42,nlps:39,switchFlag:0},{qe:21,nmps:43,nlps:40,switchFlag:0},{qe:9,nmps:44,nlps:41,switchFlag:0},{qe:5,nmps:45,nlps:42,switchFlag:0},{qe:1,nmps:45,nlps:43,switchFlag:0},{qe:22017,nmps:46,nlps:46,switchFlag:0}];class wt{constructor(_t,ht,vt){this.data=_t,this.bp=ht,this.dataEnd=vt,this.chigh=_t[ht],this.clow=0,this.byteIn(),this.chigh=this.chigh<<7&65535|this.clow>>9&127,this.clow=this.clow<<7&65535,this.ct-=7,this.a=32768}byteIn(){const _t=this.data;let ht=this.bp;_t[ht]===255?_t[ht+1]>143?(this.clow+=65280,this.ct=8):(ht++,this.clow+=_t[ht]<<9,this.ct=7,this.bp=ht):(ht++,this.clow+=ht<this.dataEnd?_t[ht]<<8:65280,this.ct=8,this.bp=ht),this.clow>65535&&(this.chigh+=this.clow>>16,this.clow&=65535)}readBit(_t,ht){let vt=_t[ht]>>1,Ft=_t[ht]&1;const Vt=Pt[vt],qt=Vt.qe;let Lt,$t=this.a-qt;if(this.chigh<qt)$t<qt?($t=qt,Lt=Ft,vt=Vt.nmps):($t=qt,Lt=1^Ft,Vt.switchFlag===1&&(Ft=Lt),vt=Vt.nlps);else{if(this.chigh-=qt,$t&32768)return this.a=$t,Ft;$t<qt?(Lt=1^Ft,Vt.switchFlag===1&&(Ft=Lt),vt=Vt.nlps):(Lt=Ft,vt=Vt.nmps)}do this.ct===0&&this.byteIn(),$t<<=1,this.chigh=this.chigh<<1&65535|this.clow>>15&1,this.clow=this.clow<<1&65535,this.ct--;while(!($t&32768));return this.a=$t,_t[ht]=vt<<1|Ft,Lt}}Et.ArithmeticDecoder=wt},(Ct,Et,Pt)=>{Object.defineProperty(Et,"__esModule",{value:!0}),Et.JpegStream=void 0;var wt=Pt(18),kt=Pt(4),_t=Pt(27),ht=Pt(2);class vt extends wt.DecodeStream{constructor(Vt,qt,Lt){let $t;for(;($t=Vt.getByte())!==-1;)if($t===255){Vt.skip(-1);break}super(qt),this.stream=Vt,this.dict=Vt.dict,this.maybeLength=qt,this.params=Lt}get bytes(){return(0,ht.shadow)(this,"bytes",this.stream.getBytes(this.maybeLength))}ensureBuffer(Vt){}readBlock(){if(this.eof)return;const Vt={decodeTransform:void 0,colorTransform:void 0},qt=this.dict.getArray("D","Decode");if((this.forceRGBA||this.forceRGB)&&Array.isArray(qt)){const Ot=this.dict.get("BPC","BitsPerComponent")||8,jt=qt.length,Rt=new Int32Array(jt);let Kt=!1;const Bt=(1<<Ot)-1;for(let Gt=0;Gt<jt;Gt+=2)Rt[Gt]=(qt[Gt+1]-qt[Gt])*256|0,Rt[Gt+1]=qt[Gt]*Bt|0,(Rt[Gt]!==256||Rt[Gt+1]!==0)&&(Kt=!0);Kt&&(Vt.decodeTransform=Rt)}if(this.params instanceof kt.Dict){const Ot=this.params.get("ColorTransform");Number.isInteger(Ot)&&(Vt.colorTransform=Ot)}const Lt=new _t.JpegImage(Vt);Lt.parse(this.bytes);const $t=Lt.getData({width:this.drawWidth,height:this.drawHeight,forceRGBA:this.forceRGBA,forceRGB:this.forceRGB,isSourcePDF:!0});this.buffer=$t,this.bufferLength=$t.length,this.eof=!0}}Et.JpegStream=vt},(Ct,Et,Pt)=>{Object.defineProperty(Et,"__esModule",{value:!0}),Et.JpegImage=void 0;var wt=Pt(2),kt=Pt(28),_t=Pt(3);class ht extends wt.BaseException{constructor(Yt){super(`JPEG error: ${Yt}`,"JpegError")}}class vt extends wt.BaseException{constructor(Yt,dn){super(Yt,"DNLMarkerError"),this.scanLines=dn}}class Ft extends wt.BaseException{constructor(Yt){super(Yt,"EOIMarkerError")}}const Vt=new Uint8Array([0,1,8,16,9,2,3,10,17,24,32,25,18,11,4,5,12,19,26,33,40,48,41,34,27,20,13,6,7,14,21,28,35,42,49,56,57,50,43,36,29,22,15,23,30,37,44,51,58,59,52,45,38,31,39,46,53,60,61,54,47,55,62,63]),qt=4017,Lt=799,$t=3406,Ot=2276,jt=1567,Rt=3784,Kt=5793,Bt=2896;function Gt(Wt,Yt){let dn=0,Ut,Mt,Ht=16;for(;Ht>0&&!Wt[Ht-1];)Ht--;const sn=[{children:[],index:0}];let zt=sn[0],Xt;for(Ut=0;Ut<Ht;Ut++){for(Mt=0;Mt<Wt[Ut];Mt++){for(zt=sn.pop(),zt.children[zt.index]=Yt[dn];zt.index>0;)zt=sn.pop();for(zt.index++,sn.push(zt);sn.length<=Ut;)sn.push(Xt={children:[],index:0}),zt.children[zt.index]=Xt.children,zt=Xt;dn++}Ut+1<Ht&&(sn.push(Xt={children:[],index:0}),zt.children[zt.index]=Xt.children,zt=Xt)}return sn[0].children}function en(Wt,Yt,dn){return 64*((Wt.blocksPerLine+1)*Yt+dn)}function hn(Wt,Yt,dn,Ut,Mt,Ht,sn,zt,Xt,Qt=!1){const ln=dn.mcusPerLine,on=dn.progressive,cn=Yt;let rn=0,an=0;function xn(){if(an>0)return an--,rn>>an&1;if(rn=Wt[Yt++],rn===255){const zn=Wt[Yt++];if(zn){if(zn===220&&Qt){Yt+=2;const ns=(0,_t.readUint16)(Wt,Yt);if(Yt+=2,ns>0&&ns!==dn.scanLines)throw new vt("Found DNL marker (0xFFDC) while parsing scan data",ns)}else if(zn===217){if(Qt){const ns=Sn*(dn.precision===8?8:0);if(ns>0&&Math.round(dn.scanLines/ns)>=5)throw new vt("Found EOI marker (0xFFD9) while parsing scan data, possibly caused by incorrect `scanLines` parameter",ns)}throw new Ft("Found EOI marker (0xFFD9) while parsing scan data")}throw new ht(`unexpected marker ${(rn<<8|zn).toString(16)}`)}}return an=7,rn>>>7}function wn(zn){let ns=zn;for(;;){switch(ns=ns[xn()],typeof ns){case"number":return ns;case"object":continue}throw new ht("invalid huffman sequence")}}function En(zn){let ns=0;for(;zn>0;)ns=ns<<1|xn(),zn--;return ns}function Fn(zn){if(zn===1)return xn()===1?1:-1;const ns=En(zn);return ns>=1<<zn-1?ns:ns+(-1<<zn)+1}function In(zn,ns){const ls=wn(zn.huffmanTableDC),ds=ls===0?0:Fn(ls);zn.blockData[ns]=zn.pred+=ds;let Bn=1;for(;Bn<64;){const Hn=wn(zn.huffmanTableAC),Xn=Hn&15,cs=Hn>>4;if(Xn===0){if(cs<15)break;Bn+=16;continue}Bn+=cs;const rs=Vt[Bn];zn.blockData[ns+rs]=Fn(Xn),Bn++}}function Tn(zn,ns){const ls=wn(zn.huffmanTableDC),ds=ls===0?0:Fn(ls)<<Xt;zn.blockData[ns]=zn.pred+=ds}function An(zn,ns){zn.blockData[ns]|=xn()<<Xt}let mn=0;function pn(zn,ns){if(mn>0){mn--;return}let ls=Ht;const ds=sn;for(;ls<=ds;){const Bn=wn(zn.huffmanTableAC),Hn=Bn&15,Xn=Bn>>4;if(Hn===0){if(Xn<15){mn=En(Xn)+(1<<Xn)-1;break}ls+=16;continue}ls+=Xn;const cs=Vt[ls];zn.blockData[ns+cs]=Fn(Hn)*(1<<Xt),ls++}}let Jt=0,un;function fn(zn,ns){let ls=Ht;const ds=sn;let Bn=0,Hn,Xn;for(;ls<=ds;){const cs=ns+Vt[ls],rs=zn.blockData[cs]<0?-1:1;switch(Jt){case 0:if(Xn=wn(zn.huffmanTableAC),Hn=Xn&15,Bn=Xn>>4,Hn===0)Bn<15?(mn=En(Bn)+(1<<Bn),Jt=4):(Bn=16,Jt=1);else{if(Hn!==1)throw new ht("invalid ACn encoding");un=Fn(Hn),Jt=Bn?2:3}continue;case 1:case 2:zn.blockData[cs]?zn.blockData[cs]+=rs*(xn()<<Xt):(Bn--,Bn===0&&(Jt=Jt===2?3:0));break;case 3:zn.blockData[cs]?zn.blockData[cs]+=rs*(xn()<<Xt):(zn.blockData[cs]=un<<Xt,Jt=0);break;case 4:zn.blockData[cs]&&(zn.blockData[cs]+=rs*(xn()<<Xt));break}ls++}Jt===4&&(mn--,mn===0&&(Jt=0))}let Sn=0;function kn(zn,ns,ls,ds,Bn){const Hn=ls/ln|0,Xn=ls%ln;Sn=Hn*zn.v+ds;const cs=Xn*zn.h+Bn,rs=en(zn,Sn,cs);ns(zn,rs)}function Pn(zn,ns,ls){Sn=ls/zn.blocksPerLine|0;const ds=ls%zn.blocksPerLine,Bn=en(zn,Sn,ds);ns(zn,Bn)}const Cn=Ut.length;let vn,Rn,Mn,_n,Dn,Ln;on?Ht===0?Ln=zt===0?Tn:An:Ln=zt===0?pn:fn:Ln=In;let Un=0,ts;const es=Cn===1?Ut[0].blocksPerLine*Ut[0].blocksPerColumn:ln*dn.mcusPerColumn;let Qn,Yn;for(;Un<=es;){const zn=Mt?Math.min(es-Un,Mt):es;if(zn>0){for(Rn=0;Rn<Cn;Rn++)Ut[Rn].pred=0;if(mn=0,Cn===1)for(vn=Ut[0],Dn=0;Dn<zn;Dn++)Pn(vn,Ln,Un),Un++;else for(Dn=0;Dn<zn;Dn++){for(Rn=0;Rn<Cn;Rn++)for(vn=Ut[Rn],Qn=vn.h,Yn=vn.v,Mn=0;Mn<Yn;Mn++)for(_n=0;_n<Qn;_n++)kn(vn,Ln,Un,Mn,_n);Un++}}if(an=0,ts=nn(Wt,Yt),!ts)break;if(ts.invalid){const ns=zn>0?"unexpected":"excessive";(0,wt.warn)(`decodeScan - ${ns} MCU data, current marker is: ${ts.invalid}`),Yt=ts.offset}if(ts.marker>=65488&&ts.marker<=65495)Yt+=2;else break}return Yt-cn}function tn(Wt,Yt,dn){const Ut=Wt.quantizationTable,Mt=Wt.blockData;let Ht,sn,zt,Xt,Qt,ln,on,cn,rn,an,xn,wn,En,Fn,In,Tn,An;if(!Ut)throw new ht("missing required Quantization Table.");for(let mn=0;mn<64;mn+=8){if(rn=Mt[Yt+mn],an=Mt[Yt+mn+1],xn=Mt[Yt+mn+2],wn=Mt[Yt+mn+3],En=Mt[Yt+mn+4],Fn=Mt[Yt+mn+5],In=Mt[Yt+mn+6],Tn=Mt[Yt+mn+7],rn*=Ut[mn],!(an|xn|wn|En|Fn|In|Tn)){An=Kt*rn+512>>10,dn[mn]=An,dn[mn+1]=An,dn[mn+2]=An,dn[mn+3]=An,dn[mn+4]=An,dn[mn+5]=An,dn[mn+6]=An,dn[mn+7]=An;continue}an*=Ut[mn+1],xn*=Ut[mn+2],wn*=Ut[mn+3],En*=Ut[mn+4],Fn*=Ut[mn+5],In*=Ut[mn+6],Tn*=Ut[mn+7],Ht=Kt*rn+128>>8,sn=Kt*En+128>>8,zt=xn,Xt=In,Qt=Bt*(an-Tn)+128>>8,cn=Bt*(an+Tn)+128>>8,ln=wn<<4,on=Fn<<4,Ht=Ht+sn+1>>1,sn=Ht-sn,An=zt*Rt+Xt*jt+128>>8,zt=zt*jt-Xt*Rt+128>>8,Xt=An,Qt=Qt+on+1>>1,on=Qt-on,cn=cn+ln+1>>1,ln=cn-ln,Ht=Ht+Xt+1>>1,Xt=Ht-Xt,sn=sn+zt+1>>1,zt=sn-zt,An=Qt*Ot+cn*$t+2048>>12,Qt=Qt*$t-cn*Ot+2048>>12,cn=An,An=ln*Lt+on*qt+2048>>12,ln=ln*qt-on*Lt+2048>>12,on=An,dn[mn]=Ht+cn,dn[mn+7]=Ht-cn,dn[mn+1]=sn+on,dn[mn+6]=sn-on,dn[mn+2]=zt+ln,dn[mn+5]=zt-ln,dn[mn+3]=Xt+Qt,dn[mn+4]=Xt-Qt}for(let mn=0;mn<8;++mn){if(rn=dn[mn],an=dn[mn+8],xn=dn[mn+16],wn=dn[mn+24],En=dn[mn+32],Fn=dn[mn+40],In=dn[mn+48],Tn=dn[mn+56],!(an|xn|wn|En|Fn|In|Tn)){An=Kt*rn+8192>>14,An<-2040?An=0:An>=2024?An=255:An=An+2056>>4,Mt[Yt+mn]=An,Mt[Yt+mn+8]=An,Mt[Yt+mn+16]=An,Mt[Yt+mn+24]=An,Mt[Yt+mn+32]=An,Mt[Yt+mn+40]=An,Mt[Yt+mn+48]=An,Mt[Yt+mn+56]=An;continue}Ht=Kt*rn+2048>>12,sn=Kt*En+2048>>12,zt=xn,Xt=In,Qt=Bt*(an-Tn)+2048>>12,cn=Bt*(an+Tn)+2048>>12,ln=wn,on=Fn,Ht=(Ht+sn+1>>1)+4112,sn=Ht-sn,An=zt*Rt+Xt*jt+2048>>12,zt=zt*jt-Xt*Rt+2048>>12,Xt=An,Qt=Qt+on+1>>1,on=Qt-on,cn=cn+ln+1>>1,ln=cn-ln,Ht=Ht+Xt+1>>1,Xt=Ht-Xt,sn=sn+zt+1>>1,zt=sn-zt,An=Qt*Ot+cn*$t+2048>>12,Qt=Qt*$t-cn*Ot+2048>>12,cn=An,An=ln*Lt+on*qt+2048>>12,ln=ln*qt-on*Lt+2048>>12,on=An,rn=Ht+cn,Tn=Ht-cn,an=sn+on,In=sn-on,xn=zt+ln,Fn=zt-ln,wn=Xt+Qt,En=Xt-Qt,rn<16?rn=0:rn>=4080?rn=255:rn>>=4,an<16?an=0:an>=4080?an=255:an>>=4,xn<16?xn=0:xn>=4080?xn=255:xn>>=4,wn<16?wn=0:wn>=4080?wn=255:wn>>=4,En<16?En=0:En>=4080?En=255:En>>=4,Fn<16?Fn=0:Fn>=4080?Fn=255:Fn>>=4,In<16?In=0:In>=4080?In=255:In>>=4,Tn<16?Tn=0:Tn>=4080?Tn=255:Tn>>=4,Mt[Yt+mn]=rn,Mt[Yt+mn+8]=an,Mt[Yt+mn+16]=xn,Mt[Yt+mn+24]=wn,Mt[Yt+mn+32]=En,Mt[Yt+mn+40]=Fn,Mt[Yt+mn+48]=In,Mt[Yt+mn+56]=Tn}}function gn(Wt,Yt){const dn=Yt.blocksPerLine,Ut=Yt.blocksPerColumn,Mt=new Int16Array(64);for(let Ht=0;Ht<Ut;Ht++)for(let sn=0;sn<dn;sn++){const zt=en(Yt,Ht,sn);tn(Yt,zt,Mt)}return Yt.blockData}function nn(Wt,Yt,dn=Yt){const Ut=Wt.length-1;let Mt=dn<Yt?dn:Yt;if(Yt>=Ut)return null;const Ht=(0,_t.readUint16)(Wt,Yt);if(Ht>=65472&&Ht<=65534)return{invalid:null,marker:Ht,offset:Yt};let sn=(0,_t.readUint16)(Wt,Mt);for(;!(sn>=65472&&sn<=65534);){if(++Mt>=Ut)return null;sn=(0,_t.readUint16)(Wt,Mt)}return{invalid:Ht.toString(16),marker:sn,offset:Mt}}class bn{constructor({decodeTransform:Yt=null,colorTransform:dn=-1}={}){this._decodeTransform=Yt,this._colorTransform=dn}parse(Yt,{dnlScanLines:dn=null}={}){function Ut(){const xn=(0,_t.readUint16)(Yt,Ht);Ht+=2;let wn=Ht+xn-2;const En=nn(Yt,wn,Ht);En!=null&&En.invalid&&((0,wt.warn)("readDataBlock - incorrect length, current marker is: "+En.invalid),wn=En.offset);const Fn=Yt.subarray(Ht,wn);return Ht+=Fn.length,Fn}function Mt(xn){const wn=Math.ceil(xn.samplesPerLine/8/xn.maxH),En=Math.ceil(xn.scanLines/8/xn.maxV);for(const Fn of xn.components){const In=Math.ceil(Math.ceil(xn.samplesPerLine/8)*Fn.h/xn.maxH),Tn=Math.ceil(Math.ceil(xn.scanLines/8)*Fn.v/xn.maxV),An=wn*Fn.h,pn=64*(En*Fn.v)*(An+1);Fn.blockData=new Int16Array(pn),Fn.blocksPerLine=In,Fn.blocksPerColumn=Tn}xn.mcusPerLine=wn,xn.mcusPerColumn=En}let Ht=0,sn=null,zt=null,Xt,Qt,ln=0;const on=[],cn=[],rn=[];let an=(0,_t.readUint16)(Yt,Ht);if(Ht+=2,an!==65496)throw new ht("SOI not found");an=(0,_t.readUint16)(Yt,Ht),Ht+=2;e:for(;an!==65497;){let xn,wn,En;switch(an){case 65504:case 65505:case 65506:case 65507:case 65508:case 65509:case 65510:case 65511:case 65512:case 65513:case 65514:case 65515:case 65516:case 65517:case 65518:case 65519:case 65534:const Fn=Ut();an===65504&&Fn[0]===74&&Fn[1]===70&&Fn[2]===73&&Fn[3]===70&&Fn[4]===0&&(sn={version:{major:Fn[5],minor:Fn[6]},densityUnits:Fn[7],xDensity:Fn[8]<<8|Fn[9],yDensity:Fn[10]<<8|Fn[11],thumbWidth:Fn[12],thumbHeight:Fn[13],thumbData:Fn.subarray(14,14+3*Fn[12]*Fn[13])}),an===65518&&Fn[0]===65&&Fn[1]===100&&Fn[2]===111&&Fn[3]===98&&Fn[4]===101&&(zt={version:Fn[5]<<8|Fn[6],flags0:Fn[7]<<8|Fn[8],flags1:Fn[9]<<8|Fn[10],transformCode:Fn[11]});break;case 65499:const In=(0,_t.readUint16)(Yt,Ht);Ht+=2;const Tn=In+Ht-2;let An;for(;Ht<Tn;){const _n=Yt[Ht++],Dn=new Uint16Array(64);if(_n>>4)if(_n>>4===1)for(wn=0;wn<64;wn++)An=Vt[wn],Dn[An]=(0,_t.readUint16)(Yt,Ht),Ht+=2;else throw new ht("DQT - invalid table spec");else for(wn=0;wn<64;wn++)An=Vt[wn],Dn[An]=Yt[Ht++];on[_n&15]=Dn}break;case 65472:case 65473:case 65474:if(Xt)throw new ht("Only single frame JPEGs supported");Ht+=2,Xt={},Xt.extended=an===65473,Xt.progressive=an===65474,Xt.precision=Yt[Ht++];const mn=(0,_t.readUint16)(Yt,Ht);Ht+=2,Xt.scanLines=dn||mn,Xt.samplesPerLine=(0,_t.readUint16)(Yt,Ht),Ht+=2,Xt.components=[],Xt.componentIds={};const pn=Yt[Ht++];let Jt=0,un=0;for(xn=0;xn<pn;xn++){const _n=Yt[Ht],Dn=Yt[Ht+1]>>4,Ln=Yt[Ht+1]&15;Jt<Dn&&(Jt=Dn),un<Ln&&(un=Ln);const Un=Yt[Ht+2];En=Xt.components.push({h:Dn,v:Ln,quantizationId:Un,quantizationTable:null}),Xt.componentIds[_n]=En-1,Ht+=3}Xt.maxH=Jt,Xt.maxV=un,Mt(Xt);break;case 65476:const fn=(0,_t.readUint16)(Yt,Ht);for(Ht+=2,xn=2;xn<fn;){const _n=Yt[Ht++],Dn=new Uint8Array(16);let Ln=0;for(wn=0;wn<16;wn++,Ht++)Ln+=Dn[wn]=Yt[Ht];const Un=new Uint8Array(Ln);for(wn=0;wn<Ln;wn++,Ht++)Un[wn]=Yt[Ht];xn+=17+Ln,(_n>>4?cn:rn)[_n&15]=Gt(Dn,Un)}break;case 65501:Ht+=2,Qt=(0,_t.readUint16)(Yt,Ht),Ht+=2;break;case 65498:const Sn=++ln===1&&!dn;Ht+=2;const kn=Yt[Ht++],Pn=[];for(xn=0;xn<kn;xn++){const _n=Yt[Ht++],Dn=Xt.componentIds[_n],Ln=Xt.components[Dn];Ln.index=_n;const Un=Yt[Ht++];Ln.huffmanTableDC=rn[Un>>4],Ln.huffmanTableAC=cn[Un&15],Pn.push(Ln)}const Cn=Yt[Ht++],vn=Yt[Ht++],Rn=Yt[Ht++];try{const _n=hn(Yt,Ht,Xt,Pn,Qt,Cn,vn,Rn>>4,Rn&15,Sn);Ht+=_n}catch(_n){if(_n instanceof vt)return(0,wt.warn)(`${_n.message} -- attempting to re-parse the JPEG image.`),this.parse(Yt,{dnlScanLines:_n.scanLines});if(_n instanceof Ft){(0,wt.warn)(`${_n.message} -- ignoring the rest of the image data.`);break e}throw _n}break;case 65500:Ht+=4;break;case 65535:Yt[Ht]!==255&&Ht--;break;default:const Mn=nn(Yt,Ht-2,Ht-3);if(Mn!=null&&Mn.invalid){(0,wt.warn)("JpegImage.parse - unexpected data, current marker is: "+Mn.invalid),Ht=Mn.offset;break}if(!Mn||Ht>=Yt.length-1){(0,wt.warn)("JpegImage.parse - reached the end of the image data without finding an EOI marker (0xFFD9).");break e}throw new ht("JpegImage.parse - unknown marker: "+an.toString(16))}an=(0,_t.readUint16)(Yt,Ht),Ht+=2}this.width=Xt.samplesPerLine,this.height=Xt.scanLines,this.jfif=sn,this.adobe=zt,this.components=[];for(const xn of Xt.components){const wn=on[xn.quantizationId];wn&&(xn.quantizationTable=wn),this.components.push({index:xn.index,output:gn(Xt,xn),scaleX:xn.h/Xt.maxH,scaleY:xn.v/Xt.maxV,blocksPerLine:xn.blocksPerLine,blocksPerColumn:xn.blocksPerColumn})}this.numComponents=this.components.length}_getLinearizedBlockData(Yt,dn,Ut=!1){const Mt=this.width/Yt,Ht=this.height/dn;let sn,zt,Xt,Qt,ln,on,cn,rn,an,xn,wn=0,En;const Fn=this.components.length,In=Yt*dn*Fn,Tn=new Uint8ClampedArray(In),An=new Uint32Array(Yt),mn=4294967288;let pn;for(cn=0;cn<Fn;cn++){if(sn=this.components[cn],zt=sn.scaleX*Mt,Xt=sn.scaleY*Ht,wn=cn,En=sn.output,Qt=sn.blocksPerLine+1<<3,zt!==pn){for(ln=0;ln<Yt;ln++)rn=0|ln*zt,An[ln]=(rn&mn)<<3|rn&7;pn=zt}for(on=0;on<dn;on++)for(rn=0|on*Xt,xn=Qt*(rn&mn)|(rn&7)<<3,ln=0;ln<Yt;ln++)Tn[wn]=En[xn+An[ln]],wn+=Fn}let Jt=this._decodeTransform;if(!Ut&&Fn===4&&!Jt&&(Jt=new Int32Array([-256,255,-256,255,-256,255,-256,255])),Jt)for(cn=0;cn<In;)for(rn=0,an=0;rn<Fn;rn++,cn++,an+=2)Tn[cn]=(Tn[cn]*Jt[an]>>8)+Jt[an+1];return Tn}get _isColorConversionNeeded(){return this.adobe?!!this.adobe.transformCode:this.numComponents===3?this._colorTransform===0?!1:!(this.components[0].index===82&&this.components[1].index===71&&this.components[2].index===66):this._colorTransform===1}_convertYccToRgb(Yt){let dn,Ut,Mt;for(let Ht=0,sn=Yt.length;Ht<sn;Ht+=3)dn=Yt[Ht],Ut=Yt[Ht+1],Mt=Yt[Ht+2],Yt[Ht]=dn-179.456+1.402*Mt,Yt[Ht+1]=dn+135.459-.344*Ut-.714*Mt,Yt[Ht+2]=dn-226.816+1.772*Ut;return Yt}_convertYccToRgba(Yt,dn){for(let Ut=0,Mt=0,Ht=Yt.length;Ut<Ht;Ut+=3,Mt+=4){const sn=Yt[Ut],zt=Yt[Ut+1],Xt=Yt[Ut+2];dn[Mt]=sn-179.456+1.402*Xt,dn[Mt+1]=sn+135.459-.344*zt-.714*Xt,dn[Mt+2]=sn-226.816+1.772*zt,dn[Mt+3]=255}return dn}_convertYcckToRgb(Yt){let dn,Ut,Mt,Ht,sn=0;for(let zt=0,Xt=Yt.length;zt<Xt;zt+=4)dn=Yt[zt],Ut=Yt[zt+1],Mt=Yt[zt+2],Ht=Yt[zt+3],Yt[sn++]=-122.67195406894+Ut*(-660635669420364e-19*Ut+.000437130475926232*Mt-54080610064599e-18*dn+.00048449797120281*Ht-.154362151871126)+Mt*(-.000957964378445773*Mt+.000817076911346625*dn-.00477271405408747*Ht+1.53380253221734)+dn*(.000961250184130688*dn-.00266257332283933*Ht+.48357088451265)+Ht*(-.000336197177618394*Ht+.484791561490776),Yt[sn++]=107.268039397724+Ut*(219927104525741e-19*Ut-.000640992018297945*Mt+.000659397001245577*dn+.000426105652938837*Ht-.176491792462875)+Mt*(-.000778269941513683*Mt+.00130872261408275*dn+.000770482631801132*Ht-.151051492775562)+dn*(.00126935368114843*dn-.00265090189010898*Ht+.25802910206845)+Ht*(-.000318913117588328*Ht-.213742400323665),Yt[sn++]=-20.810012546947+Ut*(-.000570115196973677*Ut-263409051004589e-19*Mt+.0020741088115012*dn-.00288260236853442*Ht+.814272968359295)+Mt*(-153496057440975e-19*Mt-.000132689043961446*dn+.000560833691242812*Ht-.195152027534049)+dn*(.00174418132927582*dn-.00255243321439347*Ht+.116935020465145)+Ht*(-.000343531996510555*Ht+.24165260232407);return Yt.subarray(0,sn)}_convertYcckToRgba(Yt){for(let dn=0,Ut=Yt.length;dn<Ut;dn+=4){const Mt=Yt[dn],Ht=Yt[dn+1],sn=Yt[dn+2],zt=Yt[dn+3];Yt[dn]=-122.67195406894+Ht*(-660635669420364e-19*Ht+.000437130475926232*sn-54080610064599e-18*Mt+.00048449797120281*zt-.154362151871126)+sn*(-.000957964378445773*sn+.000817076911346625*Mt-.00477271405408747*zt+1.53380253221734)+Mt*(.000961250184130688*Mt-.00266257332283933*zt+.48357088451265)+zt*(-.000336197177618394*zt+.484791561490776),Yt[dn+1]=107.268039397724+Ht*(219927104525741e-19*Ht-.000640992018297945*sn+.000659397001245577*Mt+.000426105652938837*zt-.176491792462875)+sn*(-.000778269941513683*sn+.00130872261408275*Mt+.000770482631801132*zt-.151051492775562)+Mt*(.00126935368114843*Mt-.00265090189010898*zt+.25802910206845)+zt*(-.000318913117588328*zt-.213742400323665),Yt[dn+2]=-20.810012546947+Ht*(-.000570115196973677*Ht-263409051004589e-19*sn+.0020741088115012*Mt-.00288260236853442*zt+.814272968359295)+sn*(-153496057440975e-19*sn-.000132689043961446*Mt+.000560833691242812*zt-.195152027534049)+Mt*(.00174418132927582*Mt-.00255243321439347*zt+.116935020465145)+zt*(-.000343531996510555*zt+.24165260232407),Yt[dn+3]=255}return Yt}_convertYcckToCmyk(Yt){let dn,Ut,Mt;for(let Ht=0,sn=Yt.length;Ht<sn;Ht+=4)dn=Yt[Ht],Ut=Yt[Ht+1],Mt=Yt[Ht+2],Yt[Ht]=434.456-dn-1.402*Mt,Yt[Ht+1]=119.541-dn+.344*Ut+.714*Mt,Yt[Ht+2]=481.816-dn-1.772*Ut;return Yt}_convertCmykToRgb(Yt){let dn,Ut,Mt,Ht,sn=0;for(let zt=0,Xt=Yt.length;zt<Xt;zt+=4)dn=Yt[zt],Ut=Yt[zt+1],Mt=Yt[zt+2],Ht=Yt[zt+3],Yt[sn++]=255+dn*(-6747147073602441e-20*dn+.0008379262121013727*Ut+.0002894718188643294*Mt+.003264231057537806*Ht-1.1185611867203937)+Ut*(26374107616089405e-21*Ut-8626949158638572e-20*Mt-.0002748769067499491*Ht-.02155688794978967)+Mt*(-3878099212869363e-20*Mt-.0003267808279485286*Ht+.0686742238595345)-Ht*(.0003361971776183937*Ht+.7430659151342254),Yt[sn++]=255+dn*(.00013596372813588848*dn+.000924537132573585*Ut+.00010567359618683593*Mt+.0004791864687436512*Ht-.3109689587515875)+Ut*(-.00023545346108370344*Ut+.0002702845253534714*Mt+.0020200308977307156*Ht-.7488052167015494)+Mt*(6834815998235662e-20*Mt+.00015168452363460973*Ht-.09751927774728933)-Ht*(.0003189131175883281*Ht+.7364883807733168),Yt[sn++]=255+dn*(13598650411385307e-21*dn+.00012423956175490851*Ut+.0004751985097583589*Mt-36729317476630422e-22*Ht-.05562186980264034)+Ut*(.00016141380598724676*Ut+.0009692239130725186*Mt+.0007782692450036253*Ht-.44015232367526463)+Mt*(5068882914068769e-22*Mt+.0017778369011375071*Ht-.7591454649749609)-Ht*(.0003435319965105553*Ht+.7063770186160144);return Yt.subarray(0,sn)}_convertCmykToRgba(Yt){for(let dn=0,Ut=Yt.length;dn<Ut;dn+=4){const Mt=Yt[dn],Ht=Yt[dn+1],sn=Yt[dn+2],zt=Yt[dn+3];Yt[dn]=255+Mt*(-6747147073602441e-20*Mt+.0008379262121013727*Ht+.0002894718188643294*sn+.003264231057537806*zt-1.1185611867203937)+Ht*(26374107616089405e-21*Ht-8626949158638572e-20*sn-.0002748769067499491*zt-.02155688794978967)+sn*(-3878099212869363e-20*sn-.0003267808279485286*zt+.0686742238595345)-zt*(.0003361971776183937*zt+.7430659151342254),Yt[dn+1]=255+Mt*(.00013596372813588848*Mt+.000924537132573585*Ht+.00010567359618683593*sn+.0004791864687436512*zt-.3109689587515875)+Ht*(-.00023545346108370344*Ht+.0002702845253534714*sn+.0020200308977307156*zt-.7488052167015494)+sn*(6834815998235662e-20*sn+.00015168452363460973*zt-.09751927774728933)-zt*(.0003189131175883281*zt+.7364883807733168),Yt[dn+2]=255+Mt*(13598650411385307e-21*Mt+.00012423956175490851*Ht+.0004751985097583589*sn-36729317476630422e-22*zt-.05562186980264034)+Ht*(.00016141380598724676*Ht+.0009692239130725186*sn+.0007782692450036253*zt-.44015232367526463)+sn*(5068882914068769e-22*sn+.0017778369011375071*zt-.7591454649749609)-zt*(.0003435319965105553*zt+.7063770186160144),Yt[dn+3]=255}return Yt}getData({width:Yt,height:dn,forceRGBA:Ut=!1,forceRGB:Mt=!1,isSourcePDF:Ht=!1}){if(this.numComponents>4)throw new ht("Unsupported color mode");const sn=this._getLinearizedBlockData(Yt,dn,Ht);if(this.numComponents===1&&(Ut||Mt)){const zt=sn.length*(Ut?4:3),Xt=new Uint8ClampedArray(zt);let Qt=0;if(Ut)(0,kt.grayToRGBA)(sn,new Uint32Array(Xt.buffer));else for(const ln of sn)Xt[Qt++]=ln,Xt[Qt++]=ln,Xt[Qt++]=ln;return Xt}else if(this.numComponents===3&&this._isColorConversionNeeded){if(Ut){const zt=new Uint8ClampedArray(sn.length/3*4);return this._convertYccToRgba(sn,zt)}return this._convertYccToRgb(sn)}else if(this.numComponents===4){if(this._isColorConversionNeeded)return Ut?this._convertYcckToRgba(sn):Mt?this._convertYcckToRgb(sn):this._convertYcckToCmyk(sn);if(Ut)return this._convertCmykToRgba(sn);if(Mt)return this._convertCmykToRgb(sn)}return sn}}Et.JpegImage=bn},(Ct,Et,Pt)=>{Object.defineProperty(Et,"__esModule",{value:!0}),Et.convertBlackAndWhiteToRGBA=_t,Et.convertToRGBA=kt,Et.grayToRGBA=vt;var wt=Pt(2);function kt(Ft){switch(Ft.kind){case wt.ImageKind.GRAYSCALE_1BPP:return _t(Ft);case wt.ImageKind.RGB_24BPP:return ht(Ft)}return null}function _t({src:Ft,srcPos:Vt=0,dest:qt,width:Lt,height:$t,nonBlackColor:Ot=4294967295,inverseDecode:jt=!1}){const Rt=wt.FeatureTest.isLittleEndian?4278190080:255,[Kt,Bt]=jt?[Ot,Rt]:[Rt,Ot],Gt=Lt>>3,en=Lt&7,hn=Ft.length;qt=new Uint32Array(qt.buffer);let tn=0;for(let gn=0;gn<$t;gn++){for(const bn=Vt+Gt;Vt<bn;Vt++){const Wt=Vt<hn?Ft[Vt]:255;qt[tn++]=Wt&128?Bt:Kt,qt[tn++]=Wt&64?Bt:Kt,qt[tn++]=Wt&32?Bt:Kt,qt[tn++]=Wt&16?Bt:Kt,qt[tn++]=Wt&8?Bt:Kt,qt[tn++]=Wt&4?Bt:Kt,qt[tn++]=Wt&2?Bt:Kt,qt[tn++]=Wt&1?Bt:Kt}if(en===0)continue;const nn=Vt<hn?Ft[Vt++]:255;for(let bn=0;bn<en;bn++)qt[tn++]=nn&1<<7-bn?Bt:Kt}return{srcPos:Vt,destPos:tn}}function ht({src:Ft,srcPos:Vt=0,dest:qt,destPos:Lt=0,width:$t,height:Ot}){let jt=0;const Rt=Ft.length>>2,Kt=new Uint32Array(Ft.buffer,Vt,Rt);if(wt.FeatureTest.isLittleEndian){for(;jt<Rt-2;jt+=3,Lt+=4){const Bt=Kt[jt],Gt=Kt[jt+1],en=Kt[jt+2];qt[Lt]=Bt|4278190080,qt[Lt+1]=Bt>>>24|Gt<<8|4278190080,qt[Lt+2]=Gt>>>16|en<<16|4278190080,qt[Lt+3]=en>>>8|4278190080}for(let Bt=jt*4,Gt=Ft.length;Bt<Gt;Bt+=3)qt[Lt++]=Ft[Bt]|Ft[Bt+1]<<8|Ft[Bt+2]<<16|4278190080}else{for(;jt<Rt-2;jt+=3,Lt+=4){const Bt=Kt[jt],Gt=Kt[jt+1],en=Kt[jt+2];qt[Lt]=Bt|255,qt[Lt+1]=Bt<<24|Gt>>>8|255,qt[Lt+2]=Gt<<16|en>>>16|255,qt[Lt+3]=en<<8|255}for(let Bt=jt*4,Gt=Ft.length;Bt<Gt;Bt+=3)qt[Lt++]=Ft[Bt]<<24|Ft[Bt+1]<<16|Ft[Bt+2]<<8|255}return{srcPos:Vt,destPos:Lt}}function vt(Ft,Vt){if(wt.FeatureTest.isLittleEndian)for(let qt=0,Lt=Ft.length;qt<Lt;qt++)Vt[qt]=Ft[qt]*65793|4278190080;else for(let qt=0,Lt=Ft.length;qt<Lt;qt++)Vt[qt]=Ft[qt]*16843008|255}},(Ct,Et,Pt)=>{Object.defineProperty(Et,"__esModule",{value:!0}),Et.JpxStream=void 0;var wt=Pt(18),kt=Pt(30),_t=Pt(2);class ht extends wt.DecodeStream{constructor(Ft,Vt,qt){super(Vt),this.stream=Ft,this.dict=Ft.dict,this.maybeLength=Vt,this.params=qt}get bytes(){return(0,_t.shadow)(this,"bytes",this.stream.getBytes(this.maybeLength))}ensureBuffer(Ft){}readBlock(){if(this.eof)return;const Ft=new kt.JpxImage;Ft.parse(this.bytes);const Vt=Ft.width,qt=Ft.height,Lt=Ft.componentsCount,$t=Ft.tiles.length;if($t===1)this.buffer=Ft.tiles[0].items;else{const Ot=new Uint8ClampedArray(Vt*qt*Lt);for(let jt=0;jt<$t;jt++){const Rt=Ft.tiles[jt],Kt=Rt.width,Bt=Rt.height,Gt=Rt.left,en=Rt.top,hn=Rt.items;let tn=0,gn=(Vt*en+Gt)*Lt;const nn=Vt*Lt,bn=Kt*Lt;for(let Wt=0;Wt<Bt;Wt++){const Yt=hn.subarray(tn,tn+bn);Ot.set(Yt,gn),tn+=bn,gn+=nn}}this.buffer=Ot}this.bufferLength=this.buffer.length,this.eof=!0}}Et.JpxStream=ht},(Ct,Et,Pt)=>{Object.defineProperty(Et,"__esModule",{value:!0}),Et.JpxImage=void 0;var wt=Pt(2),kt=Pt(3),_t=Pt(25);class ht extends wt.BaseException{constructor(on){super(`JPX error: ${on}`,"JpxError")}}const vt={LL:0,LH:1,HL:1,HH:2};class Ft{constructor(){this.failOnCorruptedImage=!1}parse(on){if((0,kt.readUint16)(on,0)===65359){this.parseCodestream(on,0,on.length);return}const rn=on.length;let an=0;for(;an<rn;){let xn=8,wn=(0,kt.readUint32)(on,an);const En=(0,kt.readUint32)(on,an+4);if(an+=xn,wn===1&&(wn=(0,kt.readUint32)(on,an)*4294967296+(0,kt.readUint32)(on,an+4),an+=8,xn+=8),wn===0&&(wn=rn-an+xn),wn<xn)throw new ht("Invalid box field size");const Fn=wn-xn;let In=!0;switch(En){case 1785737832:In=!1;break;case 1668246642:const Tn=on[an];if(Tn===1){const mn=(0,kt.readUint32)(on,an+3);switch(mn){case 16:case 17:case 18:break;default:(0,wt.warn)("Unknown colorspace "+mn);break}}else Tn===2&&(0,wt.info)("ICC profile not supported");break;case 1785737827:this.parseCodestream(on,an,an+Fn);break;case 1783636e3:(0,kt.readUint32)(on,an)!==218793738&&(0,wt.warn)("Invalid JP2 signature");break;case 1783634458:case 1718909296:case 1920099697:case 1919251232:case 1768449138:break;default:const An=String.fromCharCode(En>>24&255,En>>16&255,En>>8&255,En&255);(0,wt.warn)(`Unsupported header type ${En} (${An}).`);break}In&&(an+=Fn)}}parseImageProperties(on){let cn=on.getByte();for(;cn>=0;){const rn=cn;if(cn=on.getByte(),(rn<<8|cn)===65361){on.skip(4);const xn=on.getInt32()>>>0,wn=on.getInt32()>>>0,En=on.getInt32()>>>0,Fn=on.getInt32()>>>0;on.skip(16);const In=on.getUint16();this.width=xn-En,this.height=wn-Fn,this.componentsCount=In,this.bitsPerComponent=8;return}}throw new ht("No size marker found in JPX stream")}parseCodestream(on,cn,rn){const an={};let xn=!1;try{let wn=cn;for(;wn+1<rn;){const En=(0,kt.readUint16)(on,wn);wn+=2;let Fn=0,In,Tn,An,mn,pn,Jt;switch(En){case 65359:an.mainHeader=!0;break;case 65497:break;case 65361:Fn=(0,kt.readUint16)(on,wn);const un={};un.Xsiz=(0,kt.readUint32)(on,wn+4),un.Ysiz=(0,kt.readUint32)(on,wn+8),un.XOsiz=(0,kt.readUint32)(on,wn+12),un.YOsiz=(0,kt.readUint32)(on,wn+16),un.XTsiz=(0,kt.readUint32)(on,wn+20),un.YTsiz=(0,kt.readUint32)(on,wn+24),un.XTOsiz=(0,kt.readUint32)(on,wn+28),un.YTOsiz=(0,kt.readUint32)(on,wn+32);const fn=(0,kt.readUint16)(on,wn+36);un.Csiz=fn;const Sn=[];In=wn+38;for(let Dn=0;Dn<fn;Dn++){const Ln={precision:(on[In]&127)+1,isSigned:!!(on[In]&128),XRsiz:on[In+1],YRsiz:on[In+2]};In+=3,Vt(Ln,un),Sn.push(Ln)}an.SIZ=un,an.components=Sn,qt(an,Sn),an.QCC=[],an.COC=[];break;case 65372:Fn=(0,kt.readUint16)(on,wn);const kn={};switch(In=wn+2,Tn=on[In++],Tn&31){case 0:mn=8,pn=!0;break;case 1:mn=16,pn=!1;break;case 2:mn=16,pn=!0;break;default:throw new Error("Invalid SQcd value "+Tn)}for(kn.noQuantization=mn===8,kn.scalarExpounded=pn,kn.guardBits=Tn>>5,An=[];In<Fn+wn;){const Dn={};mn===8?(Dn.epsilon=on[In++]>>3,Dn.mu=0):(Dn.epsilon=on[In]>>3,Dn.mu=(on[In]&7)<<8|on[In+1],In+=2),An.push(Dn)}kn.SPqcds=An,an.mainHeader?an.QCD=kn:(an.currentTile.QCD=kn,an.currentTile.QCC=[]);break;case 65373:Fn=(0,kt.readUint16)(on,wn);const Pn={};In=wn+2;let Cn;switch(an.SIZ.Csiz<257?Cn=on[In++]:(Cn=(0,kt.readUint16)(on,In),In+=2),Tn=on[In++],Tn&31){case 0:mn=8,pn=!0;break;case 1:mn=16,pn=!1;break;case 2:mn=16,pn=!0;break;default:throw new Error("Invalid SQcd value "+Tn)}for(Pn.noQuantization=mn===8,Pn.scalarExpounded=pn,Pn.guardBits=Tn>>5,An=[];In<Fn+wn;){const Dn={};mn===8?(Dn.epsilon=on[In++]>>3,Dn.mu=0):(Dn.epsilon=on[In]>>3,Dn.mu=(on[In]&7)<<8|on[In+1],In+=2),An.push(Dn)}Pn.SPqcds=An,an.mainHeader?an.QCC[Cn]=Pn:an.currentTile.QCC[Cn]=Pn;break;case 65362:Fn=(0,kt.readUint16)(on,wn);const vn={};In=wn+2;const Rn=on[In++];vn.entropyCoderWithCustomPrecincts=!!(Rn&1),vn.sopMarkerUsed=!!(Rn&2),vn.ephMarkerUsed=!!(Rn&4),vn.progressionOrder=on[In++],vn.layersCount=(0,kt.readUint16)(on,In),In+=2,vn.multipleComponentTransform=on[In++],vn.decompositionLevelsCount=on[In++],vn.xcb=(on[In++]&15)+2,vn.ycb=(on[In++]&15)+2;const Mn=on[In++];if(vn.selectiveArithmeticCodingBypass=!!(Mn&1),vn.resetContextProbabilities=!!(Mn&2),vn.terminationOnEachCodingPass=!!(Mn&4),vn.verticallyStripe=!!(Mn&8),vn.predictableTermination=!!(Mn&16),vn.segmentationSymbolUsed=!!(Mn&32),vn.reversibleTransformation=on[In++],vn.entropyCoderWithCustomPrecincts){const Dn=[];for(;In<Fn+wn;){const Ln=on[In++];Dn.push({PPx:Ln&15,PPy:Ln>>4})}vn.precinctsSizes=Dn}const _n=[];vn.selectiveArithmeticCodingBypass&&_n.push("selectiveArithmeticCodingBypass"),vn.terminationOnEachCodingPass&&_n.push("terminationOnEachCodingPass"),vn.verticallyStripe&&_n.push("verticallyStripe"),vn.predictableTermination&&_n.push("predictableTermination"),_n.length>0&&(xn=!0,(0,wt.warn)(`JPX: Unsupported COD options (${_n.join(", ")}).`)),an.mainHeader?an.COD=vn:(an.currentTile.COD=vn,an.currentTile.COC=[]);break;case 65424:Fn=(0,kt.readUint16)(on,wn),Jt={},Jt.index=(0,kt.readUint16)(on,wn+2),Jt.length=(0,kt.readUint32)(on,wn+4),Jt.dataEnd=Jt.length+wn-2,Jt.partIndex=on[wn+8],Jt.partsCount=on[wn+9],an.mainHeader=!1,Jt.partIndex===0&&(Jt.COD=an.COD,Jt.COC=an.COC.slice(0),Jt.QCD=an.QCD,Jt.QCC=an.QCC.slice(0)),an.currentTile=Jt;break;case 65427:Jt=an.currentTile,Jt.partIndex===0&&(dn(an,Jt.index),gn(an)),Fn=Jt.dataEnd-wn,nn(an,on,wn,Fn);break;case 65363:(0,wt.warn)("JPX: Codestream code 0xFF53 (COC) is not implemented.");case 65365:case 65367:case 65368:case 65380:Fn=(0,kt.readUint16)(on,wn);break;default:throw new Error("Unknown codestream code: "+En.toString(16))}wn+=Fn}}catch(wn){if(xn||this.failOnCorruptedImage)throw new ht(wn.message);(0,wt.warn)(`JPX: Trying to recover from: "${wn.message}".`)}this.tiles=Yt(an),this.width=an.SIZ.Xsiz-an.SIZ.XOsiz,this.height=an.SIZ.Ysiz-an.SIZ.YOsiz,this.componentsCount=an.SIZ.Csiz}}Et.JpxImage=Ft;function Vt(ln,on){ln.x0=Math.ceil(on.XOsiz/ln.XRsiz),ln.x1=Math.ceil(on.Xsiz/ln.XRsiz),ln.y0=Math.ceil(on.YOsiz/ln.YRsiz),ln.y1=Math.ceil(on.Ysiz/ln.YRsiz),ln.width=ln.x1-ln.x0,ln.height=ln.y1-ln.y0}function qt(ln,on){const cn=ln.SIZ,rn=[];let an;const xn=Math.ceil((cn.Xsiz-cn.XTOsiz)/cn.XTsiz),wn=Math.ceil((cn.Ysiz-cn.YTOsiz)/cn.YTsiz);for(let Fn=0;Fn<wn;Fn++)for(let In=0;In<xn;In++)an={},an.tx0=Math.max(cn.XTOsiz+In*cn.XTsiz,cn.XOsiz),an.ty0=Math.max(cn.YTOsiz+Fn*cn.YTsiz,cn.YOsiz),an.tx1=Math.min(cn.XTOsiz+(In+1)*cn.XTsiz,cn.Xsiz),an.ty1=Math.min(cn.YTOsiz+(Fn+1)*cn.YTsiz,cn.Ysiz),an.width=an.tx1-an.tx0,an.height=an.ty1-an.ty0,an.components=[],rn.push(an);ln.tiles=rn;const En=cn.Csiz;for(let Fn=0,In=En;Fn<In;Fn++){const Tn=on[Fn];for(let An=0,mn=rn.length;An<mn;An++){const pn={};an=rn[An],pn.tcx0=Math.ceil(an.tx0/Tn.XRsiz),pn.tcy0=Math.ceil(an.ty0/Tn.YRsiz),pn.tcx1=Math.ceil(an.tx1/Tn.XRsiz),pn.tcy1=Math.ceil(an.ty1/Tn.YRsiz),pn.width=pn.tcx1-pn.tcx0,pn.height=pn.tcy1-pn.tcy0,an.components[Fn]=pn}}}function Lt(ln,on,cn){const rn=on.codingStyleParameters,an={};return rn.entropyCoderWithCustomPrecincts?(an.PPx=rn.precinctsSizes[cn].PPx,an.PPy=rn.precinctsSizes[cn].PPy):(an.PPx=15,an.PPy=15),an.xcb_=cn>0?Math.min(rn.xcb,an.PPx-1):Math.min(rn.xcb,an.PPx),an.ycb_=cn>0?Math.min(rn.ycb,an.PPy-1):Math.min(rn.ycb,an.PPy),an}function $t(ln,on,cn){const rn=1<<cn.PPx,an=1<<cn.PPy,xn=on.resLevel===0,wn=1<<cn.PPx+(xn?0:-1),En=1<<cn.PPy+(xn?0:-1),Fn=on.trx1>on.trx0?Math.ceil(on.trx1/rn)-Math.floor(on.trx0/rn):0,In=on.try1>on.try0?Math.ceil(on.try1/an)-Math.floor(on.try0/an):0,Tn=Fn*In;on.precinctParameters={precinctWidth:rn,precinctHeight:an,numprecinctswide:Fn,numprecinctshigh:In,numprecincts:Tn,precinctWidthInSubband:wn,precinctHeightInSubband:En}}function Ot(ln,on,cn){const rn=cn.xcb_,an=cn.ycb_,xn=1<<rn,wn=1<<an,En=on.tbx0>>rn,Fn=on.tby0>>an,In=on.tbx1+xn-1>>rn,Tn=on.tby1+wn-1>>an,An=on.resolution.precinctParameters,mn=[],pn=[];let Jt,un,fn,Sn;for(un=Fn;un<Tn;un++)for(Jt=En;Jt<In;Jt++){fn={cbx:Jt,cby:un,tbx0:xn*Jt,tby0:wn*un,tbx1:xn*(Jt+1),tby1:wn*(un+1)},fn.tbx0_=Math.max(on.tbx0,fn.tbx0),fn.tby0_=Math.max(on.tby0,fn.tby0),fn.tbx1_=Math.min(on.tbx1,fn.tbx1),fn.tby1_=Math.min(on.tby1,fn.tby1);const kn=Math.floor((fn.tbx0_-on.tbx0)/An.precinctWidthInSubband),Pn=Math.floor((fn.tby0_-on.tby0)/An.precinctHeightInSubband);if(Sn=kn+Pn*An.numprecinctswide,fn.precinctNumber=Sn,fn.subbandType=on.type,fn.Lblock=3,fn.tbx1_<=fn.tbx0_||fn.tby1_<=fn.tby0_)continue;mn.push(fn);let Cn=pn[Sn];Cn!==void 0?(Jt<Cn.cbxMin?Cn.cbxMin=Jt:Jt>Cn.cbxMax&&(Cn.cbxMax=Jt),un<Cn.cbyMin?Cn.cbxMin=un:un>Cn.cbyMax&&(Cn.cbyMax=un)):pn[Sn]=Cn={cbxMin:Jt,cbyMin:un,cbxMax:Jt,cbyMax:un},fn.precinct=Cn}on.codeblockParameters={codeblockWidth:rn,codeblockHeight:an,numcodeblockwide:In-En+1,numcodeblockhigh:Tn-Fn+1},on.codeblocks=mn,on.precincts=pn}function jt(ln,on,cn){const rn=[],an=ln.subbands;for(let xn=0,wn=an.length;xn<wn;xn++){const Fn=an[xn].codeblocks;for(let In=0,Tn=Fn.length;In<Tn;In++){const An=Fn[In];An.precinctNumber===on&&rn.push(An)}}return{layerNumber:cn,codeblocks:rn}}function Rt(ln){const on=ln.SIZ,cn=ln.currentTile.index,rn=ln.tiles[cn],an=rn.codingStyleDefaultParameters.layersCount,xn=on.Csiz;let wn=0;for(let An=0;An<xn;An++)wn=Math.max(wn,rn.components[An].codingStyleParameters.decompositionLevelsCount);let En=0,Fn=0,In=0,Tn=0;this.nextPacket=function(){for(;En<an;En++){for(;Fn<=wn;Fn++){for(;In<xn;In++){const mn=rn.components[In];if(Fn>mn.codingStyleParameters.decompositionLevelsCount)continue;const pn=mn.resolutions[Fn],Jt=pn.precinctParameters.numprecincts;for(;Tn<Jt;){const un=jt(pn,Tn,En);return Tn++,un}Tn=0}In=0}Fn=0}throw new ht("Out of packets")}}function Kt(ln){const on=ln.SIZ,cn=ln.currentTile.index,rn=ln.tiles[cn],an=rn.codingStyleDefaultParameters.layersCount,xn=on.Csiz;let wn=0;for(let An=0;An<xn;An++)wn=Math.max(wn,rn.components[An].codingStyleParameters.decompositionLevelsCount);let En=0,Fn=0,In=0,Tn=0;this.nextPacket=function(){for(;En<=wn;En++){for(;Fn<an;Fn++){for(;In<xn;In++){const mn=rn.components[In];if(En>mn.codingStyleParameters.decompositionLevelsCount)continue;const pn=mn.resolutions[En],Jt=pn.precinctParameters.numprecincts;for(;Tn<Jt;){const un=jt(pn,Tn,Fn);return Tn++,un}Tn=0}In=0}Fn=0}throw new ht("Out of packets")}}function Bt(ln){const on=ln.SIZ,cn=ln.currentTile.index,rn=ln.tiles[cn],an=rn.codingStyleDefaultParameters.layersCount,xn=on.Csiz;let wn,En,Fn,In,Tn=0;for(Fn=0;Fn<xn;Fn++){const mn=rn.components[Fn];Tn=Math.max(Tn,mn.codingStyleParameters.decompositionLevelsCount)}const An=new Int32Array(Tn+1);for(En=0;En<=Tn;++En){let mn=0;for(Fn=0;Fn<xn;++Fn){const pn=rn.components[Fn].resolutions;En<pn.length&&(mn=Math.max(mn,pn[En].precinctParameters.numprecincts))}An[En]=mn}wn=0,En=0,Fn=0,In=0,this.nextPacket=function(){for(;En<=Tn;En++){for(;In<An[En];In++){for(;Fn<xn;Fn++){const pn=rn.components[Fn];if(En>pn.codingStyleParameters.decompositionLevelsCount)continue;const Jt=pn.resolutions[En],un=Jt.precinctParameters.numprecincts;if(!(In>=un)){for(;wn<an;){const fn=jt(Jt,In,wn);return wn++,fn}wn=0}}Fn=0}In=0}throw new ht("Out of packets")}}function Gt(ln){const on=ln.SIZ,cn=ln.currentTile.index,rn=ln.tiles[cn],an=rn.codingStyleDefaultParameters.layersCount,xn=on.Csiz,wn=tn(rn),En=wn;let Fn=0,In=0,Tn=0,An=0,mn=0;this.nextPacket=function(){for(;mn<En.maxNumHigh;mn++){for(;An<En.maxNumWide;An++){for(;Tn<xn;Tn++){const Jt=rn.components[Tn],un=Jt.codingStyleParameters.decompositionLevelsCount;for(;In<=un;In++){const fn=Jt.resolutions[In],Sn=wn.components[Tn].resolutions[In],kn=hn(An,mn,Sn,En,fn);if(kn!==null){for(;Fn<an;){const Pn=jt(fn,kn,Fn);return Fn++,Pn}Fn=0}}In=0}Tn=0}An=0}throw new ht("Out of packets")}}function en(ln){const on=ln.SIZ,cn=ln.currentTile.index,rn=ln.tiles[cn],an=rn.codingStyleDefaultParameters.layersCount,xn=on.Csiz,wn=tn(rn);let En=0,Fn=0,In=0,Tn=0,An=0;this.nextPacket=function(){for(;In<xn;++In){const pn=rn.components[In],Jt=wn.components[In],un=pn.codingStyleParameters.decompositionLevelsCount;for(;An<Jt.maxNumHigh;An++){for(;Tn<Jt.maxNumWide;Tn++){for(;Fn<=un;Fn++){const fn=pn.resolutions[Fn],Sn=Jt.resolutions[Fn],kn=hn(Tn,An,Sn,Jt,fn);if(kn!==null){for(;En<an;){const Pn=jt(fn,kn,En);return En++,Pn}En=0}}Fn=0}Tn=0}An=0}throw new ht("Out of packets")}}function hn(ln,on,cn,rn,an){const xn=ln*rn.minWidth,wn=on*rn.minHeight;if(xn%cn.width!==0||wn%cn.height!==0)return null;const En=wn/cn.width*an.precinctParameters.numprecinctswide;return xn/cn.height+En}function tn(ln){const on=ln.components.length;let cn=Number.MAX_VALUE,rn=Number.MAX_VALUE,an=0,xn=0;const wn=new Array(on);for(let En=0;En<on;En++){const Fn=ln.components[En],In=Fn.codingStyleParameters.decompositionLevelsCount,Tn=new Array(In+1);let An=Number.MAX_VALUE,mn=Number.MAX_VALUE,pn=0,Jt=0,un=1;for(let fn=In;fn>=0;--fn){const Sn=Fn.resolutions[fn],kn=un*Sn.precinctParameters.precinctWidth,Pn=un*Sn.precinctParameters.precinctHeight;An=Math.min(An,kn),mn=Math.min(mn,Pn),pn=Math.max(pn,Sn.precinctParameters.numprecinctswide),Jt=Math.max(Jt,Sn.precinctParameters.numprecinctshigh),Tn[fn]={width:kn,height:Pn},un<<=1}cn=Math.min(cn,An),rn=Math.min(rn,mn),an=Math.max(an,pn),xn=Math.max(xn,Jt),wn[En]={resolutions:Tn,minWidth:An,minHeight:mn,maxNumWide:pn,maxNumHigh:Jt}}return{components:wn,minWidth:cn,minHeight:rn,maxNumWide:an,maxNumHigh:xn}}function gn(ln){const on=ln.SIZ,cn=ln.currentTile.index,rn=ln.tiles[cn],an=on.Csiz;for(let wn=0;wn<an;wn++){const En=rn.components[wn],Fn=En.codingStyleParameters.decompositionLevelsCount,In=[],Tn=[];for(let An=0;An<=Fn;An++){const mn=Lt(ln,En,An),pn={},Jt=1<<Fn-An;pn.trx0=Math.ceil(En.tcx0/Jt),pn.try0=Math.ceil(En.tcy0/Jt),pn.trx1=Math.ceil(En.tcx1/Jt),pn.try1=Math.ceil(En.tcy1/Jt),pn.resLevel=An,$t(ln,pn,mn),In.push(pn);let un;if(An===0)un={},un.type="LL",un.tbx0=Math.ceil(En.tcx0/Jt),un.tby0=Math.ceil(En.tcy0/Jt),un.tbx1=Math.ceil(En.tcx1/Jt),un.tby1=Math.ceil(En.tcy1/Jt),un.resolution=pn,Ot(ln,un,mn),Tn.push(un),pn.subbands=[un];else{const fn=1<<Fn-An+1,Sn=[];un={},un.type="HL",un.tbx0=Math.ceil(En.tcx0/fn-.5),un.tby0=Math.ceil(En.tcy0/fn),un.tbx1=Math.ceil(En.tcx1/fn-.5),un.tby1=Math.ceil(En.tcy1/fn),un.resolution=pn,Ot(ln,un,mn),Tn.push(un),Sn.push(un),un={},un.type="LH",un.tbx0=Math.ceil(En.tcx0/fn),un.tby0=Math.ceil(En.tcy0/fn-.5),un.tbx1=Math.ceil(En.tcx1/fn),un.tby1=Math.ceil(En.tcy1/fn-.5),un.resolution=pn,Ot(ln,un,mn),Tn.push(un),Sn.push(un),un={},un.type="HH",un.tbx0=Math.ceil(En.tcx0/fn-.5),un.tby0=Math.ceil(En.tcy0/fn-.5),un.tbx1=Math.ceil(En.tcx1/fn-.5),un.tby1=Math.ceil(En.tcy1/fn-.5),un.resolution=pn,Ot(ln,un,mn),Tn.push(un),Sn.push(un),pn.subbands=Sn}}En.resolutions=In,En.subbands=Tn}const xn=rn.codingStyleDefaultParameters.progressionOrder;switch(xn){case 0:rn.packetsIterator=new Rt(ln);break;case 1:rn.packetsIterator=new Kt(ln);break;case 2:rn.packetsIterator=new Bt(ln);break;case 3:rn.packetsIterator=new Gt(ln);break;case 4:rn.packetsIterator=new en(ln);break;default:throw new ht(`Unsupported progression order ${xn}`)}}function nn(ln,on,cn,rn){let an=0,xn,wn=0,En=!1;function Fn(kn){for(;wn<kn;){const Pn=on[cn+an];an++,En?(xn=xn<<7|Pn,wn+=7,En=!1):(xn=xn<<8|Pn,wn+=8),Pn===255&&(En=!0)}return wn-=kn,xn>>>wn&(1<<kn)-1}function In(kn){return on[cn+an-1]===255&&on[cn+an]===kn?(Tn(1),!0):on[cn+an]===255&&on[cn+an+1]===kn?(Tn(2),!0):!1}function Tn(kn){an+=kn}function An(){wn=0,En&&(an++,En=!1)}function mn(){if(Fn(1)===0)return 1;if(Fn(1)===0)return 2;let kn=Fn(2);return kn<3?kn+3:(kn=Fn(5),kn<31?kn+6:(kn=Fn(7),kn+37))}const pn=ln.currentTile.index,Jt=ln.tiles[pn],un=ln.COD.sopMarkerUsed,fn=ln.COD.ephMarkerUsed,Sn=Jt.packetsIterator;for(;an<rn;){An(),un&&In(145)&&Tn(4);const kn=Sn.nextPacket();if(!Fn(1))continue;const Pn=kn.layerNumber,Cn=[];let vn;for(let Rn=0,Mn=kn.codeblocks.length;Rn<Mn;Rn++){vn=kn.codeblocks[Rn];let _n=vn.precinct;const Dn=vn.cbx-_n.cbxMin,Ln=vn.cby-_n.cbyMin;let Un=!1,ts=!1,es,Qn;if(vn.included!==void 0)Un=!!Fn(1);else{_n=vn.precinct;let ds;if(_n.inclusionTree!==void 0)ds=_n.inclusionTree;else{const Bn=_n.cbxMax-_n.cbxMin+1,Hn=_n.cbyMax-_n.cbyMin+1;ds=new Mt(Bn,Hn,Pn),Qn=new Ut(Bn,Hn),_n.inclusionTree=ds,_n.zeroBitPlanesTree=Qn;for(let Xn=0;Xn<Pn;Xn++)if(Fn(1)!==0)throw new ht("Invalid tag tree")}if(ds.reset(Dn,Ln,Pn))for(;;)if(Fn(1)){if(es=!ds.nextLevel(),es){vn.included=!0,Un=ts=!0;break}}else{ds.incrementValue(Pn);break}}if(!Un)continue;if(ts){for(Qn=_n.zeroBitPlanesTree,Qn.reset(Dn,Ln);;)if(Fn(1)){if(es=!Qn.nextLevel(),es)break}else Qn.incrementValue();vn.zeroBitPlanes=Qn.value}const Yn=mn();for(;Fn(1);)vn.Lblock++;const zn=(0,kt.log2)(Yn),ns=(Yn<1<<zn?zn-1:zn)+vn.Lblock,ls=Fn(ns);Cn.push({codeblock:vn,codingpasses:Yn,dataLength:ls})}for(An(),fn&&In(146);Cn.length>0;){const Rn=Cn.shift();vn=Rn.codeblock,vn.data===void 0&&(vn.data=[]),vn.data.push({data:on,start:cn+an,end:cn+an+Rn.dataLength,codingpasses:Rn.codingpasses}),an+=Rn.dataLength}}return an}function bn(ln,on,cn,rn,an,xn,wn,En,Fn){const In=rn.tbx0,Tn=rn.tby0,An=rn.tbx1-rn.tbx0,mn=rn.codeblocks,pn=rn.type.charAt(0)==="H"?1:0,Jt=rn.type.charAt(1)==="H"?on:0;for(let un=0,fn=mn.length;un<fn;++un){const Sn=mn[un],kn=Sn.tbx1_-Sn.tbx0_,Pn=Sn.tby1_-Sn.tby0_;if(kn===0||Pn===0||Sn.data===void 0)continue;const Cn=new Ht(kn,Pn,Sn.subbandType,Sn.zeroBitPlanes,xn);let vn=2;const Rn=Sn.data;let Mn=0,_n=0,Dn,Ln,Un;for(Dn=0,Ln=Rn.length;Dn<Ln;Dn++)Un=Rn[Dn],Mn+=Un.end-Un.start,_n+=Un.codingpasses;const ts=new Uint8Array(Mn);let es=0;for(Dn=0,Ln=Rn.length;Dn<Ln;Dn++){Un=Rn[Dn];const rs=Un.data.subarray(Un.start,Un.end);ts.set(rs,es),es+=rs.length}const Qn=new _t.ArithmeticDecoder(ts,0,Mn);for(Cn.setDecoder(Qn),Dn=0;Dn<_n;Dn++){switch(vn){case 0:Cn.runSignificancePropagationPass();break;case 1:Cn.runMagnitudeRefinementPass();break;case 2:Cn.runCleanupPass(),En&&Cn.checkSegmentationSymbol();break}Fn&&Cn.reset(),vn=(vn+1)%3}let Yn=Sn.tbx0_-In+(Sn.tby0_-Tn)*An;const zn=Cn.coefficentsSign,ns=Cn.coefficentsMagnitude,ls=Cn.bitsDecoded,ds=wn?0:.5;let Bn,Hn,Xn;es=0;const cs=rn.type!=="LL";for(Dn=0;Dn<Pn;Dn++){const xs=2*(Yn/An|0)*(on-An)+pn+Jt;for(Bn=0;Bn<kn;Bn++){if(Hn=ns[es],Hn!==0){Hn=(Hn+ds)*an,zn[es]!==0&&(Hn=-Hn),Xn=ls[es];const Jn=cs?xs+(Yn<<1):Yn;ln[Jn]=wn&&Xn>=xn?Hn:Hn*(1<<xn-Xn)}Yn++,es++}Yn+=An-kn}}}function Wt(ln,on,cn){const rn=on.components[cn],an=rn.codingStyleParameters,xn=rn.quantizationParameters,wn=an.decompositionLevelsCount,En=xn.SPqcds,Fn=xn.scalarExpounded,In=xn.guardBits,Tn=an.segmentationSymbolUsed,An=an.resetContextProbabilities,mn=ln.components[cn].precision,pn=an.reversibleTransformation,Jt=pn?new Xt:new zt,un=[];let fn=0;for(let kn=0;kn<=wn;kn++){const Pn=rn.resolutions[kn],Cn=Pn.trx1-Pn.trx0,vn=Pn.try1-Pn.try0,Rn=new Float32Array(Cn*vn);for(let Mn=0,_n=Pn.subbands.length;Mn<_n;Mn++){let Dn,Ln;Fn?(Dn=En[fn].mu,Ln=En[fn].epsilon,fn++):(Dn=En[0].mu,Ln=En[0].epsilon+(kn>0?1-kn:0));const Un=Pn.subbands[Mn],ts=vt[Un.type],es=pn?1:2**(mn+ts-Ln)*(1+Dn/2048),Qn=In+Ln-1;bn(Rn,Cn,vn,Un,es,Qn,pn,Tn,An)}un.push({width:Cn,height:vn,items:Rn})}const Sn=Jt.calculate(un,rn.tcx0,rn.tcy0);return{left:rn.tcx0,top:rn.tcy0,width:Sn.width,height:Sn.height,items:Sn.items}}function Yt(ln){const on=ln.SIZ,cn=ln.components,rn=on.Csiz,an=[];for(let xn=0,wn=ln.tiles.length;xn<wn;xn++){const En=ln.tiles[xn],Fn=[];for(let Cn=0;Cn<rn;Cn++)Fn[Cn]=Wt(ln,En,Cn);const In=Fn[0],Tn=new Uint8ClampedArray(In.items.length*rn),An={left:In.left,top:In.top,width:In.width,height:In.height,items:Tn};let mn,pn,Jt=0,un,fn,Sn,kn,Pn;if(En.codingStyleDefaultParameters.multipleComponentTransform){const Cn=rn===4,vn=Fn[0].items,Rn=Fn[1].items,Mn=Fn[2].items,_n=Cn?Fn[3].items:null;mn=cn[0].precision-8,pn=(128<<mn)+.5;const Dn=En.components[0],Ln=rn-3;if(fn=vn.length,Dn.codingStyleParameters.reversibleTransformation)for(un=0;un<fn;un++,Jt+=Ln){Sn=vn[un]+pn,kn=Rn[un],Pn=Mn[un];const Un=Sn-(Pn+kn>>2);Tn[Jt++]=Un+Pn>>mn,Tn[Jt++]=Un>>mn,Tn[Jt++]=Un+kn>>mn}else for(un=0;un<fn;un++,Jt+=Ln)Sn=vn[un]+pn,kn=Rn[un],Pn=Mn[un],Tn[Jt++]=Sn+1.402*Pn>>mn,Tn[Jt++]=Sn-.34413*kn-.71414*Pn>>mn,Tn[Jt++]=Sn+1.772*kn>>mn;if(Cn)for(un=0,Jt=3;un<fn;un++,Jt+=4)Tn[Jt]=_n[un]+pn>>mn}else for(let Cn=0;Cn<rn;Cn++){const vn=Fn[Cn].items;for(mn=cn[Cn].precision-8,pn=(128<<mn)+.5,Jt=Cn,un=0,fn=vn.length;un<fn;un++)Tn[Jt]=vn[un]+pn>>mn,Jt+=rn}an.push(An)}return an}function dn(ln,on){const rn=ln.SIZ.Csiz,an=ln.tiles[on];for(let xn=0;xn<rn;xn++){const wn=an.components[xn],En=ln.currentTile.QCC[xn]!==void 0?ln.currentTile.QCC[xn]:ln.currentTile.QCD;wn.quantizationParameters=En;const Fn=ln.currentTile.COC[xn]!==void 0?ln.currentTile.COC[xn]:ln.currentTile.COD;wn.codingStyleParameters=Fn}an.codingStyleDefaultParameters=ln.currentTile.COD}class Ut{constructor(on,cn){const rn=(0,kt.log2)(Math.max(on,cn))+1;this.levels=[];for(let an=0;an<rn;an++){const xn={width:on,height:cn,items:[]};this.levels.push(xn),on=Math.ceil(on/2),cn=Math.ceil(cn/2)}}reset(on,cn){let rn=0,an=0,xn;for(;rn<this.levels.length;){xn=this.levels[rn];const wn=on+cn*xn.width;if(xn.items[wn]!==void 0){an=xn.items[wn];break}xn.index=wn,on>>=1,cn>>=1,rn++}rn--,xn=this.levels[rn],xn.items[xn.index]=an,this.currentLevel=rn,delete this.value}incrementValue(){const on=this.levels[this.currentLevel];on.items[on.index]++}nextLevel(){let on=this.currentLevel,cn=this.levels[on];const rn=cn.items[cn.index];return on--,on<0?(this.value=rn,!1):(this.currentLevel=on,cn=this.levels[on],cn.items[cn.index]=rn,!0)}}class Mt{constructor(on,cn,rn){const an=(0,kt.log2)(Math.max(on,cn))+1;this.levels=[];for(let xn=0;xn<an;xn++){const wn=new Uint8Array(on*cn);for(let Fn=0,In=wn.length;Fn<In;Fn++)wn[Fn]=rn;const En={width:on,height:cn,items:wn};this.levels.push(En),on=Math.ceil(on/2),cn=Math.ceil(cn/2)}}reset(on,cn,rn){let an=0;for(;an<this.levels.length;){const xn=this.levels[an],wn=on+cn*xn.width;xn.index=wn;const En=xn.items[wn];if(En===255)break;if(En>rn)return this.currentLevel=an,this.propagateValues(),!1;on>>=1,cn>>=1,an++}return this.currentLevel=an-1,!0}incrementValue(on){const cn=this.levels[this.currentLevel];cn.items[cn.index]=on+1,this.propagateValues()}propagateValues(){let on=this.currentLevel,cn=this.levels[on];const rn=cn.items[cn.index];for(;--on>=0;)cn=this.levels[on],cn.items[cn.index]=rn}nextLevel(){let on=this.currentLevel,cn=this.levels[on];const rn=cn.items[cn.index];return cn.items[cn.index]=255,on--,on<0?!1:(this.currentLevel=on,cn=this.levels[on],cn.items[cn.index]=rn,!0)}}const Qt=class Qt{constructor(on,cn,rn,an,xn){this.width=on,this.height=cn;let wn;rn==="HH"?wn=Qt.HHContextLabel:rn==="HL"?wn=Qt.HLContextLabel:wn=Qt.LLAndLHContextsLabel,this.contextLabelTable=wn;const En=on*cn;this.neighborsSignificance=new Uint8Array(En),this.coefficentsSign=new Uint8Array(En);let Fn;xn>14?Fn=new Uint32Array(En):xn>6?Fn=new Uint16Array(En):Fn=new Uint8Array(En),this.coefficentsMagnitude=Fn,this.processingFlags=new Uint8Array(En);const In=new Uint8Array(En);if(an!==0)for(let Tn=0;Tn<En;Tn++)In[Tn]=an;this.bitsDecoded=In,this.reset()}setDecoder(on){this.decoder=on}reset(){this.contexts=new Int8Array(19),this.contexts[0]=8,this.contexts[Qt.UNIFORM_CONTEXT]=92,this.contexts[Qt.RUNLENGTH_CONTEXT]=6}setNeighborsSignificance(on,cn,rn){const an=this.neighborsSignificance,xn=this.width,wn=this.height,En=cn>0,Fn=cn+1<xn;let In;on>0&&(In=rn-xn,En&&(an[In-1]+=16),Fn&&(an[In+1]+=16),an[In]+=4),on+1<wn&&(In=rn+xn,En&&(an[In-1]+=16),Fn&&(an[In+1]+=16),an[In]+=4),En&&(an[rn-1]+=1),Fn&&(an[rn+1]+=1),an[rn]|=128}runSignificancePropagationPass(){const on=this.decoder,cn=this.width,rn=this.height,an=this.coefficentsMagnitude,xn=this.coefficentsSign,wn=this.neighborsSignificance,En=this.processingFlags,Fn=this.contexts,In=this.contextLabelTable,Tn=this.bitsDecoded,An=-2,mn=1,pn=2;for(let Jt=0;Jt<rn;Jt+=4)for(let un=0;un<cn;un++){let fn=Jt*cn+un;for(let Sn=0;Sn<4;Sn++,fn+=cn){const kn=Jt+Sn;if(kn>=rn)break;if(En[fn]&=An,an[fn]||!wn[fn])continue;const Pn=In[wn[fn]];if(on.readBit(Fn,Pn)){const vn=this.decodeSignBit(kn,un,fn);xn[fn]=vn,an[fn]=1,this.setNeighborsSignificance(kn,un,fn),En[fn]|=pn}Tn[fn]++,En[fn]|=mn}}}decodeSignBit(on,cn,rn){const an=this.width,xn=this.height,wn=this.coefficentsMagnitude,En=this.coefficentsSign;let Fn,In,Tn,An,mn,pn;An=cn>0&&wn[rn-1]!==0,cn+1<an&&wn[rn+1]!==0?(Tn=En[rn+1],An?(In=En[rn-1],Fn=1-Tn-In):Fn=1-Tn-Tn):An?(In=En[rn-1],Fn=1-In-In):Fn=0;const Jt=3*Fn;return An=on>0&&wn[rn-an]!==0,on+1<xn&&wn[rn+an]!==0?(Tn=En[rn+an],An?(In=En[rn-an],Fn=1-Tn-In+Jt):Fn=1-Tn-Tn+Jt):An?(In=En[rn-an],Fn=1-In-In+Jt):Fn=Jt,Fn>=0?(mn=9+Fn,pn=this.decoder.readBit(this.contexts,mn)):(mn=9-Fn,pn=this.decoder.readBit(this.contexts,mn)^1),pn}runMagnitudeRefinementPass(){const on=this.decoder,cn=this.width,rn=this.height,an=this.coefficentsMagnitude,xn=this.neighborsSignificance,wn=this.contexts,En=this.bitsDecoded,Fn=this.processingFlags,In=1,Tn=2,An=cn*rn,mn=cn*4;for(let pn=0,Jt;pn<An;pn=Jt){Jt=Math.min(An,pn+mn);for(let un=0;un<cn;un++)for(let fn=pn+un;fn<Jt;fn+=cn){if(!an[fn]||Fn[fn]&In)continue;let Sn=16;Fn[fn]&Tn&&(Fn[fn]^=Tn,Sn=(xn[fn]&127)===0?15:14);const kn=on.readBit(wn,Sn);an[fn]=an[fn]<<1|kn,En[fn]++,Fn[fn]|=In}}}runCleanupPass(){const on=this.decoder,cn=this.width,rn=this.height,an=this.neighborsSignificance,xn=this.coefficentsMagnitude,wn=this.coefficentsSign,En=this.contexts,Fn=this.contextLabelTable,In=this.bitsDecoded,Tn=this.processingFlags,An=1,mn=2,pn=cn,Jt=cn*2,un=cn*3;let fn;for(let Sn=0;Sn<rn;Sn=fn){fn=Math.min(Sn+4,rn);const kn=Sn*cn,Pn=Sn+3<rn;for(let Cn=0;Cn<cn;Cn++){const vn=kn+Cn,Rn=Pn&&Tn[vn]===0&&Tn[vn+pn]===0&&Tn[vn+Jt]===0&&Tn[vn+un]===0&&an[vn]===0&&an[vn+pn]===0&&an[vn+Jt]===0&&an[vn+un]===0;let Mn=0,_n=vn,Dn=Sn,Ln;if(Rn){if(!on.readBit(En,Qt.RUNLENGTH_CONTEXT)){In[vn]++,In[vn+pn]++,In[vn+Jt]++,In[vn+un]++;continue}Mn=on.readBit(En,Qt.UNIFORM_CONTEXT)<<1|on.readBit(En,Qt.UNIFORM_CONTEXT),Mn!==0&&(Dn=Sn+Mn,_n+=Mn*cn),Ln=this.decodeSignBit(Dn,Cn,_n),wn[_n]=Ln,xn[_n]=1,this.setNeighborsSignificance(Dn,Cn,_n),Tn[_n]|=mn,_n=vn;for(let ts=Sn;ts<=Dn;ts++,_n+=cn)In[_n]++;Mn++}for(Dn=Sn+Mn;Dn<fn;Dn++,_n+=cn){if(xn[_n]||Tn[_n]&An)continue;const Un=Fn[an[_n]];on.readBit(En,Un)===1&&(Ln=this.decodeSignBit(Dn,Cn,_n),wn[_n]=Ln,xn[_n]=1,this.setNeighborsSignificance(Dn,Cn,_n),Tn[_n]|=mn),In[_n]++}}}}checkSegmentationSymbol(){const on=this.decoder,cn=this.contexts;if((on.readBit(cn,Qt.UNIFORM_CONTEXT)<<3|on.readBit(cn,Qt.UNIFORM_CONTEXT)<<2|on.readBit(cn,Qt.UNIFORM_CONTEXT)<<1|on.readBit(cn,Qt.UNIFORM_CONTEXT))!==10)throw new ht("Invalid segmentation symbol")}};Us(Qt,"UNIFORM_CONTEXT",17),Us(Qt,"RUNLENGTH_CONTEXT",18),Us(Qt,"LLAndLHContextsLabel",new Uint8Array([0,5,8,0,3,7,8,0,4,7,8,0,0,0,0,0,1,6,8,0,3,7,8,0,4,7,8,0,0,0,0,0,2,6,8,0,3,7,8,0,4,7,8,0,0,0,0,0,2,6,8,0,3,7,8,0,4,7,8,0,0,0,0,0,2,6,8,0,3,7,8,0,4,7,8])),Us(Qt,"HLContextLabel",new Uint8Array([0,3,4,0,5,7,7,0,8,8,8,0,0,0,0,0,1,3,4,0,6,7,7,0,8,8,8,0,0,0,0,0,2,3,4,0,6,7,7,0,8,8,8,0,0,0,0,0,2,3,4,0,6,7,7,0,8,8,8,0,0,0,0,0,2,3,4,0,6,7,7,0,8,8,8])),Us(Qt,"HHContextLabel",new Uint8Array([0,1,2,0,1,2,2,0,2,2,2,0,0,0,0,0,3,4,5,0,4,5,5,0,5,5,5,0,0,0,0,0,6,7,7,0,7,7,7,0,7,7,7,0,0,0,0,0,8,8,8,0,8,8,8,0,8,8,8,0,0,0,0,0,8,8,8,0,8,8,8,0,8,8,8]));let Ht=Qt;class sn{constructor(){this.constructor===sn&&(0,wt.unreachable)("Cannot initialize Transform.")}calculate(on,cn,rn){let an=on[0];for(let xn=1,wn=on.length;xn<wn;xn++)an=this.iterate(an,on[xn],cn,rn);return an}extend(on,cn,rn){let an=cn-1,xn=cn+1,wn=cn+rn-2,En=cn+rn;on[an--]=on[xn++],on[En++]=on[wn--],on[an--]=on[xn++],on[En++]=on[wn--],on[an--]=on[xn++],on[En++]=on[wn--],on[an]=on[xn],on[En]=on[wn]}filter(on,cn,rn){(0,wt.unreachable)("Abstract method `filter` called")}iterate(on,cn,rn,an){const xn=on.width,wn=on.height;let En=on.items;const Fn=cn.width,In=cn.height,Tn=cn.items;let An,mn,pn,Jt,un,fn;for(pn=0,An=0;An<wn;An++)for(Jt=An*2*Fn,mn=0;mn<xn;mn++,pn++,Jt+=2)Tn[Jt]=En[pn];En=on.items=null;const Sn=4,kn=new Float32Array(Fn+2*Sn);if(Fn===1){if(rn&1)for(fn=0,pn=0;fn<In;fn++,pn+=Fn)Tn[pn]*=.5}else for(fn=0,pn=0;fn<In;fn++,pn+=Fn)kn.set(Tn.subarray(pn,pn+Fn),Sn),this.extend(kn,Sn,Fn),this.filter(kn,Sn,Fn),Tn.set(kn.subarray(Sn,Sn+Fn),pn);let Pn=16;const Cn=[];for(An=0;An<Pn;An++)Cn.push(new Float32Array(In+2*Sn));let vn,Rn=0;if(on=Sn+In,In===1){if(an&1)for(un=0;un<Fn;un++)Tn[un]*=.5}else for(un=0;un<Fn;un++){if(Rn===0){for(Pn=Math.min(Fn-un,Pn),pn=un,Jt=Sn;Jt<on;pn+=Fn,Jt++)for(vn=0;vn<Pn;vn++)Cn[vn][Jt]=Tn[pn+vn];Rn=Pn}Rn--;const Mn=Cn[Rn];if(this.extend(Mn,Sn,In),this.filter(Mn,Sn,In),Rn===0)for(pn=un-Pn+1,Jt=Sn;Jt<on;pn+=Fn,Jt++)for(vn=0;vn<Pn;vn++)Tn[pn+vn]=Cn[vn][Jt]}return{width:Fn,height:In,items:Tn}}}class zt extends sn{filter(on,cn,rn){const an=rn>>1;cn|=0;let xn,wn,En,Fn;const In=-1.586134342059924,Tn=-.052980118572961,An=.882911075530934,mn=.443506852043971,pn=1.230174104914001,Jt=1/pn;for(xn=cn-3,wn=an+4;wn--;xn+=2)on[xn]*=Jt;for(xn=cn-2,En=mn*on[xn-1],wn=an+3;wn--&&(Fn=mn*on[xn+1],on[xn]=pn*on[xn]-En-Fn,wn--);xn+=2)xn+=2,En=mn*on[xn+1],on[xn]=pn*on[xn]-En-Fn;for(xn=cn-1,En=An*on[xn-1],wn=an+2;wn--&&(Fn=An*on[xn+1],on[xn]-=En+Fn,wn--);xn+=2)xn+=2,En=An*on[xn+1],on[xn]-=En+Fn;for(xn=cn,En=Tn*on[xn-1],wn=an+1;wn--&&(Fn=Tn*on[xn+1],on[xn]-=En+Fn,wn--);xn+=2)xn+=2,En=Tn*on[xn+1],on[xn]-=En+Fn;if(an!==0)for(xn=cn+1,En=In*on[xn-1],wn=an;wn--&&(Fn=In*on[xn+1],on[xn]-=En+Fn,wn--);xn+=2)xn+=2,En=In*on[xn+1],on[xn]-=En+Fn}}class Xt extends sn{filter(on,cn,rn){const an=rn>>1;cn|=0;let xn,wn;for(xn=cn,wn=an+1;wn--;xn+=2)on[xn]-=on[xn-1]+on[xn+1]+2>>2;for(xn=cn+1,wn=an;wn--;xn+=2)on[xn]+=on[xn-1]+on[xn+1]>>1}}},(Ct,Et,Pt)=>{Object.defineProperty(Et,"__esModule",{value:!0}),Et.LZWStream=void 0;var wt=Pt(18);class kt extends wt.DecodeStream{constructor(ht,vt,Ft){super(vt),this.str=ht,this.dict=ht.dict,this.cachedData=0,this.bitsCached=0;const Vt=4096,qt={earlyChange:Ft,codeLength:9,nextCode:258,dictionaryValues:new Uint8Array(Vt),dictionaryLengths:new Uint16Array(Vt),dictionaryPrevCodes:new Uint16Array(Vt),currentSequence:new Uint8Array(Vt),currentSequenceLength:0};for(let Lt=0;Lt<256;++Lt)qt.dictionaryValues[Lt]=Lt,qt.dictionaryLengths[Lt]=1;this.lzwState=qt}readBits(ht){let vt=this.bitsCached,Ft=this.cachedData;for(;vt<ht;){const Vt=this.str.getByte();if(Vt===-1)return this.eof=!0,null;Ft=Ft<<8|Vt,vt+=8}return this.bitsCached=vt-=ht,this.cachedData=Ft,this.lastCode=null,Ft>>>vt&(1<<ht)-1}readBlock(){let Ft=1024,Vt,qt,Lt;const $t=this.lzwState;if(!$t)return;const Ot=$t.earlyChange;let jt=$t.nextCode;const Rt=$t.dictionaryValues,Kt=$t.dictionaryLengths,Bt=$t.dictionaryPrevCodes;let Gt=$t.codeLength,en=$t.prevCode;const hn=$t.currentSequence;let tn=$t.currentSequenceLength,gn=0,nn=this.bufferLength,bn=this.ensureBuffer(this.bufferLength+Ft);for(Vt=0;Vt<512;Vt++){const Wt=this.readBits(Gt),Yt=tn>0;if(Wt<256)hn[0]=Wt,tn=1;else if(Wt>=258)if(Wt<jt)for(tn=Kt[Wt],qt=tn-1,Lt=Wt;qt>=0;qt--)hn[qt]=Rt[Lt],Lt=Bt[Lt];else hn[tn++]=hn[0];else if(Wt===256){Gt=9,jt=258,tn=0;continue}else{this.eof=!0,delete this.lzwState;break}if(Yt&&(Bt[jt]=en,Kt[jt]=Kt[en]+1,Rt[jt]=hn[0],jt++,Gt=jt+Ot&jt+Ot-1?Gt:Math.min(Math.log(jt+Ot)/.6931471805599453+1,12)|0),en=Wt,gn+=tn,Ft<gn){do Ft+=512;while(Ft<gn);bn=this.ensureBuffer(this.bufferLength+Ft)}for(qt=0;qt<tn;qt++)bn[nn++]=hn[qt]}$t.nextCode=jt,$t.codeLength=Gt,$t.prevCode=en,$t.currentSequenceLength=tn,this.bufferLength=nn}}Et.LZWStream=kt},(Ct,Et,Pt)=>{Object.defineProperty(Et,"__esModule",{value:!0}),Et.PredictorStream=void 0;var wt=Pt(18),kt=Pt(4),_t=Pt(2);class ht extends wt.DecodeStream{constructor(Ft,Vt,qt){if(super(Vt),!(qt instanceof kt.Dict))return Ft;const Lt=this.predictor=qt.get("Predictor")||1;if(Lt<=1)return Ft;if(Lt!==2&&(Lt<10||Lt>15))throw new _t.FormatError(`Unsupported predictor: ${Lt}`);this.readBlock=Lt===2?this.readBlockTiff:this.readBlockPng,this.str=Ft,this.dict=Ft.dict;const $t=this.colors=qt.get("Colors")||1,Ot=this.bits=qt.get("BPC","BitsPerComponent")||8,jt=this.columns=qt.get("Columns")||1;return this.pixBytes=$t*Ot+7>>3,this.rowBytes=jt*$t*Ot+7>>3,this}readBlockTiff(){const Ft=this.rowBytes,Vt=this.bufferLength,qt=this.ensureBuffer(Vt+Ft),Lt=this.bits,$t=this.colors,Ot=this.str.getBytes(Ft);if(this.eof=!Ot.length,this.eof)return;let jt=0,Rt=0,Kt=0,Bt=0,Gt=Vt,en;if(Lt===1&&$t===1)for(en=0;en<Ft;++en){let hn=Ot[en]^jt;hn^=hn>>1,hn^=hn>>2,hn^=hn>>4,jt=(hn&1)<<7,qt[Gt++]=hn}else if(Lt===8){for(en=0;en<$t;++en)qt[Gt++]=Ot[en];for(;en<Ft;++en)qt[Gt]=qt[Gt-$t]+Ot[en],Gt++}else if(Lt===16){const hn=$t*2;for(en=0;en<hn;++en)qt[Gt++]=Ot[en];for(;en<Ft;en+=2){const tn=((Ot[en]&255)<<8)+(Ot[en+1]&255)+((qt[Gt-hn]&255)<<8)+(qt[Gt-hn+1]&255);qt[Gt++]=tn>>8&255,qt[Gt++]=tn&255}}else{const hn=new Uint8Array($t+1),tn=(1<<Lt)-1;let gn=0,nn=Vt;const bn=this.columns;for(en=0;en<bn;++en)for(let Wt=0;Wt<$t;++Wt)Kt<Lt&&(jt=jt<<8|Ot[gn++]&255,Kt+=8),hn[Wt]=hn[Wt]+(jt>>Kt-Lt)&tn,Kt-=Lt,Rt=Rt<<Lt|hn[Wt],Bt+=Lt,Bt>=8&&(qt[nn++]=Rt>>Bt-8&255,Bt-=8);Bt>0&&(qt[nn++]=(Rt<<8-Bt)+(jt&(1<<8-Bt)-1))}this.bufferLength+=Ft}readBlockPng(){const Ft=this.rowBytes,Vt=this.pixBytes,qt=this.str.getByte(),Lt=this.str.getBytes(Ft);if(this.eof=!Lt.length,this.eof)return;const $t=this.bufferLength,Ot=this.ensureBuffer($t+Ft);let jt=Ot.subarray($t-Ft,$t);jt.length===0&&(jt=new Uint8Array(Ft));let Rt,Kt=$t,Bt,Gt;switch(qt){case 0:for(Rt=0;Rt<Ft;++Rt)Ot[Kt++]=Lt[Rt];break;case 1:for(Rt=0;Rt<Vt;++Rt)Ot[Kt++]=Lt[Rt];for(;Rt<Ft;++Rt)Ot[Kt]=Ot[Kt-Vt]+Lt[Rt]&255,Kt++;break;case 2:for(Rt=0;Rt<Ft;++Rt)Ot[Kt++]=jt[Rt]+Lt[Rt]&255;break;case 3:for(Rt=0;Rt<Vt;++Rt)Ot[Kt++]=(jt[Rt]>>1)+Lt[Rt];for(;Rt<Ft;++Rt)Ot[Kt]=(jt[Rt]+Ot[Kt-Vt]>>1)+Lt[Rt]&255,Kt++;break;case 4:for(Rt=0;Rt<Vt;++Rt)Bt=jt[Rt],Gt=Lt[Rt],Ot[Kt++]=Bt+Gt;for(;Rt<Ft;++Rt){Bt=jt[Rt];const en=jt[Rt-Vt],hn=Ot[Kt-Vt],tn=hn+Bt-en;let gn=tn-hn;gn<0&&(gn=-gn);let nn=tn-Bt;nn<0&&(nn=-nn);let bn=tn-en;bn<0&&(bn=-bn),Gt=Lt[Rt],gn<=nn&&gn<=bn?Ot[Kt++]=hn+Gt:nn<=bn?Ot[Kt++]=Bt+Gt:Ot[Kt++]=en+Gt}break;default:throw new _t.FormatError(`Unsupported predictor: ${qt}`)}this.bufferLength+=Ft}}Et.PredictorStream=ht},(Ct,Et,Pt)=>{Object.defineProperty(Et,"__esModule",{value:!0}),Et.RunLengthStream=void 0;var wt=Pt(18);class kt extends wt.DecodeStream{constructor(ht,vt){super(vt),this.str=ht,this.dict=ht.dict}readBlock(){const ht=this.str.getBytes(2);if(!ht||ht.length<2||ht[0]===128){this.eof=!0;return}let vt,Ft=this.bufferLength,Vt=ht[0];if(Vt<128){if(vt=this.ensureBuffer(Ft+Vt+1),vt[Ft++]=ht[1],Vt>0){const qt=this.str.getBytes(Vt);vt.set(qt,Ft),Ft+=Vt}}else{Vt=257-Vt;const qt=ht[1];vt=this.ensureBuffer(Ft+Vt+1);for(let Lt=0;Lt<Vt;Lt++)vt[Ft++]=qt}this.bufferLength=Ft}}Et.RunLengthStream=kt},(Ct,Et,Pt)=>{Object.defineProperty(Et,"__esModule",{value:!0}),Et.Font=Et.ErrorFont=void 0;var wt=Pt(2),kt=Pt(35),_t=Pt(38),ht=Pt(40),vt=Pt(39),Ft=Pt(37),Vt=Pt(41),qt=Pt(42),Lt=Pt(43),$t=Pt(44),Ot=Pt(45),jt=Pt(46),Rt=Pt(14),Kt=Pt(47),Bt=Pt(3),Gt=Pt(8),en=Pt(48);const hn=[[57344,63743],[1048576,1114109]],tn=1e3,gn=["ascent","bbox","black","bold","charProcOperatorList","composite","cssFontInfo","data","defaultVMetrics","defaultWidth","descent","fallbackName","fontMatrix","isInvalidPDFjsFont","isType3Font","italic","loadedName","mimetype","missingFile","name","remeasure","subtype","systemFontInfo","type","vertical"],nn=["cMap","defaultEncoding","differences","isMonospace","isSerifFont","isSymbolicFont","seacMap","toFontChar","toUnicode","vmetrics","widths"];function bn(vn){if(!vn.fontMatrix||vn.fontMatrix[0]===wt.FONT_IDENTITY_MATRIX[0])return;const Rn=.001/vn.fontMatrix[0],Mn=vn.widths;for(const _n in Mn)Mn[_n]*=Rn;vn.defaultWidth*=Rn}function Wt(vn,Rn,Mn){if(vn.isInternalFont||vn.hasIncludedToUnicodeMap||vn.hasEncoding||vn.toUnicode instanceof qt.IdentityToUnicodeMap||!Rn||Mn.length===0||vn.defaultEncoding===Ft.WinAnsiEncoding)return;for(const Un of Mn)if(!In(Un))return;const _n=Ft.WinAnsiEncoding,Dn=[],Ln=(0,vt.getGlyphsUnicode)();for(const Un in _n){const ts=_n[Un];if(ts==="")continue;const es=Ln[ts];es!==void 0&&(Dn[Un]=String.fromCharCode(es))}Dn.length>0&&vn.toUnicode.amend(Dn)}function Yt(vn,Rn){if(vn.isInternalFont||vn.hasIncludedToUnicodeMap||Rn===vn.defaultEncoding||vn.toUnicode instanceof qt.IdentityToUnicodeMap)return;const Mn=[],_n=(0,vt.getGlyphsUnicode)();for(const Dn in Rn){if(vn.hasEncoding&&(vn.baseEncodingName||vn.differences[Dn]!==void 0))continue;const Ln=Rn[Dn],Un=(0,ht.getUnicodeForGlyph)(Ln,_n);Un!==-1&&(Mn[Dn]=String.fromCharCode(Un))}Mn.length>0&&vn.toUnicode.amend(Mn)}function dn(vn){if(!vn.fallbackToUnicode||vn.toUnicode instanceof qt.IdentityToUnicodeMap)return;const Rn=[];for(const Mn in vn.fallbackToUnicode)vn.toUnicode.has(Mn)||(Rn[Mn]=vn.fallbackToUnicode[Mn]);Rn.length>0&&vn.toUnicode.amend(Rn)}class Ut{constructor(Rn,Mn,_n,Dn,Ln,Un,ts,es,Qn){this.originalCharCode=Rn,this.fontChar=Mn,this.unicode=_n,this.accent=Dn,this.width=Ln,this.vmetric=Un,this.operatorListId=ts,this.isSpace=es,this.isInFont=Qn}get category(){return(0,wt.shadow)(this,"category",(0,ht.getCharUnicodeCategory)(this.unicode),!0)}}function Mt(vn,Rn){return(vn<<8)+Rn}function Ht(vn,Rn,Mn){vn[Rn+1]=Mn,vn[Rn]=Mn>>>8}function sn(vn,Rn){const Mn=(vn<<8)+Rn;return Mn&32768?Mn-65536:Mn}function zt(vn,Rn,Mn,_n){return(vn<<24)+(Rn<<16)+(Mn<<8)+_n}function Xt(vn){return String.fromCharCode(vn>>8&255,vn&255)}function Qt(vn){return vn>32767?vn=32767:vn<-32768&&(vn=-32768),String.fromCharCode(vn>>8&255,vn&255)}function ln(vn){const Rn=vn.peekBytes(4);return(0,Bt.readUint32)(Rn,0)===65536||(0,wt.bytesToString)(Rn)==="true"}function on(vn){const Rn=vn.peekBytes(4);return(0,wt.bytesToString)(Rn)==="ttcf"}function cn(vn){const Rn=vn.peekBytes(4);return(0,wt.bytesToString)(Rn)==="OTTO"}function rn(vn){const Rn=vn.peekBytes(2);return Rn[0]===37&&Rn[1]===33||Rn[0]===128&&Rn[1]===1}function an(vn){const Rn=vn.peekBytes(4);return Rn[0]>=1&&Rn[3]>=1&&Rn[3]<=4}function xn(vn,{type:Rn,subtype:Mn,composite:_n}){let Dn,Ln;return ln(vn)||on(vn)?Dn=_n?"CIDFontType2":"TrueType":cn(vn)?Dn=_n?"CIDFontType2":"OpenType":rn(vn)?_n?Dn="CIDFontType0":Dn=Rn==="MMType1"?"MMType1":"Type1":an(vn)?_n?(Dn="CIDFontType0",Ln="CIDFontType0C"):(Dn=Rn==="MMType1"?"MMType1":"Type1",Ln="Type1C"):((0,wt.warn)("getFontFileType: Unable to detect correct font file Type/Subtype."),Dn=Rn,Ln=Mn),[Dn,Ln]}function wn(vn,Rn){for(const Mn in Rn)vn[+Mn]=Rn[Mn]}function En(vn,Rn,Mn){const _n=[];let Dn;for(let Ln=0,Un=vn.length;Ln<Un;Ln++)Dn=(0,ht.getUnicodeForGlyph)(vn[Ln],Rn),Dn!==-1&&(_n[Ln]=Dn);for(const Ln in Mn)Dn=(0,ht.getUnicodeForGlyph)(Mn[Ln],Rn),Dn!==-1&&(_n[+Ln]=Dn);return _n}function Fn(vn){return vn.platform===1&&vn.encoding===0&&vn.language===0}function In(vn){return vn.platform===3&&vn.encoding===1&&vn.language===1033}function Tn(vn,Rn,Mn=!1){switch(Rn.length){case 1:return Rn.charCodeAt(0);case 2:return Rn.charCodeAt(0)<<8|Rn.charCodeAt(1)}const _n=`Unsupported CID string (charCode ${vn}): "${Rn}".`;if(Mn)throw new wt.FormatError(_n);return(0,wt.warn)(_n),Rn}function An(vn,Rn,Mn,_n){const Dn=Object.create(null),Ln=new Map,Un=[],ts=new Set;let es=0,Yn=hn[es][0],zn=hn[es][1];const ns=ls=>hn[0][0]<=ls&&ls<=hn[0][1]||hn[1][0]<=ls&&ls<=hn[1][1];for(let ls in vn){ls|=0;let ds=vn[ls];if(!Rn(ds))continue;if(Yn>zn){if(es++,es>=hn.length){(0,wt.warn)("Ran out of space in font private use area.");break}Yn=hn[es][0],zn=hn[es][1]}const Bn=Yn++;ds===0&&(ds=Mn);let Hn=_n.get(ls);typeof Hn=="string"&&(Hn=Hn.codePointAt(0)),Hn&&!ns(Hn)&&!ts.has(ds)&&(Ln.set(Hn,ds),ts.add(ds)),Dn[Bn]=ds,Un[ls]=Bn}return{toFontChar:Un,charCodeToGlyphId:Dn,toUnicodeExtraMap:Ln,nextAvailableFontCharCode:Yn}}function mn(vn,Rn,Mn){const _n=[];for(const Un in vn)vn[Un]>=Mn||_n.push({fontCharCode:Un|0,glyphId:vn[Un]});if(Rn)for(const[Un,ts]of Rn)ts>=Mn||_n.push({fontCharCode:Un,glyphId:ts});_n.length===0&&_n.push({fontCharCode:0,glyphId:0}),_n.sort(function(ts,es){return ts.fontCharCode-es.fontCharCode});const Dn=[],Ln=_n.length;for(let Un=0;Un<Ln;){const ts=_n[Un].fontCharCode,es=[_n[Un].glyphId];++Un;let Qn=ts;for(;Un<Ln&&Qn+1===_n[Un].fontCharCode&&(es.push(_n[Un].glyphId),++Qn,++Un,Qn!==65535););Dn.push([ts,Qn,es])}return Dn}function pn(vn,Rn,Mn){const _n=mn(vn,Rn,Mn),Dn=_n.at(-1)[1]>65535?2:1;let Ln="\0\0"+Xt(Dn)+"\0\0"+(0,wt.string32)(4+Dn*8),Un,ts,es,Qn;for(Un=_n.length-1;Un>=0&&!(_n[Un][0]<=65535);--Un);const Yn=Un+1;_n[Un][0]<65535&&_n[Un][1]===65535&&(_n[Un][1]=65534);const zn=_n[Un][1]<65535?1:0,ns=Yn+zn,ls=Kt.OpenTypeFileBuilder.getSearchParams(ns,2);let ds="",Bn="",Hn="",Xn="",cs="",rs=0,xs,Jn,Wn,Zn;for(Un=0,ts=Yn;Un<ts;Un++){xs=_n[Un],Jn=xs[0],Wn=xs[1],ds+=Xt(Jn),Bn+=Xt(Wn),Zn=xs[2];let ps=!0;for(es=1,Qn=Zn.length;es<Qn;++es)if(Zn[es]!==Zn[es-1]+1){ps=!1;break}if(ps){const ws=Zn[0];Hn+=Xt(ws-Jn&65535),Xn+=Xt(0)}else{const ws=(ns-Un)*2+rs*2;for(rs+=Wn-Jn+1,Hn+=Xt(0),Xn+=Xt(ws),es=0,Qn=Zn.length;es<Qn;++es)cs+=Xt(Zn[es])}}zn>0&&(Bn+="",ds+="",Hn+="\0",Xn+="\0\0");const us="\0\0"+Xt(2*ns)+Xt(ls.range)+Xt(ls.entry)+Xt(ls.rangeShift)+Bn+"\0\0"+ds+Hn+Xn+cs;let hs="",os="";if(Dn>1){for(Ln+=`\0\0
`+(0,wt.string32)(4+Dn*8+4+us.length),hs="",Un=0,ts=_n.length;Un<ts;Un++){xs=_n[Un],Jn=xs[0],Zn=xs[2];let ps=Zn[0];for(es=1,Qn=Zn.length;es<Qn;++es)Zn[es]!==Zn[es-1]+1&&(Wn=xs[0]+es-1,hs+=(0,wt.string32)(Jn)+(0,wt.string32)(Wn)+(0,wt.string32)(ps),Jn=Wn+1,ps=Zn[es]);hs+=(0,wt.string32)(Jn)+(0,wt.string32)(xs[1])+(0,wt.string32)(ps)}os="\0\f\0\0"+(0,wt.string32)(hs.length+16)+"\0\0\0\0"+(0,wt.string32)(hs.length/12)}return Ln+"\0"+Xt(us.length+4)+us+os+hs}function Jt(vn,Rn){Rn.pos=(Rn.start||0)+vn.offset;const Mn=Rn.getUint16();Rn.skip(60);const _n=Rn.getUint16();if(Mn<4&&_n&768)return!1;const Dn=Rn.getUint16(),Ln=Rn.getUint16();return Dn>Ln||(Rn.skip(6),Rn.getUint16()===0)?!1:(vn.data[8]=vn.data[9]=0,!0)}function un(vn,Rn,Mn){Mn||(Mn={unitsPerEm:0,yMax:0,yMin:0,ascent:0,descent:0});let _n=0,Dn=0,Ln=0,Un=0,ts=null,es=0,Qn=-1;if(Rn){for(let Xn in Rn)if(Xn|=0,(ts>Xn||!ts)&&(ts=Xn),es<Xn&&(es=Xn),Qn=(0,ht.getUnicodeRangeFor)(Xn,Qn),Qn<32)_n|=1<<Qn;else if(Qn<64)Dn|=1<<Qn-32;else if(Qn<96)Ln|=1<<Qn-64;else if(Qn<123)Un|=1<<Qn-96;else throw new wt.FormatError("Unicode ranges Bits > 123 are reserved for internal usage");es>65535&&(es=65535)}else ts=0,es=255;const Yn=vn.bbox||[0,0,0,0],zn=Mn.unitsPerEm||1/(vn.fontMatrix||wt.FONT_IDENTITY_MATRIX)[0],ns=vn.ascentScaled?1:zn/tn,ls=Mn.ascent||Math.round(ns*(vn.ascent||Yn[3]));let ds=Mn.descent||Math.round(ns*(vn.descent||Yn[1]));ds>0&&vn.descent>0&&Yn[1]<0&&(ds=-ds);const Bn=Mn.yMax||ls,Hn=-Mn.yMin||-ds;return"\0$\0\0\0\0\0\0\0\0\x001\0\0\0\0"+String.fromCharCode(vn.fixedPitch?9:0)+"\0\0\0\0\0\0"+(0,wt.string32)(_n)+(0,wt.string32)(Dn)+(0,wt.string32)(Ln)+(0,wt.string32)(Un)+"*21*"+Xt(vn.italicAngle?1:0)+Xt(ts||vn.firstChar)+Xt(es||vn.lastChar)+Xt(ls)+Xt(ds)+"\0d"+Xt(Bn)+Xt(Hn)+"\0\0\0\0\0\0\0\0"+Xt(vn.xHeight)+Xt(vn.capHeight)+Xt(0)+Xt(ts||vn.firstChar)+"\0"}function fn(vn){const Rn=Math.floor(vn.italicAngle*65536);return"\0\0\0"+(0,wt.string32)(Rn)+"\0\0\0\0"+(0,wt.string32)(vn.fixedPitch?1:0)+"\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0"}function Sn(vn){return vn.replaceAll(/[^\x21-\x7E]|[[\](){}<>/%]/g,"").slice(0,63)}function kn(vn,Rn){Rn||(Rn=[[],[]]);const Mn=[Rn[0][0]||"Original licence",Rn[0][1]||vn,Rn[0][2]||"Unknown",Rn[0][3]||"uniqueID",Rn[0][4]||vn,Rn[0][5]||"Version 0.11",Rn[0][6]||Sn(vn),Rn[0][7]||"Unknown",Rn[0][8]||"Unknown",Rn[0][9]||"Unknown"],_n=[];let Dn,Ln,Un,ts,es;for(Dn=0,Ln=Mn.length;Dn<Ln;Dn++){es=Rn[1][Dn]||Mn[Dn];const Hn=[];for(Un=0,ts=es.length;Un<ts;Un++)Hn.push(Xt(es.charCodeAt(Un)));_n.push(Hn.join(""))}const Qn=[Mn,_n],Yn=["\0","\0"],zn=["\0\0","\0"],ns=["\0\0","	"],ls=Mn.length*Yn.length;let ds="\0\0"+Xt(ls)+Xt(ls*12+6),Bn=0;for(Dn=0,Ln=Yn.length;Dn<Ln;Dn++){const Hn=Qn[Dn];for(Un=0,ts=Hn.length;Un<ts;Un++){es=Hn[Un];const Xn=Yn[Dn]+zn[Dn]+ns[Dn]+Xt(Un)+Xt(es.length)+Xt(Bn);ds+=Xn,Bn+=es.length}}return ds+=Mn.join("")+_n.join(""),ds}class Pn{constructor(Rn,Mn,_n){var Qn;this.name=Rn,this.psName=null,this.mimetype=null,this.disableFontFace=!1,this.loadedName=_n.loadedName,this.isType3Font=_n.isType3Font,this.missingFile=!1,this.cssFontInfo=_n.cssFontInfo,this._charsCache=Object.create(null),this._glyphCache=Object.create(null);let Dn=!!(_n.flags&_t.FontFlags.Serif);if(!Dn&&!_n.isSimulatedFlags){const Yn=Rn.replaceAll(/[,_]/g,"-").split("-")[0],zn=(0,Vt.getSerifFonts)();for(const ns of Yn.split("+"))if(zn[ns]){Dn=!0;break}}this.isSerifFont=Dn,this.isSymbolicFont=!!(_n.flags&_t.FontFlags.Symbolic),this.isMonospace=!!(_n.flags&_t.FontFlags.FixedPitch);let{type:Ln,subtype:Un}=_n;this.type=Ln,this.subtype=Un,this.systemFontInfo=_n.systemFontInfo;const ts=Rn.match(/^InvalidPDFjsFont_(.*)_\d+$/);if(this.isInvalidPDFjsFont=!!ts,this.isInvalidPDFjsFont?this.fallbackName=ts[1]:this.isMonospace?this.fallbackName="monospace":this.isSerifFont?this.fallbackName="serif":this.fallbackName="sans-serif",(Qn=this.systemFontInfo)!=null&&Qn.guessFallback&&(this.systemFontInfo.guessFallback=!1,this.systemFontInfo.css+=`,${this.fallbackName}`),this.differences=_n.differences,this.widths=_n.widths,this.defaultWidth=_n.defaultWidth,this.composite=_n.composite,this.cMap=_n.cMap,this.capHeight=_n.capHeight/tn,this.ascent=_n.ascent/tn,this.descent=_n.descent/tn,this.lineHeight=this.ascent-this.descent,this.fontMatrix=_n.fontMatrix,this.bbox=_n.bbox,this.defaultEncoding=_n.defaultEncoding,this.toUnicode=_n.toUnicode,this.toFontChar=[],_n.type==="Type3"){for(let Yn=0;Yn<256;Yn++)this.toFontChar[Yn]=this.differences[Yn]||_n.defaultEncoding[Yn];return}if(this.cidEncoding=_n.cidEncoding||"",this.vertical=!!_n.vertical,this.vertical&&(this.vmetrics=_n.vmetrics,this.defaultVMetrics=_n.defaultVMetrics),!Mn||Mn.isEmpty){Mn&&(0,wt.warn)('Font file is empty in "'+Rn+'" ('+this.loadedName+")"),this.fallbackToSystemFont(_n);return}[Ln,Un]=xn(Mn,_n),(Ln!==this.type||Un!==this.subtype)&&(0,wt.info)(`Inconsistent font file Type/SubType, expected: ${this.type}/${this.subtype} but found: ${Ln}/${Un}.`);let es;try{switch(Ln){case"MMType1":(0,wt.info)("MMType1 font ("+Rn+"), falling back to Type1.");case"Type1":case"CIDFontType0":this.mimetype="font/opentype";const Yn=Un==="Type1C"||Un==="CIDFontType0C"?new Lt.CFFFont(Mn,_n):new en.Type1Font(Rn,Mn,_n);bn(_n),es=this.convert(Rn,Yn,_n);break;case"OpenType":case"TrueType":case"CIDFontType2":this.mimetype="font/opentype",es=this.checkAndRepair(Rn,Mn,_n),this.isOpenType&&(bn(_n),Ln="OpenType");break;default:throw new wt.FormatError(`Font ${Ln} is not supported`)}}catch(Yn){(0,wt.warn)(Yn),this.fallbackToSystemFont(_n);return}dn(_n),this.data=es,this.type=Ln,this.subtype=Un,this.fontMatrix=_n.fontMatrix,this.widths=_n.widths,this.defaultWidth=_n.defaultWidth,this.toUnicode=_n.toUnicode,this.seacMap=_n.seacMap}get renderer(){const Rn=$t.FontRendererFactory.create(this,_t.SEAC_ANALYSIS_ENABLED);return(0,wt.shadow)(this,"renderer",Rn)}exportData(Rn=!1){const Mn=Rn?[...gn,...nn]:gn,_n=Object.create(null);let Dn,Ln;for(Dn of Mn)Ln=this[Dn],Ln!==void 0&&(_n[Dn]=Ln);return _n}fallbackToSystemFont(Rn){this.missingFile=!0;const{name:Mn,type:_n}=this;let Dn=(0,_t.normalizeFontName)(Mn);const Ln=(0,Vt.getStdFontMap)(),Un=(0,Vt.getNonStdFontMap)(),ts=!!Ln[Dn],es=!!(Un[Dn]&&Ln[Un[Dn]]);Dn=Ln[Dn]||Un[Dn]||Dn;const Yn=(0,Ot.getFontBasicMetrics)()[Dn];Yn&&(isNaN(this.ascent)&&(this.ascent=Yn.ascent/tn),isNaN(this.descent)&&(this.descent=Yn.descent/tn),isNaN(this.capHeight)&&(this.capHeight=Yn.capHeight/tn)),this.bold=/bold/gi.test(Dn),this.italic=/oblique|italic/gi.test(Dn),this.black=/Black/g.test(Mn);const zn=/Narrow/g.test(Mn);if(this.remeasure=(!ts||zn)&&Object.keys(this.widths).length>0,(ts||es)&&_n==="CIDFontType2"&&this.cidEncoding.startsWith("Identity-")){const ns=Rn.cidToGidMap,ls=[];if(wn(ls,(0,Vt.getGlyphMapForStandardFonts)()),/Arial-?Black/i.test(Mn)?wn(ls,(0,Vt.getSupplementalGlyphMapForArialBlack)()):/Calibri/i.test(Mn)&&wn(ls,(0,Vt.getSupplementalGlyphMapForCalibri)()),ns){for(const ds in ls){const Bn=ls[ds];ns[Bn]!==void 0&&(ls[+ds]=ns[Bn])}ns.length!==this.toUnicode.length&&Rn.hasIncludedToUnicodeMap&&this.toUnicode instanceof qt.IdentityToUnicodeMap&&this.toUnicode.forEach(function(ds,Bn){const Hn=ls[ds];ns[Hn]===void 0&&(ls[+ds]=Bn)})}this.toUnicode instanceof qt.IdentityToUnicodeMap||this.toUnicode.forEach(function(ds,Bn){ls[+ds]=Bn}),this.toFontChar=ls,this.toUnicode=new qt.ToUnicodeMap(ls)}else if(/Symbol/i.test(Dn))this.toFontChar=En(Ft.SymbolSetEncoding,(0,vt.getGlyphsUnicode)(),this.differences);else if(/Dingbats/i.test(Dn))this.toFontChar=En(Ft.ZapfDingbatsEncoding,(0,vt.getDingbatsGlyphsUnicode)(),this.differences);else if(ts){const ns=En(this.defaultEncoding,(0,vt.getGlyphsUnicode)(),this.differences);_n==="CIDFontType2"&&!this.cidEncoding.startsWith("Identity-")&&!(this.toUnicode instanceof qt.IdentityToUnicodeMap)&&this.toUnicode.forEach(function(ls,ds){ns[+ls]=ds}),this.toFontChar=ns}else{const ns=(0,vt.getGlyphsUnicode)(),ls=[];this.toUnicode.forEach((ds,Bn)=>{if(!this.composite){const Hn=this.differences[ds]||this.defaultEncoding[ds],Xn=(0,ht.getUnicodeForGlyph)(Hn,ns);Xn!==-1&&(Bn=Xn)}ls[+ds]=Bn}),this.composite&&this.toUnicode instanceof qt.IdentityToUnicodeMap&&/Tahoma|Verdana/i.test(Mn)&&wn(ls,(0,Vt.getGlyphMapForStandardFonts)()),this.toFontChar=ls}dn(Rn),this.loadedName=Dn.split("-")[0]}checkAndRepair(Rn,Mn,_n){var nr,Nr,Gr;const Dn=["OS/2","cmap","head","hhea","hmtx","maxp","name","post","loca","glyf","fpgm","prep","cvt ","CFF "];function Ln(vs,ys){const As=Object.create(null);As["OS/2"]=null,As.cmap=null,As.head=null,As.hhea=null,As.hmtx=null,As.maxp=null,As.name=null,As.post=null;for(let _s=0;_s<ys;_s++){const js=Un(vs);Dn.includes(js.tag)&&js.length!==0&&(As[js.tag]=js)}return As}function Un(vs){const ys=vs.getString(4),As=vs.getInt32()>>>0,_s=vs.getInt32()>>>0,js=vs.getInt32()>>>0,er=vs.pos;vs.pos=vs.start||0,vs.skip(_s);const Os=vs.getBytes(js);return vs.pos=er,ys==="head"&&(Os[8]=Os[9]=Os[10]=Os[11]=0,Os[17]|=32),{tag:ys,checksum:As,length:js,offset:_s,data:Os}}function ts(vs){return{version:vs.getString(4),numTables:vs.getUint16(),searchRange:vs.getUint16(),entrySelector:vs.getUint16(),rangeShift:vs.getUint16()}}function es(vs){const ys=vs.getString(4);(0,wt.assert)(ys==="ttcf","Must be a TrueType Collection font.");const As=vs.getUint16(),_s=vs.getUint16(),js=vs.getInt32()>>>0,er=[];for(let Ts=0;Ts<js;Ts++)er.push(vs.getInt32()>>>0);const Os={ttcTag:ys,majorVersion:As,minorVersion:_s,numFonts:js,offsetTable:er};switch(As){case 1:return Os;case 2:return Os.dsigTag=vs.getInt32()>>>0,Os.dsigLength=vs.getInt32()>>>0,Os.dsigOffset=vs.getInt32()>>>0,Os}throw new wt.FormatError(`Invalid TrueType Collection majorVersion: ${As}.`)}function Qn(vs,ys){var Os;const{numFonts:As,offsetTable:_s}=es(vs),js=ys.split("+");let er;for(let Ts=0;Ts<As;Ts++){vs.pos=(vs.start||0)+_s[Ts];const Ws=ts(vs),ur=Ln(vs,Ws.numTables);if(!ur.name)throw new wt.FormatError('TrueType Collection font must contain a "name" table.');const[br]=Hn(ur.name);for(let Js=0,rr=br.length;Js<rr;Js++)for(let mr=0,Xs=br[Js].length;mr<Xs;mr++){const hr=(Os=br[Js][mr])==null?void 0:Os.replaceAll(/\s/g,"");if(hr){if(hr===ys)return{header:Ws,tables:ur};if(!(js.length<2))for(const Vs of js)hr===Vs&&(er={name:Vs,header:Ws,tables:ur})}}}if(er)return(0,wt.warn)(`TrueType Collection does not contain "${ys}" font, falling back to "${er.name}" font instead.`),{header:er.header,tables:er.tables};throw new wt.FormatError(`TrueType Collection does not contain "${ys}" font.`)}function Yn(vs,ys,As,_s){if(!vs)return(0,wt.warn)("No cmap table available."),{platformId:-1,encodingId:-1,mappings:[],hasShortCmap:!1};let js,er=(ys.start||0)+vs.offset;ys.pos=er,ys.skip(2);const Os=ys.getUint16();let Ts,Ws=!1;for(let Xs=0;Xs<Os;Xs++){const hr=ys.getUint16(),Vs=ys.getUint16(),gr=ys.getInt32()>>>0;let wr=!1;if(!((Ts==null?void 0:Ts.platformId)===hr&&(Ts==null?void 0:Ts.encodingId)===Vs)){if(hr===0&&(Vs===0||Vs===1||Vs===3))wr=!0;else if(hr===1&&Vs===0)wr=!0;else if(hr===3&&Vs===1&&(_s||!Ts))wr=!0,As||(Ws=!0);else if(As&&hr===3&&Vs===0){wr=!0;let io=!0;if(Xs<Os-1){const dr=ys.peekBytes(2);Mt(dr[0],dr[1])<hr&&(io=!1)}io&&(Ws=!0)}if(wr&&(Ts={platformId:hr,encodingId:Vs,offset:gr}),Ws)break}}if(Ts&&(ys.pos=er+Ts.offset),!Ts||ys.peekByte()===-1)return(0,wt.warn)("Could not find a preferred cmap table."),{platformId:-1,encodingId:-1,mappings:[],hasShortCmap:!1};const ur=ys.getUint16();let br=!1;const Js=[];let rr,mr;if(ur===0){for(ys.skip(4),rr=0;rr<256;rr++){const Xs=ys.getByte();Xs&&Js.push({charCode:rr,glyphId:Xs})}br=!0}else if(ur===2){ys.skip(4);const Xs=[];let hr=0;for(let gr=0;gr<256;gr++){const wr=ys.getUint16()>>3;Xs.push(wr),hr=Math.max(wr,hr)}const Vs=[];for(let gr=0;gr<=hr;gr++)Vs.push({firstCode:ys.getUint16(),entryCount:ys.getUint16(),idDelta:sn(ys.getByte(),ys.getByte()),idRangePos:ys.pos+ys.getUint16()});for(let gr=0;gr<256;gr++)if(Xs[gr]===0)ys.pos=Vs[0].idRangePos+2*gr,mr=ys.getUint16(),Js.push({charCode:gr,glyphId:mr});else{const wr=Vs[Xs[gr]];for(rr=0;rr<wr.entryCount;rr++){const io=(gr<<8)+rr+wr.firstCode;ys.pos=wr.idRangePos+2*rr,mr=ys.getUint16(),mr!==0&&(mr=(mr+wr.idDelta)%65536),Js.push({charCode:io,glyphId:mr})}}}else if(ur===4){ys.skip(4);const Xs=ys.getUint16()>>1;ys.skip(6);const hr=[];let Vs;for(Vs=0;Vs<Xs;Vs++)hr.push({end:ys.getUint16()});for(ys.skip(2),Vs=0;Vs<Xs;Vs++)hr[Vs].start=ys.getUint16();for(Vs=0;Vs<Xs;Vs++)hr[Vs].delta=ys.getUint16();let gr=0,wr;for(Vs=0;Vs<Xs;Vs++){js=hr[Vs];const dr=ys.getUint16();if(!dr){js.offsetIndex=-1;continue}wr=(dr>>1)-(Xs-Vs),js.offsetIndex=wr,gr=Math.max(gr,wr+js.end-js.start+1)}const io=[];for(rr=0;rr<gr;rr++)io.push(ys.getUint16());for(Vs=0;Vs<Xs;Vs++){js=hr[Vs],er=js.start;const dr=js.end,fr=js.delta;for(wr=js.offsetIndex,rr=er;rr<=dr;rr++)rr!==65535&&(mr=wr<0?rr:io[wr+rr-er],mr=mr+fr&65535,Js.push({charCode:rr,glyphId:mr}))}}else if(ur===6){ys.skip(4);const Xs=ys.getUint16(),hr=ys.getUint16();for(rr=0;rr<hr;rr++){mr=ys.getUint16();const Vs=Xs+rr;Js.push({charCode:Vs,glyphId:mr})}}else if(ur===12){ys.skip(10);const Xs=ys.getInt32()>>>0;for(rr=0;rr<Xs;rr++){const hr=ys.getInt32()>>>0,Vs=ys.getInt32()>>>0;let gr=ys.getInt32()>>>0;for(let wr=hr;wr<=Vs;wr++)Js.push({charCode:wr,glyphId:gr++})}}else return(0,wt.warn)("cmap table has unsupported format: "+ur),{platformId:-1,encodingId:-1,mappings:[],hasShortCmap:!1};Js.sort(function(Xs,hr){return Xs.charCode-hr.charCode});for(let Xs=1;Xs<Js.length;Xs++)Js[Xs-1].charCode===Js[Xs].charCode&&(Js.splice(Xs,1),Xs--);return{platformId:Ts.platformId,encodingId:Ts.encodingId,mappings:Js,hasShortCmap:br}}function zn(vs,ys,As,_s,js,er){if(!ys){As&&(As.data=null);return}vs.pos=(vs.start||0)+ys.offset,vs.pos+=4,vs.pos+=2,vs.pos+=2,vs.pos+=2,vs.pos+=2,vs.pos+=2,vs.pos+=2,vs.pos+=2,vs.pos+=2,vs.pos+=2;const Os=vs.getUint16();vs.pos+=8,vs.pos+=2;let Ts=vs.getUint16();Os!==0&&(Mt(_s.data[44],_s.data[45])&2||(ys.data[22]=0,ys.data[23]=0)),Ts>js&&((0,wt.info)(`The numOfMetrics (${Ts}) should not be greater than the numGlyphs (${js}).`),Ts=js,ys.data[34]=(Ts&65280)>>8,ys.data[35]=Ts&255);const ur=js-Ts-(As.length-Ts*4>>1);if(ur>0){const br=new Uint8Array(As.length+ur*2);br.set(As.data),er&&(br[As.length]=As.data[2],br[As.length+1]=As.data[3]),As.data=br}}function ns(vs,ys,As,_s,js,er){const Os={length:0,sizeOfInstructions:0};if(ys<0||ys>=vs.length||As>vs.length||As-ys<=12)return Os;const Ts=vs.subarray(ys,As),Ws=sn(Ts[2],Ts[3]),ur=sn(Ts[4],Ts[5]),br=sn(Ts[6],Ts[7]),Js=sn(Ts[8],Ts[9]);Ws>br&&(Ht(Ts,2,br),Ht(Ts,6,Ws)),ur>Js&&(Ht(Ts,4,Js),Ht(Ts,8,ur));const rr=sn(Ts[0],Ts[1]);if(rr<0)return rr<-1||(_s.set(Ts,js),Os.length=Ts.length),Os;let mr,Xs=10,hr=0;for(mr=0;mr<rr;mr++)hr=(Ts[Xs]<<8|Ts[Xs+1])+1,Xs+=2;const Vs=Xs,gr=Ts[Xs]<<8|Ts[Xs+1];Os.sizeOfInstructions=gr,Xs+=2+gr;const wr=Xs;let io=0;for(mr=0;mr<hr;mr++){const fr=Ts[Xs++];fr&192&&(Ts[Xs-1]=fr&63);let $r=2;fr&2?$r=1:fr&16&&($r=0);let Yr=2;fr&4?Yr=1:fr&32&&(Yr=0);const wo=$r+Yr;if(io+=wo,fr&8){const Tl=Ts[Xs++];Tl===0&&(Ts[Xs-1]^=8),mr+=Tl,io+=Tl*wo}}if(io===0)return Os;let dr=Xs+io;return dr>Ts.length?Os:!er&&gr>0?(_s.set(Ts.subarray(0,Vs),js),_s.set([0,0],js+Vs),_s.set(Ts.subarray(wr,dr),js+Vs+2),dr-=gr,Ts.length-dr>3&&(dr=dr+3&-4),Os.length=dr,Os):Ts.length-dr>3?(dr=dr+3&-4,_s.set(Ts.subarray(0,dr),js),Os.length=dr,Os):(_s.set(Ts,js),Os.length=Ts.length,Os)}function ls(vs,ys,As){const _s=vs.data,js=zt(_s[0],_s[1],_s[2],_s[3]);js>>16!==1&&((0,wt.info)("Attempting to fix invalid version in head table: "+js),_s[0]=0,_s[1]=1,_s[2]=0,_s[3]=0);const er=Mt(_s[50],_s[51]);if(er<0||er>1){(0,wt.info)("Attempting to fix invalid indexToLocFormat in head table: "+er);const Os=ys+1;if(As===Os<<1)_s[50]=0,_s[51]=0;else if(As===Os<<2)_s[50]=0,_s[51]=1;else throw new wt.FormatError("Could not fix indexToLocFormat: "+er)}}function ds(vs,ys,As,_s,js,er,Os){let Ts,Ws,ur;_s?(Ts=4,Ws=function($r,Yr){return $r[Yr]<<24|$r[Yr+1]<<16|$r[Yr+2]<<8|$r[Yr+3]},ur=function($r,Yr,wo){$r[Yr]=wo>>>24&255,$r[Yr+1]=wo>>16&255,$r[Yr+2]=wo>>8&255,$r[Yr+3]=wo&255}):(Ts=2,Ws=function($r,Yr){return $r[Yr]<<9|$r[Yr+1]<<1},ur=function($r,Yr,wo){$r[Yr]=wo>>9&255,$r[Yr+1]=wo>>1&255});const br=er?As+1:As,Js=Ts*(1+br),rr=new Uint8Array(Js);rr.set(vs.data.subarray(0,Js)),vs.data=rr;const mr=ys.data,Xs=mr.length,hr=new Uint8Array(Xs);let Vs,gr;const wr=[];for(Vs=0,gr=0;Vs<As+1;Vs++,gr+=Ts){let fr=Ws(rr,gr);fr>Xs&&(fr=Xs),wr.push({index:Vs,offset:fr,endOffset:0})}for(wr.sort((fr,$r)=>fr.offset-$r.offset),Vs=0;Vs<As;Vs++)wr[Vs].endOffset=wr[Vs+1].offset;for(wr.sort((fr,$r)=>fr.index-$r.index),Vs=0;Vs<As;Vs++){const{offset:fr,endOffset:$r}=wr[Vs];if(fr!==0||$r!==0)break;const Yr=wr[Vs+1].offset;if(Yr!==0){wr[Vs].endOffset=Yr;break}}const io=Object.create(null);let dr=0;for(ur(rr,0,dr),Vs=0,gr=Ts;Vs<As;Vs++,gr+=Ts){const fr=ns(mr,wr[Vs].offset,wr[Vs].endOffset,hr,dr,js),$r=fr.length;$r===0&&(io[Vs]=!0),fr.sizeOfInstructions>Os&&(Os=fr.sizeOfInstructions),dr+=$r,ur(rr,gr,dr)}if(dr===0){const fr=new Uint8Array([0,1,0,0,0,0,0,0,0,0,0,0,0,0,49,0]);for(Vs=0,gr=Ts;Vs<br;Vs++,gr+=Ts)ur(rr,gr,fr.length);ys.data=fr}else if(er){const fr=Ws(rr,Ts);hr.length>fr+dr?ys.data=hr.subarray(0,fr+dr):(ys.data=new Uint8Array(fr+dr),ys.data.set(hr.subarray(0,dr))),ys.data.set(hr.subarray(0,fr),dr),ur(vs.data,rr.length-Ts,dr+fr)}else ys.data=hr.subarray(0,dr);return{missingGlyphs:io,maxSizeOfInstructions:Os}}function Bn(vs,ys,As){const _s=(Mn.start||0)+vs.offset;Mn.pos=_s;const js=vs.length,er=_s+js,Os=Mn.getInt32();Mn.skip(28);let Ts,Ws=!0,ur;switch(Os){case 65536:Ts=_t.MacStandardGlyphOrdering;break;case 131072:const br=Mn.getUint16();if(br!==As){Ws=!1;break}const Js=[];for(ur=0;ur<br;++ur){const Xs=Mn.getUint16();if(Xs>=32768){Ws=!1;break}Js.push(Xs)}if(!Ws)break;const rr=[],mr=[];for(;Mn.pos<er;){const Xs=Mn.getByte();for(mr.length=Xs,ur=0;ur<Xs;++ur)mr[ur]=String.fromCharCode(Mn.getByte());rr.push(mr.join(""))}for(Ts=[],ur=0;ur<br;++ur){const Xs=Js[ur];if(Xs<258){Ts.push(_t.MacStandardGlyphOrdering[Xs]);continue}Ts.push(rr[Xs-258])}break;case 196608:break;default:(0,wt.warn)("Unknown/unsupported post table version "+Os),Ws=!1,ys.defaultEncoding&&(Ts=ys.defaultEncoding);break}return ys.glyphNames=Ts,Ws}function Hn(vs){const ys=(Mn.start||0)+vs.offset;Mn.pos=ys;const As=[[],[]],_s=[],js=vs.length,er=ys+js;if(Mn.getUint16()!==0||js<6)return[As,_s];const Ws=Mn.getUint16(),ur=Mn.getUint16(),br=12;let Js,rr;for(Js=0;Js<Ws&&Mn.pos+br<=er;Js++){const mr={platform:Mn.getUint16(),encoding:Mn.getUint16(),language:Mn.getUint16(),name:Mn.getUint16(),length:Mn.getUint16(),offset:Mn.getUint16()};(Fn(mr)||In(mr))&&_s.push(mr)}for(Js=0,rr=_s.length;Js<rr;Js++){const mr=_s[Js];if(mr.length<=0)continue;const Xs=ys+ur+mr.offset;if(Xs+mr.length>er)continue;Mn.pos=Xs;const hr=mr.name;if(mr.encoding){let Vs="";for(let gr=0,wr=mr.length;gr<wr;gr+=2)Vs+=String.fromCharCode(Mn.getUint16());As[1][hr]=Vs}else As[0][hr]=Mn.getString(mr.length)}return[As,_s]}const Xn=[0,0,0,0,0,0,0,0,-2,-2,-2,-2,0,0,-2,-5,-1,-1,-1,-1,-1,-1,-1,-1,0,0,-1,0,-1,-1,-1,-1,1,-1,-999,0,1,0,-1,-2,0,-1,-2,-1,-1,0,-1,-1,0,0,-999,-999,-1,-1,-1,-1,-2,-999,-2,-2,-999,0,-2,-2,0,0,-2,0,-2,0,0,0,-2,-1,-1,1,1,0,0,-1,-1,-1,-1,-1,-1,-1,0,0,-1,0,-1,-1,0,-999,-1,-1,-1,-1,-1,-1,0,0,0,0,0,0,0,0,0,0,0,0,-2,-999,-999,-999,-999,-999,-1,-1,-2,-2,0,0,0,0,-1,-1,-999,-2,-2,0,0,-1,-2,-2,0,0,0,-1,-1,-1,-2];function cs(vs,ys){let As=vs.data,_s=0,js,er,Os,Ts,Ws,ur=0,br=0;const Js=[],rr=[],mr=[];let Xs=ys.tooComplexToFollowFunctions,hr=!1,Vs=0,gr=0;for(let io=As.length;_s<io;){const dr=As[_s++];if(dr===64)if(er=As[_s++],hr||gr)_s+=er;else for(js=0;js<er;js++)Js.push(As[_s++]);else if(dr===65)if(er=As[_s++],hr||gr)_s+=er*2;else for(js=0;js<er;js++)Os=As[_s++],Js.push(Os<<8|As[_s++]);else if((dr&248)===176)if(er=dr-176+1,hr||gr)_s+=er;else for(js=0;js<er;js++)Js.push(As[_s++]);else if((dr&248)===184)if(er=dr-184+1,hr||gr)_s+=er*2;else for(js=0;js<er;js++)Os=As[_s++],Js.push(Os<<8|As[_s++]);else if(dr===43&&!Xs){if(!hr&&!gr){if(Ts=Js.at(-1),isNaN(Ts))(0,wt.info)("TT: CALL empty stack (or invalid entry).");else if(ys.functionsUsed[Ts]=!0,Ts in ys.functionsStackDeltas){const fr=Js.length+ys.functionsStackDeltas[Ts];if(fr<0){(0,wt.warn)("TT: CALL invalid functions stack delta."),ys.hintsValid=!1;return}Js.length=fr}else if(Ts in ys.functionsDefined&&!mr.includes(Ts)){if(rr.push({data:As,i:_s,stackTop:Js.length-1}),mr.push(Ts),Ws=ys.functionsDefined[Ts],!Ws){(0,wt.warn)("TT: CALL non-existent function"),ys.hintsValid=!1;return}As=Ws.data,_s=Ws.i}}}else if(dr===44&&!Xs)(hr||gr)&&((0,wt.warn)("TT: nested FDEFs not allowed"),Xs=!0),hr=!0,br=_s,Ts=Js.pop(),ys.functionsDefined[Ts]={data:As,i:_s};else if(dr===45)if(hr)hr=!1,ur=_s;else{if(Ws=rr.pop(),!Ws){(0,wt.warn)("TT: ENDF bad stack"),ys.hintsValid=!1;return}Ts=mr.pop(),As=Ws.data,_s=Ws.i,ys.functionsStackDeltas[Ts]=Js.length-Ws.stackTop}else if(dr===137)(hr||gr)&&((0,wt.warn)("TT: nested IDEFs not allowed"),Xs=!0),hr=!0,br=_s;else if(dr===88)++Vs;else if(dr===27)gr=Vs;else if(dr===89)gr===Vs&&(gr=0),--Vs;else if(dr===28&&!hr&&!gr){const fr=Js.at(-1);fr>0&&(_s+=fr-1)}if(!hr&&!gr){let fr=0;for(dr<=142?fr=Xn[dr]:dr>=192&&dr<=223?fr=-1:dr>=224&&(fr=-2),dr>=113&&dr<=117&&(er=Js.pop(),isNaN(er)||(fr=-er*2));fr<0&&Js.length>0;)Js.pop(),fr++;for(;fr>0;)Js.push(NaN),fr--}}ys.tooComplexToFollowFunctions=Xs;const wr=[As];_s>As.length&&wr.push(new Uint8Array(_s-As.length)),br>ur&&((0,wt.warn)("TT: complementing a missing function tail"),wr.push(new Uint8Array([34,45]))),xs(vs,wr)}function rs(vs,ys){if(!vs.tooComplexToFollowFunctions){if(vs.functionsDefined.length>ys){(0,wt.warn)("TT: more functions defined than expected"),vs.hintsValid=!1;return}for(let As=0,_s=vs.functionsUsed.length;As<_s;As++){if(As>ys){(0,wt.warn)("TT: invalid function id: "+As),vs.hintsValid=!1;return}if(vs.functionsUsed[As]&&!vs.functionsDefined[As]){(0,wt.warn)("TT: undefined function: "+As),vs.hintsValid=!1;return}}}}function xs(vs,ys){if(ys.length>1){let As=0,_s,js;for(_s=0,js=ys.length;_s<js;_s++)As+=ys[_s].length;As=As+3&-4;const er=new Uint8Array(As);let Os=0;for(_s=0,js=ys.length;_s<js;_s++)er.set(ys[_s],Os),Os+=ys[_s].length;vs.data=er,vs.length=As}}function Jn(vs,ys,As,_s){const js={functionsDefined:[],functionsUsed:[],functionsStackDeltas:[],tooComplexToFollowFunctions:!1,hintsValid:!0};if(vs&&cs(vs,js),ys&&cs(ys,js),vs&&rs(js,_s),As&&As.length&1){const er=new Uint8Array(As.length+1);er.set(As.data),As.data=er}return js.hintsValid}Mn=new Gt.Stream(new Uint8Array(Mn.getBytes()));let Wn,Zn;if(on(Mn)){const vs=Qn(Mn,this.name);Wn=vs.header,Zn=vs.tables}else Wn=ts(Mn),Zn=Ln(Mn,Wn.numTables);let us,hs;const os=!Zn["CFF "];if(os){if(!Zn.loca)throw new wt.FormatError('Required "loca" table is not found');Zn.glyf||((0,wt.warn)('Required "glyf" table is not found -- trying to recover.'),Zn.glyf={tag:"glyf",data:new Uint8Array(0)}),this.isOpenType=!1}else{const vs=_n.composite&&(((nr=_n.cidToGidMap)==null?void 0:nr.length)>0||!(_n.cMap instanceof Rt.IdentityCMap));if(Wn.version==="OTTO"&&!vs||!Zn.head||!Zn.hhea||!Zn.maxp||!Zn.post)return hs=new Gt.Stream(Zn["CFF "].data),us=new Lt.CFFFont(hs,_n),bn(_n),this.convert(Rn,us,_n);delete Zn.glyf,delete Zn.loca,delete Zn.fpgm,delete Zn.prep,delete Zn["cvt "],this.isOpenType=!0}if(!Zn.maxp)throw new wt.FormatError('Required "maxp" table is not found');Mn.pos=(Mn.start||0)+Zn.maxp.offset;const ps=Mn.getInt32(),ws=Mn.getUint16();if(((Nr=_n.scaleFactors)==null?void 0:Nr.length)===ws&&os){const{scaleFactors:vs}=_n,ys=Mt(Zn.head.data[50],Zn.head.data[51]),As=new jt.GlyfTable({glyfTable:Zn.glyf.data,isGlyphLocationsLong:ys,locaTable:Zn.loca.data,numGlyphs:ws});As.scale(vs);const{glyf:_s,loca:js,isLocationLong:er}=As.write();Zn.glyf.data=_s,Zn.loca.data=js,er!==!!ys&&(Zn.head.data[50]=0,Zn.head.data[51]=er?1:0);const Os=Zn.hmtx.data;for(let Ts=0;Ts<ws;Ts++){const Ws=4*Ts,ur=Math.round(vs[Ts]*Mt(Os[Ws],Os[Ws+1]));Os[Ws]=ur>>8&255,Os[Ws+1]=ur&255;const br=Math.round(vs[Ts]*sn(Os[Ws+2],Os[Ws+3]));Ht(Os,Ws+2,br)}}let fs=ws+1,Ss=!0;fs>65535&&(Ss=!1,fs=ws,(0,wt.warn)("Not enough space in glyfs to duplicate first glyph."));let Ls=0,Fs=0;ps>=65536&&Zn.maxp.length>=22&&(Mn.pos+=8,Mn.getUint16()>2&&(Zn.maxp.data[14]=0,Zn.maxp.data[15]=2),Mn.pos+=4,Ls=Mn.getUint16(),Mn.pos+=4,Fs=Mn.getUint16()),Zn.maxp.data[4]=fs>>8,Zn.maxp.data[5]=fs&255;const $s=Jn(Zn.fpgm,Zn.prep,Zn["cvt "],Ls);if($s||(delete Zn.fpgm,delete Zn.prep,delete Zn["cvt "]),zn(Mn,Zn.hhea,Zn.hmtx,Zn.head,fs,Ss),!Zn.head)throw new wt.FormatError('Required "head" table is not found');ls(Zn.head,ws,os?Zn.loca.length:0);let Es=Object.create(null);if(os){const vs=Mt(Zn.head.data[50],Zn.head.data[51]),ys=ds(Zn.loca,Zn.glyf,ws,vs,$s,Ss,Fs);Es=ys.missingGlyphs,ps>=65536&&Zn.maxp.length>=22&&(Zn.maxp.data[26]=ys.maxSizeOfInstructions>>8,Zn.maxp.data[27]=ys.maxSizeOfInstructions&255)}if(!Zn.hhea)throw new wt.FormatError('Required "hhea" table is not found');Zn.hhea.data[10]===0&&Zn.hhea.data[11]===0&&(Zn.hhea.data[10]=255,Zn.hhea.data[11]=255);const Ps={unitsPerEm:Mt(Zn.head.data[18],Zn.head.data[19]),yMax:sn(Zn.head.data[42],Zn.head.data[43]),yMin:sn(Zn.head.data[38],Zn.head.data[39]),ascent:sn(Zn.hhea.data[4],Zn.hhea.data[5]),descent:sn(Zn.hhea.data[6],Zn.hhea.data[7]),lineGap:sn(Zn.hhea.data[8],Zn.hhea.data[9])};this.ascent=Ps.ascent/Ps.unitsPerEm,this.descent=Ps.descent/Ps.unitsPerEm,this.lineGap=Ps.lineGap/Ps.unitsPerEm,(Gr=this.cssFontInfo)!=null&&Gr.lineHeight?(this.lineHeight=this.cssFontInfo.metrics.lineHeight,this.lineGap=this.cssFontInfo.metrics.lineGap):this.lineHeight=this.ascent-this.descent+this.lineGap,Zn.post&&Bn(Zn.post,_n,ws),Zn.post={tag:"post",data:fn(_n)};const Rs=[];function qs(vs){return!Es[vs]}if(_n.composite){const vs=_n.cidToGidMap||[],ys=vs.length===0;_n.cMap.forEach(function(As,_s){if(typeof _s=="string"&&(_s=Tn(As,_s,!0)),_s>65535)throw new wt.FormatError("Max size of CID is 65,535");let js=-1;ys?js=_s:vs[_s]!==void 0&&(js=vs[_s]),js>=0&&js<ws&&qs(js)&&(Rs[As]=js)})}else{const vs=Yn(Zn.cmap,Mn,this.isSymbolicFont,_n.hasEncoding),ys=vs.platformId,As=vs.encodingId,_s=vs.mappings;let js=[],er=!1;if(_n.hasEncoding&&(_n.baseEncodingName==="MacRomanEncoding"||_n.baseEncodingName==="WinAnsiEncoding")&&(js=(0,Ft.getEncoding)(_n.baseEncodingName)),_n.hasEncoding&&!this.isSymbolicFont&&(ys===3&&As===1||ys===1&&As===0)){const Os=(0,vt.getGlyphsUnicode)();for(let Ts=0;Ts<256;Ts++){let Ws;if(this.differences[Ts]!==void 0?Ws=this.differences[Ts]:js.length&&js[Ts]!==""?Ws=js[Ts]:Ws=Ft.StandardEncoding[Ts],!Ws)continue;const ur=(0,_t.recoverGlyphName)(Ws,Os);let br;if(ys===3&&As===1?br=Os[ur]:ys===1&&As===0&&(br=Ft.MacRomanEncoding.indexOf(ur)),br===void 0){if(!_n.glyphNames&&_n.hasIncludedToUnicodeMap&&!(this.toUnicode instanceof qt.IdentityToUnicodeMap)){const Js=this.toUnicode.get(Ts);Js&&(br=Js.codePointAt(0))}if(br===void 0)continue}for(const Js of _s)if(Js.charCode===br){Rs[Ts]=Js.glyphId;break}}}else if(ys===0){for(const Os of _s)Rs[Os.charCode]=Os.glyphId;er=!0}else for(const Os of _s){let Ts=Os.charCode;ys===3&&Ts>=61440&&Ts<=61695&&(Ts&=255),Rs[Ts]=Os.glyphId}if(_n.glyphNames&&(js.length||this.differences.length))for(let Os=0;Os<256;++Os){if(!er&&Rs[Os]!==void 0)continue;const Ts=this.differences[Os]||js[Os];if(!Ts)continue;const Ws=_n.glyphNames.indexOf(Ts);Ws>0&&qs(Ws)&&(Rs[Os]=Ws)}}Rs.length===0&&(Rs[0]=0);let vr=fs-1;if(Ss||(vr=0),!_n.cssFontInfo){const vs=An(Rs,qs,vr,this.toUnicode);this.toFontChar=vs.toFontChar,Zn.cmap={tag:"cmap",data:pn(vs.charCodeToGlyphId,vs.toUnicodeExtraMap,fs)},(!Zn["OS/2"]||!Jt(Zn["OS/2"],Mn))&&(Zn["OS/2"]={tag:"OS/2",data:un(_n,vs.charCodeToGlyphId,Ps)})}if(!os)try{hs=new Gt.Stream(Zn["CFF "].data),us=new kt.CFFParser(hs,_n,_t.SEAC_ANALYSIS_ENABLED).parse(),us.duplicateFirstGlyph();const ys=new kt.CFFCompiler(us);Zn["CFF "].data=ys.compile()}catch{(0,wt.warn)("Failed to compile font "+_n.loadedName)}if(!Zn.name)Zn.name={tag:"name",data:kn(this.name)};else{const[vs,ys]=Hn(Zn.name);Zn.name.data=kn(Rn,vs),this.psName=vs[0][6]||null,_n.composite||Wt(_n,this.isSymbolicFont,ys)}const lr=new Kt.OpenTypeFileBuilder(Wn.version);for(const vs in Zn)lr.addTable(vs,Zn[vs].data);return lr.toArray()}convert(Rn,Mn,_n){_n.fixedPitch=!1,_n.builtInEncoding&&Yt(_n,_n.builtInEncoding);let Dn=1;Mn instanceof Lt.CFFFont&&(Dn=Mn.numGlyphs-1);const Ln=Mn.getGlyphMapping(_n);let Un=null,ts=Ln,es=null;_n.cssFontInfo||(Un=An(Ln,Mn.hasGlyphId.bind(Mn),Dn,this.toUnicode),this.toFontChar=Un.toFontChar,ts=Un.charCodeToGlyphId,es=Un.toUnicodeExtraMap);const Qn=Mn.numGlyphs;function Yn(Bn,Hn){let Xn=null;for(const cs in Bn)Hn===Bn[cs]&&(Xn||(Xn=[])).push(cs|0);return Xn}function zn(Bn,Hn){for(const Xn in Bn)if(Hn===Bn[Xn])return Xn|0;return Un.charCodeToGlyphId[Un.nextAvailableFontCharCode]=Hn,Un.nextAvailableFontCharCode++}const ns=Mn.seacs;if(Un&&_t.SEAC_ANALYSIS_ENABLED&&(ns!=null&&ns.length)){const Bn=_n.fontMatrix||wt.FONT_IDENTITY_MATRIX,Hn=Mn.getCharset(),Xn=Object.create(null);for(let cs in ns){cs|=0;const rs=ns[cs],xs=Ft.StandardEncoding[rs[2]],Jn=Ft.StandardEncoding[rs[3]],Wn=Hn.indexOf(xs),Zn=Hn.indexOf(Jn);if(Wn<0||Zn<0)continue;const us={x:rs[0]*Bn[0]+rs[1]*Bn[2]+Bn[4],y:rs[0]*Bn[1]+rs[1]*Bn[3]+Bn[5]},hs=Yn(Ln,cs);if(hs)for(const os of hs){const ps=Un.charCodeToGlyphId,ws=zn(ps,Wn),fs=zn(ps,Zn);Xn[os]={baseFontCharCode:ws,accentFontCharCode:fs,accentOffset:us}}}_n.seacMap=Xn}const ls=1/(_n.fontMatrix||wt.FONT_IDENTITY_MATRIX)[0],ds=new Kt.OpenTypeFileBuilder("OTTO");return ds.addTable("CFF ",Mn.data),ds.addTable("OS/2",un(_n,ts)),ds.addTable("cmap",pn(ts,es,Qn)),ds.addTable("head","\0\0\0\0\0\0\0\0\0\0_<\0\0"+Qt(ls)+"\0\0\0\0\v~'\0\0\0\0\v~'\0\0"+Qt(_n.descent)+""+Qt(_n.ascent)+Xt(_n.italicAngle?2:0)+"\0\0\0\0\0\0\0"),ds.addTable("hhea","\0\0\0"+Qt(_n.ascent)+Qt(_n.descent)+"\0\0\0\0\0\0\0\0"+Qt(_n.capHeight)+Qt(Math.tan(_n.italicAngle)*_n.xHeight)+"\0\0\0\0\0\0\0\0\0\0\0\0"+Xt(Qn)),ds.addTable("hmtx",function(){const Hn=Mn.charstrings,Xn=Mn.cff?Mn.cff.widths:null;let cs="\0\0\0\0";for(let rs=1,xs=Qn;rs<xs;rs++){let Jn=0;if(Hn){const Wn=Hn[rs-1];Jn="width"in Wn?Wn.width:0}else Xn&&(Jn=Math.ceil(Xn[rs]||0));cs+=Xt(Jn)+Xt(0)}return cs}()),ds.addTable("maxp","\0\0P\0"+Xt(Qn)),ds.addTable("name",kn(Rn)),ds.addTable("post",fn(_n)),ds.toArray()}get spaceWidth(){const Rn=["space","minus","one","i","I"];let Mn;for(const _n of Rn){if(_n in this.widths){Mn=this.widths[_n];break}const Ln=(0,vt.getGlyphsUnicode)()[_n];let Un=0;if(this.composite&&this.cMap.contains(Ln)&&(Un=this.cMap.lookup(Ln),typeof Un=="string"&&(Un=Tn(Ln,Un))),!Un&&this.toUnicode&&(Un=this.toUnicode.charCodeOf(Ln)),Un<=0&&(Un=Ln),Mn=this.widths[Un],Mn)break}return(0,wt.shadow)(this,"spaceWidth",Mn||this.defaultWidth)}_charToGlyph(Rn,Mn=!1){var ls,ds,Bn;let _n=this._glyphCache[Rn];if((_n==null?void 0:_n.isSpace)===Mn)return _n;let Dn,Ln,Un,ts=Rn;(ls=this.cMap)!=null&&ls.contains(Rn)&&(ts=this.cMap.lookup(Rn),typeof ts=="string"&&(ts=Tn(Rn,ts))),Ln=this.widths[ts],typeof Ln!="number"&&(Ln=this.defaultWidth);const es=(ds=this.vmetrics)==null?void 0:ds[ts];let Qn=this.toUnicode.get(Rn)||Rn;typeof Qn=="number"&&(Qn=String.fromCharCode(Qn));let Yn=this.toFontChar[Rn]!==void 0;if(Dn=this.toFontChar[Rn]||Rn,this.missingFile){const Hn=this.differences[Rn]||this.defaultEncoding[Rn];(Hn===".notdef"||Hn==="")&&this.type==="Type1"&&(Dn=32),Dn=(0,ht.mapSpecialUnicodeValues)(Dn)}this.isType3Font&&(Un=Dn);let zn=null;if((Bn=this.seacMap)!=null&&Bn[Rn]){Yn=!0;const Hn=this.seacMap[Rn];Dn=Hn.baseFontCharCode,zn={fontChar:String.fromCodePoint(Hn.accentFontCharCode),offset:Hn.accentOffset}}let ns="";return typeof Dn=="number"&&(Dn<=1114111?ns=String.fromCodePoint(Dn):(0,wt.warn)(`charToGlyph - invalid fontCharCode: ${Dn}`)),_n=new Ut(Rn,ns,Qn,zn,Ln,es,Un,Mn,Yn),this._glyphCache[Rn]=_n}charsToGlyphs(Rn){let Mn=this._charsCache[Rn];if(Mn)return Mn;if(Mn=[],this.cMap){const _n=Object.create(null),Dn=Rn.length;let Ln=0;for(;Ln<Dn;){this.cMap.readCharCode(Rn,Ln,_n);const{charcode:Un,length:ts}=_n;Ln+=ts;const es=this._charToGlyph(Un,ts===1&&Rn.charCodeAt(Ln-1)===32);Mn.push(es)}}else for(let _n=0,Dn=Rn.length;_n<Dn;++_n){const Ln=Rn.charCodeAt(_n),Un=this._charToGlyph(Ln,Ln===32);Mn.push(Un)}return this._charsCache[Rn]=Mn}getCharPositions(Rn){const Mn=[];if(this.cMap){const _n=Object.create(null);let Dn=0;for(;Dn<Rn.length;){this.cMap.readCharCode(Rn,Dn,_n);const Ln=_n.length;Mn.push([Dn,Dn+Ln]),Dn+=Ln}}else for(let _n=0,Dn=Rn.length;_n<Dn;++_n)Mn.push([_n,_n+1]);return Mn}get glyphCacheValues(){return Object.values(this._glyphCache)}encodeString(Rn){const Mn=[],_n=[],Dn=()=>Mn.length%2===1,Ln=this.toUnicode instanceof qt.IdentityToUnicodeMap?Un=>this.toUnicode.charCodeOf(Un):Un=>this.toUnicode.charCodeOf(String.fromCodePoint(Un));for(let Un=0,ts=Rn.length;Un<ts;Un++){const es=Rn.codePointAt(Un);if(es>55295&&(es<57344||es>65533)&&Un++,this.toUnicode){const Qn=Ln(es);if(Qn!==-1){Dn()&&(Mn.push(_n.join("")),_n.length=0);const Yn=this.cMap?this.cMap.getCharCodeLength(Qn):1;for(let zn=Yn-1;zn>=0;zn--)_n.push(String.fromCharCode(Qn>>8*zn&255));continue}}Dn()||(Mn.push(_n.join("")),_n.length=0),_n.push(String.fromCodePoint(es))}return Mn.push(_n.join("")),Mn}}Et.Font=Pn;class Cn{constructor(Rn){this.error=Rn,this.loadedName="g_font_error",this.missingFile=!0}charsToGlyphs(){return[]}encodeString(Rn){return[Rn]}exportData(Rn=!1){return{error:this.error}}}Et.ErrorFont=Cn},(Ct,Et,Pt)=>{Object.defineProperty(Et,"__esModule",{value:!0}),Et.CFFTopDict=Et.CFFStrings=Et.CFFStandardStrings=Et.CFFPrivateDict=Et.CFFParser=Et.CFFIndex=Et.CFFHeader=Et.CFFFDSelect=Et.CFFCompiler=Et.CFFCharset=Et.CFF=void 0;var wt=Pt(2),kt=Pt(36),_t=Pt(37);const ht=10,vt=[".notdef","space","exclam","quotedbl","numbersign","dollar","percent","ampersand","quoteright","parenleft","parenright","asterisk","plus","comma","hyphen","period","slash","zero","one","two","three","four","five","six","seven","eight","nine","colon","semicolon","less","equal","greater","question","at","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","bracketleft","backslash","bracketright","asciicircum","underscore","quoteleft","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","braceleft","bar","braceright","asciitilde","exclamdown","cent","sterling","fraction","yen","florin","section","currency","quotesingle","quotedblleft","guillemotleft","guilsinglleft","guilsinglright","fi","fl","endash","dagger","daggerdbl","periodcentered","paragraph","bullet","quotesinglbase","quotedblbase","quotedblright","guillemotright","ellipsis","perthousand","questiondown","grave","acute","circumflex","tilde","macron","breve","dotaccent","dieresis","ring","cedilla","hungarumlaut","ogonek","caron","emdash","AE","ordfeminine","Lslash","Oslash","OE","ordmasculine","ae","dotlessi","lslash","oslash","oe","germandbls","onesuperior","logicalnot","mu","trademark","Eth","onehalf","plusminus","Thorn","onequarter","divide","brokenbar","degree","thorn","threequarters","twosuperior","registered","minus","eth","multiply","threesuperior","copyright","Aacute","Acircumflex","Adieresis","Agrave","Aring","Atilde","Ccedilla","Eacute","Ecircumflex","Edieresis","Egrave","Iacute","Icircumflex","Idieresis","Igrave","Ntilde","Oacute","Ocircumflex","Odieresis","Ograve","Otilde","Scaron","Uacute","Ucircumflex","Udieresis","Ugrave","Yacute","Ydieresis","Zcaron","aacute","acircumflex","adieresis","agrave","aring","atilde","ccedilla","eacute","ecircumflex","edieresis","egrave","iacute","icircumflex","idieresis","igrave","ntilde","oacute","ocircumflex","odieresis","ograve","otilde","scaron","uacute","ucircumflex","udieresis","ugrave","yacute","ydieresis","zcaron","exclamsmall","Hungarumlautsmall","dollaroldstyle","dollarsuperior","ampersandsmall","Acutesmall","parenleftsuperior","parenrightsuperior","twodotenleader","onedotenleader","zerooldstyle","oneoldstyle","twooldstyle","threeoldstyle","fouroldstyle","fiveoldstyle","sixoldstyle","sevenoldstyle","eightoldstyle","nineoldstyle","commasuperior","threequartersemdash","periodsuperior","questionsmall","asuperior","bsuperior","centsuperior","dsuperior","esuperior","isuperior","lsuperior","msuperior","nsuperior","osuperior","rsuperior","ssuperior","tsuperior","ff","ffi","ffl","parenleftinferior","parenrightinferior","Circumflexsmall","hyphensuperior","Gravesmall","Asmall","Bsmall","Csmall","Dsmall","Esmall","Fsmall","Gsmall","Hsmall","Ismall","Jsmall","Ksmall","Lsmall","Msmall","Nsmall","Osmall","Psmall","Qsmall","Rsmall","Ssmall","Tsmall","Usmall","Vsmall","Wsmall","Xsmall","Ysmall","Zsmall","colonmonetary","onefitted","rupiah","Tildesmall","exclamdownsmall","centoldstyle","Lslashsmall","Scaronsmall","Zcaronsmall","Dieresissmall","Brevesmall","Caronsmall","Dotaccentsmall","Macronsmall","figuredash","hypheninferior","Ogoneksmall","Ringsmall","Cedillasmall","questiondownsmall","oneeighth","threeeighths","fiveeighths","seveneighths","onethird","twothirds","zerosuperior","foursuperior","fivesuperior","sixsuperior","sevensuperior","eightsuperior","ninesuperior","zeroinferior","oneinferior","twoinferior","threeinferior","fourinferior","fiveinferior","sixinferior","seveninferior","eightinferior","nineinferior","centinferior","dollarinferior","periodinferior","commainferior","Agravesmall","Aacutesmall","Acircumflexsmall","Atildesmall","Adieresissmall","Aringsmall","AEsmall","Ccedillasmall","Egravesmall","Eacutesmall","Ecircumflexsmall","Edieresissmall","Igravesmall","Iacutesmall","Icircumflexsmall","Idieresissmall","Ethsmall","Ntildesmall","Ogravesmall","Oacutesmall","Ocircumflexsmall","Otildesmall","Odieresissmall","OEsmall","Oslashsmall","Ugravesmall","Uacutesmall","Ucircumflexsmall","Udieresissmall","Yacutesmall","Thornsmall","Ydieresissmall","001.000","001.001","001.002","001.003","Black","Bold","Book","Light","Medium","Regular","Roman","Semibold"];Et.CFFStandardStrings=vt;const Ft=391,Vt=[null,{id:"hstem",min:2,stackClearing:!0,stem:!0},null,{id:"vstem",min:2,stackClearing:!0,stem:!0},{id:"vmoveto",min:1,stackClearing:!0},{id:"rlineto",min:2,resetStack:!0},{id:"hlineto",min:1,resetStack:!0},{id:"vlineto",min:1,resetStack:!0},{id:"rrcurveto",min:6,resetStack:!0},null,{id:"callsubr",min:1,undefStack:!0},{id:"return",min:0,undefStack:!0},null,null,{id:"endchar",min:0,stackClearing:!0},null,null,null,{id:"hstemhm",min:2,stackClearing:!0,stem:!0},{id:"hintmask",min:0,stackClearing:!0},{id:"cntrmask",min:0,stackClearing:!0},{id:"rmoveto",min:2,stackClearing:!0},{id:"hmoveto",min:1,stackClearing:!0},{id:"vstemhm",min:2,stackClearing:!0,stem:!0},{id:"rcurveline",min:8,resetStack:!0},{id:"rlinecurve",min:8,resetStack:!0},{id:"vvcurveto",min:4,resetStack:!0},{id:"hhcurveto",min:4,resetStack:!0},null,{id:"callgsubr",min:1,undefStack:!0},{id:"vhcurveto",min:4,resetStack:!0},{id:"hvcurveto",min:4,resetStack:!0}],qt=[null,null,null,{id:"and",min:2,stackDelta:-1},{id:"or",min:2,stackDelta:-1},{id:"not",min:1,stackDelta:0},null,null,null,{id:"abs",min:1,stackDelta:0},{id:"add",min:2,stackDelta:-1,stackFn(dn,Ut){dn[Ut-2]=dn[Ut-2]+dn[Ut-1]}},{id:"sub",min:2,stackDelta:-1,stackFn(dn,Ut){dn[Ut-2]=dn[Ut-2]-dn[Ut-1]}},{id:"div",min:2,stackDelta:-1,stackFn(dn,Ut){dn[Ut-2]=dn[Ut-2]/dn[Ut-1]}},null,{id:"neg",min:1,stackDelta:0,stackFn(dn,Ut){dn[Ut-1]=-dn[Ut-1]}},{id:"eq",min:2,stackDelta:-1},null,null,{id:"drop",min:1,stackDelta:-1},null,{id:"put",min:2,stackDelta:-2},{id:"get",min:1,stackDelta:0},{id:"ifelse",min:4,stackDelta:-3},{id:"random",min:0,stackDelta:1},{id:"mul",min:2,stackDelta:-1,stackFn(dn,Ut){dn[Ut-2]=dn[Ut-2]*dn[Ut-1]}},null,{id:"sqrt",min:1,stackDelta:0},{id:"dup",min:1,stackDelta:1},{id:"exch",min:2,stackDelta:0},{id:"index",min:2,stackDelta:0},{id:"roll",min:3,stackDelta:-2},null,null,null,{id:"hflex",min:7,resetStack:!0},{id:"flex",min:13,resetStack:!0},{id:"hflex1",min:9,resetStack:!0},{id:"flex1",min:11,resetStack:!0}];class Lt{constructor(Ut,Mt,Ht){this.bytes=Ut.getBytes(),this.properties=Mt,this.seacAnalysisEnabled=!!Ht}parse(){const Ut=this.properties,Mt=new $t;this.cff=Mt;const Ht=this.parseHeader(),sn=this.parseIndex(Ht.endPos),zt=this.parseIndex(sn.endPos),Xt=this.parseIndex(zt.endPos),Qt=this.parseIndex(Xt.endPos),ln=this.parseDict(zt.obj.get(0)),on=this.createDict(Gt,ln,Mt.strings);Mt.header=Ht.obj,Mt.names=this.parseNameIndex(sn.obj),Mt.strings=this.parseStringIndex(Xt.obj),Mt.topDict=on,Mt.globalSubrIndex=Qt.obj,this.parsePrivateDict(Mt.topDict),Mt.isCIDFont=on.hasName("ROS");const cn=on.getByName("CharStrings"),rn=this.parseIndex(cn).obj,an=on.getByName("FontMatrix");an&&(Ut.fontMatrix=an);const xn=on.getByName("FontBBox");xn&&(Ut.ascent=Math.max(xn[3],xn[1]),Ut.descent=Math.min(xn[1],xn[3]),Ut.ascentScaled=!0);let wn,En;if(Mt.isCIDFont){const In=this.parseIndex(on.getByName("FDArray")).obj;for(let Tn=0,An=In.count;Tn<An;++Tn){const mn=In.get(Tn),pn=this.createDict(Gt,this.parseDict(mn),Mt.strings);this.parsePrivateDict(pn),Mt.fdArray.push(pn)}En=null,wn=this.parseCharsets(on.getByName("charset"),rn.count,Mt.strings,!0),Mt.fdSelect=this.parseFDSelect(on.getByName("FDSelect"),rn.count)}else wn=this.parseCharsets(on.getByName("charset"),rn.count,Mt.strings,!1),En=this.parseEncoding(on.getByName("Encoding"),Ut,Mt.strings,wn.charset);Mt.charset=wn,Mt.encoding=En;const Fn=this.parseCharStrings({charStrings:rn,localSubrIndex:on.privateDict.subrsIndex,globalSubrIndex:Qt.obj,fdSelect:Mt.fdSelect,fdArray:Mt.fdArray,privateDict:on.privateDict});return Mt.charStrings=Fn.charStrings,Mt.seacs=Fn.seacs,Mt.widths=Fn.widths,Mt}parseHeader(){let Ut=this.bytes;const Mt=Ut.length;let Ht=0;for(;Ht<Mt&&Ut[Ht]!==1;)++Ht;if(Ht>=Mt)throw new wt.FormatError("Invalid CFF header");Ht!==0&&((0,wt.info)("cff data is shifted"),Ut=Ut.subarray(Ht),this.bytes=Ut);const sn=Ut[0],zt=Ut[1],Xt=Ut[2],Qt=Ut[3];return{obj:new Ot(sn,zt,Xt,Qt),endPos:Xt}}parseDict(Ut){let Mt=0;function Ht(){let ln=Ut[Mt++];return ln===30?sn():ln===28?(ln=Ut[Mt++],ln=(ln<<24|Ut[Mt++]<<16)>>16,ln):ln===29?(ln=Ut[Mt++],ln=ln<<8|Ut[Mt++],ln=ln<<8|Ut[Mt++],ln=ln<<8|Ut[Mt++],ln):ln>=32&&ln<=246?ln-139:ln>=247&&ln<=250?(ln-247)*256+Ut[Mt++]+108:ln>=251&&ln<=254?-((ln-251)*256)-Ut[Mt++]-108:((0,wt.warn)('CFFParser_parseDict: "'+ln+'" is a reserved command.'),NaN)}function sn(){let ln="";const cn=["0","1","2","3","4","5","6","7","8","9",".","E","E-",null,"-"],rn=Ut.length;for(;Mt<rn;){const an=Ut[Mt++],xn=an>>4,wn=an&15;if(xn===15||(ln+=cn[xn],wn===15))break;ln+=cn[wn]}return parseFloat(ln)}let zt=[];const Xt=[];Mt=0;const Qt=Ut.length;for(;Mt<Qt;){let ln=Ut[Mt];ln<=21?(ln===12&&(ln=ln<<8|Ut[++Mt]),Xt.push([ln,zt]),zt=[],++Mt):zt.push(Ht())}return Xt}parseIndex(Ut){const Mt=new Rt,Ht=this.bytes,sn=Ht[Ut++]<<8|Ht[Ut++],zt=[];let Xt=Ut,Qt,ln;if(sn!==0){const on=Ht[Ut++],cn=Ut+(sn+1)*on-1;for(Qt=0,ln=sn+1;Qt<ln;++Qt){let rn=0;for(let an=0;an<on;++an)rn<<=8,rn+=Ht[Ut++];zt.push(cn+rn)}Xt=zt[sn]}for(Qt=0,ln=zt.length-1;Qt<ln;++Qt){const on=zt[Qt],cn=zt[Qt+1];Mt.add(Ht.subarray(on,cn))}return{obj:Mt,endPos:Xt}}parseNameIndex(Ut){const Mt=[];for(let Ht=0,sn=Ut.count;Ht<sn;++Ht){const zt=Ut.get(Ht);Mt.push((0,wt.bytesToString)(zt))}return Mt}parseStringIndex(Ut){const Mt=new jt;for(let Ht=0,sn=Ut.count;Ht<sn;++Ht){const zt=Ut.get(Ht);Mt.add((0,wt.bytesToString)(zt))}return Mt}createDict(Ut,Mt,Ht){const sn=new Ut(Ht);for(const[zt,Xt]of Mt)sn.setByKey(zt,Xt);return sn}parseCharString(Ut,Mt,Ht,sn){if(!Mt||Ut.callDepth>ht)return!1;let zt=Ut.stackSize;const Xt=Ut.stack;let Qt=Mt.length;for(let ln=0;ln<Qt;){const on=Mt[ln++];let cn=null;if(on===12){const rn=Mt[ln++];rn===0?(Mt[ln-2]=139,Mt[ln-1]=22,zt=0):cn=qt[rn]}else if(on===28)Xt[zt]=(Mt[ln]<<24|Mt[ln+1]<<16)>>16,ln+=2,zt++;else if(on===14){if(zt>=4&&(zt-=4,this.seacAnalysisEnabled))return Ut.seac=Xt.slice(zt,zt+4),!1;cn=Vt[on]}else if(on>=32&&on<=246)Xt[zt]=on-139,zt++;else if(on>=247&&on<=254)Xt[zt]=on<251?(on-247<<8)+Mt[ln]+108:-(on-251<<8)-Mt[ln]-108,ln++,zt++;else if(on===255)Xt[zt]=(Mt[ln]<<24|Mt[ln+1]<<16|Mt[ln+2]<<8|Mt[ln+3])/65536,ln+=4,zt++;else if(on===19||on===20){if(Ut.hints+=zt>>1,Ut.hints===0){Mt.copyWithin(ln-1,ln,-1),ln-=1,Qt-=1;continue}ln+=Ut.hints+7>>3,zt%=2,cn=Vt[on]}else if(on===10||on===29){const rn=on===10?Ht:sn;if(!rn)return cn=Vt[on],(0,wt.warn)("Missing subrsIndex for "+cn.id),!1;let an=32768;rn.count<1240?an=107:rn.count<33900&&(an=1131);const xn=Xt[--zt]+an;if(xn<0||xn>=rn.count||isNaN(xn))return cn=Vt[on],(0,wt.warn)("Out of bounds subrIndex for "+cn.id),!1;if(Ut.stackSize=zt,Ut.callDepth++,!this.parseCharString(Ut,rn.get(xn),Ht,sn))return!1;Ut.callDepth--,zt=Ut.stackSize;continue}else{if(on===11)return Ut.stackSize=zt,!0;if(on===0&&ln===Mt.length)Mt[ln-1]=14,cn=Vt[14];else if(on===9){Mt.copyWithin(ln-1,ln,-1),ln-=1,Qt-=1;continue}else cn=Vt[on]}if(cn){if(cn.stem&&(Ut.hints+=zt>>1,on===3||on===23?Ut.hasVStems=!0:Ut.hasVStems&&(on===1||on===18)&&((0,wt.warn)("CFF stem hints are in wrong order"),Mt[ln-1]=on===1?3:23)),"min"in cn&&!Ut.undefStack&&zt<cn.min)return(0,wt.warn)("Not enough parameters for "+cn.id+"; actual: "+zt+", expected: "+cn.min),zt===0?(Mt[ln-1]=14,!0):!1;Ut.firstStackClearing&&cn.stackClearing&&(Ut.firstStackClearing=!1,zt-=cn.min,zt>=2&&cn.stem?zt%=2:zt>1&&(0,wt.warn)("Found too many parameters for stack-clearing command"),zt>0&&(Ut.width=Xt[zt-1])),"stackDelta"in cn?("stackFn"in cn&&cn.stackFn(Xt,zt),zt+=cn.stackDelta):cn.stackClearing?zt=0:cn.resetStack?(zt=0,Ut.undefStack=!1):cn.undefStack&&(zt=0,Ut.undefStack=!0,Ut.firstStackClearing=!1)}}return Qt<Mt.length&&Mt.fill(14,Qt),Ut.stackSize=zt,!0}parseCharStrings({charStrings:Ut,localSubrIndex:Mt,globalSubrIndex:Ht,fdSelect:sn,fdArray:zt,privateDict:Xt}){const Qt=[],ln=[],on=Ut.count;for(let cn=0;cn<on;cn++){const rn=Ut.get(cn),an={callDepth:0,stackSize:0,stack:[],undefStack:!0,hints:0,firstStackClearing:!0,seac:null,width:null,hasVStems:!1};let xn=!0,wn=null,En=Xt;if(sn&&zt.length){const Fn=sn.getFDIndex(cn);Fn===-1&&((0,wt.warn)("Glyph index is not in fd select."),xn=!1),Fn>=zt.length&&((0,wt.warn)("Invalid fd index for glyph index."),xn=!1),xn&&(En=zt[Fn].privateDict,wn=En.subrsIndex)}else Mt&&(wn=Mt);if(xn&&(xn=this.parseCharString(an,rn,wn,Ht)),an.width!==null){const Fn=En.getByName("nominalWidthX");ln[cn]=Fn+an.width}else{const Fn=En.getByName("defaultWidthX");ln[cn]=Fn}an.seac!==null&&(Qt[cn]=an.seac),xn||Ut.set(cn,new Uint8Array([14]))}return{charStrings:Ut,seacs:Qt,widths:ln}}emptyPrivateDictionary(Ut){const Mt=this.createDict(hn,[],Ut.strings);Ut.setByKey(18,[0,0]),Ut.privateDict=Mt}parsePrivateDict(Ut){if(!Ut.hasName("Private")){this.emptyPrivateDictionary(Ut);return}const Mt=Ut.getByName("Private");if(!Array.isArray(Mt)||Mt.length!==2){Ut.removeByName("Private");return}const Ht=Mt[0],sn=Mt[1];if(Ht===0||sn>=this.bytes.length){this.emptyPrivateDictionary(Ut);return}const zt=sn+Ht,Xt=this.bytes.subarray(sn,zt),Qt=this.parseDict(Xt),ln=this.createDict(hn,Qt,Ut.strings);if(Ut.privateDict=ln,ln.getByName("ExpansionFactor")===0&&ln.setByName("ExpansionFactor",.06),!ln.getByName("Subrs"))return;const on=ln.getByName("Subrs"),cn=sn+on;if(on===0||cn>=this.bytes.length){this.emptyPrivateDictionary(Ut);return}const rn=this.parseIndex(cn);ln.subrsIndex=rn.obj}parseCharsets(Ut,Mt,Ht,sn){if(Ut===0)return new gn(!0,tn.ISO_ADOBE,kt.ISOAdobeCharset);if(Ut===1)return new gn(!0,tn.EXPERT,kt.ExpertCharset);if(Ut===2)return new gn(!0,tn.EXPERT_SUBSET,kt.ExpertSubsetCharset);const zt=this.bytes,Xt=Ut,Qt=zt[Ut++],ln=[sn?0:".notdef"];let on,cn,rn;switch(Mt-=1,Qt){case 0:for(rn=0;rn<Mt;rn++)on=zt[Ut++]<<8|zt[Ut++],ln.push(sn?on:Ht.get(on));break;case 1:for(;ln.length<=Mt;)for(on=zt[Ut++]<<8|zt[Ut++],cn=zt[Ut++],rn=0;rn<=cn;rn++)ln.push(sn?on++:Ht.get(on++));break;case 2:for(;ln.length<=Mt;)for(on=zt[Ut++]<<8|zt[Ut++],cn=zt[Ut++]<<8|zt[Ut++],rn=0;rn<=cn;rn++)ln.push(sn?on++:Ht.get(on++));break;default:throw new wt.FormatError("Unknown charset format")}const an=Ut,xn=zt.subarray(Xt,an);return new gn(!1,Qt,ln,xn)}parseEncoding(Ut,Mt,Ht,sn){const zt=Object.create(null),Xt=this.bytes;let Qt=!1,ln,on,cn,rn=null;function an(){const xn=Xt[Ut++];for(on=0;on<xn;on++){const wn=Xt[Ut++],En=(Xt[Ut++]<<8)+(Xt[Ut++]&255);zt[wn]=sn.indexOf(Ht.get(En))}}if(Ut===0||Ut===1){Qt=!0,ln=Ut;const xn=Ut?_t.ExpertEncoding:_t.StandardEncoding;for(on=0,cn=sn.length;on<cn;on++){const wn=xn.indexOf(sn[on]);wn!==-1&&(zt[wn]=on)}}else{const xn=Ut;switch(ln=Xt[Ut++],ln&127){case 0:const En=Xt[Ut++];for(on=1;on<=En;on++)zt[Xt[Ut++]]=on;break;case 1:const Fn=Xt[Ut++];let In=1;for(on=0;on<Fn;on++){const Tn=Xt[Ut++],An=Xt[Ut++];for(let mn=Tn;mn<=Tn+An;mn++)zt[mn]=In++}break;default:throw new wt.FormatError(`Unknown encoding format: ${ln} in CFF`)}const wn=Ut;ln&128&&(Xt[xn]&=127,an()),rn=Xt.subarray(xn,wn)}return ln&=127,new nn(Qt,ln,zt,rn)}parseFDSelect(Ut,Mt){const Ht=this.bytes,sn=Ht[Ut++],zt=[];let Xt;switch(sn){case 0:for(Xt=0;Xt<Mt;++Xt){const ln=Ht[Ut++];zt.push(ln)}break;case 3:const Qt=Ht[Ut++]<<8|Ht[Ut++];for(Xt=0;Xt<Qt;++Xt){let ln=Ht[Ut++]<<8|Ht[Ut++];Xt===0&&ln!==0&&((0,wt.warn)("parseFDSelect: The first range must have a first GID of 0 -- trying to recover."),ln=0);const on=Ht[Ut++],cn=Ht[Ut]<<8|Ht[Ut+1];for(let rn=ln;rn<cn;++rn)zt.push(on)}Ut+=2;break;default:throw new wt.FormatError(`parseFDSelect: Unknown format "${sn}".`)}if(zt.length!==Mt)throw new wt.FormatError("parseFDSelect: Invalid font data.");return new bn(sn,zt)}}Et.CFFParser=Lt;class $t{constructor(){this.header=null,this.names=[],this.topDict=null,this.strings=new jt,this.globalSubrIndex=null,this.encoding=null,this.charset=null,this.charStrings=null,this.fdArray=[],this.fdSelect=null,this.isCIDFont=!1}duplicateFirstGlyph(){if(this.charStrings.count>=65535){(0,wt.warn)("Not enough space in charstrings to duplicate first glyph.");return}const Ut=this.charStrings.get(0);this.charStrings.add(Ut),this.isCIDFont&&this.fdSelect.fdSelect.push(this.fdSelect.fdSelect[0])}hasGlyphId(Ut){return Ut<0||Ut>=this.charStrings.count?!1:this.charStrings.get(Ut).length>0}}Et.CFF=$t;class Ot{constructor(Ut,Mt,Ht,sn){this.major=Ut,this.minor=Mt,this.hdrSize=Ht,this.offSize=sn}}Et.CFFHeader=Ot;class jt{constructor(){this.strings=[]}get(Ut){return Ut>=0&&Ut<=Ft-1?vt[Ut]:Ut-Ft<=this.strings.length?this.strings[Ut-Ft]:vt[0]}getSID(Ut){let Mt=vt.indexOf(Ut);return Mt!==-1?Mt:(Mt=this.strings.indexOf(Ut),Mt!==-1?Mt+Ft:-1)}add(Ut){this.strings.push(Ut)}get count(){return this.strings.length}}Et.CFFStrings=jt;class Rt{constructor(){this.objects=[],this.length=0}add(Ut){this.length+=Ut.length,this.objects.push(Ut)}set(Ut,Mt){this.length+=Mt.length-this.objects[Ut].length,this.objects[Ut]=Mt}get(Ut){return this.objects[Ut]}get count(){return this.objects.length}}Et.CFFIndex=Rt;class Kt{constructor(Ut,Mt){this.keyToNameMap=Ut.keyToNameMap,this.nameToKeyMap=Ut.nameToKeyMap,this.defaults=Ut.defaults,this.types=Ut.types,this.opcodes=Ut.opcodes,this.order=Ut.order,this.strings=Mt,this.values=Object.create(null)}setByKey(Ut,Mt){if(!(Ut in this.keyToNameMap))return!1;if(Mt.length===0)return!0;for(const sn of Mt)if(isNaN(sn))return(0,wt.warn)(`Invalid CFFDict value: "${Mt}" for key "${Ut}".`),!0;const Ht=this.types[Ut];return(Ht==="num"||Ht==="sid"||Ht==="offset")&&(Mt=Mt[0]),this.values[Ut]=Mt,!0}setByName(Ut,Mt){if(!(Ut in this.nameToKeyMap))throw new wt.FormatError(`Invalid dictionary name "${Ut}"`);this.values[this.nameToKeyMap[Ut]]=Mt}hasName(Ut){return this.nameToKeyMap[Ut]in this.values}getByName(Ut){if(!(Ut in this.nameToKeyMap))throw new wt.FormatError(`Invalid dictionary name ${Ut}"`);const Mt=this.nameToKeyMap[Ut];return Mt in this.values?this.values[Mt]:this.defaults[Mt]}removeByName(Ut){delete this.values[this.nameToKeyMap[Ut]]}static createTables(Ut){const Mt={keyToNameMap:{},nameToKeyMap:{},defaults:{},types:{},opcodes:{},order:[]};for(const Ht of Ut){const sn=Array.isArray(Ht[0])?(Ht[0][0]<<8)+Ht[0][1]:Ht[0];Mt.keyToNameMap[sn]=Ht[1],Mt.nameToKeyMap[Ht[1]]=sn,Mt.types[sn]=Ht[2],Mt.defaults[sn]=Ht[3],Mt.opcodes[sn]=Array.isArray(Ht[0])?Ht[0]:[Ht[0]],Mt.order.push(sn)}return Mt}}const Bt=[[[12,30],"ROS",["sid","sid","num"],null],[[12,20],"SyntheticBase","num",null],[0,"version","sid",null],[1,"Notice","sid",null],[[12,0],"Copyright","sid",null],[2,"FullName","sid",null],[3,"FamilyName","sid",null],[4,"Weight","sid",null],[[12,1],"isFixedPitch","num",0],[[12,2],"ItalicAngle","num",0],[[12,3],"UnderlinePosition","num",-100],[[12,4],"UnderlineThickness","num",50],[[12,5],"PaintType","num",0],[[12,6],"CharstringType","num",2],[[12,7],"FontMatrix",["num","num","num","num","num","num"],[.001,0,0,.001,0,0]],[13,"UniqueID","num",null],[5,"FontBBox",["num","num","num","num"],[0,0,0,0]],[[12,8],"StrokeWidth","num",0],[14,"XUID","array",null],[15,"charset","offset",0],[16,"Encoding","offset",0],[17,"CharStrings","offset",0],[18,"Private",["offset","offset"],null],[[12,21],"PostScript","sid",null],[[12,22],"BaseFontName","sid",null],[[12,23],"BaseFontBlend","delta",null],[[12,31],"CIDFontVersion","num",0],[[12,32],"CIDFontRevision","num",0],[[12,33],"CIDFontType","num",0],[[12,34],"CIDCount","num",8720],[[12,35],"UIDBase","num",null],[[12,37],"FDSelect","offset",null],[[12,36],"FDArray","offset",null],[[12,38],"FontName","sid",null]];class Gt extends Kt{static get tables(){return(0,wt.shadow)(this,"tables",this.createTables(Bt))}constructor(Ut){super(Gt.tables,Ut),this.privateDict=null}}Et.CFFTopDict=Gt;const en=[[6,"BlueValues","delta",null],[7,"OtherBlues","delta",null],[8,"FamilyBlues","delta",null],[9,"FamilyOtherBlues","delta",null],[[12,9],"BlueScale","num",.039625],[[12,10],"BlueShift","num",7],[[12,11],"BlueFuzz","num",1],[10,"StdHW","num",null],[11,"StdVW","num",null],[[12,12],"StemSnapH","delta",null],[[12,13],"StemSnapV","delta",null],[[12,14],"ForceBold","num",0],[[12,17],"LanguageGroup","num",0],[[12,18],"ExpansionFactor","num",.06],[[12,19],"initialRandomSeed","num",0],[20,"defaultWidthX","num",0],[21,"nominalWidthX","num",0],[19,"Subrs","offset",null]];class hn extends Kt{static get tables(){return(0,wt.shadow)(this,"tables",this.createTables(en))}constructor(Ut){super(hn.tables,Ut),this.subrsIndex=null}}Et.CFFPrivateDict=hn;const tn={ISO_ADOBE:0,EXPERT:1,EXPERT_SUBSET:2};class gn{constructor(Ut,Mt,Ht,sn){this.predefined=Ut,this.format=Mt,this.charset=Ht,this.raw=sn}}Et.CFFCharset=gn;class nn{constructor(Ut,Mt,Ht,sn){this.predefined=Ut,this.format=Mt,this.encoding=Ht,this.raw=sn}}class bn{constructor(Ut,Mt){this.format=Ut,this.fdSelect=Mt}getFDIndex(Ut){return Ut<0||Ut>=this.fdSelect.length?-1:this.fdSelect[Ut]}}Et.CFFFDSelect=bn;class Wt{constructor(){this.offsets=Object.create(null)}isTracking(Ut){return Ut in this.offsets}track(Ut,Mt){if(Ut in this.offsets)throw new wt.FormatError(`Already tracking location of ${Ut}`);this.offsets[Ut]=Mt}offset(Ut){for(const Mt in this.offsets)this.offsets[Mt]+=Ut}setEntryLocation(Ut,Mt,Ht){if(!(Ut in this.offsets))throw new wt.FormatError(`Not tracking location of ${Ut}`);const sn=Ht.data,zt=this.offsets[Ut],Xt=5;for(let Qt=0,ln=Mt.length;Qt<ln;++Qt){const on=Qt*Xt+zt,cn=on+1,rn=on+2,an=on+3,xn=on+4;if(sn[on]!==29||sn[cn]!==0||sn[rn]!==0||sn[an]!==0||sn[xn]!==0)throw new wt.FormatError("writing to an offset that is not empty");const wn=Mt[Qt];sn[on]=29,sn[cn]=wn>>24&255,sn[rn]=wn>>16&255,sn[an]=wn>>8&255,sn[xn]=wn&255}}}class Yt{constructor(Ut){this.cff=Ut}compile(){const Ut=this.cff,Mt={data:[],length:0,add(an){try{this.data.push(...an)}catch{this.data=this.data.concat(an)}this.length=this.data.length}},Ht=this.compileHeader(Ut.header);Mt.add(Ht);const sn=this.compileNameIndex(Ut.names);if(Mt.add(sn),Ut.isCIDFont&&Ut.topDict.hasName("FontMatrix")){const an=Ut.topDict.getByName("FontMatrix");Ut.topDict.removeByName("FontMatrix");for(const xn of Ut.fdArray){let wn=an.slice(0);xn.hasName("FontMatrix")&&(wn=wt.Util.transform(wn,xn.getByName("FontMatrix"))),xn.setByName("FontMatrix",wn)}}const zt=Ut.topDict.getByName("XUID");(zt==null?void 0:zt.length)>16&&Ut.topDict.removeByName("XUID"),Ut.topDict.setByName("charset",0);let Xt=this.compileTopDicts([Ut.topDict],Mt.length,Ut.isCIDFont);Mt.add(Xt.output);const Qt=Xt.trackers[0],ln=this.compileStringIndex(Ut.strings.strings);Mt.add(ln);const on=this.compileIndex(Ut.globalSubrIndex);if(Mt.add(on),Ut.encoding&&Ut.topDict.hasName("Encoding"))if(Ut.encoding.predefined)Qt.setEntryLocation("Encoding",[Ut.encoding.format],Mt);else{const an=this.compileEncoding(Ut.encoding);Qt.setEntryLocation("Encoding",[Mt.length],Mt),Mt.add(an)}const cn=this.compileCharset(Ut.charset,Ut.charStrings.count,Ut.strings,Ut.isCIDFont);Qt.setEntryLocation("charset",[Mt.length],Mt),Mt.add(cn);const rn=this.compileCharStrings(Ut.charStrings);if(Qt.setEntryLocation("CharStrings",[Mt.length],Mt),Mt.add(rn),Ut.isCIDFont){Qt.setEntryLocation("FDSelect",[Mt.length],Mt);const an=this.compileFDSelect(Ut.fdSelect);Mt.add(an),Xt=this.compileTopDicts(Ut.fdArray,Mt.length,!0),Qt.setEntryLocation("FDArray",[Mt.length],Mt),Mt.add(Xt.output);const xn=Xt.trackers;this.compilePrivateDicts(Ut.fdArray,xn,Mt)}return this.compilePrivateDicts([Ut.topDict],[Qt],Mt),Mt.add([0]),Mt.data}encodeNumber(Ut){return Number.isInteger(Ut)?this.encodeInteger(Ut):this.encodeFloat(Ut)}static get EncodeFloatRegExp(){return(0,wt.shadow)(this,"EncodeFloatRegExp",/\.(\d*?)(?:9{5,20}|0{5,20})\d{0,2}(?:e(.+)|$)/)}encodeFloat(Ut){let Mt=Ut.toString();const Ht=Yt.EncodeFloatRegExp.exec(Mt);if(Ht){const ln=parseFloat("1e"+((Ht[2]?+Ht[2]:0)+Ht[1].length));Mt=(Math.round(Ut*ln)/ln).toString()}let sn="",zt,Xt;for(zt=0,Xt=Mt.length;zt<Xt;++zt){const ln=Mt[zt];ln==="e"?sn+=Mt[++zt]==="-"?"c":"b":ln==="."?sn+="a":ln==="-"?sn+="e":sn+=ln}sn+=sn.length&1?"f":"ff";const Qt=[30];for(zt=0,Xt=sn.length;zt<Xt;zt+=2)Qt.push(parseInt(sn.substring(zt,zt+2),16));return Qt}encodeInteger(Ut){let Mt;return Ut>=-107&&Ut<=107?Mt=[Ut+139]:Ut>=108&&Ut<=1131?(Ut-=108,Mt=[(Ut>>8)+247,Ut&255]):Ut>=-1131&&Ut<=-108?(Ut=-Ut-108,Mt=[(Ut>>8)+251,Ut&255]):Ut>=-32768&&Ut<=32767?Mt=[28,Ut>>8&255,Ut&255]:Mt=[29,Ut>>24&255,Ut>>16&255,Ut>>8&255,Ut&255],Mt}compileHeader(Ut){return[Ut.major,Ut.minor,4,Ut.offSize]}compileNameIndex(Ut){const Mt=new Rt;for(const Ht of Ut){const sn=Math.min(Ht.length,127);let zt=new Array(sn);for(let Xt=0;Xt<sn;Xt++){let Qt=Ht[Xt];(Qt<"!"||Qt>"~"||Qt==="["||Qt==="]"||Qt==="("||Qt===")"||Qt==="{"||Qt==="}"||Qt==="<"||Qt===">"||Qt==="/"||Qt==="%")&&(Qt="_"),zt[Xt]=Qt}zt=zt.join(""),zt===""&&(zt="Bad_Font_Name"),Mt.add((0,wt.stringToBytes)(zt))}return this.compileIndex(Mt)}compileTopDicts(Ut,Mt,Ht){const sn=[];let zt=new Rt;for(const Xt of Ut){Ht&&(Xt.removeByName("CIDFontVersion"),Xt.removeByName("CIDFontRevision"),Xt.removeByName("CIDFontType"),Xt.removeByName("CIDCount"),Xt.removeByName("UIDBase"));const Qt=new Wt,ln=this.compileDict(Xt,Qt);sn.push(Qt),zt.add(ln),Qt.offset(Mt)}return zt=this.compileIndex(zt,sn),{trackers:sn,output:zt}}compilePrivateDicts(Ut,Mt,Ht){for(let sn=0,zt=Ut.length;sn<zt;++sn){const Xt=Ut[sn],Qt=Xt.privateDict;if(!Qt||!Xt.hasName("Private"))throw new wt.FormatError("There must be a private dictionary.");const ln=new Wt,on=this.compileDict(Qt,ln);let cn=Ht.length;if(ln.offset(cn),on.length||(cn=0),Mt[sn].setEntryLocation("Private",[on.length,cn],Ht),Ht.add(on),Qt.subrsIndex&&Qt.hasName("Subrs")){const rn=this.compileIndex(Qt.subrsIndex);ln.setEntryLocation("Subrs",[on.length],Ht),Ht.add(rn)}}}compileDict(Ut,Mt){const Ht=[];for(const sn of Ut.order){if(!(sn in Ut.values))continue;let zt=Ut.values[sn],Xt=Ut.types[sn];if(Array.isArray(Xt)||(Xt=[Xt]),Array.isArray(zt)||(zt=[zt]),zt.length!==0){for(let Qt=0,ln=Xt.length;Qt<ln;++Qt){const on=Xt[Qt],cn=zt[Qt];switch(on){case"num":case"sid":Ht.push(...this.encodeNumber(cn));break;case"offset":const rn=Ut.keyToNameMap[sn];Mt.isTracking(rn)||Mt.track(rn,Ht.length),Ht.push(29,0,0,0,0);break;case"array":case"delta":Ht.push(...this.encodeNumber(cn));for(let an=1,xn=zt.length;an<xn;++an)Ht.push(...this.encodeNumber(zt[an]));break;default:throw new wt.FormatError(`Unknown data type of ${on}`)}}Ht.push(...Ut.opcodes[sn])}}return Ht}compileStringIndex(Ut){const Mt=new Rt;for(const Ht of Ut)Mt.add((0,wt.stringToBytes)(Ht));return this.compileIndex(Mt)}compileCharStrings(Ut){const Mt=new Rt;for(let Ht=0;Ht<Ut.count;Ht++){const sn=Ut.get(Ht);if(sn.length===0){Mt.add(new Uint8Array([139,14]));continue}Mt.add(sn)}return this.compileIndex(Mt)}compileCharset(Ut,Mt,Ht,sn){let zt;const Xt=Mt-1;if(sn)zt=new Uint8Array([2,0,0,Xt>>8&255,Xt&255]);else{const Qt=1+Xt*2;zt=new Uint8Array(Qt),zt[0]=0;let ln=0;const on=Ut.charset.length;let cn=!1;for(let rn=1;rn<zt.length;rn+=2){let an=0;if(ln<on){const xn=Ut.charset[ln++];an=Ht.getSID(xn),an===-1&&(an=0,cn||(cn=!0,(0,wt.warn)(`Couldn't find ${xn} in CFF strings`)))}zt[rn]=an>>8&255,zt[rn+1]=an&255}}return this.compileTypedArray(zt)}compileEncoding(Ut){return this.compileTypedArray(Ut.raw)}compileFDSelect(Ut){const Mt=Ut.format;let Ht,sn;switch(Mt){case 0:for(Ht=new Uint8Array(1+Ut.fdSelect.length),Ht[0]=Mt,sn=0;sn<Ut.fdSelect.length;sn++)Ht[sn+1]=Ut.fdSelect[sn];break;case 3:const zt=0;let Xt=Ut.fdSelect[0];const Qt=[Mt,0,0,zt>>8&255,zt&255,Xt];for(sn=1;sn<Ut.fdSelect.length;sn++){const on=Ut.fdSelect[sn];on!==Xt&&(Qt.push(sn>>8&255,sn&255,on),Xt=on)}const ln=(Qt.length-3)/3;Qt[1]=ln>>8&255,Qt[2]=ln&255,Qt.push(sn>>8&255,sn&255),Ht=new Uint8Array(Qt);break}return this.compileTypedArray(Ht)}compileTypedArray(Ut){return Array.from(Ut)}compileIndex(Ut,Mt=[]){const Ht=Ut.objects,sn=Ht.length;if(sn===0)return[0,0];const zt=[sn>>8&255,sn&255];let Xt=1,Qt;for(Qt=0;Qt<sn;++Qt)Xt+=Ht[Qt].length;let ln;Xt<256?ln=1:Xt<65536?ln=2:Xt<16777216?ln=3:ln=4,zt.push(ln);let on=1;for(Qt=0;Qt<sn+1;Qt++)ln===1?zt.push(on&255):ln===2?zt.push(on>>8&255,on&255):ln===3?zt.push(on>>16&255,on>>8&255,on&255):zt.push(on>>>24&255,on>>16&255,on>>8&255,on&255),Ht[Qt]&&(on+=Ht[Qt].length);for(Qt=0;Qt<sn;Qt++)Mt[Qt]&&Mt[Qt].offset(zt.length),zt.push(...Ht[Qt]);return zt}}Et.CFFCompiler=Yt},(Ct,Et)=>{Object.defineProperty(Et,"__esModule",{value:!0}),Et.ISOAdobeCharset=Et.ExpertSubsetCharset=Et.ExpertCharset=void 0;const Pt=[".notdef","space","exclam","quotedbl","numbersign","dollar","percent","ampersand","quoteright","parenleft","parenright","asterisk","plus","comma","hyphen","period","slash","zero","one","two","three","four","five","six","seven","eight","nine","colon","semicolon","less","equal","greater","question","at","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","bracketleft","backslash","bracketright","asciicircum","underscore","quoteleft","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","braceleft","bar","braceright","asciitilde","exclamdown","cent","sterling","fraction","yen","florin","section","currency","quotesingle","quotedblleft","guillemotleft","guilsinglleft","guilsinglright","fi","fl","endash","dagger","daggerdbl","periodcentered","paragraph","bullet","quotesinglbase","quotedblbase","quotedblright","guillemotright","ellipsis","perthousand","questiondown","grave","acute","circumflex","tilde","macron","breve","dotaccent","dieresis","ring","cedilla","hungarumlaut","ogonek","caron","emdash","AE","ordfeminine","Lslash","Oslash","OE","ordmasculine","ae","dotlessi","lslash","oslash","oe","germandbls","onesuperior","logicalnot","mu","trademark","Eth","onehalf","plusminus","Thorn","onequarter","divide","brokenbar","degree","thorn","threequarters","twosuperior","registered","minus","eth","multiply","threesuperior","copyright","Aacute","Acircumflex","Adieresis","Agrave","Aring","Atilde","Ccedilla","Eacute","Ecircumflex","Edieresis","Egrave","Iacute","Icircumflex","Idieresis","Igrave","Ntilde","Oacute","Ocircumflex","Odieresis","Ograve","Otilde","Scaron","Uacute","Ucircumflex","Udieresis","Ugrave","Yacute","Ydieresis","Zcaron","aacute","acircumflex","adieresis","agrave","aring","atilde","ccedilla","eacute","ecircumflex","edieresis","egrave","iacute","icircumflex","idieresis","igrave","ntilde","oacute","ocircumflex","odieresis","ograve","otilde","scaron","uacute","ucircumflex","udieresis","ugrave","yacute","ydieresis","zcaron"];Et.ISOAdobeCharset=Pt;const wt=[".notdef","space","exclamsmall","Hungarumlautsmall","dollaroldstyle","dollarsuperior","ampersandsmall","Acutesmall","parenleftsuperior","parenrightsuperior","twodotenleader","onedotenleader","comma","hyphen","period","fraction","zerooldstyle","oneoldstyle","twooldstyle","threeoldstyle","fouroldstyle","fiveoldstyle","sixoldstyle","sevenoldstyle","eightoldstyle","nineoldstyle","colon","semicolon","commasuperior","threequartersemdash","periodsuperior","questionsmall","asuperior","bsuperior","centsuperior","dsuperior","esuperior","isuperior","lsuperior","msuperior","nsuperior","osuperior","rsuperior","ssuperior","tsuperior","ff","fi","fl","ffi","ffl","parenleftinferior","parenrightinferior","Circumflexsmall","hyphensuperior","Gravesmall","Asmall","Bsmall","Csmall","Dsmall","Esmall","Fsmall","Gsmall","Hsmall","Ismall","Jsmall","Ksmall","Lsmall","Msmall","Nsmall","Osmall","Psmall","Qsmall","Rsmall","Ssmall","Tsmall","Usmall","Vsmall","Wsmall","Xsmall","Ysmall","Zsmall","colonmonetary","onefitted","rupiah","Tildesmall","exclamdownsmall","centoldstyle","Lslashsmall","Scaronsmall","Zcaronsmall","Dieresissmall","Brevesmall","Caronsmall","Dotaccentsmall","Macronsmall","figuredash","hypheninferior","Ogoneksmall","Ringsmall","Cedillasmall","onequarter","onehalf","threequarters","questiondownsmall","oneeighth","threeeighths","fiveeighths","seveneighths","onethird","twothirds","zerosuperior","onesuperior","twosuperior","threesuperior","foursuperior","fivesuperior","sixsuperior","sevensuperior","eightsuperior","ninesuperior","zeroinferior","oneinferior","twoinferior","threeinferior","fourinferior","fiveinferior","sixinferior","seveninferior","eightinferior","nineinferior","centinferior","dollarinferior","periodinferior","commainferior","Agravesmall","Aacutesmall","Acircumflexsmall","Atildesmall","Adieresissmall","Aringsmall","AEsmall","Ccedillasmall","Egravesmall","Eacutesmall","Ecircumflexsmall","Edieresissmall","Igravesmall","Iacutesmall","Icircumflexsmall","Idieresissmall","Ethsmall","Ntildesmall","Ogravesmall","Oacutesmall","Ocircumflexsmall","Otildesmall","Odieresissmall","OEsmall","Oslashsmall","Ugravesmall","Uacutesmall","Ucircumflexsmall","Udieresissmall","Yacutesmall","Thornsmall","Ydieresissmall"];Et.ExpertCharset=wt;const kt=[".notdef","space","dollaroldstyle","dollarsuperior","parenleftsuperior","parenrightsuperior","twodotenleader","onedotenleader","comma","hyphen","period","fraction","zerooldstyle","oneoldstyle","twooldstyle","threeoldstyle","fouroldstyle","fiveoldstyle","sixoldstyle","sevenoldstyle","eightoldstyle","nineoldstyle","colon","semicolon","commasuperior","threequartersemdash","periodsuperior","asuperior","bsuperior","centsuperior","dsuperior","esuperior","isuperior","lsuperior","msuperior","nsuperior","osuperior","rsuperior","ssuperior","tsuperior","ff","fi","fl","ffi","ffl","parenleftinferior","parenrightinferior","hyphensuperior","colonmonetary","onefitted","rupiah","centoldstyle","figuredash","hypheninferior","onequarter","onehalf","threequarters","oneeighth","threeeighths","fiveeighths","seveneighths","onethird","twothirds","zerosuperior","onesuperior","twosuperior","threesuperior","foursuperior","fivesuperior","sixsuperior","sevensuperior","eightsuperior","ninesuperior","zeroinferior","oneinferior","twoinferior","threeinferior","fourinferior","fiveinferior","sixinferior","seveninferior","eightinferior","nineinferior","centinferior","dollarinferior","periodinferior","commainferior"];Et.ExpertSubsetCharset=kt},(Ct,Et)=>{Object.defineProperty(Et,"__esModule",{value:!0}),Et.ZapfDingbatsEncoding=Et.WinAnsiEncoding=Et.SymbolSetEncoding=Et.StandardEncoding=Et.MacRomanEncoding=Et.ExpertEncoding=void 0,Et.getEncoding=Vt;const Pt=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","space","exclamsmall","Hungarumlautsmall","","dollaroldstyle","dollarsuperior","ampersandsmall","Acutesmall","parenleftsuperior","parenrightsuperior","twodotenleader","onedotenleader","comma","hyphen","period","fraction","zerooldstyle","oneoldstyle","twooldstyle","threeoldstyle","fouroldstyle","fiveoldstyle","sixoldstyle","sevenoldstyle","eightoldstyle","nineoldstyle","colon","semicolon","commasuperior","threequartersemdash","periodsuperior","questionsmall","","asuperior","bsuperior","centsuperior","dsuperior","esuperior","","","","isuperior","","","lsuperior","msuperior","nsuperior","osuperior","","","rsuperior","ssuperior","tsuperior","","ff","fi","fl","ffi","ffl","parenleftinferior","","parenrightinferior","Circumflexsmall","hyphensuperior","Gravesmall","Asmall","Bsmall","Csmall","Dsmall","Esmall","Fsmall","Gsmall","Hsmall","Ismall","Jsmall","Ksmall","Lsmall","Msmall","Nsmall","Osmall","Psmall","Qsmall","Rsmall","Ssmall","Tsmall","Usmall","Vsmall","Wsmall","Xsmall","Ysmall","Zsmall","colonmonetary","onefitted","rupiah","Tildesmall","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","exclamdownsmall","centoldstyle","Lslashsmall","","","Scaronsmall","Zcaronsmall","Dieresissmall","Brevesmall","Caronsmall","","Dotaccentsmall","","","Macronsmall","","","figuredash","hypheninferior","","","Ogoneksmall","Ringsmall","Cedillasmall","","","","onequarter","onehalf","threequarters","questiondownsmall","oneeighth","threeeighths","fiveeighths","seveneighths","onethird","twothirds","","","zerosuperior","onesuperior","twosuperior","threesuperior","foursuperior","fivesuperior","sixsuperior","sevensuperior","eightsuperior","ninesuperior","zeroinferior","oneinferior","twoinferior","threeinferior","fourinferior","fiveinferior","sixinferior","seveninferior","eightinferior","nineinferior","centinferior","dollarinferior","periodinferior","commainferior","Agravesmall","Aacutesmall","Acircumflexsmall","Atildesmall","Adieresissmall","Aringsmall","AEsmall","Ccedillasmall","Egravesmall","Eacutesmall","Ecircumflexsmall","Edieresissmall","Igravesmall","Iacutesmall","Icircumflexsmall","Idieresissmall","Ethsmall","Ntildesmall","Ogravesmall","Oacutesmall","Ocircumflexsmall","Otildesmall","Odieresissmall","OEsmall","Oslashsmall","Ugravesmall","Uacutesmall","Ucircumflexsmall","Udieresissmall","Yacutesmall","Thornsmall","Ydieresissmall"];Et.ExpertEncoding=Pt;const wt=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","space","exclamsmall","Hungarumlautsmall","centoldstyle","dollaroldstyle","dollarsuperior","ampersandsmall","Acutesmall","parenleftsuperior","parenrightsuperior","twodotenleader","onedotenleader","comma","hyphen","period","fraction","zerooldstyle","oneoldstyle","twooldstyle","threeoldstyle","fouroldstyle","fiveoldstyle","sixoldstyle","sevenoldstyle","eightoldstyle","nineoldstyle","colon","semicolon","","threequartersemdash","","questionsmall","","","","","Ethsmall","","","onequarter","onehalf","threequarters","oneeighth","threeeighths","fiveeighths","seveneighths","onethird","twothirds","","","","","","","ff","fi","fl","ffi","ffl","parenleftinferior","","parenrightinferior","Circumflexsmall","hypheninferior","Gravesmall","Asmall","Bsmall","Csmall","Dsmall","Esmall","Fsmall","Gsmall","Hsmall","Ismall","Jsmall","Ksmall","Lsmall","Msmall","Nsmall","Osmall","Psmall","Qsmall","Rsmall","Ssmall","Tsmall","Usmall","Vsmall","Wsmall","Xsmall","Ysmall","Zsmall","colonmonetary","onefitted","rupiah","Tildesmall","","","asuperior","centsuperior","","","","","Aacutesmall","Agravesmall","Acircumflexsmall","Adieresissmall","Atildesmall","Aringsmall","Ccedillasmall","Eacutesmall","Egravesmall","Ecircumflexsmall","Edieresissmall","Iacutesmall","Igravesmall","Icircumflexsmall","Idieresissmall","Ntildesmall","Oacutesmall","Ogravesmall","Ocircumflexsmall","Odieresissmall","Otildesmall","Uacutesmall","Ugravesmall","Ucircumflexsmall","Udieresissmall","","eightsuperior","fourinferior","threeinferior","sixinferior","eightinferior","seveninferior","Scaronsmall","","centinferior","twoinferior","","Dieresissmall","","Caronsmall","osuperior","fiveinferior","","commainferior","periodinferior","Yacutesmall","","dollarinferior","","","Thornsmall","","nineinferior","zeroinferior","Zcaronsmall","AEsmall","Oslashsmall","questiondownsmall","oneinferior","Lslashsmall","","","","","","","Cedillasmall","","","","","","OEsmall","figuredash","hyphensuperior","","","","","exclamdownsmall","","Ydieresissmall","","onesuperior","twosuperior","threesuperior","foursuperior","fivesuperior","sixsuperior","sevensuperior","ninesuperior","zerosuperior","","esuperior","rsuperior","tsuperior","","","isuperior","ssuperior","dsuperior","","","","","","lsuperior","Ogoneksmall","Brevesmall","Macronsmall","bsuperior","nsuperior","msuperior","commasuperior","periodsuperior","Dotaccentsmall","Ringsmall","","","",""],kt=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","space","exclam","quotedbl","numbersign","dollar","percent","ampersand","quotesingle","parenleft","parenright","asterisk","plus","comma","hyphen","period","slash","zero","one","two","three","four","five","six","seven","eight","nine","colon","semicolon","less","equal","greater","question","at","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","bracketleft","backslash","bracketright","asciicircum","underscore","grave","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","braceleft","bar","braceright","asciitilde","","Adieresis","Aring","Ccedilla","Eacute","Ntilde","Odieresis","Udieresis","aacute","agrave","acircumflex","adieresis","atilde","aring","ccedilla","eacute","egrave","ecircumflex","edieresis","iacute","igrave","icircumflex","idieresis","ntilde","oacute","ograve","ocircumflex","odieresis","otilde","uacute","ugrave","ucircumflex","udieresis","dagger","degree","cent","sterling","section","bullet","paragraph","germandbls","registered","copyright","trademark","acute","dieresis","notequal","AE","Oslash","infinity","plusminus","lessequal","greaterequal","yen","mu","partialdiff","summation","product","pi","integral","ordfeminine","ordmasculine","Omega","ae","oslash","questiondown","exclamdown","logicalnot","radical","florin","approxequal","Delta","guillemotleft","guillemotright","ellipsis","space","Agrave","Atilde","Otilde","OE","oe","endash","emdash","quotedblleft","quotedblright","quoteleft","quoteright","divide","lozenge","ydieresis","Ydieresis","fraction","currency","guilsinglleft","guilsinglright","fi","fl","daggerdbl","periodcentered","quotesinglbase","quotedblbase","perthousand","Acircumflex","Ecircumflex","Aacute","Edieresis","Egrave","Iacute","Icircumflex","Idieresis","Igrave","Oacute","Ocircumflex","apple","Ograve","Uacute","Ucircumflex","Ugrave","dotlessi","circumflex","tilde","macron","breve","dotaccent","ring","cedilla","hungarumlaut","ogonek","caron"];Et.MacRomanEncoding=kt;const _t=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","space","exclam","quotedbl","numbersign","dollar","percent","ampersand","quoteright","parenleft","parenright","asterisk","plus","comma","hyphen","period","slash","zero","one","two","three","four","five","six","seven","eight","nine","colon","semicolon","less","equal","greater","question","at","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","bracketleft","backslash","bracketright","asciicircum","underscore","quoteleft","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","braceleft","bar","braceright","asciitilde","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","exclamdown","cent","sterling","fraction","yen","florin","section","currency","quotesingle","quotedblleft","guillemotleft","guilsinglleft","guilsinglright","fi","fl","","endash","dagger","daggerdbl","periodcentered","","paragraph","bullet","quotesinglbase","quotedblbase","quotedblright","guillemotright","ellipsis","perthousand","","questiondown","","grave","acute","circumflex","tilde","macron","breve","dotaccent","dieresis","","ring","cedilla","","hungarumlaut","ogonek","caron","emdash","","","","","","","","","","","","","","","","","AE","","ordfeminine","","","","","Lslash","Oslash","OE","ordmasculine","","","","","","ae","","","","dotlessi","","","lslash","oslash","oe","germandbls","","","",""];Et.StandardEncoding=_t;const ht=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","space","exclam","quotedbl","numbersign","dollar","percent","ampersand","quotesingle","parenleft","parenright","asterisk","plus","comma","hyphen","period","slash","zero","one","two","three","four","five","six","seven","eight","nine","colon","semicolon","less","equal","greater","question","at","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","bracketleft","backslash","bracketright","asciicircum","underscore","grave","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","braceleft","bar","braceright","asciitilde","bullet","Euro","bullet","quotesinglbase","florin","quotedblbase","ellipsis","dagger","daggerdbl","circumflex","perthousand","Scaron","guilsinglleft","OE","bullet","Zcaron","bullet","bullet","quoteleft","quoteright","quotedblleft","quotedblright","bullet","endash","emdash","tilde","trademark","scaron","guilsinglright","oe","bullet","zcaron","Ydieresis","space","exclamdown","cent","sterling","currency","yen","brokenbar","section","dieresis","copyright","ordfeminine","guillemotleft","logicalnot","hyphen","registered","macron","degree","plusminus","twosuperior","threesuperior","acute","mu","paragraph","periodcentered","cedilla","onesuperior","ordmasculine","guillemotright","onequarter","onehalf","threequarters","questiondown","Agrave","Aacute","Acircumflex","Atilde","Adieresis","Aring","AE","Ccedilla","Egrave","Eacute","Ecircumflex","Edieresis","Igrave","Iacute","Icircumflex","Idieresis","Eth","Ntilde","Ograve","Oacute","Ocircumflex","Otilde","Odieresis","multiply","Oslash","Ugrave","Uacute","Ucircumflex","Udieresis","Yacute","Thorn","germandbls","agrave","aacute","acircumflex","atilde","adieresis","aring","ae","ccedilla","egrave","eacute","ecircumflex","edieresis","igrave","iacute","icircumflex","idieresis","eth","ntilde","ograve","oacute","ocircumflex","otilde","odieresis","divide","oslash","ugrave","uacute","ucircumflex","udieresis","yacute","thorn","ydieresis"];Et.WinAnsiEncoding=ht;const vt=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","space","exclam","universal","numbersign","existential","percent","ampersand","suchthat","parenleft","parenright","asteriskmath","plus","comma","minus","period","slash","zero","one","two","three","four","five","six","seven","eight","nine","colon","semicolon","less","equal","greater","question","congruent","Alpha","Beta","Chi","Delta","Epsilon","Phi","Gamma","Eta","Iota","theta1","Kappa","Lambda","Mu","Nu","Omicron","Pi","Theta","Rho","Sigma","Tau","Upsilon","sigma1","Omega","Xi","Psi","Zeta","bracketleft","therefore","bracketright","perpendicular","underscore","radicalex","alpha","beta","chi","delta","epsilon","phi","gamma","eta","iota","phi1","kappa","lambda","mu","nu","omicron","pi","theta","rho","sigma","tau","upsilon","omega1","omega","xi","psi","zeta","braceleft","bar","braceright","similar","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","Euro","Upsilon1","minute","lessequal","fraction","infinity","florin","club","diamond","heart","spade","arrowboth","arrowleft","arrowup","arrowright","arrowdown","degree","plusminus","second","greaterequal","multiply","proportional","partialdiff","bullet","divide","notequal","equivalence","approxequal","ellipsis","arrowvertex","arrowhorizex","carriagereturn","aleph","Ifraktur","Rfraktur","weierstrass","circlemultiply","circleplus","emptyset","intersection","union","propersuperset","reflexsuperset","notsubset","propersubset","reflexsubset","element","notelement","angle","gradient","registerserif","copyrightserif","trademarkserif","product","radical","dotmath","logicalnot","logicaland","logicalor","arrowdblboth","arrowdblleft","arrowdblup","arrowdblright","arrowdbldown","lozenge","angleleft","registersans","copyrightsans","trademarksans","summation","parenlefttp","parenleftex","parenleftbt","bracketlefttp","bracketleftex","bracketleftbt","bracelefttp","braceleftmid","braceleftbt","braceex","","angleright","integral","integraltp","integralex","integralbt","parenrighttp","parenrightex","parenrightbt","bracketrighttp","bracketrightex","bracketrightbt","bracerighttp","bracerightmid","bracerightbt",""];Et.SymbolSetEncoding=vt;const Ft=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","space","a1","a2","a202","a3","a4","a5","a119","a118","a117","a11","a12","a13","a14","a15","a16","a105","a17","a18","a19","a20","a21","a22","a23","a24","a25","a26","a27","a28","a6","a7","a8","a9","a10","a29","a30","a31","a32","a33","a34","a35","a36","a37","a38","a39","a40","a41","a42","a43","a44","a45","a46","a47","a48","a49","a50","a51","a52","a53","a54","a55","a56","a57","a58","a59","a60","a61","a62","a63","a64","a65","a66","a67","a68","a69","a70","a71","a72","a73","a74","a203","a75","a204","a76","a77","a78","a79","a81","a82","a83","a84","a97","a98","a99","a100","","a89","a90","a93","a94","a91","a92","a205","a85","a206","a86","a87","a88","a95","a96","","","","","","","","","","","","","","","","","","","","a101","a102","a103","a104","a106","a107","a108","a112","a111","a110","a109","a120","a121","a122","a123","a124","a125","a126","a127","a128","a129","a130","a131","a132","a133","a134","a135","a136","a137","a138","a139","a140","a141","a142","a143","a144","a145","a146","a147","a148","a149","a150","a151","a152","a153","a154","a155","a156","a157","a158","a159","a160","a161","a163","a164","a196","a165","a192","a166","a167","a168","a169","a170","a171","a172","a173","a162","a174","a175","a176","a177","a178","a179","a193","a180","a199","a181","a200","a182","","a201","a183","a184","a197","a185","a194","a198","a186","a195","a187","a188","a189","a190","a191",""];Et.ZapfDingbatsEncoding=Ft;function Vt(qt){switch(qt){case"WinAnsiEncoding":return ht;case"StandardEncoding":return _t;case"MacRomanEncoding":return kt;case"SymbolSetEncoding":return vt;case"ZapfDingbatsEncoding":return Ft;case"ExpertEncoding":return Pt;case"MacExpertEncoding":return wt;default:return null}}},(Ct,Et,Pt)=>{Object.defineProperty(Et,"__esModule",{value:!0}),Et.SEAC_ANALYSIS_ENABLED=Et.MacStandardGlyphOrdering=Et.FontFlags=void 0,Et.normalizeFontName=$t,Et.recoverGlyphName=qt,Et.type1FontGlyphMapping=Lt;var wt=Pt(37),kt=Pt(39),_t=Pt(40),ht=Pt(2);const vt=!0;Et.SEAC_ANALYSIS_ENABLED=vt;const Ft={FixedPitch:1,Serif:2,Symbolic:4,Script:8,Nonsymbolic:32,Italic:64,AllCap:65536,SmallCap:131072,ForceBold:262144};Et.FontFlags=Ft;const Vt=[".notdef",".null","nonmarkingreturn","space","exclam","quotedbl","numbersign","dollar","percent","ampersand","quotesingle","parenleft","parenright","asterisk","plus","comma","hyphen","period","slash","zero","one","two","three","four","five","six","seven","eight","nine","colon","semicolon","less","equal","greater","question","at","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","bracketleft","backslash","bracketright","asciicircum","underscore","grave","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","braceleft","bar","braceright","asciitilde","Adieresis","Aring","Ccedilla","Eacute","Ntilde","Odieresis","Udieresis","aacute","agrave","acircumflex","adieresis","atilde","aring","ccedilla","eacute","egrave","ecircumflex","edieresis","iacute","igrave","icircumflex","idieresis","ntilde","oacute","ograve","ocircumflex","odieresis","otilde","uacute","ugrave","ucircumflex","udieresis","dagger","degree","cent","sterling","section","bullet","paragraph","germandbls","registered","copyright","trademark","acute","dieresis","notequal","AE","Oslash","infinity","plusminus","lessequal","greaterequal","yen","mu","partialdiff","summation","product","pi","integral","ordfeminine","ordmasculine","Omega","ae","oslash","questiondown","exclamdown","logicalnot","radical","florin","approxequal","Delta","guillemotleft","guillemotright","ellipsis","nonbreakingspace","Agrave","Atilde","Otilde","OE","oe","endash","emdash","quotedblleft","quotedblright","quoteleft","quoteright","divide","lozenge","ydieresis","Ydieresis","fraction","currency","guilsinglleft","guilsinglright","fi","fl","daggerdbl","periodcentered","quotesinglbase","quotedblbase","perthousand","Acircumflex","Ecircumflex","Aacute","Edieresis","Egrave","Iacute","Icircumflex","Idieresis","Igrave","Oacute","Ocircumflex","apple","Ograve","Uacute","Ucircumflex","Ugrave","dotlessi","circumflex","tilde","macron","breve","dotaccent","ring","cedilla","hungarumlaut","ogonek","caron","Lslash","lslash","Scaron","scaron","Zcaron","zcaron","brokenbar","Eth","eth","Yacute","yacute","Thorn","thorn","minus","multiply","onesuperior","twosuperior","threesuperior","onehalf","onequarter","threequarters","franc","Gbreve","gbreve","Idotaccent","Scedilla","scedilla","Cacute","cacute","Ccaron","ccaron","dcroat"];Et.MacStandardGlyphOrdering=Vt;function qt(Ot,jt){if(jt[Ot]!==void 0)return Ot;const Rt=(0,_t.getUnicodeForGlyph)(Ot,jt);if(Rt!==-1){for(const Kt in jt)if(jt[Kt]===Rt)return Kt}return(0,ht.info)("Unable to recover a standard glyph name for: "+Ot),Ot}function Lt(Ot,jt,Rt){const Kt=Object.create(null);let Bt,Gt,en;const hn=!!(Ot.flags&Ft.Symbolic);if(Ot.isInternalFont)for(en=jt,Gt=0;Gt<en.length;Gt++)Bt=Rt.indexOf(en[Gt]),Kt[Gt]=Bt>=0?Bt:0;else if(Ot.baseEncodingName)for(en=(0,wt.getEncoding)(Ot.baseEncodingName),Gt=0;Gt<en.length;Gt++)Bt=Rt.indexOf(en[Gt]),Kt[Gt]=Bt>=0?Bt:0;else if(hn)for(Gt in jt)Kt[Gt]=jt[Gt];else for(en=wt.StandardEncoding,Gt=0;Gt<en.length;Gt++)Bt=Rt.indexOf(en[Gt]),Kt[Gt]=Bt>=0?Bt:0;const tn=Ot.differences;let gn;if(tn)for(Gt in tn){const nn=tn[Gt];if(Bt=Rt.indexOf(nn),Bt===-1){gn||(gn=(0,kt.getGlyphsUnicode)());const bn=qt(nn,gn);bn!==nn&&(Bt=Rt.indexOf(bn))}Kt[Gt]=Bt>=0?Bt:0}return Kt}function $t(Ot){return Ot.replaceAll(/[,_]/g,"-").replaceAll(/\s/g,"")}},(Ct,Et,Pt)=>{Object.defineProperty(Et,"__esModule",{value:!0}),Et.getGlyphsUnicode=Et.getDingbatsGlyphsUnicode=void 0;var wt=Pt(3);const kt=(0,wt.getLookupTableFactory)(function(ht){ht.A=65,ht.AE=198,ht.AEacute=508,ht.AEmacron=482,ht.AEsmall=63462,ht.Aacute=193,ht.Aacutesmall=63457,ht.Abreve=258,ht.Abreveacute=7854,ht.Abrevecyrillic=1232,ht.Abrevedotbelow=7862,ht.Abrevegrave=7856,ht.Abrevehookabove=7858,ht.Abrevetilde=7860,ht.Acaron=461,ht.Acircle=9398,ht.Acircumflex=194,ht.Acircumflexacute=7844,ht.Acircumflexdotbelow=7852,ht.Acircumflexgrave=7846,ht.Acircumflexhookabove=7848,ht.Acircumflexsmall=63458,ht.Acircumflextilde=7850,ht.Acute=63177,ht.Acutesmall=63412,ht.Acyrillic=1040,ht.Adblgrave=512,ht.Adieresis=196,ht.Adieresiscyrillic=1234,ht.Adieresismacron=478,ht.Adieresissmall=63460,ht.Adotbelow=7840,ht.Adotmacron=480,ht.Agrave=192,ht.Agravesmall=63456,ht.Ahookabove=7842,ht.Aiecyrillic=1236,ht.Ainvertedbreve=514,ht.Alpha=913,ht.Alphatonos=902,ht.Amacron=256,ht.Amonospace=65313,ht.Aogonek=260,ht.Aring=197,ht.Aringacute=506,ht.Aringbelow=7680,ht.Aringsmall=63461,ht.Asmall=63329,ht.Atilde=195,ht.Atildesmall=63459,ht.Aybarmenian=1329,ht.B=66,ht.Bcircle=9399,ht.Bdotaccent=7682,ht.Bdotbelow=7684,ht.Becyrillic=1041,ht.Benarmenian=1330,ht.Beta=914,ht.Bhook=385,ht.Blinebelow=7686,ht.Bmonospace=65314,ht.Brevesmall=63220,ht.Bsmall=63330,ht.Btopbar=386,ht.C=67,ht.Caarmenian=1342,ht.Cacute=262,ht.Caron=63178,ht.Caronsmall=63221,ht.Ccaron=268,ht.Ccedilla=199,ht.Ccedillaacute=7688,ht.Ccedillasmall=63463,ht.Ccircle=9400,ht.Ccircumflex=264,ht.Cdot=266,ht.Cdotaccent=266,ht.Cedillasmall=63416,ht.Chaarmenian=1353,ht.Cheabkhasiancyrillic=1212,ht.Checyrillic=1063,ht.Chedescenderabkhasiancyrillic=1214,ht.Chedescendercyrillic=1206,ht.Chedieresiscyrillic=1268,ht.Cheharmenian=1347,ht.Chekhakassiancyrillic=1227,ht.Cheverticalstrokecyrillic=1208,ht.Chi=935,ht.Chook=391,ht.Circumflexsmall=63222,ht.Cmonospace=65315,ht.Coarmenian=1361,ht.Csmall=63331,ht.D=68,ht.DZ=497,ht.DZcaron=452,ht.Daarmenian=1332,ht.Dafrican=393,ht.Dcaron=270,ht.Dcedilla=7696,ht.Dcircle=9401,ht.Dcircumflexbelow=7698,ht.Dcroat=272,ht.Ddotaccent=7690,ht.Ddotbelow=7692,ht.Decyrillic=1044,ht.Deicoptic=1006,ht.Delta=8710,ht.Deltagreek=916,ht.Dhook=394,ht.Dieresis=63179,ht.DieresisAcute=63180,ht.DieresisGrave=63181,ht.Dieresissmall=63400,ht.Digammagreek=988,ht.Djecyrillic=1026,ht.Dlinebelow=7694,ht.Dmonospace=65316,ht.Dotaccentsmall=63223,ht.Dslash=272,ht.Dsmall=63332,ht.Dtopbar=395,ht.Dz=498,ht.Dzcaron=453,ht.Dzeabkhasiancyrillic=1248,ht.Dzecyrillic=1029,ht.Dzhecyrillic=1039,ht.E=69,ht.Eacute=201,ht.Eacutesmall=63465,ht.Ebreve=276,ht.Ecaron=282,ht.Ecedillabreve=7708,ht.Echarmenian=1333,ht.Ecircle=9402,ht.Ecircumflex=202,ht.Ecircumflexacute=7870,ht.Ecircumflexbelow=7704,ht.Ecircumflexdotbelow=7878,ht.Ecircumflexgrave=7872,ht.Ecircumflexhookabove=7874,ht.Ecircumflexsmall=63466,ht.Ecircumflextilde=7876,ht.Ecyrillic=1028,ht.Edblgrave=516,ht.Edieresis=203,ht.Edieresissmall=63467,ht.Edot=278,ht.Edotaccent=278,ht.Edotbelow=7864,ht.Efcyrillic=1060,ht.Egrave=200,ht.Egravesmall=63464,ht.Eharmenian=1335,ht.Ehookabove=7866,ht.Eightroman=8551,ht.Einvertedbreve=518,ht.Eiotifiedcyrillic=1124,ht.Elcyrillic=1051,ht.Elevenroman=8554,ht.Emacron=274,ht.Emacronacute=7702,ht.Emacrongrave=7700,ht.Emcyrillic=1052,ht.Emonospace=65317,ht.Encyrillic=1053,ht.Endescendercyrillic=1186,ht.Eng=330,ht.Enghecyrillic=1188,ht.Enhookcyrillic=1223,ht.Eogonek=280,ht.Eopen=400,ht.Epsilon=917,ht.Epsilontonos=904,ht.Ercyrillic=1056,ht.Ereversed=398,ht.Ereversedcyrillic=1069,ht.Escyrillic=1057,ht.Esdescendercyrillic=1194,ht.Esh=425,ht.Esmall=63333,ht.Eta=919,ht.Etarmenian=1336,ht.Etatonos=905,ht.Eth=208,ht.Ethsmall=63472,ht.Etilde=7868,ht.Etildebelow=7706,ht.Euro=8364,ht.Ezh=439,ht.Ezhcaron=494,ht.Ezhreversed=440,ht.F=70,ht.Fcircle=9403,ht.Fdotaccent=7710,ht.Feharmenian=1366,ht.Feicoptic=996,ht.Fhook=401,ht.Fitacyrillic=1138,ht.Fiveroman=8548,ht.Fmonospace=65318,ht.Fourroman=8547,ht.Fsmall=63334,ht.G=71,ht.GBsquare=13191,ht.Gacute=500,ht.Gamma=915,ht.Gammaafrican=404,ht.Gangiacoptic=1002,ht.Gbreve=286,ht.Gcaron=486,ht.Gcedilla=290,ht.Gcircle=9404,ht.Gcircumflex=284,ht.Gcommaaccent=290,ht.Gdot=288,ht.Gdotaccent=288,ht.Gecyrillic=1043,ht.Ghadarmenian=1346,ht.Ghemiddlehookcyrillic=1172,ht.Ghestrokecyrillic=1170,ht.Gheupturncyrillic=1168,ht.Ghook=403,ht.Gimarmenian=1331,ht.Gjecyrillic=1027,ht.Gmacron=7712,ht.Gmonospace=65319,ht.Grave=63182,ht.Gravesmall=63328,ht.Gsmall=63335,ht.Gsmallhook=667,ht.Gstroke=484,ht.H=72,ht.H18533=9679,ht.H18543=9642,ht.H18551=9643,ht.H22073=9633,ht.HPsquare=13259,ht.Haabkhasiancyrillic=1192,ht.Hadescendercyrillic=1202,ht.Hardsigncyrillic=1066,ht.Hbar=294,ht.Hbrevebelow=7722,ht.Hcedilla=7720,ht.Hcircle=9405,ht.Hcircumflex=292,ht.Hdieresis=7718,ht.Hdotaccent=7714,ht.Hdotbelow=7716,ht.Hmonospace=65320,ht.Hoarmenian=1344,ht.Horicoptic=1e3,ht.Hsmall=63336,ht.Hungarumlaut=63183,ht.Hungarumlautsmall=63224,ht.Hzsquare=13200,ht.I=73,ht.IAcyrillic=1071,ht.IJ=306,ht.IUcyrillic=1070,ht.Iacute=205,ht.Iacutesmall=63469,ht.Ibreve=300,ht.Icaron=463,ht.Icircle=9406,ht.Icircumflex=206,ht.Icircumflexsmall=63470,ht.Icyrillic=1030,ht.Idblgrave=520,ht.Idieresis=207,ht.Idieresisacute=7726,ht.Idieresiscyrillic=1252,ht.Idieresissmall=63471,ht.Idot=304,ht.Idotaccent=304,ht.Idotbelow=7882,ht.Iebrevecyrillic=1238,ht.Iecyrillic=1045,ht.Ifraktur=8465,ht.Igrave=204,ht.Igravesmall=63468,ht.Ihookabove=7880,ht.Iicyrillic=1048,ht.Iinvertedbreve=522,ht.Iishortcyrillic=1049,ht.Imacron=298,ht.Imacroncyrillic=1250,ht.Imonospace=65321,ht.Iniarmenian=1339,ht.Iocyrillic=1025,ht.Iogonek=302,ht.Iota=921,ht.Iotaafrican=406,ht.Iotadieresis=938,ht.Iotatonos=906,ht.Ismall=63337,ht.Istroke=407,ht.Itilde=296,ht.Itildebelow=7724,ht.Izhitsacyrillic=1140,ht.Izhitsadblgravecyrillic=1142,ht.J=74,ht.Jaarmenian=1345,ht.Jcircle=9407,ht.Jcircumflex=308,ht.Jecyrillic=1032,ht.Jheharmenian=1355,ht.Jmonospace=65322,ht.Jsmall=63338,ht.K=75,ht.KBsquare=13189,ht.KKsquare=13261,ht.Kabashkircyrillic=1184,ht.Kacute=7728,ht.Kacyrillic=1050,ht.Kadescendercyrillic=1178,ht.Kahookcyrillic=1219,ht.Kappa=922,ht.Kastrokecyrillic=1182,ht.Kaverticalstrokecyrillic=1180,ht.Kcaron=488,ht.Kcedilla=310,ht.Kcircle=9408,ht.Kcommaaccent=310,ht.Kdotbelow=7730,ht.Keharmenian=1364,ht.Kenarmenian=1343,ht.Khacyrillic=1061,ht.Kheicoptic=998,ht.Khook=408,ht.Kjecyrillic=1036,ht.Klinebelow=7732,ht.Kmonospace=65323,ht.Koppacyrillic=1152,ht.Koppagreek=990,ht.Ksicyrillic=1134,ht.Ksmall=63339,ht.L=76,ht.LJ=455,ht.LL=63167,ht.Lacute=313,ht.Lambda=923,ht.Lcaron=317,ht.Lcedilla=315,ht.Lcircle=9409,ht.Lcircumflexbelow=7740,ht.Lcommaaccent=315,ht.Ldot=319,ht.Ldotaccent=319,ht.Ldotbelow=7734,ht.Ldotbelowmacron=7736,ht.Liwnarmenian=1340,ht.Lj=456,ht.Ljecyrillic=1033,ht.Llinebelow=7738,ht.Lmonospace=65324,ht.Lslash=321,ht.Lslashsmall=63225,ht.Lsmall=63340,ht.M=77,ht.MBsquare=13190,ht.Macron=63184,ht.Macronsmall=63407,ht.Macute=7742,ht.Mcircle=9410,ht.Mdotaccent=7744,ht.Mdotbelow=7746,ht.Menarmenian=1348,ht.Mmonospace=65325,ht.Msmall=63341,ht.Mturned=412,ht.Mu=924,ht.N=78,ht.NJ=458,ht.Nacute=323,ht.Ncaron=327,ht.Ncedilla=325,ht.Ncircle=9411,ht.Ncircumflexbelow=7754,ht.Ncommaaccent=325,ht.Ndotaccent=7748,ht.Ndotbelow=7750,ht.Nhookleft=413,ht.Nineroman=8552,ht.Nj=459,ht.Njecyrillic=1034,ht.Nlinebelow=7752,ht.Nmonospace=65326,ht.Nowarmenian=1350,ht.Nsmall=63342,ht.Ntilde=209,ht.Ntildesmall=63473,ht.Nu=925,ht.O=79,ht.OE=338,ht.OEsmall=63226,ht.Oacute=211,ht.Oacutesmall=63475,ht.Obarredcyrillic=1256,ht.Obarreddieresiscyrillic=1258,ht.Obreve=334,ht.Ocaron=465,ht.Ocenteredtilde=415,ht.Ocircle=9412,ht.Ocircumflex=212,ht.Ocircumflexacute=7888,ht.Ocircumflexdotbelow=7896,ht.Ocircumflexgrave=7890,ht.Ocircumflexhookabove=7892,ht.Ocircumflexsmall=63476,ht.Ocircumflextilde=7894,ht.Ocyrillic=1054,ht.Odblacute=336,ht.Odblgrave=524,ht.Odieresis=214,ht.Odieresiscyrillic=1254,ht.Odieresissmall=63478,ht.Odotbelow=7884,ht.Ogoneksmall=63227,ht.Ograve=210,ht.Ogravesmall=63474,ht.Oharmenian=1365,ht.Ohm=8486,ht.Ohookabove=7886,ht.Ohorn=416,ht.Ohornacute=7898,ht.Ohorndotbelow=7906,ht.Ohorngrave=7900,ht.Ohornhookabove=7902,ht.Ohorntilde=7904,ht.Ohungarumlaut=336,ht.Oi=418,ht.Oinvertedbreve=526,ht.Omacron=332,ht.Omacronacute=7762,ht.Omacrongrave=7760,ht.Omega=8486,ht.Omegacyrillic=1120,ht.Omegagreek=937,ht.Omegaroundcyrillic=1146,ht.Omegatitlocyrillic=1148,ht.Omegatonos=911,ht.Omicron=927,ht.Omicrontonos=908,ht.Omonospace=65327,ht.Oneroman=8544,ht.Oogonek=490,ht.Oogonekmacron=492,ht.Oopen=390,ht.Oslash=216,ht.Oslashacute=510,ht.Oslashsmall=63480,ht.Osmall=63343,ht.Ostrokeacute=510,ht.Otcyrillic=1150,ht.Otilde=213,ht.Otildeacute=7756,ht.Otildedieresis=7758,ht.Otildesmall=63477,ht.P=80,ht.Pacute=7764,ht.Pcircle=9413,ht.Pdotaccent=7766,ht.Pecyrillic=1055,ht.Peharmenian=1354,ht.Pemiddlehookcyrillic=1190,ht.Phi=934,ht.Phook=420,ht.Pi=928,ht.Piwrarmenian=1363,ht.Pmonospace=65328,ht.Psi=936,ht.Psicyrillic=1136,ht.Psmall=63344,ht.Q=81,ht.Qcircle=9414,ht.Qmonospace=65329,ht.Qsmall=63345,ht.R=82,ht.Raarmenian=1356,ht.Racute=340,ht.Rcaron=344,ht.Rcedilla=342,ht.Rcircle=9415,ht.Rcommaaccent=342,ht.Rdblgrave=528,ht.Rdotaccent=7768,ht.Rdotbelow=7770,ht.Rdotbelowmacron=7772,ht.Reharmenian=1360,ht.Rfraktur=8476,ht.Rho=929,ht.Ringsmall=63228,ht.Rinvertedbreve=530,ht.Rlinebelow=7774,ht.Rmonospace=65330,ht.Rsmall=63346,ht.Rsmallinverted=641,ht.Rsmallinvertedsuperior=694,ht.S=83,ht.SF010000=9484,ht.SF020000=9492,ht.SF030000=9488,ht.SF040000=9496,ht.SF050000=9532,ht.SF060000=9516,ht.SF070000=9524,ht.SF080000=9500,ht.SF090000=9508,ht.SF100000=9472,ht.SF110000=9474,ht.SF190000=9569,ht.SF200000=9570,ht.SF210000=9558,ht.SF220000=9557,ht.SF230000=9571,ht.SF240000=9553,ht.SF250000=9559,ht.SF260000=9565,ht.SF270000=9564,ht.SF280000=9563,ht.SF360000=9566,ht.SF370000=9567,ht.SF380000=9562,ht.SF390000=9556,ht.SF400000=9577,ht.SF410000=9574,ht.SF420000=9568,ht.SF430000=9552,ht.SF440000=9580,ht.SF450000=9575,ht.SF460000=9576,ht.SF470000=9572,ht.SF480000=9573,ht.SF490000=9561,ht.SF500000=9560,ht.SF510000=9554,ht.SF520000=9555,ht.SF530000=9579,ht.SF540000=9578,ht.Sacute=346,ht.Sacutedotaccent=7780,ht.Sampigreek=992,ht.Scaron=352,ht.Scarondotaccent=7782,ht.Scaronsmall=63229,ht.Scedilla=350,ht.Schwa=399,ht.Schwacyrillic=1240,ht.Schwadieresiscyrillic=1242,ht.Scircle=9416,ht.Scircumflex=348,ht.Scommaaccent=536,ht.Sdotaccent=7776,ht.Sdotbelow=7778,ht.Sdotbelowdotaccent=7784,ht.Seharmenian=1357,ht.Sevenroman=8550,ht.Shaarmenian=1351,ht.Shacyrillic=1064,ht.Shchacyrillic=1065,ht.Sheicoptic=994,ht.Shhacyrillic=1210,ht.Shimacoptic=1004,ht.Sigma=931,ht.Sixroman=8549,ht.Smonospace=65331,ht.Softsigncyrillic=1068,ht.Ssmall=63347,ht.Stigmagreek=986,ht.T=84,ht.Tau=932,ht.Tbar=358,ht.Tcaron=356,ht.Tcedilla=354,ht.Tcircle=9417,ht.Tcircumflexbelow=7792,ht.Tcommaaccent=354,ht.Tdotaccent=7786,ht.Tdotbelow=7788,ht.Tecyrillic=1058,ht.Tedescendercyrillic=1196,ht.Tenroman=8553,ht.Tetsecyrillic=1204,ht.Theta=920,ht.Thook=428,ht.Thorn=222,ht.Thornsmall=63486,ht.Threeroman=8546,ht.Tildesmall=63230,ht.Tiwnarmenian=1359,ht.Tlinebelow=7790,ht.Tmonospace=65332,ht.Toarmenian=1337,ht.Tonefive=444,ht.Tonesix=388,ht.Tonetwo=423,ht.Tretroflexhook=430,ht.Tsecyrillic=1062,ht.Tshecyrillic=1035,ht.Tsmall=63348,ht.Twelveroman=8555,ht.Tworoman=8545,ht.U=85,ht.Uacute=218,ht.Uacutesmall=63482,ht.Ubreve=364,ht.Ucaron=467,ht.Ucircle=9418,ht.Ucircumflex=219,ht.Ucircumflexbelow=7798,ht.Ucircumflexsmall=63483,ht.Ucyrillic=1059,ht.Udblacute=368,ht.Udblgrave=532,ht.Udieresis=220,ht.Udieresisacute=471,ht.Udieresisbelow=7794,ht.Udieresiscaron=473,ht.Udieresiscyrillic=1264,ht.Udieresisgrave=475,ht.Udieresismacron=469,ht.Udieresissmall=63484,ht.Udotbelow=7908,ht.Ugrave=217,ht.Ugravesmall=63481,ht.Uhookabove=7910,ht.Uhorn=431,ht.Uhornacute=7912,ht.Uhorndotbelow=7920,ht.Uhorngrave=7914,ht.Uhornhookabove=7916,ht.Uhorntilde=7918,ht.Uhungarumlaut=368,ht.Uhungarumlautcyrillic=1266,ht.Uinvertedbreve=534,ht.Ukcyrillic=1144,ht.Umacron=362,ht.Umacroncyrillic=1262,ht.Umacrondieresis=7802,ht.Umonospace=65333,ht.Uogonek=370,ht.Upsilon=933,ht.Upsilon1=978,ht.Upsilonacutehooksymbolgreek=979,ht.Upsilonafrican=433,ht.Upsilondieresis=939,ht.Upsilondieresishooksymbolgreek=980,ht.Upsilonhooksymbol=978,ht.Upsilontonos=910,ht.Uring=366,ht.Ushortcyrillic=1038,ht.Usmall=63349,ht.Ustraightcyrillic=1198,ht.Ustraightstrokecyrillic=1200,ht.Utilde=360,ht.Utildeacute=7800,ht.Utildebelow=7796,ht.V=86,ht.Vcircle=9419,ht.Vdotbelow=7806,ht.Vecyrillic=1042,ht.Vewarmenian=1358,ht.Vhook=434,ht.Vmonospace=65334,ht.Voarmenian=1352,ht.Vsmall=63350,ht.Vtilde=7804,ht.W=87,ht.Wacute=7810,ht.Wcircle=9420,ht.Wcircumflex=372,ht.Wdieresis=7812,ht.Wdotaccent=7814,ht.Wdotbelow=7816,ht.Wgrave=7808,ht.Wmonospace=65335,ht.Wsmall=63351,ht.X=88,ht.Xcircle=9421,ht.Xdieresis=7820,ht.Xdotaccent=7818,ht.Xeharmenian=1341,ht.Xi=926,ht.Xmonospace=65336,ht.Xsmall=63352,ht.Y=89,ht.Yacute=221,ht.Yacutesmall=63485,ht.Yatcyrillic=1122,ht.Ycircle=9422,ht.Ycircumflex=374,ht.Ydieresis=376,ht.Ydieresissmall=63487,ht.Ydotaccent=7822,ht.Ydotbelow=7924,ht.Yericyrillic=1067,ht.Yerudieresiscyrillic=1272,ht.Ygrave=7922,ht.Yhook=435,ht.Yhookabove=7926,ht.Yiarmenian=1349,ht.Yicyrillic=1031,ht.Yiwnarmenian=1362,ht.Ymonospace=65337,ht.Ysmall=63353,ht.Ytilde=7928,ht.Yusbigcyrillic=1130,ht.Yusbigiotifiedcyrillic=1132,ht.Yuslittlecyrillic=1126,ht.Yuslittleiotifiedcyrillic=1128,ht.Z=90,ht.Zaarmenian=1334,ht.Zacute=377,ht.Zcaron=381,ht.Zcaronsmall=63231,ht.Zcircle=9423,ht.Zcircumflex=7824,ht.Zdot=379,ht.Zdotaccent=379,ht.Zdotbelow=7826,ht.Zecyrillic=1047,ht.Zedescendercyrillic=1176,ht.Zedieresiscyrillic=1246,ht.Zeta=918,ht.Zhearmenian=1338,ht.Zhebrevecyrillic=1217,ht.Zhecyrillic=1046,ht.Zhedescendercyrillic=1174,ht.Zhedieresiscyrillic=1244,ht.Zlinebelow=7828,ht.Zmonospace=65338,ht.Zsmall=63354,ht.Zstroke=437,ht.a=97,ht.aabengali=2438,ht.aacute=225,ht.aadeva=2310,ht.aagujarati=2694,ht.aagurmukhi=2566,ht.aamatragurmukhi=2622,ht.aarusquare=13059,ht.aavowelsignbengali=2494,ht.aavowelsigndeva=2366,ht.aavowelsigngujarati=2750,ht.abbreviationmarkarmenian=1375,ht.abbreviationsigndeva=2416,ht.abengali=2437,ht.abopomofo=12570,ht.abreve=259,ht.abreveacute=7855,ht.abrevecyrillic=1233,ht.abrevedotbelow=7863,ht.abrevegrave=7857,ht.abrevehookabove=7859,ht.abrevetilde=7861,ht.acaron=462,ht.acircle=9424,ht.acircumflex=226,ht.acircumflexacute=7845,ht.acircumflexdotbelow=7853,ht.acircumflexgrave=7847,ht.acircumflexhookabove=7849,ht.acircumflextilde=7851,ht.acute=180,ht.acutebelowcmb=791,ht.acutecmb=769,ht.acutecomb=769,ht.acutedeva=2388,ht.acutelowmod=719,ht.acutetonecmb=833,ht.acyrillic=1072,ht.adblgrave=513,ht.addakgurmukhi=2673,ht.adeva=2309,ht.adieresis=228,ht.adieresiscyrillic=1235,ht.adieresismacron=479,ht.adotbelow=7841,ht.adotmacron=481,ht.ae=230,ht.aeacute=509,ht.aekorean=12624,ht.aemacron=483,ht.afii00208=8213,ht.afii08941=8356,ht.afii10017=1040,ht.afii10018=1041,ht.afii10019=1042,ht.afii10020=1043,ht.afii10021=1044,ht.afii10022=1045,ht.afii10023=1025,ht.afii10024=1046,ht.afii10025=1047,ht.afii10026=1048,ht.afii10027=1049,ht.afii10028=1050,ht.afii10029=1051,ht.afii10030=1052,ht.afii10031=1053,ht.afii10032=1054,ht.afii10033=1055,ht.afii10034=1056,ht.afii10035=1057,ht.afii10036=1058,ht.afii10037=1059,ht.afii10038=1060,ht.afii10039=1061,ht.afii10040=1062,ht.afii10041=1063,ht.afii10042=1064,ht.afii10043=1065,ht.afii10044=1066,ht.afii10045=1067,ht.afii10046=1068,ht.afii10047=1069,ht.afii10048=1070,ht.afii10049=1071,ht.afii10050=1168,ht.afii10051=1026,ht.afii10052=1027,ht.afii10053=1028,ht.afii10054=1029,ht.afii10055=1030,ht.afii10056=1031,ht.afii10057=1032,ht.afii10058=1033,ht.afii10059=1034,ht.afii10060=1035,ht.afii10061=1036,ht.afii10062=1038,ht.afii10063=63172,ht.afii10064=63173,ht.afii10065=1072,ht.afii10066=1073,ht.afii10067=1074,ht.afii10068=1075,ht.afii10069=1076,ht.afii10070=1077,ht.afii10071=1105,ht.afii10072=1078,ht.afii10073=1079,ht.afii10074=1080,ht.afii10075=1081,ht.afii10076=1082,ht.afii10077=1083,ht.afii10078=1084,ht.afii10079=1085,ht.afii10080=1086,ht.afii10081=1087,ht.afii10082=1088,ht.afii10083=1089,ht.afii10084=1090,ht.afii10085=1091,ht.afii10086=1092,ht.afii10087=1093,ht.afii10088=1094,ht.afii10089=1095,ht.afii10090=1096,ht.afii10091=1097,ht.afii10092=1098,ht.afii10093=1099,ht.afii10094=1100,ht.afii10095=1101,ht.afii10096=1102,ht.afii10097=1103,ht.afii10098=1169,ht.afii10099=1106,ht.afii10100=1107,ht.afii10101=1108,ht.afii10102=1109,ht.afii10103=1110,ht.afii10104=1111,ht.afii10105=1112,ht.afii10106=1113,ht.afii10107=1114,ht.afii10108=1115,ht.afii10109=1116,ht.afii10110=1118,ht.afii10145=1039,ht.afii10146=1122,ht.afii10147=1138,ht.afii10148=1140,ht.afii10192=63174,ht.afii10193=1119,ht.afii10194=1123,ht.afii10195=1139,ht.afii10196=1141,ht.afii10831=63175,ht.afii10832=63176,ht.afii10846=1241,ht.afii299=8206,ht.afii300=8207,ht.afii301=8205,ht.afii57381=1642,ht.afii57388=1548,ht.afii57392=1632,ht.afii57393=1633,ht.afii57394=1634,ht.afii57395=1635,ht.afii57396=1636,ht.afii57397=1637,ht.afii57398=1638,ht.afii57399=1639,ht.afii57400=1640,ht.afii57401=1641,ht.afii57403=1563,ht.afii57407=1567,ht.afii57409=1569,ht.afii57410=1570,ht.afii57411=1571,ht.afii57412=1572,ht.afii57413=1573,ht.afii57414=1574,ht.afii57415=1575,ht.afii57416=1576,ht.afii57417=1577,ht.afii57418=1578,ht.afii57419=1579,ht.afii57420=1580,ht.afii57421=1581,ht.afii57422=1582,ht.afii57423=1583,ht.afii57424=1584,ht.afii57425=1585,ht.afii57426=1586,ht.afii57427=1587,ht.afii57428=1588,ht.afii57429=1589,ht.afii57430=1590,ht.afii57431=1591,ht.afii57432=1592,ht.afii57433=1593,ht.afii57434=1594,ht.afii57440=1600,ht.afii57441=1601,ht.afii57442=1602,ht.afii57443=1603,ht.afii57444=1604,ht.afii57445=1605,ht.afii57446=1606,ht.afii57448=1608,ht.afii57449=1609,ht.afii57450=1610,ht.afii57451=1611,ht.afii57452=1612,ht.afii57453=1613,ht.afii57454=1614,ht.afii57455=1615,ht.afii57456=1616,ht.afii57457=1617,ht.afii57458=1618,ht.afii57470=1607,ht.afii57505=1700,ht.afii57506=1662,ht.afii57507=1670,ht.afii57508=1688,ht.afii57509=1711,ht.afii57511=1657,ht.afii57512=1672,ht.afii57513=1681,ht.afii57514=1722,ht.afii57519=1746,ht.afii57534=1749,ht.afii57636=8362,ht.afii57645=1470,ht.afii57658=1475,ht.afii57664=1488,ht.afii57665=1489,ht.afii57666=1490,ht.afii57667=1491,ht.afii57668=1492,ht.afii57669=1493,ht.afii57670=1494,ht.afii57671=1495,ht.afii57672=1496,ht.afii57673=1497,ht.afii57674=1498,ht.afii57675=1499,ht.afii57676=1500,ht.afii57677=1501,ht.afii57678=1502,ht.afii57679=1503,ht.afii57680=1504,ht.afii57681=1505,ht.afii57682=1506,ht.afii57683=1507,ht.afii57684=1508,ht.afii57685=1509,ht.afii57686=1510,ht.afii57687=1511,ht.afii57688=1512,ht.afii57689=1513,ht.afii57690=1514,ht.afii57694=64298,ht.afii57695=64299,ht.afii57700=64331,ht.afii57705=64287,ht.afii57716=1520,ht.afii57717=1521,ht.afii57718=1522,ht.afii57723=64309,ht.afii57793=1460,ht.afii57794=1461,ht.afii57795=1462,ht.afii57796=1467,ht.afii57797=1464,ht.afii57798=1463,ht.afii57799=1456,ht.afii57800=1458,ht.afii57801=1457,ht.afii57802=1459,ht.afii57803=1474,ht.afii57804=1473,ht.afii57806=1465,ht.afii57807=1468,ht.afii57839=1469,ht.afii57841=1471,ht.afii57842=1472,ht.afii57929=700,ht.afii61248=8453,ht.afii61289=8467,ht.afii61352=8470,ht.afii61573=8236,ht.afii61574=8237,ht.afii61575=8238,ht.afii61664=8204,ht.afii63167=1645,ht.afii64937=701,ht.agrave=224,ht.agujarati=2693,ht.agurmukhi=2565,ht.ahiragana=12354,ht.ahookabove=7843,ht.aibengali=2448,ht.aibopomofo=12574,ht.aideva=2320,ht.aiecyrillic=1237,ht.aigujarati=2704,ht.aigurmukhi=2576,ht.aimatragurmukhi=2632,ht.ainarabic=1593,ht.ainfinalarabic=65226,ht.aininitialarabic=65227,ht.ainmedialarabic=65228,ht.ainvertedbreve=515,ht.aivowelsignbengali=2504,ht.aivowelsigndeva=2376,ht.aivowelsigngujarati=2760,ht.akatakana=12450,ht.akatakanahalfwidth=65393,ht.akorean=12623,ht.alef=1488,ht.alefarabic=1575,ht.alefdageshhebrew=64304,ht.aleffinalarabic=65166,ht.alefhamzaabovearabic=1571,ht.alefhamzaabovefinalarabic=65156,ht.alefhamzabelowarabic=1573,ht.alefhamzabelowfinalarabic=65160,ht.alefhebrew=1488,ht.aleflamedhebrew=64335,ht.alefmaddaabovearabic=1570,ht.alefmaddaabovefinalarabic=65154,ht.alefmaksuraarabic=1609,ht.alefmaksurafinalarabic=65264,ht.alefmaksurainitialarabic=65267,ht.alefmaksuramedialarabic=65268,ht.alefpatahhebrew=64302,ht.alefqamatshebrew=64303,ht.aleph=8501,ht.allequal=8780,ht.alpha=945,ht.alphatonos=940,ht.amacron=257,ht.amonospace=65345,ht.ampersand=38,ht.ampersandmonospace=65286,ht.ampersandsmall=63270,ht.amsquare=13250,ht.anbopomofo=12578,ht.angbopomofo=12580,ht.angbracketleft=12296,ht.angbracketright=12297,ht.angkhankhuthai=3674,ht.angle=8736,ht.anglebracketleft=12296,ht.anglebracketleftvertical=65087,ht.anglebracketright=12297,ht.anglebracketrightvertical=65088,ht.angleleft=9001,ht.angleright=9002,ht.angstrom=8491,ht.anoteleia=903,ht.anudattadeva=2386,ht.anusvarabengali=2434,ht.anusvaradeva=2306,ht.anusvaragujarati=2690,ht.aogonek=261,ht.apaatosquare=13056,ht.aparen=9372,ht.apostrophearmenian=1370,ht.apostrophemod=700,ht.apple=63743,ht.approaches=8784,ht.approxequal=8776,ht.approxequalorimage=8786,ht.approximatelyequal=8773,ht.araeaekorean=12686,ht.araeakorean=12685,ht.arc=8978,ht.arighthalfring=7834,ht.aring=229,ht.aringacute=507,ht.aringbelow=7681,ht.arrowboth=8596,ht.arrowdashdown=8675,ht.arrowdashleft=8672,ht.arrowdashright=8674,ht.arrowdashup=8673,ht.arrowdblboth=8660,ht.arrowdbldown=8659,ht.arrowdblleft=8656,ht.arrowdblright=8658,ht.arrowdblup=8657,ht.arrowdown=8595,ht.arrowdownleft=8601,ht.arrowdownright=8600,ht.arrowdownwhite=8681,ht.arrowheaddownmod=709,ht.arrowheadleftmod=706,ht.arrowheadrightmod=707,ht.arrowheadupmod=708,ht.arrowhorizex=63719,ht.arrowleft=8592,ht.arrowleftdbl=8656,ht.arrowleftdblstroke=8653,ht.arrowleftoverright=8646,ht.arrowleftwhite=8678,ht.arrowright=8594,ht.arrowrightdblstroke=8655,ht.arrowrightheavy=10142,ht.arrowrightoverleft=8644,ht.arrowrightwhite=8680,ht.arrowtableft=8676,ht.arrowtabright=8677,ht.arrowup=8593,ht.arrowupdn=8597,ht.arrowupdnbse=8616,ht.arrowupdownbase=8616,ht.arrowupleft=8598,ht.arrowupleftofdown=8645,ht.arrowupright=8599,ht.arrowupwhite=8679,ht.arrowvertex=63718,ht.asciicircum=94,ht.asciicircummonospace=65342,ht.asciitilde=126,ht.asciitildemonospace=65374,ht.ascript=593,ht.ascriptturned=594,ht.asmallhiragana=12353,ht.asmallkatakana=12449,ht.asmallkatakanahalfwidth=65383,ht.asterisk=42,ht.asteriskaltonearabic=1645,ht.asteriskarabic=1645,ht.asteriskmath=8727,ht.asteriskmonospace=65290,ht.asterisksmall=65121,ht.asterism=8258,ht.asuperior=63209,ht.asymptoticallyequal=8771,ht.at=64,ht.atilde=227,ht.atmonospace=65312,ht.atsmall=65131,ht.aturned=592,ht.aubengali=2452,ht.aubopomofo=12576,ht.audeva=2324,ht.augujarati=2708,ht.augurmukhi=2580,ht.aulengthmarkbengali=2519,ht.aumatragurmukhi=2636,ht.auvowelsignbengali=2508,ht.auvowelsigndeva=2380,ht.auvowelsigngujarati=2764,ht.avagrahadeva=2365,ht.aybarmenian=1377,ht.ayin=1506,ht.ayinaltonehebrew=64288,ht.ayinhebrew=1506,ht.b=98,ht.babengali=2476,ht.backslash=92,ht.backslashmonospace=65340,ht.badeva=2348,ht.bagujarati=2732,ht.bagurmukhi=2604,ht.bahiragana=12400,ht.bahtthai=3647,ht.bakatakana=12496,ht.bar=124,ht.barmonospace=65372,ht.bbopomofo=12549,ht.bcircle=9425,ht.bdotaccent=7683,ht.bdotbelow=7685,ht.beamedsixteenthnotes=9836,ht.because=8757,ht.becyrillic=1073,ht.beharabic=1576,ht.behfinalarabic=65168,ht.behinitialarabic=65169,ht.behiragana=12409,ht.behmedialarabic=65170,ht.behmeeminitialarabic=64671,ht.behmeemisolatedarabic=64520,ht.behnoonfinalarabic=64621,ht.bekatakana=12505,ht.benarmenian=1378,ht.bet=1489,ht.beta=946,ht.betasymbolgreek=976,ht.betdagesh=64305,ht.betdageshhebrew=64305,ht.bethebrew=1489,ht.betrafehebrew=64332,ht.bhabengali=2477,ht.bhadeva=2349,ht.bhagujarati=2733,ht.bhagurmukhi=2605,ht.bhook=595,ht.bihiragana=12403,ht.bikatakana=12499,ht.bilabialclick=664,ht.bindigurmukhi=2562,ht.birusquare=13105,ht.blackcircle=9679,ht.blackdiamond=9670,ht.blackdownpointingtriangle=9660,ht.blackleftpointingpointer=9668,ht.blackleftpointingtriangle=9664,ht.blacklenticularbracketleft=12304,ht.blacklenticularbracketleftvertical=65083,ht.blacklenticularbracketright=12305,ht.blacklenticularbracketrightvertical=65084,ht.blacklowerlefttriangle=9699,ht.blacklowerrighttriangle=9698,ht.blackrectangle=9644,ht.blackrightpointingpointer=9658,ht.blackrightpointingtriangle=9654,ht.blacksmallsquare=9642,ht.blacksmilingface=9787,ht.blacksquare=9632,ht.blackstar=9733,ht.blackupperlefttriangle=9700,ht.blackupperrighttriangle=9701,ht.blackuppointingsmalltriangle=9652,ht.blackuppointingtriangle=9650,ht.blank=9251,ht.blinebelow=7687,ht.block=9608,ht.bmonospace=65346,ht.bobaimaithai=3610,ht.bohiragana=12412,ht.bokatakana=12508,ht.bparen=9373,ht.bqsquare=13251,ht.braceex=63732,ht.braceleft=123,ht.braceleftbt=63731,ht.braceleftmid=63730,ht.braceleftmonospace=65371,ht.braceleftsmall=65115,ht.bracelefttp=63729,ht.braceleftvertical=65079,ht.braceright=125,ht.bracerightbt=63742,ht.bracerightmid=63741,ht.bracerightmonospace=65373,ht.bracerightsmall=65116,ht.bracerighttp=63740,ht.bracerightvertical=65080,ht.bracketleft=91,ht.bracketleftbt=63728,ht.bracketleftex=63727,ht.bracketleftmonospace=65339,ht.bracketlefttp=63726,ht.bracketright=93,ht.bracketrightbt=63739,ht.bracketrightex=63738,ht.bracketrightmonospace=65341,ht.bracketrighttp=63737,ht.breve=728,ht.brevebelowcmb=814,ht.brevecmb=774,ht.breveinvertedbelowcmb=815,ht.breveinvertedcmb=785,ht.breveinverteddoublecmb=865,ht.bridgebelowcmb=810,ht.bridgeinvertedbelowcmb=826,ht.brokenbar=166,ht.bstroke=384,ht.bsuperior=63210,ht.btopbar=387,ht.buhiragana=12406,ht.bukatakana=12502,ht.bullet=8226,ht.bulletinverse=9688,ht.bulletoperator=8729,ht.bullseye=9678,ht.c=99,ht.caarmenian=1390,ht.cabengali=2458,ht.cacute=263,ht.cadeva=2330,ht.cagujarati=2714,ht.cagurmukhi=2586,ht.calsquare=13192,ht.candrabindubengali=2433,ht.candrabinducmb=784,ht.candrabindudeva=2305,ht.candrabindugujarati=2689,ht.capslock=8682,ht.careof=8453,ht.caron=711,ht.caronbelowcmb=812,ht.caroncmb=780,ht.carriagereturn=8629,ht.cbopomofo=12568,ht.ccaron=269,ht.ccedilla=231,ht.ccedillaacute=7689,ht.ccircle=9426,ht.ccircumflex=265,ht.ccurl=597,ht.cdot=267,ht.cdotaccent=267,ht.cdsquare=13253,ht.cedilla=184,ht.cedillacmb=807,ht.cent=162,ht.centigrade=8451,ht.centinferior=63199,ht.centmonospace=65504,ht.centoldstyle=63394,ht.centsuperior=63200,ht.chaarmenian=1401,ht.chabengali=2459,ht.chadeva=2331,ht.chagujarati=2715,ht.chagurmukhi=2587,ht.chbopomofo=12564,ht.cheabkhasiancyrillic=1213,ht.checkmark=10003,ht.checyrillic=1095,ht.chedescenderabkhasiancyrillic=1215,ht.chedescendercyrillic=1207,ht.chedieresiscyrillic=1269,ht.cheharmenian=1395,ht.chekhakassiancyrillic=1228,ht.cheverticalstrokecyrillic=1209,ht.chi=967,ht.chieuchacirclekorean=12919,ht.chieuchaparenkorean=12823,ht.chieuchcirclekorean=12905,ht.chieuchkorean=12618,ht.chieuchparenkorean=12809,ht.chochangthai=3594,ht.chochanthai=3592,ht.chochingthai=3593,ht.chochoethai=3596,ht.chook=392,ht.cieucacirclekorean=12918,ht.cieucaparenkorean=12822,ht.cieuccirclekorean=12904,ht.cieuckorean=12616,ht.cieucparenkorean=12808,ht.cieucuparenkorean=12828,ht.circle=9675,ht.circlecopyrt=169,ht.circlemultiply=8855,ht.circleot=8857,ht.circleplus=8853,ht.circlepostalmark=12342,ht.circlewithlefthalfblack=9680,ht.circlewithrighthalfblack=9681,ht.circumflex=710,ht.circumflexbelowcmb=813,ht.circumflexcmb=770,ht.clear=8999,ht.clickalveolar=450,ht.clickdental=448,ht.clicklateral=449,ht.clickretroflex=451,ht.club=9827,ht.clubsuitblack=9827,ht.clubsuitwhite=9831,ht.cmcubedsquare=13220,ht.cmonospace=65347,ht.cmsquaredsquare=13216,ht.coarmenian=1409,ht.colon=58,ht.colonmonetary=8353,ht.colonmonospace=65306,ht.colonsign=8353,ht.colonsmall=65109,ht.colontriangularhalfmod=721,ht.colontriangularmod=720,ht.comma=44,ht.commaabovecmb=787,ht.commaaboverightcmb=789,ht.commaaccent=63171,ht.commaarabic=1548,ht.commaarmenian=1373,ht.commainferior=63201,ht.commamonospace=65292,ht.commareversedabovecmb=788,ht.commareversedmod=701,ht.commasmall=65104,ht.commasuperior=63202,ht.commaturnedabovecmb=786,ht.commaturnedmod=699,ht.compass=9788,ht.congruent=8773,ht.contourintegral=8750,ht.control=8963,ht.controlACK=6,ht.controlBEL=7,ht.controlBS=8,ht.controlCAN=24,ht.controlCR=13,ht.controlDC1=17,ht.controlDC2=18,ht.controlDC3=19,ht.controlDC4=20,ht.controlDEL=127,ht.controlDLE=16,ht.controlEM=25,ht.controlENQ=5,ht.controlEOT=4,ht.controlESC=27,ht.controlETB=23,ht.controlETX=3,ht.controlFF=12,ht.controlFS=28,ht.controlGS=29,ht.controlHT=9,ht.controlLF=10,ht.controlNAK=21,ht.controlNULL=0,ht.controlRS=30,ht.controlSI=15,ht.controlSO=14,ht.controlSOT=2,ht.controlSTX=1,ht.controlSUB=26,ht.controlSYN=22,ht.controlUS=31,ht.controlVT=11,ht.copyright=169,ht.copyrightsans=63721,ht.copyrightserif=63193,ht.cornerbracketleft=12300,ht.cornerbracketlefthalfwidth=65378,ht.cornerbracketleftvertical=65089,ht.cornerbracketright=12301,ht.cornerbracketrighthalfwidth=65379,ht.cornerbracketrightvertical=65090,ht.corporationsquare=13183,ht.cosquare=13255,ht.coverkgsquare=13254,ht.cparen=9374,ht.cruzeiro=8354,ht.cstretched=663,ht.curlyand=8911,ht.curlyor=8910,ht.currency=164,ht.cyrBreve=63185,ht.cyrFlex=63186,ht.cyrbreve=63188,ht.cyrflex=63189,ht.d=100,ht.daarmenian=1380,ht.dabengali=2470,ht.dadarabic=1590,ht.dadeva=2342,ht.dadfinalarabic=65214,ht.dadinitialarabic=65215,ht.dadmedialarabic=65216,ht.dagesh=1468,ht.dageshhebrew=1468,ht.dagger=8224,ht.daggerdbl=8225,ht.dagujarati=2726,ht.dagurmukhi=2598,ht.dahiragana=12384,ht.dakatakana=12480,ht.dalarabic=1583,ht.dalet=1491,ht.daletdagesh=64307,ht.daletdageshhebrew=64307,ht.dalethebrew=1491,ht.dalfinalarabic=65194,ht.dammaarabic=1615,ht.dammalowarabic=1615,ht.dammatanaltonearabic=1612,ht.dammatanarabic=1612,ht.danda=2404,ht.dargahebrew=1447,ht.dargalefthebrew=1447,ht.dasiapneumatacyrilliccmb=1157,ht.dblGrave=63187,ht.dblanglebracketleft=12298,ht.dblanglebracketleftvertical=65085,ht.dblanglebracketright=12299,ht.dblanglebracketrightvertical=65086,ht.dblarchinvertedbelowcmb=811,ht.dblarrowleft=8660,ht.dblarrowright=8658,ht.dbldanda=2405,ht.dblgrave=63190,ht.dblgravecmb=783,ht.dblintegral=8748,ht.dbllowline=8215,ht.dbllowlinecmb=819,ht.dbloverlinecmb=831,ht.dblprimemod=698,ht.dblverticalbar=8214,ht.dblverticallineabovecmb=782,ht.dbopomofo=12553,ht.dbsquare=13256,ht.dcaron=271,ht.dcedilla=7697,ht.dcircle=9427,ht.dcircumflexbelow=7699,ht.dcroat=273,ht.ddabengali=2465,ht.ddadeva=2337,ht.ddagujarati=2721,ht.ddagurmukhi=2593,ht.ddalarabic=1672,ht.ddalfinalarabic=64393,ht.dddhadeva=2396,ht.ddhabengali=2466,ht.ddhadeva=2338,ht.ddhagujarati=2722,ht.ddhagurmukhi=2594,ht.ddotaccent=7691,ht.ddotbelow=7693,ht.decimalseparatorarabic=1643,ht.decimalseparatorpersian=1643,ht.decyrillic=1076,ht.degree=176,ht.dehihebrew=1453,ht.dehiragana=12391,ht.deicoptic=1007,ht.dekatakana=12487,ht.deleteleft=9003,ht.deleteright=8998,ht.delta=948,ht.deltaturned=397,ht.denominatorminusonenumeratorbengali=2552,ht.dezh=676,ht.dhabengali=2471,ht.dhadeva=2343,ht.dhagujarati=2727,ht.dhagurmukhi=2599,ht.dhook=599,ht.dialytikatonos=901,ht.dialytikatonoscmb=836,ht.diamond=9830,ht.diamondsuitwhite=9826,ht.dieresis=168,ht.dieresisacute=63191,ht.dieresisbelowcmb=804,ht.dieresiscmb=776,ht.dieresisgrave=63192,ht.dieresistonos=901,ht.dihiragana=12386,ht.dikatakana=12482,ht.dittomark=12291,ht.divide=247,ht.divides=8739,ht.divisionslash=8725,ht.djecyrillic=1106,ht.dkshade=9619,ht.dlinebelow=7695,ht.dlsquare=13207,ht.dmacron=273,ht.dmonospace=65348,ht.dnblock=9604,ht.dochadathai=3598,ht.dodekthai=3604,ht.dohiragana=12393,ht.dokatakana=12489,ht.dollar=36,ht.dollarinferior=63203,ht.dollarmonospace=65284,ht.dollaroldstyle=63268,ht.dollarsmall=65129,ht.dollarsuperior=63204,ht.dong=8363,ht.dorusquare=13094,ht.dotaccent=729,ht.dotaccentcmb=775,ht.dotbelowcmb=803,ht.dotbelowcomb=803,ht.dotkatakana=12539,ht.dotlessi=305,ht.dotlessj=63166,ht.dotlessjstrokehook=644,ht.dotmath=8901,ht.dottedcircle=9676,ht.doubleyodpatah=64287,ht.doubleyodpatahhebrew=64287,ht.downtackbelowcmb=798,ht.downtackmod=725,ht.dparen=9375,ht.dsuperior=63211,ht.dtail=598,ht.dtopbar=396,ht.duhiragana=12389,ht.dukatakana=12485,ht.dz=499,ht.dzaltone=675,ht.dzcaron=454,ht.dzcurl=677,ht.dzeabkhasiancyrillic=1249,ht.dzecyrillic=1109,ht.dzhecyrillic=1119,ht.e=101,ht.eacute=233,ht.earth=9793,ht.ebengali=2447,ht.ebopomofo=12572,ht.ebreve=277,ht.ecandradeva=2317,ht.ecandragujarati=2701,ht.ecandravowelsigndeva=2373,ht.ecandravowelsigngujarati=2757,ht.ecaron=283,ht.ecedillabreve=7709,ht.echarmenian=1381,ht.echyiwnarmenian=1415,ht.ecircle=9428,ht.ecircumflex=234,ht.ecircumflexacute=7871,ht.ecircumflexbelow=7705,ht.ecircumflexdotbelow=7879,ht.ecircumflexgrave=7873,ht.ecircumflexhookabove=7875,ht.ecircumflextilde=7877,ht.ecyrillic=1108,ht.edblgrave=517,ht.edeva=2319,ht.edieresis=235,ht.edot=279,ht.edotaccent=279,ht.edotbelow=7865,ht.eegurmukhi=2575,ht.eematragurmukhi=2631,ht.efcyrillic=1092,ht.egrave=232,ht.egujarati=2703,ht.eharmenian=1383,ht.ehbopomofo=12573,ht.ehiragana=12360,ht.ehookabove=7867,ht.eibopomofo=12575,ht.eight=56,ht.eightarabic=1640,ht.eightbengali=2542,ht.eightcircle=9319,ht.eightcircleinversesansserif=10129,ht.eightdeva=2414,ht.eighteencircle=9329,ht.eighteenparen=9349,ht.eighteenperiod=9369,ht.eightgujarati=2798,ht.eightgurmukhi=2670,ht.eighthackarabic=1640,ht.eighthangzhou=12328,ht.eighthnotebeamed=9835,ht.eightideographicparen=12839,ht.eightinferior=8328,ht.eightmonospace=65304,ht.eightoldstyle=63288,ht.eightparen=9339,ht.eightperiod=9359,ht.eightpersian=1784,ht.eightroman=8567,ht.eightsuperior=8312,ht.eightthai=3672,ht.einvertedbreve=519,ht.eiotifiedcyrillic=1125,ht.ekatakana=12456,ht.ekatakanahalfwidth=65396,ht.ekonkargurmukhi=2676,ht.ekorean=12628,ht.elcyrillic=1083,ht.element=8712,ht.elevencircle=9322,ht.elevenparen=9342,ht.elevenperiod=9362,ht.elevenroman=8570,ht.ellipsis=8230,ht.ellipsisvertical=8942,ht.emacron=275,ht.emacronacute=7703,ht.emacrongrave=7701,ht.emcyrillic=1084,ht.emdash=8212,ht.emdashvertical=65073,ht.emonospace=65349,ht.emphasismarkarmenian=1371,ht.emptyset=8709,ht.enbopomofo=12579,ht.encyrillic=1085,ht.endash=8211,ht.endashvertical=65074,ht.endescendercyrillic=1187,ht.eng=331,ht.engbopomofo=12581,ht.enghecyrillic=1189,ht.enhookcyrillic=1224,ht.enspace=8194,ht.eogonek=281,ht.eokorean=12627,ht.eopen=603,ht.eopenclosed=666,ht.eopenreversed=604,ht.eopenreversedclosed=606,ht.eopenreversedhook=605,ht.eparen=9376,ht.epsilon=949,ht.epsilontonos=941,ht.equal=61,ht.equalmonospace=65309,ht.equalsmall=65126,ht.equalsuperior=8316,ht.equivalence=8801,ht.erbopomofo=12582,ht.ercyrillic=1088,ht.ereversed=600,ht.ereversedcyrillic=1101,ht.escyrillic=1089,ht.esdescendercyrillic=1195,ht.esh=643,ht.eshcurl=646,ht.eshortdeva=2318,ht.eshortvowelsigndeva=2374,ht.eshreversedloop=426,ht.eshsquatreversed=645,ht.esmallhiragana=12359,ht.esmallkatakana=12455,ht.esmallkatakanahalfwidth=65386,ht.estimated=8494,ht.esuperior=63212,ht.eta=951,ht.etarmenian=1384,ht.etatonos=942,ht.eth=240,ht.etilde=7869,ht.etildebelow=7707,ht.etnahtafoukhhebrew=1425,ht.etnahtafoukhlefthebrew=1425,ht.etnahtahebrew=1425,ht.etnahtalefthebrew=1425,ht.eturned=477,ht.eukorean=12641,ht.euro=8364,ht.evowelsignbengali=2503,ht.evowelsigndeva=2375,ht.evowelsigngujarati=2759,ht.exclam=33,ht.exclamarmenian=1372,ht.exclamdbl=8252,ht.exclamdown=161,ht.exclamdownsmall=63393,ht.exclammonospace=65281,ht.exclamsmall=63265,ht.existential=8707,ht.ezh=658,ht.ezhcaron=495,ht.ezhcurl=659,ht.ezhreversed=441,ht.ezhtail=442,ht.f=102,ht.fadeva=2398,ht.fagurmukhi=2654,ht.fahrenheit=8457,ht.fathaarabic=1614,ht.fathalowarabic=1614,ht.fathatanarabic=1611,ht.fbopomofo=12552,ht.fcircle=9429,ht.fdotaccent=7711,ht.feharabic=1601,ht.feharmenian=1414,ht.fehfinalarabic=65234,ht.fehinitialarabic=65235,ht.fehmedialarabic=65236,ht.feicoptic=997,ht.female=9792,ht.ff=64256,ht.f_f=64256,ht.ffi=64259,ht.f_f_i=64259,ht.ffl=64260,ht.f_f_l=64260,ht.fi=64257,ht.f_i=64257,ht.fifteencircle=9326,ht.fifteenparen=9346,ht.fifteenperiod=9366,ht.figuredash=8210,ht.filledbox=9632,ht.filledrect=9644,ht.finalkaf=1498,ht.finalkafdagesh=64314,ht.finalkafdageshhebrew=64314,ht.finalkafhebrew=1498,ht.finalmem=1501,ht.finalmemhebrew=1501,ht.finalnun=1503,ht.finalnunhebrew=1503,ht.finalpe=1507,ht.finalpehebrew=1507,ht.finaltsadi=1509,ht.finaltsadihebrew=1509,ht.firsttonechinese=713,ht.fisheye=9673,ht.fitacyrillic=1139,ht.five=53,ht.fivearabic=1637,ht.fivebengali=2539,ht.fivecircle=9316,ht.fivecircleinversesansserif=10126,ht.fivedeva=2411,ht.fiveeighths=8541,ht.fivegujarati=2795,ht.fivegurmukhi=2667,ht.fivehackarabic=1637,ht.fivehangzhou=12325,ht.fiveideographicparen=12836,ht.fiveinferior=8325,ht.fivemonospace=65301,ht.fiveoldstyle=63285,ht.fiveparen=9336,ht.fiveperiod=9356,ht.fivepersian=1781,ht.fiveroman=8564,ht.fivesuperior=8309,ht.fivethai=3669,ht.fl=64258,ht.f_l=64258,ht.florin=402,ht.fmonospace=65350,ht.fmsquare=13209,ht.fofanthai=3615,ht.fofathai=3613,ht.fongmanthai=3663,ht.forall=8704,ht.four=52,ht.fourarabic=1636,ht.fourbengali=2538,ht.fourcircle=9315,ht.fourcircleinversesansserif=10125,ht.fourdeva=2410,ht.fourgujarati=2794,ht.fourgurmukhi=2666,ht.fourhackarabic=1636,ht.fourhangzhou=12324,ht.fourideographicparen=12835,ht.fourinferior=8324,ht.fourmonospace=65300,ht.fournumeratorbengali=2551,ht.fouroldstyle=63284,ht.fourparen=9335,ht.fourperiod=9355,ht.fourpersian=1780,ht.fourroman=8563,ht.foursuperior=8308,ht.fourteencircle=9325,ht.fourteenparen=9345,ht.fourteenperiod=9365,ht.fourthai=3668,ht.fourthtonechinese=715,ht.fparen=9377,ht.fraction=8260,ht.franc=8355,ht.g=103,ht.gabengali=2455,ht.gacute=501,ht.gadeva=2327,ht.gafarabic=1711,ht.gaffinalarabic=64403,ht.gafinitialarabic=64404,ht.gafmedialarabic=64405,ht.gagujarati=2711,ht.gagurmukhi=2583,ht.gahiragana=12364,ht.gakatakana=12460,ht.gamma=947,ht.gammalatinsmall=611,ht.gammasuperior=736,ht.gangiacoptic=1003,ht.gbopomofo=12557,ht.gbreve=287,ht.gcaron=487,ht.gcedilla=291,ht.gcircle=9430,ht.gcircumflex=285,ht.gcommaaccent=291,ht.gdot=289,ht.gdotaccent=289,ht.gecyrillic=1075,ht.gehiragana=12370,ht.gekatakana=12466,ht.geometricallyequal=8785,ht.gereshaccenthebrew=1436,ht.gereshhebrew=1523,ht.gereshmuqdamhebrew=1437,ht.germandbls=223,ht.gershayimaccenthebrew=1438,ht.gershayimhebrew=1524,ht.getamark=12307,ht.ghabengali=2456,ht.ghadarmenian=1394,ht.ghadeva=2328,ht.ghagujarati=2712,ht.ghagurmukhi=2584,ht.ghainarabic=1594,ht.ghainfinalarabic=65230,ht.ghaininitialarabic=65231,ht.ghainmedialarabic=65232,ht.ghemiddlehookcyrillic=1173,ht.ghestrokecyrillic=1171,ht.gheupturncyrillic=1169,ht.ghhadeva=2394,ht.ghhagurmukhi=2650,ht.ghook=608,ht.ghzsquare=13203,ht.gihiragana=12366,ht.gikatakana=12462,ht.gimarmenian=1379,ht.gimel=1490,ht.gimeldagesh=64306,ht.gimeldageshhebrew=64306,ht.gimelhebrew=1490,ht.gjecyrillic=1107,ht.glottalinvertedstroke=446,ht.glottalstop=660,ht.glottalstopinverted=662,ht.glottalstopmod=704,ht.glottalstopreversed=661,ht.glottalstopreversedmod=705,ht.glottalstopreversedsuperior=740,ht.glottalstopstroke=673,ht.glottalstopstrokereversed=674,ht.gmacron=7713,ht.gmonospace=65351,ht.gohiragana=12372,ht.gokatakana=12468,ht.gparen=9378,ht.gpasquare=13228,ht.gradient=8711,ht.grave=96,ht.gravebelowcmb=790,ht.gravecmb=768,ht.gravecomb=768,ht.gravedeva=2387,ht.gravelowmod=718,ht.gravemonospace=65344,ht.gravetonecmb=832,ht.greater=62,ht.greaterequal=8805,ht.greaterequalorless=8923,ht.greatermonospace=65310,ht.greaterorequivalent=8819,ht.greaterorless=8823,ht.greateroverequal=8807,ht.greatersmall=65125,ht.gscript=609,ht.gstroke=485,ht.guhiragana=12368,ht.guillemotleft=171,ht.guillemotright=187,ht.guilsinglleft=8249,ht.guilsinglright=8250,ht.gukatakana=12464,ht.guramusquare=13080,ht.gysquare=13257,ht.h=104,ht.haabkhasiancyrillic=1193,ht.haaltonearabic=1729,ht.habengali=2489,ht.hadescendercyrillic=1203,ht.hadeva=2361,ht.hagujarati=2745,ht.hagurmukhi=2617,ht.haharabic=1581,ht.hahfinalarabic=65186,ht.hahinitialarabic=65187,ht.hahiragana=12399,ht.hahmedialarabic=65188,ht.haitusquare=13098,ht.hakatakana=12495,ht.hakatakanahalfwidth=65418,ht.halantgurmukhi=2637,ht.hamzaarabic=1569,ht.hamzalowarabic=1569,ht.hangulfiller=12644,ht.hardsigncyrillic=1098,ht.harpoonleftbarbup=8636,ht.harpoonrightbarbup=8640,ht.hasquare=13258,ht.hatafpatah=1458,ht.hatafpatah16=1458,ht.hatafpatah23=1458,ht.hatafpatah2f=1458,ht.hatafpatahhebrew=1458,ht.hatafpatahnarrowhebrew=1458,ht.hatafpatahquarterhebrew=1458,ht.hatafpatahwidehebrew=1458,ht.hatafqamats=1459,ht.hatafqamats1b=1459,ht.hatafqamats28=1459,ht.hatafqamats34=1459,ht.hatafqamatshebrew=1459,ht.hatafqamatsnarrowhebrew=1459,ht.hatafqamatsquarterhebrew=1459,ht.hatafqamatswidehebrew=1459,ht.hatafsegol=1457,ht.hatafsegol17=1457,ht.hatafsegol24=1457,ht.hatafsegol30=1457,ht.hatafsegolhebrew=1457,ht.hatafsegolnarrowhebrew=1457,ht.hatafsegolquarterhebrew=1457,ht.hatafsegolwidehebrew=1457,ht.hbar=295,ht.hbopomofo=12559,ht.hbrevebelow=7723,ht.hcedilla=7721,ht.hcircle=9431,ht.hcircumflex=293,ht.hdieresis=7719,ht.hdotaccent=7715,ht.hdotbelow=7717,ht.he=1492,ht.heart=9829,ht.heartsuitblack=9829,ht.heartsuitwhite=9825,ht.hedagesh=64308,ht.hedageshhebrew=64308,ht.hehaltonearabic=1729,ht.heharabic=1607,ht.hehebrew=1492,ht.hehfinalaltonearabic=64423,ht.hehfinalalttwoarabic=65258,ht.hehfinalarabic=65258,ht.hehhamzaabovefinalarabic=64421,ht.hehhamzaaboveisolatedarabic=64420,ht.hehinitialaltonearabic=64424,ht.hehinitialarabic=65259,ht.hehiragana=12408,ht.hehmedialaltonearabic=64425,ht.hehmedialarabic=65260,ht.heiseierasquare=13179,ht.hekatakana=12504,ht.hekatakanahalfwidth=65421,ht.hekutaarusquare=13110,ht.henghook=615,ht.herutusquare=13113,ht.het=1495,ht.hethebrew=1495,ht.hhook=614,ht.hhooksuperior=689,ht.hieuhacirclekorean=12923,ht.hieuhaparenkorean=12827,ht.hieuhcirclekorean=12909,ht.hieuhkorean=12622,ht.hieuhparenkorean=12813,ht.hihiragana=12402,ht.hikatakana=12498,ht.hikatakanahalfwidth=65419,ht.hiriq=1460,ht.hiriq14=1460,ht.hiriq21=1460,ht.hiriq2d=1460,ht.hiriqhebrew=1460,ht.hiriqnarrowhebrew=1460,ht.hiriqquarterhebrew=1460,ht.hiriqwidehebrew=1460,ht.hlinebelow=7830,ht.hmonospace=65352,ht.hoarmenian=1392,ht.hohipthai=3627,ht.hohiragana=12411,ht.hokatakana=12507,ht.hokatakanahalfwidth=65422,ht.holam=1465,ht.holam19=1465,ht.holam26=1465,ht.holam32=1465,ht.holamhebrew=1465,ht.holamnarrowhebrew=1465,ht.holamquarterhebrew=1465,ht.holamwidehebrew=1465,ht.honokhukthai=3630,ht.hookabovecomb=777,ht.hookcmb=777,ht.hookpalatalizedbelowcmb=801,ht.hookretroflexbelowcmb=802,ht.hoonsquare=13122,ht.horicoptic=1001,ht.horizontalbar=8213,ht.horncmb=795,ht.hotsprings=9832,ht.house=8962,ht.hparen=9379,ht.hsuperior=688,ht.hturned=613,ht.huhiragana=12405,ht.huiitosquare=13107,ht.hukatakana=12501,ht.hukatakanahalfwidth=65420,ht.hungarumlaut=733,ht.hungarumlautcmb=779,ht.hv=405,ht.hyphen=45,ht.hypheninferior=63205,ht.hyphenmonospace=65293,ht.hyphensmall=65123,ht.hyphensuperior=63206,ht.hyphentwo=8208,ht.i=105,ht.iacute=237,ht.iacyrillic=1103,ht.ibengali=2439,ht.ibopomofo=12583,ht.ibreve=301,ht.icaron=464,ht.icircle=9432,ht.icircumflex=238,ht.icyrillic=1110,ht.idblgrave=521,ht.ideographearthcircle=12943,ht.ideographfirecircle=12939,ht.ideographicallianceparen=12863,ht.ideographiccallparen=12858,ht.ideographiccentrecircle=12965,ht.ideographicclose=12294,ht.ideographiccomma=12289,ht.ideographiccommaleft=65380,ht.ideographiccongratulationparen=12855,ht.ideographiccorrectcircle=12963,ht.ideographicearthparen=12847,ht.ideographicenterpriseparen=12861,ht.ideographicexcellentcircle=12957,ht.ideographicfestivalparen=12864,ht.ideographicfinancialcircle=12950,ht.ideographicfinancialparen=12854,ht.ideographicfireparen=12843,ht.ideographichaveparen=12850,ht.ideographichighcircle=12964,ht.ideographiciterationmark=12293,ht.ideographiclaborcircle=12952,ht.ideographiclaborparen=12856,ht.ideographicleftcircle=12967,ht.ideographiclowcircle=12966,ht.ideographicmedicinecircle=12969,ht.ideographicmetalparen=12846,ht.ideographicmoonparen=12842,ht.ideographicnameparen=12852,ht.ideographicperiod=12290,ht.ideographicprintcircle=12958,ht.ideographicreachparen=12867,ht.ideographicrepresentparen=12857,ht.ideographicresourceparen=12862,ht.ideographicrightcircle=12968,ht.ideographicsecretcircle=12953,ht.ideographicselfparen=12866,ht.ideographicsocietyparen=12851,ht.ideographicspace=12288,ht.ideographicspecialparen=12853,ht.ideographicstockparen=12849,ht.ideographicstudyparen=12859,ht.ideographicsunparen=12848,ht.ideographicsuperviseparen=12860,ht.ideographicwaterparen=12844,ht.ideographicwoodparen=12845,ht.ideographiczero=12295,ht.ideographmetalcircle=12942,ht.ideographmooncircle=12938,ht.ideographnamecircle=12948,ht.ideographsuncircle=12944,ht.ideographwatercircle=12940,ht.ideographwoodcircle=12941,ht.ideva=2311,ht.idieresis=239,ht.idieresisacute=7727,ht.idieresiscyrillic=1253,ht.idotbelow=7883,ht.iebrevecyrillic=1239,ht.iecyrillic=1077,ht.ieungacirclekorean=12917,ht.ieungaparenkorean=12821,ht.ieungcirclekorean=12903,ht.ieungkorean=12615,ht.ieungparenkorean=12807,ht.igrave=236,ht.igujarati=2695,ht.igurmukhi=2567,ht.ihiragana=12356,ht.ihookabove=7881,ht.iibengali=2440,ht.iicyrillic=1080,ht.iideva=2312,ht.iigujarati=2696,ht.iigurmukhi=2568,ht.iimatragurmukhi=2624,ht.iinvertedbreve=523,ht.iishortcyrillic=1081,ht.iivowelsignbengali=2496,ht.iivowelsigndeva=2368,ht.iivowelsigngujarati=2752,ht.ij=307,ht.ikatakana=12452,ht.ikatakanahalfwidth=65394,ht.ikorean=12643,ht.ilde=732,ht.iluyhebrew=1452,ht.imacron=299,ht.imacroncyrillic=1251,ht.imageorapproximatelyequal=8787,ht.imatragurmukhi=2623,ht.imonospace=65353,ht.increment=8710,ht.infinity=8734,ht.iniarmenian=1387,ht.integral=8747,ht.integralbottom=8993,ht.integralbt=8993,ht.integralex=63733,ht.integraltop=8992,ht.integraltp=8992,ht.intersection=8745,ht.intisquare=13061,ht.invbullet=9688,ht.invcircle=9689,ht.invsmileface=9787,ht.iocyrillic=1105,ht.iogonek=303,ht.iota=953,ht.iotadieresis=970,ht.iotadieresistonos=912,ht.iotalatin=617,ht.iotatonos=943,ht.iparen=9380,ht.irigurmukhi=2674,ht.ismallhiragana=12355,ht.ismallkatakana=12451,ht.ismallkatakanahalfwidth=65384,ht.issharbengali=2554,ht.istroke=616,ht.isuperior=63213,ht.iterationhiragana=12445,ht.iterationkatakana=12541,ht.itilde=297,ht.itildebelow=7725,ht.iubopomofo=12585,ht.iucyrillic=1102,ht.ivowelsignbengali=2495,ht.ivowelsigndeva=2367,ht.ivowelsigngujarati=2751,ht.izhitsacyrillic=1141,ht.izhitsadblgravecyrillic=1143,ht.j=106,ht.jaarmenian=1393,ht.jabengali=2460,ht.jadeva=2332,ht.jagujarati=2716,ht.jagurmukhi=2588,ht.jbopomofo=12560,ht.jcaron=496,ht.jcircle=9433,ht.jcircumflex=309,ht.jcrossedtail=669,ht.jdotlessstroke=607,ht.jecyrillic=1112,ht.jeemarabic=1580,ht.jeemfinalarabic=65182,ht.jeeminitialarabic=65183,ht.jeemmedialarabic=65184,ht.jeharabic=1688,ht.jehfinalarabic=64395,ht.jhabengali=2461,ht.jhadeva=2333,ht.jhagujarati=2717,ht.jhagurmukhi=2589,ht.jheharmenian=1403,ht.jis=12292,ht.jmonospace=65354,ht.jparen=9381,ht.jsuperior=690,ht.k=107,ht.kabashkircyrillic=1185,ht.kabengali=2453,ht.kacute=7729,ht.kacyrillic=1082,ht.kadescendercyrillic=1179,ht.kadeva=2325,ht.kaf=1499,ht.kafarabic=1603,ht.kafdagesh=64315,ht.kafdageshhebrew=64315,ht.kaffinalarabic=65242,ht.kafhebrew=1499,ht.kafinitialarabic=65243,ht.kafmedialarabic=65244,ht.kafrafehebrew=64333,ht.kagujarati=2709,ht.kagurmukhi=2581,ht.kahiragana=12363,ht.kahookcyrillic=1220,ht.kakatakana=12459,ht.kakatakanahalfwidth=65398,ht.kappa=954,ht.kappasymbolgreek=1008,ht.kapyeounmieumkorean=12657,ht.kapyeounphieuphkorean=12676,ht.kapyeounpieupkorean=12664,ht.kapyeounssangpieupkorean=12665,ht.karoriisquare=13069,ht.kashidaautoarabic=1600,ht.kashidaautonosidebearingarabic=1600,ht.kasmallkatakana=12533,ht.kasquare=13188,ht.kasraarabic=1616,ht.kasratanarabic=1613,ht.kastrokecyrillic=1183,ht.katahiraprolongmarkhalfwidth=65392,ht.kaverticalstrokecyrillic=1181,ht.kbopomofo=12558,ht.kcalsquare=13193,ht.kcaron=489,ht.kcedilla=311,ht.kcircle=9434,ht.kcommaaccent=311,ht.kdotbelow=7731,ht.keharmenian=1412,ht.kehiragana=12369,ht.kekatakana=12465,ht.kekatakanahalfwidth=65401,ht.kenarmenian=1391,ht.kesmallkatakana=12534,ht.kgreenlandic=312,ht.khabengali=2454,ht.khacyrillic=1093,ht.khadeva=2326,ht.khagujarati=2710,ht.khagurmukhi=2582,ht.khaharabic=1582,ht.khahfinalarabic=65190,ht.khahinitialarabic=65191,ht.khahmedialarabic=65192,ht.kheicoptic=999,ht.khhadeva=2393,ht.khhagurmukhi=2649,ht.khieukhacirclekorean=12920,ht.khieukhaparenkorean=12824,ht.khieukhcirclekorean=12906,ht.khieukhkorean=12619,ht.khieukhparenkorean=12810,ht.khokhaithai=3586,ht.khokhonthai=3589,ht.khokhuatthai=3587,ht.khokhwaithai=3588,ht.khomutthai=3675,ht.khook=409,ht.khorakhangthai=3590,ht.khzsquare=13201,ht.kihiragana=12365,ht.kikatakana=12461,ht.kikatakanahalfwidth=65399,ht.kiroguramusquare=13077,ht.kiromeetorusquare=13078,ht.kirosquare=13076,ht.kiyeokacirclekorean=12910,ht.kiyeokaparenkorean=12814,ht.kiyeokcirclekorean=12896,ht.kiyeokkorean=12593,ht.kiyeokparenkorean=12800,ht.kiyeoksioskorean=12595,ht.kjecyrillic=1116,ht.klinebelow=7733,ht.klsquare=13208,ht.kmcubedsquare=13222,ht.kmonospace=65355,ht.kmsquaredsquare=13218,ht.kohiragana=12371,ht.kohmsquare=13248,ht.kokaithai=3585,ht.kokatakana=12467,ht.kokatakanahalfwidth=65402,ht.kooposquare=13086,ht.koppacyrillic=1153,ht.koreanstandardsymbol=12927,ht.koroniscmb=835,ht.kparen=9382,ht.kpasquare=13226,ht.ksicyrillic=1135,ht.ktsquare=13263,ht.kturned=670,ht.kuhiragana=12367,ht.kukatakana=12463,ht.kukatakanahalfwidth=65400,ht.kvsquare=13240,ht.kwsquare=13246,ht.l=108,ht.labengali=2482,ht.lacute=314,ht.ladeva=2354,ht.lagujarati=2738,ht.lagurmukhi=2610,ht.lakkhangyaothai=3653,ht.lamaleffinalarabic=65276,ht.lamalefhamzaabovefinalarabic=65272,ht.lamalefhamzaaboveisolatedarabic=65271,ht.lamalefhamzabelowfinalarabic=65274,ht.lamalefhamzabelowisolatedarabic=65273,ht.lamalefisolatedarabic=65275,ht.lamalefmaddaabovefinalarabic=65270,ht.lamalefmaddaaboveisolatedarabic=65269,ht.lamarabic=1604,ht.lambda=955,ht.lambdastroke=411,ht.lamed=1500,ht.lameddagesh=64316,ht.lameddageshhebrew=64316,ht.lamedhebrew=1500,ht.lamfinalarabic=65246,ht.lamhahinitialarabic=64714,ht.laminitialarabic=65247,ht.lamjeeminitialarabic=64713,ht.lamkhahinitialarabic=64715,ht.lamlamhehisolatedarabic=65010,ht.lammedialarabic=65248,ht.lammeemhahinitialarabic=64904,ht.lammeeminitialarabic=64716,ht.largecircle=9711,ht.lbar=410,ht.lbelt=620,ht.lbopomofo=12556,ht.lcaron=318,ht.lcedilla=316,ht.lcircle=9435,ht.lcircumflexbelow=7741,ht.lcommaaccent=316,ht.ldot=320,ht.ldotaccent=320,ht.ldotbelow=7735,ht.ldotbelowmacron=7737,ht.leftangleabovecmb=794,ht.lefttackbelowcmb=792,ht.less=60,ht.lessequal=8804,ht.lessequalorgreater=8922,ht.lessmonospace=65308,ht.lessorequivalent=8818,ht.lessorgreater=8822,ht.lessoverequal=8806,ht.lesssmall=65124,ht.lezh=622,ht.lfblock=9612,ht.lhookretroflex=621,ht.lira=8356,ht.liwnarmenian=1388,ht.lj=457,ht.ljecyrillic=1113,ht.ll=63168,ht.lladeva=2355,ht.llagujarati=2739,ht.llinebelow=7739,ht.llladeva=2356,ht.llvocalicbengali=2529,ht.llvocalicdeva=2401,ht.llvocalicvowelsignbengali=2531,ht.llvocalicvowelsigndeva=2403,ht.lmiddletilde=619,ht.lmonospace=65356,ht.lmsquare=13264,ht.lochulathai=3628,ht.logicaland=8743,ht.logicalnot=172,ht.logicalnotreversed=8976,ht.logicalor=8744,ht.lolingthai=3621,ht.longs=383,ht.lowlinecenterline=65102,ht.lowlinecmb=818,ht.lowlinedashed=65101,ht.lozenge=9674,ht.lparen=9383,ht.lslash=322,ht.lsquare=8467,ht.lsuperior=63214,ht.ltshade=9617,ht.luthai=3622,ht.lvocalicbengali=2444,ht.lvocalicdeva=2316,ht.lvocalicvowelsignbengali=2530,ht.lvocalicvowelsigndeva=2402,ht.lxsquare=13267,ht.m=109,ht.mabengali=2478,ht.macron=175,ht.macronbelowcmb=817,ht.macroncmb=772,ht.macronlowmod=717,ht.macronmonospace=65507,ht.macute=7743,ht.madeva=2350,ht.magujarati=2734,ht.magurmukhi=2606,ht.mahapakhhebrew=1444,ht.mahapakhlefthebrew=1444,ht.mahiragana=12414,ht.maichattawalowleftthai=63637,ht.maichattawalowrightthai=63636,ht.maichattawathai=3659,ht.maichattawaupperleftthai=63635,ht.maieklowleftthai=63628,ht.maieklowrightthai=63627,ht.maiekthai=3656,ht.maiekupperleftthai=63626,ht.maihanakatleftthai=63620,ht.maihanakatthai=3633,ht.maitaikhuleftthai=63625,ht.maitaikhuthai=3655,ht.maitholowleftthai=63631,ht.maitholowrightthai=63630,ht.maithothai=3657,ht.maithoupperleftthai=63629,ht.maitrilowleftthai=63634,ht.maitrilowrightthai=63633,ht.maitrithai=3658,ht.maitriupperleftthai=63632,ht.maiyamokthai=3654,ht.makatakana=12510,ht.makatakanahalfwidth=65423,ht.male=9794,ht.mansyonsquare=13127,ht.maqafhebrew=1470,ht.mars=9794,ht.masoracirclehebrew=1455,ht.masquare=13187,ht.mbopomofo=12551,ht.mbsquare=13268,ht.mcircle=9436,ht.mcubedsquare=13221,ht.mdotaccent=7745,ht.mdotbelow=7747,ht.meemarabic=1605,ht.meemfinalarabic=65250,ht.meeminitialarabic=65251,ht.meemmedialarabic=65252,ht.meemmeeminitialarabic=64721,ht.meemmeemisolatedarabic=64584,ht.meetorusquare=13133,ht.mehiragana=12417,ht.meizierasquare=13182,ht.mekatakana=12513,ht.mekatakanahalfwidth=65426,ht.mem=1502,ht.memdagesh=64318,ht.memdageshhebrew=64318,ht.memhebrew=1502,ht.menarmenian=1396,ht.merkhahebrew=1445,ht.merkhakefulahebrew=1446,ht.merkhakefulalefthebrew=1446,ht.merkhalefthebrew=1445,ht.mhook=625,ht.mhzsquare=13202,ht.middledotkatakanahalfwidth=65381,ht.middot=183,ht.mieumacirclekorean=12914,ht.mieumaparenkorean=12818,ht.mieumcirclekorean=12900,ht.mieumkorean=12609,ht.mieumpansioskorean=12656,ht.mieumparenkorean=12804,ht.mieumpieupkorean=12654,ht.mieumsioskorean=12655,ht.mihiragana=12415,ht.mikatakana=12511,ht.mikatakanahalfwidth=65424,ht.minus=8722,ht.minusbelowcmb=800,ht.minuscircle=8854,ht.minusmod=727,ht.minusplus=8723,ht.minute=8242,ht.miribaarusquare=13130,ht.mirisquare=13129,ht.mlonglegturned=624,ht.mlsquare=13206,ht.mmcubedsquare=13219,ht.mmonospace=65357,ht.mmsquaredsquare=13215,ht.mohiragana=12418,ht.mohmsquare=13249,ht.mokatakana=12514,ht.mokatakanahalfwidth=65427,ht.molsquare=13270,ht.momathai=3617,ht.moverssquare=13223,ht.moverssquaredsquare=13224,ht.mparen=9384,ht.mpasquare=13227,ht.mssquare=13235,ht.msuperior=63215,ht.mturned=623,ht.mu=181,ht.mu1=181,ht.muasquare=13186,ht.muchgreater=8811,ht.muchless=8810,ht.mufsquare=13196,ht.mugreek=956,ht.mugsquare=13197,ht.muhiragana=12416,ht.mukatakana=12512,ht.mukatakanahalfwidth=65425,ht.mulsquare=13205,ht.multiply=215,ht.mumsquare=13211,ht.munahhebrew=1443,ht.munahlefthebrew=1443,ht.musicalnote=9834,ht.musicalnotedbl=9835,ht.musicflatsign=9837,ht.musicsharpsign=9839,ht.mussquare=13234,ht.muvsquare=13238,ht.muwsquare=13244,ht.mvmegasquare=13241,ht.mvsquare=13239,ht.mwmegasquare=13247,ht.mwsquare=13245,ht.n=110,ht.nabengali=2472,ht.nabla=8711,ht.nacute=324,ht.nadeva=2344,ht.nagujarati=2728,ht.nagurmukhi=2600,ht.nahiragana=12394,ht.nakatakana=12490,ht.nakatakanahalfwidth=65413,ht.napostrophe=329,ht.nasquare=13185,ht.nbopomofo=12555,ht.nbspace=160,ht.ncaron=328,ht.ncedilla=326,ht.ncircle=9437,ht.ncircumflexbelow=7755,ht.ncommaaccent=326,ht.ndotaccent=7749,ht.ndotbelow=7751,ht.nehiragana=12397,ht.nekatakana=12493,ht.nekatakanahalfwidth=65416,ht.newsheqelsign=8362,ht.nfsquare=13195,ht.ngabengali=2457,ht.ngadeva=2329,ht.ngagujarati=2713,ht.ngagurmukhi=2585,ht.ngonguthai=3591,ht.nhiragana=12435,ht.nhookleft=626,ht.nhookretroflex=627,ht.nieunacirclekorean=12911,ht.nieunaparenkorean=12815,ht.nieuncieuckorean=12597,ht.nieuncirclekorean=12897,ht.nieunhieuhkorean=12598,ht.nieunkorean=12596,ht.nieunpansioskorean=12648,ht.nieunparenkorean=12801,ht.nieunsioskorean=12647,ht.nieuntikeutkorean=12646,ht.nihiragana=12395,ht.nikatakana=12491,ht.nikatakanahalfwidth=65414,ht.nikhahitleftthai=63641,ht.nikhahitthai=3661,ht.nine=57,ht.ninearabic=1641,ht.ninebengali=2543,ht.ninecircle=9320,ht.ninecircleinversesansserif=10130,ht.ninedeva=2415,ht.ninegujarati=2799,ht.ninegurmukhi=2671,ht.ninehackarabic=1641,ht.ninehangzhou=12329,ht.nineideographicparen=12840,ht.nineinferior=8329,ht.ninemonospace=65305,ht.nineoldstyle=63289,ht.nineparen=9340,ht.nineperiod=9360,ht.ninepersian=1785,ht.nineroman=8568,ht.ninesuperior=8313,ht.nineteencircle=9330,ht.nineteenparen=9350,ht.nineteenperiod=9370,ht.ninethai=3673,ht.nj=460,ht.njecyrillic=1114,ht.nkatakana=12531,ht.nkatakanahalfwidth=65437,ht.nlegrightlong=414,ht.nlinebelow=7753,ht.nmonospace=65358,ht.nmsquare=13210,ht.nnabengali=2467,ht.nnadeva=2339,ht.nnagujarati=2723,ht.nnagurmukhi=2595,ht.nnnadeva=2345,ht.nohiragana=12398,ht.nokatakana=12494,ht.nokatakanahalfwidth=65417,ht.nonbreakingspace=160,ht.nonenthai=3603,ht.nonuthai=3609,ht.noonarabic=1606,ht.noonfinalarabic=65254,ht.noonghunnaarabic=1722,ht.noonghunnafinalarabic=64415,ht.nooninitialarabic=65255,ht.noonjeeminitialarabic=64722,ht.noonjeemisolatedarabic=64587,ht.noonmedialarabic=65256,ht.noonmeeminitialarabic=64725,ht.noonmeemisolatedarabic=64590,ht.noonnoonfinalarabic=64653,ht.notcontains=8716,ht.notelement=8713,ht.notelementof=8713,ht.notequal=8800,ht.notgreater=8815,ht.notgreaternorequal=8817,ht.notgreaternorless=8825,ht.notidentical=8802,ht.notless=8814,ht.notlessnorequal=8816,ht.notparallel=8742,ht.notprecedes=8832,ht.notsubset=8836,ht.notsucceeds=8833,ht.notsuperset=8837,ht.nowarmenian=1398,ht.nparen=9385,ht.nssquare=13233,ht.nsuperior=8319,ht.ntilde=241,ht.nu=957,ht.nuhiragana=12396,ht.nukatakana=12492,ht.nukatakanahalfwidth=65415,ht.nuktabengali=2492,ht.nuktadeva=2364,ht.nuktagujarati=2748,ht.nuktagurmukhi=2620,ht.numbersign=35,ht.numbersignmonospace=65283,ht.numbersignsmall=65119,ht.numeralsigngreek=884,ht.numeralsignlowergreek=885,ht.numero=8470,ht.nun=1504,ht.nundagesh=64320,ht.nundageshhebrew=64320,ht.nunhebrew=1504,ht.nvsquare=13237,ht.nwsquare=13243,ht.nyabengali=2462,ht.nyadeva=2334,ht.nyagujarati=2718,ht.nyagurmukhi=2590,ht.o=111,ht.oacute=243,ht.oangthai=3629,ht.obarred=629,ht.obarredcyrillic=1257,ht.obarreddieresiscyrillic=1259,ht.obengali=2451,ht.obopomofo=12571,ht.obreve=335,ht.ocandradeva=2321,ht.ocandragujarati=2705,ht.ocandravowelsigndeva=2377,ht.ocandravowelsigngujarati=2761,ht.ocaron=466,ht.ocircle=9438,ht.ocircumflex=244,ht.ocircumflexacute=7889,ht.ocircumflexdotbelow=7897,ht.ocircumflexgrave=7891,ht.ocircumflexhookabove=7893,ht.ocircumflextilde=7895,ht.ocyrillic=1086,ht.odblacute=337,ht.odblgrave=525,ht.odeva=2323,ht.odieresis=246,ht.odieresiscyrillic=1255,ht.odotbelow=7885,ht.oe=339,ht.oekorean=12634,ht.ogonek=731,ht.ogonekcmb=808,ht.ograve=242,ht.ogujarati=2707,ht.oharmenian=1413,ht.ohiragana=12362,ht.ohookabove=7887,ht.ohorn=417,ht.ohornacute=7899,ht.ohorndotbelow=7907,ht.ohorngrave=7901,ht.ohornhookabove=7903,ht.ohorntilde=7905,ht.ohungarumlaut=337,ht.oi=419,ht.oinvertedbreve=527,ht.okatakana=12458,ht.okatakanahalfwidth=65397,ht.okorean=12631,ht.olehebrew=1451,ht.omacron=333,ht.omacronacute=7763,ht.omacrongrave=7761,ht.omdeva=2384,ht.omega=969,ht.omega1=982,ht.omegacyrillic=1121,ht.omegalatinclosed=631,ht.omegaroundcyrillic=1147,ht.omegatitlocyrillic=1149,ht.omegatonos=974,ht.omgujarati=2768,ht.omicron=959,ht.omicrontonos=972,ht.omonospace=65359,ht.one=49,ht.onearabic=1633,ht.onebengali=2535,ht.onecircle=9312,ht.onecircleinversesansserif=10122,ht.onedeva=2407,ht.onedotenleader=8228,ht.oneeighth=8539,ht.onefitted=63196,ht.onegujarati=2791,ht.onegurmukhi=2663,ht.onehackarabic=1633,ht.onehalf=189,ht.onehangzhou=12321,ht.oneideographicparen=12832,ht.oneinferior=8321,ht.onemonospace=65297,ht.onenumeratorbengali=2548,ht.oneoldstyle=63281,ht.oneparen=9332,ht.oneperiod=9352,ht.onepersian=1777,ht.onequarter=188,ht.oneroman=8560,ht.onesuperior=185,ht.onethai=3665,ht.onethird=8531,ht.oogonek=491,ht.oogonekmacron=493,ht.oogurmukhi=2579,ht.oomatragurmukhi=2635,ht.oopen=596,ht.oparen=9386,ht.openbullet=9702,ht.option=8997,ht.ordfeminine=170,ht.ordmasculine=186,ht.orthogonal=8735,ht.oshortdeva=2322,ht.oshortvowelsigndeva=2378,ht.oslash=248,ht.oslashacute=511,ht.osmallhiragana=12361,ht.osmallkatakana=12457,ht.osmallkatakanahalfwidth=65387,ht.ostrokeacute=511,ht.osuperior=63216,ht.otcyrillic=1151,ht.otilde=245,ht.otildeacute=7757,ht.otildedieresis=7759,ht.oubopomofo=12577,ht.overline=8254,ht.overlinecenterline=65098,ht.overlinecmb=773,ht.overlinedashed=65097,ht.overlinedblwavy=65100,ht.overlinewavy=65099,ht.overscore=175,ht.ovowelsignbengali=2507,ht.ovowelsigndeva=2379,ht.ovowelsigngujarati=2763,ht.p=112,ht.paampssquare=13184,ht.paasentosquare=13099,ht.pabengali=2474,ht.pacute=7765,ht.padeva=2346,ht.pagedown=8671,ht.pageup=8670,ht.pagujarati=2730,ht.pagurmukhi=2602,ht.pahiragana=12401,ht.paiyannoithai=3631,ht.pakatakana=12497,ht.palatalizationcyrilliccmb=1156,ht.palochkacyrillic=1216,ht.pansioskorean=12671,ht.paragraph=182,ht.parallel=8741,ht.parenleft=40,ht.parenleftaltonearabic=64830,ht.parenleftbt=63725,ht.parenleftex=63724,ht.parenleftinferior=8333,ht.parenleftmonospace=65288,ht.parenleftsmall=65113,ht.parenleftsuperior=8317,ht.parenlefttp=63723,ht.parenleftvertical=65077,ht.parenright=41,ht.parenrightaltonearabic=64831,ht.parenrightbt=63736,ht.parenrightex=63735,ht.parenrightinferior=8334,ht.parenrightmonospace=65289,ht.parenrightsmall=65114,ht.parenrightsuperior=8318,ht.parenrighttp=63734,ht.parenrightvertical=65078,ht.partialdiff=8706,ht.paseqhebrew=1472,ht.pashtahebrew=1433,ht.pasquare=13225,ht.patah=1463,ht.patah11=1463,ht.patah1d=1463,ht.patah2a=1463,ht.patahhebrew=1463,ht.patahnarrowhebrew=1463,ht.patahquarterhebrew=1463,ht.patahwidehebrew=1463,ht.pazerhebrew=1441,ht.pbopomofo=12550,ht.pcircle=9439,ht.pdotaccent=7767,ht.pe=1508,ht.pecyrillic=1087,ht.pedagesh=64324,ht.pedageshhebrew=64324,ht.peezisquare=13115,ht.pefinaldageshhebrew=64323,ht.peharabic=1662,ht.peharmenian=1402,ht.pehebrew=1508,ht.pehfinalarabic=64343,ht.pehinitialarabic=64344,ht.pehiragana=12410,ht.pehmedialarabic=64345,ht.pekatakana=12506,ht.pemiddlehookcyrillic=1191,ht.perafehebrew=64334,ht.percent=37,ht.percentarabic=1642,ht.percentmonospace=65285,ht.percentsmall=65130,ht.period=46,ht.periodarmenian=1417,ht.periodcentered=183,ht.periodhalfwidth=65377,ht.periodinferior=63207,ht.periodmonospace=65294,ht.periodsmall=65106,ht.periodsuperior=63208,ht.perispomenigreekcmb=834,ht.perpendicular=8869,ht.perthousand=8240,ht.peseta=8359,ht.pfsquare=13194,ht.phabengali=2475,ht.phadeva=2347,ht.phagujarati=2731,ht.phagurmukhi=2603,ht.phi=966,ht.phi1=981,ht.phieuphacirclekorean=12922,ht.phieuphaparenkorean=12826,ht.phieuphcirclekorean=12908,ht.phieuphkorean=12621,ht.phieuphparenkorean=12812,ht.philatin=632,ht.phinthuthai=3642,ht.phisymbolgreek=981,ht.phook=421,ht.phophanthai=3614,ht.phophungthai=3612,ht.phosamphaothai=3616,ht.pi=960,ht.pieupacirclekorean=12915,ht.pieupaparenkorean=12819,ht.pieupcieuckorean=12662,ht.pieupcirclekorean=12901,ht.pieupkiyeokkorean=12658,ht.pieupkorean=12610,ht.pieupparenkorean=12805,ht.pieupsioskiyeokkorean=12660,ht.pieupsioskorean=12612,ht.pieupsiostikeutkorean=12661,ht.pieupthieuthkorean=12663,ht.pieuptikeutkorean=12659,ht.pihiragana=12404,ht.pikatakana=12500,ht.pisymbolgreek=982,ht.piwrarmenian=1411,ht.planckover2pi=8463,ht.planckover2pi1=8463,ht.plus=43,ht.plusbelowcmb=799,ht.pluscircle=8853,ht.plusminus=177,ht.plusmod=726,ht.plusmonospace=65291,ht.plussmall=65122,ht.plussuperior=8314,ht.pmonospace=65360,ht.pmsquare=13272,ht.pohiragana=12413,ht.pointingindexdownwhite=9759,ht.pointingindexleftwhite=9756,ht.pointingindexrightwhite=9758,ht.pointingindexupwhite=9757,ht.pokatakana=12509,ht.poplathai=3611,ht.postalmark=12306,ht.postalmarkface=12320,ht.pparen=9387,ht.precedes=8826,ht.prescription=8478,ht.primemod=697,ht.primereversed=8245,ht.product=8719,ht.projective=8965,ht.prolongedkana=12540,ht.propellor=8984,ht.propersubset=8834,ht.propersuperset=8835,ht.proportion=8759,ht.proportional=8733,ht.psi=968,ht.psicyrillic=1137,ht.psilipneumatacyrilliccmb=1158,ht.pssquare=13232,ht.puhiragana=12407,ht.pukatakana=12503,ht.pvsquare=13236,ht.pwsquare=13242,ht.q=113,ht.qadeva=2392,ht.qadmahebrew=1448,ht.qafarabic=1602,ht.qaffinalarabic=65238,ht.qafinitialarabic=65239,ht.qafmedialarabic=65240,ht.qamats=1464,ht.qamats10=1464,ht.qamats1a=1464,ht.qamats1c=1464,ht.qamats27=1464,ht.qamats29=1464,ht.qamats33=1464,ht.qamatsde=1464,ht.qamatshebrew=1464,ht.qamatsnarrowhebrew=1464,ht.qamatsqatanhebrew=1464,ht.qamatsqatannarrowhebrew=1464,ht.qamatsqatanquarterhebrew=1464,ht.qamatsqatanwidehebrew=1464,ht.qamatsquarterhebrew=1464,ht.qamatswidehebrew=1464,ht.qarneyparahebrew=1439,ht.qbopomofo=12561,ht.qcircle=9440,ht.qhook=672,ht.qmonospace=65361,ht.qof=1511,ht.qofdagesh=64327,ht.qofdageshhebrew=64327,ht.qofhebrew=1511,ht.qparen=9388,ht.quarternote=9833,ht.qubuts=1467,ht.qubuts18=1467,ht.qubuts25=1467,ht.qubuts31=1467,ht.qubutshebrew=1467,ht.qubutsnarrowhebrew=1467,ht.qubutsquarterhebrew=1467,ht.qubutswidehebrew=1467,ht.question=63,ht.questionarabic=1567,ht.questionarmenian=1374,ht.questiondown=191,ht.questiondownsmall=63423,ht.questiongreek=894,ht.questionmonospace=65311,ht.questionsmall=63295,ht.quotedbl=34,ht.quotedblbase=8222,ht.quotedblleft=8220,ht.quotedblmonospace=65282,ht.quotedblprime=12318,ht.quotedblprimereversed=12317,ht.quotedblright=8221,ht.quoteleft=8216,ht.quoteleftreversed=8219,ht.quotereversed=8219,ht.quoteright=8217,ht.quoterightn=329,ht.quotesinglbase=8218,ht.quotesingle=39,ht.quotesinglemonospace=65287,ht.r=114,ht.raarmenian=1404,ht.rabengali=2480,ht.racute=341,ht.radeva=2352,ht.radical=8730,ht.radicalex=63717,ht.radoverssquare=13230,ht.radoverssquaredsquare=13231,ht.radsquare=13229,ht.rafe=1471,ht.rafehebrew=1471,ht.ragujarati=2736,ht.ragurmukhi=2608,ht.rahiragana=12425,ht.rakatakana=12521,ht.rakatakanahalfwidth=65431,ht.ralowerdiagonalbengali=2545,ht.ramiddlediagonalbengali=2544,ht.ramshorn=612,ht.ratio=8758,ht.rbopomofo=12566,ht.rcaron=345,ht.rcedilla=343,ht.rcircle=9441,ht.rcommaaccent=343,ht.rdblgrave=529,ht.rdotaccent=7769,ht.rdotbelow=7771,ht.rdotbelowmacron=7773,ht.referencemark=8251,ht.reflexsubset=8838,ht.reflexsuperset=8839,ht.registered=174,ht.registersans=63720,ht.registerserif=63194,ht.reharabic=1585,ht.reharmenian=1408,ht.rehfinalarabic=65198,ht.rehiragana=12428,ht.rekatakana=12524,ht.rekatakanahalfwidth=65434,ht.resh=1512,ht.reshdageshhebrew=64328,ht.reshhebrew=1512,ht.reversedtilde=8765,ht.reviahebrew=1431,ht.reviamugrashhebrew=1431,ht.revlogicalnot=8976,ht.rfishhook=638,ht.rfishhookreversed=639,ht.rhabengali=2525,ht.rhadeva=2397,ht.rho=961,ht.rhook=637,ht.rhookturned=635,ht.rhookturnedsuperior=693,ht.rhosymbolgreek=1009,ht.rhotichookmod=734,ht.rieulacirclekorean=12913,ht.rieulaparenkorean=12817,ht.rieulcirclekorean=12899,ht.rieulhieuhkorean=12608,ht.rieulkiyeokkorean=12602,ht.rieulkiyeoksioskorean=12649,ht.rieulkorean=12601,ht.rieulmieumkorean=12603,ht.rieulpansioskorean=12652,ht.rieulparenkorean=12803,ht.rieulphieuphkorean=12607,ht.rieulpieupkorean=12604,ht.rieulpieupsioskorean=12651,ht.rieulsioskorean=12605,ht.rieulthieuthkorean=12606,ht.rieultikeutkorean=12650,ht.rieulyeorinhieuhkorean=12653,ht.rightangle=8735,ht.righttackbelowcmb=793,ht.righttriangle=8895,ht.rihiragana=12426,ht.rikatakana=12522,ht.rikatakanahalfwidth=65432,ht.ring=730,ht.ringbelowcmb=805,ht.ringcmb=778,ht.ringhalfleft=703,ht.ringhalfleftarmenian=1369,ht.ringhalfleftbelowcmb=796,ht.ringhalfleftcentered=723,ht.ringhalfright=702,ht.ringhalfrightbelowcmb=825,ht.ringhalfrightcentered=722,ht.rinvertedbreve=531,ht.rittorusquare=13137,ht.rlinebelow=7775,ht.rlongleg=636,ht.rlonglegturned=634,ht.rmonospace=65362,ht.rohiragana=12429,ht.rokatakana=12525,ht.rokatakanahalfwidth=65435,ht.roruathai=3619,ht.rparen=9389,ht.rrabengali=2524,ht.rradeva=2353,ht.rragurmukhi=2652,ht.rreharabic=1681,ht.rrehfinalarabic=64397,ht.rrvocalicbengali=2528,ht.rrvocalicdeva=2400,ht.rrvocalicgujarati=2784,ht.rrvocalicvowelsignbengali=2500,ht.rrvocalicvowelsigndeva=2372,ht.rrvocalicvowelsigngujarati=2756,ht.rsuperior=63217,ht.rtblock=9616,ht.rturned=633,ht.rturnedsuperior=692,ht.ruhiragana=12427,ht.rukatakana=12523,ht.rukatakanahalfwidth=65433,ht.rupeemarkbengali=2546,ht.rupeesignbengali=2547,ht.rupiah=63197,ht.ruthai=3620,ht.rvocalicbengali=2443,ht.rvocalicdeva=2315,ht.rvocalicgujarati=2699,ht.rvocalicvowelsignbengali=2499,ht.rvocalicvowelsigndeva=2371,ht.rvocalicvowelsigngujarati=2755,ht.s=115,ht.sabengali=2488,ht.sacute=347,ht.sacutedotaccent=7781,ht.sadarabic=1589,ht.sadeva=2360,ht.sadfinalarabic=65210,ht.sadinitialarabic=65211,ht.sadmedialarabic=65212,ht.sagujarati=2744,ht.sagurmukhi=2616,ht.sahiragana=12373,ht.sakatakana=12469,ht.sakatakanahalfwidth=65403,ht.sallallahoualayhewasallamarabic=65018,ht.samekh=1505,ht.samekhdagesh=64321,ht.samekhdageshhebrew=64321,ht.samekhhebrew=1505,ht.saraaathai=3634,ht.saraaethai=3649,ht.saraaimaimalaithai=3652,ht.saraaimaimuanthai=3651,ht.saraamthai=3635,ht.saraathai=3632,ht.saraethai=3648,ht.saraiileftthai=63622,ht.saraiithai=3637,ht.saraileftthai=63621,ht.saraithai=3636,ht.saraothai=3650,ht.saraueeleftthai=63624,ht.saraueethai=3639,ht.saraueleftthai=63623,ht.sarauethai=3638,ht.sarauthai=3640,ht.sarauuthai=3641,ht.sbopomofo=12569,ht.scaron=353,ht.scarondotaccent=7783,ht.scedilla=351,ht.schwa=601,ht.schwacyrillic=1241,ht.schwadieresiscyrillic=1243,ht.schwahook=602,ht.scircle=9442,ht.scircumflex=349,ht.scommaaccent=537,ht.sdotaccent=7777,ht.sdotbelow=7779,ht.sdotbelowdotaccent=7785,ht.seagullbelowcmb=828,ht.second=8243,ht.secondtonechinese=714,ht.section=167,ht.seenarabic=1587,ht.seenfinalarabic=65202,ht.seeninitialarabic=65203,ht.seenmedialarabic=65204,ht.segol=1462,ht.segol13=1462,ht.segol1f=1462,ht.segol2c=1462,ht.segolhebrew=1462,ht.segolnarrowhebrew=1462,ht.segolquarterhebrew=1462,ht.segoltahebrew=1426,ht.segolwidehebrew=1462,ht.seharmenian=1405,ht.sehiragana=12379,ht.sekatakana=12475,ht.sekatakanahalfwidth=65406,ht.semicolon=59,ht.semicolonarabic=1563,ht.semicolonmonospace=65307,ht.semicolonsmall=65108,ht.semivoicedmarkkana=12444,ht.semivoicedmarkkanahalfwidth=65439,ht.sentisquare=13090,ht.sentosquare=13091,ht.seven=55,ht.sevenarabic=1639,ht.sevenbengali=2541,ht.sevencircle=9318,ht.sevencircleinversesansserif=10128,ht.sevendeva=2413,ht.seveneighths=8542,ht.sevengujarati=2797,ht.sevengurmukhi=2669,ht.sevenhackarabic=1639,ht.sevenhangzhou=12327,ht.sevenideographicparen=12838,ht.seveninferior=8327,ht.sevenmonospace=65303,ht.sevenoldstyle=63287,ht.sevenparen=9338,ht.sevenperiod=9358,ht.sevenpersian=1783,ht.sevenroman=8566,ht.sevensuperior=8311,ht.seventeencircle=9328,ht.seventeenparen=9348,ht.seventeenperiod=9368,ht.seventhai=3671,ht.sfthyphen=173,ht.shaarmenian=1399,ht.shabengali=2486,ht.shacyrillic=1096,ht.shaddaarabic=1617,ht.shaddadammaarabic=64609,ht.shaddadammatanarabic=64606,ht.shaddafathaarabic=64608,ht.shaddakasraarabic=64610,ht.shaddakasratanarabic=64607,ht.shade=9618,ht.shadedark=9619,ht.shadelight=9617,ht.shademedium=9618,ht.shadeva=2358,ht.shagujarati=2742,ht.shagurmukhi=2614,ht.shalshelethebrew=1427,ht.shbopomofo=12565,ht.shchacyrillic=1097,ht.sheenarabic=1588,ht.sheenfinalarabic=65206,ht.sheeninitialarabic=65207,ht.sheenmedialarabic=65208,ht.sheicoptic=995,ht.sheqel=8362,ht.sheqelhebrew=8362,ht.sheva=1456,ht.sheva115=1456,ht.sheva15=1456,ht.sheva22=1456,ht.sheva2e=1456,ht.shevahebrew=1456,ht.shevanarrowhebrew=1456,ht.shevaquarterhebrew=1456,ht.shevawidehebrew=1456,ht.shhacyrillic=1211,ht.shimacoptic=1005,ht.shin=1513,ht.shindagesh=64329,ht.shindageshhebrew=64329,ht.shindageshshindot=64300,ht.shindageshshindothebrew=64300,ht.shindageshsindot=64301,ht.shindageshsindothebrew=64301,ht.shindothebrew=1473,ht.shinhebrew=1513,ht.shinshindot=64298,ht.shinshindothebrew=64298,ht.shinsindot=64299,ht.shinsindothebrew=64299,ht.shook=642,ht.sigma=963,ht.sigma1=962,ht.sigmafinal=962,ht.sigmalunatesymbolgreek=1010,ht.sihiragana=12375,ht.sikatakana=12471,ht.sikatakanahalfwidth=65404,ht.siluqhebrew=1469,ht.siluqlefthebrew=1469,ht.similar=8764,ht.sindothebrew=1474,ht.siosacirclekorean=12916,ht.siosaparenkorean=12820,ht.sioscieuckorean=12670,ht.sioscirclekorean=12902,ht.sioskiyeokkorean=12666,ht.sioskorean=12613,ht.siosnieunkorean=12667,ht.siosparenkorean=12806,ht.siospieupkorean=12669,ht.siostikeutkorean=12668,ht.six=54,ht.sixarabic=1638,ht.sixbengali=2540,ht.sixcircle=9317,ht.sixcircleinversesansserif=10127,ht.sixdeva=2412,ht.sixgujarati=2796,ht.sixgurmukhi=2668,ht.sixhackarabic=1638,ht.sixhangzhou=12326,ht.sixideographicparen=12837,ht.sixinferior=8326,ht.sixmonospace=65302,ht.sixoldstyle=63286,ht.sixparen=9337,ht.sixperiod=9357,ht.sixpersian=1782,ht.sixroman=8565,ht.sixsuperior=8310,ht.sixteencircle=9327,ht.sixteencurrencydenominatorbengali=2553,ht.sixteenparen=9347,ht.sixteenperiod=9367,ht.sixthai=3670,ht.slash=47,ht.slashmonospace=65295,ht.slong=383,ht.slongdotaccent=7835,ht.smileface=9786,ht.smonospace=65363,ht.sofpasuqhebrew=1475,ht.softhyphen=173,ht.softsigncyrillic=1100,ht.sohiragana=12381,ht.sokatakana=12477,ht.sokatakanahalfwidth=65407,ht.soliduslongoverlaycmb=824,ht.solidusshortoverlaycmb=823,ht.sorusithai=3625,ht.sosalathai=3624,ht.sosothai=3595,ht.sosuathai=3626,ht.space=32,ht.spacehackarabic=32,ht.spade=9824,ht.spadesuitblack=9824,ht.spadesuitwhite=9828,ht.sparen=9390,ht.squarebelowcmb=827,ht.squarecc=13252,ht.squarecm=13213,ht.squarediagonalcrosshatchfill=9641,ht.squarehorizontalfill=9636,ht.squarekg=13199,ht.squarekm=13214,ht.squarekmcapital=13262,ht.squareln=13265,ht.squarelog=13266,ht.squaremg=13198,ht.squaremil=13269,ht.squaremm=13212,ht.squaremsquared=13217,ht.squareorthogonalcrosshatchfill=9638,ht.squareupperlefttolowerrightfill=9639,ht.squareupperrighttolowerleftfill=9640,ht.squareverticalfill=9637,ht.squarewhitewithsmallblack=9635,ht.srsquare=13275,ht.ssabengali=2487,ht.ssadeva=2359,ht.ssagujarati=2743,ht.ssangcieuckorean=12617,ht.ssanghieuhkorean=12677,ht.ssangieungkorean=12672,ht.ssangkiyeokkorean=12594,ht.ssangnieunkorean=12645,ht.ssangpieupkorean=12611,ht.ssangsioskorean=12614,ht.ssangtikeutkorean=12600,ht.ssuperior=63218,ht.sterling=163,ht.sterlingmonospace=65505,ht.strokelongoverlaycmb=822,ht.strokeshortoverlaycmb=821,ht.subset=8834,ht.subsetnotequal=8842,ht.subsetorequal=8838,ht.succeeds=8827,ht.suchthat=8715,ht.suhiragana=12377,ht.sukatakana=12473,ht.sukatakanahalfwidth=65405,ht.sukunarabic=1618,ht.summation=8721,ht.sun=9788,ht.superset=8835,ht.supersetnotequal=8843,ht.supersetorequal=8839,ht.svsquare=13276,ht.syouwaerasquare=13180,ht.t=116,ht.tabengali=2468,ht.tackdown=8868,ht.tackleft=8867,ht.tadeva=2340,ht.tagujarati=2724,ht.tagurmukhi=2596,ht.taharabic=1591,ht.tahfinalarabic=65218,ht.tahinitialarabic=65219,ht.tahiragana=12383,ht.tahmedialarabic=65220,ht.taisyouerasquare=13181,ht.takatakana=12479,ht.takatakanahalfwidth=65408,ht.tatweelarabic=1600,ht.tau=964,ht.tav=1514,ht.tavdages=64330,ht.tavdagesh=64330,ht.tavdageshhebrew=64330,ht.tavhebrew=1514,ht.tbar=359,ht.tbopomofo=12554,ht.tcaron=357,ht.tccurl=680,ht.tcedilla=355,ht.tcheharabic=1670,ht.tchehfinalarabic=64379,ht.tchehinitialarabic=64380,ht.tchehmedialarabic=64381,ht.tcircle=9443,ht.tcircumflexbelow=7793,ht.tcommaaccent=355,ht.tdieresis=7831,ht.tdotaccent=7787,ht.tdotbelow=7789,ht.tecyrillic=1090,ht.tedescendercyrillic=1197,ht.teharabic=1578,ht.tehfinalarabic=65174,ht.tehhahinitialarabic=64674,ht.tehhahisolatedarabic=64524,ht.tehinitialarabic=65175,ht.tehiragana=12390,ht.tehjeeminitialarabic=64673,ht.tehjeemisolatedarabic=64523,ht.tehmarbutaarabic=1577,ht.tehmarbutafinalarabic=65172,ht.tehmedialarabic=65176,ht.tehmeeminitialarabic=64676,ht.tehmeemisolatedarabic=64526,ht.tehnoonfinalarabic=64627,ht.tekatakana=12486,ht.tekatakanahalfwidth=65411,ht.telephone=8481,ht.telephoneblack=9742,ht.telishagedolahebrew=1440,ht.telishaqetanahebrew=1449,ht.tencircle=9321,ht.tenideographicparen=12841,ht.tenparen=9341,ht.tenperiod=9361,ht.tenroman=8569,ht.tesh=679,ht.tet=1496,ht.tetdagesh=64312,ht.tetdageshhebrew=64312,ht.tethebrew=1496,ht.tetsecyrillic=1205,ht.tevirhebrew=1435,ht.tevirlefthebrew=1435,ht.thabengali=2469,ht.thadeva=2341,ht.thagujarati=2725,ht.thagurmukhi=2597,ht.thalarabic=1584,ht.thalfinalarabic=65196,ht.thanthakhatlowleftthai=63640,ht.thanthakhatlowrightthai=63639,ht.thanthakhatthai=3660,ht.thanthakhatupperleftthai=63638,ht.theharabic=1579,ht.thehfinalarabic=65178,ht.thehinitialarabic=65179,ht.thehmedialarabic=65180,ht.thereexists=8707,ht.therefore=8756,ht.theta=952,ht.theta1=977,ht.thetasymbolgreek=977,ht.thieuthacirclekorean=12921,ht.thieuthaparenkorean=12825,ht.thieuthcirclekorean=12907,ht.thieuthkorean=12620,ht.thieuthparenkorean=12811,ht.thirteencircle=9324,ht.thirteenparen=9344,ht.thirteenperiod=9364,ht.thonangmonthothai=3601,ht.thook=429,ht.thophuthaothai=3602,ht.thorn=254,ht.thothahanthai=3607,ht.thothanthai=3600,ht.thothongthai=3608,ht.thothungthai=3606,ht.thousandcyrillic=1154,ht.thousandsseparatorarabic=1644,ht.thousandsseparatorpersian=1644,ht.three=51,ht.threearabic=1635,ht.threebengali=2537,ht.threecircle=9314,ht.threecircleinversesansserif=10124,ht.threedeva=2409,ht.threeeighths=8540,ht.threegujarati=2793,ht.threegurmukhi=2665,ht.threehackarabic=1635,ht.threehangzhou=12323,ht.threeideographicparen=12834,ht.threeinferior=8323,ht.threemonospace=65299,ht.threenumeratorbengali=2550,ht.threeoldstyle=63283,ht.threeparen=9334,ht.threeperiod=9354,ht.threepersian=1779,ht.threequarters=190,ht.threequartersemdash=63198,ht.threeroman=8562,ht.threesuperior=179,ht.threethai=3667,ht.thzsquare=13204,ht.tihiragana=12385,ht.tikatakana=12481,ht.tikatakanahalfwidth=65409,ht.tikeutacirclekorean=12912,ht.tikeutaparenkorean=12816,ht.tikeutcirclekorean=12898,ht.tikeutkorean=12599,ht.tikeutparenkorean=12802,ht.tilde=732,ht.tildebelowcmb=816,ht.tildecmb=771,ht.tildecomb=771,ht.tildedoublecmb=864,ht.tildeoperator=8764,ht.tildeoverlaycmb=820,ht.tildeverticalcmb=830,ht.timescircle=8855,ht.tipehahebrew=1430,ht.tipehalefthebrew=1430,ht.tippigurmukhi=2672,ht.titlocyrilliccmb=1155,ht.tiwnarmenian=1407,ht.tlinebelow=7791,ht.tmonospace=65364,ht.toarmenian=1385,ht.tohiragana=12392,ht.tokatakana=12488,ht.tokatakanahalfwidth=65412,ht.tonebarextrahighmod=741,ht.tonebarextralowmod=745,ht.tonebarhighmod=742,ht.tonebarlowmod=744,ht.tonebarmidmod=743,ht.tonefive=445,ht.tonesix=389,ht.tonetwo=424,ht.tonos=900,ht.tonsquare=13095,ht.topatakthai=3599,ht.tortoiseshellbracketleft=12308,ht.tortoiseshellbracketleftsmall=65117,ht.tortoiseshellbracketleftvertical=65081,ht.tortoiseshellbracketright=12309,ht.tortoiseshellbracketrightsmall=65118,ht.tortoiseshellbracketrightvertical=65082,ht.totaothai=3605,ht.tpalatalhook=427,ht.tparen=9391,ht.trademark=8482,ht.trademarksans=63722,ht.trademarkserif=63195,ht.tretroflexhook=648,ht.triagdn=9660,ht.triaglf=9668,ht.triagrt=9658,ht.triagup=9650,ht.ts=678,ht.tsadi=1510,ht.tsadidagesh=64326,ht.tsadidageshhebrew=64326,ht.tsadihebrew=1510,ht.tsecyrillic=1094,ht.tsere=1461,ht.tsere12=1461,ht.tsere1e=1461,ht.tsere2b=1461,ht.tserehebrew=1461,ht.tserenarrowhebrew=1461,ht.tserequarterhebrew=1461,ht.tserewidehebrew=1461,ht.tshecyrillic=1115,ht.tsuperior=63219,ht.ttabengali=2463,ht.ttadeva=2335,ht.ttagujarati=2719,ht.ttagurmukhi=2591,ht.tteharabic=1657,ht.ttehfinalarabic=64359,ht.ttehinitialarabic=64360,ht.ttehmedialarabic=64361,ht.tthabengali=2464,ht.tthadeva=2336,ht.tthagujarati=2720,ht.tthagurmukhi=2592,ht.tturned=647,ht.tuhiragana=12388,ht.tukatakana=12484,ht.tukatakanahalfwidth=65410,ht.tusmallhiragana=12387,ht.tusmallkatakana=12483,ht.tusmallkatakanahalfwidth=65391,ht.twelvecircle=9323,ht.twelveparen=9343,ht.twelveperiod=9363,ht.twelveroman=8571,ht.twentycircle=9331,ht.twentyhangzhou=21316,ht.twentyparen=9351,ht.twentyperiod=9371,ht.two=50,ht.twoarabic=1634,ht.twobengali=2536,ht.twocircle=9313,ht.twocircleinversesansserif=10123,ht.twodeva=2408,ht.twodotenleader=8229,ht.twodotleader=8229,ht.twodotleadervertical=65072,ht.twogujarati=2792,ht.twogurmukhi=2664,ht.twohackarabic=1634,ht.twohangzhou=12322,ht.twoideographicparen=12833,ht.twoinferior=8322,ht.twomonospace=65298,ht.twonumeratorbengali=2549,ht.twooldstyle=63282,ht.twoparen=9333,ht.twoperiod=9353,ht.twopersian=1778,ht.tworoman=8561,ht.twostroke=443,ht.twosuperior=178,ht.twothai=3666,ht.twothirds=8532,ht.u=117,ht.uacute=250,ht.ubar=649,ht.ubengali=2441,ht.ubopomofo=12584,ht.ubreve=365,ht.ucaron=468,ht.ucircle=9444,ht.ucircumflex=251,ht.ucircumflexbelow=7799,ht.ucyrillic=1091,ht.udattadeva=2385,ht.udblacute=369,ht.udblgrave=533,ht.udeva=2313,ht.udieresis=252,ht.udieresisacute=472,ht.udieresisbelow=7795,ht.udieresiscaron=474,ht.udieresiscyrillic=1265,ht.udieresisgrave=476,ht.udieresismacron=470,ht.udotbelow=7909,ht.ugrave=249,ht.ugujarati=2697,ht.ugurmukhi=2569,ht.uhiragana=12358,ht.uhookabove=7911,ht.uhorn=432,ht.uhornacute=7913,ht.uhorndotbelow=7921,ht.uhorngrave=7915,ht.uhornhookabove=7917,ht.uhorntilde=7919,ht.uhungarumlaut=369,ht.uhungarumlautcyrillic=1267,ht.uinvertedbreve=535,ht.ukatakana=12454,ht.ukatakanahalfwidth=65395,ht.ukcyrillic=1145,ht.ukorean=12636,ht.umacron=363,ht.umacroncyrillic=1263,ht.umacrondieresis=7803,ht.umatragurmukhi=2625,ht.umonospace=65365,ht.underscore=95,ht.underscoredbl=8215,ht.underscoremonospace=65343,ht.underscorevertical=65075,ht.underscorewavy=65103,ht.union=8746,ht.universal=8704,ht.uogonek=371,ht.uparen=9392,ht.upblock=9600,ht.upperdothebrew=1476,ht.upsilon=965,ht.upsilondieresis=971,ht.upsilondieresistonos=944,ht.upsilonlatin=650,ht.upsilontonos=973,ht.uptackbelowcmb=797,ht.uptackmod=724,ht.uragurmukhi=2675,ht.uring=367,ht.ushortcyrillic=1118,ht.usmallhiragana=12357,ht.usmallkatakana=12453,ht.usmallkatakanahalfwidth=65385,ht.ustraightcyrillic=1199,ht.ustraightstrokecyrillic=1201,ht.utilde=361,ht.utildeacute=7801,ht.utildebelow=7797,ht.uubengali=2442,ht.uudeva=2314,ht.uugujarati=2698,ht.uugurmukhi=2570,ht.uumatragurmukhi=2626,ht.uuvowelsignbengali=2498,ht.uuvowelsigndeva=2370,ht.uuvowelsigngujarati=2754,ht.uvowelsignbengali=2497,ht.uvowelsigndeva=2369,ht.uvowelsigngujarati=2753,ht.v=118,ht.vadeva=2357,ht.vagujarati=2741,ht.vagurmukhi=2613,ht.vakatakana=12535,ht.vav=1493,ht.vavdagesh=64309,ht.vavdagesh65=64309,ht.vavdageshhebrew=64309,ht.vavhebrew=1493,ht.vavholam=64331,ht.vavholamhebrew=64331,ht.vavvavhebrew=1520,ht.vavyodhebrew=1521,ht.vcircle=9445,ht.vdotbelow=7807,ht.vecyrillic=1074,ht.veharabic=1700,ht.vehfinalarabic=64363,ht.vehinitialarabic=64364,ht.vehmedialarabic=64365,ht.vekatakana=12537,ht.venus=9792,ht.verticalbar=124,ht.verticallineabovecmb=781,ht.verticallinebelowcmb=809,ht.verticallinelowmod=716,ht.verticallinemod=712,ht.vewarmenian=1406,ht.vhook=651,ht.vikatakana=12536,ht.viramabengali=2509,ht.viramadeva=2381,ht.viramagujarati=2765,ht.visargabengali=2435,ht.visargadeva=2307,ht.visargagujarati=2691,ht.vmonospace=65366,ht.voarmenian=1400,ht.voicediterationhiragana=12446,ht.voicediterationkatakana=12542,ht.voicedmarkkana=12443,ht.voicedmarkkanahalfwidth=65438,ht.vokatakana=12538,ht.vparen=9393,ht.vtilde=7805,ht.vturned=652,ht.vuhiragana=12436,ht.vukatakana=12532,ht.w=119,ht.wacute=7811,ht.waekorean=12633,ht.wahiragana=12431,ht.wakatakana=12527,ht.wakatakanahalfwidth=65436,ht.wakorean=12632,ht.wasmallhiragana=12430,ht.wasmallkatakana=12526,ht.wattosquare=13143,ht.wavedash=12316,ht.wavyunderscorevertical=65076,ht.wawarabic=1608,ht.wawfinalarabic=65262,ht.wawhamzaabovearabic=1572,ht.wawhamzaabovefinalarabic=65158,ht.wbsquare=13277,ht.wcircle=9446,ht.wcircumflex=373,ht.wdieresis=7813,ht.wdotaccent=7815,ht.wdotbelow=7817,ht.wehiragana=12433,ht.weierstrass=8472,ht.wekatakana=12529,ht.wekorean=12638,ht.weokorean=12637,ht.wgrave=7809,ht.whitebullet=9702,ht.whitecircle=9675,ht.whitecircleinverse=9689,ht.whitecornerbracketleft=12302,ht.whitecornerbracketleftvertical=65091,ht.whitecornerbracketright=12303,ht.whitecornerbracketrightvertical=65092,ht.whitediamond=9671,ht.whitediamondcontainingblacksmalldiamond=9672,ht.whitedownpointingsmalltriangle=9663,ht.whitedownpointingtriangle=9661,ht.whiteleftpointingsmalltriangle=9667,ht.whiteleftpointingtriangle=9665,ht.whitelenticularbracketleft=12310,ht.whitelenticularbracketright=12311,ht.whiterightpointingsmalltriangle=9657,ht.whiterightpointingtriangle=9655,ht.whitesmallsquare=9643,ht.whitesmilingface=9786,ht.whitesquare=9633,ht.whitestar=9734,ht.whitetelephone=9743,ht.whitetortoiseshellbracketleft=12312,ht.whitetortoiseshellbracketright=12313,ht.whiteuppointingsmalltriangle=9653,ht.whiteuppointingtriangle=9651,ht.wihiragana=12432,ht.wikatakana=12528,ht.wikorean=12639,ht.wmonospace=65367,ht.wohiragana=12434,ht.wokatakana=12530,ht.wokatakanahalfwidth=65382,ht.won=8361,ht.wonmonospace=65510,ht.wowaenthai=3623,ht.wparen=9394,ht.wring=7832,ht.wsuperior=695,ht.wturned=653,ht.wynn=447,ht.x=120,ht.xabovecmb=829,ht.xbopomofo=12562,ht.xcircle=9447,ht.xdieresis=7821,ht.xdotaccent=7819,ht.xeharmenian=1389,ht.xi=958,ht.xmonospace=65368,ht.xparen=9395,ht.xsuperior=739,ht.y=121,ht.yaadosquare=13134,ht.yabengali=2479,ht.yacute=253,ht.yadeva=2351,ht.yaekorean=12626,ht.yagujarati=2735,ht.yagurmukhi=2607,ht.yahiragana=12420,ht.yakatakana=12516,ht.yakatakanahalfwidth=65428,ht.yakorean=12625,ht.yamakkanthai=3662,ht.yasmallhiragana=12419,ht.yasmallkatakana=12515,ht.yasmallkatakanahalfwidth=65388,ht.yatcyrillic=1123,ht.ycircle=9448,ht.ycircumflex=375,ht.ydieresis=255,ht.ydotaccent=7823,ht.ydotbelow=7925,ht.yeharabic=1610,ht.yehbarreearabic=1746,ht.yehbarreefinalarabic=64431,ht.yehfinalarabic=65266,ht.yehhamzaabovearabic=1574,ht.yehhamzaabovefinalarabic=65162,ht.yehhamzaaboveinitialarabic=65163,ht.yehhamzaabovemedialarabic=65164,ht.yehinitialarabic=65267,ht.yehmedialarabic=65268,ht.yehmeeminitialarabic=64733,ht.yehmeemisolatedarabic=64600,ht.yehnoonfinalarabic=64660,ht.yehthreedotsbelowarabic=1745,ht.yekorean=12630,ht.yen=165,ht.yenmonospace=65509,ht.yeokorean=12629,ht.yeorinhieuhkorean=12678,ht.yerahbenyomohebrew=1450,ht.yerahbenyomolefthebrew=1450,ht.yericyrillic=1099,ht.yerudieresiscyrillic=1273,ht.yesieungkorean=12673,ht.yesieungpansioskorean=12675,ht.yesieungsioskorean=12674,ht.yetivhebrew=1434,ht.ygrave=7923,ht.yhook=436,ht.yhookabove=7927,ht.yiarmenian=1397,ht.yicyrillic=1111,ht.yikorean=12642,ht.yinyang=9775,ht.yiwnarmenian=1410,ht.ymonospace=65369,ht.yod=1497,ht.yoddagesh=64313,ht.yoddageshhebrew=64313,ht.yodhebrew=1497,ht.yodyodhebrew=1522,ht.yodyodpatahhebrew=64287,ht.yohiragana=12424,ht.yoikorean=12681,ht.yokatakana=12520,ht.yokatakanahalfwidth=65430,ht.yokorean=12635,ht.yosmallhiragana=12423,ht.yosmallkatakana=12519,ht.yosmallkatakanahalfwidth=65390,ht.yotgreek=1011,ht.yoyaekorean=12680,ht.yoyakorean=12679,ht.yoyakthai=3618,ht.yoyingthai=3597,ht.yparen=9396,ht.ypogegrammeni=890,ht.ypogegrammenigreekcmb=837,ht.yr=422,ht.yring=7833,ht.ysuperior=696,ht.ytilde=7929,ht.yturned=654,ht.yuhiragana=12422,ht.yuikorean=12684,ht.yukatakana=12518,ht.yukatakanahalfwidth=65429,ht.yukorean=12640,ht.yusbigcyrillic=1131,ht.yusbigiotifiedcyrillic=1133,ht.yuslittlecyrillic=1127,ht.yuslittleiotifiedcyrillic=1129,ht.yusmallhiragana=12421,ht.yusmallkatakana=12517,ht.yusmallkatakanahalfwidth=65389,ht.yuyekorean=12683,ht.yuyeokorean=12682,ht.yyabengali=2527,ht.yyadeva=2399,ht.z=122,ht.zaarmenian=1382,ht.zacute=378,ht.zadeva=2395,ht.zagurmukhi=2651,ht.zaharabic=1592,ht.zahfinalarabic=65222,ht.zahinitialarabic=65223,ht.zahiragana=12374,ht.zahmedialarabic=65224,ht.zainarabic=1586,ht.zainfinalarabic=65200,ht.zakatakana=12470,ht.zaqefgadolhebrew=1429,ht.zaqefqatanhebrew=1428,ht.zarqahebrew=1432,ht.zayin=1494,ht.zayindagesh=64310,ht.zayindageshhebrew=64310,ht.zayinhebrew=1494,ht.zbopomofo=12567,ht.zcaron=382,ht.zcircle=9449,ht.zcircumflex=7825,ht.zcurl=657,ht.zdot=380,ht.zdotaccent=380,ht.zdotbelow=7827,ht.zecyrillic=1079,ht.zedescendercyrillic=1177,ht.zedieresiscyrillic=1247,ht.zehiragana=12380,ht.zekatakana=12476,ht.zero=48,ht.zeroarabic=1632,ht.zerobengali=2534,ht.zerodeva=2406,ht.zerogujarati=2790,ht.zerogurmukhi=2662,ht.zerohackarabic=1632,ht.zeroinferior=8320,ht.zeromonospace=65296,ht.zerooldstyle=63280,ht.zeropersian=1776,ht.zerosuperior=8304,ht.zerothai=3664,ht.zerowidthjoiner=65279,ht.zerowidthnonjoiner=8204,ht.zerowidthspace=8203,ht.zeta=950,ht.zhbopomofo=12563,ht.zhearmenian=1386,ht.zhebrevecyrillic=1218,ht.zhecyrillic=1078,ht.zhedescendercyrillic=1175,ht.zhedieresiscyrillic=1245,ht.zihiragana=12376,ht.zikatakana=12472,ht.zinorhebrew=1454,ht.zlinebelow=7829,ht.zmonospace=65370,ht.zohiragana=12382,ht.zokatakana=12478,ht.zparen=9397,ht.zretroflexhook=656,ht.zstroke=438,ht.zuhiragana=12378,ht.zukatakana=12474,ht[".notdef"]=0,ht.angbracketleftbig=9001,ht.angbracketleftBig=9001,ht.angbracketleftbigg=9001,ht.angbracketleftBigg=9001,ht.angbracketrightBig=9002,ht.angbracketrightbig=9002,ht.angbracketrightBigg=9002,ht.angbracketrightbigg=9002,ht.arrowhookleft=8618,ht.arrowhookright=8617,ht.arrowlefttophalf=8636,ht.arrowleftbothalf=8637,ht.arrownortheast=8599,ht.arrownorthwest=8598,ht.arrowrighttophalf=8640,ht.arrowrightbothalf=8641,ht.arrowsoutheast=8600,ht.arrowsouthwest=8601,ht.backslashbig=8726,ht.backslashBig=8726,ht.backslashBigg=8726,ht.backslashbigg=8726,ht.bardbl=8214,ht.bracehtipdownleft=65079,ht.bracehtipdownright=65079,ht.bracehtipupleft=65080,ht.bracehtipupright=65080,ht.braceleftBig=123,ht.braceleftbig=123,ht.braceleftbigg=123,ht.braceleftBigg=123,ht.bracerightBig=125,ht.bracerightbig=125,ht.bracerightbigg=125,ht.bracerightBigg=125,ht.bracketleftbig=91,ht.bracketleftBig=91,ht.bracketleftbigg=91,ht.bracketleftBigg=91,ht.bracketrightBig=93,ht.bracketrightbig=93,ht.bracketrightbigg=93,ht.bracketrightBigg=93,ht.ceilingleftbig=8968,ht.ceilingleftBig=8968,ht.ceilingleftBigg=8968,ht.ceilingleftbigg=8968,ht.ceilingrightbig=8969,ht.ceilingrightBig=8969,ht.ceilingrightbigg=8969,ht.ceilingrightBigg=8969,ht.circledotdisplay=8857,ht.circledottext=8857,ht.circlemultiplydisplay=8855,ht.circlemultiplytext=8855,ht.circleplusdisplay=8853,ht.circleplustext=8853,ht.contintegraldisplay=8750,ht.contintegraltext=8750,ht.coproductdisplay=8720,ht.coproducttext=8720,ht.floorleftBig=8970,ht.floorleftbig=8970,ht.floorleftbigg=8970,ht.floorleftBigg=8970,ht.floorrightbig=8971,ht.floorrightBig=8971,ht.floorrightBigg=8971,ht.floorrightbigg=8971,ht.hatwide=770,ht.hatwider=770,ht.hatwidest=770,ht.intercal=7488,ht.integraldisplay=8747,ht.integraltext=8747,ht.intersectiondisplay=8898,ht.intersectiontext=8898,ht.logicalanddisplay=8743,ht.logicalandtext=8743,ht.logicalordisplay=8744,ht.logicalortext=8744,ht.parenleftBig=40,ht.parenleftbig=40,ht.parenleftBigg=40,ht.parenleftbigg=40,ht.parenrightBig=41,ht.parenrightbig=41,ht.parenrightBigg=41,ht.parenrightbigg=41,ht.prime=8242,ht.productdisplay=8719,ht.producttext=8719,ht.radicalbig=8730,ht.radicalBig=8730,ht.radicalBigg=8730,ht.radicalbigg=8730,ht.radicalbt=8730,ht.radicaltp=8730,ht.radicalvertex=8730,ht.slashbig=47,ht.slashBig=47,ht.slashBigg=47,ht.slashbigg=47,ht.summationdisplay=8721,ht.summationtext=8721,ht.tildewide=732,ht.tildewider=732,ht.tildewidest=732,ht.uniondisplay=8899,ht.unionmultidisplay=8846,ht.unionmultitext=8846,ht.unionsqdisplay=8852,ht.unionsqtext=8852,ht.uniontext=8899,ht.vextenddouble=8741,ht.vextendsingle=8739});Et.getGlyphsUnicode=kt;const _t=(0,wt.getLookupTableFactory)(function(ht){ht.space=32,ht.a1=9985,ht.a2=9986,ht.a202=9987,ht.a3=9988,ht.a4=9742,ht.a5=9990,ht.a119=9991,ht.a118=9992,ht.a117=9993,ht.a11=9755,ht.a12=9758,ht.a13=9996,ht.a14=9997,ht.a15=9998,ht.a16=9999,ht.a105=1e4,ht.a17=10001,ht.a18=10002,ht.a19=10003,ht.a20=10004,ht.a21=10005,ht.a22=10006,ht.a23=10007,ht.a24=10008,ht.a25=10009,ht.a26=10010,ht.a27=10011,ht.a28=10012,ht.a6=10013,ht.a7=10014,ht.a8=10015,ht.a9=10016,ht.a10=10017,ht.a29=10018,ht.a30=10019,ht.a31=10020,ht.a32=10021,ht.a33=10022,ht.a34=10023,ht.a35=9733,ht.a36=10025,ht.a37=10026,ht.a38=10027,ht.a39=10028,ht.a40=10029,ht.a41=10030,ht.a42=10031,ht.a43=10032,ht.a44=10033,ht.a45=10034,ht.a46=10035,ht.a47=10036,ht.a48=10037,ht.a49=10038,ht.a50=10039,ht.a51=10040,ht.a52=10041,ht.a53=10042,ht.a54=10043,ht.a55=10044,ht.a56=10045,ht.a57=10046,ht.a58=10047,ht.a59=10048,ht.a60=10049,ht.a61=10050,ht.a62=10051,ht.a63=10052,ht.a64=10053,ht.a65=10054,ht.a66=10055,ht.a67=10056,ht.a68=10057,ht.a69=10058,ht.a70=10059,ht.a71=9679,ht.a72=10061,ht.a73=9632,ht.a74=10063,ht.a203=10064,ht.a75=10065,ht.a204=10066,ht.a76=9650,ht.a77=9660,ht.a78=9670,ht.a79=10070,ht.a81=9687,ht.a82=10072,ht.a83=10073,ht.a84=10074,ht.a97=10075,ht.a98=10076,ht.a99=10077,ht.a100=10078,ht.a101=10081,ht.a102=10082,ht.a103=10083,ht.a104=10084,ht.a106=10085,ht.a107=10086,ht.a108=10087,ht.a112=9827,ht.a111=9830,ht.a110=9829,ht.a109=9824,ht.a120=9312,ht.a121=9313,ht.a122=9314,ht.a123=9315,ht.a124=9316,ht.a125=9317,ht.a126=9318,ht.a127=9319,ht.a128=9320,ht.a129=9321,ht.a130=10102,ht.a131=10103,ht.a132=10104,ht.a133=10105,ht.a134=10106,ht.a135=10107,ht.a136=10108,ht.a137=10109,ht.a138=10110,ht.a139=10111,ht.a140=10112,ht.a141=10113,ht.a142=10114,ht.a143=10115,ht.a144=10116,ht.a145=10117,ht.a146=10118,ht.a147=10119,ht.a148=10120,ht.a149=10121,ht.a150=10122,ht.a151=10123,ht.a152=10124,ht.a153=10125,ht.a154=10126,ht.a155=10127,ht.a156=10128,ht.a157=10129,ht.a158=10130,ht.a159=10131,ht.a160=10132,ht.a161=8594,ht.a163=8596,ht.a164=8597,ht.a196=10136,ht.a165=10137,ht.a192=10138,ht.a166=10139,ht.a167=10140,ht.a168=10141,ht.a169=10142,ht.a170=10143,ht.a171=10144,ht.a172=10145,ht.a173=10146,ht.a162=10147,ht.a174=10148,ht.a175=10149,ht.a176=10150,ht.a177=10151,ht.a178=10152,ht.a179=10153,ht.a193=10154,ht.a180=10155,ht.a199=10156,ht.a181=10157,ht.a200=10158,ht.a182=10159,ht.a201=10161,ht.a183=10162,ht.a184=10163,ht.a197=10164,ht.a185=10165,ht.a194=10166,ht.a198=10167,ht.a186=10168,ht.a195=10169,ht.a187=10170,ht.a188=10171,ht.a189=10172,ht.a190=10173,ht.a191=10174,ht.a89=10088,ht.a90=10089,ht.a93=10090,ht.a94=10091,ht.a91=10092,ht.a92=10093,ht.a205=10094,ht.a85=10095,ht.a206=10096,ht.a86=10097,ht.a87=10098,ht.a88=10099,ht.a95=10100,ht.a96=10101,ht[".notdef"]=0});Et.getDingbatsGlyphsUnicode=_t},(Ct,Et,Pt)=>{Object.defineProperty(Et,"__esModule",{value:!0}),Et.clearUnicodeCaches=$t,Et.getCharUnicodeCategory=Lt,Et.getUnicodeForGlyph=ht,Et.getUnicodeRangeFor=Ft,Et.mapSpecialUnicodeValues=_t;var wt=Pt(3);const kt=(0,wt.getLookupTableFactory)(function(Ot){Ot[63721]=169,Ot[63193]=169,Ot[63720]=174,Ot[63194]=174,Ot[63722]=8482,Ot[63195]=8482,Ot[63729]=9127,Ot[63730]=9128,Ot[63731]=9129,Ot[63740]=9131,Ot[63741]=9132,Ot[63742]=9133,Ot[63726]=9121,Ot[63727]=9122,Ot[63728]=9123,Ot[63737]=9124,Ot[63738]=9125,Ot[63739]=9126,Ot[63723]=9115,Ot[63724]=9116,Ot[63725]=9117,Ot[63734]=9118,Ot[63735]=9119,Ot[63736]=9120});function _t(Ot){return Ot>=65520&&Ot<=65535?0:Ot>=62976&&Ot<=63743?kt()[Ot]||Ot:Ot===173?45:Ot}function ht(Ot,jt){let Rt=jt[Ot];if(Rt!==void 0)return Rt;if(!Ot)return-1;if(Ot[0]==="u"){const Kt=Ot.length;let Bt;if(Kt===7&&Ot[1]==="n"&&Ot[2]==="i")Bt=Ot.substring(3);else if(Kt>=5&&Kt<=7)Bt=Ot.substring(1);else return-1;if(Bt===Bt.toUpperCase()&&(Rt=parseInt(Bt,16),Rt>=0))return Rt}return-1}const vt=[[0,127],[128,255],[256,383],[384,591],[592,687,7424,7551,7552,7615],[688,767,42752,42783],[768,879,7616,7679],[880,1023],[11392,11519],[1024,1279,1280,1327,11744,11775,42560,42655],[1328,1423],[1424,1535],[42240,42559],[1536,1791,1872,1919],[1984,2047],[2304,2431],[2432,2559],[2560,2687],[2688,2815],[2816,2943],[2944,3071],[3072,3199],[3200,3327],[3328,3455],[3584,3711],[3712,3839],[4256,4351,11520,11567],[6912,7039],[4352,4607],[7680,7935,11360,11391,42784,43007],[7936,8191],[8192,8303,11776,11903],[8304,8351],[8352,8399],[8400,8447],[8448,8527],[8528,8591],[8592,8703,10224,10239,10496,10623,11008,11263],[8704,8959,10752,11007,10176,10223,10624,10751],[8960,9215],[9216,9279],[9280,9311],[9312,9471],[9472,9599],[9600,9631],[9632,9727],[9728,9983],[9984,10175],[12288,12351],[12352,12447],[12448,12543,12784,12799],[12544,12591,12704,12735],[12592,12687],[43072,43135],[12800,13055],[13056,13311],[44032,55215],[55296,57343],[67840,67871],[19968,40959,11904,12031,12032,12255,12272,12287,13312,19903,131072,173791,12688,12703],[57344,63743],[12736,12783,63744,64255,194560,195103],[64256,64335],[64336,65023],[65056,65071],[65040,65055],[65104,65135],[65136,65279],[65280,65519],[65520,65535],[3840,4095],[1792,1871],[1920,1983],[3456,3583],[4096,4255],[4608,4991,4992,5023,11648,11743],[5024,5119],[5120,5759],[5760,5791],[5792,5887],[6016,6143],[6144,6319],[10240,10495],[40960,42127],[5888,5919,5920,5951,5952,5983,5984,6015],[66304,66351],[66352,66383],[66560,66639],[118784,119039,119040,119295,119296,119375],[119808,120831],[1044480,1048573],[65024,65039,917760,917999],[917504,917631],[6400,6479],[6480,6527],[6528,6623],[6656,6687],[11264,11359],[11568,11647],[19904,19967],[43008,43055],[65536,65663,65664,65791,65792,65855],[65856,65935],[66432,66463],[66464,66527],[66640,66687],[66688,66735],[67584,67647],[68096,68191],[119552,119647],[73728,74751,74752,74879],[119648,119679],[7040,7103],[7168,7247],[7248,7295],[43136,43231],[43264,43311],[43312,43359],[43520,43615],[65936,65999],[66e3,66047],[66208,66271,66176,66207,67872,67903],[127024,127135,126976,127023]];function Ft(Ot,jt=-1){if(jt!==-1){const Rt=vt[jt];for(let Kt=0,Bt=Rt.length;Kt<Bt;Kt+=2)if(Ot>=Rt[Kt]&&Ot<=Rt[Kt+1])return jt}for(let Rt=0,Kt=vt.length;Rt<Kt;Rt++){const Bt=vt[Rt];for(let Gt=0,en=Bt.length;Gt<en;Gt+=2)if(Ot>=Bt[Gt]&&Ot<=Bt[Gt+1])return Rt}return-1}const Vt=new RegExp("^(\\s)|(\\p{Mn})|(\\p{Cf})$","u"),qt=new Map;function Lt(Ot){const jt=qt.get(Ot);if(jt)return jt;const Rt=Ot.match(Vt),Kt={isWhitespace:!!(Rt!=null&&Rt[1]),isZeroWidthDiacritic:!!(Rt!=null&&Rt[2]),isInvisibleFormatMark:!!(Rt!=null&&Rt[3])};return qt.set(Ot,Kt),Kt}function $t(){qt.clear()}},(Ct,Et,Pt)=>{Object.defineProperty(Et,"__esModule",{value:!0}),Et.getSerifFonts=Et.getNonStdFontMap=Et.getGlyphMapForStandardFonts=Et.getFontNameToFileMap=void 0,Et.getStandardFontName=Ot,Et.getSymbolsFonts=Et.getSupplementalGlyphMapForCalibri=Et.getSupplementalGlyphMapForArialBlack=Et.getStdFontMap=void 0,Et.isKnownFontName=jt;var wt=Pt(3),kt=Pt(38);const _t=(0,wt.getLookupTableFactory)(function(Rt){Rt["Times-Roman"]="Times-Roman",Rt.Helvetica="Helvetica",Rt.Courier="Courier",Rt.Symbol="Symbol",Rt["Times-Bold"]="Times-Bold",Rt["Helvetica-Bold"]="Helvetica-Bold",Rt["Courier-Bold"]="Courier-Bold",Rt.ZapfDingbats="ZapfDingbats",Rt["Times-Italic"]="Times-Italic",Rt["Helvetica-Oblique"]="Helvetica-Oblique",Rt["Courier-Oblique"]="Courier-Oblique",Rt["Times-BoldItalic"]="Times-BoldItalic",Rt["Helvetica-BoldOblique"]="Helvetica-BoldOblique",Rt["Courier-BoldOblique"]="Courier-BoldOblique",Rt.ArialNarrow="Helvetica",Rt["ArialNarrow-Bold"]="Helvetica-Bold",Rt["ArialNarrow-BoldItalic"]="Helvetica-BoldOblique",Rt["ArialNarrow-Italic"]="Helvetica-Oblique",Rt.ArialBlack="Helvetica",Rt["ArialBlack-Bold"]="Helvetica-Bold",Rt["ArialBlack-BoldItalic"]="Helvetica-BoldOblique",Rt["ArialBlack-Italic"]="Helvetica-Oblique",Rt["Arial-Black"]="Helvetica",Rt["Arial-Black-Bold"]="Helvetica-Bold",Rt["Arial-Black-BoldItalic"]="Helvetica-BoldOblique",Rt["Arial-Black-Italic"]="Helvetica-Oblique",Rt.Arial="Helvetica",Rt["Arial-Bold"]="Helvetica-Bold",Rt["Arial-BoldItalic"]="Helvetica-BoldOblique",Rt["Arial-Italic"]="Helvetica-Oblique",Rt.ArialMT="Helvetica",Rt["Arial-BoldItalicMT"]="Helvetica-BoldOblique",Rt["Arial-BoldMT"]="Helvetica-Bold",Rt["Arial-ItalicMT"]="Helvetica-Oblique",Rt["Arial-BoldItalicMT-BoldItalic"]="Helvetica-BoldOblique",Rt["Arial-BoldMT-Bold"]="Helvetica-Bold",Rt["Arial-ItalicMT-Italic"]="Helvetica-Oblique",Rt.ArialUnicodeMS="Helvetica",Rt["ArialUnicodeMS-Bold"]="Helvetica-Bold",Rt["ArialUnicodeMS-BoldItalic"]="Helvetica-BoldOblique",Rt["ArialUnicodeMS-Italic"]="Helvetica-Oblique",Rt["Courier-BoldItalic"]="Courier-BoldOblique",Rt["Courier-Italic"]="Courier-Oblique",Rt.CourierNew="Courier",Rt["CourierNew-Bold"]="Courier-Bold",Rt["CourierNew-BoldItalic"]="Courier-BoldOblique",Rt["CourierNew-Italic"]="Courier-Oblique",Rt["CourierNewPS-BoldItalicMT"]="Courier-BoldOblique",Rt["CourierNewPS-BoldMT"]="Courier-Bold",Rt["CourierNewPS-ItalicMT"]="Courier-Oblique",Rt.CourierNewPSMT="Courier",Rt["Helvetica-BoldItalic"]="Helvetica-BoldOblique",Rt["Helvetica-Italic"]="Helvetica-Oblique",Rt["Symbol-Bold"]="Symbol",Rt["Symbol-BoldItalic"]="Symbol",Rt["Symbol-Italic"]="Symbol",Rt.TimesNewRoman="Times-Roman",Rt["TimesNewRoman-Bold"]="Times-Bold",Rt["TimesNewRoman-BoldItalic"]="Times-BoldItalic",Rt["TimesNewRoman-Italic"]="Times-Italic",Rt.TimesNewRomanPS="Times-Roman",Rt["TimesNewRomanPS-Bold"]="Times-Bold",Rt["TimesNewRomanPS-BoldItalic"]="Times-BoldItalic",Rt["TimesNewRomanPS-BoldItalicMT"]="Times-BoldItalic",Rt["TimesNewRomanPS-BoldMT"]="Times-Bold",Rt["TimesNewRomanPS-Italic"]="Times-Italic",Rt["TimesNewRomanPS-ItalicMT"]="Times-Italic",Rt.TimesNewRomanPSMT="Times-Roman",Rt["TimesNewRomanPSMT-Bold"]="Times-Bold",Rt["TimesNewRomanPSMT-BoldItalic"]="Times-BoldItalic",Rt["TimesNewRomanPSMT-Italic"]="Times-Italic"});Et.getStdFontMap=_t;const ht=(0,wt.getLookupTableFactory)(function(Rt){Rt.Courier="FoxitFixed.pfb",Rt["Courier-Bold"]="FoxitFixedBold.pfb",Rt["Courier-BoldOblique"]="FoxitFixedBoldItalic.pfb",Rt["Courier-Oblique"]="FoxitFixedItalic.pfb",Rt.Helvetica="LiberationSans-Regular.ttf",Rt["Helvetica-Bold"]="LiberationSans-Bold.ttf",Rt["Helvetica-BoldOblique"]="LiberationSans-BoldItalic.ttf",Rt["Helvetica-Oblique"]="LiberationSans-Italic.ttf",Rt["Times-Roman"]="FoxitSerif.pfb",Rt["Times-Bold"]="FoxitSerifBold.pfb",Rt["Times-BoldItalic"]="FoxitSerifBoldItalic.pfb",Rt["Times-Italic"]="FoxitSerifItalic.pfb",Rt.Symbol="FoxitSymbol.pfb",Rt.ZapfDingbats="FoxitDingbats.pfb",Rt["LiberationSans-Regular"]="LiberationSans-Regular.ttf",Rt["LiberationSans-Bold"]="LiberationSans-Bold.ttf",Rt["LiberationSans-Italic"]="LiberationSans-Italic.ttf",Rt["LiberationSans-BoldItalic"]="LiberationSans-BoldItalic.ttf"});Et.getFontNameToFileMap=ht;const vt=(0,wt.getLookupTableFactory)(function(Rt){Rt.Calibri="Helvetica",Rt["Calibri-Bold"]="Helvetica-Bold",Rt["Calibri-BoldItalic"]="Helvetica-BoldOblique",Rt["Calibri-Italic"]="Helvetica-Oblique",Rt.CenturyGothic="Helvetica",Rt["CenturyGothic-Bold"]="Helvetica-Bold",Rt["CenturyGothic-BoldItalic"]="Helvetica-BoldOblique",Rt["CenturyGothic-Italic"]="Helvetica-Oblique",Rt.ComicSansMS="Comic Sans MS",Rt["ComicSansMS-Bold"]="Comic Sans MS-Bold",Rt["ComicSansMS-BoldItalic"]="Comic Sans MS-BoldItalic",Rt["ComicSansMS-Italic"]="Comic Sans MS-Italic",Rt.Impact="Helvetica",Rt["ItcSymbol-Bold"]="Helvetica-Bold",Rt["ItcSymbol-BoldItalic"]="Helvetica-BoldOblique",Rt["ItcSymbol-Book"]="Helvetica",Rt["ItcSymbol-BookItalic"]="Helvetica-Oblique",Rt["ItcSymbol-Medium"]="Helvetica",Rt["ItcSymbol-MediumItalic"]="Helvetica-Oblique",Rt.LucidaConsole="Courier",Rt["LucidaConsole-Bold"]="Courier-Bold",Rt["LucidaConsole-BoldItalic"]="Courier-BoldOblique",Rt["LucidaConsole-Italic"]="Courier-Oblique",Rt["LucidaSans-Demi"]="Helvetica-Bold",Rt["MS-Gothic"]="MS Gothic",Rt["MS-Gothic-Bold"]="MS Gothic-Bold",Rt["MS-Gothic-BoldItalic"]="MS Gothic-BoldItalic",Rt["MS-Gothic-Italic"]="MS Gothic-Italic",Rt["MS-Mincho"]="MS Mincho",Rt["MS-Mincho-Bold"]="MS Mincho-Bold",Rt["MS-Mincho-BoldItalic"]="MS Mincho-BoldItalic",Rt["MS-Mincho-Italic"]="MS Mincho-Italic",Rt["MS-PGothic"]="MS PGothic",Rt["MS-PGothic-Bold"]="MS PGothic-Bold",Rt["MS-PGothic-BoldItalic"]="MS PGothic-BoldItalic",Rt["MS-PGothic-Italic"]="MS PGothic-Italic",Rt["MS-PMincho"]="MS PMincho",Rt["MS-PMincho-Bold"]="MS PMincho-Bold",Rt["MS-PMincho-BoldItalic"]="MS PMincho-BoldItalic",Rt["MS-PMincho-Italic"]="MS PMincho-Italic",Rt.NuptialScript="Times-Italic",Rt.SegoeUISymbol="Helvetica"});Et.getNonStdFontMap=vt;const Ft=(0,wt.getLookupTableFactory)(function(Rt){Rt["Adobe Jenson"]=!0,Rt["Adobe Text"]=!0,Rt.Albertus=!0,Rt.Aldus=!0,Rt.Alexandria=!0,Rt.Algerian=!0,Rt["American Typewriter"]=!0,Rt.Antiqua=!0,Rt.Apex=!0,Rt.Arno=!0,Rt.Aster=!0,Rt.Aurora=!0,Rt.Baskerville=!0,Rt.Bell=!0,Rt.Bembo=!0,Rt["Bembo Schoolbook"]=!0,Rt.Benguiat=!0,Rt["Berkeley Old Style"]=!0,Rt["Bernhard Modern"]=!0,Rt["Berthold City"]=!0,Rt.Bodoni=!0,Rt["Bauer Bodoni"]=!0,Rt["Book Antiqua"]=!0,Rt.Bookman=!0,Rt["Bordeaux Roman"]=!0,Rt["Californian FB"]=!0,Rt.Calisto=!0,Rt.Calvert=!0,Rt.Capitals=!0,Rt.Cambria=!0,Rt.Cartier=!0,Rt.Caslon=!0,Rt.Catull=!0,Rt.Centaur=!0,Rt["Century Old Style"]=!0,Rt["Century Schoolbook"]=!0,Rt.Chaparral=!0,Rt["Charis SIL"]=!0,Rt.Cheltenham=!0,Rt["Cholla Slab"]=!0,Rt.Clarendon=!0,Rt.Clearface=!0,Rt.Cochin=!0,Rt.Colonna=!0,Rt["Computer Modern"]=!0,Rt["Concrete Roman"]=!0,Rt.Constantia=!0,Rt["Cooper Black"]=!0,Rt.Corona=!0,Rt.Ecotype=!0,Rt.Egyptienne=!0,Rt.Elephant=!0,Rt.Excelsior=!0,Rt.Fairfield=!0,Rt["FF Scala"]=!0,Rt.Folkard=!0,Rt.Footlight=!0,Rt.FreeSerif=!0,Rt["Friz Quadrata"]=!0,Rt.Garamond=!0,Rt.Gentium=!0,Rt.Georgia=!0,Rt.Gloucester=!0,Rt["Goudy Old Style"]=!0,Rt["Goudy Schoolbook"]=!0,Rt["Goudy Pro Font"]=!0,Rt.Granjon=!0,Rt["Guardian Egyptian"]=!0,Rt.Heather=!0,Rt.Hercules=!0,Rt["High Tower Text"]=!0,Rt.Hiroshige=!0,Rt["Hoefler Text"]=!0,Rt["Humana Serif"]=!0,Rt.Imprint=!0,Rt["Ionic No. 5"]=!0,Rt.Janson=!0,Rt.Joanna=!0,Rt.Korinna=!0,Rt.Lexicon=!0,Rt.LiberationSerif=!0,Rt["Liberation Serif"]=!0,Rt["Linux Libertine"]=!0,Rt.Literaturnaya=!0,Rt.Lucida=!0,Rt["Lucida Bright"]=!0,Rt.Melior=!0,Rt.Memphis=!0,Rt.Miller=!0,Rt.Minion=!0,Rt.Modern=!0,Rt["Mona Lisa"]=!0,Rt["Mrs Eaves"]=!0,Rt["MS Serif"]=!0,Rt["Museo Slab"]=!0,Rt["New York"]=!0,Rt["Nimbus Roman"]=!0,Rt["NPS Rawlinson Roadway"]=!0,Rt.NuptialScript=!0,Rt.Palatino=!0,Rt.Perpetua=!0,Rt.Plantin=!0,Rt["Plantin Schoolbook"]=!0,Rt.Playbill=!0,Rt["Poor Richard"]=!0,Rt["Rawlinson Roadway"]=!0,Rt.Renault=!0,Rt.Requiem=!0,Rt.Rockwell=!0,Rt.Roman=!0,Rt["Rotis Serif"]=!0,Rt.Sabon=!0,Rt.Scala=!0,Rt.Seagull=!0,Rt.Sistina=!0,Rt.Souvenir=!0,Rt.STIX=!0,Rt["Stone Informal"]=!0,Rt["Stone Serif"]=!0,Rt.Sylfaen=!0,Rt.Times=!0,Rt.Trajan=!0,Rt.Trinit=!0,Rt["Trump Mediaeval"]=!0,Rt.Utopia=!0,Rt["Vale Type"]=!0,Rt["Bitstream Vera"]=!0,Rt["Vera Serif"]=!0,Rt.Versailles=!0,Rt.Wanted=!0,Rt.Weiss=!0,Rt["Wide Latin"]=!0,Rt.Windsor=!0,Rt.XITS=!0});Et.getSerifFonts=Ft;const Vt=(0,wt.getLookupTableFactory)(function(Rt){Rt.Dingbats=!0,Rt.Symbol=!0,Rt.ZapfDingbats=!0,Rt.Wingdings=!0,Rt["Wingdings-Bold"]=!0,Rt["Wingdings-Regular"]=!0});Et.getSymbolsFonts=Vt;const qt=(0,wt.getLookupTableFactory)(function(Rt){Rt[2]=10,Rt[3]=32,Rt[4]=33,Rt[5]=34,Rt[6]=35,Rt[7]=36,Rt[8]=37,Rt[9]=38,Rt[10]=39,Rt[11]=40,Rt[12]=41,Rt[13]=42,Rt[14]=43,Rt[15]=44,Rt[16]=45,Rt[17]=46,Rt[18]=47,Rt[19]=48,Rt[20]=49,Rt[21]=50,Rt[22]=51,Rt[23]=52,Rt[24]=53,Rt[25]=54,Rt[26]=55,Rt[27]=56,Rt[28]=57,Rt[29]=58,Rt[30]=894,Rt[31]=60,Rt[32]=61,Rt[33]=62,Rt[34]=63,Rt[35]=64,Rt[36]=65,Rt[37]=66,Rt[38]=67,Rt[39]=68,Rt[40]=69,Rt[41]=70,Rt[42]=71,Rt[43]=72,Rt[44]=73,Rt[45]=74,Rt[46]=75,Rt[47]=76,Rt[48]=77,Rt[49]=78,Rt[50]=79,Rt[51]=80,Rt[52]=81,Rt[53]=82,Rt[54]=83,Rt[55]=84,Rt[56]=85,Rt[57]=86,Rt[58]=87,Rt[59]=88,Rt[60]=89,Rt[61]=90,Rt[62]=91,Rt[63]=92,Rt[64]=93,Rt[65]=94,Rt[66]=95,Rt[67]=96,Rt[68]=97,Rt[69]=98,Rt[70]=99,Rt[71]=100,Rt[72]=101,Rt[73]=102,Rt[74]=103,Rt[75]=104,Rt[76]=105,Rt[77]=106,Rt[78]=107,Rt[79]=108,Rt[80]=109,Rt[81]=110,Rt[82]=111,Rt[83]=112,Rt[84]=113,Rt[85]=114,Rt[86]=115,Rt[87]=116,Rt[88]=117,Rt[89]=118,Rt[90]=119,Rt[91]=120,Rt[92]=121,Rt[93]=122,Rt[94]=123,Rt[95]=124,Rt[96]=125,Rt[97]=126,Rt[98]=196,Rt[99]=197,Rt[100]=199,Rt[101]=201,Rt[102]=209,Rt[103]=214,Rt[104]=220,Rt[105]=225,Rt[106]=224,Rt[107]=226,Rt[108]=228,Rt[109]=227,Rt[110]=229,Rt[111]=231,Rt[112]=233,Rt[113]=232,Rt[114]=234,Rt[115]=235,Rt[116]=237,Rt[117]=236,Rt[118]=238,Rt[119]=239,Rt[120]=241,Rt[121]=243,Rt[122]=242,Rt[123]=244,Rt[124]=246,Rt[125]=245,Rt[126]=250,Rt[127]=249,Rt[128]=251,Rt[129]=252,Rt[130]=8224,Rt[131]=176,Rt[132]=162,Rt[133]=163,Rt[134]=167,Rt[135]=8226,Rt[136]=182,Rt[137]=223,Rt[138]=174,Rt[139]=169,Rt[140]=8482,Rt[141]=180,Rt[142]=168,Rt[143]=8800,Rt[144]=198,Rt[145]=216,Rt[146]=8734,Rt[147]=177,Rt[148]=8804,Rt[149]=8805,Rt[150]=165,Rt[151]=181,Rt[152]=8706,Rt[153]=8721,Rt[154]=8719,Rt[156]=8747,Rt[157]=170,Rt[158]=186,Rt[159]=8486,Rt[160]=230,Rt[161]=248,Rt[162]=191,Rt[163]=161,Rt[164]=172,Rt[165]=8730,Rt[166]=402,Rt[167]=8776,Rt[168]=8710,Rt[169]=171,Rt[170]=187,Rt[171]=8230,Rt[179]=8220,Rt[180]=8221,Rt[181]=8216,Rt[182]=8217,Rt[200]=193,Rt[203]=205,Rt[207]=211,Rt[210]=218,Rt[223]=711,Rt[224]=321,Rt[225]=322,Rt[226]=352,Rt[227]=353,Rt[228]=381,Rt[229]=382,Rt[233]=221,Rt[234]=253,Rt[252]=263,Rt[253]=268,Rt[254]=269,Rt[258]=258,Rt[260]=260,Rt[261]=261,Rt[265]=280,Rt[266]=281,Rt[267]=282,Rt[268]=283,Rt[269]=313,Rt[275]=323,Rt[276]=324,Rt[278]=328,Rt[283]=344,Rt[284]=345,Rt[285]=346,Rt[286]=347,Rt[292]=367,Rt[295]=377,Rt[296]=378,Rt[298]=380,Rt[305]=963,Rt[306]=964,Rt[307]=966,Rt[308]=8215,Rt[309]=8252,Rt[310]=8319,Rt[311]=8359,Rt[312]=8592,Rt[313]=8593,Rt[337]=9552,Rt[493]=1039,Rt[494]=1040,Rt[672]=1488,Rt[673]=1489,Rt[674]=1490,Rt[675]=1491,Rt[676]=1492,Rt[677]=1493,Rt[678]=1494,Rt[679]=1495,Rt[680]=1496,Rt[681]=1497,Rt[682]=1498,Rt[683]=1499,Rt[684]=1500,Rt[685]=1501,Rt[686]=1502,Rt[687]=1503,Rt[688]=1504,Rt[689]=1505,Rt[690]=1506,Rt[691]=1507,Rt[692]=1508,Rt[693]=1509,Rt[694]=1510,Rt[695]=1511,Rt[696]=1512,Rt[697]=1513,Rt[698]=1514,Rt[705]=1524,Rt[706]=8362,Rt[710]=64288,Rt[711]=64298,Rt[759]=1617,Rt[761]=1776,Rt[763]=1778,Rt[775]=1652,Rt[777]=1764,Rt[778]=1780,Rt[779]=1781,Rt[780]=1782,Rt[782]=771,Rt[783]=64726,Rt[786]=8363,Rt[788]=8532,Rt[790]=768,Rt[791]=769,Rt[792]=768,Rt[795]=803,Rt[797]=64336,Rt[798]=64337,Rt[799]=64342,Rt[800]=64343,Rt[801]=64344,Rt[802]=64345,Rt[803]=64362,Rt[804]=64363,Rt[805]=64364,Rt[2424]=7821,Rt[2425]=7822,Rt[2426]=7823,Rt[2427]=7824,Rt[2428]=7825,Rt[2429]=7826,Rt[2430]=7827,Rt[2433]=7682,Rt[2678]=8045,Rt[2679]=8046,Rt[2830]=1552,Rt[2838]=686,Rt[2840]=751,Rt[2842]=753,Rt[2843]=754,Rt[2844]=755,Rt[2846]=757,Rt[2856]=767,Rt[2857]=848,Rt[2858]=849,Rt[2862]=853,Rt[2863]=854,Rt[2864]=855,Rt[2865]=861,Rt[2866]=862,Rt[2906]=7460,Rt[2908]=7462,Rt[2909]=7463,Rt[2910]=7464,Rt[2912]=7466,Rt[2913]=7467,Rt[2914]=7468,Rt[2916]=7470,Rt[2917]=7471,Rt[2918]=7472,Rt[2920]=7474,Rt[2921]=7475,Rt[2922]=7476,Rt[2924]=7478,Rt[2925]=7479,Rt[2926]=7480,Rt[2928]=7482,Rt[2929]=7483,Rt[2930]=7484,Rt[2932]=7486,Rt[2933]=7487,Rt[2934]=7488,Rt[2936]=7490,Rt[2937]=7491,Rt[2938]=7492,Rt[2940]=7494,Rt[2941]=7495,Rt[2942]=7496,Rt[2944]=7498,Rt[2946]=7500,Rt[2948]=7502,Rt[2950]=7504,Rt[2951]=7505,Rt[2952]=7506,Rt[2954]=7508,Rt[2955]=7509,Rt[2956]=7510,Rt[2958]=7512,Rt[2959]=7513,Rt[2960]=7514,Rt[2962]=7516,Rt[2963]=7517,Rt[2964]=7518,Rt[2966]=7520,Rt[2967]=7521,Rt[2968]=7522,Rt[2970]=7524,Rt[2971]=7525,Rt[2972]=7526,Rt[2974]=7528,Rt[2975]=7529,Rt[2976]=7530,Rt[2978]=1537,Rt[2979]=1538,Rt[2980]=1539,Rt[2982]=1549,Rt[2983]=1551,Rt[2984]=1552,Rt[2986]=1554,Rt[2987]=1555,Rt[2988]=1556,Rt[2990]=1623,Rt[2991]=1624,Rt[2995]=1775,Rt[2999]=1791,Rt[3002]=64290,Rt[3003]=64291,Rt[3004]=64292,Rt[3006]=64294,Rt[3007]=64295,Rt[3008]=64296,Rt[3011]=1900,Rt[3014]=8223,Rt[3015]=8244,Rt[3017]=7532,Rt[3018]=7533,Rt[3019]=7534,Rt[3075]=7590,Rt[3076]=7591,Rt[3079]=7594,Rt[3080]=7595,Rt[3083]=7598,Rt[3084]=7599,Rt[3087]=7602,Rt[3088]=7603,Rt[3091]=7606,Rt[3092]=7607,Rt[3095]=7610,Rt[3096]=7611,Rt[3099]=7614,Rt[3100]=7615,Rt[3103]=7618,Rt[3104]=7619,Rt[3107]=8337,Rt[3108]=8338,Rt[3116]=1884,Rt[3119]=1885,Rt[3120]=1885,Rt[3123]=1886,Rt[3124]=1886,Rt[3127]=1887,Rt[3128]=1887,Rt[3131]=1888,Rt[3132]=1888,Rt[3135]=1889,Rt[3136]=1889,Rt[3139]=1890,Rt[3140]=1890,Rt[3143]=1891,Rt[3144]=1891,Rt[3147]=1892,Rt[3148]=1892,Rt[3153]=580,Rt[3154]=581,Rt[3157]=584,Rt[3158]=585,Rt[3161]=588,Rt[3162]=589,Rt[3165]=891,Rt[3166]=892,Rt[3169]=1274,Rt[3170]=1275,Rt[3173]=1278,Rt[3174]=1279,Rt[3181]=7622,Rt[3182]=7623,Rt[3282]=11799,Rt[3316]=578,Rt[3379]=42785,Rt[3393]=1159,Rt[3416]=8377});Et.getGlyphMapForStandardFonts=qt;const Lt=(0,wt.getLookupTableFactory)(function(Rt){Rt[227]=322,Rt[264]=261,Rt[291]=346});Et.getSupplementalGlyphMapForArialBlack=Lt;const $t=(0,wt.getLookupTableFactory)(function(Rt){Rt[1]=32,Rt[4]=65,Rt[5]=192,Rt[6]=193,Rt[9]=196,Rt[17]=66,Rt[18]=67,Rt[21]=268,Rt[24]=68,Rt[28]=69,Rt[29]=200,Rt[30]=201,Rt[32]=282,Rt[38]=70,Rt[39]=71,Rt[44]=72,Rt[47]=73,Rt[48]=204,Rt[49]=205,Rt[58]=74,Rt[60]=75,Rt[62]=76,Rt[68]=77,Rt[69]=78,Rt[75]=79,Rt[76]=210,Rt[80]=214,Rt[87]=80,Rt[89]=81,Rt[90]=82,Rt[92]=344,Rt[94]=83,Rt[97]=352,Rt[100]=84,Rt[104]=85,Rt[109]=220,Rt[115]=86,Rt[116]=87,Rt[121]=88,Rt[122]=89,Rt[124]=221,Rt[127]=90,Rt[129]=381,Rt[258]=97,Rt[259]=224,Rt[260]=225,Rt[263]=228,Rt[268]=261,Rt[271]=98,Rt[272]=99,Rt[273]=263,Rt[275]=269,Rt[282]=100,Rt[286]=101,Rt[287]=232,Rt[288]=233,Rt[290]=283,Rt[295]=281,Rt[296]=102,Rt[336]=103,Rt[346]=104,Rt[349]=105,Rt[350]=236,Rt[351]=237,Rt[361]=106,Rt[364]=107,Rt[367]=108,Rt[371]=322,Rt[373]=109,Rt[374]=110,Rt[381]=111,Rt[382]=242,Rt[383]=243,Rt[386]=246,Rt[393]=112,Rt[395]=113,Rt[396]=114,Rt[398]=345,Rt[400]=115,Rt[401]=347,Rt[403]=353,Rt[410]=116,Rt[437]=117,Rt[442]=252,Rt[448]=118,Rt[449]=119,Rt[454]=120,Rt[455]=121,Rt[457]=253,Rt[460]=122,Rt[462]=382,Rt[463]=380,Rt[853]=44,Rt[855]=58,Rt[856]=46,Rt[876]=47,Rt[878]=45,Rt[882]=45,Rt[894]=40,Rt[895]=41,Rt[896]=91,Rt[897]=93,Rt[923]=64,Rt[1004]=48,Rt[1005]=49,Rt[1006]=50,Rt[1007]=51,Rt[1008]=52,Rt[1009]=53,Rt[1010]=54,Rt[1011]=55,Rt[1012]=56,Rt[1013]=57,Rt[1081]=37,Rt[1085]=43,Rt[1086]=45});Et.getSupplementalGlyphMapForCalibri=$t;function Ot(Rt){const Kt=(0,kt.normalizeFontName)(Rt);return _t()[Kt]}function jt(Rt){const Kt=(0,kt.normalizeFontName)(Rt);return!!(_t()[Kt]||vt()[Kt]||Ft()[Kt]||Vt()[Kt])}},(Ct,Et,Pt)=>{Object.defineProperty(Et,"__esModule",{value:!0}),Et.ToUnicodeMap=Et.IdentityToUnicodeMap=void 0;var wt=Pt(2);class kt{constructor(vt=[]){this._map=vt}get length(){return this._map.length}forEach(vt){for(const Ft in this._map)vt(Ft,this._map[Ft].charCodeAt(0))}has(vt){return this._map[vt]!==void 0}get(vt){return this._map[vt]}charCodeOf(vt){const Ft=this._map;if(Ft.length<=65536)return Ft.indexOf(vt);for(const Vt in Ft)if(Ft[Vt]===vt)return Vt|0;return-1}amend(vt){for(const Ft in vt)this._map[Ft]=vt[Ft]}}Et.ToUnicodeMap=kt;class _t{constructor(vt,Ft){this.firstChar=vt,this.lastChar=Ft}get length(){return this.lastChar+1-this.firstChar}forEach(vt){for(let Ft=this.firstChar,Vt=this.lastChar;Ft<=Vt;Ft++)vt(Ft,Ft)}has(vt){return this.firstChar<=vt&&vt<=this.lastChar}get(vt){if(this.firstChar<=vt&&vt<=this.lastChar)return String.fromCharCode(vt)}charCodeOf(vt){return Number.isInteger(vt)&&vt>=this.firstChar&&vt<=this.lastChar?vt:-1}amend(vt){(0,wt.unreachable)("Should not call amend()")}}Et.IdentityToUnicodeMap=_t},(Ct,Et,Pt)=>{Object.defineProperty(Et,"__esModule",{value:!0}),Et.CFFFont=void 0;var wt=Pt(35),kt=Pt(38),_t=Pt(2);class ht{constructor(Ft,Vt){this.properties=Vt;const qt=new wt.CFFParser(Ft,Vt,kt.SEAC_ANALYSIS_ENABLED);this.cff=qt.parse(),this.cff.duplicateFirstGlyph();const Lt=new wt.CFFCompiler(this.cff);this.seacs=this.cff.seacs;try{this.data=Lt.compile()}catch{(0,_t.warn)("Failed to compile font "+Vt.loadedName),this.data=Ft}this._createBuiltInEncoding()}get numGlyphs(){return this.cff.charStrings.count}getCharset(){return this.cff.charset.charset}getGlyphMapping(){const Ft=this.cff,Vt=this.properties,{cidToGidMap:qt,cMap:Lt}=Vt,$t=Ft.charset.charset;let Ot,jt;if(Vt.composite){let Kt;if((qt==null?void 0:qt.length)>0){Kt=Object.create(null);for(let Gt=0,en=qt.length;Gt<en;Gt++){const hn=qt[Gt];hn!==void 0&&(Kt[hn]=Gt)}}Ot=Object.create(null);let Bt;if(Ft.isCIDFont)for(jt=0;jt<$t.length;jt++){const Gt=$t[jt];Bt=Lt.charCodeOf(Gt),(Kt==null?void 0:Kt[Bt])!==void 0&&(Bt=Kt[Bt]),Ot[Bt]=jt}else for(jt=0;jt<Ft.charStrings.count;jt++)Bt=Lt.charCodeOf(jt),Ot[Bt]=jt;return Ot}let Rt=Ft.encoding?Ft.encoding.encoding:null;return Vt.isInternalFont&&(Rt=Vt.defaultEncoding),Ot=(0,kt.type1FontGlyphMapping)(Vt,Rt,$t),Ot}hasGlyphId(Ft){return this.cff.hasGlyphId(Ft)}_createBuiltInEncoding(){const{charset:Ft,encoding:Vt}=this.cff;if(!Ft||!Vt)return;const qt=Ft.charset,Lt=Vt.encoding,$t=[];for(const Ot in Lt){const jt=Lt[Ot];if(jt>=0){const Rt=qt[jt];Rt&&($t[Ot]=Rt)}}$t.length>0&&(this.properties.builtInEncoding=$t)}}Et.CFFFont=ht},(Ct,Et,Pt)=>{Object.defineProperty(Et,"__esModule",{value:!0}),Et.FontRendererFactory=void 0;var wt=Pt(2),kt=Pt(35),_t=Pt(39),ht=Pt(37),vt=Pt(8);function Ft(Wt,Yt){return(Wt[Yt]<<24|Wt[Yt+1]<<16|Wt[Yt+2]<<8|Wt[Yt+3])>>>0}function Vt(Wt,Yt){return Wt[Yt]<<8|Wt[Yt+1]}function qt(Wt,Yt){return(Wt[Yt]<<24|Wt[Yt+1]<<16)>>16}function Lt(Wt,Yt){return Wt[Yt]<<24>>24}function $t(Wt,Yt){return qt(Wt,Yt)/16384}function Ot(Wt){const Yt=Wt.length;let dn=32768;return Yt<1240?dn=107:Yt<33900&&(dn=1131),dn}function jt(Wt,Yt,dn){const Ut=Vt(Wt,Yt+2)===1?Ft(Wt,Yt+8):Ft(Wt,Yt+16),Mt=Vt(Wt,Yt+Ut);let Ht,sn,zt;if(Mt===4){Vt(Wt,Yt+Ut+2);const Xt=Vt(Wt,Yt+Ut+6)>>1;for(sn=Yt+Ut+14,Ht=[],zt=0;zt<Xt;zt++,sn+=2)Ht[zt]={end:Vt(Wt,sn)};for(sn+=2,zt=0;zt<Xt;zt++,sn+=2)Ht[zt].start=Vt(Wt,sn);for(zt=0;zt<Xt;zt++,sn+=2)Ht[zt].idDelta=Vt(Wt,sn);for(zt=0;zt<Xt;zt++,sn+=2){let Qt=Vt(Wt,sn);if(Qt!==0){Ht[zt].ids=[];for(let ln=0,on=Ht[zt].end-Ht[zt].start+1;ln<on;ln++)Ht[zt].ids[ln]=Vt(Wt,sn+Qt),Qt+=2}}return Ht}else if(Mt===12){const Xt=Ft(Wt,Yt+Ut+12);for(sn=Yt+Ut+16,Ht=[],zt=0;zt<Xt;zt++)Yt=Ft(Wt,sn),Ht.push({start:Yt,end:Ft(Wt,sn+4),idDelta:Ft(Wt,sn+8)-Yt}),sn+=12;return Ht}throw new wt.FormatError(`unsupported cmap: ${Mt}`)}function Rt(Wt,Yt,dn,Ut){var zt,Xt,Qt;const Mt={},sn=new kt.CFFParser(new vt.Stream(Wt,Yt,dn-Yt),Mt,Ut).parse();return{glyphs:sn.charStrings.objects,subrs:(Xt=(zt=sn.topDict.privateDict)==null?void 0:zt.subrsIndex)==null?void 0:Xt.objects,gsubrs:(Qt=sn.globalSubrIndex)==null?void 0:Qt.objects,isCFFCIDFont:sn.isCIDFont,fdSelect:sn.fdSelect,fdArray:sn.fdArray}}function Kt(Wt,Yt,dn){let Ut,Mt;dn?(Ut=4,Mt=Ft):(Ut=2,Mt=(zt,Xt)=>2*Vt(zt,Xt));const Ht=[];let sn=Mt(Yt,0);for(let zt=Ut;zt<Yt.length;zt+=Ut){const Xt=Mt(Yt,zt);Ht.push(Wt.subarray(sn,Xt)),sn=Xt}return Ht}function Bt(Wt,Yt){const dn=Yt.codePointAt(0);let Ut=0,Mt=0,Ht=Wt.length-1;for(;Mt<Ht;){const sn=Mt+Ht+1>>1;dn<Wt[sn].start?Ht=sn-1:Mt=sn}return Wt[Mt].start<=dn&&dn<=Wt[Mt].end&&(Ut=Wt[Mt].idDelta+(Wt[Mt].ids?Wt[Mt].ids[dn-Wt[Mt].start]:dn)&65535),{charCode:dn,glyphId:Ut}}function Gt(Wt,Yt,dn){function Ut(on,cn){Yt.push({cmd:"moveTo",args:[on,cn]})}function Mt(on,cn){Yt.push({cmd:"lineTo",args:[on,cn]})}function Ht(on,cn,rn,an){Yt.push({cmd:"quadraticCurveTo",args:[on,cn,rn,an]})}let sn=0;const zt=qt(Wt,sn);let Xt,Qt=0,ln=0;if(sn+=10,zt<0)do{Xt=Vt(Wt,sn);const on=Vt(Wt,sn+2);sn+=4;let cn,rn;Xt&1?(Xt&2?(cn=qt(Wt,sn),rn=qt(Wt,sn+2)):(cn=Vt(Wt,sn),rn=Vt(Wt,sn+2)),sn+=4):Xt&2?(cn=Lt(Wt,sn++),rn=Lt(Wt,sn++)):(cn=Wt[sn++],rn=Wt[sn++]),Xt&2?(Qt=cn,ln=rn):(Qt=0,ln=0);let an=1,xn=1,wn=0,En=0;Xt&8?(an=xn=$t(Wt,sn),sn+=2):Xt&64?(an=$t(Wt,sn),xn=$t(Wt,sn+2),sn+=4):Xt&128&&(an=$t(Wt,sn),wn=$t(Wt,sn+2),En=$t(Wt,sn+4),xn=$t(Wt,sn+6),sn+=8);const Fn=dn.glyphs[on];Fn&&(Yt.push({cmd:"save"},{cmd:"transform",args:[an,wn,En,xn,Qt,ln]}),Gt(Fn,Yt,dn),Yt.push({cmd:"restore"}))}while(Xt&32);else{const on=[];let cn,rn;for(cn=0;cn<zt;cn++)on.push(Vt(Wt,sn)),sn+=2;const an=Vt(Wt,sn);sn+=2+an;const xn=on.at(-1)+1,wn=[];for(;wn.length<xn;){Xt=Wt[sn++];let Fn=1;for(Xt&8&&(Fn+=Wt[sn++]);Fn-- >0;)wn.push({flags:Xt})}for(cn=0;cn<xn;cn++){switch(wn[cn].flags&18){case 0:Qt+=qt(Wt,sn),sn+=2;break;case 2:Qt-=Wt[sn++];break;case 18:Qt+=Wt[sn++];break}wn[cn].x=Qt}for(cn=0;cn<xn;cn++){switch(wn[cn].flags&36){case 0:ln+=qt(Wt,sn),sn+=2;break;case 4:ln-=Wt[sn++];break;case 36:ln+=Wt[sn++];break}wn[cn].y=ln}let En=0;for(sn=0;sn<zt;sn++){const Fn=on[sn],In=wn.slice(En,Fn+1);if(In[0].flags&1)In.push(In[0]);else if(In.at(-1).flags&1)In.unshift(In.at(-1));else{const Tn={flags:1,x:(In[0].x+In.at(-1).x)/2,y:(In[0].y+In.at(-1).y)/2};In.unshift(Tn),In.push(Tn)}for(Ut(In[0].x,In[0].y),cn=1,rn=In.length;cn<rn;cn++)In[cn].flags&1?Mt(In[cn].x,In[cn].y):In[cn+1].flags&1?(Ht(In[cn].x,In[cn].y,In[cn+1].x,In[cn+1].y),cn++):Ht(In[cn].x,In[cn].y,(In[cn].x+In[cn+1].x)/2,(In[cn].y+In[cn+1].y)/2);En=Fn+1}}}function en(Wt,Yt,dn,Ut){function Mt(cn,rn){Yt.push({cmd:"moveTo",args:[cn,rn]})}function Ht(cn,rn){Yt.push({cmd:"lineTo",args:[cn,rn]})}function sn(cn,rn,an,xn,wn,En){Yt.push({cmd:"bezierCurveTo",args:[cn,rn,an,xn,wn,En]})}const zt=[];let Xt=0,Qt=0,ln=0;function on(cn){var an;let rn=0;for(;rn<cn.length;){let xn=!1,wn=cn[rn++],En,Fn,In,Tn,An,mn,pn,Jt,un;switch(wn){case 1:ln+=zt.length>>1,xn=!0;break;case 3:ln+=zt.length>>1,xn=!0;break;case 4:Qt+=zt.pop(),Mt(Xt,Qt),xn=!0;break;case 5:for(;zt.length>0;)Xt+=zt.shift(),Qt+=zt.shift(),Ht(Xt,Qt);break;case 6:for(;zt.length>0&&(Xt+=zt.shift(),Ht(Xt,Qt),zt.length!==0);)Qt+=zt.shift(),Ht(Xt,Qt);break;case 7:for(;zt.length>0&&(Qt+=zt.shift(),Ht(Xt,Qt),zt.length!==0);)Xt+=zt.shift(),Ht(Xt,Qt);break;case 8:for(;zt.length>0;)En=Xt+zt.shift(),In=Qt+zt.shift(),Fn=En+zt.shift(),Tn=In+zt.shift(),Xt=Fn+zt.shift(),Qt=Tn+zt.shift(),sn(En,In,Fn,Tn,Xt,Qt);break;case 10:if(Jt=zt.pop(),un=null,dn.isCFFCIDFont){const fn=dn.fdSelect.getFDIndex(Ut);if(fn>=0&&fn<dn.fdArray.length){const Sn=dn.fdArray[fn];let kn;(an=Sn.privateDict)!=null&&an.subrsIndex&&(kn=Sn.privateDict.subrsIndex.objects),kn&&(Jt+=Ot(kn),un=kn[Jt])}else(0,wt.warn)("Invalid fd index for glyph index.")}else un=dn.subrs[Jt+dn.subrsBias];un&&on(un);break;case 11:return;case 12:switch(wn=cn[rn++],wn){case 34:En=Xt+zt.shift(),Fn=En+zt.shift(),An=Qt+zt.shift(),Xt=Fn+zt.shift(),sn(En,Qt,Fn,An,Xt,An),En=Xt+zt.shift(),Fn=En+zt.shift(),Xt=Fn+zt.shift(),sn(En,An,Fn,Qt,Xt,Qt);break;case 35:En=Xt+zt.shift(),In=Qt+zt.shift(),Fn=En+zt.shift(),Tn=In+zt.shift(),Xt=Fn+zt.shift(),Qt=Tn+zt.shift(),sn(En,In,Fn,Tn,Xt,Qt),En=Xt+zt.shift(),In=Qt+zt.shift(),Fn=En+zt.shift(),Tn=In+zt.shift(),Xt=Fn+zt.shift(),Qt=Tn+zt.shift(),sn(En,In,Fn,Tn,Xt,Qt),zt.pop();break;case 36:En=Xt+zt.shift(),An=Qt+zt.shift(),Fn=En+zt.shift(),mn=An+zt.shift(),Xt=Fn+zt.shift(),sn(En,An,Fn,mn,Xt,mn),En=Xt+zt.shift(),Fn=En+zt.shift(),pn=mn+zt.shift(),Xt=Fn+zt.shift(),sn(En,mn,Fn,pn,Xt,Qt);break;case 37:const fn=Xt,Sn=Qt;En=Xt+zt.shift(),In=Qt+zt.shift(),Fn=En+zt.shift(),Tn=In+zt.shift(),Xt=Fn+zt.shift(),Qt=Tn+zt.shift(),sn(En,In,Fn,Tn,Xt,Qt),En=Xt+zt.shift(),In=Qt+zt.shift(),Fn=En+zt.shift(),Tn=In+zt.shift(),Xt=Fn,Qt=Tn,Math.abs(Xt-fn)>Math.abs(Qt-Sn)?Xt+=zt.shift():Qt+=zt.shift(),sn(En,In,Fn,Tn,Xt,Qt);break;default:throw new wt.FormatError(`unknown operator: 12 ${wn}`)}break;case 14:if(zt.length>=4){const fn=zt.pop(),Sn=zt.pop();Qt=zt.pop(),Xt=zt.pop(),Yt.push({cmd:"save"},{cmd:"translate",args:[Xt,Qt]});let kn=Bt(dn.cmap,String.fromCharCode(dn.glyphNameMap[ht.StandardEncoding[fn]]));en(dn.glyphs[kn.glyphId],Yt,dn,kn.glyphId),Yt.push({cmd:"restore"}),kn=Bt(dn.cmap,String.fromCharCode(dn.glyphNameMap[ht.StandardEncoding[Sn]])),en(dn.glyphs[kn.glyphId],Yt,dn,kn.glyphId)}return;case 18:ln+=zt.length>>1,xn=!0;break;case 19:ln+=zt.length>>1,rn+=ln+7>>3,xn=!0;break;case 20:ln+=zt.length>>1,rn+=ln+7>>3,xn=!0;break;case 21:Qt+=zt.pop(),Xt+=zt.pop(),Mt(Xt,Qt),xn=!0;break;case 22:Xt+=zt.pop(),Mt(Xt,Qt),xn=!0;break;case 23:ln+=zt.length>>1,xn=!0;break;case 24:for(;zt.length>2;)En=Xt+zt.shift(),In=Qt+zt.shift(),Fn=En+zt.shift(),Tn=In+zt.shift(),Xt=Fn+zt.shift(),Qt=Tn+zt.shift(),sn(En,In,Fn,Tn,Xt,Qt);Xt+=zt.shift(),Qt+=zt.shift(),Ht(Xt,Qt);break;case 25:for(;zt.length>6;)Xt+=zt.shift(),Qt+=zt.shift(),Ht(Xt,Qt);En=Xt+zt.shift(),In=Qt+zt.shift(),Fn=En+zt.shift(),Tn=In+zt.shift(),Xt=Fn+zt.shift(),Qt=Tn+zt.shift(),sn(En,In,Fn,Tn,Xt,Qt);break;case 26:for(zt.length%2&&(Xt+=zt.shift());zt.length>0;)En=Xt,In=Qt+zt.shift(),Fn=En+zt.shift(),Tn=In+zt.shift(),Xt=Fn,Qt=Tn+zt.shift(),sn(En,In,Fn,Tn,Xt,Qt);break;case 27:for(zt.length%2&&(Qt+=zt.shift());zt.length>0;)En=Xt+zt.shift(),In=Qt,Fn=En+zt.shift(),Tn=In+zt.shift(),Xt=Fn+zt.shift(),Qt=Tn,sn(En,In,Fn,Tn,Xt,Qt);break;case 28:zt.push((cn[rn]<<24|cn[rn+1]<<16)>>16),rn+=2;break;case 29:Jt=zt.pop()+dn.gsubrsBias,un=dn.gsubrs[Jt],un&&on(un);break;case 30:for(;zt.length>0&&(En=Xt,In=Qt+zt.shift(),Fn=En+zt.shift(),Tn=In+zt.shift(),Xt=Fn+zt.shift(),Qt=Tn+(zt.length===1?zt.shift():0),sn(En,In,Fn,Tn,Xt,Qt),zt.length!==0);)En=Xt+zt.shift(),In=Qt,Fn=En+zt.shift(),Tn=In+zt.shift(),Qt=Tn+zt.shift(),Xt=Fn+(zt.length===1?zt.shift():0),sn(En,In,Fn,Tn,Xt,Qt);break;case 31:for(;zt.length>0&&(En=Xt+zt.shift(),In=Qt,Fn=En+zt.shift(),Tn=In+zt.shift(),Qt=Tn+zt.shift(),Xt=Fn+(zt.length===1?zt.shift():0),sn(En,In,Fn,Tn,Xt,Qt),zt.length!==0);)En=Xt,In=Qt+zt.shift(),Fn=En+zt.shift(),Tn=In+zt.shift(),Xt=Fn+zt.shift(),Qt=Tn+(zt.length===1?zt.shift():0),sn(En,In,Fn,Tn,Xt,Qt);break;default:if(wn<32)throw new wt.FormatError(`unknown operator: ${wn}`);wn<247?zt.push(wn-139):wn<251?zt.push((wn-247)*256+cn[rn++]+108):wn<255?zt.push(-(wn-251)*256-cn[rn++]-108):(zt.push((cn[rn]<<24|cn[rn+1]<<16|cn[rn+2]<<8|cn[rn+3])/65536),rn+=4);break}xn&&(zt.length=0)}}on(Wt)}const hn=[];class tn{constructor(Yt){this.constructor===tn&&(0,wt.unreachable)("Cannot initialize CompiledFont."),this.fontMatrix=Yt,this.compiledGlyphs=Object.create(null),this.compiledCharCodeToGlyphId=Object.create(null)}getPathJs(Yt){const{charCode:dn,glyphId:Ut}=Bt(this.cmap,Yt);let Mt=this.compiledGlyphs[Ut];if(!Mt)try{Mt=this.compileGlyph(this.glyphs[Ut],Ut),this.compiledGlyphs[Ut]=Mt}catch(Ht){throw this.compiledGlyphs[Ut]=hn,this.compiledCharCodeToGlyphId[dn]===void 0&&(this.compiledCharCodeToGlyphId[dn]=Ut),Ht}return this.compiledCharCodeToGlyphId[dn]===void 0&&(this.compiledCharCodeToGlyphId[dn]=Ut),Mt}compileGlyph(Yt,dn){if(!Yt||Yt.length===0||Yt[0]===14)return hn;let Ut=this.fontMatrix;if(this.isCFFCIDFont){const Ht=this.fdSelect.getFDIndex(dn);Ht>=0&&Ht<this.fdArray.length?Ut=this.fdArray[Ht].getByName("FontMatrix")||wt.FONT_IDENTITY_MATRIX:(0,wt.warn)("Invalid fd index for glyph index.")}const Mt=[{cmd:"save"},{cmd:"transform",args:Ut.slice()},{cmd:"scale",args:["size","-size"]}];return this.compileGlyphImpl(Yt,Mt,dn),Mt.push({cmd:"restore"}),Mt}compileGlyphImpl(){(0,wt.unreachable)("Children classes should implement this.")}hasBuiltPath(Yt){const{charCode:dn,glyphId:Ut}=Bt(this.cmap,Yt);return this.compiledGlyphs[Ut]!==void 0&&this.compiledCharCodeToGlyphId[dn]!==void 0}}class gn extends tn{constructor(Yt,dn,Ut){super(Ut||[488e-6,0,0,488e-6,0,0]),this.glyphs=Yt,this.cmap=dn}compileGlyphImpl(Yt,dn){Gt(Yt,dn,this)}}class nn extends tn{constructor(Yt,dn,Ut,Mt){super(Ut||[.001,0,0,.001,0,0]),this.glyphs=Yt.glyphs,this.gsubrs=Yt.gsubrs||[],this.subrs=Yt.subrs||[],this.cmap=dn,this.glyphNameMap=Mt||(0,_t.getGlyphsUnicode)(),this.gsubrsBias=Ot(this.gsubrs),this.subrsBias=Ot(this.subrs),this.isCFFCIDFont=Yt.isCFFCIDFont,this.fdSelect=Yt.fdSelect,this.fdArray=Yt.fdArray}compileGlyphImpl(Yt,dn,Ut){en(Yt,dn,this,Ut)}}class bn{static create(Yt,dn){const Ut=new Uint8Array(Yt.data);let Mt,Ht,sn,zt,Xt,Qt;const ln=Vt(Ut,4);for(let on=0,cn=12;on<ln;on++,cn+=16){const rn=(0,wt.bytesToString)(Ut.subarray(cn,cn+4)),an=Ft(Ut,cn+8),xn=Ft(Ut,cn+12);switch(rn){case"cmap":Mt=jt(Ut,an);break;case"glyf":Ht=Ut.subarray(an,an+xn);break;case"loca":sn=Ut.subarray(an,an+xn);break;case"head":Qt=Vt(Ut,an+18),Xt=Vt(Ut,an+50);break;case"CFF ":zt=Rt(Ut,an,an+xn,dn);break}}if(Ht){const on=Qt?[1/Qt,0,0,1/Qt,0,0]:Yt.fontMatrix;return new gn(Kt(Ht,sn,Xt),Mt,on)}return new nn(zt,Mt,Yt.fontMatrix,Yt.glyphNameMap)}}Et.FontRendererFactory=bn},(Ct,Et,Pt)=>{Object.defineProperty(Et,"__esModule",{value:!0}),Et.getMetrics=Et.getFontBasicMetrics=void 0;var wt=Pt(3);const kt=(0,wt.getLookupTableFactory)(function(ht){ht.Courier=600,ht["Courier-Bold"]=600,ht["Courier-BoldOblique"]=600,ht["Courier-Oblique"]=600,ht.Helvetica=(0,wt.getLookupTableFactory)(function(vt){vt.space=278,vt.exclam=278,vt.quotedbl=355,vt.numbersign=556,vt.dollar=556,vt.percent=889,vt.ampersand=667,vt.quoteright=222,vt.parenleft=333,vt.parenright=333,vt.asterisk=389,vt.plus=584,vt.comma=278,vt.hyphen=333,vt.period=278,vt.slash=278,vt.zero=556,vt.one=556,vt.two=556,vt.three=556,vt.four=556,vt.five=556,vt.six=556,vt.seven=556,vt.eight=556,vt.nine=556,vt.colon=278,vt.semicolon=278,vt.less=584,vt.equal=584,vt.greater=584,vt.question=556,vt.at=1015,vt.A=667,vt.B=667,vt.C=722,vt.D=722,vt.E=667,vt.F=611,vt.G=778,vt.H=722,vt.I=278,vt.J=500,vt.K=667,vt.L=556,vt.M=833,vt.N=722,vt.O=778,vt.P=667,vt.Q=778,vt.R=722,vt.S=667,vt.T=611,vt.U=722,vt.V=667,vt.W=944,vt.X=667,vt.Y=667,vt.Z=611,vt.bracketleft=278,vt.backslash=278,vt.bracketright=278,vt.asciicircum=469,vt.underscore=556,vt.quoteleft=222,vt.a=556,vt.b=556,vt.c=500,vt.d=556,vt.e=556,vt.f=278,vt.g=556,vt.h=556,vt.i=222,vt.j=222,vt.k=500,vt.l=222,vt.m=833,vt.n=556,vt.o=556,vt.p=556,vt.q=556,vt.r=333,vt.s=500,vt.t=278,vt.u=556,vt.v=500,vt.w=722,vt.x=500,vt.y=500,vt.z=500,vt.braceleft=334,vt.bar=260,vt.braceright=334,vt.asciitilde=584,vt.exclamdown=333,vt.cent=556,vt.sterling=556,vt.fraction=167,vt.yen=556,vt.florin=556,vt.section=556,vt.currency=556,vt.quotesingle=191,vt.quotedblleft=333,vt.guillemotleft=556,vt.guilsinglleft=333,vt.guilsinglright=333,vt.fi=500,vt.fl=500,vt.endash=556,vt.dagger=556,vt.daggerdbl=556,vt.periodcentered=278,vt.paragraph=537,vt.bullet=350,vt.quotesinglbase=222,vt.quotedblbase=333,vt.quotedblright=333,vt.guillemotright=556,vt.ellipsis=1e3,vt.perthousand=1e3,vt.questiondown=611,vt.grave=333,vt.acute=333,vt.circumflex=333,vt.tilde=333,vt.macron=333,vt.breve=333,vt.dotaccent=333,vt.dieresis=333,vt.ring=333,vt.cedilla=333,vt.hungarumlaut=333,vt.ogonek=333,vt.caron=333,vt.emdash=1e3,vt.AE=1e3,vt.ordfeminine=370,vt.Lslash=556,vt.Oslash=778,vt.OE=1e3,vt.ordmasculine=365,vt.ae=889,vt.dotlessi=278,vt.lslash=222,vt.oslash=611,vt.oe=944,vt.germandbls=611,vt.Idieresis=278,vt.eacute=556,vt.abreve=556,vt.uhungarumlaut=556,vt.ecaron=556,vt.Ydieresis=667,vt.divide=584,vt.Yacute=667,vt.Acircumflex=667,vt.aacute=556,vt.Ucircumflex=722,vt.yacute=500,vt.scommaaccent=500,vt.ecircumflex=556,vt.Uring=722,vt.Udieresis=722,vt.aogonek=556,vt.Uacute=722,vt.uogonek=556,vt.Edieresis=667,vt.Dcroat=722,vt.commaaccent=250,vt.copyright=737,vt.Emacron=667,vt.ccaron=500,vt.aring=556,vt.Ncommaaccent=722,vt.lacute=222,vt.agrave=556,vt.Tcommaaccent=611,vt.Cacute=722,vt.atilde=556,vt.Edotaccent=667,vt.scaron=500,vt.scedilla=500,vt.iacute=278,vt.lozenge=471,vt.Rcaron=722,vt.Gcommaaccent=778,vt.ucircumflex=556,vt.acircumflex=556,vt.Amacron=667,vt.rcaron=333,vt.ccedilla=500,vt.Zdotaccent=611,vt.Thorn=667,vt.Omacron=778,vt.Racute=722,vt.Sacute=667,vt.dcaron=643,vt.Umacron=722,vt.uring=556,vt.threesuperior=333,vt.Ograve=778,vt.Agrave=667,vt.Abreve=667,vt.multiply=584,vt.uacute=556,vt.Tcaron=611,vt.partialdiff=476,vt.ydieresis=500,vt.Nacute=722,vt.icircumflex=278,vt.Ecircumflex=667,vt.adieresis=556,vt.edieresis=556,vt.cacute=500,vt.nacute=556,vt.umacron=556,vt.Ncaron=722,vt.Iacute=278,vt.plusminus=584,vt.brokenbar=260,vt.registered=737,vt.Gbreve=778,vt.Idotaccent=278,vt.summation=600,vt.Egrave=667,vt.racute=333,vt.omacron=556,vt.Zacute=611,vt.Zcaron=611,vt.greaterequal=549,vt.Eth=722,vt.Ccedilla=722,vt.lcommaaccent=222,vt.tcaron=317,vt.eogonek=556,vt.Uogonek=722,vt.Aacute=667,vt.Adieresis=667,vt.egrave=556,vt.zacute=500,vt.iogonek=222,vt.Oacute=778,vt.oacute=556,vt.amacron=556,vt.sacute=500,vt.idieresis=278,vt.Ocircumflex=778,vt.Ugrave=722,vt.Delta=612,vt.thorn=556,vt.twosuperior=333,vt.Odieresis=778,vt.mu=556,vt.igrave=278,vt.ohungarumlaut=556,vt.Eogonek=667,vt.dcroat=556,vt.threequarters=834,vt.Scedilla=667,vt.lcaron=299,vt.Kcommaaccent=667,vt.Lacute=556,vt.trademark=1e3,vt.edotaccent=556,vt.Igrave=278,vt.Imacron=278,vt.Lcaron=556,vt.onehalf=834,vt.lessequal=549,vt.ocircumflex=556,vt.ntilde=556,vt.Uhungarumlaut=722,vt.Eacute=667,vt.emacron=556,vt.gbreve=556,vt.onequarter=834,vt.Scaron=667,vt.Scommaaccent=667,vt.Ohungarumlaut=778,vt.degree=400,vt.ograve=556,vt.Ccaron=722,vt.ugrave=556,vt.radical=453,vt.Dcaron=722,vt.rcommaaccent=333,vt.Ntilde=722,vt.otilde=556,vt.Rcommaaccent=722,vt.Lcommaaccent=556,vt.Atilde=667,vt.Aogonek=667,vt.Aring=667,vt.Otilde=778,vt.zdotaccent=500,vt.Ecaron=667,vt.Iogonek=278,vt.kcommaaccent=500,vt.minus=584,vt.Icircumflex=278,vt.ncaron=556,vt.tcommaaccent=278,vt.logicalnot=584,vt.odieresis=556,vt.udieresis=556,vt.notequal=549,vt.gcommaaccent=556,vt.eth=556,vt.zcaron=500,vt.ncommaaccent=556,vt.onesuperior=333,vt.imacron=278,vt.Euro=556}),ht["Helvetica-Bold"]=(0,wt.getLookupTableFactory)(function(vt){vt.space=278,vt.exclam=333,vt.quotedbl=474,vt.numbersign=556,vt.dollar=556,vt.percent=889,vt.ampersand=722,vt.quoteright=278,vt.parenleft=333,vt.parenright=333,vt.asterisk=389,vt.plus=584,vt.comma=278,vt.hyphen=333,vt.period=278,vt.slash=278,vt.zero=556,vt.one=556,vt.two=556,vt.three=556,vt.four=556,vt.five=556,vt.six=556,vt.seven=556,vt.eight=556,vt.nine=556,vt.colon=333,vt.semicolon=333,vt.less=584,vt.equal=584,vt.greater=584,vt.question=611,vt.at=975,vt.A=722,vt.B=722,vt.C=722,vt.D=722,vt.E=667,vt.F=611,vt.G=778,vt.H=722,vt.I=278,vt.J=556,vt.K=722,vt.L=611,vt.M=833,vt.N=722,vt.O=778,vt.P=667,vt.Q=778,vt.R=722,vt.S=667,vt.T=611,vt.U=722,vt.V=667,vt.W=944,vt.X=667,vt.Y=667,vt.Z=611,vt.bracketleft=333,vt.backslash=278,vt.bracketright=333,vt.asciicircum=584,vt.underscore=556,vt.quoteleft=278,vt.a=556,vt.b=611,vt.c=556,vt.d=611,vt.e=556,vt.f=333,vt.g=611,vt.h=611,vt.i=278,vt.j=278,vt.k=556,vt.l=278,vt.m=889,vt.n=611,vt.o=611,vt.p=611,vt.q=611,vt.r=389,vt.s=556,vt.t=333,vt.u=611,vt.v=556,vt.w=778,vt.x=556,vt.y=556,vt.z=500,vt.braceleft=389,vt.bar=280,vt.braceright=389,vt.asciitilde=584,vt.exclamdown=333,vt.cent=556,vt.sterling=556,vt.fraction=167,vt.yen=556,vt.florin=556,vt.section=556,vt.currency=556,vt.quotesingle=238,vt.quotedblleft=500,vt.guillemotleft=556,vt.guilsinglleft=333,vt.guilsinglright=333,vt.fi=611,vt.fl=611,vt.endash=556,vt.dagger=556,vt.daggerdbl=556,vt.periodcentered=278,vt.paragraph=556,vt.bullet=350,vt.quotesinglbase=278,vt.quotedblbase=500,vt.quotedblright=500,vt.guillemotright=556,vt.ellipsis=1e3,vt.perthousand=1e3,vt.questiondown=611,vt.grave=333,vt.acute=333,vt.circumflex=333,vt.tilde=333,vt.macron=333,vt.breve=333,vt.dotaccent=333,vt.dieresis=333,vt.ring=333,vt.cedilla=333,vt.hungarumlaut=333,vt.ogonek=333,vt.caron=333,vt.emdash=1e3,vt.AE=1e3,vt.ordfeminine=370,vt.Lslash=611,vt.Oslash=778,vt.OE=1e3,vt.ordmasculine=365,vt.ae=889,vt.dotlessi=278,vt.lslash=278,vt.oslash=611,vt.oe=944,vt.germandbls=611,vt.Idieresis=278,vt.eacute=556,vt.abreve=556,vt.uhungarumlaut=611,vt.ecaron=556,vt.Ydieresis=667,vt.divide=584,vt.Yacute=667,vt.Acircumflex=722,vt.aacute=556,vt.Ucircumflex=722,vt.yacute=556,vt.scommaaccent=556,vt.ecircumflex=556,vt.Uring=722,vt.Udieresis=722,vt.aogonek=556,vt.Uacute=722,vt.uogonek=611,vt.Edieresis=667,vt.Dcroat=722,vt.commaaccent=250,vt.copyright=737,vt.Emacron=667,vt.ccaron=556,vt.aring=556,vt.Ncommaaccent=722,vt.lacute=278,vt.agrave=556,vt.Tcommaaccent=611,vt.Cacute=722,vt.atilde=556,vt.Edotaccent=667,vt.scaron=556,vt.scedilla=556,vt.iacute=278,vt.lozenge=494,vt.Rcaron=722,vt.Gcommaaccent=778,vt.ucircumflex=611,vt.acircumflex=556,vt.Amacron=722,vt.rcaron=389,vt.ccedilla=556,vt.Zdotaccent=611,vt.Thorn=667,vt.Omacron=778,vt.Racute=722,vt.Sacute=667,vt.dcaron=743,vt.Umacron=722,vt.uring=611,vt.threesuperior=333,vt.Ograve=778,vt.Agrave=722,vt.Abreve=722,vt.multiply=584,vt.uacute=611,vt.Tcaron=611,vt.partialdiff=494,vt.ydieresis=556,vt.Nacute=722,vt.icircumflex=278,vt.Ecircumflex=667,vt.adieresis=556,vt.edieresis=556,vt.cacute=556,vt.nacute=611,vt.umacron=611,vt.Ncaron=722,vt.Iacute=278,vt.plusminus=584,vt.brokenbar=280,vt.registered=737,vt.Gbreve=778,vt.Idotaccent=278,vt.summation=600,vt.Egrave=667,vt.racute=389,vt.omacron=611,vt.Zacute=611,vt.Zcaron=611,vt.greaterequal=549,vt.Eth=722,vt.Ccedilla=722,vt.lcommaaccent=278,vt.tcaron=389,vt.eogonek=556,vt.Uogonek=722,vt.Aacute=722,vt.Adieresis=722,vt.egrave=556,vt.zacute=500,vt.iogonek=278,vt.Oacute=778,vt.oacute=611,vt.amacron=556,vt.sacute=556,vt.idieresis=278,vt.Ocircumflex=778,vt.Ugrave=722,vt.Delta=612,vt.thorn=611,vt.twosuperior=333,vt.Odieresis=778,vt.mu=611,vt.igrave=278,vt.ohungarumlaut=611,vt.Eogonek=667,vt.dcroat=611,vt.threequarters=834,vt.Scedilla=667,vt.lcaron=400,vt.Kcommaaccent=722,vt.Lacute=611,vt.trademark=1e3,vt.edotaccent=556,vt.Igrave=278,vt.Imacron=278,vt.Lcaron=611,vt.onehalf=834,vt.lessequal=549,vt.ocircumflex=611,vt.ntilde=611,vt.Uhungarumlaut=722,vt.Eacute=667,vt.emacron=556,vt.gbreve=611,vt.onequarter=834,vt.Scaron=667,vt.Scommaaccent=667,vt.Ohungarumlaut=778,vt.degree=400,vt.ograve=611,vt.Ccaron=722,vt.ugrave=611,vt.radical=549,vt.Dcaron=722,vt.rcommaaccent=389,vt.Ntilde=722,vt.otilde=611,vt.Rcommaaccent=722,vt.Lcommaaccent=611,vt.Atilde=722,vt.Aogonek=722,vt.Aring=722,vt.Otilde=778,vt.zdotaccent=500,vt.Ecaron=667,vt.Iogonek=278,vt.kcommaaccent=556,vt.minus=584,vt.Icircumflex=278,vt.ncaron=611,vt.tcommaaccent=333,vt.logicalnot=584,vt.odieresis=611,vt.udieresis=611,vt.notequal=549,vt.gcommaaccent=611,vt.eth=611,vt.zcaron=500,vt.ncommaaccent=611,vt.onesuperior=333,vt.imacron=278,vt.Euro=556}),ht["Helvetica-BoldOblique"]=(0,wt.getLookupTableFactory)(function(vt){vt.space=278,vt.exclam=333,vt.quotedbl=474,vt.numbersign=556,vt.dollar=556,vt.percent=889,vt.ampersand=722,vt.quoteright=278,vt.parenleft=333,vt.parenright=333,vt.asterisk=389,vt.plus=584,vt.comma=278,vt.hyphen=333,vt.period=278,vt.slash=278,vt.zero=556,vt.one=556,vt.two=556,vt.three=556,vt.four=556,vt.five=556,vt.six=556,vt.seven=556,vt.eight=556,vt.nine=556,vt.colon=333,vt.semicolon=333,vt.less=584,vt.equal=584,vt.greater=584,vt.question=611,vt.at=975,vt.A=722,vt.B=722,vt.C=722,vt.D=722,vt.E=667,vt.F=611,vt.G=778,vt.H=722,vt.I=278,vt.J=556,vt.K=722,vt.L=611,vt.M=833,vt.N=722,vt.O=778,vt.P=667,vt.Q=778,vt.R=722,vt.S=667,vt.T=611,vt.U=722,vt.V=667,vt.W=944,vt.X=667,vt.Y=667,vt.Z=611,vt.bracketleft=333,vt.backslash=278,vt.bracketright=333,vt.asciicircum=584,vt.underscore=556,vt.quoteleft=278,vt.a=556,vt.b=611,vt.c=556,vt.d=611,vt.e=556,vt.f=333,vt.g=611,vt.h=611,vt.i=278,vt.j=278,vt.k=556,vt.l=278,vt.m=889,vt.n=611,vt.o=611,vt.p=611,vt.q=611,vt.r=389,vt.s=556,vt.t=333,vt.u=611,vt.v=556,vt.w=778,vt.x=556,vt.y=556,vt.z=500,vt.braceleft=389,vt.bar=280,vt.braceright=389,vt.asciitilde=584,vt.exclamdown=333,vt.cent=556,vt.sterling=556,vt.fraction=167,vt.yen=556,vt.florin=556,vt.section=556,vt.currency=556,vt.quotesingle=238,vt.quotedblleft=500,vt.guillemotleft=556,vt.guilsinglleft=333,vt.guilsinglright=333,vt.fi=611,vt.fl=611,vt.endash=556,vt.dagger=556,vt.daggerdbl=556,vt.periodcentered=278,vt.paragraph=556,vt.bullet=350,vt.quotesinglbase=278,vt.quotedblbase=500,vt.quotedblright=500,vt.guillemotright=556,vt.ellipsis=1e3,vt.perthousand=1e3,vt.questiondown=611,vt.grave=333,vt.acute=333,vt.circumflex=333,vt.tilde=333,vt.macron=333,vt.breve=333,vt.dotaccent=333,vt.dieresis=333,vt.ring=333,vt.cedilla=333,vt.hungarumlaut=333,vt.ogonek=333,vt.caron=333,vt.emdash=1e3,vt.AE=1e3,vt.ordfeminine=370,vt.Lslash=611,vt.Oslash=778,vt.OE=1e3,vt.ordmasculine=365,vt.ae=889,vt.dotlessi=278,vt.lslash=278,vt.oslash=611,vt.oe=944,vt.germandbls=611,vt.Idieresis=278,vt.eacute=556,vt.abreve=556,vt.uhungarumlaut=611,vt.ecaron=556,vt.Ydieresis=667,vt.divide=584,vt.Yacute=667,vt.Acircumflex=722,vt.aacute=556,vt.Ucircumflex=722,vt.yacute=556,vt.scommaaccent=556,vt.ecircumflex=556,vt.Uring=722,vt.Udieresis=722,vt.aogonek=556,vt.Uacute=722,vt.uogonek=611,vt.Edieresis=667,vt.Dcroat=722,vt.commaaccent=250,vt.copyright=737,vt.Emacron=667,vt.ccaron=556,vt.aring=556,vt.Ncommaaccent=722,vt.lacute=278,vt.agrave=556,vt.Tcommaaccent=611,vt.Cacute=722,vt.atilde=556,vt.Edotaccent=667,vt.scaron=556,vt.scedilla=556,vt.iacute=278,vt.lozenge=494,vt.Rcaron=722,vt.Gcommaaccent=778,vt.ucircumflex=611,vt.acircumflex=556,vt.Amacron=722,vt.rcaron=389,vt.ccedilla=556,vt.Zdotaccent=611,vt.Thorn=667,vt.Omacron=778,vt.Racute=722,vt.Sacute=667,vt.dcaron=743,vt.Umacron=722,vt.uring=611,vt.threesuperior=333,vt.Ograve=778,vt.Agrave=722,vt.Abreve=722,vt.multiply=584,vt.uacute=611,vt.Tcaron=611,vt.partialdiff=494,vt.ydieresis=556,vt.Nacute=722,vt.icircumflex=278,vt.Ecircumflex=667,vt.adieresis=556,vt.edieresis=556,vt.cacute=556,vt.nacute=611,vt.umacron=611,vt.Ncaron=722,vt.Iacute=278,vt.plusminus=584,vt.brokenbar=280,vt.registered=737,vt.Gbreve=778,vt.Idotaccent=278,vt.summation=600,vt.Egrave=667,vt.racute=389,vt.omacron=611,vt.Zacute=611,vt.Zcaron=611,vt.greaterequal=549,vt.Eth=722,vt.Ccedilla=722,vt.lcommaaccent=278,vt.tcaron=389,vt.eogonek=556,vt.Uogonek=722,vt.Aacute=722,vt.Adieresis=722,vt.egrave=556,vt.zacute=500,vt.iogonek=278,vt.Oacute=778,vt.oacute=611,vt.amacron=556,vt.sacute=556,vt.idieresis=278,vt.Ocircumflex=778,vt.Ugrave=722,vt.Delta=612,vt.thorn=611,vt.twosuperior=333,vt.Odieresis=778,vt.mu=611,vt.igrave=278,vt.ohungarumlaut=611,vt.Eogonek=667,vt.dcroat=611,vt.threequarters=834,vt.Scedilla=667,vt.lcaron=400,vt.Kcommaaccent=722,vt.Lacute=611,vt.trademark=1e3,vt.edotaccent=556,vt.Igrave=278,vt.Imacron=278,vt.Lcaron=611,vt.onehalf=834,vt.lessequal=549,vt.ocircumflex=611,vt.ntilde=611,vt.Uhungarumlaut=722,vt.Eacute=667,vt.emacron=556,vt.gbreve=611,vt.onequarter=834,vt.Scaron=667,vt.Scommaaccent=667,vt.Ohungarumlaut=778,vt.degree=400,vt.ograve=611,vt.Ccaron=722,vt.ugrave=611,vt.radical=549,vt.Dcaron=722,vt.rcommaaccent=389,vt.Ntilde=722,vt.otilde=611,vt.Rcommaaccent=722,vt.Lcommaaccent=611,vt.Atilde=722,vt.Aogonek=722,vt.Aring=722,vt.Otilde=778,vt.zdotaccent=500,vt.Ecaron=667,vt.Iogonek=278,vt.kcommaaccent=556,vt.minus=584,vt.Icircumflex=278,vt.ncaron=611,vt.tcommaaccent=333,vt.logicalnot=584,vt.odieresis=611,vt.udieresis=611,vt.notequal=549,vt.gcommaaccent=611,vt.eth=611,vt.zcaron=500,vt.ncommaaccent=611,vt.onesuperior=333,vt.imacron=278,vt.Euro=556}),ht["Helvetica-Oblique"]=(0,wt.getLookupTableFactory)(function(vt){vt.space=278,vt.exclam=278,vt.quotedbl=355,vt.numbersign=556,vt.dollar=556,vt.percent=889,vt.ampersand=667,vt.quoteright=222,vt.parenleft=333,vt.parenright=333,vt.asterisk=389,vt.plus=584,vt.comma=278,vt.hyphen=333,vt.period=278,vt.slash=278,vt.zero=556,vt.one=556,vt.two=556,vt.three=556,vt.four=556,vt.five=556,vt.six=556,vt.seven=556,vt.eight=556,vt.nine=556,vt.colon=278,vt.semicolon=278,vt.less=584,vt.equal=584,vt.greater=584,vt.question=556,vt.at=1015,vt.A=667,vt.B=667,vt.C=722,vt.D=722,vt.E=667,vt.F=611,vt.G=778,vt.H=722,vt.I=278,vt.J=500,vt.K=667,vt.L=556,vt.M=833,vt.N=722,vt.O=778,vt.P=667,vt.Q=778,vt.R=722,vt.S=667,vt.T=611,vt.U=722,vt.V=667,vt.W=944,vt.X=667,vt.Y=667,vt.Z=611,vt.bracketleft=278,vt.backslash=278,vt.bracketright=278,vt.asciicircum=469,vt.underscore=556,vt.quoteleft=222,vt.a=556,vt.b=556,vt.c=500,vt.d=556,vt.e=556,vt.f=278,vt.g=556,vt.h=556,vt.i=222,vt.j=222,vt.k=500,vt.l=222,vt.m=833,vt.n=556,vt.o=556,vt.p=556,vt.q=556,vt.r=333,vt.s=500,vt.t=278,vt.u=556,vt.v=500,vt.w=722,vt.x=500,vt.y=500,vt.z=500,vt.braceleft=334,vt.bar=260,vt.braceright=334,vt.asciitilde=584,vt.exclamdown=333,vt.cent=556,vt.sterling=556,vt.fraction=167,vt.yen=556,vt.florin=556,vt.section=556,vt.currency=556,vt.quotesingle=191,vt.quotedblleft=333,vt.guillemotleft=556,vt.guilsinglleft=333,vt.guilsinglright=333,vt.fi=500,vt.fl=500,vt.endash=556,vt.dagger=556,vt.daggerdbl=556,vt.periodcentered=278,vt.paragraph=537,vt.bullet=350,vt.quotesinglbase=222,vt.quotedblbase=333,vt.quotedblright=333,vt.guillemotright=556,vt.ellipsis=1e3,vt.perthousand=1e3,vt.questiondown=611,vt.grave=333,vt.acute=333,vt.circumflex=333,vt.tilde=333,vt.macron=333,vt.breve=333,vt.dotaccent=333,vt.dieresis=333,vt.ring=333,vt.cedilla=333,vt.hungarumlaut=333,vt.ogonek=333,vt.caron=333,vt.emdash=1e3,vt.AE=1e3,vt.ordfeminine=370,vt.Lslash=556,vt.Oslash=778,vt.OE=1e3,vt.ordmasculine=365,vt.ae=889,vt.dotlessi=278,vt.lslash=222,vt.oslash=611,vt.oe=944,vt.germandbls=611,vt.Idieresis=278,vt.eacute=556,vt.abreve=556,vt.uhungarumlaut=556,vt.ecaron=556,vt.Ydieresis=667,vt.divide=584,vt.Yacute=667,vt.Acircumflex=667,vt.aacute=556,vt.Ucircumflex=722,vt.yacute=500,vt.scommaaccent=500,vt.ecircumflex=556,vt.Uring=722,vt.Udieresis=722,vt.aogonek=556,vt.Uacute=722,vt.uogonek=556,vt.Edieresis=667,vt.Dcroat=722,vt.commaaccent=250,vt.copyright=737,vt.Emacron=667,vt.ccaron=500,vt.aring=556,vt.Ncommaaccent=722,vt.lacute=222,vt.agrave=556,vt.Tcommaaccent=611,vt.Cacute=722,vt.atilde=556,vt.Edotaccent=667,vt.scaron=500,vt.scedilla=500,vt.iacute=278,vt.lozenge=471,vt.Rcaron=722,vt.Gcommaaccent=778,vt.ucircumflex=556,vt.acircumflex=556,vt.Amacron=667,vt.rcaron=333,vt.ccedilla=500,vt.Zdotaccent=611,vt.Thorn=667,vt.Omacron=778,vt.Racute=722,vt.Sacute=667,vt.dcaron=643,vt.Umacron=722,vt.uring=556,vt.threesuperior=333,vt.Ograve=778,vt.Agrave=667,vt.Abreve=667,vt.multiply=584,vt.uacute=556,vt.Tcaron=611,vt.partialdiff=476,vt.ydieresis=500,vt.Nacute=722,vt.icircumflex=278,vt.Ecircumflex=667,vt.adieresis=556,vt.edieresis=556,vt.cacute=500,vt.nacute=556,vt.umacron=556,vt.Ncaron=722,vt.Iacute=278,vt.plusminus=584,vt.brokenbar=260,vt.registered=737,vt.Gbreve=778,vt.Idotaccent=278,vt.summation=600,vt.Egrave=667,vt.racute=333,vt.omacron=556,vt.Zacute=611,vt.Zcaron=611,vt.greaterequal=549,vt.Eth=722,vt.Ccedilla=722,vt.lcommaaccent=222,vt.tcaron=317,vt.eogonek=556,vt.Uogonek=722,vt.Aacute=667,vt.Adieresis=667,vt.egrave=556,vt.zacute=500,vt.iogonek=222,vt.Oacute=778,vt.oacute=556,vt.amacron=556,vt.sacute=500,vt.idieresis=278,vt.Ocircumflex=778,vt.Ugrave=722,vt.Delta=612,vt.thorn=556,vt.twosuperior=333,vt.Odieresis=778,vt.mu=556,vt.igrave=278,vt.ohungarumlaut=556,vt.Eogonek=667,vt.dcroat=556,vt.threequarters=834,vt.Scedilla=667,vt.lcaron=299,vt.Kcommaaccent=667,vt.Lacute=556,vt.trademark=1e3,vt.edotaccent=556,vt.Igrave=278,vt.Imacron=278,vt.Lcaron=556,vt.onehalf=834,vt.lessequal=549,vt.ocircumflex=556,vt.ntilde=556,vt.Uhungarumlaut=722,vt.Eacute=667,vt.emacron=556,vt.gbreve=556,vt.onequarter=834,vt.Scaron=667,vt.Scommaaccent=667,vt.Ohungarumlaut=778,vt.degree=400,vt.ograve=556,vt.Ccaron=722,vt.ugrave=556,vt.radical=453,vt.Dcaron=722,vt.rcommaaccent=333,vt.Ntilde=722,vt.otilde=556,vt.Rcommaaccent=722,vt.Lcommaaccent=556,vt.Atilde=667,vt.Aogonek=667,vt.Aring=667,vt.Otilde=778,vt.zdotaccent=500,vt.Ecaron=667,vt.Iogonek=278,vt.kcommaaccent=500,vt.minus=584,vt.Icircumflex=278,vt.ncaron=556,vt.tcommaaccent=278,vt.logicalnot=584,vt.odieresis=556,vt.udieresis=556,vt.notequal=549,vt.gcommaaccent=556,vt.eth=556,vt.zcaron=500,vt.ncommaaccent=556,vt.onesuperior=333,vt.imacron=278,vt.Euro=556}),ht.Symbol=(0,wt.getLookupTableFactory)(function(vt){vt.space=250,vt.exclam=333,vt.universal=713,vt.numbersign=500,vt.existential=549,vt.percent=833,vt.ampersand=778,vt.suchthat=439,vt.parenleft=333,vt.parenright=333,vt.asteriskmath=500,vt.plus=549,vt.comma=250,vt.minus=549,vt.period=250,vt.slash=278,vt.zero=500,vt.one=500,vt.two=500,vt.three=500,vt.four=500,vt.five=500,vt.six=500,vt.seven=500,vt.eight=500,vt.nine=500,vt.colon=278,vt.semicolon=278,vt.less=549,vt.equal=549,vt.greater=549,vt.question=444,vt.congruent=549,vt.Alpha=722,vt.Beta=667,vt.Chi=722,vt.Delta=612,vt.Epsilon=611,vt.Phi=763,vt.Gamma=603,vt.Eta=722,vt.Iota=333,vt.theta1=631,vt.Kappa=722,vt.Lambda=686,vt.Mu=889,vt.Nu=722,vt.Omicron=722,vt.Pi=768,vt.Theta=741,vt.Rho=556,vt.Sigma=592,vt.Tau=611,vt.Upsilon=690,vt.sigma1=439,vt.Omega=768,vt.Xi=645,vt.Psi=795,vt.Zeta=611,vt.bracketleft=333,vt.therefore=863,vt.bracketright=333,vt.perpendicular=658,vt.underscore=500,vt.radicalex=500,vt.alpha=631,vt.beta=549,vt.chi=549,vt.delta=494,vt.epsilon=439,vt.phi=521,vt.gamma=411,vt.eta=603,vt.iota=329,vt.phi1=603,vt.kappa=549,vt.lambda=549,vt.mu=576,vt.nu=521,vt.omicron=549,vt.pi=549,vt.theta=521,vt.rho=549,vt.sigma=603,vt.tau=439,vt.upsilon=576,vt.omega1=713,vt.omega=686,vt.xi=493,vt.psi=686,vt.zeta=494,vt.braceleft=480,vt.bar=200,vt.braceright=480,vt.similar=549,vt.Euro=750,vt.Upsilon1=620,vt.minute=247,vt.lessequal=549,vt.fraction=167,vt.infinity=713,vt.florin=500,vt.club=753,vt.diamond=753,vt.heart=753,vt.spade=753,vt.arrowboth=1042,vt.arrowleft=987,vt.arrowup=603,vt.arrowright=987,vt.arrowdown=603,vt.degree=400,vt.plusminus=549,vt.second=411,vt.greaterequal=549,vt.multiply=549,vt.proportional=713,vt.partialdiff=494,vt.bullet=460,vt.divide=549,vt.notequal=549,vt.equivalence=549,vt.approxequal=549,vt.ellipsis=1e3,vt.arrowvertex=603,vt.arrowhorizex=1e3,vt.carriagereturn=658,vt.aleph=823,vt.Ifraktur=686,vt.Rfraktur=795,vt.weierstrass=987,vt.circlemultiply=768,vt.circleplus=768,vt.emptyset=823,vt.intersection=768,vt.union=768,vt.propersuperset=713,vt.reflexsuperset=713,vt.notsubset=713,vt.propersubset=713,vt.reflexsubset=713,vt.element=713,vt.notelement=713,vt.angle=768,vt.gradient=713,vt.registerserif=790,vt.copyrightserif=790,vt.trademarkserif=890,vt.product=823,vt.radical=549,vt.dotmath=250,vt.logicalnot=713,vt.logicaland=603,vt.logicalor=603,vt.arrowdblboth=1042,vt.arrowdblleft=987,vt.arrowdblup=603,vt.arrowdblright=987,vt.arrowdbldown=603,vt.lozenge=494,vt.angleleft=329,vt.registersans=790,vt.copyrightsans=790,vt.trademarksans=786,vt.summation=713,vt.parenlefttp=384,vt.parenleftex=384,vt.parenleftbt=384,vt.bracketlefttp=384,vt.bracketleftex=384,vt.bracketleftbt=384,vt.bracelefttp=494,vt.braceleftmid=494,vt.braceleftbt=494,vt.braceex=494,vt.angleright=329,vt.integral=274,vt.integraltp=686,vt.integralex=686,vt.integralbt=686,vt.parenrighttp=384,vt.parenrightex=384,vt.parenrightbt=384,vt.bracketrighttp=384,vt.bracketrightex=384,vt.bracketrightbt=384,vt.bracerighttp=494,vt.bracerightmid=494,vt.bracerightbt=494,vt.apple=790}),ht["Times-Roman"]=(0,wt.getLookupTableFactory)(function(vt){vt.space=250,vt.exclam=333,vt.quotedbl=408,vt.numbersign=500,vt.dollar=500,vt.percent=833,vt.ampersand=778,vt.quoteright=333,vt.parenleft=333,vt.parenright=333,vt.asterisk=500,vt.plus=564,vt.comma=250,vt.hyphen=333,vt.period=250,vt.slash=278,vt.zero=500,vt.one=500,vt.two=500,vt.three=500,vt.four=500,vt.five=500,vt.six=500,vt.seven=500,vt.eight=500,vt.nine=500,vt.colon=278,vt.semicolon=278,vt.less=564,vt.equal=564,vt.greater=564,vt.question=444,vt.at=921,vt.A=722,vt.B=667,vt.C=667,vt.D=722,vt.E=611,vt.F=556,vt.G=722,vt.H=722,vt.I=333,vt.J=389,vt.K=722,vt.L=611,vt.M=889,vt.N=722,vt.O=722,vt.P=556,vt.Q=722,vt.R=667,vt.S=556,vt.T=611,vt.U=722,vt.V=722,vt.W=944,vt.X=722,vt.Y=722,vt.Z=611,vt.bracketleft=333,vt.backslash=278,vt.bracketright=333,vt.asciicircum=469,vt.underscore=500,vt.quoteleft=333,vt.a=444,vt.b=500,vt.c=444,vt.d=500,vt.e=444,vt.f=333,vt.g=500,vt.h=500,vt.i=278,vt.j=278,vt.k=500,vt.l=278,vt.m=778,vt.n=500,vt.o=500,vt.p=500,vt.q=500,vt.r=333,vt.s=389,vt.t=278,vt.u=500,vt.v=500,vt.w=722,vt.x=500,vt.y=500,vt.z=444,vt.braceleft=480,vt.bar=200,vt.braceright=480,vt.asciitilde=541,vt.exclamdown=333,vt.cent=500,vt.sterling=500,vt.fraction=167,vt.yen=500,vt.florin=500,vt.section=500,vt.currency=500,vt.quotesingle=180,vt.quotedblleft=444,vt.guillemotleft=500,vt.guilsinglleft=333,vt.guilsinglright=333,vt.fi=556,vt.fl=556,vt.endash=500,vt.dagger=500,vt.daggerdbl=500,vt.periodcentered=250,vt.paragraph=453,vt.bullet=350,vt.quotesinglbase=333,vt.quotedblbase=444,vt.quotedblright=444,vt.guillemotright=500,vt.ellipsis=1e3,vt.perthousand=1e3,vt.questiondown=444,vt.grave=333,vt.acute=333,vt.circumflex=333,vt.tilde=333,vt.macron=333,vt.breve=333,vt.dotaccent=333,vt.dieresis=333,vt.ring=333,vt.cedilla=333,vt.hungarumlaut=333,vt.ogonek=333,vt.caron=333,vt.emdash=1e3,vt.AE=889,vt.ordfeminine=276,vt.Lslash=611,vt.Oslash=722,vt.OE=889,vt.ordmasculine=310,vt.ae=667,vt.dotlessi=278,vt.lslash=278,vt.oslash=500,vt.oe=722,vt.germandbls=500,vt.Idieresis=333,vt.eacute=444,vt.abreve=444,vt.uhungarumlaut=500,vt.ecaron=444,vt.Ydieresis=722,vt.divide=564,vt.Yacute=722,vt.Acircumflex=722,vt.aacute=444,vt.Ucircumflex=722,vt.yacute=500,vt.scommaaccent=389,vt.ecircumflex=444,vt.Uring=722,vt.Udieresis=722,vt.aogonek=444,vt.Uacute=722,vt.uogonek=500,vt.Edieresis=611,vt.Dcroat=722,vt.commaaccent=250,vt.copyright=760,vt.Emacron=611,vt.ccaron=444,vt.aring=444,vt.Ncommaaccent=722,vt.lacute=278,vt.agrave=444,vt.Tcommaaccent=611,vt.Cacute=667,vt.atilde=444,vt.Edotaccent=611,vt.scaron=389,vt.scedilla=389,vt.iacute=278,vt.lozenge=471,vt.Rcaron=667,vt.Gcommaaccent=722,vt.ucircumflex=500,vt.acircumflex=444,vt.Amacron=722,vt.rcaron=333,vt.ccedilla=444,vt.Zdotaccent=611,vt.Thorn=556,vt.Omacron=722,vt.Racute=667,vt.Sacute=556,vt.dcaron=588,vt.Umacron=722,vt.uring=500,vt.threesuperior=300,vt.Ograve=722,vt.Agrave=722,vt.Abreve=722,vt.multiply=564,vt.uacute=500,vt.Tcaron=611,vt.partialdiff=476,vt.ydieresis=500,vt.Nacute=722,vt.icircumflex=278,vt.Ecircumflex=611,vt.adieresis=444,vt.edieresis=444,vt.cacute=444,vt.nacute=500,vt.umacron=500,vt.Ncaron=722,vt.Iacute=333,vt.plusminus=564,vt.brokenbar=200,vt.registered=760,vt.Gbreve=722,vt.Idotaccent=333,vt.summation=600,vt.Egrave=611,vt.racute=333,vt.omacron=500,vt.Zacute=611,vt.Zcaron=611,vt.greaterequal=549,vt.Eth=722,vt.Ccedilla=667,vt.lcommaaccent=278,vt.tcaron=326,vt.eogonek=444,vt.Uogonek=722,vt.Aacute=722,vt.Adieresis=722,vt.egrave=444,vt.zacute=444,vt.iogonek=278,vt.Oacute=722,vt.oacute=500,vt.amacron=444,vt.sacute=389,vt.idieresis=278,vt.Ocircumflex=722,vt.Ugrave=722,vt.Delta=612,vt.thorn=500,vt.twosuperior=300,vt.Odieresis=722,vt.mu=500,vt.igrave=278,vt.ohungarumlaut=500,vt.Eogonek=611,vt.dcroat=500,vt.threequarters=750,vt.Scedilla=556,vt.lcaron=344,vt.Kcommaaccent=722,vt.Lacute=611,vt.trademark=980,vt.edotaccent=444,vt.Igrave=333,vt.Imacron=333,vt.Lcaron=611,vt.onehalf=750,vt.lessequal=549,vt.ocircumflex=500,vt.ntilde=500,vt.Uhungarumlaut=722,vt.Eacute=611,vt.emacron=444,vt.gbreve=500,vt.onequarter=750,vt.Scaron=556,vt.Scommaaccent=556,vt.Ohungarumlaut=722,vt.degree=400,vt.ograve=500,vt.Ccaron=667,vt.ugrave=500,vt.radical=453,vt.Dcaron=722,vt.rcommaaccent=333,vt.Ntilde=722,vt.otilde=500,vt.Rcommaaccent=667,vt.Lcommaaccent=611,vt.Atilde=722,vt.Aogonek=722,vt.Aring=722,vt.Otilde=722,vt.zdotaccent=444,vt.Ecaron=611,vt.Iogonek=333,vt.kcommaaccent=500,vt.minus=564,vt.Icircumflex=333,vt.ncaron=500,vt.tcommaaccent=278,vt.logicalnot=564,vt.odieresis=500,vt.udieresis=500,vt.notequal=549,vt.gcommaaccent=500,vt.eth=500,vt.zcaron=444,vt.ncommaaccent=500,vt.onesuperior=300,vt.imacron=278,vt.Euro=500}),ht["Times-Bold"]=(0,wt.getLookupTableFactory)(function(vt){vt.space=250,vt.exclam=333,vt.quotedbl=555,vt.numbersign=500,vt.dollar=500,vt.percent=1e3,vt.ampersand=833,vt.quoteright=333,vt.parenleft=333,vt.parenright=333,vt.asterisk=500,vt.plus=570,vt.comma=250,vt.hyphen=333,vt.period=250,vt.slash=278,vt.zero=500,vt.one=500,vt.two=500,vt.three=500,vt.four=500,vt.five=500,vt.six=500,vt.seven=500,vt.eight=500,vt.nine=500,vt.colon=333,vt.semicolon=333,vt.less=570,vt.equal=570,vt.greater=570,vt.question=500,vt.at=930,vt.A=722,vt.B=667,vt.C=722,vt.D=722,vt.E=667,vt.F=611,vt.G=778,vt.H=778,vt.I=389,vt.J=500,vt.K=778,vt.L=667,vt.M=944,vt.N=722,vt.O=778,vt.P=611,vt.Q=778,vt.R=722,vt.S=556,vt.T=667,vt.U=722,vt.V=722,vt.W=1e3,vt.X=722,vt.Y=722,vt.Z=667,vt.bracketleft=333,vt.backslash=278,vt.bracketright=333,vt.asciicircum=581,vt.underscore=500,vt.quoteleft=333,vt.a=500,vt.b=556,vt.c=444,vt.d=556,vt.e=444,vt.f=333,vt.g=500,vt.h=556,vt.i=278,vt.j=333,vt.k=556,vt.l=278,vt.m=833,vt.n=556,vt.o=500,vt.p=556,vt.q=556,vt.r=444,vt.s=389,vt.t=333,vt.u=556,vt.v=500,vt.w=722,vt.x=500,vt.y=500,vt.z=444,vt.braceleft=394,vt.bar=220,vt.braceright=394,vt.asciitilde=520,vt.exclamdown=333,vt.cent=500,vt.sterling=500,vt.fraction=167,vt.yen=500,vt.florin=500,vt.section=500,vt.currency=500,vt.quotesingle=278,vt.quotedblleft=500,vt.guillemotleft=500,vt.guilsinglleft=333,vt.guilsinglright=333,vt.fi=556,vt.fl=556,vt.endash=500,vt.dagger=500,vt.daggerdbl=500,vt.periodcentered=250,vt.paragraph=540,vt.bullet=350,vt.quotesinglbase=333,vt.quotedblbase=500,vt.quotedblright=500,vt.guillemotright=500,vt.ellipsis=1e3,vt.perthousand=1e3,vt.questiondown=500,vt.grave=333,vt.acute=333,vt.circumflex=333,vt.tilde=333,vt.macron=333,vt.breve=333,vt.dotaccent=333,vt.dieresis=333,vt.ring=333,vt.cedilla=333,vt.hungarumlaut=333,vt.ogonek=333,vt.caron=333,vt.emdash=1e3,vt.AE=1e3,vt.ordfeminine=300,vt.Lslash=667,vt.Oslash=778,vt.OE=1e3,vt.ordmasculine=330,vt.ae=722,vt.dotlessi=278,vt.lslash=278,vt.oslash=500,vt.oe=722,vt.germandbls=556,vt.Idieresis=389,vt.eacute=444,vt.abreve=500,vt.uhungarumlaut=556,vt.ecaron=444,vt.Ydieresis=722,vt.divide=570,vt.Yacute=722,vt.Acircumflex=722,vt.aacute=500,vt.Ucircumflex=722,vt.yacute=500,vt.scommaaccent=389,vt.ecircumflex=444,vt.Uring=722,vt.Udieresis=722,vt.aogonek=500,vt.Uacute=722,vt.uogonek=556,vt.Edieresis=667,vt.Dcroat=722,vt.commaaccent=250,vt.copyright=747,vt.Emacron=667,vt.ccaron=444,vt.aring=500,vt.Ncommaaccent=722,vt.lacute=278,vt.agrave=500,vt.Tcommaaccent=667,vt.Cacute=722,vt.atilde=500,vt.Edotaccent=667,vt.scaron=389,vt.scedilla=389,vt.iacute=278,vt.lozenge=494,vt.Rcaron=722,vt.Gcommaaccent=778,vt.ucircumflex=556,vt.acircumflex=500,vt.Amacron=722,vt.rcaron=444,vt.ccedilla=444,vt.Zdotaccent=667,vt.Thorn=611,vt.Omacron=778,vt.Racute=722,vt.Sacute=556,vt.dcaron=672,vt.Umacron=722,vt.uring=556,vt.threesuperior=300,vt.Ograve=778,vt.Agrave=722,vt.Abreve=722,vt.multiply=570,vt.uacute=556,vt.Tcaron=667,vt.partialdiff=494,vt.ydieresis=500,vt.Nacute=722,vt.icircumflex=278,vt.Ecircumflex=667,vt.adieresis=500,vt.edieresis=444,vt.cacute=444,vt.nacute=556,vt.umacron=556,vt.Ncaron=722,vt.Iacute=389,vt.plusminus=570,vt.brokenbar=220,vt.registered=747,vt.Gbreve=778,vt.Idotaccent=389,vt.summation=600,vt.Egrave=667,vt.racute=444,vt.omacron=500,vt.Zacute=667,vt.Zcaron=667,vt.greaterequal=549,vt.Eth=722,vt.Ccedilla=722,vt.lcommaaccent=278,vt.tcaron=416,vt.eogonek=444,vt.Uogonek=722,vt.Aacute=722,vt.Adieresis=722,vt.egrave=444,vt.zacute=444,vt.iogonek=278,vt.Oacute=778,vt.oacute=500,vt.amacron=500,vt.sacute=389,vt.idieresis=278,vt.Ocircumflex=778,vt.Ugrave=722,vt.Delta=612,vt.thorn=556,vt.twosuperior=300,vt.Odieresis=778,vt.mu=556,vt.igrave=278,vt.ohungarumlaut=500,vt.Eogonek=667,vt.dcroat=556,vt.threequarters=750,vt.Scedilla=556,vt.lcaron=394,vt.Kcommaaccent=778,vt.Lacute=667,vt.trademark=1e3,vt.edotaccent=444,vt.Igrave=389,vt.Imacron=389,vt.Lcaron=667,vt.onehalf=750,vt.lessequal=549,vt.ocircumflex=500,vt.ntilde=556,vt.Uhungarumlaut=722,vt.Eacute=667,vt.emacron=444,vt.gbreve=500,vt.onequarter=750,vt.Scaron=556,vt.Scommaaccent=556,vt.Ohungarumlaut=778,vt.degree=400,vt.ograve=500,vt.Ccaron=722,vt.ugrave=556,vt.radical=549,vt.Dcaron=722,vt.rcommaaccent=444,vt.Ntilde=722,vt.otilde=500,vt.Rcommaaccent=722,vt.Lcommaaccent=667,vt.Atilde=722,vt.Aogonek=722,vt.Aring=722,vt.Otilde=778,vt.zdotaccent=444,vt.Ecaron=667,vt.Iogonek=389,vt.kcommaaccent=556,vt.minus=570,vt.Icircumflex=389,vt.ncaron=556,vt.tcommaaccent=333,vt.logicalnot=570,vt.odieresis=500,vt.udieresis=556,vt.notequal=549,vt.gcommaaccent=500,vt.eth=500,vt.zcaron=444,vt.ncommaaccent=556,vt.onesuperior=300,vt.imacron=278,vt.Euro=500}),ht["Times-BoldItalic"]=(0,wt.getLookupTableFactory)(function(vt){vt.space=250,vt.exclam=389,vt.quotedbl=555,vt.numbersign=500,vt.dollar=500,vt.percent=833,vt.ampersand=778,vt.quoteright=333,vt.parenleft=333,vt.parenright=333,vt.asterisk=500,vt.plus=570,vt.comma=250,vt.hyphen=333,vt.period=250,vt.slash=278,vt.zero=500,vt.one=500,vt.two=500,vt.three=500,vt.four=500,vt.five=500,vt.six=500,vt.seven=500,vt.eight=500,vt.nine=500,vt.colon=333,vt.semicolon=333,vt.less=570,vt.equal=570,vt.greater=570,vt.question=500,vt.at=832,vt.A=667,vt.B=667,vt.C=667,vt.D=722,vt.E=667,vt.F=667,vt.G=722,vt.H=778,vt.I=389,vt.J=500,vt.K=667,vt.L=611,vt.M=889,vt.N=722,vt.O=722,vt.P=611,vt.Q=722,vt.R=667,vt.S=556,vt.T=611,vt.U=722,vt.V=667,vt.W=889,vt.X=667,vt.Y=611,vt.Z=611,vt.bracketleft=333,vt.backslash=278,vt.bracketright=333,vt.asciicircum=570,vt.underscore=500,vt.quoteleft=333,vt.a=500,vt.b=500,vt.c=444,vt.d=500,vt.e=444,vt.f=333,vt.g=500,vt.h=556,vt.i=278,vt.j=278,vt.k=500,vt.l=278,vt.m=778,vt.n=556,vt.o=500,vt.p=500,vt.q=500,vt.r=389,vt.s=389,vt.t=278,vt.u=556,vt.v=444,vt.w=667,vt.x=500,vt.y=444,vt.z=389,vt.braceleft=348,vt.bar=220,vt.braceright=348,vt.asciitilde=570,vt.exclamdown=389,vt.cent=500,vt.sterling=500,vt.fraction=167,vt.yen=500,vt.florin=500,vt.section=500,vt.currency=500,vt.quotesingle=278,vt.quotedblleft=500,vt.guillemotleft=500,vt.guilsinglleft=333,vt.guilsinglright=333,vt.fi=556,vt.fl=556,vt.endash=500,vt.dagger=500,vt.daggerdbl=500,vt.periodcentered=250,vt.paragraph=500,vt.bullet=350,vt.quotesinglbase=333,vt.quotedblbase=500,vt.quotedblright=500,vt.guillemotright=500,vt.ellipsis=1e3,vt.perthousand=1e3,vt.questiondown=500,vt.grave=333,vt.acute=333,vt.circumflex=333,vt.tilde=333,vt.macron=333,vt.breve=333,vt.dotaccent=333,vt.dieresis=333,vt.ring=333,vt.cedilla=333,vt.hungarumlaut=333,vt.ogonek=333,vt.caron=333,vt.emdash=1e3,vt.AE=944,vt.ordfeminine=266,vt.Lslash=611,vt.Oslash=722,vt.OE=944,vt.ordmasculine=300,vt.ae=722,vt.dotlessi=278,vt.lslash=278,vt.oslash=500,vt.oe=722,vt.germandbls=500,vt.Idieresis=389,vt.eacute=444,vt.abreve=500,vt.uhungarumlaut=556,vt.ecaron=444,vt.Ydieresis=611,vt.divide=570,vt.Yacute=611,vt.Acircumflex=667,vt.aacute=500,vt.Ucircumflex=722,vt.yacute=444,vt.scommaaccent=389,vt.ecircumflex=444,vt.Uring=722,vt.Udieresis=722,vt.aogonek=500,vt.Uacute=722,vt.uogonek=556,vt.Edieresis=667,vt.Dcroat=722,vt.commaaccent=250,vt.copyright=747,vt.Emacron=667,vt.ccaron=444,vt.aring=500,vt.Ncommaaccent=722,vt.lacute=278,vt.agrave=500,vt.Tcommaaccent=611,vt.Cacute=667,vt.atilde=500,vt.Edotaccent=667,vt.scaron=389,vt.scedilla=389,vt.iacute=278,vt.lozenge=494,vt.Rcaron=667,vt.Gcommaaccent=722,vt.ucircumflex=556,vt.acircumflex=500,vt.Amacron=667,vt.rcaron=389,vt.ccedilla=444,vt.Zdotaccent=611,vt.Thorn=611,vt.Omacron=722,vt.Racute=667,vt.Sacute=556,vt.dcaron=608,vt.Umacron=722,vt.uring=556,vt.threesuperior=300,vt.Ograve=722,vt.Agrave=667,vt.Abreve=667,vt.multiply=570,vt.uacute=556,vt.Tcaron=611,vt.partialdiff=494,vt.ydieresis=444,vt.Nacute=722,vt.icircumflex=278,vt.Ecircumflex=667,vt.adieresis=500,vt.edieresis=444,vt.cacute=444,vt.nacute=556,vt.umacron=556,vt.Ncaron=722,vt.Iacute=389,vt.plusminus=570,vt.brokenbar=220,vt.registered=747,vt.Gbreve=722,vt.Idotaccent=389,vt.summation=600,vt.Egrave=667,vt.racute=389,vt.omacron=500,vt.Zacute=611,vt.Zcaron=611,vt.greaterequal=549,vt.Eth=722,vt.Ccedilla=667,vt.lcommaaccent=278,vt.tcaron=366,vt.eogonek=444,vt.Uogonek=722,vt.Aacute=667,vt.Adieresis=667,vt.egrave=444,vt.zacute=389,vt.iogonek=278,vt.Oacute=722,vt.oacute=500,vt.amacron=500,vt.sacute=389,vt.idieresis=278,vt.Ocircumflex=722,vt.Ugrave=722,vt.Delta=612,vt.thorn=500,vt.twosuperior=300,vt.Odieresis=722,vt.mu=576,vt.igrave=278,vt.ohungarumlaut=500,vt.Eogonek=667,vt.dcroat=500,vt.threequarters=750,vt.Scedilla=556,vt.lcaron=382,vt.Kcommaaccent=667,vt.Lacute=611,vt.trademark=1e3,vt.edotaccent=444,vt.Igrave=389,vt.Imacron=389,vt.Lcaron=611,vt.onehalf=750,vt.lessequal=549,vt.ocircumflex=500,vt.ntilde=556,vt.Uhungarumlaut=722,vt.Eacute=667,vt.emacron=444,vt.gbreve=500,vt.onequarter=750,vt.Scaron=556,vt.Scommaaccent=556,vt.Ohungarumlaut=722,vt.degree=400,vt.ograve=500,vt.Ccaron=667,vt.ugrave=556,vt.radical=549,vt.Dcaron=722,vt.rcommaaccent=389,vt.Ntilde=722,vt.otilde=500,vt.Rcommaaccent=667,vt.Lcommaaccent=611,vt.Atilde=667,vt.Aogonek=667,vt.Aring=667,vt.Otilde=722,vt.zdotaccent=389,vt.Ecaron=667,vt.Iogonek=389,vt.kcommaaccent=500,vt.minus=606,vt.Icircumflex=389,vt.ncaron=556,vt.tcommaaccent=278,vt.logicalnot=606,vt.odieresis=500,vt.udieresis=556,vt.notequal=549,vt.gcommaaccent=500,vt.eth=500,vt.zcaron=389,vt.ncommaaccent=556,vt.onesuperior=300,vt.imacron=278,vt.Euro=500}),ht["Times-Italic"]=(0,wt.getLookupTableFactory)(function(vt){vt.space=250,vt.exclam=333,vt.quotedbl=420,vt.numbersign=500,vt.dollar=500,vt.percent=833,vt.ampersand=778,vt.quoteright=333,vt.parenleft=333,vt.parenright=333,vt.asterisk=500,vt.plus=675,vt.comma=250,vt.hyphen=333,vt.period=250,vt.slash=278,vt.zero=500,vt.one=500,vt.two=500,vt.three=500,vt.four=500,vt.five=500,vt.six=500,vt.seven=500,vt.eight=500,vt.nine=500,vt.colon=333,vt.semicolon=333,vt.less=675,vt.equal=675,vt.greater=675,vt.question=500,vt.at=920,vt.A=611,vt.B=611,vt.C=667,vt.D=722,vt.E=611,vt.F=611,vt.G=722,vt.H=722,vt.I=333,vt.J=444,vt.K=667,vt.L=556,vt.M=833,vt.N=667,vt.O=722,vt.P=611,vt.Q=722,vt.R=611,vt.S=500,vt.T=556,vt.U=722,vt.V=611,vt.W=833,vt.X=611,vt.Y=556,vt.Z=556,vt.bracketleft=389,vt.backslash=278,vt.bracketright=389,vt.asciicircum=422,vt.underscore=500,vt.quoteleft=333,vt.a=500,vt.b=500,vt.c=444,vt.d=500,vt.e=444,vt.f=278,vt.g=500,vt.h=500,vt.i=278,vt.j=278,vt.k=444,vt.l=278,vt.m=722,vt.n=500,vt.o=500,vt.p=500,vt.q=500,vt.r=389,vt.s=389,vt.t=278,vt.u=500,vt.v=444,vt.w=667,vt.x=444,vt.y=444,vt.z=389,vt.braceleft=400,vt.bar=275,vt.braceright=400,vt.asciitilde=541,vt.exclamdown=389,vt.cent=500,vt.sterling=500,vt.fraction=167,vt.yen=500,vt.florin=500,vt.section=500,vt.currency=500,vt.quotesingle=214,vt.quotedblleft=556,vt.guillemotleft=500,vt.guilsinglleft=333,vt.guilsinglright=333,vt.fi=500,vt.fl=500,vt.endash=500,vt.dagger=500,vt.daggerdbl=500,vt.periodcentered=250,vt.paragraph=523,vt.bullet=350,vt.quotesinglbase=333,vt.quotedblbase=556,vt.quotedblright=556,vt.guillemotright=500,vt.ellipsis=889,vt.perthousand=1e3,vt.questiondown=500,vt.grave=333,vt.acute=333,vt.circumflex=333,vt.tilde=333,vt.macron=333,vt.breve=333,vt.dotaccent=333,vt.dieresis=333,vt.ring=333,vt.cedilla=333,vt.hungarumlaut=333,vt.ogonek=333,vt.caron=333,vt.emdash=889,vt.AE=889,vt.ordfeminine=276,vt.Lslash=556,vt.Oslash=722,vt.OE=944,vt.ordmasculine=310,vt.ae=667,vt.dotlessi=278,vt.lslash=278,vt.oslash=500,vt.oe=667,vt.germandbls=500,vt.Idieresis=333,vt.eacute=444,vt.abreve=500,vt.uhungarumlaut=500,vt.ecaron=444,vt.Ydieresis=556,vt.divide=675,vt.Yacute=556,vt.Acircumflex=611,vt.aacute=500,vt.Ucircumflex=722,vt.yacute=444,vt.scommaaccent=389,vt.ecircumflex=444,vt.Uring=722,vt.Udieresis=722,vt.aogonek=500,vt.Uacute=722,vt.uogonek=500,vt.Edieresis=611,vt.Dcroat=722,vt.commaaccent=250,vt.copyright=760,vt.Emacron=611,vt.ccaron=444,vt.aring=500,vt.Ncommaaccent=667,vt.lacute=278,vt.agrave=500,vt.Tcommaaccent=556,vt.Cacute=667,vt.atilde=500,vt.Edotaccent=611,vt.scaron=389,vt.scedilla=389,vt.iacute=278,vt.lozenge=471,vt.Rcaron=611,vt.Gcommaaccent=722,vt.ucircumflex=500,vt.acircumflex=500,vt.Amacron=611,vt.rcaron=389,vt.ccedilla=444,vt.Zdotaccent=556,vt.Thorn=611,vt.Omacron=722,vt.Racute=611,vt.Sacute=500,vt.dcaron=544,vt.Umacron=722,vt.uring=500,vt.threesuperior=300,vt.Ograve=722,vt.Agrave=611,vt.Abreve=611,vt.multiply=675,vt.uacute=500,vt.Tcaron=556,vt.partialdiff=476,vt.ydieresis=444,vt.Nacute=667,vt.icircumflex=278,vt.Ecircumflex=611,vt.adieresis=500,vt.edieresis=444,vt.cacute=444,vt.nacute=500,vt.umacron=500,vt.Ncaron=667,vt.Iacute=333,vt.plusminus=675,vt.brokenbar=275,vt.registered=760,vt.Gbreve=722,vt.Idotaccent=333,vt.summation=600,vt.Egrave=611,vt.racute=389,vt.omacron=500,vt.Zacute=556,vt.Zcaron=556,vt.greaterequal=549,vt.Eth=722,vt.Ccedilla=667,vt.lcommaaccent=278,vt.tcaron=300,vt.eogonek=444,vt.Uogonek=722,vt.Aacute=611,vt.Adieresis=611,vt.egrave=444,vt.zacute=389,vt.iogonek=278,vt.Oacute=722,vt.oacute=500,vt.amacron=500,vt.sacute=389,vt.idieresis=278,vt.Ocircumflex=722,vt.Ugrave=722,vt.Delta=612,vt.thorn=500,vt.twosuperior=300,vt.Odieresis=722,vt.mu=500,vt.igrave=278,vt.ohungarumlaut=500,vt.Eogonek=611,vt.dcroat=500,vt.threequarters=750,vt.Scedilla=500,vt.lcaron=300,vt.Kcommaaccent=667,vt.Lacute=556,vt.trademark=980,vt.edotaccent=444,vt.Igrave=333,vt.Imacron=333,vt.Lcaron=611,vt.onehalf=750,vt.lessequal=549,vt.ocircumflex=500,vt.ntilde=500,vt.Uhungarumlaut=722,vt.Eacute=611,vt.emacron=444,vt.gbreve=500,vt.onequarter=750,vt.Scaron=500,vt.Scommaaccent=500,vt.Ohungarumlaut=722,vt.degree=400,vt.ograve=500,vt.Ccaron=667,vt.ugrave=500,vt.radical=453,vt.Dcaron=722,vt.rcommaaccent=389,vt.Ntilde=667,vt.otilde=500,vt.Rcommaaccent=611,vt.Lcommaaccent=556,vt.Atilde=611,vt.Aogonek=611,vt.Aring=611,vt.Otilde=722,vt.zdotaccent=389,vt.Ecaron=611,vt.Iogonek=333,vt.kcommaaccent=444,vt.minus=675,vt.Icircumflex=333,vt.ncaron=500,vt.tcommaaccent=278,vt.logicalnot=675,vt.odieresis=500,vt.udieresis=500,vt.notequal=549,vt.gcommaaccent=500,vt.eth=500,vt.zcaron=389,vt.ncommaaccent=500,vt.onesuperior=300,vt.imacron=278,vt.Euro=500}),ht.ZapfDingbats=(0,wt.getLookupTableFactory)(function(vt){vt.space=278,vt.a1=974,vt.a2=961,vt.a202=974,vt.a3=980,vt.a4=719,vt.a5=789,vt.a119=790,vt.a118=791,vt.a117=690,vt.a11=960,vt.a12=939,vt.a13=549,vt.a14=855,vt.a15=911,vt.a16=933,vt.a105=911,vt.a17=945,vt.a18=974,vt.a19=755,vt.a20=846,vt.a21=762,vt.a22=761,vt.a23=571,vt.a24=677,vt.a25=763,vt.a26=760,vt.a27=759,vt.a28=754,vt.a6=494,vt.a7=552,vt.a8=537,vt.a9=577,vt.a10=692,vt.a29=786,vt.a30=788,vt.a31=788,vt.a32=790,vt.a33=793,vt.a34=794,vt.a35=816,vt.a36=823,vt.a37=789,vt.a38=841,vt.a39=823,vt.a40=833,vt.a41=816,vt.a42=831,vt.a43=923,vt.a44=744,vt.a45=723,vt.a46=749,vt.a47=790,vt.a48=792,vt.a49=695,vt.a50=776,vt.a51=768,vt.a52=792,vt.a53=759,vt.a54=707,vt.a55=708,vt.a56=682,vt.a57=701,vt.a58=826,vt.a59=815,vt.a60=789,vt.a61=789,vt.a62=707,vt.a63=687,vt.a64=696,vt.a65=689,vt.a66=786,vt.a67=787,vt.a68=713,vt.a69=791,vt.a70=785,vt.a71=791,vt.a72=873,vt.a73=761,vt.a74=762,vt.a203=762,vt.a75=759,vt.a204=759,vt.a76=892,vt.a77=892,vt.a78=788,vt.a79=784,vt.a81=438,vt.a82=138,vt.a83=277,vt.a84=415,vt.a97=392,vt.a98=392,vt.a99=668,vt.a100=668,vt.a89=390,vt.a90=390,vt.a93=317,vt.a94=317,vt.a91=276,vt.a92=276,vt.a205=509,vt.a85=509,vt.a206=410,vt.a86=410,vt.a87=234,vt.a88=234,vt.a95=334,vt.a96=334,vt.a101=732,vt.a102=544,vt.a103=544,vt.a104=910,vt.a106=667,vt.a107=760,vt.a108=760,vt.a112=776,vt.a111=595,vt.a110=694,vt.a109=626,vt.a120=788,vt.a121=788,vt.a122=788,vt.a123=788,vt.a124=788,vt.a125=788,vt.a126=788,vt.a127=788,vt.a128=788,vt.a129=788,vt.a130=788,vt.a131=788,vt.a132=788,vt.a133=788,vt.a134=788,vt.a135=788,vt.a136=788,vt.a137=788,vt.a138=788,vt.a139=788,vt.a140=788,vt.a141=788,vt.a142=788,vt.a143=788,vt.a144=788,vt.a145=788,vt.a146=788,vt.a147=788,vt.a148=788,vt.a149=788,vt.a150=788,vt.a151=788,vt.a152=788,vt.a153=788,vt.a154=788,vt.a155=788,vt.a156=788,vt.a157=788,vt.a158=788,vt.a159=788,vt.a160=894,vt.a161=838,vt.a163=1016,vt.a164=458,vt.a196=748,vt.a165=924,vt.a192=748,vt.a166=918,vt.a167=927,vt.a168=928,vt.a169=928,vt.a170=834,vt.a171=873,vt.a172=828,vt.a173=924,vt.a162=924,vt.a174=917,vt.a175=930,vt.a176=931,vt.a177=463,vt.a178=883,vt.a179=836,vt.a193=836,vt.a180=867,vt.a199=867,vt.a181=696,vt.a200=696,vt.a182=874,vt.a201=874,vt.a183=760,vt.a184=946,vt.a197=771,vt.a185=865,vt.a194=771,vt.a198=888,vt.a186=967,vt.a195=888,vt.a187=831,vt.a188=873,vt.a189=927,vt.a190=970,vt.a191=918})});Et.getMetrics=kt;const _t=(0,wt.getLookupTableFactory)(function(ht){ht.Courier={ascent:629,descent:-157,capHeight:562,xHeight:-426},ht["Courier-Bold"]={ascent:629,descent:-157,capHeight:562,xHeight:439},ht["Courier-Oblique"]={ascent:629,descent:-157,capHeight:562,xHeight:426},ht["Courier-BoldOblique"]={ascent:629,descent:-157,capHeight:562,xHeight:426},ht.Helvetica={ascent:718,descent:-207,capHeight:718,xHeight:523},ht["Helvetica-Bold"]={ascent:718,descent:-207,capHeight:718,xHeight:532},ht["Helvetica-Oblique"]={ascent:718,descent:-207,capHeight:718,xHeight:523},ht["Helvetica-BoldOblique"]={ascent:718,descent:-207,capHeight:718,xHeight:532},ht["Times-Roman"]={ascent:683,descent:-217,capHeight:662,xHeight:450},ht["Times-Bold"]={ascent:683,descent:-217,capHeight:676,xHeight:461},ht["Times-Italic"]={ascent:683,descent:-217,capHeight:653,xHeight:441},ht["Times-BoldItalic"]={ascent:683,descent:-217,capHeight:669,xHeight:462},ht.Symbol={ascent:Math.NaN,descent:Math.NaN,capHeight:Math.NaN,xHeight:Math.NaN},ht.ZapfDingbats={ascent:Math.NaN,descent:Math.NaN,capHeight:Math.NaN,xHeight:Math.NaN}});Et.getFontBasicMetrics=_t},(Ct,Et)=>{Object.defineProperty(Et,"__esModule",{value:!0}),Et.GlyfTable=void 0;const Pt=1,wt=2,kt=4,_t=8,ht=16,vt=32,Ft=64,Vt=1,qt=2,Lt=8,$t=32,Ot=64,jt=128,Rt=256;class Kt{constructor({glyfTable:nn,isGlyphLocationsLong:bn,locaTable:Wt,numGlyphs:Yt}){this.glyphs=[];const dn=new DataView(Wt.buffer,Wt.byteOffset,Wt.byteLength),Ut=new DataView(nn.buffer,nn.byteOffset,nn.byteLength),Mt=bn?4:2;let Ht=bn?dn.getUint32(0):2*dn.getUint16(0),sn=0;for(let zt=0;zt<Yt;zt++){sn+=Mt;const Xt=bn?dn.getUint32(sn):2*dn.getUint16(sn);if(Xt===Ht){this.glyphs.push(new Bt({}));continue}const Qt=Bt.parse(Ht,Ut);this.glyphs.push(Qt),Ht=Xt}}getSize(){return this.glyphs.reduce((nn,bn)=>{const Wt=bn.getSize();return nn+(Wt+3&-4)},0)}write(){const nn=this.getSize(),bn=new DataView(new ArrayBuffer(nn)),Wt=nn>131070,Yt=Wt?4:2,dn=new DataView(new ArrayBuffer((this.glyphs.length+1)*Yt));Wt?dn.setUint32(0,0):dn.setUint16(0,0);let Ut=0,Mt=0;for(const Ht of this.glyphs)Ut+=Ht.write(Ut,bn),Ut=Ut+3&-4,Mt+=Yt,Wt?dn.setUint32(Mt,Ut):dn.setUint16(Mt,Ut>>1);return{isLocationLong:Wt,loca:new Uint8Array(dn.buffer),glyf:new Uint8Array(bn.buffer)}}scale(nn){for(let bn=0,Wt=this.glyphs.length;bn<Wt;bn++)this.glyphs[bn].scale(nn[bn])}}Et.GlyfTable=Kt;class Bt{constructor({header:nn=null,simple:bn=null,composites:Wt=null}){this.header=nn,this.simple=bn,this.composites=Wt}static parse(nn,bn){const[Wt,Yt]=Gt.parse(nn,bn);if(nn+=Wt,Yt.numberOfContours<0){const Ut=[];for(;;){const[Mt,Ht]=tn.parse(nn,bn);if(nn+=Mt,Ut.push(Ht),!(Ht.flags&$t))break}return new Bt({header:Yt,composites:Ut})}const dn=hn.parse(nn,bn,Yt.numberOfContours);return new Bt({header:Yt,simple:dn})}getSize(){if(!this.header)return 0;const nn=this.simple?this.simple.getSize():this.composites.reduce((bn,Wt)=>bn+Wt.getSize(),0);return this.header.getSize()+nn}write(nn,bn){if(!this.header)return 0;const Wt=nn;if(nn+=this.header.write(nn,bn),this.simple)nn+=this.simple.write(nn,bn);else for(const Yt of this.composites)nn+=Yt.write(nn,bn);return nn-Wt}scale(nn){if(!this.header)return;const bn=(this.header.xMin+this.header.xMax)/2;if(this.header.scale(bn,nn),this.simple)this.simple.scale(bn,nn);else for(const Wt of this.composites)Wt.scale(bn,nn)}}class Gt{constructor({numberOfContours:nn,xMin:bn,yMin:Wt,xMax:Yt,yMax:dn}){this.numberOfContours=nn,this.xMin=bn,this.yMin=Wt,this.xMax=Yt,this.yMax=dn}static parse(nn,bn){return[10,new Gt({numberOfContours:bn.getInt16(nn),xMin:bn.getInt16(nn+2),yMin:bn.getInt16(nn+4),xMax:bn.getInt16(nn+6),yMax:bn.getInt16(nn+8)})]}getSize(){return 10}write(nn,bn){return bn.setInt16(nn,this.numberOfContours),bn.setInt16(nn+2,this.xMin),bn.setInt16(nn+4,this.yMin),bn.setInt16(nn+6,this.xMax),bn.setInt16(nn+8,this.yMax),10}scale(nn,bn){this.xMin=Math.round(nn+(this.xMin-nn)*bn),this.xMax=Math.round(nn+(this.xMax-nn)*bn)}}class en{constructor({flags:nn,xCoordinates:bn,yCoordinates:Wt}){this.xCoordinates=bn,this.yCoordinates=Wt,this.flags=nn}}class hn{constructor({contours:nn,instructions:bn}){this.contours=nn,this.instructions=bn}static parse(nn,bn,Wt){const Yt=[];for(let rn=0;rn<Wt;rn++){const an=bn.getUint16(nn);nn+=2,Yt.push(an)}const dn=Yt[Wt-1]+1,Ut=bn.getUint16(nn);nn+=2;const Mt=new Uint8Array(bn).slice(nn,nn+Ut);nn+=Ut;const Ht=[];for(let rn=0;rn<dn;nn++,rn++){let an=bn.getUint8(nn);if(Ht.push(an),an&_t){const xn=bn.getUint8(++nn);an^=_t;for(let wn=0;wn<xn;wn++)Ht.push(an);rn+=xn}}const sn=[];let zt=[],Xt=[],Qt=[];const ln=[];let on=0,cn=0;for(let rn=0;rn<dn;rn++){const an=Ht[rn];if(an&wt){const xn=bn.getUint8(nn++);cn+=an&ht?xn:-xn,zt.push(cn)}else an&ht||(cn+=bn.getInt16(nn),nn+=2),zt.push(cn);Yt[on]===rn&&(on++,sn.push(zt),zt=[])}cn=0,on=0;for(let rn=0;rn<dn;rn++){const an=Ht[rn];if(an&kt){const xn=bn.getUint8(nn++);cn+=an&vt?xn:-xn,Xt.push(cn)}else an&vt||(cn+=bn.getInt16(nn),nn+=2),Xt.push(cn);Qt.push(an&Pt|an&Ft),Yt[on]===rn&&(zt=sn[on],on++,ln.push(new en({flags:Qt,xCoordinates:zt,yCoordinates:Xt})),Xt=[],Qt=[])}return new hn({contours:ln,instructions:Mt})}getSize(){let nn=this.contours.length*2+2+this.instructions.length,bn=0,Wt=0;for(const Yt of this.contours){nn+=Yt.flags.length;for(let dn=0,Ut=Yt.xCoordinates.length;dn<Ut;dn++){const Mt=Yt.xCoordinates[dn],Ht=Yt.yCoordinates[dn];let sn=Math.abs(Mt-bn);sn>255?nn+=2:sn>0&&(nn+=1),bn=Mt,sn=Math.abs(Ht-Wt),sn>255?nn+=2:sn>0&&(nn+=1),Wt=Ht}}return nn}write(nn,bn){const Wt=nn,Yt=[],dn=[],Ut=[];let Mt=0,Ht=0;for(const sn of this.contours){for(let zt=0,Xt=sn.xCoordinates.length;zt<Xt;zt++){let Qt=sn.flags[zt];const ln=sn.xCoordinates[zt];let on=ln-Mt;if(on===0)Qt|=ht,Yt.push(0);else{const rn=Math.abs(on);rn<=255?(Qt|=on>=0?wt|ht:wt,Yt.push(rn)):Yt.push(on)}Mt=ln;const cn=sn.yCoordinates[zt];if(on=cn-Ht,on===0)Qt|=vt,dn.push(0);else{const rn=Math.abs(on);rn<=255?(Qt|=on>=0?kt|vt:kt,dn.push(rn)):dn.push(on)}Ht=cn,Ut.push(Qt)}bn.setUint16(nn,Yt.length-1),nn+=2}bn.setUint16(nn,this.instructions.length),nn+=2,this.instructions.length&&(new Uint8Array(bn.buffer,0,bn.buffer.byteLength).set(this.instructions,nn),nn+=this.instructions.length);for(const sn of Ut)bn.setUint8(nn++,sn);for(let sn=0,zt=Yt.length;sn<zt;sn++){const Xt=Yt[sn],Qt=Ut[sn];Qt&wt?bn.setUint8(nn++,Xt):Qt&ht||(bn.setInt16(nn,Xt),nn+=2)}for(let sn=0,zt=dn.length;sn<zt;sn++){const Xt=dn[sn],Qt=Ut[sn];Qt&kt?bn.setUint8(nn++,Xt):Qt&vt||(bn.setInt16(nn,Xt),nn+=2)}return nn-Wt}scale(nn,bn){for(const Wt of this.contours)if(Wt.xCoordinates.length!==0)for(let Yt=0,dn=Wt.xCoordinates.length;Yt<dn;Yt++)Wt.xCoordinates[Yt]=Math.round(nn+(Wt.xCoordinates[Yt]-nn)*bn)}}class tn{constructor({flags:nn,glyphIndex:bn,argument1:Wt,argument2:Yt,transf:dn,instructions:Ut}){this.flags=nn,this.glyphIndex=bn,this.argument1=Wt,this.argument2=Yt,this.transf=dn,this.instructions=Ut}static parse(nn,bn){const Wt=nn,Yt=[];let dn=bn.getUint16(nn);const Ut=bn.getUint16(nn+2);nn+=4;let Mt,Ht;dn&Vt?(dn&qt?(Mt=bn.getInt16(nn),Ht=bn.getInt16(nn+2)):(Mt=bn.getUint16(nn),Ht=bn.getUint16(nn+2)),nn+=4,dn^=Vt):(dn&qt?(Mt=bn.getInt8(nn),Ht=bn.getInt8(nn+1)):(Mt=bn.getUint8(nn),Ht=bn.getUint8(nn+1)),nn+=2),dn&Lt?(Yt.push(bn.getUint16(nn)),nn+=2):dn&Ot?(Yt.push(bn.getUint16(nn),bn.getUint16(nn+2)),nn+=4):dn&jt&&(Yt.push(bn.getUint16(nn),bn.getUint16(nn+2),bn.getUint16(nn+4),bn.getUint16(nn+6)),nn+=8);let sn=null;if(dn&Rt){const zt=bn.getUint16(nn);nn+=2,sn=new Uint8Array(bn).slice(nn,nn+zt),nn+=zt}return[nn-Wt,new tn({flags:dn,glyphIndex:Ut,argument1:Mt,argument2:Ht,transf:Yt,instructions:sn})]}getSize(){let nn=4+this.transf.length*2;return this.flags&Rt&&(nn+=2+this.instructions.length),nn+=2,this.flags&2?this.argument1>=-128&&this.argument1<=127&&this.argument2>=-128&&this.argument2<=127||(nn+=2):this.argument1>=0&&this.argument1<=255&&this.argument2>=0&&this.argument2<=255||(nn+=2),nn}write(nn,bn){const Wt=nn;return this.flags&qt?this.argument1>=-128&&this.argument1<=127&&this.argument2>=-128&&this.argument2<=127||(this.flags|=Vt):this.argument1>=0&&this.argument1<=255&&this.argument2>=0&&this.argument2<=255||(this.flags|=Vt),bn.setUint16(nn,this.flags),bn.setUint16(nn+2,this.glyphIndex),nn+=4,this.flags&Vt?(this.flags&qt?(bn.setInt16(nn,this.argument1),bn.setInt16(nn+2,this.argument2)):(bn.setUint16(nn,this.argument1),bn.setUint16(nn+2,this.argument2)),nn+=4):(bn.setUint8(nn,this.argument1),bn.setUint8(nn+1,this.argument2),nn+=2),this.flags&Rt&&(bn.setUint16(nn,this.instructions.length),nn+=2,this.instructions.length&&(new Uint8Array(bn.buffer,0,bn.buffer.byteLength).set(this.instructions,nn),nn+=this.instructions.length)),nn-Wt}scale(nn,bn){}}},(Ct,Et,Pt)=>{Object.defineProperty(Et,"__esModule",{value:!0}),Et.OpenTypeFileBuilder=void 0;var wt=Pt(3),kt=Pt(2);function _t(Lt,$t,Ot){Lt[$t]=Ot>>8&255,Lt[$t+1]=Ot&255}function ht(Lt,$t,Ot){Lt[$t]=Ot>>24&255,Lt[$t+1]=Ot>>16&255,Lt[$t+2]=Ot>>8&255,Lt[$t+3]=Ot&255}function vt(Lt,$t,Ot){if(Ot instanceof Uint8Array)Lt.set(Ot,$t);else if(typeof Ot=="string")for(let jt=0,Rt=Ot.length;jt<Rt;jt++)Lt[$t++]=Ot.charCodeAt(jt)&255;else for(const jt of Ot)Lt[$t++]=jt&255}const Ft=12,Vt=16;class qt{constructor($t){this.sfnt=$t,this.tables=Object.create(null)}static getSearchParams($t,Ot){let jt=1,Rt=0;for(;(jt^$t)>jt;)jt<<=1,Rt++;const Kt=jt*Ot;return{range:Kt,entry:Rt,rangeShift:Ot*$t-Kt}}toArray(){let $t=this.sfnt;const Ot=this.tables,jt=Object.keys(Ot);jt.sort();const Rt=jt.length;let Kt,Bt,Gt,en,hn,tn=Ft+Rt*Vt;const gn=[tn];for(Kt=0;Kt<Rt;Kt++){en=Ot[jt[Kt]];const Wt=(en.length+3&-4)>>>0;tn+=Wt,gn.push(tn)}const nn=new Uint8Array(tn);for(Kt=0;Kt<Rt;Kt++)en=Ot[jt[Kt]],vt(nn,gn[Kt],en);$t==="true"&&($t=(0,kt.string32)(65536)),nn[0]=$t.charCodeAt(0)&255,nn[1]=$t.charCodeAt(1)&255,nn[2]=$t.charCodeAt(2)&255,nn[3]=$t.charCodeAt(3)&255,_t(nn,4,Rt);const bn=qt.getSearchParams(Rt,16);for(_t(nn,6,bn.range),_t(nn,8,bn.entry),_t(nn,10,bn.rangeShift),tn=Ft,Kt=0;Kt<Rt;Kt++){hn=jt[Kt],nn[tn]=hn.charCodeAt(0)&255,nn[tn+1]=hn.charCodeAt(1)&255,nn[tn+2]=hn.charCodeAt(2)&255,nn[tn+3]=hn.charCodeAt(3)&255;let Wt=0;for(Bt=gn[Kt],Gt=gn[Kt+1];Bt<Gt;Bt+=4){const Yt=(0,wt.readUint32)(nn,Bt);Wt=Wt+Yt>>>0}ht(nn,tn+4,Wt),ht(nn,tn+8,gn[Kt]),ht(nn,tn+12,Ot[hn].length),tn+=Vt}return nn}addTable($t,Ot){if($t in this.tables)throw new Error("Table "+$t+" already exists");this.tables[$t]=Ot}}Et.OpenTypeFileBuilder=qt},(Ct,Et,Pt)=>{Object.defineProperty(Et,"__esModule",{value:!0}),Et.Type1Font=void 0;var wt=Pt(35),kt=Pt(2),_t=Pt(38),ht=Pt(3),vt=Pt(8),Ft=Pt(49);function Vt(Ot,jt,Rt){const Kt=Ot.length,Bt=jt.length,Gt=Kt-Bt;let en=Rt,hn=!1;for(;en<Gt;){let tn=0;for(;tn<Bt&&Ot[en+tn]===jt[tn];)tn++;if(tn>=Bt){for(en+=tn;en<Kt&&(0,ht.isWhiteSpace)(Ot[en]);)en++;hn=!0;break}en++}return{found:hn,length:en}}function qt(Ot,jt){const Rt=[101,101,120,101,99],Kt=Ot.pos;let Bt,Gt,en;try{Bt=Ot.getBytes(jt),Gt=Bt.length}catch{}if(Gt===jt&&(en=Vt(Bt,Rt,jt-2*Rt.length),en.found&&en.length===jt))return{stream:new vt.Stream(Bt),length:jt};(0,kt.warn)('Invalid "Length1" property in Type1 font -- trying to recover.'),Ot.pos=Kt;const hn=2048;let tn;for(;;){const gn=Ot.peekBytes(hn);if(en=Vt(gn,Rt,0),en.length===0)break;if(Ot.pos+=en.length,en.found){tn=Ot.pos-Kt;break}}return Ot.pos=Kt,tn?{stream:new vt.Stream(Ot.getBytes(tn)),length:tn}:((0,kt.warn)('Unable to recover "Length1" property in Type1 font -- using as is.'),{stream:new vt.Stream(Ot.getBytes(jt)),length:jt})}function Lt(Ot,jt){const Rt=Ot.getBytes();if(Rt.length===0)throw new kt.FormatError("getEexecBlock - no font program found.");return{stream:new vt.Stream(Rt),length:Rt.length}}class $t{constructor(jt,Rt,Kt){let Gt=Kt.length1;Kt.length2;let en=Rt.peekBytes(6);const hn=en[0]===128&&en[1]===1;hn&&(Rt.skip(6),Gt=en[5]<<24|en[4]<<16|en[3]<<8|en[2]);const tn=qt(Rt,Gt);new Ft.Type1Parser(tn.stream,!1,_t.SEAC_ANALYSIS_ENABLED).extractFontHeader(Kt),hn&&(en=Rt.getBytes(6),en[5]<<24|en[4]<<16|en[3]<<8|en[2]);const nn=Lt(Rt),Wt=new Ft.Type1Parser(nn.stream,!0,_t.SEAC_ANALYSIS_ENABLED).extractFontProgram(Kt);for(const Mt in Wt.properties)Kt[Mt]=Wt.properties[Mt];const Yt=Wt.charstrings,dn=this.getType2Charstrings(Yt),Ut=this.getType2Subrs(Wt.subrs);this.charstrings=Yt,this.data=this.wrap(jt,dn,this.charstrings,Ut,Kt),this.seacs=this.getSeacs(Wt.charstrings)}get numGlyphs(){return this.charstrings.length+1}getCharset(){const jt=[".notdef"];for(const{glyphName:Rt}of this.charstrings)jt.push(Rt);return jt}getGlyphMapping(jt){const Rt=this.charstrings;if(jt.composite){const hn=Object.create(null);for(let tn=0,gn=Rt.length;tn<gn;tn++){const nn=jt.cMap.charCodeOf(tn);hn[nn]=tn+1}return hn}const Kt=[".notdef"];let Bt,Gt;for(Gt=0;Gt<Rt.length;Gt++)Kt.push(Rt[Gt].glyphName);const en=jt.builtInEncoding;if(en){Bt=Object.create(null);for(const hn in en)Gt=Kt.indexOf(en[hn]),Gt>=0&&(Bt[hn]=Gt)}return(0,_t.type1FontGlyphMapping)(jt,Bt,Kt)}hasGlyphId(jt){return jt<0||jt>=this.numGlyphs?!1:jt===0?!0:this.charstrings[jt-1].charstring.length>0}getSeacs(jt){const Rt=[];for(let Kt=0,Bt=jt.length;Kt<Bt;Kt++){const Gt=jt[Kt];Gt.seac&&(Rt[Kt+1]=Gt.seac)}return Rt}getType2Charstrings(jt){const Rt=[];for(const Kt of jt)Rt.push(Kt.charstring);return Rt}getType2Subrs(jt){let Rt=0;const Kt=jt.length;Kt<1133?Rt=107:Kt<33769?Rt=1131:Rt=32768;const Bt=[];let Gt;for(Gt=0;Gt<Rt;Gt++)Bt.push([11]);for(Gt=0;Gt<Kt;Gt++)Bt.push(jt[Gt]);return Bt}wrap(jt,Rt,Kt,Bt,Gt){const en=new wt.CFF;en.header=new wt.CFFHeader(1,0,4,4),en.names=[jt];const hn=new wt.CFFTopDict;hn.setByName("version",391),hn.setByName("Notice",392),hn.setByName("FullName",393),hn.setByName("FamilyName",394),hn.setByName("Weight",395),hn.setByName("Encoding",null),hn.setByName("FontMatrix",Gt.fontMatrix),hn.setByName("FontBBox",Gt.bbox),hn.setByName("charset",null),hn.setByName("CharStrings",null),hn.setByName("Private",null),en.topDict=hn;const tn=new wt.CFFStrings;tn.add("Version 0.11"),tn.add("See original notice"),tn.add(jt),tn.add(jt),tn.add("Medium"),en.strings=tn,en.globalSubrIndex=new wt.CFFIndex;const gn=Rt.length,nn=[".notdef"];let bn,Wt;for(bn=0;bn<gn;bn++){const sn=Kt[bn].glyphName;wt.CFFStandardStrings.indexOf(sn)===-1&&tn.add(sn),nn.push(sn)}en.charset=new wt.CFFCharset(!1,0,nn);const Yt=new wt.CFFIndex;for(Yt.add([139,14]),bn=0;bn<gn;bn++)Yt.add(Rt[bn]);en.charStrings=Yt;const dn=new wt.CFFPrivateDict;dn.setByName("Subrs",null);const Ut=["BlueValues","OtherBlues","FamilyBlues","FamilyOtherBlues","StemSnapH","StemSnapV","BlueShift","BlueFuzz","BlueScale","LanguageGroup","ExpansionFactor","ForceBold","StdHW","StdVW"];for(bn=0,Wt=Ut.length;bn<Wt;bn++){const sn=Ut[bn];if(!(sn in Gt.privateData))continue;const zt=Gt.privateData[sn];if(Array.isArray(zt))for(let Xt=zt.length-1;Xt>0;Xt--)zt[Xt]-=zt[Xt-1];dn.setByName(sn,zt)}en.topDict.privateDict=dn;const Mt=new wt.CFFIndex;for(bn=0,Wt=Bt.length;bn<Wt;bn++)Mt.add(Bt[bn]);return dn.subrsIndex=Mt,new wt.CFFCompiler(en).compile()}}Et.Type1Font=$t},(Ct,Et,Pt)=>{Object.defineProperty(Et,"__esModule",{value:!0}),Et.Type1Parser=void 0;var wt=Pt(37),kt=Pt(3),_t=Pt(8),ht=Pt(2);const vt=!1,Ft={hstem:[1],vstem:[3],vmoveto:[4],rlineto:[5],hlineto:[6],vlineto:[7],rrcurveto:[8],callsubr:[10],flex:[12,35],drop:[12,18],endchar:[14],rmoveto:[21],hmoveto:[22],vhcurveto:[30],hvcurveto:[31]};class Vt{constructor(){this.width=0,this.lsb=0,this.flexing=!1,this.output=[],this.stack=[]}convert(Gt,en,hn){const tn=Gt.length;let gn=!1,nn,bn,Wt;for(let Yt=0;Yt<tn;Yt++){let dn=Gt[Yt];if(dn<32){switch(dn===12&&(dn=(dn<<8)+Gt[++Yt]),dn){case 1:{this.stack=[];break}case 3:{this.stack=[];break}case 4:if(this.flexing){if(this.stack.length<1){gn=!0;break}const zt=this.stack.pop();this.stack.push(0,zt);break}gn=this.executeCommand(1,Ft.vmoveto);break;case 5:gn=this.executeCommand(2,Ft.rlineto);break;case 6:gn=this.executeCommand(1,Ft.hlineto);break;case 7:gn=this.executeCommand(1,Ft.vlineto);break;case 8:gn=this.executeCommand(6,Ft.rrcurveto);break;case 9:this.stack=[];break;case 10:if(this.stack.length<1){gn=!0;break}if(Wt=this.stack.pop(),!en[Wt]){gn=!0;break}gn=this.convert(en[Wt],en,hn);break;case 11:return gn;case 13:if(this.stack.length<2){gn=!0;break}nn=this.stack.pop(),bn=this.stack.pop(),this.lsb=bn,this.width=nn,this.stack.push(nn,bn),gn=this.executeCommand(2,Ft.hmoveto);break;case 14:this.output.push(Ft.endchar[0]);break;case 21:if(this.flexing)break;gn=this.executeCommand(2,Ft.rmoveto);break;case 22:if(this.flexing){this.stack.push(0);break}gn=this.executeCommand(1,Ft.hmoveto);break;case 30:gn=this.executeCommand(4,Ft.vhcurveto);break;case 31:gn=this.executeCommand(4,Ft.hvcurveto);break;case 3072:this.stack=[];break;case 3073:{this.stack=[];break}case 3074:{this.stack=[];break}case 3078:if(hn){const zt=this.stack.at(-5);this.seac=this.stack.splice(-4,4),this.seac[0]+=this.lsb-zt,gn=this.executeCommand(0,Ft.endchar)}else gn=this.executeCommand(4,Ft.endchar);break;case 3079:if(this.stack.length<4){gn=!0;break}this.stack.pop(),nn=this.stack.pop();const Ut=this.stack.pop();bn=this.stack.pop(),this.lsb=bn,this.width=nn,this.stack.push(nn,bn,Ut),gn=this.executeCommand(3,Ft.rmoveto);break;case 3084:if(this.stack.length<2){gn=!0;break}const Mt=this.stack.pop(),Ht=this.stack.pop();this.stack.push(Ht/Mt);break;case 3088:if(this.stack.length<2){gn=!0;break}Wt=this.stack.pop();const sn=this.stack.pop();if(Wt===0&&sn===3){const zt=this.stack.splice(-17,17);this.stack.push(zt[2]+zt[0],zt[3]+zt[1],zt[4],zt[5],zt[6],zt[7],zt[8],zt[9],zt[10],zt[11],zt[12],zt[13],zt[14]),gn=this.executeCommand(13,Ft.flex,!0),this.flexing=!1,this.stack.push(zt[15],zt[16])}else Wt===1&&sn===0&&(this.flexing=!0);break;case 3089:break;case 3105:this.stack=[];break;default:(0,ht.warn)('Unknown type 1 charstring command of "'+dn+'"');break}if(gn)break;continue}else dn<=246?dn-=139:dn<=250?dn=(dn-247)*256+Gt[++Yt]+108:dn<=254?dn=-((dn-251)*256)-Gt[++Yt]-108:dn=(Gt[++Yt]&255)<<24|(Gt[++Yt]&255)<<16|(Gt[++Yt]&255)<<8|(Gt[++Yt]&255)<<0;this.stack.push(dn)}return gn}executeCommand(Gt,en,hn){const tn=this.stack.length;if(Gt>tn)return!0;const gn=tn-Gt;for(let nn=gn;nn<tn;nn++){let bn=this.stack[nn];Number.isInteger(bn)?this.output.push(28,bn>>8&255,bn&255):(bn=65536*bn|0,this.output.push(255,bn>>24&255,bn>>16&255,bn>>8&255,bn&255))}return this.output.push(...en),hn?this.stack.splice(gn,Gt):this.stack.length=0,!1}}const qt=55665,Lt=4330;function $t(Bt){return Bt>=48&&Bt<=57||Bt>=65&&Bt<=70||Bt>=97&&Bt<=102}function Ot(Bt,Gt,en){if(en>=Bt.length)return new Uint8Array(0);const hn=52845,tn=22719;let gn=Gt|0,nn,bn;for(nn=0;nn<en;nn++)gn=(Bt[nn]+gn)*hn+tn&65535;const Wt=Bt.length-en,Yt=new Uint8Array(Wt);for(nn=en,bn=0;bn<Wt;nn++,bn++){const dn=Bt[nn];Yt[bn]=dn^gn>>8,gn=(dn+gn)*hn+tn&65535}return Yt}function jt(Bt,Gt,en){let gn=Gt|0;const nn=Bt.length,bn=nn>>>1,Wt=new Uint8Array(bn);let Yt,dn;for(Yt=0,dn=0;Yt<nn;Yt++){const Ut=Bt[Yt];if(!$t(Ut))continue;Yt++;let Mt;for(;Yt<nn&&!$t(Mt=Bt[Yt]);)Yt++;if(Yt<nn){const Ht=parseInt(String.fromCharCode(Ut,Mt),16);Wt[dn++]=Ht^gn>>8,gn=(Ht+gn)*52845+22719&65535}}return Wt.slice(en,dn)}function Rt(Bt){return Bt===47||Bt===91||Bt===93||Bt===123||Bt===125||Bt===40||Bt===41}class Kt{constructor(Gt,en,hn){if(en){const tn=Gt.getBytes(),gn=!(($t(tn[0])||(0,kt.isWhiteSpace)(tn[0]))&&$t(tn[1])&&$t(tn[2])&&$t(tn[3])&&$t(tn[4])&&$t(tn[5])&&$t(tn[6])&&$t(tn[7]));Gt=new _t.Stream(gn?Ot(tn,qt,4):jt(tn,qt,4))}this.seacAnalysisEnabled=!!hn,this.stream=Gt,this.nextChar()}readNumberArray(){this.getToken();const Gt=[];for(;;){const en=this.getToken();if(en===null||en==="]"||en==="}")break;Gt.push(parseFloat(en||0))}return Gt}readNumber(){const Gt=this.getToken();return parseFloat(Gt||0)}readInt(){const Gt=this.getToken();return parseInt(Gt||0,10)|0}readBoolean(){return this.getToken()==="true"?1:0}nextChar(){return this.currentChar=this.stream.getByte()}prevChar(){return this.stream.skip(-2),this.currentChar=this.stream.getByte()}getToken(){let Gt=!1,en=this.currentChar;for(;;){if(en===-1)return null;if(Gt)(en===10||en===13)&&(Gt=!1);else if(en===37)Gt=!0;else if(!(0,kt.isWhiteSpace)(en))break;en=this.nextChar()}if(Rt(en))return this.nextChar(),String.fromCharCode(en);let hn="";do hn+=String.fromCharCode(en),en=this.nextChar();while(en>=0&&!(0,kt.isWhiteSpace)(en)&&!Rt(en));return hn}readCharStrings(Gt,en){return en===-1?Gt:Ot(Gt,Lt,en)}extractFontProgram(Gt){const en=this.stream,hn=[],tn=[],gn=Object.create(null);gn.lenIV=4;const nn={subrs:[],charstrings:[],properties:{privateData:gn}};let bn,Wt,Yt,dn;for(;(bn=this.getToken())!==null;)if(bn==="/")switch(bn=this.getToken(),bn){case"CharStrings":for(this.getToken(),this.getToken(),this.getToken(),this.getToken();bn=this.getToken(),!(bn===null||bn==="end");){if(bn!=="/")continue;const Mt=this.getToken();Wt=this.readInt(),this.getToken(),Yt=Wt>0?en.getBytes(Wt):new Uint8Array(0),dn=nn.properties.privateData.lenIV;const Ht=this.readCharStrings(Yt,dn);this.nextChar(),bn=this.getToken(),bn==="noaccess"?this.getToken():bn==="/"&&this.prevChar(),tn.push({glyph:Mt,encoded:Ht})}break;case"Subrs":for(this.readInt(),this.getToken();this.getToken()==="dup";){const Mt=this.readInt();Wt=this.readInt(),this.getToken(),Yt=Wt>0?en.getBytes(Wt):new Uint8Array(0),dn=nn.properties.privateData.lenIV;const Ht=this.readCharStrings(Yt,dn);this.nextChar(),bn=this.getToken(),bn==="noaccess"&&this.getToken(),hn[Mt]=Ht}break;case"BlueValues":case"OtherBlues":case"FamilyBlues":case"FamilyOtherBlues":const Ut=this.readNumberArray();Ut.length>0&&Ut.length%2===0&&vt&&(nn.properties.privateData[bn]=Ut);break;case"StemSnapH":case"StemSnapV":nn.properties.privateData[bn]=this.readNumberArray();break;case"StdHW":case"StdVW":nn.properties.privateData[bn]=this.readNumberArray()[0];break;case"BlueShift":case"lenIV":case"BlueFuzz":case"BlueScale":case"LanguageGroup":nn.properties.privateData[bn]=this.readNumber();break;case"ExpansionFactor":nn.properties.privateData[bn]=this.readNumber()||.06;break;case"ForceBold":nn.properties.privateData[bn]=this.readBoolean();break}for(const{encoded:Ut,glyph:Mt}of tn){const Ht=new Vt,sn=Ht.convert(Ut,hn,this.seacAnalysisEnabled);let zt=Ht.output;sn&&(zt=[14]);const Xt={glyphName:Mt,charstring:zt,width:Ht.width,lsb:Ht.lsb,seac:Ht.seac};if(Mt===".notdef"?nn.charstrings.unshift(Xt):nn.charstrings.push(Xt),Gt.builtInEncoding){const Qt=Gt.builtInEncoding.indexOf(Mt);Qt>-1&&Gt.widths[Qt]===void 0&&Qt>=Gt.firstChar&&Qt<=Gt.lastChar&&(Gt.widths[Qt]=Ht.width)}}return nn}extractFontHeader(Gt){let en;for(;(en=this.getToken())!==null;)if(en==="/")switch(en=this.getToken(),en){case"FontMatrix":const hn=this.readNumberArray();Gt.fontMatrix=hn;break;case"Encoding":const tn=this.getToken();let gn;if(!/^\d+$/.test(tn))gn=(0,wt.getEncoding)(tn);else{gn=[];const bn=parseInt(tn,10)|0;this.getToken();for(let Wt=0;Wt<bn;Wt++){for(en=this.getToken();en!=="dup"&&en!=="def";)if(en=this.getToken(),en===null)return;if(en==="def")break;const Yt=this.readInt();this.getToken();const dn=this.getToken();gn[Yt]=dn,this.getToken()}}Gt.builtInEncoding=gn;break;case"FontBBox":const nn=this.readNumberArray();Gt.ascent=Math.max(nn[3],nn[1]),Gt.descent=Math.min(nn[1],nn[3]),Gt.ascentScaled=!0;break}}}Et.Type1Parser=Kt},(Ct,Et,Pt)=>{Object.defineProperty(Et,"__esModule",{value:!0}),Et.Pattern=void 0,Et.clearPatternCaches=Rt,Et.getTilingPatternIR=Gt;var wt=Pt(2),kt=Pt(5),_t=Pt(12),ht=Pt(3);const vt={FUNCTION_BASED:1,AXIAL:2,RADIAL:3,FREE_FORM_MESH:4,LATTICE_FORM_MESH:5,COONS_PATCH_MESH:6,TENSOR_PATCH_MESH:7};class Ft{constructor(){(0,wt.unreachable)("Cannot initialize Pattern.")}static parseShading(gn,nn,bn,Wt,Yt){const dn=gn instanceof kt.BaseStream?gn.dict:gn,Ut=dn.get("ShadingType");try{switch(Ut){case vt.AXIAL:case vt.RADIAL:return new qt(dn,nn,bn,Wt,Yt);case vt.FREE_FORM_MESH:case vt.LATTICE_FORM_MESH:case vt.COONS_PATCH_MESH:case vt.TENSOR_PATCH_MESH:return new Kt(gn,nn,bn,Wt,Yt);default:throw new wt.FormatError("Unsupported ShadingType: "+Ut)}}catch(Mt){if(Mt instanceof ht.MissingDataException)throw Mt;return(0,wt.warn)(Mt),new Bt}}}Et.Pattern=Ft;const en=class en{constructor(){this.constructor===en&&(0,wt.unreachable)("Cannot initialize BaseShading.")}getIR(){(0,wt.unreachable)("Abstract method `getIR` called.")}};Us(en,"SMALL_NUMBER",1e-6);let Vt=en;class qt extends Vt{constructor(gn,nn,bn,Wt,Yt){super(),this.coordsArr=gn.getArray("Coords"),this.shadingType=gn.get("ShadingType");const dn=_t.ColorSpace.parse({cs:gn.getRaw("CS")||gn.getRaw("ColorSpace"),xref:nn,resources:bn,pdfFunctionFactory:Wt,localColorSpaceCache:Yt}),Ut=gn.getArray("BBox");this.bbox=Array.isArray(Ut)&&Ut.length===4?wt.Util.normalizeRect(Ut):null;let Mt=0,Ht=1;if(gn.has("Domain")){const Pn=gn.getArray("Domain");Mt=Pn[0],Ht=Pn[1]}let sn=!1,zt=!1;if(gn.has("Extend")){const Pn=gn.getArray("Extend");sn=Pn[0],zt=Pn[1]}if(this.shadingType===vt.RADIAL&&(!sn||!zt)){const[Pn,Cn,vn,Rn,Mn,_n]=this.coordsArr,Dn=Math.hypot(Pn-Rn,Cn-Mn);vn<=_n+Dn&&_n<=vn+Dn&&(0,wt.warn)("Unsupported radial gradient.")}this.extendStart=sn,this.extendEnd=zt;const Xt=gn.getRaw("Function"),Qt=Wt.createFromArray(Xt),ln=840,on=(Ht-Mt)/ln,cn=this.colorStops=[];if(Mt>=Ht||on<=0){(0,wt.info)("Bad shading domain.");return}const rn=new Float32Array(dn.numComps),an=new Float32Array(1);let xn,wn=0;an[0]=Mt,Qt(an,0,rn,0);let En=dn.getRgb(rn,0);const Fn=wt.Util.makeHexColor(En[0],En[1],En[2]);cn.push([0,Fn]);let In=1;an[0]=Mt+on,Qt(an,0,rn,0);let Tn=dn.getRgb(rn,0),An=Tn[0]-En[0]+1,mn=Tn[1]-En[1]+1,pn=Tn[2]-En[2]+1,Jt=Tn[0]-En[0]-1,un=Tn[1]-En[1]-1,fn=Tn[2]-En[2]-1;for(let Pn=2;Pn<ln;Pn++){an[0]=Mt+Pn*on,Qt(an,0,rn,0),xn=dn.getRgb(rn,0);const Cn=Pn-wn;if(An=Math.min(An,(xn[0]-En[0]+1)/Cn),mn=Math.min(mn,(xn[1]-En[1]+1)/Cn),pn=Math.min(pn,(xn[2]-En[2]+1)/Cn),Jt=Math.max(Jt,(xn[0]-En[0]-1)/Cn),un=Math.max(un,(xn[1]-En[1]-1)/Cn),fn=Math.max(fn,(xn[2]-En[2]-1)/Cn),!(Jt<=An&&un<=mn&&fn<=pn)){const Rn=wt.Util.makeHexColor(Tn[0],Tn[1],Tn[2]);cn.push([In/ln,Rn]),An=xn[0]-Tn[0]+1,mn=xn[1]-Tn[1]+1,pn=xn[2]-Tn[2]+1,Jt=xn[0]-Tn[0]-1,un=xn[1]-Tn[1]-1,fn=xn[2]-Tn[2]-1,wn=In,En=Tn}In=Pn,Tn=xn}const Sn=wt.Util.makeHexColor(Tn[0],Tn[1],Tn[2]);cn.push([1,Sn]);let kn="transparent";gn.has("Background")&&(xn=dn.getRgb(gn.get("Background"),0),kn=wt.Util.makeHexColor(xn[0],xn[1],xn[2])),sn||(cn.unshift([0,kn]),cn[1][0]+=Vt.SMALL_NUMBER),zt||(cn.at(-1)[0]-=Vt.SMALL_NUMBER,cn.push([1,kn])),this.colorStops=cn}getIR(){const gn=this.coordsArr,nn=this.shadingType;let bn,Wt,Yt,dn,Ut;return nn===vt.AXIAL?(Wt=[gn[0],gn[1]],Yt=[gn[2],gn[3]],dn=null,Ut=null,bn="axial"):nn===vt.RADIAL?(Wt=[gn[0],gn[1]],Yt=[gn[3],gn[4]],dn=gn[2],Ut=gn[5],bn="radial"):(0,wt.unreachable)(`getPattern type unknown: ${nn}`),["RadialAxial",bn,this.bbox,this.colorStops,Wt,Yt,dn,Ut]}}class Lt{constructor(gn,nn){this.stream=gn,this.context=nn,this.buffer=0,this.bufferLength=0;const bn=nn.numComps;this.tmpCompsBuf=new Float32Array(bn);const Wt=nn.colorSpace.numComps;this.tmpCsCompsBuf=nn.colorFn?new Float32Array(Wt):this.tmpCompsBuf}get hasData(){if(this.stream.end)return this.stream.pos<this.stream.end;if(this.bufferLength>0)return!0;const gn=this.stream.getByte();return gn<0?!1:(this.buffer=gn,this.bufferLength=8,!0)}readBits(gn){let nn=this.buffer,bn=this.bufferLength;if(gn===32){if(bn===0)return(this.stream.getByte()<<24|this.stream.getByte()<<16|this.stream.getByte()<<8|this.stream.getByte())>>>0;nn=nn<<24|this.stream.getByte()<<16|this.stream.getByte()<<8|this.stream.getByte();const Wt=this.stream.getByte();return this.buffer=Wt&(1<<bn)-1,(nn<<8-bn|(Wt&255)>>bn)>>>0}if(gn===8&&bn===0)return this.stream.getByte();for(;bn<gn;)nn=nn<<8|this.stream.getByte(),bn+=8;return bn-=gn,this.bufferLength=bn,this.buffer=nn&(1<<bn)-1,nn>>bn}align(){this.buffer=0,this.bufferLength=0}readFlag(){return this.readBits(this.context.bitsPerFlag)}readCoordinate(){const gn=this.context.bitsPerCoordinate,nn=this.readBits(gn),bn=this.readBits(gn),Wt=this.context.decode,Yt=gn<32?1/((1<<gn)-1):23283064365386963e-26;return[nn*Yt*(Wt[1]-Wt[0])+Wt[0],bn*Yt*(Wt[3]-Wt[2])+Wt[2]]}readComponents(){const gn=this.context.numComps,nn=this.context.bitsPerComponent,bn=nn<32?1/((1<<nn)-1):23283064365386963e-26,Wt=this.context.decode,Yt=this.tmpCompsBuf;for(let Ut=0,Mt=4;Ut<gn;Ut++,Mt+=2){const Ht=this.readBits(nn);Yt[Ut]=Ht*bn*(Wt[Mt+1]-Wt[Mt])+Wt[Mt]}const dn=this.tmpCsCompsBuf;return this.context.colorFn&&this.context.colorFn(Yt,0,dn,0),this.context.colorSpace.getRgb(dn,0)}}let $t=Object.create(null);function Ot(tn){const gn=[];for(let nn=0;nn<=tn;nn++){const bn=nn/tn,Wt=1-bn;gn.push(new Float32Array([Wt**3,3*bn*Wt**2,3*bn**2*Wt,bn**3]))}return gn}function jt(tn){return $t[tn]||($t[tn]=Ot(tn))}function Rt(){$t=Object.create(null)}const hn=class hn extends Vt{constructor(gn,nn,bn,Wt,Yt){if(super(),!(gn instanceof kt.BaseStream))throw new wt.FormatError("Mesh data is not a stream");const dn=gn.dict;this.shadingType=dn.get("ShadingType");const Ut=dn.getArray("BBox");this.bbox=Array.isArray(Ut)&&Ut.length===4?wt.Util.normalizeRect(Ut):null;const Mt=_t.ColorSpace.parse({cs:dn.getRaw("CS")||dn.getRaw("ColorSpace"),xref:nn,resources:bn,pdfFunctionFactory:Wt,localColorSpaceCache:Yt});this.background=dn.has("Background")?Mt.getRgb(dn.get("Background"),0):null;const Ht=dn.getRaw("Function"),sn=Ht?Wt.createFromArray(Ht):null;this.coords=[],this.colors=[],this.figures=[];const zt={bitsPerCoordinate:dn.get("BitsPerCoordinate"),bitsPerComponent:dn.get("BitsPerComponent"),bitsPerFlag:dn.get("BitsPerFlag"),decode:dn.getArray("Decode"),colorFn:sn,colorSpace:Mt,numComps:sn?1:Mt.numComps},Xt=new Lt(gn,zt);let Qt=!1;switch(this.shadingType){case vt.FREE_FORM_MESH:this._decodeType4Shading(Xt);break;case vt.LATTICE_FORM_MESH:const ln=dn.get("VerticesPerRow")|0;if(ln<2)throw new wt.FormatError("Invalid VerticesPerRow");this._decodeType5Shading(Xt,ln);break;case vt.COONS_PATCH_MESH:this._decodeType6Shading(Xt),Qt=!0;break;case vt.TENSOR_PATCH_MESH:this._decodeType7Shading(Xt),Qt=!0;break;default:(0,wt.unreachable)("Unsupported mesh type.");break}if(Qt){this._updateBounds();for(let ln=0,on=this.figures.length;ln<on;ln++)this._buildFigureFromPatch(ln)}this._updateBounds(),this._packData()}_decodeType4Shading(gn){const nn=this.coords,bn=this.colors,Wt=[];let Yt=0;for(;gn.hasData;){const dn=gn.readFlag(),Ut=gn.readCoordinate(),Mt=gn.readComponents();if(Yt===0){if(!(0<=dn&&dn<=2))throw new wt.FormatError("Unknown type4 flag");switch(dn){case 0:Yt=3;break;case 1:Wt.push(Wt.at(-2),Wt.at(-1)),Yt=1;break;case 2:Wt.push(Wt.at(-3),Wt.at(-1)),Yt=1;break}}Wt.push(nn.length),nn.push(Ut),bn.push(Mt),Yt--,gn.align()}this.figures.push({type:"triangles",coords:new Int32Array(Wt),colors:new Int32Array(Wt)})}_decodeType5Shading(gn,nn){const bn=this.coords,Wt=this.colors,Yt=[];for(;gn.hasData;){const dn=gn.readCoordinate(),Ut=gn.readComponents();Yt.push(bn.length),bn.push(dn),Wt.push(Ut)}this.figures.push({type:"lattice",coords:new Int32Array(Yt),colors:new Int32Array(Yt),verticesPerRow:nn})}_decodeType6Shading(gn){const nn=this.coords,bn=this.colors,Wt=new Int32Array(16),Yt=new Int32Array(4);for(;gn.hasData;){const dn=gn.readFlag();if(!(0<=dn&&dn<=3))throw new wt.FormatError("Unknown type6 flag");const Ut=nn.length;for(let Qt=0,ln=dn!==0?8:12;Qt<ln;Qt++)nn.push(gn.readCoordinate());const Mt=bn.length;for(let Qt=0,ln=dn!==0?2:4;Qt<ln;Qt++)bn.push(gn.readComponents());let Ht,sn,zt,Xt;switch(dn){case 0:Wt[12]=Ut+3,Wt[13]=Ut+4,Wt[14]=Ut+5,Wt[15]=Ut+6,Wt[8]=Ut+2,Wt[11]=Ut+7,Wt[4]=Ut+1,Wt[7]=Ut+8,Wt[0]=Ut,Wt[1]=Ut+11,Wt[2]=Ut+10,Wt[3]=Ut+9,Yt[2]=Mt+1,Yt[3]=Mt+2,Yt[0]=Mt,Yt[1]=Mt+3;break;case 1:Ht=Wt[12],sn=Wt[13],zt=Wt[14],Xt=Wt[15],Wt[12]=Xt,Wt[13]=Ut+0,Wt[14]=Ut+1,Wt[15]=Ut+2,Wt[8]=zt,Wt[11]=Ut+3,Wt[4]=sn,Wt[7]=Ut+4,Wt[0]=Ht,Wt[1]=Ut+7,Wt[2]=Ut+6,Wt[3]=Ut+5,Ht=Yt[2],sn=Yt[3],Yt[2]=sn,Yt[3]=Mt,Yt[0]=Ht,Yt[1]=Mt+1;break;case 2:Ht=Wt[15],sn=Wt[11],Wt[12]=Wt[3],Wt[13]=Ut+0,Wt[14]=Ut+1,Wt[15]=Ut+2,Wt[8]=Wt[7],Wt[11]=Ut+3,Wt[4]=sn,Wt[7]=Ut+4,Wt[0]=Ht,Wt[1]=Ut+7,Wt[2]=Ut+6,Wt[3]=Ut+5,Ht=Yt[3],Yt[2]=Yt[1],Yt[3]=Mt,Yt[0]=Ht,Yt[1]=Mt+1;break;case 3:Wt[12]=Wt[0],Wt[13]=Ut+0,Wt[14]=Ut+1,Wt[15]=Ut+2,Wt[8]=Wt[1],Wt[11]=Ut+3,Wt[4]=Wt[2],Wt[7]=Ut+4,Wt[0]=Wt[3],Wt[1]=Ut+7,Wt[2]=Ut+6,Wt[3]=Ut+5,Yt[2]=Yt[0],Yt[3]=Mt,Yt[0]=Yt[1],Yt[1]=Mt+1;break}Wt[5]=nn.length,nn.push([(-4*nn[Wt[0]][0]-nn[Wt[15]][0]+6*(nn[Wt[4]][0]+nn[Wt[1]][0])-2*(nn[Wt[12]][0]+nn[Wt[3]][0])+3*(nn[Wt[13]][0]+nn[Wt[7]][0]))/9,(-4*nn[Wt[0]][1]-nn[Wt[15]][1]+6*(nn[Wt[4]][1]+nn[Wt[1]][1])-2*(nn[Wt[12]][1]+nn[Wt[3]][1])+3*(nn[Wt[13]][1]+nn[Wt[7]][1]))/9]),Wt[6]=nn.length,nn.push([(-4*nn[Wt[3]][0]-nn[Wt[12]][0]+6*(nn[Wt[2]][0]+nn[Wt[7]][0])-2*(nn[Wt[0]][0]+nn[Wt[15]][0])+3*(nn[Wt[4]][0]+nn[Wt[14]][0]))/9,(-4*nn[Wt[3]][1]-nn[Wt[12]][1]+6*(nn[Wt[2]][1]+nn[Wt[7]][1])-2*(nn[Wt[0]][1]+nn[Wt[15]][1])+3*(nn[Wt[4]][1]+nn[Wt[14]][1]))/9]),Wt[9]=nn.length,nn.push([(-4*nn[Wt[12]][0]-nn[Wt[3]][0]+6*(nn[Wt[8]][0]+nn[Wt[13]][0])-2*(nn[Wt[0]][0]+nn[Wt[15]][0])+3*(nn[Wt[11]][0]+nn[Wt[1]][0]))/9,(-4*nn[Wt[12]][1]-nn[Wt[3]][1]+6*(nn[Wt[8]][1]+nn[Wt[13]][1])-2*(nn[Wt[0]][1]+nn[Wt[15]][1])+3*(nn[Wt[11]][1]+nn[Wt[1]][1]))/9]),Wt[10]=nn.length,nn.push([(-4*nn[Wt[15]][0]-nn[Wt[0]][0]+6*(nn[Wt[11]][0]+nn[Wt[14]][0])-2*(nn[Wt[12]][0]+nn[Wt[3]][0])+3*(nn[Wt[2]][0]+nn[Wt[8]][0]))/9,(-4*nn[Wt[15]][1]-nn[Wt[0]][1]+6*(nn[Wt[11]][1]+nn[Wt[14]][1])-2*(nn[Wt[12]][1]+nn[Wt[3]][1])+3*(nn[Wt[2]][1]+nn[Wt[8]][1]))/9]),this.figures.push({type:"patch",coords:new Int32Array(Wt),colors:new Int32Array(Yt)})}}_decodeType7Shading(gn){const nn=this.coords,bn=this.colors,Wt=new Int32Array(16),Yt=new Int32Array(4);for(;gn.hasData;){const dn=gn.readFlag();if(!(0<=dn&&dn<=3))throw new wt.FormatError("Unknown type7 flag");const Ut=nn.length;for(let Qt=0,ln=dn!==0?12:16;Qt<ln;Qt++)nn.push(gn.readCoordinate());const Mt=bn.length;for(let Qt=0,ln=dn!==0?2:4;Qt<ln;Qt++)bn.push(gn.readComponents());let Ht,sn,zt,Xt;switch(dn){case 0:Wt[12]=Ut+3,Wt[13]=Ut+4,Wt[14]=Ut+5,Wt[15]=Ut+6,Wt[8]=Ut+2,Wt[9]=Ut+13,Wt[10]=Ut+14,Wt[11]=Ut+7,Wt[4]=Ut+1,Wt[5]=Ut+12,Wt[6]=Ut+15,Wt[7]=Ut+8,Wt[0]=Ut,Wt[1]=Ut+11,Wt[2]=Ut+10,Wt[3]=Ut+9,Yt[2]=Mt+1,Yt[3]=Mt+2,Yt[0]=Mt,Yt[1]=Mt+3;break;case 1:Ht=Wt[12],sn=Wt[13],zt=Wt[14],Xt=Wt[15],Wt[12]=Xt,Wt[13]=Ut+0,Wt[14]=Ut+1,Wt[15]=Ut+2,Wt[8]=zt,Wt[9]=Ut+9,Wt[10]=Ut+10,Wt[11]=Ut+3,Wt[4]=sn,Wt[5]=Ut+8,Wt[6]=Ut+11,Wt[7]=Ut+4,Wt[0]=Ht,Wt[1]=Ut+7,Wt[2]=Ut+6,Wt[3]=Ut+5,Ht=Yt[2],sn=Yt[3],Yt[2]=sn,Yt[3]=Mt,Yt[0]=Ht,Yt[1]=Mt+1;break;case 2:Ht=Wt[15],sn=Wt[11],Wt[12]=Wt[3],Wt[13]=Ut+0,Wt[14]=Ut+1,Wt[15]=Ut+2,Wt[8]=Wt[7],Wt[9]=Ut+9,Wt[10]=Ut+10,Wt[11]=Ut+3,Wt[4]=sn,Wt[5]=Ut+8,Wt[6]=Ut+11,Wt[7]=Ut+4,Wt[0]=Ht,Wt[1]=Ut+7,Wt[2]=Ut+6,Wt[3]=Ut+5,Ht=Yt[3],Yt[2]=Yt[1],Yt[3]=Mt,Yt[0]=Ht,Yt[1]=Mt+1;break;case 3:Wt[12]=Wt[0],Wt[13]=Ut+0,Wt[14]=Ut+1,Wt[15]=Ut+2,Wt[8]=Wt[1],Wt[9]=Ut+9,Wt[10]=Ut+10,Wt[11]=Ut+3,Wt[4]=Wt[2],Wt[5]=Ut+8,Wt[6]=Ut+11,Wt[7]=Ut+4,Wt[0]=Wt[3],Wt[1]=Ut+7,Wt[2]=Ut+6,Wt[3]=Ut+5,Yt[2]=Yt[0],Yt[3]=Mt,Yt[0]=Yt[1],Yt[1]=Mt+1;break}this.figures.push({type:"patch",coords:new Int32Array(Wt),colors:new Int32Array(Yt)})}}_buildFigureFromPatch(gn){const nn=this.figures[gn];(0,wt.assert)(nn.type==="patch","Unexpected patch mesh figure");const bn=this.coords,Wt=this.colors,Yt=nn.coords,dn=nn.colors,Ut=Math.min(bn[Yt[0]][0],bn[Yt[3]][0],bn[Yt[12]][0],bn[Yt[15]][0]),Mt=Math.min(bn[Yt[0]][1],bn[Yt[3]][1],bn[Yt[12]][1],bn[Yt[15]][1]),Ht=Math.max(bn[Yt[0]][0],bn[Yt[3]][0],bn[Yt[12]][0],bn[Yt[15]][0]),sn=Math.max(bn[Yt[0]][1],bn[Yt[3]][1],bn[Yt[12]][1],bn[Yt[15]][1]);let zt=Math.ceil((Ht-Ut)*hn.TRIANGLE_DENSITY/(this.bounds[2]-this.bounds[0]));zt=Math.max(hn.MIN_SPLIT_PATCH_CHUNKS_AMOUNT,Math.min(hn.MAX_SPLIT_PATCH_CHUNKS_AMOUNT,zt));let Xt=Math.ceil((sn-Mt)*hn.TRIANGLE_DENSITY/(this.bounds[3]-this.bounds[1]));Xt=Math.max(hn.MIN_SPLIT_PATCH_CHUNKS_AMOUNT,Math.min(hn.MAX_SPLIT_PATCH_CHUNKS_AMOUNT,Xt));const Qt=zt+1,ln=new Int32Array((Xt+1)*Qt),on=new Int32Array((Xt+1)*Qt);let cn=0;const rn=new Uint8Array(3),an=new Uint8Array(3),xn=Wt[dn[0]],wn=Wt[dn[1]],En=Wt[dn[2]],Fn=Wt[dn[3]],In=jt(Xt),Tn=jt(zt);for(let An=0;An<=Xt;An++){rn[0]=(xn[0]*(Xt-An)+En[0]*An)/Xt|0,rn[1]=(xn[1]*(Xt-An)+En[1]*An)/Xt|0,rn[2]=(xn[2]*(Xt-An)+En[2]*An)/Xt|0,an[0]=(wn[0]*(Xt-An)+Fn[0]*An)/Xt|0,an[1]=(wn[1]*(Xt-An)+Fn[1]*An)/Xt|0,an[2]=(wn[2]*(Xt-An)+Fn[2]*An)/Xt|0;for(let mn=0;mn<=zt;mn++,cn++){if((An===0||An===Xt)&&(mn===0||mn===zt))continue;let pn=0,Jt=0,un=0;for(let Sn=0;Sn<=3;Sn++)for(let kn=0;kn<=3;kn++,un++){const Pn=In[An][Sn]*Tn[mn][kn];pn+=bn[Yt[un]][0]*Pn,Jt+=bn[Yt[un]][1]*Pn}ln[cn]=bn.length,bn.push([pn,Jt]),on[cn]=Wt.length;const fn=new Uint8Array(3);fn[0]=(rn[0]*(zt-mn)+an[0]*mn)/zt|0,fn[1]=(rn[1]*(zt-mn)+an[1]*mn)/zt|0,fn[2]=(rn[2]*(zt-mn)+an[2]*mn)/zt|0,Wt.push(fn)}}ln[0]=Yt[0],on[0]=dn[0],ln[zt]=Yt[3],on[zt]=dn[1],ln[Qt*Xt]=Yt[12],on[Qt*Xt]=dn[2],ln[Qt*Xt+zt]=Yt[15],on[Qt*Xt+zt]=dn[3],this.figures[gn]={type:"lattice",coords:ln,colors:on,verticesPerRow:Qt}}_updateBounds(){let gn=this.coords[0][0],nn=this.coords[0][1],bn=gn,Wt=nn;for(let Yt=1,dn=this.coords.length;Yt<dn;Yt++){const Ut=this.coords[Yt][0],Mt=this.coords[Yt][1];gn=gn>Ut?Ut:gn,nn=nn>Mt?Mt:nn,bn=bn<Ut?Ut:bn,Wt=Wt<Mt?Mt:Wt}this.bounds=[gn,nn,bn,Wt]}_packData(){let gn,nn,bn,Wt;const Yt=this.coords,dn=new Float32Array(Yt.length*2);for(gn=0,bn=0,nn=Yt.length;gn<nn;gn++){const sn=Yt[gn];dn[bn++]=sn[0],dn[bn++]=sn[1]}this.coords=dn;const Ut=this.colors,Mt=new Uint8Array(Ut.length*3);for(gn=0,bn=0,nn=Ut.length;gn<nn;gn++){const sn=Ut[gn];Mt[bn++]=sn[0],Mt[bn++]=sn[1],Mt[bn++]=sn[2]}this.colors=Mt;const Ht=this.figures;for(gn=0,nn=Ht.length;gn<nn;gn++){const sn=Ht[gn],zt=sn.coords,Xt=sn.colors;for(bn=0,Wt=zt.length;bn<Wt;bn++)zt[bn]*=2,Xt[bn]*=3}}getIR(){return["Mesh",this.shadingType,this.coords,this.colors,this.figures,this.bounds,this.bbox,this.background]}};Us(hn,"MIN_SPLIT_PATCH_CHUNKS_AMOUNT",3),Us(hn,"MAX_SPLIT_PATCH_CHUNKS_AMOUNT",20),Us(hn,"TRIANGLE_DENSITY",20);let Kt=hn;class Bt extends Vt{getIR(){return["Dummy"]}}function Gt(tn,gn,nn){const bn=gn.getArray("Matrix"),Wt=wt.Util.normalizeRect(gn.getArray("BBox")),Yt=gn.get("XStep"),dn=gn.get("YStep"),Ut=gn.get("PaintType"),Mt=gn.get("TilingType");if(Wt[2]-Wt[0]===0||Wt[3]-Wt[1]===0)throw new wt.FormatError(`Invalid getTilingPatternIR /BBox array: [${Wt}].`);return["TilingPattern",nn,tn,bn,Wt,Yt,dn,Ut,Mt]}},(Ct,Et,Pt)=>{Object.defineProperty(Et,"__esModule",{value:!0}),Et.getXfaFontDict=jt,Et.getXfaFontName=$t;var wt=Pt(52),kt=Pt(4),_t=Pt(53),ht=Pt(54),vt=Pt(55),Ft=Pt(56),Vt=Pt(3),qt=Pt(38);const Lt=(0,Vt.getLookupTableFactory)(function(Rt){Rt["MyriadPro-Regular"]=Rt["PdfJS-Fallback-Regular"]={name:"LiberationSans-Regular",factors:vt.MyriadProRegularFactors,baseWidths:ht.LiberationSansRegularWidths,baseMapping:ht.LiberationSansRegularMapping,metrics:vt.MyriadProRegularMetrics},Rt["MyriadPro-Bold"]=Rt["PdfJS-Fallback-Bold"]={name:"LiberationSans-Bold",factors:vt.MyriadProBoldFactors,baseWidths:ht.LiberationSansBoldWidths,baseMapping:ht.LiberationSansBoldMapping,metrics:vt.MyriadProBoldMetrics},Rt["MyriadPro-It"]=Rt["MyriadPro-Italic"]=Rt["PdfJS-Fallback-Italic"]={name:"LiberationSans-Italic",factors:vt.MyriadProItalicFactors,baseWidths:ht.LiberationSansItalicWidths,baseMapping:ht.LiberationSansItalicMapping,metrics:vt.MyriadProItalicMetrics},Rt["MyriadPro-BoldIt"]=Rt["MyriadPro-BoldItalic"]=Rt["PdfJS-Fallback-BoldItalic"]={name:"LiberationSans-BoldItalic",factors:vt.MyriadProBoldItalicFactors,baseWidths:ht.LiberationSansBoldItalicWidths,baseMapping:ht.LiberationSansBoldItalicMapping,metrics:vt.MyriadProBoldItalicMetrics},Rt.ArialMT=Rt.Arial=Rt["Arial-Regular"]={name:"LiberationSans-Regular",baseWidths:ht.LiberationSansRegularWidths,baseMapping:ht.LiberationSansRegularMapping},Rt["Arial-BoldMT"]=Rt["Arial-Bold"]={name:"LiberationSans-Bold",baseWidths:ht.LiberationSansBoldWidths,baseMapping:ht.LiberationSansBoldMapping},Rt["Arial-ItalicMT"]=Rt["Arial-Italic"]={name:"LiberationSans-Italic",baseWidths:ht.LiberationSansItalicWidths,baseMapping:ht.LiberationSansItalicMapping},Rt["Arial-BoldItalicMT"]=Rt["Arial-BoldItalic"]={name:"LiberationSans-BoldItalic",baseWidths:ht.LiberationSansBoldItalicWidths,baseMapping:ht.LiberationSansBoldItalicMapping},Rt["Calibri-Regular"]={name:"LiberationSans-Regular",factors:wt.CalibriRegularFactors,baseWidths:ht.LiberationSansRegularWidths,baseMapping:ht.LiberationSansRegularMapping,metrics:wt.CalibriRegularMetrics},Rt["Calibri-Bold"]={name:"LiberationSans-Bold",factors:wt.CalibriBoldFactors,baseWidths:ht.LiberationSansBoldWidths,baseMapping:ht.LiberationSansBoldMapping,metrics:wt.CalibriBoldMetrics},Rt["Calibri-Italic"]={name:"LiberationSans-Italic",factors:wt.CalibriItalicFactors,baseWidths:ht.LiberationSansItalicWidths,baseMapping:ht.LiberationSansItalicMapping,metrics:wt.CalibriItalicMetrics},Rt["Calibri-BoldItalic"]={name:"LiberationSans-BoldItalic",factors:wt.CalibriBoldItalicFactors,baseWidths:ht.LiberationSansBoldItalicWidths,baseMapping:ht.LiberationSansBoldItalicMapping,metrics:wt.CalibriBoldItalicMetrics},Rt["Segoeui-Regular"]={name:"LiberationSans-Regular",factors:Ft.SegoeuiRegularFactors,baseWidths:ht.LiberationSansRegularWidths,baseMapping:ht.LiberationSansRegularMapping,metrics:Ft.SegoeuiRegularMetrics},Rt["Segoeui-Bold"]={name:"LiberationSans-Bold",factors:Ft.SegoeuiBoldFactors,baseWidths:ht.LiberationSansBoldWidths,baseMapping:ht.LiberationSansBoldMapping,metrics:Ft.SegoeuiBoldMetrics},Rt["Segoeui-Italic"]={name:"LiberationSans-Italic",factors:Ft.SegoeuiItalicFactors,baseWidths:ht.LiberationSansItalicWidths,baseMapping:ht.LiberationSansItalicMapping,metrics:Ft.SegoeuiItalicMetrics},Rt["Segoeui-BoldItalic"]={name:"LiberationSans-BoldItalic",factors:Ft.SegoeuiBoldItalicFactors,baseWidths:ht.LiberationSansBoldItalicWidths,baseMapping:ht.LiberationSansBoldItalicMapping,metrics:Ft.SegoeuiBoldItalicMetrics},Rt["Helvetica-Regular"]=Rt.Helvetica={name:"LiberationSans-Regular",factors:_t.HelveticaRegularFactors,baseWidths:ht.LiberationSansRegularWidths,baseMapping:ht.LiberationSansRegularMapping,metrics:_t.HelveticaRegularMetrics},Rt["Helvetica-Bold"]={name:"LiberationSans-Bold",factors:_t.HelveticaBoldFactors,baseWidths:ht.LiberationSansBoldWidths,baseMapping:ht.LiberationSansBoldMapping,metrics:_t.HelveticaBoldMetrics},Rt["Helvetica-Italic"]={name:"LiberationSans-Italic",factors:_t.HelveticaItalicFactors,baseWidths:ht.LiberationSansItalicWidths,baseMapping:ht.LiberationSansItalicMapping,metrics:_t.HelveticaItalicMetrics},Rt["Helvetica-BoldItalic"]={name:"LiberationSans-BoldItalic",factors:_t.HelveticaBoldItalicFactors,baseWidths:ht.LiberationSansBoldItalicWidths,baseMapping:ht.LiberationSansBoldItalicMapping,metrics:_t.HelveticaBoldItalicMetrics}});function $t(Rt){const Kt=(0,qt.normalizeFontName)(Rt);return Lt()[Kt]}function Ot(Rt){const Kt=$t(Rt);if(!Kt)return null;const{baseWidths:Bt,baseMapping:Gt,factors:en}=Kt,hn=en?Bt.map((bn,Wt)=>bn*en[Wt]):Bt;let tn=-2,gn;const nn=[];for(const[bn,Wt]of Gt.map((Yt,dn)=>[Yt,dn]).sort(([Yt],[dn])=>Yt-dn))bn!==-1&&(bn===tn+1?(gn.push(hn[Wt]),tn+=1):(tn=bn,gn=[hn[Wt]],nn.push(bn,gn)));return nn}function jt(Rt){const Kt=Ot(Rt),Bt=new kt.Dict(null);Bt.set("BaseFont",kt.Name.get(Rt)),Bt.set("Type",kt.Name.get("Font")),Bt.set("Subtype",kt.Name.get("CIDFontType2")),Bt.set("Encoding",kt.Name.get("Identity-H")),Bt.set("CIDToGIDMap",kt.Name.get("Identity")),Bt.set("W",Kt),Bt.set("FirstChar",Kt[0]),Bt.set("LastChar",Kt.at(-2)+Kt.at(-1).length-1);const Gt=new kt.Dict(null);Bt.set("FontDescriptor",Gt);const en=new kt.Dict(null);return en.set("Ordering","Identity"),en.set("Registry","Adobe"),en.set("Supplement",0),Bt.set("CIDSystemInfo",en),Bt}},(Ct,Et)=>{Object.defineProperty(Et,"__esModule",{value:!0}),Et.CalibriRegularMetrics=Et.CalibriRegularFactors=Et.CalibriItalicMetrics=Et.CalibriItalicFactors=Et.CalibriBoldMetrics=Et.CalibriBoldItalicMetrics=Et.CalibriBoldItalicFactors=Et.CalibriBoldFactors=void 0;const Pt=[1.3877,1,1,1,.97801,.92482,.89552,.91133,.81988,.97566,.98152,.93548,.93548,1.2798,.85284,.92794,1,.96134,1.54657,.91133,.91133,.91133,.91133,.91133,.91133,.91133,.91133,.91133,.91133,.82845,.82845,.85284,.85284,.85284,.75859,.92138,.83908,.7762,.73293,.87289,.73133,.7514,.81921,.87356,.95958,.59526,.75727,.69225,1.04924,.9121,.86943,.79795,.88198,.77958,.70864,.81055,.90399,.88653,.96017,.82577,.77892,.78257,.97507,1.54657,.97507,.85284,.89552,.90176,.88762,.8785,.75241,.8785,.90518,.95015,.77618,.8785,.88401,.91916,.86304,.88401,.91488,.8785,.8801,.8785,.8785,.91343,.7173,1.04106,.8785,.85075,.95794,.82616,.85162,.79492,.88331,1.69808,.88331,.85284,.97801,.89552,.91133,.89552,.91133,1.7801,.89552,1.24487,1.13254,1.12401,.96839,.85284,.68787,.70645,.85592,.90747,1.01466,1.0088,.90323,1,1.07463,1,.91056,.75806,1.19118,.96839,.78864,.82845,.84133,.75859,.83908,.83908,.83908,.83908,.83908,.83908,.77539,.73293,.73133,.73133,.73133,.73133,.95958,.95958,.95958,.95958,.88506,.9121,.86943,.86943,.86943,.86943,.86943,.85284,.87508,.90399,.90399,.90399,.90399,.77892,.79795,.90807,.88762,.88762,.88762,.88762,.88762,.88762,.8715,.75241,.90518,.90518,.90518,.90518,.88401,.88401,.88401,.88401,.8785,.8785,.8801,.8801,.8801,.8801,.8801,.90747,.89049,.8785,.8785,.8785,.8785,.85162,.8785,.85162,.83908,.88762,.83908,.88762,.83908,.88762,.73293,.75241,.73293,.75241,.73293,.75241,.73293,.75241,.87289,.83016,.88506,.93125,.73133,.90518,.73133,.90518,.73133,.90518,.73133,.90518,.73133,.90518,.81921,.77618,.81921,.77618,.81921,.77618,1,1,.87356,.8785,.91075,.89608,.95958,.88401,.95958,.88401,.95958,.88401,.95958,.88401,.95958,.88401,.76229,.90167,.59526,.91916,1,1,.86304,.69225,.88401,1,1,.70424,.79468,.91926,.88175,.70823,.94903,.9121,.8785,1,1,.9121,.8785,.87802,.88656,.8785,.86943,.8801,.86943,.8801,.86943,.8801,.87402,.89291,.77958,.91343,1,1,.77958,.91343,.70864,.7173,.70864,.7173,.70864,.7173,.70864,.7173,1,1,.81055,.75841,.81055,1.06452,.90399,.8785,.90399,.8785,.90399,.8785,.90399,.8785,.90399,.8785,.90399,.8785,.96017,.95794,.77892,.85162,.77892,.78257,.79492,.78257,.79492,.78257,.79492,.9297,.56892,.83908,.88762,.77539,.8715,.87508,.89049,1,1,.81055,1.04106,1.20528,1.20528,1,1.15543,.70674,.98387,.94721,1.33431,1.45894,.95161,1.06303,.83908,.80352,.57184,.6965,.56289,.82001,.56029,.81235,1.02988,.83908,.7762,.68156,.80367,.73133,.78257,.87356,.86943,.95958,.75727,.89019,1.04924,.9121,.7648,.86943,.87356,.79795,.78275,.81055,.77892,.9762,.82577,.99819,.84896,.95958,.77892,.96108,1.01407,.89049,1.02988,.94211,.96108,.8936,.84021,.87842,.96399,.79109,.89049,1.00813,1.02988,.86077,.87445,.92099,.84723,.86513,.8801,.75638,.85714,.78216,.79586,.87965,.94211,.97747,.78287,.97926,.84971,1.02988,.94211,.8801,.94211,.84971,.73133,1,1,1,1,1,1,1,1,1,1,1,1,.90264,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,.90518,1,1,1,1,1,1,1,1,1,1,1,1,.90548,1,1,1,1,1,1,.96017,.95794,.96017,.95794,.96017,.95794,.77892,.85162,1,1,.89552,.90527,1,.90363,.92794,.92794,.92794,.92794,.87012,.87012,.87012,.89552,.89552,1.42259,.71143,1.06152,1,1,1.03372,1.03372,.97171,1.4956,2.2807,.93835,.83406,.91133,.84107,.91133,1,1,1,.72021,1,1.23108,.83489,.88525,.88525,.81499,.90527,1.81055,.90527,1.81055,1.31006,1.53711,.94434,1.08696,1,.95018,.77192,.85284,.90747,1.17534,.69825,.9716,1.37077,.90747,.90747,.85356,.90747,.90747,1.44947,.85284,.8941,.8941,.70572,.8,.70572,.70572,.70572,.70572,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,.99862,.99862,1,1,1,1,1,1.08004,.91027,1,1,1,.99862,1,1,1,1,1,1,1,1,1,1,1,1,.90727,.90727,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1];Et.CalibriBoldFactors=Pt;const wt={lineHeight:1.2207,lineGap:.2207};Et.CalibriBoldMetrics=wt;const kt=[1.3877,1,1,1,.97801,.92482,.89552,.91133,.81988,.97566,.98152,.93548,.93548,1.2798,.85284,.92794,1,.96134,1.56239,.91133,.91133,.91133,.91133,.91133,.91133,.91133,.91133,.91133,.91133,.82845,.82845,.85284,.85284,.85284,.75859,.92138,.83908,.7762,.71805,.87289,.73133,.7514,.81921,.87356,.95958,.59526,.75727,.69225,1.04924,.90872,.85938,.79795,.87068,.77958,.69766,.81055,.90399,.88653,.96068,.82577,.77892,.78257,.97507,1.529,.97507,.85284,.89552,.90176,.94908,.86411,.74012,.86411,.88323,.95015,.86411,.86331,.88401,.91916,.86304,.88401,.9039,.86331,.86331,.86411,.86411,.90464,.70852,1.04106,.86331,.84372,.95794,.82616,.84548,.79492,.88331,1.69808,.88331,.85284,.97801,.89552,.91133,.89552,.91133,1.7801,.89552,1.24487,1.13254,1.19129,.96839,.85284,.68787,.70645,.85592,.90747,1.01466,1.0088,.90323,1,1.07463,1,.91056,.75806,1.19118,.96839,.78864,.82845,.84133,.75859,.83908,.83908,.83908,.83908,.83908,.83908,.77539,.71805,.73133,.73133,.73133,.73133,.95958,.95958,.95958,.95958,.88506,.90872,.85938,.85938,.85938,.85938,.85938,.85284,.87068,.90399,.90399,.90399,.90399,.77892,.79795,.90807,.94908,.94908,.94908,.94908,.94908,.94908,.85887,.74012,.88323,.88323,.88323,.88323,.88401,.88401,.88401,.88401,.8785,.86331,.86331,.86331,.86331,.86331,.86331,.90747,.89049,.86331,.86331,.86331,.86331,.84548,.86411,.84548,.83908,.94908,.83908,.94908,.83908,.94908,.71805,.74012,.71805,.74012,.71805,.74012,.71805,.74012,.87289,.79538,.88506,.92726,.73133,.88323,.73133,.88323,.73133,.88323,.73133,.88323,.73133,.88323,.81921,.86411,.81921,.86411,.81921,.86411,1,1,.87356,.86331,.91075,.8777,.95958,.88401,.95958,.88401,.95958,.88401,.95958,.88401,.95958,.88401,.76467,.90167,.59526,.91916,1,1,.86304,.69225,.88401,1,1,.70424,.77312,.91926,.88175,.70823,.94903,.90872,.86331,1,1,.90872,.86331,.86906,.88116,.86331,.85938,.86331,.85938,.86331,.85938,.86331,.87402,.86549,.77958,.90464,1,1,.77958,.90464,.69766,.70852,.69766,.70852,.69766,.70852,.69766,.70852,1,1,.81055,.75841,.81055,1.06452,.90399,.86331,.90399,.86331,.90399,.86331,.90399,.86331,.90399,.86331,.90399,.86331,.96068,.95794,.77892,.84548,.77892,.78257,.79492,.78257,.79492,.78257,.79492,.9297,.56892,.83908,.94908,.77539,.85887,.87068,.89049,1,1,.81055,1.04106,1.20528,1.20528,1,1.15543,.70088,.98387,.94721,1.33431,1.45894,.95161,1.48387,.83908,.80352,.57118,.6965,.56347,.79179,.55853,.80346,1.02988,.83908,.7762,.67174,.86036,.73133,.78257,.87356,.86441,.95958,.75727,.89019,1.04924,.90872,.74889,.85938,.87891,.79795,.7957,.81055,.77892,.97447,.82577,.97466,.87179,.95958,.77892,.94252,.95612,.8753,1.02988,.92733,.94252,.87411,.84021,.8728,.95612,.74081,.8753,1.02189,1.02988,.84814,.87445,.91822,.84723,.85668,.86331,.81344,.87581,.76422,.82046,.96057,.92733,.99375,.78022,.95452,.86015,1.02988,.92733,.86331,.92733,.86015,.73133,1,1,1,1,1,1,1,1,1,1,1,1,.90631,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,.88323,1,1,1,1,1,1,1,1,1,1,1,1,.85174,1,1,1,1,1,1,.96068,.95794,.96068,.95794,.96068,.95794,.77892,.84548,1,1,.89552,.90527,1,.90363,.92794,.92794,.92794,.89807,.87012,.87012,.87012,.89552,.89552,1.42259,.71094,1.06152,1,1,1.03372,1.03372,.97171,1.4956,2.2807,.92972,.83406,.91133,.83326,.91133,1,1,1,.72021,1,1.23108,.83489,.88525,.88525,.81499,.90616,1.81055,.90527,1.81055,1.3107,1.53711,.94434,1.08696,1,.95018,.77192,.85284,.90747,1.17534,.69825,.9716,1.37077,.90747,.90747,.85356,.90747,.90747,1.44947,.85284,.8941,.8941,.70572,.8,.70572,.70572,.70572,.70572,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,.99862,.99862,1,1,1,1,1,1.08004,.91027,1,1,1,.99862,1,1,1,1,1,1,1,1,1,1,1,1,.90727,.90727,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1];Et.CalibriBoldItalicFactors=kt;const _t={lineHeight:1.2207,lineGap:.2207};Et.CalibriBoldItalicMetrics=_t;const ht=[1.3877,1,1,1,1.17223,1.1293,.89552,.91133,.80395,1.02269,1.15601,.91056,.91056,1.2798,.85284,.89807,1,.90861,1.39543,.91133,.91133,.91133,.91133,.91133,.91133,.91133,.91133,.91133,.91133,.96309,.96309,.85284,.85284,.85284,.83319,.88071,.8675,.81552,.72346,.85193,.73206,.7522,.81105,.86275,.90685,.6377,.77892,.75593,1.02638,.89249,.84118,.77452,.85374,.75186,.67789,.79776,.88844,.85066,.94309,.77818,.7306,.76659,1.10369,1.38313,1.10369,1.06139,.89552,.8739,.9245,.9245,.83203,.9245,.85865,1.09842,.9245,.9245,1.03297,1.07692,.90918,1.03297,.94959,.9245,.92274,.9245,.9245,1.02933,.77832,1.20562,.9245,.8916,.98986,.86621,.89453,.79004,.94152,1.77256,.94152,.85284,.97801,.89552,.91133,.89552,.91133,1.91729,.89552,1.17889,1.13254,1.16359,.92098,.85284,.68787,.71353,.84737,.90747,1.0088,1.0044,.87683,1,1.09091,1,.92229,.739,1.15642,.92098,.76288,.80504,.80972,.75859,.8675,.8675,.8675,.8675,.8675,.8675,.76318,.72346,.73206,.73206,.73206,.73206,.90685,.90685,.90685,.90685,.86477,.89249,.84118,.84118,.84118,.84118,.84118,.85284,.84557,.88844,.88844,.88844,.88844,.7306,.77452,.86331,.9245,.9245,.9245,.9245,.9245,.9245,.84843,.83203,.85865,.85865,.85865,.85865,.82601,.82601,.82601,.82601,.94469,.9245,.92274,.92274,.92274,.92274,.92274,.90747,.86651,.9245,.9245,.9245,.9245,.89453,.9245,.89453,.8675,.9245,.8675,.9245,.8675,.9245,.72346,.83203,.72346,.83203,.72346,.83203,.72346,.83203,.85193,.8875,.86477,.99034,.73206,.85865,.73206,.85865,.73206,.85865,.73206,.85865,.73206,.85865,.81105,.9245,.81105,.9245,.81105,.9245,1,1,.86275,.9245,.90872,.93591,.90685,.82601,.90685,.82601,.90685,.82601,.90685,1.03297,.90685,.82601,.77896,1.05611,.6377,1.07692,1,1,.90918,.75593,1.03297,1,1,.76032,.9375,.98156,.93407,.77261,1.11429,.89249,.9245,1,1,.89249,.9245,.92534,.86698,.9245,.84118,.92274,.84118,.92274,.84118,.92274,.8667,.86291,.75186,1.02933,1,1,.75186,1.02933,.67789,.77832,.67789,.77832,.67789,.77832,.67789,.77832,1,1,.79776,.97655,.79776,1.23023,.88844,.9245,.88844,.9245,.88844,.9245,.88844,.9245,.88844,.9245,.88844,.9245,.94309,.98986,.7306,.89453,.7306,.76659,.79004,.76659,.79004,.76659,.79004,1.09231,.54873,.8675,.9245,.76318,.84843,.84557,.86651,1,1,.79776,1.20562,1.18622,1.18622,1,1.1437,.67009,.96334,.93695,1.35191,1.40909,.95161,1.48387,.8675,.90861,.6192,.7363,.64824,.82411,.56321,.85696,1.23516,.8675,.81552,.7286,.84134,.73206,.76659,.86275,.84369,.90685,.77892,.85871,1.02638,.89249,.75828,.84118,.85984,.77452,.76466,.79776,.7306,.90782,.77818,.903,.87291,.90685,.7306,.99058,1.03667,.94635,1.23516,.9849,.99058,.92393,.8916,.942,1.03667,.75026,.94635,1.0297,1.23516,.90918,.94048,.98217,.89746,.84153,.92274,.82507,.88832,.84438,.88178,1.03525,.9849,1.00225,.78086,.97248,.89404,1.23516,.9849,.92274,.9849,.89404,.73206,1,1,1,1,1,1,1,1,1,1,1,1,.89693,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,.85865,1,1,1,1,1,1,1,1,1,1,1,1,.90933,1,1,1,1,1,1,.94309,.98986,.94309,.98986,.94309,.98986,.7306,.89453,1,1,.89552,.90527,1,.90186,1.12308,1.12308,1.12308,1.12308,1.2566,1.2566,1.2566,.89552,.89552,1.42259,.68994,1.03809,1,1,1.0176,1.0176,1.11523,1.4956,2.01462,.97858,.82616,.91133,.83437,.91133,1,1,1,.70508,1,1.23108,.79801,.84426,.84426,.774,.90572,1.81055,.90749,1.81055,1.28809,1.55469,.94434,1.07806,1,.97094,.7589,.85284,.90747,1.19658,.69825,.97622,1.33512,.90747,.90747,.85284,.90747,.90747,1.44947,.85284,.8941,.8941,.70572,.8,.70572,.70572,.70572,.70572,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,.99862,.99862,1,1,1,1,1,1.0336,.91027,1,1,1,.99862,1,1,1,1,1,1,1,1,1,1,1,1,1.05859,1.05859,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1];Et.CalibriItalicFactors=ht;const vt={lineHeight:1.2207,lineGap:.2207};Et.CalibriItalicMetrics=vt;const Ft=[1.3877,1,1,1,1.17223,1.1293,.89552,.91133,.80395,1.02269,1.15601,.91056,.91056,1.2798,.85284,.89807,1,.90861,1.39016,.91133,.91133,.91133,.91133,.91133,.91133,.91133,.91133,.91133,.91133,.96309,.96309,.85284,.85284,.85284,.83319,.88071,.8675,.81552,.73834,.85193,.73206,.7522,.81105,.86275,.90685,.6377,.77892,.75593,1.02638,.89385,.85122,.77452,.86503,.75186,.68887,.79776,.88844,.85066,.94258,.77818,.7306,.76659,1.10369,1.39016,1.10369,1.06139,.89552,.8739,.86128,.94469,.8457,.94469,.89464,1.09842,.84636,.94469,1.03297,1.07692,.90918,1.03297,.95897,.94469,.9482,.94469,.94469,1.04692,.78223,1.20562,.94469,.90332,.98986,.86621,.90527,.79004,.94152,1.77256,.94152,.85284,.97801,.89552,.91133,.89552,.91133,1.91729,.89552,1.17889,1.13254,1.08707,.92098,.85284,.68787,.71353,.84737,.90747,1.0088,1.0044,.87683,1,1.09091,1,.92229,.739,1.15642,.92098,.76288,.80504,.80972,.75859,.8675,.8675,.8675,.8675,.8675,.8675,.76318,.73834,.73206,.73206,.73206,.73206,.90685,.90685,.90685,.90685,.86477,.89385,.85122,.85122,.85122,.85122,.85122,.85284,.85311,.88844,.88844,.88844,.88844,.7306,.77452,.86331,.86128,.86128,.86128,.86128,.86128,.86128,.8693,.8457,.89464,.89464,.89464,.89464,.82601,.82601,.82601,.82601,.94469,.94469,.9482,.9482,.9482,.9482,.9482,.90747,.86651,.94469,.94469,.94469,.94469,.90527,.94469,.90527,.8675,.86128,.8675,.86128,.8675,.86128,.73834,.8457,.73834,.8457,.73834,.8457,.73834,.8457,.85193,.92454,.86477,.9921,.73206,.89464,.73206,.89464,.73206,.89464,.73206,.89464,.73206,.89464,.81105,.84636,.81105,.84636,.81105,.84636,1,1,.86275,.94469,.90872,.95786,.90685,.82601,.90685,.82601,.90685,.82601,.90685,1.03297,.90685,.82601,.77741,1.05611,.6377,1.07692,1,1,.90918,.75593,1.03297,1,1,.76032,.90452,.98156,1.11842,.77261,1.11429,.89385,.94469,1,1,.89385,.94469,.95877,.86901,.94469,.85122,.9482,.85122,.9482,.85122,.9482,.8667,.90016,.75186,1.04692,1,1,.75186,1.04692,.68887,.78223,.68887,.78223,.68887,.78223,.68887,.78223,1,1,.79776,.92188,.79776,1.23023,.88844,.94469,.88844,.94469,.88844,.94469,.88844,.94469,.88844,.94469,.88844,.94469,.94258,.98986,.7306,.90527,.7306,.76659,.79004,.76659,.79004,.76659,.79004,1.09231,.54873,.8675,.86128,.76318,.8693,.85311,.86651,1,1,.79776,1.20562,1.18622,1.18622,1,1.1437,.67742,.96334,.93695,1.35191,1.40909,.95161,1.48387,.86686,.90861,.62267,.74359,.65649,.85498,.56963,.88254,1.23516,.8675,.81552,.75443,.84503,.73206,.76659,.86275,.85122,.90685,.77892,.85746,1.02638,.89385,.75657,.85122,.86275,.77452,.74171,.79776,.7306,.95165,.77818,.89772,.88831,.90685,.7306,.98142,1.02191,.96576,1.23516,.99018,.98142,.9236,.89258,.94035,1.02191,.78848,.96576,.9561,1.23516,.90918,.92578,.95424,.89746,.83969,.9482,.80113,.89442,.85208,.86155,.98022,.99018,1.00452,.81209,.99247,.89181,1.23516,.99018,.9482,.99018,.89181,.73206,1,1,1,1,1,1,1,1,1,1,1,1,.88844,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,.89464,1,1,1,1,1,1,1,1,1,1,1,1,.96766,1,1,1,1,1,1,.94258,.98986,.94258,.98986,.94258,.98986,.7306,.90527,1,1,.89552,.90527,1,.90186,1.12308,1.12308,1.12308,1.12308,1.2566,1.2566,1.2566,.89552,.89552,1.42259,.69043,1.03809,1,1,1.0176,1.0176,1.11523,1.4956,2.01462,.99331,.82616,.91133,.84286,.91133,1,1,1,.70508,1,1.23108,.79801,.84426,.84426,.774,.90527,1.81055,.90527,1.81055,1.28809,1.55469,.94434,1.07806,1,.97094,.7589,.85284,.90747,1.19658,.69825,.97622,1.33512,.90747,.90747,.85356,.90747,.90747,1.44947,.85284,.8941,.8941,.70572,.8,.70572,.70572,.70572,.70572,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,.99862,.99862,1,1,1,1,1,1.0336,.91027,1,1,1,.99862,1,1,1,1,1,1,1,1,1,1,1,1,1.05859,1.05859,1,1,1,1.07185,.99413,.96334,1.08065,1,1,1,1,1,1,1,1,1,1,1];Et.CalibriRegularFactors=Ft;const Vt={lineHeight:1.2207,lineGap:.2207};Et.CalibriRegularMetrics=Vt},(Ct,Et)=>{Object.defineProperty(Et,"__esModule",{value:!0}),Et.HelveticaRegularMetrics=Et.HelveticaRegularFactors=Et.HelveticaItalicMetrics=Et.HelveticaItalicFactors=Et.HelveticaBoldMetrics=Et.HelveticaBoldItalicMetrics=Et.HelveticaBoldItalicFactors=Et.HelveticaBoldFactors=void 0;const Pt=[.76116,1,1,1.0006,.99998,.99974,.99973,.99973,.99982,.99977,1.00087,.99998,.99998,.99959,1.00003,1.0006,.99998,1.0006,1.0006,.99973,.99973,.99973,.99973,.99973,.99973,.99973,.99973,.99973,.99973,.99998,1,1.00003,1.00003,1.00003,1.00026,.9999,.99977,.99977,.99977,.99977,1.00001,1.00026,1.00022,.99977,1.0006,.99973,.99977,1.00026,.99999,.99977,1.00022,1.00001,1.00022,.99977,1.00001,1.00026,.99977,1.00001,1.00016,1.00001,1.00001,1.00026,.99998,1.0006,.99998,1.00003,.99973,.99998,.99973,1.00026,.99973,1.00026,.99973,.99998,1.00026,1.00026,1.0006,1.0006,.99973,1.0006,.99982,1.00026,1.00026,1.00026,1.00026,.99959,.99973,.99998,1.00026,.99973,1.00022,.99973,.99973,1,.99959,1.00077,.99959,1.00003,.99998,.99973,.99973,.99973,.99973,1.00077,.99973,.99998,1.00025,.99968,.99973,1.00003,1.00025,.60299,1.00024,1.06409,1,1,.99998,1,.99973,1.0006,.99998,1,.99936,.99973,1.00002,1.00002,1.00002,1.00026,.99977,.99977,.99977,.99977,.99977,.99977,1,.99977,1.00001,1.00001,1.00001,1.00001,1.0006,1.0006,1.0006,1.0006,.99977,.99977,1.00022,1.00022,1.00022,1.00022,1.00022,1.00003,1.00022,.99977,.99977,.99977,.99977,1.00001,1.00001,1.00026,.99973,.99973,.99973,.99973,.99973,.99973,.99982,.99973,.99973,.99973,.99973,.99973,1.0006,1.0006,1.0006,1.0006,1.00026,1.00026,1.00026,1.00026,1.00026,1.00026,1.00026,1.06409,1.00026,1.00026,1.00026,1.00026,1.00026,.99973,1.00026,.99973,.99977,.99973,.99977,.99973,.99977,.99973,.99977,.99973,.99977,.99973,.99977,.99973,.99977,.99973,.99977,1.03374,.99977,1.00026,1.00001,.99973,1.00001,.99973,1.00001,.99973,1.00001,.99973,1.00001,.99973,1.00022,1.00026,1.00022,1.00026,1.00022,1.00026,1.00022,1.00026,.99977,1.00026,.99977,1.00026,1.0006,1.0006,1.0006,1.0006,1.0006,1.0006,1.0006,1.0006,1.0006,1.0006,1.00042,.99973,.99973,1.0006,.99977,.99973,.99973,1.00026,1.0006,1.00026,1.0006,1.00026,1.03828,1.00026,.99999,1.00026,1.0006,.99977,1.00026,.99977,1.00026,.99977,1.00026,.9993,.9998,1.00026,1.00022,1.00026,1.00022,1.00026,1.00022,1.00026,1,1.00016,.99977,.99959,.99977,.99959,.99977,.99959,1.00001,.99973,1.00001,.99973,1.00001,.99973,1.00001,.99973,1.00026,.99998,1.00026,.8121,1.00026,.99998,.99977,1.00026,.99977,1.00026,.99977,1.00026,.99977,1.00026,.99977,1.00026,.99977,1.00026,1.00016,1.00022,1.00001,.99973,1.00001,1.00026,1,1.00026,1,1.00026,1,1.0006,.99973,.99977,.99973,1,.99982,1.00022,1.00026,1.00001,.99973,1.00026,.99998,.99998,.99998,.99998,.99998,.99998,.99998,.99998,.99998,.99998,.99998,1.00034,.99977,1,.99997,1.00026,1.00078,1.00036,.99973,1.00013,1.0006,.99977,.99977,.99988,.85148,1.00001,1.00026,.99977,1.00022,1.0006,.99977,1.00001,.99999,.99977,1.00069,1.00022,.99977,1.00001,.99984,1.00026,1.00001,1.00024,1.00001,.9999,1,1.0006,1.00001,1.00041,.99962,1.00026,1.0006,.99995,1.00041,.99942,.99973,.99927,1.00082,.99902,1.00026,1.00087,1.0006,1.00069,.99973,.99867,.99973,.9993,1.00026,1.00049,1.00056,1,.99988,.99935,.99995,.99954,1.00055,.99945,1.00032,1.0006,.99995,1.00026,.99995,1.00032,1.00001,1.00008,.99971,1.00019,.9994,1.00001,1.0006,1.00044,.99973,1.00023,1.00047,1,.99942,.99561,.99989,1.00035,.99977,1.00035,.99977,1.00019,.99944,1.00001,1.00021,.99926,1.00035,1.00035,.99942,1.00048,.99999,.99977,1.00022,1.00035,1.00001,.99977,1.00026,.99989,1.00057,1.00001,.99936,1.00052,1.00012,.99996,1.00043,1,1.00035,.9994,.99976,1.00035,.99973,1.00052,1.00041,1.00119,1.00037,.99973,1.00002,.99986,1.00041,1.00041,.99902,.9996,1.00034,.99999,1.00026,.99999,1.00026,.99973,1.00052,.99973,1,.99973,1.00041,1.00075,.9994,1.0003,.99999,1,1.00041,.99955,1,.99915,.99973,.99973,1.00026,1.00119,.99955,.99973,1.0006,.99911,1.0006,1.00026,.99972,1.00026,.99902,1.00041,.99973,.99999,1,1,1.00038,1.0005,1.00016,1.00022,1.00016,1.00022,1.00016,1.00022,1.00001,.99973,1,1,.99973,1,1,.99955,1.0006,1.0006,1.0006,1.0006,1,1,1,.99973,.99973,.99972,1,1,1.00106,.99999,.99998,.99998,.99999,.99998,1.66475,1,.99973,.99973,1.00023,.99973,.99971,1.00047,1.00023,1,.99991,.99984,1.00002,1.00002,1.00002,1.00002,1,1,1,1,1,1,1,.99972,1,1.20985,1.39713,1.00003,1.00031,1.00015,1,.99561,1.00027,1.00031,1.00031,.99915,1.00031,1.00031,.99999,1.00003,.99999,.99999,1.41144,1.6,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.40579,1.40579,1.36625,.99999,1,.99861,.99861,1,1.00026,1.00026,1.00026,1.00026,.99972,.99999,.99999,.99999,.99999,1.40483,1,.99977,1.00054,1,1,.99953,.99962,1.00042,.9995,1,1,1,1,1,1,1,1,.99998,.99998,.99998,.99998,1,1,1,1,1,1,1,1,1,1,1];Et.HelveticaBoldFactors=Pt;const wt={lineHeight:1.2,lineGap:.2};Et.HelveticaBoldMetrics=wt;const kt=[.76116,1,1,1.0006,.99998,.99974,.99973,.99973,.99982,.99977,1.00087,.99998,.99998,.99959,1.00003,1.0006,.99998,1.0006,1.0006,.99973,.99973,.99973,.99973,.99973,.99973,.99973,.99973,.99973,.99973,.99998,1,1.00003,1.00003,1.00003,1.00026,.9999,.99977,.99977,.99977,.99977,1.00001,1.00026,1.00022,.99977,1.0006,.99973,.99977,1.00026,.99999,.99977,1.00022,1.00001,1.00022,.99977,1.00001,1.00026,.99977,1.00001,1.00016,1.00001,1.00001,1.00026,.99998,1.0006,.99998,1.00003,.99973,.99998,.99973,1.00026,.99973,1.00026,.99973,.99998,1.00026,1.00026,1.0006,1.0006,.99973,1.0006,.99982,1.00026,1.00026,1.00026,1.00026,.99959,.99973,.99998,1.00026,.99973,1.00022,.99973,.99973,1,.99959,1.00077,.99959,1.00003,.99998,.99973,.99973,.99973,.99973,1.00077,.99973,.99998,1.00025,.99968,.99973,1.00003,1.00025,.60299,1.00024,1.06409,1,1,.99998,1,.99973,1.0006,.99998,1,.99936,.99973,1.00002,1.00002,1.00002,1.00026,.99977,.99977,.99977,.99977,.99977,.99977,1,.99977,1.00001,1.00001,1.00001,1.00001,1.0006,1.0006,1.0006,1.0006,.99977,.99977,1.00022,1.00022,1.00022,1.00022,1.00022,1.00003,1.00022,.99977,.99977,.99977,.99977,1.00001,1.00001,1.00026,.99973,.99973,.99973,.99973,.99973,.99973,.99982,.99973,.99973,.99973,.99973,.99973,1.0006,1.0006,1.0006,1.0006,1.00026,1.00026,1.00026,1.00026,1.00026,1.00026,1.00026,1.06409,1.00026,1.00026,1.00026,1.00026,1.00026,.99973,1.00026,.99973,.99977,.99973,.99977,.99973,.99977,.99973,.99977,.99973,.99977,.99973,.99977,.99973,.99977,.99973,.99977,1.0044,.99977,1.00026,1.00001,.99973,1.00001,.99973,1.00001,.99973,1.00001,.99973,1.00001,.99973,1.00022,1.00026,1.00022,1.00026,1.00022,1.00026,1.00022,1.00026,.99977,1.00026,.99977,1.00026,1.0006,1.0006,1.0006,1.0006,1.0006,1.0006,1.0006,1.0006,1.0006,1.0006,.99971,.99973,.99973,1.0006,.99977,.99973,.99973,1.00026,1.0006,1.00026,1.0006,1.00026,1.01011,1.00026,.99999,1.00026,1.0006,.99977,1.00026,.99977,1.00026,.99977,1.00026,.9993,.9998,1.00026,1.00022,1.00026,1.00022,1.00026,1.00022,1.00026,1,1.00016,.99977,.99959,.99977,.99959,.99977,.99959,1.00001,.99973,1.00001,.99973,1.00001,.99973,1.00001,.99973,1.00026,.99998,1.00026,.8121,1.00026,.99998,.99977,1.00026,.99977,1.00026,.99977,1.00026,.99977,1.00026,.99977,1.00026,.99977,1.00026,1.00016,1.00022,1.00001,.99973,1.00001,1.00026,1,1.00026,1,1.00026,1,1.0006,.99973,.99977,.99973,1,.99982,1.00022,1.00026,1.00001,.99973,1.00026,.99998,.99998,.99998,.99998,.99998,.99998,.99998,.99998,.99998,.99998,.99998,.99998,.99977,1,1,1.00026,.99969,.99972,.99981,.9998,1.0006,.99977,.99977,1.00022,.91155,1.00001,1.00026,.99977,1.00022,1.0006,.99977,1.00001,.99999,.99977,.99966,1.00022,1.00032,1.00001,.99944,1.00026,1.00001,.99968,1.00001,1.00047,1,1.0006,1.00001,.99981,1.00101,1.00026,1.0006,.99948,.99981,1.00064,.99973,.99942,1.00101,1.00061,1.00026,1.00069,1.0006,1.00014,.99973,1.01322,.99973,1.00065,1.00026,1.00012,.99923,1,1.00064,1.00076,.99948,1.00055,1.00063,1.00007,.99943,1.0006,.99948,1.00026,.99948,.99943,1.00001,1.00001,1.00029,1.00038,1.00035,1.00001,1.0006,1.0006,.99973,.99978,1.00001,1.00057,.99989,.99967,.99964,.99967,.99977,.99999,.99977,1.00038,.99977,1.00001,.99973,1.00066,.99967,.99967,1.00041,.99998,.99999,.99977,1.00022,.99967,1.00001,.99977,1.00026,.99964,1.00031,1.00001,.99999,.99999,1,1.00023,1,1,.99999,1.00035,1.00001,.99999,.99973,.99977,.99999,1.00058,.99973,.99973,.99955,.9995,1.00026,1.00026,1.00032,.99989,1.00034,.99999,1.00026,1.00026,1.00026,.99973,.45998,.99973,1.00026,.99973,1.00001,.99999,.99982,.99994,.99996,1,1.00042,1.00044,1.00029,1.00023,.99973,.99973,1.00026,.99949,1.00002,.99973,1.0006,1.0006,1.0006,.99975,1.00026,1.00026,1.00032,.98685,.99973,1.00026,1,1,.99966,1.00044,1.00016,1.00022,1.00016,1.00022,1.00016,1.00022,1.00001,.99973,1,1,.99973,1,1,.99955,1.0006,1.0006,1.0006,1.0006,1,1,1,.99973,.99973,.99972,1,1,1.00106,.99999,.99998,.99998,.99999,.99998,1.66475,1,.99973,.99973,1,.99973,.99971,.99978,1,1,.99991,.99984,1.00002,1.00002,1.00002,1.00002,1.00098,1,1,1,1.00049,1,1,.99972,1,1.20985,1.39713,1.00003,1.00031,1.00015,1,.99561,1.00027,1.00031,1.00031,.99915,1.00031,1.00031,.99999,1.00003,.99999,.99999,1.41144,1.6,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.40579,1.40579,1.36625,.99999,1,.99861,.99861,1,1.00026,1.00026,1.00026,1.00026,.99972,.99999,.99999,.99999,.99999,1.40483,1,.99977,1.00054,1,1,.99953,.99962,1.00042,.9995,1,1,1,1,1,1,1,1,.99998,.99998,.99998,.99998,1,1,1,1,1,1,1,1,1,1,1];Et.HelveticaBoldItalicFactors=kt;const _t={lineHeight:1.35,lineGap:.2};Et.HelveticaBoldItalicMetrics=_t;const ht=[.76116,1,1,1.0006,1.0006,1.00006,.99973,.99973,.99982,1.00001,1.00043,.99998,.99998,.99959,1.00003,1.0006,.99998,1.0006,1.0006,.99973,.99973,.99973,.99973,.99973,.99973,.99973,.99973,.99973,.99973,1.0006,1,1.00003,1.00003,1.00003,.99973,.99987,1.00001,1.00001,.99977,.99977,1.00001,1.00026,1.00022,.99977,1.0006,1,1.00001,.99973,.99999,.99977,1.00022,1.00001,1.00022,.99977,1.00001,1.00026,.99977,1.00001,1.00016,1.00001,1.00001,1.00026,1.0006,1.0006,1.0006,.99949,.99973,.99998,.99973,.99973,1,.99973,.99973,1.0006,.99973,.99973,.99924,.99924,1,.99924,.99999,.99973,.99973,.99973,.99973,.99998,1,1.0006,.99973,1,.99977,1,1,1,1.00005,1.0009,1.00005,1.00003,.99998,.99973,.99973,.99973,.99973,1.0009,.99973,.99998,1.00025,.99968,.99973,1.00003,1.00025,.60299,1.00024,1.06409,1,1,.99998,1,.9998,1.0006,.99998,1,.99936,.99973,1.00002,1.00002,1.00002,1.00026,1.00001,1.00001,1.00001,1.00001,1.00001,1.00001,1,.99977,1.00001,1.00001,1.00001,1.00001,1.0006,1.0006,1.0006,1.0006,.99977,.99977,1.00022,1.00022,1.00022,1.00022,1.00022,1.00003,1.00022,.99977,.99977,.99977,.99977,1.00001,1.00001,1.00026,.99973,.99973,.99973,.99973,.99973,.99973,.99982,1,.99973,.99973,.99973,.99973,1.0006,1.0006,1.0006,1.0006,.99973,.99973,.99973,.99973,.99973,.99973,.99973,1.06409,1.00026,.99973,.99973,.99973,.99973,1,.99973,1,1.00001,.99973,1.00001,.99973,1.00001,.99973,.99977,1,.99977,1,.99977,1,.99977,1,.99977,1.0288,.99977,.99973,1.00001,.99973,1.00001,.99973,1.00001,.99973,1.00001,.99973,1.00001,.99973,1.00022,.99973,1.00022,.99973,1.00022,.99973,1.00022,.99973,.99977,.99973,.99977,.99973,1.0006,1.0006,1.0006,1.0006,1.0006,1.0006,1.0006,.99924,1.0006,1.0006,.99946,1.00034,1,.99924,1.00001,1,1,.99973,.99924,.99973,.99924,.99973,1.06311,.99973,1.00024,.99973,.99924,.99977,.99973,.99977,.99973,.99977,.99973,1.00041,.9998,.99973,1.00022,.99973,1.00022,.99973,1.00022,.99973,1,1.00016,.99977,.99998,.99977,.99998,.99977,.99998,1.00001,1,1.00001,1,1.00001,1,1.00001,1,1.00026,1.0006,1.00026,.89547,1.00026,1.0006,.99977,.99973,.99977,.99973,.99977,.99973,.99977,.99973,.99977,.99973,.99977,.99973,1.00016,.99977,1.00001,1,1.00001,1.00026,1,1.00026,1,1.00026,1,.99924,.99973,1.00001,.99973,1,.99982,1.00022,1.00026,1.00001,1,1.00026,1.0006,.99998,.99998,.99998,.99998,.99998,.99998,.99998,.99998,.99998,.99998,.99998,1.00001,1,1.00054,.99977,1.00084,1.00007,.99973,1.00013,.99924,1.00001,1.00001,.99945,.91221,1.00001,1.00026,.99977,1.00022,1.0006,1.00001,1.00001,.99999,.99977,.99933,1.00022,1.00054,1.00001,1.00065,1.00026,1.00001,1.0001,1.00001,1.00052,1,1.0006,1.00001,.99945,.99897,.99968,.99924,1.00036,.99945,.99949,1,1.0006,.99897,.99918,.99968,.99911,.99924,1,.99962,1.01487,1,1.0005,.99973,1.00012,1.00043,1,.99995,.99994,1.00036,.99947,1.00019,1.00063,1.00025,.99924,1.00036,.99973,1.00036,1.00025,1.00001,1.00001,1.00027,1.0001,1.00068,1.00001,1.0006,1.0006,1,1.00008,.99957,.99972,.9994,.99954,.99975,1.00051,1.00001,1.00019,1.00001,1.0001,.99986,1.00001,1.00001,1.00038,.99954,.99954,.9994,1.00066,.99999,.99977,1.00022,1.00054,1.00001,.99977,1.00026,.99975,1.0001,1.00001,.99993,.9995,.99955,1.00016,.99978,.99974,1.00019,1.00022,.99955,1.00053,.99973,1.00089,1.00005,.99967,1.00048,.99973,1.00002,1.00034,.99973,.99973,.99964,1.00006,1.00066,.99947,.99973,.98894,.99973,1,.44898,1,.99946,1,1.00039,1.00082,.99991,.99991,.99985,1.00022,1.00023,1.00061,1.00006,.99966,.99973,.99973,.99973,1.00019,1.0008,1,.99924,.99924,.99924,.99983,1.00044,.99973,.99964,.98332,1,.99973,1,1,.99962,.99895,1.00016,.99977,1.00016,.99977,1.00016,.99977,1.00001,1,1,1,.99973,1,1,.99955,.99924,.99924,.99924,.99924,.99998,.99998,.99998,.99973,.99973,.99972,1,1,1.00267,.99999,.99998,.99998,1,.99998,1.66475,1,.99973,.99973,1.00023,.99973,1.00423,.99925,.99999,1,.99991,.99984,1.00002,1.00002,1.00002,1.00002,1.00049,1,1.00245,1,1,1,1,.96329,1,1.20985,1.39713,1.00003,.8254,1.00015,1,1.00035,1.00027,1.00031,1.00031,1.00003,1.00031,1.00031,.99999,1.00003,.99999,.99999,1.41144,1.6,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.40579,1.40579,1.36625,.99999,1,.99861,.99861,1,1.00026,1.00026,1.00026,1.00026,.95317,.99999,.99999,.99999,.99999,1.40483,1,.99977,1.00054,1,1,.99953,.99962,1.00042,.9995,1,1,1,1,1,1,1,1,.99998,.99998,.99998,.99998,1,1,1,1,1,1,1,1,1,1,1];Et.HelveticaItalicFactors=ht;const vt={lineHeight:1.35,lineGap:.2};Et.HelveticaItalicMetrics=vt;const Ft=[.76116,1,1,1.0006,1.0006,1.00006,.99973,.99973,.99982,1.00001,1.00043,.99998,.99998,.99959,1.00003,1.0006,.99998,1.0006,1.0006,.99973,.99973,.99973,.99973,.99973,.99973,.99973,.99973,.99973,.99973,1.0006,1,1.00003,1.00003,1.00003,.99973,.99987,1.00001,1.00001,.99977,.99977,1.00001,1.00026,1.00022,.99977,1.0006,1,1.00001,.99973,.99999,.99977,1.00022,1.00001,1.00022,.99977,1.00001,1.00026,.99977,1.00001,1.00016,1.00001,1.00001,1.00026,1.0006,1.0006,1.0006,.99949,.99973,.99998,.99973,.99973,1,.99973,.99973,1.0006,.99973,.99973,.99924,.99924,1,.99924,.99999,.99973,.99973,.99973,.99973,.99998,1,1.0006,.99973,1,.99977,1,1,1,1.00005,1.0009,1.00005,1.00003,.99998,.99973,.99973,.99973,.99973,1.0009,.99973,.99998,1.00025,.99968,.99973,1.00003,1.00025,.60299,1.00024,1.06409,1,1,.99998,1,.9998,1.0006,.99998,1,.99936,.99973,1.00002,1.00002,1.00002,1.00026,1.00001,1.00001,1.00001,1.00001,1.00001,1.00001,1,.99977,1.00001,1.00001,1.00001,1.00001,1.0006,1.0006,1.0006,1.0006,.99977,.99977,1.00022,1.00022,1.00022,1.00022,1.00022,1.00003,1.00022,.99977,.99977,.99977,.99977,1.00001,1.00001,1.00026,.99973,.99973,.99973,.99973,.99973,.99973,.99982,1,.99973,.99973,.99973,.99973,1.0006,1.0006,1.0006,1.0006,.99973,.99973,.99973,.99973,.99973,.99973,.99973,1.06409,1.00026,.99973,.99973,.99973,.99973,1,.99973,1,1.00001,.99973,1.00001,.99973,1.00001,.99973,.99977,1,.99977,1,.99977,1,.99977,1,.99977,1.04596,.99977,.99973,1.00001,.99973,1.00001,.99973,1.00001,.99973,1.00001,.99973,1.00001,.99973,1.00022,.99973,1.00022,.99973,1.00022,.99973,1.00022,.99973,.99977,.99973,.99977,.99973,1.0006,1.0006,1.0006,1.0006,1.0006,1.0006,1.0006,.99924,1.0006,1.0006,1.00019,1.00034,1,.99924,1.00001,1,1,.99973,.99924,.99973,.99924,.99973,1.02572,.99973,1.00005,.99973,.99924,.99977,.99973,.99977,.99973,.99977,.99973,.99999,.9998,.99973,1.00022,.99973,1.00022,.99973,1.00022,.99973,1,1.00016,.99977,.99998,.99977,.99998,.99977,.99998,1.00001,1,1.00001,1,1.00001,1,1.00001,1,1.00026,1.0006,1.00026,.84533,1.00026,1.0006,.99977,.99973,.99977,.99973,.99977,.99973,.99977,.99973,.99977,.99973,.99977,.99973,1.00016,.99977,1.00001,1,1.00001,1.00026,1,1.00026,1,1.00026,1,.99924,.99973,1.00001,.99973,1,.99982,1.00022,1.00026,1.00001,1,1.00026,1.0006,.99998,.99998,.99998,.99998,.99998,.99998,.99998,.99998,.99998,.99998,.99998,.99928,1,.99977,1.00013,1.00055,.99947,.99945,.99941,.99924,1.00001,1.00001,1.0004,.91621,1.00001,1.00026,.99977,1.00022,1.0006,1.00001,1.00005,.99999,.99977,1.00015,1.00022,.99977,1.00001,.99973,1.00026,1.00001,1.00019,1.00001,.99946,1,1.0006,1.00001,.99978,1.00045,.99973,.99924,1.00023,.99978,.99966,1,1.00065,1.00045,1.00019,.99973,.99973,.99924,1,1,.96499,1,1.00055,.99973,1.00008,1.00027,1,.9997,.99995,1.00023,.99933,1.00019,1.00015,1.00031,.99924,1.00023,.99973,1.00023,1.00031,1.00001,.99928,1.00029,1.00092,1.00035,1.00001,1.0006,1.0006,1,.99988,.99975,1,1.00082,.99561,.9996,1.00035,1.00001,.99962,1.00001,1.00092,.99964,1.00001,.99963,.99999,1.00035,1.00035,1.00082,.99962,.99999,.99977,1.00022,1.00035,1.00001,.99977,1.00026,.9996,.99967,1.00001,1.00034,1.00074,1.00054,1.00053,1.00063,.99971,.99962,1.00035,.99975,.99977,.99973,1.00043,.99953,1.0007,.99915,.99973,1.00008,.99892,1.00073,1.00073,1.00114,.99915,1.00073,.99955,.99973,1.00092,.99973,1,.99998,1,1.0003,1,1.00043,1.00001,.99969,1.0003,1,1.00035,1.00001,.9995,1,1.00092,.99973,.99973,.99973,1.0007,.9995,1,.99924,1.0006,.99924,.99972,1.00062,.99973,1.00114,1.00073,1,.99955,1,1,1.00047,.99968,1.00016,.99977,1.00016,.99977,1.00016,.99977,1.00001,1,1,1,.99973,1,1,.99955,.99924,.99924,.99924,.99924,.99998,.99998,.99998,.99973,.99973,.99972,1,1,1.00267,.99999,.99998,.99998,1,.99998,1.66475,1,.99973,.99973,1.00023,.99973,.99971,.99925,1.00023,1,.99991,.99984,1.00002,1.00002,1.00002,1.00002,1,1,1,1,1,1,1,.96329,1,1.20985,1.39713,1.00003,.8254,1.00015,1,1.00035,1.00027,1.00031,1.00031,.99915,1.00031,1.00031,.99999,1.00003,.99999,.99999,1.41144,1.6,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.40579,1.40579,1.36625,.99999,1,.99861,.99861,1,1.00026,1.00026,1.00026,1.00026,.95317,.99999,.99999,.99999,.99999,1.40483,1,.99977,1.00054,1,1,.99953,.99962,1.00042,.9995,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1];Et.HelveticaRegularFactors=Ft;const Vt={lineHeight:1.2,lineGap:.2};Et.HelveticaRegularMetrics=Vt},(Ct,Et)=>{Object.defineProperty(Et,"__esModule",{value:!0}),Et.LiberationSansRegularWidths=Et.LiberationSansRegularMapping=Et.LiberationSansItalicWidths=Et.LiberationSansItalicMapping=Et.LiberationSansBoldWidths=Et.LiberationSansBoldMapping=Et.LiberationSansBoldItalicWidths=Et.LiberationSansBoldItalicMapping=void 0;const Pt=[365,0,333,278,333,474,556,556,889,722,238,333,333,389,584,278,333,278,278,556,556,556,556,556,556,556,556,556,556,333,333,584,584,584,611,975,722,722,722,722,667,611,778,722,278,556,722,611,833,722,778,667,778,722,667,611,722,667,944,667,667,611,333,278,333,584,556,333,556,611,556,611,556,333,611,611,278,278,556,278,889,611,611,611,611,389,556,333,611,556,778,556,556,500,389,280,389,584,333,556,556,556,556,280,556,333,737,370,556,584,737,552,400,549,333,333,333,576,556,278,333,333,365,556,834,834,834,611,722,722,722,722,722,722,1e3,722,667,667,667,667,278,278,278,278,722,722,778,778,778,778,778,584,778,722,722,722,722,667,667,611,556,556,556,556,556,556,889,556,556,556,556,556,278,278,278,278,611,611,611,611,611,611,611,549,611,611,611,611,611,556,611,556,722,556,722,556,722,556,722,556,722,556,722,556,722,556,722,719,722,611,667,556,667,556,667,556,667,556,667,556,778,611,778,611,778,611,778,611,722,611,722,611,278,278,278,278,278,278,278,278,278,278,785,556,556,278,722,556,556,611,278,611,278,611,385,611,479,611,278,722,611,722,611,722,611,708,723,611,778,611,778,611,778,611,1e3,944,722,389,722,389,722,389,667,556,667,556,667,556,667,556,611,333,611,479,611,333,722,611,722,611,722,611,722,611,722,611,722,611,944,778,667,556,667,611,500,611,500,611,500,278,556,722,556,1e3,889,778,611,667,556,611,333,333,333,333,333,333,333,333,333,333,333,465,722,333,853,906,474,825,927,838,278,722,722,601,719,667,611,722,778,278,722,667,833,722,644,778,722,667,600,611,667,821,667,809,802,278,667,615,451,611,278,582,615,610,556,606,475,460,611,541,278,558,556,612,556,445,611,766,619,520,684,446,582,715,576,753,845,278,582,611,582,845,667,669,885,567,711,667,278,276,556,1094,1062,875,610,722,622,719,722,719,722,567,712,667,904,626,719,719,610,702,833,722,778,719,667,722,611,622,854,667,730,703,1005,1019,870,979,719,711,1031,719,556,618,615,417,635,556,709,497,615,615,500,635,740,604,611,604,611,556,490,556,875,556,615,581,833,844,729,854,615,552,854,583,556,556,611,417,552,556,278,281,278,969,906,611,500,615,556,604,778,611,487,447,944,778,944,778,944,778,667,556,333,333,556,1e3,1e3,552,278,278,278,278,500,500,500,556,556,350,1e3,1e3,240,479,333,333,604,333,167,396,556,556,1094,556,885,489,1115,1e3,768,600,834,834,834,834,1e3,500,1e3,500,1e3,500,500,494,612,823,713,584,549,713,979,722,274,549,549,583,549,549,604,584,604,604,708,625,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,729,604,604,354,354,1e3,990,990,990,990,494,604,604,604,604,354,1021,1052,917,750,750,531,656,594,510,500,750,750,611,611,333,333,333,333,333,333,333,333,222,222,333,333,333,333,333,333,333,333];Et.LiberationSansBoldWidths=Pt;const wt=[-1,-1,-1,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,96,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,123,124,125,126,161,162,163,164,165,166,167,168,169,170,171,172,174,175,176,177,178,179,180,181,182,183,184,185,186,187,188,189,190,191,192,193,194,195,196,197,198,199,200,201,202,203,204,205,206,207,208,209,210,211,212,213,214,215,216,217,218,219,220,221,222,223,224,225,226,227,228,229,230,231,232,233,234,235,236,237,238,239,240,241,242,243,244,245,246,247,248,249,250,251,252,253,254,255,256,257,258,259,260,261,262,263,264,265,266,267,268,269,270,271,272,273,274,275,276,277,278,279,280,281,282,283,284,285,286,287,288,289,290,291,292,293,294,295,296,297,298,299,300,301,302,303,304,305,306,307,308,309,310,311,312,313,314,315,316,317,318,319,320,321,322,323,324,325,326,327,328,329,330,331,332,333,334,335,336,337,338,339,340,341,342,343,344,345,346,347,348,349,350,351,352,353,354,355,356,357,358,359,360,361,362,363,364,365,366,367,368,369,370,371,372,373,374,375,376,377,378,379,380,381,382,383,402,506,507,508,509,510,511,536,537,538,539,710,711,713,728,729,730,731,732,733,900,901,902,903,904,905,906,908,910,911,912,913,914,915,916,917,918,919,920,921,922,923,924,925,926,927,928,929,931,932,933,934,935,936,937,938,939,940,941,942,943,944,945,946,947,948,949,950,951,952,953,954,955,956,957,958,959,960,961,962,963,964,965,966,967,968,969,970,971,972,973,974,1024,1025,1026,1027,1028,1029,1030,1031,1032,1033,1034,1035,1036,1037,1038,1039,1040,1041,1042,1043,1044,1045,1046,1047,1048,1049,1050,1051,1052,1053,1054,1055,1056,1057,1058,1059,1060,1061,1062,1063,1064,1065,1066,1067,1068,1069,1070,1071,1072,1073,1074,1075,1076,1077,1078,1079,1080,1081,1082,1083,1084,1085,1086,1087,1088,1089,1090,1091,1092,1093,1094,1095,1096,1097,1098,1099,1100,1101,1102,1103,1104,1105,1106,1107,1108,1109,1110,1111,1112,1113,1114,1115,1116,1117,1118,1119,1138,1139,1168,1169,7808,7809,7810,7811,7812,7813,7922,7923,8208,8209,8211,8212,8213,8215,8216,8217,8218,8219,8220,8221,8222,8224,8225,8226,8230,8240,8242,8243,8249,8250,8252,8254,8260,8319,8355,8356,8359,8364,8453,8467,8470,8482,8486,8494,8539,8540,8541,8542,8592,8593,8594,8595,8596,8597,8616,8706,8710,8719,8721,8722,8730,8734,8735,8745,8747,8776,8800,8801,8804,8805,8962,8976,8992,8993,9472,9474,9484,9488,9492,9496,9500,9508,9516,9524,9532,9552,9553,9554,9555,9556,9557,9558,9559,9560,9561,9562,9563,9564,9565,9566,9567,9568,9569,9570,9571,9572,9573,9574,9575,9576,9577,9578,9579,9580,9600,9604,9608,9612,9616,9617,9618,9619,9632,9633,9642,9643,9644,9650,9658,9660,9668,9674,9675,9679,9688,9689,9702,9786,9787,9788,9792,9794,9824,9827,9829,9830,9834,9835,9836,61441,61442,61445,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1];Et.LiberationSansBoldMapping=wt;const kt=[365,0,333,278,333,474,556,556,889,722,238,333,333,389,584,278,333,278,278,556,556,556,556,556,556,556,556,556,556,333,333,584,584,584,611,975,722,722,722,722,667,611,778,722,278,556,722,611,833,722,778,667,778,722,667,611,722,667,944,667,667,611,333,278,333,584,556,333,556,611,556,611,556,333,611,611,278,278,556,278,889,611,611,611,611,389,556,333,611,556,778,556,556,500,389,280,389,584,333,556,556,556,556,280,556,333,737,370,556,584,737,552,400,549,333,333,333,576,556,278,333,333,365,556,834,834,834,611,722,722,722,722,722,722,1e3,722,667,667,667,667,278,278,278,278,722,722,778,778,778,778,778,584,778,722,722,722,722,667,667,611,556,556,556,556,556,556,889,556,556,556,556,556,278,278,278,278,611,611,611,611,611,611,611,549,611,611,611,611,611,556,611,556,722,556,722,556,722,556,722,556,722,556,722,556,722,556,722,740,722,611,667,556,667,556,667,556,667,556,667,556,778,611,778,611,778,611,778,611,722,611,722,611,278,278,278,278,278,278,278,278,278,278,782,556,556,278,722,556,556,611,278,611,278,611,396,611,479,611,278,722,611,722,611,722,611,708,723,611,778,611,778,611,778,611,1e3,944,722,389,722,389,722,389,667,556,667,556,667,556,667,556,611,333,611,479,611,333,722,611,722,611,722,611,722,611,722,611,722,611,944,778,667,556,667,611,500,611,500,611,500,278,556,722,556,1e3,889,778,611,667,556,611,333,333,333,333,333,333,333,333,333,333,333,333,722,333,854,906,473,844,930,847,278,722,722,610,671,667,611,722,778,278,722,667,833,722,657,778,718,667,590,611,667,822,667,829,781,278,667,620,479,611,278,591,620,621,556,610,479,492,611,558,278,566,556,603,556,450,611,712,605,532,664,409,591,704,578,773,834,278,591,611,591,834,667,667,886,614,719,667,278,278,556,1094,1042,854,622,719,677,719,722,708,722,614,722,667,927,643,719,719,615,687,833,722,778,719,667,722,611,677,781,667,729,708,979,989,854,1e3,708,719,1042,729,556,619,604,534,618,556,736,510,611,611,507,622,740,604,611,611,611,556,889,556,885,556,646,583,889,935,707,854,594,552,865,589,556,556,611,469,563,556,278,278,278,969,906,611,507,619,556,611,778,611,575,467,944,778,944,778,944,778,667,556,333,333,556,1e3,1e3,552,278,278,278,278,500,500,500,556,556,350,1e3,1e3,240,479,333,333,604,333,167,396,556,556,1104,556,885,516,1146,1e3,768,600,834,834,834,834,999,500,1e3,500,1e3,500,500,494,612,823,713,584,549,713,979,722,274,549,549,583,549,549,604,584,604,604,708,625,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,729,604,604,354,354,1e3,990,990,990,990,494,604,604,604,604,354,1021,1052,917,750,750,531,656,594,510,500,750,750,611,611,333,333,333,333,333,333,333,333,222,222,333,333,333,333,333,333,333,333];Et.LiberationSansBoldItalicWidths=kt;const _t=[-1,-1,-1,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,96,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,123,124,125,126,161,162,163,164,165,166,167,168,169,170,171,172,174,175,176,177,178,179,180,181,182,183,184,185,186,187,188,189,190,191,192,193,194,195,196,197,198,199,200,201,202,203,204,205,206,207,208,209,210,211,212,213,214,215,216,217,218,219,220,221,222,223,224,225,226,227,228,229,230,231,232,233,234,235,236,237,238,239,240,241,242,243,244,245,246,247,248,249,250,251,252,253,254,255,256,257,258,259,260,261,262,263,264,265,266,267,268,269,270,271,272,273,274,275,276,277,278,279,280,281,282,283,284,285,286,287,288,289,290,291,292,293,294,295,296,297,298,299,300,301,302,303,304,305,306,307,308,309,310,311,312,313,314,315,316,317,318,319,320,321,322,323,324,325,326,327,328,329,330,331,332,333,334,335,336,337,338,339,340,341,342,343,344,345,346,347,348,349,350,351,352,353,354,355,356,357,358,359,360,361,362,363,364,365,366,367,368,369,370,371,372,373,374,375,376,377,378,379,380,381,382,383,402,506,507,508,509,510,511,536,537,538,539,710,711,713,728,729,730,731,732,733,900,901,902,903,904,905,906,908,910,911,912,913,914,915,916,917,918,919,920,921,922,923,924,925,926,927,928,929,931,932,933,934,935,936,937,938,939,940,941,942,943,944,945,946,947,948,949,950,951,952,953,954,955,956,957,958,959,960,961,962,963,964,965,966,967,968,969,970,971,972,973,974,1024,1025,1026,1027,1028,1029,1030,1031,1032,1033,1034,1035,1036,1037,1038,1039,1040,1041,1042,1043,1044,1045,1046,1047,1048,1049,1050,1051,1052,1053,1054,1055,1056,1057,1058,1059,1060,1061,1062,1063,1064,1065,1066,1067,1068,1069,1070,1071,1072,1073,1074,1075,1076,1077,1078,1079,1080,1081,1082,1083,1084,1085,1086,1087,1088,1089,1090,1091,1092,1093,1094,1095,1096,1097,1098,1099,1100,1101,1102,1103,1104,1105,1106,1107,1108,1109,1110,1111,1112,1113,1114,1115,1116,1117,1118,1119,1138,1139,1168,1169,7808,7809,7810,7811,7812,7813,7922,7923,8208,8209,8211,8212,8213,8215,8216,8217,8218,8219,8220,8221,8222,8224,8225,8226,8230,8240,8242,8243,8249,8250,8252,8254,8260,8319,8355,8356,8359,8364,8453,8467,8470,8482,8486,8494,8539,8540,8541,8542,8592,8593,8594,8595,8596,8597,8616,8706,8710,8719,8721,8722,8730,8734,8735,8745,8747,8776,8800,8801,8804,8805,8962,8976,8992,8993,9472,9474,9484,9488,9492,9496,9500,9508,9516,9524,9532,9552,9553,9554,9555,9556,9557,9558,9559,9560,9561,9562,9563,9564,9565,9566,9567,9568,9569,9570,9571,9572,9573,9574,9575,9576,9577,9578,9579,9580,9600,9604,9608,9612,9616,9617,9618,9619,9632,9633,9642,9643,9644,9650,9658,9660,9668,9674,9675,9679,9688,9689,9702,9786,9787,9788,9792,9794,9824,9827,9829,9830,9834,9835,9836,61441,61442,61445,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1];Et.LiberationSansBoldItalicMapping=_t;const ht=[365,0,333,278,278,355,556,556,889,667,191,333,333,389,584,278,333,278,278,556,556,556,556,556,556,556,556,556,556,278,278,584,584,584,556,1015,667,667,722,722,667,611,778,722,278,500,667,556,833,722,778,667,778,722,667,611,722,667,944,667,667,611,278,278,278,469,556,333,556,556,500,556,556,278,556,556,222,222,500,222,833,556,556,556,556,333,500,278,556,500,722,500,500,500,334,260,334,584,333,556,556,556,556,260,556,333,737,370,556,584,737,552,400,549,333,333,333,576,537,278,333,333,365,556,834,834,834,611,667,667,667,667,667,667,1e3,722,667,667,667,667,278,278,278,278,722,722,778,778,778,778,778,584,778,722,722,722,722,667,667,611,556,556,556,556,556,556,889,500,556,556,556,556,278,278,278,278,556,556,556,556,556,556,556,549,611,556,556,556,556,500,556,500,667,556,667,556,667,556,722,500,722,500,722,500,722,500,722,625,722,556,667,556,667,556,667,556,667,556,667,556,778,556,778,556,778,556,778,556,722,556,722,556,278,278,278,278,278,278,278,222,278,278,733,444,500,222,667,500,500,556,222,556,222,556,281,556,400,556,222,722,556,722,556,722,556,615,723,556,778,556,778,556,778,556,1e3,944,722,333,722,333,722,333,667,500,667,500,667,500,667,500,611,278,611,354,611,278,722,556,722,556,722,556,722,556,722,556,722,556,944,722,667,500,667,611,500,611,500,611,500,222,556,667,556,1e3,889,778,611,667,500,611,278,333,333,333,333,333,333,333,333,333,333,333,667,278,789,846,389,794,865,775,222,667,667,570,671,667,611,722,778,278,667,667,833,722,648,778,725,667,600,611,667,837,667,831,761,278,667,570,439,555,222,550,570,571,500,556,439,463,555,542,222,500,492,548,500,447,556,670,573,486,603,374,550,652,546,728,779,222,550,556,550,779,667,667,843,544,708,667,278,278,500,1066,982,844,589,715,639,724,667,651,667,544,704,667,917,614,715,715,589,686,833,722,778,725,667,722,611,639,795,667,727,673,920,923,805,886,651,694,1022,682,556,562,522,493,553,556,688,465,556,556,472,564,686,550,556,556,556,500,833,500,835,500,572,518,830,851,621,736,526,492,752,534,556,556,556,378,496,500,222,222,222,910,828,556,472,565,500,556,778,556,492,339,944,722,944,722,944,722,667,500,333,333,556,1e3,1e3,552,222,222,222,222,333,333,333,556,556,350,1e3,1e3,188,354,333,333,500,333,167,365,556,556,1094,556,885,323,1083,1e3,768,600,834,834,834,834,1e3,500,998,500,1e3,500,500,494,612,823,713,584,549,713,979,719,274,549,549,584,549,549,604,584,604,604,708,625,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,729,604,604,354,354,1e3,990,990,990,990,494,604,604,604,604,354,1021,1052,917,750,750,531,656,594,510,500,750,750,500,500,333,333,333,333,333,333,333,333,222,222,294,294,324,324,316,328,398,285];Et.LiberationSansItalicWidths=ht;const vt=[-1,-1,-1,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,96,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,123,124,125,126,161,162,163,164,165,166,167,168,169,170,171,172,174,175,176,177,178,179,180,181,182,183,184,185,186,187,188,189,190,191,192,193,194,195,196,197,198,199,200,201,202,203,204,205,206,207,208,209,210,211,212,213,214,215,216,217,218,219,220,221,222,223,224,225,226,227,228,229,230,231,232,233,234,235,236,237,238,239,240,241,242,243,244,245,246,247,248,249,250,251,252,253,254,255,256,257,258,259,260,261,262,263,264,265,266,267,268,269,270,271,272,273,274,275,276,277,278,279,280,281,282,283,284,285,286,287,288,289,290,291,292,293,294,295,296,297,298,299,300,301,302,303,304,305,306,307,308,309,310,311,312,313,314,315,316,317,318,319,320,321,322,323,324,325,326,327,328,329,330,331,332,333,334,335,336,337,338,339,340,341,342,343,344,345,346,347,348,349,350,351,352,353,354,355,356,357,358,359,360,361,362,363,364,365,366,367,368,369,370,371,372,373,374,375,376,377,378,379,380,381,382,383,402,506,507,508,509,510,511,536,537,538,539,710,711,713,728,729,730,731,732,733,900,901,902,903,904,905,906,908,910,911,912,913,914,915,916,917,918,919,920,921,922,923,924,925,926,927,928,929,931,932,933,934,935,936,937,938,939,940,941,942,943,944,945,946,947,948,949,950,951,952,953,954,955,956,957,958,959,960,961,962,963,964,965,966,967,968,969,970,971,972,973,974,1024,1025,1026,1027,1028,1029,1030,1031,1032,1033,1034,1035,1036,1037,1038,1039,1040,1041,1042,1043,1044,1045,1046,1047,1048,1049,1050,1051,1052,1053,1054,1055,1056,1057,1058,1059,1060,1061,1062,1063,1064,1065,1066,1067,1068,1069,1070,1071,1072,1073,1074,1075,1076,1077,1078,1079,1080,1081,1082,1083,1084,1085,1086,1087,1088,1089,1090,1091,1092,1093,1094,1095,1096,1097,1098,1099,1100,1101,1102,1103,1104,1105,1106,1107,1108,1109,1110,1111,1112,1113,1114,1115,1116,1117,1118,1119,1138,1139,1168,1169,7808,7809,7810,7811,7812,7813,7922,7923,8208,8209,8211,8212,8213,8215,8216,8217,8218,8219,8220,8221,8222,8224,8225,8226,8230,8240,8242,8243,8249,8250,8252,8254,8260,8319,8355,8356,8359,8364,8453,8467,8470,8482,8486,8494,8539,8540,8541,8542,8592,8593,8594,8595,8596,8597,8616,8706,8710,8719,8721,8722,8730,8734,8735,8745,8747,8776,8800,8801,8804,8805,8962,8976,8992,8993,9472,9474,9484,9488,9492,9496,9500,9508,9516,9524,9532,9552,9553,9554,9555,9556,9557,9558,9559,9560,9561,9562,9563,9564,9565,9566,9567,9568,9569,9570,9571,9572,9573,9574,9575,9576,9577,9578,9579,9580,9600,9604,9608,9612,9616,9617,9618,9619,9632,9633,9642,9643,9644,9650,9658,9660,9668,9674,9675,9679,9688,9689,9702,9786,9787,9788,9792,9794,9824,9827,9829,9830,9834,9835,9836,61441,61442,61445,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1];Et.LiberationSansItalicMapping=vt;const Ft=[365,0,333,278,278,355,556,556,889,667,191,333,333,389,584,278,333,278,278,556,556,556,556,556,556,556,556,556,556,278,278,584,584,584,556,1015,667,667,722,722,667,611,778,722,278,500,667,556,833,722,778,667,778,722,667,611,722,667,944,667,667,611,278,278,278,469,556,333,556,556,500,556,556,278,556,556,222,222,500,222,833,556,556,556,556,333,500,278,556,500,722,500,500,500,334,260,334,584,333,556,556,556,556,260,556,333,737,370,556,584,737,552,400,549,333,333,333,576,537,278,333,333,365,556,834,834,834,611,667,667,667,667,667,667,1e3,722,667,667,667,667,278,278,278,278,722,722,778,778,778,778,778,584,778,722,722,722,722,667,667,611,556,556,556,556,556,556,889,500,556,556,556,556,278,278,278,278,556,556,556,556,556,556,556,549,611,556,556,556,556,500,556,500,667,556,667,556,667,556,722,500,722,500,722,500,722,500,722,615,722,556,667,556,667,556,667,556,667,556,667,556,778,556,778,556,778,556,778,556,722,556,722,556,278,278,278,278,278,278,278,222,278,278,735,444,500,222,667,500,500,556,222,556,222,556,292,556,334,556,222,722,556,722,556,722,556,604,723,556,778,556,778,556,778,556,1e3,944,722,333,722,333,722,333,667,500,667,500,667,500,667,500,611,278,611,375,611,278,722,556,722,556,722,556,722,556,722,556,722,556,944,722,667,500,667,611,500,611,500,611,500,222,556,667,556,1e3,889,778,611,667,500,611,278,333,333,333,333,333,333,333,333,333,333,333,667,278,784,838,384,774,855,752,222,667,667,551,668,667,611,722,778,278,667,668,833,722,650,778,722,667,618,611,667,798,667,835,748,278,667,578,446,556,222,547,578,575,500,557,446,441,556,556,222,500,500,576,500,448,556,690,569,482,617,395,547,648,525,713,781,222,547,556,547,781,667,667,865,542,719,667,278,278,500,1057,1010,854,583,722,635,719,667,656,667,542,677,667,923,604,719,719,583,656,833,722,778,719,667,722,611,635,760,667,740,667,917,938,792,885,656,719,1010,722,556,573,531,365,583,556,669,458,559,559,438,583,688,552,556,542,556,500,458,500,823,500,573,521,802,823,625,719,521,510,750,542,556,556,556,365,510,500,222,278,222,906,812,556,438,559,500,552,778,556,489,411,944,722,944,722,944,722,667,500,333,333,556,1e3,1e3,552,222,222,222,222,333,333,333,556,556,350,1e3,1e3,188,354,333,333,500,333,167,365,556,556,1094,556,885,323,1073,1e3,768,600,834,834,834,834,1e3,500,1e3,500,1e3,500,500,494,612,823,713,584,549,713,979,719,274,549,549,583,549,549,604,584,604,604,708,625,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,729,604,604,354,354,1e3,990,990,990,990,494,604,604,604,604,354,1021,1052,917,750,750,531,656,594,510,500,750,750,500,500,333,333,333,333,333,333,333,333,222,222,294,294,324,324,316,328,398,285];Et.LiberationSansRegularWidths=Ft;const Vt=[-1,-1,-1,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,96,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,123,124,125,126,161,162,163,164,165,166,167,168,169,170,171,172,174,175,176,177,178,179,180,181,182,183,184,185,186,187,188,189,190,191,192,193,194,195,196,197,198,199,200,201,202,203,204,205,206,207,208,209,210,211,212,213,214,215,216,217,218,219,220,221,222,223,224,225,226,227,228,229,230,231,232,233,234,235,236,237,238,239,240,241,242,243,244,245,246,247,248,249,250,251,252,253,254,255,256,257,258,259,260,261,262,263,264,265,266,267,268,269,270,271,272,273,274,275,276,277,278,279,280,281,282,283,284,285,286,287,288,289,290,291,292,293,294,295,296,297,298,299,300,301,302,303,304,305,306,307,308,309,310,311,312,313,314,315,316,317,318,319,320,321,322,323,324,325,326,327,328,329,330,331,332,333,334,335,336,337,338,339,340,341,342,343,344,345,346,347,348,349,350,351,352,353,354,355,356,357,358,359,360,361,362,363,364,365,366,367,368,369,370,371,372,373,374,375,376,377,378,379,380,381,382,383,402,506,507,508,509,510,511,536,537,538,539,710,711,713,728,729,730,731,732,733,900,901,902,903,904,905,906,908,910,911,912,913,914,915,916,917,918,919,920,921,922,923,924,925,926,927,928,929,931,932,933,934,935,936,937,938,939,940,941,942,943,944,945,946,947,948,949,950,951,952,953,954,955,956,957,958,959,960,961,962,963,964,965,966,967,968,969,970,971,972,973,974,1024,1025,1026,1027,1028,1029,1030,1031,1032,1033,1034,1035,1036,1037,1038,1039,1040,1041,1042,1043,1044,1045,1046,1047,1048,1049,1050,1051,1052,1053,1054,1055,1056,1057,1058,1059,1060,1061,1062,1063,1064,1065,1066,1067,1068,1069,1070,1071,1072,1073,1074,1075,1076,1077,1078,1079,1080,1081,1082,1083,1084,1085,1086,1087,1088,1089,1090,1091,1092,1093,1094,1095,1096,1097,1098,1099,1100,1101,1102,1103,1104,1105,1106,1107,1108,1109,1110,1111,1112,1113,1114,1115,1116,1117,1118,1119,1138,1139,1168,1169,7808,7809,7810,7811,7812,7813,7922,7923,8208,8209,8211,8212,8213,8215,8216,8217,8218,8219,8220,8221,8222,8224,8225,8226,8230,8240,8242,8243,8249,8250,8252,8254,8260,8319,8355,8356,8359,8364,8453,8467,8470,8482,8486,8494,8539,8540,8541,8542,8592,8593,8594,8595,8596,8597,8616,8706,8710,8719,8721,8722,8730,8734,8735,8745,8747,8776,8800,8801,8804,8805,8962,8976,8992,8993,9472,9474,9484,9488,9492,9496,9500,9508,9516,9524,9532,9552,9553,9554,9555,9556,9557,9558,9559,9560,9561,9562,9563,9564,9565,9566,9567,9568,9569,9570,9571,9572,9573,9574,9575,9576,9577,9578,9579,9580,9600,9604,9608,9612,9616,9617,9618,9619,9632,9633,9642,9643,9644,9650,9658,9660,9668,9674,9675,9679,9688,9689,9702,9786,9787,9788,9792,9794,9824,9827,9829,9830,9834,9835,9836,61441,61442,61445,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1];Et.LiberationSansRegularMapping=Vt},(Ct,Et)=>{Object.defineProperty(Et,"__esModule",{value:!0}),Et.MyriadProRegularMetrics=Et.MyriadProRegularFactors=Et.MyriadProItalicMetrics=Et.MyriadProItalicFactors=Et.MyriadProBoldMetrics=Et.MyriadProBoldItalicMetrics=Et.MyriadProBoldItalicFactors=Et.MyriadProBoldFactors=void 0;const Pt=[1.36898,1,1,.72706,.80479,.83734,.98894,.99793,.9897,.93884,.86209,.94292,.94292,1.16661,1.02058,.93582,.96694,.93582,1.19137,.99793,.99793,.99793,.99793,.99793,.99793,.99793,.99793,.99793,.99793,.78076,.78076,1.02058,1.02058,1.02058,.72851,.78966,.90838,.83637,.82391,.96376,.80061,.86275,.8768,.95407,1.0258,.73901,.85022,.83655,1.0156,.95546,.92179,.87107,.92179,.82114,.8096,.89713,.94438,.95353,.94083,.91905,.90406,.9446,.94292,1.18777,.94292,1.02058,.89903,.90088,.94938,.97898,.81093,.97571,.94938,1.024,.9577,.95933,.98621,1.0474,.97455,.98981,.9672,.95933,.9446,.97898,.97407,.97646,.78036,1.10208,.95442,.95298,.97579,.9332,.94039,.938,.80687,1.01149,.80687,1.02058,.80479,.99793,.99793,.99793,.99793,1.01149,1.00872,.90088,.91882,1.0213,.8361,1.02058,.62295,.54324,.89022,1.08595,1,1,.90088,1,.97455,.93582,.90088,1,1.05686,.8361,.99642,.99642,.99642,.72851,.90838,.90838,.90838,.90838,.90838,.90838,.868,.82391,.80061,.80061,.80061,.80061,1.0258,1.0258,1.0258,1.0258,.97484,.95546,.92179,.92179,.92179,.92179,.92179,1.02058,.92179,.94438,.94438,.94438,.94438,.90406,.86958,.98225,.94938,.94938,.94938,.94938,.94938,.94938,.9031,.81093,.94938,.94938,.94938,.94938,.98621,.98621,.98621,.98621,.93969,.95933,.9446,.9446,.9446,.9446,.9446,1.08595,.9446,.95442,.95442,.95442,.95442,.94039,.97898,.94039,.90838,.94938,.90838,.94938,.90838,.94938,.82391,.81093,.82391,.81093,.82391,.81093,.82391,.81093,.96376,.84313,.97484,.97571,.80061,.94938,.80061,.94938,.80061,.94938,.80061,.94938,.80061,.94938,.8768,.9577,.8768,.9577,.8768,.9577,1,1,.95407,.95933,.97069,.95933,1.0258,.98621,1.0258,.98621,1.0258,.98621,1.0258,.98621,1.0258,.98621,.887,1.01591,.73901,1.0474,1,1,.97455,.83655,.98981,1,1,.83655,.73977,.83655,.73903,.84638,1.033,.95546,.95933,1,1,.95546,.95933,.8271,.95417,.95933,.92179,.9446,.92179,.9446,.92179,.9446,.936,.91964,.82114,.97646,1,1,.82114,.97646,.8096,.78036,.8096,.78036,1,1,.8096,.78036,1,1,.89713,.77452,.89713,1.10208,.94438,.95442,.94438,.95442,.94438,.95442,.94438,.95442,.94438,.95442,.94438,.95442,.94083,.97579,.90406,.94039,.90406,.9446,.938,.9446,.938,.9446,.938,1,.99793,.90838,.94938,.868,.9031,.92179,.9446,1,1,.89713,1.10208,.90088,.90088,.90088,.90088,.90088,.90088,.90088,.90088,.90088,.90989,.9358,.91945,.83181,.75261,.87992,.82976,.96034,.83689,.97268,1.0078,.90838,.83637,.8019,.90157,.80061,.9446,.95407,.92436,1.0258,.85022,.97153,1.0156,.95546,.89192,.92179,.92361,.87107,.96318,.89713,.93704,.95638,.91905,.91709,.92796,1.0258,.93704,.94836,1.0373,.95933,1.0078,.95871,.94836,.96174,.92601,.9498,.98607,.95776,.95933,1.05453,1.0078,.98275,.9314,.95617,.91701,1.05993,.9446,.78367,.9553,1,.86832,1.0128,.95871,.99394,.87548,.96361,.86774,1.0078,.95871,.9446,.95871,.86774,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,.94083,.97579,.94083,.97579,.94083,.97579,.90406,.94039,.96694,1,.89903,1,1,1,.93582,.93582,.93582,1,.908,.908,.918,.94219,.94219,.96544,1,1.285,1,1,.81079,.81079,1,1,.74854,1,1,1,1,.99793,1,1,1,.65,1,1.36145,1,1,1,1,1,1,1,1,1,1,1,1.17173,1,.80535,.76169,1.02058,1.0732,1.05486,1,1,1.30692,1.08595,1.08595,1,1.08595,1.08595,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1.16161,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1];Et.MyriadProBoldFactors=Pt;const wt={lineHeight:1.2,lineGap:.2};Et.MyriadProBoldMetrics=wt;const kt=[1.36898,1,1,.66227,.80779,.81625,.97276,.97276,.97733,.92222,.83266,.94292,.94292,1.16148,1.02058,.93582,.96694,.93582,1.17337,.97276,.97276,.97276,.97276,.97276,.97276,.97276,.97276,.97276,.97276,.78076,.78076,1.02058,1.02058,1.02058,.71541,.76813,.85576,.80591,.80729,.94299,.77512,.83655,.86523,.92222,.98621,.71743,.81698,.79726,.98558,.92222,.90637,.83809,.90637,.80729,.76463,.86275,.90699,.91605,.9154,.85308,.85458,.90531,.94292,1.21296,.94292,1.02058,.89903,1.18616,.99613,.91677,.78216,.91677,.90083,.98796,.9135,.92168,.95381,.98981,.95298,.95381,.93459,.92168,.91513,.92004,.91677,.95077,.748,1.04502,.91677,.92061,.94236,.89544,.89364,.9,.80687,.8578,.80687,1.02058,.80779,.97276,.97276,.97276,.97276,.8578,.99973,1.18616,.91339,1.08074,.82891,1.02058,.55509,.71526,.89022,1.08595,1,1,1.18616,1,.96736,.93582,1.18616,1,1.04864,.82711,.99043,.99043,.99043,.71541,.85576,.85576,.85576,.85576,.85576,.85576,.845,.80729,.77512,.77512,.77512,.77512,.98621,.98621,.98621,.98621,.95961,.92222,.90637,.90637,.90637,.90637,.90637,1.02058,.90251,.90699,.90699,.90699,.90699,.85458,.83659,.94951,.99613,.99613,.99613,.99613,.99613,.99613,.85811,.78216,.90083,.90083,.90083,.90083,.95381,.95381,.95381,.95381,.9135,.92168,.91513,.91513,.91513,.91513,.91513,1.08595,.91677,.91677,.91677,.91677,.91677,.89364,.92332,.89364,.85576,.99613,.85576,.99613,.85576,.99613,.80729,.78216,.80729,.78216,.80729,.78216,.80729,.78216,.94299,.76783,.95961,.91677,.77512,.90083,.77512,.90083,.77512,.90083,.77512,.90083,.77512,.90083,.86523,.9135,.86523,.9135,.86523,.9135,1,1,.92222,.92168,.92222,.92168,.98621,.95381,.98621,.95381,.98621,.95381,.98621,.95381,.98621,.95381,.86036,.97096,.71743,.98981,1,1,.95298,.79726,.95381,1,1,.79726,.6894,.79726,.74321,.81691,1.0006,.92222,.92168,1,1,.92222,.92168,.79464,.92098,.92168,.90637,.91513,.90637,.91513,.90637,.91513,.909,.87514,.80729,.95077,1,1,.80729,.95077,.76463,.748,.76463,.748,1,1,.76463,.748,1,1,.86275,.72651,.86275,1.04502,.90699,.91677,.90699,.91677,.90699,.91677,.90699,.91677,.90699,.91677,.90699,.91677,.9154,.94236,.85458,.89364,.85458,.90531,.9,.90531,.9,.90531,.9,1,.97276,.85576,.99613,.845,.85811,.90251,.91677,1,1,.86275,1.04502,1.18616,1.18616,1.18616,1.18616,1.18616,1.18616,1.18616,1.18616,1.18616,1.00899,1.30628,.85576,.80178,.66862,.7927,.69323,.88127,.72459,.89711,.95381,.85576,.80591,.7805,.94729,.77512,.90531,.92222,.90637,.98621,.81698,.92655,.98558,.92222,.85359,.90637,.90976,.83809,.94523,.86275,.83509,.93157,.85308,.83392,.92346,.98621,.83509,.92886,.91324,.92168,.95381,.90646,.92886,.90557,.86847,.90276,.91324,.86842,.92168,.99531,.95381,.9224,.85408,.92699,.86847,1.0051,.91513,.80487,.93481,1,.88159,1.05214,.90646,.97355,.81539,.89398,.85923,.95381,.90646,.91513,.90646,.85923,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,.9154,.94236,.9154,.94236,.9154,.94236,.85458,.89364,.96694,1,.89903,1,1,1,.91782,.91782,.91782,1,.896,.896,.896,.9332,.9332,.95973,1,1.26,1,1,.80479,.80178,1,1,.85633,1,1,1,1,.97276,1,1,1,.698,1,1.36145,1,1,1,1,1,1,1,1,1,1,1,1.14542,1,.79199,.78694,1.02058,1.03493,1.05486,1,1,1.23026,1.08595,1.08595,1,1.08595,1.08595,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1.20006,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1];Et.MyriadProBoldItalicFactors=kt;const _t={lineHeight:1.2,lineGap:.2};Et.MyriadProBoldItalicMetrics=_t;const ht=[1.36898,1,1,.65507,.84943,.85639,.88465,.88465,.86936,.88307,.86948,.85283,.85283,1.06383,1.02058,.75945,.9219,.75945,1.17337,.88465,.88465,.88465,.88465,.88465,.88465,.88465,.88465,.88465,.88465,.75945,.75945,1.02058,1.02058,1.02058,.69046,.70926,.85158,.77812,.76852,.89591,.70466,.76125,.80094,.86822,.83864,.728,.77212,.79475,.93637,.87514,.8588,.76013,.8588,.72421,.69866,.77598,.85991,.80811,.87832,.78112,.77512,.8562,1.0222,1.18417,1.0222,1.27014,.89903,1.15012,.93859,.94399,.846,.94399,.81453,1.0186,.94219,.96017,1.03075,1.02175,.912,1.03075,.96998,.96017,.93859,.94399,.94399,.95493,.746,1.12658,.94578,.91,.979,.882,.882,.83,.85034,.83537,.85034,1.02058,.70869,.88465,.88465,.88465,.88465,.83537,.90083,1.15012,.9161,.94565,.73541,1.02058,.53609,.69353,.79519,1.08595,1,1,1.15012,1,.91974,.75945,1.15012,1,.9446,.73361,.9005,.9005,.9005,.62864,.85158,.85158,.85158,.85158,.85158,.85158,.773,.76852,.70466,.70466,.70466,.70466,.83864,.83864,.83864,.83864,.90561,.87514,.8588,.8588,.8588,.8588,.8588,1.02058,.85751,.85991,.85991,.85991,.85991,.77512,.76013,.88075,.93859,.93859,.93859,.93859,.93859,.93859,.8075,.846,.81453,.81453,.81453,.81453,.82424,.82424,.82424,.82424,.9278,.96017,.93859,.93859,.93859,.93859,.93859,1.08595,.8562,.94578,.94578,.94578,.94578,.882,.94578,.882,.85158,.93859,.85158,.93859,.85158,.93859,.76852,.846,.76852,.846,.76852,.846,.76852,.846,.89591,.8544,.90561,.94399,.70466,.81453,.70466,.81453,.70466,.81453,.70466,.81453,.70466,.81453,.80094,.94219,.80094,.94219,.80094,.94219,1,1,.86822,.96017,.86822,.96017,.83864,.82424,.83864,.82424,.83864,.82424,.83864,1.03075,.83864,.82424,.81402,1.02738,.728,1.02175,1,1,.912,.79475,1.03075,1,1,.79475,.83911,.79475,.66266,.80553,1.06676,.87514,.96017,1,1,.87514,.96017,.86865,.87396,.96017,.8588,.93859,.8588,.93859,.8588,.93859,.867,.84759,.72421,.95493,1,1,.72421,.95493,.69866,.746,.69866,.746,1,1,.69866,.746,1,1,.77598,.88417,.77598,1.12658,.85991,.94578,.85991,.94578,.85991,.94578,.85991,.94578,.85991,.94578,.85991,.94578,.87832,.979,.77512,.882,.77512,.8562,.83,.8562,.83,.8562,.83,1,.88465,.85158,.93859,.773,.8075,.85751,.8562,1,1,.77598,1.12658,1.15012,1.15012,1.15012,1.15012,1.15012,1.15313,1.15012,1.15012,1.15012,1.08106,1.03901,.85158,.77025,.62264,.7646,.65351,.86026,.69461,.89947,1.03075,.85158,.77812,.76449,.88836,.70466,.8562,.86822,.8588,.83864,.77212,.85308,.93637,.87514,.82352,.8588,.85701,.76013,.89058,.77598,.8156,.82565,.78112,.77899,.89386,.83864,.8156,.9486,.92388,.96186,1.03075,.91123,.9486,.93298,.878,.93942,.92388,.84596,.96186,.95119,1.03075,.922,.88787,.95829,.88,.93559,.93859,.78815,.93758,1,.89217,1.03737,.91123,.93969,.77487,.85769,.86799,1.03075,.91123,.93859,.91123,.86799,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,.87832,.979,.87832,.979,.87832,.979,.77512,.882,.9219,1,.89903,1,1,1,.87321,.87321,.87321,1,1.027,1.027,1.027,.86847,.86847,.79121,1,1.124,1,1,.73572,.73572,1,1,.85034,1,1,1,1,.88465,1,1,1,.669,1,1.36145,1,1,1,1,1,1,1,1,1,1,1,1.04828,1,.74948,.75187,1.02058,.98391,1.02119,1,1,1.06233,1.08595,1.08595,1,1.08595,1.08595,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1.05233,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1];Et.MyriadProItalicFactors=ht;const vt={lineHeight:1.2,lineGap:.2};Et.MyriadProItalicMetrics=vt;const Ft=[1.36898,1,1,.76305,.82784,.94935,.89364,.92241,.89073,.90706,.98472,.85283,.85283,1.0664,1.02058,.74505,.9219,.74505,1.23456,.92241,.92241,.92241,.92241,.92241,.92241,.92241,.92241,.92241,.92241,.74505,.74505,1.02058,1.02058,1.02058,.73002,.72601,.91755,.8126,.80314,.92222,.73764,.79726,.83051,.90284,.86023,.74,.8126,.84869,.96518,.91115,.8858,.79761,.8858,.74498,.73914,.81363,.89591,.83659,.89633,.85608,.8111,.90531,1.0222,1.22736,1.0222,1.27014,.89903,.90088,.86667,1.0231,.896,1.01411,.90083,1.05099,1.00512,.99793,1.05326,1.09377,.938,1.06226,1.00119,.99793,.98714,1.0231,1.01231,.98196,.792,1.19137,.99074,.962,1.01915,.926,.942,.856,.85034,.92006,.85034,1.02058,.69067,.92241,.92241,.92241,.92241,.92006,.9332,.90088,.91882,.93484,.75339,1.02058,.56866,.54324,.79519,1.08595,1,1,.90088,1,.95325,.74505,.90088,1,.97198,.75339,.91009,.91009,.91009,.66466,.91755,.91755,.91755,.91755,.91755,.91755,.788,.80314,.73764,.73764,.73764,.73764,.86023,.86023,.86023,.86023,.92915,.91115,.8858,.8858,.8858,.8858,.8858,1.02058,.8858,.89591,.89591,.89591,.89591,.8111,.79611,.89713,.86667,.86667,.86667,.86667,.86667,.86667,.86936,.896,.90083,.90083,.90083,.90083,.84224,.84224,.84224,.84224,.97276,.99793,.98714,.98714,.98714,.98714,.98714,1.08595,.89876,.99074,.99074,.99074,.99074,.942,1.0231,.942,.91755,.86667,.91755,.86667,.91755,.86667,.80314,.896,.80314,.896,.80314,.896,.80314,.896,.92222,.93372,.92915,1.01411,.73764,.90083,.73764,.90083,.73764,.90083,.73764,.90083,.73764,.90083,.83051,1.00512,.83051,1.00512,.83051,1.00512,1,1,.90284,.99793,.90976,.99793,.86023,.84224,.86023,.84224,.86023,.84224,.86023,1.05326,.86023,.84224,.82873,1.07469,.74,1.09377,1,1,.938,.84869,1.06226,1,1,.84869,.83704,.84869,.81441,.85588,1.08927,.91115,.99793,1,1,.91115,.99793,.91887,.90991,.99793,.8858,.98714,.8858,.98714,.8858,.98714,.894,.91434,.74498,.98196,1,1,.74498,.98196,.73914,.792,.73914,.792,1,1,.73914,.792,1,1,.81363,.904,.81363,1.19137,.89591,.99074,.89591,.99074,.89591,.99074,.89591,.99074,.89591,.99074,.89591,.99074,.89633,1.01915,.8111,.942,.8111,.90531,.856,.90531,.856,.90531,.856,1,.92241,.91755,.86667,.788,.86936,.8858,.89876,1,1,.81363,1.19137,.90088,.90088,.90088,.90088,.90088,.90088,.90088,.90088,.90088,.90388,1.03901,.92138,.78105,.7154,.86169,.80513,.94007,.82528,.98612,1.06226,.91755,.8126,.81884,.92819,.73764,.90531,.90284,.8858,.86023,.8126,.91172,.96518,.91115,.83089,.8858,.87791,.79761,.89297,.81363,.88157,.89992,.85608,.81992,.94307,.86023,.88157,.95308,.98699,.99793,1.06226,.95817,.95308,.97358,.928,.98088,.98699,.92761,.99793,.96017,1.06226,.986,.944,.95978,.938,.96705,.98714,.80442,.98972,1,.89762,1.04552,.95817,.99007,.87064,.91879,.88888,1.06226,.95817,.98714,.95817,.88888,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,.89633,1.01915,.89633,1.01915,.89633,1.01915,.8111,.942,.9219,1,.89903,1,1,1,.93173,.93173,.93173,1,1.06304,1.06304,1.06904,.89903,.89903,.80549,1,1.156,1,1,.76575,.76575,1,1,.72458,1,1,1,1,.92241,1,1,1,.619,1,1.36145,1,1,1,1,1,1,1,1,1,1,1,1.07257,1,.74705,.71119,1.02058,1.024,1.02119,1,1,1.1536,1.08595,1.08595,1,1.08595,1.08595,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1.05638,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1];Et.MyriadProRegularFactors=Ft;const Vt={lineHeight:1.2,lineGap:.2};Et.MyriadProRegularMetrics=Vt},(Ct,Et)=>{Object.defineProperty(Et,"__esModule",{value:!0}),Et.SegoeuiRegularMetrics=Et.SegoeuiRegularFactors=Et.SegoeuiItalicMetrics=Et.SegoeuiItalicFactors=Et.SegoeuiBoldMetrics=Et.SegoeuiBoldItalicMetrics=Et.SegoeuiBoldItalicFactors=Et.SegoeuiBoldFactors=void 0;const Pt=[1.76738,1,1,.99297,.9824,1.04016,1.06497,1.03424,.97529,1.17647,1.23203,1.1085,1.1085,1.16939,1.2107,.9754,1.21408,.9754,1.59578,1.03424,1.03424,1.03424,1.03424,1.03424,1.03424,1.03424,1.03424,1.03424,1.03424,.81378,.81378,1.2107,1.2107,1.2107,.71703,.97847,.97363,.88776,.8641,1.02096,.79795,.85132,.914,1.06085,1.1406,.8007,.89858,.83693,1.14889,1.09398,.97489,.92094,.97489,.90399,.84041,.95923,1.00135,1,1.06467,.98243,.90996,.99361,1.1085,1.56942,1.1085,1.2107,.74627,.94282,.96752,1.01519,.86304,1.01359,.97278,1.15103,1.01359,.98561,1.02285,1.02285,1.00527,1.02285,1.0302,.99041,1.0008,1.01519,1.01359,1.02258,.79104,1.16862,.99041,.97454,1.02511,.99298,.96752,.95801,.94856,1.16579,.94856,1.2107,.9824,1.03424,1.03424,1,1.03424,1.16579,.8727,1.3871,1.18622,1.10818,1.04478,1.2107,1.18622,.75155,.94994,1.28826,1.21408,1.21408,.91056,1,.91572,.9754,.64663,1.18328,1.24866,1.04478,1.14169,1.15749,1.17389,.71703,.97363,.97363,.97363,.97363,.97363,.97363,.93506,.8641,.79795,.79795,.79795,.79795,1.1406,1.1406,1.1406,1.1406,1.02096,1.09398,.97426,.97426,.97426,.97426,.97426,1.2107,.97489,1.00135,1.00135,1.00135,1.00135,.90996,.92094,1.02798,.96752,.96752,.96752,.96752,.96752,.96752,.93136,.86304,.97278,.97278,.97278,.97278,1.02285,1.02285,1.02285,1.02285,.97122,.99041,1,1,1,1,1,1.28826,1.0008,.99041,.99041,.99041,.99041,.96752,1.01519,.96752,.97363,.96752,.97363,.96752,.97363,.96752,.8641,.86304,.8641,.86304,.8641,.86304,.8641,.86304,1.02096,1.03057,1.02096,1.03517,.79795,.97278,.79795,.97278,.79795,.97278,.79795,.97278,.79795,.97278,.914,1.01359,.914,1.01359,.914,1.01359,1,1,1.06085,.98561,1.06085,1.00879,1.1406,1.02285,1.1406,1.02285,1.1406,1.02285,1.1406,1.02285,1.1406,1.02285,.97138,1.08692,.8007,1.02285,1,1,1.00527,.83693,1.02285,1,1,.83693,.9455,.83693,.90418,.83693,1.13005,1.09398,.99041,1,1,1.09398,.99041,.96692,1.09251,.99041,.97489,1.0008,.97489,1.0008,.97489,1.0008,.93994,.97931,.90399,1.02258,1,1,.90399,1.02258,.84041,.79104,.84041,.79104,.84041,.79104,.84041,.79104,1,1,.95923,1.07034,.95923,1.16862,1.00135,.99041,1.00135,.99041,1.00135,.99041,1.00135,.99041,1.00135,.99041,1.00135,.99041,1.06467,1.02511,.90996,.96752,.90996,.99361,.95801,.99361,.95801,.99361,.95801,1.07733,1.03424,.97363,.96752,.93506,.93136,.97489,1.0008,1,1,.95923,1.16862,1.15103,1.15103,1.01173,1.03959,.75953,.81378,.79912,1.15103,1.21994,.95161,.87815,1.01149,.81525,.7676,.98167,1.01134,1.02546,.84097,1.03089,1.18102,.97363,.88776,.85134,.97826,.79795,.99361,1.06085,.97489,1.1406,.89858,1.0388,1.14889,1.09398,.86039,.97489,1.0595,.92094,.94793,.95923,.90996,.99346,.98243,1.02112,.95493,1.1406,.90996,1.03574,1.02597,1.0008,1.18102,1.06628,1.03574,1.0192,1.01932,1.00886,.97531,1.0106,1.0008,1.13189,1.18102,1.02277,.98683,1.0016,.99561,1.07237,1.0008,.90434,.99921,.93803,.8965,1.23085,1.06628,1.04983,.96268,1.0499,.98439,1.18102,1.06628,1.0008,1.06628,.98439,.79795,1,1,1,1,1,1,1,1,1,1,1,1,1.09466,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,.97278,1,1,1,1,1,1,1,1,1,1,1,1,1.02065,1,1,1,1,1,1,1.06467,1.02511,1.06467,1.02511,1.06467,1.02511,.90996,.96752,1,1.21408,.89903,1,1,.75155,1.04394,1.04394,1.04394,1.04394,.98633,.98633,.98633,.73047,.73047,1.20642,.91211,1.25635,1.222,1.02956,1.03372,1.03372,.96039,1.24633,1,1.12454,.93503,1.03424,1.19687,1.03424,1,1,1,.771,1,1,1.15749,1.15749,1.15749,1.10948,.86279,.94434,.86279,.94434,.86182,1,1,1.16897,1,.96085,.90137,1.2107,1.18416,1.13973,.69825,.9716,2.10339,1.29004,1.29004,1.21172,1.29004,1.29004,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1.42603,1,.99862,.99862,1,.87025,.87025,.87025,.87025,1.18874,1.42603,1,1.42603,1.42603,.99862,1,1,1,1,1,1.2886,1.04315,1.15296,1.34163,1,1,1,1.09193,1.09193,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1];Et.SegoeuiBoldFactors=Pt;const wt={lineHeight:1.33008,lineGap:0};Et.SegoeuiBoldMetrics=wt;const kt=[1.76738,1,1,.98946,1.03959,1.04016,1.02809,1.036,.97639,1.10953,1.23203,1.11144,1.11144,1.16939,1.21237,.9754,1.21261,.9754,1.59754,1.036,1.036,1.036,1.036,1.036,1.036,1.036,1.036,1.036,1.036,.81378,.81378,1.21237,1.21237,1.21237,.73541,.97847,.97363,.89723,.87897,1.0426,.79429,.85292,.91149,1.05815,1.1406,.79631,.90128,.83853,1.04396,1.10615,.97552,.94436,.97552,.88641,.80527,.96083,1.00135,1,1.06777,.9817,.91142,.99361,1.11144,1.57293,1.11144,1.21237,.74627,1.31818,1.06585,.97042,.83055,.97042,.93503,1.1261,.97042,.97922,1.14236,.94552,1.01054,1.14236,1.02471,.97922,.94165,.97042,.97042,1.0276,.78929,1.1261,.97922,.95874,1.02197,.98507,.96752,.97168,.95107,1.16579,.95107,1.21237,1.03959,1.036,1.036,1,1.036,1.16579,.87357,1.31818,1.18754,1.26781,1.05356,1.21237,1.18622,.79487,.94994,1.29004,1.24047,1.24047,1.31818,1,.91484,.9754,1.31818,1.1349,1.24866,1.05356,1.13934,1.15574,1.17389,.73541,.97363,.97363,.97363,.97363,.97363,.97363,.94385,.87897,.79429,.79429,.79429,.79429,1.1406,1.1406,1.1406,1.1406,1.0426,1.10615,.97552,.97552,.97552,.97552,.97552,1.21237,.97552,1.00135,1.00135,1.00135,1.00135,.91142,.94436,.98721,1.06585,1.06585,1.06585,1.06585,1.06585,1.06585,.96705,.83055,.93503,.93503,.93503,.93503,1.14236,1.14236,1.14236,1.14236,.93125,.97922,.94165,.94165,.94165,.94165,.94165,1.29004,.94165,.97922,.97922,.97922,.97922,.96752,.97042,.96752,.97363,1.06585,.97363,1.06585,.97363,1.06585,.87897,.83055,.87897,.83055,.87897,.83055,.87897,.83055,1.0426,1.0033,1.0426,.97042,.79429,.93503,.79429,.93503,.79429,.93503,.79429,.93503,.79429,.93503,.91149,.97042,.91149,.97042,.91149,.97042,1,1,1.05815,.97922,1.05815,.97922,1.1406,1.14236,1.1406,1.14236,1.1406,1.14236,1.1406,1.14236,1.1406,1.14236,.97441,1.04302,.79631,1.01582,1,1,1.01054,.83853,1.14236,1,1,.83853,1.09125,.83853,.90418,.83853,1.19508,1.10615,.97922,1,1,1.10615,.97922,1.01034,1.10466,.97922,.97552,.94165,.97552,.94165,.97552,.94165,.91602,.91981,.88641,1.0276,1,1,.88641,1.0276,.80527,.78929,.80527,.78929,.80527,.78929,.80527,.78929,1,1,.96083,1.05403,.95923,1.16862,1.00135,.97922,1.00135,.97922,1.00135,.97922,1.00135,.97922,1.00135,.97922,1.00135,.97922,1.06777,1.02197,.91142,.96752,.91142,.99361,.97168,.99361,.97168,.99361,.97168,1.23199,1.036,.97363,1.06585,.94385,.96705,.97552,.94165,1,1,.96083,1.1261,1.31818,1.31818,1.31818,1.31818,1.31818,1.31818,1.31818,1.31818,1.31818,.95161,1.27126,1.00811,.83284,.77702,.99137,.95253,1.0347,.86142,1.07205,1.14236,.97363,.89723,.86869,1.09818,.79429,.99361,1.05815,.97552,1.1406,.90128,1.06662,1.04396,1.10615,.84918,.97552,1.04694,.94436,.98015,.96083,.91142,1.00356,.9817,1.01945,.98999,1.1406,.91142,1.04961,.9898,1.00639,1.14236,1.07514,1.04961,.99607,1.02897,1.008,.9898,.95134,1.00639,1.11121,1.14236,1.00518,.97981,1.02186,1,1.08578,.94165,.99314,.98387,.93028,.93377,1.35125,1.07514,1.10687,.93491,1.04232,1.00351,1.14236,1.07514,.94165,1.07514,1.00351,.79429,1,1,1,1,1,1,1,1,1,1,1,1,1.09097,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,.93503,1,1,1,1,1,1,1,1,1,1,1,1,.96609,1,1,1,1,1,1,1.06777,1.02197,1.06777,1.02197,1.06777,1.02197,.91142,.96752,1,1.21261,.89903,1,1,.75155,1.04745,1.04745,1.04745,1.04394,.98633,.98633,.98633,.72959,.72959,1.20502,.91406,1.26514,1.222,1.02956,1.03372,1.03372,.96039,1.24633,1,1.09125,.93327,1.03336,1.16541,1.036,1,1,1,.771,1,1,1.15574,1.15574,1.15574,1.15574,.86364,.94434,.86279,.94434,.86224,1,1,1.16798,1,.96085,.90068,1.21237,1.18416,1.13904,.69825,.9716,2.10339,1.29004,1.29004,1.21339,1.29004,1.29004,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1.42603,1,.99862,.99862,1,.87025,.87025,.87025,.87025,1.18775,1.42603,1,1.42603,1.42603,.99862,1,1,1,1,1,1.2886,1.04315,1.15296,1.34163,1,1,1,1.13269,1.13269,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1];Et.SegoeuiBoldItalicFactors=kt;const _t={lineHeight:1.33008,lineGap:0};Et.SegoeuiBoldItalicMetrics=_t;const ht=[1.76738,1,1,.98946,1.14763,1.05365,1.06234,.96927,.92586,1.15373,1.18414,.91349,.91349,1.07403,1.17308,.78383,1.20088,.78383,1.42531,.96927,.96927,.96927,.96927,.96927,.96927,.96927,.96927,.96927,.96927,.78383,.78383,1.17308,1.17308,1.17308,.77349,.94565,.94729,.85944,.88506,.9858,.74817,.80016,.88449,.98039,.95782,.69238,.89898,.83231,.98183,1.03989,.96924,.86237,.96924,.80595,.74524,.86091,.95402,.94143,.98448,.8858,.83089,.93285,1.0949,1.39016,1.0949,1.45994,.74627,1.04839,.97454,.97454,.87207,.97454,.87533,1.06151,.97454,1.00176,1.16484,1.08132,.98047,1.16484,1.02989,1.01054,.96225,.97454,.97454,1.06598,.79004,1.16344,1.00351,.94629,.9973,.91016,.96777,.9043,.91082,.92481,.91082,1.17308,.95748,.96927,.96927,1,.96927,.92481,.80597,1.04839,1.23393,1.1781,.9245,1.17308,1.20808,.63218,.94261,1.24822,1.09971,1.09971,1.04839,1,.85273,.78032,1.04839,1.09971,1.22326,.9245,1.09836,1.13525,1.15222,.70424,.94729,.94729,.94729,.94729,.94729,.94729,.85498,.88506,.74817,.74817,.74817,.74817,.95782,.95782,.95782,.95782,.9858,1.03989,.96924,.96924,.96924,.96924,.96924,1.17308,.96924,.95402,.95402,.95402,.95402,.83089,.86237,.88409,.97454,.97454,.97454,.97454,.97454,.97454,.92916,.87207,.87533,.87533,.87533,.87533,.93146,.93146,.93146,.93146,.93854,1.01054,.96225,.96225,.96225,.96225,.96225,1.24822,.8761,1.00351,1.00351,1.00351,1.00351,.96777,.97454,.96777,.94729,.97454,.94729,.97454,.94729,.97454,.88506,.87207,.88506,.87207,.88506,.87207,.88506,.87207,.9858,.95391,.9858,.97454,.74817,.87533,.74817,.87533,.74817,.87533,.74817,.87533,.74817,.87533,.88449,.97454,.88449,.97454,.88449,.97454,1,1,.98039,1.00176,.98039,1.00176,.95782,.93146,.95782,.93146,.95782,.93146,.95782,1.16484,.95782,.93146,.84421,1.12761,.69238,1.08132,1,1,.98047,.83231,1.16484,1,1,.84723,1.04861,.84723,.78755,.83231,1.23736,1.03989,1.01054,1,1,1.03989,1.01054,.9857,1.03849,1.01054,.96924,.96225,.96924,.96225,.96924,.96225,.92383,.90171,.80595,1.06598,1,1,.80595,1.06598,.74524,.79004,.74524,.79004,.74524,.79004,.74524,.79004,1,1,.86091,1.02759,.85771,1.16344,.95402,1.00351,.95402,1.00351,.95402,1.00351,.95402,1.00351,.95402,1.00351,.95402,1.00351,.98448,.9973,.83089,.96777,.83089,.93285,.9043,.93285,.9043,.93285,.9043,1.31868,.96927,.94729,.97454,.85498,.92916,.96924,.8761,1,1,.86091,1.16344,1.04839,1.04839,1.04839,1.04839,1.04839,1.04839,1.04839,1.04839,1.04839,.81965,.81965,.94729,.78032,.71022,.90883,.84171,.99877,.77596,1.05734,1.2,.94729,.85944,.82791,.9607,.74817,.93285,.98039,.96924,.95782,.89898,.98316,.98183,1.03989,.78614,.96924,.97642,.86237,.86075,.86091,.83089,.90082,.8858,.97296,1.01284,.95782,.83089,1.0976,1.04,1.03342,1.2,1.0675,1.0976,.98205,1.03809,1.05097,1.04,.95364,1.03342,1.05401,1.2,1.02148,1.0119,1.04724,1.0127,1.02732,.96225,.8965,.97783,.93574,.94818,1.30679,1.0675,1.11826,.99821,1.0557,1.0326,1.2,1.0675,.96225,1.0675,1.0326,.74817,1,1,1,1,1,1,1,1,1,1,1,1,1.03754,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,.87533,1,1,1,1,1,1,1,1,1,1,1,1,.98705,1,1,1,1,1,1,.98448,.9973,.98448,.9973,.98448,.9973,.83089,.96777,1,1.20088,.89903,1,1,.75155,.94945,.94945,.94945,.94945,1.12317,1.12317,1.12317,.67603,.67603,1.15621,.73584,1.21191,1.22135,1.06483,.94868,.94868,.95996,1.24633,1,1.07497,.87709,.96927,1.01473,.96927,1,1,1,.77295,1,1,1.09836,1.09836,1.09836,1.01522,.86321,.94434,.8649,.94434,.86182,1,1,1.083,1,.91578,.86438,1.17308,1.18416,1.14589,.69825,.97622,1.96791,1.24822,1.24822,1.17308,1.24822,1.24822,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1.42603,1,.99862,.99862,1,.87025,.87025,.87025,.87025,1.17984,1.42603,1,1.42603,1.42603,.99862,1,1,1,1,1,1.2886,1.04315,1.15296,1.34163,1,1,1,1.10742,1.10742,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1];Et.SegoeuiItalicFactors=ht;const vt={lineHeight:1.33008,lineGap:0};Et.SegoeuiItalicMetrics=vt;const Ft=[1.76738,1,1,.98594,1.02285,1.10454,1.06234,.96927,.92037,1.19985,1.2046,.90616,.90616,1.07152,1.1714,.78032,1.20088,.78032,1.40246,.96927,.96927,.96927,.96927,.96927,.96927,.96927,.96927,.96927,.96927,.78032,.78032,1.1714,1.1714,1.1714,.80597,.94084,.96706,.85944,.85734,.97093,.75842,.79936,.88198,.9831,.95782,.71387,.86969,.84636,1.07796,1.03584,.96924,.83968,.96924,.82826,.79649,.85771,.95132,.93119,.98965,.88433,.8287,.93365,1.08612,1.3638,1.08612,1.45786,.74627,.80499,.91484,1.05707,.92383,1.05882,.9403,1.12654,1.05882,1.01756,1.09011,1.09011,.99414,1.09011,1.034,1.01756,1.05356,1.05707,1.05882,1.04399,.84863,1.21968,1.01756,.95801,1.00068,.91797,.96777,.9043,.90351,.92105,.90351,1.1714,.85337,.96927,.96927,.99912,.96927,.92105,.80597,1.2434,1.20808,1.05937,.90957,1.1714,1.20808,.75155,.94261,1.24644,1.09971,1.09971,.84751,1,.85273,.78032,.61584,1.05425,1.17914,.90957,1.08665,1.11593,1.14169,.73381,.96706,.96706,.96706,.96706,.96706,.96706,.86035,.85734,.75842,.75842,.75842,.75842,.95782,.95782,.95782,.95782,.97093,1.03584,.96924,.96924,.96924,.96924,.96924,1.1714,.96924,.95132,.95132,.95132,.95132,.8287,.83968,.89049,.91484,.91484,.91484,.91484,.91484,.91484,.93575,.92383,.9403,.9403,.9403,.9403,.8717,.8717,.8717,.8717,1.00527,1.01756,1.05356,1.05356,1.05356,1.05356,1.05356,1.24644,.95923,1.01756,1.01756,1.01756,1.01756,.96777,1.05707,.96777,.96706,.91484,.96706,.91484,.96706,.91484,.85734,.92383,.85734,.92383,.85734,.92383,.85734,.92383,.97093,1.0969,.97093,1.05882,.75842,.9403,.75842,.9403,.75842,.9403,.75842,.9403,.75842,.9403,.88198,1.05882,.88198,1.05882,.88198,1.05882,1,1,.9831,1.01756,.9831,1.01756,.95782,.8717,.95782,.8717,.95782,.8717,.95782,1.09011,.95782,.8717,.84784,1.11551,.71387,1.09011,1,1,.99414,.84636,1.09011,1,1,.84636,1.0536,.84636,.94298,.84636,1.23297,1.03584,1.01756,1,1,1.03584,1.01756,1.00323,1.03444,1.01756,.96924,1.05356,.96924,1.05356,.96924,1.05356,.93066,.98293,.82826,1.04399,1,1,.82826,1.04399,.79649,.84863,.79649,.84863,.79649,.84863,.79649,.84863,1,1,.85771,1.17318,.85771,1.21968,.95132,1.01756,.95132,1.01756,.95132,1.01756,.95132,1.01756,.95132,1.01756,.95132,1.01756,.98965,1.00068,.8287,.96777,.8287,.93365,.9043,.93365,.9043,.93365,.9043,1.08571,.96927,.96706,.91484,.86035,.93575,.96924,.95923,1,1,.85771,1.21968,1.11437,1.11437,.93109,.91202,.60411,.84164,.55572,1.01173,.97361,.81818,.81818,.96635,.78032,.72727,.92366,.98601,1.03405,.77968,1.09799,1.2,.96706,.85944,.85638,.96491,.75842,.93365,.9831,.96924,.95782,.86969,.94152,1.07796,1.03584,.78437,.96924,.98715,.83968,.83491,.85771,.8287,.94492,.88433,.9287,1.0098,.95782,.8287,1.0625,.98248,1.03424,1.2,1.01071,1.0625,.95246,1.03809,1.04912,.98248,1.00221,1.03424,1.05443,1.2,1.04785,.99609,1.00169,1.05176,.99346,1.05356,.9087,1.03004,.95542,.93117,1.23362,1.01071,1.07831,1.02512,1.05205,1.03502,1.2,1.01071,1.05356,1.01071,1.03502,.75842,1,1,1,1,1,1,1,1,1,1,1,1,1.03719,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,.9403,1,1,1,1,1,1,1,1,1,1,1,1,1.04021,1,1,1,1,1,1,.98965,1.00068,.98965,1.00068,.98965,1.00068,.8287,.96777,1,1.20088,.89903,1,1,.75155,1.03077,1.03077,1.03077,1.03077,1.13196,1.13196,1.13196,.67428,.67428,1.16039,.73291,1.20996,1.22135,1.06483,.94868,.94868,.95996,1.24633,1,1.07497,.87796,.96927,1.01518,.96927,1,1,1,.77295,1,1,1.10539,1.10539,1.11358,1.06967,.86279,.94434,.86279,.94434,.86182,1,1,1.083,1,.91578,.86507,1.1714,1.18416,1.14589,.69825,.97622,1.9697,1.24822,1.24822,1.17238,1.24822,1.24822,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1.42603,1,.99862,.99862,1,.87025,.87025,.87025,.87025,1.18083,1.42603,1,1.42603,1.42603,.99862,1,1,1,1,1,1.2886,1.04315,1.15296,1.34163,1,1,1,1.10938,1.10938,1,1,1,1.05425,1.09971,1.09971,1.09971,1,1,1,1,1,1,1,1,1,1,1];Et.SegoeuiRegularFactors=Ft;const Vt={lineHeight:1.33008,lineGap:0};Et.SegoeuiRegularMetrics=Vt},(Ct,Et,Pt)=>{Object.defineProperty(Et,"__esModule",{value:!0}),Et.PostScriptEvaluator=Et.PostScriptCompiler=Et.PDFFunctionFactory=void 0,Et.isPDFFunction=Lt;var wt=Pt(4),kt=Pt(2),_t=Pt(58),ht=Pt(5),vt=Pt(59);class Ft{constructor({xref:Mt,isEvalSupported:Ht=!0}){this.xref=Mt,this.isEvalSupported=Ht!==!1}create(Mt){const Ht=this.getCached(Mt);if(Ht)return Ht;const sn=qt.parse({xref:this.xref,isEvalSupported:this.isEvalSupported,fn:Mt instanceof wt.Ref?this.xref.fetch(Mt):Mt});return this._cache(Mt,sn),sn}createFromArray(Mt){const Ht=this.getCached(Mt);if(Ht)return Ht;const sn=qt.parseArray({xref:this.xref,isEvalSupported:this.isEvalSupported,fnObj:Mt instanceof wt.Ref?this.xref.fetch(Mt):Mt});return this._cache(Mt,sn),sn}getCached(Mt){var sn;let Ht;if(Mt instanceof wt.Ref?Ht=Mt:Mt instanceof wt.Dict?Ht=Mt.objId:Mt instanceof ht.BaseStream&&(Ht=(sn=Mt.dict)==null?void 0:sn.objId),Ht){const zt=this._localFunctionCache.getByRef(Ht);if(zt)return zt}return null}_cache(Mt,Ht){var zt;if(!Ht)throw new Error('PDFFunctionFactory._cache - expected "parsedFunction" argument.');let sn;Mt instanceof wt.Ref?sn=Mt:Mt instanceof wt.Dict?sn=Mt.objId:Mt instanceof ht.BaseStream&&(sn=(zt=Mt.dict)==null?void 0:zt.objId),sn&&this._localFunctionCache.set(null,sn,Ht)}get _localFunctionCache(){return(0,kt.shadow)(this,"_localFunctionCache",new vt.LocalFunctionCache)}}Et.PDFFunctionFactory=Ft;function Vt(Ut){if(!Array.isArray(Ut))return null;const Mt=Ut.length;for(let Ht=0;Ht<Mt;Ht++)if(typeof Ut[Ht]!="number"){const sn=new Array(Mt);for(let zt=0;zt<Mt;zt++)sn[zt]=+Ut[zt];return sn}return Ut}class qt{static getSampleArray(Mt,Ht,sn,zt){let Xt,Qt,ln=1;for(Xt=0,Qt=Mt.length;Xt<Qt;Xt++)ln*=Mt[Xt];ln*=Ht;const on=new Array(ln);let cn=0,rn=0;const an=1/(2**sn-1),xn=zt.getBytes((ln*sn+7)/8);let wn=0;for(Xt=0;Xt<ln;Xt++){for(;cn<sn;)rn<<=8,rn|=xn[wn++],cn+=8;cn-=sn,on[Xt]=(rn>>cn)*an,rn&=(1<<cn)-1}return on}static parse({xref:Mt,isEvalSupported:Ht,fn:sn}){const zt=sn.dict||sn;switch(zt.get("FunctionType")){case 0:return this.constructSampled({xref:Mt,isEvalSupported:Ht,fn:sn,dict:zt});case 1:break;case 2:return this.constructInterpolated({xref:Mt,isEvalSupported:Ht,dict:zt});case 3:return this.constructStiched({xref:Mt,isEvalSupported:Ht,dict:zt});case 4:return this.constructPostScript({xref:Mt,isEvalSupported:Ht,fn:sn,dict:zt})}throw new kt.FormatError("Unknown type of function")}static parseArray({xref:Mt,isEvalSupported:Ht,fnObj:sn}){if(!Array.isArray(sn))return this.parse({xref:Mt,isEvalSupported:Ht,fn:sn});const zt=[];for(const Xt of sn)zt.push(this.parse({xref:Mt,isEvalSupported:Ht,fn:Mt.fetchIfRef(Xt)}));return function(Xt,Qt,ln,on){for(let cn=0,rn=zt.length;cn<rn;cn++)zt[cn](Xt,Qt,ln,on+cn)}}static constructSampled({xref:Mt,isEvalSupported:Ht,fn:sn,dict:zt}){function Xt(Tn){const An=Tn.length,mn=[];let pn=0;for(let Jt=0;Jt<An;Jt+=2)mn[pn++]=[Tn[Jt],Tn[Jt+1]];return mn}function Qt(Tn,An,mn,pn,Jt){return pn+(Tn-An)*((Jt-pn)/(mn-An))}let ln=Vt(zt.getArray("Domain")),on=Vt(zt.getArray("Range"));if(!ln||!on)throw new kt.FormatError("No domain or range");const cn=ln.length/2,rn=on.length/2;ln=Xt(ln),on=Xt(on);const an=Vt(zt.getArray("Size")),xn=zt.get("BitsPerSample"),wn=zt.get("Order")||1;wn!==1&&(0,kt.info)("No support for cubic spline interpolation: "+wn);let En=Vt(zt.getArray("Encode"));if(En)En=Xt(En);else{En=[];for(let Tn=0;Tn<cn;++Tn)En.push([0,an[Tn]-1])}let Fn=Vt(zt.getArray("Decode"));Fn=Fn?Xt(Fn):on;const In=this.getSampleArray(an,rn,xn,sn);return function(An,mn,pn,Jt){const un=1<<cn,fn=new Float64Array(un),Sn=new Uint32Array(un);let kn,Pn;for(Pn=0;Pn<un;Pn++)fn[Pn]=1;let Cn=rn,vn=1;for(kn=0;kn<cn;++kn){const Rn=ln[kn][0],Mn=ln[kn][1],_n=Math.min(Math.max(An[mn+kn],Rn),Mn);let Dn=Qt(_n,Rn,Mn,En[kn][0],En[kn][1]);const Ln=an[kn];Dn=Math.min(Math.max(Dn,0),Ln-1);const Un=Dn<Ln-1?Math.floor(Dn):Dn-1,ts=Un+1-Dn,es=Dn-Un,Qn=Un*Cn,Yn=Qn+Cn;for(Pn=0;Pn<un;Pn++)Pn&vn?(fn[Pn]*=es,Sn[Pn]+=Yn):(fn[Pn]*=ts,Sn[Pn]+=Qn);Cn*=Ln,vn<<=1}for(Pn=0;Pn<rn;++Pn){let Rn=0;for(kn=0;kn<un;kn++)Rn+=In[Sn[kn]+Pn]*fn[kn];Rn=Qt(Rn,0,1,Fn[Pn][0],Fn[Pn][1]),pn[Jt+Pn]=Math.min(Math.max(Rn,on[Pn][0]),on[Pn][1])}}}static constructInterpolated({xref:Mt,isEvalSupported:Ht,dict:sn}){const zt=Vt(sn.getArray("C0"))||[0],Xt=Vt(sn.getArray("C1"))||[1],Qt=sn.get("N"),ln=[];for(let cn=0,rn=zt.length;cn<rn;++cn)ln.push(Xt[cn]-zt[cn]);const on=ln.length;return function(rn,an,xn,wn){const En=Qt===1?rn[an]:rn[an]**Qt;for(let Fn=0;Fn<on;++Fn)xn[wn+Fn]=zt[Fn]+En*ln[Fn]}}static constructStiched({xref:Mt,isEvalSupported:Ht,dict:sn}){const zt=Vt(sn.getArray("Domain"));if(!zt)throw new kt.FormatError("No domain");if(zt.length/2!==1)throw new kt.FormatError("Bad domain for stiched function");const Qt=[];for(const rn of sn.get("Functions"))Qt.push(this.parse({xref:Mt,isEvalSupported:Ht,fn:Mt.fetchIfRef(rn)}));const ln=Vt(sn.getArray("Bounds")),on=Vt(sn.getArray("Encode")),cn=new Float32Array(1);return function(an,xn,wn,En){const In=function(Sn,kn,Pn){return Sn>Pn?Sn=Pn:Sn<kn&&(Sn=kn),Sn}(an[xn],zt[0],zt[1]),Tn=ln.length;let An;for(An=0;An<Tn&&!(In<ln[An]);++An);let mn=zt[0];An>0&&(mn=ln[An-1]);let pn=zt[1];An<ln.length&&(pn=ln[An]);const Jt=on[2*An],un=on[2*An+1];cn[0]=mn===pn?Jt:Jt+(In-mn)*(un-Jt)/(pn-mn),Qt[An](cn,0,wn,En)}}static constructPostScript({xref:Mt,isEvalSupported:Ht,fn:sn,dict:zt}){const Xt=Vt(zt.getArray("Domain")),Qt=Vt(zt.getArray("Range"));if(!Xt)throw new kt.FormatError("No domain.");if(!Qt)throw new kt.FormatError("No range.");const ln=new _t.PostScriptLexer(sn),cn=new _t.PostScriptParser(ln).parse();if(Ht&&kt.FeatureTest.isEvalSupported){const Tn=new Yt().compile(cn,Xt,Qt);if(Tn)return new Function("src","srcOffset","dest","destOffset",Tn)}(0,kt.info)("Unable to compile PS function");const rn=Qt.length>>1,an=Xt.length>>1,xn=new Ot(cn),wn=Object.create(null);let Fn=2048*4;const In=new Float32Array(an);return function(An,mn,pn,Jt){let un,fn,Sn="";const kn=In;for(un=0;un<an;un++)fn=An[mn+un],kn[un]=fn,Sn+=fn+"_";const Pn=wn[Sn];if(Pn!==void 0){pn.set(Pn,Jt);return}const Cn=new Float32Array(rn),vn=xn.execute(kn),Rn=vn.length-rn;for(un=0;un<rn;un++){fn=vn[Rn+un];let Mn=Qt[un*2];fn<Mn?fn=Mn:(Mn=Qt[un*2+1],fn>Mn&&(fn=Mn)),Cn[un]=fn}Fn>0&&(Fn--,wn[Sn]=Cn),pn.set(Cn,Jt)}}}function Lt(Ut){let Mt;if(Ut instanceof wt.Dict)Mt=Ut;else if(Ut instanceof ht.BaseStream)Mt=Ut.dict;else return!1;return Mt.has("FunctionType")}const dn=class dn{constructor(Mt){this.stack=Mt?Array.from(Mt):[]}push(Mt){if(this.stack.length>=dn.MAX_STACK_SIZE)throw new Error("PostScript function stack overflow.");this.stack.push(Mt)}pop(){if(this.stack.length<=0)throw new Error("PostScript function stack underflow.");return this.stack.pop()}copy(Mt){if(this.stack.length+Mt>=dn.MAX_STACK_SIZE)throw new Error("PostScript function stack overflow.");const Ht=this.stack;for(let sn=Ht.length-Mt,zt=Mt-1;zt>=0;zt--,sn++)Ht.push(Ht[sn])}index(Mt){this.push(this.stack[this.stack.length-Mt-1])}roll(Mt,Ht){const sn=this.stack,zt=sn.length-Mt,Xt=sn.length-1,Qt=zt+(Ht-Math.floor(Ht/Mt)*Mt);for(let ln=zt,on=Xt;ln<on;ln++,on--){const cn=sn[ln];sn[ln]=sn[on],sn[on]=cn}for(let ln=zt,on=Qt-1;ln<on;ln++,on--){const cn=sn[ln];sn[ln]=sn[on],sn[on]=cn}for(let ln=Qt,on=Xt;ln<on;ln++,on--){const cn=sn[ln];sn[ln]=sn[on],sn[on]=cn}}};Us(dn,"MAX_STACK_SIZE",100);let $t=dn;class Ot{constructor(Mt){this.operators=Mt}execute(Mt){const Ht=new $t(Mt);let sn=0;const zt=this.operators,Xt=zt.length;let Qt,ln,on;for(;sn<Xt;){if(Qt=zt[sn++],typeof Qt=="number"){Ht.push(Qt);continue}switch(Qt){case"jz":on=Ht.pop(),ln=Ht.pop(),ln||(sn=on);break;case"j":ln=Ht.pop(),sn=ln;break;case"abs":ln=Ht.pop(),Ht.push(Math.abs(ln));break;case"add":on=Ht.pop(),ln=Ht.pop(),Ht.push(ln+on);break;case"and":on=Ht.pop(),ln=Ht.pop(),typeof ln=="boolean"&&typeof on=="boolean"?Ht.push(ln&&on):Ht.push(ln&on);break;case"atan":on=Ht.pop(),ln=Ht.pop(),ln=Math.atan2(ln,on)/Math.PI*180,ln<0&&(ln+=360),Ht.push(ln);break;case"bitshift":on=Ht.pop(),ln=Ht.pop(),ln>0?Ht.push(ln<<on):Ht.push(ln>>on);break;case"ceiling":ln=Ht.pop(),Ht.push(Math.ceil(ln));break;case"copy":ln=Ht.pop(),Ht.copy(ln);break;case"cos":ln=Ht.pop(),Ht.push(Math.cos(ln%360/180*Math.PI));break;case"cvi":ln=Ht.pop()|0,Ht.push(ln);break;case"cvr":break;case"div":on=Ht.pop(),ln=Ht.pop(),Ht.push(ln/on);break;case"dup":Ht.copy(1);break;case"eq":on=Ht.pop(),ln=Ht.pop(),Ht.push(ln===on);break;case"exch":Ht.roll(2,1);break;case"exp":on=Ht.pop(),ln=Ht.pop(),Ht.push(ln**on);break;case"false":Ht.push(!1);break;case"floor":ln=Ht.pop(),Ht.push(Math.floor(ln));break;case"ge":on=Ht.pop(),ln=Ht.pop(),Ht.push(ln>=on);break;case"gt":on=Ht.pop(),ln=Ht.pop(),Ht.push(ln>on);break;case"idiv":on=Ht.pop(),ln=Ht.pop(),Ht.push(ln/on|0);break;case"index":ln=Ht.pop(),Ht.index(ln);break;case"le":on=Ht.pop(),ln=Ht.pop(),Ht.push(ln<=on);break;case"ln":ln=Ht.pop(),Ht.push(Math.log(ln));break;case"log":ln=Ht.pop(),Ht.push(Math.log10(ln));break;case"lt":on=Ht.pop(),ln=Ht.pop(),Ht.push(ln<on);break;case"mod":on=Ht.pop(),ln=Ht.pop(),Ht.push(ln%on);break;case"mul":on=Ht.pop(),ln=Ht.pop(),Ht.push(ln*on);break;case"ne":on=Ht.pop(),ln=Ht.pop(),Ht.push(ln!==on);break;case"neg":ln=Ht.pop(),Ht.push(-ln);break;case"not":ln=Ht.pop(),typeof ln=="boolean"?Ht.push(!ln):Ht.push(~ln);break;case"or":on=Ht.pop(),ln=Ht.pop(),typeof ln=="boolean"&&typeof on=="boolean"?Ht.push(ln||on):Ht.push(ln|on);break;case"pop":Ht.pop();break;case"roll":on=Ht.pop(),ln=Ht.pop(),Ht.roll(ln,on);break;case"round":ln=Ht.pop(),Ht.push(Math.round(ln));break;case"sin":ln=Ht.pop(),Ht.push(Math.sin(ln%360/180*Math.PI));break;case"sqrt":ln=Ht.pop(),Ht.push(Math.sqrt(ln));break;case"sub":on=Ht.pop(),ln=Ht.pop(),Ht.push(ln-on);break;case"true":Ht.push(!0);break;case"truncate":ln=Ht.pop(),ln=ln<0?Math.ceil(ln):Math.floor(ln),Ht.push(ln);break;case"xor":on=Ht.pop(),ln=Ht.pop(),typeof ln=="boolean"&&typeof on=="boolean"?Ht.push(ln!==on):Ht.push(ln^on);break;default:throw new kt.FormatError(`Unknown operator ${Qt}`)}}return Ht.stack}}Et.PostScriptEvaluator=Ot;class jt{constructor(Mt){this.type=Mt}visit(Mt){(0,kt.unreachable)("abstract method")}}class Rt extends jt{constructor(Mt,Ht,sn){super("args"),this.index=Mt,this.min=Ht,this.max=sn}visit(Mt){Mt.visitArgument(this)}}class Kt extends jt{constructor(Mt){super("literal"),this.number=Mt,this.min=Mt,this.max=Mt}visit(Mt){Mt.visitLiteral(this)}}class Bt extends jt{constructor(Mt,Ht,sn,zt,Xt){super("binary"),this.op=Mt,this.arg1=Ht,this.arg2=sn,this.min=zt,this.max=Xt}visit(Mt){Mt.visitBinaryOperation(this)}}class Gt extends jt{constructor(Mt,Ht){super("max"),this.arg=Mt,this.min=Mt.min,this.max=Ht}visit(Mt){Mt.visitMin(this)}}class en extends jt{constructor(Mt,Ht,sn){super("var"),this.index=Mt,this.min=Ht,this.max=sn}visit(Mt){Mt.visitVariable(this)}}class hn extends jt{constructor(Mt,Ht){super("definition"),this.variable=Mt,this.arg=Ht}visit(Mt){Mt.visitVariableDefinition(this)}}class tn{constructor(){this.parts=[]}visitArgument(Mt){this.parts.push("Math.max(",Mt.min,", Math.min(",Mt.max,", src[srcOffset + ",Mt.index,"]))")}visitVariable(Mt){this.parts.push("v",Mt.index)}visitLiteral(Mt){this.parts.push(Mt.number)}visitBinaryOperation(Mt){this.parts.push("("),Mt.arg1.visit(this),this.parts.push(" ",Mt.op," "),Mt.arg2.visit(this),this.parts.push(")")}visitVariableDefinition(Mt){this.parts.push("var "),Mt.variable.visit(this),this.parts.push(" = "),Mt.arg.visit(this),this.parts.push(";")}visitMin(Mt){this.parts.push("Math.min("),Mt.arg.visit(this),this.parts.push(", ",Mt.max,")")}toString(){return this.parts.join("")}}function gn(Ut,Mt){return Mt.type==="literal"&&Mt.number===0?Ut:Ut.type==="literal"&&Ut.number===0?Mt:Mt.type==="literal"&&Ut.type==="literal"?new Kt(Ut.number+Mt.number):new Bt("+",Ut,Mt,Ut.min+Mt.min,Ut.max+Mt.max)}function nn(Ut,Mt){if(Mt.type==="literal"){if(Mt.number===0)return new Kt(0);if(Mt.number===1)return Ut;if(Ut.type==="literal")return new Kt(Ut.number*Mt.number)}if(Ut.type==="literal"){if(Ut.number===0)return new Kt(0);if(Ut.number===1)return Mt}const Ht=Math.min(Ut.min*Mt.min,Ut.min*Mt.max,Ut.max*Mt.min,Ut.max*Mt.max),sn=Math.max(Ut.min*Mt.min,Ut.min*Mt.max,Ut.max*Mt.min,Ut.max*Mt.max);return new Bt("*",Ut,Mt,Ht,sn)}function bn(Ut,Mt){if(Mt.type==="literal"){if(Mt.number===0)return Ut;if(Ut.type==="literal")return new Kt(Ut.number-Mt.number)}return Mt.type==="binary"&&Mt.op==="-"&&Ut.type==="literal"&&Ut.number===1&&Mt.arg1.type==="literal"&&Mt.arg1.number===1?Mt.arg2:new Bt("-",Ut,Mt,Ut.min-Mt.max,Ut.max-Mt.min)}function Wt(Ut,Mt){return Ut.min>=Mt?new Kt(Mt):Ut.max<=Mt?Ut:new Gt(Ut,Mt)}class Yt{compile(Mt,Ht,sn){const zt=[],Xt=[],Qt=Ht.length>>1,ln=sn.length>>1;let on=0,cn,rn,an,xn,wn,En,Fn,In;for(let An=0;An<Qt;An++)zt.push(new Rt(An,Ht[An*2],Ht[An*2+1]));for(let An=0,mn=Mt.length;An<mn;An++){if(In=Mt[An],typeof In=="number"){zt.push(new Kt(In));continue}switch(In){case"add":if(zt.length<2)return null;xn=zt.pop(),an=zt.pop(),zt.push(gn(an,xn));break;case"cvr":if(zt.length<1)return null;break;case"mul":if(zt.length<2)return null;xn=zt.pop(),an=zt.pop(),zt.push(nn(an,xn));break;case"sub":if(zt.length<2)return null;xn=zt.pop(),an=zt.pop(),zt.push(bn(an,xn));break;case"exch":if(zt.length<2)return null;wn=zt.pop(),En=zt.pop(),zt.push(wn,En);break;case"pop":if(zt.length<1)return null;zt.pop();break;case"index":if(zt.length<1||(an=zt.pop(),an.type!=="literal")||(cn=an.number,cn<0||!Number.isInteger(cn)||zt.length<cn))return null;if(wn=zt[zt.length-cn-1],wn.type==="literal"||wn.type==="var"){zt.push(wn);break}Fn=new en(on++,wn.min,wn.max),zt[zt.length-cn-1]=Fn,zt.push(Fn),Xt.push(new hn(Fn,wn));break;case"dup":if(zt.length<1)return null;if(typeof Mt[An+1]=="number"&&Mt[An+2]==="gt"&&Mt[An+3]===An+7&&Mt[An+4]==="jz"&&Mt[An+5]==="pop"&&Mt[An+6]===Mt[An+1]){an=zt.pop(),zt.push(Wt(an,Mt[An+1])),An+=6;break}if(wn=zt.at(-1),wn.type==="literal"||wn.type==="var"){zt.push(wn);break}Fn=new en(on++,wn.min,wn.max),zt[zt.length-1]=Fn,zt.push(Fn),Xt.push(new hn(Fn,wn));break;case"roll":if(zt.length<2||(xn=zt.pop(),an=zt.pop(),xn.type!=="literal"||an.type!=="literal")||(rn=xn.number,cn=an.number,cn<=0||!Number.isInteger(cn)||!Number.isInteger(rn)||zt.length<cn))return null;if(rn=(rn%cn+cn)%cn,rn===0)break;zt.push(...zt.splice(zt.length-cn,cn-rn));break;default:return null}}if(zt.length!==ln)return null;const Tn=[];for(const An of Xt){const mn=new tn;An.visit(mn),Tn.push(mn.toString())}for(let An=0,mn=zt.length;An<mn;An++){const pn=zt[An],Jt=new tn;pn.visit(Jt);const un=sn[An*2],fn=sn[An*2+1],Sn=[Jt.toString()];un>pn.min&&(Sn.unshift("Math.max(",un,", "),Sn.push(")")),fn<pn.max&&(Sn.unshift("Math.min(",fn,", "),Sn.push(")")),Sn.unshift("dest[destOffset + ",An,"] = "),Sn.push(";"),Tn.push(Sn.join(""))}return Tn.join(`
`)}}Et.PostScriptCompiler=Yt},(Ct,Et,Pt)=>{Object.defineProperty(Et,"__esModule",{value:!0}),Et.PostScriptParser=Et.PostScriptLexer=void 0;var wt=Pt(2),kt=Pt(4),_t=Pt(3);class ht{constructor(Lt){this.lexer=Lt,this.operators=[],this.token=null,this.prev=null}nextToken(){this.prev=this.token,this.token=this.lexer.getToken()}accept(Lt){return this.token.type===Lt?(this.nextToken(),!0):!1}expect(Lt){if(this.accept(Lt))return!0;throw new wt.FormatError(`Unexpected symbol: found ${this.token.type} expected ${Lt}.`)}parse(){return this.nextToken(),this.expect(vt.LBRACE),this.parseBlock(),this.expect(vt.RBRACE),this.operators}parseBlock(){for(;;)if(this.accept(vt.NUMBER))this.operators.push(this.prev.value);else if(this.accept(vt.OPERATOR))this.operators.push(this.prev.value);else if(this.accept(vt.LBRACE))this.parseCondition();else return}parseCondition(){const Lt=this.operators.length;if(this.operators.push(null,null),this.parseBlock(),this.expect(vt.RBRACE),this.accept(vt.IF))this.operators[Lt]=this.operators.length,this.operators[Lt+1]="jz";else if(this.accept(vt.LBRACE)){const $t=this.operators.length;this.operators.push(null,null);const Ot=this.operators.length;this.parseBlock(),this.expect(vt.RBRACE),this.expect(vt.IFELSE),this.operators[$t]=this.operators.length,this.operators[$t+1]="j",this.operators[Lt]=Ot,this.operators[Lt+1]="jz"}else throw new wt.FormatError("PS Function: error parsing conditional.")}}Et.PostScriptParser=ht;const vt={LBRACE:0,RBRACE:1,NUMBER:2,OPERATOR:3,IF:4,IFELSE:5};class Ft{static get opCache(){return(0,wt.shadow)(this,"opCache",Object.create(null))}constructor(Lt,$t){this.type=Lt,this.value=$t}static getOperator(Lt){var $t;return($t=Ft.opCache)[Lt]||($t[Lt]=new Ft(vt.OPERATOR,Lt))}static get LBRACE(){return(0,wt.shadow)(this,"LBRACE",new Ft(vt.LBRACE,"{"))}static get RBRACE(){return(0,wt.shadow)(this,"RBRACE",new Ft(vt.RBRACE,"}"))}static get IF(){return(0,wt.shadow)(this,"IF",new Ft(vt.IF,"IF"))}static get IFELSE(){return(0,wt.shadow)(this,"IFELSE",new Ft(vt.IFELSE,"IFELSE"))}}class Vt{constructor(Lt){this.stream=Lt,this.nextChar(),this.strBuf=[]}nextChar(){return this.currentChar=this.stream.getByte()}getToken(){let Lt=!1,$t=this.currentChar;for(;;){if($t<0)return kt.EOF;if(Lt)($t===10||$t===13)&&(Lt=!1);else if($t===37)Lt=!0;else if(!(0,_t.isWhiteSpace)($t))break;$t=this.nextChar()}switch($t|0){case 48:case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:case 43:case 45:case 46:return new Ft(vt.NUMBER,this.getNumber());case 123:return this.nextChar(),Ft.LBRACE;case 125:return this.nextChar(),Ft.RBRACE}const Ot=this.strBuf;for(Ot.length=0,Ot[0]=String.fromCharCode($t);($t=this.nextChar())>=0&&($t>=65&&$t<=90||$t>=97&&$t<=122);)Ot.push(String.fromCharCode($t));const jt=Ot.join("");switch(jt.toLowerCase()){case"if":return Ft.IF;case"ifelse":return Ft.IFELSE;default:return Ft.getOperator(jt)}}getNumber(){let Lt=this.currentChar;const $t=this.strBuf;for($t.length=0,$t[0]=String.fromCharCode(Lt);(Lt=this.nextChar())>=0&&(Lt>=48&&Lt<=57||Lt===45||Lt===46);)$t.push(String.fromCharCode(Lt));const Ot=parseFloat($t.join(""));if(isNaN(Ot))throw new wt.FormatError(`Invalid floating point number: ${Ot}`);return Ot}}Et.PostScriptLexer=Vt},(Ct,Et,Pt)=>{Object.defineProperty(Et,"__esModule",{value:!0}),Et.RegionalImageCache=Et.LocalTilingPatternCache=Et.LocalImageCache=Et.LocalGStateCache=Et.LocalFunctionCache=Et.LocalColorSpaceCache=Et.GlobalImageCache=void 0;var wt=Pt(2),kt=Pt(4);class _t{constructor(Rt){this.constructor===_t&&(0,wt.unreachable)("Cannot initialize BaseLocalCache."),this._onlyRefs=(Rt==null?void 0:Rt.onlyRefs)===!0,this._onlyRefs||(this._nameRefMap=new Map,this._imageMap=new Map),this._imageCache=new kt.RefSetCache}getByName(Rt){this._onlyRefs&&(0,wt.unreachable)("Should not call `getByName` method.");const Kt=this._nameRefMap.get(Rt);return Kt?this.getByRef(Kt):this._imageMap.get(Rt)||null}getByRef(Rt){return this._imageCache.get(Rt)||null}set(Rt,Kt,Bt){(0,wt.unreachable)("Abstract method `set` called.")}}class ht extends _t{set(Rt,Kt=null,Bt){if(typeof Rt!="string")throw new Error('LocalImageCache.set - expected "name" argument.');if(Kt){if(this._imageCache.has(Kt))return;this._nameRefMap.set(Rt,Kt),this._imageCache.put(Kt,Bt);return}this._imageMap.has(Rt)||this._imageMap.set(Rt,Bt)}}Et.LocalImageCache=ht;class vt extends _t{set(Rt=null,Kt=null,Bt){if(typeof Rt!="string"&&!Kt)throw new Error('LocalColorSpaceCache.set - expected "name" and/or "ref" argument.');if(Kt){if(this._imageCache.has(Kt))return;Rt!==null&&this._nameRefMap.set(Rt,Kt),this._imageCache.put(Kt,Bt);return}this._imageMap.has(Rt)||this._imageMap.set(Rt,Bt)}}Et.LocalColorSpaceCache=vt;class Ft extends _t{constructor(Rt){super({onlyRefs:!0})}set(Rt=null,Kt,Bt){if(!Kt)throw new Error('LocalFunctionCache.set - expected "ref" argument.');this._imageCache.has(Kt)||this._imageCache.put(Kt,Bt)}}Et.LocalFunctionCache=Ft;class Vt extends _t{set(Rt,Kt=null,Bt){if(typeof Rt!="string")throw new Error('LocalGStateCache.set - expected "name" argument.');if(Kt){if(this._imageCache.has(Kt))return;this._nameRefMap.set(Rt,Kt),this._imageCache.put(Kt,Bt);return}this._imageMap.has(Rt)||this._imageMap.set(Rt,Bt)}}Et.LocalGStateCache=Vt;class qt extends _t{constructor(Rt){super({onlyRefs:!0})}set(Rt=null,Kt,Bt){if(!Kt)throw new Error('LocalTilingPatternCache.set - expected "ref" argument.');this._imageCache.has(Kt)||this._imageCache.put(Kt,Bt)}}Et.LocalTilingPatternCache=qt;class Lt extends _t{constructor(Rt){super({onlyRefs:!0})}set(Rt=null,Kt,Bt){if(!Kt)throw new Error('RegionalImageCache.set - expected "ref" argument.');this._imageCache.has(Kt)||this._imageCache.put(Kt,Bt)}}Et.RegionalImageCache=Lt;const Ot=class Ot{constructor(){this._refCache=new kt.RefSetCache,this._imageCache=new kt.RefSetCache}get _byteSize(){let Rt=0;for(const Kt of this._imageCache)Rt+=Kt.byteSize;return Rt}get _cacheLimitReached(){return!(this._imageCache.size<Ot.MIN_IMAGES_TO_CACHE||this._byteSize<Ot.MAX_BYTE_SIZE)}shouldCache(Rt,Kt){let Bt=this._refCache.get(Rt);return Bt||(Bt=new Set,this._refCache.put(Rt,Bt)),Bt.add(Kt),!(Bt.size<Ot.NUM_PAGES_THRESHOLD||!this._imageCache.has(Rt)&&this._cacheLimitReached)}addByteSize(Rt,Kt){const Bt=this._imageCache.get(Rt);Bt&&(Bt.byteSize||(Bt.byteSize=Kt))}getData(Rt,Kt){const Bt=this._refCache.get(Rt);if(!Bt||Bt.size<Ot.NUM_PAGES_THRESHOLD)return null;const Gt=this._imageCache.get(Rt);return Gt?(Bt.add(Kt),Gt):null}setData(Rt,Kt){if(!this._refCache.has(Rt))throw new Error('GlobalImageCache.setData - expected "shouldCache" to have been called.');if(!this._imageCache.has(Rt)){if(this._cacheLimitReached){(0,wt.warn)("GlobalImageCache.setData - cache limit reached.");return}this._imageCache.put(Rt,Kt)}}clear(Rt=!1){Rt||this._refCache.clear(),this._imageCache.clear()}};Us(Ot,"NUM_PAGES_THRESHOLD",2),Us(Ot,"MIN_IMAGES_TO_CACHE",10),Us(Ot,"MAX_BYTE_SIZE",5*wt.MAX_IMAGE_SIZE_TO_CACHE);let $t=Ot;Et.GlobalImageCache=$t},(Ct,Et,Pt)=>{Object.defineProperty(Et,"__esModule",{value:!0}),Et.bidi=jt;var wt=Pt(2);const kt=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","ON","ON","ET","ET","ET","ON","ON","ON","ON","ON","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","ON","ON","ON","ON","ON","ON","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","ON","ON","ON","ON","ON","ON","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","ON","ON","ON","ON","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","ON","ET","ET","ET","ET","ON","ON","ON","ON","L","ON","ON","BN","ON","ON","ET","ET","EN","EN","ON","L","ON","ON","ON","EN","L","ON","ON","ON","ON","ON","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","ON","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","ON","L","L","L","L","L","L","L","L"],_t=["AN","AN","AN","AN","AN","AN","ON","ON","AL","ET","ET","AL","CS","AL","ON","ON","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","ON","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","ON","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL"];function ht(Rt){return(Rt&1)!==0}function vt(Rt){return(Rt&1)===0}function Ft(Rt,Kt,Bt){let Gt,en;for(Gt=Kt,en=Rt.length;Gt<en;++Gt)if(Rt[Gt]!==Bt)return Gt;return Gt}function Vt(Rt,Kt,Bt,Gt){for(let en=Kt;en<Bt;++en)Rt[en]=Gt}function qt(Rt,Kt,Bt){for(let Gt=Kt,en=Bt-1;Gt<en;++Gt,--en){const hn=Rt[Gt];Rt[Gt]=Rt[en],Rt[en]=hn}}function Lt(Rt,Kt,Bt=!1){let Gt="ltr";return Bt?Gt="ttb":Kt||(Gt="rtl"),{str:Rt,dir:Gt}}const $t=[],Ot=[];function jt(Rt,Kt=-1,Bt=!1){let Gt=!0;const en=Rt.length;if(en===0||Bt)return Lt(Rt,Gt,Bt);$t.length=en,Ot.length=en;let hn=0,tn,gn;for(tn=0;tn<en;++tn){$t[tn]=Rt.charAt(tn);const zt=Rt.charCodeAt(tn);let Xt="L";zt<=255?Xt=kt[zt]:1424<=zt&&zt<=1524?Xt="R":1536<=zt&&zt<=1791?(Xt=_t[zt&255],Xt||(0,wt.warn)("Bidi: invalid Unicode character "+zt.toString(16))):(1792<=zt&&zt<=2220||64336<=zt&&zt<=65023||65136<=zt&&zt<=65279)&&(Xt="AL"),(Xt==="R"||Xt==="AL"||Xt==="AN")&&hn++,Ot[tn]=Xt}if(hn===0)return Gt=!0,Lt(Rt,Gt);Kt===-1&&(hn/en<.3&&en>4?(Gt=!0,Kt=0):(Gt=!1,Kt=1));const nn=[];for(tn=0;tn<en;++tn)nn[tn]=Kt;const bn=ht(Kt)?"R":"L",Wt=bn,Yt=Wt;let dn=Wt;for(tn=0;tn<en;++tn)Ot[tn]==="NSM"?Ot[tn]=dn:dn=Ot[tn];dn=Wt;let Ut;for(tn=0;tn<en;++tn)Ut=Ot[tn],Ut==="EN"?Ot[tn]=dn==="AL"?"AN":"EN":(Ut==="R"||Ut==="L"||Ut==="AL")&&(dn=Ut);for(tn=0;tn<en;++tn)Ut=Ot[tn],Ut==="AL"&&(Ot[tn]="R");for(tn=1;tn<en-1;++tn)Ot[tn]==="ES"&&Ot[tn-1]==="EN"&&Ot[tn+1]==="EN"&&(Ot[tn]="EN"),Ot[tn]==="CS"&&(Ot[tn-1]==="EN"||Ot[tn-1]==="AN")&&Ot[tn+1]===Ot[tn-1]&&(Ot[tn]=Ot[tn-1]);for(tn=0;tn<en;++tn)if(Ot[tn]==="EN"){for(let zt=tn-1;zt>=0&&Ot[zt]==="ET";--zt)Ot[zt]="EN";for(let zt=tn+1;zt<en&&Ot[zt]==="ET";++zt)Ot[zt]="EN"}for(tn=0;tn<en;++tn)Ut=Ot[tn],(Ut==="WS"||Ut==="ES"||Ut==="ET"||Ut==="CS")&&(Ot[tn]="ON");for(dn=Wt,tn=0;tn<en;++tn)Ut=Ot[tn],Ut==="EN"?Ot[tn]=dn==="L"?"L":"EN":(Ut==="R"||Ut==="L")&&(dn=Ut);for(tn=0;tn<en;++tn)if(Ot[tn]==="ON"){const zt=Ft(Ot,tn+1,"ON");let Xt=Wt;tn>0&&(Xt=Ot[tn-1]);let Qt=Yt;zt+1<en&&(Qt=Ot[zt+1]),Xt!=="L"&&(Xt="R"),Qt!=="L"&&(Qt="R"),Xt===Qt&&Vt(Ot,tn,zt,Xt),tn=zt-1}for(tn=0;tn<en;++tn)Ot[tn]==="ON"&&(Ot[tn]=bn);for(tn=0;tn<en;++tn)Ut=Ot[tn],vt(nn[tn])?Ut==="R"?nn[tn]+=1:(Ut==="AN"||Ut==="EN")&&(nn[tn]+=2):(Ut==="L"||Ut==="AN"||Ut==="EN")&&(nn[tn]+=1);let Mt=-1,Ht=99,sn;for(tn=0,gn=nn.length;tn<gn;++tn)sn=nn[tn],Mt<sn&&(Mt=sn),Ht>sn&&ht(sn)&&(Ht=sn);for(sn=Mt;sn>=Ht;--sn){let zt=-1;for(tn=0,gn=nn.length;tn<gn;++tn)nn[tn]<sn?zt>=0&&(qt($t,zt,tn),zt=-1):zt<0&&(zt=tn);zt>=0&&qt($t,zt,nn.length)}for(tn=0,gn=$t.length;tn<gn;++tn){const zt=$t[tn];(zt==="<"||zt===">")&&($t[tn]="")}return Lt($t.join(""),Gt)}},(Ct,Et,Pt)=>{Object.defineProperty(Et,"__esModule",{value:!0}),Et.getFontSubstitution=Ot;var wt=Pt(38),kt=Pt(3);const _t={style:"normal",weight:"normal"},ht={style:"normal",weight:"bold"},vt={style:"italic",weight:"normal"},Ft={style:"italic",weight:"bold"},Vt=new Map([["Times-Roman",{local:["Times New Roman","Times-Roman","Times","Liberation Serif","Nimbus Roman","Nimbus Roman L","Tinos","Thorndale","TeX Gyre Termes","FreeSerif","DejaVu Serif","Bitstream Vera Serif","Ubuntu"],style:_t,ultimate:"serif"}],["Times-Bold",{alias:"Times-Roman",style:ht,ultimate:"serif"}],["Times-Italic",{alias:"Times-Roman",style:vt,ultimate:"serif"}],["Times-BoldItalic",{alias:"Times-Roman",style:Ft,ultimate:"serif"}],["Helvetica",{local:["Helvetica","Helvetica Neue","Arial","Arial Nova","Liberation Sans","Arimo","Nimbus Sans","Nimbus Sans L","A030","TeX Gyre Heros","FreeSans","DejaVu Sans","Albany","Bitstream Vera Sans","Arial Unicode MS","Microsoft Sans Serif","Apple Symbols","Cantarell"],path:"LiberationSans-Regular.ttf",style:_t,ultimate:"sans-serif"}],["Helvetica-Bold",{alias:"Helvetica",path:"LiberationSans-Bold.ttf",style:ht,ultimate:"sans-serif"}],["Helvetica-Oblique",{alias:"Helvetica",path:"LiberationSans-Italic.ttf",style:vt,ultimate:"sans-serif"}],["Helvetica-BoldOblique",{alias:"Helvetica",path:"LiberationSans-BoldItalic.ttf",style:Ft,ultimate:"sans-serif"}],["Courier",{local:["Courier","Courier New","Liberation Mono","Nimbus Mono","Nimbus Mono L","Cousine","Cumberland","TeX Gyre Cursor","FreeMono"],style:_t,ultimate:"monospace"}],["Courier-Bold",{alias:"Courier",style:ht,ultimate:"monospace"}],["Courier-Oblique",{alias:"Courier",style:vt,ultimate:"monospace"}],["Courier-BoldOblique",{alias:"Courier",style:Ft,ultimate:"monospace"}],["ArialBlack",{local:["Arial Black"],style:{style:"normal",weight:"900"},fallback:"Helvetica-Bold"}],["ArialBlack-Bold",{alias:"ArialBlack"}],["ArialBlack-Italic",{alias:"ArialBlack",style:{style:"italic",weight:"900"},fallback:"Helvetica-BoldOblique"}],["ArialBlack-BoldItalic",{alias:"ArialBlack-Italic"}],["ArialNarrow",{local:["Arial Narrow","Liberation Sans Narrow","Helvetica Condensed","Nimbus Sans Narrow","TeX Gyre Heros Cn"],style:_t,fallback:"Helvetica"}],["ArialNarrow-Bold",{alias:"ArialNarrow",style:ht,fallback:"Helvetica-Bold"}],["ArialNarrow-Italic",{alias:"ArialNarrow",style:vt,fallback:"Helvetica-Oblique"}],["ArialNarrow-BoldItalic",{alias:"ArialNarrow",style:Ft,fallback:"Helvetica-BoldOblique"}],["Calibri",{local:["Calibri","Carlito"],style:_t,fallback:"Helvetica"}],["Calibri-Bold",{alias:"Calibri",style:ht,fallback:"Helvetica-Bold"}],["Calibri-Italic",{alias:"Calibri",style:vt,fallback:"Helvetica-Oblique"}],["Calibri-BoldItalic",{alias:"Calibri",style:Ft,fallback:"Helvetica-BoldOblique"}],["Wingdings",{local:["Wingdings","URW Dingbats"],style:_t}],["Wingdings-Regular",{alias:"Wingdings"}],["Wingdings-Bold",{alias:"Wingdings"}]]),qt=new Map([["Arial-Black","ArialBlack"]]);function Lt(jt){switch(jt){case ht:return"Bold";case vt:return"Italic";case Ft:return"Bold Italic";default:if((jt==null?void 0:jt.weight)==="bold")return"Bold";if((jt==null?void 0:jt.style)==="italic")return"Italic"}return""}function $t({alias:jt,local:Rt,path:Kt,fallback:Bt,style:Gt,ultimate:en},hn,tn,gn=!0,nn=!0,bn=""){const Wt={style:null,ultimate:null};if(Rt){const Yt=bn?` ${bn}`:"";for(const dn of Rt)hn.push(`local(${dn}${Yt})`)}if(jt){const Yt=Vt.get(jt),dn=bn||Lt(Gt);Object.assign(Wt,$t(Yt,hn,tn,gn&&!Bt,nn&&!Kt,dn))}if(Gt&&(Wt.style=Gt),en&&(Wt.ultimate=en),gn&&Bt){const Yt=Vt.get(Bt),{ultimate:dn}=$t(Yt,hn,tn,gn,nn&&!Kt,bn);Wt.ultimate||(Wt.ultimate=dn)}return nn&&Kt&&tn&&hn.push(`url(${tn}${Kt})`),Wt}function Ot(jt,Rt,Kt,Bt,Gt){Bt=(0,wt.normalizeFontName)(Bt);const en=Bt;let hn=jt.get(en);if(hn)return hn;let tn=Vt.get(Bt);if(!tn){for(const[Mt,Ht]of qt)if(Bt.startsWith(Mt)){Bt=`${Ht}${Bt.substring(Mt.length)}`,tn=Vt.get(Bt);break}}let gn=!1;tn||(tn=Vt.get(Gt),gn=!0);const nn=`${Rt.getDocId()}_s${Rt.createFontId()}`;if(!tn){if(!(0,kt.validateFontName)(Bt))return jt.set(en,null),null;const Mt=/bold/gi.test(Bt),Ht=/oblique|italic/gi.test(Bt),sn=Mt&&Ht&&Ft||Mt&&ht||Ht&&vt||_t;return hn={css:nn,guessFallback:!0,loadedName:nn,baseFontName:Bt,src:`local(${Bt})`,style:sn},jt.set(en,hn),hn}const bn=[];gn&&(0,kt.validateFontName)(Bt)&&bn.push(`local(${Bt})`);const{style:Wt,ultimate:Yt}=$t(tn,bn,Kt),dn=Yt===null,Ut=dn?"":`,${Yt}`;return hn={css:`${nn}${Ut}`,guessFallback:dn,loadedName:nn,baseFontName:Bt,src:bn.join(","),style:Wt},jt.set(en,hn),hn}},(Ct,Et,Pt)=>{Object.defineProperty(Et,"__esModule",{value:!0}),Et.ImageResizer=void 0;var wt=Pt(2);const kt=2048,_t=65537,ht=128;class vt{constructor(Vt,qt){this._imgData=Vt,this._isMask=qt}static needsToBeResized(Vt,qt){if(Vt<=this._goodSquareLength&&qt<=this._goodSquareLength)return!1;const{MAX_DIM:Lt}=this;if(Vt>Lt||qt>Lt)return!0;const $t=Vt*qt;if(this._hasMaxArea)return $t>this.MAX_AREA;if($t<this._goodSquareLength**2)return!1;if(this._areGoodDims(Vt,qt))return this._goodSquareLength=Math.max(this._goodSquareLength,Math.floor(Math.sqrt(Vt*qt))),!1;this._goodSquareLength=this._guessMax(this._goodSquareLength,Lt,ht,0);const Ot=this.MAX_AREA=this._goodSquareLength**2;return $t>Ot}static get MAX_DIM(){return(0,wt.shadow)(this,"MAX_DIM",this._guessMax(kt,_t,0,1))}static get MAX_AREA(){return this._hasMaxArea=!0,(0,wt.shadow)(this,"MAX_AREA",this._guessMax(vt._goodSquareLength,this.MAX_DIM,ht,0)**2)}static set MAX_AREA(Vt){Vt>=0&&(this._hasMaxArea=!0,(0,wt.shadow)(this,"MAX_AREA",Vt))}static setMaxArea(Vt){this._hasMaxArea||(this.MAX_AREA=Vt>>2)}static _areGoodDims(Vt,qt){try{const Lt=new OffscreenCanvas(Vt,qt),$t=Lt.getContext("2d");$t.fillRect(0,0,1,1);const Ot=$t.getImageData(0,0,1,1).data[3];return Lt.width=Lt.height=1,Ot!==0}catch{return!1}}static _guessMax(Vt,qt,Lt,$t){for(;Vt+Lt+1<qt;){const Ot=Math.floor((Vt+qt)/2),jt=$t||Ot;this._areGoodDims(Ot,jt)?Vt=Ot:qt=Ot}return Vt}static async createImage(Vt,qt=!1){return new vt(Vt,qt)._createImage()}async _createImage(){const Vt=this._encodeBMP(),qt=new Blob([Vt.buffer],{type:"image/bmp"}),Lt=createImageBitmap(qt),{MAX_AREA:$t,MAX_DIM:Ot}=vt,{_imgData:jt}=this,{width:Rt,height:Kt}=jt,Bt=Math.max(Rt/Ot,Kt/Ot,Math.sqrt(Rt*Kt/$t)),Gt=Math.max(Bt,2),en=Math.round(10*(Bt+1.25))/10/Gt,hn=Math.floor(Math.log2(en)),tn=new Array(hn+2).fill(2);tn[0]=Gt,tn.splice(-1,1,en/(1<<hn));let gn=Rt,nn=Kt,bn=await Lt;for(const Wt of tn){const Yt=gn,dn=nn;gn=Math.floor(gn/Wt)-1,nn=Math.floor(nn/Wt)-1;const Ut=new OffscreenCanvas(gn,nn);Ut.getContext("2d").drawImage(bn,0,0,Yt,dn,0,0,gn,nn),bn=Ut.transferToImageBitmap()}return jt.data=null,jt.bitmap=bn,jt.width=gn,jt.height=nn,jt}_encodeBMP(){const{width:Vt,height:qt,kind:Lt}=this._imgData;let $t=this._imgData.data,Ot,jt=new Uint8Array(0),Rt=jt,Kt=0;switch(Lt){case wt.ImageKind.GRAYSCALE_1BPP:{Ot=1,jt=new Uint8Array(this._isMask?[255,255,255,255,0,0,0,0]:[0,0,0,0,255,255,255,255]);const nn=Vt+7>>3,bn=nn+3&-4;if(nn!==bn){const Wt=new Uint8Array(bn*qt);let Yt=0;for(let dn=0,Ut=qt*nn;dn<Ut;dn+=nn,Yt+=bn)Wt.set($t.subarray(dn,dn+nn),Yt);$t=Wt}break}case wt.ImageKind.RGB_24BPP:{if(Ot=24,Vt&3){const nn=3*Vt,bn=nn+3&-4,Wt=bn-nn,Yt=new Uint8Array(bn*qt);let dn=0;for(let Ut=0,Mt=qt*nn;Ut<Mt;Ut+=nn){const Ht=$t.subarray(Ut,Ut+nn);for(let sn=0;sn<nn;sn+=3)Yt[dn++]=Ht[sn+2],Yt[dn++]=Ht[sn+1],Yt[dn++]=Ht[sn];dn+=Wt}$t=Yt}else for(let nn=0,bn=$t.length;nn<bn;nn+=3){const Wt=$t[nn];$t[nn]=$t[nn+2],$t[nn+2]=Wt}break}case wt.ImageKind.RGBA_32BPP:Ot=32,Kt=3,Rt=new Uint8Array(68);const gn=new DataView(Rt.buffer);wt.FeatureTest.isLittleEndian?(gn.setUint32(0,255,!0),gn.setUint32(4,65280,!0),gn.setUint32(8,16711680,!0),gn.setUint32(12,4278190080,!0)):(gn.setUint32(0,4278190080,!0),gn.setUint32(4,16711680,!0),gn.setUint32(8,65280,!0),gn.setUint32(12,255,!0));break;default:throw new Error("invalid format")}let Bt=0;const Gt=40+Rt.length,en=14+Gt+jt.length+$t.length,hn=new Uint8Array(en),tn=new DataView(hn.buffer);return tn.setUint16(Bt,19778,!0),Bt+=2,tn.setUint32(Bt,en,!0),Bt+=4,tn.setUint32(Bt,0,!0),Bt+=4,tn.setUint32(Bt,14+Gt+jt.length,!0),Bt+=4,tn.setUint32(Bt,Gt,!0),Bt+=4,tn.setInt32(Bt,Vt,!0),Bt+=4,tn.setInt32(Bt,-qt,!0),Bt+=4,tn.setUint16(Bt,1,!0),Bt+=2,tn.setUint16(Bt,Ot,!0),Bt+=2,tn.setUint32(Bt,Kt,!0),Bt+=4,tn.setUint32(Bt,0,!0),Bt+=4,tn.setInt32(Bt,0,!0),Bt+=4,tn.setInt32(Bt,0,!0),Bt+=4,tn.setUint32(Bt,jt.length/4,!0),Bt+=4,tn.setUint32(Bt,0,!0),Bt+=4,hn.set(Rt,Bt),Bt+=Rt.length,hn.set(jt,Bt),Bt+=jt.length,hn.set($t,Bt),hn}}Et.ImageResizer=vt,vt._goodSquareLength=kt},(Ct,Et,Pt)=>{Object.defineProperty(Et,"__esModule",{value:!0}),Et.MurmurHash3_64=void 0;var wt=Pt(2);const kt=3285377520,_t=4294901760,ht=65535;class vt{constructor(Vt){this.h1=Vt?Vt&4294967295:kt,this.h2=Vt?Vt&4294967295:kt}update(Vt){let qt,Lt;if(typeof Vt=="string"){qt=new Uint8Array(Vt.length*2),Lt=0;for(let nn=0,bn=Vt.length;nn<bn;nn++){const Wt=Vt.charCodeAt(nn);Wt<=255?qt[Lt++]=Wt:(qt[Lt++]=Wt>>>8,qt[Lt++]=Wt&255)}}else if((0,wt.isArrayBuffer)(Vt))qt=Vt.slice(),Lt=qt.byteLength;else throw new Error("Wrong data format in MurmurHash3_64_update. Input must be a string or array.");const $t=Lt>>2,Ot=Lt-$t*4,jt=new Uint32Array(qt.buffer,0,$t);let Rt=0,Kt=0,Bt=this.h1,Gt=this.h2;const en=3432918353,hn=461845907,tn=en&ht,gn=hn&ht;for(let nn=0;nn<$t;nn++)nn&1?(Rt=jt[nn],Rt=Rt*en&_t|Rt*tn&ht,Rt=Rt<<15|Rt>>>17,Rt=Rt*hn&_t|Rt*gn&ht,Bt^=Rt,Bt=Bt<<13|Bt>>>19,Bt=Bt*5+3864292196):(Kt=jt[nn],Kt=Kt*en&_t|Kt*tn&ht,Kt=Kt<<15|Kt>>>17,Kt=Kt*hn&_t|Kt*gn&ht,Gt^=Kt,Gt=Gt<<13|Gt>>>19,Gt=Gt*5+3864292196);switch(Rt=0,Ot){case 3:Rt^=qt[$t*4+2]<<16;case 2:Rt^=qt[$t*4+1]<<8;case 1:Rt^=qt[$t*4],Rt=Rt*en&_t|Rt*tn&ht,Rt=Rt<<15|Rt>>>17,Rt=Rt*hn&_t|Rt*gn&ht,$t&1?Bt^=Rt:Gt^=Rt}this.h1=Bt,this.h2=Gt}hexdigest(){let Vt=this.h1,qt=this.h2;return Vt^=qt>>>1,Vt=Vt*3981806797&_t|Vt*36045&ht,qt=qt*4283543511&_t|((qt<<16|Vt>>>16)*2950163797&_t)>>>16,Vt^=qt>>>1,Vt=Vt*444984403&_t|Vt*60499&ht,qt=qt*3301882366&_t|((qt<<16|Vt>>>16)*3120437893&_t)>>>16,Vt^=qt>>>1,(Vt>>>0).toString(16).padStart(8,"0")+(qt>>>0).toString(16).padStart(8,"0")}}Et.MurmurHash3_64=vt},(Ct,Et,Pt)=>{Object.defineProperty(Et,"__esModule",{value:!0}),Et.OperatorList=void 0;var wt=Pt(2);function kt(qt,Lt,$t,Ot,jt){let Rt=qt;for(let Kt=0,Bt=Lt.length-1;Kt<Bt;Kt++){const Gt=Lt[Kt];Rt=Rt[Gt]||(Rt[Gt]=[])}Rt[Lt.at(-1)]={checkFn:$t,iterateFn:Ot,processFn:jt}}const _t=[];kt(_t,[wt.OPS.save,wt.OPS.transform,wt.OPS.paintInlineImageXObject,wt.OPS.restore],null,function(Lt,$t){const Ot=Lt.fnArray,jt=Lt.iCurr-3,Rt=($t-jt)%4;switch(Rt){case 0:return Ot[$t]===wt.OPS.save;case 1:return Ot[$t]===wt.OPS.transform;case 2:return Ot[$t]===wt.OPS.paintInlineImageXObject;case 3:return Ot[$t]===wt.OPS.restore}throw new Error(`iterateInlineImageGroup - invalid pos: ${Rt}`)},function(Lt,$t){const Bt=Lt.fnArray,Gt=Lt.argsArray,en=Lt.iCurr,hn=en-3,tn=en-2,gn=en-1,nn=Math.min(Math.floor(($t-hn)/4),200);if(nn<10)return $t-($t-hn)%4;let bn=0;const Wt=[];let Yt=0,dn=1,Ut=1;for(let Qt=0;Qt<nn;Qt++){const ln=Gt[tn+(Qt<<2)],on=Gt[gn+(Qt<<2)][0];dn+on.width>1e3&&(bn=Math.max(bn,dn),Ut+=Yt+2,dn=0,Yt=0),Wt.push({transform:ln,x:dn,y:Ut,w:on.width,h:on.height}),dn+=on.width+2,Yt=Math.max(Yt,on.height)}const Mt=Math.max(bn,dn)+1,Ht=Ut+Yt+1,sn=new Uint8Array(Mt*Ht*4),zt=Mt<<2;for(let Qt=0;Qt<nn;Qt++){const ln=Gt[gn+(Qt<<2)][0].data,on=Wt[Qt].w<<2;let cn=0,rn=Wt[Qt].x+Wt[Qt].y*Mt<<2;sn.set(ln.subarray(0,on),rn-zt);for(let an=0,xn=Wt[Qt].h;an<xn;an++)sn.set(ln.subarray(cn,cn+on),rn),cn+=on,rn+=zt;for(sn.set(ln.subarray(cn-on,cn),rn);rn>=0;)ln[rn-4]=ln[rn],ln[rn-3]=ln[rn+1],ln[rn-2]=ln[rn+2],ln[rn-1]=ln[rn+3],ln[rn+on]=ln[rn+on-4],ln[rn+on+1]=ln[rn+on-3],ln[rn+on+2]=ln[rn+on-2],ln[rn+on+3]=ln[rn+on-1],rn-=zt}const Xt={width:Mt,height:Ht};if(Lt.isOffscreenCanvasSupported){const Qt=new OffscreenCanvas(Mt,Ht);Qt.getContext("2d").putImageData(new ImageData(new Uint8ClampedArray(sn.buffer),Mt,Ht),0,0),Xt.bitmap=Qt.transferToImageBitmap(),Xt.data=null}else Xt.kind=wt.ImageKind.RGBA_32BPP,Xt.data=sn;return Bt.splice(hn,nn*4,wt.OPS.paintInlineImageXObjectGroup),Gt.splice(hn,nn*4,[Xt,Wt]),hn+1}),kt(_t,[wt.OPS.save,wt.OPS.transform,wt.OPS.paintImageMaskXObject,wt.OPS.restore],null,function(Lt,$t){const Ot=Lt.fnArray,jt=Lt.iCurr-3,Rt=($t-jt)%4;switch(Rt){case 0:return Ot[$t]===wt.OPS.save;case 1:return Ot[$t]===wt.OPS.transform;case 2:return Ot[$t]===wt.OPS.paintImageMaskXObject;case 3:return Ot[$t]===wt.OPS.restore}throw new Error(`iterateImageMaskGroup - invalid pos: ${Rt}`)},function(Lt,$t){const Kt=Lt.fnArray,Bt=Lt.argsArray,Gt=Lt.iCurr,en=Gt-3,hn=Gt-2,tn=Gt-1;let gn=Math.floor(($t-en)/4);if(gn<10)return $t-($t-en)%4;let nn=!1,bn,Wt;const Yt=Bt[tn][0],dn=Bt[hn][0],Ut=Bt[hn][1],Mt=Bt[hn][2],Ht=Bt[hn][3];if(Ut===Mt){nn=!0,bn=hn+4;let sn=tn+4;for(let zt=1;zt<gn;zt++,bn+=4,sn+=4)if(Wt=Bt[bn],Bt[sn][0]!==Yt||Wt[0]!==dn||Wt[1]!==Ut||Wt[2]!==Mt||Wt[3]!==Ht){zt<10?nn=!1:gn=zt;break}}if(nn){gn=Math.min(gn,1e3);const sn=new Float32Array(gn*2);bn=hn;for(let zt=0;zt<gn;zt++,bn+=4)Wt=Bt[bn],sn[zt<<1]=Wt[4],sn[(zt<<1)+1]=Wt[5];Kt.splice(en,gn*4,wt.OPS.paintImageMaskXObjectRepeat),Bt.splice(en,gn*4,[Yt,dn,Ut,Mt,Ht,sn])}else{gn=Math.min(gn,100);const sn=[];for(let zt=0;zt<gn;zt++){Wt=Bt[hn+(zt<<2)];const Xt=Bt[tn+(zt<<2)][0];sn.push({data:Xt.data,width:Xt.width,height:Xt.height,interpolate:Xt.interpolate,count:Xt.count,transform:Wt})}Kt.splice(en,gn*4,wt.OPS.paintImageMaskXObjectGroup),Bt.splice(en,gn*4,[sn])}return en+1}),kt(_t,[wt.OPS.save,wt.OPS.transform,wt.OPS.paintImageXObject,wt.OPS.restore],function(qt){const Lt=qt.argsArray,$t=qt.iCurr-2;return Lt[$t][1]===0&&Lt[$t][2]===0},function(Lt,$t){const Ot=Lt.fnArray,jt=Lt.argsArray,Rt=Lt.iCurr-3,Kt=($t-Rt)%4;switch(Kt){case 0:return Ot[$t]===wt.OPS.save;case 1:if(Ot[$t]!==wt.OPS.transform)return!1;const Bt=Lt.iCurr-2,Gt=jt[Bt][0],en=jt[Bt][3];return!(jt[$t][0]!==Gt||jt[$t][1]!==0||jt[$t][2]!==0||jt[$t][3]!==en);case 2:if(Ot[$t]!==wt.OPS.paintImageXObject)return!1;const hn=Lt.iCurr-1,tn=jt[hn][0];return jt[$t][0]===tn;case 3:return Ot[$t]===wt.OPS.restore}throw new Error(`iterateImageGroup - invalid pos: ${Kt}`)},function(qt,Lt){const jt=qt.fnArray,Rt=qt.argsArray,Kt=qt.iCurr,Bt=Kt-3,Gt=Kt-2,en=Kt-1,hn=Rt[en][0],tn=Rt[Gt][0],gn=Rt[Gt][3],nn=Math.min(Math.floor((Lt-Bt)/4),1e3);if(nn<3)return Lt-(Lt-Bt)%4;const bn=new Float32Array(nn*2);let Wt=Gt;for(let dn=0;dn<nn;dn++,Wt+=4){const Ut=Rt[Wt];bn[dn<<1]=Ut[4],bn[(dn<<1)+1]=Ut[5]}const Yt=[hn,tn,gn,bn];return jt.splice(Bt,nn*4,wt.OPS.paintImageXObjectRepeat),Rt.splice(Bt,nn*4,Yt),Bt+1}),kt(_t,[wt.OPS.beginText,wt.OPS.setFont,wt.OPS.setTextMatrix,wt.OPS.showText,wt.OPS.endText],null,function(Lt,$t){const Ot=Lt.fnArray,jt=Lt.argsArray,Rt=Lt.iCurr-4,Kt=($t-Rt)%5;switch(Kt){case 0:return Ot[$t]===wt.OPS.beginText;case 1:return Ot[$t]===wt.OPS.setFont;case 2:return Ot[$t]===wt.OPS.setTextMatrix;case 3:if(Ot[$t]!==wt.OPS.showText)return!1;const Bt=Lt.iCurr-3,Gt=jt[Bt][0],en=jt[Bt][1];return!(jt[$t][0]!==Gt||jt[$t][1]!==en);case 4:return Ot[$t]===wt.OPS.endText}throw new Error(`iterateShowTextGroup - invalid pos: ${Kt}`)},function(qt,Lt){const jt=qt.fnArray,Rt=qt.argsArray,Kt=qt.iCurr,Bt=Kt-4,Gt=Kt-3,en=Kt-2,hn=Kt-1,tn=Kt,gn=Rt[Gt][0],nn=Rt[Gt][1];let bn=Math.min(Math.floor((Lt-Bt)/5),1e3);if(bn<3)return Lt-(Lt-Bt)%5;let Wt=Bt;Bt>=4&&jt[Bt-4]===jt[Gt]&&jt[Bt-3]===jt[en]&&jt[Bt-2]===jt[hn]&&jt[Bt-1]===jt[tn]&&Rt[Bt-4][0]===gn&&Rt[Bt-4][1]===nn&&(bn++,Wt-=5);let Yt=Wt+4;for(let dn=1;dn<bn;dn++)jt.splice(Yt,3),Rt.splice(Yt,3),Yt+=2;return Yt+1});class ht{constructor(Lt){this.queue=Lt}_optimize(){}push(Lt,$t){this.queue.fnArray.push(Lt),this.queue.argsArray.push($t),this._optimize()}flush(){}reset(){}}class vt extends ht{constructor(Lt){super(Lt),this.state=null,this.context={iCurr:0,fnArray:Lt.fnArray,argsArray:Lt.argsArray,isOffscreenCanvasSupported:!1},this.match=null,this.lastProcessed=0}set isOffscreenCanvasSupported(Lt){this.context.isOffscreenCanvasSupported=Lt}_optimize(){const Lt=this.queue.fnArray;let $t=this.lastProcessed,Ot=Lt.length,jt=this.state,Rt=this.match;if(!jt&&!Rt&&$t+1===Ot&&!_t[Lt[$t]]){this.lastProcessed=Ot;return}const Kt=this.context;for(;$t<Ot;){if(Rt){if((0,Rt.iterateFn)(Kt,$t)){$t++;continue}if($t=(0,Rt.processFn)(Kt,$t+1),Ot=Lt.length,Rt=null,jt=null,$t>=Ot)break}if(jt=(jt||_t)[Lt[$t]],!jt||Array.isArray(jt)){$t++;continue}if(Kt.iCurr=$t,$t++,jt.checkFn&&!(0,jt.checkFn)(Kt)){jt=null;continue}Rt=jt,jt=null}this.state=jt,this.match=Rt,this.lastProcessed=$t}flush(){for(;this.match;){const Lt=this.queue.fnArray.length;this.lastProcessed=(0,this.match.processFn)(this.context,Lt),this.match=null,this.state=null,this._optimize()}}reset(){this.state=null,this.match=null,this.lastProcessed=0}}const Vt=class Vt{constructor(Lt=0,$t){this._streamSink=$t,this.fnArray=[],this.argsArray=[],this.optimizer=$t&&!(Lt&wt.RenderingIntentFlag.OPLIST)?new vt(this):new ht(this),this.dependencies=new Set,this._totalLength=0,this.weight=0,this._resolved=$t?null:Promise.resolve()}set isOffscreenCanvasSupported(Lt){this.optimizer.isOffscreenCanvasSupported=Lt}get length(){return this.argsArray.length}get ready(){return this._resolved||this._streamSink.ready}get totalLength(){return this._totalLength+this.length}addOp(Lt,$t){this.optimizer.push(Lt,$t),this.weight++,this._streamSink&&(this.weight>=Vt.CHUNK_SIZE?this.flush():this.weight>=Vt.CHUNK_SIZE_ABOUT&&(Lt===wt.OPS.restore||Lt===wt.OPS.endText)&&this.flush())}addImageOps(Lt,$t,Ot){Ot!==void 0&&this.addOp(wt.OPS.beginMarkedContentProps,["OC",Ot]),this.addOp(Lt,$t),Ot!==void 0&&this.addOp(wt.OPS.endMarkedContent,[])}addDependency(Lt){this.dependencies.has(Lt)||(this.dependencies.add(Lt),this.addOp(wt.OPS.dependency,[Lt]))}addDependencies(Lt){for(const $t of Lt)this.addDependency($t)}addOpList(Lt){if(!(Lt instanceof Vt)){(0,wt.warn)('addOpList - ignoring invalid "opList" parameter.');return}for(const $t of Lt.dependencies)this.dependencies.add($t);for(let $t=0,Ot=Lt.length;$t<Ot;$t++)this.addOp(Lt.fnArray[$t],Lt.argsArray[$t])}getIR(){return{fnArray:this.fnArray,argsArray:this.argsArray,length:this.length}}get _transfers(){var Rt;const Lt=[],{fnArray:$t,argsArray:Ot,length:jt}=this;for(let Kt=0;Kt<jt;Kt++)switch($t[Kt]){case wt.OPS.paintInlineImageXObject:case wt.OPS.paintInlineImageXObjectGroup:case wt.OPS.paintImageMaskXObject:const Bt=Ot[Kt][0];!Bt.cached&&((Rt=Bt.data)==null?void 0:Rt.buffer)instanceof ArrayBuffer&&Lt.push(Bt.data.buffer);break}return Lt}flush(Lt=!1,$t=null){this.optimizer.flush();const Ot=this.length;this._totalLength+=Ot,this._streamSink.enqueue({fnArray:this.fnArray,argsArray:this.argsArray,lastChunk:Lt,separateAnnots:$t,length:Ot},1,this._transfers),this.dependencies.clear(),this.fnArray.length=0,this.argsArray.length=0,this.weight=0,this.optimizer.reset()}};Us(Vt,"CHUNK_SIZE",1e3),Us(Vt,"CHUNK_SIZE_ABOUT",Vt.CHUNK_SIZE-5);let Ft=Vt;Et.OperatorList=Ft},(Ct,Et,Pt)=>{Object.defineProperty(Et,"__esModule",{value:!0}),Et.PDFImage=void 0;var wt=Pt(2),kt=Pt(28),_t=Pt(5),ht=Pt(12),vt=Pt(18),Ft=Pt(62),Vt=Pt(26),qt=Pt(30),Lt=Pt(4);function $t(Rt,Kt,Bt,Gt){return Rt=Kt+Rt*Bt,Rt<0?Rt=0:Rt>Gt&&(Rt=Gt),Rt}function Ot(Rt,Kt,Bt,Gt,en,hn){const tn=en*hn;let gn;Kt<=8?gn=new Uint8Array(tn):Kt<=16?gn=new Uint16Array(tn):gn=new Uint32Array(tn);const nn=Bt/en,bn=Gt/hn;let Wt,Yt,dn,Ut=0,Mt;const Ht=new Uint16Array(en),sn=Bt;for(Wt=0;Wt<en;Wt++)Ht[Wt]=Math.floor(Wt*nn);for(Wt=0;Wt<hn;Wt++)for(dn=Math.floor(Wt*bn)*sn,Yt=0;Yt<en;Yt++)Mt=dn+Ht[Yt],gn[Ut++]=Rt[Mt];return gn}class jt{constructor({xref:Kt,res:Bt,image:Gt,isInline:en=!1,smask:hn=null,mask:tn=null,isMask:gn=!1,pdfFunctionFactory:nn,localColorSpaceCache:bn}){var sn;this.image=Gt;const Wt=Gt.dict,Yt=Wt.get("F","Filter");let dn;if(Yt instanceof Lt.Name)dn=Yt.name;else if(Array.isArray(Yt)){const zt=Kt.fetchIfRef(Yt[0]);zt instanceof Lt.Name&&(dn=zt.name)}switch(dn){case"JPXDecode":const zt=new qt.JpxImage;zt.parseImageProperties(Gt.stream),Gt.stream.reset(),Gt.width=zt.width,Gt.height=zt.height,Gt.bitsPerComponent=zt.bitsPerComponent,Gt.numComps=zt.componentsCount;break;case"JBIG2Decode":Gt.bitsPerComponent=1,Gt.numComps=1;break}let Ut=Wt.get("W","Width"),Mt=Wt.get("H","Height");if(Number.isInteger(Gt.width)&&Gt.width>0&&Number.isInteger(Gt.height)&&Gt.height>0&&(Gt.width!==Ut||Gt.height!==Mt)&&((0,wt.warn)("PDFImage - using the Width/Height of the image data, rather than the image dictionary."),Ut=Gt.width,Mt=Gt.height),Ut<1||Mt<1)throw new wt.FormatError(`Invalid image width: ${Ut} or height: ${Mt}`);this.width=Ut,this.height=Mt,this.interpolate=Wt.get("I","Interpolate"),this.imageMask=Wt.get("IM","ImageMask")||!1,this.matte=Wt.get("Matte")||!1;let Ht=Gt.bitsPerComponent;if(!Ht&&(Ht=Wt.get("BPC","BitsPerComponent"),!Ht))if(this.imageMask)Ht=1;else throw new wt.FormatError(`Bits per component missing in image: ${this.imageMask}`);if(this.bpc=Ht,!this.imageMask){let zt=Wt.getRaw("CS")||Wt.getRaw("ColorSpace");if(!zt)switch((0,wt.info)("JPX images (which do not require color spaces)"),Gt.numComps){case 1:zt=Lt.Name.get("DeviceGray");break;case 3:zt=Lt.Name.get("DeviceRGB");break;case 4:zt=Lt.Name.get("DeviceCMYK");break;default:throw new Error(`JPX images with ${Gt.numComps} color components not supported.`)}this.colorSpace=ht.ColorSpace.parse({cs:zt,xref:Kt,resources:en?Bt:null,pdfFunctionFactory:nn,localColorSpaceCache:bn}),this.numComps=this.colorSpace.numComps}if(this.decode=Wt.getArray("D","Decode"),this.needsDecode=!1,this.decode&&(this.colorSpace&&!this.colorSpace.isDefaultDecode(this.decode,Ht)||gn&&!ht.ColorSpace.isDefaultDecode(this.decode,1))){this.needsDecode=!0;const zt=(1<<Ht)-1;this.decodeCoefficients=[],this.decodeAddends=[];const Xt=((sn=this.colorSpace)==null?void 0:sn.name)==="Indexed";for(let Qt=0,ln=0;Qt<this.decode.length;Qt+=2,++ln){const on=this.decode[Qt],cn=this.decode[Qt+1];this.decodeCoefficients[ln]=Xt?(cn-on)/zt:cn-on,this.decodeAddends[ln]=Xt?on:zt*on}}hn?this.smask=new jt({xref:Kt,res:Bt,image:hn,isInline:en,pdfFunctionFactory:nn,localColorSpaceCache:bn}):tn&&(tn instanceof _t.BaseStream?tn.dict.get("IM","ImageMask")?this.mask=new jt({xref:Kt,res:Bt,image:tn,isInline:en,isMask:!0,pdfFunctionFactory:nn,localColorSpaceCache:bn}):(0,wt.warn)("Ignoring /Mask in image without /ImageMask."):this.mask=tn)}static async buildImage({xref:Kt,res:Bt,image:Gt,isInline:en=!1,pdfFunctionFactory:hn,localColorSpaceCache:tn}){const gn=Gt;let nn=null,bn=null;const Wt=Gt.dict.get("SMask"),Yt=Gt.dict.get("Mask");return Wt?Wt instanceof _t.BaseStream?nn=Wt:(0,wt.warn)("Unsupported /SMask format."):Yt&&(Yt instanceof _t.BaseStream||Array.isArray(Yt)?bn=Yt:(0,wt.warn)("Unsupported /Mask format.")),new jt({xref:Kt,res:Bt,image:gn,isInline:en,smask:nn,mask:bn,pdfFunctionFactory:hn,localColorSpaceCache:tn})}static createRawMask({imgArray:Kt,width:Bt,height:Gt,imageIsFromDecodeStream:en,inverseDecode:hn,interpolate:tn}){const gn=(Bt+7>>3)*Gt,nn=Kt.byteLength,bn=gn===nn;let Wt,Yt;if(en&&(!hn||bn)?Wt=Kt:hn?(Wt=new Uint8Array(gn),Wt.set(Kt),Wt.fill(255,nn)):Wt=new Uint8Array(Kt),hn)for(Yt=0;Yt<nn;Yt++)Wt[Yt]^=255;return{data:Wt,width:Bt,height:Gt,interpolate:tn}}static async createMask({imgArray:Kt,width:Bt,height:Gt,imageIsFromDecodeStream:en,inverseDecode:hn,interpolate:tn,isOffscreenCanvasSupported:gn=!1}){const nn=Bt===1&&Gt===1&&hn===(Kt.length===0||!!(Kt[0]&128));if(nn)return{isSingleOpaquePixel:nn};if(gn){if(Ft.ImageResizer.needsToBeResized(Bt,Gt)){const Ut=new Uint8ClampedArray(Bt*Gt*4);return(0,kt.convertBlackAndWhiteToRGBA)({src:Kt,dest:Ut,width:Bt,height:Gt,nonBlackColor:0,inverseDecode:hn}),Ft.ImageResizer.createImage({kind:wt.ImageKind.RGBA_32BPP,data:Ut,width:Bt,height:Gt,interpolate:tn})}const bn=new OffscreenCanvas(Bt,Gt),Wt=bn.getContext("2d"),Yt=Wt.createImageData(Bt,Gt);(0,kt.convertBlackAndWhiteToRGBA)({src:Kt,dest:Yt.data,width:Bt,height:Gt,nonBlackColor:0,inverseDecode:hn}),Wt.putImageData(Yt,0,0);const dn=bn.transferToImageBitmap();return{data:null,width:Bt,height:Gt,interpolate:tn,bitmap:dn}}return this.createRawMask({imgArray:Kt,width:Bt,height:Gt,inverseDecode:hn,imageIsFromDecodeStream:en,interpolate:tn})}get drawWidth(){var Kt,Bt;return Math.max(this.width,((Kt=this.smask)==null?void 0:Kt.width)||0,((Bt=this.mask)==null?void 0:Bt.width)||0)}get drawHeight(){var Kt,Bt;return Math.max(this.height,((Kt=this.smask)==null?void 0:Kt.height)||0,((Bt=this.mask)==null?void 0:Bt.height)||0)}decodeBuffer(Kt){const Bt=this.bpc,Gt=this.numComps,en=this.decodeAddends,hn=this.decodeCoefficients,tn=(1<<Bt)-1;let gn,nn;if(Bt===1){for(gn=0,nn=Kt.length;gn<nn;gn++)Kt[gn]=+!Kt[gn];return}let bn=0;for(gn=0,nn=this.width*this.height;gn<nn;gn++)for(let Wt=0;Wt<Gt;Wt++)Kt[bn]=$t(Kt[bn],en[Wt],hn[Wt],tn),bn++}getComponents(Kt){const Bt=this.bpc;if(Bt===8)return Kt;const Gt=this.width,en=this.height,hn=this.numComps,tn=Gt*en*hn;let gn=0,nn;Bt<=8?nn=new Uint8Array(tn):Bt<=16?nn=new Uint16Array(tn):nn=new Uint32Array(tn);const bn=Gt*hn,Wt=(1<<Bt)-1;let Yt=0,dn,Ut;if(Bt===1){let Mt,Ht,sn;for(let zt=0;zt<en;zt++){for(Ht=Yt+(bn&-8),sn=Yt+bn;Yt<Ht;)Ut=Kt[gn++],nn[Yt]=Ut>>7&1,nn[Yt+1]=Ut>>6&1,nn[Yt+2]=Ut>>5&1,nn[Yt+3]=Ut>>4&1,nn[Yt+4]=Ut>>3&1,nn[Yt+5]=Ut>>2&1,nn[Yt+6]=Ut>>1&1,nn[Yt+7]=Ut&1,Yt+=8;if(Yt<sn)for(Ut=Kt[gn++],Mt=128;Yt<sn;)nn[Yt++]=+!!(Ut&Mt),Mt>>=1}}else{let Mt=0;for(Ut=0,Yt=0,dn=tn;Yt<dn;++Yt){for(Yt%bn===0&&(Ut=0,Mt=0);Mt<Bt;)Ut=Ut<<8|Kt[gn++],Mt+=8;const Ht=Mt-Bt;let sn=Ut>>Ht;sn<0?sn=0:sn>Wt&&(sn=Wt),nn[Yt]=sn,Ut&=(1<<Ht)-1,Mt=Ht}}return nn}fillOpacity(Kt,Bt,Gt,en,hn){const tn=this.smask,gn=this.mask;let nn,bn,Wt,Yt,dn,Ut;if(tn)bn=tn.width,Wt=tn.height,nn=new Uint8ClampedArray(bn*Wt),tn.fillGrayBuffer(nn),(bn!==Bt||Wt!==Gt)&&(nn=Ot(nn,tn.bpc,bn,Wt,Bt,Gt));else if(gn)if(gn instanceof jt){for(bn=gn.width,Wt=gn.height,nn=new Uint8ClampedArray(bn*Wt),gn.numComps=1,gn.fillGrayBuffer(nn),Yt=0,dn=bn*Wt;Yt<dn;++Yt)nn[Yt]=255-nn[Yt];(bn!==Bt||Wt!==Gt)&&(nn=Ot(nn,gn.bpc,bn,Wt,Bt,Gt))}else if(Array.isArray(gn)){nn=new Uint8ClampedArray(Bt*Gt);const Mt=this.numComps;for(Yt=0,dn=Bt*Gt;Yt<dn;++Yt){let Ht=0;const sn=Yt*Mt;for(Ut=0;Ut<Mt;++Ut){const zt=hn[sn+Ut],Xt=Ut*2;if(zt<gn[Xt]||zt>gn[Xt+1]){Ht=255;break}}nn[Yt]=Ht}}else throw new wt.FormatError("Unknown mask format.");if(nn)for(Yt=0,Ut=3,dn=Bt*en;Yt<dn;++Yt,Ut+=4)Kt[Ut]=nn[Yt];else for(Yt=0,Ut=3,dn=Bt*en;Yt<dn;++Yt,Ut+=4)Kt[Ut]=255}undoPreblend(Kt,Bt,Gt){var Wt;const en=(Wt=this.smask)==null?void 0:Wt.matte;if(!en)return;const hn=this.colorSpace.getRgb(en,0),tn=hn[0],gn=hn[1],nn=hn[2],bn=Bt*Gt*4;for(let Yt=0;Yt<bn;Yt+=4){const dn=Kt[Yt+3];if(dn===0){Kt[Yt]=255,Kt[Yt+1]=255,Kt[Yt+2]=255;continue}const Ut=255/dn;Kt[Yt]=(Kt[Yt]-tn)*Ut+tn,Kt[Yt+1]=(Kt[Yt+1]-gn)*Ut+gn,Kt[Yt+2]=(Kt[Yt+2]-nn)*Ut+nn}}async createImageData(Kt=!1,Bt=!1){const Gt=this.drawWidth,en=this.drawHeight,hn={width:Gt,height:en,interpolate:this.interpolate,kind:0,data:null},tn=this.numComps,gn=this.width,nn=this.height,bn=this.bpc,Wt=gn*tn*bn+7>>3,Yt=Bt&&Ft.ImageResizer.needsToBeResized(Gt,en);if(!Kt){let on;if(this.colorSpace.name==="DeviceGray"&&bn===1?on=wt.ImageKind.GRAYSCALE_1BPP:this.colorSpace.name==="DeviceRGB"&&bn===8&&!this.needsDecode&&(on=wt.ImageKind.RGB_24BPP),on&&!this.smask&&!this.mask&&Gt===gn&&en===nn){const cn=this.getImageBytes(nn*Wt,{});if(Bt)return Yt?Ft.ImageResizer.createImage({data:cn,kind:on,width:Gt,height:en,interpolate:this.interpolate},this.needsDecode):this.createBitmap(on,gn,nn,cn);if(hn.kind=on,hn.data=cn,this.needsDecode){(0,wt.assert)(on===wt.ImageKind.GRAYSCALE_1BPP,"PDFImage.createImageData: The image must be grayscale.");const rn=hn.data;for(let an=0,xn=rn.length;an<xn;an++)rn[an]^=255}return hn}if(this.image instanceof Vt.JpegStream&&!this.smask&&!this.mask&&!this.needsDecode){let cn=nn*Wt;if(Bt&&!Yt){let rn=!1;switch(this.colorSpace.name){case"DeviceGray":cn*=4,rn=!0;break;case"DeviceRGB":cn=cn/3*4,rn=!0;break;case"DeviceCMYK":rn=!0;break}if(rn){const an=this.getImageBytes(cn,{drawWidth:Gt,drawHeight:en,forceRGBA:!0});return this.createBitmap(wt.ImageKind.RGBA_32BPP,Gt,en,an)}}else switch(this.colorSpace.name){case"DeviceGray":cn*=3;case"DeviceRGB":case"DeviceCMYK":return hn.kind=wt.ImageKind.RGB_24BPP,hn.data=this.getImageBytes(cn,{drawWidth:Gt,drawHeight:en,forceRGB:!0}),Yt?Ft.ImageResizer.createImage(hn):hn}}}const dn=this.getImageBytes(nn*Wt,{internal:!0}),Ut=0|dn.length/Wt*en/nn,Mt=this.getComponents(dn);let Ht,sn,zt,Xt,Qt,ln;if(Bt&&!Yt&&(zt=new OffscreenCanvas(Gt,en),Xt=zt.getContext("2d"),Qt=Xt.createImageData(Gt,en),ln=Qt.data),hn.kind=wt.ImageKind.RGBA_32BPP,!Kt&&!this.smask&&!this.mask?(!Bt||Yt?(hn.kind=wt.ImageKind.RGB_24BPP,ln=new Uint8ClampedArray(Gt*en*3),Ht=0):(new Uint32Array(ln.buffer).fill(wt.FeatureTest.isLittleEndian?4278190080:255),Ht=1),sn=!1):((!Bt||Yt)&&(ln=new Uint8ClampedArray(Gt*en*4)),Ht=1,sn=!0,this.fillOpacity(ln,Gt,en,Ut,Mt)),this.needsDecode&&this.decodeBuffer(Mt),this.colorSpace.fillRgb(ln,gn,nn,Gt,en,Ut,bn,Mt,Ht),sn&&this.undoPreblend(ln,Gt,Ut),Bt&&!Yt){Xt.putImageData(Qt,0,0);const on=zt.transferToImageBitmap();return{data:null,width:Gt,height:en,bitmap:on,interpolate:this.interpolate}}return hn.data=ln,Yt?Ft.ImageResizer.createImage(hn):hn}fillGrayBuffer(Kt){const Bt=this.numComps;if(Bt!==1)throw new wt.FormatError(`Reading gray scale from a color image: ${Bt}`);const Gt=this.width,en=this.height,hn=this.bpc,tn=Gt*Bt*hn+7>>3,gn=this.getImageBytes(en*tn,{internal:!0}),nn=this.getComponents(gn);let bn,Wt;if(hn===1){if(Wt=Gt*en,this.needsDecode)for(bn=0;bn<Wt;++bn)Kt[bn]=nn[bn]-1&255;else for(bn=0;bn<Wt;++bn)Kt[bn]=-nn[bn]&255;return}this.needsDecode&&this.decodeBuffer(nn),Wt=Gt*en;const Yt=255/((1<<hn)-1);for(bn=0;bn<Wt;++bn)Kt[bn]=Yt*nn[bn]}createBitmap(Kt,Bt,Gt,en){const hn=new OffscreenCanvas(Bt,Gt),tn=hn.getContext("2d");let gn;Kt===wt.ImageKind.RGBA_32BPP?gn=new ImageData(en,Bt,Gt):(gn=tn.createImageData(Bt,Gt),(0,kt.convertToRGBA)({kind:Kt,src:en,dest:new Uint32Array(gn.data.buffer),width:Bt,height:Gt,inverseDecode:this.needsDecode})),tn.putImageData(gn,0,0);const nn=hn.transferToImageBitmap();return{data:null,width:Bt,height:Gt,bitmap:nn,interpolate:this.interpolate}}getImageBytes(Kt,{drawWidth:Bt,drawHeight:Gt,forceRGBA:en=!1,forceRGB:hn=!1,internal:tn=!1}){this.image.reset(),this.image.drawWidth=Bt||this.width,this.image.drawHeight=Gt||this.height,this.image.forceRGBA=!!en,this.image.forceRGB=!!hn;const gn=this.image.getBytes(Kt);return tn||this.image instanceof vt.DecodeStream?gn:((0,wt.assert)(gn instanceof Uint8Array,'PDFImage.getImageBytes: Unsupported "imageBytes" type.'),new Uint8Array(gn))}}Et.PDFImage=jt},(Ct,Et,Pt)=>{Object.defineProperty(Et,"__esModule",{value:!0}),Et.Catalog=void 0;var wt=Pt(3),kt=Pt(2),_t=Pt(4),ht=Pt(67),vt=Pt(5),Ft=Pt(68),Vt=Pt(12),qt=Pt(69),Lt=Pt(59),$t=Pt(70),Ot=Pt(72);function jt(Kt){return Kt instanceof _t.Dict&&(Kt=Kt.get("D")),Array.isArray(Kt)?Kt:null}class Rt{constructor(Bt,Gt){if(this.pdfManager=Bt,this.xref=Gt,this._catDict=Gt.getCatalogObj(),!(this._catDict instanceof _t.Dict))throw new kt.FormatError("Catalog object is not a dictionary.");this.toplevelPagesDict,this._actualNumPages=null,this.fontCache=new _t.RefSetCache,this.builtInCMapCache=new Map,this.standardFontDataCache=new Map,this.globalImageCache=new Lt.GlobalImageCache,this.pageKidsCountCache=new _t.RefSetCache,this.pageIndexCache=new _t.RefSetCache,this.nonBlendModesSet=new _t.RefSet,this.systemFontCache=new Map}cloneDict(){return this._catDict.clone()}get version(){const Bt=this._catDict.get("Version");if(Bt instanceof _t.Name){if(wt.PDF_VERSION_REGEXP.test(Bt.name))return(0,kt.shadow)(this,"version",Bt.name);(0,kt.warn)(`Invalid PDF catalog version: ${Bt.name}`)}return(0,kt.shadow)(this,"version",null)}get lang(){const Bt=this._catDict.get("Lang");return(0,kt.shadow)(this,"lang",typeof Bt=="string"?(0,kt.stringToPDFString)(Bt):null)}get needsRendering(){const Bt=this._catDict.get("NeedsRendering");return(0,kt.shadow)(this,"needsRendering",typeof Bt=="boolean"?Bt:!1)}get collection(){let Bt=null;try{const Gt=this._catDict.get("Collection");Gt instanceof _t.Dict&&Gt.size>0&&(Bt=Gt)}catch(Gt){if(Gt instanceof wt.MissingDataException)throw Gt;(0,kt.info)("Cannot fetch Collection entry; assuming no collection is present.")}return(0,kt.shadow)(this,"collection",Bt)}get acroForm(){let Bt=null;try{const Gt=this._catDict.get("AcroForm");Gt instanceof _t.Dict&&Gt.size>0&&(Bt=Gt)}catch(Gt){if(Gt instanceof wt.MissingDataException)throw Gt;(0,kt.info)("Cannot fetch AcroForm entry; assuming no forms are present.")}return(0,kt.shadow)(this,"acroForm",Bt)}get acroFormRef(){const Bt=this._catDict.getRaw("AcroForm");return(0,kt.shadow)(this,"acroFormRef",Bt instanceof _t.Ref?Bt:null)}get metadata(){var en;const Bt=this._catDict.getRaw("Metadata");if(!(Bt instanceof _t.Ref))return(0,kt.shadow)(this,"metadata",null);let Gt=null;try{const hn=this.xref.fetch(Bt,!((en=this.xref.encrypt)!=null&&en.encryptMetadata));if(hn instanceof vt.BaseStream&&hn.dict instanceof _t.Dict){const tn=hn.dict.get("Type"),gn=hn.dict.get("Subtype");if((0,_t.isName)(tn,"Metadata")&&(0,_t.isName)(gn,"XML")){const nn=(0,kt.stringToUTF8String)(hn.getString());nn&&(Gt=new $t.MetadataParser(nn).serializable)}}}catch(hn){if(hn instanceof wt.MissingDataException)throw hn;(0,kt.info)(`Skipping invalid Metadata: "${hn}".`)}return(0,kt.shadow)(this,"metadata",Gt)}get markInfo(){let Bt=null;try{Bt=this._readMarkInfo()}catch(Gt){if(Gt instanceof wt.MissingDataException)throw Gt;(0,kt.warn)("Unable to read mark info.")}return(0,kt.shadow)(this,"markInfo",Bt)}_readMarkInfo(){const Bt=this._catDict.get("MarkInfo");if(!(Bt instanceof _t.Dict))return null;const Gt={Marked:!1,UserProperties:!1,Suspects:!1};for(const en in Gt){const hn=Bt.get(en);typeof hn=="boolean"&&(Gt[en]=hn)}return Gt}get structTreeRoot(){let Bt=null;try{Bt=this._readStructTreeRoot()}catch(Gt){if(Gt instanceof wt.MissingDataException)throw Gt;(0,kt.warn)("Unable read to structTreeRoot info.")}return(0,kt.shadow)(this,"structTreeRoot",Bt)}_readStructTreeRoot(){const Bt=this._catDict.getRaw("StructTreeRoot"),Gt=this.xref.fetchIfRef(Bt);if(!(Gt instanceof _t.Dict))return null;const en=new Ot.StructTreeRoot(Gt,Bt);return en.init(),en}get toplevelPagesDict(){const Bt=this._catDict.get("Pages");if(!(Bt instanceof _t.Dict))throw new kt.FormatError("Invalid top-level pages dictionary.");return(0,kt.shadow)(this,"toplevelPagesDict",Bt)}get documentOutline(){let Bt=null;try{Bt=this._readDocumentOutline()}catch(Gt){if(Gt instanceof wt.MissingDataException)throw Gt;(0,kt.warn)("Unable to read document outline.")}return(0,kt.shadow)(this,"documentOutline",Bt)}_readDocumentOutline(){let Bt=this._catDict.get("Outlines");if(!(Bt instanceof _t.Dict)||(Bt=Bt.getRaw("First"),!(Bt instanceof _t.Ref)))return null;const Gt={items:[]},en=[{obj:Bt,parent:Gt}],hn=new _t.RefSet;hn.put(Bt);const tn=this.xref,gn=new Uint8ClampedArray(3);for(;en.length>0;){const nn=en.shift(),bn=tn.fetchIfRef(nn.obj);if(bn===null)continue;if(!bn.has("Title"))throw new kt.FormatError("Invalid outline item encountered.");const Wt={url:null,dest:null,action:null};Rt.parseDestDictionary({destDict:bn,resultObj:Wt,docBaseUrl:this.baseUrl,docAttachments:this.attachments});const Yt=bn.get("Title"),dn=bn.get("F")||0,Ut=bn.getArray("C"),Mt=bn.get("Count");let Ht=gn;Array.isArray(Ut)&&Ut.length===3&&(Ut[0]!==0||Ut[1]!==0||Ut[2]!==0)&&(Ht=Vt.ColorSpace.singletons.rgb.getRgb(Ut,0));const sn={action:Wt.action,attachment:Wt.attachment,dest:Wt.dest,url:Wt.url,unsafeUrl:Wt.unsafeUrl,newWindow:Wt.newWindow,setOCGState:Wt.setOCGState,title:(0,kt.stringToPDFString)(Yt),color:Ht,count:Number.isInteger(Mt)?Mt:void 0,bold:!!(dn&2),italic:!!(dn&1),items:[]};nn.parent.items.push(sn),Bt=bn.getRaw("First"),Bt instanceof _t.Ref&&!hn.has(Bt)&&(en.push({obj:Bt,parent:sn}),hn.put(Bt)),Bt=bn.getRaw("Next"),Bt instanceof _t.Ref&&!hn.has(Bt)&&(en.push({obj:Bt,parent:nn.parent}),hn.put(Bt))}return Gt.items.length>0?Gt.items:null}get permissions(){let Bt=null;try{Bt=this._readPermissions()}catch(Gt){if(Gt instanceof wt.MissingDataException)throw Gt;(0,kt.warn)("Unable to read permissions.")}return(0,kt.shadow)(this,"permissions",Bt)}_readPermissions(){const Bt=this.xref.trailer.get("Encrypt");if(!(Bt instanceof _t.Dict))return null;let Gt=Bt.get("P");if(typeof Gt!="number")return null;Gt+=4294967296;const en=[];for(const hn in kt.PermissionFlag){const tn=kt.PermissionFlag[hn];Gt&tn&&en.push(tn)}return en}get optionalContentConfig(){let Bt=null;try{const Gt=this._catDict.get("OCProperties");if(!Gt)return(0,kt.shadow)(this,"optionalContentConfig",null);const en=Gt.get("D");if(!en)return(0,kt.shadow)(this,"optionalContentConfig",null);const hn=Gt.get("OCGs");if(!Array.isArray(hn))return(0,kt.shadow)(this,"optionalContentConfig",null);const tn=[],gn=[];for(const nn of hn){if(!(nn instanceof _t.Ref))continue;gn.push(nn);const bn=this.xref.fetchIfRef(nn);tn.push({id:nn.toString(),name:typeof bn.get("Name")=="string"?(0,kt.stringToPDFString)(bn.get("Name")):null,intent:typeof bn.get("Intent")=="string"?(0,kt.stringToPDFString)(bn.get("Intent")):null})}Bt=this._readOptionalContentConfig(en,gn),Bt.groups=tn}catch(Gt){if(Gt instanceof wt.MissingDataException)throw Gt;(0,kt.warn)(`Unable to read optional content config: ${Gt}`)}return(0,kt.shadow)(this,"optionalContentConfig",Bt)}_readOptionalContentConfig(Bt,Gt){function en(Wt){const Yt=[];if(Array.isArray(Wt))for(const dn of Wt)dn instanceof _t.Ref&&Gt.includes(dn)&&Yt.push(dn.toString());return Yt}function hn(Wt,Yt=0){if(!Array.isArray(Wt))return null;const dn=[];for(const Mt of Wt){if(Mt instanceof _t.Ref&&Gt.includes(Mt)){nn.put(Mt),dn.push(Mt.toString());continue}const Ht=tn(Mt,Yt);Ht&&dn.push(Ht)}if(Yt>0)return dn;const Ut=[];for(const Mt of Gt)nn.has(Mt)||Ut.push(Mt.toString());return Ut.length&&dn.push({name:null,order:Ut}),dn}function tn(Wt,Yt){if(++Yt>bn)return(0,kt.warn)("parseNestedOrder - reached MAX_NESTED_LEVELS."),null;const dn=gn.fetchIfRef(Wt);if(!Array.isArray(dn))return null;const Ut=gn.fetchIfRef(dn[0]);if(typeof Ut!="string")return null;const Mt=hn(dn.slice(1),Yt);return!Mt||!Mt.length?null:{name:(0,kt.stringToPDFString)(Ut),order:Mt}}const gn=this.xref,nn=new _t.RefSet,bn=10;return{name:typeof Bt.get("Name")=="string"?(0,kt.stringToPDFString)(Bt.get("Name")):null,creator:typeof Bt.get("Creator")=="string"?(0,kt.stringToPDFString)(Bt.get("Creator")):null,baseState:Bt.get("BaseState")instanceof _t.Name?Bt.get("BaseState").name:null,on:en(Bt.get("ON")),off:en(Bt.get("OFF")),order:hn(Bt.get("Order")),groups:null}}setActualNumPages(Bt=null){this._actualNumPages=Bt}get hasActualNumPages(){return this._actualNumPages!==null}get _pagesCount(){const Bt=this.toplevelPagesDict.get("Count");if(!Number.isInteger(Bt))throw new kt.FormatError("Page count in top-level pages dictionary is not an integer.");return(0,kt.shadow)(this,"_pagesCount",Bt)}get numPages(){return this.hasActualNumPages?this._actualNumPages:this._pagesCount}get destinations(){const Bt=this._readDests(),Gt=Object.create(null);if(Bt instanceof ht.NameTree)for(const[en,hn]of Bt.getAll()){const tn=jt(hn);tn&&(Gt[(0,kt.stringToPDFString)(en)]=tn)}else Bt instanceof _t.Dict&&Bt.forEach(function(en,hn){const tn=jt(hn);tn&&(Gt[en]=tn)});return(0,kt.shadow)(this,"destinations",Gt)}getDestination(Bt){const Gt=this._readDests();if(Gt instanceof ht.NameTree){const en=jt(Gt.get(Bt));if(en)return en;const hn=this.destinations[Bt];if(hn)return(0,kt.warn)(`Found "${Bt}" at an incorrect position in the NameTree.`),hn}else if(Gt instanceof _t.Dict){const en=jt(Gt.get(Bt));if(en)return en}return null}_readDests(){const Bt=this._catDict.get("Names");if(Bt!=null&&Bt.has("Dests"))return new ht.NameTree(Bt.getRaw("Dests"),this.xref);if(this._catDict.has("Dests"))return this._catDict.get("Dests")}get pageLabels(){let Bt=null;try{Bt=this._readPageLabels()}catch(Gt){if(Gt instanceof wt.MissingDataException)throw Gt;(0,kt.warn)("Unable to read page labels.")}return(0,kt.shadow)(this,"pageLabels",Bt)}_readPageLabels(){const Bt=this._catDict.getRaw("PageLabels");if(!Bt)return null;const Gt=new Array(this.numPages);let en=null,hn="";const gn=new ht.NumberTree(Bt,this.xref).getAll();let nn="",bn=1;for(let Wt=0,Yt=this.numPages;Wt<Yt;Wt++){const dn=gn.get(Wt);if(dn!==void 0){if(!(dn instanceof _t.Dict))throw new kt.FormatError("PageLabel is not a dictionary.");if(dn.has("Type")&&!(0,_t.isName)(dn.get("Type"),"PageLabel"))throw new kt.FormatError("Invalid type in PageLabel dictionary.");if(dn.has("S")){const Ut=dn.get("S");if(!(Ut instanceof _t.Name))throw new kt.FormatError("Invalid style in PageLabel dictionary.");en=Ut.name}else en=null;if(dn.has("P")){const Ut=dn.get("P");if(typeof Ut!="string")throw new kt.FormatError("Invalid prefix in PageLabel dictionary.");hn=(0,kt.stringToPDFString)(Ut)}else hn="";if(dn.has("St")){const Ut=dn.get("St");if(!(Number.isInteger(Ut)&&Ut>=1))throw new kt.FormatError("Invalid start in PageLabel dictionary.");bn=Ut}else bn=1}switch(en){case"D":nn=bn;break;case"R":case"r":nn=(0,wt.toRomanNumerals)(bn,en==="r");break;case"A":case"a":const Ut=26,sn=en==="a"?97:65,zt=bn-1;nn=String.fromCharCode(sn+zt%Ut).repeat(Math.floor(zt/Ut)+1);break;default:if(en)throw new kt.FormatError(`Invalid style "${en}" in PageLabel dictionary.`);nn=""}Gt[Wt]=hn+nn,bn++}return Gt}get pageLayout(){const Bt=this._catDict.get("PageLayout");let Gt="";if(Bt instanceof _t.Name)switch(Bt.name){case"SinglePage":case"OneColumn":case"TwoColumnLeft":case"TwoColumnRight":case"TwoPageLeft":case"TwoPageRight":Gt=Bt.name}return(0,kt.shadow)(this,"pageLayout",Gt)}get pageMode(){const Bt=this._catDict.get("PageMode");let Gt="UseNone";if(Bt instanceof _t.Name)switch(Bt.name){case"UseNone":case"UseOutlines":case"UseThumbs":case"FullScreen":case"UseOC":case"UseAttachments":Gt=Bt.name}return(0,kt.shadow)(this,"pageMode",Gt)}get viewerPreferences(){const Bt=this._catDict.get("ViewerPreferences");if(!(Bt instanceof _t.Dict))return(0,kt.shadow)(this,"viewerPreferences",null);let Gt=null;for(const en of Bt.getKeys()){const hn=Bt.get(en);let tn;switch(en){case"HideToolbar":case"HideMenubar":case"HideWindowUI":case"FitWindow":case"CenterWindow":case"DisplayDocTitle":case"PickTrayByPDFSize":typeof hn=="boolean"&&(tn=hn);break;case"NonFullScreenPageMode":if(hn instanceof _t.Name)switch(hn.name){case"UseNone":case"UseOutlines":case"UseThumbs":case"UseOC":tn=hn.name;break;default:tn="UseNone"}break;case"Direction":if(hn instanceof _t.Name)switch(hn.name){case"L2R":case"R2L":tn=hn.name;break;default:tn="L2R"}break;case"ViewArea":case"ViewClip":case"PrintArea":case"PrintClip":if(hn instanceof _t.Name)switch(hn.name){case"MediaBox":case"CropBox":case"BleedBox":case"TrimBox":case"ArtBox":tn=hn.name;break;default:tn="CropBox"}break;case"PrintScaling":if(hn instanceof _t.Name)switch(hn.name){case"None":case"AppDefault":tn=hn.name;break;default:tn="AppDefault"}break;case"Duplex":if(hn instanceof _t.Name)switch(hn.name){case"Simplex":case"DuplexFlipShortEdge":case"DuplexFlipLongEdge":tn=hn.name;break;default:tn="None"}break;case"PrintPageRange":Array.isArray(hn)&&hn.length%2===0&&hn.every((nn,bn,Wt)=>Number.isInteger(nn)&&nn>0&&(bn===0||nn>=Wt[bn-1])&&nn<=this.numPages)&&(tn=hn);break;case"NumCopies":Number.isInteger(hn)&&hn>0&&(tn=hn);break;default:(0,kt.warn)(`Ignoring non-standard key in ViewerPreferences: ${en}.`);continue}if(tn===void 0){(0,kt.warn)(`Bad value, for key "${en}", in ViewerPreferences: ${hn}.`);continue}Gt||(Gt=Object.create(null)),Gt[en]=tn}return(0,kt.shadow)(this,"viewerPreferences",Gt)}get openAction(){const Bt=this._catDict.get("OpenAction"),Gt=Object.create(null);if(Bt instanceof _t.Dict){const en=new _t.Dict(this.xref);en.set("A",Bt);const hn={url:null,dest:null,action:null};Rt.parseDestDictionary({destDict:en,resultObj:hn}),Array.isArray(hn.dest)?Gt.dest=hn.dest:hn.action&&(Gt.action=hn.action)}else Array.isArray(Bt)&&(Gt.dest=Bt);return(0,kt.shadow)(this,"openAction",(0,kt.objectSize)(Gt)>0?Gt:null)}get attachments(){const Bt=this._catDict.get("Names");let Gt=null;if(Bt instanceof _t.Dict&&Bt.has("EmbeddedFiles")){const en=new ht.NameTree(Bt.getRaw("EmbeddedFiles"),this.xref);for(const[hn,tn]of en.getAll()){const gn=new qt.FileSpec(tn,this.xref);Gt||(Gt=Object.create(null)),Gt[(0,kt.stringToPDFString)(hn)]=gn.serializable}}return(0,kt.shadow)(this,"attachments",Gt)}get xfaImages(){const Bt=this._catDict.get("Names");let Gt=null;if(Bt instanceof _t.Dict&&Bt.has("XFAImages")){const en=new ht.NameTree(Bt.getRaw("XFAImages"),this.xref);for(const[hn,tn]of en.getAll())Gt||(Gt=new _t.Dict(this.xref)),Gt.set((0,kt.stringToPDFString)(hn),tn)}return(0,kt.shadow)(this,"xfaImages",Gt)}_collectJavaScript(){const Bt=this._catDict.get("Names");let Gt=null;function en(tn,gn){if(!(gn instanceof _t.Dict)||!(0,_t.isName)(gn.get("S"),"JavaScript"))return;let nn=gn.get("JS");if(nn instanceof vt.BaseStream)nn=nn.getString();else if(typeof nn!="string")return;nn=(0,kt.stringToPDFString)(nn).replaceAll("\0",""),nn&&(Gt||(Gt=new Map)).set(tn,nn)}if(Bt instanceof _t.Dict&&Bt.has("JavaScript")){const tn=new ht.NameTree(Bt.getRaw("JavaScript"),this.xref);for(const[gn,nn]of tn.getAll())en((0,kt.stringToPDFString)(gn),nn)}const hn=this._catDict.get("OpenAction");return hn&&en("OpenAction",hn),Gt}get jsActions(){const Bt=this._collectJavaScript();let Gt=(0,wt.collectActions)(this.xref,this._catDict,kt.DocumentActionEventType);if(Bt){Gt||(Gt=Object.create(null));for(const[en,hn]of Bt)en in Gt?Gt[en].push(hn):Gt[en]=[hn]}return(0,kt.shadow)(this,"jsActions",Gt)}async fontFallback(Bt,Gt){const en=await Promise.all(this.fontCache);for(const hn of en)if(hn.loadedName===Bt){hn.fallback(Gt);return}}async cleanup(Bt=!1){(0,Ft.clearGlobalCaches)(),this.globalImageCache.clear(Bt),this.pageKidsCountCache.clear(),this.pageIndexCache.clear(),this.nonBlendModesSet.clear();const Gt=await Promise.all(this.fontCache);for(const{dict:en}of Gt)delete en.cacheKey;this.fontCache.clear(),this.builtInCMapCache.clear(),this.standardFontDataCache.clear(),this.systemFontCache.clear()}async getPageDict(Bt){const Gt=[this.toplevelPagesDict],en=new _t.RefSet,hn=this._catDict.getRaw("Pages");hn instanceof _t.Ref&&en.put(hn);const tn=this.xref,gn=this.pageKidsCountCache,nn=this.pageIndexCache;let bn=0;for(;Gt.length;){const Wt=Gt.pop();if(Wt instanceof _t.Ref){const Mt=gn.get(Wt);if(Mt>=0&&bn+Mt<=Bt){bn+=Mt;continue}if(en.has(Wt))throw new kt.FormatError("Pages tree contains circular reference.");en.put(Wt);const Ht=await tn.fetchAsync(Wt);if(Ht instanceof _t.Dict){let sn=Ht.getRaw("Type");if(sn instanceof _t.Ref&&(sn=await tn.fetchAsync(sn)),(0,_t.isName)(sn,"Page")||!Ht.has("Kids")){if(gn.has(Wt)||gn.put(Wt,1),nn.has(Wt)||nn.put(Wt,bn),bn===Bt)return[Ht,Wt];bn++;continue}}Gt.push(Ht);continue}if(!(Wt instanceof _t.Dict))throw new kt.FormatError("Page dictionary kid reference points to wrong type of object.");const{objId:Yt}=Wt;let dn=Wt.getRaw("Count");if(dn instanceof _t.Ref&&(dn=await tn.fetchAsync(dn)),Number.isInteger(dn)&&dn>=0&&(Yt&&!gn.has(Yt)&&gn.put(Yt,dn),bn+dn<=Bt)){bn+=dn;continue}let Ut=Wt.getRaw("Kids");if(Ut instanceof _t.Ref&&(Ut=await tn.fetchAsync(Ut)),!Array.isArray(Ut)){let Mt=Wt.getRaw("Type");if(Mt instanceof _t.Ref&&(Mt=await tn.fetchAsync(Mt)),(0,_t.isName)(Mt,"Page")||!Wt.has("Kids")){if(bn===Bt)return[Wt,null];bn++;continue}throw new kt.FormatError("Page dictionary kids object is not an array.")}for(let Mt=Ut.length-1;Mt>=0;Mt--)Gt.push(Ut[Mt])}throw new Error(`Page index ${Bt} not found.`)}async getAllPageDicts(Bt=!1){const{ignoreErrors:Gt}=this.pdfManager.evaluatorOptions,en=[{currentNode:this.toplevelPagesDict,posInKids:0}],hn=new _t.RefSet,tn=this._catDict.getRaw("Pages");tn instanceof _t.Ref&&hn.put(tn);const gn=new Map,nn=this.xref,bn=this.pageIndexCache;let Wt=0;function Yt(Ut,Mt){Mt&&!bn.has(Mt)&&bn.put(Mt,Wt),gn.set(Wt++,[Ut,Mt])}function dn(Ut){if(Ut instanceof wt.XRefEntryException&&!Bt)throw Ut;Bt&&Gt&&Wt===0&&((0,kt.warn)(`getAllPageDicts - Skipping invalid first page: "${Ut}".`),Ut=_t.Dict.empty),gn.set(Wt++,[Ut,null])}for(;en.length>0;){const Ut=en.at(-1),{currentNode:Mt,posInKids:Ht}=Ut;let sn=Mt.getRaw("Kids");if(sn instanceof _t.Ref)try{sn=await nn.fetchAsync(sn)}catch(ln){dn(ln);break}if(!Array.isArray(sn)){dn(new kt.FormatError("Page dictionary kids object is not an array."));break}if(Ht>=sn.length){en.pop();continue}const zt=sn[Ht];let Xt;if(zt instanceof _t.Ref){if(hn.has(zt)){dn(new kt.FormatError("Pages tree contains circular reference."));break}hn.put(zt);try{Xt=await nn.fetchAsync(zt)}catch(ln){dn(ln);break}}else Xt=zt;if(!(Xt instanceof _t.Dict)){dn(new kt.FormatError("Page dictionary kid reference points to wrong type of object."));break}let Qt=Xt.getRaw("Type");if(Qt instanceof _t.Ref)try{Qt=await nn.fetchAsync(Qt)}catch(ln){dn(ln);break}(0,_t.isName)(Qt,"Page")||!Xt.has("Kids")?Yt(Xt,zt instanceof _t.Ref?zt:null):en.push({currentNode:Xt,posInKids:0}),Ut.posInKids++}return gn}getPageIndex(Bt){const Gt=this.pageIndexCache.get(Bt);if(Gt!==void 0)return Promise.resolve(Gt);const en=this.xref;function hn(nn){let bn=0,Wt;return en.fetchAsync(nn).then(function(Yt){if((0,_t.isRefsEqual)(nn,Bt)&&!(0,_t.isDict)(Yt,"Page")&&!(Yt instanceof _t.Dict&&!Yt.has("Type")&&Yt.has("Contents")))throw new kt.FormatError("The reference does not point to a /Page dictionary.");if(!Yt)return null;if(!(Yt instanceof _t.Dict))throw new kt.FormatError("Node must be a dictionary.");return Wt=Yt.getRaw("Parent"),Yt.getAsync("Parent")}).then(function(Yt){if(!Yt)return null;if(!(Yt instanceof _t.Dict))throw new kt.FormatError("Parent must be a dictionary.");return Yt.getAsync("Kids")}).then(function(Yt){if(!Yt)return null;const dn=[];let Ut=!1;for(const Mt of Yt){if(!(Mt instanceof _t.Ref))throw new kt.FormatError("Kid must be a reference.");if((0,_t.isRefsEqual)(Mt,nn)){Ut=!0;break}dn.push(en.fetchAsync(Mt).then(function(Ht){if(!(Ht instanceof _t.Dict))throw new kt.FormatError("Kid node must be a dictionary.");Ht.has("Count")?bn+=Ht.get("Count"):bn++}))}if(!Ut)throw new kt.FormatError("Kid reference not found in parent's kids.");return Promise.all(dn).then(function(){return[bn,Wt]})})}let tn=0;const gn=nn=>hn(nn).then(bn=>{if(!bn)return this.pageIndexCache.put(Bt,tn),tn;const[Wt,Yt]=bn;return tn+=Wt,gn(Yt)});return gn(Bt)}get baseUrl(){const Bt=this._catDict.get("URI");if(Bt instanceof _t.Dict){const Gt=Bt.get("Base");if(typeof Gt=="string"){const en=(0,kt.createValidAbsoluteUrl)(Gt,null,{tryConvertEncoding:!0});if(en)return(0,kt.shadow)(this,"baseUrl",en.href)}}return(0,kt.shadow)(this,"baseUrl",this.pdfManager.docBaseUrl)}static parseDestDictionary({destDict:Bt,resultObj:Gt,docBaseUrl:en=null,docAttachments:hn=null}){if(!(Bt instanceof _t.Dict)){(0,kt.warn)("parseDestDictionary: `destDict` must be a dictionary.");return}let tn=Bt.get("A"),gn,nn;if(tn instanceof _t.Dict||(Bt.has("Dest")?tn=Bt.get("Dest"):(tn=Bt.get("AA"),tn instanceof _t.Dict&&(tn.has("D")?tn=tn.get("D"):tn.has("U")&&(tn=tn.get("U"))))),tn instanceof _t.Dict){const bn=tn.get("S");if(!(bn instanceof _t.Name)){(0,kt.warn)("parseDestDictionary: Invalid type in Action dictionary.");return}const Wt=bn.name;switch(Wt){case"ResetForm":const Yt=tn.get("Flags"),dn=((typeof Yt=="number"?Yt:0)&1)===0,Ut=[],Mt=[];for(const En of tn.get("Fields")||[])En instanceof _t.Ref?Mt.push(En.toString()):typeof En=="string"&&Ut.push((0,kt.stringToPDFString)(En));Gt.resetForm={fields:Ut,refs:Mt,include:dn};break;case"URI":gn=tn.get("URI"),gn instanceof _t.Name&&(gn="/"+gn.name);break;case"GoTo":nn=tn.get("D");break;case"Launch":case"GoToR":const Ht=tn.get("F");Ht instanceof _t.Dict?gn=Ht.get("F")||null:typeof Ht=="string"&&(gn=Ht);let sn=tn.get("D");if(sn&&(sn instanceof _t.Name&&(sn=sn.name),typeof gn=="string")){const En=gn.split("#")[0];typeof sn=="string"?gn=En+"#"+sn:Array.isArray(sn)&&(gn=En+"#"+JSON.stringify(sn))}const zt=tn.get("NewWindow");typeof zt=="boolean"&&(Gt.newWindow=zt);break;case"GoToE":const Xt=tn.get("T");let Qt;if(hn&&Xt instanceof _t.Dict){const En=Xt.get("R"),Fn=Xt.get("N");(0,_t.isName)(En,"C")&&typeof Fn=="string"&&(Qt=hn[(0,kt.stringToPDFString)(Fn)])}Qt?Gt.attachment=Qt:(0,kt.warn)('parseDestDictionary - unimplemented "GoToE" action.');break;case"Named":const ln=tn.get("N");ln instanceof _t.Name&&(Gt.action=ln.name);break;case"SetOCGState":const on=tn.get("State"),cn=tn.get("PreserveRB");if(!Array.isArray(on)||on.length===0)break;const rn=[];for(const En of on)if(En instanceof _t.Name)switch(En.name){case"ON":case"OFF":case"Toggle":rn.push(En.name);break}else En instanceof _t.Ref&&rn.push(En.toString());if(rn.length!==on.length)break;Gt.setOCGState={state:rn,preserveRB:typeof cn=="boolean"?cn:!0};break;case"JavaScript":const an=tn.get("JS");let xn;an instanceof vt.BaseStream?xn=an.getString():typeof an=="string"&&(xn=an);const wn=xn&&(0,wt.recoverJsURL)((0,kt.stringToPDFString)(xn));if(wn){gn=wn.url,Gt.newWindow=wn.newWindow;break}default:if(Wt==="JavaScript"||Wt==="SubmitForm")break;(0,kt.warn)(`parseDestDictionary - unsupported action: "${Wt}".`);break}}else Bt.has("Dest")&&(nn=Bt.get("Dest"));if(typeof gn=="string"){const bn=(0,kt.createValidAbsoluteUrl)(gn,en,{addDefaultProtocol:!0,tryConvertEncoding:!0});bn&&(Gt.url=bn.href),Gt.unsafeUrl=gn}nn&&(nn instanceof _t.Name&&(nn=nn.name),typeof nn=="string"?Gt.dest=(0,kt.stringToPDFString)(nn):Array.isArray(nn)&&(Gt.dest=nn))}}Et.Catalog=Rt},(Ct,Et,Pt)=>{Object.defineProperty(Et,"__esModule",{value:!0}),Et.NumberTree=Et.NameTree=void 0;var wt=Pt(4),kt=Pt(2);class _t{constructor(Vt,qt,Lt){this.constructor===_t&&(0,kt.unreachable)("Cannot initialize NameOrNumberTree."),this.root=Vt,this.xref=qt,this._type=Lt}getAll(){const Vt=new Map;if(!this.root)return Vt;const qt=this.xref,Lt=new wt.RefSet;Lt.put(this.root);const $t=[this.root];for(;$t.length>0;){const Ot=qt.fetchIfRef($t.shift());if(!(Ot instanceof wt.Dict))continue;if(Ot.has("Kids")){const Rt=Ot.get("Kids");if(!Array.isArray(Rt))continue;for(const Kt of Rt){if(Lt.has(Kt))throw new kt.FormatError(`Duplicate entry in "${this._type}" tree.`);$t.push(Kt),Lt.put(Kt)}continue}const jt=Ot.get(this._type);if(Array.isArray(jt))for(let Rt=0,Kt=jt.length;Rt<Kt;Rt+=2)Vt.set(qt.fetchIfRef(jt[Rt]),qt.fetchIfRef(jt[Rt+1]))}return Vt}get(Vt){if(!this.root)return null;const qt=this.xref;let Lt=qt.fetchIfRef(this.root),$t=0;const Ot=10;for(;Lt.has("Kids");){if(++$t>Ot)return(0,kt.warn)(`Search depth limit reached for "${this._type}" tree.`),null;const Rt=Lt.get("Kids");if(!Array.isArray(Rt))return null;let Kt=0,Bt=Rt.length-1;for(;Kt<=Bt;){const Gt=Kt+Bt>>1,en=qt.fetchIfRef(Rt[Gt]),hn=en.get("Limits");if(Vt<qt.fetchIfRef(hn[0]))Bt=Gt-1;else if(Vt>qt.fetchIfRef(hn[1]))Kt=Gt+1;else{Lt=en;break}}if(Kt>Bt)return null}const jt=Lt.get(this._type);if(Array.isArray(jt)){let Rt=0,Kt=jt.length-2;for(;Rt<=Kt;){const Bt=Rt+Kt>>1,Gt=Bt+(Bt&1),en=qt.fetchIfRef(jt[Gt]);if(Vt<en)Kt=Gt-2;else if(Vt>en)Rt=Gt+2;else return qt.fetchIfRef(jt[Gt+1])}}return null}}class ht extends _t{constructor(Vt,qt){super(Vt,qt,"Names")}}Et.NameTree=ht;class vt extends _t{constructor(Vt,qt){super(Vt,qt,"Nums")}}Et.NumberTree=vt},(Ct,Et,Pt)=>{Object.defineProperty(Et,"__esModule",{value:!0}),Et.clearGlobalCaches=ht;var wt=Pt(50),kt=Pt(4),_t=Pt(40);function ht(){(0,wt.clearPatternCaches)(),(0,kt.clearPrimitiveCaches)(),(0,_t.clearUnicodeCaches)()}},(Ct,Et,Pt)=>{Object.defineProperty(Et,"__esModule",{value:!0}),Et.FileSpec=void 0;var wt=Pt(2),kt=Pt(5),_t=Pt(4);function ht(Ft){return Ft.has("UF")?Ft.get("UF"):Ft.has("F")?Ft.get("F"):Ft.has("Unix")?Ft.get("Unix"):Ft.has("Mac")?Ft.get("Mac"):Ft.has("DOS")?Ft.get("DOS"):null}class vt{constructor(Vt,qt){Vt instanceof _t.Dict&&(this.xref=qt,this.root=Vt,Vt.has("FS")&&(this.fs=Vt.get("FS")),this.description=Vt.has("Desc")?(0,wt.stringToPDFString)(Vt.get("Desc")):"",Vt.has("RF")&&(0,wt.warn)("Related file specifications are not supported"),this.contentAvailable=!0,Vt.has("EF")||(this.contentAvailable=!1,(0,wt.warn)("Non-embedded file specifications are not supported")))}get filename(){if(!this._filename&&this.root){const Vt=ht(this.root)||"unnamed";this._filename=(0,wt.stringToPDFString)(Vt).replaceAll("\\\\","\\").replaceAll("\\/","/").replaceAll("\\","/")}return this._filename}get content(){if(!this.contentAvailable)return null;!this.contentRef&&this.root&&(this.contentRef=ht(this.root.get("EF")));let Vt=null;if(this.contentRef){const qt=this.xref.fetchIfRef(this.contentRef);qt instanceof kt.BaseStream?Vt=qt.getBytes():(0,wt.warn)("Embedded file specification points to non-existing/invalid content")}else(0,wt.warn)("Embedded file specification does not have a content");return Vt}get serializable(){return{filename:this.filename,content:this.content}}}Et.FileSpec=vt},(Ct,Et,Pt)=>{Object.defineProperty(Et,"__esModule",{value:!0}),Et.MetadataParser=void 0;var wt=Pt(71);class kt{constructor(ht){ht=this._repair(ht);const Ft=new wt.SimpleXMLParser({lowerCaseName:!0}).parseFromString(ht);this._metadataMap=new Map,this._data=ht,Ft&&this._parse(Ft)}_repair(ht){return ht.replace(/^[^<]+/,"").replaceAll(/>\\376\\377([^<]+)/g,function(vt,Ft){const Vt=Ft.replaceAll(/\\([0-3])([0-7])([0-7])/g,function(Lt,$t,Ot,jt){return String.fromCharCode($t*64+Ot*8+jt*1)}).replaceAll(/&(amp|apos|gt|lt|quot);/g,function(Lt,$t){switch($t){case"amp":return"&";case"apos":return"'";case"gt":return">";case"lt":return"<";case"quot":return'"'}throw new Error(`_repair: ${$t} isn't defined.`)}),qt=[">"];for(let Lt=0,$t=Vt.length;Lt<$t;Lt+=2){const Ot=Vt.charCodeAt(Lt)*256+Vt.charCodeAt(Lt+1);Ot>=32&&Ot<127&&Ot!==60&&Ot!==62&&Ot!==38?qt.push(String.fromCharCode(Ot)):qt.push("&#x"+(65536+Ot).toString(16).substring(1)+";")}return qt.join("")})}_getSequence(ht){const vt=ht.nodeName;return vt!=="rdf:bag"&&vt!=="rdf:seq"&&vt!=="rdf:alt"?null:ht.childNodes.filter(Ft=>Ft.nodeName==="rdf:li")}_parseArray(ht){if(!ht.hasChildNodes())return;const[vt]=ht.childNodes,Ft=this._getSequence(vt)||[];this._metadataMap.set(ht.nodeName,Ft.map(Vt=>Vt.textContent.trim()))}_parse(ht){let vt=ht.documentElement;if(vt.nodeName!=="rdf:rdf")for(vt=vt.firstChild;vt&&vt.nodeName!=="rdf:rdf";)vt=vt.nextSibling;if(!(!vt||vt.nodeName!=="rdf:rdf"||!vt.hasChildNodes())){for(const Ft of vt.childNodes)if(Ft.nodeName==="rdf:description")for(const Vt of Ft.childNodes){const qt=Vt.nodeName;switch(qt){case"#text":continue;case"dc:creator":case"dc:subject":this._parseArray(Vt);continue}this._metadataMap.set(qt,Vt.textContent.trim())}}}get serializable(){return{parsedData:this._metadataMap,rawData:this._data}}}Et.MetadataParser=kt},(Ct,Et,Pt)=>{Object.defineProperty(Et,"__esModule",{value:!0}),Et.XMLParserErrorCode=Et.XMLParserBase=Et.SimpleXMLParser=Et.SimpleDOMNode=void 0;var wt=Pt(3);const kt={NoError:0,EndOfDocument:-1,UnterminatedCdat:-2,UnterminatedXmlDeclaration:-3,UnterminatedDoctypeDeclaration:-4,UnterminatedComment:-5,MalformedElement:-6,OutOfMemory:-7,UnterminatedAttributeValue:-8,UnterminatedElement:-9,ElementNeverBegun:-10};Et.XMLParserErrorCode=kt;function _t(qt,Lt){const $t=qt[Lt];return $t===" "||$t===`
`||$t==="\r"||$t==="	"}function ht(qt){for(let Lt=0,$t=qt.length;Lt<$t;Lt++)if(!_t(qt,Lt))return!1;return!0}class vt{_resolveEntities(Lt){return Lt.replaceAll(/&([^;]+);/g,($t,Ot)=>{if(Ot.substring(0,2)==="#x")return String.fromCodePoint(parseInt(Ot.substring(2),16));if(Ot.substring(0,1)==="#")return String.fromCodePoint(parseInt(Ot.substring(1),10));switch(Ot){case"lt":return"<";case"gt":return">";case"amp":return"&";case"quot":return'"';case"apos":return"'"}return this.onResolveEntity(Ot)})}_parseContent(Lt,$t){const Ot=[];let jt=$t;function Rt(){for(;jt<Lt.length&&_t(Lt,jt);)++jt}for(;jt<Lt.length&&!_t(Lt,jt)&&Lt[jt]!==">"&&Lt[jt]!=="/";)++jt;const Kt=Lt.substring($t,jt);for(Rt();jt<Lt.length&&Lt[jt]!==">"&&Lt[jt]!=="/"&&Lt[jt]!=="?";){Rt();let Bt="",Gt="";for(;jt<Lt.length&&!_t(Lt,jt)&&Lt[jt]!=="=";)Bt+=Lt[jt],++jt;if(Rt(),Lt[jt]!=="=")return null;++jt,Rt();const en=Lt[jt];if(en!=='"'&&en!=="'")return null;const hn=Lt.indexOf(en,++jt);if(hn<0)return null;Gt=Lt.substring(jt,hn),Ot.push({name:Bt,value:this._resolveEntities(Gt)}),jt=hn+1,Rt()}return{name:Kt,attributes:Ot,parsed:jt-$t}}_parseProcessingInstruction(Lt,$t){let Ot=$t;function jt(){for(;Ot<Lt.length&&_t(Lt,Ot);)++Ot}for(;Ot<Lt.length&&!_t(Lt,Ot)&&Lt[Ot]!==">"&&Lt[Ot]!=="?"&&Lt[Ot]!=="/";)++Ot;const Rt=Lt.substring($t,Ot);jt();const Kt=Ot;for(;Ot<Lt.length&&(Lt[Ot]!=="?"||Lt[Ot+1]!==">");)++Ot;const Bt=Lt.substring(Kt,Ot);return{name:Rt,value:Bt,parsed:Ot-$t}}parseXml(Lt){let $t=0;for(;$t<Lt.length;){const Ot=Lt[$t];let jt=$t;if(Ot==="<"){++jt;const Rt=Lt[jt];let Kt;switch(Rt){case"/":if(++jt,Kt=Lt.indexOf(">",jt),Kt<0){this.onError(kt.UnterminatedElement);return}this.onEndElement(Lt.substring(jt,Kt)),jt=Kt+1;break;case"?":++jt;const Bt=this._parseProcessingInstruction(Lt,jt);if(Lt.substring(jt+Bt.parsed,jt+Bt.parsed+2)!=="?>"){this.onError(kt.UnterminatedXmlDeclaration);return}this.onPi(Bt.name,Bt.value),jt+=Bt.parsed+2;break;case"!":if(Lt.substring(jt+1,jt+3)==="--"){if(Kt=Lt.indexOf("-->",jt+3),Kt<0){this.onError(kt.UnterminatedComment);return}this.onComment(Lt.substring(jt+3,Kt)),jt=Kt+3}else if(Lt.substring(jt+1,jt+8)==="[CDATA["){if(Kt=Lt.indexOf("]]>",jt+8),Kt<0){this.onError(kt.UnterminatedCdat);return}this.onCdata(Lt.substring(jt+8,Kt)),jt=Kt+3}else if(Lt.substring(jt+1,jt+8)==="DOCTYPE"){const hn=Lt.indexOf("[",jt+8);let tn=!1;if(Kt=Lt.indexOf(">",jt+8),Kt<0){this.onError(kt.UnterminatedDoctypeDeclaration);return}if(hn>0&&Kt>hn){if(Kt=Lt.indexOf("]>",jt+8),Kt<0){this.onError(kt.UnterminatedDoctypeDeclaration);return}tn=!0}const gn=Lt.substring(jt+8,Kt+(tn?1:0));this.onDoctype(gn),jt=Kt+(tn?2:1)}else{this.onError(kt.MalformedElement);return}break;default:const Gt=this._parseContent(Lt,jt);if(Gt===null){this.onError(kt.MalformedElement);return}let en=!1;if(Lt.substring(jt+Gt.parsed,jt+Gt.parsed+2)==="/>")en=!0;else if(Lt.substring(jt+Gt.parsed,jt+Gt.parsed+1)!==">"){this.onError(kt.UnterminatedElement);return}this.onBeginElement(Gt.name,Gt.attributes,en),jt+=Gt.parsed+(en?2:1);break}}else{for(;jt<Lt.length&&Lt[jt]!=="<";)jt++;const Rt=Lt.substring($t,jt);this.onText(this._resolveEntities(Rt))}$t=jt}}onResolveEntity(Lt){return`&${Lt};`}onPi(Lt,$t){}onComment(Lt){}onCdata(Lt){}onDoctype(Lt){}onText(Lt){}onBeginElement(Lt,$t,Ot){}onEndElement(Lt){}onError(Lt){}}Et.XMLParserBase=vt;class Ft{constructor(Lt,$t){this.nodeName=Lt,this.nodeValue=$t,Object.defineProperty(this,"parentNode",{value:null,writable:!0})}get firstChild(){var Lt;return(Lt=this.childNodes)==null?void 0:Lt[0]}get nextSibling(){const Lt=this.parentNode.childNodes;if(!Lt)return;const $t=Lt.indexOf(this);if($t!==-1)return Lt[$t+1]}get textContent(){return this.childNodes?this.childNodes.map(function(Lt){return Lt.textContent}).join(""):this.nodeValue||""}get children(){return this.childNodes||[]}hasChildNodes(){var Lt;return((Lt=this.childNodes)==null?void 0:Lt.length)>0}searchNode(Lt,$t){var Kt;if($t>=Lt.length)return this;const Ot=Lt[$t];if(Ot.name.startsWith("#")&&$t<Lt.length-1)return this.searchNode(Lt,$t+1);const jt=[];let Rt=this;for(;;){if(Ot.name===Rt.nodeName)if(Ot.pos===0){const Bt=Rt.searchNode(Lt,$t+1);if(Bt!==null)return Bt}else{if(jt.length===0)return null;{const[Bt]=jt.pop();let Gt=0;for(const en of Bt.childNodes)if(Ot.name===en.nodeName){if(Gt===Ot.pos)return en.searchNode(Lt,$t+1);Gt++}return Rt.searchNode(Lt,$t+1)}}if(((Kt=Rt.childNodes)==null?void 0:Kt.length)>0)jt.push([Rt,0]),Rt=Rt.childNodes[0];else{if(jt.length===0)return null;for(;jt.length!==0;){const[Bt,Gt]=jt.pop(),en=Gt+1;if(en<Bt.childNodes.length){jt.push([Bt,en]),Rt=Bt.childNodes[en];break}}if(jt.length===0)return null}}}dump(Lt){if(this.nodeName==="#text"){Lt.push((0,wt.encodeToXmlString)(this.nodeValue));return}if(Lt.push(`<${this.nodeName}`),this.attributes)for(const $t of this.attributes)Lt.push(` ${$t.name}="${(0,wt.encodeToXmlString)($t.value)}"`);if(this.hasChildNodes()){Lt.push(">");for(const $t of this.childNodes)$t.dump(Lt);Lt.push(`</${this.nodeName}>`)}else this.nodeValue?Lt.push(`>${(0,wt.encodeToXmlString)(this.nodeValue)}</${this.nodeName}>`):Lt.push("/>")}}Et.SimpleDOMNode=Ft;class Vt extends vt{constructor({hasAttributes:Lt=!1,lowerCaseName:$t=!1}){super(),this._currentFragment=null,this._stack=null,this._errorCode=kt.NoError,this._hasAttributes=Lt,this._lowerCaseName=$t}parseFromString(Lt){if(this._currentFragment=[],this._stack=[],this._errorCode=kt.NoError,this.parseXml(Lt),this._errorCode!==kt.NoError)return;const[$t]=this._currentFragment;if($t)return{documentElement:$t}}onText(Lt){if(ht(Lt))return;const $t=new Ft("#text",Lt);this._currentFragment.push($t)}onCdata(Lt){const $t=new Ft("#text",Lt);this._currentFragment.push($t)}onBeginElement(Lt,$t,Ot){this._lowerCaseName&&(Lt=Lt.toLowerCase());const jt=new Ft(Lt);jt.childNodes=[],this._hasAttributes&&(jt.attributes=$t),this._currentFragment.push(jt),!Ot&&(this._stack.push(this._currentFragment),this._currentFragment=jt.childNodes)}onEndElement(Lt){this._currentFragment=this._stack.pop()||[];const $t=this._currentFragment.at(-1);if(!$t)return null;for(const Ot of $t.childNodes)Ot.parentNode=$t;return $t}onError(Lt){this._errorCode=Lt}}Et.SimpleXMLParser=Vt},(Ct,Et,Pt)=>{var Ot,y5,Rt,J3,v5,w5;Object.defineProperty(Et,"__esModule",{value:!0}),Et.StructTreeRoot=Et.StructTreePage=void 0;var wt=Pt(2),kt=Pt(4),_t=Pt(67),ht=Pt(73);const vt=40,Ft={PAGE_CONTENT:1,STREAM_CONTENT:2,OBJECT:3,ANNOTATION:4,ELEMENT:5},en=class en{constructor(tn,gn){Nn(this,Ot);this.dict=tn,this.ref=gn instanceof kt.Ref?gn:null,this.roleMap=new Map,this.structParentIds=null}init(){this.readRoleMap()}addAnnotationIdToPage(tn,gn){On(this,Ot,y5).call(this,tn,gn,Ft.ANNOTATION)}readRoleMap(){const tn=this.dict.get("RoleMap");tn instanceof kt.Dict&&tn.forEach((gn,nn)=>{nn instanceof kt.Name&&this.roleMap.set(gn,nn.name)})}static async canCreateStructureTree({catalogRef:tn,pdfManager:gn,newAnnotationsByPage:nn}){var Yt;if(!(tn instanceof kt.Ref))return(0,wt.warn)("Cannot save the struct tree: no catalog reference."),!1;let bn=0,Wt=!0;for(const[dn,Ut]of nn){const{ref:Mt}=await gn.getPage(dn);if(!(Mt instanceof kt.Ref)){(0,wt.warn)(`Cannot save the struct tree: page ${dn} has no ref.`),Wt=!0;break}for(const Ht of Ut)(Yt=Ht.accessibilityData)!=null&&Yt.type&&(Ht.parentTreeId=bn++,Wt=!1)}if(Wt){for(const dn of nn.values())for(const Ut of dn)delete Ut.parentTreeId;return!1}return!0}static async createStructureTree({newAnnotationsByPage:tn,xref:gn,catalogRef:nn,pdfManager:bn,newRefs:Wt}){const Yt=bn.catalog.cloneDict(),dn=gn.getNewTemporaryRef();Yt.set("StructTreeRoot",dn);const Ut=[];await(0,ht.writeObject)(nn,Yt,Ut,gn),Wt.push({ref:nn,data:Ut.join("")});const Mt=new kt.Dict(gn);Mt.set("Type",kt.Name.get("StructTreeRoot"));const Ht=gn.getNewTemporaryRef();Mt.set("ParentTree",Ht);const sn=[];Mt.set("K",sn);const zt=new kt.Dict(gn),Xt=[];zt.set("Nums",Xt);const Qt=await On(this,Rt,J3).call(this,{newAnnotationsByPage:tn,structTreeRootRef:dn,kids:sn,nums:Xt,xref:gn,pdfManager:bn,newRefs:Wt,buffer:Ut});Mt.set("ParentTreeNextKey",Qt),Ut.length=0,await(0,ht.writeObject)(Ht,zt,Ut,gn),Wt.push({ref:Ht,data:Ut.join("")}),Ut.length=0,await(0,ht.writeObject)(dn,Mt,Ut,gn),Wt.push({ref:dn,data:Ut.join("")})}async canUpdateStructTree({pdfManager:tn,newAnnotationsByPage:gn}){var Ut,Mt;if(!this.ref)return(0,wt.warn)("Cannot update the struct tree: no root reference."),!1;let nn=this.dict.get("ParentTreeNextKey");if(!Number.isInteger(nn)||nn<0)return(0,wt.warn)("Cannot update the struct tree: invalid next key."),!1;const bn=this.dict.get("ParentTree");if(!(bn instanceof kt.Dict))return(0,wt.warn)("Cannot update the struct tree: ParentTree isn't a dict."),!1;const Wt=bn.get("Nums");if(!Array.isArray(Wt))return(0,wt.warn)("Cannot update the struct tree: nums isn't an array."),!1;const{numPages:Yt}=tn.catalog;for(const Ht of gn.keys()){const{pageDict:sn,ref:zt}=await tn.getPage(Ht);if(!(zt instanceof kt.Ref))return(0,wt.warn)(`Cannot save the struct tree: page ${Ht} has no ref.`),!1;const Xt=sn.get("StructParents");if(!Number.isInteger(Xt)||Xt<0||Xt>=Yt)return(0,wt.warn)(`Cannot save the struct tree: page ${Ht} has no id.`),!1}let dn=!0;for(const[Ht,sn]of gn){const{pageDict:zt}=await tn.getPage(Ht);On(Ut=en,Rt,v5).call(Ut,{elements:sn,xref:this.dict.xref,pageDict:zt,parentTree:bn});for(const Xt of sn)(Mt=Xt.accessibilityData)!=null&&Mt.type&&(Xt.parentTreeId=nn++,dn=!1)}if(dn){for(const Ht of gn.values())for(const sn of Ht)delete sn.parentTreeId,delete sn.structTreeParent;return!1}return!0}async updateStructureTree({newAnnotationsByPage:tn,pdfManager:gn,newRefs:nn}){var ln;const bn=this.dict.xref,Wt=this.dict.clone(),Yt=this.ref;let dn=Wt.getRaw("ParentTree"),Ut;dn instanceof kt.Ref?Ut=bn.fetch(dn):(Ut=dn,dn=bn.getNewTemporaryRef(),Wt.set("ParentTree",dn)),Ut=Ut.clone();let Mt=Ut.getRaw("Nums"),Ht=null;Mt instanceof kt.Ref&&(Ht=Mt,Mt=bn.fetch(Ht)),Mt=Mt.slice(),Ht||Ut.set("Nums",Mt);let sn=Wt.getRaw("K"),zt=null;sn instanceof kt.Ref?(zt=sn,sn=bn.fetch(zt)):(zt=bn.getNewTemporaryRef(),Wt.set("K",zt)),sn=Array.isArray(sn)?sn.slice():[sn];const Xt=[],Qt=await On(ln=en,Rt,J3).call(ln,{newAnnotationsByPage:tn,structTreeRootRef:Yt,kids:sn,nums:Mt,xref:bn,pdfManager:gn,newRefs:nn,buffer:Xt});Wt.set("ParentTreeNextKey",Qt),Xt.length=0,await(0,ht.writeObject)(zt,sn,Xt,bn),nn.push({ref:zt,data:Xt.join("")}),Ht&&(Xt.length=0,await(0,ht.writeObject)(Ht,Mt,Xt,bn),nn.push({ref:Ht,data:Xt.join("")})),Xt.length=0,await(0,ht.writeObject)(dn,Ut,Xt,bn),nn.push({ref:dn,data:Xt.join("")}),Xt.length=0,await(0,ht.writeObject)(Yt,Wt,Xt,bn),nn.push({ref:Yt,data:Xt.join("")})}};Ot=new WeakSet,y5=function(tn,gn,nn){if(!(tn instanceof kt.Ref)||gn<0)return;this.structParentIds||(this.structParentIds=new kt.RefSetCache);let bn=this.structParentIds.get(tn);bn||(bn=[],this.structParentIds.put(tn,bn)),bn.push([gn,nn])},Rt=new WeakSet,J3=async function({newAnnotationsByPage:tn,structTreeRootRef:gn,kids:nn,nums:bn,xref:Wt,pdfManager:Yt,newRefs:dn,buffer:Ut}){const Mt=kt.Name.get("OBJR");let Ht=-1/0;for(const[sn,zt]of tn){const{ref:Xt}=await Yt.getPage(sn);for(const{accessibilityData:{type:Qt,title:ln,lang:on,alt:cn,expanded:rn,actualText:an},ref:xn,parentTreeId:wn,structTreeParent:En}of zt){Ht=Math.max(Ht,wn);const Fn=Wt.getNewTemporaryRef(),In=new kt.Dict(Wt);In.set("S",kt.Name.get(Qt)),ln&&In.set("T",ln),on&&In.set("Lang",on),cn&&In.set("Alt",cn),rn&&In.set("E",rn),an&&In.set("ActualText",an),En?await On(this,Rt,w5).call(this,{structTreeParent:En,tagDict:In,newTagRef:Fn,fallbackRef:gn,xref:Wt,newRefs:dn,buffer:Ut}):In.set("P",gn);const Tn=new kt.Dict(Wt);In.set("K",Tn),Tn.set("Type",Mt),Tn.set("Pg",Xt),Tn.set("Obj",xn),Ut.length=0,await(0,ht.writeObject)(Fn,In,Ut,Wt),dn.push({ref:Fn,data:Ut.join("")}),bn.push(wn,Fn),nn.push(Fn)}}return Ht+1},v5=function({elements:tn,xref:gn,pageDict:nn,parentTree:bn}){const Wt=new Map;for(const Ht of tn)if(Ht.structTreeParentId){const sn=parseInt(Ht.structTreeParentId.split("_mc")[1],10);Wt.set(sn,Ht)}const Yt=nn.get("StructParents"),Ut=new _t.NumberTree(bn,gn).get(Yt);if(!Array.isArray(Ut))return;const Mt=(Ht,sn,zt)=>{const Xt=Wt.get(Ht);if(Xt){const Qt=sn.getRaw("P"),ln=gn.fetchIfRef(Qt);return Qt instanceof kt.Ref&&ln instanceof kt.Dict&&(Xt.structTreeParent={ref:zt,dict:sn}),!0}return!1};for(const Ht of Ut){if(!(Ht instanceof kt.Ref))continue;const sn=gn.fetch(Ht),zt=sn.get("K");if(Number.isInteger(zt)){Mt(zt,sn,Ht);continue}if(Array.isArray(zt)){for(let Xt of zt)if(Xt=gn.fetchIfRef(Xt),Number.isInteger(Xt)&&Mt(Xt,sn,Ht))break}}},w5=async function({structTreeParent:{ref:tn,dict:gn},tagDict:nn,newTagRef:bn,fallbackRef:Wt,xref:Yt,newRefs:dn,buffer:Ut}){const Mt=gn.getRaw("P");let Ht=Yt.fetchIfRef(Mt);nn.set("P",Mt);let sn=!1,zt,Xt=Ht.getRaw("K");if(Xt instanceof kt.Ref?zt=Yt.fetch(Xt):(zt=Xt,Xt=Yt.getNewTemporaryRef(),Ht=Ht.clone(),Ht.set("K",Xt),sn=!0),Array.isArray(zt)){const Qt=zt.indexOf(tn);if(Qt>=0)zt=zt.slice(),zt.splice(Qt+1,0,bn);else{(0,wt.warn)("Cannot update the struct tree: parent kid not found."),nn.set("P",Wt);return}}else zt instanceof kt.Dict&&(zt=[Xt,bn],Xt=Yt.getNewTemporaryRef(),Ht.set("K",Xt),sn=!0);Ut.length=0,await(0,ht.writeObject)(Xt,zt,Ut,Yt),dn.push({ref:Xt,data:Ut.join("")}),sn&&(Ut.length=0,await(0,ht.writeObject)(Mt,Ht,Ut,Yt),dn.push({ref:Mt,data:Ut.join("")}))},Nn(en,Rt);let Vt=en;Et.StructTreeRoot=Vt;class qt{constructor(tn,gn){this.tree=tn,this.dict=gn,this.kids=[],this.parseKids()}get role(){const tn=this.dict.get("S"),gn=tn instanceof kt.Name?tn.name:"",{root:nn}=this.tree;return nn.roleMap.has(gn)?nn.roleMap.get(gn):gn}parseKids(){let tn=null;const gn=this.dict.getRaw("Pg");gn instanceof kt.Ref&&(tn=gn.toString());const nn=this.dict.get("K");if(Array.isArray(nn))for(const bn of nn){const Wt=this.parseKid(tn,bn);Wt&&this.kids.push(Wt)}else{const bn=this.parseKid(tn,nn);bn&&this.kids.push(bn)}}parseKid(tn,gn){if(Number.isInteger(gn))return this.tree.pageDict.objId!==tn?null:new Lt({type:Ft.PAGE_CONTENT,mcid:gn,pageObjId:tn});let nn=null;if(gn instanceof kt.Ref?nn=this.dict.xref.fetch(gn):gn instanceof kt.Dict&&(nn=gn),!nn)return null;const bn=nn.getRaw("Pg");bn instanceof kt.Ref&&(tn=bn.toString());const Wt=nn.get("Type")instanceof kt.Name?nn.get("Type").name:null;if(Wt==="MCR"){if(this.tree.pageDict.objId!==tn)return null;const Yt=nn.getRaw("Stm");return new Lt({type:Ft.STREAM_CONTENT,refObjId:Yt instanceof kt.Ref?Yt.toString():null,pageObjId:tn,mcid:nn.get("MCID")})}if(Wt==="OBJR"){if(this.tree.pageDict.objId!==tn)return null;const Yt=nn.getRaw("Obj");return new Lt({type:Ft.OBJECT,refObjId:Yt instanceof kt.Ref?Yt.toString():null,pageObjId:tn})}return new Lt({type:Ft.ELEMENT,dict:nn})}}class Lt{constructor({type:tn,dict:gn=null,mcid:nn=null,pageObjId:bn=null,refObjId:Wt=null}){this.type=tn,this.dict=gn,this.mcid=nn,this.pageObjId=bn,this.refObjId=Wt,this.parentNode=null}}class $t{constructor(tn,gn){this.root=tn,this.rootDict=tn?tn.dict:null,this.pageDict=gn,this.nodes=[]}parse(tn){var dn,Ut;if(!this.root||!this.rootDict)return;const gn=this.rootDict.get("ParentTree");if(!gn)return;const nn=this.pageDict.get("StructParents"),bn=tn instanceof kt.Ref&&((dn=this.root.structParentIds)==null?void 0:dn.get(tn));if(!Number.isInteger(nn)&&!bn)return;const Wt=new Map,Yt=new _t.NumberTree(gn,this.rootDict.xref);if(Number.isInteger(nn)){const Mt=Yt.get(nn);if(Array.isArray(Mt))for(const Ht of Mt)Ht instanceof kt.Ref&&this.addNode(this.rootDict.xref.fetch(Ht),Wt)}if(bn)for(const[Mt,Ht]of bn){const sn=Yt.get(Mt);if(sn){const zt=this.addNode(this.rootDict.xref.fetchIfRef(sn),Wt);((Ut=zt==null?void 0:zt.kids)==null?void 0:Ut.length)===1&&zt.kids[0].type===Ft.OBJECT&&(zt.kids[0].type=Ht)}}}addNode(tn,gn,nn=0){if(nn>vt)return(0,wt.warn)("StructTree MAX_DEPTH reached."),null;if(gn.has(tn))return gn.get(tn);const bn=new qt(this,tn);gn.set(tn,bn);const Wt=tn.get("P");if(!Wt||(0,kt.isName)(Wt.get("Type"),"StructTreeRoot"))return this.addTopLevelNode(tn,bn)||gn.delete(tn),bn;const Yt=this.addNode(Wt,gn,nn+1);if(!Yt)return bn;let dn=!1;for(const Ut of Yt.kids)Ut.type===Ft.ELEMENT&&Ut.dict===tn&&(Ut.parentNode=bn,dn=!0);return dn||gn.delete(tn),bn}addTopLevelNode(tn,gn){const nn=this.rootDict.get("K");if(!nn)return!1;if(nn instanceof kt.Dict)return nn.objId!==tn.objId?!1:(this.nodes[0]=gn,!0);if(!Array.isArray(nn))return!0;let bn=!1;for(let Wt=0;Wt<nn.length;Wt++){const Yt=nn[Wt];(Yt==null?void 0:Yt.toString())===tn.objId&&(this.nodes[Wt]=gn,bn=!0)}return bn}get serializable(){function tn(nn,bn,Wt=0){if(Wt>vt){(0,wt.warn)("StructTree too deep to be fully serialized.");return}const Yt=Object.create(null);Yt.role=nn.role,Yt.children=[],bn.children.push(Yt);const dn=nn.dict.get("Alt");typeof dn=="string"&&(Yt.alt=(0,wt.stringToPDFString)(dn));const Ut=nn.dict.get("Lang");typeof Ut=="string"&&(Yt.lang=(0,wt.stringToPDFString)(Ut));for(const Mt of nn.kids){const Ht=Mt.type===Ft.ELEMENT?Mt.parentNode:null;if(Ht){tn(Ht,Yt,Wt+1);continue}else Mt.type===Ft.PAGE_CONTENT||Mt.type===Ft.STREAM_CONTENT?Yt.children.push({type:"content",id:`p${Mt.pageObjId}_mc${Mt.mcid}`}):Mt.type===Ft.OBJECT?Yt.children.push({type:"object",id:Mt.refObjId}):Mt.type===Ft.ANNOTATION&&Yt.children.push({type:"annotation",id:`${wt.AnnotationPrefix}${Mt.refObjId}`})}}const gn=Object.create(null);gn.children=[],gn.role="Root";for(const nn of this.nodes)nn&&tn(nn,gn);return gn}}Et.StructTreePage=$t},(Ct,Et,Pt)=>{Object.defineProperty(Et,"__esModule",{value:!0}),Et.incrementalUpdate=hn,Et.writeDict=qt,Et.writeObject=Vt;var wt=Pt(2),kt=Pt(4),_t=Pt(3),ht=Pt(71),vt=Pt(5),Ft=Pt(74);async function Vt(tn,gn,nn,{encrypt:bn=null}){const Wt=bn==null?void 0:bn.createCipherTransform(tn.num,tn.gen);nn.push(`${tn.num} ${tn.gen} obj
`),gn instanceof kt.Dict?await qt(gn,nn,Wt):gn instanceof vt.BaseStream?await Lt(gn,nn,Wt):Array.isArray(gn)&&await $t(gn,nn,Wt),nn.push(`
endobj
`)}async function qt(tn,gn,nn){gn.push("<<");for(const bn of tn.getKeys())gn.push(` /${(0,_t.escapePDFName)(bn)} `),await Ot(tn.getRaw(bn),gn,nn);gn.push(">>")}async function Lt(tn,gn,nn){let bn=tn.getString();const{dict:Wt}=tn,[Yt,dn]=await Promise.all([Wt.getAsync("Filter"),Wt.getAsync("DecodeParms")]),Ut=Array.isArray(Yt)?await Wt.xref.fetchIfRefAsync(Yt[0]):Yt,Mt=(0,kt.isName)(Ut,"FlateDecode");if(typeof CompressionStream<"u"&&(bn.length>=256||Mt))try{const sn=(0,wt.stringToBytes)(bn),zt=new CompressionStream("deflate"),Xt=zt.writable.getWriter();Xt.write(sn),Xt.close();const Qt=await new Response(zt.readable).arrayBuffer();bn=(0,wt.bytesToString)(new Uint8Array(Qt));let ln,on;Yt?Mt||(ln=Array.isArray(Yt)?[kt.Name.get("FlateDecode"),...Yt]:[kt.Name.get("FlateDecode"),Yt],dn&&(on=Array.isArray(dn)?[null,...dn]:[null,dn])):ln=kt.Name.get("FlateDecode"),ln&&Wt.set("Filter",ln),on&&Wt.set("DecodeParms",on)}catch(sn){(0,wt.info)(`writeStream - cannot compress data: "${sn}".`)}nn&&(bn=nn.encryptString(bn)),Wt.set("Length",bn.length),await qt(Wt,gn,nn),gn.push(` stream
`,bn,`
endstream`)}async function $t(tn,gn,nn){gn.push("[");let bn=!0;for(const Wt of tn)bn?bn=!1:gn.push(" "),await Ot(Wt,gn,nn);gn.push("]")}async function Ot(tn,gn,nn){tn instanceof kt.Name?gn.push(`/${(0,_t.escapePDFName)(tn.name)}`):tn instanceof kt.Ref?gn.push(`${tn.num} ${tn.gen} R`):Array.isArray(tn)?await $t(tn,gn,nn):typeof tn=="string"?(nn&&(tn=nn.encryptString(tn)),gn.push(`(${(0,_t.escapeString)(tn)})`)):typeof tn=="number"?gn.push((0,_t.numberToString)(tn)):typeof tn=="boolean"?gn.push(tn.toString()):tn instanceof kt.Dict?await qt(tn,gn,nn):tn instanceof vt.BaseStream?await Lt(tn,gn,nn):tn===null?gn.push("null"):(0,wt.warn)(`Unhandled value in writer: ${typeof tn}, please file a bug.`)}function jt(tn,gn,nn,bn){for(let Wt=gn+nn-1;Wt>nn-1;Wt--)bn[Wt]=tn&255,tn>>=8;return nn+gn}function Rt(tn,gn,nn){for(let bn=0,Wt=tn.length;bn<Wt;bn++)nn[gn+bn]=tn.charCodeAt(bn)&255}function Kt(tn,gn){const nn=Math.floor(Date.now()/1e3),bn=gn.filename||"",Wt=[nn.toString(),bn,tn.toString()];let Yt=Wt.reduce((Mt,Ht)=>Mt+Ht.length,0);for(const Mt of Object.values(gn.info))Wt.push(Mt),Yt+=Mt.length;const dn=new Uint8Array(Yt);let Ut=0;for(const Mt of Wt)Rt(Mt,Ut,dn),Ut+=Mt.length;return(0,wt.bytesToString)((0,Ft.calculateMD5)(dn))}function Bt(tn,gn){const nn=new ht.SimpleXMLParser({hasAttributes:!0}).parseFromString(tn);for(const{xfa:Wt}of gn){if(!Wt)continue;const{path:Yt,value:dn}=Wt;if(!Yt)continue;const Ut=(0,_t.parseXFAPath)(Yt);let Mt=nn.documentElement.searchNode(Ut,0);!Mt&&Ut.length>1&&(Mt=nn.documentElement.searchNode([Ut.at(-1)],0)),Mt?Mt.childNodes=Array.isArray(dn)?dn.map(Ht=>new ht.SimpleDOMNode("value",Ht)):[new ht.SimpleDOMNode("#text",dn)]:(0,wt.warn)(`Node not found for path: ${Yt}`)}const bn=[];return nn.documentElement.dump(bn),bn.join("")}async function Gt({xref:tn,acroForm:gn,acroFormRef:nn,hasXfa:bn,hasXfaDatasetsEntry:Wt,xfaDatasetsRef:Yt,needAppearances:dn,newRefs:Ut}){if(bn&&!Wt&&!Yt&&(0,wt.warn)("XFA - Cannot save it"),!dn&&(!bn||!Yt||Wt))return;const Mt=gn.clone();if(bn&&!Wt){const sn=gn.get("XFA").slice();sn.splice(2,0,"datasets"),sn.splice(3,0,Yt),Mt.set("XFA",sn)}dn&&Mt.set("NeedAppearances",!0);const Ht=[];await Vt(nn,Mt,Ht,tn),Ut.push({ref:nn,data:Ht.join("")})}function en({xfaData:tn,xfaDatasetsRef:gn,newRefs:nn,xref:bn}){if(tn===null){const dn=bn.fetchIfRef(gn);tn=Bt(dn.getString(),nn)}const Wt=bn.encrypt;Wt&&(tn=Wt.createCipherTransform(gn.num,gn.gen).encryptString(tn));const Yt=`${gn.num} ${gn.gen} obj
<< /Type /EmbeddedFile /Length ${tn.length}>>
stream
`+tn+`
endstream
endobj
`;nn.push({ref:gn,data:Yt})}async function hn({originalData:tn,xrefInfo:gn,newRefs:nn,xref:bn=null,hasXfa:Wt=!1,xfaDatasetsRef:Yt=null,hasXfaDatasetsEntry:dn=!1,needAppearances:Ut,acroFormRef:Mt=null,acroForm:Ht=null,xfaData:sn=null}){await Gt({xref:bn,acroForm:Ht,acroFormRef:Mt,hasXfa:Wt,hasXfaDatasetsEntry:dn,xfaDatasetsRef:Yt,needAppearances:Ut,newRefs:nn}),Wt&&en({xfaData:sn,xfaDatasetsRef:Yt,newRefs:nn,xref:bn});const zt=new kt.Dict(null),Xt=gn.newRef;let Qt,ln;const on=tn.at(-1);on===10||on===13?(Qt=[],ln=tn.length):(Qt=[`
`],ln=tn.length+1),zt.set("Size",Xt.num+1),zt.set("Prev",gn.startXRef),zt.set("Type",kt.Name.get("XRef")),gn.rootRef!==null&&zt.set("Root",gn.rootRef),gn.infoRef!==null&&zt.set("Info",gn.infoRef),gn.encryptRef!==null&&zt.set("Encrypt",gn.encryptRef),nn.push({ref:Xt,data:""}),nn=nn.sort((pn,Jt)=>pn.ref.num-Jt.ref.num);const cn=[[0,1,65535]],rn=[0,1];let an=0;for(const{ref:pn,data:Jt}of nn)an=Math.max(an,ln),cn.push([1,ln,Math.min(pn.gen,65535)]),ln+=Jt.length,rn.push(pn.num,1),Qt.push(Jt);if(zt.set("Index",rn),Array.isArray(gn.fileIds)&&gn.fileIds.length>0){const pn=Kt(ln,gn);zt.set("ID",[gn.fileIds[0],pn])}const wn=[1,Math.ceil(Math.log2(an)/8),2],Fn=(wn[0]+wn[1]+wn[2])*cn.length;zt.set("W",wn),zt.set("Length",Fn),Qt.push(`${Xt.num} ${Xt.gen} obj
`),await qt(zt,Qt,null),Qt.push(` stream
`);const In=Qt.reduce((pn,Jt)=>pn+Jt.length,0),Tn=`
endstream
endobj
startxref
${ln}
%%EOF
`,An=new Uint8Array(tn.length+In+Fn+Tn.length);An.set(tn);let mn=tn.length;for(const pn of Qt)Rt(pn,mn,An),mn+=pn.length;for(const[pn,Jt,un]of cn)mn=jt(pn,wn[0],mn,An),mn=jt(Jt,wn[1],mn,An),mn=jt(un,wn[2],mn,An);return Rt(Tn,mn,An),An}},(Ct,Et,Pt)=>{var hn,tn,S5,Q3,A5,U2,e9;Object.defineProperty(Et,"__esModule",{value:!0}),Et.calculateSHA256=Et.calculateMD5=Et.PDF20=Et.PDF17=Et.CipherTransformFactory=Et.ARCFourCipher=Et.AES256Cipher=Et.AES128Cipher=void 0,Et.calculateSHA384=Lt,Et.calculateSHA512=void 0;var wt=Pt(2),kt=Pt(4),_t=Pt(75);class ht{constructor(Mt){this.a=0,this.b=0;const Ht=new Uint8Array(256),sn=Mt.length;for(let zt=0;zt<256;++zt)Ht[zt]=zt;for(let zt=0,Xt=0;zt<256;++zt){const Qt=Ht[zt];Xt=Xt+Qt+Mt[zt%sn]&255,Ht[zt]=Ht[Xt],Ht[Xt]=Qt}this.s=Ht}encryptBlock(Mt){let Ht=this.a,sn=this.b;const zt=this.s,Xt=Mt.length,Qt=new Uint8Array(Xt);for(let ln=0;ln<Xt;++ln){Ht=Ht+1&255;const on=zt[Ht];sn=sn+on&255;const cn=zt[sn];zt[Ht]=cn,zt[sn]=on,Qt[ln]=Mt[ln]^zt[on+cn&255]}return this.a=Ht,this.b=sn,Qt}decryptBlock(Mt){return this.encryptBlock(Mt)}encrypt(Mt){return this.encryptBlock(Mt)}}Et.ARCFourCipher=ht;const vt=function(){const Mt=new Uint8Array([7,12,17,22,7,12,17,22,7,12,17,22,7,12,17,22,5,9,14,20,5,9,14,20,5,9,14,20,5,9,14,20,4,11,16,23,4,11,16,23,4,11,16,23,4,11,16,23,6,10,15,21,6,10,15,21,6,10,15,21,6,10,15,21]),Ht=new Int32Array([-680876936,-389564586,606105819,-1044525330,-176418897,1200080426,-1473231341,-45705983,1770035416,-1958414417,-42063,-1990404162,1804603682,-40341101,-1502002290,1236535329,-165796510,-1069501632,643717713,-373897302,-701558691,38016083,-660478335,-405537848,568446438,-1019803690,-187363961,1163531501,-1444681467,-51403784,1735328473,-1926607734,-378558,-2022574463,1839030562,-35309556,-1530992060,1272893353,-155497632,-1094730640,681279174,-358537222,-722521979,76029189,-640364487,-421815835,530742520,-995338651,-198630844,1126891415,-1416354905,-57434055,1700485571,-1894986606,-1051523,-2054922799,1873313359,-30611744,-1560198380,1309151649,-145523070,-1120210379,718787259,-343485551]);function sn(zt,Xt,Qt){let ln=1732584193,on=-271733879,cn=-1732584194,rn=271733878;const an=Qt+72&-64,xn=new Uint8Array(an);let wn,En;for(wn=0;wn<Qt;++wn)xn[wn]=zt[Xt++];xn[wn++]=128;const Fn=an-8;for(;wn<Fn;)xn[wn++]=0;xn[wn++]=Qt<<3&255,xn[wn++]=Qt>>5&255,xn[wn++]=Qt>>13&255,xn[wn++]=Qt>>21&255,xn[wn++]=Qt>>>29&255,xn[wn++]=0,xn[wn++]=0,xn[wn++]=0;const In=new Int32Array(16);for(wn=0;wn<an;){for(En=0;En<16;++En,wn+=4)In[En]=xn[wn]|xn[wn+1]<<8|xn[wn+2]<<16|xn[wn+3]<<24;let Tn=ln,An=on,mn=cn,pn=rn,Jt,un;for(En=0;En<64;++En){En<16?(Jt=An&mn|~An&pn,un=En):En<32?(Jt=pn&An|~pn&mn,un=5*En+1&15):En<48?(Jt=An^mn^pn,un=3*En+5&15):(Jt=mn^(An|~pn),un=7*En&15);const fn=pn,Sn=Tn+Jt+Ht[En]+In[un]|0,kn=Mt[En];pn=mn,mn=An,An=An+(Sn<<kn|Sn>>>32-kn)|0,Tn=fn}ln=ln+Tn|0,on=on+An|0,cn=cn+mn|0,rn=rn+pn|0}return new Uint8Array([ln&255,ln>>8&255,ln>>16&255,ln>>>24&255,on&255,on>>8&255,on>>16&255,on>>>24&255,cn&255,cn>>8&255,cn>>16&255,cn>>>24&255,rn&255,rn>>8&255,rn>>16&255,rn>>>24&255])}return sn}();Et.calculateMD5=vt;class Ft{constructor(Mt,Ht){this.high=Mt|0,this.low=Ht|0}and(Mt){this.high&=Mt.high,this.low&=Mt.low}xor(Mt){this.high^=Mt.high,this.low^=Mt.low}or(Mt){this.high|=Mt.high,this.low|=Mt.low}shiftRight(Mt){Mt>=32?(this.low=this.high>>>Mt-32|0,this.high=0):(this.low=this.low>>>Mt|this.high<<32-Mt,this.high=this.high>>>Mt|0)}shiftLeft(Mt){Mt>=32?(this.high=this.low<<Mt-32,this.low=0):(this.high=this.high<<Mt|this.low>>>32-Mt,this.low<<=Mt)}rotateRight(Mt){let Ht,sn;Mt&32?(sn=this.low,Ht=this.high):(Ht=this.low,sn=this.high),Mt&=31,this.low=Ht>>>Mt|sn<<32-Mt,this.high=sn>>>Mt|Ht<<32-Mt}not(){this.high=~this.high,this.low=~this.low}add(Mt){const Ht=(this.low>>>0)+(Mt.low>>>0);let sn=(this.high>>>0)+(Mt.high>>>0);Ht>4294967295&&(sn+=1),this.low=Ht|0,this.high=sn|0}copyTo(Mt,Ht){Mt[Ht]=this.high>>>24&255,Mt[Ht+1]=this.high>>16&255,Mt[Ht+2]=this.high>>8&255,Mt[Ht+3]=this.high&255,Mt[Ht+4]=this.low>>>24&255,Mt[Ht+5]=this.low>>16&255,Mt[Ht+6]=this.low>>8&255,Mt[Ht+7]=this.low&255}assign(Mt){this.high=Mt.high,this.low=Mt.low}}const Vt=function(){function Mt(rn,an){return rn>>>an|rn<<32-an}function Ht(rn,an,xn){return rn&an^~rn&xn}function sn(rn,an,xn){return rn&an^rn&xn^an&xn}function zt(rn){return Mt(rn,2)^Mt(rn,13)^Mt(rn,22)}function Xt(rn){return Mt(rn,6)^Mt(rn,11)^Mt(rn,25)}function Qt(rn){return Mt(rn,7)^Mt(rn,18)^rn>>>3}function ln(rn){return Mt(rn,17)^Mt(rn,19)^rn>>>10}const on=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function cn(rn,an,xn){let wn=1779033703,En=3144134277,Fn=1013904242,In=2773480762,Tn=1359893119,An=2600822924,mn=528734635,pn=1541459225;const Jt=Math.ceil((xn+9)/64)*64,un=new Uint8Array(Jt);let fn,Sn;for(fn=0;fn<xn;++fn)un[fn]=rn[an++];un[fn++]=128;const kn=Jt-8;for(;fn<kn;)un[fn++]=0;un[fn++]=0,un[fn++]=0,un[fn++]=0,un[fn++]=xn>>>29&255,un[fn++]=xn>>21&255,un[fn++]=xn>>13&255,un[fn++]=xn>>5&255,un[fn++]=xn<<3&255;const Pn=new Uint32Array(64);for(fn=0;fn<Jt;){for(Sn=0;Sn<16;++Sn)Pn[Sn]=un[fn]<<24|un[fn+1]<<16|un[fn+2]<<8|un[fn+3],fn+=4;for(Sn=16;Sn<64;++Sn)Pn[Sn]=ln(Pn[Sn-2])+Pn[Sn-7]+Qt(Pn[Sn-15])+Pn[Sn-16]|0;let Cn=wn,vn=En,Rn=Fn,Mn=In,_n=Tn,Dn=An,Ln=mn,Un=pn,ts,es;for(Sn=0;Sn<64;++Sn)ts=Un+Xt(_n)+Ht(_n,Dn,Ln)+on[Sn]+Pn[Sn],es=zt(Cn)+sn(Cn,vn,Rn),Un=Ln,Ln=Dn,Dn=_n,_n=Mn+ts|0,Mn=Rn,Rn=vn,vn=Cn,Cn=ts+es|0;wn=wn+Cn|0,En=En+vn|0,Fn=Fn+Rn|0,In=In+Mn|0,Tn=Tn+_n|0,An=An+Dn|0,mn=mn+Ln|0,pn=pn+Un|0}return new Uint8Array([wn>>24&255,wn>>16&255,wn>>8&255,wn&255,En>>24&255,En>>16&255,En>>8&255,En&255,Fn>>24&255,Fn>>16&255,Fn>>8&255,Fn&255,In>>24&255,In>>16&255,In>>8&255,In&255,Tn>>24&255,Tn>>16&255,Tn>>8&255,Tn&255,An>>24&255,An>>16&255,An>>8&255,An&255,mn>>24&255,mn>>16&255,mn>>8&255,mn&255,pn>>24&255,pn>>16&255,pn>>8&255,pn&255])}return cn}();Et.calculateSHA256=Vt;const qt=function(){function Mt(cn,rn,an,xn,wn){cn.assign(rn),cn.and(an),wn.assign(rn),wn.not(),wn.and(xn),cn.xor(wn)}function Ht(cn,rn,an,xn,wn){cn.assign(rn),cn.and(an),wn.assign(rn),wn.and(xn),cn.xor(wn),wn.assign(an),wn.and(xn),cn.xor(wn)}function sn(cn,rn,an){cn.assign(rn),cn.rotateRight(28),an.assign(rn),an.rotateRight(34),cn.xor(an),an.assign(rn),an.rotateRight(39),cn.xor(an)}function zt(cn,rn,an){cn.assign(rn),cn.rotateRight(14),an.assign(rn),an.rotateRight(18),cn.xor(an),an.assign(rn),an.rotateRight(41),cn.xor(an)}function Xt(cn,rn,an){cn.assign(rn),cn.rotateRight(1),an.assign(rn),an.rotateRight(8),cn.xor(an),an.assign(rn),an.shiftRight(7),cn.xor(an)}function Qt(cn,rn,an){cn.assign(rn),cn.rotateRight(19),an.assign(rn),an.rotateRight(61),cn.xor(an),an.assign(rn),an.shiftRight(6),cn.xor(an)}const ln=[new Ft(1116352408,3609767458),new Ft(1899447441,602891725),new Ft(3049323471,3964484399),new Ft(3921009573,2173295548),new Ft(961987163,4081628472),new Ft(1508970993,3053834265),new Ft(2453635748,2937671579),new Ft(2870763221,3664609560),new Ft(3624381080,2734883394),new Ft(310598401,1164996542),new Ft(607225278,1323610764),new Ft(1426881987,3590304994),new Ft(1925078388,4068182383),new Ft(2162078206,991336113),new Ft(2614888103,633803317),new Ft(3248222580,3479774868),new Ft(3835390401,2666613458),new Ft(4022224774,944711139),new Ft(264347078,2341262773),new Ft(604807628,2007800933),new Ft(770255983,1495990901),new Ft(1249150122,1856431235),new Ft(1555081692,3175218132),new Ft(1996064986,2198950837),new Ft(2554220882,3999719339),new Ft(2821834349,766784016),new Ft(2952996808,2566594879),new Ft(3210313671,3203337956),new Ft(3336571891,1034457026),new Ft(3584528711,2466948901),new Ft(113926993,3758326383),new Ft(338241895,168717936),new Ft(666307205,1188179964),new Ft(773529912,1546045734),new Ft(1294757372,1522805485),new Ft(1396182291,2643833823),new Ft(1695183700,2343527390),new Ft(1986661051,1014477480),new Ft(2177026350,1206759142),new Ft(2456956037,344077627),new Ft(2730485921,1290863460),new Ft(2820302411,3158454273),new Ft(3259730800,3505952657),new Ft(3345764771,106217008),new Ft(3516065817,3606008344),new Ft(3600352804,1432725776),new Ft(4094571909,1467031594),new Ft(275423344,851169720),new Ft(430227734,3100823752),new Ft(506948616,1363258195),new Ft(659060556,3750685593),new Ft(883997877,3785050280),new Ft(958139571,3318307427),new Ft(1322822218,3812723403),new Ft(1537002063,2003034995),new Ft(1747873779,3602036899),new Ft(1955562222,1575990012),new Ft(2024104815,1125592928),new Ft(2227730452,2716904306),new Ft(2361852424,442776044),new Ft(2428436474,593698344),new Ft(2756734187,3733110249),new Ft(3204031479,2999351573),new Ft(3329325298,3815920427),new Ft(3391569614,3928383900),new Ft(3515267271,566280711),new Ft(3940187606,3454069534),new Ft(4118630271,4000239992),new Ft(116418474,1914138554),new Ft(174292421,2731055270),new Ft(289380356,3203993006),new Ft(460393269,320620315),new Ft(685471733,587496836),new Ft(852142971,1086792851),new Ft(1017036298,365543100),new Ft(1126000580,2618297676),new Ft(1288033470,3409855158),new Ft(1501505948,4234509866),new Ft(1607167915,987167468),new Ft(1816402316,1246189591)];function on(cn,rn,an,xn=!1){let wn,En,Fn,In,Tn,An,mn,pn;xn?(wn=new Ft(3418070365,3238371032),En=new Ft(1654270250,914150663),Fn=new Ft(2438529370,812702999),In=new Ft(355462360,4144912697),Tn=new Ft(1731405415,4290775857),An=new Ft(2394180231,1750603025),mn=new Ft(3675008525,1694076839),pn=new Ft(1203062813,3204075428)):(wn=new Ft(1779033703,4089235720),En=new Ft(3144134277,2227873595),Fn=new Ft(1013904242,4271175723),In=new Ft(2773480762,1595750129),Tn=new Ft(1359893119,2917565137),An=new Ft(2600822924,725511199),mn=new Ft(528734635,4215389547),pn=new Ft(1541459225,327033209));const Jt=Math.ceil((an+17)/128)*128,un=new Uint8Array(Jt);let fn,Sn;for(fn=0;fn<an;++fn)un[fn]=cn[rn++];un[fn++]=128;const kn=Jt-16;for(;fn<kn;)un[fn++]=0;un[fn++]=0,un[fn++]=0,un[fn++]=0,un[fn++]=0,un[fn++]=0,un[fn++]=0,un[fn++]=0,un[fn++]=0,un[fn++]=0,un[fn++]=0,un[fn++]=0,un[fn++]=an>>>29&255,un[fn++]=an>>21&255,un[fn++]=an>>13&255,un[fn++]=an>>5&255,un[fn++]=an<<3&255;const Pn=new Array(80);for(fn=0;fn<80;fn++)Pn[fn]=new Ft(0,0);let Cn=new Ft(0,0),vn=new Ft(0,0),Rn=new Ft(0,0),Mn=new Ft(0,0),_n=new Ft(0,0),Dn=new Ft(0,0),Ln=new Ft(0,0),Un=new Ft(0,0);const ts=new Ft(0,0),es=new Ft(0,0),Qn=new Ft(0,0),Yn=new Ft(0,0);let zn;for(fn=0;fn<Jt;){for(Sn=0;Sn<16;++Sn)Pn[Sn].high=un[fn]<<24|un[fn+1]<<16|un[fn+2]<<8|un[fn+3],Pn[Sn].low=un[fn+4]<<24|un[fn+5]<<16|un[fn+6]<<8|un[fn+7],fn+=8;for(Sn=16;Sn<80;++Sn)zn=Pn[Sn],Qt(zn,Pn[Sn-2],Yn),zn.add(Pn[Sn-7]),Xt(Qn,Pn[Sn-15],Yn),zn.add(Qn),zn.add(Pn[Sn-16]);for(Cn.assign(wn),vn.assign(En),Rn.assign(Fn),Mn.assign(In),_n.assign(Tn),Dn.assign(An),Ln.assign(mn),Un.assign(pn),Sn=0;Sn<80;++Sn)ts.assign(Un),zt(Qn,_n,Yn),ts.add(Qn),Mt(Qn,_n,Dn,Ln,Yn),ts.add(Qn),ts.add(ln[Sn]),ts.add(Pn[Sn]),sn(es,Cn,Yn),Ht(Qn,Cn,vn,Rn,Yn),es.add(Qn),zn=Un,Un=Ln,Ln=Dn,Dn=_n,Mn.add(ts),_n=Mn,Mn=Rn,Rn=vn,vn=Cn,zn.assign(ts),zn.add(es),Cn=zn;wn.add(Cn),En.add(vn),Fn.add(Rn),In.add(Mn),Tn.add(_n),An.add(Dn),mn.add(Ln),pn.add(Un)}let ns;return xn?(ns=new Uint8Array(48),wn.copyTo(ns,0),En.copyTo(ns,8),Fn.copyTo(ns,16),In.copyTo(ns,24),Tn.copyTo(ns,32),An.copyTo(ns,40)):(ns=new Uint8Array(64),wn.copyTo(ns,0),En.copyTo(ns,8),Fn.copyTo(ns,16),In.copyTo(ns,24),Tn.copyTo(ns,32),An.copyTo(ns,40),mn.copyTo(ns,48),pn.copyTo(ns,56)),ns}return on}();Et.calculateSHA512=qt;function Lt(Ut,Mt,Ht){return qt(Ut,Mt,Ht,!0)}class $t{decryptBlock(Mt){return Mt}encrypt(Mt){return Mt}}class Ot{constructor(){this.constructor===Ot&&(0,wt.unreachable)("Cannot initialize AESBaseCipher."),this._s=new Uint8Array([99,124,119,123,242,107,111,197,48,1,103,43,254,215,171,118,202,130,201,125,250,89,71,240,173,212,162,175,156,164,114,192,183,253,147,38,54,63,247,204,52,165,229,241,113,216,49,21,4,199,35,195,24,150,5,154,7,18,128,226,235,39,178,117,9,131,44,26,27,110,90,160,82,59,214,179,41,227,47,132,83,209,0,237,32,252,177,91,106,203,190,57,74,76,88,207,208,239,170,251,67,77,51,133,69,249,2,127,80,60,159,168,81,163,64,143,146,157,56,245,188,182,218,33,16,255,243,210,205,12,19,236,95,151,68,23,196,167,126,61,100,93,25,115,96,129,79,220,34,42,144,136,70,238,184,20,222,94,11,219,224,50,58,10,73,6,36,92,194,211,172,98,145,149,228,121,231,200,55,109,141,213,78,169,108,86,244,234,101,122,174,8,186,120,37,46,28,166,180,198,232,221,116,31,75,189,139,138,112,62,181,102,72,3,246,14,97,53,87,185,134,193,29,158,225,248,152,17,105,217,142,148,155,30,135,233,206,85,40,223,140,161,137,13,191,230,66,104,65,153,45,15,176,84,187,22]),this._inv_s=new Uint8Array([82,9,106,213,48,54,165,56,191,64,163,158,129,243,215,251,124,227,57,130,155,47,255,135,52,142,67,68,196,222,233,203,84,123,148,50,166,194,35,61,238,76,149,11,66,250,195,78,8,46,161,102,40,217,36,178,118,91,162,73,109,139,209,37,114,248,246,100,134,104,152,22,212,164,92,204,93,101,182,146,108,112,72,80,253,237,185,218,94,21,70,87,167,141,157,132,144,216,171,0,140,188,211,10,247,228,88,5,184,179,69,6,208,44,30,143,202,63,15,2,193,175,189,3,1,19,138,107,58,145,17,65,79,103,220,234,151,242,207,206,240,180,230,115,150,172,116,34,231,173,53,133,226,249,55,232,28,117,223,110,71,241,26,113,29,41,197,137,111,183,98,14,170,24,190,27,252,86,62,75,198,210,121,32,154,219,192,254,120,205,90,244,31,221,168,51,136,7,199,49,177,18,16,89,39,128,236,95,96,81,127,169,25,181,74,13,45,229,122,159,147,201,156,239,160,224,59,77,174,42,245,176,200,235,187,60,131,83,153,97,23,43,4,126,186,119,214,38,225,105,20,99,85,33,12,125]),this._mix=new Uint32Array([0,235474187,470948374,303765277,941896748,908933415,607530554,708780849,1883793496,2118214995,1817866830,1649639237,1215061108,1181045119,1417561698,1517767529,3767586992,4003061179,4236429990,4069246893,3635733660,3602770327,3299278474,3400528769,2430122216,2664543715,2362090238,2193862645,2835123396,2801107407,3035535058,3135740889,3678124923,3576870512,3341394285,3374361702,3810496343,3977675356,4279080257,4043610186,2876494627,2776292904,3076639029,3110650942,2472011535,2640243204,2403728665,2169303058,1001089995,899835584,666464733,699432150,59727847,226906860,530400753,294930682,1273168787,1172967064,1475418501,1509430414,1942435775,2110667444,1876241833,1641816226,2910219766,2743034109,2976151520,3211623147,2505202138,2606453969,2302690252,2269728455,3711829422,3543599269,3240894392,3475313331,3843699074,3943906441,4178062228,4144047775,1306967366,1139781709,1374988112,1610459739,1975683434,2076935265,1775276924,1742315127,1034867998,866637845,566021896,800440835,92987698,193195065,429456164,395441711,1984812685,2017778566,1784663195,1683407248,1315562145,1080094634,1383856311,1551037884,101039829,135050206,437757123,337553864,1042385657,807962610,573804783,742039012,2531067453,2564033334,2328828971,2227573024,2935566865,2700099354,3001755655,3168937228,3868552805,3902563182,4203181171,4102977912,3736164937,3501741890,3265478751,3433712980,1106041591,1340463100,1576976609,1408749034,2043211483,2009195472,1708848333,1809054150,832877231,1068351396,766945465,599762354,159417987,126454664,361929877,463180190,2709260871,2943682380,3178106961,3009879386,2572697195,2538681184,2236228733,2336434550,3509871135,3745345300,3441850377,3274667266,3910161971,3877198648,4110568485,4211818798,2597806476,2497604743,2261089178,2295101073,2733856160,2902087851,3202437046,2968011453,3936291284,3835036895,4136440770,4169408201,3535486456,3702665459,3467192302,3231722213,2051518780,1951317047,1716890410,1750902305,1113818384,1282050075,1584504582,1350078989,168810852,67556463,371049330,404016761,841739592,1008918595,775550814,540080725,3969562369,3801332234,4035489047,4269907996,3569255213,3669462566,3366754619,3332740144,2631065433,2463879762,2160117071,2395588676,2767645557,2868897406,3102011747,3069049960,202008497,33778362,270040487,504459436,875451293,975658646,675039627,641025152,2084704233,1917518562,1615861247,1851332852,1147550661,1248802510,1484005843,1451044056,933301370,967311729,733156972,632953703,260388950,25965917,328671808,496906059,1206477858,1239443753,1543208500,1441952575,2144161806,1908694277,1675577880,1842759443,3610369226,3644379585,3408119516,3307916247,4011190502,3776767469,4077384432,4245618683,2809771154,2842737049,3144396420,3043140495,2673705150,2438237621,2203032232,2370213795]),this._mixCol=new Uint8Array(256);for(let Mt=0;Mt<256;Mt++)this._mixCol[Mt]=Mt<128?Mt<<1:Mt<<1^27;this.buffer=new Uint8Array(16),this.bufferPosition=0}_expandKey(Mt){(0,wt.unreachable)("Cannot call `_expandKey` on the base class")}_decrypt(Mt,Ht){let sn,zt,Xt;const Qt=new Uint8Array(16);Qt.set(Mt);for(let ln=0,on=this._keySize;ln<16;++ln,++on)Qt[ln]^=Ht[on];for(let ln=this._cyclesOfRepetition-1;ln>=1;--ln){sn=Qt[13],Qt[13]=Qt[9],Qt[9]=Qt[5],Qt[5]=Qt[1],Qt[1]=sn,sn=Qt[14],zt=Qt[10],Qt[14]=Qt[6],Qt[10]=Qt[2],Qt[6]=sn,Qt[2]=zt,sn=Qt[15],zt=Qt[11],Xt=Qt[7],Qt[15]=Qt[3],Qt[11]=sn,Qt[7]=zt,Qt[3]=Xt;for(let on=0;on<16;++on)Qt[on]=this._inv_s[Qt[on]];for(let on=0,cn=ln*16;on<16;++on,++cn)Qt[on]^=Ht[cn];for(let on=0;on<16;on+=4){const cn=this._mix[Qt[on]],rn=this._mix[Qt[on+1]],an=this._mix[Qt[on+2]],xn=this._mix[Qt[on+3]];sn=cn^rn>>>8^rn<<24^an>>>16^an<<16^xn>>>24^xn<<8,Qt[on]=sn>>>24&255,Qt[on+1]=sn>>16&255,Qt[on+2]=sn>>8&255,Qt[on+3]=sn&255}}sn=Qt[13],Qt[13]=Qt[9],Qt[9]=Qt[5],Qt[5]=Qt[1],Qt[1]=sn,sn=Qt[14],zt=Qt[10],Qt[14]=Qt[6],Qt[10]=Qt[2],Qt[6]=sn,Qt[2]=zt,sn=Qt[15],zt=Qt[11],Xt=Qt[7],Qt[15]=Qt[3],Qt[11]=sn,Qt[7]=zt,Qt[3]=Xt;for(let ln=0;ln<16;++ln)Qt[ln]=this._inv_s[Qt[ln]],Qt[ln]^=Ht[ln];return Qt}_encrypt(Mt,Ht){const sn=this._s;let zt,Xt,Qt;const ln=new Uint8Array(16);ln.set(Mt);for(let on=0;on<16;++on)ln[on]^=Ht[on];for(let on=1;on<this._cyclesOfRepetition;on++){for(let cn=0;cn<16;++cn)ln[cn]=sn[ln[cn]];Qt=ln[1],ln[1]=ln[5],ln[5]=ln[9],ln[9]=ln[13],ln[13]=Qt,Qt=ln[2],Xt=ln[6],ln[2]=ln[10],ln[6]=ln[14],ln[10]=Qt,ln[14]=Xt,Qt=ln[3],Xt=ln[7],zt=ln[11],ln[3]=ln[15],ln[7]=Qt,ln[11]=Xt,ln[15]=zt;for(let cn=0;cn<16;cn+=4){const rn=ln[cn+0],an=ln[cn+1],xn=ln[cn+2],wn=ln[cn+3];zt=rn^an^xn^wn,ln[cn+0]^=zt^this._mixCol[rn^an],ln[cn+1]^=zt^this._mixCol[an^xn],ln[cn+2]^=zt^this._mixCol[xn^wn],ln[cn+3]^=zt^this._mixCol[wn^rn]}for(let cn=0,rn=on*16;cn<16;++cn,++rn)ln[cn]^=Ht[rn]}for(let on=0;on<16;++on)ln[on]=sn[ln[on]];Qt=ln[1],ln[1]=ln[5],ln[5]=ln[9],ln[9]=ln[13],ln[13]=Qt,Qt=ln[2],Xt=ln[6],ln[2]=ln[10],ln[6]=ln[14],ln[10]=Qt,ln[14]=Xt,Qt=ln[3],Xt=ln[7],zt=ln[11],ln[3]=ln[15],ln[7]=Qt,ln[11]=Xt,ln[15]=zt;for(let on=0,cn=this._keySize;on<16;++on,++cn)ln[on]^=Ht[cn];return ln}_decryptBlock2(Mt,Ht){const sn=Mt.length;let zt=this.buffer,Xt=this.bufferPosition;const Qt=[];let ln=this.iv;for(let rn=0;rn<sn;++rn){if(zt[Xt]=Mt[rn],++Xt,Xt<16)continue;const an=this._decrypt(zt,this._key);for(let xn=0;xn<16;++xn)an[xn]^=ln[xn];ln=zt,Qt.push(an),zt=new Uint8Array(16),Xt=0}if(this.buffer=zt,this.bufferLength=Xt,this.iv=ln,Qt.length===0)return new Uint8Array(0);let on=16*Qt.length;if(Ht){const rn=Qt.at(-1);let an=rn[15];if(an<=16){for(let xn=15,wn=16-an;xn>=wn;--xn)if(rn[xn]!==an){an=0;break}on-=an,Qt[Qt.length-1]=rn.subarray(0,16-an)}}const cn=new Uint8Array(on);for(let rn=0,an=0,xn=Qt.length;rn<xn;++rn,an+=16)cn.set(Qt[rn],an);return cn}decryptBlock(Mt,Ht,sn=null){const zt=Mt.length,Xt=this.buffer;let Qt=this.bufferPosition;if(sn)this.iv=sn;else{for(let ln=0;Qt<16&&ln<zt;++ln,++Qt)Xt[Qt]=Mt[ln];if(Qt<16)return this.bufferLength=Qt,new Uint8Array(0);this.iv=Xt,Mt=Mt.subarray(16)}return this.buffer=new Uint8Array(16),this.bufferLength=0,this.decryptBlock=this._decryptBlock2,this.decryptBlock(Mt,Ht)}encrypt(Mt,Ht){const sn=Mt.length;let zt=this.buffer,Xt=this.bufferPosition;const Qt=[];Ht||(Ht=new Uint8Array(16));for(let cn=0;cn<sn;++cn){if(zt[Xt]=Mt[cn],++Xt,Xt<16)continue;for(let an=0;an<16;++an)zt[an]^=Ht[an];const rn=this._encrypt(zt,this._key);Ht=rn,Qt.push(rn),zt=new Uint8Array(16),Xt=0}if(this.buffer=zt,this.bufferLength=Xt,this.iv=Ht,Qt.length===0)return new Uint8Array(0);const ln=16*Qt.length,on=new Uint8Array(ln);for(let cn=0,rn=0,an=Qt.length;cn<an;++cn,rn+=16)on.set(Qt[cn],rn);return on}}class jt extends Ot{constructor(Mt){super(),this._cyclesOfRepetition=10,this._keySize=160,this._rcon=new Uint8Array([141,1,2,4,8,16,32,64,128,27,54,108,216,171,77,154,47,94,188,99,198,151,53,106,212,179,125,250,239,197,145,57,114,228,211,189,97,194,159,37,74,148,51,102,204,131,29,58,116,232,203,141,1,2,4,8,16,32,64,128,27,54,108,216,171,77,154,47,94,188,99,198,151,53,106,212,179,125,250,239,197,145,57,114,228,211,189,97,194,159,37,74,148,51,102,204,131,29,58,116,232,203,141,1,2,4,8,16,32,64,128,27,54,108,216,171,77,154,47,94,188,99,198,151,53,106,212,179,125,250,239,197,145,57,114,228,211,189,97,194,159,37,74,148,51,102,204,131,29,58,116,232,203,141,1,2,4,8,16,32,64,128,27,54,108,216,171,77,154,47,94,188,99,198,151,53,106,212,179,125,250,239,197,145,57,114,228,211,189,97,194,159,37,74,148,51,102,204,131,29,58,116,232,203,141,1,2,4,8,16,32,64,128,27,54,108,216,171,77,154,47,94,188,99,198,151,53,106,212,179,125,250,239,197,145,57,114,228,211,189,97,194,159,37,74,148,51,102,204,131,29,58,116,232,203,141]),this._key=this._expandKey(Mt)}_expandKey(Mt){const sn=this._s,zt=this._rcon,Xt=new Uint8Array(176);Xt.set(Mt);for(let Qt=16,ln=1;Qt<176;++ln){let on=Xt[Qt-3],cn=Xt[Qt-2],rn=Xt[Qt-1],an=Xt[Qt-4];on=sn[on],cn=sn[cn],rn=sn[rn],an=sn[an],on^=zt[ln];for(let xn=0;xn<4;++xn)Xt[Qt]=on^=Xt[Qt-16],Qt++,Xt[Qt]=cn^=Xt[Qt-16],Qt++,Xt[Qt]=rn^=Xt[Qt-16],Qt++,Xt[Qt]=an^=Xt[Qt-16],Qt++}return Xt}}Et.AES128Cipher=jt;class Rt extends Ot{constructor(Mt){super(),this._cyclesOfRepetition=14,this._keySize=224,this._key=this._expandKey(Mt)}_expandKey(Mt){const sn=this._s,zt=new Uint8Array(240);zt.set(Mt);let Xt=1,Qt,ln,on,cn;for(let rn=32,an=1;rn<240;++an){rn%32===16?(Qt=sn[Qt],ln=sn[ln],on=sn[on],cn=sn[cn]):rn%32===0&&(Qt=zt[rn-3],ln=zt[rn-2],on=zt[rn-1],cn=zt[rn-4],Qt=sn[Qt],ln=sn[ln],on=sn[on],cn=sn[cn],Qt^=Xt,(Xt<<=1)>=256&&(Xt=(Xt^27)&255));for(let xn=0;xn<4;++xn)zt[rn]=Qt^=zt[rn-32],rn++,zt[rn]=ln^=zt[rn-32],rn++,zt[rn]=on^=zt[rn-32],rn++,zt[rn]=cn^=zt[rn-32],rn++}return zt}}Et.AES256Cipher=Rt;class Kt{checkOwnerPassword(Mt,Ht,sn,zt){const Xt=new Uint8Array(Mt.length+56);Xt.set(Mt,0),Xt.set(Ht,Mt.length),Xt.set(sn,Mt.length+Ht.length);const Qt=Vt(Xt,0,Xt.length);return(0,wt.isArrayEqual)(Qt,zt)}checkUserPassword(Mt,Ht,sn){const zt=new Uint8Array(Mt.length+8);zt.set(Mt,0),zt.set(Ht,Mt.length);const Xt=Vt(zt,0,zt.length);return(0,wt.isArrayEqual)(Xt,sn)}getOwnerKey(Mt,Ht,sn,zt){const Xt=new Uint8Array(Mt.length+56);Xt.set(Mt,0),Xt.set(Ht,Mt.length),Xt.set(sn,Mt.length+Ht.length);const Qt=Vt(Xt,0,Xt.length);return new Rt(Qt).decryptBlock(zt,!1,new Uint8Array(16))}getUserKey(Mt,Ht,sn){const zt=new Uint8Array(Mt.length+8);zt.set(Mt,0),zt.set(Ht,Mt.length);const Xt=Vt(zt,0,zt.length);return new Rt(Xt).decryptBlock(sn,!1,new Uint8Array(16))}}Et.PDF17=Kt;class Bt{_hash(Mt,Ht,sn){let zt=Vt(Ht,0,Ht.length).subarray(0,32),Xt=[0],Qt=0;for(;Qt<64||Xt.at(-1)>Qt-32;){const ln=Mt.length+zt.length+sn.length,on=new Uint8Array(ln);let cn=0;on.set(Mt,cn),cn+=Mt.length,on.set(zt,cn),cn+=zt.length,on.set(sn,cn);const rn=new Uint8Array(ln*64);for(let wn=0,En=0;wn<64;wn++,En+=ln)rn.set(on,En);Xt=new jt(zt.subarray(0,16)).encrypt(rn,zt.subarray(16,32));const xn=Xt.slice(0,16).reduce((wn,En)=>wn+En,0)%3;xn===0?zt=Vt(Xt,0,Xt.length):xn===1?zt=Lt(Xt,0,Xt.length):xn===2&&(zt=qt(Xt,0,Xt.length)),Qt++}return zt.subarray(0,32)}checkOwnerPassword(Mt,Ht,sn,zt){const Xt=new Uint8Array(Mt.length+56);Xt.set(Mt,0),Xt.set(Ht,Mt.length),Xt.set(sn,Mt.length+Ht.length);const Qt=this._hash(Mt,Xt,sn);return(0,wt.isArrayEqual)(Qt,zt)}checkUserPassword(Mt,Ht,sn){const zt=new Uint8Array(Mt.length+8);zt.set(Mt,0),zt.set(Ht,Mt.length);const Xt=this._hash(Mt,zt,[]);return(0,wt.isArrayEqual)(Xt,sn)}getOwnerKey(Mt,Ht,sn,zt){const Xt=new Uint8Array(Mt.length+56);Xt.set(Mt,0),Xt.set(Ht,Mt.length),Xt.set(sn,Mt.length+Ht.length);const Qt=this._hash(Mt,Xt,sn);return new Rt(Qt).decryptBlock(zt,!1,new Uint8Array(16))}getUserKey(Mt,Ht,sn){const zt=new Uint8Array(Mt.length+8);zt.set(Mt,0),zt.set(Ht,Mt.length);const Xt=this._hash(Mt,zt,[]);return new Rt(Xt).decryptBlock(sn,!1,new Uint8Array(16))}}Et.PDF20=Bt;class Gt{constructor(Mt,Ht){this.StringCipherConstructor=Mt,this.StreamCipherConstructor=Ht}createStream(Mt,Ht){const sn=new this.StreamCipherConstructor;return new _t.DecryptStream(Mt,Ht,function(Xt,Qt){return sn.decryptBlock(Xt,Qt)})}decryptString(Mt){const Ht=new this.StringCipherConstructor;let sn=(0,wt.stringToBytes)(Mt);return sn=Ht.decryptBlock(sn,!0),(0,wt.bytesToString)(sn)}encryptString(Mt){const Ht=new this.StringCipherConstructor;if(Ht instanceof Ot){const Xt=16-Mt.length%16;Mt+=String.fromCharCode(Xt).repeat(Xt);const Qt=new Uint8Array(16);if(typeof crypto<"u")crypto.getRandomValues(Qt);else for(let cn=0;cn<16;cn++)Qt[cn]=Math.floor(256*Math.random());let ln=(0,wt.stringToBytes)(Mt);ln=Ht.encrypt(ln,Qt);const on=new Uint8Array(16+ln.length);return on.set(Qt),on.set(ln,16),(0,wt.bytesToString)(on)}let sn=(0,wt.stringToBytes)(Mt);return sn=Ht.encrypt(sn),(0,wt.bytesToString)(sn)}}const dn=class dn{constructor(Mt,Ht,sn){Nn(this,tn);const zt=Mt.get("Filter");if(!(0,kt.isName)(zt,"Standard"))throw new wt.FormatError("unknown encryption method");this.filterName=zt.name,this.dict=Mt;const Xt=Mt.get("V");if(!Number.isInteger(Xt)||Xt!==1&&Xt!==2&&Xt!==4&&Xt!==5)throw new wt.FormatError("unsupported encryption algorithm");this.algorithm=Xt;let Qt=Mt.get("Length");if(!Qt)if(Xt<=3)Qt=40;else{const Tn=Mt.get("CF"),An=Mt.get("StmF");if(Tn instanceof kt.Dict&&An instanceof kt.Name){Tn.suppressEncryption=!0;const mn=Tn.get(An.name);Qt=(mn==null?void 0:mn.get("Length"))||128,Qt<40&&(Qt<<=3)}}if(!Number.isInteger(Qt)||Qt<40||Qt%8!==0)throw new wt.FormatError("invalid key length");const ln=(0,wt.stringToBytes)(Mt.get("O")),on=(0,wt.stringToBytes)(Mt.get("U")),cn=ln.subarray(0,32),rn=on.subarray(0,32),an=Mt.get("P"),xn=Mt.get("R"),wn=(Xt===4||Xt===5)&&Mt.get("EncryptMetadata")!==!1;this.encryptMetadata=wn;const En=(0,wt.stringToBytes)(Ht);let Fn;if(sn){if(xn===6)try{sn=(0,wt.utf8StringToString)(sn)}catch{(0,wt.warn)("CipherTransformFactory: Unable to convert UTF8 encoded password.")}Fn=(0,wt.stringToBytes)(sn)}let In;if(Xt!==5)In=On(this,tn,Q3).call(this,En,Fn,cn,rn,an,xn,Qt,wn);else{const Tn=ln.subarray(32,40),An=ln.subarray(40,48),mn=on.subarray(0,48),pn=on.subarray(32,40),Jt=on.subarray(40,48),un=(0,wt.stringToBytes)(Mt.get("OE")),fn=(0,wt.stringToBytes)(Mt.get("UE")),Sn=(0,wt.stringToBytes)(Mt.get("Perms"));In=On(this,tn,S5).call(this,xn,Fn,cn,Tn,An,mn,rn,pn,Jt,un,fn,Sn)}if(!In&&!sn)throw new wt.PasswordException("No password given",wt.PasswordResponses.NEED_PASSWORD);if(!In&&sn){const Tn=On(this,tn,A5).call(this,Fn,cn,xn,Qt);In=On(this,tn,Q3).call(this,En,Tn,cn,rn,an,xn,Qt,wn)}if(!In)throw new wt.PasswordException("Incorrect Password",wt.PasswordResponses.INCORRECT_PASSWORD);if(this.encryptionKey=In,Xt>=4){const Tn=Mt.get("CF");Tn instanceof kt.Dict&&(Tn.suppressEncryption=!0),this.cf=Tn,this.stmf=Mt.get("StmF")||kt.Name.get("Identity"),this.strf=Mt.get("StrF")||kt.Name.get("Identity"),this.eff=Mt.get("EFF")||this.stmf}}createCipherTransform(Mt,Ht){if(this.algorithm===4||this.algorithm===5)return new Gt(On(this,tn,e9).call(this,this.cf,this.strf,Mt,Ht,this.encryptionKey),On(this,tn,e9).call(this,this.cf,this.stmf,Mt,Ht,this.encryptionKey));const sn=On(this,tn,U2).call(this,Mt,Ht,this.encryptionKey,!1),zt=function(){return new ht(sn)};return new Gt(zt,zt)}};hn=new WeakMap,tn=new WeakSet,S5=function(Mt,Ht,sn,zt,Xt,Qt,ln,on,cn,rn,an,xn){if(Ht){const En=Math.min(127,Ht.length);Ht=Ht.subarray(0,En)}else Ht=[];const wn=Mt===6?new Bt:new Kt;return wn.checkUserPassword(Ht,on,ln)?wn.getUserKey(Ht,cn,an):Ht.length&&wn.checkOwnerPassword(Ht,zt,Qt,sn)?wn.getOwnerKey(Ht,Xt,Qt,rn):null},Q3=function(Mt,Ht,sn,zt,Xt,Qt,ln,on){const cn=40+sn.length+Mt.length,rn=new Uint8Array(cn);let an=0,xn,wn;if(Ht)for(wn=Math.min(32,Ht.length);an<wn;++an)rn[an]=Ht[an];for(xn=0;an<32;)rn[an++]=Dt(dn,hn)[xn++];for(xn=0,wn=sn.length;xn<wn;++xn)rn[an++]=sn[xn];for(rn[an++]=Xt&255,rn[an++]=Xt>>8&255,rn[an++]=Xt>>16&255,rn[an++]=Xt>>>24&255,xn=0,wn=Mt.length;xn<wn;++xn)rn[an++]=Mt[xn];Qt>=4&&!on&&(rn[an++]=255,rn[an++]=255,rn[an++]=255,rn[an++]=255);let En=vt(rn,0,an);const Fn=ln>>3;if(Qt>=3)for(xn=0;xn<50;++xn)En=vt(En,0,Fn);const In=En.subarray(0,Fn);let Tn,An;if(Qt>=3){for(an=0;an<32;++an)rn[an]=Dt(dn,hn)[an];for(xn=0,wn=Mt.length;xn<wn;++xn)rn[an++]=Mt[xn];Tn=new ht(In),An=Tn.encryptBlock(vt(rn,0,an)),wn=In.length;const mn=new Uint8Array(wn);for(xn=1;xn<=19;++xn){for(let pn=0;pn<wn;++pn)mn[pn]=In[pn]^xn;Tn=new ht(mn),An=Tn.encryptBlock(An)}for(xn=0,wn=An.length;xn<wn;++xn)if(zt[xn]!==An[xn])return null}else for(Tn=new ht(In),An=Tn.encryptBlock(Dt(dn,hn)),xn=0,wn=An.length;xn<wn;++xn)if(zt[xn]!==An[xn])return null;return In},A5=function(Mt,Ht,sn,zt){const Xt=new Uint8Array(32);let Qt=0;const ln=Math.min(32,Mt.length);for(;Qt<ln;++Qt)Xt[Qt]=Mt[Qt];let on=0;for(;Qt<32;)Xt[Qt++]=Dt(dn,hn)[on++];let cn=vt(Xt,0,Qt);const rn=zt>>3;if(sn>=3)for(on=0;on<50;++on)cn=vt(cn,0,cn.length);let an,xn;if(sn>=3){xn=Ht;const wn=new Uint8Array(rn);for(on=19;on>=0;on--){for(let En=0;En<rn;++En)wn[En]=cn[En]^on;an=new ht(wn),xn=an.encryptBlock(xn)}}else an=new ht(cn.subarray(0,rn)),xn=an.encryptBlock(Ht);return xn},U2=function(Mt,Ht,sn,zt=!1){const Xt=new Uint8Array(sn.length+9),Qt=sn.length;let ln;for(ln=0;ln<Qt;++ln)Xt[ln]=sn[ln];return Xt[ln++]=Mt&255,Xt[ln++]=Mt>>8&255,Xt[ln++]=Mt>>16&255,Xt[ln++]=Ht&255,Xt[ln++]=Ht>>8&255,zt&&(Xt[ln++]=115,Xt[ln++]=65,Xt[ln++]=108,Xt[ln++]=84),vt(Xt,0,ln).subarray(0,Math.min(sn.length+5,16))},e9=function(Mt,Ht,sn,zt,Xt){if(!(Ht instanceof kt.Name))throw new wt.FormatError("Invalid crypt filter name.");const Qt=this,ln=Mt.get(Ht.name),on=ln==null?void 0:ln.get("CFM");if(!on||on.name==="None")return function(){return new $t};if(on.name==="V2")return function(){var cn;return new ht(On(cn=Qt,tn,U2).call(cn,sn,zt,Xt,!1))};if(on.name==="AESV2")return function(){var cn;return new jt(On(cn=Qt,tn,U2).call(cn,sn,zt,Xt,!0))};if(on.name==="AESV3")return function(){return new Rt(Xt)};throw new wt.FormatError("Unknown crypto method")},Nn(dn,hn,new Uint8Array([40,191,78,94,78,117,138,65,100,0,78,86,255,250,1,8,46,46,0,182,208,104,62,128,47,12,169,254,100,83,105,122]));let en=dn;Et.CipherTransformFactory=en},(Ct,Et,Pt)=>{Object.defineProperty(Et,"__esModule",{value:!0}),Et.DecryptStream=void 0;var wt=Pt(18);const kt=512;class _t extends wt.DecodeStream{constructor(vt,Ft,Vt){super(Ft),this.str=vt,this.dict=vt.dict,this.decrypt=Vt,this.nextChunk=null,this.initialized=!1}readBlock(){var Ot;let vt;if(this.initialized?vt=this.nextChunk:(vt=this.str.getBytes(kt),this.initialized=!0),!vt||vt.length===0){this.eof=!0;return}this.nextChunk=this.str.getBytes(kt);const Ft=((Ot=this.nextChunk)==null?void 0:Ot.length)>0,Vt=this.decrypt;vt=Vt(vt,!Ft);const qt=this.bufferLength,Lt=qt+vt.length;this.ensureBuffer(Lt).set(vt,qt),this.bufferLength=Lt}}Et.DecryptStream=_t},(Ct,Et,Pt)=>{Object.defineProperty(Et,"__esModule",{value:!0}),Et.ObjectLoader=void 0;var wt=Pt(4),kt=Pt(5),_t=Pt(3),ht=Pt(2);function vt(qt){return qt instanceof wt.Ref||qt instanceof wt.Dict||qt instanceof kt.BaseStream||Array.isArray(qt)}function Ft(qt,Lt){if(qt instanceof wt.Dict)qt=qt.getRawValues();else if(qt instanceof kt.BaseStream)qt=qt.dict.getRawValues();else if(!Array.isArray(qt))return;for(const $t of qt)vt($t)&&Lt.push($t)}class Vt{constructor(Lt,$t,Ot){this.dict=Lt,this.keys=$t,this.xref=Ot,this.refSet=null}async load(){if(this.xref.stream.isDataLoaded)return;const{keys:Lt,dict:$t}=this;this.refSet=new wt.RefSet;const Ot=[];for(const jt of Lt){const Rt=$t.getRaw(jt);Rt!==void 0&&Ot.push(Rt)}return this._walk(Ot)}async _walk(Lt){const $t=[],Ot=[];for(;Lt.length;){let jt=Lt.pop();if(jt instanceof wt.Ref){if(this.refSet.has(jt))continue;try{this.refSet.put(jt),jt=this.xref.fetch(jt)}catch(Rt){if(!(Rt instanceof _t.MissingDataException)){(0,ht.warn)(`ObjectLoader._walk - requesting all data: "${Rt}".`),this.refSet=null;const{manager:Kt}=this.xref.stream;return Kt.requestAllChunks()}$t.push(jt),Ot.push({begin:Rt.begin,end:Rt.end})}}if(jt instanceof kt.BaseStream){const Rt=jt.getBaseStreams();if(Rt){let Kt=!1;for(const Bt of Rt)Bt.isDataLoaded||(Kt=!0,Ot.push({begin:Bt.start,end:Bt.end}));Kt&&$t.push(jt)}}Ft(jt,Lt)}if(Ot.length){await this.xref.stream.manager.requestRanges(Ot);for(const jt of $t)jt instanceof wt.Ref&&this.refSet.remove(jt);return this._walk($t)}this.refSet=null}}Et.ObjectLoader=Vt},(Ct,Et,Pt)=>{Object.defineProperty(Et,"__esModule",{value:!0}),Et.XFAFactory=void 0;var wt=Pt(78),kt=Pt(79),_t=Pt(89),ht=Pt(85),vt=Pt(84),Ft=Pt(2),Vt=Pt(90),qt=Pt(100);class Lt{constructor(Ot){try{this.root=new Vt.XFAParser().parse(Lt._createDocument(Ot));const jt=new kt.Binder(this.root);this.form=jt.bind(),this.dataHandler=new _t.DataHandler(this.root,jt.getData()),this.form[wt.$globalData].template=this.form}catch(jt){(0,Ft.warn)(`XFA - an error occurred during parsing and binding: ${jt}`)}}isValid(){return this.root&&this.form}_createPagesHelper(){const Ot=this.form[wt.$toPages]();return new Promise((jt,Rt)=>{const Kt=()=>{try{const Bt=Ot.next();Bt.done?jt(Bt.value):setTimeout(Kt,0)}catch(Bt){Rt(Bt)}};setTimeout(Kt,0)})}async _createPages(){try{this.pages=await this._createPagesHelper(),this.dims=this.pages.children.map(Ot=>{const{width:jt,height:Rt}=Ot.attributes.style;return[0,0,parseInt(jt),parseInt(Rt)]})}catch(Ot){(0,Ft.warn)(`XFA - an error occurred during layout: ${Ot}`)}}getBoundingBox(Ot){return this.dims[Ot]}async getNumPages(){return this.pages||await this._createPages(),this.dims.length}setImages(Ot){this.form[wt.$globalData].images=Ot}setFonts(Ot){this.form[wt.$globalData].fontFinder=new ht.FontFinder(Ot);const jt=[];for(let Rt of this.form[wt.$globalData].usedTypefaces)Rt=(0,vt.stripQuotes)(Rt),this.form[wt.$globalData].fontFinder.find(Rt)||jt.push(Rt);return jt.length>0?jt:null}appendFonts(Ot,jt){this.form[wt.$globalData].fontFinder.add(Ot,jt)}async getPages(){this.pages||await this._createPages();const Ot=this.pages;return this.pages=null,Ot}serializeData(Ot){return this.dataHandler.serialize(Ot)}static _createDocument(Ot){return Ot["/xdp:xdp"]?Object.values(Ot).join(""):Ot["xdp:xdp"]}static getRichTextAsHtml(Ot){if(!Ot||typeof Ot!="string")return null;try{let jt=new Vt.XFAParser(qt.XhtmlNamespace,!0).parse(Ot);if(!["body","xhtml"].includes(jt[wt.$nodeName])){const Gt=qt.XhtmlNamespace.body({});Gt[wt.$appendChild](jt),jt=Gt}const Rt=jt[wt.$toHTML]();if(!Rt.success)return null;const{html:Kt}=Rt,{attributes:Bt}=Kt;return Bt&&(Bt.class&&(Bt.class=Bt.class.filter(Gt=>!Gt.startsWith("xfa"))),Bt.dir="auto"),{html:Kt,str:jt[wt.$text]()}}catch(jt){(0,Ft.warn)(`XFA - an error occurred during parsing of rich text: ${jt}`)}return null}}Et.XFAFactory=Lt},(Ct,Et)=>{Object.defineProperty(Et,"__esModule",{value:!0}),Et.$uid=Et.$toStyle=Et.$toString=Et.$toPages=Et.$toHTML=Et.$text=Et.$tabIndex=Et.$setValue=Et.$setSetAttributes=Et.$setId=Et.$searchNode=Et.$root=Et.$resolvePrototypes=Et.$removeChild=Et.$pushPara=Et.$pushGlyphs=Et.$popPara=Et.$onText=Et.$onChildCheck=Et.$onChild=Et.$nsAttributes=Et.$nodeName=Et.$namespaceId=Et.$lastAttribute=Et.$isUsable=Et.$isTransparent=Et.$isThereMoreWidth=Et.$isSplittable=Et.$isNsAgnostic=Et.$isDescendent=Et.$isDataValue=Et.$isCDATAXml=Et.$isBindable=Et.$insertAt=Et.$indexOf=Et.$ids=Et.$hasSettableValue=Et.$globalData=Et.$getTemplateRoot=Et.$getSubformParent=Et.$getRealChildrenByNameIt=Et.$getParent=Et.$getNextPage=Et.$getExtra=Et.$getDataValue=Et.$getContainedChildren=Et.$getChildrenByNameIt=Et.$getChildrenByName=Et.$getChildrenByClass=Et.$getChildren=Et.$getAvailableSpace=Et.$getAttributes=Et.$getAttributeIt=Et.$flushHTML=Et.$finalize=Et.$extra=Et.$dump=Et.$data=Et.$content=Et.$consumed=Et.$clone=Et.$cleanup=Et.$cleanPage=Et.$clean=Et.$childrenToHTML=Et.$appendChild=Et.$addHTML=Et.$acceptWhitespace=void 0;const Pt=Symbol();Et.$acceptWhitespace=Pt;const wt=Symbol();Et.$addHTML=wt;const kt=Symbol();Et.$appendChild=kt;const _t=Symbol();Et.$childrenToHTML=_t;const ht=Symbol();Et.$clean=ht;const vt=Symbol();Et.$cleanPage=vt;const Ft=Symbol();Et.$cleanup=Ft;const Vt=Symbol();Et.$clone=Vt;const qt=Symbol();Et.$consumed=qt;const Lt=Symbol("content");Et.$content=Lt;const $t=Symbol("data");Et.$data=$t;const Ot=Symbol();Et.$dump=Ot;const jt=Symbol("extra");Et.$extra=jt;const Rt=Symbol();Et.$finalize=Rt;const Kt=Symbol();Et.$flushHTML=Kt;const Bt=Symbol();Et.$getAttributeIt=Bt;const Gt=Symbol();Et.$getAttributes=Gt;const en=Symbol();Et.$getAvailableSpace=en;const hn=Symbol();Et.$getChildrenByClass=hn;const tn=Symbol();Et.$getChildrenByName=tn;const gn=Symbol();Et.$getChildrenByNameIt=gn;const nn=Symbol();Et.$getDataValue=nn;const bn=Symbol();Et.$getExtra=bn;const Wt=Symbol();Et.$getRealChildrenByNameIt=Wt;const Yt=Symbol();Et.$getChildren=Yt;const dn=Symbol();Et.$getContainedChildren=dn;const Ut=Symbol();Et.$getNextPage=Ut;const Mt=Symbol();Et.$getSubformParent=Mt;const Ht=Symbol();Et.$getParent=Ht;const sn=Symbol();Et.$getTemplateRoot=sn;const zt=Symbol();Et.$globalData=zt;const Xt=Symbol();Et.$hasSettableValue=Xt;const Qt=Symbol();Et.$ids=Qt;const ln=Symbol();Et.$indexOf=ln;const on=Symbol();Et.$insertAt=on;const cn=Symbol();Et.$isCDATAXml=cn;const rn=Symbol();Et.$isBindable=rn;const an=Symbol();Et.$isDataValue=an;const xn=Symbol();Et.$isDescendent=xn;const wn=Symbol();Et.$isNsAgnostic=wn;const En=Symbol();Et.$isSplittable=En;const Fn=Symbol();Et.$isThereMoreWidth=Fn;const In=Symbol();Et.$isTransparent=In;const Tn=Symbol();Et.$isUsable=Tn;const An=Symbol();Et.$lastAttribute=An;const mn=Symbol("namespaceId");Et.$namespaceId=mn;const pn=Symbol("nodeName");Et.$nodeName=pn;const Jt=Symbol();Et.$nsAttributes=Jt;const un=Symbol();Et.$onChild=un;const fn=Symbol();Et.$onChildCheck=fn;const Sn=Symbol();Et.$onText=Sn;const kn=Symbol();Et.$pushGlyphs=kn;const Pn=Symbol();Et.$popPara=Pn;const Cn=Symbol();Et.$pushPara=Cn;const vn=Symbol();Et.$removeChild=vn;const Rn=Symbol("root");Et.$root=Rn;const Mn=Symbol();Et.$resolvePrototypes=Mn;const _n=Symbol();Et.$searchNode=_n;const Dn=Symbol();Et.$setId=Dn;const Ln=Symbol();Et.$setSetAttributes=Ln;const Un=Symbol();Et.$setValue=Un;const ts=Symbol();Et.$tabIndex=ts;const es=Symbol();Et.$text=es;const Qn=Symbol();Et.$toPages=Qn;const Yn=Symbol();Et.$toHTML=Yn;const zn=Symbol();Et.$toString=zn;const ns=Symbol();Et.$toStyle=ns;const ls=Symbol("uid");Et.$uid=ls},(Ct,Et,Pt)=>{Object.defineProperty(Et,"__esModule",{value:!0}),Et.Binder=void 0;var wt=Pt(78),kt=Pt(80),_t=Pt(88),ht=Pt(87),vt=Pt(81),Ft=Pt(2);const Vt=vt.NamespaceIds.datasets.id;function qt($t){const Ot=new kt.Text({});return Ot[wt.$content]=$t,Ot}class Lt{constructor(Ot){var jt;this.root=Ot,this.datasets=Ot.datasets,this.data=((jt=Ot.datasets)==null?void 0:jt.data)||new ht.XmlObject(vt.NamespaceIds.datasets.id,"data"),this.emptyMerge=this.data[wt.$getChildren]().length===0,this.root.form=this.form=Ot.template[wt.$clone]()}_isConsumeData(){return!this.emptyMerge&&this._mergeMode}_isMatchTemplate(){return!this._isConsumeData()}bind(){return this._bindElement(this.form,this.data),this.form}getData(){return this.data}_bindValue(Ot,jt,Rt){var Kt,Bt;if(Ot[wt.$data]=jt,Ot[wt.$hasSettableValue]())if(jt[wt.$isDataValue]()){const Gt=jt[wt.$getDataValue]();Ot[wt.$setValue](qt(Gt))}else if(Ot instanceof kt.Field&&((Bt=(Kt=Ot.ui)==null?void 0:Kt.choiceList)==null?void 0:Bt.open)==="multiSelect"){const Gt=jt[wt.$getChildren]().map(en=>en[wt.$content].trim()).join(`
`);Ot[wt.$setValue](qt(Gt))}else this._isConsumeData()&&(0,Ft.warn)("XFA - Nodes haven't the same type.");else!jt[wt.$isDataValue]()||this._isMatchTemplate()?this._bindElement(Ot,jt):(0,Ft.warn)("XFA - Nodes haven't the same type.")}_findDataByNameToConsume(Ot,jt,Rt,Kt){if(!Ot)return null;let Bt,Gt;for(let en=0;en<3;en++){for(Bt=Rt[wt.$getRealChildrenByNameIt](Ot,!1,!0);Gt=Bt.next().value,!!Gt;)if(jt===Gt[wt.$isDataValue]())return Gt;if(Rt[wt.$namespaceId]===vt.NamespaceIds.datasets.id&&Rt[wt.$nodeName]==="data")break;Rt=Rt[wt.$getParent]()}return Kt?(Bt=this.data[wt.$getRealChildrenByNameIt](Ot,!0,!1),Gt=Bt.next().value,Gt||(Bt=this.data[wt.$getAttributeIt](Ot,!0),Gt=Bt.next().value,Gt!=null&&Gt[wt.$isDataValue]())?Gt:null):null}_setProperties(Ot,jt){if(Ot.hasOwnProperty("setProperty"))for(const{ref:Rt,target:Kt,connection:Bt}of Ot.setProperty.children){if(Bt||!Rt)continue;const Gt=(0,_t.searchNode)(this.root,jt,Rt,!1,!1);if(!Gt){(0,Ft.warn)(`XFA - Invalid reference: ${Rt}.`);continue}const[en]=Gt;if(!en[wt.$isDescendent](this.data)){(0,Ft.warn)("XFA - Invalid node: must be a data node.");continue}const hn=(0,_t.searchNode)(this.root,Ot,Kt,!1,!1);if(!hn){(0,Ft.warn)(`XFA - Invalid target: ${Kt}.`);continue}const[tn]=hn;if(!tn[wt.$isDescendent](Ot)){(0,Ft.warn)("XFA - Invalid target: must be a property or subproperty.");continue}const gn=tn[wt.$getParent]();if(tn instanceof kt.SetProperty||gn instanceof kt.SetProperty){(0,Ft.warn)("XFA - Invalid target: cannot be a setProperty or one of its properties.");continue}if(tn instanceof kt.BindItems||gn instanceof kt.BindItems){(0,Ft.warn)("XFA - Invalid target: cannot be a bindItems or one of its properties.");continue}const nn=en[wt.$text](),bn=tn[wt.$nodeName];if(tn instanceof ht.XFAAttribute){const Wt=Object.create(null);Wt[bn]=nn;const Yt=Reflect.construct(Object.getPrototypeOf(gn).constructor,[Wt]);gn[bn]=Yt[bn];continue}if(!tn.hasOwnProperty(wt.$content)){(0,Ft.warn)("XFA - Invalid node to use in setProperty");continue}tn[wt.$data]=en,tn[wt.$content]=nn,tn[wt.$finalize]()}}_bindItems(Ot,jt){if(!Ot.hasOwnProperty("items")||!Ot.hasOwnProperty("bindItems")||Ot.bindItems.isEmpty())return;for(const Bt of Ot.items.children)Ot[wt.$removeChild](Bt);Ot.items.clear();const Rt=new kt.Items({}),Kt=new kt.Items({});Ot[wt.$appendChild](Rt),Ot.items.push(Rt),Ot[wt.$appendChild](Kt),Ot.items.push(Kt);for(const{ref:Bt,labelRef:Gt,valueRef:en,connection:hn}of Ot.bindItems.children){if(hn||!Bt)continue;const tn=(0,_t.searchNode)(this.root,jt,Bt,!1,!1);if(!tn){(0,Ft.warn)(`XFA - Invalid reference: ${Bt}.`);continue}for(const gn of tn){if(!gn[wt.$isDescendent](this.datasets)){(0,Ft.warn)(`XFA - Invalid ref (${Bt}): must be a datasets child.`);continue}const nn=(0,_t.searchNode)(this.root,gn,Gt,!0,!1);if(!nn){(0,Ft.warn)(`XFA - Invalid label: ${Gt}.`);continue}const[bn]=nn;if(!bn[wt.$isDescendent](this.datasets)){(0,Ft.warn)("XFA - Invalid label: must be a datasets child.");continue}const Wt=(0,_t.searchNode)(this.root,gn,en,!0,!1);if(!Wt){(0,Ft.warn)(`XFA - Invalid value: ${en}.`);continue}const[Yt]=Wt;if(!Yt[wt.$isDescendent](this.datasets)){(0,Ft.warn)("XFA - Invalid value: must be a datasets child.");continue}const dn=qt(bn[wt.$text]()),Ut=qt(Yt[wt.$text]());Rt[wt.$appendChild](dn),Rt.text.push(dn),Kt[wt.$appendChild](Ut),Kt.text.push(Ut)}}}_bindOccurrences(Ot,jt,Rt){let Kt;if(jt.length>1&&(Kt=Ot[wt.$clone](),Kt[wt.$removeChild](Kt.occur),Kt.occur=null),this._bindValue(Ot,jt[0],Rt),this._setProperties(Ot,jt[0]),this._bindItems(Ot,jt[0]),jt.length===1)return;const Bt=Ot[wt.$getParent](),Gt=Ot[wt.$nodeName],en=Bt[wt.$indexOf](Ot);for(let hn=1,tn=jt.length;hn<tn;hn++){const gn=jt[hn],nn=Kt[wt.$clone]();Bt[Gt].push(nn),Bt[wt.$insertAt](en+hn,nn),this._bindValue(nn,gn,Rt),this._setProperties(nn,gn),this._bindItems(nn,gn)}}_createOccurrences(Ot){if(!this.emptyMerge)return;const{occur:jt}=Ot;if(!jt||jt.initial<=1)return;const Rt=Ot[wt.$getParent](),Kt=Ot[wt.$nodeName];if(!(Rt[Kt]instanceof ht.XFAObjectArray))return;let Bt;Ot.name?Bt=Rt[Kt].children.filter(hn=>hn.name===Ot.name).length:Bt=Rt[Kt].children.length;const Gt=Rt[wt.$indexOf](Ot)+1,en=jt.initial-Bt;if(en){const hn=Ot[wt.$clone]();hn[wt.$removeChild](hn.occur),hn.occur=null,Rt[Kt].push(hn),Rt[wt.$insertAt](Gt,hn);for(let tn=1;tn<en;tn++){const gn=hn[wt.$clone]();Rt[Kt].push(gn),Rt[wt.$insertAt](Gt+tn,gn)}}}_getOccurInfo(Ot){const{name:jt,occur:Rt}=Ot;if(!Rt||!jt)return[1,1];const Kt=Rt.max===-1?1/0:Rt.max;return[Rt.min,Kt]}_setAndBind(Ot,jt){this._setProperties(Ot,jt),this._bindItems(Ot,jt),this._bindElement(Ot,jt)}_bindElement(Ot,jt){const Rt=[];this._createOccurrences(Ot);for(const Kt of Ot[wt.$getChildren]()){if(Kt[wt.$data])continue;if(this._mergeMode===void 0&&Kt[wt.$nodeName]==="subform"){this._mergeMode=Kt.mergeMode==="consumeData";const nn=jt[wt.$getChildren]();if(nn.length>0)this._bindOccurrences(Kt,[nn[0]],null);else if(this.emptyMerge){const bn=jt[wt.$namespaceId]===Vt?-1:jt[wt.$namespaceId],Wt=Kt[wt.$data]=new ht.XmlObject(bn,Kt.name||"root");jt[wt.$appendChild](Wt),this._bindElement(Kt,Wt)}continue}if(!Kt[wt.$isBindable]())continue;let Bt=!1,Gt=null,en=null,hn=null;if(Kt.bind){switch(Kt.bind.match){case"none":this._setAndBind(Kt,jt);continue;case"global":Bt=!0;break;case"dataRef":if(!Kt.bind.ref){(0,Ft.warn)(`XFA - ref is empty in node ${Kt[wt.$nodeName]}.`),this._setAndBind(Kt,jt);continue}en=Kt.bind.ref;break}Kt.bind.picture&&(Gt=Kt.bind.picture[wt.$content])}const[tn,gn]=this._getOccurInfo(Kt);if(en)if(hn=(0,_t.searchNode)(this.root,jt,en,!0,!1),hn===null){if(hn=(0,_t.createDataNode)(this.data,jt,en),!hn)continue;this._isConsumeData()&&(hn[wt.$consumed]=!0),this._setAndBind(Kt,hn);continue}else this._isConsumeData()&&(hn=hn.filter(nn=>!nn[wt.$consumed])),hn.length>gn?hn=hn.slice(0,gn):hn.length===0&&(hn=null),hn&&this._isConsumeData()&&hn.forEach(nn=>{nn[wt.$consumed]=!0});else{if(!Kt.name){this._setAndBind(Kt,jt);continue}if(this._isConsumeData()){const nn=[];for(;nn.length<gn;){const bn=this._findDataByNameToConsume(Kt.name,Kt[wt.$hasSettableValue](),jt,Bt);if(!bn)break;bn[wt.$consumed]=!0,nn.push(bn)}hn=nn.length>0?nn:null}else{if(hn=jt[wt.$getRealChildrenByNameIt](Kt.name,!1,this.emptyMerge).next().value,!hn){if(tn===0){Rt.push(Kt);continue}const nn=jt[wt.$namespaceId]===Vt?-1:jt[wt.$namespaceId];hn=Kt[wt.$data]=new ht.XmlObject(nn,Kt.name),this.emptyMerge&&(hn[wt.$consumed]=!0),jt[wt.$appendChild](hn),this._setAndBind(Kt,hn);continue}this.emptyMerge&&(hn[wt.$consumed]=!0),hn=[hn]}}hn?this._bindOccurrences(Kt,hn,Gt):tn>0?this._setAndBind(Kt,jt):Rt.push(Kt)}Rt.forEach(Kt=>Kt[wt.$getParent]()[wt.$removeChild](Kt))}}Et.Binder=Lt},(Ct,Et,Pt)=>{Object.defineProperty(Et,"__esModule",{value:!0}),Et.Value=Et.Text=Et.TemplateNamespace=Et.Template=Et.SetProperty=Et.Items=Et.Field=Et.BindItems=void 0;var wt=Pt(78),kt=Pt(81),_t=Pt(82),ht=Pt(83),vt=Pt(87),Ft=Pt(84),Vt=Pt(2),qt=Pt(85),Lt=Pt(3),$t=Pt(88);const Ot=kt.NamespaceIds.template.id,jt="http://www.w3.org/2000/svg",Rt=2,Kt=3,Bt=5e3,Gt=/^H(\d+)$/,en=new Set(["image/gif","image/jpeg","image/jpg","image/pjpeg","image/png","image/apng","image/x-png","image/bmp","image/x-ms-bmp","image/tiff","image/tif","application/octet-stream"]),hn=[[[66,77],"image/bmp"],[[255,216,255],"image/jpeg"],[[73,73,42,0],"image/tiff"],[[77,77,0,42],"image/tiff"],[[71,73,70,56,57,97],"image/gif"],[[137,80,78,71,13,10,26,10],"image/png"]];function tn(Vn){if(!Vn||!Vn.border)return{w:0,h:0};const Nt=Vn.border[wt.$getExtra]();return Nt?{w:Nt.widths[0]+Nt.widths[2]+Nt.insets[0]+Nt.insets[2],h:Nt.widths[1]+Nt.widths[3]+Nt.insets[1]+Nt.insets[3]}:{w:0,h:0}}function gn(Vn){return Vn.margin&&(Vn.margin.topInset||Vn.margin.rightInset||Vn.margin.bottomInset||Vn.margin.leftInset)}function nn(Vn,Nt){if(!Vn.value){const yn=new jn({});Vn[wt.$appendChild](yn),Vn.value=yn}Vn.value[wt.$setValue](Nt)}function*bn(Vn){for(const Nt of Vn[wt.$getChildren]()){if(Nt instanceof w0){yield*Nt[wt.$getContainedChildren]();continue}yield Nt}}function Wt(Vn){var Nt;return((Nt=Vn.validate)==null?void 0:Nt.nullTest)==="error"}function Yt(Vn){for(;Vn;){if(!Vn.traversal){Vn[wt.$tabIndex]=Vn[wt.$getParent]()[wt.$tabIndex];return}if(Vn[wt.$tabIndex])return;let Nt=null;for(const _i of Vn.traversal[wt.$getChildren]())if(_i.operation==="next"){Nt=_i;break}if(!Nt||!Nt.ref){Vn[wt.$tabIndex]=Vn[wt.$getParent]()[wt.$tabIndex];return}const yn=Vn[wt.$getTemplateRoot]();Vn[wt.$tabIndex]=++yn[wt.$tabIndex];const qn=yn[wt.$searchNode](Nt.ref,Vn);if(!qn)return;Vn=qn[0]}}function dn(Vn,Nt){var qn;const yn=Vn.assist;if(yn){const _i=yn[wt.$toHTML]();_i&&(Nt.title=_i);const is=yn.role.match(Gt);if(is){const as="heading",gs=is[1];Nt.role=as,Nt["aria-level"]=gs}}if(Vn.layout==="table")Nt.role="table";else if(Vn.layout==="row")Nt.role="row";else{const _i=Vn[wt.$getParent]();_i.layout==="row"&&(Nt.role=((qn=_i.assist)==null?void 0:qn.role)==="TH"?"columnheader":"cell")}}function Ut(Vn){if(!Vn.assist)return null;const Nt=Vn.assist;return Nt.speak&&Nt.speak[wt.$content]!==""?Nt.speak[wt.$content]:Nt.toolTip?Nt.toolTip[wt.$content]:null}function Mt(Vn){return Ft.HTMLResult.success({name:"div",attributes:{class:["xfaRich"],style:Object.create(null)},children:[{name:"span",attributes:{style:Object.create(null)},value:Vn}]})}function Ht(Vn){const Nt=Vn[wt.$getTemplateRoot]();Nt[wt.$extra].firstUnsplittable===null&&(Nt[wt.$extra].firstUnsplittable=Vn,Nt[wt.$extra].noLayoutFailure=!0)}function sn(Vn){const Nt=Vn[wt.$getTemplateRoot]();Nt[wt.$extra].firstUnsplittable===Vn&&(Nt[wt.$extra].noLayoutFailure=!1)}function zt(Vn){if(Vn[wt.$extra]||(Vn[wt.$extra]=Object.create(null),Vn.targetType==="auto"))return!1;const Nt=Vn[wt.$getTemplateRoot]();let yn=null;if(Vn.target){if(yn=Nt[wt.$searchNode](Vn.target,Vn[wt.$getParent]()),!yn)return!1;yn=yn[0]}const{currentPageArea:qn,currentContentArea:_i}=Nt[wt.$extra];if(Vn.targetType==="pageArea")return yn instanceof Js||(yn=null),Vn.startNew?(Vn[wt.$extra].target=yn||qn,!0):yn&&yn!==qn?(Vn[wt.$extra].target=yn,!0):!1;yn instanceof Rn||(yn=null);const Kn=yn&&yn[wt.$getParent]();let is,as=Kn;if(Vn.startNew)if(yn){const gs=Kn.contentArea.children,ms=gs.indexOf(_i),bs=gs.indexOf(yn);ms!==-1&&ms<bs&&(as=null),is=bs-1}else is=qn.contentArea.children.indexOf(_i);else if(yn&&yn!==_i)is=Kn.contentArea.children.indexOf(yn)-1,as=Kn===qn?null:Kn;else return!1;return Vn[wt.$extra].target=as,Vn[wt.$extra].index=is,!0}function Xt(Vn,Nt,yn){const qn=Vn[wt.$getTemplateRoot](),_i=qn[wt.$extra].noLayoutFailure,Kn=Nt[wt.$getSubformParent];Nt[wt.$getSubformParent]=()=>Vn,qn[wt.$extra].noLayoutFailure=!0;const is=Nt[wt.$toHTML](yn);Vn[wt.$addHTML](is.html,is.bbox),qn[wt.$extra].noLayoutFailure=_i,Nt[wt.$getSubformParent]=Kn}class Qt extends vt.StringObject{constructor(Nt){super(Ot,"appearanceFilter"),this.id=Nt.id||"",this.type=(0,Ft.getStringOption)(Nt.type,["optional","required"]),this.use=Nt.use||"",this.usehref=Nt.usehref||""}}class ln extends vt.XFAObject{constructor(Nt){super(Ot,"arc",!0),this.circular=(0,Ft.getInteger)({data:Nt.circular,defaultValue:0,validate:yn=>yn===1}),this.hand=(0,Ft.getStringOption)(Nt.hand,["even","left","right"]),this.id=Nt.id||"",this.startAngle=(0,Ft.getFloat)({data:Nt.startAngle,defaultValue:0,validate:yn=>!0}),this.sweepAngle=(0,Ft.getFloat)({data:Nt.sweepAngle,defaultValue:360,validate:yn=>!0}),this.use=Nt.use||"",this.usehref=Nt.usehref||"",this.edge=null,this.fill=null}[wt.$toHTML](){var gs;const Nt=this.edge||new ns({}),yn=Nt[wt.$toStyle](),qn=Object.create(null);((gs=this.fill)==null?void 0:gs.presence)==="visible"?Object.assign(qn,this.fill[wt.$toStyle]()):qn.fill="transparent",qn.strokeWidth=(0,ht.measureToString)(Nt.presence==="visible"?Nt.thickness:0),qn.stroke=yn.color;let _i;const Kn={xmlns:jt,style:{width:"100%",height:"100%",overflow:"visible"}};if(this.sweepAngle===360)_i={name:"ellipse",attributes:{xmlns:jt,cx:"50%",cy:"50%",rx:"50%",ry:"50%",style:qn}};else{const ms=this.startAngle*Math.PI/180,bs=this.sweepAngle*Math.PI/180,Ms=this.sweepAngle>180?1:0,[Cs,ks,tr,Is]=[50*(1+Math.cos(ms)),50*(1-Math.sin(ms)),50*(1+Math.cos(ms+bs)),50*(1-Math.sin(ms+bs))];_i={name:"path",attributes:{xmlns:jt,d:`M ${Cs} ${ks} A 50 50 0 ${Ms} 0 ${tr} ${Is}`,vectorEffect:"non-scaling-stroke",style:qn}},Object.assign(Kn,{viewBox:"0 0 100 100",preserveAspectRatio:"none"})}const is={name:"svg",children:[_i],attributes:Kn},as=this[wt.$getParent]()[wt.$getParent]();return gn(as)?Ft.HTMLResult.success({name:"div",attributes:{style:{display:"inline",width:"100%",height:"100%"}},children:[is]}):(is.attributes.style.position="absolute",Ft.HTMLResult.success(is))}}class on extends vt.XFAObject{constructor(Nt){super(Ot,"area",!0),this.colSpan=(0,Ft.getInteger)({data:Nt.colSpan,defaultValue:1,validate:yn=>yn>=1||yn===-1}),this.id=Nt.id||"",this.name=Nt.name||"",this.relevant=(0,Ft.getRelevant)(Nt.relevant),this.use=Nt.use||"",this.usehref=Nt.usehref||"",this.x=(0,Ft.getMeasurement)(Nt.x,"0pt"),this.y=(0,Ft.getMeasurement)(Nt.y,"0pt"),this.desc=null,this.extras=null,this.area=new vt.XFAObjectArray,this.draw=new vt.XFAObjectArray,this.exObject=new vt.XFAObjectArray,this.exclGroup=new vt.XFAObjectArray,this.field=new vt.XFAObjectArray,this.subform=new vt.XFAObjectArray,this.subformSet=new vt.XFAObjectArray}*[wt.$getContainedChildren](){yield*bn(this)}[wt.$isTransparent](){return!0}[wt.$isBindable](){return!0}[wt.$addHTML](Nt,yn){const[qn,_i,Kn,is]=yn;this[wt.$extra].width=Math.max(this[wt.$extra].width,qn+Kn),this[wt.$extra].height=Math.max(this[wt.$extra].height,_i+is),this[wt.$extra].children.push(Nt)}[wt.$getAvailableSpace](){return this[wt.$extra].availableSpace}[wt.$toHTML](Nt){const yn=(0,ht.toStyle)(this,"position"),qn={style:yn,id:this[wt.$uid],class:["xfaArea"]};(0,ht.isPrintOnly)(this)&&qn.class.push("xfaPrintOnly"),this.name&&(qn.xfaName=this.name);const _i=[];this[wt.$extra]={children:_i,width:0,height:0,availableSpace:Nt};const Kn=this[wt.$childrenToHTML]({filter:new Set(["area","draw","field","exclGroup","subform","subformSet"]),include:!0});if(!Kn.success)return Kn.isBreak()?Kn:(delete this[wt.$extra],Ft.HTMLResult.FAILURE);yn.width=(0,ht.measureToString)(this[wt.$extra].width),yn.height=(0,ht.measureToString)(this[wt.$extra].height);const is={name:"div",attributes:qn,children:_i},as=[this.x,this.y,this[wt.$extra].width,this[wt.$extra].height];return delete this[wt.$extra],Ft.HTMLResult.success(is,as)}}class cn extends vt.XFAObject{constructor(Nt){super(Ot,"assist",!0),this.id=Nt.id||"",this.role=Nt.role||"",this.use=Nt.use||"",this.usehref=Nt.usehref||"",this.speak=null,this.toolTip=null}[wt.$toHTML](){var Nt;return((Nt=this.toolTip)==null?void 0:Nt[wt.$content])||null}}class rn extends vt.XFAObject{constructor(Nt){super(Ot,"barcode",!0),this.charEncoding=(0,Ft.getKeyword)({data:Nt.charEncoding?Nt.charEncoding.toLowerCase():"",defaultValue:"",validate:yn=>["utf-8","big-five","fontspecific","gbk","gb-18030","gb-2312","ksc-5601","none","shift-jis","ucs-2","utf-16"].includes(yn)||yn.match(/iso-8859-\d{2}/)}),this.checksum=(0,Ft.getStringOption)(Nt.checksum,["none","1mod10","1mod10_1mod11","2mod10","auto"]),this.dataColumnCount=(0,Ft.getInteger)({data:Nt.dataColumnCount,defaultValue:-1,validate:yn=>yn>=0}),this.dataLength=(0,Ft.getInteger)({data:Nt.dataLength,defaultValue:-1,validate:yn=>yn>=0}),this.dataPrep=(0,Ft.getStringOption)(Nt.dataPrep,["none","flateCompress"]),this.dataRowCount=(0,Ft.getInteger)({data:Nt.dataRowCount,defaultValue:-1,validate:yn=>yn>=0}),this.endChar=Nt.endChar||"",this.errorCorrectionLevel=(0,Ft.getInteger)({data:Nt.errorCorrectionLevel,defaultValue:-1,validate:yn=>yn>=0&&yn<=8}),this.id=Nt.id||"",this.moduleHeight=(0,Ft.getMeasurement)(Nt.moduleHeight,"5mm"),this.moduleWidth=(0,Ft.getMeasurement)(Nt.moduleWidth,"0.25mm"),this.printCheckDigit=(0,Ft.getInteger)({data:Nt.printCheckDigit,defaultValue:0,validate:yn=>yn===1}),this.rowColumnRatio=(0,Ft.getRatio)(Nt.rowColumnRatio),this.startChar=Nt.startChar||"",this.textLocation=(0,Ft.getStringOption)(Nt.textLocation,["below","above","aboveEmbedded","belowEmbedded","none"]),this.truncate=(0,Ft.getInteger)({data:Nt.truncate,defaultValue:0,validate:yn=>yn===1}),this.type=(0,Ft.getStringOption)(Nt.type?Nt.type.toLowerCase():"",["aztec","codabar","code2of5industrial","code2of5interleaved","code2of5matrix","code2of5standard","code3of9","code3of9extended","code11","code49","code93","code128","code128a","code128b","code128c","code128sscc","datamatrix","ean8","ean8add2","ean8add5","ean13","ean13add2","ean13add5","ean13pwcd","fim","logmars","maxicode","msi","pdf417","pdf417macro","plessey","postauscust2","postauscust3","postausreplypaid","postausstandard","postukrm4scc","postusdpbc","postusimb","postusstandard","postus5zip","qrcode","rfid","rss14","rss14expanded","rss14limited","rss14stacked","rss14stackedomni","rss14truncated","telepen","ucc128","ucc128random","ucc128sscc","upca","upcaadd2","upcaadd5","upcapwcd","upce","upceadd2","upceadd5","upcean2","upcean5","upsmaxicode"]),this.upsMode=(0,Ft.getStringOption)(Nt.upsMode,["usCarrier","internationalCarrier","secureSymbol","standardSymbol"]),this.use=Nt.use||"",this.usehref=Nt.usehref||"",this.wideNarrowRatio=(0,Ft.getRatio)(Nt.wideNarrowRatio),this.encrypt=null,this.extras=null}}class an extends vt.XFAObject{constructor(Nt){super(Ot,"bind",!0),this.match=(0,Ft.getStringOption)(Nt.match,["once","dataRef","global","none"]),this.ref=Nt.ref||"",this.picture=null}}class xn extends vt.XFAObject{constructor(Nt){super(Ot,"bindItems"),this.connection=Nt.connection||"",this.labelRef=Nt.labelRef||"",this.ref=Nt.ref||"",this.valueRef=Nt.valueRef||""}}Et.BindItems=xn;class wn extends vt.XFAObject{constructor(Nt){super(Ot,"bookend"),this.id=Nt.id||"",this.leader=Nt.leader||"",this.trailer=Nt.trailer||"",this.use=Nt.use||"",this.usehref=Nt.usehref||""}}class En extends vt.Option01{constructor(Nt){super(Ot,"boolean"),this.id=Nt.id||"",this.name=Nt.name||"",this.use=Nt.use||"",this.usehref=Nt.usehref||""}[wt.$toHTML](Nt){return Mt(this[wt.$content]===1?"1":"0")}}class Fn extends vt.XFAObject{constructor(Nt){super(Ot,"border",!0),this.break=(0,Ft.getStringOption)(Nt.break,["close","open"]),this.hand=(0,Ft.getStringOption)(Nt.hand,["even","left","right"]),this.id=Nt.id||"",this.presence=(0,Ft.getStringOption)(Nt.presence,["visible","hidden","inactive","invisible"]),this.relevant=(0,Ft.getRelevant)(Nt.relevant),this.use=Nt.use||"",this.usehref=Nt.usehref||"",this.corner=new vt.XFAObjectArray(4),this.edge=new vt.XFAObjectArray(4),this.extras=null,this.fill=null,this.margin=null}[wt.$getExtra](){if(!this[wt.$extra]){const Nt=this.edge.children.slice();if(Nt.length<4){const _i=Nt.at(-1)||new ns({});for(let Kn=Nt.length;Kn<4;Kn++)Nt.push(_i)}const yn=Nt.map(_i=>_i.thickness),qn=[0,0,0,0];this.margin&&(qn[0]=this.margin.topInset,qn[1]=this.margin.rightInset,qn[2]=this.margin.bottomInset,qn[3]=this.margin.leftInset),this[wt.$extra]={widths:yn,insets:qn,edges:Nt}}return this[wt.$extra]}[wt.$toStyle](){var _i;const{edges:Nt}=this[wt.$getExtra](),yn=Nt.map(Kn=>{const is=Kn[wt.$toStyle]();return is.color||(is.color="#000000"),is}),qn=Object.create(null);if(this.margin&&Object.assign(qn,this.margin[wt.$toStyle]()),((_i=this.fill)==null?void 0:_i.presence)==="visible"&&Object.assign(qn,this.fill[wt.$toStyle]()),this.corner.children.some(Kn=>Kn.radius!==0)){const Kn=this.corner.children.map(is=>is[wt.$toStyle]());if(Kn.length===2||Kn.length===3){const is=Kn.at(-1);for(let as=Kn.length;as<4;as++)Kn.push(is)}qn.borderRadius=Kn.map(is=>is.radius).join(" ")}switch(this.presence){case"invisible":case"hidden":qn.borderStyle="";break;case"inactive":qn.borderStyle="none";break;default:qn.borderStyle=yn.map(Kn=>Kn.style).join(" ");break}return qn.borderWidth=yn.map(Kn=>Kn.width).join(" "),qn.borderColor=yn.map(Kn=>Kn.color).join(" "),qn}}class In extends vt.XFAObject{constructor(Nt){super(Ot,"break",!0),this.after=(0,Ft.getStringOption)(Nt.after,["auto","contentArea","pageArea","pageEven","pageOdd"]),this.afterTarget=Nt.afterTarget||"",this.before=(0,Ft.getStringOption)(Nt.before,["auto","contentArea","pageArea","pageEven","pageOdd"]),this.beforeTarget=Nt.beforeTarget||"",this.bookendLeader=Nt.bookendLeader||"",this.bookendTrailer=Nt.bookendTrailer||"",this.id=Nt.id||"",this.overflowLeader=Nt.overflowLeader||"",this.overflowTarget=Nt.overflowTarget||"",this.overflowTrailer=Nt.overflowTrailer||"",this.startNew=(0,Ft.getInteger)({data:Nt.startNew,defaultValue:0,validate:yn=>yn===1}),this.use=Nt.use||"",this.usehref=Nt.usehref||"",this.extras=null}}class Tn extends vt.XFAObject{constructor(Nt){super(Ot,"breakAfter",!0),this.id=Nt.id||"",this.leader=Nt.leader||"",this.startNew=(0,Ft.getInteger)({data:Nt.startNew,defaultValue:0,validate:yn=>yn===1}),this.target=Nt.target||"",this.targetType=(0,Ft.getStringOption)(Nt.targetType,["auto","contentArea","pageArea"]),this.trailer=Nt.trailer||"",this.use=Nt.use||"",this.usehref=Nt.usehref||"",this.script=null}}class An extends vt.XFAObject{constructor(Nt){super(Ot,"breakBefore",!0),this.id=Nt.id||"",this.leader=Nt.leader||"",this.startNew=(0,Ft.getInteger)({data:Nt.startNew,defaultValue:0,validate:yn=>yn===1}),this.target=Nt.target||"",this.targetType=(0,Ft.getStringOption)(Nt.targetType,["auto","contentArea","pageArea"]),this.trailer=Nt.trailer||"",this.use=Nt.use||"",this.usehref=Nt.usehref||"",this.script=null}[wt.$toHTML](Nt){return this[wt.$extra]={},Ft.HTMLResult.FAILURE}}class mn extends vt.XFAObject{constructor(Nt){super(Ot,"button",!0),this.highlight=(0,Ft.getStringOption)(Nt.highlight,["inverted","none","outline","push"]),this.id=Nt.id||"",this.use=Nt.use||"",this.usehref=Nt.usehref||"",this.extras=null}[wt.$toHTML](Nt){const qn=this[wt.$getParent]()[wt.$getParent](),_i={name:"button",attributes:{id:this[wt.$uid],class:["xfaButton"],style:{}},children:[]};for(const Kn of qn.event.children){if(Kn.activity!=="click"||!Kn.script)continue;const is=(0,Lt.recoverJsURL)(Kn.script[wt.$content]);if(!is)continue;const as=(0,ht.fixURL)(is.url);as&&_i.children.push({name:"a",attributes:{id:"link"+this[wt.$uid],href:as,newWindow:is.newWindow,class:["xfaLink"],style:{}},children:[]})}return Ft.HTMLResult.success(_i)}}class pn extends vt.XFAObject{constructor(Nt){super(Ot,"calculate",!0),this.id=Nt.id||"",this.override=(0,Ft.getStringOption)(Nt.override,["disabled","error","ignore","warning"]),this.use=Nt.use||"",this.usehref=Nt.usehref||"",this.extras=null,this.message=null,this.script=null}}class Jt extends vt.XFAObject{constructor(Nt){super(Ot,"caption",!0),this.id=Nt.id||"",this.placement=(0,Ft.getStringOption)(Nt.placement,["left","bottom","inline","right","top"]),this.presence=(0,Ft.getStringOption)(Nt.presence,["visible","hidden","inactive","invisible"]),this.reserve=Math.ceil((0,Ft.getMeasurement)(Nt.reserve)),this.use=Nt.use||"",this.usehref=Nt.usehref||"",this.extras=null,this.font=null,this.margin=null,this.para=null,this.value=null}[wt.$setValue](Nt){nn(this,Nt)}[wt.$getExtra](Nt){if(!this[wt.$extra]){let{width:yn,height:qn}=Nt;switch(this.placement){case"left":case"right":case"inline":yn=this.reserve<=0?yn:this.reserve;break;case"top":case"bottom":qn=this.reserve<=0?qn:this.reserve;break}this[wt.$extra]=(0,ht.layoutNode)(this,{width:yn,height:qn})}return this[wt.$extra]}[wt.$toHTML](Nt){if(!this.value)return Ft.HTMLResult.EMPTY;this[wt.$pushPara]();const yn=this.value[wt.$toHTML](Nt).html;if(!yn)return this[wt.$popPara](),Ft.HTMLResult.EMPTY;const qn=this.reserve;if(this.reserve<=0){const{w:is,h:as}=this[wt.$getExtra](Nt);switch(this.placement){case"left":case"right":case"inline":this.reserve=is;break;case"top":case"bottom":this.reserve=as;break}}const _i=[];typeof yn=="string"?_i.push({name:"#text",value:yn}):_i.push(yn);const Kn=(0,ht.toStyle)(this,"font","margin","visibility");switch(this.placement){case"left":case"right":this.reserve>0&&(Kn.width=(0,ht.measureToString)(this.reserve));break;case"top":case"bottom":this.reserve>0&&(Kn.height=(0,ht.measureToString)(this.reserve));break}return(0,ht.setPara)(this,null,yn),this[wt.$popPara](),this.reserve=qn,Ft.HTMLResult.success({name:"div",attributes:{style:Kn,class:["xfaCaption"]},children:_i})}}class un extends vt.StringObject{constructor(Nt){super(Ot,"certificate"),this.id=Nt.id||"",this.name=Nt.name||"",this.use=Nt.use||"",this.usehref=Nt.usehref||""}}class fn extends vt.XFAObject{constructor(Nt){super(Ot,"certificates",!0),this.credentialServerPolicy=(0,Ft.getStringOption)(Nt.credentialServerPolicy,["optional","required"]),this.id=Nt.id||"",this.url=Nt.url||"",this.urlPolicy=Nt.urlPolicy||"",this.use=Nt.use||"",this.usehref=Nt.usehref||"",this.encryption=null,this.issuers=null,this.keyUsage=null,this.oids=null,this.signing=null,this.subjectDNs=null}}class Sn extends vt.XFAObject{constructor(Nt){super(Ot,"checkButton",!0),this.id=Nt.id||"",this.mark=(0,Ft.getStringOption)(Nt.mark,["default","check","circle","cross","diamond","square","star"]),this.shape=(0,Ft.getStringOption)(Nt.shape,["square","round"]),this.size=(0,Ft.getMeasurement)(Nt.size,"10pt"),this.use=Nt.use||"",this.usehref=Nt.usehref||"",this.border=null,this.extras=null,this.margin=null}[wt.$toHTML](Nt){var Gs,zs,Hs;const yn=(0,ht.toStyle)("margin"),qn=(0,ht.measureToString)(this.size);yn.width=yn.height=qn;let _i,Kn,is;const as=this[wt.$getParent]()[wt.$getParent](),gs=as.items.children.length&&as.items.children[0][wt.$toHTML]().html||[],ms={on:(gs[0]!==void 0?gs[0]:"on").toString(),off:(gs[1]!==void 0?gs[1]:"off").toString()},Ms=(((Gs=as.value)==null?void 0:Gs[wt.$text]())||"off")===ms.on||void 0,Cs=as[wt.$getSubformParent](),ks=as[wt.$uid];let tr;Cs instanceof Zn?(is=Cs[wt.$uid],_i="radio",Kn="xfaRadio",tr=((zs=Cs[wt.$data])==null?void 0:zs[wt.$uid])||Cs[wt.$uid]):(_i="checkbox",Kn="xfaCheckbox",tr=((Hs=as[wt.$data])==null?void 0:Hs[wt.$uid])||as[wt.$uid]);const Is={name:"input",attributes:{class:[Kn],style:yn,fieldId:ks,dataId:tr,type:_i,checked:Ms,xfaOn:ms.on,xfaOff:ms.off,"aria-label":Ut(as),"aria-required":!1}};return is&&(Is.attributes.name=is),Wt(as)&&(Is.attributes["aria-required"]=!0,Is.attributes.required=!0),Ft.HTMLResult.success({name:"label",attributes:{class:["xfaLabel"]},children:[Is]})}}class kn extends vt.XFAObject{constructor(Nt){super(Ot,"choiceList",!0),this.commitOn=(0,Ft.getStringOption)(Nt.commitOn,["select","exit"]),this.id=Nt.id||"",this.open=(0,Ft.getStringOption)(Nt.open,["userControl","always","multiSelect","onEntry"]),this.textEntry=(0,Ft.getInteger)({data:Nt.textEntry,defaultValue:0,validate:yn=>yn===1}),this.use=Nt.use||"",this.usehref=Nt.usehref||"",this.border=null,this.extras=null,this.margin=null}[wt.$toHTML](Nt){var ms,bs,Ms;const yn=(0,ht.toStyle)(this,"border","margin"),_i=this[wt.$getParent]()[wt.$getParent](),is={fontSize:`calc(${((ms=_i.font)==null?void 0:ms.size)||10}px * var(--scale-factor))`},as=[];if(_i.items.children.length>0){const Cs=_i.items;let ks=0,tr=0;Cs.children.length===2&&(ks=Cs.children[0].save,tr=1-ks);const Is=Cs.children[ks][wt.$toHTML]().html,Gs=Cs.children[tr][wt.$toHTML]().html;let zs=!1;const Hs=((bs=_i.value)==null?void 0:bs[wt.$text]())||"";for(let Qs=0,Bs=Is.length;Qs<Bs;Qs++){const Ns={name:"option",attributes:{value:Gs[Qs]||Is[Qs],style:is},value:Is[Qs]};Gs[Qs]===Hs&&(Ns.attributes.selected=zs=!0),as.push(Ns)}zs||as.splice(0,0,{name:"option",attributes:{hidden:!0,selected:!0},value:" "})}const gs={class:["xfaSelect"],fieldId:_i[wt.$uid],dataId:((Ms=_i[wt.$data])==null?void 0:Ms[wt.$uid])||_i[wt.$uid],style:yn,"aria-label":Ut(_i),"aria-required":!1};return Wt(_i)&&(gs["aria-required"]=!0,gs.required=!0),this.open==="multiSelect"&&(gs.multiple=!0),Ft.HTMLResult.success({name:"label",attributes:{class:["xfaLabel"]},children:[{name:"select",children:as,attributes:gs}]})}}class Pn extends vt.XFAObject{constructor(Nt){super(Ot,"color",!0),this.cSpace=(0,Ft.getStringOption)(Nt.cSpace,["SRGB"]),this.id=Nt.id||"",this.use=Nt.use||"",this.usehref=Nt.usehref||"",this.value=Nt.value?(0,Ft.getColor)(Nt.value):"",this.extras=null}[wt.$hasSettableValue](){return!1}[wt.$toStyle](){return this.value?Vt.Util.makeHexColor(this.value.r,this.value.g,this.value.b):null}}class Cn extends vt.XFAObject{constructor(Nt){super(Ot,"comb"),this.id=Nt.id||"",this.numberOfCells=(0,Ft.getInteger)({data:Nt.numberOfCells,defaultValue:0,validate:yn=>yn>=0}),this.use=Nt.use||"",this.usehref=Nt.usehref||""}}class vn extends vt.XFAObject{constructor(Nt){super(Ot,"connect",!0),this.connection=Nt.connection||"",this.id=Nt.id||"",this.ref=Nt.ref||"",this.usage=(0,Ft.getStringOption)(Nt.usage,["exportAndImport","exportOnly","importOnly"]),this.use=Nt.use||"",this.usehref=Nt.usehref||"",this.picture=null}}class Rn extends vt.XFAObject{constructor(Nt){super(Ot,"contentArea",!0),this.h=(0,Ft.getMeasurement)(Nt.h),this.id=Nt.id||"",this.name=Nt.name||"",this.relevant=(0,Ft.getRelevant)(Nt.relevant),this.use=Nt.use||"",this.usehref=Nt.usehref||"",this.w=(0,Ft.getMeasurement)(Nt.w),this.x=(0,Ft.getMeasurement)(Nt.x,"0pt"),this.y=(0,Ft.getMeasurement)(Nt.y,"0pt"),this.desc=null,this.extras=null}[wt.$toHTML](Nt){const yn=(0,ht.measureToString)(this.x),qn=(0,ht.measureToString)(this.y),_i={left:yn,top:qn,width:(0,ht.measureToString)(this.w),height:(0,ht.measureToString)(this.h)},Kn=["xfaContentarea"];return(0,ht.isPrintOnly)(this)&&Kn.push("xfaPrintOnly"),Ft.HTMLResult.success({name:"div",children:[],attributes:{style:_i,class:Kn,id:this[wt.$uid]}})}}class Mn extends vt.XFAObject{constructor(Nt){super(Ot,"corner",!0),this.id=Nt.id||"",this.inverted=(0,Ft.getInteger)({data:Nt.inverted,defaultValue:0,validate:yn=>yn===1}),this.join=(0,Ft.getStringOption)(Nt.join,["square","round"]),this.presence=(0,Ft.getStringOption)(Nt.presence,["visible","hidden","inactive","invisible"]),this.radius=(0,Ft.getMeasurement)(Nt.radius),this.stroke=(0,Ft.getStringOption)(Nt.stroke,["solid","dashDot","dashDotDot","dashed","dotted","embossed","etched","lowered","raised"]),this.thickness=(0,Ft.getMeasurement)(Nt.thickness,"0.5pt"),this.use=Nt.use||"",this.usehref=Nt.usehref||"",this.color=null,this.extras=null}[wt.$toStyle](){const Nt=(0,ht.toStyle)(this,"visibility");return Nt.radius=(0,ht.measureToString)(this.join==="square"?0:this.radius),Nt}}class _n extends vt.ContentObject{constructor(Nt){super(Ot,"date"),this.id=Nt.id||"",this.name=Nt.name||"",this.use=Nt.use||"",this.usehref=Nt.usehref||""}[wt.$finalize](){const Nt=this[wt.$content].trim();this[wt.$content]=Nt?new Date(Nt):null}[wt.$toHTML](Nt){return Mt(this[wt.$content]?this[wt.$content].toString():"")}}class Dn extends vt.ContentObject{constructor(Nt){super(Ot,"dateTime"),this.id=Nt.id||"",this.name=Nt.name||"",this.use=Nt.use||"",this.usehref=Nt.usehref||""}[wt.$finalize](){const Nt=this[wt.$content].trim();this[wt.$content]=Nt?new Date(Nt):null}[wt.$toHTML](Nt){return Mt(this[wt.$content]?this[wt.$content].toString():"")}}class Ln extends vt.XFAObject{constructor(Nt){super(Ot,"dateTimeEdit",!0),this.hScrollPolicy=(0,Ft.getStringOption)(Nt.hScrollPolicy,["auto","off","on"]),this.id=Nt.id||"",this.picker=(0,Ft.getStringOption)(Nt.picker,["host","none"]),this.use=Nt.use||"",this.usehref=Nt.usehref||"",this.border=null,this.comb=null,this.extras=null,this.margin=null}[wt.$toHTML](Nt){var Kn;const yn=(0,ht.toStyle)(this,"border","font","margin"),qn=this[wt.$getParent]()[wt.$getParent](),_i={name:"input",attributes:{type:"text",fieldId:qn[wt.$uid],dataId:((Kn=qn[wt.$data])==null?void 0:Kn[wt.$uid])||qn[wt.$uid],class:["xfaTextfield"],style:yn,"aria-label":Ut(qn),"aria-required":!1}};return Wt(qn)&&(_i.attributes["aria-required"]=!0,_i.attributes.required=!0),Ft.HTMLResult.success({name:"label",attributes:{class:["xfaLabel"]},children:[_i]})}}class Un extends vt.ContentObject{constructor(Nt){super(Ot,"decimal"),this.fracDigits=(0,Ft.getInteger)({data:Nt.fracDigits,defaultValue:2,validate:yn=>!0}),this.id=Nt.id||"",this.leadDigits=(0,Ft.getInteger)({data:Nt.leadDigits,defaultValue:-1,validate:yn=>!0}),this.name=Nt.name||"",this.use=Nt.use||"",this.usehref=Nt.usehref||""}[wt.$finalize](){const Nt=parseFloat(this[wt.$content].trim());this[wt.$content]=isNaN(Nt)?null:Nt}[wt.$toHTML](Nt){return Mt(this[wt.$content]!==null?this[wt.$content].toString():"")}}class ts extends vt.XFAObject{constructor(Nt){super(Ot,"defaultUi",!0),this.id=Nt.id||"",this.use=Nt.use||"",this.usehref=Nt.usehref||"",this.extras=null}}class es extends vt.XFAObject{constructor(Nt){super(Ot,"desc",!0),this.id=Nt.id||"",this.use=Nt.use||"",this.usehref=Nt.usehref||"",this.boolean=new vt.XFAObjectArray,this.date=new vt.XFAObjectArray,this.dateTime=new vt.XFAObjectArray,this.decimal=new vt.XFAObjectArray,this.exData=new vt.XFAObjectArray,this.float=new vt.XFAObjectArray,this.image=new vt.XFAObjectArray,this.integer=new vt.XFAObjectArray,this.text=new vt.XFAObjectArray,this.time=new vt.XFAObjectArray}}class Qn extends vt.OptionObject{constructor(Nt){super(Ot,"digestMethod",["","SHA1","SHA256","SHA512","RIPEMD160"]),this.id=Nt.id||"",this.use=Nt.use||"",this.usehref=Nt.usehref||""}}class Yn extends vt.XFAObject{constructor(Nt){super(Ot,"digestMethods",!0),this.id=Nt.id||"",this.type=(0,Ft.getStringOption)(Nt.type,["optional","required"]),this.use=Nt.use||"",this.usehref=Nt.usehref||"",this.digestMethod=new vt.XFAObjectArray}}class zn extends vt.XFAObject{constructor(Nt){super(Ot,"draw",!0),this.anchorType=(0,Ft.getStringOption)(Nt.anchorType,["topLeft","bottomCenter","bottomLeft","bottomRight","middleCenter","middleLeft","middleRight","topCenter","topRight"]),this.colSpan=(0,Ft.getInteger)({data:Nt.colSpan,defaultValue:1,validate:yn=>yn>=1||yn===-1}),this.h=Nt.h?(0,Ft.getMeasurement)(Nt.h):"",this.hAlign=(0,Ft.getStringOption)(Nt.hAlign,["left","center","justify","justifyAll","radix","right"]),this.id=Nt.id||"",this.locale=Nt.locale||"",this.maxH=(0,Ft.getMeasurement)(Nt.maxH,"0pt"),this.maxW=(0,Ft.getMeasurement)(Nt.maxW,"0pt"),this.minH=(0,Ft.getMeasurement)(Nt.minH,"0pt"),this.minW=(0,Ft.getMeasurement)(Nt.minW,"0pt"),this.name=Nt.name||"",this.presence=(0,Ft.getStringOption)(Nt.presence,["visible","hidden","inactive","invisible"]),this.relevant=(0,Ft.getRelevant)(Nt.relevant),this.rotate=(0,Ft.getInteger)({data:Nt.rotate,defaultValue:0,validate:yn=>yn%90===0}),this.use=Nt.use||"",this.usehref=Nt.usehref||"",this.w=Nt.w?(0,Ft.getMeasurement)(Nt.w):"",this.x=(0,Ft.getMeasurement)(Nt.x,"0pt"),this.y=(0,Ft.getMeasurement)(Nt.y,"0pt"),this.assist=null,this.border=null,this.caption=null,this.desc=null,this.extras=null,this.font=null,this.keep=null,this.margin=null,this.para=null,this.traversal=null,this.ui=null,this.value=null,this.setProperty=new vt.XFAObjectArray}[wt.$setValue](Nt){nn(this,Nt)}[wt.$toHTML](Nt){if(Yt(this),this.presence==="hidden"||this.presence==="inactive")return Ft.HTMLResult.EMPTY;(0,ht.fixDimensions)(this),this[wt.$pushPara]();const yn=this.w,qn=this.h,{w:_i,h:Kn,isBroken:is}=(0,ht.layoutNode)(this,Nt);if(_i&&this.w===""){if(is&&this[wt.$getSubformParent]()[wt.$isThereMoreWidth]())return this[wt.$popPara](),Ft.HTMLResult.FAILURE;this.w=_i}if(Kn&&this.h===""&&(this.h=Kn),Ht(this),!(0,_t.checkDimensions)(this,Nt))return this.w=yn,this.h=qn,this[wt.$popPara](),Ft.HTMLResult.FAILURE;sn(this);const as=(0,ht.toStyle)(this,"font","hAlign","dimensions","position","presence","rotate","anchorType","border","margin");(0,ht.setMinMaxDimensions)(this,as),as.margin&&(as.padding=as.margin,delete as.margin);const gs=["xfaDraw"];this.font&&gs.push("xfaFont"),(0,ht.isPrintOnly)(this)&&gs.push("xfaPrintOnly");const ms={style:as,id:this[wt.$uid],class:gs};this.name&&(ms.xfaName=this.name);const bs={name:"div",attributes:ms,children:[]};dn(this,ms);const Ms=(0,ht.computeBbox)(this,bs,Nt),Cs=this.value?this.value[wt.$toHTML](Nt).html:null;return Cs===null?(this.w=yn,this.h=qn,this[wt.$popPara](),Ft.HTMLResult.success((0,ht.createWrapper)(this,bs),Ms)):(bs.children.push(Cs),(0,ht.setPara)(this,as,Cs),this.w=yn,this.h=qn,this[wt.$popPara](),Ft.HTMLResult.success((0,ht.createWrapper)(this,bs),Ms))}}class ns extends vt.XFAObject{constructor(Nt){super(Ot,"edge",!0),this.cap=(0,Ft.getStringOption)(Nt.cap,["square","butt","round"]),this.id=Nt.id||"",this.presence=(0,Ft.getStringOption)(Nt.presence,["visible","hidden","inactive","invisible"]),this.stroke=(0,Ft.getStringOption)(Nt.stroke,["solid","dashDot","dashDotDot","dashed","dotted","embossed","etched","lowered","raised"]),this.thickness=(0,Ft.getMeasurement)(Nt.thickness,"0.5pt"),this.use=Nt.use||"",this.usehref=Nt.usehref||"",this.color=null,this.extras=null}[wt.$toStyle](){const Nt=(0,ht.toStyle)(this,"visibility");if(Object.assign(Nt,{linecap:this.cap,width:(0,ht.measureToString)(this.thickness),color:this.color?this.color[wt.$toStyle]():"#000000",style:""}),this.presence!=="visible")Nt.style="none";else switch(this.stroke){case"solid":Nt.style="solid";break;case"dashDot":Nt.style="dashed";break;case"dashDotDot":Nt.style="dashed";break;case"dashed":Nt.style="dashed";break;case"dotted":Nt.style="dotted";break;case"embossed":Nt.style="ridge";break;case"etched":Nt.style="groove";break;case"lowered":Nt.style="inset";break;case"raised":Nt.style="outset";break}return Nt}}class ls extends vt.OptionObject{constructor(Nt){super(Ot,"encoding",["adbe.x509.rsa_sha1","adbe.pkcs7.detached","adbe.pkcs7.sha1"]),this.id=Nt.id||"",this.use=Nt.use||"",this.usehref=Nt.usehref||""}}class ds extends vt.XFAObject{constructor(Nt){super(Ot,"encodings",!0),this.id=Nt.id||"",this.type=(0,Ft.getStringOption)(Nt.type,["optional","required"]),this.use=Nt.use||"",this.usehref=Nt.usehref||"",this.encoding=new vt.XFAObjectArray}}class Bn extends vt.XFAObject{constructor(Nt){super(Ot,"encrypt",!0),this.id=Nt.id||"",this.use=Nt.use||"",this.usehref=Nt.usehref||"",this.certificate=null}}class Hn extends vt.XFAObject{constructor(Nt){super(Ot,"encryptData",!0),this.id=Nt.id||"",this.operation=(0,Ft.getStringOption)(Nt.operation,["encrypt","decrypt"]),this.target=Nt.target||"",this.use=Nt.use||"",this.usehref=Nt.usehref||"",this.filter=null,this.manifest=null}}class Xn extends vt.XFAObject{constructor(Nt){super(Ot,"encryption",!0),this.id=Nt.id||"",this.type=(0,Ft.getStringOption)(Nt.type,["optional","required"]),this.use=Nt.use||"",this.usehref=Nt.usehref||"",this.certificate=new vt.XFAObjectArray}}class cs extends vt.OptionObject{constructor(Nt){super(Ot,"encryptionMethod",["","AES256-CBC","TRIPLEDES-CBC","AES128-CBC","AES192-CBC"]),this.id=Nt.id||"",this.use=Nt.use||"",this.usehref=Nt.usehref||""}}class rs extends vt.XFAObject{constructor(Nt){super(Ot,"encryptionMethods",!0),this.id=Nt.id||"",this.type=(0,Ft.getStringOption)(Nt.type,["optional","required"]),this.use=Nt.use||"",this.usehref=Nt.usehref||"",this.encryptionMethod=new vt.XFAObjectArray}}class xs extends vt.XFAObject{constructor(Nt){super(Ot,"event",!0),this.activity=(0,Ft.getStringOption)(Nt.activity,["click","change","docClose","docReady","enter","exit","full","indexChange","initialize","mouseDown","mouseEnter","mouseExit","mouseUp","postExecute","postOpen","postPrint","postSave","postSign","postSubmit","preExecute","preOpen","prePrint","preSave","preSign","preSubmit","ready","validationState"]),this.id=Nt.id||"",this.listen=(0,Ft.getStringOption)(Nt.listen,["refOnly","refAndDescendents"]),this.name=Nt.name||"",this.ref=Nt.ref||"",this.use=Nt.use||"",this.usehref=Nt.usehref||"",this.extras=null,this.encryptData=null,this.execute=null,this.script=null,this.signData=null,this.submit=null}}class Jn extends vt.ContentObject{constructor(Nt){super(Ot,"exData"),this.contentType=Nt.contentType||"",this.href=Nt.href||"",this.id=Nt.id||"",this.maxLength=(0,Ft.getInteger)({data:Nt.maxLength,defaultValue:-1,validate:yn=>yn>=-1}),this.name=Nt.name||"",this.rid=Nt.rid||"",this.transferEncoding=(0,Ft.getStringOption)(Nt.transferEncoding,["none","base64","package"]),this.use=Nt.use||"",this.usehref=Nt.usehref||""}[wt.$isCDATAXml](){return this.contentType==="text/html"}[wt.$onChild](Nt){return this.contentType==="text/html"&&Nt[wt.$namespaceId]===kt.NamespaceIds.xhtml.id?(this[wt.$content]=Nt,!0):this.contentType==="text/xml"?(this[wt.$content]=Nt,!0):!1}[wt.$toHTML](Nt){return this.contentType!=="text/html"||!this[wt.$content]?Ft.HTMLResult.EMPTY:this[wt.$content][wt.$toHTML](Nt)}}class Wn extends vt.XFAObject{constructor(Nt){super(Ot,"exObject",!0),this.archive=Nt.archive||"",this.classId=Nt.classId||"",this.codeBase=Nt.codeBase||"",this.codeType=Nt.codeType||"",this.id=Nt.id||"",this.name=Nt.name||"",this.use=Nt.use||"",this.usehref=Nt.usehref||"",this.extras=null,this.boolean=new vt.XFAObjectArray,this.date=new vt.XFAObjectArray,this.dateTime=new vt.XFAObjectArray,this.decimal=new vt.XFAObjectArray,this.exData=new vt.XFAObjectArray,this.exObject=new vt.XFAObjectArray,this.float=new vt.XFAObjectArray,this.image=new vt.XFAObjectArray,this.integer=new vt.XFAObjectArray,this.text=new vt.XFAObjectArray,this.time=new vt.XFAObjectArray}}class Zn extends vt.XFAObject{constructor(Nt){super(Ot,"exclGroup",!0),this.access=(0,Ft.getStringOption)(Nt.access,["open","nonInteractive","protected","readOnly"]),this.accessKey=Nt.accessKey||"",this.anchorType=(0,Ft.getStringOption)(Nt.anchorType,["topLeft","bottomCenter","bottomLeft","bottomRight","middleCenter","middleLeft","middleRight","topCenter","topRight"]),this.colSpan=(0,Ft.getInteger)({data:Nt.colSpan,defaultValue:1,validate:yn=>yn>=1||yn===-1}),this.h=Nt.h?(0,Ft.getMeasurement)(Nt.h):"",this.hAlign=(0,Ft.getStringOption)(Nt.hAlign,["left","center","justify","justifyAll","radix","right"]),this.id=Nt.id||"",this.layout=(0,Ft.getStringOption)(Nt.layout,["position","lr-tb","rl-row","rl-tb","row","table","tb"]),this.maxH=(0,Ft.getMeasurement)(Nt.maxH,"0pt"),this.maxW=(0,Ft.getMeasurement)(Nt.maxW,"0pt"),this.minH=(0,Ft.getMeasurement)(Nt.minH,"0pt"),this.minW=(0,Ft.getMeasurement)(Nt.minW,"0pt"),this.name=Nt.name||"",this.presence=(0,Ft.getStringOption)(Nt.presence,["visible","hidden","inactive","invisible"]),this.relevant=(0,Ft.getRelevant)(Nt.relevant),this.use=Nt.use||"",this.usehref=Nt.usehref||"",this.w=Nt.w?(0,Ft.getMeasurement)(Nt.w):"",this.x=(0,Ft.getMeasurement)(Nt.x,"0pt"),this.y=(0,Ft.getMeasurement)(Nt.y,"0pt"),this.assist=null,this.bind=null,this.border=null,this.calculate=null,this.caption=null,this.desc=null,this.extras=null,this.margin=null,this.para=null,this.traversal=null,this.validate=null,this.connect=new vt.XFAObjectArray,this.event=new vt.XFAObjectArray,this.field=new vt.XFAObjectArray,this.setProperty=new vt.XFAObjectArray}[wt.$isBindable](){return!0}[wt.$hasSettableValue](){return!0}[wt.$setValue](Nt){for(const yn of this.field.children){if(!yn.value){const qn=new jn({});yn[wt.$appendChild](qn),yn.value=qn}yn.value[wt.$setValue](Nt)}}[wt.$isThereMoreWidth](){return this.layout.endsWith("-tb")&&this[wt.$extra].attempt===0&&this[wt.$extra].numberInLine>0||this[wt.$getParent]()[wt.$isThereMoreWidth]()}[wt.$isSplittable](){var yn;const Nt=this[wt.$getSubformParent]();return Nt[wt.$isSplittable]()?this[wt.$extra]._isSplittable!==void 0?this[wt.$extra]._isSplittable:this.layout==="position"||this.layout.includes("row")?(this[wt.$extra]._isSplittable=!1,!1):(yn=Nt.layout)!=null&&yn.endsWith("-tb")&&Nt[wt.$extra].numberInLine!==0?!1:(this[wt.$extra]._isSplittable=!0,!0):!1}[wt.$flushHTML](){return(0,_t.flushHTML)(this)}[wt.$addHTML](Nt,yn){(0,_t.addHTML)(this,Nt,yn)}[wt.$getAvailableSpace](){return(0,_t.getAvailableSpace)(this)}[wt.$toHTML](Nt){if(Yt(this),this.presence==="hidden"||this.presence==="inactive"||this.h===0||this.w===0)return Ft.HTMLResult.EMPTY;(0,ht.fixDimensions)(this);const yn=[],qn={id:this[wt.$uid],class:[]};(0,ht.setAccess)(this,qn.class),this[wt.$extra]||(this[wt.$extra]=Object.create(null)),Object.assign(this[wt.$extra],{children:yn,attributes:qn,attempt:0,line:null,numberInLine:0,availableSpace:{width:Math.min(this.w||1/0,Nt.width),height:Math.min(this.h||1/0,Nt.height)},width:0,height:0,prevHeight:0,currentWidth:0});const _i=this[wt.$isSplittable]();if(_i||Ht(this),!(0,_t.checkDimensions)(this,Nt))return Ft.HTMLResult.FAILURE;const Kn=new Set(["field"]);if(this.layout.includes("row")){const zs=this[wt.$getSubformParent]().columnWidths;Array.isArray(zs)&&zs.length>0&&(this[wt.$extra].columnWidths=zs,this[wt.$extra].currentColumn=0)}const is=(0,ht.toStyle)(this,"anchorType","dimensions","position","presence","border","margin","hAlign"),as=["xfaExclgroup"],gs=(0,ht.layoutClass)(this);gs&&as.push(gs),(0,ht.isPrintOnly)(this)&&as.push("xfaPrintOnly"),qn.style=is,qn.class=as,this.name&&(qn.xfaName=this.name),this[wt.$pushPara]();const ms=this.layout==="lr-tb"||this.layout==="rl-tb",bs=ms?Rt:1;for(;this[wt.$extra].attempt<bs;this[wt.$extra].attempt++){ms&&this[wt.$extra].attempt===Rt-1&&(this[wt.$extra].numberInLine=0);const zs=this[wt.$childrenToHTML]({filter:Kn,include:!0});if(zs.success)break;if(zs.isBreak())return this[wt.$popPara](),zs;if(ms&&this[wt.$extra].attempt===0&&this[wt.$extra].numberInLine===0&&!this[wt.$getTemplateRoot]()[wt.$extra].noLayoutFailure){this[wt.$extra].attempt=bs;break}}if(this[wt.$popPara](),_i||sn(this),this[wt.$extra].attempt===bs)return _i||delete this[wt.$extra],Ft.HTMLResult.FAILURE;let Ms=0,Cs=0;this.margin&&(Ms=this.margin.leftInset+this.margin.rightInset,Cs=this.margin.topInset+this.margin.bottomInset);const ks=Math.max(this[wt.$extra].width+Ms,this.w||0),tr=Math.max(this[wt.$extra].height+Cs,this.h||0),Is=[this.x,this.y,ks,tr];this.w===""&&(is.width=(0,ht.measureToString)(ks)),this.h===""&&(is.height=(0,ht.measureToString)(tr));const Gs={name:"div",attributes:qn,children:yn};return dn(this,qn),delete this[wt.$extra],Ft.HTMLResult.success((0,ht.createWrapper)(this,Gs),Is)}}class us extends vt.XFAObject{constructor(Nt){super(Ot,"execute"),this.connection=Nt.connection||"",this.executeType=(0,Ft.getStringOption)(Nt.executeType,["import","remerge"]),this.id=Nt.id||"",this.runAt=(0,Ft.getStringOption)(Nt.runAt,["client","both","server"]),this.use=Nt.use||"",this.usehref=Nt.usehref||""}}class hs extends vt.XFAObject{constructor(Nt){super(Ot,"extras",!0),this.id=Nt.id||"",this.name=Nt.name||"",this.use=Nt.use||"",this.usehref=Nt.usehref||"",this.boolean=new vt.XFAObjectArray,this.date=new vt.XFAObjectArray,this.dateTime=new vt.XFAObjectArray,this.decimal=new vt.XFAObjectArray,this.exData=new vt.XFAObjectArray,this.extras=new vt.XFAObjectArray,this.float=new vt.XFAObjectArray,this.image=new vt.XFAObjectArray,this.integer=new vt.XFAObjectArray,this.text=new vt.XFAObjectArray,this.time=new vt.XFAObjectArray}}class os extends vt.XFAObject{constructor(Nt){super(Ot,"field",!0),this.access=(0,Ft.getStringOption)(Nt.access,["open","nonInteractive","protected","readOnly"]),this.accessKey=Nt.accessKey||"",this.anchorType=(0,Ft.getStringOption)(Nt.anchorType,["topLeft","bottomCenter","bottomLeft","bottomRight","middleCenter","middleLeft","middleRight","topCenter","topRight"]),this.colSpan=(0,Ft.getInteger)({data:Nt.colSpan,defaultValue:1,validate:yn=>yn>=1||yn===-1}),this.h=Nt.h?(0,Ft.getMeasurement)(Nt.h):"",this.hAlign=(0,Ft.getStringOption)(Nt.hAlign,["left","center","justify","justifyAll","radix","right"]),this.id=Nt.id||"",this.locale=Nt.locale||"",this.maxH=(0,Ft.getMeasurement)(Nt.maxH,"0pt"),this.maxW=(0,Ft.getMeasurement)(Nt.maxW,"0pt"),this.minH=(0,Ft.getMeasurement)(Nt.minH,"0pt"),this.minW=(0,Ft.getMeasurement)(Nt.minW,"0pt"),this.name=Nt.name||"",this.presence=(0,Ft.getStringOption)(Nt.presence,["visible","hidden","inactive","invisible"]),this.relevant=(0,Ft.getRelevant)(Nt.relevant),this.rotate=(0,Ft.getInteger)({data:Nt.rotate,defaultValue:0,validate:yn=>yn%90===0}),this.use=Nt.use||"",this.usehref=Nt.usehref||"",this.w=Nt.w?(0,Ft.getMeasurement)(Nt.w):"",this.x=(0,Ft.getMeasurement)(Nt.x,"0pt"),this.y=(0,Ft.getMeasurement)(Nt.y,"0pt"),this.assist=null,this.bind=null,this.border=null,this.calculate=null,this.caption=null,this.desc=null,this.extras=null,this.font=null,this.format=null,this.items=new vt.XFAObjectArray(2),this.keep=null,this.margin=null,this.para=null,this.traversal=null,this.ui=null,this.validate=null,this.value=null,this.bindItems=new vt.XFAObjectArray,this.connect=new vt.XFAObjectArray,this.event=new vt.XFAObjectArray,this.setProperty=new vt.XFAObjectArray}[wt.$isBindable](){return!0}[wt.$setValue](Nt){nn(this,Nt)}[wt.$toHTML](Nt){var zs,Hs,Qs;if(Yt(this),!this.ui){this.ui=new E0({}),this.ui[wt.$globalData]=this[wt.$globalData],this[wt.$appendChild](this.ui);let Bs;switch(this.items.children.length){case 0:Bs=new Vu({}),this.ui.textEdit=Bs;break;case 1:Bs=new Sn({}),this.ui.checkButton=Bs;break;case 2:Bs=new kn({}),this.ui.choiceList=Bs;break}this.ui[wt.$appendChild](Bs)}if(!this.ui||this.presence==="hidden"||this.presence==="inactive"||this.h===0||this.w===0)return Ft.HTMLResult.EMPTY;this.caption&&delete this.caption[wt.$extra],this[wt.$pushPara]();const yn=this.caption?this.caption[wt.$toHTML](Nt).html:null,qn=this.w,_i=this.h;let Kn=0,is=0;this.margin&&(Kn=this.margin.leftInset+this.margin.rightInset,is=this.margin.topInset+this.margin.bottomInset);let as=null;if(this.w===""||this.h===""){let Bs=null,Ns=null,Er=0,kr=0;if(this.ui.checkButton)Er=kr=this.ui.checkButton.size;else{const{w:Fr,h:Rr}=(0,ht.layoutNode)(this,Nt);Fr!==null?(Er=Fr,kr=Rr):kr=(0,qt.getMetrics)(this.font,!0).lineNoGap}if(as=tn(this.ui[wt.$getExtra]()),Er+=as.w,kr+=as.h,this.caption){const{w:Fr,h:Rr,isBroken:Mr}=this.caption[wt.$getExtra](Nt);if(Mr&&this[wt.$getSubformParent]()[wt.$isThereMoreWidth]())return this[wt.$popPara](),Ft.HTMLResult.FAILURE;switch(Bs=Fr,Ns=Rr,this.caption.placement){case"left":case"right":case"inline":Bs+=Er;break;case"top":case"bottom":Ns+=kr;break}}else Bs=Er,Ns=kr;Bs&&this.w===""&&(Bs+=Kn,this.w=Math.min(this.maxW<=0?1/0:this.maxW,this.minW+1<Bs?Bs:this.minW)),Ns&&this.h===""&&(Ns+=is,this.h=Math.min(this.maxH<=0?1/0:this.maxH,this.minH+1<Ns?Ns:this.minH))}if(this[wt.$popPara](),(0,ht.fixDimensions)(this),Ht(this),!(0,_t.checkDimensions)(this,Nt))return this.w=qn,this.h=_i,this[wt.$popPara](),Ft.HTMLResult.FAILURE;sn(this);const gs=(0,ht.toStyle)(this,"font","dimensions","position","rotate","anchorType","presence","margin","hAlign");(0,ht.setMinMaxDimensions)(this,gs);const ms=["xfaField"];this.font&&ms.push("xfaFont"),(0,ht.isPrintOnly)(this)&&ms.push("xfaPrintOnly");const bs={style:gs,id:this[wt.$uid],class:ms};gs.margin&&(gs.padding=gs.margin,delete gs.margin),(0,ht.setAccess)(this,ms),this.name&&(bs.xfaName=this.name);const Ms=[],Cs={name:"div",attributes:bs,children:Ms};dn(this,bs);const ks=this.border?this.border[wt.$toStyle]():null,tr=(0,ht.computeBbox)(this,Cs,Nt),Is=this.ui[wt.$toHTML]().html;if(!Is)return Object.assign(gs,ks),Ft.HTMLResult.success((0,ht.createWrapper)(this,Cs),tr);this[wt.$tabIndex]&&((zs=Is.children)!=null&&zs[0]?Is.children[0].attributes.tabindex=this[wt.$tabIndex]:Is.attributes.tabindex=this[wt.$tabIndex]),Is.attributes.style||(Is.attributes.style=Object.create(null));let Gs=null;if(this.ui.button?(Is.children.length===1&&([Gs]=Is.children.splice(0,1)),Object.assign(Is.attributes.style,ks)):Object.assign(gs,ks),Ms.push(Is),this.value){if(this.ui.imageEdit)Is.children.push(this.value[wt.$toHTML]().html);else if(!this.ui.button){let Bs="";if(this.value.exData)Bs=this.value.exData[wt.$text]();else if(this.value.text)Bs=this.value.text[wt.$getExtra]();else{const Ns=this.value[wt.$toHTML]().html;Ns!==null&&(Bs=Ns.children[0].value)}this.ui.textEdit&&((Hs=this.value.text)!=null&&Hs.maxChars)&&(Is.children[0].attributes.maxLength=this.value.text.maxChars),Bs&&(this.ui.numericEdit&&(Bs=parseFloat(Bs),Bs=isNaN(Bs)?"":Bs.toString()),Is.children[0].name==="textarea"?Is.children[0].attributes.textContent=Bs:Is.children[0].attributes.value=Bs)}}if(!this.ui.imageEdit&&((Qs=Is.children)!=null&&Qs[0])&&this.h){as=as||tn(this.ui[wt.$getExtra]());let Bs=0;if(this.caption&&["top","bottom"].includes(this.caption.placement)){Bs=this.caption.reserve,Bs<=0&&(Bs=this.caption[wt.$getExtra](Nt).h);const Ns=this.h-Bs-is-as.h;Is.children[0].attributes.style.height=(0,ht.measureToString)(Ns)}else Is.children[0].attributes.style.height="100%"}if(Gs&&Is.children.push(Gs),!yn)return Is.attributes.class&&Is.attributes.class.push("xfaLeft"),this.w=qn,this.h=_i,Ft.HTMLResult.success((0,ht.createWrapper)(this,Cs),tr);if(this.ui.button)return gs.padding&&delete gs.padding,yn.name==="div"&&(yn.name="span"),Is.children.push(yn),Ft.HTMLResult.success(Cs,tr);switch(this.ui.checkButton&&(yn.attributes.class[0]="xfaCaptionForCheckButton"),Is.attributes.class||(Is.attributes.class=[]),Is.children.splice(0,0,yn),this.caption.placement){case"left":Is.attributes.class.push("xfaLeft");break;case"right":Is.attributes.class.push("xfaRight");break;case"top":Is.attributes.class.push("xfaTop");break;case"bottom":Is.attributes.class.push("xfaBottom");break;case"inline":Is.attributes.class.push("xfaLeft");break}return this.w=qn,this.h=_i,Ft.HTMLResult.success((0,ht.createWrapper)(this,Cs),tr)}}Et.Field=os;class ps extends vt.XFAObject{constructor(Nt){super(Ot,"fill",!0),this.id=Nt.id||"",this.presence=(0,Ft.getStringOption)(Nt.presence,["visible","hidden","inactive","invisible"]),this.use=Nt.use||"",this.usehref=Nt.usehref||"",this.color=null,this.extras=null,this.linear=null,this.pattern=null,this.radial=null,this.solid=null,this.stipple=null}[wt.$toStyle](){var as;const Nt=this[wt.$getParent](),qn=Nt[wt.$getParent]()[wt.$getParent](),_i=Object.create(null);let Kn="color",is=Kn;Nt instanceof Fn&&(Kn="background-color",is="background",qn instanceof E0&&(_i.backgroundColor="white")),(Nt instanceof fr||Nt instanceof ln)&&(Kn=is="fill",_i.fill="white");for(const gs of Object.getOwnPropertyNames(this)){if(gs==="extras"||gs==="color")continue;const ms=this[gs];if(!(ms instanceof vt.XFAObject))continue;const bs=ms[wt.$toStyle](this.color);return bs&&(_i[bs.startsWith("#")?Kn:is]=bs),_i}if((as=this.color)!=null&&as.value){const gs=this.color[wt.$toStyle]();_i[gs.startsWith("#")?Kn:is]=gs}return _i}}class ws extends vt.XFAObject{constructor(Nt){super(Ot,"filter",!0),this.addRevocationInfo=(0,Ft.getStringOption)(Nt.addRevocationInfo,["","required","optional","none"]),this.id=Nt.id||"",this.name=Nt.name||"",this.use=Nt.use||"",this.usehref=Nt.usehref||"",this.version=(0,Ft.getInteger)({data:this.version,defaultValue:5,validate:yn=>yn>=1&&yn<=5}),this.appearanceFilter=null,this.certificates=null,this.digestMethods=null,this.encodings=null,this.encryptionMethods=null,this.handler=null,this.lockDocument=null,this.mdp=null,this.reasons=null,this.timeStamp=null}}class fs extends vt.ContentObject{constructor(Nt){super(Ot,"float"),this.id=Nt.id||"",this.name=Nt.name||"",this.use=Nt.use||"",this.usehref=Nt.usehref||""}[wt.$finalize](){const Nt=parseFloat(this[wt.$content].trim());this[wt.$content]=isNaN(Nt)?null:Nt}[wt.$toHTML](Nt){return Mt(this[wt.$content]!==null?this[wt.$content].toString():"")}}class Ss extends vt.XFAObject{constructor(Nt){super(Ot,"font",!0),this.baselineShift=(0,Ft.getMeasurement)(Nt.baselineShift),this.fontHorizontalScale=(0,Ft.getFloat)({data:Nt.fontHorizontalScale,defaultValue:100,validate:yn=>yn>=0}),this.fontVerticalScale=(0,Ft.getFloat)({data:Nt.fontVerticalScale,defaultValue:100,validate:yn=>yn>=0}),this.id=Nt.id||"",this.kerningMode=(0,Ft.getStringOption)(Nt.kerningMode,["none","pair"]),this.letterSpacing=(0,Ft.getMeasurement)(Nt.letterSpacing,"0"),this.lineThrough=(0,Ft.getInteger)({data:Nt.lineThrough,defaultValue:0,validate:yn=>yn===1||yn===2}),this.lineThroughPeriod=(0,Ft.getStringOption)(Nt.lineThroughPeriod,["all","word"]),this.overline=(0,Ft.getInteger)({data:Nt.overline,defaultValue:0,validate:yn=>yn===1||yn===2}),this.overlinePeriod=(0,Ft.getStringOption)(Nt.overlinePeriod,["all","word"]),this.posture=(0,Ft.getStringOption)(Nt.posture,["normal","italic"]),this.size=(0,Ft.getMeasurement)(Nt.size,"10pt"),this.typeface=Nt.typeface||"Courier",this.underline=(0,Ft.getInteger)({data:Nt.underline,defaultValue:0,validate:yn=>yn===1||yn===2}),this.underlinePeriod=(0,Ft.getStringOption)(Nt.underlinePeriod,["all","word"]),this.use=Nt.use||"",this.usehref=Nt.usehref||"",this.weight=(0,Ft.getStringOption)(Nt.weight,["normal","bold"]),this.extras=null,this.fill=null}[wt.$clean](Nt){super[wt.$clean](Nt),this[wt.$globalData].usedTypefaces.add(this.typeface)}[wt.$toStyle](){const Nt=(0,ht.toStyle)(this,"fill"),yn=Nt.color;return yn&&(yn==="#000000"?delete Nt.color:yn.startsWith("#")||(Nt.background=yn,Nt.backgroundClip="text",Nt.color="transparent")),this.baselineShift&&(Nt.verticalAlign=(0,ht.measureToString)(this.baselineShift)),Nt.fontKerning=this.kerningMode==="none"?"none":"normal",Nt.letterSpacing=(0,ht.measureToString)(this.letterSpacing),this.lineThrough!==0&&(Nt.textDecoration="line-through",this.lineThrough===2&&(Nt.textDecorationStyle="double")),this.overline!==0&&(Nt.textDecoration="overline",this.overline===2&&(Nt.textDecorationStyle="double")),Nt.fontStyle=this.posture,Nt.fontSize=(0,ht.measureToString)(.99*this.size),(0,ht.setFontFamily)(this,this,this[wt.$globalData].fontFinder,Nt),this.underline!==0&&(Nt.textDecoration="underline",this.underline===2&&(Nt.textDecorationStyle="double")),Nt.fontWeight=this.weight,Nt}}class Ls extends vt.XFAObject{constructor(Nt){super(Ot,"format",!0),this.id=Nt.id||"",this.use=Nt.use||"",this.usehref=Nt.usehref||"",this.extras=null,this.picture=null}}class Fs extends vt.StringObject{constructor(Nt){super(Ot,"handler"),this.id=Nt.id||"",this.type=(0,Ft.getStringOption)(Nt.type,["optional","required"]),this.use=Nt.use||"",this.usehref=Nt.usehref||""}}class $s extends vt.XFAObject{constructor(Nt){super(Ot,"hyphenation"),this.excludeAllCaps=(0,Ft.getInteger)({data:Nt.excludeAllCaps,defaultValue:0,validate:yn=>yn===1}),this.excludeInitialCap=(0,Ft.getInteger)({data:Nt.excludeInitialCap,defaultValue:0,validate:yn=>yn===1}),this.hyphenate=(0,Ft.getInteger)({data:Nt.hyphenate,defaultValue:0,validate:yn=>yn===1}),this.id=Nt.id||"",this.pushCharacterCount=(0,Ft.getInteger)({data:Nt.pushCharacterCount,defaultValue:3,validate:yn=>yn>=0}),this.remainCharacterCount=(0,Ft.getInteger)({data:Nt.remainCharacterCount,defaultValue:3,validate:yn=>yn>=0}),this.use=Nt.use||"",this.usehref=Nt.usehref||"",this.wordCharacterCount=(0,Ft.getInteger)({data:Nt.wordCharacterCount,defaultValue:7,validate:yn=>yn>=0})}}class Es extends vt.StringObject{constructor(Nt){super(Ot,"image"),this.aspect=(0,Ft.getStringOption)(Nt.aspect,["fit","actual","height","none","width"]),this.contentType=Nt.contentType||"",this.href=Nt.href||"",this.id=Nt.id||"",this.name=Nt.name||"",this.transferEncoding=(0,Ft.getStringOption)(Nt.transferEncoding,["base64","none","package"]),this.use=Nt.use||"",this.usehref=Nt.usehref||""}[wt.$toHTML](){if(this.contentType&&!en.has(this.contentType.toLowerCase()))return Ft.HTMLResult.EMPTY;let Nt=this[wt.$globalData].images&&this[wt.$globalData].images.get(this.href);if(!Nt&&(this.href||!this[wt.$content])||(!Nt&&this.transferEncoding==="base64"&&(Nt=(0,Vt.stringToBytes)(atob(this[wt.$content]))),!Nt))return Ft.HTMLResult.EMPTY;if(!this.contentType){for(const[Kn,is]of hn)if(Nt.length>Kn.length&&Kn.every((as,gs)=>as===Nt[gs])){this.contentType=is;break}if(!this.contentType)return Ft.HTMLResult.EMPTY}const yn=new Blob([Nt],{type:this.contentType});let qn;switch(this.aspect){case"fit":case"actual":break;case"height":qn={height:"100%",objectFit:"fill"};break;case"none":qn={width:"100%",height:"100%",objectFit:"fill"};break;case"width":qn={width:"100%",objectFit:"fill"};break}const _i=this[wt.$getParent]();return Ft.HTMLResult.success({name:"img",attributes:{class:["xfaImage"],style:qn,src:URL.createObjectURL(yn),alt:_i?Ut(_i[wt.$getParent]()):null}})}}class Ps extends vt.XFAObject{constructor(Nt){super(Ot,"imageEdit",!0),this.data=(0,Ft.getStringOption)(Nt.data,["link","embed"]),this.id=Nt.id||"",this.use=Nt.use||"",this.usehref=Nt.usehref||"",this.border=null,this.extras=null,this.margin=null}[wt.$toHTML](Nt){return this.data==="embed"?Ft.HTMLResult.success({name:"div",children:[],attributes:{}}):Ft.HTMLResult.EMPTY}}class Rs extends vt.ContentObject{constructor(Nt){super(Ot,"integer"),this.id=Nt.id||"",this.name=Nt.name||"",this.use=Nt.use||"",this.usehref=Nt.usehref||""}[wt.$finalize](){const Nt=parseInt(this[wt.$content].trim(),10);this[wt.$content]=isNaN(Nt)?null:Nt}[wt.$toHTML](Nt){return Mt(this[wt.$content]!==null?this[wt.$content].toString():"")}}class qs extends vt.XFAObject{constructor(Nt){super(Ot,"issuers",!0),this.id=Nt.id||"",this.type=(0,Ft.getStringOption)(Nt.type,["optional","required"]),this.use=Nt.use||"",this.usehref=Nt.usehref||"",this.certificate=new vt.XFAObjectArray}}class vr extends vt.XFAObject{constructor(Nt){super(Ot,"items",!0),this.id=Nt.id||"",this.name=Nt.name||"",this.presence=(0,Ft.getStringOption)(Nt.presence,["visible","hidden","inactive","invisible"]),this.ref=Nt.ref||"",this.save=(0,Ft.getInteger)({data:Nt.save,defaultValue:0,validate:yn=>yn===1}),this.use=Nt.use||"",this.usehref=Nt.usehref||"",this.boolean=new vt.XFAObjectArray,this.date=new vt.XFAObjectArray,this.dateTime=new vt.XFAObjectArray,this.decimal=new vt.XFAObjectArray,this.exData=new vt.XFAObjectArray,this.float=new vt.XFAObjectArray,this.image=new vt.XFAObjectArray,this.integer=new vt.XFAObjectArray,this.text=new vt.XFAObjectArray,this.time=new vt.XFAObjectArray}[wt.$toHTML](){const Nt=[];for(const yn of this[wt.$getChildren]())Nt.push(yn[wt.$text]());return Ft.HTMLResult.success(Nt)}}Et.Items=vr;class lr extends vt.XFAObject{constructor(Nt){super(Ot,"keep",!0),this.id=Nt.id||"";const yn=["none","contentArea","pageArea"];this.intact=(0,Ft.getStringOption)(Nt.intact,yn),this.next=(0,Ft.getStringOption)(Nt.next,yn),this.previous=(0,Ft.getStringOption)(Nt.previous,yn),this.use=Nt.use||"",this.usehref=Nt.usehref||"",this.extras=null}}class nr extends vt.XFAObject{constructor(Nt){super(Ot,"keyUsage");const yn=["","yes","no"];this.crlSign=(0,Ft.getStringOption)(Nt.crlSign,yn),this.dataEncipherment=(0,Ft.getStringOption)(Nt.dataEncipherment,yn),this.decipherOnly=(0,Ft.getStringOption)(Nt.decipherOnly,yn),this.digitalSignature=(0,Ft.getStringOption)(Nt.digitalSignature,yn),this.encipherOnly=(0,Ft.getStringOption)(Nt.encipherOnly,yn),this.id=Nt.id||"",this.keyAgreement=(0,Ft.getStringOption)(Nt.keyAgreement,yn),this.keyCertSign=(0,Ft.getStringOption)(Nt.keyCertSign,yn),this.keyEncipherment=(0,Ft.getStringOption)(Nt.keyEncipherment,yn),this.nonRepudiation=(0,Ft.getStringOption)(Nt.nonRepudiation,yn),this.type=(0,Ft.getStringOption)(Nt.type,["optional","required"]),this.use=Nt.use||"",this.usehref=Nt.usehref||""}}class Nr extends vt.XFAObject{constructor(Nt){super(Ot,"line",!0),this.hand=(0,Ft.getStringOption)(Nt.hand,["even","left","right"]),this.id=Nt.id||"",this.slope=(0,Ft.getStringOption)(Nt.slope,["\\","/"]),this.use=Nt.use||"",this.usehref=Nt.usehref||"",this.edge=null}[wt.$toHTML](){const Nt=this[wt.$getParent]()[wt.$getParent](),yn=this.edge||new ns({}),qn=yn[wt.$toStyle](),_i=Object.create(null),Kn=yn.presence==="visible"?yn.thickness:0;_i.strokeWidth=(0,ht.measureToString)(Kn),_i.stroke=qn.color;let is,as,gs,ms,bs="100%",Ms="100%";Nt.w<=Kn?([is,as,gs,ms]=["50%",0,"50%","100%"],bs=_i.strokeWidth):Nt.h<=Kn?([is,as,gs,ms]=[0,"50%","100%","50%"],Ms=_i.strokeWidth):this.slope==="\\"?[is,as,gs,ms]=[0,0,"100%","100%"]:[is,as,gs,ms]=[0,"100%","100%",0];const ks={name:"svg",children:[{name:"line",attributes:{xmlns:jt,x1:is,y1:as,x2:gs,y2:ms,style:_i}}],attributes:{xmlns:jt,width:bs,height:Ms,style:{overflow:"visible"}}};return gn(Nt)?Ft.HTMLResult.success({name:"div",attributes:{style:{display:"inline",width:"100%",height:"100%"}},children:[ks]}):(ks.attributes.style.position="absolute",Ft.HTMLResult.success(ks))}}class Gr extends vt.XFAObject{constructor(Nt){super(Ot,"linear",!0),this.id=Nt.id||"",this.type=(0,Ft.getStringOption)(Nt.type,["toRight","toBottom","toLeft","toTop"]),this.use=Nt.use||"",this.usehref=Nt.usehref||"",this.color=null,this.extras=null}[wt.$toStyle](Nt){Nt=Nt?Nt[wt.$toStyle]():"#FFFFFF";const yn=this.type.replace(/([RBLT])/," $1").toLowerCase(),qn=this.color?this.color[wt.$toStyle]():"#000000";return`linear-gradient(${yn}, ${Nt}, ${qn})`}}class vs extends vt.ContentObject{constructor(Nt){super(Ot,"lockDocument"),this.id=Nt.id||"",this.type=(0,Ft.getStringOption)(Nt.type,["optional","required"]),this.use=Nt.use||"",this.usehref=Nt.usehref||""}[wt.$finalize](){this[wt.$content]=(0,Ft.getStringOption)(this[wt.$content],["auto","0","1"])}}class ys extends vt.XFAObject{constructor(Nt){super(Ot,"manifest",!0),this.action=(0,Ft.getStringOption)(Nt.action,["include","all","exclude"]),this.id=Nt.id||"",this.name=Nt.name||"",this.use=Nt.use||"",this.usehref=Nt.usehref||"",this.extras=null,this.ref=new vt.XFAObjectArray}}class As extends vt.XFAObject{constructor(Nt){super(Ot,"margin",!0),this.bottomInset=(0,Ft.getMeasurement)(Nt.bottomInset,"0"),this.id=Nt.id||"",this.leftInset=(0,Ft.getMeasurement)(Nt.leftInset,"0"),this.rightInset=(0,Ft.getMeasurement)(Nt.rightInset,"0"),this.topInset=(0,Ft.getMeasurement)(Nt.topInset,"0"),this.use=Nt.use||"",this.usehref=Nt.usehref||"",this.extras=null}[wt.$toStyle](){return{margin:(0,ht.measureToString)(this.topInset)+" "+(0,ht.measureToString)(this.rightInset)+" "+(0,ht.measureToString)(this.bottomInset)+" "+(0,ht.measureToString)(this.leftInset)}}}class _s extends vt.XFAObject{constructor(Nt){super(Ot,"mdp"),this.id=Nt.id||"",this.permissions=(0,Ft.getInteger)({data:Nt.permissions,defaultValue:2,validate:yn=>yn===1||yn===3}),this.signatureType=(0,Ft.getStringOption)(Nt.signatureType,["filler","author"]),this.use=Nt.use||"",this.usehref=Nt.usehref||""}}class js extends vt.XFAObject{constructor(Nt){super(Ot,"medium"),this.id=Nt.id||"",this.imagingBBox=(0,Ft.getBBox)(Nt.imagingBBox),this.long=(0,Ft.getMeasurement)(Nt.long),this.orientation=(0,Ft.getStringOption)(Nt.orientation,["portrait","landscape"]),this.short=(0,Ft.getMeasurement)(Nt.short),this.stock=Nt.stock||"",this.trayIn=(0,Ft.getStringOption)(Nt.trayIn,["auto","delegate","pageFront"]),this.trayOut=(0,Ft.getStringOption)(Nt.trayOut,["auto","delegate"]),this.use=Nt.use||"",this.usehref=Nt.usehref||""}}class er extends vt.XFAObject{constructor(Nt){super(Ot,"message",!0),this.id=Nt.id||"",this.use=Nt.use||"",this.usehref=Nt.usehref||"",this.text=new vt.XFAObjectArray}}class Os extends vt.XFAObject{constructor(Nt){super(Ot,"numericEdit",!0),this.hScrollPolicy=(0,Ft.getStringOption)(Nt.hScrollPolicy,["auto","off","on"]),this.id=Nt.id||"",this.use=Nt.use||"",this.usehref=Nt.usehref||"",this.border=null,this.comb=null,this.extras=null,this.margin=null}[wt.$toHTML](Nt){var Kn;const yn=(0,ht.toStyle)(this,"border","font","margin"),qn=this[wt.$getParent]()[wt.$getParent](),_i={name:"input",attributes:{type:"text",fieldId:qn[wt.$uid],dataId:((Kn=qn[wt.$data])==null?void 0:Kn[wt.$uid])||qn[wt.$uid],class:["xfaTextfield"],style:yn,"aria-label":Ut(qn),"aria-required":!1}};return Wt(qn)&&(_i.attributes["aria-required"]=!0,_i.attributes.required=!0),Ft.HTMLResult.success({name:"label",attributes:{class:["xfaLabel"]},children:[_i]})}}class Ts extends vt.XFAObject{constructor(Nt){super(Ot,"occur",!0),this.id=Nt.id||"",this.initial=Nt.initial!==""?(0,Ft.getInteger)({data:Nt.initial,defaultValue:"",validate:yn=>!0}):"",this.max=Nt.max!==""?(0,Ft.getInteger)({data:Nt.max,defaultValue:1,validate:yn=>!0}):"",this.min=Nt.min!==""?(0,Ft.getInteger)({data:Nt.min,defaultValue:1,validate:yn=>!0}):"",this.use=Nt.use||"",this.usehref=Nt.usehref||"",this.extras=null}[wt.$clean](){const Nt=this[wt.$getParent](),yn=this.min;this.min===""&&(this.min=Nt instanceof Js||Nt instanceof rr?0:1),this.max===""&&(yn===""?this.max=Nt instanceof Js||Nt instanceof rr?-1:1:this.max=this.min),this.max!==-1&&this.max<this.min&&(this.max=this.min),this.initial===""&&(this.initial=Nt instanceof S0?1:this.min)}}class Ws extends vt.StringObject{constructor(Nt){super(Ot,"oid"),this.id=Nt.id||"",this.name=Nt.name||"",this.use=Nt.use||"",this.usehref=Nt.usehref||""}}class ur extends vt.XFAObject{constructor(Nt){super(Ot,"oids",!0),this.id=Nt.id||"",this.type=(0,Ft.getStringOption)(Nt.type,["optional","required"]),this.use=Nt.use||"",this.usehref=Nt.usehref||"",this.oid=new vt.XFAObjectArray}}class br extends vt.XFAObject{constructor(Nt){super(Ot,"overflow"),this.id=Nt.id||"",this.leader=Nt.leader||"",this.target=Nt.target||"",this.trailer=Nt.trailer||"",this.use=Nt.use||"",this.usehref=Nt.usehref||""}[wt.$getExtra](){if(!this[wt.$extra]){const Nt=this[wt.$getParent](),yn=this[wt.$getTemplateRoot](),qn=yn[wt.$searchNode](this.target,Nt),_i=yn[wt.$searchNode](this.leader,Nt),Kn=yn[wt.$searchNode](this.trailer,Nt);this[wt.$extra]={target:(qn==null?void 0:qn[0])||null,leader:(_i==null?void 0:_i[0])||null,trailer:(Kn==null?void 0:Kn[0])||null,addLeader:!1,addTrailer:!1}}return this[wt.$extra]}}class Js extends vt.XFAObject{constructor(Nt){super(Ot,"pageArea",!0),this.blankOrNotBlank=(0,Ft.getStringOption)(Nt.blankOrNotBlank,["any","blank","notBlank"]),this.id=Nt.id||"",this.initialNumber=(0,Ft.getInteger)({data:Nt.initialNumber,defaultValue:1,validate:yn=>!0}),this.name=Nt.name||"",this.numbered=(0,Ft.getInteger)({data:Nt.numbered,defaultValue:1,validate:yn=>!0}),this.oddOrEven=(0,Ft.getStringOption)(Nt.oddOrEven,["any","even","odd"]),this.pagePosition=(0,Ft.getStringOption)(Nt.pagePosition,["any","first","last","only","rest"]),this.relevant=(0,Ft.getRelevant)(Nt.relevant),this.use=Nt.use||"",this.usehref=Nt.usehref||"",this.desc=null,this.extras=null,this.medium=null,this.occur=null,this.area=new vt.XFAObjectArray,this.contentArea=new vt.XFAObjectArray,this.draw=new vt.XFAObjectArray,this.exclGroup=new vt.XFAObjectArray,this.field=new vt.XFAObjectArray,this.subform=new vt.XFAObjectArray}[wt.$isUsable](){return this[wt.$extra]?!this.occur||this.occur.max===-1||this[wt.$extra].numberOfUse<this.occur.max:(this[wt.$extra]={numberOfUse:0},!0)}[wt.$cleanPage](){delete this[wt.$extra]}[wt.$getNextPage](){this[wt.$extra]||(this[wt.$extra]={numberOfUse:0});const Nt=this[wt.$getParent]();return Nt.relation==="orderedOccurrence"&&this[wt.$isUsable]()?(this[wt.$extra].numberOfUse+=1,this):Nt[wt.$getNextPage]()}[wt.$getAvailableSpace](){return this[wt.$extra].space||{width:0,height:0}}[wt.$toHTML](){this[wt.$extra]||(this[wt.$extra]={numberOfUse:1});const Nt=[];this[wt.$extra].children=Nt;const yn=Object.create(null);if(this.medium&&this.medium.short&&this.medium.long){if(yn.width=(0,ht.measureToString)(this.medium.short),yn.height=(0,ht.measureToString)(this.medium.long),this[wt.$extra].space={width:this.medium.short,height:this.medium.long},this.medium.orientation==="landscape"){const qn=yn.width;yn.width=yn.height,yn.height=qn,this[wt.$extra].space={width:this.medium.long,height:this.medium.short}}}else(0,Vt.warn)("XFA - No medium specified in pageArea: please file a bug.");return this[wt.$childrenToHTML]({filter:new Set(["area","draw","field","subform"]),include:!0}),this[wt.$childrenToHTML]({filter:new Set(["contentArea"]),include:!0}),Ft.HTMLResult.success({name:"div",children:Nt,attributes:{class:["xfaPage"],id:this[wt.$uid],style:yn,xfaName:this.name}})}}class rr extends vt.XFAObject{constructor(Nt){super(Ot,"pageSet",!0),this.duplexImposition=(0,Ft.getStringOption)(Nt.duplexImposition,["longEdge","shortEdge"]),this.id=Nt.id||"",this.name=Nt.name||"",this.relation=(0,Ft.getStringOption)(Nt.relation,["orderedOccurrence","duplexPaginated","simplexPaginated"]),this.relevant=(0,Ft.getRelevant)(Nt.relevant),this.use=Nt.use||"",this.usehref=Nt.usehref||"",this.extras=null,this.occur=null,this.pageArea=new vt.XFAObjectArray,this.pageSet=new vt.XFAObjectArray}[wt.$cleanPage](){for(const Nt of this.pageArea.children)Nt[wt.$cleanPage]();for(const Nt of this.pageSet.children)Nt[wt.$cleanPage]()}[wt.$isUsable](){return!this.occur||this.occur.max===-1||this[wt.$extra].numberOfUse<this.occur.max}[wt.$getNextPage](){if(this[wt.$extra]||(this[wt.$extra]={numberOfUse:1,pageIndex:-1,pageSetIndex:-1}),this.relation==="orderedOccurrence"){if(this[wt.$extra].pageIndex+1<this.pageArea.children.length)return this[wt.$extra].pageIndex+=1,this.pageArea.children[this[wt.$extra].pageIndex][wt.$getNextPage]();if(this[wt.$extra].pageSetIndex+1<this.pageSet.children.length)return this[wt.$extra].pageSetIndex+=1,this.pageSet.children[this[wt.$extra].pageSetIndex][wt.$getNextPage]();if(this[wt.$isUsable]())return this[wt.$extra].numberOfUse+=1,this[wt.$extra].pageIndex=-1,this[wt.$extra].pageSetIndex=-1,this[wt.$getNextPage]();const Kn=this[wt.$getParent]();return Kn instanceof rr?Kn[wt.$getNextPage]():(this[wt.$cleanPage](),this[wt.$getNextPage]())}const Nt=this[wt.$getTemplateRoot]()[wt.$extra].pageNumber,yn=Nt%2===0?"even":"odd",qn=Nt===0?"first":"rest";let _i=this.pageArea.children.find(Kn=>Kn.oddOrEven===yn&&Kn.pagePosition===qn);return _i||(_i=this.pageArea.children.find(Kn=>Kn.oddOrEven==="any"&&Kn.pagePosition===qn),_i)||(_i=this.pageArea.children.find(Kn=>Kn.oddOrEven==="any"&&Kn.pagePosition==="any"),_i)?_i:this.pageArea.children[0]}}class mr extends vt.XFAObject{constructor(Nt){super(Ot,"para",!0),this.hAlign=(0,Ft.getStringOption)(Nt.hAlign,["left","center","justify","justifyAll","radix","right"]),this.id=Nt.id||"",this.lineHeight=Nt.lineHeight?(0,Ft.getMeasurement)(Nt.lineHeight,"0pt"):"",this.marginLeft=Nt.marginLeft?(0,Ft.getMeasurement)(Nt.marginLeft,"0pt"):"",this.marginRight=Nt.marginRight?(0,Ft.getMeasurement)(Nt.marginRight,"0pt"):"",this.orphans=(0,Ft.getInteger)({data:Nt.orphans,defaultValue:0,validate:yn=>yn>=0}),this.preserve=Nt.preserve||"",this.radixOffset=Nt.radixOffset?(0,Ft.getMeasurement)(Nt.radixOffset,"0pt"):"",this.spaceAbove=Nt.spaceAbove?(0,Ft.getMeasurement)(Nt.spaceAbove,"0pt"):"",this.spaceBelow=Nt.spaceBelow?(0,Ft.getMeasurement)(Nt.spaceBelow,"0pt"):"",this.tabDefault=Nt.tabDefault?(0,Ft.getMeasurement)(this.tabDefault):"",this.tabStops=(Nt.tabStops||"").trim().split(/\s+/).map((yn,qn)=>qn%2===1?(0,Ft.getMeasurement)(yn):yn),this.textIndent=Nt.textIndent?(0,Ft.getMeasurement)(Nt.textIndent,"0pt"):"",this.use=Nt.use||"",this.usehref=Nt.usehref||"",this.vAlign=(0,Ft.getStringOption)(Nt.vAlign,["top","bottom","middle"]),this.widows=(0,Ft.getInteger)({data:Nt.widows,defaultValue:0,validate:yn=>yn>=0}),this.hyphenation=null}[wt.$toStyle](){const Nt=(0,ht.toStyle)(this,"hAlign");return this.marginLeft!==""&&(Nt.paddingLeft=(0,ht.measureToString)(this.marginLeft)),this.marginRight!==""&&(Nt.paddingight=(0,ht.measureToString)(this.marginRight)),this.spaceAbove!==""&&(Nt.paddingTop=(0,ht.measureToString)(this.spaceAbove)),this.spaceBelow!==""&&(Nt.paddingBottom=(0,ht.measureToString)(this.spaceBelow)),this.textIndent!==""&&(Nt.textIndent=(0,ht.measureToString)(this.textIndent),(0,ht.fixTextIndent)(Nt)),this.lineHeight>0&&(Nt.lineHeight=(0,ht.measureToString)(this.lineHeight)),this.tabDefault!==""&&(Nt.tabSize=(0,ht.measureToString)(this.tabDefault)),this.tabStops.length>0,this.hyphenatation&&Object.assign(Nt,this.hyphenatation[wt.$toStyle]()),Nt}}class Xs extends vt.XFAObject{constructor(Nt){super(Ot,"passwordEdit",!0),this.hScrollPolicy=(0,Ft.getStringOption)(Nt.hScrollPolicy,["auto","off","on"]),this.id=Nt.id||"",this.passwordChar=Nt.passwordChar||"*",this.use=Nt.use||"",this.usehref=Nt.usehref||"",this.border=null,this.extras=null,this.margin=null}}class hr extends vt.XFAObject{constructor(Nt){super(Ot,"pattern",!0),this.id=Nt.id||"",this.type=(0,Ft.getStringOption)(Nt.type,["crossHatch","crossDiagonal","diagonalLeft","diagonalRight","horizontal","vertical"]),this.use=Nt.use||"",this.usehref=Nt.usehref||"",this.color=null,this.extras=null}[wt.$toStyle](Nt){Nt=Nt?Nt[wt.$toStyle]():"#FFFFFF";const yn=this.color?this.color[wt.$toStyle]():"#000000",qn=5,_i="repeating-linear-gradient",Kn=`${Nt},${Nt} ${qn}px,${yn} ${qn}px,${yn} ${2*qn}px`;switch(this.type){case"crossHatch":return`${_i}(to top,${Kn}) ${_i}(to right,${Kn})`;case"crossDiagonal":return`${_i}(45deg,${Kn}) ${_i}(-45deg,${Kn})`;case"diagonalLeft":return`${_i}(45deg,${Kn})`;case"diagonalRight":return`${_i}(-45deg,${Kn})`;case"horizontal":return`${_i}(to top,${Kn})`;case"vertical":return`${_i}(to right,${Kn})`}return""}}class Vs extends vt.StringObject{constructor(Nt){super(Ot,"picture"),this.id=Nt.id||"",this.use=Nt.use||"",this.usehref=Nt.usehref||""}}class gr extends vt.XFAObject{constructor(Nt){super(Ot,"proto",!0),this.appearanceFilter=new vt.XFAObjectArray,this.arc=new vt.XFAObjectArray,this.area=new vt.XFAObjectArray,this.assist=new vt.XFAObjectArray,this.barcode=new vt.XFAObjectArray,this.bindItems=new vt.XFAObjectArray,this.bookend=new vt.XFAObjectArray,this.boolean=new vt.XFAObjectArray,this.border=new vt.XFAObjectArray,this.break=new vt.XFAObjectArray,this.breakAfter=new vt.XFAObjectArray,this.breakBefore=new vt.XFAObjectArray,this.button=new vt.XFAObjectArray,this.calculate=new vt.XFAObjectArray,this.caption=new vt.XFAObjectArray,this.certificate=new vt.XFAObjectArray,this.certificates=new vt.XFAObjectArray,this.checkButton=new vt.XFAObjectArray,this.choiceList=new vt.XFAObjectArray,this.color=new vt.XFAObjectArray,this.comb=new vt.XFAObjectArray,this.connect=new vt.XFAObjectArray,this.contentArea=new vt.XFAObjectArray,this.corner=new vt.XFAObjectArray,this.date=new vt.XFAObjectArray,this.dateTime=new vt.XFAObjectArray,this.dateTimeEdit=new vt.XFAObjectArray,this.decimal=new vt.XFAObjectArray,this.defaultUi=new vt.XFAObjectArray,this.desc=new vt.XFAObjectArray,this.digestMethod=new vt.XFAObjectArray,this.digestMethods=new vt.XFAObjectArray,this.draw=new vt.XFAObjectArray,this.edge=new vt.XFAObjectArray,this.encoding=new vt.XFAObjectArray,this.encodings=new vt.XFAObjectArray,this.encrypt=new vt.XFAObjectArray,this.encryptData=new vt.XFAObjectArray,this.encryption=new vt.XFAObjectArray,this.encryptionMethod=new vt.XFAObjectArray,this.encryptionMethods=new vt.XFAObjectArray,this.event=new vt.XFAObjectArray,this.exData=new vt.XFAObjectArray,this.exObject=new vt.XFAObjectArray,this.exclGroup=new vt.XFAObjectArray,this.execute=new vt.XFAObjectArray,this.extras=new vt.XFAObjectArray,this.field=new vt.XFAObjectArray,this.fill=new vt.XFAObjectArray,this.filter=new vt.XFAObjectArray,this.float=new vt.XFAObjectArray,this.font=new vt.XFAObjectArray,this.format=new vt.XFAObjectArray,this.handler=new vt.XFAObjectArray,this.hyphenation=new vt.XFAObjectArray,this.image=new vt.XFAObjectArray,this.imageEdit=new vt.XFAObjectArray,this.integer=new vt.XFAObjectArray,this.issuers=new vt.XFAObjectArray,this.items=new vt.XFAObjectArray,this.keep=new vt.XFAObjectArray,this.keyUsage=new vt.XFAObjectArray,this.line=new vt.XFAObjectArray,this.linear=new vt.XFAObjectArray,this.lockDocument=new vt.XFAObjectArray,this.manifest=new vt.XFAObjectArray,this.margin=new vt.XFAObjectArray,this.mdp=new vt.XFAObjectArray,this.medium=new vt.XFAObjectArray,this.message=new vt.XFAObjectArray,this.numericEdit=new vt.XFAObjectArray,this.occur=new vt.XFAObjectArray,this.oid=new vt.XFAObjectArray,this.oids=new vt.XFAObjectArray,this.overflow=new vt.XFAObjectArray,this.pageArea=new vt.XFAObjectArray,this.pageSet=new vt.XFAObjectArray,this.para=new vt.XFAObjectArray,this.passwordEdit=new vt.XFAObjectArray,this.pattern=new vt.XFAObjectArray,this.picture=new vt.XFAObjectArray,this.radial=new vt.XFAObjectArray,this.reason=new vt.XFAObjectArray,this.reasons=new vt.XFAObjectArray,this.rectangle=new vt.XFAObjectArray,this.ref=new vt.XFAObjectArray,this.script=new vt.XFAObjectArray,this.setProperty=new vt.XFAObjectArray,this.signData=new vt.XFAObjectArray,this.signature=new vt.XFAObjectArray,this.signing=new vt.XFAObjectArray,this.solid=new vt.XFAObjectArray,this.speak=new vt.XFAObjectArray,this.stipple=new vt.XFAObjectArray,this.subform=new vt.XFAObjectArray,this.subformSet=new vt.XFAObjectArray,this.subjectDN=new vt.XFAObjectArray,this.subjectDNs=new vt.XFAObjectArray,this.submit=new vt.XFAObjectArray,this.text=new vt.XFAObjectArray,this.textEdit=new vt.XFAObjectArray,this.time=new vt.XFAObjectArray,this.timeStamp=new vt.XFAObjectArray,this.toolTip=new vt.XFAObjectArray,this.traversal=new vt.XFAObjectArray,this.traverse=new vt.XFAObjectArray,this.ui=new vt.XFAObjectArray,this.validate=new vt.XFAObjectArray,this.value=new vt.XFAObjectArray,this.variables=new vt.XFAObjectArray}}class wr extends vt.XFAObject{constructor(Nt){super(Ot,"radial",!0),this.id=Nt.id||"",this.type=(0,Ft.getStringOption)(Nt.type,["toEdge","toCenter"]),this.use=Nt.use||"",this.usehref=Nt.usehref||"",this.color=null,this.extras=null}[wt.$toStyle](Nt){Nt=Nt?Nt[wt.$toStyle]():"#FFFFFF";const yn=this.color?this.color[wt.$toStyle]():"#000000";return`radial-gradient(circle at center, ${this.type==="toEdge"?`${Nt},${yn}`:`${yn},${Nt}`})`}}class io extends vt.StringObject{constructor(Nt){super(Ot,"reason"),this.id=Nt.id||"",this.name=Nt.name||"",this.use=Nt.use||"",this.usehref=Nt.usehref||""}}class dr extends vt.XFAObject{constructor(Nt){super(Ot,"reasons",!0),this.id=Nt.id||"",this.type=(0,Ft.getStringOption)(Nt.type,["optional","required"]),this.use=Nt.use||"",this.usehref=Nt.usehref||"",this.reason=new vt.XFAObjectArray}}class fr extends vt.XFAObject{constructor(Nt){super(Ot,"rectangle",!0),this.hand=(0,Ft.getStringOption)(Nt.hand,["even","left","right"]),this.id=Nt.id||"",this.use=Nt.use||"",this.usehref=Nt.usehref||"",this.corner=new vt.XFAObjectArray(4),this.edge=new vt.XFAObjectArray(4),this.fill=null}[wt.$toHTML](){var ms;const Nt=this.edge.children.length?this.edge.children[0]:new ns({}),yn=Nt[wt.$toStyle](),qn=Object.create(null);((ms=this.fill)==null?void 0:ms.presence)==="visible"?Object.assign(qn,this.fill[wt.$toStyle]()):qn.fill="transparent",qn.strokeWidth=(0,ht.measureToString)(Nt.presence==="visible"?Nt.thickness:0),qn.stroke=yn.color;const Kn=(this.corner.children.length?this.corner.children[0]:new Mn({}))[wt.$toStyle](),as={name:"svg",children:[{name:"rect",attributes:{xmlns:jt,width:"100%",height:"100%",x:0,y:0,rx:Kn.radius,ry:Kn.radius,style:qn}}],attributes:{xmlns:jt,style:{overflow:"visible"},width:"100%",height:"100%"}},gs=this[wt.$getParent]()[wt.$getParent]();return gn(gs)?Ft.HTMLResult.success({name:"div",attributes:{style:{display:"inline",width:"100%",height:"100%"}},children:[as]}):(as.attributes.style.position="absolute",Ft.HTMLResult.success(as))}}class $r extends vt.StringObject{constructor(Nt){super(Ot,"ref"),this.id=Nt.id||"",this.use=Nt.use||"",this.usehref=Nt.usehref||""}}class Yr extends vt.StringObject{constructor(Nt){super(Ot,"script"),this.binding=Nt.binding||"",this.contentType=Nt.contentType||"",this.id=Nt.id||"",this.name=Nt.name||"",this.runAt=(0,Ft.getStringOption)(Nt.runAt,["client","both","server"]),this.use=Nt.use||"",this.usehref=Nt.usehref||""}}class wo extends vt.XFAObject{constructor(Nt){super(Ot,"setProperty"),this.connection=Nt.connection||"",this.ref=Nt.ref||"",this.target=Nt.target||""}}Et.SetProperty=wo;class Tl extends vt.XFAObject{constructor(Nt){super(Ot,"signData",!0),this.id=Nt.id||"",this.operation=(0,Ft.getStringOption)(Nt.operation,["sign","clear","verify"]),this.ref=Nt.ref||"",this.target=Nt.target||"",this.use=Nt.use||"",this.usehref=Nt.usehref||"",this.filter=null,this.manifest=null}}class V1 extends vt.XFAObject{constructor(Nt){super(Ot,"signature",!0),this.id=Nt.id||"",this.type=(0,Ft.getStringOption)(Nt.type,["PDF1.3","PDF1.6"]),this.use=Nt.use||"",this.usehref=Nt.usehref||"",this.border=null,this.extras=null,this.filter=null,this.manifest=null,this.margin=null}}class Tp extends vt.XFAObject{constructor(Nt){super(Ot,"signing",!0),this.id=Nt.id||"",this.type=(0,Ft.getStringOption)(Nt.type,["optional","required"]),this.use=Nt.use||"",this.usehref=Nt.usehref||"",this.certificate=new vt.XFAObjectArray}}class Pp extends vt.XFAObject{constructor(Nt){super(Ot,"solid",!0),this.id=Nt.id||"",this.use=Nt.use||"",this.usehref=Nt.usehref||"",this.extras=null}[wt.$toStyle](Nt){return Nt?Nt[wt.$toStyle]():"#FFFFFF"}}class z1 extends vt.StringObject{constructor(Nt){super(Ot,"speak"),this.disable=(0,Ft.getInteger)({data:Nt.disable,defaultValue:0,validate:yn=>yn===1}),this.id=Nt.id||"",this.priority=(0,Ft.getStringOption)(Nt.priority,["custom","caption","name","toolTip"]),this.rid=Nt.rid||"",this.use=Nt.use||"",this.usehref=Nt.usehref||""}}class v0 extends vt.XFAObject{constructor(Nt){super(Ot,"stipple",!0),this.id=Nt.id||"",this.rate=(0,Ft.getInteger)({data:Nt.rate,defaultValue:50,validate:yn=>yn>=0&&yn<=100}),this.use=Nt.use||"",this.usehref=Nt.usehref||"",this.color=null,this.extras=null}[wt.$toStyle](Nt){const yn=this.rate/100;return Vt.Util.makeHexColor(Math.round(Nt.value.r*(1-yn)+this.value.r*yn),Math.round(Nt.value.g*(1-yn)+this.value.g*yn),Math.round(Nt.value.b*(1-yn)+this.value.b*yn))}}class Rp extends vt.XFAObject{constructor(Nt){super(Ot,"subform",!0),this.access=(0,Ft.getStringOption)(Nt.access,["open","nonInteractive","protected","readOnly"]),this.allowMacro=(0,Ft.getInteger)({data:Nt.allowMacro,defaultValue:0,validate:yn=>yn===1}),this.anchorType=(0,Ft.getStringOption)(Nt.anchorType,["topLeft","bottomCenter","bottomLeft","bottomRight","middleCenter","middleLeft","middleRight","topCenter","topRight"]),this.colSpan=(0,Ft.getInteger)({data:Nt.colSpan,defaultValue:1,validate:yn=>yn>=1||yn===-1}),this.columnWidths=(Nt.columnWidths||"").trim().split(/\s+/).map(yn=>yn==="-1"?-1:(0,Ft.getMeasurement)(yn)),this.h=Nt.h?(0,Ft.getMeasurement)(Nt.h):"",this.hAlign=(0,Ft.getStringOption)(Nt.hAlign,["left","center","justify","justifyAll","radix","right"]),this.id=Nt.id||"",this.layout=(0,Ft.getStringOption)(Nt.layout,["position","lr-tb","rl-row","rl-tb","row","table","tb"]),this.locale=Nt.locale||"",this.maxH=(0,Ft.getMeasurement)(Nt.maxH,"0pt"),this.maxW=(0,Ft.getMeasurement)(Nt.maxW,"0pt"),this.mergeMode=(0,Ft.getStringOption)(Nt.mergeMode,["consumeData","matchTemplate"]),this.minH=(0,Ft.getMeasurement)(Nt.minH,"0pt"),this.minW=(0,Ft.getMeasurement)(Nt.minW,"0pt"),this.name=Nt.name||"",this.presence=(0,Ft.getStringOption)(Nt.presence,["visible","hidden","inactive","invisible"]),this.relevant=(0,Ft.getRelevant)(Nt.relevant),this.restoreState=(0,Ft.getStringOption)(Nt.restoreState,["manual","auto"]),this.scope=(0,Ft.getStringOption)(Nt.scope,["name","none"]),this.use=Nt.use||"",this.usehref=Nt.usehref||"",this.w=Nt.w?(0,Ft.getMeasurement)(Nt.w):"",this.x=(0,Ft.getMeasurement)(Nt.x,"0pt"),this.y=(0,Ft.getMeasurement)(Nt.y,"0pt"),this.assist=null,this.bind=null,this.bookend=null,this.border=null,this.break=null,this.calculate=null,this.desc=null,this.extras=null,this.keep=null,this.margin=null,this.occur=null,this.overflow=null,this.pageSet=null,this.para=null,this.traversal=null,this.validate=null,this.variables=null,this.area=new vt.XFAObjectArray,this.breakAfter=new vt.XFAObjectArray,this.breakBefore=new vt.XFAObjectArray,this.connect=new vt.XFAObjectArray,this.draw=new vt.XFAObjectArray,this.event=new vt.XFAObjectArray,this.exObject=new vt.XFAObjectArray,this.exclGroup=new vt.XFAObjectArray,this.field=new vt.XFAObjectArray,this.proto=new vt.XFAObjectArray,this.setProperty=new vt.XFAObjectArray,this.subform=new vt.XFAObjectArray,this.subformSet=new vt.XFAObjectArray}[wt.$getSubformParent](){const Nt=this[wt.$getParent]();return Nt instanceof w0?Nt[wt.$getSubformParent]():Nt}[wt.$isBindable](){return!0}[wt.$isThereMoreWidth](){return this.layout.endsWith("-tb")&&this[wt.$extra].attempt===0&&this[wt.$extra].numberInLine>0||this[wt.$getParent]()[wt.$isThereMoreWidth]()}*[wt.$getContainedChildren](){yield*bn(this)}[wt.$flushHTML](){return(0,_t.flushHTML)(this)}[wt.$addHTML](Nt,yn){(0,_t.addHTML)(this,Nt,yn)}[wt.$getAvailableSpace](){return(0,_t.getAvailableSpace)(this)}[wt.$isSplittable](){var yn;const Nt=this[wt.$getSubformParent]();return Nt[wt.$isSplittable]()?this[wt.$extra]._isSplittable!==void 0?this[wt.$extra]._isSplittable:this.layout==="position"||this.layout.includes("row")?(this[wt.$extra]._isSplittable=!1,!1):this.keep&&this.keep.intact!=="none"?(this[wt.$extra]._isSplittable=!1,!1):(yn=Nt.layout)!=null&&yn.endsWith("-tb")&&Nt[wt.$extra].numberInLine!==0?!1:(this[wt.$extra]._isSplittable=!0,!0):!1}[wt.$toHTML](Nt){var Bs;if(Yt(this),this.break){if(this.break.after!=="auto"||this.break.afterTarget!==""){const Ns=new Tn({targetType:this.break.after,target:this.break.afterTarget,startNew:this.break.startNew.toString()});Ns[wt.$globalData]=this[wt.$globalData],this[wt.$appendChild](Ns),this.breakAfter.push(Ns)}if(this.break.before!=="auto"||this.break.beforeTarget!==""){const Ns=new An({targetType:this.break.before,target:this.break.beforeTarget,startNew:this.break.startNew.toString()});Ns[wt.$globalData]=this[wt.$globalData],this[wt.$appendChild](Ns),this.breakBefore.push(Ns)}if(this.break.overflowTarget!==""){const Ns=new br({target:this.break.overflowTarget,leader:this.break.overflowLeader,trailer:this.break.overflowTrailer});Ns[wt.$globalData]=this[wt.$globalData],this[wt.$appendChild](Ns),this.overflow.push(Ns)}this[wt.$removeChild](this.break),this.break=null}if(this.presence==="hidden"||this.presence==="inactive")return Ft.HTMLResult.EMPTY;if((this.breakBefore.children.length>1||this.breakAfter.children.length>1)&&(0,Vt.warn)("XFA - Several breakBefore or breakAfter in subforms: please file a bug."),this.breakBefore.children.length>=1){const Ns=this.breakBefore.children[0];if(zt(Ns))return Ft.HTMLResult.breakNode(Ns)}if((Bs=this[wt.$extra])!=null&&Bs.afterBreakAfter)return Ft.HTMLResult.EMPTY;(0,ht.fixDimensions)(this);const yn=[],qn={id:this[wt.$uid],class:[]};(0,ht.setAccess)(this,qn.class),this[wt.$extra]||(this[wt.$extra]=Object.create(null)),Object.assign(this[wt.$extra],{children:yn,line:null,attributes:qn,attempt:0,numberInLine:0,availableSpace:{width:Math.min(this.w||1/0,Nt.width),height:Math.min(this.h||1/0,Nt.height)},width:0,height:0,prevHeight:0,currentWidth:0});const _i=this[wt.$getTemplateRoot](),Kn=_i[wt.$extra].noLayoutFailure,is=this[wt.$isSplittable]();if(is||Ht(this),!(0,_t.checkDimensions)(this,Nt))return Ft.HTMLResult.FAILURE;const as=new Set(["area","draw","exclGroup","field","subform","subformSet"]);if(this.layout.includes("row")){const Ns=this[wt.$getSubformParent]().columnWidths;Array.isArray(Ns)&&Ns.length>0&&(this[wt.$extra].columnWidths=Ns,this[wt.$extra].currentColumn=0)}const gs=(0,ht.toStyle)(this,"anchorType","dimensions","position","presence","border","margin","hAlign"),ms=["xfaSubform"],bs=(0,ht.layoutClass)(this);if(bs&&ms.push(bs),qn.style=gs,qn.class=ms,this.name&&(qn.xfaName=this.name),this.overflow){const Ns=this.overflow[wt.$getExtra]();Ns.addLeader&&(Ns.addLeader=!1,Xt(this,Ns.leader,Nt))}this[wt.$pushPara]();const Ms=this.layout==="lr-tb"||this.layout==="rl-tb",Cs=Ms?Rt:1;for(;this[wt.$extra].attempt<Cs;this[wt.$extra].attempt++){Ms&&this[wt.$extra].attempt===Rt-1&&(this[wt.$extra].numberInLine=0);const Ns=this[wt.$childrenToHTML]({filter:as,include:!0});if(Ns.success)break;if(Ns.isBreak())return this[wt.$popPara](),Ns;if(Ms&&this[wt.$extra].attempt===0&&this[wt.$extra].numberInLine===0&&!_i[wt.$extra].noLayoutFailure){this[wt.$extra].attempt=Cs;break}}if(this[wt.$popPara](),is||sn(this),_i[wt.$extra].noLayoutFailure=Kn,this[wt.$extra].attempt===Cs)return this.overflow&&(this[wt.$getTemplateRoot]()[wt.$extra].overflowNode=this.overflow),is||delete this[wt.$extra],Ft.HTMLResult.FAILURE;if(this.overflow){const Ns=this.overflow[wt.$getExtra]();Ns.addTrailer&&(Ns.addTrailer=!1,Xt(this,Ns.trailer,Nt))}let ks=0,tr=0;this.margin&&(ks=this.margin.leftInset+this.margin.rightInset,tr=this.margin.topInset+this.margin.bottomInset);const Is=Math.max(this[wt.$extra].width+ks,this.w||0),Gs=Math.max(this[wt.$extra].height+tr,this.h||0),zs=[this.x,this.y,Is,Gs];if(this.w===""&&(gs.width=(0,ht.measureToString)(Is)),this.h===""&&(gs.height=(0,ht.measureToString)(Gs)),(gs.width==="0px"||gs.height==="0px")&&yn.length===0)return Ft.HTMLResult.EMPTY;const Hs={name:"div",attributes:qn,children:yn};dn(this,qn);const Qs=Ft.HTMLResult.success((0,ht.createWrapper)(this,Hs),zs);if(this.breakAfter.children.length>=1){const Ns=this.breakAfter.children[0];if(zt(Ns))return this[wt.$extra].afterBreakAfter=Qs,Ft.HTMLResult.breakNode(Ns)}return delete this[wt.$extra],Qs}}class w0 extends vt.XFAObject{constructor(Nt){super(Ot,"subformSet",!0),this.id=Nt.id||"",this.name=Nt.name||"",this.relation=(0,Ft.getStringOption)(Nt.relation,["ordered","choice","unordered"]),this.relevant=(0,Ft.getRelevant)(Nt.relevant),this.use=Nt.use||"",this.usehref=Nt.usehref||"",this.bookend=null,this.break=null,this.desc=null,this.extras=null,this.occur=null,this.overflow=null,this.breakAfter=new vt.XFAObjectArray,this.breakBefore=new vt.XFAObjectArray,this.subform=new vt.XFAObjectArray,this.subformSet=new vt.XFAObjectArray}*[wt.$getContainedChildren](){yield*bn(this)}[wt.$getSubformParent](){let Nt=this[wt.$getParent]();for(;!(Nt instanceof Rp);)Nt=Nt[wt.$getParent]();return Nt}[wt.$isBindable](){return!0}}class Vl extends vt.ContentObject{constructor(Nt){super(Ot,"subjectDN"),this.delimiter=Nt.delimiter||",",this.id=Nt.id||"",this.name=Nt.name||"",this.use=Nt.use||"",this.usehref=Nt.usehref||""}[wt.$finalize](){this[wt.$content]=new Map(this[wt.$content].split(this.delimiter).map(Nt=>(Nt=Nt.split("=",2),Nt[0]=Nt[0].trim(),Nt)))}}class X1 extends vt.XFAObject{constructor(Nt){super(Ot,"subjectDNs",!0),this.id=Nt.id||"",this.type=(0,Ft.getStringOption)(Nt.type,["optional","required"]),this.use=Nt.use||"",this.usehref=Nt.usehref||"",this.subjectDN=new vt.XFAObjectArray}}class Fp extends vt.XFAObject{constructor(Nt){super(Ot,"submit",!0),this.embedPDF=(0,Ft.getInteger)({data:Nt.embedPDF,defaultValue:0,validate:yn=>yn===1}),this.format=(0,Ft.getStringOption)(Nt.format,["xdp","formdata","pdf","urlencoded","xfd","xml"]),this.id=Nt.id||"",this.target=Nt.target||"",this.textEncoding=(0,Ft.getKeyword)({data:Nt.textEncoding?Nt.textEncoding.toLowerCase():"",defaultValue:"",validate:yn=>["utf-8","big-five","fontspecific","gbk","gb-18030","gb-2312","ksc-5601","none","shift-jis","ucs-2","utf-16"].includes(yn)||yn.match(/iso-8859-\d{2}/)}),this.use=Nt.use||"",this.usehref=Nt.usehref||"",this.xdpContent=Nt.xdpContent||"",this.encrypt=null,this.encryptData=new vt.XFAObjectArray,this.signData=new vt.XFAObjectArray}}class S0 extends vt.XFAObject{constructor(Nt){super(Ot,"template",!0),this.baseProfile=(0,Ft.getStringOption)(Nt.baseProfile,["full","interactiveForms"]),this.extras=null,this.subform=new vt.XFAObjectArray}[wt.$finalize](){this.subform.children.length===0&&(0,Vt.warn)("XFA - No subforms in template node."),this.subform.children.length>=2&&(0,Vt.warn)("XFA - Several subforms in template node: please file a bug."),this[wt.$tabIndex]=Bt}[wt.$isSplittable](){return!0}[wt.$searchNode](Nt,yn){return Nt.startsWith("#")?[this[wt.$ids].get(Nt.slice(1))]:(0,$t.searchNode)(this,yn,Nt,!0,!0)}*[wt.$toPages](){var tr,Is,Gs;if(!this.subform.children.length)return Ft.HTMLResult.success({name:"div",children:[]});this[wt.$extra]={overflowNode:null,firstUnsplittable:null,currentContentArea:null,currentPageArea:null,noLayoutFailure:!1,pageNumber:1,pagePosition:"first",oddOrEven:"odd",blankOrNotBlank:"nonBlank",paraStack:[]};const Nt=this.subform.children[0];Nt.pageSet[wt.$cleanPage]();const yn=Nt.pageSet.pageArea.children,qn={name:"div",children:[]};let _i=null,Kn=null,is=null;if(Nt.breakBefore.children.length>=1?(Kn=Nt.breakBefore.children[0],is=Kn.target):Nt.subform.children.length>=1&&Nt.subform.children[0].breakBefore.children.length>=1?(Kn=Nt.subform.children[0].breakBefore.children[0],is=Kn.target):(tr=Nt.break)!=null&&tr.beforeTarget?(Kn=Nt.break,is=Kn.beforeTarget):Nt.subform.children.length>=1&&((Is=Nt.subform.children[0].break)!=null&&Is.beforeTarget)&&(Kn=Nt.subform.children[0].break,is=Kn.beforeTarget),Kn){const zs=this[wt.$searchNode](is,Kn[wt.$getParent]());zs instanceof Js&&(_i=zs,Kn[wt.$extra]={})}_i||(_i=yn[0]),_i[wt.$extra]={numberOfUse:1};const as=_i[wt.$getParent]();as[wt.$extra]={numberOfUse:1,pageIndex:as.pageArea.children.indexOf(_i),pageSetIndex:0};let gs,ms=null,bs=null,Ms=!0,Cs=0,ks=0;for(;;){if(Ms)Cs=0;else if(qn.children.pop(),++Cs===Kt)return(0,Vt.warn)("XFA - Something goes wrong: please file a bug."),qn;gs=null,this[wt.$extra].currentPageArea=_i;const zs=_i[wt.$toHTML]().html;qn.children.push(zs),ms&&(this[wt.$extra].noLayoutFailure=!0,zs.children.push(ms[wt.$toHTML](_i[wt.$extra].space).html),ms=null),bs&&(this[wt.$extra].noLayoutFailure=!0,zs.children.push(bs[wt.$toHTML](_i[wt.$extra].space).html),bs=null);const Hs=_i.contentArea.children,Qs=zs.children.filter(Ns=>Ns.attributes.class.includes("xfaContentarea"));Ms=!1,this[wt.$extra].firstUnsplittable=null,this[wt.$extra].noLayoutFailure=!1;const Bs=Ns=>{var kr;const Er=Nt[wt.$flushHTML]();Er&&(Ms||(Ms=((kr=Er.children)==null?void 0:kr.length)>0),Qs[Ns].children.push(Er))};for(let Ns=ks,Er=Hs.length;Ns<Er;Ns++){const kr=this[wt.$extra].currentContentArea=Hs[Ns],Fr={width:kr.w,height:kr.h};ks=0,ms&&(Qs[Ns].children.push(ms[wt.$toHTML](Fr).html),ms=null),bs&&(Qs[Ns].children.push(bs[wt.$toHTML](Fr).html),bs=null);const Rr=Nt[wt.$toHTML](Fr);if(Rr.success)return Rr.html?(Ms||(Ms=((Gs=Rr.html.children)==null?void 0:Gs.length)>0),Qs[Ns].children.push(Rr.html)):!Ms&&qn.children.length>1&&qn.children.pop(),qn;if(Rr.isBreak()){const Mr=Rr.breakNode;if(Bs(Ns),Mr.targetType==="auto")continue;Mr.leader&&(ms=this[wt.$searchNode](Mr.leader,Mr[wt.$getParent]()),ms=ms?ms[0]:null),Mr.trailer&&(bs=this[wt.$searchNode](Mr.trailer,Mr[wt.$getParent]()),bs=bs?bs[0]:null),Mr.targetType==="pageArea"?(gs=Mr[wt.$extra].target,Ns=1/0):Mr[wt.$extra].target?(gs=Mr[wt.$extra].target,ks=Mr[wt.$extra].index+1,Ns=1/0):Ns=Mr[wt.$extra].index;continue}if(this[wt.$extra].overflowNode){const Mr=this[wt.$extra].overflowNode;this[wt.$extra].overflowNode=null;const Ur=Mr[wt.$getExtra](),Zr=Ur.target;Ur.addLeader=Ur.leader!==null,Ur.addTrailer=Ur.trailer!==null,Bs(Ns);const eo=Ns;if(Ns=1/0,Zr instanceof Js)gs=Zr;else if(Zr instanceof Rn){const Jr=Hs.indexOf(Zr);Jr!==-1?Jr>eo?Ns=Jr-1:ks=Jr:(gs=Zr[wt.$getParent](),ks=gs.contentArea.children.indexOf(Zr))}continue}Bs(Ns)}this[wt.$extra].pageNumber+=1,gs&&(gs[wt.$isUsable]()?gs[wt.$extra].numberOfUse+=1:gs=null),_i=gs||_i[wt.$getNextPage](),yield null}}}Et.Template=S0;class cu extends vt.ContentObject{constructor(Nt){super(Ot,"text"),this.id=Nt.id||"",this.maxChars=(0,Ft.getInteger)({data:Nt.maxChars,defaultValue:0,validate:yn=>yn>=0}),this.name=Nt.name||"",this.rid=Nt.rid||"",this.use=Nt.use||"",this.usehref=Nt.usehref||""}[wt.$acceptWhitespace](){return!0}[wt.$onChild](Nt){return Nt[wt.$namespaceId]===kt.NamespaceIds.xhtml.id?(this[wt.$content]=Nt,!0):((0,Vt.warn)(`XFA - Invalid content in Text: ${Nt[wt.$nodeName]}.`),!1)}[wt.$onText](Nt){this[wt.$content]instanceof vt.XFAObject||super[wt.$onText](Nt)}[wt.$finalize](){typeof this[wt.$content]=="string"&&(this[wt.$content]=this[wt.$content].replaceAll(`\r
`,`
`))}[wt.$getExtra](){return typeof this[wt.$content]=="string"?this[wt.$content].split(/[\u2029\u2028\n]/).reduce((Nt,yn)=>(yn&&Nt.push(yn),Nt),[]).join(`
`):this[wt.$content][wt.$text]()}[wt.$toHTML](Nt){if(typeof this[wt.$content]=="string"){const yn=Mt(this[wt.$content]).html;return this[wt.$content].includes("\u2029")?(yn.name="div",yn.children=[],this[wt.$content].split("\u2029").map(qn=>qn.split(/[\u2028\n]/).reduce((_i,Kn)=>(_i.push({name:"span",value:Kn},{name:"br"}),_i),[])).forEach(qn=>{yn.children.push({name:"p",children:qn})})):/[\u2028\n]/.test(this[wt.$content])&&(yn.name="div",yn.children=[],this[wt.$content].split(/[\u2028\n]/).forEach(qn=>{yn.children.push({name:"span",value:qn},{name:"br"})})),Ft.HTMLResult.success(yn)}return this[wt.$content][wt.$toHTML](Nt)}}Et.Text=cu;class Vu extends vt.XFAObject{constructor(Nt){super(Ot,"textEdit",!0),this.allowRichText=(0,Ft.getInteger)({data:Nt.allowRichText,defaultValue:0,validate:yn=>yn===1}),this.hScrollPolicy=(0,Ft.getStringOption)(Nt.hScrollPolicy,["auto","off","on"]),this.id=Nt.id||"",this.multiLine=(0,Ft.getInteger)({data:Nt.multiLine,defaultValue:"",validate:yn=>yn===0||yn===1}),this.use=Nt.use||"",this.usehref=Nt.usehref||"",this.vScrollPolicy=(0,Ft.getStringOption)(Nt.vScrollPolicy,["auto","off","on"]),this.border=null,this.comb=null,this.extras=null,this.margin=null}[wt.$toHTML](Nt){var Kn,is;const yn=(0,ht.toStyle)(this,"border","font","margin");let qn;const _i=this[wt.$getParent]()[wt.$getParent]();return this.multiLine===""&&(this.multiLine=_i instanceof zn?1:0),this.multiLine===1?qn={name:"textarea",attributes:{dataId:((Kn=_i[wt.$data])==null?void 0:Kn[wt.$uid])||_i[wt.$uid],fieldId:_i[wt.$uid],class:["xfaTextfield"],style:yn,"aria-label":Ut(_i),"aria-required":!1}}:qn={name:"input",attributes:{type:"text",dataId:((is=_i[wt.$data])==null?void 0:is[wt.$uid])||_i[wt.$uid],fieldId:_i[wt.$uid],class:["xfaTextfield"],style:yn,"aria-label":Ut(_i),"aria-required":!1}},Wt(_i)&&(qn.attributes["aria-required"]=!0,qn.attributes.required=!0),Ft.HTMLResult.success({name:"label",attributes:{class:["xfaLabel"]},children:[qn]})}}class W1 extends vt.StringObject{constructor(Nt){super(Ot,"time"),this.id=Nt.id||"",this.name=Nt.name||"",this.use=Nt.use||"",this.usehref=Nt.usehref||""}[wt.$finalize](){const Nt=this[wt.$content].trim();this[wt.$content]=Nt?new Date(Nt):null}[wt.$toHTML](Nt){return Mt(this[wt.$content]?this[wt.$content].toString():"")}}class _p extends vt.XFAObject{constructor(Nt){super(Ot,"timeStamp"),this.id=Nt.id||"",this.server=Nt.server||"",this.type=(0,Ft.getStringOption)(Nt.type,["optional","required"]),this.use=Nt.use||"",this.usehref=Nt.usehref||""}}class Mp extends vt.StringObject{constructor(Nt){super(Ot,"toolTip"),this.id=Nt.id||"",this.rid=Nt.rid||"",this.use=Nt.use||"",this.usehref=Nt.usehref||""}}class A0 extends vt.XFAObject{constructor(Nt){super(Ot,"traversal",!0),this.id=Nt.id||"",this.use=Nt.use||"",this.usehref=Nt.usehref||"",this.extras=null,this.traverse=new vt.XFAObjectArray}}class G1 extends vt.XFAObject{constructor(Nt){super(Ot,"traverse",!0),this.id=Nt.id||"",this.operation=(0,Ft.getStringOption)(Nt.operation,["next","back","down","first","left","right","up"]),this.ref=Nt.ref||"",this.use=Nt.use||"",this.usehref=Nt.usehref||"",this.extras=null,this.script=null}get name(){return this.operation}[wt.$isTransparent](){return!1}}class E0 extends vt.XFAObject{constructor(Nt){super(Ot,"ui",!0),this.id=Nt.id||"",this.use=Nt.use||"",this.usehref=Nt.usehref||"",this.extras=null,this.picture=null,this.barcode=null,this.button=null,this.checkButton=null,this.choiceList=null,this.dateTimeEdit=null,this.defaultUi=null,this.imageEdit=null,this.numericEdit=null,this.passwordEdit=null,this.signature=null,this.textEdit=null}[wt.$getExtra](){if(this[wt.$extra]===void 0){for(const Nt of Object.getOwnPropertyNames(this)){if(Nt==="extras"||Nt==="picture")continue;const yn=this[Nt];if(yn instanceof vt.XFAObject)return this[wt.$extra]=yn,yn}this[wt.$extra]=null}return this[wt.$extra]}[wt.$toHTML](Nt){const yn=this[wt.$getExtra]();return yn?yn[wt.$toHTML](Nt):Ft.HTMLResult.EMPTY}}class q1 extends vt.XFAObject{constructor(Nt){super(Ot,"validate",!0),this.formatTest=(0,Ft.getStringOption)(Nt.formatTest,["warning","disabled","error"]),this.id=Nt.id||"",this.nullTest=(0,Ft.getStringOption)(Nt.nullTest,["disabled","error","warning"]),this.scriptTest=(0,Ft.getStringOption)(Nt.scriptTest,["error","disabled","warning"]),this.use=Nt.use||"",this.usehref=Nt.usehref||"",this.extras=null,this.message=null,this.picture=null,this.script=null}}class jn extends vt.XFAObject{constructor(Nt){super(Ot,"value",!0),this.id=Nt.id||"",this.override=(0,Ft.getInteger)({data:Nt.override,defaultValue:0,validate:yn=>yn===1}),this.relevant=(0,Ft.getRelevant)(Nt.relevant),this.use=Nt.use||"",this.usehref=Nt.usehref||"",this.arc=null,this.boolean=null,this.date=null,this.dateTime=null,this.decimal=null,this.exData=null,this.float=null,this.image=null,this.integer=null,this.line=null,this.rectangle=null,this.text=null,this.time=null}[wt.$setValue](Nt){var _i;const yn=this[wt.$getParent]();if(yn instanceof os&&(_i=yn.ui)!=null&&_i.imageEdit){this.image||(this.image=new Es({}),this[wt.$appendChild](this.image)),this.image[wt.$content]=Nt[wt.$content];return}const qn=Nt[wt.$nodeName];if(this[qn]!==null){this[qn][wt.$content]=Nt[wt.$content];return}for(const Kn of Object.getOwnPropertyNames(this)){const is=this[Kn];is instanceof vt.XFAObject&&(this[Kn]=null,this[wt.$removeChild](is))}this[Nt[wt.$nodeName]]=Nt,this[wt.$appendChild](Nt)}[wt.$text](){if(this.exData)return typeof this.exData[wt.$content]=="string"?this.exData[wt.$content].trim():this.exData[wt.$content][wt.$text]().trim();for(const Nt of Object.getOwnPropertyNames(this)){if(Nt==="image")continue;const yn=this[Nt];if(yn instanceof vt.XFAObject)return(yn[wt.$content]||"").toString().trim()}return null}[wt.$toHTML](Nt){for(const yn of Object.getOwnPropertyNames(this)){const qn=this[yn];if(qn instanceof vt.XFAObject)return qn[wt.$toHTML](Nt)}return Ft.HTMLResult.EMPTY}}Et.Value=jn;class Gn extends vt.XFAObject{constructor(Nt){super(Ot,"variables",!0),this.id=Nt.id||"",this.use=Nt.use||"",this.usehref=Nt.usehref||"",this.boolean=new vt.XFAObjectArray,this.date=new vt.XFAObjectArray,this.dateTime=new vt.XFAObjectArray,this.decimal=new vt.XFAObjectArray,this.exData=new vt.XFAObjectArray,this.float=new vt.XFAObjectArray,this.image=new vt.XFAObjectArray,this.integer=new vt.XFAObjectArray,this.manifest=new vt.XFAObjectArray,this.script=new vt.XFAObjectArray,this.text=new vt.XFAObjectArray,this.time=new vt.XFAObjectArray}[wt.$isTransparent](){return!0}}class ss{static[kt.$buildXFAObject](Nt,yn){if(ss.hasOwnProperty(Nt)){const qn=ss[Nt](yn);return qn[wt.$setSetAttributes](yn),qn}}static appearanceFilter(Nt){return new Qt(Nt)}static arc(Nt){return new ln(Nt)}static area(Nt){return new on(Nt)}static assist(Nt){return new cn(Nt)}static barcode(Nt){return new rn(Nt)}static bind(Nt){return new an(Nt)}static bindItems(Nt){return new xn(Nt)}static bookend(Nt){return new wn(Nt)}static boolean(Nt){return new En(Nt)}static border(Nt){return new Fn(Nt)}static break(Nt){return new In(Nt)}static breakAfter(Nt){return new Tn(Nt)}static breakBefore(Nt){return new An(Nt)}static button(Nt){return new mn(Nt)}static calculate(Nt){return new pn(Nt)}static caption(Nt){return new Jt(Nt)}static certificate(Nt){return new un(Nt)}static certificates(Nt){return new fn(Nt)}static checkButton(Nt){return new Sn(Nt)}static choiceList(Nt){return new kn(Nt)}static color(Nt){return new Pn(Nt)}static comb(Nt){return new Cn(Nt)}static connect(Nt){return new vn(Nt)}static contentArea(Nt){return new Rn(Nt)}static corner(Nt){return new Mn(Nt)}static date(Nt){return new _n(Nt)}static dateTime(Nt){return new Dn(Nt)}static dateTimeEdit(Nt){return new Ln(Nt)}static decimal(Nt){return new Un(Nt)}static defaultUi(Nt){return new ts(Nt)}static desc(Nt){return new es(Nt)}static digestMethod(Nt){return new Qn(Nt)}static digestMethods(Nt){return new Yn(Nt)}static draw(Nt){return new zn(Nt)}static edge(Nt){return new ns(Nt)}static encoding(Nt){return new ls(Nt)}static encodings(Nt){return new ds(Nt)}static encrypt(Nt){return new Bn(Nt)}static encryptData(Nt){return new Hn(Nt)}static encryption(Nt){return new Xn(Nt)}static encryptionMethod(Nt){return new cs(Nt)}static encryptionMethods(Nt){return new rs(Nt)}static event(Nt){return new xs(Nt)}static exData(Nt){return new Jn(Nt)}static exObject(Nt){return new Wn(Nt)}static exclGroup(Nt){return new Zn(Nt)}static execute(Nt){return new us(Nt)}static extras(Nt){return new hs(Nt)}static field(Nt){return new os(Nt)}static fill(Nt){return new ps(Nt)}static filter(Nt){return new ws(Nt)}static float(Nt){return new fs(Nt)}static font(Nt){return new Ss(Nt)}static format(Nt){return new Ls(Nt)}static handler(Nt){return new Fs(Nt)}static hyphenation(Nt){return new $s(Nt)}static image(Nt){return new Es(Nt)}static imageEdit(Nt){return new Ps(Nt)}static integer(Nt){return new Rs(Nt)}static issuers(Nt){return new qs(Nt)}static items(Nt){return new vr(Nt)}static keep(Nt){return new lr(Nt)}static keyUsage(Nt){return new nr(Nt)}static line(Nt){return new Nr(Nt)}static linear(Nt){return new Gr(Nt)}static lockDocument(Nt){return new vs(Nt)}static manifest(Nt){return new ys(Nt)}static margin(Nt){return new As(Nt)}static mdp(Nt){return new _s(Nt)}static medium(Nt){return new js(Nt)}static message(Nt){return new er(Nt)}static numericEdit(Nt){return new Os(Nt)}static occur(Nt){return new Ts(Nt)}static oid(Nt){return new Ws(Nt)}static oids(Nt){return new ur(Nt)}static overflow(Nt){return new br(Nt)}static pageArea(Nt){return new Js(Nt)}static pageSet(Nt){return new rr(Nt)}static para(Nt){return new mr(Nt)}static passwordEdit(Nt){return new Xs(Nt)}static pattern(Nt){return new hr(Nt)}static picture(Nt){return new Vs(Nt)}static proto(Nt){return new gr(Nt)}static radial(Nt){return new wr(Nt)}static reason(Nt){return new io(Nt)}static reasons(Nt){return new dr(Nt)}static rectangle(Nt){return new fr(Nt)}static ref(Nt){return new $r(Nt)}static script(Nt){return new Yr(Nt)}static setProperty(Nt){return new wo(Nt)}static signData(Nt){return new Tl(Nt)}static signature(Nt){return new V1(Nt)}static signing(Nt){return new Tp(Nt)}static solid(Nt){return new Pp(Nt)}static speak(Nt){return new z1(Nt)}static stipple(Nt){return new v0(Nt)}static subform(Nt){return new Rp(Nt)}static subformSet(Nt){return new w0(Nt)}static subjectDN(Nt){return new Vl(Nt)}static subjectDNs(Nt){return new X1(Nt)}static submit(Nt){return new Fp(Nt)}static template(Nt){return new S0(Nt)}static text(Nt){return new cu(Nt)}static textEdit(Nt){return new Vu(Nt)}static time(Nt){return new W1(Nt)}static timeStamp(Nt){return new _p(Nt)}static toolTip(Nt){return new Mp(Nt)}static traversal(Nt){return new A0(Nt)}static traverse(Nt){return new G1(Nt)}static ui(Nt){return new E0(Nt)}static validate(Nt){return new q1(Nt)}static value(Nt){return new jn(Nt)}static variables(Nt){return new Gn(Nt)}}Et.TemplateNamespace=ss},(Ct,Et)=>{Object.defineProperty(Et,"__esModule",{value:!0}),Et.NamespaceIds=Et.$buildXFAObject=void 0;const Pt=Symbol();Et.$buildXFAObject=Pt;const wt={config:{id:0,check:kt=>kt.startsWith("http://www.xfa.org/schema/xci/")},connectionSet:{id:1,check:kt=>kt.startsWith("http://www.xfa.org/schema/xfa-connection-set/")},datasets:{id:2,check:kt=>kt.startsWith("http://www.xfa.org/schema/xfa-data/")},form:{id:3,check:kt=>kt.startsWith("http://www.xfa.org/schema/xfa-form/")},localeSet:{id:4,check:kt=>kt.startsWith("http://www.xfa.org/schema/xfa-locale-set/")},pdf:{id:5,check:kt=>kt==="http://ns.adobe.com/xdp/pdf/"},signature:{id:6,check:kt=>kt==="http://www.w3.org/2000/09/xmldsig#"},sourceSet:{id:7,check:kt=>kt.startsWith("http://www.xfa.org/schema/xfa-source-set/")},stylesheet:{id:8,check:kt=>kt==="http://www.w3.org/1999/XSL/Transform"},template:{id:9,check:kt=>kt.startsWith("http://www.xfa.org/schema/xfa-template/")},xdc:{id:10,check:kt=>kt.startsWith("http://www.xfa.org/schema/xdc/")},xdp:{id:11,check:kt=>kt==="http://ns.adobe.com/xdp/"},xfdf:{id:12,check:kt=>kt==="http://ns.adobe.com/xfdf/"},xhtml:{id:13,check:kt=>kt==="http://www.w3.org/1999/xhtml"},xmpmeta:{id:14,check:kt=>kt==="http://ns.adobe.com/xmpmeta/"}};Et.NamespaceIds=wt},(Ct,Et,Pt)=>{Object.defineProperty(Et,"__esModule",{value:!0}),Et.addHTML=vt,Et.checkDimensions=qt,Et.flushHTML=ht,Et.getAvailableSpace=Ft;var wt=Pt(78),kt=Pt(83);function _t(Lt,$t){return{name:"div",attributes:{class:[Lt.layout==="lr-tb"?"xfaLr":"xfaRl"]},children:$t}}function ht(Lt){if(!Lt[wt.$extra])return null;const Ot={name:"div",attributes:Lt[wt.$extra].attributes,children:Lt[wt.$extra].children};if(Lt[wt.$extra].failingNode){const jt=Lt[wt.$extra].failingNode[wt.$flushHTML]();jt&&(Lt.layout.endsWith("-tb")?Ot.children.push(_t(Lt,[jt])):Ot.children.push(jt))}return Ot.children.length===0?null:Ot}function vt(Lt,$t,Ot){const jt=Lt[wt.$extra],Rt=jt.availableSpace,[Kt,Bt,Gt,en]=Ot;switch(Lt.layout){case"position":{jt.width=Math.max(jt.width,Kt+Gt),jt.height=Math.max(jt.height,Bt+en),jt.children.push($t);break}case"lr-tb":case"rl-tb":(!jt.line||jt.attempt===1)&&(jt.line=_t(Lt,[]),jt.children.push(jt.line),jt.numberInLine=0),jt.numberInLine+=1,jt.line.children.push($t),jt.attempt===0?(jt.currentWidth+=Gt,jt.height=Math.max(jt.height,jt.prevHeight+en)):(jt.currentWidth=Gt,jt.prevHeight=jt.height,jt.height+=en,jt.attempt=0),jt.width=Math.max(jt.width,jt.currentWidth);break;case"rl-row":case"row":{jt.children.push($t),jt.width+=Gt,jt.height=Math.max(jt.height,en);const hn=(0,kt.measureToString)(jt.height);for(const tn of jt.children)tn.attributes.style.height=hn;break}case"table":{jt.width=Math.min(Rt.width,Math.max(jt.width,Gt)),jt.height+=en,jt.children.push($t);break}case"tb":{jt.width=Math.min(Rt.width,Math.max(jt.width,Gt)),jt.height+=en,jt.children.push($t);break}}}function Ft(Lt){const $t=Lt[wt.$extra].availableSpace,Ot=Lt.margin?Lt.margin.topInset+Lt.margin.bottomInset:0,jt=Lt.margin?Lt.margin.leftInset+Lt.margin.rightInset:0;switch(Lt.layout){case"lr-tb":case"rl-tb":return Lt[wt.$extra].attempt===0?{width:$t.width-jt-Lt[wt.$extra].currentWidth,height:$t.height-Ot-Lt[wt.$extra].prevHeight}:{width:$t.width-jt,height:$t.height-Ot-Lt[wt.$extra].height};case"rl-row":case"row":return{width:Lt[wt.$extra].columnWidths.slice(Lt[wt.$extra].currentColumn).reduce((Kt,Bt)=>Kt+Bt),height:$t.height-jt};case"table":case"tb":return{width:$t.width-jt,height:$t.height-Ot-Lt[wt.$extra].height};case"position":default:return $t}}function Vt(Lt){let $t=Lt.w===""?NaN:Lt.w,Ot=Lt.h===""?NaN:Lt.h,[jt,Rt]=[0,0];switch(Lt.anchorType||""){case"bottomCenter":[jt,Rt]=[$t/2,Ot];break;case"bottomLeft":[jt,Rt]=[0,Ot];break;case"bottomRight":[jt,Rt]=[$t,Ot];break;case"middleCenter":[jt,Rt]=[$t/2,Ot/2];break;case"middleLeft":[jt,Rt]=[0,Ot/2];break;case"middleRight":[jt,Rt]=[$t,Ot/2];break;case"topCenter":[jt,Rt]=[$t/2,0];break;case"topRight":[jt,Rt]=[$t,0];break}let Kt,Bt;switch(Lt.rotate||0){case 0:[Kt,Bt]=[-jt,-Rt];break;case 90:[Kt,Bt]=[-Rt,jt],[$t,Ot]=[Ot,-$t];break;case 180:[Kt,Bt]=[jt,Rt],[$t,Ot]=[-$t,-Ot];break;case 270:[Kt,Bt]=[Rt,-jt],[$t,Ot]=[-Ot,$t];break}return[Lt.x+Kt+Math.min(0,$t),Lt.y+Bt+Math.min(0,Ot),Math.abs($t),Math.abs(Ot)]}function qt(Lt,$t){var en;if(Lt[wt.$getTemplateRoot]()[wt.$extra].firstUnsplittable===null||Lt.w===0||Lt.h===0)return!0;const Ot=2,jt=Lt[wt.$getSubformParent](),Rt=((en=jt[wt.$extra])==null?void 0:en.attempt)||0,[,Kt,Bt,Gt]=Vt(Lt);switch(jt.layout){case"lr-tb":case"rl-tb":return Rt===0?Lt[wt.$getTemplateRoot]()[wt.$extra].noLayoutFailure?Lt.w!==""?Math.round(Bt-$t.width)<=Ot:$t.width>Ot:Lt.h!==""&&Math.round(Gt-$t.height)>Ot?!1:Lt.w!==""?Math.round(Bt-$t.width)<=Ot?!0:jt[wt.$extra].numberInLine===0?$t.height>Ot:!1:$t.width>Ot:Lt[wt.$getTemplateRoot]()[wt.$extra].noLayoutFailure?!0:Lt.h!==""&&Math.round(Gt-$t.height)>Ot?!1:Lt.w===""||Math.round(Bt-$t.width)<=Ot?$t.height>Ot:jt[wt.$isThereMoreWidth]()?!1:$t.height>Ot;case"table":case"tb":return Lt[wt.$getTemplateRoot]()[wt.$extra].noLayoutFailure?!0:Lt.h!==""&&!Lt[wt.$isSplittable]()?Math.round(Gt-$t.height)<=Ot:Lt.w===""||Math.round(Bt-$t.width)<=Ot?$t.height>Ot:jt[wt.$isThereMoreWidth]()?!1:$t.height>Ot;case"position":if(Lt[wt.$getTemplateRoot]()[wt.$extra].noLayoutFailure||Lt.h===""||Math.round(Gt+Kt-$t.height)<=Ot)return!0;const hn=Lt[wt.$getTemplateRoot]()[wt.$extra].currentContentArea;return Gt+Kt>hn.h;case"rl-row":case"row":return Lt[wt.$getTemplateRoot]()[wt.$extra].noLayoutFailure?!0:Lt.h!==""?Math.round(Gt-$t.height)<=Ot:!0;default:return!0}}},(Ct,Et,Pt)=>{Object.defineProperty(Et,"__esModule",{value:!0}),Et.computeBbox=jt,Et.createWrapper=Gt,Et.fixDimensions=Rt,Et.fixTextIndent=en,Et.fixURL=Wt,Et.isPrintOnly=tn,Et.layoutClass=Kt,Et.layoutNode=Ot,Et.measureToString=Vt,Et.setAccess=hn,Et.setFontFamily=bn,Et.setMinMaxDimensions=Lt,Et.setPara=nn,Et.toStyle=Bt;var wt=Pt(78),kt=Pt(2),_t=Pt(84),ht=Pt(85),vt=Pt(86),Ft=Pt(87);function Vt(Yt){return typeof Yt=="string"?"0px":Number.isInteger(Yt)?`${Yt}px`:`${Yt.toFixed(2)}px`}const qt={anchorType(Yt,dn){const Ut=Yt[wt.$getSubformParent]();if(!(!Ut||Ut.layout&&Ut.layout!=="position"))switch("transform"in dn||(dn.transform=""),Yt.anchorType){case"bottomCenter":dn.transform+="translate(-50%, -100%)";break;case"bottomLeft":dn.transform+="translate(0,-100%)";break;case"bottomRight":dn.transform+="translate(-100%,-100%)";break;case"middleCenter":dn.transform+="translate(-50%,-50%)";break;case"middleLeft":dn.transform+="translate(0,-50%)";break;case"middleRight":dn.transform+="translate(-100%,-50%)";break;case"topCenter":dn.transform+="translate(-50%,0)";break;case"topRight":dn.transform+="translate(-100%,0)";break}},dimensions(Yt,dn){var sn;const Ut=Yt[wt.$getSubformParent]();let Mt=Yt.w;const Ht=Yt.h;if((sn=Ut.layout)!=null&&sn.includes("row")){const zt=Ut[wt.$extra],Xt=Yt.colSpan;let Qt;Xt===-1?(Qt=zt.columnWidths.slice(zt.currentColumn).reduce((ln,on)=>ln+on,0),zt.currentColumn=0):(Qt=zt.columnWidths.slice(zt.currentColumn,zt.currentColumn+Xt).reduce((ln,on)=>ln+on,0),zt.currentColumn=(zt.currentColumn+Yt.colSpan)%zt.columnWidths.length),isNaN(Qt)||(Mt=Yt.w=Qt)}dn.width=Mt!==""?Vt(Mt):"auto",dn.height=Ht!==""?Vt(Ht):"auto"},position(Yt,dn){const Ut=Yt[wt.$getSubformParent]();Ut!=null&&Ut.layout&&Ut.layout!=="position"||(dn.position="absolute",dn.left=Vt(Yt.x),dn.top=Vt(Yt.y))},rotate(Yt,dn){Yt.rotate&&("transform"in dn||(dn.transform=""),dn.transform+=`rotate(-${Yt.rotate}deg)`,dn.transformOrigin="top left")},presence(Yt,dn){switch(Yt.presence){case"invisible":dn.visibility="hidden";break;case"hidden":case"inactive":dn.display="none";break}},hAlign(Yt,dn){if(Yt[wt.$nodeName]==="para")switch(Yt.hAlign){case"justifyAll":dn.textAlign="justify-all";break;case"radix":dn.textAlign="left";break;default:dn.textAlign=Yt.hAlign}else switch(Yt.hAlign){case"left":dn.alignSelf="start";break;case"center":dn.alignSelf="center";break;case"right":dn.alignSelf="end";break}},margin(Yt,dn){Yt.margin&&(dn.margin=Yt.margin[wt.$toStyle]().margin)}};function Lt(Yt,dn){Yt[wt.$getSubformParent]().layout==="position"&&(Yt.minW>0&&(dn.minWidth=Vt(Yt.minW)),Yt.maxW>0&&(dn.maxWidth=Vt(Yt.maxW)),Yt.minH>0&&(dn.minHeight=Vt(Yt.minH)),Yt.maxH>0&&(dn.maxHeight=Vt(Yt.maxH)))}function $t(Yt,dn,Ut,Mt,Ht,sn){const zt=new vt.TextMeasure(dn,Ut,Mt,Ht);return typeof Yt=="string"?zt.addString(Yt):Yt[wt.$pushGlyphs](zt),zt.compute(sn)}function Ot(Yt,dn){let Ut=null,Mt=null,Ht=!1;if((!Yt.w||!Yt.h)&&Yt.value){let sn=0,zt=0;Yt.margin&&(sn=Yt.margin.leftInset+Yt.margin.rightInset,zt=Yt.margin.topInset+Yt.margin.bottomInset);let Xt=null,Qt=null;Yt.para&&(Qt=Object.create(null),Xt=Yt.para.lineHeight===""?null:Yt.para.lineHeight,Qt.top=Yt.para.spaceAbove===""?0:Yt.para.spaceAbove,Qt.bottom=Yt.para.spaceBelow===""?0:Yt.para.spaceBelow,Qt.left=Yt.para.marginLeft===""?0:Yt.para.marginLeft,Qt.right=Yt.para.marginRight===""?0:Yt.para.marginRight);let ln=Yt.font;if(!ln){const rn=Yt[wt.$getTemplateRoot]();let an=Yt[wt.$getParent]();for(;an&&an!==rn;){if(an.font){ln=an.font;break}an=an[wt.$getParent]()}}const on=(Yt.w||dn.width)-sn,cn=Yt[wt.$globalData].fontFinder;if(Yt.value.exData&&Yt.value.exData[wt.$content]&&Yt.value.exData.contentType==="text/html"){const rn=$t(Yt.value.exData[wt.$content],ln,Qt,Xt,cn,on);Mt=rn.width,Ut=rn.height,Ht=rn.isBroken}else{const rn=Yt.value[wt.$text]();if(rn){const an=$t(rn,ln,Qt,Xt,cn,on);Mt=an.width,Ut=an.height,Ht=an.isBroken}}Mt!==null&&!Yt.w&&(Mt+=sn),Ut!==null&&!Yt.h&&(Ut+=zt)}return{w:Mt,h:Ut,isBroken:Ht}}function jt(Yt,dn,Ut){let Mt;if(Yt.w!==""&&Yt.h!=="")Mt=[Yt.x,Yt.y,Yt.w,Yt.h];else{if(!Ut)return null;let Ht=Yt.w;if(Ht===""){if(Yt.maxW===0){const zt=Yt[wt.$getSubformParent]();Ht=zt.layout==="position"&&zt.w!==""?0:Yt.minW}else Ht=Math.min(Yt.maxW,Ut.width);dn.attributes.style.width=Vt(Ht)}let sn=Yt.h;if(sn===""){if(Yt.maxH===0){const zt=Yt[wt.$getSubformParent]();sn=zt.layout==="position"&&zt.h!==""?0:Yt.minH}else sn=Math.min(Yt.maxH,Ut.height);dn.attributes.style.height=Vt(sn)}Mt=[Yt.x,Yt.y,Ht,sn]}return Mt}function Rt(Yt){var Ut;const dn=Yt[wt.$getSubformParent]();if((Ut=dn.layout)!=null&&Ut.includes("row")){const Mt=dn[wt.$extra],Ht=Yt.colSpan;let sn;Ht===-1?sn=Mt.columnWidths.slice(Mt.currentColumn).reduce((zt,Xt)=>zt+Xt,0):sn=Mt.columnWidths.slice(Mt.currentColumn,Mt.currentColumn+Ht).reduce((zt,Xt)=>zt+Xt,0),isNaN(sn)||(Yt.w=sn)}dn.layout&&dn.layout!=="position"&&(Yt.x=Yt.y=0),Yt.layout==="table"&&Yt.w===""&&Array.isArray(Yt.columnWidths)&&(Yt.w=Yt.columnWidths.reduce((Mt,Ht)=>Mt+Ht,0))}function Kt(Yt){switch(Yt.layout){case"position":return"xfaPosition";case"lr-tb":return"xfaLrTb";case"rl-row":return"xfaRlRow";case"rl-tb":return"xfaRlTb";case"row":return"xfaRow";case"table":return"xfaTable";case"tb":return"xfaTb";default:return"xfaPosition"}}function Bt(Yt,...dn){const Ut=Object.create(null);for(const Mt of dn){const Ht=Yt[Mt];if(Ht!==null){if(qt.hasOwnProperty(Mt)){qt[Mt](Yt,Ut);continue}if(Ht instanceof Ft.XFAObject){const sn=Ht[wt.$toStyle]();sn?Object.assign(Ut,sn):(0,kt.warn)(`(DEBUG) - XFA - style for ${Mt} not implemented yet`)}}}return Ut}function Gt(Yt,dn){const{attributes:Ut}=dn,{style:Mt}=Ut,Ht={name:"div",attributes:{class:["xfaWrapper"],style:Object.create(null)},children:[]};if(Ut.class.push("xfaWrapped"),Yt.border){const{widths:sn,insets:zt}=Yt.border[wt.$extra];let Xt,Qt,ln=zt[0],on=zt[3];const cn=zt[0]+zt[2],rn=zt[1]+zt[3];switch(Yt.border.hand){case"even":ln-=sn[0]/2,on-=sn[3]/2,Xt=`calc(100% + ${(sn[1]+sn[3])/2-rn}px)`,Qt=`calc(100% + ${(sn[0]+sn[2])/2-cn}px)`;break;case"left":ln-=sn[0],on-=sn[3],Xt=`calc(100% + ${sn[1]+sn[3]-rn}px)`,Qt=`calc(100% + ${sn[0]+sn[2]-cn}px)`;break;case"right":Xt=rn?`calc(100% - ${rn}px)`:"100%",Qt=cn?`calc(100% - ${cn}px)`:"100%";break}const an=["xfaBorder"];tn(Yt.border)&&an.push("xfaPrintOnly");const xn={name:"div",attributes:{class:an,style:{top:`${ln}px`,left:`${on}px`,width:Xt,height:Qt}},children:[]};for(const wn of["border","borderWidth","borderColor","borderRadius","borderStyle"])Mt[wn]!==void 0&&(xn.attributes.style[wn]=Mt[wn],delete Mt[wn]);Ht.children.push(xn,dn)}else Ht.children.push(dn);for(const sn of["background","backgroundClip","top","left","width","height","minWidth","minHeight","maxWidth","maxHeight","transform","transformOrigin","visibility"])Mt[sn]!==void 0&&(Ht.attributes.style[sn]=Mt[sn],delete Mt[sn]);return Ht.attributes.style.position=Mt.position==="absolute"?"absolute":"relative",delete Mt.position,Mt.alignSelf&&(Ht.attributes.style.alignSelf=Mt.alignSelf,delete Mt.alignSelf),Ht}function en(Yt){const dn=(0,_t.getMeasurement)(Yt.textIndent,"0px");if(dn>=0)return;const Mt="padding"+((Yt.textAlign==="right"?"right":"left")==="left"?"Left":"Right"),Ht=(0,_t.getMeasurement)(Yt[Mt],"0px");Yt[Mt]=`${Ht-dn}px`}function hn(Yt,dn){switch(Yt.access){case"nonInteractive":dn.push("xfaNonInteractive");break;case"readOnly":dn.push("xfaReadOnly");break;case"protected":dn.push("xfaDisabled");break}}function tn(Yt){return Yt.relevant.length>0&&!Yt.relevant[0].excluded&&Yt.relevant[0].viewname==="print"}function gn(Yt){const dn=Yt[wt.$getTemplateRoot]()[wt.$extra].paraStack;return dn.length?dn.at(-1):null}function nn(Yt,dn,Ut){var Mt;if((Mt=Ut.attributes.class)!=null&&Mt.includes("xfaRich")){dn&&(Yt.h===""&&(dn.height="auto"),Yt.w===""&&(dn.width="auto"));const Ht=gn(Yt);if(Ht){const sn=Ut.attributes.style;switch(sn.display="flex",sn.flexDirection="column",Ht.vAlign){case"top":sn.justifyContent="start";break;case"bottom":sn.justifyContent="end";break;case"middle":sn.justifyContent="center";break}const zt=Ht[wt.$toStyle]();for(const[Xt,Qt]of Object.entries(zt))Xt in sn||(sn[Xt]=Qt)}}}function bn(Yt,dn,Ut,Mt){if(!Ut){delete Mt.fontFamily;return}const Ht=(0,_t.stripQuotes)(Yt.typeface);Mt.fontFamily=`"${Ht}"`;const sn=Ut.find(Ht);if(sn){const{fontFamily:zt}=sn.regular.cssFontInfo;zt!==Ht&&(Mt.fontFamily=`"${zt}"`);const Xt=gn(dn);if(Xt&&Xt.lineHeight!==""||Mt.lineHeight)return;const Qt=(0,ht.selectFont)(Yt,sn);Qt&&(Mt.lineHeight=Math.max(1.2,Qt.lineHeight))}}function Wt(Yt){const dn=(0,kt.createValidAbsoluteUrl)(Yt,null,{addDefaultProtocol:!0,tryConvertEncoding:!0});return dn?dn.href:null}},(Ct,Et,Pt)=>{Object.defineProperty(Et,"__esModule",{value:!0}),Et.HTMLResult=void 0,Et.getBBox=Rt,Et.getColor=jt,Et.getFloat=Ft,Et.getInteger=vt,Et.getKeyword=Vt,Et.getMeasurement=Lt,Et.getRatio=$t,Et.getRelevant=Ot,Et.getStringOption=qt,Et.stripQuotes=ht;var wt=Pt(2);const kt={pt:Bt=>Bt,cm:Bt=>Bt/2.54*72,mm:Bt=>Bt/(10*2.54)*72,in:Bt=>Bt*72,px:Bt=>Bt},_t=/([+-]?\d+\.?\d*)(.*)/;function ht(Bt){return Bt.startsWith("'")||Bt.startsWith('"')?Bt.slice(1,-1):Bt}function vt({data:Bt,defaultValue:Gt,validate:en}){if(!Bt)return Gt;Bt=Bt.trim();const hn=parseInt(Bt,10);return!isNaN(hn)&&en(hn)?hn:Gt}function Ft({data:Bt,defaultValue:Gt,validate:en}){if(!Bt)return Gt;Bt=Bt.trim();const hn=parseFloat(Bt);return!isNaN(hn)&&en(hn)?hn:Gt}function Vt({data:Bt,defaultValue:Gt,validate:en}){return Bt?(Bt=Bt.trim(),en(Bt)?Bt:Gt):Gt}function qt(Bt,Gt){return Vt({data:Bt,defaultValue:Gt[0],validate:en=>Gt.includes(en)})}function Lt(Bt,Gt="0"){if(Gt||(Gt="0"),!Bt)return Lt(Gt);const en=Bt.trim().match(_t);if(!en)return Lt(Gt);const[,hn,tn]=en,gn=parseFloat(hn);if(isNaN(gn))return Lt(Gt);if(gn===0)return 0;const nn=kt[tn];return nn?nn(gn):gn}function $t(Bt){if(!Bt)return{num:1,den:1};const Gt=Bt.trim().split(/\s*:\s*/).map(tn=>parseFloat(tn)).filter(tn=>!isNaN(tn));if(Gt.length===1&&Gt.push(1),Gt.length===0)return{num:1,den:1};const[en,hn]=Gt;return{num:en,den:hn}}function Ot(Bt){return Bt?Bt.trim().split(/\s+/).map(Gt=>({excluded:Gt[0]==="-",viewname:Gt.substring(1)})):[]}function jt(Bt,Gt=[0,0,0]){let[en,hn,tn]=Gt;if(!Bt)return{r:en,g:hn,b:tn};const gn=Bt.trim().split(/\s*,\s*/).map(nn=>Math.min(Math.max(0,parseInt(nn.trim(),10)),255)).map(nn=>isNaN(nn)?0:nn);return gn.length<3?{r:en,g:hn,b:tn}:([en,hn,tn]=gn,{r:en,g:hn,b:tn})}function Rt(Bt){if(!Bt)return{x:-1,y:-1,width:-1,height:-1};const en=Bt.trim().split(/\s*,\s*/).map(bn=>Lt(bn,"-1"));if(en.length<4||en[2]<0||en[3]<0)return{x:-1,y:-1,width:-1,height:-1};const[hn,tn,gn,nn]=en;return{x:hn,y:tn,width:gn,height:nn}}class Kt{static get FAILURE(){return(0,wt.shadow)(this,"FAILURE",new Kt(!1,null,null,null))}static get EMPTY(){return(0,wt.shadow)(this,"EMPTY",new Kt(!0,null,null,null))}constructor(Gt,en,hn,tn){this.success=Gt,this.html=en,this.bbox=hn,this.breakNode=tn}isBreak(){return!!this.breakNode}static breakNode(Gt){return new Kt(!1,null,null,Gt)}static success(Gt,en=null){return new Kt(!0,Gt,en,null)}}Et.HTMLResult=Kt},(Ct,Et,Pt)=>{Object.defineProperty(Et,"__esModule",{value:!0}),Et.FontFinder=void 0,Et.getMetrics=Ft,Et.selectFont=vt;var wt=Pt(78),kt=Pt(84),_t=Pt(2);class ht{constructor(qt){this.fonts=new Map,this.cache=new Map,this.warned=new Set,this.defaultFont=null,this.add(qt)}add(qt,Lt=null){for(const Ot of qt)this.addPdfFont(Ot);for(const Ot of this.fonts.values())Ot.regular||(Ot.regular=Ot.italic||Ot.bold||Ot.bolditalic);if(!Lt||Lt.size===0)return;const $t=this.fonts.get("PdfJS-Fallback-PdfJS-XFA");for(const Ot of Lt)this.fonts.set(Ot,$t)}addPdfFont(qt){var Kt,Bt,Gt;const Lt=qt.cssFontInfo,$t=Lt.fontFamily;let Ot=this.fonts.get($t);Ot||(Ot=Object.create(null),this.fonts.set($t,Ot),this.defaultFont||(this.defaultFont=Ot));let jt="";const Rt=parseFloat(Lt.fontWeight);parseFloat(Lt.italicAngle)!==0?jt=Rt>=700?"bolditalic":"italic":Rt>=700&&(jt="bold"),jt||((qt.name.includes("Bold")||(Kt=qt.psName)!=null&&Kt.includes("Bold"))&&(jt="bold"),(qt.name.includes("Italic")||qt.name.endsWith("It")||(Bt=qt.psName)!=null&&Bt.includes("Italic")||(Gt=qt.psName)!=null&&Gt.endsWith("It"))&&(jt+="italic")),jt||(jt="regular"),Ot[jt]=qt}getDefault(){return this.defaultFont}find(qt,Lt=!0){var Kt,Bt;let $t=this.fonts.get(qt)||this.cache.get(qt);if($t)return $t;const Ot=/,|-|_| |bolditalic|bold|italic|regular|it/gi;let jt=qt.replaceAll(Ot,"");if($t=this.fonts.get(jt),$t)return this.cache.set(qt,$t),$t;jt=jt.toLowerCase();const Rt=[];for(const[Gt,en]of this.fonts.entries())Gt.replaceAll(Ot,"").toLowerCase().startsWith(jt)&&Rt.push(en);if(Rt.length===0)for(const[,Gt]of this.fonts.entries())(Kt=Gt.regular.name)!=null&&Kt.replaceAll(Ot,"").toLowerCase().startsWith(jt)&&Rt.push(Gt);if(Rt.length===0){jt=jt.replaceAll(/psmt|mt/gi,"");for(const[Gt,en]of this.fonts.entries())Gt.replaceAll(Ot,"").toLowerCase().startsWith(jt)&&Rt.push(en)}if(Rt.length===0)for(const Gt of this.fonts.values())(Bt=Gt.regular.name)!=null&&Bt.replaceAll(Ot,"").toLowerCase().startsWith(jt)&&Rt.push(Gt);return Rt.length>=1?(Rt.length!==1&&Lt&&(0,_t.warn)(`XFA - Too many choices to guess the correct font: ${qt}`),this.cache.set(qt,Rt[0]),Rt[0]):(Lt&&!this.warned.has(qt)&&(this.warned.add(qt),(0,_t.warn)(`XFA - Cannot find the font: ${qt}`)),null)}}Et.FontFinder=ht;function vt(Vt,qt){return Vt.posture==="italic"?Vt.weight==="bold"?qt.bolditalic:qt.italic:Vt.weight==="bold"?qt.bold:qt.regular}function Ft(Vt,qt=!1){let Lt=null;if(Vt){const Rt=(0,kt.stripQuotes)(Vt.typeface),Kt=Vt[wt.$globalData].fontFinder.find(Rt);Lt=vt(Vt,Kt)}if(!Lt)return{lineHeight:12,lineGap:2,lineNoGap:10};const $t=Vt.size||10,Ot=Lt.lineHeight?Math.max(qt?0:1.2,Lt.lineHeight):1.2,jt=Lt.lineGap===void 0?.2:Lt.lineGap;return{lineHeight:Ot*$t,lineGap:jt*$t,lineNoGap:Math.max(1,Ot-jt)*$t}}},(Ct,Et,Pt)=>{Object.defineProperty(Et,"__esModule",{value:!0}),Et.TextMeasure=void 0;var wt=Pt(85);const kt=1.02;class _t{constructor(Vt,qt,Lt,$t){if(this.lineHeight=Lt,this.paraMargin=qt||{top:0,bottom:0,left:0,right:0},!Vt){[this.pdfFont,this.xfaFont]=this.defaultFont($t);return}this.xfaFont={typeface:Vt.typeface,posture:Vt.posture,weight:Vt.weight,size:Vt.size,letterSpacing:Vt.letterSpacing};const Ot=$t.find(Vt.typeface);if(!Ot){[this.pdfFont,this.xfaFont]=this.defaultFont($t);return}this.pdfFont=(0,wt.selectFont)(Vt,Ot),this.pdfFont||([this.pdfFont,this.xfaFont]=this.defaultFont($t))}defaultFont(Vt){const qt=Vt.find("Helvetica",!1)||Vt.find("Myriad Pro",!1)||Vt.find("Arial",!1)||Vt.getDefault();if(qt!=null&&qt.regular){const $t=qt.regular,jt={typeface:$t.cssFontInfo.fontFamily,posture:"normal",weight:"normal",size:10,letterSpacing:0};return[$t,jt]}return[null,{typeface:"Courier",posture:"normal",weight:"normal",size:10,letterSpacing:0}]}}class ht{constructor(Vt,qt,Lt,$t){this.fontFinder=$t,this.stack=[new _t(Vt,qt,Lt,$t)]}pushData(Vt,qt,Lt){const $t=this.stack.at(-1);for(const jt of["typeface","posture","weight","size","letterSpacing"])Vt[jt]||(Vt[jt]=$t.xfaFont[jt]);for(const jt of["top","bottom","left","right"])isNaN(qt[jt])&&(qt[jt]=$t.paraMargin[jt]);const Ot=new _t(Vt,qt,Lt||$t.lineHeight,this.fontFinder);Ot.pdfFont||(Ot.pdfFont=$t.pdfFont),this.stack.push(Ot)}popFont(){this.stack.pop()}topFont(){return this.stack.at(-1)}}class vt{constructor(Vt,qt,Lt,$t){this.glyphs=[],this.fontSelector=new ht(Vt,qt,Lt,$t),this.extraHeight=0}pushData(Vt,qt,Lt){this.fontSelector.pushData(Vt,qt,Lt)}popFont(Vt){return this.fontSelector.popFont()}addPara(){const Vt=this.fontSelector.topFont();this.extraHeight+=Vt.paraMargin.top+Vt.paraMargin.bottom}addString(Vt){if(!Vt)return;const qt=this.fontSelector.topFont(),Lt=qt.xfaFont.size;if(qt.pdfFont){const $t=qt.xfaFont.letterSpacing,Ot=qt.pdfFont,jt=Ot.lineHeight||1.2,Rt=qt.lineHeight||Math.max(1.2,jt)*Lt,Kt=Ot.lineGap===void 0?.2:Ot.lineGap,Bt=jt-Kt,Gt=Math.max(1,Bt)*Lt,en=Lt/1e3,hn=Ot.defaultWidth||Ot.charsToGlyphs(" ")[0].width;for(const tn of Vt.split(/[\u2029\n]/)){const gn=Ot.encodeString(tn).join(""),nn=Ot.charsToGlyphs(gn);for(const bn of nn){const Wt=bn.width||hn;this.glyphs.push([Wt*en+$t,Rt,Gt,bn.unicode,!1])}this.glyphs.push([0,0,0,`
`,!0])}this.glyphs.pop();return}for(const $t of Vt.split(/[\u2029\n]/)){for(const Ot of $t.split(""))this.glyphs.push([Lt,1.2*Lt,Lt,Ot,!1]);this.glyphs.push([0,0,0,`
`,!0])}this.glyphs.pop()}compute(Vt){let qt=-1,Lt=0,$t=0,Ot=0,jt=0,Rt=0,Kt=!1,Bt=!0;for(let Gt=0,en=this.glyphs.length;Gt<en;Gt++){const[hn,tn,gn,nn,bn]=this.glyphs[Gt],Wt=nn===" ",Yt=Bt?gn:tn;if(bn){$t=Math.max($t,jt),jt=0,Ot+=Rt,Rt=Yt,qt=-1,Lt=0,Bt=!1;continue}if(Wt){jt+hn>Vt?($t=Math.max($t,jt),jt=0,Ot+=Rt,Rt=Yt,qt=-1,Lt=0,Kt=!0,Bt=!1):(Rt=Math.max(Yt,Rt),Lt=jt,jt+=hn,qt=Gt);continue}if(jt+hn>Vt){Ot+=Rt,Rt=Yt,qt!==-1?(Gt=qt,$t=Math.max($t,Lt),jt=0,qt=-1,Lt=0):($t=Math.max($t,jt),jt=hn),Kt=!0,Bt=!1;continue}jt+=hn,Rt=Math.max(Yt,Rt)}return $t=Math.max($t,jt),Ot+=Rt+this.extraHeight,{width:kt*$t,height:Ot,isBroken:Kt}}}Et.TextMeasure=vt},(Ct,Et,Pt)=>{Object.defineProperty(Et,"__esModule",{value:!0}),Et.XmlObject=Et.XFAObjectArray=Et.XFAObject=Et.XFAAttribute=Et.StringObject=Et.OptionObject=Et.Option10=Et.Option01=Et.IntegerObject=Et.ContentObject=void 0;var wt=Pt(78),kt=Pt(84),_t=Pt(2),ht=Pt(3),vt=Pt(81),Ft=Pt(88);const Vt=Symbol(),qt=Symbol(),Lt=Symbol(),$t=Symbol("_children"),Ot=Symbol(),jt=Symbol(),Rt=Symbol(),Kt=Symbol(),Bt=Symbol(),Gt=Symbol(),en=Symbol(),hn=Symbol(),tn=Symbol(),gn=Symbol("parent"),nn=Symbol(),bn=Symbol(),Wt=Symbol();let Yt=0;const dn=vt.NamespaceIds.datasets.id;class Ut{constructor(an,xn,wn=!1){this[wt.$namespaceId]=an,this[wt.$nodeName]=xn,this[en]=wn,this[gn]=null,this[$t]=[],this[wt.$uid]=`${xn}${Yt++}`,this[wt.$globalData]=null}get isXFAObject(){return!0}get isXFAObjectArray(){return!1}createNodes(an){let xn=this,wn=null;for(const{name:En,index:Fn}of an){for(let In=0,Tn=isFinite(Fn)?Fn:0;In<=Tn;In++){const An=xn[wt.$namespaceId]===dn?-1:xn[wt.$namespaceId];wn=new sn(An,En),xn[wt.$appendChild](wn)}xn=wn}return wn}[wt.$onChild](an){if(!this[en]||!this[wt.$onChildCheck](an))return!1;const xn=an[wt.$nodeName],wn=this[xn];if(wn instanceof Mt){if(wn.push(an))return this[wt.$appendChild](an),!0}else return wn!==null&&this[wt.$removeChild](wn),this[xn]=an,this[wt.$appendChild](an),!0;let En="";return this.id?En=` (id: ${this.id})`:this.name&&(En=` (name: ${this.name} ${this.h.value})`),(0,_t.warn)(`XFA - node "${this[wt.$nodeName]}"${En} has already enough "${xn}"!`),!1}[wt.$onChildCheck](an){return this.hasOwnProperty(an[wt.$nodeName])&&an[wt.$namespaceId]===this[wt.$namespaceId]}[wt.$isNsAgnostic](){return!1}[wt.$acceptWhitespace](){return!1}[wt.$isCDATAXml](){return!1}[wt.$isBindable](){return!1}[wt.$popPara](){this.para&&this[wt.$getTemplateRoot]()[wt.$extra].paraStack.pop()}[wt.$pushPara](){this[wt.$getTemplateRoot]()[wt.$extra].paraStack.push(this.para)}[wt.$setId](an){this.id&&this[wt.$namespaceId]===vt.NamespaceIds.template.id&&an.set(this.id,this)}[wt.$getTemplateRoot](){return this[wt.$globalData].template}[wt.$isSplittable](){return!1}[wt.$isThereMoreWidth](){return!1}[wt.$appendChild](an){an[gn]=this,this[$t].push(an),!an[wt.$globalData]&&this[wt.$globalData]&&(an[wt.$globalData]=this[wt.$globalData])}[wt.$removeChild](an){const xn=this[$t].indexOf(an);this[$t].splice(xn,1)}[wt.$hasSettableValue](){return this.hasOwnProperty("value")}[wt.$setValue](an){}[wt.$onText](an){}[wt.$finalize](){}[wt.$clean](an){delete this[en],this[wt.$cleanup]&&(an.clean(this[wt.$cleanup]),delete this[wt.$cleanup])}[wt.$indexOf](an){return this[$t].indexOf(an)}[wt.$insertAt](an,xn){xn[gn]=this,this[$t].splice(an,0,xn),!xn[wt.$globalData]&&this[wt.$globalData]&&(xn[wt.$globalData]=this[wt.$globalData])}[wt.$isTransparent](){return!this.name}[wt.$lastAttribute](){return""}[wt.$text](){return this[$t].length===0?this[wt.$content]:this[$t].map(an=>an[wt.$text]()).join("")}get[Lt](){const an=Object.getPrototypeOf(this);if(!an._attributes){const xn=an._attributes=new Set;for(const wn of Object.getOwnPropertyNames(this)){if(this[wn]===null||this[wn]instanceof Ut||this[wn]instanceof Mt)break;xn.add(wn)}}return(0,_t.shadow)(this,Lt,an._attributes)}[wt.$isDescendent](an){let xn=this;for(;xn;){if(xn===an)return!0;xn=xn[wt.$getParent]()}return!1}[wt.$getParent](){return this[gn]}[wt.$getSubformParent](){return this[wt.$getParent]()}[wt.$getChildren](an=null){return an?this[an]:this[$t]}[wt.$dump](){const an=Object.create(null);this[wt.$content]&&(an.$content=this[wt.$content]);for(const xn of Object.getOwnPropertyNames(this)){const wn=this[xn];wn!==null&&(wn instanceof Ut?an[xn]=wn[wt.$dump]():wn instanceof Mt?wn.isEmpty()||(an[xn]=wn.dump()):an[xn]=wn)}return an}[wt.$toStyle](){return null}[wt.$toHTML](){return kt.HTMLResult.EMPTY}*[wt.$getContainedChildren](){for(const an of this[wt.$getChildren]())yield an}*[Kt](an,xn){for(const wn of this[wt.$getContainedChildren]())if(!an||xn===an.has(wn[wt.$nodeName])){const En=this[wt.$getAvailableSpace](),Fn=wn[wt.$toHTML](En);Fn.success||(this[wt.$extra].failingNode=wn),yield Fn}}[wt.$flushHTML](){return null}[wt.$addHTML](an,xn){this[wt.$extra].children.push(an)}[wt.$getAvailableSpace](){}[wt.$childrenToHTML]({filter:an=null,include:xn=!0}){if(!this[wt.$extra].generator)this[wt.$extra].generator=this[Kt](an,xn);else{const wn=this[wt.$getAvailableSpace](),En=this[wt.$extra].failingNode[wt.$toHTML](wn);if(!En.success)return En;En.html&&this[wt.$addHTML](En.html,En.bbox),delete this[wt.$extra].failingNode}for(;;){const wn=this[wt.$extra].generator.next();if(wn.done)break;const En=wn.value;if(!En.success)return En;En.html&&this[wt.$addHTML](En.html,En.bbox)}return this[wt.$extra].generator=null,kt.HTMLResult.EMPTY}[wt.$setSetAttributes](an){this[bn]=new Set(Object.keys(an))}[Gt](an){const xn=this[Lt],wn=this[bn];return[...an].filter(En=>xn.has(En)&&!wn.has(En))}[wt.$resolvePrototypes](an,xn=new Set){for(const wn of this[$t])wn[nn](an,xn)}[nn](an,xn){const wn=this[Bt](an,xn);wn?this[Vt](wn,an,xn):this[wt.$resolvePrototypes](an,xn)}[Bt](an,xn){const{use:wn,usehref:En}=this;if(!wn&&!En)return null;let Fn=null,In=null,Tn=null,An=wn;if(En?(An=En,En.startsWith("#som(")&&En.endsWith(")")?In=En.slice(5,-1):En.startsWith(".#som(")&&En.endsWith(")")?In=En.slice(6,-1):En.startsWith("#")?Tn=En.slice(1):En.startsWith(".#")&&(Tn=En.slice(2))):wn.startsWith("#")?Tn=wn.slice(1):In=wn,this.use=this.usehref="",Tn?Fn=an.get(Tn):(Fn=(0,Ft.searchNode)(an.get(wt.$root),this,In,!0,!1),Fn&&(Fn=Fn[0])),!Fn)return(0,_t.warn)(`XFA - Invalid prototype reference: ${An}.`),null;if(Fn[wt.$nodeName]!==this[wt.$nodeName])return(0,_t.warn)(`XFA - Incompatible prototype: ${Fn[wt.$nodeName]} !== ${this[wt.$nodeName]}.`),null;if(xn.has(Fn))return(0,_t.warn)("XFA - Cycle detected in prototypes use."),null;xn.add(Fn);const mn=Fn[Bt](an,xn);return mn&&Fn[Vt](mn,an,xn),Fn[wt.$resolvePrototypes](an,xn),xn.delete(Fn),Fn}[Vt](an,xn,wn){if(wn.has(an)){(0,_t.warn)("XFA - Cycle detected in prototypes use.");return}!this[wt.$content]&&an[wt.$content]&&(this[wt.$content]=an[wt.$content]),new Set(wn).add(an);for(const Fn of this[Gt](an[bn]))this[Fn]=an[Fn],this[bn]&&this[bn].add(Fn);for(const Fn of Object.getOwnPropertyNames(this)){if(this[Lt].has(Fn))continue;const In=this[Fn],Tn=an[Fn];if(In instanceof Mt){for(const An of In[$t])An[nn](xn,wn);for(let An=In[$t].length,mn=Tn[$t].length;An<mn;An++){const pn=an[$t][An][wt.$clone]();if(In.push(pn))pn[gn]=this,this[$t].push(pn),pn[nn](xn,wn);else break}continue}if(In!==null){In[wt.$resolvePrototypes](xn,wn),Tn&&In[Vt](Tn,xn,wn);continue}if(Tn!==null){const An=Tn[wt.$clone]();An[gn]=this,this[Fn]=An,this[$t].push(An),An[nn](xn,wn)}}}static[Ot](an){return Array.isArray(an)?an.map(xn=>Ut[Ot](xn)):typeof an=="object"&&an!==null?Object.assign({},an):an}[wt.$clone](){const an=Object.create(Object.getPrototypeOf(this));for(const xn of Object.getOwnPropertySymbols(this))try{an[xn]=this[xn]}catch{(0,_t.shadow)(an,xn,this[xn])}an[wt.$uid]=`${an[wt.$nodeName]}${Yt++}`,an[$t]=[];for(const xn of Object.getOwnPropertyNames(this)){if(this[Lt].has(xn)){an[xn]=Ut[Ot](this[xn]);continue}const wn=this[xn];an[xn]=wn instanceof Mt?new Mt(wn[hn]):null}for(const xn of this[$t]){const wn=xn[wt.$nodeName],En=xn[wt.$clone]();an[$t].push(En),En[gn]=an,an[wn]===null?an[wn]=En:an[wn][$t].push(En)}return an}[wt.$getChildren](an=null){return an?this[$t].filter(xn=>xn[wt.$nodeName]===an):this[$t]}[wt.$getChildrenByClass](an){return this[an]}[wt.$getChildrenByName](an,xn,wn=!0){return Array.from(this[wt.$getChildrenByNameIt](an,xn,wn))}*[wt.$getChildrenByNameIt](an,xn,wn=!0){if(an==="parent"){yield this[gn];return}for(const En of this[$t])En[wt.$nodeName]===an&&(yield En),En.name===an&&(yield En),(xn||En[wt.$isTransparent]())&&(yield*En[wt.$getChildrenByNameIt](an,xn,!1));wn&&this[Lt].has(an)&&(yield new Ht(this,an,this[an]))}}Et.XFAObject=Ut;class Mt{constructor(an=1/0){this[hn]=an,this[$t]=[]}get isXFAObject(){return!1}get isXFAObjectArray(){return!0}push(an){return this[$t].length<=this[hn]?(this[$t].push(an),!0):((0,_t.warn)(`XFA - node "${an[wt.$nodeName]}" accepts no more than ${this[hn]} children`),!1)}isEmpty(){return this[$t].length===0}dump(){return this[$t].length===1?this[$t][0][wt.$dump]():this[$t].map(an=>an[wt.$dump]())}[wt.$clone](){const an=new Mt(this[hn]);return an[$t]=this[$t].map(xn=>xn[wt.$clone]()),an}get children(){return this[$t]}clear(){this[$t].length=0}}Et.XFAObjectArray=Mt;class Ht{constructor(an,xn,wn){this[gn]=an,this[wt.$nodeName]=xn,this[wt.$content]=wn,this[wt.$consumed]=!1,this[wt.$uid]=`attribute${Yt++}`}[wt.$getParent](){return this[gn]}[wt.$isDataValue](){return!0}[wt.$getDataValue](){return this[wt.$content].trim()}[wt.$setValue](an){an=an.value||"",this[wt.$content]=an.toString()}[wt.$text](){return this[wt.$content]}[wt.$isDescendent](an){return this[gn]===an||this[gn][wt.$isDescendent](an)}}Et.XFAAttribute=Ht;class sn extends Ut{constructor(an,xn,wn={}){if(super(an,xn),this[wt.$content]="",this[jt]=null,xn!=="#text"){const En=new Map;this[qt]=En;for(const[Fn,In]of Object.entries(wn))En.set(Fn,new Ht(this,Fn,In));if(wn.hasOwnProperty(wt.$nsAttributes)){const Fn=wn[wt.$nsAttributes].xfa.dataNode;Fn!==void 0&&(Fn==="dataGroup"?this[jt]=!1:Fn==="dataValue"&&(this[jt]=!0))}}this[wt.$consumed]=!1}[wt.$toString](an){const xn=this[wt.$nodeName];if(xn==="#text"){an.push((0,ht.encodeToXmlString)(this[wt.$content]));return}const wn=(0,_t.utf8StringToString)(xn),En=this[wt.$namespaceId]===dn?"xfa:":"";an.push(`<${En}${wn}`);for(const[Fn,In]of this[qt].entries()){const Tn=(0,_t.utf8StringToString)(Fn);an.push(` ${Tn}="${(0,ht.encodeToXmlString)(In[wt.$content])}"`)}if(this[jt]!==null&&(this[jt]?an.push(' xfa:dataNode="dataValue"'):an.push(' xfa:dataNode="dataGroup"')),!this[wt.$content]&&this[$t].length===0){an.push("/>");return}if(an.push(">"),this[wt.$content])typeof this[wt.$content]=="string"?an.push((0,ht.encodeToXmlString)(this[wt.$content])):this[wt.$content][wt.$toString](an);else for(const Fn of this[$t])Fn[wt.$toString](an);an.push(`</${En}${wn}>`)}[wt.$onChild](an){if(this[wt.$content]){const xn=new sn(this[wt.$namespaceId],"#text");this[wt.$appendChild](xn),xn[wt.$content]=this[wt.$content],this[wt.$content]=""}return this[wt.$appendChild](an),!0}[wt.$onText](an){this[wt.$content]+=an}[wt.$finalize](){if(this[wt.$content]&&this[$t].length>0){const an=new sn(this[wt.$namespaceId],"#text");this[wt.$appendChild](an),an[wt.$content]=this[wt.$content],delete this[wt.$content]}}[wt.$toHTML](){return this[wt.$nodeName]==="#text"?kt.HTMLResult.success({name:"#text",value:this[wt.$content]}):kt.HTMLResult.EMPTY}[wt.$getChildren](an=null){return an?this[$t].filter(xn=>xn[wt.$nodeName]===an):this[$t]}[wt.$getAttributes](){return this[qt]}[wt.$getChildrenByClass](an){const xn=this[qt].get(an);return xn!==void 0?xn:this[wt.$getChildren](an)}*[wt.$getChildrenByNameIt](an,xn){const wn=this[qt].get(an);wn&&(yield wn);for(const En of this[$t])En[wt.$nodeName]===an&&(yield En),xn&&(yield*En[wt.$getChildrenByNameIt](an,xn))}*[wt.$getAttributeIt](an,xn){const wn=this[qt].get(an);wn&&(!xn||!wn[wt.$consumed])&&(yield wn);for(const En of this[$t])yield*En[wt.$getAttributeIt](an,xn)}*[wt.$getRealChildrenByNameIt](an,xn,wn){for(const En of this[$t])En[wt.$nodeName]===an&&(!wn||!En[wt.$consumed])&&(yield En),xn&&(yield*En[wt.$getRealChildrenByNameIt](an,xn,wn))}[wt.$isDataValue](){return this[jt]===null?this[$t].length===0||this[$t][0][wt.$namespaceId]===vt.NamespaceIds.xhtml.id:this[jt]}[wt.$getDataValue](){return this[jt]===null?this[$t].length===0?this[wt.$content].trim():this[$t][0][wt.$namespaceId]===vt.NamespaceIds.xhtml.id?this[$t][0][wt.$text]().trim():null:this[wt.$content].trim()}[wt.$setValue](an){an=an.value||"",this[wt.$content]=an.toString()}[wt.$dump](an=!1){const xn=Object.create(null);an&&(xn.$ns=this[wt.$namespaceId]),this[wt.$content]&&(xn.$content=this[wt.$content]),xn.$name=this[wt.$nodeName],xn.children=[];for(const wn of this[$t])xn.children.push(wn[wt.$dump](an));xn.attributes=Object.create(null);for(const[wn,En]of this[qt])xn.attributes[wn]=En[wt.$content];return xn}}Et.XmlObject=sn;class zt extends Ut{constructor(an,xn){super(an,xn),this[wt.$content]=""}[wt.$onText](an){this[wt.$content]+=an}[wt.$finalize](){}}Et.ContentObject=zt;class Xt extends zt{constructor(an,xn,wn){super(an,xn),this[tn]=wn}[wt.$finalize](){this[wt.$content]=(0,kt.getKeyword)({data:this[wt.$content],defaultValue:this[tn][0],validate:an=>this[tn].includes(an)})}[wt.$clean](an){super[wt.$clean](an),delete this[tn]}}Et.OptionObject=Xt;class Qt extends zt{[wt.$finalize](){this[wt.$content]=this[wt.$content].trim()}}Et.StringObject=Qt;class ln extends zt{constructor(an,xn,wn,En){super(an,xn),this[Rt]=wn,this[Wt]=En}[wt.$finalize](){this[wt.$content]=(0,kt.getInteger)({data:this[wt.$content],defaultValue:this[Rt],validate:this[Wt]})}[wt.$clean](an){super[wt.$clean](an),delete this[Rt],delete this[Wt]}}Et.IntegerObject=ln;class on extends ln{constructor(an,xn){super(an,xn,0,wn=>wn===1)}}Et.Option01=on;class cn extends ln{constructor(an,xn){super(an,xn,1,wn=>wn===0)}}Et.Option10=cn},(Ct,Et,Pt)=>{Object.defineProperty(Et,"__esModule",{value:!0}),Et.createDataNode=Ot,Et.searchNode=$t;var wt=Pt(78),kt=Pt(2);const _t=/^[^.[]+/,ht=/^[^\]]+/,vt={dot:0,dotDot:1,dotHash:2,dotBracket:3,dotParen:4},Ft=new Map([["$data",(jt,Rt)=>jt.datasets?jt.datasets.data:jt],["$record",(jt,Rt)=>(jt.datasets?jt.datasets.data:jt)[wt.$getChildren]()[0]],["$template",(jt,Rt)=>jt.template],["$connectionSet",(jt,Rt)=>jt.connectionSet],["$form",(jt,Rt)=>jt.form],["$layout",(jt,Rt)=>jt.layout],["$host",(jt,Rt)=>jt.host],["$dataWindow",(jt,Rt)=>jt.dataWindow],["$event",(jt,Rt)=>jt.event],["!",(jt,Rt)=>jt.datasets],["$xfa",(jt,Rt)=>jt],["xfa",(jt,Rt)=>jt],["$",(jt,Rt)=>Rt]]),Vt=new WeakMap;function qt(jt){return jt=jt.trim(),jt==="*"?1/0:parseInt(jt,10)||0}function Lt(jt,Rt,Kt=!0){let Bt=jt.match(_t);if(!Bt)return null;let[Gt]=Bt;const en=[{name:Gt,cacheName:"."+Gt,index:0,js:null,formCalc:null,operator:vt.dot}];let hn=Gt.length;for(;hn<jt.length;){const tn=hn;if(jt.charAt(hn++)==="["){if(Bt=jt.slice(hn).match(ht),!Bt)return(0,kt.warn)("XFA - Invalid index in SOM expression"),null;en.at(-1).index=qt(Bt[0]),hn+=Bt[0].length+1;continue}let nn;switch(jt.charAt(hn)){case".":if(!Rt)return null;hn++,nn=vt.dotDot;break;case"#":hn++,nn=vt.dotHash;break;case"[":if(Kt)return(0,kt.warn)("XFA - SOM expression contains a FormCalc subexpression which is not supported for now."),null;nn=vt.dotBracket;break;case"(":if(Kt)return(0,kt.warn)("XFA - SOM expression contains a JavaScript subexpression which is not supported for now."),null;nn=vt.dotParen;break;default:nn=vt.dot;break}if(Bt=jt.slice(hn).match(_t),!Bt)break;[Gt]=Bt,hn+=Gt.length,en.push({name:Gt,cacheName:jt.slice(tn,hn),operator:nn,index:0,js:null,formCalc:null})}return en}function $t(jt,Rt,Kt,Bt=!0,Gt=!0){const en=Lt(Kt,Bt);if(!en)return null;const hn=Ft.get(en[0].name);let tn=0,gn;hn?(gn=!0,jt=[hn(jt,Rt)],tn=1):(gn=Rt===null,jt=[Rt||jt]);for(let nn=en.length;tn<nn;tn++){const{name:bn,cacheName:Wt,operator:Yt,index:dn}=en[tn],Ut=[];for(const Mt of jt){if(!Mt.isXFAObject)continue;let Ht,sn;if(Gt&&(sn=Vt.get(Mt),sn||(sn=new Map,Vt.set(Mt,sn)),Ht=sn.get(Wt)),!Ht){switch(Yt){case vt.dot:Ht=Mt[wt.$getChildrenByName](bn,!1);break;case vt.dotDot:Ht=Mt[wt.$getChildrenByName](bn,!0);break;case vt.dotHash:Ht=Mt[wt.$getChildrenByClass](bn),Ht=Ht.isXFAObjectArray?Ht.children:[Ht];break}Gt&&sn.set(Wt,Ht)}Ht.length>0&&Ut.push(Ht)}if(Ut.length===0&&!gn&&tn===0){if(Rt=Rt[wt.$getParent](),!Rt)return null;tn=-1,jt=[Rt];continue}jt=isFinite(dn)?Ut.filter(Mt=>dn<Mt.length).map(Mt=>Mt[dn]):Ut.flat()}return jt.length===0?null:jt}function Ot(jt,Rt,Kt){const Bt=Lt(Kt);if(!Bt||Bt.some(hn=>hn.operator===vt.dotDot))return null;const Gt=Ft.get(Bt[0].name);let en=0;Gt?(jt=Gt(jt,Rt),en=1):jt=Rt||jt;for(let hn=Bt.length;en<hn;en++){const{name:tn,operator:gn,index:nn}=Bt[en];if(!isFinite(nn))return Bt[en].index=0,jt.createNodes(Bt.slice(en));let bn;switch(gn){case vt.dot:bn=jt[wt.$getChildrenByName](tn,!1);break;case vt.dotDot:bn=jt[wt.$getChildrenByName](tn,!0);break;case vt.dotHash:bn=jt[wt.$getChildrenByClass](tn),bn=bn.isXFAObjectArray?bn.children:[bn];break}if(bn.length===0)return jt.createNodes(Bt.slice(en));if(nn<bn.length){const Wt=bn[nn];if(!Wt.isXFAObject)return(0,kt.warn)("XFA - Cannot create a node."),null;jt=Wt}else return Bt[en].index=nn-bn.length,jt.createNodes(Bt.slice(en))}return null}},(Ct,Et,Pt)=>{Object.defineProperty(Et,"__esModule",{value:!0}),Et.DataHandler=void 0;var wt=Pt(78);class kt{constructor(ht,vt){this.data=vt,this.dataset=ht.datasets||null}serialize(ht){const vt=[[-1,this.data[wt.$getChildren]()]];for(;vt.length>0;){const Vt=vt.at(-1),[qt,Lt]=Vt;if(qt+1===Lt.length){vt.pop();continue}const $t=Lt[++Vt[0]],Ot=ht.get($t[wt.$uid]);if(Ot)$t[wt.$setValue](Ot);else{const Rt=$t[wt.$getAttributes]();for(const Kt of Rt.values()){const Bt=ht.get(Kt[wt.$uid]);if(Bt){Kt[wt.$setValue](Bt);break}}}const jt=$t[wt.$getChildren]();jt.length>0&&vt.push([-1,jt])}const Ft=['<xfa:datasets xmlns:xfa="http://www.xfa.org/schema/xfa-data/1.0/">'];if(this.dataset)for(const Vt of this.dataset[wt.$getChildren]())Vt[wt.$nodeName]!=="data"&&Vt[wt.$toString](Ft);return this.data[wt.$toString](Ft),Ft.push("</xfa:datasets>"),Ft.join("")}}Et.DataHandler=kt},(Ct,Et,Pt)=>{Object.defineProperty(Et,"__esModule",{value:!0}),Et.XFAParser=void 0;var wt=Pt(78),kt=Pt(71),_t=Pt(91),ht=Pt(2);class vt extends kt.XMLParserBase{constructor(Vt=null,qt=!1){super(),this._builder=new _t.Builder(Vt),this._stack=[],this._globalData={usedTypefaces:new Set},this._ids=new Map,this._current=this._builder.buildRoot(this._ids),this._errorCode=kt.XMLParserErrorCode.NoError,this._whiteRegex=/^\s+$/,this._nbsps=/\xa0+/g,this._richText=qt}parse(Vt){if(this.parseXml(Vt),this._errorCode===kt.XMLParserErrorCode.NoError)return this._current[wt.$finalize](),this._current.element}onText(Vt){if(Vt=Vt.replace(this._nbsps,qt=>qt.slice(1)+" "),this._richText||this._current[wt.$acceptWhitespace]()){this._current[wt.$onText](Vt,this._richText);return}this._whiteRegex.test(Vt)||this._current[wt.$onText](Vt.trim())}onCdata(Vt){this._current[wt.$onText](Vt)}_mkAttributes(Vt,qt){let Lt=null,$t=null;const Ot=Object.create({});for(const{name:jt,value:Rt}of Vt)if(jt==="xmlns")Lt?(0,ht.warn)(`XFA - multiple namespace definition in <${qt}>`):Lt=Rt;else if(jt.startsWith("xmlns:")){const Kt=jt.substring(6);$t||($t=[]),$t.push({prefix:Kt,value:Rt})}else{const Kt=jt.indexOf(":");if(Kt===-1)Ot[jt]=Rt;else{let Bt=Ot[wt.$nsAttributes];Bt||(Bt=Ot[wt.$nsAttributes]=Object.create(null));const[Gt,en]=[jt.slice(0,Kt),jt.slice(Kt+1)],hn=Bt[Gt]||(Bt[Gt]=Object.create(null));hn[en]=Rt}}return[Lt,$t,Ot]}_getNameAndPrefix(Vt,qt){const Lt=Vt.indexOf(":");return Lt===-1?[Vt,null]:[Vt.substring(Lt+1),qt?"":Vt.substring(0,Lt)]}onBeginElement(Vt,qt,Lt){const[$t,Ot,jt]=this._mkAttributes(qt,Vt),[Rt,Kt]=this._getNameAndPrefix(Vt,this._builder.isNsAgnostic()),Bt=this._builder.build({nsPrefix:Kt,name:Rt,attributes:jt,namespace:$t,prefixes:Ot});if(Bt[wt.$globalData]=this._globalData,Lt){Bt[wt.$finalize](),this._current[wt.$onChild](Bt)&&Bt[wt.$setId](this._ids),Bt[wt.$clean](this._builder);return}this._stack.push(this._current),this._current=Bt}onEndElement(Vt){const qt=this._current;if(qt[wt.$isCDATAXml]()&&typeof qt[wt.$content]=="string"){const Lt=new vt;Lt._globalData=this._globalData;const $t=Lt.parse(qt[wt.$content]);qt[wt.$content]=null,qt[wt.$onChild]($t)}qt[wt.$finalize](),this._current=this._stack.pop(),this._current[wt.$onChild](qt)&&qt[wt.$setId](this._ids),qt[wt.$clean](this._builder)}onError(Vt){this._errorCode=Vt}}Et.XFAParser=vt},(Ct,Et,Pt)=>{Object.defineProperty(Et,"__esModule",{value:!0}),Et.Builder=void 0;var wt=Pt(81),kt=Pt(78),_t=Pt(92),ht=Pt(80),vt=Pt(101),Ft=Pt(2),Vt=Pt(87);class qt extends Vt.XFAObject{constructor(jt){super(-1,"root",Object.create(null)),this.element=null,this[kt.$ids]=jt}[kt.$onChild](jt){return this.element=jt,!0}[kt.$finalize](){super[kt.$finalize](),this.element.template instanceof ht.Template&&(this[kt.$ids].set(kt.$root,this.element),this.element.template[kt.$resolvePrototypes](this[kt.$ids]),this.element.template[kt.$ids]=this[kt.$ids])}}class Lt extends Vt.XFAObject{constructor(){super(-1,"",Object.create(null))}[kt.$onChild](jt){return!1}}class $t{constructor(jt=null){this._namespaceStack=[],this._nsAgnosticLevel=0,this._namespacePrefixes=new Map,this._namespaces=new Map,this._nextNsId=Math.max(...Object.values(wt.NamespaceIds).map(({id:Rt})=>Rt)),this._currentNamespace=jt||new vt.UnknownNamespace(++this._nextNsId)}buildRoot(jt){return new qt(jt)}build({nsPrefix:jt,name:Rt,attributes:Kt,namespace:Bt,prefixes:Gt}){const en=Bt!==null;if(en&&(this._namespaceStack.push(this._currentNamespace),this._currentNamespace=this._searchNamespace(Bt)),Gt&&this._addNamespacePrefix(Gt),Kt.hasOwnProperty(kt.$nsAttributes)){const gn=_t.NamespaceSetUp.datasets,nn=Kt[kt.$nsAttributes];let bn=null;for(const[Wt,Yt]of Object.entries(nn))if(this._getNamespaceToUse(Wt)===gn){bn={xfa:Yt};break}bn?Kt[kt.$nsAttributes]=bn:delete Kt[kt.$nsAttributes]}const hn=this._getNamespaceToUse(jt),tn=(hn==null?void 0:hn[wt.$buildXFAObject](Rt,Kt))||new Lt;return tn[kt.$isNsAgnostic]()&&this._nsAgnosticLevel++,(en||Gt||tn[kt.$isNsAgnostic]())&&(tn[kt.$cleanup]={hasNamespace:en,prefixes:Gt,nsAgnostic:tn[kt.$isNsAgnostic]()}),tn}isNsAgnostic(){return this._nsAgnosticLevel>0}_searchNamespace(jt){let Rt=this._namespaces.get(jt);if(Rt)return Rt;for(const[Kt,{check:Bt}]of Object.entries(wt.NamespaceIds))if(Bt(jt)){if(Rt=_t.NamespaceSetUp[Kt],Rt)return this._namespaces.set(jt,Rt),Rt;break}return Rt=new vt.UnknownNamespace(++this._nextNsId),this._namespaces.set(jt,Rt),Rt}_addNamespacePrefix(jt){for(const{prefix:Rt,value:Kt}of jt){const Bt=this._searchNamespace(Kt);let Gt=this._namespacePrefixes.get(Rt);Gt||(Gt=[],this._namespacePrefixes.set(Rt,Gt)),Gt.push(Bt)}}_getNamespaceToUse(jt){if(!jt)return this._currentNamespace;const Rt=this._namespacePrefixes.get(jt);return(Rt==null?void 0:Rt.length)>0?Rt.at(-1):((0,Ft.warn)(`Unknown namespace prefix: ${jt}.`),null)}clean(jt){const{hasNamespace:Rt,prefixes:Kt,nsAgnostic:Bt}=jt;Rt&&(this._currentNamespace=this._namespaceStack.pop()),Kt&&Kt.forEach(({prefix:Gt})=>{this._namespacePrefixes.get(Gt).pop()}),Bt&&this._nsAgnosticLevel--}}Et.Builder=$t},(Ct,Et,Pt)=>{Object.defineProperty(Et,"__esModule",{value:!0}),Et.NamespaceSetUp=void 0;var wt=Pt(93),kt=Pt(94),_t=Pt(95),ht=Pt(96),vt=Pt(97),Ft=Pt(98),Vt=Pt(80),qt=Pt(99),Lt=Pt(100);const $t={config:wt.ConfigNamespace,connection:kt.ConnectionSetNamespace,datasets:_t.DatasetsNamespace,localeSet:ht.LocaleSetNamespace,signature:vt.SignatureNamespace,stylesheet:Ft.StylesheetNamespace,template:Vt.TemplateNamespace,xdp:qt.XdpNamespace,xhtml:Lt.XhtmlNamespace};Et.NamespaceSetUp=$t},(Ct,Et,Pt)=>{Object.defineProperty(Et,"__esModule",{value:!0}),Et.ConfigNamespace=void 0;var wt=Pt(81),kt=Pt(78),_t=Pt(87),ht=Pt(84),vt=Pt(2);const Ft=wt.NamespaceIds.config.id;class Vt extends _t.XFAObject{constructor(yn){super(Ft,"acrobat",!0),this.acrobat7=null,this.autoSave=null,this.common=null,this.validate=null,this.validateApprovalSignatures=null,this.submitUrl=new _t.XFAObjectArray}}class qt extends _t.XFAObject{constructor(yn){super(Ft,"acrobat7",!0),this.dynamicRender=null}}class Lt extends _t.OptionObject{constructor(yn){super(Ft,"ADBE_JSConsole",["delegate","Enable","Disable"])}}class $t extends _t.OptionObject{constructor(yn){super(Ft,"ADBE_JSDebugger",["delegate","Enable","Disable"])}}class Ot extends _t.Option01{constructor(yn){super(Ft,"addSilentPrint")}}class jt extends _t.Option01{constructor(yn){super(Ft,"addViewerPreferences")}}class Rt extends _t.Option10{constructor(yn){super(Ft,"adjustData")}}class Kt extends _t.IntegerObject{constructor(yn){super(Ft,"adobeExtensionLevel",0,qn=>qn>=1&&qn<=8)}}class Bt extends _t.XFAObject{constructor(yn){super(Ft,"agent",!0),this.name=yn.name?yn.name.trim():"",this.common=new _t.XFAObjectArray}}class Gt extends _t.ContentObject{constructor(yn){super(Ft,"alwaysEmbed")}}class en extends _t.StringObject{constructor(yn){super(Ft,"amd")}}class hn extends _t.XFAObject{constructor(yn){super(Ft,"area"),this.level=(0,ht.getInteger)({data:yn.level,defaultValue:0,validate:qn=>qn>=1&&qn<=3}),this.name=(0,ht.getStringOption)(yn.name,["","barcode","coreinit","deviceDriver","font","general","layout","merge","script","signature","sourceSet","templateCache"])}}class tn extends _t.OptionObject{constructor(yn){super(Ft,"attributes",["preserve","delegate","ignore"])}}class gn extends _t.OptionObject{constructor(yn){super(Ft,"autoSave",["disabled","enabled"])}}class nn extends _t.StringObject{constructor(yn){super(Ft,"base")}}class bn extends _t.XFAObject{constructor(yn){super(Ft,"batchOutput"),this.format=(0,ht.getStringOption)(yn.format,["none","concat","zip","zipCompress"])}}class Wt extends _t.ContentObject{constructor(yn){super(Ft,"behaviorOverride")}[kt.$finalize](){this[kt.$content]=new Map(this[kt.$content].trim().split(/\s+/).filter(yn=>yn.includes(":")).map(yn=>yn.split(":",2)))}}class Yt extends _t.XFAObject{constructor(yn){super(Ft,"cache",!0),this.templateCache=null}}class dn extends _t.Option01{constructor(yn){super(Ft,"change")}}class Ut extends _t.XFAObject{constructor(yn){super(Ft,"common",!0),this.data=null,this.locale=null,this.localeSet=null,this.messaging=null,this.suppressBanner=null,this.template=null,this.validationMessaging=null,this.versionControl=null,this.log=new _t.XFAObjectArray}}class Mt extends _t.XFAObject{constructor(yn){super(Ft,"compress"),this.scope=(0,ht.getStringOption)(yn.scope,["imageOnly","document"])}}class Ht extends _t.Option01{constructor(yn){super(Ft,"compressLogicalStructure")}}class sn extends _t.Option10{constructor(yn){super(Ft,"compressObjectStream")}}class zt extends _t.XFAObject{constructor(yn){super(Ft,"compression",!0),this.compressLogicalStructure=null,this.compressObjectStream=null,this.level=null,this.type=null}}class Xt extends _t.XFAObject{constructor(yn){super(Ft,"config",!0),this.acrobat=null,this.present=null,this.trace=null,this.agent=new _t.XFAObjectArray}}class Qt extends _t.OptionObject{constructor(yn){super(Ft,"conformance",["A","B"])}}class ln extends _t.Option01{constructor(yn){super(Ft,"contentCopy")}}class on extends _t.IntegerObject{constructor(yn){super(Ft,"copies",1,qn=>qn>=1)}}class cn extends _t.StringObject{constructor(yn){super(Ft,"creator")}}class rn extends _t.IntegerObject{constructor(yn){super(Ft,"currentPage",0,qn=>qn>=0)}}class an extends _t.XFAObject{constructor(yn){super(Ft,"data",!0),this.adjustData=null,this.attributes=null,this.incrementalLoad=null,this.outputXSL=null,this.range=null,this.record=null,this.startNode=null,this.uri=null,this.window=null,this.xsl=null,this.excludeNS=new _t.XFAObjectArray,this.transform=new _t.XFAObjectArray}}class xn extends _t.XFAObject{constructor(yn){super(Ft,"debug",!0),this.uri=null}}class wn extends _t.ContentObject{constructor(yn){super(Ft,"defaultTypeface"),this.writingScript=(0,ht.getStringOption)(yn.writingScript,["*","Arabic","Cyrillic","EastEuropeanRoman","Greek","Hebrew","Japanese","Korean","Roman","SimplifiedChinese","Thai","TraditionalChinese","Vietnamese"])}}class En extends _t.OptionObject{constructor(yn){super(Ft,"destination",["pdf","pcl","ps","webClient","zpl"])}}class Fn extends _t.Option01{constructor(yn){super(Ft,"documentAssembly")}}class In extends _t.XFAObject{constructor(yn){super(Ft,"driver",!0),this.name=yn.name?yn.name.trim():"",this.fontInfo=null,this.xdc=null}}class Tn extends _t.OptionObject{constructor(yn){super(Ft,"duplexOption",["simplex","duplexFlipLongEdge","duplexFlipShortEdge"])}}class An extends _t.OptionObject{constructor(yn){super(Ft,"dynamicRender",["forbidden","required"])}}class mn extends _t.Option01{constructor(yn){super(Ft,"embed")}}class pn extends _t.Option01{constructor(yn){super(Ft,"encrypt")}}class Jt extends _t.XFAObject{constructor(yn){super(Ft,"encryption",!0),this.encrypt=null,this.encryptionLevel=null,this.permissions=null}}class un extends _t.OptionObject{constructor(yn){super(Ft,"encryptionLevel",["40bit","128bit"])}}class fn extends _t.StringObject{constructor(yn){super(Ft,"enforce")}}class Sn extends _t.XFAObject{constructor(yn){super(Ft,"equate"),this.force=(0,ht.getInteger)({data:yn.force,defaultValue:1,validate:qn=>qn===0}),this.from=yn.from||"",this.to=yn.to||""}}class kn extends _t.XFAObject{constructor(yn){super(Ft,"equateRange"),this.from=yn.from||"",this.to=yn.to||"",this._unicodeRange=yn.unicodeRange||""}get unicodeRange(){const yn=[],qn=/U\+([0-9a-fA-F]+)/,_i=this._unicodeRange;for(let Kn of _i.split(",").map(is=>is.trim()).filter(is=>!!is))Kn=Kn.split("-",2).map(is=>{const as=is.match(qn);return as?parseInt(as[1],16):0}),Kn.length===1&&Kn.push(Kn[0]),yn.push(Kn);return(0,vt.shadow)(this,"unicodeRange",yn)}}class Pn extends _t.ContentObject{constructor(yn){super(Ft,"exclude")}[kt.$finalize](){this[kt.$content]=this[kt.$content].trim().split(/\s+/).filter(yn=>yn&&["calculate","close","enter","exit","initialize","ready","validate"].includes(yn))}}class Cn extends _t.StringObject{constructor(yn){super(Ft,"excludeNS")}}class vn extends _t.OptionObject{constructor(yn){super(Ft,"flipLabel",["usePrinterSetting","on","off"])}}class Rn extends _t.XFAObject{constructor(yn){super(Ft,"fontInfo",!0),this.embed=null,this.map=null,this.subsetBelow=null,this.alwaysEmbed=new _t.XFAObjectArray,this.defaultTypeface=new _t.XFAObjectArray,this.neverEmbed=new _t.XFAObjectArray}}class Mn extends _t.Option01{constructor(yn){super(Ft,"formFieldFilling")}}class _n extends _t.StringObject{constructor(yn){super(Ft,"groupParent")}}class Dn extends _t.OptionObject{constructor(yn){super(Ft,"ifEmpty",["dataValue","dataGroup","ignore","remove"])}}class Ln extends _t.StringObject{constructor(yn){super(Ft,"includeXDPContent")}}class Un extends _t.OptionObject{constructor(yn){super(Ft,"incrementalLoad",["none","forwardOnly"])}}class ts extends _t.Option01{constructor(yn){super(Ft,"incrementalMerge")}}class es extends _t.Option01{constructor(yn){super(Ft,"interactive")}}class Qn extends _t.OptionObject{constructor(yn){super(Ft,"jog",["usePrinterSetting","none","pageSet"])}}class Yn extends _t.XFAObject{constructor(yn){super(Ft,"labelPrinter",!0),this.name=(0,ht.getStringOption)(yn.name,["zpl","dpl","ipl","tcpl"]),this.batchOutput=null,this.flipLabel=null,this.fontInfo=null,this.xdc=null}}class zn extends _t.OptionObject{constructor(yn){super(Ft,"layout",["paginate","panel"])}}class ns extends _t.IntegerObject{constructor(yn){super(Ft,"level",0,qn=>qn>0)}}class ls extends _t.Option01{constructor(yn){super(Ft,"linearized")}}class ds extends _t.StringObject{constructor(yn){super(Ft,"locale")}}class Bn extends _t.StringObject{constructor(yn){super(Ft,"localeSet")}}class Hn extends _t.XFAObject{constructor(yn){super(Ft,"log",!0),this.mode=null,this.threshold=null,this.to=null,this.uri=null}}class Xn extends _t.XFAObject{constructor(yn){super(Ft,"map",!0),this.equate=new _t.XFAObjectArray,this.equateRange=new _t.XFAObjectArray}}class cs extends _t.XFAObject{constructor(yn){super(Ft,"mediumInfo",!0),this.map=null}}class rs extends _t.XFAObject{constructor(yn){super(Ft,"message",!0),this.msgId=null,this.severity=null}}class xs extends _t.XFAObject{constructor(yn){super(Ft,"messaging",!0),this.message=new _t.XFAObjectArray}}class Jn extends _t.OptionObject{constructor(yn){super(Ft,"mode",["append","overwrite"])}}class Wn extends _t.Option01{constructor(yn){super(Ft,"modifyAnnots")}}class Zn extends _t.IntegerObject{constructor(yn){super(Ft,"msgId",1,qn=>qn>=1)}}class us extends _t.StringObject{constructor(yn){super(Ft,"nameAttr")}}class hs extends _t.ContentObject{constructor(yn){super(Ft,"neverEmbed")}}class os extends _t.IntegerObject{constructor(yn){super(Ft,"numberOfCopies",null,qn=>qn>=2&&qn<=5)}}class ps extends _t.XFAObject{constructor(yn){super(Ft,"openAction",!0),this.destination=null}}class ws extends _t.XFAObject{constructor(yn){super(Ft,"output",!0),this.to=null,this.type=null,this.uri=null}}class fs extends _t.StringObject{constructor(yn){super(Ft,"outputBin")}}class Ss extends _t.XFAObject{constructor(yn){super(Ft,"outputXSL",!0),this.uri=null}}class Ls extends _t.OptionObject{constructor(yn){super(Ft,"overprint",["none","both","draw","field"])}}class Fs extends _t.StringObject{constructor(yn){super(Ft,"packets")}[kt.$finalize](){this[kt.$content]!=="*"&&(this[kt.$content]=this[kt.$content].trim().split(/\s+/).filter(yn=>["config","datasets","template","xfdf","xslt"].includes(yn)))}}class $s extends _t.XFAObject{constructor(yn){super(Ft,"pageOffset"),this.x=(0,ht.getInteger)({data:yn.x,defaultValue:"useXDCSetting",validate:qn=>!0}),this.y=(0,ht.getInteger)({data:yn.y,defaultValue:"useXDCSetting",validate:qn=>!0})}}class Es extends _t.StringObject{constructor(yn){super(Ft,"pageRange")}[kt.$finalize](){const yn=this[kt.$content].trim().split(/\s+/).map(_i=>parseInt(_i,10)),qn=[];for(let _i=0,Kn=yn.length;_i<Kn;_i+=2)qn.push(yn.slice(_i,_i+2));this[kt.$content]=qn}}class Ps extends _t.OptionObject{constructor(yn){super(Ft,"pagination",["simplex","duplexShortEdge","duplexLongEdge"])}}class Rs extends _t.OptionObject{constructor(yn){super(Ft,"paginationOverride",["none","forceDuplex","forceDuplexLongEdge","forceDuplexShortEdge","forceSimplex"])}}class qs extends _t.IntegerObject{constructor(yn){super(Ft,"part",1,qn=>!1)}}class vr extends _t.XFAObject{constructor(yn){super(Ft,"pcl",!0),this.name=yn.name||"",this.batchOutput=null,this.fontInfo=null,this.jog=null,this.mediumInfo=null,this.outputBin=null,this.pageOffset=null,this.staple=null,this.xdc=null}}class lr extends _t.XFAObject{constructor(yn){super(Ft,"pdf",!0),this.name=yn.name||"",this.adobeExtensionLevel=null,this.batchOutput=null,this.compression=null,this.creator=null,this.encryption=null,this.fontInfo=null,this.interactive=null,this.linearized=null,this.openAction=null,this.pdfa=null,this.producer=null,this.renderPolicy=null,this.scriptModel=null,this.silentPrint=null,this.submitFormat=null,this.tagged=null,this.version=null,this.viewerPreferences=null,this.xdc=null}}class nr extends _t.XFAObject{constructor(yn){super(Ft,"pdfa",!0),this.amd=null,this.conformance=null,this.includeXDPContent=null,this.part=null}}class Nr extends _t.XFAObject{constructor(yn){super(Ft,"permissions",!0),this.accessibleContent=null,this.change=null,this.contentCopy=null,this.documentAssembly=null,this.formFieldFilling=null,this.modifyAnnots=null,this.plaintextMetadata=null,this.print=null,this.printHighQuality=null}}class Gr extends _t.Option01{constructor(yn){super(Ft,"pickTrayByPDFSize")}}class vs extends _t.StringObject{constructor(yn){super(Ft,"picture")}}class ys extends _t.Option01{constructor(yn){super(Ft,"plaintextMetadata")}}class As extends _t.OptionObject{constructor(yn){super(Ft,"presence",["preserve","dissolve","dissolveStructure","ignore","remove"])}}class _s extends _t.XFAObject{constructor(yn){super(Ft,"present",!0),this.behaviorOverride=null,this.cache=null,this.common=null,this.copies=null,this.destination=null,this.incrementalMerge=null,this.layout=null,this.output=null,this.overprint=null,this.pagination=null,this.paginationOverride=null,this.script=null,this.validate=null,this.xdp=null,this.driver=new _t.XFAObjectArray,this.labelPrinter=new _t.XFAObjectArray,this.pcl=new _t.XFAObjectArray,this.pdf=new _t.XFAObjectArray,this.ps=new _t.XFAObjectArray,this.submitUrl=new _t.XFAObjectArray,this.webClient=new _t.XFAObjectArray,this.zpl=new _t.XFAObjectArray}}class js extends _t.Option01{constructor(yn){super(Ft,"print")}}class er extends _t.Option01{constructor(yn){super(Ft,"printHighQuality")}}class Os extends _t.OptionObject{constructor(yn){super(Ft,"printScaling",["appdefault","noScaling"])}}class Ts extends _t.StringObject{constructor(yn){super(Ft,"printerName")}}class Ws extends _t.StringObject{constructor(yn){super(Ft,"producer")}}class ur extends _t.XFAObject{constructor(yn){super(Ft,"ps",!0),this.name=yn.name||"",this.batchOutput=null,this.fontInfo=null,this.jog=null,this.mediumInfo=null,this.outputBin=null,this.staple=null,this.xdc=null}}class br extends _t.ContentObject{constructor(yn){super(Ft,"range")}[kt.$finalize](){this[kt.$content]=this[kt.$content].trim().split(/\s*,\s*/,2).map(yn=>yn.split("-").map(qn=>parseInt(qn.trim(),10))).filter(yn=>yn.every(qn=>!isNaN(qn))).map(yn=>(yn.length===1&&yn.push(yn[0]),yn))}}class Js extends _t.ContentObject{constructor(yn){super(Ft,"record")}[kt.$finalize](){this[kt.$content]=this[kt.$content].trim();const yn=parseInt(this[kt.$content],10);!isNaN(yn)&&yn>=0&&(this[kt.$content]=yn)}}class rr extends _t.ContentObject{constructor(yn){super(Ft,"relevant")}[kt.$finalize](){this[kt.$content]=this[kt.$content].trim().split(/\s+/)}}class mr extends _t.ContentObject{constructor(yn){super(Ft,"rename")}[kt.$finalize](){this[kt.$content]=this[kt.$content].trim(),(this[kt.$content].toLowerCase().startsWith("xml")||new RegExp("[\\p{L}_][\\p{L}\\d._\\p{M}-]*","u").test(this[kt.$content]))&&(0,vt.warn)("XFA - Rename: invalid XFA name")}}class Xs extends _t.OptionObject{constructor(yn){super(Ft,"renderPolicy",["server","client"])}}class hr extends _t.OptionObject{constructor(yn){super(Ft,"runScripts",["both","client","none","server"])}}class Vs extends _t.XFAObject{constructor(yn){super(Ft,"script",!0),this.currentPage=null,this.exclude=null,this.runScripts=null}}class gr extends _t.OptionObject{constructor(yn){super(Ft,"scriptModel",["XFA","none"])}}class wr extends _t.OptionObject{constructor(yn){super(Ft,"severity",["ignore","error","information","trace","warning"])}}class io extends _t.XFAObject{constructor(yn){super(Ft,"silentPrint",!0),this.addSilentPrint=null,this.printerName=null}}class dr extends _t.XFAObject{constructor(yn){super(Ft,"staple"),this.mode=(0,ht.getStringOption)(yn.mode,["usePrinterSetting","on","off"])}}class fr extends _t.StringObject{constructor(yn){super(Ft,"startNode")}}class $r extends _t.IntegerObject{constructor(yn){super(Ft,"startPage",0,qn=>!0)}}class Yr extends _t.OptionObject{constructor(yn){super(Ft,"submitFormat",["html","delegate","fdf","xml","pdf"])}}class wo extends _t.StringObject{constructor(yn){super(Ft,"submitUrl")}}class Tl extends _t.IntegerObject{constructor(yn){super(Ft,"subsetBelow",100,qn=>qn>=0&&qn<=100)}}class V1 extends _t.Option01{constructor(yn){super(Ft,"suppressBanner")}}class Tp extends _t.Option01{constructor(yn){super(Ft,"tagged")}}class Pp extends _t.XFAObject{constructor(yn){super(Ft,"template",!0),this.base=null,this.relevant=null,this.startPage=null,this.uri=null,this.xsl=null}}class z1 extends _t.OptionObject{constructor(yn){super(Ft,"threshold",["trace","error","information","warning"])}}class v0 extends _t.OptionObject{constructor(yn){super(Ft,"to",["null","memory","stderr","stdout","system","uri"])}}class Rp extends _t.XFAObject{constructor(yn){super(Ft,"templateCache"),this.maxEntries=(0,ht.getInteger)({data:yn.maxEntries,defaultValue:5,validate:qn=>qn>=0})}}class w0 extends _t.XFAObject{constructor(yn){super(Ft,"trace",!0),this.area=new _t.XFAObjectArray}}class Vl extends _t.XFAObject{constructor(yn){super(Ft,"transform",!0),this.groupParent=null,this.ifEmpty=null,this.nameAttr=null,this.picture=null,this.presence=null,this.rename=null,this.whitespace=null}}class X1 extends _t.OptionObject{constructor(yn){super(Ft,"type",["none","ascii85","asciiHex","ccittfax","flate","lzw","runLength","native","xdp","mergedXDP"])}}class Fp extends _t.StringObject{constructor(yn){super(Ft,"uri")}}class S0 extends _t.OptionObject{constructor(yn){super(Ft,"validate",["preSubmit","prePrint","preExecute","preSave"])}}class cu extends _t.ContentObject{constructor(yn){super(Ft,"validateApprovalSignatures")}[kt.$finalize](){this[kt.$content]=this[kt.$content].trim().split(/\s+/).filter(yn=>["docReady","postSign"].includes(yn))}}class Vu extends _t.OptionObject{constructor(yn){super(Ft,"validationMessaging",["allMessagesIndividually","allMessagesTogether","firstMessageOnly","noMessages"])}}class W1 extends _t.OptionObject{constructor(yn){super(Ft,"version",["1.7","1.6","1.5","1.4","1.3","1.2"])}}class _p extends _t.XFAObject{constructor(yn){super(Ft,"VersionControl"),this.outputBelow=(0,ht.getStringOption)(yn.outputBelow,["warn","error","update"]),this.sourceAbove=(0,ht.getStringOption)(yn.sourceAbove,["warn","error"]),this.sourceBelow=(0,ht.getStringOption)(yn.sourceBelow,["update","maintain"])}}class Mp extends _t.XFAObject{constructor(yn){super(Ft,"viewerPreferences",!0),this.ADBE_JSConsole=null,this.ADBE_JSDebugger=null,this.addViewerPreferences=null,this.duplexOption=null,this.enforce=null,this.numberOfCopies=null,this.pageRange=null,this.pickTrayByPDFSize=null,this.printScaling=null}}class A0 extends _t.XFAObject{constructor(yn){super(Ft,"webClient",!0),this.name=yn.name?yn.name.trim():"",this.fontInfo=null,this.xdc=null}}class G1 extends _t.OptionObject{constructor(yn){super(Ft,"whitespace",["preserve","ltrim","normalize","rtrim","trim"])}}class E0 extends _t.ContentObject{constructor(yn){super(Ft,"window")}[kt.$finalize](){const yn=this[kt.$content].trim().split(/\s*,\s*/,2).map(qn=>parseInt(qn,10));if(yn.some(qn=>isNaN(qn))){this[kt.$content]=[0,0];return}yn.length===1&&yn.push(yn[0]),this[kt.$content]=yn}}class q1 extends _t.XFAObject{constructor(yn){super(Ft,"xdc",!0),this.uri=new _t.XFAObjectArray,this.xsl=new _t.XFAObjectArray}}class jn extends _t.XFAObject{constructor(yn){super(Ft,"xdp",!0),this.packets=null}}class Gn extends _t.XFAObject{constructor(yn){super(Ft,"xsl",!0),this.debug=null,this.uri=null}}class ss extends _t.XFAObject{constructor(yn){super(Ft,"zpl",!0),this.name=yn.name?yn.name.trim():"",this.batchOutput=null,this.flipLabel=null,this.fontInfo=null,this.xdc=null}}class Vn{static[wt.$buildXFAObject](yn,qn){if(Vn.hasOwnProperty(yn))return Vn[yn](qn)}static acrobat(yn){return new Vt(yn)}static acrobat7(yn){return new qt(yn)}static ADBE_JSConsole(yn){return new Lt(yn)}static ADBE_JSDebugger(yn){return new $t(yn)}static addSilentPrint(yn){return new Ot(yn)}static addViewerPreferences(yn){return new jt(yn)}static adjustData(yn){return new Rt(yn)}static adobeExtensionLevel(yn){return new Kt(yn)}static agent(yn){return new Bt(yn)}static alwaysEmbed(yn){return new Gt(yn)}static amd(yn){return new en(yn)}static area(yn){return new hn(yn)}static attributes(yn){return new tn(yn)}static autoSave(yn){return new gn(yn)}static base(yn){return new nn(yn)}static batchOutput(yn){return new bn(yn)}static behaviorOverride(yn){return new Wt(yn)}static cache(yn){return new Yt(yn)}static change(yn){return new dn(yn)}static common(yn){return new Ut(yn)}static compress(yn){return new Mt(yn)}static compressLogicalStructure(yn){return new Ht(yn)}static compressObjectStream(yn){return new sn(yn)}static compression(yn){return new zt(yn)}static config(yn){return new Xt(yn)}static conformance(yn){return new Qt(yn)}static contentCopy(yn){return new ln(yn)}static copies(yn){return new on(yn)}static creator(yn){return new cn(yn)}static currentPage(yn){return new rn(yn)}static data(yn){return new an(yn)}static debug(yn){return new xn(yn)}static defaultTypeface(yn){return new wn(yn)}static destination(yn){return new En(yn)}static documentAssembly(yn){return new Fn(yn)}static driver(yn){return new In(yn)}static duplexOption(yn){return new Tn(yn)}static dynamicRender(yn){return new An(yn)}static embed(yn){return new mn(yn)}static encrypt(yn){return new pn(yn)}static encryption(yn){return new Jt(yn)}static encryptionLevel(yn){return new un(yn)}static enforce(yn){return new fn(yn)}static equate(yn){return new Sn(yn)}static equateRange(yn){return new kn(yn)}static exclude(yn){return new Pn(yn)}static excludeNS(yn){return new Cn(yn)}static flipLabel(yn){return new vn(yn)}static fontInfo(yn){return new Rn(yn)}static formFieldFilling(yn){return new Mn(yn)}static groupParent(yn){return new _n(yn)}static ifEmpty(yn){return new Dn(yn)}static includeXDPContent(yn){return new Ln(yn)}static incrementalLoad(yn){return new Un(yn)}static incrementalMerge(yn){return new ts(yn)}static interactive(yn){return new es(yn)}static jog(yn){return new Qn(yn)}static labelPrinter(yn){return new Yn(yn)}static layout(yn){return new zn(yn)}static level(yn){return new ns(yn)}static linearized(yn){return new ls(yn)}static locale(yn){return new ds(yn)}static localeSet(yn){return new Bn(yn)}static log(yn){return new Hn(yn)}static map(yn){return new Xn(yn)}static mediumInfo(yn){return new cs(yn)}static message(yn){return new rs(yn)}static messaging(yn){return new xs(yn)}static mode(yn){return new Jn(yn)}static modifyAnnots(yn){return new Wn(yn)}static msgId(yn){return new Zn(yn)}static nameAttr(yn){return new us(yn)}static neverEmbed(yn){return new hs(yn)}static numberOfCopies(yn){return new os(yn)}static openAction(yn){return new ps(yn)}static output(yn){return new ws(yn)}static outputBin(yn){return new fs(yn)}static outputXSL(yn){return new Ss(yn)}static overprint(yn){return new Ls(yn)}static packets(yn){return new Fs(yn)}static pageOffset(yn){return new $s(yn)}static pageRange(yn){return new Es(yn)}static pagination(yn){return new Ps(yn)}static paginationOverride(yn){return new Rs(yn)}static part(yn){return new qs(yn)}static pcl(yn){return new vr(yn)}static pdf(yn){return new lr(yn)}static pdfa(yn){return new nr(yn)}static permissions(yn){return new Nr(yn)}static pickTrayByPDFSize(yn){return new Gr(yn)}static picture(yn){return new vs(yn)}static plaintextMetadata(yn){return new ys(yn)}static presence(yn){return new As(yn)}static present(yn){return new _s(yn)}static print(yn){return new js(yn)}static printHighQuality(yn){return new er(yn)}static printScaling(yn){return new Os(yn)}static printerName(yn){return new Ts(yn)}static producer(yn){return new Ws(yn)}static ps(yn){return new ur(yn)}static range(yn){return new br(yn)}static record(yn){return new Js(yn)}static relevant(yn){return new rr(yn)}static rename(yn){return new mr(yn)}static renderPolicy(yn){return new Xs(yn)}static runScripts(yn){return new hr(yn)}static script(yn){return new Vs(yn)}static scriptModel(yn){return new gr(yn)}static severity(yn){return new wr(yn)}static silentPrint(yn){return new io(yn)}static staple(yn){return new dr(yn)}static startNode(yn){return new fr(yn)}static startPage(yn){return new $r(yn)}static submitFormat(yn){return new Yr(yn)}static submitUrl(yn){return new wo(yn)}static subsetBelow(yn){return new Tl(yn)}static suppressBanner(yn){return new V1(yn)}static tagged(yn){return new Tp(yn)}static template(yn){return new Pp(yn)}static templateCache(yn){return new Rp(yn)}static threshold(yn){return new z1(yn)}static to(yn){return new v0(yn)}static trace(yn){return new w0(yn)}static transform(yn){return new Vl(yn)}static type(yn){return new X1(yn)}static uri(yn){return new Fp(yn)}static validate(yn){return new S0(yn)}static validateApprovalSignatures(yn){return new cu(yn)}static validationMessaging(yn){return new Vu(yn)}static version(yn){return new W1(yn)}static versionControl(yn){return new _p(yn)}static viewerPreferences(yn){return new Mp(yn)}static webClient(yn){return new A0(yn)}static whitespace(yn){return new G1(yn)}static window(yn){return new E0(yn)}static xdc(yn){return new q1(yn)}static xdp(yn){return new jn(yn)}static xsl(yn){return new Gn(yn)}static zpl(yn){return new ss(yn)}}Et.ConfigNamespace=Vn},(Ct,Et,Pt)=>{Object.defineProperty(Et,"__esModule",{value:!0}),Et.ConnectionSetNamespace=void 0;var wt=Pt(81),kt=Pt(87);const _t=wt.NamespaceIds.connectionSet.id;class ht extends kt.XFAObject{constructor(hn){super(_t,"connectionSet",!0),this.wsdlConnection=new kt.XFAObjectArray,this.xmlConnection=new kt.XFAObjectArray,this.xsdConnection=new kt.XFAObjectArray}}class vt extends kt.XFAObject{constructor(hn){super(_t,"effectiveInputPolicy"),this.id=hn.id||"",this.name=hn.name||"",this.use=hn.use||"",this.usehref=hn.usehref||""}}class Ft extends kt.XFAObject{constructor(hn){super(_t,"effectiveOutputPolicy"),this.id=hn.id||"",this.name=hn.name||"",this.use=hn.use||"",this.usehref=hn.usehref||""}}class Vt extends kt.StringObject{constructor(hn){super(_t,"operation"),this.id=hn.id||"",this.input=hn.input||"",this.name=hn.name||"",this.output=hn.output||"",this.use=hn.use||"",this.usehref=hn.usehref||""}}class qt extends kt.StringObject{constructor(hn){super(_t,"rootElement"),this.id=hn.id||"",this.name=hn.name||"",this.use=hn.use||"",this.usehref=hn.usehref||""}}class Lt extends kt.StringObject{constructor(hn){super(_t,"soapAction"),this.id=hn.id||"",this.name=hn.name||"",this.use=hn.use||"",this.usehref=hn.usehref||""}}class $t extends kt.StringObject{constructor(hn){super(_t,"soapAddress"),this.id=hn.id||"",this.name=hn.name||"",this.use=hn.use||"",this.usehref=hn.usehref||""}}class Ot extends kt.StringObject{constructor(hn){super(_t,"uri"),this.id=hn.id||"",this.name=hn.name||"",this.use=hn.use||"",this.usehref=hn.usehref||""}}class jt extends kt.StringObject{constructor(hn){super(_t,"wsdlAddress"),this.id=hn.id||"",this.name=hn.name||"",this.use=hn.use||"",this.usehref=hn.usehref||""}}class Rt extends kt.XFAObject{constructor(hn){super(_t,"wsdlConnection",!0),this.dataDescription=hn.dataDescription||"",this.name=hn.name||"",this.effectiveInputPolicy=null,this.effectiveOutputPolicy=null,this.operation=null,this.soapAction=null,this.soapAddress=null,this.wsdlAddress=null}}class Kt extends kt.XFAObject{constructor(hn){super(_t,"xmlConnection",!0),this.dataDescription=hn.dataDescription||"",this.name=hn.name||"",this.uri=null}}class Bt extends kt.XFAObject{constructor(hn){super(_t,"xsdConnection",!0),this.dataDescription=hn.dataDescription||"",this.name=hn.name||"",this.rootElement=null,this.uri=null}}class Gt{static[wt.$buildXFAObject](hn,tn){if(Gt.hasOwnProperty(hn))return Gt[hn](tn)}static connectionSet(hn){return new ht(hn)}static effectiveInputPolicy(hn){return new vt(hn)}static effectiveOutputPolicy(hn){return new Ft(hn)}static operation(hn){return new Vt(hn)}static rootElement(hn){return new qt(hn)}static soapAction(hn){return new Lt(hn)}static soapAddress(hn){return new $t(hn)}static uri(hn){return new Ot(hn)}static wsdlAddress(hn){return new jt(hn)}static wsdlConnection(hn){return new Rt(hn)}static xmlConnection(hn){return new Kt(hn)}static xsdConnection(hn){return new Bt(hn)}}Et.ConnectionSetNamespace=Gt},(Ct,Et,Pt)=>{Object.defineProperty(Et,"__esModule",{value:!0}),Et.DatasetsNamespace=void 0;var wt=Pt(78),kt=Pt(81),_t=Pt(87);const ht=kt.NamespaceIds.datasets.id;class vt extends _t.XmlObject{constructor(Lt){super(ht,"data",Lt)}[wt.$isNsAgnostic](){return!0}}class Ft extends _t.XFAObject{constructor(Lt){super(ht,"datasets",!0),this.data=null,this.Signature=null}[wt.$onChild](Lt){const $t=Lt[wt.$nodeName];($t==="data"&&Lt[wt.$namespaceId]===ht||$t==="Signature"&&Lt[wt.$namespaceId]===kt.NamespaceIds.signature.id)&&(this[$t]=Lt),this[wt.$appendChild](Lt)}}class Vt{static[kt.$buildXFAObject](Lt,$t){if(Vt.hasOwnProperty(Lt))return Vt[Lt]($t)}static datasets(Lt){return new Ft(Lt)}static data(Lt){return new vt(Lt)}}Et.DatasetsNamespace=Vt},(Ct,Et,Pt)=>{Object.defineProperty(Et,"__esModule",{value:!0}),Et.LocaleSetNamespace=void 0;var wt=Pt(81),kt=Pt(87),_t=Pt(84);const ht=wt.NamespaceIds.localeSet.id;class vt extends kt.XFAObject{constructor(Xt){super(ht,"calendarSymbols",!0),this.name="gregorian",this.dayNames=new kt.XFAObjectArray(2),this.eraNames=null,this.meridiemNames=null,this.monthNames=new kt.XFAObjectArray(2)}}class Ft extends kt.StringObject{constructor(Xt){super(ht,"currencySymbol"),this.name=(0,_t.getStringOption)(Xt.name,["symbol","isoname","decimal"])}}class Vt extends kt.XFAObject{constructor(Xt){super(ht,"currencySymbols",!0),this.currencySymbol=new kt.XFAObjectArray(3)}}class qt extends kt.StringObject{constructor(Xt){super(ht,"datePattern"),this.name=(0,_t.getStringOption)(Xt.name,["full","long","med","short"])}}class Lt extends kt.XFAObject{constructor(Xt){super(ht,"datePatterns",!0),this.datePattern=new kt.XFAObjectArray(4)}}class $t extends kt.ContentObject{constructor(Xt){super(ht,"dateTimeSymbols")}}class Ot extends kt.StringObject{constructor(Xt){super(ht,"day")}}class jt extends kt.XFAObject{constructor(Xt){super(ht,"dayNames",!0),this.abbr=(0,_t.getInteger)({data:Xt.abbr,defaultValue:0,validate:Qt=>Qt===1}),this.day=new kt.XFAObjectArray(7)}}class Rt extends kt.StringObject{constructor(Xt){super(ht,"era")}}class Kt extends kt.XFAObject{constructor(Xt){super(ht,"eraNames",!0),this.era=new kt.XFAObjectArray(2)}}class Bt extends kt.XFAObject{constructor(Xt){super(ht,"locale",!0),this.desc=Xt.desc||"",this.name="isoname",this.calendarSymbols=null,this.currencySymbols=null,this.datePatterns=null,this.dateTimeSymbols=null,this.numberPatterns=null,this.numberSymbols=null,this.timePatterns=null,this.typeFaces=null}}class Gt extends kt.XFAObject{constructor(Xt){super(ht,"localeSet",!0),this.locale=new kt.XFAObjectArray}}class en extends kt.StringObject{constructor(Xt){super(ht,"meridiem")}}class hn extends kt.XFAObject{constructor(Xt){super(ht,"meridiemNames",!0),this.meridiem=new kt.XFAObjectArray(2)}}class tn extends kt.StringObject{constructor(Xt){super(ht,"month")}}class gn extends kt.XFAObject{constructor(Xt){super(ht,"monthNames",!0),this.abbr=(0,_t.getInteger)({data:Xt.abbr,defaultValue:0,validate:Qt=>Qt===1}),this.month=new kt.XFAObjectArray(12)}}class nn extends kt.StringObject{constructor(Xt){super(ht,"numberPattern"),this.name=(0,_t.getStringOption)(Xt.name,["full","long","med","short"])}}class bn extends kt.XFAObject{constructor(Xt){super(ht,"numberPatterns",!0),this.numberPattern=new kt.XFAObjectArray(4)}}class Wt extends kt.StringObject{constructor(Xt){super(ht,"numberSymbol"),this.name=(0,_t.getStringOption)(Xt.name,["decimal","grouping","percent","minus","zero"])}}class Yt extends kt.XFAObject{constructor(Xt){super(ht,"numberSymbols",!0),this.numberSymbol=new kt.XFAObjectArray(5)}}class dn extends kt.StringObject{constructor(Xt){super(ht,"timePattern"),this.name=(0,_t.getStringOption)(Xt.name,["full","long","med","short"])}}class Ut extends kt.XFAObject{constructor(Xt){super(ht,"timePatterns",!0),this.timePattern=new kt.XFAObjectArray(4)}}class Mt extends kt.XFAObject{constructor(Xt){super(ht,"typeFace",!0),this.name=Xt.name|""}}class Ht extends kt.XFAObject{constructor(Xt){super(ht,"typeFaces",!0),this.typeFace=new kt.XFAObjectArray}}class sn{static[wt.$buildXFAObject](Xt,Qt){if(sn.hasOwnProperty(Xt))return sn[Xt](Qt)}static calendarSymbols(Xt){return new vt(Xt)}static currencySymbol(Xt){return new Ft(Xt)}static currencySymbols(Xt){return new Vt(Xt)}static datePattern(Xt){return new qt(Xt)}static datePatterns(Xt){return new Lt(Xt)}static dateTimeSymbols(Xt){return new $t(Xt)}static day(Xt){return new Ot(Xt)}static dayNames(Xt){return new jt(Xt)}static era(Xt){return new Rt(Xt)}static eraNames(Xt){return new Kt(Xt)}static locale(Xt){return new Bt(Xt)}static localeSet(Xt){return new Gt(Xt)}static meridiem(Xt){return new en(Xt)}static meridiemNames(Xt){return new hn(Xt)}static month(Xt){return new tn(Xt)}static monthNames(Xt){return new gn(Xt)}static numberPattern(Xt){return new nn(Xt)}static numberPatterns(Xt){return new bn(Xt)}static numberSymbol(Xt){return new Wt(Xt)}static numberSymbols(Xt){return new Yt(Xt)}static timePattern(Xt){return new dn(Xt)}static timePatterns(Xt){return new Ut(Xt)}static typeFace(Xt){return new Mt(Xt)}static typeFaces(Xt){return new Ht(Xt)}}Et.LocaleSetNamespace=sn},(Ct,Et,Pt)=>{Object.defineProperty(Et,"__esModule",{value:!0}),Et.SignatureNamespace=void 0;var wt=Pt(81),kt=Pt(87);const _t=wt.NamespaceIds.signature.id;class ht extends kt.XFAObject{constructor(Vt){super(_t,"signature",!0)}}class vt{static[wt.$buildXFAObject](Vt,qt){if(vt.hasOwnProperty(Vt))return vt[Vt](qt)}static signature(Vt){return new ht(Vt)}}Et.SignatureNamespace=vt},(Ct,Et,Pt)=>{Object.defineProperty(Et,"__esModule",{value:!0}),Et.StylesheetNamespace=void 0;var wt=Pt(81),kt=Pt(87);const _t=wt.NamespaceIds.stylesheet.id;class ht extends kt.XFAObject{constructor(Vt){super(_t,"stylesheet",!0)}}class vt{static[wt.$buildXFAObject](Vt,qt){if(vt.hasOwnProperty(Vt))return vt[Vt](qt)}static stylesheet(Vt){return new ht(Vt)}}Et.StylesheetNamespace=vt},(Ct,Et,Pt)=>{Object.defineProperty(Et,"__esModule",{value:!0}),Et.XdpNamespace=void 0;var wt=Pt(81),kt=Pt(78),_t=Pt(87);const ht=wt.NamespaceIds.xdp.id;class vt extends _t.XFAObject{constructor(qt){super(ht,"xdp",!0),this.uuid=qt.uuid||"",this.timeStamp=qt.timeStamp||"",this.config=null,this.connectionSet=null,this.datasets=null,this.localeSet=null,this.stylesheet=new _t.XFAObjectArray,this.template=null}[kt.$onChildCheck](qt){const Lt=wt.NamespaceIds[qt[kt.$nodeName]];return Lt&&qt[kt.$namespaceId]===Lt.id}}class Ft{static[wt.$buildXFAObject](qt,Lt){if(Ft.hasOwnProperty(qt))return Ft[qt](Lt)}static xdp(qt){return new vt(qt)}}Et.XdpNamespace=Ft},(Ct,Et,Pt)=>{Object.defineProperty(Et,"__esModule",{value:!0}),Et.XhtmlNamespace=void 0;var wt=Pt(78),kt=Pt(81),_t=Pt(83),ht=Pt(84),vt=Pt(87);const Ft=kt.NamespaceIds.xhtml.id,Vt=Symbol(),qt=new Set(["color","font","font-family","font-size","font-stretch","font-style","font-weight","margin","margin-bottom","margin-left","margin-right","margin-top","letter-spacing","line-height","orphans","page-break-after","page-break-before","page-break-inside","tab-interval","tab-stop","text-align","text-decoration","text-indent","vertical-align","widows","kerning-mode","xfa-font-horizontal-scale","xfa-font-vertical-scale","xfa-spacerun","xfa-tab-stops"]),Lt=new Map([["page-break-after","breakAfter"],["page-break-before","breakBefore"],["page-break-inside","breakInside"],["kerning-mode",Xt=>Xt==="none"?"none":"normal"],["xfa-font-horizontal-scale",Xt=>`scaleX(${Math.max(0,Math.min(parseInt(Xt)/100)).toFixed(2)})`],["xfa-font-vertical-scale",Xt=>`scaleY(${Math.max(0,Math.min(parseInt(Xt)/100)).toFixed(2)})`],["xfa-spacerun",""],["xfa-tab-stops",""],["font-size",(Xt,Qt)=>(Xt=Qt.fontSize=(0,ht.getMeasurement)(Xt),(0,_t.measureToString)(.99*Xt))],["letter-spacing",Xt=>(0,_t.measureToString)((0,ht.getMeasurement)(Xt))],["line-height",Xt=>(0,_t.measureToString)((0,ht.getMeasurement)(Xt))],["margin",Xt=>(0,_t.measureToString)((0,ht.getMeasurement)(Xt))],["margin-bottom",Xt=>(0,_t.measureToString)((0,ht.getMeasurement)(Xt))],["margin-left",Xt=>(0,_t.measureToString)((0,ht.getMeasurement)(Xt))],["margin-right",Xt=>(0,_t.measureToString)((0,ht.getMeasurement)(Xt))],["margin-top",Xt=>(0,_t.measureToString)((0,ht.getMeasurement)(Xt))],["text-indent",Xt=>(0,_t.measureToString)((0,ht.getMeasurement)(Xt))],["font-family",Xt=>Xt],["vertical-align",Xt=>(0,_t.measureToString)((0,ht.getMeasurement)(Xt))]]),$t=/\s+/g,Ot=/[\r\n]+/g,jt=/\r\n?/g;function Rt(Xt,Qt,ln){const on=Object.create(null);if(!Xt)return on;const cn=Object.create(null);for(const[rn,an]of Xt.split(";").map(xn=>xn.split(":",2))){const xn=Lt.get(rn);if(xn==="")continue;let wn=an;xn&&(wn=typeof xn=="string"?xn:xn(an,cn)),rn.endsWith("scale")?on.transform=on.transform?`${on[rn]} ${wn}`:wn:on[rn.replaceAll(/-([a-zA-Z])/g,(En,Fn)=>Fn.toUpperCase())]=wn}if(on.fontFamily&&(0,_t.setFontFamily)({typeface:on.fontFamily,weight:on.fontWeight||"normal",posture:on.fontStyle||"normal",size:cn.fontSize||0},Qt,Qt[wt.$globalData].fontFinder,on),ln&&on.verticalAlign&&on.verticalAlign!=="0px"&&on.fontSize){const xn=(0,ht.getMeasurement)(on.fontSize);on.fontSize=(0,_t.measureToString)(xn*.583),on.verticalAlign=(0,_t.measureToString)(Math.sign((0,ht.getMeasurement)(on.verticalAlign))*xn*.333)}return ln&&on.fontSize&&(on.fontSize=`calc(${on.fontSize} * var(--scale-factor))`),(0,_t.fixTextIndent)(on),on}function Kt(Xt){return Xt.style?Xt.style.trim().split(/\s*;\s*/).filter(Qt=>!!Qt).map(Qt=>Qt.split(/\s*:\s*/,2)).filter(([Qt,ln])=>(Qt==="font-family"&&Xt[wt.$globalData].usedTypefaces.add(ln),qt.has(Qt))).map(Qt=>Qt.join(":")).join(";"):""}const Bt=new Set(["body","html"]);class Gt extends vt.XmlObject{constructor(Qt,ln){super(Ft,ln),this[Vt]=!1,this.style=Qt.style||""}[wt.$clean](Qt){super[wt.$clean](Qt),this.style=Kt(this)}[wt.$acceptWhitespace](){return!Bt.has(this[wt.$nodeName])}[wt.$onText](Qt,ln=!1){ln?this[Vt]=!0:(Qt=Qt.replaceAll(Ot,""),this.style.includes("xfa-spacerun:yes")||(Qt=Qt.replaceAll($t," "))),Qt&&(this[wt.$content]+=Qt)}[wt.$pushGlyphs](Qt,ln=!0){const on=Object.create(null),cn={top:NaN,bottom:NaN,left:NaN,right:NaN};let rn=null;for(const[an,xn]of this.style.split(";").map(wn=>wn.split(":",2)))switch(an){case"font-family":on.typeface=(0,ht.stripQuotes)(xn);break;case"font-size":on.size=(0,ht.getMeasurement)(xn);break;case"font-weight":on.weight=xn;break;case"font-style":on.posture=xn;break;case"letter-spacing":on.letterSpacing=(0,ht.getMeasurement)(xn);break;case"margin":const wn=xn.split(/ \t/).map(En=>(0,ht.getMeasurement)(En));switch(wn.length){case 1:cn.top=cn.bottom=cn.left=cn.right=wn[0];break;case 2:cn.top=cn.bottom=wn[0],cn.left=cn.right=wn[1];break;case 3:cn.top=wn[0],cn.bottom=wn[2],cn.left=cn.right=wn[1];break;case 4:cn.top=wn[0],cn.left=wn[1],cn.bottom=wn[2],cn.right=wn[3];break}break;case"margin-top":cn.top=(0,ht.getMeasurement)(xn);break;case"margin-bottom":cn.bottom=(0,ht.getMeasurement)(xn);break;case"margin-left":cn.left=(0,ht.getMeasurement)(xn);break;case"margin-right":cn.right=(0,ht.getMeasurement)(xn);break;case"line-height":rn=(0,ht.getMeasurement)(xn);break}if(Qt.pushData(on,cn,rn),this[wt.$content])Qt.addString(this[wt.$content]);else for(const an of this[wt.$getChildren]()){if(an[wt.$nodeName]==="#text"){Qt.addString(an[wt.$content]);continue}an[wt.$pushGlyphs](Qt)}ln&&Qt.popFont()}[wt.$toHTML](Qt){const ln=[];if(this[wt.$extra]={children:ln},this[wt.$childrenToHTML]({}),ln.length===0&&!this[wt.$content])return ht.HTMLResult.EMPTY;let on;return this[Vt]?on=this[wt.$content]?this[wt.$content].replaceAll(jt,`
`):void 0:on=this[wt.$content]||void 0,ht.HTMLResult.success({name:this[wt.$nodeName],attributes:{href:this.href,style:Rt(this.style,this,this[Vt])},children:ln,value:on})}}class en extends Gt{constructor(Qt){super(Qt,"a"),this.href=(0,_t.fixURL)(Qt.href)||""}}class hn extends Gt{constructor(Qt){super(Qt,"b")}[wt.$pushGlyphs](Qt){Qt.pushFont({weight:"bold"}),super[wt.$pushGlyphs](Qt),Qt.popFont()}}class tn extends Gt{constructor(Qt){super(Qt,"body")}[wt.$toHTML](Qt){const ln=super[wt.$toHTML](Qt),{html:on}=ln;return on?(on.name="div",on.attributes.class=["xfaRich"],ln):ht.HTMLResult.EMPTY}}class gn extends Gt{constructor(Qt){super(Qt,"br")}[wt.$text](){return`
`}[wt.$pushGlyphs](Qt){Qt.addString(`
`)}[wt.$toHTML](Qt){return ht.HTMLResult.success({name:"br"})}}class nn extends Gt{constructor(Qt){super(Qt,"html")}[wt.$toHTML](Qt){var on;const ln=[];if(this[wt.$extra]={children:ln},this[wt.$childrenToHTML]({}),ln.length===0)return ht.HTMLResult.success({name:"div",attributes:{class:["xfaRich"],style:{}},value:this[wt.$content]||""});if(ln.length===1){const cn=ln[0];if((on=cn.attributes)!=null&&on.class.includes("xfaRich"))return ht.HTMLResult.success(cn)}return ht.HTMLResult.success({name:"div",attributes:{class:["xfaRich"],style:{}},children:ln})}}class bn extends Gt{constructor(Qt){super(Qt,"i")}[wt.$pushGlyphs](Qt){Qt.pushFont({posture:"italic"}),super[wt.$pushGlyphs](Qt),Qt.popFont()}}class Wt extends Gt{constructor(Qt){super(Qt,"li")}}class Yt extends Gt{constructor(Qt){super(Qt,"ol")}}class dn extends Gt{constructor(Qt){super(Qt,"p")}[wt.$pushGlyphs](Qt){super[wt.$pushGlyphs](Qt,!1),Qt.addString(`
`),Qt.addPara(),Qt.popFont()}[wt.$text](){return this[wt.$getParent]()[wt.$getChildren]().at(-1)===this?super[wt.$text]():super[wt.$text]()+`
`}}class Ut extends Gt{constructor(Qt){super(Qt,"span")}}class Mt extends Gt{constructor(Qt){super(Qt,"sub")}}class Ht extends Gt{constructor(Qt){super(Qt,"sup")}}class sn extends Gt{constructor(Qt){super(Qt,"ul")}}class zt{static[kt.$buildXFAObject](Qt,ln){if(zt.hasOwnProperty(Qt))return zt[Qt](ln)}static a(Qt){return new en(Qt)}static b(Qt){return new hn(Qt)}static body(Qt){return new tn(Qt)}static br(Qt){return new gn(Qt)}static html(Qt){return new nn(Qt)}static i(Qt){return new bn(Qt)}static li(Qt){return new Wt(Qt)}static ol(Qt){return new Yt(Qt)}static p(Qt){return new dn(Qt)}static span(Qt){return new Ut(Qt)}static sub(Qt){return new Mt(Qt)}static sup(Qt){return new Ht(Qt)}static ul(Qt){return new sn(Qt)}}Et.XhtmlNamespace=zt},(Ct,Et,Pt)=>{Object.defineProperty(Et,"__esModule",{value:!0}),Et.UnknownNamespace=void 0;var wt=Pt(81),kt=Pt(87);class _t{constructor(vt){this.namespaceId=vt}[wt.$buildXFAObject](vt,Ft){return new kt.XmlObject(this.namespaceId,vt,Ft)}}Et.UnknownNamespace=_t},(Ct,Et,Pt)=>{Object.defineProperty(Et,"__esModule",{value:!0}),Et.DatasetReader=void 0;var wt=Pt(2),kt=Pt(3),_t=Pt(71);function ht(Vt){try{return(0,wt.stringToUTF8String)(Vt)}catch(qt){return(0,wt.warn)(`UTF-8 decoding failed: "${qt}".`),Vt}}class vt extends _t.SimpleXMLParser{constructor(qt){super(qt),this.node=null}onEndElement(qt){const Lt=super.onEndElement(qt);if(Lt&&qt==="xfa:datasets")throw this.node=Lt,new Error("Aborting DatasetXMLParser.")}}class Ft{constructor(qt){if(qt.datasets)this.node=new _t.SimpleXMLParser({hasAttributes:!0}).parseFromString(qt.datasets).documentElement;else{const Lt=new vt({hasAttributes:!0});try{Lt.parseFromString(qt["xdp:xdp"])}catch{}this.node=Lt.node}}getValue(qt){if(!this.node||!qt)return"";const Lt=this.node.searchNode((0,kt.parseXFAPath)(qt),0);if(!Lt)return"";const $t=Lt.firstChild;return($t==null?void 0:$t.nodeName)==="value"?Lt.children.map(Ot=>ht(Ot.textContent)):ht(Lt.textContent)}}Et.DatasetReader=Ft},(Ct,Et,Pt)=>{var qt;Object.defineProperty(Et,"__esModule",{value:!0}),Et.XRef=void 0;var wt=Pt(2),kt=Pt(4),_t=Pt(16),ht=Pt(3),vt=Pt(5),Ft=Pt(74);class Vt{constructor($t,Ot){Nn(this,qt,null);this.stream=$t,this.pdfManager=Ot,this.entries=[],this._xrefStms=new Set,this._cacheMap=new Map,this._pendingRefs=new kt.RefSet,this._newPersistentRefNum=null,this._newTemporaryRefNum=null}getNewPersistentRef($t){this._newPersistentRefNum===null&&(this._newPersistentRefNum=this.entries.length||1);const Ot=this._newPersistentRefNum++;return this._cacheMap.set(Ot,$t),kt.Ref.get(Ot,0)}getNewTemporaryRef(){return this._newTemporaryRefNum===null&&(this._newTemporaryRefNum=this.entries.length||1),kt.Ref.get(this._newTemporaryRefNum++,0)}resetNewTemporaryRef(){this._newTemporaryRefNum=null}setStartXRef($t){this.startXRefQueue=[$t]}parse($t=!1){let Ot;$t?((0,wt.warn)("Indexing all PDF objects"),Ot=this.indexObjects()):Ot=this.readXRef(),Ot.assignXref(this),this.trailer=Ot;let jt;try{jt=Ot.get("Encrypt")}catch(Kt){if(Kt instanceof ht.MissingDataException)throw Kt;(0,wt.warn)(`XRef.parse - Invalid "Encrypt" reference: "${Kt}".`)}if(jt instanceof kt.Dict){const Kt=Ot.get("ID"),Bt=Kt!=null&&Kt.length?Kt[0]:"";jt.suppressEncryption=!0,this.encrypt=new Ft.CipherTransformFactory(jt,Bt,this.pdfManager.password)}let Rt;try{Rt=Ot.get("Root")}catch(Kt){if(Kt instanceof ht.MissingDataException)throw Kt;(0,wt.warn)(`XRef.parse - Invalid "Root" reference: "${Kt}".`)}if(Rt instanceof kt.Dict)try{if(Rt.get("Pages")instanceof kt.Dict){this.root=Rt;return}}catch(Kt){if(Kt instanceof ht.MissingDataException)throw Kt;(0,wt.warn)(`XRef.parse - Invalid "Pages" reference: "${Kt}".`)}throw $t?new wt.InvalidPDFException("Invalid Root reference."):new ht.XRefParseException}processXRefTable($t){"tableState"in this||(this.tableState={entryNum:0,streamPos:$t.lexer.stream.pos,parserBuf1:$t.buf1,parserBuf2:$t.buf2});const Ot=this.readXRefTable($t);if(!(0,kt.isCmd)(Ot,"trailer"))throw new wt.FormatError("Invalid XRef table: could not find trailer dictionary");let jt=$t.getObj();if(!(jt instanceof kt.Dict)&&jt.dict&&(jt=jt.dict),!(jt instanceof kt.Dict))throw new wt.FormatError("Invalid XRef table: could not parse trailer dictionary");return delete this.tableState,jt}readXRefTable($t){const Ot=$t.lexer.stream,jt=this.tableState;Ot.pos=jt.streamPos,$t.buf1=jt.parserBuf1,$t.buf2=jt.parserBuf2;let Rt;for(;;){if(!("firstEntryNum"in jt)||!("entryCount"in jt)){if((0,kt.isCmd)(Rt=$t.getObj(),"trailer"))break;jt.firstEntryNum=Rt,jt.entryCount=$t.getObj()}let Kt=jt.firstEntryNum;const Bt=jt.entryCount;if(!Number.isInteger(Kt)||!Number.isInteger(Bt))throw new wt.FormatError("Invalid XRef table: wrong types in subsection header");for(let Gt=jt.entryNum;Gt<Bt;Gt++){jt.streamPos=Ot.pos,jt.entryNum=Gt,jt.parserBuf1=$t.buf1,jt.parserBuf2=$t.buf2;const en={};en.offset=$t.getObj(),en.gen=$t.getObj();const hn=$t.getObj();if(hn instanceof kt.Cmd)switch(hn.cmd){case"f":en.free=!0;break;case"n":en.uncompressed=!0;break}if(!Number.isInteger(en.offset)||!Number.isInteger(en.gen)||!(en.free||en.uncompressed))throw new wt.FormatError(`Invalid entry in XRef subsection: ${Kt}, ${Bt}`);Gt===0&&en.free&&Kt===1&&(Kt=0),this.entries[Gt+Kt]||(this.entries[Gt+Kt]=en)}jt.entryNum=0,jt.streamPos=Ot.pos,jt.parserBuf1=$t.buf1,jt.parserBuf2=$t.buf2,delete jt.firstEntryNum,delete jt.entryCount}if(this.entries[0]&&!this.entries[0].free)throw new wt.FormatError("Invalid XRef table: unexpected first object");return Rt}processXRefStream($t){if(!("streamState"in this)){const Ot=$t.dict,jt=Ot.get("W");let Rt=Ot.get("Index");Rt||(Rt=[0,Ot.get("Size")]),this.streamState={entryRanges:Rt,byteWidths:jt,entryNum:0,streamPos:$t.pos}}return this.readXRefStream($t),delete this.streamState,$t.dict}readXRefStream($t){const Ot=this.streamState;$t.pos=Ot.streamPos;const[jt,Rt,Kt]=Ot.byteWidths,Bt=Ot.entryRanges;for(;Bt.length>0;){const[Gt,en]=Bt;if(!Number.isInteger(Gt)||!Number.isInteger(en))throw new wt.FormatError(`Invalid XRef range fields: ${Gt}, ${en}`);if(!Number.isInteger(jt)||!Number.isInteger(Rt)||!Number.isInteger(Kt))throw new wt.FormatError(`Invalid XRef entry fields length: ${Gt}, ${en}`);for(let hn=Ot.entryNum;hn<en;++hn){Ot.entryNum=hn,Ot.streamPos=$t.pos;let tn=0,gn=0,nn=0;for(let Wt=0;Wt<jt;++Wt){const Yt=$t.getByte();if(Yt===-1)throw new wt.FormatError("Invalid XRef byteWidths 'type'.");tn=tn<<8|Yt}jt===0&&(tn=1);for(let Wt=0;Wt<Rt;++Wt){const Yt=$t.getByte();if(Yt===-1)throw new wt.FormatError("Invalid XRef byteWidths 'offset'.");gn=gn<<8|Yt}for(let Wt=0;Wt<Kt;++Wt){const Yt=$t.getByte();if(Yt===-1)throw new wt.FormatError("Invalid XRef byteWidths 'generation'.");nn=nn<<8|Yt}const bn={};switch(bn.offset=gn,bn.gen=nn,tn){case 0:bn.free=!0;break;case 1:bn.uncompressed=!0;break;case 2:break;default:throw new wt.FormatError(`Invalid XRef entry type: ${tn}`)}this.entries[Gt+hn]||(this.entries[Gt+hn]=bn)}Ot.entryNum=0,Ot.streamPos=$t.pos,Bt.splice(0,2)}}indexObjects(){function Gt(cn,rn){let an="",xn=cn[rn];for(;xn!==10&&xn!==13&&xn!==60&&!(++rn>=cn.length);)an+=String.fromCharCode(xn),xn=cn[rn];return an}function en(cn,rn,an){const xn=an.length,wn=cn.length;let En=0;for(;rn<wn;){let Fn=0;for(;Fn<xn&&cn[rn+Fn]===an[Fn];)++Fn;if(Fn>=xn)break;rn++,En++}return En}const hn=/\b(endobj|\d+\s+\d+\s+obj|xref|trailer\s*<<)\b/g,tn=/\b(startxref|\d+\s+\d+\s+obj)\b/g,gn=/^(\d+)\s+(\d+)\s+obj\b/,nn=new Uint8Array([116,114,97,105,108,101,114]),bn=new Uint8Array([115,116,97,114,116,120,114,101,102]),Wt=new Uint8Array([47,88,82,101,102]);this.entries.length=0,this._cacheMap.clear();const Yt=this.stream;Yt.pos=0;const dn=Yt.getBytes(),Ut=(0,wt.bytesToString)(dn),Mt=dn.length;let Ht=Yt.start;const sn=[],zt=[];for(;Ht<Mt;){let cn=dn[Ht];if(cn===9||cn===10||cn===13||cn===32){++Ht;continue}if(cn===37){do{if(++Ht,Ht>=Mt)break;cn=dn[Ht]}while(cn!==10&&cn!==13);continue}const rn=Gt(dn,Ht);let an;if(rn.startsWith("xref")&&(rn.length===4||/\s/.test(rn[4])))Ht+=en(dn,Ht,nn),sn.push(Ht),Ht+=en(dn,Ht,bn);else if(an=gn.exec(rn)){const xn=an[1]|0,wn=an[2]|0,En=Ht+rn.length;let Fn,In=!1;if(!this.entries[xn])In=!0;else if(this.entries[xn].gen===wn)try{new _t.Parser({lexer:new _t.Lexer(Yt.makeSubStream(En))}).getObj(),In=!0}catch(pn){pn instanceof ht.ParserEOFException?(0,wt.warn)(`indexObjects -- checking object (${rn}): "${pn}".`):In=!0}In&&(this.entries[xn]={offset:Ht-Yt.start,gen:wn,uncompressed:!0}),hn.lastIndex=En;const Tn=hn.exec(Ut);Tn?(Fn=hn.lastIndex+1-Ht,Tn[1]!=="endobj"&&((0,wt.warn)(`indexObjects: Found "${Tn[1]}" inside of another "obj", caused by missing "endobj" -- trying to recover.`),Fn-=Tn[1].length+1)):Fn=Mt-Ht;const An=dn.subarray(Ht,Ht+Fn),mn=en(An,0,Wt);mn<Fn&&An[mn+5]<64&&(zt.push(Ht-Yt.start),this._xrefStms.add(Ht-Yt.start)),Ht+=Fn}else if(rn.startsWith("trailer")&&(rn.length===7||/\s/.test(rn[7]))){sn.push(Ht);const xn=Ht+rn.length;let wn;tn.lastIndex=xn;const En=tn.exec(Ut);En?(wn=tn.lastIndex+1-Ht,En[1]!=="startxref"&&((0,wt.warn)(`indexObjects: Found "${En[1]}" after "trailer", caused by missing "startxref" -- trying to recover.`),wn-=En[1].length+1)):wn=Mt-Ht,Ht+=wn}else Ht+=rn.length+1}for(const cn of zt)this.startXRefQueue.push(cn),this.readXRef(!0);const Xt=[];let Qt=!1;for(const cn of sn){Yt.pos=cn;const rn=new _t.Parser({lexer:new _t.Lexer(Yt),xref:this,allowStreams:!0,recoveryMode:!0}),an=rn.getObj();if(!(0,kt.isCmd)(an,"trailer"))continue;const xn=rn.getObj();xn instanceof kt.Dict&&(Xt.push(xn),xn.has("Encrypt")&&(Qt=!0))}let ln,on;for(const cn of[...Xt,"genFallback",...Xt]){if(cn==="genFallback"){if(!on)break;this._generationFallback=!0;continue}let rn=!1;try{const an=cn.get("Root");if(!(an instanceof kt.Dict))continue;const xn=an.get("Pages");if(!(xn instanceof kt.Dict))continue;const wn=xn.get("Count");Number.isInteger(wn)&&(rn=!0)}catch(an){on=an;continue}if(rn&&(!Qt||cn.has("Encrypt"))&&cn.has("ID"))return cn;ln=cn}if(ln)return ln;if(this.topDict)return this.topDict;throw new wt.InvalidPDFException("Invalid PDF structure.")}readXRef($t=!1){const Ot=this.stream,jt=new Set;for(;this.startXRefQueue.length;){try{const Rt=this.startXRefQueue[0];if(jt.has(Rt)){(0,wt.warn)("readXRef - skipping XRef table since it was already parsed."),this.startXRefQueue.shift();continue}jt.add(Rt),Ot.pos=Rt+Ot.start;const Kt=new _t.Parser({lexer:new _t.Lexer(Ot),xref:this,allowStreams:!0});let Bt=Kt.getObj(),Gt;if((0,kt.isCmd)(Bt,"xref"))Gt=this.processXRefTable(Kt),this.topDict||(this.topDict=Gt),Bt=Gt.get("XRefStm"),Number.isInteger(Bt)&&!this._xrefStms.has(Bt)&&(this._xrefStms.add(Bt),this.startXRefQueue.push(Bt),Dt(this,qt)??$n(this,qt,Bt));else if(Number.isInteger(Bt)){if(!Number.isInteger(Kt.getObj())||!(0,kt.isCmd)(Kt.getObj(),"obj")||!((Bt=Kt.getObj())instanceof vt.BaseStream))throw new wt.FormatError("Invalid XRef stream");if(Gt=this.processXRefStream(Bt),this.topDict||(this.topDict=Gt),!Gt)throw new wt.FormatError("Failed to read XRef stream")}else throw new wt.FormatError("Invalid XRef stream header");Bt=Gt.get("Prev"),Number.isInteger(Bt)?this.startXRefQueue.push(Bt):Bt instanceof kt.Ref&&this.startXRefQueue.push(Bt.num)}catch(Rt){if(Rt instanceof ht.MissingDataException)throw Rt;(0,wt.info)("(while reading XRef): "+Rt)}this.startXRefQueue.shift()}if(this.topDict)return this.topDict;if(!$t)throw new ht.XRefParseException}get lastXRefStreamPos(){return Dt(this,qt)??(this._xrefStms.size>0?Math.max(...this._xrefStms):null)}getEntry($t){const Ot=this.entries[$t];return Ot&&!Ot.free&&Ot.offset?Ot:null}fetchIfRef($t,Ot=!1){return $t instanceof kt.Ref?this.fetch($t,Ot):$t}fetch($t,Ot=!1){if(!($t instanceof kt.Ref))throw new Error("ref object is not a reference");const jt=$t.num,Rt=this._cacheMap.get(jt);if(Rt!==void 0)return Rt instanceof kt.Dict&&!Rt.objId&&(Rt.objId=$t.toString()),Rt;let Kt=this.getEntry(jt);if(Kt===null)return this._cacheMap.set(jt,Kt),Kt;if(this._pendingRefs.has($t))return this._pendingRefs.remove($t),(0,wt.warn)(`Ignoring circular reference: ${$t}.`),kt.CIRCULAR_REF;this._pendingRefs.put($t);try{Kt=Kt.uncompressed?this.fetchUncompressed($t,Kt,Ot):this.fetchCompressed($t,Kt,Ot),this._pendingRefs.remove($t)}catch(Bt){throw this._pendingRefs.remove($t),Bt}return Kt instanceof kt.Dict?Kt.objId=$t.toString():Kt instanceof vt.BaseStream&&(Kt.dict.objId=$t.toString()),Kt}fetchUncompressed($t,Ot,jt=!1){const Rt=$t.gen;let Kt=$t.num;if(Ot.gen!==Rt){const gn=`Inconsistent generation in XRef: ${$t}`;if(this._generationFallback&&Ot.gen<Rt)return(0,wt.warn)(gn),this.fetchUncompressed(kt.Ref.get(Kt,Ot.gen),Ot,jt);throw new ht.XRefEntryException(gn)}const Bt=this.stream.makeSubStream(Ot.offset+this.stream.start),Gt=new _t.Parser({lexer:new _t.Lexer(Bt),xref:this,allowStreams:!0}),en=Gt.getObj(),hn=Gt.getObj(),tn=Gt.getObj();if(en!==Kt||hn!==Rt||!(tn instanceof kt.Cmd))throw new ht.XRefEntryException(`Bad (uncompressed) XRef entry: ${$t}`);if(tn.cmd!=="obj"){if(tn.cmd.startsWith("obj")&&(Kt=parseInt(tn.cmd.substring(3),10),!Number.isNaN(Kt)))return Kt;throw new ht.XRefEntryException(`Bad (uncompressed) XRef entry: ${$t}`)}return Ot=this.encrypt&&!jt?Gt.getObj(this.encrypt.createCipherTransform(Kt,Rt)):Gt.getObj(),Ot instanceof vt.BaseStream||this._cacheMap.set(Kt,Ot),Ot}fetchCompressed($t,Ot,jt=!1){const Rt=Ot.offset,Kt=this.fetch(kt.Ref.get(Rt,0));if(!(Kt instanceof vt.BaseStream))throw new wt.FormatError("bad ObjStm stream");const Bt=Kt.dict.get("First"),Gt=Kt.dict.get("N");if(!Number.isInteger(Bt)||!Number.isInteger(Gt))throw new wt.FormatError("invalid first and n parameters for ObjStm stream");let en=new _t.Parser({lexer:new _t.Lexer(Kt),xref:this,allowStreams:!0});const hn=new Array(Gt),tn=new Array(Gt);for(let bn=0;bn<Gt;++bn){const Wt=en.getObj();if(!Number.isInteger(Wt))throw new wt.FormatError(`invalid object number in the ObjStm stream: ${Wt}`);const Yt=en.getObj();if(!Number.isInteger(Yt))throw new wt.FormatError(`invalid object offset in the ObjStm stream: ${Yt}`);hn[bn]=Wt,tn[bn]=Yt}const gn=(Kt.start||0)+Bt,nn=new Array(Gt);for(let bn=0;bn<Gt;++bn){const Wt=bn<Gt-1?tn[bn+1]-tn[bn]:void 0;if(Wt<0)throw new wt.FormatError("Invalid offset in the ObjStm stream.");en=new _t.Parser({lexer:new _t.Lexer(Kt.makeSubStream(gn+tn[bn],Wt,Kt.dict)),xref:this,allowStreams:!0});const Yt=en.getObj();if(nn[bn]=Yt,Yt instanceof vt.BaseStream)continue;const dn=hn[bn],Ut=this.entries[dn];Ut&&Ut.offset===Rt&&Ut.gen===bn&&this._cacheMap.set(dn,Yt)}if(Ot=nn[Ot.gen],Ot===void 0)throw new ht.XRefEntryException(`Bad (compressed) XRef entry: ${$t}`);return Ot}async fetchIfRefAsync($t,Ot){return $t instanceof kt.Ref?this.fetchAsync($t,Ot):$t}async fetchAsync($t,Ot){try{return this.fetch($t,Ot)}catch(jt){if(!(jt instanceof ht.MissingDataException))throw jt;return await this.pdfManager.requestRange(jt.begin,jt.end),this.fetchAsync($t,Ot)}}getCatalogObj(){return this.root}}qt=new WeakMap,Et.XRef=Vt},(Ct,Et,Pt)=>{var Ft,E5,C5,H2;Object.defineProperty(Et,"__esModule",{value:!0}),Et.MessageHandler=void 0;var wt=Pt(2);const kt={UNKNOWN:0,DATA:1,ERROR:2},_t={UNKNOWN:0,CANCEL:1,CANCEL_COMPLETE:2,CLOSE:3,ENQUEUE:4,ERROR:5,PULL:6,PULL_COMPLETE:7,START_COMPLETE:8};function ht($t){switch($t instanceof Error||typeof $t=="object"&&$t!==null||(0,wt.unreachable)('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),$t.name){case"AbortException":return new wt.AbortException($t.message);case"MissingPDFException":return new wt.MissingPDFException($t.message);case"PasswordException":return new wt.PasswordException($t.message,$t.code);case"UnexpectedResponseException":return new wt.UnexpectedResponseException($t.message,$t.status);case"UnknownErrorException":return new wt.UnknownErrorException($t.message,$t.details);default:return new wt.UnknownErrorException($t.message,$t.toString())}}class vt{constructor(Ot,jt,Rt){Nn(this,Ft);this.sourceName=Ot,this.targetName=jt,this.comObj=Rt,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),this._onComObjOnMessage=Kt=>{const Bt=Kt.data;if(Bt.targetName!==this.sourceName)return;if(Bt.stream){On(this,Ft,C5).call(this,Bt);return}if(Bt.callback){const en=Bt.callbackId,hn=this.callbackCapabilities[en];if(!hn)throw new Error(`Cannot resolve callback ${en}`);if(delete this.callbackCapabilities[en],Bt.callback===kt.DATA)hn.resolve(Bt.data);else if(Bt.callback===kt.ERROR)hn.reject(ht(Bt.reason));else throw new Error("Unexpected callback case");return}const Gt=this.actionHandler[Bt.action];if(!Gt)throw new Error(`Unknown action from worker: ${Bt.action}`);if(Bt.callbackId){const en=this.sourceName,hn=Bt.sourceName;new Promise(function(tn){tn(Gt(Bt.data))}).then(function(tn){Rt.postMessage({sourceName:en,targetName:hn,callback:kt.DATA,callbackId:Bt.callbackId,data:tn})},function(tn){Rt.postMessage({sourceName:en,targetName:hn,callback:kt.ERROR,callbackId:Bt.callbackId,reason:ht(tn)})});return}if(Bt.streamId){On(this,Ft,E5).call(this,Bt);return}Gt(Bt.data)},Rt.addEventListener("message",this._onComObjOnMessage)}on(Ot,jt){const Rt=this.actionHandler;if(Rt[Ot])throw new Error(`There is already an actionName called "${Ot}"`);Rt[Ot]=jt}send(Ot,jt,Rt){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:Ot,data:jt},Rt)}sendWithPromise(Ot,jt,Rt){const Kt=this.callbackId++,Bt=new wt.PromiseCapability;this.callbackCapabilities[Kt]=Bt;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:Ot,callbackId:Kt,data:jt},Rt)}catch(Gt){Bt.reject(Gt)}return Bt.promise}sendWithStream(Ot,jt,Rt,Kt){const Bt=this.streamId++,Gt=this.sourceName,en=this.targetName,hn=this.comObj;return new ReadableStream({start:tn=>{const gn=new wt.PromiseCapability;return this.streamControllers[Bt]={controller:tn,startCall:gn,pullCall:null,cancelCall:null,isClosed:!1},hn.postMessage({sourceName:Gt,targetName:en,action:Ot,streamId:Bt,data:jt,desiredSize:tn.desiredSize},Kt),gn.promise},pull:tn=>{const gn=new wt.PromiseCapability;return this.streamControllers[Bt].pullCall=gn,hn.postMessage({sourceName:Gt,targetName:en,stream:_t.PULL,streamId:Bt,desiredSize:tn.desiredSize}),gn.promise},cancel:tn=>{(0,wt.assert)(tn instanceof Error,"cancel must have a valid reason");const gn=new wt.PromiseCapability;return this.streamControllers[Bt].cancelCall=gn,this.streamControllers[Bt].isClosed=!0,hn.postMessage({sourceName:Gt,targetName:en,stream:_t.CANCEL,streamId:Bt,reason:ht(tn)}),gn.promise}},Rt)}destroy(){this.comObj.removeEventListener("message",this._onComObjOnMessage)}}Ft=new WeakSet,E5=function(Ot){const jt=Ot.streamId,Rt=this.sourceName,Kt=Ot.sourceName,Bt=this.comObj,Gt=this,en=this.actionHandler[Ot.action],hn={enqueue(tn,gn=1,nn){if(this.isCancelled)return;const bn=this.desiredSize;this.desiredSize-=gn,bn>0&&this.desiredSize<=0&&(this.sinkCapability=new wt.PromiseCapability,this.ready=this.sinkCapability.promise),Bt.postMessage({sourceName:Rt,targetName:Kt,stream:_t.ENQUEUE,streamId:jt,chunk:tn},nn)},close(){this.isCancelled||(this.isCancelled=!0,Bt.postMessage({sourceName:Rt,targetName:Kt,stream:_t.CLOSE,streamId:jt}),delete Gt.streamSinks[jt])},error(tn){(0,wt.assert)(tn instanceof Error,"error must have a valid reason"),!this.isCancelled&&(this.isCancelled=!0,Bt.postMessage({sourceName:Rt,targetName:Kt,stream:_t.ERROR,streamId:jt,reason:ht(tn)}))},sinkCapability:new wt.PromiseCapability,onPull:null,onCancel:null,isCancelled:!1,desiredSize:Ot.desiredSize,ready:null};hn.sinkCapability.resolve(),hn.ready=hn.sinkCapability.promise,this.streamSinks[jt]=hn,new Promise(function(tn){tn(en(Ot.data,hn))}).then(function(){Bt.postMessage({sourceName:Rt,targetName:Kt,stream:_t.START_COMPLETE,streamId:jt,success:!0})},function(tn){Bt.postMessage({sourceName:Rt,targetName:Kt,stream:_t.START_COMPLETE,streamId:jt,reason:ht(tn)})})},C5=function(Ot){const jt=Ot.streamId,Rt=this.sourceName,Kt=Ot.sourceName,Bt=this.comObj,Gt=this.streamControllers[jt],en=this.streamSinks[jt];switch(Ot.stream){case _t.START_COMPLETE:Ot.success?Gt.startCall.resolve():Gt.startCall.reject(ht(Ot.reason));break;case _t.PULL_COMPLETE:Ot.success?Gt.pullCall.resolve():Gt.pullCall.reject(ht(Ot.reason));break;case _t.PULL:if(!en){Bt.postMessage({sourceName:Rt,targetName:Kt,stream:_t.PULL_COMPLETE,streamId:jt,success:!0});break}en.desiredSize<=0&&Ot.desiredSize>0&&en.sinkCapability.resolve(),en.desiredSize=Ot.desiredSize,new Promise(function(hn){var tn;hn((tn=en.onPull)==null?void 0:tn.call(en))}).then(function(){Bt.postMessage({sourceName:Rt,targetName:Kt,stream:_t.PULL_COMPLETE,streamId:jt,success:!0})},function(hn){Bt.postMessage({sourceName:Rt,targetName:Kt,stream:_t.PULL_COMPLETE,streamId:jt,reason:ht(hn)})});break;case _t.ENQUEUE:if((0,wt.assert)(Gt,"enqueue should have stream controller"),Gt.isClosed)break;Gt.controller.enqueue(Ot.chunk);break;case _t.CLOSE:if((0,wt.assert)(Gt,"close should have stream controller"),Gt.isClosed)break;Gt.isClosed=!0,Gt.controller.close(),On(this,Ft,H2).call(this,Gt,jt);break;case _t.ERROR:(0,wt.assert)(Gt,"error should have stream controller"),Gt.controller.error(ht(Ot.reason)),On(this,Ft,H2).call(this,Gt,jt);break;case _t.CANCEL_COMPLETE:Ot.success?Gt.cancelCall.resolve():Gt.cancelCall.reject(ht(Ot.reason)),On(this,Ft,H2).call(this,Gt,jt);break;case _t.CANCEL:if(!en)break;new Promise(function(hn){var tn;hn((tn=en.onCancel)==null?void 0:tn.call(en,ht(Ot.reason)))}).then(function(){Bt.postMessage({sourceName:Rt,targetName:Kt,stream:_t.CANCEL_COMPLETE,streamId:jt,success:!0})},function(hn){Bt.postMessage({sourceName:Rt,targetName:Kt,stream:_t.CANCEL_COMPLETE,streamId:jt,reason:ht(hn)})}),en.sinkCapability.reject(ht(Ot.reason)),en.isCancelled=!0,delete this.streamSinks[jt];break;default:throw new Error("Unexpected stream case")}},H2=async function(Ot,jt){var Rt,Kt,Bt;await Promise.allSettled([(Rt=Ot.startCall)==null?void 0:Rt.promise,(Kt=Ot.pullCall)==null?void 0:Kt.promise,(Bt=Ot.cancelCall)==null?void 0:Bt.promise]),delete this.streamControllers[jt]},Et.MessageHandler=vt},(Ct,Et,Pt)=>{Object.defineProperty(Et,"__esModule",{value:!0}),Et.PDFWorkerStream=void 0;var wt=Pt(2);class kt{constructor(Ft){this._msgHandler=Ft,this._contentLength=null,this._fullRequestReader=null,this._rangeRequestReaders=[]}getFullReader(){return(0,wt.assert)(!this._fullRequestReader,"PDFWorkerStream.getFullReader can only be called once."),this._fullRequestReader=new _t(this._msgHandler),this._fullRequestReader}getRangeReader(Ft,Vt){const qt=new ht(Ft,Vt,this._msgHandler);return this._rangeRequestReaders.push(qt),qt}cancelAllRequests(Ft){var Vt;(Vt=this._fullRequestReader)==null||Vt.cancel(Ft);for(const qt of this._rangeRequestReaders.slice(0))qt.cancel(Ft)}}Et.PDFWorkerStream=kt;class _t{constructor(Ft){this._msgHandler=Ft,this.onProgress=null,this._contentLength=null,this._isRangeSupported=!1,this._isStreamingSupported=!1;const Vt=this._msgHandler.sendWithStream("GetReader");this._reader=Vt.getReader(),this._headersReady=this._msgHandler.sendWithPromise("ReaderHeadersReady").then(qt=>{this._isStreamingSupported=qt.isStreamingSupported,this._isRangeSupported=qt.isRangeSupported,this._contentLength=qt.contentLength})}get headersReady(){return this._headersReady}get contentLength(){return this._contentLength}get isStreamingSupported(){return this._isStreamingSupported}get isRangeSupported(){return this._isRangeSupported}async read(){const{value:Ft,done:Vt}=await this._reader.read();return Vt?{value:void 0,done:!0}:{value:Ft.buffer,done:!1}}cancel(Ft){this._reader.cancel(Ft)}}class ht{constructor(Ft,Vt,qt){this._msgHandler=qt,this.onProgress=null;const Lt=this._msgHandler.sendWithStream("GetRangeReader",{begin:Ft,end:Vt});this._reader=Lt.getReader()}get isStreamingSupported(){return!1}async read(){const{value:Ft,done:Vt}=await this._reader.read();return Vt?{value:void 0,done:!0}:{value:Ft.buffer,done:!1}}cancel(Ft){this._reader.cancel(Ft)}}}],bt={};function St(Ct){var Et=bt[Ct];if(Et!==void 0)return Et.exports;var Pt=bt[Ct]={exports:{}};return xt[Ct](Pt,Pt.exports,St),Pt.exports}var At={};return(()=>{var Ct=At;Object.defineProperty(Ct,"__esModule",{value:!0}),Object.defineProperty(Ct,"WorkerMessageHandler",{enumerable:!0,get:function(){return Et.WorkerMessageHandler}});var Et=St(1)})(),At})())})(pdf_worker);var pdf_workerExports=pdf_worker.exports;(typeof window<"u"?window:{}).pdfjsWorker=pdf_workerExports;pdfjs.GlobalWorkerOptions.workerSrc=pdf_worker_entry;function PdfShow(){const{state:_e}=useLocation(),{url:$}=_e,[xt,bt]=reactExports.useState(!1),[St,At]=reactExports.useState(null),[Ct,Et]=reactExports.useState(1),Pt=reactExports.useRef(null),wt=reactExports.useRef(null),kt=reactExports.useRef(null);reactExports.useEffect(()=>{(async()=>{try{const Lt=await fetch($).then(Ot=>Ot.arrayBuffer()),$t=await pdfjs.getDocument({data:Lt}).promise;At($t),ht($t,1,Pt.current,1)}catch(Lt){console.error("Error loading PDF:",Lt)}})()},[$]),reactExports.useEffect(()=>{const qt=()=>{kt.current&&xt&&St&&_t()};return window.addEventListener("resize",qt),()=>window.removeEventListener("resize",qt)},[xt,St]);const _t=async()=>{if(!St||!kt.current)return;const Lt=(await St.getPage(1)).getViewport({scale:1}),$t=kt.current.clientWidth,Ot=kt.current.clientHeight,jt=$t/Lt.width,Rt=Ot/Lt.height,Kt=Math.min(jt,Rt)*2;Et(Kt),vt(Kt)},ht=async(qt,Lt,$t,Ot)=>{const jt=await qt.getPage(Lt),Rt=jt.getViewport({scale:Ot});$t.height=Rt.height*2,$t.width=Rt.width*2;const Kt=$t.getContext("2d");Kt.scale(2,2),await jt.render({canvasContext:Kt,viewport:Rt,renderInteractiveForms:!0,canvasFactory:{create:function(Bt,Gt){const en=document.createElement("canvas");return en.width=Bt*2,en.height=Gt*2,en},reset:function(Bt,Gt,en){Bt.canvas.width=Gt*2,Bt.canvas.height=en*2},destroy:function(Bt){}}})},vt=async qt=>{if(!(!St||!wt.current)){wt.current.innerHTML="";for(let Lt=1;Lt<=St.numPages;Lt++){const $t=document.createElement("canvas");$t.style.width="100%",$t.style.height="auto",$t.style.marginBottom="10px",await ht(St,Lt,$t,qt),wt.current.appendChild($t)}}},Ft=async()=>{bt(!0),setTimeout(_t,0)},Vt=()=>{bt(!1),wt.current&&(wt.current.innerHTML="")};return jsxRuntimeExports.jsxs("div",{className:"relative",children:[jsxRuntimeExports.jsx("button",{onClick:Ft,className:"mt-4 px-4 py-2 bg-blue-500 text-white rounded",children:"View Full PDF"}),xt&&jsxRuntimeExports.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:jsxRuntimeExports.jsxs("div",{ref:kt,className:"bg-white rounded-lg w-3/4 max-w-4xl h-5/6 flex flex-col",children:[jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-center p-4",children:[jsxRuntimeExports.jsx("h2",{className:"text-xl font-bold",children:"PDF Viewer"}),jsxRuntimeExports.jsx("button",{onClick:Vt,className:"px-4 py-2 bg-red-500 text-white rounded",children:"Close"})]}),jsxRuntimeExports.jsx("div",{ref:wt,className:"flex-grow overflow-y-auto scrollbar-hide p-4",style:{msOverflowStyle:"none",scrollbarWidth:"none"}})]})})]})}function Editsvg(){return jsxRuntimeExports.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:"size-6 ",children:[jsxRuntimeExports.jsx("path",{d:"M21.731 2.269a2.625 2.625 0 0 0-3.712 0l-1.157 1.157 3.712 3.712 1.157-1.157a2.625 2.625 0 0 0 0-3.712ZM19.513 8.199l-3.712-3.712-8.4 8.4a5.25 5.25 0 0 0-1.32 2.214l-.8 2.685a.75.75 0 0 0 .933.933l2.685-.8a5.25 5.25 0 0 0 2.214-1.32l8.4-8.4Z"}),jsxRuntimeExports.jsx("path",{d:"M5.25 5.25a3 3 0 0 0-3 3v10.5a3 3 0 0 0 3 3h10.5a3 3 0 0 0 3-3V13.5a.75.75 0 0 0-1.5 0v5.25a1.5 1.5 0 0 1-1.5 1.5H5.25a1.5 1.5 0 0 1-1.5-1.5V8.25a1.5 1.5 0 0 1 1.5-1.5h5.25a.75.75 0 0 0 0-1.5H5.25Z"})]})}pdfjs.GlobalWorkerOptions.workerSrc=pdf_worker_entry;function Doctoranalysis(){const _e=reactExports.useRef(null),[$,xt]=reactExports.useState(0),bt=useLocation(),St=useNavigate(),[At,Ct]=reactExports.useState(null),[Et,Pt]=reactExports.useState(null),[wt,kt]=reactExports.useState(null),[_t,ht]=reactExports.useState(null),[vt,Ft]=reactExports.useState(null),[Vt,qt]=reactExports.useState(!1),[Lt,$t]=reactExports.useState([]),[Ot,jt]=reactExports.useState(!1),[Rt,Kt]=reactExports.useState(""),[Bt,Gt]=reactExports.useState(null),[en,hn]=reactExports.useState(null),[tn,gn]=reactExports.useState(!1),[nn,bn]=reactExports.useState(null),[Wt,Yt]=reactExports.useState(1),dn=reactExports.useRef(null),Ut=reactExports.useRef(null),Mt=reactExports.useRef(null);reactExports.useEffect(()=>{(async()=>{if(en)try{const Fn=await fetch(en).then(Tn=>Tn.arrayBuffer()),In=await pdfjs.getDocument({data:Fn}).promise;bn(In),sn(In,1,dn.current,1)}catch(Fn){console.error("Error loading PDF:",Fn)}})()},[en]),reactExports.useEffect(()=>{const En=()=>{Mt.current&&tn&&nn&&Ht()};return window.addEventListener("resize",En),()=>window.removeEventListener("resize",En)},[tn,nn]);const Ht=async()=>{if(!nn||!Mt.current)return;const Fn=(await nn.getPage(1)).getViewport({scale:1}),In=Mt.current.clientWidth,Tn=Mt.current.clientHeight,An=In/Fn.width,mn=Tn/Fn.height,pn=Math.min(An,mn)*2;Yt(pn),zt(pn)},sn=async(En,Fn,In,Tn)=>{const An=await En.getPage(Fn),mn=An.getViewport({scale:Tn});In.height=mn.height*2,In.width=mn.width*2;const pn=In.getContext("2d");pn.scale(2,2),await An.render({canvasContext:pn,viewport:mn,renderInteractiveForms:!0,canvasFactory:{create:function(Jt,un){const fn=document.createElement("canvas");return fn.width=Jt*2,fn.height=un*2,fn},reset:function(Jt,un,fn){Jt.canvas.width=un*2,Jt.canvas.height=fn*2},destroy:function(Jt){}}})},zt=async En=>{if(!(!nn||!Ut.current)){Ut.current.innerHTML="";for(let Fn=1;Fn<=nn.numPages;Fn++){const In=document.createElement("canvas");In.style.width="100%",In.style.height="auto",In.style.marginBottom="10px",await sn(nn,Fn,In,En),Ut.current.appendChild(In)}}};reactExports.useEffect(()=>{if(bt.state){const{id:En,pid:Fn,isDoctor:In,patientData:Tn}=bt.state;Ct(Fn),Pt(En),kt(In),ht(Tn)}},[bt]),reactExports.useEffect(()=>{(async()=>{if(Et&&At)try{await on(),await cn()}catch(Fn){console.error("Error fetching data:",Fn)}})()},[Et,At]),reactExports.useEffect(()=>{(async()=>{if(vt)try{await ln()}catch(Fn){console.error("Error getting URL:",Fn)}})()},[vt]);const Xt=async()=>{gn(!0),setTimeout(Ht,0)},Qt=()=>{gn(!1),Ut.current&&(Ut.current.innerHTML="")};async function ln(){try{const En=await axios.get(`/en/pdfid/${vt.file}`,{responseType:"arraybuffer"}),Fn=new Uint8Array(En.data),In=new Blob([Fn],{type:"application/pdf"});let Tn=window.URL.createObjectURL(In);hn(Tn)}catch(En){console.error("Error fetching report:",En)}}async function on(){try{const En=await axios.get(`/en/getreport/${Et}`);Ft(En.data),$t(En.data.precautions),jt(En.data.isVerified),Kt(En.data.doctorNotes||"")}catch(En){console.error("Error fetching report:",En)}}async function cn(){try{const En=await axios.post("/en/getprevreports",{patientId:At,reportId:Et});Gt(En.data)}catch(En){console.error("Error fetching dates:",En)}}const rn=()=>{qt(!Vt),setTimeout(()=>{var En;(En=textareaRef.current)==null||En.focus()},0)},an=En=>{const Fn=new Date,In=new Date(En);let Tn=Fn.getFullYear()-In.getFullYear();const An=Fn.getMonth()-In.getMonth();return(An<0||An===0&&Fn.getDate()<In.getDate())&&Tn--,Tn},xn=async()=>{try{jt(!0);const En={...vt,isVerified:!0},Fn=await axios.post("/en/saveprecautions",{reportId:Et,precautions:Lt,doctorNotes:Rt});Ft(Fn.data),console.log(Fn)}catch(En){console.error("Error verifying report:",En)}},wn=En=>{St("/doctoranalysis",{replace:!0,state:{id:En,pid:At,isDoctor:wt,patientData:_t}}),window.scrollTo(0,0)};return!vt||!Bt||!_t?jsxRuntimeExports.jsx("div",{children:"Loading..."}):vt&&Bt&&_t&&en&&jsxRuntimeExports.jsx("div",{className:"relative flex size-full min-h-screen flex-col bg-white group/design-root overflow-x-hidden ",style:{fontFamily:'Manrope, "Noto Sans", sans-serif'},children:jsxRuntimeExports.jsxs("div",{className:"layout-container flex h-full grow flex-col",children:[jsxRuntimeExports.jsxs("header",{className:"flex items-center justify-between whitespace-nowrap border-b border-solid border-b-[#f0f2f4] px-10 py-3",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-4 text-[#111418]",children:[jsxRuntimeExports.jsx("div",{className:"size-4",children:jsxRuntimeExports.jsx("svg",{viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:jsxRuntimeExports.jsx("path",{d:"M4 4H17.3334V17.3334H30.6666V30.6666H44V44H4V4Z",fill:"currentColor"})})}),jsxRuntimeExports.jsx("h2",{className:"text-[#111418] text-lg font-bold leading-tight tracking-[-0.015em]",children:"Saanjh sahayak"})]}),jsxRuntimeExports.jsxs("div",{className:"flex flex-1 justify-end gap-8",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-9",children:[jsxRuntimeExports.jsx("a",{className:"text-[#111418] text-sm font-medium leading-normal",href:"#",children:"Patients"}),jsxRuntimeExports.jsx("a",{className:"text-[#111418] text-sm font-medium leading-normal",href:"#",children:"Reports"})]}),jsxRuntimeExports.jsxs("div",{className:"flex gap-2",children:[jsxRuntimeExports.jsx("button",{className:"flex max-w-[480px] cursor-pointer items-center justify-center overflow-hidden rounded-xl h-10 bg-[#f0f2f4] text-[#111418] gap-2 text-sm font-bold leading-normal tracking-[0.015em] min-w-0 px-2.5",children:jsxRuntimeExports.jsx("div",{className:"text-[#111418]","data-icon":"MagnifyingGlass","data-size":"20px","data-weight":"regular",children:jsxRuntimeExports.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20px",height:"20px",fill:"currentColor",viewBox:"0 0 256 256",children:jsxRuntimeExports.jsx("path",{d:"M229.66,218.34l-50.07-50.06a88.11,88.11,0,1,0-11.31,11.31l50.06,50.07a8,8,0,0,0,11.32-11.32ZM40,112a72,72,0,1,1,72,72A72.08,72.08,0,0,1,40,112Z"})})})}),jsxRuntimeExports.jsx("button",{className:"flex max-w-[480px] cursor-pointer items-center justify-center overflow-hidden rounded-xl h-10 bg-[#f0f2f4] text-[#111418] gap-2 text-sm font-bold leading-normal tracking-[0.015em] min-w-0 px-2.5",children:jsxRuntimeExports.jsx("div",{className:"text-[#111418]","data-icon":"Bell","data-size":"20px","data-weight":"regular",children:jsxRuntimeExports.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20px",height:"20px",fill:"currentColor",viewBox:"0 0 256 256",children:jsxRuntimeExports.jsx("path",{d:"M221.8,175.94C216.25,166.38,208,139.33,208,104a80,80,0,1,0-160,0c0,35.34-8.26,62.38-13.81,71.94A16,16,0,0,0,48,200H88.81a40,40,0,0,0,78.38,0H208a16,16,0,0,0,13.8-24.06ZM128,216a24,24,0,0,1-22.62-16h45.24A24,24,0,0,1,128,216ZM48,184c7.7-13.24,16-43.92,16-80a64,64,0,1,1,128,0c0,36.05,8.28,66.73,16,80Z"})})})}),jsxRuntimeExports.jsx("button",{className:"flex max-w-[480px] cursor-pointer items-center justify-center overflow-hidden rounded-xl h-10 bg-[#f0f2f4] text-[#111418] gap-2 text-sm font-bold leading-normal tracking-[0.015em] min-w-0 px-2.5",children:jsxRuntimeExports.jsx("div",{className:"text-[#111418]","data-icon":"ChatCircleDots","data-size":"20px","data-weight":"regular",children:jsxRuntimeExports.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20px",height:"20px",fill:"currentColor",viewBox:"0 0 256 256",children:jsxRuntimeExports.jsx("path",{d:"M140,128a12,12,0,1,1-12-12A12,12,0,0,1,140,128ZM84,116a12,12,0,1,0,12,12A12,12,0,0,0,84,116Zm88,0a12,12,0,1,0,12,12A12,12,0,0,0,172,116Zm60,12A104,104,0,0,1,79.12,219.82L45.07,231.17a16,16,0,0,1-20.24-20.24l11.35-34.05A104,104,0,1,1,232,128Zm-16,0A88,88,0,1,0,51.81,172.06a8,8,0,0,1,.66,6.54L40,216,77.4,203.53a7.85,7.85,0,0,1,2.53-.42,8,8,0,0,1,4,1.08A88,88,0,0,0,216,128Z"})})})})]}),jsxRuntimeExports.jsx("div",{className:"bg-center bg-no-repeat aspect-square bg-cover rounded-full size-10",style:{backgroundImage:'url("https://cdn.usegalileo.ai/stability/1c59f8b8-2f0d-4280-9e6d-75d6c0cee0d6.png")'}})]})]}),jsxRuntimeExports.jsx("div",{className:"px-40 flex flex-1 justify-center py-5",children:jsxRuntimeExports.jsxs("div",{className:"layout-content-container flex flex-col max-w-[960px] flex-1",children:[jsxRuntimeExports.jsx("div",{className:"flex flex-wrap justify-between gap-3 p-4",children:jsxRuntimeExports.jsx("p",{className:"text-[#111418] text-4xl font-black leading-tight tracking-[-0.033em] min-w-72 content-center",children:"Patient Information"})}),jsxRuntimeExports.jsx("div",{className:"flex p-4 @container",children:jsxRuntimeExports.jsx("div",{className:"flex w-full flex-col gap-4 @[520px]:flex-row @[520px]:justify-between @[520px]:items-start",children:jsxRuntimeExports.jsxs("div",{className:"flex gap-4",children:[jsxRuntimeExports.jsx("div",{className:"bg-gray-200 rounded-full w-32 h-32 flex items-center justify-center",children:jsxRuntimeExports.jsx(User,{className:"text-gray-500 w-20 h-20"})}),jsxRuntimeExports.jsxs("div",{className:"flex flex-col justify-center",children:[jsxRuntimeExports.jsx("p",{className:"text-[#111418] text-[22px] font-bold leading-tight tracking-[-0.015em]",children:_t.name}),jsxRuntimeExports.jsxs("p",{className:"text-[#637588] text-base font-normal leading-normal",children:[_t.gender,", Age ",an(_t.DOB)]}),jsxRuntimeExports.jsxs("p",{className:"text-[#637588] text-base font-normal leading-normal",children:[" Blood Group: ",_t.bloodGroup]})]})]})})}),jsxRuntimeExports.jsx("h3",{className:"text-[#111418] text-lg font-bold leading-tight tracking-[-0.015em] px-4 pb-2 pt-4",children:"Known Conditions"}),jsxRuntimeExports.jsx("div",{className:"flex gap-3 p-3 flex-wrap pr-4",children:_t.chronics.map((En,Fn)=>jsxRuntimeExports.jsx("div",{className:"flex h-8 shrink-0 items-center justify-center gap-x-2 rounded-xl bg-[#f0f2f4] pl-4 pr-4",children:jsxRuntimeExports.jsx("p",{className:"text-[#111418] text-sm font-medium leading-normal",children:En})},Fn))}),jsxRuntimeExports.jsx("h3",{className:"text-[#111418] text-lg font-bold leading-tight tracking-[-0.015em] px-4 pb-2 pt-4",children:"Current Report"}),tn&&jsxRuntimeExports.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:jsxRuntimeExports.jsxs("div",{ref:Mt,className:"bg-white rounded-lg w-3/4 max-w-4xl h-5/6 flex flex-col",children:[jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-center p-4",children:[jsxRuntimeExports.jsx("h2",{className:"text-xl font-bold",children:"PDF Viewer"}),jsxRuntimeExports.jsx("button",{onClick:Qt,className:"px-4 py-2 bg-red-500 text-white rounded",children:"Close"})]}),jsxRuntimeExports.jsx("div",{ref:Ut,className:"flex-grow overflow-y-auto scrollbar-hide p-4",style:{msOverflowStyle:"none",scrollbarWidth:"none"}})]})}),jsxRuntimeExports.jsxs("div",{onClick:Xt,className:"flex items-center gap-4 bg-white px-4 min-h-[72px] py-2 justify-between hover:bg-slate-100 hover:scale-105 transition transform duration-300",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-4",children:[jsxRuntimeExports.jsx("div",{className:"text-[#111418] flex items-center justify-center rounded-lg bg-[#f0f2f4] shrink-0 size-12","data-icon":"File","data-size":"24px","data-weight":"regular",children:jsxRuntimeExports.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24px",height:"24px",fill:"currentColor",viewBox:"0 0 256 256",children:jsxRuntimeExports.jsx("path",{d:"M213.66,82.34l-56-56A8,8,0,0,0,152,24H56A16,16,0,0,0,40,40V216a16,16,0,0,0,16,16H200a16,16,0,0,0,16-16V88A8,8,0,0,0,213.66,82.34ZM160,51.31,188.69,80H160ZM200,216H56V40h88V88a8,8,0,0,0,8,8h48V216Z"})})}),jsxRuntimeExports.jsxs("div",{className:"flex flex-col justify-center",children:[jsxRuntimeExports.jsx("p",{className:"text-[#111418] text-base font-medium leading-normal line-clamp-1",children:"Test Report"}),jsxRuntimeExports.jsx("p",{className:"text-[#637588] text-sm font-normal leading-normal line-clamp-2",children:"Report from 27 June 2024"})]})]}),jsxRuntimeExports.jsx("div",{className:"shrink-0",children:jsxRuntimeExports.jsx("div",{className:"text-[#111418] flex size-7 items-center justify-center","data-icon":"CaretRight","data-size":"24px","data-weight":"regular",children:jsxRuntimeExports.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24px",height:"24px",fill:"currentColor",viewBox:"0 0 256 256",children:jsxRuntimeExports.jsx("path",{d:"M181.66,133.66l-80,80a8,8,0,0,1-11.32-11.32L164.69,128,90.34,53.66a8,8,0,0,1,11.32-11.32l80,80A8,8,0,0,1,181.66,133.66Z"})})})})]}),jsxRuntimeExports.jsx("h3",{className:"text-[#111418] text-lg font-bold leading-tight tracking-[-0.015em] px-4 pb-2 pt-4",children:"Analysis"}),jsxRuntimeExports.jsx("div",{className:"text-lg   tracking-[-0.020em] ",children:jsxRuntimeExports.jsx("p",{className:"px-4 pb-2 pt-4",children:vt.summary})}),jsxRuntimeExports.jsx("h3",{className:"text-[#111418] text-lg font-bold leading-tight tracking-[-0.015em] px-4 pb-2 pt-4",children:"Precautions"}),jsxRuntimeExports.jsx("div",{className:"p-4 @container",children:jsxRuntimeExports.jsxs("div",{className:"flex flex-1 items-start justify-between gap-4 rounded-xl border border-[#dce0e5] bg-white p-5 @[480px]:flex-row @[480px]:items-center",style:{height:$?`${$+20}px`:"auto"},children:[jsxRuntimeExports.jsx("div",{className:"flex flex-col gap-1 flex-1",children:Vt&&!vt.isVerified?jsxRuntimeExports.jsx("textarea",{defaultValue:Lt.join(`
`),className:"border border-[#dce0e5] rounded-xl p-2 flex-1",onChange:En=>$t(En.target.value.split(`
`))}):jsxRuntimeExports.jsx("ul",{className:"text-[#637588] text-base font-normal leading-normal flex-1",ref:_e,children:Lt.map((En,Fn)=>jsxRuntimeExports.jsx("li",{children:En},Fn))})}),jsxRuntimeExports.jsx("button",{onClick:rn,className:` ${Ot?"hidden":""}  flex min-w-[60px] max-w-[480px] cursor-pointer items-center justify-center overflow-hidden rounded-xl h-10 px-4 bg-[#1b7ada] text-white text-sm font-medium leading-normal`,children:Vt?jsxRuntimeExports.jsx("span",{className:"truncate",children:"Save"}):jsxRuntimeExports.jsx(Editsvg,{})})]})}),jsxRuntimeExports.jsx("h3",{className:"text-[#111418] text-lg font-bold leading-tight tracking-[-0.015em] px-4 pb-2 pt-4",children:"Predictions"}),jsxRuntimeExports.jsx("div",{className:"p-4 @container",children:jsxRuntimeExports.jsx("div",{className:"flex flex-1  items-start justify-between gap-4 rounded-xl border border-[#dce0e5] bg-white p-5 @[480px]:flex-row @[480px]:items-center",children:jsxRuntimeExports.jsx("div",{className:"flex flex-col gap-1 flex-1",children:jsxRuntimeExports.jsx("ul",{className:"text-[#637588] text-base font-normal leading-normal flex-1",ref:_e,children:vt.possibleDiseases.map((En,Fn)=>jsxRuntimeExports.jsx("li",{children:En},Fn))})})})}),jsxRuntimeExports.jsx("h3",{className:"text-[#111418] text-lg font-bold leading-tight tracking-[-0.015em] px-4 pb-2 pt-4",children:"Doctor's Advice"}),jsxRuntimeExports.jsx("div",{className:"flex max-w-[480px] flex-1 flex-wrap items-end gap-4 px-4 py-3",children:jsxRuntimeExports.jsx("label",{className:"flex flex-col min-w-40 flex-1",children:vt.isVerified?jsxRuntimeExports.jsx("div",{className:"text-[#637588] text-base font-normal leading-normal flex-1",ref:_e,children:vt.doctorNotes}):jsxRuntimeExports.jsx("textarea",{defaultValue:vt.doctorNotes,className:"border border-[#dce0e5] rounded-xl p-2 flex-1",onChange:En=>Kt(En.target.value)})})}),jsxRuntimeExports.jsx("div",{className:"flex px-4 py-3 justify-end",children:jsxRuntimeExports.jsx("button",{onClick:xn,className:`${vt.isVerified?"hidden":""} flex min-w-[84px] max-w-[480px] cursor-pointer items-center justify-center overflow-hidden rounded-xl h-10 px-4 bg-[#1b7ada] text-white text-sm font-bold leading-normal tracking-[0.015em]`,children:jsxRuntimeExports.jsx("span",{className:"truncate",children:"verify"})})}),jsxRuntimeExports.jsx("h3",{className:"text-[#111418] text-lg font-bold leading-tight tracking-[-0.015em] px-4 pb-2 pt-4",children:"Previous Reports"}),jsxRuntimeExports.jsx("div",{children:Bt.map((En,Fn)=>jsxRuntimeExports.jsxs("div",{onClick:()=>{wn(En.file)},className:"flex items-center gap-4  px-4 min-h-[72px] py-2 justify-between cursor-pointer hover:bg-slate-100 hover:scale-105 transition transform duration-300",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-4",children:[jsxRuntimeExports.jsx("div",{className:"text-[#0d151c] flex items-center justify-center rounded-lg bg-[#e7eef4] shrink-0 size-12","data-icon":"File","data-size":"24px","data-weight":"regular",children:jsxRuntimeExports.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24px",height:"24px",fill:"currentColor",viewBox:"0 0 256 256",children:jsxRuntimeExports.jsx("path",{d:"M213.66,82.34l-56-56A8,8,0,0,0,152,24H56A16,16,0,0,0,40,40V216a16,16,0,0,0,16,16H200a16,16,0,0,0,16-16V88A8,8,0,0,0,213.66,82.34ZM160,51.31,188.69,80H160ZM200,216H56V40h88V88a8,8,0,0,0,8,8h48V216Z"})})}),jsxRuntimeExports.jsxs("div",{className:"flex flex-col justify-center",children:[jsxRuntimeExports.jsx("p",{className:"text-[#0d151c] text-base font-medium leading-normal line-clamp-1",children:En.date}),jsxRuntimeExports.jsx("p",{className:"text-[#49779c] text-sm font-normal leading-normal line-clamp-2",children:En.specialistReq})]})]}),jsxRuntimeExports.jsx("div",{className:"shrink-0",children:jsxRuntimeExports.jsx("div",{className:"text-[#0d151c] flex size-7 items-center justify-center","data-icon":"CaretRight","data-size":"24px","data-weight":"regular",children:jsxRuntimeExports.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24px",height:"24px",fill:"currentColor",viewBox:"0 0 256 256",children:jsxRuntimeExports.jsx("path",{d:"M181.66,133.66l-80,80a8,8,0,0,1-11.32-11.32L164.69,128,90.34,53.66a8,8,0,0,1,11.32-11.32l80,80A8,8,0,0,1,181.66,133.66Z"})})})})]},Fn))})]})})]})})}function Dummy(){const _e=useNavigate(),$=async xt=>{console.log("lol");try{console.log("hi");const bt=await axios.get("/en/pdfid/6687c7725a4889e9aac64ec2",{responseType:"arraybuffer"}),St=new Uint8Array(bt.data),At=new Blob([St],{type:"application/pdf"});let Ct=window.URL.createObjectURL(At);_e("/pdfShow",{state:{url:Ct}})}catch(bt){console.log("Error uploading details:",bt),alert("File size too large")}};return jsxRuntimeExports.jsx("button",{onClick:$,children:"show pdf"})}var core_min={};(function(_e){var $=reactExports,xt=pdfExports;function bt(jn){var Gn=Object.create(null);return jn&&Object.keys(jn).forEach(function(ss){if(ss!=="default"){var Vn=Object.getOwnPropertyDescriptor(jn,ss);Object.defineProperty(Gn,ss,Vn.get?Vn:{enumerable:!0,get:function(){return jn[ss]}})}}),Gn.default=jn,Object.freeze(Gn)}var St,At=bt($),Ct=bt(xt);_e.AnnotationType=void 0,(St=_e.AnnotationType||(_e.AnnotationType={}))[St.Text=1]="Text",St[St.Link=2]="Link",St[St.FreeText=3]="FreeText",St[St.Line=4]="Line",St[St.Square=5]="Square",St[St.Circle=6]="Circle",St[St.Polygon=7]="Polygon",St[St.Polyline=8]="Polyline",St[St.Highlight=9]="Highlight",St[St.Underline=10]="Underline",St[St.Squiggly=11]="Squiggly",St[St.StrikeOut=12]="StrikeOut",St[St.Stamp=13]="Stamp",St[St.Caret=14]="Caret",St[St.Ink=15]="Ink",St[St.Popup=16]="Popup",St[St.FileAttachment=17]="FileAttachment";var Et=function(jn,Gn){return Et=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(ss,Vn){ss.__proto__=Vn}||function(ss,Vn){for(var Nt in Vn)Object.prototype.hasOwnProperty.call(Vn,Nt)&&(ss[Nt]=Vn[Nt])},Et(jn,Gn)};function Pt(jn,Gn){if(typeof Gn!="function"&&Gn!==null)throw new TypeError("Class extends value "+String(Gn)+" is not a constructor or null");function ss(){this.constructor=jn}Et(jn,Gn),jn.prototype=Gn===null?Object.create(Gn):(ss.prototype=Gn.prototype,new ss)}var wt,kt=function(){return kt=Object.assign||function(jn){for(var Gn,ss=1,Vn=arguments.length;ss<Vn;ss++)for(var Nt in Gn=arguments[ss])Object.prototype.hasOwnProperty.call(Gn,Nt)&&(jn[Nt]=Gn[Nt]);return jn},kt.apply(this,arguments)};_e.TextDirection=void 0,(wt=_e.TextDirection||(_e.TextDirection={})).RightToLeft="RTL",wt.LeftToRight="LTR";var _t,ht=At.createContext({currentTheme:"light",direction:_e.TextDirection.LeftToRight,setCurrentTheme:function(){}}),vt=function(jn){var Gn=[];return Object.keys(jn).forEach(function(ss){ss&&jn[ss]&&Gn.push(ss)}),Gn.join(" ")},Ft=typeof window<"u"?At.useLayoutEffect:At.useEffect,Vt=function(jn){var Gn=At.useRef(null),ss=jn.once,Vn=jn.threshold,Nt=jn.onVisibilityChanged;return Ft(function(){var yn=Gn.current;if(yn){var qn=new IntersectionObserver(function(_i){_i.forEach(function(Kn){var is=Kn.isIntersecting,as=Kn.intersectionRatio;Nt({isVisible:is,ratio:as}),is&&ss&&(qn.unobserve(yn),qn.disconnect())})},{threshold:Vn||0});return qn.observe(yn),function(){qn.unobserve(yn),qn.disconnect()}}},[]),Gn},qt=function(jn){var Gn=jn.children,ss=jn.ignoreDirection,Vn=ss!==void 0&&ss,Nt=jn.size,yn=Nt===void 0?24:Nt,qn=At.useContext(ht).direction,_i=!Vn&&qn===_e.TextDirection.RightToLeft,Kn="".concat(yn||24,"px");return At.createElement("svg",{"aria-hidden":"true",className:vt({"rpv-core__icon":!0,"rpv-core__icon--rtl":_i}),focusable:"false",height:Kn,viewBox:"0 0 24 24",width:Kn},Gn)},Lt=function(){return At.createElement(qt,{size:16},At.createElement("path",{d:"M23.5,0.499l-16.5,23l-6.5-6.5"}))},$t=function(jn){var Gn=jn.children,ss=jn.testId,Vn=jn.onClick,Nt=At.useContext(ht).direction===_e.TextDirection.RightToLeft,yn=ss?{"data-testid":ss}:{};return At.createElement("button",kt({className:vt({"rpv-core__primary-button":!0,"rpv-core__primary-button--rtl":Nt}),type:"button",onClick:Vn},yn),Gn)},Ot=function(jn){var Gn=jn.size,ss=Gn===void 0?"4rem":Gn,Vn=jn.testId,Nt=At.useState(!1),yn=Nt[0],qn=Nt[1],_i=Vn?{"data-testid":Vn}:{},Kn=Vt({onVisibilityChanged:function(is){qn(is.isVisible)}});return At.createElement("div",kt({},_i,{className:vt({"rpv-core__spinner":!0,"rpv-core__spinner--animating":yn}),ref:Kn,style:{height:ss,width:ss}}))},jt=function(jn){var Gn=jn.ariaLabel,ss=Gn===void 0?"":Gn,Vn=jn.autoFocus,Nt=Vn!==void 0&&Vn,yn=jn.placeholder,qn=yn===void 0?"":yn,_i=jn.testId,Kn=jn.type,is=Kn===void 0?"text":Kn,as=jn.value,gs=as===void 0?"":as,ms=jn.onChange,bs=jn.onKeyDown,Ms=bs===void 0?function(){}:bs,Cs=At.useContext(ht).direction,ks=At.useRef(),tr=Cs===_e.TextDirection.RightToLeft,Is={ref:ks,"data-testid":"","aria-label":ss,className:vt({"rpv-core__textbox":!0,"rpv-core__textbox--rtl":tr}),placeholder:qn,value:gs,onChange:function(Gs){return ms(Gs.target.value)},onKeyDown:Ms};return _i&&(Is["data-testid"]=_i),Ft(function(){if(Nt){var Gs=ks.current;if(Gs){var zs=window.scrollX,Hs=window.scrollY;Gs.focus(),window.scrollTo(zs,Hs)}}},[]),is==="text"?At.createElement("input",kt({type:"text"},Is)):At.createElement("input",kt({type:"password"},Is))};(function(jn){jn[jn.ExitFullScreen=0]="ExitFullScreen",jn[jn.FullScreenChange=1]="FullScreenChange",jn[jn.FullScreenElement=2]="FullScreenElement",jn[jn.FullScreenEnabled=3]="FullScreenEnabled",jn[jn.RequestFullScreen=4]="RequestFullScreen"})(_t||(_t={}));var Rt,Kt={ExitFullScreen:"exitFullscreen",FullScreenChange:"fullscreenchange",FullScreenElement:"fullscreenElement",FullScreenEnabled:"fullscreenEnabled",RequestFullScreen:"requestFullscreen"},Bt={ExitFullScreen:"webkitExitFullscreen",FullScreenChange:"webkitfullscreenchange",FullScreenElement:"webkitFullscreenElement",FullScreenEnabled:"webkitFullscreenEnabled",RequestFullScreen:"webkitRequestFullscreen"},Gt={ExitFullScreen:"msExitFullscreen",FullScreenChange:"msFullscreenChange",FullScreenElement:"msFullscreenElement",FullScreenEnabled:"msFullscreenEnabled",RequestFullScreen:"msRequestFullscreen"},en=typeof window<"u",hn=en&&(_t.FullScreenEnabled in document&&Kt||Bt.FullScreenEnabled in document&&Bt||Gt.FullScreenEnabled in document&&Gt)||Kt,tn=function(){return en&&hn.FullScreenEnabled in document&&document[hn.FullScreenEnabled]===!0},gn=function(jn){return en?jn[hn.ExitFullScreen]():Promise.resolve({})},nn=function(){return en?document[hn.FullScreenElement]:null},bn=function(jn,Gn){var ss=At.useRef(),Vn=function(){ss.current&&clearTimeout(ss.current)};return At.useEffect(function(){return function(){return Vn()}},[]),At.useCallback(function(){for(var Nt=[],yn=0;yn<arguments.length;yn++)Nt[yn]=arguments[yn];Vn(),ss.current=setTimeout(function(){jn.apply(void 0,Nt)},Gn)},[jn,Gn])},Wt=function(){var jn=At.useRef(!1);return At.useEffect(function(){return jn.current=!0,function(){jn.current=!1}},[]),jn},Yt=function(jn){var Gn=At.useRef(jn);return At.useEffect(function(){Gn.current=jn},[jn]),Gn.current};(function(jn){jn.NotRenderedYet="NotRenderedYet",jn.Rendering="Rendering",jn.Rendered="Rendered"})(Rt||(Rt={}));var dn,Ut=-9999,Mt=function(jn){var Gn=jn.doc,ss=Gn.numPages,Vn=Gn.loadingTask.docId,Nt=At.useMemo(function(){return Array(ss).fill(null).map(function(_i,Kn){return{pageIndex:Kn,renderStatus:Rt.NotRenderedYet,visibility:Ut}})},[Vn]),yn=At.useRef({currentRenderingPage:-1,startRange:0,endRange:ss-1,visibilities:Nt}),qn=function(_i,Kn){yn.current.visibilities[_i].visibility=Kn};return{getHighestPriorityPage:function(){var _i=yn.current.visibilities.slice(yn.current.startRange,yn.current.endRange+1).filter(function(ms){return ms.visibility>Ut});if(!_i.length)return-1;for(var Kn=_i[0].pageIndex,is=_i[_i.length-1].pageIndex,as=_i.length,gs=0;gs<as;gs++){if(_i[gs].renderStatus===Rt.Rendering)return-1;if(_i[gs].renderStatus===Rt.NotRenderedYet)return _i[gs].pageIndex}return is+1<ss&&yn.current.visibilities[is+1].renderStatus!==Rt.Rendered?is+1:Kn-1>=0&&yn.current.visibilities[Kn-1].renderStatus!==Rt.Rendered?Kn-1:-1},isInRange:function(_i){return _i>=yn.current.startRange&&_i<=yn.current.endRange},markNotRendered:function(){for(var _i=0;_i<ss;_i++)yn.current.visibilities[_i].renderStatus=Rt.NotRenderedYet},markRendered:function(_i){yn.current.visibilities[_i].renderStatus=Rt.Rendered},markRendering:function(_i){yn.current.currentRenderingPage!==-1&&yn.current.currentRenderingPage!==_i&&yn.current.visibilities[yn.current.currentRenderingPage].renderStatus===Rt.Rendering&&(yn.current.visibilities[yn.current.currentRenderingPage].renderStatus=Rt.NotRenderedYet),yn.current.visibilities[_i].renderStatus=Rt.Rendering,yn.current.currentRenderingPage=_i},setOutOfRange:function(_i){qn(_i,Ut)},setRange:function(_i,Kn){yn.current.startRange=_i,yn.current.endRange=Kn;for(var is=0;is<ss;is++)(is<_i||is>Kn)&&(yn.current.visibilities[is].visibility=Ut,yn.current.visibilities[is].renderStatus=Rt.NotRenderedYet)},setVisibility:qn}},Ht={core:{askingPassword:{requirePasswordToOpen:"This document requires a password to open",submit:"Submit"},wrongPassword:{tryAgain:"The password is wrong. Please try again"},pageLabel:"Page {{pageIndex}}"}},sn=At.createContext({l10n:Ht,setL10n:function(){}}),zt=0,Xt=function(){return zt++},Qt=function(jn,Gn,ss){var Vn=function(Nt){var yn=Gn.current;if(yn){var qn=Nt.target;if(qn instanceof Element&&qn.shadowRoot){var _i=Nt.composedPath();_i.length>0&&!yn.contains(_i[0])&&ss()}else yn.contains(qn)||ss()}};At.useEffect(function(){if(jn){var Nt={capture:!0};return document.addEventListener("click",Vn,Nt),function(){document.removeEventListener("click",Vn,Nt)}}},[])},ln=function(jn){var Gn=function(ss){ss.key==="Escape"&&jn()};At.useEffect(function(){return document.addEventListener("keyup",Gn),function(){document.removeEventListener("keyup",Gn)}},[])},on=function(jn){var Gn=jn.ariaControlsSuffix,ss=jn.children,Vn=jn.closeOnClickOutside,Nt=jn.closeOnEscape,yn=jn.onToggle,qn=At.useRef(),_i=At.useContext(ht).direction===_e.TextDirection.RightToLeft;return At.useEffect(function(){var Kn=window.getComputedStyle(document.body).overflow;return document.body.style.overflow="hidden",function(){document.body.style.overflow=Kn}},[]),ln(function(){qn.current&&Nt&&yn()}),Qt(Vn,qn,yn),Ft(function(){var Kn=qn.current;if(Kn){var is=.75*document.body.clientHeight;Kn.getBoundingClientRect().height>=is&&(Kn.style.overflow="auto",Kn.style.maxHeight="".concat(is,"px"))}},[]),At.createElement("div",{"aria-modal":"true",className:vt({"rpv-core__modal-body":!0,"rpv-core__modal-body--rtl":_i}),id:"rpv-core__modal-body-".concat(Gn),ref:qn,role:"dialog",tabIndex:-1},ss)},cn=function(jn){var Gn=jn.children;return At.createElement("div",{className:"rpv-core__modal-overlay"},Gn)};_e.ToggleStatus=void 0,(dn=_e.ToggleStatus||(_e.ToggleStatus={})).Close="Close",dn.Open="Open",dn.Toggle="Toggle";var rn,an=function(jn){var Gn=At.useState(jn),ss=Gn[0],Vn=Gn[1];return{opened:ss,toggle:function(Nt){switch(Nt){case _e.ToggleStatus.Close:Vn(!1);break;case _e.ToggleStatus.Open:Vn(!0);break;case _e.ToggleStatus.Toggle:default:Vn(function(yn){return!yn})}}}},xn=function(jn){var Gn=jn.content,ss=jn.isOpened,Vn=ss!==void 0&&ss,Nt=jn.target,yn=an(Vn),qn=yn.opened,_i=yn.toggle;return At.createElement(At.Fragment,null,Nt&&Nt(_i,qn),qn&&Gn(_i))};_e.Position=void 0,(rn=_e.Position||(_e.Position={})).TopLeft="TOP_LEFT",rn.TopCenter="TOP_CENTER",rn.TopRight="TOP_RIGHT",rn.RightTop="RIGHT_TOP",rn.RightCenter="RIGHT_CENTER",rn.RightBottom="RIGHT_BOTTOM",rn.BottomLeft="BOTTOM_LEFT",rn.BottomCenter="BOTTOM_CENTER",rn.BottomRight="BOTTOM_RIGHT",rn.LeftTop="LEFT_TOP",rn.LeftCenter="LEFT_CENTER",rn.LeftBottom="LEFT_BOTTOM";var wn,En,Fn,In,Tn,An,mn,pn,Jt=function(jn,Gn,ss,Vn,Nt){Ft(function(){var yn=Gn.current,qn=jn.current,_i=ss.current;if(qn&&yn&&_i){var Kn=_i.getBoundingClientRect(),is=function(ms,bs,Ms,Cs){var ks=bs.getBoundingClientRect(),tr=ms.getBoundingClientRect(),Is=tr.height,Gs=tr.width,zs=0,Hs=0;switch(Ms){case _e.Position.TopLeft:zs=ks.top-Is,Hs=ks.left;break;case _e.Position.TopCenter:zs=ks.top-Is,Hs=ks.left+ks.width/2-Gs/2;break;case _e.Position.TopRight:zs=ks.top-Is,Hs=ks.left+ks.width-Gs;break;case _e.Position.RightTop:zs=ks.top,Hs=ks.left+ks.width;break;case _e.Position.RightCenter:zs=ks.top+ks.height/2-Is/2,Hs=ks.left+ks.width;break;case _e.Position.RightBottom:zs=ks.top+ks.height-Is,Hs=ks.left+ks.width;break;case _e.Position.BottomLeft:zs=ks.top+ks.height,Hs=ks.left;break;case _e.Position.BottomCenter:zs=ks.top+ks.height,Hs=ks.left+ks.width/2-Gs/2;break;case _e.Position.BottomRight:zs=ks.top+ks.height,Hs=ks.left+ks.width-Gs;break;case _e.Position.LeftTop:zs=ks.top,Hs=ks.left-Gs;break;case _e.Position.LeftCenter:zs=ks.top+ks.height/2-Is/2,Hs=ks.left-Gs;break;case _e.Position.LeftBottom:zs=ks.top+ks.height-Is,Hs=ks.left-Gs}return{left:Hs+(Cs.left||0),top:zs+(Cs.top||0)}}(qn,yn,Vn,Nt),as=is.top,gs=is.left;qn.style.top="".concat(as-Kn.top,"px"),qn.style.left="".concat(gs-Kn.left,"px")}},[])},un=function(jn){var Gn,ss=jn.customClassName,Vn=jn.position;return At.createElement("div",{className:vt((Gn={"rpv-core__arrow":!0,"rpv-core__arrow--tl":Vn===_e.Position.TopLeft,"rpv-core__arrow--tc":Vn===_e.Position.TopCenter,"rpv-core__arrow--tr":Vn===_e.Position.TopRight,"rpv-core__arrow--rt":Vn===_e.Position.RightTop,"rpv-core__arrow--rc":Vn===_e.Position.RightCenter,"rpv-core__arrow--rb":Vn===_e.Position.RightBottom,"rpv-core__arrow--bl":Vn===_e.Position.BottomLeft,"rpv-core__arrow--bc":Vn===_e.Position.BottomCenter,"rpv-core__arrow--br":Vn===_e.Position.BottomRight,"rpv-core__arrow--lt":Vn===_e.Position.LeftTop,"rpv-core__arrow--lc":Vn===_e.Position.LeftCenter,"rpv-core__arrow--lb":Vn===_e.Position.LeftBottom},Gn["".concat(ss)]=ss!=="",Gn))})},fn=function(jn){var Gn=jn.ariaControlsSuffix,ss=jn.children,Vn=jn.closeOnClickOutside,Nt=jn.offset,yn=jn.position,qn=jn.targetRef,_i=jn.onClose,Kn=At.useRef(),is=At.useRef(),as=At.useRef(),gs=At.useContext(ht).direction===_e.TextDirection.RightToLeft;Qt(Vn,Kn,_i),Jt(Kn,qn,as,yn,Nt),Ft(function(){var bs=is.current;if(bs){var Ms=.75*document.body.clientHeight;bs.getBoundingClientRect().height>=Ms&&(bs.style.overflow="auto",bs.style.maxHeight="".concat(Ms,"px"))}},[]);var ms="rpv-core__popover-body-inner-".concat(Gn);return At.createElement(At.Fragment,null,At.createElement("div",{ref:as,style:{left:0,position:"absolute",top:0}}),At.createElement("div",{"aria-describedby":ms,className:vt({"rpv-core__popover-body":!0,"rpv-core__popover-body--rtl":gs}),id:"rpv-core__popover-body-".concat(Gn),ref:Kn,role:"dialog",tabIndex:-1},At.createElement(un,{customClassName:"rpv-core__popover-body-arrow",position:yn}),At.createElement("div",{id:ms,ref:is},ss)))},Sn=function(jn){var Gn=jn.closeOnEscape,ss=jn.onClose,Vn=At.useRef();return ln(function(){Vn.current&&Gn&&ss()}),At.createElement("div",{className:"rpv-core__popover-overlay",ref:Vn})},kn=function(jn){var Gn=jn.ariaControlsSuffix,ss=jn.children,Vn=jn.contentRef,Nt=jn.offset,yn=jn.position,qn=jn.targetRef,_i=At.useRef(),Kn=At.useContext(ht).direction===_e.TextDirection.RightToLeft;return Jt(Vn,qn,_i,yn,Nt),At.createElement(At.Fragment,null,At.createElement("div",{ref:_i,style:{left:0,position:"absolute",top:0}}),At.createElement("div",{className:vt({"rpv-core__tooltip-body":!0,"rpv-core__tooltip-body--rtl":Kn}),id:"rpv-core__tooltip-body-".concat(Gn),ref:Vn,role:"tooltip"},At.createElement(un,{customClassName:"rpv-core__tooltip-body-arrow",position:yn}),At.createElement("div",{className:"rpv-core__tooltip-body-content"},ss)))};_e.FullScreenMode=void 0,(wn=_e.FullScreenMode||(_e.FullScreenMode={})).Normal="Normal",wn.Entering="Entering",wn.Entered="Entered",wn.EnteredCompletely="EnteredCompletely",wn.Exitting="Exitting",wn.Exited="Exited",_e.LayerRenderStatus=void 0,(En=_e.LayerRenderStatus||(_e.LayerRenderStatus={}))[En.PreRender=0]="PreRender",En[En.DidRender=1]="DidRender",_e.PageMode=void 0,(Fn=_e.PageMode||(_e.PageMode={})).Attachments="UseAttachments",Fn.Bookmarks="UseOutlines",Fn.ContentGroup="UseOC",Fn.Default="UserNone",Fn.FullScreen="FullScreen",Fn.Thumbnails="UseThumbs",_e.PasswordStatus=void 0,(In=_e.PasswordStatus||(_e.PasswordStatus={})).RequiredPassword="RequiredPassword",In.WrongPassword="WrongPassword",_e.RotateDirection=void 0,(Tn=_e.RotateDirection||(_e.RotateDirection={})).Backward="Backward",Tn.Forward="Forward",_e.ScrollMode=void 0,(An=_e.ScrollMode||(_e.ScrollMode={})).Page="Page",An.Horizontal="Horizontal",An.Vertical="Vertical",An.Wrapped="Wrapped",_e.SpecialZoomLevel=void 0,(mn=_e.SpecialZoomLevel||(_e.SpecialZoomLevel={})).ActualSize="ActualSize",mn.PageFit="PageFit",mn.PageWidth="PageWidth",_e.ViewMode=void 0,(pn=_e.ViewMode||(_e.ViewMode={})).DualPage="DualPage",pn.DualPageWithCover="DualPageWithCover",pn.SinglePage="SinglePage";var Pn,Cn=function(jn,Gn){return jn.reduce(function(ss,Vn,Nt){return Nt%Gn?ss[ss.length-1].push(Vn):ss.push([Vn]),ss},[])},vn=function(jn,Gn){switch(Gn[1].name){case"XYZ":return{bottomOffset:function(ss,Vn){return Gn[3]===null?Vn:Gn[3]},leftOffset:function(ss,Vn){return Gn[2]===null?0:Gn[2]},pageIndex:jn,scaleTo:Gn[4]};case"Fit":case"FitB":return{bottomOffset:0,leftOffset:0,pageIndex:jn,scaleTo:_e.SpecialZoomLevel.PageFit};case"FitH":case"FitBH":return{bottomOffset:Gn[2],leftOffset:0,pageIndex:jn,scaleTo:_e.SpecialZoomLevel.PageWidth};default:return{bottomOffset:0,leftOffset:0,pageIndex:jn,scaleTo:1}}},Rn=new Map,Mn=new Map,_n=function(jn,Gn){return"".concat(jn.loadingTask.docId,"___").concat(Gn.num,"R").concat(Gn.gen===0?"":Gn.gen)},Dn=function(jn,Gn,ss){Rn.set(_n(jn,Gn),ss)},Ln=function(jn,Gn){if(!jn)return Promise.reject("The document is not loaded yet");var ss="".concat(jn.loadingTask.docId,"___").concat(Gn),Vn=Mn.get(ss);return Vn?Promise.resolve(Vn):new Promise(function(Nt,yn){jn.getPage(Gn+1).then(function(qn){Mn.set(ss,qn),qn.ref&&Dn(jn,qn.ref,Gn),Nt(qn)})})},Un=function(jn,Gn){return new Promise(function(ss){new Promise(function(Vn){typeof Gn=="string"?jn.getDestination(Gn).then(function(Nt){Vn(Nt)}):Vn(Gn)}).then(function(Vn){if(typeof Vn[0]=="object"&&Vn[0]!==null){var Nt=Vn[0],yn=function(_i,Kn){var is=_n(_i,Kn);return Rn.has(is)?Rn.get(is):null}(jn,Nt);yn===null?jn.getPageIndex(Nt).then(function(_i){Dn(jn,Nt,_i),Un(jn,Gn).then(function(Kn){return ss(Kn)})}):ss(vn(yn,Vn))}else{var qn=vn(Vn[0],Vn);ss(qn)}})})};(function(jn){jn[jn.Solid=1]="Solid",jn[jn.Dashed=2]="Dashed",jn[jn.Beveled=3]="Beveled",jn[jn.Inset=4]="Inset",jn[jn.Underline=5]="Underline"})(Pn||(Pn={}));var ts,es=new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?"),Qn=function(jn,Gn,ss,Vn){var Nt=parseInt(jn,10);return Nt>=Gn&&Nt<=ss?Nt:Vn},Yn=function(jn){return jn.contentsObj?jn.contentsObj.str:jn.contents||""},zn=function(jn){return jn.titleObj?jn.titleObj.str:jn.title||""},ns=function(jn){var Gn=jn.annotation,ss=At.useContext(ht).direction,Vn=zn(Gn),Nt=Yn(Gn),yn=ss===_e.TextDirection.RightToLeft,qn=At.useRef(),_i="";if(Gn.modificationDate){var Kn=function(is){var as=es.exec(is);if(!as)return null;var gs=parseInt(as[1],10),ms=Qn(as[2],1,12,1)-1,bs=Qn(as[3],1,31,1),Ms=Qn(as[4],0,23,0),Cs=Qn(as[5],0,59,0),ks=Qn(as[6],0,59,0),tr=as[7]||"Z",Is=Qn(as[8],0,23,0),Gs=Qn(as[9],0,59,0);switch(tr){case"-":Ms+=Is,Cs+=Gs;break;case"+":Ms-=Is,Cs-=Gs}return new Date(Date.UTC(gs,ms,bs,Ms,Cs,ks))}(Gn.modificationDate);_i=Kn?"".concat(Kn.toLocaleDateString(),", ").concat(Kn.toLocaleTimeString()):""}return At.useLayoutEffect(function(){if(qn.current){var is=document.querySelector('[data-annotation-id="'.concat(Gn.id,'"]'));if(is){var as=is;return as.style.zIndex+=1,function(){as.style.zIndex="".concat(parseInt(as.style.zIndex,10)-1)}}}},[]),At.createElement("div",{ref:qn,className:vt({"rpv-core__annotation-popup-wrapper":!0,"rpv-core__annotation-popup-wrapper--rtl":yn}),style:{top:Gn.annotationType===_e.AnnotationType.Popup?"":"100%"}},Vn&&At.createElement(At.Fragment,null,At.createElement("div",{className:vt({"rpv-core__annotation-popup-title":!0,"rpv-core__annotation-popup-title--ltr":!yn,"rpv-core__annotation-popup-title--rtl":yn})},Vn),At.createElement("div",{className:"rpv-core__annotation-popup-date"},_i)),Nt&&At.createElement("div",{className:"rpv-core__annotation-popup-content"},Nt.split(`
`).map(function(is,as){return At.createElement(At.Fragment,{key:as},is,At.createElement("br",null))})))};(function(jn){jn.Click="Click",jn.Hover="Hover"})(ts||(ts={}));var ls,ds=function(jn){var Gn,ss=jn.annotation,Vn=jn.children,Nt=jn.ignoreBorder,yn=jn.hasPopup,qn=jn.isRenderable,_i=jn.page,Kn=jn.viewport,is=ss.rect,as=function(){var Bs=an(!1),Ns=Bs.opened,Er=Bs.toggle,kr=At.useState(ts.Hover),Fr=kr[0],Rr=kr[1];return{opened:Ns,closeOnHover:function(){Fr===ts.Hover&&Er(_e.ToggleStatus.Close)},openOnHover:function(){Fr===ts.Hover&&Er(_e.ToggleStatus.Open)},toggleOnClick:function(){switch(Fr){case ts.Click:Ns&&Rr(ts.Hover),Er(_e.ToggleStatus.Toggle);break;case ts.Hover:Rr(ts.Click),Er(_e.ToggleStatus.Open)}}}}(),gs=as.closeOnHover,ms=as.opened,bs=as.openOnHover,Ms=as.toggleOnClick,Cs=(Gn=[is[0],_i.view[3]+_i.view[1]-is[1],is[2],_i.view[3]+_i.view[1]-is[3]],[Math.min(Gn[0],Gn[2]),Math.min(Gn[1],Gn[3]),Math.max(Gn[0],Gn[2]),Math.max(Gn[1],Gn[3])]),ks=is[2]-is[0],tr=is[3]-is[1],Is={borderColor:"",borderRadius:"",borderStyle:"",borderWidth:""};if(!Nt&&ss.borderStyle.width>0){switch(ss.borderStyle.style){case Pn.Dashed:Is.borderStyle="dashed";break;case Pn.Solid:Is.borderStyle="solid";break;case Pn.Underline:Is=Object.assign({borderBottomStyle:"solid"},Is);case Pn.Beveled:case Pn.Inset:}var Gs=ss.borderStyle.width;Is.borderWidth="".concat(Gs,"px"),ss.borderStyle.style!==Pn.Underline&&(ks-=2*Gs,tr-=2*Gs);var zs=ss.borderStyle,Hs=zs.horizontalCornerRadius,Qs=zs.verticalCornerRadius;(Hs>0||Qs>0)&&(Is.borderRadius="".concat(Hs,"px / ").concat(Qs,"px")),ss.color?Is.borderColor="rgb(".concat(0|ss.color[0],", ").concat(0|ss.color[1],", ").concat(0|ss.color[2],")"):Is.borderWidth="0"}return At.createElement(At.Fragment,null,qn&&Vn({popup:{opened:ms,closeOnHover:gs,openOnHover:bs,toggleOnClick:Ms},slot:{attrs:{style:Object.assign({height:"".concat(tr,"px"),left:"".concat(Cs[0],"px"),top:"".concat(Cs[1],"px"),transform:"matrix(".concat(Kn.transform.join(","),")"),transformOrigin:"-".concat(Cs[0],"px -").concat(Cs[1],"px"),width:"".concat(ks,"px")},Is)},children:At.createElement(At.Fragment,null,yn&&ms&&At.createElement(ns,{annotation:ss}))}}))},Bn=function(jn){var Gn=jn.annotation,ss=jn.page,Vn=jn.viewport,Nt=Gn.hasPopup===!1,yn=zn(Gn),qn=Yn(Gn),_i=!!(Gn.hasPopup||yn||qn);return At.createElement(ds,{annotation:Gn,hasPopup:Nt,ignoreBorder:!0,isRenderable:_i,page:ss,viewport:Vn},function(Kn){return At.createElement("div",kt({},Kn.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--caret","data-annotation-id":Gn.id,onClick:Kn.popup.toggleOnClick,onMouseEnter:Kn.popup.openOnHover,onMouseLeave:Kn.popup.closeOnHover}),Kn.slot.children)})},Hn=function(jn){var Gn=jn.annotation,ss=jn.page,Vn=jn.viewport,Nt=Gn.hasPopup===!1,yn=zn(Gn),qn=Yn(Gn),_i=!!(Gn.hasPopup||yn||qn),Kn=Gn.rect,is=Kn[2]-Kn[0],as=Kn[3]-Kn[1],gs=Gn.borderStyle.width;return At.createElement(ds,{annotation:Gn,hasPopup:Nt,ignoreBorder:!0,isRenderable:_i,page:ss,viewport:Vn},function(ms){return At.createElement("div",kt({},ms.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--circle","data-annotation-id":Gn.id,onClick:ms.popup.toggleOnClick,onMouseEnter:ms.popup.openOnHover,onMouseLeave:ms.popup.closeOnHover}),At.createElement("svg",{height:"".concat(as,"px"),preserveAspectRatio:"none",version:"1.1",viewBox:"0 0 ".concat(is," ").concat(as),width:"".concat(is,"px")},At.createElement("circle",{cy:as/2,fill:"none",rx:is/2-gs/2,ry:as/2-gs/2,stroke:"transparent",strokeWidth:gs||1})),ms.slot.children)})},Xn=function(jn){var Gn=jn.annotation,ss=jn.page,Vn=jn.viewport,Nt=zn(Gn),yn=Yn(Gn),qn=!(Gn.hasPopup!==!1||!Nt&&!yn),_i=function(){var Kn,is,as,gs,ms=Gn.file;ms&&(Kn=ms.filename,is=ms.content,as=typeof is=="string"?"":URL.createObjectURL(new Blob([is],{type:""})),(gs=document.createElement("a")).style.display="none",gs.href=as||Kn,gs.setAttribute("download",function(bs){var Ms=bs.split("/").pop();return Ms?Ms.split("#")[0].split("?")[0]:bs}(Kn)),document.body.appendChild(gs),gs.click(),document.body.removeChild(gs),as&&URL.revokeObjectURL(as))};return At.createElement(ds,{annotation:Gn,hasPopup:qn,ignoreBorder:!0,isRenderable:!0,page:ss,viewport:Vn},function(Kn){return At.createElement("div",kt({},Kn.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--file-attachment","data-annotation-id":Gn.id,onClick:Kn.popup.toggleOnClick,onDoubleClick:_i,onMouseEnter:Kn.popup.openOnHover,onMouseLeave:Kn.popup.closeOnHover}),Kn.slot.children)})},cs=function(jn){var Gn=jn.annotation,ss=jn.page,Vn=jn.viewport,Nt=Gn.hasPopup===!1,yn=zn(Gn),qn=Yn(Gn),_i=!!(Gn.hasPopup||yn||qn);return At.createElement(ds,{annotation:Gn,hasPopup:Nt,ignoreBorder:!0,isRenderable:_i,page:ss,viewport:Vn},function(Kn){return At.createElement("div",kt({},Kn.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--free-text","data-annotation-id":Gn.id,onClick:Kn.popup.toggleOnClick,onMouseEnter:Kn.popup.openOnHover,onMouseLeave:Kn.popup.closeOnHover}),Kn.slot.children)})},rs=function(jn){var Gn=jn.annotation,ss=jn.page,Vn=jn.viewport,Nt=zn(Gn),yn=Yn(Gn),qn=!(!Nt&&!yn),_i=!Gn.parentType||["Circle","Ink","Line","Polygon","PolyLine","Square"].indexOf(Gn.parentType)!==-1;return Ft(function(){if(Gn.parentId){var Kn=document.querySelector('[data-annotation-id="'.concat(Gn.parentId,'"]')),is=document.querySelector('[data-annotation-id="'.concat(Gn.id,'"]'));if(Kn&&is){var as=parseFloat(Kn.style.left),gs=parseFloat(Kn.style.top)+parseFloat(Kn.style.height);is.style.left="".concat(as,"px"),is.style.top="".concat(gs,"px"),is.style.transformOrigin="-".concat(as,"px -").concat(gs,"px")}}},[]),At.createElement(ds,{annotation:Gn,hasPopup:_i,ignoreBorder:!1,isRenderable:qn,page:ss,viewport:Vn},function(Kn){return At.createElement("div",kt({},Kn.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--popup","data-annotation-id":Gn.id}),At.createElement(ns,{annotation:Gn}))})},xs=function(jn){var Gn=jn.annotation,ss=jn.childAnnotation,Vn=jn.page,Nt=jn.viewport,yn=Gn.hasPopup===!1,qn=zn(Gn),_i=Yn(Gn),Kn=!!(Gn.hasPopup||qn||_i);if(Gn.quadPoints&&Gn.quadPoints.length>0){var is=Gn.quadPoints.map(function(as){return Object.assign({},Gn,{rect:[as[2].x,as[2].y,as[1].x,as[1].y],quadPoints:[]})});return At.createElement(At.Fragment,null,is.map(function(as,gs){return At.createElement(xs,{key:gs,annotation:as,childAnnotation:ss,page:Vn,viewport:Nt})}))}return At.createElement(ds,{annotation:Gn,hasPopup:yn,ignoreBorder:!0,isRenderable:Kn,page:Vn,viewport:Nt},function(as){return At.createElement(At.Fragment,null,At.createElement("div",kt({},as.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--highlight","data-annotation-id":Gn.id,onClick:as.popup.toggleOnClick,onMouseEnter:as.popup.openOnHover,onMouseLeave:as.popup.closeOnHover}),as.slot.children),ss&&ss.annotationType===_e.AnnotationType.Popup&&as.popup.opened&&At.createElement(rs,{annotation:ss,page:Vn,viewport:Nt}))})},Jn=function(jn){var Gn=jn.annotation,ss=jn.page,Vn=jn.viewport,Nt=Gn.hasPopup===!1,yn=zn(Gn),qn=Yn(Gn),_i=!!(Gn.hasPopup||yn||qn),Kn=Gn.rect,is=Kn[2]-Kn[0],as=Kn[3]-Kn[1],gs=Gn.borderStyle.width;return At.createElement(ds,{annotation:Gn,hasPopup:Nt,ignoreBorder:!0,isRenderable:_i,page:ss,viewport:Vn},function(ms){return At.createElement("div",kt({},ms.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--ink","data-annotation-id":Gn.id,onClick:ms.popup.toggleOnClick,onMouseEnter:ms.popup.openOnHover,onMouseLeave:ms.popup.closeOnHover}),Gn.inkLists&&Gn.inkLists.length&&At.createElement("svg",{height:"".concat(as,"px"),preserveAspectRatio:"none",version:"1.1",viewBox:"0 0 ".concat(is," ").concat(as),width:"".concat(is,"px")},Gn.inkLists.map(function(bs,Ms){return At.createElement("polyline",{key:Ms,fill:"none",stroke:"transparent",strokeWidth:gs||1,points:bs.map(function(Cs){return"".concat(Cs.x-Kn[0],",").concat(Kn[3]-Cs.y)}).join(" ")})})),ms.slot.children)})},Wn=function(jn){var Gn=jn.annotation,ss=jn.page,Vn=jn.viewport,Nt=Gn.hasPopup===!1,yn=zn(Gn),qn=Yn(Gn),_i=!!(Gn.hasPopup||yn||qn),Kn=Gn.rect,is=Kn[2]-Kn[0],as=Kn[3]-Kn[1],gs=Gn.borderStyle.width;return At.createElement(ds,{annotation:Gn,hasPopup:Nt,ignoreBorder:!0,isRenderable:_i,page:ss,viewport:Vn},function(ms){return At.createElement("div",kt({},ms.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--line","data-annotation-id":Gn.id,onClick:ms.popup.toggleOnClick,onMouseEnter:ms.popup.openOnHover,onMouseLeave:ms.popup.closeOnHover}),At.createElement("svg",{height:"".concat(as,"px"),preserveAspectRatio:"none",version:"1.1",viewBox:"0 0 ".concat(is," ").concat(as),width:"".concat(is,"px")},At.createElement("line",{stroke:"transparent",strokeWidth:gs||1,x1:Kn[2]-Gn.lineCoordinates[0],x2:Kn[2]-Gn.lineCoordinates[2],y1:Kn[3]-Gn.lineCoordinates[1],y2:Kn[3]-Gn.lineCoordinates[3]})),ms.slot.children)})},Zn=/^([^\w]*)(javascript|data|vbscript)/im,us=/&#(\w+)(^\w|;)?/g,hs=/[\u0000-\u001F\u007F-\u009F\u2000-\u200D\uFEFF]/gim,os=/^([^:]+):/gm,ps=function(jn,Gn){var ss,Vn=(ss=jn||"",ss.replace(us,function(_i,Kn){return String.fromCharCode(Kn)})).replace(hs,"").trim();if(!Vn)return Gn;var Nt=Vn[0];if(Nt==="."||Nt==="/")return Vn;var yn=Vn.match(os);if(!yn)return Vn;var qn=yn[0];return Zn.test(qn)?Gn:Vn},ws=function(jn){var Gn,ss=jn.annotation,Vn=jn.annotationContainerRef,Nt=jn.doc,yn=jn.outlines,qn=jn.page,_i=jn.pageIndex,Kn=jn.scale,is=jn.viewport,as=jn.onExecuteNamedAction,gs=jn.onJumpFromLinkAnnotation,ms=jn.onJumpToDest,bs=At.useRef(),Ms=yn&&yn.length&&ss.dest&&typeof ss.dest=="string"?(Gn=yn.find(function(Is){return Is.dest===ss.dest}))===null||Gn===void 0?void 0:Gn.title:"",Cs=!!(ss.url||ss.dest||ss.action||ss.unsafeUrl),ks={};if(ss.url||ss.unsafeUrl){var tr=ps(ss.url||ss.unsafeUrl,"");tr?ks={"data-target":"external",href:tr,rel:"noopener noreferrer nofollow",target:ss.newWindow?"_blank":"",title:tr}:Cs=!1}else ks={href:"","data-annotation-link":ss.id,onClick:function(Is){Is.preventDefault(),ss.action?as(ss.action):Un(Nt,ss.dest).then(function(Gs){var zs=bs.current,Hs=Vn.current;if(zs&&Hs){var Qs=zs.getBoundingClientRect();Hs.style.setProperty("height","100%"),Hs.style.setProperty("width","100%");var Bs=Hs.getBoundingClientRect();Hs.style.removeProperty("height"),Hs.style.removeProperty("width");var Ns=(Qs.left-Bs.left)/Kn,Er=(Bs.bottom-Qs.bottom+Qs.height)/Kn;gs({bottomOffset:Er,label:Ms,leftOffset:Ns,pageIndex:_i})}ms(Gs)})}};return Ms&&(ks=Object.assign({},ks,{title:Ms,"aria-label":Ms})),At.createElement(ds,{annotation:ss,hasPopup:!1,ignoreBorder:!1,isRenderable:Cs,page:qn,viewport:is},function(Is){return At.createElement("div",kt({},Is.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--link","data-annotation-id":ss.id,"data-testid":"core__annotation--link-".concat(ss.id)}),At.createElement("a",kt({ref:bs},ks)))})},fs=function(jn){var Gn=jn.annotation,ss=jn.page,Vn=jn.viewport,Nt=Gn.hasPopup===!1,yn=zn(Gn),qn=Yn(Gn),_i=!!(Gn.hasPopup||yn||qn),Kn=Gn.rect,is=Kn[2]-Kn[0],as=Kn[3]-Kn[1],gs=Gn.borderStyle.width;return At.createElement(ds,{annotation:Gn,hasPopup:Nt,ignoreBorder:!0,isRenderable:_i,page:ss,viewport:Vn},function(ms){return At.createElement("div",kt({},ms.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--polygon","data-annotation-id":Gn.id,onClick:ms.popup.toggleOnClick,onMouseEnter:ms.popup.openOnHover,onMouseLeave:ms.popup.closeOnHover}),Gn.vertices&&Gn.vertices.length&&At.createElement("svg",{height:"".concat(as,"px"),preserveAspectRatio:"none",version:"1.1",viewBox:"0 0 ".concat(is," ").concat(as),width:"".concat(is,"px")},At.createElement("polygon",{fill:"none",stroke:"transparent",strokeWidth:gs||1,points:Gn.vertices.map(function(bs){return"".concat(bs.x-Kn[0],",").concat(Kn[3]-bs.y)}).join(" ")})),ms.slot.children)})},Ss=function(jn){var Gn=jn.annotation,ss=jn.page,Vn=jn.viewport,Nt=Gn.hasPopup===!1,yn=zn(Gn),qn=Yn(Gn),_i=!!(Gn.hasPopup||yn||qn),Kn=Gn.rect,is=Kn[2]-Kn[0],as=Kn[3]-Kn[1],gs=Gn.borderStyle.width;return At.createElement(ds,{annotation:Gn,hasPopup:Nt,ignoreBorder:!0,isRenderable:_i,page:ss,viewport:Vn},function(ms){return At.createElement("div",kt({},ms.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--polyline","data-annotation-id":Gn.id,onClick:ms.popup.toggleOnClick,onMouseEnter:ms.popup.openOnHover,onMouseLeave:ms.popup.closeOnHover}),Gn.vertices&&Gn.vertices.length&&At.createElement("svg",{height:"".concat(as,"px"),preserveAspectRatio:"none",version:"1.1",viewBox:"0 0 ".concat(is," ").concat(as),width:"".concat(is,"px")},At.createElement("polyline",{fill:"none",stroke:"transparent",strokeWidth:gs||1,points:Gn.vertices.map(function(bs){return"".concat(bs.x-Kn[0],",").concat(Kn[3]-bs.y)}).join(" ")})),ms.slot.children)})},Ls=function(jn){var Gn=jn.annotation,ss=jn.page,Vn=jn.viewport,Nt=Gn.hasPopup===!1,yn=zn(Gn),qn=Yn(Gn),_i=!!(Gn.hasPopup||yn||qn),Kn=Gn.rect,is=Kn[2]-Kn[0],as=Kn[3]-Kn[1],gs=Gn.borderStyle.width;return At.createElement(ds,{annotation:Gn,hasPopup:Nt,ignoreBorder:!0,isRenderable:_i,page:ss,viewport:Vn},function(ms){return At.createElement("div",kt({},ms.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--square","data-annotation-id":Gn.id,onClick:ms.popup.toggleOnClick,onMouseEnter:ms.popup.openOnHover,onMouseLeave:ms.popup.closeOnHover}),At.createElement("svg",{height:"".concat(as,"px"),preserveAspectRatio:"none",version:"1.1",viewBox:"0 0 ".concat(is," ").concat(as),width:"".concat(is,"px")},At.createElement("rect",{height:as-gs,fill:"none",stroke:"transparent",strokeWidth:gs||1,x:gs/2,y:gs/2,width:is-gs})),ms.slot.children)})},Fs=function(jn){var Gn=jn.annotation,ss=jn.page,Vn=jn.viewport,Nt=Gn.hasPopup===!1,yn=zn(Gn),qn=Yn(Gn),_i=!!(Gn.hasPopup||yn||qn);return At.createElement(ds,{annotation:Gn,hasPopup:Nt,ignoreBorder:!0,isRenderable:_i,page:ss,viewport:Vn},function(Kn){return At.createElement("div",kt({},Kn.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--squiggly","data-annotation-id":Gn.id,onClick:Kn.popup.toggleOnClick,onMouseEnter:Kn.popup.openOnHover,onMouseLeave:Kn.popup.closeOnHover}),Kn.slot.children)})},$s=function(jn){var Gn=jn.annotation,ss=jn.page,Vn=jn.viewport,Nt=Gn.hasPopup===!1,yn=zn(Gn),qn=Yn(Gn),_i=!!(Gn.hasPopup||yn||qn);return At.createElement(ds,{annotation:Gn,hasPopup:Nt,ignoreBorder:!0,isRenderable:_i,page:ss,viewport:Vn},function(Kn){return At.createElement("div",kt({},Kn.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--stamp","data-annotation-id":Gn.id,onClick:Kn.popup.toggleOnClick,onMouseEnter:Kn.popup.openOnHover,onMouseLeave:Kn.popup.closeOnHover}),Kn.slot.children)})},Es=function(jn){var Gn=jn.annotation,ss=jn.page,Vn=jn.viewport,Nt=Gn.hasPopup===!1,yn=zn(Gn),qn=Yn(Gn),_i=!!(Gn.hasPopup||yn||qn);return At.createElement(ds,{annotation:Gn,hasPopup:Nt,ignoreBorder:!0,isRenderable:_i,page:ss,viewport:Vn},function(Kn){return At.createElement("div",kt({},Kn.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--strike-out","data-annotation-id":Gn.id,onClick:Kn.popup.toggleOnClick,onMouseEnter:Kn.popup.openOnHover,onMouseLeave:Kn.popup.closeOnHover}),Kn.slot.children)})},Ps=function(){return At.createElement(qt,{size:16},At.createElement("path",{d:"M.5,16.5a1,1,0,0,0,1,1h2v4l4-4h15a1,1,0,0,0,1-1V3.5a1,1,0,0,0-1-1H1.5a1,1,0,0,0-1,1Z"}),At.createElement("path",{d:"M7.25,9.75A.25.25,0,1,1,7,10a.25.25,0,0,1,.25-.25"}),At.createElement("path",{d:"M12,9.75a.25.25,0,1,1-.25.25A.25.25,0,0,1,12,9.75"}),At.createElement("path",{d:"M16.75,9.75a.25.25,0,1,1-.25.25.25.25,0,0,1,.25-.25"}))},Rs=function(){return At.createElement(qt,{size:16},At.createElement("path",{d:"M0.500 12.001 A11.500 11.500 0 1 0 23.500 12.001 A11.500 11.500 0 1 0 0.500 12.001 Z"}),At.createElement("path",{d:"M6.000 12.001 A6.000 6.000 0 1 0 18.000 12.001 A6.000 6.000 0 1 0 6.000 12.001 Z"}),At.createElement("path",{d:"M21.423 5.406L17.415 9.414"}),At.createElement("path",{d:"M14.587 6.585L18.607 2.565"}),At.createElement("path",{d:"M5.405 21.424L9.413 17.416"}),At.createElement("path",{d:"M6.585 14.588L2.577 18.596"}),At.createElement("path",{d:"M18.602 21.419L14.595 17.412"}),At.createElement("path",{d:"M17.419 14.58L21.428 18.589"}),At.createElement("path",{d:"M2.582 5.399L6.588 9.406"}),At.createElement("path",{d:"M9.421 6.581L5.412 2.572"}))},qs=function(){return At.createElement(qt,{size:16},At.createElement("path",{d:"M4.000 18.500 A1.500 1.500 0 1 0 7.000 18.500 A1.500 1.500 0 1 0 4.000 18.500 Z"}),At.createElement("path",{d:"M20.5.5l-9.782,9.783a7,7,0,1,0,3,3L17,10h1.5V8.5L19,8h1.5V6.5L21,6h1.5V4.5l1-1V.5Z"}))},vr=function(){return At.createElement(qt,{size:16},At.createElement("path",{d:"M2.000 2.500 L22.000 2.500 L22.000 23.500 L2.000 23.500 Z"}),At.createElement("path",{d:"M6 4.5L6 0.5"}),At.createElement("path",{d:"M18 4.5L18 0.5"}),At.createElement("path",{d:"M10 4.5L10 0.5"}),At.createElement("path",{d:"M14 4.5L14 0.5"}))},lr=function(){return At.createElement(qt,{size:16},At.createElement("path",{d:"M17.5 0.498L17.5 23.498"}),At.createElement("path",{d:"M10.5 0.498L10.5 23.498"}),At.createElement("path",{d:"M23.5.5H6.5a6,6,0,0,0,0,12h4"}))},nr=function(){return At.createElement(qt,{size:16},At.createElement("path",{d:"M2.5 22.995L12 6.005 21.5 22.995 2.5 22.995z"}))},Nr=function(jn){var Gn=jn.annotation,ss=jn.childAnnotation,Vn=jn.page,Nt=jn.viewport,yn=Gn.hasPopup===!1,qn=zn(Gn),_i=Yn(Gn),Kn=!!(Gn.hasPopup||qn||_i),is=Gn.name?Gn.name.toLowerCase():"";return At.createElement(ds,{annotation:Gn,hasPopup:yn,ignoreBorder:!1,isRenderable:Kn,page:Vn,viewport:Nt},function(as){return At.createElement(At.Fragment,null,At.createElement("div",kt({},as.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--text","data-annotation-id":Gn.id,onClick:as.popup.toggleOnClick,onMouseEnter:as.popup.openOnHover,onMouseLeave:as.popup.closeOnHover}),is&&At.createElement("div",{className:"rpv-core__annotation-text-icon"},is==="check"&&At.createElement(Lt,null),is==="comment"&&At.createElement(Ps,null),is==="help"&&At.createElement(Rs,null),is==="insert"&&At.createElement(nr,null),is==="key"&&At.createElement(qs,null),is==="note"&&At.createElement(vr,null),(is==="newparagraph"||is==="paragraph")&&At.createElement(lr,null)),as.slot.children),ss&&ss.annotationType===_e.AnnotationType.Popup&&as.popup.opened&&At.createElement(rs,{annotation:ss,page:Vn,viewport:Nt}))})},Gr=function(jn){var Gn=jn.annotation,ss=jn.page,Vn=jn.viewport,Nt=Gn.hasPopup===!1,yn=zn(Gn),qn=Yn(Gn),_i=!!(Gn.hasPopup||yn||qn);return At.createElement(ds,{annotation:Gn,hasPopup:Nt,ignoreBorder:!0,isRenderable:_i,page:ss,viewport:Vn},function(Kn){return At.createElement("div",kt({},Kn.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--underline","data-annotation-id":Gn.id,onClick:Kn.popup.toggleOnClick,onMouseEnter:Kn.popup.openOnHover,onMouseLeave:Kn.popup.closeOnHover}),Kn.slot.children)})},vs=function(jn){var Gn=jn.annotations,ss=jn.doc,Vn=jn.outlines,Nt=jn.page,yn=jn.pageIndex,qn=jn.plugins,_i=jn.rotation,Kn=jn.scale,is=jn.onExecuteNamedAction,as=jn.onJumpFromLinkAnnotation,gs=jn.onJumpToDest,ms=At.useRef(),bs=Nt.getViewport({rotation:_i,scale:Kn}).clone({dontFlip:!0}),Ms=Gn.filter(function(Cs){return!Cs.parentId});return Ft(function(){var Cs=ms.current;Cs&&qn.forEach(function(ks){ks.onAnnotationLayerRender&&ks.onAnnotationLayerRender({annotations:Ms,container:Cs,pageIndex:yn,rotation:_i,scale:Kn})})},[]),At.createElement("div",{ref:ms,className:"rpv-core__annotation-layer","data-testid":"core__annotation-layer-".concat(yn)},Ms.map(function(Cs){var ks=Gn.find(function(tr){return tr.parentId===Cs.id});switch(Cs.annotationType){case _e.AnnotationType.Caret:return At.createElement(Bn,{key:Cs.id,annotation:Cs,page:Nt,viewport:bs});case _e.AnnotationType.Circle:return At.createElement(Hn,{key:Cs.id,annotation:Cs,page:Nt,viewport:bs});case _e.AnnotationType.FileAttachment:return At.createElement(Xn,{key:Cs.id,annotation:Cs,page:Nt,viewport:bs});case _e.AnnotationType.FreeText:return At.createElement(cs,{key:Cs.id,annotation:Cs,page:Nt,viewport:bs});case _e.AnnotationType.Highlight:return At.createElement(xs,{key:Cs.id,annotation:Cs,childAnnotation:ks,page:Nt,viewport:bs});case _e.AnnotationType.Ink:return At.createElement(Jn,{key:Cs.id,annotation:Cs,page:Nt,viewport:bs});case _e.AnnotationType.Line:return At.createElement(Wn,{key:Cs.id,annotation:Cs,page:Nt,viewport:bs});case _e.AnnotationType.Link:return At.createElement(ws,{key:Cs.id,annotation:Cs,annotationContainerRef:ms,doc:ss,outlines:Vn,page:Nt,pageIndex:yn,scale:Kn,viewport:bs,onExecuteNamedAction:is,onJumpFromLinkAnnotation:as,onJumpToDest:gs});case _e.AnnotationType.Polygon:return At.createElement(fs,{key:Cs.id,annotation:Cs,page:Nt,viewport:bs});case _e.AnnotationType.Polyline:return At.createElement(Ss,{key:Cs.id,annotation:Cs,page:Nt,viewport:bs});case _e.AnnotationType.Popup:return At.createElement(rs,{key:Cs.id,annotation:Cs,page:Nt,viewport:bs});case _e.AnnotationType.Square:return At.createElement(Ls,{key:Cs.id,annotation:Cs,page:Nt,viewport:bs});case _e.AnnotationType.Squiggly:return At.createElement(Fs,{key:Cs.id,annotation:Cs,page:Nt,viewport:bs});case _e.AnnotationType.Stamp:return At.createElement($s,{key:Cs.id,annotation:Cs,page:Nt,viewport:bs});case _e.AnnotationType.StrikeOut:return At.createElement(Es,{key:Cs.id,annotation:Cs,page:Nt,viewport:bs});case _e.AnnotationType.Text:return At.createElement(Nr,{key:Cs.id,annotation:Cs,childAnnotation:ks,page:Nt,viewport:bs});case _e.AnnotationType.Underline:return At.createElement(Gr,{key:Cs.id,annotation:Cs,page:Nt,viewport:bs});default:return At.createElement(At.Fragment,{key:Cs.id})}}))},ys=function(jn){var Gn=jn.page,ss=jn.renderAnnotations,Vn=Wt(),Nt=At.useState({loading:!0,annotations:[]}),yn=Nt[0],qn=Nt[1];return At.useEffect(function(){Gn.getAnnotations({intent:"display"}).then(function(_i){Vn.current&&qn({loading:!1,annotations:_i})})},[]),yn.loading?At.createElement(At.Fragment,null):ss(yn.annotations)},As=function(jn){var Gn=jn.doc,ss=jn.outlines,Vn=jn.page,Nt=jn.pageIndex,yn=jn.plugins,qn=jn.rotation,_i=jn.scale,Kn=jn.onExecuteNamedAction,is=jn.onJumpFromLinkAnnotation,as=jn.onJumpToDest;return At.createElement(ys,{page:Vn,renderAnnotations:function(gs){return At.createElement(vs,{annotations:gs,doc:Gn,outlines:ss,page:Vn,pageIndex:Nt,plugins:yn,rotation:qn,scale:_i,onExecuteNamedAction:Kn,onJumpFromLinkAnnotation:is,onJumpToDest:as})}})},_s=function(jn,Gn){var ss=jn%Gn;return ss===0?jn:Math.floor(jn-ss)},js=function(jn){var Gn=jn.canvasLayerRef,ss=jn.height,Vn=jn.page,Nt=jn.pageIndex,yn=jn.plugins,qn=jn.rotation,_i=jn.scale,Kn=jn.width,is=jn.onRenderCanvasCompleted,as=At.useRef();return Ft(function(){var gs=as.current;gs&&gs.cancel();var ms=Gn.current;ms.removeAttribute("data-testid"),yn.forEach(function(Bs){Bs.onCanvasLayerRender&&Bs.onCanvasLayerRender({ele:ms,pageIndex:Nt,rotation:qn,scale:_i,status:_e.LayerRenderStatus.PreRender})});var bs=Vn.getViewport({rotation:qn,scale:_i}),Ms=window.devicePixelRatio||1,Cs=Math.sqrt(16777216/(bs.width*bs.height)),ks=Ms>Cs;ks?ms.style.transform="scale(1, 1)":ms.style.removeProperty("transform");var tr=Math.min(Cs,Ms),Is=function(Bs,Ns){var Er,kr;if(Math.floor(Bs)===Bs)return[Bs,1];var Fr=1/Bs;if(Fr>Ns)return[1,Ns];if(Math.floor(Fr)===Fr)return[1,Fr];for(var Rr=Bs>1?Fr:Bs,Mr=0,Ur=1,Zr=1,eo=1;;){var Jr=Mr+Zr,so=Ur+eo;if(so>Ns)break;Rr<=Jr/so?(Zr=(Er=[Jr,so])[0],eo=Er[1]):(Mr=(kr=[Jr,so])[0],Ur=kr[1])}return Rr<(Mr/Ur+Zr/eo)/2?Rr===Bs?[Mr,Ur]:[Ur,Mr]:Rr===Bs?[Zr,eo]:[eo,Zr]}(tr,8),Gs=Is[0],zs=Is[1];ms.width=_s(bs.width*tr,Gs),ms.height=_s(bs.height*tr,Gs),ms.style.width="".concat(_s(bs.width,zs),"px"),ms.style.height="".concat(_s(bs.height,zs),"px"),ms.hidden=!0;var Hs=ms.getContext("2d",{alpha:!1}),Qs=ks||Ms!==1?[tr,0,0,tr,0,0]:null;return as.current=Vn.render({canvasContext:Hs,transform:Qs,viewport:bs}),as.current.promise.then(function(){ms.hidden=!1,ms.setAttribute("data-testid","core__canvas-layer-".concat(Nt)),yn.forEach(function(Bs){Bs.onCanvasLayerRender&&Bs.onCanvasLayerRender({ele:ms,pageIndex:Nt,rotation:qn,scale:_i,status:_e.LayerRenderStatus.DidRender})}),is()},function(){is()}),function(){ms&&(ms.width=0,ms.height=0)}},[]),At.createElement("div",{className:"rpv-core__canvas-layer",style:{height:"".concat(ss,"px"),width:"".concat(Kn,"px")}},At.createElement("canvas",{ref:Gn}))},er=function(jn){var Gn=jn.height,ss=jn.page,Vn=jn.rotation,Nt=jn.scale,yn=jn.width,qn=At.useRef();return Ft(function(){var _i=qn.current,Kn=ss.getViewport({rotation:Vn,scale:Nt});ss.getOperatorList().then(function(is){(function(){var as=qn.current;as&&(as.innerHTML="")})(),new Ct.SVGGraphics(ss.commonObjs,ss.objs).getSVG(is,Kn).then(function(as){as.style.height="".concat(Gn,"px"),as.style.width="".concat(yn,"px"),_i.appendChild(as)})})},[]),At.createElement("div",{className:"rpv-core__svg-layer",ref:qn})},Os=function(jn){var Gn=jn.containerRef,ss=jn.page,Vn=jn.pageIndex,Nt=jn.plugins,yn=jn.rotation,qn=jn.scale,_i=jn.onRenderTextCompleted,Kn=At.useRef(),is=function(){var as=Gn.current;as&&([].slice.call(as.querySelectorAll(".rpv-core__text-layer-text")).forEach(function(gs){return as.removeChild(gs)}),[].slice.call(as.querySelectorAll('br[role="presentation"]')).forEach(function(gs){return as.removeChild(gs)}))};return Ft(function(){var as=Kn.current;as&&as.cancel();var gs=Gn.current;if(gs){gs.removeAttribute("data-testid");var ms=ss.getViewport({rotation:yn,scale:qn});return Nt.forEach(function(bs){bs.onTextLayerRender&&bs.onTextLayerRender({ele:gs,pageIndex:Vn,scale:qn,status:_e.LayerRenderStatus.PreRender})}),ss.getTextContent().then(function(bs){is(),Kn.current=Ct.renderTextLayer({container:gs,textContent:bs,textContentSource:bs,viewport:ms}),Kn.current.promise.then(function(){gs.setAttribute("data-testid","core__text-layer-".concat(Vn)),[].slice.call(gs.children).forEach(function(Ms){Ms.classList.contains("rpv-core__text-layer-text--not")||Ms.classList.add("rpv-core__text-layer-text")}),Nt.forEach(function(Ms){Ms.onTextLayerRender&&Ms.onTextLayerRender({ele:gs,pageIndex:Vn,scale:qn,status:_e.LayerRenderStatus.DidRender})}),_i()},function(){gs.removeAttribute("data-testid"),_i()})}),function(){var bs;is(),(bs=Kn.current)===null||bs===void 0||bs.cancel()}}},[]),At.createElement("div",{className:"rpv-core__text-layer",ref:Gn})},Ts=function(jn){var Gn=jn.doc,ss=jn.measureRef,Vn=jn.outlines,Nt=jn.pageIndex,yn=jn.pageRotation,qn=jn.pageSize,_i=jn.plugins,Kn=jn.renderPage,is=jn.renderQueueKey,as=jn.rotation,gs=jn.scale,ms=jn.shouldRender,bs=jn.viewMode,Ms=jn.onExecuteNamedAction,Cs=jn.onJumpFromLinkAnnotation,ks=jn.onJumpToDest,tr=jn.onRenderCompleted,Is=jn.onRotatePage,Gs=Wt(),zs=At.useState(null),Hs=zs[0],Qs=zs[1],Bs=At.useState(!1),Ns=Bs[0],Er=Bs[1],kr=At.useState(!1),Fr=kr[0],Rr=kr[1],Mr=At.useRef(),Ur=At.useRef(),Zr=Math.abs(as+yn)%180==0,eo=qn.pageWidth*gs,Jr=qn.pageHeight*gs,so=Zr?eo:Jr,no=Zr?Jr:eo,So=(qn.rotation+as+yn)%360,zl=At.useRef(0),Pl=Kn||function(ho){return At.createElement(At.Fragment,null,ho.canvasLayer.children,ho.textLayer.children,ho.annotationLayer.children)};return At.useEffect(function(){Qs(null),Er(!1),Rr(!1)},[yn,as,gs]),At.useEffect(function(){ms&&Gs.current&&!Hs&&Ln(Gn,Nt).then(function(ho){Gs.current&&(zl.current=is,Qs(ho))})},[ms,Hs]),At.useEffect(function(){Ns&&Fr&&(is!==zl.current?(Qs(null),Er(!1),Rr(!1)):tr(Nt))},[Ns,Fr]),At.createElement("div",{className:vt({"rpv-core__page-layer":!0,"rpv-core__page-layer--dual":bs===_e.ViewMode.DualPage,"rpv-core__page-layer--dual-cover":bs===_e.ViewMode.DualPageWithCover,"rpv-core__page-layer--single":bs===_e.ViewMode.SinglePage}),"data-testid":"core__page-layer-".concat(Nt),ref:ss,style:{height:"".concat(no,"px"),width:"".concat(so,"px")}},Hs?At.createElement(At.Fragment,null,Pl({annotationLayer:{attrs:{},children:At.createElement(As,{doc:Gn,outlines:Vn,page:Hs,pageIndex:Nt,plugins:_i,rotation:So,scale:gs,onExecuteNamedAction:Ms,onJumpFromLinkAnnotation:Cs,onJumpToDest:ks})},canvasLayer:{attrs:{},children:At.createElement(js,{canvasLayerRef:Mr,height:no,page:Hs,pageIndex:Nt,plugins:_i,rotation:So,scale:gs,width:so,onRenderCanvasCompleted:function(){Gs.current&&Er(!0)}})},canvasLayerRendered:Ns,doc:Gn,height:no,pageIndex:Nt,rotation:So,scale:gs,svgLayer:{attrs:{},children:At.createElement(er,{height:no,page:Hs,rotation:So,scale:gs,width:so})},textLayer:{attrs:{},children:At.createElement(Os,{containerRef:Ur,page:Hs,pageIndex:Nt,plugins:_i,rotation:So,scale:gs,onRenderTextCompleted:function(){Gs.current&&Rr(!0)}})},textLayerRendered:Fr,width:so,markRendered:tr,onRotatePage:function(ho){return Is(Nt,ho)}}),_i.map(function(ho,Bo){return ho.renderPageLayer?At.createElement(At.Fragment,{key:Bo},ho.renderPageLayer({canvasLayerRef:Mr,canvasLayerRendered:Ns,doc:Gn,height:no,pageIndex:Nt,rotation:So,scale:gs,textLayerRef:Ur,textLayerRendered:Fr,width:so})):At.createElement(At.Fragment,{key:Bo})})):At.createElement(Ot,{testId:"core__page-layer-loading-".concat(Nt)}))},Ws=function(jn,Gn){var ss=Gn.rect;return jn.height!==ss.height||jn.width!==ss.width?ss:jn};(function(jn){jn.Horizontal="Horizontal",jn.Vertical="Vertical",jn.Both="Both"})(ls||(ls={}));var ur=function(jn){return 1-Math.pow(1-jn,4)},br=1e-4,Js={left:0,top:0},rr={capture:!1,passive:!0},mr=function(jn){var Gn=jn.elementRef,ss=jn.enableSmoothScroll,Vn=jn.isRtl,Nt=jn.scrollDirection,yn=jn.onSmoothScroll,qn=At.useState(Js),_i=qn[0],Kn=qn[1],is=At.useState(Gn.current),as=is[0],gs=is[1],ms=Vn?-1:1,bs=At.useRef(Nt);bs.current=Nt;var Ms=At.useRef(Js),Cs=At.useRef(!0),ks=At.useCallback(function(){Cs.current=!0,ss&&Kn(Ms.current),yn(!1)},[]),tr=At.useCallback(function(){if(as){switch(bs.current){case ls.Horizontal:Ms.current={left:ms*as.scrollLeft,top:0};break;case ls.Both:Ms.current={left:ms*as.scrollLeft,top:as.scrollTop};break;case ls.Vertical:default:Ms.current={left:0,top:as.scrollTop}}ss&&!Cs.current||Kn(Ms.current)}},[as]);Ft(function(){gs(Gn.current)}),Ft(function(){if(as)return as.addEventListener("scroll",tr,rr),function(){as.removeEventListener("scroll",tr,rr)}},[as]);var Is=At.useCallback(function(Gs,zs){var Hs=Gn.current;if(!Hs)return Promise.resolve();var Qs={left:0,top:0};switch(bs.current){case ls.Horizontal:Qs.left=ms*Gs.left;break;case ls.Both:Qs.left=ms*Gs.left,Qs.top=Gs.top;break;case ls.Vertical:default:Qs.top=Gs.top}return zs?(Cs.current=!1,yn(!0),new Promise(function(Bs,Ns){(function(Er,kr,Fr,Rr,Mr,Ur){Mr===void 0&&(Mr=function(Bo){return Bo}),Ur===void 0&&(Ur=function(){});var Zr=0,eo=0,Jr=!1;switch(kr){case ls.Horizontal:eo=Er.scrollLeft,Zr=0;case ls.Both:eo=Er.scrollLeft,Zr=Er.scrollTop;break;case ls.Vertical:default:eo=0,Zr=Er.scrollTop}var so=function(){Jr||(Jr=!0,Er.scrollLeft=Fr.left,Er.scrollTop=Fr.top,Ur())};if(Math.abs(Zr-Fr.top)<=br&&kr===ls.Vertical)so();else if(Math.abs(eo-Fr.left)<=br&&kr===ls.Horizontal)so();else{var no,So=-1,zl=eo-Fr.left,Pl=Zr-Fr.top,ho=function(Bo){So===-1&&(So=Bo);var uu=Bo-So,xr=Math.min(uu/Rr,1),pr=Mr(xr),ir={left:eo-zl*pr,top:Zr-Pl*pr};switch(kr){case ls.Horizontal:Er.scrollLeft=ir.left;break;case ls.Both:Er.scrollLeft=ir.left,Er.scrollTop=ir.top;break;case ls.Vertical:default:Er.scrollTop=ir.top}Math.abs(ir.top-Fr.top)<=br&&Math.abs(ir.left-Fr.left)<=br&&!Jr&&(window.cancelAnimationFrame(no),so()),uu<Rr?no=window.requestAnimationFrame(ho):window.cancelAnimationFrame(no)};no=window.requestAnimationFrame(ho)}})(Hs,bs.current,Qs,400,ur,function(){ks(),Bs()})})):new Promise(function(Bs,Ns){switch(bs.current){case ls.Horizontal:Hs.scrollLeft=Qs.left;break;case ls.Both:Hs.scrollLeft=Qs.left,Hs.scrollTop=Qs.top;break;case ls.Vertical:default:Hs.scrollTop=Qs.top}Bs()})},[Gn]);return{scrollOffset:_i,scrollTo:Is}},Xs=function(jn,Gn,ss){return Math.max(jn,Math.min(ss,Gn))},hr=function(jn,Gn){if(Gn!==_e.ViewMode.DualPageWithCover)return 0;if(!function(Nt){var yn=Nt.length;if(yn===1)return!1;for(var qn=1;qn<yn;qn++)if(Nt[qn].height!==Nt[0].height||Nt[qn].width!==Nt[0].width)return!0;return!1}(jn))return 2*jn[0].width;var ss=Cn(jn.slice(1),2).map(function(Nt){return Nt.length===2?Nt[0].width+Nt[1].width:Nt[0].width}),Vn=[jn[0].width].concat(ss);return Math.max.apply(Math,Vn)},Vs={left:0,top:0},gr={left:0,top:0},wr={left:0,top:0},io={left:0,top:0},dr={height:0,width:0},fr={left:0,top:0},$r="data-virtual-index",Yr=[0,.1,.2,.3,.4,.5,.6,.7,.8,.9,1],wo=function(jn){var Gn=jn.enableSmoothScroll,ss=jn.isRtl,Vn=jn.numberOfItems,Nt=jn.parentRef,yn=jn.setRenderRange,qn=jn.sizes,_i=jn.scrollMode,Kn=jn.viewMode,is=At.useState(!1),as=is[0],gs=is[1],ms=At.useCallback(function(xr){return gs(xr)},[]),bs=At.useRef(_i);bs.current=_i;var Ms=At.useRef(Kn);Ms.current=Kn;var Cs=_i===_e.ScrollMode.Wrapped||Kn===_e.ViewMode.DualPageWithCover||Kn===_e.ViewMode.DualPage?ls.Both:_i===_e.ScrollMode.Horizontal?ls.Horizontal:ls.Vertical,ks=mr({elementRef:Nt,enableSmoothScroll:Gn,isRtl:ss,scrollDirection:Cs,onSmoothScroll:ms}),tr=ks.scrollOffset,Is=ks.scrollTo,Gs=function(xr){var pr=xr.elementRef,ir=At.useState(pr.current),ar=ir[0],sr=ir[1],yr=At.useRef(!1),Sr=At.useReducer(Ws,{height:0,width:0}),or=Sr[0],Ks=Sr[1];return Ft(function(){pr.current!==ar&&sr(pr.current)}),Ft(function(){if(ar&&!yr.current){yr.current=!0;var Tr=ar.getBoundingClientRect(),_r=Tr.height,Qr=Tr.width;Ks({rect:{height:_r,width:Qr}})}},[ar]),At.useEffect(function(){if(ar){var Tr=new ResizeObserver(function(_r,Qr){_r.forEach(function(Wr){if(Wr.target===ar){var xo=Wr.contentRect,zo=xo.height,Pr=xo.width;Ks({rect:{height:zo,width:Pr}})}})});return Tr.observe(ar),function(){Tr.unobserve(ar)}}},[ar]),or}({elementRef:Nt}),zs=At.useRef({scrollOffset:fr,measurements:[]});zs.current.scrollOffset=tr;var Hs=At.useMemo(function(){return Array(Vn).fill(-1)},[]),Qs=At.useState(Hs),Bs=Qs[0],Ns=Qs[1],Er=At.useMemo(function(){var xr=new IntersectionObserver(function(pr){pr.forEach(function(ir){var ar=ir.isIntersecting?ir.intersectionRatio:-1,sr=ir.target.getAttribute($r);if(sr){var yr=parseInt(sr,10);0<=yr&&yr<Vn&&Ns(function(Sr){return Sr[yr]=ar,function(or,Ks,Tr){for(var _r,Qr=0,Wr=Ks.length;Qr<Wr;Qr++)!_r&&Qr in Ks||(_r||(_r=Array.prototype.slice.call(Ks,0,Qr)),_r[Qr]=Ks[Qr]);return or.concat(_r||Array.prototype.slice.call(Ks))}([],Sr)})}})},{threshold:Yr});return xr},[]),kr=At.useMemo(function(){return _i===_e.ScrollMode.Page&&Kn===_e.ViewMode.SinglePage?function(xr,pr,ir){for(var ar=[],sr=0;sr<xr;sr++){var yr={height:Math.max(pr.height,ir[sr].height),width:Math.max(pr.width,ir[sr].width)},Sr=sr===0?io:ar[sr-1].end,or={left:Sr.left+yr.width,top:Sr.top+yr.height};ar[sr]={index:sr,start:Sr,size:yr,end:or,visibility:-1}}return ar}(Vn,Gs,qn):Kn===_e.ViewMode.DualPageWithCover?function(xr,pr,ir,ar){for(var sr=[],yr=0,Sr=0,or=wr,Ks=0;Ks<xr;Ks++){var Tr=Ks===0?{height:ar===_e.ScrollMode.Page?Math.max(pr.height,ir[Ks].height):ir[Ks].height,width:ar===_e.ScrollMode.Page?Math.max(pr.width,ir[Ks].width):ir[Ks].width}:{height:ar===_e.ScrollMode.Page?Math.max(pr.height,ir[Ks].height):ir[Ks].height,width:Math.max(pr.width/2,ir[Ks].width)};ar===_e.ScrollMode.Page?or=Ks===0?wr:{left:Ks%2==0?Tr.width:0,top:Math.floor((Ks-1)/2)*Tr.height+sr[0].end.top}:Ks===0?(or=wr,yr=ir[0].height,Sr=0):Ks%2==1?(or={left:0,top:yr+=Sr},Sr=Ks===xr-1?ir[Ks].height:Math.max(ir[Ks].height,ir[Ks+1].height)):or={left:sr[Ks-1].end.left,top:yr};var _r={left:or.left+Tr.width,top:or.top+Tr.height};sr[Ks]={index:Ks,start:or,size:Tr,end:_r,visibility:-1}}return sr}(Vn,Gs,qn,_i):Kn===_e.ViewMode.DualPage?function(xr,pr,ir,ar){for(var sr=[],yr=0,Sr=0,or=gr,Ks=0;Ks<xr;Ks++){var Tr={height:ar===_e.ScrollMode.Page?Math.max(pr.height,ir[Ks].height):ir[Ks].height,width:Math.max(pr.width/2,ir[Ks].width)};ar===_e.ScrollMode.Page?or={left:Ks%2==0?0:Tr.width,top:Math.floor(Ks/2)*Tr.height}:Ks%2==0?(or={left:0,top:yr+=Sr},Sr=Ks===xr-1?ir[Ks].height:Math.max(ir[Ks].height,ir[Ks+1].height)):or={left:sr[Ks-1].end.left,top:yr};var _r={left:or.left+Tr.width,top:or.top+Tr.height};sr[Ks]={index:Ks,start:or,size:Tr,end:_r,visibility:-1}}return sr}(Vn,Gs,qn,_i):function(xr,pr,ir,ar){for(var sr=[],yr=0,Sr={left:0,top:0},or=0,Ks=Vs,Tr=0;Tr<xr;Tr++){var _r=ir[Tr];if(Tr===0)yr=_r.width,Sr={left:0,top:0},or=_r.height;else switch(ar){case _e.ScrollMode.Wrapped:(yr+=_r.width)<pr.width?(Ks={left:sr[Tr-1].end.left,top:Sr.top},or=Math.max(or,_r.height)):(yr=_r.width,Sr={left:(Ks={left:Sr.left,top:Sr.top+or}).left,top:Ks.top},or=_r.height);break;case _e.ScrollMode.Horizontal:case _e.ScrollMode.Vertical:default:Ks=sr[Tr-1].end}var Qr={left:Ks.left+_r.width,top:Ks.top+_r.height};sr[Tr]={index:Tr,start:Ks,size:_r,end:Qr,visibility:-1}}return sr}(Vn,Gs,qn,_i)},[_i,qn,Kn,Gs]),Fr=kr[Vn-1]?{height:kr[Vn-1].end.top,width:kr[Vn-1].end.left}:dr;zs.current.measurements=kr;var Rr=At.useMemo(function(){var xr=function(Tr,_r,Qr,Wr){var xo=0;switch(Tr){case ls.Horizontal:xo=Wr.left;break;case ls.Vertical:default:xo=Wr.top}var zo=_r.length-1,Pr=function(zr,zu,Ip,Yx){for(;zr<=zu;){var C0=(zr+zu)/2|0,K1=Yx(C0);if(K1<Ip)zr=C0+1;else{if(!(K1>Ip))return C0;zu=C0-1}}return zr>0?zr-1:0}(0,zo,xo,function(zr){switch(Tr){case ls.Horizontal:return _r[zr].start.left;case ls.Both:case ls.Vertical:default:return _r[zr].start.top}});if(Tr===ls.Both)for(var bo=_r[Pr].start.top;Pr-1>=0&&_r[Pr-1].start.top===bo&&_r[Pr-1].start.left>=Wr.left;)Pr--;for(var na=Pr;na<=zo;){var ba={top:_r[na].start.top-Wr.top,left:_r[na].start.left-Wr.left},lo={height:Qr.height-ba.top,width:Qr.width-ba.left};if(Tr===ls.Horizontal&&lo.width<0||Tr===ls.Vertical&&lo.height<0||Tr===ls.Both&&(lo.width<0||lo.height<0))break;na++}return{start:Pr,end:na}}(Cs,kr,Gs,tr),pr=xr.start,ir=xr.end,ar=Bs.slice(Xs(0,Vn,pr),Xs(0,Vn,ir)),sr=pr+ar.reduce(function(Tr,_r,Qr,Wr){return _r>Wr[Tr]?Qr:Tr},0),yr=sr=Xs(0,Vn-1,sr),Sr=yn({endPage:ir,numPages:Vn,startPage:pr}),or=Sr.startPage,Ks=Sr.endPage;switch(or=Math.max(or,0),Ks=Math.min(Ks,Vn-1),Kn){case _e.ViewMode.DualPageWithCover:sr>0&&(yr=sr%2==1?sr:sr-1),or=or===0?0:or%2==1?or:or-1,Vn-(Ks=Ks%2==1?Ks-1:Ks)<=2&&(Ks=Vn-1);break;case _e.ViewMode.DualPage:yr=sr%2==0?sr:sr-1,or=or%2==0?or:or-1,Ks=Ks%2==1?Ks:Ks-1;break;case _e.ViewMode.SinglePage:default:yr=sr}return{startPage:or,endPage:Ks,maxVisbilityIndex:yr}},[kr,Gs,tr,Kn,Bs]),Mr=Rr.startPage,Ur=Rr.endPage,Zr=Rr.maxVisbilityIndex,eo=At.useMemo(function(){for(var xr=[],pr=function(ar){var sr=kr[ar],yr=kt(kt({},sr),{visibility:Bs[ar]!==void 0?Bs[ar]:-1,measureRef:function(Sr){Sr&&(Sr.setAttribute($r,"".concat(ar)),Er.observe(Sr))}});xr.push(yr)},ir=Mr;ir<=Ur;ir++)pr(ir);return xr},[Mr,Ur,Bs,kr]),Jr=At.useCallback(function(xr,pr){var ir=zs.current.measurements[Xs(0,Vn-1,xr)],ar=bs.current===_e.ScrollMode.Page?fr:pr;return ir?Is({left:ar.left+ir.start.left,top:ar.top+ir.start.top},Gn):Promise.resolve()},[Is,Gn]),so=At.useCallback(function(xr,pr){var ir=zs.current.measurements,ar=ir[xr].start,sr=ir.find(function(Sr){return Sr.start.top-ar.top>1e-12});if(!sr)return Promise.resolve();var yr=sr.index;switch(Ms.current){case _e.ViewMode.DualPage:yr=yr%2==0?yr:yr+1;break;case _e.ViewMode.DualPageWithCover:yr=yr%2==1?yr:yr+1}return Jr(yr,pr)},[]),no=At.useCallback(function(xr,pr){for(var ir=zs.current.measurements,ar=ir[xr].start,sr=xr,yr=!1,Sr=Vn-1;Sr>=0;Sr--)if(ar.top-ir[Sr].start.top>1e-12){yr=!0,sr=ir[Sr].index;break}if(!yr)return Promise.resolve();switch(Ms.current){case _e.ViewMode.DualPage:sr=sr%2==0?sr:sr-1;break;case _e.ViewMode.DualPageWithCover:sr=sr%2==0?sr-1:sr}return sr===xr&&(sr=xr-1),Jr(sr,pr)},[]),So=At.useCallback(function(xr,pr){if(Ms.current===_e.ViewMode.DualPageWithCover||Ms.current===_e.ViewMode.DualPage)return so(xr,pr);switch(bs.current){case _e.ScrollMode.Wrapped:return so(xr,pr);case _e.ScrollMode.Horizontal:case _e.ScrollMode.Vertical:default:return Jr(xr+1,pr)}},[]),zl=At.useCallback(function(xr,pr){if(Ms.current===_e.ViewMode.DualPageWithCover||Ms.current===_e.ViewMode.DualPage)return no(xr,pr);switch(bs.current){case _e.ScrollMode.Wrapped:return no(xr,pr);case _e.ScrollMode.Horizontal:case _e.ScrollMode.Vertical:default:return Jr(xr-1,pr)}},[]),Pl=At.useCallback(function(){return function(xr,pr){switch(pr){case _e.ScrollMode.Horizontal:return{position:"relative",height:"100%",width:"".concat(xr.width,"px")};case _e.ScrollMode.Vertical:default:return{position:"relative",height:"".concat(xr.height,"px"),width:"100%"}}}(Fr,bs.current)},[Fr]),ho=At.useCallback(function(xr){return function(pr,ir,ar){return ar!==_e.ScrollMode.Page?{}:{height:"".concat(ir.height,"px"),width:"100%",position:"absolute",top:0,transform:"translateY(".concat(pr.start.top,"px)")}}(xr,Gs,bs.current)},[Gs]),Bo=At.useCallback(function(xr){return function(pr,ir,ar,sr,yr){var Sr,or,Ks,Tr,_r,Qr,Wr,xo=ir?"right":"left",zo=ir?-1:1,Pr=ar.length,bo=pr.start.left*zo,na=pr.size,ba=na.height,lo=na.width;if(sr===_e.ViewMode.DualPageWithCover){var zr=yr===_e.ScrollMode.Page?0:pr.start.top;return pr.index===0||Pr%2==0&&pr.index===Pr-1?((Sr={height:"".concat(ba,"px"),minWidth:"".concat(hr(ar,sr),"px"),width:"100%"})[xo]=0,Sr.position="absolute",Sr.top=0,Sr.transform="translate(".concat(bo,"px, ").concat(zr,"px)"),Sr):((or={height:"".concat(ba,"px"),width:"".concat(lo,"px")})[xo]=0,or.position="absolute",or.top=0,or.transform="translate(".concat(bo,"px, ").concat(zr,"px)"),or)}if(sr===_e.ViewMode.DualPage)return(Ks={height:"".concat(ba,"px"),width:"".concat(lo,"px")})[xo]=0,Ks.position="absolute",Ks.top=0,Ks.transform="translate(".concat(bo,"px, ").concat(yr===_e.ScrollMode.Page?0:pr.start.top,"px)"),Ks;switch(yr){case _e.ScrollMode.Horizontal:return(Tr={height:"100%",width:"".concat(lo,"px")})[xo]=0,Tr.position="absolute",Tr.top=0,Tr.transform="translateX(".concat(bo,"px)"),Tr;case _e.ScrollMode.Page:return(_r={height:"".concat(ba,"px"),width:"".concat(lo,"px")})[xo]=0,_r.position="absolute",_r.top=0,_r;case _e.ScrollMode.Wrapped:return(Qr={height:"".concat(ba,"px"),width:"".concat(lo,"px")})[xo]=0,Qr.position="absolute",Qr.top=0,Qr.transform="translate(".concat(bo,"px, ").concat(pr.start.top,"px)"),Qr;case _e.ScrollMode.Vertical:default:return(Wr={height:"".concat(ba,"px"),width:"100%"})[xo]=0,Wr.position="absolute",Wr.top=0,Wr.transform="translateY(".concat(pr.start.top,"px)"),Wr}}(xr,ss,qn,Ms.current,bs.current)},[ss,qn]),uu=At.useCallback(function(xr,pr){var ir=zs.current,ar=ir.measurements,sr=ir.scrollOffset,yr=ar[Xs(0,Vn-1,pr)];if(yr){var Sr=bs.current===_e.ScrollMode.Page?{left:yr.start.left,top:yr.start.top}:{left:sr.left*xr,top:sr.top*xr};return Is(Sr,!1)}return Promise.resolve()},[]);return At.useEffect(function(){return function(){Er.disconnect()}},[]),{boundingClientRect:Gs,isSmoothScrolling:as,startPage:Mr,endPage:Ur,maxVisbilityIndex:Zr,virtualItems:eo,getContainerStyles:Pl,getItemContainerStyles:ho,getItemStyles:Bo,scrollToItem:Jr,scrollToNextItem:So,scrollToPreviousItem:zl,zoom:uu}},Tl=function(jn,Gn,ss,Vn,Nt,yn){var qn=ss;switch(!0){case(Nt===_e.ViewMode.DualPageWithCover&&yn>=3):case(Nt===_e.ViewMode.DualPage&&yn>=3):qn=2*ss;break;default:qn=ss}switch(Vn){case _e.SpecialZoomLevel.ActualSize:return 1;case _e.SpecialZoomLevel.PageFit:return Math.min((jn.clientWidth-17)/qn,(jn.clientHeight-16)/Gn);case _e.SpecialZoomLevel.PageWidth:return(jn.clientWidth-17)/qn}},V1=function(jn){var Gn,ss,Vn=jn.getCurrentPage,Nt=(Gn=50,ss=At.useRef([]),At.useEffect(function(){return function(){ss.current=[]}},[]),{push:function(is){var as=ss.current;as.length+1>Gn&&as.shift(),as.push(is),ss.current=as},map:function(is){return ss.current.map(function(as){return is(as)})},pop:function(){var is=ss.current;if(is.length===0)return null;var as=is.pop();return ss.current=is,as}}),yn=function(is){var as=At.useRef([]);return At.useEffect(function(){return function(){as.current=[]}},[]),{dequeue:function(){var gs=as.current;if(gs.length===0)return null;var ms=gs.shift();return as.current=gs,ms||null},enqueue:function(gs){var ms=as.current;ms.length+1>is&&ms.pop(),as.current=[gs].concat(ms)},map:function(gs){return as.current.map(function(ms){return gs(ms)})}}}(50),qn=function(){var is=yn.dequeue();return is&&Nt.push(is),is&&is.pageIndex===Vn()?qn():is},_i=function(){var is=Nt.pop();return is&&yn.enqueue(is),is&&is.pageIndex===Vn()?_i():is},Kn=At.useCallback(function(is){Nt.push(is)},[]);return{getNextDestination:qn,getPreviousDestination:_i,markVisitedDestination:Kn}},Tp=function(jn){var Gn=[];return jn.map(function(ss){Gn=Gn.concat(ss).concat(function(Vn){var Nt=[];return Vn.items&&Vn.items.length>0&&(Nt=Nt.concat(Tp(Vn.items))),Nt}(ss))}),Gn},Pp={capture:!1,passive:!0},z1={height:0,width:0},v0={height:0,width:0},Rp=function(jn){var Gn=jn.getCurrentPage,ss=jn.getCurrentScrollMode,Vn=jn.jumpToPage,Nt=jn.targetRef,yn=At.useState(_e.FullScreenMode.Normal),qn=yn[0],_i=yn[1],Kn=function(){var Bs=At.useState(z1),Ns=Bs[0],Er=Bs[1],kr=bn(function(){Er({height:window.innerHeight,width:window.innerWidth})},100);return Ft(function(){return window.addEventListener("resize",kr,Pp),function(){window.removeEventListener("resize",kr,Pp)}},[]),Ns}(),is=At.useState(v0),as=is[0],gs=is[1],ms=At.useRef(v0),bs=At.useRef(Gn()),Ms=At.useRef(v0),Cs=At.useState(Nt.current),ks=Cs[0],tr=Cs[1],Is=At.useRef();Ft(function(){Nt.current!==ks&&tr(Nt.current)},[]),Ft(function(){if(ks){var Bs=new ResizeObserver(function(Ns){Ns.forEach(function(Er){var kr=Er.target.getBoundingClientRect(),Fr=kr.height,Rr=kr.width;gs({height:Fr,width:Rr})})});return Bs.observe(ks),function(){Bs.unobserve(ks),Bs.disconnect()}}},[ks]);var Gs=At.useCallback(function(Bs){var Ns=nn();return Ns&&Ns!==Bs?(_i(_e.FullScreenMode.Normal),gn(Ns)):Promise.resolve()},[]),zs=At.useCallback(function(Bs){Bs&&tn()&&(tr(Bs),Gs(Bs).then(function(){Is.current=Bs,_i(_e.FullScreenMode.Entering),function(Ns){en&&Ns[hn.RequestFullScreen]()}(Bs)}))},[]),Hs=At.useCallback(function(){nn()&&(_i(_e.FullScreenMode.Exitting),gn(document))},[]),Qs=At.useCallback(function(){ks&&nn()!==ks&&_i(_e.FullScreenMode.Exitting)},[ks]);return At.useEffect(function(){switch(qn){case _e.FullScreenMode.Entering:Is.current&&(Is.current.style.backgroundColor="var(--rpv-core__full-screen-target-background-color)"),bs.current=Gn(),ms.current={height:window.innerHeight,width:window.innerWidth};break;case _e.FullScreenMode.Entered:ss()===_e.ScrollMode.Page?Vn(bs.current).then(function(){_i(_e.FullScreenMode.EnteredCompletely)}):_i(_e.FullScreenMode.EnteredCompletely);break;case _e.FullScreenMode.Exitting:Is.current&&(Is.current.style.backgroundColor="",Is.current=null),bs.current=Gn();break;case _e.FullScreenMode.Exited:_i(_e.FullScreenMode.Normal),ss()===_e.ScrollMode.Page&&Vn(bs.current)}},[qn]),At.useEffect(function(){if(qn!==_e.FullScreenMode.Normal)return qn===_e.FullScreenMode.Entering&&Kn.height===as.height&&Kn.width===as.width&&Kn.height>0&&Kn.width>0&&(Ms.current.height===0||Kn.height==Ms.current.height)?(Ms.current={height:window.innerHeight,width:window.innerWidth},void _i(_e.FullScreenMode.Entered)):void(qn===_e.FullScreenMode.Exitting&&ms.current.height===Kn.height&&ms.current.width===Kn.width&&Kn.height>0&&Kn.width>0&&_i(_e.FullScreenMode.Exited))},[qn,Kn,as]),At.useEffect(function(){var Bs;return Bs=Qs,en&&document.addEventListener(hn.FullScreenChange,Bs),function(){(function(Ns){en&&document.removeEventListener(hn.FullScreenChange,Ns)})(Qs)}},[ks]),{enterFullScreenMode:zs,exitFullScreenMode:Hs,fullScreenMode:qn}},w0={buildPageStyles:function(){return{}},transformSize:function(jn){return jn.size}},Vl={left:0,top:0},X1=function(jn){var Gn=jn.currentFile,ss=jn.defaultScale,Vn=jn.doc,Nt=jn.enableSmoothScroll,yn=jn.initialPage,qn=jn.initialRotation,_i=jn.initialScale,Kn=jn.pageLayout,is=jn.pageSizes,as=jn.plugins,gs=jn.renderPage,ms=jn.scrollMode,bs=jn.setRenderRange,Ms=jn.viewMode,Cs=jn.viewerState,ks=jn.onDocumentLoad,tr=jn.onOpenFile,Is=jn.onPageChange,Gs=jn.onRotate,zs=jn.onRotatePage,Hs=jn.onZoom,Qs=Vn.numPages,Bs=Vn.loadingTask.docId,Ns=At.useContext(sn).l10n,Er=At.useContext(ht),kr=Er.direction===_e.TextDirection.RightToLeft,Fr=At.useRef(),Rr=At.useRef(),Mr=At.useState(yn),Ur=Mr[0],Zr=Mr[1],eo=At.useRef(null),Jr=V1({getCurrentPage:function(){return Pr.current.pageIndex}}),so=At.useState(qn),no=so[0],So=so[1],zl=Yt(no),Pl=At.useState(!1),ho=Pl[0],Bo=Pl[1],uu=At.useState(new Map),xr=uu[0],pr=uu[1],ir=At.useState(ms),ar=ir[0],sr=ir[1],yr=Yt(ar),Sr=At.useState(Ms),or=Sr[0],Ks=Sr[1],Tr=Yt(or),_r=function(Ds){var Cr=Wt(),Ir=At.useState([]),Hr=Ir[0],Br=Ir[1];return At.useEffect(function(){Ds.getOutline().then(function(Or){if(Cr.current&&Or!==null){var co=Tp(Or);Br(co)}})},[]),Hr}(Vn),Qr=At.useState(_i),Wr=Qr[0],xo=Qr[1],zo=Yt(Wr),Pr=At.useRef(Cs),bo=At.useRef(typeof ss=="string"?ss:null),na=At.useRef(-1),ba=At.useRef(-1),lo=At.useRef(yn),zr=Rp({getCurrentPage:function(){return Pr.current.pageIndex},getCurrentScrollMode:function(){return Pr.current.scrollMode},jumpToPage:function(Ds){return Wu(Ds)},targetRef:Rr}),zu=At.useState(-1),Ip=zu[0],Yx=zu[1],C0=At.useState(0),K1=C0[0],k5=C0[1],Xo=Mt({doc:Vn});At.useEffect(function(){return function(){Rn.clear(),Mn.clear()}},[Bs]);var s9=At.useMemo(function(){return Object.assign({},w0,Kn)},[]),T5=At.useMemo(function(){return Array(Qs).fill(0).map(function(Ds,Cr){var Ir=[is[Cr].pageHeight,is[Cr].pageWidth],Hr=Math.abs(no)%180==0?{height:Ir[0],width:Ir[1]}:{height:Ir[1],width:Ir[0]},Br={height:Hr.height*Wr,width:Hr.width*Wr};return s9.transformSize({numPages:Qs,pageIndex:Cr,size:Br})})},[no,Wr]),qr=wo({enableSmoothScroll:Nt,isRtl:kr,numberOfItems:Qs,parentRef:Rr,scrollMode:ar,setRenderRange:bs,sizes:T5,viewMode:or}),P5=bn(function(){!bo.current||Pr.current.fullScreenMode!==_e.FullScreenMode.Normal||yn>0&&lo.current===yn||k0(bo.current)},200);(function(Ds){var Cr=Ds.targetRef,Ir=Ds.onResize;Ft(function(){var Hr=new ResizeObserver(function(Or){Or.forEach(function(co){Ir(co.target)})}),Br=Cr.current;if(Br)return Hr.observe(Br),function(){Hr.unobserve(Br)}},[])})({targetRef:Rr,onResize:P5});var Xu=function(Ds){var Cr=Ds;as.forEach(function(Ir){Ir.onViewerStateChange&&(Cr=Ir.onViewerStateChange(Cr))}),Pr.current=Cr},R5=function(){return Rr.current},F5=function(){return Pr.current},_5=At.useCallback(function(Ds){Jr.markVisitedDestination(Ds)},[]),oy=At.useCallback(function(Ds){var Cr=Ds.pageIndex,Ir=Ds.bottomOffset,Hr=Ds.leftOffset,Br=Ds.scaleTo,Or=Rr.current,co=Pr.current;return Or&&co?new Promise(function(Gu,fy){Ln(Vn,Cr).then(function(Zx){var qu=Zx.getViewport({scale:1}),Jx=0,d9=(typeof Ir=="function"?Ir(qu.width,qu.height):Ir)||0,Qx=(typeof Hr=="function"?Hr(qu.width,qu.height):Hr)||0,Op=co.scale;switch(Br){case _e.SpecialZoomLevel.PageFit:Jx=0,Qx=0,k0(_e.SpecialZoomLevel.PageFit);break;case _e.SpecialZoomLevel.PageWidth:Op=Tl(Or,is[Cr].pageHeight,is[Cr].pageWidth,_e.SpecialZoomLevel.PageWidth,Ms,Qs),Jx=(qu.height-d9)*Op,Qx*=Op,k0(Op);break;default:Jx=(qu.height-d9)*Op,Qx*=Op}switch(co.scrollMode){case _e.ScrollMode.Horizontal:qr.scrollToItem(Cr,{left:Qx,top:0}).then(function(){Gu()});break;case _e.ScrollMode.Vertical:default:qr.scrollToItem(Cr,{left:0,top:Jx}).then(function(){Gu()})}})}):Promise.resolve()},[]),r9=At.useCallback(function(Ds){return Jr.markVisitedDestination(Ds),oy(Ds)},[]),M5=At.useCallback(function(){var Ds=Jr.getNextDestination();return Ds?oy(Ds):Promise.resolve()},[]),I5=At.useCallback(function(){var Ds=Jr.getPreviousDestination();return Ds?oy(Ds):Promise.resolve()},[]),O5=At.useCallback(function(){return qr.scrollToNextItem(Pr.current.pageIndex,Vl)},[]),Wu=At.useCallback(function(Ds){return 0<=Ds&&Ds<Qs?qr.scrollToItem(Ds,Vl):Promise.resolve()},[]),D5=At.useCallback(function(){return qr.scrollToPreviousItem(Pr.current.pageIndex,Vl)},[]),a9=At.useCallback(function(Ds){var Cr,Ir;(Cr=Ds.name,Ir=Cr.split(/\./).pop(),Ir?Ir.toLowerCase():"").toLowerCase()==="pdf"&&new Promise(function(Hr){var Br=new FileReader;Br.readAsArrayBuffer(Ds),Br.onload=function(){var Or=new Uint8Array(Br.result);Hr(Or)}}).then(function(Hr){tr(Ds.name,Hr)})},[tr]),o9=At.useCallback(function(Ds){var Cr=Ds===_e.RotateDirection.Backward?-90:90,Ir=Pr.current.rotation,Hr=Ir===360||Ir===-360?Cr:Ir+Cr;Xo.markNotRendered(),So(Hr),Xu(kt(kt({},Pr.current),{rotation:Hr})),Gs({direction:Ds,doc:Vn,rotation:Hr})},[]),ly=At.useCallback(function(Ds,Cr){var Ir=Cr===_e.RotateDirection.Backward?-90:90,Hr=Pr.current.pagesRotation,Br=(Hr.has(Ds)?Hr.get(Ds):qn)+Ir,Or=Hr.set(Ds,Br);pr(Or),Bo(function(co){return!co}),Xu(kt(kt({},Pr.current),{pagesRotation:Or,rotatedPage:Ds})),zs({direction:Cr,doc:Vn,pageIndex:Ds,rotation:Br}),Xo.markRendering(Ds),Yx(Ds)},[]),l9=At.useCallback(function(Ds){Xu(kt(kt({},Pr.current),{scrollMode:Ds})),sr(Ds)},[]),c9=At.useCallback(function(Ds){Xu(kt(kt({},Pr.current),{viewMode:Ds})),Ks(Ds)},[]),k0=At.useCallback(function(Ds){var Cr=Rr.current,Ir=Pr.current.pageIndex;if(!(Ir<0||Ir>=Qs)){var Hr=is[Ir].pageHeight,Br=is[Ir].pageWidth,Or=Cr?typeof Ds=="string"?Tl(Cr,Hr,Br,Ds,Pr.current.viewMode,Qs):Ds:1;bo.current=typeof Ds=="string"?Ds:null,Or!==Pr.current.scale&&(k5(function(co){return co+1}),Xo.markNotRendered(),xo(Or),Hs({doc:Vn,scale:Or}),Xu(kt(kt({},Pr.current),{scale:Or})))}},[]),L5=At.useCallback(function(Ds){zr.enterFullScreenMode(Ds)},[]),N5=At.useCallback(function(){zr.exitFullScreenMode()},[]);At.useEffect(function(){Xu(kt(kt({},Pr.current),{fullScreenMode:zr.fullScreenMode}))},[zr.fullScreenMode]),At.useEffect(function(){var Ds={enterFullScreenMode:L5,exitFullScreenMode:N5,getPagesContainer:R5,getViewerState:F5,jumpToDestination:r9,jumpToNextDestination:M5,jumpToPreviousDestination:I5,jumpToNextPage:O5,jumpToPreviousPage:D5,jumpToPage:Wu,openFile:a9,rotate:o9,rotatePage:ly,setViewerState:Xu,switchScrollMode:l9,switchViewMode:c9,zoom:k0};return as.forEach(function(Cr){Cr.install&&Cr.install(Ds)}),function(){as.forEach(function(Cr){Cr.uninstall&&Cr.uninstall(Ds)})}},[Bs]),At.useEffect(function(){ks({doc:Vn,file:Gn}),as.forEach(function(Ds){Ds.onDocumentLoad&&Ds.onDocumentLoad({doc:Vn,file:Gn})})},[Bs]);var cy,uy,hy,u9=qr.boundingClientRect;cy=function(){yn&&Wu(yn)},uy=u9.height>0&&u9.width>0,hy=At.useRef(!1),Ft(function(){uy&&!hy.current&&(hy.current=!0,cy())},[cy,uy]),Ft(function(){var Ds=Pr.current.pageIndex;Ds>-1&&yr!==ar&&qr.scrollToItem(Ds,Vl).then(function(){zr.fullScreenMode===_e.FullScreenMode.EnteredCompletely&&(Nt||Xo.markNotRendered(),na.current=-1)})},[ar]),Ft(function(){var Ds=Pr.current.pageIndex;Ds>-1&&zl!==no&&qr.scrollToItem(Ds,Vl)},[no]),Ft(function(){zo!=0&&zo!=Pr.current.scale&&qr.zoom(Pr.current.scale/zo,Pr.current.pageIndex).then(function(){zr.fullScreenMode===_e.FullScreenMode.EnteredCompletely&&(ba.current=-1)})},[Wr]),Ft(function(){if(Tr!==Pr.current.viewMode){var Ds=qr.startPage,Cr=qr.endPage,Ir=qr.virtualItems;Xo.markNotRendered(),Xo.setRange(Ds,Cr);for(var Hr=function(Or){var co=Ir.find(function(Gu){return Gu.index===Or});co&&Xo.setVisibility(Or,co.visibility)},Br=Ds;Br<=Cr;Br++)Hr(Br);dy()}},[or]),Ft(function(){var Ds=Pr.current.pageIndex;Ds>-1&&Tr!==or&&qr.scrollToItem(Ds,Vl)},[or]),Ft(function(){var Ds=Pr.current.pageIndex;Ds>0&&Ds===yn&&lo.current===yn&&bo.current&&(lo.current=-1,k0(bo.current))},[Ur]),At.useEffect(function(){qr.isSmoothScrolling||eo.current!==null&&eo.current===Ur||(eo.current=Ur,Is({currentPage:Ur,doc:Vn}))},[Ur,qr.isSmoothScrolling]),At.useEffect(function(){zr.fullScreenMode===_e.FullScreenMode.Entering&&Pr.current.scrollMode===_e.ScrollMode.Page&&(na.current=Pr.current.pageIndex),zr.fullScreenMode===_e.FullScreenMode.EnteredCompletely&&Pr.current.scrollMode===_e.ScrollMode.Page&&Nt&&(na.current=-1),zr.fullScreenMode===_e.FullScreenMode.EnteredCompletely&&bo.current&&(ba.current=Pr.current.pageIndex,k0(bo.current))},[zr.fullScreenMode]),At.useEffect(function(){if(zr.fullScreenMode!==_e.FullScreenMode.Entering&&zr.fullScreenMode!==_e.FullScreenMode.Exitting&&!qr.isSmoothScrolling){var Ds=qr.startPage,Cr=qr.endPage,Ir=qr.maxVisbilityIndex,Hr=qr.virtualItems,Br=Ir,Or=zr.fullScreenMode===_e.FullScreenMode.Entered||zr.fullScreenMode===_e.FullScreenMode.EnteredCompletely;if(!(Or&&Br!==na.current&&na.current>-1||Or&&Br!==ba.current&&ba.current>-1)){Zr(Br),Xu(kt(kt({},Pr.current),{pageIndex:Br})),Xo.setRange(Ds,Cr);for(var co=function(fy){var Zx=Hr.find(function(qu){return qu.index===fy});Zx&&Xo.setVisibility(fy,Zx.visibility)},Gu=Ds;Gu<=Cr;Gu++)co(Gu);dy()}}},[qr.startPage,qr.endPage,qr.isSmoothScrolling,qr.maxVisbilityIndex,zr.fullScreenMode,ho,no,Wr]);var $5=At.useCallback(function(Ds){Xo.markRendered(Ds),dy()},[K1]),dy=function(){var Ds=Xo.getHighestPriorityPage();Ds>-1&&Xo.isInRange(Ds)&&(Xo.markRendering(Ds),Yx(Ds))},j5=function(Ds){var Cr=Ur-1,Ir=Ur+1;switch(Ds){case"FirstPage":Wu(0);break;case"LastPage":Wu(Qs-1);break;case"NextPage":Ir<Qs&&Wu(Ir);break;case"PrevPage":Cr>=0&&Wu(Cr)}},B5=At.useCallback(function(){var Ds=qr.virtualItems,Cr=[];switch(or){case _e.ViewMode.DualPage:Cr=Cn(Ds,2);break;case _e.ViewMode.DualPageWithCover:Ds.length&&(Cr=Ds[0].index===0?[[Ds[0]]].concat(Cn(Ds.slice(1),2)):Cn(Ds,2));break;case _e.ViewMode.SinglePage:default:Cr=Cn(Ds,1)}var Ir=Ns&&Ns.core?Ns.core.pageLabel:"Page {{pageIndex}}",Hr={attrs:{className:"rpv-core__inner-container","data-testid":"core__inner-container",ref:Fr,style:{height:"100%"}},children:At.createElement(At.Fragment,null),subSlot:{attrs:{"data-testid":"core__inner-pages",className:vt({"rpv-core__inner-pages":!0,"rpv-core__inner-pages--horizontal":ar===_e.ScrollMode.Horizontal,"rpv-core__inner-pages--rtl":kr,"rpv-core__inner-pages--single":ar===_e.ScrollMode.Page,"rpv-core__inner-pages--vertical":ar===_e.ScrollMode.Vertical,"rpv-core__inner-pages--wrapped":ar===_e.ScrollMode.Wrapped}),ref:Rr,style:{height:"100%",position:"relative"}},children:At.createElement("div",{"data-testid":"core__inner-current-page-".concat(Ur),style:Object.assign({"--scale-factor":Wr},qr.getContainerStyles())},Cr.map(function(Br){return At.createElement("div",{className:vt({"rpv-core__inner-page-container":!0,"rpv-core__inner-page-container--single":ar===_e.ScrollMode.Page}),style:qr.getItemContainerStyles(Br[0]),key:"".concat(Br[0].index,"-").concat(or)},Br.map(function(Or){var co=or===_e.ViewMode.DualPageWithCover&&(Or.index===0||Qs%2==0&&Or.index===Qs-1);return At.createElement("div",{"aria-label":Ir.replace("{{pageIndex}}","".concat(Or.index+1)),className:vt({"rpv-core__inner-page":!0,"rpv-core__inner-page--dual-even":or===_e.ViewMode.DualPage&&Or.index%2==0,"rpv-core__inner-page--dual-odd":or===_e.ViewMode.DualPage&&Or.index%2==1,"rpv-core__inner-page--dual-cover":co,"rpv-core__inner-page--dual-cover-even":or===_e.ViewMode.DualPageWithCover&&!co&&Or.index%2==0,"rpv-core__inner-page--dual-cover-odd":or===_e.ViewMode.DualPageWithCover&&!co&&Or.index%2==1,"rpv-core__inner-page--single":or===_e.ViewMode.SinglePage&&ar===_e.ScrollMode.Page}),role:"region",key:"".concat(Or.index,"-").concat(or),style:Object.assign({},qr.getItemStyles(Or),s9.buildPageStyles({numPages:Qs,pageIndex:Or.index,scrollMode:ar,viewMode:or}))},At.createElement(Ts,{doc:Vn,measureRef:Or.measureRef,outlines:_r,pageIndex:Or.index,pageRotation:xr.has(Or.index)?xr.get(Or.index):0,pageSize:is[Or.index],plugins:as,renderPage:gs,renderQueueKey:K1,rotation:no,scale:Wr,shouldRender:Ip===Or.index,viewMode:or,onExecuteNamedAction:j5,onJumpFromLinkAnnotation:_5,onJumpToDest:r9,onRenderCompleted:$5,onRotatePage:ly}))}))}))}};return as.forEach(function(Br){Br.renderViewer&&(Hr=Br.renderViewer({containerRef:Fr,doc:Vn,pagesContainerRef:Rr,pagesRotation:xr,pageSizes:is,rotation:no,slot:Hr,themeContext:Er,jumpToPage:Wu,openFile:a9,rotate:o9,rotatePage:ly,switchScrollMode:l9,switchViewMode:c9,zoom:k0}))}),Hr},[as,qr]),h9=At.useCallback(function(Ds){return At.createElement("div",kt({},Ds.attrs,{style:Ds.attrs&&Ds.attrs.style?Ds.attrs.style:{}}),Ds.children,Ds.subSlot&&h9(Ds.subSlot))},[]);return h9(B5())},Fp=[.1,.2,.3,.4,.5,.6,.7,.8,.9,1,1.1,1.3,1.5,1.7,1.9,2.1,2.4,2.7,3,3.3,3.7,4.1,4.6,5.1,5.7,6.3,7,7.7,8.5,9.4,10],S0=function(jn){var Gn=jn.defaultScale,ss=jn.doc,Vn=jn.render,Nt=jn.scrollMode,yn=jn.viewMode,qn=At.useRef(),_i=At.useState({pageSizes:[],scale:0}),Kn=_i[0],is=_i[1];return At.useLayoutEffect(function(){var as=Array(ss.numPages).fill(0).map(function(gs,ms){return new Promise(function(bs,Ms){Ln(ss,ms).then(function(Cs){var ks=Cs.getViewport({scale:1});bs({pageHeight:ks.height,pageWidth:ks.width,rotation:ks.rotation})})})});Promise.all(as).then(function(gs){var ms=qn.current;if(ms&&gs.length!==0){var bs=gs[0].pageWidth,Ms=gs[0].pageHeight,Cs=ms.parentElement,ks=(Cs.clientWidth-45)/bs,tr=(Cs.clientHeight-45)/Ms,Is=ks;switch(Nt){case _e.ScrollMode.Horizontal:Is=Math.min(ks,tr);break;case _e.ScrollMode.Vertical:default:Is=ks}var Gs,zs,Hs=Gn?typeof Gn=="string"?Tl(Cs,Ms,bs,Gn,yn,ss.numPages):Gn:(Gs=Is,(zs=Fp.findIndex(function(Qs){return Qs>=Gs}))===-1||zs===0?Gs:Fp[zs-1]);is({pageSizes:gs,scale:Hs})}})},[ss.loadingTask.docId]),Kn.pageSizes.length===0||Kn.scale===0?At.createElement("div",{className:"rpv-core__page-size-calculator","data-testid":"core__page-size-calculating",ref:qn},At.createElement(Ot,null)):Vn(Kn.pageSizes,Kn.scale)},cu=function(){},Vu=function(jn){function Gn(ss,Vn){var Nt=jn.call(this)||this;return Nt.verifyPassword=ss,Nt.passwordStatus=Vn,Nt}return Pt(Gn,jn),Gn}(cu),W1=function(jn){var Gn=jn.passwordStatus,ss=jn.renderProtectedView,Vn=jn.verifyPassword,Nt=jn.onDocumentAskPassword,yn=At.useContext(sn).l10n,qn=At.useState(""),_i=qn[0],Kn=qn[1],is=At.useContext(ht).direction===_e.TextDirection.RightToLeft,as=function(){return Vn(_i)};return At.useEffect(function(){Nt&&Nt({verifyPassword:Vn})},[]),ss?ss({passwordStatus:Gn,verifyPassword:Vn}):At.createElement("div",{className:"rpv-core__asking-password-wrapper"},At.createElement("div",{className:vt({"rpv-core__asking-password":!0,"rpv-core__asking-password--rtl":is})},At.createElement("div",{className:"rpv-core__asking-password-message"},Gn===_e.PasswordStatus.RequiredPassword&&yn.core.askingPassword.requirePasswordToOpen,Gn===_e.PasswordStatus.WrongPassword&&yn.core.wrongPassword.tryAgain),At.createElement("div",{className:"rpv-core__asking-password-body"},At.createElement("div",{className:vt({"rpv-core__asking-password-input":!0,"rpv-core__asking-password-input--ltr":!is,"rpv-core__asking-password-input--rtl":is})},At.createElement(jt,{testId:"core__asking-password-input",type:"password",value:_i,onChange:Kn,onKeyDown:function(gs){gs.key==="Enter"&&as()}})),At.createElement($t,{onClick:as},yn.core.askingPassword.submit))))},_p=function(jn){function Gn(ss){var Vn=jn.call(this)||this;return Vn.doc=ss,Vn}return Pt(Gn,jn),Gn}(cu),Mp=function(jn){function Gn(ss){var Vn=jn.call(this)||this;return Vn.error=ss,Vn}return Pt(Gn,jn),Gn}(cu),A0=function(jn){function Gn(ss){var Vn=jn.call(this)||this;return Vn.percentages=ss,Vn}return Pt(Gn,jn),Gn}(cu),G1=function(jn){var Gn=jn.characterMap,ss=jn.file,Vn=jn.httpHeaders,Nt=jn.render,yn=jn.renderError,qn=jn.renderLoader,_i=jn.renderProtectedView,Kn=jn.transformGetDocumentParams,is=jn.withCredentials,as=jn.onDocumentAskPassword,gs=At.useContext(ht).direction===_e.TextDirection.RightToLeft,ms=At.useState(new A0(0)),bs=ms[0],Ms=ms[1],Cs=At.useRef(""),ks=Wt();return At.useEffect(function(){Cs.current="",Ms(new A0(0));var tr=new Ct.PDFWorker({name:"PDFWorker_".concat(Date.now())}),Is=Object.assign({httpHeaders:Vn,withCredentials:is,worker:tr},typeof ss=="string"?{url:ss}:{data:ss},Gn?{cMapUrl:Gn.url,cMapPacked:Gn.isCompressed}:{}),Gs=Kn?Kn(Is):Is,zs=Ct.getDocument(Gs);return zs.onPassword=function(Hs,Qs){switch(Qs){case Ct.PasswordResponses.NEED_PASSWORD:ks.current&&Ms(new Vu(Hs,_e.PasswordStatus.RequiredPassword));break;case Ct.PasswordResponses.INCORRECT_PASSWORD:ks.current&&Ms(new Vu(Hs,_e.PasswordStatus.WrongPassword))}},zs.onProgress=function(Hs){var Qs=Hs.total>0?Math.min(100,100*Hs.loaded/Hs.total):100;ks.current&&Cs.current===""&&Ms(new A0(Qs))},zs.promise.then(function(Hs){Cs.current=Hs.loadingTask.docId,ks.current&&Ms(new _p(Hs))},function(Hs){return ks.current&&!tr.destroyed&&Ms(new Mp({message:Hs.message||"Cannot load document",name:Hs.name}))}),function(){zs.destroy(),tr.destroy()}},[ss]),bs instanceof Vu?At.createElement(W1,{passwordStatus:bs.passwordStatus,renderProtectedView:_i,verifyPassword:bs.verifyPassword,onDocumentAskPassword:as}):bs instanceof _p?Nt(bs.doc):bs instanceof Mp?yn?yn(bs.error):At.createElement("div",{className:vt({"rpv-core__doc-error":!0,"rpv-core__doc-error--rtl":gs})},At.createElement("div",{className:"rpv-core__doc-error-text"},bs.error.message)):At.createElement("div",{"data-testid":"core__doc-loading",className:vt({"rpv-core__doc-loading":!0,"rpv-core__doc-loading--rtl":gs})},qn?qn(bs.percentages):At.createElement(Ot,null))},E0=function(jn,Gn){var ss=At.useMemo(function(){return jn==="auto"?typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light":jn},[]),Vn=At.useState(ss),Nt=Vn[0],yn=Vn[1],qn=Yt(Nt);return At.useEffect(function(){if(jn==="auto"){var _i=window.matchMedia("(prefers-color-scheme: dark)"),Kn=function(is){yn(is.matches?"dark":"light")};return _i.addEventListener("change",Kn),function(){return _i.removeEventListener("change",Kn)}}},[]),At.useEffect(function(){Nt!==qn&&Gn&&Gn(Nt)},[Nt]),At.useEffect(function(){jn!==Nt&&yn(jn)},[jn]),{currentTheme:Nt,setCurrentTheme:yn}},q1=function(jn){return{startPage:jn.startPage-3,endPage:jn.endPage+3}};_e.Button=function(jn){var Gn=jn.children,ss=jn.testId,Vn=jn.onClick,Nt=At.useContext(ht).direction===_e.TextDirection.RightToLeft,yn=ss?{"data-testid":ss}:{};return At.createElement("button",kt({className:vt({"rpv-core__button":!0,"rpv-core__button--rtl":Nt}),type:"button",onClick:Vn},yn),Gn)},_e.Icon=qt,_e.LazyRender=function(jn){var Gn=jn.attrs,ss=jn.children,Vn=jn.testId,Nt=At.useState(!1),yn=Nt[0],qn=Nt[1],_i=Vn?kt(kt({},Gn),{"data-testid":Vn}):Gn,Kn=Vt({once:!0,onVisibilityChanged:function(is){is.isVisible&&qn(!0)}});return At.createElement("div",kt({ref:Kn},_i),yn&&ss)},_e.LocalizationContext=sn,_e.Menu=function(jn){var Gn=jn.children,ss=At.useRef(),Vn=At.useRef([]),Nt=At.useContext(ht).direction===_e.TextDirection.RightToLeft,yn=function(_i){if(ss.current)switch(_i.key){case"Tab":_i.preventDefault();break;case"ArrowDown":_i.preventDefault(),qn(function(Kn,is){return is+1});break;case"ArrowUp":_i.preventDefault(),qn(function(Kn,is){return is-1});break;case"End":_i.preventDefault(),qn(function(Kn,is){return Kn.length-1});break;case"Home":_i.preventDefault(),qn(function(Kn,is){return 0})}},qn=function(_i){if(ss.current){var Kn=Vn.current,is=Kn.findIndex(function(gs){return gs.getAttribute("tabindex")==="0"}),as=Math.min(Kn.length-1,Math.max(0,_i(Kn,is)));is>=0&&is<=Kn.length-1&&Kn[is].setAttribute("tabindex","-1"),Kn[as].setAttribute("tabindex","0"),Kn[as].focus()}};return Ft(function(){var _i=ss.current;if(_i){var Kn=function(is){var as=[];return is.querySelectorAll('.rpv-core__menu-item[role="menuitem"]').forEach(function(gs){if(gs instanceof HTMLElement){var ms=gs.parentElement;(ms===is||window.getComputedStyle(ms).display!=="none")&&as.push(gs)}}),as}(_i);Vn.current=Kn}},[]),Ft(function(){return document.addEventListener("keydown",yn),function(){document.removeEventListener("keydown",yn)}},[]),At.createElement("div",{ref:ss,"aria-orientation":"vertical",className:vt({"rpv-core__menu":!0,"rpv-core__menu--rtl":Nt}),role:"menu",tabIndex:0},Gn)},_e.MenuDivider=function(){return At.createElement("div",{"aria-orientation":"horizontal",className:"rpv-core__menu-divider",role:"separator"})},_e.MenuItem=function(jn){var Gn=jn.checked,ss=Gn!==void 0&&Gn,Vn=jn.children,Nt=jn.icon,yn=Nt===void 0?null:Nt,qn=jn.isDisabled,_i=qn!==void 0&&qn,Kn=jn.testId,is=jn.onClick,as=At.useContext(ht).direction===_e.TextDirection.RightToLeft,gs=Kn?{"data-testid":Kn}:{};return At.createElement("button",kt({className:vt({"rpv-core__menu-item":!0,"rpv-core__menu-item--disabled":_i,"rpv-core__menu-item--ltr":!as,"rpv-core__menu-item--rtl":as}),role:"menuitem",tabIndex:-1,type:"button",onClick:is},gs),At.createElement("div",{className:vt({"rpv-core__menu-item-icon":!0,"rpv-core__menu-item-icon--ltr":!as,"rpv-core__menu-item-icon--rtl":as})},yn),At.createElement("div",{className:vt({"rpv-core__menu-item-label":!0,"rpv-core__menu-item-label--ltr":!as,"rpv-core__menu-item-label--rtl":as})},Vn),At.createElement("div",{className:vt({"rpv-core__menu-item-check":!0,"rpv-core__menu-item-check--ltr":!as,"rpv-core__menu-item-check--rtl":as})},ss&&At.createElement(Lt,null)))},_e.MinimalButton=function(jn){var Gn=jn.ariaLabel,ss=Gn===void 0?"":Gn,Vn=jn.ariaKeyShortcuts,Nt=Vn===void 0?"":Vn,yn=jn.children,qn=jn.isDisabled,_i=qn!==void 0&&qn,Kn=jn.isSelected,is=Kn!==void 0&&Kn,as=jn.testId,gs=jn.onClick,ms=At.useContext(ht).direction===_e.TextDirection.RightToLeft,bs=as?{"data-testid":as}:{};return At.createElement("button",kt({"aria-label":ss},Nt&&{"aria-keyshortcuts":Nt},_i&&{"aria-disabled":!0},{className:vt({"rpv-core__minimal-button":!0,"rpv-core__minimal-button--disabled":_i,"rpv-core__minimal-button--rtl":ms,"rpv-core__minimal-button--selected":is}),type:"button",onClick:gs},bs),yn)},_e.Modal=function(jn){var Gn=jn.ariaControlsSuffix,ss=jn.closeOnClickOutside,Vn=jn.closeOnEscape,Nt=jn.content,yn=jn.isOpened,qn=yn!==void 0&&yn,_i=jn.target,Kn=Gn||"".concat(Xt());return At.createElement(xn,{target:_i?function(is,as){return At.createElement("div",{"aria-expanded":as?"true":"false","aria-haspopup":"dialog","aria-controls":"rpv-core__modal-body-".concat(Kn)},_i(is,as))}:null,content:function(is){return At.createElement(cn,null,At.createElement(on,{ariaControlsSuffix:Kn,closeOnClickOutside:ss,closeOnEscape:Vn,onToggle:is},Nt(is)))},isOpened:qn})},_e.Popover=function(jn){var Gn=jn.ariaHasPopup,ss=Gn===void 0?"dialog":Gn,Vn=jn.ariaControlsSuffix,Nt=jn.closeOnClickOutside,yn=jn.closeOnEscape,qn=jn.content,_i=jn.lockScroll,Kn=_i===void 0||_i,is=jn.offset,as=jn.position,gs=jn.target,ms=an(!1),bs=ms.opened,Ms=ms.toggle,Cs=At.useRef(),ks=At.useMemo(function(){return Vn||"".concat(Xt())},[]);return At.createElement("div",{ref:Cs,"aria-expanded":bs?"true":"false","aria-haspopup":ss,"aria-controls":"rpv-core__popver-body-".concat(ks)},gs(Ms,bs),bs&&At.createElement(At.Fragment,null,Kn&&At.createElement(Sn,{closeOnEscape:yn,onClose:Ms}),At.createElement(fn,{ariaControlsSuffix:ks,closeOnClickOutside:Nt,offset:is,position:as,targetRef:Cs,onClose:Ms},qn(Ms))))},_e.PrimaryButton=$t,_e.ProgressBar=function(jn){var Gn=jn.progress,ss=At.useContext(ht).direction===_e.TextDirection.RightToLeft;return At.createElement("div",{className:vt({"rpv-core__progress-bar":!0,"rpv-core__progress-bar--rtl":ss})},At.createElement("div",{className:"rpv-core__progress-bar-progress",style:{width:"".concat(Gn,"%")}},Gn,"%"))},_e.Separator=function(){return At.createElement("div",{className:"rpv-core__separator"})},_e.Spinner=Ot,_e.Splitter=function(jn){var Gn=jn.constrain,ss=At.useContext(ht).direction===_e.TextDirection.RightToLeft,Vn=At.useRef(),Nt=At.useRef(),yn=At.useRef(),qn=At.useRef(0),_i=At.useRef(0),Kn=At.useRef(0),is=At.useRef(0),as={capture:!0},gs=function(bs){var Ms=Vn.current,Cs=Nt.current,ks=yn.current;if(Ms&&Cs&&ks){var tr=is.current,Is=bs.clientX-qn.current,Gs=Kn.current+(ss?-Is:Is),zs=Ms.parentElement.getBoundingClientRect().width,Hs=100*Gs/zs;if(Ms.classList.add("rpv-core__splitter--resizing"),Gn){var Qs=zs-Gs-tr;if(!Gn({firstHalfPercentage:Hs,firstHalfSize:Gs,secondHalfPercentage:100*Qs/zs,secondHalfSize:Qs}))return}Cs.style.width="".concat(Hs,"%"),document.body.classList.add("rpv-core__splitter-body--resizing"),Cs.classList.add("rpv-core__splitter-sibling--resizing"),ks.classList.add("rpv-core__splitter-sibling--resizing")}},ms=function(bs){var Ms=Vn.current,Cs=Nt.current,ks=yn.current;Ms&&Cs&&ks&&(document.body.classList.remove("rpv-core__splitter-body--resizing"),Ms.classList.remove("rpv-core__splitter--resizing"),Cs.classList.remove("rpv-core__splitter-sibling--resizing"),ks.classList.remove("rpv-core__splitter-sibling--resizing"),document.removeEventListener("mousemove",gs,as),document.removeEventListener("mouseup",ms,as))};return At.useEffect(function(){var bs=Vn.current;bs&&(is.current=bs.getBoundingClientRect().width,Nt.current=bs.previousElementSibling,yn.current=bs.nextElementSibling)},[]),At.createElement("div",{ref:Vn,className:"rpv-core__splitter",onMouseDown:function(bs){var Ms=Nt.current;Ms&&(qn.current=bs.clientX,_i.current=bs.clientY,Kn.current=Ms.getBoundingClientRect().width,document.addEventListener("mousemove",gs,as),document.addEventListener("mouseup",ms,as))}})},_e.TextBox=jt,_e.ThemeContext=ht,_e.Tooltip=function(jn){var Gn=jn.ariaControlsSuffix,ss=jn.content,Vn=jn.offset,Nt=jn.position,yn=jn.target,qn=an(!1),_i=qn.opened,Kn=qn.toggle,is=At.useRef(),as=At.useRef(),gs=At.useMemo(function(){return Gn||"".concat(Xt())},[]);ln(function(){is.current&&document.activeElement&&is.current.contains(document.activeElement)&&bs()});var ms=function(){Kn(_e.ToggleStatus.Open)},bs=function(){Kn(_e.ToggleStatus.Close)};return At.createElement(At.Fragment,null,At.createElement("div",{ref:is,"aria-describedby":"rpv-core__tooltip-body-".concat(gs),onBlur:function(Ms){Ms.relatedTarget instanceof HTMLElement&&Ms.currentTarget.parentElement&&Ms.currentTarget.parentElement.contains(Ms.relatedTarget)?as.current&&(as.current.style.display="none"):bs()},onFocus:ms,onMouseEnter:ms,onMouseLeave:bs},yn),_i&&At.createElement(kn,{ariaControlsSuffix:gs,contentRef:as,offset:Vn,position:Nt,targetRef:is},ss()))},_e.Viewer=function(jn){var Gn=jn.characterMap,ss=jn.defaultScale,Vn=jn.enableSmoothScroll,Nt=Vn===void 0||Vn,yn=jn.fileUrl,qn=jn.httpHeaders,_i=qn===void 0?{}:qn,Kn=jn.initialPage,is=Kn===void 0?0:Kn,as=jn.pageLayout,gs=jn.initialRotation,ms=gs===void 0?0:gs,bs=jn.localization,Ms=jn.plugins,Cs=Ms===void 0?[]:Ms,ks=jn.renderError,tr=jn.renderLoader,Is=jn.renderPage,Gs=jn.renderProtectedView,zs=jn.scrollMode,Hs=zs===void 0?_e.ScrollMode.Vertical:zs,Qs=jn.setRenderRange,Bs=Qs===void 0?q1:Qs,Ns=jn.transformGetDocumentParams,Er=jn.theme,kr=Er===void 0?{direction:_e.TextDirection.LeftToRight,theme:"light"}:Er,Fr=jn.viewMode,Rr=Fr===void 0?_e.ViewMode.SinglePage:Fr,Mr=jn.withCredentials,Ur=Mr!==void 0&&Mr,Zr=jn.onDocumentAskPassword,eo=jn.onDocumentLoad,Jr=eo===void 0?function(){}:eo,so=jn.onPageChange,no=so===void 0?function(){}:so,So=jn.onRotate,zl=So===void 0?function(){}:So,Pl=jn.onRotatePage,ho=Pl===void 0?function(){}:Pl,Bo=jn.onSwitchTheme,uu=Bo===void 0?function(){}:Bo,xr=jn.onZoom,pr=xr===void 0?function(){}:xr,ir=At.useState({data:yn,name:typeof yn=="string"?yn:"",shouldLoad:!1}),ar=ir[0],sr=ir[1],yr=function(na,ba){sr({data:ba,name:na,shouldLoad:!0})},Sr=At.useState(!1),or=Sr[0],Ks=Sr[1],Tr=Yt(ar);At.useEffect(function(){var na,ba,lo,zr;na=Tr.data,zr=typeof(ba=yn),(lo=typeof na)=="string"&&zr==="string"&&na===ba||lo==="object"&&zr==="object"&&na.length===ba.length&&na.every(function(zu,Ip){return zu===ba[Ip]})||sr({data:yn,name:typeof yn=="string"?yn:"",shouldLoad:or})},[yn,or]);var _r=Vt({onVisibilityChanged:function(na){Ks(na.isVisible),na.isVisible&&sr(function(ba){return Object.assign({},ba,{shouldLoad:!0})})}}),Qr=typeof kr=="string"?{direction:_e.TextDirection.LeftToRight,theme:kr}:kr,Wr=At.useState(bs||Ht),xo=Wr[0],zo=Wr[1],Pr={l10n:xo,setL10n:zo},bo=Object.assign({},{direction:Qr.direction},E0(Qr.theme||"light",uu));return At.useEffect(function(){bs&&zo(bs)},[bs]),At.createElement(sn.Provider,{value:Pr},At.createElement(ht.Provider,{value:bo},At.createElement("div",{ref:_r,className:"rpv-core__viewer rpv-core__viewer--".concat(bo.currentTheme),"data-testid":"core__viewer",style:{height:"100%",width:"100%"}},ar.shouldLoad&&At.createElement(G1,{characterMap:Gn,file:ar.data,httpHeaders:_i,render:function(na){return At.createElement(S0,{defaultScale:ss,doc:na,render:function(ba,lo){return At.createElement(X1,{currentFile:{data:ar.data,name:ar.name},defaultScale:ss,doc:na,enableSmoothScroll:Nt,initialPage:is,initialRotation:ms,initialScale:lo,pageLayout:as,pageSizes:ba,plugins:Cs,renderPage:Is,scrollMode:Hs,setRenderRange:Bs,viewMode:Rr,viewerState:{file:ar,fullScreenMode:_e.FullScreenMode.Normal,pageIndex:-1,pageHeight:ba[0].pageHeight,pageWidth:ba[0].pageWidth,pagesRotation:new Map,rotation:ms,scale:lo,scrollMode:Hs,viewMode:Rr},onDocumentLoad:Jr,onOpenFile:yr,onPageChange:no,onRotate:zl,onRotatePage:ho,onZoom:pr})},scrollMode:Hs,viewMode:Rr})},renderError:ks,renderLoader:tr,renderProtectedView:Gs,transformGetDocumentParams:Ns,withCredentials:Ur,onDocumentAskPassword:Zr}))))},_e.Worker=function(jn){var Gn=jn.children,ss=jn.workerUrl;return Ct.GlobalWorkerOptions.workerSrc=ss,At.createElement(At.Fragment,null,Gn)},_e.chunk=Cn,_e.classNames=vt,_e.createStore=function(jn){var Gn=jn||{},ss={},Vn=function(yn,qn){var _i;Gn=kt(kt({},Gn),((_i={})[yn]=qn,_i)),(ss[yn]||[]).forEach(function(Kn){return Kn(Gn[yn])})},Nt=function(yn){return Gn[yn]};return{subscribe:function(yn,qn){ss[yn]=(ss[yn]||[]).concat(qn)},unsubscribe:function(yn,qn){ss[yn]=(ss[yn]||[]).filter(function(_i){return _i!==qn})},update:function(yn,qn){Vn(yn,qn)},updateCurrentValue:function(yn,qn){var _i=Nt(yn);_i!==void 0&&Vn(yn,qn(_i))},get:function(yn){return Nt(yn)}}},_e.getDestination=Un,_e.getPage=Ln,_e.isFullScreenEnabled=tn,_e.isMac=function(){return typeof window<"u"&&/(Mac|iPhone|iPod|iPad)/i.test(navigator.platform)},_e.useDebounceCallback=bn,_e.useIntersectionObserver=Vt,_e.useIsMounted=Wt,_e.useIsomorphicLayoutEffect=Ft,_e.usePrevious=Yt,_e.useRenderQueue=Mt})(core_min);const Load=()=>{const[_e,$]=reactExports.useState(""),[xt,bt]=reactExports.useState(null),[St,At]=reactExports.useState(null),[Ct,Et]=reactExports.useState(null);function Pt(_t){const ht=_t.target.files[0];if(Et(ht.size/(1024*1024)),ht){const vt=new FileReader;vt.onloadend=()=>{bt(vt.result.split(",")[1])},vt.readAsDataURL(ht);const Ft=_t.target.value.replace("C:\\fakepath\\","");$(Ft)}else alert("No file selected")}const wt=async _t=>{_t.preventDefault();try{await axios.post("/en/uploadpdf",{file:xt,filename:_e}),console.log("Successfully uploaded.")}catch(ht){console.log("Error uploading details:",ht),alert("File size too large")}},kt=async _t=>{_t.preventDefault();try{console.log("hi");const ht=await axios.get("/en/pdfid/66813196189877e17f54a9e0",{responseType:"arraybuffer"}),vt=new Uint8Array(ht.data),Ft=new Blob([vt],{type:"application/pdf"});let Vt=window.URL.createObjectURL(Ft);At(Vt)}catch(ht){console.log("Error uploading details:",ht),alert("File size too large")}};return jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs("form",{onSubmit:wt,children:[jsxRuntimeExports.jsx("input",{type:"file",onChange:Pt,accept:"application/pdf"}),jsxRuntimeExports.jsx("button",{type:"submit",children:"Upload"})]}),jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsx("button",{onClick:kt,children:"show pdf"}),St&&jsxRuntimeExports.jsx("embed",{src:St,type:"application/pdf",width:"100%",height:"600px"})]})};pdfjs.GlobalWorkerOptions.workerSrc=pdf_worker_entry;function CaretakerAnalysis(){const _e=reactExports.useRef(null),[$,xt]=reactExports.useState(0),bt=useLocation(),St=useNavigate(),[At,Ct]=reactExports.useState(null),[Et,Pt]=reactExports.useState(null),[wt,kt]=reactExports.useState(null),[_t,ht]=reactExports.useState(null),[vt,Ft]=reactExports.useState([]);reactExports.useState(!1);const[Vt,qt]=reactExports.useState(null),[Lt,$t]=reactExports.useState(null),[Ot,jt]=reactExports.useState(!1),[Rt,Kt]=reactExports.useState(null),[Bt,Gt]=reactExports.useState(null),[en,hn]=reactExports.useState(1),tn=reactExports.useRef(null),gn=reactExports.useRef(null),nn=reactExports.useRef(null);reactExports.useEffect(()=>{(async()=>{if(Lt)try{const ln=await fetch(Lt).then(cn=>cn.arrayBuffer()),on=await pdfjs.getDocument({data:ln}).promise;Kt(on),Wt(on,1,tn.current,1)}catch(ln){console.error("Error loading PDF:",ln)}})()},[Lt]),reactExports.useEffect(()=>{const Qt=()=>{nn.current&&Ot&&Rt&&bn()};return window.addEventListener("resize",Qt),()=>window.removeEventListener("resize",Qt)},[Ot,Rt]);const bn=async()=>{if(!Rt||!nn.current)return;const ln=(await Rt.getPage(1)).getViewport({scale:1}),on=nn.current.clientWidth,cn=nn.current.clientHeight,rn=on/ln.width,an=cn/ln.height,xn=Math.min(rn,an)*2;hn(xn),Yt(xn)},Wt=async(Qt,ln,on,cn)=>{const rn=await Qt.getPage(ln),an=rn.getViewport({scale:cn});on.height=an.height*2,on.width=an.width*2;const xn=on.getContext("2d");xn.scale(2,2),await rn.render({canvasContext:xn,viewport:an,renderInteractiveForms:!0,canvasFactory:{create:function(wn,En){const Fn=document.createElement("canvas");return Fn.width=wn*2,Fn.height=En*2,Fn},reset:function(wn,En,Fn){wn.canvas.width=En*2,wn.canvas.height=Fn*2},destroy:function(wn){}}})},Yt=async Qt=>{if(!(!Rt||!gn.current)){gn.current.innerHTML="";for(let ln=1;ln<=Rt.numPages;ln++){const on=document.createElement("canvas");on.style.width="100%",on.style.height="auto",on.style.marginBottom="10px",await Wt(Rt,ln,on,Qt),gn.current.appendChild(on)}}};reactExports.useEffect(()=>{if(bt.state){const{id:Qt,pid:ln,isDoctor:on,patientData:cn}=bt.state;Ct(ln),Pt(Qt),kt(cn),Gt(on)}},[bt]),reactExports.useEffect(()=>{(async()=>{if(Et&&At)try{await Ht(),await sn()}catch(ln){console.error("Error fetching data:",ln)}})()},[Et,At]),reactExports.useEffect(()=>{(async()=>{if(_t)try{await Mt()}catch(ln){console.error("Error getting URL:",ln)}})()},[_t]);const dn=async()=>{jt(!0),setTimeout(bn,0)},Ut=()=>{jt(!1),gn.current&&(gn.current.innerHTML="")};async function Mt(){try{const Qt=await axios.get(`/en/pdfid/${_t.file}`,{responseType:"arraybuffer"}),ln=new Uint8Array(Qt.data),on=new Blob([ln],{type:"application/pdf"});let cn=window.URL.createObjectURL(on);$t(cn)}catch(Qt){console.error("Error fetching report:",Qt)}}async function Ht(){try{const Qt=await axios.get(`/en/getreport/${Et}`);ht(Qt.data),Ft(Qt.data.precautions)}catch(Qt){console.error("Error fetching report:",Qt)}}async function sn(){try{const Qt=await axios.post("/en/getprevreports",{patientId:At,reportId:Et});qt(Qt.data)}catch(Qt){console.error("Error fetching dates:",Qt)}}const zt=Qt=>{const ln=new Date,on=new Date(Qt);let cn=ln.getFullYear()-on.getFullYear();const rn=ln.getMonth()-on.getMonth();return(rn<0||rn===0&&ln.getDate()<on.getDate())&&cn--,cn},Xt=Qt=>{St("/doctoranalysis",{replace:!0,state:{id:Qt,pid:At,isDoctor:Bt,patientData:wt}}),window.scrollTo(0,0)};return!_t||!Vt||!wt?jsxRuntimeExports.jsx("div",{children:"Loading..."}):_t&&Vt&&wt&&Lt&&jsxRuntimeExports.jsx("div",{className:"relative flex size-full min-h-screen flex-col bg-white group/design-root overflow-x-hidden ",style:{fontFamily:'Manrope, "Noto Sans", sans-serif'},children:jsxRuntimeExports.jsxs("div",{className:"layout-container flex h-full grow flex-col",children:[jsxRuntimeExports.jsxs("header",{className:"flex items-center justify-between whitespace-nowrap border-b border-solid border-b-[#f0f2f4] px-10 py-3",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-4 text-[#111418]",children:[jsxRuntimeExports.jsx("div",{className:"size-4",children:jsxRuntimeExports.jsx("svg",{viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:jsxRuntimeExports.jsx("path",{d:"M4 4H17.3334V17.3334H30.6666V30.6666H44V44H4V4Z",fill:"currentColor"})})}),jsxRuntimeExports.jsx("h2",{className:"text-[#111418] text-lg font-bold leading-tight tracking-[-0.015em]",children:"Saanjh sahayak"})]}),jsxRuntimeExports.jsxs("div",{className:"flex flex-1 justify-end gap-8",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-9",children:[jsxRuntimeExports.jsx("a",{className:"text-[#111418] text-sm font-medium leading-normal",href:"#",children:"Patients"}),jsxRuntimeExports.jsx("a",{className:"text-[#111418] text-sm font-medium leading-normal",href:"#",children:"Reports"})]}),jsxRuntimeExports.jsxs("div",{className:"flex gap-2",children:[jsxRuntimeExports.jsx("button",{className:"flex max-w-[480px] cursor-pointer items-center justify-center overflow-hidden rounded-xl h-10 bg-[#f0f2f4] text-[#111418] gap-2 text-sm font-bold leading-normal tracking-[0.015em] min-w-0 px-2.5",children:jsxRuntimeExports.jsx("div",{className:"text-[#111418]","data-icon":"MagnifyingGlass","data-size":"20px","data-weight":"regular",children:jsxRuntimeExports.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20px",height:"20px",fill:"currentColor",viewBox:"0 0 256 256",children:jsxRuntimeExports.jsx("path",{d:"M229.66,218.34l-50.07-50.06a88.11,88.11,0,1,0-11.31,11.31l50.06,50.07a8,8,0,0,0,11.32-11.32ZM40,112a72,72,0,1,1,72,72A72.08,72.08,0,0,1,40,112Z"})})})}),jsxRuntimeExports.jsx("button",{className:"flex max-w-[480px] cursor-pointer items-center justify-center overflow-hidden rounded-xl h-10 bg-[#f0f2f4] text-[#111418] gap-2 text-sm font-bold leading-normal tracking-[0.015em] min-w-0 px-2.5",children:jsxRuntimeExports.jsx("div",{className:"text-[#111418]","data-icon":"Bell","data-size":"20px","data-weight":"regular",children:jsxRuntimeExports.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20px",height:"20px",fill:"currentColor",viewBox:"0 0 256 256",children:jsxRuntimeExports.jsx("path",{d:"M221.8,175.94C216.25,166.38,208,139.33,208,104a80,80,0,1,0-160,0c0,35.34-8.26,62.38-13.81,71.94A16,16,0,0,0,48,200H88.81a40,40,0,0,0,78.38,0H208a16,16,0,0,0,13.8-24.06ZM128,216a24,24,0,0,1-22.62-16h45.24A24,24,0,0,1,128,216ZM48,184c7.7-13.24,16-43.92,16-80a64,64,0,1,1,128,0c0,36.05,8.28,66.73,16,80Z"})})})}),jsxRuntimeExports.jsx("button",{className:"flex max-w-[480px] cursor-pointer items-center justify-center overflow-hidden rounded-xl h-10 bg-[#f0f2f4] text-[#111418] gap-2 text-sm font-bold leading-normal tracking-[0.015em] min-w-0 px-2.5",children:jsxRuntimeExports.jsx("div",{className:"text-[#111418]","data-icon":"ChatCircleDots","data-size":"20px","data-weight":"regular",children:jsxRuntimeExports.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20px",height:"20px",fill:"currentColor",viewBox:"0 0 256 256",children:jsxRuntimeExports.jsx("path",{d:"M140,128a12,12,0,1,1-12-12A12,12,0,0,1,140,128ZM84,116a12,12,0,1,0,12,12A12,12,0,0,0,84,116Zm88,0a12,12,0,1,0,12,12A12,12,0,0,0,172,116Zm60,12A104,104,0,0,1,79.12,219.82L45.07,231.17a16,16,0,0,1-20.24-20.24l11.35-34.05A104,104,0,1,1,232,128Zm-16,0A88,88,0,1,0,51.81,172.06a8,8,0,0,1,.66,6.54L40,216,77.4,203.53a7.85,7.85,0,0,1,2.53-.42,8,8,0,0,1,4,1.08A88,88,0,0,0,216,128Z"})})})})]}),jsxRuntimeExports.jsx("div",{className:"bg-center bg-no-repeat aspect-square bg-cover rounded-full size-10",style:{backgroundImage:'url("https://cdn.usegalileo.ai/stability/1c59f8b8-2f0d-4280-9e6d-75d6c0cee0d6.png")'}})]})]}),jsxRuntimeExports.jsx("div",{className:"px-40 flex flex-1 justify-center py-5",children:jsxRuntimeExports.jsxs("div",{className:"layout-content-container flex flex-col max-w-[960px] flex-1",children:[jsxRuntimeExports.jsx("div",{className:"flex flex-wrap justify-between gap-3 p-4",children:jsxRuntimeExports.jsx("p",{className:"text-[#111418] text-4xl font-black leading-tight tracking-[-0.033em] min-w-72 content-center",children:"Patient Information"})}),jsxRuntimeExports.jsx("div",{className:"flex p-4 @container",children:jsxRuntimeExports.jsx("div",{className:"flex w-full flex-col gap-4 @[520px]:flex-row @[520px]:justify-between @[520px]:items-start",children:jsxRuntimeExports.jsxs("div",{className:"flex gap-4",children:[jsxRuntimeExports.jsx("div",{className:"bg-gray-200 rounded-full w-32 h-32 flex items-center justify-center",children:jsxRuntimeExports.jsx(User,{className:"text-gray-500 w-20 h-20"})}),jsxRuntimeExports.jsxs("div",{className:"flex flex-col justify-center",children:[jsxRuntimeExports.jsx("p",{className:"text-[#111418] text-[22px] font-bold leading-tight tracking-[-0.015em]",children:wt.name}),jsxRuntimeExports.jsxs("p",{className:"text-[#637588] text-base font-normal leading-normal",children:[wt.gender,", Age ",zt(wt.DOB)]}),jsxRuntimeExports.jsxs("p",{className:"text-[#637588] text-base font-normal leading-normal",children:[" Blood Group: ",wt.bloodGroup]})]})]})})}),jsxRuntimeExports.jsx("h3",{className:"text-[#111418] text-lg font-bold leading-tight tracking-[-0.015em] px-4 pb-2 pt-4",children:"Known Conditions"}),jsxRuntimeExports.jsx("div",{className:"flex gap-3 p-3 flex-wrap pr-4",children:wt.chronics.map((Qt,ln)=>jsxRuntimeExports.jsx("div",{className:"flex h-8 shrink-0 items-center justify-center gap-x-2 rounded-xl bg-[#f0f2f4] pl-4 pr-4",children:jsxRuntimeExports.jsx("p",{className:"text-[#111418] text-sm font-medium leading-normal",children:Qt})},ln))}),jsxRuntimeExports.jsx("h3",{className:"text-[#111418] text-lg font-bold leading-tight tracking-[-0.015em] px-4 pb-2 pt-4",children:"Current Report"}),Ot&&jsxRuntimeExports.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:jsxRuntimeExports.jsxs("div",{ref:nn,className:"bg-white rounded-lg w-3/4 max-w-4xl h-5/6 flex flex-col",children:[jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-center p-4",children:[jsxRuntimeExports.jsx("h2",{className:"text-xl font-bold",children:"PDF Viewer"}),jsxRuntimeExports.jsx("button",{onClick:Ut,className:"px-4 py-2 bg-red-500 text-white rounded",children:"Close"})]}),jsxRuntimeExports.jsx("div",{ref:gn,className:"flex-grow overflow-y-auto scrollbar-hide p-4",style:{msOverflowStyle:"none",scrollbarWidth:"none"}})]})}),jsxRuntimeExports.jsxs("div",{onClick:dn,className:"flex items-center gap-4 bg-white px-4 min-h-[72px] py-2 justify-between hover:bg-slate-100 hover:scale-105 transition transform duration-300",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-4",children:[jsxRuntimeExports.jsx("div",{className:"text-[#111418] flex items-center justify-center rounded-lg bg-[#f0f2f4] shrink-0 size-12","data-icon":"File","data-size":"24px","data-weight":"regular",children:jsxRuntimeExports.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24px",height:"24px",fill:"currentColor",viewBox:"0 0 256 256",children:jsxRuntimeExports.jsx("path",{d:"M213.66,82.34l-56-56A8,8,0,0,0,152,24H56A16,16,0,0,0,40,40V216a16,16,0,0,0,16,16H200a16,16,0,0,0,16-16V88A8,8,0,0,0,213.66,82.34ZM160,51.31,188.69,80H160ZM200,216H56V40h88V88a8,8,0,0,0,8,8h48V216Z"})})}),jsxRuntimeExports.jsxs("div",{className:"flex flex-col justify-center",children:[jsxRuntimeExports.jsx("p",{className:"text-[#111418] text-base font-medium leading-normal line-clamp-1",children:"Test Report"}),jsxRuntimeExports.jsx("p",{className:"text-[#637588] text-sm font-normal leading-normal line-clamp-2",children:"Report from 27 June 2024"})]})]}),jsxRuntimeExports.jsx("div",{className:"shrink-0",children:jsxRuntimeExports.jsx("div",{className:"text-[#111418] flex size-7 items-center justify-center","data-icon":"CaretRight","data-size":"24px","data-weight":"regular",children:jsxRuntimeExports.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24px",height:"24px",fill:"currentColor",viewBox:"0 0 256 256",children:jsxRuntimeExports.jsx("path",{d:"M181.66,133.66l-80,80a8,8,0,0,1-11.32-11.32L164.69,128,90.34,53.66a8,8,0,0,1,11.32-11.32l80,80A8,8,0,0,1,181.66,133.66Z"})})})})]}),jsxRuntimeExports.jsx("h3",{className:"text-[#111418] text-lg font-bold leading-tight tracking-[-0.015em] px-4 pb-2 pt-4",children:"Analysis"}),jsxRuntimeExports.jsx("div",{className:"text-lg   tracking-[-0.020em] ",children:jsxRuntimeExports.jsx("p",{className:"px-4 pb-2 pt-4",children:_t.summary})}),jsxRuntimeExports.jsx("h3",{className:"text-[#111418] text-lg font-bold leading-tight tracking-[-0.015em] px-4 pb-2 pt-4",children:"Precautions"}),jsxRuntimeExports.jsx("div",{className:"p-4 @container",children:jsxRuntimeExports.jsx("div",{className:"flex flex-1 items-start justify-between gap-4 rounded-xl border border-[#dce0e5] bg-white p-5 @[480px]:flex-row @[480px]:items-center",style:{height:$?`${$+20}px`:"auto"},children:jsxRuntimeExports.jsx("div",{className:"flex flex-col gap-1 flex-1",children:jsxRuntimeExports.jsx("ul",{className:"text-[#637588] text-base font-normal leading-normal flex-1",ref:_e,children:vt.map((Qt,ln)=>jsxRuntimeExports.jsx("li",{children:Qt},ln))})})})}),jsxRuntimeExports.jsx("h3",{className:"text-[#111418] text-lg font-bold leading-tight tracking-[-0.015em] px-4 pb-2 pt-4",children:"Doctor's Advice"}),jsxRuntimeExports.jsx("div",{className:"flex max-w-[480px] flex-1 flex-wrap items-end gap-4 px-4 py-3",children:jsxRuntimeExports.jsx("label",{className:"flex flex-col min-w-40 flex-1",children:_t.doctorNotes===""?jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{}):jsxRuntimeExports.jsx("div",{className:"text-[#637588] text-base font-normal leading-normal flex-1",ref:_e,children:_t.doctorNotes})})}),jsxRuntimeExports.jsx("div",{className:"flex px-4 py-3 justify-end"}),jsxRuntimeExports.jsx("h3",{className:"text-[#111418] text-lg font-bold leading-tight tracking-[-0.015em] px-4 pb-2 pt-4",children:"Previous Reports"}),jsxRuntimeExports.jsx("div",{children:Vt.map((Qt,ln)=>jsxRuntimeExports.jsxs("div",{onClick:()=>{Xt(Qt.file)},className:"flex items-center gap-4  px-4 min-h-[72px] py-2 justify-between cursor-pointer hover:bg-slate-100 hover:scale-105 transition transform duration-300",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-4",children:[jsxRuntimeExports.jsx("div",{className:"text-[#0d151c] flex items-center justify-center rounded-lg bg-[#e7eef4] shrink-0 size-12","data-icon":"File","data-size":"24px","data-weight":"regular",children:jsxRuntimeExports.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24px",height:"24px",fill:"currentColor",viewBox:"0 0 256 256",children:jsxRuntimeExports.jsx("path",{d:"M213.66,82.34l-56-56A8,8,0,0,0,152,24H56A16,16,0,0,0,40,40V216a16,16,0,0,0,16,16H200a16,16,0,0,0,16-16V88A8,8,0,0,0,213.66,82.34ZM160,51.31,188.69,80H160ZM200,216H56V40h88V88a8,8,0,0,0,8,8h48V216Z"})})}),jsxRuntimeExports.jsxs("div",{className:"flex flex-col justify-center",children:[jsxRuntimeExports.jsx("p",{className:"text-[#0d151c] text-base font-medium leading-normal line-clamp-1",children:Qt.date}),jsxRuntimeExports.jsx("p",{className:"text-[#49779c] text-sm font-normal leading-normal line-clamp-2",children:Qt.specialistReq})]})]}),jsxRuntimeExports.jsx("div",{className:"shrink-0",children:jsxRuntimeExports.jsx("div",{className:"text-[#0d151c] flex size-7 items-center justify-center","data-icon":"CaretRight","data-size":"24px","data-weight":"regular",children:jsxRuntimeExports.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24px",height:"24px",fill:"currentColor",viewBox:"0 0 256 256",children:jsxRuntimeExports.jsx("path",{d:"M181.66,133.66l-80,80a8,8,0,0,1-11.32-11.32L164.69,128,90.34,53.66a8,8,0,0,1,11.32-11.32l80,80A8,8,0,0,1,181.66,133.66Z"})})})})]},ln))})]})})]})})}function PatientRegistrationForm(){const[_e,$]=reactExports.useState(""),xt=useLocation(),bt=useNavigate(),[St,At]=reactExports.useState(null);reactExports.useEffect(()=>{if(xt.state){const{patientData:vt}=xt.state;At(vt),Pt({firstName:vt.name,lastName:"",dateOfBirth:Ct(vt.DOB),gender:vt.gender,bloodGroup:vt.bloodGroup,phoneNumber:vt.phone,chronics:vt.chronics})}},[xt]);function Ct(vt){const Ft=new Date(vt),Vt=String(Ft.getDate()).padStart(2,"0"),qt=String(Ft.getMonth()+1).padStart(2,"0"),Lt=Ft.getFullYear();return`${Vt}/${qt}/${Lt}`}const[Et,Pt]=reactExports.useState({firstName:"",lastName:"",dateOfBirth:"",gender:"",bloodGroup:"",phoneNumber:"",chronics:""}),wt=vt=>{const{name:Ft,value:Vt}=vt.target;Pt(qt=>({...qt,[Ft]:Vt}))},kt=()=>{_e.trim()!==""&&(Pt(vt=>({...vt,chronics:[...vt.chronics,_e.trim()]})),$(""))},_t=vt=>{Pt(Ft=>({...Ft,chronics:Ft.chronics.filter((Vt,qt)=>qt!==vt)}))},ht=async vt=>{vt.preventDefault(),console.log("Form submitted:",Et);const Ft={...Et,dateOfBirth:Et.dateOfBirth?new Date(Et.dateOfBirth).toISOString():null},Vt=await axios.post("/en/editPatient",{formDataToSend:Ft,patientId:St._id});console.log(Vt.data.data),Pt({firstName:"",lastName:"",dateOfBirth:null,gender:"",bloodGroup:"",phoneNumber:"",chronics:[]}),alert("Form data submitted successfully!"),bt(-1)};return St&&jsxRuntimeExports.jsxs("div",{className:"flex flex-col min-h-screen bg-gray-100",children:[jsxRuntimeExports.jsx(Navbar,{}),jsxRuntimeExports.jsx("div",{className:"flex-grow flex items-center justify-center px-4 py-12",children:jsxRuntimeExports.jsx("div",{className:"w-full max-w-4xl bg-white shadow-2xl rounded-3xl overflow-hidden",children:jsxRuntimeExports.jsxs("div",{className:"md:flex",children:[jsxRuntimeExports.jsx("div",{className:"md:flex-shrink-0 bg-blue-600 md:w-48 flex items-center justify-center",children:jsxRuntimeExports.jsx("svg",{className:"h-20 w-20 text-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:jsxRuntimeExports.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-3 7h3m-3 4h3m-6-4h.01M9 16h.01"})})}),jsxRuntimeExports.jsxs("div",{className:"p-8 md:flex-grow",children:[jsxRuntimeExports.jsx("h2",{className:"text-3xl font-bold text-gray-800 mb-2",children:"Edit Patient"}),jsxRuntimeExports.jsx("p",{className:"text-gray-600 mb-8",children:"Please enter the patient's details below"}),jsxRuntimeExports.jsxs("form",{onSubmit:ht,className:"space-y-6",children:[jsxRuntimeExports.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"First Name"}),jsxRuntimeExports.jsx("input",{required:!0,type:"text",name:"firstName",value:Et.firstName,onChange:wt,className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm",placeholder:"First name"})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Last Name"}),jsxRuntimeExports.jsx("input",{type:"text",name:"lastName",value:Et.lastName,onChange:wt,className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm",placeholder:"Last name"})]})]}),jsxRuntimeExports.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Date of Birth"}),jsxRuntimeExports.jsx("input",{type:"date",name:"dateOfBirth",value:Et.dateOfBirth,onChange:wt,className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm"})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Gender"}),jsxRuntimeExports.jsxs("select",{name:"gender",value:Et.gender,onChange:wt,className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm",children:[jsxRuntimeExports.jsx("option",{value:"",children:"Select gender"}),jsxRuntimeExports.jsx("option",{value:"male",children:"Male"}),jsxRuntimeExports.jsx("option",{value:"female",children:"Female"}),jsxRuntimeExports.jsx("option",{value:"other",children:"Other"})]})]})]}),jsxRuntimeExports.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Blood Group"}),jsxRuntimeExports.jsx("input",{type:"text",name:"bloodGroup",value:Et.bloodGroup,onChange:wt,className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm",placeholder:"Blood group"})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Phone Number"}),jsxRuntimeExports.jsx("input",{type:"tel",name:"phoneNumber",value:Et.phoneNumber,onChange:wt,className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm",placeholder:"Phone number"})]})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Current Chronic Conditions"}),jsxRuntimeExports.jsxs("div",{className:"mt-1 flex rounded-md shadow-sm",children:[jsxRuntimeExports.jsx("input",{type:"text",value:_e,onChange:vt=>$(vt.target.value),className:"flex-1 min-w-0 block w-full px-3 py-2 rounded-none rounded-l-md focus:ring-blue-500 focus:border-blue-500 sm:text-sm border-gray-300",placeholder:"Enter a chronic condition"}),jsxRuntimeExports.jsx("button",{type:"button",onClick:kt,className:"inline-flex items-center px-3 rounded-r-md border border-l-0 border-gray-300 bg-gray-50 text-gray-500 text-sm",children:"Add"})]}),jsxRuntimeExports.jsx("div",{className:"mt-2 space-y-2",children:Et.chronics.map((vt,Ft)=>jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between bg-gray-100 p-2 rounded",children:[jsxRuntimeExports.jsx("span",{children:vt}),jsxRuntimeExports.jsx("button",{type:"button",onClick:()=>_t(Ft),className:"text-red-500 hover:text-red-700",children:"Remove"})]},Ft))})]}),jsxRuntimeExports.jsxs("div",{className:"flex justify-end space-x-4",children:[jsxRuntimeExports.jsx("button",{type:"button",className:"px-4 py-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:"Cancel"}),jsxRuntimeExports.jsx("button",{type:"submit",className:"px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:"Save"})]})]})]})]})})})]})}var build={exports:{}},dist={exports:{}};(()=>{var _e={d:(bt,St)=>{for(var At in St)_e.o(St,At)&&!_e.o(bt,At)&&Object.defineProperty(bt,At,{enumerable:!0,get:St[At]})},o:(bt,St)=>Object.prototype.hasOwnProperty.call(bt,St),r:bt=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(bt,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(bt,"__esModule",{value:!0})}},$={};_e.r($),_e.d($,{default:()=>xt});const xt=function(bt){var St=bt.condition,At=bt.show,Ct=bt.elseShow,Et=function(wt){return typeof wt=="function"},Pt=function(wt){return wt()||(console.warn("Nothing was returned from your render function. Please make sure you are returning a valid React element."),null)};return St?Et(At)?Pt(At):At:!St&&Ct?Et(Ct)?Pt(Ct):Ct:null};dist.exports=$})();var distExports=dist.exports;(()=>{var _e={n:Mt=>{var Ht=Mt&&Mt.__esModule?()=>Mt.default:()=>Mt;return _e.d(Ht,{a:Ht}),Ht},d:(Mt,Ht)=>{for(var sn in Ht)_e.o(Ht,sn)&&!_e.o(Mt,sn)&&Object.defineProperty(Mt,sn,{enumerable:!0,get:Ht[sn]})},o:(Mt,Ht)=>Object.prototype.hasOwnProperty.call(Mt,Ht),r:Mt=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(Mt,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(Mt,"__esModule",{value:!0})}},$={};_e.r($),_e.d($,{Chatbot:()=>dn,createChatBotMessage:()=>Pt,createClientMessage:()=>kt,createCustomMessage:()=>wt,default:()=>Ut,useChatbot:()=>Wt});const xt=reactExports;var bt=_e.n(xt);const St=distExports;var At=_e.n(St),Ct=function(){return Ct=Object.assign||function(Mt){for(var Ht,sn=1,zt=arguments.length;sn<zt;sn++)for(var Xt in Ht=arguments[sn])Object.prototype.hasOwnProperty.call(Ht,Xt)&&(Mt[Xt]=Ht[Xt]);return Mt},Ct.apply(this,arguments)},Et=function(Mt,Ht){return{message:Mt,type:Ht,id:Math.round(Date.now()*Math.random())}},Pt=function(Mt,Ht){return Ct(Ct(Ct({},Et(Mt,"bot")),Ht),{loading:!0})},wt=function(Mt,Ht,sn){return Ct(Ct({},Et(Mt,Ht)),sn)},kt=function(Mt,Ht){return Ct(Ct({},Et(Mt,"user")),Ht)},_t=function(Mt){for(var Ht=[],sn=1;sn<arguments.length;sn++)Ht[sn-1]=arguments[sn];if(Mt)return Mt.apply(void 0,Ht)};function ht(){return ht=Object.assign||function(Mt){for(var Ht=1;Ht<arguments.length;Ht++){var sn=arguments[Ht];for(var zt in sn)Object.prototype.hasOwnProperty.call(sn,zt)&&(Mt[zt]=sn[zt])}return Mt},ht.apply(this,arguments)}const vt=({styles:Mt={},...Ht})=>bt().createElement("svg",ht({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"},Ht),bt().createElement("path",{d:"M256 288c79.5 0 144-64.5 144-144S335.5 0 256 0 112 64.5 112 144s64.5 144 144 144zm128 32h-55.1c-22.2 10.2-46.9 16-72.9 16s-50.6-5.8-72.9-16H128C57.3 320 0 377.3 0 448v16c0 26.5 21.5 48 48 48h416c26.5 0 48-21.5 48-48v-16c0-70.7-57.3-128-128-128z"})),Ft=function(Mt){var Ht=Mt.message,sn=Mt.customComponents;return bt().createElement("div",{className:"react-chatbot-kit-user-chat-message-container"},bt().createElement(At(),{condition:!!sn.userChatMessage,show:_t(sn.userChatMessage,{message:Ht}),elseShow:bt().createElement("div",{className:"react-chatbot-kit-user-chat-message"},Ht,bt().createElement("div",{className:"react-chatbot-kit-user-chat-message-arrow"}))}),bt().createElement(At(),{condition:!!sn.userAvatar,show:_t(sn.userAvatar),elseShow:bt().createElement("div",{className:"react-chatbot-kit-user-avatar"},bt().createElement("div",{className:"react-chatbot-kit-user-avatar-container"},bt().createElement(vt,{className:"react-chatbot-kit-user-avatar-icon"})))}))},Vt=function(){return bt().createElement("div",{className:"react-chatbot-kit-chat-bot-avatar"},bt().createElement("div",{className:"react-chatbot-kit-chat-bot-avatar-container"},bt().createElement("p",{className:"react-chatbot-kit-chat-bot-avatar-letter"},"B")))},qt=function(){return bt().createElement("div",{className:"chatbot-loader-container"},bt().createElement("svg",{id:"dots",width:"50px",height:"21px",viewBox:"0 0 132 58",version:"1.1",xmlns:"http://www.w3.org/2000/svg"},bt().createElement("g",{stroke:"none",fill:"none"},bt().createElement("g",{id:"chatbot-loader",fill:"#fff"},bt().createElement("circle",{id:"chatbot-loader-dot1",cx:"25",cy:"30",r:"13"}),bt().createElement("circle",{id:"chatbot-loader-dot2",cx:"65",cy:"30",r:"13"}),bt().createElement("circle",{id:"chatbot-loader-dot3",cx:"105",cy:"30",r:"13"})))))};var Lt=function(){return Lt=Object.assign||function(Mt){for(var Ht,sn=1,zt=arguments.length;sn<zt;sn++)for(var Xt in Ht=arguments[sn])Object.prototype.hasOwnProperty.call(Ht,Xt)&&(Mt[Xt]=Ht[Xt]);return Mt},Lt.apply(this,arguments)};const $t=function(Mt){var Ht=Mt.message,sn=Mt.withAvatar,zt=sn===void 0||sn,Xt=Mt.loading,Qt=Mt.messages,ln=Mt.customComponents,on=Mt.setState,cn=Mt.customStyles,rn=Mt.delay,an=Mt.id,xn=(0,xt.useState)(!1),wn=xn[0],En=xn[1];(0,xt.useEffect)(function(){var Tn;return function(An,mn){var pn=750;rn&&(pn+=rn),Tn=setTimeout(function(){var Jt=function(un,fn,Sn){for(var kn,Pn=0,Cn=fn.length;Pn<Cn;Pn++)!kn&&Pn in fn||(kn||(kn=Array.prototype.slice.call(fn,0,Pn)),kn[Pn]=fn[Pn]);return un.concat(kn||Array.prototype.slice.call(fn))}([],An).find(function(un){return un.id===an});Jt&&(Jt.loading=!1,Jt.delay=void 0,mn(function(un){var fn=un.messages,Sn=fn.findIndex(function(kn){return kn.id===an});return fn[Sn]=Jt,Lt(Lt({},un),{messages:fn})}))},pn)}(Qt,on),function(){clearTimeout(Tn)}},[rn,an]),(0,xt.useEffect)(function(){rn?setTimeout(function(){return En(!0)},rn):En(!0)},[rn]);var Fn={backgroundColor:""},In={borderRightColor:""};return cn&&(Fn.backgroundColor=cn.backgroundColor,In.borderRightColor=cn.backgroundColor),bt().createElement(At(),{condition:wn,show:bt().createElement("div",{className:"react-chatbot-kit-chat-bot-message-container"},bt().createElement(At(),{condition:zt,show:bt().createElement(At(),{condition:!!(ln!=null&&ln.botAvatar),show:_t(ln==null?void 0:ln.botAvatar),elseShow:bt().createElement(Vt,null)})}),bt().createElement(At(),{condition:!!(ln!=null&&ln.botChatMessage),show:_t(ln==null?void 0:ln.botChatMessage,{message:Ht,loader:bt().createElement(qt,null)}),elseShow:bt().createElement("div",{className:"react-chatbot-kit-chat-bot-message",style:Fn},bt().createElement(At(),{condition:Xt,show:bt().createElement(qt,null),elseShow:bt().createElement("span",null,Ht)}),bt().createElement(At(),{condition:zt,show:bt().createElement("div",{className:"react-chatbot-kit-chat-bot-message-arrow",style:In})}))}))})};function Ot(){return Ot=Object.assign||function(Mt){for(var Ht=1;Ht<arguments.length;Ht++){var sn=arguments[Ht];for(var zt in sn)Object.prototype.hasOwnProperty.call(sn,zt)&&(Mt[zt]=sn[zt])}return Mt},Ot.apply(this,arguments)}const jt=({styles:Mt={},...Ht})=>bt().createElement("svg",Ot({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"},Ht),bt().createElement("path",{d:"M476 3.2L12.5 270.6c-18.1 10.4-15.8 35.6 2.2 43.2L121 358.4l287.3-253.2c5.5-4.9 13.3 2.6 8.6 8.3L176 407v80.5c0 23.6 28.5 32.9 42.5 15.8L282 426l124.6 52.2c14.2 6 30.4-2.9 33-18.2l72-432C515 7.8 493.3-6.8 476 3.2z"}));var Rt=function(){return Rt=Object.assign||function(Mt){for(var Ht,sn=1,zt=arguments.length;sn<zt;sn++)for(var Xt in Ht=arguments[sn])Object.prototype.hasOwnProperty.call(Ht,Xt)&&(Mt[Xt]=Ht[Xt]);return Mt},Rt.apply(this,arguments)},Kt=function(Mt,Ht,sn){if(sn||arguments.length===2)for(var zt,Xt=0,Qt=Ht.length;Xt<Qt;Xt++)!zt&&Xt in Ht||(zt||(zt=Array.prototype.slice.call(Ht,0,Xt)),zt[Xt]=Ht[Xt]);return Mt.concat(zt||Array.prototype.slice.call(Ht))};const Bt=function(Mt){var Ht=Mt.state,sn=Mt.setState,zt=Mt.widgetRegistry,Xt=Mt.messageParser,Qt=Mt.parse,ln=Mt.customComponents,on=Mt.actionProvider,cn=Mt.botName,rn=Mt.customStyles,an=Mt.headerText,xn=Mt.customMessages,wn=Mt.placeholderText,En=Mt.validator,Fn=Mt.disableScrollToBottom,In=Mt.messageHistory,Tn=Mt.actions,An=Mt.messageContainerRef,mn=Ht.messages,pn=(0,xt.useState)(""),Jt=pn[0],un=pn[1],fn=function(){setTimeout(function(){var vn;An.current&&(An.current.scrollTop=(vn=An==null?void 0:An.current)===null||vn===void 0?void 0:vn.scrollHeight)},50)};(0,xt.useEffect)(function(){Fn||fn()});var Sn=function(){sn(function(vn){return Rt(Rt({},vn),{messages:Kt(Kt([],vn.messages,!0),[Et(Jt,"user")],!1)})}),fn(),un("")},kn={backgroundColor:""};rn&&rn.chatButton&&(kn.backgroundColor=rn.chatButton.backgroundColor);var Pn="Conversation with "+cn;an&&(Pn=an);var Cn="Write your message here";return wn&&(Cn=wn),bt().createElement("div",{className:"react-chatbot-kit-chat-container"},bt().createElement("div",{className:"react-chatbot-kit-chat-inner-container"},bt().createElement(At(),{condition:!!ln.header,show:ln.header&&ln.header(on),elseShow:bt().createElement("div",{className:"react-chatbot-kit-chat-header"},Pn)}),bt().createElement("div",{className:"react-chatbot-kit-chat-message-container",ref:An},bt().createElement(At(),{condition:typeof In=="string"&&!!In,show:bt().createElement("div",{dangerouslySetInnerHTML:{__html:In}})}),mn.map(function(vn,Rn){return vn.type==="bot"?bt().createElement(bt().Fragment,{key:vn.id},function(Mn,_n){var Dn;Dn=Mn.withAvatar?Mn.withAvatar:function(ts,es){if(es===0)return!0;var Qn=ts[es-1];return!(Qn.type==="bot"&&!Qn.widget)}(mn,_n);var Ln=Rt(Rt({},Mn),{setState:sn,state:Ht,customComponents:ln,widgetRegistry:zt,messages:mn,actions:Tn});if(Mn.widget){var Un=zt.getWidget(Ln.widget,Rt(Rt({},Ht),{scrollIntoView:fn,payload:Mn.payload,actions:Tn}));return bt().createElement(bt().Fragment,null,bt().createElement($t,Rt({customStyles:rn.botMessageBox,withAvatar:Dn},Ln,{key:Mn.id})),bt().createElement(At(),{condition:!Ln.loading,show:Un||null}))}return bt().createElement($t,Rt({customStyles:rn.botMessageBox,key:Mn.id,withAvatar:Dn},Ln,{customComponents:ln,messages:mn,setState:sn}))}(vn,Rn)):vn.type==="user"?bt().createElement(bt().Fragment,{key:vn.id},function(Mn){var _n=zt.getWidget(Mn.widget,Rt(Rt({},Ht),{scrollIntoView:fn,payload:Mn.payload,actions:Tn}));return bt().createElement(bt().Fragment,null,bt().createElement(Ft,{message:Mn.message,key:Mn.id,customComponents:ln}),_n||null)}(vn)):function(Mn,_n){return!!_n[Mn.type]}(vn,xn)?bt().createElement(bt().Fragment,{key:vn.id},function(Mn){var _n=xn[Mn.type],Dn={setState:sn,state:Ht,scrollIntoView:fn,actionProvider:on,payload:Mn.payload,actions:Tn};if(Mn.widget){var Ln=zt.getWidget(Mn.widget,Rt(Rt({},Ht),{scrollIntoView:fn,payload:Mn.payload,actions:Tn}));return bt().createElement(bt().Fragment,null,_n(Dn),Ln||null)}return _n(Dn)}(vn)):void 0}),bt().createElement("div",{style:{paddingBottom:"15px"}})),bt().createElement("div",{className:"react-chatbot-kit-chat-input-container"},bt().createElement("form",{className:"react-chatbot-kit-chat-input-form",onSubmit:function(vn){if(vn.preventDefault(),En&&typeof En=="function"){if(En(Jt)){if(Sn(),Qt)return Qt(Jt);Xt.parse(Jt)}}else{if(Sn(),Qt)return Qt(Jt);Xt.parse(Jt)}}},bt().createElement("input",{className:"react-chatbot-kit-chat-input",placeholder:Cn,value:Jt,onChange:function(vn){return un(vn.target.value)}}),bt().createElement("button",{className:"react-chatbot-kit-chat-btn-send",style:kn},bt().createElement(jt,{className:"react-chatbot-kit-chat-btn-send-icon"}))))))},Gt=function(Mt){var Ht=Mt.message;return bt().createElement("div",{className:"react-chatbot-kit-error"},bt().createElement("h1",{className:"react-chatbot-kit-error-header"},"Ooops. Something is missing."),bt().createElement("div",{className:"react-chatbot-kit-error-container"},bt().createElement($t,{message:Ht,withAvatar:!0,loading:!1,id:1,customStyles:{backgroundColor:""},messages:[]})),bt().createElement("a",{href:"https://fredrikoseberg.github.io/react-chatbot-kit-docs/",rel:"noopener norefferer",target:"_blank",className:"react-chatbot-kit-error-docs"},"View the docs"))};var en=function(Mt){return Mt.widgets?Mt.widgets:[]},hn=function(Mt){try{new Mt}catch{return!1}return!0},tn=function(){return tn=Object.assign||function(Mt){for(var Ht,sn=1,zt=arguments.length;sn<zt;sn++)for(var Xt in Ht=arguments[sn])Object.prototype.hasOwnProperty.call(Ht,Xt)&&(Mt[Xt]=Ht[Xt]);return Mt},tn.apply(this,arguments)};const gn=function(Mt,Ht){var sn=this;this.addWidget=function(zt,Xt){var Qt=zt.widgetName,ln=zt.widgetFunc,on=zt.mapStateToProps,cn=zt.props;sn[Qt]={widget:ln,props:cn,mapStateToProps:on,parentProps:tn({},Xt)}},this.getWidget=function(zt,Xt){var Qt=sn[zt];if(Qt){var ln,on=tn(tn(tn(tn({scrollIntoView:Xt.scrollIntoView},Qt.parentProps),typeof(ln=Qt.props)=="object"?ln:{}),sn.mapStateToProps(Qt.mapStateToProps,Xt)),{setState:sn.setState,actionProvider:sn.actionProvider||Xt.actions,actions:Xt.actions,state:Xt,payload:Xt.payload});return Qt.widget(on)||null}},this.mapStateToProps=function(zt,Xt){if(zt)return zt.reduce(function(Qt,ln){return Qt[ln]=Xt[ln],Qt},{})},this.setState=Mt,this.actionProvider=Ht};var nn=function(){return nn=Object.assign||function(Mt){for(var Ht,sn=1,zt=arguments.length;sn<zt;sn++)for(var Xt in Ht=arguments[sn])Object.prototype.hasOwnProperty.call(Ht,Xt)&&(Mt[Xt]=Ht[Xt]);return Mt},nn.apply(this,arguments)},bn=function(Mt,Ht,sn){for(var zt,Xt=0,Qt=Ht.length;Xt<Qt;Xt++)!zt&&Xt in Ht||(zt||(zt=Array.prototype.slice.call(Ht,0,Xt)),zt[Xt]=Ht[Xt]);return Mt.concat(zt||Array.prototype.slice.call(Ht))};const Wt=function(Mt){var Ht=Mt.config,sn=Mt.actionProvider,zt=Mt.messageParser,Xt=Mt.messageHistory,Qt=Mt.runInitialMessagesWithHistory,ln=Mt.saveMessages,on=function(Sn,kn){var Pn={};for(var Cn in Sn)Object.prototype.hasOwnProperty.call(Sn,Cn)&&kn.indexOf(Cn)<0&&(Pn[Cn]=Sn[Cn]);if(Sn!=null&&typeof Object.getOwnPropertySymbols=="function"){var vn=0;for(Cn=Object.getOwnPropertySymbols(Sn);vn<Cn.length;vn++)kn.indexOf(Cn[vn])<0&&Object.prototype.propertyIsEnumerable.call(Sn,Cn[vn])&&(Pn[Cn[vn]]=Sn[Cn[vn]])}return Pn}(Mt,["config","actionProvider","messageParser","messageHistory","runInitialMessagesWithHistory","saveMessages"]),cn="",rn="";if(!Ht||!sn||!zt)return{configurationError:cn="I think you forgot to feed me some props. Did you remember to pass a config, a messageparser and an actionprovider?"};var an=function(Sn,kn){var Pn=[];return Sn.initialMessages||Pn.push("Config must contain property 'initialMessages', and it expects it to be an array of chatbotmessages."),Pn}(Ht);if(an.length)return{invalidPropsError:rn=an.reduce(function(Sn,kn){return Sn+kn},"")};var xn=function(Sn){return Sn.state?Sn.state:{}}(Ht);Xt&&Array.isArray(Xt)?Ht.initialMessages=bn([],Xt):typeof Xt=="string"&&Xt&&(Qt||(Ht.initialMessages=[]));var wn,En,Fn,In=bt().useState(nn({messages:bn([],Ht.initialMessages)},xn)),Tn=In[0],An=In[1],mn=bt().useRef(Tn.messages),pn=bt().useRef(),Jt=bt().useRef();(0,xt.useEffect)(function(){mn.current=Tn.messages}),(0,xt.useEffect)(function(){Xt&&Array.isArray(Xt)&&An(function(Sn){return nn(nn({},Sn),{messages:Xt})})},[]),(0,xt.useEffect)(function(){var Sn=Jt.current;return function(){if(ln&&typeof ln=="function"){var kn=Sn.innerHTML.toString();ln(mn.current,kn)}}},[]),(0,xt.useEffect)(function(){pn.current=Tn},[Tn]);var un=sn,fn=zt;return hn(un)&&hn(fn)?(wn=new sn(Pt,An,kt,pn.current,wt,on),En=new gn(An,wn),Fn=new zt(wn,pn.current),en(Ht).forEach(function(Sn){return En==null?void 0:En.addWidget(Sn,on)})):(wn=sn,Fn=zt,En=new gn(An,null),en(Ht).forEach(function(Sn){return En==null?void 0:En.addWidget(Sn,on)})),{widgetRegistry:En,actionProv:wn,messagePars:Fn,configurationError:cn,invalidPropsError:rn,state:Tn,setState:An,messageContainerRef:Jt,ActionProvider:un,MessageParser:fn}};var Yt=function(){return Yt=Object.assign||function(Mt){for(var Ht,sn=1,zt=arguments.length;sn<zt;sn++)for(var Xt in Ht=arguments[sn])Object.prototype.hasOwnProperty.call(Ht,Xt)&&(Mt[Xt]=Ht[Xt]);return Mt},Yt.apply(this,arguments)};const dn=function(Mt){var Ht=Mt.actionProvider,sn=Mt.messageParser,zt=Mt.config,Xt=Mt.headerText,Qt=Mt.placeholderText,ln=Mt.saveMessages,on=Mt.messageHistory,cn=Mt.runInitialMessagesWithHistory,rn=Mt.disableScrollToBottom,an=Mt.validator,xn=function(vn,Rn){var Mn={};for(var _n in vn)Object.prototype.hasOwnProperty.call(vn,_n)&&Rn.indexOf(_n)<0&&(Mn[_n]=vn[_n]);if(vn!=null&&typeof Object.getOwnPropertySymbols=="function"){var Dn=0;for(_n=Object.getOwnPropertySymbols(vn);Dn<_n.length;Dn++)Rn.indexOf(_n[Dn])<0&&Object.prototype.propertyIsEnumerable.call(vn,_n[Dn])&&(Mn[_n[Dn]]=vn[_n[Dn]])}return Mn}(Mt,["actionProvider","messageParser","config","headerText","placeholderText","saveMessages","messageHistory","runInitialMessagesWithHistory","disableScrollToBottom","validator"]),wn=Wt(Yt({config:zt,actionProvider:Ht,messageParser:sn,messageHistory:on,saveMessages:ln,runInitialMessagesWithHistory:cn},xn)),En=wn.configurationError,Fn=wn.invalidPropsError,In=wn.ActionProvider,Tn=wn.MessageParser,An=wn.widgetRegistry,mn=wn.messageContainerRef,pn=wn.actionProv,Jt=wn.messagePars,un=wn.state,fn=wn.setState;if(En)return bt().createElement(Gt,{message:En});if(Fn.length)return bt().createElement(Gt,{message:Fn});var Sn=function(vn){return vn.customStyles?vn.customStyles:{}}(zt),kn=function(vn){return vn.customComponents?vn.customComponents:{}}(zt),Pn=function(vn){return vn.botName?vn.botName:"Bot"}(zt),Cn=function(vn){return vn.customMessages?vn.customMessages:{}}(zt);return hn(In)&&hn(Tn)?bt().createElement(Bt,{state:un,setState:fn,widgetRegistry:An,actionProvider:pn,messageParser:Jt,customMessages:Cn,customComponents:Yt({},kn),botName:Pn,customStyles:Yt({},Sn),headerText:Xt,placeholderText:Qt,validator:an,messageHistory:on,disableScrollToBottom:rn,messageContainerRef:mn}):bt().createElement(In,{state:un,setState:fn,createChatBotMessage:Pt},bt().createElement(Tn,null,bt().createElement(Bt,{state:un,setState:fn,widgetRegistry:An,actionProvider:In,messageParser:Tn,customMessages:Cn,customComponents:Yt({},kn),botName:Pn,customStyles:Yt({},Sn),headerText:Xt,placeholderText:Qt,validator:an,messageHistory:on,disableScrollToBottom:rn,messageContainerRef:mn})))},Ut=dn;build.exports=$})();var buildExports=build.exports;const Chatbot=getDefaultExportFromCjs(buildExports),SymptomOptions=_e=>{const $=[{text:"Discuss symptoms",handler:()=>_e.actionProvider.handleSymptoms(),id:1},{text:"Schedule appointment",handler:()=>_e.actionProvider.handleAppointment(),id:2}];return jsxRuntimeExports.jsx("div",{className:"flex flex-wrap justify-center",children:$.map(xt=>jsxRuntimeExports.jsx("button",{onClick:xt.handler,className:"m-2 px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-600 transition-colors",children:xt.text},xt.id))})},config={initialMessages:[buildExports.createChatBotMessage("Hello! I'm your medical assistant. How can I help you today?",{widget:"symptomOptions"})],widgets:[{widgetName:"symptomOptions",widgetFunc:_e=>jsxRuntimeExports.jsx(SymptomOptions,{..._e})}],customStyles:{botMessageBox:{backgroundColor:"#3B82F6"},chatButton:{backgroundColor:"#3B82F6"}}};class MessageParser{constructor($,xt){this.actionProvider=$,this.state=xt}parse($){const xt=$.toLowerCase();xt.includes("symptom")?this.actionProvider.handleSymptoms():xt.includes("appointment")?this.actionProvider.handleAppointment():this.actionProvider.handleDefault()}}class ActionProvider{constructor($,xt,bt){this.createChatBotMessage=$,this.setState=xt,this.createClientMessage=bt}handleSymptoms(){const $=this.createChatBotMessage("Common symptoms can vary depending on the condition. Here are some general categories to be aware of: fever, pain, fatigue, nausea, changes in appetite, sleep disturbances, mood changes, and skin changes. If you're experiencing persistent or severe symptoms, please consult with a healthcare professional.",{widget:"symptomOptions"});this.updateChatbotState($)}handleAppointment(){const $=this.createChatBotMessage("To schedule an appointment, please call our office at (123) 456-7890 or visit our website at www.example.com/appointments.");this.updateChatbotState($)}handleDefault(){const $=this.createChatBotMessage("I'm not sure I understand. Could you please rephrase your question or choose from the options below?",{widget:"symptomOptions"});this.updateChatbotState($)}updateChatbotState($){this.setState(xt=>({...xt,messages:[...xt.messages,$]}))}}const MedicalChatbot=()=>{const[_e,$]=reactExports.useState(!1);return jsxRuntimeExports.jsxs("div",{className:"fixed bottom-5 right-5 z-50",children:[_e&&jsxRuntimeExports.jsx("div",{className:"mb-4",children:jsxRuntimeExports.jsx(Chatbot,{config,messageParser:MessageParser,actionProvider:ActionProvider})}),jsxRuntimeExports.jsx("button",{onClick:()=>$(xt=>!xt),className:"px-4 py-2 bg-blue-500 text-white rounded-full hover:bg-blue-600 transition-colors focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-opacity-50",children:_e?"Close Chat":"Open Chat"})]})};function App(){const[_e,$]=reactExports.useState(()=>{const xt=localStorage.getItem("isDoctor");return xt!==null?JSON.parse(xt):!0});return reactExports.useEffect(()=>{localStorage.setItem("isDoctor",JSON.stringify(_e))},[_e]),jsxRuntimeExports.jsx("div",{className:"App",children:jsxRuntimeExports.jsx(BrowserRouter,{children:jsxRuntimeExports.jsxs(Routes,{children:[jsxRuntimeExports.jsx(Route,{path:"/",element:jsxRuntimeExports.jsx(LandingPage,{})}),jsxRuntimeExports.jsx(Route,{path:"/main",element:jsxRuntimeExports.jsx(Main,{isDoctor:_e,setIsDoctor:$})}),jsxRuntimeExports.jsx(Route,{path:"/form",element:jsxRuntimeExports.jsx(PatientRegistrationForm$1,{})}),jsxRuntimeExports.jsx(Route,{path:"/patient",element:jsxRuntimeExports.jsx(Patient,{isDoctor:_e})}),jsxRuntimeExports.jsx(Route,{path:"/signin",element:jsxRuntimeExports.jsx(Signin,{setIsDoctor:$,isDoctor:_e})}),jsxRuntimeExports.jsx(Route,{path:"/newSignin",element:jsxRuntimeExports.jsx(NewSignin,{})}),jsxRuntimeExports.jsx(Route,{path:"/upload",element:jsxRuntimeExports.jsx(Upload,{})}),jsxRuntimeExports.jsx(Route,{path:"/load",element:jsxRuntimeExports.jsx(Load,{})}),jsxRuntimeExports.jsx(Route,{path:"/pdfShow",element:jsxRuntimeExports.jsx(PdfShow,{})}),jsxRuntimeExports.jsx(Route,{path:"/doctoranalysis",element:jsxRuntimeExports.jsx(Doctoranalysis,{})}),jsxRuntimeExports.jsx(Route,{path:"/caretakeranalysis",element:jsxRuntimeExports.jsx(CaretakerAnalysis,{})}),jsxRuntimeExports.jsx(Route,{path:"/dummy",element:jsxRuntimeExports.jsx(Dummy,{})}),jsxRuntimeExports.jsx(Route,{path:"/edit",element:jsxRuntimeExports.jsx(PatientRegistrationForm,{})}),jsxRuntimeExports.jsx(Route,{path:"/result",element:jsxRuntimeExports.jsx(ResultPopup,{})}),jsxRuntimeExports.jsx(Route,{path:"/chatbot",element:jsxRuntimeExports.jsx(MedicalChatbot,{})})]})})})}client.createRoot(document.getElementById("root")).render(jsxRuntimeExports.jsx(React.StrictMode,{children:jsxRuntimeExports.jsx(App,{})}));
