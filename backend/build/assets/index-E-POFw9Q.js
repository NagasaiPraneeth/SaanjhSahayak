var B5=Object.defineProperty;var dy=xt=>{throw TypeError(xt)};var U5=(xt,$,ht)=>$ in xt?B5(xt,$,{enumerable:!0,configurable:!0,writable:!0,value:ht}):xt[$]=ht;var Ur=(xt,$,ht)=>U5(xt,typeof $!="symbol"?$+"":$,ht),f9=(xt,$,ht)=>$.has(xt)||dy("Cannot "+ht);var Mt=(xt,$,ht)=>(f9(xt,$,"read from private field"),ht?ht.call(xt):$.get(xt)),Nn=(xt,$,ht)=>$.has(xt)?dy("Cannot add the same private member more than once"):$ instanceof WeakSet?$.add(xt):$.set(xt,ht),$n=(xt,$,ht,vt)=>(f9(xt,$,"write to private field"),vt?vt.call(xt,ht):$.set(xt,ht),ht),Mn=(xt,$,ht)=>(f9(xt,$,"access private method"),ht);var So=(xt,$,ht,vt)=>({set _(At){$n(xt,$,At,ht)},get _(){return Mt(xt,$,vt)}});function _mergeNamespaces(xt,$){for(var ht=0;ht<$.length;ht++){const vt=$[ht];if(typeof vt!="string"&&!Array.isArray(vt)){for(const At in vt)if(At!=="default"&&!(At in xt)){const St=Object.getOwnPropertyDescriptor(vt,At);St&&Object.defineProperty(xt,At,St.get?St:{enumerable:!0,get:()=>vt[At]})}}}return Object.freeze(Object.defineProperty(xt,Symbol.toStringTag,{value:"Module"}))}(function(){const $=document.createElement("link").relList;if($&&$.supports&&$.supports("modulepreload"))return;for(const At of document.querySelectorAll('link[rel="modulepreload"]'))vt(At);new MutationObserver(At=>{for(const St of At)if(St.type==="childList")for(const Ct of St.addedNodes)Ct.tagName==="LINK"&&Ct.rel==="modulepreload"&&vt(Ct)}).observe(document,{childList:!0,subtree:!0});function ht(At){const St={};return At.integrity&&(St.integrity=At.integrity),At.referrerPolicy&&(St.referrerPolicy=At.referrerPolicy),At.crossOrigin==="use-credentials"?St.credentials="include":At.crossOrigin==="anonymous"?St.credentials="omit":St.credentials="same-origin",St}function vt(At){if(At.ep)return;At.ep=!0;const St=ht(At);fetch(At.href,St)}})();function getDefaultExportFromCjs(xt){return xt&&xt.__esModule&&Object.prototype.hasOwnProperty.call(xt,"default")?xt.default:xt}function getAugmentedNamespace(xt){if(xt.__esModule)return xt;var $=xt.default;if(typeof $=="function"){var ht=function vt(){return this instanceof vt?Reflect.construct($,arguments,this.constructor):$.apply(this,arguments)};ht.prototype=$.prototype}else ht={};return Object.defineProperty(ht,"__esModule",{value:!0}),Object.keys(xt).forEach(function(vt){var At=Object.getOwnPropertyDescriptor(xt,vt);Object.defineProperty(ht,vt,At.get?At:{enumerable:!0,get:function(){return xt[vt]}})}),ht}var jsxRuntime={exports:{}},reactJsxRuntime_production_min={},react={exports:{}},react_production_min={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var l$3=Symbol.for("react.element"),n$5=Symbol.for("react.portal"),p$6=Symbol.for("react.fragment"),q$2=Symbol.for("react.strict_mode"),r$3=Symbol.for("react.profiler"),t$5=Symbol.for("react.provider"),u$8=Symbol.for("react.context"),v$2=Symbol.for("react.forward_ref"),w$2=Symbol.for("react.suspense"),x$1=Symbol.for("react.memo"),y$5=Symbol.for("react.lazy"),z$2=Symbol.iterator;function A$4(xt){return xt===null||typeof xt!="object"?null:(xt=z$2&&xt[z$2]||xt["@@iterator"],typeof xt=="function"?xt:null)}var B$2={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},C$2=Object.assign,D$5={};function E$2(xt,$,ht){this.props=xt,this.context=$,this.refs=D$5,this.updater=ht||B$2}E$2.prototype.isReactComponent={};E$2.prototype.setState=function(xt,$){if(typeof xt!="object"&&typeof xt!="function"&&xt!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,xt,$,"setState")};E$2.prototype.forceUpdate=function(xt){this.updater.enqueueForceUpdate(this,xt,"forceUpdate")};function F$4(){}F$4.prototype=E$2.prototype;function G$3(xt,$,ht){this.props=xt,this.context=$,this.refs=D$5,this.updater=ht||B$2}var H$3=G$3.prototype=new F$4;H$3.constructor=G$3;C$2(H$3,E$2.prototype);H$3.isPureReactComponent=!0;var I$5=Array.isArray,J$2=Object.prototype.hasOwnProperty,K$1={current:null},L$2={key:!0,ref:!0,__self:!0,__source:!0};function M$4(xt,$,ht){var vt,At={},St=null,Ct=null;if($!=null)for(vt in $.ref!==void 0&&(Ct=$.ref),$.key!==void 0&&(St=""+$.key),$)J$2.call($,vt)&&!L$2.hasOwnProperty(vt)&&(At[vt]=$[vt]);var Et=arguments.length-2;if(Et===1)At.children=ht;else if(1<Et){for(var Ft=Array(Et),wt=0;wt<Et;wt++)Ft[wt]=arguments[wt+2];At.children=Ft}if(xt&&xt.defaultProps)for(vt in Et=xt.defaultProps,Et)At[vt]===void 0&&(At[vt]=Et[vt]);return{$$typeof:l$3,type:xt,key:St,ref:Ct,props:At,_owner:K$1.current}}function N$4(xt,$){return{$$typeof:l$3,type:xt.type,key:$,ref:xt.ref,props:xt.props,_owner:xt._owner}}function O$3(xt){return typeof xt=="object"&&xt!==null&&xt.$$typeof===l$3}function escape$1(xt){var $={"=":"=0",":":"=2"};return"$"+xt.replace(/[=:]/g,function(ht){return $[ht]})}var P$4=/\/+/g;function Q$1(xt,$){return typeof xt=="object"&&xt!==null&&xt.key!=null?escape$1(""+xt.key):$.toString(36)}function R$2(xt,$,ht,vt,At){var St=typeof xt;(St==="undefined"||St==="boolean")&&(xt=null);var Ct=!1;if(xt===null)Ct=!0;else switch(St){case"string":case"number":Ct=!0;break;case"object":switch(xt.$$typeof){case l$3:case n$5:Ct=!0}}if(Ct)return Ct=xt,At=At(Ct),xt=vt===""?"."+Q$1(Ct,0):vt,I$5(At)?(ht="",xt!=null&&(ht=xt.replace(P$4,"$&/")+"/"),R$2(At,$,ht,"",function(wt){return wt})):At!=null&&(O$3(At)&&(At=N$4(At,ht+(!At.key||Ct&&Ct.key===At.key?"":(""+At.key).replace(P$4,"$&/")+"/")+xt)),$.push(At)),1;if(Ct=0,vt=vt===""?".":vt+":",I$5(xt))for(var Et=0;Et<xt.length;Et++){St=xt[Et];var Ft=vt+Q$1(St,Et);Ct+=R$2(St,$,ht,Ft,At)}else if(Ft=A$4(xt),typeof Ft=="function")for(xt=Ft.call(xt),Et=0;!(St=xt.next()).done;)St=St.value,Ft=vt+Q$1(St,Et++),Ct+=R$2(St,$,ht,Ft,At);else if(St==="object")throw $=String(xt),Error("Objects are not valid as a React child (found: "+($==="[object Object]"?"object with keys {"+Object.keys(xt).join(", ")+"}":$)+"). If you meant to render a collection of children, use an array instead.");return Ct}function S$5(xt,$,ht){if(xt==null)return xt;var vt=[],At=0;return R$2(xt,vt,"","",function(St){return $.call(ht,St,At++)}),vt}function T$4(xt){if(xt._status===-1){var $=xt._result;$=$(),$.then(function(ht){(xt._status===0||xt._status===-1)&&(xt._status=1,xt._result=ht)},function(ht){(xt._status===0||xt._status===-1)&&(xt._status=2,xt._result=ht)}),xt._status===-1&&(xt._status=0,xt._result=$)}if(xt._status===1)return xt._result.default;throw xt._result}var U$3={current:null},V$2={transition:null},W$3={ReactCurrentDispatcher:U$3,ReactCurrentBatchConfig:V$2,ReactCurrentOwner:K$1};function X$1(){throw Error("act(...) is not supported in production builds of React.")}react_production_min.Children={map:S$5,forEach:function(xt,$,ht){S$5(xt,function(){$.apply(this,arguments)},ht)},count:function(xt){var $=0;return S$5(xt,function(){$++}),$},toArray:function(xt){return S$5(xt,function($){return $})||[]},only:function(xt){if(!O$3(xt))throw Error("React.Children.only expected to receive a single React element child.");return xt}};react_production_min.Component=E$2;react_production_min.Fragment=p$6;react_production_min.Profiler=r$3;react_production_min.PureComponent=G$3;react_production_min.StrictMode=q$2;react_production_min.Suspense=w$2;react_production_min.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=W$3;react_production_min.act=X$1;react_production_min.cloneElement=function(xt,$,ht){if(xt==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+xt+".");var vt=C$2({},xt.props),At=xt.key,St=xt.ref,Ct=xt._owner;if($!=null){if($.ref!==void 0&&(St=$.ref,Ct=K$1.current),$.key!==void 0&&(At=""+$.key),xt.type&&xt.type.defaultProps)var Et=xt.type.defaultProps;for(Ft in $)J$2.call($,Ft)&&!L$2.hasOwnProperty(Ft)&&(vt[Ft]=$[Ft]===void 0&&Et!==void 0?Et[Ft]:$[Ft])}var Ft=arguments.length-2;if(Ft===1)vt.children=ht;else if(1<Ft){Et=Array(Ft);for(var wt=0;wt<Ft;wt++)Et[wt]=arguments[wt+2];vt.children=Et}return{$$typeof:l$3,type:xt.type,key:At,ref:St,props:vt,_owner:Ct}};react_production_min.createContext=function(xt){return xt={$$typeof:u$8,_currentValue:xt,_currentValue2:xt,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},xt.Provider={$$typeof:t$5,_context:xt},xt.Consumer=xt};react_production_min.createElement=M$4;react_production_min.createFactory=function(xt){var $=M$4.bind(null,xt);return $.type=xt,$};react_production_min.createRef=function(){return{current:null}};react_production_min.forwardRef=function(xt){return{$$typeof:v$2,render:xt}};react_production_min.isValidElement=O$3;react_production_min.lazy=function(xt){return{$$typeof:y$5,_payload:{_status:-1,_result:xt},_init:T$4}};react_production_min.memo=function(xt,$){return{$$typeof:x$1,type:xt,compare:$===void 0?null:$}};react_production_min.startTransition=function(xt){var $=V$2.transition;V$2.transition={};try{xt()}finally{V$2.transition=$}};react_production_min.unstable_act=X$1;react_production_min.useCallback=function(xt,$){return U$3.current.useCallback(xt,$)};react_production_min.useContext=function(xt){return U$3.current.useContext(xt)};react_production_min.useDebugValue=function(){};react_production_min.useDeferredValue=function(xt){return U$3.current.useDeferredValue(xt)};react_production_min.useEffect=function(xt,$){return U$3.current.useEffect(xt,$)};react_production_min.useId=function(){return U$3.current.useId()};react_production_min.useImperativeHandle=function(xt,$,ht){return U$3.current.useImperativeHandle(xt,$,ht)};react_production_min.useInsertionEffect=function(xt,$){return U$3.current.useInsertionEffect(xt,$)};react_production_min.useLayoutEffect=function(xt,$){return U$3.current.useLayoutEffect(xt,$)};react_production_min.useMemo=function(xt,$){return U$3.current.useMemo(xt,$)};react_production_min.useReducer=function(xt,$,ht){return U$3.current.useReducer(xt,$,ht)};react_production_min.useRef=function(xt){return U$3.current.useRef(xt)};react_production_min.useState=function(xt){return U$3.current.useState(xt)};react_production_min.useSyncExternalStore=function(xt,$,ht){return U$3.current.useSyncExternalStore(xt,$,ht)};react_production_min.useTransition=function(){return U$3.current.useTransition()};react_production_min.version="18.3.1";react.exports=react_production_min;var reactExports=react.exports;const React=getDefaultExportFromCjs(reactExports),t$4=_mergeNamespaces({__proto__:null,default:React},[reactExports]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var f$6=reactExports,k=Symbol.for("react.element"),l$2=Symbol.for("react.fragment"),m$5=Object.prototype.hasOwnProperty,n$4=f$6.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,p$5={key:!0,ref:!0,__self:!0,__source:!0};function q$1(xt,$,ht){var vt,At={},St=null,Ct=null;ht!==void 0&&(St=""+ht),$.key!==void 0&&(St=""+$.key),$.ref!==void 0&&(Ct=$.ref);for(vt in $)m$5.call($,vt)&&!p$5.hasOwnProperty(vt)&&(At[vt]=$[vt]);if(xt&&xt.defaultProps)for(vt in $=xt.defaultProps,$)At[vt]===void 0&&(At[vt]=$[vt]);return{$$typeof:k,type:xt,key:St,ref:Ct,props:At,_owner:n$4.current}}reactJsxRuntime_production_min.Fragment=l$2;reactJsxRuntime_production_min.jsx=q$1;reactJsxRuntime_production_min.jsxs=q$1;jsxRuntime.exports=reactJsxRuntime_production_min;var jsxRuntimeExports=jsxRuntime.exports,client={},reactDom={exports:{}},reactDom_production_min={},scheduler={exports:{}},scheduler_production_min={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(xt){function $(Ut,Ot){var Ht=Ut.length;Ut.push(Ot);e:for(;0<Ht;){var an=Ht-1>>>1,zt=Ut[an];if(0<At(zt,Ot))Ut[an]=Ot,Ut[Ht]=zt,Ht=an;else break e}}function ht(Ut){return Ut.length===0?null:Ut[0]}function vt(Ut){if(Ut.length===0)return null;var Ot=Ut[0],Ht=Ut.pop();if(Ht!==Ot){Ut[0]=Ht;e:for(var an=0,zt=Ut.length,Vt=zt>>>1;an<Vt;){var nn=2*(an+1)-1,hn=Ut[nn],on=nn+1,cn=Ut[on];if(0>At(hn,Ht))on<zt&&0>At(cn,hn)?(Ut[an]=cn,Ut[on]=Ht,an=on):(Ut[an]=hn,Ut[nn]=Ht,an=nn);else if(on<zt&&0>At(cn,Ht))Ut[an]=cn,Ut[on]=Ht,an=on;else break e}}return Ot}function At(Ut,Ot){var Ht=Ut.sortIndex-Ot.sortIndex;return Ht!==0?Ht:Ut.id-Ot.id}if(typeof performance=="object"&&typeof performance.now=="function"){var St=performance;xt.unstable_now=function(){return St.now()}}else{var Ct=Date,Et=Ct.now();xt.unstable_now=function(){return Ct.now()-Et}}var Ft=[],wt=[],_t=1,Rt=null,_e=3,bt=!1,Pt=!1,Xt=!1,Kt=typeof setTimeout=="function"?setTimeout:null,Nt=typeof clearTimeout=="function"?clearTimeout:null,$t=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function Lt(Ut){for(var Ot=ht(wt);Ot!==null;){if(Ot.callback===null)vt(wt);else if(Ot.startTime<=Ut)vt(wt),Ot.sortIndex=Ot.expirationTime,$(Ft,Ot);else break;Ot=ht(wt)}}function jt(Ut){if(Xt=!1,Lt(Ut),!Pt)if(ht(Ft)!==null)Pt=!0,Yt(kt);else{var Ot=ht(wt);Ot!==null&&un(jt,Ot.startTime-Ut)}}function kt(Ut,Ot){Pt=!1,Xt&&(Xt=!1,Nt(Gt),Gt=-1),bt=!0;var Ht=_e;try{for(Lt(Ot),Rt=ht(Ft);Rt!==null&&(!(Rt.expirationTime>Ot)||Ut&&!Qt());){var an=Rt.callback;if(typeof an=="function"){Rt.callback=null,_e=Rt.priorityLevel;var zt=an(Rt.expirationTime<=Ot);Ot=xt.unstable_now(),typeof zt=="function"?Rt.callback=zt:Rt===ht(Ft)&&vt(Ft),Lt(Ot)}else vt(Ft);Rt=ht(Ft)}if(Rt!==null)var Vt=!0;else{var nn=ht(wt);nn!==null&&un(jt,nn.startTime-Ot),Vt=!1}return Vt}finally{Rt=null,_e=Ht,bt=!1}}var qt=!1,Bt=null,Gt=-1,en=5,dn=-1;function Qt(){return!(xt.unstable_now()-dn<en)}function gn(){if(Bt!==null){var Ut=xt.unstable_now();dn=Ut;var Ot=!0;try{Ot=Bt(!0,Ut)}finally{Ot?tn():(qt=!1,Bt=null)}}else qt=!1}var tn;if(typeof $t=="function")tn=function(){$t(gn)};else if(typeof MessageChannel<"u"){var bn=new MessageChannel,Wt=bn.port2;bn.port1.onmessage=gn,tn=function(){Wt.postMessage(null)}}else tn=function(){Kt(gn,0)};function Yt(Ut){Bt=Ut,qt||(qt=!0,tn())}function un(Ut,Ot){Gt=Kt(function(){Ut(xt.unstable_now())},Ot)}xt.unstable_IdlePriority=5,xt.unstable_ImmediatePriority=1,xt.unstable_LowPriority=4,xt.unstable_NormalPriority=3,xt.unstable_Profiling=null,xt.unstable_UserBlockingPriority=2,xt.unstable_cancelCallback=function(Ut){Ut.callback=null},xt.unstable_continueExecution=function(){Pt||bt||(Pt=!0,Yt(kt))},xt.unstable_forceFrameRate=function(Ut){0>Ut||125<Ut?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):en=0<Ut?Math.floor(1e3/Ut):5},xt.unstable_getCurrentPriorityLevel=function(){return _e},xt.unstable_getFirstCallbackNode=function(){return ht(Ft)},xt.unstable_next=function(Ut){switch(_e){case 1:case 2:case 3:var Ot=3;break;default:Ot=_e}var Ht=_e;_e=Ot;try{return Ut()}finally{_e=Ht}},xt.unstable_pauseExecution=function(){},xt.unstable_requestPaint=function(){},xt.unstable_runWithPriority=function(Ut,Ot){switch(Ut){case 1:case 2:case 3:case 4:case 5:break;default:Ut=3}var Ht=_e;_e=Ut;try{return Ot()}finally{_e=Ht}},xt.unstable_scheduleCallback=function(Ut,Ot,Ht){var an=xt.unstable_now();switch(typeof Ht=="object"&&Ht!==null?(Ht=Ht.delay,Ht=typeof Ht=="number"&&0<Ht?an+Ht:an):Ht=an,Ut){case 1:var zt=-1;break;case 2:zt=250;break;case 5:zt=1073741823;break;case 4:zt=1e4;break;default:zt=5e3}return zt=Ht+zt,Ut={id:_t++,callback:Ot,priorityLevel:Ut,startTime:Ht,expirationTime:zt,sortIndex:-1},Ht>an?(Ut.sortIndex=Ht,$(wt,Ut),ht(Ft)===null&&Ut===ht(wt)&&(Xt?(Nt(Gt),Gt=-1):Xt=!0,un(jt,Ht-an))):(Ut.sortIndex=zt,$(Ft,Ut),Pt||bt||(Pt=!0,Yt(kt))),Ut},xt.unstable_shouldYield=Qt,xt.unstable_wrapCallback=function(Ut){var Ot=_e;return function(){var Ht=_e;_e=Ot;try{return Ut.apply(this,arguments)}finally{_e=Ht}}}})(scheduler_production_min);scheduler.exports=scheduler_production_min;var schedulerExports=scheduler.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var aa=reactExports,ca=schedulerExports;function p$4(xt){for(var $="https://reactjs.org/docs/error-decoder.html?invariant="+xt,ht=1;ht<arguments.length;ht++)$+="&args[]="+encodeURIComponent(arguments[ht]);return"Minified React error #"+xt+"; visit "+$+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var da=new Set,ea={};function fa(xt,$){ha(xt,$),ha(xt+"Capture",$)}function ha(xt,$){for(ea[xt]=$,xt=0;xt<$.length;xt++)da.add($[xt])}var ia=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ja=Object.prototype.hasOwnProperty,ka=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,la={},ma={};function oa(xt){return ja.call(ma,xt)?!0:ja.call(la,xt)?!1:ka.test(xt)?ma[xt]=!0:(la[xt]=!0,!1)}function pa(xt,$,ht,vt){if(ht!==null&&ht.type===0)return!1;switch(typeof $){case"function":case"symbol":return!0;case"boolean":return vt?!1:ht!==null?!ht.acceptsBooleans:(xt=xt.toLowerCase().slice(0,5),xt!=="data-"&&xt!=="aria-");default:return!1}}function qa(xt,$,ht,vt){if($===null||typeof $>"u"||pa(xt,$,ht,vt))return!0;if(vt)return!1;if(ht!==null)switch(ht.type){case 3:return!$;case 4:return $===!1;case 5:return isNaN($);case 6:return isNaN($)||1>$}return!1}function v$1(xt,$,ht,vt,At,St,Ct){this.acceptsBooleans=$===2||$===3||$===4,this.attributeName=vt,this.attributeNamespace=At,this.mustUseProperty=ht,this.propertyName=xt,this.type=$,this.sanitizeURL=St,this.removeEmptyString=Ct}var z$1={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(xt){z$1[xt]=new v$1(xt,0,!1,xt,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(xt){var $=xt[0];z$1[$]=new v$1($,1,!1,xt[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(xt){z$1[xt]=new v$1(xt,2,!1,xt.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(xt){z$1[xt]=new v$1(xt,2,!1,xt,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(xt){z$1[xt]=new v$1(xt,3,!1,xt.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(xt){z$1[xt]=new v$1(xt,3,!0,xt,null,!1,!1)});["capture","download"].forEach(function(xt){z$1[xt]=new v$1(xt,4,!1,xt,null,!1,!1)});["cols","rows","size","span"].forEach(function(xt){z$1[xt]=new v$1(xt,6,!1,xt,null,!1,!1)});["rowSpan","start"].forEach(function(xt){z$1[xt]=new v$1(xt,5,!1,xt.toLowerCase(),null,!1,!1)});var ra=/[\-:]([a-z])/g;function sa(xt){return xt[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(xt){var $=xt.replace(ra,sa);z$1[$]=new v$1($,1,!1,xt,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(xt){var $=xt.replace(ra,sa);z$1[$]=new v$1($,1,!1,xt,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(xt){var $=xt.replace(ra,sa);z$1[$]=new v$1($,1,!1,xt,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(xt){z$1[xt]=new v$1(xt,1,!1,xt.toLowerCase(),null,!1,!1)});z$1.xlinkHref=new v$1("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(xt){z$1[xt]=new v$1(xt,1,!1,xt.toLowerCase(),null,!0,!0)});function ta(xt,$,ht,vt){var At=z$1.hasOwnProperty($)?z$1[$]:null;(At!==null?At.type!==0:vt||!(2<$.length)||$[0]!=="o"&&$[0]!=="O"||$[1]!=="n"&&$[1]!=="N")&&(qa($,ht,At,vt)&&(ht=null),vt||At===null?oa($)&&(ht===null?xt.removeAttribute($):xt.setAttribute($,""+ht)):At.mustUseProperty?xt[At.propertyName]=ht===null?At.type===3?!1:"":ht:($=At.attributeName,vt=At.attributeNamespace,ht===null?xt.removeAttribute($):(At=At.type,ht=At===3||At===4&&ht===!0?"":""+ht,vt?xt.setAttributeNS(vt,$,ht):xt.setAttribute($,ht))))}var ua=aa.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,va=Symbol.for("react.element"),wa=Symbol.for("react.portal"),ya=Symbol.for("react.fragment"),za=Symbol.for("react.strict_mode"),Aa=Symbol.for("react.profiler"),Ba=Symbol.for("react.provider"),Ca=Symbol.for("react.context"),Da=Symbol.for("react.forward_ref"),Ea=Symbol.for("react.suspense"),Fa=Symbol.for("react.suspense_list"),Ga=Symbol.for("react.memo"),Ha=Symbol.for("react.lazy"),Ia=Symbol.for("react.offscreen"),Ja=Symbol.iterator;function Ka(xt){return xt===null||typeof xt!="object"?null:(xt=Ja&&xt[Ja]||xt["@@iterator"],typeof xt=="function"?xt:null)}var A$3=Object.assign,La;function Ma(xt){if(La===void 0)try{throw Error()}catch(ht){var $=ht.stack.trim().match(/\n( *(at )?)/);La=$&&$[1]||""}return`
`+La+xt}var Na=!1;function Oa(xt,$){if(!xt||Na)return"";Na=!0;var ht=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if($)if($=function(){throw Error()},Object.defineProperty($.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct($,[])}catch(wt){var vt=wt}Reflect.construct(xt,[],$)}else{try{$.call()}catch(wt){vt=wt}xt.call($.prototype)}else{try{throw Error()}catch(wt){vt=wt}xt()}}catch(wt){if(wt&&vt&&typeof wt.stack=="string"){for(var At=wt.stack.split(`
`),St=vt.stack.split(`
`),Ct=At.length-1,Et=St.length-1;1<=Ct&&0<=Et&&At[Ct]!==St[Et];)Et--;for(;1<=Ct&&0<=Et;Ct--,Et--)if(At[Ct]!==St[Et]){if(Ct!==1||Et!==1)do if(Ct--,Et--,0>Et||At[Ct]!==St[Et]){var Ft=`
`+At[Ct].replace(" at new "," at ");return xt.displayName&&Ft.includes("<anonymous>")&&(Ft=Ft.replace("<anonymous>",xt.displayName)),Ft}while(1<=Ct&&0<=Et);break}}}finally{Na=!1,Error.prepareStackTrace=ht}return(xt=xt?xt.displayName||xt.name:"")?Ma(xt):""}function Pa(xt){switch(xt.tag){case 5:return Ma(xt.type);case 16:return Ma("Lazy");case 13:return Ma("Suspense");case 19:return Ma("SuspenseList");case 0:case 2:case 15:return xt=Oa(xt.type,!1),xt;case 11:return xt=Oa(xt.type.render,!1),xt;case 1:return xt=Oa(xt.type,!0),xt;default:return""}}function Qa(xt){if(xt==null)return null;if(typeof xt=="function")return xt.displayName||xt.name||null;if(typeof xt=="string")return xt;switch(xt){case ya:return"Fragment";case wa:return"Portal";case Aa:return"Profiler";case za:return"StrictMode";case Ea:return"Suspense";case Fa:return"SuspenseList"}if(typeof xt=="object")switch(xt.$$typeof){case Ca:return(xt.displayName||"Context")+".Consumer";case Ba:return(xt._context.displayName||"Context")+".Provider";case Da:var $=xt.render;return xt=xt.displayName,xt||(xt=$.displayName||$.name||"",xt=xt!==""?"ForwardRef("+xt+")":"ForwardRef"),xt;case Ga:return $=xt.displayName||null,$!==null?$:Qa(xt.type)||"Memo";case Ha:$=xt._payload,xt=xt._init;try{return Qa(xt($))}catch{}}return null}function Ra(xt){var $=xt.type;switch(xt.tag){case 24:return"Cache";case 9:return($.displayName||"Context")+".Consumer";case 10:return($._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return xt=$.render,xt=xt.displayName||xt.name||"",$.displayName||(xt!==""?"ForwardRef("+xt+")":"ForwardRef");case 7:return"Fragment";case 5:return $;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Qa($);case 8:return $===za?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof $=="function")return $.displayName||$.name||null;if(typeof $=="string")return $}return null}function Sa(xt){switch(typeof xt){case"boolean":case"number":case"string":case"undefined":return xt;case"object":return xt;default:return""}}function Ta(xt){var $=xt.type;return(xt=xt.nodeName)&&xt.toLowerCase()==="input"&&($==="checkbox"||$==="radio")}function Ua(xt){var $=Ta(xt)?"checked":"value",ht=Object.getOwnPropertyDescriptor(xt.constructor.prototype,$),vt=""+xt[$];if(!xt.hasOwnProperty($)&&typeof ht<"u"&&typeof ht.get=="function"&&typeof ht.set=="function"){var At=ht.get,St=ht.set;return Object.defineProperty(xt,$,{configurable:!0,get:function(){return At.call(this)},set:function(Ct){vt=""+Ct,St.call(this,Ct)}}),Object.defineProperty(xt,$,{enumerable:ht.enumerable}),{getValue:function(){return vt},setValue:function(Ct){vt=""+Ct},stopTracking:function(){xt._valueTracker=null,delete xt[$]}}}}function Va(xt){xt._valueTracker||(xt._valueTracker=Ua(xt))}function Wa(xt){if(!xt)return!1;var $=xt._valueTracker;if(!$)return!0;var ht=$.getValue(),vt="";return xt&&(vt=Ta(xt)?xt.checked?"true":"false":xt.value),xt=vt,xt!==ht?($.setValue(xt),!0):!1}function Xa(xt){if(xt=xt||(typeof document<"u"?document:void 0),typeof xt>"u")return null;try{return xt.activeElement||xt.body}catch{return xt.body}}function Ya(xt,$){var ht=$.checked;return A$3({},$,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:ht??xt._wrapperState.initialChecked})}function Za(xt,$){var ht=$.defaultValue==null?"":$.defaultValue,vt=$.checked!=null?$.checked:$.defaultChecked;ht=Sa($.value!=null?$.value:ht),xt._wrapperState={initialChecked:vt,initialValue:ht,controlled:$.type==="checkbox"||$.type==="radio"?$.checked!=null:$.value!=null}}function ab(xt,$){$=$.checked,$!=null&&ta(xt,"checked",$,!1)}function bb(xt,$){ab(xt,$);var ht=Sa($.value),vt=$.type;if(ht!=null)vt==="number"?(ht===0&&xt.value===""||xt.value!=ht)&&(xt.value=""+ht):xt.value!==""+ht&&(xt.value=""+ht);else if(vt==="submit"||vt==="reset"){xt.removeAttribute("value");return}$.hasOwnProperty("value")?cb(xt,$.type,ht):$.hasOwnProperty("defaultValue")&&cb(xt,$.type,Sa($.defaultValue)),$.checked==null&&$.defaultChecked!=null&&(xt.defaultChecked=!!$.defaultChecked)}function db(xt,$,ht){if($.hasOwnProperty("value")||$.hasOwnProperty("defaultValue")){var vt=$.type;if(!(vt!=="submit"&&vt!=="reset"||$.value!==void 0&&$.value!==null))return;$=""+xt._wrapperState.initialValue,ht||$===xt.value||(xt.value=$),xt.defaultValue=$}ht=xt.name,ht!==""&&(xt.name=""),xt.defaultChecked=!!xt._wrapperState.initialChecked,ht!==""&&(xt.name=ht)}function cb(xt,$,ht){($!=="number"||Xa(xt.ownerDocument)!==xt)&&(ht==null?xt.defaultValue=""+xt._wrapperState.initialValue:xt.defaultValue!==""+ht&&(xt.defaultValue=""+ht))}var eb=Array.isArray;function fb(xt,$,ht,vt){if(xt=xt.options,$){$={};for(var At=0;At<ht.length;At++)$["$"+ht[At]]=!0;for(ht=0;ht<xt.length;ht++)At=$.hasOwnProperty("$"+xt[ht].value),xt[ht].selected!==At&&(xt[ht].selected=At),At&&vt&&(xt[ht].defaultSelected=!0)}else{for(ht=""+Sa(ht),$=null,At=0;At<xt.length;At++){if(xt[At].value===ht){xt[At].selected=!0,vt&&(xt[At].defaultSelected=!0);return}$!==null||xt[At].disabled||($=xt[At])}$!==null&&($.selected=!0)}}function gb(xt,$){if($.dangerouslySetInnerHTML!=null)throw Error(p$4(91));return A$3({},$,{value:void 0,defaultValue:void 0,children:""+xt._wrapperState.initialValue})}function hb(xt,$){var ht=$.value;if(ht==null){if(ht=$.children,$=$.defaultValue,ht!=null){if($!=null)throw Error(p$4(92));if(eb(ht)){if(1<ht.length)throw Error(p$4(93));ht=ht[0]}$=ht}$==null&&($=""),ht=$}xt._wrapperState={initialValue:Sa(ht)}}function ib(xt,$){var ht=Sa($.value),vt=Sa($.defaultValue);ht!=null&&(ht=""+ht,ht!==xt.value&&(xt.value=ht),$.defaultValue==null&&xt.defaultValue!==ht&&(xt.defaultValue=ht)),vt!=null&&(xt.defaultValue=""+vt)}function jb(xt){var $=xt.textContent;$===xt._wrapperState.initialValue&&$!==""&&$!==null&&(xt.value=$)}function kb(xt){switch(xt){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function lb(xt,$){return xt==null||xt==="http://www.w3.org/1999/xhtml"?kb($):xt==="http://www.w3.org/2000/svg"&&$==="foreignObject"?"http://www.w3.org/1999/xhtml":xt}var mb,nb=function(xt){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function($,ht,vt,At){MSApp.execUnsafeLocalFunction(function(){return xt($,ht,vt,At)})}:xt}(function(xt,$){if(xt.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in xt)xt.innerHTML=$;else{for(mb=mb||document.createElement("div"),mb.innerHTML="<svg>"+$.valueOf().toString()+"</svg>",$=mb.firstChild;xt.firstChild;)xt.removeChild(xt.firstChild);for(;$.firstChild;)xt.appendChild($.firstChild)}});function ob(xt,$){if($){var ht=xt.firstChild;if(ht&&ht===xt.lastChild&&ht.nodeType===3){ht.nodeValue=$;return}}xt.textContent=$}var pb={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},qb=["Webkit","ms","Moz","O"];Object.keys(pb).forEach(function(xt){qb.forEach(function($){$=$+xt.charAt(0).toUpperCase()+xt.substring(1),pb[$]=pb[xt]})});function rb(xt,$,ht){return $==null||typeof $=="boolean"||$===""?"":ht||typeof $!="number"||$===0||pb.hasOwnProperty(xt)&&pb[xt]?(""+$).trim():$+"px"}function sb(xt,$){xt=xt.style;for(var ht in $)if($.hasOwnProperty(ht)){var vt=ht.indexOf("--")===0,At=rb(ht,$[ht],vt);ht==="float"&&(ht="cssFloat"),vt?xt.setProperty(ht,At):xt[ht]=At}}var tb=A$3({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ub(xt,$){if($){if(tb[xt]&&($.children!=null||$.dangerouslySetInnerHTML!=null))throw Error(p$4(137,xt));if($.dangerouslySetInnerHTML!=null){if($.children!=null)throw Error(p$4(60));if(typeof $.dangerouslySetInnerHTML!="object"||!("__html"in $.dangerouslySetInnerHTML))throw Error(p$4(61))}if($.style!=null&&typeof $.style!="object")throw Error(p$4(62))}}function vb(xt,$){if(xt.indexOf("-")===-1)return typeof $.is=="string";switch(xt){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var wb=null;function xb(xt){return xt=xt.target||xt.srcElement||window,xt.correspondingUseElement&&(xt=xt.correspondingUseElement),xt.nodeType===3?xt.parentNode:xt}var yb=null,zb=null,Ab=null;function Bb(xt){if(xt=Cb(xt)){if(typeof yb!="function")throw Error(p$4(280));var $=xt.stateNode;$&&($=Db($),yb(xt.stateNode,xt.type,$))}}function Eb(xt){zb?Ab?Ab.push(xt):Ab=[xt]:zb=xt}function Fb(){if(zb){var xt=zb,$=Ab;if(Ab=zb=null,Bb(xt),$)for(xt=0;xt<$.length;xt++)Bb($[xt])}}function Gb(xt,$){return xt($)}function Hb(){}var Ib=!1;function Jb(xt,$,ht){if(Ib)return xt($,ht);Ib=!0;try{return Gb(xt,$,ht)}finally{Ib=!1,(zb!==null||Ab!==null)&&(Hb(),Fb())}}function Kb(xt,$){var ht=xt.stateNode;if(ht===null)return null;var vt=Db(ht);if(vt===null)return null;ht=vt[$];e:switch($){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(vt=!vt.disabled)||(xt=xt.type,vt=!(xt==="button"||xt==="input"||xt==="select"||xt==="textarea")),xt=!vt;break e;default:xt=!1}if(xt)return null;if(ht&&typeof ht!="function")throw Error(p$4(231,$,typeof ht));return ht}var Lb=!1;if(ia)try{var Mb={};Object.defineProperty(Mb,"passive",{get:function(){Lb=!0}}),window.addEventListener("test",Mb,Mb),window.removeEventListener("test",Mb,Mb)}catch{Lb=!1}function Nb(xt,$,ht,vt,At,St,Ct,Et,Ft){var wt=Array.prototype.slice.call(arguments,3);try{$.apply(ht,wt)}catch(_t){this.onError(_t)}}var Ob=!1,Pb=null,Qb=!1,Rb=null,Sb={onError:function(xt){Ob=!0,Pb=xt}};function Tb(xt,$,ht,vt,At,St,Ct,Et,Ft){Ob=!1,Pb=null,Nb.apply(Sb,arguments)}function Ub(xt,$,ht,vt,At,St,Ct,Et,Ft){if(Tb.apply(this,arguments),Ob){if(Ob){var wt=Pb;Ob=!1,Pb=null}else throw Error(p$4(198));Qb||(Qb=!0,Rb=wt)}}function Vb(xt){var $=xt,ht=xt;if(xt.alternate)for(;$.return;)$=$.return;else{xt=$;do $=xt,$.flags&4098&&(ht=$.return),xt=$.return;while(xt)}return $.tag===3?ht:null}function Wb(xt){if(xt.tag===13){var $=xt.memoizedState;if($===null&&(xt=xt.alternate,xt!==null&&($=xt.memoizedState)),$!==null)return $.dehydrated}return null}function Xb(xt){if(Vb(xt)!==xt)throw Error(p$4(188))}function Yb(xt){var $=xt.alternate;if(!$){if($=Vb(xt),$===null)throw Error(p$4(188));return $!==xt?null:xt}for(var ht=xt,vt=$;;){var At=ht.return;if(At===null)break;var St=At.alternate;if(St===null){if(vt=At.return,vt!==null){ht=vt;continue}break}if(At.child===St.child){for(St=At.child;St;){if(St===ht)return Xb(At),xt;if(St===vt)return Xb(At),$;St=St.sibling}throw Error(p$4(188))}if(ht.return!==vt.return)ht=At,vt=St;else{for(var Ct=!1,Et=At.child;Et;){if(Et===ht){Ct=!0,ht=At,vt=St;break}if(Et===vt){Ct=!0,vt=At,ht=St;break}Et=Et.sibling}if(!Ct){for(Et=St.child;Et;){if(Et===ht){Ct=!0,ht=St,vt=At;break}if(Et===vt){Ct=!0,vt=St,ht=At;break}Et=Et.sibling}if(!Ct)throw Error(p$4(189))}}if(ht.alternate!==vt)throw Error(p$4(190))}if(ht.tag!==3)throw Error(p$4(188));return ht.stateNode.current===ht?xt:$}function Zb(xt){return xt=Yb(xt),xt!==null?$b(xt):null}function $b(xt){if(xt.tag===5||xt.tag===6)return xt;for(xt=xt.child;xt!==null;){var $=$b(xt);if($!==null)return $;xt=xt.sibling}return null}var ac=ca.unstable_scheduleCallback,bc=ca.unstable_cancelCallback,cc=ca.unstable_shouldYield,dc=ca.unstable_requestPaint,B$1=ca.unstable_now,ec=ca.unstable_getCurrentPriorityLevel,fc=ca.unstable_ImmediatePriority,gc=ca.unstable_UserBlockingPriority,hc=ca.unstable_NormalPriority,ic=ca.unstable_LowPriority,jc=ca.unstable_IdlePriority,kc=null,lc=null;function mc(xt){if(lc&&typeof lc.onCommitFiberRoot=="function")try{lc.onCommitFiberRoot(kc,xt,void 0,(xt.current.flags&128)===128)}catch{}}var oc=Math.clz32?Math.clz32:nc,pc=Math.log,qc=Math.LN2;function nc(xt){return xt>>>=0,xt===0?32:31-(pc(xt)/qc|0)|0}var rc=64,sc=4194304;function tc(xt){switch(xt&-xt){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return xt&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return xt&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return xt}}function uc(xt,$){var ht=xt.pendingLanes;if(ht===0)return 0;var vt=0,At=xt.suspendedLanes,St=xt.pingedLanes,Ct=ht&268435455;if(Ct!==0){var Et=Ct&~At;Et!==0?vt=tc(Et):(St&=Ct,St!==0&&(vt=tc(St)))}else Ct=ht&~At,Ct!==0?vt=tc(Ct):St!==0&&(vt=tc(St));if(vt===0)return 0;if($!==0&&$!==vt&&!($&At)&&(At=vt&-vt,St=$&-$,At>=St||At===16&&(St&4194240)!==0))return $;if(vt&4&&(vt|=ht&16),$=xt.entangledLanes,$!==0)for(xt=xt.entanglements,$&=vt;0<$;)ht=31-oc($),At=1<<ht,vt|=xt[ht],$&=~At;return vt}function vc(xt,$){switch(xt){case 1:case 2:case 4:return $+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return $+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function wc(xt,$){for(var ht=xt.suspendedLanes,vt=xt.pingedLanes,At=xt.expirationTimes,St=xt.pendingLanes;0<St;){var Ct=31-oc(St),Et=1<<Ct,Ft=At[Ct];Ft===-1?(!(Et&ht)||Et&vt)&&(At[Ct]=vc(Et,$)):Ft<=$&&(xt.expiredLanes|=Et),St&=~Et}}function xc(xt){return xt=xt.pendingLanes&-1073741825,xt!==0?xt:xt&1073741824?1073741824:0}function yc(){var xt=rc;return rc<<=1,!(rc&4194240)&&(rc=64),xt}function zc(xt){for(var $=[],ht=0;31>ht;ht++)$.push(xt);return $}function Ac(xt,$,ht){xt.pendingLanes|=$,$!==536870912&&(xt.suspendedLanes=0,xt.pingedLanes=0),xt=xt.eventTimes,$=31-oc($),xt[$]=ht}function Bc(xt,$){var ht=xt.pendingLanes&~$;xt.pendingLanes=$,xt.suspendedLanes=0,xt.pingedLanes=0,xt.expiredLanes&=$,xt.mutableReadLanes&=$,xt.entangledLanes&=$,$=xt.entanglements;var vt=xt.eventTimes;for(xt=xt.expirationTimes;0<ht;){var At=31-oc(ht),St=1<<At;$[At]=0,vt[At]=-1,xt[At]=-1,ht&=~St}}function Cc(xt,$){var ht=xt.entangledLanes|=$;for(xt=xt.entanglements;ht;){var vt=31-oc(ht),At=1<<vt;At&$|xt[vt]&$&&(xt[vt]|=$),ht&=~At}}var C$1=0;function Dc(xt){return xt&=-xt,1<xt?4<xt?xt&268435455?16:536870912:4:1}var Ec,Fc,Gc,Hc,Ic,Jc=!1,Kc=[],Lc=null,Mc=null,Nc=null,Oc=new Map,Pc=new Map,Qc=[],Rc="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Sc(xt,$){switch(xt){case"focusin":case"focusout":Lc=null;break;case"dragenter":case"dragleave":Mc=null;break;case"mouseover":case"mouseout":Nc=null;break;case"pointerover":case"pointerout":Oc.delete($.pointerId);break;case"gotpointercapture":case"lostpointercapture":Pc.delete($.pointerId)}}function Tc(xt,$,ht,vt,At,St){return xt===null||xt.nativeEvent!==St?(xt={blockedOn:$,domEventName:ht,eventSystemFlags:vt,nativeEvent:St,targetContainers:[At]},$!==null&&($=Cb($),$!==null&&Fc($)),xt):(xt.eventSystemFlags|=vt,$=xt.targetContainers,At!==null&&$.indexOf(At)===-1&&$.push(At),xt)}function Uc(xt,$,ht,vt,At){switch($){case"focusin":return Lc=Tc(Lc,xt,$,ht,vt,At),!0;case"dragenter":return Mc=Tc(Mc,xt,$,ht,vt,At),!0;case"mouseover":return Nc=Tc(Nc,xt,$,ht,vt,At),!0;case"pointerover":var St=At.pointerId;return Oc.set(St,Tc(Oc.get(St)||null,xt,$,ht,vt,At)),!0;case"gotpointercapture":return St=At.pointerId,Pc.set(St,Tc(Pc.get(St)||null,xt,$,ht,vt,At)),!0}return!1}function Vc(xt){var $=Wc(xt.target);if($!==null){var ht=Vb($);if(ht!==null){if($=ht.tag,$===13){if($=Wb(ht),$!==null){xt.blockedOn=$,Ic(xt.priority,function(){Gc(ht)});return}}else if($===3&&ht.stateNode.current.memoizedState.isDehydrated){xt.blockedOn=ht.tag===3?ht.stateNode.containerInfo:null;return}}}xt.blockedOn=null}function Xc(xt){if(xt.blockedOn!==null)return!1;for(var $=xt.targetContainers;0<$.length;){var ht=Yc(xt.domEventName,xt.eventSystemFlags,$[0],xt.nativeEvent);if(ht===null){ht=xt.nativeEvent;var vt=new ht.constructor(ht.type,ht);wb=vt,ht.target.dispatchEvent(vt),wb=null}else return $=Cb(ht),$!==null&&Fc($),xt.blockedOn=ht,!1;$.shift()}return!0}function Zc(xt,$,ht){Xc(xt)&&ht.delete($)}function $c(){Jc=!1,Lc!==null&&Xc(Lc)&&(Lc=null),Mc!==null&&Xc(Mc)&&(Mc=null),Nc!==null&&Xc(Nc)&&(Nc=null),Oc.forEach(Zc),Pc.forEach(Zc)}function ad(xt,$){xt.blockedOn===$&&(xt.blockedOn=null,Jc||(Jc=!0,ca.unstable_scheduleCallback(ca.unstable_NormalPriority,$c)))}function bd(xt){function $(At){return ad(At,xt)}if(0<Kc.length){ad(Kc[0],xt);for(var ht=1;ht<Kc.length;ht++){var vt=Kc[ht];vt.blockedOn===xt&&(vt.blockedOn=null)}}for(Lc!==null&&ad(Lc,xt),Mc!==null&&ad(Mc,xt),Nc!==null&&ad(Nc,xt),Oc.forEach($),Pc.forEach($),ht=0;ht<Qc.length;ht++)vt=Qc[ht],vt.blockedOn===xt&&(vt.blockedOn=null);for(;0<Qc.length&&(ht=Qc[0],ht.blockedOn===null);)Vc(ht),ht.blockedOn===null&&Qc.shift()}var cd=ua.ReactCurrentBatchConfig,dd=!0;function ed(xt,$,ht,vt){var At=C$1,St=cd.transition;cd.transition=null;try{C$1=1,fd(xt,$,ht,vt)}finally{C$1=At,cd.transition=St}}function gd(xt,$,ht,vt){var At=C$1,St=cd.transition;cd.transition=null;try{C$1=4,fd(xt,$,ht,vt)}finally{C$1=At,cd.transition=St}}function fd(xt,$,ht,vt){if(dd){var At=Yc(xt,$,ht,vt);if(At===null)hd(xt,$,vt,id,ht),Sc(xt,vt);else if(Uc(At,xt,$,ht,vt))vt.stopPropagation();else if(Sc(xt,vt),$&4&&-1<Rc.indexOf(xt)){for(;At!==null;){var St=Cb(At);if(St!==null&&Ec(St),St=Yc(xt,$,ht,vt),St===null&&hd(xt,$,vt,id,ht),St===At)break;At=St}At!==null&&vt.stopPropagation()}else hd(xt,$,vt,null,ht)}}var id=null;function Yc(xt,$,ht,vt){if(id=null,xt=xb(vt),xt=Wc(xt),xt!==null)if($=Vb(xt),$===null)xt=null;else if(ht=$.tag,ht===13){if(xt=Wb($),xt!==null)return xt;xt=null}else if(ht===3){if($.stateNode.current.memoizedState.isDehydrated)return $.tag===3?$.stateNode.containerInfo:null;xt=null}else $!==xt&&(xt=null);return id=xt,null}function jd(xt){switch(xt){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(ec()){case fc:return 1;case gc:return 4;case hc:case ic:return 16;case jc:return 536870912;default:return 16}default:return 16}}var kd=null,ld=null,md=null;function nd(){if(md)return md;var xt,$=ld,ht=$.length,vt,At="value"in kd?kd.value:kd.textContent,St=At.length;for(xt=0;xt<ht&&$[xt]===At[xt];xt++);var Ct=ht-xt;for(vt=1;vt<=Ct&&$[ht-vt]===At[St-vt];vt++);return md=At.slice(xt,1<vt?1-vt:void 0)}function od(xt){var $=xt.keyCode;return"charCode"in xt?(xt=xt.charCode,xt===0&&$===13&&(xt=13)):xt=$,xt===10&&(xt=13),32<=xt||xt===13?xt:0}function pd(){return!0}function qd(){return!1}function rd(xt){function $(ht,vt,At,St,Ct){this._reactName=ht,this._targetInst=At,this.type=vt,this.nativeEvent=St,this.target=Ct,this.currentTarget=null;for(var Et in xt)xt.hasOwnProperty(Et)&&(ht=xt[Et],this[Et]=ht?ht(St):St[Et]);return this.isDefaultPrevented=(St.defaultPrevented!=null?St.defaultPrevented:St.returnValue===!1)?pd:qd,this.isPropagationStopped=qd,this}return A$3($.prototype,{preventDefault:function(){this.defaultPrevented=!0;var ht=this.nativeEvent;ht&&(ht.preventDefault?ht.preventDefault():typeof ht.returnValue!="unknown"&&(ht.returnValue=!1),this.isDefaultPrevented=pd)},stopPropagation:function(){var ht=this.nativeEvent;ht&&(ht.stopPropagation?ht.stopPropagation():typeof ht.cancelBubble!="unknown"&&(ht.cancelBubble=!0),this.isPropagationStopped=pd)},persist:function(){},isPersistent:pd}),$}var sd={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(xt){return xt.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},td=rd(sd),ud=A$3({},sd,{view:0,detail:0}),vd=rd(ud),wd,xd,yd,Ad=A$3({},ud,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:zd,button:0,buttons:0,relatedTarget:function(xt){return xt.relatedTarget===void 0?xt.fromElement===xt.srcElement?xt.toElement:xt.fromElement:xt.relatedTarget},movementX:function(xt){return"movementX"in xt?xt.movementX:(xt!==yd&&(yd&&xt.type==="mousemove"?(wd=xt.screenX-yd.screenX,xd=xt.screenY-yd.screenY):xd=wd=0,yd=xt),wd)},movementY:function(xt){return"movementY"in xt?xt.movementY:xd}}),Bd=rd(Ad),Cd=A$3({},Ad,{dataTransfer:0}),Dd=rd(Cd),Ed=A$3({},ud,{relatedTarget:0}),Fd=rd(Ed),Gd=A$3({},sd,{animationName:0,elapsedTime:0,pseudoElement:0}),Hd=rd(Gd),Id=A$3({},sd,{clipboardData:function(xt){return"clipboardData"in xt?xt.clipboardData:window.clipboardData}}),Jd=rd(Id),Kd=A$3({},sd,{data:0}),Ld=rd(Kd),Md={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Nd={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Od={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Pd(xt){var $=this.nativeEvent;return $.getModifierState?$.getModifierState(xt):(xt=Od[xt])?!!$[xt]:!1}function zd(){return Pd}var Qd=A$3({},ud,{key:function(xt){if(xt.key){var $=Md[xt.key]||xt.key;if($!=="Unidentified")return $}return xt.type==="keypress"?(xt=od(xt),xt===13?"Enter":String.fromCharCode(xt)):xt.type==="keydown"||xt.type==="keyup"?Nd[xt.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:zd,charCode:function(xt){return xt.type==="keypress"?od(xt):0},keyCode:function(xt){return xt.type==="keydown"||xt.type==="keyup"?xt.keyCode:0},which:function(xt){return xt.type==="keypress"?od(xt):xt.type==="keydown"||xt.type==="keyup"?xt.keyCode:0}}),Rd=rd(Qd),Sd=A$3({},Ad,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Td=rd(Sd),Ud=A$3({},ud,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:zd}),Vd=rd(Ud),Wd=A$3({},sd,{propertyName:0,elapsedTime:0,pseudoElement:0}),Xd=rd(Wd),Yd=A$3({},Ad,{deltaX:function(xt){return"deltaX"in xt?xt.deltaX:"wheelDeltaX"in xt?-xt.wheelDeltaX:0},deltaY:function(xt){return"deltaY"in xt?xt.deltaY:"wheelDeltaY"in xt?-xt.wheelDeltaY:"wheelDelta"in xt?-xt.wheelDelta:0},deltaZ:0,deltaMode:0}),Zd=rd(Yd),$d=[9,13,27,32],ae=ia&&"CompositionEvent"in window,be$1=null;ia&&"documentMode"in document&&(be$1=document.documentMode);var ce$1=ia&&"TextEvent"in window&&!be$1,de=ia&&(!ae||be$1&&8<be$1&&11>=be$1),ee=" ",fe=!1;function ge(xt,$){switch(xt){case"keyup":return $d.indexOf($.keyCode)!==-1;case"keydown":return $.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function he(xt){return xt=xt.detail,typeof xt=="object"&&"data"in xt?xt.data:null}var ie=!1;function je(xt,$){switch(xt){case"compositionend":return he($);case"keypress":return $.which!==32?null:(fe=!0,ee);case"textInput":return xt=$.data,xt===ee&&fe?null:xt;default:return null}}function ke(xt,$){if(ie)return xt==="compositionend"||!ae&&ge(xt,$)?(xt=nd(),md=ld=kd=null,ie=!1,xt):null;switch(xt){case"paste":return null;case"keypress":if(!($.ctrlKey||$.altKey||$.metaKey)||$.ctrlKey&&$.altKey){if($.char&&1<$.char.length)return $.char;if($.which)return String.fromCharCode($.which)}return null;case"compositionend":return de&&$.locale!=="ko"?null:$.data;default:return null}}var le={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function me(xt){var $=xt&&xt.nodeName&&xt.nodeName.toLowerCase();return $==="input"?!!le[xt.type]:$==="textarea"}function ne(xt,$,ht,vt){Eb(vt),$=oe($,"onChange"),0<$.length&&(ht=new td("onChange","change",null,ht,vt),xt.push({event:ht,listeners:$}))}var pe$1=null,qe$1=null;function re(xt){se(xt,0)}function te$1(xt){var $=ue(xt);if(Wa($))return xt}function ve$1(xt,$){if(xt==="change")return $}var we=!1;if(ia){var xe$1;if(ia){var ye$1="oninput"in document;if(!ye$1){var ze$1=document.createElement("div");ze$1.setAttribute("oninput","return;"),ye$1=typeof ze$1.oninput=="function"}xe$1=ye$1}else xe$1=!1;we=xe$1&&(!document.documentMode||9<document.documentMode)}function Ae(){pe$1&&(pe$1.detachEvent("onpropertychange",Be),qe$1=pe$1=null)}function Be(xt){if(xt.propertyName==="value"&&te$1(qe$1)){var $=[];ne($,qe$1,xt,xb(xt)),Jb(re,$)}}function Ce(xt,$,ht){xt==="focusin"?(Ae(),pe$1=$,qe$1=ht,pe$1.attachEvent("onpropertychange",Be)):xt==="focusout"&&Ae()}function De(xt){if(xt==="selectionchange"||xt==="keyup"||xt==="keydown")return te$1(qe$1)}function Ee(xt,$){if(xt==="click")return te$1($)}function Fe$1(xt,$){if(xt==="input"||xt==="change")return te$1($)}function Ge(xt,$){return xt===$&&(xt!==0||1/xt===1/$)||xt!==xt&&$!==$}var He=typeof Object.is=="function"?Object.is:Ge;function Ie(xt,$){if(He(xt,$))return!0;if(typeof xt!="object"||xt===null||typeof $!="object"||$===null)return!1;var ht=Object.keys(xt),vt=Object.keys($);if(ht.length!==vt.length)return!1;for(vt=0;vt<ht.length;vt++){var At=ht[vt];if(!ja.call($,At)||!He(xt[At],$[At]))return!1}return!0}function Je$1(xt){for(;xt&&xt.firstChild;)xt=xt.firstChild;return xt}function Ke(xt,$){var ht=Je$1(xt);xt=0;for(var vt;ht;){if(ht.nodeType===3){if(vt=xt+ht.textContent.length,xt<=$&&vt>=$)return{node:ht,offset:$-xt};xt=vt}e:{for(;ht;){if(ht.nextSibling){ht=ht.nextSibling;break e}ht=ht.parentNode}ht=void 0}ht=Je$1(ht)}}function Le(xt,$){return xt&&$?xt===$?!0:xt&&xt.nodeType===3?!1:$&&$.nodeType===3?Le(xt,$.parentNode):"contains"in xt?xt.contains($):xt.compareDocumentPosition?!!(xt.compareDocumentPosition($)&16):!1:!1}function Me(){for(var xt=window,$=Xa();$ instanceof xt.HTMLIFrameElement;){try{var ht=typeof $.contentWindow.location.href=="string"}catch{ht=!1}if(ht)xt=$.contentWindow;else break;$=Xa(xt.document)}return $}function Ne(xt){var $=xt&&xt.nodeName&&xt.nodeName.toLowerCase();return $&&($==="input"&&(xt.type==="text"||xt.type==="search"||xt.type==="tel"||xt.type==="url"||xt.type==="password")||$==="textarea"||xt.contentEditable==="true")}function Oe(xt){var $=Me(),ht=xt.focusedElem,vt=xt.selectionRange;if($!==ht&&ht&&ht.ownerDocument&&Le(ht.ownerDocument.documentElement,ht)){if(vt!==null&&Ne(ht)){if($=vt.start,xt=vt.end,xt===void 0&&(xt=$),"selectionStart"in ht)ht.selectionStart=$,ht.selectionEnd=Math.min(xt,ht.value.length);else if(xt=($=ht.ownerDocument||document)&&$.defaultView||window,xt.getSelection){xt=xt.getSelection();var At=ht.textContent.length,St=Math.min(vt.start,At);vt=vt.end===void 0?St:Math.min(vt.end,At),!xt.extend&&St>vt&&(At=vt,vt=St,St=At),At=Ke(ht,St);var Ct=Ke(ht,vt);At&&Ct&&(xt.rangeCount!==1||xt.anchorNode!==At.node||xt.anchorOffset!==At.offset||xt.focusNode!==Ct.node||xt.focusOffset!==Ct.offset)&&($=$.createRange(),$.setStart(At.node,At.offset),xt.removeAllRanges(),St>vt?(xt.addRange($),xt.extend(Ct.node,Ct.offset)):($.setEnd(Ct.node,Ct.offset),xt.addRange($)))}}for($=[],xt=ht;xt=xt.parentNode;)xt.nodeType===1&&$.push({element:xt,left:xt.scrollLeft,top:xt.scrollTop});for(typeof ht.focus=="function"&&ht.focus(),ht=0;ht<$.length;ht++)xt=$[ht],xt.element.scrollLeft=xt.left,xt.element.scrollTop=xt.top}}var Pe=ia&&"documentMode"in document&&11>=document.documentMode,Qe=null,Re$1=null,Se=null,Te=!1;function Ue(xt,$,ht){var vt=ht.window===ht?ht.document:ht.nodeType===9?ht:ht.ownerDocument;Te||Qe==null||Qe!==Xa(vt)||(vt=Qe,"selectionStart"in vt&&Ne(vt)?vt={start:vt.selectionStart,end:vt.selectionEnd}:(vt=(vt.ownerDocument&&vt.ownerDocument.defaultView||window).getSelection(),vt={anchorNode:vt.anchorNode,anchorOffset:vt.anchorOffset,focusNode:vt.focusNode,focusOffset:vt.focusOffset}),Se&&Ie(Se,vt)||(Se=vt,vt=oe(Re$1,"onSelect"),0<vt.length&&($=new td("onSelect","select",null,$,ht),xt.push({event:$,listeners:vt}),$.target=Qe)))}function Ve$1(xt,$){var ht={};return ht[xt.toLowerCase()]=$.toLowerCase(),ht["Webkit"+xt]="webkit"+$,ht["Moz"+xt]="moz"+$,ht}var We={animationend:Ve$1("Animation","AnimationEnd"),animationiteration:Ve$1("Animation","AnimationIteration"),animationstart:Ve$1("Animation","AnimationStart"),transitionend:Ve$1("Transition","TransitionEnd")},Xe$1={},Ye$1={};ia&&(Ye$1=document.createElement("div").style,"AnimationEvent"in window||(delete We.animationend.animation,delete We.animationiteration.animation,delete We.animationstart.animation),"TransitionEvent"in window||delete We.transitionend.transition);function Ze$1(xt){if(Xe$1[xt])return Xe$1[xt];if(!We[xt])return xt;var $=We[xt],ht;for(ht in $)if($.hasOwnProperty(ht)&&ht in Ye$1)return Xe$1[xt]=$[ht];return xt}var $e$1=Ze$1("animationend"),af=Ze$1("animationiteration"),bf=Ze$1("animationstart"),cf=Ze$1("transitionend"),df=new Map,ef="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ff(xt,$){df.set(xt,$),fa($,[xt])}for(var gf=0;gf<ef.length;gf++){var hf=ef[gf],jf=hf.toLowerCase(),kf=hf[0].toUpperCase()+hf.slice(1);ff(jf,"on"+kf)}ff($e$1,"onAnimationEnd");ff(af,"onAnimationIteration");ff(bf,"onAnimationStart");ff("dblclick","onDoubleClick");ff("focusin","onFocus");ff("focusout","onBlur");ff(cf,"onTransitionEnd");ha("onMouseEnter",["mouseout","mouseover"]);ha("onMouseLeave",["mouseout","mouseover"]);ha("onPointerEnter",["pointerout","pointerover"]);ha("onPointerLeave",["pointerout","pointerover"]);fa("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));fa("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));fa("onBeforeInput",["compositionend","keypress","textInput","paste"]);fa("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));fa("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));fa("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var lf="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),mf=new Set("cancel close invalid load scroll toggle".split(" ").concat(lf));function nf(xt,$,ht){var vt=xt.type||"unknown-event";xt.currentTarget=ht,Ub(vt,$,void 0,xt),xt.currentTarget=null}function se(xt,$){$=($&4)!==0;for(var ht=0;ht<xt.length;ht++){var vt=xt[ht],At=vt.event;vt=vt.listeners;e:{var St=void 0;if($)for(var Ct=vt.length-1;0<=Ct;Ct--){var Et=vt[Ct],Ft=Et.instance,wt=Et.currentTarget;if(Et=Et.listener,Ft!==St&&At.isPropagationStopped())break e;nf(At,Et,wt),St=Ft}else for(Ct=0;Ct<vt.length;Ct++){if(Et=vt[Ct],Ft=Et.instance,wt=Et.currentTarget,Et=Et.listener,Ft!==St&&At.isPropagationStopped())break e;nf(At,Et,wt),St=Ft}}}if(Qb)throw xt=Rb,Qb=!1,Rb=null,xt}function D$4(xt,$){var ht=$[of];ht===void 0&&(ht=$[of]=new Set);var vt=xt+"__bubble";ht.has(vt)||(pf($,xt,2,!1),ht.add(vt))}function qf(xt,$,ht){var vt=0;$&&(vt|=4),pf(ht,xt,vt,$)}var rf="_reactListening"+Math.random().toString(36).slice(2);function sf(xt){if(!xt[rf]){xt[rf]=!0,da.forEach(function(ht){ht!=="selectionchange"&&(mf.has(ht)||qf(ht,!1,xt),qf(ht,!0,xt))});var $=xt.nodeType===9?xt:xt.ownerDocument;$===null||$[rf]||($[rf]=!0,qf("selectionchange",!1,$))}}function pf(xt,$,ht,vt){switch(jd($)){case 1:var At=ed;break;case 4:At=gd;break;default:At=fd}ht=At.bind(null,$,ht,xt),At=void 0,!Lb||$!=="touchstart"&&$!=="touchmove"&&$!=="wheel"||(At=!0),vt?At!==void 0?xt.addEventListener($,ht,{capture:!0,passive:At}):xt.addEventListener($,ht,!0):At!==void 0?xt.addEventListener($,ht,{passive:At}):xt.addEventListener($,ht,!1)}function hd(xt,$,ht,vt,At){var St=vt;if(!($&1)&&!($&2)&&vt!==null)e:for(;;){if(vt===null)return;var Ct=vt.tag;if(Ct===3||Ct===4){var Et=vt.stateNode.containerInfo;if(Et===At||Et.nodeType===8&&Et.parentNode===At)break;if(Ct===4)for(Ct=vt.return;Ct!==null;){var Ft=Ct.tag;if((Ft===3||Ft===4)&&(Ft=Ct.stateNode.containerInfo,Ft===At||Ft.nodeType===8&&Ft.parentNode===At))return;Ct=Ct.return}for(;Et!==null;){if(Ct=Wc(Et),Ct===null)return;if(Ft=Ct.tag,Ft===5||Ft===6){vt=St=Ct;continue e}Et=Et.parentNode}}vt=vt.return}Jb(function(){var wt=St,_t=xb(ht),Rt=[];e:{var _e=df.get(xt);if(_e!==void 0){var bt=td,Pt=xt;switch(xt){case"keypress":if(od(ht)===0)break e;case"keydown":case"keyup":bt=Rd;break;case"focusin":Pt="focus",bt=Fd;break;case"focusout":Pt="blur",bt=Fd;break;case"beforeblur":case"afterblur":bt=Fd;break;case"click":if(ht.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":bt=Bd;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":bt=Dd;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":bt=Vd;break;case $e$1:case af:case bf:bt=Hd;break;case cf:bt=Xd;break;case"scroll":bt=vd;break;case"wheel":bt=Zd;break;case"copy":case"cut":case"paste":bt=Jd;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":bt=Td}var Xt=($&4)!==0,Kt=!Xt&&xt==="scroll",Nt=Xt?_e!==null?_e+"Capture":null:_e;Xt=[];for(var $t=wt,Lt;$t!==null;){Lt=$t;var jt=Lt.stateNode;if(Lt.tag===5&&jt!==null&&(Lt=jt,Nt!==null&&(jt=Kb($t,Nt),jt!=null&&Xt.push(tf($t,jt,Lt)))),Kt)break;$t=$t.return}0<Xt.length&&(_e=new bt(_e,Pt,null,ht,_t),Rt.push({event:_e,listeners:Xt}))}}if(!($&7)){e:{if(_e=xt==="mouseover"||xt==="pointerover",bt=xt==="mouseout"||xt==="pointerout",_e&&ht!==wb&&(Pt=ht.relatedTarget||ht.fromElement)&&(Wc(Pt)||Pt[uf]))break e;if((bt||_e)&&(_e=_t.window===_t?_t:(_e=_t.ownerDocument)?_e.defaultView||_e.parentWindow:window,bt?(Pt=ht.relatedTarget||ht.toElement,bt=wt,Pt=Pt?Wc(Pt):null,Pt!==null&&(Kt=Vb(Pt),Pt!==Kt||Pt.tag!==5&&Pt.tag!==6)&&(Pt=null)):(bt=null,Pt=wt),bt!==Pt)){if(Xt=Bd,jt="onMouseLeave",Nt="onMouseEnter",$t="mouse",(xt==="pointerout"||xt==="pointerover")&&(Xt=Td,jt="onPointerLeave",Nt="onPointerEnter",$t="pointer"),Kt=bt==null?_e:ue(bt),Lt=Pt==null?_e:ue(Pt),_e=new Xt(jt,$t+"leave",bt,ht,_t),_e.target=Kt,_e.relatedTarget=Lt,jt=null,Wc(_t)===wt&&(Xt=new Xt(Nt,$t+"enter",Pt,ht,_t),Xt.target=Lt,Xt.relatedTarget=Kt,jt=Xt),Kt=jt,bt&&Pt)t:{for(Xt=bt,Nt=Pt,$t=0,Lt=Xt;Lt;Lt=vf(Lt))$t++;for(Lt=0,jt=Nt;jt;jt=vf(jt))Lt++;for(;0<$t-Lt;)Xt=vf(Xt),$t--;for(;0<Lt-$t;)Nt=vf(Nt),Lt--;for(;$t--;){if(Xt===Nt||Nt!==null&&Xt===Nt.alternate)break t;Xt=vf(Xt),Nt=vf(Nt)}Xt=null}else Xt=null;bt!==null&&wf(Rt,_e,bt,Xt,!1),Pt!==null&&Kt!==null&&wf(Rt,Kt,Pt,Xt,!0)}}e:{if(_e=wt?ue(wt):window,bt=_e.nodeName&&_e.nodeName.toLowerCase(),bt==="select"||bt==="input"&&_e.type==="file")var kt=ve$1;else if(me(_e))if(we)kt=Fe$1;else{kt=De;var qt=Ce}else(bt=_e.nodeName)&&bt.toLowerCase()==="input"&&(_e.type==="checkbox"||_e.type==="radio")&&(kt=Ee);if(kt&&(kt=kt(xt,wt))){ne(Rt,kt,ht,_t);break e}qt&&qt(xt,_e,wt),xt==="focusout"&&(qt=_e._wrapperState)&&qt.controlled&&_e.type==="number"&&cb(_e,"number",_e.value)}switch(qt=wt?ue(wt):window,xt){case"focusin":(me(qt)||qt.contentEditable==="true")&&(Qe=qt,Re$1=wt,Se=null);break;case"focusout":Se=Re$1=Qe=null;break;case"mousedown":Te=!0;break;case"contextmenu":case"mouseup":case"dragend":Te=!1,Ue(Rt,ht,_t);break;case"selectionchange":if(Pe)break;case"keydown":case"keyup":Ue(Rt,ht,_t)}var Bt;if(ae)e:{switch(xt){case"compositionstart":var Gt="onCompositionStart";break e;case"compositionend":Gt="onCompositionEnd";break e;case"compositionupdate":Gt="onCompositionUpdate";break e}Gt=void 0}else ie?ge(xt,ht)&&(Gt="onCompositionEnd"):xt==="keydown"&&ht.keyCode===229&&(Gt="onCompositionStart");Gt&&(de&&ht.locale!=="ko"&&(ie||Gt!=="onCompositionStart"?Gt==="onCompositionEnd"&&ie&&(Bt=nd()):(kd=_t,ld="value"in kd?kd.value:kd.textContent,ie=!0)),qt=oe(wt,Gt),0<qt.length&&(Gt=new Ld(Gt,xt,null,ht,_t),Rt.push({event:Gt,listeners:qt}),Bt?Gt.data=Bt:(Bt=he(ht),Bt!==null&&(Gt.data=Bt)))),(Bt=ce$1?je(xt,ht):ke(xt,ht))&&(wt=oe(wt,"onBeforeInput"),0<wt.length&&(_t=new Ld("onBeforeInput","beforeinput",null,ht,_t),Rt.push({event:_t,listeners:wt}),_t.data=Bt))}se(Rt,$)})}function tf(xt,$,ht){return{instance:xt,listener:$,currentTarget:ht}}function oe(xt,$){for(var ht=$+"Capture",vt=[];xt!==null;){var At=xt,St=At.stateNode;At.tag===5&&St!==null&&(At=St,St=Kb(xt,ht),St!=null&&vt.unshift(tf(xt,St,At)),St=Kb(xt,$),St!=null&&vt.push(tf(xt,St,At))),xt=xt.return}return vt}function vf(xt){if(xt===null)return null;do xt=xt.return;while(xt&&xt.tag!==5);return xt||null}function wf(xt,$,ht,vt,At){for(var St=$._reactName,Ct=[];ht!==null&&ht!==vt;){var Et=ht,Ft=Et.alternate,wt=Et.stateNode;if(Ft!==null&&Ft===vt)break;Et.tag===5&&wt!==null&&(Et=wt,At?(Ft=Kb(ht,St),Ft!=null&&Ct.unshift(tf(ht,Ft,Et))):At||(Ft=Kb(ht,St),Ft!=null&&Ct.push(tf(ht,Ft,Et)))),ht=ht.return}Ct.length!==0&&xt.push({event:$,listeners:Ct})}var xf=/\r\n?/g,yf=/\u0000|\uFFFD/g;function zf(xt){return(typeof xt=="string"?xt:""+xt).replace(xf,`
`).replace(yf,"")}function Af(xt,$,ht){if($=zf($),zf(xt)!==$&&ht)throw Error(p$4(425))}function Bf(){}var Cf=null,Df=null;function Ef(xt,$){return xt==="textarea"||xt==="noscript"||typeof $.children=="string"||typeof $.children=="number"||typeof $.dangerouslySetInnerHTML=="object"&&$.dangerouslySetInnerHTML!==null&&$.dangerouslySetInnerHTML.__html!=null}var Ff=typeof setTimeout=="function"?setTimeout:void 0,Gf=typeof clearTimeout=="function"?clearTimeout:void 0,Hf=typeof Promise=="function"?Promise:void 0,Jf=typeof queueMicrotask=="function"?queueMicrotask:typeof Hf<"u"?function(xt){return Hf.resolve(null).then(xt).catch(If)}:Ff;function If(xt){setTimeout(function(){throw xt})}function Kf(xt,$){var ht=$,vt=0;do{var At=ht.nextSibling;if(xt.removeChild(ht),At&&At.nodeType===8)if(ht=At.data,ht==="/$"){if(vt===0){xt.removeChild(At),bd($);return}vt--}else ht!=="$"&&ht!=="$?"&&ht!=="$!"||vt++;ht=At}while(ht);bd($)}function Lf(xt){for(;xt!=null;xt=xt.nextSibling){var $=xt.nodeType;if($===1||$===3)break;if($===8){if($=xt.data,$==="$"||$==="$!"||$==="$?")break;if($==="/$")return null}}return xt}function Mf(xt){xt=xt.previousSibling;for(var $=0;xt;){if(xt.nodeType===8){var ht=xt.data;if(ht==="$"||ht==="$!"||ht==="$?"){if($===0)return xt;$--}else ht==="/$"&&$++}xt=xt.previousSibling}return null}var Nf=Math.random().toString(36).slice(2),Of="__reactFiber$"+Nf,Pf="__reactProps$"+Nf,uf="__reactContainer$"+Nf,of="__reactEvents$"+Nf,Qf="__reactListeners$"+Nf,Rf="__reactHandles$"+Nf;function Wc(xt){var $=xt[Of];if($)return $;for(var ht=xt.parentNode;ht;){if($=ht[uf]||ht[Of]){if(ht=$.alternate,$.child!==null||ht!==null&&ht.child!==null)for(xt=Mf(xt);xt!==null;){if(ht=xt[Of])return ht;xt=Mf(xt)}return $}xt=ht,ht=xt.parentNode}return null}function Cb(xt){return xt=xt[Of]||xt[uf],!xt||xt.tag!==5&&xt.tag!==6&&xt.tag!==13&&xt.tag!==3?null:xt}function ue(xt){if(xt.tag===5||xt.tag===6)return xt.stateNode;throw Error(p$4(33))}function Db(xt){return xt[Pf]||null}var Sf=[],Tf=-1;function Uf(xt){return{current:xt}}function E$1(xt){0>Tf||(xt.current=Sf[Tf],Sf[Tf]=null,Tf--)}function G$2(xt,$){Tf++,Sf[Tf]=xt.current,xt.current=$}var Vf={},H$2=Uf(Vf),Wf=Uf(!1),Xf=Vf;function Yf(xt,$){var ht=xt.type.contextTypes;if(!ht)return Vf;var vt=xt.stateNode;if(vt&&vt.__reactInternalMemoizedUnmaskedChildContext===$)return vt.__reactInternalMemoizedMaskedChildContext;var At={},St;for(St in ht)At[St]=$[St];return vt&&(xt=xt.stateNode,xt.__reactInternalMemoizedUnmaskedChildContext=$,xt.__reactInternalMemoizedMaskedChildContext=At),At}function Zf(xt){return xt=xt.childContextTypes,xt!=null}function $f(){E$1(Wf),E$1(H$2)}function ag(xt,$,ht){if(H$2.current!==Vf)throw Error(p$4(168));G$2(H$2,$),G$2(Wf,ht)}function bg(xt,$,ht){var vt=xt.stateNode;if($=$.childContextTypes,typeof vt.getChildContext!="function")return ht;vt=vt.getChildContext();for(var At in vt)if(!(At in $))throw Error(p$4(108,Ra(xt)||"Unknown",At));return A$3({},ht,vt)}function cg(xt){return xt=(xt=xt.stateNode)&&xt.__reactInternalMemoizedMergedChildContext||Vf,Xf=H$2.current,G$2(H$2,xt),G$2(Wf,Wf.current),!0}function dg(xt,$,ht){var vt=xt.stateNode;if(!vt)throw Error(p$4(169));ht?(xt=bg(xt,$,Xf),vt.__reactInternalMemoizedMergedChildContext=xt,E$1(Wf),E$1(H$2),G$2(H$2,xt)):E$1(Wf),G$2(Wf,ht)}var eg=null,fg=!1,gg=!1;function hg(xt){eg===null?eg=[xt]:eg.push(xt)}function ig(xt){fg=!0,hg(xt)}function jg(){if(!gg&&eg!==null){gg=!0;var xt=0,$=C$1;try{var ht=eg;for(C$1=1;xt<ht.length;xt++){var vt=ht[xt];do vt=vt(!0);while(vt!==null)}eg=null,fg=!1}catch(At){throw eg!==null&&(eg=eg.slice(xt+1)),ac(fc,jg),At}finally{C$1=$,gg=!1}}return null}var kg=[],lg=0,mg=null,ng=0,og=[],pg=0,qg=null,rg=1,sg="";function tg(xt,$){kg[lg++]=ng,kg[lg++]=mg,mg=xt,ng=$}function ug(xt,$,ht){og[pg++]=rg,og[pg++]=sg,og[pg++]=qg,qg=xt;var vt=rg;xt=sg;var At=32-oc(vt)-1;vt&=~(1<<At),ht+=1;var St=32-oc($)+At;if(30<St){var Ct=At-At%5;St=(vt&(1<<Ct)-1).toString(32),vt>>=Ct,At-=Ct,rg=1<<32-oc($)+At|ht<<At|vt,sg=St+xt}else rg=1<<St|ht<<At|vt,sg=xt}function vg(xt){xt.return!==null&&(tg(xt,1),ug(xt,1,0))}function wg(xt){for(;xt===mg;)mg=kg[--lg],kg[lg]=null,ng=kg[--lg],kg[lg]=null;for(;xt===qg;)qg=og[--pg],og[pg]=null,sg=og[--pg],og[pg]=null,rg=og[--pg],og[pg]=null}var xg=null,yg=null,I$4=!1,zg=null;function Ag(xt,$){var ht=Bg(5,null,null,0);ht.elementType="DELETED",ht.stateNode=$,ht.return=xt,$=xt.deletions,$===null?(xt.deletions=[ht],xt.flags|=16):$.push(ht)}function Cg(xt,$){switch(xt.tag){case 5:var ht=xt.type;return $=$.nodeType!==1||ht.toLowerCase()!==$.nodeName.toLowerCase()?null:$,$!==null?(xt.stateNode=$,xg=xt,yg=Lf($.firstChild),!0):!1;case 6:return $=xt.pendingProps===""||$.nodeType!==3?null:$,$!==null?(xt.stateNode=$,xg=xt,yg=null,!0):!1;case 13:return $=$.nodeType!==8?null:$,$!==null?(ht=qg!==null?{id:rg,overflow:sg}:null,xt.memoizedState={dehydrated:$,treeContext:ht,retryLane:1073741824},ht=Bg(18,null,null,0),ht.stateNode=$,ht.return=xt,xt.child=ht,xg=xt,yg=null,!0):!1;default:return!1}}function Dg(xt){return(xt.mode&1)!==0&&(xt.flags&128)===0}function Eg(xt){if(I$4){var $=yg;if($){var ht=$;if(!Cg(xt,$)){if(Dg(xt))throw Error(p$4(418));$=Lf(ht.nextSibling);var vt=xg;$&&Cg(xt,$)?Ag(vt,ht):(xt.flags=xt.flags&-4097|2,I$4=!1,xg=xt)}}else{if(Dg(xt))throw Error(p$4(418));xt.flags=xt.flags&-4097|2,I$4=!1,xg=xt}}}function Fg(xt){for(xt=xt.return;xt!==null&&xt.tag!==5&&xt.tag!==3&&xt.tag!==13;)xt=xt.return;xg=xt}function Gg(xt){if(xt!==xg)return!1;if(!I$4)return Fg(xt),I$4=!0,!1;var $;if(($=xt.tag!==3)&&!($=xt.tag!==5)&&($=xt.type,$=$!=="head"&&$!=="body"&&!Ef(xt.type,xt.memoizedProps)),$&&($=yg)){if(Dg(xt))throw Hg(),Error(p$4(418));for(;$;)Ag(xt,$),$=Lf($.nextSibling)}if(Fg(xt),xt.tag===13){if(xt=xt.memoizedState,xt=xt!==null?xt.dehydrated:null,!xt)throw Error(p$4(317));e:{for(xt=xt.nextSibling,$=0;xt;){if(xt.nodeType===8){var ht=xt.data;if(ht==="/$"){if($===0){yg=Lf(xt.nextSibling);break e}$--}else ht!=="$"&&ht!=="$!"&&ht!=="$?"||$++}xt=xt.nextSibling}yg=null}}else yg=xg?Lf(xt.stateNode.nextSibling):null;return!0}function Hg(){for(var xt=yg;xt;)xt=Lf(xt.nextSibling)}function Ig(){yg=xg=null,I$4=!1}function Jg(xt){zg===null?zg=[xt]:zg.push(xt)}var Kg=ua.ReactCurrentBatchConfig;function Lg(xt,$,ht){if(xt=ht.ref,xt!==null&&typeof xt!="function"&&typeof xt!="object"){if(ht._owner){if(ht=ht._owner,ht){if(ht.tag!==1)throw Error(p$4(309));var vt=ht.stateNode}if(!vt)throw Error(p$4(147,xt));var At=vt,St=""+xt;return $!==null&&$.ref!==null&&typeof $.ref=="function"&&$.ref._stringRef===St?$.ref:($=function(Ct){var Et=At.refs;Ct===null?delete Et[St]:Et[St]=Ct},$._stringRef=St,$)}if(typeof xt!="string")throw Error(p$4(284));if(!ht._owner)throw Error(p$4(290,xt))}return xt}function Mg(xt,$){throw xt=Object.prototype.toString.call($),Error(p$4(31,xt==="[object Object]"?"object with keys {"+Object.keys($).join(", ")+"}":xt))}function Ng(xt){var $=xt._init;return $(xt._payload)}function Og(xt){function $(Nt,$t){if(xt){var Lt=Nt.deletions;Lt===null?(Nt.deletions=[$t],Nt.flags|=16):Lt.push($t)}}function ht(Nt,$t){if(!xt)return null;for(;$t!==null;)$(Nt,$t),$t=$t.sibling;return null}function vt(Nt,$t){for(Nt=new Map;$t!==null;)$t.key!==null?Nt.set($t.key,$t):Nt.set($t.index,$t),$t=$t.sibling;return Nt}function At(Nt,$t){return Nt=Pg(Nt,$t),Nt.index=0,Nt.sibling=null,Nt}function St(Nt,$t,Lt){return Nt.index=Lt,xt?(Lt=Nt.alternate,Lt!==null?(Lt=Lt.index,Lt<$t?(Nt.flags|=2,$t):Lt):(Nt.flags|=2,$t)):(Nt.flags|=1048576,$t)}function Ct(Nt){return xt&&Nt.alternate===null&&(Nt.flags|=2),Nt}function Et(Nt,$t,Lt,jt){return $t===null||$t.tag!==6?($t=Qg(Lt,Nt.mode,jt),$t.return=Nt,$t):($t=At($t,Lt),$t.return=Nt,$t)}function Ft(Nt,$t,Lt,jt){var kt=Lt.type;return kt===ya?_t(Nt,$t,Lt.props.children,jt,Lt.key):$t!==null&&($t.elementType===kt||typeof kt=="object"&&kt!==null&&kt.$$typeof===Ha&&Ng(kt)===$t.type)?(jt=At($t,Lt.props),jt.ref=Lg(Nt,$t,Lt),jt.return=Nt,jt):(jt=Rg(Lt.type,Lt.key,Lt.props,null,Nt.mode,jt),jt.ref=Lg(Nt,$t,Lt),jt.return=Nt,jt)}function wt(Nt,$t,Lt,jt){return $t===null||$t.tag!==4||$t.stateNode.containerInfo!==Lt.containerInfo||$t.stateNode.implementation!==Lt.implementation?($t=Sg(Lt,Nt.mode,jt),$t.return=Nt,$t):($t=At($t,Lt.children||[]),$t.return=Nt,$t)}function _t(Nt,$t,Lt,jt,kt){return $t===null||$t.tag!==7?($t=Tg(Lt,Nt.mode,jt,kt),$t.return=Nt,$t):($t=At($t,Lt),$t.return=Nt,$t)}function Rt(Nt,$t,Lt){if(typeof $t=="string"&&$t!==""||typeof $t=="number")return $t=Qg(""+$t,Nt.mode,Lt),$t.return=Nt,$t;if(typeof $t=="object"&&$t!==null){switch($t.$$typeof){case va:return Lt=Rg($t.type,$t.key,$t.props,null,Nt.mode,Lt),Lt.ref=Lg(Nt,null,$t),Lt.return=Nt,Lt;case wa:return $t=Sg($t,Nt.mode,Lt),$t.return=Nt,$t;case Ha:var jt=$t._init;return Rt(Nt,jt($t._payload),Lt)}if(eb($t)||Ka($t))return $t=Tg($t,Nt.mode,Lt,null),$t.return=Nt,$t;Mg(Nt,$t)}return null}function _e(Nt,$t,Lt,jt){var kt=$t!==null?$t.key:null;if(typeof Lt=="string"&&Lt!==""||typeof Lt=="number")return kt!==null?null:Et(Nt,$t,""+Lt,jt);if(typeof Lt=="object"&&Lt!==null){switch(Lt.$$typeof){case va:return Lt.key===kt?Ft(Nt,$t,Lt,jt):null;case wa:return Lt.key===kt?wt(Nt,$t,Lt,jt):null;case Ha:return kt=Lt._init,_e(Nt,$t,kt(Lt._payload),jt)}if(eb(Lt)||Ka(Lt))return kt!==null?null:_t(Nt,$t,Lt,jt,null);Mg(Nt,Lt)}return null}function bt(Nt,$t,Lt,jt,kt){if(typeof jt=="string"&&jt!==""||typeof jt=="number")return Nt=Nt.get(Lt)||null,Et($t,Nt,""+jt,kt);if(typeof jt=="object"&&jt!==null){switch(jt.$$typeof){case va:return Nt=Nt.get(jt.key===null?Lt:jt.key)||null,Ft($t,Nt,jt,kt);case wa:return Nt=Nt.get(jt.key===null?Lt:jt.key)||null,wt($t,Nt,jt,kt);case Ha:var qt=jt._init;return bt(Nt,$t,Lt,qt(jt._payload),kt)}if(eb(jt)||Ka(jt))return Nt=Nt.get(Lt)||null,_t($t,Nt,jt,kt,null);Mg($t,jt)}return null}function Pt(Nt,$t,Lt,jt){for(var kt=null,qt=null,Bt=$t,Gt=$t=0,en=null;Bt!==null&&Gt<Lt.length;Gt++){Bt.index>Gt?(en=Bt,Bt=null):en=Bt.sibling;var dn=_e(Nt,Bt,Lt[Gt],jt);if(dn===null){Bt===null&&(Bt=en);break}xt&&Bt&&dn.alternate===null&&$(Nt,Bt),$t=St(dn,$t,Gt),qt===null?kt=dn:qt.sibling=dn,qt=dn,Bt=en}if(Gt===Lt.length)return ht(Nt,Bt),I$4&&tg(Nt,Gt),kt;if(Bt===null){for(;Gt<Lt.length;Gt++)Bt=Rt(Nt,Lt[Gt],jt),Bt!==null&&($t=St(Bt,$t,Gt),qt===null?kt=Bt:qt.sibling=Bt,qt=Bt);return I$4&&tg(Nt,Gt),kt}for(Bt=vt(Nt,Bt);Gt<Lt.length;Gt++)en=bt(Bt,Nt,Gt,Lt[Gt],jt),en!==null&&(xt&&en.alternate!==null&&Bt.delete(en.key===null?Gt:en.key),$t=St(en,$t,Gt),qt===null?kt=en:qt.sibling=en,qt=en);return xt&&Bt.forEach(function(Qt){return $(Nt,Qt)}),I$4&&tg(Nt,Gt),kt}function Xt(Nt,$t,Lt,jt){var kt=Ka(Lt);if(typeof kt!="function")throw Error(p$4(150));if(Lt=kt.call(Lt),Lt==null)throw Error(p$4(151));for(var qt=kt=null,Bt=$t,Gt=$t=0,en=null,dn=Lt.next();Bt!==null&&!dn.done;Gt++,dn=Lt.next()){Bt.index>Gt?(en=Bt,Bt=null):en=Bt.sibling;var Qt=_e(Nt,Bt,dn.value,jt);if(Qt===null){Bt===null&&(Bt=en);break}xt&&Bt&&Qt.alternate===null&&$(Nt,Bt),$t=St(Qt,$t,Gt),qt===null?kt=Qt:qt.sibling=Qt,qt=Qt,Bt=en}if(dn.done)return ht(Nt,Bt),I$4&&tg(Nt,Gt),kt;if(Bt===null){for(;!dn.done;Gt++,dn=Lt.next())dn=Rt(Nt,dn.value,jt),dn!==null&&($t=St(dn,$t,Gt),qt===null?kt=dn:qt.sibling=dn,qt=dn);return I$4&&tg(Nt,Gt),kt}for(Bt=vt(Nt,Bt);!dn.done;Gt++,dn=Lt.next())dn=bt(Bt,Nt,Gt,dn.value,jt),dn!==null&&(xt&&dn.alternate!==null&&Bt.delete(dn.key===null?Gt:dn.key),$t=St(dn,$t,Gt),qt===null?kt=dn:qt.sibling=dn,qt=dn);return xt&&Bt.forEach(function(gn){return $(Nt,gn)}),I$4&&tg(Nt,Gt),kt}function Kt(Nt,$t,Lt,jt){if(typeof Lt=="object"&&Lt!==null&&Lt.type===ya&&Lt.key===null&&(Lt=Lt.props.children),typeof Lt=="object"&&Lt!==null){switch(Lt.$$typeof){case va:e:{for(var kt=Lt.key,qt=$t;qt!==null;){if(qt.key===kt){if(kt=Lt.type,kt===ya){if(qt.tag===7){ht(Nt,qt.sibling),$t=At(qt,Lt.props.children),$t.return=Nt,Nt=$t;break e}}else if(qt.elementType===kt||typeof kt=="object"&&kt!==null&&kt.$$typeof===Ha&&Ng(kt)===qt.type){ht(Nt,qt.sibling),$t=At(qt,Lt.props),$t.ref=Lg(Nt,qt,Lt),$t.return=Nt,Nt=$t;break e}ht(Nt,qt);break}else $(Nt,qt);qt=qt.sibling}Lt.type===ya?($t=Tg(Lt.props.children,Nt.mode,jt,Lt.key),$t.return=Nt,Nt=$t):(jt=Rg(Lt.type,Lt.key,Lt.props,null,Nt.mode,jt),jt.ref=Lg(Nt,$t,Lt),jt.return=Nt,Nt=jt)}return Ct(Nt);case wa:e:{for(qt=Lt.key;$t!==null;){if($t.key===qt)if($t.tag===4&&$t.stateNode.containerInfo===Lt.containerInfo&&$t.stateNode.implementation===Lt.implementation){ht(Nt,$t.sibling),$t=At($t,Lt.children||[]),$t.return=Nt,Nt=$t;break e}else{ht(Nt,$t);break}else $(Nt,$t);$t=$t.sibling}$t=Sg(Lt,Nt.mode,jt),$t.return=Nt,Nt=$t}return Ct(Nt);case Ha:return qt=Lt._init,Kt(Nt,$t,qt(Lt._payload),jt)}if(eb(Lt))return Pt(Nt,$t,Lt,jt);if(Ka(Lt))return Xt(Nt,$t,Lt,jt);Mg(Nt,Lt)}return typeof Lt=="string"&&Lt!==""||typeof Lt=="number"?(Lt=""+Lt,$t!==null&&$t.tag===6?(ht(Nt,$t.sibling),$t=At($t,Lt),$t.return=Nt,Nt=$t):(ht(Nt,$t),$t=Qg(Lt,Nt.mode,jt),$t.return=Nt,Nt=$t),Ct(Nt)):ht(Nt,$t)}return Kt}var Ug=Og(!0),Vg=Og(!1),Wg=Uf(null),Xg=null,Yg=null,Zg=null;function $g(){Zg=Yg=Xg=null}function ah(xt){var $=Wg.current;E$1(Wg),xt._currentValue=$}function bh(xt,$,ht){for(;xt!==null;){var vt=xt.alternate;if((xt.childLanes&$)!==$?(xt.childLanes|=$,vt!==null&&(vt.childLanes|=$)):vt!==null&&(vt.childLanes&$)!==$&&(vt.childLanes|=$),xt===ht)break;xt=xt.return}}function ch(xt,$){Xg=xt,Zg=Yg=null,xt=xt.dependencies,xt!==null&&xt.firstContext!==null&&(xt.lanes&$&&(dh=!0),xt.firstContext=null)}function eh(xt){var $=xt._currentValue;if(Zg!==xt)if(xt={context:xt,memoizedValue:$,next:null},Yg===null){if(Xg===null)throw Error(p$4(308));Yg=xt,Xg.dependencies={lanes:0,firstContext:xt}}else Yg=Yg.next=xt;return $}var fh=null;function gh(xt){fh===null?fh=[xt]:fh.push(xt)}function hh(xt,$,ht,vt){var At=$.interleaved;return At===null?(ht.next=ht,gh($)):(ht.next=At.next,At.next=ht),$.interleaved=ht,ih(xt,vt)}function ih(xt,$){xt.lanes|=$;var ht=xt.alternate;for(ht!==null&&(ht.lanes|=$),ht=xt,xt=xt.return;xt!==null;)xt.childLanes|=$,ht=xt.alternate,ht!==null&&(ht.childLanes|=$),ht=xt,xt=xt.return;return ht.tag===3?ht.stateNode:null}var jh=!1;function kh(xt){xt.updateQueue={baseState:xt.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function lh(xt,$){xt=xt.updateQueue,$.updateQueue===xt&&($.updateQueue={baseState:xt.baseState,firstBaseUpdate:xt.firstBaseUpdate,lastBaseUpdate:xt.lastBaseUpdate,shared:xt.shared,effects:xt.effects})}function mh(xt,$){return{eventTime:xt,lane:$,tag:0,payload:null,callback:null,next:null}}function nh(xt,$,ht){var vt=xt.updateQueue;if(vt===null)return null;if(vt=vt.shared,K&2){var At=vt.pending;return At===null?$.next=$:($.next=At.next,At.next=$),vt.pending=$,ih(xt,ht)}return At=vt.interleaved,At===null?($.next=$,gh(vt)):($.next=At.next,At.next=$),vt.interleaved=$,ih(xt,ht)}function oh(xt,$,ht){if($=$.updateQueue,$!==null&&($=$.shared,(ht&4194240)!==0)){var vt=$.lanes;vt&=xt.pendingLanes,ht|=vt,$.lanes=ht,Cc(xt,ht)}}function ph(xt,$){var ht=xt.updateQueue,vt=xt.alternate;if(vt!==null&&(vt=vt.updateQueue,ht===vt)){var At=null,St=null;if(ht=ht.firstBaseUpdate,ht!==null){do{var Ct={eventTime:ht.eventTime,lane:ht.lane,tag:ht.tag,payload:ht.payload,callback:ht.callback,next:null};St===null?At=St=Ct:St=St.next=Ct,ht=ht.next}while(ht!==null);St===null?At=St=$:St=St.next=$}else At=St=$;ht={baseState:vt.baseState,firstBaseUpdate:At,lastBaseUpdate:St,shared:vt.shared,effects:vt.effects},xt.updateQueue=ht;return}xt=ht.lastBaseUpdate,xt===null?ht.firstBaseUpdate=$:xt.next=$,ht.lastBaseUpdate=$}function qh(xt,$,ht,vt){var At=xt.updateQueue;jh=!1;var St=At.firstBaseUpdate,Ct=At.lastBaseUpdate,Et=At.shared.pending;if(Et!==null){At.shared.pending=null;var Ft=Et,wt=Ft.next;Ft.next=null,Ct===null?St=wt:Ct.next=wt,Ct=Ft;var _t=xt.alternate;_t!==null&&(_t=_t.updateQueue,Et=_t.lastBaseUpdate,Et!==Ct&&(Et===null?_t.firstBaseUpdate=wt:Et.next=wt,_t.lastBaseUpdate=Ft))}if(St!==null){var Rt=At.baseState;Ct=0,_t=wt=Ft=null,Et=St;do{var _e=Et.lane,bt=Et.eventTime;if((vt&_e)===_e){_t!==null&&(_t=_t.next={eventTime:bt,lane:0,tag:Et.tag,payload:Et.payload,callback:Et.callback,next:null});e:{var Pt=xt,Xt=Et;switch(_e=$,bt=ht,Xt.tag){case 1:if(Pt=Xt.payload,typeof Pt=="function"){Rt=Pt.call(bt,Rt,_e);break e}Rt=Pt;break e;case 3:Pt.flags=Pt.flags&-65537|128;case 0:if(Pt=Xt.payload,_e=typeof Pt=="function"?Pt.call(bt,Rt,_e):Pt,_e==null)break e;Rt=A$3({},Rt,_e);break e;case 2:jh=!0}}Et.callback!==null&&Et.lane!==0&&(xt.flags|=64,_e=At.effects,_e===null?At.effects=[Et]:_e.push(Et))}else bt={eventTime:bt,lane:_e,tag:Et.tag,payload:Et.payload,callback:Et.callback,next:null},_t===null?(wt=_t=bt,Ft=Rt):_t=_t.next=bt,Ct|=_e;if(Et=Et.next,Et===null){if(Et=At.shared.pending,Et===null)break;_e=Et,Et=_e.next,_e.next=null,At.lastBaseUpdate=_e,At.shared.pending=null}}while(!0);if(_t===null&&(Ft=Rt),At.baseState=Ft,At.firstBaseUpdate=wt,At.lastBaseUpdate=_t,$=At.shared.interleaved,$!==null){At=$;do Ct|=At.lane,At=At.next;while(At!==$)}else St===null&&(At.shared.lanes=0);rh|=Ct,xt.lanes=Ct,xt.memoizedState=Rt}}function sh(xt,$,ht){if(xt=$.effects,$.effects=null,xt!==null)for($=0;$<xt.length;$++){var vt=xt[$],At=vt.callback;if(At!==null){if(vt.callback=null,vt=ht,typeof At!="function")throw Error(p$4(191,At));At.call(vt)}}}var th={},uh=Uf(th),vh=Uf(th),wh=Uf(th);function xh(xt){if(xt===th)throw Error(p$4(174));return xt}function yh(xt,$){switch(G$2(wh,$),G$2(vh,xt),G$2(uh,th),xt=$.nodeType,xt){case 9:case 11:$=($=$.documentElement)?$.namespaceURI:lb(null,"");break;default:xt=xt===8?$.parentNode:$,$=xt.namespaceURI||null,xt=xt.tagName,$=lb($,xt)}E$1(uh),G$2(uh,$)}function zh(){E$1(uh),E$1(vh),E$1(wh)}function Ah(xt){xh(wh.current);var $=xh(uh.current),ht=lb($,xt.type);$!==ht&&(G$2(vh,xt),G$2(uh,ht))}function Bh(xt){vh.current===xt&&(E$1(uh),E$1(vh))}var L$1=Uf(0);function Ch(xt){for(var $=xt;$!==null;){if($.tag===13){var ht=$.memoizedState;if(ht!==null&&(ht=ht.dehydrated,ht===null||ht.data==="$?"||ht.data==="$!"))return $}else if($.tag===19&&$.memoizedProps.revealOrder!==void 0){if($.flags&128)return $}else if($.child!==null){$.child.return=$,$=$.child;continue}if($===xt)break;for(;$.sibling===null;){if($.return===null||$.return===xt)return null;$=$.return}$.sibling.return=$.return,$=$.sibling}return null}var Dh=[];function Eh(){for(var xt=0;xt<Dh.length;xt++)Dh[xt]._workInProgressVersionPrimary=null;Dh.length=0}var Fh=ua.ReactCurrentDispatcher,Gh=ua.ReactCurrentBatchConfig,Hh=0,M$3=null,N$3=null,O$2=null,Ih=!1,Jh=!1,Kh=0,Lh=0;function P$3(){throw Error(p$4(321))}function Mh(xt,$){if($===null)return!1;for(var ht=0;ht<$.length&&ht<xt.length;ht++)if(!He(xt[ht],$[ht]))return!1;return!0}function Nh(xt,$,ht,vt,At,St){if(Hh=St,M$3=$,$.memoizedState=null,$.updateQueue=null,$.lanes=0,Fh.current=xt===null||xt.memoizedState===null?Oh:Ph,xt=ht(vt,At),Jh){St=0;do{if(Jh=!1,Kh=0,25<=St)throw Error(p$4(301));St+=1,O$2=N$3=null,$.updateQueue=null,Fh.current=Qh,xt=ht(vt,At)}while(Jh)}if(Fh.current=Rh,$=N$3!==null&&N$3.next!==null,Hh=0,O$2=N$3=M$3=null,Ih=!1,$)throw Error(p$4(300));return xt}function Sh(){var xt=Kh!==0;return Kh=0,xt}function Th(){var xt={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return O$2===null?M$3.memoizedState=O$2=xt:O$2=O$2.next=xt,O$2}function Uh(){if(N$3===null){var xt=M$3.alternate;xt=xt!==null?xt.memoizedState:null}else xt=N$3.next;var $=O$2===null?M$3.memoizedState:O$2.next;if($!==null)O$2=$,N$3=xt;else{if(xt===null)throw Error(p$4(310));N$3=xt,xt={memoizedState:N$3.memoizedState,baseState:N$3.baseState,baseQueue:N$3.baseQueue,queue:N$3.queue,next:null},O$2===null?M$3.memoizedState=O$2=xt:O$2=O$2.next=xt}return O$2}function Vh(xt,$){return typeof $=="function"?$(xt):$}function Wh(xt){var $=Uh(),ht=$.queue;if(ht===null)throw Error(p$4(311));ht.lastRenderedReducer=xt;var vt=N$3,At=vt.baseQueue,St=ht.pending;if(St!==null){if(At!==null){var Ct=At.next;At.next=St.next,St.next=Ct}vt.baseQueue=At=St,ht.pending=null}if(At!==null){St=At.next,vt=vt.baseState;var Et=Ct=null,Ft=null,wt=St;do{var _t=wt.lane;if((Hh&_t)===_t)Ft!==null&&(Ft=Ft.next={lane:0,action:wt.action,hasEagerState:wt.hasEagerState,eagerState:wt.eagerState,next:null}),vt=wt.hasEagerState?wt.eagerState:xt(vt,wt.action);else{var Rt={lane:_t,action:wt.action,hasEagerState:wt.hasEagerState,eagerState:wt.eagerState,next:null};Ft===null?(Et=Ft=Rt,Ct=vt):Ft=Ft.next=Rt,M$3.lanes|=_t,rh|=_t}wt=wt.next}while(wt!==null&&wt!==St);Ft===null?Ct=vt:Ft.next=Et,He(vt,$.memoizedState)||(dh=!0),$.memoizedState=vt,$.baseState=Ct,$.baseQueue=Ft,ht.lastRenderedState=vt}if(xt=ht.interleaved,xt!==null){At=xt;do St=At.lane,M$3.lanes|=St,rh|=St,At=At.next;while(At!==xt)}else At===null&&(ht.lanes=0);return[$.memoizedState,ht.dispatch]}function Xh(xt){var $=Uh(),ht=$.queue;if(ht===null)throw Error(p$4(311));ht.lastRenderedReducer=xt;var vt=ht.dispatch,At=ht.pending,St=$.memoizedState;if(At!==null){ht.pending=null;var Ct=At=At.next;do St=xt(St,Ct.action),Ct=Ct.next;while(Ct!==At);He(St,$.memoizedState)||(dh=!0),$.memoizedState=St,$.baseQueue===null&&($.baseState=St),ht.lastRenderedState=St}return[St,vt]}function Yh(){}function Zh(xt,$){var ht=M$3,vt=Uh(),At=$(),St=!He(vt.memoizedState,At);if(St&&(vt.memoizedState=At,dh=!0),vt=vt.queue,$h(ai.bind(null,ht,vt,xt),[xt]),vt.getSnapshot!==$||St||O$2!==null&&O$2.memoizedState.tag&1){if(ht.flags|=2048,bi(9,ci.bind(null,ht,vt,At,$),void 0,null),Q===null)throw Error(p$4(349));Hh&30||di(ht,$,At)}return At}function di(xt,$,ht){xt.flags|=16384,xt={getSnapshot:$,value:ht},$=M$3.updateQueue,$===null?($={lastEffect:null,stores:null},M$3.updateQueue=$,$.stores=[xt]):(ht=$.stores,ht===null?$.stores=[xt]:ht.push(xt))}function ci(xt,$,ht,vt){$.value=ht,$.getSnapshot=vt,ei($)&&fi(xt)}function ai(xt,$,ht){return ht(function(){ei($)&&fi(xt)})}function ei(xt){var $=xt.getSnapshot;xt=xt.value;try{var ht=$();return!He(xt,ht)}catch{return!0}}function fi(xt){var $=ih(xt,1);$!==null&&gi($,xt,1,-1)}function hi(xt){var $=Th();return typeof xt=="function"&&(xt=xt()),$.memoizedState=$.baseState=xt,xt={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Vh,lastRenderedState:xt},$.queue=xt,xt=xt.dispatch=ii.bind(null,M$3,xt),[$.memoizedState,xt]}function bi(xt,$,ht,vt){return xt={tag:xt,create:$,destroy:ht,deps:vt,next:null},$=M$3.updateQueue,$===null?($={lastEffect:null,stores:null},M$3.updateQueue=$,$.lastEffect=xt.next=xt):(ht=$.lastEffect,ht===null?$.lastEffect=xt.next=xt:(vt=ht.next,ht.next=xt,xt.next=vt,$.lastEffect=xt)),xt}function ji(){return Uh().memoizedState}function ki(xt,$,ht,vt){var At=Th();M$3.flags|=xt,At.memoizedState=bi(1|$,ht,void 0,vt===void 0?null:vt)}function li(xt,$,ht,vt){var At=Uh();vt=vt===void 0?null:vt;var St=void 0;if(N$3!==null){var Ct=N$3.memoizedState;if(St=Ct.destroy,vt!==null&&Mh(vt,Ct.deps)){At.memoizedState=bi($,ht,St,vt);return}}M$3.flags|=xt,At.memoizedState=bi(1|$,ht,St,vt)}function mi(xt,$){return ki(8390656,8,xt,$)}function $h(xt,$){return li(2048,8,xt,$)}function ni(xt,$){return li(4,2,xt,$)}function oi(xt,$){return li(4,4,xt,$)}function pi(xt,$){if(typeof $=="function")return xt=xt(),$(xt),function(){$(null)};if($!=null)return xt=xt(),$.current=xt,function(){$.current=null}}function qi(xt,$,ht){return ht=ht!=null?ht.concat([xt]):null,li(4,4,pi.bind(null,$,xt),ht)}function ri(){}function si(xt,$){var ht=Uh();$=$===void 0?null:$;var vt=ht.memoizedState;return vt!==null&&$!==null&&Mh($,vt[1])?vt[0]:(ht.memoizedState=[xt,$],xt)}function ti(xt,$){var ht=Uh();$=$===void 0?null:$;var vt=ht.memoizedState;return vt!==null&&$!==null&&Mh($,vt[1])?vt[0]:(xt=xt(),ht.memoizedState=[xt,$],xt)}function ui(xt,$,ht){return Hh&21?(He(ht,$)||(ht=yc(),M$3.lanes|=ht,rh|=ht,xt.baseState=!0),$):(xt.baseState&&(xt.baseState=!1,dh=!0),xt.memoizedState=ht)}function vi(xt,$){var ht=C$1;C$1=ht!==0&&4>ht?ht:4,xt(!0);var vt=Gh.transition;Gh.transition={};try{xt(!1),$()}finally{C$1=ht,Gh.transition=vt}}function wi(){return Uh().memoizedState}function xi(xt,$,ht){var vt=yi(xt);if(ht={lane:vt,action:ht,hasEagerState:!1,eagerState:null,next:null},zi(xt))Ai($,ht);else if(ht=hh(xt,$,ht,vt),ht!==null){var At=R$1();gi(ht,xt,vt,At),Bi(ht,$,vt)}}function ii(xt,$,ht){var vt=yi(xt),At={lane:vt,action:ht,hasEagerState:!1,eagerState:null,next:null};if(zi(xt))Ai($,At);else{var St=xt.alternate;if(xt.lanes===0&&(St===null||St.lanes===0)&&(St=$.lastRenderedReducer,St!==null))try{var Ct=$.lastRenderedState,Et=St(Ct,ht);if(At.hasEagerState=!0,At.eagerState=Et,He(Et,Ct)){var Ft=$.interleaved;Ft===null?(At.next=At,gh($)):(At.next=Ft.next,Ft.next=At),$.interleaved=At;return}}catch{}finally{}ht=hh(xt,$,At,vt),ht!==null&&(At=R$1(),gi(ht,xt,vt,At),Bi(ht,$,vt))}}function zi(xt){var $=xt.alternate;return xt===M$3||$!==null&&$===M$3}function Ai(xt,$){Jh=Ih=!0;var ht=xt.pending;ht===null?$.next=$:($.next=ht.next,ht.next=$),xt.pending=$}function Bi(xt,$,ht){if(ht&4194240){var vt=$.lanes;vt&=xt.pendingLanes,ht|=vt,$.lanes=ht,Cc(xt,ht)}}var Rh={readContext:eh,useCallback:P$3,useContext:P$3,useEffect:P$3,useImperativeHandle:P$3,useInsertionEffect:P$3,useLayoutEffect:P$3,useMemo:P$3,useReducer:P$3,useRef:P$3,useState:P$3,useDebugValue:P$3,useDeferredValue:P$3,useTransition:P$3,useMutableSource:P$3,useSyncExternalStore:P$3,useId:P$3,unstable_isNewReconciler:!1},Oh={readContext:eh,useCallback:function(xt,$){return Th().memoizedState=[xt,$===void 0?null:$],xt},useContext:eh,useEffect:mi,useImperativeHandle:function(xt,$,ht){return ht=ht!=null?ht.concat([xt]):null,ki(4194308,4,pi.bind(null,$,xt),ht)},useLayoutEffect:function(xt,$){return ki(4194308,4,xt,$)},useInsertionEffect:function(xt,$){return ki(4,2,xt,$)},useMemo:function(xt,$){var ht=Th();return $=$===void 0?null:$,xt=xt(),ht.memoizedState=[xt,$],xt},useReducer:function(xt,$,ht){var vt=Th();return $=ht!==void 0?ht($):$,vt.memoizedState=vt.baseState=$,xt={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:xt,lastRenderedState:$},vt.queue=xt,xt=xt.dispatch=xi.bind(null,M$3,xt),[vt.memoizedState,xt]},useRef:function(xt){var $=Th();return xt={current:xt},$.memoizedState=xt},useState:hi,useDebugValue:ri,useDeferredValue:function(xt){return Th().memoizedState=xt},useTransition:function(){var xt=hi(!1),$=xt[0];return xt=vi.bind(null,xt[1]),Th().memoizedState=xt,[$,xt]},useMutableSource:function(){},useSyncExternalStore:function(xt,$,ht){var vt=M$3,At=Th();if(I$4){if(ht===void 0)throw Error(p$4(407));ht=ht()}else{if(ht=$(),Q===null)throw Error(p$4(349));Hh&30||di(vt,$,ht)}At.memoizedState=ht;var St={value:ht,getSnapshot:$};return At.queue=St,mi(ai.bind(null,vt,St,xt),[xt]),vt.flags|=2048,bi(9,ci.bind(null,vt,St,ht,$),void 0,null),ht},useId:function(){var xt=Th(),$=Q.identifierPrefix;if(I$4){var ht=sg,vt=rg;ht=(vt&~(1<<32-oc(vt)-1)).toString(32)+ht,$=":"+$+"R"+ht,ht=Kh++,0<ht&&($+="H"+ht.toString(32)),$+=":"}else ht=Lh++,$=":"+$+"r"+ht.toString(32)+":";return xt.memoizedState=$},unstable_isNewReconciler:!1},Ph={readContext:eh,useCallback:si,useContext:eh,useEffect:$h,useImperativeHandle:qi,useInsertionEffect:ni,useLayoutEffect:oi,useMemo:ti,useReducer:Wh,useRef:ji,useState:function(){return Wh(Vh)},useDebugValue:ri,useDeferredValue:function(xt){var $=Uh();return ui($,N$3.memoizedState,xt)},useTransition:function(){var xt=Wh(Vh)[0],$=Uh().memoizedState;return[xt,$]},useMutableSource:Yh,useSyncExternalStore:Zh,useId:wi,unstable_isNewReconciler:!1},Qh={readContext:eh,useCallback:si,useContext:eh,useEffect:$h,useImperativeHandle:qi,useInsertionEffect:ni,useLayoutEffect:oi,useMemo:ti,useReducer:Xh,useRef:ji,useState:function(){return Xh(Vh)},useDebugValue:ri,useDeferredValue:function(xt){var $=Uh();return N$3===null?$.memoizedState=xt:ui($,N$3.memoizedState,xt)},useTransition:function(){var xt=Xh(Vh)[0],$=Uh().memoizedState;return[xt,$]},useMutableSource:Yh,useSyncExternalStore:Zh,useId:wi,unstable_isNewReconciler:!1};function Ci(xt,$){if(xt&&xt.defaultProps){$=A$3({},$),xt=xt.defaultProps;for(var ht in xt)$[ht]===void 0&&($[ht]=xt[ht]);return $}return $}function Di(xt,$,ht,vt){$=xt.memoizedState,ht=ht(vt,$),ht=ht==null?$:A$3({},$,ht),xt.memoizedState=ht,xt.lanes===0&&(xt.updateQueue.baseState=ht)}var Ei={isMounted:function(xt){return(xt=xt._reactInternals)?Vb(xt)===xt:!1},enqueueSetState:function(xt,$,ht){xt=xt._reactInternals;var vt=R$1(),At=yi(xt),St=mh(vt,At);St.payload=$,ht!=null&&(St.callback=ht),$=nh(xt,St,At),$!==null&&(gi($,xt,At,vt),oh($,xt,At))},enqueueReplaceState:function(xt,$,ht){xt=xt._reactInternals;var vt=R$1(),At=yi(xt),St=mh(vt,At);St.tag=1,St.payload=$,ht!=null&&(St.callback=ht),$=nh(xt,St,At),$!==null&&(gi($,xt,At,vt),oh($,xt,At))},enqueueForceUpdate:function(xt,$){xt=xt._reactInternals;var ht=R$1(),vt=yi(xt),At=mh(ht,vt);At.tag=2,$!=null&&(At.callback=$),$=nh(xt,At,vt),$!==null&&(gi($,xt,vt,ht),oh($,xt,vt))}};function Fi(xt,$,ht,vt,At,St,Ct){return xt=xt.stateNode,typeof xt.shouldComponentUpdate=="function"?xt.shouldComponentUpdate(vt,St,Ct):$.prototype&&$.prototype.isPureReactComponent?!Ie(ht,vt)||!Ie(At,St):!0}function Gi(xt,$,ht){var vt=!1,At=Vf,St=$.contextType;return typeof St=="object"&&St!==null?St=eh(St):(At=Zf($)?Xf:H$2.current,vt=$.contextTypes,St=(vt=vt!=null)?Yf(xt,At):Vf),$=new $(ht,St),xt.memoizedState=$.state!==null&&$.state!==void 0?$.state:null,$.updater=Ei,xt.stateNode=$,$._reactInternals=xt,vt&&(xt=xt.stateNode,xt.__reactInternalMemoizedUnmaskedChildContext=At,xt.__reactInternalMemoizedMaskedChildContext=St),$}function Hi(xt,$,ht,vt){xt=$.state,typeof $.componentWillReceiveProps=="function"&&$.componentWillReceiveProps(ht,vt),typeof $.UNSAFE_componentWillReceiveProps=="function"&&$.UNSAFE_componentWillReceiveProps(ht,vt),$.state!==xt&&Ei.enqueueReplaceState($,$.state,null)}function Ii(xt,$,ht,vt){var At=xt.stateNode;At.props=ht,At.state=xt.memoizedState,At.refs={},kh(xt);var St=$.contextType;typeof St=="object"&&St!==null?At.context=eh(St):(St=Zf($)?Xf:H$2.current,At.context=Yf(xt,St)),At.state=xt.memoizedState,St=$.getDerivedStateFromProps,typeof St=="function"&&(Di(xt,$,St,ht),At.state=xt.memoizedState),typeof $.getDerivedStateFromProps=="function"||typeof At.getSnapshotBeforeUpdate=="function"||typeof At.UNSAFE_componentWillMount!="function"&&typeof At.componentWillMount!="function"||($=At.state,typeof At.componentWillMount=="function"&&At.componentWillMount(),typeof At.UNSAFE_componentWillMount=="function"&&At.UNSAFE_componentWillMount(),$!==At.state&&Ei.enqueueReplaceState(At,At.state,null),qh(xt,ht,At,vt),At.state=xt.memoizedState),typeof At.componentDidMount=="function"&&(xt.flags|=4194308)}function Ji(xt,$){try{var ht="",vt=$;do ht+=Pa(vt),vt=vt.return;while(vt);var At=ht}catch(St){At=`
Error generating stack: `+St.message+`
`+St.stack}return{value:xt,source:$,stack:At,digest:null}}function Ki(xt,$,ht){return{value:xt,source:null,stack:ht??null,digest:$??null}}function Li(xt,$){try{console.error($.value)}catch(ht){setTimeout(function(){throw ht})}}var Mi=typeof WeakMap=="function"?WeakMap:Map;function Ni(xt,$,ht){ht=mh(-1,ht),ht.tag=3,ht.payload={element:null};var vt=$.value;return ht.callback=function(){Oi||(Oi=!0,Pi=vt),Li(xt,$)},ht}function Qi(xt,$,ht){ht=mh(-1,ht),ht.tag=3;var vt=xt.type.getDerivedStateFromError;if(typeof vt=="function"){var At=$.value;ht.payload=function(){return vt(At)},ht.callback=function(){Li(xt,$)}}var St=xt.stateNode;return St!==null&&typeof St.componentDidCatch=="function"&&(ht.callback=function(){Li(xt,$),typeof vt!="function"&&(Ri===null?Ri=new Set([this]):Ri.add(this));var Ct=$.stack;this.componentDidCatch($.value,{componentStack:Ct!==null?Ct:""})}),ht}function Si(xt,$,ht){var vt=xt.pingCache;if(vt===null){vt=xt.pingCache=new Mi;var At=new Set;vt.set($,At)}else At=vt.get($),At===void 0&&(At=new Set,vt.set($,At));At.has(ht)||(At.add(ht),xt=Ti.bind(null,xt,$,ht),$.then(xt,xt))}function Ui(xt){do{var $;if(($=xt.tag===13)&&($=xt.memoizedState,$=$!==null?$.dehydrated!==null:!0),$)return xt;xt=xt.return}while(xt!==null);return null}function Vi(xt,$,ht,vt,At){return xt.mode&1?(xt.flags|=65536,xt.lanes=At,xt):(xt===$?xt.flags|=65536:(xt.flags|=128,ht.flags|=131072,ht.flags&=-52805,ht.tag===1&&(ht.alternate===null?ht.tag=17:($=mh(-1,1),$.tag=2,nh(ht,$,1))),ht.lanes|=1),xt)}var Wi=ua.ReactCurrentOwner,dh=!1;function Xi(xt,$,ht,vt){$.child=xt===null?Vg($,null,ht,vt):Ug($,xt.child,ht,vt)}function Yi(xt,$,ht,vt,At){ht=ht.render;var St=$.ref;return ch($,At),vt=Nh(xt,$,ht,vt,St,At),ht=Sh(),xt!==null&&!dh?($.updateQueue=xt.updateQueue,$.flags&=-2053,xt.lanes&=~At,Zi(xt,$,At)):(I$4&&ht&&vg($),$.flags|=1,Xi(xt,$,vt,At),$.child)}function $i(xt,$,ht,vt,At){if(xt===null){var St=ht.type;return typeof St=="function"&&!aj(St)&&St.defaultProps===void 0&&ht.compare===null&&ht.defaultProps===void 0?($.tag=15,$.type=St,bj(xt,$,St,vt,At)):(xt=Rg(ht.type,null,vt,$,$.mode,At),xt.ref=$.ref,xt.return=$,$.child=xt)}if(St=xt.child,!(xt.lanes&At)){var Ct=St.memoizedProps;if(ht=ht.compare,ht=ht!==null?ht:Ie,ht(Ct,vt)&&xt.ref===$.ref)return Zi(xt,$,At)}return $.flags|=1,xt=Pg(St,vt),xt.ref=$.ref,xt.return=$,$.child=xt}function bj(xt,$,ht,vt,At){if(xt!==null){var St=xt.memoizedProps;if(Ie(St,vt)&&xt.ref===$.ref)if(dh=!1,$.pendingProps=vt=St,(xt.lanes&At)!==0)xt.flags&131072&&(dh=!0);else return $.lanes=xt.lanes,Zi(xt,$,At)}return cj(xt,$,ht,vt,At)}function dj(xt,$,ht){var vt=$.pendingProps,At=vt.children,St=xt!==null?xt.memoizedState:null;if(vt.mode==="hidden")if(!($.mode&1))$.memoizedState={baseLanes:0,cachePool:null,transitions:null},G$2(ej,fj),fj|=ht;else{if(!(ht&1073741824))return xt=St!==null?St.baseLanes|ht:ht,$.lanes=$.childLanes=1073741824,$.memoizedState={baseLanes:xt,cachePool:null,transitions:null},$.updateQueue=null,G$2(ej,fj),fj|=xt,null;$.memoizedState={baseLanes:0,cachePool:null,transitions:null},vt=St!==null?St.baseLanes:ht,G$2(ej,fj),fj|=vt}else St!==null?(vt=St.baseLanes|ht,$.memoizedState=null):vt=ht,G$2(ej,fj),fj|=vt;return Xi(xt,$,At,ht),$.child}function gj(xt,$){var ht=$.ref;(xt===null&&ht!==null||xt!==null&&xt.ref!==ht)&&($.flags|=512,$.flags|=2097152)}function cj(xt,$,ht,vt,At){var St=Zf(ht)?Xf:H$2.current;return St=Yf($,St),ch($,At),ht=Nh(xt,$,ht,vt,St,At),vt=Sh(),xt!==null&&!dh?($.updateQueue=xt.updateQueue,$.flags&=-2053,xt.lanes&=~At,Zi(xt,$,At)):(I$4&&vt&&vg($),$.flags|=1,Xi(xt,$,ht,At),$.child)}function hj(xt,$,ht,vt,At){if(Zf(ht)){var St=!0;cg($)}else St=!1;if(ch($,At),$.stateNode===null)ij(xt,$),Gi($,ht,vt),Ii($,ht,vt,At),vt=!0;else if(xt===null){var Ct=$.stateNode,Et=$.memoizedProps;Ct.props=Et;var Ft=Ct.context,wt=ht.contextType;typeof wt=="object"&&wt!==null?wt=eh(wt):(wt=Zf(ht)?Xf:H$2.current,wt=Yf($,wt));var _t=ht.getDerivedStateFromProps,Rt=typeof _t=="function"||typeof Ct.getSnapshotBeforeUpdate=="function";Rt||typeof Ct.UNSAFE_componentWillReceiveProps!="function"&&typeof Ct.componentWillReceiveProps!="function"||(Et!==vt||Ft!==wt)&&Hi($,Ct,vt,wt),jh=!1;var _e=$.memoizedState;Ct.state=_e,qh($,vt,Ct,At),Ft=$.memoizedState,Et!==vt||_e!==Ft||Wf.current||jh?(typeof _t=="function"&&(Di($,ht,_t,vt),Ft=$.memoizedState),(Et=jh||Fi($,ht,Et,vt,_e,Ft,wt))?(Rt||typeof Ct.UNSAFE_componentWillMount!="function"&&typeof Ct.componentWillMount!="function"||(typeof Ct.componentWillMount=="function"&&Ct.componentWillMount(),typeof Ct.UNSAFE_componentWillMount=="function"&&Ct.UNSAFE_componentWillMount()),typeof Ct.componentDidMount=="function"&&($.flags|=4194308)):(typeof Ct.componentDidMount=="function"&&($.flags|=4194308),$.memoizedProps=vt,$.memoizedState=Ft),Ct.props=vt,Ct.state=Ft,Ct.context=wt,vt=Et):(typeof Ct.componentDidMount=="function"&&($.flags|=4194308),vt=!1)}else{Ct=$.stateNode,lh(xt,$),Et=$.memoizedProps,wt=$.type===$.elementType?Et:Ci($.type,Et),Ct.props=wt,Rt=$.pendingProps,_e=Ct.context,Ft=ht.contextType,typeof Ft=="object"&&Ft!==null?Ft=eh(Ft):(Ft=Zf(ht)?Xf:H$2.current,Ft=Yf($,Ft));var bt=ht.getDerivedStateFromProps;(_t=typeof bt=="function"||typeof Ct.getSnapshotBeforeUpdate=="function")||typeof Ct.UNSAFE_componentWillReceiveProps!="function"&&typeof Ct.componentWillReceiveProps!="function"||(Et!==Rt||_e!==Ft)&&Hi($,Ct,vt,Ft),jh=!1,_e=$.memoizedState,Ct.state=_e,qh($,vt,Ct,At);var Pt=$.memoizedState;Et!==Rt||_e!==Pt||Wf.current||jh?(typeof bt=="function"&&(Di($,ht,bt,vt),Pt=$.memoizedState),(wt=jh||Fi($,ht,wt,vt,_e,Pt,Ft)||!1)?(_t||typeof Ct.UNSAFE_componentWillUpdate!="function"&&typeof Ct.componentWillUpdate!="function"||(typeof Ct.componentWillUpdate=="function"&&Ct.componentWillUpdate(vt,Pt,Ft),typeof Ct.UNSAFE_componentWillUpdate=="function"&&Ct.UNSAFE_componentWillUpdate(vt,Pt,Ft)),typeof Ct.componentDidUpdate=="function"&&($.flags|=4),typeof Ct.getSnapshotBeforeUpdate=="function"&&($.flags|=1024)):(typeof Ct.componentDidUpdate!="function"||Et===xt.memoizedProps&&_e===xt.memoizedState||($.flags|=4),typeof Ct.getSnapshotBeforeUpdate!="function"||Et===xt.memoizedProps&&_e===xt.memoizedState||($.flags|=1024),$.memoizedProps=vt,$.memoizedState=Pt),Ct.props=vt,Ct.state=Pt,Ct.context=Ft,vt=wt):(typeof Ct.componentDidUpdate!="function"||Et===xt.memoizedProps&&_e===xt.memoizedState||($.flags|=4),typeof Ct.getSnapshotBeforeUpdate!="function"||Et===xt.memoizedProps&&_e===xt.memoizedState||($.flags|=1024),vt=!1)}return jj(xt,$,ht,vt,St,At)}function jj(xt,$,ht,vt,At,St){gj(xt,$);var Ct=($.flags&128)!==0;if(!vt&&!Ct)return At&&dg($,ht,!1),Zi(xt,$,St);vt=$.stateNode,Wi.current=$;var Et=Ct&&typeof ht.getDerivedStateFromError!="function"?null:vt.render();return $.flags|=1,xt!==null&&Ct?($.child=Ug($,xt.child,null,St),$.child=Ug($,null,Et,St)):Xi(xt,$,Et,St),$.memoizedState=vt.state,At&&dg($,ht,!0),$.child}function kj(xt){var $=xt.stateNode;$.pendingContext?ag(xt,$.pendingContext,$.pendingContext!==$.context):$.context&&ag(xt,$.context,!1),yh(xt,$.containerInfo)}function lj(xt,$,ht,vt,At){return Ig(),Jg(At),$.flags|=256,Xi(xt,$,ht,vt),$.child}var mj={dehydrated:null,treeContext:null,retryLane:0};function nj(xt){return{baseLanes:xt,cachePool:null,transitions:null}}function oj(xt,$,ht){var vt=$.pendingProps,At=L$1.current,St=!1,Ct=($.flags&128)!==0,Et;if((Et=Ct)||(Et=xt!==null&&xt.memoizedState===null?!1:(At&2)!==0),Et?(St=!0,$.flags&=-129):(xt===null||xt.memoizedState!==null)&&(At|=1),G$2(L$1,At&1),xt===null)return Eg($),xt=$.memoizedState,xt!==null&&(xt=xt.dehydrated,xt!==null)?($.mode&1?xt.data==="$!"?$.lanes=8:$.lanes=1073741824:$.lanes=1,null):(Ct=vt.children,xt=vt.fallback,St?(vt=$.mode,St=$.child,Ct={mode:"hidden",children:Ct},!(vt&1)&&St!==null?(St.childLanes=0,St.pendingProps=Ct):St=pj(Ct,vt,0,null),xt=Tg(xt,vt,ht,null),St.return=$,xt.return=$,St.sibling=xt,$.child=St,$.child.memoizedState=nj(ht),$.memoizedState=mj,xt):qj($,Ct));if(At=xt.memoizedState,At!==null&&(Et=At.dehydrated,Et!==null))return rj(xt,$,Ct,vt,Et,At,ht);if(St){St=vt.fallback,Ct=$.mode,At=xt.child,Et=At.sibling;var Ft={mode:"hidden",children:vt.children};return!(Ct&1)&&$.child!==At?(vt=$.child,vt.childLanes=0,vt.pendingProps=Ft,$.deletions=null):(vt=Pg(At,Ft),vt.subtreeFlags=At.subtreeFlags&14680064),Et!==null?St=Pg(Et,St):(St=Tg(St,Ct,ht,null),St.flags|=2),St.return=$,vt.return=$,vt.sibling=St,$.child=vt,vt=St,St=$.child,Ct=xt.child.memoizedState,Ct=Ct===null?nj(ht):{baseLanes:Ct.baseLanes|ht,cachePool:null,transitions:Ct.transitions},St.memoizedState=Ct,St.childLanes=xt.childLanes&~ht,$.memoizedState=mj,vt}return St=xt.child,xt=St.sibling,vt=Pg(St,{mode:"visible",children:vt.children}),!($.mode&1)&&(vt.lanes=ht),vt.return=$,vt.sibling=null,xt!==null&&(ht=$.deletions,ht===null?($.deletions=[xt],$.flags|=16):ht.push(xt)),$.child=vt,$.memoizedState=null,vt}function qj(xt,$){return $=pj({mode:"visible",children:$},xt.mode,0,null),$.return=xt,xt.child=$}function sj(xt,$,ht,vt){return vt!==null&&Jg(vt),Ug($,xt.child,null,ht),xt=qj($,$.pendingProps.children),xt.flags|=2,$.memoizedState=null,xt}function rj(xt,$,ht,vt,At,St,Ct){if(ht)return $.flags&256?($.flags&=-257,vt=Ki(Error(p$4(422))),sj(xt,$,Ct,vt)):$.memoizedState!==null?($.child=xt.child,$.flags|=128,null):(St=vt.fallback,At=$.mode,vt=pj({mode:"visible",children:vt.children},At,0,null),St=Tg(St,At,Ct,null),St.flags|=2,vt.return=$,St.return=$,vt.sibling=St,$.child=vt,$.mode&1&&Ug($,xt.child,null,Ct),$.child.memoizedState=nj(Ct),$.memoizedState=mj,St);if(!($.mode&1))return sj(xt,$,Ct,null);if(At.data==="$!"){if(vt=At.nextSibling&&At.nextSibling.dataset,vt)var Et=vt.dgst;return vt=Et,St=Error(p$4(419)),vt=Ki(St,vt,void 0),sj(xt,$,Ct,vt)}if(Et=(Ct&xt.childLanes)!==0,dh||Et){if(vt=Q,vt!==null){switch(Ct&-Ct){case 4:At=2;break;case 16:At=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:At=32;break;case 536870912:At=268435456;break;default:At=0}At=At&(vt.suspendedLanes|Ct)?0:At,At!==0&&At!==St.retryLane&&(St.retryLane=At,ih(xt,At),gi(vt,xt,At,-1))}return tj(),vt=Ki(Error(p$4(421))),sj(xt,$,Ct,vt)}return At.data==="$?"?($.flags|=128,$.child=xt.child,$=uj.bind(null,xt),At._reactRetry=$,null):(xt=St.treeContext,yg=Lf(At.nextSibling),xg=$,I$4=!0,zg=null,xt!==null&&(og[pg++]=rg,og[pg++]=sg,og[pg++]=qg,rg=xt.id,sg=xt.overflow,qg=$),$=qj($,vt.children),$.flags|=4096,$)}function vj(xt,$,ht){xt.lanes|=$;var vt=xt.alternate;vt!==null&&(vt.lanes|=$),bh(xt.return,$,ht)}function wj(xt,$,ht,vt,At){var St=xt.memoizedState;St===null?xt.memoizedState={isBackwards:$,rendering:null,renderingStartTime:0,last:vt,tail:ht,tailMode:At}:(St.isBackwards=$,St.rendering=null,St.renderingStartTime=0,St.last=vt,St.tail=ht,St.tailMode=At)}function xj(xt,$,ht){var vt=$.pendingProps,At=vt.revealOrder,St=vt.tail;if(Xi(xt,$,vt.children,ht),vt=L$1.current,vt&2)vt=vt&1|2,$.flags|=128;else{if(xt!==null&&xt.flags&128)e:for(xt=$.child;xt!==null;){if(xt.tag===13)xt.memoizedState!==null&&vj(xt,ht,$);else if(xt.tag===19)vj(xt,ht,$);else if(xt.child!==null){xt.child.return=xt,xt=xt.child;continue}if(xt===$)break e;for(;xt.sibling===null;){if(xt.return===null||xt.return===$)break e;xt=xt.return}xt.sibling.return=xt.return,xt=xt.sibling}vt&=1}if(G$2(L$1,vt),!($.mode&1))$.memoizedState=null;else switch(At){case"forwards":for(ht=$.child,At=null;ht!==null;)xt=ht.alternate,xt!==null&&Ch(xt)===null&&(At=ht),ht=ht.sibling;ht=At,ht===null?(At=$.child,$.child=null):(At=ht.sibling,ht.sibling=null),wj($,!1,At,ht,St);break;case"backwards":for(ht=null,At=$.child,$.child=null;At!==null;){if(xt=At.alternate,xt!==null&&Ch(xt)===null){$.child=At;break}xt=At.sibling,At.sibling=ht,ht=At,At=xt}wj($,!0,ht,null,St);break;case"together":wj($,!1,null,null,void 0);break;default:$.memoizedState=null}return $.child}function ij(xt,$){!($.mode&1)&&xt!==null&&(xt.alternate=null,$.alternate=null,$.flags|=2)}function Zi(xt,$,ht){if(xt!==null&&($.dependencies=xt.dependencies),rh|=$.lanes,!(ht&$.childLanes))return null;if(xt!==null&&$.child!==xt.child)throw Error(p$4(153));if($.child!==null){for(xt=$.child,ht=Pg(xt,xt.pendingProps),$.child=ht,ht.return=$;xt.sibling!==null;)xt=xt.sibling,ht=ht.sibling=Pg(xt,xt.pendingProps),ht.return=$;ht.sibling=null}return $.child}function yj(xt,$,ht){switch($.tag){case 3:kj($),Ig();break;case 5:Ah($);break;case 1:Zf($.type)&&cg($);break;case 4:yh($,$.stateNode.containerInfo);break;case 10:var vt=$.type._context,At=$.memoizedProps.value;G$2(Wg,vt._currentValue),vt._currentValue=At;break;case 13:if(vt=$.memoizedState,vt!==null)return vt.dehydrated!==null?(G$2(L$1,L$1.current&1),$.flags|=128,null):ht&$.child.childLanes?oj(xt,$,ht):(G$2(L$1,L$1.current&1),xt=Zi(xt,$,ht),xt!==null?xt.sibling:null);G$2(L$1,L$1.current&1);break;case 19:if(vt=(ht&$.childLanes)!==0,xt.flags&128){if(vt)return xj(xt,$,ht);$.flags|=128}if(At=$.memoizedState,At!==null&&(At.rendering=null,At.tail=null,At.lastEffect=null),G$2(L$1,L$1.current),vt)break;return null;case 22:case 23:return $.lanes=0,dj(xt,$,ht)}return Zi(xt,$,ht)}var zj,Aj,Bj,Cj;zj=function(xt,$){for(var ht=$.child;ht!==null;){if(ht.tag===5||ht.tag===6)xt.appendChild(ht.stateNode);else if(ht.tag!==4&&ht.child!==null){ht.child.return=ht,ht=ht.child;continue}if(ht===$)break;for(;ht.sibling===null;){if(ht.return===null||ht.return===$)return;ht=ht.return}ht.sibling.return=ht.return,ht=ht.sibling}};Aj=function(){};Bj=function(xt,$,ht,vt){var At=xt.memoizedProps;if(At!==vt){xt=$.stateNode,xh(uh.current);var St=null;switch(ht){case"input":At=Ya(xt,At),vt=Ya(xt,vt),St=[];break;case"select":At=A$3({},At,{value:void 0}),vt=A$3({},vt,{value:void 0}),St=[];break;case"textarea":At=gb(xt,At),vt=gb(xt,vt),St=[];break;default:typeof At.onClick!="function"&&typeof vt.onClick=="function"&&(xt.onclick=Bf)}ub(ht,vt);var Ct;ht=null;for(wt in At)if(!vt.hasOwnProperty(wt)&&At.hasOwnProperty(wt)&&At[wt]!=null)if(wt==="style"){var Et=At[wt];for(Ct in Et)Et.hasOwnProperty(Ct)&&(ht||(ht={}),ht[Ct]="")}else wt!=="dangerouslySetInnerHTML"&&wt!=="children"&&wt!=="suppressContentEditableWarning"&&wt!=="suppressHydrationWarning"&&wt!=="autoFocus"&&(ea.hasOwnProperty(wt)?St||(St=[]):(St=St||[]).push(wt,null));for(wt in vt){var Ft=vt[wt];if(Et=At!=null?At[wt]:void 0,vt.hasOwnProperty(wt)&&Ft!==Et&&(Ft!=null||Et!=null))if(wt==="style")if(Et){for(Ct in Et)!Et.hasOwnProperty(Ct)||Ft&&Ft.hasOwnProperty(Ct)||(ht||(ht={}),ht[Ct]="");for(Ct in Ft)Ft.hasOwnProperty(Ct)&&Et[Ct]!==Ft[Ct]&&(ht||(ht={}),ht[Ct]=Ft[Ct])}else ht||(St||(St=[]),St.push(wt,ht)),ht=Ft;else wt==="dangerouslySetInnerHTML"?(Ft=Ft?Ft.__html:void 0,Et=Et?Et.__html:void 0,Ft!=null&&Et!==Ft&&(St=St||[]).push(wt,Ft)):wt==="children"?typeof Ft!="string"&&typeof Ft!="number"||(St=St||[]).push(wt,""+Ft):wt!=="suppressContentEditableWarning"&&wt!=="suppressHydrationWarning"&&(ea.hasOwnProperty(wt)?(Ft!=null&&wt==="onScroll"&&D$4("scroll",xt),St||Et===Ft||(St=[])):(St=St||[]).push(wt,Ft))}ht&&(St=St||[]).push("style",ht);var wt=St;($.updateQueue=wt)&&($.flags|=4)}};Cj=function(xt,$,ht,vt){ht!==vt&&($.flags|=4)};function Dj(xt,$){if(!I$4)switch(xt.tailMode){case"hidden":$=xt.tail;for(var ht=null;$!==null;)$.alternate!==null&&(ht=$),$=$.sibling;ht===null?xt.tail=null:ht.sibling=null;break;case"collapsed":ht=xt.tail;for(var vt=null;ht!==null;)ht.alternate!==null&&(vt=ht),ht=ht.sibling;vt===null?$||xt.tail===null?xt.tail=null:xt.tail.sibling=null:vt.sibling=null}}function S$4(xt){var $=xt.alternate!==null&&xt.alternate.child===xt.child,ht=0,vt=0;if($)for(var At=xt.child;At!==null;)ht|=At.lanes|At.childLanes,vt|=At.subtreeFlags&14680064,vt|=At.flags&14680064,At.return=xt,At=At.sibling;else for(At=xt.child;At!==null;)ht|=At.lanes|At.childLanes,vt|=At.subtreeFlags,vt|=At.flags,At.return=xt,At=At.sibling;return xt.subtreeFlags|=vt,xt.childLanes=ht,$}function Ej(xt,$,ht){var vt=$.pendingProps;switch(wg($),$.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return S$4($),null;case 1:return Zf($.type)&&$f(),S$4($),null;case 3:return vt=$.stateNode,zh(),E$1(Wf),E$1(H$2),Eh(),vt.pendingContext&&(vt.context=vt.pendingContext,vt.pendingContext=null),(xt===null||xt.child===null)&&(Gg($)?$.flags|=4:xt===null||xt.memoizedState.isDehydrated&&!($.flags&256)||($.flags|=1024,zg!==null&&(Fj(zg),zg=null))),Aj(xt,$),S$4($),null;case 5:Bh($);var At=xh(wh.current);if(ht=$.type,xt!==null&&$.stateNode!=null)Bj(xt,$,ht,vt,At),xt.ref!==$.ref&&($.flags|=512,$.flags|=2097152);else{if(!vt){if($.stateNode===null)throw Error(p$4(166));return S$4($),null}if(xt=xh(uh.current),Gg($)){vt=$.stateNode,ht=$.type;var St=$.memoizedProps;switch(vt[Of]=$,vt[Pf]=St,xt=($.mode&1)!==0,ht){case"dialog":D$4("cancel",vt),D$4("close",vt);break;case"iframe":case"object":case"embed":D$4("load",vt);break;case"video":case"audio":for(At=0;At<lf.length;At++)D$4(lf[At],vt);break;case"source":D$4("error",vt);break;case"img":case"image":case"link":D$4("error",vt),D$4("load",vt);break;case"details":D$4("toggle",vt);break;case"input":Za(vt,St),D$4("invalid",vt);break;case"select":vt._wrapperState={wasMultiple:!!St.multiple},D$4("invalid",vt);break;case"textarea":hb(vt,St),D$4("invalid",vt)}ub(ht,St),At=null;for(var Ct in St)if(St.hasOwnProperty(Ct)){var Et=St[Ct];Ct==="children"?typeof Et=="string"?vt.textContent!==Et&&(St.suppressHydrationWarning!==!0&&Af(vt.textContent,Et,xt),At=["children",Et]):typeof Et=="number"&&vt.textContent!==""+Et&&(St.suppressHydrationWarning!==!0&&Af(vt.textContent,Et,xt),At=["children",""+Et]):ea.hasOwnProperty(Ct)&&Et!=null&&Ct==="onScroll"&&D$4("scroll",vt)}switch(ht){case"input":Va(vt),db(vt,St,!0);break;case"textarea":Va(vt),jb(vt);break;case"select":case"option":break;default:typeof St.onClick=="function"&&(vt.onclick=Bf)}vt=At,$.updateQueue=vt,vt!==null&&($.flags|=4)}else{Ct=At.nodeType===9?At:At.ownerDocument,xt==="http://www.w3.org/1999/xhtml"&&(xt=kb(ht)),xt==="http://www.w3.org/1999/xhtml"?ht==="script"?(xt=Ct.createElement("div"),xt.innerHTML="<script><\/script>",xt=xt.removeChild(xt.firstChild)):typeof vt.is=="string"?xt=Ct.createElement(ht,{is:vt.is}):(xt=Ct.createElement(ht),ht==="select"&&(Ct=xt,vt.multiple?Ct.multiple=!0:vt.size&&(Ct.size=vt.size))):xt=Ct.createElementNS(xt,ht),xt[Of]=$,xt[Pf]=vt,zj(xt,$,!1,!1),$.stateNode=xt;e:{switch(Ct=vb(ht,vt),ht){case"dialog":D$4("cancel",xt),D$4("close",xt),At=vt;break;case"iframe":case"object":case"embed":D$4("load",xt),At=vt;break;case"video":case"audio":for(At=0;At<lf.length;At++)D$4(lf[At],xt);At=vt;break;case"source":D$4("error",xt),At=vt;break;case"img":case"image":case"link":D$4("error",xt),D$4("load",xt),At=vt;break;case"details":D$4("toggle",xt),At=vt;break;case"input":Za(xt,vt),At=Ya(xt,vt),D$4("invalid",xt);break;case"option":At=vt;break;case"select":xt._wrapperState={wasMultiple:!!vt.multiple},At=A$3({},vt,{value:void 0}),D$4("invalid",xt);break;case"textarea":hb(xt,vt),At=gb(xt,vt),D$4("invalid",xt);break;default:At=vt}ub(ht,At),Et=At;for(St in Et)if(Et.hasOwnProperty(St)){var Ft=Et[St];St==="style"?sb(xt,Ft):St==="dangerouslySetInnerHTML"?(Ft=Ft?Ft.__html:void 0,Ft!=null&&nb(xt,Ft)):St==="children"?typeof Ft=="string"?(ht!=="textarea"||Ft!=="")&&ob(xt,Ft):typeof Ft=="number"&&ob(xt,""+Ft):St!=="suppressContentEditableWarning"&&St!=="suppressHydrationWarning"&&St!=="autoFocus"&&(ea.hasOwnProperty(St)?Ft!=null&&St==="onScroll"&&D$4("scroll",xt):Ft!=null&&ta(xt,St,Ft,Ct))}switch(ht){case"input":Va(xt),db(xt,vt,!1);break;case"textarea":Va(xt),jb(xt);break;case"option":vt.value!=null&&xt.setAttribute("value",""+Sa(vt.value));break;case"select":xt.multiple=!!vt.multiple,St=vt.value,St!=null?fb(xt,!!vt.multiple,St,!1):vt.defaultValue!=null&&fb(xt,!!vt.multiple,vt.defaultValue,!0);break;default:typeof At.onClick=="function"&&(xt.onclick=Bf)}switch(ht){case"button":case"input":case"select":case"textarea":vt=!!vt.autoFocus;break e;case"img":vt=!0;break e;default:vt=!1}}vt&&($.flags|=4)}$.ref!==null&&($.flags|=512,$.flags|=2097152)}return S$4($),null;case 6:if(xt&&$.stateNode!=null)Cj(xt,$,xt.memoizedProps,vt);else{if(typeof vt!="string"&&$.stateNode===null)throw Error(p$4(166));if(ht=xh(wh.current),xh(uh.current),Gg($)){if(vt=$.stateNode,ht=$.memoizedProps,vt[Of]=$,(St=vt.nodeValue!==ht)&&(xt=xg,xt!==null))switch(xt.tag){case 3:Af(vt.nodeValue,ht,(xt.mode&1)!==0);break;case 5:xt.memoizedProps.suppressHydrationWarning!==!0&&Af(vt.nodeValue,ht,(xt.mode&1)!==0)}St&&($.flags|=4)}else vt=(ht.nodeType===9?ht:ht.ownerDocument).createTextNode(vt),vt[Of]=$,$.stateNode=vt}return S$4($),null;case 13:if(E$1(L$1),vt=$.memoizedState,xt===null||xt.memoizedState!==null&&xt.memoizedState.dehydrated!==null){if(I$4&&yg!==null&&$.mode&1&&!($.flags&128))Hg(),Ig(),$.flags|=98560,St=!1;else if(St=Gg($),vt!==null&&vt.dehydrated!==null){if(xt===null){if(!St)throw Error(p$4(318));if(St=$.memoizedState,St=St!==null?St.dehydrated:null,!St)throw Error(p$4(317));St[Of]=$}else Ig(),!($.flags&128)&&($.memoizedState=null),$.flags|=4;S$4($),St=!1}else zg!==null&&(Fj(zg),zg=null),St=!0;if(!St)return $.flags&65536?$:null}return $.flags&128?($.lanes=ht,$):(vt=vt!==null,vt!==(xt!==null&&xt.memoizedState!==null)&&vt&&($.child.flags|=8192,$.mode&1&&(xt===null||L$1.current&1?T$3===0&&(T$3=3):tj())),$.updateQueue!==null&&($.flags|=4),S$4($),null);case 4:return zh(),Aj(xt,$),xt===null&&sf($.stateNode.containerInfo),S$4($),null;case 10:return ah($.type._context),S$4($),null;case 17:return Zf($.type)&&$f(),S$4($),null;case 19:if(E$1(L$1),St=$.memoizedState,St===null)return S$4($),null;if(vt=($.flags&128)!==0,Ct=St.rendering,Ct===null)if(vt)Dj(St,!1);else{if(T$3!==0||xt!==null&&xt.flags&128)for(xt=$.child;xt!==null;){if(Ct=Ch(xt),Ct!==null){for($.flags|=128,Dj(St,!1),vt=Ct.updateQueue,vt!==null&&($.updateQueue=vt,$.flags|=4),$.subtreeFlags=0,vt=ht,ht=$.child;ht!==null;)St=ht,xt=vt,St.flags&=14680066,Ct=St.alternate,Ct===null?(St.childLanes=0,St.lanes=xt,St.child=null,St.subtreeFlags=0,St.memoizedProps=null,St.memoizedState=null,St.updateQueue=null,St.dependencies=null,St.stateNode=null):(St.childLanes=Ct.childLanes,St.lanes=Ct.lanes,St.child=Ct.child,St.subtreeFlags=0,St.deletions=null,St.memoizedProps=Ct.memoizedProps,St.memoizedState=Ct.memoizedState,St.updateQueue=Ct.updateQueue,St.type=Ct.type,xt=Ct.dependencies,St.dependencies=xt===null?null:{lanes:xt.lanes,firstContext:xt.firstContext}),ht=ht.sibling;return G$2(L$1,L$1.current&1|2),$.child}xt=xt.sibling}St.tail!==null&&B$1()>Gj&&($.flags|=128,vt=!0,Dj(St,!1),$.lanes=4194304)}else{if(!vt)if(xt=Ch(Ct),xt!==null){if($.flags|=128,vt=!0,ht=xt.updateQueue,ht!==null&&($.updateQueue=ht,$.flags|=4),Dj(St,!0),St.tail===null&&St.tailMode==="hidden"&&!Ct.alternate&&!I$4)return S$4($),null}else 2*B$1()-St.renderingStartTime>Gj&&ht!==1073741824&&($.flags|=128,vt=!0,Dj(St,!1),$.lanes=4194304);St.isBackwards?(Ct.sibling=$.child,$.child=Ct):(ht=St.last,ht!==null?ht.sibling=Ct:$.child=Ct,St.last=Ct)}return St.tail!==null?($=St.tail,St.rendering=$,St.tail=$.sibling,St.renderingStartTime=B$1(),$.sibling=null,ht=L$1.current,G$2(L$1,vt?ht&1|2:ht&1),$):(S$4($),null);case 22:case 23:return Hj(),vt=$.memoizedState!==null,xt!==null&&xt.memoizedState!==null!==vt&&($.flags|=8192),vt&&$.mode&1?fj&1073741824&&(S$4($),$.subtreeFlags&6&&($.flags|=8192)):S$4($),null;case 24:return null;case 25:return null}throw Error(p$4(156,$.tag))}function Ij(xt,$){switch(wg($),$.tag){case 1:return Zf($.type)&&$f(),xt=$.flags,xt&65536?($.flags=xt&-65537|128,$):null;case 3:return zh(),E$1(Wf),E$1(H$2),Eh(),xt=$.flags,xt&65536&&!(xt&128)?($.flags=xt&-65537|128,$):null;case 5:return Bh($),null;case 13:if(E$1(L$1),xt=$.memoizedState,xt!==null&&xt.dehydrated!==null){if($.alternate===null)throw Error(p$4(340));Ig()}return xt=$.flags,xt&65536?($.flags=xt&-65537|128,$):null;case 19:return E$1(L$1),null;case 4:return zh(),null;case 10:return ah($.type._context),null;case 22:case 23:return Hj(),null;case 24:return null;default:return null}}var Jj=!1,U$2=!1,Kj=typeof WeakSet=="function"?WeakSet:Set,V$1=null;function Lj(xt,$){var ht=xt.ref;if(ht!==null)if(typeof ht=="function")try{ht(null)}catch(vt){W$2(xt,$,vt)}else ht.current=null}function Mj(xt,$,ht){try{ht()}catch(vt){W$2(xt,$,vt)}}var Nj=!1;function Oj(xt,$){if(Cf=dd,xt=Me(),Ne(xt)){if("selectionStart"in xt)var ht={start:xt.selectionStart,end:xt.selectionEnd};else e:{ht=(ht=xt.ownerDocument)&&ht.defaultView||window;var vt=ht.getSelection&&ht.getSelection();if(vt&&vt.rangeCount!==0){ht=vt.anchorNode;var At=vt.anchorOffset,St=vt.focusNode;vt=vt.focusOffset;try{ht.nodeType,St.nodeType}catch{ht=null;break e}var Ct=0,Et=-1,Ft=-1,wt=0,_t=0,Rt=xt,_e=null;t:for(;;){for(var bt;Rt!==ht||At!==0&&Rt.nodeType!==3||(Et=Ct+At),Rt!==St||vt!==0&&Rt.nodeType!==3||(Ft=Ct+vt),Rt.nodeType===3&&(Ct+=Rt.nodeValue.length),(bt=Rt.firstChild)!==null;)_e=Rt,Rt=bt;for(;;){if(Rt===xt)break t;if(_e===ht&&++wt===At&&(Et=Ct),_e===St&&++_t===vt&&(Ft=Ct),(bt=Rt.nextSibling)!==null)break;Rt=_e,_e=Rt.parentNode}Rt=bt}ht=Et===-1||Ft===-1?null:{start:Et,end:Ft}}else ht=null}ht=ht||{start:0,end:0}}else ht=null;for(Df={focusedElem:xt,selectionRange:ht},dd=!1,V$1=$;V$1!==null;)if($=V$1,xt=$.child,($.subtreeFlags&1028)!==0&&xt!==null)xt.return=$,V$1=xt;else for(;V$1!==null;){$=V$1;try{var Pt=$.alternate;if($.flags&1024)switch($.tag){case 0:case 11:case 15:break;case 1:if(Pt!==null){var Xt=Pt.memoizedProps,Kt=Pt.memoizedState,Nt=$.stateNode,$t=Nt.getSnapshotBeforeUpdate($.elementType===$.type?Xt:Ci($.type,Xt),Kt);Nt.__reactInternalSnapshotBeforeUpdate=$t}break;case 3:var Lt=$.stateNode.containerInfo;Lt.nodeType===1?Lt.textContent="":Lt.nodeType===9&&Lt.documentElement&&Lt.removeChild(Lt.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(p$4(163))}}catch(jt){W$2($,$.return,jt)}if(xt=$.sibling,xt!==null){xt.return=$.return,V$1=xt;break}V$1=$.return}return Pt=Nj,Nj=!1,Pt}function Pj(xt,$,ht){var vt=$.updateQueue;if(vt=vt!==null?vt.lastEffect:null,vt!==null){var At=vt=vt.next;do{if((At.tag&xt)===xt){var St=At.destroy;At.destroy=void 0,St!==void 0&&Mj($,ht,St)}At=At.next}while(At!==vt)}}function Qj(xt,$){if($=$.updateQueue,$=$!==null?$.lastEffect:null,$!==null){var ht=$=$.next;do{if((ht.tag&xt)===xt){var vt=ht.create;ht.destroy=vt()}ht=ht.next}while(ht!==$)}}function Rj(xt){var $=xt.ref;if($!==null){var ht=xt.stateNode;switch(xt.tag){case 5:xt=ht;break;default:xt=ht}typeof $=="function"?$(xt):$.current=xt}}function Sj(xt){var $=xt.alternate;$!==null&&(xt.alternate=null,Sj($)),xt.child=null,xt.deletions=null,xt.sibling=null,xt.tag===5&&($=xt.stateNode,$!==null&&(delete $[Of],delete $[Pf],delete $[of],delete $[Qf],delete $[Rf])),xt.stateNode=null,xt.return=null,xt.dependencies=null,xt.memoizedProps=null,xt.memoizedState=null,xt.pendingProps=null,xt.stateNode=null,xt.updateQueue=null}function Tj(xt){return xt.tag===5||xt.tag===3||xt.tag===4}function Uj(xt){e:for(;;){for(;xt.sibling===null;){if(xt.return===null||Tj(xt.return))return null;xt=xt.return}for(xt.sibling.return=xt.return,xt=xt.sibling;xt.tag!==5&&xt.tag!==6&&xt.tag!==18;){if(xt.flags&2||xt.child===null||xt.tag===4)continue e;xt.child.return=xt,xt=xt.child}if(!(xt.flags&2))return xt.stateNode}}function Vj(xt,$,ht){var vt=xt.tag;if(vt===5||vt===6)xt=xt.stateNode,$?ht.nodeType===8?ht.parentNode.insertBefore(xt,$):ht.insertBefore(xt,$):(ht.nodeType===8?($=ht.parentNode,$.insertBefore(xt,ht)):($=ht,$.appendChild(xt)),ht=ht._reactRootContainer,ht!=null||$.onclick!==null||($.onclick=Bf));else if(vt!==4&&(xt=xt.child,xt!==null))for(Vj(xt,$,ht),xt=xt.sibling;xt!==null;)Vj(xt,$,ht),xt=xt.sibling}function Wj(xt,$,ht){var vt=xt.tag;if(vt===5||vt===6)xt=xt.stateNode,$?ht.insertBefore(xt,$):ht.appendChild(xt);else if(vt!==4&&(xt=xt.child,xt!==null))for(Wj(xt,$,ht),xt=xt.sibling;xt!==null;)Wj(xt,$,ht),xt=xt.sibling}var X=null,Xj=!1;function Yj(xt,$,ht){for(ht=ht.child;ht!==null;)Zj(xt,$,ht),ht=ht.sibling}function Zj(xt,$,ht){if(lc&&typeof lc.onCommitFiberUnmount=="function")try{lc.onCommitFiberUnmount(kc,ht)}catch{}switch(ht.tag){case 5:U$2||Lj(ht,$);case 6:var vt=X,At=Xj;X=null,Yj(xt,$,ht),X=vt,Xj=At,X!==null&&(Xj?(xt=X,ht=ht.stateNode,xt.nodeType===8?xt.parentNode.removeChild(ht):xt.removeChild(ht)):X.removeChild(ht.stateNode));break;case 18:X!==null&&(Xj?(xt=X,ht=ht.stateNode,xt.nodeType===8?Kf(xt.parentNode,ht):xt.nodeType===1&&Kf(xt,ht),bd(xt)):Kf(X,ht.stateNode));break;case 4:vt=X,At=Xj,X=ht.stateNode.containerInfo,Xj=!0,Yj(xt,$,ht),X=vt,Xj=At;break;case 0:case 11:case 14:case 15:if(!U$2&&(vt=ht.updateQueue,vt!==null&&(vt=vt.lastEffect,vt!==null))){At=vt=vt.next;do{var St=At,Ct=St.destroy;St=St.tag,Ct!==void 0&&(St&2||St&4)&&Mj(ht,$,Ct),At=At.next}while(At!==vt)}Yj(xt,$,ht);break;case 1:if(!U$2&&(Lj(ht,$),vt=ht.stateNode,typeof vt.componentWillUnmount=="function"))try{vt.props=ht.memoizedProps,vt.state=ht.memoizedState,vt.componentWillUnmount()}catch(Et){W$2(ht,$,Et)}Yj(xt,$,ht);break;case 21:Yj(xt,$,ht);break;case 22:ht.mode&1?(U$2=(vt=U$2)||ht.memoizedState!==null,Yj(xt,$,ht),U$2=vt):Yj(xt,$,ht);break;default:Yj(xt,$,ht)}}function ak(xt){var $=xt.updateQueue;if($!==null){xt.updateQueue=null;var ht=xt.stateNode;ht===null&&(ht=xt.stateNode=new Kj),$.forEach(function(vt){var At=bk.bind(null,xt,vt);ht.has(vt)||(ht.add(vt),vt.then(At,At))})}}function ck(xt,$){var ht=$.deletions;if(ht!==null)for(var vt=0;vt<ht.length;vt++){var At=ht[vt];try{var St=xt,Ct=$,Et=Ct;e:for(;Et!==null;){switch(Et.tag){case 5:X=Et.stateNode,Xj=!1;break e;case 3:X=Et.stateNode.containerInfo,Xj=!0;break e;case 4:X=Et.stateNode.containerInfo,Xj=!0;break e}Et=Et.return}if(X===null)throw Error(p$4(160));Zj(St,Ct,At),X=null,Xj=!1;var Ft=At.alternate;Ft!==null&&(Ft.return=null),At.return=null}catch(wt){W$2(At,$,wt)}}if($.subtreeFlags&12854)for($=$.child;$!==null;)dk($,xt),$=$.sibling}function dk(xt,$){var ht=xt.alternate,vt=xt.flags;switch(xt.tag){case 0:case 11:case 14:case 15:if(ck($,xt),ek(xt),vt&4){try{Pj(3,xt,xt.return),Qj(3,xt)}catch(Xt){W$2(xt,xt.return,Xt)}try{Pj(5,xt,xt.return)}catch(Xt){W$2(xt,xt.return,Xt)}}break;case 1:ck($,xt),ek(xt),vt&512&&ht!==null&&Lj(ht,ht.return);break;case 5:if(ck($,xt),ek(xt),vt&512&&ht!==null&&Lj(ht,ht.return),xt.flags&32){var At=xt.stateNode;try{ob(At,"")}catch(Xt){W$2(xt,xt.return,Xt)}}if(vt&4&&(At=xt.stateNode,At!=null)){var St=xt.memoizedProps,Ct=ht!==null?ht.memoizedProps:St,Et=xt.type,Ft=xt.updateQueue;if(xt.updateQueue=null,Ft!==null)try{Et==="input"&&St.type==="radio"&&St.name!=null&&ab(At,St),vb(Et,Ct);var wt=vb(Et,St);for(Ct=0;Ct<Ft.length;Ct+=2){var _t=Ft[Ct],Rt=Ft[Ct+1];_t==="style"?sb(At,Rt):_t==="dangerouslySetInnerHTML"?nb(At,Rt):_t==="children"?ob(At,Rt):ta(At,_t,Rt,wt)}switch(Et){case"input":bb(At,St);break;case"textarea":ib(At,St);break;case"select":var _e=At._wrapperState.wasMultiple;At._wrapperState.wasMultiple=!!St.multiple;var bt=St.value;bt!=null?fb(At,!!St.multiple,bt,!1):_e!==!!St.multiple&&(St.defaultValue!=null?fb(At,!!St.multiple,St.defaultValue,!0):fb(At,!!St.multiple,St.multiple?[]:"",!1))}At[Pf]=St}catch(Xt){W$2(xt,xt.return,Xt)}}break;case 6:if(ck($,xt),ek(xt),vt&4){if(xt.stateNode===null)throw Error(p$4(162));At=xt.stateNode,St=xt.memoizedProps;try{At.nodeValue=St}catch(Xt){W$2(xt,xt.return,Xt)}}break;case 3:if(ck($,xt),ek(xt),vt&4&&ht!==null&&ht.memoizedState.isDehydrated)try{bd($.containerInfo)}catch(Xt){W$2(xt,xt.return,Xt)}break;case 4:ck($,xt),ek(xt);break;case 13:ck($,xt),ek(xt),At=xt.child,At.flags&8192&&(St=At.memoizedState!==null,At.stateNode.isHidden=St,!St||At.alternate!==null&&At.alternate.memoizedState!==null||(fk=B$1())),vt&4&&ak(xt);break;case 22:if(_t=ht!==null&&ht.memoizedState!==null,xt.mode&1?(U$2=(wt=U$2)||_t,ck($,xt),U$2=wt):ck($,xt),ek(xt),vt&8192){if(wt=xt.memoizedState!==null,(xt.stateNode.isHidden=wt)&&!_t&&xt.mode&1)for(V$1=xt,_t=xt.child;_t!==null;){for(Rt=V$1=_t;V$1!==null;){switch(_e=V$1,bt=_e.child,_e.tag){case 0:case 11:case 14:case 15:Pj(4,_e,_e.return);break;case 1:Lj(_e,_e.return);var Pt=_e.stateNode;if(typeof Pt.componentWillUnmount=="function"){vt=_e,ht=_e.return;try{$=vt,Pt.props=$.memoizedProps,Pt.state=$.memoizedState,Pt.componentWillUnmount()}catch(Xt){W$2(vt,ht,Xt)}}break;case 5:Lj(_e,_e.return);break;case 22:if(_e.memoizedState!==null){gk(Rt);continue}}bt!==null?(bt.return=_e,V$1=bt):gk(Rt)}_t=_t.sibling}e:for(_t=null,Rt=xt;;){if(Rt.tag===5){if(_t===null){_t=Rt;try{At=Rt.stateNode,wt?(St=At.style,typeof St.setProperty=="function"?St.setProperty("display","none","important"):St.display="none"):(Et=Rt.stateNode,Ft=Rt.memoizedProps.style,Ct=Ft!=null&&Ft.hasOwnProperty("display")?Ft.display:null,Et.style.display=rb("display",Ct))}catch(Xt){W$2(xt,xt.return,Xt)}}}else if(Rt.tag===6){if(_t===null)try{Rt.stateNode.nodeValue=wt?"":Rt.memoizedProps}catch(Xt){W$2(xt,xt.return,Xt)}}else if((Rt.tag!==22&&Rt.tag!==23||Rt.memoizedState===null||Rt===xt)&&Rt.child!==null){Rt.child.return=Rt,Rt=Rt.child;continue}if(Rt===xt)break e;for(;Rt.sibling===null;){if(Rt.return===null||Rt.return===xt)break e;_t===Rt&&(_t=null),Rt=Rt.return}_t===Rt&&(_t=null),Rt.sibling.return=Rt.return,Rt=Rt.sibling}}break;case 19:ck($,xt),ek(xt),vt&4&&ak(xt);break;case 21:break;default:ck($,xt),ek(xt)}}function ek(xt){var $=xt.flags;if($&2){try{e:{for(var ht=xt.return;ht!==null;){if(Tj(ht)){var vt=ht;break e}ht=ht.return}throw Error(p$4(160))}switch(vt.tag){case 5:var At=vt.stateNode;vt.flags&32&&(ob(At,""),vt.flags&=-33);var St=Uj(xt);Wj(xt,St,At);break;case 3:case 4:var Ct=vt.stateNode.containerInfo,Et=Uj(xt);Vj(xt,Et,Ct);break;default:throw Error(p$4(161))}}catch(Ft){W$2(xt,xt.return,Ft)}xt.flags&=-3}$&4096&&(xt.flags&=-4097)}function hk(xt,$,ht){V$1=xt,ik(xt)}function ik(xt,$,ht){for(var vt=(xt.mode&1)!==0;V$1!==null;){var At=V$1,St=At.child;if(At.tag===22&&vt){var Ct=At.memoizedState!==null||Jj;if(!Ct){var Et=At.alternate,Ft=Et!==null&&Et.memoizedState!==null||U$2;Et=Jj;var wt=U$2;if(Jj=Ct,(U$2=Ft)&&!wt)for(V$1=At;V$1!==null;)Ct=V$1,Ft=Ct.child,Ct.tag===22&&Ct.memoizedState!==null?jk(At):Ft!==null?(Ft.return=Ct,V$1=Ft):jk(At);for(;St!==null;)V$1=St,ik(St),St=St.sibling;V$1=At,Jj=Et,U$2=wt}kk(xt)}else At.subtreeFlags&8772&&St!==null?(St.return=At,V$1=St):kk(xt)}}function kk(xt){for(;V$1!==null;){var $=V$1;if($.flags&8772){var ht=$.alternate;try{if($.flags&8772)switch($.tag){case 0:case 11:case 15:U$2||Qj(5,$);break;case 1:var vt=$.stateNode;if($.flags&4&&!U$2)if(ht===null)vt.componentDidMount();else{var At=$.elementType===$.type?ht.memoizedProps:Ci($.type,ht.memoizedProps);vt.componentDidUpdate(At,ht.memoizedState,vt.__reactInternalSnapshotBeforeUpdate)}var St=$.updateQueue;St!==null&&sh($,St,vt);break;case 3:var Ct=$.updateQueue;if(Ct!==null){if(ht=null,$.child!==null)switch($.child.tag){case 5:ht=$.child.stateNode;break;case 1:ht=$.child.stateNode}sh($,Ct,ht)}break;case 5:var Et=$.stateNode;if(ht===null&&$.flags&4){ht=Et;var Ft=$.memoizedProps;switch($.type){case"button":case"input":case"select":case"textarea":Ft.autoFocus&&ht.focus();break;case"img":Ft.src&&(ht.src=Ft.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if($.memoizedState===null){var wt=$.alternate;if(wt!==null){var _t=wt.memoizedState;if(_t!==null){var Rt=_t.dehydrated;Rt!==null&&bd(Rt)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(p$4(163))}U$2||$.flags&512&&Rj($)}catch(_e){W$2($,$.return,_e)}}if($===xt){V$1=null;break}if(ht=$.sibling,ht!==null){ht.return=$.return,V$1=ht;break}V$1=$.return}}function gk(xt){for(;V$1!==null;){var $=V$1;if($===xt){V$1=null;break}var ht=$.sibling;if(ht!==null){ht.return=$.return,V$1=ht;break}V$1=$.return}}function jk(xt){for(;V$1!==null;){var $=V$1;try{switch($.tag){case 0:case 11:case 15:var ht=$.return;try{Qj(4,$)}catch(Ft){W$2($,ht,Ft)}break;case 1:var vt=$.stateNode;if(typeof vt.componentDidMount=="function"){var At=$.return;try{vt.componentDidMount()}catch(Ft){W$2($,At,Ft)}}var St=$.return;try{Rj($)}catch(Ft){W$2($,St,Ft)}break;case 5:var Ct=$.return;try{Rj($)}catch(Ft){W$2($,Ct,Ft)}}}catch(Ft){W$2($,$.return,Ft)}if($===xt){V$1=null;break}var Et=$.sibling;if(Et!==null){Et.return=$.return,V$1=Et;break}V$1=$.return}}var lk=Math.ceil,mk=ua.ReactCurrentDispatcher,nk=ua.ReactCurrentOwner,ok=ua.ReactCurrentBatchConfig,K=0,Q=null,Y=null,Z=0,fj=0,ej=Uf(0),T$3=0,pk=null,rh=0,qk=0,rk=0,sk=null,tk=null,fk=0,Gj=1/0,uk=null,Oi=!1,Pi=null,Ri=null,vk=!1,wk=null,xk=0,yk=0,zk=null,Ak=-1,Bk=0;function R$1(){return K&6?B$1():Ak!==-1?Ak:Ak=B$1()}function yi(xt){return xt.mode&1?K&2&&Z!==0?Z&-Z:Kg.transition!==null?(Bk===0&&(Bk=yc()),Bk):(xt=C$1,xt!==0||(xt=window.event,xt=xt===void 0?16:jd(xt.type)),xt):1}function gi(xt,$,ht,vt){if(50<yk)throw yk=0,zk=null,Error(p$4(185));Ac(xt,ht,vt),(!(K&2)||xt!==Q)&&(xt===Q&&(!(K&2)&&(qk|=ht),T$3===4&&Ck(xt,Z)),Dk(xt,vt),ht===1&&K===0&&!($.mode&1)&&(Gj=B$1()+500,fg&&jg()))}function Dk(xt,$){var ht=xt.callbackNode;wc(xt,$);var vt=uc(xt,xt===Q?Z:0);if(vt===0)ht!==null&&bc(ht),xt.callbackNode=null,xt.callbackPriority=0;else if($=vt&-vt,xt.callbackPriority!==$){if(ht!=null&&bc(ht),$===1)xt.tag===0?ig(Ek.bind(null,xt)):hg(Ek.bind(null,xt)),Jf(function(){!(K&6)&&jg()}),ht=null;else{switch(Dc(vt)){case 1:ht=fc;break;case 4:ht=gc;break;case 16:ht=hc;break;case 536870912:ht=jc;break;default:ht=hc}ht=Fk(ht,Gk.bind(null,xt))}xt.callbackPriority=$,xt.callbackNode=ht}}function Gk(xt,$){if(Ak=-1,Bk=0,K&6)throw Error(p$4(327));var ht=xt.callbackNode;if(Hk()&&xt.callbackNode!==ht)return null;var vt=uc(xt,xt===Q?Z:0);if(vt===0)return null;if(vt&30||vt&xt.expiredLanes||$)$=Ik(xt,vt);else{$=vt;var At=K;K|=2;var St=Jk();(Q!==xt||Z!==$)&&(uk=null,Gj=B$1()+500,Kk(xt,$));do try{Lk();break}catch(Et){Mk(xt,Et)}while(!0);$g(),mk.current=St,K=At,Y!==null?$=0:(Q=null,Z=0,$=T$3)}if($!==0){if($===2&&(At=xc(xt),At!==0&&(vt=At,$=Nk(xt,At))),$===1)throw ht=pk,Kk(xt,0),Ck(xt,vt),Dk(xt,B$1()),ht;if($===6)Ck(xt,vt);else{if(At=xt.current.alternate,!(vt&30)&&!Ok(At)&&($=Ik(xt,vt),$===2&&(St=xc(xt),St!==0&&(vt=St,$=Nk(xt,St))),$===1))throw ht=pk,Kk(xt,0),Ck(xt,vt),Dk(xt,B$1()),ht;switch(xt.finishedWork=At,xt.finishedLanes=vt,$){case 0:case 1:throw Error(p$4(345));case 2:Pk(xt,tk,uk);break;case 3:if(Ck(xt,vt),(vt&130023424)===vt&&($=fk+500-B$1(),10<$)){if(uc(xt,0)!==0)break;if(At=xt.suspendedLanes,(At&vt)!==vt){R$1(),xt.pingedLanes|=xt.suspendedLanes&At;break}xt.timeoutHandle=Ff(Pk.bind(null,xt,tk,uk),$);break}Pk(xt,tk,uk);break;case 4:if(Ck(xt,vt),(vt&4194240)===vt)break;for($=xt.eventTimes,At=-1;0<vt;){var Ct=31-oc(vt);St=1<<Ct,Ct=$[Ct],Ct>At&&(At=Ct),vt&=~St}if(vt=At,vt=B$1()-vt,vt=(120>vt?120:480>vt?480:1080>vt?1080:1920>vt?1920:3e3>vt?3e3:4320>vt?4320:1960*lk(vt/1960))-vt,10<vt){xt.timeoutHandle=Ff(Pk.bind(null,xt,tk,uk),vt);break}Pk(xt,tk,uk);break;case 5:Pk(xt,tk,uk);break;default:throw Error(p$4(329))}}}return Dk(xt,B$1()),xt.callbackNode===ht?Gk.bind(null,xt):null}function Nk(xt,$){var ht=sk;return xt.current.memoizedState.isDehydrated&&(Kk(xt,$).flags|=256),xt=Ik(xt,$),xt!==2&&($=tk,tk=ht,$!==null&&Fj($)),xt}function Fj(xt){tk===null?tk=xt:tk.push.apply(tk,xt)}function Ok(xt){for(var $=xt;;){if($.flags&16384){var ht=$.updateQueue;if(ht!==null&&(ht=ht.stores,ht!==null))for(var vt=0;vt<ht.length;vt++){var At=ht[vt],St=At.getSnapshot;At=At.value;try{if(!He(St(),At))return!1}catch{return!1}}}if(ht=$.child,$.subtreeFlags&16384&&ht!==null)ht.return=$,$=ht;else{if($===xt)break;for(;$.sibling===null;){if($.return===null||$.return===xt)return!0;$=$.return}$.sibling.return=$.return,$=$.sibling}}return!0}function Ck(xt,$){for($&=~rk,$&=~qk,xt.suspendedLanes|=$,xt.pingedLanes&=~$,xt=xt.expirationTimes;0<$;){var ht=31-oc($),vt=1<<ht;xt[ht]=-1,$&=~vt}}function Ek(xt){if(K&6)throw Error(p$4(327));Hk();var $=uc(xt,0);if(!($&1))return Dk(xt,B$1()),null;var ht=Ik(xt,$);if(xt.tag!==0&&ht===2){var vt=xc(xt);vt!==0&&($=vt,ht=Nk(xt,vt))}if(ht===1)throw ht=pk,Kk(xt,0),Ck(xt,$),Dk(xt,B$1()),ht;if(ht===6)throw Error(p$4(345));return xt.finishedWork=xt.current.alternate,xt.finishedLanes=$,Pk(xt,tk,uk),Dk(xt,B$1()),null}function Qk(xt,$){var ht=K;K|=1;try{return xt($)}finally{K=ht,K===0&&(Gj=B$1()+500,fg&&jg())}}function Rk(xt){wk!==null&&wk.tag===0&&!(K&6)&&Hk();var $=K;K|=1;var ht=ok.transition,vt=C$1;try{if(ok.transition=null,C$1=1,xt)return xt()}finally{C$1=vt,ok.transition=ht,K=$,!(K&6)&&jg()}}function Hj(){fj=ej.current,E$1(ej)}function Kk(xt,$){xt.finishedWork=null,xt.finishedLanes=0;var ht=xt.timeoutHandle;if(ht!==-1&&(xt.timeoutHandle=-1,Gf(ht)),Y!==null)for(ht=Y.return;ht!==null;){var vt=ht;switch(wg(vt),vt.tag){case 1:vt=vt.type.childContextTypes,vt!=null&&$f();break;case 3:zh(),E$1(Wf),E$1(H$2),Eh();break;case 5:Bh(vt);break;case 4:zh();break;case 13:E$1(L$1);break;case 19:E$1(L$1);break;case 10:ah(vt.type._context);break;case 22:case 23:Hj()}ht=ht.return}if(Q=xt,Y=xt=Pg(xt.current,null),Z=fj=$,T$3=0,pk=null,rk=qk=rh=0,tk=sk=null,fh!==null){for($=0;$<fh.length;$++)if(ht=fh[$],vt=ht.interleaved,vt!==null){ht.interleaved=null;var At=vt.next,St=ht.pending;if(St!==null){var Ct=St.next;St.next=At,vt.next=Ct}ht.pending=vt}fh=null}return xt}function Mk(xt,$){do{var ht=Y;try{if($g(),Fh.current=Rh,Ih){for(var vt=M$3.memoizedState;vt!==null;){var At=vt.queue;At!==null&&(At.pending=null),vt=vt.next}Ih=!1}if(Hh=0,O$2=N$3=M$3=null,Jh=!1,Kh=0,nk.current=null,ht===null||ht.return===null){T$3=1,pk=$,Y=null;break}e:{var St=xt,Ct=ht.return,Et=ht,Ft=$;if($=Z,Et.flags|=32768,Ft!==null&&typeof Ft=="object"&&typeof Ft.then=="function"){var wt=Ft,_t=Et,Rt=_t.tag;if(!(_t.mode&1)&&(Rt===0||Rt===11||Rt===15)){var _e=_t.alternate;_e?(_t.updateQueue=_e.updateQueue,_t.memoizedState=_e.memoizedState,_t.lanes=_e.lanes):(_t.updateQueue=null,_t.memoizedState=null)}var bt=Ui(Ct);if(bt!==null){bt.flags&=-257,Vi(bt,Ct,Et,St,$),bt.mode&1&&Si(St,wt,$),$=bt,Ft=wt;var Pt=$.updateQueue;if(Pt===null){var Xt=new Set;Xt.add(Ft),$.updateQueue=Xt}else Pt.add(Ft);break e}else{if(!($&1)){Si(St,wt,$),tj();break e}Ft=Error(p$4(426))}}else if(I$4&&Et.mode&1){var Kt=Ui(Ct);if(Kt!==null){!(Kt.flags&65536)&&(Kt.flags|=256),Vi(Kt,Ct,Et,St,$),Jg(Ji(Ft,Et));break e}}St=Ft=Ji(Ft,Et),T$3!==4&&(T$3=2),sk===null?sk=[St]:sk.push(St),St=Ct;do{switch(St.tag){case 3:St.flags|=65536,$&=-$,St.lanes|=$;var Nt=Ni(St,Ft,$);ph(St,Nt);break e;case 1:Et=Ft;var $t=St.type,Lt=St.stateNode;if(!(St.flags&128)&&(typeof $t.getDerivedStateFromError=="function"||Lt!==null&&typeof Lt.componentDidCatch=="function"&&(Ri===null||!Ri.has(Lt)))){St.flags|=65536,$&=-$,St.lanes|=$;var jt=Qi(St,Et,$);ph(St,jt);break e}}St=St.return}while(St!==null)}Sk(ht)}catch(kt){$=kt,Y===ht&&ht!==null&&(Y=ht=ht.return);continue}break}while(!0)}function Jk(){var xt=mk.current;return mk.current=Rh,xt===null?Rh:xt}function tj(){(T$3===0||T$3===3||T$3===2)&&(T$3=4),Q===null||!(rh&268435455)&&!(qk&268435455)||Ck(Q,Z)}function Ik(xt,$){var ht=K;K|=2;var vt=Jk();(Q!==xt||Z!==$)&&(uk=null,Kk(xt,$));do try{Tk();break}catch(At){Mk(xt,At)}while(!0);if($g(),K=ht,mk.current=vt,Y!==null)throw Error(p$4(261));return Q=null,Z=0,T$3}function Tk(){for(;Y!==null;)Uk(Y)}function Lk(){for(;Y!==null&&!cc();)Uk(Y)}function Uk(xt){var $=Vk(xt.alternate,xt,fj);xt.memoizedProps=xt.pendingProps,$===null?Sk(xt):Y=$,nk.current=null}function Sk(xt){var $=xt;do{var ht=$.alternate;if(xt=$.return,$.flags&32768){if(ht=Ij(ht,$),ht!==null){ht.flags&=32767,Y=ht;return}if(xt!==null)xt.flags|=32768,xt.subtreeFlags=0,xt.deletions=null;else{T$3=6,Y=null;return}}else if(ht=Ej(ht,$,fj),ht!==null){Y=ht;return}if($=$.sibling,$!==null){Y=$;return}Y=$=xt}while($!==null);T$3===0&&(T$3=5)}function Pk(xt,$,ht){var vt=C$1,At=ok.transition;try{ok.transition=null,C$1=1,Wk(xt,$,ht,vt)}finally{ok.transition=At,C$1=vt}return null}function Wk(xt,$,ht,vt){do Hk();while(wk!==null);if(K&6)throw Error(p$4(327));ht=xt.finishedWork;var At=xt.finishedLanes;if(ht===null)return null;if(xt.finishedWork=null,xt.finishedLanes=0,ht===xt.current)throw Error(p$4(177));xt.callbackNode=null,xt.callbackPriority=0;var St=ht.lanes|ht.childLanes;if(Bc(xt,St),xt===Q&&(Y=Q=null,Z=0),!(ht.subtreeFlags&2064)&&!(ht.flags&2064)||vk||(vk=!0,Fk(hc,function(){return Hk(),null})),St=(ht.flags&15990)!==0,ht.subtreeFlags&15990||St){St=ok.transition,ok.transition=null;var Ct=C$1;C$1=1;var Et=K;K|=4,nk.current=null,Oj(xt,ht),dk(ht,xt),Oe(Df),dd=!!Cf,Df=Cf=null,xt.current=ht,hk(ht),dc(),K=Et,C$1=Ct,ok.transition=St}else xt.current=ht;if(vk&&(vk=!1,wk=xt,xk=At),St=xt.pendingLanes,St===0&&(Ri=null),mc(ht.stateNode),Dk(xt,B$1()),$!==null)for(vt=xt.onRecoverableError,ht=0;ht<$.length;ht++)At=$[ht],vt(At.value,{componentStack:At.stack,digest:At.digest});if(Oi)throw Oi=!1,xt=Pi,Pi=null,xt;return xk&1&&xt.tag!==0&&Hk(),St=xt.pendingLanes,St&1?xt===zk?yk++:(yk=0,zk=xt):yk=0,jg(),null}function Hk(){if(wk!==null){var xt=Dc(xk),$=ok.transition,ht=C$1;try{if(ok.transition=null,C$1=16>xt?16:xt,wk===null)var vt=!1;else{if(xt=wk,wk=null,xk=0,K&6)throw Error(p$4(331));var At=K;for(K|=4,V$1=xt.current;V$1!==null;){var St=V$1,Ct=St.child;if(V$1.flags&16){var Et=St.deletions;if(Et!==null){for(var Ft=0;Ft<Et.length;Ft++){var wt=Et[Ft];for(V$1=wt;V$1!==null;){var _t=V$1;switch(_t.tag){case 0:case 11:case 15:Pj(8,_t,St)}var Rt=_t.child;if(Rt!==null)Rt.return=_t,V$1=Rt;else for(;V$1!==null;){_t=V$1;var _e=_t.sibling,bt=_t.return;if(Sj(_t),_t===wt){V$1=null;break}if(_e!==null){_e.return=bt,V$1=_e;break}V$1=bt}}}var Pt=St.alternate;if(Pt!==null){var Xt=Pt.child;if(Xt!==null){Pt.child=null;do{var Kt=Xt.sibling;Xt.sibling=null,Xt=Kt}while(Xt!==null)}}V$1=St}}if(St.subtreeFlags&2064&&Ct!==null)Ct.return=St,V$1=Ct;else e:for(;V$1!==null;){if(St=V$1,St.flags&2048)switch(St.tag){case 0:case 11:case 15:Pj(9,St,St.return)}var Nt=St.sibling;if(Nt!==null){Nt.return=St.return,V$1=Nt;break e}V$1=St.return}}var $t=xt.current;for(V$1=$t;V$1!==null;){Ct=V$1;var Lt=Ct.child;if(Ct.subtreeFlags&2064&&Lt!==null)Lt.return=Ct,V$1=Lt;else e:for(Ct=$t;V$1!==null;){if(Et=V$1,Et.flags&2048)try{switch(Et.tag){case 0:case 11:case 15:Qj(9,Et)}}catch(kt){W$2(Et,Et.return,kt)}if(Et===Ct){V$1=null;break e}var jt=Et.sibling;if(jt!==null){jt.return=Et.return,V$1=jt;break e}V$1=Et.return}}if(K=At,jg(),lc&&typeof lc.onPostCommitFiberRoot=="function")try{lc.onPostCommitFiberRoot(kc,xt)}catch{}vt=!0}return vt}finally{C$1=ht,ok.transition=$}}return!1}function Xk(xt,$,ht){$=Ji(ht,$),$=Ni(xt,$,1),xt=nh(xt,$,1),$=R$1(),xt!==null&&(Ac(xt,1,$),Dk(xt,$))}function W$2(xt,$,ht){if(xt.tag===3)Xk(xt,xt,ht);else for(;$!==null;){if($.tag===3){Xk($,xt,ht);break}else if($.tag===1){var vt=$.stateNode;if(typeof $.type.getDerivedStateFromError=="function"||typeof vt.componentDidCatch=="function"&&(Ri===null||!Ri.has(vt))){xt=Ji(ht,xt),xt=Qi($,xt,1),$=nh($,xt,1),xt=R$1(),$!==null&&(Ac($,1,xt),Dk($,xt));break}}$=$.return}}function Ti(xt,$,ht){var vt=xt.pingCache;vt!==null&&vt.delete($),$=R$1(),xt.pingedLanes|=xt.suspendedLanes&ht,Q===xt&&(Z&ht)===ht&&(T$3===4||T$3===3&&(Z&130023424)===Z&&500>B$1()-fk?Kk(xt,0):rk|=ht),Dk(xt,$)}function Yk(xt,$){$===0&&(xt.mode&1?($=sc,sc<<=1,!(sc&130023424)&&(sc=4194304)):$=1);var ht=R$1();xt=ih(xt,$),xt!==null&&(Ac(xt,$,ht),Dk(xt,ht))}function uj(xt){var $=xt.memoizedState,ht=0;$!==null&&(ht=$.retryLane),Yk(xt,ht)}function bk(xt,$){var ht=0;switch(xt.tag){case 13:var vt=xt.stateNode,At=xt.memoizedState;At!==null&&(ht=At.retryLane);break;case 19:vt=xt.stateNode;break;default:throw Error(p$4(314))}vt!==null&&vt.delete($),Yk(xt,ht)}var Vk;Vk=function(xt,$,ht){if(xt!==null)if(xt.memoizedProps!==$.pendingProps||Wf.current)dh=!0;else{if(!(xt.lanes&ht)&&!($.flags&128))return dh=!1,yj(xt,$,ht);dh=!!(xt.flags&131072)}else dh=!1,I$4&&$.flags&1048576&&ug($,ng,$.index);switch($.lanes=0,$.tag){case 2:var vt=$.type;ij(xt,$),xt=$.pendingProps;var At=Yf($,H$2.current);ch($,ht),At=Nh(null,$,vt,xt,At,ht);var St=Sh();return $.flags|=1,typeof At=="object"&&At!==null&&typeof At.render=="function"&&At.$$typeof===void 0?($.tag=1,$.memoizedState=null,$.updateQueue=null,Zf(vt)?(St=!0,cg($)):St=!1,$.memoizedState=At.state!==null&&At.state!==void 0?At.state:null,kh($),At.updater=Ei,$.stateNode=At,At._reactInternals=$,Ii($,vt,xt,ht),$=jj(null,$,vt,!0,St,ht)):($.tag=0,I$4&&St&&vg($),Xi(null,$,At,ht),$=$.child),$;case 16:vt=$.elementType;e:{switch(ij(xt,$),xt=$.pendingProps,At=vt._init,vt=At(vt._payload),$.type=vt,At=$.tag=Zk(vt),xt=Ci(vt,xt),At){case 0:$=cj(null,$,vt,xt,ht);break e;case 1:$=hj(null,$,vt,xt,ht);break e;case 11:$=Yi(null,$,vt,xt,ht);break e;case 14:$=$i(null,$,vt,Ci(vt.type,xt),ht);break e}throw Error(p$4(306,vt,""))}return $;case 0:return vt=$.type,At=$.pendingProps,At=$.elementType===vt?At:Ci(vt,At),cj(xt,$,vt,At,ht);case 1:return vt=$.type,At=$.pendingProps,At=$.elementType===vt?At:Ci(vt,At),hj(xt,$,vt,At,ht);case 3:e:{if(kj($),xt===null)throw Error(p$4(387));vt=$.pendingProps,St=$.memoizedState,At=St.element,lh(xt,$),qh($,vt,null,ht);var Ct=$.memoizedState;if(vt=Ct.element,St.isDehydrated)if(St={element:vt,isDehydrated:!1,cache:Ct.cache,pendingSuspenseBoundaries:Ct.pendingSuspenseBoundaries,transitions:Ct.transitions},$.updateQueue.baseState=St,$.memoizedState=St,$.flags&256){At=Ji(Error(p$4(423)),$),$=lj(xt,$,vt,ht,At);break e}else if(vt!==At){At=Ji(Error(p$4(424)),$),$=lj(xt,$,vt,ht,At);break e}else for(yg=Lf($.stateNode.containerInfo.firstChild),xg=$,I$4=!0,zg=null,ht=Vg($,null,vt,ht),$.child=ht;ht;)ht.flags=ht.flags&-3|4096,ht=ht.sibling;else{if(Ig(),vt===At){$=Zi(xt,$,ht);break e}Xi(xt,$,vt,ht)}$=$.child}return $;case 5:return Ah($),xt===null&&Eg($),vt=$.type,At=$.pendingProps,St=xt!==null?xt.memoizedProps:null,Ct=At.children,Ef(vt,At)?Ct=null:St!==null&&Ef(vt,St)&&($.flags|=32),gj(xt,$),Xi(xt,$,Ct,ht),$.child;case 6:return xt===null&&Eg($),null;case 13:return oj(xt,$,ht);case 4:return yh($,$.stateNode.containerInfo),vt=$.pendingProps,xt===null?$.child=Ug($,null,vt,ht):Xi(xt,$,vt,ht),$.child;case 11:return vt=$.type,At=$.pendingProps,At=$.elementType===vt?At:Ci(vt,At),Yi(xt,$,vt,At,ht);case 7:return Xi(xt,$,$.pendingProps,ht),$.child;case 8:return Xi(xt,$,$.pendingProps.children,ht),$.child;case 12:return Xi(xt,$,$.pendingProps.children,ht),$.child;case 10:e:{if(vt=$.type._context,At=$.pendingProps,St=$.memoizedProps,Ct=At.value,G$2(Wg,vt._currentValue),vt._currentValue=Ct,St!==null)if(He(St.value,Ct)){if(St.children===At.children&&!Wf.current){$=Zi(xt,$,ht);break e}}else for(St=$.child,St!==null&&(St.return=$);St!==null;){var Et=St.dependencies;if(Et!==null){Ct=St.child;for(var Ft=Et.firstContext;Ft!==null;){if(Ft.context===vt){if(St.tag===1){Ft=mh(-1,ht&-ht),Ft.tag=2;var wt=St.updateQueue;if(wt!==null){wt=wt.shared;var _t=wt.pending;_t===null?Ft.next=Ft:(Ft.next=_t.next,_t.next=Ft),wt.pending=Ft}}St.lanes|=ht,Ft=St.alternate,Ft!==null&&(Ft.lanes|=ht),bh(St.return,ht,$),Et.lanes|=ht;break}Ft=Ft.next}}else if(St.tag===10)Ct=St.type===$.type?null:St.child;else if(St.tag===18){if(Ct=St.return,Ct===null)throw Error(p$4(341));Ct.lanes|=ht,Et=Ct.alternate,Et!==null&&(Et.lanes|=ht),bh(Ct,ht,$),Ct=St.sibling}else Ct=St.child;if(Ct!==null)Ct.return=St;else for(Ct=St;Ct!==null;){if(Ct===$){Ct=null;break}if(St=Ct.sibling,St!==null){St.return=Ct.return,Ct=St;break}Ct=Ct.return}St=Ct}Xi(xt,$,At.children,ht),$=$.child}return $;case 9:return At=$.type,vt=$.pendingProps.children,ch($,ht),At=eh(At),vt=vt(At),$.flags|=1,Xi(xt,$,vt,ht),$.child;case 14:return vt=$.type,At=Ci(vt,$.pendingProps),At=Ci(vt.type,At),$i(xt,$,vt,At,ht);case 15:return bj(xt,$,$.type,$.pendingProps,ht);case 17:return vt=$.type,At=$.pendingProps,At=$.elementType===vt?At:Ci(vt,At),ij(xt,$),$.tag=1,Zf(vt)?(xt=!0,cg($)):xt=!1,ch($,ht),Gi($,vt,At),Ii($,vt,At,ht),jj(null,$,vt,!0,xt,ht);case 19:return xj(xt,$,ht);case 22:return dj(xt,$,ht)}throw Error(p$4(156,$.tag))};function Fk(xt,$){return ac(xt,$)}function $k(xt,$,ht,vt){this.tag=xt,this.key=ht,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=$,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=vt,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Bg(xt,$,ht,vt){return new $k(xt,$,ht,vt)}function aj(xt){return xt=xt.prototype,!(!xt||!xt.isReactComponent)}function Zk(xt){if(typeof xt=="function")return aj(xt)?1:0;if(xt!=null){if(xt=xt.$$typeof,xt===Da)return 11;if(xt===Ga)return 14}return 2}function Pg(xt,$){var ht=xt.alternate;return ht===null?(ht=Bg(xt.tag,$,xt.key,xt.mode),ht.elementType=xt.elementType,ht.type=xt.type,ht.stateNode=xt.stateNode,ht.alternate=xt,xt.alternate=ht):(ht.pendingProps=$,ht.type=xt.type,ht.flags=0,ht.subtreeFlags=0,ht.deletions=null),ht.flags=xt.flags&14680064,ht.childLanes=xt.childLanes,ht.lanes=xt.lanes,ht.child=xt.child,ht.memoizedProps=xt.memoizedProps,ht.memoizedState=xt.memoizedState,ht.updateQueue=xt.updateQueue,$=xt.dependencies,ht.dependencies=$===null?null:{lanes:$.lanes,firstContext:$.firstContext},ht.sibling=xt.sibling,ht.index=xt.index,ht.ref=xt.ref,ht}function Rg(xt,$,ht,vt,At,St){var Ct=2;if(vt=xt,typeof xt=="function")aj(xt)&&(Ct=1);else if(typeof xt=="string")Ct=5;else e:switch(xt){case ya:return Tg(ht.children,At,St,$);case za:Ct=8,At|=8;break;case Aa:return xt=Bg(12,ht,$,At|2),xt.elementType=Aa,xt.lanes=St,xt;case Ea:return xt=Bg(13,ht,$,At),xt.elementType=Ea,xt.lanes=St,xt;case Fa:return xt=Bg(19,ht,$,At),xt.elementType=Fa,xt.lanes=St,xt;case Ia:return pj(ht,At,St,$);default:if(typeof xt=="object"&&xt!==null)switch(xt.$$typeof){case Ba:Ct=10;break e;case Ca:Ct=9;break e;case Da:Ct=11;break e;case Ga:Ct=14;break e;case Ha:Ct=16,vt=null;break e}throw Error(p$4(130,xt==null?xt:typeof xt,""))}return $=Bg(Ct,ht,$,At),$.elementType=xt,$.type=vt,$.lanes=St,$}function Tg(xt,$,ht,vt){return xt=Bg(7,xt,vt,$),xt.lanes=ht,xt}function pj(xt,$,ht,vt){return xt=Bg(22,xt,vt,$),xt.elementType=Ia,xt.lanes=ht,xt.stateNode={isHidden:!1},xt}function Qg(xt,$,ht){return xt=Bg(6,xt,null,$),xt.lanes=ht,xt}function Sg(xt,$,ht){return $=Bg(4,xt.children!==null?xt.children:[],xt.key,$),$.lanes=ht,$.stateNode={containerInfo:xt.containerInfo,pendingChildren:null,implementation:xt.implementation},$}function al(xt,$,ht,vt,At){this.tag=$,this.containerInfo=xt,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=zc(0),this.expirationTimes=zc(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=zc(0),this.identifierPrefix=vt,this.onRecoverableError=At,this.mutableSourceEagerHydrationData=null}function bl(xt,$,ht,vt,At,St,Ct,Et,Ft){return xt=new al(xt,$,ht,Et,Ft),$===1?($=1,St===!0&&($|=8)):$=0,St=Bg(3,null,null,$),xt.current=St,St.stateNode=xt,St.memoizedState={element:vt,isDehydrated:ht,cache:null,transitions:null,pendingSuspenseBoundaries:null},kh(St),xt}function cl(xt,$,ht){var vt=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:wa,key:vt==null?null:""+vt,children:xt,containerInfo:$,implementation:ht}}function dl(xt){if(!xt)return Vf;xt=xt._reactInternals;e:{if(Vb(xt)!==xt||xt.tag!==1)throw Error(p$4(170));var $=xt;do{switch($.tag){case 3:$=$.stateNode.context;break e;case 1:if(Zf($.type)){$=$.stateNode.__reactInternalMemoizedMergedChildContext;break e}}$=$.return}while($!==null);throw Error(p$4(171))}if(xt.tag===1){var ht=xt.type;if(Zf(ht))return bg(xt,ht,$)}return $}function el(xt,$,ht,vt,At,St,Ct,Et,Ft){return xt=bl(ht,vt,!0,xt,At,St,Ct,Et,Ft),xt.context=dl(null),ht=xt.current,vt=R$1(),At=yi(ht),St=mh(vt,At),St.callback=$??null,nh(ht,St,At),xt.current.lanes=At,Ac(xt,At,vt),Dk(xt,vt),xt}function fl(xt,$,ht,vt){var At=$.current,St=R$1(),Ct=yi(At);return ht=dl(ht),$.context===null?$.context=ht:$.pendingContext=ht,$=mh(St,Ct),$.payload={element:xt},vt=vt===void 0?null:vt,vt!==null&&($.callback=vt),xt=nh(At,$,Ct),xt!==null&&(gi(xt,At,Ct,St),oh(xt,At,Ct)),Ct}function gl(xt){if(xt=xt.current,!xt.child)return null;switch(xt.child.tag){case 5:return xt.child.stateNode;default:return xt.child.stateNode}}function hl(xt,$){if(xt=xt.memoizedState,xt!==null&&xt.dehydrated!==null){var ht=xt.retryLane;xt.retryLane=ht!==0&&ht<$?ht:$}}function il(xt,$){hl(xt,$),(xt=xt.alternate)&&hl(xt,$)}function jl(){return null}var kl=typeof reportError=="function"?reportError:function(xt){console.error(xt)};function ll(xt){this._internalRoot=xt}ml.prototype.render=ll.prototype.render=function(xt){var $=this._internalRoot;if($===null)throw Error(p$4(409));fl(xt,$,null,null)};ml.prototype.unmount=ll.prototype.unmount=function(){var xt=this._internalRoot;if(xt!==null){this._internalRoot=null;var $=xt.containerInfo;Rk(function(){fl(null,xt,null,null)}),$[uf]=null}};function ml(xt){this._internalRoot=xt}ml.prototype.unstable_scheduleHydration=function(xt){if(xt){var $=Hc();xt={blockedOn:null,target:xt,priority:$};for(var ht=0;ht<Qc.length&&$!==0&&$<Qc[ht].priority;ht++);Qc.splice(ht,0,xt),ht===0&&Vc(xt)}};function nl(xt){return!(!xt||xt.nodeType!==1&&xt.nodeType!==9&&xt.nodeType!==11)}function ol(xt){return!(!xt||xt.nodeType!==1&&xt.nodeType!==9&&xt.nodeType!==11&&(xt.nodeType!==8||xt.nodeValue!==" react-mount-point-unstable "))}function pl(){}function ql(xt,$,ht,vt,At){if(At){if(typeof vt=="function"){var St=vt;vt=function(){var wt=gl(Ct);St.call(wt)}}var Ct=el($,vt,xt,0,null,!1,!1,"",pl);return xt._reactRootContainer=Ct,xt[uf]=Ct.current,sf(xt.nodeType===8?xt.parentNode:xt),Rk(),Ct}for(;At=xt.lastChild;)xt.removeChild(At);if(typeof vt=="function"){var Et=vt;vt=function(){var wt=gl(Ft);Et.call(wt)}}var Ft=bl(xt,0,!1,null,null,!1,!1,"",pl);return xt._reactRootContainer=Ft,xt[uf]=Ft.current,sf(xt.nodeType===8?xt.parentNode:xt),Rk(function(){fl($,Ft,ht,vt)}),Ft}function rl(xt,$,ht,vt,At){var St=ht._reactRootContainer;if(St){var Ct=St;if(typeof At=="function"){var Et=At;At=function(){var Ft=gl(Ct);Et.call(Ft)}}fl($,Ct,xt,At)}else Ct=ql(ht,$,xt,At,vt);return gl(Ct)}Ec=function(xt){switch(xt.tag){case 3:var $=xt.stateNode;if($.current.memoizedState.isDehydrated){var ht=tc($.pendingLanes);ht!==0&&(Cc($,ht|1),Dk($,B$1()),!(K&6)&&(Gj=B$1()+500,jg()))}break;case 13:Rk(function(){var vt=ih(xt,1);if(vt!==null){var At=R$1();gi(vt,xt,1,At)}}),il(xt,1)}};Fc=function(xt){if(xt.tag===13){var $=ih(xt,134217728);if($!==null){var ht=R$1();gi($,xt,134217728,ht)}il(xt,134217728)}};Gc=function(xt){if(xt.tag===13){var $=yi(xt),ht=ih(xt,$);if(ht!==null){var vt=R$1();gi(ht,xt,$,vt)}il(xt,$)}};Hc=function(){return C$1};Ic=function(xt,$){var ht=C$1;try{return C$1=xt,$()}finally{C$1=ht}};yb=function(xt,$,ht){switch($){case"input":if(bb(xt,ht),$=ht.name,ht.type==="radio"&&$!=null){for(ht=xt;ht.parentNode;)ht=ht.parentNode;for(ht=ht.querySelectorAll("input[name="+JSON.stringify(""+$)+'][type="radio"]'),$=0;$<ht.length;$++){var vt=ht[$];if(vt!==xt&&vt.form===xt.form){var At=Db(vt);if(!At)throw Error(p$4(90));Wa(vt),bb(vt,At)}}}break;case"textarea":ib(xt,ht);break;case"select":$=ht.value,$!=null&&fb(xt,!!ht.multiple,$,!1)}};Gb=Qk;Hb=Rk;var sl={usingClientEntryPoint:!1,Events:[Cb,ue,Db,Eb,Fb,Qk]},tl={findFiberByHostInstance:Wc,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},ul={bundleType:tl.bundleType,version:tl.version,rendererPackageName:tl.rendererPackageName,rendererConfig:tl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ua.ReactCurrentDispatcher,findHostInstanceByFiber:function(xt){return xt=Zb(xt),xt===null?null:xt.stateNode},findFiberByHostInstance:tl.findFiberByHostInstance||jl,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var vl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!vl.isDisabled&&vl.supportsFiber)try{kc=vl.inject(ul),lc=vl}catch{}}reactDom_production_min.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=sl;reactDom_production_min.createPortal=function(xt,$){var ht=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!nl($))throw Error(p$4(200));return cl(xt,$,null,ht)};reactDom_production_min.createRoot=function(xt,$){if(!nl(xt))throw Error(p$4(299));var ht=!1,vt="",At=kl;return $!=null&&($.unstable_strictMode===!0&&(ht=!0),$.identifierPrefix!==void 0&&(vt=$.identifierPrefix),$.onRecoverableError!==void 0&&(At=$.onRecoverableError)),$=bl(xt,1,!1,null,null,ht,!1,vt,At),xt[uf]=$.current,sf(xt.nodeType===8?xt.parentNode:xt),new ll($)};reactDom_production_min.findDOMNode=function(xt){if(xt==null)return null;if(xt.nodeType===1)return xt;var $=xt._reactInternals;if($===void 0)throw typeof xt.render=="function"?Error(p$4(188)):(xt=Object.keys(xt).join(","),Error(p$4(268,xt)));return xt=Zb($),xt=xt===null?null:xt.stateNode,xt};reactDom_production_min.flushSync=function(xt){return Rk(xt)};reactDom_production_min.hydrate=function(xt,$,ht){if(!ol($))throw Error(p$4(200));return rl(null,xt,$,!0,ht)};reactDom_production_min.hydrateRoot=function(xt,$,ht){if(!nl(xt))throw Error(p$4(405));var vt=ht!=null&&ht.hydratedSources||null,At=!1,St="",Ct=kl;if(ht!=null&&(ht.unstable_strictMode===!0&&(At=!0),ht.identifierPrefix!==void 0&&(St=ht.identifierPrefix),ht.onRecoverableError!==void 0&&(Ct=ht.onRecoverableError)),$=el($,null,xt,1,ht??null,At,!1,St,Ct),xt[uf]=$.current,sf(xt),vt)for(xt=0;xt<vt.length;xt++)ht=vt[xt],At=ht._getVersion,At=At(ht._source),$.mutableSourceEagerHydrationData==null?$.mutableSourceEagerHydrationData=[ht,At]:$.mutableSourceEagerHydrationData.push(ht,At);return new ml($)};reactDom_production_min.render=function(xt,$,ht){if(!ol($))throw Error(p$4(200));return rl(null,xt,$,!1,ht)};reactDom_production_min.unmountComponentAtNode=function(xt){if(!ol(xt))throw Error(p$4(40));return xt._reactRootContainer?(Rk(function(){rl(null,null,xt,!1,function(){xt._reactRootContainer=null,xt[uf]=null})}),!0):!1};reactDom_production_min.unstable_batchedUpdates=Qk;reactDom_production_min.unstable_renderSubtreeIntoContainer=function(xt,$,ht,vt){if(!ol(ht))throw Error(p$4(200));if(xt==null||xt._reactInternals===void 0)throw Error(p$4(38));return rl(xt,$,ht,!1,vt)};reactDom_production_min.version="18.3.1-next-f1338f8080-20240426";function checkDCE(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(checkDCE)}catch(xt){console.error(xt)}}checkDCE(),reactDom.exports=reactDom_production_min;var reactDomExports=reactDom.exports,m$4=reactDomExports;client.createRoot=m$4.createRoot,client.hydrateRoot=m$4.hydrateRoot;/**
 * @remix-run/router v1.16.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function _extends$2(){return _extends$2=Object.assign?Object.assign.bind():function(xt){for(var $=1;$<arguments.length;$++){var ht=arguments[$];for(var vt in ht)Object.prototype.hasOwnProperty.call(ht,vt)&&(xt[vt]=ht[vt])}return xt},_extends$2.apply(this,arguments)}var Action;(function(xt){xt.Pop="POP",xt.Push="PUSH",xt.Replace="REPLACE"})(Action||(Action={}));const PopStateEventType="popstate";function createBrowserHistory(xt){xt===void 0&&(xt={});function $(vt,At){let{pathname:St,search:Ct,hash:Et}=vt.location;return createLocation("",{pathname:St,search:Ct,hash:Et},At.state&&At.state.usr||null,At.state&&At.state.key||"default")}function ht(vt,At){return typeof At=="string"?At:createPath(At)}return getUrlBasedHistory($,ht,null,xt)}function invariant(xt,$){if(xt===!1||xt===null||typeof xt>"u")throw new Error($)}function warning(xt,$){if(!xt){typeof console<"u"&&console.warn($);try{throw new Error($)}catch{}}}function createKey(){return Math.random().toString(36).substr(2,8)}function getHistoryState(xt,$){return{usr:xt.state,key:xt.key,idx:$}}function createLocation(xt,$,ht,vt){return ht===void 0&&(ht=null),_extends$2({pathname:typeof xt=="string"?xt:xt.pathname,search:"",hash:""},typeof $=="string"?parsePath($):$,{state:ht,key:$&&$.key||vt||createKey()})}function createPath(xt){let{pathname:$="/",search:ht="",hash:vt=""}=xt;return ht&&ht!=="?"&&($+=ht.charAt(0)==="?"?ht:"?"+ht),vt&&vt!=="#"&&($+=vt.charAt(0)==="#"?vt:"#"+vt),$}function parsePath(xt){let $={};if(xt){let ht=xt.indexOf("#");ht>=0&&($.hash=xt.substr(ht),xt=xt.substr(0,ht));let vt=xt.indexOf("?");vt>=0&&($.search=xt.substr(vt),xt=xt.substr(0,vt)),xt&&($.pathname=xt)}return $}function getUrlBasedHistory(xt,$,ht,vt){vt===void 0&&(vt={});let{window:At=document.defaultView,v5Compat:St=!1}=vt,Ct=At.history,Et=Action.Pop,Ft=null,wt=_t();wt==null&&(wt=0,Ct.replaceState(_extends$2({},Ct.state,{idx:wt}),""));function _t(){return(Ct.state||{idx:null}).idx}function Rt(){Et=Action.Pop;let Kt=_t(),Nt=Kt==null?null:Kt-wt;wt=Kt,Ft&&Ft({action:Et,location:Xt.location,delta:Nt})}function _e(Kt,Nt){Et=Action.Push;let $t=createLocation(Xt.location,Kt,Nt);wt=_t()+1;let Lt=getHistoryState($t,wt),jt=Xt.createHref($t);try{Ct.pushState(Lt,"",jt)}catch(kt){if(kt instanceof DOMException&&kt.name==="DataCloneError")throw kt;At.location.assign(jt)}St&&Ft&&Ft({action:Et,location:Xt.location,delta:1})}function bt(Kt,Nt){Et=Action.Replace;let $t=createLocation(Xt.location,Kt,Nt);wt=_t();let Lt=getHistoryState($t,wt),jt=Xt.createHref($t);Ct.replaceState(Lt,"",jt),St&&Ft&&Ft({action:Et,location:Xt.location,delta:0})}function Pt(Kt){let Nt=At.location.origin!=="null"?At.location.origin:At.location.href,$t=typeof Kt=="string"?Kt:createPath(Kt);return $t=$t.replace(/ $/,"%20"),invariant(Nt,"No window.location.(origin|href) available to create URL for href: "+$t),new URL($t,Nt)}let Xt={get action(){return Et},get location(){return xt(At,Ct)},listen(Kt){if(Ft)throw new Error("A history only accepts one active listener");return At.addEventListener(PopStateEventType,Rt),Ft=Kt,()=>{At.removeEventListener(PopStateEventType,Rt),Ft=null}},createHref(Kt){return $(At,Kt)},createURL:Pt,encodeLocation(Kt){let Nt=Pt(Kt);return{pathname:Nt.pathname,search:Nt.search,hash:Nt.hash}},push:_e,replace:bt,go(Kt){return Ct.go(Kt)}};return Xt}var ResultType;(function(xt){xt.data="data",xt.deferred="deferred",xt.redirect="redirect",xt.error="error"})(ResultType||(ResultType={}));function matchRoutes(xt,$,ht){ht===void 0&&(ht="/");let vt=typeof $=="string"?parsePath($):$,At=stripBasename(vt.pathname||"/",ht);if(At==null)return null;let St=flattenRoutes(xt);rankRouteBranches(St);let Ct=null;for(let Et=0;Ct==null&&Et<St.length;++Et){let Ft=decodePath(At);Ct=matchRouteBranch(St[Et],Ft)}return Ct}function flattenRoutes(xt,$,ht,vt){$===void 0&&($=[]),ht===void 0&&(ht=[]),vt===void 0&&(vt="");let At=(St,Ct,Et)=>{let Ft={relativePath:Et===void 0?St.path||"":Et,caseSensitive:St.caseSensitive===!0,childrenIndex:Ct,route:St};Ft.relativePath.startsWith("/")&&(invariant(Ft.relativePath.startsWith(vt),'Absolute route path "'+Ft.relativePath+'" nested under path '+('"'+vt+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),Ft.relativePath=Ft.relativePath.slice(vt.length));let wt=joinPaths([vt,Ft.relativePath]),_t=ht.concat(Ft);St.children&&St.children.length>0&&(invariant(St.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+wt+'".')),flattenRoutes(St.children,$,_t,wt)),!(St.path==null&&!St.index)&&$.push({path:wt,score:computeScore(wt,St.index),routesMeta:_t})};return xt.forEach((St,Ct)=>{var Et;if(St.path===""||!((Et=St.path)!=null&&Et.includes("?")))At(St,Ct);else for(let Ft of explodeOptionalSegments(St.path))At(St,Ct,Ft)}),$}function explodeOptionalSegments(xt){let $=xt.split("/");if($.length===0)return[];let[ht,...vt]=$,At=ht.endsWith("?"),St=ht.replace(/\?$/,"");if(vt.length===0)return At?[St,""]:[St];let Ct=explodeOptionalSegments(vt.join("/")),Et=[];return Et.push(...Ct.map(Ft=>Ft===""?St:[St,Ft].join("/"))),At&&Et.push(...Ct),Et.map(Ft=>xt.startsWith("/")&&Ft===""?"/":Ft)}function rankRouteBranches(xt){xt.sort(($,ht)=>$.score!==ht.score?ht.score-$.score:compareIndexes($.routesMeta.map(vt=>vt.childrenIndex),ht.routesMeta.map(vt=>vt.childrenIndex)))}const paramRe=/^:[\w-]+$/,dynamicSegmentValue=3,indexRouteValue=2,emptySegmentValue=1,staticSegmentValue=10,splatPenalty=-2,isSplat=xt=>xt==="*";function computeScore(xt,$){let ht=xt.split("/"),vt=ht.length;return ht.some(isSplat)&&(vt+=splatPenalty),$&&(vt+=indexRouteValue),ht.filter(At=>!isSplat(At)).reduce((At,St)=>At+(paramRe.test(St)?dynamicSegmentValue:St===""?emptySegmentValue:staticSegmentValue),vt)}function compareIndexes(xt,$){return xt.length===$.length&&xt.slice(0,-1).every((vt,At)=>vt===$[At])?xt[xt.length-1]-$[$.length-1]:0}function matchRouteBranch(xt,$){let{routesMeta:ht}=xt,vt={},At="/",St=[];for(let Ct=0;Ct<ht.length;++Ct){let Et=ht[Ct],Ft=Ct===ht.length-1,wt=At==="/"?$:$.slice(At.length)||"/",_t=matchPath({path:Et.relativePath,caseSensitive:Et.caseSensitive,end:Ft},wt);if(!_t)return null;Object.assign(vt,_t.params);let Rt=Et.route;St.push({params:vt,pathname:joinPaths([At,_t.pathname]),pathnameBase:normalizePathname(joinPaths([At,_t.pathnameBase])),route:Rt}),_t.pathnameBase!=="/"&&(At=joinPaths([At,_t.pathnameBase]))}return St}function matchPath(xt,$){typeof xt=="string"&&(xt={path:xt,caseSensitive:!1,end:!0});let[ht,vt]=compilePath(xt.path,xt.caseSensitive,xt.end),At=$.match(ht);if(!At)return null;let St=At[0],Ct=St.replace(/(.)\/+$/,"$1"),Et=At.slice(1);return{params:vt.reduce((wt,_t,Rt)=>{let{paramName:_e,isOptional:bt}=_t;if(_e==="*"){let Xt=Et[Rt]||"";Ct=St.slice(0,St.length-Xt.length).replace(/(.)\/+$/,"$1")}const Pt=Et[Rt];return bt&&!Pt?wt[_e]=void 0:wt[_e]=(Pt||"").replace(/%2F/g,"/"),wt},{}),pathname:St,pathnameBase:Ct,pattern:xt}}function compilePath(xt,$,ht){$===void 0&&($=!1),ht===void 0&&(ht=!0),warning(xt==="*"||!xt.endsWith("*")||xt.endsWith("/*"),'Route path "'+xt+'" will be treated as if it were '+('"'+xt.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+xt.replace(/\*$/,"/*")+'".'));let vt=[],At="^"+xt.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(Ct,Et,Ft)=>(vt.push({paramName:Et,isOptional:Ft!=null}),Ft?"/?([^\\/]+)?":"/([^\\/]+)"));return xt.endsWith("*")?(vt.push({paramName:"*"}),At+=xt==="*"||xt==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):ht?At+="\\/*$":xt!==""&&xt!=="/"&&(At+="(?:(?=\\/|$))"),[new RegExp(At,$?void 0:"i"),vt]}function decodePath(xt){try{return xt.split("/").map($=>decodeURIComponent($).replace(/\//g,"%2F")).join("/")}catch($){return warning(!1,'The URL path "'+xt+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+$+").")),xt}}function stripBasename(xt,$){if($==="/")return xt;if(!xt.toLowerCase().startsWith($.toLowerCase()))return null;let ht=$.endsWith("/")?$.length-1:$.length,vt=xt.charAt(ht);return vt&&vt!=="/"?null:xt.slice(ht)||"/"}function resolvePath(xt,$){$===void 0&&($="/");let{pathname:ht,search:vt="",hash:At=""}=typeof xt=="string"?parsePath(xt):xt;return{pathname:ht?ht.startsWith("/")?ht:resolvePathname(ht,$):$,search:normalizeSearch(vt),hash:normalizeHash(At)}}function resolvePathname(xt,$){let ht=$.replace(/\/+$/,"").split("/");return xt.split("/").forEach(At=>{At===".."?ht.length>1&&ht.pop():At!=="."&&ht.push(At)}),ht.length>1?ht.join("/"):"/"}function getInvalidPathError(xt,$,ht,vt){return"Cannot include a '"+xt+"' character in a manually specified "+("`to."+$+"` field ["+JSON.stringify(vt)+"].  Please separate it out to the ")+("`to."+ht+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function getPathContributingMatches(xt){return xt.filter(($,ht)=>ht===0||$.route.path&&$.route.path.length>0)}function getResolveToMatches(xt,$){let ht=getPathContributingMatches(xt);return $?ht.map((vt,At)=>At===xt.length-1?vt.pathname:vt.pathnameBase):ht.map(vt=>vt.pathnameBase)}function resolveTo(xt,$,ht,vt){vt===void 0&&(vt=!1);let At;typeof xt=="string"?At=parsePath(xt):(At=_extends$2({},xt),invariant(!At.pathname||!At.pathname.includes("?"),getInvalidPathError("?","pathname","search",At)),invariant(!At.pathname||!At.pathname.includes("#"),getInvalidPathError("#","pathname","hash",At)),invariant(!At.search||!At.search.includes("#"),getInvalidPathError("#","search","hash",At)));let St=xt===""||At.pathname==="",Ct=St?"/":At.pathname,Et;if(Ct==null)Et=ht;else{let Rt=$.length-1;if(!vt&&Ct.startsWith("..")){let _e=Ct.split("/");for(;_e[0]==="..";)_e.shift(),Rt-=1;At.pathname=_e.join("/")}Et=Rt>=0?$[Rt]:"/"}let Ft=resolvePath(At,Et),wt=Ct&&Ct!=="/"&&Ct.endsWith("/"),_t=(St||Ct===".")&&ht.endsWith("/");return!Ft.pathname.endsWith("/")&&(wt||_t)&&(Ft.pathname+="/"),Ft}const joinPaths=xt=>xt.join("/").replace(/\/\/+/g,"/"),normalizePathname=xt=>xt.replace(/\/+$/,"").replace(/^\/*/,"/"),normalizeSearch=xt=>!xt||xt==="?"?"":xt.startsWith("?")?xt:"?"+xt,normalizeHash=xt=>!xt||xt==="#"?"":xt.startsWith("#")?xt:"#"+xt;function isRouteErrorResponse(xt){return xt!=null&&typeof xt.status=="number"&&typeof xt.statusText=="string"&&typeof xt.internal=="boolean"&&"data"in xt}const validMutationMethodsArr=["post","put","patch","delete"];new Set(validMutationMethodsArr);const validRequestMethodsArr=["get",...validMutationMethodsArr];new Set(validRequestMethodsArr);/**
 * React Router v6.23.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function _extends$1(){return _extends$1=Object.assign?Object.assign.bind():function(xt){for(var $=1;$<arguments.length;$++){var ht=arguments[$];for(var vt in ht)Object.prototype.hasOwnProperty.call(ht,vt)&&(xt[vt]=ht[vt])}return xt},_extends$1.apply(this,arguments)}const DataRouterContext=reactExports.createContext(null),DataRouterStateContext=reactExports.createContext(null),NavigationContext=reactExports.createContext(null),LocationContext=reactExports.createContext(null),RouteContext=reactExports.createContext({outlet:null,matches:[],isDataRoute:!1}),RouteErrorContext=reactExports.createContext(null);function useInRouterContext(){return reactExports.useContext(LocationContext)!=null}function useLocation(){return useInRouterContext()||invariant(!1),reactExports.useContext(LocationContext).location}function useIsomorphicLayoutEffect(xt){reactExports.useContext(NavigationContext).static||reactExports.useLayoutEffect(xt)}function useNavigate(){let{isDataRoute:xt}=reactExports.useContext(RouteContext);return xt?useNavigateStable():useNavigateUnstable()}function useNavigateUnstable(){useInRouterContext()||invariant(!1);let xt=reactExports.useContext(DataRouterContext),{basename:$,future:ht,navigator:vt}=reactExports.useContext(NavigationContext),{matches:At}=reactExports.useContext(RouteContext),{pathname:St}=useLocation(),Ct=JSON.stringify(getResolveToMatches(At,ht.v7_relativeSplatPath)),Et=reactExports.useRef(!1);return useIsomorphicLayoutEffect(()=>{Et.current=!0}),reactExports.useCallback(function(wt,_t){if(_t===void 0&&(_t={}),!Et.current)return;if(typeof wt=="number"){vt.go(wt);return}let Rt=resolveTo(wt,JSON.parse(Ct),St,_t.relative==="path");xt==null&&$!=="/"&&(Rt.pathname=Rt.pathname==="/"?$:joinPaths([$,Rt.pathname])),(_t.replace?vt.replace:vt.push)(Rt,_t.state,_t)},[$,vt,Ct,St,xt])}function useRoutes(xt,$){return useRoutesImpl(xt,$)}function useRoutesImpl(xt,$,ht,vt){useInRouterContext()||invariant(!1);let{navigator:At}=reactExports.useContext(NavigationContext),{matches:St}=reactExports.useContext(RouteContext),Ct=St[St.length-1],Et=Ct?Ct.params:{};Ct&&Ct.pathname;let Ft=Ct?Ct.pathnameBase:"/";Ct&&Ct.route;let wt=useLocation(),_t;if($){var Rt;let Kt=typeof $=="string"?parsePath($):$;Ft==="/"||(Rt=Kt.pathname)!=null&&Rt.startsWith(Ft)||invariant(!1),_t=Kt}else _t=wt;let _e=_t.pathname||"/",bt=_e;if(Ft!=="/"){let Kt=Ft.replace(/^\//,"").split("/");bt="/"+_e.replace(/^\//,"").split("/").slice(Kt.length).join("/")}let Pt=matchRoutes(xt,{pathname:bt}),Xt=_renderMatches(Pt&&Pt.map(Kt=>Object.assign({},Kt,{params:Object.assign({},Et,Kt.params),pathname:joinPaths([Ft,At.encodeLocation?At.encodeLocation(Kt.pathname).pathname:Kt.pathname]),pathnameBase:Kt.pathnameBase==="/"?Ft:joinPaths([Ft,At.encodeLocation?At.encodeLocation(Kt.pathnameBase).pathname:Kt.pathnameBase])})),St,ht,vt);return $&&Xt?reactExports.createElement(LocationContext.Provider,{value:{location:_extends$1({pathname:"/",search:"",hash:"",state:null,key:"default"},_t),navigationType:Action.Pop}},Xt):Xt}function DefaultErrorComponent(){let xt=useRouteError(),$=isRouteErrorResponse(xt)?xt.status+" "+xt.statusText:xt instanceof Error?xt.message:JSON.stringify(xt),ht=xt instanceof Error?xt.stack:null,At={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return reactExports.createElement(reactExports.Fragment,null,reactExports.createElement("h2",null,"Unexpected Application Error!"),reactExports.createElement("h3",{style:{fontStyle:"italic"}},$),ht?reactExports.createElement("pre",{style:At},ht):null,null)}const defaultErrorElement=reactExports.createElement(DefaultErrorComponent,null);class RenderErrorBoundary extends reactExports.Component{constructor($){super($),this.state={location:$.location,revalidation:$.revalidation,error:$.error}}static getDerivedStateFromError($){return{error:$}}static getDerivedStateFromProps($,ht){return ht.location!==$.location||ht.revalidation!=="idle"&&$.revalidation==="idle"?{error:$.error,location:$.location,revalidation:$.revalidation}:{error:$.error!==void 0?$.error:ht.error,location:ht.location,revalidation:$.revalidation||ht.revalidation}}componentDidCatch($,ht){console.error("React Router caught the following error during render",$,ht)}render(){return this.state.error!==void 0?reactExports.createElement(RouteContext.Provider,{value:this.props.routeContext},reactExports.createElement(RouteErrorContext.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function RenderedRoute(xt){let{routeContext:$,match:ht,children:vt}=xt,At=reactExports.useContext(DataRouterContext);return At&&At.static&&At.staticContext&&(ht.route.errorElement||ht.route.ErrorBoundary)&&(At.staticContext._deepestRenderedBoundaryId=ht.route.id),reactExports.createElement(RouteContext.Provider,{value:$},vt)}function _renderMatches(xt,$,ht,vt){var At;if($===void 0&&($=[]),ht===void 0&&(ht=null),vt===void 0&&(vt=null),xt==null){var St;if((St=ht)!=null&&St.errors)xt=ht.matches;else return null}let Ct=xt,Et=(At=ht)==null?void 0:At.errors;if(Et!=null){let _t=Ct.findIndex(Rt=>Rt.route.id&&(Et==null?void 0:Et[Rt.route.id])!==void 0);_t>=0||invariant(!1),Ct=Ct.slice(0,Math.min(Ct.length,_t+1))}let Ft=!1,wt=-1;if(ht&&vt&&vt.v7_partialHydration)for(let _t=0;_t<Ct.length;_t++){let Rt=Ct[_t];if((Rt.route.HydrateFallback||Rt.route.hydrateFallbackElement)&&(wt=_t),Rt.route.id){let{loaderData:_e,errors:bt}=ht,Pt=Rt.route.loader&&_e[Rt.route.id]===void 0&&(!bt||bt[Rt.route.id]===void 0);if(Rt.route.lazy||Pt){Ft=!0,wt>=0?Ct=Ct.slice(0,wt+1):Ct=[Ct[0]];break}}}return Ct.reduceRight((_t,Rt,_e)=>{let bt,Pt=!1,Xt=null,Kt=null;ht&&(bt=Et&&Rt.route.id?Et[Rt.route.id]:void 0,Xt=Rt.route.errorElement||defaultErrorElement,Ft&&(wt<0&&_e===0?(Pt=!0,Kt=null):wt===_e&&(Pt=!0,Kt=Rt.route.hydrateFallbackElement||null)));let Nt=$.concat(Ct.slice(0,_e+1)),$t=()=>{let Lt;return bt?Lt=Xt:Pt?Lt=Kt:Rt.route.Component?Lt=reactExports.createElement(Rt.route.Component,null):Rt.route.element?Lt=Rt.route.element:Lt=_t,reactExports.createElement(RenderedRoute,{match:Rt,routeContext:{outlet:_t,matches:Nt,isDataRoute:ht!=null},children:Lt})};return ht&&(Rt.route.ErrorBoundary||Rt.route.errorElement||_e===0)?reactExports.createElement(RenderErrorBoundary,{location:ht.location,revalidation:ht.revalidation,component:Xt,error:bt,children:$t(),routeContext:{outlet:null,matches:Nt,isDataRoute:!0}}):$t()},null)}var DataRouterHook$1=function(xt){return xt.UseBlocker="useBlocker",xt.UseRevalidator="useRevalidator",xt.UseNavigateStable="useNavigate",xt}(DataRouterHook$1||{}),DataRouterStateHook$1=function(xt){return xt.UseBlocker="useBlocker",xt.UseLoaderData="useLoaderData",xt.UseActionData="useActionData",xt.UseRouteError="useRouteError",xt.UseNavigation="useNavigation",xt.UseRouteLoaderData="useRouteLoaderData",xt.UseMatches="useMatches",xt.UseRevalidator="useRevalidator",xt.UseNavigateStable="useNavigate",xt.UseRouteId="useRouteId",xt}(DataRouterStateHook$1||{});function useDataRouterContext(xt){let $=reactExports.useContext(DataRouterContext);return $||invariant(!1),$}function useDataRouterState(xt){let $=reactExports.useContext(DataRouterStateContext);return $||invariant(!1),$}function useRouteContext(xt){let $=reactExports.useContext(RouteContext);return $||invariant(!1),$}function useCurrentRouteId(xt){let $=useRouteContext(),ht=$.matches[$.matches.length-1];return ht.route.id||invariant(!1),ht.route.id}function useRouteError(){var xt;let $=reactExports.useContext(RouteErrorContext),ht=useDataRouterState(DataRouterStateHook$1.UseRouteError),vt=useCurrentRouteId(DataRouterStateHook$1.UseRouteError);return $!==void 0?$:(xt=ht.errors)==null?void 0:xt[vt]}function useNavigateStable(){let{router:xt}=useDataRouterContext(DataRouterHook$1.UseNavigateStable),$=useCurrentRouteId(DataRouterStateHook$1.UseNavigateStable),ht=reactExports.useRef(!1);return useIsomorphicLayoutEffect(()=>{ht.current=!0}),reactExports.useCallback(function(At,St){St===void 0&&(St={}),ht.current&&(typeof At=="number"?xt.navigate(At):xt.navigate(At,_extends$1({fromRouteId:$},St)))},[xt,$])}function Route(xt){invariant(!1)}function Router(xt){let{basename:$="/",children:ht=null,location:vt,navigationType:At=Action.Pop,navigator:St,static:Ct=!1,future:Et}=xt;useInRouterContext()&&invariant(!1);let Ft=$.replace(/^\/*/,"/"),wt=reactExports.useMemo(()=>({basename:Ft,navigator:St,static:Ct,future:_extends$1({v7_relativeSplatPath:!1},Et)}),[Ft,Et,St,Ct]);typeof vt=="string"&&(vt=parsePath(vt));let{pathname:_t="/",search:Rt="",hash:_e="",state:bt=null,key:Pt="default"}=vt,Xt=reactExports.useMemo(()=>{let Kt=stripBasename(_t,Ft);return Kt==null?null:{location:{pathname:Kt,search:Rt,hash:_e,state:bt,key:Pt},navigationType:At}},[Ft,_t,Rt,_e,bt,Pt,At]);return Xt==null?null:reactExports.createElement(NavigationContext.Provider,{value:wt},reactExports.createElement(LocationContext.Provider,{children:ht,value:Xt}))}function Routes(xt){let{children:$,location:ht}=xt;return useRoutes(createRoutesFromChildren($),ht)}new Promise(()=>{});function createRoutesFromChildren(xt,$){$===void 0&&($=[]);let ht=[];return reactExports.Children.forEach(xt,(vt,At)=>{if(!reactExports.isValidElement(vt))return;let St=[...$,At];if(vt.type===reactExports.Fragment){ht.push.apply(ht,createRoutesFromChildren(vt.props.children,St));return}vt.type!==Route&&invariant(!1),!vt.props.index||!vt.props.children||invariant(!1);let Ct={id:vt.props.id||St.join("-"),caseSensitive:vt.props.caseSensitive,element:vt.props.element,Component:vt.props.Component,index:vt.props.index,path:vt.props.path,loader:vt.props.loader,action:vt.props.action,errorElement:vt.props.errorElement,ErrorBoundary:vt.props.ErrorBoundary,hasErrorBoundary:vt.props.ErrorBoundary!=null||vt.props.errorElement!=null,shouldRevalidate:vt.props.shouldRevalidate,handle:vt.props.handle,lazy:vt.props.lazy};vt.props.children&&(Ct.children=createRoutesFromChildren(vt.props.children,St)),ht.push(Ct)}),ht}/**
 * React Router DOM v6.23.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */const REACT_ROUTER_VERSION="6";try{window.__reactRouterVersion=REACT_ROUTER_VERSION}catch{}const START_TRANSITION="startTransition",startTransitionImpl=t$4[START_TRANSITION];function BrowserRouter(xt){let{basename:$,children:ht,future:vt,window:At}=xt,St=reactExports.useRef();St.current==null&&(St.current=createBrowserHistory({window:At,v5Compat:!0}));let Ct=St.current,[Et,Ft]=reactExports.useState({action:Ct.action,location:Ct.location}),{v7_startTransition:wt}=vt||{},_t=reactExports.useCallback(Rt=>{wt&&startTransitionImpl?startTransitionImpl(()=>Ft(Rt)):Ft(Rt)},[Ft,wt]);return reactExports.useLayoutEffect(()=>Ct.listen(_t),[Ct,_t]),reactExports.createElement(Router,{basename:$,children:ht,location:Et.location,navigationType:Et.action,navigator:Ct,future:vt})}var DataRouterHook;(function(xt){xt.UseScrollRestoration="useScrollRestoration",xt.UseSubmit="useSubmit",xt.UseSubmitFetcher="useSubmitFetcher",xt.UseFetcher="useFetcher",xt.useViewTransitionState="useViewTransitionState"})(DataRouterHook||(DataRouterHook={}));var DataRouterStateHook;(function(xt){xt.UseFetcher="useFetcher",xt.UseFetchers="useFetchers",xt.UseScrollRestoration="useScrollRestoration"})(DataRouterStateHook||(DataRouterStateHook={}));const $f0a04ccd8dbdd83b$export$e5c5a5f917a5871c=typeof document<"u"?React.useLayoutEffect:()=>{};function $8ae05eaa5c114e9c$export$7f54fc3180508a52(xt){const $=reactExports.useRef(null);return $f0a04ccd8dbdd83b$export$e5c5a5f917a5871c(()=>{$.current=xt},[xt]),reactExports.useCallback((...ht)=>{const vt=$.current;return vt==null?void 0:vt(...ht)},[])}const $431fbd86ca7dc216$export$b204af158042fbac=xt=>{var $;return($=xt==null?void 0:xt.ownerDocument)!==null&&$!==void 0?$:document},$431fbd86ca7dc216$export$f21a1ffae260145a=xt=>xt&&"window"in xt&&xt.window===xt?xt:$431fbd86ca7dc216$export$b204af158042fbac(xt).defaultView||window;function $c87311424ea30a05$var$testUserAgent(xt){var $;return typeof window>"u"||window.navigator==null?!1:(($=window.navigator.userAgentData)===null||$===void 0?void 0:$.brands.some(ht=>xt.test(ht.brand)))||xt.test(window.navigator.userAgent)}function $c87311424ea30a05$var$testPlatform(xt){var $;return typeof window<"u"&&window.navigator!=null?xt.test((($=window.navigator.userAgentData)===null||$===void 0?void 0:$.platform)||window.navigator.platform):!1}function $c87311424ea30a05$export$9ac100e40613ea10(){return $c87311424ea30a05$var$testPlatform(/^Mac/i)}function $c87311424ea30a05$export$a11b0059900ceec8(){return $c87311424ea30a05$var$testUserAgent(/Android/i)}function $6a7db85432448f7f$export$60278871457622de(xt){return xt.mozInputSource===0&&xt.isTrusted?!0:$c87311424ea30a05$export$a11b0059900ceec8()&&xt.pointerType?xt.type==="click"&&xt.buttons===1:xt.detail===0&&!xt.pointerType}class $8a9cb279dc87e130$export$905e7fc544a71f36{isDefaultPrevented(){return this.nativeEvent.defaultPrevented}preventDefault(){this.defaultPrevented=!0,this.nativeEvent.preventDefault()}stopPropagation(){this.nativeEvent.stopPropagation(),this.isPropagationStopped=()=>!0}isPropagationStopped(){return!1}persist(){}constructor($,ht){this.nativeEvent=ht,this.target=ht.target,this.currentTarget=ht.currentTarget,this.relatedTarget=ht.relatedTarget,this.bubbles=ht.bubbles,this.cancelable=ht.cancelable,this.defaultPrevented=ht.defaultPrevented,this.eventPhase=ht.eventPhase,this.isTrusted=ht.isTrusted,this.timeStamp=ht.timeStamp,this.type=$}}function $8a9cb279dc87e130$export$715c682d09d639cc(xt){let $=reactExports.useRef({isFocused:!1,observer:null});$f0a04ccd8dbdd83b$export$e5c5a5f917a5871c(()=>{const vt=$.current;return()=>{vt.observer&&(vt.observer.disconnect(),vt.observer=null)}},[]);let ht=$8ae05eaa5c114e9c$export$7f54fc3180508a52(vt=>{xt==null||xt(vt)});return reactExports.useCallback(vt=>{if(vt.target instanceof HTMLButtonElement||vt.target instanceof HTMLInputElement||vt.target instanceof HTMLTextAreaElement||vt.target instanceof HTMLSelectElement){$.current.isFocused=!0;let At=vt.target,St=Ct=>{$.current.isFocused=!1,At.disabled&&ht(new $8a9cb279dc87e130$export$905e7fc544a71f36("blur",Ct)),$.current.observer&&($.current.observer.disconnect(),$.current.observer=null)};At.addEventListener("focusout",St,{once:!0}),$.current.observer=new MutationObserver(()=>{if($.current.isFocused&&At.disabled){var Ct;(Ct=$.current.observer)===null||Ct===void 0||Ct.disconnect();let Et=At===document.activeElement?null:document.activeElement;At.dispatchEvent(new FocusEvent("blur",{relatedTarget:Et})),At.dispatchEvent(new FocusEvent("focusout",{bubbles:!0,relatedTarget:Et}))}}),$.current.observer.observe(At,{attributes:!0,attributeFilter:["disabled"]})}},[ht])}function $a1ea59d68270f0dd$export$f8168d8dd8fd66e6(xt){let{isDisabled:$,onFocus:ht,onBlur:vt,onFocusChange:At}=xt;const St=reactExports.useCallback(Ft=>{if(Ft.target===Ft.currentTarget)return vt&&vt(Ft),At&&At(!1),!0},[vt,At]),Ct=$8a9cb279dc87e130$export$715c682d09d639cc(St),Et=reactExports.useCallback(Ft=>{const wt=$431fbd86ca7dc216$export$b204af158042fbac(Ft.target);Ft.target===Ft.currentTarget&&wt.activeElement===Ft.target&&(ht&&ht(Ft),At&&At(!0),Ct(Ft))},[At,ht,Ct]);return{focusProps:{onFocus:!$&&(ht||At||vt)?Et:void 0,onBlur:!$&&(vt||At)?St:void 0}}}let $507fabe10e71c6fb$var$currentModality=null,$507fabe10e71c6fb$var$changeHandlers=new Set,$507fabe10e71c6fb$export$d90243b58daecda7=new Map,$507fabe10e71c6fb$var$hasEventBeforeFocus=!1,$507fabe10e71c6fb$var$hasBlurredWindowRecently=!1;const $507fabe10e71c6fb$var$FOCUS_VISIBLE_INPUT_KEYS={Tab:!0,Escape:!0};function $507fabe10e71c6fb$var$triggerChangeHandlers(xt,$){for(let ht of $507fabe10e71c6fb$var$changeHandlers)ht(xt,$)}function $507fabe10e71c6fb$var$isValidKey(xt){return!(xt.metaKey||!$c87311424ea30a05$export$9ac100e40613ea10()&&xt.altKey||xt.ctrlKey||xt.key==="Control"||xt.key==="Shift"||xt.key==="Meta")}function $507fabe10e71c6fb$var$handleKeyboardEvent(xt){$507fabe10e71c6fb$var$hasEventBeforeFocus=!0,$507fabe10e71c6fb$var$isValidKey(xt)&&($507fabe10e71c6fb$var$currentModality="keyboard",$507fabe10e71c6fb$var$triggerChangeHandlers("keyboard",xt))}function $507fabe10e71c6fb$var$handlePointerEvent(xt){$507fabe10e71c6fb$var$currentModality="pointer",(xt.type==="mousedown"||xt.type==="pointerdown")&&($507fabe10e71c6fb$var$hasEventBeforeFocus=!0,$507fabe10e71c6fb$var$triggerChangeHandlers("pointer",xt))}function $507fabe10e71c6fb$var$handleClickEvent(xt){$6a7db85432448f7f$export$60278871457622de(xt)&&($507fabe10e71c6fb$var$hasEventBeforeFocus=!0,$507fabe10e71c6fb$var$currentModality="virtual")}function $507fabe10e71c6fb$var$handleFocusEvent(xt){xt.target===window||xt.target===document||(!$507fabe10e71c6fb$var$hasEventBeforeFocus&&!$507fabe10e71c6fb$var$hasBlurredWindowRecently&&($507fabe10e71c6fb$var$currentModality="virtual",$507fabe10e71c6fb$var$triggerChangeHandlers("virtual",xt)),$507fabe10e71c6fb$var$hasEventBeforeFocus=!1,$507fabe10e71c6fb$var$hasBlurredWindowRecently=!1)}function $507fabe10e71c6fb$var$handleWindowBlur(){$507fabe10e71c6fb$var$hasEventBeforeFocus=!1,$507fabe10e71c6fb$var$hasBlurredWindowRecently=!0}function $507fabe10e71c6fb$var$setupGlobalFocusEvents(xt){if(typeof window>"u"||$507fabe10e71c6fb$export$d90243b58daecda7.get($431fbd86ca7dc216$export$f21a1ffae260145a(xt)))return;const $=$431fbd86ca7dc216$export$f21a1ffae260145a(xt),ht=$431fbd86ca7dc216$export$b204af158042fbac(xt);let vt=$.HTMLElement.prototype.focus;$.HTMLElement.prototype.focus=function(){$507fabe10e71c6fb$var$hasEventBeforeFocus=!0,vt.apply(this,arguments)},ht.addEventListener("keydown",$507fabe10e71c6fb$var$handleKeyboardEvent,!0),ht.addEventListener("keyup",$507fabe10e71c6fb$var$handleKeyboardEvent,!0),ht.addEventListener("click",$507fabe10e71c6fb$var$handleClickEvent,!0),$.addEventListener("focus",$507fabe10e71c6fb$var$handleFocusEvent,!0),$.addEventListener("blur",$507fabe10e71c6fb$var$handleWindowBlur,!1),typeof PointerEvent<"u"?(ht.addEventListener("pointerdown",$507fabe10e71c6fb$var$handlePointerEvent,!0),ht.addEventListener("pointermove",$507fabe10e71c6fb$var$handlePointerEvent,!0),ht.addEventListener("pointerup",$507fabe10e71c6fb$var$handlePointerEvent,!0)):(ht.addEventListener("mousedown",$507fabe10e71c6fb$var$handlePointerEvent,!0),ht.addEventListener("mousemove",$507fabe10e71c6fb$var$handlePointerEvent,!0),ht.addEventListener("mouseup",$507fabe10e71c6fb$var$handlePointerEvent,!0)),$.addEventListener("beforeunload",()=>{$507fabe10e71c6fb$var$tearDownWindowFocusTracking(xt)},{once:!0}),$507fabe10e71c6fb$export$d90243b58daecda7.set($,{focus:vt})}const $507fabe10e71c6fb$var$tearDownWindowFocusTracking=(xt,$)=>{const ht=$431fbd86ca7dc216$export$f21a1ffae260145a(xt),vt=$431fbd86ca7dc216$export$b204af158042fbac(xt);$&&vt.removeEventListener("DOMContentLoaded",$),$507fabe10e71c6fb$export$d90243b58daecda7.has(ht)&&(ht.HTMLElement.prototype.focus=$507fabe10e71c6fb$export$d90243b58daecda7.get(ht).focus,vt.removeEventListener("keydown",$507fabe10e71c6fb$var$handleKeyboardEvent,!0),vt.removeEventListener("keyup",$507fabe10e71c6fb$var$handleKeyboardEvent,!0),vt.removeEventListener("click",$507fabe10e71c6fb$var$handleClickEvent,!0),ht.removeEventListener("focus",$507fabe10e71c6fb$var$handleFocusEvent,!0),ht.removeEventListener("blur",$507fabe10e71c6fb$var$handleWindowBlur,!1),typeof PointerEvent<"u"?(vt.removeEventListener("pointerdown",$507fabe10e71c6fb$var$handlePointerEvent,!0),vt.removeEventListener("pointermove",$507fabe10e71c6fb$var$handlePointerEvent,!0),vt.removeEventListener("pointerup",$507fabe10e71c6fb$var$handlePointerEvent,!0)):(vt.removeEventListener("mousedown",$507fabe10e71c6fb$var$handlePointerEvent,!0),vt.removeEventListener("mousemove",$507fabe10e71c6fb$var$handlePointerEvent,!0),vt.removeEventListener("mouseup",$507fabe10e71c6fb$var$handlePointerEvent,!0)),$507fabe10e71c6fb$export$d90243b58daecda7.delete(ht))};function $507fabe10e71c6fb$export$2f1888112f558a7d(xt){const $=$431fbd86ca7dc216$export$b204af158042fbac(xt);let ht;return $.readyState!=="loading"?$507fabe10e71c6fb$var$setupGlobalFocusEvents(xt):(ht=()=>{$507fabe10e71c6fb$var$setupGlobalFocusEvents(xt)},$.addEventListener("DOMContentLoaded",ht)),()=>$507fabe10e71c6fb$var$tearDownWindowFocusTracking(xt,ht)}typeof document<"u"&&$507fabe10e71c6fb$export$2f1888112f558a7d();function $507fabe10e71c6fb$export$b9b3dfddab17db27(){return $507fabe10e71c6fb$var$currentModality!=="pointer"}const $507fabe10e71c6fb$var$nonTextInputTypes=new Set(["checkbox","radio","range","color","file","image","button","submit","reset"]);function $507fabe10e71c6fb$var$isKeyboardFocusEvent(xt,$,ht){var vt;const At=typeof window<"u"?$431fbd86ca7dc216$export$f21a1ffae260145a(ht==null?void 0:ht.target).HTMLInputElement:HTMLInputElement,St=typeof window<"u"?$431fbd86ca7dc216$export$f21a1ffae260145a(ht==null?void 0:ht.target).HTMLTextAreaElement:HTMLTextAreaElement,Ct=typeof window<"u"?$431fbd86ca7dc216$export$f21a1ffae260145a(ht==null?void 0:ht.target).HTMLElement:HTMLElement,Et=typeof window<"u"?$431fbd86ca7dc216$export$f21a1ffae260145a(ht==null?void 0:ht.target).KeyboardEvent:KeyboardEvent;return xt=xt||(ht==null?void 0:ht.target)instanceof At&&!$507fabe10e71c6fb$var$nonTextInputTypes.has(ht==null||(vt=ht.target)===null||vt===void 0?void 0:vt.type)||(ht==null?void 0:ht.target)instanceof St||(ht==null?void 0:ht.target)instanceof Ct&&(ht==null?void 0:ht.target.isContentEditable),!(xt&&$==="keyboard"&&ht instanceof Et&&!$507fabe10e71c6fb$var$FOCUS_VISIBLE_INPUT_KEYS[ht.key])}function $507fabe10e71c6fb$export$ec71b4b83ac08ec3(xt,$,ht){$507fabe10e71c6fb$var$setupGlobalFocusEvents(),reactExports.useEffect(()=>{let vt=(At,St)=>{$507fabe10e71c6fb$var$isKeyboardFocusEvent(!!(ht!=null&&ht.isTextInput),At,St)&&xt($507fabe10e71c6fb$export$b9b3dfddab17db27())};return $507fabe10e71c6fb$var$changeHandlers.add(vt),()=>{$507fabe10e71c6fb$var$changeHandlers.delete(vt)}},$)}function $9ab94262bd0047c7$export$420e68273165f4ec(xt){let{isDisabled:$,onBlurWithin:ht,onFocusWithin:vt,onFocusWithinChange:At}=xt,St=reactExports.useRef({isFocusWithin:!1}),Ct=reactExports.useCallback(wt=>{St.current.isFocusWithin&&!wt.currentTarget.contains(wt.relatedTarget)&&(St.current.isFocusWithin=!1,ht&&ht(wt),At&&At(!1))},[ht,At,St]),Et=$8a9cb279dc87e130$export$715c682d09d639cc(Ct),Ft=reactExports.useCallback(wt=>{!St.current.isFocusWithin&&document.activeElement===wt.target&&(vt&&vt(wt),At&&At(!0),St.current.isFocusWithin=!0,Et(wt))},[vt,At,Et]);return $?{focusWithinProps:{onFocus:void 0,onBlur:void 0}}:{focusWithinProps:{onFocus:Ft,onBlur:Ct}}}let $6179b936705e76d3$var$globalIgnoreEmulatedMouseEvents=!1,$6179b936705e76d3$var$hoverCount=0;function $6179b936705e76d3$var$setGlobalIgnoreEmulatedMouseEvents(){$6179b936705e76d3$var$globalIgnoreEmulatedMouseEvents=!0,setTimeout(()=>{$6179b936705e76d3$var$globalIgnoreEmulatedMouseEvents=!1},50)}function $6179b936705e76d3$var$handleGlobalPointerEvent(xt){xt.pointerType==="touch"&&$6179b936705e76d3$var$setGlobalIgnoreEmulatedMouseEvents()}function $6179b936705e76d3$var$setupGlobalTouchEvents(){if(!(typeof document>"u"))return typeof PointerEvent<"u"?document.addEventListener("pointerup",$6179b936705e76d3$var$handleGlobalPointerEvent):document.addEventListener("touchend",$6179b936705e76d3$var$setGlobalIgnoreEmulatedMouseEvents),$6179b936705e76d3$var$hoverCount++,()=>{$6179b936705e76d3$var$hoverCount--,!($6179b936705e76d3$var$hoverCount>0)&&(typeof PointerEvent<"u"?document.removeEventListener("pointerup",$6179b936705e76d3$var$handleGlobalPointerEvent):document.removeEventListener("touchend",$6179b936705e76d3$var$setGlobalIgnoreEmulatedMouseEvents))}}function $6179b936705e76d3$export$ae780daf29e6d456(xt){let{onHoverStart:$,onHoverChange:ht,onHoverEnd:vt,isDisabled:At}=xt,[St,Ct]=reactExports.useState(!1),Et=reactExports.useRef({isHovered:!1,ignoreEmulatedMouseEvents:!1,pointerType:"",target:null}).current;reactExports.useEffect($6179b936705e76d3$var$setupGlobalTouchEvents,[]);let{hoverProps:Ft,triggerHoverEnd:wt}=reactExports.useMemo(()=>{let _t=(bt,Pt)=>{if(Et.pointerType=Pt,At||Pt==="touch"||Et.isHovered||!bt.currentTarget.contains(bt.target))return;Et.isHovered=!0;let Xt=bt.currentTarget;Et.target=Xt,$&&$({type:"hoverstart",target:Xt,pointerType:Pt}),ht&&ht(!0),Ct(!0)},Rt=(bt,Pt)=>{if(Et.pointerType="",Et.target=null,Pt==="touch"||!Et.isHovered)return;Et.isHovered=!1;let Xt=bt.currentTarget;vt&&vt({type:"hoverend",target:Xt,pointerType:Pt}),ht&&ht(!1),Ct(!1)},_e={};return typeof PointerEvent<"u"?(_e.onPointerEnter=bt=>{$6179b936705e76d3$var$globalIgnoreEmulatedMouseEvents&&bt.pointerType==="mouse"||_t(bt,bt.pointerType)},_e.onPointerLeave=bt=>{!At&&bt.currentTarget.contains(bt.target)&&Rt(bt,bt.pointerType)}):(_e.onTouchStart=()=>{Et.ignoreEmulatedMouseEvents=!0},_e.onMouseEnter=bt=>{!Et.ignoreEmulatedMouseEvents&&!$6179b936705e76d3$var$globalIgnoreEmulatedMouseEvents&&_t(bt,"mouse"),Et.ignoreEmulatedMouseEvents=!1},_e.onMouseLeave=bt=>{!At&&bt.currentTarget.contains(bt.target)&&Rt(bt,"mouse")}),{hoverProps:_e,triggerHoverEnd:Rt}},[$,ht,vt,At,Et]);return reactExports.useEffect(()=>{At&&wt({currentTarget:Et.target},Et.pointerType)},[At]),{hoverProps:Ft,isHovered:St}}function $f7dceffc5ad7768b$export$4e328f61c538687f(xt={}){let{autoFocus:$=!1,isTextInput:ht,within:vt}=xt,At=reactExports.useRef({isFocused:!1,isFocusVisible:$||$507fabe10e71c6fb$export$b9b3dfddab17db27()}),[St,Ct]=reactExports.useState(!1),[Et,Ft]=reactExports.useState(()=>At.current.isFocused&&At.current.isFocusVisible),wt=reactExports.useCallback(()=>Ft(At.current.isFocused&&At.current.isFocusVisible),[]),_t=reactExports.useCallback(bt=>{At.current.isFocused=bt,Ct(bt),wt()},[wt]);$507fabe10e71c6fb$export$ec71b4b83ac08ec3(bt=>{At.current.isFocusVisible=bt,wt()},[],{isTextInput:ht});let{focusProps:Rt}=$a1ea59d68270f0dd$export$f8168d8dd8fd66e6({isDisabled:vt,onFocusChange:_t}),{focusWithinProps:_e}=$9ab94262bd0047c7$export$420e68273165f4ec({isDisabled:!vt,onFocusWithinChange:_t});return{isFocused:St,isFocusVisible:Et,focusProps:vt?_e:Rt}}var i$5=Object.defineProperty,d$3=(xt,$,ht)=>$ in xt?i$5(xt,$,{enumerable:!0,configurable:!0,writable:!0,value:ht}):xt[$]=ht,r$2=(xt,$,ht)=>(d$3(xt,typeof $!="symbol"?$+"":$,ht),ht);let o$5=class{constructor(){r$2(this,"current",this.detect()),r$2(this,"handoffState","pending"),r$2(this,"currentId",0)}set($){this.current!==$&&(this.handoffState="pending",this.currentId=0,this.current=$)}reset(){this.set(this.detect())}nextId(){return++this.currentId}get isServer(){return this.current==="server"}get isClient(){return this.current==="client"}detect(){return typeof window>"u"||typeof document>"u"?"server":"client"}handoff(){this.handoffState==="pending"&&(this.handoffState="complete")}get isHandoffComplete(){return this.handoffState==="complete"}},s$5=new o$5;function u$7(xt){return s$5.isServer?null:xt instanceof Node?xt.ownerDocument:xt!=null&&xt.hasOwnProperty("current")&&xt.current instanceof Node?xt.current.ownerDocument:document}function t$3(xt){typeof queueMicrotask=="function"?queueMicrotask(xt):Promise.resolve().then(xt).catch($=>setTimeout(()=>{throw $}))}function o$4(){let xt=[],$={addEventListener(ht,vt,At,St){return ht.addEventListener(vt,At,St),$.add(()=>ht.removeEventListener(vt,At,St))},requestAnimationFrame(...ht){let vt=requestAnimationFrame(...ht);return $.add(()=>cancelAnimationFrame(vt))},nextFrame(...ht){return $.requestAnimationFrame(()=>$.requestAnimationFrame(...ht))},setTimeout(...ht){let vt=setTimeout(...ht);return $.add(()=>clearTimeout(vt))},microTask(...ht){let vt={current:!0};return t$3(()=>{vt.current&&ht[0]()}),$.add(()=>{vt.current=!1})},style(ht,vt,At){let St=ht.style.getPropertyValue(vt);return Object.assign(ht.style,{[vt]:At}),this.add(()=>{Object.assign(ht.style,{[vt]:St})})},group(ht){let vt=o$4();return ht(vt),this.add(()=>vt.dispose())},add(ht){return xt.includes(ht)||xt.push(ht),()=>{let vt=xt.indexOf(ht);if(vt>=0)for(let At of xt.splice(vt,1))At()}},dispose(){for(let ht of xt.splice(0))ht()}};return $}function p$3(){let[xt]=reactExports.useState(o$4);return reactExports.useEffect(()=>()=>xt.dispose(),[xt]),xt}let n$3=(xt,$)=>{s$5.isServer?reactExports.useEffect(xt,$):reactExports.useLayoutEffect(xt,$)};function s$4(xt){let $=reactExports.useRef(xt);return n$3(()=>{$.current=xt},[xt]),$}let o$3=function(xt){let $=s$4(xt);return React.useCallback((...ht)=>$.current(...ht),[$])};function E(xt){let $=xt.width/2,ht=xt.height/2;return{top:xt.clientY-ht,right:xt.clientX+$,bottom:xt.clientY+ht,left:xt.clientX-$}}function P$2(xt,$){return!(!xt||!$||xt.right<$.left||xt.left>$.right||xt.bottom<$.top||xt.top>$.bottom)}function w$1({disabled:xt=!1}={}){let $=reactExports.useRef(null),[ht,vt]=reactExports.useState(!1),At=p$3(),St=o$3(()=>{$.current=null,vt(!1),At.dispose()}),Ct=o$3(Et=>{if(At.dispose(),$.current===null){$.current=Et.currentTarget,vt(!0);{let Ft=u$7(Et.currentTarget);At.addEventListener(Ft,"pointerup",St,!1),At.addEventListener(Ft,"pointermove",wt=>{if($.current){let _t=E(wt);vt(P$2(_t,$.current.getBoundingClientRect()))}},!1),At.addEventListener(Ft,"pointercancel",St,!1)}}});return{pressed:ht,pressProps:xt?{}:{onPointerDown:Ct,onPointerUp:St,onClick:St}}}let e$2=reactExports.createContext(void 0);function a$7(){return reactExports.useContext(e$2)}function t$2(...xt){return Array.from(new Set(xt.flatMap($=>typeof $=="string"?$.split(" "):[]))).filter(Boolean).join(" ")}function u$6(xt,$,...ht){if(xt in $){let At=$[xt];return typeof At=="function"?At(...ht):At}let vt=new Error(`Tried to handle "${xt}" but there is no handler defined. Only defined handlers are: ${Object.keys($).map(At=>`"${At}"`).join(", ")}.`);throw Error.captureStackTrace&&Error.captureStackTrace(vt,u$6),vt}var O$1=(xt=>(xt[xt.None=0]="None",xt[xt.RenderStrategy=1]="RenderStrategy",xt[xt.Static=2]="Static",xt))(O$1||{}),M$2=(xt=>(xt[xt.Unmount=0]="Unmount",xt[xt.Hidden=1]="Hidden",xt))(M$2||{});function H$1({ourProps:xt,theirProps:$,slot:ht,defaultTag:vt,features:At,visible:St=!0,name:Ct,mergeRefs:Et}){Et=Et??A$2;let Ft=N$2($,xt);if(St)return b$1(Ft,ht,vt,Ct,Et);let wt=At??0;if(wt&2){let{static:_t=!1,...Rt}=Ft;if(_t)return b$1(Rt,ht,vt,Ct,Et)}if(wt&1){let{unmount:_t=!0,...Rt}=Ft;return u$6(_t?0:1,{0(){return null},1(){return b$1({...Rt,hidden:!0,style:{display:"none"}},ht,vt,Ct,Et)}})}return b$1(Ft,ht,vt,Ct,Et)}function b$1(xt,$={},ht,vt,At){let{as:St=ht,children:Ct,refName:Et="ref",...Ft}=h$2(xt,["unmount","static"]),wt=xt.ref!==void 0?{[Et]:xt.ref}:{},_t=typeof Ct=="function"?Ct($):Ct;"className"in Ft&&Ft.className&&typeof Ft.className=="function"&&(Ft.className=Ft.className($)),Ft["aria-labelledby"]&&Ft["aria-labelledby"]===Ft.id&&(Ft["aria-labelledby"]=void 0);let Rt={};if($){let _e=!1,bt=[];for(let[Pt,Xt]of Object.entries($))typeof Xt=="boolean"&&(_e=!0),Xt===!0&&bt.push(Pt.replace(/([A-Z])/g,Kt=>`-${Kt.toLowerCase()}`));if(_e){Rt["data-headlessui-state"]=bt.join(" ");for(let Pt of bt)Rt[`data-${Pt}`]=""}}if(St===reactExports.Fragment&&(Object.keys(m$3(Ft)).length>0||Object.keys(m$3(Rt)).length>0))if(!reactExports.isValidElement(_t)||Array.isArray(_t)&&_t.length>1){if(Object.keys(m$3(Ft)).length>0)throw new Error(['Passing props on "Fragment"!',"",`The current component <${vt} /> is rendering a "Fragment".`,"However we need to passthrough the following props:",Object.keys(m$3(Ft)).concat(Object.keys(m$3(Rt))).map(_e=>`  - ${_e}`).join(`
`),"","You can apply a few solutions:",['Add an `as="..."` prop, to ensure that we render an actual element instead of a "Fragment".',"Render a single element as the child so that we can forward the props onto that element."].map(_e=>`  - ${_e}`).join(`
`)].join(`
`))}else{let _e=_t.props,bt=_e==null?void 0:_e.className,Pt=typeof bt=="function"?(...Nt)=>t$2(bt(...Nt),Ft.className):t$2(bt,Ft.className),Xt=Pt?{className:Pt}:{},Kt=N$2(_t.props,m$3(h$2(Ft,["ref"])));for(let Nt in Rt)Nt in Kt&&delete Rt[Nt];return reactExports.cloneElement(_t,Object.assign({},Kt,Rt,wt,{ref:At(_t.ref,wt.ref)},Xt))}return reactExports.createElement(St,Object.assign({},h$2(Ft,["ref"]),St!==reactExports.Fragment&&wt,St!==reactExports.Fragment&&Rt),_t)}function A$2(...xt){return xt.every($=>$==null)?void 0:$=>{for(let ht of xt)ht!=null&&(typeof ht=="function"?ht($):ht.current=$)}}function N$2(...xt){if(xt.length===0)return{};if(xt.length===1)return xt[0];let $={},ht={};for(let vt of xt)for(let At in vt)At.startsWith("on")&&typeof vt[At]=="function"?(ht[At]!=null||(ht[At]=[]),ht[At].push(vt[At])):$[At]=vt[At];if($.disabled||$["aria-disabled"])for(let vt in ht)/^(on(?:Click|Pointer|Mouse|Key)(?:Down|Up|Press)?)$/.test(vt)&&(ht[vt]=[At=>{var St;return(St=At==null?void 0:At.preventDefault)==null?void 0:St.call(At)}]);for(let vt in ht)Object.assign($,{[vt](At,...St){let Ct=ht[vt];for(let Et of Ct){if((At instanceof Event||(At==null?void 0:At.nativeEvent)instanceof Event)&&At.defaultPrevented)return;Et(At,...St)}}});return $}function D$3(...xt){if(xt.length===0)return{};if(xt.length===1)return xt[0];let $={},ht={};for(let vt of xt)for(let At in vt)At.startsWith("on")&&typeof vt[At]=="function"?(ht[At]!=null||(ht[At]=[]),ht[At].push(vt[At])):$[At]=vt[At];for(let vt in ht)Object.assign($,{[vt](...At){let St=ht[vt];for(let Ct of St)Ct==null||Ct(...At)}});return $}function I$3(xt){var $;return Object.assign(reactExports.forwardRef(xt),{displayName:($=xt.displayName)!=null?$:xt.name})}function m$3(xt){let $=Object.assign({},xt);for(let ht in $)$[ht]===void 0&&delete $[ht];return $}function h$2(xt,$=[]){let ht=Object.assign({},xt);for(let vt of $)vt in ht&&delete ht[vt];return ht}let e$1=reactExports.createContext(void 0);function u$5(){return reactExports.useContext(e$1)}function r$1(xt){let $=xt.parentElement,ht=null;for(;$&&!($ instanceof HTMLFieldSetElement);)$ instanceof HTMLLegendElement&&(ht=$),$=$.parentElement;let vt=($==null?void 0:$.getAttribute("disabled"))==="";return vt&&i$4(ht)?!1:vt}function i$4(xt){if(!xt)return!1;let $=xt.previousElementSibling;for(;$!==null;){if($ instanceof HTMLLegendElement)return!1;$=$.previousElementSibling}return!0}let u$4=Symbol();function T$2(xt,$=!0){return Object.assign(xt,{[u$4]:$})}function y$4(...xt){let $=reactExports.useRef(xt);reactExports.useEffect(()=>{$.current=xt},[xt]);let ht=o$3(vt=>{for(let At of $.current)At!=null&&(typeof At=="function"?At(vt):At.current=vt)});return xt.every(vt=>vt==null||(vt==null?void 0:vt[u$4]))?void 0:ht}let a$6=reactExports.createContext(null);a$6.displayName="DescriptionContext";function f$5(){let xt=reactExports.useContext(a$6);if(xt===null){let $=new Error("You used a <Description /> component, but it is not inside a relevant parent.");throw Error.captureStackTrace&&Error.captureStackTrace($,f$5),$}return xt}function U$1(){let[xt,$]=reactExports.useState([]);return[xt.length>0?xt.join(" "):void 0,reactExports.useMemo(()=>function(ht){let vt=o$3(St=>($(Ct=>[...Ct,St]),()=>$(Ct=>{let Et=Ct.slice(),Ft=Et.indexOf(St);return Ft!==-1&&Et.splice(Ft,1),Et}))),At=reactExports.useMemo(()=>({register:vt,slot:ht.slot,name:ht.name,props:ht.props,value:ht.value}),[vt,ht.slot,ht.name,ht.props,ht.value]);return React.createElement(a$6.Provider,{value:At},ht.children)},[$])]}let S$3="p";function C(xt,$){let ht=reactExports.useId(),vt=a$7(),{id:At=`headlessui-description-${ht}`,...St}=xt,Ct=f$5(),Et=y$4($);n$3(()=>Ct.register(At),[At,Ct.register]);let Ft=vt||!1,wt=reactExports.useMemo(()=>({...Ct.slot,disabled:Ft}),[Ct.slot,Ft]),_t={ref:Et,...Ct.props,id:At};return H$1({ourProps:_t,theirProps:St,slot:wt,defaultTag:S$3,name:Ct.name||"Description"})}let _$1=I$3(C);Object.assign(_$1,{});var o$2=(xt=>(xt.Space=" ",xt.Enter="Enter",xt.Escape="Escape",xt.Backspace="Backspace",xt.Delete="Delete",xt.ArrowLeft="ArrowLeft",xt.ArrowUp="ArrowUp",xt.ArrowRight="ArrowRight",xt.ArrowDown="ArrowDown",xt.Home="Home",xt.End="End",xt.PageUp="PageUp",xt.PageDown="PageDown",xt.Tab="Tab",xt))(o$2||{});let c$4=reactExports.createContext(null);c$4.displayName="LabelContext";function P$1(){let xt=reactExports.useContext(c$4);if(xt===null){let $=new Error("You used a <Label /> component, but it is not inside a relevant parent.");throw Error.captureStackTrace&&Error.captureStackTrace($,P$1),$}return xt}function I$2(xt){var $,ht,vt;let At=(ht=($=reactExports.useContext(c$4))==null?void 0:$.value)!=null?ht:void 0;return((vt=void 0)!=null?vt:0)>0?[At,...xt].filter(Boolean).join(" "):At}function z({inherit:xt=!1}={}){let $=I$2(),[ht,vt]=reactExports.useState([]),At=xt?[$,...ht].filter(Boolean):ht;return[At.length>0?At.join(" "):void 0,reactExports.useMemo(()=>function(St){let Ct=o$3(Ft=>(vt(wt=>[...wt,Ft]),()=>vt(wt=>{let _t=wt.slice(),Rt=_t.indexOf(Ft);return Rt!==-1&&_t.splice(Rt,1),_t}))),Et=reactExports.useMemo(()=>({register:Ct,slot:St.slot,name:St.name,props:St.props,value:St.value}),[Ct,St.slot,St.name,St.props,St.value]);return React.createElement(c$4.Provider,{value:Et},St.children)},[vt])]}let N$1="label";function G$1(xt,$){var ht;let vt=reactExports.useId(),At=P$1(),St=u$5(),Ct=a$7(),{id:Et=`headlessui-label-${vt}`,htmlFor:Ft=St??((ht=At.props)==null?void 0:ht.htmlFor),passive:wt=!1,..._t}=xt,Rt=y$4($);n$3(()=>At.register(Et),[Et,At.register]);let _e=o$3(Kt=>{let Nt=Kt.currentTarget;if(Nt instanceof HTMLLabelElement&&Kt.preventDefault(),At.props&&"onClick"in At.props&&typeof At.props.onClick=="function"&&At.props.onClick(Kt),Nt instanceof HTMLLabelElement){let $t=document.getElementById(Nt.htmlFor);if($t){let Lt=$t.getAttribute("disabled");if(Lt==="true"||Lt==="")return;let jt=$t.getAttribute("aria-disabled");if(jt==="true"||jt==="")return;($t instanceof HTMLInputElement&&($t.type==="radio"||$t.type==="checkbox")||$t.role==="radio"||$t.role==="checkbox"||$t.role==="switch")&&$t.click(),$t.focus({preventScroll:!0})}}}),bt=Ct||!1,Pt=reactExports.useMemo(()=>({...At.slot,disabled:bt}),[At.slot,bt]),Xt={ref:Rt,...At.props,id:Et,htmlFor:Ft,onClick:_e};return wt&&("onClick"in Xt&&(delete Xt.htmlFor,delete Xt.onClick),"onClick"in _t&&delete _t.onClick),H$1({ourProps:Xt,theirProps:_t,slot:Pt,defaultTag:Ft?N$1:"div",name:At.name||"Label"})}let U=I$3(G$1);Object.assign(U,{});function s$3(xt){if(xt===null)return{width:0,height:0};let{width:$,height:ht}=xt.getBoundingClientRect();return{width:$,height:ht}}function f$4(xt,$=!1){let ht=xt===null?null:"current"in xt?xt.current:xt,[vt,At]=reactExports.useReducer(()=>({}),{}),St=reactExports.useMemo(()=>s$3(ht),[ht,vt]);return n$3(()=>{if(!ht)return;let Ct=new ResizeObserver(At);return Ct.observe(ht),()=>{Ct.disconnect()}},[ht]),$?{width:`${St.width}px`,height:`${St.height}px`}:St}let a$5=class extends Map{constructor($){super(),this.factory=$}get($){let ht=super.get($);return ht===void 0&&(ht=this.factory($),this.set($,ht)),ht}};function a$4(xt,$){let ht=xt(),vt=new Set;return{getSnapshot(){return ht},subscribe(At){return vt.add(At),()=>vt.delete(At)},dispatch(At,...St){let Ct=$[At].call(ht,...St);Ct&&(ht=Ct,vt.forEach(Et=>Et()))}}}function o$1(xt){return reactExports.useSyncExternalStore(xt.subscribe,xt.getSnapshot,xt.getSnapshot)}let p$2=new a$5(()=>a$4(()=>[],{ADD(xt){return this.includes(xt)?this:[...this,xt]},REMOVE(xt){let $=this.indexOf(xt);if($===-1)return this;let ht=this.slice();return ht.splice($,1),ht}}));function x(xt,$){let ht=p$2.get($),vt=reactExports.useId(),At=o$1(ht);if(n$3(()=>{if(xt)return ht.dispatch("ADD",vt),()=>ht.dispatch("REMOVE",vt)},[ht,xt]),!xt)return!1;let St=At.indexOf(vt),Ct=At.length;return St===-1&&(St=Ct,Ct+=1),St===Ct-1}let f$3=new Map,u$3=new Map;function h$1(xt){var $;let ht=($=u$3.get(xt))!=null?$:0;return u$3.set(xt,ht+1),ht!==0?()=>m$2(xt):(f$3.set(xt,{"aria-hidden":xt.getAttribute("aria-hidden"),inert:xt.inert}),xt.setAttribute("aria-hidden","true"),xt.inert=!0,()=>m$2(xt))}function m$2(xt){var $;let ht=($=u$3.get(xt))!=null?$:1;if(ht===1?u$3.delete(xt):u$3.set(xt,ht-1),ht!==1)return;let vt=f$3.get(xt);vt&&(vt["aria-hidden"]===null?xt.removeAttribute("aria-hidden"):xt.setAttribute("aria-hidden",vt["aria-hidden"]),xt.inert=vt.inert,f$3.delete(xt))}function y$3(xt,{allowed:$,disallowed:ht}={}){let vt=x(xt,"inert-others");n$3(()=>{var At,St;if(!vt)return;let Ct=o$4();for(let Ft of(At=ht==null?void 0:ht())!=null?At:[])Ft&&Ct.add(h$1(Ft));let Et=(St=$==null?void 0:$())!=null?St:[];for(let Ft of Et){if(!Ft)continue;let wt=u$7(Ft);if(!wt)continue;let _t=Ft.parentElement;for(;_t&&_t!==wt.body;){for(let Rt of _t.children)Et.some(_e=>Rt.contains(_e))||Ct.add(h$1(Rt));_t=_t.parentElement}}return Ct.dispose},[vt,$,ht])}function m$1(xt,$,ht){let vt=s$4(At=>{let St=At.getBoundingClientRect();St.x===0&&St.y===0&&St.width===0&&St.height===0&&ht()});reactExports.useEffect(()=>{if(!xt)return;let At=$===null?null:$ instanceof HTMLElement?$:$.current;if(!At)return;let St=o$4();if(typeof ResizeObserver<"u"){let Ct=new ResizeObserver(()=>vt.current(At));Ct.observe(At),St.add(()=>Ct.disconnect())}if(typeof IntersectionObserver<"u"){let Ct=new IntersectionObserver(()=>vt.current(At));Ct.observe(At),St.add(()=>Ct.disconnect())}return()=>St.dispose()},[$,vt,xt])}let f$2=["[contentEditable=true]","[tabindex]","a[href]","area[href]","button:not([disabled])","iframe","input:not([disabled])","select:not([disabled])","textarea:not([disabled])"].map(xt=>`${xt}:not([tabindex='-1'])`).join(","),p$1=["[data-autofocus]"].map(xt=>`${xt}:not([tabindex='-1'])`).join(",");var F$3=(xt=>(xt[xt.First=1]="First",xt[xt.Previous=2]="Previous",xt[xt.Next=4]="Next",xt[xt.Last=8]="Last",xt[xt.WrapAround=16]="WrapAround",xt[xt.NoScroll=32]="NoScroll",xt[xt.AutoFocus=64]="AutoFocus",xt))(F$3||{}),T$1=(xt=>(xt[xt.Error=0]="Error",xt[xt.Overflow=1]="Overflow",xt[xt.Success=2]="Success",xt[xt.Underflow=3]="Underflow",xt))(T$1||{}),y$2=(xt=>(xt[xt.Previous=-1]="Previous",xt[xt.Next=1]="Next",xt))(y$2||{});function b(xt=document.body){return xt==null?[]:Array.from(xt.querySelectorAll(f$2)).sort(($,ht)=>Math.sign(($.tabIndex||Number.MAX_SAFE_INTEGER)-(ht.tabIndex||Number.MAX_SAFE_INTEGER)))}function S$2(xt=document.body){return xt==null?[]:Array.from(xt.querySelectorAll(p$1)).sort(($,ht)=>Math.sign(($.tabIndex||Number.MAX_SAFE_INTEGER)-(ht.tabIndex||Number.MAX_SAFE_INTEGER)))}var h=(xt=>(xt[xt.Strict=0]="Strict",xt[xt.Loose=1]="Loose",xt))(h||{});function A$1(xt,$=0){var ht;return xt===((ht=u$7(xt))==null?void 0:ht.body)?!1:u$6($,{0(){return xt.matches(f$2)},1(){let vt=xt;for(;vt!==null;){if(vt.matches(f$2))return!0;vt=vt.parentElement}return!1}})}function G(xt){let $=u$7(xt);o$4().nextFrame(()=>{$&&!A$1($.activeElement,0)&&I$1(xt)})}var H=(xt=>(xt[xt.Keyboard=0]="Keyboard",xt[xt.Mouse=1]="Mouse",xt))(H||{});typeof window<"u"&&typeof document<"u"&&(document.addEventListener("keydown",xt=>{xt.metaKey||xt.altKey||xt.ctrlKey||(document.documentElement.dataset.headlessuiFocusVisible="")},!0),document.addEventListener("click",xt=>{xt.detail===1?delete document.documentElement.dataset.headlessuiFocusVisible:xt.detail===0&&(document.documentElement.dataset.headlessuiFocusVisible="")},!0));function I$1(xt){xt==null||xt.focus({preventScroll:!0})}let w=["textarea","input"].join(",");function O(xt){var $,ht;return(ht=($=xt==null?void 0:xt.matches)==null?void 0:$.call(xt,w))!=null?ht:!1}function _(xt,$=ht=>ht){return xt.slice().sort((ht,vt)=>{let At=$(ht),St=$(vt);if(At===null||St===null)return 0;let Ct=At.compareDocumentPosition(St);return Ct&Node.DOCUMENT_POSITION_FOLLOWING?-1:Ct&Node.DOCUMENT_POSITION_PRECEDING?1:0})}function j$2(xt,$){return P(b(),$,{relativeTo:xt})}function P(xt,$,{sorted:ht=!0,relativeTo:vt=null,skipElements:At=[]}={}){let St=Array.isArray(xt)?xt.length>0?xt[0].ownerDocument:document:xt.ownerDocument,Ct=Array.isArray(xt)?ht?_(xt):xt:$&64?S$2(xt):b(xt);At.length>0&&Ct.length>1&&(Ct=Ct.filter(bt=>!At.some(Pt=>Pt!=null&&"current"in Pt?(Pt==null?void 0:Pt.current)===bt:Pt===bt))),vt=vt??St.activeElement;let Et=(()=>{if($&5)return 1;if($&10)return-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),Ft=(()=>{if($&1)return 0;if($&2)return Math.max(0,Ct.indexOf(vt))-1;if($&4)return Math.max(0,Ct.indexOf(vt))+1;if($&8)return Ct.length-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),wt=$&32?{preventScroll:!0}:{},_t=0,Rt=Ct.length,_e;do{if(_t>=Rt||_t+Rt<=0)return 0;let bt=Ft+_t;if($&16)bt=(bt+Rt)%Rt;else{if(bt<0)return 3;if(bt>=Rt)return 1}_e=Ct[bt],_e==null||_e.focus(wt),_t+=Et}while(_e!==St.activeElement);return $&6&&O(_e)&&_e.select(),2}function t$1(){return/iPhone/gi.test(window.navigator.platform)||/Mac/gi.test(window.navigator.platform)&&window.navigator.maxTouchPoints>0}function i$3(){return/Android/gi.test(window.navigator.userAgent)}function n$2(){return t$1()||i$3()}function i$2(xt,$,ht,vt){let At=s$4(ht);reactExports.useEffect(()=>{if(!xt)return;function St(Ct){At.current(Ct)}return document.addEventListener($,St,vt),()=>document.removeEventListener($,St,vt)},[xt,$,vt])}function s$2(xt,$,ht,vt){let At=s$4(ht);reactExports.useEffect(()=>{if(!xt)return;function St(Ct){At.current(Ct)}return window.addEventListener($,St,vt),()=>window.removeEventListener($,St,vt)},[xt,$,vt])}const d$2=30;function F$2(xt,$,ht){let vt=x(xt,"outside-click"),At=s$4(ht),St=reactExports.useCallback(function(Ft,wt){if(Ft.defaultPrevented)return;let _t=wt(Ft);if(_t===null||!_t.getRootNode().contains(_t)||!_t.isConnected)return;let Rt=function _e(bt){return typeof bt=="function"?_e(bt()):Array.isArray(bt)||bt instanceof Set?bt:[bt]}($);for(let _e of Rt){if(_e===null)continue;let bt=_e instanceof HTMLElement?_e:_e.current;if(bt!=null&&bt.contains(_t)||Ft.composed&&Ft.composedPath().includes(bt))return}return!A$1(_t,h.Loose)&&_t.tabIndex!==-1&&Ft.preventDefault(),At.current(Ft,_t)},[At]),Ct=reactExports.useRef(null);i$2(vt,"pointerdown",Ft=>{var wt,_t;Ct.current=((_t=(wt=Ft.composedPath)==null?void 0:wt.call(Ft))==null?void 0:_t[0])||Ft.target},!0),i$2(vt,"mousedown",Ft=>{var wt,_t;Ct.current=((_t=(wt=Ft.composedPath)==null?void 0:wt.call(Ft))==null?void 0:_t[0])||Ft.target},!0),i$2(vt,"click",Ft=>{n$2()||Ct.current&&(St(Ft,()=>Ct.current),Ct.current=null)},!0);let Et=reactExports.useRef({x:0,y:0});i$2(vt,"touchstart",Ft=>{Et.current.x=Ft.touches[0].clientX,Et.current.y=Ft.touches[0].clientY},!0),i$2(vt,"touchend",Ft=>{let wt={x:Ft.changedTouches[0].clientX,y:Ft.changedTouches[0].clientY};if(!(Math.abs(wt.x-Et.current.x)>=d$2||Math.abs(wt.y-Et.current.y)>=d$2))return St(Ft,()=>Ft.target instanceof HTMLElement?Ft.target:null)},!0),s$2(vt,"blur",Ft=>St(Ft,()=>window.document.activeElement instanceof HTMLIFrameElement?window.document.activeElement:null),!0)}function n$1(...xt){return reactExports.useMemo(()=>u$7(...xt),[...xt])}function i$1(xt){var $;if(xt.type)return xt.type;let ht=($=xt.as)!=null?$:"button";if(typeof ht=="string"&&ht.toLowerCase()==="button")return"button"}function T(xt,$){let[ht,vt]=reactExports.useState(()=>i$1(xt));return n$3(()=>{vt(i$1(xt))},[xt.type,xt.as]),n$3(()=>{ht||$.current&&$.current instanceof HTMLButtonElement&&!$.current.hasAttribute("type")&&vt("button")},[ht,$]),ht}function d$1(){let xt;return{before({doc:$}){var ht;let vt=$.documentElement,At=(ht=$.defaultView)!=null?ht:window;xt=Math.max(0,At.innerWidth-vt.clientWidth)},after({doc:$,d:ht}){let vt=$.documentElement,At=Math.max(0,vt.clientWidth-vt.offsetWidth),St=Math.max(0,xt-At);ht.style(vt,"paddingRight",`${St}px`)}}}function d(){return t$1()?{before({doc:xt,d:$,meta:ht}){function vt(At){return ht.containers.flatMap(St=>St()).some(St=>St.contains(At))}$.microTask(()=>{var At;if(window.getComputedStyle(xt.documentElement).scrollBehavior!=="auto"){let Et=o$4();Et.style(xt.documentElement,"scrollBehavior","auto"),$.add(()=>$.microTask(()=>Et.dispose()))}let St=(At=window.scrollY)!=null?At:window.pageYOffset,Ct=null;$.addEventListener(xt,"click",Et=>{if(Et.target instanceof HTMLElement)try{let Ft=Et.target.closest("a");if(!Ft)return;let{hash:wt}=new URL(Ft.href),_t=xt.querySelector(wt);_t&&!vt(_t)&&(Ct=_t)}catch{}},!0),$.addEventListener(xt,"touchstart",Et=>{if(Et.target instanceof HTMLElement)if(vt(Et.target)){let Ft=Et.target;for(;Ft.parentElement&&vt(Ft.parentElement);)Ft=Ft.parentElement;$.style(Ft,"overscrollBehavior","contain")}else $.style(Et.target,"touchAction","none")}),$.addEventListener(xt,"touchmove",Et=>{if(Et.target instanceof HTMLElement){if(Et.target.tagName==="INPUT")return;if(vt(Et.target)){let Ft=Et.target;for(;Ft.parentElement&&Ft.dataset.headlessuiPortal!==""&&!(Ft.scrollHeight>Ft.clientHeight||Ft.scrollWidth>Ft.clientWidth);)Ft=Ft.parentElement;Ft.dataset.headlessuiPortal===""&&Et.preventDefault()}else Et.preventDefault()}},{passive:!1}),$.add(()=>{var Et;let Ft=(Et=window.scrollY)!=null?Et:window.pageYOffset;St!==Ft&&window.scrollTo(0,St),Ct&&Ct.isConnected&&(Ct.scrollIntoView({block:"nearest"}),Ct=null)})})}}:{}}function r(){return{before({doc:xt,d:$}){$.style(xt.documentElement,"overflow","hidden")}}}function m(xt){let $={};for(let ht of xt)Object.assign($,ht($));return $}let a$3=a$4(()=>new Map,{PUSH(xt,$){var ht;let vt=(ht=this.get(xt))!=null?ht:{doc:xt,count:0,d:o$4(),meta:new Set};return vt.count++,vt.meta.add($),this.set(xt,vt),this},POP(xt,$){let ht=this.get(xt);return ht&&(ht.count--,ht.meta.delete($)),this},SCROLL_PREVENT({doc:xt,d:$,meta:ht}){let vt={doc:xt,d:$,meta:m(ht)},At=[d(),d$1(),r()];At.forEach(({before:St})=>St==null?void 0:St(vt)),At.forEach(({after:St})=>St==null?void 0:St(vt))},SCROLL_ALLOW({d:xt}){xt.dispose()},TEARDOWN({doc:xt}){this.delete(xt)}});a$3.subscribe(()=>{let xt=a$3.getSnapshot(),$=new Map;for(let[ht]of xt)$.set(ht,ht.documentElement.style.overflow);for(let ht of xt.values()){let vt=$.get(ht.doc)==="hidden",At=ht.count!==0;(At&&!vt||!At&&vt)&&a$3.dispatch(ht.count>0?"SCROLL_PREVENT":"SCROLL_ALLOW",ht),ht.count===0&&a$3.dispatch("TEARDOWN",ht)}});function a$2(xt,$,ht=()=>({containers:[]})){let vt=o$1(a$3),At=$?vt.get($):void 0,St=At?At.count>0:!1;return n$3(()=>{if(!(!$||!xt))return a$3.dispatch("PUSH",$,ht),()=>a$3.dispatch("POP",$,ht)},[xt,$]),St}function f$1(xt,$,ht=()=>[document.body]){let vt=x(xt,"scroll-lock");a$2(vt,$,At=>{var St;return{containers:[...(St=At.containers)!=null?St:[],ht]}})}function t(xt){return[xt.screenX,xt.screenY]}function u$2(){let xt=reactExports.useRef([-1,-1]);return{wasMoved($){let ht=t($);return xt.current[0]===ht[0]&&xt.current[1]===ht[1]?!1:(xt.current=ht,!0)},update($){xt.current=t($)}}}function l$1(xt){let $={called:!1};return(...ht)=>{if(!$.called)return $.called=!0,xt(...ht)}}function c$3(xt=0){let[$,ht]=reactExports.useState(xt),vt=reactExports.useCallback(Ft=>ht(Ft),[$]),At=reactExports.useCallback(Ft=>ht(wt=>wt|Ft),[$]),St=reactExports.useCallback(Ft=>($&Ft)===Ft,[$]),Ct=reactExports.useCallback(Ft=>ht(wt=>wt&~Ft),[ht]),Et=reactExports.useCallback(Ft=>ht(wt=>wt^Ft),[ht]);return{flags:$,setFlag:vt,addFlag:At,hasFlag:St,removeFlag:Ct,toggleFlag:Et}}var D$2=(xt=>(xt[xt.None=0]="None",xt[xt.Closed=1]="Closed",xt[xt.Enter=2]="Enter",xt[xt.Leave=4]="Leave",xt))(D$2||{});function A(xt){let $={};for(let ht in xt)xt[ht]===!0&&($[`data-${ht}`]="");return $}function V(xt,$,ht,vt){let[At,St]=reactExports.useState(ht),{hasFlag:Ct,addFlag:Et,removeFlag:Ft}=c$3(xt&&At?3:0),wt=reactExports.useRef(!1),_t=reactExports.useRef(!1),Rt=p$3();return n$3(function _e(){var bt;if(!xt)return;ht&&St(!0);let Pt=$.current;return Pt?((bt=void 0)==null||bt.call(vt,ht),M$1(Pt,{inFlight:wt,prepare(){_t.current?_t.current=!1:_t.current=wt.current,wt.current=!0,!_t.current&&(ht?(Et(3),Ft(4)):(Et(4),Ft(2)))},run(){_t.current?ht?(Ft(3),Et(4)):(Ft(4),Et(3)):ht?Ft(1):Et(1)},done(){var Xt;_t.current&&typeof Pt.getAnimations=="function"&&Pt.getAnimations().length>0||(wt.current=!1,Ft(7),ht||St(!1),(Xt=void 0)==null||Xt.call(vt,ht))}})):ht?(Et(3),Rt.nextFrame(()=>_e())):void 0},[xt,ht,$,Rt]),xt?[At,{closed:Ct(1),enter:Ct(2),leave:Ct(4),transition:Ct(2)||Ct(4)}]:[ht,{closed:void 0,enter:void 0,leave:void 0,transition:void 0}]}function M$1(xt,{prepare:$,run:ht,done:vt,inFlight:At}){let St=o$4();return R(xt,{prepare:$,inFlight:At}),St.nextFrame(()=>{St.add(F$1(xt,vt)),ht()}),St.dispose}function F$1(xt,$){let ht=l$1($),vt=o$4();if(!xt)return vt.dispose;let{transitionDuration:At,transitionDelay:St}=getComputedStyle(xt),[Ct,Et]=[At,St].map(wt=>{let[_t=0]=wt.split(",").filter(Boolean).map(Rt=>Rt.includes("ms")?parseFloat(Rt):parseFloat(Rt)*1e3).sort((Rt,_e)=>_e-Rt);return _t}),Ft=Ct+Et;if(Ft!==0){let wt=vt.group(_t=>{let Rt=_t.setTimeout(()=>{ht(),_t.dispose()},Ft);_t.addEventListener(xt,"transitionrun",_e=>{_e.target===_e.currentTarget&&(Rt(),_t.addEventListener(xt,"transitioncancel",bt=>{bt.target===bt.currentTarget&&(ht(),wt())}))})});vt.addEventListener(xt,"transitionend",_t=>{_t.target===_t.currentTarget&&(ht(),vt.dispose())})}else ht();return vt.dispose}function R(xt,{inFlight:$,prepare:ht}){if($!=null&&$.current){ht();return}let vt=xt.style.transition;xt.style.transition="none",ht(),xt.offsetHeight,xt.style.transition=vt}function F(xt,{container:$,accept:ht,walk:vt}){let At=reactExports.useRef(ht),St=reactExports.useRef(vt);reactExports.useEffect(()=>{At.current=ht,St.current=vt},[ht,vt]),n$3(()=>{if(!$||!xt)return;let Ct=u$7($);if(!Ct)return;let Et=At.current,Ft=St.current,wt=Object.assign(Rt=>Et(Rt),{acceptNode:Et}),_t=Ct.createTreeWalker($,NodeFilter.SHOW_ELEMENT,wt,!1);for(;_t.nextNode();)Ft(_t.currentNode)},[$,xt,At,St])}function getNodeName(xt){return isNode(xt)?(xt.nodeName||"").toLowerCase():"#document"}function getWindow(xt){var $;return(xt==null||($=xt.ownerDocument)==null?void 0:$.defaultView)||window}function getDocumentElement(xt){var $;return($=(isNode(xt)?xt.ownerDocument:xt.document)||window.document)==null?void 0:$.documentElement}function isNode(xt){return xt instanceof Node||xt instanceof getWindow(xt).Node}function isElement(xt){return xt instanceof Element||xt instanceof getWindow(xt).Element}function isHTMLElement(xt){return xt instanceof HTMLElement||xt instanceof getWindow(xt).HTMLElement}function isShadowRoot(xt){return typeof ShadowRoot>"u"?!1:xt instanceof ShadowRoot||xt instanceof getWindow(xt).ShadowRoot}function isOverflowElement(xt){const{overflow:$,overflowX:ht,overflowY:vt,display:At}=getComputedStyle$1(xt);return/auto|scroll|overlay|hidden|clip/.test($+vt+ht)&&!["inline","contents"].includes(At)}function isTableElement(xt){return["table","td","th"].includes(getNodeName(xt))}function isTopLayer(xt){return[":popover-open",":modal"].some($=>{try{return xt.matches($)}catch{return!1}})}function isContainingBlock(xt){const $=isWebKit(),ht=getComputedStyle$1(xt);return ht.transform!=="none"||ht.perspective!=="none"||(ht.containerType?ht.containerType!=="normal":!1)||!$&&(ht.backdropFilter?ht.backdropFilter!=="none":!1)||!$&&(ht.filter?ht.filter!=="none":!1)||["transform","perspective","filter"].some(vt=>(ht.willChange||"").includes(vt))||["paint","layout","strict","content"].some(vt=>(ht.contain||"").includes(vt))}function getContainingBlock(xt){let $=getParentNode(xt);for(;isHTMLElement($)&&!isLastTraversableNode($);){if(isTopLayer($))return null;if(isContainingBlock($))return $;$=getParentNode($)}return null}function isWebKit(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function isLastTraversableNode(xt){return["html","body","#document"].includes(getNodeName(xt))}function getComputedStyle$1(xt){return getWindow(xt).getComputedStyle(xt)}function getNodeScroll(xt){return isElement(xt)?{scrollLeft:xt.scrollLeft,scrollTop:xt.scrollTop}:{scrollLeft:xt.pageXOffset,scrollTop:xt.pageYOffset}}function getParentNode(xt){if(getNodeName(xt)==="html")return xt;const $=xt.assignedSlot||xt.parentNode||isShadowRoot(xt)&&xt.host||getDocumentElement(xt);return isShadowRoot($)?$.host:$}function getNearestOverflowAncestor(xt){const $=getParentNode(xt);return isLastTraversableNode($)?xt.ownerDocument?xt.ownerDocument.body:xt.body:isHTMLElement($)&&isOverflowElement($)?$:getNearestOverflowAncestor($)}function getOverflowAncestors(xt,$,ht){var vt;$===void 0&&($=[]),ht===void 0&&(ht=!0);const At=getNearestOverflowAncestor(xt),St=At===((vt=xt.ownerDocument)==null?void 0:vt.body),Ct=getWindow(At);return St?$.concat(Ct,Ct.visualViewport||[],isOverflowElement(At)?At:[],Ct.frameElement&&ht?getOverflowAncestors(Ct.frameElement):[]):$.concat(At,getOverflowAncestors(At,[],ht))}function getUserAgent(){const xt=navigator.userAgentData;return xt&&Array.isArray(xt.brands)?xt.brands.map($=>{let{brand:ht,version:vt}=$;return ht+"/"+vt}).join(" "):navigator.userAgent}const min=Math.min,max=Math.max,round=Math.round,floor=Math.floor,createCoords=xt=>({x:xt,y:xt}),oppositeSideMap={left:"right",right:"left",bottom:"top",top:"bottom"},oppositeAlignmentMap={start:"end",end:"start"};function clamp(xt,$,ht){return max(xt,min($,ht))}function evaluate(xt,$){return typeof xt=="function"?xt($):xt}function getSide(xt){return xt.split("-")[0]}function getAlignment(xt){return xt.split("-")[1]}function getOppositeAxis(xt){return xt==="x"?"y":"x"}function getAxisLength(xt){return xt==="y"?"height":"width"}function getSideAxis(xt){return["top","bottom"].includes(getSide(xt))?"y":"x"}function getAlignmentAxis(xt){return getOppositeAxis(getSideAxis(xt))}function getAlignmentSides(xt,$,ht){ht===void 0&&(ht=!1);const vt=getAlignment(xt),At=getAlignmentAxis(xt),St=getAxisLength(At);let Ct=At==="x"?vt===(ht?"end":"start")?"right":"left":vt==="start"?"bottom":"top";return $.reference[St]>$.floating[St]&&(Ct=getOppositePlacement(Ct)),[Ct,getOppositePlacement(Ct)]}function getExpandedPlacements(xt){const $=getOppositePlacement(xt);return[getOppositeAlignmentPlacement(xt),$,getOppositeAlignmentPlacement($)]}function getOppositeAlignmentPlacement(xt){return xt.replace(/start|end/g,$=>oppositeAlignmentMap[$])}function getSideList(xt,$,ht){const vt=["left","right"],At=["right","left"],St=["top","bottom"],Ct=["bottom","top"];switch(xt){case"top":case"bottom":return ht?$?At:vt:$?vt:At;case"left":case"right":return $?St:Ct;default:return[]}}function getOppositeAxisPlacements(xt,$,ht,vt){const At=getAlignment(xt);let St=getSideList(getSide(xt),ht==="start",vt);return At&&(St=St.map(Ct=>Ct+"-"+At),$&&(St=St.concat(St.map(getOppositeAlignmentPlacement)))),St}function getOppositePlacement(xt){return xt.replace(/left|right|bottom|top/g,$=>oppositeSideMap[$])}function expandPaddingObject(xt){return{top:0,right:0,bottom:0,left:0,...xt}}function getPaddingObject(xt){return typeof xt!="number"?expandPaddingObject(xt):{top:xt,right:xt,bottom:xt,left:xt}}function rectToClientRect(xt){const{x:$,y:ht,width:vt,height:At}=xt;return{width:vt,height:At,top:ht,left:$,right:$+vt,bottom:ht+At,x:$,y:ht}}function computeCoordsFromPlacement(xt,$,ht){let{reference:vt,floating:At}=xt;const St=getSideAxis($),Ct=getAlignmentAxis($),Et=getAxisLength(Ct),Ft=getSide($),wt=St==="y",_t=vt.x+vt.width/2-At.width/2,Rt=vt.y+vt.height/2-At.height/2,_e=vt[Et]/2-At[Et]/2;let bt;switch(Ft){case"top":bt={x:_t,y:vt.y-At.height};break;case"bottom":bt={x:_t,y:vt.y+vt.height};break;case"right":bt={x:vt.x+vt.width,y:Rt};break;case"left":bt={x:vt.x-At.width,y:Rt};break;default:bt={x:vt.x,y:vt.y}}switch(getAlignment($)){case"start":bt[Ct]-=_e*(ht&&wt?-1:1);break;case"end":bt[Ct]+=_e*(ht&&wt?-1:1);break}return bt}const computePosition$1=async(xt,$,ht)=>{const{placement:vt="bottom",strategy:At="absolute",middleware:St=[],platform:Ct}=ht,Et=St.filter(Boolean),Ft=await(Ct.isRTL==null?void 0:Ct.isRTL($));let wt=await Ct.getElementRects({reference:xt,floating:$,strategy:At}),{x:_t,y:Rt}=computeCoordsFromPlacement(wt,vt,Ft),_e=vt,bt={},Pt=0;for(let Xt=0;Xt<Et.length;Xt++){const{name:Kt,fn:Nt}=Et[Xt],{x:$t,y:Lt,data:jt,reset:kt}=await Nt({x:_t,y:Rt,initialPlacement:vt,placement:_e,strategy:At,middlewareData:bt,rects:wt,platform:Ct,elements:{reference:xt,floating:$}});_t=$t??_t,Rt=Lt??Rt,bt={...bt,[Kt]:{...bt[Kt],...jt}},kt&&Pt<=50&&(Pt++,typeof kt=="object"&&(kt.placement&&(_e=kt.placement),kt.rects&&(wt=kt.rects===!0?await Ct.getElementRects({reference:xt,floating:$,strategy:At}):kt.rects),{x:_t,y:Rt}=computeCoordsFromPlacement(wt,_e,Ft)),Xt=-1)}return{x:_t,y:Rt,placement:_e,strategy:At,middlewareData:bt}};async function detectOverflow$1(xt,$){var ht;$===void 0&&($={});const{x:vt,y:At,platform:St,rects:Ct,elements:Et,strategy:Ft}=xt,{boundary:wt="clippingAncestors",rootBoundary:_t="viewport",elementContext:Rt="floating",altBoundary:_e=!1,padding:bt=0}=evaluate($,xt),Pt=getPaddingObject(bt),Kt=Et[_e?Rt==="floating"?"reference":"floating":Rt],Nt=rectToClientRect(await St.getClippingRect({element:(ht=await(St.isElement==null?void 0:St.isElement(Kt)))==null||ht?Kt:Kt.contextElement||await(St.getDocumentElement==null?void 0:St.getDocumentElement(Et.floating)),boundary:wt,rootBoundary:_t,strategy:Ft})),$t=Rt==="floating"?{x:vt,y:At,width:Ct.floating.width,height:Ct.floating.height}:Ct.reference,Lt=await(St.getOffsetParent==null?void 0:St.getOffsetParent(Et.floating)),jt=await(St.isElement==null?void 0:St.isElement(Lt))?await(St.getScale==null?void 0:St.getScale(Lt))||{x:1,y:1}:{x:1,y:1},kt=rectToClientRect(St.convertOffsetParentRelativeRectToViewportRelativeRect?await St.convertOffsetParentRelativeRectToViewportRelativeRect({elements:Et,rect:$t,offsetParent:Lt,strategy:Ft}):$t);return{top:(Nt.top-kt.top+Pt.top)/jt.y,bottom:(kt.bottom-Nt.bottom+Pt.bottom)/jt.y,left:(Nt.left-kt.left+Pt.left)/jt.x,right:(kt.right-Nt.right+Pt.right)/jt.x}}const flip$2=function(xt){return xt===void 0&&(xt={}),{name:"flip",options:xt,async fn($){var ht,vt;const{placement:At,middlewareData:St,rects:Ct,initialPlacement:Et,platform:Ft,elements:wt}=$,{mainAxis:_t=!0,crossAxis:Rt=!0,fallbackPlacements:_e,fallbackStrategy:bt="bestFit",fallbackAxisSideDirection:Pt="none",flipAlignment:Xt=!0,...Kt}=evaluate(xt,$);if((ht=St.arrow)!=null&&ht.alignmentOffset)return{};const Nt=getSide(At),$t=getSideAxis(Et),Lt=getSide(Et)===Et,jt=await(Ft.isRTL==null?void 0:Ft.isRTL(wt.floating)),kt=_e||(Lt||!Xt?[getOppositePlacement(Et)]:getExpandedPlacements(Et)),qt=Pt!=="none";!_e&&qt&&kt.push(...getOppositeAxisPlacements(Et,Xt,Pt,jt));const Bt=[Et,...kt],Gt=await detectOverflow$1($,Kt),en=[];let dn=((vt=St.flip)==null?void 0:vt.overflows)||[];if(_t&&en.push(Gt[Nt]),Rt){const bn=getAlignmentSides(At,Ct,jt);en.push(Gt[bn[0]],Gt[bn[1]])}if(dn=[...dn,{placement:At,overflows:en}],!en.every(bn=>bn<=0)){var Qt,gn;const bn=(((Qt=St.flip)==null?void 0:Qt.index)||0)+1,Wt=Bt[bn];if(Wt)return{data:{index:bn,overflows:dn},reset:{placement:Wt}};let Yt=(gn=dn.filter(un=>un.overflows[0]<=0).sort((un,Ut)=>un.overflows[1]-Ut.overflows[1])[0])==null?void 0:gn.placement;if(!Yt)switch(bt){case"bestFit":{var tn;const un=(tn=dn.filter(Ut=>{if(qt){const Ot=getSideAxis(Ut.placement);return Ot===$t||Ot==="y"}return!0}).map(Ut=>[Ut.placement,Ut.overflows.filter(Ot=>Ot>0).reduce((Ot,Ht)=>Ot+Ht,0)]).sort((Ut,Ot)=>Ut[1]-Ot[1])[0])==null?void 0:tn[0];un&&(Yt=un);break}case"initialPlacement":Yt=Et;break}if(At!==Yt)return{reset:{placement:Yt}}}return{}}}};async function convertValueToCoords(xt,$){const{placement:ht,platform:vt,elements:At}=xt,St=await(vt.isRTL==null?void 0:vt.isRTL(At.floating)),Ct=getSide(ht),Et=getAlignment(ht),Ft=getSideAxis(ht)==="y",wt=["left","top"].includes(Ct)?-1:1,_t=St&&Ft?-1:1,Rt=evaluate($,xt);let{mainAxis:_e,crossAxis:bt,alignmentAxis:Pt}=typeof Rt=="number"?{mainAxis:Rt,crossAxis:0,alignmentAxis:null}:{mainAxis:0,crossAxis:0,alignmentAxis:null,...Rt};return Et&&typeof Pt=="number"&&(bt=Et==="end"?Pt*-1:Pt),Ft?{x:bt*_t,y:_e*wt}:{x:_e*wt,y:bt*_t}}const offset$2=function(xt){return xt===void 0&&(xt=0),{name:"offset",options:xt,async fn($){var ht,vt;const{x:At,y:St,placement:Ct,middlewareData:Et}=$,Ft=await convertValueToCoords($,xt);return Ct===((ht=Et.offset)==null?void 0:ht.placement)&&(vt=Et.arrow)!=null&&vt.alignmentOffset?{}:{x:At+Ft.x,y:St+Ft.y,data:{...Ft,placement:Ct}}}}},shift$2=function(xt){return xt===void 0&&(xt={}),{name:"shift",options:xt,async fn($){const{x:ht,y:vt,placement:At}=$,{mainAxis:St=!0,crossAxis:Ct=!1,limiter:Et={fn:Kt=>{let{x:Nt,y:$t}=Kt;return{x:Nt,y:$t}}},...Ft}=evaluate(xt,$),wt={x:ht,y:vt},_t=await detectOverflow$1($,Ft),Rt=getSideAxis(getSide(At)),_e=getOppositeAxis(Rt);let bt=wt[_e],Pt=wt[Rt];if(St){const Kt=_e==="y"?"top":"left",Nt=_e==="y"?"bottom":"right",$t=bt+_t[Kt],Lt=bt-_t[Nt];bt=clamp($t,bt,Lt)}if(Ct){const Kt=Rt==="y"?"top":"left",Nt=Rt==="y"?"bottom":"right",$t=Pt+_t[Kt],Lt=Pt-_t[Nt];Pt=clamp($t,Pt,Lt)}const Xt=Et.fn({...$,[_e]:bt,[Rt]:Pt});return{...Xt,data:{x:Xt.x-ht,y:Xt.y-vt}}}}},size$2=function(xt){return xt===void 0&&(xt={}),{name:"size",options:xt,async fn($){const{placement:ht,rects:vt,platform:At,elements:St}=$,{apply:Ct=()=>{},...Et}=evaluate(xt,$),Ft=await detectOverflow$1($,Et),wt=getSide(ht),_t=getAlignment(ht),Rt=getSideAxis(ht)==="y",{width:_e,height:bt}=vt.floating;let Pt,Xt;wt==="top"||wt==="bottom"?(Pt=wt,Xt=_t===(await(At.isRTL==null?void 0:At.isRTL(St.floating))?"start":"end")?"left":"right"):(Xt=wt,Pt=_t==="end"?"top":"bottom");const Kt=bt-Ft.top-Ft.bottom,Nt=_e-Ft.left-Ft.right,$t=min(bt-Ft[Pt],Kt),Lt=min(_e-Ft[Xt],Nt),jt=!$.middlewareData.shift;let kt=$t,qt=Lt;if(Rt?qt=_t||jt?min(Lt,Nt):Nt:kt=_t||jt?min($t,Kt):Kt,jt&&!_t){const Gt=max(Ft.left,0),en=max(Ft.right,0),dn=max(Ft.top,0),Qt=max(Ft.bottom,0);Rt?qt=_e-2*(Gt!==0||en!==0?Gt+en:max(Ft.left,Ft.right)):kt=bt-2*(dn!==0||Qt!==0?dn+Qt:max(Ft.top,Ft.bottom))}await Ct({...$,availableWidth:qt,availableHeight:kt});const Bt=await At.getDimensions(St.floating);return _e!==Bt.width||bt!==Bt.height?{reset:{rects:!0}}:{}}}};function getCssDimensions(xt){const $=getComputedStyle$1(xt);let ht=parseFloat($.width)||0,vt=parseFloat($.height)||0;const At=isHTMLElement(xt),St=At?xt.offsetWidth:ht,Ct=At?xt.offsetHeight:vt,Et=round(ht)!==St||round(vt)!==Ct;return Et&&(ht=St,vt=Ct),{width:ht,height:vt,$:Et}}function unwrapElement(xt){return isElement(xt)?xt:xt.contextElement}function getScale(xt){const $=unwrapElement(xt);if(!isHTMLElement($))return createCoords(1);const ht=$.getBoundingClientRect(),{width:vt,height:At,$:St}=getCssDimensions($);let Ct=(St?round(ht.width):ht.width)/vt,Et=(St?round(ht.height):ht.height)/At;return(!Ct||!Number.isFinite(Ct))&&(Ct=1),(!Et||!Number.isFinite(Et))&&(Et=1),{x:Ct,y:Et}}const noOffsets=createCoords(0);function getVisualOffsets(xt){const $=getWindow(xt);return!isWebKit()||!$.visualViewport?noOffsets:{x:$.visualViewport.offsetLeft,y:$.visualViewport.offsetTop}}function shouldAddVisualOffsets(xt,$,ht){return $===void 0&&($=!1),!ht||$&&ht!==getWindow(xt)?!1:$}function getBoundingClientRect(xt,$,ht,vt){$===void 0&&($=!1),ht===void 0&&(ht=!1);const At=xt.getBoundingClientRect(),St=unwrapElement(xt);let Ct=createCoords(1);$&&(vt?isElement(vt)&&(Ct=getScale(vt)):Ct=getScale(xt));const Et=shouldAddVisualOffsets(St,ht,vt)?getVisualOffsets(St):createCoords(0);let Ft=(At.left+Et.x)/Ct.x,wt=(At.top+Et.y)/Ct.y,_t=At.width/Ct.x,Rt=At.height/Ct.y;if(St){const _e=getWindow(St),bt=vt&&isElement(vt)?getWindow(vt):vt;let Pt=_e,Xt=Pt.frameElement;for(;Xt&&vt&&bt!==Pt;){const Kt=getScale(Xt),Nt=Xt.getBoundingClientRect(),$t=getComputedStyle$1(Xt),Lt=Nt.left+(Xt.clientLeft+parseFloat($t.paddingLeft))*Kt.x,jt=Nt.top+(Xt.clientTop+parseFloat($t.paddingTop))*Kt.y;Ft*=Kt.x,wt*=Kt.y,_t*=Kt.x,Rt*=Kt.y,Ft+=Lt,wt+=jt,Pt=getWindow(Xt),Xt=Pt.frameElement}}return rectToClientRect({width:_t,height:Rt,x:Ft,y:wt})}function convertOffsetParentRelativeRectToViewportRelativeRect(xt){let{elements:$,rect:ht,offsetParent:vt,strategy:At}=xt;const St=At==="fixed",Ct=getDocumentElement(vt),Et=$?isTopLayer($.floating):!1;if(vt===Ct||Et&&St)return ht;let Ft={scrollLeft:0,scrollTop:0},wt=createCoords(1);const _t=createCoords(0),Rt=isHTMLElement(vt);if((Rt||!Rt&&!St)&&((getNodeName(vt)!=="body"||isOverflowElement(Ct))&&(Ft=getNodeScroll(vt)),isHTMLElement(vt))){const _e=getBoundingClientRect(vt);wt=getScale(vt),_t.x=_e.x+vt.clientLeft,_t.y=_e.y+vt.clientTop}return{width:ht.width*wt.x,height:ht.height*wt.y,x:ht.x*wt.x-Ft.scrollLeft*wt.x+_t.x,y:ht.y*wt.y-Ft.scrollTop*wt.y+_t.y}}function getClientRects(xt){return Array.from(xt.getClientRects())}function getWindowScrollBarX(xt){return getBoundingClientRect(getDocumentElement(xt)).left+getNodeScroll(xt).scrollLeft}function getDocumentRect(xt){const $=getDocumentElement(xt),ht=getNodeScroll(xt),vt=xt.ownerDocument.body,At=max($.scrollWidth,$.clientWidth,vt.scrollWidth,vt.clientWidth),St=max($.scrollHeight,$.clientHeight,vt.scrollHeight,vt.clientHeight);let Ct=-ht.scrollLeft+getWindowScrollBarX(xt);const Et=-ht.scrollTop;return getComputedStyle$1(vt).direction==="rtl"&&(Ct+=max($.clientWidth,vt.clientWidth)-At),{width:At,height:St,x:Ct,y:Et}}function getViewportRect(xt,$){const ht=getWindow(xt),vt=getDocumentElement(xt),At=ht.visualViewport;let St=vt.clientWidth,Ct=vt.clientHeight,Et=0,Ft=0;if(At){St=At.width,Ct=At.height;const wt=isWebKit();(!wt||wt&&$==="fixed")&&(Et=At.offsetLeft,Ft=At.offsetTop)}return{width:St,height:Ct,x:Et,y:Ft}}function getInnerBoundingClientRect(xt,$){const ht=getBoundingClientRect(xt,!0,$==="fixed"),vt=ht.top+xt.clientTop,At=ht.left+xt.clientLeft,St=isHTMLElement(xt)?getScale(xt):createCoords(1),Ct=xt.clientWidth*St.x,Et=xt.clientHeight*St.y,Ft=At*St.x,wt=vt*St.y;return{width:Ct,height:Et,x:Ft,y:wt}}function getClientRectFromClippingAncestor(xt,$,ht){let vt;if($==="viewport")vt=getViewportRect(xt,ht);else if($==="document")vt=getDocumentRect(getDocumentElement(xt));else if(isElement($))vt=getInnerBoundingClientRect($,ht);else{const At=getVisualOffsets(xt);vt={...$,x:$.x-At.x,y:$.y-At.y}}return rectToClientRect(vt)}function hasFixedPositionAncestor(xt,$){const ht=getParentNode(xt);return ht===$||!isElement(ht)||isLastTraversableNode(ht)?!1:getComputedStyle$1(ht).position==="fixed"||hasFixedPositionAncestor(ht,$)}function getClippingElementAncestors(xt,$){const ht=$.get(xt);if(ht)return ht;let vt=getOverflowAncestors(xt,[],!1).filter(Et=>isElement(Et)&&getNodeName(Et)!=="body"),At=null;const St=getComputedStyle$1(xt).position==="fixed";let Ct=St?getParentNode(xt):xt;for(;isElement(Ct)&&!isLastTraversableNode(Ct);){const Et=getComputedStyle$1(Ct),Ft=isContainingBlock(Ct);!Ft&&Et.position==="fixed"&&(At=null),(St?!Ft&&!At:!Ft&&Et.position==="static"&&!!At&&["absolute","fixed"].includes(At.position)||isOverflowElement(Ct)&&!Ft&&hasFixedPositionAncestor(xt,Ct))?vt=vt.filter(_t=>_t!==Ct):At=Et,Ct=getParentNode(Ct)}return $.set(xt,vt),vt}function getClippingRect(xt){let{element:$,boundary:ht,rootBoundary:vt,strategy:At}=xt;const Ct=[...ht==="clippingAncestors"?isTopLayer($)?[]:getClippingElementAncestors($,this._c):[].concat(ht),vt],Et=Ct[0],Ft=Ct.reduce((wt,_t)=>{const Rt=getClientRectFromClippingAncestor($,_t,At);return wt.top=max(Rt.top,wt.top),wt.right=min(Rt.right,wt.right),wt.bottom=min(Rt.bottom,wt.bottom),wt.left=max(Rt.left,wt.left),wt},getClientRectFromClippingAncestor($,Et,At));return{width:Ft.right-Ft.left,height:Ft.bottom-Ft.top,x:Ft.left,y:Ft.top}}function getDimensions(xt){const{width:$,height:ht}=getCssDimensions(xt);return{width:$,height:ht}}function getRectRelativeToOffsetParent(xt,$,ht){const vt=isHTMLElement($),At=getDocumentElement($),St=ht==="fixed",Ct=getBoundingClientRect(xt,!0,St,$);let Et={scrollLeft:0,scrollTop:0};const Ft=createCoords(0);if(vt||!vt&&!St)if((getNodeName($)!=="body"||isOverflowElement(At))&&(Et=getNodeScroll($)),vt){const Rt=getBoundingClientRect($,!0,St,$);Ft.x=Rt.x+$.clientLeft,Ft.y=Rt.y+$.clientTop}else At&&(Ft.x=getWindowScrollBarX(At));const wt=Ct.left+Et.scrollLeft-Ft.x,_t=Ct.top+Et.scrollTop-Ft.y;return{x:wt,y:_t,width:Ct.width,height:Ct.height}}function isStaticPositioned(xt){return getComputedStyle$1(xt).position==="static"}function getTrueOffsetParent(xt,$){return!isHTMLElement(xt)||getComputedStyle$1(xt).position==="fixed"?null:$?$(xt):xt.offsetParent}function getOffsetParent(xt,$){const ht=getWindow(xt);if(isTopLayer(xt))return ht;if(!isHTMLElement(xt)){let At=getParentNode(xt);for(;At&&!isLastTraversableNode(At);){if(isElement(At)&&!isStaticPositioned(At))return At;At=getParentNode(At)}return ht}let vt=getTrueOffsetParent(xt,$);for(;vt&&isTableElement(vt)&&isStaticPositioned(vt);)vt=getTrueOffsetParent(vt,$);return vt&&isLastTraversableNode(vt)&&isStaticPositioned(vt)&&!isContainingBlock(vt)?ht:vt||getContainingBlock(xt)||ht}const getElementRects=async function(xt){const $=this.getOffsetParent||getOffsetParent,ht=this.getDimensions,vt=await ht(xt.floating);return{reference:getRectRelativeToOffsetParent(xt.reference,await $(xt.floating),xt.strategy),floating:{x:0,y:0,width:vt.width,height:vt.height}}};function isRTL(xt){return getComputedStyle$1(xt).direction==="rtl"}const platform$2={convertOffsetParentRelativeRectToViewportRelativeRect,getDocumentElement,getClippingRect,getOffsetParent,getElementRects,getClientRects,getDimensions,getScale,isElement,isRTL};function observeMove(xt,$){let ht=null,vt;const At=getDocumentElement(xt);function St(){var Et;clearTimeout(vt),(Et=ht)==null||Et.disconnect(),ht=null}function Ct(Et,Ft){Et===void 0&&(Et=!1),Ft===void 0&&(Ft=1),St();const{left:wt,top:_t,width:Rt,height:_e}=xt.getBoundingClientRect();if(Et||$(),!Rt||!_e)return;const bt=floor(_t),Pt=floor(At.clientWidth-(wt+Rt)),Xt=floor(At.clientHeight-(_t+_e)),Kt=floor(wt),$t={rootMargin:-bt+"px "+-Pt+"px "+-Xt+"px "+-Kt+"px",threshold:max(0,min(1,Ft))||1};let Lt=!0;function jt(kt){const qt=kt[0].intersectionRatio;if(qt!==Ft){if(!Lt)return Ct();qt?Ct(!1,qt):vt=setTimeout(()=>{Ct(!1,1e-7)},1e3)}Lt=!1}try{ht=new IntersectionObserver(jt,{...$t,root:At.ownerDocument})}catch{ht=new IntersectionObserver(jt,$t)}ht.observe(xt)}return Ct(!0),St}function autoUpdate(xt,$,ht,vt){vt===void 0&&(vt={});const{ancestorScroll:At=!0,ancestorResize:St=!0,elementResize:Ct=typeof ResizeObserver=="function",layoutShift:Et=typeof IntersectionObserver=="function",animationFrame:Ft=!1}=vt,wt=unwrapElement(xt),_t=At||St?[...wt?getOverflowAncestors(wt):[],...getOverflowAncestors($)]:[];_t.forEach(Nt=>{At&&Nt.addEventListener("scroll",ht,{passive:!0}),St&&Nt.addEventListener("resize",ht)});const Rt=wt&&Et?observeMove(wt,ht):null;let _e=-1,bt=null;Ct&&(bt=new ResizeObserver(Nt=>{let[$t]=Nt;$t&&$t.target===wt&&bt&&(bt.unobserve($),cancelAnimationFrame(_e),_e=requestAnimationFrame(()=>{var Lt;(Lt=bt)==null||Lt.observe($)})),ht()}),wt&&!Ft&&bt.observe(wt),bt.observe($));let Pt,Xt=Ft?getBoundingClientRect(xt):null;Ft&&Kt();function Kt(){const Nt=getBoundingClientRect(xt);Xt&&(Nt.x!==Xt.x||Nt.y!==Xt.y||Nt.width!==Xt.width||Nt.height!==Xt.height)&&ht(),Xt=Nt,Pt=requestAnimationFrame(Kt)}return ht(),()=>{var Nt;_t.forEach($t=>{At&&$t.removeEventListener("scroll",ht),St&&$t.removeEventListener("resize",ht)}),Rt==null||Rt(),(Nt=bt)==null||Nt.disconnect(),bt=null,Ft&&cancelAnimationFrame(Pt)}}const detectOverflow=detectOverflow$1,offset$1=offset$2,shift$1=shift$2,flip$1=flip$2,size$1=size$2,computePosition=(xt,$,ht)=>{const vt=new Map,At={platform:platform$2,...ht},St={...At.platform,_c:vt};return computePosition$1(xt,$,{...At,platform:St})};var index$1=typeof document<"u"?reactExports.useLayoutEffect:reactExports.useEffect;function deepEqual(xt,$){if(xt===$)return!0;if(typeof xt!=typeof $)return!1;if(typeof xt=="function"&&xt.toString()===$.toString())return!0;let ht,vt,At;if(xt&&$&&typeof xt=="object"){if(Array.isArray(xt)){if(ht=xt.length,ht!==$.length)return!1;for(vt=ht;vt--!==0;)if(!deepEqual(xt[vt],$[vt]))return!1;return!0}if(At=Object.keys(xt),ht=At.length,ht!==Object.keys($).length)return!1;for(vt=ht;vt--!==0;)if(!{}.hasOwnProperty.call($,At[vt]))return!1;for(vt=ht;vt--!==0;){const St=At[vt];if(!(St==="_owner"&&xt.$$typeof)&&!deepEqual(xt[St],$[St]))return!1}return!0}return xt!==xt&&$!==$}function getDPR(xt){return typeof window>"u"?1:(xt.ownerDocument.defaultView||window).devicePixelRatio||1}function roundByDPR(xt,$){const ht=getDPR(xt);return Math.round($*ht)/ht}function useLatestRef(xt){const $=reactExports.useRef(xt);return index$1(()=>{$.current=xt}),$}function useFloating$1(xt){xt===void 0&&(xt={});const{placement:$="bottom",strategy:ht="absolute",middleware:vt=[],platform:At,elements:{reference:St,floating:Ct}={},transform:Et=!0,whileElementsMounted:Ft,open:wt}=xt,[_t,Rt]=reactExports.useState({x:0,y:0,strategy:ht,placement:$,middlewareData:{},isPositioned:!1}),[_e,bt]=reactExports.useState(vt);deepEqual(_e,vt)||bt(vt);const[Pt,Xt]=reactExports.useState(null),[Kt,Nt]=reactExports.useState(null),$t=reactExports.useCallback(un=>{un!==qt.current&&(qt.current=un,Xt(un))},[]),Lt=reactExports.useCallback(un=>{un!==Bt.current&&(Bt.current=un,Nt(un))},[]),jt=St||Pt,kt=Ct||Kt,qt=reactExports.useRef(null),Bt=reactExports.useRef(null),Gt=reactExports.useRef(_t),en=Ft!=null,dn=useLatestRef(Ft),Qt=useLatestRef(At),gn=reactExports.useCallback(()=>{if(!qt.current||!Bt.current)return;const un={placement:$,strategy:ht,middleware:_e};Qt.current&&(un.platform=Qt.current),computePosition(qt.current,Bt.current,un).then(Ut=>{const Ot={...Ut,isPositioned:!0};tn.current&&!deepEqual(Gt.current,Ot)&&(Gt.current=Ot,reactDomExports.flushSync(()=>{Rt(Ot)}))})},[_e,$,ht,Qt]);index$1(()=>{wt===!1&&Gt.current.isPositioned&&(Gt.current.isPositioned=!1,Rt(un=>({...un,isPositioned:!1})))},[wt]);const tn=reactExports.useRef(!1);index$1(()=>(tn.current=!0,()=>{tn.current=!1}),[]),index$1(()=>{if(jt&&(qt.current=jt),kt&&(Bt.current=kt),jt&&kt){if(dn.current)return dn.current(jt,kt,gn);gn()}},[jt,kt,gn,dn,en]);const bn=reactExports.useMemo(()=>({reference:qt,floating:Bt,setReference:$t,setFloating:Lt}),[$t,Lt]),Wt=reactExports.useMemo(()=>({reference:jt,floating:kt}),[jt,kt]),Yt=reactExports.useMemo(()=>{const un={position:ht,left:0,top:0};if(!Wt.floating)return un;const Ut=roundByDPR(Wt.floating,_t.x),Ot=roundByDPR(Wt.floating,_t.y);return Et?{...un,transform:"translate("+Ut+"px, "+Ot+"px)",...getDPR(Wt.floating)>=1.5&&{willChange:"transform"}}:{position:ht,left:Ut,top:Ot}},[ht,Et,Wt.floating,_t.x,_t.y]);return reactExports.useMemo(()=>({..._t,update:gn,refs:bn,elements:Wt,floatingStyles:Yt}),[_t,gn,bn,Wt,Yt])}const offset=(xt,$)=>({...offset$1(xt),options:[xt,$]}),shift=(xt,$)=>({...shift$1(xt),options:[xt,$]}),flip=(xt,$)=>({...flip$1(xt),options:[xt,$]}),size=(xt,$)=>({...size$1(xt),options:[xt,$]}),SafeReact={...t$4},useInsertionEffect=SafeReact.useInsertionEffect,useSafeInsertionEffect=useInsertionEffect||(xt=>xt());function useEffectEvent(xt){const $=reactExports.useRef(()=>{});return useSafeInsertionEffect(()=>{$.current=xt}),reactExports.useCallback(function(){for(var ht=arguments.length,vt=new Array(ht),At=0;At<ht;At++)vt[At]=arguments[At];return $.current==null?void 0:$.current(...vt)},[])}var index=typeof document<"u"?reactExports.useLayoutEffect:reactExports.useEffect;let serverHandoffComplete=!1,count=0;const genId=()=>"floating-ui-"+Math.random().toString(36).slice(2,6)+count++;function useFloatingId(){const[xt,$]=reactExports.useState(()=>serverHandoffComplete?genId():void 0);return index(()=>{xt==null&&$(genId())},[]),reactExports.useEffect(()=>{serverHandoffComplete=!0},[]),xt}const useReactId=SafeReact.useId,useId=useReactId||useFloatingId;function createPubSub(){const xt=new Map;return{emit($,ht){var vt;(vt=xt.get($))==null||vt.forEach(At=>At(ht))},on($,ht){xt.set($,[...xt.get($)||[],ht])},off($,ht){var vt;xt.set($,((vt=xt.get($))==null?void 0:vt.filter(At=>At!==ht))||[])}}}const FloatingNodeContext=reactExports.createContext(null),FloatingTreeContext=reactExports.createContext(null),useFloatingParentNodeId=()=>{var xt;return((xt=reactExports.useContext(FloatingNodeContext))==null?void 0:xt.id)||null},useFloatingTree=()=>reactExports.useContext(FloatingTreeContext);function useFloatingRootContext(xt){const{open:$=!1,onOpenChange:ht,elements:vt}=xt,At=useId(),St=reactExports.useRef({}),[Ct]=reactExports.useState(()=>createPubSub()),Et=useFloatingParentNodeId()!=null,[Ft,wt]=reactExports.useState(vt.reference),_t=useEffectEvent((bt,Pt,Xt)=>{St.current.openEvent=bt?Pt:void 0,Ct.emit("openchange",{open:bt,event:Pt,reason:Xt,nested:Et}),ht==null||ht(bt,Pt,Xt)}),Rt=reactExports.useMemo(()=>({setPositionReference:wt}),[]),_e=reactExports.useMemo(()=>({reference:Ft||vt.reference||null,floating:vt.floating||null,domReference:vt.reference}),[Ft,vt.reference,vt.floating]);return reactExports.useMemo(()=>({dataRef:St,open:$,onOpenChange:_t,elements:_e,events:Ct,floatingId:At,refs:Rt}),[$,_t,_e,Ct,At,Rt])}function useFloating(xt){xt===void 0&&(xt={});const{nodeId:$}=xt,ht=useFloatingRootContext({...xt,elements:{reference:null,floating:null,...xt.elements}}),vt=xt.rootContext||ht,At=vt.elements,[St,Ct]=reactExports.useState(null),[Et,Ft]=reactExports.useState(null),_t=(At==null?void 0:At.reference)||St,Rt=reactExports.useRef(null),_e=useFloatingTree();index(()=>{_t&&(Rt.current=_t)},[_t]);const bt=useFloating$1({...xt,elements:{...At,...Et&&{reference:Et}}}),Pt=reactExports.useCallback(Lt=>{const jt=isElement(Lt)?{getBoundingClientRect:()=>Lt.getBoundingClientRect(),contextElement:Lt}:Lt;Ft(jt),bt.refs.setReference(jt)},[bt.refs]),Xt=reactExports.useCallback(Lt=>{(isElement(Lt)||Lt===null)&&(Rt.current=Lt,Ct(Lt)),(isElement(bt.refs.reference.current)||bt.refs.reference.current===null||Lt!==null&&!isElement(Lt))&&bt.refs.setReference(Lt)},[bt.refs]),Kt=reactExports.useMemo(()=>({...bt.refs,setReference:Xt,setPositionReference:Pt,domReference:Rt}),[bt.refs,Xt,Pt]),Nt=reactExports.useMemo(()=>({...bt.elements,domReference:_t}),[bt.elements,_t]),$t=reactExports.useMemo(()=>({...bt,...vt,refs:Kt,elements:Nt,nodeId:$}),[bt,Kt,Nt,$,vt]);return index(()=>{vt.dataRef.current.floatingContext=$t;const Lt=_e==null?void 0:_e.nodesRef.current.find(jt=>jt.id===$);Lt&&(Lt.context=$t)}),reactExports.useMemo(()=>({...bt,context:$t,refs:Kt,elements:Nt}),[bt,Kt,Nt,$t])}const ACTIVE_KEY="active",SELECTED_KEY="selected";function mergeProps(xt,$,ht){const vt=new Map,At=ht==="item";let St=xt;if(At&&xt){const{[ACTIVE_KEY]:Ct,[SELECTED_KEY]:Et,...Ft}=xt;St=Ft}return{...ht==="floating"&&{tabIndex:-1},...St,...$.map(Ct=>{const Et=Ct?Ct[ht]:null;return typeof Et=="function"?xt?Et(xt):null:Et}).concat(xt).reduce((Ct,Et)=>(Et&&Object.entries(Et).forEach(Ft=>{let[wt,_t]=Ft;if(!(At&&[ACTIVE_KEY,SELECTED_KEY].includes(wt)))if(wt.indexOf("on")===0){if(vt.has(wt)||vt.set(wt,[]),typeof _t=="function"){var Rt;(Rt=vt.get(wt))==null||Rt.push(_t),Ct[wt]=function(){for(var _e,bt=arguments.length,Pt=new Array(bt),Xt=0;Xt<bt;Xt++)Pt[Xt]=arguments[Xt];return(_e=vt.get(wt))==null?void 0:_e.map(Kt=>Kt(...Pt)).find(Kt=>Kt!==void 0)}}}else Ct[wt]=_t}),Ct),{})}}function useInteractions(xt){xt===void 0&&(xt=[]);const $=xt.map(Et=>Et==null?void 0:Et.reference),ht=xt.map(Et=>Et==null?void 0:Et.floating),vt=xt.map(Et=>Et==null?void 0:Et.item),At=reactExports.useCallback(Et=>mergeProps(Et,xt,"reference"),$),St=reactExports.useCallback(Et=>mergeProps(Et,xt,"floating"),ht),Ct=reactExports.useCallback(Et=>mergeProps(Et,xt,"item"),vt);return reactExports.useMemo(()=>({getReferenceProps:At,getFloatingProps:St,getItemProps:Ct}),[At,St,Ct])}function getArgsWithCustomFloatingHeight(xt,$){return{...xt,rects:{...xt.rects,floating:{...xt.rects.floating,height:$}}}}const inner=xt=>({name:"inner",options:xt,async fn($){const{listRef:ht,overflowRef:vt,onFallbackChange:At,offset:St=0,index:Ct=0,minItemsVisible:Et=4,referenceOverflowThreshold:Ft=0,scrollRef:wt,..._t}=evaluate(xt,$),{rects:Rt,elements:{floating:_e}}=$,bt=ht.current[Ct];if(!bt)return{};const Pt={...$,...await offset(-bt.offsetTop-_e.clientTop-Rt.reference.height/2-bt.offsetHeight/2-St).fn($)},Xt=(wt==null?void 0:wt.current)||_e,Kt=await detectOverflow(getArgsWithCustomFloatingHeight(Pt,Xt.scrollHeight),_t),Nt=await detectOverflow(Pt,{..._t,elementContext:"reference"}),$t=Math.max(0,Kt.top),Lt=Pt.y+$t,jt=Math.max(0,Xt.scrollHeight-$t-Math.max(0,Kt.bottom));return Xt.style.maxHeight=jt+"px",Xt.scrollTop=$t,At&&(Xt.offsetHeight<bt.offsetHeight*Math.min(Et,ht.current.length-1)-1||Nt.top>=-Ft||Nt.bottom>=-Ft?reactDomExports.flushSync(()=>At(!0)):reactDomExports.flushSync(()=>At(!1))),vt&&(vt.current=await detectOverflow(getArgsWithCustomFloatingHeight({...Pt,y:Lt},Xt.offsetHeight),_t)),{y:Lt}}});function useInnerOffset(xt,$){const{open:ht,elements:vt}=xt,{enabled:At=!0,overflowRef:St,scrollRef:Ct,onChange:Et}=$,Ft=useEffectEvent(Et),wt=reactExports.useRef(!1),_t=reactExports.useRef(null),Rt=reactExports.useRef(null);reactExports.useEffect(()=>{if(!At)return;function bt(Xt){if(Xt.ctrlKey||!Pt||St.current==null)return;const Kt=Xt.deltaY,Nt=St.current.top>=-.5,$t=St.current.bottom>=-.5,Lt=Pt.scrollHeight-Pt.clientHeight,jt=Kt<0?-1:1,kt=Kt<0?"max":"min";Pt.scrollHeight<=Pt.clientHeight||(!Nt&&Kt>0||!$t&&Kt<0?(Xt.preventDefault(),reactDomExports.flushSync(()=>{Ft(qt=>qt+Math[kt](Kt,Lt*jt))})):/firefox/i.test(getUserAgent())&&(Pt.scrollTop+=Kt))}const Pt=(Ct==null?void 0:Ct.current)||vt.floating;if(ht&&Pt)return Pt.addEventListener("wheel",bt),requestAnimationFrame(()=>{_t.current=Pt.scrollTop,St.current!=null&&(Rt.current={...St.current})}),()=>{_t.current=null,Rt.current=null,Pt.removeEventListener("wheel",bt)}},[At,ht,vt.floating,St,Ct,Ft]);const _e=reactExports.useMemo(()=>({onKeyDown(){wt.current=!0},onWheel(){wt.current=!1},onPointerMove(){wt.current=!1},onScroll(){const bt=(Ct==null?void 0:Ct.current)||vt.floating;if(!(!St.current||!bt||!wt.current)){if(_t.current!==null){const Pt=bt.scrollTop-_t.current;(St.current.bottom<-.5&&Pt<-1||St.current.top<-.5&&Pt>1)&&reactDomExports.flushSync(()=>Ft(Xt=>Xt+Pt))}requestAnimationFrame(()=>{_t.current=bt.scrollTop})}}}),[vt.floating,Ft,St,Ct]);return reactExports.useMemo(()=>At?{floating:_e}:{},[At,_e])}let y$1=reactExports.createContext({styles:void 0,setReference:()=>{},setFloating:()=>{},getReferenceProps:()=>({}),getFloatingProps:()=>({}),slot:{}});y$1.displayName="FloatingContext";let S$1=reactExports.createContext(null);S$1.displayName="PlacementContext";function xe(xt){return reactExports.useMemo(()=>xt?typeof xt=="string"?{to:xt}:xt:null,[xt])}function ye(){return reactExports.useContext(y$1).setReference}function Fe(){return reactExports.useContext(y$1).getReferenceProps}function be(){let{getFloatingProps:xt,slot:$}=reactExports.useContext(y$1);return reactExports.useCallback((...ht)=>Object.assign({},xt(...ht),{"data-anchor":$.anchor}),[xt,$])}function Re(xt=null){xt===!1&&(xt=null),typeof xt=="string"&&(xt={to:xt});let $=reactExports.useContext(S$1),ht=reactExports.useMemo(()=>xt,[JSON.stringify(xt,typeof HTMLElement<"u"?(At,St)=>St instanceof HTMLElement?St.outerHTML:St:void 0)]);n$3(()=>{$==null||$(ht??null)},[$,ht]);let vt=reactExports.useContext(y$1);return reactExports.useMemo(()=>[vt.setFloating,xt?vt.styles:{}],[vt.setFloating,xt,vt.styles])}let q=4;function ve({children:xt,enabled:$=!0}){let[ht,vt]=reactExports.useState(null),[At,St]=reactExports.useState(0),Ct=reactExports.useRef(null),[Et,Ft]=reactExports.useState(null);pe(Et);let wt=$&&ht!==null&&Et!==null,{to:_t="bottom",gap:Rt=0,offset:_e=0,padding:bt=0,inner:Pt}=ce(ht,Et),[Xt,Kt="center"]=_t.split(" ");n$3(()=>{wt&&St(0)},[wt]);let{refs:Nt,floatingStyles:$t,context:Lt}=useFloating({open:wt,placement:Xt==="selection"?Kt==="center"?"bottom":`bottom-${Kt}`:Kt==="center"?`${Xt}`:`${Xt}-${Kt}`,strategy:"absolute",transform:!1,middleware:[offset({mainAxis:Xt==="selection"?0:Rt,crossAxis:_e}),shift({padding:bt}),Xt!=="selection"&&flip({padding:bt}),Xt==="selection"&&Pt?inner({...Pt,padding:bt,overflowRef:Ct,offset:At,minItemsVisible:q,referenceOverflowThreshold:bt,onFallbackChange(Qt){var gn,tn;if(!Qt)return;let bn=Lt.elements.floating;if(!bn)return;let Wt=parseFloat(getComputedStyle(bn).scrollPaddingBottom)||0,Yt=Math.min(q,bn.childElementCount),un=0,Ut=0;for(let Ot of(tn=(gn=Lt.elements.floating)==null?void 0:gn.childNodes)!=null?tn:[])if(Ot instanceof HTMLElement){let Ht=Ot.offsetTop,an=Ht+Ot.clientHeight+Wt,zt=bn.scrollTop,Vt=zt+bn.clientHeight;if(Ht>=zt&&an<=Vt)Yt--;else{Ut=Math.max(0,Math.min(an,Vt)-Math.max(Ht,zt)),un=Ot.clientHeight;break}}Yt>=1&&St(Ot=>{let Ht=un*Yt-Ut+Wt;return Ot>=Ht?Ot:Ht})}}):null,size({padding:bt,apply({availableWidth:Qt,availableHeight:gn,elements:tn}){Object.assign(tn.floating.style,{overflow:"auto",maxWidth:`${Qt}px`,maxHeight:`min(var(--anchor-max-height, 100vh), ${gn}px)`})}})].filter(Boolean),whileElementsMounted:autoUpdate}),[jt=Xt,kt=Kt]=Lt.placement.split("-");Xt==="selection"&&(jt="selection");let qt=reactExports.useMemo(()=>({anchor:[jt,kt].filter(Boolean).join(" ")}),[jt,kt]),Bt=useInnerOffset(Lt,{overflowRef:Ct,onChange:St}),{getReferenceProps:Gt,getFloatingProps:en}=useInteractions([Bt]),dn=o$3(Qt=>{Ft(Qt),Nt.setFloating(Qt)});return reactExports.createElement(S$1.Provider,{value:vt},reactExports.createElement(y$1.Provider,{value:{setFloating:dn,setReference:Nt.setReference,styles:$t,getReferenceProps:Gt,getFloatingProps:en,slot:qt}},xt))}function pe(xt){n$3(()=>{if(!xt)return;let $=new MutationObserver(()=>{let ht=xt.style.maxHeight;parseFloat(ht)!==parseInt(ht)&&(xt.style.maxHeight=`${Math.ceil(parseFloat(ht))}px`)});return $.observe(xt,{attributes:!0,attributeFilter:["style"]}),()=>{$.disconnect()}},[xt])}function ce(xt,$){var ht,vt,At;let St=L((ht=xt==null?void 0:xt.gap)!=null?ht:"var(--anchor-gap, 0)",$),Ct=L((vt=xt==null?void 0:xt.offset)!=null?vt:"var(--anchor-offset, 0)",$),Et=L((At=xt==null?void 0:xt.padding)!=null?At:"var(--anchor-padding, 0)",$);return{...xt,gap:St,offset:Ct,padding:Et}}function L(xt,$,ht=void 0){let vt=p$3(),At=o$3((Ft,wt)=>{if(Ft==null)return[ht,null];if(typeof Ft=="number")return[Ft,null];if(typeof Ft=="string"){if(!wt)return[ht,null];let _t=J$1(Ft,wt);return[_t,Rt=>{let _e=D$1(Ft);{let bt=_e.map(Pt=>window.getComputedStyle(wt).getPropertyValue(Pt));vt.requestAnimationFrame(function Pt(){vt.nextFrame(Pt);let Xt=!1;for(let[Nt,$t]of _e.entries()){let Lt=window.getComputedStyle(wt).getPropertyValue($t);if(bt[Nt]!==Lt){bt[Nt]=Lt,Xt=!0;break}}if(!Xt)return;let Kt=J$1(Ft,wt);_t!==Kt&&(Rt(Kt),_t=Kt)})}return vt.dispose}]}return[ht,null]}),St=reactExports.useMemo(()=>At(xt,$)[0],[xt,$]),[Ct=St,Et]=reactExports.useState();return n$3(()=>{let[Ft,wt]=At(xt,$);if(Et(Ft),!!wt)return wt(Et)},[xt,$]),Ct}function D$1(xt){let $=/var\((.*)\)/.exec(xt);if($){let ht=$[1].indexOf(",");if(ht===-1)return[$[1]];let vt=$[1].slice(0,ht).trim(),At=$[1].slice(ht+1).trim();return At?[vt,...D$1(At)]:[vt]}return[]}function J$1(xt,$){let ht=document.createElement("div");$.appendChild(ht),ht.style.setProperty("margin-top","0px","important"),ht.style.setProperty("margin-top",xt,"important");let vt=parseFloat(window.getComputedStyle(ht).marginTop)||0;return $.removeChild(ht),vt}let n=reactExports.createContext(null);n.displayName="OpenClosedContext";var i=(xt=>(xt[xt.Open=1]="Open",xt[xt.Closed=2]="Closed",xt[xt.Closing=4]="Closing",xt[xt.Opening=8]="Opening",xt))(i||{});function u$1(){return reactExports.useContext(n)}function c$2({value:xt,children:$}){return React.createElement(n.Provider,{value:xt},$)}function u(xt){throw new Error("Unexpected object: "+xt)}var c$1=(xt=>(xt[xt.First=0]="First",xt[xt.Previous=1]="Previous",xt[xt.Next=2]="Next",xt[xt.Last=3]="Last",xt[xt.Specific=4]="Specific",xt[xt.Nothing=5]="Nothing",xt))(c$1||{});function f(xt,$){let ht=$.resolveItems();if(ht.length<=0)return null;let vt=$.resolveActiveIndex(),At=vt??-1;switch(xt.focus){case 0:{for(let St=0;St<ht.length;++St)if(!$.resolveDisabled(ht[St],St,ht))return St;return vt}case 1:{At===-1&&(At=ht.length);for(let St=At-1;St>=0;--St)if(!$.resolveDisabled(ht[St],St,ht))return St;return vt}case 2:{for(let St=At+1;St<ht.length;++St)if(!$.resolveDisabled(ht[St],St,ht))return St;return vt}case 3:{for(let St=ht.length-1;St>=0;--St)if(!$.resolveDisabled(ht[St],St,ht))return St;return vt}case 4:{for(let St=0;St<ht.length;++St)if($.resolveId(ht[St],St,ht)===xt.id)return St;return vt}case 5:return null;default:u(xt)}}function c(xt){let $=o$3(xt),ht=reactExports.useRef(!1);reactExports.useEffect(()=>(ht.current=!1,()=>{ht.current=!0,t$3(()=>{ht.current&&$()})}),[$])}function s$1(){let xt=typeof document>"u";return"useSyncExternalStore"in t$4?($=>$.useSyncExternalStore)(t$4)(()=>()=>{},()=>!1,()=>!xt):!1}function l(){let xt=s$1(),[$,ht]=reactExports.useState(s$5.isHandoffComplete);return $&&s$5.isHandoffComplete===!1&&ht(!1),reactExports.useEffect(()=>{$!==!0&&ht(!0)},[$]),reactExports.useEffect(()=>s$5.handoff(),[]),xt?!1:$}let e=reactExports.createContext(!1);function a$1(){return reactExports.useContext(e)}function D(xt){let $=a$1(),ht=reactExports.useContext(v),vt=n$1(xt),[At,St]=reactExports.useState(()=>{var Ct;if(!$&&ht!==null)return(Ct=ht.current)!=null?Ct:null;if(s$5.isServer)return null;let Et=vt==null?void 0:vt.getElementById("headlessui-portal-root");if(Et)return Et;if(vt===null)return null;let Ft=vt.createElement("div");return Ft.setAttribute("id","headlessui-portal-root"),vt.body.appendChild(Ft)});return reactExports.useEffect(()=>{At!==null&&(vt!=null&&vt.body.contains(At)||vt==null||vt.body.appendChild(At))},[At,vt]),reactExports.useEffect(()=>{$||ht!==null&&St(ht.current)},[ht,St,$]),At}let M=reactExports.Fragment,N=I$3(function(xt,$){let ht=xt,vt=reactExports.useRef(null),At=y$4(T$2(_t=>{vt.current=_t}),$),St=n$1(vt),Ct=D(vt),[Et]=reactExports.useState(()=>{var _t;return s$5.isServer?null:(_t=St==null?void 0:St.createElement("div"))!=null?_t:null}),Ft=reactExports.useContext(y),wt=l();return n$3(()=>{!Ct||!Et||Ct.contains(Et)||(Et.setAttribute("data-headlessui-portal",""),Ct.appendChild(Et))},[Ct,Et]),n$3(()=>{if(Et&&Ft)return Ft.register(Et)},[Ft,Et]),c(()=>{var _t;!Ct||!Et||(Et instanceof Node&&Ct.contains(Et)&&Ct.removeChild(Et),Ct.childNodes.length<=0&&((_t=Ct.parentElement)==null||_t.removeChild(Ct)))}),wt?!Ct||!Et?null:reactDomExports.createPortal(H$1({ourProps:{ref:At},theirProps:ht,slot:{},defaultTag:M,name:"Portal"}),Et):null});function S(xt,$){let ht=y$4($),{enabled:vt=!0,...At}=xt;return vt?React.createElement(N,{...At,ref:ht}):H$1({ourProps:{ref:ht},theirProps:At,slot:{},defaultTag:M,name:"Portal"})}let j$1=reactExports.Fragment,v=reactExports.createContext(null);function W$1(xt,$){let{target:ht,...vt}=xt,At={ref:y$4($)};return React.createElement(v.Provider,{value:ht},H$1({ourProps:At,theirProps:vt,defaultTag:j$1,name:"Popover.Group"}))}let y=reactExports.createContext(null),I=I$3(S),J=I$3(W$1),te=Object.assign(I,{Group:J});function p(xt,$){let ht=reactExports.useRef({left:0,top:0});if(n$3(()=>{let At=$.current;if(!At)return;let St=At.getBoundingClientRect();St&&(ht.current=St)},[xt]),$.current==null||!xt||$.current===document.activeElement)return!1;let vt=$.current.getBoundingClientRect();return vt.top!==ht.current.top||vt.left!==ht.current.left}let a=/([\u2700-\u27BF]|[\uE000-\uF8FF]|\uD83C[\uDC00-\uDFFF]|\uD83D[\uDC00-\uDFFF]|[\u2011-\u26FF]|\uD83E[\uDD10-\uDDFF])/g;function o(xt){var $,ht;let vt=($=xt.innerText)!=null?$:"",At=xt.cloneNode(!0);if(!(At instanceof HTMLElement))return vt;let St=!1;for(let Et of At.querySelectorAll('[hidden],[aria-hidden],[role="img"]'))Et.remove(),St=!0;let Ct=St?(ht=At.innerText)!=null?ht:"":vt;return a.test(Ct)&&(Ct=Ct.replace(a,"")),Ct}function g(xt){let $=xt.getAttribute("aria-label");if(typeof $=="string")return $.trim();let ht=xt.getAttribute("aria-labelledby");if(ht){let vt=ht.split(" ").map(At=>{let St=document.getElementById(At);if(St){let Ct=St.getAttribute("aria-label");return typeof Ct=="string"?Ct.trim():o(St).trim()}return null}).filter(Boolean);if(vt.length>0)return vt.join(", ")}return o(xt).trim()}function s(xt){let $=reactExports.useRef(""),ht=reactExports.useRef("");return o$3(()=>{let vt=xt.current;if(!vt)return"";let At=vt.innerText;if($.current===At)return ht.current;let St=g(vt).trim().toLowerCase();return $.current=At,ht.current=St,St})}var Je=(xt=>(xt[xt.Open=0]="Open",xt[xt.Closed=1]="Closed",xt))(Je||{}),Ve=(xt=>(xt[xt.Pointer=0]="Pointer",xt[xt.Other=1]="Other",xt))(Ve||{}),Xe=(xt=>(xt[xt.OpenMenu=0]="OpenMenu",xt[xt.CloseMenu=1]="CloseMenu",xt[xt.GoToItem=2]="GoToItem",xt[xt.Search=3]="Search",xt[xt.ClearSearch=4]="ClearSearch",xt[xt.RegisterItem=5]="RegisterItem",xt[xt.UnregisterItem=6]="UnregisterItem",xt))(Xe||{});function W(xt,$=ht=>ht){let ht=xt.activeItemIndex!==null?xt.items[xt.activeItemIndex]:null,vt=_($(xt.items.slice()),St=>St.dataRef.current.domRef.current),At=ht?vt.indexOf(ht):null;return At===-1&&(At=null),{items:vt,activeItemIndex:At}}let $e={1(xt){return xt.menuState===1?xt:{...xt,activeItemIndex:null,menuState:1}},0(xt){return xt.menuState===0?xt:{...xt,__demoMode:!1,menuState:0}},2:(xt,$)=>{var ht,vt,At,St,Ct;if(xt.menuState===1)return xt;let Et={...xt,searchQuery:"",activationTrigger:(ht=$.trigger)!=null?ht:1,__demoMode:!1};if($.focus===c$1.Nothing)return{...Et,activeItemIndex:null};if($.focus===c$1.Specific)return{...Et,activeItemIndex:xt.items.findIndex(_t=>_t.id===$.id)};if($.focus===c$1.Previous){let _t=xt.activeItemIndex;if(_t!==null){let Rt=xt.items[_t].dataRef.current.domRef,_e=f($,{resolveItems:()=>xt.items,resolveActiveIndex:()=>xt.activeItemIndex,resolveId:bt=>bt.id,resolveDisabled:bt=>bt.dataRef.current.disabled});if(_e!==null){let bt=xt.items[_e].dataRef.current.domRef;if(((vt=Rt.current)==null?void 0:vt.previousElementSibling)===bt.current||((At=bt.current)==null?void 0:At.previousElementSibling)===null)return{...Et,activeItemIndex:_e}}}}else if($.focus===c$1.Next){let _t=xt.activeItemIndex;if(_t!==null){let Rt=xt.items[_t].dataRef.current.domRef,_e=f($,{resolveItems:()=>xt.items,resolveActiveIndex:()=>xt.activeItemIndex,resolveId:bt=>bt.id,resolveDisabled:bt=>bt.dataRef.current.disabled});if(_e!==null){let bt=xt.items[_e].dataRef.current.domRef;if(((St=Rt.current)==null?void 0:St.nextElementSibling)===bt.current||((Ct=bt.current)==null?void 0:Ct.nextElementSibling)===null)return{...Et,activeItemIndex:_e}}}}let Ft=W(xt),wt=f($,{resolveItems:()=>Ft.items,resolveActiveIndex:()=>Ft.activeItemIndex,resolveId:_t=>_t.id,resolveDisabled:_t=>_t.dataRef.current.disabled});return{...Et,...Ft,activeItemIndex:wt}},3:(xt,$)=>{let ht=xt.searchQuery!==""?0:1,vt=xt.searchQuery+$.value.toLowerCase(),At=(xt.activeItemIndex!==null?xt.items.slice(xt.activeItemIndex+ht).concat(xt.items.slice(0,xt.activeItemIndex+ht)):xt.items).find(Ct=>{var Et;return((Et=Ct.dataRef.current.textValue)==null?void 0:Et.startsWith(vt))&&!Ct.dataRef.current.disabled}),St=At?xt.items.indexOf(At):-1;return St===-1||St===xt.activeItemIndex?{...xt,searchQuery:vt}:{...xt,searchQuery:vt,activeItemIndex:St,activationTrigger:1}},4(xt){return xt.searchQuery===""?xt:{...xt,searchQuery:"",searchActiveItemIndex:null}},5:(xt,$)=>{let ht=W(xt,vt=>[...vt,{id:$.id,dataRef:$.dataRef}]);return{...xt,...ht}},6:(xt,$)=>{let ht=W(xt,vt=>{let At=vt.findIndex(St=>St.id===$.id);return At!==-1&&vt.splice(At,1),vt});return{...xt,...ht,activationTrigger:1}}},j=reactExports.createContext(null);j.displayName="MenuContext";function B(xt){let $=reactExports.useContext(j);if($===null){let ht=new Error(`<${xt} /> is missing a parent <Menu /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(ht,B),ht}return $}function qe(xt,$){return u$6($.type,$e,xt,$)}let ze=reactExports.Fragment;function Ye(xt,$){let{__demoMode:ht=!1,...vt}=xt,At=reactExports.useReducer(qe,{__demoMode:ht,menuState:ht?0:1,buttonRef:reactExports.createRef(),itemsRef:reactExports.createRef(),items:[],searchQuery:"",activeItemIndex:null,activationTrigger:1}),[{menuState:St,itemsRef:Ct,buttonRef:Et},Ft]=At,wt=y$4($);F$2(St===0,[Et,Ct],(bt,Pt)=>{var Xt;Ft({type:1}),A$1(Pt,h.Loose)||(bt.preventDefault(),(Xt=Et.current)==null||Xt.focus())});let _t=o$3(()=>{Ft({type:1})}),Rt=reactExports.useMemo(()=>({open:St===0,close:_t}),[St,_t]),_e={ref:wt};return React.createElement(ve,null,React.createElement(j.Provider,{value:At},React.createElement(c$2,{value:u$6(St,{0:i.Open,1:i.Closed})},H$1({ourProps:_e,theirProps:vt,slot:Rt,defaultTag:ze,name:"Menu"}))))}let Ze="button";function et(xt,$){var ht;let vt=reactExports.useId(),{id:At=`headlessui-menu-button-${vt}`,disabled:St=!1,autoFocus:Ct=!1,...Et}=xt,[Ft,wt]=B("Menu.Button"),_t=Fe(),Rt=y$4(Ft.buttonRef,$,ye()),_e=o$3(Bt=>{switch(Bt.key){case o$2.Space:case o$2.Enter:case o$2.ArrowDown:Bt.preventDefault(),Bt.stopPropagation(),reactDomExports.flushSync(()=>wt({type:0})),wt({type:2,focus:c$1.First});break;case o$2.ArrowUp:Bt.preventDefault(),Bt.stopPropagation(),reactDomExports.flushSync(()=>wt({type:0})),wt({type:2,focus:c$1.Last});break}}),bt=o$3(Bt=>{switch(Bt.key){case o$2.Space:Bt.preventDefault();break}}),Pt=o$3(Bt=>{var Gt;if(r$1(Bt.currentTarget))return Bt.preventDefault();St||(Ft.menuState===0?(reactDomExports.flushSync(()=>wt({type:1})),(Gt=Ft.buttonRef.current)==null||Gt.focus({preventScroll:!0})):(Bt.preventDefault(),wt({type:0})))}),{isFocusVisible:Xt,focusProps:Kt}=$f7dceffc5ad7768b$export$4e328f61c538687f({autoFocus:Ct}),{isHovered:Nt,hoverProps:$t}=$6179b936705e76d3$export$ae780daf29e6d456({isDisabled:St}),{pressed:Lt,pressProps:jt}=w$1({disabled:St}),kt=reactExports.useMemo(()=>({open:Ft.menuState===0,active:Lt||Ft.menuState===0,disabled:St,hover:Nt,focus:Xt,autofocus:Ct}),[Ft,Nt,Xt,Lt,St,Ct]),qt=D$3(_t(),{ref:Rt,id:At,type:T(xt,Ft.buttonRef),"aria-haspopup":"menu","aria-controls":(ht=Ft.itemsRef.current)==null?void 0:ht.id,"aria-expanded":Ft.menuState===0,disabled:St||void 0,autoFocus:Ct,onKeyDown:_e,onKeyUp:bt,onClick:Pt},Kt,$t,jt);return H$1({ourProps:qt,theirProps:Et,slot:kt,defaultTag:Ze,name:"Menu.Button"})}let tt="div",nt=O$1.RenderStrategy|O$1.Static;function rt(xt,$){var ht,vt;let At=reactExports.useId(),{id:St=`headlessui-menu-items-${At}`,anchor:Ct,portal:Et=!1,modal:Ft=!0,transition:wt=!1,..._t}=xt,Rt=xe(Ct),[_e,bt]=B("Menu.Items"),[Pt,Xt]=Re(Rt),Kt=be(),Nt=y$4(_e.itemsRef,$,Rt?Pt:null),$t=n$1(_e.itemsRef);Rt&&(Et=!0);let Lt=u$1(),[jt,kt]=V(wt,_e.itemsRef,Lt!==null?(Lt&i.Open)===i.Open:_e.menuState===0);m$1(jt,_e.buttonRef,()=>{bt({type:1})});let qt=_e.__demoMode?!1:Ft&&_e.menuState===0;f$1(qt,$t);let Bt=_e.__demoMode?!1:Ft&&_e.menuState===0;y$3(Bt,{allowed:o$3(()=>[_e.buttonRef.current,_e.itemsRef.current])});let Gt=_e.menuState!==0,en=p(Gt,_e.buttonRef)?!1:jt;reactExports.useEffect(()=>{let Wt=_e.itemsRef.current;Wt&&_e.menuState===0&&Wt!==($t==null?void 0:$t.activeElement)&&Wt.focus({preventScroll:!0})},[_e.menuState,_e.itemsRef,$t,_e.itemsRef.current]),F(_e.menuState===0,{container:_e.itemsRef.current,accept(Wt){return Wt.getAttribute("role")==="menuitem"?NodeFilter.FILTER_REJECT:Wt.hasAttribute("role")?NodeFilter.FILTER_SKIP:NodeFilter.FILTER_ACCEPT},walk(Wt){Wt.setAttribute("role","none")}});let dn=p$3(),Qt=o$3(Wt=>{var Yt,un,Ut;switch(dn.dispose(),Wt.key){case o$2.Space:if(_e.searchQuery!=="")return Wt.preventDefault(),Wt.stopPropagation(),bt({type:3,value:Wt.key});case o$2.Enter:if(Wt.preventDefault(),Wt.stopPropagation(),bt({type:1}),_e.activeItemIndex!==null){let{dataRef:Ot}=_e.items[_e.activeItemIndex];(un=(Yt=Ot.current)==null?void 0:Yt.domRef.current)==null||un.click()}G(_e.buttonRef.current);break;case o$2.ArrowDown:return Wt.preventDefault(),Wt.stopPropagation(),bt({type:2,focus:c$1.Next});case o$2.ArrowUp:return Wt.preventDefault(),Wt.stopPropagation(),bt({type:2,focus:c$1.Previous});case o$2.Home:case o$2.PageUp:return Wt.preventDefault(),Wt.stopPropagation(),bt({type:2,focus:c$1.First});case o$2.End:case o$2.PageDown:return Wt.preventDefault(),Wt.stopPropagation(),bt({type:2,focus:c$1.Last});case o$2.Escape:Wt.preventDefault(),Wt.stopPropagation(),reactDomExports.flushSync(()=>bt({type:1})),(Ut=_e.buttonRef.current)==null||Ut.focus({preventScroll:!0});break;case o$2.Tab:Wt.preventDefault(),Wt.stopPropagation(),reactDomExports.flushSync(()=>bt({type:1})),j$2(_e.buttonRef.current,Wt.shiftKey?F$3.Previous:F$3.Next);break;default:Wt.key.length===1&&(bt({type:3,value:Wt.key}),dn.setTimeout(()=>bt({type:4}),350));break}}),gn=o$3(Wt=>{switch(Wt.key){case o$2.Space:Wt.preventDefault();break}}),tn=reactExports.useMemo(()=>({open:_e.menuState===0}),[_e.menuState]),bn=D$3(Rt?Kt():{},{"aria-activedescendant":_e.activeItemIndex===null||(ht=_e.items[_e.activeItemIndex])==null?void 0:ht.id,"aria-labelledby":(vt=_e.buttonRef.current)==null?void 0:vt.id,id:St,onKeyDown:Qt,onKeyUp:gn,role:"menu",tabIndex:_e.menuState===0?0:void 0,ref:Nt,style:{..._t.style,...Xt,"--button-width":f$4(_e.buttonRef,!0).width},...A(kt)});return React.createElement(te,{enabled:Et?xt.static||jt:!1},H$1({ourProps:bn,theirProps:_t,slot:tn,defaultTag:tt,features:nt,visible:en,name:"Menu.Items"}))}let ot=reactExports.Fragment;function at(xt,$){let ht=reactExports.useId(),{id:vt=`headlessui-menu-item-${ht}`,disabled:At=!1,...St}=xt,[Ct,Et]=B("Menu.Item"),Ft=Ct.activeItemIndex!==null?Ct.items[Ct.activeItemIndex].id===vt:!1,wt=reactExports.useRef(null),_t=y$4($,wt);n$3(()=>{if(!Ct.__demoMode&&Ct.menuState===0&&Ft&&Ct.activationTrigger!==0)return o$4().requestAnimationFrame(()=>{var en,dn;(dn=(en=wt.current)==null?void 0:en.scrollIntoView)==null||dn.call(en,{block:"nearest"})})},[Ct.__demoMode,wt,Ft,Ct.menuState,Ct.activationTrigger,Ct.activeItemIndex]);let Rt=s(wt),_e=reactExports.useRef({disabled:At,domRef:wt,get textValue(){return Rt()}});n$3(()=>{_e.current.disabled=At},[_e,At]),n$3(()=>(Et({type:5,id:vt,dataRef:_e}),()=>Et({type:6,id:vt})),[_e,vt]);let bt=o$3(()=>{Et({type:1})}),Pt=o$3(en=>{if(At)return en.preventDefault();Et({type:1}),G(Ct.buttonRef.current)}),Xt=o$3(()=>{if(At)return Et({type:2,focus:c$1.Nothing});Et({type:2,focus:c$1.Specific,id:vt})}),Kt=u$2(),Nt=o$3(en=>{Kt.update(en),!At&&(Ft||Et({type:2,focus:c$1.Specific,id:vt,trigger:0}))}),$t=o$3(en=>{Kt.wasMoved(en)&&(At||Ft||Et({type:2,focus:c$1.Specific,id:vt,trigger:0}))}),Lt=o$3(en=>{Kt.wasMoved(en)&&(At||Ft&&Et({type:2,focus:c$1.Nothing}))}),[jt,kt]=z(),[qt,Bt]=U$1(),Gt=reactExports.useMemo(()=>({active:Ft,focus:Ft,disabled:At,close:bt}),[Ft,At,bt]);return React.createElement(kt,null,React.createElement(Bt,null,H$1({ourProps:{id:vt,ref:_t,role:"menuitem",tabIndex:At===!0?void 0:-1,"aria-disabled":At===!0?!0:void 0,"aria-labelledby":jt,"aria-describedby":qt,disabled:void 0,onClick:Pt,onFocus:Xt,onPointerEnter:Nt,onMouseEnter:Nt,onPointerMove:$t,onMouseMove:$t,onPointerLeave:Lt,onMouseLeave:Lt},theirProps:St,slot:Gt,defaultTag:ot,name:"Menu.Item"})))}let it="div";function st(xt,$){let[ht,vt]=z();return React.createElement(vt,null,H$1({ourProps:{ref:$,"aria-labelledby":ht,role:"group"},theirProps:xt,slot:{},defaultTag:it,name:"Menu.Section"}))}let lt="header";function ut(xt,$){let ht=reactExports.useId(),{id:vt=`headlessui-menu-heading-${ht}`,...At}=xt,St=P$1();n$3(()=>St.register(vt),[vt,St.register]);let Ct={id:vt,ref:$,role:"presentation",...St.props};return H$1({ourProps:Ct,theirProps:At,slot:{},defaultTag:lt,name:"Menu.Heading"})}let pt="div";function dt(xt,$){return H$1({ourProps:{ref:$,role:"separator"},theirProps:xt,slot:{},defaultTag:pt,name:"Menu.Separator"})}let mt=I$3(Ye),ct=I$3(et),ft=I$3(rt),Tt=I$3(at),yt=I$3(st),gt=I$3(ut),It=I$3(dt),Zt=Object.assign(mt,{Button:ct,Items:ft,Item:Tt,Section:yt,Heading:gt,Separator:It});function ChevronDownIcon({title:xt,titleId:$,...ht},vt){return reactExports.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:vt,"aria-labelledby":$},ht),xt?reactExports.createElement("title",{id:$},xt):null,reactExports.createElement("path",{fillRule:"evenodd",d:"M5.22 8.22a.75.75 0 0 1 1.06 0L10 11.94l3.72-3.72a.75.75 0 1 1 1.06 1.06l-4.25 4.25a.75.75 0 0 1-1.06 0L5.22 9.28a.75.75 0 0 1 0-1.06Z",clipRule:"evenodd"}))}const ForwardRef=reactExports.forwardRef(ChevronDownIcon);function Form(){return jsxRuntimeExports.jsx("div",{className:"relative flex size-full min-h-screen flex-col bg-[#F9FAFA] group/design-root overflow-x-hidden",style:{"--checkbox-tick-svg":"url('data:image/svg+xml,%3csvg viewBox=%270 0 16 16%27 fill=%27rgb(249,250,250)%27 xmlns=%27http://www.w3.org/2000/svg%27%3e%3cpath d=%27M12.207 4.793a1 1 0 010 1.414l-5 5a1 1 0 01-1.414 0l-2-2a1 1 0 011.414-1.414L6.5 9.086l4.293-4.293a1 1 0 011.414 0z%27/%3e%3c/svg%3e')",fontFamily:'"Public Sans", "Noto Sans", sans-serif'},children:jsxRuntimeExports.jsxs("div",{className:"layout-container flex h-full grow flex-col",children:[jsxRuntimeExports.jsxs("header",{className:"flex items-center justify-between whitespace-nowrap border-b border-solid border-b-[#EEEFF2] px-10 py-3",children:[jsxRuntimeExports.jsx("div",{className:"flex items-center gap-4 text-[#1C1D22]",children:jsxRuntimeExports.jsx("h2",{className:"text-[#1C1D22] text-lg font-bold leading-tight tracking-[-0.015em]",children:"Healthcare"})}),jsxRuntimeExports.jsxs("div",{className:"flex flex-1 justify-end gap-8",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-9",children:[jsxRuntimeExports.jsx("a",{className:"text-[#1C1D22] text-sm font-medium leading-normal",href:"#",children:"Dashboard"}),jsxRuntimeExports.jsx("a",{className:"text-[#1C1D22] text-sm font-medium leading-normal",href:"#",children:"Patients"}),jsxRuntimeExports.jsx("a",{className:"text-[#1C1D22] text-sm font-medium leading-normal",href:"#",children:"Appointments"}),jsxRuntimeExports.jsx("a",{className:"text-[#1C1D22] text-sm font-medium leading-normal",href:"#",children:"More"})]}),jsxRuntimeExports.jsxs("div",{className:"flex gap-2",children:[jsxRuntimeExports.jsx("button",{className:"flex max-w-[480px] cursor-pointer items-center justify-center overflow-hidden rounded-xl h-10 bg-[#EEEFF2] text-[#1C1D22] gap-2 text-sm font-bold leading-normal tracking-[0.015em] min-w-0 px-2.5",children:jsxRuntimeExports.jsx("div",{className:"text-[#1C1D22]","data-icon":"MagnifyingGlass","data-size":"20px","data-weight":"regular",children:jsxRuntimeExports.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20px",height:"20px",fill:"currentColor",viewBox:"0 0 256 256",children:jsxRuntimeExports.jsx("path",{d:"M229.66,218.34l-50.07-50.06a88.11,88.11,0,1,0-11.31,11.31l50.06,50.07a8,8,0,0,0,11.32-11.32ZM40,112a72,72,0,1,1,72,72A72.08,72.08,0,0,1,40,112Z"})})})}),jsxRuntimeExports.jsx("button",{className:"flex max-w-[480px] cursor-pointer items-center justify-center overflow-hidden rounded-xl h-10 bg-[#EEEFF2] text-[#1C1D22] gap-2 text-sm font-bold leading-normal tracking-[0.015em] min-w-0 px-2.5",children:jsxRuntimeExports.jsx("div",{className:"text-[#1C1D22]","data-icon":"Bell","data-size":"20px","data-weight":"regular",children:jsxRuntimeExports.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20px",height:"20px",fill:"currentColor",viewBox:"0 0 256 256",children:jsxRuntimeExports.jsx("path",{d:"M221.8,175.94C216.25,166.38,208,139.33,208,104a80,80,0,1,0-160,0c0,35.34-8.26,62.38-13.81,71.94A16,16,0,0,0,48,200H88.81a40,40,0,0,0,78.38,0H208a16,16,0,0,0,13.8-24.06ZM128,216a24,24,0,0,1-22.62-16h45.24A24,24,0,0,1,128,216ZM48,184c7.7-13.24,16-43.92,16-80a64,64,0,1,1,128,0c0,36.05,8.28,66.73,16,80Z"})})})})]}),jsxRuntimeExports.jsx("div",{className:"bg-center bg-no-repeat aspect-square bg-cover rounded-full size-10",style:{backgroundImage:'url("https://cdn.usegalileo.ai/stability/3ff28297-380f-4f51-aac1-1fcac1b0d3bb.png")'}})]})]}),jsxRuntimeExports.jsx("div",{className:"px-40 flex flex-1 justify-center py-5",children:jsxRuntimeExports.jsxs("div",{className:"layout-content-container flex flex-col w-[512px] max-w-[512px] py-5 max-w-[960px] flex-1",children:[jsxRuntimeExports.jsx("h3",{className:"text-[#1C1D22] tracking-light text-2xl font-bold leading-tight px-4 text-left pb-2 pt-5",children:"Add a new patient"}),jsxRuntimeExports.jsx("p",{className:"text-[#1C1D22] text-base font-normal leading-normal pb-3 pt-1 px-4",children:"Enter the details of the patient you'd like to add to your practice"}),jsxRuntimeExports.jsx("div",{className:"flex max-w-[480px] flex-1 flex-wrap items-end gap-4 px-4 py-3",children:jsxRuntimeExports.jsxs("label",{className:"flex flex-col min-w-40 flex-1",children:[jsxRuntimeExports.jsx("p",{className:"text-[#1C1D22] text-base font-medium leading-normal pb-2",children:"First name"}),jsxRuntimeExports.jsx("input",{placeholder:"Type first name",className:"form-input flex w-full min-w-0 flex-1 resize-none overflow-hidden rounded-xl text-[#1C1D22] focus:outline-0 focus:ring-0 border border-[#D5D6DD] bg-[#FFFFFF] focus:border-[#D5D6DD] h-14 placeholder:text-[#3C3F4A] p-[15px] text-base font-normal leading-normal",value:""})]})}),jsxRuntimeExports.jsx("div",{className:"flex max-w-[480px] flex-1 flex-wrap items-end gap-4 px-4 py-3",children:jsxRuntimeExports.jsxs("label",{className:"flex flex-col min-w-40 flex-1",children:[jsxRuntimeExports.jsx("p",{className:"text-[#1C1D22] text-base font-medium leading-normal pb-2",children:"Last name"}),jsxRuntimeExports.jsx("input",{placeholder:"Type last name",className:"form-input flex w-full min-w-0 flex-1 resize-none overflow-hidden rounded-xl text-[#1C1D22] focus:outline-0 focus:ring-0 border border-[#D5D6DD] bg-[#FFFFFF] focus:border-[#D5D6DD] h-14 placeholder:text-[#3C3F4A] p-[15px] text-base font-normal leading-normal",value:""})]})}),jsxRuntimeExports.jsx("div",{className:"flex max-w-[480px] flex-1 flex-wrap items-end gap-4 px-4 py-3",children:jsxRuntimeExports.jsxs("label",{className:"flex flex-col min-w-40 flex-1",children:[jsxRuntimeExports.jsx("p",{className:"text-[#1C1D22] text-base font-medium leading-normal pb-2",children:"Date of birth"}),jsxRuntimeExports.jsx("input",{placeholder:"MM / DD / YYYY",className:"form-input flex w-full min-w-0 flex-1 resize-none overflow-hidden rounded-xl text-[#1C1D22] focus:outline-0 focus:ring-0 border border-[#D5D6DD] bg-[#FFFFFF] focus:border-[#D5D6DD] h-14 placeholder:text-[#3C3F4A] p-[15px] text-base font-normal leading-normal",value:""})]})}),jsxRuntimeExports.jsx("div",{className:"flex max-w-[480px] flex-1 flex-wrap items-end gap-4 px-4 py-3",children:jsxRuntimeExports.jsxs("label",{className:"flex flex-col min-w-40 flex-1",children:[jsxRuntimeExports.jsx("p",{className:"text-[#1C1D22] text-base font-medium leading-normal pb-2",children:"Gender"}),jsxRuntimeExports.jsxs("div",{className:"flex w-full flex-1 items-stretch rounded-xl",children:[jsxRuntimeExports.jsx("input",{placeholder:"Select gender",className:"form-input flex w-full min-w-0 flex-1 resize-none overflow-hidden rounded-xl text-[#1C1D22] focus:outline-0 focus:ring-0 border border-[#D5D6DD] bg-[#FFFFFF] focus:border-[#D5D6DD] h-14 placeholder:text-[#3C3F4A] p-[15px] rounded-r-none border-r-0 pr-2 text-base font-normal leading-normal",value:""}),jsxRuntimeExports.jsx("div",{className:"text-[#3C3F4A] flex border border-[#D5D6DD] bg-[#FFFFFF] items-center justify-center pr-[15px] rounded-r-xl border-l-0","data-icon":"CaretUpDown","data-size":"24px","data-weight":"regular",children:jsxRuntimeExports.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24px",height:"24px",fill:"currentColor",viewBox:"0 0 256 256",children:jsxRuntimeExports.jsx("path",{d:"M181.66,170.34a8,8,0,0,1,0,11.32l-48,48a8,8,0,0,1-11.32,0l-48-48a8,8,0,0,1,11.32-11.32L128,212.69l42.34-42.35A8,8,0,0,1,181.66,170.34Zm-96-84.68L128,43.31l42.34,42.35a8,8,0,0,0,11.32-11.32l-48-48a8,8,0,0,0-11.32,0l-48,48A8,8,0,0,0,85.66,85.66Z"})})})]})]})}),jsxRuntimeExports.jsx("div",{className:"flex max-w-[480px] flex-1 flex-wrap items-end gap-4 px-4 py-3",children:jsxRuntimeExports.jsxs("label",{className:"flex flex-col min-w-40 flex-1",children:[jsxRuntimeExports.jsx("p",{className:"text-[#1C1D22] text-base font-medium leading-normal pb-2",children:"Weight (lbs)"}),jsxRuntimeExports.jsx("input",{placeholder:"Type weight",className:"form-input flex w-full min-w-0 flex-1 resize-none overflow-hidden rounded-xl text-[#1C1D22] focus:outline-0 focus:ring-0 border border-[#D5D6DD] bg-[#FFFFFF] focus:border-[#D5D6DD] h-14 placeholder:text-[#3C3F4A] p-[15px] text-base font-normal leading-normal",value:""})]})}),jsxRuntimeExports.jsx("div",{className:"flex max-w-[480px] flex-1 flex-wrap items-end gap-4 px-4 py-3",children:jsxRuntimeExports.jsxs("label",{className:"flex flex-col min-w-40 flex-1",children:[jsxRuntimeExports.jsx("p",{className:"text-[#1C1D22] text-base font-medium leading-normal pb-2",children:"Phone number"}),jsxRuntimeExports.jsx("input",{placeholder:"(555) 555-5555",className:"form-input flex w-full min-w-0 flex-1 resize-none overflow-hidden rounded-xl text-[#1C1D22] focus:outline-0 focus:ring-0 border border-[#D5D6DD] bg-[#FFFFFF] focus:border-[#D5D6DD] h-14 placeholder:text-[#3C3F4A] p-[15px] text-base font-normal leading-normal",value:""})]})}),jsxRuntimeExports.jsx("div",{className:"px-4",children:jsxRuntimeExports.jsxs("label",{className:"flex gap-x-3 py-3 flex-row",children:[jsxRuntimeExports.jsx("input",{type:"checkbox",className:"h-5 w-5 rounded border-[#D5D6DD] border-2 bg-transparent text-[#607AFB] checked:bg-[#607AFB] checked:border-[#607AFB] focus:ring-0 focus:ring-offset-0 focus:border-[#D5D6DD] focus:outline-none",defaultChecked:!0}),jsxRuntimeExports.jsx("p",{className:"text-[#1C1D22] text-base font-normal leading-normal",children:"Patient has an email address"})]})}),jsxRuntimeExports.jsx("div",{className:"flex px-4 py-3",children:jsxRuntimeExports.jsx("button",{className:"flex min-w-[84px] max-w-[480px] cursor-pointer items-center justify-center overflow-hidden rounded-xl h-12 px-5 flex-1 bg-[#607AFB] text-[#F9FAFA] text-base font-bold leading-normal tracking-[0.015em]",children:jsxRuntimeExports.jsx("span",{className:"truncate",children:"Save patient"})})})]})})]})})}function classNames(...xt){return xt.filter(Boolean).join(" ")}function Dropdown(xt){function $(){xt.setEditPatients(!xt.editPatients),xt.setDeletePatients(!1)}function ht(){xt.setDeletePatients(!xt.deletePatients),xt.setEditPatients(!1)}const vt=useNavigate();return jsxRuntimeExports.jsxs(Zt,{as:"div",className:"relative inline-block text-left",children:[jsxRuntimeExports.jsx("div",{children:jsxRuntimeExports.jsxs(ct,{className:"inline-flex w-full justify-center gap-x-1.5 rounded-md bg-white px-3 py-2 text-sm font-semibold text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 hover:bg-gray-50",children:["Manage patients",jsxRuntimeExports.jsx(ForwardRef,{className:"-mr-1 h-5 w-5 text-gray-400","aria-hidden":"true"})]})}),jsxRuntimeExports.jsx(ft,{transition:!0,className:"absolute right-0 z-10 mt-2 w-56 origin-top-right rounded-md bg-white shadow-lg ring-1 ring-black ring-opacity-5 transition focus:outline-none data-[closed]:scale-95 data-[closed]:transform data-[closed]:opacity-0 data-[enter]:duration-100 data-[leave]:duration-75 data-[enter]:ease-out data-[leave]:ease-in",children:jsxRuntimeExports.jsxs("div",{className:"py-1",children:[jsxRuntimeExports.jsx(Tt,{children:({focus:At})=>jsxRuntimeExports.jsx("a",{onClick:()=>vt("/form"),className:classNames(At?"bg-gray-100 text-gray-900":"text-gray-700","block px-4 py-2 text-sm"),children:"Add Patient"})}),jsxRuntimeExports.jsx(Tt,{children:({focus:At})=>jsxRuntimeExports.jsx("a",{onClick:$,className:classNames(At?"bg-gray-100 text-gray-900":"text-gray-700","block px-4 py-2 text-sm"),children:"Edit Patient"})}),jsxRuntimeExports.jsx(Tt,{children:({focus:At})=>jsxRuntimeExports.jsx("a",{onClick:ht,className:classNames(At?"bg-gray-100 text-gray-900":"text-gray-700","block px-4 py-2 text-sm"),children:"Remove Patient"})})]})})]})}function bind(xt,$){return function(){return xt.apply($,arguments)}}const{toString}=Object.prototype,{getPrototypeOf}=Object,kindOf=(xt=>$=>{const ht=toString.call($);return xt[ht]||(xt[ht]=ht.slice(8,-1).toLowerCase())})(Object.create(null)),kindOfTest=xt=>(xt=xt.toLowerCase(),$=>kindOf($)===xt),typeOfTest=xt=>$=>typeof $===xt,{isArray}=Array,isUndefined=typeOfTest("undefined");function isBuffer(xt){return xt!==null&&!isUndefined(xt)&&xt.constructor!==null&&!isUndefined(xt.constructor)&&isFunction(xt.constructor.isBuffer)&&xt.constructor.isBuffer(xt)}const isArrayBuffer=kindOfTest("ArrayBuffer");function isArrayBufferView(xt){let $;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?$=ArrayBuffer.isView(xt):$=xt&&xt.buffer&&isArrayBuffer(xt.buffer),$}const isString=typeOfTest("string"),isFunction=typeOfTest("function"),isNumber=typeOfTest("number"),isObject=xt=>xt!==null&&typeof xt=="object",isBoolean=xt=>xt===!0||xt===!1,isPlainObject=xt=>{if(kindOf(xt)!=="object")return!1;const $=getPrototypeOf(xt);return($===null||$===Object.prototype||Object.getPrototypeOf($)===null)&&!(Symbol.toStringTag in xt)&&!(Symbol.iterator in xt)},isDate=kindOfTest("Date"),isFile=kindOfTest("File"),isBlob=kindOfTest("Blob"),isFileList=kindOfTest("FileList"),isStream=xt=>isObject(xt)&&isFunction(xt.pipe),isFormData=xt=>{let $;return xt&&(typeof FormData=="function"&&xt instanceof FormData||isFunction(xt.append)&&(($=kindOf(xt))==="formdata"||$==="object"&&isFunction(xt.toString)&&xt.toString()==="[object FormData]"))},isURLSearchParams=kindOfTest("URLSearchParams"),[isReadableStream,isRequest,isResponse,isHeaders]=["ReadableStream","Request","Response","Headers"].map(kindOfTest),trim=xt=>xt.trim?xt.trim():xt.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function forEach(xt,$,{allOwnKeys:ht=!1}={}){if(xt===null||typeof xt>"u")return;let vt,At;if(typeof xt!="object"&&(xt=[xt]),isArray(xt))for(vt=0,At=xt.length;vt<At;vt++)$.call(null,xt[vt],vt,xt);else{const St=ht?Object.getOwnPropertyNames(xt):Object.keys(xt),Ct=St.length;let Et;for(vt=0;vt<Ct;vt++)Et=St[vt],$.call(null,xt[Et],Et,xt)}}function findKey(xt,$){$=$.toLowerCase();const ht=Object.keys(xt);let vt=ht.length,At;for(;vt-- >0;)if(At=ht[vt],$===At.toLowerCase())return At;return null}const _global=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,isContextDefined=xt=>!isUndefined(xt)&&xt!==_global;function merge(){const{caseless:xt}=isContextDefined(this)&&this||{},$={},ht=(vt,At)=>{const St=xt&&findKey($,At)||At;isPlainObject($[St])&&isPlainObject(vt)?$[St]=merge($[St],vt):isPlainObject(vt)?$[St]=merge({},vt):isArray(vt)?$[St]=vt.slice():$[St]=vt};for(let vt=0,At=arguments.length;vt<At;vt++)arguments[vt]&&forEach(arguments[vt],ht);return $}const extend=(xt,$,ht,{allOwnKeys:vt}={})=>(forEach($,(At,St)=>{ht&&isFunction(At)?xt[St]=bind(At,ht):xt[St]=At},{allOwnKeys:vt}),xt),stripBOM=xt=>(xt.charCodeAt(0)===65279&&(xt=xt.slice(1)),xt),inherits=(xt,$,ht,vt)=>{xt.prototype=Object.create($.prototype,vt),xt.prototype.constructor=xt,Object.defineProperty(xt,"super",{value:$.prototype}),ht&&Object.assign(xt.prototype,ht)},toFlatObject=(xt,$,ht,vt)=>{let At,St,Ct;const Et={};if($=$||{},xt==null)return $;do{for(At=Object.getOwnPropertyNames(xt),St=At.length;St-- >0;)Ct=At[St],(!vt||vt(Ct,xt,$))&&!Et[Ct]&&($[Ct]=xt[Ct],Et[Ct]=!0);xt=ht!==!1&&getPrototypeOf(xt)}while(xt&&(!ht||ht(xt,$))&&xt!==Object.prototype);return $},endsWith=(xt,$,ht)=>{xt=String(xt),(ht===void 0||ht>xt.length)&&(ht=xt.length),ht-=$.length;const vt=xt.indexOf($,ht);return vt!==-1&&vt===ht},toArray=xt=>{if(!xt)return null;if(isArray(xt))return xt;let $=xt.length;if(!isNumber($))return null;const ht=new Array($);for(;$-- >0;)ht[$]=xt[$];return ht},isTypedArray=(xt=>$=>xt&&$ instanceof xt)(typeof Uint8Array<"u"&&getPrototypeOf(Uint8Array)),forEachEntry=(xt,$)=>{const vt=(xt&&xt[Symbol.iterator]).call(xt);let At;for(;(At=vt.next())&&!At.done;){const St=At.value;$.call(xt,St[0],St[1])}},matchAll=(xt,$)=>{let ht;const vt=[];for(;(ht=xt.exec($))!==null;)vt.push(ht);return vt},isHTMLForm=kindOfTest("HTMLFormElement"),toCamelCase=xt=>xt.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(ht,vt,At){return vt.toUpperCase()+At}),hasOwnProperty=(({hasOwnProperty:xt})=>($,ht)=>xt.call($,ht))(Object.prototype),isRegExp=kindOfTest("RegExp"),reduceDescriptors=(xt,$)=>{const ht=Object.getOwnPropertyDescriptors(xt),vt={};forEach(ht,(At,St)=>{let Ct;(Ct=$(At,St,xt))!==!1&&(vt[St]=Ct||At)}),Object.defineProperties(xt,vt)},freezeMethods=xt=>{reduceDescriptors(xt,($,ht)=>{if(isFunction(xt)&&["arguments","caller","callee"].indexOf(ht)!==-1)return!1;const vt=xt[ht];if(isFunction(vt)){if($.enumerable=!1,"writable"in $){$.writable=!1;return}$.set||($.set=()=>{throw Error("Can not rewrite read-only method '"+ht+"'")})}})},toObjectSet=(xt,$)=>{const ht={},vt=At=>{At.forEach(St=>{ht[St]=!0})};return isArray(xt)?vt(xt):vt(String(xt).split($)),ht},noop=()=>{},toFiniteNumber=(xt,$)=>xt!=null&&Number.isFinite(xt=+xt)?xt:$,ALPHA="abcdefghijklmnopqrstuvwxyz",DIGIT="0123456789",ALPHABET={DIGIT,ALPHA,ALPHA_DIGIT:ALPHA+ALPHA.toUpperCase()+DIGIT},generateString=(xt=16,$=ALPHABET.ALPHA_DIGIT)=>{let ht="";const{length:vt}=$;for(;xt--;)ht+=$[Math.random()*vt|0];return ht};function isSpecCompliantForm(xt){return!!(xt&&isFunction(xt.append)&&xt[Symbol.toStringTag]==="FormData"&&xt[Symbol.iterator])}const toJSONObject=xt=>{const $=new Array(10),ht=(vt,At)=>{if(isObject(vt)){if($.indexOf(vt)>=0)return;if(!("toJSON"in vt)){$[At]=vt;const St=isArray(vt)?[]:{};return forEach(vt,(Ct,Et)=>{const Ft=ht(Ct,At+1);!isUndefined(Ft)&&(St[Et]=Ft)}),$[At]=void 0,St}}return vt};return ht(xt,0)},isAsyncFn=kindOfTest("AsyncFunction"),isThenable=xt=>xt&&(isObject(xt)||isFunction(xt))&&isFunction(xt.then)&&isFunction(xt.catch),utils$1={isArray,isArrayBuffer,isBuffer,isFormData,isArrayBufferView,isString,isNumber,isBoolean,isObject,isPlainObject,isReadableStream,isRequest,isResponse,isHeaders,isUndefined,isDate,isFile,isBlob,isRegExp,isFunction,isStream,isURLSearchParams,isTypedArray,isFileList,forEach,merge,extend,trim,stripBOM,inherits,toFlatObject,kindOf,kindOfTest,endsWith,toArray,forEachEntry,matchAll,isHTMLForm,hasOwnProperty,hasOwnProp:hasOwnProperty,reduceDescriptors,freezeMethods,toObjectSet,toCamelCase,noop,toFiniteNumber,findKey,global:_global,isContextDefined,ALPHABET,generateString,isSpecCompliantForm,toJSONObject,isAsyncFn,isThenable};function AxiosError(xt,$,ht,vt,At){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=xt,this.name="AxiosError",$&&(this.code=$),ht&&(this.config=ht),vt&&(this.request=vt),At&&(this.response=At)}utils$1.inherits(AxiosError,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:utils$1.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});const prototype$1=AxiosError.prototype,descriptors={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(xt=>{descriptors[xt]={value:xt}});Object.defineProperties(AxiosError,descriptors);Object.defineProperty(prototype$1,"isAxiosError",{value:!0});AxiosError.from=(xt,$,ht,vt,At,St)=>{const Ct=Object.create(prototype$1);return utils$1.toFlatObject(xt,Ct,function(Ft){return Ft!==Error.prototype},Et=>Et!=="isAxiosError"),AxiosError.call(Ct,xt.message,$,ht,vt,At),Ct.cause=xt,Ct.name=xt.name,St&&Object.assign(Ct,St),Ct};const httpAdapter=null;function isVisitable(xt){return utils$1.isPlainObject(xt)||utils$1.isArray(xt)}function removeBrackets(xt){return utils$1.endsWith(xt,"[]")?xt.slice(0,-2):xt}function renderKey(xt,$,ht){return xt?xt.concat($).map(function(At,St){return At=removeBrackets(At),!ht&&St?"["+At+"]":At}).join(ht?".":""):$}function isFlatArray(xt){return utils$1.isArray(xt)&&!xt.some(isVisitable)}const predicates=utils$1.toFlatObject(utils$1,{},null,function($){return/^is[A-Z]/.test($)});function toFormData(xt,$,ht){if(!utils$1.isObject(xt))throw new TypeError("target must be an object");$=$||new FormData,ht=utils$1.toFlatObject(ht,{metaTokens:!0,dots:!1,indexes:!1},!1,function(Xt,Kt){return!utils$1.isUndefined(Kt[Xt])});const vt=ht.metaTokens,At=ht.visitor||_t,St=ht.dots,Ct=ht.indexes,Ft=(ht.Blob||typeof Blob<"u"&&Blob)&&utils$1.isSpecCompliantForm($);if(!utils$1.isFunction(At))throw new TypeError("visitor must be a function");function wt(Pt){if(Pt===null)return"";if(utils$1.isDate(Pt))return Pt.toISOString();if(!Ft&&utils$1.isBlob(Pt))throw new AxiosError("Blob is not supported. Use a Buffer instead.");return utils$1.isArrayBuffer(Pt)||utils$1.isTypedArray(Pt)?Ft&&typeof Blob=="function"?new Blob([Pt]):Buffer.from(Pt):Pt}function _t(Pt,Xt,Kt){let Nt=Pt;if(Pt&&!Kt&&typeof Pt=="object"){if(utils$1.endsWith(Xt,"{}"))Xt=vt?Xt:Xt.slice(0,-2),Pt=JSON.stringify(Pt);else if(utils$1.isArray(Pt)&&isFlatArray(Pt)||(utils$1.isFileList(Pt)||utils$1.endsWith(Xt,"[]"))&&(Nt=utils$1.toArray(Pt)))return Xt=removeBrackets(Xt),Nt.forEach(function(Lt,jt){!(utils$1.isUndefined(Lt)||Lt===null)&&$.append(Ct===!0?renderKey([Xt],jt,St):Ct===null?Xt:Xt+"[]",wt(Lt))}),!1}return isVisitable(Pt)?!0:($.append(renderKey(Kt,Xt,St),wt(Pt)),!1)}const Rt=[],_e=Object.assign(predicates,{defaultVisitor:_t,convertValue:wt,isVisitable});function bt(Pt,Xt){if(!utils$1.isUndefined(Pt)){if(Rt.indexOf(Pt)!==-1)throw Error("Circular reference detected in "+Xt.join("."));Rt.push(Pt),utils$1.forEach(Pt,function(Nt,$t){(!(utils$1.isUndefined(Nt)||Nt===null)&&At.call($,Nt,utils$1.isString($t)?$t.trim():$t,Xt,_e))===!0&&bt(Nt,Xt?Xt.concat($t):[$t])}),Rt.pop()}}if(!utils$1.isObject(xt))throw new TypeError("data must be an object");return bt(xt),$}function encode$1(xt){const $={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(xt).replace(/[!'()~]|%20|%00/g,function(vt){return $[vt]})}function AxiosURLSearchParams(xt,$){this._pairs=[],xt&&toFormData(xt,this,$)}const prototype=AxiosURLSearchParams.prototype;prototype.append=function($,ht){this._pairs.push([$,ht])};prototype.toString=function($){const ht=$?function(vt){return $.call(this,vt,encode$1)}:encode$1;return this._pairs.map(function(At){return ht(At[0])+"="+ht(At[1])},"").join("&")};function encode(xt){return encodeURIComponent(xt).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function buildURL(xt,$,ht){if(!$)return xt;const vt=ht&&ht.encode||encode,At=ht&&ht.serialize;let St;if(At?St=At($,ht):St=utils$1.isURLSearchParams($)?$.toString():new AxiosURLSearchParams($,ht).toString(vt),St){const Ct=xt.indexOf("#");Ct!==-1&&(xt=xt.slice(0,Ct)),xt+=(xt.indexOf("?")===-1?"?":"&")+St}return xt}class InterceptorManager{constructor(){this.handlers=[]}use($,ht,vt){return this.handlers.push({fulfilled:$,rejected:ht,synchronous:vt?vt.synchronous:!1,runWhen:vt?vt.runWhen:null}),this.handlers.length-1}eject($){this.handlers[$]&&(this.handlers[$]=null)}clear(){this.handlers&&(this.handlers=[])}forEach($){utils$1.forEach(this.handlers,function(vt){vt!==null&&$(vt)})}}const transitionalDefaults={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},URLSearchParams$1=typeof URLSearchParams<"u"?URLSearchParams:AxiosURLSearchParams,FormData$1=typeof FormData<"u"?FormData:null,Blob$1=typeof Blob<"u"?Blob:null,platform$1={isBrowser:!0,classes:{URLSearchParams:URLSearchParams$1,FormData:FormData$1,Blob:Blob$1},protocols:["http","https","file","blob","url","data"]},hasBrowserEnv=typeof window<"u"&&typeof document<"u",hasStandardBrowserEnv=(xt=>hasBrowserEnv&&["ReactNative","NativeScript","NS"].indexOf(xt)<0)(typeof navigator<"u"&&navigator.product),hasStandardBrowserWebWorkerEnv=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",origin=hasBrowserEnv&&window.location.href||"http://localhost",utils=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv,hasStandardBrowserEnv,hasStandardBrowserWebWorkerEnv,origin},Symbol.toStringTag,{value:"Module"})),platform={...utils,...platform$1};function toURLEncodedForm(xt,$){return toFormData(xt,new platform.classes.URLSearchParams,Object.assign({visitor:function(ht,vt,At,St){return platform.isNode&&utils$1.isBuffer(ht)?(this.append(vt,ht.toString("base64")),!1):St.defaultVisitor.apply(this,arguments)}},$))}function parsePropPath(xt){return utils$1.matchAll(/\w+|\[(\w*)]/g,xt).map($=>$[0]==="[]"?"":$[1]||$[0])}function arrayToObject(xt){const $={},ht=Object.keys(xt);let vt;const At=ht.length;let St;for(vt=0;vt<At;vt++)St=ht[vt],$[St]=xt[St];return $}function formDataToJSON(xt){function $(ht,vt,At,St){let Ct=ht[St++];if(Ct==="__proto__")return!0;const Et=Number.isFinite(+Ct),Ft=St>=ht.length;return Ct=!Ct&&utils$1.isArray(At)?At.length:Ct,Ft?(utils$1.hasOwnProp(At,Ct)?At[Ct]=[At[Ct],vt]:At[Ct]=vt,!Et):((!At[Ct]||!utils$1.isObject(At[Ct]))&&(At[Ct]=[]),$(ht,vt,At[Ct],St)&&utils$1.isArray(At[Ct])&&(At[Ct]=arrayToObject(At[Ct])),!Et)}if(utils$1.isFormData(xt)&&utils$1.isFunction(xt.entries)){const ht={};return utils$1.forEachEntry(xt,(vt,At)=>{$(parsePropPath(vt),At,ht,0)}),ht}return null}function stringifySafely(xt,$,ht){if(utils$1.isString(xt))try{return($||JSON.parse)(xt),utils$1.trim(xt)}catch(vt){if(vt.name!=="SyntaxError")throw vt}return(ht||JSON.stringify)(xt)}const defaults={transitional:transitionalDefaults,adapter:["xhr","http","fetch"],transformRequest:[function($,ht){const vt=ht.getContentType()||"",At=vt.indexOf("application/json")>-1,St=utils$1.isObject($);if(St&&utils$1.isHTMLForm($)&&($=new FormData($)),utils$1.isFormData($))return At?JSON.stringify(formDataToJSON($)):$;if(utils$1.isArrayBuffer($)||utils$1.isBuffer($)||utils$1.isStream($)||utils$1.isFile($)||utils$1.isBlob($)||utils$1.isReadableStream($))return $;if(utils$1.isArrayBufferView($))return $.buffer;if(utils$1.isURLSearchParams($))return ht.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),$.toString();let Et;if(St){if(vt.indexOf("application/x-www-form-urlencoded")>-1)return toURLEncodedForm($,this.formSerializer).toString();if((Et=utils$1.isFileList($))||vt.indexOf("multipart/form-data")>-1){const Ft=this.env&&this.env.FormData;return toFormData(Et?{"files[]":$}:$,Ft&&new Ft,this.formSerializer)}}return St||At?(ht.setContentType("application/json",!1),stringifySafely($)):$}],transformResponse:[function($){const ht=this.transitional||defaults.transitional,vt=ht&&ht.forcedJSONParsing,At=this.responseType==="json";if(utils$1.isResponse($)||utils$1.isReadableStream($))return $;if($&&utils$1.isString($)&&(vt&&!this.responseType||At)){const Ct=!(ht&&ht.silentJSONParsing)&&At;try{return JSON.parse($)}catch(Et){if(Ct)throw Et.name==="SyntaxError"?AxiosError.from(Et,AxiosError.ERR_BAD_RESPONSE,this,null,this.response):Et}}return $}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:platform.classes.FormData,Blob:platform.classes.Blob},validateStatus:function($){return $>=200&&$<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};utils$1.forEach(["delete","get","head","post","put","patch"],xt=>{defaults.headers[xt]={}});const ignoreDuplicateOf=utils$1.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),parseHeaders=xt=>{const $={};let ht,vt,At;return xt&&xt.split(`
`).forEach(function(Ct){At=Ct.indexOf(":"),ht=Ct.substring(0,At).trim().toLowerCase(),vt=Ct.substring(At+1).trim(),!(!ht||$[ht]&&ignoreDuplicateOf[ht])&&(ht==="set-cookie"?$[ht]?$[ht].push(vt):$[ht]=[vt]:$[ht]=$[ht]?$[ht]+", "+vt:vt)}),$},$internals=Symbol("internals");function normalizeHeader(xt){return xt&&String(xt).trim().toLowerCase()}function normalizeValue(xt){return xt===!1||xt==null?xt:utils$1.isArray(xt)?xt.map(normalizeValue):String(xt)}function parseTokens(xt){const $=Object.create(null),ht=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let vt;for(;vt=ht.exec(xt);)$[vt[1]]=vt[2];return $}const isValidHeaderName=xt=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(xt.trim());function matchHeaderValue(xt,$,ht,vt,At){if(utils$1.isFunction(vt))return vt.call(this,$,ht);if(At&&($=ht),!!utils$1.isString($)){if(utils$1.isString(vt))return $.indexOf(vt)!==-1;if(utils$1.isRegExp(vt))return vt.test($)}}function formatHeader(xt){return xt.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,($,ht,vt)=>ht.toUpperCase()+vt)}function buildAccessors(xt,$){const ht=utils$1.toCamelCase(" "+$);["get","set","has"].forEach(vt=>{Object.defineProperty(xt,vt+ht,{value:function(At,St,Ct){return this[vt].call(this,$,At,St,Ct)},configurable:!0})})}class AxiosHeaders{constructor($){$&&this.set($)}set($,ht,vt){const At=this;function St(Et,Ft,wt){const _t=normalizeHeader(Ft);if(!_t)throw new Error("header name must be a non-empty string");const Rt=utils$1.findKey(At,_t);(!Rt||At[Rt]===void 0||wt===!0||wt===void 0&&At[Rt]!==!1)&&(At[Rt||Ft]=normalizeValue(Et))}const Ct=(Et,Ft)=>utils$1.forEach(Et,(wt,_t)=>St(wt,_t,Ft));if(utils$1.isPlainObject($)||$ instanceof this.constructor)Ct($,ht);else if(utils$1.isString($)&&($=$.trim())&&!isValidHeaderName($))Ct(parseHeaders($),ht);else if(utils$1.isHeaders($))for(const[Et,Ft]of $.entries())St(Ft,Et,vt);else $!=null&&St(ht,$,vt);return this}get($,ht){if($=normalizeHeader($),$){const vt=utils$1.findKey(this,$);if(vt){const At=this[vt];if(!ht)return At;if(ht===!0)return parseTokens(At);if(utils$1.isFunction(ht))return ht.call(this,At,vt);if(utils$1.isRegExp(ht))return ht.exec(At);throw new TypeError("parser must be boolean|regexp|function")}}}has($,ht){if($=normalizeHeader($),$){const vt=utils$1.findKey(this,$);return!!(vt&&this[vt]!==void 0&&(!ht||matchHeaderValue(this,this[vt],vt,ht)))}return!1}delete($,ht){const vt=this;let At=!1;function St(Ct){if(Ct=normalizeHeader(Ct),Ct){const Et=utils$1.findKey(vt,Ct);Et&&(!ht||matchHeaderValue(vt,vt[Et],Et,ht))&&(delete vt[Et],At=!0)}}return utils$1.isArray($)?$.forEach(St):St($),At}clear($){const ht=Object.keys(this);let vt=ht.length,At=!1;for(;vt--;){const St=ht[vt];(!$||matchHeaderValue(this,this[St],St,$,!0))&&(delete this[St],At=!0)}return At}normalize($){const ht=this,vt={};return utils$1.forEach(this,(At,St)=>{const Ct=utils$1.findKey(vt,St);if(Ct){ht[Ct]=normalizeValue(At),delete ht[St];return}const Et=$?formatHeader(St):String(St).trim();Et!==St&&delete ht[St],ht[Et]=normalizeValue(At),vt[Et]=!0}),this}concat(...$){return this.constructor.concat(this,...$)}toJSON($){const ht=Object.create(null);return utils$1.forEach(this,(vt,At)=>{vt!=null&&vt!==!1&&(ht[At]=$&&utils$1.isArray(vt)?vt.join(", "):vt)}),ht}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([$,ht])=>$+": "+ht).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from($){return $ instanceof this?$:new this($)}static concat($,...ht){const vt=new this($);return ht.forEach(At=>vt.set(At)),vt}static accessor($){const vt=(this[$internals]=this[$internals]={accessors:{}}).accessors,At=this.prototype;function St(Ct){const Et=normalizeHeader(Ct);vt[Et]||(buildAccessors(At,Ct),vt[Et]=!0)}return utils$1.isArray($)?$.forEach(St):St($),this}}AxiosHeaders.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);utils$1.reduceDescriptors(AxiosHeaders.prototype,({value:xt},$)=>{let ht=$[0].toUpperCase()+$.slice(1);return{get:()=>xt,set(vt){this[ht]=vt}}});utils$1.freezeMethods(AxiosHeaders);function transformData(xt,$){const ht=this||defaults,vt=$||ht,At=AxiosHeaders.from(vt.headers);let St=vt.data;return utils$1.forEach(xt,function(Et){St=Et.call(ht,St,At.normalize(),$?$.status:void 0)}),At.normalize(),St}function isCancel(xt){return!!(xt&&xt.__CANCEL__)}function CanceledError(xt,$,ht){AxiosError.call(this,xt??"canceled",AxiosError.ERR_CANCELED,$,ht),this.name="CanceledError"}utils$1.inherits(CanceledError,AxiosError,{__CANCEL__:!0});function settle(xt,$,ht){const vt=ht.config.validateStatus;!ht.status||!vt||vt(ht.status)?xt(ht):$(new AxiosError("Request failed with status code "+ht.status,[AxiosError.ERR_BAD_REQUEST,AxiosError.ERR_BAD_RESPONSE][Math.floor(ht.status/100)-4],ht.config,ht.request,ht))}function parseProtocol(xt){const $=/^([-+\w]{1,25})(:?\/\/|:)/.exec(xt);return $&&$[1]||""}function speedometer(xt,$){xt=xt||10;const ht=new Array(xt),vt=new Array(xt);let At=0,St=0,Ct;return $=$!==void 0?$:1e3,function(Ft){const wt=Date.now(),_t=vt[St];Ct||(Ct=wt),ht[At]=Ft,vt[At]=wt;let Rt=St,_e=0;for(;Rt!==At;)_e+=ht[Rt++],Rt=Rt%xt;if(At=(At+1)%xt,At===St&&(St=(St+1)%xt),wt-Ct<$)return;const bt=_t&&wt-_t;return bt?Math.round(_e*1e3/bt):void 0}}function throttle(xt,$){let ht=0;const vt=1e3/$;let At=null;return function(){const Ct=this===!0,Et=Date.now();if(Ct||Et-ht>vt)return At&&(clearTimeout(At),At=null),ht=Et,xt.apply(null,arguments);At||(At=setTimeout(()=>(At=null,ht=Date.now(),xt.apply(null,arguments)),vt-(Et-ht)))}}const progressEventReducer=(xt,$,ht=3)=>{let vt=0;const At=speedometer(50,250);return throttle(St=>{const Ct=St.loaded,Et=St.lengthComputable?St.total:void 0,Ft=Ct-vt,wt=At(Ft),_t=Ct<=Et;vt=Ct;const Rt={loaded:Ct,total:Et,progress:Et?Ct/Et:void 0,bytes:Ft,rate:wt||void 0,estimated:wt&&Et&&_t?(Et-Ct)/wt:void 0,event:St,lengthComputable:Et!=null};Rt[$?"download":"upload"]=!0,xt(Rt)},ht)},isURLSameOrigin=platform.hasStandardBrowserEnv?function(){const $=/(msie|trident)/i.test(navigator.userAgent),ht=document.createElement("a");let vt;function At(St){let Ct=St;return $&&(ht.setAttribute("href",Ct),Ct=ht.href),ht.setAttribute("href",Ct),{href:ht.href,protocol:ht.protocol?ht.protocol.replace(/:$/,""):"",host:ht.host,search:ht.search?ht.search.replace(/^\?/,""):"",hash:ht.hash?ht.hash.replace(/^#/,""):"",hostname:ht.hostname,port:ht.port,pathname:ht.pathname.charAt(0)==="/"?ht.pathname:"/"+ht.pathname}}return vt=At(window.location.href),function(Ct){const Et=utils$1.isString(Ct)?At(Ct):Ct;return Et.protocol===vt.protocol&&Et.host===vt.host}}():function(){return function(){return!0}}(),cookies=platform.hasStandardBrowserEnv?{write(xt,$,ht,vt,At,St){const Ct=[xt+"="+encodeURIComponent($)];utils$1.isNumber(ht)&&Ct.push("expires="+new Date(ht).toGMTString()),utils$1.isString(vt)&&Ct.push("path="+vt),utils$1.isString(At)&&Ct.push("domain="+At),St===!0&&Ct.push("secure"),document.cookie=Ct.join("; ")},read(xt){const $=document.cookie.match(new RegExp("(^|;\\s*)("+xt+")=([^;]*)"));return $?decodeURIComponent($[3]):null},remove(xt){this.write(xt,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function isAbsoluteURL(xt){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(xt)}function combineURLs(xt,$){return $?xt.replace(/\/?\/$/,"")+"/"+$.replace(/^\/+/,""):xt}function buildFullPath(xt,$){return xt&&!isAbsoluteURL($)?combineURLs(xt,$):$}const headersToObject=xt=>xt instanceof AxiosHeaders?{...xt}:xt;function mergeConfig(xt,$){$=$||{};const ht={};function vt(wt,_t,Rt){return utils$1.isPlainObject(wt)&&utils$1.isPlainObject(_t)?utils$1.merge.call({caseless:Rt},wt,_t):utils$1.isPlainObject(_t)?utils$1.merge({},_t):utils$1.isArray(_t)?_t.slice():_t}function At(wt,_t,Rt){if(utils$1.isUndefined(_t)){if(!utils$1.isUndefined(wt))return vt(void 0,wt,Rt)}else return vt(wt,_t,Rt)}function St(wt,_t){if(!utils$1.isUndefined(_t))return vt(void 0,_t)}function Ct(wt,_t){if(utils$1.isUndefined(_t)){if(!utils$1.isUndefined(wt))return vt(void 0,wt)}else return vt(void 0,_t)}function Et(wt,_t,Rt){if(Rt in $)return vt(wt,_t);if(Rt in xt)return vt(void 0,wt)}const Ft={url:St,method:St,data:St,baseURL:Ct,transformRequest:Ct,transformResponse:Ct,paramsSerializer:Ct,timeout:Ct,timeoutMessage:Ct,withCredentials:Ct,withXSRFToken:Ct,adapter:Ct,responseType:Ct,xsrfCookieName:Ct,xsrfHeaderName:Ct,onUploadProgress:Ct,onDownloadProgress:Ct,decompress:Ct,maxContentLength:Ct,maxBodyLength:Ct,beforeRedirect:Ct,transport:Ct,httpAgent:Ct,httpsAgent:Ct,cancelToken:Ct,socketPath:Ct,responseEncoding:Ct,validateStatus:Et,headers:(wt,_t)=>At(headersToObject(wt),headersToObject(_t),!0)};return utils$1.forEach(Object.keys(Object.assign({},xt,$)),function(_t){const Rt=Ft[_t]||At,_e=Rt(xt[_t],$[_t],_t);utils$1.isUndefined(_e)&&Rt!==Et||(ht[_t]=_e)}),ht}const resolveConfig=xt=>{const $=mergeConfig({},xt);let{data:ht,withXSRFToken:vt,xsrfHeaderName:At,xsrfCookieName:St,headers:Ct,auth:Et}=$;$.headers=Ct=AxiosHeaders.from(Ct),$.url=buildURL(buildFullPath($.baseURL,$.url),xt.params,xt.paramsSerializer),Et&&Ct.set("Authorization","Basic "+btoa((Et.username||"")+":"+(Et.password?unescape(encodeURIComponent(Et.password)):"")));let Ft;if(utils$1.isFormData(ht)){if(platform.hasStandardBrowserEnv||platform.hasStandardBrowserWebWorkerEnv)Ct.setContentType(void 0);else if((Ft=Ct.getContentType())!==!1){const[wt,..._t]=Ft?Ft.split(";").map(Rt=>Rt.trim()).filter(Boolean):[];Ct.setContentType([wt||"multipart/form-data",..._t].join("; "))}}if(platform.hasStandardBrowserEnv&&(vt&&utils$1.isFunction(vt)&&(vt=vt($)),vt||vt!==!1&&isURLSameOrigin($.url))){const wt=At&&St&&cookies.read(St);wt&&Ct.set(At,wt)}return $},isXHRAdapterSupported=typeof XMLHttpRequest<"u",xhrAdapter=isXHRAdapterSupported&&function(xt){return new Promise(function(ht,vt){const At=resolveConfig(xt);let St=At.data;const Ct=AxiosHeaders.from(At.headers).normalize();let{responseType:Et}=At,Ft;function wt(){At.cancelToken&&At.cancelToken.unsubscribe(Ft),At.signal&&At.signal.removeEventListener("abort",Ft)}let _t=new XMLHttpRequest;_t.open(At.method.toUpperCase(),At.url,!0),_t.timeout=At.timeout;function Rt(){if(!_t)return;const bt=AxiosHeaders.from("getAllResponseHeaders"in _t&&_t.getAllResponseHeaders()),Xt={data:!Et||Et==="text"||Et==="json"?_t.responseText:_t.response,status:_t.status,statusText:_t.statusText,headers:bt,config:xt,request:_t};settle(function(Nt){ht(Nt),wt()},function(Nt){vt(Nt),wt()},Xt),_t=null}"onloadend"in _t?_t.onloadend=Rt:_t.onreadystatechange=function(){!_t||_t.readyState!==4||_t.status===0&&!(_t.responseURL&&_t.responseURL.indexOf("file:")===0)||setTimeout(Rt)},_t.onabort=function(){_t&&(vt(new AxiosError("Request aborted",AxiosError.ECONNABORTED,At,_t)),_t=null)},_t.onerror=function(){vt(new AxiosError("Network Error",AxiosError.ERR_NETWORK,At,_t)),_t=null},_t.ontimeout=function(){let Pt=At.timeout?"timeout of "+At.timeout+"ms exceeded":"timeout exceeded";const Xt=At.transitional||transitionalDefaults;At.timeoutErrorMessage&&(Pt=At.timeoutErrorMessage),vt(new AxiosError(Pt,Xt.clarifyTimeoutError?AxiosError.ETIMEDOUT:AxiosError.ECONNABORTED,At,_t)),_t=null},St===void 0&&Ct.setContentType(null),"setRequestHeader"in _t&&utils$1.forEach(Ct.toJSON(),function(Pt,Xt){_t.setRequestHeader(Xt,Pt)}),utils$1.isUndefined(At.withCredentials)||(_t.withCredentials=!!At.withCredentials),Et&&Et!=="json"&&(_t.responseType=At.responseType),typeof At.onDownloadProgress=="function"&&_t.addEventListener("progress",progressEventReducer(At.onDownloadProgress,!0)),typeof At.onUploadProgress=="function"&&_t.upload&&_t.upload.addEventListener("progress",progressEventReducer(At.onUploadProgress)),(At.cancelToken||At.signal)&&(Ft=bt=>{_t&&(vt(!bt||bt.type?new CanceledError(null,xt,_t):bt),_t.abort(),_t=null)},At.cancelToken&&At.cancelToken.subscribe(Ft),At.signal&&(At.signal.aborted?Ft():At.signal.addEventListener("abort",Ft)));const _e=parseProtocol(At.url);if(_e&&platform.protocols.indexOf(_e)===-1){vt(new AxiosError("Unsupported protocol "+_e+":",AxiosError.ERR_BAD_REQUEST,xt));return}_t.send(St||null)})},composeSignals=(xt,$)=>{let ht=new AbortController,vt;const At=function(Ft){if(!vt){vt=!0,Ct();const wt=Ft instanceof Error?Ft:this.reason;ht.abort(wt instanceof AxiosError?wt:new CanceledError(wt instanceof Error?wt.message:wt))}};let St=$&&setTimeout(()=>{At(new AxiosError(`timeout ${$} of ms exceeded`,AxiosError.ETIMEDOUT))},$);const Ct=()=>{xt&&(St&&clearTimeout(St),St=null,xt.forEach(Ft=>{Ft&&(Ft.removeEventListener?Ft.removeEventListener("abort",At):Ft.unsubscribe(At))}),xt=null)};xt.forEach(Ft=>Ft&&Ft.addEventListener&&Ft.addEventListener("abort",At));const{signal:Et}=ht;return Et.unsubscribe=Ct,[Et,()=>{St&&clearTimeout(St),St=null}]},streamChunk=function*(xt,$){let ht=xt.byteLength;if(!$||ht<$){yield xt;return}let vt=0,At;for(;vt<ht;)At=vt+$,yield xt.slice(vt,At),vt=At},readBytes=async function*(xt,$,ht){for await(const vt of xt)yield*streamChunk(ArrayBuffer.isView(vt)?vt:await ht(String(vt)),$)},trackStream=(xt,$,ht,vt,At)=>{const St=readBytes(xt,$,At);let Ct=0;return new ReadableStream({type:"bytes",async pull(Et){const{done:Ft,value:wt}=await St.next();if(Ft){Et.close(),vt();return}let _t=wt.byteLength;ht&&ht(Ct+=_t),Et.enqueue(new Uint8Array(wt))},cancel(Et){return vt(Et),St.return()}},{highWaterMark:2})},fetchProgressDecorator=(xt,$)=>{const ht=xt!=null;return vt=>setTimeout(()=>$({lengthComputable:ht,total:xt,loaded:vt}))},isFetchSupported=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",isReadableStreamSupported=isFetchSupported&&typeof ReadableStream=="function",encodeText=isFetchSupported&&(typeof TextEncoder=="function"?(xt=>$=>xt.encode($))(new TextEncoder):async xt=>new Uint8Array(await new Response(xt).arrayBuffer())),supportsRequestStream=isReadableStreamSupported&&(()=>{let xt=!1;const $=new Request(platform.origin,{body:new ReadableStream,method:"POST",get duplex(){return xt=!0,"half"}}).headers.has("Content-Type");return xt&&!$})(),DEFAULT_CHUNK_SIZE=64*1024,supportsResponseStream=isReadableStreamSupported&&!!(()=>{try{return utils$1.isReadableStream(new Response("").body)}catch{}})(),resolvers={stream:supportsResponseStream&&(xt=>xt.body)};isFetchSupported&&(xt=>{["text","arrayBuffer","blob","formData","stream"].forEach($=>{!resolvers[$]&&(resolvers[$]=utils$1.isFunction(xt[$])?ht=>ht[$]():(ht,vt)=>{throw new AxiosError(`Response type '${$}' is not supported`,AxiosError.ERR_NOT_SUPPORT,vt)})})})(new Response);const getBodyLength=async xt=>{if(xt==null)return 0;if(utils$1.isBlob(xt))return xt.size;if(utils$1.isSpecCompliantForm(xt))return(await new Request(xt).arrayBuffer()).byteLength;if(utils$1.isArrayBufferView(xt))return xt.byteLength;if(utils$1.isURLSearchParams(xt)&&(xt=xt+""),utils$1.isString(xt))return(await encodeText(xt)).byteLength},resolveBodyLength=async(xt,$)=>{const ht=utils$1.toFiniteNumber(xt.getContentLength());return ht??getBodyLength($)},fetchAdapter=isFetchSupported&&(async xt=>{let{url:$,method:ht,data:vt,signal:At,cancelToken:St,timeout:Ct,onDownloadProgress:Et,onUploadProgress:Ft,responseType:wt,headers:_t,withCredentials:Rt="same-origin",fetchOptions:_e}=resolveConfig(xt);wt=wt?(wt+"").toLowerCase():"text";let[bt,Pt]=At||St||Ct?composeSignals([At,St],Ct):[],Xt,Kt;const Nt=()=>{!Xt&&setTimeout(()=>{bt&&bt.unsubscribe()}),Xt=!0};let $t;try{if(Ft&&supportsRequestStream&&ht!=="get"&&ht!=="head"&&($t=await resolveBodyLength(_t,vt))!==0){let qt=new Request($,{method:"POST",body:vt,duplex:"half"}),Bt;utils$1.isFormData(vt)&&(Bt=qt.headers.get("content-type"))&&_t.setContentType(Bt),qt.body&&(vt=trackStream(qt.body,DEFAULT_CHUNK_SIZE,fetchProgressDecorator($t,progressEventReducer(Ft)),null,encodeText))}utils$1.isString(Rt)||(Rt=Rt?"cors":"omit"),Kt=new Request($,{..._e,signal:bt,method:ht.toUpperCase(),headers:_t.normalize().toJSON(),body:vt,duplex:"half",withCredentials:Rt});let Lt=await fetch(Kt);const jt=supportsResponseStream&&(wt==="stream"||wt==="response");if(supportsResponseStream&&(Et||jt)){const qt={};["status","statusText","headers"].forEach(Gt=>{qt[Gt]=Lt[Gt]});const Bt=utils$1.toFiniteNumber(Lt.headers.get("content-length"));Lt=new Response(trackStream(Lt.body,DEFAULT_CHUNK_SIZE,Et&&fetchProgressDecorator(Bt,progressEventReducer(Et,!0)),jt&&Nt,encodeText),qt)}wt=wt||"text";let kt=await resolvers[utils$1.findKey(resolvers,wt)||"text"](Lt,xt);return!jt&&Nt(),Pt&&Pt(),await new Promise((qt,Bt)=>{settle(qt,Bt,{data:kt,headers:AxiosHeaders.from(Lt.headers),status:Lt.status,statusText:Lt.statusText,config:xt,request:Kt})})}catch(Lt){throw Nt(),Lt&&Lt.name==="TypeError"&&/fetch/i.test(Lt.message)?Object.assign(new AxiosError("Network Error",AxiosError.ERR_NETWORK,xt,Kt),{cause:Lt.cause||Lt}):AxiosError.from(Lt,Lt&&Lt.code,xt,Kt)}}),knownAdapters={http:httpAdapter,xhr:xhrAdapter,fetch:fetchAdapter};utils$1.forEach(knownAdapters,(xt,$)=>{if(xt){try{Object.defineProperty(xt,"name",{value:$})}catch{}Object.defineProperty(xt,"adapterName",{value:$})}});const renderReason=xt=>`- ${xt}`,isResolvedHandle=xt=>utils$1.isFunction(xt)||xt===null||xt===!1,adapters={getAdapter:xt=>{xt=utils$1.isArray(xt)?xt:[xt];const{length:$}=xt;let ht,vt;const At={};for(let St=0;St<$;St++){ht=xt[St];let Ct;if(vt=ht,!isResolvedHandle(ht)&&(vt=knownAdapters[(Ct=String(ht)).toLowerCase()],vt===void 0))throw new AxiosError(`Unknown adapter '${Ct}'`);if(vt)break;At[Ct||"#"+St]=vt}if(!vt){const St=Object.entries(At).map(([Et,Ft])=>`adapter ${Et} `+(Ft===!1?"is not supported by the environment":"is not available in the build"));let Ct=$?St.length>1?`since :
`+St.map(renderReason).join(`
`):" "+renderReason(St[0]):"as no adapter specified";throw new AxiosError("There is no suitable adapter to dispatch the request "+Ct,"ERR_NOT_SUPPORT")}return vt},adapters:knownAdapters};function throwIfCancellationRequested(xt){if(xt.cancelToken&&xt.cancelToken.throwIfRequested(),xt.signal&&xt.signal.aborted)throw new CanceledError(null,xt)}function dispatchRequest(xt){return throwIfCancellationRequested(xt),xt.headers=AxiosHeaders.from(xt.headers),xt.data=transformData.call(xt,xt.transformRequest),["post","put","patch"].indexOf(xt.method)!==-1&&xt.headers.setContentType("application/x-www-form-urlencoded",!1),adapters.getAdapter(xt.adapter||defaults.adapter)(xt).then(function(vt){return throwIfCancellationRequested(xt),vt.data=transformData.call(xt,xt.transformResponse,vt),vt.headers=AxiosHeaders.from(vt.headers),vt},function(vt){return isCancel(vt)||(throwIfCancellationRequested(xt),vt&&vt.response&&(vt.response.data=transformData.call(xt,xt.transformResponse,vt.response),vt.response.headers=AxiosHeaders.from(vt.response.headers))),Promise.reject(vt)})}const VERSION="1.7.2",validators$1={};["object","boolean","number","function","string","symbol"].forEach((xt,$)=>{validators$1[xt]=function(vt){return typeof vt===xt||"a"+($<1?"n ":" ")+xt}});const deprecatedWarnings={};validators$1.transitional=function($,ht,vt){function At(St,Ct){return"[Axios v"+VERSION+"] Transitional option '"+St+"'"+Ct+(vt?". "+vt:"")}return(St,Ct,Et)=>{if($===!1)throw new AxiosError(At(Ct," has been removed"+(ht?" in "+ht:"")),AxiosError.ERR_DEPRECATED);return ht&&!deprecatedWarnings[Ct]&&(deprecatedWarnings[Ct]=!0,console.warn(At(Ct," has been deprecated since v"+ht+" and will be removed in the near future"))),$?$(St,Ct,Et):!0}};function assertOptions(xt,$,ht){if(typeof xt!="object")throw new AxiosError("options must be an object",AxiosError.ERR_BAD_OPTION_VALUE);const vt=Object.keys(xt);let At=vt.length;for(;At-- >0;){const St=vt[At],Ct=$[St];if(Ct){const Et=xt[St],Ft=Et===void 0||Ct(Et,St,xt);if(Ft!==!0)throw new AxiosError("option "+St+" must be "+Ft,AxiosError.ERR_BAD_OPTION_VALUE);continue}if(ht!==!0)throw new AxiosError("Unknown option "+St,AxiosError.ERR_BAD_OPTION)}}const validator={assertOptions,validators:validators$1},validators=validator.validators;class Axios{constructor($){this.defaults=$,this.interceptors={request:new InterceptorManager,response:new InterceptorManager}}async request($,ht){try{return await this._request($,ht)}catch(vt){if(vt instanceof Error){let At;Error.captureStackTrace?Error.captureStackTrace(At={}):At=new Error;const St=At.stack?At.stack.replace(/^.+\n/,""):"";try{vt.stack?St&&!String(vt.stack).endsWith(St.replace(/^.+\n.+\n/,""))&&(vt.stack+=`
`+St):vt.stack=St}catch{}}throw vt}}_request($,ht){typeof $=="string"?(ht=ht||{},ht.url=$):ht=$||{},ht=mergeConfig(this.defaults,ht);const{transitional:vt,paramsSerializer:At,headers:St}=ht;vt!==void 0&&validator.assertOptions(vt,{silentJSONParsing:validators.transitional(validators.boolean),forcedJSONParsing:validators.transitional(validators.boolean),clarifyTimeoutError:validators.transitional(validators.boolean)},!1),At!=null&&(utils$1.isFunction(At)?ht.paramsSerializer={serialize:At}:validator.assertOptions(At,{encode:validators.function,serialize:validators.function},!0)),ht.method=(ht.method||this.defaults.method||"get").toLowerCase();let Ct=St&&utils$1.merge(St.common,St[ht.method]);St&&utils$1.forEach(["delete","get","head","post","put","patch","common"],Pt=>{delete St[Pt]}),ht.headers=AxiosHeaders.concat(Ct,St);const Et=[];let Ft=!0;this.interceptors.request.forEach(function(Xt){typeof Xt.runWhen=="function"&&Xt.runWhen(ht)===!1||(Ft=Ft&&Xt.synchronous,Et.unshift(Xt.fulfilled,Xt.rejected))});const wt=[];this.interceptors.response.forEach(function(Xt){wt.push(Xt.fulfilled,Xt.rejected)});let _t,Rt=0,_e;if(!Ft){const Pt=[dispatchRequest.bind(this),void 0];for(Pt.unshift.apply(Pt,Et),Pt.push.apply(Pt,wt),_e=Pt.length,_t=Promise.resolve(ht);Rt<_e;)_t=_t.then(Pt[Rt++],Pt[Rt++]);return _t}_e=Et.length;let bt=ht;for(Rt=0;Rt<_e;){const Pt=Et[Rt++],Xt=Et[Rt++];try{bt=Pt(bt)}catch(Kt){Xt.call(this,Kt);break}}try{_t=dispatchRequest.call(this,bt)}catch(Pt){return Promise.reject(Pt)}for(Rt=0,_e=wt.length;Rt<_e;)_t=_t.then(wt[Rt++],wt[Rt++]);return _t}getUri($){$=mergeConfig(this.defaults,$);const ht=buildFullPath($.baseURL,$.url);return buildURL(ht,$.params,$.paramsSerializer)}}utils$1.forEach(["delete","get","head","options"],function($){Axios.prototype[$]=function(ht,vt){return this.request(mergeConfig(vt||{},{method:$,url:ht,data:(vt||{}).data}))}});utils$1.forEach(["post","put","patch"],function($){function ht(vt){return function(St,Ct,Et){return this.request(mergeConfig(Et||{},{method:$,headers:vt?{"Content-Type":"multipart/form-data"}:{},url:St,data:Ct}))}}Axios.prototype[$]=ht(),Axios.prototype[$+"Form"]=ht(!0)});class CancelToken{constructor($){if(typeof $!="function")throw new TypeError("executor must be a function.");let ht;this.promise=new Promise(function(St){ht=St});const vt=this;this.promise.then(At=>{if(!vt._listeners)return;let St=vt._listeners.length;for(;St-- >0;)vt._listeners[St](At);vt._listeners=null}),this.promise.then=At=>{let St;const Ct=new Promise(Et=>{vt.subscribe(Et),St=Et}).then(At);return Ct.cancel=function(){vt.unsubscribe(St)},Ct},$(function(St,Ct,Et){vt.reason||(vt.reason=new CanceledError(St,Ct,Et),ht(vt.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe($){if(this.reason){$(this.reason);return}this._listeners?this._listeners.push($):this._listeners=[$]}unsubscribe($){if(!this._listeners)return;const ht=this._listeners.indexOf($);ht!==-1&&this._listeners.splice(ht,1)}static source(){let $;return{token:new CancelToken(function(At){$=At}),cancel:$}}}function spread(xt){return function(ht){return xt.apply(null,ht)}}function isAxiosError(xt){return utils$1.isObject(xt)&&xt.isAxiosError===!0}const HttpStatusCode={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(HttpStatusCode).forEach(([xt,$])=>{HttpStatusCode[$]=xt});function createInstance(xt){const $=new Axios(xt),ht=bind(Axios.prototype.request,$);return utils$1.extend(ht,Axios.prototype,$,{allOwnKeys:!0}),utils$1.extend(ht,$,null,{allOwnKeys:!0}),ht.create=function(At){return createInstance(mergeConfig(xt,At))},ht}const axios=createInstance(defaults);axios.Axios=Axios;axios.CanceledError=CanceledError;axios.CancelToken=CancelToken;axios.isCancel=isCancel;axios.VERSION=VERSION;axios.toFormData=toFormData;axios.AxiosError=AxiosError;axios.Cancel=axios.CanceledError;axios.all=function($){return Promise.all($)};axios.spread=spread;axios.isAxiosError=isAxiosError;axios.mergeConfig=mergeConfig;axios.AxiosHeaders=AxiosHeaders;axios.formToJSON=xt=>formDataToJSON(utils$1.isHTMLForm(xt)?new FormData(xt):xt);axios.getAdapter=adapters.getAdapter;axios.HttpStatusCode=HttpStatusCode;axios.default=axios;function List(xt){const[$,ht]=reactExports.useState(!1),[vt,At]=reactExports.useState(!1),St=useNavigate(),[Ct,Et]=reactExports.useState([]),[Ft,wt]=reactExports.useState(xt.isDoctor),_t=_e=>{const bt=new Date,Pt=new Date(_e);let Xt=bt.getFullYear()-Pt.getFullYear();const Kt=bt.getMonth()-Pt.getMonth();return(Kt<0||Kt===0&&bt.getDate()<Pt.getDate())&&Xt--,Xt};async function Rt(){const _e=await axios.get("en/getpatients");Et(_e.data),xt.setNoofPatients(_e.data.length)}return reactExports.useEffect(()=>{Rt()},[]),_t("2004-06-05T18:30:00.000Z"),jsxRuntimeExports.jsxs("div",{className:"layout-content-container flex flex-col max-w-[920px] flex-1",children:[jsxRuntimeExports.jsx("div",{className:"flex flex-wrap justify-between gap-3 p-4",children:jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-end w-full",children:[jsxRuntimeExports.jsx("p",{className:"text-[#0e141b] tracking-light text-[32px] font-bold leading-tight min-w-72",children:"Patients"}),jsxRuntimeExports.jsx("div",{className:`${Ft?"hidden":"flex"}`,children:jsxRuntimeExports.jsx(Dropdown,{editPatients:$,setEditPatients:ht,deletePatients:vt,setDeletePatients:At})})]})}),jsxRuntimeExports.jsx("div",{className:"px-4 py-3",children:jsxRuntimeExports.jsx("label",{className:"flex flex-col min-w-40 h-12 w-full",children:jsxRuntimeExports.jsxs("div",{className:"flex w-full flex-1 items-stretch rounded-xl h-full",children:[jsxRuntimeExports.jsx("div",{className:"text-[#4f7396] flex border-none bg-[#e8edf3] items-center justify-center pl-4 rounded-l-xl border-r-0","data-icon":"MagnifyingGlass","data-size":"24px","data-weight":"regular",children:jsxRuntimeExports.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24px",height:"24px",fill:"currentColor",viewBox:"0 0 256 256",children:jsxRuntimeExports.jsx("path",{d:"M229.66,218.34l-50.07-50.06a88.11,88.11,0,1,0-11.31,11.31l50.06,50.07a8,8,0,0,0,11.32-11.32ZM40,112a72,72,0,1,1,72,72A72.08,72.08,0,0,1,40,112Z"})})}),jsxRuntimeExports.jsx("input",{placeholder:"Search patients",className:"form-input flex w-full min-w-0 flex-1 resize-none overflow-hidden rounded-xl text-[#0e141b] focus:outline-0 focus:ring-0 border-none bg-[#e8edf3] focus:border-none h-full placeholder:text-[#4f7396] px-4 rounded-l-none border-l-0 pl-2 text-base font-normal leading-normal"})]})})}),Ct.map((_e,bt)=>jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-4 bg-[#f8fafb] px-4 min-h-[72px] py-2 transition-all duration-300 ease-in-out hover:bg-[#e2e8f0] cursor-pointer rounded-xl ",onClick:()=>St("/patient",{state:{id:_e._id}}),children:[jsxRuntimeExports.jsx("div",{className:"bg-center bg-no-repeat aspect-square bg-cover rounded-full h-14 w-fit transform",style:{backgroundImage:""}}),jsxRuntimeExports.jsxs("div",{className:"flex flex-col justify-center",children:[jsxRuntimeExports.jsx("p",{className:"text-[#0e141b] text-base font-medium leading-normal line-clamp-1",children:_e.name}),jsxRuntimeExports.jsxs("p",{className:"text-[#4f7396] text-sm font-normal leading-normal line-clamp-2",children:["Age: ",_t(_e.DOB),", Gender: ",_e.gender]})]}),jsxRuntimeExports.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:`size-6 self-start mt-4 ml-auto mb-2 ${$?"block":"hidden"} `,children:[jsxRuntimeExports.jsx("path",{d:"M21.731 2.269a2.625 2.625 0 0 0-3.712 0l-1.157 1.157 3.712 3.712 1.157-1.157a2.625 2.625 0 0 0 0-3.712ZM19.513 8.199l-3.712-3.712-8.4 8.4a5.25 5.25 0 0 0-1.32 2.214l-.8 2.685a.75.75 0 0 0 .933.933l2.685-.8a5.25 5.25 0 0 0 2.214-1.32l8.4-8.4Z"}),jsxRuntimeExports.jsx("path",{d:"M5.25 5.25a3 3 0 0 0-3 3v10.5a3 3 0 0 0 3 3h10.5a3 3 0 0 0 3-3V13.5a.75.75 0 0 0-1.5 0v5.25a1.5 1.5 0 0 1-1.5 1.5H5.25a1.5 1.5 0 0 1-1.5-1.5V8.25a1.5 1.5 0 0 1 1.5-1.5h5.25a.75.75 0 0 0 0-1.5H5.25Z"})]}),jsxRuntimeExports.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:`size-6 self-start mt-4 ml-auto mb-2 ${vt?"block":"hidden"}`,children:jsxRuntimeExports.jsx("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"m14.74 9-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 0 1-2.244 2.077H8.084a2.25 2.25 0 0 1-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 0 0-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 0 1 3.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 0 0-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 0 0-7.5 0"})})]},bt))]})}function Analytics(xt){return jsxRuntimeExports.jsxs("div",{className:"layout-content-container flex flex-col w-[360px]",children:[jsxRuntimeExports.jsx("h3",{className:"text-[#0e141b] text-lg font-bold leading-tight tracking-[-0.015em] px-4 pb-2 pt-4",children:"Analytics"}),jsxRuntimeExports.jsxs("div",{className:"flex flex-wrap gap-4 p-4",children:[jsxRuntimeExports.jsxs("div",{className:"flex min-w-[158px] flex-1 flex-col gap-2 rounded-xl p-6 border border-[#d0dbe6]",children:[jsxRuntimeExports.jsx("p",{className:"text-[#0e141b] text-base font-medium leading-normal",children:"Total Patients"}),jsxRuntimeExports.jsx("p",{className:"text-[#0e141b] tracking-light text-2xl font-bold leading-tight",children:xt.noofPatients}),jsxRuntimeExports.jsx("p",{className:"text-[#078838] text-base font-medium leading-normal",children:"+5%"})]}),jsxRuntimeExports.jsxs("div",{className:"flex min-w-[158px] flex-1 flex-col gap-2 rounded-xl p-6 border border-[#d0dbe6]",children:[jsxRuntimeExports.jsx("p",{className:"text-[#0e141b] text-base font-medium leading-normal",children:"Average Age"}),jsxRuntimeExports.jsx("p",{className:"text-[#0e141b] tracking-light text-2xl font-bold leading-tight",children:"44"}),jsxRuntimeExports.jsx("p",{className:"text-[#e73908] text-base font-medium leading-normal",children:"-2%"})]})]})]})}const Navbar=xt=>{console.log(xt);const $=useNavigate();return jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between whitespace-nowrap border-b border-solid border-b-[#e7eef4] px-10 py-3",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-4 text-[#0d151c]",children:[jsxRuntimeExports.jsx("div",{className:"size-4",children:jsxRuntimeExports.jsx("svg",{viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:jsxRuntimeExports.jsx("path",{d:"M36.7273 44C33.9891 44 31.6043 39.8386 30.3636 33.69C29.123 39.8386 26.7382 44 24 44C21.2618 44 18.877 39.8386 17.6364 33.69C16.3957 39.8386 14.0109 44 11.2727 44C7.25611 44 4 35.0457 4 24C4 12.9543 7.25611 4 11.2727 4C14.0109 4 16.3957 8.16144 17.6364 14.31C18.877 8.16144 21.2618 4 24 4C26.7382 4 29.123 8.16144 30.3636 14.31C31.6043 8.16144 33.9891 4 36.7273 4C40.7439 4 44 12.9543 44 24C44 35.0457 40.7439 44 36.7273 44Z",fill:"currentColor"})})}),jsxRuntimeExports.jsx("h2",{className:"text-[#0d151c] text-lg font-bold leading-tight tracking-[-0.015em]",children:"Sanjh Sahayak"})]}),jsxRuntimeExports.jsxs("div",{className:"flex flex-1 justify-end gap-8",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-9",children:[jsxRuntimeExports.jsx("a",{className:"text-[#0d151c] text-sm font-medium leading-normal cursor-pointer",onClick:()=>$("/"),children:"Home"}),jsxRuntimeExports.jsx("a",{className:`text-[#0d151c] text-sm font-medium leading-normal cursor-pointer ${xt.patient?"":"hidden"}`,onClick:()=>$("/main"),children:"Patients"})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx("button",{className:"flex max-w-[480px] cursor-pointer items-center justify-center overflow-hidden rounded-xl h-10 bg-[#e7eef4] text-[#0d151c] gap-2 text-sm font-bold leading-normal tracking-[0.015em] min-w-0 px-2.5",children:jsxRuntimeExports.jsx("div",{className:"text-[#0d151c]","data-icon":"MagnifyingGlass","data-size":"20px","data-weight":"regular",children:jsxRuntimeExports.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20px",height:"20px",fill:"currentColor",viewBox:"0 0 256 256",children:jsxRuntimeExports.jsx("path",{d:"M229.66,218.34l-50.07-50.06a88.11,88.11,0,1,0-11.31,11.31l50.06,50.07a8,8,0,0,0,11.32-11.32ZM40,112a72,72,0,1,1,72,72A72.08,72.08,0,0,1,40,112Z"})})})}),jsxRuntimeExports.jsx("button",{className:"flex max-w-[480px] cursor-pointer items-center justify-center overflow-hidden rounded-xl h-10 bg-[#e7eef4] text-[#0d151c] gap-2 text-sm font-bold leading-normal tracking-[0.015em] min-w-0 px-2.5",children:jsxRuntimeExports.jsx("div",{className:"text-[#0d151c]","data-icon":"ChatCircleDots","data-size":"20px","data-weight":"regular",children:jsxRuntimeExports.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20px",height:"20px",fill:"currentColor",viewBox:"0 0 256 256",children:jsxRuntimeExports.jsx("path",{d:"M140,128a12,12,0,1,1-12-12A12,12,0,0,1,140,128ZM84,116a12,12,0,1,0,12,12A12,12,0,0,0,84,116Zm88,0a12,12,0,1,0,12,12A12,12,0,0,0,172,116Zm60,12A104,104,0,0,1,79.12,219.82L45.07,231.17a16,16,0,0,1-20.24-20.24l11.35-34.05A104,104,0,1,1,232,128Zm-16,0A88,88,0,1,0,51.81,172.06a8,8,0,0,1,.66,6.54L40,216,77.4,203.53a7.85,7.85,0,0,1,2.53-.42,8,8,0,0,1,4,1.08A88,88,0,0,0,216,128Z"})})})}),jsxRuntimeExports.jsx("button",{className:"flex max-w-[480px] cursor-pointer items-center justify-center overflow-hidden rounded-xl h-10 bg-[#e7eef4] text-[#0d151c] gap-2 text-sm font-bold leading-normal tracking-[0.015em] min-w-0 px-2.5",children:jsxRuntimeExports.jsx("div",{className:"text-[#0d151c]","data-icon":"Bell","data-size":"20px","data-weight":"regular",children:jsxRuntimeExports.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20px",height:"20px",fill:"currentColor",viewBox:"0 0 256 256",children:jsxRuntimeExports.jsx("path",{d:"M221.8,175.94C216.25,166.38,208,139.33,208,104a80,80,0,1,0-160,0c0,35.34-8.26,62.38-13.81,71.94A16,16,0,0,0,48,200H88.81a40,40,0,0,0,78.38,0H208a16,16,0,0,0,13.8-24.06ZM128,216a24,24,0,0,1-22.62-16h45.24A24,24,0,0,1,128,216ZM48,184c7.7-13.24,16-43.92,16-80a64,64,0,1,1,128,0c0,36.05,8.28,66.73,16,80Z"})})})})]}),jsxRuntimeExports.jsx("div",{className:"flex items-center justify-center gap-2",children:jsxRuntimeExports.jsx("div",{className:"text-[#0d151c] font-medium text-sm leading-normal",children:xt.isDoctor?"Doctor":"Care taker"})}),jsxRuntimeExports.jsx("div",{className:"bg-center bg-no-repeat aspect-square bg-cover rounded-full size-10",style:{backgroundImage:'url("https://cdn.usegalileo.ai/stability/62891830-57f4-4b6d-ab96-97aa59242b87.png")'}})]})]})};function Main(xt){const[$,ht]=reactExports.useState(0),[vt,At]=reactExports.useState(xt.isDoctor);return reactExports.useEffect(()=>{At(xt.isDoctor)},[]),jsxRuntimeExports.jsx("div",{className:"relative flex size-full min-h-screen flex-col bg-[#f8fafb] group/design-root overflow-x-hidden",style:{fontFamily:'Inter, "Noto Sans", sans-serif'},children:jsxRuntimeExports.jsxs("div",{className:"layout-container flex h-full grow flex-col",children:[jsxRuntimeExports.jsx(Navbar,{isDoctor:xt.isDoctor}),jsxRuntimeExports.jsxs("div",{className:"gap-1 px-6 flex flex-1 justify-center py-5",children:[jsxRuntimeExports.jsx(List,{isDoctor:vt,setNoofPatients:ht,noofPatients:$}),jsxRuntimeExports.jsx(Analytics,{noofPatients:$})]})]})})}const LandingPage=()=>{const xt=reactExports.useRef(null),$=()=>{xt.current.scrollIntoView({behavior:"smooth"})};let ht=useNavigate();return jsxRuntimeExports.jsx("div",{className:"relative flex size-full min-h-screen flex-col bg-[#F9FAFA] group/design-root overflow-x-hidden",style:{fontFamily:'Epilogue, "Noto Sans", sans-serif'},children:jsxRuntimeExports.jsxs("div",{className:"layout-container flex h-full grow flex-col",children:[jsxRuntimeExports.jsxs("header",{className:"flex items-center justify-between whitespace-nowrap border-b border-solid border-b-[#EEEFF2] px-10 py-3",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-4 text-[#1C1D22]",children:[jsxRuntimeExports.jsx("div",{className:"size-4",children:jsxRuntimeExports.jsxs("svg",{viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[jsxRuntimeExports.jsxs("g",{clipPath:"url(#clip0_6_543)",children:[jsxRuntimeExports.jsx("path",{d:"M42.1739 20.1739L27.8261 5.82609C29.1366 7.13663 28.3989 10.1876 26.2002 13.7654C24.8538 15.9564 22.9595 18.3449 20.6522 20.6522C18.3449 22.9595 15.9564 24.8538 13.7654 26.2002C10.1876 28.3989 7.13663 29.1366 5.82609 27.8261L20.1739 42.1739C21.4845 43.4845 24.5355 42.7467 28.1133 40.548C30.3042 39.2016 32.6927 37.3073 35 35C37.3073 32.6927 39.2016 30.3042 40.548 28.1133C42.7467 24.5355 43.4845 21.4845 42.1739 20.1739Z",fill:"currentColor"}),jsxRuntimeExports.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M7.24189 26.4066C7.31369 26.4411 7.64204 26.5637 8.52504 26.3738C9.59462 26.1438 11.0343 25.5311 12.7183 24.4963C14.7583 23.2426 17.0256 21.4503 19.238 19.238C21.4503 17.0256 23.2426 14.7583 24.4963 12.7183C25.5311 11.0343 26.1438 9.59463 26.3738 8.52504C26.5637 7.64204 26.4411 7.31369 26.4066 7.24189C26.345 7.21246 26.143 7.14535 25.6664 7.1918C24.9745 7.25925 23.9954 7.5498 22.7699 8.14278C20.3369 9.32007 17.3369 11.4915 14.4142 14.4142C11.4915 17.3369 9.32007 20.3369 8.14278 22.7699C7.5498 23.9954 7.25925 24.9745 7.1918 25.6664C7.14534 26.143 7.21246 26.345 7.24189 26.4066ZM29.9001 10.7285C29.4519 12.0322 28.7617 13.4172 27.9042 14.8126C26.465 17.1544 24.4686 19.6641 22.0664 22.0664C19.6641 24.4686 17.1544 26.465 14.8126 27.9042C13.4172 28.7617 12.0322 29.4519 10.7285 29.9001L21.5754 40.747C21.6001 40.7606 21.8995 40.931 22.8729 40.7217C23.9424 40.4916 25.3821 39.879 27.0661 38.8441C29.1062 37.5904 31.3734 35.7982 33.5858 33.5858C35.7982 31.3734 37.5904 29.1062 38.8441 27.0661C39.879 25.3821 40.4916 23.9425 40.7216 22.8729C40.931 21.8995 40.7606 21.6001 40.747 21.5754L29.9001 10.7285ZM29.2403 4.41187L43.5881 18.7597C44.9757 20.1473 44.9743 22.1235 44.6322 23.7139C44.2714 25.3919 43.4158 27.2666 42.252 29.1604C40.8128 31.5022 38.8165 34.012 36.4142 36.4142C34.012 38.8165 31.5022 40.8128 29.1604 42.252C27.2666 43.4158 25.3919 44.2714 23.7139 44.6322C22.1235 44.9743 20.1473 44.9757 18.7597 43.5881L4.41187 29.2403C3.29027 28.1187 3.08209 26.5973 3.21067 25.2783C3.34099 23.9415 3.8369 22.4852 4.54214 21.0277C5.96129 18.0948 8.43335 14.7382 11.5858 11.5858C14.7382 8.43335 18.0948 5.9613 21.0277 4.54214C22.4852 3.8369 23.9415 3.34099 25.2783 3.21067C26.5973 3.08209 28.1187 3.29028 29.2403 4.41187Z",fill:"currentColor"})]}),jsxRuntimeExports.jsx("defs",{children:jsxRuntimeExports.jsx("clipPath",{id:"clip0_6_543",children:jsxRuntimeExports.jsx("rect",{width:"48",height:"48",fill:"white"})})})]})}),jsxRuntimeExports.jsx("h2",{className:"text-[#1C1D22] text-lg font-bold leading-tight tracking-[-0.015em]",children:"Saanjh Sahayak"})]}),jsxRuntimeExports.jsxs("div",{className:"flex flex-1 justify-end gap-8",children:[jsxRuntimeExports.jsx("div",{className:"flex items-center gap-9",children:jsxRuntimeExports.jsx("a",{className:"text-[#1C1D22] text-sm font-medium leading-normal cursor-pointer",onClick:$,children:"Features"})}),jsxRuntimeExports.jsx("div",{className:"flex gap-2",children:jsxRuntimeExports.jsx("button",{className:"flex min-w-[84px] max-w-[480px] cursor-pointer items-center justify-center overflow-hidden rounded-full h-10 px-4 bg-[#607AFB] text-[#F9FAFA] text-sm font-bold leading-normal tracking-[0.015em]",onClick:()=>ht("/signin"),children:jsxRuntimeExports.jsx("span",{className:"truncate",children:"Login"})})})]})]}),jsxRuntimeExports.jsx("div",{className:"px-40 flex flex-1 justify-center py-5",children:jsxRuntimeExports.jsxs("div",{className:"layout-content-container flex flex-col max-w-[960px] flex-1",children:[jsxRuntimeExports.jsx("div",{className:"@container",children:jsxRuntimeExports.jsx("div",{className:"@[480px]:p-4",children:jsxRuntimeExports.jsxs("div",{className:"flex min-h-[480px] flex-col gap-6 bg-cover bg-center bg-no-repeat @[480px]:gap-8 @[480px]:rounded-xl items-start justify-end px-4 pb-10 @[480px]:px-10",style:{backgroundImage:'linear-gradient(rgba(0, 0, 0, 0.1) 0%, rgba(0, 0, 0, 0.4) 100%), url("https://cdn.usegalileo.ai/sdxl10/d0342d60-6ca8-4000-abde-e44f0d824c83.png")'},children:[jsxRuntimeExports.jsxs("div",{className:"flex flex-col gap-2 text-left",children:[jsxRuntimeExports.jsx("h1",{className:"text-white text-4xl font-black leading-tight tracking-[-0.033em] @[480px]:text-5xl @[480px]:font-black @[480px]:leading-tight @[480px]:tracking-[-0.033em]",children:"Saanjh Sahayak, better care for our elders"}),jsxRuntimeExports.jsx("h2",{className:"text-white text-sm font-normal leading-normal @[480px]:text-base @[480px]:font-normal @[480px]:leading-normal",children:"We are here to provide comprehensive and compassionate care to the elderly in old age homes."})]}),jsxRuntimeExports.jsx("label",{className:"flex flex-col min-w-40 h-14 w-full max-w-[480px] @[480px]:h-16"})]})})}),jsxRuntimeExports.jsxs("div",{className:"flex flex-col gap-10 px-4 py-10 @container",ref:xt,children:[jsxRuntimeExports.jsx("h1",{className:"text-[#1C1D22] tracking-light text-[32px] font-bold leading-tight @[480px]:text-4xl @[480px]:font-black @[480px]:leading-tight @[480px]:tracking-[-0.033em] max-w-[720px]",children:"For Caretakers"}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-[repeat(auto-fit,minmax(158px,1fr))] gap-3 p-0",children:[jsxRuntimeExports.jsxs("div",{className:"flex flex-1 gap-3 rounded-lg border border-[#D5D6DD] bg-[#FFFFFF] p-4 flex-col",children:[jsxRuntimeExports.jsx("div",{className:"text-[#1C1D22]","data-icon":"FirstAid","data-size":"24px","data-weight":"regular",children:jsxRuntimeExports.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24px",height:"24px",fill:"currentColor",viewBox:"0 0 256 256",children:jsxRuntimeExports.jsx("path",{d:"M216,88H168V40a16,16,0,0,0-16-16H104A16,16,0,0,0,88,40V88H40a16,16,0,0,0-16,16v48a16,16,0,0,0,16,16H88v48a16,16,0,0,0,16,16h48a16,16,0,0,0,16-16V168h48a16,16,0,0,0,16-16V104A16,16,0,0,0,216,88Zm0,64H160a8,8,0,0,0-8,8v56H104V160a8,8,0,0,0-8-8H40V104H96a8,8,0,0,0,8-8V40h48V96a8,8,0,0,0,8,8h56Z"})})}),jsxRuntimeExports.jsxs("div",{className:"flex flex-col gap-1",children:[jsxRuntimeExports.jsx("h2",{className:"text-[#1C1D22] text-base font-bold leading-tight",children:"Upload and Monitor Patient Reports"}),jsxRuntimeExports.jsx("p",{className:"text-[#3C3F4A] text-sm font-normal leading-normal",children:"Easily upload and monitor patient reports. Our system is designed to handle a variety of formats, ensuring a seamless experience."})]})]}),jsxRuntimeExports.jsxs("div",{className:"flex flex-1 gap-3 rounded-lg border border-[#D5D6DD] bg-[#FFFFFF] p-4 flex-col",children:[jsxRuntimeExports.jsx("div",{className:"text-[#1C1D22]","data-icon":"Notification","data-size":"24px","data-weight":"regular",children:jsxRuntimeExports.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24px",height:"24px",fill:"currentColor",viewBox:"0 0 256 256",children:jsxRuntimeExports.jsx("path",{d:"M216,128v80a16,16,0,0,1-16,16H48a16,16,0,0,1-16-16V56A16,16,0,0,1,48,40h80a8,8,0,0,1,0,16H48V208H200V128a8,8,0,0,1,16,0Zm16-68a36,36,0,1,1-36-36A36,36,0,0,1,232,60Zm-16,0a20,20,0,1,0-20,20A20,20,0,0,0,216,60Z"})})}),jsxRuntimeExports.jsxs("div",{className:"flex flex-col gap-1",children:[jsxRuntimeExports.jsx("h2",{className:"text-[#1C1D22] text-base font-bold leading-tight",children:"Receive Alerts and Reminders"}),jsxRuntimeExports.jsx("p",{className:"text-[#3C3F4A] text-sm font-normal leading-normal",children:"Get instant alerts and reminders for medication, doctor's appointments, and more. Stay on top of your loved one's care."})]})]})]})]}),jsxRuntimeExports.jsxs("div",{className:"flex flex-col gap-10 px-4 py-10 @container",children:[jsxRuntimeExports.jsx("h1",{className:"text-[#1C1D22] tracking-light text-[32px] font-bold leading-tight @[480px]:text-4xl @[480px]:font-black @[480px]:leading-tight @[480px]:tracking-[-0.033em] max-w-[720px]",children:"For Doctors"}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-[repeat(auto-fit,minmax(158px,1fr))] gap-3 p-0",children:[jsxRuntimeExports.jsxs("div",{className:"flex flex-1 gap-3 rounded-lg border border-[#D5D6DD] bg-[#FFFFFF] p-4 flex-col",children:[jsxRuntimeExports.jsx("div",{className:"text-[#1C1D22]","data-icon":"FirstAid","data-size":"24px","data-weight":"regular",children:jsxRuntimeExports.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24px",height:"24px",fill:"currentColor",viewBox:"0 0 256 256",children:jsxRuntimeExports.jsx("path",{d:"M216,88H168V40a16,16,0,0,0-16-16H104A16,16,0,0,0,88,40V88H40a16,16,0,0,0-16,16v48a16,16,0,0,0,16,16H88v48a16,16,0,0,0,16,16h48a16,16,0,0,0,16-16V168h48a16,16,0,0,0,16-16V104A16,16,0,0,0,216,88Zm0,64H160a8,8,0,0,0-8,8v56H104V160a8,8,0,0,0-8-8H40V104H96a8,8,0,0,0,8-8V40h48V96a8,8,0,0,0,8,8h56Z"})})}),jsxRuntimeExports.jsxs("div",{className:"flex flex-col gap-1",children:[jsxRuntimeExports.jsx("h2",{className:"text-[#1C1D22] text-base font-bold leading-tight",children:"Verify Patient Information"}),jsxRuntimeExports.jsx("p",{className:"text-[#3C3F4A] text-sm font-normal leading-normal",children:"Quickly and securely verify patient information. Our platform is designed to ensure compliance with privacy and data protection regulations."})]})]}),jsxRuntimeExports.jsxs("div",{className:"flex flex-1 gap-3 rounded-lg border border-[#D5D6DD] bg-[#FFFFFF] p-4 flex-col",children:[jsxRuntimeExports.jsx("div",{className:"text-[#1C1D22]","data-icon":"Translate","data-size":"24px","data-weight":"regular",children:jsxRuntimeExports.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24px",height:"24px",fill:"currentColor",viewBox:"0 0 256 256",children:jsxRuntimeExports.jsx("path",{d:"M239.15,212.42l-56-112a8,8,0,0,0-14.31,0l-21.71,43.43A88,88,0,0,1,100,126.93,103.65,103.65,0,0,0,127.69,64H152a8,8,0,0,0,0-16H96V32a8,8,0,0,0-16,0V48H24a8,8,0,0,0,0,16h87.63A87.76,87.76,0,0,1,88,116.35a87.74,87.74,0,0,1-19-31,8,8,0,1,0-15.08,5.34A103.63,103.63,0,0,0,76,127a87.55,87.55,0,0,1-52,17,8,8,0,0,0,0,16,103.46,103.46,0,0,0,64-22.08,104.18,104.18,0,0,0,51.44,21.31l-26.6,53.19a8,8,0,0,0,14.31,7.16L140.94,192h70.11l13.79,27.58A8,8,0,0,0,232,224a8,8,0,0,0,7.15-11.58ZM148.94,176,176,121.89,203.05,176Z"})})}),jsxRuntimeExports.jsxs("div",{className:"flex flex-col gap-1",children:[jsxRuntimeExports.jsx("h2",{className:"text-[#1C1D22] text-base font-bold leading-tight",children:"Analyze with Large Language Model"}),jsxRuntimeExports.jsx("p",{className:"text-[#3C3F4A] text-sm font-normal leading-normal",children:"Utilize our powerful Large Language Model for in-depth patient analysis. Get insights and recommendations based on the latest medical research."})]})]})]})]}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-[repeat(auto-fit,minmax(158px,1fr))] gap-3 p-4",children:[jsxRuntimeExports.jsxs("div",{className:"flex flex-col gap-3 pb-3",children:[jsxRuntimeExports.jsx("div",{className:"w-full bg-center bg-no-repeat aspect-video bg-cover rounded-xl",style:{backgroundImage:'url("https://cdn.usegalileo.ai/stability/fb823941-87a6-47fb-998f-c8224ea8c6db.png")'}}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"text-[#1C1D22] text-base font-medium leading-normal",children:"Get help from experts"}),jsxRuntimeExports.jsx("p",{className:"text-[#3C3F4A] text-sm font-normal leading-normal",children:"Our team of geriatricians and nurse practitioners are here to help."})]})]}),jsxRuntimeExports.jsxs("div",{className:"flex flex-col gap-3 pb-3",children:[jsxRuntimeExports.jsx("div",{className:"w-full bg-center bg-no-repeat aspect-video bg-cover rounded-xl",style:{backgroundImage:'url("https://cdn.usegalileo.ai/stability/b543c2c9-c73f-4636-8737-59e6d3f7a20e.png")'}}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"text-[#1C1D22] text-base font-medium leading-normal",children:"Stay connected"}),jsxRuntimeExports.jsx("p",{className:"text-[#3C3F4A] text-sm font-normal leading-normal",children:"Easily communicate with our team via video calls, phone calls, or chat."})]})]}),jsxRuntimeExports.jsxs("div",{className:"flex flex-col gap-3 pb-3",children:[jsxRuntimeExports.jsx("div",{className:"w-full bg-center bg-no-repeat aspect-video bg-cover rounded-xl",style:{backgroundImage:'url("https://cdn.usegalileo.ai/sdxl10/8329d0d0-4083-4c19-89c0-de0625991c40.png")'}}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"text-[#1C1D22] text-base font-medium leading-normal",children:"Get reminders"}),jsxRuntimeExports.jsx("p",{className:"text-[#3C3F4A] text-sm font-normal leading-normal",children:"Set up medication reminders and get alerts when it's time to take a dose."})]})]})]})]})})]})})};var DefaultContext={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},IconContext=React.createContext&&React.createContext(DefaultContext),_excluded=["attr","size","title"];function _objectWithoutProperties(xt,$){if(xt==null)return{};var ht=_objectWithoutPropertiesLoose(xt,$),vt,At;if(Object.getOwnPropertySymbols){var St=Object.getOwnPropertySymbols(xt);for(At=0;At<St.length;At++)vt=St[At],!($.indexOf(vt)>=0)&&Object.prototype.propertyIsEnumerable.call(xt,vt)&&(ht[vt]=xt[vt])}return ht}function _objectWithoutPropertiesLoose(xt,$){if(xt==null)return{};var ht={};for(var vt in xt)if(Object.prototype.hasOwnProperty.call(xt,vt)){if($.indexOf(vt)>=0)continue;ht[vt]=xt[vt]}return ht}function _extends(){return _extends=Object.assign?Object.assign.bind():function(xt){for(var $=1;$<arguments.length;$++){var ht=arguments[$];for(var vt in ht)Object.prototype.hasOwnProperty.call(ht,vt)&&(xt[vt]=ht[vt])}return xt},_extends.apply(this,arguments)}function ownKeys(xt,$){var ht=Object.keys(xt);if(Object.getOwnPropertySymbols){var vt=Object.getOwnPropertySymbols(xt);$&&(vt=vt.filter(function(At){return Object.getOwnPropertyDescriptor(xt,At).enumerable})),ht.push.apply(ht,vt)}return ht}function _objectSpread(xt){for(var $=1;$<arguments.length;$++){var ht=arguments[$]!=null?arguments[$]:{};$%2?ownKeys(Object(ht),!0).forEach(function(vt){_defineProperty(xt,vt,ht[vt])}):Object.getOwnPropertyDescriptors?Object.defineProperties(xt,Object.getOwnPropertyDescriptors(ht)):ownKeys(Object(ht)).forEach(function(vt){Object.defineProperty(xt,vt,Object.getOwnPropertyDescriptor(ht,vt))})}return xt}function _defineProperty(xt,$,ht){return $=_toPropertyKey($),$ in xt?Object.defineProperty(xt,$,{value:ht,enumerable:!0,configurable:!0,writable:!0}):xt[$]=ht,xt}function _toPropertyKey(xt){var $=_toPrimitive(xt,"string");return typeof $=="symbol"?$:$+""}function _toPrimitive(xt,$){if(typeof xt!="object"||!xt)return xt;var ht=xt[Symbol.toPrimitive];if(ht!==void 0){var vt=ht.call(xt,$||"default");if(typeof vt!="object")return vt;throw new TypeError("@@toPrimitive must return a primitive value.")}return($==="string"?String:Number)(xt)}function Tree2Element(xt){return xt&&xt.map(($,ht)=>React.createElement($.tag,_objectSpread({key:ht},$.attr),Tree2Element($.child)))}function GenIcon(xt){return $=>React.createElement(IconBase,_extends({attr:_objectSpread({},xt.attr)},$),Tree2Element(xt.child))}function IconBase(xt){var $=ht=>{var{attr:vt,size:At,title:St}=xt,Ct=_objectWithoutProperties(xt,_excluded),Et=At||ht.size||"1em",Ft;return ht.className&&(Ft=ht.className),xt.className&&(Ft=(Ft?Ft+" ":"")+xt.className),React.createElement("svg",_extends({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},ht.attr,vt,Ct,{className:Ft,style:_objectSpread(_objectSpread({color:xt.color||ht.color},ht.style),xt.style),height:Et,width:Et,xmlns:"http://www.w3.org/2000/svg"}),St&&React.createElement("title",null,St),xt.children)};return IconContext!==void 0?React.createElement(IconContext.Consumer,null,ht=>$(ht)):$(DefaultContext)}function FaEdit(xt){return GenIcon({tag:"svg",attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M402.6 83.2l90.2 90.2c3.8 3.8 3.8 10 0 13.8L274.4 405.6l-92.8 10.3c-12.4 1.4-22.9-9.1-21.5-21.5l10.3-92.8L388.8 83.2c3.8-3.8 10-3.8 13.8 0zm162-22.9l-48.8-48.8c-15.2-15.2-39.9-15.2-55.2 0l-35.4 35.4c-3.8 3.8-3.8 10 0 13.8l90.2 90.2c3.8 3.8 10 3.8 13.8 0l35.4-35.4c15.2-15.3 15.2-40 0-55.2zM384 346.2V448H64V128h229.8c3.2 0 6.2-1.3 8.5-3.5l40-40c7.6-7.6 2.2-20.5-8.5-20.5H48C21.5 64 0 85.5 0 112v352c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V306.2c0-10.7-12.9-16-20.5-8.5l-40 40c-2.2 2.3-3.5 5.3-3.5 8.5z"},child:[]}]})(xt)}function Profile(xt){const[$,ht]=reactExports.useState(xt.id),[vt,At]=reactExports.useState();reactExports.useState(""),reactExports.useState(null),reactExports.useState(0),reactExports.useState(null),reactExports.useState(null),reactExports.useState(null);const St=useNavigate();async function Ct(){const Rt=await axios.get(`/en/getpatient/${$}`);At(Rt.data)}reactExports.useEffect(()=>{Ct()},[$]);const Et=Rt=>{const _e=new Date,bt=new Date(Rt);let Pt=_e.getFullYear()-bt.getFullYear();const Xt=_e.getMonth()-bt.getMonth();return(Xt<0||Xt===0&&_e.getDate()<bt.getDate())&&Pt--,Pt},Ft=[{date:"July 15, 2022",report:"Blood Test"},{date:"June 12, 2022",report:"X-ray"},{date:"March 22, 2022",report:"Blood Test"}],wt=async Rt=>{const _e=Rt.target.files[0];if(_e){const bt=new FileReader;bt.onloadend=async()=>{const Pt=bt.result.split(",")[1],Xt=Rt.target.value.replace("C:\\fakepath\\","");try{console.log("hi"),(await axios.post("/en/uploadpdf",{file:Pt,filename:Xt,patientId:$,name:vt.name})).data.data===!1&&alert("Invalid PDF")}catch(Kt){console.log("Error uploading details:",Kt),alert("File size too large or other issues.")}},bt.readAsDataURL(_e)}else console.log("No input file")},_t=async Rt=>{console.log("lol");try{console.log("hi");const _e=await axios.get("/en/pdfid/66865b9590b09fc0ed0d7925",{responseType:"arraybuffer"}),bt=new Uint8Array(_e.data),Pt=new Blob([bt],{type:"application/pdf"});let Xt=window.URL.createObjectURL(Pt);St("/pdfShow",{state:{url:Xt}})}catch(_e){console.log("Error uploading details:",_e),alert("File size too large")}};return vt&&jsxRuntimeExports.jsx("div",{className:"px-40 flex flex-1 justify-center py-5",children:jsxRuntimeExports.jsxs("div",{className:"layout-content-container flex flex-col max-w-[960px] flex-1",children:[jsxRuntimeExports.jsxs("div",{className:"relative flex p-4 @container",children:[jsxRuntimeExports.jsx("div",{className:`absolute top-2 right-2 ${xt.isDoctor?"hidden":""}`,children:jsxRuntimeExports.jsx("button",{className:"text-blue-500 hover:text-blue-700",children:jsxRuntimeExports.jsx(FaEdit,{size:20})})}),jsxRuntimeExports.jsx("div",{className:"flex w-full flex-col gap-4 @[520px]:flex-row @[520px]:justify-between @[520px]:items-center",children:jsxRuntimeExports.jsxs("div",{className:"flex gap-4 self-start",children:[jsxRuntimeExports.jsx("div",{className:"bg-center bg-no-repeat aspect-square bg-cover rounded-full min-h-32 w-32",style:{backgroundImage:'url("https://cdn.usegalileo.ai/stability/4085b1e6-79ae-4450-b2e6-2a0385966715.png")'}}),jsxRuntimeExports.jsxs("div",{className:"flex flex-col justify-center",children:[jsxRuntimeExports.jsx("p",{className:"text-[#0d151c] text-[22px] font-bold leading-tight tracking-[-0.015em]",children:vt.name}),jsxRuntimeExports.jsxs("p",{className:"text-[#49779c] text-base font-normal leading-normal",children:["Age ",Et(vt.DOB),", ",vt.gender,", Blood type: ",vt.bloodGroup]})]})]})})]}),jsxRuntimeExports.jsxs("div",{className:"flex gap-4 bg-slate-50 px-4 py-3",children:[jsxRuntimeExports.jsx("div",{className:"text-[#0d151c] flex items-center justify-center rounded-lg bg-[#e7eef4] shrink-0 size-12","data-icon":"User","data-size":"24px","data-weight":"regular",children:jsxRuntimeExports.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24px",height:"24px",fill:"currentColor",viewBox:"0 0 256 256",children:jsxRuntimeExports.jsx("path",{d:"M230.92,212c-15.23-26.33-38.7-45.21-66.09-54.16a72,72,0,1,0-73.66,0C63.78,166.78,40.31,185.66,25.08,212a8,8,0,1,0,13.85,8c18.84-32.56,52.14-52,89.07-52s70.23,19.44,89.07,52a8,8,0,1,0,13.85-8ZM72,96a56,56,0,1,1,56,56A56.06,56.06,0,0,1,72,96Z"})})}),jsxRuntimeExports.jsxs("div",{className:"flex flex-1 flex-col justify-center",children:[jsxRuntimeExports.jsx("p",{className:"text-[#0d151c] text-base font-medium leading-normal",children:"Patient Information"}),jsxRuntimeExports.jsxs("p",{className:"text-[#49779c] text-sm font-normal leading-normal",children:["Previous test reports: ",vt.reportsList.length]}),jsxRuntimeExports.jsx("p",{className:"text-[#49779c] text-sm font-normal leading-normal",children:"Known health conditions: Asthma, Allergies"})]})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-4 bg-slate-50 px-4 min-h-14 justify-between",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-4",children:[jsxRuntimeExports.jsx("div",{className:"text-[#0d151c] flex items-center justify-center rounded-lg bg-[#e7eef4] shrink-0 size-10","data-icon":"Phone","data-size":"24px","data-weight":"regular",children:jsxRuntimeExports.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24px",height:"24px",fill:"currentColor",viewBox:"0 0 256 256",children:jsxRuntimeExports.jsx("path",{d:"M222.37,158.46l-47.11-21.11-.13-.06a16,16,0,0,0-15.17,1.4,8.12,8.12,0,0,0-.75.56L134.87,160c-15.42-7.49-31.34-23.29-38.83-38.51l20.78-24.71c.2-.25.39-.5.57-.77a16,16,0,0,0,1.32-15.06l0-.12L97.54,33.64a16,16,0,0,0-16.62-9.52A56.26,56.26,0,0,0,32,80c0,79.4,64.6,144,144,144a56.26,56.26,0,0,0,55.88-48.92A16,16,0,0,0,222.37,158.46ZM176,208A128.14,128.14,0,0,1,48,80,40.2,40.2,0,0,1,82.87,40a.61.61,0,0,0,0,.12l21,47L83.2,111.86a6.13,6.13,0,0,0-.57.77,16,16,0,0,0-1,15.7c9.06,18.53,27.73,37.06,46.46,46.11a16,16,0,0,0,15.75-1.14,8.44,8.44,0,0,0,.74-.56L168.89,152l47,21.05h0s.08,0,.11,0A40.21,40.21,0,0,1,176,208Z"})})}),jsxRuntimeExports.jsx("p",{className:"text-[#0d151c] text-base font-normal leading-normal flex-1 truncate",children:"Contact Number"})]}),jsxRuntimeExports.jsx("div",{className:"shrink-0",children:jsxRuntimeExports.jsxs("p",{className:"text-[#0d151c] text-base font-normal leading-normal",children:["(+91) ",vt.phone]})})]}),jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-center px-4 pb-3 pt-5",children:[jsxRuntimeExports.jsx("h2",{className:"text-[#0d151c] text-[22px] font-bold leading-tight tracking-[-0.015em]",children:"Report History"}),jsxRuntimeExports.jsx("label",{htmlFor:"file-upload",className:`bg-blue-500 text-white px-4 py-2 rounded cursor-pointer ${xt.isDoctor?"hidden":""}`,children:"Upload Reports"}),jsxRuntimeExports.jsx("input",{id:"file-upload",type:"file",className:"hidden",onChange:wt})]}),jsxRuntimeExports.jsx("div",{children:Ft.map((Rt,_e)=>jsxRuntimeExports.jsxs("div",{onClick:_t,className:"flex items-center gap-4 bg-slate-50 px-4 min-h-[72px] py-2 justify-between cursor-pointer",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-4",children:[jsxRuntimeExports.jsx("div",{className:"text-[#0d151c] flex items-center justify-center rounded-lg bg-[#e7eef4] shrink-0 size-12","data-icon":"File","data-size":"24px","data-weight":"regular",children:jsxRuntimeExports.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24px",height:"24px",fill:"currentColor",viewBox:"0 0 256 256",children:jsxRuntimeExports.jsx("path",{d:"M213.66,82.34l-56-56A8,8,0,0,0,152,24H56A16,16,0,0,0,40,40V216a16,16,0,0,0,16,16H200a16,16,0,0,0,16-16V88A8,8,0,0,0,213.66,82.34ZM160,51.31,188.69,80H160ZM200,216H56V40h88V88a8,8,0,0,0,8,8h48V216Z"})})}),jsxRuntimeExports.jsxs("div",{className:"flex flex-col justify-center",children:[jsxRuntimeExports.jsx("p",{className:"text-[#0d151c] text-base font-medium leading-normal line-clamp-1",children:Rt.date}),jsxRuntimeExports.jsx("p",{className:"text-[#49779c] text-sm font-normal leading-normal line-clamp-2",children:Rt.report})]})]}),jsxRuntimeExports.jsx("div",{className:"shrink-0",children:jsxRuntimeExports.jsx("div",{className:"text-[#0d151c] flex size-7 items-center justify-center","data-icon":"CaretRight","data-size":"24px","data-weight":"regular",children:jsxRuntimeExports.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24px",height:"24px",fill:"currentColor",viewBox:"0 0 256 256",children:jsxRuntimeExports.jsx("path",{d:"M181.66,133.66l-80,80a8,8,0,0,1-11.32-11.32L164.69,128,90.34,53.66a8,8,0,0,1,11.32-11.32l80,80A8,8,0,0,1,181.66,133.66Z"})})})})]},_e))})]})})}function Patient(xt){const{state:$}=useLocation(),{id:ht}=$;return jsxRuntimeExports.jsx("div",{className:"relative flex size-full min-h-screen flex-col bg-slate-50 group/design-root overflow-x-hidden",style:{fontFamily:'Manrope, "Noto Sans", sans-serif;'},children:jsxRuntimeExports.jsxs("div",{className:"layout-container flex h-full grow flex-col",children:[jsxRuntimeExports.jsx(Navbar,{patient:!0,isDoctor:xt.isDoctor}),jsxRuntimeExports.jsx(Profile,{isDoctor:xt.isDoctor,id:ht})]})})}function Signin(xt){reactExports.useState(""),reactExports.useState(""),reactExports.useState(!1);const[$,ht]=reactExports.useState("");let vt=useNavigate();const At=Ct=>{ht(Ct.target.value),$=="doctor"?xt.setIsDoctor(!0):xt.setIsDoctor(!1)},St={"--checkbox-tick-svg":"url('data:image/svg+xml,%3csvg viewBox=%270 0 16 16%27 fill=%27rgb(248,250,252)%27 xmlns=%27http://www.w3.org/2000/svg%27%3e%3cpath d=%27M12.207 4.793a1 1 0 010 1.414l-5 5a1 1 0 01-1.414 0l-2-2a1 1 0 011.414-1.414L6.5 9.086l4.293-4.293a1 1 0 011.414 0z%27/%3e%3c/svg%3e')",fontFamily:"Manrope, 'Noto Sans', sans-serif"};return jsxRuntimeExports.jsxs("div",{className:"min-h-screen flex flex-col md:flex-row",children:[jsxRuntimeExports.jsx("div",{className:"flex flex-1 justify-center items-center bg-slate-50 p-10",style:St,children:jsxRuntimeExports.jsxs("div",{className:"w-full max-w-md",children:[jsxRuntimeExports.jsx("h2",{className:"text-2xl font-bold text-center mb-4",children:"Welcome to HealthCo"}),jsxRuntimeExports.jsx("p",{className:"text-center mb-4",children:"Please select if you are a doctor or a caretaker."}),jsxRuntimeExports.jsx("div",{className:"mb-6",children:jsxRuntimeExports.jsxs("select",{className:"w-full p-3 border rounded-lg",value:$,onChange:At,children:[jsxRuntimeExports.jsx("option",{value:"",disabled:!0,children:"Select your role"}),jsxRuntimeExports.jsx("option",{value:"doctor",children:"Doctor"}),jsxRuntimeExports.jsx("option",{value:"caretaker",children:"Caretaker"})]})}),jsxRuntimeExports.jsx("button",{className:"w-full bg-blue-500 text-white py-3 rounded-lg",onClick:()=>vt("/main"),children:"Sign in"})]})}),jsxRuntimeExports.jsx("div",{className:"flex flex-1 justify-center items-center bg-blue-100 p-10",children:jsxRuntimeExports.jsx("img",{src:"https://via.placeholder.com/400x300",alt:"Healthcare",className:"max-w-full h-auto"})})]})}const NewSignin=()=>{const[xt,$]=reactExports.useState(null),ht=vt=>{$(vt)};return jsxRuntimeExports.jsx("div",{className:"relative flex items-center justify-center min-h-screen bg-slate-50",children:jsxRuntimeExports.jsxs("div",{className:"layout-container flex flex-col max-w-[960px] w-full px-6",children:[jsxRuntimeExports.jsxs("header",{className:"flex items-center justify-between border-b border-solid border-b-[#e7edf3] px-4 py-3",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-4 text-[#0e141b]",children:[jsxRuntimeExports.jsx("div",{className:"size-4",children:jsxRuntimeExports.jsx("svg",{viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:jsxRuntimeExports.jsx("path",{d:"M4 42.4379C4 42.4379 14.0962 36.0744 24 41.1692C35.0664 46.8624 44 42.2078 44 42.2078L44 7.01134C44 7.01134 35.068 11.6577 24.0031 5.96913C14.0971 0.876274 4 7.27094 4 7.27094L4 42.4379Z",fill:"currentColor"})})}),jsxRuntimeExports.jsx("h2",{className:"text-[#0e141b] text-lg font-bold leading-tight tracking-[-0.015em]",children:"HealthCo"})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-8",children:[jsxRuntimeExports.jsx("button",{className:"text-[#1980e6] text-sm font-medium leading-normal",onClick:()=>alert("Link to professionals"),children:"For professionals"}),jsxRuntimeExports.jsx("button",{className:"text-[#1980e6] text-sm font-medium leading-normal",onClick:()=>alert("Link to caretakers"),children:"For caretakers"})]})]}),jsxRuntimeExports.jsxs("div",{className:"flex flex-col items-center justify-center flex-1",children:[jsxRuntimeExports.jsx("h2",{className:"text-[#0e141b] tracking-light text-[28px] font-bold leading-tight pb-3",children:"Welcome to HealthCo"}),jsxRuntimeExports.jsx("button",{className:"bg-[#1980e6] text-slate-50 text-base font-bold leading-normal tracking-[0.015em] py-3 px-8 rounded-lg mb-6",onClick:()=>alert("Display user selection"),children:"Select User"}),xt===null&&jsxRuntimeExports.jsxs("div",{className:"flex gap-6",children:[jsxRuntimeExports.jsx("button",{className:"flex items-center justify-center bg-[#1980e6] text-slate-50 text-base font-bold leading-normal tracking-[0.015em] py-3 px-8 rounded-lg",onClick:()=>ht("doctor"),children:"Doctor"}),jsxRuntimeExports.jsx("button",{className:"flex items-center justify-center bg-[#1980e6] text-slate-50 text-base font-bold leading-normal tracking-[0.015em] py-3 px-8 rounded-lg",onClick:()=>ht("caretaker"),children:"Caretaker"})]}),xt&&jsxRuntimeExports.jsxs("div",{className:"text-[#0e141b] text-base font-normal leading-normal mt-4",children:["You are signed in as ",jsxRuntimeExports.jsx("strong",{children:xt}),"."]})]}),jsxRuntimeExports.jsx("footer",{className:"flex justify-center py-3",children:jsxRuntimeExports.jsx("p",{className:"text-[#4e7397] text-sm font-normal leading-normal",children:"By continuing, you agree to our Terms of Use and Privacy Policy"})})]})})},scriptRel="modulepreload",assetsURL=function(xt){return"/"+xt},seen={},__vitePreload=function($,ht,vt){let At=Promise.resolve();if(ht&&ht.length>0){document.getElementsByTagName("link");const St=document.querySelector("meta[property=csp-nonce]"),Ct=(St==null?void 0:St.nonce)||(St==null?void 0:St.getAttribute("nonce"));At=Promise.all(ht.map(Et=>{if(Et=assetsURL(Et),Et in seen)return;seen[Et]=!0;const Ft=Et.endsWith(".css"),wt=Ft?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${Et}"]${wt}`))return;const _t=document.createElement("link");if(_t.rel=Ft?"stylesheet":scriptRel,Ft||(_t.as="script",_t.crossOrigin=""),_t.href=Et,Ct&&_t.setAttribute("nonce",Ct),document.head.appendChild(_t),Ft)return new Promise((Rt,_e)=>{_t.addEventListener("load",Rt),_t.addEventListener("error",()=>_e(new Error(`Unable to preload CSS for ${Et}`)))})}))}return At.then(()=>$()).catch(St=>{const Ct=new Event("vite:preloadError",{cancelable:!0});if(Ct.payload=St,window.dispatchEvent(Ct),!Ct.defaultPrevented)throw St})};var __webpack_require__={};__webpack_require__.d=(xt,$)=>{for(var ht in $)__webpack_require__.o($,ht)&&!__webpack_require__.o(xt,ht)&&Object.defineProperty(xt,ht,{enumerable:!0,get:$[ht]})};__webpack_require__.o=(xt,$)=>Object.prototype.hasOwnProperty.call(xt,$);var __webpack_exports__=globalThis.pdfjsLib={};__webpack_require__.d(__webpack_exports__,{AbortException:()=>AbortException,AnnotationEditorLayer:()=>AnnotationEditorLayer,AnnotationEditorParamsType:()=>AnnotationEditorParamsType,AnnotationEditorType:()=>AnnotationEditorType,AnnotationEditorUIManager:()=>AnnotationEditorUIManager,AnnotationLayer:()=>AnnotationLayer,AnnotationMode:()=>AnnotationMode,CMapCompressionType:()=>CMapCompressionType,ColorPicker:()=>ColorPicker,DOMSVGFactory:()=>DOMSVGFactory,DrawLayer:()=>DrawLayer,FeatureTest:()=>util_FeatureTest,GlobalWorkerOptions:()=>GlobalWorkerOptions,ImageKind:()=>util_ImageKind,InvalidPDFException:()=>InvalidPDFException,MissingPDFException:()=>MissingPDFException,OPS:()=>OPS,Outliner:()=>Outliner,PDFDataRangeTransport:()=>PDFDataRangeTransport,PDFDateString:()=>PDFDateString,PDFWorker:()=>PDFWorker,PasswordResponses:()=>PasswordResponses,PermissionFlag:()=>PermissionFlag,PixelsPerInch:()=>PixelsPerInch,RenderingCancelledException:()=>RenderingCancelledException,TextLayer:()=>TextLayer,UnexpectedResponseException:()=>UnexpectedResponseException,Util:()=>Util,VerbosityLevel:()=>VerbosityLevel,XfaLayer:()=>XfaLayer,build:()=>build,createValidAbsoluteUrl:()=>createValidAbsoluteUrl,fetchData:()=>fetchData,getDocument:()=>getDocument,getFilenameFromUrl:()=>getFilenameFromUrl,getPdfFilenameFromUrl:()=>getPdfFilenameFromUrl,getXfaPageViewport:()=>getXfaPageViewport,isDataScheme:()=>isDataScheme,isPdfFile:()=>isPdfFile,noContextMenu:()=>noContextMenu,normalizeUnicode:()=>normalizeUnicode,renderTextLayer:()=>renderTextLayer,setLayerDimensions:()=>setLayerDimensions,shadow:()=>shadow,updateTextLayer:()=>updateTextLayer,version:()=>version});const isNodeJS=typeof process=="object"&&process+""=="[object process]"&&!process.versions.nw&&!(process.versions.electron&&process.type&&process.type!=="browser"),IDENTITY_MATRIX=[1,0,0,1,0,0],FONT_IDENTITY_MATRIX=[.001,0,0,.001,0,0],MAX_IMAGE_SIZE_TO_CACHE=1e7,LINE_FACTOR=1.35,RenderingIntentFlag={ANY:1,DISPLAY:2,PRINT:4,SAVE:8,ANNOTATIONS_FORMS:16,ANNOTATIONS_STORAGE:32,ANNOTATIONS_DISABLE:64,OPLIST:256},AnnotationMode={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3},AnnotationEditorPrefix="pdfjs_internal_editor_",AnnotationEditorType={DISABLE:-1,NONE:0,FREETEXT:3,HIGHLIGHT:9,STAMP:13,INK:15},AnnotationEditorParamsType={RESIZE:1,CREATE:2,FREETEXT_SIZE:11,FREETEXT_COLOR:12,FREETEXT_OPACITY:13,INK_COLOR:21,INK_THICKNESS:22,INK_OPACITY:23,HIGHLIGHT_COLOR:31,HIGHLIGHT_DEFAULT_COLOR:32,HIGHLIGHT_THICKNESS:33,HIGHLIGHT_FREE:34,HIGHLIGHT_SHOW_ALL:35},PermissionFlag={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048},TextRenderingMode={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_ADD_TO_PATH:4,STROKE_ADD_TO_PATH:5,FILL_STROKE_ADD_TO_PATH:6,ADD_TO_PATH:7,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4},util_ImageKind={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3},AnnotationType={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,SOUND:18,MOVIE:19,WIDGET:20,SCREEN:21,PRINTERMARK:22,TRAPNET:23,WATERMARK:24,THREED:25,REDACT:26},AnnotationBorderStyleType={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5},VerbosityLevel={ERRORS:0,WARNINGS:1,INFOS:5},CMapCompressionType={NONE:0,BINARY:1},OPS={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotation:80,endAnnotation:81,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91},PasswordResponses={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};let verbosity=VerbosityLevel.WARNINGS;function setVerbosityLevel(xt){Number.isInteger(xt)&&(verbosity=xt)}function getVerbosityLevel(){return verbosity}function info(xt){verbosity>=VerbosityLevel.INFOS&&console.log(`Info: ${xt}`)}function warn(xt){verbosity>=VerbosityLevel.WARNINGS&&console.log(`Warning: ${xt}`)}function unreachable(xt){throw new Error(xt)}function assert(xt,$){xt||unreachable($)}function _isValidProtocol(xt){switch(xt==null?void 0:xt.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}function createValidAbsoluteUrl(xt,$=null,ht=null){if(!xt)return null;try{if(ht&&typeof xt=="string"){if(ht.addDefaultProtocol&&xt.startsWith("www.")){const At=xt.match(/\./g);(At==null?void 0:At.length)>=2&&(xt=`http://${xt}`)}if(ht.tryConvertEncoding)try{xt=stringToUTF8String(xt)}catch{}}const vt=$?new URL(xt,$):new URL(xt);if(_isValidProtocol(vt))return vt}catch{}return null}function shadow(xt,$,ht,vt=!1){return Object.defineProperty(xt,$,{value:ht,enumerable:!vt,configurable:!0,writable:!1}),ht}const BaseException=function(){function $(ht,vt){this.constructor===$&&unreachable("Cannot initialize BaseException."),this.message=ht,this.name=vt}return $.prototype=new Error,$.constructor=$,$}();class PasswordException extends BaseException{constructor($,ht){super($,"PasswordException"),this.code=ht}}class UnknownErrorException extends BaseException{constructor($,ht){super($,"UnknownErrorException"),this.details=ht}}class InvalidPDFException extends BaseException{constructor($){super($,"InvalidPDFException")}}class MissingPDFException extends BaseException{constructor($){super($,"MissingPDFException")}}class UnexpectedResponseException extends BaseException{constructor($,ht){super($,"UnexpectedResponseException"),this.status=ht}}class FormatError extends BaseException{constructor($){super($,"FormatError")}}class AbortException extends BaseException{constructor($){super($,"AbortException")}}function bytesToString(xt){(typeof xt!="object"||(xt==null?void 0:xt.length)===void 0)&&unreachable("Invalid argument for bytesToString");const $=xt.length,ht=8192;if($<ht)return String.fromCharCode.apply(null,xt);const vt=[];for(let At=0;At<$;At+=ht){const St=Math.min(At+ht,$),Ct=xt.subarray(At,St);vt.push(String.fromCharCode.apply(null,Ct))}return vt.join("")}function stringToBytes(xt){typeof xt!="string"&&unreachable("Invalid argument for stringToBytes");const $=xt.length,ht=new Uint8Array($);for(let vt=0;vt<$;++vt)ht[vt]=xt.charCodeAt(vt)&255;return ht}function string32(xt){return String.fromCharCode(xt>>24&255,xt>>16&255,xt>>8&255,xt&255)}function objectFromMap(xt){const $=Object.create(null);for(const[ht,vt]of xt)$[ht]=vt;return $}function isLittleEndian(){const xt=new Uint8Array(4);return xt[0]=1,new Uint32Array(xt.buffer,0,1)[0]===1}function isEvalSupported(){try{return new Function(""),!0}catch{return!1}}class util_FeatureTest{static get isLittleEndian(){return shadow(this,"isLittleEndian",isLittleEndian())}static get isEvalSupported(){return shadow(this,"isEvalSupported",isEvalSupported())}static get isOffscreenCanvasSupported(){return shadow(this,"isOffscreenCanvasSupported",typeof OffscreenCanvas<"u")}static get platform(){return typeof navigator<"u"&&typeof(navigator==null?void 0:navigator.platform)=="string"?shadow(this,"platform",{isMac:navigator.platform.includes("Mac")}):shadow(this,"platform",{isMac:!1})}static get isCSSRoundSupported(){var $,ht;return shadow(this,"isCSSRoundSupported",(ht=($=globalThis.CSS)==null?void 0:$.supports)==null?void 0:ht.call($,"width: round(1.5px, 1px)"))}}const hexNumbers=Array.from(Array(256).keys(),xt=>xt.toString(16).padStart(2,"0"));var j0,Qx,p9;class Util{static makeHexColor($,ht,vt){return`#${hexNumbers[$]}${hexNumbers[ht]}${hexNumbers[vt]}`}static scaleMinMax($,ht){let vt;$[0]?($[0]<0&&(vt=ht[0],ht[0]=ht[2],ht[2]=vt),ht[0]*=$[0],ht[2]*=$[0],$[3]<0&&(vt=ht[1],ht[1]=ht[3],ht[3]=vt),ht[1]*=$[3],ht[3]*=$[3]):(vt=ht[0],ht[0]=ht[1],ht[1]=vt,vt=ht[2],ht[2]=ht[3],ht[3]=vt,$[1]<0&&(vt=ht[1],ht[1]=ht[3],ht[3]=vt),ht[1]*=$[1],ht[3]*=$[1],$[2]<0&&(vt=ht[0],ht[0]=ht[2],ht[2]=vt),ht[0]*=$[2],ht[2]*=$[2]),ht[0]+=$[4],ht[1]+=$[5],ht[2]+=$[4],ht[3]+=$[5]}static transform($,ht){return[$[0]*ht[0]+$[2]*ht[1],$[1]*ht[0]+$[3]*ht[1],$[0]*ht[2]+$[2]*ht[3],$[1]*ht[2]+$[3]*ht[3],$[0]*ht[4]+$[2]*ht[5]+$[4],$[1]*ht[4]+$[3]*ht[5]+$[5]]}static applyTransform($,ht){const vt=$[0]*ht[0]+$[1]*ht[2]+ht[4],At=$[0]*ht[1]+$[1]*ht[3]+ht[5];return[vt,At]}static applyInverseTransform($,ht){const vt=ht[0]*ht[3]-ht[1]*ht[2],At=($[0]*ht[3]-$[1]*ht[2]+ht[2]*ht[5]-ht[4]*ht[3])/vt,St=(-$[0]*ht[1]+$[1]*ht[0]+ht[4]*ht[1]-ht[5]*ht[0])/vt;return[At,St]}static getAxialAlignedBoundingBox($,ht){const vt=this.applyTransform($,ht),At=this.applyTransform($.slice(2,4),ht),St=this.applyTransform([$[0],$[3]],ht),Ct=this.applyTransform([$[2],$[1]],ht);return[Math.min(vt[0],At[0],St[0],Ct[0]),Math.min(vt[1],At[1],St[1],Ct[1]),Math.max(vt[0],At[0],St[0],Ct[0]),Math.max(vt[1],At[1],St[1],Ct[1])]}static inverseTransform($){const ht=$[0]*$[3]-$[1]*$[2];return[$[3]/ht,-$[1]/ht,-$[2]/ht,$[0]/ht,($[2]*$[5]-$[4]*$[3])/ht,($[4]*$[1]-$[5]*$[0])/ht]}static singularValueDecompose2dScale($){const ht=[$[0],$[2],$[1],$[3]],vt=$[0]*ht[0]+$[1]*ht[2],At=$[0]*ht[1]+$[1]*ht[3],St=$[2]*ht[0]+$[3]*ht[2],Ct=$[2]*ht[1]+$[3]*ht[3],Et=(vt+Ct)/2,Ft=Math.sqrt((vt+Ct)**2-4*(vt*Ct-St*At))/2,wt=Et+Ft||1,_t=Et-Ft||1;return[Math.sqrt(wt),Math.sqrt(_t)]}static normalizeRect($){const ht=$.slice(0);return $[0]>$[2]&&(ht[0]=$[2],ht[2]=$[0]),$[1]>$[3]&&(ht[1]=$[3],ht[3]=$[1]),ht}static intersect($,ht){const vt=Math.max(Math.min($[0],$[2]),Math.min(ht[0],ht[2])),At=Math.min(Math.max($[0],$[2]),Math.max(ht[0],ht[2]));if(vt>At)return null;const St=Math.max(Math.min($[1],$[3]),Math.min(ht[1],ht[3])),Ct=Math.min(Math.max($[1],$[3]),Math.max(ht[1],ht[3]));return St>Ct?null:[vt,St,At,Ct]}static bezierBoundingBox($,ht,vt,At,St,Ct,Et,Ft,wt){return wt?(wt[0]=Math.min(wt[0],$,Et),wt[1]=Math.min(wt[1],ht,Ft),wt[2]=Math.max(wt[2],$,Et),wt[3]=Math.max(wt[3],ht,Ft)):wt=[Math.min($,Et),Math.min(ht,Ft),Math.max($,Et),Math.max(ht,Ft)],Mn(this,j0,p9).call(this,$,vt,St,Et,ht,At,Ct,Ft,3*(-$+3*(vt-St)+Et),6*($-2*vt+St),3*(vt-$),wt),Mn(this,j0,p9).call(this,$,vt,St,Et,ht,At,Ct,Ft,3*(-ht+3*(At-Ct)+Ft),6*(ht-2*At+Ct),3*(At-ht),wt),wt}}j0=new WeakSet,Qx=function($,ht,vt,At,St,Ct,Et,Ft,wt,_t){if(wt<=0||wt>=1)return;const Rt=1-wt,_e=wt*wt,bt=_e*wt,Pt=Rt*(Rt*(Rt*$+3*wt*ht)+3*_e*vt)+bt*At,Xt=Rt*(Rt*(Rt*St+3*wt*Ct)+3*_e*Et)+bt*Ft;_t[0]=Math.min(_t[0],Pt),_t[1]=Math.min(_t[1],Xt),_t[2]=Math.max(_t[2],Pt),_t[3]=Math.max(_t[3],Xt)},p9=function($,ht,vt,At,St,Ct,Et,Ft,wt,_t,Rt,_e){if(Math.abs(wt)<1e-12){Math.abs(_t)>=1e-12&&Mn(this,j0,Qx).call(this,$,ht,vt,At,St,Ct,Et,Ft,-Rt/_t,_e);return}const bt=_t**2-4*Rt*wt;if(bt<0)return;const Pt=Math.sqrt(bt),Xt=2*wt;Mn(this,j0,Qx).call(this,$,ht,vt,At,St,Ct,Et,Ft,(-_t+Pt)/Xt,_e),Mn(this,j0,Qx).call(this,$,ht,vt,At,St,Ct,Et,Ft,(-_t-Pt)/Xt,_e)},Nn(Util,j0);function stringToUTF8String(xt){return decodeURIComponent(escape(xt))}let NormalizeRegex=null,NormalizationMap=null;function normalizeUnicode(xt){return NormalizeRegex||(NormalizeRegex=/([\u00a0\u00b5\u037e\u0eb3\u2000-\u200a\u202f\u2126\ufb00-\ufb04\ufb06\ufb20-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufba1\ufba4-\ufba9\ufbae-\ufbb1\ufbd3-\ufbdc\ufbde-\ufbe7\ufbea-\ufbf8\ufbfc-\ufbfd\ufc00-\ufc5d\ufc64-\ufcf1\ufcf5-\ufd3d\ufd88\ufdf4\ufdfa-\ufdfb\ufe71\ufe77\ufe79\ufe7b\ufe7d]+)|(\ufb05+)/gu,NormalizationMap=new Map([["","t"]])),xt.replaceAll(NormalizeRegex,($,ht,vt)=>ht?ht.normalize("NFKC"):NormalizationMap.get(vt))}function getUuid(){if(typeof crypto<"u"&&typeof(crypto==null?void 0:crypto.randomUUID)=="function")return crypto.randomUUID();const xt=new Uint8Array(32);if(typeof crypto<"u"&&typeof(crypto==null?void 0:crypto.getRandomValues)=="function")crypto.getRandomValues(xt);else for(let $=0;$<32;$++)xt[$]=Math.floor(Math.random()*255);return bytesToString(xt)}const AnnotationPrefix="pdfjs_internal_id_",FontRenderOps={BEZIER_CURVE_TO:0,MOVE_TO:1,LINE_TO:2,QUADRATIC_CURVE_TO:3,RESTORE:4,SAVE:5,SCALE:6,TRANSFORM:7,TRANSLATE:8};class BaseFilterFactory{constructor(){this.constructor===BaseFilterFactory&&unreachable("Cannot initialize BaseFilterFactory.")}addFilter($){return"none"}addHCMFilter($,ht){return"none"}addAlphaFilter($){return"none"}addLuminosityFilter($){return"none"}addHighlightHCMFilter($,ht,vt,At,St){return"none"}destroy($=!1){}}class BaseCanvasFactory{constructor(){this.constructor===BaseCanvasFactory&&unreachable("Cannot initialize BaseCanvasFactory.")}create($,ht){if($<=0||ht<=0)throw new Error("Invalid canvas size");const vt=this._createCanvas($,ht);return{canvas:vt,context:vt.getContext("2d")}}reset($,ht,vt){if(!$.canvas)throw new Error("Canvas is not specified");if(ht<=0||vt<=0)throw new Error("Invalid canvas size");$.canvas.width=ht,$.canvas.height=vt}destroy($){if(!$.canvas)throw new Error("Canvas is not specified");$.canvas.width=0,$.canvas.height=0,$.canvas=null,$.context=null}_createCanvas($,ht){unreachable("Abstract method `_createCanvas` called.")}}class BaseCMapReaderFactory{constructor({baseUrl:$=null,isCompressed:ht=!0}){this.constructor===BaseCMapReaderFactory&&unreachable("Cannot initialize BaseCMapReaderFactory."),this.baseUrl=$,this.isCompressed=ht}async fetch({name:$}){if(!this.baseUrl)throw new Error('The CMap "baseUrl" parameter must be specified, ensure that the "cMapUrl" and "cMapPacked" API parameters are provided.');if(!$)throw new Error("CMap name must be specified.");const ht=this.baseUrl+$+(this.isCompressed?".bcmap":""),vt=this.isCompressed?CMapCompressionType.BINARY:CMapCompressionType.NONE;return this._fetchData(ht,vt).catch(At=>{throw new Error(`Unable to load ${this.isCompressed?"binary ":""}CMap at: ${ht}`)})}_fetchData($,ht){unreachable("Abstract method `_fetchData` called.")}}class BaseStandardFontDataFactory{constructor({baseUrl:$=null}){this.constructor===BaseStandardFontDataFactory&&unreachable("Cannot initialize BaseStandardFontDataFactory."),this.baseUrl=$}async fetch({filename:$}){if(!this.baseUrl)throw new Error('The standard font "baseUrl" parameter must be specified, ensure that the "standardFontDataUrl" API parameter is provided.');if(!$)throw new Error("Font filename must be specified.");const ht=`${this.baseUrl}${$}`;return this._fetchData(ht).catch(vt=>{throw new Error(`Unable to load font data at: ${ht}`)})}_fetchData($){unreachable("Abstract method `_fetchData` called.")}}class BaseSVGFactory{constructor(){this.constructor===BaseSVGFactory&&unreachable("Cannot initialize BaseSVGFactory.")}create($,ht,vt=!1){if($<=0||ht<=0)throw new Error("Invalid SVG dimensions");const At=this._createSVG("svg:svg");return At.setAttribute("version","1.1"),vt||(At.setAttribute("width",`${$}px`),At.setAttribute("height",`${ht}px`)),At.setAttribute("preserveAspectRatio","none"),At.setAttribute("viewBox",`0 0 ${$} ${ht}`),At}createElement($){if(typeof $!="string")throw new Error("Invalid SVG element type");return this._createSVG($)}_createSVG($){unreachable("Abstract method `_createSVG` called.")}}const SVG_NS="http://www.w3.org/2000/svg",Ru=class Ru{};Ur(Ru,"CSS",96),Ur(Ru,"PDF",72),Ur(Ru,"PDF_TO_CSS_UNITS",Ru.CSS/Ru.PDF);let PixelsPerInch=Ru;var Mu,Wl,g0,Uo,H2,Ou,cs,Io,D1,L1,e2,py,g9,N1,Yp,Zp,m9,Jp;class DOMFilterFactory extends BaseFilterFactory{constructor({docId:ht,ownerDocument:vt=globalThis.document}={}){super();Nn(this,cs);Nn(this,Mu);Nn(this,Wl);Nn(this,g0);Nn(this,Uo);Nn(this,H2);Nn(this,Ou,0);$n(this,g0,ht),$n(this,Uo,vt)}addFilter(ht){if(!ht)return"none";let vt=Mt(this,cs,Io).get(ht);if(vt)return vt;const[At,St,Ct]=Mn(this,cs,e2).call(this,ht),Et=ht.length===1?At:`${At}${St}${Ct}`;if(vt=Mt(this,cs,Io).get(Et),vt)return Mt(this,cs,Io).set(ht,vt),vt;const Ft=`g_${Mt(this,g0)}_transfer_map_${So(this,Ou)._++}`,wt=`url(#${Ft})`;Mt(this,cs,Io).set(ht,wt),Mt(this,cs,Io).set(Et,wt);const _t=Mn(this,cs,N1).call(this,Ft);return Mn(this,cs,Zp).call(this,At,St,Ct,_t),wt}addHCMFilter(ht,vt){var Pt;const At=`${ht}-${vt}`,St="base";let Ct=Mt(this,cs,D1).get(St);if((Ct==null?void 0:Ct.key)===At||(Ct?((Pt=Ct.filter)==null||Pt.remove(),Ct.key=At,Ct.url="none",Ct.filter=null):(Ct={key:At,url:"none",filter:null},Mt(this,cs,D1).set(St,Ct)),!ht||!vt))return Ct.url;const Et=Mn(this,cs,Jp).call(this,ht);ht=Util.makeHexColor(...Et);const Ft=Mn(this,cs,Jp).call(this,vt);if(vt=Util.makeHexColor(...Ft),Mt(this,cs,L1).style.color="",ht==="#000000"&&vt==="#ffffff"||ht===vt)return Ct.url;const wt=new Array(256);for(let Xt=0;Xt<=255;Xt++){const Kt=Xt/255;wt[Xt]=Kt<=.03928?Kt/12.92:((Kt+.055)/1.055)**2.4}const _t=wt.join(","),Rt=`g_${Mt(this,g0)}_hcm_filter`,_e=Ct.filter=Mn(this,cs,N1).call(this,Rt);Mn(this,cs,Zp).call(this,_t,_t,_t,_e),Mn(this,cs,g9).call(this,_e);const bt=(Xt,Kt)=>{const Nt=Et[Xt]/255,$t=Ft[Xt]/255,Lt=new Array(Kt+1);for(let jt=0;jt<=Kt;jt++)Lt[jt]=Nt+jt/Kt*($t-Nt);return Lt.join(",")};return Mn(this,cs,Zp).call(this,bt(0,5),bt(1,5),bt(2,5),_e),Ct.url=`url(#${Rt})`,Ct.url}addAlphaFilter(ht){let vt=Mt(this,cs,Io).get(ht);if(vt)return vt;const[At]=Mn(this,cs,e2).call(this,[ht]),St=`alpha_${At}`;if(vt=Mt(this,cs,Io).get(St),vt)return Mt(this,cs,Io).set(ht,vt),vt;const Ct=`g_${Mt(this,g0)}_alpha_map_${So(this,Ou)._++}`,Et=`url(#${Ct})`;Mt(this,cs,Io).set(ht,Et),Mt(this,cs,Io).set(St,Et);const Ft=Mn(this,cs,N1).call(this,Ct);return Mn(this,cs,m9).call(this,At,Ft),Et}addLuminosityFilter(ht){let vt=Mt(this,cs,Io).get(ht||"luminosity");if(vt)return vt;let At,St;if(ht?([At]=Mn(this,cs,e2).call(this,[ht]),St=`luminosity_${At}`):St="luminosity",vt=Mt(this,cs,Io).get(St),vt)return Mt(this,cs,Io).set(ht,vt),vt;const Ct=`g_${Mt(this,g0)}_luminosity_map_${So(this,Ou)._++}`,Et=`url(#${Ct})`;Mt(this,cs,Io).set(ht,Et),Mt(this,cs,Io).set(St,Et);const Ft=Mn(this,cs,N1).call(this,Ct);return Mn(this,cs,py).call(this,Ft),ht&&Mn(this,cs,m9).call(this,At,Ft),Et}addHighlightHCMFilter(ht,vt,At,St,Ct){var $t;const Et=`${vt}-${At}-${St}-${Ct}`;let Ft=Mt(this,cs,D1).get(ht);if((Ft==null?void 0:Ft.key)===Et||(Ft?(($t=Ft.filter)==null||$t.remove(),Ft.key=Et,Ft.url="none",Ft.filter=null):(Ft={key:Et,url:"none",filter:null},Mt(this,cs,D1).set(ht,Ft)),!vt||!At))return Ft.url;const[wt,_t]=[vt,At].map(Mn(this,cs,Jp).bind(this));let Rt=Math.round(.2126*wt[0]+.7152*wt[1]+.0722*wt[2]),_e=Math.round(.2126*_t[0]+.7152*_t[1]+.0722*_t[2]),[bt,Pt]=[St,Ct].map(Mn(this,cs,Jp).bind(this));_e<Rt&&([Rt,_e,bt,Pt]=[_e,Rt,Pt,bt]),Mt(this,cs,L1).style.color="";const Xt=(Lt,jt,kt)=>{const qt=new Array(256),Bt=(_e-Rt)/kt,Gt=Lt/255,en=(jt-Lt)/(255*kt);let dn=0;for(let Qt=0;Qt<=kt;Qt++){const gn=Math.round(Rt+Qt*Bt),tn=Gt+Qt*en;for(let bn=dn;bn<=gn;bn++)qt[bn]=tn;dn=gn+1}for(let Qt=dn;Qt<256;Qt++)qt[Qt]=qt[dn-1];return qt.join(",")},Kt=`g_${Mt(this,g0)}_hcm_${ht}_filter`,Nt=Ft.filter=Mn(this,cs,N1).call(this,Kt);return Mn(this,cs,g9).call(this,Nt),Mn(this,cs,Zp).call(this,Xt(bt[0],Pt[0],5),Xt(bt[1],Pt[1],5),Xt(bt[2],Pt[2],5),Nt),Ft.url=`url(#${Kt})`,Ft.url}destroy(ht=!1){ht&&Mt(this,cs,D1).size!==0||(Mt(this,Wl)&&(Mt(this,Wl).parentNode.parentNode.remove(),$n(this,Wl,null)),Mt(this,Mu)&&(Mt(this,Mu).clear(),$n(this,Mu,null)),$n(this,Ou,0))}}Mu=new WeakMap,Wl=new WeakMap,g0=new WeakMap,Uo=new WeakMap,H2=new WeakMap,Ou=new WeakMap,cs=new WeakSet,Io=function(){return Mt(this,Mu)||$n(this,Mu,new Map)},D1=function(){return Mt(this,H2)||$n(this,H2,new Map)},L1=function(){if(!Mt(this,Wl)){const ht=Mt(this,Uo).createElement("div"),{style:vt}=ht;vt.visibility="hidden",vt.contain="strict",vt.width=vt.height=0,vt.position="absolute",vt.top=vt.left=0,vt.zIndex=-1;const At=Mt(this,Uo).createElementNS(SVG_NS,"svg");At.setAttribute("width",0),At.setAttribute("height",0),$n(this,Wl,Mt(this,Uo).createElementNS(SVG_NS,"defs")),ht.append(At),At.append(Mt(this,Wl)),Mt(this,Uo).body.append(ht)}return Mt(this,Wl)},e2=function(ht){if(ht.length===1){const wt=ht[0],_t=new Array(256);for(let _e=0;_e<256;_e++)_t[_e]=wt[_e]/255;const Rt=_t.join(",");return[Rt,Rt,Rt]}const[vt,At,St]=ht,Ct=new Array(256),Et=new Array(256),Ft=new Array(256);for(let wt=0;wt<256;wt++)Ct[wt]=vt[wt]/255,Et[wt]=At[wt]/255,Ft[wt]=St[wt]/255;return[Ct.join(","),Et.join(","),Ft.join(",")]},py=function(ht){const vt=Mt(this,Uo).createElementNS(SVG_NS,"feColorMatrix");vt.setAttribute("type","matrix"),vt.setAttribute("values","0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.3 0.59 0.11 0 0"),ht.append(vt)},g9=function(ht){const vt=Mt(this,Uo).createElementNS(SVG_NS,"feColorMatrix");vt.setAttribute("type","matrix"),vt.setAttribute("values","0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0 0 0 1 0"),ht.append(vt)},N1=function(ht){const vt=Mt(this,Uo).createElementNS(SVG_NS,"filter");return vt.setAttribute("color-interpolation-filters","sRGB"),vt.setAttribute("id",ht),Mt(this,cs,L1).append(vt),vt},Yp=function(ht,vt,At){const St=Mt(this,Uo).createElementNS(SVG_NS,vt);St.setAttribute("type","discrete"),St.setAttribute("tableValues",At),ht.append(St)},Zp=function(ht,vt,At,St){const Ct=Mt(this,Uo).createElementNS(SVG_NS,"feComponentTransfer");St.append(Ct),Mn(this,cs,Yp).call(this,Ct,"feFuncR",ht),Mn(this,cs,Yp).call(this,Ct,"feFuncG",vt),Mn(this,cs,Yp).call(this,Ct,"feFuncB",At)},m9=function(ht,vt){const At=Mt(this,Uo).createElementNS(SVG_NS,"feComponentTransfer");vt.append(At),Mn(this,cs,Yp).call(this,At,"feFuncA",ht)},Jp=function(ht){return Mt(this,cs,L1).style.color=ht,getRGB(getComputedStyle(Mt(this,cs,L1)).getPropertyValue("color"))};class DOMCanvasFactory extends BaseCanvasFactory{constructor({ownerDocument:$=globalThis.document}={}){super(),this._document=$}_createCanvas($,ht){const vt=this._document.createElement("canvas");return vt.width=$,vt.height=ht,vt}}async function fetchData(xt,$="text"){if(isValidFetchUrl(xt,document.baseURI)){const ht=await fetch(xt);if(!ht.ok)throw new Error(ht.statusText);switch($){case"arraybuffer":return ht.arrayBuffer();case"blob":return ht.blob();case"json":return ht.json()}return ht.text()}return new Promise((ht,vt)=>{const At=new XMLHttpRequest;At.open("GET",xt,!0),At.responseType=$,At.onreadystatechange=()=>{if(At.readyState===XMLHttpRequest.DONE){if(At.status===200||At.status===0){switch($){case"arraybuffer":case"blob":case"json":ht(At.response);return}ht(At.responseText);return}vt(new Error(At.statusText))}},At.send(null)})}class DOMCMapReaderFactory extends BaseCMapReaderFactory{_fetchData($,ht){return fetchData($,this.isCompressed?"arraybuffer":"text").then(vt=>({cMapData:vt instanceof ArrayBuffer?new Uint8Array(vt):stringToBytes(vt),compressionType:ht}))}}class DOMStandardFontDataFactory extends BaseStandardFontDataFactory{_fetchData($){return fetchData($,"arraybuffer").then(ht=>new Uint8Array(ht))}}class DOMSVGFactory extends BaseSVGFactory{_createSVG($){return document.createElementNS(SVG_NS,$)}}class PageViewport{constructor({viewBox:$,scale:ht,rotation:vt,offsetX:At=0,offsetY:St=0,dontFlip:Ct=!1}){this.viewBox=$,this.scale=ht,this.rotation=vt,this.offsetX=At,this.offsetY=St;const Et=($[2]+$[0])/2,Ft=($[3]+$[1])/2;let wt,_t,Rt,_e;switch(vt%=360,vt<0&&(vt+=360),vt){case 180:wt=-1,_t=0,Rt=0,_e=1;break;case 90:wt=0,_t=1,Rt=1,_e=0;break;case 270:wt=0,_t=-1,Rt=-1,_e=0;break;case 0:wt=1,_t=0,Rt=0,_e=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}Ct&&(Rt=-Rt,_e=-_e);let bt,Pt,Xt,Kt;wt===0?(bt=Math.abs(Ft-$[1])*ht+At,Pt=Math.abs(Et-$[0])*ht+St,Xt=($[3]-$[1])*ht,Kt=($[2]-$[0])*ht):(bt=Math.abs(Et-$[0])*ht+At,Pt=Math.abs(Ft-$[1])*ht+St,Xt=($[2]-$[0])*ht,Kt=($[3]-$[1])*ht),this.transform=[wt*ht,_t*ht,Rt*ht,_e*ht,bt-wt*ht*Et-Rt*ht*Ft,Pt-_t*ht*Et-_e*ht*Ft],this.width=Xt,this.height=Kt}get rawDims(){const{viewBox:$}=this;return shadow(this,"rawDims",{pageWidth:$[2]-$[0],pageHeight:$[3]-$[1],pageX:$[0],pageY:$[1]})}clone({scale:$=this.scale,rotation:ht=this.rotation,offsetX:vt=this.offsetX,offsetY:At=this.offsetY,dontFlip:St=!1}={}){return new PageViewport({viewBox:this.viewBox.slice(),scale:$,rotation:ht,offsetX:vt,offsetY:At,dontFlip:St})}convertToViewportPoint($,ht){return Util.applyTransform([$,ht],this.transform)}convertToViewportRectangle($){const ht=Util.applyTransform([$[0],$[1]],this.transform),vt=Util.applyTransform([$[2],$[3]],this.transform);return[ht[0],ht[1],vt[0],vt[1]]}convertToPdfPoint($,ht){return Util.applyInverseTransform([$,ht],this.transform)}}class RenderingCancelledException extends BaseException{constructor($,ht=0){super($,"RenderingCancelledException"),this.extraDelay=ht}}function isDataScheme(xt){const $=xt.length;let ht=0;for(;ht<$&&xt[ht].trim()==="";)ht++;return xt.substring(ht,ht+5).toLowerCase()==="data:"}function isPdfFile(xt){return typeof xt=="string"&&/\.pdf$/i.test(xt)}function getFilenameFromUrl(xt){return[xt]=xt.split(/[#?]/,1),xt.substring(xt.lastIndexOf("/")+1)}function getPdfFilenameFromUrl(xt,$="document.pdf"){if(typeof xt!="string")return $;if(isDataScheme(xt))return warn('getPdfFilenameFromUrl: ignore "data:"-URL for performance reasons.'),$;const ht=/^(?:(?:[^:]+:)?\/\/[^/]+)?([^?#]*)(\?[^#]*)?(#.*)?$/,vt=/[^/?#=]+\.pdf\b(?!.*\.pdf\b)/i,At=ht.exec(xt);let St=vt.exec(At[1])||vt.exec(At[2])||vt.exec(At[3]);if(St&&(St=St[0],St.includes("%")))try{St=vt.exec(decodeURIComponent(St))[0]}catch{}return St||$}class StatTimer{constructor(){Ur(this,"started",Object.create(null));Ur(this,"times",[])}time($){$ in this.started&&warn(`Timer is already running for ${$}`),this.started[$]=Date.now()}timeEnd($){$ in this.started||warn(`Timer has not been started for ${$}`),this.times.push({name:$,start:this.started[$],end:Date.now()}),delete this.started[$]}toString(){const $=[];let ht=0;for(const{name:vt}of this.times)ht=Math.max(vt.length,ht);for(const{name:vt,start:At,end:St}of this.times)$.push(`${vt.padEnd(ht)} ${St-At}ms
`);return $.join("")}}function isValidFetchUrl(xt,$){try{const{protocol:ht}=$?new URL(xt,$):new URL(xt);return ht==="http:"||ht==="https:"}catch{return!1}}function noContextMenu(xt){xt.preventDefault()}function deprecated(xt){console.log("Deprecated API usage: "+xt)}let pdfDateStringRegex;class PDFDateString{static toDateObject($){if(!$||typeof $!="string")return null;pdfDateStringRegex||(pdfDateStringRegex=new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?"));const ht=pdfDateStringRegex.exec($);if(!ht)return null;const vt=parseInt(ht[1],10);let At=parseInt(ht[2],10);At=At>=1&&At<=12?At-1:0;let St=parseInt(ht[3],10);St=St>=1&&St<=31?St:1;let Ct=parseInt(ht[4],10);Ct=Ct>=0&&Ct<=23?Ct:0;let Et=parseInt(ht[5],10);Et=Et>=0&&Et<=59?Et:0;let Ft=parseInt(ht[6],10);Ft=Ft>=0&&Ft<=59?Ft:0;const wt=ht[7]||"Z";let _t=parseInt(ht[8],10);_t=_t>=0&&_t<=23?_t:0;let Rt=parseInt(ht[9],10)||0;return Rt=Rt>=0&&Rt<=59?Rt:0,wt==="-"?(Ct+=_t,Et+=Rt):wt==="+"&&(Ct-=_t,Et-=Rt),new Date(Date.UTC(vt,At,St,Ct,Et,Ft))}}function getXfaPageViewport(xt,{scale:$=1,rotation:ht=0}){const{width:vt,height:At}=xt.attributes.style,St=[0,0,parseInt(vt),parseInt(At)];return new PageViewport({viewBox:St,scale:$,rotation:ht})}function getRGB(xt){if(xt.startsWith("#")){const $=parseInt(xt.slice(1),16);return[($&16711680)>>16,($&65280)>>8,$&255]}return xt.startsWith("rgb(")?xt.slice(4,-1).split(",").map($=>parseInt($)):xt.startsWith("rgba(")?xt.slice(5,-1).split(",").map($=>parseInt($)).slice(0,3):(warn(`Not a valid color format: "${xt}"`),[0,0,0])}function getColorValues(xt){const $=document.createElement("span");$.style.visibility="hidden",document.body.append($);for(const ht of xt.keys()){$.style.color=ht;const vt=window.getComputedStyle($).color;xt.set(ht,getRGB(vt))}$.remove()}function getCurrentTransform(xt){const{a:$,b:ht,c:vt,d:At,e:St,f:Ct}=xt.getTransform();return[$,ht,vt,At,St,Ct]}function getCurrentTransformInverse(xt){const{a:$,b:ht,c:vt,d:At,e:St,f:Ct}=xt.getTransform().invertSelf();return[$,ht,vt,At,St,Ct]}function setLayerDimensions(xt,$,ht=!1,vt=!0){if($ instanceof PageViewport){const{pageWidth:At,pageHeight:St}=$.rawDims,{style:Ct}=xt,Et=util_FeatureTest.isCSSRoundSupported,Ft=`var(--scale-factor) * ${At}px`,wt=`var(--scale-factor) * ${St}px`,_t=Et?`round(${Ft}, 1px)`:`calc(${Ft})`,Rt=Et?`round(${wt}, 1px)`:`calc(${wt})`;!ht||$.rotation%180===0?(Ct.width=_t,Ct.height=Rt):(Ct.width=Rt,Ct.height=_t)}vt&&xt.setAttribute("data-main-rotation",$.rotation)}var Du,Lu,Vl,Nu,z2,gy,$o,my,xy,t2,by,x9;const X2=class X2{constructor($){Nn(this,$o);Nn(this,Du,null);Nn(this,Lu,null);Nn(this,Vl);Nn(this,Nu,null);$n(this,Vl,$)}render(){const $=$n(this,Du,document.createElement("div"));$.className="editToolbar",$.setAttribute("role","toolbar"),$.addEventListener("contextmenu",noContextMenu),$.addEventListener("pointerdown",Mn(X2,z2,gy));const ht=$n(this,Nu,document.createElement("div"));ht.className="buttons",$.append(ht);const vt=Mt(this,Vl).toolbarPosition;if(vt){const{style:At}=$,St=Mt(this,Vl)._uiManager.direction==="ltr"?1-vt[0]:vt[0];At.insetInlineEnd=`${100*St}%`,At.top=`calc(${100*vt[1]}% + var(--editor-toolbar-vert-offset))`}return Mn(this,$o,by).call(this),$}hide(){var $;Mt(this,Du).classList.add("hidden"),($=Mt(this,Lu))==null||$.hideDropdown()}show(){Mt(this,Du).classList.remove("hidden")}addAltTextButton($){Mn(this,$o,t2).call(this,$),Mt(this,Nu).prepend($,Mt(this,$o,x9))}addColorPicker($){$n(this,Lu,$);const ht=$.renderButton();Mn(this,$o,t2).call(this,ht),Mt(this,Nu).prepend(ht,Mt(this,$o,x9))}remove(){var $;Mt(this,Du).remove(),($=Mt(this,Lu))==null||$.destroy(),$n(this,Lu,null)}};Du=new WeakMap,Lu=new WeakMap,Vl=new WeakMap,Nu=new WeakMap,z2=new WeakSet,gy=function($){$.stopPropagation()},$o=new WeakSet,my=function($){Mt(this,Vl)._focusEventsAllowed=!1,$.preventDefault(),$.stopPropagation()},xy=function($){Mt(this,Vl)._focusEventsAllowed=!0,$.preventDefault(),$.stopPropagation()},t2=function($){$.addEventListener("focusin",Mn(this,$o,my).bind(this),{capture:!0}),$.addEventListener("focusout",Mn(this,$o,xy).bind(this),{capture:!0}),$.addEventListener("contextmenu",noContextMenu)},by=function(){const $=document.createElement("button");$.className="delete",$.tabIndex=0,$.setAttribute("data-l10n-id",`pdfjs-editor-remove-${Mt(this,Vl).editorType}-button`),Mn(this,$o,t2).call(this,$),$.addEventListener("click",ht=>{Mt(this,Vl)._uiManager.delete()}),Mt(this,Nu).append($)},x9=function(){const $=document.createElement("div");return $.className="divider",$},Nn(X2,z2);let EditorToolbar=X2;var mm,$u,xm,bu,yy,vy,wy;class HighlightToolbar{constructor($){Nn(this,bu);Nn(this,mm,null);Nn(this,$u,null);Nn(this,xm);$n(this,xm,$)}show($,ht,vt){const[At,St]=Mn(this,bu,vy).call(this,ht,vt),{style:Ct}=Mt(this,$u)||$n(this,$u,Mn(this,bu,yy).call(this));$.append(Mt(this,$u)),Ct.insetInlineEnd=`${100*At}%`,Ct.top=`calc(${100*St}% + var(--editor-toolbar-vert-offset))`}hide(){Mt(this,$u).remove()}}mm=new WeakMap,$u=new WeakMap,xm=new WeakMap,bu=new WeakSet,yy=function(){const $=$n(this,$u,document.createElement("div"));$.className="editToolbar",$.setAttribute("role","toolbar"),$.addEventListener("contextmenu",noContextMenu);const ht=$n(this,mm,document.createElement("div"));return ht.className="buttons",$.append(ht),Mn(this,bu,wy).call(this),$},vy=function($,ht){let vt=0,At=0;for(const St of $){const Ct=St.y+St.height;if(Ct<vt)continue;const Et=St.x+(ht?St.width:0);if(Ct>vt){At=Et,vt=Ct;continue}ht?Et>At&&(At=Et):Et<At&&(At=Et)}return[ht?1-At:At,vt]},wy=function(){const $=document.createElement("button");$.className="highlightButton",$.tabIndex=0,$.setAttribute("data-l10n-id","pdfjs-highlight-floating-button1");const ht=document.createElement("span");$.append(ht),ht.className="visuallyHidden",ht.setAttribute("data-l10n-id","pdfjs-highlight-floating-button-label"),$.addEventListener("contextmenu",noContextMenu),$.addEventListener("click",()=>{Mt(this,xm).highlightSelection("floating_button")}),Mt(this,mm).append($)};function bindEvents(xt,$,ht){for(const vt of ht)$.addEventListener(vt,xt[vt].bind(xt))}function opacityToHex(xt){return Math.round(Math.min(255,Math.max(1,255*xt))).toString(16).padStart(2,"0")}var W2;class IdManager{constructor(){Nn(this,W2,0)}get id(){return`${AnnotationEditorPrefix}${So(this,W2)._++}`}}W2=new WeakMap;var bm,V2,yl,ym,b9;const ey=class ey{constructor(){Nn(this,ym);Nn(this,bm,getUuid());Nn(this,V2,0);Nn(this,yl,null)}static get _isSVGFittingCanvas(){const $='data:image/svg+xml;charset=UTF-8,<svg viewBox="0 0 1 1" width="1" height="1" xmlns="http://www.w3.org/2000/svg"><rect width="1" height="1" style="fill:red;"/></svg>',vt=new OffscreenCanvas(1,3).getContext("2d"),At=new Image;At.src=$;const St=At.decode().then(()=>(vt.drawImage(At,0,0,1,1,0,0,1,3),new Uint32Array(vt.getImageData(0,0,1,1).data.buffer)[0]===0));return shadow(this,"_isSVGFittingCanvas",St)}async getFromFile($){const{lastModified:ht,name:vt,size:At,type:St}=$;return Mn(this,ym,b9).call(this,`${ht}_${vt}_${At}_${St}`,$)}async getFromUrl($){return Mn(this,ym,b9).call(this,$,$)}async getFromId($){Mt(this,yl)||$n(this,yl,new Map);const ht=Mt(this,yl).get($);return ht?ht.bitmap?(ht.refCounter+=1,ht):ht.file?this.getFromFile(ht.file):this.getFromUrl(ht.url):null}getSvgUrl($){const ht=Mt(this,yl).get($);return ht!=null&&ht.isSvg?ht.svgUrl:null}deleteId($){Mt(this,yl)||$n(this,yl,new Map);const ht=Mt(this,yl).get($);ht&&(ht.refCounter-=1,ht.refCounter===0&&(ht.bitmap=null))}isValidId($){return $.startsWith(`image_${Mt(this,bm)}_`)}};bm=new WeakMap,V2=new WeakMap,yl=new WeakMap,ym=new WeakSet,b9=async function($,ht){Mt(this,yl)||$n(this,yl,new Map);let vt=Mt(this,yl).get($);if(vt===null)return null;if(vt!=null&&vt.bitmap)return vt.refCounter+=1,vt;try{vt||(vt={bitmap:null,id:`image_${Mt(this,bm)}_${So(this,V2)._++}`,refCounter:0,isSvg:!1});let At;if(typeof ht=="string"?(vt.url=ht,At=await fetchData(ht,"blob")):At=vt.file=ht,At.type==="image/svg+xml"){const St=ey._isSVGFittingCanvas,Ct=new FileReader,Et=new Image,Ft=new Promise((wt,_t)=>{Et.onload=()=>{vt.bitmap=Et,vt.isSvg=!0,wt()},Ct.onload=async()=>{const Rt=vt.svgUrl=Ct.result;Et.src=await St?`${Rt}#svgView(preserveAspectRatio(none))`:Rt},Et.onerror=Ct.onerror=_t});Ct.readAsDataURL(At),await Ft}else vt.bitmap=await createImageBitmap(At);vt.refCounter=1}catch(At){console.error(At),vt=null}return Mt(this,yl).set($,vt),vt&&Mt(this,yl).set(vt.id,vt),vt};let ImageManager=ey;var yo,Z0,vm,vo;class CommandManager{constructor($=128){Nn(this,yo,[]);Nn(this,Z0,!1);Nn(this,vm);Nn(this,vo,-1);$n(this,vm,$)}add({cmd:$,undo:ht,post:vt,mustExec:At,type:St=NaN,overwriteIfSameType:Ct=!1,keepUndo:Et=!1}){if(At&&$(),Mt(this,Z0))return;const Ft={cmd:$,undo:ht,post:vt,type:St};if(Mt(this,vo)===-1){Mt(this,yo).length>0&&(Mt(this,yo).length=0),$n(this,vo,0),Mt(this,yo).push(Ft);return}if(Ct&&Mt(this,yo)[Mt(this,vo)].type===St){Et&&(Ft.undo=Mt(this,yo)[Mt(this,vo)].undo),Mt(this,yo)[Mt(this,vo)]=Ft;return}const wt=Mt(this,vo)+1;wt===Mt(this,vm)?Mt(this,yo).splice(0,1):($n(this,vo,wt),wt<Mt(this,yo).length&&Mt(this,yo).splice(wt)),Mt(this,yo).push(Ft)}undo(){if(Mt(this,vo)===-1)return;$n(this,Z0,!0);const{undo:$,post:ht}=Mt(this,yo)[Mt(this,vo)];$(),ht==null||ht(),$n(this,Z0,!1),$n(this,vo,Mt(this,vo)-1)}redo(){if(Mt(this,vo)<Mt(this,yo).length-1){$n(this,vo,Mt(this,vo)+1),$n(this,Z0,!0);const{cmd:$,post:ht}=Mt(this,yo)[Mt(this,vo)];$(),ht==null||ht(),$n(this,Z0,!1)}}hasSomethingToUndo(){return Mt(this,vo)!==-1}hasSomethingToRedo(){return Mt(this,vo)<Mt(this,yo).length-1}destroy(){$n(this,yo,null)}}yo=new WeakMap,Z0=new WeakMap,vm=new WeakMap,vo=new WeakMap;var G2,Ay;class KeyboardManager{constructor($){Nn(this,G2);this.buffer=[],this.callbacks=new Map,this.allKeys=new Set;const{isMac:ht}=util_FeatureTest.platform;for(const[vt,At,St={}]of $)for(const Ct of vt){const Et=Ct.startsWith("mac+");ht&&Et?(this.callbacks.set(Ct.slice(4),{callback:At,options:St}),this.allKeys.add(Ct.split("+").at(-1))):!ht&&!Et&&(this.callbacks.set(Ct,{callback:At,options:St}),this.allKeys.add(Ct.split("+").at(-1)))}}exec($,ht){if(!this.allKeys.has(ht.key))return;const vt=this.callbacks.get(Mn(this,G2,Ay).call(this,ht));if(!vt)return;const{callback:At,options:{bubbles:St=!1,args:Ct=[],checker:Et=null}}=vt;Et&&!Et($,ht)||(At.bind($,...Ct,ht)(),St||(ht.stopPropagation(),ht.preventDefault()))}}G2=new WeakSet,Ay=function($){$.altKey&&this.buffer.push("alt"),$.ctrlKey&&this.buffer.push("ctrl"),$.metaKey&&this.buffer.push("meta"),$.shiftKey&&this.buffer.push("shift"),this.buffer.push($.key);const ht=this.buffer.join("+");return this.buffer.length=0,ht};const q2=class q2{get _colors(){const $=new Map([["CanvasText",null],["Canvas",null]]);return getColorValues($),shadow(this,"_colors",$)}convert($){const ht=getRGB($);if(!window.matchMedia("(forced-colors: active)").matches)return ht;for(const[vt,At]of this._colors)if(At.every((St,Ct)=>St===ht[Ct]))return q2._colorsMapping.get(vt);return ht}getHexCode($){const ht=this._colors.get($);return ht?Util.makeHexColor(...ht):$}};Ur(q2,"_colorsMapping",new Map([["CanvasText",[0,0,0]],["Canvas",[255,255,255]]]));let ColorManager=q2;var Go,fo,Co,Y1,m0,Z1,Rl,J1,ju,Gl,x0,Bu,wm,Am,Kl,Q1,J0,Yl,K2,Q0,Sm,Uu,Em,ep,ko,Ks,b0,Hu,Cm,km,Tm,_m,Fm,Pm,Rm,Im,Mm,Om,Dm,Lm,Nm,$m,eu,Zl,y0,jm,Yr,n2,Sy,Ey,i2,Cy,ky,Ty,y9,v9,w9,A9,S9,Oo,K0,_y,Fy,E9,Py,Qp,C9;const K1=class K1{constructor($,ht,vt,At,St,Ct,Et,Ft,wt){Nn(this,Yr);Nn(this,Go,null);Nn(this,fo,new Map);Nn(this,Co,new Map);Nn(this,Y1,null);Nn(this,m0,null);Nn(this,Z1,null);Nn(this,Rl,new CommandManager);Nn(this,J1,0);Nn(this,ju,new Set);Nn(this,Gl,null);Nn(this,x0,null);Nn(this,Bu,new Set);Nn(this,wm,!1);Nn(this,Am,null);Nn(this,Kl,null);Nn(this,Q1,null);Nn(this,J0,!1);Nn(this,Yl,null);Nn(this,K2,new IdManager);Nn(this,Q0,!1);Nn(this,Sm,!1);Nn(this,Uu,null);Nn(this,Em,null);Nn(this,ep,null);Nn(this,ko,AnnotationEditorType.NONE);Nn(this,Ks,new Set);Nn(this,b0,null);Nn(this,Hu,null);Nn(this,Cm,null);Nn(this,km,this.blur.bind(this));Nn(this,Tm,this.focus.bind(this));Nn(this,_m,this.copy.bind(this));Nn(this,Fm,this.cut.bind(this));Nn(this,Pm,this.paste.bind(this));Nn(this,Rm,this.keydown.bind(this));Nn(this,Im,this.keyup.bind(this));Nn(this,Mm,this.onEditingAction.bind(this));Nn(this,Om,this.onPageChanging.bind(this));Nn(this,Dm,this.onScaleChanging.bind(this));Nn(this,Lm,Mn(this,Yr,Ey).bind(this));Nn(this,Nm,this.onRotationChanging.bind(this));Nn(this,$m,{isEditing:!1,isEmpty:!0,hasSomethingToUndo:!1,hasSomethingToRedo:!1,hasSelectedEditor:!1,hasSelectedText:!1});Nn(this,eu,[0,0]);Nn(this,Zl,null);Nn(this,y0,null);Nn(this,jm,null);$n(this,y0,$),$n(this,jm,ht),$n(this,Y1,vt),this._eventBus=At,this._eventBus._on("editingaction",Mt(this,Mm)),this._eventBus._on("pagechanging",Mt(this,Om)),this._eventBus._on("scalechanging",Mt(this,Dm)),this._eventBus._on("rotationchanging",Mt(this,Nm)),Mn(this,Yr,Cy).call(this),Mn(this,Yr,v9).call(this),$n(this,m0,St.annotationStorage),$n(this,Am,St.filterFactory),$n(this,Hu,Ct),$n(this,Q1,Et||null),$n(this,wm,Ft),$n(this,ep,wt||null),this.viewParameters={realScale:PixelsPerInch.PDF_TO_CSS_UNITS,rotation:0},this.isShiftKeyDown=!1}static get _keyboardManager(){const $=K1.prototype,ht=Ct=>Mt(Ct,y0).contains(document.activeElement)&&document.activeElement.tagName!=="BUTTON"&&Ct.hasSomethingToControl(),vt=(Ct,{target:Et})=>{if(Et instanceof HTMLInputElement){const{type:Ft}=Et;return Ft!=="text"&&Ft!=="number"}return!0},At=this.TRANSLATE_SMALL,St=this.TRANSLATE_BIG;return shadow(this,"_keyboardManager",new KeyboardManager([[["ctrl+a","mac+meta+a"],$.selectAll,{checker:vt}],[["ctrl+z","mac+meta+z"],$.undo,{checker:vt}],[["ctrl+y","ctrl+shift+z","mac+meta+shift+z","ctrl+shift+Z","mac+meta+shift+Z"],$.redo,{checker:vt}],[["Backspace","alt+Backspace","ctrl+Backspace","shift+Backspace","mac+Backspace","mac+alt+Backspace","mac+ctrl+Backspace","Delete","ctrl+Delete","shift+Delete","mac+Delete"],$.delete,{checker:vt}],[["Enter","mac+Enter"],$.addNewEditorFromKeyboard,{checker:(Ct,{target:Et})=>!(Et instanceof HTMLButtonElement)&&Mt(Ct,y0).contains(Et)&&!Ct.isEnterHandled}],[[" ","mac+ "],$.addNewEditorFromKeyboard,{checker:(Ct,{target:Et})=>!(Et instanceof HTMLButtonElement)&&Mt(Ct,y0).contains(document.activeElement)}],[["Escape","mac+Escape"],$.unselectAll],[["ArrowLeft","mac+ArrowLeft"],$.translateSelectedEditors,{args:[-At,0],checker:ht}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],$.translateSelectedEditors,{args:[-St,0],checker:ht}],[["ArrowRight","mac+ArrowRight"],$.translateSelectedEditors,{args:[At,0],checker:ht}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],$.translateSelectedEditors,{args:[St,0],checker:ht}],[["ArrowUp","mac+ArrowUp"],$.translateSelectedEditors,{args:[0,-At],checker:ht}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],$.translateSelectedEditors,{args:[0,-St],checker:ht}],[["ArrowDown","mac+ArrowDown"],$.translateSelectedEditors,{args:[0,At],checker:ht}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],$.translateSelectedEditors,{args:[0,St],checker:ht}]]))}destroy(){var $,ht;Mn(this,Yr,w9).call(this),Mn(this,Yr,y9).call(this),this._eventBus._off("editingaction",Mt(this,Mm)),this._eventBus._off("pagechanging",Mt(this,Om)),this._eventBus._off("scalechanging",Mt(this,Dm)),this._eventBus._off("rotationchanging",Mt(this,Nm));for(const vt of Mt(this,Co).values())vt.destroy();Mt(this,Co).clear(),Mt(this,fo).clear(),Mt(this,Bu).clear(),$n(this,Go,null),Mt(this,Ks).clear(),Mt(this,Rl).destroy(),($=Mt(this,Y1))==null||$.destroy(),(ht=Mt(this,Yl))==null||ht.hide(),$n(this,Yl,null),Mt(this,Kl)&&(clearTimeout(Mt(this,Kl)),$n(this,Kl,null)),Mt(this,Zl)&&(clearTimeout(Mt(this,Zl)),$n(this,Zl,null)),Mn(this,Yr,ky).call(this)}async mlGuess($){var ht;return((ht=Mt(this,ep))==null?void 0:ht.guess($))||null}get hasMLManager(){return!!Mt(this,ep)}get hcmFilter(){return shadow(this,"hcmFilter",Mt(this,Hu)?Mt(this,Am).addHCMFilter(Mt(this,Hu).foreground,Mt(this,Hu).background):"none")}get direction(){return shadow(this,"direction",getComputedStyle(Mt(this,y0)).direction)}get highlightColors(){return shadow(this,"highlightColors",Mt(this,Q1)?new Map(Mt(this,Q1).split(",").map($=>$.split("=").map(ht=>ht.trim()))):null)}get highlightColorNames(){return shadow(this,"highlightColorNames",this.highlightColors?new Map(Array.from(this.highlightColors,$=>$.reverse())):null)}setMainHighlightColorPicker($){$n(this,Em,$)}editAltText($){var ht;(ht=Mt(this,Y1))==null||ht.editAltText(this,$)}onPageChanging({pageNumber:$}){$n(this,J1,$-1)}focusMainContainer(){Mt(this,y0).focus()}findParent($,ht){for(const vt of Mt(this,Co).values()){const{x:At,y:St,width:Ct,height:Et}=vt.div.getBoundingClientRect();if($>=At&&$<=At+Ct&&ht>=St&&ht<=St+Et)return vt}return null}disableUserSelect($=!1){Mt(this,jm).classList.toggle("noUserSelect",$)}addShouldRescale($){Mt(this,Bu).add($)}removeShouldRescale($){Mt(this,Bu).delete($)}onScaleChanging({scale:$}){this.commitOrRemove(),this.viewParameters.realScale=$*PixelsPerInch.PDF_TO_CSS_UNITS;for(const ht of Mt(this,Bu))ht.onScaleChanging()}onRotationChanging({pagesRotation:$}){this.commitOrRemove(),this.viewParameters.rotation=$}highlightSelection($=""){const ht=document.getSelection();if(!ht||ht.isCollapsed)return;const{anchorNode:vt,anchorOffset:At,focusNode:St,focusOffset:Ct}=ht,Et=ht.toString(),wt=Mn(this,Yr,n2).call(this,ht).closest(".textLayer"),_t=this.getSelectionBoxes(wt);if(_t){ht.empty(),Mt(this,ko)===AnnotationEditorType.NONE&&(this._eventBus.dispatch("showannotationeditorui",{source:this,mode:AnnotationEditorType.HIGHLIGHT}),this.showAllEditors("highlight",!0,!0));for(const Rt of Mt(this,Co).values())if(Rt.hasTextLayer(wt)){Rt.createAndAddNewEditor({x:0,y:0},!1,{methodOfCreation:$,boxes:_t,anchorNode:vt,anchorOffset:At,focusNode:St,focusOffset:Ct,text:Et});break}}}addToAnnotationStorage($){!$.isEmpty()&&Mt(this,m0)&&!Mt(this,m0).has($.id)&&Mt(this,m0).setValue($.id,$)}blur(){if(this.isShiftKeyDown=!1,Mt(this,J0)&&($n(this,J0,!1),Mn(this,Yr,i2).call(this,"main_toolbar")),!this.hasSelection)return;const{activeElement:$}=document;for(const ht of Mt(this,Ks))if(ht.div.contains($)){$n(this,Uu,[ht,$]),ht._focusEventsAllowed=!1;break}}focus(){if(!Mt(this,Uu))return;const[$,ht]=Mt(this,Uu);$n(this,Uu,null),ht.addEventListener("focusin",()=>{$._focusEventsAllowed=!0},{once:!0}),ht.focus()}addEditListeners(){Mn(this,Yr,v9).call(this),Mn(this,Yr,A9).call(this)}removeEditListeners(){Mn(this,Yr,w9).call(this),Mn(this,Yr,S9).call(this)}copy($){var vt;if($.preventDefault(),(vt=Mt(this,Go))==null||vt.commitOrRemove(),!this.hasSelection)return;const ht=[];for(const At of Mt(this,Ks)){const St=At.serialize(!0);St&&ht.push(St)}ht.length!==0&&$.clipboardData.setData("application/pdfjs",JSON.stringify(ht))}cut($){this.copy($),this.delete()}paste($){$.preventDefault();const{clipboardData:ht}=$;for(const St of ht.items)for(const Ct of Mt(this,x0))if(Ct.isHandlingMimeForPasting(St.type)){Ct.paste(St,this.currentLayer);return}let vt=ht.getData("application/pdfjs");if(!vt)return;try{vt=JSON.parse(vt)}catch(St){warn(`paste: "${St.message}".`);return}if(!Array.isArray(vt))return;this.unselectAll();const At=this.currentLayer;try{const St=[];for(const Ft of vt){const wt=At.deserialize(Ft);if(!wt)return;St.push(wt)}const Ct=()=>{for(const Ft of St)Mn(this,Yr,E9).call(this,Ft);Mn(this,Yr,C9).call(this,St)},Et=()=>{for(const Ft of St)Ft.remove()};this.addCommands({cmd:Ct,undo:Et,mustExec:!0})}catch(St){warn(`paste: "${St.message}".`)}}keydown($){!this.isShiftKeyDown&&$.key==="Shift"&&(this.isShiftKeyDown=!0),Mt(this,ko)!==AnnotationEditorType.NONE&&!this.isEditorHandlingKeyboard&&K1._keyboardManager.exec(this,$)}keyup($){this.isShiftKeyDown&&$.key==="Shift"&&(this.isShiftKeyDown=!1,Mt(this,J0)&&($n(this,J0,!1),Mn(this,Yr,i2).call(this,"main_toolbar")))}onEditingAction({name:$}){switch($){case"undo":case"redo":case"delete":case"selectAll":this[$]();break;case"highlightSelection":this.highlightSelection("context_menu");break}}setEditingState($){$?(Mn(this,Yr,Ty).call(this),Mn(this,Yr,A9).call(this),Mn(this,Yr,Oo).call(this,{isEditing:Mt(this,ko)!==AnnotationEditorType.NONE,isEmpty:Mn(this,Yr,Qp).call(this),hasSomethingToUndo:Mt(this,Rl).hasSomethingToUndo(),hasSomethingToRedo:Mt(this,Rl).hasSomethingToRedo(),hasSelectedEditor:!1})):(Mn(this,Yr,y9).call(this),Mn(this,Yr,S9).call(this),Mn(this,Yr,Oo).call(this,{isEditing:!1}),this.disableUserSelect(!1))}registerEditorTypes($){if(!Mt(this,x0)){$n(this,x0,$);for(const ht of Mt(this,x0))Mn(this,Yr,K0).call(this,ht.defaultPropertiesToUpdate)}}getId(){return Mt(this,K2).id}get currentLayer(){return Mt(this,Co).get(Mt(this,J1))}getLayer($){return Mt(this,Co).get($)}get currentPageIndex(){return Mt(this,J1)}addLayer($){Mt(this,Co).set($.pageIndex,$),Mt(this,Q0)?$.enable():$.disable()}removeLayer($){Mt(this,Co).delete($.pageIndex)}updateMode($,ht=null,vt=!1){if(Mt(this,ko)!==$){if($n(this,ko,$),$===AnnotationEditorType.NONE){this.setEditingState(!1),Mn(this,Yr,Fy).call(this);return}this.setEditingState(!0),Mn(this,Yr,_y).call(this),this.unselectAll();for(const At of Mt(this,Co).values())At.updateMode($);if(!ht&&vt){this.addNewEditorFromKeyboard();return}if(ht){for(const At of Mt(this,fo).values())if(At.annotationElementId===ht){this.setSelected(At),At.enterInEditMode();break}}}}addNewEditorFromKeyboard(){this.currentLayer.canCreateNewEmptyEditor()&&this.currentLayer.addNewEditor()}updateToolbar($){$!==Mt(this,ko)&&this._eventBus.dispatch("switchannotationeditormode",{source:this,mode:$})}updateParams($,ht){var vt;if(Mt(this,x0)){switch($){case AnnotationEditorParamsType.CREATE:this.currentLayer.addNewEditor();return;case AnnotationEditorParamsType.HIGHLIGHT_DEFAULT_COLOR:(vt=Mt(this,Em))==null||vt.updateColor(ht);break;case AnnotationEditorParamsType.HIGHLIGHT_SHOW_ALL:this._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:{type:"highlight",action:"toggle_visibility"}}}),(Mt(this,Cm)||$n(this,Cm,new Map)).set($,ht),this.showAllEditors("highlight",ht);break}for(const At of Mt(this,Ks))At.updateParams($,ht);for(const At of Mt(this,x0))At.updateDefaultParams($,ht)}}showAllEditors($,ht,vt=!1){var St;for(const Ct of Mt(this,fo).values())Ct.editorType===$&&Ct.show(ht);(((St=Mt(this,Cm))==null?void 0:St.get(AnnotationEditorParamsType.HIGHLIGHT_SHOW_ALL))??!0)!==ht&&Mn(this,Yr,K0).call(this,[[AnnotationEditorParamsType.HIGHLIGHT_SHOW_ALL,ht]])}enableWaiting($=!1){if(Mt(this,Sm)!==$){$n(this,Sm,$);for(const ht of Mt(this,Co).values())$?ht.disableClick():ht.enableClick(),ht.div.classList.toggle("waiting",$)}}getEditors($){const ht=[];for(const vt of Mt(this,fo).values())vt.pageIndex===$&&ht.push(vt);return ht}getEditor($){return Mt(this,fo).get($)}addEditor($){Mt(this,fo).set($.id,$)}removeEditor($){var ht;$.div.contains(document.activeElement)&&(Mt(this,Kl)&&clearTimeout(Mt(this,Kl)),$n(this,Kl,setTimeout(()=>{this.focusMainContainer(),$n(this,Kl,null)},0))),Mt(this,fo).delete($.id),this.unselect($),(!$.annotationElementId||!Mt(this,ju).has($.annotationElementId))&&((ht=Mt(this,m0))==null||ht.remove($.id))}addDeletedAnnotationElement($){Mt(this,ju).add($.annotationElementId),this.addChangedExistingAnnotation($),$.deleted=!0}isDeletedAnnotationElement($){return Mt(this,ju).has($)}removeDeletedAnnotationElement($){Mt(this,ju).delete($.annotationElementId),this.removeChangedExistingAnnotation($),$.deleted=!1}setActiveEditor($){Mt(this,Go)!==$&&($n(this,Go,$),$&&Mn(this,Yr,K0).call(this,$.propertiesToUpdate))}updateUI($){Mt(this,Yr,Py)===$&&Mn(this,Yr,K0).call(this,$.propertiesToUpdate)}toggleSelected($){if(Mt(this,Ks).has($)){Mt(this,Ks).delete($),$.unselect(),Mn(this,Yr,Oo).call(this,{hasSelectedEditor:this.hasSelection});return}Mt(this,Ks).add($),$.select(),Mn(this,Yr,K0).call(this,$.propertiesToUpdate),Mn(this,Yr,Oo).call(this,{hasSelectedEditor:!0})}setSelected($){for(const ht of Mt(this,Ks))ht!==$&&ht.unselect();Mt(this,Ks).clear(),Mt(this,Ks).add($),$.select(),Mn(this,Yr,K0).call(this,$.propertiesToUpdate),Mn(this,Yr,Oo).call(this,{hasSelectedEditor:!0})}isSelected($){return Mt(this,Ks).has($)}get firstSelectedEditor(){return Mt(this,Ks).values().next().value}unselect($){$.unselect(),Mt(this,Ks).delete($),Mn(this,Yr,Oo).call(this,{hasSelectedEditor:this.hasSelection})}get hasSelection(){return Mt(this,Ks).size!==0}get isEnterHandled(){return Mt(this,Ks).size===1&&this.firstSelectedEditor.isEnterHandled}undo(){Mt(this,Rl).undo(),Mn(this,Yr,Oo).call(this,{hasSomethingToUndo:Mt(this,Rl).hasSomethingToUndo(),hasSomethingToRedo:!0,isEmpty:Mn(this,Yr,Qp).call(this)})}redo(){Mt(this,Rl).redo(),Mn(this,Yr,Oo).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:Mt(this,Rl).hasSomethingToRedo(),isEmpty:Mn(this,Yr,Qp).call(this)})}addCommands($){Mt(this,Rl).add($),Mn(this,Yr,Oo).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:!1,isEmpty:Mn(this,Yr,Qp).call(this)})}delete(){if(this.commitOrRemove(),!this.hasSelection)return;const $=[...Mt(this,Ks)],ht=()=>{for(const At of $)At.remove()},vt=()=>{for(const At of $)Mn(this,Yr,E9).call(this,At)};this.addCommands({cmd:ht,undo:vt,mustExec:!0})}commitOrRemove(){var $;($=Mt(this,Go))==null||$.commitOrRemove()}hasSomethingToControl(){return Mt(this,Go)||this.hasSelection}selectAll(){for(const $ of Mt(this,Ks))$.commit();Mn(this,Yr,C9).call(this,Mt(this,fo).values())}unselectAll(){if(!(Mt(this,Go)&&(Mt(this,Go).commitOrRemove(),Mt(this,ko)!==AnnotationEditorType.NONE))&&this.hasSelection){for(const $ of Mt(this,Ks))$.unselect();Mt(this,Ks).clear(),Mn(this,Yr,Oo).call(this,{hasSelectedEditor:!1})}}translateSelectedEditors($,ht,vt=!1){if(vt||this.commitOrRemove(),!this.hasSelection)return;Mt(this,eu)[0]+=$,Mt(this,eu)[1]+=ht;const[At,St]=Mt(this,eu),Ct=[...Mt(this,Ks)],Et=1e3;Mt(this,Zl)&&clearTimeout(Mt(this,Zl)),$n(this,Zl,setTimeout(()=>{$n(this,Zl,null),Mt(this,eu)[0]=Mt(this,eu)[1]=0,this.addCommands({cmd:()=>{for(const Ft of Ct)Mt(this,fo).has(Ft.id)&&Ft.translateInPage(At,St)},undo:()=>{for(const Ft of Ct)Mt(this,fo).has(Ft.id)&&Ft.translateInPage(-At,-St)},mustExec:!1})},Et));for(const Ft of Ct)Ft.translateInPage($,ht)}setUpDragSession(){if(this.hasSelection){this.disableUserSelect(!0),$n(this,Gl,new Map);for(const $ of Mt(this,Ks))Mt(this,Gl).set($,{savedX:$.x,savedY:$.y,savedPageIndex:$.pageIndex,newX:0,newY:0,newPageIndex:-1})}}endDragSession(){if(!Mt(this,Gl))return!1;this.disableUserSelect(!1);const $=Mt(this,Gl);$n(this,Gl,null);let ht=!1;for(const[{x:At,y:St,pageIndex:Ct},Et]of $)Et.newX=At,Et.newY=St,Et.newPageIndex=Ct,ht||(ht=At!==Et.savedX||St!==Et.savedY||Ct!==Et.savedPageIndex);if(!ht)return!1;const vt=(At,St,Ct,Et)=>{if(Mt(this,fo).has(At.id)){const Ft=Mt(this,Co).get(Et);Ft?At._setParentAndPosition(Ft,St,Ct):(At.pageIndex=Et,At.x=St,At.y=Ct)}};return this.addCommands({cmd:()=>{for(const[At,{newX:St,newY:Ct,newPageIndex:Et}]of $)vt(At,St,Ct,Et)},undo:()=>{for(const[At,{savedX:St,savedY:Ct,savedPageIndex:Et}]of $)vt(At,St,Ct,Et)},mustExec:!0}),!0}dragSelectedEditors($,ht){if(Mt(this,Gl))for(const vt of Mt(this,Gl).keys())vt.drag($,ht)}rebuild($){if($.parent===null){const ht=this.getLayer($.pageIndex);ht?(ht.changeParent($),ht.addOrRebuild($)):(this.addEditor($),this.addToAnnotationStorage($),$.rebuild())}else $.parent.addOrRebuild($)}get isEditorHandlingKeyboard(){var $;return(($=this.getActive())==null?void 0:$.shouldGetKeyboardEvents())||Mt(this,Ks).size===1&&this.firstSelectedEditor.shouldGetKeyboardEvents()}isActive($){return Mt(this,Go)===$}getActive(){return Mt(this,Go)}getMode(){return Mt(this,ko)}get imageManager(){return shadow(this,"imageManager",new ImageManager)}getSelectionBoxes($){if(!$)return null;const ht=document.getSelection();for(let wt=0,_t=ht.rangeCount;wt<_t;wt++)if(!$.contains(ht.getRangeAt(wt).commonAncestorContainer))return null;const{x:vt,y:At,width:St,height:Ct}=$.getBoundingClientRect();let Et;switch($.getAttribute("data-main-rotation")){case"90":Et=(wt,_t,Rt,_e)=>({x:(_t-At)/Ct,y:1-(wt+Rt-vt)/St,width:_e/Ct,height:Rt/St});break;case"180":Et=(wt,_t,Rt,_e)=>({x:1-(wt+Rt-vt)/St,y:1-(_t+_e-At)/Ct,width:Rt/St,height:_e/Ct});break;case"270":Et=(wt,_t,Rt,_e)=>({x:1-(_t+_e-At)/Ct,y:(wt-vt)/St,width:_e/Ct,height:Rt/St});break;default:Et=(wt,_t,Rt,_e)=>({x:(wt-vt)/St,y:(_t-At)/Ct,width:Rt/St,height:_e/Ct});break}const Ft=[];for(let wt=0,_t=ht.rangeCount;wt<_t;wt++){const Rt=ht.getRangeAt(wt);if(!Rt.collapsed)for(const{x:_e,y:bt,width:Pt,height:Xt}of Rt.getClientRects())Pt===0||Xt===0||Ft.push(Et(_e,bt,Pt,Xt))}return Ft.length===0?null:Ft}addChangedExistingAnnotation({annotationElementId:$,id:ht}){(Mt(this,Z1)||$n(this,Z1,new Map)).set($,ht)}removeChangedExistingAnnotation({annotationElementId:$}){var ht;(ht=Mt(this,Z1))==null||ht.delete($)}renderAnnotationElement($){var At;const ht=(At=Mt(this,Z1))==null?void 0:At.get($.data.id);if(!ht)return;const vt=Mt(this,m0).getRawValue(ht);vt&&(Mt(this,ko)===AnnotationEditorType.NONE&&!vt.hasBeenModified||vt.renderAnnotationElement($))}};Go=new WeakMap,fo=new WeakMap,Co=new WeakMap,Y1=new WeakMap,m0=new WeakMap,Z1=new WeakMap,Rl=new WeakMap,J1=new WeakMap,ju=new WeakMap,Gl=new WeakMap,x0=new WeakMap,Bu=new WeakMap,wm=new WeakMap,Am=new WeakMap,Kl=new WeakMap,Q1=new WeakMap,J0=new WeakMap,Yl=new WeakMap,K2=new WeakMap,Q0=new WeakMap,Sm=new WeakMap,Uu=new WeakMap,Em=new WeakMap,ep=new WeakMap,ko=new WeakMap,Ks=new WeakMap,b0=new WeakMap,Hu=new WeakMap,Cm=new WeakMap,km=new WeakMap,Tm=new WeakMap,_m=new WeakMap,Fm=new WeakMap,Pm=new WeakMap,Rm=new WeakMap,Im=new WeakMap,Mm=new WeakMap,Om=new WeakMap,Dm=new WeakMap,Lm=new WeakMap,Nm=new WeakMap,$m=new WeakMap,eu=new WeakMap,Zl=new WeakMap,y0=new WeakMap,jm=new WeakMap,Yr=new WeakSet,n2=function({anchorNode:$}){return $.nodeType===Node.TEXT_NODE?$.parentElement:$},Sy=function(){const $=document.getSelection();if(!$||$.isCollapsed)return;const vt=Mn(this,Yr,n2).call(this,$).closest(".textLayer"),At=this.getSelectionBoxes(vt);At&&(Mt(this,Yl)||$n(this,Yl,new HighlightToolbar(this)),Mt(this,Yl).show(vt,At,this.direction==="ltr"))},Ey=function(){var St,Ct,Et;const $=document.getSelection();if(!$||$.isCollapsed){Mt(this,b0)&&((St=Mt(this,Yl))==null||St.hide(),$n(this,b0,null),Mn(this,Yr,Oo).call(this,{hasSelectedText:!1}));return}const{anchorNode:ht}=$;if(ht===Mt(this,b0))return;if(!Mn(this,Yr,n2).call(this,$).closest(".textLayer")){Mt(this,b0)&&((Ct=Mt(this,Yl))==null||Ct.hide(),$n(this,b0,null),Mn(this,Yr,Oo).call(this,{hasSelectedText:!1}));return}if((Et=Mt(this,Yl))==null||Et.hide(),$n(this,b0,ht),Mn(this,Yr,Oo).call(this,{hasSelectedText:!0}),!(Mt(this,ko)!==AnnotationEditorType.HIGHLIGHT&&Mt(this,ko)!==AnnotationEditorType.NONE)&&(Mt(this,ko)===AnnotationEditorType.HIGHLIGHT&&this.showAllEditors("highlight",!0,!0),$n(this,J0,this.isShiftKeyDown),!this.isShiftKeyDown)){const Ft=wt=>{wt.type==="pointerup"&&wt.button!==0||(window.removeEventListener("pointerup",Ft),window.removeEventListener("blur",Ft),wt.type==="pointerup"&&Mn(this,Yr,i2).call(this,"main_toolbar"))};window.addEventListener("pointerup",Ft),window.addEventListener("blur",Ft)}},i2=function($=""){Mt(this,ko)===AnnotationEditorType.HIGHLIGHT?this.highlightSelection($):Mt(this,wm)&&Mn(this,Yr,Sy).call(this)},Cy=function(){document.addEventListener("selectionchange",Mt(this,Lm))},ky=function(){document.removeEventListener("selectionchange",Mt(this,Lm))},Ty=function(){window.addEventListener("focus",Mt(this,Tm)),window.addEventListener("blur",Mt(this,km))},y9=function(){window.removeEventListener("focus",Mt(this,Tm)),window.removeEventListener("blur",Mt(this,km))},v9=function(){window.addEventListener("keydown",Mt(this,Rm)),window.addEventListener("keyup",Mt(this,Im))},w9=function(){window.removeEventListener("keydown",Mt(this,Rm)),window.removeEventListener("keyup",Mt(this,Im))},A9=function(){document.addEventListener("copy",Mt(this,_m)),document.addEventListener("cut",Mt(this,Fm)),document.addEventListener("paste",Mt(this,Pm))},S9=function(){document.removeEventListener("copy",Mt(this,_m)),document.removeEventListener("cut",Mt(this,Fm)),document.removeEventListener("paste",Mt(this,Pm))},Oo=function($){Object.entries($).some(([vt,At])=>Mt(this,$m)[vt]!==At)&&(this._eventBus.dispatch("annotationeditorstateschanged",{source:this,details:Object.assign(Mt(this,$m),$)}),Mt(this,ko)===AnnotationEditorType.HIGHLIGHT&&$.hasSelectedEditor===!1&&Mn(this,Yr,K0).call(this,[[AnnotationEditorParamsType.HIGHLIGHT_FREE,!0]]))},K0=function($){this._eventBus.dispatch("annotationeditorparamschanged",{source:this,details:$})},_y=function(){if(!Mt(this,Q0)){$n(this,Q0,!0);for(const $ of Mt(this,Co).values())$.enable();for(const $ of Mt(this,fo).values())$.enable()}},Fy=function(){if(this.unselectAll(),Mt(this,Q0)){$n(this,Q0,!1);for(const $ of Mt(this,Co).values())$.disable();for(const $ of Mt(this,fo).values())$.disable()}},E9=function($){const ht=Mt(this,Co).get($.pageIndex);ht?ht.addOrRebuild($):(this.addEditor($),this.addToAnnotationStorage($))},Py=function(){let $=null;for($ of Mt(this,Ks));return $},Qp=function(){if(Mt(this,fo).size===0)return!0;if(Mt(this,fo).size===1)for(const $ of Mt(this,fo).values())return $.isEmpty();return!1},C9=function($){for(const ht of Mt(this,Ks))ht.unselect();Mt(this,Ks).clear();for(const ht of $)ht.isEmpty()||(Mt(this,Ks).add(ht),ht.select());Mn(this,Yr,Oo).call(this,{hasSelectedEditor:this.hasSelection})},Ur(K1,"TRANSLATE_SMALL",1),Ur(K1,"TRANSLATE_BIG",10);let AnnotationEditorUIManager=K1;var v0,w0,Il,A0,Ml,tp,S0,Bm,k9;const d0=class d0{constructor($){Nn(this,Bm);Nn(this,v0,"");Nn(this,w0,!1);Nn(this,Il,null);Nn(this,A0,null);Nn(this,Ml,null);Nn(this,tp,!1);Nn(this,S0,null);$n(this,S0,$)}static initialize($){d0._l10nPromise||(d0._l10nPromise=$)}async render(){const $=$n(this,Il,document.createElement("button"));$.className="altText";const ht=await d0._l10nPromise.get("pdfjs-editor-alt-text-button-label");$.textContent=ht,$.setAttribute("aria-label",ht),$.tabIndex="0",$.addEventListener("contextmenu",noContextMenu),$.addEventListener("pointerdown",At=>At.stopPropagation());const vt=At=>{At.preventDefault(),Mt(this,S0)._uiManager.editAltText(Mt(this,S0))};return $.addEventListener("click",vt,{capture:!0}),$.addEventListener("keydown",At=>{At.target===$&&At.key==="Enter"&&($n(this,tp,!0),vt(At))}),await Mn(this,Bm,k9).call(this),$}finish(){Mt(this,Il)&&(Mt(this,Il).focus({focusVisible:Mt(this,tp)}),$n(this,tp,!1))}isEmpty(){return!Mt(this,v0)&&!Mt(this,w0)}get data(){return{altText:Mt(this,v0),decorative:Mt(this,w0)}}set data({altText:$,decorative:ht}){Mt(this,v0)===$&&Mt(this,w0)===ht||($n(this,v0,$),$n(this,w0,ht),Mn(this,Bm,k9).call(this))}toggle($=!1){Mt(this,Il)&&(!$&&Mt(this,Ml)&&(clearTimeout(Mt(this,Ml)),$n(this,Ml,null)),Mt(this,Il).disabled=!$)}destroy(){var $;($=Mt(this,Il))==null||$.remove(),$n(this,Il,null),$n(this,A0,null)}};v0=new WeakMap,w0=new WeakMap,Il=new WeakMap,A0=new WeakMap,Ml=new WeakMap,tp=new WeakMap,S0=new WeakMap,Bm=new WeakSet,k9=async function(){var At;const $=Mt(this,Il);if(!$)return;if(!Mt(this,v0)&&!Mt(this,w0)){$.classList.remove("done"),(At=Mt(this,A0))==null||At.remove();return}$.classList.add("done"),d0._l10nPromise.get("pdfjs-editor-alt-text-edit-button-label").then(St=>{$.setAttribute("aria-label",St)});let ht=Mt(this,A0);if(!ht){$n(this,A0,ht=document.createElement("span")),ht.className="tooltip",ht.setAttribute("role","tooltip");const St=ht.id=`alt-text-tooltip-${Mt(this,S0).id}`;$.setAttribute("aria-describedby",St);const Ct=100;$.addEventListener("mouseenter",()=>{$n(this,Ml,setTimeout(()=>{$n(this,Ml,null),Mt(this,A0).classList.add("show"),Mt(this,S0)._reportTelemetry({action:"alt_text_tooltip"})},Ct))}),$.addEventListener("mouseleave",()=>{var Et;Mt(this,Ml)&&(clearTimeout(Mt(this,Ml)),$n(this,Ml,null)),(Et=Mt(this,A0))==null||Et.classList.remove("show")})}ht.innerText=Mt(this,w0)?await d0._l10nPromise.get("pdfjs-editor-alt-text-decorative-tooltip"):Mt(this,v0),ht.parentNode||$.append(ht);const vt=Mt(this,S0).getImageForAltText();vt==null||vt.setAttribute("aria-describedby",ht.id)},Ur(d0,"_l10nPromise",null);let AltText=d0;var Ol,Do,np,zu,To,Xu,ip,rp,Mo,Um,Wu,tu,Hm,Vu,E0,Jl,sp,ap,wl,zm,Y2,Ds,T9,Xm,_9,F9,Ry,Iy,P9,R9,I9,My,Oy,Dy,Ly,M9,_g;const _a=class _a{constructor($){Nn(this,Ds);Nn(this,Ol,null);Nn(this,Do,null);Nn(this,np,!1);Nn(this,zu,!1);Nn(this,To,null);Nn(this,Xu,null);Nn(this,ip,this.focusin.bind(this));Nn(this,rp,this.focusout.bind(this));Nn(this,Mo,null);Nn(this,Um,"");Nn(this,Wu,!1);Nn(this,tu,null);Nn(this,Hm,!1);Nn(this,Vu,!1);Nn(this,E0,!1);Nn(this,Jl,null);Nn(this,sp,0);Nn(this,ap,0);Nn(this,wl,null);Ur(this,"_initialOptions",Object.create(null));Ur(this,"_isVisible",!0);Ur(this,"_uiManager",null);Ur(this,"_focusEventsAllowed",!0);Ur(this,"_l10nPromise",null);Nn(this,zm,!1);Nn(this,Y2,_a._zIndex++);this.constructor===_a&&unreachable("Cannot initialize AnnotationEditor."),this.parent=$.parent,this.id=$.id,this.width=this.height=null,this.pageIndex=$.parent.pageIndex,this.name=$.name,this.div=null,this._uiManager=$.uiManager,this.annotationElementId=null,this._willKeepAspectRatio=!1,this._initialOptions.isCentered=$.isCentered,this._structTreeParentId=null;const{rotation:ht,rawDims:{pageWidth:vt,pageHeight:At,pageX:St,pageY:Ct}}=this.parent.viewport;this.rotation=ht,this.pageRotation=(360+ht-this._uiManager.viewParameters.rotation)%360,this.pageDimensions=[vt,At],this.pageTranslation=[St,Ct];const[Et,Ft]=this.parentDimensions;this.x=$.x/Et,this.y=$.y/Ft,this.isAttachedToDOM=!1,this.deleted=!1}static get _resizerKeyboardManager(){const $=_a.prototype._resizeWithKeyboard,ht=AnnotationEditorUIManager.TRANSLATE_SMALL,vt=AnnotationEditorUIManager.TRANSLATE_BIG;return shadow(this,"_resizerKeyboardManager",new KeyboardManager([[["ArrowLeft","mac+ArrowLeft"],$,{args:[-ht,0]}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],$,{args:[-vt,0]}],[["ArrowRight","mac+ArrowRight"],$,{args:[ht,0]}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],$,{args:[vt,0]}],[["ArrowUp","mac+ArrowUp"],$,{args:[0,-ht]}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],$,{args:[0,-vt]}],[["ArrowDown","mac+ArrowDown"],$,{args:[0,ht]}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],$,{args:[0,vt]}],[["Escape","mac+Escape"],_a.prototype._stopResizingWithKeyboard]]))}get editorType(){return Object.getPrototypeOf(this).constructor._type}static get _defaultLineColor(){return shadow(this,"_defaultLineColor",this._colorManager.getHexCode("CanvasText"))}static deleteAnnotationElement($){const ht=new FakeEditor({id:$.parent.getNextId(),parent:$.parent,uiManager:$._uiManager});ht.annotationElementId=$.annotationElementId,ht.deleted=!0,ht._uiManager.addToAnnotationStorage(ht)}static initialize($,ht,vt){if(_a._l10nPromise||(_a._l10nPromise=new Map(["pdfjs-editor-alt-text-button-label","pdfjs-editor-alt-text-edit-button-label","pdfjs-editor-alt-text-decorative-tooltip","pdfjs-editor-resizer-label-topLeft","pdfjs-editor-resizer-label-topMiddle","pdfjs-editor-resizer-label-topRight","pdfjs-editor-resizer-label-middleRight","pdfjs-editor-resizer-label-bottomRight","pdfjs-editor-resizer-label-bottomMiddle","pdfjs-editor-resizer-label-bottomLeft","pdfjs-editor-resizer-label-middleLeft"].map(St=>[St,$.get(St.replaceAll(/([A-Z])/g,Ct=>`-${Ct.toLowerCase()}`))]))),vt!=null&&vt.strings)for(const St of vt.strings)_a._l10nPromise.set(St,$.get(St));if(_a._borderLineWidth!==-1)return;const At=getComputedStyle(document.documentElement);_a._borderLineWidth=parseFloat(At.getPropertyValue("--outline-width"))||0}static updateDefaultParams($,ht){}static get defaultPropertiesToUpdate(){return[]}static isHandlingMimeForPasting($){return!1}static paste($,ht){unreachable("Not implemented")}get propertiesToUpdate(){return[]}get _isDraggable(){return Mt(this,zm)}set _isDraggable($){var ht;$n(this,zm,$),(ht=this.div)==null||ht.classList.toggle("draggable",$)}get isEnterHandled(){return!0}center(){const[$,ht]=this.pageDimensions;switch(this.parentRotation){case 90:this.x-=this.height*ht/($*2),this.y+=this.width*$/(ht*2);break;case 180:this.x+=this.width/2,this.y+=this.height/2;break;case 270:this.x+=this.height*ht/($*2),this.y-=this.width*$/(ht*2);break;default:this.x-=this.width/2,this.y-=this.height/2;break}this.fixAndSetPosition()}addCommands($){this._uiManager.addCommands($)}get currentLayer(){return this._uiManager.currentLayer}setInBackground(){this.div.style.zIndex=0}setInForeground(){this.div.style.zIndex=Mt(this,Y2)}setParent($){$!==null?(this.pageIndex=$.pageIndex,this.pageDimensions=$.pageDimensions):Mn(this,Ds,_g).call(this),this.parent=$}focusin($){this._focusEventsAllowed&&(Mt(this,Wu)?$n(this,Wu,!1):this.parent.setSelected(this))}focusout($){var vt;if(!this._focusEventsAllowed||!this.isAttachedToDOM)return;const ht=$.relatedTarget;ht!=null&&ht.closest(`#${this.id}`)||($.preventDefault(),(vt=this.parent)!=null&&vt.isMultipleSelection||this.commitOrRemove())}commitOrRemove(){this.isEmpty()?this.remove():this.commit()}commit(){this.addToAnnotationStorage()}addToAnnotationStorage(){this._uiManager.addToAnnotationStorage(this)}setAt($,ht,vt,At){const[St,Ct]=this.parentDimensions;[vt,At]=this.screenToPageTranslation(vt,At),this.x=($+vt)/St,this.y=(ht+At)/Ct,this.fixAndSetPosition()}translate($,ht){Mn(this,Ds,T9).call(this,this.parentDimensions,$,ht)}translateInPage($,ht){Mt(this,tu)||$n(this,tu,[this.x,this.y]),Mn(this,Ds,T9).call(this,this.pageDimensions,$,ht),this.div.scrollIntoView({block:"nearest"})}drag($,ht){Mt(this,tu)||$n(this,tu,[this.x,this.y]);const[vt,At]=this.parentDimensions;if(this.x+=$/vt,this.y+=ht/At,this.parent&&(this.x<0||this.x>1||this.y<0||this.y>1)){const{x:wt,y:_t}=this.div.getBoundingClientRect();this.parent.findNewParent(this,wt,_t)&&(this.x-=Math.floor(this.x),this.y-=Math.floor(this.y))}let{x:St,y:Ct}=this;const[Et,Ft]=this.getBaseTranslation();St+=Et,Ct+=Ft,this.div.style.left=`${(100*St).toFixed(2)}%`,this.div.style.top=`${(100*Ct).toFixed(2)}%`,this.div.scrollIntoView({block:"nearest"})}get _hasBeenMoved(){return!!Mt(this,tu)&&(Mt(this,tu)[0]!==this.x||Mt(this,tu)[1]!==this.y)}getBaseTranslation(){const[$,ht]=this.parentDimensions,{_borderLineWidth:vt}=_a,At=vt/$,St=vt/ht;switch(this.rotation){case 90:return[-At,St];case 180:return[At,St];case 270:return[At,-St];default:return[-At,-St]}}get _mustFixPosition(){return!0}fixAndSetPosition($=this.rotation){const[ht,vt]=this.pageDimensions;let{x:At,y:St,width:Ct,height:Et}=this;if(Ct*=ht,Et*=vt,At*=ht,St*=vt,this._mustFixPosition)switch($){case 0:At=Math.max(0,Math.min(ht-Ct,At)),St=Math.max(0,Math.min(vt-Et,St));break;case 90:At=Math.max(0,Math.min(ht-Et,At)),St=Math.min(vt,Math.max(Ct,St));break;case 180:At=Math.min(ht,Math.max(Ct,At)),St=Math.min(vt,Math.max(Et,St));break;case 270:At=Math.min(ht,Math.max(Et,At)),St=Math.max(0,Math.min(vt-Ct,St));break}this.x=At/=ht,this.y=St/=vt;const[Ft,wt]=this.getBaseTranslation();At+=Ft,St+=wt;const{style:_t}=this.div;_t.left=`${(100*At).toFixed(2)}%`,_t.top=`${(100*St).toFixed(2)}%`,this.moveInDOM()}screenToPageTranslation($,ht){var vt;return Mn(vt=_a,Xm,_9).call(vt,$,ht,this.parentRotation)}pageTranslationToScreen($,ht){var vt;return Mn(vt=_a,Xm,_9).call(vt,$,ht,360-this.parentRotation)}get parentScale(){return this._uiManager.viewParameters.realScale}get parentRotation(){return(this._uiManager.viewParameters.rotation+this.pageRotation)%360}get parentDimensions(){const{parentScale:$,pageDimensions:[ht,vt]}=this,At=ht*$,St=vt*$;return util_FeatureTest.isCSSRoundSupported?[Math.round(At),Math.round(St)]:[At,St]}setDims($,ht){const[vt,At]=this.parentDimensions;this.div.style.width=`${(100*$/vt).toFixed(2)}%`,Mt(this,zu)||(this.div.style.height=`${(100*ht/At).toFixed(2)}%`)}fixDims(){const{style:$}=this.div,{height:ht,width:vt}=$,At=vt.endsWith("%"),St=!Mt(this,zu)&&ht.endsWith("%");if(At&&St)return;const[Ct,Et]=this.parentDimensions;At||($.width=`${(100*parseFloat(vt)/Ct).toFixed(2)}%`),!Mt(this,zu)&&!St&&($.height=`${(100*parseFloat(ht)/Et).toFixed(2)}%`)}getInitialTranslation(){return[0,0]}altTextFinish(){var $;($=Mt(this,Do))==null||$.finish()}async addEditToolbar(){return Mt(this,Mo)||Mt(this,Vu)?Mt(this,Mo):($n(this,Mo,new EditorToolbar(this)),this.div.append(Mt(this,Mo).render()),Mt(this,Do)&&Mt(this,Mo).addAltTextButton(await Mt(this,Do).render()),Mt(this,Mo))}removeEditToolbar(){var $;Mt(this,Mo)&&(Mt(this,Mo).remove(),$n(this,Mo,null),($=Mt(this,Do))==null||$.destroy())}getClientDimensions(){return this.div.getBoundingClientRect()}async addAltTextButton(){Mt(this,Do)||(AltText.initialize(_a._l10nPromise),$n(this,Do,new AltText(this)),await this.addEditToolbar())}get altTextData(){var $;return($=Mt(this,Do))==null?void 0:$.data}set altTextData($){Mt(this,Do)&&(Mt(this,Do).data=$)}hasAltText(){var $;return!(($=Mt(this,Do))!=null&&$.isEmpty())}render(){this.div=document.createElement("div"),this.div.setAttribute("data-editor-rotation",(360-this.rotation)%360),this.div.className=this.name,this.div.setAttribute("id",this.id),this.div.tabIndex=Mt(this,np)?-1:0,this._isVisible||this.div.classList.add("hidden"),this.setInForeground(),this.div.addEventListener("focusin",Mt(this,ip)),this.div.addEventListener("focusout",Mt(this,rp));const[$,ht]=this.parentDimensions;this.parentRotation%180!==0&&(this.div.style.maxWidth=`${(100*ht/$).toFixed(2)}%`,this.div.style.maxHeight=`${(100*$/ht).toFixed(2)}%`);const[vt,At]=this.getInitialTranslation();return this.translate(vt,At),bindEvents(this,this.div,["pointerdown"]),this.div}pointerdown($){const{isMac:ht}=util_FeatureTest.platform;if($.button!==0||$.ctrlKey&&ht){$.preventDefault();return}if($n(this,Wu,!0),this._isDraggable){Mn(this,Ds,My).call(this,$);return}Mn(this,Ds,I9).call(this,$)}moveInDOM(){Mt(this,Jl)&&clearTimeout(Mt(this,Jl)),$n(this,Jl,setTimeout(()=>{var $;$n(this,Jl,null),($=this.parent)==null||$.moveEditorInDOM(this)},0))}_setParentAndPosition($,ht,vt){$.changeParent(this),this.x=ht,this.y=vt,this.fixAndSetPosition()}getRect($,ht,vt=this.rotation){const At=this.parentScale,[St,Ct]=this.pageDimensions,[Et,Ft]=this.pageTranslation,wt=$/At,_t=ht/At,Rt=this.x*St,_e=this.y*Ct,bt=this.width*St,Pt=this.height*Ct;switch(vt){case 0:return[Rt+wt+Et,Ct-_e-_t-Pt+Ft,Rt+wt+bt+Et,Ct-_e-_t+Ft];case 90:return[Rt+_t+Et,Ct-_e+wt+Ft,Rt+_t+Pt+Et,Ct-_e+wt+bt+Ft];case 180:return[Rt-wt-bt+Et,Ct-_e+_t+Ft,Rt-wt+Et,Ct-_e+_t+Pt+Ft];case 270:return[Rt-_t-Pt+Et,Ct-_e-wt-bt+Ft,Rt-_t+Et,Ct-_e-wt+Ft];default:throw new Error("Invalid rotation")}}getRectInCurrentCoords($,ht){const[vt,At,St,Ct]=$,Et=St-vt,Ft=Ct-At;switch(this.rotation){case 0:return[vt,ht-Ct,Et,Ft];case 90:return[vt,ht-At,Ft,Et];case 180:return[St,ht-At,Et,Ft];case 270:return[St,ht-Ct,Ft,Et];default:throw new Error("Invalid rotation")}}onceAdded(){}isEmpty(){return!1}enableEditMode(){$n(this,Vu,!0)}disableEditMode(){$n(this,Vu,!1)}isInEditMode(){return Mt(this,Vu)}shouldGetKeyboardEvents(){return Mt(this,E0)}needsToBeRebuilt(){return this.div&&!this.isAttachedToDOM}rebuild(){var $,ht;($=this.div)==null||$.addEventListener("focusin",Mt(this,ip)),(ht=this.div)==null||ht.addEventListener("focusout",Mt(this,rp))}rotate($){}serialize($=!1,ht=null){unreachable("An editor must be serializable")}static deserialize($,ht,vt){const At=new this.prototype.constructor({parent:ht,id:ht.getNextId(),uiManager:vt});At.rotation=$.rotation;const[St,Ct]=At.pageDimensions,[Et,Ft,wt,_t]=At.getRectInCurrentCoords($.rect,Ct);return At.x=Et/St,At.y=Ft/Ct,At.width=wt/St,At.height=_t/Ct,At}get hasBeenModified(){return!!this.annotationElementId&&(this.deleted||this.serialize()!==null)}remove(){if(this.div.removeEventListener("focusin",Mt(this,ip)),this.div.removeEventListener("focusout",Mt(this,rp)),this.isEmpty()||this.commit(),this.parent?this.parent.remove(this):this._uiManager.removeEditor(this),Mt(this,Jl)&&(clearTimeout(Mt(this,Jl)),$n(this,Jl,null)),Mn(this,Ds,_g).call(this),this.removeEditToolbar(),Mt(this,wl)){for(const $ of Mt(this,wl).values())clearTimeout($);$n(this,wl,null)}this.parent=null}get isResizable(){return!1}makeResizable(){this.isResizable&&(Mn(this,Ds,Ry).call(this),Mt(this,To).classList.remove("hidden"),bindEvents(this,this.div,["keydown"]))}get toolbarPosition(){return null}keydown($){if(!this.isResizable||$.target!==this.div||$.key!=="Enter")return;this._uiManager.setSelected(this),$n(this,Xu,{savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height});const ht=Mt(this,To).children;if(!Mt(this,Ol)){$n(this,Ol,Array.from(ht));const Ct=Mn(this,Ds,Oy).bind(this),Et=Mn(this,Ds,Dy).bind(this);for(const Ft of Mt(this,Ol)){const wt=Ft.getAttribute("data-resizer-name");Ft.setAttribute("role","spinbutton"),Ft.addEventListener("keydown",Ct),Ft.addEventListener("blur",Et),Ft.addEventListener("focus",Mn(this,Ds,Ly).bind(this,wt)),_a._l10nPromise.get(`pdfjs-editor-resizer-label-${wt}`).then(_t=>Ft.setAttribute("aria-label",_t))}}const vt=Mt(this,Ol)[0];let At=0;for(const Ct of ht){if(Ct===vt)break;At++}const St=(360-this.rotation+this.parentRotation)%360/90*(Mt(this,Ol).length/4);if(St!==At){if(St<At)for(let Et=0;Et<At-St;Et++)Mt(this,To).append(Mt(this,To).firstChild);else if(St>At)for(let Et=0;Et<St-At;Et++)Mt(this,To).firstChild.before(Mt(this,To).lastChild);let Ct=0;for(const Et of ht){const wt=Mt(this,Ol)[Ct++].getAttribute("data-resizer-name");_a._l10nPromise.get(`pdfjs-editor-resizer-label-${wt}`).then(_t=>Et.setAttribute("aria-label",_t))}}Mn(this,Ds,M9).call(this,0),$n(this,E0,!0),Mt(this,To).firstChild.focus({focusVisible:!0}),$.preventDefault(),$.stopImmediatePropagation()}_resizeWithKeyboard($,ht){Mt(this,E0)&&Mn(this,Ds,R9).call(this,Mt(this,Um),{movementX:$,movementY:ht})}_stopResizingWithKeyboard(){Mn(this,Ds,_g).call(this),this.div.focus()}select(){var $,ht;if(this.makeResizable(),($=this.div)==null||$.classList.add("selectedEditor"),!Mt(this,Mo)){this.addEditToolbar().then(()=>{var vt,At;(vt=this.div)!=null&&vt.classList.contains("selectedEditor")&&((At=Mt(this,Mo))==null||At.show())});return}(ht=Mt(this,Mo))==null||ht.show()}unselect(){var $,ht,vt,At;($=Mt(this,To))==null||$.classList.add("hidden"),(ht=this.div)==null||ht.classList.remove("selectedEditor"),(vt=this.div)!=null&&vt.contains(document.activeElement)&&this._uiManager.currentLayer.div.focus({preventScroll:!0}),(At=Mt(this,Mo))==null||At.hide()}updateParams($,ht){}disableEditing(){}enableEditing(){}enterInEditMode(){}getImageForAltText(){return null}get contentDiv(){return this.div}get isEditing(){return Mt(this,Hm)}set isEditing($){$n(this,Hm,$),this.parent&&($?(this.parent.setSelected(this),this.parent.setActiveEditor(this)):this.parent.setActiveEditor(null))}setAspectRatio($,ht){$n(this,zu,!0);const vt=$/ht,{style:At}=this.div;At.aspectRatio=vt,At.height="auto"}static get MIN_SIZE(){return 16}static canCreateNewEmptyEditor(){return!0}get telemetryInitialData(){return{action:"added"}}get telemetryFinalData(){return null}_reportTelemetry($,ht=!1){if(ht){Mt(this,wl)||$n(this,wl,new Map);const{action:vt}=$;let At=Mt(this,wl).get(vt);At&&clearTimeout(At),At=setTimeout(()=>{this._reportTelemetry($),Mt(this,wl).delete(vt),Mt(this,wl).size===0&&$n(this,wl,null)},_a._telemetryTimeout),Mt(this,wl).set(vt,At);return}$.type||($.type=this.editorType),this._uiManager._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:$}})}show($=this._isVisible){this.div.classList.toggle("hidden",!$),this._isVisible=$}enable(){this.div&&(this.div.tabIndex=0),$n(this,np,!1)}disable(){this.div&&(this.div.tabIndex=-1),$n(this,np,!0)}renderAnnotationElement($){let ht=$.container.querySelector(".annotationContent");if(!ht)ht=document.createElement("div"),ht.classList.add("annotationContent",this.editorType),$.container.prepend(ht);else if(ht.nodeName==="CANVAS"){const vt=ht;ht=document.createElement("div"),ht.classList.add("annotationContent",this.editorType),vt.before(ht)}return ht}resetAnnotationElement($){const{firstChild:ht}=$.container;ht.nodeName==="DIV"&&ht.classList.contains("annotationContent")&&ht.remove()}};Ol=new WeakMap,Do=new WeakMap,np=new WeakMap,zu=new WeakMap,To=new WeakMap,Xu=new WeakMap,ip=new WeakMap,rp=new WeakMap,Mo=new WeakMap,Um=new WeakMap,Wu=new WeakMap,tu=new WeakMap,Hm=new WeakMap,Vu=new WeakMap,E0=new WeakMap,Jl=new WeakMap,sp=new WeakMap,ap=new WeakMap,wl=new WeakMap,zm=new WeakMap,Y2=new WeakMap,Ds=new WeakSet,T9=function([$,ht],vt,At){[vt,At]=this.screenToPageTranslation(vt,At),this.x+=vt/$,this.y+=At/ht,this.fixAndSetPosition()},Xm=new WeakSet,_9=function($,ht,vt){switch(vt){case 90:return[ht,-$];case 180:return[-$,-ht];case 270:return[-ht,$];default:return[$,ht]}},F9=function($){switch($){case 90:{const[ht,vt]=this.pageDimensions;return[0,-ht/vt,vt/ht,0]}case 180:return[-1,0,0,-1];case 270:{const[ht,vt]=this.pageDimensions;return[0,ht/vt,-vt/ht,0]}default:return[1,0,0,1]}},Ry=function(){if(Mt(this,To))return;$n(this,To,document.createElement("div")),Mt(this,To).classList.add("resizers");const $=this._willKeepAspectRatio?["topLeft","topRight","bottomRight","bottomLeft"]:["topLeft","topMiddle","topRight","middleRight","bottomRight","bottomMiddle","bottomLeft","middleLeft"];for(const ht of $){const vt=document.createElement("div");Mt(this,To).append(vt),vt.classList.add("resizer",ht),vt.setAttribute("data-resizer-name",ht),vt.addEventListener("pointerdown",Mn(this,Ds,Iy).bind(this,ht)),vt.addEventListener("contextmenu",noContextMenu),vt.tabIndex=-1}this.div.prepend(Mt(this,To))},Iy=function($,ht){var Pt;ht.preventDefault();const{isMac:vt}=util_FeatureTest.platform;if(ht.button!==0||ht.ctrlKey&&vt)return;(Pt=Mt(this,Do))==null||Pt.toggle(!1);const At=Mn(this,Ds,R9).bind(this,$),St=this._isDraggable;this._isDraggable=!1;const Ct={passive:!0,capture:!0};this.parent.togglePointerEvents(!1),window.addEventListener("pointermove",At,Ct),window.addEventListener("contextmenu",noContextMenu);const Et=this.x,Ft=this.y,wt=this.width,_t=this.height,Rt=this.parent.div.style.cursor,_e=this.div.style.cursor;this.div.style.cursor=this.parent.div.style.cursor=window.getComputedStyle(ht.target).cursor;const bt=()=>{var Xt;this.parent.togglePointerEvents(!0),(Xt=Mt(this,Do))==null||Xt.toggle(!0),this._isDraggable=St,window.removeEventListener("pointerup",bt),window.removeEventListener("blur",bt),window.removeEventListener("pointermove",At,Ct),window.removeEventListener("contextmenu",noContextMenu),this.parent.div.style.cursor=Rt,this.div.style.cursor=_e,Mn(this,Ds,P9).call(this,Et,Ft,wt,_t)};window.addEventListener("pointerup",bt),window.addEventListener("blur",bt)},P9=function($,ht,vt,At){const St=this.x,Ct=this.y,Et=this.width,Ft=this.height;St===$&&Ct===ht&&Et===vt&&Ft===At||this.addCommands({cmd:()=>{this.width=Et,this.height=Ft,this.x=St,this.y=Ct;const[wt,_t]=this.parentDimensions;this.setDims(wt*Et,_t*Ft),this.fixAndSetPosition()},undo:()=>{this.width=vt,this.height=At,this.x=$,this.y=ht;const[wt,_t]=this.parentDimensions;this.setDims(wt*vt,_t*At),this.fixAndSetPosition()},mustExec:!0})},R9=function($,ht){const[vt,At]=this.parentDimensions,St=this.x,Ct=this.y,Et=this.width,Ft=this.height,wt=_a.MIN_SIZE/vt,_t=_a.MIN_SIZE/At,Rt=un=>Math.round(un*1e4)/1e4,_e=Mn(this,Ds,F9).call(this,this.rotation),bt=(un,Ut)=>[_e[0]*un+_e[2]*Ut,_e[1]*un+_e[3]*Ut],Pt=Mn(this,Ds,F9).call(this,360-this.rotation),Xt=(un,Ut)=>[Pt[0]*un+Pt[2]*Ut,Pt[1]*un+Pt[3]*Ut];let Kt,Nt,$t=!1,Lt=!1;switch($){case"topLeft":$t=!0,Kt=(un,Ut)=>[0,0],Nt=(un,Ut)=>[un,Ut];break;case"topMiddle":Kt=(un,Ut)=>[un/2,0],Nt=(un,Ut)=>[un/2,Ut];break;case"topRight":$t=!0,Kt=(un,Ut)=>[un,0],Nt=(un,Ut)=>[0,Ut];break;case"middleRight":Lt=!0,Kt=(un,Ut)=>[un,Ut/2],Nt=(un,Ut)=>[0,Ut/2];break;case"bottomRight":$t=!0,Kt=(un,Ut)=>[un,Ut],Nt=(un,Ut)=>[0,0];break;case"bottomMiddle":Kt=(un,Ut)=>[un/2,Ut],Nt=(un,Ut)=>[un/2,0];break;case"bottomLeft":$t=!0,Kt=(un,Ut)=>[0,Ut],Nt=(un,Ut)=>[un,0];break;case"middleLeft":Lt=!0,Kt=(un,Ut)=>[0,Ut/2],Nt=(un,Ut)=>[un,Ut/2];break}const jt=Kt(Et,Ft),kt=Nt(Et,Ft);let qt=bt(...kt);const Bt=Rt(St+qt[0]),Gt=Rt(Ct+qt[1]);let en=1,dn=1,[Qt,gn]=this.screenToPageTranslation(ht.movementX,ht.movementY);if([Qt,gn]=Xt(Qt/vt,gn/At),$t){const un=Math.hypot(Et,Ft);en=dn=Math.max(Math.min(Math.hypot(kt[0]-jt[0]-Qt,kt[1]-jt[1]-gn)/un,1/Et,1/Ft),wt/Et,_t/Ft)}else Lt?en=Math.max(wt,Math.min(1,Math.abs(kt[0]-jt[0]-Qt)))/Et:dn=Math.max(_t,Math.min(1,Math.abs(kt[1]-jt[1]-gn)))/Ft;const tn=Rt(Et*en),bn=Rt(Ft*dn);qt=bt(...Nt(tn,bn));const Wt=Bt-qt[0],Yt=Gt-qt[1];this.width=tn,this.height=bn,this.x=Wt,this.y=Yt,this.setDims(vt*tn,At*bn),this.fixAndSetPosition()},I9=function($){const{isMac:ht}=util_FeatureTest.platform;$.ctrlKey&&!ht||$.shiftKey||$.metaKey&&ht?this.parent.toggleSelected(this):this.parent.setSelected(this)},My=function($){const ht=this._uiManager.isSelected(this);this._uiManager.setUpDragSession();let vt,At;ht&&(this.div.classList.add("moving"),vt={passive:!0,capture:!0},$n(this,sp,$.clientX),$n(this,ap,$.clientY),At=Ct=>{const{clientX:Et,clientY:Ft}=Ct,[wt,_t]=this.screenToPageTranslation(Et-Mt(this,sp),Ft-Mt(this,ap));$n(this,sp,Et),$n(this,ap,Ft),this._uiManager.dragSelectedEditors(wt,_t)},window.addEventListener("pointermove",At,vt));const St=()=>{window.removeEventListener("pointerup",St),window.removeEventListener("blur",St),ht&&(this.div.classList.remove("moving"),window.removeEventListener("pointermove",At,vt)),$n(this,Wu,!1),this._uiManager.endDragSession()||Mn(this,Ds,I9).call(this,$)};window.addEventListener("pointerup",St),window.addEventListener("blur",St)},Oy=function($){_a._resizerKeyboardManager.exec(this,$)},Dy=function($){var ht;Mt(this,E0)&&((ht=$.relatedTarget)==null?void 0:ht.parentNode)!==Mt(this,To)&&Mn(this,Ds,_g).call(this)},Ly=function($){$n(this,Um,Mt(this,E0)?$:"")},M9=function($){if(Mt(this,Ol))for(const ht of Mt(this,Ol))ht.tabIndex=$},_g=function(){if($n(this,E0,!1),Mn(this,Ds,M9).call(this,-1),Mt(this,Xu)){const{savedX:$,savedY:ht,savedWidth:vt,savedHeight:At}=Mt(this,Xu);Mn(this,Ds,P9).call(this,$,ht,vt,At),$n(this,Xu,null)}},Nn(_a,Xm),Ur(_a,"_borderLineWidth",-1),Ur(_a,"_colorManager",new ColorManager),Ur(_a,"_zIndex",1),Ur(_a,"_telemetryTimeout",1e3);let AnnotationEditor=_a;class FakeEditor extends AnnotationEditor{constructor($){super($),this.annotationElementId=$.annotationElementId,this.deleted=!0}serialize(){return{id:this.annotationElementId,deleted:!0,pageIndex:this.pageIndex}}}const SEED=3285377520,MASK_HIGH=4294901760,MASK_LOW=65535;class MurmurHash3_64{constructor($){this.h1=$?$&4294967295:SEED,this.h2=$?$&4294967295:SEED}update($){let ht,vt;if(typeof $=="string"){ht=new Uint8Array($.length*2),vt=0;for(let Xt=0,Kt=$.length;Xt<Kt;Xt++){const Nt=$.charCodeAt(Xt);Nt<=255?ht[vt++]=Nt:(ht[vt++]=Nt>>>8,ht[vt++]=Nt&255)}}else if(ArrayBuffer.isView($))ht=$.slice(),vt=ht.byteLength;else throw new Error("Invalid data format, must be a string or TypedArray.");const At=vt>>2,St=vt-At*4,Ct=new Uint32Array(ht.buffer,0,At);let Et=0,Ft=0,wt=this.h1,_t=this.h2;const Rt=3432918353,_e=461845907,bt=Rt&MASK_LOW,Pt=_e&MASK_LOW;for(let Xt=0;Xt<At;Xt++)Xt&1?(Et=Ct[Xt],Et=Et*Rt&MASK_HIGH|Et*bt&MASK_LOW,Et=Et<<15|Et>>>17,Et=Et*_e&MASK_HIGH|Et*Pt&MASK_LOW,wt^=Et,wt=wt<<13|wt>>>19,wt=wt*5+3864292196):(Ft=Ct[Xt],Ft=Ft*Rt&MASK_HIGH|Ft*bt&MASK_LOW,Ft=Ft<<15|Ft>>>17,Ft=Ft*_e&MASK_HIGH|Ft*Pt&MASK_LOW,_t^=Ft,_t=_t<<13|_t>>>19,_t=_t*5+3864292196);switch(Et=0,St){case 3:Et^=ht[At*4+2]<<16;case 2:Et^=ht[At*4+1]<<8;case 1:Et^=ht[At*4],Et=Et*Rt&MASK_HIGH|Et*bt&MASK_LOW,Et=Et<<15|Et>>>17,Et=Et*_e&MASK_HIGH|Et*Pt&MASK_LOW,At&1?wt^=Et:_t^=Et}this.h1=wt,this.h2=_t}hexdigest(){let $=this.h1,ht=this.h2;return $^=ht>>>1,$=$*3981806797&MASK_HIGH|$*36045&MASK_LOW,ht=ht*4283543511&MASK_HIGH|((ht<<16|$>>>16)*2950163797&MASK_HIGH)>>>16,$^=ht>>>1,$=$*444984403&MASK_HIGH|$*60499&MASK_LOW,ht=ht*3301882366&MASK_HIGH|((ht<<16|$>>>16)*3120437893&MASK_HIGH)>>>16,$^=ht>>>1,($>>>0).toString(16).padStart(8,"0")+(ht>>>0).toString(16).padStart(8,"0")}}const SerializableEmpty=Object.freeze({map:null,hash:"",transfer:void 0});var Gu,_o,Z2,Ny;class AnnotationStorage{constructor(){Nn(this,Z2);Nn(this,Gu,!1);Nn(this,_o,new Map);this.onSetModified=null,this.onResetModified=null,this.onAnnotationEditor=null}getValue($,ht){const vt=Mt(this,_o).get($);return vt===void 0?ht:Object.assign(ht,vt)}getRawValue($){return Mt(this,_o).get($)}remove($){if(Mt(this,_o).delete($),Mt(this,_o).size===0&&this.resetModified(),typeof this.onAnnotationEditor=="function"){for(const ht of Mt(this,_o).values())if(ht instanceof AnnotationEditor)return;this.onAnnotationEditor(null)}}setValue($,ht){const vt=Mt(this,_o).get($);let At=!1;if(vt!==void 0)for(const[St,Ct]of Object.entries(ht))vt[St]!==Ct&&(At=!0,vt[St]=Ct);else At=!0,Mt(this,_o).set($,ht);At&&Mn(this,Z2,Ny).call(this),ht instanceof AnnotationEditor&&typeof this.onAnnotationEditor=="function"&&this.onAnnotationEditor(ht.constructor._type)}has($){return Mt(this,_o).has($)}getAll(){return Mt(this,_o).size>0?objectFromMap(Mt(this,_o)):null}setAll($){for(const[ht,vt]of Object.entries($))this.setValue(ht,vt)}get size(){return Mt(this,_o).size}resetModified(){Mt(this,Gu)&&($n(this,Gu,!1),typeof this.onResetModified=="function"&&this.onResetModified())}get print(){return new PrintAnnotationStorage(this)}get serializable(){if(Mt(this,_o).size===0)return SerializableEmpty;const $=new Map,ht=new MurmurHash3_64,vt=[],At=Object.create(null);let St=!1;for(const[Ct,Et]of Mt(this,_o)){const Ft=Et instanceof AnnotationEditor?Et.serialize(!1,At):Et;Ft&&($.set(Ct,Ft),ht.update(`${Ct}:${JSON.stringify(Ft)}`),St||(St=!!Ft.bitmap))}if(St)for(const Ct of $.values())Ct.bitmap&&vt.push(Ct.bitmap);return $.size>0?{map:$,hash:ht.hexdigest(),transfer:vt}:SerializableEmpty}get editorStats(){let $=null;const ht=new Map;for(const vt of Mt(this,_o).values()){if(!(vt instanceof AnnotationEditor))continue;const At=vt.telemetryFinalData;if(!At)continue;const{type:St}=At;ht.has(St)||ht.set(St,Object.getPrototypeOf(vt).constructor),$||($=Object.create(null));const Ct=$[St]||($[St]=new Map);for(const[Et,Ft]of Object.entries(At)){if(Et==="type")continue;let wt=Ct.get(Et);wt||(wt=new Map,Ct.set(Et,wt));const _t=wt.get(Ft)??0;wt.set(Ft,_t+1)}}for(const[vt,At]of ht)$[vt]=At.computeTelemetryFinalData($[vt]);return $}}Gu=new WeakMap,_o=new WeakMap,Z2=new WeakSet,Ny=function(){Mt(this,Gu)||($n(this,Gu,!0),typeof this.onSetModified=="function"&&this.onSetModified())};var Wm;class PrintAnnotationStorage extends AnnotationStorage{constructor(ht){super();Nn(this,Wm);const{map:vt,hash:At,transfer:St}=ht.serializable,Ct=structuredClone(vt,St?{transfer:St}:null);$n(this,Wm,{map:Ct,hash:At,transfer:St})}get print(){unreachable("Should not call PrintAnnotationStorage.print")}get serializable(){return Mt(this,Wm)}}Wm=new WeakMap;var op;class FontLoader{constructor({ownerDocument:$=globalThis.document,styleElement:ht=null}){Nn(this,op,new Set);this._document=$,this.nativeFontFaces=new Set,this.styleElement=null,this.loadingRequests=[],this.loadTestFontId=0}addNativeFontFace($){this.nativeFontFaces.add($),this._document.fonts.add($)}removeNativeFontFace($){this.nativeFontFaces.delete($),this._document.fonts.delete($)}insertRule($){this.styleElement||(this.styleElement=this._document.createElement("style"),this._document.documentElement.getElementsByTagName("head")[0].append(this.styleElement));const ht=this.styleElement.sheet;ht.insertRule($,ht.cssRules.length)}clear(){for(const $ of this.nativeFontFaces)this._document.fonts.delete($);this.nativeFontFaces.clear(),Mt(this,op).clear(),this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}async loadSystemFont({systemFontInfo:$,_inspectFont:ht}){if(!(!$||Mt(this,op).has($.loadedName))){if(assert(!this.disableFontFace,"loadSystemFont shouldn't be called when `disableFontFace` is set."),this.isFontLoadingAPISupported){const{loadedName:vt,src:At,style:St}=$,Ct=new FontFace(vt,At,St);this.addNativeFontFace(Ct);try{await Ct.load(),Mt(this,op).add(vt),ht==null||ht($)}catch{warn(`Cannot load system font: ${$.baseFontName}, installing it could help to improve PDF rendering.`),this.removeNativeFontFace(Ct)}return}unreachable("Not implemented: loadSystemFont without the Font Loading API.")}}async bind($){if($.attached||$.missingFile&&!$.systemFontInfo)return;if($.attached=!0,$.systemFontInfo){await this.loadSystemFont($);return}if(this.isFontLoadingAPISupported){const vt=$.createNativeFontFace();if(vt){this.addNativeFontFace(vt);try{await vt.loaded}catch(At){throw warn(`Failed to load font '${vt.family}': '${At}'.`),$.disableFontFace=!0,At}}return}const ht=$.createFontFaceRule();if(ht){if(this.insertRule(ht),this.isSyncFontLoadingSupported)return;await new Promise(vt=>{const At=this._queueLoadingCallback(vt);this._prepareFontLoadEvent($,At)})}}get isFontLoadingAPISupported(){var ht;const $=!!((ht=this._document)!=null&&ht.fonts);return shadow(this,"isFontLoadingAPISupported",$)}get isSyncFontLoadingSupported(){let $=!1;return(isNodeJS||typeof navigator<"u"&&typeof(navigator==null?void 0:navigator.userAgent)=="string"&&/Mozilla\/5.0.*?rv:\d+.*? Gecko/.test(navigator.userAgent))&&($=!0),shadow(this,"isSyncFontLoadingSupported",$)}_queueLoadingCallback($){function ht(){for(assert(!At.done,"completeRequest() cannot be called twice."),At.done=!0;vt.length>0&&vt[0].done;){const St=vt.shift();setTimeout(St.callback,0)}}const{loadingRequests:vt}=this,At={done:!1,complete:ht,callback:$};return vt.push(At),At}get _loadTestFont(){const $=atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA==");return shadow(this,"_loadTestFont",$)}_prepareFontLoadEvent($,ht){function vt(jt,kt){return jt.charCodeAt(kt)<<24|jt.charCodeAt(kt+1)<<16|jt.charCodeAt(kt+2)<<8|jt.charCodeAt(kt+3)&255}function At(jt,kt,qt,Bt){const Gt=jt.substring(0,kt),en=jt.substring(kt+qt);return Gt+Bt+en}let St,Ct;const Et=this._document.createElement("canvas");Et.width=1,Et.height=1;const Ft=Et.getContext("2d");let wt=0;function _t(jt,kt){if(++wt>30){warn("Load test font never loaded."),kt();return}if(Ft.font="30px "+jt,Ft.fillText(".",0,20),Ft.getImageData(0,0,1,1).data[3]>0){kt();return}setTimeout(_t.bind(null,jt,kt))}const Rt=`lt${Date.now()}${this.loadTestFontId++}`;let _e=this._loadTestFont;_e=At(_e,976,Rt.length,Rt);const Pt=16,Xt=1482184792;let Kt=vt(_e,Pt);for(St=0,Ct=Rt.length-3;St<Ct;St+=4)Kt=Kt-Xt+vt(Rt,St)|0;St<Rt.length&&(Kt=Kt-Xt+vt(Rt+"XXX",St)|0),_e=At(_e,Pt,4,string32(Kt));const Nt=`url(data:font/opentype;base64,${btoa(_e)});`,$t=`@font-face {font-family:"${Rt}";src:${Nt}}`;this.insertRule($t);const Lt=this._document.createElement("div");Lt.style.visibility="hidden",Lt.style.width=Lt.style.height="10px",Lt.style.position="absolute",Lt.style.top=Lt.style.left="0px";for(const jt of[$.loadedName,Rt]){const kt=this._document.createElement("span");kt.textContent="Hi",kt.style.fontFamily=jt,Lt.append(kt)}this._document.body.append(Lt),_t(Rt,()=>{Lt.remove(),ht.complete()})}}op=new WeakMap;class FontFaceObject{constructor($,{disableFontFace:ht=!1,inspectFont:vt=null}){this.compiledGlyphs=Object.create(null);for(const At in $)this[At]=$[At];this.disableFontFace=ht===!0,this._inspectFont=vt}createNativeFontFace(){var ht;if(!this.data||this.disableFontFace)return null;let $;if(!this.cssFontInfo)$=new FontFace(this.loadedName,this.data,{});else{const vt={weight:this.cssFontInfo.fontWeight};this.cssFontInfo.italicAngle&&(vt.style=`oblique ${this.cssFontInfo.italicAngle}deg`),$=new FontFace(this.cssFontInfo.fontFamily,this.data,vt)}return(ht=this._inspectFont)==null||ht.call(this,this),$}createFontFaceRule(){var At;if(!this.data||this.disableFontFace)return null;const $=bytesToString(this.data),ht=`url(data:${this.mimetype};base64,${btoa($)});`;let vt;if(!this.cssFontInfo)vt=`@font-face {font-family:"${this.loadedName}";src:${ht}}`;else{let St=`font-weight: ${this.cssFontInfo.fontWeight};`;this.cssFontInfo.italicAngle&&(St+=`font-style: oblique ${this.cssFontInfo.italicAngle}deg;`),vt=`@font-face {font-family:"${this.cssFontInfo.fontFamily}";${St}src:${ht}}`}return(At=this._inspectFont)==null||At.call(this,this,ht),vt}getPathGenerator($,ht){if(this.compiledGlyphs[ht]!==void 0)return this.compiledGlyphs[ht];let vt;try{vt=$.get(this.loadedName+"_path_"+ht)}catch(St){warn(`getPathGenerator - ignoring character: "${St}".`)}if(!Array.isArray(vt)||vt.length===0)return this.compiledGlyphs[ht]=function(St,Ct){};const At=[];for(let St=0,Ct=vt.length;St<Ct;)switch(vt[St++]){case FontRenderOps.BEZIER_CURVE_TO:{const[Et,Ft,wt,_t,Rt,_e]=vt.slice(St,St+6);At.push(bt=>bt.bezierCurveTo(Et,Ft,wt,_t,Rt,_e)),St+=6}break;case FontRenderOps.MOVE_TO:{const[Et,Ft]=vt.slice(St,St+2);At.push(wt=>wt.moveTo(Et,Ft)),St+=2}break;case FontRenderOps.LINE_TO:{const[Et,Ft]=vt.slice(St,St+2);At.push(wt=>wt.lineTo(Et,Ft)),St+=2}break;case FontRenderOps.QUADRATIC_CURVE_TO:{const[Et,Ft,wt,_t]=vt.slice(St,St+4);At.push(Rt=>Rt.quadraticCurveTo(Et,Ft,wt,_t)),St+=4}break;case FontRenderOps.RESTORE:At.push(Et=>Et.restore());break;case FontRenderOps.SAVE:At.push(Et=>Et.save());break;case FontRenderOps.SCALE:assert(At.length===2,"Scale command is only valid at the third position.");break;case FontRenderOps.TRANSFORM:{const[Et,Ft,wt,_t,Rt,_e]=vt.slice(St,St+6);At.push(bt=>bt.transform(Et,Ft,wt,_t,Rt,_e)),St+=6}break;case FontRenderOps.TRANSLATE:{const[Et,Ft]=vt.slice(St,St+2);At.push(wt=>wt.translate(Et,Ft)),St+=2}break}return this.compiledGlyphs[ht]=function(Ct,Et){At[0](Ct),At[1](Ct),Ct.scale(Et,-Et);for(let Ft=2,wt=At.length;Ft<wt;Ft++)At[Ft](Ct)}}}if(isNodeJS){var packageCapability=Promise.withResolvers(),packageMap=null;(async()=>{const $=await __vitePreload(()=>Promise.resolve().then(()=>__viteBrowserExternal$1),[]),ht=await __vitePreload(()=>Promise.resolve().then(()=>__viteBrowserExternal$1),void 0),vt=await __vitePreload(()=>Promise.resolve().then(()=>__viteBrowserExternal$1),void 0),At=await __vitePreload(()=>Promise.resolve().then(()=>__viteBrowserExternal$1),void 0);let St,Ct;return new Map(Object.entries({fs:$,http:ht,https:vt,url:At,canvas:St,path2d:Ct}))})().then($=>{packageMap=$,packageCapability.resolve()},$=>{warn(`loadPackages: ${$}`),packageMap=new Map,packageCapability.resolve()})}class NodePackages{static get promise(){return packageCapability.promise}static get($){return packageMap==null?void 0:packageMap.get($)}}const node_utils_fetchData=function(xt){return NodePackages.get("fs").promises.readFile(xt).then(ht=>new Uint8Array(ht))};class NodeFilterFactory extends BaseFilterFactory{}class NodeCanvasFactory extends BaseCanvasFactory{_createCanvas($,ht){return NodePackages.get("canvas").createCanvas($,ht)}}class NodeCMapReaderFactory extends BaseCMapReaderFactory{_fetchData($,ht){return node_utils_fetchData($).then(vt=>({cMapData:vt,compressionType:ht}))}}class NodeStandardFontDataFactory extends BaseStandardFontDataFactory{_fetchData($){return node_utils_fetchData($)}}const PathType={FILL:"Fill",STROKE:"Stroke",SHADING:"Shading"};function applyBoundingBox(xt,$){if(!$)return;const ht=$[2]-$[0],vt=$[3]-$[1],At=new Path2D;At.rect($[0],$[1],ht,vt),xt.clip(At)}class BaseShadingPattern{constructor(){this.constructor===BaseShadingPattern&&unreachable("Cannot initialize BaseShadingPattern.")}getPattern(){unreachable("Abstract method `getPattern` called.")}}class RadialAxialShadingPattern extends BaseShadingPattern{constructor($){super(),this._type=$[1],this._bbox=$[2],this._colorStops=$[3],this._p0=$[4],this._p1=$[5],this._r0=$[6],this._r1=$[7],this.matrix=null}_createGradient($){let ht;this._type==="axial"?ht=$.createLinearGradient(this._p0[0],this._p0[1],this._p1[0],this._p1[1]):this._type==="radial"&&(ht=$.createRadialGradient(this._p0[0],this._p0[1],this._r0,this._p1[0],this._p1[1],this._r1));for(const vt of this._colorStops)ht.addColorStop(vt[0],vt[1]);return ht}getPattern($,ht,vt,At){let St;if(At===PathType.STROKE||At===PathType.FILL){const Ct=ht.current.getClippedPathBoundingBox(At,getCurrentTransform($))||[0,0,0,0],Et=Math.ceil(Ct[2]-Ct[0])||1,Ft=Math.ceil(Ct[3]-Ct[1])||1,wt=ht.cachedCanvases.getCanvas("pattern",Et,Ft,!0),_t=wt.context;_t.clearRect(0,0,_t.canvas.width,_t.canvas.height),_t.beginPath(),_t.rect(0,0,_t.canvas.width,_t.canvas.height),_t.translate(-Ct[0],-Ct[1]),vt=Util.transform(vt,[1,0,0,1,Ct[0],Ct[1]]),_t.transform(...ht.baseTransform),this.matrix&&_t.transform(...this.matrix),applyBoundingBox(_t,this._bbox),_t.fillStyle=this._createGradient(_t),_t.fill(),St=$.createPattern(wt.canvas,"no-repeat");const Rt=new DOMMatrix(vt);St.setTransform(Rt)}else applyBoundingBox($,this._bbox),St=this._createGradient($);return St}}function drawTriangle(xt,$,ht,vt,At,St,Ct,Et){const Ft=$.coords,wt=$.colors,_t=xt.data,Rt=xt.width*4;let _e;Ft[ht+1]>Ft[vt+1]&&(_e=ht,ht=vt,vt=_e,_e=St,St=Ct,Ct=_e),Ft[vt+1]>Ft[At+1]&&(_e=vt,vt=At,At=_e,_e=Ct,Ct=Et,Et=_e),Ft[ht+1]>Ft[vt+1]&&(_e=ht,ht=vt,vt=_e,_e=St,St=Ct,Ct=_e);const bt=(Ft[ht]+$.offsetX)*$.scaleX,Pt=(Ft[ht+1]+$.offsetY)*$.scaleY,Xt=(Ft[vt]+$.offsetX)*$.scaleX,Kt=(Ft[vt+1]+$.offsetY)*$.scaleY,Nt=(Ft[At]+$.offsetX)*$.scaleX,$t=(Ft[At+1]+$.offsetY)*$.scaleY;if(Pt>=$t)return;const Lt=wt[St],jt=wt[St+1],kt=wt[St+2],qt=wt[Ct],Bt=wt[Ct+1],Gt=wt[Ct+2],en=wt[Et],dn=wt[Et+1],Qt=wt[Et+2],gn=Math.round(Pt),tn=Math.round($t);let bn,Wt,Yt,un,Ut,Ot,Ht,an;for(let zt=gn;zt<=tn;zt++){if(zt<Kt){const cn=zt<Pt?0:(Pt-zt)/(Pt-Kt);bn=bt-(bt-Xt)*cn,Wt=Lt-(Lt-qt)*cn,Yt=jt-(jt-Bt)*cn,un=kt-(kt-Gt)*cn}else{let cn;zt>$t?cn=1:Kt===$t?cn=0:cn=(Kt-zt)/(Kt-$t),bn=Xt-(Xt-Nt)*cn,Wt=qt-(qt-en)*cn,Yt=Bt-(Bt-dn)*cn,un=Gt-(Gt-Qt)*cn}let Vt;zt<Pt?Vt=0:zt>$t?Vt=1:Vt=(Pt-zt)/(Pt-$t),Ut=bt-(bt-Nt)*Vt,Ot=Lt-(Lt-en)*Vt,Ht=jt-(jt-dn)*Vt,an=kt-(kt-Qt)*Vt;const nn=Math.round(Math.min(bn,Ut)),hn=Math.round(Math.max(bn,Ut));let on=Rt*zt+nn*4;for(let cn=nn;cn<=hn;cn++)Vt=(bn-cn)/(bn-Ut),Vt<0?Vt=0:Vt>1&&(Vt=1),_t[on++]=Wt-(Wt-Ot)*Vt|0,_t[on++]=Yt-(Yt-Ht)*Vt|0,_t[on++]=un-(un-an)*Vt|0,_t[on++]=255}}function drawFigure(xt,$,ht){const vt=$.coords,At=$.colors;let St,Ct;switch($.type){case"lattice":const Et=$.verticesPerRow,Ft=Math.floor(vt.length/Et)-1,wt=Et-1;for(St=0;St<Ft;St++){let _t=St*Et;for(let Rt=0;Rt<wt;Rt++,_t++)drawTriangle(xt,ht,vt[_t],vt[_t+1],vt[_t+Et],At[_t],At[_t+1],At[_t+Et]),drawTriangle(xt,ht,vt[_t+Et+1],vt[_t+1],vt[_t+Et],At[_t+Et+1],At[_t+1],At[_t+Et])}break;case"triangles":for(St=0,Ct=vt.length;St<Ct;St+=3)drawTriangle(xt,ht,vt[St],vt[St+1],vt[St+2],At[St],At[St+1],At[St+2]);break;default:throw new Error("illegal figure")}}class MeshShadingPattern extends BaseShadingPattern{constructor($){super(),this._coords=$[2],this._colors=$[3],this._figures=$[4],this._bounds=$[5],this._bbox=$[7],this._background=$[8],this.matrix=null}_createMeshCanvas($,ht,vt){const Et=Math.floor(this._bounds[0]),Ft=Math.floor(this._bounds[1]),wt=Math.ceil(this._bounds[2])-Et,_t=Math.ceil(this._bounds[3])-Ft,Rt=Math.min(Math.ceil(Math.abs(wt*$[0]*1.1)),3e3),_e=Math.min(Math.ceil(Math.abs(_t*$[1]*1.1)),3e3),bt=wt/Rt,Pt=_t/_e,Xt={coords:this._coords,colors:this._colors,offsetX:-Et,offsetY:-Ft,scaleX:1/bt,scaleY:1/Pt},Kt=Rt+2*2,Nt=_e+2*2,$t=vt.getCanvas("mesh",Kt,Nt,!1),Lt=$t.context,jt=Lt.createImageData(Rt,_e);if(ht){const qt=jt.data;for(let Bt=0,Gt=qt.length;Bt<Gt;Bt+=4)qt[Bt]=ht[0],qt[Bt+1]=ht[1],qt[Bt+2]=ht[2],qt[Bt+3]=255}for(const qt of this._figures)drawFigure(jt,qt,Xt);return Lt.putImageData(jt,2,2),{canvas:$t.canvas,offsetX:Et-2*bt,offsetY:Ft-2*Pt,scaleX:bt,scaleY:Pt}}getPattern($,ht,vt,At){applyBoundingBox($,this._bbox);let St;if(At===PathType.SHADING)St=Util.singularValueDecompose2dScale(getCurrentTransform($));else if(St=Util.singularValueDecompose2dScale(ht.baseTransform),this.matrix){const Et=Util.singularValueDecompose2dScale(this.matrix);St=[St[0]*Et[0],St[1]*Et[1]]}const Ct=this._createMeshCanvas(St,At===PathType.SHADING?null:this._background,ht.cachedCanvases);return At!==PathType.SHADING&&($.setTransform(...ht.baseTransform),this.matrix&&$.transform(...this.matrix)),$.translate(Ct.offsetX,Ct.offsetY),$.scale(Ct.scaleX,Ct.scaleY),$.createPattern(Ct.canvas,"no-repeat")}}class DummyShadingPattern extends BaseShadingPattern{getPattern(){return"hotpink"}}function getShadingPattern(xt){switch(xt[0]){case"RadialAxial":return new RadialAxialShadingPattern(xt);case"Mesh":return new MeshShadingPattern(xt);case"Dummy":return new DummyShadingPattern}throw new Error(`Unknown IR type: ${xt[0]}`)}const PaintType={COLORED:1,UNCOLORED:2},J2=class J2{constructor($,ht,vt,At,St){this.operatorList=$[2],this.matrix=$[3],this.bbox=$[4],this.xstep=$[5],this.ystep=$[6],this.paintType=$[7],this.tilingType=$[8],this.color=ht,this.ctx=vt,this.canvasGraphicsFactory=At,this.baseTransform=St}createPatternCanvas($){const ht=this.operatorList,vt=this.bbox,At=this.xstep,St=this.ystep,Ct=this.paintType,Et=this.tilingType,Ft=this.color,wt=this.canvasGraphicsFactory;info("TilingType: "+Et);const _t=vt[0],Rt=vt[1],_e=vt[2],bt=vt[3],Pt=Util.singularValueDecompose2dScale(this.matrix),Xt=Util.singularValueDecompose2dScale(this.baseTransform),Kt=[Pt[0]*Xt[0],Pt[1]*Xt[1]],Nt=this.getSizeAndScale(At,this.ctx.canvas.width,Kt[0]),$t=this.getSizeAndScale(St,this.ctx.canvas.height,Kt[1]),Lt=$.cachedCanvases.getCanvas("pattern",Nt.size,$t.size,!0),jt=Lt.context,kt=wt.createCanvasGraphics(jt);kt.groupLevel=$.groupLevel,this.setFillAndStrokeStyleToContext(kt,Ct,Ft);let qt=_t,Bt=Rt,Gt=_e,en=bt;return _t<0&&(qt=0,Gt+=Math.abs(_t)),Rt<0&&(Bt=0,en+=Math.abs(Rt)),jt.translate(-(Nt.scale*qt),-($t.scale*Bt)),kt.transform(Nt.scale,0,0,$t.scale,0,0),jt.save(),this.clipBbox(kt,qt,Bt,Gt,en),kt.baseTransform=getCurrentTransform(kt.ctx),kt.executeOperatorList(ht),kt.endDrawing(),{canvas:Lt.canvas,scaleX:Nt.scale,scaleY:$t.scale,offsetX:qt,offsetY:Bt}}getSizeAndScale($,ht,vt){$=Math.abs($);const At=Math.max(J2.MAX_PATTERN_SIZE,ht);let St=Math.ceil($*vt);return St>=At?St=At:vt=St/$,{scale:vt,size:St}}clipBbox($,ht,vt,At,St){const Ct=At-ht,Et=St-vt;$.ctx.rect(ht,vt,Ct,Et),$.current.updateRectMinMax(getCurrentTransform($.ctx),[ht,vt,At,St]),$.clip(),$.endPath()}setFillAndStrokeStyleToContext($,ht,vt){const At=$.ctx,St=$.current;switch(ht){case PaintType.COLORED:const Ct=this.ctx;At.fillStyle=Ct.fillStyle,At.strokeStyle=Ct.strokeStyle,St.fillColor=Ct.fillStyle,St.strokeColor=Ct.strokeStyle;break;case PaintType.UNCOLORED:const Et=Util.makeHexColor(vt[0],vt[1],vt[2]);At.fillStyle=Et,At.strokeStyle=Et,St.fillColor=Et,St.strokeColor=Et;break;default:throw new FormatError(`Unsupported paint type: ${ht}`)}}getPattern($,ht,vt,At){let St=vt;At!==PathType.SHADING&&(St=Util.transform(St,ht.baseTransform),this.matrix&&(St=Util.transform(St,this.matrix)));const Ct=this.createPatternCanvas(ht);let Et=new DOMMatrix(St);Et=Et.translate(Ct.offsetX,Ct.offsetY),Et=Et.scale(1/Ct.scaleX,1/Ct.scaleY);const Ft=$.createPattern(Ct.canvas,"repeat");return Ft.setTransform(Et),Ft}};Ur(J2,"MAX_PATTERN_SIZE",3e3);let TilingPattern=J2;function convertBlackAndWhiteToRGBA({src:xt,srcPos:$=0,dest:ht,width:vt,height:At,nonBlackColor:St=4294967295,inverseDecode:Ct=!1}){const Et=util_FeatureTest.isLittleEndian?4278190080:255,[Ft,wt]=Ct?[St,Et]:[Et,St],_t=vt>>3,Rt=vt&7,_e=xt.length;ht=new Uint32Array(ht.buffer);let bt=0;for(let Pt=0;Pt<At;Pt++){for(const Kt=$+_t;$<Kt;$++){const Nt=$<_e?xt[$]:255;ht[bt++]=Nt&128?wt:Ft,ht[bt++]=Nt&64?wt:Ft,ht[bt++]=Nt&32?wt:Ft,ht[bt++]=Nt&16?wt:Ft,ht[bt++]=Nt&8?wt:Ft,ht[bt++]=Nt&4?wt:Ft,ht[bt++]=Nt&2?wt:Ft,ht[bt++]=Nt&1?wt:Ft}if(Rt===0)continue;const Xt=$<_e?xt[$++]:255;for(let Kt=0;Kt<Rt;Kt++)ht[bt++]=Xt&1<<7-Kt?wt:Ft}return{srcPos:$,destPos:bt}}const MIN_FONT_SIZE=16,MAX_FONT_SIZE=100,EXECUTION_TIME=15,EXECUTION_STEPS=10,MAX_SIZE_TO_COMPILE=1e3,FULL_CHUNK_HEIGHT=16;function mirrorContextOperations(xt,$){if(xt._removeMirroring)throw new Error("Context is already forwarding operations.");xt.__originalSave=xt.save,xt.__originalRestore=xt.restore,xt.__originalRotate=xt.rotate,xt.__originalScale=xt.scale,xt.__originalTranslate=xt.translate,xt.__originalTransform=xt.transform,xt.__originalSetTransform=xt.setTransform,xt.__originalResetTransform=xt.resetTransform,xt.__originalClip=xt.clip,xt.__originalMoveTo=xt.moveTo,xt.__originalLineTo=xt.lineTo,xt.__originalBezierCurveTo=xt.bezierCurveTo,xt.__originalRect=xt.rect,xt.__originalClosePath=xt.closePath,xt.__originalBeginPath=xt.beginPath,xt._removeMirroring=()=>{xt.save=xt.__originalSave,xt.restore=xt.__originalRestore,xt.rotate=xt.__originalRotate,xt.scale=xt.__originalScale,xt.translate=xt.__originalTranslate,xt.transform=xt.__originalTransform,xt.setTransform=xt.__originalSetTransform,xt.resetTransform=xt.__originalResetTransform,xt.clip=xt.__originalClip,xt.moveTo=xt.__originalMoveTo,xt.lineTo=xt.__originalLineTo,xt.bezierCurveTo=xt.__originalBezierCurveTo,xt.rect=xt.__originalRect,xt.closePath=xt.__originalClosePath,xt.beginPath=xt.__originalBeginPath,delete xt._removeMirroring},xt.save=function(){$.save(),this.__originalSave()},xt.restore=function(){$.restore(),this.__originalRestore()},xt.translate=function(vt,At){$.translate(vt,At),this.__originalTranslate(vt,At)},xt.scale=function(vt,At){$.scale(vt,At),this.__originalScale(vt,At)},xt.transform=function(vt,At,St,Ct,Et,Ft){$.transform(vt,At,St,Ct,Et,Ft),this.__originalTransform(vt,At,St,Ct,Et,Ft)},xt.setTransform=function(vt,At,St,Ct,Et,Ft){$.setTransform(vt,At,St,Ct,Et,Ft),this.__originalSetTransform(vt,At,St,Ct,Et,Ft)},xt.resetTransform=function(){$.resetTransform(),this.__originalResetTransform()},xt.rotate=function(vt){$.rotate(vt),this.__originalRotate(vt)},xt.clip=function(vt){$.clip(vt),this.__originalClip(vt)},xt.moveTo=function(ht,vt){$.moveTo(ht,vt),this.__originalMoveTo(ht,vt)},xt.lineTo=function(ht,vt){$.lineTo(ht,vt),this.__originalLineTo(ht,vt)},xt.bezierCurveTo=function(ht,vt,At,St,Ct,Et){$.bezierCurveTo(ht,vt,At,St,Ct,Et),this.__originalBezierCurveTo(ht,vt,At,St,Ct,Et)},xt.rect=function(ht,vt,At,St){$.rect(ht,vt,At,St),this.__originalRect(ht,vt,At,St)},xt.closePath=function(){$.closePath(),this.__originalClosePath()},xt.beginPath=function(){$.beginPath(),this.__originalBeginPath()}}class CachedCanvases{constructor($){this.canvasFactory=$,this.cache=Object.create(null)}getCanvas($,ht,vt){let At;return this.cache[$]!==void 0?(At=this.cache[$],this.canvasFactory.reset(At,ht,vt)):(At=this.canvasFactory.create(ht,vt),this.cache[$]=At),At}delete($){delete this.cache[$]}clear(){for(const $ in this.cache){const ht=this.cache[$];this.canvasFactory.destroy(ht),delete this.cache[$]}}}function drawImageAtIntegerCoords(xt,$,ht,vt,At,St,Ct,Et,Ft,wt){const[_t,Rt,_e,bt,Pt,Xt]=getCurrentTransform(xt);if(Rt===0&&_e===0){const $t=Ct*_t+Pt,Lt=Math.round($t),jt=Et*bt+Xt,kt=Math.round(jt),qt=(Ct+Ft)*_t+Pt,Bt=Math.abs(Math.round(qt)-Lt)||1,Gt=(Et+wt)*bt+Xt,en=Math.abs(Math.round(Gt)-kt)||1;return xt.setTransform(Math.sign(_t),0,0,Math.sign(bt),Lt,kt),xt.drawImage($,ht,vt,At,St,0,0,Bt,en),xt.setTransform(_t,Rt,_e,bt,Pt,Xt),[Bt,en]}if(_t===0&&bt===0){const $t=Et*_e+Pt,Lt=Math.round($t),jt=Ct*Rt+Xt,kt=Math.round(jt),qt=(Et+wt)*_e+Pt,Bt=Math.abs(Math.round(qt)-Lt)||1,Gt=(Ct+Ft)*Rt+Xt,en=Math.abs(Math.round(Gt)-kt)||1;return xt.setTransform(0,Math.sign(Rt),Math.sign(_e),0,Lt,kt),xt.drawImage($,ht,vt,At,St,0,0,en,Bt),xt.setTransform(_t,Rt,_e,bt,Pt,Xt),[en,Bt]}xt.drawImage($,ht,vt,At,St,Ct,Et,Ft,wt);const Kt=Math.hypot(_t,Rt),Nt=Math.hypot(_e,bt);return[Kt*Ft,Nt*wt]}function compileType3Glyph(xt){const{width:$,height:ht}=xt;if($>MAX_SIZE_TO_COMPILE||ht>MAX_SIZE_TO_COMPILE)return null;const vt=1e3,At=new Uint8Array([0,2,4,0,1,0,5,4,8,10,0,8,0,2,1,0]),St=$+1;let Ct=new Uint8Array(St*(ht+1)),Et,Ft,wt;const _t=$+7&-8;let Rt=new Uint8Array(_t*ht),_e=0;for(const Nt of xt.data){let $t=128;for(;$t>0;)Rt[_e++]=Nt&$t?0:255,$t>>=1}let bt=0;for(_e=0,Rt[_e]!==0&&(Ct[0]=1,++bt),Ft=1;Ft<$;Ft++)Rt[_e]!==Rt[_e+1]&&(Ct[Ft]=Rt[_e]?2:1,++bt),_e++;for(Rt[_e]!==0&&(Ct[Ft]=2,++bt),Et=1;Et<ht;Et++){_e=Et*_t,wt=Et*St,Rt[_e-_t]!==Rt[_e]&&(Ct[wt]=Rt[_e]?1:8,++bt);let Nt=(Rt[_e]?4:0)+(Rt[_e-_t]?8:0);for(Ft=1;Ft<$;Ft++)Nt=(Nt>>2)+(Rt[_e+1]?4:0)+(Rt[_e-_t+1]?8:0),At[Nt]&&(Ct[wt+Ft]=At[Nt],++bt),_e++;if(Rt[_e-_t]!==Rt[_e]&&(Ct[wt+Ft]=Rt[_e]?2:4,++bt),bt>vt)return null}for(_e=_t*(ht-1),wt=Et*St,Rt[_e]!==0&&(Ct[wt]=8,++bt),Ft=1;Ft<$;Ft++)Rt[_e]!==Rt[_e+1]&&(Ct[wt+Ft]=Rt[_e]?4:8,++bt),_e++;if(Rt[_e]!==0&&(Ct[wt+Ft]=4,++bt),bt>vt)return null;const Pt=new Int32Array([0,St,-1,0,-St,0,0,0,1]),Xt=new Path2D;for(Et=0;bt&&Et<=ht;Et++){let Nt=Et*St;const $t=Nt+$;for(;Nt<$t&&!Ct[Nt];)Nt++;if(Nt===$t)continue;Xt.moveTo(Nt%St,Et);const Lt=Nt;let jt=Ct[Nt];do{const kt=Pt[jt];do Nt+=kt;while(!Ct[Nt]);const qt=Ct[Nt];qt!==5&&qt!==10?(jt=qt,Ct[Nt]=0):(jt=qt&51*jt>>4,Ct[Nt]&=jt>>2|jt<<2),Xt.lineTo(Nt%St,Nt/St|0),Ct[Nt]||--bt}while(Lt!==Nt);--Et}return Rt=null,Ct=null,function(Nt){Nt.save(),Nt.scale(1/$,-1/ht),Nt.translate(0,-ht),Nt.fill(Xt),Nt.beginPath(),Nt.restore()}}class CanvasExtraState{constructor($,ht){this.alphaIsShape=!1,this.fontSize=0,this.fontSizeScale=1,this.textMatrix=IDENTITY_MATRIX,this.textMatrixScale=1,this.fontMatrix=FONT_IDENTITY_MATRIX,this.leading=0,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRenderingMode=TextRenderingMode.FILL,this.textRise=0,this.fillColor="#000000",this.strokeColor="#000000",this.patternFill=!1,this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.activeSMask=null,this.transferMaps="none",this.startNewPathAndClipBox([0,0,$,ht])}clone(){const $=Object.create(this);return $.clipBox=this.clipBox.slice(),$}setCurrentPoint($,ht){this.x=$,this.y=ht}updatePathMinMax($,ht,vt){[ht,vt]=Util.applyTransform([ht,vt],$),this.minX=Math.min(this.minX,ht),this.minY=Math.min(this.minY,vt),this.maxX=Math.max(this.maxX,ht),this.maxY=Math.max(this.maxY,vt)}updateRectMinMax($,ht){const vt=Util.applyTransform(ht,$),At=Util.applyTransform(ht.slice(2),$),St=Util.applyTransform([ht[0],ht[3]],$),Ct=Util.applyTransform([ht[2],ht[1]],$);this.minX=Math.min(this.minX,vt[0],At[0],St[0],Ct[0]),this.minY=Math.min(this.minY,vt[1],At[1],St[1],Ct[1]),this.maxX=Math.max(this.maxX,vt[0],At[0],St[0],Ct[0]),this.maxY=Math.max(this.maxY,vt[1],At[1],St[1],Ct[1])}updateScalingPathMinMax($,ht){Util.scaleMinMax($,ht),this.minX=Math.min(this.minX,ht[0]),this.minY=Math.min(this.minY,ht[1]),this.maxX=Math.max(this.maxX,ht[2]),this.maxY=Math.max(this.maxY,ht[3])}updateCurvePathMinMax($,ht,vt,At,St,Ct,Et,Ft,wt,_t){const Rt=Util.bezierBoundingBox(ht,vt,At,St,Ct,Et,Ft,wt,_t);_t||this.updateRectMinMax($,Rt)}getPathBoundingBox($=PathType.FILL,ht=null){const vt=[this.minX,this.minY,this.maxX,this.maxY];if($===PathType.STROKE){ht||unreachable("Stroke bounding box must include transform.");const At=Util.singularValueDecompose2dScale(ht),St=At[0]*this.lineWidth/2,Ct=At[1]*this.lineWidth/2;vt[0]-=St,vt[1]-=Ct,vt[2]+=St,vt[3]+=Ct}return vt}updateClipFromPath(){const $=Util.intersect(this.clipBox,this.getPathBoundingBox());this.startNewPathAndClipBox($||[0,0,0,0])}isEmptyClip(){return this.minX===1/0}startNewPathAndClipBox($){this.clipBox=$,this.minX=1/0,this.minY=1/0,this.maxX=0,this.maxY=0}getClippedPathBoundingBox($=PathType.FILL,ht=null){return Util.intersect(this.clipBox,this.getPathBoundingBox($,ht))}}function putBinaryImageData(xt,$){if(typeof ImageData<"u"&&$ instanceof ImageData){xt.putImageData($,0,0);return}const ht=$.height,vt=$.width,At=ht%FULL_CHUNK_HEIGHT,St=(ht-At)/FULL_CHUNK_HEIGHT,Ct=At===0?St:St+1,Et=xt.createImageData(vt,FULL_CHUNK_HEIGHT);let Ft=0,wt;const _t=$.data,Rt=Et.data;let _e,bt,Pt,Xt;if($.kind===util_ImageKind.GRAYSCALE_1BPP){const Kt=_t.byteLength,Nt=new Uint32Array(Rt.buffer,0,Rt.byteLength>>2),$t=Nt.length,Lt=vt+7>>3,jt=4294967295,kt=util_FeatureTest.isLittleEndian?4278190080:255;for(_e=0;_e<Ct;_e++){for(Pt=_e<St?FULL_CHUNK_HEIGHT:At,wt=0,bt=0;bt<Pt;bt++){const qt=Kt-Ft;let Bt=0;const Gt=qt>Lt?vt:qt*8-7,en=Gt&-8;let dn=0,Qt=0;for(;Bt<en;Bt+=8)Qt=_t[Ft++],Nt[wt++]=Qt&128?jt:kt,Nt[wt++]=Qt&64?jt:kt,Nt[wt++]=Qt&32?jt:kt,Nt[wt++]=Qt&16?jt:kt,Nt[wt++]=Qt&8?jt:kt,Nt[wt++]=Qt&4?jt:kt,Nt[wt++]=Qt&2?jt:kt,Nt[wt++]=Qt&1?jt:kt;for(;Bt<Gt;Bt++)dn===0&&(Qt=_t[Ft++],dn=128),Nt[wt++]=Qt&dn?jt:kt,dn>>=1}for(;wt<$t;)Nt[wt++]=0;xt.putImageData(Et,0,_e*FULL_CHUNK_HEIGHT)}}else if($.kind===util_ImageKind.RGBA_32BPP){for(bt=0,Xt=vt*FULL_CHUNK_HEIGHT*4,_e=0;_e<St;_e++)Rt.set(_t.subarray(Ft,Ft+Xt)),Ft+=Xt,xt.putImageData(Et,0,bt),bt+=FULL_CHUNK_HEIGHT;_e<Ct&&(Xt=vt*At*4,Rt.set(_t.subarray(Ft,Ft+Xt)),xt.putImageData(Et,0,bt))}else if($.kind===util_ImageKind.RGB_24BPP)for(Pt=FULL_CHUNK_HEIGHT,Xt=vt*Pt,_e=0;_e<Ct;_e++){for(_e>=St&&(Pt=At,Xt=vt*Pt),wt=0,bt=Xt;bt--;)Rt[wt++]=_t[Ft++],Rt[wt++]=_t[Ft++],Rt[wt++]=_t[Ft++],Rt[wt++]=255;xt.putImageData(Et,0,_e*FULL_CHUNK_HEIGHT)}else throw new Error(`bad image kind: ${$.kind}`)}function putBinaryImageMask(xt,$){if($.bitmap){xt.drawImage($.bitmap,0,0);return}const ht=$.height,vt=$.width,At=ht%FULL_CHUNK_HEIGHT,St=(ht-At)/FULL_CHUNK_HEIGHT,Ct=At===0?St:St+1,Et=xt.createImageData(vt,FULL_CHUNK_HEIGHT);let Ft=0;const wt=$.data,_t=Et.data;for(let Rt=0;Rt<Ct;Rt++){const _e=Rt<St?FULL_CHUNK_HEIGHT:At;({srcPos:Ft}=convertBlackAndWhiteToRGBA({src:wt,srcPos:Ft,dest:_t,width:vt,height:_e,nonBlackColor:0})),xt.putImageData(Et,0,Rt*FULL_CHUNK_HEIGHT)}}function copyCtxState(xt,$){const ht=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font","filter"];for(const vt of ht)xt[vt]!==void 0&&($[vt]=xt[vt]);xt.setLineDash!==void 0&&($.setLineDash(xt.getLineDash()),$.lineDashOffset=xt.lineDashOffset)}function resetCtxToDefault(xt){if(xt.strokeStyle=xt.fillStyle="#000000",xt.fillRule="nonzero",xt.globalAlpha=1,xt.lineWidth=1,xt.lineCap="butt",xt.lineJoin="miter",xt.miterLimit=10,xt.globalCompositeOperation="source-over",xt.font="10px sans-serif",xt.setLineDash!==void 0&&(xt.setLineDash([]),xt.lineDashOffset=0),!isNodeJS){const{filter:$}=xt;$!=="none"&&$!==""&&(xt.filter="none")}}function getImageSmoothingEnabled(xt,$){if($)return!0;const ht=Util.singularValueDecompose2dScale(xt);ht[0]=Math.fround(ht[0]),ht[1]=Math.fround(ht[1]);const vt=Math.fround((globalThis.devicePixelRatio||1)*PixelsPerInch.PDF_TO_CSS_UNITS);return ht[0]<=vt&&ht[1]<=vt}const LINE_CAP_STYLES=["butt","round","square"],LINE_JOIN_STYLES=["miter","round","bevel"],NORMAL_CLIP={},EO_CLIP={};var yu,O9,D9;const ty=class ty{constructor($,ht,vt,At,St,{optionalContentConfig:Ct,markedContentStack:Et=null},Ft,wt){Nn(this,yu);this.ctx=$,this.current=new CanvasExtraState(this.ctx.canvas.width,this.ctx.canvas.height),this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=ht,this.objs=vt,this.canvasFactory=At,this.filterFactory=St,this.groupStack=[],this.processingType3=null,this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.suspendedCtx=null,this.contentVisible=!0,this.markedContentStack=Et||[],this.optionalContentConfig=Ct,this.cachedCanvases=new CachedCanvases(this.canvasFactory),this.cachedPatterns=new Map,this.annotationCanvasMap=Ft,this.viewportScale=1,this.outputScaleX=1,this.outputScaleY=1,this.pageColors=wt,this._cachedScaleForStroking=[-1,0],this._cachedGetSinglePixelWidth=null,this._cachedBitmapsMap=new Map}getObject($,ht=null){return typeof $=="string"?$.startsWith("g_")?this.commonObjs.get($):this.objs.get($):ht}beginDrawing({transform:$,viewport:ht,transparency:vt=!1,background:At=null}){const St=this.ctx.canvas.width,Ct=this.ctx.canvas.height,Et=this.ctx.fillStyle;if(this.ctx.fillStyle=At||"#ffffff",this.ctx.fillRect(0,0,St,Ct),this.ctx.fillStyle=Et,vt){const Ft=this.cachedCanvases.getCanvas("transparent",St,Ct);this.compositeCtx=this.ctx,this.transparentCanvas=Ft.canvas,this.ctx=Ft.context,this.ctx.save(),this.ctx.transform(...getCurrentTransform(this.compositeCtx))}this.ctx.save(),resetCtxToDefault(this.ctx),$&&(this.ctx.transform(...$),this.outputScaleX=$[0],this.outputScaleY=$[0]),this.ctx.transform(...ht.transform),this.viewportScale=ht.scale,this.baseTransform=getCurrentTransform(this.ctx)}executeOperatorList($,ht,vt,At){const St=$.argsArray,Ct=$.fnArray;let Et=ht||0;const Ft=St.length;if(Ft===Et)return Et;const wt=Ft-Et>EXECUTION_STEPS&&typeof vt=="function",_t=wt?Date.now()+EXECUTION_TIME:0;let Rt=0;const _e=this.commonObjs,bt=this.objs;let Pt;for(;;){if(At!==void 0&&Et===At.nextBreakPoint)return At.breakIt(Et,vt),Et;if(Pt=Ct[Et],Pt!==OPS.dependency)this[Pt].apply(this,St[Et]);else for(const Xt of St[Et]){const Kt=Xt.startsWith("g_")?_e:bt;if(!Kt.has(Xt))return Kt.get(Xt,vt),Et}if(Et++,Et===Ft)return Et;if(wt&&++Rt>EXECUTION_STEPS){if(Date.now()>_t)return vt(),Et;Rt=0}}}endDrawing(){Mn(this,yu,O9).call(this),this.cachedCanvases.clear(),this.cachedPatterns.clear();for(const $ of this._cachedBitmapsMap.values()){for(const ht of $.values())typeof HTMLCanvasElement<"u"&&ht instanceof HTMLCanvasElement&&(ht.width=ht.height=0);$.clear()}this._cachedBitmapsMap.clear(),Mn(this,yu,D9).call(this)}_scaleImage($,ht){const vt=$.width,At=$.height;let St=Math.max(Math.hypot(ht[0],ht[1]),1),Ct=Math.max(Math.hypot(ht[2],ht[3]),1),Et=vt,Ft=At,wt="prescale1",_t,Rt;for(;St>2&&Et>1||Ct>2&&Ft>1;){let _e=Et,bt=Ft;St>2&&Et>1&&(_e=Et>=16384?Math.floor(Et/2)-1||1:Math.ceil(Et/2),St/=Et/_e),Ct>2&&Ft>1&&(bt=Ft>=16384?Math.floor(Ft/2)-1||1:Math.ceil(Ft)/2,Ct/=Ft/bt),_t=this.cachedCanvases.getCanvas(wt,_e,bt),Rt=_t.context,Rt.clearRect(0,0,_e,bt),Rt.drawImage($,0,0,Et,Ft,0,0,_e,bt),$=_t.canvas,Et=_e,Ft=bt,wt=wt==="prescale1"?"prescale2":"prescale1"}return{img:$,paintWidth:Et,paintHeight:Ft}}_createMaskCanvas($){const ht=this.ctx,{width:vt,height:At}=$,St=this.current.fillColor,Ct=this.current.patternFill,Et=getCurrentTransform(ht);let Ft,wt,_t,Rt;if(($.bitmap||$.data)&&$.count>1){const Gt=$.bitmap||$.data.buffer;wt=JSON.stringify(Ct?Et:[Et.slice(0,4),St]),Ft=this._cachedBitmapsMap.get(Gt),Ft||(Ft=new Map,this._cachedBitmapsMap.set(Gt,Ft));const en=Ft.get(wt);if(en&&!Ct){const dn=Math.round(Math.min(Et[0],Et[2])+Et[4]),Qt=Math.round(Math.min(Et[1],Et[3])+Et[5]);return{canvas:en,offsetX:dn,offsetY:Qt}}_t=en}_t||(Rt=this.cachedCanvases.getCanvas("maskCanvas",vt,At),putBinaryImageMask(Rt.context,$));let _e=Util.transform(Et,[1/vt,0,0,-1/At,0,0]);_e=Util.transform(_e,[1,0,0,1,0,-At]);const[bt,Pt,Xt,Kt]=Util.getAxialAlignedBoundingBox([0,0,vt,At],_e),Nt=Math.round(Xt-bt)||1,$t=Math.round(Kt-Pt)||1,Lt=this.cachedCanvases.getCanvas("fillCanvas",Nt,$t),jt=Lt.context,kt=bt,qt=Pt;jt.translate(-kt,-qt),jt.transform(..._e),_t||(_t=this._scaleImage(Rt.canvas,getCurrentTransformInverse(jt)),_t=_t.img,Ft&&Ct&&Ft.set(wt,_t)),jt.imageSmoothingEnabled=getImageSmoothingEnabled(getCurrentTransform(jt),$.interpolate),drawImageAtIntegerCoords(jt,_t,0,0,_t.width,_t.height,0,0,vt,At),jt.globalCompositeOperation="source-in";const Bt=Util.transform(getCurrentTransformInverse(jt),[1,0,0,1,-kt,-qt]);return jt.fillStyle=Ct?St.getPattern(ht,this,Bt,PathType.FILL):St,jt.fillRect(0,0,vt,At),Ft&&!Ct&&(this.cachedCanvases.delete("fillCanvas"),Ft.set(wt,Lt.canvas)),{canvas:Lt.canvas,offsetX:Math.round(kt),offsetY:Math.round(qt)}}setLineWidth($){$!==this.current.lineWidth&&(this._cachedScaleForStroking[0]=-1),this.current.lineWidth=$,this.ctx.lineWidth=$}setLineCap($){this.ctx.lineCap=LINE_CAP_STYLES[$]}setLineJoin($){this.ctx.lineJoin=LINE_JOIN_STYLES[$]}setMiterLimit($){this.ctx.miterLimit=$}setDash($,ht){const vt=this.ctx;vt.setLineDash!==void 0&&(vt.setLineDash($),vt.lineDashOffset=ht)}setRenderingIntent($){}setFlatness($){}setGState($){for(const[ht,vt]of $)switch(ht){case"LW":this.setLineWidth(vt);break;case"LC":this.setLineCap(vt);break;case"LJ":this.setLineJoin(vt);break;case"ML":this.setMiterLimit(vt);break;case"D":this.setDash(vt[0],vt[1]);break;case"RI":this.setRenderingIntent(vt);break;case"FL":this.setFlatness(vt);break;case"Font":this.setFont(vt[0],vt[1]);break;case"CA":this.current.strokeAlpha=vt;break;case"ca":this.current.fillAlpha=vt,this.ctx.globalAlpha=vt;break;case"BM":this.ctx.globalCompositeOperation=vt;break;case"SMask":this.current.activeSMask=vt?this.tempSMask:null,this.tempSMask=null,this.checkSMaskState();break;case"TR":this.ctx.filter=this.current.transferMaps=this.filterFactory.addFilter(vt);break}}get inSMaskMode(){return!!this.suspendedCtx}checkSMaskState(){const $=this.inSMaskMode;this.current.activeSMask&&!$?this.beginSMaskMode():!this.current.activeSMask&&$&&this.endSMaskMode()}beginSMaskMode(){if(this.inSMaskMode)throw new Error("beginSMaskMode called while already in smask mode");const $=this.ctx.canvas.width,ht=this.ctx.canvas.height,vt="smaskGroupAt"+this.groupLevel,At=this.cachedCanvases.getCanvas(vt,$,ht);this.suspendedCtx=this.ctx,this.ctx=At.context;const St=this.ctx;St.setTransform(...getCurrentTransform(this.suspendedCtx)),copyCtxState(this.suspendedCtx,St),mirrorContextOperations(St,this.suspendedCtx),this.setGState([["BM","source-over"],["ca",1],["CA",1]])}endSMaskMode(){if(!this.inSMaskMode)throw new Error("endSMaskMode called while not in smask mode");this.ctx._removeMirroring(),copyCtxState(this.ctx,this.suspendedCtx),this.ctx=this.suspendedCtx,this.suspendedCtx=null}compose($){if(!this.current.activeSMask)return;$?($[0]=Math.floor($[0]),$[1]=Math.floor($[1]),$[2]=Math.ceil($[2]),$[3]=Math.ceil($[3])):$=[0,0,this.ctx.canvas.width,this.ctx.canvas.height];const ht=this.current.activeSMask,vt=this.suspendedCtx;this.composeSMask(vt,ht,this.ctx,$),this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.restore()}composeSMask($,ht,vt,At){const St=At[0],Ct=At[1],Et=At[2]-St,Ft=At[3]-Ct;Et===0||Ft===0||(this.genericComposeSMask(ht.context,vt,Et,Ft,ht.subtype,ht.backdrop,ht.transferMap,St,Ct,ht.offsetX,ht.offsetY),$.save(),$.globalAlpha=1,$.globalCompositeOperation="source-over",$.setTransform(1,0,0,1,0,0),$.drawImage(vt.canvas,0,0),$.restore())}genericComposeSMask($,ht,vt,At,St,Ct,Et,Ft,wt,_t,Rt){let _e=$.canvas,bt=Ft-_t,Pt=wt-Rt;if(Ct){if(bt<0||Pt<0||bt+vt>_e.width||Pt+At>_e.height){const Kt=this.cachedCanvases.getCanvas("maskExtension",vt,At),Nt=Kt.context;Nt.drawImage(_e,-bt,-Pt),Ct.some($t=>$t!==0)&&(Nt.globalCompositeOperation="destination-atop",Nt.fillStyle=Util.makeHexColor(...Ct),Nt.fillRect(0,0,vt,At),Nt.globalCompositeOperation="source-over"),_e=Kt.canvas,bt=Pt=0}else if(Ct.some(Kt=>Kt!==0)){$.save(),$.globalAlpha=1,$.setTransform(1,0,0,1,0,0);const Kt=new Path2D;Kt.rect(bt,Pt,vt,At),$.clip(Kt),$.globalCompositeOperation="destination-atop",$.fillStyle=Util.makeHexColor(...Ct),$.fillRect(bt,Pt,vt,At),$.restore()}}ht.save(),ht.globalAlpha=1,ht.setTransform(1,0,0,1,0,0),St==="Alpha"&&Et?ht.filter=this.filterFactory.addAlphaFilter(Et):St==="Luminosity"&&(ht.filter=this.filterFactory.addLuminosityFilter(Et));const Xt=new Path2D;Xt.rect(Ft,wt,vt,At),ht.clip(Xt),ht.globalCompositeOperation="destination-in",ht.drawImage(_e,bt,Pt,vt,At,Ft,wt,vt,At),ht.restore()}save(){this.inSMaskMode?(copyCtxState(this.ctx,this.suspendedCtx),this.suspendedCtx.save()):this.ctx.save();const $=this.current;this.stateStack.push($),this.current=$.clone()}restore(){this.stateStack.length===0&&this.inSMaskMode&&this.endSMaskMode(),this.stateStack.length!==0&&(this.current=this.stateStack.pop(),this.inSMaskMode?(this.suspendedCtx.restore(),copyCtxState(this.suspendedCtx,this.ctx)):this.ctx.restore(),this.checkSMaskState(),this.pendingClip=null,this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null)}transform($,ht,vt,At,St,Ct){this.ctx.transform($,ht,vt,At,St,Ct),this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}constructPath($,ht,vt){const At=this.ctx,St=this.current;let Ct=St.x,Et=St.y,Ft,wt;const _t=getCurrentTransform(At),Rt=_t[0]===0&&_t[3]===0||_t[1]===0&&_t[2]===0,_e=Rt?vt.slice(0):null;for(let bt=0,Pt=0,Xt=$.length;bt<Xt;bt++)switch($[bt]|0){case OPS.rectangle:Ct=ht[Pt++],Et=ht[Pt++];const Kt=ht[Pt++],Nt=ht[Pt++],$t=Ct+Kt,Lt=Et+Nt;At.moveTo(Ct,Et),Kt===0||Nt===0?At.lineTo($t,Lt):(At.lineTo($t,Et),At.lineTo($t,Lt),At.lineTo(Ct,Lt)),Rt||St.updateRectMinMax(_t,[Ct,Et,$t,Lt]),At.closePath();break;case OPS.moveTo:Ct=ht[Pt++],Et=ht[Pt++],At.moveTo(Ct,Et),Rt||St.updatePathMinMax(_t,Ct,Et);break;case OPS.lineTo:Ct=ht[Pt++],Et=ht[Pt++],At.lineTo(Ct,Et),Rt||St.updatePathMinMax(_t,Ct,Et);break;case OPS.curveTo:Ft=Ct,wt=Et,Ct=ht[Pt+4],Et=ht[Pt+5],At.bezierCurveTo(ht[Pt],ht[Pt+1],ht[Pt+2],ht[Pt+3],Ct,Et),St.updateCurvePathMinMax(_t,Ft,wt,ht[Pt],ht[Pt+1],ht[Pt+2],ht[Pt+3],Ct,Et,_e),Pt+=6;break;case OPS.curveTo2:Ft=Ct,wt=Et,At.bezierCurveTo(Ct,Et,ht[Pt],ht[Pt+1],ht[Pt+2],ht[Pt+3]),St.updateCurvePathMinMax(_t,Ft,wt,Ct,Et,ht[Pt],ht[Pt+1],ht[Pt+2],ht[Pt+3],_e),Ct=ht[Pt+2],Et=ht[Pt+3],Pt+=4;break;case OPS.curveTo3:Ft=Ct,wt=Et,Ct=ht[Pt+2],Et=ht[Pt+3],At.bezierCurveTo(ht[Pt],ht[Pt+1],Ct,Et,Ct,Et),St.updateCurvePathMinMax(_t,Ft,wt,ht[Pt],ht[Pt+1],Ct,Et,Ct,Et,_e),Pt+=4;break;case OPS.closePath:At.closePath();break}Rt&&St.updateScalingPathMinMax(_t,_e),St.setCurrentPoint(Ct,Et)}closePath(){this.ctx.closePath()}stroke($=!0){const ht=this.ctx,vt=this.current.strokeColor;ht.globalAlpha=this.current.strokeAlpha,this.contentVisible&&(typeof vt=="object"&&(vt!=null&&vt.getPattern)?(ht.save(),ht.strokeStyle=vt.getPattern(ht,this,getCurrentTransformInverse(ht),PathType.STROKE),this.rescaleAndStroke(!1),ht.restore()):this.rescaleAndStroke(!0)),$&&this.consumePath(this.current.getClippedPathBoundingBox()),ht.globalAlpha=this.current.fillAlpha}closeStroke(){this.closePath(),this.stroke()}fill($=!0){const ht=this.ctx,vt=this.current.fillColor,At=this.current.patternFill;let St=!1;At&&(ht.save(),ht.fillStyle=vt.getPattern(ht,this,getCurrentTransformInverse(ht),PathType.FILL),St=!0);const Ct=this.current.getClippedPathBoundingBox();this.contentVisible&&Ct!==null&&(this.pendingEOFill?(ht.fill("evenodd"),this.pendingEOFill=!1):ht.fill()),St&&ht.restore(),$&&this.consumePath(Ct)}eoFill(){this.pendingEOFill=!0,this.fill()}fillStroke(){this.fill(!1),this.stroke(!1),this.consumePath()}eoFillStroke(){this.pendingEOFill=!0,this.fillStroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.pendingEOFill=!0,this.closePath(),this.fillStroke()}endPath(){this.consumePath()}clip(){this.pendingClip=NORMAL_CLIP}eoClip(){this.pendingClip=EO_CLIP}beginText(){this.current.textMatrix=IDENTITY_MATRIX,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}endText(){const $=this.pendingTextPaths,ht=this.ctx;if($===void 0){ht.beginPath();return}ht.save(),ht.beginPath();for(const vt of $)ht.setTransform(...vt.transform),ht.translate(vt.x,vt.y),vt.addToPath(ht,vt.fontSize);ht.restore(),ht.clip(),ht.beginPath(),delete this.pendingTextPaths}setCharSpacing($){this.current.charSpacing=$}setWordSpacing($){this.current.wordSpacing=$}setHScale($){this.current.textHScale=$/100}setLeading($){this.current.leading=-$}setFont($,ht){var _t;const vt=this.commonObjs.get($),At=this.current;if(!vt)throw new Error(`Can't find font for ${$}`);if(At.fontMatrix=vt.fontMatrix||FONT_IDENTITY_MATRIX,(At.fontMatrix[0]===0||At.fontMatrix[3]===0)&&warn("Invalid font matrix for font "+$),ht<0?(ht=-ht,At.fontDirection=-1):At.fontDirection=1,this.current.font=vt,this.current.fontSize=ht,vt.isType3Font)return;const St=vt.loadedName||"sans-serif",Ct=((_t=vt.systemFontInfo)==null?void 0:_t.css)||`"${St}", ${vt.fallbackName}`;let Et="normal";vt.black?Et="900":vt.bold&&(Et="bold");const Ft=vt.italic?"italic":"normal";let wt=ht;ht<MIN_FONT_SIZE?wt=MIN_FONT_SIZE:ht>MAX_FONT_SIZE&&(wt=MAX_FONT_SIZE),this.current.fontSizeScale=ht/wt,this.ctx.font=`${Ft} ${Et} ${wt}px ${Ct}`}setTextRenderingMode($){this.current.textRenderingMode=$}setTextRise($){this.current.textRise=$}moveText($,ht){this.current.x=this.current.lineX+=$,this.current.y=this.current.lineY+=ht}setLeadingMoveText($,ht){this.setLeading(-ht),this.moveText($,ht)}setTextMatrix($,ht,vt,At,St,Ct){this.current.textMatrix=[$,ht,vt,At,St,Ct],this.current.textMatrixScale=Math.hypot($,ht),this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}nextLine(){this.moveText(0,this.current.leading)}paintChar($,ht,vt,At){const St=this.ctx,Ct=this.current,Et=Ct.font,Ft=Ct.textRenderingMode,wt=Ct.fontSize/Ct.fontSizeScale,_t=Ft&TextRenderingMode.FILL_STROKE_MASK,Rt=!!(Ft&TextRenderingMode.ADD_TO_PATH_FLAG),_e=Ct.patternFill&&!Et.missingFile;let bt;(Et.disableFontFace||Rt||_e)&&(bt=Et.getPathGenerator(this.commonObjs,$)),Et.disableFontFace||_e?(St.save(),St.translate(ht,vt),St.beginPath(),bt(St,wt),At&&St.setTransform(...At),(_t===TextRenderingMode.FILL||_t===TextRenderingMode.FILL_STROKE)&&St.fill(),(_t===TextRenderingMode.STROKE||_t===TextRenderingMode.FILL_STROKE)&&St.stroke(),St.restore()):((_t===TextRenderingMode.FILL||_t===TextRenderingMode.FILL_STROKE)&&St.fillText($,ht,vt),(_t===TextRenderingMode.STROKE||_t===TextRenderingMode.FILL_STROKE)&&St.strokeText($,ht,vt)),Rt&&(this.pendingTextPaths||(this.pendingTextPaths=[])).push({transform:getCurrentTransform(St),x:ht,y:vt,fontSize:wt,addToPath:bt})}get isFontSubpixelAAEnabled(){const{context:$}=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10);$.scale(1.5,1),$.fillText("I",0,10);const ht=$.getImageData(0,0,10,10).data;let vt=!1;for(let At=3;At<ht.length;At+=4)if(ht[At]>0&&ht[At]<255){vt=!0;break}return shadow(this,"isFontSubpixelAAEnabled",vt)}showText($){const ht=this.current,vt=ht.font;if(vt.isType3Font)return this.showType3Text($);const At=ht.fontSize;if(At===0)return;const St=this.ctx,Ct=ht.fontSizeScale,Et=ht.charSpacing,Ft=ht.wordSpacing,wt=ht.fontDirection,_t=ht.textHScale*wt,Rt=$.length,_e=vt.vertical,bt=_e?1:-1,Pt=vt.defaultVMetrics,Xt=At*ht.fontMatrix[0],Kt=ht.textRenderingMode===TextRenderingMode.FILL&&!vt.disableFontFace&&!ht.patternFill;St.save(),St.transform(...ht.textMatrix),St.translate(ht.x,ht.y+ht.textRise),wt>0?St.scale(_t,-1):St.scale(_t,1);let Nt;if(ht.patternFill){St.save();const qt=ht.fillColor.getPattern(St,this,getCurrentTransformInverse(St),PathType.FILL);Nt=getCurrentTransform(St),St.restore(),St.fillStyle=qt}let $t=ht.lineWidth;const Lt=ht.textMatrixScale;if(Lt===0||$t===0){const qt=ht.textRenderingMode&TextRenderingMode.FILL_STROKE_MASK;(qt===TextRenderingMode.STROKE||qt===TextRenderingMode.FILL_STROKE)&&($t=this.getSinglePixelWidth())}else $t/=Lt;if(Ct!==1&&(St.scale(Ct,Ct),$t/=Ct),St.lineWidth=$t,vt.isInvalidPDFjsFont){const qt=[];let Bt=0;for(const Gt of $)qt.push(Gt.unicode),Bt+=Gt.width;St.fillText(qt.join(""),0,0),ht.x+=Bt*Xt*_t,St.restore(),this.compose();return}let jt=0,kt;for(kt=0;kt<Rt;++kt){const qt=$[kt];if(typeof qt=="number"){jt+=bt*qt*At/1e3;continue}let Bt=!1;const Gt=(qt.isSpace?Ft:0)+Et,en=qt.fontChar,dn=qt.accent;let Qt,gn,tn=qt.width;if(_e){const Wt=qt.vmetric||Pt,Yt=-(qt.vmetric?Wt[1]:tn*.5)*Xt,un=Wt[2]*Xt;tn=Wt?-Wt[0]:tn,Qt=Yt/Ct,gn=(jt+un)/Ct}else Qt=jt/Ct,gn=0;if(vt.remeasure&&tn>0){const Wt=St.measureText(en).width*1e3/At*Ct;if(tn<Wt&&this.isFontSubpixelAAEnabled){const Yt=tn/Wt;Bt=!0,St.save(),St.scale(Yt,1),Qt/=Yt}else tn!==Wt&&(Qt+=(tn-Wt)/2e3*At/Ct)}if(this.contentVisible&&(qt.isInFont||vt.missingFile)){if(Kt&&!dn)St.fillText(en,Qt,gn);else if(this.paintChar(en,Qt,gn,Nt),dn){const Wt=Qt+At*dn.offset.x/Ct,Yt=gn-At*dn.offset.y/Ct;this.paintChar(dn.fontChar,Wt,Yt,Nt)}}const bn=_e?tn*Xt-Gt*wt:tn*Xt+Gt*wt;jt+=bn,Bt&&St.restore()}_e?ht.y-=jt:ht.x+=jt*_t,St.restore(),this.compose()}showType3Text($){const ht=this.ctx,vt=this.current,At=vt.font,St=vt.fontSize,Ct=vt.fontDirection,Et=At.vertical?1:-1,Ft=vt.charSpacing,wt=vt.wordSpacing,_t=vt.textHScale*Ct,Rt=vt.fontMatrix||FONT_IDENTITY_MATRIX,_e=$.length,bt=vt.textRenderingMode===TextRenderingMode.INVISIBLE;let Pt,Xt,Kt,Nt;if(!(bt||St===0)){for(this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null,ht.save(),ht.transform(...vt.textMatrix),ht.translate(vt.x,vt.y),ht.scale(_t,Ct),Pt=0;Pt<_e;++Pt){if(Xt=$[Pt],typeof Xt=="number"){Nt=Et*Xt*St/1e3,this.ctx.translate(Nt,0),vt.x+=Nt*_t;continue}const $t=(Xt.isSpace?wt:0)+Ft,Lt=At.charProcOperatorList[Xt.operatorListId];if(!Lt){warn(`Type3 character "${Xt.operatorListId}" is not available.`);continue}this.contentVisible&&(this.processingType3=Xt,this.save(),ht.scale(St,St),ht.transform(...Rt),this.executeOperatorList(Lt),this.restore()),Kt=Util.applyTransform([Xt.width,0],Rt)[0]*St+$t,ht.translate(Kt,0),vt.x+=Kt*_t}ht.restore(),this.processingType3=null}}setCharWidth($,ht){}setCharWidthAndBounds($,ht,vt,At,St,Ct){this.ctx.rect(vt,At,St-vt,Ct-At),this.ctx.clip(),this.endPath()}getColorN_Pattern($){let ht;if($[0]==="TilingPattern"){const vt=$[1],At=this.baseTransform||getCurrentTransform(this.ctx),St={createCanvasGraphics:Ct=>new ty(Ct,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:this.optionalContentConfig,markedContentStack:this.markedContentStack})};ht=new TilingPattern($,vt,this.ctx,St,At)}else ht=this._getPattern($[1],$[2]);return ht}setStrokeColorN(){this.current.strokeColor=this.getColorN_Pattern(arguments)}setFillColorN(){this.current.fillColor=this.getColorN_Pattern(arguments),this.current.patternFill=!0}setStrokeRGBColor($,ht,vt){const At=Util.makeHexColor($,ht,vt);this.ctx.strokeStyle=At,this.current.strokeColor=At}setFillRGBColor($,ht,vt){const At=Util.makeHexColor($,ht,vt);this.ctx.fillStyle=At,this.current.fillColor=At,this.current.patternFill=!1}_getPattern($,ht=null){let vt;return this.cachedPatterns.has($)?vt=this.cachedPatterns.get($):(vt=getShadingPattern(this.getObject($)),this.cachedPatterns.set($,vt)),ht&&(vt.matrix=ht),vt}shadingFill($){if(!this.contentVisible)return;const ht=this.ctx;this.save();const vt=this._getPattern($);ht.fillStyle=vt.getPattern(ht,this,getCurrentTransformInverse(ht),PathType.SHADING);const At=getCurrentTransformInverse(ht);if(At){const{width:St,height:Ct}=ht.canvas,[Et,Ft,wt,_t]=Util.getAxialAlignedBoundingBox([0,0,St,Ct],At);this.ctx.fillRect(Et,Ft,wt-Et,_t-Ft)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);this.compose(this.current.getClippedPathBoundingBox()),this.restore()}beginInlineImage(){unreachable("Should not call beginInlineImage")}beginImageData(){unreachable("Should not call beginImageData")}paintFormXObjectBegin($,ht){if(this.contentVisible&&(this.save(),this.baseTransformStack.push(this.baseTransform),$&&this.transform(...$),this.baseTransform=getCurrentTransform(this.ctx),ht)){const vt=ht[2]-ht[0],At=ht[3]-ht[1];this.ctx.rect(ht[0],ht[1],vt,At),this.current.updateRectMinMax(getCurrentTransform(this.ctx),ht),this.clip(),this.endPath()}}paintFormXObjectEnd(){this.contentVisible&&(this.restore(),this.baseTransform=this.baseTransformStack.pop())}beginGroup($){if(!this.contentVisible)return;this.save(),this.inSMaskMode&&(this.endSMaskMode(),this.current.activeSMask=null);const ht=this.ctx;$.isolated||info("TODO: Support non-isolated groups."),$.knockout&&warn("Knockout groups not supported.");const vt=getCurrentTransform(ht);if($.matrix&&ht.transform(...$.matrix),!$.bbox)throw new Error("Bounding box is required.");let At=Util.getAxialAlignedBoundingBox($.bbox,getCurrentTransform(ht));const St=[0,0,ht.canvas.width,ht.canvas.height];At=Util.intersect(At,St)||[0,0,0,0];const Ct=Math.floor(At[0]),Et=Math.floor(At[1]),Ft=Math.max(Math.ceil(At[2])-Ct,1),wt=Math.max(Math.ceil(At[3])-Et,1);this.current.startNewPathAndClipBox([0,0,Ft,wt]);let _t="groupAt"+this.groupLevel;$.smask&&(_t+="_smask_"+this.smaskCounter++%2);const Rt=this.cachedCanvases.getCanvas(_t,Ft,wt),_e=Rt.context;_e.translate(-Ct,-Et),_e.transform(...vt),$.smask?this.smaskStack.push({canvas:Rt.canvas,context:_e,offsetX:Ct,offsetY:Et,subtype:$.smask.subtype,backdrop:$.smask.backdrop,transferMap:$.smask.transferMap||null,startTransformInverse:null}):(ht.setTransform(1,0,0,1,0,0),ht.translate(Ct,Et),ht.save()),copyCtxState(ht,_e),this.ctx=_e,this.setGState([["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(ht),this.groupLevel++}endGroup($){if(!this.contentVisible)return;this.groupLevel--;const ht=this.ctx,vt=this.groupStack.pop();if(this.ctx=vt,this.ctx.imageSmoothingEnabled=!1,$.smask)this.tempSMask=this.smaskStack.pop(),this.restore();else{this.ctx.restore();const At=getCurrentTransform(this.ctx);this.restore(),this.ctx.save(),this.ctx.setTransform(...At);const St=Util.getAxialAlignedBoundingBox([0,0,ht.canvas.width,ht.canvas.height],At);this.ctx.drawImage(ht.canvas,0,0),this.ctx.restore(),this.compose(St)}}beginAnnotation($,ht,vt,At,St){if(Mn(this,yu,O9).call(this),resetCtxToDefault(this.ctx),this.ctx.save(),this.save(),this.baseTransform&&this.ctx.setTransform(...this.baseTransform),ht){const Ct=ht[2]-ht[0],Et=ht[3]-ht[1];if(St&&this.annotationCanvasMap){vt=vt.slice(),vt[4]-=ht[0],vt[5]-=ht[1],ht=ht.slice(),ht[0]=ht[1]=0,ht[2]=Ct,ht[3]=Et;const[Ft,wt]=Util.singularValueDecompose2dScale(getCurrentTransform(this.ctx)),{viewportScale:_t}=this,Rt=Math.ceil(Ct*this.outputScaleX*_t),_e=Math.ceil(Et*this.outputScaleY*_t);this.annotationCanvas=this.canvasFactory.create(Rt,_e);const{canvas:bt,context:Pt}=this.annotationCanvas;this.annotationCanvasMap.set($,bt),this.annotationCanvas.savedCtx=this.ctx,this.ctx=Pt,this.ctx.save(),this.ctx.setTransform(Ft,0,0,-wt,0,Et*wt),resetCtxToDefault(this.ctx)}else resetCtxToDefault(this.ctx),this.ctx.rect(ht[0],ht[1],Ct,Et),this.ctx.clip(),this.endPath()}this.current=new CanvasExtraState(this.ctx.canvas.width,this.ctx.canvas.height),this.transform(...vt),this.transform(...At)}endAnnotation(){this.annotationCanvas&&(this.ctx.restore(),Mn(this,yu,D9).call(this),this.ctx=this.annotationCanvas.savedCtx,delete this.annotationCanvas.savedCtx,delete this.annotationCanvas)}paintImageMaskXObject($){if(!this.contentVisible)return;const ht=$.count;$=this.getObject($.data,$),$.count=ht;const vt=this.ctx,At=this.processingType3;if(At&&(At.compiled===void 0&&(At.compiled=compileType3Glyph($)),At.compiled)){At.compiled(vt);return}const St=this._createMaskCanvas($),Ct=St.canvas;vt.save(),vt.setTransform(1,0,0,1,0,0),vt.drawImage(Ct,St.offsetX,St.offsetY),vt.restore(),this.compose()}paintImageMaskXObjectRepeat($,ht,vt=0,At=0,St,Ct){if(!this.contentVisible)return;$=this.getObject($.data,$);const Et=this.ctx;Et.save();const Ft=getCurrentTransform(Et);Et.transform(ht,vt,At,St,0,0);const wt=this._createMaskCanvas($);Et.setTransform(1,0,0,1,wt.offsetX-Ft[4],wt.offsetY-Ft[5]);for(let _t=0,Rt=Ct.length;_t<Rt;_t+=2){const _e=Util.transform(Ft,[ht,vt,At,St,Ct[_t],Ct[_t+1]]),[bt,Pt]=Util.applyTransform([0,0],_e);Et.drawImage(wt.canvas,bt,Pt)}Et.restore(),this.compose()}paintImageMaskXObjectGroup($){if(!this.contentVisible)return;const ht=this.ctx,vt=this.current.fillColor,At=this.current.patternFill;for(const St of $){const{data:Ct,width:Et,height:Ft,transform:wt}=St,_t=this.cachedCanvases.getCanvas("maskCanvas",Et,Ft),Rt=_t.context;Rt.save();const _e=this.getObject(Ct,St);putBinaryImageMask(Rt,_e),Rt.globalCompositeOperation="source-in",Rt.fillStyle=At?vt.getPattern(Rt,this,getCurrentTransformInverse(ht),PathType.FILL):vt,Rt.fillRect(0,0,Et,Ft),Rt.restore(),ht.save(),ht.transform(...wt),ht.scale(1,-1),drawImageAtIntegerCoords(ht,_t.canvas,0,0,Et,Ft,0,-1,1,1),ht.restore()}this.compose()}paintImageXObject($){if(!this.contentVisible)return;const ht=this.getObject($);if(!ht){warn("Dependent image isn't ready yet");return}this.paintInlineImageXObject(ht)}paintImageXObjectRepeat($,ht,vt,At){if(!this.contentVisible)return;const St=this.getObject($);if(!St){warn("Dependent image isn't ready yet");return}const Ct=St.width,Et=St.height,Ft=[];for(let wt=0,_t=At.length;wt<_t;wt+=2)Ft.push({transform:[ht,0,0,vt,At[wt],At[wt+1]],x:0,y:0,w:Ct,h:Et});this.paintInlineImageXObjectGroup(St,Ft)}applyTransferMapsToCanvas($){return this.current.transferMaps!=="none"&&($.filter=this.current.transferMaps,$.drawImage($.canvas,0,0),$.filter="none"),$.canvas}applyTransferMapsToBitmap($){if(this.current.transferMaps==="none")return $.bitmap;const{bitmap:ht,width:vt,height:At}=$,St=this.cachedCanvases.getCanvas("inlineImage",vt,At),Ct=St.context;return Ct.filter=this.current.transferMaps,Ct.drawImage(ht,0,0),Ct.filter="none",St.canvas}paintInlineImageXObject($){if(!this.contentVisible)return;const ht=$.width,vt=$.height,At=this.ctx;if(this.save(),!isNodeJS){const{filter:Et}=At;Et!=="none"&&Et!==""&&(At.filter="none")}At.scale(1/ht,-1/vt);let St;if($.bitmap)St=this.applyTransferMapsToBitmap($);else if(typeof HTMLElement=="function"&&$ instanceof HTMLElement||!$.data)St=$;else{const Ft=this.cachedCanvases.getCanvas("inlineImage",ht,vt).context;putBinaryImageData(Ft,$),St=this.applyTransferMapsToCanvas(Ft)}const Ct=this._scaleImage(St,getCurrentTransformInverse(At));At.imageSmoothingEnabled=getImageSmoothingEnabled(getCurrentTransform(At),$.interpolate),drawImageAtIntegerCoords(At,Ct.img,0,0,Ct.paintWidth,Ct.paintHeight,0,-vt,ht,vt),this.compose(),this.restore()}paintInlineImageXObjectGroup($,ht){if(!this.contentVisible)return;const vt=this.ctx;let At;if($.bitmap)At=$.bitmap;else{const St=$.width,Ct=$.height,Ft=this.cachedCanvases.getCanvas("inlineImage",St,Ct).context;putBinaryImageData(Ft,$),At=this.applyTransferMapsToCanvas(Ft)}for(const St of ht)vt.save(),vt.transform(...St.transform),vt.scale(1,-1),drawImageAtIntegerCoords(vt,At,St.x,St.y,St.w,St.h,0,-1,1,1),vt.restore();this.compose()}paintSolidColorImageMask(){this.contentVisible&&(this.ctx.fillRect(0,0,1,1),this.compose())}markPoint($){}markPointProps($,ht){}beginMarkedContent($){this.markedContentStack.push({visible:!0})}beginMarkedContentProps($,ht){$==="OC"?this.markedContentStack.push({visible:this.optionalContentConfig.isVisible(ht)}):this.markedContentStack.push({visible:!0}),this.contentVisible=this.isContentVisible()}endMarkedContent(){this.markedContentStack.pop(),this.contentVisible=this.isContentVisible()}beginCompat(){}endCompat(){}consumePath($){const ht=this.current.isEmptyClip();this.pendingClip&&this.current.updateClipFromPath(),this.pendingClip||this.compose($);const vt=this.ctx;this.pendingClip&&(ht||(this.pendingClip===EO_CLIP?vt.clip("evenodd"):vt.clip()),this.pendingClip=null),this.current.startNewPathAndClipBox(this.current.clipBox),vt.beginPath()}getSinglePixelWidth(){if(!this._cachedGetSinglePixelWidth){const $=getCurrentTransform(this.ctx);if($[1]===0&&$[2]===0)this._cachedGetSinglePixelWidth=1/Math.min(Math.abs($[0]),Math.abs($[3]));else{const ht=Math.abs($[0]*$[3]-$[2]*$[1]),vt=Math.hypot($[0],$[2]),At=Math.hypot($[1],$[3]);this._cachedGetSinglePixelWidth=Math.max(vt,At)/ht}}return this._cachedGetSinglePixelWidth}getScaleForStroking(){if(this._cachedScaleForStroking[0]===-1){const{lineWidth:$}=this.current,{a:ht,b:vt,c:At,d:St}=this.ctx.getTransform();let Ct,Et;if(vt===0&&At===0){const Ft=Math.abs(ht),wt=Math.abs(St);if(Ft===wt)if($===0)Ct=Et=1/Ft;else{const _t=Ft*$;Ct=Et=_t<1?1/_t:1}else if($===0)Ct=1/Ft,Et=1/wt;else{const _t=Ft*$,Rt=wt*$;Ct=_t<1?1/_t:1,Et=Rt<1?1/Rt:1}}else{const Ft=Math.abs(ht*St-vt*At),wt=Math.hypot(ht,vt),_t=Math.hypot(At,St);if($===0)Ct=_t/Ft,Et=wt/Ft;else{const Rt=$*Ft;Ct=_t>Rt?_t/Rt:1,Et=wt>Rt?wt/Rt:1}}this._cachedScaleForStroking[0]=Ct,this._cachedScaleForStroking[1]=Et}return this._cachedScaleForStroking}rescaleAndStroke($){const{ctx:ht}=this,{lineWidth:vt}=this.current,[At,St]=this.getScaleForStroking();if(ht.lineWidth=vt||1,At===1&&St===1){ht.stroke();return}const Ct=ht.getLineDash();if($&&ht.save(),ht.scale(At,St),Ct.length>0){const Et=Math.max(At,St);ht.setLineDash(Ct.map(Ft=>Ft/Et)),ht.lineDashOffset/=Et}ht.stroke(),$&&ht.restore()}isContentVisible(){for(let $=this.markedContentStack.length-1;$>=0;$--)if(!this.markedContentStack[$].visible)return!1;return!0}};yu=new WeakSet,O9=function(){for(;this.stateStack.length||this.inSMaskMode;)this.restore();this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null)},D9=function(){if(this.pageColors){const $=this.filterFactory.addHCMFilter(this.pageColors.foreground,this.pageColors.background);if($!=="none"){const ht=this.ctx.filter;this.ctx.filter=$,this.ctx.drawImage(this.ctx.canvas,0,0),this.ctx.filter=ht}}};let CanvasGraphics=ty;for(const xt in OPS)CanvasGraphics.prototype[xt]!==void 0&&(CanvasGraphics.prototype[OPS[xt]]=CanvasGraphics.prototype[xt]);var Vm,Gm;class GlobalWorkerOptions{static get workerPort(){return Mt(this,Vm)}static set workerPort($){if(!(typeof Worker<"u"&&$ instanceof Worker)&&$!==null)throw new Error("Invalid `workerPort` type.");$n(this,Vm,$)}static get workerSrc(){return Mt(this,Gm)}static set workerSrc($){if(typeof $!="string")throw new Error("Invalid `workerSrc` type.");$n(this,Gm,$)}}Vm=new WeakMap,Gm=new WeakMap,Nn(GlobalWorkerOptions,Vm,null),Nn(GlobalWorkerOptions,Gm,"");const CallbackKind={UNKNOWN:0,DATA:1,ERROR:2},StreamKind={UNKNOWN:0,CANCEL:1,CANCEL_COMPLETE:2,CLOSE:3,ENQUEUE:4,ERROR:5,PULL:6,PULL_COMPLETE:7,START_COMPLETE:8};function wrapReason(xt){switch(xt instanceof Error||typeof xt=="object"&&xt!==null||unreachable('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),xt.name){case"AbortException":return new AbortException(xt.message);case"MissingPDFException":return new MissingPDFException(xt.message);case"PasswordException":return new PasswordException(xt.message,xt.code);case"UnexpectedResponseException":return new UnexpectedResponseException(xt.message,xt.status);case"UnknownErrorException":return new UnknownErrorException(xt.message,xt.details);default:return new UnknownErrorException(xt.message,xt.toString())}}var l0,$y,jy,r2;class MessageHandler{constructor($,ht,vt){Nn(this,l0);this.sourceName=$,this.targetName=ht,this.comObj=vt,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),this._onComObjOnMessage=At=>{const St=At.data;if(St.targetName!==this.sourceName)return;if(St.stream){Mn(this,l0,jy).call(this,St);return}if(St.callback){const Et=St.callbackId,Ft=this.callbackCapabilities[Et];if(!Ft)throw new Error(`Cannot resolve callback ${Et}`);if(delete this.callbackCapabilities[Et],St.callback===CallbackKind.DATA)Ft.resolve(St.data);else if(St.callback===CallbackKind.ERROR)Ft.reject(wrapReason(St.reason));else throw new Error("Unexpected callback case");return}const Ct=this.actionHandler[St.action];if(!Ct)throw new Error(`Unknown action from worker: ${St.action}`);if(St.callbackId){const Et=this.sourceName,Ft=St.sourceName;new Promise(function(wt){wt(Ct(St.data))}).then(function(wt){vt.postMessage({sourceName:Et,targetName:Ft,callback:CallbackKind.DATA,callbackId:St.callbackId,data:wt})},function(wt){vt.postMessage({sourceName:Et,targetName:Ft,callback:CallbackKind.ERROR,callbackId:St.callbackId,reason:wrapReason(wt)})});return}if(St.streamId){Mn(this,l0,$y).call(this,St);return}Ct(St.data)},vt.addEventListener("message",this._onComObjOnMessage)}on($,ht){const vt=this.actionHandler;if(vt[$])throw new Error(`There is already an actionName called "${$}"`);vt[$]=ht}send($,ht,vt){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:$,data:ht},vt)}sendWithPromise($,ht,vt){const At=this.callbackId++,St=Promise.withResolvers();this.callbackCapabilities[At]=St;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:$,callbackId:At,data:ht},vt)}catch(Ct){St.reject(Ct)}return St.promise}sendWithStream($,ht,vt,At){const St=this.streamId++,Ct=this.sourceName,Et=this.targetName,Ft=this.comObj;return new ReadableStream({start:wt=>{const _t=Promise.withResolvers();return this.streamControllers[St]={controller:wt,startCall:_t,pullCall:null,cancelCall:null,isClosed:!1},Ft.postMessage({sourceName:Ct,targetName:Et,action:$,streamId:St,data:ht,desiredSize:wt.desiredSize},At),_t.promise},pull:wt=>{const _t=Promise.withResolvers();return this.streamControllers[St].pullCall=_t,Ft.postMessage({sourceName:Ct,targetName:Et,stream:StreamKind.PULL,streamId:St,desiredSize:wt.desiredSize}),_t.promise},cancel:wt=>{assert(wt instanceof Error,"cancel must have a valid reason");const _t=Promise.withResolvers();return this.streamControllers[St].cancelCall=_t,this.streamControllers[St].isClosed=!0,Ft.postMessage({sourceName:Ct,targetName:Et,stream:StreamKind.CANCEL,streamId:St,reason:wrapReason(wt)}),_t.promise}},vt)}destroy(){this.comObj.removeEventListener("message",this._onComObjOnMessage)}}l0=new WeakSet,$y=function($){const ht=$.streamId,vt=this.sourceName,At=$.sourceName,St=this.comObj,Ct=this,Et=this.actionHandler[$.action],Ft={enqueue(wt,_t=1,Rt){if(this.isCancelled)return;const _e=this.desiredSize;this.desiredSize-=_t,_e>0&&this.desiredSize<=0&&(this.sinkCapability=Promise.withResolvers(),this.ready=this.sinkCapability.promise),St.postMessage({sourceName:vt,targetName:At,stream:StreamKind.ENQUEUE,streamId:ht,chunk:wt},Rt)},close(){this.isCancelled||(this.isCancelled=!0,St.postMessage({sourceName:vt,targetName:At,stream:StreamKind.CLOSE,streamId:ht}),delete Ct.streamSinks[ht])},error(wt){assert(wt instanceof Error,"error must have a valid reason"),!this.isCancelled&&(this.isCancelled=!0,St.postMessage({sourceName:vt,targetName:At,stream:StreamKind.ERROR,streamId:ht,reason:wrapReason(wt)}))},sinkCapability:Promise.withResolvers(),onPull:null,onCancel:null,isCancelled:!1,desiredSize:$.desiredSize,ready:null};Ft.sinkCapability.resolve(),Ft.ready=Ft.sinkCapability.promise,this.streamSinks[ht]=Ft,new Promise(function(wt){wt(Et($.data,Ft))}).then(function(){St.postMessage({sourceName:vt,targetName:At,stream:StreamKind.START_COMPLETE,streamId:ht,success:!0})},function(wt){St.postMessage({sourceName:vt,targetName:At,stream:StreamKind.START_COMPLETE,streamId:ht,reason:wrapReason(wt)})})},jy=function($){const ht=$.streamId,vt=this.sourceName,At=$.sourceName,St=this.comObj,Ct=this.streamControllers[ht],Et=this.streamSinks[ht];switch($.stream){case StreamKind.START_COMPLETE:$.success?Ct.startCall.resolve():Ct.startCall.reject(wrapReason($.reason));break;case StreamKind.PULL_COMPLETE:$.success?Ct.pullCall.resolve():Ct.pullCall.reject(wrapReason($.reason));break;case StreamKind.PULL:if(!Et){St.postMessage({sourceName:vt,targetName:At,stream:StreamKind.PULL_COMPLETE,streamId:ht,success:!0});break}Et.desiredSize<=0&&$.desiredSize>0&&Et.sinkCapability.resolve(),Et.desiredSize=$.desiredSize,new Promise(function(Ft){var wt;Ft((wt=Et.onPull)==null?void 0:wt.call(Et))}).then(function(){St.postMessage({sourceName:vt,targetName:At,stream:StreamKind.PULL_COMPLETE,streamId:ht,success:!0})},function(Ft){St.postMessage({sourceName:vt,targetName:At,stream:StreamKind.PULL_COMPLETE,streamId:ht,reason:wrapReason(Ft)})});break;case StreamKind.ENQUEUE:if(assert(Ct,"enqueue should have stream controller"),Ct.isClosed)break;Ct.controller.enqueue($.chunk);break;case StreamKind.CLOSE:if(assert(Ct,"close should have stream controller"),Ct.isClosed)break;Ct.isClosed=!0,Ct.controller.close(),Mn(this,l0,r2).call(this,Ct,ht);break;case StreamKind.ERROR:assert(Ct,"error should have stream controller"),Ct.controller.error(wrapReason($.reason)),Mn(this,l0,r2).call(this,Ct,ht);break;case StreamKind.CANCEL_COMPLETE:$.success?Ct.cancelCall.resolve():Ct.cancelCall.reject(wrapReason($.reason)),Mn(this,l0,r2).call(this,Ct,ht);break;case StreamKind.CANCEL:if(!Et)break;new Promise(function(Ft){var wt;Ft((wt=Et.onCancel)==null?void 0:wt.call(Et,wrapReason($.reason)))}).then(function(){St.postMessage({sourceName:vt,targetName:At,stream:StreamKind.CANCEL_COMPLETE,streamId:ht,success:!0})},function(Ft){St.postMessage({sourceName:vt,targetName:At,stream:StreamKind.CANCEL_COMPLETE,streamId:ht,reason:wrapReason(Ft)})}),Et.sinkCapability.reject(wrapReason($.reason)),Et.isCancelled=!0,delete this.streamSinks[ht];break;default:throw new Error("Unexpected stream case")}},r2=async function($,ht){var vt,At,St;await Promise.allSettled([(vt=$.startCall)==null?void 0:vt.promise,(At=$.pullCall)==null?void 0:At.promise,(St=$.cancelCall)==null?void 0:St.promise]),delete this.streamControllers[ht]};var qu,qm;class Metadata{constructor({parsedData:$,rawData:ht}){Nn(this,qu);Nn(this,qm);$n(this,qu,$),$n(this,qm,ht)}getRaw(){return Mt(this,qm)}get($){return Mt(this,qu).get($)??null}getAll(){return objectFromMap(Mt(this,qu))}has($){return Mt(this,qu).has($)}}qu=new WeakMap,qm=new WeakMap;const INTERNAL=Symbol("INTERNAL");var Km,Ym,Zm,lp;class OptionalContentGroup{constructor($,{name:ht,intent:vt,usage:At}){Nn(this,Km,!1);Nn(this,Ym,!1);Nn(this,Zm,!1);Nn(this,lp,!0);$n(this,Km,!!($&RenderingIntentFlag.DISPLAY)),$n(this,Ym,!!($&RenderingIntentFlag.PRINT)),this.name=ht,this.intent=vt,this.usage=At}get visible(){if(Mt(this,Zm))return Mt(this,lp);if(!Mt(this,lp))return!1;const{print:$,view:ht}=this.usage;return Mt(this,Km)?(ht==null?void 0:ht.viewState)!=="OFF":Mt(this,Ym)?($==null?void 0:$.printState)!=="OFF":!0}_setVisible($,ht,vt=!1){$!==INTERNAL&&unreachable("Internal method `_setVisible` called."),$n(this,Zm,vt),$n(this,lp,ht)}}Km=new WeakMap,Ym=new WeakMap,Zm=new WeakMap,lp=new WeakMap;var nu,ga,cp,up,Jm,L9;class OptionalContentConfig{constructor($,ht=RenderingIntentFlag.DISPLAY){Nn(this,Jm);Nn(this,nu,null);Nn(this,ga,new Map);Nn(this,cp,null);Nn(this,up,null);if(this.renderingIntent=ht,this.name=null,this.creator=null,$!==null){this.name=$.name,this.creator=$.creator,$n(this,up,$.order);for(const vt of $.groups)Mt(this,ga).set(vt.id,new OptionalContentGroup(ht,vt));if($.baseState==="OFF")for(const vt of Mt(this,ga).values())vt._setVisible(INTERNAL,!1);for(const vt of $.on)Mt(this,ga).get(vt)._setVisible(INTERNAL,!0);for(const vt of $.off)Mt(this,ga).get(vt)._setVisible(INTERNAL,!1);$n(this,cp,this.getHash())}}isVisible($){if(Mt(this,ga).size===0)return!0;if(!$)return info("Optional content group not defined."),!0;if($.type==="OCG")return Mt(this,ga).has($.id)?Mt(this,ga).get($.id).visible:(warn(`Optional content group not found: ${$.id}`),!0);if($.type==="OCMD"){if($.expression)return Mn(this,Jm,L9).call(this,$.expression);if(!$.policy||$.policy==="AnyOn"){for(const ht of $.ids){if(!Mt(this,ga).has(ht))return warn(`Optional content group not found: ${ht}`),!0;if(Mt(this,ga).get(ht).visible)return!0}return!1}else if($.policy==="AllOn"){for(const ht of $.ids){if(!Mt(this,ga).has(ht))return warn(`Optional content group not found: ${ht}`),!0;if(!Mt(this,ga).get(ht).visible)return!1}return!0}else if($.policy==="AnyOff"){for(const ht of $.ids){if(!Mt(this,ga).has(ht))return warn(`Optional content group not found: ${ht}`),!0;if(!Mt(this,ga).get(ht).visible)return!0}return!1}else if($.policy==="AllOff"){for(const ht of $.ids){if(!Mt(this,ga).has(ht))return warn(`Optional content group not found: ${ht}`),!0;if(Mt(this,ga).get(ht).visible)return!1}return!0}return warn(`Unknown optional content policy ${$.policy}.`),!0}return warn(`Unknown group type ${$.type}.`),!0}setVisibility($,ht=!0){const vt=Mt(this,ga).get($);if(!vt){warn(`Optional content group not found: ${$}`);return}vt._setVisible(INTERNAL,!!ht,!0),$n(this,nu,null)}setOCGState({state:$,preserveRB:ht}){let vt;for(const At of $){switch(At){case"ON":case"OFF":case"Toggle":vt=At;continue}const St=Mt(this,ga).get(At);if(St)switch(vt){case"ON":St._setVisible(INTERNAL,!0);break;case"OFF":St._setVisible(INTERNAL,!1);break;case"Toggle":St._setVisible(INTERNAL,!St.visible);break}}$n(this,nu,null)}get hasInitialVisibility(){return Mt(this,cp)===null||this.getHash()===Mt(this,cp)}getOrder(){return Mt(this,ga).size?Mt(this,up)?Mt(this,up).slice():[...Mt(this,ga).keys()]:null}getGroups(){return Mt(this,ga).size>0?objectFromMap(Mt(this,ga)):null}getGroup($){return Mt(this,ga).get($)||null}getHash(){if(Mt(this,nu)!==null)return Mt(this,nu);const $=new MurmurHash3_64;for(const[ht,vt]of Mt(this,ga))$.update(`${ht}:${vt.visible}`);return $n(this,nu,$.hexdigest())}}nu=new WeakMap,ga=new WeakMap,cp=new WeakMap,up=new WeakMap,Jm=new WeakSet,L9=function($){const ht=$.length;if(ht<2)return!0;const vt=$[0];for(let At=1;At<ht;At++){const St=$[At];let Ct;if(Array.isArray(St))Ct=Mn(this,Jm,L9).call(this,St);else if(Mt(this,ga).has(St))Ct=Mt(this,ga).get(St).visible;else return warn(`Optional content group not found: ${St}`),!0;switch(vt){case"And":if(!Ct)return!1;break;case"Or":if(Ct)return!0;break;case"Not":return!Ct;default:return!0}}return vt==="And"};class PDFDataTransportStream{constructor($,{disableRange:ht=!1,disableStream:vt=!1}){assert($,'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.');const{length:At,initialData:St,progressiveDone:Ct,contentDispositionFilename:Et}=$;if(this._queuedChunks=[],this._progressiveDone=Ct,this._contentDispositionFilename=Et,(St==null?void 0:St.length)>0){const Ft=St instanceof Uint8Array&&St.byteLength===St.buffer.byteLength?St.buffer:new Uint8Array(St).buffer;this._queuedChunks.push(Ft)}this._pdfDataRangeTransport=$,this._isStreamingSupported=!vt,this._isRangeSupported=!ht,this._contentLength=At,this._fullRequestReader=null,this._rangeReaders=[],$.addRangeListener((Ft,wt)=>{this._onReceiveData({begin:Ft,chunk:wt})}),$.addProgressListener((Ft,wt)=>{this._onProgress({loaded:Ft,total:wt})}),$.addProgressiveReadListener(Ft=>{this._onReceiveData({chunk:Ft})}),$.addProgressiveDoneListener(()=>{this._onProgressiveDone()}),$.transportReady()}_onReceiveData({begin:$,chunk:ht}){const vt=ht instanceof Uint8Array&&ht.byteLength===ht.buffer.byteLength?ht.buffer:new Uint8Array(ht).buffer;if($===void 0)this._fullRequestReader?this._fullRequestReader._enqueue(vt):this._queuedChunks.push(vt);else{const At=this._rangeReaders.some(function(St){return St._begin!==$?!1:(St._enqueue(vt),!0)});assert(At,"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.")}}get _progressiveDataLength(){var $;return(($=this._fullRequestReader)==null?void 0:$._loaded)??0}_onProgress($){var ht,vt,At,St;$.total===void 0?(vt=(ht=this._rangeReaders[0])==null?void 0:ht.onProgress)==null||vt.call(ht,{loaded:$.loaded}):(St=(At=this._fullRequestReader)==null?void 0:At.onProgress)==null||St.call(At,{loaded:$.loaded,total:$.total})}_onProgressiveDone(){var $;($=this._fullRequestReader)==null||$.progressiveDone(),this._progressiveDone=!0}_removeRangeReader($){const ht=this._rangeReaders.indexOf($);ht>=0&&this._rangeReaders.splice(ht,1)}getFullReader(){assert(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");const $=this._queuedChunks;return this._queuedChunks=null,new PDFDataTransportStreamReader(this,$,this._progressiveDone,this._contentDispositionFilename)}getRangeReader($,ht){if(ht<=this._progressiveDataLength)return null;const vt=new PDFDataTransportStreamRangeReader(this,$,ht);return this._pdfDataRangeTransport.requestDataRange($,ht),this._rangeReaders.push(vt),vt}cancelAllRequests($){var ht;(ht=this._fullRequestReader)==null||ht.cancel($);for(const vt of this._rangeReaders.slice(0))vt.cancel($);this._pdfDataRangeTransport.abort()}}class PDFDataTransportStreamReader{constructor($,ht,vt=!1,At=null){this._stream=$,this._done=vt||!1,this._filename=isPdfFile(At)?At:null,this._queuedChunks=ht||[],this._loaded=0;for(const St of this._queuedChunks)this._loaded+=St.byteLength;this._requests=[],this._headersReady=Promise.resolve(),$._fullRequestReader=this,this.onProgress=null}_enqueue($){this._done||(this._requests.length>0?this._requests.shift().resolve({value:$,done:!1}):this._queuedChunks.push($),this._loaded+=$.byteLength)}get headersReady(){return this._headersReady}get filename(){return this._filename}get isRangeSupported(){return this._stream._isRangeSupported}get isStreamingSupported(){return this._stream._isStreamingSupported}get contentLength(){return this._stream._contentLength}async read(){if(this._queuedChunks.length>0)return{value:this._queuedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const $=Promise.withResolvers();return this._requests.push($),$.promise}cancel($){this._done=!0;for(const ht of this._requests)ht.resolve({value:void 0,done:!0});this._requests.length=0}progressiveDone(){this._done||(this._done=!0)}}class PDFDataTransportStreamRangeReader{constructor($,ht,vt){this._stream=$,this._begin=ht,this._end=vt,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}_enqueue($){if(!this._done){if(this._requests.length===0)this._queuedChunk=$;else{this._requests.shift().resolve({value:$,done:!1});for(const vt of this._requests)vt.resolve({value:void 0,done:!0});this._requests.length=0}this._done=!0,this._stream._removeRangeReader(this)}}get isStreamingSupported(){return!1}async read(){if(this._queuedChunk){const ht=this._queuedChunk;return this._queuedChunk=null,{value:ht,done:!1}}if(this._done)return{value:void 0,done:!0};const $=Promise.withResolvers();return this._requests.push($),$.promise}cancel($){this._done=!0;for(const ht of this._requests)ht.resolve({value:void 0,done:!0});this._requests.length=0,this._stream._removeRangeReader(this)}}function getFilenameFromContentDispositionHeader(xt){let $=!0,ht=vt("filename\\*","i").exec(xt);if(ht){ht=ht[1];let _t=Et(ht);return _t=unescape(_t),_t=Ft(_t),_t=wt(_t),St(_t)}if(ht=Ct(xt),ht){const _t=wt(ht);return St(_t)}if(ht=vt("filename","i").exec(xt),ht){ht=ht[1];let _t=Et(ht);return _t=wt(_t),St(_t)}function vt(_t,Rt){return new RegExp("(?:^|;)\\s*"+_t+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',Rt)}function At(_t,Rt){if(_t){if(!/^[\x00-\xFF]+$/.test(Rt))return Rt;try{const _e=new TextDecoder(_t,{fatal:!0}),bt=stringToBytes(Rt);Rt=_e.decode(bt),$=!1}catch{}}return Rt}function St(_t){return $&&/[\x80-\xff]/.test(_t)&&(_t=At("utf-8",_t),$&&(_t=At("iso-8859-1",_t))),_t}function Ct(_t){const Rt=[];let _e;const bt=vt("filename\\*((?!0\\d)\\d+)(\\*?)","ig");for(;(_e=bt.exec(_t))!==null;){let[,Xt,Kt,Nt]=_e;if(Xt=parseInt(Xt,10),Xt in Rt){if(Xt===0)break;continue}Rt[Xt]=[Kt,Nt]}const Pt=[];for(let Xt=0;Xt<Rt.length&&Xt in Rt;++Xt){let[Kt,Nt]=Rt[Xt];Nt=Et(Nt),Kt&&(Nt=unescape(Nt),Xt===0&&(Nt=Ft(Nt))),Pt.push(Nt)}return Pt.join("")}function Et(_t){if(_t.startsWith('"')){const Rt=_t.slice(1).split('\\"');for(let _e=0;_e<Rt.length;++_e){const bt=Rt[_e].indexOf('"');bt!==-1&&(Rt[_e]=Rt[_e].slice(0,bt),Rt.length=_e+1),Rt[_e]=Rt[_e].replaceAll(/\\(.)/g,"$1")}_t=Rt.join('"')}return _t}function Ft(_t){const Rt=_t.indexOf("'");if(Rt===-1)return _t;const _e=_t.slice(0,Rt),Pt=_t.slice(Rt+1).replace(/^[^']*'/,"");return At(_e,Pt)}function wt(_t){return!_t.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(_t)?_t:_t.replaceAll(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,function(Rt,_e,bt,Pt){if(bt==="q"||bt==="Q")return Pt=Pt.replaceAll("_"," "),Pt=Pt.replaceAll(/=([0-9a-fA-F]{2})/g,function(Xt,Kt){return String.fromCharCode(parseInt(Kt,16))}),At(_e,Pt);try{Pt=atob(Pt)}catch{}return At(_e,Pt)})}return""}function validateRangeRequestCapabilities({getResponseHeader:xt,isHttp:$,rangeChunkSize:ht,disableRange:vt}){const At={allowRangeRequests:!1,suggestedLength:void 0},St=parseInt(xt("Content-Length"),10);return!Number.isInteger(St)||(At.suggestedLength=St,St<=2*ht)||vt||!$||xt("Accept-Ranges")!=="bytes"||(xt("Content-Encoding")||"identity")!=="identity"||(At.allowRangeRequests=!0),At}function extractFilenameFromHeader(xt){const $=xt("Content-Disposition");if($){let ht=getFilenameFromContentDispositionHeader($);if(ht.includes("%"))try{ht=decodeURIComponent(ht)}catch{}if(isPdfFile(ht))return ht}return null}function createResponseStatusError(xt,$){return xt===404||xt===0&&$.startsWith("file:")?new MissingPDFException('Missing PDF "'+$+'".'):new UnexpectedResponseException(`Unexpected server response (${xt}) while retrieving PDF "${$}".`,xt)}function validateResponseStatus(xt){return xt===200||xt===206}function createFetchOptions(xt,$,ht){return{method:"GET",headers:xt,signal:ht.signal,mode:"cors",credentials:$?"include":"same-origin",redirect:"follow"}}function createHeaders(xt){const $=new Headers;for(const ht in xt){const vt=xt[ht];vt!==void 0&&$.append(ht,vt)}return $}function getArrayBuffer(xt){return xt instanceof Uint8Array?xt.buffer:xt instanceof ArrayBuffer?xt:(warn(`getArrayBuffer - unexpected data format: ${xt}`),new Uint8Array(xt).buffer)}class PDFFetchStream{constructor($){this.source=$,this.isHttp=/^https?:/i.test($.url),this.httpHeaders=this.isHttp&&$.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var $;return(($=this._fullRequestReader)==null?void 0:$._loaded)??0}getFullReader(){return assert(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once."),this._fullRequestReader=new PDFFetchStreamReader(this),this._fullRequestReader}getRangeReader($,ht){if(ht<=this._progressiveDataLength)return null;const vt=new PDFFetchStreamRangeReader(this,$,ht);return this._rangeRequestReaders.push(vt),vt}cancelAllRequests($){var ht;(ht=this._fullRequestReader)==null||ht.cancel($);for(const vt of this._rangeRequestReaders.slice(0))vt.cancel($)}}class PDFFetchStreamReader{constructor($){this._stream=$,this._reader=null,this._loaded=0,this._filename=null;const ht=$.source;this._withCredentials=ht.withCredentials||!1,this._contentLength=ht.length,this._headersCapability=Promise.withResolvers(),this._disableRange=ht.disableRange||!1,this._rangeChunkSize=ht.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._abortController=new AbortController,this._isStreamingSupported=!ht.disableStream,this._isRangeSupported=!ht.disableRange,this._headers=createHeaders(this._stream.httpHeaders);const vt=ht.url;fetch(vt,createFetchOptions(this._headers,this._withCredentials,this._abortController)).then(At=>{if(!validateResponseStatus(At.status))throw createResponseStatusError(At.status,vt);this._reader=At.body.getReader(),this._headersCapability.resolve();const St=Ft=>At.headers.get(Ft),{allowRangeRequests:Ct,suggestedLength:Et}=validateRangeRequestCapabilities({getResponseHeader:St,isHttp:this._stream.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=Ct,this._contentLength=Et||this._contentLength,this._filename=extractFilenameFromHeader(St),!this._isStreamingSupported&&this._isRangeSupported&&this.cancel(new AbortException("Streaming is disabled."))}).catch(this._headersCapability.reject),this.onProgress=null}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var vt;await this._headersCapability.promise;const{value:$,done:ht}=await this._reader.read();return ht?{value:$,done:ht}:(this._loaded+=$.byteLength,(vt=this.onProgress)==null||vt.call(this,{loaded:this._loaded,total:this._contentLength}),{value:getArrayBuffer($),done:!1})}cancel($){var ht;(ht=this._reader)==null||ht.cancel($),this._abortController.abort()}}class PDFFetchStreamRangeReader{constructor($,ht,vt){this._stream=$,this._reader=null,this._loaded=0;const At=$.source;this._withCredentials=At.withCredentials||!1,this._readCapability=Promise.withResolvers(),this._isStreamingSupported=!At.disableStream,this._abortController=new AbortController,this._headers=createHeaders(this._stream.httpHeaders),this._headers.append("Range",`bytes=${ht}-${vt-1}`);const St=At.url;fetch(St,createFetchOptions(this._headers,this._withCredentials,this._abortController)).then(Ct=>{if(!validateResponseStatus(Ct.status))throw createResponseStatusError(Ct.status,St);this._readCapability.resolve(),this._reader=Ct.body.getReader()}).catch(this._readCapability.reject),this.onProgress=null}get isStreamingSupported(){return this._isStreamingSupported}async read(){var vt;await this._readCapability.promise;const{value:$,done:ht}=await this._reader.read();return ht?{value:$,done:ht}:(this._loaded+=$.byteLength,(vt=this.onProgress)==null||vt.call(this,{loaded:this._loaded}),{value:getArrayBuffer($),done:!1})}cancel($){var ht;(ht=this._reader)==null||ht.cancel($),this._abortController.abort()}}const OK_RESPONSE=200,PARTIAL_CONTENT_RESPONSE=206;function network_getArrayBuffer(xt){const $=xt.response;return typeof $!="string"?$:stringToBytes($).buffer}class NetworkManager{constructor($,ht={}){this.url=$,this.isHttp=/^https?:/i.test($),this.httpHeaders=this.isHttp&&ht.httpHeaders||Object.create(null),this.withCredentials=ht.withCredentials||!1,this.currXhrId=0,this.pendingRequests=Object.create(null)}requestRange($,ht,vt){const At={begin:$,end:ht};for(const St in vt)At[St]=vt[St];return this.request(At)}requestFull($){return this.request($)}request($){const ht=new XMLHttpRequest,vt=this.currXhrId++,At=this.pendingRequests[vt]={xhr:ht};ht.open("GET",this.url),ht.withCredentials=this.withCredentials;for(const St in this.httpHeaders){const Ct=this.httpHeaders[St];Ct!==void 0&&ht.setRequestHeader(St,Ct)}return this.isHttp&&"begin"in $&&"end"in $?(ht.setRequestHeader("Range",`bytes=${$.begin}-${$.end-1}`),At.expectedStatus=PARTIAL_CONTENT_RESPONSE):At.expectedStatus=OK_RESPONSE,ht.responseType="arraybuffer",$.onError&&(ht.onerror=function(St){$.onError(ht.status)}),ht.onreadystatechange=this.onStateChange.bind(this,vt),ht.onprogress=this.onProgress.bind(this,vt),At.onHeadersReceived=$.onHeadersReceived,At.onDone=$.onDone,At.onError=$.onError,At.onProgress=$.onProgress,ht.send(null),vt}onProgress($,ht){var At;const vt=this.pendingRequests[$];vt&&((At=vt.onProgress)==null||At.call(vt,ht))}onStateChange($,ht){var Ft,wt,_t;const vt=this.pendingRequests[$];if(!vt)return;const At=vt.xhr;if(At.readyState>=2&&vt.onHeadersReceived&&(vt.onHeadersReceived(),delete vt.onHeadersReceived),At.readyState!==4||!($ in this.pendingRequests))return;if(delete this.pendingRequests[$],At.status===0&&this.isHttp){(Ft=vt.onError)==null||Ft.call(vt,At.status);return}const St=At.status||OK_RESPONSE;if(!(St===OK_RESPONSE&&vt.expectedStatus===PARTIAL_CONTENT_RESPONSE)&&St!==vt.expectedStatus){(wt=vt.onError)==null||wt.call(vt,At.status);return}const Et=network_getArrayBuffer(At);if(St===PARTIAL_CONTENT_RESPONSE){const Rt=At.getResponseHeader("Content-Range"),_e=/bytes (\d+)-(\d+)\/(\d+)/.exec(Rt);vt.onDone({begin:parseInt(_e[1],10),chunk:Et})}else Et?vt.onDone({begin:0,chunk:Et}):(_t=vt.onError)==null||_t.call(vt,At.status)}getRequestXhr($){return this.pendingRequests[$].xhr}isPendingRequest($){return $ in this.pendingRequests}abortRequest($){const ht=this.pendingRequests[$].xhr;delete this.pendingRequests[$],ht.abort()}}class PDFNetworkStream{constructor($){this._source=$,this._manager=new NetworkManager($.url,{httpHeaders:$.httpHeaders,withCredentials:$.withCredentials}),this._rangeChunkSize=$.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}_onRangeRequestReaderClosed($){const ht=this._rangeRequestReaders.indexOf($);ht>=0&&this._rangeRequestReaders.splice(ht,1)}getFullReader(){return assert(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once."),this._fullRequestReader=new PDFNetworkStreamFullRequestReader(this._manager,this._source),this._fullRequestReader}getRangeReader($,ht){const vt=new PDFNetworkStreamRangeRequestReader(this._manager,$,ht);return vt.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(vt),vt}cancelAllRequests($){var ht;(ht=this._fullRequestReader)==null||ht.cancel($);for(const vt of this._rangeRequestReaders.slice(0))vt.cancel($)}}class PDFNetworkStreamFullRequestReader{constructor($,ht){this._manager=$;const vt={onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=ht.url,this._fullRequestId=$.requestFull(vt),this._headersReceivedCapability=Promise.withResolvers(),this._disableRange=ht.disableRange||!1,this._contentLength=ht.length,this._rangeChunkSize=ht.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}_onHeadersReceived(){const $=this._fullRequestId,ht=this._manager.getRequestXhr($),vt=Ct=>ht.getResponseHeader(Ct),{allowRangeRequests:At,suggestedLength:St}=validateRangeRequestCapabilities({getResponseHeader:vt,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});At&&(this._isRangeSupported=!0),this._contentLength=St||this._contentLength,this._filename=extractFilenameFromHeader(vt),this._isRangeSupported&&this._manager.abortRequest($),this._headersReceivedCapability.resolve()}_onDone($){if($&&(this._requests.length>0?this._requests.shift().resolve({value:$.chunk,done:!1}):this._cachedChunks.push($.chunk)),this._done=!0,!(this._cachedChunks.length>0)){for(const ht of this._requests)ht.resolve({value:void 0,done:!0});this._requests.length=0}}_onError($){this._storedError=createResponseStatusError($,this._url),this._headersReceivedCapability.reject(this._storedError);for(const ht of this._requests)ht.reject(this._storedError);this._requests.length=0,this._cachedChunks.length=0}_onProgress($){var ht;(ht=this.onProgress)==null||ht.call(this,{loaded:$.loaded,total:$.lengthComputable?$.total:this._contentLength})}get filename(){return this._filename}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}get contentLength(){return this._contentLength}get headersReady(){return this._headersReceivedCapability.promise}async read(){if(this._storedError)throw this._storedError;if(this._cachedChunks.length>0)return{value:this._cachedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const $=Promise.withResolvers();return this._requests.push($),$.promise}cancel($){this._done=!0,this._headersReceivedCapability.reject($);for(const ht of this._requests)ht.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}}class PDFNetworkStreamRangeRequestReader{constructor($,ht,vt){this._manager=$;const At={onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=$.url,this._requestId=$.requestRange(ht,vt,At),this._requests=[],this._queuedChunk=null,this._done=!1,this._storedError=void 0,this.onProgress=null,this.onClosed=null}_close(){var $;($=this.onClosed)==null||$.call(this,this)}_onDone($){const ht=$.chunk;this._requests.length>0?this._requests.shift().resolve({value:ht,done:!1}):this._queuedChunk=ht,this._done=!0;for(const vt of this._requests)vt.resolve({value:void 0,done:!0});this._requests.length=0,this._close()}_onError($){this._storedError=createResponseStatusError($,this._url);for(const ht of this._requests)ht.reject(this._storedError);this._requests.length=0,this._queuedChunk=null}_onProgress($){var ht;this.isStreamingSupported||(ht=this.onProgress)==null||ht.call(this,{loaded:$.loaded})}get isStreamingSupported(){return!1}async read(){if(this._storedError)throw this._storedError;if(this._queuedChunk!==null){const ht=this._queuedChunk;return this._queuedChunk=null,{value:ht,done:!1}}if(this._done)return{value:void 0,done:!0};const $=Promise.withResolvers();return this._requests.push($),$.promise}cancel($){this._done=!0;for(const ht of this._requests)ht.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}}const fileUriRegex=/^file:\/\/\/[a-zA-Z]:\//;function parseUrl(xt){const $=NodePackages.get("url"),ht=$.parse(xt);return ht.protocol==="file:"||ht.host?ht:/^[a-z]:[/\\]/i.test(xt)?$.parse(`file:///${xt}`):(ht.host||(ht.protocol="file:"),ht)}class PDFNodeStream{constructor($){this.source=$,this.url=parseUrl($.url),this.isHttp=this.url.protocol==="http:"||this.url.protocol==="https:",this.isFsUrl=this.url.protocol==="file:",this.httpHeaders=this.isHttp&&$.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var $;return(($=this._fullRequestReader)==null?void 0:$._loaded)??0}getFullReader(){return assert(!this._fullRequestReader,"PDFNodeStream.getFullReader can only be called once."),this._fullRequestReader=this.isFsUrl?new PDFNodeStreamFsFullReader(this):new PDFNodeStreamFullReader(this),this._fullRequestReader}getRangeReader($,ht){if(ht<=this._progressiveDataLength)return null;const vt=this.isFsUrl?new PDFNodeStreamFsRangeReader(this,$,ht):new PDFNodeStreamRangeReader(this,$,ht);return this._rangeRequestReaders.push(vt),vt}cancelAllRequests($){var ht;(ht=this._fullRequestReader)==null||ht.cancel($);for(const vt of this._rangeRequestReaders.slice(0))vt.cancel($)}}class BaseFullReader{constructor($){this._url=$.url,this._done=!1,this._storedError=null,this.onProgress=null;const ht=$.source;this._contentLength=ht.length,this._loaded=0,this._filename=null,this._disableRange=ht.disableRange||!1,this._rangeChunkSize=ht.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!ht.disableStream,this._isRangeSupported=!ht.disableRange,this._readableStream=null,this._readCapability=Promise.withResolvers(),this._headersCapability=Promise.withResolvers()}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var vt;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const $=this._readableStream.read();return $===null?(this._readCapability=Promise.withResolvers(),this.read()):(this._loaded+=$.length,(vt=this.onProgress)==null||vt.call(this,{loaded:this._loaded,total:this._contentLength}),{value:new Uint8Array($).buffer,done:!1})}cancel($){if(!this._readableStream){this._error($);return}this._readableStream.destroy($)}_error($){this._storedError=$,this._readCapability.resolve()}_setReadableStream($){this._readableStream=$,$.on("readable",()=>{this._readCapability.resolve()}),$.on("end",()=>{$.destroy(),this._done=!0,this._readCapability.resolve()}),$.on("error",ht=>{this._error(ht)}),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new AbortException("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}}class BaseRangeReader{constructor($){this._url=$.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=Promise.withResolvers();const ht=$.source;this._isStreamingSupported=!ht.disableStream}get isStreamingSupported(){return this._isStreamingSupported}async read(){var vt;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const $=this._readableStream.read();return $===null?(this._readCapability=Promise.withResolvers(),this.read()):(this._loaded+=$.length,(vt=this.onProgress)==null||vt.call(this,{loaded:this._loaded}),{value:new Uint8Array($).buffer,done:!1})}cancel($){if(!this._readableStream){this._error($);return}this._readableStream.destroy($)}_error($){this._storedError=$,this._readCapability.resolve()}_setReadableStream($){this._readableStream=$,$.on("readable",()=>{this._readCapability.resolve()}),$.on("end",()=>{$.destroy(),this._done=!0,this._readCapability.resolve()}),$.on("error",ht=>{this._error(ht)}),this._storedError&&this._readableStream.destroy(this._storedError)}}function createRequestOptions(xt,$){return{protocol:xt.protocol,auth:xt.auth,host:xt.hostname,port:xt.port,path:xt.path,method:"GET",headers:$}}class PDFNodeStreamFullReader extends BaseFullReader{constructor($){super($);const ht=vt=>{if(vt.statusCode===404){const Et=new MissingPDFException(`Missing PDF "${this._url}".`);this._storedError=Et,this._headersCapability.reject(Et);return}this._headersCapability.resolve(),this._setReadableStream(vt);const At=Et=>this._readableStream.headers[Et.toLowerCase()],{allowRangeRequests:St,suggestedLength:Ct}=validateRangeRequestCapabilities({getResponseHeader:At,isHttp:$.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=St,this._contentLength=Ct||this._contentLength,this._filename=extractFilenameFromHeader(At)};if(this._request=null,this._url.protocol==="http:"){const vt=NodePackages.get("http");this._request=vt.request(createRequestOptions(this._url,$.httpHeaders),ht)}else{const vt=NodePackages.get("https");this._request=vt.request(createRequestOptions(this._url,$.httpHeaders),ht)}this._request.on("error",vt=>{this._storedError=vt,this._headersCapability.reject(vt)}),this._request.end()}}class PDFNodeStreamRangeReader extends BaseRangeReader{constructor($,ht,vt){super($),this._httpHeaders={};for(const St in $.httpHeaders){const Ct=$.httpHeaders[St];Ct!==void 0&&(this._httpHeaders[St]=Ct)}this._httpHeaders.Range=`bytes=${ht}-${vt-1}`;const At=St=>{if(St.statusCode===404){const Ct=new MissingPDFException(`Missing PDF "${this._url}".`);this._storedError=Ct;return}this._setReadableStream(St)};if(this._request=null,this._url.protocol==="http:"){const St=NodePackages.get("http");this._request=St.request(createRequestOptions(this._url,this._httpHeaders),At)}else{const St=NodePackages.get("https");this._request=St.request(createRequestOptions(this._url,this._httpHeaders),At)}this._request.on("error",St=>{this._storedError=St}),this._request.end()}}class PDFNodeStreamFsFullReader extends BaseFullReader{constructor($){super($);let ht=decodeURIComponent(this._url.path);fileUriRegex.test(this._url.href)&&(ht=ht.replace(/^\//,""));const vt=NodePackages.get("fs");vt.promises.lstat(ht).then(At=>{this._contentLength=At.size,this._setReadableStream(vt.createReadStream(ht)),this._headersCapability.resolve()},At=>{At.code==="ENOENT"&&(At=new MissingPDFException(`Missing PDF "${ht}".`)),this._storedError=At,this._headersCapability.reject(At)})}}class PDFNodeStreamFsRangeReader extends BaseRangeReader{constructor($,ht,vt){super($);let At=decodeURIComponent(this._url.path);fileUriRegex.test(this._url.href)&&(At=At.replace(/^\//,""));const St=NodePackages.get("fs");this._setReadableStream(St.createReadStream(At,{start:ht,end:vt-1}))}}const MAX_TEXT_DIVS_TO_RENDER=1e5,DEFAULT_FONT_SIZE=30,DEFAULT_FONT_ASCENT=.8;var fy,iu,Ho,Qm,ex,Ku,C0,tx,nx,Yu,hp,dp,ru,fp,ix,pp,Zu,rx,sx,Ju,Qu,gp,U0,By,Uy,N9,xu,s2,Hy;const Fl=class Fl{constructor({textContentSource:$,container:ht,viewport:vt}){Nn(this,U0);Nn(this,iu,Promise.withResolvers());Nn(this,Ho,null);Nn(this,Qm,!1);Nn(this,ex,!!((fy=globalThis.FontInspector)!=null&&fy.enabled));Nn(this,Ku,null);Nn(this,C0,null);Nn(this,tx,0);Nn(this,nx,0);Nn(this,Yu,null);Nn(this,hp,null);Nn(this,dp,0);Nn(this,ru,0);Nn(this,fp,Object.create(null));Nn(this,ix,[]);Nn(this,pp,null);Nn(this,Zu,[]);Nn(this,rx,new WeakMap);Nn(this,sx,null);if($ instanceof ReadableStream)$n(this,pp,$);else if(typeof $=="object")$n(this,pp,new ReadableStream({start(Ft){Ft.enqueue($),Ft.close()}}));else throw new Error('No "textContentSource" parameter specified.');$n(this,Ho,$n(this,hp,ht)),$n(this,ru,vt.scale*(globalThis.devicePixelRatio||1)),$n(this,dp,vt.rotation),$n(this,C0,{prevFontSize:null,prevFontFamily:null,div:null,properties:null,ctx:null});const{pageWidth:At,pageHeight:St,pageX:Ct,pageY:Et}=vt.rawDims;$n(this,sx,[1,0,0,-1,-Ct,Et+St]),$n(this,nx,At),$n(this,tx,St),setLayerDimensions(ht,vt),Mt(this,iu).promise.catch(()=>{}).then(()=>{Mt(Fl,gp).delete(this),$n(this,C0,null),$n(this,fp,null)})}render(){const $=()=>{Mt(this,Yu).read().then(({value:ht,done:vt})=>{if(vt){Mt(this,iu).resolve();return}Mt(this,Ku)??$n(this,Ku,ht.lang),Object.assign(Mt(this,fp),ht.styles),Mn(this,U0,By).call(this,ht.items),$()},Mt(this,iu).reject)};return $n(this,Yu,Mt(this,pp).getReader()),Mt(Fl,gp).add(this),$(),Mt(this,iu).promise}update({viewport:$,onBefore:ht=null}){var St;const vt=$.scale*(globalThis.devicePixelRatio||1),At=$.rotation;if(At!==Mt(this,dp)&&(ht==null||ht(),$n(this,dp,At),setLayerDimensions(Mt(this,hp),{rotation:At})),vt!==Mt(this,ru)){ht==null||ht(),$n(this,ru,vt);const Ct={prevFontSize:null,prevFontFamily:null,div:null,properties:null,ctx:Mn(St=Fl,xu,s2).call(St,Mt(this,Ku))};for(const Et of Mt(this,Zu))Ct.properties=Mt(this,rx).get(Et),Ct.div=Et,Mn(this,U0,N9).call(this,Ct)}}cancel(){var ht;const $=new AbortException("TextLayer task cancelled.");(ht=Mt(this,Yu))==null||ht.cancel($).catch(()=>{}),$n(this,Yu,null),Mt(this,iu).reject($)}get textDivs(){return Mt(this,Zu)}get textContentItemsStr(){return Mt(this,ix)}static cleanup(){if(!(Mt(this,gp).size>0)){Mt(this,Ju).clear();for(const{canvas:$}of Mt(this,Qu).values())$.remove();Mt(this,Qu).clear()}}};iu=new WeakMap,Ho=new WeakMap,Qm=new WeakMap,ex=new WeakMap,Ku=new WeakMap,C0=new WeakMap,tx=new WeakMap,nx=new WeakMap,Yu=new WeakMap,hp=new WeakMap,dp=new WeakMap,ru=new WeakMap,fp=new WeakMap,ix=new WeakMap,pp=new WeakMap,Zu=new WeakMap,rx=new WeakMap,sx=new WeakMap,Ju=new WeakMap,Qu=new WeakMap,gp=new WeakMap,U0=new WeakSet,By=function($){var At,St;if(Mt(this,Qm))return;(St=Mt(this,C0)).ctx||(St.ctx=Mn(At=Fl,xu,s2).call(At,Mt(this,Ku)));const ht=Mt(this,Zu),vt=Mt(this,ix);for(const Ct of $){if(ht.length>MAX_TEXT_DIVS_TO_RENDER){warn("Ignoring additional textDivs for performance reasons."),$n(this,Qm,!0);return}if(Ct.str===void 0){if(Ct.type==="beginMarkedContentProps"||Ct.type==="beginMarkedContent"){const Et=Mt(this,Ho);$n(this,Ho,document.createElement("span")),Mt(this,Ho).classList.add("markedContent"),Ct.id!==null&&Mt(this,Ho).setAttribute("id",`${Ct.id}`),Et.append(Mt(this,Ho))}else Ct.type==="endMarkedContent"&&$n(this,Ho,Mt(this,Ho).parentNode);continue}vt.push(Ct.str),Mn(this,U0,Uy).call(this,Ct)}},Uy=function($){var Xt;const ht=document.createElement("span"),vt={angle:0,canvasWidth:0,hasText:$.str!=="",hasEOL:$.hasEOL,fontSize:0};Mt(this,Zu).push(ht);const At=Util.transform(Mt(this,sx),$.transform);let St=Math.atan2(At[1],At[0]);const Ct=Mt(this,fp)[$.fontName];Ct.vertical&&(St+=Math.PI/2);const Et=Mt(this,ex)&&Ct.fontSubstitution||Ct.fontFamily,Ft=Math.hypot(At[2],At[3]),wt=Ft*Mn(Xt=Fl,xu,Hy).call(Xt,Et,Mt(this,Ku));let _t,Rt;St===0?(_t=At[4],Rt=At[5]-wt):(_t=At[4]+wt*Math.sin(St),Rt=At[5]-wt*Math.cos(St));const _e="calc(var(--scale-factor)*",bt=ht.style;Mt(this,Ho)===Mt(this,hp)?(bt.left=`${(100*_t/Mt(this,nx)).toFixed(2)}%`,bt.top=`${(100*Rt/Mt(this,tx)).toFixed(2)}%`):(bt.left=`${_e}${_t.toFixed(2)}px)`,bt.top=`${_e}${Rt.toFixed(2)}px)`),bt.fontSize=`${_e}${Ft.toFixed(2)}px)`,bt.fontFamily=Et,vt.fontSize=Ft,ht.setAttribute("role","presentation"),ht.textContent=$.str,ht.dir=$.dir,Mt(this,ex)&&(ht.dataset.fontName=Ct.fontSubstitutionLoadedName||$.fontName),St!==0&&(vt.angle=St*(180/Math.PI));let Pt=!1;if($.str.length>1)Pt=!0;else if($.str!==" "&&$.transform[0]!==$.transform[3]){const Kt=Math.abs($.transform[0]),Nt=Math.abs($.transform[3]);Kt!==Nt&&Math.max(Kt,Nt)/Math.min(Kt,Nt)>1.5&&(Pt=!0)}if(Pt&&(vt.canvasWidth=Ct.vertical?$.height:$.width),Mt(this,rx).set(ht,vt),Mt(this,C0).div=ht,Mt(this,C0).properties=vt,Mn(this,U0,N9).call(this,Mt(this,C0)),vt.hasText&&Mt(this,Ho).append(ht),vt.hasEOL){const Kt=document.createElement("br");Kt.setAttribute("role","presentation"),Mt(this,Ho).append(Kt)}},N9=function($){const{div:ht,properties:vt,ctx:At,prevFontSize:St,prevFontFamily:Ct}=$,{style:Et}=ht;let Ft="";if(vt.canvasWidth!==0&&vt.hasText){const{fontFamily:wt}=Et,{canvasWidth:_t,fontSize:Rt}=vt;(St!==Rt||Ct!==wt)&&(At.font=`${Rt*Mt(this,ru)}px ${wt}`,$.prevFontSize=Rt,$.prevFontFamily=wt);const{width:_e}=At.measureText(ht.textContent);_e>0&&(Ft=`scaleX(${_t*Mt(this,ru)/_e})`)}vt.angle!==0&&(Ft=`rotate(${vt.angle}deg) ${Ft}`),Ft.length>0&&(Et.transform=Ft)},xu=new WeakSet,s2=function($=null){let ht=Mt(this,Qu).get($||($=""));if(!ht){const vt=document.createElement("canvas");vt.className="hiddenCanvasElement",vt.lang=$,document.body.append(vt),ht=vt.getContext("2d",{alpha:!1}),Mt(this,Qu).set($,ht)}return ht},Hy=function($,ht){const vt=Mt(this,Ju).get($);if(vt)return vt;const At=Mn(this,xu,s2).call(this,ht),St=At.font;At.canvas.width=At.canvas.height=DEFAULT_FONT_SIZE,At.font=`${DEFAULT_FONT_SIZE}px ${$}`;const Ct=At.measureText("");let Et=Ct.fontBoundingBoxAscent,Ft=Math.abs(Ct.fontBoundingBoxDescent);if(Et){const Rt=Et/(Et+Ft);return Mt(this,Ju).set($,Rt),At.canvas.width=At.canvas.height=0,At.font=St,Rt}At.strokeStyle="red",At.clearRect(0,0,DEFAULT_FONT_SIZE,DEFAULT_FONT_SIZE),At.strokeText("g",0,0);let wt=At.getImageData(0,0,DEFAULT_FONT_SIZE,DEFAULT_FONT_SIZE).data;Ft=0;for(let Rt=wt.length-1-3;Rt>=0;Rt-=4)if(wt[Rt]>0){Ft=Math.ceil(Rt/4/DEFAULT_FONT_SIZE);break}At.clearRect(0,0,DEFAULT_FONT_SIZE,DEFAULT_FONT_SIZE),At.strokeText("A",0,DEFAULT_FONT_SIZE),wt=At.getImageData(0,0,DEFAULT_FONT_SIZE,DEFAULT_FONT_SIZE).data,Et=0;for(let Rt=0,_e=wt.length;Rt<_e;Rt+=4)if(wt[Rt]>0){Et=DEFAULT_FONT_SIZE-Math.floor(Rt/4/DEFAULT_FONT_SIZE);break}At.canvas.width=At.canvas.height=0,At.font=St;const _t=Et?Et/(Et+Ft):DEFAULT_FONT_ASCENT;return Mt(this,Ju).set($,_t),_t},Nn(Fl,xu),Nn(Fl,Ju,new Map),Nn(Fl,Qu,new Map),Nn(Fl,gp,new Set);let TextLayer=Fl;function renderTextLayer(){deprecated("`renderTextLayer`, please use `TextLayer` instead.");const{textContentSource:xt,container:$,viewport:ht,...vt}=arguments[0],At=Object.keys(vt);At.length>0&&warn("Ignoring `renderTextLayer` parameters: "+At.join(", "));const St=new TextLayer({textContentSource:xt,container:$,viewport:ht}),{textDivs:Ct,textContentItemsStr:Et}=St;return{promise:St.render(),textDivs:Ct,textContentItemsStr:Et}}function updateTextLayer(){deprecated("`updateTextLayer`, please use `TextLayer` instead.")}class XfaText{static textContent($){const ht=[],vt={items:ht,styles:Object.create(null)};function At(St){var Ft;if(!St)return;let Ct=null;const Et=St.name;if(Et==="#text")Ct=St.value;else if(XfaText.shouldBuildText(Et))(Ft=St==null?void 0:St.attributes)!=null&&Ft.textContent?Ct=St.attributes.textContent:St.value&&(Ct=St.value);else return;if(Ct!==null&&ht.push({str:Ct}),!!St.children)for(const wt of St.children)At(wt)}return At($),vt}static shouldBuildText($){return!($==="textarea"||$==="input"||$==="option"||$==="select")}}const DEFAULT_RANGE_CHUNK_SIZE=65536,RENDERING_CANCELLED_TIMEOUT=100,DELAYED_CLEANUP_TIMEOUT=5e3,DefaultCanvasFactory=isNodeJS?NodeCanvasFactory:DOMCanvasFactory,DefaultCMapReaderFactory=isNodeJS?NodeCMapReaderFactory:DOMCMapReaderFactory,DefaultFilterFactory=isNodeJS?NodeFilterFactory:DOMFilterFactory,DefaultStandardFontDataFactory=isNodeJS?NodeStandardFontDataFactory:DOMStandardFontDataFactory;function getDocument(xt){if(typeof xt=="string"||xt instanceof URL?xt={url:xt}:(xt instanceof ArrayBuffer||ArrayBuffer.isView(xt))&&(xt={data:xt}),typeof xt!="object")throw new Error("Invalid parameter in getDocument, need parameter object.");if(!xt.url&&!xt.data&&!xt.range)throw new Error("Invalid parameter object: need either .data, .range or .url");const $=new PDFDocumentLoadingTask,{docId:ht}=$,vt=xt.url?getUrlProp(xt.url):null,At=xt.data?getDataProp(xt.data):null,St=xt.httpHeaders||null,Ct=xt.withCredentials===!0,Et=xt.password??null,Ft=xt.range instanceof PDFDataRangeTransport?xt.range:null,wt=Number.isInteger(xt.rangeChunkSize)&&xt.rangeChunkSize>0?xt.rangeChunkSize:DEFAULT_RANGE_CHUNK_SIZE;let _t=xt.worker instanceof PDFWorker?xt.worker:null;const Rt=xt.verbosity,_e=typeof xt.docBaseUrl=="string"&&!isDataScheme(xt.docBaseUrl)?xt.docBaseUrl:null,bt=typeof xt.cMapUrl=="string"?xt.cMapUrl:null,Pt=xt.cMapPacked!==!1,Xt=xt.CMapReaderFactory||DefaultCMapReaderFactory,Kt=typeof xt.standardFontDataUrl=="string"?xt.standardFontDataUrl:null,Nt=xt.StandardFontDataFactory||DefaultStandardFontDataFactory,$t=xt.stopAtErrors!==!0,Lt=Number.isInteger(xt.maxImageSize)&&xt.maxImageSize>-1?xt.maxImageSize:-1,jt=xt.isEvalSupported!==!1,kt=typeof xt.isOffscreenCanvasSupported=="boolean"?xt.isOffscreenCanvasSupported:!isNodeJS,qt=Number.isInteger(xt.canvasMaxAreaInBytes)?xt.canvasMaxAreaInBytes:-1,Bt=typeof xt.disableFontFace=="boolean"?xt.disableFontFace:isNodeJS,Gt=xt.fontExtraProperties===!0,en=xt.enableXfa===!0,dn=xt.ownerDocument||globalThis.document,Qt=xt.disableRange===!0,gn=xt.disableStream===!0,tn=xt.disableAutoFetch===!0,bn=xt.pdfBug===!0,Wt=Ft?Ft.length:xt.length??NaN,Yt=typeof xt.useSystemFonts=="boolean"?xt.useSystemFonts:!isNodeJS&&!Bt,un=typeof xt.useWorkerFetch=="boolean"?xt.useWorkerFetch:Xt===DOMCMapReaderFactory&&Nt===DOMStandardFontDataFactory&&bt&&Kt&&isValidFetchUrl(bt,document.baseURI)&&isValidFetchUrl(Kt,document.baseURI),Ut=xt.canvasFactory||new DefaultCanvasFactory({ownerDocument:dn}),Ot=xt.filterFactory||new DefaultFilterFactory({docId:ht,ownerDocument:dn}),Ht=null;setVerbosityLevel(Rt);const an={canvasFactory:Ut,filterFactory:Ot};if(un||(an.cMapReaderFactory=new Xt({baseUrl:bt,isCompressed:Pt}),an.standardFontDataFactory=new Nt({baseUrl:Kt})),!_t){const nn={verbosity:Rt,port:GlobalWorkerOptions.workerPort};_t=nn.port?PDFWorker.fromPort(nn):new PDFWorker(nn),$._worker=_t}const zt={docId:ht,apiVersion:"4.3.136",data:At,password:Et,disableAutoFetch:tn,rangeChunkSize:wt,length:Wt,docBaseUrl:_e,enableXfa:en,evaluatorOptions:{maxImageSize:Lt,disableFontFace:Bt,ignoreErrors:$t,isEvalSupported:jt,isOffscreenCanvasSupported:kt,canvasMaxAreaInBytes:qt,fontExtraProperties:Gt,useSystemFonts:Yt,cMapUrl:un?bt:null,standardFontDataUrl:un?Kt:null}},Vt={disableFontFace:Bt,fontExtraProperties:Gt,ownerDocument:dn,pdfBug:bn,styleElement:Ht,loadingParams:{disableAutoFetch:tn,enableXfa:en}};return _t.promise.then(function(){if($.destroyed)throw new Error("Loading aborted");if(_t.destroyed)throw new Error("Worker was destroyed");const nn=_t.messageHandler.sendWithPromise("GetDocRequest",zt,At?[At.buffer]:null);let hn;return Ft?hn=new PDFDataTransportStream(Ft,{disableRange:Qt,disableStream:gn}):At||(hn=(cn=>isNodeJS?function(){return typeof fetch<"u"&&typeof Response<"u"&&"body"in Response.prototype}()&&isValidFetchUrl(cn.url)?new PDFFetchStream(cn):new PDFNodeStream(cn):isValidFetchUrl(cn.url)?new PDFFetchStream(cn):new PDFNetworkStream(cn))({url:vt,length:Wt,httpHeaders:St,withCredentials:Ct,rangeChunkSize:wt,disableRange:Qt,disableStream:gn})),nn.then(on=>{if($.destroyed)throw new Error("Loading aborted");if(_t.destroyed)throw new Error("Worker was destroyed");const cn=new MessageHandler(ht,on,_t.port),sn=new WorkerTransport(cn,$,hn,Vt,an);$._transport=sn,cn.send("Ready",null)})}).catch($._capability.reject),$}function getUrlProp(xt){if(xt instanceof URL)return xt.href;try{return new URL(xt,window.location).href}catch{if(isNodeJS&&typeof xt=="string")return xt}throw new Error("Invalid PDF url data: either string or URL-object is expected in the url property.")}function getDataProp(xt){if(isNodeJS&&typeof Buffer<"u"&&xt instanceof Buffer)throw new Error("Please provide binary data as `Uint8Array`, rather than `Buffer`.");if(xt instanceof Uint8Array&&xt.byteLength===xt.buffer.byteLength)return xt;if(typeof xt=="string")return stringToBytes(xt);if(xt instanceof ArrayBuffer||ArrayBuffer.isView(xt)||typeof xt=="object"&&!isNaN(xt==null?void 0:xt.length))return new Uint8Array(xt);throw new Error("Invalid PDF binary data: either TypedArray, string, or array-like object is expected in the data property.")}function isRefProxy(xt){return typeof xt=="object"&&Number.isInteger(xt==null?void 0:xt.num)&&xt.num>=0&&Number.isInteger(xt==null?void 0:xt.gen)&&xt.gen>=0}var Q2;const _b=class _b{constructor(){this._capability=Promise.withResolvers(),this._transport=null,this._worker=null,this.docId=`d${So(_b,Q2)._++}`,this.destroyed=!1,this.onPassword=null,this.onProgress=null}get promise(){return this._capability.promise}async destroy(){var $,ht,vt;this.destroyed=!0;try{($=this._worker)!=null&&$.port&&(this._worker._pendingDestroy=!0),await((ht=this._transport)==null?void 0:ht.destroy())}catch(At){throw(vt=this._worker)!=null&&vt.port&&delete this._worker._pendingDestroy,At}this._transport=null,this._worker&&(this._worker.destroy(),this._worker=null)}};Q2=new WeakMap,Nn(_b,Q2,0);let PDFDocumentLoadingTask=_b;class PDFDataRangeTransport{constructor($,ht,vt=!1,At=null){this.length=$,this.initialData=ht,this.progressiveDone=vt,this.contentDispositionFilename=At,this._rangeListeners=[],this._progressListeners=[],this._progressiveReadListeners=[],this._progressiveDoneListeners=[],this._readyCapability=Promise.withResolvers()}addRangeListener($){this._rangeListeners.push($)}addProgressListener($){this._progressListeners.push($)}addProgressiveReadListener($){this._progressiveReadListeners.push($)}addProgressiveDoneListener($){this._progressiveDoneListeners.push($)}onDataRange($,ht){for(const vt of this._rangeListeners)vt($,ht)}onDataProgress($,ht){this._readyCapability.promise.then(()=>{for(const vt of this._progressListeners)vt($,ht)})}onDataProgressiveRead($){this._readyCapability.promise.then(()=>{for(const ht of this._progressiveReadListeners)ht($)})}onDataProgressiveDone(){this._readyCapability.promise.then(()=>{for(const $ of this._progressiveDoneListeners)$()})}transportReady(){this._readyCapability.resolve()}requestDataRange($,ht){unreachable("Abstract method PDFDataRangeTransport.requestDataRange")}abort(){}}class PDFDocumentProxy{constructor($,ht){this._pdfInfo=$,this._transport=ht}get annotationStorage(){return this._transport.annotationStorage}get filterFactory(){return this._transport.filterFactory}get numPages(){return this._pdfInfo.numPages}get fingerprints(){return this._pdfInfo.fingerprints}get isPureXfa(){return shadow(this,"isPureXfa",!!this._transport._htmlForXfa)}get allXfaHtml(){return this._transport._htmlForXfa}getPage($){return this._transport.getPage($)}getPageIndex($){return this._transport.getPageIndex($)}getDestinations(){return this._transport.getDestinations()}getDestination($){return this._transport.getDestination($)}getPageLabels(){return this._transport.getPageLabels()}getPageLayout(){return this._transport.getPageLayout()}getPageMode(){return this._transport.getPageMode()}getViewerPreferences(){return this._transport.getViewerPreferences()}getOpenAction(){return this._transport.getOpenAction()}getAttachments(){return this._transport.getAttachments()}getJSActions(){return this._transport.getDocJSActions()}getOutline(){return this._transport.getOutline()}getOptionalContentConfig({intent:$="display"}={}){const{renderingIntent:ht}=this._transport.getRenderingIntent($);return this._transport.getOptionalContentConfig(ht)}getPermissions(){return this._transport.getPermissions()}getMetadata(){return this._transport.getMetadata()}getMarkInfo(){return this._transport.getMarkInfo()}getData(){return this._transport.getData()}saveDocument(){return this._transport.saveDocument()}getDownloadInfo(){return this._transport.downloadInfoCapability.promise}cleanup($=!1){return this._transport.startCleanup($||this.isPureXfa)}destroy(){return this.loadingTask.destroy()}cachedPageNumber($){return this._transport.cachedPageNumber($)}get loadingParams(){return this._transport.loadingParams}get loadingTask(){return this._transport.loadingTask}getFieldObjects(){return this._transport.getFieldObjects()}hasJSActions(){return this._transport.hasJSActions()}getCalculationOrderIds(){return this._transport.getCalculationOrderIds()}}var su,k0,El,$1,a2;class PDFPageProxy{constructor($,ht,vt,At=!1){Nn(this,El);Nn(this,su,null);Nn(this,k0,!1);this._pageIndex=$,this._pageInfo=ht,this._transport=vt,this._stats=At?new StatTimer:null,this._pdfBug=At,this.commonObjs=vt.commonObjs,this.objs=new PDFObjects,this._maybeCleanupAfterRender=!1,this._intentStates=new Map,this.destroyed=!1}get pageNumber(){return this._pageIndex+1}get rotate(){return this._pageInfo.rotate}get ref(){return this._pageInfo.ref}get userUnit(){return this._pageInfo.userUnit}get view(){return this._pageInfo.view}getViewport({scale:$,rotation:ht=this.rotate,offsetX:vt=0,offsetY:At=0,dontFlip:St=!1}={}){return new PageViewport({viewBox:this.view,scale:$,rotation:ht,offsetX:vt,offsetY:At,dontFlip:St})}getAnnotations({intent:$="display"}={}){const{renderingIntent:ht}=this._transport.getRenderingIntent($);return this._transport.getAnnotations(this._pageIndex,ht)}getJSActions(){return this._transport.getPageJSActions(this._pageIndex)}get filterFactory(){return this._transport.filterFactory}get isPureXfa(){return shadow(this,"isPureXfa",!!this._transport._htmlForXfa)}async getXfa(){var $;return(($=this._transport._htmlForXfa)==null?void 0:$.children[this._pageIndex])||null}render({canvasContext:$,viewport:ht,intent:vt="display",annotationMode:At=AnnotationMode.ENABLE,transform:St=null,background:Ct=null,optionalContentConfigPromise:Et=null,annotationCanvasMap:Ft=null,pageColors:wt=null,printAnnotationStorage:_t=null}){var Lt,jt;(Lt=this._stats)==null||Lt.time("Overall");const Rt=this._transport.getRenderingIntent(vt,At,_t),{renderingIntent:_e,cacheKey:bt}=Rt;$n(this,k0,!1),Mn(this,El,a2).call(this),Et||(Et=this._transport.getOptionalContentConfig(_e));let Pt=this._intentStates.get(bt);Pt||(Pt=Object.create(null),this._intentStates.set(bt,Pt)),Pt.streamReaderCancelTimeout&&(clearTimeout(Pt.streamReaderCancelTimeout),Pt.streamReaderCancelTimeout=null);const Xt=!!(_e&RenderingIntentFlag.PRINT);Pt.displayReadyCapability||(Pt.displayReadyCapability=Promise.withResolvers(),Pt.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(jt=this._stats)==null||jt.time("Page Request"),this._pumpOperatorList(Rt));const Kt=kt=>{var qt;Pt.renderTasks.delete(Nt),(this._maybeCleanupAfterRender||Xt)&&$n(this,k0,!0),Mn(this,El,$1).call(this,!Xt),kt?(Nt.capability.reject(kt),this._abortOperatorList({intentState:Pt,reason:kt instanceof Error?kt:new Error(kt)})):Nt.capability.resolve(),this._stats&&(this._stats.timeEnd("Rendering"),this._stats.timeEnd("Overall"),(qt=globalThis.Stats)!=null&&qt.enabled&&globalThis.Stats.add(this.pageNumber,this._stats))},Nt=new InternalRenderTask({callback:Kt,params:{canvasContext:$,viewport:ht,transform:St,background:Ct},objs:this.objs,commonObjs:this.commonObjs,annotationCanvasMap:Ft,operatorList:Pt.operatorList,pageIndex:this._pageIndex,canvasFactory:this._transport.canvasFactory,filterFactory:this._transport.filterFactory,useRequestAnimationFrame:!Xt,pdfBug:this._pdfBug,pageColors:wt});(Pt.renderTasks||(Pt.renderTasks=new Set)).add(Nt);const $t=Nt.task;return Promise.all([Pt.displayReadyCapability.promise,Et]).then(([kt,qt])=>{var Bt;if(this.destroyed){Kt();return}if((Bt=this._stats)==null||Bt.time("Rendering"),!(qt.renderingIntent&_e))throw new Error("Must use the same `intent`-argument when calling the `PDFPageProxy.render` and `PDFDocumentProxy.getOptionalContentConfig` methods.");Nt.initializeGraphics({transparency:kt,optionalContentConfig:qt}),Nt.operatorListChanged()}).catch(Kt),$t}getOperatorList({intent:$="display",annotationMode:ht=AnnotationMode.ENABLE,printAnnotationStorage:vt=null}={}){var Ft;function At(){Ct.operatorList.lastChunk&&(Ct.opListReadCapability.resolve(Ct.operatorList),Ct.renderTasks.delete(Et))}const St=this._transport.getRenderingIntent($,ht,vt,!0);let Ct=this._intentStates.get(St.cacheKey);Ct||(Ct=Object.create(null),this._intentStates.set(St.cacheKey,Ct));let Et;return Ct.opListReadCapability||(Et=Object.create(null),Et.operatorListChanged=At,Ct.opListReadCapability=Promise.withResolvers(),(Ct.renderTasks||(Ct.renderTasks=new Set)).add(Et),Ct.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(Ft=this._stats)==null||Ft.time("Page Request"),this._pumpOperatorList(St)),Ct.opListReadCapability.promise}streamTextContent({includeMarkedContent:$=!1,disableNormalization:ht=!1}={}){return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,includeMarkedContent:$===!0,disableNormalization:ht===!0},{highWaterMark:100,size(At){return At.items.length}})}getTextContent($={}){if(this._transport._htmlForXfa)return this.getXfa().then(vt=>XfaText.textContent(vt));const ht=this.streamTextContent($);return new Promise(function(vt,At){function St(){Ct.read().then(function({value:Ft,done:wt}){if(wt){vt(Et);return}Et.lang??(Et.lang=Ft.lang),Object.assign(Et.styles,Ft.styles),Et.items.push(...Ft.items),St()},At)}const Ct=ht.getReader(),Et={items:[],styles:Object.create(null),lang:null};St()})}getStructTree(){return this._transport.getStructTree(this._pageIndex)}_destroy(){this.destroyed=!0;const $=[];for(const ht of this._intentStates.values())if(this._abortOperatorList({intentState:ht,reason:new Error("Page was destroyed."),force:!0}),!ht.opListReadCapability)for(const vt of ht.renderTasks)$.push(vt.completed),vt.cancel();return this.objs.clear(),$n(this,k0,!1),Mn(this,El,a2).call(this),Promise.all($)}cleanup($=!1){$n(this,k0,!0);const ht=Mn(this,El,$1).call(this,!1);return $&&ht&&this._stats&&(this._stats=new StatTimer),ht}_startRenderPage($,ht){var At,St;const vt=this._intentStates.get(ht);vt&&((At=this._stats)==null||At.timeEnd("Page Request"),(St=vt.displayReadyCapability)==null||St.resolve($))}_renderPageChunk($,ht){for(let vt=0,At=$.length;vt<At;vt++)ht.operatorList.fnArray.push($.fnArray[vt]),ht.operatorList.argsArray.push($.argsArray[vt]);ht.operatorList.lastChunk=$.lastChunk,ht.operatorList.separateAnnots=$.separateAnnots;for(const vt of ht.renderTasks)vt.operatorListChanged();$.lastChunk&&Mn(this,El,$1).call(this,!0)}_pumpOperatorList({renderingIntent:$,cacheKey:ht,annotationStorageSerializable:vt}){const{map:At,transfer:St}=vt,Et=this._transport.messageHandler.sendWithStream("GetOperatorList",{pageIndex:this._pageIndex,intent:$,cacheKey:ht,annotationStorage:At},St).getReader(),Ft=this._intentStates.get(ht);Ft.streamReader=Et;const wt=()=>{Et.read().then(({value:_t,done:Rt})=>{if(Rt){Ft.streamReader=null;return}this._transport.destroyed||(this._renderPageChunk(_t,Ft),wt())},_t=>{if(Ft.streamReader=null,!this._transport.destroyed){if(Ft.operatorList){Ft.operatorList.lastChunk=!0;for(const Rt of Ft.renderTasks)Rt.operatorListChanged();Mn(this,El,$1).call(this,!0)}if(Ft.displayReadyCapability)Ft.displayReadyCapability.reject(_t);else if(Ft.opListReadCapability)Ft.opListReadCapability.reject(_t);else throw _t}})};wt()}_abortOperatorList({intentState:$,reason:ht,force:vt=!1}){if($.streamReader){if($.streamReaderCancelTimeout&&(clearTimeout($.streamReaderCancelTimeout),$.streamReaderCancelTimeout=null),!vt){if($.renderTasks.size>0)return;if(ht instanceof RenderingCancelledException){let At=RENDERING_CANCELLED_TIMEOUT;ht.extraDelay>0&&ht.extraDelay<1e3&&(At+=ht.extraDelay),$.streamReaderCancelTimeout=setTimeout(()=>{$.streamReaderCancelTimeout=null,this._abortOperatorList({intentState:$,reason:ht,force:!0})},At);return}}if($.streamReader.cancel(new AbortException(ht.message)).catch(()=>{}),$.streamReader=null,!this._transport.destroyed){for(const[At,St]of this._intentStates)if(St===$){this._intentStates.delete(At);break}this.cleanup()}}}get stats(){return this._stats}}su=new WeakMap,k0=new WeakMap,El=new WeakSet,$1=function($=!1){if(Mn(this,El,a2).call(this),!Mt(this,k0)||this.destroyed)return!1;if($)return $n(this,su,setTimeout(()=>{$n(this,su,null),Mn(this,El,$1).call(this,!1)},DELAYED_CLEANUP_TIMEOUT)),!1;for(const{renderTasks:ht,operatorList:vt}of this._intentStates.values())if(ht.size>0||!vt.lastChunk)return!1;return this._intentStates.clear(),this.objs.clear(),$n(this,k0,!1),!0},a2=function(){Mt(this,su)&&(clearTimeout(Mt(this,su)),$n(this,su,null))};var _h,e9;class LoopbackPort{constructor(){Nn(this,_h,new Set);Nn(this,e9,Promise.resolve())}postMessage($,ht){const vt={data:structuredClone($,ht?{transfer:ht}:null)};Mt(this,e9).then(()=>{for(const At of Mt(this,_h))At.call(this,vt)})}addEventListener($,ht){Mt(this,_h).add(ht)}removeEventListener($,ht){Mt(this,_h).delete(ht)}terminate(){Mt(this,_h).clear()}}_h=new WeakMap,e9=new WeakMap;const PDFWorkerUtil={isWorkerDisabled:!1,fakeWorkerId:0};isNodeJS&&(PDFWorkerUtil.isWorkerDisabled=!0,GlobalWorkerOptions.workerSrc||(GlobalWorkerOptions.workerSrc="./pdf.worker.mjs")),PDFWorkerUtil.isSameOrigin=function(xt,$){let ht;try{if(ht=new URL(xt),!ht.origin||ht.origin==="null")return!1}catch{return!1}const vt=new URL($,ht);return ht.origin===vt.origin},PDFWorkerUtil.createCDNWrapper=function(xt){const $=`await import("${xt}");`;return URL.createObjectURL(new Blob([$],{type:"text/javascript"}))};var _d,mp,o2;const Vo=class Vo{constructor({name:$=null,port:ht=null,verbosity:vt=getVerbosityLevel()}={}){var At;if(this.name=$,this.destroyed=!1,this.verbosity=vt,this._readyCapability=Promise.withResolvers(),this._port=null,this._webWorker=null,this._messageHandler=null,ht){if((At=Mt(Vo,_d))!=null&&At.has(ht))throw new Error("Cannot use more than one PDFWorker per port.");(Mt(Vo,_d)||$n(Vo,_d,new WeakMap)).set(ht,this),this._initializeFromPort(ht);return}this._initialize()}get promise(){return isNodeJS?Promise.all([NodePackages.promise,this._readyCapability.promise]):this._readyCapability.promise}get port(){return this._port}get messageHandler(){return this._messageHandler}_initializeFromPort($){this._port=$,this._messageHandler=new MessageHandler("main","worker",$),this._messageHandler.on("ready",function(){}),this._readyCapability.resolve(),this._messageHandler.send("configure",{verbosity:this.verbosity})}_initialize(){if(!PDFWorkerUtil.isWorkerDisabled&&!Mt(Vo,mp,o2)){let{workerSrc:$}=Vo;try{PDFWorkerUtil.isSameOrigin(window.location.href,$)||($=PDFWorkerUtil.createCDNWrapper(new URL($,window.location).href));const ht=new Worker($,{type:"module"}),vt=new MessageHandler("main","worker",ht),At=()=>{ht.removeEventListener("error",St),vt.destroy(),ht.terminate(),this.destroyed?this._readyCapability.reject(new Error("Worker was destroyed")):this._setupFakeWorker()},St=()=>{this._webWorker||At()};ht.addEventListener("error",St),vt.on("test",Et=>{if(ht.removeEventListener("error",St),this.destroyed){At();return}Et?(this._messageHandler=vt,this._port=ht,this._webWorker=ht,this._readyCapability.resolve(),vt.send("configure",{verbosity:this.verbosity})):(this._setupFakeWorker(),vt.destroy(),ht.terminate())}),vt.on("ready",Et=>{if(ht.removeEventListener("error",St),this.destroyed){At();return}try{Ct()}catch{this._setupFakeWorker()}});const Ct=()=>{const Et=new Uint8Array;vt.send("test",Et,[Et.buffer])};Ct();return}catch{info("The worker has been disabled.")}}this._setupFakeWorker()}_setupFakeWorker(){PDFWorkerUtil.isWorkerDisabled||(warn("Setting up fake worker."),PDFWorkerUtil.isWorkerDisabled=!0),Vo._setupFakeWorkerGlobal.then($=>{if(this.destroyed){this._readyCapability.reject(new Error("Worker was destroyed"));return}const ht=new LoopbackPort;this._port=ht;const vt=`fake${PDFWorkerUtil.fakeWorkerId++}`,At=new MessageHandler(vt+"_worker",vt,ht);$.setup(At,ht);const St=new MessageHandler(vt,vt+"_worker",ht);this._messageHandler=St,this._readyCapability.resolve(),St.send("configure",{verbosity:this.verbosity})}).catch($=>{this._readyCapability.reject(new Error(`Setting up fake worker failed: "${$.message}".`))})}destroy(){var $;this.destroyed=!0,this._webWorker&&(this._webWorker.terminate(),this._webWorker=null),($=Mt(Vo,_d))==null||$.delete(this._port),this._port=null,this._messageHandler&&(this._messageHandler.destroy(),this._messageHandler=null)}static fromPort($){var vt;if(!($!=null&&$.port))throw new Error("PDFWorker.fromPort - invalid method signature.");const ht=(vt=Mt(this,_d))==null?void 0:vt.get($.port);if(ht){if(ht._pendingDestroy)throw new Error("PDFWorker.fromPort - the worker is being destroyed.\nPlease remember to await `PDFDocumentLoadingTask.destroy()`-calls.");return ht}return new Vo($)}static get workerSrc(){if(GlobalWorkerOptions.workerSrc)return GlobalWorkerOptions.workerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}static get _setupFakeWorkerGlobal(){return shadow(this,"_setupFakeWorkerGlobal",(async()=>Mt(this,mp,o2)?Mt(this,mp,o2):(await import(this.workerSrc)).WorkerMessageHandler)())}};_d=new WeakMap,mp=new WeakSet,o2=function(){var $;try{return(($=globalThis.pdfjsWorker)==null?void 0:$.WorkerMessageHandler)||null}catch{return null}},Nn(Vo,mp),Nn(Vo,_d);let PDFWorker=Vo;var T0,Ql,xp,bp,_c,_f,em;class WorkerTransport{constructor($,ht,vt,At,St){Nn(this,_f);Nn(this,T0,new Map);Nn(this,Ql,new Map);Nn(this,xp,new Map);Nn(this,bp,new Map);Nn(this,_c,null);this.messageHandler=$,this.loadingTask=ht,this.commonObjs=new PDFObjects,this.fontLoader=new FontLoader({ownerDocument:At.ownerDocument,styleElement:At.styleElement}),this.loadingParams=At.loadingParams,this._params=At,this.canvasFactory=St.canvasFactory,this.filterFactory=St.filterFactory,this.cMapReaderFactory=St.cMapReaderFactory,this.standardFontDataFactory=St.standardFontDataFactory,this.destroyed=!1,this.destroyCapability=null,this._networkStream=vt,this._fullReader=null,this._lastProgress=null,this.downloadInfoCapability=Promise.withResolvers(),this.setupMessageHandler()}get annotationStorage(){return shadow(this,"annotationStorage",new AnnotationStorage)}getRenderingIntent($,ht=AnnotationMode.ENABLE,vt=null,At=!1){let St=RenderingIntentFlag.DISPLAY,Ct=SerializableEmpty;switch($){case"any":St=RenderingIntentFlag.ANY;break;case"display":break;case"print":St=RenderingIntentFlag.PRINT;break;default:warn(`getRenderingIntent - invalid intent: ${$}`)}switch(ht){case AnnotationMode.DISABLE:St+=RenderingIntentFlag.ANNOTATIONS_DISABLE;break;case AnnotationMode.ENABLE:break;case AnnotationMode.ENABLE_FORMS:St+=RenderingIntentFlag.ANNOTATIONS_FORMS;break;case AnnotationMode.ENABLE_STORAGE:St+=RenderingIntentFlag.ANNOTATIONS_STORAGE,Ct=(St&RenderingIntentFlag.PRINT&&vt instanceof PrintAnnotationStorage?vt:this.annotationStorage).serializable;break;default:warn(`getRenderingIntent - invalid annotationMode: ${ht}`)}return At&&(St+=RenderingIntentFlag.OPLIST),{renderingIntent:St,cacheKey:`${St}_${Ct.hash}`,annotationStorageSerializable:Ct}}destroy(){var vt;if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=Promise.withResolvers(),(vt=Mt(this,_c))==null||vt.reject(new Error("Worker was destroyed during onPassword callback"));const $=[];for(const At of Mt(this,Ql).values())$.push(At._destroy());Mt(this,Ql).clear(),Mt(this,xp).clear(),Mt(this,bp).clear(),this.hasOwnProperty("annotationStorage")&&this.annotationStorage.resetModified();const ht=this.messageHandler.sendWithPromise("Terminate",null);return $.push(ht),Promise.all($).then(()=>{var At;this.commonObjs.clear(),this.fontLoader.clear(),Mt(this,T0).clear(),this.filterFactory.destroy(),TextLayer.cleanup(),(At=this._networkStream)==null||At.cancelAllRequests(new AbortException("Worker was terminated.")),this.messageHandler&&(this.messageHandler.destroy(),this.messageHandler=null),this.destroyCapability.resolve()},this.destroyCapability.reject),this.destroyCapability.promise}setupMessageHandler(){const{messageHandler:$,loadingTask:ht}=this;$.on("GetReader",(vt,At)=>{assert(this._networkStream,"GetReader - no `IPDFStream` instance available."),this._fullReader=this._networkStream.getFullReader(),this._fullReader.onProgress=St=>{this._lastProgress={loaded:St.loaded,total:St.total}},At.onPull=()=>{this._fullReader.read().then(function({value:St,done:Ct}){if(Ct){At.close();return}assert(St instanceof ArrayBuffer,"GetReader - expected an ArrayBuffer."),At.enqueue(new Uint8Array(St),1,[St])}).catch(St=>{At.error(St)})},At.onCancel=St=>{this._fullReader.cancel(St),At.ready.catch(Ct=>{if(!this.destroyed)throw Ct})}}),$.on("ReaderHeadersReady",vt=>{const At=Promise.withResolvers(),St=this._fullReader;return St.headersReady.then(()=>{var Ct;(!St.isStreamingSupported||!St.isRangeSupported)&&(this._lastProgress&&((Ct=ht.onProgress)==null||Ct.call(ht,this._lastProgress)),St.onProgress=Et=>{var Ft;(Ft=ht.onProgress)==null||Ft.call(ht,{loaded:Et.loaded,total:Et.total})}),At.resolve({isStreamingSupported:St.isStreamingSupported,isRangeSupported:St.isRangeSupported,contentLength:St.contentLength})},At.reject),At.promise}),$.on("GetRangeReader",(vt,At)=>{assert(this._networkStream,"GetRangeReader - no `IPDFStream` instance available.");const St=this._networkStream.getRangeReader(vt.begin,vt.end);if(!St){At.close();return}At.onPull=()=>{St.read().then(function({value:Ct,done:Et}){if(Et){At.close();return}assert(Ct instanceof ArrayBuffer,"GetRangeReader - expected an ArrayBuffer."),At.enqueue(new Uint8Array(Ct),1,[Ct])}).catch(Ct=>{At.error(Ct)})},At.onCancel=Ct=>{St.cancel(Ct),At.ready.catch(Et=>{if(!this.destroyed)throw Et})}}),$.on("GetDoc",({pdfInfo:vt})=>{this._numPages=vt.numPages,this._htmlForXfa=vt.htmlForXfa,delete vt.htmlForXfa,ht._capability.resolve(new PDFDocumentProxy(vt,this))}),$.on("DocException",function(vt){let At;switch(vt.name){case"PasswordException":At=new PasswordException(vt.message,vt.code);break;case"InvalidPDFException":At=new InvalidPDFException(vt.message);break;case"MissingPDFException":At=new MissingPDFException(vt.message);break;case"UnexpectedResponseException":At=new UnexpectedResponseException(vt.message,vt.status);break;case"UnknownErrorException":At=new UnknownErrorException(vt.message,vt.details);break;default:unreachable("DocException - expected a valid Error.")}ht._capability.reject(At)}),$.on("PasswordRequest",vt=>{if($n(this,_c,Promise.withResolvers()),ht.onPassword){const At=St=>{St instanceof Error?Mt(this,_c).reject(St):Mt(this,_c).resolve({password:St})};try{ht.onPassword(At,vt.code)}catch(St){Mt(this,_c).reject(St)}}else Mt(this,_c).reject(new PasswordException(vt.message,vt.code));return Mt(this,_c).promise}),$.on("DataLoaded",vt=>{var At;(At=ht.onProgress)==null||At.call(ht,{loaded:vt.length,total:vt.length}),this.downloadInfoCapability.resolve(vt)}),$.on("StartRenderPage",vt=>{if(this.destroyed)return;Mt(this,Ql).get(vt.pageIndex)._startRenderPage(vt.transparency,vt.cacheKey)}),$.on("commonobj",([vt,At,St])=>{var Ct;if(this.destroyed||this.commonObjs.has(vt))return null;switch(At){case"Font":const{disableFontFace:Et,fontExtraProperties:Ft,pdfBug:wt}=this._params;if("error"in St){const bt=St.error;warn(`Error during font loading: ${bt}`),this.commonObjs.resolve(vt,bt);break}const _t=wt&&((Ct=globalThis.FontInspector)!=null&&Ct.enabled)?(bt,Pt)=>globalThis.FontInspector.fontAdded(bt,Pt):null,Rt=new FontFaceObject(St,{disableFontFace:Et,inspectFont:_t});this.fontLoader.bind(Rt).catch(()=>$.sendWithPromise("FontFallback",{id:vt})).finally(()=>{!Ft&&Rt.data&&(Rt.data=null),this.commonObjs.resolve(vt,Rt)});break;case"CopyLocalImage":const{imageRef:_e}=St;assert(_e,"The imageRef must be defined.");for(const bt of Mt(this,Ql).values())for(const[,Pt]of bt.objs)if((Pt==null?void 0:Pt.ref)===_e)return Pt.dataLen?(this.commonObjs.resolve(vt,structuredClone(Pt)),Pt.dataLen):null;break;case"FontPath":case"Image":case"Pattern":this.commonObjs.resolve(vt,St);break;default:throw new Error(`Got unknown common object type ${At}`)}return null}),$.on("obj",([vt,At,St,Ct])=>{var Ft;if(this.destroyed)return;const Et=Mt(this,Ql).get(At);if(!Et.objs.has(vt)){if(Et._intentStates.size===0){(Ft=Ct==null?void 0:Ct.bitmap)==null||Ft.close();return}switch(St){case"Image":Et.objs.resolve(vt,Ct),(Ct==null?void 0:Ct.dataLen)>MAX_IMAGE_SIZE_TO_CACHE&&(Et._maybeCleanupAfterRender=!0);break;case"Pattern":Et.objs.resolve(vt,Ct);break;default:throw new Error(`Got unknown object type ${St}`)}}}),$.on("DocProgress",vt=>{var At;this.destroyed||(At=ht.onProgress)==null||At.call(ht,{loaded:vt.loaded,total:vt.total})}),$.on("FetchBuiltInCMap",vt=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.cMapReaderFactory?this.cMapReaderFactory.fetch(vt):Promise.reject(new Error("CMapReaderFactory not initialized, see the `useWorkerFetch` parameter."))),$.on("FetchStandardFontData",vt=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.standardFontDataFactory?this.standardFontDataFactory.fetch(vt):Promise.reject(new Error("StandardFontDataFactory not initialized, see the `useWorkerFetch` parameter.")))}getData(){return this.messageHandler.sendWithPromise("GetData",null)}saveDocument(){var vt;this.annotationStorage.size<=0&&warn("saveDocument called while `annotationStorage` is empty, please use the getData-method instead.");const{map:$,transfer:ht}=this.annotationStorage.serializable;return this.messageHandler.sendWithPromise("SaveDocument",{isPureXfa:!!this._htmlForXfa,numPages:this._numPages,annotationStorage:$,filename:((vt=this._fullReader)==null?void 0:vt.filename)??null},ht).finally(()=>{this.annotationStorage.resetModified()})}getPage($){if(!Number.isInteger($)||$<=0||$>this._numPages)return Promise.reject(new Error("Invalid page request."));const ht=$-1,vt=Mt(this,xp).get(ht);if(vt)return vt;const At=this.messageHandler.sendWithPromise("GetPage",{pageIndex:ht}).then(St=>{if(this.destroyed)throw new Error("Transport destroyed");St.refStr&&Mt(this,bp).set(St.refStr,$);const Ct=new PDFPageProxy(ht,St,this,this._params.pdfBug);return Mt(this,Ql).set(ht,Ct),Ct});return Mt(this,xp).set(ht,At),At}getPageIndex($){return isRefProxy($)?this.messageHandler.sendWithPromise("GetPageIndex",{num:$.num,gen:$.gen}):Promise.reject(new Error("Invalid pageIndex request."))}getAnnotations($,ht){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:$,intent:ht})}getFieldObjects(){return Mn(this,_f,em).call(this,"GetFieldObjects")}hasJSActions(){return Mn(this,_f,em).call(this,"HasJSActions")}getCalculationOrderIds(){return this.messageHandler.sendWithPromise("GetCalculationOrderIds",null)}getDestinations(){return this.messageHandler.sendWithPromise("GetDestinations",null)}getDestination($){return typeof $!="string"?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:$})}getPageLabels(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}getPageLayout(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}getPageMode(){return this.messageHandler.sendWithPromise("GetPageMode",null)}getViewerPreferences(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}getOpenAction(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}getAttachments(){return this.messageHandler.sendWithPromise("GetAttachments",null)}getDocJSActions(){return Mn(this,_f,em).call(this,"GetDocJSActions")}getPageJSActions($){return this.messageHandler.sendWithPromise("GetPageJSActions",{pageIndex:$})}getStructTree($){return this.messageHandler.sendWithPromise("GetStructTree",{pageIndex:$})}getOutline(){return this.messageHandler.sendWithPromise("GetOutline",null)}getOptionalContentConfig($){return Mn(this,_f,em).call(this,"GetOptionalContentConfig").then(ht=>new OptionalContentConfig(ht,$))}getPermissions(){return this.messageHandler.sendWithPromise("GetPermissions",null)}getMetadata(){const $="GetMetadata",ht=Mt(this,T0).get($);if(ht)return ht;const vt=this.messageHandler.sendWithPromise($,null).then(At=>{var St,Ct;return{info:At[0],metadata:At[1]?new Metadata(At[1]):null,contentDispositionFilename:((St=this._fullReader)==null?void 0:St.filename)??null,contentLength:((Ct=this._fullReader)==null?void 0:Ct.contentLength)??null}});return Mt(this,T0).set($,vt),vt}getMarkInfo(){return this.messageHandler.sendWithPromise("GetMarkInfo",null)}async startCleanup($=!1){if(!this.destroyed){await this.messageHandler.sendWithPromise("Cleanup",null);for(const ht of Mt(this,Ql).values())if(!ht.cleanup())throw new Error(`startCleanup: Page ${ht.pageNumber} is currently rendering.`);this.commonObjs.clear(),$||this.fontLoader.clear(),Mt(this,T0).clear(),this.filterFactory.destroy(!0),TextLayer.cleanup()}}cachedPageNumber($){if(!isRefProxy($))return null;const ht=$.gen===0?`${$.num}R`:`${$.num}R${$.gen}`;return Mt(this,bp).get(ht)??null}}T0=new WeakMap,Ql=new WeakMap,xp=new WeakMap,bp=new WeakMap,_c=new WeakMap,_f=new WeakSet,em=function($,ht=null){const vt=Mt(this,T0).get($);if(vt)return vt;const At=this.messageHandler.sendWithPromise($,ht);return Mt(this,T0).set($,At),At};const INITIAL_DATA=Symbol("INITIAL_DATA");var Dl,ax,$9;class PDFObjects{constructor(){Nn(this,ax);Nn(this,Dl,Object.create(null))}get($,ht=null){if(ht){const At=Mn(this,ax,$9).call(this,$);return At.promise.then(()=>ht(At.data)),null}const vt=Mt(this,Dl)[$];if(!vt||vt.data===INITIAL_DATA)throw new Error(`Requesting object that isn't resolved yet ${$}.`);return vt.data}has($){const ht=Mt(this,Dl)[$];return!!ht&&ht.data!==INITIAL_DATA}resolve($,ht=null){const vt=Mn(this,ax,$9).call(this,$);vt.data=ht,vt.resolve()}clear(){var $;for(const ht in Mt(this,Dl)){const{data:vt}=Mt(this,Dl)[ht];($=vt==null?void 0:vt.bitmap)==null||$.close()}$n(this,Dl,Object.create(null))}*[Symbol.iterator](){for(const $ in Mt(this,Dl)){const{data:ht}=Mt(this,Dl)[$];ht!==INITIAL_DATA&&(yield[$,ht])}}}Dl=new WeakMap,ax=new WeakSet,$9=function($){var ht;return(ht=Mt(this,Dl))[$]||(ht[$]={...Promise.withResolvers(),data:INITIAL_DATA})};var au;class RenderTask{constructor($){Nn(this,au,null);$n(this,au,$),this.onContinue=null}get promise(){return Mt(this,au).capability.promise}cancel($=0){Mt(this,au).cancel(null,$)}get separateAnnots(){const{separateAnnots:$}=Mt(this,au).operatorList;if(!$)return!1;const{annotationCanvasMap:ht}=Mt(this,au);return $.form||$.canvas&&(ht==null?void 0:ht.size)>0}}au=new WeakMap;var e1;const Iu=class Iu{constructor({callback:$,params:ht,objs:vt,commonObjs:At,annotationCanvasMap:St,operatorList:Ct,pageIndex:Et,canvasFactory:Ft,filterFactory:wt,useRequestAnimationFrame:_t=!1,pdfBug:Rt=!1,pageColors:_e=null}){this.callback=$,this.params=ht,this.objs=vt,this.commonObjs=At,this.annotationCanvasMap=St,this.operatorListIdx=null,this.operatorList=Ct,this._pageIndex=Et,this.canvasFactory=Ft,this.filterFactory=wt,this._pdfBug=Rt,this.pageColors=_e,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=_t===!0&&typeof window<"u",this.cancelled=!1,this.capability=Promise.withResolvers(),this.task=new RenderTask(this),this._cancelBound=this.cancel.bind(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=ht.canvasContext.canvas}get completed(){return this.capability.promise.catch(function(){})}initializeGraphics({transparency:$=!1,optionalContentConfig:ht}){var Et,Ft;if(this.cancelled)return;if(this._canvas){if(Mt(Iu,e1).has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");Mt(Iu,e1).add(this._canvas)}this._pdfBug&&((Et=globalThis.StepperManager)!=null&&Et.enabled)&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());const{canvasContext:vt,viewport:At,transform:St,background:Ct}=this.params;this.gfx=new CanvasGraphics(vt,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:ht},this.annotationCanvasMap,this.pageColors),this.gfx.beginDrawing({transform:St,viewport:At,transparency:$,background:Ct}),this.operatorListIdx=0,this.graphicsReady=!0,(Ft=this.graphicsReadyCallback)==null||Ft.call(this)}cancel($=null,ht=0){var vt;this.running=!1,this.cancelled=!0,(vt=this.gfx)==null||vt.endDrawing(),Mt(Iu,e1).delete(this._canvas),this.callback($||new RenderingCancelledException(`Rendering cancelled, page ${this._pageIndex+1}`,ht))}operatorListChanged(){var $;if(!this.graphicsReady){this.graphicsReadyCallback||(this.graphicsReadyCallback=this._continueBound);return}($=this.stepper)==null||$.updateOperatorList(this.operatorList),!this.running&&this._continue()}_continue(){this.running=!0,!this.cancelled&&(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}_scheduleNext(){this._useRequestAnimationFrame?window.requestAnimationFrame(()=>{this._nextBound().catch(this._cancelBound)}):Promise.resolve().then(this._nextBound).catch(this._cancelBound)}async _next(){this.cancelled||(this.operatorListIdx=this.gfx.executeOperatorList(this.operatorList,this.operatorListIdx,this._continueBound,this.stepper),this.operatorListIdx===this.operatorList.argsArray.length&&(this.running=!1,this.operatorList.lastChunk&&(this.gfx.endDrawing(),Mt(Iu,e1).delete(this._canvas),this.callback())))}};e1=new WeakMap,Nn(Iu,e1,new WeakSet);let InternalRenderTask=Iu;const version="4.3.136",build="0cec64437";function makeColorComp(xt){return Math.floor(Math.max(0,Math.min(1,xt))*255).toString(16).padStart(2,"0")}function scaleAndClamp(xt){return Math.max(0,Math.min(255,255*xt))}class ColorConverters{static CMYK_G([$,ht,vt,At]){return["G",1-Math.min(1,.3*$+.59*vt+.11*ht+At)]}static G_CMYK([$]){return["CMYK",0,0,0,1-$]}static G_RGB([$]){return["RGB",$,$,$]}static G_rgb([$]){return $=scaleAndClamp($),[$,$,$]}static G_HTML([$]){const ht=makeColorComp($);return`#${ht}${ht}${ht}`}static RGB_G([$,ht,vt]){return["G",.3*$+.59*ht+.11*vt]}static RGB_rgb($){return $.map(scaleAndClamp)}static RGB_HTML($){return`#${$.map(makeColorComp).join("")}`}static T_HTML(){return"#00000000"}static T_rgb(){return[null]}static CMYK_RGB([$,ht,vt,At]){return["RGB",1-Math.min(1,$+At),1-Math.min(1,vt+At),1-Math.min(1,ht+At)]}static CMYK_rgb([$,ht,vt,At]){return[scaleAndClamp(1-Math.min(1,$+At)),scaleAndClamp(1-Math.min(1,vt+At)),scaleAndClamp(1-Math.min(1,ht+At))]}static CMYK_HTML($){const ht=this.CMYK_RGB($).slice(1);return this.RGB_HTML(ht)}static RGB_CMYK([$,ht,vt]){const At=1-$,St=1-ht,Ct=1-vt,Et=Math.min(At,St,Ct);return["CMYK",At,St,Ct,Et]}}class XfaLayer{static setupStorage($,ht,vt,At,St){const Ct=At.getValue(ht,{value:null});switch(vt.name){case"textarea":if(Ct.value!==null&&($.textContent=Ct.value),St==="print")break;$.addEventListener("input",Et=>{At.setValue(ht,{value:Et.target.value})});break;case"input":if(vt.attributes.type==="radio"||vt.attributes.type==="checkbox"){if(Ct.value===vt.attributes.xfaOn?$.setAttribute("checked",!0):Ct.value===vt.attributes.xfaOff&&$.removeAttribute("checked"),St==="print")break;$.addEventListener("change",Et=>{At.setValue(ht,{value:Et.target.checked?Et.target.getAttribute("xfaOn"):Et.target.getAttribute("xfaOff")})})}else{if(Ct.value!==null&&$.setAttribute("value",Ct.value),St==="print")break;$.addEventListener("input",Et=>{At.setValue(ht,{value:Et.target.value})})}break;case"select":if(Ct.value!==null){$.setAttribute("value",Ct.value);for(const Et of vt.children)Et.attributes.value===Ct.value?Et.attributes.selected=!0:Et.attributes.hasOwnProperty("selected")&&delete Et.attributes.selected}$.addEventListener("input",Et=>{const Ft=Et.target.options,wt=Ft.selectedIndex===-1?"":Ft[Ft.selectedIndex].value;At.setValue(ht,{value:wt})});break}}static setAttributes({html:$,element:ht,storage:vt=null,intent:At,linkService:St}){const{attributes:Ct}=ht,Et=$ instanceof HTMLAnchorElement;Ct.type==="radio"&&(Ct.name=`${Ct.name}-${At}`);for(const[Ft,wt]of Object.entries(Ct))if(wt!=null)switch(Ft){case"class":wt.length&&$.setAttribute(Ft,wt.join(" "));break;case"dataId":break;case"id":$.setAttribute("data-element-id",wt);break;case"style":Object.assign($.style,wt);break;case"textContent":$.textContent=wt;break;default:(!Et||Ft!=="href"&&Ft!=="newWindow")&&$.setAttribute(Ft,wt)}Et&&St.addLinkAttributes($,Ct.href,Ct.newWindow),vt&&Ct.dataId&&this.setupStorage($,Ct.dataId,ht,vt)}static render($){var Rt,_e;const ht=$.annotationStorage,vt=$.linkService,At=$.xfaHtml,St=$.intent||"display",Ct=document.createElement(At.name);At.attributes&&this.setAttributes({html:Ct,element:At,intent:St,linkService:vt});const Et=St!=="richText",Ft=$.div;if(Ft.append(Ct),$.viewport){const bt=`matrix(${$.viewport.transform.join(",")})`;Ft.style.transform=bt}Et&&Ft.setAttribute("class","xfaLayer xfaFont");const wt=[];if(At.children.length===0){if(At.value){const bt=document.createTextNode(At.value);Ct.append(bt),Et&&XfaText.shouldBuildText(At.name)&&wt.push(bt)}return{textDivs:wt}}const _t=[[At,-1,Ct]];for(;_t.length>0;){const[bt,Pt,Xt]=_t.at(-1);if(Pt+1===bt.children.length){_t.pop();continue}const Kt=bt.children[++_t.at(-1)[1]];if(Kt===null)continue;const{name:Nt}=Kt;if(Nt==="#text"){const Lt=document.createTextNode(Kt.value);wt.push(Lt),Xt.append(Lt);continue}const $t=(Rt=Kt==null?void 0:Kt.attributes)!=null&&Rt.xmlns?document.createElementNS(Kt.attributes.xmlns,Nt):document.createElement(Nt);if(Xt.append($t),Kt.attributes&&this.setAttributes({html:$t,element:Kt,storage:ht,intent:St,linkService:vt}),((_e=Kt.children)==null?void 0:_e.length)>0)_t.push([Kt,-1,$t]);else if(Kt.value){const Lt=document.createTextNode(Kt.value);Et&&XfaText.shouldBuildText(Nt)&&wt.push(Lt),$t.append(Lt)}}for(const bt of Ft.querySelectorAll(".xfaNonInteractive input, .xfaNonInteractive textarea"))bt.setAttribute("readOnly",!0);return{textDivs:wt}}static update($){const ht=`matrix(${$.viewport.transform.join(",")})`;$.div.style.transform=ht,$.div.hidden=!1}}const DEFAULT_TAB_INDEX=1e3,annotation_layer_DEFAULT_FONT_SIZE=9,GetElementsByNameSet=new WeakSet;function getRectDims(xt){return{width:xt[2]-xt[0],height:xt[3]-xt[1]}}class AnnotationElementFactory{static create($){switch($.data.annotationType){case AnnotationType.LINK:return new LinkAnnotationElement($);case AnnotationType.TEXT:return new TextAnnotationElement($);case AnnotationType.WIDGET:switch($.data.fieldType){case"Tx":return new TextWidgetAnnotationElement($);case"Btn":return $.data.radioButton?new RadioButtonWidgetAnnotationElement($):$.data.checkBox?new CheckboxWidgetAnnotationElement($):new PushButtonWidgetAnnotationElement($);case"Ch":return new ChoiceWidgetAnnotationElement($);case"Sig":return new SignatureWidgetAnnotationElement($)}return new WidgetAnnotationElement($);case AnnotationType.POPUP:return new PopupAnnotationElement($);case AnnotationType.FREETEXT:return new FreeTextAnnotationElement($);case AnnotationType.LINE:return new LineAnnotationElement($);case AnnotationType.SQUARE:return new SquareAnnotationElement($);case AnnotationType.CIRCLE:return new CircleAnnotationElement($);case AnnotationType.POLYLINE:return new PolylineAnnotationElement($);case AnnotationType.CARET:return new CaretAnnotationElement($);case AnnotationType.INK:return new InkAnnotationElement($);case AnnotationType.POLYGON:return new PolygonAnnotationElement($);case AnnotationType.HIGHLIGHT:return new HighlightAnnotationElement($);case AnnotationType.UNDERLINE:return new UnderlineAnnotationElement($);case AnnotationType.SQUIGGLY:return new SquigglyAnnotationElement($);case AnnotationType.STRIKEOUT:return new StrikeOutAnnotationElement($);case AnnotationType.STAMP:return new StampAnnotationElement($);case AnnotationType.FILEATTACHMENT:return new FileAttachmentAnnotationElement($);default:return new AnnotationElement($)}}}var t1,yp,vp,ox,j9;const ny=class ny{constructor($,{isRenderable:ht=!1,ignoreBorder:vt=!1,createQuadrilaterals:At=!1}={}){Nn(this,ox);Nn(this,t1,null);Nn(this,yp,!1);Nn(this,vp,null);this.isRenderable=ht,this.data=$.data,this.layer=$.layer,this.linkService=$.linkService,this.downloadManager=$.downloadManager,this.imageResourcesPath=$.imageResourcesPath,this.renderForms=$.renderForms,this.svgFactory=$.svgFactory,this.annotationStorage=$.annotationStorage,this.enableScripting=$.enableScripting,this.hasJSActions=$.hasJSActions,this._fieldObjects=$.fieldObjects,this.parent=$.parent,ht&&(this.container=this._createContainer(vt)),At&&this._createQuadrilaterals()}static _hasPopupData({titleObj:$,contentsObj:ht,richText:vt}){return!!($!=null&&$.str||ht!=null&&ht.str||vt!=null&&vt.str)}get hasPopupData(){return ny._hasPopupData(this.data)}updateEdited($){var vt;if(!this.container)return;Mt(this,t1)||$n(this,t1,{rect:this.data.rect.slice(0)});const{rect:ht}=$;ht&&Mn(this,ox,j9).call(this,ht),(vt=Mt(this,vp))==null||vt.popup.updateEdited($)}resetEdited(){var $;Mt(this,t1)&&(Mn(this,ox,j9).call(this,Mt(this,t1).rect),($=Mt(this,vp))==null||$.popup.resetEdited(),$n(this,t1,null))}_createContainer($){const{data:ht,parent:{page:vt,viewport:At}}=this,St=document.createElement("section");St.setAttribute("data-annotation-id",ht.id),this instanceof WidgetAnnotationElement||(St.tabIndex=DEFAULT_TAB_INDEX);const{style:Ct}=St;if(Ct.zIndex=this.parent.zIndex++,ht.popupRef&&St.setAttribute("aria-haspopup","dialog"),ht.alternativeText&&(St.title=ht.alternativeText),ht.noRotate&&St.classList.add("norotate"),!ht.rect||this instanceof PopupAnnotationElement){const{rotation:Xt}=ht;return!ht.hasOwnCanvas&&Xt!==0&&this.setRotation(Xt,St),St}const{width:Et,height:Ft}=getRectDims(ht.rect);if(!$&&ht.borderStyle.width>0){Ct.borderWidth=`${ht.borderStyle.width}px`;const Xt=ht.borderStyle.horizontalCornerRadius,Kt=ht.borderStyle.verticalCornerRadius;if(Xt>0||Kt>0){const $t=`calc(${Xt}px * var(--scale-factor)) / calc(${Kt}px * var(--scale-factor))`;Ct.borderRadius=$t}else if(this instanceof RadioButtonWidgetAnnotationElement){const $t=`calc(${Et}px * var(--scale-factor)) / calc(${Ft}px * var(--scale-factor))`;Ct.borderRadius=$t}switch(ht.borderStyle.style){case AnnotationBorderStyleType.SOLID:Ct.borderStyle="solid";break;case AnnotationBorderStyleType.DASHED:Ct.borderStyle="dashed";break;case AnnotationBorderStyleType.BEVELED:warn("Unimplemented border style: beveled");break;case AnnotationBorderStyleType.INSET:warn("Unimplemented border style: inset");break;case AnnotationBorderStyleType.UNDERLINE:Ct.borderBottomStyle="solid";break}const Nt=ht.borderColor||null;Nt?($n(this,yp,!0),Ct.borderColor=Util.makeHexColor(Nt[0]|0,Nt[1]|0,Nt[2]|0)):Ct.borderWidth=0}const wt=Util.normalizeRect([ht.rect[0],vt.view[3]-ht.rect[1]+vt.view[1],ht.rect[2],vt.view[3]-ht.rect[3]+vt.view[1]]),{pageWidth:_t,pageHeight:Rt,pageX:_e,pageY:bt}=At.rawDims;Ct.left=`${100*(wt[0]-_e)/_t}%`,Ct.top=`${100*(wt[1]-bt)/Rt}%`;const{rotation:Pt}=ht;return ht.hasOwnCanvas||Pt===0?(Ct.width=`${100*Et/_t}%`,Ct.height=`${100*Ft/Rt}%`):this.setRotation(Pt,St),St}setRotation($,ht=this.container){if(!this.data.rect)return;const{pageWidth:vt,pageHeight:At}=this.parent.viewport.rawDims,{width:St,height:Ct}=getRectDims(this.data.rect);let Et,Ft;$%180===0?(Et=100*St/vt,Ft=100*Ct/At):(Et=100*Ct/vt,Ft=100*St/At),ht.style.width=`${Et}%`,ht.style.height=`${Ft}%`,ht.setAttribute("data-main-rotation",(360-$)%360)}get _commonActions(){const $=(ht,vt,At)=>{const St=At.detail[ht],Ct=St[0],Et=St.slice(1);At.target.style[vt]=ColorConverters[`${Ct}_HTML`](Et),this.annotationStorage.setValue(this.data.id,{[vt]:ColorConverters[`${Ct}_rgb`](Et)})};return shadow(this,"_commonActions",{display:ht=>{const{display:vt}=ht.detail,At=vt%2===1;this.container.style.visibility=At?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noView:At,noPrint:vt===1||vt===2})},print:ht=>{this.annotationStorage.setValue(this.data.id,{noPrint:!ht.detail.print})},hidden:ht=>{const{hidden:vt}=ht.detail;this.container.style.visibility=vt?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noPrint:vt,noView:vt})},focus:ht=>{setTimeout(()=>ht.target.focus({preventScroll:!1}),0)},userName:ht=>{ht.target.title=ht.detail.userName},readonly:ht=>{ht.target.disabled=ht.detail.readonly},required:ht=>{this._setRequired(ht.target,ht.detail.required)},bgColor:ht=>{$("bgColor","backgroundColor",ht)},fillColor:ht=>{$("fillColor","backgroundColor",ht)},fgColor:ht=>{$("fgColor","color",ht)},textColor:ht=>{$("textColor","color",ht)},borderColor:ht=>{$("borderColor","borderColor",ht)},strokeColor:ht=>{$("strokeColor","borderColor",ht)},rotation:ht=>{const vt=ht.detail.rotation;this.setRotation(vt),this.annotationStorage.setValue(this.data.id,{rotation:vt})}})}_dispatchEventFromSandbox($,ht){const vt=this._commonActions;for(const At of Object.keys(ht.detail)){const St=$[At]||vt[At];St==null||St(ht)}}_setDefaultPropertiesFromJS($){if(!this.enableScripting)return;const ht=this.annotationStorage.getRawValue(this.data.id);if(!ht)return;const vt=this._commonActions;for(const[At,St]of Object.entries(ht)){const Ct=vt[At];if(Ct){const Et={detail:{[At]:St},target:$};Ct(Et),delete ht[At]}}}_createQuadrilaterals(){if(!this.container)return;const{quadPoints:$}=this.data;if(!$)return;const[ht,vt,At,St]=this.data.rect;if($.length===1){const[,{x:Xt,y:Kt},{x:Nt,y:$t}]=$[0];if(At===Xt&&St===Kt&&ht===Nt&&vt===$t)return}const{style:Ct}=this.container;let Et;if(Mt(this,yp)){const{borderColor:Xt,borderWidth:Kt}=Ct;Ct.borderWidth=0,Et=["url('data:image/svg+xml;utf8,",'<svg xmlns="http://www.w3.org/2000/svg"',' preserveAspectRatio="none" viewBox="0 0 1 1">',`<g fill="transparent" stroke="${Xt}" stroke-width="${Kt}">`],this.container.classList.add("hasBorder")}const Ft=At-ht,wt=St-vt,{svgFactory:_t}=this,Rt=_t.createElement("svg");Rt.classList.add("quadrilateralsContainer"),Rt.setAttribute("width",0),Rt.setAttribute("height",0);const _e=_t.createElement("defs");Rt.append(_e);const bt=_t.createElement("clipPath"),Pt=`clippath_${this.data.id}`;bt.setAttribute("id",Pt),bt.setAttribute("clipPathUnits","objectBoundingBox"),_e.append(bt);for(const[,{x:Xt,y:Kt},{x:Nt,y:$t}]of $){const Lt=_t.createElement("rect"),jt=(Nt-ht)/Ft,kt=(St-Kt)/wt,qt=(Xt-Nt)/Ft,Bt=(Kt-$t)/wt;Lt.setAttribute("x",jt),Lt.setAttribute("y",kt),Lt.setAttribute("width",qt),Lt.setAttribute("height",Bt),bt.append(Lt),Et==null||Et.push(`<rect vector-effect="non-scaling-stroke" x="${jt}" y="${kt}" width="${qt}" height="${Bt}"/>`)}Mt(this,yp)&&(Et.push("</g></svg>')"),Ct.backgroundImage=Et.join("")),this.container.append(Rt),this.container.style.clipPath=`url(#${Pt})`}_createPopup(){const{container:$,data:ht}=this;$.setAttribute("aria-haspopup","dialog");const vt=$n(this,vp,new PopupAnnotationElement({data:{color:ht.color,titleObj:ht.titleObj,modificationDate:ht.modificationDate,contentsObj:ht.contentsObj,richText:ht.richText,parentRect:ht.rect,borderStyle:0,id:`popup_${ht.id}`,rotation:ht.rotation},parent:this.parent,elements:[this]}));this.parent.div.append(vt.render())}render(){unreachable("Abstract method `AnnotationElement.render` called")}_getElementsByName($,ht=null){const vt=[];if(this._fieldObjects){const At=this._fieldObjects[$];if(At)for(const{page:St,id:Ct,exportValues:Et}of At){if(St===-1||Ct===ht)continue;const Ft=typeof Et=="string"?Et:null,wt=document.querySelector(`[data-element-id="${Ct}"]`);if(wt&&!GetElementsByNameSet.has(wt)){warn(`_getElementsByName - element not allowed: ${Ct}`);continue}vt.push({id:Ct,exportValue:Ft,domElement:wt})}return vt}for(const At of document.getElementsByName($)){const{exportValue:St}=At,Ct=At.getAttribute("data-element-id");Ct!==ht&&GetElementsByNameSet.has(At)&&vt.push({id:Ct,exportValue:St,domElement:At})}return vt}show(){var $;this.container&&(this.container.hidden=!1),($=this.popup)==null||$.maybeShow()}hide(){var $;this.container&&(this.container.hidden=!0),($=this.popup)==null||$.forceHide()}getElementsToTriggerPopup(){return this.container}addHighlightArea(){const $=this.getElementsToTriggerPopup();if(Array.isArray($))for(const ht of $)ht.classList.add("highlightArea");else $.classList.add("highlightArea")}get _isEditable(){return!1}_editOnDoubleClick(){if(!this._isEditable)return;const{annotationEditorType:$,data:{id:ht}}=this;this.container.addEventListener("dblclick",()=>{var vt;(vt=this.linkService.eventBus)==null||vt.dispatch("switchannotationeditormode",{source:this,mode:$,editId:ht})})}};t1=new WeakMap,yp=new WeakMap,vp=new WeakMap,ox=new WeakSet,j9=function($){const{container:{style:ht},data:{rect:vt,rotation:At},parent:{viewport:{rawDims:{pageWidth:St,pageHeight:Ct,pageX:Et,pageY:Ft}}}}=this;vt==null||vt.splice(0,4,...$);const{width:wt,height:_t}=getRectDims($);ht.left=`${100*($[0]-Et)/St}%`,ht.top=`${100*(Ct-$[3]+Ft)/Ct}%`,At===0?(ht.width=`${100*wt/St}%`,ht.height=`${100*_t/Ct}%`):this.setRotation(At)};let AnnotationElement=ny;var Qo,Tu,zy,Xy;class LinkAnnotationElement extends AnnotationElement{constructor(ht,vt=null){super(ht,{isRenderable:!0,ignoreBorder:!!(vt!=null&&vt.ignoreBorder),createQuadrilaterals:!0});Nn(this,Qo);this.isTooltipOnly=ht.data.isTooltipOnly}render(){const{data:ht,linkService:vt}=this,At=document.createElement("a");At.setAttribute("data-element-id",ht.id);let St=!1;return ht.url?(vt.addLinkAttributes(At,ht.url,ht.newWindow),St=!0):ht.action?(this._bindNamedAction(At,ht.action),St=!0):ht.attachment?(Mn(this,Qo,zy).call(this,At,ht.attachment,ht.attachmentDest),St=!0):ht.setOCGState?(Mn(this,Qo,Xy).call(this,At,ht.setOCGState),St=!0):ht.dest?(this._bindLink(At,ht.dest),St=!0):(ht.actions&&(ht.actions.Action||ht.actions["Mouse Up"]||ht.actions["Mouse Down"])&&this.enableScripting&&this.hasJSActions&&(this._bindJSAction(At,ht),St=!0),ht.resetForm?(this._bindResetFormAction(At,ht.resetForm),St=!0):this.isTooltipOnly&&!St&&(this._bindLink(At,""),St=!0)),this.container.classList.add("linkAnnotation"),St&&this.container.append(At),this.container}_bindLink(ht,vt){ht.href=this.linkService.getDestinationHash(vt),ht.onclick=()=>(vt&&this.linkService.goToDestination(vt),!1),(vt||vt==="")&&Mn(this,Qo,Tu).call(this)}_bindNamedAction(ht,vt){ht.href=this.linkService.getAnchorUrl(""),ht.onclick=()=>(this.linkService.executeNamedAction(vt),!1),Mn(this,Qo,Tu).call(this)}_bindJSAction(ht,vt){ht.href=this.linkService.getAnchorUrl("");const At=new Map([["Action","onclick"],["Mouse Up","onmouseup"],["Mouse Down","onmousedown"]]);for(const St of Object.keys(vt.actions)){const Ct=At.get(St);Ct&&(ht[Ct]=()=>{var Et;return(Et=this.linkService.eventBus)==null||Et.dispatch("dispatcheventinsandbox",{source:this,detail:{id:vt.id,name:St}}),!1})}ht.onclick||(ht.onclick=()=>!1),Mn(this,Qo,Tu).call(this)}_bindResetFormAction(ht,vt){const At=ht.onclick;if(At||(ht.href=this.linkService.getAnchorUrl("")),Mn(this,Qo,Tu).call(this),!this._fieldObjects){warn('_bindResetFormAction - "resetForm" action not supported, ensure that the `fieldObjects` parameter is provided.'),At||(ht.onclick=()=>!1);return}ht.onclick=()=>{var Rt;At==null||At();const{fields:St,refs:Ct,include:Et}=vt,Ft=[];if(St.length!==0||Ct.length!==0){const _e=new Set(Ct);for(const bt of St){const Pt=this._fieldObjects[bt]||[];for(const{id:Xt}of Pt)_e.add(Xt)}for(const bt of Object.values(this._fieldObjects))for(const Pt of bt)_e.has(Pt.id)===Et&&Ft.push(Pt)}else for(const _e of Object.values(this._fieldObjects))Ft.push(..._e);const wt=this.annotationStorage,_t=[];for(const _e of Ft){const{id:bt}=_e;switch(_t.push(bt),_e.type){case"text":{const Xt=_e.defaultValue||"";wt.setValue(bt,{value:Xt});break}case"checkbox":case"radiobutton":{const Xt=_e.defaultValue===_e.exportValues;wt.setValue(bt,{value:Xt});break}case"combobox":case"listbox":{const Xt=_e.defaultValue||"";wt.setValue(bt,{value:Xt});break}default:continue}const Pt=document.querySelector(`[data-element-id="${bt}"]`);if(Pt){if(!GetElementsByNameSet.has(Pt)){warn(`_bindResetFormAction - element not allowed: ${bt}`);continue}}else continue;Pt.dispatchEvent(new Event("resetform"))}return this.enableScripting&&((Rt=this.linkService.eventBus)==null||Rt.dispatch("dispatcheventinsandbox",{source:this,detail:{id:"app",ids:_t,name:"ResetForm"}})),!1}}}Qo=new WeakSet,Tu=function(){this.container.setAttribute("data-internal-link","")},zy=function(ht,vt,At=null){ht.href=this.linkService.getAnchorUrl(""),vt.description&&(ht.title=vt.description),ht.onclick=()=>{var St;return(St=this.downloadManager)==null||St.openOrDownloadData(vt.content,vt.filename,At),!1},Mn(this,Qo,Tu).call(this)},Xy=function(ht,vt){ht.href=this.linkService.getAnchorUrl(""),ht.onclick=()=>(this.linkService.executeSetOCGState(vt),!1),Mn(this,Qo,Tu).call(this)};class TextAnnotationElement extends AnnotationElement{constructor($){super($,{isRenderable:!0})}render(){this.container.classList.add("textAnnotation");const $=document.createElement("img");return $.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",$.setAttribute("data-l10n-id","pdfjs-text-annotation-type"),$.setAttribute("data-l10n-args",JSON.stringify({type:this.data.name})),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.append($),this.container}}class WidgetAnnotationElement extends AnnotationElement{render(){return this.container}showElementAndHideCanvas($){var ht;this.data.hasOwnCanvas&&(((ht=$.previousSibling)==null?void 0:ht.nodeName)==="CANVAS"&&($.previousSibling.hidden=!0),$.hidden=!1)}_getKeyModifier($){return util_FeatureTest.platform.isMac?$.metaKey:$.ctrlKey}_setEventListener($,ht,vt,At,St){vt.includes("mouse")?$.addEventListener(vt,Ct=>{var Et;(Et=this.linkService.eventBus)==null||Et.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:At,value:St(Ct),shift:Ct.shiftKey,modifier:this._getKeyModifier(Ct)}})}):$.addEventListener(vt,Ct=>{var Et;if(vt==="blur"){if(!ht.focused||!Ct.relatedTarget)return;ht.focused=!1}else if(vt==="focus"){if(ht.focused)return;ht.focused=!0}St&&((Et=this.linkService.eventBus)==null||Et.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:At,value:St(Ct)}}))})}_setEventListeners($,ht,vt,At){var St,Ct,Et;for(const[Ft,wt]of vt)(wt==="Action"||(St=this.data.actions)!=null&&St[wt])&&((wt==="Focus"||wt==="Blur")&&(ht||(ht={focused:!1})),this._setEventListener($,ht,Ft,wt,At),wt==="Focus"&&!((Ct=this.data.actions)!=null&&Ct.Blur)?this._setEventListener($,ht,"blur","Blur",null):wt==="Blur"&&!((Et=this.data.actions)!=null&&Et.Focus)&&this._setEventListener($,ht,"focus","Focus",null))}_setBackgroundColor($){const ht=this.data.backgroundColor||null;$.style.backgroundColor=ht===null?"transparent":Util.makeHexColor(ht[0],ht[1],ht[2])}_setTextStyle($){const ht=["left","center","right"],{fontColor:vt}=this.data.defaultAppearanceData,At=this.data.defaultAppearanceData.fontSize||annotation_layer_DEFAULT_FONT_SIZE,St=$.style;let Ct;const Et=2,Ft=wt=>Math.round(10*wt)/10;if(this.data.multiLine){const wt=Math.abs(this.data.rect[3]-this.data.rect[1]-Et),_t=Math.round(wt/(LINE_FACTOR*At))||1,Rt=wt/_t;Ct=Math.min(At,Ft(Rt/LINE_FACTOR))}else{const wt=Math.abs(this.data.rect[3]-this.data.rect[1]-Et);Ct=Math.min(At,Ft(wt/LINE_FACTOR))}St.fontSize=`calc(${Ct}px * var(--scale-factor))`,St.color=Util.makeHexColor(vt[0],vt[1],vt[2]),this.data.textAlignment!==null&&(St.textAlign=ht[this.data.textAlignment])}_setRequired($,ht){ht?$.setAttribute("required",!0):$.removeAttribute("required"),$.setAttribute("aria-required",ht)}}class TextWidgetAnnotationElement extends WidgetAnnotationElement{constructor($){const ht=$.renderForms||$.data.hasOwnCanvas||!$.data.hasAppearance&&!!$.data.fieldValue;super($,{isRenderable:ht})}setPropertyOnSiblings($,ht,vt,At){const St=this.annotationStorage;for(const Ct of this._getElementsByName($.name,$.id))Ct.domElement&&(Ct.domElement[ht]=vt),St.setValue(Ct.id,{[At]:vt})}render(){var At,St;const $=this.annotationStorage,ht=this.data.id;this.container.classList.add("textWidgetAnnotation");let vt=null;if(this.renderForms){const Ct=$.getValue(ht,{value:this.data.fieldValue});let Et=Ct.value||"";const Ft=$.getValue(ht,{charLimit:this.data.maxLen}).charLimit;Ft&&Et.length>Ft&&(Et=Et.slice(0,Ft));let wt=Ct.formattedValue||((At=this.data.textContent)==null?void 0:At.join(`
`))||null;wt&&this.data.comb&&(wt=wt.replaceAll(/\s+/g,""));const _t={userValue:Et,formattedValue:wt,lastCommittedValue:null,commitKey:1,focused:!1};this.data.multiLine?(vt=document.createElement("textarea"),vt.textContent=wt??Et,this.data.doNotScroll&&(vt.style.overflowY="hidden")):(vt=document.createElement("input"),vt.type="text",vt.setAttribute("value",wt??Et),this.data.doNotScroll&&(vt.style.overflowX="hidden")),this.data.hasOwnCanvas&&(vt.hidden=!0),GetElementsByNameSet.add(vt),vt.setAttribute("data-element-id",ht),vt.disabled=this.data.readOnly,vt.name=this.data.fieldName,vt.tabIndex=DEFAULT_TAB_INDEX,this._setRequired(vt,this.data.required),Ft&&(vt.maxLength=Ft),vt.addEventListener("input",_e=>{$.setValue(ht,{value:_e.target.value}),this.setPropertyOnSiblings(vt,"value",_e.target.value,"value"),_t.formattedValue=null}),vt.addEventListener("resetform",_e=>{const bt=this.data.defaultFieldValue??"";vt.value=_t.userValue=bt,_t.formattedValue=null});let Rt=_e=>{const{formattedValue:bt}=_t;bt!=null&&(_e.target.value=bt),_e.target.scrollLeft=0};if(this.enableScripting&&this.hasJSActions){vt.addEventListener("focus",bt=>{var Xt;if(_t.focused)return;const{target:Pt}=bt;_t.userValue&&(Pt.value=_t.userValue),_t.lastCommittedValue=Pt.value,_t.commitKey=1,(Xt=this.data.actions)!=null&&Xt.Focus||(_t.focused=!0)}),vt.addEventListener("updatefromsandbox",bt=>{this.showElementAndHideCanvas(bt.target);const Pt={value(Xt){_t.userValue=Xt.detail.value??"",$.setValue(ht,{value:_t.userValue.toString()}),Xt.target.value=_t.userValue},formattedValue(Xt){const{formattedValue:Kt}=Xt.detail;_t.formattedValue=Kt,Kt!=null&&Xt.target!==document.activeElement&&(Xt.target.value=Kt),$.setValue(ht,{formattedValue:Kt})},selRange(Xt){Xt.target.setSelectionRange(...Xt.detail.selRange)},charLimit:Xt=>{var Lt;const{charLimit:Kt}=Xt.detail,{target:Nt}=Xt;if(Kt===0){Nt.removeAttribute("maxLength");return}Nt.setAttribute("maxLength",Kt);let $t=_t.userValue;!$t||$t.length<=Kt||($t=$t.slice(0,Kt),Nt.value=_t.userValue=$t,$.setValue(ht,{value:$t}),(Lt=this.linkService.eventBus)==null||Lt.dispatch("dispatcheventinsandbox",{source:this,detail:{id:ht,name:"Keystroke",value:$t,willCommit:!0,commitKey:1,selStart:Nt.selectionStart,selEnd:Nt.selectionEnd}}))}};this._dispatchEventFromSandbox(Pt,bt)}),vt.addEventListener("keydown",bt=>{var Kt;_t.commitKey=1;let Pt=-1;if(bt.key==="Escape"?Pt=0:bt.key==="Enter"&&!this.data.multiLine?Pt=2:bt.key==="Tab"&&(_t.commitKey=3),Pt===-1)return;const{value:Xt}=bt.target;_t.lastCommittedValue!==Xt&&(_t.lastCommittedValue=Xt,_t.userValue=Xt,(Kt=this.linkService.eventBus)==null||Kt.dispatch("dispatcheventinsandbox",{source:this,detail:{id:ht,name:"Keystroke",value:Xt,willCommit:!0,commitKey:Pt,selStart:bt.target.selectionStart,selEnd:bt.target.selectionEnd}}))});const _e=Rt;Rt=null,vt.addEventListener("blur",bt=>{var Xt,Kt;if(!_t.focused||!bt.relatedTarget)return;(Xt=this.data.actions)!=null&&Xt.Blur||(_t.focused=!1);const{value:Pt}=bt.target;_t.userValue=Pt,_t.lastCommittedValue!==Pt&&((Kt=this.linkService.eventBus)==null||Kt.dispatch("dispatcheventinsandbox",{source:this,detail:{id:ht,name:"Keystroke",value:Pt,willCommit:!0,commitKey:_t.commitKey,selStart:bt.target.selectionStart,selEnd:bt.target.selectionEnd}})),_e(bt)}),(St=this.data.actions)!=null&&St.Keystroke&&vt.addEventListener("beforeinput",bt=>{var kt;_t.lastCommittedValue=null;const{data:Pt,target:Xt}=bt,{value:Kt,selectionStart:Nt,selectionEnd:$t}=Xt;let Lt=Nt,jt=$t;switch(bt.inputType){case"deleteWordBackward":{const qt=Kt.substring(0,Nt).match(/\w*[^\w]*$/);qt&&(Lt-=qt[0].length);break}case"deleteWordForward":{const qt=Kt.substring(Nt).match(/^[^\w]*\w*/);qt&&(jt+=qt[0].length);break}case"deleteContentBackward":Nt===$t&&(Lt-=1);break;case"deleteContentForward":Nt===$t&&(jt+=1);break}bt.preventDefault(),(kt=this.linkService.eventBus)==null||kt.dispatch("dispatcheventinsandbox",{source:this,detail:{id:ht,name:"Keystroke",value:Kt,change:Pt||"",willCommit:!1,selStart:Lt,selEnd:jt}})}),this._setEventListeners(vt,_t,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],bt=>bt.target.value)}if(Rt&&vt.addEventListener("blur",Rt),this.data.comb){const bt=(this.data.rect[2]-this.data.rect[0])/Ft;vt.classList.add("comb"),vt.style.letterSpacing=`calc(${bt}px * var(--scale-factor) - 1ch)`}}else vt=document.createElement("div"),vt.textContent=this.data.fieldValue,vt.style.verticalAlign="middle",vt.style.display="table-cell",this.data.hasOwnCanvas&&(vt.hidden=!0);return this._setTextStyle(vt),this._setBackgroundColor(vt),this._setDefaultPropertiesFromJS(vt),this.container.append(vt),this.container}}class SignatureWidgetAnnotationElement extends WidgetAnnotationElement{constructor($){super($,{isRenderable:!!$.data.hasOwnCanvas})}}class CheckboxWidgetAnnotationElement extends WidgetAnnotationElement{constructor($){super($,{isRenderable:$.renderForms})}render(){const $=this.annotationStorage,ht=this.data,vt=ht.id;let At=$.getValue(vt,{value:ht.exportValue===ht.fieldValue}).value;typeof At=="string"&&(At=At!=="Off",$.setValue(vt,{value:At})),this.container.classList.add("buttonWidgetAnnotation","checkBox");const St=document.createElement("input");return GetElementsByNameSet.add(St),St.setAttribute("data-element-id",vt),St.disabled=ht.readOnly,this._setRequired(St,this.data.required),St.type="checkbox",St.name=ht.fieldName,At&&St.setAttribute("checked",!0),St.setAttribute("exportValue",ht.exportValue),St.tabIndex=DEFAULT_TAB_INDEX,St.addEventListener("change",Ct=>{const{name:Et,checked:Ft}=Ct.target;for(const wt of this._getElementsByName(Et,vt)){const _t=Ft&&wt.exportValue===ht.exportValue;wt.domElement&&(wt.domElement.checked=_t),$.setValue(wt.id,{value:_t})}$.setValue(vt,{value:Ft})}),St.addEventListener("resetform",Ct=>{const Et=ht.defaultFieldValue||"Off";Ct.target.checked=Et===ht.exportValue}),this.enableScripting&&this.hasJSActions&&(St.addEventListener("updatefromsandbox",Ct=>{const Et={value(Ft){Ft.target.checked=Ft.detail.value!=="Off",$.setValue(vt,{value:Ft.target.checked})}};this._dispatchEventFromSandbox(Et,Ct)}),this._setEventListeners(St,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],Ct=>Ct.target.checked)),this._setBackgroundColor(St),this._setDefaultPropertiesFromJS(St),this.container.append(St),this.container}}class RadioButtonWidgetAnnotationElement extends WidgetAnnotationElement{constructor($){super($,{isRenderable:$.renderForms})}render(){this.container.classList.add("buttonWidgetAnnotation","radioButton");const $=this.annotationStorage,ht=this.data,vt=ht.id;let At=$.getValue(vt,{value:ht.fieldValue===ht.buttonValue}).value;if(typeof At=="string"&&(At=At!==ht.buttonValue,$.setValue(vt,{value:At})),At)for(const Ct of this._getElementsByName(ht.fieldName,vt))$.setValue(Ct.id,{value:!1});const St=document.createElement("input");if(GetElementsByNameSet.add(St),St.setAttribute("data-element-id",vt),St.disabled=ht.readOnly,this._setRequired(St,this.data.required),St.type="radio",St.name=ht.fieldName,At&&St.setAttribute("checked",!0),St.tabIndex=DEFAULT_TAB_INDEX,St.addEventListener("change",Ct=>{const{name:Et,checked:Ft}=Ct.target;for(const wt of this._getElementsByName(Et,vt))$.setValue(wt.id,{value:!1});$.setValue(vt,{value:Ft})}),St.addEventListener("resetform",Ct=>{const Et=ht.defaultFieldValue;Ct.target.checked=Et!=null&&Et===ht.buttonValue}),this.enableScripting&&this.hasJSActions){const Ct=ht.buttonValue;St.addEventListener("updatefromsandbox",Et=>{const Ft={value:wt=>{const _t=Ct===wt.detail.value;for(const Rt of this._getElementsByName(wt.target.name)){const _e=_t&&Rt.id===vt;Rt.domElement&&(Rt.domElement.checked=_e),$.setValue(Rt.id,{value:_e})}}};this._dispatchEventFromSandbox(Ft,Et)}),this._setEventListeners(St,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],Et=>Et.target.checked)}return this._setBackgroundColor(St),this._setDefaultPropertiesFromJS(St),this.container.append(St),this.container}}class PushButtonWidgetAnnotationElement extends LinkAnnotationElement{constructor($){super($,{ignoreBorder:$.data.hasAppearance})}render(){const $=super.render();$.classList.add("buttonWidgetAnnotation","pushButton");const ht=$.lastChild;return this.enableScripting&&this.hasJSActions&&ht&&(this._setDefaultPropertiesFromJS(ht),ht.addEventListener("updatefromsandbox",vt=>{this._dispatchEventFromSandbox({},vt)})),$}}class ChoiceWidgetAnnotationElement extends WidgetAnnotationElement{constructor($){super($,{isRenderable:$.renderForms})}render(){this.container.classList.add("choiceWidgetAnnotation");const $=this.annotationStorage,ht=this.data.id,vt=$.getValue(ht,{value:this.data.fieldValue}),At=document.createElement("select");GetElementsByNameSet.add(At),At.setAttribute("data-element-id",ht),At.disabled=this.data.readOnly,this._setRequired(At,this.data.required),At.name=this.data.fieldName,At.tabIndex=DEFAULT_TAB_INDEX;let St=this.data.combo&&this.data.options.length>0;this.data.combo||(At.size=this.data.options.length,this.data.multiSelect&&(At.multiple=!0)),At.addEventListener("resetform",_t=>{const Rt=this.data.defaultFieldValue;for(const _e of At.options)_e.selected=_e.value===Rt});for(const _t of this.data.options){const Rt=document.createElement("option");Rt.textContent=_t.displayValue,Rt.value=_t.exportValue,vt.value.includes(_t.exportValue)&&(Rt.setAttribute("selected",!0),St=!1),At.append(Rt)}let Ct=null;if(St){const _t=document.createElement("option");_t.value=" ",_t.setAttribute("hidden",!0),_t.setAttribute("selected",!0),At.prepend(_t),Ct=()=>{_t.remove(),At.removeEventListener("input",Ct),Ct=null},At.addEventListener("input",Ct)}const Et=_t=>{const Rt=_t?"value":"textContent",{options:_e,multiple:bt}=At;return bt?Array.prototype.filter.call(_e,Pt=>Pt.selected).map(Pt=>Pt[Rt]):_e.selectedIndex===-1?null:_e[_e.selectedIndex][Rt]};let Ft=Et(!1);const wt=_t=>{const Rt=_t.target.options;return Array.prototype.map.call(Rt,_e=>({displayValue:_e.textContent,exportValue:_e.value}))};return this.enableScripting&&this.hasJSActions?(At.addEventListener("updatefromsandbox",_t=>{const Rt={value(_e){Ct==null||Ct();const bt=_e.detail.value,Pt=new Set(Array.isArray(bt)?bt:[bt]);for(const Xt of At.options)Xt.selected=Pt.has(Xt.value);$.setValue(ht,{value:Et(!0)}),Ft=Et(!1)},multipleSelection(_e){At.multiple=!0},remove(_e){const bt=At.options,Pt=_e.detail.remove;bt[Pt].selected=!1,At.remove(Pt),bt.length>0&&Array.prototype.findIndex.call(bt,Kt=>Kt.selected)===-1&&(bt[0].selected=!0),$.setValue(ht,{value:Et(!0),items:wt(_e)}),Ft=Et(!1)},clear(_e){for(;At.length!==0;)At.remove(0);$.setValue(ht,{value:null,items:[]}),Ft=Et(!1)},insert(_e){const{index:bt,displayValue:Pt,exportValue:Xt}=_e.detail.insert,Kt=At.children[bt],Nt=document.createElement("option");Nt.textContent=Pt,Nt.value=Xt,Kt?Kt.before(Nt):At.append(Nt),$.setValue(ht,{value:Et(!0),items:wt(_e)}),Ft=Et(!1)},items(_e){const{items:bt}=_e.detail;for(;At.length!==0;)At.remove(0);for(const Pt of bt){const{displayValue:Xt,exportValue:Kt}=Pt,Nt=document.createElement("option");Nt.textContent=Xt,Nt.value=Kt,At.append(Nt)}At.options.length>0&&(At.options[0].selected=!0),$.setValue(ht,{value:Et(!0),items:wt(_e)}),Ft=Et(!1)},indices(_e){const bt=new Set(_e.detail.indices);for(const Pt of _e.target.options)Pt.selected=bt.has(Pt.index);$.setValue(ht,{value:Et(!0)}),Ft=Et(!1)},editable(_e){_e.target.disabled=!_e.detail.editable}};this._dispatchEventFromSandbox(Rt,_t)}),At.addEventListener("input",_t=>{var bt;const Rt=Et(!0),_e=Et(!1);$.setValue(ht,{value:Rt}),_t.preventDefault(),(bt=this.linkService.eventBus)==null||bt.dispatch("dispatcheventinsandbox",{source:this,detail:{id:ht,name:"Keystroke",value:Ft,change:_e,changeEx:Rt,willCommit:!1,commitKey:1,keyDown:!1}})}),this._setEventListeners(At,null,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"],["input","Action"],["input","Validate"]],_t=>_t.target.value)):At.addEventListener("input",function(_t){$.setValue(ht,{value:Et(!0)})}),this.data.combo&&this._setTextStyle(At),this._setBackgroundColor(At),this._setDefaultPropertiesFromJS(At),this.container.append(At),this.container}}class PopupAnnotationElement extends AnnotationElement{constructor($){const{data:ht,elements:vt}=$;super($,{isRenderable:AnnotationElement._hasPopupData(ht)}),this.elements=vt,this.popup=null}render(){this.container.classList.add("popupAnnotation");const $=this.popup=new PopupElement({container:this.container,color:this.data.color,titleObj:this.data.titleObj,modificationDate:this.data.modificationDate,contentsObj:this.data.contentsObj,richText:this.data.richText,rect:this.data.rect,parentRect:this.data.parentRect||null,parent:this.parent,elements:this.elements,open:this.data.open}),ht=[];for(const vt of this.elements)vt.popup=$,ht.push(vt.data.id),vt.addHighlightArea();return this.container.setAttribute("aria-controls",ht.map(vt=>`${AnnotationPrefix}${vt}`).join(",")),this.container}}var wp,t9,n9,Ap,n1,ao,_0,i1,lx,cx,Sp,F0,Ll,P0,ux,R0,hx,r1,s1,xa,l2,B9,Wy,Vy,Gy,qy,c2,u2,U9;class PopupElement{constructor({container:$,color:ht,elements:vt,titleObj:At,modificationDate:St,contentsObj:Ct,richText:Et,parent:Ft,rect:wt,parentRect:_t,open:Rt}){Nn(this,xa);Nn(this,wp,Mn(this,xa,Gy).bind(this));Nn(this,t9,Mn(this,xa,U9).bind(this));Nn(this,n9,Mn(this,xa,u2).bind(this));Nn(this,Ap,Mn(this,xa,c2).bind(this));Nn(this,n1,null);Nn(this,ao,null);Nn(this,_0,null);Nn(this,i1,null);Nn(this,lx,null);Nn(this,cx,null);Nn(this,Sp,null);Nn(this,F0,!1);Nn(this,Ll,null);Nn(this,P0,null);Nn(this,ux,null);Nn(this,R0,null);Nn(this,hx,null);Nn(this,r1,null);Nn(this,s1,!1);var _e;$n(this,ao,$),$n(this,hx,At),$n(this,_0,Ct),$n(this,R0,Et),$n(this,cx,Ft),$n(this,n1,ht),$n(this,ux,wt),$n(this,Sp,_t),$n(this,lx,vt),$n(this,i1,PDFDateString.toDateObject(St)),this.trigger=vt.flatMap(bt=>bt.getElementsToTriggerPopup());for(const bt of this.trigger)bt.addEventListener("click",Mt(this,Ap)),bt.addEventListener("mouseenter",Mt(this,n9)),bt.addEventListener("mouseleave",Mt(this,t9)),bt.classList.add("popupTriggerArea");for(const bt of vt)(_e=bt.container)==null||_e.addEventListener("keydown",Mt(this,wp));Mt(this,ao).hidden=!0,Rt&&Mn(this,xa,c2).call(this)}render(){if(Mt(this,Ll))return;const $=$n(this,Ll,document.createElement("div"));if($.className="popup",Mt(this,n1)){const St=$.style.outlineColor=Util.makeHexColor(...Mt(this,n1));CSS.supports("background-color","color-mix(in srgb, red 30%, white)")?$.style.backgroundColor=`color-mix(in srgb, ${St} 30%, white)`:$.style.backgroundColor=Util.makeHexColor(...Mt(this,n1).map(Et=>Math.floor(.7*(255-Et)+Et)))}const ht=document.createElement("span");ht.className="header";const vt=document.createElement("h1");if(ht.append(vt),{dir:vt.dir,str:vt.textContent}=Mt(this,hx),$.append(ht),Mt(this,i1)){const St=document.createElement("span");St.classList.add("popupDate"),St.setAttribute("data-l10n-id","pdfjs-annotation-date-string"),St.setAttribute("data-l10n-args",JSON.stringify({date:Mt(this,i1).toLocaleDateString(),time:Mt(this,i1).toLocaleTimeString()})),ht.append(St)}const At=Mt(this,xa,l2);if(At)XfaLayer.render({xfaHtml:At,intent:"richText",div:$}),$.lastChild.classList.add("richText","popupContent");else{const St=this._formatContents(Mt(this,_0));$.append(St)}Mt(this,ao).append($)}_formatContents({str:$,dir:ht}){const vt=document.createElement("p");vt.classList.add("popupContent"),vt.dir=ht;const At=$.split(/(?:\r\n?|\n)/);for(let St=0,Ct=At.length;St<Ct;++St){const Et=At[St];vt.append(document.createTextNode(Et)),St<Ct-1&&vt.append(document.createElement("br"))}return vt}updateEdited({rect:$,popupContent:ht}){var vt;Mt(this,r1)||$n(this,r1,{contentsObj:Mt(this,_0),richText:Mt(this,R0)}),$&&$n(this,P0,null),ht&&($n(this,R0,Mn(this,xa,Vy).call(this,ht)),$n(this,_0,null)),(vt=Mt(this,Ll))==null||vt.remove(),$n(this,Ll,null)}resetEdited(){var $;Mt(this,r1)&&({contentsObj:So(this,_0)._,richText:So(this,R0)._}=Mt(this,r1),$n(this,r1,null),($=Mt(this,Ll))==null||$.remove(),$n(this,Ll,null),$n(this,P0,null))}forceHide(){$n(this,s1,this.isVisible),Mt(this,s1)&&(Mt(this,ao).hidden=!0)}maybeShow(){Mt(this,s1)&&(Mt(this,Ll)||Mn(this,xa,u2).call(this),$n(this,s1,!1),Mt(this,ao).hidden=!1)}get isVisible(){return Mt(this,ao).hidden===!1}}wp=new WeakMap,t9=new WeakMap,n9=new WeakMap,Ap=new WeakMap,n1=new WeakMap,ao=new WeakMap,_0=new WeakMap,i1=new WeakMap,lx=new WeakMap,cx=new WeakMap,Sp=new WeakMap,F0=new WeakMap,Ll=new WeakMap,P0=new WeakMap,ux=new WeakMap,R0=new WeakMap,hx=new WeakMap,r1=new WeakMap,s1=new WeakMap,xa=new WeakSet,l2=function(){const $=Mt(this,R0),ht=Mt(this,_0);return $!=null&&$.str&&(!(ht!=null&&ht.str)||ht.str===$.str)&&Mt(this,R0).html||null},B9=function(){var $,ht,vt;return((vt=(ht=($=Mt(this,xa,l2))==null?void 0:$.attributes)==null?void 0:ht.style)==null?void 0:vt.fontSize)||0},Wy=function(){var $,ht,vt;return((vt=(ht=($=Mt(this,xa,l2))==null?void 0:$.attributes)==null?void 0:ht.style)==null?void 0:vt.color)||null},Vy=function($){const ht=[],vt={str:$,html:{name:"div",attributes:{dir:"auto"},children:[{name:"p",children:ht}]}},At={style:{color:Mt(this,xa,Wy),fontSize:Mt(this,xa,B9)?`calc(${Mt(this,xa,B9)}px * var(--scale-factor))`:""}};for(const St of $.split(`
`))ht.push({name:"span",value:St,attributes:At});return vt},Gy=function($){$.altKey||$.shiftKey||$.ctrlKey||$.metaKey||($.key==="Enter"||$.key==="Escape"&&Mt(this,F0))&&Mn(this,xa,c2).call(this)},qy=function(){if(Mt(this,P0)!==null)return;const{page:{view:$},viewport:{rawDims:{pageWidth:ht,pageHeight:vt,pageX:At,pageY:St}}}=Mt(this,cx);let Ct=!!Mt(this,Sp),Et=Ct?Mt(this,Sp):Mt(this,ux);for(const Pt of Mt(this,lx))if(!Et||Util.intersect(Pt.data.rect,Et)!==null){Et=Pt.data.rect,Ct=!0;break}const Ft=Util.normalizeRect([Et[0],$[3]-Et[1]+$[1],Et[2],$[3]-Et[3]+$[1]]),_t=Ct?Et[2]-Et[0]+5:0,Rt=Ft[0]+_t,_e=Ft[1];$n(this,P0,[100*(Rt-At)/ht,100*(_e-St)/vt]);const{style:bt}=Mt(this,ao);bt.left=`${Mt(this,P0)[0]}%`,bt.top=`${Mt(this,P0)[1]}%`},c2=function(){$n(this,F0,!Mt(this,F0)),Mt(this,F0)?(Mn(this,xa,u2).call(this),Mt(this,ao).addEventListener("click",Mt(this,Ap)),Mt(this,ao).addEventListener("keydown",Mt(this,wp))):(Mn(this,xa,U9).call(this),Mt(this,ao).removeEventListener("click",Mt(this,Ap)),Mt(this,ao).removeEventListener("keydown",Mt(this,wp)))},u2=function(){Mt(this,Ll)||this.render(),this.isVisible?Mt(this,F0)&&Mt(this,ao).classList.add("focused"):(Mn(this,xa,qy).call(this),Mt(this,ao).hidden=!1,Mt(this,ao).style.zIndex=parseInt(Mt(this,ao).style.zIndex)+1e3)},U9=function(){Mt(this,ao).classList.remove("focused"),!(Mt(this,F0)||!this.isVisible)&&(Mt(this,ao).hidden=!0,Mt(this,ao).style.zIndex=parseInt(Mt(this,ao).style.zIndex)-1e3)};class FreeTextAnnotationElement extends AnnotationElement{constructor($){super($,{isRenderable:!0,ignoreBorder:!0}),this.textContent=$.data.textContent,this.textPosition=$.data.textPosition,this.annotationEditorType=AnnotationEditorType.FREETEXT}render(){if(this.container.classList.add("freeTextAnnotation"),this.textContent){const $=document.createElement("div");$.classList.add("annotationTextContent"),$.setAttribute("role","comment");for(const ht of this.textContent){const vt=document.createElement("span");vt.textContent=ht,$.append(vt)}this.container.append($)}return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}get _isEditable(){return this.data.hasOwnCanvas}}var dx;class LineAnnotationElement extends AnnotationElement{constructor(ht){super(ht,{isRenderable:!0,ignoreBorder:!0});Nn(this,dx,null)}render(){this.container.classList.add("lineAnnotation");const ht=this.data,{width:vt,height:At}=getRectDims(ht.rect),St=this.svgFactory.create(vt,At,!0),Ct=$n(this,dx,this.svgFactory.createElement("svg:line"));return Ct.setAttribute("x1",ht.rect[2]-ht.lineCoordinates[0]),Ct.setAttribute("y1",ht.rect[3]-ht.lineCoordinates[1]),Ct.setAttribute("x2",ht.rect[2]-ht.lineCoordinates[2]),Ct.setAttribute("y2",ht.rect[3]-ht.lineCoordinates[3]),Ct.setAttribute("stroke-width",ht.borderStyle.width||1),Ct.setAttribute("stroke","transparent"),Ct.setAttribute("fill","transparent"),St.append(Ct),this.container.append(St),!ht.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return Mt(this,dx)}addHighlightArea(){this.container.classList.add("highlightArea")}}dx=new WeakMap;var fx;class SquareAnnotationElement extends AnnotationElement{constructor(ht){super(ht,{isRenderable:!0,ignoreBorder:!0});Nn(this,fx,null)}render(){this.container.classList.add("squareAnnotation");const ht=this.data,{width:vt,height:At}=getRectDims(ht.rect),St=this.svgFactory.create(vt,At,!0),Ct=ht.borderStyle.width,Et=$n(this,fx,this.svgFactory.createElement("svg:rect"));return Et.setAttribute("x",Ct/2),Et.setAttribute("y",Ct/2),Et.setAttribute("width",vt-Ct),Et.setAttribute("height",At-Ct),Et.setAttribute("stroke-width",Ct||1),Et.setAttribute("stroke","transparent"),Et.setAttribute("fill","transparent"),St.append(Et),this.container.append(St),!ht.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return Mt(this,fx)}addHighlightArea(){this.container.classList.add("highlightArea")}}fx=new WeakMap;var px;class CircleAnnotationElement extends AnnotationElement{constructor(ht){super(ht,{isRenderable:!0,ignoreBorder:!0});Nn(this,px,null)}render(){this.container.classList.add("circleAnnotation");const ht=this.data,{width:vt,height:At}=getRectDims(ht.rect),St=this.svgFactory.create(vt,At,!0),Ct=ht.borderStyle.width,Et=$n(this,px,this.svgFactory.createElement("svg:ellipse"));return Et.setAttribute("cx",vt/2),Et.setAttribute("cy",At/2),Et.setAttribute("rx",vt/2-Ct/2),Et.setAttribute("ry",At/2-Ct/2),Et.setAttribute("stroke-width",Ct||1),Et.setAttribute("stroke","transparent"),Et.setAttribute("fill","transparent"),St.append(Et),this.container.append(St),!ht.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return Mt(this,px)}addHighlightArea(){this.container.classList.add("highlightArea")}}px=new WeakMap;var gx;class PolylineAnnotationElement extends AnnotationElement{constructor(ht){super(ht,{isRenderable:!0,ignoreBorder:!0});Nn(this,gx,null);this.containerClassName="polylineAnnotation",this.svgElementName="svg:polyline"}render(){this.container.classList.add(this.containerClassName);const ht=this.data,{width:vt,height:At}=getRectDims(ht.rect),St=this.svgFactory.create(vt,At,!0);let Ct=[];for(const Ft of ht.vertices){const wt=Ft.x-ht.rect[0],_t=ht.rect[3]-Ft.y;Ct.push(wt+","+_t)}Ct=Ct.join(" ");const Et=$n(this,gx,this.svgFactory.createElement(this.svgElementName));return Et.setAttribute("points",Ct),Et.setAttribute("stroke-width",ht.borderStyle.width||1),Et.setAttribute("stroke","transparent"),Et.setAttribute("fill","transparent"),St.append(Et),this.container.append(St),!ht.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return Mt(this,gx)}addHighlightArea(){this.container.classList.add("highlightArea")}}gx=new WeakMap;class PolygonAnnotationElement extends PolylineAnnotationElement{constructor($){super($),this.containerClassName="polygonAnnotation",this.svgElementName="svg:polygon"}}class CaretAnnotationElement extends AnnotationElement{constructor($){super($,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("caretAnnotation"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container}}var mx;class InkAnnotationElement extends AnnotationElement{constructor(ht){super(ht,{isRenderable:!0,ignoreBorder:!0});Nn(this,mx,[]);this.containerClassName="inkAnnotation",this.svgElementName="svg:polyline",this.annotationEditorType=AnnotationEditorType.INK}render(){this.container.classList.add(this.containerClassName);const ht=this.data,{width:vt,height:At}=getRectDims(ht.rect),St=this.svgFactory.create(vt,At,!0);for(const Ct of ht.inkLists){let Et=[];for(const wt of Ct){const _t=wt.x-ht.rect[0],Rt=ht.rect[3]-wt.y;Et.push(`${_t},${Rt}`)}Et=Et.join(" ");const Ft=this.svgFactory.createElement(this.svgElementName);Mt(this,mx).push(Ft),Ft.setAttribute("points",Et),Ft.setAttribute("stroke-width",ht.borderStyle.width||1),Ft.setAttribute("stroke","transparent"),Ft.setAttribute("fill","transparent"),!ht.popupRef&&this.hasPopupData&&this._createPopup(),St.append(Ft)}return this.container.append(St),this.container}getElementsToTriggerPopup(){return Mt(this,mx)}addHighlightArea(){this.container.classList.add("highlightArea")}}mx=new WeakMap;class HighlightAnnotationElement extends AnnotationElement{constructor($){super($,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("highlightAnnotation"),this.container}}class UnderlineAnnotationElement extends AnnotationElement{constructor($){super($,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("underlineAnnotation"),this.container}}class SquigglyAnnotationElement extends AnnotationElement{constructor($){super($,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("squigglyAnnotation"),this.container}}class StrikeOutAnnotationElement extends AnnotationElement{constructor($){super($,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("strikeoutAnnotation"),this.container}}class StampAnnotationElement extends AnnotationElement{constructor($){super($,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("stampAnnotation"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container}}var xx,bx,H9;class FileAttachmentAnnotationElement extends AnnotationElement{constructor(ht){var At;super(ht,{isRenderable:!0});Nn(this,bx);Nn(this,xx,null);const{file:vt}=this.data;this.filename=vt.filename,this.content=vt.content,(At=this.linkService.eventBus)==null||At.dispatch("fileattachmentannotation",{source:this,...vt})}render(){this.container.classList.add("fileAttachmentAnnotation");const{container:ht,data:vt}=this;let At;vt.hasAppearance||vt.fillAlpha===0?At=document.createElement("div"):(At=document.createElement("img"),At.src=`${this.imageResourcesPath}annotation-${/paperclip/i.test(vt.name)?"paperclip":"pushpin"}.svg`,vt.fillAlpha&&vt.fillAlpha<1&&(At.style=`filter: opacity(${Math.round(vt.fillAlpha*100)}%);`)),At.addEventListener("dblclick",Mn(this,bx,H9).bind(this)),$n(this,xx,At);const{isMac:St}=util_FeatureTest.platform;return ht.addEventListener("keydown",Ct=>{Ct.key==="Enter"&&(St?Ct.metaKey:Ct.ctrlKey)&&Mn(this,bx,H9).call(this)}),!vt.popupRef&&this.hasPopupData?this._createPopup():At.classList.add("popupTriggerArea"),ht.append(At),ht}getElementsToTriggerPopup(){return Mt(this,xx)}addHighlightArea(){this.container.classList.add("highlightArea")}}xx=new WeakMap,bx=new WeakSet,H9=function(){var ht;(ht=this.downloadManager)==null||ht.openOrDownloadData(this.content,this.filename)};var yx,a1,Ep,C1,Ky,z9;class AnnotationLayer{constructor({div:$,accessibilityManager:ht,annotationCanvasMap:vt,annotationEditorUIManager:At,page:St,viewport:Ct}){Nn(this,C1);Nn(this,yx,null);Nn(this,a1,null);Nn(this,Ep,new Map);this.div=$,$n(this,yx,ht),$n(this,a1,vt),this.page=St,this.viewport=Ct,this.zIndex=0,this._annotationEditorUIManager=At}async render($){var Ct;const{annotations:ht}=$,vt=this.div;setLayerDimensions(vt,this.viewport);const At=new Map,St={data:null,layer:vt,linkService:$.linkService,downloadManager:$.downloadManager,imageResourcesPath:$.imageResourcesPath||"",renderForms:$.renderForms!==!1,svgFactory:new DOMSVGFactory,annotationStorage:$.annotationStorage||new AnnotationStorage,enableScripting:$.enableScripting===!0,hasJSActions:$.hasJSActions,fieldObjects:$.fieldObjects,parent:this,elements:null};for(const Et of ht){if(Et.noHTML)continue;const Ft=Et.annotationType===AnnotationType.POPUP;if(Ft){const Rt=At.get(Et.id);if(!Rt)continue;St.elements=Rt}else{const{width:Rt,height:_e}=getRectDims(Et.rect);if(Rt<=0||_e<=0)continue}St.data=Et;const wt=AnnotationElementFactory.create(St);if(!wt.isRenderable)continue;if(!Ft&&Et.popupRef){const Rt=At.get(Et.popupRef);Rt?Rt.push(wt):At.set(Et.popupRef,[wt])}const _t=wt.render();Et.hidden&&(_t.style.visibility="hidden"),Mn(this,C1,Ky).call(this,_t,Et.id),wt.annotationEditorType>0&&(Mt(this,Ep).set(wt.data.id,wt),(Ct=this._annotationEditorUIManager)==null||Ct.renderAnnotationElement(wt))}Mn(this,C1,z9).call(this)}update({viewport:$}){const ht=this.div;this.viewport=$,setLayerDimensions(ht,{rotation:$.rotation}),Mn(this,C1,z9).call(this),ht.hidden=!1}getEditableAnnotations(){return Array.from(Mt(this,Ep).values())}getEditableAnnotation($){return Mt(this,Ep).get($)}}yx=new WeakMap,a1=new WeakMap,Ep=new WeakMap,C1=new WeakSet,Ky=function($,ht){var At;const vt=$.firstChild||$;vt.id=`${AnnotationPrefix}${ht}`,this.div.append($),(At=Mt(this,yx))==null||At.moveElementInDOM(this.div,$,vt,!1)},z9=function(){if(!Mt(this,a1))return;const $=this.div;for(const[ht,vt]of Mt(this,a1)){const At=$.querySelector(`[data-annotation-id="${ht}"]`);if(!At)continue;vt.className="annotationContent";const{firstChild:St}=At;St?St.nodeName==="CANVAS"?St.replaceWith(vt):St.classList.contains("annotationContent")?St.after(vt):St.before(vt):At.append(vt)}Mt(this,a1).clear()};const EOL_PATTERN=/\r\n?|\n/g;var vx,wx,Ax,Sx,Ex,Nl,qo,Cx,Ko,Cp,uo,Yy,Zy,Jy,h2,B0,d2,f2,Qy,X9,e8;const to=class to extends AnnotationEditor{constructor(ht){super({...ht,name:"freeTextEditor"});Nn(this,uo);Nn(this,vx,this.editorDivBlur.bind(this));Nn(this,wx,this.editorDivFocus.bind(this));Nn(this,Ax,this.editorDivInput.bind(this));Nn(this,Sx,this.editorDivKeydown.bind(this));Nn(this,Ex,this.editorDivPaste.bind(this));Nn(this,Nl);Nn(this,qo,"");Nn(this,Cx,`${this.id}-editor`);Nn(this,Ko);Nn(this,Cp,null);$n(this,Nl,ht.color||to._defaultColor||AnnotationEditor._defaultLineColor),$n(this,Ko,ht.fontSize||to._defaultFontSize)}static get _keyboardManager(){const ht=to.prototype,vt=Ct=>Ct.isEmpty(),At=AnnotationEditorUIManager.TRANSLATE_SMALL,St=AnnotationEditorUIManager.TRANSLATE_BIG;return shadow(this,"_keyboardManager",new KeyboardManager([[["ctrl+s","mac+meta+s","ctrl+p","mac+meta+p"],ht.commitOrRemove,{bubbles:!0}],[["ctrl+Enter","mac+meta+Enter","Escape","mac+Escape"],ht.commitOrRemove],[["ArrowLeft","mac+ArrowLeft"],ht._translateEmpty,{args:[-At,0],checker:vt}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],ht._translateEmpty,{args:[-St,0],checker:vt}],[["ArrowRight","mac+ArrowRight"],ht._translateEmpty,{args:[At,0],checker:vt}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],ht._translateEmpty,{args:[St,0],checker:vt}],[["ArrowUp","mac+ArrowUp"],ht._translateEmpty,{args:[0,-At],checker:vt}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],ht._translateEmpty,{args:[0,-St],checker:vt}],[["ArrowDown","mac+ArrowDown"],ht._translateEmpty,{args:[0,At],checker:vt}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],ht._translateEmpty,{args:[0,St],checker:vt}]]))}static initialize(ht,vt){AnnotationEditor.initialize(ht,vt,{strings:["pdfjs-free-text-default-content"]});const At=getComputedStyle(document.documentElement);this._internalPadding=parseFloat(At.getPropertyValue("--freetext-padding"))}static updateDefaultParams(ht,vt){switch(ht){case AnnotationEditorParamsType.FREETEXT_SIZE:to._defaultFontSize=vt;break;case AnnotationEditorParamsType.FREETEXT_COLOR:to._defaultColor=vt;break}}updateParams(ht,vt){switch(ht){case AnnotationEditorParamsType.FREETEXT_SIZE:Mn(this,uo,Yy).call(this,vt);break;case AnnotationEditorParamsType.FREETEXT_COLOR:Mn(this,uo,Zy).call(this,vt);break}}static get defaultPropertiesToUpdate(){return[[AnnotationEditorParamsType.FREETEXT_SIZE,to._defaultFontSize],[AnnotationEditorParamsType.FREETEXT_COLOR,to._defaultColor||AnnotationEditor._defaultLineColor]]}get propertiesToUpdate(){return[[AnnotationEditorParamsType.FREETEXT_SIZE,Mt(this,Ko)],[AnnotationEditorParamsType.FREETEXT_COLOR,Mt(this,Nl)]]}_translateEmpty(ht,vt){this._uiManager.translateSelectedEditors(ht,vt,!0)}getInitialTranslation(){const ht=this.parentScale;return[-to._internalPadding*ht,-(to._internalPadding+Mt(this,Ko))*ht]}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.isAttachedToDOM||this.parent.add(this)))}enableEditMode(){this.isInEditMode()||(this.parent.setEditingState(!1),this.parent.updateToolbar(AnnotationEditorType.FREETEXT),super.enableEditMode(),this.overlayDiv.classList.remove("enabled"),this.editorDiv.contentEditable=!0,this._isDraggable=!1,this.div.removeAttribute("aria-activedescendant"),this.editorDiv.addEventListener("keydown",Mt(this,Sx)),this.editorDiv.addEventListener("focus",Mt(this,wx)),this.editorDiv.addEventListener("blur",Mt(this,vx)),this.editorDiv.addEventListener("input",Mt(this,Ax)),this.editorDiv.addEventListener("paste",Mt(this,Ex)))}disableEditMode(){this.isInEditMode()&&(this.parent.setEditingState(!0),super.disableEditMode(),this.overlayDiv.classList.add("enabled"),this.editorDiv.contentEditable=!1,this.div.setAttribute("aria-activedescendant",Mt(this,Cx)),this._isDraggable=!0,this.editorDiv.removeEventListener("keydown",Mt(this,Sx)),this.editorDiv.removeEventListener("focus",Mt(this,wx)),this.editorDiv.removeEventListener("blur",Mt(this,vx)),this.editorDiv.removeEventListener("input",Mt(this,Ax)),this.editorDiv.removeEventListener("paste",Mt(this,Ex)),this.div.focus({preventScroll:!0}),this.isEditing=!1,this.parent.div.classList.add("freetextEditing"))}focusin(ht){this._focusEventsAllowed&&(super.focusin(ht),ht.target!==this.editorDiv&&this.editorDiv.focus())}onceAdded(){var ht;this.width||(this.enableEditMode(),this.editorDiv.focus(),(ht=this._initialOptions)!=null&&ht.isCentered&&this.center(),this._initialOptions=null)}isEmpty(){return!this.editorDiv||this.editorDiv.innerText.trim()===""}remove(){this.isEditing=!1,this.parent&&(this.parent.setEditingState(!0),this.parent.div.classList.add("freetextEditing")),super.remove()}commit(){if(!this.isInEditMode())return;super.commit(),this.disableEditMode();const ht=Mt(this,qo),vt=$n(this,qo,Mn(this,uo,Jy).call(this).trimEnd());if(ht===vt)return;const At=St=>{if($n(this,qo,St),!St){this.remove();return}Mn(this,uo,f2).call(this),this._uiManager.rebuild(this),Mn(this,uo,h2).call(this)};this.addCommands({cmd:()=>{At(vt)},undo:()=>{At(ht)},mustExec:!1}),Mn(this,uo,h2).call(this)}shouldGetKeyboardEvents(){return this.isInEditMode()}enterInEditMode(){this.enableEditMode(),this.editorDiv.focus()}dblclick(ht){this.enterInEditMode()}keydown(ht){ht.target===this.div&&ht.key==="Enter"&&(this.enterInEditMode(),ht.preventDefault())}editorDivKeydown(ht){to._keyboardManager.exec(this,ht)}editorDivFocus(ht){this.isEditing=!0}editorDivBlur(ht){this.isEditing=!1}editorDivInput(ht){this.parent.div.classList.toggle("freetextEditing",this.isEmpty())}disableEditing(){this.editorDiv.setAttribute("role","comment"),this.editorDiv.removeAttribute("aria-multiline")}enableEditing(){this.editorDiv.setAttribute("role","textbox"),this.editorDiv.setAttribute("aria-multiline",!0)}render(){if(this.div)return this.div;let ht,vt;this.width&&(ht=this.x,vt=this.y),super.render(),this.editorDiv=document.createElement("div"),this.editorDiv.className="internal",this.editorDiv.setAttribute("id",Mt(this,Cx)),this.editorDiv.setAttribute("data-l10n-id","pdfjs-free-text"),this.enableEditing(),AnnotationEditor._l10nPromise.get("pdfjs-free-text-default-content").then(St=>{var Ct;return(Ct=this.editorDiv)==null?void 0:Ct.setAttribute("default-content",St)}),this.editorDiv.contentEditable=!0;const{style:At}=this.editorDiv;if(At.fontSize=`calc(${Mt(this,Ko)}px * var(--scale-factor))`,At.color=Mt(this,Nl),this.div.append(this.editorDiv),this.overlayDiv=document.createElement("div"),this.overlayDiv.classList.add("overlay","enabled"),this.div.append(this.overlayDiv),bindEvents(this,this.div,["dblclick","keydown"]),this.width){const[St,Ct]=this.parentDimensions;if(this.annotationElementId){const{position:Et}=Mt(this,Cp);let[Ft,wt]=this.getInitialTranslation();[Ft,wt]=this.pageTranslationToScreen(Ft,wt);const[_t,Rt]=this.pageDimensions,[_e,bt]=this.pageTranslation;let Pt,Xt;switch(this.rotation){case 0:Pt=ht+(Et[0]-_e)/_t,Xt=vt+this.height-(Et[1]-bt)/Rt;break;case 90:Pt=ht+(Et[0]-_e)/_t,Xt=vt-(Et[1]-bt)/Rt,[Ft,wt]=[wt,-Ft];break;case 180:Pt=ht-this.width+(Et[0]-_e)/_t,Xt=vt-(Et[1]-bt)/Rt,[Ft,wt]=[-Ft,-wt];break;case 270:Pt=ht+(Et[0]-_e-this.height*Rt)/_t,Xt=vt+(Et[1]-bt-this.width*_t)/Rt,[Ft,wt]=[-wt,Ft];break}this.setAt(Pt*St,Xt*Ct,Ft,wt)}else this.setAt(ht*St,vt*Ct,this.width*St,this.height*Ct);Mn(this,uo,f2).call(this),this._isDraggable=!0,this.editorDiv.contentEditable=!1}else this._isDraggable=!1,this.editorDiv.contentEditable=!0;return this.div}editorDivPaste(ht){var Pt,Xt,Kt;const vt=ht.clipboardData||window.clipboardData,{types:At}=vt;if(At.length===1&&At[0]==="text/plain")return;ht.preventDefault();const St=Mn(Pt=to,B0,X9).call(Pt,vt.getData("text")||"").replaceAll(EOL_PATTERN,`
`);if(!St)return;const Ct=window.getSelection();if(!Ct.rangeCount)return;this.editorDiv.normalize(),Ct.deleteFromDocument();const Et=Ct.getRangeAt(0);if(!St.includes(`
`)){Et.insertNode(document.createTextNode(St)),this.editorDiv.normalize(),Ct.collapseToStart();return}const{startContainer:Ft,startOffset:wt}=Et,_t=[],Rt=[];if(Ft.nodeType===Node.TEXT_NODE){const Nt=Ft.parentElement;if(Rt.push(Ft.nodeValue.slice(wt).replaceAll(EOL_PATTERN,"")),Nt!==this.editorDiv){let $t=_t;for(const Lt of this.editorDiv.childNodes){if(Lt===Nt){$t=Rt;continue}$t.push(Mn(Xt=to,B0,d2).call(Xt,Lt))}}_t.push(Ft.nodeValue.slice(0,wt).replaceAll(EOL_PATTERN,""))}else if(Ft===this.editorDiv){let Nt=_t,$t=0;for(const Lt of this.editorDiv.childNodes)$t++===wt&&(Nt=Rt),Nt.push(Mn(Kt=to,B0,d2).call(Kt,Lt))}$n(this,qo,`${_t.join(`
`)}${St}${Rt.join(`
`)}`),Mn(this,uo,f2).call(this);const _e=new Range;let bt=_t.reduce((Nt,$t)=>Nt+$t.length,0);for(const{firstChild:Nt}of this.editorDiv.childNodes)if(Nt.nodeType===Node.TEXT_NODE){const $t=Nt.nodeValue.length;if(bt<=$t){_e.setStart(Nt,bt),_e.setEnd(Nt,bt);break}bt-=$t}Ct.removeAllRanges(),Ct.addRange(_e)}get contentDiv(){return this.editorDiv}static deserialize(ht,vt,At){var Et;let St=null;if(ht instanceof FreeTextAnnotationElement){const{data:{defaultAppearanceData:{fontSize:Ft,fontColor:wt},rect:_t,rotation:Rt,id:_e},textContent:bt,textPosition:Pt,parent:{page:{pageNumber:Xt}}}=ht;if(!bt||bt.length===0)return null;St=ht={annotationType:AnnotationEditorType.FREETEXT,color:Array.from(wt),fontSize:Ft,value:bt.join(`
`),position:Pt,pageIndex:Xt-1,rect:_t.slice(0),rotation:Rt,id:_e,deleted:!1}}const Ct=super.deserialize(ht,vt,At);return $n(Ct,Ko,ht.fontSize),$n(Ct,Nl,Util.makeHexColor(...ht.color)),$n(Ct,qo,Mn(Et=to,B0,X9).call(Et,ht.value)),Ct.annotationElementId=ht.id||null,$n(Ct,Cp,St),Ct}serialize(ht=!1){if(this.isEmpty())return null;if(this.deleted)return{pageIndex:this.pageIndex,id:this.annotationElementId,deleted:!0};const vt=to._internalPadding*this.parentScale,At=this.getRect(vt,vt),St=AnnotationEditor._colorManager.convert(this.isAttachedToDOM?getComputedStyle(this.editorDiv).color:Mt(this,Nl)),Ct={annotationType:AnnotationEditorType.FREETEXT,color:St,fontSize:Mt(this,Ko),value:Mn(this,uo,Qy).call(this),pageIndex:this.pageIndex,rect:At,rotation:this.rotation,structTreeParentId:this._structTreeParentId};return ht?Ct:this.annotationElementId&&!Mn(this,uo,e8).call(this,Ct)?null:(Ct.id=this.annotationElementId,Ct)}renderAnnotationElement(ht){const vt=super.renderAnnotationElement(ht);if(this.deleted)return vt;const{style:At}=vt;At.fontSize=`calc(${Mt(this,Ko)}px * var(--scale-factor))`,At.color=Mt(this,Nl),vt.replaceChildren();for(const Ct of Mt(this,qo).split(`
`)){const Et=document.createElement("div");Et.append(Ct?document.createTextNode(Ct):document.createElement("br")),vt.append(Et)}const St=to._internalPadding*this.parentScale;return ht.updateEdited({rect:this.getRect(St,St),popupContent:Mt(this,qo)}),vt}resetAnnotationElement(ht){super.resetAnnotationElement(ht),ht.resetEdited()}};vx=new WeakMap,wx=new WeakMap,Ax=new WeakMap,Sx=new WeakMap,Ex=new WeakMap,Nl=new WeakMap,qo=new WeakMap,Cx=new WeakMap,Ko=new WeakMap,Cp=new WeakMap,uo=new WeakSet,Yy=function(ht){const vt=St=>{this.editorDiv.style.fontSize=`calc(${St}px * var(--scale-factor))`,this.translate(0,-(St-Mt(this,Ko))*this.parentScale),$n(this,Ko,St),Mn(this,uo,h2).call(this)},At=Mt(this,Ko);this.addCommands({cmd:vt.bind(this,ht),undo:vt.bind(this,At),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:AnnotationEditorParamsType.FREETEXT_SIZE,overwriteIfSameType:!0,keepUndo:!0})},Zy=function(ht){const vt=St=>{$n(this,Nl,this.editorDiv.style.color=St)},At=Mt(this,Nl);this.addCommands({cmd:vt.bind(this,ht),undo:vt.bind(this,At),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:AnnotationEditorParamsType.FREETEXT_COLOR,overwriteIfSameType:!0,keepUndo:!0})},Jy=function(){var vt;const ht=[];this.editorDiv.normalize();for(const At of this.editorDiv.childNodes)ht.push(Mn(vt=to,B0,d2).call(vt,At));return ht.join(`
`)},h2=function(){const[ht,vt]=this.parentDimensions;let At;if(this.isAttachedToDOM)At=this.div.getBoundingClientRect();else{const{currentLayer:St,div:Ct}=this,Et=Ct.style.display,Ft=Ct.classList.contains("hidden");Ct.classList.remove("hidden"),Ct.style.display="hidden",St.div.append(this.div),At=Ct.getBoundingClientRect(),Ct.remove(),Ct.style.display=Et,Ct.classList.toggle("hidden",Ft)}this.rotation%180===this.parentRotation%180?(this.width=At.width/ht,this.height=At.height/vt):(this.width=At.height/ht,this.height=At.width/vt),this.fixAndSetPosition()},B0=new WeakSet,d2=function(ht){return(ht.nodeType===Node.TEXT_NODE?ht.nodeValue:ht.innerText).replaceAll(EOL_PATTERN,"")},f2=function(){if(this.editorDiv.replaceChildren(),!!Mt(this,qo))for(const ht of Mt(this,qo).split(`
`)){const vt=document.createElement("div");vt.append(ht?document.createTextNode(ht):document.createElement("br")),this.editorDiv.append(vt)}},Qy=function(){return Mt(this,qo).replaceAll(""," ")},X9=function(ht){return ht.replaceAll(" ","")},e8=function(ht){const{value:vt,fontSize:At,color:St,pageIndex:Ct}=Mt(this,Cp);return this._hasBeenMoved||ht.value!==vt||ht.fontSize!==At||ht.color.some((Et,Ft)=>Et!==St[Ft])||ht.pageIndex!==Ct},Nn(to,B0),Ur(to,"_freeTextDefaultContent",""),Ur(to,"_internalPadding",0),Ur(to,"_defaultColor",null),Ur(to,"_defaultFontSize",10),Ur(to,"_type","freetext"),Ur(to,"_editorType",AnnotationEditorType.FREETEXT);let FreeTextEditor=to;var kx,ou,$l,jo,t8,p2,n8,i8,W9;class Outliner{constructor($,ht=0,vt=0,At=!0){Nn(this,jo);Nn(this,kx);Nn(this,ou,[]);Nn(this,$l,[]);let St=1/0,Ct=-1/0,Et=1/0,Ft=-1/0;const _t=10**-4;for(const{x:Nt,y:$t,width:Lt,height:jt}of $){const kt=Math.floor((Nt-ht)/_t)*_t,qt=Math.ceil((Nt+Lt+ht)/_t)*_t,Bt=Math.floor(($t-ht)/_t)*_t,Gt=Math.ceil(($t+jt+ht)/_t)*_t,en=[kt,Bt,Gt,!0],dn=[qt,Bt,Gt,!1];Mt(this,ou).push(en,dn),St=Math.min(St,kt),Ct=Math.max(Ct,qt),Et=Math.min(Et,Bt),Ft=Math.max(Ft,Gt)}const Rt=Ct-St+2*vt,_e=Ft-Et+2*vt,bt=St-vt,Pt=Et-vt,Xt=Mt(this,ou).at(At?-1:-2),Kt=[Xt[0],Xt[2]];for(const Nt of Mt(this,ou)){const[$t,Lt,jt]=Nt;Nt[0]=($t-bt)/Rt,Nt[1]=(Lt-Pt)/_e,Nt[2]=(jt-Pt)/_e}$n(this,kx,{x:bt,y:Pt,width:Rt,height:_e,lastPoint:Kt})}getOutlines(){Mt(this,ou).sort((ht,vt)=>ht[0]-vt[0]||ht[1]-vt[1]||ht[2]-vt[2]);const $=[];for(const ht of Mt(this,ou))ht[3]?($.push(...Mn(this,jo,W9).call(this,ht)),Mn(this,jo,n8).call(this,ht)):(Mn(this,jo,i8).call(this,ht),$.push(...Mn(this,jo,W9).call(this,ht)));return Mn(this,jo,t8).call(this,$)}}kx=new WeakMap,ou=new WeakMap,$l=new WeakMap,jo=new WeakSet,t8=function($){const ht=[],vt=new Set;for(const Ct of $){const[Et,Ft,wt]=Ct;ht.push([Et,Ft,Ct],[Et,wt,Ct])}ht.sort((Ct,Et)=>Ct[1]-Et[1]||Ct[0]-Et[0]);for(let Ct=0,Et=ht.length;Ct<Et;Ct+=2){const Ft=ht[Ct][2],wt=ht[Ct+1][2];Ft.push(wt),wt.push(Ft),vt.add(Ft),vt.add(wt)}const At=[];let St;for(;vt.size>0;){const Ct=vt.values().next().value;let[Et,Ft,wt,_t,Rt]=Ct;vt.delete(Ct);let _e=Et,bt=Ft;for(St=[Et,wt],At.push(St);;){let Pt;if(vt.has(_t))Pt=_t;else if(vt.has(Rt))Pt=Rt;else break;vt.delete(Pt),[Et,Ft,wt,_t,Rt]=Pt,_e!==Et&&(St.push(_e,bt,Et,bt===Ft?Ft:wt),_e=Et),bt=bt===Ft?wt:Ft}St.push(_e,bt)}return new HighlightOutline(At,Mt(this,kx))},p2=function($){const ht=Mt(this,$l);let vt=0,At=ht.length-1;for(;vt<=At;){const St=vt+At>>1,Ct=ht[St][0];if(Ct===$)return St;Ct<$?vt=St+1:At=St-1}return At+1},n8=function([,$,ht]){const vt=Mn(this,jo,p2).call(this,$);Mt(this,$l).splice(vt,0,[$,ht])},i8=function([,$,ht]){const vt=Mn(this,jo,p2).call(this,$);for(let At=vt;At<Mt(this,$l).length;At++){const[St,Ct]=Mt(this,$l)[At];if(St!==$)break;if(St===$&&Ct===ht){Mt(this,$l).splice(At,1);return}}for(let At=vt-1;At>=0;At--){const[St,Ct]=Mt(this,$l)[At];if(St!==$)break;if(St===$&&Ct===ht){Mt(this,$l).splice(At,1);return}}},W9=function($){const[ht,vt,At]=$,St=[[ht,vt,At]],Ct=Mn(this,jo,p2).call(this,At);for(let Et=0;Et<Ct;Et++){const[Ft,wt]=Mt(this,$l)[Et];for(let _t=0,Rt=St.length;_t<Rt;_t++){const[,_e,bt]=St[_t];if(!(wt<=_e||bt<=Ft)){if(_e>=Ft){if(bt>wt)St[_t][1]=wt;else{if(Rt===1)return[];St.splice(_t,1),_t--,Rt--}continue}St[_t][2]=Ft,bt>wt&&St.push([ht,wt,bt])}}}return St};class Outline{toSVGPath(){throw new Error("Abstract method `toSVGPath` must be implemented.")}get box(){throw new Error("Abstract getter `box` must be implemented.")}serialize($,ht){throw new Error("Abstract method `serialize` must be implemented.")}get free(){return this instanceof FreeHighlightOutline}}var Tx,kp;class HighlightOutline extends Outline{constructor(ht,vt){super();Nn(this,Tx);Nn(this,kp);$n(this,kp,ht),$n(this,Tx,vt)}toSVGPath(){const ht=[];for(const vt of Mt(this,kp)){let[At,St]=vt;ht.push(`M${At} ${St}`);for(let Ct=2;Ct<vt.length;Ct+=2){const Et=vt[Ct],Ft=vt[Ct+1];Et===At?(ht.push(`V${Ft}`),St=Ft):Ft===St&&(ht.push(`H${Et}`),At=Et)}ht.push("Z")}return ht.join(" ")}serialize([ht,vt,At,St],Ct){const Et=[],Ft=At-ht,wt=St-vt;for(const _t of Mt(this,kp)){const Rt=new Array(_t.length);for(let _e=0;_e<_t.length;_e+=2)Rt[_e]=ht+_t[_e]*Ft,Rt[_e+1]=St-_t[_e+1]*wt;Et.push(Rt)}return Et}get box(){return Mt(this,Tx)}}Tx=new WeakMap,kp=new WeakMap;var e0,I0,Tp,_p,t0,js,o1,l1,_x,Fx,Fp,Pp,lu,Px,i9,r9,Rx,V9;const f0=class f0{constructor({x:$,y:ht},vt,At,St,Ct,Et=0){Nn(this,Rx);Nn(this,e0);Nn(this,I0,[]);Nn(this,Tp);Nn(this,_p);Nn(this,t0,[]);Nn(this,js,new Float64Array(18));Nn(this,o1);Nn(this,l1);Nn(this,_x);Nn(this,Fx);Nn(this,Fp);Nn(this,Pp);Nn(this,lu,[]);$n(this,e0,vt),$n(this,Pp,St*At),$n(this,_p,Ct),Mt(this,js).set([NaN,NaN,NaN,NaN,$,ht],6),$n(this,Tp,Et),$n(this,Fx,Mt(f0,Px)*At),$n(this,_x,Mt(f0,r9)*At),$n(this,Fp,At),Mt(this,lu).push($,ht)}get free(){return!0}isEmpty(){return isNaN(Mt(this,js)[8])}add({x:$,y:ht}){var en;$n(this,o1,$),$n(this,l1,ht);const[vt,At,St,Ct]=Mt(this,e0);let[Et,Ft,wt,_t]=Mt(this,js).subarray(8,12);const Rt=$-wt,_e=ht-_t,bt=Math.hypot(Rt,_e);if(bt<Mt(this,_x))return!1;const Pt=bt-Mt(this,Fx),Xt=Pt/bt,Kt=Xt*Rt,Nt=Xt*_e;let $t=Et,Lt=Ft;Et=wt,Ft=_t,wt+=Kt,_t+=Nt,(en=Mt(this,lu))==null||en.push($,ht);const jt=-Nt/Pt,kt=Kt/Pt,qt=jt*Mt(this,Pp),Bt=kt*Mt(this,Pp);return Mt(this,js).set(Mt(this,js).subarray(2,8),0),Mt(this,js).set([wt+qt,_t+Bt],4),Mt(this,js).set(Mt(this,js).subarray(14,18),12),Mt(this,js).set([wt-qt,_t-Bt],16),isNaN(Mt(this,js)[6])?(Mt(this,t0).length===0&&(Mt(this,js).set([Et+qt,Ft+Bt],2),Mt(this,t0).push(NaN,NaN,NaN,NaN,(Et+qt-vt)/St,(Ft+Bt-At)/Ct),Mt(this,js).set([Et-qt,Ft-Bt],14),Mt(this,I0).push(NaN,NaN,NaN,NaN,(Et-qt-vt)/St,(Ft-Bt-At)/Ct)),Mt(this,js).set([$t,Lt,Et,Ft,wt,_t],6),!this.isEmpty()):(Mt(this,js).set([$t,Lt,Et,Ft,wt,_t],6),Math.abs(Math.atan2(Lt-Ft,$t-Et)-Math.atan2(Nt,Kt))<Math.PI/2?([Et,Ft,wt,_t]=Mt(this,js).subarray(2,6),Mt(this,t0).push(NaN,NaN,NaN,NaN,((Et+wt)/2-vt)/St,((Ft+_t)/2-At)/Ct),[Et,Ft,$t,Lt]=Mt(this,js).subarray(14,18),Mt(this,I0).push(NaN,NaN,NaN,NaN,(($t+Et)/2-vt)/St,((Lt+Ft)/2-At)/Ct),!0):([$t,Lt,Et,Ft,wt,_t]=Mt(this,js).subarray(0,6),Mt(this,t0).push((($t+5*Et)/6-vt)/St,((Lt+5*Ft)/6-At)/Ct,((5*Et+wt)/6-vt)/St,((5*Ft+_t)/6-At)/Ct,((Et+wt)/2-vt)/St,((Ft+_t)/2-At)/Ct),[wt,_t,Et,Ft,$t,Lt]=Mt(this,js).subarray(12,18),Mt(this,I0).push((($t+5*Et)/6-vt)/St,((Lt+5*Ft)/6-At)/Ct,((5*Et+wt)/6-vt)/St,((5*Ft+_t)/6-At)/Ct,((Et+wt)/2-vt)/St,((Ft+_t)/2-At)/Ct),!0))}toSVGPath(){if(this.isEmpty())return"";const $=Mt(this,t0),ht=Mt(this,I0),vt=Mt(this,js).subarray(4,6),At=Mt(this,js).subarray(16,18),[St,Ct,Et,Ft]=Mt(this,e0),[wt,_t,Rt,_e]=Mn(this,Rx,V9).call(this);if(isNaN(Mt(this,js)[6])&&!this.isEmpty())return`M${(Mt(this,js)[2]-St)/Et} ${(Mt(this,js)[3]-Ct)/Ft} L${(Mt(this,js)[4]-St)/Et} ${(Mt(this,js)[5]-Ct)/Ft} L${wt} ${_t} L${Rt} ${_e} L${(Mt(this,js)[16]-St)/Et} ${(Mt(this,js)[17]-Ct)/Ft} L${(Mt(this,js)[14]-St)/Et} ${(Mt(this,js)[15]-Ct)/Ft} Z`;const bt=[];bt.push(`M${$[4]} ${$[5]}`);for(let Pt=6;Pt<$.length;Pt+=6)isNaN($[Pt])?bt.push(`L${$[Pt+4]} ${$[Pt+5]}`):bt.push(`C${$[Pt]} ${$[Pt+1]} ${$[Pt+2]} ${$[Pt+3]} ${$[Pt+4]} ${$[Pt+5]}`);bt.push(`L${(vt[0]-St)/Et} ${(vt[1]-Ct)/Ft} L${wt} ${_t} L${Rt} ${_e} L${(At[0]-St)/Et} ${(At[1]-Ct)/Ft}`);for(let Pt=ht.length-6;Pt>=6;Pt-=6)isNaN(ht[Pt])?bt.push(`L${ht[Pt+4]} ${ht[Pt+5]}`):bt.push(`C${ht[Pt]} ${ht[Pt+1]} ${ht[Pt+2]} ${ht[Pt+3]} ${ht[Pt+4]} ${ht[Pt+5]}`);return bt.push(`L${ht[4]} ${ht[5]} Z`),bt.join(" ")}getOutlines(){var Nt;const $=Mt(this,t0),ht=Mt(this,I0),vt=Mt(this,js),At=vt.subarray(4,6),St=vt.subarray(16,18),[Ct,Et,Ft,wt]=Mt(this,e0),_t=new Float64Array((((Nt=Mt(this,lu))==null?void 0:Nt.length)??0)+2);for(let $t=0,Lt=_t.length-2;$t<Lt;$t+=2)_t[$t]=(Mt(this,lu)[$t]-Ct)/Ft,_t[$t+1]=(Mt(this,lu)[$t+1]-Et)/wt;_t[_t.length-2]=(Mt(this,o1)-Ct)/Ft,_t[_t.length-1]=(Mt(this,l1)-Et)/wt;const[Rt,_e,bt,Pt]=Mn(this,Rx,V9).call(this);if(isNaN(vt[6])&&!this.isEmpty()){const $t=new Float64Array(36);return $t.set([NaN,NaN,NaN,NaN,(vt[2]-Ct)/Ft,(vt[3]-Et)/wt,NaN,NaN,NaN,NaN,(vt[4]-Ct)/Ft,(vt[5]-Et)/wt,NaN,NaN,NaN,NaN,Rt,_e,NaN,NaN,NaN,NaN,bt,Pt,NaN,NaN,NaN,NaN,(vt[16]-Ct)/Ft,(vt[17]-Et)/wt,NaN,NaN,NaN,NaN,(vt[14]-Ct)/Ft,(vt[15]-Et)/wt],0),new FreeHighlightOutline($t,_t,Mt(this,e0),Mt(this,Fp),Mt(this,Tp),Mt(this,_p))}const Xt=new Float64Array(Mt(this,t0).length+24+Mt(this,I0).length);let Kt=$.length;for(let $t=0;$t<Kt;$t+=2){if(isNaN($[$t])){Xt[$t]=Xt[$t+1]=NaN;continue}Xt[$t]=$[$t],Xt[$t+1]=$[$t+1]}Xt.set([NaN,NaN,NaN,NaN,(At[0]-Ct)/Ft,(At[1]-Et)/wt,NaN,NaN,NaN,NaN,Rt,_e,NaN,NaN,NaN,NaN,bt,Pt,NaN,NaN,NaN,NaN,(St[0]-Ct)/Ft,(St[1]-Et)/wt],Kt),Kt+=24;for(let $t=ht.length-6;$t>=6;$t-=6)for(let Lt=0;Lt<6;Lt+=2){if(isNaN(ht[$t+Lt])){Xt[Kt]=Xt[Kt+1]=NaN,Kt+=2;continue}Xt[Kt]=ht[$t+Lt],Xt[Kt+1]=ht[$t+Lt+1],Kt+=2}return Xt.set([NaN,NaN,NaN,NaN,ht[4],ht[5]],Kt),new FreeHighlightOutline(Xt,_t,Mt(this,e0),Mt(this,Fp),Mt(this,Tp),Mt(this,_p))}};e0=new WeakMap,I0=new WeakMap,Tp=new WeakMap,_p=new WeakMap,t0=new WeakMap,js=new WeakMap,o1=new WeakMap,l1=new WeakMap,_x=new WeakMap,Fx=new WeakMap,Fp=new WeakMap,Pp=new WeakMap,lu=new WeakMap,Px=new WeakMap,i9=new WeakMap,r9=new WeakMap,Rx=new WeakSet,V9=function(){const $=Mt(this,js).subarray(4,6),ht=Mt(this,js).subarray(16,18),[vt,At,St,Ct]=Mt(this,e0);return[(Mt(this,o1)+($[0]-ht[0])/2-vt)/St,(Mt(this,l1)+($[1]-ht[1])/2-At)/Ct,(Mt(this,o1)+(ht[0]-$[0])/2-vt)/St,(Mt(this,l1)+(ht[1]-$[1])/2-At)/Ct]},Nn(f0,Px,8),Nn(f0,i9,2),Nn(f0,r9,Mt(f0,Px)+Mt(f0,i9));let FreeOutliner=f0;var Rp,c1,M0,Ix,Yo,Mx,oo,zo,tm,nm,r8;class FreeHighlightOutline extends Outline{constructor(ht,vt,At,St,Ct,Et){super();Nn(this,zo);Nn(this,Rp);Nn(this,c1,null);Nn(this,M0);Nn(this,Ix);Nn(this,Yo);Nn(this,Mx);Nn(this,oo);$n(this,oo,ht),$n(this,Yo,vt),$n(this,Rp,At),$n(this,Mx,St),$n(this,M0,Ct),$n(this,Ix,Et),Mn(this,zo,r8).call(this,Et);const{x:Ft,y:wt,width:_t,height:Rt}=Mt(this,c1);for(let _e=0,bt=ht.length;_e<bt;_e+=2)ht[_e]=(ht[_e]-Ft)/_t,ht[_e+1]=(ht[_e+1]-wt)/Rt;for(let _e=0,bt=vt.length;_e<bt;_e+=2)vt[_e]=(vt[_e]-Ft)/_t,vt[_e+1]=(vt[_e+1]-wt)/Rt}toSVGPath(){const ht=[`M${Mt(this,oo)[4]} ${Mt(this,oo)[5]}`];for(let vt=6,At=Mt(this,oo).length;vt<At;vt+=6){if(isNaN(Mt(this,oo)[vt])){ht.push(`L${Mt(this,oo)[vt+4]} ${Mt(this,oo)[vt+5]}`);continue}ht.push(`C${Mt(this,oo)[vt]} ${Mt(this,oo)[vt+1]} ${Mt(this,oo)[vt+2]} ${Mt(this,oo)[vt+3]} ${Mt(this,oo)[vt+4]} ${Mt(this,oo)[vt+5]}`)}return ht.push("Z"),ht.join(" ")}serialize([ht,vt,At,St],Ct){const Et=At-ht,Ft=St-vt;let wt,_t;switch(Ct){case 0:wt=Mn(this,zo,tm).call(this,Mt(this,oo),ht,St,Et,-Ft),_t=Mn(this,zo,tm).call(this,Mt(this,Yo),ht,St,Et,-Ft);break;case 90:wt=Mn(this,zo,nm).call(this,Mt(this,oo),ht,vt,Et,Ft),_t=Mn(this,zo,nm).call(this,Mt(this,Yo),ht,vt,Et,Ft);break;case 180:wt=Mn(this,zo,tm).call(this,Mt(this,oo),At,vt,-Et,Ft),_t=Mn(this,zo,tm).call(this,Mt(this,Yo),At,vt,-Et,Ft);break;case 270:wt=Mn(this,zo,nm).call(this,Mt(this,oo),At,St,-Et,-Ft),_t=Mn(this,zo,nm).call(this,Mt(this,Yo),At,St,-Et,-Ft);break}return{outline:Array.from(wt),points:[Array.from(_t)]}}get box(){return Mt(this,c1)}getNewOutline(ht,vt){const{x:At,y:St,width:Ct,height:Et}=Mt(this,c1),[Ft,wt,_t,Rt]=Mt(this,Rp),_e=Ct*_t,bt=Et*Rt,Pt=At*_t+Ft,Xt=St*Rt+wt,Kt=new FreeOutliner({x:Mt(this,Yo)[0]*_e+Pt,y:Mt(this,Yo)[1]*bt+Xt},Mt(this,Rp),Mt(this,Mx),ht,Mt(this,Ix),vt??Mt(this,M0));for(let Nt=2;Nt<Mt(this,Yo).length;Nt+=2)Kt.add({x:Mt(this,Yo)[Nt]*_e+Pt,y:Mt(this,Yo)[Nt+1]*bt+Xt});return Kt.getOutlines()}}Rp=new WeakMap,c1=new WeakMap,M0=new WeakMap,Ix=new WeakMap,Yo=new WeakMap,Mx=new WeakMap,oo=new WeakMap,zo=new WeakSet,tm=function(ht,vt,At,St,Ct){const Et=new Float64Array(ht.length);for(let Ft=0,wt=ht.length;Ft<wt;Ft+=2)Et[Ft]=vt+ht[Ft]*St,Et[Ft+1]=At+ht[Ft+1]*Ct;return Et},nm=function(ht,vt,At,St,Ct){const Et=new Float64Array(ht.length);for(let Ft=0,wt=ht.length;Ft<wt;Ft+=2)Et[Ft]=vt+ht[Ft+1]*St,Et[Ft+1]=At+ht[Ft]*Ct;return Et},r8=function(ht){const vt=Mt(this,oo);let At=vt[4],St=vt[5],Ct=At,Et=St,Ft=At,wt=St,_t=At,Rt=St;const _e=ht?Math.max:Math.min;for(let Nt=6,$t=vt.length;Nt<$t;Nt+=6){if(isNaN(vt[Nt]))Ct=Math.min(Ct,vt[Nt+4]),Et=Math.min(Et,vt[Nt+5]),Ft=Math.max(Ft,vt[Nt+4]),wt=Math.max(wt,vt[Nt+5]),Rt<vt[Nt+5]?(_t=vt[Nt+4],Rt=vt[Nt+5]):Rt===vt[Nt+5]&&(_t=_e(_t,vt[Nt+4]));else{const Lt=Util.bezierBoundingBox(At,St,...vt.slice(Nt,Nt+6));Ct=Math.min(Ct,Lt[0]),Et=Math.min(Et,Lt[1]),Ft=Math.max(Ft,Lt[2]),wt=Math.max(wt,Lt[3]),Rt<Lt[3]?(_t=Lt[2],Rt=Lt[3]):Rt===Lt[3]&&(_t=_e(_t,Lt[2]))}At=vt[Nt+4],St=vt[Nt+5]}const bt=Ct-Mt(this,M0),Pt=Et-Mt(this,M0),Xt=Ft-Ct+2*Mt(this,M0),Kt=wt-Et+2*Mt(this,M0);$n(this,c1,{x:bt,y:Pt,width:Xt,height:Kt,lastPoint:[_t,Rt]})};var Ox,Dx,Bl,u1,Ip,po,Lx,Mp,Nx,$x,cu,Op,$a,G9,q9,s8,_u,a8,Y0;const p0=class p0{constructor({editor:$=null,uiManager:ht=null}){Nn(this,$a);Nn(this,Ox,Mn(this,$a,s8).bind(this));Nn(this,Dx,Mn(this,$a,a8).bind(this));Nn(this,Bl,null);Nn(this,u1,null);Nn(this,Ip);Nn(this,po,null);Nn(this,Lx,!1);Nn(this,Mp,!1);Nn(this,Nx,null);Nn(this,$x);Nn(this,cu,null);Nn(this,Op);var vt;$?($n(this,Mp,!1),$n(this,Op,AnnotationEditorParamsType.HIGHLIGHT_COLOR),$n(this,Nx,$)):($n(this,Mp,!0),$n(this,Op,AnnotationEditorParamsType.HIGHLIGHT_DEFAULT_COLOR)),$n(this,cu,($==null?void 0:$._uiManager)||ht),$n(this,$x,Mt(this,cu)._eventBus),$n(this,Ip,($==null?void 0:$.color)||((vt=Mt(this,cu))==null?void 0:vt.highlightColors.values().next().value)||"#FFFF98")}static get _keyboardManager(){return shadow(this,"_keyboardManager",new KeyboardManager([[["Escape","mac+Escape"],p0.prototype._hideDropdownFromKeyboard],[[" ","mac+ "],p0.prototype._colorSelectFromKeyboard],[["ArrowDown","ArrowRight","mac+ArrowDown","mac+ArrowRight"],p0.prototype._moveToNext],[["ArrowUp","ArrowLeft","mac+ArrowUp","mac+ArrowLeft"],p0.prototype._moveToPrevious],[["Home","mac+Home"],p0.prototype._moveToBeginning],[["End","mac+End"],p0.prototype._moveToEnd]]))}renderButton(){const $=$n(this,Bl,document.createElement("button"));$.className="colorPicker",$.tabIndex="0",$.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-button"),$.setAttribute("aria-haspopup",!0),$.addEventListener("click",Mn(this,$a,_u).bind(this)),$.addEventListener("keydown",Mt(this,Ox));const ht=$n(this,u1,document.createElement("span"));return ht.className="swatch",ht.setAttribute("aria-hidden",!0),ht.style.backgroundColor=Mt(this,Ip),$.append(ht),$}renderMainDropdown(){const $=$n(this,po,Mn(this,$a,G9).call(this));return $.setAttribute("aria-orientation","horizontal"),$.setAttribute("aria-labelledby","highlightColorPickerLabel"),$}_colorSelectFromKeyboard($){if($.target===Mt(this,Bl)){Mn(this,$a,_u).call(this,$);return}const ht=$.target.getAttribute("data-color");ht&&Mn(this,$a,q9).call(this,ht,$)}_moveToNext($){var ht,vt;if(!Mt(this,$a,Y0)){Mn(this,$a,_u).call(this,$);return}if($.target===Mt(this,Bl)){(ht=Mt(this,po).firstChild)==null||ht.focus();return}(vt=$.target.nextSibling)==null||vt.focus()}_moveToPrevious($){var ht,vt;if($.target===((ht=Mt(this,po))==null?void 0:ht.firstChild)||$.target===Mt(this,Bl)){Mt(this,$a,Y0)&&this._hideDropdownFromKeyboard();return}Mt(this,$a,Y0)||Mn(this,$a,_u).call(this,$),(vt=$.target.previousSibling)==null||vt.focus()}_moveToBeginning($){var ht;if(!Mt(this,$a,Y0)){Mn(this,$a,_u).call(this,$);return}(ht=Mt(this,po).firstChild)==null||ht.focus()}_moveToEnd($){var ht;if(!Mt(this,$a,Y0)){Mn(this,$a,_u).call(this,$);return}(ht=Mt(this,po).lastChild)==null||ht.focus()}hideDropdown(){var $;($=Mt(this,po))==null||$.classList.add("hidden"),window.removeEventListener("pointerdown",Mt(this,Dx))}_hideDropdownFromKeyboard(){var $;if(!Mt(this,Mp)){if(!Mt(this,$a,Y0)){($=Mt(this,Nx))==null||$.unselect();return}this.hideDropdown(),Mt(this,Bl).focus({preventScroll:!0,focusVisible:Mt(this,Lx)})}}updateColor($){if(Mt(this,u1)&&(Mt(this,u1).style.backgroundColor=$),!Mt(this,po))return;const ht=Mt(this,cu).highlightColors.values();for(const vt of Mt(this,po).children)vt.setAttribute("aria-selected",ht.next().value===$)}destroy(){var $,ht;($=Mt(this,Bl))==null||$.remove(),$n(this,Bl,null),$n(this,u1,null),(ht=Mt(this,po))==null||ht.remove(),$n(this,po,null)}};Ox=new WeakMap,Dx=new WeakMap,Bl=new WeakMap,u1=new WeakMap,Ip=new WeakMap,po=new WeakMap,Lx=new WeakMap,Mp=new WeakMap,Nx=new WeakMap,$x=new WeakMap,cu=new WeakMap,Op=new WeakMap,$a=new WeakSet,G9=function(){const $=document.createElement("div");$.addEventListener("contextmenu",noContextMenu),$.className="dropdown",$.role="listbox",$.setAttribute("aria-multiselectable",!1),$.setAttribute("aria-orientation","vertical"),$.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-dropdown");for(const[ht,vt]of Mt(this,cu).highlightColors){const At=document.createElement("button");At.tabIndex="0",At.role="option",At.setAttribute("data-color",vt),At.title=ht,At.setAttribute("data-l10n-id",`pdfjs-editor-colorpicker-${ht}`);const St=document.createElement("span");At.append(St),St.className="swatch",St.style.backgroundColor=vt,At.setAttribute("aria-selected",vt===Mt(this,Ip)),At.addEventListener("click",Mn(this,$a,q9).bind(this,vt)),$.append(At)}return $.addEventListener("keydown",Mt(this,Ox)),$},q9=function($,ht){ht.stopPropagation(),Mt(this,$x).dispatch("switchannotationeditorparams",{source:this,type:Mt(this,Op),value:$})},s8=function($){p0._keyboardManager.exec(this,$)},_u=function($){if(Mt(this,$a,Y0)){this.hideDropdown();return}if($n(this,Lx,$.detail===0),window.addEventListener("pointerdown",Mt(this,Dx)),Mt(this,po)){Mt(this,po).classList.remove("hidden");return}const ht=$n(this,po,Mn(this,$a,G9).call(this));Mt(this,Bl).append(ht)},a8=function($){var ht;(ht=Mt(this,po))!=null&&ht.contains($.target)||this.hideDropdown()},Y0=function(){return Mt(this,po)&&!Mt(this,po).classList.contains("hidden")};let ColorPicker=p0;var Dp,jx,uu,h1,Lp,Al,Bx,Ux,d1,Ul,Lo,Zo,s9,Np,f1,go,$p,n0,Hx,Ls,K9,Y9,o8,l8,c8,Z9,im,Cl,j1,u8,g2,rm,h8,d8,f8,p8;const Ws=class Ws extends AnnotationEditor{constructor(ht){super({...ht,name:"highlightEditor"});Nn(this,Ls);Nn(this,Dp,null);Nn(this,jx,0);Nn(this,uu);Nn(this,h1,null);Nn(this,Lp,null);Nn(this,Al,null);Nn(this,Bx,null);Nn(this,Ux,0);Nn(this,d1,null);Nn(this,Ul,null);Nn(this,Lo,null);Nn(this,Zo,!1);Nn(this,s9,Mn(this,Ls,u8).bind(this));Nn(this,Np,null);Nn(this,f1);Nn(this,go,null);Nn(this,$p,"");Nn(this,n0);Nn(this,Hx,"");this.color=ht.color||Ws._defaultColor,$n(this,n0,ht.thickness||Ws._defaultThickness),$n(this,f1,ht.opacity||Ws._defaultOpacity),$n(this,uu,ht.boxes||null),$n(this,Hx,ht.methodOfCreation||""),$n(this,$p,ht.text||""),this._isDraggable=!1,ht.highlightId>-1?($n(this,Zo,!0),Mn(this,Ls,Y9).call(this,ht),Mn(this,Ls,im).call(this)):($n(this,Dp,ht.anchorNode),$n(this,jx,ht.anchorOffset),$n(this,Bx,ht.focusNode),$n(this,Ux,ht.focusOffset),Mn(this,Ls,K9).call(this),Mn(this,Ls,im).call(this),this.rotate(this.rotation))}static get _keyboardManager(){const ht=Ws.prototype;return shadow(this,"_keyboardManager",new KeyboardManager([[["ArrowLeft","mac+ArrowLeft"],ht._moveCaret,{args:[0]}],[["ArrowRight","mac+ArrowRight"],ht._moveCaret,{args:[1]}],[["ArrowUp","mac+ArrowUp"],ht._moveCaret,{args:[2]}],[["ArrowDown","mac+ArrowDown"],ht._moveCaret,{args:[3]}]]))}get telemetryInitialData(){return{action:"added",type:Mt(this,Zo)?"free_highlight":"highlight",color:this._uiManager.highlightColorNames.get(this.color),thickness:Mt(this,n0),methodOfCreation:Mt(this,Hx)}}get telemetryFinalData(){return{type:"highlight",color:this._uiManager.highlightColorNames.get(this.color)}}static computeTelemetryFinalData(ht){return{numberOfColors:ht.get("color").size}}static initialize(ht,vt){var At;AnnotationEditor.initialize(ht,vt),Ws._defaultColor||(Ws._defaultColor=((At=vt.highlightColors)==null?void 0:At.values().next().value)||"#fff066")}static updateDefaultParams(ht,vt){switch(ht){case AnnotationEditorParamsType.HIGHLIGHT_DEFAULT_COLOR:Ws._defaultColor=vt;break;case AnnotationEditorParamsType.HIGHLIGHT_THICKNESS:Ws._defaultThickness=vt;break}}translateInPage(ht,vt){}get toolbarPosition(){return Mt(this,Np)}updateParams(ht,vt){switch(ht){case AnnotationEditorParamsType.HIGHLIGHT_COLOR:Mn(this,Ls,o8).call(this,vt);break;case AnnotationEditorParamsType.HIGHLIGHT_THICKNESS:Mn(this,Ls,l8).call(this,vt);break}}static get defaultPropertiesToUpdate(){return[[AnnotationEditorParamsType.HIGHLIGHT_DEFAULT_COLOR,Ws._defaultColor],[AnnotationEditorParamsType.HIGHLIGHT_THICKNESS,Ws._defaultThickness]]}get propertiesToUpdate(){return[[AnnotationEditorParamsType.HIGHLIGHT_COLOR,this.color||Ws._defaultColor],[AnnotationEditorParamsType.HIGHLIGHT_THICKNESS,Mt(this,n0)||Ws._defaultThickness],[AnnotationEditorParamsType.HIGHLIGHT_FREE,Mt(this,Zo)]]}async addEditToolbar(){const ht=await super.addEditToolbar();return ht?(this._uiManager.highlightColors&&($n(this,Lp,new ColorPicker({editor:this})),ht.addColorPicker(Mt(this,Lp))),ht):null}disableEditing(){super.disableEditing(),this.div.classList.toggle("disabled",!0)}enableEditing(){super.enableEditing(),this.div.classList.toggle("disabled",!1)}fixAndSetPosition(){return super.fixAndSetPosition(Mn(this,Ls,rm).call(this))}getBaseTranslation(){return[0,0]}getRect(ht,vt){return super.getRect(ht,vt,Mn(this,Ls,rm).call(this))}onceAdded(){this.parent.addUndoableEditor(this),this.div.focus()}remove(){Mn(this,Ls,Z9).call(this),this._reportTelemetry({action:"deleted"}),super.remove()}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(Mn(this,Ls,im).call(this),this.isAttachedToDOM||this.parent.add(this)))}setParent(ht){var At;let vt=!1;this.parent&&!ht?Mn(this,Ls,Z9).call(this):ht&&(Mn(this,Ls,im).call(this,ht),vt=!this.parent&&((At=this.div)==null?void 0:At.classList.contains("selectedEditor"))),super.setParent(ht),this.show(this._isVisible),vt&&this.select()}rotate(ht){var St,Ct,Et;const{drawLayer:vt}=this.parent;let At;Mt(this,Zo)?(ht=(ht-this.rotation+360)%360,At=Mn(St=Ws,Cl,j1).call(St,Mt(this,Ul).box,ht)):At=Mn(Ct=Ws,Cl,j1).call(Ct,this,ht),vt.rotate(Mt(this,Lo),ht),vt.rotate(Mt(this,go),ht),vt.updateBox(Mt(this,Lo),At),vt.updateBox(Mt(this,go),Mn(Et=Ws,Cl,j1).call(Et,Mt(this,Al).box,ht))}render(){if(this.div)return this.div;const ht=super.render();Mt(this,$p)&&(ht.setAttribute("aria-label",Mt(this,$p)),ht.setAttribute("role","mark")),Mt(this,Zo)?ht.classList.add("free"):this.div.addEventListener("keydown",Mt(this,s9));const vt=$n(this,d1,document.createElement("div"));ht.append(vt),vt.setAttribute("aria-hidden","true"),vt.className="internal",vt.style.clipPath=Mt(this,h1);const[At,St]=this.parentDimensions;return this.setDims(this.width*At,this.height*St),bindEvents(this,Mt(this,d1),["pointerover","pointerleave"]),this.enableEditing(),ht}pointerover(){this.parent.drawLayer.addClass(Mt(this,go),"hovered")}pointerleave(){this.parent.drawLayer.removeClass(Mt(this,go),"hovered")}_moveCaret(ht){switch(this.parent.unselect(this),ht){case 0:case 2:Mn(this,Ls,g2).call(this,!0);break;case 1:case 3:Mn(this,Ls,g2).call(this,!1);break}}select(){var ht,vt;super.select(),Mt(this,go)&&((ht=this.parent)==null||ht.drawLayer.removeClass(Mt(this,go),"hovered"),(vt=this.parent)==null||vt.drawLayer.addClass(Mt(this,go),"selected"))}unselect(){var ht;super.unselect(),Mt(this,go)&&((ht=this.parent)==null||ht.drawLayer.removeClass(Mt(this,go),"selected"),Mt(this,Zo)||Mn(this,Ls,g2).call(this,!1))}get _mustFixPosition(){return!Mt(this,Zo)}show(ht=this._isVisible){super.show(ht),this.parent&&(this.parent.drawLayer.show(Mt(this,Lo),ht),this.parent.drawLayer.show(Mt(this,go),ht))}static startHighlighting(ht,vt,{target:At,x:St,y:Ct}){const{x:Et,y:Ft,width:wt,height:_t}=At.getBoundingClientRect(),Rt=Xt=>{Mn(this,Cl,f8).call(this,ht,Xt)},_e={capture:!0,passive:!1},bt=Xt=>{Xt.preventDefault(),Xt.stopPropagation()},Pt=Xt=>{At.removeEventListener("pointermove",Rt),window.removeEventListener("blur",Pt),window.removeEventListener("pointerup",Pt),window.removeEventListener("pointerdown",bt,_e),window.removeEventListener("contextmenu",noContextMenu),Mn(this,Cl,p8).call(this,ht,Xt)};window.addEventListener("blur",Pt),window.addEventListener("pointerup",Pt),window.addEventListener("pointerdown",bt,_e),window.addEventListener("contextmenu",noContextMenu),At.addEventListener("pointermove",Rt),this._freeHighlight=new FreeOutliner({x:St,y:Ct},[Et,Ft,wt,_t],ht.scale,this._defaultThickness/2,vt,.001),{id:this._freeHighlightId,clipPathId:this._freeHighlightClipId}=ht.drawLayer.highlight(this._freeHighlight,this._defaultColor,this._defaultOpacity,!0)}static deserialize(ht,vt,At){var Xt;const St=super.deserialize(ht,vt,At),{rect:[Ct,Et,Ft,wt],color:_t,quadPoints:Rt}=ht;St.color=Util.makeHexColor(..._t),$n(St,f1,ht.opacity);const[_e,bt]=St.pageDimensions;St.width=(Ft-Ct)/_e,St.height=(wt-Et)/bt;const Pt=$n(St,uu,[]);for(let Kt=0;Kt<Rt.length;Kt+=8)Pt.push({x:(Rt[4]-Ft)/_e,y:(wt-(1-Rt[Kt+5]))/bt,width:(Rt[Kt+2]-Rt[Kt])/_e,height:(Rt[Kt+5]-Rt[Kt+1])/bt});return Mn(Xt=St,Ls,K9).call(Xt),St}serialize(ht=!1){if(this.isEmpty()||ht)return null;const vt=this.getRect(0,0),At=AnnotationEditor._colorManager.convert(this.color);return{annotationType:AnnotationEditorType.HIGHLIGHT,color:At,opacity:Mt(this,f1),thickness:Mt(this,n0),quadPoints:Mn(this,Ls,h8).call(this),outlines:Mn(this,Ls,d8).call(this,vt),pageIndex:this.pageIndex,rect:vt,rotation:Mn(this,Ls,rm).call(this),structTreeParentId:this._structTreeParentId}}static canCreateNewEmptyEditor(){return!1}};Dp=new WeakMap,jx=new WeakMap,uu=new WeakMap,h1=new WeakMap,Lp=new WeakMap,Al=new WeakMap,Bx=new WeakMap,Ux=new WeakMap,d1=new WeakMap,Ul=new WeakMap,Lo=new WeakMap,Zo=new WeakMap,s9=new WeakMap,Np=new WeakMap,f1=new WeakMap,go=new WeakMap,$p=new WeakMap,n0=new WeakMap,Hx=new WeakMap,Ls=new WeakSet,K9=function(){const ht=new Outliner(Mt(this,uu),.001);$n(this,Ul,ht.getOutlines()),{x:this.x,y:this.y,width:this.width,height:this.height}=Mt(this,Ul).box;const vt=new Outliner(Mt(this,uu),.0025,.001,this._uiManager.direction==="ltr");$n(this,Al,vt.getOutlines());const{lastPoint:At}=Mt(this,Al).box;$n(this,Np,[(At[0]-this.x)/this.width,(At[1]-this.y)/this.height])},Y9=function({highlightOutlines:ht,highlightId:vt,clipPathId:At}){var Rt,_e;if($n(this,Ul,ht),$n(this,Al,ht.getNewOutline(Mt(this,n0)/2+1.5,.0025)),vt>=0)$n(this,Lo,vt),$n(this,h1,At),this.parent.drawLayer.finalizeLine(vt,ht),$n(this,go,this.parent.drawLayer.highlightOutline(Mt(this,Al)));else if(this.parent){const bt=this.parent.viewport.rotation;this.parent.drawLayer.updateLine(Mt(this,Lo),ht),this.parent.drawLayer.updateBox(Mt(this,Lo),Mn(Rt=Ws,Cl,j1).call(Rt,Mt(this,Ul).box,(bt-this.rotation+360)%360)),this.parent.drawLayer.updateLine(Mt(this,go),Mt(this,Al)),this.parent.drawLayer.updateBox(Mt(this,go),Mn(_e=Ws,Cl,j1).call(_e,Mt(this,Al).box,bt))}const{x:Ct,y:Et,width:Ft,height:wt}=ht.box;switch(this.rotation){case 0:this.x=Ct,this.y=Et,this.width=Ft,this.height=wt;break;case 90:{const[bt,Pt]=this.parentDimensions;this.x=Et,this.y=1-Ct,this.width=Ft*Pt/bt,this.height=wt*bt/Pt;break}case 180:this.x=1-Ct,this.y=1-Et,this.width=Ft,this.height=wt;break;case 270:{const[bt,Pt]=this.parentDimensions;this.x=1-Et,this.y=Ct,this.width=Ft*Pt/bt,this.height=wt*bt/Pt;break}}const{lastPoint:_t}=Mt(this,Al).box;$n(this,Np,[(_t[0]-Ct)/Ft,(_t[1]-Et)/wt])},o8=function(ht){const vt=St=>{var Ct,Et;this.color=St,(Ct=this.parent)==null||Ct.drawLayer.changeColor(Mt(this,Lo),St),(Et=Mt(this,Lp))==null||Et.updateColor(St)},At=this.color;this.addCommands({cmd:vt.bind(this,ht),undo:vt.bind(this,At),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:AnnotationEditorParamsType.HIGHLIGHT_COLOR,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"color_changed",color:this._uiManager.highlightColorNames.get(ht)},!0)},l8=function(ht){const vt=Mt(this,n0),At=St=>{$n(this,n0,St),Mn(this,Ls,c8).call(this,St)};this.addCommands({cmd:At.bind(this,ht),undo:At.bind(this,vt),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:AnnotationEditorParamsType.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"thickness_changed",thickness:ht},!0)},c8=function(ht){if(!Mt(this,Zo))return;Mn(this,Ls,Y9).call(this,{highlightOutlines:Mt(this,Ul).getNewOutline(ht/2)}),this.fixAndSetPosition();const[vt,At]=this.parentDimensions;this.setDims(this.width*vt,this.height*At)},Z9=function(){Mt(this,Lo)===null||!this.parent||(this.parent.drawLayer.remove(Mt(this,Lo)),$n(this,Lo,null),this.parent.drawLayer.remove(Mt(this,go)),$n(this,go,null))},im=function(ht=this.parent){Mt(this,Lo)===null&&({id:So(this,Lo)._,clipPathId:So(this,h1)._}=ht.drawLayer.highlight(Mt(this,Ul),this.color,Mt(this,f1)),$n(this,go,ht.drawLayer.highlightOutline(Mt(this,Al))),Mt(this,d1)&&(Mt(this,d1).style.clipPath=Mt(this,h1)))},Cl=new WeakSet,j1=function({x:ht,y:vt,width:At,height:St},Ct){switch(Ct){case 90:return{x:1-vt-St,y:ht,width:St,height:At};case 180:return{x:1-ht-At,y:1-vt-St,width:At,height:St};case 270:return{x:vt,y:1-ht-At,width:St,height:At}}return{x:ht,y:vt,width:At,height:St}},u8=function(ht){Ws._keyboardManager.exec(this,ht)},g2=function(ht){if(!Mt(this,Dp))return;const vt=window.getSelection();ht?vt.setPosition(Mt(this,Dp),Mt(this,jx)):vt.setPosition(Mt(this,Bx),Mt(this,Ux))},rm=function(){return Mt(this,Zo)?this.rotation:0},h8=function(){if(Mt(this,Zo))return null;const[ht,vt]=this.pageDimensions,At=Mt(this,uu),St=new Array(At.length*8);let Ct=0;for(const{x:Et,y:Ft,width:wt,height:_t}of At){const Rt=Et*ht,_e=(1-Ft-_t)*vt;St[Ct]=St[Ct+4]=Rt,St[Ct+1]=St[Ct+3]=_e,St[Ct+2]=St[Ct+6]=Rt+wt*ht,St[Ct+5]=St[Ct+7]=_e+_t*vt,Ct+=8}return St},d8=function(ht){return Mt(this,Ul).serialize(ht,Mn(this,Ls,rm).call(this))},f8=function(ht,vt){this._freeHighlight.add(vt)&&ht.drawLayer.updatePath(this._freeHighlightId,this._freeHighlight)},p8=function(ht,vt){this._freeHighlight.isEmpty()?ht.drawLayer.removeFreeHighlight(this._freeHighlightId):ht.createAndAddNewEditor(vt,!1,{highlightId:this._freeHighlightId,highlightOutlines:this._freeHighlight.getOutlines(),clipPathId:this._freeHighlightClipId,methodOfCreation:"main_toolbar"}),this._freeHighlightId=-1,this._freeHighlight=null,this._freeHighlightClipId=""},Nn(Ws,Cl),Ur(Ws,"_defaultColor",null),Ur(Ws,"_defaultOpacity",1),Ur(Ws,"_defaultThickness",12),Ur(Ws,"_l10nPromise"),Ur(Ws,"_type","highlight"),Ur(Ws,"_editorType",AnnotationEditorType.HIGHLIGHT),Ur(Ws,"_freeHighlightId",-1),Ur(Ws,"_freeHighlight",null),Ur(Ws,"_freeHighlightClipId","");let HighlightEditor=Ws;var p1,g1,zx,Xx,Wx,m1,i0,O0,Sl,x1,b1,y1,v1,w1,hu,Zr,g8,m8,x8,b8,J9,y8,Q9,v8,w8,A8,S8,E8,Fu,e3,m2,x2,B1,t3,b2,H0,C8,n3,k8,T8,i3,y2,sm;const so=class so extends AnnotationEditor{constructor(ht){super({...ht,name:"inkEditor"});Nn(this,Zr);Nn(this,p1,0);Nn(this,g1,0);Nn(this,zx,this.canvasPointermove.bind(this));Nn(this,Xx,this.canvasPointerleave.bind(this));Nn(this,Wx,this.canvasPointerup.bind(this));Nn(this,m1,this.canvasPointerdown.bind(this));Nn(this,i0,null);Nn(this,O0,new Path2D);Nn(this,Sl,!1);Nn(this,x1,!1);Nn(this,b1,!1);Nn(this,y1,null);Nn(this,v1,0);Nn(this,w1,0);Nn(this,hu,null);this.color=ht.color||null,this.thickness=ht.thickness||null,this.opacity=ht.opacity||null,this.paths=[],this.bezierPath2D=[],this.allRawPaths=[],this.currentPath=[],this.scaleFactor=1,this.translationX=this.translationY=0,this.x=0,this.y=0,this._willKeepAspectRatio=!0}static initialize(ht,vt){AnnotationEditor.initialize(ht,vt)}static updateDefaultParams(ht,vt){switch(ht){case AnnotationEditorParamsType.INK_THICKNESS:so._defaultThickness=vt;break;case AnnotationEditorParamsType.INK_COLOR:so._defaultColor=vt;break;case AnnotationEditorParamsType.INK_OPACITY:so._defaultOpacity=vt/100;break}}updateParams(ht,vt){switch(ht){case AnnotationEditorParamsType.INK_THICKNESS:Mn(this,Zr,g8).call(this,vt);break;case AnnotationEditorParamsType.INK_COLOR:Mn(this,Zr,m8).call(this,vt);break;case AnnotationEditorParamsType.INK_OPACITY:Mn(this,Zr,x8).call(this,vt);break}}static get defaultPropertiesToUpdate(){return[[AnnotationEditorParamsType.INK_THICKNESS,so._defaultThickness],[AnnotationEditorParamsType.INK_COLOR,so._defaultColor||AnnotationEditor._defaultLineColor],[AnnotationEditorParamsType.INK_OPACITY,Math.round(so._defaultOpacity*100)]]}get propertiesToUpdate(){return[[AnnotationEditorParamsType.INK_THICKNESS,this.thickness||so._defaultThickness],[AnnotationEditorParamsType.INK_COLOR,this.color||so._defaultColor||AnnotationEditor._defaultLineColor],[AnnotationEditorParamsType.INK_OPACITY,Math.round(100*(this.opacity??so._defaultOpacity))]]}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.canvas||(Mn(this,Zr,m2).call(this),Mn(this,Zr,x2).call(this)),this.isAttachedToDOM||(this.parent.add(this),Mn(this,Zr,B1).call(this)),Mn(this,Zr,sm).call(this)))}remove(){this.canvas!==null&&(this.isEmpty()||this.commit(),this.canvas.width=this.canvas.height=0,this.canvas.remove(),this.canvas=null,Mt(this,i0)&&(clearTimeout(Mt(this,i0)),$n(this,i0,null)),Mt(this,y1).disconnect(),$n(this,y1,null),super.remove())}setParent(ht){!this.parent&&ht?this._uiManager.removeShouldRescale(this):this.parent&&ht===null&&this._uiManager.addShouldRescale(this),super.setParent(ht)}onScaleChanging(){const[ht,vt]=this.parentDimensions,At=this.width*ht,St=this.height*vt;this.setDimensions(At,St)}enableEditMode(){Mt(this,Sl)||this.canvas===null||(super.enableEditMode(),this._isDraggable=!1,this.canvas.addEventListener("pointerdown",Mt(this,m1)))}disableEditMode(){!this.isInEditMode()||this.canvas===null||(super.disableEditMode(),this._isDraggable=!this.isEmpty(),this.div.classList.remove("editing"),this.canvas.removeEventListener("pointerdown",Mt(this,m1)))}onceAdded(){this._isDraggable=!this.isEmpty()}isEmpty(){return this.paths.length===0||this.paths.length===1&&this.paths[0].length===0}commit(){Mt(this,Sl)||(super.commit(),this.isEditing=!1,this.disableEditMode(),this.setInForeground(),$n(this,Sl,!0),this.div.classList.add("disabled"),Mn(this,Zr,sm).call(this,!0),this.select(),this.parent.addInkEditorIfNeeded(!0),this.moveInDOM(),this.div.focus({preventScroll:!0}))}focusin(ht){this._focusEventsAllowed&&(super.focusin(ht),this.enableEditMode())}canvasPointerdown(ht){ht.button!==0||!this.isInEditMode()||Mt(this,Sl)||(this.setInForeground(),ht.preventDefault(),this.div.contains(document.activeElement)||this.div.focus({preventScroll:!0}),Mn(this,Zr,y8).call(this,ht.offsetX,ht.offsetY))}canvasPointermove(ht){ht.preventDefault(),Mn(this,Zr,Q9).call(this,ht.offsetX,ht.offsetY)}canvasPointerup(ht){ht.preventDefault(),Mn(this,Zr,e3).call(this,ht)}canvasPointerleave(ht){Mn(this,Zr,e3).call(this,ht)}get isResizable(){return!this.isEmpty()&&Mt(this,Sl)}render(){if(this.div)return this.div;let ht,vt;this.width&&(ht=this.x,vt=this.y),super.render(),this.div.setAttribute("data-l10n-id","pdfjs-ink");const[At,St,Ct,Et]=Mn(this,Zr,b8).call(this);if(this.setAt(At,St,0,0),this.setDims(Ct,Et),Mn(this,Zr,m2).call(this),this.width){const[Ft,wt]=this.parentDimensions;this.setAspectRatio(this.width*Ft,this.height*wt),this.setAt(ht*Ft,vt*wt,this.width*Ft,this.height*wt),$n(this,b1,!0),Mn(this,Zr,B1).call(this),this.setDims(this.width*Ft,this.height*wt),Mn(this,Zr,Fu).call(this),this.div.classList.add("disabled")}else this.div.classList.add("editing"),this.enableEditMode();return Mn(this,Zr,x2).call(this),this.div}setDimensions(ht,vt){const At=Math.round(ht),St=Math.round(vt);if(Mt(this,v1)===At&&Mt(this,w1)===St)return;$n(this,v1,At),$n(this,w1,St),this.canvas.style.visibility="hidden";const[Ct,Et]=this.parentDimensions;this.width=ht/Ct,this.height=vt/Et,this.fixAndSetPosition(),Mt(this,Sl)&&Mn(this,Zr,t3).call(this,ht,vt),Mn(this,Zr,B1).call(this),Mn(this,Zr,Fu).call(this),this.canvas.style.visibility="visible",this.fixDims()}static deserialize(ht,vt,At){var Kt,Nt,$t;if(ht instanceof InkAnnotationElement)return null;const St=super.deserialize(ht,vt,At);St.thickness=ht.thickness,St.color=Util.makeHexColor(...ht.color),St.opacity=ht.opacity;const[Ct,Et]=St.pageDimensions,Ft=St.width*Ct,wt=St.height*Et,_t=St.parentScale,Rt=ht.thickness/2;$n(St,Sl,!0),$n(St,v1,Math.round(Ft)),$n(St,w1,Math.round(wt));const{paths:_e,rect:bt,rotation:Pt}=ht;for(let{bezier:Lt}of _e){Lt=Mn(Kt=so,H0,k8).call(Kt,Lt,bt,Pt);const jt=[];St.paths.push(jt);let kt=_t*(Lt[0]-Rt),qt=_t*(Lt[1]-Rt);for(let Gt=2,en=Lt.length;Gt<en;Gt+=6){const dn=_t*(Lt[Gt]-Rt),Qt=_t*(Lt[Gt+1]-Rt),gn=_t*(Lt[Gt+2]-Rt),tn=_t*(Lt[Gt+3]-Rt),bn=_t*(Lt[Gt+4]-Rt),Wt=_t*(Lt[Gt+5]-Rt);jt.push([[kt,qt],[dn,Qt],[gn,tn],[bn,Wt]]),kt=bn,qt=Wt}const Bt=Mn(this,H0,C8).call(this,jt);St.bezierPath2D.push(Bt)}const Xt=Mn(Nt=St,Zr,i3).call(Nt);return $n(St,g1,Math.max(AnnotationEditor.MIN_SIZE,Xt[2]-Xt[0])),$n(St,p1,Math.max(AnnotationEditor.MIN_SIZE,Xt[3]-Xt[1])),Mn($t=St,Zr,t3).call($t,Ft,wt),St}serialize(){if(this.isEmpty())return null;const ht=this.getRect(0,0),vt=AnnotationEditor._colorManager.convert(this.ctx.strokeStyle);return{annotationType:AnnotationEditorType.INK,color:vt,thickness:this.thickness,opacity:this.opacity,paths:Mn(this,Zr,T8).call(this,this.scaleFactor/this.parentScale,this.translationX,this.translationY,ht),pageIndex:this.pageIndex,rect:ht,rotation:this.rotation,structTreeParentId:this._structTreeParentId}}};p1=new WeakMap,g1=new WeakMap,zx=new WeakMap,Xx=new WeakMap,Wx=new WeakMap,m1=new WeakMap,i0=new WeakMap,O0=new WeakMap,Sl=new WeakMap,x1=new WeakMap,b1=new WeakMap,y1=new WeakMap,v1=new WeakMap,w1=new WeakMap,hu=new WeakMap,Zr=new WeakSet,g8=function(ht){const vt=St=>{this.thickness=St,Mn(this,Zr,sm).call(this)},At=this.thickness;this.addCommands({cmd:vt.bind(this,ht),undo:vt.bind(this,At),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:AnnotationEditorParamsType.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0})},m8=function(ht){const vt=St=>{this.color=St,Mn(this,Zr,Fu).call(this)},At=this.color;this.addCommands({cmd:vt.bind(this,ht),undo:vt.bind(this,At),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:AnnotationEditorParamsType.INK_COLOR,overwriteIfSameType:!0,keepUndo:!0})},x8=function(ht){const vt=St=>{this.opacity=St,Mn(this,Zr,Fu).call(this)};ht/=100;const At=this.opacity;this.addCommands({cmd:vt.bind(this,ht),undo:vt.bind(this,At),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:AnnotationEditorParamsType.INK_OPACITY,overwriteIfSameType:!0,keepUndo:!0})},b8=function(){const{parentRotation:ht,parentDimensions:[vt,At]}=this;switch(ht){case 90:return[0,At,At,vt];case 180:return[vt,At,vt,At];case 270:return[vt,0,At,vt];default:return[0,0,vt,At]}},J9=function(){const{ctx:ht,color:vt,opacity:At,thickness:St,parentScale:Ct,scaleFactor:Et}=this;ht.lineWidth=St*Ct/Et,ht.lineCap="round",ht.lineJoin="round",ht.miterLimit=10,ht.strokeStyle=`${vt}${opacityToHex(At)}`},y8=function(ht,vt){this.canvas.addEventListener("contextmenu",noContextMenu),this.canvas.addEventListener("pointerleave",Mt(this,Xx)),this.canvas.addEventListener("pointermove",Mt(this,zx)),this.canvas.addEventListener("pointerup",Mt(this,Wx)),this.canvas.removeEventListener("pointerdown",Mt(this,m1)),this.isEditing=!0,Mt(this,b1)||($n(this,b1,!0),Mn(this,Zr,B1).call(this),this.thickness||(this.thickness=so._defaultThickness),this.color||(this.color=so._defaultColor||AnnotationEditor._defaultLineColor),this.opacity??(this.opacity=so._defaultOpacity)),this.currentPath.push([ht,vt]),$n(this,x1,!1),Mn(this,Zr,J9).call(this),$n(this,hu,()=>{Mn(this,Zr,A8).call(this),Mt(this,hu)&&window.requestAnimationFrame(Mt(this,hu))}),window.requestAnimationFrame(Mt(this,hu))},Q9=function(ht,vt){const[At,St]=this.currentPath.at(-1);if(this.currentPath.length>1&&ht===At&&vt===St)return;const Ct=this.currentPath;let Et=Mt(this,O0);if(Ct.push([ht,vt]),$n(this,x1,!0),Ct.length<=2){Et.moveTo(...Ct[0]),Et.lineTo(ht,vt);return}Ct.length===3&&($n(this,O0,Et=new Path2D),Et.moveTo(...Ct[0])),Mn(this,Zr,S8).call(this,Et,...Ct.at(-3),...Ct.at(-2),ht,vt)},v8=function(){if(this.currentPath.length===0)return;const ht=this.currentPath.at(-1);Mt(this,O0).lineTo(...ht)},w8=function(ht,vt){$n(this,hu,null),ht=Math.min(Math.max(ht,0),this.canvas.width),vt=Math.min(Math.max(vt,0),this.canvas.height),Mn(this,Zr,Q9).call(this,ht,vt),Mn(this,Zr,v8).call(this);let At;if(this.currentPath.length!==1)At=Mn(this,Zr,E8).call(this);else{const wt=[ht,vt];At=[[wt,wt.slice(),wt.slice(),wt]]}const St=Mt(this,O0),Ct=this.currentPath;this.currentPath=[],$n(this,O0,new Path2D);const Et=()=>{this.allRawPaths.push(Ct),this.paths.push(At),this.bezierPath2D.push(St),this._uiManager.rebuild(this)},Ft=()=>{this.allRawPaths.pop(),this.paths.pop(),this.bezierPath2D.pop(),this.paths.length===0?this.remove():(this.canvas||(Mn(this,Zr,m2).call(this),Mn(this,Zr,x2).call(this)),Mn(this,Zr,sm).call(this))};this.addCommands({cmd:Et,undo:Ft,mustExec:!0})},A8=function(){if(!Mt(this,x1))return;$n(this,x1,!1);const ht=Math.ceil(this.thickness*this.parentScale),vt=this.currentPath.slice(-3),At=vt.map(Et=>Et[0]),St=vt.map(Et=>Et[1]);Math.min(...At)-ht,Math.max(...At)+ht,Math.min(...St)-ht,Math.max(...St)+ht;const{ctx:Ct}=this;Ct.save(),Ct.clearRect(0,0,this.canvas.width,this.canvas.height);for(const Et of this.bezierPath2D)Ct.stroke(Et);Ct.stroke(Mt(this,O0)),Ct.restore()},S8=function(ht,vt,At,St,Ct,Et,Ft){const wt=(vt+St)/2,_t=(At+Ct)/2,Rt=(St+Et)/2,_e=(Ct+Ft)/2;ht.bezierCurveTo(wt+2*(St-wt)/3,_t+2*(Ct-_t)/3,Rt+2*(St-Rt)/3,_e+2*(Ct-_e)/3,Rt,_e)},E8=function(){const ht=this.currentPath;if(ht.length<=2)return[[ht[0],ht[0],ht.at(-1),ht.at(-1)]];const vt=[];let At,[St,Ct]=ht[0];for(At=1;At<ht.length-2;At++){const[bt,Pt]=ht[At],[Xt,Kt]=ht[At+1],Nt=(bt+Xt)/2,$t=(Pt+Kt)/2,Lt=[St+2*(bt-St)/3,Ct+2*(Pt-Ct)/3],jt=[Nt+2*(bt-Nt)/3,$t+2*(Pt-$t)/3];vt.push([[St,Ct],Lt,jt,[Nt,$t]]),[St,Ct]=[Nt,$t]}const[Et,Ft]=ht[At],[wt,_t]=ht[At+1],Rt=[St+2*(Et-St)/3,Ct+2*(Ft-Ct)/3],_e=[wt+2*(Et-wt)/3,_t+2*(Ft-_t)/3];return vt.push([[St,Ct],Rt,_e,[wt,_t]]),vt},Fu=function(){if(this.isEmpty()){Mn(this,Zr,b2).call(this);return}Mn(this,Zr,J9).call(this);const{canvas:ht,ctx:vt}=this;vt.setTransform(1,0,0,1,0,0),vt.clearRect(0,0,ht.width,ht.height),Mn(this,Zr,b2).call(this);for(const At of this.bezierPath2D)vt.stroke(At)},e3=function(ht){this.canvas.removeEventListener("pointerleave",Mt(this,Xx)),this.canvas.removeEventListener("pointermove",Mt(this,zx)),this.canvas.removeEventListener("pointerup",Mt(this,Wx)),this.canvas.addEventListener("pointerdown",Mt(this,m1)),Mt(this,i0)&&clearTimeout(Mt(this,i0)),$n(this,i0,setTimeout(()=>{$n(this,i0,null),this.canvas.removeEventListener("contextmenu",noContextMenu)},10)),Mn(this,Zr,w8).call(this,ht.offsetX,ht.offsetY),this.addToAnnotationStorage(),this.setInBackground()},m2=function(){this.canvas=document.createElement("canvas"),this.canvas.width=this.canvas.height=0,this.canvas.className="inkEditorCanvas",this.canvas.setAttribute("data-l10n-id","pdfjs-ink-canvas"),this.div.append(this.canvas),this.ctx=this.canvas.getContext("2d")},x2=function(){$n(this,y1,new ResizeObserver(ht=>{const vt=ht[0].contentRect;vt.width&&vt.height&&this.setDimensions(vt.width,vt.height)})),Mt(this,y1).observe(this.div)},B1=function(){if(!Mt(this,b1))return;const[ht,vt]=this.parentDimensions;this.canvas.width=Math.ceil(this.width*ht),this.canvas.height=Math.ceil(this.height*vt),Mn(this,Zr,b2).call(this)},t3=function(ht,vt){const At=Mn(this,Zr,y2).call(this),St=(ht-At)/Mt(this,g1),Ct=(vt-At)/Mt(this,p1);this.scaleFactor=Math.min(St,Ct)},b2=function(){const ht=Mn(this,Zr,y2).call(this)/2;this.ctx.setTransform(this.scaleFactor,0,0,this.scaleFactor,this.translationX*this.scaleFactor+ht,this.translationY*this.scaleFactor+ht)},H0=new WeakSet,C8=function(ht){const vt=new Path2D;for(let At=0,St=ht.length;At<St;At++){const[Ct,Et,Ft,wt]=ht[At];At===0&&vt.moveTo(...Ct),vt.bezierCurveTo(Et[0],Et[1],Ft[0],Ft[1],wt[0],wt[1])}return vt},n3=function(ht,vt,At){const[St,Ct,Et,Ft]=vt;switch(At){case 0:for(let wt=0,_t=ht.length;wt<_t;wt+=2)ht[wt]+=St,ht[wt+1]=Ft-ht[wt+1];break;case 90:for(let wt=0,_t=ht.length;wt<_t;wt+=2){const Rt=ht[wt];ht[wt]=ht[wt+1]+St,ht[wt+1]=Rt+Ct}break;case 180:for(let wt=0,_t=ht.length;wt<_t;wt+=2)ht[wt]=Et-ht[wt],ht[wt+1]+=Ct;break;case 270:for(let wt=0,_t=ht.length;wt<_t;wt+=2){const Rt=ht[wt];ht[wt]=Et-ht[wt+1],ht[wt+1]=Ft-Rt}break;default:throw new Error("Invalid rotation")}return ht},k8=function(ht,vt,At){const[St,Ct,Et,Ft]=vt;switch(At){case 0:for(let wt=0,_t=ht.length;wt<_t;wt+=2)ht[wt]-=St,ht[wt+1]=Ft-ht[wt+1];break;case 90:for(let wt=0,_t=ht.length;wt<_t;wt+=2){const Rt=ht[wt];ht[wt]=ht[wt+1]-Ct,ht[wt+1]=Rt-St}break;case 180:for(let wt=0,_t=ht.length;wt<_t;wt+=2)ht[wt]=Et-ht[wt],ht[wt+1]-=Ct;break;case 270:for(let wt=0,_t=ht.length;wt<_t;wt+=2){const Rt=ht[wt];ht[wt]=Ft-ht[wt+1],ht[wt+1]=Et-Rt}break;default:throw new Error("Invalid rotation")}return ht},T8=function(ht,vt,At,St){var _t,Rt;const Ct=[],Et=this.thickness/2,Ft=ht*vt+Et,wt=ht*At+Et;for(const _e of this.paths){const bt=[],Pt=[];for(let Xt=0,Kt=_e.length;Xt<Kt;Xt++){const[Nt,$t,Lt,jt]=_e[Xt];if(Nt[0]===jt[0]&&Nt[1]===jt[1]&&Kt===1){const tn=ht*Nt[0]+Ft,bn=ht*Nt[1]+wt;bt.push(tn,bn),Pt.push(tn,bn);break}const kt=ht*Nt[0]+Ft,qt=ht*Nt[1]+wt,Bt=ht*$t[0]+Ft,Gt=ht*$t[1]+wt,en=ht*Lt[0]+Ft,dn=ht*Lt[1]+wt,Qt=ht*jt[0]+Ft,gn=ht*jt[1]+wt;Xt===0&&(bt.push(kt,qt),Pt.push(kt,qt)),bt.push(Bt,Gt,en,dn,Qt,gn),Pt.push(Bt,Gt),Xt===Kt-1&&Pt.push(Qt,gn)}Ct.push({bezier:Mn(_t=so,H0,n3).call(_t,bt,St,this.rotation),points:Mn(Rt=so,H0,n3).call(Rt,Pt,St,this.rotation)})}return Ct},i3=function(){let ht=1/0,vt=-1/0,At=1/0,St=-1/0;for(const Ct of this.paths)for(const[Et,Ft,wt,_t]of Ct){const Rt=Util.bezierBoundingBox(...Et,...Ft,...wt,..._t);ht=Math.min(ht,Rt[0]),At=Math.min(At,Rt[1]),vt=Math.max(vt,Rt[2]),St=Math.max(St,Rt[3])}return[ht,At,vt,St]},y2=function(){return Mt(this,Sl)?Math.ceil(this.thickness*this.parentScale):0},sm=function(ht=!1){if(this.isEmpty())return;if(!Mt(this,Sl)){Mn(this,Zr,Fu).call(this);return}const vt=Mn(this,Zr,i3).call(this),At=Mn(this,Zr,y2).call(this);$n(this,g1,Math.max(AnnotationEditor.MIN_SIZE,vt[2]-vt[0])),$n(this,p1,Math.max(AnnotationEditor.MIN_SIZE,vt[3]-vt[1]));const St=Math.ceil(At+Mt(this,g1)*this.scaleFactor),Ct=Math.ceil(At+Mt(this,p1)*this.scaleFactor),[Et,Ft]=this.parentDimensions;this.width=St/Et,this.height=Ct/Ft,this.setAspectRatio(St,Ct);const wt=this.translationX,_t=this.translationY;this.translationX=-vt[0],this.translationY=-vt[1],Mn(this,Zr,B1).call(this),Mn(this,Zr,Fu).call(this),$n(this,v1,St),$n(this,w1,Ct),this.setDims(St,Ct);const Rt=ht?At/this.scaleFactor/2:0;this.translate(wt-this.translationX-Rt,_t-this.translationY-Rt)},Nn(so,H0),Ur(so,"_defaultColor",null),Ur(so,"_defaultOpacity",1),Ur(so,"_defaultThickness",1),Ur(so,"_type","ink"),Ur(so,"_editorType",AnnotationEditorType.INK);let InkEditor=so;var Fo,Po,du,D0,fu,jp,r0,A1,s0,Hl,Vx,zs,am,om,v2,r3,_8,F8,s3,w2,P8;const gm=class gm extends AnnotationEditor{constructor(ht){super({...ht,name:"stampEditor"});Nn(this,zs);Nn(this,Fo,null);Nn(this,Po,null);Nn(this,du,null);Nn(this,D0,null);Nn(this,fu,null);Nn(this,jp,"");Nn(this,r0,null);Nn(this,A1,null);Nn(this,s0,null);Nn(this,Hl,!1);Nn(this,Vx,!1);$n(this,D0,ht.bitmapUrl),$n(this,fu,ht.bitmapFile)}static initialize(ht,vt){AnnotationEditor.initialize(ht,vt)}static get supportedTypes(){return shadow(this,"supportedTypes",["apng","avif","bmp","gif","jpeg","png","svg+xml","webp","x-icon"].map(vt=>`image/${vt}`))}static get supportedTypesStr(){return shadow(this,"supportedTypesStr",this.supportedTypes.join(","))}static isHandlingMimeForPasting(ht){return this.supportedTypes.includes(ht)}static paste(ht,vt){vt.pasteEditor(AnnotationEditorType.STAMP,{bitmapFile:ht.getAsFile()})}remove(){var ht,vt;Mt(this,Po)&&($n(this,Fo,null),this._uiManager.imageManager.deleteId(Mt(this,Po)),(ht=Mt(this,r0))==null||ht.remove(),$n(this,r0,null),(vt=Mt(this,A1))==null||vt.disconnect(),$n(this,A1,null),Mt(this,s0)&&(clearTimeout(Mt(this,s0)),$n(this,s0,null))),super.remove()}rebuild(){if(!this.parent){Mt(this,Po)&&Mn(this,zs,v2).call(this);return}super.rebuild(),this.div!==null&&(Mt(this,Po)&&Mt(this,r0)===null&&Mn(this,zs,v2).call(this),this.isAttachedToDOM||this.parent.add(this))}onceAdded(){this._isDraggable=!0,this.div.focus()}isEmpty(){return!(Mt(this,du)||Mt(this,Fo)||Mt(this,D0)||Mt(this,fu)||Mt(this,Po))}get isResizable(){return!0}render(){if(this.div)return this.div;let ht,vt;if(this.width&&(ht=this.x,vt=this.y),super.render(),this.div.hidden=!0,this.addAltTextButton(),Mt(this,Fo)?Mn(this,zs,r3).call(this):Mn(this,zs,v2).call(this),this.width){const[At,St]=this.parentDimensions;this.setAt(ht*At,vt*St,this.width*At,this.height*St)}return this.div}getImageForAltText(){return Mt(this,r0)}static deserialize(ht,vt,At){if(ht instanceof StampAnnotationElement)return null;const St=super.deserialize(ht,vt,At),{rect:Ct,bitmapUrl:Et,bitmapId:Ft,isSvg:wt,accessibilityData:_t}=ht;Ft&&At.imageManager.isValidId(Ft)?$n(St,Po,Ft):$n(St,D0,Et),$n(St,Hl,wt);const[Rt,_e]=St.pageDimensions;return St.width=(Ct[2]-Ct[0])/Rt,St.height=(Ct[3]-Ct[1])/_e,_t&&(St.altTextData=_t),St}serialize(ht=!1,vt=null){if(this.isEmpty())return null;const At={annotationType:AnnotationEditorType.STAMP,bitmapId:Mt(this,Po),pageIndex:this.pageIndex,rect:this.getRect(0,0),rotation:this.rotation,isSvg:Mt(this,Hl),structTreeParentId:this._structTreeParentId};if(ht)return At.bitmapUrl=Mn(this,zs,w2).call(this,!0),At.accessibilityData=this.altTextData,At;const{decorative:St,altText:Ct}=this.altTextData;if(!St&&Ct&&(At.accessibilityData={type:"Figure",alt:Ct}),vt===null)return At;vt.stamps||(vt.stamps=new Map);const Et=Mt(this,Hl)?(At.rect[2]-At.rect[0])*(At.rect[3]-At.rect[1]):null;if(!vt.stamps.has(Mt(this,Po)))vt.stamps.set(Mt(this,Po),{area:Et,serialized:At}),At.bitmap=Mn(this,zs,w2).call(this,!1);else if(Mt(this,Hl)){const Ft=vt.stamps.get(Mt(this,Po));Et>Ft.area&&(Ft.area=Et,Ft.serialized.bitmap.close(),Ft.serialized.bitmap=Mn(this,zs,w2).call(this,!1))}return At}};Fo=new WeakMap,Po=new WeakMap,du=new WeakMap,D0=new WeakMap,fu=new WeakMap,jp=new WeakMap,r0=new WeakMap,A1=new WeakMap,s0=new WeakMap,Hl=new WeakMap,Vx=new WeakMap,zs=new WeakSet,am=function(ht,vt=!1){if(!ht){this.remove();return}$n(this,Fo,ht.bitmap),vt||($n(this,Po,ht.id),$n(this,Hl,ht.isSvg)),ht.file&&$n(this,jp,ht.file.name),Mn(this,zs,r3).call(this)},om=function(){$n(this,du,null),this._uiManager.enableWaiting(!1),Mt(this,r0)&&this.div.focus()},v2=function(){if(Mt(this,Po)){this._uiManager.enableWaiting(!0),this._uiManager.imageManager.getFromId(Mt(this,Po)).then(vt=>Mn(this,zs,am).call(this,vt,!0)).finally(()=>Mn(this,zs,om).call(this));return}if(Mt(this,D0)){const vt=Mt(this,D0);$n(this,D0,null),this._uiManager.enableWaiting(!0),$n(this,du,this._uiManager.imageManager.getFromUrl(vt).then(At=>Mn(this,zs,am).call(this,At)).finally(()=>Mn(this,zs,om).call(this)));return}if(Mt(this,fu)){const vt=Mt(this,fu);$n(this,fu,null),this._uiManager.enableWaiting(!0),$n(this,du,this._uiManager.imageManager.getFromFile(vt).then(At=>Mn(this,zs,am).call(this,At)).finally(()=>Mn(this,zs,om).call(this)));return}const ht=document.createElement("input");ht.type="file",ht.accept=gm.supportedTypesStr,$n(this,du,new Promise(vt=>{ht.addEventListener("change",async()=>{if(!ht.files||ht.files.length===0)this.remove();else{this._uiManager.enableWaiting(!0);const At=await this._uiManager.imageManager.getFromFile(ht.files[0]);Mn(this,zs,am).call(this,At)}vt()}),ht.addEventListener("cancel",()=>{this.remove(),vt()})}).finally(()=>Mn(this,zs,om).call(this))),ht.click()},r3=function(){const{div:ht}=this;let{width:vt,height:At}=Mt(this,Fo);const[St,Ct]=this.pageDimensions,Et=.75;if(this.width)vt=this.width*St,At=this.height*Ct;else if(vt>Et*St||At>Et*Ct){const Rt=Math.min(Et*St/vt,Et*Ct/At);vt*=Rt,At*=Rt}const[Ft,wt]=this.parentDimensions;this.setDims(vt*Ft/St,At*wt/Ct),this._uiManager.enableWaiting(!1);const _t=$n(this,r0,document.createElement("canvas"));ht.append(_t),ht.hidden=!1,Mn(this,zs,s3).call(this,vt,At),Mn(this,zs,P8).call(this),Mt(this,Vx)||(this.parent.addUndoableEditor(this),$n(this,Vx,!0)),this._reportTelemetry({action:"inserted_image"}),Mt(this,jp)&&_t.setAttribute("aria-label",Mt(this,jp))},_8=function(ht,vt){var Et;const[At,St]=this.parentDimensions;this.width=ht/At,this.height=vt/St,this.setDims(ht,vt),(Et=this._initialOptions)!=null&&Et.isCentered?this.center():this.fixAndSetPosition(),this._initialOptions=null,Mt(this,s0)!==null&&clearTimeout(Mt(this,s0)),$n(this,s0,setTimeout(()=>{$n(this,s0,null),Mn(this,zs,s3).call(this,ht,vt)},200))},F8=function(ht,vt){const{width:At,height:St}=Mt(this,Fo);let Ct=At,Et=St,Ft=Mt(this,Fo);for(;Ct>2*ht||Et>2*vt;){const wt=Ct,_t=Et;Ct>2*ht&&(Ct=Ct>=16384?Math.floor(Ct/2)-1:Math.ceil(Ct/2)),Et>2*vt&&(Et=Et>=16384?Math.floor(Et/2)-1:Math.ceil(Et/2));const Rt=new OffscreenCanvas(Ct,Et);Rt.getContext("2d").drawImage(Ft,0,0,wt,_t,0,0,Ct,Et),Ft=Rt.transferToImageBitmap()}return Ft},s3=function(ht,vt){ht=Math.ceil(ht),vt=Math.ceil(vt);const At=Mt(this,r0);if(!At||At.width===ht&&At.height===vt)return;At.width=ht,At.height=vt;const St=Mt(this,Hl)?Mt(this,Fo):Mn(this,zs,F8).call(this,ht,vt);if(this._uiManager.hasMLManager&&!this.hasAltText()){const Ft=new OffscreenCanvas(ht,vt).getContext("2d");Ft.drawImage(St,0,0,St.width,St.height,0,0,ht,vt),this._uiManager.mlGuess({service:"image-to-text",request:{data:Ft.getImageData(0,0,ht,vt).data,width:ht,height:vt,channels:4}}).then(wt=>{const _t=(wt==null?void 0:wt.output)||"";this.parent&&_t&&!this.hasAltText()&&(this.altTextData={altText:_t,decorative:!1})})}const Ct=At.getContext("2d");Ct.filter=this._uiManager.hcmFilter,Ct.drawImage(St,0,0,St.width,St.height,0,0,ht,vt)},w2=function(ht){if(ht){if(Mt(this,Hl)){const St=this._uiManager.imageManager.getSvgUrl(Mt(this,Po));if(St)return St}const vt=document.createElement("canvas");return{width:vt.width,height:vt.height}=Mt(this,Fo),vt.getContext("2d").drawImage(Mt(this,Fo),0,0),vt.toDataURL()}if(Mt(this,Hl)){const[vt,At]=this.pageDimensions,St=Math.round(this.width*vt*PixelsPerInch.PDF_TO_CSS_UNITS),Ct=Math.round(this.height*At*PixelsPerInch.PDF_TO_CSS_UNITS),Et=new OffscreenCanvas(St,Ct);return Et.getContext("2d").drawImage(Mt(this,Fo),0,0,Mt(this,Fo).width,Mt(this,Fo).height,0,0,St,Ct),Et.transferToImageBitmap()}return structuredClone(Mt(this,Fo))},P8=function(){$n(this,A1,new ResizeObserver(ht=>{const vt=ht[0].contentRect;vt.width&&vt.height&&Mn(this,zs,_8).call(this,vt.width,vt.height)})),Mt(this,A1).observe(this.div)},Ur(gm,"_type","stamp"),Ur(gm,"_editorType",AnnotationEditorType.STAMP);let StampEditor=gm;var S1,Bp,a0,E1,L0,N0,$0,Jo,pu,Up,Hp,No,Ss,gu,Ro,R8,a3,o3,l3,A2;const Pl=class Pl{constructor({uiManager:$,pageIndex:ht,div:vt,accessibilityManager:At,annotationLayer:St,drawLayer:Ct,textLayer:Et,viewport:Ft,l10n:wt}){Nn(this,Ro);Nn(this,S1);Nn(this,Bp,!1);Nn(this,a0,null);Nn(this,E1,null);Nn(this,L0,null);Nn(this,N0,null);Nn(this,$0,null);Nn(this,Jo,new Map);Nn(this,pu,!1);Nn(this,Up,!1);Nn(this,Hp,!1);Nn(this,No,null);Nn(this,Ss);const _t=[...Mt(Pl,gu).values()];if(!Pl._initialized){Pl._initialized=!0;for(const Rt of _t)Rt.initialize(wt,$)}$.registerEditorTypes(_t),$n(this,Ss,$),this.pageIndex=ht,this.div=vt,$n(this,S1,At),$n(this,a0,St),this.viewport=Ft,$n(this,No,Et),this.drawLayer=Ct,Mt(this,Ss).addLayer(this)}get isEmpty(){return Mt(this,Jo).size===0}get isInvisible(){return this.isEmpty&&Mt(this,Ss).getMode()===AnnotationEditorType.NONE}updateToolbar($){Mt(this,Ss).updateToolbar($)}updateMode($=Mt(this,Ss).getMode()){switch(Mn(this,Ro,A2).call(this),$){case AnnotationEditorType.NONE:this.disableTextSelection(),this.togglePointerEvents(!1),this.toggleAnnotationLayerPointerEvents(!0),this.disableClick();return;case AnnotationEditorType.INK:this.addInkEditorIfNeeded(!1),this.disableTextSelection(),this.togglePointerEvents(!0),this.disableClick();break;case AnnotationEditorType.HIGHLIGHT:this.enableTextSelection(),this.togglePointerEvents(!1),this.disableClick();break;default:this.disableTextSelection(),this.togglePointerEvents(!0),this.enableClick()}this.toggleAnnotationLayerPointerEvents(!1);const{classList:ht}=this.div;for(const vt of Mt(Pl,gu).values())ht.toggle(`${vt._type}Editing`,$===vt._editorType);this.div.hidden=!1}hasTextLayer($){var ht;return $===((ht=Mt(this,No))==null?void 0:ht.div)}addInkEditorIfNeeded($){if(Mt(this,Ss).getMode()!==AnnotationEditorType.INK)return;if(!$){for(const vt of Mt(this,Jo).values())if(vt.isEmpty()){vt.setInBackground();return}}this.createAndAddNewEditor({offsetX:0,offsetY:0},!1).setInBackground()}setEditingState($){Mt(this,Ss).setEditingState($)}addCommands($){Mt(this,Ss).addCommands($)}togglePointerEvents($=!1){this.div.classList.toggle("disabled",!$)}toggleAnnotationLayerPointerEvents($=!1){var ht;(ht=Mt(this,a0))==null||ht.div.classList.toggle("disabled",!$)}enable(){this.div.tabIndex=0,this.togglePointerEvents(!0);const $=new Set;for(const vt of Mt(this,Jo).values())vt.enableEditing(),vt.show(!0),vt.annotationElementId&&(Mt(this,Ss).removeChangedExistingAnnotation(vt),$.add(vt.annotationElementId));if(!Mt(this,a0))return;const ht=Mt(this,a0).getEditableAnnotations();for(const vt of ht){if(vt.hide(),Mt(this,Ss).isDeletedAnnotationElement(vt.data.id)||$.has(vt.data.id))continue;const At=this.deserialize(vt);At&&(this.addOrRebuild(At),At.enableEditing())}}disable(){var At;$n(this,Hp,!0),this.div.tabIndex=-1,this.togglePointerEvents(!1);const $=new Map,ht=new Map;for(const St of Mt(this,Jo).values())if(St.disableEditing(),!!St.annotationElementId){if(St.serialize()!==null){$.set(St.annotationElementId,St);continue}else ht.set(St.annotationElementId,St);(At=this.getEditableAnnotation(St.annotationElementId))==null||At.show(),St.remove()}if(Mt(this,a0)){const St=Mt(this,a0).getEditableAnnotations();for(const Ct of St){const{id:Et}=Ct.data;if(Mt(this,Ss).isDeletedAnnotationElement(Et))continue;let Ft=ht.get(Et);if(Ft){Ft.resetAnnotationElement(Ct),Ft.show(!1),Ct.show();continue}Ft=$.get(Et),Ft&&(Mt(this,Ss).addChangedExistingAnnotation(Ft),Ft.renderAnnotationElement(Ct),Ft.show(!1)),Ct.show()}}Mn(this,Ro,A2).call(this),this.isEmpty&&(this.div.hidden=!0);const{classList:vt}=this.div;for(const St of Mt(Pl,gu).values())vt.remove(`${St._type}Editing`);this.disableTextSelection(),this.toggleAnnotationLayerPointerEvents(!0),$n(this,Hp,!1)}getEditableAnnotation($){var ht;return((ht=Mt(this,a0))==null?void 0:ht.getEditableAnnotation($))||null}setActiveEditor($){Mt(this,Ss).getActive()!==$&&Mt(this,Ss).setActiveEditor($)}enableTextSelection(){var $;this.div.tabIndex=-1,($=Mt(this,No))!=null&&$.div&&!Mt(this,N0)&&($n(this,N0,Mn(this,Ro,R8).bind(this)),Mt(this,No).div.addEventListener("pointerdown",Mt(this,N0)),Mt(this,No).div.classList.add("highlighting"))}disableTextSelection(){var $;this.div.tabIndex=0,($=Mt(this,No))!=null&&$.div&&Mt(this,N0)&&(Mt(this,No).div.removeEventListener("pointerdown",Mt(this,N0)),$n(this,N0,null),Mt(this,No).div.classList.remove("highlighting"))}enableClick(){Mt(this,L0)||($n(this,L0,this.pointerdown.bind(this)),$n(this,E1,this.pointerup.bind(this)),this.div.addEventListener("pointerdown",Mt(this,L0)),this.div.addEventListener("pointerup",Mt(this,E1)))}disableClick(){Mt(this,L0)&&(this.div.removeEventListener("pointerdown",Mt(this,L0)),this.div.removeEventListener("pointerup",Mt(this,E1)),$n(this,L0,null),$n(this,E1,null))}attach($){Mt(this,Jo).set($.id,$);const{annotationElementId:ht}=$;ht&&Mt(this,Ss).isDeletedAnnotationElement(ht)&&Mt(this,Ss).removeDeletedAnnotationElement($)}detach($){var ht;Mt(this,Jo).delete($.id),(ht=Mt(this,S1))==null||ht.removePointerInTextLayer($.contentDiv),!Mt(this,Hp)&&$.annotationElementId&&Mt(this,Ss).addDeletedAnnotationElement($)}remove($){this.detach($),Mt(this,Ss).removeEditor($),$.div.remove(),$.isAttachedToDOM=!1,Mt(this,Up)||this.addInkEditorIfNeeded(!1)}changeParent($){var ht;$.parent!==this&&($.parent&&$.annotationElementId&&(Mt(this,Ss).addDeletedAnnotationElement($.annotationElementId),AnnotationEditor.deleteAnnotationElement($),$.annotationElementId=null),this.attach($),(ht=$.parent)==null||ht.detach($),$.setParent(this),$.div&&$.isAttachedToDOM&&($.div.remove(),this.div.append($.div)))}add($){if(!($.parent===this&&$.isAttachedToDOM)){if(this.changeParent($),Mt(this,Ss).addEditor($),this.attach($),!$.isAttachedToDOM){const ht=$.render();this.div.append(ht),$.isAttachedToDOM=!0}$.fixAndSetPosition(),$.onceAdded(),Mt(this,Ss).addToAnnotationStorage($),$._reportTelemetry($.telemetryInitialData)}}moveEditorInDOM($){var vt;if(!$.isAttachedToDOM)return;const{activeElement:ht}=document;$.div.contains(ht)&&!Mt(this,$0)&&($._focusEventsAllowed=!1,$n(this,$0,setTimeout(()=>{$n(this,$0,null),$.div.contains(document.activeElement)?$._focusEventsAllowed=!0:($.div.addEventListener("focusin",()=>{$._focusEventsAllowed=!0},{once:!0}),ht.focus())},0))),$._structTreeParentId=(vt=Mt(this,S1))==null?void 0:vt.moveElementInDOM(this.div,$.div,$.contentDiv,!0)}addOrRebuild($){$.needsToBeRebuilt()?($.parent||($.parent=this),$.rebuild(),$.show()):this.add($)}addUndoableEditor($){const ht=()=>$._uiManager.rebuild($),vt=()=>{$.remove()};this.addCommands({cmd:ht,undo:vt,mustExec:!1})}getNextId(){return Mt(this,Ss).getId()}canCreateNewEmptyEditor(){var $;return($=Mt(this,Ro,a3))==null?void 0:$.canCreateNewEmptyEditor()}pasteEditor($,ht){Mt(this,Ss).updateToolbar($),Mt(this,Ss).updateMode($);const{offsetX:vt,offsetY:At}=Mn(this,Ro,l3).call(this),St=this.getNextId(),Ct=Mn(this,Ro,o3).call(this,{parent:this,id:St,x:vt,y:At,uiManager:Mt(this,Ss),isCentered:!0,...ht});Ct&&this.add(Ct)}deserialize($){var ht;return((ht=Mt(Pl,gu).get($.annotationType??$.annotationEditorType))==null?void 0:ht.deserialize($,this,Mt(this,Ss)))||null}createAndAddNewEditor($,ht,vt={}){const At=this.getNextId(),St=Mn(this,Ro,o3).call(this,{parent:this,id:At,x:$.offsetX,y:$.offsetY,uiManager:Mt(this,Ss),isCentered:ht,...vt});return St&&this.add(St),St}addNewEditor(){this.createAndAddNewEditor(Mn(this,Ro,l3).call(this),!0)}setSelected($){Mt(this,Ss).setSelected($)}toggleSelected($){Mt(this,Ss).toggleSelected($)}isSelected($){return Mt(this,Ss).isSelected($)}unselect($){Mt(this,Ss).unselect($)}pointerup($){const{isMac:ht}=util_FeatureTest.platform;if(!($.button!==0||$.ctrlKey&&ht)&&$.target===this.div&&Mt(this,pu)){if($n(this,pu,!1),!Mt(this,Bp)){$n(this,Bp,!0);return}if(Mt(this,Ss).getMode()===AnnotationEditorType.STAMP){Mt(this,Ss).unselectAll();return}this.createAndAddNewEditor($,!1)}}pointerdown($){if(Mt(this,Ss).getMode()===AnnotationEditorType.HIGHLIGHT&&this.enableTextSelection(),Mt(this,pu)){$n(this,pu,!1);return}const{isMac:ht}=util_FeatureTest.platform;if($.button!==0||$.ctrlKey&&ht||$.target!==this.div)return;$n(this,pu,!0);const vt=Mt(this,Ss).getActive();$n(this,Bp,!vt||vt.isEmpty())}findNewParent($,ht,vt){const At=Mt(this,Ss).findParent(ht,vt);return At===null||At===this?!1:(At.changeParent($),!0)}destroy(){var $,ht;(($=Mt(this,Ss).getActive())==null?void 0:$.parent)===this&&(Mt(this,Ss).commitOrRemove(),Mt(this,Ss).setActiveEditor(null)),Mt(this,$0)&&(clearTimeout(Mt(this,$0)),$n(this,$0,null));for(const vt of Mt(this,Jo).values())(ht=Mt(this,S1))==null||ht.removePointerInTextLayer(vt.contentDiv),vt.setParent(null),vt.isAttachedToDOM=!1,vt.div.remove();this.div=null,Mt(this,Jo).clear(),Mt(this,Ss).removeLayer(this)}render({viewport:$}){this.viewport=$,setLayerDimensions(this.div,$);for(const ht of Mt(this,Ss).getEditors(this.pageIndex))this.add(ht),ht.rebuild();this.updateMode()}update({viewport:$}){Mt(this,Ss).commitOrRemove(),Mn(this,Ro,A2).call(this);const ht=this.viewport.rotation,vt=$.rotation;if(this.viewport=$,setLayerDimensions(this.div,{rotation:vt}),ht!==vt)for(const At of Mt(this,Jo).values())At.rotate(vt);this.addInkEditorIfNeeded(!1)}get pageDimensions(){const{pageWidth:$,pageHeight:ht}=this.viewport.rawDims;return[$,ht]}get scale(){return Mt(this,Ss).viewParameters.realScale}};S1=new WeakMap,Bp=new WeakMap,a0=new WeakMap,E1=new WeakMap,L0=new WeakMap,N0=new WeakMap,$0=new WeakMap,Jo=new WeakMap,pu=new WeakMap,Up=new WeakMap,Hp=new WeakMap,No=new WeakMap,Ss=new WeakMap,gu=new WeakMap,Ro=new WeakSet,R8=function($){if(Mt(this,Ss).unselectAll(),$.target===Mt(this,No).div){const{isMac:ht}=util_FeatureTest.platform;if($.button!==0||$.ctrlKey&&ht)return;Mt(this,Ss).showAllEditors("highlight",!0,!0),Mt(this,No).div.classList.add("free"),HighlightEditor.startHighlighting(this,Mt(this,Ss).direction==="ltr",$),Mt(this,No).div.addEventListener("pointerup",()=>{Mt(this,No).div.classList.remove("free")},{once:!0}),$.preventDefault()}},a3=function(){return Mt(Pl,gu).get(Mt(this,Ss).getMode())},o3=function($){const ht=Mt(this,Ro,a3);return ht?new ht.prototype.constructor($):null},l3=function(){const{x:$,y:ht,width:vt,height:At}=this.div.getBoundingClientRect(),St=Math.max(0,$),Ct=Math.max(0,ht),Et=Math.min(window.innerWidth,$+vt),Ft=Math.min(window.innerHeight,ht+At),wt=(St+Et)/2-$,_t=(Ct+Ft)/2-ht,[Rt,_e]=this.viewport.rotation%180===0?[wt,_t]:[_t,wt];return{offsetX:Rt,offsetY:_e}},A2=function(){$n(this,Up,!0);for(const $ of Mt(this,Jo).values())$.isEmpty()&&$.remove();$n(this,Up,!1)},Ur(Pl,"_initialized",!1),Nn(Pl,gu,new Map([FreeTextEditor,InkEditor,StampEditor,HighlightEditor].map($=>[$._editorType,$])));let AnnotationEditorLayer=Pl;var o0,Gx,mo,mu,qx,c3,k1,u3,I8;const Eo=class Eo{constructor({pageIndex:$}){Nn(this,k1);Nn(this,o0,null);Nn(this,Gx,0);Nn(this,mo,new Map);Nn(this,mu,new Map);this.pageIndex=$}setParent($){if(!Mt(this,o0)){$n(this,o0,$);return}if(Mt(this,o0)!==$){if(Mt(this,mo).size>0)for(const ht of Mt(this,mo).values())ht.remove(),$.append(ht);$n(this,o0,$)}}static get _svgFactory(){return shadow(this,"_svgFactory",new DOMSVGFactory)}highlight($,ht,vt,At=!1){const St=So(this,Gx)._++,Ct=Mn(this,k1,u3).call(this,$.box);Ct.classList.add("highlight"),$.free&&Ct.classList.add("free");const Et=Eo._svgFactory.createElement("defs");Ct.append(Et);const Ft=Eo._svgFactory.createElement("path");Et.append(Ft);const wt=`path_p${this.pageIndex}_${St}`;Ft.setAttribute("id",wt),Ft.setAttribute("d",$.toSVGPath()),At&&Mt(this,mu).set(St,Ft);const _t=Mn(this,k1,I8).call(this,Et,wt),Rt=Eo._svgFactory.createElement("use");return Ct.append(Rt),Ct.setAttribute("fill",ht),Ct.setAttribute("fill-opacity",vt),Rt.setAttribute("href",`#${wt}`),Mt(this,mo).set(St,Ct),{id:St,clipPathId:`url(#${_t})`}}highlightOutline($){const ht=So(this,Gx)._++,vt=Mn(this,k1,u3).call(this,$.box);vt.classList.add("highlightOutline");const At=Eo._svgFactory.createElement("defs");vt.append(At);const St=Eo._svgFactory.createElement("path");At.append(St);const Ct=`path_p${this.pageIndex}_${ht}`;St.setAttribute("id",Ct),St.setAttribute("d",$.toSVGPath()),St.setAttribute("vector-effect","non-scaling-stroke");let Et;if($.free){vt.classList.add("free");const _t=Eo._svgFactory.createElement("mask");At.append(_t),Et=`mask_p${this.pageIndex}_${ht}`,_t.setAttribute("id",Et),_t.setAttribute("maskUnits","objectBoundingBox");const Rt=Eo._svgFactory.createElement("rect");_t.append(Rt),Rt.setAttribute("width","1"),Rt.setAttribute("height","1"),Rt.setAttribute("fill","white");const _e=Eo._svgFactory.createElement("use");_t.append(_e),_e.setAttribute("href",`#${Ct}`),_e.setAttribute("stroke","none"),_e.setAttribute("fill","black"),_e.setAttribute("fill-rule","nonzero"),_e.classList.add("mask")}const Ft=Eo._svgFactory.createElement("use");vt.append(Ft),Ft.setAttribute("href",`#${Ct}`),Et&&Ft.setAttribute("mask",`url(#${Et})`);const wt=Ft.cloneNode();return vt.append(wt),Ft.classList.add("mainOutline"),wt.classList.add("secondaryOutline"),Mt(this,mo).set(ht,vt),ht}finalizeLine($,ht){const vt=Mt(this,mu).get($);Mt(this,mu).delete($),this.updateBox($,ht.box),vt.setAttribute("d",ht.toSVGPath())}updateLine($,ht){Mt(this,mo).get($).firstChild.firstChild.setAttribute("d",ht.toSVGPath())}removeFreeHighlight($){this.remove($),Mt(this,mu).delete($)}updatePath($,ht){Mt(this,mu).get($).setAttribute("d",ht.toSVGPath())}updateBox($,ht){var vt;Mn(vt=Eo,qx,c3).call(vt,Mt(this,mo).get($),ht)}show($,ht){Mt(this,mo).get($).classList.toggle("hidden",!ht)}rotate($,ht){Mt(this,mo).get($).setAttribute("data-main-rotation",ht)}changeColor($,ht){Mt(this,mo).get($).setAttribute("fill",ht)}changeOpacity($,ht){Mt(this,mo).get($).setAttribute("fill-opacity",ht)}addClass($,ht){Mt(this,mo).get($).classList.add(ht)}removeClass($,ht){Mt(this,mo).get($).classList.remove(ht)}remove($){Mt(this,o0)!==null&&(Mt(this,mo).get($).remove(),Mt(this,mo).delete($))}destroy(){$n(this,o0,null);for(const $ of Mt(this,mo).values())$.remove();Mt(this,mo).clear()}};o0=new WeakMap,Gx=new WeakMap,mo=new WeakMap,mu=new WeakMap,qx=new WeakSet,c3=function($,{x:ht=0,y:vt=0,width:At=1,height:St=1}={}){const{style:Ct}=$;Ct.top=`${100*vt}%`,Ct.left=`${100*ht}%`,Ct.width=`${100*At}%`,Ct.height=`${100*St}%`},k1=new WeakSet,u3=function($){var vt;const ht=Eo._svgFactory.create(1,1,!0);return Mt(this,o0).append(ht),ht.setAttribute("aria-hidden",!0),Mn(vt=Eo,qx,c3).call(vt,ht,$),ht},I8=function($,ht){const vt=Eo._svgFactory.createElement("clipPath");$.append(vt);const At=`clip_${ht}`;vt.setAttribute("id",At),vt.setAttribute("clipPathUnits","objectBoundingBox");const St=Eo._svgFactory.createElement("use");return vt.append(St),St.setAttribute("href",`#${ht}`),St.classList.add("clip"),At},Nn(Eo,qx);let DrawLayer=Eo;__webpack_exports__.AbortException;__webpack_exports__.AnnotationEditorLayer;__webpack_exports__.AnnotationEditorParamsType;__webpack_exports__.AnnotationEditorType;__webpack_exports__.AnnotationEditorUIManager;__webpack_exports__.AnnotationLayer;__webpack_exports__.AnnotationMode;__webpack_exports__.CMapCompressionType;__webpack_exports__.ColorPicker;__webpack_exports__.DOMSVGFactory;__webpack_exports__.DrawLayer;__webpack_exports__.FeatureTest;var __webpack_exports__GlobalWorkerOptions=__webpack_exports__.GlobalWorkerOptions;__webpack_exports__.ImageKind;__webpack_exports__.InvalidPDFException;__webpack_exports__.MissingPDFException;__webpack_exports__.OPS;__webpack_exports__.Outliner;__webpack_exports__.PDFDataRangeTransport;__webpack_exports__.PDFDateString;__webpack_exports__.PDFWorker;__webpack_exports__.PasswordResponses;__webpack_exports__.PermissionFlag;__webpack_exports__.PixelsPerInch;__webpack_exports__.RenderingCancelledException;__webpack_exports__.TextLayer;__webpack_exports__.UnexpectedResponseException;__webpack_exports__.Util;__webpack_exports__.VerbosityLevel;__webpack_exports__.XfaLayer;__webpack_exports__.build;__webpack_exports__.createValidAbsoluteUrl;__webpack_exports__.fetchData;__webpack_exports__.getDocument;__webpack_exports__.getFilenameFromUrl;__webpack_exports__.getPdfFilenameFromUrl;__webpack_exports__.getXfaPageViewport;__webpack_exports__.isDataScheme;__webpack_exports__.isPdfFile;__webpack_exports__.noContextMenu;__webpack_exports__.normalizeUnicode;__webpack_exports__.renderTextLayer;__webpack_exports__.setLayerDimensions;__webpack_exports__.shadow;__webpack_exports__.updateTextLayer;__webpack_exports__.version;__webpack_exports__GlobalWorkerOptions.workerSrc=new URL("/assets/pdf.worker.min-DKQKFyKK.js",import.meta.url).toString();function Upload(){const[xt,$]=reactExports.useState(""),[ht,vt]=reactExports.useState(""),[At,St]=reactExports.useState(null);reactExports.useState(null);const Ct=async Et=>{Et.preventDefault();const Ft=new FormData;Ft.append("title",xt),Ft.append("file",ht),console.log(xt,ht);const wt=await axios.post("/en/uploadpdf",Ft,{headers:{"Content-Type":"multipart/form-data"}});console.log(wt),wt.data.status=="ok"&&(alert("Uploaded Successfully!!!"),getPdf())};return jsxRuntimeExports.jsxs("div",{className:"App",children:[jsxRuntimeExports.jsxs("form",{className:"formStyle",onSubmit:Ct,children:[jsxRuntimeExports.jsx("h4",{children:"Upload Pdf in React"}),jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsx("input",{type:"text",className:"form-control",placeholder:"Title",required:!0,onChange:Et=>$(Et.target.value)}),jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsx("input",{type:"file",class:"form-control",accept:"application/pdf",required:!0,onChange:Et=>vt(Et.target.files[0])}),jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsx("button",{class:"btn btn-primary",type:"submit",children:"Submit"})]}),jsxRuntimeExports.jsxs("div",{className:"uploaded",children:[jsxRuntimeExports.jsx("h4",{children:"Uploaded PDF:"}),jsxRuntimeExports.jsx("div",{className:"output-div",children:At==null?"":At.map(Et=>jsxRuntimeExports.jsxs("div",{className:"inner-div",children:[jsxRuntimeExports.jsxs("h6",{children:["Title: ",Et.title]}),jsxRuntimeExports.jsx("button",{className:"btn btn-primary",onClick:()=>showPdf(Et.pdf),children:"Show Pdf"})]}))})]})]})}function commonjsRequire(xt){throw new Error('Could not dynamically require "'+xt+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var pdf={exports:{}};const __viteBrowserExternal={},__viteBrowserExternal$1=Object.freeze(Object.defineProperty({__proto__:null,default:__viteBrowserExternal},Symbol.toStringTag,{value:"Module"})),require$$5=getAugmentedNamespace(__viteBrowserExternal$1);(function(module,exports){(function($,ht){module.exports=$.pdfjsLib=ht()})(globalThis,()=>(()=>{var __webpack_modules__=[,(xt,$)=>{var er;Object.defineProperty($,"__esModule",{value:!0}),$.VerbosityLevel=$.Util=$.UnknownErrorException=$.UnexpectedResponseException=$.TextRenderingMode=$.RenderingIntentFlag=$.PromiseCapability=$.PermissionFlag=$.PasswordResponses=$.PasswordException=$.PageActionEventType=$.OPS=$.MissingPDFException=$.MAX_IMAGE_SIZE_TO_CACHE=$.LINE_FACTOR=$.LINE_DESCENT_FACTOR=$.InvalidPDFException=$.ImageKind=$.IDENTITY_MATRIX=$.FormatError=$.FeatureTest=$.FONT_IDENTITY_MATRIX=$.DocumentActionEventType=$.CMapCompressionType=$.BaseException=$.BASELINE_FACTOR=$.AnnotationType=$.AnnotationReplyType=$.AnnotationPrefix=$.AnnotationMode=$.AnnotationFlag=$.AnnotationFieldFlag=$.AnnotationEditorType=$.AnnotationEditorPrefix=$.AnnotationEditorParamsType=$.AnnotationBorderStyleType=$.AnnotationActionEventType=$.AbortException=void 0,$.assert=Ot,$.bytesToString=vn,$.createValidAbsoluteUrl=an,$.getModificationDate=Tn,$.getUuid=Un,$.getVerbosityLevel=Wt,$.info=Yt,$.isArrayBuffer=En,$.isArrayEqual=An,$.isNodeJS=void 0,$.normalizeUnicode=Ln,$.objectFromMap=_n,$.objectSize=On,$.setVerbosityLevel=bn,$.shadow=zt,$.string32=Pn,$.stringToBytes=kn,$.stringToPDFString=wn,$.stringToUTF8String=Cn,$.unreachable=Ut,$.utf8StringToString=Fn,$.warn=un;const ht=typeof process=="object"&&process+""=="[object process]"&&!process.versions.nw&&!(process.versions.electron&&process.type&&process.type!=="browser");$.isNodeJS=ht;const vt=[1,0,0,1,0,0];$.IDENTITY_MATRIX=vt;const At=[.001,0,0,.001,0,0];$.FONT_IDENTITY_MATRIX=At;const St=1e7;$.MAX_IMAGE_SIZE_TO_CACHE=St;const Ct=1.35;$.LINE_FACTOR=Ct;const Et=.35;$.LINE_DESCENT_FACTOR=Et;const Ft=Et/Ct;$.BASELINE_FACTOR=Ft;const wt={ANY:1,DISPLAY:2,PRINT:4,SAVE:8,ANNOTATIONS_FORMS:16,ANNOTATIONS_STORAGE:32,ANNOTATIONS_DISABLE:64,OPLIST:256};$.RenderingIntentFlag=wt;const _t={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3};$.AnnotationMode=_t;const Rt="pdfjs_internal_editor_";$.AnnotationEditorPrefix=Rt;const _e={DISABLE:-1,NONE:0,FREETEXT:3,STAMP:13,INK:15};$.AnnotationEditorType=_e;const bt={RESIZE:1,CREATE:2,FREETEXT_SIZE:11,FREETEXT_COLOR:12,FREETEXT_OPACITY:13,INK_COLOR:21,INK_THICKNESS:22,INK_OPACITY:23};$.AnnotationEditorParamsType=bt;const Pt={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048};$.PermissionFlag=Pt;const Xt={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_ADD_TO_PATH:4,STROKE_ADD_TO_PATH:5,FILL_STROKE_ADD_TO_PATH:6,ADD_TO_PATH:7,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4};$.TextRenderingMode=Xt;const Kt={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3};$.ImageKind=Kt;const Nt={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,SOUND:18,MOVIE:19,WIDGET:20,SCREEN:21,PRINTERMARK:22,TRAPNET:23,WATERMARK:24,THREED:25,REDACT:26};$.AnnotationType=Nt;const $t={GROUP:"Group",REPLY:"R"};$.AnnotationReplyType=$t;const Lt={INVISIBLE:1,HIDDEN:2,PRINT:4,NOZOOM:8,NOROTATE:16,NOVIEW:32,READONLY:64,LOCKED:128,TOGGLENOVIEW:256,LOCKEDCONTENTS:512};$.AnnotationFlag=Lt;const jt={READONLY:1,REQUIRED:2,NOEXPORT:4,MULTILINE:4096,PASSWORD:8192,NOTOGGLETOOFF:16384,RADIO:32768,PUSHBUTTON:65536,COMBO:131072,EDIT:262144,SORT:524288,FILESELECT:1048576,MULTISELECT:2097152,DONOTSPELLCHECK:4194304,DONOTSCROLL:8388608,COMB:16777216,RICHTEXT:33554432,RADIOSINUNISON:33554432,COMMITONSELCHANGE:67108864};$.AnnotationFieldFlag=jt;const kt={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5};$.AnnotationBorderStyleType=kt;const qt={E:"Mouse Enter",X:"Mouse Exit",D:"Mouse Down",U:"Mouse Up",Fo:"Focus",Bl:"Blur",PO:"PageOpen",PC:"PageClose",PV:"PageVisible",PI:"PageInvisible",K:"Keystroke",F:"Format",V:"Validate",C:"Calculate"};$.AnnotationActionEventType=qt;const Bt={WC:"WillClose",WS:"WillSave",DS:"DidSave",WP:"WillPrint",DP:"DidPrint"};$.DocumentActionEventType=Bt;const Gt={O:"PageOpen",C:"PageClose"};$.PageActionEventType=Gt;const en={ERRORS:0,WARNINGS:1,INFOS:5};$.VerbosityLevel=en;const dn={NONE:0,BINARY:1};$.CMapCompressionType=dn;const Qt={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotation:80,endAnnotation:81,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91};$.OPS=Qt;const gn={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};$.PasswordResponses=gn;let tn=en.WARNINGS;function bn(Qn){Number.isInteger(Qn)&&(tn=Qn)}function Wt(){return tn}function Yt(Qn){tn>=en.INFOS&&console.log(`Info: ${Qn}`)}function un(Qn){tn>=en.WARNINGS&&console.log(`Warning: ${Qn}`)}function Ut(Qn){throw new Error(Qn)}function Ot(Qn,Yn){Qn||Ut(Yn)}function Ht(Qn){switch(Qn==null?void 0:Qn.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}function an(Qn,Yn=null,Xn=null){if(!Qn)return null;try{if(Xn&&typeof Qn=="string"){if(Xn.addDefaultProtocol&&Qn.startsWith("www.")){const lr=Qn.match(/\./g);(lr==null?void 0:lr.length)>=2&&(Qn=`http://${Qn}`)}if(Xn.tryConvertEncoding)try{Qn=Cn(Qn)}catch{}}const nr=Yn?new URL(Qn,Yn):new URL(Qn);if(Ht(nr))return nr}catch{}return null}function zt(Qn,Yn,Xn,nr=!1){return Object.defineProperty(Qn,Yn,{value:Xn,enumerable:!nr,configurable:!0,writable:!1}),Xn}const Vt=function(){function Yn(Xn,nr){this.constructor===Yn&&Ut("Cannot initialize BaseException."),this.message=Xn,this.name=nr}return Yn.prototype=new Error,Yn.constructor=Yn,Yn}();$.BaseException=Vt;class nn extends Vt{constructor(Yn,Xn){super(Yn,"PasswordException"),this.code=Xn}}$.PasswordException=nn;class hn extends Vt{constructor(Yn,Xn){super(Yn,"UnknownErrorException"),this.details=Xn}}$.UnknownErrorException=hn;class on extends Vt{constructor(Yn){super(Yn,"InvalidPDFException")}}$.InvalidPDFException=on;class cn extends Vt{constructor(Yn){super(Yn,"MissingPDFException")}}$.MissingPDFException=cn;class sn extends Vt{constructor(Yn,Xn){super(Yn,"UnexpectedResponseException"),this.status=Xn}}$.UnexpectedResponseException=sn;class rn extends Vt{constructor(Yn){super(Yn,"FormatError")}}$.FormatError=rn;class xn extends Vt{constructor(Yn){super(Yn,"AbortException")}}$.AbortException=xn;function vn(Qn){(typeof Qn!="object"||(Qn==null?void 0:Qn.length)===void 0)&&Ut("Invalid argument for bytesToString");const Yn=Qn.length,Xn=8192;if(Yn<Xn)return String.fromCharCode.apply(null,Qn);const nr=[];for(let lr=0;lr<Yn;lr+=Xn){const dr=Math.min(lr+Xn,Yn),Bn=Qn.subarray(lr,dr);nr.push(String.fromCharCode.apply(null,Bn))}return nr.join("")}function kn(Qn){typeof Qn!="string"&&Ut("Invalid argument for stringToBytes");const Yn=Qn.length,Xn=new Uint8Array(Yn);for(let nr=0;nr<Yn;++nr)Xn[nr]=Qn.charCodeAt(nr)&255;return Xn}function Pn(Qn){return String.fromCharCode(Qn>>24&255,Qn>>16&255,Qn>>8&255,Qn&255)}function On(Qn){return Object.keys(Qn).length}function _n(Qn){const Yn=Object.create(null);for(const[Xn,nr]of Qn)Yn[Xn]=nr;return Yn}function Sn(){const Qn=new Uint8Array(4);return Qn[0]=1,new Uint32Array(Qn.buffer,0,1)[0]===1}function mn(){try{return new Function(""),!0}catch{return!1}}class fn{static get isLittleEndian(){return zt(this,"isLittleEndian",Sn())}static get isEvalSupported(){return zt(this,"isEvalSupported",mn())}static get isOffscreenCanvasSupported(){return zt(this,"isOffscreenCanvasSupported",typeof OffscreenCanvas<"u")}static get platform(){return typeof navigator>"u"?zt(this,"platform",{isWin:!1,isMac:!1}):zt(this,"platform",{isWin:navigator.platform.includes("Win"),isMac:navigator.platform.includes("Mac")})}static get isCSSRoundSupported(){var Yn,Xn;return zt(this,"isCSSRoundSupported",(Xn=(Yn=globalThis.CSS)==null?void 0:Yn.supports)==null?void 0:Xn.call(Yn,"width: round(1.5px, 1px)"))}}$.FeatureTest=fn;const Jt=[...Array(256).keys()].map(Qn=>Qn.toString(16).padStart(2,"0"));class ln{static makeHexColor(Yn,Xn,nr){return`#${Jt[Yn]}${Jt[Xn]}${Jt[nr]}`}static scaleMinMax(Yn,Xn){let nr;Yn[0]?(Yn[0]<0&&(nr=Xn[0],Xn[0]=Xn[1],Xn[1]=nr),Xn[0]*=Yn[0],Xn[1]*=Yn[0],Yn[3]<0&&(nr=Xn[2],Xn[2]=Xn[3],Xn[3]=nr),Xn[2]*=Yn[3],Xn[3]*=Yn[3]):(nr=Xn[0],Xn[0]=Xn[2],Xn[2]=nr,nr=Xn[1],Xn[1]=Xn[3],Xn[3]=nr,Yn[1]<0&&(nr=Xn[2],Xn[2]=Xn[3],Xn[3]=nr),Xn[2]*=Yn[1],Xn[3]*=Yn[1],Yn[2]<0&&(nr=Xn[0],Xn[0]=Xn[1],Xn[1]=nr),Xn[0]*=Yn[2],Xn[1]*=Yn[2]),Xn[0]+=Yn[4],Xn[1]+=Yn[4],Xn[2]+=Yn[5],Xn[3]+=Yn[5]}static transform(Yn,Xn){return[Yn[0]*Xn[0]+Yn[2]*Xn[1],Yn[1]*Xn[0]+Yn[3]*Xn[1],Yn[0]*Xn[2]+Yn[2]*Xn[3],Yn[1]*Xn[2]+Yn[3]*Xn[3],Yn[0]*Xn[4]+Yn[2]*Xn[5]+Yn[4],Yn[1]*Xn[4]+Yn[3]*Xn[5]+Yn[5]]}static applyTransform(Yn,Xn){const nr=Yn[0]*Xn[0]+Yn[1]*Xn[2]+Xn[4],lr=Yn[0]*Xn[1]+Yn[1]*Xn[3]+Xn[5];return[nr,lr]}static applyInverseTransform(Yn,Xn){const nr=Xn[0]*Xn[3]-Xn[1]*Xn[2],lr=(Yn[0]*Xn[3]-Yn[1]*Xn[2]+Xn[2]*Xn[5]-Xn[4]*Xn[3])/nr,dr=(-Yn[0]*Xn[1]+Yn[1]*Xn[0]+Xn[4]*Xn[1]-Xn[5]*Xn[0])/nr;return[lr,dr]}static getAxialAlignedBoundingBox(Yn,Xn){const nr=this.applyTransform(Yn,Xn),lr=this.applyTransform(Yn.slice(2,4),Xn),dr=this.applyTransform([Yn[0],Yn[3]],Xn),Bn=this.applyTransform([Yn[2],Yn[1]],Xn);return[Math.min(nr[0],lr[0],dr[0],Bn[0]),Math.min(nr[1],lr[1],dr[1],Bn[1]),Math.max(nr[0],lr[0],dr[0],Bn[0]),Math.max(nr[1],lr[1],dr[1],Bn[1])]}static inverseTransform(Yn){const Xn=Yn[0]*Yn[3]-Yn[1]*Yn[2];return[Yn[3]/Xn,-Yn[1]/Xn,-Yn[2]/Xn,Yn[0]/Xn,(Yn[2]*Yn[5]-Yn[4]*Yn[3])/Xn,(Yn[4]*Yn[1]-Yn[5]*Yn[0])/Xn]}static singularValueDecompose2dScale(Yn){const Xn=[Yn[0],Yn[2],Yn[1],Yn[3]],nr=Yn[0]*Xn[0]+Yn[1]*Xn[2],lr=Yn[0]*Xn[1]+Yn[1]*Xn[3],dr=Yn[2]*Xn[0]+Yn[3]*Xn[2],Bn=Yn[2]*Xn[1]+Yn[3]*Xn[3],Hn=(nr+Bn)/2,Wn=Math.sqrt((nr+Bn)**2-4*(nr*Bn-dr*lr))/2,cr=Hn+Wn||1,sr=Hn-Wn||1;return[Math.sqrt(cr),Math.sqrt(sr)]}static normalizeRect(Yn){const Xn=Yn.slice(0);return Yn[0]>Yn[2]&&(Xn[0]=Yn[2],Xn[2]=Yn[0]),Yn[1]>Yn[3]&&(Xn[1]=Yn[3],Xn[3]=Yn[1]),Xn}static intersect(Yn,Xn){const nr=Math.max(Math.min(Yn[0],Yn[2]),Math.min(Xn[0],Xn[2])),lr=Math.min(Math.max(Yn[0],Yn[2]),Math.max(Xn[0],Xn[2]));if(nr>lr)return null;const dr=Math.max(Math.min(Yn[1],Yn[3]),Math.min(Xn[1],Xn[3])),Bn=Math.min(Math.max(Yn[1],Yn[3]),Math.max(Xn[1],Xn[3]));return dr>Bn?null:[nr,dr,lr,Bn]}static bezierBoundingBox(Yn,Xn,nr,lr,dr,Bn,Hn,Wn){const cr=[],sr=[[],[]];let xr,Jn,Vn,Zn,ur,hr,or,pr;for(let Lr=0;Lr<2;++Lr){if(Lr===0?(Jn=6*Yn-12*nr+6*dr,xr=-3*Yn+9*nr-9*dr+3*Hn,Vn=3*nr-3*Yn):(Jn=6*Xn-12*lr+6*Bn,xr=-3*Xn+9*lr-9*Bn+3*Wn,Vn=3*lr-3*Xn),Math.abs(xr)<1e-12){if(Math.abs(Jn)<1e-12)continue;Zn=-Vn/Jn,0<Zn&&Zn<1&&cr.push(Zn);continue}or=Jn*Jn-4*Vn*xr,pr=Math.sqrt(or),!(or<0)&&(ur=(-Jn+pr)/(2*xr),0<ur&&ur<1&&cr.push(ur),hr=(-Jn-pr)/(2*xr),0<hr&&hr<1&&cr.push(hr))}let wr=cr.length,fr;const Ar=wr;for(;wr--;)Zn=cr[wr],fr=1-Zn,sr[0][wr]=fr*fr*fr*Yn+3*fr*fr*Zn*nr+3*fr*Zn*Zn*dr+Zn*Zn*Zn*Hn,sr[1][wr]=fr*fr*fr*Xn+3*fr*fr*Zn*lr+3*fr*Zn*Zn*Bn+Zn*Zn*Zn*Wn;return sr[0][Ar]=Yn,sr[1][Ar]=Xn,sr[0][Ar+1]=Hn,sr[1][Ar+1]=Wn,sr[0].length=sr[1].length=Ar+2,[Math.min(...sr[0]),Math.min(...sr[1]),Math.max(...sr[0]),Math.max(...sr[1])]}}$.Util=ln;const pn=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,728,711,710,729,733,731,730,732,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,8226,8224,8225,8230,8212,8211,402,8260,8249,8250,8722,8240,8222,8220,8221,8216,8217,8218,8482,64257,64258,321,338,352,376,381,305,322,339,353,382,0,8364];function wn(Qn){if(Qn[0]>=""){let Xn;if(Qn[0]===""&&Qn[1]===""?Xn="utf-16be":Qn[0]===""&&Qn[1]===""?Xn="utf-16le":Qn[0]===""&&Qn[1]===""&&Qn[2]===""&&(Xn="utf-8"),Xn)try{const nr=new TextDecoder(Xn,{fatal:!0}),lr=kn(Qn);return nr.decode(lr)}catch(nr){un(`stringToPDFString: "${nr}".`)}}const Yn=[];for(let Xn=0,nr=Qn.length;Xn<nr;Xn++){const lr=pn[Qn.charCodeAt(Xn)];Yn.push(lr?String.fromCharCode(lr):Qn.charAt(Xn))}return Yn.join("")}function Cn(Qn){return decodeURIComponent(escape(Qn))}function Fn(Qn){return unescape(encodeURIComponent(Qn))}function En(Qn){return typeof Qn=="object"&&(Qn==null?void 0:Qn.byteLength)!==void 0}function An(Qn,Yn){if(Qn.length!==Yn.length)return!1;for(let Xn=0,nr=Qn.length;Xn<nr;Xn++)if(Qn[Xn]!==Yn[Xn])return!1;return!0}function Tn(Qn=new Date){return[Qn.getUTCFullYear().toString(),(Qn.getUTCMonth()+1).toString().padStart(2,"0"),Qn.getUTCDate().toString().padStart(2,"0"),Qn.getUTCHours().toString().padStart(2,"0"),Qn.getUTCMinutes().toString().padStart(2,"0"),Qn.getUTCSeconds().toString().padStart(2,"0")].join("")}class In{constructor(){Nn(this,er,!1);this.promise=new Promise((Yn,Xn)=>{this.resolve=nr=>{$n(this,er,!0),Yn(nr)},this.reject=nr=>{$n(this,er,!0),Xn(nr)}})}get settled(){return Mt(this,er)}}er=new WeakMap,$.PromiseCapability=In;let Rn=null,Dn=null;function Ln(Qn){return Rn||(Rn=/([\u00a0\u00b5\u037e\u0eb3\u2000-\u200a\u202f\u2126\ufb00-\ufb04\ufb06\ufb20-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufba1\ufba4-\ufba9\ufbae-\ufbb1\ufbd3-\ufbdc\ufbde-\ufbe7\ufbea-\ufbf8\ufbfc-\ufbfd\ufc00-\ufc5d\ufc64-\ufcf1\ufcf5-\ufd3d\ufd88\ufdf4\ufdfa-\ufdfb\ufe71\ufe77\ufe79\ufe7b\ufe7d]+)|(\ufb05+)/gu,Dn=new Map([["","t"]])),Qn.replaceAll(Rn,(Yn,Xn,nr)=>Xn?Xn.normalize("NFKC"):Dn.get(nr))}function Un(){if(typeof crypto<"u"&&typeof(crypto==null?void 0:crypto.randomUUID)=="function")return crypto.randomUUID();const Qn=new Uint8Array(32);if(typeof crypto<"u"&&typeof(crypto==null?void 0:crypto.getRandomValues)=="function")crypto.getRandomValues(Qn);else for(let Yn=0;Yn<32;Yn++)Qn[Yn]=Math.floor(Math.random()*255);return vn(Qn)}const tr="pdfjs_internal_id_";$.AnnotationPrefix=tr},(__unused_webpack_module,exports,__w_pdfjs_require__)=>{var xt,ht,vt,At,U1,S2,Et,Ft,wt,_t,Rt,_e,bt,Pt,Xt,E2,Nt,$t,h3,jt,kt;Object.defineProperty(exports,"__esModule",{value:!0}),exports.RenderTask=exports.PDFWorkerUtil=exports.PDFWorker=exports.PDFPageProxy=exports.PDFDocumentProxy=exports.PDFDocumentLoadingTask=exports.PDFDataRangeTransport=exports.LoopbackPort=exports.DefaultStandardFontDataFactory=exports.DefaultFilterFactory=exports.DefaultCanvasFactory=exports.DefaultCMapReaderFactory=void 0,Object.defineProperty(exports,"SVGGraphics",{enumerable:!0,get:function(){return _displaySvg.SVGGraphics}}),exports.build=void 0,exports.getDocument=getDocument,exports.version=void 0;var _util=__w_pdfjs_require__(1),_annotation_storage=__w_pdfjs_require__(3),_display_utils=__w_pdfjs_require__(6),_font_loader=__w_pdfjs_require__(9),_displayNode_utils=__w_pdfjs_require__(10),_canvas=__w_pdfjs_require__(11),_worker_options=__w_pdfjs_require__(14),_message_handler=__w_pdfjs_require__(15),_metadata=__w_pdfjs_require__(16),_optional_content_config=__w_pdfjs_require__(17),_transport_stream=__w_pdfjs_require__(18),_displayFetch_stream=__w_pdfjs_require__(19),_displayNetwork=__w_pdfjs_require__(22),_displayNode_stream=__w_pdfjs_require__(23),_displaySvg=__w_pdfjs_require__(24),_xfa_text=__w_pdfjs_require__(25);const DEFAULT_RANGE_CHUNK_SIZE=65536,RENDERING_CANCELLED_TIMEOUT=100,DELAYED_CLEANUP_TIMEOUT=5e3,DefaultCanvasFactory=_util.isNodeJS?_displayNode_utils.NodeCanvasFactory:_display_utils.DOMCanvasFactory;exports.DefaultCanvasFactory=DefaultCanvasFactory;const DefaultCMapReaderFactory=_util.isNodeJS?_displayNode_utils.NodeCMapReaderFactory:_display_utils.DOMCMapReaderFactory;exports.DefaultCMapReaderFactory=DefaultCMapReaderFactory;const DefaultFilterFactory=_util.isNodeJS?_displayNode_utils.NodeFilterFactory:_display_utils.DOMFilterFactory;exports.DefaultFilterFactory=DefaultFilterFactory;const DefaultStandardFontDataFactory=_util.isNodeJS?_displayNode_utils.NodeStandardFontDataFactory:_display_utils.DOMStandardFontDataFactory;exports.DefaultStandardFontDataFactory=DefaultStandardFontDataFactory;function getDocument(Bt){if(typeof Bt=="string"||Bt instanceof URL?Bt={url:Bt}:(0,_util.isArrayBuffer)(Bt)&&(Bt={data:Bt}),typeof Bt!="object")throw new Error("Invalid parameter in getDocument, need parameter object.");if(!Bt.url&&!Bt.data&&!Bt.range)throw new Error("Invalid parameter object: need either .data, .range or .url");const Gt=new PDFDocumentLoadingTask,{docId:en}=Gt,dn=Bt.url?getUrlProp(Bt.url):null,Qt=Bt.data?getDataProp(Bt.data):null,gn=Bt.httpHeaders||null,tn=Bt.withCredentials===!0,bn=Bt.password??null,Wt=Bt.range instanceof PDFDataRangeTransport?Bt.range:null,Yt=Number.isInteger(Bt.rangeChunkSize)&&Bt.rangeChunkSize>0?Bt.rangeChunkSize:DEFAULT_RANGE_CHUNK_SIZE;let un=Bt.worker instanceof PDFWorker?Bt.worker:null;const Ut=Bt.verbosity,Ot=typeof Bt.docBaseUrl=="string"&&!(0,_display_utils.isDataScheme)(Bt.docBaseUrl)?Bt.docBaseUrl:null,Ht=typeof Bt.cMapUrl=="string"?Bt.cMapUrl:null,an=Bt.cMapPacked!==!1,zt=Bt.CMapReaderFactory||DefaultCMapReaderFactory,Vt=typeof Bt.standardFontDataUrl=="string"?Bt.standardFontDataUrl:null,nn=Bt.StandardFontDataFactory||DefaultStandardFontDataFactory,hn=Bt.stopAtErrors!==!0,on=Number.isInteger(Bt.maxImageSize)&&Bt.maxImageSize>-1?Bt.maxImageSize:-1,cn=Bt.isEvalSupported!==!1,sn=typeof Bt.isOffscreenCanvasSupported=="boolean"?Bt.isOffscreenCanvasSupported:!_util.isNodeJS,rn=Number.isInteger(Bt.canvasMaxAreaInBytes)?Bt.canvasMaxAreaInBytes:-1,xn=typeof Bt.disableFontFace=="boolean"?Bt.disableFontFace:_util.isNodeJS,vn=Bt.fontExtraProperties===!0,kn=Bt.enableXfa===!0,Pn=Bt.ownerDocument||globalThis.document,On=Bt.disableRange===!0,_n=Bt.disableStream===!0,Sn=Bt.disableAutoFetch===!0,mn=Bt.pdfBug===!0,fn=Wt?Wt.length:Bt.length??NaN,Jt=typeof Bt.useSystemFonts=="boolean"?Bt.useSystemFonts:!_util.isNodeJS&&!xn,ln=typeof Bt.useWorkerFetch=="boolean"?Bt.useWorkerFetch:zt===_display_utils.DOMCMapReaderFactory&&nn===_display_utils.DOMStandardFontDataFactory&&Ht&&Vt&&(0,_display_utils.isValidFetchUrl)(Ht,document.baseURI)&&(0,_display_utils.isValidFetchUrl)(Vt,document.baseURI),pn=Bt.canvasFactory||new DefaultCanvasFactory({ownerDocument:Pn}),wn=Bt.filterFactory||new DefaultFilterFactory({docId:en,ownerDocument:Pn}),Cn=null;(0,_util.setVerbosityLevel)(Ut);const Fn={canvasFactory:pn,filterFactory:wn};if(ln||(Fn.cMapReaderFactory=new zt({baseUrl:Ht,isCompressed:an}),Fn.standardFontDataFactory=new nn({baseUrl:Vt})),!un){const Tn={verbosity:Ut,port:_worker_options.GlobalWorkerOptions.workerPort};un=Tn.port?PDFWorker.fromPort(Tn):new PDFWorker(Tn),Gt._worker=un}const En={docId:en,apiVersion:"3.11.174",data:Qt,password:bn,disableAutoFetch:Sn,rangeChunkSize:Yt,length:fn,docBaseUrl:Ot,enableXfa:kn,evaluatorOptions:{maxImageSize:on,disableFontFace:xn,ignoreErrors:hn,isEvalSupported:cn,isOffscreenCanvasSupported:sn,canvasMaxAreaInBytes:rn,fontExtraProperties:vn,useSystemFonts:Jt,cMapUrl:ln?Ht:null,standardFontDataUrl:ln?Vt:null}},An={ignoreErrors:hn,isEvalSupported:cn,disableFontFace:xn,fontExtraProperties:vn,enableXfa:kn,ownerDocument:Pn,disableAutoFetch:Sn,pdfBug:mn,styleElement:Cn};return un.promise.then(function(){if(Gt.destroyed)throw new Error("Loading aborted");const Tn=_fetchDocument(un,En),In=new Promise(function(Rn){let Dn;Wt?Dn=new _transport_stream.PDFDataTransportStream({length:fn,initialData:Wt.initialData,progressiveDone:Wt.progressiveDone,contentDispositionFilename:Wt.contentDispositionFilename,disableRange:On,disableStream:_n},Wt):Qt||(Dn=(Un=>_util.isNodeJS?new _displayNode_stream.PDFNodeStream(Un):(0,_display_utils.isValidFetchUrl)(Un.url)?new _displayFetch_stream.PDFFetchStream(Un):new _displayNetwork.PDFNetworkStream(Un))({url:dn,length:fn,httpHeaders:gn,withCredentials:tn,rangeChunkSize:Yt,disableRange:On,disableStream:_n})),Rn(Dn)});return Promise.all([Tn,In]).then(function([Rn,Dn]){if(Gt.destroyed)throw new Error("Loading aborted");const Ln=new _message_handler.MessageHandler(en,Rn,un.port),Un=new WorkerTransport(Ln,Gt,Dn,An,Fn);Gt._transport=Un,Ln.send("Ready",null)})}).catch(Gt._capability.reject),Gt}async function _fetchDocument(Bt,Gt){if(Bt.destroyed)throw new Error("Worker was destroyed");const en=await Bt.messageHandler.sendWithPromise("GetDocRequest",Gt,Gt.data?[Gt.data.buffer]:null);if(Bt.destroyed)throw new Error("Worker was destroyed");return en}function getUrlProp(Bt){if(Bt instanceof URL)return Bt.href;try{return new URL(Bt,window.location).href}catch{if(_util.isNodeJS&&typeof Bt=="string")return Bt}throw new Error("Invalid PDF url data: either string or URL-object is expected in the url property.")}function getDataProp(Bt){if(_util.isNodeJS&&typeof Buffer<"u"&&Bt instanceof Buffer)throw new Error("Please provide binary data as `Uint8Array`, rather than `Buffer`.");if(Bt instanceof Uint8Array&&Bt.byteLength===Bt.buffer.byteLength)return Bt;if(typeof Bt=="string")return(0,_util.stringToBytes)(Bt);if(typeof Bt=="object"&&!isNaN(Bt==null?void 0:Bt.length)||(0,_util.isArrayBuffer)(Bt))return new Uint8Array(Bt);throw new Error("Invalid PDF binary data: either TypedArray, string, or array-like object is expected in the data property.")}const $=class ${constructor(){this._capability=new _util.PromiseCapability,this._transport=null,this._worker=null,this.docId=`d${So($,xt)._++}`,this.destroyed=!1,this.onPassword=null,this.onProgress=null}get promise(){return this._capability.promise}async destroy(){var Gt,en,dn;this.destroyed=!0;try{(Gt=this._worker)!=null&&Gt.port&&(this._worker._pendingDestroy=!0),await((en=this._transport)==null?void 0:en.destroy())}catch(Qt){throw(dn=this._worker)!=null&&dn.port&&delete this._worker._pendingDestroy,Qt}this._transport=null,this._worker&&(this._worker.destroy(),this._worker=null)}};xt=new WeakMap,Nn($,xt,0);let PDFDocumentLoadingTask=$;exports.PDFDocumentLoadingTask=PDFDocumentLoadingTask;class PDFDataRangeTransport{constructor(Gt,en,dn=!1,Qt=null){this.length=Gt,this.initialData=en,this.progressiveDone=dn,this.contentDispositionFilename=Qt,this._rangeListeners=[],this._progressListeners=[],this._progressiveReadListeners=[],this._progressiveDoneListeners=[],this._readyCapability=new _util.PromiseCapability}addRangeListener(Gt){this._rangeListeners.push(Gt)}addProgressListener(Gt){this._progressListeners.push(Gt)}addProgressiveReadListener(Gt){this._progressiveReadListeners.push(Gt)}addProgressiveDoneListener(Gt){this._progressiveDoneListeners.push(Gt)}onDataRange(Gt,en){for(const dn of this._rangeListeners)dn(Gt,en)}onDataProgress(Gt,en){this._readyCapability.promise.then(()=>{for(const dn of this._progressListeners)dn(Gt,en)})}onDataProgressiveRead(Gt){this._readyCapability.promise.then(()=>{for(const en of this._progressiveReadListeners)en(Gt)})}onDataProgressiveDone(){this._readyCapability.promise.then(()=>{for(const Gt of this._progressiveDoneListeners)Gt()})}transportReady(){this._readyCapability.resolve()}requestDataRange(Gt,en){(0,_util.unreachable)("Abstract method PDFDataRangeTransport.requestDataRange")}abort(){}}exports.PDFDataRangeTransport=PDFDataRangeTransport;class PDFDocumentProxy{constructor(Gt,en){this._pdfInfo=Gt,this._transport=en,Object.defineProperty(this,"getJavaScript",{value:()=>((0,_display_utils.deprecated)("`PDFDocumentProxy.getJavaScript`, please use `PDFDocumentProxy.getJSActions` instead."),this.getJSActions().then(dn=>{if(!dn)return dn;const Qt=[];for(const gn in dn)Qt.push(...dn[gn]);return Qt}))})}get annotationStorage(){return this._transport.annotationStorage}get filterFactory(){return this._transport.filterFactory}get numPages(){return this._pdfInfo.numPages}get fingerprints(){return this._pdfInfo.fingerprints}get isPureXfa(){return(0,_util.shadow)(this,"isPureXfa",!!this._transport._htmlForXfa)}get allXfaHtml(){return this._transport._htmlForXfa}getPage(Gt){return this._transport.getPage(Gt)}getPageIndex(Gt){return this._transport.getPageIndex(Gt)}getDestinations(){return this._transport.getDestinations()}getDestination(Gt){return this._transport.getDestination(Gt)}getPageLabels(){return this._transport.getPageLabels()}getPageLayout(){return this._transport.getPageLayout()}getPageMode(){return this._transport.getPageMode()}getViewerPreferences(){return this._transport.getViewerPreferences()}getOpenAction(){return this._transport.getOpenAction()}getAttachments(){return this._transport.getAttachments()}getJSActions(){return this._transport.getDocJSActions()}getOutline(){return this._transport.getOutline()}getOptionalContentConfig(){return this._transport.getOptionalContentConfig()}getPermissions(){return this._transport.getPermissions()}getMetadata(){return this._transport.getMetadata()}getMarkInfo(){return this._transport.getMarkInfo()}getData(){return this._transport.getData()}saveDocument(){return this._transport.saveDocument()}getDownloadInfo(){return this._transport.downloadInfoCapability.promise}cleanup(Gt=!1){return this._transport.startCleanup(Gt||this.isPureXfa)}destroy(){return this.loadingTask.destroy()}get loadingParams(){return this._transport.loadingParams}get loadingTask(){return this._transport.loadingTask}getFieldObjects(){return this._transport.getFieldObjects()}hasJSActions(){return this._transport.hasJSActions()}getCalculationOrderIds(){return this._transport.getCalculationOrderIds()}}exports.PDFDocumentProxy=PDFDocumentProxy;class PDFPageProxy{constructor(Gt,en,dn,Qt=!1){Nn(this,At);Nn(this,ht,null);Nn(this,vt,!1);this._pageIndex=Gt,this._pageInfo=en,this._transport=dn,this._stats=Qt?new _display_utils.StatTimer:null,this._pdfBug=Qt,this.commonObjs=dn.commonObjs,this.objs=new PDFObjects,this._maybeCleanupAfterRender=!1,this._intentStates=new Map,this.destroyed=!1}get pageNumber(){return this._pageIndex+1}get rotate(){return this._pageInfo.rotate}get ref(){return this._pageInfo.ref}get userUnit(){return this._pageInfo.userUnit}get view(){return this._pageInfo.view}getViewport({scale:Gt,rotation:en=this.rotate,offsetX:dn=0,offsetY:Qt=0,dontFlip:gn=!1}={}){return new _display_utils.PageViewport({viewBox:this.view,scale:Gt,rotation:en,offsetX:dn,offsetY:Qt,dontFlip:gn})}getAnnotations({intent:Gt="display"}={}){const en=this._transport.getRenderingIntent(Gt);return this._transport.getAnnotations(this._pageIndex,en.renderingIntent)}getJSActions(){return this._transport.getPageJSActions(this._pageIndex)}get filterFactory(){return this._transport.filterFactory}get isPureXfa(){return(0,_util.shadow)(this,"isPureXfa",!!this._transport._htmlForXfa)}async getXfa(){var Gt;return((Gt=this._transport._htmlForXfa)==null?void 0:Gt.children[this._pageIndex])||null}render({canvasContext:Gt,viewport:en,intent:dn="display",annotationMode:Qt=_util.AnnotationMode.ENABLE,transform:gn=null,background:tn=null,optionalContentConfigPromise:bn=null,annotationCanvasMap:Wt=null,pageColors:Yt=null,printAnnotationStorage:un=null}){var nn,hn;(nn=this._stats)==null||nn.time("Overall");const Ut=this._transport.getRenderingIntent(dn,Qt,un);$n(this,vt,!1),Mn(this,At,S2).call(this),bn||(bn=this._transport.getOptionalContentConfig());let Ot=this._intentStates.get(Ut.cacheKey);Ot||(Ot=Object.create(null),this._intentStates.set(Ut.cacheKey,Ot)),Ot.streamReaderCancelTimeout&&(clearTimeout(Ot.streamReaderCancelTimeout),Ot.streamReaderCancelTimeout=null);const Ht=!!(Ut.renderingIntent&_util.RenderingIntentFlag.PRINT);Ot.displayReadyCapability||(Ot.displayReadyCapability=new _util.PromiseCapability,Ot.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(hn=this._stats)==null||hn.time("Page Request"),this._pumpOperatorList(Ut));const an=on=>{var cn,sn;Ot.renderTasks.delete(zt),(this._maybeCleanupAfterRender||Ht)&&$n(this,vt,!0),Mn(this,At,U1).call(this,!Ht),on?(zt.capability.reject(on),this._abortOperatorList({intentState:Ot,reason:on instanceof Error?on:new Error(on)})):zt.capability.resolve(),(cn=this._stats)==null||cn.timeEnd("Rendering"),(sn=this._stats)==null||sn.timeEnd("Overall")},zt=new InternalRenderTask({callback:an,params:{canvasContext:Gt,viewport:en,transform:gn,background:tn},objs:this.objs,commonObjs:this.commonObjs,annotationCanvasMap:Wt,operatorList:Ot.operatorList,pageIndex:this._pageIndex,canvasFactory:this._transport.canvasFactory,filterFactory:this._transport.filterFactory,useRequestAnimationFrame:!Ht,pdfBug:this._pdfBug,pageColors:Yt});(Ot.renderTasks||(Ot.renderTasks=new Set)).add(zt);const Vt=zt.task;return Promise.all([Ot.displayReadyCapability.promise,bn]).then(([on,cn])=>{var sn;if(this.destroyed){an();return}(sn=this._stats)==null||sn.time("Rendering"),zt.initializeGraphics({transparency:on,optionalContentConfig:cn}),zt.operatorListChanged()}).catch(an),Vt}getOperatorList({intent:Gt="display",annotationMode:en=_util.AnnotationMode.ENABLE,printAnnotationStorage:dn=null}={}){var Wt;function Qt(){tn.operatorList.lastChunk&&(tn.opListReadCapability.resolve(tn.operatorList),tn.renderTasks.delete(bn))}const gn=this._transport.getRenderingIntent(Gt,en,dn,!0);let tn=this._intentStates.get(gn.cacheKey);tn||(tn=Object.create(null),this._intentStates.set(gn.cacheKey,tn));let bn;return tn.opListReadCapability||(bn=Object.create(null),bn.operatorListChanged=Qt,tn.opListReadCapability=new _util.PromiseCapability,(tn.renderTasks||(tn.renderTasks=new Set)).add(bn),tn.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(Wt=this._stats)==null||Wt.time("Page Request"),this._pumpOperatorList(gn)),tn.opListReadCapability.promise}streamTextContent({includeMarkedContent:Gt=!1,disableNormalization:en=!1}={}){return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,includeMarkedContent:Gt===!0,disableNormalization:en===!0},{highWaterMark:100,size(Qt){return Qt.items.length}})}getTextContent(Gt={}){if(this._transport._htmlForXfa)return this.getXfa().then(dn=>_xfa_text.XfaText.textContent(dn));const en=this.streamTextContent(Gt);return new Promise(function(dn,Qt){function gn(){tn.read().then(function({value:Wt,done:Yt}){if(Yt){dn(bn);return}Object.assign(bn.styles,Wt.styles),bn.items.push(...Wt.items),gn()},Qt)}const tn=en.getReader(),bn={items:[],styles:Object.create(null)};gn()})}getStructTree(){return this._transport.getStructTree(this._pageIndex)}_destroy(){this.destroyed=!0;const Gt=[];for(const en of this._intentStates.values())if(this._abortOperatorList({intentState:en,reason:new Error("Page was destroyed."),force:!0}),!en.opListReadCapability)for(const dn of en.renderTasks)Gt.push(dn.completed),dn.cancel();return this.objs.clear(),$n(this,vt,!1),Mn(this,At,S2).call(this),Promise.all(Gt)}cleanup(Gt=!1){$n(this,vt,!0);const en=Mn(this,At,U1).call(this,!1);return Gt&&en&&this._stats&&(this._stats=new _display_utils.StatTimer),en}_startRenderPage(Gt,en){var Qt,gn;const dn=this._intentStates.get(en);dn&&((Qt=this._stats)==null||Qt.timeEnd("Page Request"),(gn=dn.displayReadyCapability)==null||gn.resolve(Gt))}_renderPageChunk(Gt,en){for(let dn=0,Qt=Gt.length;dn<Qt;dn++)en.operatorList.fnArray.push(Gt.fnArray[dn]),en.operatorList.argsArray.push(Gt.argsArray[dn]);en.operatorList.lastChunk=Gt.lastChunk,en.operatorList.separateAnnots=Gt.separateAnnots;for(const dn of en.renderTasks)dn.operatorListChanged();Gt.lastChunk&&Mn(this,At,U1).call(this,!0)}_pumpOperatorList({renderingIntent:Gt,cacheKey:en,annotationStorageSerializable:dn}){const{map:Qt,transfers:gn}=dn,bn=this._transport.messageHandler.sendWithStream("GetOperatorList",{pageIndex:this._pageIndex,intent:Gt,cacheKey:en,annotationStorage:Qt},gn).getReader(),Wt=this._intentStates.get(en);Wt.streamReader=bn;const Yt=()=>{bn.read().then(({value:un,done:Ut})=>{if(Ut){Wt.streamReader=null;return}this._transport.destroyed||(this._renderPageChunk(un,Wt),Yt())},un=>{if(Wt.streamReader=null,!this._transport.destroyed){if(Wt.operatorList){Wt.operatorList.lastChunk=!0;for(const Ut of Wt.renderTasks)Ut.operatorListChanged();Mn(this,At,U1).call(this,!0)}if(Wt.displayReadyCapability)Wt.displayReadyCapability.reject(un);else if(Wt.opListReadCapability)Wt.opListReadCapability.reject(un);else throw un}})};Yt()}_abortOperatorList({intentState:Gt,reason:en,force:dn=!1}){if(Gt.streamReader){if(Gt.streamReaderCancelTimeout&&(clearTimeout(Gt.streamReaderCancelTimeout),Gt.streamReaderCancelTimeout=null),!dn){if(Gt.renderTasks.size>0)return;if(en instanceof _display_utils.RenderingCancelledException){let Qt=RENDERING_CANCELLED_TIMEOUT;en.extraDelay>0&&en.extraDelay<1e3&&(Qt+=en.extraDelay),Gt.streamReaderCancelTimeout=setTimeout(()=>{Gt.streamReaderCancelTimeout=null,this._abortOperatorList({intentState:Gt,reason:en,force:!0})},Qt);return}}if(Gt.streamReader.cancel(new _util.AbortException(en.message)).catch(()=>{}),Gt.streamReader=null,!this._transport.destroyed){for(const[Qt,gn]of this._intentStates)if(gn===Gt){this._intentStates.delete(Qt);break}this.cleanup()}}}get stats(){return this._stats}}ht=new WeakMap,vt=new WeakMap,At=new WeakSet,U1=function(Gt=!1){if(Mn(this,At,S2).call(this),!Mt(this,vt)||this.destroyed)return!1;if(Gt)return $n(this,ht,setTimeout(()=>{$n(this,ht,null),Mn(this,At,U1).call(this,!1)},DELAYED_CLEANUP_TIMEOUT)),!1;for(const{renderTasks:en,operatorList:dn}of this._intentStates.values())if(en.size>0||!dn.lastChunk)return!1;return this._intentStates.clear(),this.objs.clear(),$n(this,vt,!1),!0},S2=function(){Mt(this,ht)&&(clearTimeout(Mt(this,ht)),$n(this,ht,null))},exports.PDFPageProxy=PDFPageProxy;class LoopbackPort{constructor(){Nn(this,Et,new Set);Nn(this,Ft,Promise.resolve())}postMessage(Gt,en){const dn={data:structuredClone(Gt,en?{transfer:en}:null)};Mt(this,Ft).then(()=>{for(const Qt of Mt(this,Et))Qt.call(this,dn)})}addEventListener(Gt,en){Mt(this,Et).add(en)}removeEventListener(Gt,en){Mt(this,Et).delete(en)}terminate(){Mt(this,Et).clear()}}Et=new WeakMap,Ft=new WeakMap,exports.LoopbackPort=LoopbackPort;const PDFWorkerUtil={isWorkerDisabled:!1,fallbackWorkerSrc:null,fakeWorkerId:0};exports.PDFWorkerUtil=PDFWorkerUtil;{if(_util.isNodeJS&&typeof commonjsRequire=="function")PDFWorkerUtil.isWorkerDisabled=!0,PDFWorkerUtil.fallbackWorkerSrc="./pdf.worker.js";else if(typeof document=="object"){const Bt=(wt=document==null?void 0:document.currentScript)==null?void 0:wt.src;Bt&&(PDFWorkerUtil.fallbackWorkerSrc=Bt.replace(/(\.(?:min\.)?js)(\?.*)?$/i,".worker$1$2"))}PDFWorkerUtil.isSameOrigin=function(Bt,Gt){let en;try{if(en=new URL(Bt),!en.origin||en.origin==="null")return!1}catch{return!1}const dn=new URL(Gt,en);return en.origin===dn.origin},PDFWorkerUtil.createCDNWrapper=function(Bt){const Gt=`importScripts("${Bt}");`;return URL.createObjectURL(new Blob([Gt]))}}const _PDFWorker=class _PDFWorker{constructor({name:Bt=null,port:Gt=null,verbosity:en=(0,_util.getVerbosityLevel)()}={}){var dn;if(this.name=Bt,this.destroyed=!1,this.verbosity=en,this._readyCapability=new _util.PromiseCapability,this._port=null,this._webWorker=null,this._messageHandler=null,Gt){if((dn=Mt(_PDFWorker,_t))!=null&&dn.has(Gt))throw new Error("Cannot use more than one PDFWorker per port.");(Mt(_PDFWorker,_t)||$n(_PDFWorker,_t,new WeakMap)).set(Gt,this),this._initializeFromPort(Gt);return}this._initialize()}get promise(){return this._readyCapability.promise}get port(){return this._port}get messageHandler(){return this._messageHandler}_initializeFromPort(Bt){this._port=Bt,this._messageHandler=new _message_handler.MessageHandler("main","worker",Bt),this._messageHandler.on("ready",function(){}),this._readyCapability.resolve(),this._messageHandler.send("configure",{verbosity:this.verbosity})}_initialize(){if(!PDFWorkerUtil.isWorkerDisabled&&!_PDFWorker._mainThreadWorkerMessageHandler){let{workerSrc:Bt}=_PDFWorker;try{PDFWorkerUtil.isSameOrigin(window.location.href,Bt)||(Bt=PDFWorkerUtil.createCDNWrapper(new URL(Bt,window.location).href));const Gt=new Worker(Bt),en=new _message_handler.MessageHandler("main","worker",Gt),dn=()=>{Gt.removeEventListener("error",Qt),en.destroy(),Gt.terminate(),this.destroyed?this._readyCapability.reject(new Error("Worker was destroyed")):this._setupFakeWorker()},Qt=()=>{this._webWorker||dn()};Gt.addEventListener("error",Qt),en.on("test",tn=>{if(Gt.removeEventListener("error",Qt),this.destroyed){dn();return}tn?(this._messageHandler=en,this._port=Gt,this._webWorker=Gt,this._readyCapability.resolve(),en.send("configure",{verbosity:this.verbosity})):(this._setupFakeWorker(),en.destroy(),Gt.terminate())}),en.on("ready",tn=>{if(Gt.removeEventListener("error",Qt),this.destroyed){dn();return}try{gn()}catch{this._setupFakeWorker()}});const gn=()=>{const tn=new Uint8Array;en.send("test",tn,[tn.buffer])};gn();return}catch{(0,_util.info)("The worker has been disabled.")}}this._setupFakeWorker()}_setupFakeWorker(){PDFWorkerUtil.isWorkerDisabled||((0,_util.warn)("Setting up fake worker."),PDFWorkerUtil.isWorkerDisabled=!0),_PDFWorker._setupFakeWorkerGlobal.then(Bt=>{if(this.destroyed){this._readyCapability.reject(new Error("Worker was destroyed"));return}const Gt=new LoopbackPort;this._port=Gt;const en=`fake${PDFWorkerUtil.fakeWorkerId++}`,dn=new _message_handler.MessageHandler(en+"_worker",en,Gt);Bt.setup(dn,Gt);const Qt=new _message_handler.MessageHandler(en,en+"_worker",Gt);this._messageHandler=Qt,this._readyCapability.resolve(),Qt.send("configure",{verbosity:this.verbosity})}).catch(Bt=>{this._readyCapability.reject(new Error(`Setting up fake worker failed: "${Bt.message}".`))})}destroy(){var Bt;this.destroyed=!0,this._webWorker&&(this._webWorker.terminate(),this._webWorker=null),(Bt=Mt(_PDFWorker,_t))==null||Bt.delete(this._port),this._port=null,this._messageHandler&&(this._messageHandler.destroy(),this._messageHandler=null)}static fromPort(Bt){var en;if(!(Bt!=null&&Bt.port))throw new Error("PDFWorker.fromPort - invalid method signature.");const Gt=(en=Mt(this,_t))==null?void 0:en.get(Bt.port);if(Gt){if(Gt._pendingDestroy)throw new Error("PDFWorker.fromPort - the worker is being destroyed.\nPlease remember to await `PDFDocumentLoadingTask.destroy()`-calls.");return Gt}return new _PDFWorker(Bt)}static get workerSrc(){if(_worker_options.GlobalWorkerOptions.workerSrc)return _worker_options.GlobalWorkerOptions.workerSrc;if(PDFWorkerUtil.fallbackWorkerSrc!==null)return _util.isNodeJS||(0,_display_utils.deprecated)('No "GlobalWorkerOptions.workerSrc" specified.'),PDFWorkerUtil.fallbackWorkerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}static get _mainThreadWorkerMessageHandler(){var Bt;try{return((Bt=globalThis.pdfjsWorker)==null?void 0:Bt.WorkerMessageHandler)||null}catch{return null}}static get _setupFakeWorkerGlobal(){const loader=async()=>{const mainWorkerMessageHandler=this._mainThreadWorkerMessageHandler;if(mainWorkerMessageHandler)return mainWorkerMessageHandler;if(_util.isNodeJS&&typeof commonjsRequire=="function"){const worker=eval("require")(this.workerSrc);return worker.WorkerMessageHandler}return await(0,_display_utils.loadScript)(this.workerSrc),window.pdfjsWorker.WorkerMessageHandler};return(0,_util.shadow)(this,"_setupFakeWorkerGlobal",loader())}};_t=new WeakMap,Nn(_PDFWorker,_t);let PDFWorker=_PDFWorker;exports.PDFWorker=PDFWorker;class WorkerTransport{constructor(Gt,en,dn,Qt,gn){Nn(this,Xt);Nn(this,Rt,new Map);Nn(this,_e,new Map);Nn(this,bt,new Map);Nn(this,Pt,null);this.messageHandler=Gt,this.loadingTask=en,this.commonObjs=new PDFObjects,this.fontLoader=new _font_loader.FontLoader({ownerDocument:Qt.ownerDocument,styleElement:Qt.styleElement}),this._params=Qt,this.canvasFactory=gn.canvasFactory,this.filterFactory=gn.filterFactory,this.cMapReaderFactory=gn.cMapReaderFactory,this.standardFontDataFactory=gn.standardFontDataFactory,this.destroyed=!1,this.destroyCapability=null,this._networkStream=dn,this._fullReader=null,this._lastProgress=null,this.downloadInfoCapability=new _util.PromiseCapability,this.setupMessageHandler()}get annotationStorage(){return(0,_util.shadow)(this,"annotationStorage",new _annotation_storage.AnnotationStorage)}getRenderingIntent(Gt,en=_util.AnnotationMode.ENABLE,dn=null,Qt=!1){let gn=_util.RenderingIntentFlag.DISPLAY,tn=_annotation_storage.SerializableEmpty;switch(Gt){case"any":gn=_util.RenderingIntentFlag.ANY;break;case"display":break;case"print":gn=_util.RenderingIntentFlag.PRINT;break;default:(0,_util.warn)(`getRenderingIntent - invalid intent: ${Gt}`)}switch(en){case _util.AnnotationMode.DISABLE:gn+=_util.RenderingIntentFlag.ANNOTATIONS_DISABLE;break;case _util.AnnotationMode.ENABLE:break;case _util.AnnotationMode.ENABLE_FORMS:gn+=_util.RenderingIntentFlag.ANNOTATIONS_FORMS;break;case _util.AnnotationMode.ENABLE_STORAGE:gn+=_util.RenderingIntentFlag.ANNOTATIONS_STORAGE,tn=(gn&_util.RenderingIntentFlag.PRINT&&dn instanceof _annotation_storage.PrintAnnotationStorage?dn:this.annotationStorage).serializable;break;default:(0,_util.warn)(`getRenderingIntent - invalid annotationMode: ${en}`)}return Qt&&(gn+=_util.RenderingIntentFlag.OPLIST),{renderingIntent:gn,cacheKey:`${gn}_${tn.hash}`,annotationStorageSerializable:tn}}destroy(){var dn;if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=new _util.PromiseCapability,(dn=Mt(this,Pt))==null||dn.reject(new Error("Worker was destroyed during onPassword callback"));const Gt=[];for(const Qt of Mt(this,_e).values())Gt.push(Qt._destroy());Mt(this,_e).clear(),Mt(this,bt).clear(),this.hasOwnProperty("annotationStorage")&&this.annotationStorage.resetModified();const en=this.messageHandler.sendWithPromise("Terminate",null);return Gt.push(en),Promise.all(Gt).then(()=>{var Qt;this.commonObjs.clear(),this.fontLoader.clear(),Mt(this,Rt).clear(),this.filterFactory.destroy(),(Qt=this._networkStream)==null||Qt.cancelAllRequests(new _util.AbortException("Worker was terminated.")),this.messageHandler&&(this.messageHandler.destroy(),this.messageHandler=null),this.destroyCapability.resolve()},this.destroyCapability.reject),this.destroyCapability.promise}setupMessageHandler(){const{messageHandler:Gt,loadingTask:en}=this;Gt.on("GetReader",(dn,Qt)=>{(0,_util.assert)(this._networkStream,"GetReader - no `IPDFStream` instance available."),this._fullReader=this._networkStream.getFullReader(),this._fullReader.onProgress=gn=>{this._lastProgress={loaded:gn.loaded,total:gn.total}},Qt.onPull=()=>{this._fullReader.read().then(function({value:gn,done:tn}){if(tn){Qt.close();return}(0,_util.assert)(gn instanceof ArrayBuffer,"GetReader - expected an ArrayBuffer."),Qt.enqueue(new Uint8Array(gn),1,[gn])}).catch(gn=>{Qt.error(gn)})},Qt.onCancel=gn=>{this._fullReader.cancel(gn),Qt.ready.catch(tn=>{if(!this.destroyed)throw tn})}}),Gt.on("ReaderHeadersReady",dn=>{const Qt=new _util.PromiseCapability,gn=this._fullReader;return gn.headersReady.then(()=>{var tn;(!gn.isStreamingSupported||!gn.isRangeSupported)&&(this._lastProgress&&((tn=en.onProgress)==null||tn.call(en,this._lastProgress)),gn.onProgress=bn=>{var Wt;(Wt=en.onProgress)==null||Wt.call(en,{loaded:bn.loaded,total:bn.total})}),Qt.resolve({isStreamingSupported:gn.isStreamingSupported,isRangeSupported:gn.isRangeSupported,contentLength:gn.contentLength})},Qt.reject),Qt.promise}),Gt.on("GetRangeReader",(dn,Qt)=>{(0,_util.assert)(this._networkStream,"GetRangeReader - no `IPDFStream` instance available.");const gn=this._networkStream.getRangeReader(dn.begin,dn.end);if(!gn){Qt.close();return}Qt.onPull=()=>{gn.read().then(function({value:tn,done:bn}){if(bn){Qt.close();return}(0,_util.assert)(tn instanceof ArrayBuffer,"GetRangeReader - expected an ArrayBuffer."),Qt.enqueue(new Uint8Array(tn),1,[tn])}).catch(tn=>{Qt.error(tn)})},Qt.onCancel=tn=>{gn.cancel(tn),Qt.ready.catch(bn=>{if(!this.destroyed)throw bn})}}),Gt.on("GetDoc",({pdfInfo:dn})=>{this._numPages=dn.numPages,this._htmlForXfa=dn.htmlForXfa,delete dn.htmlForXfa,en._capability.resolve(new PDFDocumentProxy(dn,this))}),Gt.on("DocException",function(dn){let Qt;switch(dn.name){case"PasswordException":Qt=new _util.PasswordException(dn.message,dn.code);break;case"InvalidPDFException":Qt=new _util.InvalidPDFException(dn.message);break;case"MissingPDFException":Qt=new _util.MissingPDFException(dn.message);break;case"UnexpectedResponseException":Qt=new _util.UnexpectedResponseException(dn.message,dn.status);break;case"UnknownErrorException":Qt=new _util.UnknownErrorException(dn.message,dn.details);break;default:(0,_util.unreachable)("DocException - expected a valid Error.")}en._capability.reject(Qt)}),Gt.on("PasswordRequest",dn=>{if($n(this,Pt,new _util.PromiseCapability),en.onPassword){const Qt=gn=>{gn instanceof Error?Mt(this,Pt).reject(gn):Mt(this,Pt).resolve({password:gn})};try{en.onPassword(Qt,dn.code)}catch(gn){Mt(this,Pt).reject(gn)}}else Mt(this,Pt).reject(new _util.PasswordException(dn.message,dn.code));return Mt(this,Pt).promise}),Gt.on("DataLoaded",dn=>{var Qt;(Qt=en.onProgress)==null||Qt.call(en,{loaded:dn.length,total:dn.length}),this.downloadInfoCapability.resolve(dn)}),Gt.on("StartRenderPage",dn=>{if(this.destroyed)return;Mt(this,_e).get(dn.pageIndex)._startRenderPage(dn.transparency,dn.cacheKey)}),Gt.on("commonobj",([dn,Qt,gn])=>{var tn;if(!this.destroyed&&!this.commonObjs.has(dn))switch(Qt){case"Font":const bn=this._params;if("error"in gn){const un=gn.error;(0,_util.warn)(`Error during font loading: ${un}`),this.commonObjs.resolve(dn,un);break}const Wt=bn.pdfBug&&((tn=globalThis.FontInspector)!=null&&tn.enabled)?(un,Ut)=>globalThis.FontInspector.fontAdded(un,Ut):null,Yt=new _font_loader.FontFaceObject(gn,{isEvalSupported:bn.isEvalSupported,disableFontFace:bn.disableFontFace,ignoreErrors:bn.ignoreErrors,inspectFont:Wt});this.fontLoader.bind(Yt).catch(un=>Gt.sendWithPromise("FontFallback",{id:dn})).finally(()=>{!bn.fontExtraProperties&&Yt.data&&(Yt.data=null),this.commonObjs.resolve(dn,Yt)});break;case"FontPath":case"Image":case"Pattern":this.commonObjs.resolve(dn,gn);break;default:throw new Error(`Got unknown common object type ${Qt}`)}}),Gt.on("obj",([dn,Qt,gn,tn])=>{var Wt;if(this.destroyed)return;const bn=Mt(this,_e).get(Qt);if(!bn.objs.has(dn))switch(gn){case"Image":if(bn.objs.resolve(dn,tn),tn){let Yt;if(tn.bitmap){const{width:un,height:Ut}=tn;Yt=un*Ut*4}else Yt=((Wt=tn.data)==null?void 0:Wt.length)||0;Yt>_util.MAX_IMAGE_SIZE_TO_CACHE&&(bn._maybeCleanupAfterRender=!0)}break;case"Pattern":bn.objs.resolve(dn,tn);break;default:throw new Error(`Got unknown object type ${gn}`)}}),Gt.on("DocProgress",dn=>{var Qt;this.destroyed||(Qt=en.onProgress)==null||Qt.call(en,{loaded:dn.loaded,total:dn.total})}),Gt.on("FetchBuiltInCMap",dn=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.cMapReaderFactory?this.cMapReaderFactory.fetch(dn):Promise.reject(new Error("CMapReaderFactory not initialized, see the `useWorkerFetch` parameter."))),Gt.on("FetchStandardFontData",dn=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.standardFontDataFactory?this.standardFontDataFactory.fetch(dn):Promise.reject(new Error("StandardFontDataFactory not initialized, see the `useWorkerFetch` parameter.")))}getData(){return this.messageHandler.sendWithPromise("GetData",null)}saveDocument(){var dn;this.annotationStorage.size<=0&&(0,_util.warn)("saveDocument called while `annotationStorage` is empty, please use the getData-method instead.");const{map:Gt,transfers:en}=this.annotationStorage.serializable;return this.messageHandler.sendWithPromise("SaveDocument",{isPureXfa:!!this._htmlForXfa,numPages:this._numPages,annotationStorage:Gt,filename:((dn=this._fullReader)==null?void 0:dn.filename)??null},en).finally(()=>{this.annotationStorage.resetModified()})}getPage(Gt){if(!Number.isInteger(Gt)||Gt<=0||Gt>this._numPages)return Promise.reject(new Error("Invalid page request."));const en=Gt-1,dn=Mt(this,bt).get(en);if(dn)return dn;const Qt=this.messageHandler.sendWithPromise("GetPage",{pageIndex:en}).then(gn=>{if(this.destroyed)throw new Error("Transport destroyed");const tn=new PDFPageProxy(en,gn,this,this._params.pdfBug);return Mt(this,_e).set(en,tn),tn});return Mt(this,bt).set(en,Qt),Qt}getPageIndex(Gt){return typeof Gt!="object"||Gt===null||!Number.isInteger(Gt.num)||Gt.num<0||!Number.isInteger(Gt.gen)||Gt.gen<0?Promise.reject(new Error("Invalid pageIndex request.")):this.messageHandler.sendWithPromise("GetPageIndex",{num:Gt.num,gen:Gt.gen})}getAnnotations(Gt,en){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:Gt,intent:en})}getFieldObjects(){return Mn(this,Xt,E2).call(this,"GetFieldObjects")}hasJSActions(){return Mn(this,Xt,E2).call(this,"HasJSActions")}getCalculationOrderIds(){return this.messageHandler.sendWithPromise("GetCalculationOrderIds",null)}getDestinations(){return this.messageHandler.sendWithPromise("GetDestinations",null)}getDestination(Gt){return typeof Gt!="string"?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:Gt})}getPageLabels(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}getPageLayout(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}getPageMode(){return this.messageHandler.sendWithPromise("GetPageMode",null)}getViewerPreferences(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}getOpenAction(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}getAttachments(){return this.messageHandler.sendWithPromise("GetAttachments",null)}getDocJSActions(){return Mn(this,Xt,E2).call(this,"GetDocJSActions")}getPageJSActions(Gt){return this.messageHandler.sendWithPromise("GetPageJSActions",{pageIndex:Gt})}getStructTree(Gt){return this.messageHandler.sendWithPromise("GetStructTree",{pageIndex:Gt})}getOutline(){return this.messageHandler.sendWithPromise("GetOutline",null)}getOptionalContentConfig(){return this.messageHandler.sendWithPromise("GetOptionalContentConfig",null).then(Gt=>new _optional_content_config.OptionalContentConfig(Gt))}getPermissions(){return this.messageHandler.sendWithPromise("GetPermissions",null)}getMetadata(){const Gt="GetMetadata",en=Mt(this,Rt).get(Gt);if(en)return en;const dn=this.messageHandler.sendWithPromise(Gt,null).then(Qt=>{var gn,tn;return{info:Qt[0],metadata:Qt[1]?new _metadata.Metadata(Qt[1]):null,contentDispositionFilename:((gn=this._fullReader)==null?void 0:gn.filename)??null,contentLength:((tn=this._fullReader)==null?void 0:tn.contentLength)??null}});return Mt(this,Rt).set(Gt,dn),dn}getMarkInfo(){return this.messageHandler.sendWithPromise("GetMarkInfo",null)}async startCleanup(Gt=!1){if(!this.destroyed){await this.messageHandler.sendWithPromise("Cleanup",null);for(const en of Mt(this,_e).values())if(!en.cleanup())throw new Error(`startCleanup: Page ${en.pageNumber} is currently rendering.`);this.commonObjs.clear(),Gt||this.fontLoader.clear(),Mt(this,Rt).clear(),this.filterFactory.destroy(!0)}}get loadingParams(){const{disableAutoFetch:Gt,enableXfa:en}=this._params;return(0,_util.shadow)(this,"loadingParams",{disableAutoFetch:Gt,enableXfa:en})}}Rt=new WeakMap,_e=new WeakMap,bt=new WeakMap,Pt=new WeakMap,Xt=new WeakSet,E2=function(Gt,en=null){const dn=Mt(this,Rt).get(Gt);if(dn)return dn;const Qt=this.messageHandler.sendWithPromise(Gt,en);return Mt(this,Rt).set(Gt,Qt),Qt};class PDFObjects{constructor(){Nn(this,$t);Nn(this,Nt,Object.create(null))}get(Gt,en=null){if(en){const Qt=Mn(this,$t,h3).call(this,Gt);return Qt.capability.promise.then(()=>en(Qt.data)),null}const dn=Mt(this,Nt)[Gt];if(!(dn!=null&&dn.capability.settled))throw new Error(`Requesting object that isn't resolved yet ${Gt}.`);return dn.data}has(Gt){const en=Mt(this,Nt)[Gt];return(en==null?void 0:en.capability.settled)||!1}resolve(Gt,en=null){const dn=Mn(this,$t,h3).call(this,Gt);dn.data=en,dn.capability.resolve()}clear(){var Gt;for(const en in Mt(this,Nt)){const{data:dn}=Mt(this,Nt)[en];(Gt=dn==null?void 0:dn.bitmap)==null||Gt.close()}$n(this,Nt,Object.create(null))}}Nt=new WeakMap,$t=new WeakSet,h3=function(Gt){var en;return(en=Mt(this,Nt))[Gt]||(en[Gt]={capability:new _util.PromiseCapability,data:null})};class RenderTask{constructor(Gt){Nn(this,jt,null);$n(this,jt,Gt),this.onContinue=null}get promise(){return Mt(this,jt).capability.promise}cancel(Gt=0){Mt(this,jt).cancel(null,Gt)}get separateAnnots(){const{separateAnnots:Gt}=Mt(this,jt).operatorList;if(!Gt)return!1;const{annotationCanvasMap:en}=Mt(this,jt);return Gt.form||Gt.canvas&&(en==null?void 0:en.size)>0}}jt=new WeakMap,exports.RenderTask=RenderTask;const qt=class qt{constructor({callback:Gt,params:en,objs:dn,commonObjs:Qt,annotationCanvasMap:gn,operatorList:tn,pageIndex:bn,canvasFactory:Wt,filterFactory:Yt,useRequestAnimationFrame:un=!1,pdfBug:Ut=!1,pageColors:Ot=null}){this.callback=Gt,this.params=en,this.objs=dn,this.commonObjs=Qt,this.annotationCanvasMap=gn,this.operatorListIdx=null,this.operatorList=tn,this._pageIndex=bn,this.canvasFactory=Wt,this.filterFactory=Yt,this._pdfBug=Ut,this.pageColors=Ot,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=un===!0&&typeof window<"u",this.cancelled=!1,this.capability=new _util.PromiseCapability,this.task=new RenderTask(this),this._cancelBound=this.cancel.bind(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=en.canvasContext.canvas}get completed(){return this.capability.promise.catch(function(){})}initializeGraphics({transparency:Gt=!1,optionalContentConfig:en}){var bn,Wt;if(this.cancelled)return;if(this._canvas){if(Mt(qt,kt).has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");Mt(qt,kt).add(this._canvas)}this._pdfBug&&((bn=globalThis.StepperManager)!=null&&bn.enabled)&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());const{canvasContext:dn,viewport:Qt,transform:gn,background:tn}=this.params;this.gfx=new _canvas.CanvasGraphics(dn,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:en},this.annotationCanvasMap,this.pageColors),this.gfx.beginDrawing({transform:gn,viewport:Qt,transparency:Gt,background:tn}),this.operatorListIdx=0,this.graphicsReady=!0,(Wt=this.graphicsReadyCallback)==null||Wt.call(this)}cancel(Gt=null,en=0){var dn;this.running=!1,this.cancelled=!0,(dn=this.gfx)==null||dn.endDrawing(),Mt(qt,kt).delete(this._canvas),this.callback(Gt||new _display_utils.RenderingCancelledException(`Rendering cancelled, page ${this._pageIndex+1}`,en))}operatorListChanged(){var Gt;if(!this.graphicsReady){this.graphicsReadyCallback||(this.graphicsReadyCallback=this._continueBound);return}(Gt=this.stepper)==null||Gt.updateOperatorList(this.operatorList),!this.running&&this._continue()}_continue(){this.running=!0,!this.cancelled&&(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}_scheduleNext(){this._useRequestAnimationFrame?window.requestAnimationFrame(()=>{this._nextBound().catch(this._cancelBound)}):Promise.resolve().then(this._nextBound).catch(this._cancelBound)}async _next(){this.cancelled||(this.operatorListIdx=this.gfx.executeOperatorList(this.operatorList,this.operatorListIdx,this._continueBound,this.stepper),this.operatorListIdx===this.operatorList.argsArray.length&&(this.running=!1,this.operatorList.lastChunk&&(this.gfx.endDrawing(),Mt(qt,kt).delete(this._canvas),this.callback())))}};kt=new WeakMap,Nn(qt,kt,new WeakSet);let InternalRenderTask=qt;const version="3.11.174";exports.version=version;const build="ce8716743";exports.build=build},(xt,$,ht)=>{var wt,_t,Rt,M8,bt;Object.defineProperty($,"__esModule",{value:!0}),$.SerializableEmpty=$.PrintAnnotationStorage=$.AnnotationStorage=void 0;var vt=ht(1),At=ht(4),St=ht(8);const Ct=Object.freeze({map:null,hash:"",transfers:void 0});$.SerializableEmpty=Ct;class Et{constructor(){Nn(this,Rt);Nn(this,wt,!1);Nn(this,_t,new Map);this.onSetModified=null,this.onResetModified=null,this.onAnnotationEditor=null}getValue(Xt,Kt){const Nt=Mt(this,_t).get(Xt);return Nt===void 0?Kt:Object.assign(Kt,Nt)}getRawValue(Xt){return Mt(this,_t).get(Xt)}remove(Xt){if(Mt(this,_t).delete(Xt),Mt(this,_t).size===0&&this.resetModified(),typeof this.onAnnotationEditor=="function"){for(const Kt of Mt(this,_t).values())if(Kt instanceof At.AnnotationEditor)return;this.onAnnotationEditor(null)}}setValue(Xt,Kt){const Nt=Mt(this,_t).get(Xt);let $t=!1;if(Nt!==void 0)for(const[Lt,jt]of Object.entries(Kt))Nt[Lt]!==jt&&($t=!0,Nt[Lt]=jt);else $t=!0,Mt(this,_t).set(Xt,Kt);$t&&Mn(this,Rt,M8).call(this),Kt instanceof At.AnnotationEditor&&typeof this.onAnnotationEditor=="function"&&this.onAnnotationEditor(Kt.constructor._type)}has(Xt){return Mt(this,_t).has(Xt)}getAll(){return Mt(this,_t).size>0?(0,vt.objectFromMap)(Mt(this,_t)):null}setAll(Xt){for(const[Kt,Nt]of Object.entries(Xt))this.setValue(Kt,Nt)}get size(){return Mt(this,_t).size}resetModified(){Mt(this,wt)&&($n(this,wt,!1),typeof this.onResetModified=="function"&&this.onResetModified())}get print(){return new Ft(this)}get serializable(){if(Mt(this,_t).size===0)return Ct;const Xt=new Map,Kt=new St.MurmurHash3_64,Nt=[],$t=Object.create(null);let Lt=!1;for(const[jt,kt]of Mt(this,_t)){const qt=kt instanceof At.AnnotationEditor?kt.serialize(!1,$t):kt;qt&&(Xt.set(jt,qt),Kt.update(`${jt}:${JSON.stringify(qt)}`),Lt||(Lt=!!qt.bitmap))}if(Lt)for(const jt of Xt.values())jt.bitmap&&Nt.push(jt.bitmap);return Xt.size>0?{map:Xt,hash:Kt.hexdigest(),transfers:Nt}:Ct}}wt=new WeakMap,_t=new WeakMap,Rt=new WeakSet,M8=function(){Mt(this,wt)||($n(this,wt,!0),typeof this.onSetModified=="function"&&this.onSetModified())},$.AnnotationStorage=Et;class Ft extends Et{constructor(Kt){super();Nn(this,bt);const{map:Nt,hash:$t,transfers:Lt}=Kt.serializable,jt=structuredClone(Nt,Lt?{transfer:Lt}:null);$n(this,bt,{map:jt,hash:$t,transfers:Lt})}get print(){(0,vt.unreachable)("Should not call PrintAnnotationStorage.print")}get serializable(){return Mt(this,bt)}}bt=new WeakMap,$.PrintAnnotationStorage=Ft},(xt,$,ht)=>{var Ft,wt,_t,Rt,_e,bt,Pt,Xt,Kt,Nt,$t,Lt,jt,kt,qt,d3,f3,en,p3,g3,O8,D8,L8,m3,N8;Object.defineProperty($,"__esModule",{value:!0}),$.AnnotationEditor=void 0;var vt=ht(5),At=ht(1),St=ht(6);const un=class un{constructor(Ot){Nn(this,qt);Nn(this,Ft,"");Nn(this,wt,!1);Nn(this,_t,null);Nn(this,Rt,null);Nn(this,_e,null);Nn(this,bt,!1);Nn(this,Pt,null);Nn(this,Xt,this.focusin.bind(this));Nn(this,Kt,this.focusout.bind(this));Nn(this,Nt,!1);Nn(this,$t,!1);Nn(this,Lt,!1);Ur(this,"_initialOptions",Object.create(null));Ur(this,"_uiManager",null);Ur(this,"_focusEventsAllowed",!0);Ur(this,"_l10nPromise",null);Nn(this,jt,!1);Nn(this,kt,un._zIndex++);this.constructor===un&&(0,At.unreachable)("Cannot initialize AnnotationEditor."),this.parent=Ot.parent,this.id=Ot.id,this.width=this.height=null,this.pageIndex=Ot.parent.pageIndex,this.name=Ot.name,this.div=null,this._uiManager=Ot.uiManager,this.annotationElementId=null,this._willKeepAspectRatio=!1,this._initialOptions.isCentered=Ot.isCentered,this._structTreeParentId=null;const{rotation:Ht,rawDims:{pageWidth:an,pageHeight:zt,pageX:Vt,pageY:nn}}=this.parent.viewport;this.rotation=Ht,this.pageRotation=(360+Ht-this._uiManager.viewParameters.rotation)%360,this.pageDimensions=[an,zt],this.pageTranslation=[Vt,nn];const[hn,on]=this.parentDimensions;this.x=Ot.x/hn,this.y=Ot.y/on,this.isAttachedToDOM=!1,this.deleted=!1}get editorType(){return Object.getPrototypeOf(this).constructor._type}static get _defaultLineColor(){return(0,At.shadow)(this,"_defaultLineColor",this._colorManager.getHexCode("CanvasText"))}static deleteAnnotationElement(Ot){const Ht=new Et({id:Ot.parent.getNextId(),parent:Ot.parent,uiManager:Ot._uiManager});Ht.annotationElementId=Ot.annotationElementId,Ht.deleted=!0,Ht._uiManager.addToAnnotationStorage(Ht)}static initialize(Ot,Ht=null){if(un._l10nPromise||(un._l10nPromise=new Map(["editor_alt_text_button_label","editor_alt_text_edit_button_label","editor_alt_text_decorative_tooltip"].map(zt=>[zt,Ot.get(zt)]))),Ht!=null&&Ht.strings)for(const zt of Ht.strings)un._l10nPromise.set(zt,Ot.get(zt));if(un._borderLineWidth!==-1)return;const an=getComputedStyle(document.documentElement);un._borderLineWidth=parseFloat(an.getPropertyValue("--outline-width"))||0}static updateDefaultParams(Ot,Ht){}static get defaultPropertiesToUpdate(){return[]}static isHandlingMimeForPasting(Ot){return!1}static paste(Ot,Ht){(0,At.unreachable)("Not implemented")}get propertiesToUpdate(){return[]}get _isDraggable(){return Mt(this,jt)}set _isDraggable(Ot){var Ht;$n(this,jt,Ot),(Ht=this.div)==null||Ht.classList.toggle("draggable",Ot)}center(){const[Ot,Ht]=this.pageDimensions;switch(this.parentRotation){case 90:this.x-=this.height*Ht/(Ot*2),this.y+=this.width*Ot/(Ht*2);break;case 180:this.x+=this.width/2,this.y+=this.height/2;break;case 270:this.x+=this.height*Ht/(Ot*2),this.y-=this.width*Ot/(Ht*2);break;default:this.x-=this.width/2,this.y-=this.height/2;break}this.fixAndSetPosition()}addCommands(Ot){this._uiManager.addCommands(Ot)}get currentLayer(){return this._uiManager.currentLayer}setInBackground(){this.div.style.zIndex=0}setInForeground(){this.div.style.zIndex=Mt(this,kt)}setParent(Ot){Ot!==null&&(this.pageIndex=Ot.pageIndex,this.pageDimensions=Ot.pageDimensions),this.parent=Ot}focusin(Ot){this._focusEventsAllowed&&(Mt(this,Nt)?$n(this,Nt,!1):this.parent.setSelected(this))}focusout(Ot){var an;if(!this._focusEventsAllowed||!this.isAttachedToDOM)return;const Ht=Ot.relatedTarget;Ht!=null&&Ht.closest(`#${this.id}`)||(Ot.preventDefault(),(an=this.parent)!=null&&an.isMultipleSelection||this.commitOrRemove())}commitOrRemove(){this.isEmpty()?this.remove():this.commit()}commit(){this.addToAnnotationStorage()}addToAnnotationStorage(){this._uiManager.addToAnnotationStorage(this)}setAt(Ot,Ht,an,zt){const[Vt,nn]=this.parentDimensions;[an,zt]=this.screenToPageTranslation(an,zt),this.x=(Ot+an)/Vt,this.y=(Ht+zt)/nn,this.fixAndSetPosition()}translate(Ot,Ht){Mn(this,qt,d3).call(this,this.parentDimensions,Ot,Ht)}translateInPage(Ot,Ht){Mn(this,qt,d3).call(this,this.pageDimensions,Ot,Ht),this.div.scrollIntoView({block:"nearest"})}drag(Ot,Ht){const[an,zt]=this.parentDimensions;if(this.x+=Ot/an,this.y+=Ht/zt,this.parent&&(this.x<0||this.x>1||this.y<0||this.y>1)){const{x:cn,y:sn}=this.div.getBoundingClientRect();this.parent.findNewParent(this,cn,sn)&&(this.x-=Math.floor(this.x),this.y-=Math.floor(this.y))}let{x:Vt,y:nn}=this;const[hn,on]=Mn(this,qt,f3).call(this);Vt+=hn,nn+=on,this.div.style.left=`${(100*Vt).toFixed(2)}%`,this.div.style.top=`${(100*nn).toFixed(2)}%`,this.div.scrollIntoView({block:"nearest"})}fixAndSetPosition(){const[Ot,Ht]=this.pageDimensions;let{x:an,y:zt,width:Vt,height:nn}=this;switch(Vt*=Ot,nn*=Ht,an*=Ot,zt*=Ht,this.rotation){case 0:an=Math.max(0,Math.min(Ot-Vt,an)),zt=Math.max(0,Math.min(Ht-nn,zt));break;case 90:an=Math.max(0,Math.min(Ot-nn,an)),zt=Math.min(Ht,Math.max(Vt,zt));break;case 180:an=Math.min(Ot,Math.max(Vt,an)),zt=Math.min(Ht,Math.max(nn,zt));break;case 270:an=Math.min(Ot,Math.max(nn,an)),zt=Math.max(0,Math.min(Ht-Vt,zt));break}this.x=an/=Ot,this.y=zt/=Ht;const[hn,on]=Mn(this,qt,f3).call(this);an+=hn,zt+=on;const{style:cn}=this.div;cn.left=`${(100*an).toFixed(2)}%`,cn.top=`${(100*zt).toFixed(2)}%`,this.moveInDOM()}screenToPageTranslation(Ot,Ht){var an;return Mn(an=un,en,p3).call(an,Ot,Ht,this.parentRotation)}pageTranslationToScreen(Ot,Ht){var an;return Mn(an=un,en,p3).call(an,Ot,Ht,360-this.parentRotation)}get parentScale(){return this._uiManager.viewParameters.realScale}get parentRotation(){return(this._uiManager.viewParameters.rotation+this.pageRotation)%360}get parentDimensions(){const{parentScale:Ot,pageDimensions:[Ht,an]}=this,zt=Ht*Ot,Vt=an*Ot;return At.FeatureTest.isCSSRoundSupported?[Math.round(zt),Math.round(Vt)]:[zt,Vt]}setDims(Ot,Ht){var Vt;const[an,zt]=this.parentDimensions;this.div.style.width=`${(100*Ot/an).toFixed(2)}%`,Mt(this,bt)||(this.div.style.height=`${(100*Ht/zt).toFixed(2)}%`),(Vt=Mt(this,_t))==null||Vt.classList.toggle("small",Ot<un.SMALL_EDITOR_SIZE||Ht<un.SMALL_EDITOR_SIZE)}fixDims(){const{style:Ot}=this.div,{height:Ht,width:an}=Ot,zt=an.endsWith("%"),Vt=!Mt(this,bt)&&Ht.endsWith("%");if(zt&&Vt)return;const[nn,hn]=this.parentDimensions;zt||(Ot.width=`${(100*parseFloat(an)/nn).toFixed(2)}%`),!Mt(this,bt)&&!Vt&&(Ot.height=`${(100*parseFloat(Ht)/hn).toFixed(2)}%`)}getInitialTranslation(){return[0,0]}async addAltTextButton(){if(Mt(this,_t))return;const Ot=$n(this,_t,document.createElement("button"));Ot.className="altText";const Ht=await un._l10nPromise.get("editor_alt_text_button_label");Ot.textContent=Ht,Ot.setAttribute("aria-label",Ht),Ot.tabIndex="0",Ot.addEventListener("contextmenu",St.noContextMenu),Ot.addEventListener("pointerdown",an=>an.stopPropagation()),Ot.addEventListener("click",an=>{an.preventDefault(),this._uiManager.editAltText(this)},{capture:!0}),Ot.addEventListener("keydown",an=>{an.target===Ot&&an.key==="Enter"&&(an.preventDefault(),this._uiManager.editAltText(this))}),Mn(this,qt,m3).call(this),this.div.append(Ot),un.SMALL_EDITOR_SIZE||(un.SMALL_EDITOR_SIZE=Math.min(128,Math.round(Ot.getBoundingClientRect().width*1.4)))}getClientDimensions(){return this.div.getBoundingClientRect()}get altTextData(){return{altText:Mt(this,Ft),decorative:Mt(this,wt)}}set altTextData({altText:Ot,decorative:Ht}){Mt(this,Ft)===Ot&&Mt(this,wt)===Ht||($n(this,Ft,Ot),$n(this,wt,Ht),Mn(this,qt,m3).call(this))}render(){this.div=document.createElement("div"),this.div.setAttribute("data-editor-rotation",(360-this.rotation)%360),this.div.className=this.name,this.div.setAttribute("id",this.id),this.div.setAttribute("tabIndex",0),this.setInForeground(),this.div.addEventListener("focusin",Mt(this,Xt)),this.div.addEventListener("focusout",Mt(this,Kt));const[Ot,Ht]=this.parentDimensions;this.parentRotation%180!==0&&(this.div.style.maxWidth=`${(100*Ht/Ot).toFixed(2)}%`,this.div.style.maxHeight=`${(100*Ot/Ht).toFixed(2)}%`);const[an,zt]=this.getInitialTranslation();return this.translate(an,zt),(0,vt.bindEvents)(this,this.div,["pointerdown"]),this.div}pointerdown(Ot){const{isMac:Ht}=At.FeatureTest.platform;if(Ot.button!==0||Ot.ctrlKey&&Ht){Ot.preventDefault();return}$n(this,Nt,!0),Mn(this,qt,N8).call(this,Ot)}moveInDOM(){var Ot;(Ot=this.parent)==null||Ot.moveEditorInDOM(this)}_setParentAndPosition(Ot,Ht,an){Ot.changeParent(this),this.x=Ht,this.y=an,this.fixAndSetPosition()}getRect(Ot,Ht){const an=this.parentScale,[zt,Vt]=this.pageDimensions,[nn,hn]=this.pageTranslation,on=Ot/an,cn=Ht/an,sn=this.x*zt,rn=this.y*Vt,xn=this.width*zt,vn=this.height*Vt;switch(this.rotation){case 0:return[sn+on+nn,Vt-rn-cn-vn+hn,sn+on+xn+nn,Vt-rn-cn+hn];case 90:return[sn+cn+nn,Vt-rn+on+hn,sn+cn+vn+nn,Vt-rn+on+xn+hn];case 180:return[sn-on-xn+nn,Vt-rn+cn+hn,sn-on+nn,Vt-rn+cn+vn+hn];case 270:return[sn-cn-vn+nn,Vt-rn-on-xn+hn,sn-cn+nn,Vt-rn-on+hn];default:throw new Error("Invalid rotation")}}getRectInCurrentCoords(Ot,Ht){const[an,zt,Vt,nn]=Ot,hn=Vt-an,on=nn-zt;switch(this.rotation){case 0:return[an,Ht-nn,hn,on];case 90:return[an,Ht-zt,on,hn];case 180:return[Vt,Ht-zt,hn,on];case 270:return[Vt,Ht-nn,on,hn];default:throw new Error("Invalid rotation")}}onceAdded(){}isEmpty(){return!1}enableEditMode(){$n(this,Lt,!0)}disableEditMode(){$n(this,Lt,!1)}isInEditMode(){return Mt(this,Lt)}shouldGetKeyboardEvents(){return!1}needsToBeRebuilt(){return this.div&&!this.isAttachedToDOM}rebuild(){var Ot,Ht;(Ot=this.div)==null||Ot.addEventListener("focusin",Mt(this,Xt)),(Ht=this.div)==null||Ht.addEventListener("focusout",Mt(this,Kt))}serialize(Ot=!1,Ht=null){(0,At.unreachable)("An editor must be serializable")}static deserialize(Ot,Ht,an){const zt=new this.prototype.constructor({parent:Ht,id:Ht.getNextId(),uiManager:an});zt.rotation=Ot.rotation;const[Vt,nn]=zt.pageDimensions,[hn,on,cn,sn]=zt.getRectInCurrentCoords(Ot.rect,nn);return zt.x=hn/Vt,zt.y=on/nn,zt.width=cn/Vt,zt.height=sn/nn,zt}remove(){var Ot;this.div.removeEventListener("focusin",Mt(this,Xt)),this.div.removeEventListener("focusout",Mt(this,Kt)),this.isEmpty()||this.commit(),this.parent?this.parent.remove(this):this._uiManager.removeEditor(this),(Ot=Mt(this,_t))==null||Ot.remove(),$n(this,_t,null),$n(this,Rt,null)}get isResizable(){return!1}makeResizable(){this.isResizable&&(Mn(this,qt,O8).call(this),Mt(this,Pt).classList.remove("hidden"))}select(){var Ot;this.makeResizable(),(Ot=this.div)==null||Ot.classList.add("selectedEditor")}unselect(){var Ot,Ht,an;(Ot=Mt(this,Pt))==null||Ot.classList.add("hidden"),(Ht=this.div)==null||Ht.classList.remove("selectedEditor"),(an=this.div)!=null&&an.contains(document.activeElement)&&this._uiManager.currentLayer.div.focus()}updateParams(Ot,Ht){}disableEditing(){Mt(this,_t)&&(Mt(this,_t).hidden=!0)}enableEditing(){Mt(this,_t)&&(Mt(this,_t).hidden=!1)}enterInEditMode(){}get contentDiv(){return this.div}get isEditing(){return Mt(this,$t)}set isEditing(Ot){$n(this,$t,Ot),this.parent&&(Ot?(this.parent.setSelected(this),this.parent.setActiveEditor(this)):this.parent.setActiveEditor(null))}setAspectRatio(Ot,Ht){$n(this,bt,!0);const an=Ot/Ht,{style:zt}=this.div;zt.aspectRatio=an,zt.height="auto"}static get MIN_SIZE(){return 16}};Ft=new WeakMap,wt=new WeakMap,_t=new WeakMap,Rt=new WeakMap,_e=new WeakMap,bt=new WeakMap,Pt=new WeakMap,Xt=new WeakMap,Kt=new WeakMap,Nt=new WeakMap,$t=new WeakMap,Lt=new WeakMap,jt=new WeakMap,kt=new WeakMap,qt=new WeakSet,d3=function([Ot,Ht],an,zt){[an,zt]=this.screenToPageTranslation(an,zt),this.x+=an/Ot,this.y+=zt/Ht,this.fixAndSetPosition()},f3=function(){const[Ot,Ht]=this.parentDimensions,{_borderLineWidth:an}=un,zt=an/Ot,Vt=an/Ht;switch(this.rotation){case 90:return[-zt,Vt];case 180:return[zt,Vt];case 270:return[zt,-Vt];default:return[-zt,-Vt]}},en=new WeakSet,p3=function(Ot,Ht,an){switch(an){case 90:return[Ht,-Ot];case 180:return[-Ot,-Ht];case 270:return[-Ht,Ot];default:return[Ot,Ht]}},g3=function(Ot){switch(Ot){case 90:{const[Ht,an]=this.pageDimensions;return[0,-Ht/an,an/Ht,0]}case 180:return[-1,0,0,-1];case 270:{const[Ht,an]=this.pageDimensions;return[0,Ht/an,-an/Ht,0]}default:return[1,0,0,1]}},O8=function(){if(Mt(this,Pt))return;$n(this,Pt,document.createElement("div")),Mt(this,Pt).classList.add("resizers");const Ot=["topLeft","topRight","bottomRight","bottomLeft"];this._willKeepAspectRatio||Ot.push("topMiddle","middleRight","bottomMiddle","middleLeft");for(const Ht of Ot){const an=document.createElement("div");Mt(this,Pt).append(an),an.classList.add("resizer",Ht),an.addEventListener("pointerdown",Mn(this,qt,D8).bind(this,Ht)),an.addEventListener("contextmenu",St.noContextMenu)}this.div.prepend(Mt(this,Pt))},D8=function(Ot,Ht){Ht.preventDefault();const{isMac:an}=At.FeatureTest.platform;if(Ht.button!==0||Ht.ctrlKey&&an)return;const zt=Mn(this,qt,L8).bind(this,Ot),Vt=this._isDraggable;this._isDraggable=!1;const nn={passive:!0,capture:!0};window.addEventListener("pointermove",zt,nn);const hn=this.x,on=this.y,cn=this.width,sn=this.height,rn=this.parent.div.style.cursor,xn=this.div.style.cursor;this.div.style.cursor=this.parent.div.style.cursor=window.getComputedStyle(Ht.target).cursor;const vn=()=>{this._isDraggable=Vt,window.removeEventListener("pointerup",vn),window.removeEventListener("blur",vn),window.removeEventListener("pointermove",zt,nn),this.parent.div.style.cursor=rn,this.div.style.cursor=xn;const kn=this.x,Pn=this.y,On=this.width,_n=this.height;kn===hn&&Pn===on&&On===cn&&_n===sn||this.addCommands({cmd:()=>{this.width=On,this.height=_n,this.x=kn,this.y=Pn;const[Sn,mn]=this.parentDimensions;this.setDims(Sn*On,mn*_n),this.fixAndSetPosition()},undo:()=>{this.width=cn,this.height=sn,this.x=hn,this.y=on;const[Sn,mn]=this.parentDimensions;this.setDims(Sn*cn,mn*sn),this.fixAndSetPosition()},mustExec:!0})};window.addEventListener("pointerup",vn),window.addEventListener("blur",vn)},L8=function(Ot,Ht){const[an,zt]=this.parentDimensions,Vt=this.x,nn=this.y,hn=this.width,on=this.height,cn=un.MIN_SIZE/an,sn=un.MIN_SIZE/zt,rn=Ln=>Math.round(Ln*1e4)/1e4,xn=Mn(this,qt,g3).call(this,this.rotation),vn=(Ln,Un)=>[xn[0]*Ln+xn[2]*Un,xn[1]*Ln+xn[3]*Un],kn=Mn(this,qt,g3).call(this,360-this.rotation),Pn=(Ln,Un)=>[kn[0]*Ln+kn[2]*Un,kn[1]*Ln+kn[3]*Un];let On,_n,Sn=!1,mn=!1;switch(Ot){case"topLeft":Sn=!0,On=(Ln,Un)=>[0,0],_n=(Ln,Un)=>[Ln,Un];break;case"topMiddle":On=(Ln,Un)=>[Ln/2,0],_n=(Ln,Un)=>[Ln/2,Un];break;case"topRight":Sn=!0,On=(Ln,Un)=>[Ln,0],_n=(Ln,Un)=>[0,Un];break;case"middleRight":mn=!0,On=(Ln,Un)=>[Ln,Un/2],_n=(Ln,Un)=>[0,Un/2];break;case"bottomRight":Sn=!0,On=(Ln,Un)=>[Ln,Un],_n=(Ln,Un)=>[0,0];break;case"bottomMiddle":On=(Ln,Un)=>[Ln/2,Un],_n=(Ln,Un)=>[Ln/2,0];break;case"bottomLeft":Sn=!0,On=(Ln,Un)=>[0,Un],_n=(Ln,Un)=>[Ln,0];break;case"middleLeft":mn=!0,On=(Ln,Un)=>[0,Un/2],_n=(Ln,Un)=>[Ln,Un/2];break}const fn=On(hn,on),Jt=_n(hn,on);let ln=vn(...Jt);const pn=rn(Vt+ln[0]),wn=rn(nn+ln[1]);let Cn=1,Fn=1,[En,An]=this.screenToPageTranslation(Ht.movementX,Ht.movementY);if([En,An]=Pn(En/an,An/zt),Sn){const Ln=Math.hypot(hn,on);Cn=Fn=Math.max(Math.min(Math.hypot(Jt[0]-fn[0]-En,Jt[1]-fn[1]-An)/Ln,1/hn,1/on),cn/hn,sn/on)}else mn?Cn=Math.max(cn,Math.min(1,Math.abs(Jt[0]-fn[0]-En)))/hn:Fn=Math.max(sn,Math.min(1,Math.abs(Jt[1]-fn[1]-An)))/on;const Tn=rn(hn*Cn),In=rn(on*Fn);ln=vn(..._n(Tn,In));const Rn=pn-ln[0],Dn=wn-ln[1];this.width=Tn,this.height=In,this.x=Rn,this.y=Dn,this.setDims(an*Tn,zt*In),this.fixAndSetPosition()},m3=async function(){var an;const Ot=Mt(this,_t);if(!Ot)return;if(!Mt(this,Ft)&&!Mt(this,wt)){Ot.classList.remove("done"),(an=Mt(this,Rt))==null||an.remove();return}un._l10nPromise.get("editor_alt_text_edit_button_label").then(zt=>{Ot.setAttribute("aria-label",zt)});let Ht=Mt(this,Rt);if(!Ht){$n(this,Rt,Ht=document.createElement("span")),Ht.className="tooltip",Ht.setAttribute("role","tooltip");const zt=Ht.id=`alt-text-tooltip-${this.id}`;Ot.setAttribute("aria-describedby",zt);const Vt=100;Ot.addEventListener("mouseenter",()=>{$n(this,_e,setTimeout(()=>{$n(this,_e,null),Mt(this,Rt).classList.add("show"),this._uiManager._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",subtype:this.editorType,data:{action:"alt_text_tooltip"}}})},Vt))}),Ot.addEventListener("mouseleave",()=>{var nn;clearTimeout(Mt(this,_e)),$n(this,_e,null),(nn=Mt(this,Rt))==null||nn.classList.remove("show")})}Ot.classList.add("done"),Ht.innerText=Mt(this,wt)?await un._l10nPromise.get("editor_alt_text_decorative_tooltip"):Mt(this,Ft),Ht.parentNode||Ot.append(Ht)},N8=function(Ot){if(!this._isDraggable)return;const Ht=this._uiManager.isSelected(this);this._uiManager.setUpDragSession();let an,zt;Ht&&(an={passive:!0,capture:!0},zt=nn=>{const[hn,on]=this.screenToPageTranslation(nn.movementX,nn.movementY);this._uiManager.dragSelectedEditors(hn,on)},window.addEventListener("pointermove",zt,an));const Vt=()=>{if(window.removeEventListener("pointerup",Vt),window.removeEventListener("blur",Vt),Ht&&window.removeEventListener("pointermove",zt,an),$n(this,Nt,!1),!this._uiManager.endDragSession()){const{isMac:nn}=At.FeatureTest.platform;Ot.ctrlKey&&!nn||Ot.shiftKey||Ot.metaKey&&nn?this.parent.toggleSelected(this):this.parent.setSelected(this)}};window.addEventListener("pointerup",Vt),window.addEventListener("blur",Vt)},Nn(un,en),Ur(un,"_borderLineWidth",-1),Ur(un,"_colorManager",new vt.ColorManager),Ur(un,"_zIndex",1),Ur(un,"SMALL_EDITOR_SIZE",0);let Ct=un;$.AnnotationEditor=Ct;class Et extends Ct{constructor(Ot){super(Ot),this.annotationElementId=Ot.annotationElementId,this.deleted=!0}serialize(){return{id:this.annotationElementId,deleted:!0,pageIndex:this.pageIndex}}}},(xt,$,ht)=>{var bt,Pt,Xt,Kt,Nt,x3,jt,kt,qt,Bt,Gt,$8,Qt,gn,tn,bn,Wt,Yt,un,Ut,Ot,Ht,an,zt,Vt,nn,hn,on,cn,sn,rn,xn,vn,kn,Pn,On,_n,Sn,mn,fn,Jt,ln,pn,wn,Cn,Fn,En,j8,b3,y3,C2,v3,w3,xl,lm,B8,U8,A3,cm,S3;Object.defineProperty($,"__esModule",{value:!0}),$.KeyboardManager=$.CommandManager=$.ColorManager=$.AnnotationEditorUIManager=void 0,$.bindEvents=St,$.opacityToHex=Ct;var vt=ht(1),At=ht(6);function St(dr,Bn,Hn){for(const Wn of Hn)Bn.addEventListener(Wn,dr[Wn].bind(dr))}function Ct(dr){return Math.round(Math.min(255,Math.max(1,255*dr))).toString(16).padStart(2,"0")}class Et{constructor(){Nn(this,bt,0)}getId(){return`${vt.AnnotationEditorPrefix}${So(this,bt)._++}`}}bt=new WeakMap;const Lt=class Lt{constructor(){Nn(this,Nt);Nn(this,Pt,(0,vt.getUuid)());Nn(this,Xt,0);Nn(this,Kt,null)}static get _isSVGFittingCanvas(){const Bn='data:image/svg+xml;charset=UTF-8,<svg viewBox="0 0 1 1" width="1" height="1" xmlns="http://www.w3.org/2000/svg"><rect width="1" height="1" style="fill:red;"/></svg>',Wn=new OffscreenCanvas(1,3).getContext("2d"),cr=new Image;cr.src=Bn;const sr=cr.decode().then(()=>(Wn.drawImage(cr,0,0,1,1,0,0,1,3),new Uint32Array(Wn.getImageData(0,0,1,1).data.buffer)[0]===0));return(0,vt.shadow)(this,"_isSVGFittingCanvas",sr)}async getFromFile(Bn){const{lastModified:Hn,name:Wn,size:cr,type:sr}=Bn;return Mn(this,Nt,x3).call(this,`${Hn}_${Wn}_${cr}_${sr}`,Bn)}async getFromUrl(Bn){return Mn(this,Nt,x3).call(this,Bn,Bn)}async getFromId(Bn){Mt(this,Kt)||$n(this,Kt,new Map);const Hn=Mt(this,Kt).get(Bn);return Hn?Hn.bitmap?(Hn.refCounter+=1,Hn):Hn.file?this.getFromFile(Hn.file):this.getFromUrl(Hn.url):null}getSvgUrl(Bn){const Hn=Mt(this,Kt).get(Bn);return Hn!=null&&Hn.isSvg?Hn.svgUrl:null}deleteId(Bn){Mt(this,Kt)||$n(this,Kt,new Map);const Hn=Mt(this,Kt).get(Bn);Hn&&(Hn.refCounter-=1,Hn.refCounter===0&&(Hn.bitmap=null))}isValidId(Bn){return Bn.startsWith(`image_${Mt(this,Pt)}_`)}};Pt=new WeakMap,Xt=new WeakMap,Kt=new WeakMap,Nt=new WeakSet,x3=async function(Bn,Hn){Mt(this,Kt)||$n(this,Kt,new Map);let Wn=Mt(this,Kt).get(Bn);if(Wn===null)return null;if(Wn!=null&&Wn.bitmap)return Wn.refCounter+=1,Wn;try{Wn||(Wn={bitmap:null,id:`image_${Mt(this,Pt)}_${So(this,Xt)._++}`,refCounter:0,isSvg:!1});let cr;if(typeof Hn=="string"){Wn.url=Hn;const sr=await fetch(Hn);if(!sr.ok)throw new Error(sr.statusText);cr=await sr.blob()}else cr=Wn.file=Hn;if(cr.type==="image/svg+xml"){const sr=Lt._isSVGFittingCanvas,xr=new FileReader,Jn=new Image,Vn=new Promise((Zn,ur)=>{Jn.onload=()=>{Wn.bitmap=Jn,Wn.isSvg=!0,Zn()},xr.onload=async()=>{const hr=Wn.svgUrl=xr.result;Jn.src=await sr?`${hr}#svgView(preserveAspectRatio(none))`:hr},Jn.onerror=xr.onerror=ur});xr.readAsDataURL(cr),await Vn}else Wn.bitmap=await createImageBitmap(cr);Wn.refCounter=1}catch(cr){console.error(cr),Wn=null}return Mt(this,Kt).set(Bn,Wn),Wn&&Mt(this,Kt).set(Wn.id,Wn),Wn};let Ft=Lt;class wt{constructor(Bn=128){Nn(this,jt,[]);Nn(this,kt,!1);Nn(this,qt);Nn(this,Bt,-1);$n(this,qt,Bn)}add({cmd:Bn,undo:Hn,mustExec:Wn,type:cr=NaN,overwriteIfSameType:sr=!1,keepUndo:xr=!1}){if(Wn&&Bn(),Mt(this,kt))return;const Jn={cmd:Bn,undo:Hn,type:cr};if(Mt(this,Bt)===-1){Mt(this,jt).length>0&&(Mt(this,jt).length=0),$n(this,Bt,0),Mt(this,jt).push(Jn);return}if(sr&&Mt(this,jt)[Mt(this,Bt)].type===cr){xr&&(Jn.undo=Mt(this,jt)[Mt(this,Bt)].undo),Mt(this,jt)[Mt(this,Bt)]=Jn;return}const Vn=Mt(this,Bt)+1;Vn===Mt(this,qt)?Mt(this,jt).splice(0,1):($n(this,Bt,Vn),Vn<Mt(this,jt).length&&Mt(this,jt).splice(Vn)),Mt(this,jt).push(Jn)}undo(){Mt(this,Bt)!==-1&&($n(this,kt,!0),Mt(this,jt)[Mt(this,Bt)].undo(),$n(this,kt,!1),$n(this,Bt,Mt(this,Bt)-1))}redo(){Mt(this,Bt)<Mt(this,jt).length-1&&($n(this,Bt,Mt(this,Bt)+1),$n(this,kt,!0),Mt(this,jt)[Mt(this,Bt)].cmd(),$n(this,kt,!1))}hasSomethingToUndo(){return Mt(this,Bt)!==-1}hasSomethingToRedo(){return Mt(this,Bt)<Mt(this,jt).length-1}destroy(){$n(this,jt,null)}}jt=new WeakMap,kt=new WeakMap,qt=new WeakMap,Bt=new WeakMap,$.CommandManager=wt;class _t{constructor(Bn){Nn(this,Gt);this.buffer=[],this.callbacks=new Map,this.allKeys=new Set;const{isMac:Hn}=vt.FeatureTest.platform;for(const[Wn,cr,sr={}]of Bn)for(const xr of Wn){const Jn=xr.startsWith("mac+");Hn&&Jn?(this.callbacks.set(xr.slice(4),{callback:cr,options:sr}),this.allKeys.add(xr.split("+").at(-1))):!Hn&&!Jn&&(this.callbacks.set(xr,{callback:cr,options:sr}),this.allKeys.add(xr.split("+").at(-1)))}}exec(Bn,Hn){if(!this.allKeys.has(Hn.key))return;const Wn=this.callbacks.get(Mn(this,Gt,$8).call(this,Hn));if(!Wn)return;const{callback:cr,options:{bubbles:sr=!1,args:xr=[],checker:Jn=null}}=Wn;Jn&&!Jn(Bn,Hn)||(cr.bind(Bn,...xr)(),sr||(Hn.stopPropagation(),Hn.preventDefault()))}}Gt=new WeakSet,$8=function(Bn){Bn.altKey&&this.buffer.push("alt"),Bn.ctrlKey&&this.buffer.push("ctrl"),Bn.metaKey&&this.buffer.push("meta"),Bn.shiftKey&&this.buffer.push("shift"),this.buffer.push(Bn.key);const Hn=this.buffer.join("+");return this.buffer.length=0,Hn},$.KeyboardManager=_t;const dn=class dn{get _colors(){const Bn=new Map([["CanvasText",null],["Canvas",null]]);return(0,At.getColorValues)(Bn),(0,vt.shadow)(this,"_colors",Bn)}convert(Bn){const Hn=(0,At.getRGB)(Bn);if(!window.matchMedia("(forced-colors: active)").matches)return Hn;for(const[Wn,cr]of this._colors)if(cr.every((sr,xr)=>sr===Hn[xr]))return dn._colorsMapping.get(Wn);return Hn}getHexCode(Bn){const Hn=this._colors.get(Bn);return Hn?vt.Util.makeHexColor(...Hn):Bn}};Ur(dn,"_colorsMapping",new Map([["CanvasText",[0,0,0]],["Canvas",[255,255,255]]]));let Rt=dn;$.ColorManager=Rt;const lr=class lr{constructor(Bn,Hn,Wn,cr,sr,xr){Nn(this,En);Nn(this,Qt,null);Nn(this,gn,new Map);Nn(this,tn,new Map);Nn(this,bn,null);Nn(this,Wt,null);Nn(this,Yt,new wt);Nn(this,un,0);Nn(this,Ut,new Set);Nn(this,Ot,null);Nn(this,Ht,null);Nn(this,an,new Set);Nn(this,zt,null);Nn(this,Vt,new Et);Nn(this,nn,!1);Nn(this,hn,!1);Nn(this,on,null);Nn(this,cn,vt.AnnotationEditorType.NONE);Nn(this,sn,new Set);Nn(this,rn,null);Nn(this,xn,this.blur.bind(this));Nn(this,vn,this.focus.bind(this));Nn(this,kn,this.copy.bind(this));Nn(this,Pn,this.cut.bind(this));Nn(this,On,this.paste.bind(this));Nn(this,_n,this.keydown.bind(this));Nn(this,Sn,this.onEditingAction.bind(this));Nn(this,mn,this.onPageChanging.bind(this));Nn(this,fn,this.onScaleChanging.bind(this));Nn(this,Jt,this.onRotationChanging.bind(this));Nn(this,ln,{isEditing:!1,isEmpty:!0,hasSomethingToUndo:!1,hasSomethingToRedo:!1,hasSelectedEditor:!1});Nn(this,pn,[0,0]);Nn(this,wn,null);Nn(this,Cn,null);Nn(this,Fn,null);$n(this,Cn,Bn),$n(this,Fn,Hn),$n(this,bn,Wn),this._eventBus=cr,this._eventBus._on("editingaction",Mt(this,Sn)),this._eventBus._on("pagechanging",Mt(this,mn)),this._eventBus._on("scalechanging",Mt(this,fn)),this._eventBus._on("rotationchanging",Mt(this,Jt)),$n(this,Wt,sr.annotationStorage),$n(this,zt,sr.filterFactory),$n(this,rn,xr),this.viewParameters={realScale:At.PixelsPerInch.PDF_TO_CSS_UNITS,rotation:0}}static get _keyboardManager(){const Bn=lr.prototype,Hn=sr=>{const{activeElement:xr}=document;return xr&&Mt(sr,Cn).contains(xr)&&sr.hasSomethingToControl()},Wn=this.TRANSLATE_SMALL,cr=this.TRANSLATE_BIG;return(0,vt.shadow)(this,"_keyboardManager",new _t([[["ctrl+a","mac+meta+a"],Bn.selectAll],[["ctrl+z","mac+meta+z"],Bn.undo],[["ctrl+y","ctrl+shift+z","mac+meta+shift+z","ctrl+shift+Z","mac+meta+shift+Z"],Bn.redo],[["Backspace","alt+Backspace","ctrl+Backspace","shift+Backspace","mac+Backspace","mac+alt+Backspace","mac+ctrl+Backspace","Delete","ctrl+Delete","shift+Delete","mac+Delete"],Bn.delete],[["Escape","mac+Escape"],Bn.unselectAll],[["ArrowLeft","mac+ArrowLeft"],Bn.translateSelectedEditors,{args:[-Wn,0],checker:Hn}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],Bn.translateSelectedEditors,{args:[-cr,0],checker:Hn}],[["ArrowRight","mac+ArrowRight"],Bn.translateSelectedEditors,{args:[Wn,0],checker:Hn}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],Bn.translateSelectedEditors,{args:[cr,0],checker:Hn}],[["ArrowUp","mac+ArrowUp"],Bn.translateSelectedEditors,{args:[0,-Wn],checker:Hn}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],Bn.translateSelectedEditors,{args:[0,-cr],checker:Hn}],[["ArrowDown","mac+ArrowDown"],Bn.translateSelectedEditors,{args:[0,Wn],checker:Hn}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],Bn.translateSelectedEditors,{args:[0,cr],checker:Hn}]]))}destroy(){Mn(this,En,C2).call(this),Mn(this,En,b3).call(this),this._eventBus._off("editingaction",Mt(this,Sn)),this._eventBus._off("pagechanging",Mt(this,mn)),this._eventBus._off("scalechanging",Mt(this,fn)),this._eventBus._off("rotationchanging",Mt(this,Jt));for(const Bn of Mt(this,tn).values())Bn.destroy();Mt(this,tn).clear(),Mt(this,gn).clear(),Mt(this,an).clear(),$n(this,Qt,null),Mt(this,sn).clear(),Mt(this,Yt).destroy(),Mt(this,bn).destroy()}get hcmFilter(){return(0,vt.shadow)(this,"hcmFilter",Mt(this,rn)?Mt(this,zt).addHCMFilter(Mt(this,rn).foreground,Mt(this,rn).background):"none")}get direction(){return(0,vt.shadow)(this,"direction",getComputedStyle(Mt(this,Cn)).direction)}editAltText(Bn){var Hn;(Hn=Mt(this,bn))==null||Hn.editAltText(this,Bn)}onPageChanging({pageNumber:Bn}){$n(this,un,Bn-1)}focusMainContainer(){Mt(this,Cn).focus()}findParent(Bn,Hn){for(const Wn of Mt(this,tn).values()){const{x:cr,y:sr,width:xr,height:Jn}=Wn.div.getBoundingClientRect();if(Bn>=cr&&Bn<=cr+xr&&Hn>=sr&&Hn<=sr+Jn)return Wn}return null}disableUserSelect(Bn=!1){Mt(this,Fn).classList.toggle("noUserSelect",Bn)}addShouldRescale(Bn){Mt(this,an).add(Bn)}removeShouldRescale(Bn){Mt(this,an).delete(Bn)}onScaleChanging({scale:Bn}){this.commitOrRemove(),this.viewParameters.realScale=Bn*At.PixelsPerInch.PDF_TO_CSS_UNITS;for(const Hn of Mt(this,an))Hn.onScaleChanging()}onRotationChanging({pagesRotation:Bn}){this.commitOrRemove(),this.viewParameters.rotation=Bn}addToAnnotationStorage(Bn){!Bn.isEmpty()&&Mt(this,Wt)&&!Mt(this,Wt).has(Bn.id)&&Mt(this,Wt).setValue(Bn.id,Bn)}blur(){if(!this.hasSelection)return;const{activeElement:Bn}=document;for(const Hn of Mt(this,sn))if(Hn.div.contains(Bn)){$n(this,on,[Hn,Bn]),Hn._focusEventsAllowed=!1;break}}focus(){if(!Mt(this,on))return;const[Bn,Hn]=Mt(this,on);$n(this,on,null),Hn.addEventListener("focusin",()=>{Bn._focusEventsAllowed=!0},{once:!0}),Hn.focus()}addEditListeners(){Mn(this,En,y3).call(this),Mn(this,En,v3).call(this)}removeEditListeners(){Mn(this,En,C2).call(this),Mn(this,En,w3).call(this)}copy(Bn){var Wn;if(Bn.preventDefault(),(Wn=Mt(this,Qt))==null||Wn.commitOrRemove(),!this.hasSelection)return;const Hn=[];for(const cr of Mt(this,sn)){const sr=cr.serialize(!0);sr&&Hn.push(sr)}Hn.length!==0&&Bn.clipboardData.setData("application/pdfjs",JSON.stringify(Hn))}cut(Bn){this.copy(Bn),this.delete()}paste(Bn){Bn.preventDefault();const{clipboardData:Hn}=Bn;for(const sr of Hn.items)for(const xr of Mt(this,Ht))if(xr.isHandlingMimeForPasting(sr.type)){xr.paste(sr,this.currentLayer);return}let Wn=Hn.getData("application/pdfjs");if(!Wn)return;try{Wn=JSON.parse(Wn)}catch(sr){(0,vt.warn)(`paste: "${sr.message}".`);return}if(!Array.isArray(Wn))return;this.unselectAll();const cr=this.currentLayer;try{const sr=[];for(const Vn of Wn){const Zn=cr.deserialize(Vn);if(!Zn)return;sr.push(Zn)}const xr=()=>{for(const Vn of sr)Mn(this,En,A3).call(this,Vn);Mn(this,En,S3).call(this,sr)},Jn=()=>{for(const Vn of sr)Vn.remove()};this.addCommands({cmd:xr,undo:Jn,mustExec:!0})}catch(sr){(0,vt.warn)(`paste: "${sr.message}".`)}}keydown(Bn){var Hn;(Hn=this.getActive())!=null&&Hn.shouldGetKeyboardEvents()||lr._keyboardManager.exec(this,Bn)}onEditingAction(Bn){["undo","redo","delete","selectAll"].includes(Bn.name)&&this[Bn.name]()}setEditingState(Bn){Bn?(Mn(this,En,j8).call(this),Mn(this,En,y3).call(this),Mn(this,En,v3).call(this),Mn(this,En,xl).call(this,{isEditing:Mt(this,cn)!==vt.AnnotationEditorType.NONE,isEmpty:Mn(this,En,cm).call(this),hasSomethingToUndo:Mt(this,Yt).hasSomethingToUndo(),hasSomethingToRedo:Mt(this,Yt).hasSomethingToRedo(),hasSelectedEditor:!1})):(Mn(this,En,b3).call(this),Mn(this,En,C2).call(this),Mn(this,En,w3).call(this),Mn(this,En,xl).call(this,{isEditing:!1}),this.disableUserSelect(!1))}registerEditorTypes(Bn){if(!Mt(this,Ht)){$n(this,Ht,Bn);for(const Hn of Mt(this,Ht))Mn(this,En,lm).call(this,Hn.defaultPropertiesToUpdate)}}getId(){return Mt(this,Vt).getId()}get currentLayer(){return Mt(this,tn).get(Mt(this,un))}getLayer(Bn){return Mt(this,tn).get(Bn)}get currentPageIndex(){return Mt(this,un)}addLayer(Bn){Mt(this,tn).set(Bn.pageIndex,Bn),Mt(this,nn)?Bn.enable():Bn.disable()}removeLayer(Bn){Mt(this,tn).delete(Bn.pageIndex)}updateMode(Bn,Hn=null){if(Mt(this,cn)!==Bn){if($n(this,cn,Bn),Bn===vt.AnnotationEditorType.NONE){this.setEditingState(!1),Mn(this,En,U8).call(this);return}this.setEditingState(!0),Mn(this,En,B8).call(this),this.unselectAll();for(const Wn of Mt(this,tn).values())Wn.updateMode(Bn);if(Hn){for(const Wn of Mt(this,gn).values())if(Wn.annotationElementId===Hn){this.setSelected(Wn),Wn.enterInEditMode();break}}}}updateToolbar(Bn){Bn!==Mt(this,cn)&&this._eventBus.dispatch("switchannotationeditormode",{source:this,mode:Bn})}updateParams(Bn,Hn){if(Mt(this,Ht)){if(Bn===vt.AnnotationEditorParamsType.CREATE){this.currentLayer.addNewEditor(Bn);return}for(const Wn of Mt(this,sn))Wn.updateParams(Bn,Hn);for(const Wn of Mt(this,Ht))Wn.updateDefaultParams(Bn,Hn)}}enableWaiting(Bn=!1){if(Mt(this,hn)!==Bn){$n(this,hn,Bn);for(const Hn of Mt(this,tn).values())Bn?Hn.disableClick():Hn.enableClick(),Hn.div.classList.toggle("waiting",Bn)}}getEditors(Bn){const Hn=[];for(const Wn of Mt(this,gn).values())Wn.pageIndex===Bn&&Hn.push(Wn);return Hn}getEditor(Bn){return Mt(this,gn).get(Bn)}addEditor(Bn){Mt(this,gn).set(Bn.id,Bn)}removeEditor(Bn){var Hn;Mt(this,gn).delete(Bn.id),this.unselect(Bn),(!Bn.annotationElementId||!Mt(this,Ut).has(Bn.annotationElementId))&&((Hn=Mt(this,Wt))==null||Hn.remove(Bn.id))}addDeletedAnnotationElement(Bn){Mt(this,Ut).add(Bn.annotationElementId),Bn.deleted=!0}isDeletedAnnotationElement(Bn){return Mt(this,Ut).has(Bn)}removeDeletedAnnotationElement(Bn){Mt(this,Ut).delete(Bn.annotationElementId),Bn.deleted=!1}setActiveEditor(Bn){Mt(this,Qt)!==Bn&&($n(this,Qt,Bn),Bn&&Mn(this,En,lm).call(this,Bn.propertiesToUpdate))}toggleSelected(Bn){if(Mt(this,sn).has(Bn)){Mt(this,sn).delete(Bn),Bn.unselect(),Mn(this,En,xl).call(this,{hasSelectedEditor:this.hasSelection});return}Mt(this,sn).add(Bn),Bn.select(),Mn(this,En,lm).call(this,Bn.propertiesToUpdate),Mn(this,En,xl).call(this,{hasSelectedEditor:!0})}setSelected(Bn){for(const Hn of Mt(this,sn))Hn!==Bn&&Hn.unselect();Mt(this,sn).clear(),Mt(this,sn).add(Bn),Bn.select(),Mn(this,En,lm).call(this,Bn.propertiesToUpdate),Mn(this,En,xl).call(this,{hasSelectedEditor:!0})}isSelected(Bn){return Mt(this,sn).has(Bn)}unselect(Bn){Bn.unselect(),Mt(this,sn).delete(Bn),Mn(this,En,xl).call(this,{hasSelectedEditor:this.hasSelection})}get hasSelection(){return Mt(this,sn).size!==0}undo(){Mt(this,Yt).undo(),Mn(this,En,xl).call(this,{hasSomethingToUndo:Mt(this,Yt).hasSomethingToUndo(),hasSomethingToRedo:!0,isEmpty:Mn(this,En,cm).call(this)})}redo(){Mt(this,Yt).redo(),Mn(this,En,xl).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:Mt(this,Yt).hasSomethingToRedo(),isEmpty:Mn(this,En,cm).call(this)})}addCommands(Bn){Mt(this,Yt).add(Bn),Mn(this,En,xl).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:!1,isEmpty:Mn(this,En,cm).call(this)})}delete(){if(this.commitOrRemove(),!this.hasSelection)return;const Bn=[...Mt(this,sn)],Hn=()=>{for(const cr of Bn)cr.remove()},Wn=()=>{for(const cr of Bn)Mn(this,En,A3).call(this,cr)};this.addCommands({cmd:Hn,undo:Wn,mustExec:!0})}commitOrRemove(){var Bn;(Bn=Mt(this,Qt))==null||Bn.commitOrRemove()}hasSomethingToControl(){return Mt(this,Qt)||this.hasSelection}selectAll(){for(const Bn of Mt(this,sn))Bn.commit();Mn(this,En,S3).call(this,Mt(this,gn).values())}unselectAll(){if(Mt(this,Qt)){Mt(this,Qt).commitOrRemove();return}if(this.hasSelection){for(const Bn of Mt(this,sn))Bn.unselect();Mt(this,sn).clear(),Mn(this,En,xl).call(this,{hasSelectedEditor:!1})}}translateSelectedEditors(Bn,Hn,Wn=!1){if(Wn||this.commitOrRemove(),!this.hasSelection)return;Mt(this,pn)[0]+=Bn,Mt(this,pn)[1]+=Hn;const[cr,sr]=Mt(this,pn),xr=[...Mt(this,sn)],Jn=1e3;Mt(this,wn)&&clearTimeout(Mt(this,wn)),$n(this,wn,setTimeout(()=>{$n(this,wn,null),Mt(this,pn)[0]=Mt(this,pn)[1]=0,this.addCommands({cmd:()=>{for(const Vn of xr)Mt(this,gn).has(Vn.id)&&Vn.translateInPage(cr,sr)},undo:()=>{for(const Vn of xr)Mt(this,gn).has(Vn.id)&&Vn.translateInPage(-cr,-sr)},mustExec:!1})},Jn));for(const Vn of xr)Vn.translateInPage(Bn,Hn)}setUpDragSession(){if(this.hasSelection){this.disableUserSelect(!0),$n(this,Ot,new Map);for(const Bn of Mt(this,sn))Mt(this,Ot).set(Bn,{savedX:Bn.x,savedY:Bn.y,savedPageIndex:Bn.pageIndex,newX:0,newY:0,newPageIndex:-1})}}endDragSession(){if(!Mt(this,Ot))return!1;this.disableUserSelect(!1);const Bn=Mt(this,Ot);$n(this,Ot,null);let Hn=!1;for(const[{x:cr,y:sr,pageIndex:xr},Jn]of Bn)Jn.newX=cr,Jn.newY=sr,Jn.newPageIndex=xr,Hn||(Hn=cr!==Jn.savedX||sr!==Jn.savedY||xr!==Jn.savedPageIndex);if(!Hn)return!1;const Wn=(cr,sr,xr,Jn)=>{if(Mt(this,gn).has(cr.id)){const Vn=Mt(this,tn).get(Jn);Vn?cr._setParentAndPosition(Vn,sr,xr):(cr.pageIndex=Jn,cr.x=sr,cr.y=xr)}};return this.addCommands({cmd:()=>{for(const[cr,{newX:sr,newY:xr,newPageIndex:Jn}]of Bn)Wn(cr,sr,xr,Jn)},undo:()=>{for(const[cr,{savedX:sr,savedY:xr,savedPageIndex:Jn}]of Bn)Wn(cr,sr,xr,Jn)},mustExec:!0}),!0}dragSelectedEditors(Bn,Hn){if(Mt(this,Ot))for(const Wn of Mt(this,Ot).keys())Wn.drag(Bn,Hn)}rebuild(Bn){if(Bn.parent===null){const Hn=this.getLayer(Bn.pageIndex);Hn?(Hn.changeParent(Bn),Hn.addOrRebuild(Bn)):(this.addEditor(Bn),this.addToAnnotationStorage(Bn),Bn.rebuild())}else Bn.parent.addOrRebuild(Bn)}isActive(Bn){return Mt(this,Qt)===Bn}getActive(){return Mt(this,Qt)}getMode(){return Mt(this,cn)}get imageManager(){return(0,vt.shadow)(this,"imageManager",new Ft)}};Qt=new WeakMap,gn=new WeakMap,tn=new WeakMap,bn=new WeakMap,Wt=new WeakMap,Yt=new WeakMap,un=new WeakMap,Ut=new WeakMap,Ot=new WeakMap,Ht=new WeakMap,an=new WeakMap,zt=new WeakMap,Vt=new WeakMap,nn=new WeakMap,hn=new WeakMap,on=new WeakMap,cn=new WeakMap,sn=new WeakMap,rn=new WeakMap,xn=new WeakMap,vn=new WeakMap,kn=new WeakMap,Pn=new WeakMap,On=new WeakMap,_n=new WeakMap,Sn=new WeakMap,mn=new WeakMap,fn=new WeakMap,Jt=new WeakMap,ln=new WeakMap,pn=new WeakMap,wn=new WeakMap,Cn=new WeakMap,Fn=new WeakMap,En=new WeakSet,j8=function(){window.addEventListener("focus",Mt(this,vn)),window.addEventListener("blur",Mt(this,xn))},b3=function(){window.removeEventListener("focus",Mt(this,vn)),window.removeEventListener("blur",Mt(this,xn))},y3=function(){window.addEventListener("keydown",Mt(this,_n),{capture:!0})},C2=function(){window.removeEventListener("keydown",Mt(this,_n),{capture:!0})},v3=function(){document.addEventListener("copy",Mt(this,kn)),document.addEventListener("cut",Mt(this,Pn)),document.addEventListener("paste",Mt(this,On))},w3=function(){document.removeEventListener("copy",Mt(this,kn)),document.removeEventListener("cut",Mt(this,Pn)),document.removeEventListener("paste",Mt(this,On))},xl=function(Bn){Object.entries(Bn).some(([Wn,cr])=>Mt(this,ln)[Wn]!==cr)&&this._eventBus.dispatch("annotationeditorstateschanged",{source:this,details:Object.assign(Mt(this,ln),Bn)})},lm=function(Bn){this._eventBus.dispatch("annotationeditorparamschanged",{source:this,details:Bn})},B8=function(){if(!Mt(this,nn)){$n(this,nn,!0);for(const Bn of Mt(this,tn).values())Bn.enable()}},U8=function(){if(this.unselectAll(),Mt(this,nn)){$n(this,nn,!1);for(const Bn of Mt(this,tn).values())Bn.disable()}},A3=function(Bn){const Hn=Mt(this,tn).get(Bn.pageIndex);Hn?Hn.addOrRebuild(Bn):this.addEditor(Bn)},cm=function(){if(Mt(this,gn).size===0)return!0;if(Mt(this,gn).size===1)for(const Bn of Mt(this,gn).values())return Bn.isEmpty();return!1},S3=function(Bn){Mt(this,sn).clear();for(const Hn of Bn)Hn.isEmpty()||(Mt(this,sn).add(Hn),Hn.select());Mn(this,En,xl).call(this,{hasSelectedEditor:!0})},Ur(lr,"TRANSLATE_SMALL",1),Ur(lr,"TRANSLATE_BIG",10);let _e=lr;$.AnnotationEditorUIManager=_e},(xt,$,ht)=>{var un,Ut,Ot,Ht,an,zt,Vt,nn,hn,on,cn,sn,H1,z1,E3,k2,T2,um,hm;Object.defineProperty($,"__esModule",{value:!0}),$.StatTimer=$.RenderingCancelledException=$.PixelsPerInch=$.PageViewport=$.PDFDateString=$.DOMStandardFontDataFactory=$.DOMSVGFactory=$.DOMFilterFactory=$.DOMCanvasFactory=$.DOMCMapReaderFactory=void 0,$.deprecated=Bt,$.getColorValues=gn,$.getCurrentTransform=tn,$.getCurrentTransformInverse=bn,$.getFilenameFromUrl=Nt,$.getPdfFilenameFromUrl=$t,$.getRGB=Qt,$.getXfaPageViewport=dn,$.isDataScheme=Xt,$.isPdfFile=Kt,$.isValidFetchUrl=jt,$.loadScript=qt,$.noContextMenu=kt,$.setLayerDimensions=Wt;var vt=ht(7),At=ht(1);const St="http://www.w3.org/2000/svg",Yt=class Yt{};Ur(Yt,"CSS",96),Ur(Yt,"PDF",72),Ur(Yt,"PDF_TO_CSS_UNITS",Yt.CSS/Yt.PDF);let Ct=Yt;$.PixelsPerInch=Ct;class Et extends vt.BaseFilterFactory{constructor({docId:fn,ownerDocument:Jt=globalThis.document}={}){super();Nn(this,sn);Nn(this,un);Nn(this,Ut);Nn(this,Ot);Nn(this,Ht);Nn(this,an);Nn(this,zt);Nn(this,Vt);Nn(this,nn);Nn(this,hn);Nn(this,on);Nn(this,cn,0);$n(this,Ot,fn),$n(this,Ht,Jt)}addFilter(fn){if(!fn)return"none";let Jt=Mt(this,sn,H1).get(fn);if(Jt)return Jt;let ln,pn,wn,Cn;if(fn.length===1){const Tn=fn[0],In=new Array(256);for(let Rn=0;Rn<256;Rn++)In[Rn]=Tn[Rn]/255;Cn=ln=pn=wn=In.join(",")}else{const[Tn,In,Rn]=fn,Dn=new Array(256),Ln=new Array(256),Un=new Array(256);for(let tr=0;tr<256;tr++)Dn[tr]=Tn[tr]/255,Ln[tr]=In[tr]/255,Un[tr]=Rn[tr]/255;ln=Dn.join(","),pn=Ln.join(","),wn=Un.join(","),Cn=`${ln}${pn}${wn}`}if(Jt=Mt(this,sn,H1).get(Cn),Jt)return Mt(this,sn,H1).set(fn,Jt),Jt;const Fn=`g_${Mt(this,Ot)}_transfer_map_${So(this,cn)._++}`,En=`url(#${Fn})`;Mt(this,sn,H1).set(fn,En),Mt(this,sn,H1).set(Cn,En);const An=Mn(this,sn,k2).call(this,Fn);return Mn(this,sn,um).call(this,ln,pn,wn,An),En}addHCMFilter(fn,Jt){var In;const ln=`${fn}-${Jt}`;if(Mt(this,zt)===ln)return Mt(this,Vt);if($n(this,zt,ln),$n(this,Vt,"none"),(In=Mt(this,an))==null||In.remove(),!fn||!Jt)return Mt(this,Vt);const pn=Mn(this,sn,hm).call(this,fn);fn=At.Util.makeHexColor(...pn);const wn=Mn(this,sn,hm).call(this,Jt);if(Jt=At.Util.makeHexColor(...wn),Mt(this,sn,z1).style.color="",fn==="#000000"&&Jt==="#ffffff"||fn===Jt)return Mt(this,Vt);const Cn=new Array(256);for(let Rn=0;Rn<=255;Rn++){const Dn=Rn/255;Cn[Rn]=Dn<=.03928?Dn/12.92:((Dn+.055)/1.055)**2.4}const Fn=Cn.join(","),En=`g_${Mt(this,Ot)}_hcm_filter`,An=$n(this,nn,Mn(this,sn,k2).call(this,En));Mn(this,sn,um).call(this,Fn,Fn,Fn,An),Mn(this,sn,E3).call(this,An);const Tn=(Rn,Dn)=>{const Ln=pn[Rn]/255,Un=wn[Rn]/255,tr=new Array(Dn+1);for(let er=0;er<=Dn;er++)tr[er]=Ln+er/Dn*(Un-Ln);return tr.join(",")};return Mn(this,sn,um).call(this,Tn(0,5),Tn(1,5),Tn(2,5),An),$n(this,Vt,`url(#${En})`),Mt(this,Vt)}addHighlightHCMFilter(fn,Jt,ln,pn){var Un;const wn=`${fn}-${Jt}-${ln}-${pn}`;if(Mt(this,hn)===wn)return Mt(this,on);if($n(this,hn,wn),$n(this,on,"none"),(Un=Mt(this,nn))==null||Un.remove(),!fn||!Jt)return Mt(this,on);const[Cn,Fn]=[fn,Jt].map(Mn(this,sn,hm).bind(this));let En=Math.round(.2126*Cn[0]+.7152*Cn[1]+.0722*Cn[2]),An=Math.round(.2126*Fn[0]+.7152*Fn[1]+.0722*Fn[2]),[Tn,In]=[ln,pn].map(Mn(this,sn,hm).bind(this));An<En&&([En,An,Tn,In]=[An,En,In,Tn]),Mt(this,sn,z1).style.color="";const Rn=(tr,er,Qn)=>{const Yn=new Array(256),Xn=(An-En)/Qn,nr=tr/255,lr=(er-tr)/(255*Qn);let dr=0;for(let Bn=0;Bn<=Qn;Bn++){const Hn=Math.round(En+Bn*Xn),Wn=nr+Bn*lr;for(let cr=dr;cr<=Hn;cr++)Yn[cr]=Wn;dr=Hn+1}for(let Bn=dr;Bn<256;Bn++)Yn[Bn]=Yn[dr-1];return Yn.join(",")},Dn=`g_${Mt(this,Ot)}_hcm_highlight_filter`,Ln=$n(this,nn,Mn(this,sn,k2).call(this,Dn));return Mn(this,sn,E3).call(this,Ln),Mn(this,sn,um).call(this,Rn(Tn[0],In[0],5),Rn(Tn[1],In[1],5),Rn(Tn[2],In[2],5),Ln),$n(this,on,`url(#${Dn})`),Mt(this,on)}destroy(fn=!1){fn&&(Mt(this,Vt)||Mt(this,on))||(Mt(this,Ut)&&(Mt(this,Ut).parentNode.parentNode.remove(),$n(this,Ut,null)),Mt(this,un)&&(Mt(this,un).clear(),$n(this,un,null)),$n(this,cn,0))}}un=new WeakMap,Ut=new WeakMap,Ot=new WeakMap,Ht=new WeakMap,an=new WeakMap,zt=new WeakMap,Vt=new WeakMap,nn=new WeakMap,hn=new WeakMap,on=new WeakMap,cn=new WeakMap,sn=new WeakSet,H1=function(){return Mt(this,un)||$n(this,un,new Map)},z1=function(){if(!Mt(this,Ut)){const fn=Mt(this,Ht).createElement("div"),{style:Jt}=fn;Jt.visibility="hidden",Jt.contain="strict",Jt.width=Jt.height=0,Jt.position="absolute",Jt.top=Jt.left=0,Jt.zIndex=-1;const ln=Mt(this,Ht).createElementNS(St,"svg");ln.setAttribute("width",0),ln.setAttribute("height",0),$n(this,Ut,Mt(this,Ht).createElementNS(St,"defs")),fn.append(ln),ln.append(Mt(this,Ut)),Mt(this,Ht).body.append(fn)}return Mt(this,Ut)},E3=function(fn){const Jt=Mt(this,Ht).createElementNS(St,"feColorMatrix");Jt.setAttribute("type","matrix"),Jt.setAttribute("values","0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0 0 0 1 0"),fn.append(Jt)},k2=function(fn){const Jt=Mt(this,Ht).createElementNS(St,"filter");return Jt.setAttribute("color-interpolation-filters","sRGB"),Jt.setAttribute("id",fn),Mt(this,sn,z1).append(Jt),Jt},T2=function(fn,Jt,ln){const pn=Mt(this,Ht).createElementNS(St,Jt);pn.setAttribute("type","discrete"),pn.setAttribute("tableValues",ln),fn.append(pn)},um=function(fn,Jt,ln,pn){const wn=Mt(this,Ht).createElementNS(St,"feComponentTransfer");pn.append(wn),Mn(this,sn,T2).call(this,wn,"feFuncR",fn),Mn(this,sn,T2).call(this,wn,"feFuncG",Jt),Mn(this,sn,T2).call(this,wn,"feFuncB",ln)},hm=function(fn){return Mt(this,sn,z1).style.color=fn,Qt(getComputedStyle(Mt(this,sn,z1)).getPropertyValue("color"))},$.DOMFilterFactory=Et;class Ft extends vt.BaseCanvasFactory{constructor({ownerDocument:mn=globalThis.document}={}){super(),this._document=mn}_createCanvas(mn,fn){const Jt=this._document.createElement("canvas");return Jt.width=mn,Jt.height=fn,Jt}}$.DOMCanvasFactory=Ft;async function wt(Sn,mn=!1){if(jt(Sn,document.baseURI)){const fn=await fetch(Sn);if(!fn.ok)throw new Error(fn.statusText);return mn?new Uint8Array(await fn.arrayBuffer()):(0,At.stringToBytes)(await fn.text())}return new Promise((fn,Jt)=>{const ln=new XMLHttpRequest;ln.open("GET",Sn,!0),mn&&(ln.responseType="arraybuffer"),ln.onreadystatechange=()=>{if(ln.readyState===XMLHttpRequest.DONE){if(ln.status===200||ln.status===0){let pn;if(mn&&ln.response?pn=new Uint8Array(ln.response):!mn&&ln.responseText&&(pn=(0,At.stringToBytes)(ln.responseText)),pn){fn(pn);return}}Jt(new Error(ln.statusText))}},ln.send(null)})}class _t extends vt.BaseCMapReaderFactory{_fetchData(mn,fn){return wt(mn,this.isCompressed).then(Jt=>({cMapData:Jt,compressionType:fn}))}}$.DOMCMapReaderFactory=_t;class Rt extends vt.BaseStandardFontDataFactory{_fetchData(mn){return wt(mn,!0)}}$.DOMStandardFontDataFactory=Rt;class _e extends vt.BaseSVGFactory{_createSVG(mn){return document.createElementNS(St,mn)}}$.DOMSVGFactory=_e;class bt{constructor({viewBox:mn,scale:fn,rotation:Jt,offsetX:ln=0,offsetY:pn=0,dontFlip:wn=!1}){this.viewBox=mn,this.scale=fn,this.rotation=Jt,this.offsetX=ln,this.offsetY=pn;const Cn=(mn[2]+mn[0])/2,Fn=(mn[3]+mn[1])/2;let En,An,Tn,In;switch(Jt%=360,Jt<0&&(Jt+=360),Jt){case 180:En=-1,An=0,Tn=0,In=1;break;case 90:En=0,An=1,Tn=1,In=0;break;case 270:En=0,An=-1,Tn=-1,In=0;break;case 0:En=1,An=0,Tn=0,In=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}wn&&(Tn=-Tn,In=-In);let Rn,Dn,Ln,Un;En===0?(Rn=Math.abs(Fn-mn[1])*fn+ln,Dn=Math.abs(Cn-mn[0])*fn+pn,Ln=(mn[3]-mn[1])*fn,Un=(mn[2]-mn[0])*fn):(Rn=Math.abs(Cn-mn[0])*fn+ln,Dn=Math.abs(Fn-mn[1])*fn+pn,Ln=(mn[2]-mn[0])*fn,Un=(mn[3]-mn[1])*fn),this.transform=[En*fn,An*fn,Tn*fn,In*fn,Rn-En*fn*Cn-Tn*fn*Fn,Dn-An*fn*Cn-In*fn*Fn],this.width=Ln,this.height=Un}get rawDims(){const{viewBox:mn}=this;return(0,At.shadow)(this,"rawDims",{pageWidth:mn[2]-mn[0],pageHeight:mn[3]-mn[1],pageX:mn[0],pageY:mn[1]})}clone({scale:mn=this.scale,rotation:fn=this.rotation,offsetX:Jt=this.offsetX,offsetY:ln=this.offsetY,dontFlip:pn=!1}={}){return new bt({viewBox:this.viewBox.slice(),scale:mn,rotation:fn,offsetX:Jt,offsetY:ln,dontFlip:pn})}convertToViewportPoint(mn,fn){return At.Util.applyTransform([mn,fn],this.transform)}convertToViewportRectangle(mn){const fn=At.Util.applyTransform([mn[0],mn[1]],this.transform),Jt=At.Util.applyTransform([mn[2],mn[3]],this.transform);return[fn[0],fn[1],Jt[0],Jt[1]]}convertToPdfPoint(mn,fn){return At.Util.applyInverseTransform([mn,fn],this.transform)}}$.PageViewport=bt;class Pt extends At.BaseException{constructor(mn,fn=0){super(mn,"RenderingCancelledException"),this.extraDelay=fn}}$.RenderingCancelledException=Pt;function Xt(Sn){const mn=Sn.length;let fn=0;for(;fn<mn&&Sn[fn].trim()==="";)fn++;return Sn.substring(fn,fn+5).toLowerCase()==="data:"}function Kt(Sn){return typeof Sn=="string"&&/\.pdf$/i.test(Sn)}function Nt(Sn,mn=!1){return mn||([Sn]=Sn.split(/[#?]/,1)),Sn.substring(Sn.lastIndexOf("/")+1)}function $t(Sn,mn="document.pdf"){if(typeof Sn!="string")return mn;if(Xt(Sn))return(0,At.warn)('getPdfFilenameFromUrl: ignore "data:"-URL for performance reasons.'),mn;const fn=/^(?:(?:[^:]+:)?\/\/[^/]+)?([^?#]*)(\?[^#]*)?(#.*)?$/,Jt=/[^/?#=]+\.pdf\b(?!.*\.pdf\b)/i,ln=fn.exec(Sn);let pn=Jt.exec(ln[1])||Jt.exec(ln[2])||Jt.exec(ln[3]);if(pn&&(pn=pn[0],pn.includes("%")))try{pn=Jt.exec(decodeURIComponent(pn))[0]}catch{}return pn||mn}class Lt{constructor(){Ur(this,"started",Object.create(null));Ur(this,"times",[])}time(mn){mn in this.started&&(0,At.warn)(`Timer is already running for ${mn}`),this.started[mn]=Date.now()}timeEnd(mn){mn in this.started||(0,At.warn)(`Timer has not been started for ${mn}`),this.times.push({name:mn,start:this.started[mn],end:Date.now()}),delete this.started[mn]}toString(){const mn=[];let fn=0;for(const{name:Jt}of this.times)fn=Math.max(Jt.length,fn);for(const{name:Jt,start:ln,end:pn}of this.times)mn.push(`${Jt.padEnd(fn)} ${pn-ln}ms
`);return mn.join("")}}$.StatTimer=Lt;function jt(Sn,mn){try{const{protocol:fn}=mn?new URL(Sn,mn):new URL(Sn);return fn==="http:"||fn==="https:"}catch{return!1}}function kt(Sn){Sn.preventDefault()}function qt(Sn,mn=!1){return new Promise((fn,Jt)=>{const ln=document.createElement("script");ln.src=Sn,ln.onload=function(pn){mn&&ln.remove(),fn(pn)},ln.onerror=function(){Jt(new Error(`Cannot load script at: ${ln.src}`))},(document.head||document.documentElement).append(ln)})}function Bt(Sn){console.log("Deprecated API usage: "+Sn)}let Gt;class en{static toDateObject(mn){if(!mn||typeof mn!="string")return null;Gt||(Gt=new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?"));const fn=Gt.exec(mn);if(!fn)return null;const Jt=parseInt(fn[1],10);let ln=parseInt(fn[2],10);ln=ln>=1&&ln<=12?ln-1:0;let pn=parseInt(fn[3],10);pn=pn>=1&&pn<=31?pn:1;let wn=parseInt(fn[4],10);wn=wn>=0&&wn<=23?wn:0;let Cn=parseInt(fn[5],10);Cn=Cn>=0&&Cn<=59?Cn:0;let Fn=parseInt(fn[6],10);Fn=Fn>=0&&Fn<=59?Fn:0;const En=fn[7]||"Z";let An=parseInt(fn[8],10);An=An>=0&&An<=23?An:0;let Tn=parseInt(fn[9],10)||0;return Tn=Tn>=0&&Tn<=59?Tn:0,En==="-"?(wn+=An,Cn+=Tn):En==="+"&&(wn-=An,Cn-=Tn),new Date(Date.UTC(Jt,ln,pn,wn,Cn,Fn))}}$.PDFDateString=en;function dn(Sn,{scale:mn=1,rotation:fn=0}){const{width:Jt,height:ln}=Sn.attributes.style,pn=[0,0,parseInt(Jt),parseInt(ln)];return new bt({viewBox:pn,scale:mn,rotation:fn})}function Qt(Sn){if(Sn.startsWith("#")){const mn=parseInt(Sn.slice(1),16);return[(mn&16711680)>>16,(mn&65280)>>8,mn&255]}return Sn.startsWith("rgb(")?Sn.slice(4,-1).split(",").map(mn=>parseInt(mn)):Sn.startsWith("rgba(")?Sn.slice(5,-1).split(",").map(mn=>parseInt(mn)).slice(0,3):((0,At.warn)(`Not a valid color format: "${Sn}"`),[0,0,0])}function gn(Sn){const mn=document.createElement("span");mn.style.visibility="hidden",document.body.append(mn);for(const fn of Sn.keys()){mn.style.color=fn;const Jt=window.getComputedStyle(mn).color;Sn.set(fn,Qt(Jt))}mn.remove()}function tn(Sn){const{a:mn,b:fn,c:Jt,d:ln,e:pn,f:wn}=Sn.getTransform();return[mn,fn,Jt,ln,pn,wn]}function bn(Sn){const{a:mn,b:fn,c:Jt,d:ln,e:pn,f:wn}=Sn.getTransform().invertSelf();return[mn,fn,Jt,ln,pn,wn]}function Wt(Sn,mn,fn=!1,Jt=!0){if(mn instanceof bt){const{pageWidth:ln,pageHeight:pn}=mn.rawDims,{style:wn}=Sn,Cn=At.FeatureTest.isCSSRoundSupported,Fn=`var(--scale-factor) * ${ln}px`,En=`var(--scale-factor) * ${pn}px`,An=Cn?`round(${Fn}, 1px)`:`calc(${Fn})`,Tn=Cn?`round(${En}, 1px)`:`calc(${En})`;!fn||mn.rotation%180===0?(wn.width=An,wn.height=Tn):(wn.width=Tn,wn.height=An)}Jt&&Sn.setAttribute("data-main-rotation",mn.rotation)}},(xt,$,ht)=>{Object.defineProperty($,"__esModule",{value:!0}),$.BaseStandardFontDataFactory=$.BaseSVGFactory=$.BaseFilterFactory=$.BaseCanvasFactory=$.BaseCMapReaderFactory=void 0;var vt=ht(1);class At{constructor(){this.constructor===At&&(0,vt.unreachable)("Cannot initialize BaseFilterFactory.")}addFilter(_t){return"none"}addHCMFilter(_t,Rt){return"none"}addHighlightHCMFilter(_t,Rt,_e,bt){return"none"}destroy(_t=!1){}}$.BaseFilterFactory=At;class St{constructor(){this.constructor===St&&(0,vt.unreachable)("Cannot initialize BaseCanvasFactory.")}create(_t,Rt){if(_t<=0||Rt<=0)throw new Error("Invalid canvas size");const _e=this._createCanvas(_t,Rt);return{canvas:_e,context:_e.getContext("2d")}}reset(_t,Rt,_e){if(!_t.canvas)throw new Error("Canvas is not specified");if(Rt<=0||_e<=0)throw new Error("Invalid canvas size");_t.canvas.width=Rt,_t.canvas.height=_e}destroy(_t){if(!_t.canvas)throw new Error("Canvas is not specified");_t.canvas.width=0,_t.canvas.height=0,_t.canvas=null,_t.context=null}_createCanvas(_t,Rt){(0,vt.unreachable)("Abstract method `_createCanvas` called.")}}$.BaseCanvasFactory=St;class Ct{constructor({baseUrl:_t=null,isCompressed:Rt=!0}){this.constructor===Ct&&(0,vt.unreachable)("Cannot initialize BaseCMapReaderFactory."),this.baseUrl=_t,this.isCompressed=Rt}async fetch({name:_t}){if(!this.baseUrl)throw new Error('The CMap "baseUrl" parameter must be specified, ensure that the "cMapUrl" and "cMapPacked" API parameters are provided.');if(!_t)throw new Error("CMap name must be specified.");const Rt=this.baseUrl+_t+(this.isCompressed?".bcmap":""),_e=this.isCompressed?vt.CMapCompressionType.BINARY:vt.CMapCompressionType.NONE;return this._fetchData(Rt,_e).catch(bt=>{throw new Error(`Unable to load ${this.isCompressed?"binary ":""}CMap at: ${Rt}`)})}_fetchData(_t,Rt){(0,vt.unreachable)("Abstract method `_fetchData` called.")}}$.BaseCMapReaderFactory=Ct;class Et{constructor({baseUrl:_t=null}){this.constructor===Et&&(0,vt.unreachable)("Cannot initialize BaseStandardFontDataFactory."),this.baseUrl=_t}async fetch({filename:_t}){if(!this.baseUrl)throw new Error('The standard font "baseUrl" parameter must be specified, ensure that the "standardFontDataUrl" API parameter is provided.');if(!_t)throw new Error("Font filename must be specified.");const Rt=`${this.baseUrl}${_t}`;return this._fetchData(Rt).catch(_e=>{throw new Error(`Unable to load font data at: ${Rt}`)})}_fetchData(_t){(0,vt.unreachable)("Abstract method `_fetchData` called.")}}$.BaseStandardFontDataFactory=Et;class Ft{constructor(){this.constructor===Ft&&(0,vt.unreachable)("Cannot initialize BaseSVGFactory.")}create(_t,Rt,_e=!1){if(_t<=0||Rt<=0)throw new Error("Invalid SVG dimensions");const bt=this._createSVG("svg:svg");return bt.setAttribute("version","1.1"),_e||(bt.setAttribute("width",`${_t}px`),bt.setAttribute("height",`${Rt}px`)),bt.setAttribute("preserveAspectRatio","none"),bt.setAttribute("viewBox",`0 0 ${_t} ${Rt}`),bt}createElement(_t){if(typeof _t!="string")throw new Error("Invalid SVG element type");return this._createSVG(_t)}_createSVG(_t){(0,vt.unreachable)("Abstract method `_createSVG` called.")}}$.BaseSVGFactory=Ft},(xt,$,ht)=>{Object.defineProperty($,"__esModule",{value:!0}),$.MurmurHash3_64=void 0;var vt=ht(1);const At=3285377520,St=4294901760,Ct=65535;class Et{constructor(wt){this.h1=wt?wt&4294967295:At,this.h2=wt?wt&4294967295:At}update(wt){let _t,Rt;if(typeof wt=="string"){_t=new Uint8Array(wt.length*2),Rt=0;for(let Bt=0,Gt=wt.length;Bt<Gt;Bt++){const en=wt.charCodeAt(Bt);en<=255?_t[Rt++]=en:(_t[Rt++]=en>>>8,_t[Rt++]=en&255)}}else if((0,vt.isArrayBuffer)(wt))_t=wt.slice(),Rt=_t.byteLength;else throw new Error("Wrong data format in MurmurHash3_64_update. Input must be a string or array.");const _e=Rt>>2,bt=Rt-_e*4,Pt=new Uint32Array(_t.buffer,0,_e);let Xt=0,Kt=0,Nt=this.h1,$t=this.h2;const Lt=3432918353,jt=461845907,kt=Lt&Ct,qt=jt&Ct;for(let Bt=0;Bt<_e;Bt++)Bt&1?(Xt=Pt[Bt],Xt=Xt*Lt&St|Xt*kt&Ct,Xt=Xt<<15|Xt>>>17,Xt=Xt*jt&St|Xt*qt&Ct,Nt^=Xt,Nt=Nt<<13|Nt>>>19,Nt=Nt*5+3864292196):(Kt=Pt[Bt],Kt=Kt*Lt&St|Kt*kt&Ct,Kt=Kt<<15|Kt>>>17,Kt=Kt*jt&St|Kt*qt&Ct,$t^=Kt,$t=$t<<13|$t>>>19,$t=$t*5+3864292196);switch(Xt=0,bt){case 3:Xt^=_t[_e*4+2]<<16;case 2:Xt^=_t[_e*4+1]<<8;case 1:Xt^=_t[_e*4],Xt=Xt*Lt&St|Xt*kt&Ct,Xt=Xt<<15|Xt>>>17,Xt=Xt*jt&St|Xt*qt&Ct,_e&1?Nt^=Xt:$t^=Xt}this.h1=Nt,this.h2=$t}hexdigest(){let wt=this.h1,_t=this.h2;return wt^=_t>>>1,wt=wt*3981806797&St|wt*36045&Ct,_t=_t*4283543511&St|((_t<<16|wt>>>16)*2950163797&St)>>>16,wt^=_t>>>1,wt=wt*444984403&St|wt*60499&Ct,_t=_t*3301882366&St|((_t<<16|wt>>>16)*3120437893&St)>>>16,wt^=_t>>>1,(wt>>>0).toString(16).padStart(8,"0")+(_t>>>0).toString(16).padStart(8,"0")}}$.MurmurHash3_64=Et},(xt,$,ht)=>{var Ct;Object.defineProperty($,"__esModule",{value:!0}),$.FontLoader=$.FontFaceObject=void 0;var vt=ht(1);class At{constructor({ownerDocument:Ft=globalThis.document,styleElement:wt=null}){Nn(this,Ct,new Set);this._document=Ft,this.nativeFontFaces=new Set,this.styleElement=null,this.loadingRequests=[],this.loadTestFontId=0}addNativeFontFace(Ft){this.nativeFontFaces.add(Ft),this._document.fonts.add(Ft)}removeNativeFontFace(Ft){this.nativeFontFaces.delete(Ft),this._document.fonts.delete(Ft)}insertRule(Ft){this.styleElement||(this.styleElement=this._document.createElement("style"),this._document.documentElement.getElementsByTagName("head")[0].append(this.styleElement));const wt=this.styleElement.sheet;wt.insertRule(Ft,wt.cssRules.length)}clear(){for(const Ft of this.nativeFontFaces)this._document.fonts.delete(Ft);this.nativeFontFaces.clear(),Mt(this,Ct).clear(),this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}async loadSystemFont(Ft){if(!(!Ft||Mt(this,Ct).has(Ft.loadedName))){if((0,vt.assert)(!this.disableFontFace,"loadSystemFont shouldn't be called when `disableFontFace` is set."),this.isFontLoadingAPISupported){const{loadedName:wt,src:_t,style:Rt}=Ft,_e=new FontFace(wt,_t,Rt);this.addNativeFontFace(_e);try{await _e.load(),Mt(this,Ct).add(wt)}catch{(0,vt.warn)(`Cannot load system font: ${Ft.baseFontName}, installing it could help to improve PDF rendering.`),this.removeNativeFontFace(_e)}return}(0,vt.unreachable)("Not implemented: loadSystemFont without the Font Loading API.")}}async bind(Ft){if(Ft.attached||Ft.missingFile&&!Ft.systemFontInfo)return;if(Ft.attached=!0,Ft.systemFontInfo){await this.loadSystemFont(Ft.systemFontInfo);return}if(this.isFontLoadingAPISupported){const _t=Ft.createNativeFontFace();if(_t){this.addNativeFontFace(_t);try{await _t.loaded}catch(Rt){throw(0,vt.warn)(`Failed to load font '${_t.family}': '${Rt}'.`),Ft.disableFontFace=!0,Rt}}return}const wt=Ft.createFontFaceRule();if(wt){if(this.insertRule(wt),this.isSyncFontLoadingSupported)return;await new Promise(_t=>{const Rt=this._queueLoadingCallback(_t);this._prepareFontLoadEvent(Ft,Rt)})}}get isFontLoadingAPISupported(){var wt;const Ft=!!((wt=this._document)!=null&&wt.fonts);return(0,vt.shadow)(this,"isFontLoadingAPISupported",Ft)}get isSyncFontLoadingSupported(){let Ft=!1;return(vt.isNodeJS||typeof navigator<"u"&&/Mozilla\/5.0.*?rv:\d+.*? Gecko/.test(navigator.userAgent))&&(Ft=!0),(0,vt.shadow)(this,"isSyncFontLoadingSupported",Ft)}_queueLoadingCallback(Ft){function wt(){for((0,vt.assert)(!Rt.done,"completeRequest() cannot be called twice."),Rt.done=!0;_t.length>0&&_t[0].done;){const _e=_t.shift();setTimeout(_e.callback,0)}}const{loadingRequests:_t}=this,Rt={done:!1,complete:wt,callback:Ft};return _t.push(Rt),Rt}get _loadTestFont(){const Ft=atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA==");return(0,vt.shadow)(this,"_loadTestFont",Ft)}_prepareFontLoadEvent(Ft,wt){function _t(Qt,gn){return Qt.charCodeAt(gn)<<24|Qt.charCodeAt(gn+1)<<16|Qt.charCodeAt(gn+2)<<8|Qt.charCodeAt(gn+3)&255}function Rt(Qt,gn,tn,bn){const Wt=Qt.substring(0,gn),Yt=Qt.substring(gn+tn);return Wt+bn+Yt}let _e,bt;const Pt=this._document.createElement("canvas");Pt.width=1,Pt.height=1;const Xt=Pt.getContext("2d");let Kt=0;function Nt(Qt,gn){if(++Kt>30){(0,vt.warn)("Load test font never loaded."),gn();return}if(Xt.font="30px "+Qt,Xt.fillText(".",0,20),Xt.getImageData(0,0,1,1).data[3]>0){gn();return}setTimeout(Nt.bind(null,Qt,gn))}const $t=`lt${Date.now()}${this.loadTestFontId++}`;let Lt=this._loadTestFont;Lt=Rt(Lt,976,$t.length,$t);const kt=16,qt=1482184792;let Bt=_t(Lt,kt);for(_e=0,bt=$t.length-3;_e<bt;_e+=4)Bt=Bt-qt+_t($t,_e)|0;_e<$t.length&&(Bt=Bt-qt+_t($t+"XXX",_e)|0),Lt=Rt(Lt,kt,4,(0,vt.string32)(Bt));const Gt=`url(data:font/opentype;base64,${btoa(Lt)});`,en=`@font-face {font-family:"${$t}";src:${Gt}}`;this.insertRule(en);const dn=this._document.createElement("div");dn.style.visibility="hidden",dn.style.width=dn.style.height="10px",dn.style.position="absolute",dn.style.top=dn.style.left="0px";for(const Qt of[Ft.loadedName,$t]){const gn=this._document.createElement("span");gn.textContent="Hi",gn.style.fontFamily=Qt,dn.append(gn)}this._document.body.append(dn),Nt($t,()=>{dn.remove(),wt.complete()})}}Ct=new WeakMap,$.FontLoader=At;class St{constructor(Ft,{isEvalSupported:wt=!0,disableFontFace:_t=!1,ignoreErrors:Rt=!1,inspectFont:_e=null}){this.compiledGlyphs=Object.create(null);for(const bt in Ft)this[bt]=Ft[bt];this.isEvalSupported=wt!==!1,this.disableFontFace=_t===!0,this.ignoreErrors=Rt===!0,this._inspectFont=_e}createNativeFontFace(){var wt;if(!this.data||this.disableFontFace)return null;let Ft;if(!this.cssFontInfo)Ft=new FontFace(this.loadedName,this.data,{});else{const _t={weight:this.cssFontInfo.fontWeight};this.cssFontInfo.italicAngle&&(_t.style=`oblique ${this.cssFontInfo.italicAngle}deg`),Ft=new FontFace(this.cssFontInfo.fontFamily,this.data,_t)}return(wt=this._inspectFont)==null||wt.call(this,this),Ft}createFontFaceRule(){var Rt;if(!this.data||this.disableFontFace)return null;const Ft=(0,vt.bytesToString)(this.data),wt=`url(data:${this.mimetype};base64,${btoa(Ft)});`;let _t;if(!this.cssFontInfo)_t=`@font-face {font-family:"${this.loadedName}";src:${wt}}`;else{let _e=`font-weight: ${this.cssFontInfo.fontWeight};`;this.cssFontInfo.italicAngle&&(_e+=`font-style: oblique ${this.cssFontInfo.italicAngle}deg;`),_t=`@font-face {font-family:"${this.cssFontInfo.fontFamily}";${_e}src:${wt}}`}return(Rt=this._inspectFont)==null||Rt.call(this,this,wt),_t}getPathGenerator(Ft,wt){if(this.compiledGlyphs[wt]!==void 0)return this.compiledGlyphs[wt];let _t;try{_t=Ft.get(this.loadedName+"_path_"+wt)}catch(Rt){if(!this.ignoreErrors)throw Rt;return(0,vt.warn)(`getPathGenerator - ignoring character: "${Rt}".`),this.compiledGlyphs[wt]=function(_e,bt){}}if(this.isEvalSupported&&vt.FeatureTest.isEvalSupported){const Rt=[];for(const _e of _t){const bt=_e.args!==void 0?_e.args.join(","):"";Rt.push("c.",_e.cmd,"(",bt,`);
`)}return this.compiledGlyphs[wt]=new Function("c","size",Rt.join(""))}return this.compiledGlyphs[wt]=function(Rt,_e){for(const bt of _t)bt.cmd==="scale"&&(bt.args=[_e,-_e]),Rt[bt.cmd].apply(Rt,bt.args)}}}$.FontFaceObject=St},(xt,$,ht)=>{Object.defineProperty($,"__esModule",{value:!0}),$.NodeStandardFontDataFactory=$.NodeFilterFactory=$.NodeCanvasFactory=$.NodeCMapReaderFactory=void 0;var vt=ht(7);ht(1);const At=function(wt){return new Promise((_t,Rt)=>{require$$5.readFile(wt,(bt,Pt)=>{if(bt||!Pt){Rt(new Error(bt));return}_t(new Uint8Array(Pt))})})};class St extends vt.BaseFilterFactory{}$.NodeFilterFactory=St;class Ct extends vt.BaseCanvasFactory{_createCanvas(_t,Rt){return require$$5.createCanvas(_t,Rt)}}$.NodeCanvasFactory=Ct;class Et extends vt.BaseCMapReaderFactory{_fetchData(_t,Rt){return At(_t).then(_e=>({cMapData:_e,compressionType:Rt}))}}$.NodeCMapReaderFactory=Et;class Ft extends vt.BaseStandardFontDataFactory{_fetchData(_t){return At(_t)}}$.NodeStandardFontDataFactory=Ft},(xt,$,ht)=>{var Ut,C3,k3;Object.defineProperty($,"__esModule",{value:!0}),$.CanvasGraphics=void 0;var vt=ht(1),At=ht(6),St=ht(12),Ct=ht(13);const Et=16,Ft=100,wt=4096,_t=15,Rt=10,_e=1e3,bt=16;function Pt(zt,Vt){if(zt._removeMirroring)throw new Error("Context is already forwarding operations.");zt.__originalSave=zt.save,zt.__originalRestore=zt.restore,zt.__originalRotate=zt.rotate,zt.__originalScale=zt.scale,zt.__originalTranslate=zt.translate,zt.__originalTransform=zt.transform,zt.__originalSetTransform=zt.setTransform,zt.__originalResetTransform=zt.resetTransform,zt.__originalClip=zt.clip,zt.__originalMoveTo=zt.moveTo,zt.__originalLineTo=zt.lineTo,zt.__originalBezierCurveTo=zt.bezierCurveTo,zt.__originalRect=zt.rect,zt.__originalClosePath=zt.closePath,zt.__originalBeginPath=zt.beginPath,zt._removeMirroring=()=>{zt.save=zt.__originalSave,zt.restore=zt.__originalRestore,zt.rotate=zt.__originalRotate,zt.scale=zt.__originalScale,zt.translate=zt.__originalTranslate,zt.transform=zt.__originalTransform,zt.setTransform=zt.__originalSetTransform,zt.resetTransform=zt.__originalResetTransform,zt.clip=zt.__originalClip,zt.moveTo=zt.__originalMoveTo,zt.lineTo=zt.__originalLineTo,zt.bezierCurveTo=zt.__originalBezierCurveTo,zt.rect=zt.__originalRect,zt.closePath=zt.__originalClosePath,zt.beginPath=zt.__originalBeginPath,delete zt._removeMirroring},zt.save=function(){Vt.save(),this.__originalSave()},zt.restore=function(){Vt.restore(),this.__originalRestore()},zt.translate=function(hn,on){Vt.translate(hn,on),this.__originalTranslate(hn,on)},zt.scale=function(hn,on){Vt.scale(hn,on),this.__originalScale(hn,on)},zt.transform=function(hn,on,cn,sn,rn,xn){Vt.transform(hn,on,cn,sn,rn,xn),this.__originalTransform(hn,on,cn,sn,rn,xn)},zt.setTransform=function(hn,on,cn,sn,rn,xn){Vt.setTransform(hn,on,cn,sn,rn,xn),this.__originalSetTransform(hn,on,cn,sn,rn,xn)},zt.resetTransform=function(){Vt.resetTransform(),this.__originalResetTransform()},zt.rotate=function(hn){Vt.rotate(hn),this.__originalRotate(hn)},zt.clip=function(hn){Vt.clip(hn),this.__originalClip(hn)},zt.moveTo=function(nn,hn){Vt.moveTo(nn,hn),this.__originalMoveTo(nn,hn)},zt.lineTo=function(nn,hn){Vt.lineTo(nn,hn),this.__originalLineTo(nn,hn)},zt.bezierCurveTo=function(nn,hn,on,cn,sn,rn){Vt.bezierCurveTo(nn,hn,on,cn,sn,rn),this.__originalBezierCurveTo(nn,hn,on,cn,sn,rn)},zt.rect=function(nn,hn,on,cn){Vt.rect(nn,hn,on,cn),this.__originalRect(nn,hn,on,cn)},zt.closePath=function(){Vt.closePath(),this.__originalClosePath()},zt.beginPath=function(){Vt.beginPath(),this.__originalBeginPath()}}class Xt{constructor(Vt){this.canvasFactory=Vt,this.cache=Object.create(null)}getCanvas(Vt,nn,hn){let on;return this.cache[Vt]!==void 0?(on=this.cache[Vt],this.canvasFactory.reset(on,nn,hn)):(on=this.canvasFactory.create(nn,hn),this.cache[Vt]=on),on}delete(Vt){delete this.cache[Vt]}clear(){for(const Vt in this.cache){const nn=this.cache[Vt];this.canvasFactory.destroy(nn),delete this.cache[Vt]}}}function Kt(zt,Vt,nn,hn,on,cn,sn,rn,xn,vn){const[kn,Pn,On,_n,Sn,mn]=(0,At.getCurrentTransform)(zt);if(Pn===0&&On===0){const ln=sn*kn+Sn,pn=Math.round(ln),wn=rn*_n+mn,Cn=Math.round(wn),Fn=(sn+xn)*kn+Sn,En=Math.abs(Math.round(Fn)-pn)||1,An=(rn+vn)*_n+mn,Tn=Math.abs(Math.round(An)-Cn)||1;return zt.setTransform(Math.sign(kn),0,0,Math.sign(_n),pn,Cn),zt.drawImage(Vt,nn,hn,on,cn,0,0,En,Tn),zt.setTransform(kn,Pn,On,_n,Sn,mn),[En,Tn]}if(kn===0&&_n===0){const ln=rn*On+Sn,pn=Math.round(ln),wn=sn*Pn+mn,Cn=Math.round(wn),Fn=(rn+vn)*On+Sn,En=Math.abs(Math.round(Fn)-pn)||1,An=(sn+xn)*Pn+mn,Tn=Math.abs(Math.round(An)-Cn)||1;return zt.setTransform(0,Math.sign(Pn),Math.sign(On),0,pn,Cn),zt.drawImage(Vt,nn,hn,on,cn,0,0,Tn,En),zt.setTransform(kn,Pn,On,_n,Sn,mn),[Tn,En]}zt.drawImage(Vt,nn,hn,on,cn,sn,rn,xn,vn);const fn=Math.hypot(kn,Pn),Jt=Math.hypot(On,_n);return[fn*xn,Jt*vn]}function Nt(zt){const{width:Vt,height:nn}=zt;if(Vt>_e||nn>_e)return null;const hn=1e3,on=new Uint8Array([0,2,4,0,1,0,5,4,8,10,0,8,0,2,1,0]),cn=Vt+1;let sn=new Uint8Array(cn*(nn+1)),rn,xn,vn;const kn=Vt+7&-8;let Pn=new Uint8Array(kn*nn),On=0;for(const Jt of zt.data){let ln=128;for(;ln>0;)Pn[On++]=Jt&ln?0:255,ln>>=1}let _n=0;for(On=0,Pn[On]!==0&&(sn[0]=1,++_n),xn=1;xn<Vt;xn++)Pn[On]!==Pn[On+1]&&(sn[xn]=Pn[On]?2:1,++_n),On++;for(Pn[On]!==0&&(sn[xn]=2,++_n),rn=1;rn<nn;rn++){On=rn*kn,vn=rn*cn,Pn[On-kn]!==Pn[On]&&(sn[vn]=Pn[On]?1:8,++_n);let Jt=(Pn[On]?4:0)+(Pn[On-kn]?8:0);for(xn=1;xn<Vt;xn++)Jt=(Jt>>2)+(Pn[On+1]?4:0)+(Pn[On-kn+1]?8:0),on[Jt]&&(sn[vn+xn]=on[Jt],++_n),On++;if(Pn[On-kn]!==Pn[On]&&(sn[vn+xn]=Pn[On]?2:4,++_n),_n>hn)return null}for(On=kn*(nn-1),vn=rn*cn,Pn[On]!==0&&(sn[vn]=8,++_n),xn=1;xn<Vt;xn++)Pn[On]!==Pn[On+1]&&(sn[vn+xn]=Pn[On]?4:8,++_n),On++;if(Pn[On]!==0&&(sn[vn+xn]=4,++_n),_n>hn)return null;const Sn=new Int32Array([0,cn,-1,0,-cn,0,0,0,1]),mn=new Path2D;for(rn=0;_n&&rn<=nn;rn++){let Jt=rn*cn;const ln=Jt+Vt;for(;Jt<ln&&!sn[Jt];)Jt++;if(Jt===ln)continue;mn.moveTo(Jt%cn,rn);const pn=Jt;let wn=sn[Jt];do{const Cn=Sn[wn];do Jt+=Cn;while(!sn[Jt]);const Fn=sn[Jt];Fn!==5&&Fn!==10?(wn=Fn,sn[Jt]=0):(wn=Fn&51*wn>>4,sn[Jt]&=wn>>2|wn<<2),mn.lineTo(Jt%cn,Jt/cn|0),sn[Jt]||--_n}while(pn!==Jt);--rn}return Pn=null,sn=null,function(Jt){Jt.save(),Jt.scale(1/Vt,-1/nn),Jt.translate(0,-nn),Jt.fill(mn),Jt.beginPath(),Jt.restore()}}class $t{constructor(Vt,nn){this.alphaIsShape=!1,this.fontSize=0,this.fontSizeScale=1,this.textMatrix=vt.IDENTITY_MATRIX,this.textMatrixScale=1,this.fontMatrix=vt.FONT_IDENTITY_MATRIX,this.leading=0,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRenderingMode=vt.TextRenderingMode.FILL,this.textRise=0,this.fillColor="#000000",this.strokeColor="#000000",this.patternFill=!1,this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.activeSMask=null,this.transferMaps="none",this.startNewPathAndClipBox([0,0,Vt,nn])}clone(){const Vt=Object.create(this);return Vt.clipBox=this.clipBox.slice(),Vt}setCurrentPoint(Vt,nn){this.x=Vt,this.y=nn}updatePathMinMax(Vt,nn,hn){[nn,hn]=vt.Util.applyTransform([nn,hn],Vt),this.minX=Math.min(this.minX,nn),this.minY=Math.min(this.minY,hn),this.maxX=Math.max(this.maxX,nn),this.maxY=Math.max(this.maxY,hn)}updateRectMinMax(Vt,nn){const hn=vt.Util.applyTransform(nn,Vt),on=vt.Util.applyTransform(nn.slice(2),Vt);this.minX=Math.min(this.minX,hn[0],on[0]),this.minY=Math.min(this.minY,hn[1],on[1]),this.maxX=Math.max(this.maxX,hn[0],on[0]),this.maxY=Math.max(this.maxY,hn[1],on[1])}updateScalingPathMinMax(Vt,nn){vt.Util.scaleMinMax(Vt,nn),this.minX=Math.min(this.minX,nn[0]),this.maxX=Math.max(this.maxX,nn[1]),this.minY=Math.min(this.minY,nn[2]),this.maxY=Math.max(this.maxY,nn[3])}updateCurvePathMinMax(Vt,nn,hn,on,cn,sn,rn,xn,vn,kn){const Pn=vt.Util.bezierBoundingBox(nn,hn,on,cn,sn,rn,xn,vn);if(kn){kn[0]=Math.min(kn[0],Pn[0],Pn[2]),kn[1]=Math.max(kn[1],Pn[0],Pn[2]),kn[2]=Math.min(kn[2],Pn[1],Pn[3]),kn[3]=Math.max(kn[3],Pn[1],Pn[3]);return}this.updateRectMinMax(Vt,Pn)}getPathBoundingBox(Vt=St.PathType.FILL,nn=null){const hn=[this.minX,this.minY,this.maxX,this.maxY];if(Vt===St.PathType.STROKE){nn||(0,vt.unreachable)("Stroke bounding box must include transform.");const on=vt.Util.singularValueDecompose2dScale(nn),cn=on[0]*this.lineWidth/2,sn=on[1]*this.lineWidth/2;hn[0]-=cn,hn[1]-=sn,hn[2]+=cn,hn[3]+=sn}return hn}updateClipFromPath(){const Vt=vt.Util.intersect(this.clipBox,this.getPathBoundingBox());this.startNewPathAndClipBox(Vt||[0,0,0,0])}isEmptyClip(){return this.minX===1/0}startNewPathAndClipBox(Vt){this.clipBox=Vt,this.minX=1/0,this.minY=1/0,this.maxX=0,this.maxY=0}getClippedPathBoundingBox(Vt=St.PathType.FILL,nn=null){return vt.Util.intersect(this.clipBox,this.getPathBoundingBox(Vt,nn))}}function Lt(zt,Vt){if(typeof ImageData<"u"&&Vt instanceof ImageData){zt.putImageData(Vt,0,0);return}const nn=Vt.height,hn=Vt.width,on=nn%bt,cn=(nn-on)/bt,sn=on===0?cn:cn+1,rn=zt.createImageData(hn,bt);let xn=0,vn;const kn=Vt.data,Pn=rn.data;let On,_n,Sn,mn;if(Vt.kind===vt.ImageKind.GRAYSCALE_1BPP){const fn=kn.byteLength,Jt=new Uint32Array(Pn.buffer,0,Pn.byteLength>>2),ln=Jt.length,pn=hn+7>>3,wn=4294967295,Cn=vt.FeatureTest.isLittleEndian?4278190080:255;for(On=0;On<sn;On++){for(Sn=On<cn?bt:on,vn=0,_n=0;_n<Sn;_n++){const Fn=fn-xn;let En=0;const An=Fn>pn?hn:Fn*8-7,Tn=An&-8;let In=0,Rn=0;for(;En<Tn;En+=8)Rn=kn[xn++],Jt[vn++]=Rn&128?wn:Cn,Jt[vn++]=Rn&64?wn:Cn,Jt[vn++]=Rn&32?wn:Cn,Jt[vn++]=Rn&16?wn:Cn,Jt[vn++]=Rn&8?wn:Cn,Jt[vn++]=Rn&4?wn:Cn,Jt[vn++]=Rn&2?wn:Cn,Jt[vn++]=Rn&1?wn:Cn;for(;En<An;En++)In===0&&(Rn=kn[xn++],In=128),Jt[vn++]=Rn&In?wn:Cn,In>>=1}for(;vn<ln;)Jt[vn++]=0;zt.putImageData(rn,0,On*bt)}}else if(Vt.kind===vt.ImageKind.RGBA_32BPP){for(_n=0,mn=hn*bt*4,On=0;On<cn;On++)Pn.set(kn.subarray(xn,xn+mn)),xn+=mn,zt.putImageData(rn,0,_n),_n+=bt;On<sn&&(mn=hn*on*4,Pn.set(kn.subarray(xn,xn+mn)),zt.putImageData(rn,0,_n))}else if(Vt.kind===vt.ImageKind.RGB_24BPP)for(Sn=bt,mn=hn*Sn,On=0;On<sn;On++){for(On>=cn&&(Sn=on,mn=hn*Sn),vn=0,_n=mn;_n--;)Pn[vn++]=kn[xn++],Pn[vn++]=kn[xn++],Pn[vn++]=kn[xn++],Pn[vn++]=255;zt.putImageData(rn,0,On*bt)}else throw new Error(`bad image kind: ${Vt.kind}`)}function jt(zt,Vt){if(Vt.bitmap){zt.drawImage(Vt.bitmap,0,0);return}const nn=Vt.height,hn=Vt.width,on=nn%bt,cn=(nn-on)/bt,sn=on===0?cn:cn+1,rn=zt.createImageData(hn,bt);let xn=0;const vn=Vt.data,kn=rn.data;for(let Pn=0;Pn<sn;Pn++){const On=Pn<cn?bt:on;({srcPos:xn}=(0,Ct.convertBlackAndWhiteToRGBA)({src:vn,srcPos:xn,dest:kn,width:hn,height:On,nonBlackColor:0})),zt.putImageData(rn,0,Pn*bt)}}function kt(zt,Vt){const nn=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font","filter"];for(const hn of nn)zt[hn]!==void 0&&(Vt[hn]=zt[hn]);zt.setLineDash!==void 0&&(Vt.setLineDash(zt.getLineDash()),Vt.lineDashOffset=zt.lineDashOffset)}function qt(zt){if(zt.strokeStyle=zt.fillStyle="#000000",zt.fillRule="nonzero",zt.globalAlpha=1,zt.lineWidth=1,zt.lineCap="butt",zt.lineJoin="miter",zt.miterLimit=10,zt.globalCompositeOperation="source-over",zt.font="10px sans-serif",zt.setLineDash!==void 0&&(zt.setLineDash([]),zt.lineDashOffset=0),!vt.isNodeJS){const{filter:Vt}=zt;Vt!=="none"&&Vt!==""&&(zt.filter="none")}}function Bt(zt,Vt,nn,hn){const on=zt.length;for(let cn=3;cn<on;cn+=4){const sn=zt[cn];if(sn===0)zt[cn-3]=Vt,zt[cn-2]=nn,zt[cn-1]=hn;else if(sn<255){const rn=255-sn;zt[cn-3]=zt[cn-3]*sn+Vt*rn>>8,zt[cn-2]=zt[cn-2]*sn+nn*rn>>8,zt[cn-1]=zt[cn-1]*sn+hn*rn>>8}}}function Gt(zt,Vt,nn){const hn=zt.length,on=1/255;for(let cn=3;cn<hn;cn+=4){const sn=nn?nn[zt[cn]]:zt[cn];Vt[cn]=Vt[cn]*sn*on|0}}function en(zt,Vt,nn){const hn=zt.length;for(let on=3;on<hn;on+=4){const cn=zt[on-3]*77+zt[on-2]*152+zt[on-1]*28;Vt[on]=nn?Vt[on]*nn[cn>>8]>>8:Vt[on]*cn>>16}}function dn(zt,Vt,nn,hn,on,cn,sn,rn,xn,vn,kn){const Pn=!!cn,On=Pn?cn[0]:0,_n=Pn?cn[1]:0,Sn=Pn?cn[2]:0,mn=on==="Luminosity"?en:Gt,Jt=Math.min(hn,Math.ceil(1048576/nn));for(let ln=0;ln<hn;ln+=Jt){const pn=Math.min(Jt,hn-ln),wn=zt.getImageData(rn-vn,ln+(xn-kn),nn,pn),Cn=Vt.getImageData(rn,ln+xn,nn,pn);Pn&&Bt(wn.data,On,_n,Sn),mn(wn.data,Cn.data,sn),Vt.putImageData(Cn,rn,ln+xn)}}function Qt(zt,Vt,nn,hn){const on=hn[0],cn=hn[1],sn=hn[2]-on,rn=hn[3]-cn;sn===0||rn===0||(dn(Vt.context,nn,sn,rn,Vt.subtype,Vt.backdrop,Vt.transferMap,on,cn,Vt.offsetX,Vt.offsetY),zt.save(),zt.globalAlpha=1,zt.globalCompositeOperation="source-over",zt.setTransform(1,0,0,1,0,0),zt.drawImage(nn.canvas,0,0),zt.restore())}function gn(zt,Vt){const nn=vt.Util.singularValueDecompose2dScale(zt);nn[0]=Math.fround(nn[0]),nn[1]=Math.fround(nn[1]);const hn=Math.fround((globalThis.devicePixelRatio||1)*At.PixelsPerInch.PDF_TO_CSS_UNITS);return Vt!==void 0?Vt:nn[0]<=hn||nn[1]<=hn}const tn=["butt","round","square"],bn=["miter","round","bevel"],Wt={},Yt={},an=class an{constructor(Vt,nn,hn,on,cn,{optionalContentConfig:sn,markedContentStack:rn=null},xn,vn){Nn(this,Ut);this.ctx=Vt,this.current=new $t(this.ctx.canvas.width,this.ctx.canvas.height),this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=nn,this.objs=hn,this.canvasFactory=on,this.filterFactory=cn,this.groupStack=[],this.processingType3=null,this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.suspendedCtx=null,this.contentVisible=!0,this.markedContentStack=rn||[],this.optionalContentConfig=sn,this.cachedCanvases=new Xt(this.canvasFactory),this.cachedPatterns=new Map,this.annotationCanvasMap=xn,this.viewportScale=1,this.outputScaleX=1,this.outputScaleY=1,this.pageColors=vn,this._cachedScaleForStroking=[-1,0],this._cachedGetSinglePixelWidth=null,this._cachedBitmapsMap=new Map}getObject(Vt,nn=null){return typeof Vt=="string"?Vt.startsWith("g_")?this.commonObjs.get(Vt):this.objs.get(Vt):nn}beginDrawing({transform:Vt,viewport:nn,transparency:hn=!1,background:on=null}){const cn=this.ctx.canvas.width,sn=this.ctx.canvas.height,rn=this.ctx.fillStyle;if(this.ctx.fillStyle=on||"#ffffff",this.ctx.fillRect(0,0,cn,sn),this.ctx.fillStyle=rn,hn){const xn=this.cachedCanvases.getCanvas("transparent",cn,sn);this.compositeCtx=this.ctx,this.transparentCanvas=xn.canvas,this.ctx=xn.context,this.ctx.save(),this.ctx.transform(...(0,At.getCurrentTransform)(this.compositeCtx))}this.ctx.save(),qt(this.ctx),Vt&&(this.ctx.transform(...Vt),this.outputScaleX=Vt[0],this.outputScaleY=Vt[0]),this.ctx.transform(...nn.transform),this.viewportScale=nn.scale,this.baseTransform=(0,At.getCurrentTransform)(this.ctx)}executeOperatorList(Vt,nn,hn,on){const cn=Vt.argsArray,sn=Vt.fnArray;let rn=nn||0;const xn=cn.length;if(xn===rn)return rn;const vn=xn-rn>Rt&&typeof hn=="function",kn=vn?Date.now()+_t:0;let Pn=0;const On=this.commonObjs,_n=this.objs;let Sn;for(;;){if(on!==void 0&&rn===on.nextBreakPoint)return on.breakIt(rn,hn),rn;if(Sn=sn[rn],Sn!==vt.OPS.dependency)this[Sn].apply(this,cn[rn]);else for(const mn of cn[rn]){const fn=mn.startsWith("g_")?On:_n;if(!fn.has(mn))return fn.get(mn,hn),rn}if(rn++,rn===xn)return rn;if(vn&&++Pn>Rt){if(Date.now()>kn)return hn(),rn;Pn=0}}}endDrawing(){Mn(this,Ut,C3).call(this),this.cachedCanvases.clear(),this.cachedPatterns.clear();for(const Vt of this._cachedBitmapsMap.values()){for(const nn of Vt.values())typeof HTMLCanvasElement<"u"&&nn instanceof HTMLCanvasElement&&(nn.width=nn.height=0);Vt.clear()}this._cachedBitmapsMap.clear(),Mn(this,Ut,k3).call(this)}_scaleImage(Vt,nn){const hn=Vt.width,on=Vt.height;let cn=Math.max(Math.hypot(nn[0],nn[1]),1),sn=Math.max(Math.hypot(nn[2],nn[3]),1),rn=hn,xn=on,vn="prescale1",kn,Pn;for(;cn>2&&rn>1||sn>2&&xn>1;){let On=rn,_n=xn;cn>2&&rn>1&&(On=rn>=16384?Math.floor(rn/2)-1||1:Math.ceil(rn/2),cn/=rn/On),sn>2&&xn>1&&(_n=xn>=16384?Math.floor(xn/2)-1||1:Math.ceil(xn)/2,sn/=xn/_n),kn=this.cachedCanvases.getCanvas(vn,On,_n),Pn=kn.context,Pn.clearRect(0,0,On,_n),Pn.drawImage(Vt,0,0,rn,xn,0,0,On,_n),Vt=kn.canvas,rn=On,xn=_n,vn=vn==="prescale1"?"prescale2":"prescale1"}return{img:Vt,paintWidth:rn,paintHeight:xn}}_createMaskCanvas(Vt){const nn=this.ctx,{width:hn,height:on}=Vt,cn=this.current.fillColor,sn=this.current.patternFill,rn=(0,At.getCurrentTransform)(nn);let xn,vn,kn,Pn;if((Vt.bitmap||Vt.data)&&Vt.count>1){const En=Vt.bitmap||Vt.data.buffer;vn=JSON.stringify(sn?rn:[rn.slice(0,4),cn]),xn=this._cachedBitmapsMap.get(En),xn||(xn=new Map,this._cachedBitmapsMap.set(En,xn));const An=xn.get(vn);if(An&&!sn){const Tn=Math.round(Math.min(rn[0],rn[2])+rn[4]),In=Math.round(Math.min(rn[1],rn[3])+rn[5]);return{canvas:An,offsetX:Tn,offsetY:In}}kn=An}kn||(Pn=this.cachedCanvases.getCanvas("maskCanvas",hn,on),jt(Pn.context,Vt));let On=vt.Util.transform(rn,[1/hn,0,0,-1/on,0,0]);On=vt.Util.transform(On,[1,0,0,1,0,-on]);const _n=vt.Util.applyTransform([0,0],On),Sn=vt.Util.applyTransform([hn,on],On),mn=vt.Util.normalizeRect([_n[0],_n[1],Sn[0],Sn[1]]),fn=Math.round(mn[2]-mn[0])||1,Jt=Math.round(mn[3]-mn[1])||1,ln=this.cachedCanvases.getCanvas("fillCanvas",fn,Jt),pn=ln.context,wn=Math.min(_n[0],Sn[0]),Cn=Math.min(_n[1],Sn[1]);pn.translate(-wn,-Cn),pn.transform(...On),kn||(kn=this._scaleImage(Pn.canvas,(0,At.getCurrentTransformInverse)(pn)),kn=kn.img,xn&&sn&&xn.set(vn,kn)),pn.imageSmoothingEnabled=gn((0,At.getCurrentTransform)(pn),Vt.interpolate),Kt(pn,kn,0,0,kn.width,kn.height,0,0,hn,on),pn.globalCompositeOperation="source-in";const Fn=vt.Util.transform((0,At.getCurrentTransformInverse)(pn),[1,0,0,1,-wn,-Cn]);return pn.fillStyle=sn?cn.getPattern(nn,this,Fn,St.PathType.FILL):cn,pn.fillRect(0,0,hn,on),xn&&!sn&&(this.cachedCanvases.delete("fillCanvas"),xn.set(vn,ln.canvas)),{canvas:ln.canvas,offsetX:Math.round(wn),offsetY:Math.round(Cn)}}setLineWidth(Vt){Vt!==this.current.lineWidth&&(this._cachedScaleForStroking[0]=-1),this.current.lineWidth=Vt,this.ctx.lineWidth=Vt}setLineCap(Vt){this.ctx.lineCap=tn[Vt]}setLineJoin(Vt){this.ctx.lineJoin=bn[Vt]}setMiterLimit(Vt){this.ctx.miterLimit=Vt}setDash(Vt,nn){const hn=this.ctx;hn.setLineDash!==void 0&&(hn.setLineDash(Vt),hn.lineDashOffset=nn)}setRenderingIntent(Vt){}setFlatness(Vt){}setGState(Vt){for(const[nn,hn]of Vt)switch(nn){case"LW":this.setLineWidth(hn);break;case"LC":this.setLineCap(hn);break;case"LJ":this.setLineJoin(hn);break;case"ML":this.setMiterLimit(hn);break;case"D":this.setDash(hn[0],hn[1]);break;case"RI":this.setRenderingIntent(hn);break;case"FL":this.setFlatness(hn);break;case"Font":this.setFont(hn[0],hn[1]);break;case"CA":this.current.strokeAlpha=hn;break;case"ca":this.current.fillAlpha=hn,this.ctx.globalAlpha=hn;break;case"BM":this.ctx.globalCompositeOperation=hn;break;case"SMask":this.current.activeSMask=hn?this.tempSMask:null,this.tempSMask=null,this.checkSMaskState();break;case"TR":this.ctx.filter=this.current.transferMaps=this.filterFactory.addFilter(hn);break}}get inSMaskMode(){return!!this.suspendedCtx}checkSMaskState(){const Vt=this.inSMaskMode;this.current.activeSMask&&!Vt?this.beginSMaskMode():!this.current.activeSMask&&Vt&&this.endSMaskMode()}beginSMaskMode(){if(this.inSMaskMode)throw new Error("beginSMaskMode called while already in smask mode");const Vt=this.ctx.canvas.width,nn=this.ctx.canvas.height,hn="smaskGroupAt"+this.groupLevel,on=this.cachedCanvases.getCanvas(hn,Vt,nn);this.suspendedCtx=this.ctx,this.ctx=on.context;const cn=this.ctx;cn.setTransform(...(0,At.getCurrentTransform)(this.suspendedCtx)),kt(this.suspendedCtx,cn),Pt(cn,this.suspendedCtx),this.setGState([["BM","source-over"],["ca",1],["CA",1]])}endSMaskMode(){if(!this.inSMaskMode)throw new Error("endSMaskMode called while not in smask mode");this.ctx._removeMirroring(),kt(this.ctx,this.suspendedCtx),this.ctx=this.suspendedCtx,this.suspendedCtx=null}compose(Vt){if(!this.current.activeSMask)return;Vt?(Vt[0]=Math.floor(Vt[0]),Vt[1]=Math.floor(Vt[1]),Vt[2]=Math.ceil(Vt[2]),Vt[3]=Math.ceil(Vt[3])):Vt=[0,0,this.ctx.canvas.width,this.ctx.canvas.height];const nn=this.current.activeSMask,hn=this.suspendedCtx;Qt(hn,nn,this.ctx,Vt),this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.restore()}save(){this.inSMaskMode?(kt(this.ctx,this.suspendedCtx),this.suspendedCtx.save()):this.ctx.save();const Vt=this.current;this.stateStack.push(Vt),this.current=Vt.clone()}restore(){this.stateStack.length===0&&this.inSMaskMode&&this.endSMaskMode(),this.stateStack.length!==0&&(this.current=this.stateStack.pop(),this.inSMaskMode?(this.suspendedCtx.restore(),kt(this.suspendedCtx,this.ctx)):this.ctx.restore(),this.checkSMaskState(),this.pendingClip=null,this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null)}transform(Vt,nn,hn,on,cn,sn){this.ctx.transform(Vt,nn,hn,on,cn,sn),this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}constructPath(Vt,nn,hn){const on=this.ctx,cn=this.current;let sn=cn.x,rn=cn.y,xn,vn;const kn=(0,At.getCurrentTransform)(on),Pn=kn[0]===0&&kn[3]===0||kn[1]===0&&kn[2]===0,On=Pn?hn.slice(0):null;for(let _n=0,Sn=0,mn=Vt.length;_n<mn;_n++)switch(Vt[_n]|0){case vt.OPS.rectangle:sn=nn[Sn++],rn=nn[Sn++];const fn=nn[Sn++],Jt=nn[Sn++],ln=sn+fn,pn=rn+Jt;on.moveTo(sn,rn),fn===0||Jt===0?on.lineTo(ln,pn):(on.lineTo(ln,rn),on.lineTo(ln,pn),on.lineTo(sn,pn)),Pn||cn.updateRectMinMax(kn,[sn,rn,ln,pn]),on.closePath();break;case vt.OPS.moveTo:sn=nn[Sn++],rn=nn[Sn++],on.moveTo(sn,rn),Pn||cn.updatePathMinMax(kn,sn,rn);break;case vt.OPS.lineTo:sn=nn[Sn++],rn=nn[Sn++],on.lineTo(sn,rn),Pn||cn.updatePathMinMax(kn,sn,rn);break;case vt.OPS.curveTo:xn=sn,vn=rn,sn=nn[Sn+4],rn=nn[Sn+5],on.bezierCurveTo(nn[Sn],nn[Sn+1],nn[Sn+2],nn[Sn+3],sn,rn),cn.updateCurvePathMinMax(kn,xn,vn,nn[Sn],nn[Sn+1],nn[Sn+2],nn[Sn+3],sn,rn,On),Sn+=6;break;case vt.OPS.curveTo2:xn=sn,vn=rn,on.bezierCurveTo(sn,rn,nn[Sn],nn[Sn+1],nn[Sn+2],nn[Sn+3]),cn.updateCurvePathMinMax(kn,xn,vn,sn,rn,nn[Sn],nn[Sn+1],nn[Sn+2],nn[Sn+3],On),sn=nn[Sn+2],rn=nn[Sn+3],Sn+=4;break;case vt.OPS.curveTo3:xn=sn,vn=rn,sn=nn[Sn+2],rn=nn[Sn+3],on.bezierCurveTo(nn[Sn],nn[Sn+1],sn,rn,sn,rn),cn.updateCurvePathMinMax(kn,xn,vn,nn[Sn],nn[Sn+1],sn,rn,sn,rn,On),Sn+=4;break;case vt.OPS.closePath:on.closePath();break}Pn&&cn.updateScalingPathMinMax(kn,On),cn.setCurrentPoint(sn,rn)}closePath(){this.ctx.closePath()}stroke(Vt=!0){const nn=this.ctx,hn=this.current.strokeColor;nn.globalAlpha=this.current.strokeAlpha,this.contentVisible&&(typeof hn=="object"&&(hn!=null&&hn.getPattern)?(nn.save(),nn.strokeStyle=hn.getPattern(nn,this,(0,At.getCurrentTransformInverse)(nn),St.PathType.STROKE),this.rescaleAndStroke(!1),nn.restore()):this.rescaleAndStroke(!0)),Vt&&this.consumePath(this.current.getClippedPathBoundingBox()),nn.globalAlpha=this.current.fillAlpha}closeStroke(){this.closePath(),this.stroke()}fill(Vt=!0){const nn=this.ctx,hn=this.current.fillColor,on=this.current.patternFill;let cn=!1;on&&(nn.save(),nn.fillStyle=hn.getPattern(nn,this,(0,At.getCurrentTransformInverse)(nn),St.PathType.FILL),cn=!0);const sn=this.current.getClippedPathBoundingBox();this.contentVisible&&sn!==null&&(this.pendingEOFill?(nn.fill("evenodd"),this.pendingEOFill=!1):nn.fill()),cn&&nn.restore(),Vt&&this.consumePath(sn)}eoFill(){this.pendingEOFill=!0,this.fill()}fillStroke(){this.fill(!1),this.stroke(!1),this.consumePath()}eoFillStroke(){this.pendingEOFill=!0,this.fillStroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.pendingEOFill=!0,this.closePath(),this.fillStroke()}endPath(){this.consumePath()}clip(){this.pendingClip=Wt}eoClip(){this.pendingClip=Yt}beginText(){this.current.textMatrix=vt.IDENTITY_MATRIX,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}endText(){const Vt=this.pendingTextPaths,nn=this.ctx;if(Vt===void 0){nn.beginPath();return}nn.save(),nn.beginPath();for(const hn of Vt)nn.setTransform(...hn.transform),nn.translate(hn.x,hn.y),hn.addToPath(nn,hn.fontSize);nn.restore(),nn.clip(),nn.beginPath(),delete this.pendingTextPaths}setCharSpacing(Vt){this.current.charSpacing=Vt}setWordSpacing(Vt){this.current.wordSpacing=Vt}setHScale(Vt){this.current.textHScale=Vt/100}setLeading(Vt){this.current.leading=-Vt}setFont(Vt,nn){var kn;const hn=this.commonObjs.get(Vt),on=this.current;if(!hn)throw new Error(`Can't find font for ${Vt}`);if(on.fontMatrix=hn.fontMatrix||vt.FONT_IDENTITY_MATRIX,(on.fontMatrix[0]===0||on.fontMatrix[3]===0)&&(0,vt.warn)("Invalid font matrix for font "+Vt),nn<0?(nn=-nn,on.fontDirection=-1):on.fontDirection=1,this.current.font=hn,this.current.fontSize=nn,hn.isType3Font)return;const cn=hn.loadedName||"sans-serif",sn=((kn=hn.systemFontInfo)==null?void 0:kn.css)||`"${cn}", ${hn.fallbackName}`;let rn="normal";hn.black?rn="900":hn.bold&&(rn="bold");const xn=hn.italic?"italic":"normal";let vn=nn;nn<Et?vn=Et:nn>Ft&&(vn=Ft),this.current.fontSizeScale=nn/vn,this.ctx.font=`${xn} ${rn} ${vn}px ${sn}`}setTextRenderingMode(Vt){this.current.textRenderingMode=Vt}setTextRise(Vt){this.current.textRise=Vt}moveText(Vt,nn){this.current.x=this.current.lineX+=Vt,this.current.y=this.current.lineY+=nn}setLeadingMoveText(Vt,nn){this.setLeading(-nn),this.moveText(Vt,nn)}setTextMatrix(Vt,nn,hn,on,cn,sn){this.current.textMatrix=[Vt,nn,hn,on,cn,sn],this.current.textMatrixScale=Math.hypot(Vt,nn),this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}nextLine(){this.moveText(0,this.current.leading)}paintChar(Vt,nn,hn,on){const cn=this.ctx,sn=this.current,rn=sn.font,xn=sn.textRenderingMode,vn=sn.fontSize/sn.fontSizeScale,kn=xn&vt.TextRenderingMode.FILL_STROKE_MASK,Pn=!!(xn&vt.TextRenderingMode.ADD_TO_PATH_FLAG),On=sn.patternFill&&!rn.missingFile;let _n;(rn.disableFontFace||Pn||On)&&(_n=rn.getPathGenerator(this.commonObjs,Vt)),rn.disableFontFace||On?(cn.save(),cn.translate(nn,hn),cn.beginPath(),_n(cn,vn),on&&cn.setTransform(...on),(kn===vt.TextRenderingMode.FILL||kn===vt.TextRenderingMode.FILL_STROKE)&&cn.fill(),(kn===vt.TextRenderingMode.STROKE||kn===vt.TextRenderingMode.FILL_STROKE)&&cn.stroke(),cn.restore()):((kn===vt.TextRenderingMode.FILL||kn===vt.TextRenderingMode.FILL_STROKE)&&cn.fillText(Vt,nn,hn),(kn===vt.TextRenderingMode.STROKE||kn===vt.TextRenderingMode.FILL_STROKE)&&cn.strokeText(Vt,nn,hn)),Pn&&(this.pendingTextPaths||(this.pendingTextPaths=[])).push({transform:(0,At.getCurrentTransform)(cn),x:nn,y:hn,fontSize:vn,addToPath:_n})}get isFontSubpixelAAEnabled(){const{context:Vt}=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10);Vt.scale(1.5,1),Vt.fillText("I",0,10);const nn=Vt.getImageData(0,0,10,10).data;let hn=!1;for(let on=3;on<nn.length;on+=4)if(nn[on]>0&&nn[on]<255){hn=!0;break}return(0,vt.shadow)(this,"isFontSubpixelAAEnabled",hn)}showText(Vt){const nn=this.current,hn=nn.font;if(hn.isType3Font)return this.showType3Text(Vt);const on=nn.fontSize;if(on===0)return;const cn=this.ctx,sn=nn.fontSizeScale,rn=nn.charSpacing,xn=nn.wordSpacing,vn=nn.fontDirection,kn=nn.textHScale*vn,Pn=Vt.length,On=hn.vertical,_n=On?1:-1,Sn=hn.defaultVMetrics,mn=on*nn.fontMatrix[0],fn=nn.textRenderingMode===vt.TextRenderingMode.FILL&&!hn.disableFontFace&&!nn.patternFill;cn.save(),cn.transform(...nn.textMatrix),cn.translate(nn.x,nn.y+nn.textRise),vn>0?cn.scale(kn,-1):cn.scale(kn,1);let Jt;if(nn.patternFill){cn.save();const Fn=nn.fillColor.getPattern(cn,this,(0,At.getCurrentTransformInverse)(cn),St.PathType.FILL);Jt=(0,At.getCurrentTransform)(cn),cn.restore(),cn.fillStyle=Fn}let ln=nn.lineWidth;const pn=nn.textMatrixScale;if(pn===0||ln===0){const Fn=nn.textRenderingMode&vt.TextRenderingMode.FILL_STROKE_MASK;(Fn===vt.TextRenderingMode.STROKE||Fn===vt.TextRenderingMode.FILL_STROKE)&&(ln=this.getSinglePixelWidth())}else ln/=pn;if(sn!==1&&(cn.scale(sn,sn),ln/=sn),cn.lineWidth=ln,hn.isInvalidPDFjsFont){const Fn=[];let En=0;for(const An of Vt)Fn.push(An.unicode),En+=An.width;cn.fillText(Fn.join(""),0,0),nn.x+=En*mn*kn,cn.restore(),this.compose();return}let wn=0,Cn;for(Cn=0;Cn<Pn;++Cn){const Fn=Vt[Cn];if(typeof Fn=="number"){wn+=_n*Fn*on/1e3;continue}let En=!1;const An=(Fn.isSpace?xn:0)+rn,Tn=Fn.fontChar,In=Fn.accent;let Rn,Dn,Ln=Fn.width;if(On){const tr=Fn.vmetric||Sn,er=-(Fn.vmetric?tr[1]:Ln*.5)*mn,Qn=tr[2]*mn;Ln=tr?-tr[0]:Ln,Rn=er/sn,Dn=(wn+Qn)/sn}else Rn=wn/sn,Dn=0;if(hn.remeasure&&Ln>0){const tr=cn.measureText(Tn).width*1e3/on*sn;if(Ln<tr&&this.isFontSubpixelAAEnabled){const er=Ln/tr;En=!0,cn.save(),cn.scale(er,1),Rn/=er}else Ln!==tr&&(Rn+=(Ln-tr)/2e3*on/sn)}if(this.contentVisible&&(Fn.isInFont||hn.missingFile)){if(fn&&!In)cn.fillText(Tn,Rn,Dn);else if(this.paintChar(Tn,Rn,Dn,Jt),In){const tr=Rn+on*In.offset.x/sn,er=Dn-on*In.offset.y/sn;this.paintChar(In.fontChar,tr,er,Jt)}}const Un=On?Ln*mn-An*vn:Ln*mn+An*vn;wn+=Un,En&&cn.restore()}On?nn.y-=wn:nn.x+=wn*kn,cn.restore(),this.compose()}showType3Text(Vt){const nn=this.ctx,hn=this.current,on=hn.font,cn=hn.fontSize,sn=hn.fontDirection,rn=on.vertical?1:-1,xn=hn.charSpacing,vn=hn.wordSpacing,kn=hn.textHScale*sn,Pn=hn.fontMatrix||vt.FONT_IDENTITY_MATRIX,On=Vt.length,_n=hn.textRenderingMode===vt.TextRenderingMode.INVISIBLE;let Sn,mn,fn,Jt;if(!(_n||cn===0)){for(this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null,nn.save(),nn.transform(...hn.textMatrix),nn.translate(hn.x,hn.y),nn.scale(kn,sn),Sn=0;Sn<On;++Sn){if(mn=Vt[Sn],typeof mn=="number"){Jt=rn*mn*cn/1e3,this.ctx.translate(Jt,0),hn.x+=Jt*kn;continue}const ln=(mn.isSpace?vn:0)+xn,pn=on.charProcOperatorList[mn.operatorListId];if(!pn){(0,vt.warn)(`Type3 character "${mn.operatorListId}" is not available.`);continue}this.contentVisible&&(this.processingType3=mn,this.save(),nn.scale(cn,cn),nn.transform(...Pn),this.executeOperatorList(pn),this.restore()),fn=vt.Util.applyTransform([mn.width,0],Pn)[0]*cn+ln,nn.translate(fn,0),hn.x+=fn*kn}nn.restore(),this.processingType3=null}}setCharWidth(Vt,nn){}setCharWidthAndBounds(Vt,nn,hn,on,cn,sn){this.ctx.rect(hn,on,cn-hn,sn-on),this.ctx.clip(),this.endPath()}getColorN_Pattern(Vt){let nn;if(Vt[0]==="TilingPattern"){const hn=Vt[1],on=this.baseTransform||(0,At.getCurrentTransform)(this.ctx),cn={createCanvasGraphics:sn=>new an(sn,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:this.optionalContentConfig,markedContentStack:this.markedContentStack})};nn=new St.TilingPattern(Vt,hn,this.ctx,cn,on)}else nn=this._getPattern(Vt[1],Vt[2]);return nn}setStrokeColorN(){this.current.strokeColor=this.getColorN_Pattern(arguments)}setFillColorN(){this.current.fillColor=this.getColorN_Pattern(arguments),this.current.patternFill=!0}setStrokeRGBColor(Vt,nn,hn){const on=vt.Util.makeHexColor(Vt,nn,hn);this.ctx.strokeStyle=on,this.current.strokeColor=on}setFillRGBColor(Vt,nn,hn){const on=vt.Util.makeHexColor(Vt,nn,hn);this.ctx.fillStyle=on,this.current.fillColor=on,this.current.patternFill=!1}_getPattern(Vt,nn=null){let hn;return this.cachedPatterns.has(Vt)?hn=this.cachedPatterns.get(Vt):(hn=(0,St.getShadingPattern)(this.getObject(Vt)),this.cachedPatterns.set(Vt,hn)),nn&&(hn.matrix=nn),hn}shadingFill(Vt){if(!this.contentVisible)return;const nn=this.ctx;this.save();const hn=this._getPattern(Vt);nn.fillStyle=hn.getPattern(nn,this,(0,At.getCurrentTransformInverse)(nn),St.PathType.SHADING);const on=(0,At.getCurrentTransformInverse)(nn);if(on){const{width:cn,height:sn}=nn.canvas,[rn,xn,vn,kn]=vt.Util.getAxialAlignedBoundingBox([0,0,cn,sn],on);this.ctx.fillRect(rn,xn,vn-rn,kn-xn)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);this.compose(this.current.getClippedPathBoundingBox()),this.restore()}beginInlineImage(){(0,vt.unreachable)("Should not call beginInlineImage")}beginImageData(){(0,vt.unreachable)("Should not call beginImageData")}paintFormXObjectBegin(Vt,nn){if(this.contentVisible&&(this.save(),this.baseTransformStack.push(this.baseTransform),Array.isArray(Vt)&&Vt.length===6&&this.transform(...Vt),this.baseTransform=(0,At.getCurrentTransform)(this.ctx),nn)){const hn=nn[2]-nn[0],on=nn[3]-nn[1];this.ctx.rect(nn[0],nn[1],hn,on),this.current.updateRectMinMax((0,At.getCurrentTransform)(this.ctx),nn),this.clip(),this.endPath()}}paintFormXObjectEnd(){this.contentVisible&&(this.restore(),this.baseTransform=this.baseTransformStack.pop())}beginGroup(Vt){if(!this.contentVisible)return;this.save(),this.inSMaskMode&&(this.endSMaskMode(),this.current.activeSMask=null);const nn=this.ctx;Vt.isolated||(0,vt.info)("TODO: Support non-isolated groups."),Vt.knockout&&(0,vt.warn)("Knockout groups not supported.");const hn=(0,At.getCurrentTransform)(nn);if(Vt.matrix&&nn.transform(...Vt.matrix),!Vt.bbox)throw new Error("Bounding box is required.");let on=vt.Util.getAxialAlignedBoundingBox(Vt.bbox,(0,At.getCurrentTransform)(nn));const cn=[0,0,nn.canvas.width,nn.canvas.height];on=vt.Util.intersect(on,cn)||[0,0,0,0];const sn=Math.floor(on[0]),rn=Math.floor(on[1]);let xn=Math.max(Math.ceil(on[2])-sn,1),vn=Math.max(Math.ceil(on[3])-rn,1),kn=1,Pn=1;xn>wt&&(kn=xn/wt,xn=wt),vn>wt&&(Pn=vn/wt,vn=wt),this.current.startNewPathAndClipBox([0,0,xn,vn]);let On="groupAt"+this.groupLevel;Vt.smask&&(On+="_smask_"+this.smaskCounter++%2);const _n=this.cachedCanvases.getCanvas(On,xn,vn),Sn=_n.context;Sn.scale(1/kn,1/Pn),Sn.translate(-sn,-rn),Sn.transform(...hn),Vt.smask?this.smaskStack.push({canvas:_n.canvas,context:Sn,offsetX:sn,offsetY:rn,scaleX:kn,scaleY:Pn,subtype:Vt.smask.subtype,backdrop:Vt.smask.backdrop,transferMap:Vt.smask.transferMap||null,startTransformInverse:null}):(nn.setTransform(1,0,0,1,0,0),nn.translate(sn,rn),nn.scale(kn,Pn),nn.save()),kt(nn,Sn),this.ctx=Sn,this.setGState([["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(nn),this.groupLevel++}endGroup(Vt){if(!this.contentVisible)return;this.groupLevel--;const nn=this.ctx,hn=this.groupStack.pop();if(this.ctx=hn,this.ctx.imageSmoothingEnabled=!1,Vt.smask)this.tempSMask=this.smaskStack.pop(),this.restore();else{this.ctx.restore();const on=(0,At.getCurrentTransform)(this.ctx);this.restore(),this.ctx.save(),this.ctx.setTransform(...on);const cn=vt.Util.getAxialAlignedBoundingBox([0,0,nn.canvas.width,nn.canvas.height],on);this.ctx.drawImage(nn.canvas,0,0),this.ctx.restore(),this.compose(cn)}}beginAnnotation(Vt,nn,hn,on,cn){if(Mn(this,Ut,C3).call(this),qt(this.ctx),this.ctx.save(),this.save(),this.baseTransform&&this.ctx.setTransform(...this.baseTransform),Array.isArray(nn)&&nn.length===4){const sn=nn[2]-nn[0],rn=nn[3]-nn[1];if(cn&&this.annotationCanvasMap){hn=hn.slice(),hn[4]-=nn[0],hn[5]-=nn[1],nn=nn.slice(),nn[0]=nn[1]=0,nn[2]=sn,nn[3]=rn;const[xn,vn]=vt.Util.singularValueDecompose2dScale((0,At.getCurrentTransform)(this.ctx)),{viewportScale:kn}=this,Pn=Math.ceil(sn*this.outputScaleX*kn),On=Math.ceil(rn*this.outputScaleY*kn);this.annotationCanvas=this.canvasFactory.create(Pn,On);const{canvas:_n,context:Sn}=this.annotationCanvas;this.annotationCanvasMap.set(Vt,_n),this.annotationCanvas.savedCtx=this.ctx,this.ctx=Sn,this.ctx.save(),this.ctx.setTransform(xn,0,0,-vn,0,rn*vn),qt(this.ctx)}else qt(this.ctx),this.ctx.rect(nn[0],nn[1],sn,rn),this.ctx.clip(),this.endPath()}this.current=new $t(this.ctx.canvas.width,this.ctx.canvas.height),this.transform(...hn),this.transform(...on)}endAnnotation(){this.annotationCanvas&&(this.ctx.restore(),Mn(this,Ut,k3).call(this),this.ctx=this.annotationCanvas.savedCtx,delete this.annotationCanvas.savedCtx,delete this.annotationCanvas)}paintImageMaskXObject(Vt){if(!this.contentVisible)return;const nn=Vt.count;Vt=this.getObject(Vt.data,Vt),Vt.count=nn;const hn=this.ctx,on=this.processingType3;if(on&&(on.compiled===void 0&&(on.compiled=Nt(Vt)),on.compiled)){on.compiled(hn);return}const cn=this._createMaskCanvas(Vt),sn=cn.canvas;hn.save(),hn.setTransform(1,0,0,1,0,0),hn.drawImage(sn,cn.offsetX,cn.offsetY),hn.restore(),this.compose()}paintImageMaskXObjectRepeat(Vt,nn,hn=0,on=0,cn,sn){if(!this.contentVisible)return;Vt=this.getObject(Vt.data,Vt);const rn=this.ctx;rn.save();const xn=(0,At.getCurrentTransform)(rn);rn.transform(nn,hn,on,cn,0,0);const vn=this._createMaskCanvas(Vt);rn.setTransform(1,0,0,1,vn.offsetX-xn[4],vn.offsetY-xn[5]);for(let kn=0,Pn=sn.length;kn<Pn;kn+=2){const On=vt.Util.transform(xn,[nn,hn,on,cn,sn[kn],sn[kn+1]]),[_n,Sn]=vt.Util.applyTransform([0,0],On);rn.drawImage(vn.canvas,_n,Sn)}rn.restore(),this.compose()}paintImageMaskXObjectGroup(Vt){if(!this.contentVisible)return;const nn=this.ctx,hn=this.current.fillColor,on=this.current.patternFill;for(const cn of Vt){const{data:sn,width:rn,height:xn,transform:vn}=cn,kn=this.cachedCanvases.getCanvas("maskCanvas",rn,xn),Pn=kn.context;Pn.save();const On=this.getObject(sn,cn);jt(Pn,On),Pn.globalCompositeOperation="source-in",Pn.fillStyle=on?hn.getPattern(Pn,this,(0,At.getCurrentTransformInverse)(nn),St.PathType.FILL):hn,Pn.fillRect(0,0,rn,xn),Pn.restore(),nn.save(),nn.transform(...vn),nn.scale(1,-1),Kt(nn,kn.canvas,0,0,rn,xn,0,-1,1,1),nn.restore()}this.compose()}paintImageXObject(Vt){if(!this.contentVisible)return;const nn=this.getObject(Vt);if(!nn){(0,vt.warn)("Dependent image isn't ready yet");return}this.paintInlineImageXObject(nn)}paintImageXObjectRepeat(Vt,nn,hn,on){if(!this.contentVisible)return;const cn=this.getObject(Vt);if(!cn){(0,vt.warn)("Dependent image isn't ready yet");return}const sn=cn.width,rn=cn.height,xn=[];for(let vn=0,kn=on.length;vn<kn;vn+=2)xn.push({transform:[nn,0,0,hn,on[vn],on[vn+1]],x:0,y:0,w:sn,h:rn});this.paintInlineImageXObjectGroup(cn,xn)}applyTransferMapsToCanvas(Vt){return this.current.transferMaps!=="none"&&(Vt.filter=this.current.transferMaps,Vt.drawImage(Vt.canvas,0,0),Vt.filter="none"),Vt.canvas}applyTransferMapsToBitmap(Vt){if(this.current.transferMaps==="none")return Vt.bitmap;const{bitmap:nn,width:hn,height:on}=Vt,cn=this.cachedCanvases.getCanvas("inlineImage",hn,on),sn=cn.context;return sn.filter=this.current.transferMaps,sn.drawImage(nn,0,0),sn.filter="none",cn.canvas}paintInlineImageXObject(Vt){if(!this.contentVisible)return;const nn=Vt.width,hn=Vt.height,on=this.ctx;if(this.save(),!vt.isNodeJS){const{filter:rn}=on;rn!=="none"&&rn!==""&&(on.filter="none")}on.scale(1/nn,-1/hn);let cn;if(Vt.bitmap)cn=this.applyTransferMapsToBitmap(Vt);else if(typeof HTMLElement=="function"&&Vt instanceof HTMLElement||!Vt.data)cn=Vt;else{const xn=this.cachedCanvases.getCanvas("inlineImage",nn,hn).context;Lt(xn,Vt),cn=this.applyTransferMapsToCanvas(xn)}const sn=this._scaleImage(cn,(0,At.getCurrentTransformInverse)(on));on.imageSmoothingEnabled=gn((0,At.getCurrentTransform)(on),Vt.interpolate),Kt(on,sn.img,0,0,sn.paintWidth,sn.paintHeight,0,-hn,nn,hn),this.compose(),this.restore()}paintInlineImageXObjectGroup(Vt,nn){if(!this.contentVisible)return;const hn=this.ctx;let on;if(Vt.bitmap)on=Vt.bitmap;else{const cn=Vt.width,sn=Vt.height,xn=this.cachedCanvases.getCanvas("inlineImage",cn,sn).context;Lt(xn,Vt),on=this.applyTransferMapsToCanvas(xn)}for(const cn of nn)hn.save(),hn.transform(...cn.transform),hn.scale(1,-1),Kt(hn,on,cn.x,cn.y,cn.w,cn.h,0,-1,1,1),hn.restore();this.compose()}paintSolidColorImageMask(){this.contentVisible&&(this.ctx.fillRect(0,0,1,1),this.compose())}markPoint(Vt){}markPointProps(Vt,nn){}beginMarkedContent(Vt){this.markedContentStack.push({visible:!0})}beginMarkedContentProps(Vt,nn){Vt==="OC"?this.markedContentStack.push({visible:this.optionalContentConfig.isVisible(nn)}):this.markedContentStack.push({visible:!0}),this.contentVisible=this.isContentVisible()}endMarkedContent(){this.markedContentStack.pop(),this.contentVisible=this.isContentVisible()}beginCompat(){}endCompat(){}consumePath(Vt){const nn=this.current.isEmptyClip();this.pendingClip&&this.current.updateClipFromPath(),this.pendingClip||this.compose(Vt);const hn=this.ctx;this.pendingClip&&(nn||(this.pendingClip===Yt?hn.clip("evenodd"):hn.clip()),this.pendingClip=null),this.current.startNewPathAndClipBox(this.current.clipBox),hn.beginPath()}getSinglePixelWidth(){if(!this._cachedGetSinglePixelWidth){const Vt=(0,At.getCurrentTransform)(this.ctx);if(Vt[1]===0&&Vt[2]===0)this._cachedGetSinglePixelWidth=1/Math.min(Math.abs(Vt[0]),Math.abs(Vt[3]));else{const nn=Math.abs(Vt[0]*Vt[3]-Vt[2]*Vt[1]),hn=Math.hypot(Vt[0],Vt[2]),on=Math.hypot(Vt[1],Vt[3]);this._cachedGetSinglePixelWidth=Math.max(hn,on)/nn}}return this._cachedGetSinglePixelWidth}getScaleForStroking(){if(this._cachedScaleForStroking[0]===-1){const{lineWidth:Vt}=this.current,{a:nn,b:hn,c:on,d:cn}=this.ctx.getTransform();let sn,rn;if(hn===0&&on===0){const xn=Math.abs(nn),vn=Math.abs(cn);if(xn===vn)if(Vt===0)sn=rn=1/xn;else{const kn=xn*Vt;sn=rn=kn<1?1/kn:1}else if(Vt===0)sn=1/xn,rn=1/vn;else{const kn=xn*Vt,Pn=vn*Vt;sn=kn<1?1/kn:1,rn=Pn<1?1/Pn:1}}else{const xn=Math.abs(nn*cn-hn*on),vn=Math.hypot(nn,hn),kn=Math.hypot(on,cn);if(Vt===0)sn=kn/xn,rn=vn/xn;else{const Pn=Vt*xn;sn=kn>Pn?kn/Pn:1,rn=vn>Pn?vn/Pn:1}}this._cachedScaleForStroking[0]=sn,this._cachedScaleForStroking[1]=rn}return this._cachedScaleForStroking}rescaleAndStroke(Vt){const{ctx:nn}=this,{lineWidth:hn}=this.current,[on,cn]=this.getScaleForStroking();if(nn.lineWidth=hn||1,on===1&&cn===1){nn.stroke();return}const sn=nn.getLineDash();if(Vt&&nn.save(),nn.scale(on,cn),sn.length>0){const rn=Math.max(on,cn);nn.setLineDash(sn.map(xn=>xn/rn)),nn.lineDashOffset/=rn}nn.stroke(),Vt&&nn.restore()}isContentVisible(){for(let Vt=this.markedContentStack.length-1;Vt>=0;Vt--)if(!this.markedContentStack[Vt].visible)return!1;return!0}};Ut=new WeakSet,C3=function(){for(;this.stateStack.length||this.inSMaskMode;)this.restore();this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null)},k3=function(){if(this.pageColors){const Vt=this.filterFactory.addHCMFilter(this.pageColors.foreground,this.pageColors.background);if(Vt!=="none"){const nn=this.ctx.filter;this.ctx.filter=Vt,this.ctx.drawImage(this.ctx.canvas,0,0),this.ctx.filter=nn}}};let un=an;$.CanvasGraphics=un;for(const zt in vt.OPS)un.prototype[zt]!==void 0&&(un.prototype[vt.OPS[zt]]=un.prototype[zt])},(xt,$,ht)=>{Object.defineProperty($,"__esModule",{value:!0}),$.TilingPattern=$.PathType=void 0,$.getShadingPattern=bt;var vt=ht(1),At=ht(6);const St={FILL:"Fill",STROKE:"Stroke",SHADING:"Shading"};$.PathType=St;function Ct(Nt,$t){if(!$t)return;const Lt=$t[2]-$t[0],jt=$t[3]-$t[1],kt=new Path2D;kt.rect($t[0],$t[1],Lt,jt),Nt.clip(kt)}class Et{constructor(){this.constructor===Et&&(0,vt.unreachable)("Cannot initialize BaseShadingPattern.")}getPattern(){(0,vt.unreachable)("Abstract method `getPattern` called.")}}class Ft extends Et{constructor($t){super(),this._type=$t[1],this._bbox=$t[2],this._colorStops=$t[3],this._p0=$t[4],this._p1=$t[5],this._r0=$t[6],this._r1=$t[7],this.matrix=null}_createGradient($t){let Lt;this._type==="axial"?Lt=$t.createLinearGradient(this._p0[0],this._p0[1],this._p1[0],this._p1[1]):this._type==="radial"&&(Lt=$t.createRadialGradient(this._p0[0],this._p0[1],this._r0,this._p1[0],this._p1[1],this._r1));for(const jt of this._colorStops)Lt.addColorStop(jt[0],jt[1]);return Lt}getPattern($t,Lt,jt,kt){let qt;if(kt===St.STROKE||kt===St.FILL){const Bt=Lt.current.getClippedPathBoundingBox(kt,(0,At.getCurrentTransform)($t))||[0,0,0,0],Gt=Math.ceil(Bt[2]-Bt[0])||1,en=Math.ceil(Bt[3]-Bt[1])||1,dn=Lt.cachedCanvases.getCanvas("pattern",Gt,en,!0),Qt=dn.context;Qt.clearRect(0,0,Qt.canvas.width,Qt.canvas.height),Qt.beginPath(),Qt.rect(0,0,Qt.canvas.width,Qt.canvas.height),Qt.translate(-Bt[0],-Bt[1]),jt=vt.Util.transform(jt,[1,0,0,1,Bt[0],Bt[1]]),Qt.transform(...Lt.baseTransform),this.matrix&&Qt.transform(...this.matrix),Ct(Qt,this._bbox),Qt.fillStyle=this._createGradient(Qt),Qt.fill(),qt=$t.createPattern(dn.canvas,"no-repeat");const gn=new DOMMatrix(jt);qt.setTransform(gn)}else Ct($t,this._bbox),qt=this._createGradient($t);return qt}}function wt(Nt,$t,Lt,jt,kt,qt,Bt,Gt){const en=$t.coords,dn=$t.colors,Qt=Nt.data,gn=Nt.width*4;let tn;en[Lt+1]>en[jt+1]&&(tn=Lt,Lt=jt,jt=tn,tn=qt,qt=Bt,Bt=tn),en[jt+1]>en[kt+1]&&(tn=jt,jt=kt,kt=tn,tn=Bt,Bt=Gt,Gt=tn),en[Lt+1]>en[jt+1]&&(tn=Lt,Lt=jt,jt=tn,tn=qt,qt=Bt,Bt=tn);const bn=(en[Lt]+$t.offsetX)*$t.scaleX,Wt=(en[Lt+1]+$t.offsetY)*$t.scaleY,Yt=(en[jt]+$t.offsetX)*$t.scaleX,un=(en[jt+1]+$t.offsetY)*$t.scaleY,Ut=(en[kt]+$t.offsetX)*$t.scaleX,Ot=(en[kt+1]+$t.offsetY)*$t.scaleY;if(Wt>=Ot)return;const Ht=dn[qt],an=dn[qt+1],zt=dn[qt+2],Vt=dn[Bt],nn=dn[Bt+1],hn=dn[Bt+2],on=dn[Gt],cn=dn[Gt+1],sn=dn[Gt+2],rn=Math.round(Wt),xn=Math.round(Ot);let vn,kn,Pn,On,_n,Sn,mn,fn;for(let Jt=rn;Jt<=xn;Jt++){if(Jt<un){const Fn=Jt<Wt?0:(Wt-Jt)/(Wt-un);vn=bn-(bn-Yt)*Fn,kn=Ht-(Ht-Vt)*Fn,Pn=an-(an-nn)*Fn,On=zt-(zt-hn)*Fn}else{let Fn;Jt>Ot?Fn=1:un===Ot?Fn=0:Fn=(un-Jt)/(un-Ot),vn=Yt-(Yt-Ut)*Fn,kn=Vt-(Vt-on)*Fn,Pn=nn-(nn-cn)*Fn,On=hn-(hn-sn)*Fn}let ln;Jt<Wt?ln=0:Jt>Ot?ln=1:ln=(Wt-Jt)/(Wt-Ot),_n=bn-(bn-Ut)*ln,Sn=Ht-(Ht-on)*ln,mn=an-(an-cn)*ln,fn=zt-(zt-sn)*ln;const pn=Math.round(Math.min(vn,_n)),wn=Math.round(Math.max(vn,_n));let Cn=gn*Jt+pn*4;for(let Fn=pn;Fn<=wn;Fn++)ln=(vn-Fn)/(vn-_n),ln<0?ln=0:ln>1&&(ln=1),Qt[Cn++]=kn-(kn-Sn)*ln|0,Qt[Cn++]=Pn-(Pn-mn)*ln|0,Qt[Cn++]=On-(On-fn)*ln|0,Qt[Cn++]=255}}function _t(Nt,$t,Lt){const jt=$t.coords,kt=$t.colors;let qt,Bt;switch($t.type){case"lattice":const Gt=$t.verticesPerRow,en=Math.floor(jt.length/Gt)-1,dn=Gt-1;for(qt=0;qt<en;qt++){let Qt=qt*Gt;for(let gn=0;gn<dn;gn++,Qt++)wt(Nt,Lt,jt[Qt],jt[Qt+1],jt[Qt+Gt],kt[Qt],kt[Qt+1],kt[Qt+Gt]),wt(Nt,Lt,jt[Qt+Gt+1],jt[Qt+1],jt[Qt+Gt],kt[Qt+Gt+1],kt[Qt+1],kt[Qt+Gt])}break;case"triangles":for(qt=0,Bt=jt.length;qt<Bt;qt+=3)wt(Nt,Lt,jt[qt],jt[qt+1],jt[qt+2],kt[qt],kt[qt+1],kt[qt+2]);break;default:throw new Error("illegal figure")}}class Rt extends Et{constructor($t){super(),this._coords=$t[2],this._colors=$t[3],this._figures=$t[4],this._bounds=$t[5],this._bbox=$t[7],this._background=$t[8],this.matrix=null}_createMeshCanvas($t,Lt,jt){const Gt=Math.floor(this._bounds[0]),en=Math.floor(this._bounds[1]),dn=Math.ceil(this._bounds[2])-Gt,Qt=Math.ceil(this._bounds[3])-en,gn=Math.min(Math.ceil(Math.abs(dn*$t[0]*1.1)),3e3),tn=Math.min(Math.ceil(Math.abs(Qt*$t[1]*1.1)),3e3),bn=dn/gn,Wt=Qt/tn,Yt={coords:this._coords,colors:this._colors,offsetX:-Gt,offsetY:-en,scaleX:1/bn,scaleY:1/Wt},un=gn+2*2,Ut=tn+2*2,Ot=jt.getCanvas("mesh",un,Ut,!1),Ht=Ot.context,an=Ht.createImageData(gn,tn);if(Lt){const Vt=an.data;for(let nn=0,hn=Vt.length;nn<hn;nn+=4)Vt[nn]=Lt[0],Vt[nn+1]=Lt[1],Vt[nn+2]=Lt[2],Vt[nn+3]=255}for(const Vt of this._figures)_t(an,Vt,Yt);return Ht.putImageData(an,2,2),{canvas:Ot.canvas,offsetX:Gt-2*bn,offsetY:en-2*Wt,scaleX:bn,scaleY:Wt}}getPattern($t,Lt,jt,kt){Ct($t,this._bbox);let qt;if(kt===St.SHADING)qt=vt.Util.singularValueDecompose2dScale((0,At.getCurrentTransform)($t));else if(qt=vt.Util.singularValueDecompose2dScale(Lt.baseTransform),this.matrix){const Gt=vt.Util.singularValueDecompose2dScale(this.matrix);qt=[qt[0]*Gt[0],qt[1]*Gt[1]]}const Bt=this._createMeshCanvas(qt,kt===St.SHADING?null:this._background,Lt.cachedCanvases);return kt!==St.SHADING&&($t.setTransform(...Lt.baseTransform),this.matrix&&$t.transform(...this.matrix)),$t.translate(Bt.offsetX,Bt.offsetY),$t.scale(Bt.scaleX,Bt.scaleY),$t.createPattern(Bt.canvas,"no-repeat")}}class _e extends Et{getPattern(){return"hotpink"}}function bt(Nt){switch(Nt[0]){case"RadialAxial":return new Ft(Nt);case"Mesh":return new Rt(Nt);case"Dummy":return new _e}throw new Error(`Unknown IR type: ${Nt[0]}`)}const Pt={COLORED:1,UNCOLORED:2},Kt=class Kt{constructor($t,Lt,jt,kt,qt){this.operatorList=$t[2],this.matrix=$t[3]||[1,0,0,1,0,0],this.bbox=$t[4],this.xstep=$t[5],this.ystep=$t[6],this.paintType=$t[7],this.tilingType=$t[8],this.color=Lt,this.ctx=jt,this.canvasGraphicsFactory=kt,this.baseTransform=qt}createPatternCanvas($t){const Lt=this.operatorList,jt=this.bbox,kt=this.xstep,qt=this.ystep,Bt=this.paintType,Gt=this.tilingType,en=this.color,dn=this.canvasGraphicsFactory;(0,vt.info)("TilingType: "+Gt);const Qt=jt[0],gn=jt[1],tn=jt[2],bn=jt[3],Wt=vt.Util.singularValueDecompose2dScale(this.matrix),Yt=vt.Util.singularValueDecompose2dScale(this.baseTransform),un=[Wt[0]*Yt[0],Wt[1]*Yt[1]],Ut=this.getSizeAndScale(kt,this.ctx.canvas.width,un[0]),Ot=this.getSizeAndScale(qt,this.ctx.canvas.height,un[1]),Ht=$t.cachedCanvases.getCanvas("pattern",Ut.size,Ot.size,!0),an=Ht.context,zt=dn.createCanvasGraphics(an);zt.groupLevel=$t.groupLevel,this.setFillAndStrokeStyleToContext(zt,Bt,en);let Vt=Qt,nn=gn,hn=tn,on=bn;return Qt<0&&(Vt=0,hn+=Math.abs(Qt)),gn<0&&(nn=0,on+=Math.abs(gn)),an.translate(-(Ut.scale*Vt),-(Ot.scale*nn)),zt.transform(Ut.scale,0,0,Ot.scale,0,0),an.save(),this.clipBbox(zt,Vt,nn,hn,on),zt.baseTransform=(0,At.getCurrentTransform)(zt.ctx),zt.executeOperatorList(Lt),zt.endDrawing(),{canvas:Ht.canvas,scaleX:Ut.scale,scaleY:Ot.scale,offsetX:Vt,offsetY:nn}}getSizeAndScale($t,Lt,jt){$t=Math.abs($t);const kt=Math.max(Kt.MAX_PATTERN_SIZE,Lt);let qt=Math.ceil($t*jt);return qt>=kt?qt=kt:jt=qt/$t,{scale:jt,size:qt}}clipBbox($t,Lt,jt,kt,qt){const Bt=kt-Lt,Gt=qt-jt;$t.ctx.rect(Lt,jt,Bt,Gt),$t.current.updateRectMinMax((0,At.getCurrentTransform)($t.ctx),[Lt,jt,kt,qt]),$t.clip(),$t.endPath()}setFillAndStrokeStyleToContext($t,Lt,jt){const kt=$t.ctx,qt=$t.current;switch(Lt){case Pt.COLORED:const Bt=this.ctx;kt.fillStyle=Bt.fillStyle,kt.strokeStyle=Bt.strokeStyle,qt.fillColor=Bt.fillStyle,qt.strokeColor=Bt.strokeStyle;break;case Pt.UNCOLORED:const Gt=vt.Util.makeHexColor(jt[0],jt[1],jt[2]);kt.fillStyle=Gt,kt.strokeStyle=Gt,qt.fillColor=Gt,qt.strokeColor=Gt;break;default:throw new vt.FormatError(`Unsupported paint type: ${Lt}`)}}getPattern($t,Lt,jt,kt){let qt=jt;kt!==St.SHADING&&(qt=vt.Util.transform(qt,Lt.baseTransform),this.matrix&&(qt=vt.Util.transform(qt,this.matrix)));const Bt=this.createPatternCanvas(Lt);let Gt=new DOMMatrix(qt);Gt=Gt.translate(Bt.offsetX,Bt.offsetY),Gt=Gt.scale(1/Bt.scaleX,1/Bt.scaleY);const en=$t.createPattern(Bt.canvas,"repeat");return en.setTransform(Gt),en}};Ur(Kt,"MAX_PATTERN_SIZE",3e3);let Xt=Kt;$.TilingPattern=Xt},(xt,$,ht)=>{Object.defineProperty($,"__esModule",{value:!0}),$.convertBlackAndWhiteToRGBA=St,$.convertToRGBA=At,$.grayToRGBA=Et;var vt=ht(1);function At(Ft){switch(Ft.kind){case vt.ImageKind.GRAYSCALE_1BPP:return St(Ft);case vt.ImageKind.RGB_24BPP:return Ct(Ft)}return null}function St({src:Ft,srcPos:wt=0,dest:_t,width:Rt,height:_e,nonBlackColor:bt=4294967295,inverseDecode:Pt=!1}){const Xt=vt.FeatureTest.isLittleEndian?4278190080:255,[Kt,Nt]=Pt?[bt,Xt]:[Xt,bt],$t=Rt>>3,Lt=Rt&7,jt=Ft.length;_t=new Uint32Array(_t.buffer);let kt=0;for(let qt=0;qt<_e;qt++){for(const Gt=wt+$t;wt<Gt;wt++){const en=wt<jt?Ft[wt]:255;_t[kt++]=en&128?Nt:Kt,_t[kt++]=en&64?Nt:Kt,_t[kt++]=en&32?Nt:Kt,_t[kt++]=en&16?Nt:Kt,_t[kt++]=en&8?Nt:Kt,_t[kt++]=en&4?Nt:Kt,_t[kt++]=en&2?Nt:Kt,_t[kt++]=en&1?Nt:Kt}if(Lt===0)continue;const Bt=wt<jt?Ft[wt++]:255;for(let Gt=0;Gt<Lt;Gt++)_t[kt++]=Bt&1<<7-Gt?Nt:Kt}return{srcPos:wt,destPos:kt}}function Ct({src:Ft,srcPos:wt=0,dest:_t,destPos:Rt=0,width:_e,height:bt}){let Pt=0;const Xt=Ft.length>>2,Kt=new Uint32Array(Ft.buffer,wt,Xt);if(vt.FeatureTest.isLittleEndian){for(;Pt<Xt-2;Pt+=3,Rt+=4){const Nt=Kt[Pt],$t=Kt[Pt+1],Lt=Kt[Pt+2];_t[Rt]=Nt|4278190080,_t[Rt+1]=Nt>>>24|$t<<8|4278190080,_t[Rt+2]=$t>>>16|Lt<<16|4278190080,_t[Rt+3]=Lt>>>8|4278190080}for(let Nt=Pt*4,$t=Ft.length;Nt<$t;Nt+=3)_t[Rt++]=Ft[Nt]|Ft[Nt+1]<<8|Ft[Nt+2]<<16|4278190080}else{for(;Pt<Xt-2;Pt+=3,Rt+=4){const Nt=Kt[Pt],$t=Kt[Pt+1],Lt=Kt[Pt+2];_t[Rt]=Nt|255,_t[Rt+1]=Nt<<24|$t>>>8|255,_t[Rt+2]=$t<<16|Lt>>>16|255,_t[Rt+3]=Lt<<8|255}for(let Nt=Pt*4,$t=Ft.length;Nt<$t;Nt+=3)_t[Rt++]=Ft[Nt]<<24|Ft[Nt+1]<<16|Ft[Nt+2]<<8|255}return{srcPos:wt,destPos:Rt}}function Et(Ft,wt){if(vt.FeatureTest.isLittleEndian)for(let _t=0,Rt=Ft.length;_t<Rt;_t++)wt[_t]=Ft[_t]*65793|4278190080;else for(let _t=0,Rt=Ft.length;_t<Rt;_t++)wt[_t]=Ft[_t]*16843008|255}},(xt,$)=>{Object.defineProperty($,"__esModule",{value:!0}),$.GlobalWorkerOptions=void 0;const ht=Object.create(null);$.GlobalWorkerOptions=ht,ht.workerPort=null,ht.workerSrc=""},(xt,$,ht)=>{var Ft,H8,z8,_2;Object.defineProperty($,"__esModule",{value:!0}),$.MessageHandler=void 0;var vt=ht(1);const At={UNKNOWN:0,DATA:1,ERROR:2},St={UNKNOWN:0,CANCEL:1,CANCEL_COMPLETE:2,CLOSE:3,ENQUEUE:4,ERROR:5,PULL:6,PULL_COMPLETE:7,START_COMPLETE:8};function Ct(_e){switch(_e instanceof Error||typeof _e=="object"&&_e!==null||(0,vt.unreachable)('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),_e.name){case"AbortException":return new vt.AbortException(_e.message);case"MissingPDFException":return new vt.MissingPDFException(_e.message);case"PasswordException":return new vt.PasswordException(_e.message,_e.code);case"UnexpectedResponseException":return new vt.UnexpectedResponseException(_e.message,_e.status);case"UnknownErrorException":return new vt.UnknownErrorException(_e.message,_e.details);default:return new vt.UnknownErrorException(_e.message,_e.toString())}}class Et{constructor(bt,Pt,Xt){Nn(this,Ft);this.sourceName=bt,this.targetName=Pt,this.comObj=Xt,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),this._onComObjOnMessage=Kt=>{const Nt=Kt.data;if(Nt.targetName!==this.sourceName)return;if(Nt.stream){Mn(this,Ft,z8).call(this,Nt);return}if(Nt.callback){const Lt=Nt.callbackId,jt=this.callbackCapabilities[Lt];if(!jt)throw new Error(`Cannot resolve callback ${Lt}`);if(delete this.callbackCapabilities[Lt],Nt.callback===At.DATA)jt.resolve(Nt.data);else if(Nt.callback===At.ERROR)jt.reject(Ct(Nt.reason));else throw new Error("Unexpected callback case");return}const $t=this.actionHandler[Nt.action];if(!$t)throw new Error(`Unknown action from worker: ${Nt.action}`);if(Nt.callbackId){const Lt=this.sourceName,jt=Nt.sourceName;new Promise(function(kt){kt($t(Nt.data))}).then(function(kt){Xt.postMessage({sourceName:Lt,targetName:jt,callback:At.DATA,callbackId:Nt.callbackId,data:kt})},function(kt){Xt.postMessage({sourceName:Lt,targetName:jt,callback:At.ERROR,callbackId:Nt.callbackId,reason:Ct(kt)})});return}if(Nt.streamId){Mn(this,Ft,H8).call(this,Nt);return}$t(Nt.data)},Xt.addEventListener("message",this._onComObjOnMessage)}on(bt,Pt){const Xt=this.actionHandler;if(Xt[bt])throw new Error(`There is already an actionName called "${bt}"`);Xt[bt]=Pt}send(bt,Pt,Xt){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:bt,data:Pt},Xt)}sendWithPromise(bt,Pt,Xt){const Kt=this.callbackId++,Nt=new vt.PromiseCapability;this.callbackCapabilities[Kt]=Nt;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:bt,callbackId:Kt,data:Pt},Xt)}catch($t){Nt.reject($t)}return Nt.promise}sendWithStream(bt,Pt,Xt,Kt){const Nt=this.streamId++,$t=this.sourceName,Lt=this.targetName,jt=this.comObj;return new ReadableStream({start:kt=>{const qt=new vt.PromiseCapability;return this.streamControllers[Nt]={controller:kt,startCall:qt,pullCall:null,cancelCall:null,isClosed:!1},jt.postMessage({sourceName:$t,targetName:Lt,action:bt,streamId:Nt,data:Pt,desiredSize:kt.desiredSize},Kt),qt.promise},pull:kt=>{const qt=new vt.PromiseCapability;return this.streamControllers[Nt].pullCall=qt,jt.postMessage({sourceName:$t,targetName:Lt,stream:St.PULL,streamId:Nt,desiredSize:kt.desiredSize}),qt.promise},cancel:kt=>{(0,vt.assert)(kt instanceof Error,"cancel must have a valid reason");const qt=new vt.PromiseCapability;return this.streamControllers[Nt].cancelCall=qt,this.streamControllers[Nt].isClosed=!0,jt.postMessage({sourceName:$t,targetName:Lt,stream:St.CANCEL,streamId:Nt,reason:Ct(kt)}),qt.promise}},Xt)}destroy(){this.comObj.removeEventListener("message",this._onComObjOnMessage)}}Ft=new WeakSet,H8=function(bt){const Pt=bt.streamId,Xt=this.sourceName,Kt=bt.sourceName,Nt=this.comObj,$t=this,Lt=this.actionHandler[bt.action],jt={enqueue(kt,qt=1,Bt){if(this.isCancelled)return;const Gt=this.desiredSize;this.desiredSize-=qt,Gt>0&&this.desiredSize<=0&&(this.sinkCapability=new vt.PromiseCapability,this.ready=this.sinkCapability.promise),Nt.postMessage({sourceName:Xt,targetName:Kt,stream:St.ENQUEUE,streamId:Pt,chunk:kt},Bt)},close(){this.isCancelled||(this.isCancelled=!0,Nt.postMessage({sourceName:Xt,targetName:Kt,stream:St.CLOSE,streamId:Pt}),delete $t.streamSinks[Pt])},error(kt){(0,vt.assert)(kt instanceof Error,"error must have a valid reason"),!this.isCancelled&&(this.isCancelled=!0,Nt.postMessage({sourceName:Xt,targetName:Kt,stream:St.ERROR,streamId:Pt,reason:Ct(kt)}))},sinkCapability:new vt.PromiseCapability,onPull:null,onCancel:null,isCancelled:!1,desiredSize:bt.desiredSize,ready:null};jt.sinkCapability.resolve(),jt.ready=jt.sinkCapability.promise,this.streamSinks[Pt]=jt,new Promise(function(kt){kt(Lt(bt.data,jt))}).then(function(){Nt.postMessage({sourceName:Xt,targetName:Kt,stream:St.START_COMPLETE,streamId:Pt,success:!0})},function(kt){Nt.postMessage({sourceName:Xt,targetName:Kt,stream:St.START_COMPLETE,streamId:Pt,reason:Ct(kt)})})},z8=function(bt){const Pt=bt.streamId,Xt=this.sourceName,Kt=bt.sourceName,Nt=this.comObj,$t=this.streamControllers[Pt],Lt=this.streamSinks[Pt];switch(bt.stream){case St.START_COMPLETE:bt.success?$t.startCall.resolve():$t.startCall.reject(Ct(bt.reason));break;case St.PULL_COMPLETE:bt.success?$t.pullCall.resolve():$t.pullCall.reject(Ct(bt.reason));break;case St.PULL:if(!Lt){Nt.postMessage({sourceName:Xt,targetName:Kt,stream:St.PULL_COMPLETE,streamId:Pt,success:!0});break}Lt.desiredSize<=0&&bt.desiredSize>0&&Lt.sinkCapability.resolve(),Lt.desiredSize=bt.desiredSize,new Promise(function(jt){var kt;jt((kt=Lt.onPull)==null?void 0:kt.call(Lt))}).then(function(){Nt.postMessage({sourceName:Xt,targetName:Kt,stream:St.PULL_COMPLETE,streamId:Pt,success:!0})},function(jt){Nt.postMessage({sourceName:Xt,targetName:Kt,stream:St.PULL_COMPLETE,streamId:Pt,reason:Ct(jt)})});break;case St.ENQUEUE:if((0,vt.assert)($t,"enqueue should have stream controller"),$t.isClosed)break;$t.controller.enqueue(bt.chunk);break;case St.CLOSE:if((0,vt.assert)($t,"close should have stream controller"),$t.isClosed)break;$t.isClosed=!0,$t.controller.close(),Mn(this,Ft,_2).call(this,$t,Pt);break;case St.ERROR:(0,vt.assert)($t,"error should have stream controller"),$t.controller.error(Ct(bt.reason)),Mn(this,Ft,_2).call(this,$t,Pt);break;case St.CANCEL_COMPLETE:bt.success?$t.cancelCall.resolve():$t.cancelCall.reject(Ct(bt.reason)),Mn(this,Ft,_2).call(this,$t,Pt);break;case St.CANCEL:if(!Lt)break;new Promise(function(jt){var kt;jt((kt=Lt.onCancel)==null?void 0:kt.call(Lt,Ct(bt.reason)))}).then(function(){Nt.postMessage({sourceName:Xt,targetName:Kt,stream:St.CANCEL_COMPLETE,streamId:Pt,success:!0})},function(jt){Nt.postMessage({sourceName:Xt,targetName:Kt,stream:St.CANCEL_COMPLETE,streamId:Pt,reason:Ct(jt)})}),Lt.sinkCapability.reject(Ct(bt.reason)),Lt.isCancelled=!0,delete this.streamSinks[Pt];break;default:throw new Error("Unexpected stream case")}},_2=async function(bt,Pt){var Xt,Kt,Nt;await Promise.allSettled([(Xt=bt.startCall)==null?void 0:Xt.promise,(Kt=bt.pullCall)==null?void 0:Kt.promise,(Nt=bt.cancelCall)==null?void 0:Nt.promise]),delete this.streamControllers[Pt]},$.MessageHandler=Et},(xt,$,ht)=>{var St,Ct;Object.defineProperty($,"__esModule",{value:!0}),$.Metadata=void 0;var vt=ht(1);class At{constructor({parsedData:Ft,rawData:wt}){Nn(this,St);Nn(this,Ct);$n(this,St,Ft),$n(this,Ct,wt)}getRaw(){return Mt(this,Ct)}get(Ft){return Mt(this,St).get(Ft)??null}getAll(){return(0,vt.objectFromMap)(Mt(this,St))}has(Ft){return Mt(this,St).has(Ft)}}St=new WeakMap,Ct=new WeakMap,$.Metadata=At},(xt,$,ht)=>{var Ft,wt,_t,Rt,_e,bt,T3;Object.defineProperty($,"__esModule",{value:!0}),$.OptionalContentConfig=void 0;var vt=ht(1),At=ht(8);const St=Symbol("INTERNAL");class Ct{constructor(Kt,Nt){Nn(this,Ft,!0);this.name=Kt,this.intent=Nt}get visible(){return Mt(this,Ft)}_setVisible(Kt,Nt){Kt!==St&&(0,vt.unreachable)("Internal method `_setVisible` called."),$n(this,Ft,Nt)}}Ft=new WeakMap;class Et{constructor(Kt){Nn(this,bt);Nn(this,wt,null);Nn(this,_t,new Map);Nn(this,Rt,null);Nn(this,_e,null);if(this.name=null,this.creator=null,Kt!==null){this.name=Kt.name,this.creator=Kt.creator,$n(this,_e,Kt.order);for(const Nt of Kt.groups)Mt(this,_t).set(Nt.id,new Ct(Nt.name,Nt.intent));if(Kt.baseState==="OFF")for(const Nt of Mt(this,_t).values())Nt._setVisible(St,!1);for(const Nt of Kt.on)Mt(this,_t).get(Nt)._setVisible(St,!0);for(const Nt of Kt.off)Mt(this,_t).get(Nt)._setVisible(St,!1);$n(this,Rt,this.getHash())}}isVisible(Kt){if(Mt(this,_t).size===0)return!0;if(!Kt)return(0,vt.warn)("Optional content group not defined."),!0;if(Kt.type==="OCG")return Mt(this,_t).has(Kt.id)?Mt(this,_t).get(Kt.id).visible:((0,vt.warn)(`Optional content group not found: ${Kt.id}`),!0);if(Kt.type==="OCMD"){if(Kt.expression)return Mn(this,bt,T3).call(this,Kt.expression);if(!Kt.policy||Kt.policy==="AnyOn"){for(const Nt of Kt.ids){if(!Mt(this,_t).has(Nt))return(0,vt.warn)(`Optional content group not found: ${Nt}`),!0;if(Mt(this,_t).get(Nt).visible)return!0}return!1}else if(Kt.policy==="AllOn"){for(const Nt of Kt.ids){if(!Mt(this,_t).has(Nt))return(0,vt.warn)(`Optional content group not found: ${Nt}`),!0;if(!Mt(this,_t).get(Nt).visible)return!1}return!0}else if(Kt.policy==="AnyOff"){for(const Nt of Kt.ids){if(!Mt(this,_t).has(Nt))return(0,vt.warn)(`Optional content group not found: ${Nt}`),!0;if(!Mt(this,_t).get(Nt).visible)return!0}return!1}else if(Kt.policy==="AllOff"){for(const Nt of Kt.ids){if(!Mt(this,_t).has(Nt))return(0,vt.warn)(`Optional content group not found: ${Nt}`),!0;if(Mt(this,_t).get(Nt).visible)return!1}return!0}return(0,vt.warn)(`Unknown optional content policy ${Kt.policy}.`),!0}return(0,vt.warn)(`Unknown group type ${Kt.type}.`),!0}setVisibility(Kt,Nt=!0){if(!Mt(this,_t).has(Kt)){(0,vt.warn)(`Optional content group not found: ${Kt}`);return}Mt(this,_t).get(Kt)._setVisible(St,!!Nt),$n(this,wt,null)}get hasInitialVisibility(){return Mt(this,Rt)===null||this.getHash()===Mt(this,Rt)}getOrder(){return Mt(this,_t).size?Mt(this,_e)?Mt(this,_e).slice():[...Mt(this,_t).keys()]:null}getGroups(){return Mt(this,_t).size>0?(0,vt.objectFromMap)(Mt(this,_t)):null}getGroup(Kt){return Mt(this,_t).get(Kt)||null}getHash(){if(Mt(this,wt)!==null)return Mt(this,wt);const Kt=new At.MurmurHash3_64;for(const[Nt,$t]of Mt(this,_t))Kt.update(`${Nt}:${$t.visible}`);return $n(this,wt,Kt.hexdigest())}}wt=new WeakMap,_t=new WeakMap,Rt=new WeakMap,_e=new WeakMap,bt=new WeakSet,T3=function(Kt){const Nt=Kt.length;if(Nt<2)return!0;const $t=Kt[0];for(let Lt=1;Lt<Nt;Lt++){const jt=Kt[Lt];let kt;if(Array.isArray(jt))kt=Mn(this,bt,T3).call(this,jt);else if(Mt(this,_t).has(jt))kt=Mt(this,_t).get(jt).visible;else return(0,vt.warn)(`Optional content group not found: ${jt}`),!0;switch($t){case"And":if(!kt)return!1;break;case"Or":if(kt)return!0;break;case"Not":return!kt;default:return!0}}return $t==="And"},$.OptionalContentConfig=Et},(xt,$,ht)=>{Object.defineProperty($,"__esModule",{value:!0}),$.PDFDataTransportStream=void 0;var vt=ht(1),At=ht(6);class St{constructor({length:wt,initialData:_t,progressiveDone:Rt=!1,contentDispositionFilename:_e=null,disableRange:bt=!1,disableStream:Pt=!1},Xt){if((0,vt.assert)(Xt,'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.'),this._queuedChunks=[],this._progressiveDone=Rt,this._contentDispositionFilename=_e,(_t==null?void 0:_t.length)>0){const Kt=_t instanceof Uint8Array&&_t.byteLength===_t.buffer.byteLength?_t.buffer:new Uint8Array(_t).buffer;this._queuedChunks.push(Kt)}this._pdfDataRangeTransport=Xt,this._isStreamingSupported=!Pt,this._isRangeSupported=!bt,this._contentLength=wt,this._fullRequestReader=null,this._rangeReaders=[],this._pdfDataRangeTransport.addRangeListener((Kt,Nt)=>{this._onReceiveData({begin:Kt,chunk:Nt})}),this._pdfDataRangeTransport.addProgressListener((Kt,Nt)=>{this._onProgress({loaded:Kt,total:Nt})}),this._pdfDataRangeTransport.addProgressiveReadListener(Kt=>{this._onReceiveData({chunk:Kt})}),this._pdfDataRangeTransport.addProgressiveDoneListener(()=>{this._onProgressiveDone()}),this._pdfDataRangeTransport.transportReady()}_onReceiveData({begin:wt,chunk:_t}){const Rt=_t instanceof Uint8Array&&_t.byteLength===_t.buffer.byteLength?_t.buffer:new Uint8Array(_t).buffer;if(wt===void 0)this._fullRequestReader?this._fullRequestReader._enqueue(Rt):this._queuedChunks.push(Rt);else{const _e=this._rangeReaders.some(function(bt){return bt._begin!==wt?!1:(bt._enqueue(Rt),!0)});(0,vt.assert)(_e,"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.")}}get _progressiveDataLength(){var wt;return((wt=this._fullRequestReader)==null?void 0:wt._loaded)??0}_onProgress(wt){var _t,Rt,_e,bt;wt.total===void 0?(Rt=(_t=this._rangeReaders[0])==null?void 0:_t.onProgress)==null||Rt.call(_t,{loaded:wt.loaded}):(bt=(_e=this._fullRequestReader)==null?void 0:_e.onProgress)==null||bt.call(_e,{loaded:wt.loaded,total:wt.total})}_onProgressiveDone(){var wt;(wt=this._fullRequestReader)==null||wt.progressiveDone(),this._progressiveDone=!0}_removeRangeReader(wt){const _t=this._rangeReaders.indexOf(wt);_t>=0&&this._rangeReaders.splice(_t,1)}getFullReader(){(0,vt.assert)(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");const wt=this._queuedChunks;return this._queuedChunks=null,new Ct(this,wt,this._progressiveDone,this._contentDispositionFilename)}getRangeReader(wt,_t){if(_t<=this._progressiveDataLength)return null;const Rt=new Et(this,wt,_t);return this._pdfDataRangeTransport.requestDataRange(wt,_t),this._rangeReaders.push(Rt),Rt}cancelAllRequests(wt){var _t;(_t=this._fullRequestReader)==null||_t.cancel(wt);for(const Rt of this._rangeReaders.slice(0))Rt.cancel(wt);this._pdfDataRangeTransport.abort()}}$.PDFDataTransportStream=St;class Ct{constructor(wt,_t,Rt=!1,_e=null){this._stream=wt,this._done=Rt||!1,this._filename=(0,At.isPdfFile)(_e)?_e:null,this._queuedChunks=_t||[],this._loaded=0;for(const bt of this._queuedChunks)this._loaded+=bt.byteLength;this._requests=[],this._headersReady=Promise.resolve(),wt._fullRequestReader=this,this.onProgress=null}_enqueue(wt){this._done||(this._requests.length>0?this._requests.shift().resolve({value:wt,done:!1}):this._queuedChunks.push(wt),this._loaded+=wt.byteLength)}get headersReady(){return this._headersReady}get filename(){return this._filename}get isRangeSupported(){return this._stream._isRangeSupported}get isStreamingSupported(){return this._stream._isStreamingSupported}get contentLength(){return this._stream._contentLength}async read(){if(this._queuedChunks.length>0)return{value:this._queuedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const wt=new vt.PromiseCapability;return this._requests.push(wt),wt.promise}cancel(wt){this._done=!0;for(const _t of this._requests)_t.resolve({value:void 0,done:!0});this._requests.length=0}progressiveDone(){this._done||(this._done=!0)}}class Et{constructor(wt,_t,Rt){this._stream=wt,this._begin=_t,this._end=Rt,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}_enqueue(wt){if(!this._done){if(this._requests.length===0)this._queuedChunk=wt;else{this._requests.shift().resolve({value:wt,done:!1});for(const Rt of this._requests)Rt.resolve({value:void 0,done:!0});this._requests.length=0}this._done=!0,this._stream._removeRangeReader(this)}}get isStreamingSupported(){return!1}async read(){if(this._queuedChunk){const _t=this._queuedChunk;return this._queuedChunk=null,{value:_t,done:!1}}if(this._done)return{value:void 0,done:!0};const wt=new vt.PromiseCapability;return this._requests.push(wt),wt.promise}cancel(wt){this._done=!0;for(const _t of this._requests)_t.resolve({value:void 0,done:!0});this._requests.length=0,this._stream._removeRangeReader(this)}}},(xt,$,ht)=>{Object.defineProperty($,"__esModule",{value:!0}),$.PDFFetchStream=void 0;var vt=ht(1),At=ht(20);function St(Rt,_e,bt){return{method:"GET",headers:Rt,signal:bt.signal,mode:"cors",credentials:_e?"include":"same-origin",redirect:"follow"}}function Ct(Rt){const _e=new Headers;for(const bt in Rt){const Pt=Rt[bt];Pt!==void 0&&_e.append(bt,Pt)}return _e}function Et(Rt){return Rt instanceof Uint8Array?Rt.buffer:Rt instanceof ArrayBuffer?Rt:((0,vt.warn)(`getArrayBuffer - unexpected data format: ${Rt}`),new Uint8Array(Rt).buffer)}class Ft{constructor(_e){this.source=_e,this.isHttp=/^https?:/i.test(_e.url),this.httpHeaders=this.isHttp&&_e.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var _e;return((_e=this._fullRequestReader)==null?void 0:_e._loaded)??0}getFullReader(){return(0,vt.assert)(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once."),this._fullRequestReader=new wt(this),this._fullRequestReader}getRangeReader(_e,bt){if(bt<=this._progressiveDataLength)return null;const Pt=new _t(this,_e,bt);return this._rangeRequestReaders.push(Pt),Pt}cancelAllRequests(_e){var bt;(bt=this._fullRequestReader)==null||bt.cancel(_e);for(const Pt of this._rangeRequestReaders.slice(0))Pt.cancel(_e)}}$.PDFFetchStream=Ft;class wt{constructor(_e){this._stream=_e,this._reader=null,this._loaded=0,this._filename=null;const bt=_e.source;this._withCredentials=bt.withCredentials||!1,this._contentLength=bt.length,this._headersCapability=new vt.PromiseCapability,this._disableRange=bt.disableRange||!1,this._rangeChunkSize=bt.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._abortController=new AbortController,this._isStreamingSupported=!bt.disableStream,this._isRangeSupported=!bt.disableRange,this._headers=Ct(this._stream.httpHeaders);const Pt=bt.url;fetch(Pt,St(this._headers,this._withCredentials,this._abortController)).then(Xt=>{if(!(0,At.validateResponseStatus)(Xt.status))throw(0,At.createResponseStatusError)(Xt.status,Pt);this._reader=Xt.body.getReader(),this._headersCapability.resolve();const Kt=Lt=>Xt.headers.get(Lt),{allowRangeRequests:Nt,suggestedLength:$t}=(0,At.validateRangeRequestCapabilities)({getResponseHeader:Kt,isHttp:this._stream.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=Nt,this._contentLength=$t||this._contentLength,this._filename=(0,At.extractFilenameFromHeader)(Kt),!this._isStreamingSupported&&this._isRangeSupported&&this.cancel(new vt.AbortException("Streaming is disabled."))}).catch(this._headersCapability.reject),this.onProgress=null}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var Pt;await this._headersCapability.promise;const{value:_e,done:bt}=await this._reader.read();return bt?{value:_e,done:bt}:(this._loaded+=_e.byteLength,(Pt=this.onProgress)==null||Pt.call(this,{loaded:this._loaded,total:this._contentLength}),{value:Et(_e),done:!1})}cancel(_e){var bt;(bt=this._reader)==null||bt.cancel(_e),this._abortController.abort()}}class _t{constructor(_e,bt,Pt){this._stream=_e,this._reader=null,this._loaded=0;const Xt=_e.source;this._withCredentials=Xt.withCredentials||!1,this._readCapability=new vt.PromiseCapability,this._isStreamingSupported=!Xt.disableStream,this._abortController=new AbortController,this._headers=Ct(this._stream.httpHeaders),this._headers.append("Range",`bytes=${bt}-${Pt-1}`);const Kt=Xt.url;fetch(Kt,St(this._headers,this._withCredentials,this._abortController)).then(Nt=>{if(!(0,At.validateResponseStatus)(Nt.status))throw(0,At.createResponseStatusError)(Nt.status,Kt);this._readCapability.resolve(),this._reader=Nt.body.getReader()}).catch(this._readCapability.reject),this.onProgress=null}get isStreamingSupported(){return this._isStreamingSupported}async read(){var Pt;await this._readCapability.promise;const{value:_e,done:bt}=await this._reader.read();return bt?{value:_e,done:bt}:(this._loaded+=_e.byteLength,(Pt=this.onProgress)==null||Pt.call(this,{loaded:this._loaded}),{value:Et(_e),done:!1})}cancel(_e){var bt;(bt=this._reader)==null||bt.cancel(_e),this._abortController.abort()}}},(xt,$,ht)=>{Object.defineProperty($,"__esModule",{value:!0}),$.createResponseStatusError=Ft,$.extractFilenameFromHeader=Et,$.validateRangeRequestCapabilities=Ct,$.validateResponseStatus=wt;var vt=ht(1),At=ht(21),St=ht(6);function Ct({getResponseHeader:_t,isHttp:Rt,rangeChunkSize:_e,disableRange:bt}){const Pt={allowRangeRequests:!1,suggestedLength:void 0},Xt=parseInt(_t("Content-Length"),10);return!Number.isInteger(Xt)||(Pt.suggestedLength=Xt,Xt<=2*_e)||bt||!Rt||_t("Accept-Ranges")!=="bytes"||(_t("Content-Encoding")||"identity")!=="identity"||(Pt.allowRangeRequests=!0),Pt}function Et(_t){const Rt=_t("Content-Disposition");if(Rt){let _e=(0,At.getFilenameFromContentDispositionHeader)(Rt);if(_e.includes("%"))try{_e=decodeURIComponent(_e)}catch{}if((0,St.isPdfFile)(_e))return _e}return null}function Ft(_t,Rt){return _t===404||_t===0&&Rt.startsWith("file:")?new vt.MissingPDFException('Missing PDF "'+Rt+'".'):new vt.UnexpectedResponseException(`Unexpected server response (${_t}) while retrieving PDF "${Rt}".`,_t)}function wt(_t){return _t===200||_t===206}},(xt,$,ht)=>{Object.defineProperty($,"__esModule",{value:!0}),$.getFilenameFromContentDispositionHeader=At;var vt=ht(1);function At(St){let Ct=!0,Et=Ft("filename\\*","i").exec(St);if(Et){Et=Et[1];let Xt=_e(Et);return Xt=unescape(Xt),Xt=bt(Xt),Xt=Pt(Xt),_t(Xt)}if(Et=Rt(St),Et){const Xt=Pt(Et);return _t(Xt)}if(Et=Ft("filename","i").exec(St),Et){Et=Et[1];let Xt=_e(Et);return Xt=Pt(Xt),_t(Xt)}function Ft(Xt,Kt){return new RegExp("(?:^|;)\\s*"+Xt+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',Kt)}function wt(Xt,Kt){if(Xt){if(!/^[\x00-\xFF]+$/.test(Kt))return Kt;try{const Nt=new TextDecoder(Xt,{fatal:!0}),$t=(0,vt.stringToBytes)(Kt);Kt=Nt.decode($t),Ct=!1}catch{}}return Kt}function _t(Xt){return Ct&&/[\x80-\xff]/.test(Xt)&&(Xt=wt("utf-8",Xt),Ct&&(Xt=wt("iso-8859-1",Xt))),Xt}function Rt(Xt){const Kt=[];let Nt;const $t=Ft("filename\\*((?!0\\d)\\d+)(\\*?)","ig");for(;(Nt=$t.exec(Xt))!==null;){let[,jt,kt,qt]=Nt;if(jt=parseInt(jt,10),jt in Kt){if(jt===0)break;continue}Kt[jt]=[kt,qt]}const Lt=[];for(let jt=0;jt<Kt.length&&jt in Kt;++jt){let[kt,qt]=Kt[jt];qt=_e(qt),kt&&(qt=unescape(qt),jt===0&&(qt=bt(qt))),Lt.push(qt)}return Lt.join("")}function _e(Xt){if(Xt.startsWith('"')){const Kt=Xt.slice(1).split('\\"');for(let Nt=0;Nt<Kt.length;++Nt){const $t=Kt[Nt].indexOf('"');$t!==-1&&(Kt[Nt]=Kt[Nt].slice(0,$t),Kt.length=Nt+1),Kt[Nt]=Kt[Nt].replaceAll(/\\(.)/g,"$1")}Xt=Kt.join('"')}return Xt}function bt(Xt){const Kt=Xt.indexOf("'");if(Kt===-1)return Xt;const Nt=Xt.slice(0,Kt),Lt=Xt.slice(Kt+1).replace(/^[^']*'/,"");return wt(Nt,Lt)}function Pt(Xt){return!Xt.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(Xt)?Xt:Xt.replaceAll(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,function(Kt,Nt,$t,Lt){if($t==="q"||$t==="Q")return Lt=Lt.replaceAll("_"," "),Lt=Lt.replaceAll(/=([0-9a-fA-F]{2})/g,function(jt,kt){return String.fromCharCode(parseInt(kt,16))}),wt(Nt,Lt);try{Lt=atob(Lt)}catch{}return wt(Nt,Lt)})}return""}},(xt,$,ht)=>{Object.defineProperty($,"__esModule",{value:!0}),$.PDFNetworkStream=void 0;var vt=ht(1),At=ht(20);const St=200,Ct=206;function Et(_e){const bt=_e.response;return typeof bt!="string"?bt:(0,vt.stringToBytes)(bt).buffer}class Ft{constructor(bt,Pt={}){this.url=bt,this.isHttp=/^https?:/i.test(bt),this.httpHeaders=this.isHttp&&Pt.httpHeaders||Object.create(null),this.withCredentials=Pt.withCredentials||!1,this.currXhrId=0,this.pendingRequests=Object.create(null)}requestRange(bt,Pt,Xt){const Kt={begin:bt,end:Pt};for(const Nt in Xt)Kt[Nt]=Xt[Nt];return this.request(Kt)}requestFull(bt){return this.request(bt)}request(bt){const Pt=new XMLHttpRequest,Xt=this.currXhrId++,Kt=this.pendingRequests[Xt]={xhr:Pt};Pt.open("GET",this.url),Pt.withCredentials=this.withCredentials;for(const Nt in this.httpHeaders){const $t=this.httpHeaders[Nt];$t!==void 0&&Pt.setRequestHeader(Nt,$t)}return this.isHttp&&"begin"in bt&&"end"in bt?(Pt.setRequestHeader("Range",`bytes=${bt.begin}-${bt.end-1}`),Kt.expectedStatus=Ct):Kt.expectedStatus=St,Pt.responseType="arraybuffer",bt.onError&&(Pt.onerror=function(Nt){bt.onError(Pt.status)}),Pt.onreadystatechange=this.onStateChange.bind(this,Xt),Pt.onprogress=this.onProgress.bind(this,Xt),Kt.onHeadersReceived=bt.onHeadersReceived,Kt.onDone=bt.onDone,Kt.onError=bt.onError,Kt.onProgress=bt.onProgress,Pt.send(null),Xt}onProgress(bt,Pt){var Kt;const Xt=this.pendingRequests[bt];Xt&&((Kt=Xt.onProgress)==null||Kt.call(Xt,Pt))}onStateChange(bt,Pt){var jt,kt,qt;const Xt=this.pendingRequests[bt];if(!Xt)return;const Kt=Xt.xhr;if(Kt.readyState>=2&&Xt.onHeadersReceived&&(Xt.onHeadersReceived(),delete Xt.onHeadersReceived),Kt.readyState!==4||!(bt in this.pendingRequests))return;if(delete this.pendingRequests[bt],Kt.status===0&&this.isHttp){(jt=Xt.onError)==null||jt.call(Xt,Kt.status);return}const Nt=Kt.status||St;if(!(Nt===St&&Xt.expectedStatus===Ct)&&Nt!==Xt.expectedStatus){(kt=Xt.onError)==null||kt.call(Xt,Kt.status);return}const Lt=Et(Kt);if(Nt===Ct){const Bt=Kt.getResponseHeader("Content-Range"),Gt=/bytes (\d+)-(\d+)\/(\d+)/.exec(Bt);Xt.onDone({begin:parseInt(Gt[1],10),chunk:Lt})}else Lt?Xt.onDone({begin:0,chunk:Lt}):(qt=Xt.onError)==null||qt.call(Xt,Kt.status)}getRequestXhr(bt){return this.pendingRequests[bt].xhr}isPendingRequest(bt){return bt in this.pendingRequests}abortRequest(bt){const Pt=this.pendingRequests[bt].xhr;delete this.pendingRequests[bt],Pt.abort()}}class wt{constructor(bt){this._source=bt,this._manager=new Ft(bt.url,{httpHeaders:bt.httpHeaders,withCredentials:bt.withCredentials}),this._rangeChunkSize=bt.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}_onRangeRequestReaderClosed(bt){const Pt=this._rangeRequestReaders.indexOf(bt);Pt>=0&&this._rangeRequestReaders.splice(Pt,1)}getFullReader(){return(0,vt.assert)(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once."),this._fullRequestReader=new _t(this._manager,this._source),this._fullRequestReader}getRangeReader(bt,Pt){const Xt=new Rt(this._manager,bt,Pt);return Xt.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(Xt),Xt}cancelAllRequests(bt){var Pt;(Pt=this._fullRequestReader)==null||Pt.cancel(bt);for(const Xt of this._rangeRequestReaders.slice(0))Xt.cancel(bt)}}$.PDFNetworkStream=wt;class _t{constructor(bt,Pt){this._manager=bt;const Xt={onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=Pt.url,this._fullRequestId=bt.requestFull(Xt),this._headersReceivedCapability=new vt.PromiseCapability,this._disableRange=Pt.disableRange||!1,this._contentLength=Pt.length,this._rangeChunkSize=Pt.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}_onHeadersReceived(){const bt=this._fullRequestId,Pt=this._manager.getRequestXhr(bt),Xt=$t=>Pt.getResponseHeader($t),{allowRangeRequests:Kt,suggestedLength:Nt}=(0,At.validateRangeRequestCapabilities)({getResponseHeader:Xt,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});Kt&&(this._isRangeSupported=!0),this._contentLength=Nt||this._contentLength,this._filename=(0,At.extractFilenameFromHeader)(Xt),this._isRangeSupported&&this._manager.abortRequest(bt),this._headersReceivedCapability.resolve()}_onDone(bt){if(bt&&(this._requests.length>0?this._requests.shift().resolve({value:bt.chunk,done:!1}):this._cachedChunks.push(bt.chunk)),this._done=!0,!(this._cachedChunks.length>0)){for(const Pt of this._requests)Pt.resolve({value:void 0,done:!0});this._requests.length=0}}_onError(bt){this._storedError=(0,At.createResponseStatusError)(bt,this._url),this._headersReceivedCapability.reject(this._storedError);for(const Pt of this._requests)Pt.reject(this._storedError);this._requests.length=0,this._cachedChunks.length=0}_onProgress(bt){var Pt;(Pt=this.onProgress)==null||Pt.call(this,{loaded:bt.loaded,total:bt.lengthComputable?bt.total:this._contentLength})}get filename(){return this._filename}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}get contentLength(){return this._contentLength}get headersReady(){return this._headersReceivedCapability.promise}async read(){if(this._storedError)throw this._storedError;if(this._cachedChunks.length>0)return{value:this._cachedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const bt=new vt.PromiseCapability;return this._requests.push(bt),bt.promise}cancel(bt){this._done=!0,this._headersReceivedCapability.reject(bt);for(const Pt of this._requests)Pt.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}}class Rt{constructor(bt,Pt,Xt){this._manager=bt;const Kt={onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=bt.url,this._requestId=bt.requestRange(Pt,Xt,Kt),this._requests=[],this._queuedChunk=null,this._done=!1,this._storedError=void 0,this.onProgress=null,this.onClosed=null}_close(){var bt;(bt=this.onClosed)==null||bt.call(this,this)}_onDone(bt){const Pt=bt.chunk;this._requests.length>0?this._requests.shift().resolve({value:Pt,done:!1}):this._queuedChunk=Pt,this._done=!0;for(const Xt of this._requests)Xt.resolve({value:void 0,done:!0});this._requests.length=0,this._close()}_onError(bt){this._storedError=(0,At.createResponseStatusError)(bt,this._url);for(const Pt of this._requests)Pt.reject(this._storedError);this._requests.length=0,this._queuedChunk=null}_onProgress(bt){var Pt;this.isStreamingSupported||(Pt=this.onProgress)==null||Pt.call(this,{loaded:bt.loaded})}get isStreamingSupported(){return!1}async read(){if(this._storedError)throw this._storedError;if(this._queuedChunk!==null){const Pt=this._queuedChunk;return this._queuedChunk=null,{value:Pt,done:!1}}if(this._done)return{value:void 0,done:!0};const bt=new vt.PromiseCapability;return this._requests.push(bt),bt.promise}cancel(bt){this._done=!0;for(const Pt of this._requests)Pt.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}}},(xt,$,ht)=>{Object.defineProperty($,"__esModule",{value:!0}),$.PDFNodeStream=void 0;var vt=ht(1),At=ht(20);const St=/^file:\/\/\/[a-zA-Z]:\//;function Ct(Xt){const Kt=require$$5,Nt=Kt.parse(Xt);return Nt.protocol==="file:"||Nt.host?Nt:/^[a-z]:[/\\]/i.test(Xt)?Kt.parse(`file:///${Xt}`):(Nt.host||(Nt.protocol="file:"),Nt)}class Et{constructor(Kt){this.source=Kt,this.url=Ct(Kt.url),this.isHttp=this.url.protocol==="http:"||this.url.protocol==="https:",this.isFsUrl=this.url.protocol==="file:",this.httpHeaders=this.isHttp&&Kt.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var Kt;return((Kt=this._fullRequestReader)==null?void 0:Kt._loaded)??0}getFullReader(){return(0,vt.assert)(!this._fullRequestReader,"PDFNodeStream.getFullReader can only be called once."),this._fullRequestReader=this.isFsUrl?new bt(this):new Rt(this),this._fullRequestReader}getRangeReader(Kt,Nt){if(Nt<=this._progressiveDataLength)return null;const $t=this.isFsUrl?new Pt(this,Kt,Nt):new _e(this,Kt,Nt);return this._rangeRequestReaders.push($t),$t}cancelAllRequests(Kt){var Nt;(Nt=this._fullRequestReader)==null||Nt.cancel(Kt);for(const $t of this._rangeRequestReaders.slice(0))$t.cancel(Kt)}}$.PDFNodeStream=Et;class Ft{constructor(Kt){this._url=Kt.url,this._done=!1,this._storedError=null,this.onProgress=null;const Nt=Kt.source;this._contentLength=Nt.length,this._loaded=0,this._filename=null,this._disableRange=Nt.disableRange||!1,this._rangeChunkSize=Nt.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!Nt.disableStream,this._isRangeSupported=!Nt.disableRange,this._readableStream=null,this._readCapability=new vt.PromiseCapability,this._headersCapability=new vt.PromiseCapability}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var $t;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const Kt=this._readableStream.read();return Kt===null?(this._readCapability=new vt.PromiseCapability,this.read()):(this._loaded+=Kt.length,($t=this.onProgress)==null||$t.call(this,{loaded:this._loaded,total:this._contentLength}),{value:new Uint8Array(Kt).buffer,done:!1})}cancel(Kt){if(!this._readableStream){this._error(Kt);return}this._readableStream.destroy(Kt)}_error(Kt){this._storedError=Kt,this._readCapability.resolve()}_setReadableStream(Kt){this._readableStream=Kt,Kt.on("readable",()=>{this._readCapability.resolve()}),Kt.on("end",()=>{Kt.destroy(),this._done=!0,this._readCapability.resolve()}),Kt.on("error",Nt=>{this._error(Nt)}),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new vt.AbortException("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}}class wt{constructor(Kt){this._url=Kt.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=new vt.PromiseCapability;const Nt=Kt.source;this._isStreamingSupported=!Nt.disableStream}get isStreamingSupported(){return this._isStreamingSupported}async read(){var $t;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const Kt=this._readableStream.read();return Kt===null?(this._readCapability=new vt.PromiseCapability,this.read()):(this._loaded+=Kt.length,($t=this.onProgress)==null||$t.call(this,{loaded:this._loaded}),{value:new Uint8Array(Kt).buffer,done:!1})}cancel(Kt){if(!this._readableStream){this._error(Kt);return}this._readableStream.destroy(Kt)}_error(Kt){this._storedError=Kt,this._readCapability.resolve()}_setReadableStream(Kt){this._readableStream=Kt,Kt.on("readable",()=>{this._readCapability.resolve()}),Kt.on("end",()=>{Kt.destroy(),this._done=!0,this._readCapability.resolve()}),Kt.on("error",Nt=>{this._error(Nt)}),this._storedError&&this._readableStream.destroy(this._storedError)}}function _t(Xt,Kt){return{protocol:Xt.protocol,auth:Xt.auth,host:Xt.hostname,port:Xt.port,path:Xt.path,method:"GET",headers:Kt}}class Rt extends Ft{constructor(Kt){super(Kt);const Nt=$t=>{if($t.statusCode===404){const qt=new vt.MissingPDFException(`Missing PDF "${this._url}".`);this._storedError=qt,this._headersCapability.reject(qt);return}this._headersCapability.resolve(),this._setReadableStream($t);const Lt=qt=>this._readableStream.headers[qt.toLowerCase()],{allowRangeRequests:jt,suggestedLength:kt}=(0,At.validateRangeRequestCapabilities)({getResponseHeader:Lt,isHttp:Kt.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=jt,this._contentLength=kt||this._contentLength,this._filename=(0,At.extractFilenameFromHeader)(Lt)};if(this._request=null,this._url.protocol==="http:"){const $t=require$$5;this._request=$t.request(_t(this._url,Kt.httpHeaders),Nt)}else{const $t=require$$5;this._request=$t.request(_t(this._url,Kt.httpHeaders),Nt)}this._request.on("error",$t=>{this._storedError=$t,this._headersCapability.reject($t)}),this._request.end()}}class _e extends wt{constructor(Kt,Nt,$t){super(Kt),this._httpHeaders={};for(const jt in Kt.httpHeaders){const kt=Kt.httpHeaders[jt];kt!==void 0&&(this._httpHeaders[jt]=kt)}this._httpHeaders.Range=`bytes=${Nt}-${$t-1}`;const Lt=jt=>{if(jt.statusCode===404){const kt=new vt.MissingPDFException(`Missing PDF "${this._url}".`);this._storedError=kt;return}this._setReadableStream(jt)};if(this._request=null,this._url.protocol==="http:"){const jt=require$$5;this._request=jt.request(_t(this._url,this._httpHeaders),Lt)}else{const jt=require$$5;this._request=jt.request(_t(this._url,this._httpHeaders),Lt)}this._request.on("error",jt=>{this._storedError=jt}),this._request.end()}}class bt extends Ft{constructor(Kt){super(Kt);let Nt=decodeURIComponent(this._url.path);St.test(this._url.href)&&(Nt=Nt.replace(/^\//,""));const $t=require$$5;$t.lstat(Nt,(Lt,jt)=>{if(Lt){Lt.code==="ENOENT"&&(Lt=new vt.MissingPDFException(`Missing PDF "${Nt}".`)),this._storedError=Lt,this._headersCapability.reject(Lt);return}this._contentLength=jt.size,this._setReadableStream($t.createReadStream(Nt)),this._headersCapability.resolve()})}}class Pt extends wt{constructor(Kt,Nt,$t){super(Kt);let Lt=decodeURIComponent(this._url.path);St.test(this._url.href)&&(Lt=Lt.replace(/^\//,""));const jt=require$$5;this._setReadableStream(jt.createReadStream(Lt,{start:Nt,end:$t-1}))}}},(xt,$,ht)=>{Object.defineProperty($,"__esModule",{value:!0}),$.SVGGraphics=void 0;var vt=ht(6),At=ht(1);const St={fontStyle:"normal",fontWeight:"normal",fillColor:"#000000"},Ct="http://www.w3.org/XML/1998/namespace",Et="http://www.w3.org/1999/xlink",Ft=["butt","round","square"],wt=["miter","round","bevel"],_t=function(jt,kt="",qt=!1){if(URL.createObjectURL&&typeof Blob<"u"&&!qt)return URL.createObjectURL(new Blob([jt],{type:kt}));const Bt="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";let Gt=`data:${kt};base64,`;for(let en=0,dn=jt.length;en<dn;en+=3){const Qt=jt[en]&255,gn=jt[en+1]&255,tn=jt[en+2]&255,bn=Qt>>2,Wt=(Qt&3)<<4|gn>>4,Yt=en+1<dn?(gn&15)<<2|tn>>6:64,un=en+2<dn?tn&63:64;Gt+=Bt[bn]+Bt[Wt]+Bt[Yt]+Bt[un]}return Gt},Rt=function(){const jt=new Uint8Array([137,80,78,71,13,10,26,10]),kt=12,qt=new Int32Array(256);for(let tn=0;tn<256;tn++){let bn=tn;for(let Wt=0;Wt<8;Wt++)bn=bn&1?3988292384^bn>>1&2147483647:bn>>1&2147483647;qt[tn]=bn}function Bt(tn,bn,Wt){let Yt=-1;for(let un=bn;un<Wt;un++){const Ut=(Yt^tn[un])&255,Ot=qt[Ut];Yt=Yt>>>8^Ot}return Yt^-1}function Gt(tn,bn,Wt,Yt){let un=Yt;const Ut=bn.length;Wt[un]=Ut>>24&255,Wt[un+1]=Ut>>16&255,Wt[un+2]=Ut>>8&255,Wt[un+3]=Ut&255,un+=4,Wt[un]=tn.charCodeAt(0)&255,Wt[un+1]=tn.charCodeAt(1)&255,Wt[un+2]=tn.charCodeAt(2)&255,Wt[un+3]=tn.charCodeAt(3)&255,un+=4,Wt.set(bn,un),un+=bn.length;const Ot=Bt(Wt,Yt+4,un);Wt[un]=Ot>>24&255,Wt[un+1]=Ot>>16&255,Wt[un+2]=Ot>>8&255,Wt[un+3]=Ot&255}function en(tn,bn,Wt){let Yt=1,un=0;for(let Ut=bn;Ut<Wt;++Ut)Yt=(Yt+(tn[Ut]&255))%65521,un=(un+Yt)%65521;return un<<16|Yt}function dn(tn){if(!At.isNodeJS)return Qt(tn);try{const bn=parseInt(process.versions.node)>=8?tn:Buffer.from(tn),Wt=require$$5.deflateSync(bn,{level:9});return Wt instanceof Uint8Array?Wt:new Uint8Array(Wt)}catch(bn){(0,At.warn)("Not compressing PNG because zlib.deflateSync is unavailable: "+bn)}return Qt(tn)}function Qt(tn){let bn=tn.length;const Wt=65535,Yt=Math.ceil(bn/Wt),un=new Uint8Array(2+bn+Yt*5+4);let Ut=0;un[Ut++]=120,un[Ut++]=156;let Ot=0;for(;bn>Wt;)un[Ut++]=0,un[Ut++]=255,un[Ut++]=255,un[Ut++]=0,un[Ut++]=0,un.set(tn.subarray(Ot,Ot+Wt),Ut),Ut+=Wt,Ot+=Wt,bn-=Wt;un[Ut++]=1,un[Ut++]=bn&255,un[Ut++]=bn>>8&255,un[Ut++]=~bn&65535&255,un[Ut++]=(~bn&65535)>>8&255,un.set(tn.subarray(Ot),Ut),Ut+=tn.length-Ot;const Ht=en(tn,0,tn.length);return un[Ut++]=Ht>>24&255,un[Ut++]=Ht>>16&255,un[Ut++]=Ht>>8&255,un[Ut++]=Ht&255,un}function gn(tn,bn,Wt,Yt){const un=tn.width,Ut=tn.height;let Ot,Ht,an;const zt=tn.data;switch(bn){case At.ImageKind.GRAYSCALE_1BPP:Ht=0,Ot=1,an=un+7>>3;break;case At.ImageKind.RGB_24BPP:Ht=2,Ot=8,an=un*3;break;case At.ImageKind.RGBA_32BPP:Ht=6,Ot=8,an=un*4;break;default:throw new Error("invalid format")}const Vt=new Uint8Array((1+an)*Ut);let nn=0,hn=0;for(let vn=0;vn<Ut;++vn)Vt[nn++]=0,Vt.set(zt.subarray(hn,hn+an),nn),hn+=an,nn+=an;if(bn===At.ImageKind.GRAYSCALE_1BPP&&Yt){nn=0;for(let vn=0;vn<Ut;vn++){nn++;for(let kn=0;kn<an;kn++)Vt[nn++]^=255}}const on=new Uint8Array([un>>24&255,un>>16&255,un>>8&255,un&255,Ut>>24&255,Ut>>16&255,Ut>>8&255,Ut&255,Ot,Ht,0,0,0]),cn=dn(Vt),sn=jt.length+kt*3+on.length+cn.length,rn=new Uint8Array(sn);let xn=0;return rn.set(jt,xn),xn+=jt.length,Gt("IHDR",on,rn,xn),xn+=kt+on.length,Gt("IDATA",cn,rn,xn),xn+=kt+cn.length,Gt("IEND",new Uint8Array(0),rn,xn),_t(rn,"image/png",Wt)}return function(bn,Wt,Yt){const un=bn.kind===void 0?At.ImageKind.GRAYSCALE_1BPP:bn.kind;return gn(bn,un,Wt,Yt)}}();class _e{constructor(){this.fontSizeScale=1,this.fontWeight=St.fontWeight,this.fontSize=0,this.textMatrix=At.IDENTITY_MATRIX,this.fontMatrix=At.FONT_IDENTITY_MATRIX,this.leading=0,this.textRenderingMode=At.TextRenderingMode.FILL,this.textMatrixScale=1,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRise=0,this.fillColor=St.fillColor,this.strokeColor="#000000",this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.lineJoin="",this.lineCap="",this.miterLimit=0,this.dashArray=[],this.dashPhase=0,this.dependencies=[],this.activeClipUrl=null,this.clipGroup=null,this.maskId=""}clone(){return Object.create(this)}setCurrentPoint(kt,qt){this.x=kt,this.y=qt}}function bt(jt){let kt=[];const qt=[];for(const Bt of jt){if(Bt.fn==="save"){kt.push({fnId:92,fn:"group",items:[]}),qt.push(kt),kt=kt.at(-1).items;continue}Bt.fn==="restore"?kt=qt.pop():kt.push(Bt)}return kt}function Pt(jt){if(Number.isInteger(jt))return jt.toString();const kt=jt.toFixed(10);let qt=kt.length-1;if(kt[qt]!=="0")return kt;do qt--;while(kt[qt]==="0");return kt.substring(0,kt[qt]==="."?qt:qt+1)}function Xt(jt){if(jt[4]===0&&jt[5]===0){if(jt[1]===0&&jt[2]===0)return jt[0]===1&&jt[3]===1?"":`scale(${Pt(jt[0])} ${Pt(jt[3])})`;if(jt[0]===jt[3]&&jt[1]===-jt[2]){const kt=Math.acos(jt[0])*180/Math.PI;return`rotate(${Pt(kt)})`}}else if(jt[0]===1&&jt[1]===0&&jt[2]===0&&jt[3]===1)return`translate(${Pt(jt[4])} ${Pt(jt[5])})`;return`matrix(${Pt(jt[0])} ${Pt(jt[1])} ${Pt(jt[2])} ${Pt(jt[3])} ${Pt(jt[4])} ${Pt(jt[5])})`}let Kt=0,Nt=0,$t=0;class Lt{constructor(kt,qt,Bt=!1){(0,vt.deprecated)("The SVG back-end is no longer maintained and *may* be removed in the future."),this.svgFactory=new vt.DOMSVGFactory,this.current=new _e,this.transformMatrix=At.IDENTITY_MATRIX,this.transformStack=[],this.extraStack=[],this.commonObjs=kt,this.objs=qt,this.pendingClip=null,this.pendingEOFill=!1,this.embedFonts=!1,this.embeddedFonts=Object.create(null),this.cssStyle=null,this.forceDataSchema=!!Bt,this._operatorIdMapping=[];for(const Gt in At.OPS)this._operatorIdMapping[At.OPS[Gt]]=Gt}getObject(kt,qt=null){return typeof kt=="string"?kt.startsWith("g_")?this.commonObjs.get(kt):this.objs.get(kt):qt}save(){this.transformStack.push(this.transformMatrix);const kt=this.current;this.extraStack.push(kt),this.current=kt.clone()}restore(){this.transformMatrix=this.transformStack.pop(),this.current=this.extraStack.pop(),this.pendingClip=null,this.tgrp=null}group(kt){this.save(),this.executeOpTree(kt),this.restore()}loadDependencies(kt){const qt=kt.fnArray,Bt=kt.argsArray;for(let Gt=0,en=qt.length;Gt<en;Gt++)if(qt[Gt]===At.OPS.dependency)for(const dn of Bt[Gt]){const Qt=dn.startsWith("g_")?this.commonObjs:this.objs,gn=new Promise(tn=>{Qt.get(dn,tn)});this.current.dependencies.push(gn)}return Promise.all(this.current.dependencies)}transform(kt,qt,Bt,Gt,en,dn){const Qt=[kt,qt,Bt,Gt,en,dn];this.transformMatrix=At.Util.transform(this.transformMatrix,Qt),this.tgrp=null}getSVG(kt,qt){this.viewport=qt;const Bt=this._initialize(qt);return this.loadDependencies(kt).then(()=>(this.transformMatrix=At.IDENTITY_MATRIX,this.executeOpTree(this.convertOpList(kt)),Bt))}convertOpList(kt){const qt=this._operatorIdMapping,Bt=kt.argsArray,Gt=kt.fnArray,en=[];for(let dn=0,Qt=Gt.length;dn<Qt;dn++){const gn=Gt[dn];en.push({fnId:gn,fn:qt[gn],args:Bt[dn]})}return bt(en)}executeOpTree(kt){for(const qt of kt){const Bt=qt.fn,Gt=qt.fnId,en=qt.args;switch(Gt|0){case At.OPS.beginText:this.beginText();break;case At.OPS.dependency:break;case At.OPS.setLeading:this.setLeading(en);break;case At.OPS.setLeadingMoveText:this.setLeadingMoveText(en[0],en[1]);break;case At.OPS.setFont:this.setFont(en);break;case At.OPS.showText:this.showText(en[0]);break;case At.OPS.showSpacedText:this.showText(en[0]);break;case At.OPS.endText:this.endText();break;case At.OPS.moveText:this.moveText(en[0],en[1]);break;case At.OPS.setCharSpacing:this.setCharSpacing(en[0]);break;case At.OPS.setWordSpacing:this.setWordSpacing(en[0]);break;case At.OPS.setHScale:this.setHScale(en[0]);break;case At.OPS.setTextMatrix:this.setTextMatrix(en[0],en[1],en[2],en[3],en[4],en[5]);break;case At.OPS.setTextRise:this.setTextRise(en[0]);break;case At.OPS.setTextRenderingMode:this.setTextRenderingMode(en[0]);break;case At.OPS.setLineWidth:this.setLineWidth(en[0]);break;case At.OPS.setLineJoin:this.setLineJoin(en[0]);break;case At.OPS.setLineCap:this.setLineCap(en[0]);break;case At.OPS.setMiterLimit:this.setMiterLimit(en[0]);break;case At.OPS.setFillRGBColor:this.setFillRGBColor(en[0],en[1],en[2]);break;case At.OPS.setStrokeRGBColor:this.setStrokeRGBColor(en[0],en[1],en[2]);break;case At.OPS.setStrokeColorN:this.setStrokeColorN(en);break;case At.OPS.setFillColorN:this.setFillColorN(en);break;case At.OPS.shadingFill:this.shadingFill(en[0]);break;case At.OPS.setDash:this.setDash(en[0],en[1]);break;case At.OPS.setRenderingIntent:this.setRenderingIntent(en[0]);break;case At.OPS.setFlatness:this.setFlatness(en[0]);break;case At.OPS.setGState:this.setGState(en[0]);break;case At.OPS.fill:this.fill();break;case At.OPS.eoFill:this.eoFill();break;case At.OPS.stroke:this.stroke();break;case At.OPS.fillStroke:this.fillStroke();break;case At.OPS.eoFillStroke:this.eoFillStroke();break;case At.OPS.clip:this.clip("nonzero");break;case At.OPS.eoClip:this.clip("evenodd");break;case At.OPS.paintSolidColorImageMask:this.paintSolidColorImageMask();break;case At.OPS.paintImageXObject:this.paintImageXObject(en[0]);break;case At.OPS.paintInlineImageXObject:this.paintInlineImageXObject(en[0]);break;case At.OPS.paintImageMaskXObject:this.paintImageMaskXObject(en[0]);break;case At.OPS.paintFormXObjectBegin:this.paintFormXObjectBegin(en[0],en[1]);break;case At.OPS.paintFormXObjectEnd:this.paintFormXObjectEnd();break;case At.OPS.closePath:this.closePath();break;case At.OPS.closeStroke:this.closeStroke();break;case At.OPS.closeFillStroke:this.closeFillStroke();break;case At.OPS.closeEOFillStroke:this.closeEOFillStroke();break;case At.OPS.nextLine:this.nextLine();break;case At.OPS.transform:this.transform(en[0],en[1],en[2],en[3],en[4],en[5]);break;case At.OPS.constructPath:this.constructPath(en[0],en[1]);break;case At.OPS.endPath:this.endPath();break;case 92:this.group(qt.items);break;default:(0,At.warn)(`Unimplemented operator ${Bt}`);break}}}setWordSpacing(kt){this.current.wordSpacing=kt}setCharSpacing(kt){this.current.charSpacing=kt}nextLine(){this.moveText(0,this.current.leading)}setTextMatrix(kt,qt,Bt,Gt,en,dn){const Qt=this.current;Qt.textMatrix=Qt.lineMatrix=[kt,qt,Bt,Gt,en,dn],Qt.textMatrixScale=Math.hypot(kt,qt),Qt.x=Qt.lineX=0,Qt.y=Qt.lineY=0,Qt.xcoords=[],Qt.ycoords=[],Qt.tspan=this.svgFactory.createElement("svg:tspan"),Qt.tspan.setAttributeNS(null,"font-family",Qt.fontFamily),Qt.tspan.setAttributeNS(null,"font-size",`${Pt(Qt.fontSize)}px`),Qt.tspan.setAttributeNS(null,"y",Pt(-Qt.y)),Qt.txtElement=this.svgFactory.createElement("svg:text"),Qt.txtElement.append(Qt.tspan)}beginText(){const kt=this.current;kt.x=kt.lineX=0,kt.y=kt.lineY=0,kt.textMatrix=At.IDENTITY_MATRIX,kt.lineMatrix=At.IDENTITY_MATRIX,kt.textMatrixScale=1,kt.tspan=this.svgFactory.createElement("svg:tspan"),kt.txtElement=this.svgFactory.createElement("svg:text"),kt.txtgrp=this.svgFactory.createElement("svg:g"),kt.xcoords=[],kt.ycoords=[]}moveText(kt,qt){const Bt=this.current;Bt.x=Bt.lineX+=kt,Bt.y=Bt.lineY+=qt,Bt.xcoords=[],Bt.ycoords=[],Bt.tspan=this.svgFactory.createElement("svg:tspan"),Bt.tspan.setAttributeNS(null,"font-family",Bt.fontFamily),Bt.tspan.setAttributeNS(null,"font-size",`${Pt(Bt.fontSize)}px`),Bt.tspan.setAttributeNS(null,"y",Pt(-Bt.y))}showText(kt){const qt=this.current,Bt=qt.font,Gt=qt.fontSize;if(Gt===0)return;const en=qt.fontSizeScale,dn=qt.charSpacing,Qt=qt.wordSpacing,gn=qt.fontDirection,tn=qt.textHScale*gn,bn=Bt.vertical,Wt=bn?1:-1,Yt=Bt.defaultVMetrics,un=Gt*qt.fontMatrix[0];let Ut=0;for(const an of kt){if(an===null){Ut+=gn*Qt;continue}else if(typeof an=="number"){Ut+=Wt*an*Gt/1e3;continue}const zt=(an.isSpace?Qt:0)+dn,Vt=an.fontChar;let nn,hn,on=an.width;if(bn){let sn;const rn=an.vmetric||Yt;sn=an.vmetric?rn[1]:on*.5,sn=-sn*un;const xn=rn[2]*un;on=rn?-rn[0]:on,nn=sn/en,hn=(Ut+xn)/en}else nn=Ut/en,hn=0;(an.isInFont||Bt.missingFile)&&(qt.xcoords.push(qt.x+nn),bn&&qt.ycoords.push(-qt.y+hn),qt.tspan.textContent+=Vt);const cn=bn?on*un-zt*gn:on*un+zt*gn;Ut+=cn}qt.tspan.setAttributeNS(null,"x",qt.xcoords.map(Pt).join(" ")),bn?qt.tspan.setAttributeNS(null,"y",qt.ycoords.map(Pt).join(" ")):qt.tspan.setAttributeNS(null,"y",Pt(-qt.y)),bn?qt.y-=Ut:qt.x+=Ut*tn,qt.tspan.setAttributeNS(null,"font-family",qt.fontFamily),qt.tspan.setAttributeNS(null,"font-size",`${Pt(qt.fontSize)}px`),qt.fontStyle!==St.fontStyle&&qt.tspan.setAttributeNS(null,"font-style",qt.fontStyle),qt.fontWeight!==St.fontWeight&&qt.tspan.setAttributeNS(null,"font-weight",qt.fontWeight);const Ot=qt.textRenderingMode&At.TextRenderingMode.FILL_STROKE_MASK;if(Ot===At.TextRenderingMode.FILL||Ot===At.TextRenderingMode.FILL_STROKE?(qt.fillColor!==St.fillColor&&qt.tspan.setAttributeNS(null,"fill",qt.fillColor),qt.fillAlpha<1&&qt.tspan.setAttributeNS(null,"fill-opacity",qt.fillAlpha)):qt.textRenderingMode===At.TextRenderingMode.ADD_TO_PATH?qt.tspan.setAttributeNS(null,"fill","transparent"):qt.tspan.setAttributeNS(null,"fill","none"),Ot===At.TextRenderingMode.STROKE||Ot===At.TextRenderingMode.FILL_STROKE){const an=1/(qt.textMatrixScale||1);this._setStrokeAttributes(qt.tspan,an)}let Ht=qt.textMatrix;qt.textRise!==0&&(Ht=Ht.slice(),Ht[5]+=qt.textRise),qt.txtElement.setAttributeNS(null,"transform",`${Xt(Ht)} scale(${Pt(tn)}, -1)`),qt.txtElement.setAttributeNS(Ct,"xml:space","preserve"),qt.txtElement.append(qt.tspan),qt.txtgrp.append(qt.txtElement),this._ensureTransformGroup().append(qt.txtElement)}setLeadingMoveText(kt,qt){this.setLeading(-qt),this.moveText(kt,qt)}addFontStyle(kt){if(!kt.data)throw new Error('addFontStyle: No font data available, ensure that the "fontExtraProperties" API parameter is set.');this.cssStyle||(this.cssStyle=this.svgFactory.createElement("svg:style"),this.cssStyle.setAttributeNS(null,"type","text/css"),this.defs.append(this.cssStyle));const qt=_t(kt.data,kt.mimetype,this.forceDataSchema);this.cssStyle.textContent+=`@font-face { font-family: "${kt.loadedName}"; src: url(${qt}); }
`}setFont(kt){const qt=this.current,Bt=this.commonObjs.get(kt[0]);let Gt=kt[1];qt.font=Bt,this.embedFonts&&!Bt.missingFile&&!this.embeddedFonts[Bt.loadedName]&&(this.addFontStyle(Bt),this.embeddedFonts[Bt.loadedName]=Bt),qt.fontMatrix=Bt.fontMatrix||At.FONT_IDENTITY_MATRIX;let en="normal";Bt.black?en="900":Bt.bold&&(en="bold");const dn=Bt.italic?"italic":"normal";Gt<0?(Gt=-Gt,qt.fontDirection=-1):qt.fontDirection=1,qt.fontSize=Gt,qt.fontFamily=Bt.loadedName,qt.fontWeight=en,qt.fontStyle=dn,qt.tspan=this.svgFactory.createElement("svg:tspan"),qt.tspan.setAttributeNS(null,"y",Pt(-qt.y)),qt.xcoords=[],qt.ycoords=[]}endText(){var qt;const kt=this.current;kt.textRenderingMode&At.TextRenderingMode.ADD_TO_PATH_FLAG&&((qt=kt.txtElement)!=null&&qt.hasChildNodes())&&(kt.element=kt.txtElement,this.clip("nonzero"),this.endPath())}setLineWidth(kt){kt>0&&(this.current.lineWidth=kt)}setLineCap(kt){this.current.lineCap=Ft[kt]}setLineJoin(kt){this.current.lineJoin=wt[kt]}setMiterLimit(kt){this.current.miterLimit=kt}setStrokeAlpha(kt){this.current.strokeAlpha=kt}setStrokeRGBColor(kt,qt,Bt){this.current.strokeColor=At.Util.makeHexColor(kt,qt,Bt)}setFillAlpha(kt){this.current.fillAlpha=kt}setFillRGBColor(kt,qt,Bt){this.current.fillColor=At.Util.makeHexColor(kt,qt,Bt),this.current.tspan=this.svgFactory.createElement("svg:tspan"),this.current.xcoords=[],this.current.ycoords=[]}setStrokeColorN(kt){this.current.strokeColor=this._makeColorN_Pattern(kt)}setFillColorN(kt){this.current.fillColor=this._makeColorN_Pattern(kt)}shadingFill(kt){const{width:qt,height:Bt}=this.viewport,Gt=At.Util.inverseTransform(this.transformMatrix),[en,dn,Qt,gn]=At.Util.getAxialAlignedBoundingBox([0,0,qt,Bt],Gt),tn=this.svgFactory.createElement("svg:rect");tn.setAttributeNS(null,"x",en),tn.setAttributeNS(null,"y",dn),tn.setAttributeNS(null,"width",Qt-en),tn.setAttributeNS(null,"height",gn-dn),tn.setAttributeNS(null,"fill",this._makeShadingPattern(kt)),this.current.fillAlpha<1&&tn.setAttributeNS(null,"fill-opacity",this.current.fillAlpha),this._ensureTransformGroup().append(tn)}_makeColorN_Pattern(kt){return kt[0]==="TilingPattern"?this._makeTilingPattern(kt):this._makeShadingPattern(kt)}_makeTilingPattern(kt){const qt=kt[1],Bt=kt[2],Gt=kt[3]||At.IDENTITY_MATRIX,[en,dn,Qt,gn]=kt[4],tn=kt[5],bn=kt[6],Wt=kt[7],Yt=`shading${$t++}`,[un,Ut,Ot,Ht]=At.Util.normalizeRect([...At.Util.applyTransform([en,dn],Gt),...At.Util.applyTransform([Qt,gn],Gt)]),[an,zt]=At.Util.singularValueDecompose2dScale(Gt),Vt=tn*an,nn=bn*zt,hn=this.svgFactory.createElement("svg:pattern");hn.setAttributeNS(null,"id",Yt),hn.setAttributeNS(null,"patternUnits","userSpaceOnUse"),hn.setAttributeNS(null,"width",Vt),hn.setAttributeNS(null,"height",nn),hn.setAttributeNS(null,"x",`${un}`),hn.setAttributeNS(null,"y",`${Ut}`);const on=this.svg,cn=this.transformMatrix,sn=this.current.fillColor,rn=this.current.strokeColor,xn=this.svgFactory.create(Ot-un,Ht-Ut);if(this.svg=xn,this.transformMatrix=Gt,Wt===2){const vn=At.Util.makeHexColor(...qt);this.current.fillColor=vn,this.current.strokeColor=vn}return this.executeOpTree(this.convertOpList(Bt)),this.svg=on,this.transformMatrix=cn,this.current.fillColor=sn,this.current.strokeColor=rn,hn.append(xn.childNodes[0]),this.defs.append(hn),`url(#${Yt})`}_makeShadingPattern(kt){switch(typeof kt=="string"&&(kt=this.objs.get(kt)),kt[0]){case"RadialAxial":const qt=`shading${$t++}`,Bt=kt[3];let Gt;switch(kt[1]){case"axial":const en=kt[4],dn=kt[5];Gt=this.svgFactory.createElement("svg:linearGradient"),Gt.setAttributeNS(null,"id",qt),Gt.setAttributeNS(null,"gradientUnits","userSpaceOnUse"),Gt.setAttributeNS(null,"x1",en[0]),Gt.setAttributeNS(null,"y1",en[1]),Gt.setAttributeNS(null,"x2",dn[0]),Gt.setAttributeNS(null,"y2",dn[1]);break;case"radial":const Qt=kt[4],gn=kt[5],tn=kt[6],bn=kt[7];Gt=this.svgFactory.createElement("svg:radialGradient"),Gt.setAttributeNS(null,"id",qt),Gt.setAttributeNS(null,"gradientUnits","userSpaceOnUse"),Gt.setAttributeNS(null,"cx",gn[0]),Gt.setAttributeNS(null,"cy",gn[1]),Gt.setAttributeNS(null,"r",bn),Gt.setAttributeNS(null,"fx",Qt[0]),Gt.setAttributeNS(null,"fy",Qt[1]),Gt.setAttributeNS(null,"fr",tn);break;default:throw new Error(`Unknown RadialAxial type: ${kt[1]}`)}for(const en of Bt){const dn=this.svgFactory.createElement("svg:stop");dn.setAttributeNS(null,"offset",en[0]),dn.setAttributeNS(null,"stop-color",en[1]),Gt.append(dn)}return this.defs.append(Gt),`url(#${qt})`;case"Mesh":return(0,At.warn)("Unimplemented pattern Mesh"),null;case"Dummy":return"hotpink";default:throw new Error(`Unknown IR type: ${kt[0]}`)}}setDash(kt,qt){this.current.dashArray=kt,this.current.dashPhase=qt}constructPath(kt,qt){const Bt=this.current;let Gt=Bt.x,en=Bt.y,dn=[],Qt=0;for(const gn of kt)switch(gn|0){case At.OPS.rectangle:Gt=qt[Qt++],en=qt[Qt++];const tn=qt[Qt++],bn=qt[Qt++],Wt=Gt+tn,Yt=en+bn;dn.push("M",Pt(Gt),Pt(en),"L",Pt(Wt),Pt(en),"L",Pt(Wt),Pt(Yt),"L",Pt(Gt),Pt(Yt),"Z");break;case At.OPS.moveTo:Gt=qt[Qt++],en=qt[Qt++],dn.push("M",Pt(Gt),Pt(en));break;case At.OPS.lineTo:Gt=qt[Qt++],en=qt[Qt++],dn.push("L",Pt(Gt),Pt(en));break;case At.OPS.curveTo:Gt=qt[Qt+4],en=qt[Qt+5],dn.push("C",Pt(qt[Qt]),Pt(qt[Qt+1]),Pt(qt[Qt+2]),Pt(qt[Qt+3]),Pt(Gt),Pt(en)),Qt+=6;break;case At.OPS.curveTo2:dn.push("C",Pt(Gt),Pt(en),Pt(qt[Qt]),Pt(qt[Qt+1]),Pt(qt[Qt+2]),Pt(qt[Qt+3])),Gt=qt[Qt+2],en=qt[Qt+3],Qt+=4;break;case At.OPS.curveTo3:Gt=qt[Qt+2],en=qt[Qt+3],dn.push("C",Pt(qt[Qt]),Pt(qt[Qt+1]),Pt(Gt),Pt(en),Pt(Gt),Pt(en)),Qt+=4;break;case At.OPS.closePath:dn.push("Z");break}dn=dn.join(" "),Bt.path&&kt.length>0&&kt[0]!==At.OPS.rectangle&&kt[0]!==At.OPS.moveTo?dn=Bt.path.getAttributeNS(null,"d")+dn:(Bt.path=this.svgFactory.createElement("svg:path"),this._ensureTransformGroup().append(Bt.path)),Bt.path.setAttributeNS(null,"d",dn),Bt.path.setAttributeNS(null,"fill","none"),Bt.element=Bt.path,Bt.setCurrentPoint(Gt,en)}endPath(){const kt=this.current;if(kt.path=null,!this.pendingClip)return;if(!kt.element){this.pendingClip=null;return}const qt=`clippath${Kt++}`,Bt=this.svgFactory.createElement("svg:clipPath");Bt.setAttributeNS(null,"id",qt),Bt.setAttributeNS(null,"transform",Xt(this.transformMatrix));const Gt=kt.element.cloneNode(!0);if(this.pendingClip==="evenodd"?Gt.setAttributeNS(null,"clip-rule","evenodd"):Gt.setAttributeNS(null,"clip-rule","nonzero"),this.pendingClip=null,Bt.append(Gt),this.defs.append(Bt),kt.activeClipUrl){kt.clipGroup=null;for(const en of this.extraStack)en.clipGroup=null;Bt.setAttributeNS(null,"clip-path",kt.activeClipUrl)}kt.activeClipUrl=`url(#${qt})`,this.tgrp=null}clip(kt){this.pendingClip=kt}closePath(){const kt=this.current;if(kt.path){const qt=`${kt.path.getAttributeNS(null,"d")}Z`;kt.path.setAttributeNS(null,"d",qt)}}setLeading(kt){this.current.leading=-kt}setTextRise(kt){this.current.textRise=kt}setTextRenderingMode(kt){this.current.textRenderingMode=kt}setHScale(kt){this.current.textHScale=kt/100}setRenderingIntent(kt){}setFlatness(kt){}setGState(kt){for(const[qt,Bt]of kt)switch(qt){case"LW":this.setLineWidth(Bt);break;case"LC":this.setLineCap(Bt);break;case"LJ":this.setLineJoin(Bt);break;case"ML":this.setMiterLimit(Bt);break;case"D":this.setDash(Bt[0],Bt[1]);break;case"RI":this.setRenderingIntent(Bt);break;case"FL":this.setFlatness(Bt);break;case"Font":this.setFont(Bt);break;case"CA":this.setStrokeAlpha(Bt);break;case"ca":this.setFillAlpha(Bt);break;default:(0,At.warn)(`Unimplemented graphic state operator ${qt}`);break}}fill(){const kt=this.current;kt.element&&(kt.element.setAttributeNS(null,"fill",kt.fillColor),kt.element.setAttributeNS(null,"fill-opacity",kt.fillAlpha),this.endPath())}stroke(){const kt=this.current;kt.element&&(this._setStrokeAttributes(kt.element),kt.element.setAttributeNS(null,"fill","none"),this.endPath())}_setStrokeAttributes(kt,qt=1){const Bt=this.current;let Gt=Bt.dashArray;qt!==1&&Gt.length>0&&(Gt=Gt.map(function(en){return qt*en})),kt.setAttributeNS(null,"stroke",Bt.strokeColor),kt.setAttributeNS(null,"stroke-opacity",Bt.strokeAlpha),kt.setAttributeNS(null,"stroke-miterlimit",Pt(Bt.miterLimit)),kt.setAttributeNS(null,"stroke-linecap",Bt.lineCap),kt.setAttributeNS(null,"stroke-linejoin",Bt.lineJoin),kt.setAttributeNS(null,"stroke-width",Pt(qt*Bt.lineWidth)+"px"),kt.setAttributeNS(null,"stroke-dasharray",Gt.map(Pt).join(" ")),kt.setAttributeNS(null,"stroke-dashoffset",Pt(qt*Bt.dashPhase)+"px")}eoFill(){var kt;(kt=this.current.element)==null||kt.setAttributeNS(null,"fill-rule","evenodd"),this.fill()}fillStroke(){this.stroke(),this.fill()}eoFillStroke(){var kt;(kt=this.current.element)==null||kt.setAttributeNS(null,"fill-rule","evenodd"),this.fillStroke()}closeStroke(){this.closePath(),this.stroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.closePath(),this.eoFillStroke()}paintSolidColorImageMask(){const kt=this.svgFactory.createElement("svg:rect");kt.setAttributeNS(null,"x","0"),kt.setAttributeNS(null,"y","0"),kt.setAttributeNS(null,"width","1px"),kt.setAttributeNS(null,"height","1px"),kt.setAttributeNS(null,"fill",this.current.fillColor),this._ensureTransformGroup().append(kt)}paintImageXObject(kt){const qt=this.getObject(kt);if(!qt){(0,At.warn)(`Dependent image with object ID ${kt} is not ready yet`);return}this.paintInlineImageXObject(qt)}paintInlineImageXObject(kt,qt){const Bt=kt.width,Gt=kt.height,en=Rt(kt,this.forceDataSchema,!!qt),dn=this.svgFactory.createElement("svg:rect");dn.setAttributeNS(null,"x","0"),dn.setAttributeNS(null,"y","0"),dn.setAttributeNS(null,"width",Pt(Bt)),dn.setAttributeNS(null,"height",Pt(Gt)),this.current.element=dn,this.clip("nonzero");const Qt=this.svgFactory.createElement("svg:image");Qt.setAttributeNS(Et,"xlink:href",en),Qt.setAttributeNS(null,"x","0"),Qt.setAttributeNS(null,"y",Pt(-Gt)),Qt.setAttributeNS(null,"width",Pt(Bt)+"px"),Qt.setAttributeNS(null,"height",Pt(Gt)+"px"),Qt.setAttributeNS(null,"transform",`scale(${Pt(1/Bt)} ${Pt(-1/Gt)})`),qt?qt.append(Qt):this._ensureTransformGroup().append(Qt)}paintImageMaskXObject(kt){const qt=this.getObject(kt.data,kt);if(qt.bitmap){(0,At.warn)("paintImageMaskXObject: ImageBitmap support is not implemented, ensure that the `isOffscreenCanvasSupported` API parameter is disabled.");return}const Bt=this.current,Gt=qt.width,en=qt.height,dn=Bt.fillColor;Bt.maskId=`mask${Nt++}`;const Qt=this.svgFactory.createElement("svg:mask");Qt.setAttributeNS(null,"id",Bt.maskId);const gn=this.svgFactory.createElement("svg:rect");gn.setAttributeNS(null,"x","0"),gn.setAttributeNS(null,"y","0"),gn.setAttributeNS(null,"width",Pt(Gt)),gn.setAttributeNS(null,"height",Pt(en)),gn.setAttributeNS(null,"fill",dn),gn.setAttributeNS(null,"mask",`url(#${Bt.maskId})`),this.defs.append(Qt),this._ensureTransformGroup().append(gn),this.paintInlineImageXObject(qt,Qt)}paintFormXObjectBegin(kt,qt){if(Array.isArray(kt)&&kt.length===6&&this.transform(kt[0],kt[1],kt[2],kt[3],kt[4],kt[5]),qt){const Bt=qt[2]-qt[0],Gt=qt[3]-qt[1],en=this.svgFactory.createElement("svg:rect");en.setAttributeNS(null,"x",qt[0]),en.setAttributeNS(null,"y",qt[1]),en.setAttributeNS(null,"width",Pt(Bt)),en.setAttributeNS(null,"height",Pt(Gt)),this.current.element=en,this.clip("nonzero"),this.endPath()}}paintFormXObjectEnd(){}_initialize(kt){const qt=this.svgFactory.create(kt.width,kt.height),Bt=this.svgFactory.createElement("svg:defs");qt.append(Bt),this.defs=Bt;const Gt=this.svgFactory.createElement("svg:g");return Gt.setAttributeNS(null,"transform",Xt(kt.transform)),qt.append(Gt),this.svg=Gt,qt}_ensureClipGroup(){if(!this.current.clipGroup){const kt=this.svgFactory.createElement("svg:g");kt.setAttributeNS(null,"clip-path",this.current.activeClipUrl),this.svg.append(kt),this.current.clipGroup=kt}return this.current.clipGroup}_ensureTransformGroup(){return this.tgrp||(this.tgrp=this.svgFactory.createElement("svg:g"),this.tgrp.setAttributeNS(null,"transform",Xt(this.transformMatrix)),this.current.activeClipUrl?this._ensureClipGroup().append(this.tgrp):this.svg.append(this.tgrp)),this.tgrp}}$.SVGGraphics=Lt},(xt,$)=>{Object.defineProperty($,"__esModule",{value:!0}),$.XfaText=void 0;class ht{static textContent(At){const St=[],Ct={items:St,styles:Object.create(null)};function Et(Ft){var Rt;if(!Ft)return;let wt=null;const _t=Ft.name;if(_t==="#text")wt=Ft.value;else if(ht.shouldBuildText(_t))(Rt=Ft==null?void 0:Ft.attributes)!=null&&Rt.textContent?wt=Ft.attributes.textContent:Ft.value&&(wt=Ft.value);else return;if(wt!==null&&St.push({str:wt}),!!Ft.children)for(const _e of Ft.children)Et(_e)}return Et(At),Ct}static shouldBuildText(At){return!(At==="textarea"||At==="input"||At==="option"||At==="select")}}$.XfaText=ht},(xt,$,ht)=>{Object.defineProperty($,"__esModule",{value:!0}),$.TextLayerRenderTask=void 0,$.renderTextLayer=Xt,$.updateTextLayer=Kt;var vt=ht(1),At=ht(6);const St=1e5,Ct=30,Et=.8,Ft=new Map;function wt(Nt,$t){let Lt;if($t&&vt.FeatureTest.isOffscreenCanvasSupported)Lt=new OffscreenCanvas(Nt,Nt).getContext("2d",{alpha:!1});else{const jt=document.createElement("canvas");jt.width=jt.height=Nt,Lt=jt.getContext("2d",{alpha:!1})}return Lt}function _t(Nt,$t){const Lt=Ft.get(Nt);if(Lt)return Lt;const jt=wt(Ct,$t);jt.font=`${Ct}px ${Nt}`;const kt=jt.measureText("");let qt=kt.fontBoundingBoxAscent,Bt=Math.abs(kt.fontBoundingBoxDescent);if(qt){const en=qt/(qt+Bt);return Ft.set(Nt,en),jt.canvas.width=jt.canvas.height=0,en}jt.strokeStyle="red",jt.clearRect(0,0,Ct,Ct),jt.strokeText("g",0,0);let Gt=jt.getImageData(0,0,Ct,Ct).data;Bt=0;for(let en=Gt.length-1-3;en>=0;en-=4)if(Gt[en]>0){Bt=Math.ceil(en/4/Ct);break}jt.clearRect(0,0,Ct,Ct),jt.strokeText("A",0,Ct),Gt=jt.getImageData(0,0,Ct,Ct).data,qt=0;for(let en=0,dn=Gt.length;en<dn;en+=4)if(Gt[en]>0){qt=Ct-Math.floor(en/4/Ct);break}if(jt.canvas.width=jt.canvas.height=0,qt){const en=qt/(qt+Bt);return Ft.set(Nt,en),en}return Ft.set(Nt,Et),Et}function Rt(Nt,$t,Lt){const jt=document.createElement("span"),kt={angle:0,canvasWidth:0,hasText:$t.str!=="",hasEOL:$t.hasEOL,fontSize:0};Nt._textDivs.push(jt);const qt=vt.Util.transform(Nt._transform,$t.transform);let Bt=Math.atan2(qt[1],qt[0]);const Gt=Lt[$t.fontName];Gt.vertical&&(Bt+=Math.PI/2);const en=Math.hypot(qt[2],qt[3]),dn=en*_t(Gt.fontFamily,Nt._isOffscreenCanvasSupported);let Qt,gn;Bt===0?(Qt=qt[4],gn=qt[5]-dn):(Qt=qt[4]+dn*Math.sin(Bt),gn=qt[5]-dn*Math.cos(Bt));const tn="calc(var(--scale-factor)*",bn=jt.style;Nt._container===Nt._rootContainer?(bn.left=`${(100*Qt/Nt._pageWidth).toFixed(2)}%`,bn.top=`${(100*gn/Nt._pageHeight).toFixed(2)}%`):(bn.left=`${tn}${Qt.toFixed(2)}px)`,bn.top=`${tn}${gn.toFixed(2)}px)`),bn.fontSize=`${tn}${en.toFixed(2)}px)`,bn.fontFamily=Gt.fontFamily,kt.fontSize=en,jt.setAttribute("role","presentation"),jt.textContent=$t.str,jt.dir=$t.dir,Nt._fontInspectorEnabled&&(jt.dataset.fontName=$t.fontName),Bt!==0&&(kt.angle=Bt*(180/Math.PI));let Wt=!1;if($t.str.length>1)Wt=!0;else if($t.str!==" "&&$t.transform[0]!==$t.transform[3]){const Yt=Math.abs($t.transform[0]),un=Math.abs($t.transform[3]);Yt!==un&&Math.max(Yt,un)/Math.min(Yt,un)>1.5&&(Wt=!0)}Wt&&(kt.canvasWidth=Gt.vertical?$t.height:$t.width),Nt._textDivProperties.set(jt,kt),Nt._isReadableStream&&Nt._layoutText(jt)}function _e(Nt){const{div:$t,scale:Lt,properties:jt,ctx:kt,prevFontSize:qt,prevFontFamily:Bt}=Nt,{style:Gt}=$t;let en="";if(jt.canvasWidth!==0&&jt.hasText){const{fontFamily:dn}=Gt,{canvasWidth:Qt,fontSize:gn}=jt;(qt!==gn||Bt!==dn)&&(kt.font=`${gn*Lt}px ${dn}`,Nt.prevFontSize=gn,Nt.prevFontFamily=dn);const{width:tn}=kt.measureText($t.textContent);tn>0&&(en=`scaleX(${Qt*Lt/tn})`)}jt.angle!==0&&(en=`rotate(${jt.angle}deg) ${en}`),en.length>0&&(Gt.transform=en)}function bt(Nt){if(Nt._canceled)return;const $t=Nt._textDivs,Lt=Nt._capability;if($t.length>St){Lt.resolve();return}if(!Nt._isReadableStream)for(const kt of $t)Nt._layoutText(kt);Lt.resolve()}class Pt{constructor({textContentSource:$t,container:Lt,viewport:jt,textDivs:kt,textDivProperties:qt,textContentItemsStr:Bt,isOffscreenCanvasSupported:Gt}){var tn;this._textContentSource=$t,this._isReadableStream=$t instanceof ReadableStream,this._container=this._rootContainer=Lt,this._textDivs=kt||[],this._textContentItemsStr=Bt||[],this._isOffscreenCanvasSupported=Gt,this._fontInspectorEnabled=!!((tn=globalThis.FontInspector)!=null&&tn.enabled),this._reader=null,this._textDivProperties=qt||new WeakMap,this._canceled=!1,this._capability=new vt.PromiseCapability,this._layoutTextParams={prevFontSize:null,prevFontFamily:null,div:null,scale:jt.scale*(globalThis.devicePixelRatio||1),properties:null,ctx:wt(0,Gt)};const{pageWidth:en,pageHeight:dn,pageX:Qt,pageY:gn}=jt.rawDims;this._transform=[1,0,0,-1,-Qt,gn+dn],this._pageWidth=en,this._pageHeight=dn,(0,At.setLayerDimensions)(Lt,jt),this._capability.promise.finally(()=>{this._layoutTextParams=null}).catch(()=>{})}get promise(){return this._capability.promise}cancel(){this._canceled=!0,this._reader&&(this._reader.cancel(new vt.AbortException("TextLayer task cancelled.")).catch(()=>{}),this._reader=null),this._capability.reject(new vt.AbortException("TextLayer task cancelled."))}_processItems($t,Lt){for(const jt of $t){if(jt.str===void 0){if(jt.type==="beginMarkedContentProps"||jt.type==="beginMarkedContent"){const kt=this._container;this._container=document.createElement("span"),this._container.classList.add("markedContent"),jt.id!==null&&this._container.setAttribute("id",`${jt.id}`),kt.append(this._container)}else jt.type==="endMarkedContent"&&(this._container=this._container.parentNode);continue}this._textContentItemsStr.push(jt.str),Rt(this,jt,Lt)}}_layoutText($t){const Lt=this._layoutTextParams.properties=this._textDivProperties.get($t);if(this._layoutTextParams.div=$t,_e(this._layoutTextParams),Lt.hasText&&this._container.append($t),Lt.hasEOL){const jt=document.createElement("br");jt.setAttribute("role","presentation"),this._container.append(jt)}}_render(){const $t=new vt.PromiseCapability;let Lt=Object.create(null);if(this._isReadableStream){const jt=()=>{this._reader.read().then(({value:kt,done:qt})=>{if(qt){$t.resolve();return}Object.assign(Lt,kt.styles),this._processItems(kt.items,Lt),jt()},$t.reject)};this._reader=this._textContentSource.getReader(),jt()}else if(this._textContentSource){const{items:jt,styles:kt}=this._textContentSource;this._processItems(jt,kt),$t.resolve()}else throw new Error('No "textContentSource" parameter specified.');$t.promise.then(()=>{Lt=null,bt(this)},this._capability.reject)}}$.TextLayerRenderTask=Pt;function Xt(Nt){!Nt.textContentSource&&(Nt.textContent||Nt.textContentStream)&&((0,At.deprecated)("The TextLayerRender `textContent`/`textContentStream` parameters will be removed in the future, please use `textContentSource` instead."),Nt.textContentSource=Nt.textContent||Nt.textContentStream);const{container:$t,viewport:Lt}=Nt,jt=getComputedStyle($t),kt=jt.getPropertyValue("visibility"),qt=parseFloat(jt.getPropertyValue("--scale-factor"));kt==="visible"&&(!qt||Math.abs(qt-Lt.scale)>1e-5)&&console.error("The `--scale-factor` CSS-variable must be set, to the same value as `viewport.scale`, either on the `container`-element itself or higher up in the DOM.");const Bt=new Pt(Nt);return Bt._render(),Bt}function Kt({container:Nt,viewport:$t,textDivs:Lt,textDivProperties:jt,isOffscreenCanvasSupported:kt,mustRotate:qt=!0,mustRescale:Bt=!0}){if(qt&&(0,At.setLayerDimensions)(Nt,{rotation:$t.rotation}),Bt){const Gt=wt(0,kt),dn={prevFontSize:null,prevFontFamily:null,div:null,scale:$t.scale*(globalThis.devicePixelRatio||1),properties:null,ctx:Gt};for(const Qt of Lt)dn.properties=jt.get(Qt),dn.div=Qt,_e(dn)}}},(xt,$,ht)=>{var _t,Rt,_e,bt,Pt,Xt,Kt,Nt,$t,Lt,jt,_3,F2,F3,P3;Object.defineProperty($,"__esModule",{value:!0}),$.AnnotationEditorLayer=void 0;var vt=ht(1),At=ht(4),St=ht(28),Ct=ht(33),Et=ht(6),Ft=ht(34);const en=class en{constructor({uiManager:Qt,pageIndex:gn,div:tn,accessibilityManager:bn,annotationLayer:Wt,viewport:Yt,l10n:un}){Nn(this,jt);Nn(this,_t);Nn(this,Rt,!1);Nn(this,_e,null);Nn(this,bt,this.pointerup.bind(this));Nn(this,Pt,this.pointerdown.bind(this));Nn(this,Xt,new Map);Nn(this,Kt,!1);Nn(this,Nt,!1);Nn(this,$t,!1);Nn(this,Lt);const Ut=[St.FreeTextEditor,Ct.InkEditor,Ft.StampEditor];if(!en._initialized){en._initialized=!0;for(const Ot of Ut)Ot.initialize(un)}Qt.registerEditorTypes(Ut),$n(this,Lt,Qt),this.pageIndex=gn,this.div=tn,$n(this,_t,bn),$n(this,_e,Wt),this.viewport=Yt,Mt(this,Lt).addLayer(this)}get isEmpty(){return Mt(this,Xt).size===0}updateToolbar(Qt){Mt(this,Lt).updateToolbar(Qt)}updateMode(Qt=Mt(this,Lt).getMode()){Mn(this,jt,P3).call(this),Qt===vt.AnnotationEditorType.INK?(this.addInkEditorIfNeeded(!1),this.disableClick()):this.enableClick(),Qt!==vt.AnnotationEditorType.NONE&&(this.div.classList.toggle("freeTextEditing",Qt===vt.AnnotationEditorType.FREETEXT),this.div.classList.toggle("inkEditing",Qt===vt.AnnotationEditorType.INK),this.div.classList.toggle("stampEditing",Qt===vt.AnnotationEditorType.STAMP),this.div.hidden=!1)}addInkEditorIfNeeded(Qt){if(!Qt&&Mt(this,Lt).getMode()!==vt.AnnotationEditorType.INK)return;if(!Qt){for(const tn of Mt(this,Xt).values())if(tn.isEmpty()){tn.setInBackground();return}}Mn(this,jt,F2).call(this,{offsetX:0,offsetY:0},!1).setInBackground()}setEditingState(Qt){Mt(this,Lt).setEditingState(Qt)}addCommands(Qt){Mt(this,Lt).addCommands(Qt)}enable(){this.div.style.pointerEvents="auto";const Qt=new Set;for(const tn of Mt(this,Xt).values())tn.enableEditing(),tn.annotationElementId&&Qt.add(tn.annotationElementId);if(!Mt(this,_e))return;const gn=Mt(this,_e).getEditableAnnotations();for(const tn of gn){if(tn.hide(),Mt(this,Lt).isDeletedAnnotationElement(tn.data.id)||Qt.has(tn.data.id))continue;const bn=this.deserialize(tn);bn&&(this.addOrRebuild(bn),bn.enableEditing())}}disable(){var gn;$n(this,$t,!0),this.div.style.pointerEvents="none";const Qt=new Set;for(const tn of Mt(this,Xt).values()){if(tn.disableEditing(),!tn.annotationElementId||tn.serialize()!==null){Qt.add(tn.annotationElementId);continue}(gn=this.getEditableAnnotation(tn.annotationElementId))==null||gn.show(),tn.remove()}if(Mt(this,_e)){const tn=Mt(this,_e).getEditableAnnotations();for(const bn of tn){const{id:Wt}=bn.data;Qt.has(Wt)||Mt(this,Lt).isDeletedAnnotationElement(Wt)||bn.show()}}Mn(this,jt,P3).call(this),this.isEmpty&&(this.div.hidden=!0),$n(this,$t,!1)}getEditableAnnotation(Qt){var gn;return((gn=Mt(this,_e))==null?void 0:gn.getEditableAnnotation(Qt))||null}setActiveEditor(Qt){Mt(this,Lt).getActive()!==Qt&&Mt(this,Lt).setActiveEditor(Qt)}enableClick(){this.div.addEventListener("pointerdown",Mt(this,Pt)),this.div.addEventListener("pointerup",Mt(this,bt))}disableClick(){this.div.removeEventListener("pointerdown",Mt(this,Pt)),this.div.removeEventListener("pointerup",Mt(this,bt))}attach(Qt){Mt(this,Xt).set(Qt.id,Qt);const{annotationElementId:gn}=Qt;gn&&Mt(this,Lt).isDeletedAnnotationElement(gn)&&Mt(this,Lt).removeDeletedAnnotationElement(Qt)}detach(Qt){var gn;Mt(this,Xt).delete(Qt.id),(gn=Mt(this,_t))==null||gn.removePointerInTextLayer(Qt.contentDiv),!Mt(this,$t)&&Qt.annotationElementId&&Mt(this,Lt).addDeletedAnnotationElement(Qt)}remove(Qt){this.detach(Qt),Mt(this,Lt).removeEditor(Qt),Qt.div.contains(document.activeElement)&&setTimeout(()=>{Mt(this,Lt).focusMainContainer()},0),Qt.div.remove(),Qt.isAttachedToDOM=!1,Mt(this,Nt)||this.addInkEditorIfNeeded(!1)}changeParent(Qt){var gn;Qt.parent!==this&&(Qt.annotationElementId&&(Mt(this,Lt).addDeletedAnnotationElement(Qt.annotationElementId),At.AnnotationEditor.deleteAnnotationElement(Qt),Qt.annotationElementId=null),this.attach(Qt),(gn=Qt.parent)==null||gn.detach(Qt),Qt.setParent(this),Qt.div&&Qt.isAttachedToDOM&&(Qt.div.remove(),this.div.append(Qt.div)))}add(Qt){if(this.changeParent(Qt),Mt(this,Lt).addEditor(Qt),this.attach(Qt),!Qt.isAttachedToDOM){const gn=Qt.render();this.div.append(gn),Qt.isAttachedToDOM=!0}Qt.fixAndSetPosition(),Qt.onceAdded(),Mt(this,Lt).addToAnnotationStorage(Qt)}moveEditorInDOM(Qt){var tn;if(!Qt.isAttachedToDOM)return;const{activeElement:gn}=document;Qt.div.contains(gn)&&(Qt._focusEventsAllowed=!1,setTimeout(()=>{Qt.div.contains(document.activeElement)?Qt._focusEventsAllowed=!0:(Qt.div.addEventListener("focusin",()=>{Qt._focusEventsAllowed=!0},{once:!0}),gn.focus())},0)),Qt._structTreeParentId=(tn=Mt(this,_t))==null?void 0:tn.moveElementInDOM(this.div,Qt.div,Qt.contentDiv,!0)}addOrRebuild(Qt){Qt.needsToBeRebuilt()?Qt.rebuild():this.add(Qt)}addUndoableEditor(Qt){const gn=()=>Qt._uiManager.rebuild(Qt),tn=()=>{Qt.remove()};this.addCommands({cmd:gn,undo:tn,mustExec:!1})}getNextId(){return Mt(this,Lt).getId()}pasteEditor(Qt,gn){Mt(this,Lt).updateToolbar(Qt),Mt(this,Lt).updateMode(Qt);const{offsetX:tn,offsetY:bn}=Mn(this,jt,F3).call(this),Wt=this.getNextId(),Yt=Mn(this,jt,_3).call(this,{parent:this,id:Wt,x:tn,y:bn,uiManager:Mt(this,Lt),isCentered:!0,...gn});Yt&&this.add(Yt)}deserialize(Qt){switch(Qt.annotationType??Qt.annotationEditorType){case vt.AnnotationEditorType.FREETEXT:return St.FreeTextEditor.deserialize(Qt,this,Mt(this,Lt));case vt.AnnotationEditorType.INK:return Ct.InkEditor.deserialize(Qt,this,Mt(this,Lt));case vt.AnnotationEditorType.STAMP:return Ft.StampEditor.deserialize(Qt,this,Mt(this,Lt))}return null}addNewEditor(){Mn(this,jt,F2).call(this,Mn(this,jt,F3).call(this),!0)}setSelected(Qt){Mt(this,Lt).setSelected(Qt)}toggleSelected(Qt){Mt(this,Lt).toggleSelected(Qt)}isSelected(Qt){return Mt(this,Lt).isSelected(Qt)}unselect(Qt){Mt(this,Lt).unselect(Qt)}pointerup(Qt){const{isMac:gn}=vt.FeatureTest.platform;if(!(Qt.button!==0||Qt.ctrlKey&&gn)&&Qt.target===this.div&&Mt(this,Kt)){if($n(this,Kt,!1),!Mt(this,Rt)){$n(this,Rt,!0);return}if(Mt(this,Lt).getMode()===vt.AnnotationEditorType.STAMP){Mt(this,Lt).unselectAll();return}Mn(this,jt,F2).call(this,Qt,!1)}}pointerdown(Qt){if(Mt(this,Kt)){$n(this,Kt,!1);return}const{isMac:gn}=vt.FeatureTest.platform;if(Qt.button!==0||Qt.ctrlKey&&gn||Qt.target!==this.div)return;$n(this,Kt,!0);const tn=Mt(this,Lt).getActive();$n(this,Rt,!tn||tn.isEmpty())}findNewParent(Qt,gn,tn){const bn=Mt(this,Lt).findParent(gn,tn);return bn===null||bn===this?!1:(bn.changeParent(Qt),!0)}destroy(){var Qt,gn;((Qt=Mt(this,Lt).getActive())==null?void 0:Qt.parent)===this&&(Mt(this,Lt).commitOrRemove(),Mt(this,Lt).setActiveEditor(null));for(const tn of Mt(this,Xt).values())(gn=Mt(this,_t))==null||gn.removePointerInTextLayer(tn.contentDiv),tn.setParent(null),tn.isAttachedToDOM=!1,tn.div.remove();this.div=null,Mt(this,Xt).clear(),Mt(this,Lt).removeLayer(this)}render({viewport:Qt}){this.viewport=Qt,(0,Et.setLayerDimensions)(this.div,Qt);for(const gn of Mt(this,Lt).getEditors(this.pageIndex))this.add(gn);this.updateMode()}update({viewport:Qt}){Mt(this,Lt).commitOrRemove(),this.viewport=Qt,(0,Et.setLayerDimensions)(this.div,{rotation:Qt.rotation}),this.updateMode()}get pageDimensions(){const{pageWidth:Qt,pageHeight:gn}=this.viewport.rawDims;return[Qt,gn]}};_t=new WeakMap,Rt=new WeakMap,_e=new WeakMap,bt=new WeakMap,Pt=new WeakMap,Xt=new WeakMap,Kt=new WeakMap,Nt=new WeakMap,$t=new WeakMap,Lt=new WeakMap,jt=new WeakSet,_3=function(Qt){switch(Mt(this,Lt).getMode()){case vt.AnnotationEditorType.FREETEXT:return new St.FreeTextEditor(Qt);case vt.AnnotationEditorType.INK:return new Ct.InkEditor(Qt);case vt.AnnotationEditorType.STAMP:return new Ft.StampEditor(Qt)}return null},F2=function(Qt,gn){const tn=this.getNextId(),bn=Mn(this,jt,_3).call(this,{parent:this,id:tn,x:Qt.offsetX,y:Qt.offsetY,uiManager:Mt(this,Lt),isCentered:gn});return bn&&this.add(bn),bn},F3=function(){const{x:Qt,y:gn,width:tn,height:bn}=this.div.getBoundingClientRect(),Wt=Math.max(0,Qt),Yt=Math.max(0,gn),un=Math.min(window.innerWidth,Qt+tn),Ut=Math.min(window.innerHeight,gn+bn),Ot=(Wt+un)/2-Qt,Ht=(Yt+Ut)/2-gn,[an,zt]=this.viewport.rotation%180===0?[Ot,Ht]:[Ht,Ot];return{offsetX:an,offsetY:zt}},P3=function(){$n(this,Nt,!0);for(const Qt of Mt(this,Xt).values())Qt.isEmpty()&&Qt.remove();$n(this,Nt,!1)},Ur(en,"_initialized",!1);let wt=en;$.AnnotationEditorLayer=wt},(xt,$,ht)=>{var Ft,wt,_t,Rt,_e,bt,Pt,Xt,Kt,Nt,X8,W8,V8,dm,R3,G8,I3;Object.defineProperty($,"__esModule",{value:!0}),$.FreeTextEditor=void 0;var vt=ht(1),At=ht(5),St=ht(4),Ct=ht(29);const en=class en extends St.AnnotationEditor{constructor(gn){super({...gn,name:"freeTextEditor"});Nn(this,Nt);Nn(this,Ft,this.editorDivBlur.bind(this));Nn(this,wt,this.editorDivFocus.bind(this));Nn(this,_t,this.editorDivInput.bind(this));Nn(this,Rt,this.editorDivKeydown.bind(this));Nn(this,_e);Nn(this,bt,"");Nn(this,Pt,`${this.id}-editor`);Nn(this,Xt);Nn(this,Kt,null);$n(this,_e,gn.color||en._defaultColor||St.AnnotationEditor._defaultLineColor),$n(this,Xt,gn.fontSize||en._defaultFontSize)}static get _keyboardManager(){const gn=en.prototype,tn=Yt=>Yt.isEmpty(),bn=At.AnnotationEditorUIManager.TRANSLATE_SMALL,Wt=At.AnnotationEditorUIManager.TRANSLATE_BIG;return(0,vt.shadow)(this,"_keyboardManager",new At.KeyboardManager([[["ctrl+s","mac+meta+s","ctrl+p","mac+meta+p"],gn.commitOrRemove,{bubbles:!0}],[["ctrl+Enter","mac+meta+Enter","Escape","mac+Escape"],gn.commitOrRemove],[["ArrowLeft","mac+ArrowLeft"],gn._translateEmpty,{args:[-bn,0],checker:tn}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],gn._translateEmpty,{args:[-Wt,0],checker:tn}],[["ArrowRight","mac+ArrowRight"],gn._translateEmpty,{args:[bn,0],checker:tn}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],gn._translateEmpty,{args:[Wt,0],checker:tn}],[["ArrowUp","mac+ArrowUp"],gn._translateEmpty,{args:[0,-bn],checker:tn}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],gn._translateEmpty,{args:[0,-Wt],checker:tn}],[["ArrowDown","mac+ArrowDown"],gn._translateEmpty,{args:[0,bn],checker:tn}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],gn._translateEmpty,{args:[0,Wt],checker:tn}]]))}static initialize(gn){St.AnnotationEditor.initialize(gn,{strings:["free_text2_default_content","editor_free_text2_aria_label"]});const tn=getComputedStyle(document.documentElement);this._internalPadding=parseFloat(tn.getPropertyValue("--freetext-padding"))}static updateDefaultParams(gn,tn){switch(gn){case vt.AnnotationEditorParamsType.FREETEXT_SIZE:en._defaultFontSize=tn;break;case vt.AnnotationEditorParamsType.FREETEXT_COLOR:en._defaultColor=tn;break}}updateParams(gn,tn){switch(gn){case vt.AnnotationEditorParamsType.FREETEXT_SIZE:Mn(this,Nt,X8).call(this,tn);break;case vt.AnnotationEditorParamsType.FREETEXT_COLOR:Mn(this,Nt,W8).call(this,tn);break}}static get defaultPropertiesToUpdate(){return[[vt.AnnotationEditorParamsType.FREETEXT_SIZE,en._defaultFontSize],[vt.AnnotationEditorParamsType.FREETEXT_COLOR,en._defaultColor||St.AnnotationEditor._defaultLineColor]]}get propertiesToUpdate(){return[[vt.AnnotationEditorParamsType.FREETEXT_SIZE,Mt(this,Xt)],[vt.AnnotationEditorParamsType.FREETEXT_COLOR,Mt(this,_e)]]}_translateEmpty(gn,tn){this._uiManager.translateSelectedEditors(gn,tn,!0)}getInitialTranslation(){const gn=this.parentScale;return[-en._internalPadding*gn,-(en._internalPadding+Mt(this,Xt))*gn]}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.isAttachedToDOM||this.parent.add(this)))}enableEditMode(){this.isInEditMode()||(this.parent.setEditingState(!1),this.parent.updateToolbar(vt.AnnotationEditorType.FREETEXT),super.enableEditMode(),this.overlayDiv.classList.remove("enabled"),this.editorDiv.contentEditable=!0,this._isDraggable=!1,this.div.removeAttribute("aria-activedescendant"),this.editorDiv.addEventListener("keydown",Mt(this,Rt)),this.editorDiv.addEventListener("focus",Mt(this,wt)),this.editorDiv.addEventListener("blur",Mt(this,Ft)),this.editorDiv.addEventListener("input",Mt(this,_t)))}disableEditMode(){this.isInEditMode()&&(this.parent.setEditingState(!0),super.disableEditMode(),this.overlayDiv.classList.add("enabled"),this.editorDiv.contentEditable=!1,this.div.setAttribute("aria-activedescendant",Mt(this,Pt)),this._isDraggable=!0,this.editorDiv.removeEventListener("keydown",Mt(this,Rt)),this.editorDiv.removeEventListener("focus",Mt(this,wt)),this.editorDiv.removeEventListener("blur",Mt(this,Ft)),this.editorDiv.removeEventListener("input",Mt(this,_t)),this.div.focus({preventScroll:!0}),this.isEditing=!1,this.parent.div.classList.add("freeTextEditing"))}focusin(gn){this._focusEventsAllowed&&(super.focusin(gn),gn.target!==this.editorDiv&&this.editorDiv.focus())}onceAdded(){var gn;if(this.width){Mn(this,Nt,I3).call(this);return}this.enableEditMode(),this.editorDiv.focus(),(gn=this._initialOptions)!=null&&gn.isCentered&&this.center(),this._initialOptions=null}isEmpty(){return!this.editorDiv||this.editorDiv.innerText.trim()===""}remove(){this.isEditing=!1,this.parent&&(this.parent.setEditingState(!0),this.parent.div.classList.add("freeTextEditing")),super.remove()}commit(){if(!this.isInEditMode())return;super.commit(),this.disableEditMode();const gn=Mt(this,bt),tn=$n(this,bt,Mn(this,Nt,V8).call(this).trimEnd());if(gn===tn)return;const bn=Wt=>{if($n(this,bt,Wt),!Wt){this.remove();return}Mn(this,Nt,R3).call(this),this._uiManager.rebuild(this),Mn(this,Nt,dm).call(this)};this.addCommands({cmd:()=>{bn(tn)},undo:()=>{bn(gn)},mustExec:!1}),Mn(this,Nt,dm).call(this)}shouldGetKeyboardEvents(){return this.isInEditMode()}enterInEditMode(){this.enableEditMode(),this.editorDiv.focus()}dblclick(gn){this.enterInEditMode()}keydown(gn){gn.target===this.div&&gn.key==="Enter"&&(this.enterInEditMode(),gn.preventDefault())}editorDivKeydown(gn){en._keyboardManager.exec(this,gn)}editorDivFocus(gn){this.isEditing=!0}editorDivBlur(gn){this.isEditing=!1}editorDivInput(gn){this.parent.div.classList.toggle("freeTextEditing",this.isEmpty())}disableEditing(){this.editorDiv.setAttribute("role","comment"),this.editorDiv.removeAttribute("aria-multiline")}enableEditing(){this.editorDiv.setAttribute("role","textbox"),this.editorDiv.setAttribute("aria-multiline",!0)}render(){if(this.div)return this.div;let gn,tn;this.width&&(gn=this.x,tn=this.y),super.render(),this.editorDiv=document.createElement("div"),this.editorDiv.className="internal",this.editorDiv.setAttribute("id",Mt(this,Pt)),this.enableEditing(),St.AnnotationEditor._l10nPromise.get("editor_free_text2_aria_label").then(Wt=>{var Yt;return(Yt=this.editorDiv)==null?void 0:Yt.setAttribute("aria-label",Wt)}),St.AnnotationEditor._l10nPromise.get("free_text2_default_content").then(Wt=>{var Yt;return(Yt=this.editorDiv)==null?void 0:Yt.setAttribute("default-content",Wt)}),this.editorDiv.contentEditable=!0;const{style:bn}=this.editorDiv;if(bn.fontSize=`calc(${Mt(this,Xt)}px * var(--scale-factor))`,bn.color=Mt(this,_e),this.div.append(this.editorDiv),this.overlayDiv=document.createElement("div"),this.overlayDiv.classList.add("overlay","enabled"),this.div.append(this.overlayDiv),(0,At.bindEvents)(this,this.div,["dblclick","keydown"]),this.width){const[Wt,Yt]=this.parentDimensions;if(this.annotationElementId){const{position:un}=Mt(this,Kt);let[Ut,Ot]=this.getInitialTranslation();[Ut,Ot]=this.pageTranslationToScreen(Ut,Ot);const[Ht,an]=this.pageDimensions,[zt,Vt]=this.pageTranslation;let nn,hn;switch(this.rotation){case 0:nn=gn+(un[0]-zt)/Ht,hn=tn+this.height-(un[1]-Vt)/an;break;case 90:nn=gn+(un[0]-zt)/Ht,hn=tn-(un[1]-Vt)/an,[Ut,Ot]=[Ot,-Ut];break;case 180:nn=gn-this.width+(un[0]-zt)/Ht,hn=tn-(un[1]-Vt)/an,[Ut,Ot]=[-Ut,-Ot];break;case 270:nn=gn+(un[0]-zt-this.height*an)/Ht,hn=tn+(un[1]-Vt-this.width*Ht)/an,[Ut,Ot]=[-Ot,Ut];break}this.setAt(nn*Wt,hn*Yt,Ut,Ot)}else this.setAt(gn*Wt,tn*Yt,this.width*Wt,this.height*Yt);Mn(this,Nt,R3).call(this),this._isDraggable=!0,this.editorDiv.contentEditable=!1}else this._isDraggable=!1,this.editorDiv.contentEditable=!0;return this.div}get contentDiv(){return this.editorDiv}static deserialize(gn,tn,bn){let Wt=null;if(gn instanceof Ct.FreeTextAnnotationElement){const{data:{defaultAppearanceData:{fontSize:un,fontColor:Ut},rect:Ot,rotation:Ht,id:an},textContent:zt,textPosition:Vt,parent:{page:{pageNumber:nn}}}=gn;if(!zt||zt.length===0)return null;Wt=gn={annotationType:vt.AnnotationEditorType.FREETEXT,color:Array.from(Ut),fontSize:un,value:zt.join(`
`),position:Vt,pageIndex:nn-1,rect:Ot,rotation:Ht,id:an,deleted:!1}}const Yt=super.deserialize(gn,tn,bn);return $n(Yt,Xt,gn.fontSize),$n(Yt,_e,vt.Util.makeHexColor(...gn.color)),$n(Yt,bt,gn.value),Yt.annotationElementId=gn.id||null,$n(Yt,Kt,Wt),Yt}serialize(gn=!1){if(this.isEmpty())return null;if(this.deleted)return{pageIndex:this.pageIndex,id:this.annotationElementId,deleted:!0};const tn=en._internalPadding*this.parentScale,bn=this.getRect(tn,tn),Wt=St.AnnotationEditor._colorManager.convert(this.isAttachedToDOM?getComputedStyle(this.editorDiv).color:Mt(this,_e)),Yt={annotationType:vt.AnnotationEditorType.FREETEXT,color:Wt,fontSize:Mt(this,Xt),value:Mt(this,bt),pageIndex:this.pageIndex,rect:bn,rotation:this.rotation,structTreeParentId:this._structTreeParentId};return gn?Yt:this.annotationElementId&&!Mn(this,Nt,G8).call(this,Yt)?null:(Yt.id=this.annotationElementId,Yt)}};Ft=new WeakMap,wt=new WeakMap,_t=new WeakMap,Rt=new WeakMap,_e=new WeakMap,bt=new WeakMap,Pt=new WeakMap,Xt=new WeakMap,Kt=new WeakMap,Nt=new WeakSet,X8=function(gn){const tn=Wt=>{this.editorDiv.style.fontSize=`calc(${Wt}px * var(--scale-factor))`,this.translate(0,-(Wt-Mt(this,Xt))*this.parentScale),$n(this,Xt,Wt),Mn(this,Nt,dm).call(this)},bn=Mt(this,Xt);this.addCommands({cmd:()=>{tn(gn)},undo:()=>{tn(bn)},mustExec:!0,type:vt.AnnotationEditorParamsType.FREETEXT_SIZE,overwriteIfSameType:!0,keepUndo:!0})},W8=function(gn){const tn=Mt(this,_e);this.addCommands({cmd:()=>{$n(this,_e,this.editorDiv.style.color=gn)},undo:()=>{$n(this,_e,this.editorDiv.style.color=tn)},mustExec:!0,type:vt.AnnotationEditorParamsType.FREETEXT_COLOR,overwriteIfSameType:!0,keepUndo:!0})},V8=function(){const gn=this.editorDiv.getElementsByTagName("div");if(gn.length===0)return this.editorDiv.innerText;const tn=[];for(const bn of gn)tn.push(bn.innerText.replace(/\r\n?|\n/,""));return tn.join(`
`)},dm=function(){const[gn,tn]=this.parentDimensions;let bn;if(this.isAttachedToDOM)bn=this.div.getBoundingClientRect();else{const{currentLayer:Wt,div:Yt}=this,un=Yt.style.display;Yt.style.display="hidden",Wt.div.append(this.div),bn=Yt.getBoundingClientRect(),Yt.remove(),Yt.style.display=un}this.rotation%180===this.parentRotation%180?(this.width=bn.width/gn,this.height=bn.height/tn):(this.width=bn.height/gn,this.height=bn.width/tn),this.fixAndSetPosition()},R3=function(){if(this.editorDiv.replaceChildren(),!!Mt(this,bt))for(const gn of Mt(this,bt).split(`
`)){const tn=document.createElement("div");tn.append(gn?document.createTextNode(gn):document.createElement("br")),this.editorDiv.append(tn)}},G8=function(gn){const{value:tn,fontSize:bn,color:Wt,rect:Yt,pageIndex:un}=Mt(this,Kt);return gn.value!==tn||gn.fontSize!==bn||gn.rect.some((Ut,Ot)=>Math.abs(Ut-Yt[Ot])>=1)||gn.color.some((Ut,Ot)=>Ut!==Wt[Ot])||gn.pageIndex!==un},I3=function(gn=!1){if(!this.annotationElementId)return;if(Mn(this,Nt,dm).call(this),!gn&&(this.width===0||this.height===0)){setTimeout(()=>Mn(this,Nt,I3).call(this,!0),0);return}const tn=en._internalPadding*this.parentScale;Mt(this,Kt).rect=this.getRect(tn,tn)},Ur(en,"_freeTextDefaultContent",""),Ur(en,"_internalPadding",0),Ur(en,"_defaultColor",null),Ur(en,"_defaultFontSize",10),Ur(en,"_type","freetext");let Et=en;$.FreeTextEditor=Et},(xt,$,ht)=>{var hn,cn,Pu,q8,xn,vn,kn,Pn,On,_n,Sn,mn,fn,Jt,ln,pn,wn,Cn,Fn,En,An,Tn,K8,P2,M3,O3,Un,tr,er,Qn,Yn,Xn,nr,D3,dr,Bn,Hn,Wn,Y8,L3;Object.defineProperty($,"__esModule",{value:!0}),$.StampAnnotationElement=$.InkAnnotationElement=$.FreeTextAnnotationElement=$.AnnotationLayer=void 0;var vt=ht(1),At=ht(6),St=ht(3),Ct=ht(30),Et=ht(31),Ft=ht(32);const wt=1e3,_t=9,Rt=new WeakSet;function _e(xr){return{width:xr[2]-xr[0],height:xr[3]-xr[1]}}class bt{static create(Jn){switch(Jn.data.annotationType){case vt.AnnotationType.LINK:return new Xt(Jn);case vt.AnnotationType.TEXT:return new Kt(Jn);case vt.AnnotationType.WIDGET:switch(Jn.data.fieldType){case"Tx":return new $t(Jn);case"Btn":return Jn.data.radioButton?new kt(Jn):Jn.data.checkBox?new jt(Jn):new qt(Jn);case"Ch":return new Bt(Jn);case"Sig":return new Lt(Jn)}return new Nt(Jn);case vt.AnnotationType.POPUP:return new Gt(Jn);case vt.AnnotationType.FREETEXT:return new dn(Jn);case vt.AnnotationType.LINE:return new Qt(Jn);case vt.AnnotationType.SQUARE:return new gn(Jn);case vt.AnnotationType.CIRCLE:return new tn(Jn);case vt.AnnotationType.POLYLINE:return new bn(Jn);case vt.AnnotationType.CARET:return new Yt(Jn);case vt.AnnotationType.INK:return new un(Jn);case vt.AnnotationType.POLYGON:return new Wt(Jn);case vt.AnnotationType.HIGHLIGHT:return new Ut(Jn);case vt.AnnotationType.UNDERLINE:return new Ot(Jn);case vt.AnnotationType.SQUIGGLY:return new Ht(Jn);case vt.AnnotationType.STRIKEOUT:return new an(Jn);case vt.AnnotationType.STAMP:return new zt(Jn);case vt.AnnotationType.FILEATTACHMENT:return new Vt(Jn);default:return new Pt(Jn)}}}const on=class on{constructor(Jn,{isRenderable:Vn=!1,ignoreBorder:Zn=!1,createQuadrilaterals:ur=!1}={}){Nn(this,hn,!1);this.isRenderable=Vn,this.data=Jn.data,this.layer=Jn.layer,this.linkService=Jn.linkService,this.downloadManager=Jn.downloadManager,this.imageResourcesPath=Jn.imageResourcesPath,this.renderForms=Jn.renderForms,this.svgFactory=Jn.svgFactory,this.annotationStorage=Jn.annotationStorage,this.enableScripting=Jn.enableScripting,this.hasJSActions=Jn.hasJSActions,this._fieldObjects=Jn.fieldObjects,this.parent=Jn.parent,Vn&&(this.container=this._createContainer(Zn)),ur&&this._createQuadrilaterals()}static _hasPopupData({titleObj:Jn,contentsObj:Vn,richText:Zn}){return!!(Jn!=null&&Jn.str||Vn!=null&&Vn.str||Zn!=null&&Zn.str)}get hasPopupData(){return on._hasPopupData(this.data)}_createContainer(Jn){const{data:Vn,parent:{page:Zn,viewport:ur}}=this,hr=document.createElement("section");hr.setAttribute("data-annotation-id",Vn.id),this instanceof Nt||(hr.tabIndex=wt),hr.style.zIndex=this.parent.zIndex++,this.data.popupRef&&hr.setAttribute("aria-haspopup","dialog"),Vn.noRotate&&hr.classList.add("norotate");const{pageWidth:or,pageHeight:pr,pageX:wr,pageY:fr}=ur.rawDims;if(!Vn.rect||this instanceof Gt){const{rotation:Er}=Vn;return!Vn.hasOwnCanvas&&Er!==0&&this.setRotation(Er,hr),hr}const{width:Ar,height:Lr}=_e(Vn.rect),Pr=vt.Util.normalizeRect([Vn.rect[0],Zn.view[3]-Vn.rect[1]+Zn.view[1],Vn.rect[2],Zn.view[3]-Vn.rect[3]+Zn.view[1]]);if(!Jn&&Vn.borderStyle.width>0){hr.style.borderWidth=`${Vn.borderStyle.width}px`;const Er=Vn.borderStyle.horizontalCornerRadius,_r=Vn.borderStyle.verticalCornerRadius;if(Er>0||_r>0){const qr=`calc(${Er}px * var(--scale-factor)) / calc(${_r}px * var(--scale-factor))`;hr.style.borderRadius=qr}else if(this instanceof kt){const qr=`calc(${Ar}px * var(--scale-factor)) / calc(${Lr}px * var(--scale-factor))`;hr.style.borderRadius=qr}switch(Vn.borderStyle.style){case vt.AnnotationBorderStyleType.SOLID:hr.style.borderStyle="solid";break;case vt.AnnotationBorderStyleType.DASHED:hr.style.borderStyle="dashed";break;case vt.AnnotationBorderStyleType.BEVELED:(0,vt.warn)("Unimplemented border style: beveled");break;case vt.AnnotationBorderStyleType.INSET:(0,vt.warn)("Unimplemented border style: inset");break;case vt.AnnotationBorderStyleType.UNDERLINE:hr.style.borderBottomStyle="solid";break}const Fr=Vn.borderColor||null;Fr?($n(this,hn,!0),hr.style.borderColor=vt.Util.makeHexColor(Fr[0]|0,Fr[1]|0,Fr[2]|0)):hr.style.borderWidth=0}hr.style.left=`${100*(Pr[0]-wr)/or}%`,hr.style.top=`${100*(Pr[1]-fr)/pr}%`;const{rotation:$r}=Vn;return Vn.hasOwnCanvas||$r===0?(hr.style.width=`${100*Ar/or}%`,hr.style.height=`${100*Lr/pr}%`):this.setRotation($r,hr),hr}setRotation(Jn,Vn=this.container){if(!this.data.rect)return;const{pageWidth:Zn,pageHeight:ur}=this.parent.viewport.rawDims,{width:hr,height:or}=_e(this.data.rect);let pr,wr;Jn%180===0?(pr=100*hr/Zn,wr=100*or/ur):(pr=100*or/Zn,wr=100*hr/ur),Vn.style.width=`${pr}%`,Vn.style.height=`${wr}%`,Vn.setAttribute("data-main-rotation",(360-Jn)%360)}get _commonActions(){const Jn=(Vn,Zn,ur)=>{const hr=ur.detail[Vn],or=hr[0],pr=hr.slice(1);ur.target.style[Zn]=Ct.ColorConverters[`${or}_HTML`](pr),this.annotationStorage.setValue(this.data.id,{[Zn]:Ct.ColorConverters[`${or}_rgb`](pr)})};return(0,vt.shadow)(this,"_commonActions",{display:Vn=>{const{display:Zn}=Vn.detail,ur=Zn%2===1;this.container.style.visibility=ur?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noView:ur,noPrint:Zn===1||Zn===2})},print:Vn=>{this.annotationStorage.setValue(this.data.id,{noPrint:!Vn.detail.print})},hidden:Vn=>{const{hidden:Zn}=Vn.detail;this.container.style.visibility=Zn?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noPrint:Zn,noView:Zn})},focus:Vn=>{setTimeout(()=>Vn.target.focus({preventScroll:!1}),0)},userName:Vn=>{Vn.target.title=Vn.detail.userName},readonly:Vn=>{Vn.target.disabled=Vn.detail.readonly},required:Vn=>{this._setRequired(Vn.target,Vn.detail.required)},bgColor:Vn=>{Jn("bgColor","backgroundColor",Vn)},fillColor:Vn=>{Jn("fillColor","backgroundColor",Vn)},fgColor:Vn=>{Jn("fgColor","color",Vn)},textColor:Vn=>{Jn("textColor","color",Vn)},borderColor:Vn=>{Jn("borderColor","borderColor",Vn)},strokeColor:Vn=>{Jn("strokeColor","borderColor",Vn)},rotation:Vn=>{const Zn=Vn.detail.rotation;this.setRotation(Zn),this.annotationStorage.setValue(this.data.id,{rotation:Zn})}})}_dispatchEventFromSandbox(Jn,Vn){const Zn=this._commonActions;for(const ur of Object.keys(Vn.detail)){const hr=Jn[ur]||Zn[ur];hr==null||hr(Vn)}}_setDefaultPropertiesFromJS(Jn){if(!this.enableScripting)return;const Vn=this.annotationStorage.getRawValue(this.data.id);if(!Vn)return;const Zn=this._commonActions;for(const[ur,hr]of Object.entries(Vn)){const or=Zn[ur];if(or){const pr={detail:{[ur]:hr},target:Jn};or(pr),delete Vn[ur]}}}_createQuadrilaterals(){if(!this.container)return;const{quadPoints:Jn}=this.data;if(!Jn)return;const[Vn,Zn,ur,hr]=this.data.rect;if(Jn.length===1){const[,{x:_r,y:Fr},{x:qr,y:vs}]=Jn[0];if(ur===_r&&hr===Fr&&Vn===qr&&Zn===vs)return}const{style:or}=this.container;let pr;if(Mt(this,hn)){const{borderColor:_r,borderWidth:Fr}=or;or.borderWidth=0,pr=["url('data:image/svg+xml;utf8,",'<svg xmlns="http://www.w3.org/2000/svg"',' preserveAspectRatio="none" viewBox="0 0 1 1">',`<g fill="transparent" stroke="${_r}" stroke-width="${Fr}">`],this.container.classList.add("hasBorder")}const wr=ur-Vn,fr=hr-Zn,{svgFactory:Ar}=this,Lr=Ar.createElement("svg");Lr.classList.add("quadrilateralsContainer"),Lr.setAttribute("width",0),Lr.setAttribute("height",0);const Pr=Ar.createElement("defs");Lr.append(Pr);const $r=Ar.createElement("clipPath"),Er=`clippath_${this.data.id}`;$r.setAttribute("id",Er),$r.setAttribute("clipPathUnits","objectBoundingBox"),Pr.append($r);for(const[,{x:_r,y:Fr},{x:qr,y:vs}]of Jn){const ls=Ar.createElement("rect"),ns=(qr-Vn)/wr,Ns=(hr-Fr)/fr,Gs=(_r-qr)/wr,vr=(Fr-vs)/fr;ls.setAttribute("x",ns),ls.setAttribute("y",Ns),ls.setAttribute("width",Gs),ls.setAttribute("height",vr),$r.append(ls),pr==null||pr.push(`<rect vector-effect="non-scaling-stroke" x="${ns}" y="${Ns}" width="${Gs}" height="${vr}"/>`)}Mt(this,hn)&&(pr.push("</g></svg>')"),or.backgroundImage=pr.join("")),this.container.append(Lr),this.container.style.clipPath=`url(#${Er})`}_createPopup(){const{container:Jn,data:Vn}=this;Jn.setAttribute("aria-haspopup","dialog");const Zn=new Gt({data:{color:Vn.color,titleObj:Vn.titleObj,modificationDate:Vn.modificationDate,contentsObj:Vn.contentsObj,richText:Vn.richText,parentRect:Vn.rect,borderStyle:0,id:`popup_${Vn.id}`,rotation:Vn.rotation},parent:this.parent,elements:[this]});this.parent.div.append(Zn.render())}render(){(0,vt.unreachable)("Abstract method `AnnotationElement.render` called")}_getElementsByName(Jn,Vn=null){const Zn=[];if(this._fieldObjects){const ur=this._fieldObjects[Jn];if(ur)for(const{page:hr,id:or,exportValues:pr}of ur){if(hr===-1||or===Vn)continue;const wr=typeof pr=="string"?pr:null,fr=document.querySelector(`[data-element-id="${or}"]`);if(fr&&!Rt.has(fr)){(0,vt.warn)(`_getElementsByName - element not allowed: ${or}`);continue}Zn.push({id:or,exportValue:wr,domElement:fr})}return Zn}for(const ur of document.getElementsByName(Jn)){const{exportValue:hr}=ur,or=ur.getAttribute("data-element-id");or!==Vn&&Rt.has(ur)&&Zn.push({id:or,exportValue:hr,domElement:ur})}return Zn}show(){var Jn;this.container&&(this.container.hidden=!1),(Jn=this.popup)==null||Jn.maybeShow()}hide(){var Jn;this.container&&(this.container.hidden=!0),(Jn=this.popup)==null||Jn.forceHide()}getElementsToTriggerPopup(){return this.container}addHighlightArea(){const Jn=this.getElementsToTriggerPopup();if(Array.isArray(Jn))for(const Vn of Jn)Vn.classList.add("highlightArea");else Jn.classList.add("highlightArea")}_editOnDoubleClick(){const{annotationEditorType:Jn,data:{id:Vn}}=this;this.container.addEventListener("dblclick",()=>{var Zn;(Zn=this.linkService.eventBus)==null||Zn.dispatch("switchannotationeditormode",{source:this,mode:Jn,editId:Vn})})}};hn=new WeakMap;let Pt=on;class Xt extends Pt{constructor(Vn,Zn=null){super(Vn,{isRenderable:!0,ignoreBorder:!!(Zn!=null&&Zn.ignoreBorder),createQuadrilaterals:!0});Nn(this,cn);this.isTooltipOnly=Vn.data.isTooltipOnly}render(){const{data:Vn,linkService:Zn}=this,ur=document.createElement("a");ur.setAttribute("data-element-id",Vn.id);let hr=!1;return Vn.url?(Zn.addLinkAttributes(ur,Vn.url,Vn.newWindow),hr=!0):Vn.action?(this._bindNamedAction(ur,Vn.action),hr=!0):Vn.attachment?(this._bindAttachment(ur,Vn.attachment),hr=!0):Vn.setOCGState?(Mn(this,cn,q8).call(this,ur,Vn.setOCGState),hr=!0):Vn.dest?(this._bindLink(ur,Vn.dest),hr=!0):(Vn.actions&&(Vn.actions.Action||Vn.actions["Mouse Up"]||Vn.actions["Mouse Down"])&&this.enableScripting&&this.hasJSActions&&(this._bindJSAction(ur,Vn),hr=!0),Vn.resetForm?(this._bindResetFormAction(ur,Vn.resetForm),hr=!0):this.isTooltipOnly&&!hr&&(this._bindLink(ur,""),hr=!0)),this.container.classList.add("linkAnnotation"),hr&&this.container.append(ur),this.container}_bindLink(Vn,Zn){Vn.href=this.linkService.getDestinationHash(Zn),Vn.onclick=()=>(Zn&&this.linkService.goToDestination(Zn),!1),(Zn||Zn==="")&&Mn(this,cn,Pu).call(this)}_bindNamedAction(Vn,Zn){Vn.href=this.linkService.getAnchorUrl(""),Vn.onclick=()=>(this.linkService.executeNamedAction(Zn),!1),Mn(this,cn,Pu).call(this)}_bindAttachment(Vn,Zn){Vn.href=this.linkService.getAnchorUrl(""),Vn.onclick=()=>{var ur;return(ur=this.downloadManager)==null||ur.openOrDownloadData(this.container,Zn.content,Zn.filename),!1},Mn(this,cn,Pu).call(this)}_bindJSAction(Vn,Zn){Vn.href=this.linkService.getAnchorUrl("");const ur=new Map([["Action","onclick"],["Mouse Up","onmouseup"],["Mouse Down","onmousedown"]]);for(const hr of Object.keys(Zn.actions)){const or=ur.get(hr);or&&(Vn[or]=()=>{var pr;return(pr=this.linkService.eventBus)==null||pr.dispatch("dispatcheventinsandbox",{source:this,detail:{id:Zn.id,name:hr}}),!1})}Vn.onclick||(Vn.onclick=()=>!1),Mn(this,cn,Pu).call(this)}_bindResetFormAction(Vn,Zn){const ur=Vn.onclick;if(ur||(Vn.href=this.linkService.getAnchorUrl("")),Mn(this,cn,Pu).call(this),!this._fieldObjects){(0,vt.warn)('_bindResetFormAction - "resetForm" action not supported, ensure that the `fieldObjects` parameter is provided.'),ur||(Vn.onclick=()=>!1);return}Vn.onclick=()=>{var Lr;ur==null||ur();const{fields:hr,refs:or,include:pr}=Zn,wr=[];if(hr.length!==0||or.length!==0){const Pr=new Set(or);for(const $r of hr){const Er=this._fieldObjects[$r]||[];for(const{id:_r}of Er)Pr.add(_r)}for(const $r of Object.values(this._fieldObjects))for(const Er of $r)Pr.has(Er.id)===pr&&wr.push(Er)}else for(const Pr of Object.values(this._fieldObjects))wr.push(...Pr);const fr=this.annotationStorage,Ar=[];for(const Pr of wr){const{id:$r}=Pr;switch(Ar.push($r),Pr.type){case"text":{const _r=Pr.defaultValue||"";fr.setValue($r,{value:_r});break}case"checkbox":case"radiobutton":{const _r=Pr.defaultValue===Pr.exportValues;fr.setValue($r,{value:_r});break}case"combobox":case"listbox":{const _r=Pr.defaultValue||"";fr.setValue($r,{value:_r});break}default:continue}const Er=document.querySelector(`[data-element-id="${$r}"]`);if(Er){if(!Rt.has(Er)){(0,vt.warn)(`_bindResetFormAction - element not allowed: ${$r}`);continue}}else continue;Er.dispatchEvent(new Event("resetform"))}return this.enableScripting&&((Lr=this.linkService.eventBus)==null||Lr.dispatch("dispatcheventinsandbox",{source:this,detail:{id:"app",ids:Ar,name:"ResetForm"}})),!1}}}cn=new WeakSet,Pu=function(){this.container.setAttribute("data-internal-link","")},q8=function(Vn,Zn){Vn.href=this.linkService.getAnchorUrl(""),Vn.onclick=()=>(this.linkService.executeSetOCGState(Zn),!1),Mn(this,cn,Pu).call(this)};class Kt extends Pt{constructor(Jn){super(Jn,{isRenderable:!0})}render(){this.container.classList.add("textAnnotation");const Jn=document.createElement("img");return Jn.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",Jn.alt="[{{type}} Annotation]",Jn.dataset.l10nId="text_annotation_type",Jn.dataset.l10nArgs=JSON.stringify({type:this.data.name}),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.append(Jn),this.container}}class Nt extends Pt{render(){return this.data.alternativeText&&(this.container.title=this.data.alternativeText),this.container}showElementAndHideCanvas(Jn){var Vn;this.data.hasOwnCanvas&&(((Vn=Jn.previousSibling)==null?void 0:Vn.nodeName)==="CANVAS"&&(Jn.previousSibling.hidden=!0),Jn.hidden=!1)}_getKeyModifier(Jn){const{isWin:Vn,isMac:Zn}=vt.FeatureTest.platform;return Vn&&Jn.ctrlKey||Zn&&Jn.metaKey}_setEventListener(Jn,Vn,Zn,ur,hr){Zn.includes("mouse")?Jn.addEventListener(Zn,or=>{var pr;(pr=this.linkService.eventBus)==null||pr.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:ur,value:hr(or),shift:or.shiftKey,modifier:this._getKeyModifier(or)}})}):Jn.addEventListener(Zn,or=>{var pr;if(Zn==="blur"){if(!Vn.focused||!or.relatedTarget)return;Vn.focused=!1}else if(Zn==="focus"){if(Vn.focused)return;Vn.focused=!0}hr&&((pr=this.linkService.eventBus)==null||pr.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:ur,value:hr(or)}}))})}_setEventListeners(Jn,Vn,Zn,ur){var hr,or,pr;for(const[wr,fr]of Zn)(fr==="Action"||(hr=this.data.actions)!=null&&hr[fr])&&((fr==="Focus"||fr==="Blur")&&(Vn||(Vn={focused:!1})),this._setEventListener(Jn,Vn,wr,fr,ur),fr==="Focus"&&!((or=this.data.actions)!=null&&or.Blur)?this._setEventListener(Jn,Vn,"blur","Blur",null):fr==="Blur"&&!((pr=this.data.actions)!=null&&pr.Focus)&&this._setEventListener(Jn,Vn,"focus","Focus",null))}_setBackgroundColor(Jn){const Vn=this.data.backgroundColor||null;Jn.style.backgroundColor=Vn===null?"transparent":vt.Util.makeHexColor(Vn[0],Vn[1],Vn[2])}_setTextStyle(Jn){const Vn=["left","center","right"],{fontColor:Zn}=this.data.defaultAppearanceData,ur=this.data.defaultAppearanceData.fontSize||_t,hr=Jn.style;let or;const pr=2,wr=fr=>Math.round(10*fr)/10;if(this.data.multiLine){const fr=Math.abs(this.data.rect[3]-this.data.rect[1]-pr),Ar=Math.round(fr/(vt.LINE_FACTOR*ur))||1,Lr=fr/Ar;or=Math.min(ur,wr(Lr/vt.LINE_FACTOR))}else{const fr=Math.abs(this.data.rect[3]-this.data.rect[1]-pr);or=Math.min(ur,wr(fr/vt.LINE_FACTOR))}hr.fontSize=`calc(${or}px * var(--scale-factor))`,hr.color=vt.Util.makeHexColor(Zn[0],Zn[1],Zn[2]),this.data.textAlignment!==null&&(hr.textAlign=Vn[this.data.textAlignment])}_setRequired(Jn,Vn){Vn?Jn.setAttribute("required",!0):Jn.removeAttribute("required"),Jn.setAttribute("aria-required",Vn)}}class $t extends Nt{constructor(Jn){const Vn=Jn.renderForms||!Jn.data.hasAppearance&&!!Jn.data.fieldValue;super(Jn,{isRenderable:Vn})}setPropertyOnSiblings(Jn,Vn,Zn,ur){const hr=this.annotationStorage;for(const or of this._getElementsByName(Jn.name,Jn.id))or.domElement&&(or.domElement[Vn]=Zn),hr.setValue(or.id,{[ur]:Zn})}render(){var ur,hr;const Jn=this.annotationStorage,Vn=this.data.id;this.container.classList.add("textWidgetAnnotation");let Zn=null;if(this.renderForms){const or=Jn.getValue(Vn,{value:this.data.fieldValue});let pr=or.value||"";const wr=Jn.getValue(Vn,{charLimit:this.data.maxLen}).charLimit;wr&&pr.length>wr&&(pr=pr.slice(0,wr));let fr=or.formattedValue||((ur=this.data.textContent)==null?void 0:ur.join(`
`))||null;fr&&this.data.comb&&(fr=fr.replaceAll(/\s+/g,""));const Ar={userValue:pr,formattedValue:fr,lastCommittedValue:null,commitKey:1,focused:!1};this.data.multiLine?(Zn=document.createElement("textarea"),Zn.textContent=fr??pr,this.data.doNotScroll&&(Zn.style.overflowY="hidden")):(Zn=document.createElement("input"),Zn.type="text",Zn.setAttribute("value",fr??pr),this.data.doNotScroll&&(Zn.style.overflowX="hidden")),this.data.hasOwnCanvas&&(Zn.hidden=!0),Rt.add(Zn),Zn.setAttribute("data-element-id",Vn),Zn.disabled=this.data.readOnly,Zn.name=this.data.fieldName,Zn.tabIndex=wt,this._setRequired(Zn,this.data.required),wr&&(Zn.maxLength=wr),Zn.addEventListener("input",Pr=>{Jn.setValue(Vn,{value:Pr.target.value}),this.setPropertyOnSiblings(Zn,"value",Pr.target.value,"value"),Ar.formattedValue=null}),Zn.addEventListener("resetform",Pr=>{const $r=this.data.defaultFieldValue??"";Zn.value=Ar.userValue=$r,Ar.formattedValue=null});let Lr=Pr=>{const{formattedValue:$r}=Ar;$r!=null&&(Pr.target.value=$r),Pr.target.scrollLeft=0};if(this.enableScripting&&this.hasJSActions){Zn.addEventListener("focus",$r=>{if(Ar.focused)return;const{target:Er}=$r;Ar.userValue&&(Er.value=Ar.userValue),Ar.lastCommittedValue=Er.value,Ar.commitKey=1,Ar.focused=!0}),Zn.addEventListener("updatefromsandbox",$r=>{this.showElementAndHideCanvas($r.target);const Er={value(_r){Ar.userValue=_r.detail.value??"",Jn.setValue(Vn,{value:Ar.userValue.toString()}),_r.target.value=Ar.userValue},formattedValue(_r){const{formattedValue:Fr}=_r.detail;Ar.formattedValue=Fr,Fr!=null&&_r.target!==document.activeElement&&(_r.target.value=Fr),Jn.setValue(Vn,{formattedValue:Fr})},selRange(_r){_r.target.setSelectionRange(..._r.detail.selRange)},charLimit:_r=>{var ls;const{charLimit:Fr}=_r.detail,{target:qr}=_r;if(Fr===0){qr.removeAttribute("maxLength");return}qr.setAttribute("maxLength",Fr);let vs=Ar.userValue;!vs||vs.length<=Fr||(vs=vs.slice(0,Fr),qr.value=Ar.userValue=vs,Jn.setValue(Vn,{value:vs}),(ls=this.linkService.eventBus)==null||ls.dispatch("dispatcheventinsandbox",{source:this,detail:{id:Vn,name:"Keystroke",value:vs,willCommit:!0,commitKey:1,selStart:qr.selectionStart,selEnd:qr.selectionEnd}}))}};this._dispatchEventFromSandbox(Er,$r)}),Zn.addEventListener("keydown",$r=>{var Fr;Ar.commitKey=1;let Er=-1;if($r.key==="Escape"?Er=0:$r.key==="Enter"&&!this.data.multiLine?Er=2:$r.key==="Tab"&&(Ar.commitKey=3),Er===-1)return;const{value:_r}=$r.target;Ar.lastCommittedValue!==_r&&(Ar.lastCommittedValue=_r,Ar.userValue=_r,(Fr=this.linkService.eventBus)==null||Fr.dispatch("dispatcheventinsandbox",{source:this,detail:{id:Vn,name:"Keystroke",value:_r,willCommit:!0,commitKey:Er,selStart:$r.target.selectionStart,selEnd:$r.target.selectionEnd}}))});const Pr=Lr;Lr=null,Zn.addEventListener("blur",$r=>{var _r;if(!Ar.focused||!$r.relatedTarget)return;Ar.focused=!1;const{value:Er}=$r.target;Ar.userValue=Er,Ar.lastCommittedValue!==Er&&((_r=this.linkService.eventBus)==null||_r.dispatch("dispatcheventinsandbox",{source:this,detail:{id:Vn,name:"Keystroke",value:Er,willCommit:!0,commitKey:Ar.commitKey,selStart:$r.target.selectionStart,selEnd:$r.target.selectionEnd}})),Pr($r)}),(hr=this.data.actions)!=null&&hr.Keystroke&&Zn.addEventListener("beforeinput",$r=>{var Ns;Ar.lastCommittedValue=null;const{data:Er,target:_r}=$r,{value:Fr,selectionStart:qr,selectionEnd:vs}=_r;let ls=qr,ns=vs;switch($r.inputType){case"deleteWordBackward":{const Gs=Fr.substring(0,qr).match(/\w*[^\w]*$/);Gs&&(ls-=Gs[0].length);break}case"deleteWordForward":{const Gs=Fr.substring(qr).match(/^[^\w]*\w*/);Gs&&(ns+=Gs[0].length);break}case"deleteContentBackward":qr===vs&&(ls-=1);break;case"deleteContentForward":qr===vs&&(ns+=1);break}$r.preventDefault(),(Ns=this.linkService.eventBus)==null||Ns.dispatch("dispatcheventinsandbox",{source:this,detail:{id:Vn,name:"Keystroke",value:Fr,change:Er||"",willCommit:!1,selStart:ls,selEnd:ns}})}),this._setEventListeners(Zn,Ar,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],$r=>$r.target.value)}if(Lr&&Zn.addEventListener("blur",Lr),this.data.comb){const $r=(this.data.rect[2]-this.data.rect[0])/wr;Zn.classList.add("comb"),Zn.style.letterSpacing=`calc(${$r}px * var(--scale-factor) - 1ch)`}}else Zn=document.createElement("div"),Zn.textContent=this.data.fieldValue,Zn.style.verticalAlign="middle",Zn.style.display="table-cell";return this._setTextStyle(Zn),this._setBackgroundColor(Zn),this._setDefaultPropertiesFromJS(Zn),this.container.append(Zn),this.container}}class Lt extends Nt{constructor(Jn){super(Jn,{isRenderable:!!Jn.data.hasOwnCanvas})}}class jt extends Nt{constructor(Jn){super(Jn,{isRenderable:Jn.renderForms})}render(){const Jn=this.annotationStorage,Vn=this.data,Zn=Vn.id;let ur=Jn.getValue(Zn,{value:Vn.exportValue===Vn.fieldValue}).value;typeof ur=="string"&&(ur=ur!=="Off",Jn.setValue(Zn,{value:ur})),this.container.classList.add("buttonWidgetAnnotation","checkBox");const hr=document.createElement("input");return Rt.add(hr),hr.setAttribute("data-element-id",Zn),hr.disabled=Vn.readOnly,this._setRequired(hr,this.data.required),hr.type="checkbox",hr.name=Vn.fieldName,ur&&hr.setAttribute("checked",!0),hr.setAttribute("exportValue",Vn.exportValue),hr.tabIndex=wt,hr.addEventListener("change",or=>{const{name:pr,checked:wr}=or.target;for(const fr of this._getElementsByName(pr,Zn)){const Ar=wr&&fr.exportValue===Vn.exportValue;fr.domElement&&(fr.domElement.checked=Ar),Jn.setValue(fr.id,{value:Ar})}Jn.setValue(Zn,{value:wr})}),hr.addEventListener("resetform",or=>{const pr=Vn.defaultFieldValue||"Off";or.target.checked=pr===Vn.exportValue}),this.enableScripting&&this.hasJSActions&&(hr.addEventListener("updatefromsandbox",or=>{const pr={value(wr){wr.target.checked=wr.detail.value!=="Off",Jn.setValue(Zn,{value:wr.target.checked})}};this._dispatchEventFromSandbox(pr,or)}),this._setEventListeners(hr,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],or=>or.target.checked)),this._setBackgroundColor(hr),this._setDefaultPropertiesFromJS(hr),this.container.append(hr),this.container}}class kt extends Nt{constructor(Jn){super(Jn,{isRenderable:Jn.renderForms})}render(){this.container.classList.add("buttonWidgetAnnotation","radioButton");const Jn=this.annotationStorage,Vn=this.data,Zn=Vn.id;let ur=Jn.getValue(Zn,{value:Vn.fieldValue===Vn.buttonValue}).value;typeof ur=="string"&&(ur=ur!==Vn.buttonValue,Jn.setValue(Zn,{value:ur}));const hr=document.createElement("input");if(Rt.add(hr),hr.setAttribute("data-element-id",Zn),hr.disabled=Vn.readOnly,this._setRequired(hr,this.data.required),hr.type="radio",hr.name=Vn.fieldName,ur&&hr.setAttribute("checked",!0),hr.tabIndex=wt,hr.addEventListener("change",or=>{const{name:pr,checked:wr}=or.target;for(const fr of this._getElementsByName(pr,Zn))Jn.setValue(fr.id,{value:!1});Jn.setValue(Zn,{value:wr})}),hr.addEventListener("resetform",or=>{const pr=Vn.defaultFieldValue;or.target.checked=pr!=null&&pr===Vn.buttonValue}),this.enableScripting&&this.hasJSActions){const or=Vn.buttonValue;hr.addEventListener("updatefromsandbox",pr=>{const wr={value:fr=>{const Ar=or===fr.detail.value;for(const Lr of this._getElementsByName(fr.target.name)){const Pr=Ar&&Lr.id===Zn;Lr.domElement&&(Lr.domElement.checked=Pr),Jn.setValue(Lr.id,{value:Pr})}}};this._dispatchEventFromSandbox(wr,pr)}),this._setEventListeners(hr,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],pr=>pr.target.checked)}return this._setBackgroundColor(hr),this._setDefaultPropertiesFromJS(hr),this.container.append(hr),this.container}}class qt extends Xt{constructor(Jn){super(Jn,{ignoreBorder:Jn.data.hasAppearance})}render(){const Jn=super.render();Jn.classList.add("buttonWidgetAnnotation","pushButton"),this.data.alternativeText&&(Jn.title=this.data.alternativeText);const Vn=Jn.lastChild;return this.enableScripting&&this.hasJSActions&&Vn&&(this._setDefaultPropertiesFromJS(Vn),Vn.addEventListener("updatefromsandbox",Zn=>{this._dispatchEventFromSandbox({},Zn)})),Jn}}class Bt extends Nt{constructor(Jn){super(Jn,{isRenderable:Jn.renderForms})}render(){this.container.classList.add("choiceWidgetAnnotation");const Jn=this.annotationStorage,Vn=this.data.id,Zn=Jn.getValue(Vn,{value:this.data.fieldValue}),ur=document.createElement("select");Rt.add(ur),ur.setAttribute("data-element-id",Vn),ur.disabled=this.data.readOnly,this._setRequired(ur,this.data.required),ur.name=this.data.fieldName,ur.tabIndex=wt;let hr=this.data.combo&&this.data.options.length>0;this.data.combo||(ur.size=this.data.options.length,this.data.multiSelect&&(ur.multiple=!0)),ur.addEventListener("resetform",Ar=>{const Lr=this.data.defaultFieldValue;for(const Pr of ur.options)Pr.selected=Pr.value===Lr});for(const Ar of this.data.options){const Lr=document.createElement("option");Lr.textContent=Ar.displayValue,Lr.value=Ar.exportValue,Zn.value.includes(Ar.exportValue)&&(Lr.setAttribute("selected",!0),hr=!1),ur.append(Lr)}let or=null;if(hr){const Ar=document.createElement("option");Ar.value=" ",Ar.setAttribute("hidden",!0),Ar.setAttribute("selected",!0),ur.prepend(Ar),or=()=>{Ar.remove(),ur.removeEventListener("input",or),or=null},ur.addEventListener("input",or)}const pr=Ar=>{const Lr=Ar?"value":"textContent",{options:Pr,multiple:$r}=ur;return $r?Array.prototype.filter.call(Pr,Er=>Er.selected).map(Er=>Er[Lr]):Pr.selectedIndex===-1?null:Pr[Pr.selectedIndex][Lr]};let wr=pr(!1);const fr=Ar=>{const Lr=Ar.target.options;return Array.prototype.map.call(Lr,Pr=>({displayValue:Pr.textContent,exportValue:Pr.value}))};return this.enableScripting&&this.hasJSActions?(ur.addEventListener("updatefromsandbox",Ar=>{const Lr={value(Pr){or==null||or();const $r=Pr.detail.value,Er=new Set(Array.isArray($r)?$r:[$r]);for(const _r of ur.options)_r.selected=Er.has(_r.value);Jn.setValue(Vn,{value:pr(!0)}),wr=pr(!1)},multipleSelection(Pr){ur.multiple=!0},remove(Pr){const $r=ur.options,Er=Pr.detail.remove;$r[Er].selected=!1,ur.remove(Er),$r.length>0&&Array.prototype.findIndex.call($r,Fr=>Fr.selected)===-1&&($r[0].selected=!0),Jn.setValue(Vn,{value:pr(!0),items:fr(Pr)}),wr=pr(!1)},clear(Pr){for(;ur.length!==0;)ur.remove(0);Jn.setValue(Vn,{value:null,items:[]}),wr=pr(!1)},insert(Pr){const{index:$r,displayValue:Er,exportValue:_r}=Pr.detail.insert,Fr=ur.children[$r],qr=document.createElement("option");qr.textContent=Er,qr.value=_r,Fr?Fr.before(qr):ur.append(qr),Jn.setValue(Vn,{value:pr(!0),items:fr(Pr)}),wr=pr(!1)},items(Pr){const{items:$r}=Pr.detail;for(;ur.length!==0;)ur.remove(0);for(const Er of $r){const{displayValue:_r,exportValue:Fr}=Er,qr=document.createElement("option");qr.textContent=_r,qr.value=Fr,ur.append(qr)}ur.options.length>0&&(ur.options[0].selected=!0),Jn.setValue(Vn,{value:pr(!0),items:fr(Pr)}),wr=pr(!1)},indices(Pr){const $r=new Set(Pr.detail.indices);for(const Er of Pr.target.options)Er.selected=$r.has(Er.index);Jn.setValue(Vn,{value:pr(!0)}),wr=pr(!1)},editable(Pr){Pr.target.disabled=!Pr.detail.editable}};this._dispatchEventFromSandbox(Lr,Ar)}),ur.addEventListener("input",Ar=>{var Pr;const Lr=pr(!0);Jn.setValue(Vn,{value:Lr}),Ar.preventDefault(),(Pr=this.linkService.eventBus)==null||Pr.dispatch("dispatcheventinsandbox",{source:this,detail:{id:Vn,name:"Keystroke",value:wr,changeEx:Lr,willCommit:!1,commitKey:1,keyDown:!1}})}),this._setEventListeners(ur,null,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"],["input","Action"],["input","Validate"]],Ar=>Ar.target.value)):ur.addEventListener("input",function(Ar){Jn.setValue(Vn,{value:pr(!0)})}),this.data.combo&&this._setTextStyle(ur),this._setBackgroundColor(ur),this._setDefaultPropertiesFromJS(ur),this.container.append(ur),this.container}}class Gt extends Pt{constructor(Jn){const{data:Vn,elements:Zn}=Jn;super(Jn,{isRenderable:Pt._hasPopupData(Vn)}),this.elements=Zn}render(){this.container.classList.add("popupAnnotation");const Jn=new en({container:this.container,color:this.data.color,titleObj:this.data.titleObj,modificationDate:this.data.modificationDate,contentsObj:this.data.contentsObj,richText:this.data.richText,rect:this.data.rect,parentRect:this.data.parentRect||null,parent:this.parent,elements:this.elements,open:this.data.open}),Vn=[];for(const Zn of this.elements)Zn.popup=Jn,Vn.push(Zn.data.id),Zn.addHighlightArea();return this.container.setAttribute("aria-controls",Vn.map(Zn=>`${vt.AnnotationPrefix}${Zn}`).join(",")),this.container}}class en{constructor({container:Jn,color:Vn,elements:Zn,titleObj:ur,modificationDate:hr,contentsObj:or,richText:pr,parent:wr,rect:fr,parentRect:Ar,open:Lr}){Nn(this,Tn);Nn(this,xn,null);Nn(this,vn,Mn(this,Tn,K8).bind(this));Nn(this,kn,Mn(this,Tn,O3).bind(this));Nn(this,Pn,Mn(this,Tn,M3).bind(this));Nn(this,On,Mn(this,Tn,P2).bind(this));Nn(this,_n,null);Nn(this,Sn,null);Nn(this,mn,null);Nn(this,fn,null);Nn(this,Jt,null);Nn(this,ln,null);Nn(this,pn,!1);Nn(this,wn,null);Nn(this,Cn,null);Nn(this,Fn,null);Nn(this,En,null);Nn(this,An,!1);var $r;$n(this,Sn,Jn),$n(this,En,ur),$n(this,mn,or),$n(this,Fn,pr),$n(this,Jt,wr),$n(this,_n,Vn),$n(this,Cn,fr),$n(this,ln,Ar),$n(this,fn,Zn);const Pr=At.PDFDateString.toDateObject(hr);Pr&&$n(this,xn,wr.l10n.get("annotation_date_string",{date:Pr.toLocaleDateString(),time:Pr.toLocaleTimeString()})),this.trigger=Zn.flatMap(Er=>Er.getElementsToTriggerPopup());for(const Er of this.trigger)Er.addEventListener("click",Mt(this,On)),Er.addEventListener("mouseenter",Mt(this,Pn)),Er.addEventListener("mouseleave",Mt(this,kn)),Er.classList.add("popupTriggerArea");for(const Er of Zn)($r=Er.container)==null||$r.addEventListener("keydown",Mt(this,vn));Mt(this,Sn).hidden=!0,Lr&&Mn(this,Tn,P2).call(this)}render(){if(Mt(this,wn))return;const{page:{view:Jn},viewport:{rawDims:{pageWidth:Vn,pageHeight:Zn,pageX:ur,pageY:hr}}}=Mt(this,Jt),or=$n(this,wn,document.createElement("div"));if(or.className="popup",Mt(this,_n)){const ls=or.style.outlineColor=vt.Util.makeHexColor(...Mt(this,_n));CSS.supports("background-color","color-mix(in srgb, red 30%, white)")?or.style.backgroundColor=`color-mix(in srgb, ${ls} 30%, white)`:or.style.backgroundColor=vt.Util.makeHexColor(...Mt(this,_n).map(Ns=>Math.floor(.7*(255-Ns)+Ns)))}const pr=document.createElement("span");pr.className="header";const wr=document.createElement("h1");if(pr.append(wr),{dir:wr.dir,str:wr.textContent}=Mt(this,En),or.append(pr),Mt(this,xn)){const ls=document.createElement("span");ls.classList.add("popupDate"),Mt(this,xn).then(ns=>{ls.textContent=ns}),pr.append(ls)}const fr=Mt(this,mn),Ar=Mt(this,Fn);if(Ar!=null&&Ar.str&&(!(fr!=null&&fr.str)||fr.str===Ar.str))Ft.XfaLayer.render({xfaHtml:Ar.html,intent:"richText",div:or}),or.lastChild.classList.add("richText","popupContent");else{const ls=this._formatContents(fr);or.append(ls)}let Lr=!!Mt(this,ln),Pr=Lr?Mt(this,ln):Mt(this,Cn);for(const ls of Mt(this,fn))if(!Pr||vt.Util.intersect(ls.data.rect,Pr)!==null){Pr=ls.data.rect,Lr=!0;break}const $r=vt.Util.normalizeRect([Pr[0],Jn[3]-Pr[1]+Jn[1],Pr[2],Jn[3]-Pr[3]+Jn[1]]),_r=Lr?Pr[2]-Pr[0]+5:0,Fr=$r[0]+_r,qr=$r[1],{style:vs}=Mt(this,Sn);vs.left=`${100*(Fr-ur)/Vn}%`,vs.top=`${100*(qr-hr)/Zn}%`,Mt(this,Sn).append(or)}_formatContents({str:Jn,dir:Vn}){const Zn=document.createElement("p");Zn.classList.add("popupContent"),Zn.dir=Vn;const ur=Jn.split(/(?:\r\n?|\n)/);for(let hr=0,or=ur.length;hr<or;++hr){const pr=ur[hr];Zn.append(document.createTextNode(pr)),hr<or-1&&Zn.append(document.createElement("br"))}return Zn}forceHide(){$n(this,An,this.isVisible),Mt(this,An)&&(Mt(this,Sn).hidden=!0)}maybeShow(){Mt(this,An)&&($n(this,An,!1),Mt(this,Sn).hidden=!1)}get isVisible(){return Mt(this,Sn).hidden===!1}}xn=new WeakMap,vn=new WeakMap,kn=new WeakMap,Pn=new WeakMap,On=new WeakMap,_n=new WeakMap,Sn=new WeakMap,mn=new WeakMap,fn=new WeakMap,Jt=new WeakMap,ln=new WeakMap,pn=new WeakMap,wn=new WeakMap,Cn=new WeakMap,Fn=new WeakMap,En=new WeakMap,An=new WeakMap,Tn=new WeakSet,K8=function(Jn){Jn.altKey||Jn.shiftKey||Jn.ctrlKey||Jn.metaKey||(Jn.key==="Enter"||Jn.key==="Escape"&&Mt(this,pn))&&Mn(this,Tn,P2).call(this)},P2=function(){$n(this,pn,!Mt(this,pn)),Mt(this,pn)?(Mn(this,Tn,M3).call(this),Mt(this,Sn).addEventListener("click",Mt(this,On)),Mt(this,Sn).addEventListener("keydown",Mt(this,vn))):(Mn(this,Tn,O3).call(this),Mt(this,Sn).removeEventListener("click",Mt(this,On)),Mt(this,Sn).removeEventListener("keydown",Mt(this,vn)))},M3=function(){Mt(this,wn)||this.render(),this.isVisible?Mt(this,pn)&&Mt(this,Sn).classList.add("focused"):(Mt(this,Sn).hidden=!1,Mt(this,Sn).style.zIndex=parseInt(Mt(this,Sn).style.zIndex)+1e3)},O3=function(){Mt(this,Sn).classList.remove("focused"),!(Mt(this,pn)||!this.isVisible)&&(Mt(this,Sn).hidden=!0,Mt(this,Sn).style.zIndex=parseInt(Mt(this,Sn).style.zIndex)-1e3)};class dn extends Pt{constructor(Jn){super(Jn,{isRenderable:!0,ignoreBorder:!0}),this.textContent=Jn.data.textContent,this.textPosition=Jn.data.textPosition,this.annotationEditorType=vt.AnnotationEditorType.FREETEXT}render(){if(this.container.classList.add("freeTextAnnotation"),this.textContent){const Jn=document.createElement("div");Jn.classList.add("annotationTextContent"),Jn.setAttribute("role","comment");for(const Vn of this.textContent){const Zn=document.createElement("span");Zn.textContent=Vn,Jn.append(Zn)}this.container.append(Jn)}return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}}$.FreeTextAnnotationElement=dn;class Qt extends Pt{constructor(Vn){super(Vn,{isRenderable:!0,ignoreBorder:!0});Nn(this,Un,null)}render(){this.container.classList.add("lineAnnotation");const Vn=this.data,{width:Zn,height:ur}=_e(Vn.rect),hr=this.svgFactory.create(Zn,ur,!0),or=$n(this,Un,this.svgFactory.createElement("svg:line"));return or.setAttribute("x1",Vn.rect[2]-Vn.lineCoordinates[0]),or.setAttribute("y1",Vn.rect[3]-Vn.lineCoordinates[1]),or.setAttribute("x2",Vn.rect[2]-Vn.lineCoordinates[2]),or.setAttribute("y2",Vn.rect[3]-Vn.lineCoordinates[3]),or.setAttribute("stroke-width",Vn.borderStyle.width||1),or.setAttribute("stroke","transparent"),or.setAttribute("fill","transparent"),hr.append(or),this.container.append(hr),!Vn.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return Mt(this,Un)}addHighlightArea(){this.container.classList.add("highlightArea")}}Un=new WeakMap;class gn extends Pt{constructor(Vn){super(Vn,{isRenderable:!0,ignoreBorder:!0});Nn(this,tr,null)}render(){this.container.classList.add("squareAnnotation");const Vn=this.data,{width:Zn,height:ur}=_e(Vn.rect),hr=this.svgFactory.create(Zn,ur,!0),or=Vn.borderStyle.width,pr=$n(this,tr,this.svgFactory.createElement("svg:rect"));return pr.setAttribute("x",or/2),pr.setAttribute("y",or/2),pr.setAttribute("width",Zn-or),pr.setAttribute("height",ur-or),pr.setAttribute("stroke-width",or||1),pr.setAttribute("stroke","transparent"),pr.setAttribute("fill","transparent"),hr.append(pr),this.container.append(hr),!Vn.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return Mt(this,tr)}addHighlightArea(){this.container.classList.add("highlightArea")}}tr=new WeakMap;class tn extends Pt{constructor(Vn){super(Vn,{isRenderable:!0,ignoreBorder:!0});Nn(this,er,null)}render(){this.container.classList.add("circleAnnotation");const Vn=this.data,{width:Zn,height:ur}=_e(Vn.rect),hr=this.svgFactory.create(Zn,ur,!0),or=Vn.borderStyle.width,pr=$n(this,er,this.svgFactory.createElement("svg:ellipse"));return pr.setAttribute("cx",Zn/2),pr.setAttribute("cy",ur/2),pr.setAttribute("rx",Zn/2-or/2),pr.setAttribute("ry",ur/2-or/2),pr.setAttribute("stroke-width",or||1),pr.setAttribute("stroke","transparent"),pr.setAttribute("fill","transparent"),hr.append(pr),this.container.append(hr),!Vn.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return Mt(this,er)}addHighlightArea(){this.container.classList.add("highlightArea")}}er=new WeakMap;class bn extends Pt{constructor(Vn){super(Vn,{isRenderable:!0,ignoreBorder:!0});Nn(this,Qn,null);this.containerClassName="polylineAnnotation",this.svgElementName="svg:polyline"}render(){this.container.classList.add(this.containerClassName);const Vn=this.data,{width:Zn,height:ur}=_e(Vn.rect),hr=this.svgFactory.create(Zn,ur,!0);let or=[];for(const wr of Vn.vertices){const fr=wr.x-Vn.rect[0],Ar=Vn.rect[3]-wr.y;or.push(fr+","+Ar)}or=or.join(" ");const pr=$n(this,Qn,this.svgFactory.createElement(this.svgElementName));return pr.setAttribute("points",or),pr.setAttribute("stroke-width",Vn.borderStyle.width||1),pr.setAttribute("stroke","transparent"),pr.setAttribute("fill","transparent"),hr.append(pr),this.container.append(hr),!Vn.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return Mt(this,Qn)}addHighlightArea(){this.container.classList.add("highlightArea")}}Qn=new WeakMap;class Wt extends bn{constructor(Jn){super(Jn),this.containerClassName="polygonAnnotation",this.svgElementName="svg:polygon"}}class Yt extends Pt{constructor(Jn){super(Jn,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("caretAnnotation"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container}}class un extends Pt{constructor(Vn){super(Vn,{isRenderable:!0,ignoreBorder:!0});Nn(this,Yn,[]);this.containerClassName="inkAnnotation",this.svgElementName="svg:polyline",this.annotationEditorType=vt.AnnotationEditorType.INK}render(){this.container.classList.add(this.containerClassName);const Vn=this.data,{width:Zn,height:ur}=_e(Vn.rect),hr=this.svgFactory.create(Zn,ur,!0);for(const or of Vn.inkLists){let pr=[];for(const fr of or){const Ar=fr.x-Vn.rect[0],Lr=Vn.rect[3]-fr.y;pr.push(`${Ar},${Lr}`)}pr=pr.join(" ");const wr=this.svgFactory.createElement(this.svgElementName);Mt(this,Yn).push(wr),wr.setAttribute("points",pr),wr.setAttribute("stroke-width",Vn.borderStyle.width||1),wr.setAttribute("stroke","transparent"),wr.setAttribute("fill","transparent"),!Vn.popupRef&&this.hasPopupData&&this._createPopup(),hr.append(wr)}return this.container.append(hr),this.container}getElementsToTriggerPopup(){return Mt(this,Yn)}addHighlightArea(){this.container.classList.add("highlightArea")}}Yn=new WeakMap,$.InkAnnotationElement=un;class Ut extends Pt{constructor(Jn){super(Jn,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("highlightAnnotation"),this.container}}class Ot extends Pt{constructor(Jn){super(Jn,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("underlineAnnotation"),this.container}}class Ht extends Pt{constructor(Jn){super(Jn,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("squigglyAnnotation"),this.container}}class an extends Pt{constructor(Jn){super(Jn,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("strikeoutAnnotation"),this.container}}class zt extends Pt{constructor(Jn){super(Jn,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("stampAnnotation"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container}}$.StampAnnotationElement=zt;class Vt extends Pt{constructor(Vn){var hr;super(Vn,{isRenderable:!0});Nn(this,nr);Nn(this,Xn,null);const{filename:Zn,content:ur}=this.data.file;this.filename=(0,At.getFilenameFromUrl)(Zn,!0),this.content=ur,(hr=this.linkService.eventBus)==null||hr.dispatch("fileattachmentannotation",{source:this,filename:Zn,content:ur})}render(){this.container.classList.add("fileAttachmentAnnotation");const{container:Vn,data:Zn}=this;let ur;Zn.hasAppearance||Zn.fillAlpha===0?ur=document.createElement("div"):(ur=document.createElement("img"),ur.src=`${this.imageResourcesPath}annotation-${/paperclip/i.test(Zn.name)?"paperclip":"pushpin"}.svg`,Zn.fillAlpha&&Zn.fillAlpha<1&&(ur.style=`filter: opacity(${Math.round(Zn.fillAlpha*100)}%);`)),ur.addEventListener("dblclick",Mn(this,nr,D3).bind(this)),$n(this,Xn,ur);const{isMac:hr}=vt.FeatureTest.platform;return Vn.addEventListener("keydown",or=>{or.key==="Enter"&&(hr?or.metaKey:or.ctrlKey)&&Mn(this,nr,D3).call(this)}),!Zn.popupRef&&this.hasPopupData?this._createPopup():ur.classList.add("popupTriggerArea"),Vn.append(ur),Vn}getElementsToTriggerPopup(){return Mt(this,Xn)}addHighlightArea(){this.container.classList.add("highlightArea")}}Xn=new WeakMap,nr=new WeakSet,D3=function(){var Vn;(Vn=this.downloadManager)==null||Vn.openOrDownloadData(this.container,this.content,this.filename)};class nn{constructor({div:Jn,accessibilityManager:Vn,annotationCanvasMap:Zn,l10n:ur,page:hr,viewport:or}){Nn(this,Wn);Nn(this,dr,null);Nn(this,Bn,null);Nn(this,Hn,new Map);this.div=Jn,$n(this,dr,Vn),$n(this,Bn,Zn),this.l10n=ur,this.page=hr,this.viewport=or,this.zIndex=0,this.l10n||(this.l10n=Et.NullL10n)}async render(Jn){const{annotations:Vn}=Jn,Zn=this.div;(0,At.setLayerDimensions)(Zn,this.viewport);const ur=new Map,hr={data:null,layer:Zn,linkService:Jn.linkService,downloadManager:Jn.downloadManager,imageResourcesPath:Jn.imageResourcesPath||"",renderForms:Jn.renderForms!==!1,svgFactory:new At.DOMSVGFactory,annotationStorage:Jn.annotationStorage||new St.AnnotationStorage,enableScripting:Jn.enableScripting===!0,hasJSActions:Jn.hasJSActions,fieldObjects:Jn.fieldObjects,parent:this,elements:null};for(const or of Vn){if(or.noHTML)continue;const pr=or.annotationType===vt.AnnotationType.POPUP;if(pr){const Ar=ur.get(or.id);if(!Ar)continue;hr.elements=Ar}else{const{width:Ar,height:Lr}=_e(or.rect);if(Ar<=0||Lr<=0)continue}hr.data=or;const wr=bt.create(hr);if(!wr.isRenderable)continue;if(!pr&&or.popupRef){const Ar=ur.get(or.popupRef);Ar?Ar.push(wr):ur.set(or.popupRef,[wr])}wr.annotationEditorType>0&&Mt(this,Hn).set(wr.data.id,wr);const fr=wr.render();or.hidden&&(fr.style.visibility="hidden"),Mn(this,Wn,Y8).call(this,fr,or.id)}Mn(this,Wn,L3).call(this),await this.l10n.translate(Zn)}update({viewport:Jn}){const Vn=this.div;this.viewport=Jn,(0,At.setLayerDimensions)(Vn,{rotation:Jn.rotation}),Mn(this,Wn,L3).call(this),Vn.hidden=!1}getEditableAnnotations(){return Array.from(Mt(this,Hn).values())}getEditableAnnotation(Jn){return Mt(this,Hn).get(Jn)}}dr=new WeakMap,Bn=new WeakMap,Hn=new WeakMap,Wn=new WeakSet,Y8=function(Jn,Vn){var ur;const Zn=Jn.firstChild||Jn;Zn.id=`${vt.AnnotationPrefix}${Vn}`,this.div.append(Jn),(ur=Mt(this,dr))==null||ur.moveElementInDOM(this.div,Jn,Zn,!1)},L3=function(){if(!Mt(this,Bn))return;const Jn=this.div;for(const[Vn,Zn]of Mt(this,Bn)){const ur=Jn.querySelector(`[data-annotation-id="${Vn}"]`);if(!ur)continue;const{firstChild:hr}=ur;hr?hr.nodeName==="CANVAS"?hr.replaceWith(Zn):hr.before(Zn):ur.append(Zn)}Mt(this,Bn).clear()},$.AnnotationLayer=nn},(xt,$)=>{Object.defineProperty($,"__esModule",{value:!0}),$.ColorConverters=void 0;function ht(St){return Math.floor(Math.max(0,Math.min(1,St))*255).toString(16).padStart(2,"0")}function vt(St){return Math.max(0,Math.min(255,255*St))}class At{static CMYK_G([Ct,Et,Ft,wt]){return["G",1-Math.min(1,.3*Ct+.59*Ft+.11*Et+wt)]}static G_CMYK([Ct]){return["CMYK",0,0,0,1-Ct]}static G_RGB([Ct]){return["RGB",Ct,Ct,Ct]}static G_rgb([Ct]){return Ct=vt(Ct),[Ct,Ct,Ct]}static G_HTML([Ct]){const Et=ht(Ct);return`#${Et}${Et}${Et}`}static RGB_G([Ct,Et,Ft]){return["G",.3*Ct+.59*Et+.11*Ft]}static RGB_rgb(Ct){return Ct.map(vt)}static RGB_HTML(Ct){return`#${Ct.map(ht).join("")}`}static T_HTML(){return"#00000000"}static T_rgb(){return[null]}static CMYK_RGB([Ct,Et,Ft,wt]){return["RGB",1-Math.min(1,Ct+wt),1-Math.min(1,Ft+wt),1-Math.min(1,Et+wt)]}static CMYK_rgb([Ct,Et,Ft,wt]){return[vt(1-Math.min(1,Ct+wt)),vt(1-Math.min(1,Ft+wt)),vt(1-Math.min(1,Et+wt))]}static CMYK_HTML(Ct){const Et=this.CMYK_RGB(Ct).slice(1);return this.RGB_HTML(Et)}static RGB_CMYK([Ct,Et,Ft]){const wt=1-Ct,_t=1-Et,Rt=1-Ft,_e=Math.min(wt,_t,Rt);return["CMYK",wt,_t,Rt,_e]}}$.ColorConverters=At},(xt,$)=>{Object.defineProperty($,"__esModule",{value:!0}),$.NullL10n=void 0,$.getL10nFallback=vt;const ht={of_pages:"of {{pagesCount}}",page_of_pages:"({{pageNumber}} of {{pagesCount}})",document_properties_kb:"{{size_kb}} KB ({{size_b}} bytes)",document_properties_mb:"{{size_mb}} MB ({{size_b}} bytes)",document_properties_date_string:"{{date}}, {{time}}",document_properties_page_size_unit_inches:"in",document_properties_page_size_unit_millimeters:"mm",document_properties_page_size_orientation_portrait:"portrait",document_properties_page_size_orientation_landscape:"landscape",document_properties_page_size_name_a3:"A3",document_properties_page_size_name_a4:"A4",document_properties_page_size_name_letter:"Letter",document_properties_page_size_name_legal:"Legal",document_properties_page_size_dimension_string:"{{width}}  {{height}} {{unit}} ({{orientation}})",document_properties_page_size_dimension_name_string:"{{width}}  {{height}} {{unit}} ({{name}}, {{orientation}})",document_properties_linearized_yes:"Yes",document_properties_linearized_no:"No",additional_layers:"Additional Layers",page_landmark:"Page {{page}}",thumb_page_title:"Page {{page}}",thumb_page_canvas:"Thumbnail of Page {{page}}",find_reached_top:"Reached top of document, continued from bottom",find_reached_bottom:"Reached end of document, continued from top","find_match_count[one]":"{{current}} of {{total}} match","find_match_count[other]":"{{current}} of {{total}} matches","find_match_count_limit[one]":"More than {{limit}} match","find_match_count_limit[other]":"More than {{limit}} matches",find_not_found:"Phrase not found",page_scale_width:"Page Width",page_scale_fit:"Page Fit",page_scale_auto:"Automatic Zoom",page_scale_actual:"Actual Size",page_scale_percent:"{{scale}}%",loading_error:"An error occurred while loading the PDF.",invalid_file_error:"Invalid or corrupted PDF file.",missing_file_error:"Missing PDF file.",unexpected_response_error:"Unexpected server response.",rendering_error:"An error occurred while rendering the page.",annotation_date_string:"{{date}}, {{time}}",printing_not_supported:"Warning: Printing is not fully supported by this browser.",printing_not_ready:"Warning: The PDF is not fully loaded for printing.",web_fonts_disabled:"Web fonts are disabled: unable to use embedded PDF fonts.",free_text2_default_content:"Start typing",editor_free_text2_aria_label:"Text Editor",editor_ink2_aria_label:"Draw Editor",editor_ink_canvas_aria_label:"User-created image",editor_alt_text_button_label:"Alt text",editor_alt_text_edit_button_label:"Edit alt text",editor_alt_text_decorative_tooltip:"Marked as decorative"};ht.print_progress_percent="{{progress}}%";function vt(Ct,Et){switch(Ct){case"find_match_count":Ct=`find_match_count[${Et.total===1?"one":"other"}]`;break;case"find_match_count_limit":Ct=`find_match_count_limit[${Et.limit===1?"one":"other"}]`;break}return ht[Ct]||""}function At(Ct,Et){return Et?Ct.replaceAll(/\{\{\s*(\w+)\s*\}\}/g,(Ft,wt)=>wt in Et?Et[wt]:"{{"+wt+"}}"):Ct}const St={async getLanguage(){return"en-us"},async getDirection(){return"ltr"},async get(Ct,Et=null,Ft=vt(Ct,Et)){return At(Ft,Et)},async translate(Ct){}};$.NullL10n=St},(xt,$,ht)=>{Object.defineProperty($,"__esModule",{value:!0}),$.XfaLayer=void 0;var vt=ht(25);class At{static setupStorage(Ct,Et,Ft,wt,_t){const Rt=wt.getValue(Et,{value:null});switch(Ft.name){case"textarea":if(Rt.value!==null&&(Ct.textContent=Rt.value),_t==="print")break;Ct.addEventListener("input",_e=>{wt.setValue(Et,{value:_e.target.value})});break;case"input":if(Ft.attributes.type==="radio"||Ft.attributes.type==="checkbox"){if(Rt.value===Ft.attributes.xfaOn?Ct.setAttribute("checked",!0):Rt.value===Ft.attributes.xfaOff&&Ct.removeAttribute("checked"),_t==="print")break;Ct.addEventListener("change",_e=>{wt.setValue(Et,{value:_e.target.checked?_e.target.getAttribute("xfaOn"):_e.target.getAttribute("xfaOff")})})}else{if(Rt.value!==null&&Ct.setAttribute("value",Rt.value),_t==="print")break;Ct.addEventListener("input",_e=>{wt.setValue(Et,{value:_e.target.value})})}break;case"select":if(Rt.value!==null){Ct.setAttribute("value",Rt.value);for(const _e of Ft.children)_e.attributes.value===Rt.value?_e.attributes.selected=!0:_e.attributes.hasOwnProperty("selected")&&delete _e.attributes.selected}Ct.addEventListener("input",_e=>{const bt=_e.target.options,Pt=bt.selectedIndex===-1?"":bt[bt.selectedIndex].value;wt.setValue(Et,{value:Pt})});break}}static setAttributes({html:Ct,element:Et,storage:Ft=null,intent:wt,linkService:_t}){const{attributes:Rt}=Et,_e=Ct instanceof HTMLAnchorElement;Rt.type==="radio"&&(Rt.name=`${Rt.name}-${wt}`);for(const[bt,Pt]of Object.entries(Rt))if(Pt!=null)switch(bt){case"class":Pt.length&&Ct.setAttribute(bt,Pt.join(" "));break;case"dataId":break;case"id":Ct.setAttribute("data-element-id",Pt);break;case"style":Object.assign(Ct.style,Pt);break;case"textContent":Ct.textContent=Pt;break;default:(!_e||bt!=="href"&&bt!=="newWindow")&&Ct.setAttribute(bt,Pt)}_e&&_t.addLinkAttributes(Ct,Rt.href,Rt.newWindow),Ft&&Rt.dataId&&this.setupStorage(Ct,Rt.dataId,Et,Ft)}static render(Ct){var Xt;const Et=Ct.annotationStorage,Ft=Ct.linkService,wt=Ct.xfaHtml,_t=Ct.intent||"display",Rt=document.createElement(wt.name);wt.attributes&&this.setAttributes({html:Rt,element:wt,intent:_t,linkService:Ft});const _e=[[wt,-1,Rt]],bt=Ct.div;if(bt.append(Rt),Ct.viewport){const Kt=`matrix(${Ct.viewport.transform.join(",")})`;bt.style.transform=Kt}_t!=="richText"&&bt.setAttribute("class","xfaLayer xfaFont");const Pt=[];for(;_e.length>0;){const[Kt,Nt,$t]=_e.at(-1);if(Nt+1===Kt.children.length){_e.pop();continue}const Lt=Kt.children[++_e.at(-1)[1]];if(Lt===null)continue;const{name:jt}=Lt;if(jt==="#text"){const qt=document.createTextNode(Lt.value);Pt.push(qt),$t.append(qt);continue}const kt=(Xt=Lt==null?void 0:Lt.attributes)!=null&&Xt.xmlns?document.createElementNS(Lt.attributes.xmlns,jt):document.createElement(jt);if($t.append(kt),Lt.attributes&&this.setAttributes({html:kt,element:Lt,storage:Et,intent:_t,linkService:Ft}),Lt.children&&Lt.children.length>0)_e.push([Lt,-1,kt]);else if(Lt.value){const qt=document.createTextNode(Lt.value);vt.XfaText.shouldBuildText(jt)&&Pt.push(qt),kt.append(qt)}}for(const Kt of bt.querySelectorAll(".xfaNonInteractive input, .xfaNonInteractive textarea"))Kt.setAttribute("readOnly",!0);return{textDivs:Pt}}static update(Ct){const Et=`matrix(${Ct.viewport.transform.join(",")})`;Ct.div.style.transform=Et,Ct.div.hidden=!1}}$.XfaLayer=At},(xt,$,ht)=>{var wt,_t,Rt,_e,bt,Pt,Xt,Kt,Nt,$t,Lt,jt,kt,qt,Bt,Z8,J8,Q8,e5,N3,t5,$3,n5,i5,r5,s5,a5,h0,j3,R2,I2,X1,B3,M2,cn,o5,U3,l5,c5,H3,O2,W1;Object.defineProperty($,"__esModule",{value:!0}),$.InkEditor=void 0;var vt=ht(1),At=ht(4),St=ht(29),Ct=ht(6),Et=ht(5);const _n=class _n extends At.AnnotationEditor{constructor(fn){super({...fn,name:"inkEditor"});Nn(this,Bt);Nn(this,wt,0);Nn(this,_t,0);Nn(this,Rt,this.canvasPointermove.bind(this));Nn(this,_e,this.canvasPointerleave.bind(this));Nn(this,bt,this.canvasPointerup.bind(this));Nn(this,Pt,this.canvasPointerdown.bind(this));Nn(this,Xt,new Path2D);Nn(this,Kt,!1);Nn(this,Nt,!1);Nn(this,$t,!1);Nn(this,Lt,null);Nn(this,jt,0);Nn(this,kt,0);Nn(this,qt,null);this.color=fn.color||null,this.thickness=fn.thickness||null,this.opacity=fn.opacity||null,this.paths=[],this.bezierPath2D=[],this.allRawPaths=[],this.currentPath=[],this.scaleFactor=1,this.translationX=this.translationY=0,this.x=0,this.y=0,this._willKeepAspectRatio=!0}static initialize(fn){At.AnnotationEditor.initialize(fn,{strings:["editor_ink_canvas_aria_label","editor_ink2_aria_label"]})}static updateDefaultParams(fn,Jt){switch(fn){case vt.AnnotationEditorParamsType.INK_THICKNESS:_n._defaultThickness=Jt;break;case vt.AnnotationEditorParamsType.INK_COLOR:_n._defaultColor=Jt;break;case vt.AnnotationEditorParamsType.INK_OPACITY:_n._defaultOpacity=Jt/100;break}}updateParams(fn,Jt){switch(fn){case vt.AnnotationEditorParamsType.INK_THICKNESS:Mn(this,Bt,Z8).call(this,Jt);break;case vt.AnnotationEditorParamsType.INK_COLOR:Mn(this,Bt,J8).call(this,Jt);break;case vt.AnnotationEditorParamsType.INK_OPACITY:Mn(this,Bt,Q8).call(this,Jt);break}}static get defaultPropertiesToUpdate(){return[[vt.AnnotationEditorParamsType.INK_THICKNESS,_n._defaultThickness],[vt.AnnotationEditorParamsType.INK_COLOR,_n._defaultColor||At.AnnotationEditor._defaultLineColor],[vt.AnnotationEditorParamsType.INK_OPACITY,Math.round(_n._defaultOpacity*100)]]}get propertiesToUpdate(){return[[vt.AnnotationEditorParamsType.INK_THICKNESS,this.thickness||_n._defaultThickness],[vt.AnnotationEditorParamsType.INK_COLOR,this.color||_n._defaultColor||At.AnnotationEditor._defaultLineColor],[vt.AnnotationEditorParamsType.INK_OPACITY,Math.round(100*(this.opacity??_n._defaultOpacity))]]}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.canvas||(Mn(this,Bt,R2).call(this),Mn(this,Bt,I2).call(this)),this.isAttachedToDOM||(this.parent.add(this),Mn(this,Bt,X1).call(this)),Mn(this,Bt,W1).call(this)))}remove(){this.canvas!==null&&(this.isEmpty()||this.commit(),this.canvas.width=this.canvas.height=0,this.canvas.remove(),this.canvas=null,Mt(this,Lt).disconnect(),$n(this,Lt,null),super.remove())}setParent(fn){!this.parent&&fn?this._uiManager.removeShouldRescale(this):this.parent&&fn===null&&this._uiManager.addShouldRescale(this),super.setParent(fn)}onScaleChanging(){const[fn,Jt]=this.parentDimensions,ln=this.width*fn,pn=this.height*Jt;this.setDimensions(ln,pn)}enableEditMode(){Mt(this,Kt)||this.canvas===null||(super.enableEditMode(),this._isDraggable=!1,this.canvas.addEventListener("pointerdown",Mt(this,Pt)))}disableEditMode(){!this.isInEditMode()||this.canvas===null||(super.disableEditMode(),this._isDraggable=!this.isEmpty(),this.div.classList.remove("editing"),this.canvas.removeEventListener("pointerdown",Mt(this,Pt)))}onceAdded(){this._isDraggable=!this.isEmpty()}isEmpty(){return this.paths.length===0||this.paths.length===1&&this.paths[0].length===0}commit(){Mt(this,Kt)||(super.commit(),this.isEditing=!1,this.disableEditMode(),this.setInForeground(),$n(this,Kt,!0),this.div.classList.add("disabled"),Mn(this,Bt,W1).call(this,!0),this.makeResizable(),this.parent.addInkEditorIfNeeded(!0),this.moveInDOM(),this.div.focus({preventScroll:!0}))}focusin(fn){this._focusEventsAllowed&&(super.focusin(fn),this.enableEditMode())}canvasPointerdown(fn){fn.button!==0||!this.isInEditMode()||Mt(this,Kt)||(this.setInForeground(),fn.preventDefault(),fn.type!=="mouse"&&this.div.focus(),Mn(this,Bt,t5).call(this,fn.offsetX,fn.offsetY))}canvasPointermove(fn){fn.preventDefault(),Mn(this,Bt,$3).call(this,fn.offsetX,fn.offsetY)}canvasPointerup(fn){fn.preventDefault(),Mn(this,Bt,j3).call(this,fn)}canvasPointerleave(fn){Mn(this,Bt,j3).call(this,fn)}get isResizable(){return!this.isEmpty()&&Mt(this,Kt)}render(){if(this.div)return this.div;let fn,Jt;this.width&&(fn=this.x,Jt=this.y),super.render(),At.AnnotationEditor._l10nPromise.get("editor_ink2_aria_label").then(Fn=>{var En;return(En=this.div)==null?void 0:En.setAttribute("aria-label",Fn)});const[ln,pn,wn,Cn]=Mn(this,Bt,e5).call(this);if(this.setAt(ln,pn,0,0),this.setDims(wn,Cn),Mn(this,Bt,R2).call(this),this.width){const[Fn,En]=this.parentDimensions;this.setAspectRatio(this.width*Fn,this.height*En),this.setAt(fn*Fn,Jt*En,this.width*Fn,this.height*En),$n(this,$t,!0),Mn(this,Bt,X1).call(this),this.setDims(this.width*Fn,this.height*En),Mn(this,Bt,h0).call(this),this.div.classList.add("disabled")}else this.div.classList.add("editing"),this.enableEditMode();return Mn(this,Bt,I2).call(this),this.div}setDimensions(fn,Jt){const ln=Math.round(fn),pn=Math.round(Jt);if(Mt(this,jt)===ln&&Mt(this,kt)===pn)return;$n(this,jt,ln),$n(this,kt,pn),this.canvas.style.visibility="hidden";const[wn,Cn]=this.parentDimensions;this.width=fn/wn,this.height=Jt/Cn,this.fixAndSetPosition(),Mt(this,Kt)&&Mn(this,Bt,B3).call(this,fn,Jt),Mn(this,Bt,X1).call(this),Mn(this,Bt,h0).call(this),this.canvas.style.visibility="visible",this.fixDims()}static deserialize(fn,Jt,ln){var Un,tr,er;if(fn instanceof St.InkAnnotationElement)return null;const pn=super.deserialize(fn,Jt,ln);pn.thickness=fn.thickness,pn.color=vt.Util.makeHexColor(...fn.color),pn.opacity=fn.opacity;const[wn,Cn]=pn.pageDimensions,Fn=pn.width*wn,En=pn.height*Cn,An=pn.parentScale,Tn=fn.thickness/2;$n(pn,Kt,!0),$n(pn,jt,Math.round(Fn)),$n(pn,kt,Math.round(En));const{paths:In,rect:Rn,rotation:Dn}=fn;for(let{bezier:Qn}of In){Qn=Mn(Un=_n,cn,l5).call(Un,Qn,Rn,Dn);const Yn=[];pn.paths.push(Yn);let Xn=An*(Qn[0]-Tn),nr=An*(Qn[1]-Tn);for(let dr=2,Bn=Qn.length;dr<Bn;dr+=6){const Hn=An*(Qn[dr]-Tn),Wn=An*(Qn[dr+1]-Tn),cr=An*(Qn[dr+2]-Tn),sr=An*(Qn[dr+3]-Tn),xr=An*(Qn[dr+4]-Tn),Jn=An*(Qn[dr+5]-Tn);Yn.push([[Xn,nr],[Hn,Wn],[cr,sr],[xr,Jn]]),Xn=xr,nr=Jn}const lr=Mn(this,cn,o5).call(this,Yn);pn.bezierPath2D.push(lr)}const Ln=Mn(tr=pn,Bt,H3).call(tr);return $n(pn,_t,Math.max(At.AnnotationEditor.MIN_SIZE,Ln[2]-Ln[0])),$n(pn,wt,Math.max(At.AnnotationEditor.MIN_SIZE,Ln[3]-Ln[1])),Mn(er=pn,Bt,B3).call(er,Fn,En),pn}serialize(){if(this.isEmpty())return null;const fn=this.getRect(0,0),Jt=At.AnnotationEditor._colorManager.convert(this.ctx.strokeStyle);return{annotationType:vt.AnnotationEditorType.INK,color:Jt,thickness:this.thickness,opacity:this.opacity,paths:Mn(this,Bt,c5).call(this,this.scaleFactor/this.parentScale,this.translationX,this.translationY,fn),pageIndex:this.pageIndex,rect:fn,rotation:this.rotation,structTreeParentId:this._structTreeParentId}}};wt=new WeakMap,_t=new WeakMap,Rt=new WeakMap,_e=new WeakMap,bt=new WeakMap,Pt=new WeakMap,Xt=new WeakMap,Kt=new WeakMap,Nt=new WeakMap,$t=new WeakMap,Lt=new WeakMap,jt=new WeakMap,kt=new WeakMap,qt=new WeakMap,Bt=new WeakSet,Z8=function(fn){const Jt=this.thickness;this.addCommands({cmd:()=>{this.thickness=fn,Mn(this,Bt,W1).call(this)},undo:()=>{this.thickness=Jt,Mn(this,Bt,W1).call(this)},mustExec:!0,type:vt.AnnotationEditorParamsType.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0})},J8=function(fn){const Jt=this.color;this.addCommands({cmd:()=>{this.color=fn,Mn(this,Bt,h0).call(this)},undo:()=>{this.color=Jt,Mn(this,Bt,h0).call(this)},mustExec:!0,type:vt.AnnotationEditorParamsType.INK_COLOR,overwriteIfSameType:!0,keepUndo:!0})},Q8=function(fn){fn/=100;const Jt=this.opacity;this.addCommands({cmd:()=>{this.opacity=fn,Mn(this,Bt,h0).call(this)},undo:()=>{this.opacity=Jt,Mn(this,Bt,h0).call(this)},mustExec:!0,type:vt.AnnotationEditorParamsType.INK_OPACITY,overwriteIfSameType:!0,keepUndo:!0})},e5=function(){const{parentRotation:fn,parentDimensions:[Jt,ln]}=this;switch(fn){case 90:return[0,ln,ln,Jt];case 180:return[Jt,ln,Jt,ln];case 270:return[Jt,0,ln,Jt];default:return[0,0,Jt,ln]}},N3=function(){const{ctx:fn,color:Jt,opacity:ln,thickness:pn,parentScale:wn,scaleFactor:Cn}=this;fn.lineWidth=pn*wn/Cn,fn.lineCap="round",fn.lineJoin="round",fn.miterLimit=10,fn.strokeStyle=`${Jt}${(0,Et.opacityToHex)(ln)}`},t5=function(fn,Jt){this.canvas.addEventListener("contextmenu",Ct.noContextMenu),this.canvas.addEventListener("pointerleave",Mt(this,_e)),this.canvas.addEventListener("pointermove",Mt(this,Rt)),this.canvas.addEventListener("pointerup",Mt(this,bt)),this.canvas.removeEventListener("pointerdown",Mt(this,Pt)),this.isEditing=!0,Mt(this,$t)||($n(this,$t,!0),Mn(this,Bt,X1).call(this),this.thickness||(this.thickness=_n._defaultThickness),this.color||(this.color=_n._defaultColor||At.AnnotationEditor._defaultLineColor),this.opacity??(this.opacity=_n._defaultOpacity)),this.currentPath.push([fn,Jt]),$n(this,Nt,!1),Mn(this,Bt,N3).call(this),$n(this,qt,()=>{Mn(this,Bt,r5).call(this),Mt(this,qt)&&window.requestAnimationFrame(Mt(this,qt))}),window.requestAnimationFrame(Mt(this,qt))},$3=function(fn,Jt){const[ln,pn]=this.currentPath.at(-1);if(this.currentPath.length>1&&fn===ln&&Jt===pn)return;const wn=this.currentPath;let Cn=Mt(this,Xt);if(wn.push([fn,Jt]),$n(this,Nt,!0),wn.length<=2){Cn.moveTo(...wn[0]),Cn.lineTo(fn,Jt);return}wn.length===3&&($n(this,Xt,Cn=new Path2D),Cn.moveTo(...wn[0])),Mn(this,Bt,s5).call(this,Cn,...wn.at(-3),...wn.at(-2),fn,Jt)},n5=function(){if(this.currentPath.length===0)return;const fn=this.currentPath.at(-1);Mt(this,Xt).lineTo(...fn)},i5=function(fn,Jt){$n(this,qt,null),fn=Math.min(Math.max(fn,0),this.canvas.width),Jt=Math.min(Math.max(Jt,0),this.canvas.height),Mn(this,Bt,$3).call(this,fn,Jt),Mn(this,Bt,n5).call(this);let ln;if(this.currentPath.length!==1)ln=Mn(this,Bt,a5).call(this);else{const En=[fn,Jt];ln=[[En,En.slice(),En.slice(),En]]}const pn=Mt(this,Xt),wn=this.currentPath;this.currentPath=[],$n(this,Xt,new Path2D);const Cn=()=>{this.allRawPaths.push(wn),this.paths.push(ln),this.bezierPath2D.push(pn),this.rebuild()},Fn=()=>{this.allRawPaths.pop(),this.paths.pop(),this.bezierPath2D.pop(),this.paths.length===0?this.remove():(this.canvas||(Mn(this,Bt,R2).call(this),Mn(this,Bt,I2).call(this)),Mn(this,Bt,W1).call(this))};this.addCommands({cmd:Cn,undo:Fn,mustExec:!0})},r5=function(){if(!Mt(this,Nt))return;$n(this,Nt,!1);const fn=Math.ceil(this.thickness*this.parentScale),Jt=this.currentPath.slice(-3),ln=Jt.map(Cn=>Cn[0]),pn=Jt.map(Cn=>Cn[1]);Math.min(...ln)-fn,Math.max(...ln)+fn,Math.min(...pn)-fn,Math.max(...pn)+fn;const{ctx:wn}=this;wn.save(),wn.clearRect(0,0,this.canvas.width,this.canvas.height);for(const Cn of this.bezierPath2D)wn.stroke(Cn);wn.stroke(Mt(this,Xt)),wn.restore()},s5=function(fn,Jt,ln,pn,wn,Cn,Fn){const En=(Jt+pn)/2,An=(ln+wn)/2,Tn=(pn+Cn)/2,In=(wn+Fn)/2;fn.bezierCurveTo(En+2*(pn-En)/3,An+2*(wn-An)/3,Tn+2*(pn-Tn)/3,In+2*(wn-In)/3,Tn,In)},a5=function(){const fn=this.currentPath;if(fn.length<=2)return[[fn[0],fn[0],fn.at(-1),fn.at(-1)]];const Jt=[];let ln,[pn,wn]=fn[0];for(ln=1;ln<fn.length-2;ln++){const[Rn,Dn]=fn[ln],[Ln,Un]=fn[ln+1],tr=(Rn+Ln)/2,er=(Dn+Un)/2,Qn=[pn+2*(Rn-pn)/3,wn+2*(Dn-wn)/3],Yn=[tr+2*(Rn-tr)/3,er+2*(Dn-er)/3];Jt.push([[pn,wn],Qn,Yn,[tr,er]]),[pn,wn]=[tr,er]}const[Cn,Fn]=fn[ln],[En,An]=fn[ln+1],Tn=[pn+2*(Cn-pn)/3,wn+2*(Fn-wn)/3],In=[En+2*(Cn-En)/3,An+2*(Fn-An)/3];return Jt.push([[pn,wn],Tn,In,[En,An]]),Jt},h0=function(){if(this.isEmpty()){Mn(this,Bt,M2).call(this);return}Mn(this,Bt,N3).call(this);const{canvas:fn,ctx:Jt}=this;Jt.setTransform(1,0,0,1,0,0),Jt.clearRect(0,0,fn.width,fn.height),Mn(this,Bt,M2).call(this);for(const ln of this.bezierPath2D)Jt.stroke(ln)},j3=function(fn){this.canvas.removeEventListener("pointerleave",Mt(this,_e)),this.canvas.removeEventListener("pointermove",Mt(this,Rt)),this.canvas.removeEventListener("pointerup",Mt(this,bt)),this.canvas.addEventListener("pointerdown",Mt(this,Pt)),setTimeout(()=>{this.canvas.removeEventListener("contextmenu",Ct.noContextMenu)},10),Mn(this,Bt,i5).call(this,fn.offsetX,fn.offsetY),this.addToAnnotationStorage(),this.setInBackground()},R2=function(){this.canvas=document.createElement("canvas"),this.canvas.width=this.canvas.height=0,this.canvas.className="inkEditorCanvas",At.AnnotationEditor._l10nPromise.get("editor_ink_canvas_aria_label").then(fn=>{var Jt;return(Jt=this.canvas)==null?void 0:Jt.setAttribute("aria-label",fn)}),this.div.append(this.canvas),this.ctx=this.canvas.getContext("2d")},I2=function(){$n(this,Lt,new ResizeObserver(fn=>{const Jt=fn[0].contentRect;Jt.width&&Jt.height&&this.setDimensions(Jt.width,Jt.height)})),Mt(this,Lt).observe(this.div)},X1=function(){if(!Mt(this,$t))return;const[fn,Jt]=this.parentDimensions;this.canvas.width=Math.ceil(this.width*fn),this.canvas.height=Math.ceil(this.height*Jt),Mn(this,Bt,M2).call(this)},B3=function(fn,Jt){const ln=Mn(this,Bt,O2).call(this),pn=(fn-ln)/Mt(this,_t),wn=(Jt-ln)/Mt(this,wt);this.scaleFactor=Math.min(pn,wn)},M2=function(){const fn=Mn(this,Bt,O2).call(this)/2;this.ctx.setTransform(this.scaleFactor,0,0,this.scaleFactor,this.translationX*this.scaleFactor+fn,this.translationY*this.scaleFactor+fn)},cn=new WeakSet,o5=function(fn){const Jt=new Path2D;for(let ln=0,pn=fn.length;ln<pn;ln++){const[wn,Cn,Fn,En]=fn[ln];ln===0&&Jt.moveTo(...wn),Jt.bezierCurveTo(Cn[0],Cn[1],Fn[0],Fn[1],En[0],En[1])}return Jt},U3=function(fn,Jt,ln){const[pn,wn,Cn,Fn]=Jt;switch(ln){case 0:for(let En=0,An=fn.length;En<An;En+=2)fn[En]+=pn,fn[En+1]=Fn-fn[En+1];break;case 90:for(let En=0,An=fn.length;En<An;En+=2){const Tn=fn[En];fn[En]=fn[En+1]+pn,fn[En+1]=Tn+wn}break;case 180:for(let En=0,An=fn.length;En<An;En+=2)fn[En]=Cn-fn[En],fn[En+1]+=wn;break;case 270:for(let En=0,An=fn.length;En<An;En+=2){const Tn=fn[En];fn[En]=Cn-fn[En+1],fn[En+1]=Fn-Tn}break;default:throw new Error("Invalid rotation")}return fn},l5=function(fn,Jt,ln){const[pn,wn,Cn,Fn]=Jt;switch(ln){case 0:for(let En=0,An=fn.length;En<An;En+=2)fn[En]-=pn,fn[En+1]=Fn-fn[En+1];break;case 90:for(let En=0,An=fn.length;En<An;En+=2){const Tn=fn[En];fn[En]=fn[En+1]-wn,fn[En+1]=Tn-pn}break;case 180:for(let En=0,An=fn.length;En<An;En+=2)fn[En]=Cn-fn[En],fn[En+1]-=wn;break;case 270:for(let En=0,An=fn.length;En<An;En+=2){const Tn=fn[En];fn[En]=Fn-fn[En+1],fn[En+1]=Cn-Tn}break;default:throw new Error("Invalid rotation")}return fn},c5=function(fn,Jt,ln,pn){var An,Tn;const wn=[],Cn=this.thickness/2,Fn=fn*Jt+Cn,En=fn*ln+Cn;for(const In of this.paths){const Rn=[],Dn=[];for(let Ln=0,Un=In.length;Ln<Un;Ln++){const[tr,er,Qn,Yn]=In[Ln],Xn=fn*tr[0]+Fn,nr=fn*tr[1]+En,lr=fn*er[0]+Fn,dr=fn*er[1]+En,Bn=fn*Qn[0]+Fn,Hn=fn*Qn[1]+En,Wn=fn*Yn[0]+Fn,cr=fn*Yn[1]+En;Ln===0&&(Rn.push(Xn,nr),Dn.push(Xn,nr)),Rn.push(lr,dr,Bn,Hn,Wn,cr),Dn.push(lr,dr),Ln===Un-1&&Dn.push(Wn,cr)}wn.push({bezier:Mn(An=_n,cn,U3).call(An,Rn,pn,this.rotation),points:Mn(Tn=_n,cn,U3).call(Tn,Dn,pn,this.rotation)})}return wn},H3=function(){let fn=1/0,Jt=-1/0,ln=1/0,pn=-1/0;for(const wn of this.paths)for(const[Cn,Fn,En,An]of wn){const Tn=vt.Util.bezierBoundingBox(...Cn,...Fn,...En,...An);fn=Math.min(fn,Tn[0]),ln=Math.min(ln,Tn[1]),Jt=Math.max(Jt,Tn[2]),pn=Math.max(pn,Tn[3])}return[fn,ln,Jt,pn]},O2=function(){return Mt(this,Kt)?Math.ceil(this.thickness*this.parentScale):0},W1=function(fn=!1){if(this.isEmpty())return;if(!Mt(this,Kt)){Mn(this,Bt,h0).call(this);return}const Jt=Mn(this,Bt,H3).call(this),ln=Mn(this,Bt,O2).call(this);$n(this,_t,Math.max(At.AnnotationEditor.MIN_SIZE,Jt[2]-Jt[0])),$n(this,wt,Math.max(At.AnnotationEditor.MIN_SIZE,Jt[3]-Jt[1]));const pn=Math.ceil(ln+Mt(this,_t)*this.scaleFactor),wn=Math.ceil(ln+Mt(this,wt)*this.scaleFactor),[Cn,Fn]=this.parentDimensions;this.width=pn/Cn,this.height=wn/Fn,this.setAspectRatio(pn,wn);const En=this.translationX,An=this.translationY;this.translationX=-Jt[0],this.translationY=-Jt[1],Mn(this,Bt,X1).call(this),Mn(this,Bt,h0).call(this),$n(this,jt,pn),$n(this,kt,wn),this.setDims(pn,wn);const Tn=fn?ln/this.scaleFactor/2:0;this.translate(En-this.translationX-Tn,An-this.translationY-Tn)},Nn(_n,cn),Ur(_n,"_defaultColor",null),Ur(_n,"_defaultOpacity",1),Ur(_n,"_defaultThickness",1),Ur(_n,"_type","ink");let Ft=_n;$.InkEditor=Ft},(xt,$,ht)=>{var Ft,wt,_t,Rt,_e,bt,Pt,Xt,Kt,Nt,$t,fm,pm,D2,z3,u5,h5,X3,L2,d5;Object.defineProperty($,"__esModule",{value:!0}),$.StampEditor=void 0;var vt=ht(1),At=ht(4),St=ht(6),Ct=ht(29);const gn=class gn extends At.AnnotationEditor{constructor(Wt){super({...Wt,name:"stampEditor"});Nn(this,$t);Nn(this,Ft,null);Nn(this,wt,null);Nn(this,_t,null);Nn(this,Rt,null);Nn(this,_e,null);Nn(this,bt,null);Nn(this,Pt,null);Nn(this,Xt,null);Nn(this,Kt,!1);Nn(this,Nt,!1);$n(this,Rt,Wt.bitmapUrl),$n(this,_e,Wt.bitmapFile)}static initialize(Wt){At.AnnotationEditor.initialize(Wt)}static get supportedTypes(){const Wt=["apng","avif","bmp","gif","jpeg","png","svg+xml","webp","x-icon"];return(0,vt.shadow)(this,"supportedTypes",Wt.map(Yt=>`image/${Yt}`))}static get supportedTypesStr(){return(0,vt.shadow)(this,"supportedTypesStr",this.supportedTypes.join(","))}static isHandlingMimeForPasting(Wt){return this.supportedTypes.includes(Wt)}static paste(Wt,Yt){Yt.pasteEditor(vt.AnnotationEditorType.STAMP,{bitmapFile:Wt.getAsFile()})}remove(){var Wt,Yt;Mt(this,wt)&&($n(this,Ft,null),this._uiManager.imageManager.deleteId(Mt(this,wt)),(Wt=Mt(this,bt))==null||Wt.remove(),$n(this,bt,null),(Yt=Mt(this,Pt))==null||Yt.disconnect(),$n(this,Pt,null)),super.remove()}rebuild(){if(!this.parent){Mt(this,wt)&&Mn(this,$t,D2).call(this);return}super.rebuild(),this.div!==null&&(Mt(this,wt)&&Mn(this,$t,D2).call(this),this.isAttachedToDOM||this.parent.add(this))}onceAdded(){this._isDraggable=!0,this.div.focus()}isEmpty(){return!(Mt(this,_t)||Mt(this,Ft)||Mt(this,Rt)||Mt(this,_e))}get isResizable(){return!0}render(){if(this.div)return this.div;let Wt,Yt;if(this.width&&(Wt=this.x,Yt=this.y),super.render(),this.div.hidden=!0,Mt(this,Ft)?Mn(this,$t,z3).call(this):Mn(this,$t,D2).call(this),this.width){const[un,Ut]=this.parentDimensions;this.setAt(Wt*un,Yt*Ut,this.width*un,this.height*Ut)}return this.div}static deserialize(Wt,Yt,un){if(Wt instanceof Ct.StampAnnotationElement)return null;const Ut=super.deserialize(Wt,Yt,un),{rect:Ot,bitmapUrl:Ht,bitmapId:an,isSvg:zt,accessibilityData:Vt}=Wt;an&&un.imageManager.isValidId(an)?$n(Ut,wt,an):$n(Ut,Rt,Ht),$n(Ut,Kt,zt);const[nn,hn]=Ut.pageDimensions;return Ut.width=(Ot[2]-Ot[0])/nn,Ut.height=(Ot[3]-Ot[1])/hn,Vt&&(Ut.altTextData=Vt),Ut}serialize(Wt=!1,Yt=null){if(this.isEmpty())return null;const un={annotationType:vt.AnnotationEditorType.STAMP,bitmapId:Mt(this,wt),pageIndex:this.pageIndex,rect:this.getRect(0,0),rotation:this.rotation,isSvg:Mt(this,Kt),structTreeParentId:this._structTreeParentId};if(Wt)return un.bitmapUrl=Mn(this,$t,L2).call(this,!0),un.accessibilityData=this.altTextData,un;const{decorative:Ut,altText:Ot}=this.altTextData;if(!Ut&&Ot&&(un.accessibilityData={type:"Figure",alt:Ot}),Yt===null)return un;Yt.stamps||(Yt.stamps=new Map);const Ht=Mt(this,Kt)?(un.rect[2]-un.rect[0])*(un.rect[3]-un.rect[1]):null;if(!Yt.stamps.has(Mt(this,wt)))Yt.stamps.set(Mt(this,wt),{area:Ht,serialized:un}),un.bitmap=Mn(this,$t,L2).call(this,!1);else if(Mt(this,Kt)){const an=Yt.stamps.get(Mt(this,wt));Ht>an.area&&(an.area=Ht,an.serialized.bitmap.close(),an.serialized.bitmap=Mn(this,$t,L2).call(this,!1))}return un}};Ft=new WeakMap,wt=new WeakMap,_t=new WeakMap,Rt=new WeakMap,_e=new WeakMap,bt=new WeakMap,Pt=new WeakMap,Xt=new WeakMap,Kt=new WeakMap,Nt=new WeakMap,$t=new WeakSet,fm=function(Wt,Yt=!1){if(!Wt){this.remove();return}$n(this,Ft,Wt.bitmap),Yt||($n(this,wt,Wt.id),$n(this,Kt,Wt.isSvg)),Mn(this,$t,z3).call(this)},pm=function(){$n(this,_t,null),this._uiManager.enableWaiting(!1),Mt(this,bt)&&this.div.focus()},D2=function(){if(Mt(this,wt)){this._uiManager.enableWaiting(!0),this._uiManager.imageManager.getFromId(Mt(this,wt)).then(Yt=>Mn(this,$t,fm).call(this,Yt,!0)).finally(()=>Mn(this,$t,pm).call(this));return}if(Mt(this,Rt)){const Yt=Mt(this,Rt);$n(this,Rt,null),this._uiManager.enableWaiting(!0),$n(this,_t,this._uiManager.imageManager.getFromUrl(Yt).then(un=>Mn(this,$t,fm).call(this,un)).finally(()=>Mn(this,$t,pm).call(this)));return}if(Mt(this,_e)){const Yt=Mt(this,_e);$n(this,_e,null),this._uiManager.enableWaiting(!0),$n(this,_t,this._uiManager.imageManager.getFromFile(Yt).then(un=>Mn(this,$t,fm).call(this,un)).finally(()=>Mn(this,$t,pm).call(this)));return}const Wt=document.createElement("input");Wt.type="file",Wt.accept=gn.supportedTypesStr,$n(this,_t,new Promise(Yt=>{Wt.addEventListener("change",async()=>{if(!Wt.files||Wt.files.length===0)this.remove();else{this._uiManager.enableWaiting(!0);const un=await this._uiManager.imageManager.getFromFile(Wt.files[0]);Mn(this,$t,fm).call(this,un)}Yt()}),Wt.addEventListener("cancel",()=>{this.remove(),Yt()})}).finally(()=>Mn(this,$t,pm).call(this))),Wt.click()},z3=function(){const{div:Wt}=this;let{width:Yt,height:un}=Mt(this,Ft);const[Ut,Ot]=this.pageDimensions,Ht=.75;if(this.width)Yt=this.width*Ut,un=this.height*Ot;else if(Yt>Ht*Ut||un>Ht*Ot){const nn=Math.min(Ht*Ut/Yt,Ht*Ot/un);Yt*=nn,un*=nn}const[an,zt]=this.parentDimensions;this.setDims(Yt*an/Ut,un*zt/Ot),this._uiManager.enableWaiting(!1);const Vt=$n(this,bt,document.createElement("canvas"));Wt.append(Vt),Wt.hidden=!1,Mn(this,$t,X3).call(this,Yt,un),Mn(this,$t,d5).call(this),Mt(this,Nt)||(this.parent.addUndoableEditor(this),$n(this,Nt,!0)),this._uiManager._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",subtype:this.editorType,data:{action:"inserted_image"}}}),this.addAltTextButton()},u5=function(Wt,Yt){var Ht;const[un,Ut]=this.parentDimensions;this.width=Wt/un,this.height=Yt/Ut,this.setDims(Wt,Yt),(Ht=this._initialOptions)!=null&&Ht.isCentered?this.center():this.fixAndSetPosition(),this._initialOptions=null,Mt(this,Xt)!==null&&clearTimeout(Mt(this,Xt)),$n(this,Xt,setTimeout(()=>{$n(this,Xt,null),Mn(this,$t,X3).call(this,Wt,Yt)},200))},h5=function(Wt,Yt){const{width:un,height:Ut}=Mt(this,Ft);let Ot=un,Ht=Ut,an=Mt(this,Ft);for(;Ot>2*Wt||Ht>2*Yt;){const zt=Ot,Vt=Ht;Ot>2*Wt&&(Ot=Ot>=16384?Math.floor(Ot/2)-1:Math.ceil(Ot/2)),Ht>2*Yt&&(Ht=Ht>=16384?Math.floor(Ht/2)-1:Math.ceil(Ht/2));const nn=new OffscreenCanvas(Ot,Ht);nn.getContext("2d").drawImage(an,0,0,zt,Vt,0,0,Ot,Ht),an=nn.transferToImageBitmap()}return an},X3=function(Wt,Yt){Wt=Math.ceil(Wt),Yt=Math.ceil(Yt);const un=Mt(this,bt);if(!un||un.width===Wt&&un.height===Yt)return;un.width=Wt,un.height=Yt;const Ut=Mt(this,Kt)?Mt(this,Ft):Mn(this,$t,h5).call(this,Wt,Yt),Ot=un.getContext("2d");Ot.filter=this._uiManager.hcmFilter,Ot.drawImage(Ut,0,0,Ut.width,Ut.height,0,0,Wt,Yt)},L2=function(Wt){if(Wt){if(Mt(this,Kt)){const Ut=this._uiManager.imageManager.getSvgUrl(Mt(this,wt));if(Ut)return Ut}const Yt=document.createElement("canvas");return{width:Yt.width,height:Yt.height}=Mt(this,Ft),Yt.getContext("2d").drawImage(Mt(this,Ft),0,0),Yt.toDataURL()}if(Mt(this,Kt)){const[Yt,un]=this.pageDimensions,Ut=Math.round(this.width*Yt*St.PixelsPerInch.PDF_TO_CSS_UNITS),Ot=Math.round(this.height*un*St.PixelsPerInch.PDF_TO_CSS_UNITS),Ht=new OffscreenCanvas(Ut,Ot);return Ht.getContext("2d").drawImage(Mt(this,Ft),0,0,Mt(this,Ft).width,Mt(this,Ft).height,0,0,Ut,Ot),Ht.transferToImageBitmap()}return structuredClone(Mt(this,Ft))},d5=function(){$n(this,Pt,new ResizeObserver(Wt=>{const Yt=Wt[0].contentRect;Yt.width&&Yt.height&&Mn(this,$t,u5).call(this,Yt.width,Yt.height)})),Mt(this,Pt).observe(this.div)},Ur(gn,"_type","stamp");let Et=gn;$.StampEditor=Et}],__webpack_module_cache__={};function __w_pdfjs_require__(xt){var $=__webpack_module_cache__[xt];if($!==void 0)return $.exports;var ht=__webpack_module_cache__[xt]={exports:{}};return __webpack_modules__[xt](ht,ht.exports,__w_pdfjs_require__),ht.exports}var __webpack_exports__={};return(()=>{var xt=__webpack_exports__;Object.defineProperty(xt,"__esModule",{value:!0}),Object.defineProperty(xt,"AbortException",{enumerable:!0,get:function(){return $.AbortException}}),Object.defineProperty(xt,"AnnotationEditorLayer",{enumerable:!0,get:function(){return St.AnnotationEditorLayer}}),Object.defineProperty(xt,"AnnotationEditorParamsType",{enumerable:!0,get:function(){return $.AnnotationEditorParamsType}}),Object.defineProperty(xt,"AnnotationEditorType",{enumerable:!0,get:function(){return $.AnnotationEditorType}}),Object.defineProperty(xt,"AnnotationEditorUIManager",{enumerable:!0,get:function(){return Ct.AnnotationEditorUIManager}}),Object.defineProperty(xt,"AnnotationLayer",{enumerable:!0,get:function(){return Et.AnnotationLayer}}),Object.defineProperty(xt,"AnnotationMode",{enumerable:!0,get:function(){return $.AnnotationMode}}),Object.defineProperty(xt,"CMapCompressionType",{enumerable:!0,get:function(){return $.CMapCompressionType}}),Object.defineProperty(xt,"DOMSVGFactory",{enumerable:!0,get:function(){return vt.DOMSVGFactory}}),Object.defineProperty(xt,"FeatureTest",{enumerable:!0,get:function(){return $.FeatureTest}}),Object.defineProperty(xt,"GlobalWorkerOptions",{enumerable:!0,get:function(){return Ft.GlobalWorkerOptions}}),Object.defineProperty(xt,"ImageKind",{enumerable:!0,get:function(){return $.ImageKind}}),Object.defineProperty(xt,"InvalidPDFException",{enumerable:!0,get:function(){return $.InvalidPDFException}}),Object.defineProperty(xt,"MissingPDFException",{enumerable:!0,get:function(){return $.MissingPDFException}}),Object.defineProperty(xt,"OPS",{enumerable:!0,get:function(){return $.OPS}}),Object.defineProperty(xt,"PDFDataRangeTransport",{enumerable:!0,get:function(){return ht.PDFDataRangeTransport}}),Object.defineProperty(xt,"PDFDateString",{enumerable:!0,get:function(){return vt.PDFDateString}}),Object.defineProperty(xt,"PDFWorker",{enumerable:!0,get:function(){return ht.PDFWorker}}),Object.defineProperty(xt,"PasswordResponses",{enumerable:!0,get:function(){return $.PasswordResponses}}),Object.defineProperty(xt,"PermissionFlag",{enumerable:!0,get:function(){return $.PermissionFlag}}),Object.defineProperty(xt,"PixelsPerInch",{enumerable:!0,get:function(){return vt.PixelsPerInch}}),Object.defineProperty(xt,"PromiseCapability",{enumerable:!0,get:function(){return $.PromiseCapability}}),Object.defineProperty(xt,"RenderingCancelledException",{enumerable:!0,get:function(){return vt.RenderingCancelledException}}),Object.defineProperty(xt,"SVGGraphics",{enumerable:!0,get:function(){return ht.SVGGraphics}}),Object.defineProperty(xt,"UnexpectedResponseException",{enumerable:!0,get:function(){return $.UnexpectedResponseException}}),Object.defineProperty(xt,"Util",{enumerable:!0,get:function(){return $.Util}}),Object.defineProperty(xt,"VerbosityLevel",{enumerable:!0,get:function(){return $.VerbosityLevel}}),Object.defineProperty(xt,"XfaLayer",{enumerable:!0,get:function(){return wt.XfaLayer}}),Object.defineProperty(xt,"build",{enumerable:!0,get:function(){return ht.build}}),Object.defineProperty(xt,"createValidAbsoluteUrl",{enumerable:!0,get:function(){return $.createValidAbsoluteUrl}}),Object.defineProperty(xt,"getDocument",{enumerable:!0,get:function(){return ht.getDocument}}),Object.defineProperty(xt,"getFilenameFromUrl",{enumerable:!0,get:function(){return vt.getFilenameFromUrl}}),Object.defineProperty(xt,"getPdfFilenameFromUrl",{enumerable:!0,get:function(){return vt.getPdfFilenameFromUrl}}),Object.defineProperty(xt,"getXfaPageViewport",{enumerable:!0,get:function(){return vt.getXfaPageViewport}}),Object.defineProperty(xt,"isDataScheme",{enumerable:!0,get:function(){return vt.isDataScheme}}),Object.defineProperty(xt,"isPdfFile",{enumerable:!0,get:function(){return vt.isPdfFile}}),Object.defineProperty(xt,"loadScript",{enumerable:!0,get:function(){return vt.loadScript}}),Object.defineProperty(xt,"noContextMenu",{enumerable:!0,get:function(){return vt.noContextMenu}}),Object.defineProperty(xt,"normalizeUnicode",{enumerable:!0,get:function(){return $.normalizeUnicode}}),Object.defineProperty(xt,"renderTextLayer",{enumerable:!0,get:function(){return At.renderTextLayer}}),Object.defineProperty(xt,"setLayerDimensions",{enumerable:!0,get:function(){return vt.setLayerDimensions}}),Object.defineProperty(xt,"shadow",{enumerable:!0,get:function(){return $.shadow}}),Object.defineProperty(xt,"updateTextLayer",{enumerable:!0,get:function(){return At.updateTextLayer}}),Object.defineProperty(xt,"version",{enumerable:!0,get:function(){return ht.version}});var $=__w_pdfjs_require__(1),ht=__w_pdfjs_require__(2),vt=__w_pdfjs_require__(6),At=__w_pdfjs_require__(26),St=__w_pdfjs_require__(27),Ct=__w_pdfjs_require__(5),Et=__w_pdfjs_require__(29),Ft=__w_pdfjs_require__(14),wt=__w_pdfjs_require__(32)})(),__webpack_exports__})())})(pdf);var pdfExports=pdf.exports;const pdfjs=getDefaultExportFromCjs(pdfExports);var pdf_worker_entry={},pdf_worker={exports:{}};(function(xt,$){(function(vt,At){xt.exports=vt.pdfjsWorker=At()})(globalThis,()=>(()=>{var ht=[,(Ct,Et,Ft)=>{Object.defineProperty(Et,"__esModule",{value:!0}),Et.WorkerTask=Et.WorkerMessageHandler=void 0;var wt=Ft(2),_t=Ft(3),Rt=Ft(4),_e=Ft(6),bt=Ft(10),Pt=Ft(68),Xt=Ft(73),Kt=Ft(104),Nt=Ft(105),$t=Ft(72);class Lt{constructor(Bt){this.name=Bt,this.terminated=!1,this._capability=new wt.PromiseCapability}get finished(){return this._capability.promise}finish(){this._capability.resolve()}terminate(){this.terminated=!0}ensureNotTerminated(){if(this.terminated)throw new Error("Worker task was terminated")}}Et.WorkerTask=Lt;class jt{static setup(Bt,Gt){let en=!1;Bt.on("test",function(dn){en||(en=!0,Bt.send("test",dn instanceof Uint8Array))}),Bt.on("configure",function(dn){(0,wt.setVerbosityLevel)(dn.verbosity)}),Bt.on("GetDocRequest",function(dn){return jt.createDocumentHandler(dn,Gt)})}static createDocumentHandler(Bt,Gt){let en,dn=!1,Qt=null;const gn=new Set,tn=(0,wt.getVerbosityLevel)(),{docId:bn,apiVersion:Wt}=Bt,Yt="3.11.174";if(Wt!==Yt)throw new Error(`The API version "${Wt}" does not match the Worker version "${Yt}".`);const un=[];for(const on in[])un.push(on);if(un.length)throw new Error("The `Array.prototype` contains unexpected enumerable properties: "+un.join(", ")+"; thus breaking e.g. `for...in` iteration of `Array`s.");const Ut=bn+"_worker";let Ot=new Kt.MessageHandler(Ut,bn,Gt);function Ht(){if(dn)throw new Error("Worker was terminated")}function an(on){gn.add(on)}function zt(on){on.finish(),gn.delete(on)}async function Vt(on){await en.ensureDoc("checkHeader"),await en.ensureDoc("parseStartXRef"),await en.ensureDoc("parse",[on]),await en.ensureDoc("checkFirstPage",[on]),await en.ensureDoc("checkLastPage",[on]);const cn=await en.ensureDoc("isPureXfa");if(cn){const vn=new Lt("loadXfaFonts");an(vn),await Promise.all([en.loadXfaFonts(Ot,vn).catch(kn=>{}).then(()=>zt(vn)),en.loadXfaImages()])}const[sn,rn]=await Promise.all([en.ensureDoc("numPages"),en.ensureDoc("fingerprints")]),xn=cn?await en.ensureDoc("htmlForXfa"):null;return{numPages:sn,fingerprints:rn,htmlForXfa:xn}}function nn({data:on,password:cn,disableAutoFetch:sn,rangeChunkSize:rn,length:xn,docBaseUrl:vn,enableXfa:kn,evaluatorOptions:Pn}){const On={source:null,disableAutoFetch:sn,docBaseUrl:vn,docId:bn,enableXfa:kn,evaluatorOptions:Pn,handler:Ot,length:xn,password:cn,rangeChunkSize:rn},_n=new wt.PromiseCapability;let Sn;if(on){try{On.source=on,Sn=new _e.LocalPdfManager(On),_n.resolve(Sn)}catch(wn){_n.reject(wn)}return _n.promise}let mn,fn=[];try{mn=new Nt.PDFWorkerStream(Ot)}catch(wn){return _n.reject(wn),_n.promise}const Jt=mn.getFullReader();Jt.headersReady.then(function(){if(Jt.isRangeSupported){On.source=mn,On.length=Jt.contentLength,On.disableAutoFetch||(On.disableAutoFetch=Jt.isStreamingSupported),Sn=new _e.NetworkPdfManager(On);for(const wn of fn)Sn.sendProgressiveData(wn);fn=[],_n.resolve(Sn),Qt=null}}).catch(function(wn){_n.reject(wn),Qt=null});let ln=0;const pn=function(){const wn=(0,_t.arrayBuffersToBytes)(fn);xn&&wn.length!==xn&&(0,wt.warn)("reported HTTP length is different from actual");try{On.source=wn,Sn=new _e.LocalPdfManager(On),_n.resolve(Sn)}catch(Cn){_n.reject(Cn)}fn=[]};return new Promise(function(wn,Cn){const Fn=function({value:En,done:An}){try{if(Ht(),An){Sn||pn(),Qt=null;return}ln+=En.byteLength,Jt.isStreamingSupported||Ot.send("DocProgress",{loaded:ln,total:Math.max(ln,Jt.contentLength||0)}),Sn?Sn.sendProgressiveData(En):fn.push(En),Jt.read().then(Fn,Cn)}catch(Tn){Cn(Tn)}};Jt.read().then(Fn,Cn)}).catch(function(wn){_n.reject(wn),Qt=null}),Qt=function(wn){mn.cancelAllRequests(wn)},_n.promise}function hn(on){function cn(xn){Ht(),Ot.send("GetDoc",{pdfInfo:xn})}function sn(xn){if(Ht(),xn instanceof wt.PasswordException){const vn=new Lt(`PasswordException: response ${xn.code}`);an(vn),Ot.sendWithPromise("PasswordRequest",xn).then(function({password:kn}){zt(vn),en.updatePassword(kn),rn()}).catch(function(){zt(vn),Ot.send("DocException",xn)})}else xn instanceof wt.InvalidPDFException||xn instanceof wt.MissingPDFException||xn instanceof wt.UnexpectedResponseException||xn instanceof wt.UnknownErrorException?Ot.send("DocException",xn):Ot.send("DocException",new wt.UnknownErrorException(xn.message,xn.toString()))}function rn(){Ht(),Vt(!1).then(cn,function(xn){if(Ht(),!(xn instanceof _t.XRefParseException)){sn(xn);return}en.requestLoadedStream().then(function(){Ht(),Vt(!0).then(cn,sn)})})}Ht(),nn(on).then(function(xn){if(dn)throw xn.terminate(new wt.AbortException("Worker was terminated.")),new Error("Worker was terminated");en=xn,en.requestLoadedStream(!0).then(vn=>{Ot.send("DataLoaded",{length:vn.bytes.byteLength})})}).then(rn,sn)}return Ot.on("GetPage",function(on){return en.getPage(on.pageIndex).then(function(cn){return Promise.all([en.ensure(cn,"rotate"),en.ensure(cn,"ref"),en.ensure(cn,"userUnit"),en.ensure(cn,"view")]).then(function([sn,rn,xn,vn]){return{rotate:sn,ref:rn,userUnit:xn,view:vn}})})}),Ot.on("GetPageIndex",function(on){const cn=Rt.Ref.get(on.num,on.gen);return en.ensureCatalog("getPageIndex",[cn])}),Ot.on("GetDestinations",function(on){return en.ensureCatalog("destinations")}),Ot.on("GetDestination",function(on){return en.ensureCatalog("getDestination",[on.id])}),Ot.on("GetPageLabels",function(on){return en.ensureCatalog("pageLabels")}),Ot.on("GetPageLayout",function(on){return en.ensureCatalog("pageLayout")}),Ot.on("GetPageMode",function(on){return en.ensureCatalog("pageMode")}),Ot.on("GetViewerPreferences",function(on){return en.ensureCatalog("viewerPreferences")}),Ot.on("GetOpenAction",function(on){return en.ensureCatalog("openAction")}),Ot.on("GetAttachments",function(on){return en.ensureCatalog("attachments")}),Ot.on("GetDocJSActions",function(on){return en.ensureCatalog("jsActions")}),Ot.on("GetPageJSActions",function({pageIndex:on}){return en.getPage(on).then(function(cn){return en.ensure(cn,"jsActions")})}),Ot.on("GetOutline",function(on){return en.ensureCatalog("documentOutline")}),Ot.on("GetOptionalContentConfig",function(on){return en.ensureCatalog("optionalContentConfig")}),Ot.on("GetPermissions",function(on){return en.ensureCatalog("permissions")}),Ot.on("GetMetadata",function(on){return Promise.all([en.ensureDoc("documentInfo"),en.ensureCatalog("metadata")])}),Ot.on("GetMarkInfo",function(on){return en.ensureCatalog("markInfo")}),Ot.on("GetData",function(on){return en.requestLoadedStream().then(function(cn){return cn.bytes})}),Ot.on("GetAnnotations",function({pageIndex:on,intent:cn}){return en.getPage(on).then(function(sn){const rn=new Lt(`GetAnnotations: page ${on}`);return an(rn),sn.getAnnotationsData(Ot,rn,cn).then(xn=>(zt(rn),xn),xn=>{throw zt(rn),xn})})}),Ot.on("GetFieldObjects",function(on){return en.ensureDoc("fieldObjects")}),Ot.on("HasJSActions",function(on){return en.ensureDoc("hasJSActions")}),Ot.on("GetCalculationOrderIds",function(on){return en.ensureDoc("calculationOrderIds")}),Ot.on("SaveDocument",async function({isPureXfa:on,numPages:cn,annotationStorage:sn,filename:rn}){const xn=[en.requestLoadedStream(),en.ensureCatalog("acroForm"),en.ensureCatalog("acroFormRef"),en.ensureDoc("startXRef"),en.ensureDoc("xref"),en.ensureDoc("linearization"),en.ensureCatalog("structTreeRoot")],vn=[],kn=on?null:(0,_t.getNewAnnotationsMap)(sn),[Pn,On,_n,Sn,mn,fn,Jt]=await Promise.all(xn),ln=mn.trailer.getRaw("Root")||null;let pn;if(kn){Jt?await Jt.canUpdateStructTree({pdfManager:en,newAnnotationsByPage:kn})&&(pn=Jt):await $t.StructTreeRoot.canCreateStructureTree({catalogRef:ln,pdfManager:en,newAnnotationsByPage:kn})&&(pn=null);const Dn=bt.AnnotationFactory.generateImages(sn.values(),mn,en.evaluatorOptions.isOffscreenCanvasSupported),Ln=pn===void 0?vn:[];for(const[Un,tr]of kn)Ln.push(en.getPage(Un).then(er=>{const Qn=new Lt(`Save (editor): page ${Un}`);return er.saveNewAnnotations(Ot,Qn,tr,Dn).finally(function(){zt(Qn)})}));pn===null?vn.push(Promise.all(Ln).then(async Un=>(await $t.StructTreeRoot.createStructureTree({newAnnotationsByPage:kn,xref:mn,catalogRef:ln,pdfManager:en,newRefs:Un}),Un))):pn&&vn.push(Promise.all(Ln).then(async Un=>(await pn.updateStructureTree({newAnnotationsByPage:kn,pdfManager:en,newRefs:Un}),Un)))}if(on)vn.push(en.serializeXfaData(sn));else for(let Dn=0;Dn<cn;Dn++)vn.push(en.getPage(Dn).then(function(Ln){const Un=new Lt(`Save: page ${Dn}`);return Ln.save(Ot,Un,sn).finally(function(){zt(Un)})}));const wn=await Promise.all(vn);let Cn=[],Fn=null;if(on){if(Fn=wn[0],!Fn)return Pn.bytes}else if(Cn=wn.flat(2),Cn.length===0)return Pn.bytes;const En=_n&&On instanceof Rt.Dict&&Cn.some(Dn=>Dn.needAppearances),An=On instanceof Rt.Dict&&On.get("XFA")||null;let Tn=null,In=!1;if(Array.isArray(An)){for(let Dn=0,Ln=An.length;Dn<Ln;Dn+=2)An[Dn]==="datasets"&&(Tn=An[Dn+1],In=!0);Tn===null&&(Tn=mn.getNewTemporaryRef())}else An&&(0,wt.warn)("Unsupported XFA type.");let Rn=Object.create(null);if(mn.trailer){const Dn=Object.create(null),Ln=mn.trailer.get("Info")||null;Ln instanceof Rt.Dict&&Ln.forEach((Un,tr)=>{typeof tr=="string"&&(Dn[Un]=(0,wt.stringToPDFString)(tr))}),Rn={rootRef:ln,encryptRef:mn.trailer.getRaw("Encrypt")||null,newRef:mn.getNewTemporaryRef(),infoRef:mn.trailer.getRaw("Info")||null,info:Dn,fileIds:mn.trailer.get("ID")||null,startXRef:fn?Sn:mn.lastXRefStreamPos??Sn,filename:rn}}return(0,Xt.incrementalUpdate)({originalData:Pn.bytes,xrefInfo:Rn,newRefs:Cn,xref:mn,hasXfa:!!An,xfaDatasetsRef:Tn,hasXfaDatasetsEntry:In,needAppearances:En,acroFormRef:_n,acroForm:On,xfaData:Fn}).finally(()=>{mn.resetNewTemporaryRef()})}),Ot.on("GetOperatorList",function(on,cn){const sn=on.pageIndex;en.getPage(sn).then(function(rn){const xn=new Lt(`GetOperatorList: page ${sn}`);an(xn);const vn=tn>=wt.VerbosityLevel.INFOS?Date.now():0;rn.getOperatorList({handler:Ot,sink:cn,task:xn,intent:on.intent,cacheKey:on.cacheKey,annotationStorage:on.annotationStorage}).then(function(kn){zt(xn),vn&&(0,wt.info)(`page=${sn+1} - getOperatorList: time=${Date.now()-vn}ms, len=${kn.length}`),cn.close()},function(kn){zt(xn),!xn.terminated&&cn.error(kn)})})}),Ot.on("GetTextContent",function(on,cn){const{pageIndex:sn,includeMarkedContent:rn,disableNormalization:xn}=on;en.getPage(sn).then(function(vn){const kn=new Lt("GetTextContent: page "+sn);an(kn);const Pn=tn>=wt.VerbosityLevel.INFOS?Date.now():0;vn.extractTextContent({handler:Ot,task:kn,sink:cn,includeMarkedContent:rn,disableNormalization:xn}).then(function(){zt(kn),Pn&&(0,wt.info)(`page=${sn+1} - getTextContent: time=${Date.now()-Pn}ms`),cn.close()},function(On){zt(kn),!kn.terminated&&cn.error(On)})})}),Ot.on("GetStructTree",function(on){return en.getPage(on.pageIndex).then(function(cn){return en.ensure(cn,"getStructTree")})}),Ot.on("FontFallback",function(on){return en.fontFallback(on.id,Ot)}),Ot.on("Cleanup",function(on){return en.cleanup(!0)}),Ot.on("Terminate",function(on){dn=!0;const cn=[];if(en){en.terminate(new wt.AbortException("Worker was terminated."));const sn=en.cleanup();cn.push(sn),en=null}else(0,Pt.clearGlobalCaches)();Qt&&Qt(new wt.AbortException("Worker was terminated."));for(const sn of gn)cn.push(sn.finished),sn.terminate();return Promise.all(cn).then(function(){Ot.destroy(),Ot=null})}),Ot.on("Ready",function(on){hn(Bt),Bt=null}),Ut}static initializeFromPort(Bt){const Gt=new Kt.MessageHandler("worker","main",Bt);jt.setup(Gt,Bt),Gt.send("ready",null)}}Et.WorkerMessageHandler=jt;function kt(qt){return typeof qt.postMessage=="function"&&"onmessage"in qt}typeof window>"u"&&!wt.isNodeJS&&typeof self<"u"&&kt(self)&&jt.initializeFromPort(self)},(Ct,Et)=>{var dr;Object.defineProperty(Et,"__esModule",{value:!0}),Et.VerbosityLevel=Et.Util=Et.UnknownErrorException=Et.UnexpectedResponseException=Et.TextRenderingMode=Et.RenderingIntentFlag=Et.PromiseCapability=Et.PermissionFlag=Et.PasswordResponses=Et.PasswordException=Et.PageActionEventType=Et.OPS=Et.MissingPDFException=Et.MAX_IMAGE_SIZE_TO_CACHE=Et.LINE_FACTOR=Et.LINE_DESCENT_FACTOR=Et.InvalidPDFException=Et.ImageKind=Et.IDENTITY_MATRIX=Et.FormatError=Et.FeatureTest=Et.FONT_IDENTITY_MATRIX=Et.DocumentActionEventType=Et.CMapCompressionType=Et.BaseException=Et.BASELINE_FACTOR=Et.AnnotationType=Et.AnnotationReplyType=Et.AnnotationPrefix=Et.AnnotationMode=Et.AnnotationFlag=Et.AnnotationFieldFlag=Et.AnnotationEditorType=Et.AnnotationEditorPrefix=Et.AnnotationEditorParamsType=Et.AnnotationBorderStyleType=Et.AnnotationActionEventType=Et.AbortException=void 0,Et.assert=hn,Et.bytesToString=mn,Et.createValidAbsoluteUrl=cn,Et.getModificationDate=tr,Et.getUuid=nr,Et.getVerbosityLevel=an,Et.info=zt,Et.isArrayBuffer=Ln,Et.isArrayEqual=Un,Et.isNodeJS=void 0,Et.normalizeUnicode=Xn,Et.objectFromMap=pn,Et.objectSize=ln,Et.setVerbosityLevel=Ht,Et.shadow=sn,Et.string32=Jt,Et.stringToBytes=fn,Et.stringToPDFString=In,Et.stringToUTF8String=Rn,Et.unreachable=nn,Et.utf8StringToString=Dn,Et.warn=Vt;const Ft=typeof process=="object"&&process+""=="[object process]"&&!process.versions.nw&&!(process.versions.electron&&process.type&&process.type!=="browser");Et.isNodeJS=Ft;const wt=[1,0,0,1,0,0];Et.IDENTITY_MATRIX=wt;const _t=[.001,0,0,.001,0,0];Et.FONT_IDENTITY_MATRIX=_t;const Rt=1e7;Et.MAX_IMAGE_SIZE_TO_CACHE=Rt;const _e=1.35;Et.LINE_FACTOR=_e;const bt=.35;Et.LINE_DESCENT_FACTOR=bt;const Pt=bt/_e;Et.BASELINE_FACTOR=Pt;const Xt={ANY:1,DISPLAY:2,PRINT:4,SAVE:8,ANNOTATIONS_FORMS:16,ANNOTATIONS_STORAGE:32,ANNOTATIONS_DISABLE:64,OPLIST:256};Et.RenderingIntentFlag=Xt;const Kt={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3};Et.AnnotationMode=Kt;const Nt="pdfjs_internal_editor_";Et.AnnotationEditorPrefix=Nt;const $t={DISABLE:-1,NONE:0,FREETEXT:3,STAMP:13,INK:15};Et.AnnotationEditorType=$t;const Lt={RESIZE:1,CREATE:2,FREETEXT_SIZE:11,FREETEXT_COLOR:12,FREETEXT_OPACITY:13,INK_COLOR:21,INK_THICKNESS:22,INK_OPACITY:23};Et.AnnotationEditorParamsType=Lt;const jt={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048};Et.PermissionFlag=jt;const kt={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_ADD_TO_PATH:4,STROKE_ADD_TO_PATH:5,FILL_STROKE_ADD_TO_PATH:6,ADD_TO_PATH:7,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4};Et.TextRenderingMode=kt;const qt={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3};Et.ImageKind=qt;const Bt={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,SOUND:18,MOVIE:19,WIDGET:20,SCREEN:21,PRINTERMARK:22,TRAPNET:23,WATERMARK:24,THREED:25,REDACT:26};Et.AnnotationType=Bt;const Gt={GROUP:"Group",REPLY:"R"};Et.AnnotationReplyType=Gt;const en={INVISIBLE:1,HIDDEN:2,PRINT:4,NOZOOM:8,NOROTATE:16,NOVIEW:32,READONLY:64,LOCKED:128,TOGGLENOVIEW:256,LOCKEDCONTENTS:512};Et.AnnotationFlag=en;const dn={READONLY:1,REQUIRED:2,NOEXPORT:4,MULTILINE:4096,PASSWORD:8192,NOTOGGLETOOFF:16384,RADIO:32768,PUSHBUTTON:65536,COMBO:131072,EDIT:262144,SORT:524288,FILESELECT:1048576,MULTISELECT:2097152,DONOTSPELLCHECK:4194304,DONOTSCROLL:8388608,COMB:16777216,RICHTEXT:33554432,RADIOSINUNISON:33554432,COMMITONSELCHANGE:67108864};Et.AnnotationFieldFlag=dn;const Qt={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5};Et.AnnotationBorderStyleType=Qt;const gn={E:"Mouse Enter",X:"Mouse Exit",D:"Mouse Down",U:"Mouse Up",Fo:"Focus",Bl:"Blur",PO:"PageOpen",PC:"PageClose",PV:"PageVisible",PI:"PageInvisible",K:"Keystroke",F:"Format",V:"Validate",C:"Calculate"};Et.AnnotationActionEventType=gn;const tn={WC:"WillClose",WS:"WillSave",DS:"DidSave",WP:"WillPrint",DP:"DidPrint"};Et.DocumentActionEventType=tn;const bn={O:"PageOpen",C:"PageClose"};Et.PageActionEventType=bn;const Wt={ERRORS:0,WARNINGS:1,INFOS:5};Et.VerbosityLevel=Wt;const Yt={NONE:0,BINARY:1};Et.CMapCompressionType=Yt;const un={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotation:80,endAnnotation:81,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91};Et.OPS=un;const Ut={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};Et.PasswordResponses=Ut;let Ot=Wt.WARNINGS;function Ht(Bn){Number.isInteger(Bn)&&(Ot=Bn)}function an(){return Ot}function zt(Bn){Ot>=Wt.INFOS&&console.log(`Info: ${Bn}`)}function Vt(Bn){Ot>=Wt.WARNINGS&&console.log(`Warning: ${Bn}`)}function nn(Bn){throw new Error(Bn)}function hn(Bn,Hn){Bn||nn(Hn)}function on(Bn){switch(Bn==null?void 0:Bn.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}function cn(Bn,Hn=null,Wn=null){if(!Bn)return null;try{if(Wn&&typeof Bn=="string"){if(Wn.addDefaultProtocol&&Bn.startsWith("www.")){const sr=Bn.match(/\./g);(sr==null?void 0:sr.length)>=2&&(Bn=`http://${Bn}`)}if(Wn.tryConvertEncoding)try{Bn=Rn(Bn)}catch{}}const cr=Hn?new URL(Bn,Hn):new URL(Bn);if(on(cr))return cr}catch{}return null}function sn(Bn,Hn,Wn,cr=!1){return Object.defineProperty(Bn,Hn,{value:Wn,enumerable:!cr,configurable:!0,writable:!1}),Wn}const rn=function(){function Hn(Wn,cr){this.constructor===Hn&&nn("Cannot initialize BaseException."),this.message=Wn,this.name=cr}return Hn.prototype=new Error,Hn.constructor=Hn,Hn}();Et.BaseException=rn;class xn extends rn{constructor(Hn,Wn){super(Hn,"PasswordException"),this.code=Wn}}Et.PasswordException=xn;class vn extends rn{constructor(Hn,Wn){super(Hn,"UnknownErrorException"),this.details=Wn}}Et.UnknownErrorException=vn;class kn extends rn{constructor(Hn){super(Hn,"InvalidPDFException")}}Et.InvalidPDFException=kn;class Pn extends rn{constructor(Hn){super(Hn,"MissingPDFException")}}Et.MissingPDFException=Pn;class On extends rn{constructor(Hn,Wn){super(Hn,"UnexpectedResponseException"),this.status=Wn}}Et.UnexpectedResponseException=On;class _n extends rn{constructor(Hn){super(Hn,"FormatError")}}Et.FormatError=_n;class Sn extends rn{constructor(Hn){super(Hn,"AbortException")}}Et.AbortException=Sn;function mn(Bn){(typeof Bn!="object"||(Bn==null?void 0:Bn.length)===void 0)&&nn("Invalid argument for bytesToString");const Hn=Bn.length,Wn=8192;if(Hn<Wn)return String.fromCharCode.apply(null,Bn);const cr=[];for(let sr=0;sr<Hn;sr+=Wn){const xr=Math.min(sr+Wn,Hn),Jn=Bn.subarray(sr,xr);cr.push(String.fromCharCode.apply(null,Jn))}return cr.join("")}function fn(Bn){typeof Bn!="string"&&nn("Invalid argument for stringToBytes");const Hn=Bn.length,Wn=new Uint8Array(Hn);for(let cr=0;cr<Hn;++cr)Wn[cr]=Bn.charCodeAt(cr)&255;return Wn}function Jt(Bn){return String.fromCharCode(Bn>>24&255,Bn>>16&255,Bn>>8&255,Bn&255)}function ln(Bn){return Object.keys(Bn).length}function pn(Bn){const Hn=Object.create(null);for(const[Wn,cr]of Bn)Hn[Wn]=cr;return Hn}function wn(){const Bn=new Uint8Array(4);return Bn[0]=1,new Uint32Array(Bn.buffer,0,1)[0]===1}function Cn(){try{return new Function(""),!0}catch{return!1}}class Fn{static get isLittleEndian(){return sn(this,"isLittleEndian",wn())}static get isEvalSupported(){return sn(this,"isEvalSupported",Cn())}static get isOffscreenCanvasSupported(){return sn(this,"isOffscreenCanvasSupported",typeof OffscreenCanvas<"u")}static get platform(){return typeof navigator>"u"?sn(this,"platform",{isWin:!1,isMac:!1}):sn(this,"platform",{isWin:navigator.platform.includes("Win"),isMac:navigator.platform.includes("Mac")})}static get isCSSRoundSupported(){var Hn,Wn;return sn(this,"isCSSRoundSupported",(Wn=(Hn=globalThis.CSS)==null?void 0:Hn.supports)==null?void 0:Wn.call(Hn,"width: round(1.5px, 1px)"))}}Et.FeatureTest=Fn;const En=[...Array(256).keys()].map(Bn=>Bn.toString(16).padStart(2,"0"));class An{static makeHexColor(Hn,Wn,cr){return`#${En[Hn]}${En[Wn]}${En[cr]}`}static scaleMinMax(Hn,Wn){let cr;Hn[0]?(Hn[0]<0&&(cr=Wn[0],Wn[0]=Wn[1],Wn[1]=cr),Wn[0]*=Hn[0],Wn[1]*=Hn[0],Hn[3]<0&&(cr=Wn[2],Wn[2]=Wn[3],Wn[3]=cr),Wn[2]*=Hn[3],Wn[3]*=Hn[3]):(cr=Wn[0],Wn[0]=Wn[2],Wn[2]=cr,cr=Wn[1],Wn[1]=Wn[3],Wn[3]=cr,Hn[1]<0&&(cr=Wn[2],Wn[2]=Wn[3],Wn[3]=cr),Wn[2]*=Hn[1],Wn[3]*=Hn[1],Hn[2]<0&&(cr=Wn[0],Wn[0]=Wn[1],Wn[1]=cr),Wn[0]*=Hn[2],Wn[1]*=Hn[2]),Wn[0]+=Hn[4],Wn[1]+=Hn[4],Wn[2]+=Hn[5],Wn[3]+=Hn[5]}static transform(Hn,Wn){return[Hn[0]*Wn[0]+Hn[2]*Wn[1],Hn[1]*Wn[0]+Hn[3]*Wn[1],Hn[0]*Wn[2]+Hn[2]*Wn[3],Hn[1]*Wn[2]+Hn[3]*Wn[3],Hn[0]*Wn[4]+Hn[2]*Wn[5]+Hn[4],Hn[1]*Wn[4]+Hn[3]*Wn[5]+Hn[5]]}static applyTransform(Hn,Wn){const cr=Hn[0]*Wn[0]+Hn[1]*Wn[2]+Wn[4],sr=Hn[0]*Wn[1]+Hn[1]*Wn[3]+Wn[5];return[cr,sr]}static applyInverseTransform(Hn,Wn){const cr=Wn[0]*Wn[3]-Wn[1]*Wn[2],sr=(Hn[0]*Wn[3]-Hn[1]*Wn[2]+Wn[2]*Wn[5]-Wn[4]*Wn[3])/cr,xr=(-Hn[0]*Wn[1]+Hn[1]*Wn[0]+Wn[4]*Wn[1]-Wn[5]*Wn[0])/cr;return[sr,xr]}static getAxialAlignedBoundingBox(Hn,Wn){const cr=this.applyTransform(Hn,Wn),sr=this.applyTransform(Hn.slice(2,4),Wn),xr=this.applyTransform([Hn[0],Hn[3]],Wn),Jn=this.applyTransform([Hn[2],Hn[1]],Wn);return[Math.min(cr[0],sr[0],xr[0],Jn[0]),Math.min(cr[1],sr[1],xr[1],Jn[1]),Math.max(cr[0],sr[0],xr[0],Jn[0]),Math.max(cr[1],sr[1],xr[1],Jn[1])]}static inverseTransform(Hn){const Wn=Hn[0]*Hn[3]-Hn[1]*Hn[2];return[Hn[3]/Wn,-Hn[1]/Wn,-Hn[2]/Wn,Hn[0]/Wn,(Hn[2]*Hn[5]-Hn[4]*Hn[3])/Wn,(Hn[4]*Hn[1]-Hn[5]*Hn[0])/Wn]}static singularValueDecompose2dScale(Hn){const Wn=[Hn[0],Hn[2],Hn[1],Hn[3]],cr=Hn[0]*Wn[0]+Hn[1]*Wn[2],sr=Hn[0]*Wn[1]+Hn[1]*Wn[3],xr=Hn[2]*Wn[0]+Hn[3]*Wn[2],Jn=Hn[2]*Wn[1]+Hn[3]*Wn[3],Vn=(cr+Jn)/2,Zn=Math.sqrt((cr+Jn)**2-4*(cr*Jn-xr*sr))/2,ur=Vn+Zn||1,hr=Vn-Zn||1;return[Math.sqrt(ur),Math.sqrt(hr)]}static normalizeRect(Hn){const Wn=Hn.slice(0);return Hn[0]>Hn[2]&&(Wn[0]=Hn[2],Wn[2]=Hn[0]),Hn[1]>Hn[3]&&(Wn[1]=Hn[3],Wn[3]=Hn[1]),Wn}static intersect(Hn,Wn){const cr=Math.max(Math.min(Hn[0],Hn[2]),Math.min(Wn[0],Wn[2])),sr=Math.min(Math.max(Hn[0],Hn[2]),Math.max(Wn[0],Wn[2]));if(cr>sr)return null;const xr=Math.max(Math.min(Hn[1],Hn[3]),Math.min(Wn[1],Wn[3])),Jn=Math.min(Math.max(Hn[1],Hn[3]),Math.max(Wn[1],Wn[3]));return xr>Jn?null:[cr,xr,sr,Jn]}static bezierBoundingBox(Hn,Wn,cr,sr,xr,Jn,Vn,Zn){const ur=[],hr=[[],[]];let or,pr,wr,fr,Ar,Lr,Pr,$r;for(let qr=0;qr<2;++qr){if(qr===0?(pr=6*Hn-12*cr+6*xr,or=-3*Hn+9*cr-9*xr+3*Vn,wr=3*cr-3*Hn):(pr=6*Wn-12*sr+6*Jn,or=-3*Wn+9*sr-9*Jn+3*Zn,wr=3*sr-3*Wn),Math.abs(or)<1e-12){if(Math.abs(pr)<1e-12)continue;fr=-wr/pr,0<fr&&fr<1&&ur.push(fr);continue}Pr=pr*pr-4*wr*or,$r=Math.sqrt(Pr),!(Pr<0)&&(Ar=(-pr+$r)/(2*or),0<Ar&&Ar<1&&ur.push(Ar),Lr=(-pr-$r)/(2*or),0<Lr&&Lr<1&&ur.push(Lr))}let Er=ur.length,_r;const Fr=Er;for(;Er--;)fr=ur[Er],_r=1-fr,hr[0][Er]=_r*_r*_r*Hn+3*_r*_r*fr*cr+3*_r*fr*fr*xr+fr*fr*fr*Vn,hr[1][Er]=_r*_r*_r*Wn+3*_r*_r*fr*sr+3*_r*fr*fr*Jn+fr*fr*fr*Zn;return hr[0][Fr]=Hn,hr[1][Fr]=Wn,hr[0][Fr+1]=Vn,hr[1][Fr+1]=Zn,hr[0].length=hr[1].length=Fr+2,[Math.min(...hr[0]),Math.min(...hr[1]),Math.max(...hr[0]),Math.max(...hr[1])]}}Et.Util=An;const Tn=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,728,711,710,729,733,731,730,732,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,8226,8224,8225,8230,8212,8211,402,8260,8249,8250,8722,8240,8222,8220,8221,8216,8217,8218,8482,64257,64258,321,338,352,376,381,305,322,339,353,382,0,8364];function In(Bn){if(Bn[0]>=""){let Wn;if(Bn[0]===""&&Bn[1]===""?Wn="utf-16be":Bn[0]===""&&Bn[1]===""?Wn="utf-16le":Bn[0]===""&&Bn[1]===""&&Bn[2]===""&&(Wn="utf-8"),Wn)try{const cr=new TextDecoder(Wn,{fatal:!0}),sr=fn(Bn);return cr.decode(sr)}catch(cr){Vt(`stringToPDFString: "${cr}".`)}}const Hn=[];for(let Wn=0,cr=Bn.length;Wn<cr;Wn++){const sr=Tn[Bn.charCodeAt(Wn)];Hn.push(sr?String.fromCharCode(sr):Bn.charAt(Wn))}return Hn.join("")}function Rn(Bn){return decodeURIComponent(escape(Bn))}function Dn(Bn){return unescape(encodeURIComponent(Bn))}function Ln(Bn){return typeof Bn=="object"&&(Bn==null?void 0:Bn.byteLength)!==void 0}function Un(Bn,Hn){if(Bn.length!==Hn.length)return!1;for(let Wn=0,cr=Bn.length;Wn<cr;Wn++)if(Bn[Wn]!==Hn[Wn])return!1;return!0}function tr(Bn=new Date){return[Bn.getUTCFullYear().toString(),(Bn.getUTCMonth()+1).toString().padStart(2,"0"),Bn.getUTCDate().toString().padStart(2,"0"),Bn.getUTCHours().toString().padStart(2,"0"),Bn.getUTCMinutes().toString().padStart(2,"0"),Bn.getUTCSeconds().toString().padStart(2,"0")].join("")}class er{constructor(){Nn(this,dr,!1);this.promise=new Promise((Hn,Wn)=>{this.resolve=cr=>{$n(this,dr,!0),Hn(cr)},this.reject=cr=>{$n(this,dr,!0),Wn(cr)}})}get settled(){return Mt(this,dr)}}dr=new WeakMap,Et.PromiseCapability=er;let Qn=null,Yn=null;function Xn(Bn){return Qn||(Qn=/([\u00a0\u00b5\u037e\u0eb3\u2000-\u200a\u202f\u2126\ufb00-\ufb04\ufb06\ufb20-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufba1\ufba4-\ufba9\ufbae-\ufbb1\ufbd3-\ufbdc\ufbde-\ufbe7\ufbea-\ufbf8\ufbfc-\ufbfd\ufc00-\ufc5d\ufc64-\ufcf1\ufcf5-\ufd3d\ufd88\ufdf4\ufdfa-\ufdfb\ufe71\ufe77\ufe79\ufe7b\ufe7d]+)|(\ufb05+)/gu,Yn=new Map([["","t"]])),Bn.replaceAll(Qn,(Hn,Wn,cr)=>Wn?Wn.normalize("NFKC"):Yn.get(cr))}function nr(){if(typeof crypto<"u"&&typeof(crypto==null?void 0:crypto.randomUUID)=="function")return crypto.randomUUID();const Bn=new Uint8Array(32);if(typeof crypto<"u"&&typeof(crypto==null?void 0:crypto.getRandomValues)=="function")crypto.getRandomValues(Bn);else for(let Hn=0;Hn<32;Hn++)Bn[Hn]=Math.floor(Math.random()*255);return mn(Bn)}const lr="pdfjs_internal_id_";Et.AnnotationPrefix=lr},(Ct,Et,Ft)=>{Object.defineProperty(Et,"__esModule",{value:!0}),Et.XRefParseException=Et.XRefEntryException=Et.ParserEOFException=Et.PDF_VERSION_REGEXP=Et.MissingDataException=void 0,Et.arrayBuffersToBytes=$t,Et.collectActions=Wt,Et.encodeToXmlString=un,Et.escapePDFName=gn,Et.escapeString=tn,Et.getInheritableProperty=Lt,Et.getLookupTableFactory=bt,Et.getNewAnnotationsMap=zt,Et.getRotationMatrix=on,Et.isAscii=Vt,Et.isWhiteSpace=dn,Et.log2=qt,Et.numberToString=an,Et.parseXFAPath=Qt,Et.readInt8=Bt,Et.readUint16=Gt,Et.readUint32=en,Et.recoverJsURL=Ht,Et.stringToUTF16HexString=nn,Et.stringToUTF16String=hn,Et.toRomanNumerals=kt,Et.validateCSSFont=Ot,Et.validateFontName=Ut;var wt=Ft(2),_t=Ft(4),Rt=Ft(5);const _e=/^[1-9]\.\d$/;Et.PDF_VERSION_REGEXP=_e;function bt(cn){let sn;return function(){return cn&&(sn=Object.create(null),cn(sn),cn=null),sn}}class Pt extends wt.BaseException{constructor(sn,rn){super(`Missing data [${sn}, ${rn})`,"MissingDataException"),this.begin=sn,this.end=rn}}Et.MissingDataException=Pt;class Xt extends wt.BaseException{constructor(sn){super(sn,"ParserEOFException")}}Et.ParserEOFException=Xt;class Kt extends wt.BaseException{constructor(sn){super(sn,"XRefEntryException")}}Et.XRefEntryException=Kt;class Nt extends wt.BaseException{constructor(sn){super(sn,"XRefParseException")}}Et.XRefParseException=Nt;function $t(cn){const sn=cn.length;if(sn===0)return new Uint8Array(0);if(sn===1)return new Uint8Array(cn[0]);let rn=0;for(let kn=0;kn<sn;kn++)rn+=cn[kn].byteLength;const xn=new Uint8Array(rn);let vn=0;for(let kn=0;kn<sn;kn++){const Pn=new Uint8Array(cn[kn]);xn.set(Pn,vn),vn+=Pn.byteLength}return xn}function Lt({dict:cn,key:sn,getArray:rn=!1,stopWhenFound:xn=!0}){let vn;const kn=new _t.RefSet;for(;cn instanceof _t.Dict&&!(cn.objId&&kn.has(cn.objId));){cn.objId&&kn.put(cn.objId);const Pn=rn?cn.getArray(sn):cn.get(sn);if(Pn!==void 0){if(xn)return Pn;(vn||(vn=[])).push(Pn)}cn=cn.get("Parent")}return vn}const jt=["","C","CC","CCC","CD","D","DC","DCC","DCCC","CM","","X","XX","XXX","XL","L","LX","LXX","LXXX","XC","","I","II","III","IV","V","VI","VII","VIII","IX"];function kt(cn,sn=!1){(0,wt.assert)(Number.isInteger(cn)&&cn>0,"The number should be a positive integer.");const rn=[];let xn;for(;cn>=1e3;)cn-=1e3,rn.push("M");xn=cn/100|0,cn%=100,rn.push(jt[xn]),xn=cn/10|0,cn%=10,rn.push(jt[10+xn]),rn.push(jt[20+cn]);const vn=rn.join("");return sn?vn.toLowerCase():vn}function qt(cn){return cn<=0?0:Math.ceil(Math.log2(cn))}function Bt(cn,sn){return cn[sn]<<24>>24}function Gt(cn,sn){return cn[sn]<<8|cn[sn+1]}function en(cn,sn){return(cn[sn]<<24|cn[sn+1]<<16|cn[sn+2]<<8|cn[sn+3])>>>0}function dn(cn){return cn===32||cn===9||cn===13||cn===10}function Qt(cn){const sn=/(.+)\[(\d+)\]$/;return cn.split(".").map(rn=>{const xn=rn.match(sn);return xn?{name:xn[1],pos:parseInt(xn[2],10)}:{name:rn,pos:0}})}function gn(cn){const sn=[];let rn=0;for(let xn=0,vn=cn.length;xn<vn;xn++){const kn=cn.charCodeAt(xn);(kn<33||kn>126||kn===35||kn===40||kn===41||kn===60||kn===62||kn===91||kn===93||kn===123||kn===125||kn===47||kn===37)&&(rn<xn&&sn.push(cn.substring(rn,xn)),sn.push(`#${kn.toString(16)}`),rn=xn+1)}return sn.length===0?cn:(rn<cn.length&&sn.push(cn.substring(rn,cn.length)),sn.join(""))}function tn(cn){return cn.replaceAll(/([()\\\n\r])/g,sn=>sn===`
`?"\\n":sn==="\r"?"\\r":`\\${sn}`)}function bn(cn,sn,rn,xn){if(!cn)return;let vn=null;if(cn instanceof _t.Ref){if(xn.has(cn))return;vn=cn,xn.put(vn),cn=sn.fetch(cn)}if(Array.isArray(cn))for(const kn of cn)bn(kn,sn,rn,xn);else if(cn instanceof _t.Dict){if((0,_t.isName)(cn.get("S"),"JavaScript")){const kn=cn.get("JS");let Pn;kn instanceof Rt.BaseStream?Pn=kn.getString():typeof kn=="string"&&(Pn=kn),Pn&&(Pn=(0,wt.stringToPDFString)(Pn).replaceAll("\0","")),Pn&&rn.push(Pn)}bn(cn.getRaw("Next"),sn,rn,xn)}vn&&xn.remove(vn)}function Wt(cn,sn,rn){const xn=Object.create(null),vn=Lt({dict:sn,key:"AA",stopWhenFound:!1});if(vn)for(let kn=vn.length-1;kn>=0;kn--){const Pn=vn[kn];if(Pn instanceof _t.Dict)for(const On of Pn.getKeys()){const _n=rn[On];if(!_n)continue;const Sn=Pn.getRaw(On),mn=new _t.RefSet,fn=[];bn(Sn,cn,fn,mn),fn.length>0&&(xn[_n]=fn)}}if(sn.has("A")){const kn=sn.get("A"),Pn=new _t.RefSet,On=[];bn(kn,cn,On,Pn),On.length>0&&(xn.Action=On)}return(0,wt.objectSize)(xn)>0?xn:null}const Yt={60:"&lt;",62:"&gt;",38:"&amp;",34:"&quot;",39:"&apos;"};function un(cn){const sn=[];let rn=0;for(let xn=0,vn=cn.length;xn<vn;xn++){const kn=cn.codePointAt(xn);if(32<=kn&&kn<=126){const Pn=Yt[kn];Pn&&(rn<xn&&sn.push(cn.substring(rn,xn)),sn.push(Pn),rn=xn+1)}else rn<xn&&sn.push(cn.substring(rn,xn)),sn.push(`&#x${kn.toString(16).toUpperCase()};`),kn>55295&&(kn<57344||kn>65533)&&xn++,rn=xn+1}return sn.length===0?cn:(rn<cn.length&&sn.push(cn.substring(rn,cn.length)),sn.join(""))}function Ut(cn,sn=!1){const rn=/^("|').*("|')$/.exec(cn);if(rn&&rn[1]===rn[2]){if(new RegExp(`[^\\\\]${rn[1]}`).test(cn.slice(1,-1)))return sn&&(0,wt.warn)(`FontFamily contains unescaped ${rn[1]}: ${cn}.`),!1}else for(const xn of cn.split(/[ \t]+/))if(/^(\d|(-(\d|-)))/.test(xn)||!/^[\w-\\]+$/.test(xn))return sn&&(0,wt.warn)(`FontFamily contains invalid <custom-ident>: ${cn}.`),!1;return!0}function Ot(cn){const sn="14",rn="400",xn=new Set(["100","200","300","400","500","600","700","800","900","1000","normal","bold","bolder","lighter"]),{fontFamily:vn,fontWeight:kn,italicAngle:Pn}=cn;if(!Ut(vn,!0))return!1;const On=kn?kn.toString():"";cn.fontWeight=xn.has(On)?On:rn;const _n=parseFloat(Pn);return cn.italicAngle=isNaN(_n)||_n<-90||_n>90?sn:Pn.toString(),!0}function Ht(cn){const sn=["app.launchURL","window.open","xfa.host.gotoURL"],xn=new RegExp("^\\s*("+sn.join("|").replaceAll(".","\\.")+`)\\((?:'|")([^'"]*)(?:'|")(?:,\\s*(\\w+)\\)|\\))`,"i").exec(cn);if(xn!=null&&xn[2]){const vn=xn[2];let kn=!1;return xn[3]==="true"&&xn[1]==="app.launchURL"&&(kn=!0),{url:vn,newWindow:kn}}return null}function an(cn){if(Number.isInteger(cn))return cn.toString();const sn=Math.round(cn*100);return sn%100===0?(sn/100).toString():sn%10===0?cn.toFixed(1):cn.toFixed(2)}function zt(cn){if(!cn)return null;const sn=new Map;for(const[rn,xn]of cn){if(!rn.startsWith(wt.AnnotationEditorPrefix))continue;let vn=sn.get(xn.pageIndex);vn||(vn=[],sn.set(xn.pageIndex,vn)),vn.push(xn)}return sn.size>0?sn:null}function Vt(cn){return/^[\x00-\x7F]*$/.test(cn)}function nn(cn){const sn=[];for(let rn=0,xn=cn.length;rn<xn;rn++){const vn=cn.charCodeAt(rn);sn.push((vn>>8&255).toString(16).padStart(2,"0"),(vn&255).toString(16).padStart(2,"0"))}return sn.join("")}function hn(cn,sn=!1){const rn=[];sn&&rn.push("");for(let xn=0,vn=cn.length;xn<vn;xn++){const kn=cn.charCodeAt(xn);rn.push(String.fromCharCode(kn>>8&255),String.fromCharCode(kn&255))}return rn.join("")}function on(cn,sn,rn){switch(cn){case 90:return[0,1,-1,0,sn,0];case 180:return[-1,0,0,-1,sn,rn];case 270:return[0,-1,1,0,0,rn];default:throw new Error("Invalid rotation")}}},(Ct,Et,Ft)=>{Object.defineProperty(Et,"__esModule",{value:!0}),Et.RefSetCache=Et.RefSet=Et.Ref=Et.Name=Et.EOF=Et.Dict=Et.Cmd=Et.CIRCULAR_REF=void 0,Et.clearPrimitiveCaches=Xt,Et.isCmd=Gt,Et.isDict=en,Et.isName=Bt,Et.isRefsEqual=dn;var wt=Ft(2);const _t=Symbol("CIRCULAR_REF");Et.CIRCULAR_REF=_t;const Rt=Symbol("EOF");Et.EOF=Rt;let _e=Object.create(null),bt=Object.create(null),Pt=Object.create(null);function Xt(){_e=Object.create(null),bt=Object.create(null),Pt=Object.create(null)}class Kt{constructor(gn){this.name=gn}static get(gn){return bt[gn]||(bt[gn]=new Kt(gn))}}Et.Name=Kt;class Nt{constructor(gn){this.cmd=gn}static get(gn){return _e[gn]||(_e[gn]=new Nt(gn))}}Et.Cmd=Nt;const $t=function(){return $t};class Lt{constructor(gn=null){this._map=Object.create(null),this.xref=gn,this.objId=null,this.suppressEncryption=!1,this.__nonSerializable__=$t}assignXref(gn){this.xref=gn}get size(){return Object.keys(this._map).length}get(gn,tn,bn){let Wt=this._map[gn];return Wt===void 0&&tn!==void 0&&(Wt=this._map[tn],Wt===void 0&&bn!==void 0&&(Wt=this._map[bn])),Wt instanceof jt&&this.xref?this.xref.fetch(Wt,this.suppressEncryption):Wt}async getAsync(gn,tn,bn){let Wt=this._map[gn];return Wt===void 0&&tn!==void 0&&(Wt=this._map[tn],Wt===void 0&&bn!==void 0&&(Wt=this._map[bn])),Wt instanceof jt&&this.xref?this.xref.fetchAsync(Wt,this.suppressEncryption):Wt}getArray(gn,tn,bn){let Wt=this._map[gn];if(Wt===void 0&&tn!==void 0&&(Wt=this._map[tn],Wt===void 0&&bn!==void 0&&(Wt=this._map[bn])),Wt instanceof jt&&this.xref&&(Wt=this.xref.fetch(Wt,this.suppressEncryption)),Array.isArray(Wt)){Wt=Wt.slice();for(let Yt=0,un=Wt.length;Yt<un;Yt++)Wt[Yt]instanceof jt&&this.xref&&(Wt[Yt]=this.xref.fetch(Wt[Yt],this.suppressEncryption))}return Wt}getRaw(gn){return this._map[gn]}getKeys(){return Object.keys(this._map)}getRawValues(){return Object.values(this._map)}set(gn,tn){this._map[gn]=tn}has(gn){return this._map[gn]!==void 0}forEach(gn){for(const tn in this._map)gn(tn,this.get(tn))}static get empty(){const gn=new Lt(null);return gn.set=(tn,bn)=>{(0,wt.unreachable)("Should not call `set` on the empty dictionary.")},(0,wt.shadow)(this,"empty",gn)}static merge({xref:gn,dictArray:tn,mergeSubDicts:bn=!1}){const Wt=new Lt(gn),Yt=new Map;for(const un of tn)if(un instanceof Lt)for(const[Ut,Ot]of Object.entries(un._map)){let Ht=Yt.get(Ut);if(Ht===void 0)Ht=[],Yt.set(Ut,Ht);else if(!bn||!(Ot instanceof Lt))continue;Ht.push(Ot)}for(const[un,Ut]of Yt){if(Ut.length===1||!(Ut[0]instanceof Lt)){Wt._map[un]=Ut[0];continue}const Ot=new Lt(gn);for(const Ht of Ut)for(const[an,zt]of Object.entries(Ht._map))Ot._map[an]===void 0&&(Ot._map[an]=zt);Ot.size>0&&(Wt._map[un]=Ot)}return Yt.clear(),Wt.size>0?Wt:Lt.empty}clone(){const gn=new Lt(this.xref);for(const tn of this.getKeys())gn.set(tn,this.getRaw(tn));return gn}}Et.Dict=Lt;class jt{constructor(gn,tn){this.num=gn,this.gen=tn}toString(){return this.gen===0?`${this.num}R`:`${this.num}R${this.gen}`}static fromString(gn){const tn=Pt[gn];if(tn)return tn;const bn=/^(\d+)R(\d*)$/.exec(gn);return!bn||bn[1]==="0"?null:Pt[gn]=new jt(parseInt(bn[1]),bn[2]?parseInt(bn[2]):0)}static get(gn,tn){const bn=tn===0?`${gn}R`:`${gn}R${tn}`;return Pt[bn]||(Pt[bn]=new jt(gn,tn))}}Et.Ref=jt;class kt{constructor(gn=null){this._set=new Set(gn==null?void 0:gn._set)}has(gn){return this._set.has(gn.toString())}put(gn){this._set.add(gn.toString())}remove(gn){this._set.delete(gn.toString())}[Symbol.iterator](){return this._set.values()}clear(){this._set.clear()}}Et.RefSet=kt;class qt{constructor(){this._map=new Map}get size(){return this._map.size}get(gn){return this._map.get(gn.toString())}has(gn){return this._map.has(gn.toString())}put(gn,tn){this._map.set(gn.toString(),tn)}putAlias(gn,tn){this._map.set(gn.toString(),this.get(tn))}[Symbol.iterator](){return this._map.values()}clear(){this._map.clear()}}Et.RefSetCache=qt;function Bt(Qt,gn){return Qt instanceof Kt&&(gn===void 0||Qt.name===gn)}function Gt(Qt,gn){return Qt instanceof Nt&&(gn===void 0||Qt.cmd===gn)}function en(Qt,gn){return Qt instanceof Lt&&(gn===void 0||Bt(Qt.get("Type"),gn))}function dn(Qt,gn){return Qt.num===gn.num&&Qt.gen===gn.gen}},(Ct,Et,Ft)=>{Object.defineProperty(Et,"__esModule",{value:!0}),Et.BaseStream=void 0;var wt=Ft(2);class _t{constructor(){this.constructor===_t&&(0,wt.unreachable)("Cannot initialize BaseStream.")}get length(){(0,wt.unreachable)("Abstract getter `length` accessed")}get isEmpty(){(0,wt.unreachable)("Abstract getter `isEmpty` accessed")}get isDataLoaded(){return(0,wt.shadow)(this,"isDataLoaded",!0)}getByte(){(0,wt.unreachable)("Abstract method `getByte` called")}getBytes(_e){(0,wt.unreachable)("Abstract method `getBytes` called")}peekByte(){const _e=this.getByte();return _e!==-1&&this.pos--,_e}peekBytes(_e){const bt=this.getBytes(_e);return this.pos-=bt.length,bt}getUint16(){const _e=this.getByte(),bt=this.getByte();return _e===-1||bt===-1?-1:(_e<<8)+bt}getInt32(){const _e=this.getByte(),bt=this.getByte(),Pt=this.getByte(),Xt=this.getByte();return(_e<<24)+(bt<<16)+(Pt<<8)+Xt}getByteRange(_e,bt){(0,wt.unreachable)("Abstract method `getByteRange` called")}getString(_e){return(0,wt.bytesToString)(this.getBytes(_e))}skip(_e){this.pos+=_e||1}reset(){(0,wt.unreachable)("Abstract method `reset` called")}moveStart(){(0,wt.unreachable)("Abstract method `moveStart` called")}makeSubStream(_e,bt,Pt=null){(0,wt.unreachable)("Abstract method `makeSubStream` called")}getBaseStreams(){return null}}Et.BaseStream=_t},(Ct,Et,Ft)=>{Object.defineProperty(Et,"__esModule",{value:!0}),Et.NetworkPdfManager=Et.LocalPdfManager=void 0;var wt=Ft(2),_t=Ft(7),Rt=Ft(3),_e=Ft(9),bt=Ft(8);function Pt($t){if($t){const Lt=(0,wt.createValidAbsoluteUrl)($t);if(Lt)return Lt.href;(0,wt.warn)(`Invalid absolute docBaseUrl: "${$t}".`)}return null}class Xt{constructor(Lt){var jt;this.constructor===Xt&&(0,wt.unreachable)("Cannot initialize BasePdfManager."),this._docBaseUrl=Pt(Lt.docBaseUrl),this._docId=Lt.docId,this._password=Lt.password,this.enableXfa=Lt.enableXfa,(jt=Lt.evaluatorOptions).isOffscreenCanvasSupported&&(jt.isOffscreenCanvasSupported=wt.FeatureTest.isOffscreenCanvasSupported),this.evaluatorOptions=Lt.evaluatorOptions}get docId(){return this._docId}get password(){return this._password}get docBaseUrl(){return this._docBaseUrl}get catalog(){return this.pdfDocument.catalog}ensureDoc(Lt,jt){return this.ensure(this.pdfDocument,Lt,jt)}ensureXRef(Lt,jt){return this.ensure(this.pdfDocument.xref,Lt,jt)}ensureCatalog(Lt,jt){return this.ensure(this.pdfDocument.catalog,Lt,jt)}getPage(Lt){return this.pdfDocument.getPage(Lt)}fontFallback(Lt,jt){return this.pdfDocument.fontFallback(Lt,jt)}loadXfaFonts(Lt,jt){return this.pdfDocument.loadXfaFonts(Lt,jt)}loadXfaImages(){return this.pdfDocument.loadXfaImages()}serializeXfaData(Lt){return this.pdfDocument.serializeXfaData(Lt)}cleanup(Lt=!1){return this.pdfDocument.cleanup(Lt)}async ensure(Lt,jt,kt){(0,wt.unreachable)("Abstract method `ensure` called")}requestRange(Lt,jt){(0,wt.unreachable)("Abstract method `requestRange` called")}requestLoadedStream(Lt=!1){(0,wt.unreachable)("Abstract method `requestLoadedStream` called")}sendProgressiveData(Lt){(0,wt.unreachable)("Abstract method `sendProgressiveData` called")}updatePassword(Lt){this._password=Lt}terminate(Lt){(0,wt.unreachable)("Abstract method `terminate` called")}}class Kt extends Xt{constructor(Lt){super(Lt);const jt=new bt.Stream(Lt.source);this.pdfDocument=new _e.PDFDocument(this,jt),this._loadedStreamPromise=Promise.resolve(jt)}async ensure(Lt,jt,kt){const qt=Lt[jt];return typeof qt=="function"?qt.apply(Lt,kt):qt}requestRange(Lt,jt){return Promise.resolve()}requestLoadedStream(Lt=!1){return this._loadedStreamPromise}terminate(Lt){}}Et.LocalPdfManager=Kt;class Nt extends Xt{constructor(Lt){super(Lt),this.streamManager=new _t.ChunkedStreamManager(Lt.source,{msgHandler:Lt.handler,length:Lt.length,disableAutoFetch:Lt.disableAutoFetch,rangeChunkSize:Lt.rangeChunkSize}),this.pdfDocument=new _e.PDFDocument(this,this.streamManager.getStream())}async ensure(Lt,jt,kt){try{const qt=Lt[jt];return typeof qt=="function"?qt.apply(Lt,kt):qt}catch(qt){if(!(qt instanceof Rt.MissingDataException))throw qt;return await this.requestRange(qt.begin,qt.end),this.ensure(Lt,jt,kt)}}requestRange(Lt,jt){return this.streamManager.requestRange(Lt,jt)}requestLoadedStream(Lt=!1){return this.streamManager.requestAllChunks(Lt)}sendProgressiveData(Lt){this.streamManager.onReceiveData({chunk:Lt})}terminate(Lt){this.streamManager.abort(Lt)}}Et.NetworkPdfManager=Nt},(Ct,Et,Ft)=>{Object.defineProperty(Et,"__esModule",{value:!0}),Et.ChunkedStreamManager=Et.ChunkedStream=void 0;var wt=Ft(3),_t=Ft(2),Rt=Ft(8);class _e extends Rt.Stream{constructor(Xt,Kt,Nt){super(new Uint8Array(Xt),0,Xt,null),this.chunkSize=Kt,this._loadedChunks=new Set,this.numChunks=Math.ceil(Xt/Kt),this.manager=Nt,this.progressiveDataLength=0,this.lastSuccessfulEnsureByteChunk=-1}getMissingChunks(){const Xt=[];for(let Kt=0,Nt=this.numChunks;Kt<Nt;++Kt)this._loadedChunks.has(Kt)||Xt.push(Kt);return Xt}get numChunksLoaded(){return this._loadedChunks.size}get isDataLoaded(){return this.numChunksLoaded===this.numChunks}onReceiveData(Xt,Kt){const Nt=this.chunkSize;if(Xt%Nt!==0)throw new Error(`Bad begin offset: ${Xt}`);const $t=Xt+Kt.byteLength;if($t%Nt!==0&&$t!==this.bytes.length)throw new Error(`Bad end offset: ${$t}`);this.bytes.set(new Uint8Array(Kt),Xt);const Lt=Math.floor(Xt/Nt),jt=Math.floor(($t-1)/Nt)+1;for(let kt=Lt;kt<jt;++kt)this._loadedChunks.add(kt)}onReceiveProgressiveData(Xt){let Kt=this.progressiveDataLength;const Nt=Math.floor(Kt/this.chunkSize);this.bytes.set(new Uint8Array(Xt),Kt),Kt+=Xt.byteLength,this.progressiveDataLength=Kt;const $t=Kt>=this.end?this.numChunks:Math.floor(Kt/this.chunkSize);for(let Lt=Nt;Lt<$t;++Lt)this._loadedChunks.add(Lt)}ensureByte(Xt){if(Xt<this.progressiveDataLength)return;const Kt=Math.floor(Xt/this.chunkSize);if(!(Kt>this.numChunks)&&Kt!==this.lastSuccessfulEnsureByteChunk){if(!this._loadedChunks.has(Kt))throw new wt.MissingDataException(Xt,Xt+1);this.lastSuccessfulEnsureByteChunk=Kt}}ensureRange(Xt,Kt){if(Xt>=Kt||Kt<=this.progressiveDataLength)return;const Nt=Math.floor(Xt/this.chunkSize);if(Nt>this.numChunks)return;const $t=Math.min(Math.floor((Kt-1)/this.chunkSize)+1,this.numChunks);for(let Lt=Nt;Lt<$t;++Lt)if(!this._loadedChunks.has(Lt))throw new wt.MissingDataException(Xt,Kt)}nextEmptyChunk(Xt){const Kt=this.numChunks;for(let Nt=0;Nt<Kt;++Nt){const $t=(Xt+Nt)%Kt;if(!this._loadedChunks.has($t))return $t}return null}hasChunk(Xt){return this._loadedChunks.has(Xt)}getByte(){const Xt=this.pos;return Xt>=this.end?-1:(Xt>=this.progressiveDataLength&&this.ensureByte(Xt),this.bytes[this.pos++])}getBytes(Xt){const Kt=this.bytes,Nt=this.pos,$t=this.end;if(!Xt)return $t>this.progressiveDataLength&&this.ensureRange(Nt,$t),Kt.subarray(Nt,$t);let Lt=Nt+Xt;return Lt>$t&&(Lt=$t),Lt>this.progressiveDataLength&&this.ensureRange(Nt,Lt),this.pos=Lt,Kt.subarray(Nt,Lt)}getByteRange(Xt,Kt){return Xt<0&&(Xt=0),Kt>this.end&&(Kt=this.end),Kt>this.progressiveDataLength&&this.ensureRange(Xt,Kt),this.bytes.subarray(Xt,Kt)}makeSubStream(Xt,Kt,Nt=null){Kt?Xt+Kt>this.progressiveDataLength&&this.ensureRange(Xt,Xt+Kt):Xt>=this.progressiveDataLength&&this.ensureByte(Xt);function $t(){}$t.prototype=Object.create(this),$t.prototype.getMissingChunks=function(){const jt=this.chunkSize,kt=Math.floor(this.start/jt),qt=Math.floor((this.end-1)/jt)+1,Bt=[];for(let Gt=kt;Gt<qt;++Gt)this._loadedChunks.has(Gt)||Bt.push(Gt);return Bt},Object.defineProperty($t.prototype,"isDataLoaded",{get(){return this.numChunksLoaded===this.numChunks?!0:this.getMissingChunks().length===0},configurable:!0});const Lt=new $t;return Lt.pos=Lt.start=Xt,Lt.end=Xt+Kt||this.end,Lt.dict=Nt,Lt}getBaseStreams(){return[this]}}Et.ChunkedStream=_e;class bt{constructor(Xt,Kt){this.length=Kt.length,this.chunkSize=Kt.rangeChunkSize,this.stream=new _e(this.length,this.chunkSize,this),this.pdfNetworkStream=Xt,this.disableAutoFetch=Kt.disableAutoFetch,this.msgHandler=Kt.msgHandler,this.currRequestId=0,this._chunksNeededByRequest=new Map,this._requestsByChunk=new Map,this._promisesByRequest=new Map,this.progressiveDataLength=0,this.aborted=!1,this._loadedStreamCapability=new _t.PromiseCapability}sendRequest(Xt,Kt){const Nt=this.pdfNetworkStream.getRangeReader(Xt,Kt);Nt.isStreamingSupported||(Nt.onProgress=this.onProgress.bind(this));let $t=[],Lt=0;return new Promise((jt,kt)=>{const qt=({value:Bt,done:Gt})=>{try{if(Gt){const en=(0,wt.arrayBuffersToBytes)($t);$t=null,jt(en);return}Lt+=Bt.byteLength,Nt.isStreamingSupported&&this.onProgress({loaded:Lt}),$t.push(Bt),Nt.read().then(qt,kt)}catch(en){kt(en)}};Nt.read().then(qt,kt)}).then(jt=>{this.aborted||this.onReceiveData({chunk:jt,begin:Xt})})}requestAllChunks(Xt=!1){if(!Xt){const Kt=this.stream.getMissingChunks();this._requestChunks(Kt)}return this._loadedStreamCapability.promise}_requestChunks(Xt){const Kt=this.currRequestId++,Nt=new Set;this._chunksNeededByRequest.set(Kt,Nt);for(const jt of Xt)this.stream.hasChunk(jt)||Nt.add(jt);if(Nt.size===0)return Promise.resolve();const $t=new _t.PromiseCapability;this._promisesByRequest.set(Kt,$t);const Lt=[];for(const jt of Nt){let kt=this._requestsByChunk.get(jt);kt||(kt=[],this._requestsByChunk.set(jt,kt),Lt.push(jt)),kt.push(Kt)}if(Lt.length>0){const jt=this.groupChunks(Lt);for(const kt of jt){const qt=kt.beginChunk*this.chunkSize,Bt=Math.min(kt.endChunk*this.chunkSize,this.length);this.sendRequest(qt,Bt).catch($t.reject)}}return $t.promise.catch(jt=>{if(!this.aborted)throw jt})}getStream(){return this.stream}requestRange(Xt,Kt){Kt=Math.min(Kt,this.length);const Nt=this.getBeginChunk(Xt),$t=this.getEndChunk(Kt),Lt=[];for(let jt=Nt;jt<$t;++jt)Lt.push(jt);return this._requestChunks(Lt)}requestRanges(Xt=[]){const Kt=[];for(const Nt of Xt){const $t=this.getBeginChunk(Nt.begin),Lt=this.getEndChunk(Nt.end);for(let jt=$t;jt<Lt;++jt)Kt.includes(jt)||Kt.push(jt)}return Kt.sort(function(Nt,$t){return Nt-$t}),this._requestChunks(Kt)}groupChunks(Xt){const Kt=[];let Nt=-1,$t=-1;for(let Lt=0,jt=Xt.length;Lt<jt;++Lt){const kt=Xt[Lt];Nt<0&&(Nt=kt),$t>=0&&$t+1!==kt&&(Kt.push({beginChunk:Nt,endChunk:$t+1}),Nt=kt),Lt+1===Xt.length&&Kt.push({beginChunk:Nt,endChunk:kt+1}),$t=kt}return Kt}onProgress(Xt){this.msgHandler.send("DocProgress",{loaded:this.stream.numChunksLoaded*this.chunkSize+Xt.loaded,total:this.length})}onReceiveData(Xt){const Kt=Xt.chunk,Nt=Xt.begin===void 0,$t=Nt?this.progressiveDataLength:Xt.begin,Lt=$t+Kt.byteLength,jt=Math.floor($t/this.chunkSize),kt=Lt<this.length?Math.floor(Lt/this.chunkSize):Math.ceil(Lt/this.chunkSize);Nt?(this.stream.onReceiveProgressiveData(Kt),this.progressiveDataLength=Lt):this.stream.onReceiveData($t,Kt),this.stream.isDataLoaded&&this._loadedStreamCapability.resolve(this.stream);const qt=[];for(let Bt=jt;Bt<kt;++Bt){const Gt=this._requestsByChunk.get(Bt);if(Gt){this._requestsByChunk.delete(Bt);for(const en of Gt){const dn=this._chunksNeededByRequest.get(en);dn.has(Bt)&&dn.delete(Bt),!(dn.size>0)&&qt.push(en)}}}if(!this.disableAutoFetch&&this._requestsByChunk.size===0){let Bt;if(this.stream.numChunksLoaded===1){const Gt=this.stream.numChunks-1;this.stream.hasChunk(Gt)||(Bt=Gt)}else Bt=this.stream.nextEmptyChunk(kt);Number.isInteger(Bt)&&this._requestChunks([Bt])}for(const Bt of qt){const Gt=this._promisesByRequest.get(Bt);this._promisesByRequest.delete(Bt),Gt.resolve()}this.msgHandler.send("DocProgress",{loaded:this.stream.numChunksLoaded*this.chunkSize,total:this.length})}onError(Xt){this._loadedStreamCapability.reject(Xt)}getBeginChunk(Xt){return Math.floor(Xt/this.chunkSize)}getEndChunk(Xt){return Math.floor((Xt-1)/this.chunkSize)+1}abort(Xt){var Kt;this.aborted=!0,(Kt=this.pdfNetworkStream)==null||Kt.cancelAllRequests(Xt);for(const Nt of this._promisesByRequest.values())Nt.reject(Xt)}}Et.ChunkedStreamManager=bt},(Ct,Et,Ft)=>{Object.defineProperty(Et,"__esModule",{value:!0}),Et.StringStream=Et.Stream=Et.NullStream=void 0;var wt=Ft(5),_t=Ft(2);class Rt extends wt.BaseStream{constructor(Xt,Kt,Nt,$t){super(),this.bytes=Xt instanceof Uint8Array?Xt:new Uint8Array(Xt),this.start=Kt||0,this.pos=this.start,this.end=Kt+Nt||this.bytes.length,this.dict=$t}get length(){return this.end-this.start}get isEmpty(){return this.length===0}getByte(){return this.pos>=this.end?-1:this.bytes[this.pos++]}getBytes(Xt){const Kt=this.bytes,Nt=this.pos,$t=this.end;if(!Xt)return Kt.subarray(Nt,$t);let Lt=Nt+Xt;return Lt>$t&&(Lt=$t),this.pos=Lt,Kt.subarray(Nt,Lt)}getByteRange(Xt,Kt){return Xt<0&&(Xt=0),Kt>this.end&&(Kt=this.end),this.bytes.subarray(Xt,Kt)}reset(){this.pos=this.start}moveStart(){this.start=this.pos}makeSubStream(Xt,Kt,Nt=null){return new Rt(this.bytes.buffer,Xt,Kt,Nt)}}Et.Stream=Rt;class _e extends Rt{constructor(Xt){super((0,_t.stringToBytes)(Xt))}}Et.StringStream=_e;class bt extends Rt{constructor(){super(new Uint8Array(0))}}Et.NullStream=bt},(Ct,Et,Ft)=>{var Vt,W3,hn,V3;Object.defineProperty(Et,"__esModule",{value:!0}),Et.Page=Et.PDFDocument=void 0;var wt=Ft(2),_t=Ft(10),Rt=Ft(3),_e=Ft(4),bt=Ft(51),Pt=Ft(5),Xt=Ft(74),Kt=Ft(66),Nt=Ft(68),$t=Ft(102),Lt=Ft(16),jt=Ft(8),kt=Ft(76),qt=Ft(64),Bt=Ft(13),Gt=Ft(18),en=Ft(72),dn=Ft(73),Qt=Ft(77),gn=Ft(103);const tn=1,bn=[0,0,612,792];class Wt{constructor({pdfManager:sn,xref:rn,pageIndex:xn,pageDict:vn,ref:kn,globalIdFactory:Pn,fontCache:On,builtInCMapCache:_n,standardFontDataCache:Sn,globalImageCache:mn,systemFontCache:fn,nonBlendModesSet:Jt,xfaFactory:ln}){Nn(this,Vt);this.pdfManager=sn,this.pageIndex=xn,this.pageDict=vn,this.xref=rn,this.ref=kn,this.fontCache=On,this.builtInCMapCache=_n,this.standardFontDataCache=Sn,this.globalImageCache=mn,this.systemFontCache=fn,this.nonBlendModesSet=Jt,this.evaluatorOptions=sn.evaluatorOptions,this.resourcesPromise=null,this.xfaFactory=ln;const pn={obj:0};this._localIdFactory=class extends Pn{static createObjId(){return`p${xn}_${++pn.obj}`}static getPageObjId(){return`p${kn.toString()}`}}}_getInheritableProperty(sn,rn=!1){const xn=(0,Rt.getInheritableProperty)({dict:this.pageDict,key:sn,getArray:rn,stopWhenFound:!1});return Array.isArray(xn)?xn.length===1||!(xn[0]instanceof _e.Dict)?xn[0]:_e.Dict.merge({xref:this.xref,dictArray:xn}):xn}get content(){return this.pageDict.getArray("Contents")}get resources(){const sn=this._getInheritableProperty("Resources");return(0,wt.shadow)(this,"resources",sn instanceof _e.Dict?sn:_e.Dict.empty)}_getBoundingBox(sn){if(this.xfaData)return this.xfaData.bbox;let rn=this._getInheritableProperty(sn,!0);if(Array.isArray(rn)&&rn.length===4){if(rn=wt.Util.normalizeRect(rn),rn[2]-rn[0]>0&&rn[3]-rn[1]>0)return rn;(0,wt.warn)(`Empty, or invalid, /${sn} entry.`)}return null}get mediaBox(){return(0,wt.shadow)(this,"mediaBox",this._getBoundingBox("MediaBox")||bn)}get cropBox(){return(0,wt.shadow)(this,"cropBox",this._getBoundingBox("CropBox")||this.mediaBox)}get userUnit(){let sn=this.pageDict.get("UserUnit");return(typeof sn!="number"||sn<=0)&&(sn=tn),(0,wt.shadow)(this,"userUnit",sn)}get view(){const{cropBox:sn,mediaBox:rn}=this;if(sn!==rn&&!(0,wt.isArrayEqual)(sn,rn)){const xn=wt.Util.intersect(sn,rn);if(xn&&xn[2]-xn[0]>0&&xn[3]-xn[1]>0)return(0,wt.shadow)(this,"view",xn);(0,wt.warn)("Empty /CropBox and /MediaBox intersection.")}return(0,wt.shadow)(this,"view",rn)}get rotate(){let sn=this._getInheritableProperty("Rotate")||0;return sn%90!==0?sn=0:sn>=360?sn%=360:sn<0&&(sn=(sn%360+360)%360),(0,wt.shadow)(this,"rotate",sn)}_onSubStreamError(sn,rn){if(this.evaluatorOptions.ignoreErrors){(0,wt.warn)(`getContentStream - ignoring sub-stream (${rn}): "${sn}".`);return}throw sn}getContentStream(){return this.pdfManager.ensure(this,"content").then(sn=>sn instanceof Pt.BaseStream?sn:Array.isArray(sn)?new Gt.StreamsSequenceStream(sn,this._onSubStreamError.bind(this)):new jt.NullStream)}get xfaData(){return(0,wt.shadow)(this,"xfaData",this.xfaFactory?{bbox:this.xfaFactory.getBoundingBox(this.pageIndex)}:null)}async saveNewAnnotations(sn,rn,xn,vn){if(this.xfaFactory)throw new Error("XFA: Cannot save new annotations.");const kn=new Bt.PartialEvaluator({xref:this.xref,handler:sn,pageIndex:this.pageIndex,idFactory:this._localIdFactory,fontCache:this.fontCache,builtInCMapCache:this.builtInCMapCache,standardFontDataCache:this.standardFontDataCache,globalImageCache:this.globalImageCache,systemFontCache:this.systemFontCache,options:this.evaluatorOptions}),Pn=new _e.RefSet,On=new _e.RefSet;Mn(this,Vt,W3).call(this,xn,Pn,On);const _n=this.pageDict,Sn=this.annotations.filter(pn=>!(pn instanceof _e.Ref&&Pn.has(pn))),mn=await _t.AnnotationFactory.saveNewAnnotations(kn,rn,xn,vn);for(const{ref:pn}of mn.annotations)pn instanceof _e.Ref&&!On.has(pn)&&Sn.push(pn);const fn=_n.get("Annots");_n.set("Annots",Sn);const Jt=[];await(0,dn.writeObject)(this.ref,_n,Jt,this.xref),fn&&_n.set("Annots",fn);const ln=mn.dependencies;return ln.push({ref:this.ref,data:Jt.join("")},...mn.annotations),ln}save(sn,rn,xn){const vn=new Bt.PartialEvaluator({xref:this.xref,handler:sn,pageIndex:this.pageIndex,idFactory:this._localIdFactory,fontCache:this.fontCache,builtInCMapCache:this.builtInCMapCache,standardFontDataCache:this.standardFontDataCache,globalImageCache:this.globalImageCache,systemFontCache:this.systemFontCache,options:this.evaluatorOptions});return this._parsedAnnotations.then(function(kn){const Pn=[];for(const On of kn)On.mustBePrinted(xn)&&Pn.push(On.save(vn,rn,xn).catch(function(_n){return(0,wt.warn)(`save - ignoring annotation data during "${rn.name}" task: "${_n}".`),null}));return Promise.all(Pn).then(function(On){return On.filter(_n=>!!_n)})})}loadResources(sn){return this.resourcesPromise||(this.resourcesPromise=this.pdfManager.ensure(this,"resources")),this.resourcesPromise.then(()=>new kt.ObjectLoader(this.resources,sn,this.xref).load())}getOperatorList({handler:sn,sink:rn,task:xn,intent:vn,cacheKey:kn,annotationStorage:Pn=null}){const On=this.getContentStream(),_n=this.loadResources(["ColorSpace","ExtGState","Font","Pattern","Properties","Shading","XObject"]),Sn=new Bt.PartialEvaluator({xref:this.xref,handler:sn,pageIndex:this.pageIndex,idFactory:this._localIdFactory,fontCache:this.fontCache,builtInCMapCache:this.builtInCMapCache,standardFontDataCache:this.standardFontDataCache,globalImageCache:this.globalImageCache,systemFontCache:this.systemFontCache,options:this.evaluatorOptions}),mn=this.xfaFactory?null:(0,Rt.getNewAnnotationsMap)(Pn);let fn=null,Jt=Promise.resolve(null);if(mn){const wn=mn.get(this.pageIndex);if(wn){const Cn=this.pdfManager.ensureDoc("annotationGlobals");let Fn;const En=new Set;for(const{bitmapId:Tn,bitmap:In}of wn)Tn&&!In&&!En.has(Tn)&&En.add(Tn);const{isOffscreenCanvasSupported:An}=this.evaluatorOptions;if(En.size>0){const Tn=wn.slice();for(const[In,Rn]of Pn)In.startsWith(wt.AnnotationEditorPrefix)&&Rn.bitmap&&En.has(Rn.bitmapId)&&Tn.push(Rn);Fn=_t.AnnotationFactory.generateImages(Tn,this.xref,An)}else Fn=_t.AnnotationFactory.generateImages(wn,this.xref,An);fn=new _e.RefSet,Mn(this,Vt,W3).call(this,wn,fn,null),Jt=Cn.then(Tn=>Tn?_t.AnnotationFactory.printNewAnnotations(Tn,Sn,xn,wn,Fn):null)}}const pn=Promise.all([On,_n]).then(([wn])=>{const Cn=new qt.OperatorList(vn,rn);return sn.send("StartRenderPage",{transparency:Sn.hasBlendModes(this.resources,this.nonBlendModesSet),pageIndex:this.pageIndex,cacheKey:kn}),Sn.getOperatorList({stream:wn,task:xn,resources:this.resources,operatorList:Cn}).then(function(){return Cn})});return Promise.all([pn,this._parsedAnnotations,Jt]).then(function([wn,Cn,Fn]){if(Fn){Cn=Cn.filter(Dn=>!(Dn.ref&&fn.has(Dn.ref)));for(let Dn=0,Ln=Fn.length;Dn<Ln;Dn++){const Un=Fn[Dn];if(Un.refToReplace){const tr=Cn.findIndex(er=>er.ref&&(0,_e.isRefsEqual)(er.ref,Un.refToReplace));tr>=0&&(Cn.splice(tr,1,Un),Fn.splice(Dn--,1),Ln--)}}Cn=Cn.concat(Fn)}if(Cn.length===0||vn&wt.RenderingIntentFlag.ANNOTATIONS_DISABLE)return wn.flush(!0),{length:wn.totalLength};const En=!!(vn&wt.RenderingIntentFlag.ANNOTATIONS_FORMS),An=!!(vn&wt.RenderingIntentFlag.ANY),Tn=!!(vn&wt.RenderingIntentFlag.DISPLAY),In=!!(vn&wt.RenderingIntentFlag.PRINT),Rn=[];for(const Dn of Cn)(An||Tn&&Dn.mustBeViewed(Pn,En)||In&&Dn.mustBePrinted(Pn))&&Rn.push(Dn.getOperatorList(Sn,xn,vn,En,Pn).catch(function(Ln){return(0,wt.warn)(`getOperatorList - ignoring annotation data during "${xn.name}" task: "${Ln}".`),{opList:null,separateForm:!1,separateCanvas:!1}}));return Promise.all(Rn).then(function(Dn){let Ln=!1,Un=!1;for(const{opList:tr,separateForm:er,separateCanvas:Qn}of Dn)wn.addOpList(tr),Ln||(Ln=er),Un||(Un=Qn);return wn.flush(!0,{form:Ln,canvas:Un}),{length:wn.totalLength}})})}extractTextContent({handler:sn,task:rn,includeMarkedContent:xn,disableNormalization:vn,sink:kn}){const Pn=this.getContentStream(),On=this.loadResources(["ExtGState","Font","Properties","XObject"]);return Promise.all([Pn,On]).then(([Sn])=>new Bt.PartialEvaluator({xref:this.xref,handler:sn,pageIndex:this.pageIndex,idFactory:this._localIdFactory,fontCache:this.fontCache,builtInCMapCache:this.builtInCMapCache,standardFontDataCache:this.standardFontDataCache,globalImageCache:this.globalImageCache,systemFontCache:this.systemFontCache,options:this.evaluatorOptions}).getTextContent({stream:Sn,task:rn,resources:this.resources,includeMarkedContent:xn,disableNormalization:vn,sink:kn,viewBox:this.view}))}async getStructTree(){const sn=await this.pdfManager.ensureCatalog("structTreeRoot");return sn?(await this._parsedAnnotations,(await this.pdfManager.ensure(this,"_parseStructTree",[sn])).serializable):null}_parseStructTree(sn){const rn=new en.StructTreePage(sn,this.pageDict);return rn.parse(this.ref),rn}async getAnnotationsData(sn,rn,xn){const vn=await this._parsedAnnotations;if(vn.length===0)return vn;const kn=[],Pn=[];let On;const _n=!!(xn&wt.RenderingIntentFlag.ANY),Sn=!!(xn&wt.RenderingIntentFlag.DISPLAY),mn=!!(xn&wt.RenderingIntentFlag.PRINT);for(const fn of vn){const Jt=_n||Sn&&fn.viewable;(Jt||mn&&fn.printable)&&kn.push(fn.data),fn.hasTextContent&&Jt&&(On||(On=new Bt.PartialEvaluator({xref:this.xref,handler:sn,pageIndex:this.pageIndex,idFactory:this._localIdFactory,fontCache:this.fontCache,builtInCMapCache:this.builtInCMapCache,standardFontDataCache:this.standardFontDataCache,globalImageCache:this.globalImageCache,systemFontCache:this.systemFontCache,options:this.evaluatorOptions})),Pn.push(fn.extractTextContent(On,rn,[-1/0,-1/0,1/0,1/0]).catch(function(ln){(0,wt.warn)(`getAnnotationsData - ignoring textContent during "${rn.name}" task: "${ln}".`)})))}return await Promise.all(Pn),kn}get annotations(){const sn=this._getInheritableProperty("Annots");return(0,wt.shadow)(this,"annotations",Array.isArray(sn)?sn:[])}get _parsedAnnotations(){const sn=this.pdfManager.ensure(this,"annotations").then(async rn=>{if(rn.length===0)return rn;const xn=await this.pdfManager.ensureDoc("annotationGlobals");if(!xn)return[];const vn=[];for(const On of rn)vn.push(_t.AnnotationFactory.create(this.xref,On,xn,this._localIdFactory,!1,this.ref).catch(function(_n){return(0,wt.warn)(`_parsedAnnotations: "${_n}".`),null}));const kn=[];let Pn;for(const On of await Promise.all(vn))if(On){if(On instanceof _t.PopupAnnotation){(Pn||(Pn=[])).push(On);continue}kn.push(On)}return Pn&&kn.push(...Pn),kn});return(0,wt.shadow)(this,"_parsedAnnotations",sn)}get jsActions(){const sn=(0,Rt.collectActions)(this.xref,this.pageDict,wt.PageActionEventType);return(0,wt.shadow)(this,"jsActions",sn)}}Vt=new WeakSet,W3=function(sn,rn,xn){for(const vn of sn)if(vn.id){const kn=_e.Ref.fromString(vn.id);if(!kn){(0,wt.warn)(`A non-linked annotation cannot be modified: ${vn.id}`);continue}if(vn.deleted){rn.put(kn);continue}xn==null||xn.put(kn),vn.ref=kn,delete vn.id}},Et.Page=Wt;const Yt=new Uint8Array([37,80,68,70,45]),un=new Uint8Array([115,116,97,114,116,120,114,101,102]),Ut=new Uint8Array([101,110,100,111,98,106]),Ot=1024,Ht="\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0";function an(cn,sn,rn=1024,xn=!1){const vn=sn.length,kn=cn.peekBytes(rn),Pn=kn.length-vn;if(Pn<=0)return!1;if(xn){const On=vn-1;let _n=kn.length-1;for(;_n>=On;){let Sn=0;for(;Sn<vn&&kn[_n-Sn]===sn[On-Sn];)Sn++;if(Sn>=vn)return cn.pos+=_n-On,!0;_n--}}else{let On=0;for(;On<=Pn;){let _n=0;for(;_n<vn&&kn[On+_n]===sn[_n];)_n++;if(_n>=vn)return cn.pos+=On,!0;On++}}return!1}class zt{constructor(sn,rn){Nn(this,hn);if(rn.length<=0)throw new wt.InvalidPDFException("The PDF file is empty, i.e. its size is zero bytes.");this.pdfManager=sn,this.stream=rn,this.xref=new gn.XRef(rn,sn),this._pagePromises=new Map,this._version=null;const xn={font:0};this._globalIdFactory=class{static getDocId(){return`g_${sn.docId}`}static createFontId(){return`f${++xn.font}`}static createObjId(){(0,wt.unreachable)("Abstract method `createObjId` called.")}static getPageObjId(){(0,wt.unreachable)("Abstract method `getPageObjId` called.")}}}parse(sn){this.xref.parse(sn),this.catalog=new Kt.Catalog(this.pdfManager,this.xref)}get linearization(){let sn=null;try{sn=Lt.Linearization.create(this.stream)}catch(rn){if(rn instanceof Rt.MissingDataException)throw rn;(0,wt.info)(rn)}return(0,wt.shadow)(this,"linearization",sn)}get startXRef(){const sn=this.stream;let rn=0;if(this.linearization)sn.reset(),an(sn,Ut)&&(rn=sn.pos+6-sn.start);else{const vn=un.length;let kn=!1,Pn=sn.end;for(;!kn&&Pn>0;)Pn-=1024-vn,Pn<0&&(Pn=0),sn.pos=Pn,kn=an(sn,un,1024,!0);if(kn){sn.skip(9);let On;do On=sn.getByte();while((0,Rt.isWhiteSpace)(On));let _n="";for(;On>=32&&On<=57;)_n+=String.fromCharCode(On),On=sn.getByte();rn=parseInt(_n,10),isNaN(rn)&&(rn=0)}}return(0,wt.shadow)(this,"startXRef",rn)}checkHeader(){const sn=this.stream;if(sn.reset(),!an(sn,Yt))return;sn.moveStart(),sn.skip(Yt.length);let rn="",xn;for(;(xn=sn.getByte())>32&&rn.length<7;)rn+=String.fromCharCode(xn);Rt.PDF_VERSION_REGEXP.test(rn)?this._version=rn:(0,wt.warn)(`Invalid PDF header version: ${rn}`)}parseStartXRef(){this.xref.setStartXRef(this.startXRef)}get numPages(){let sn=0;return this.catalog.hasActualNumPages?sn=this.catalog.numPages:this.xfaFactory?sn=this.xfaFactory.getNumPages():this.linearization?sn=this.linearization.numPages:sn=this.catalog.numPages,(0,wt.shadow)(this,"numPages",sn)}_hasOnlyDocumentSignatures(sn,rn=0){return Array.isArray(sn)?sn.every(vn=>{if(vn=this.xref.fetchIfRef(vn),!(vn instanceof _e.Dict))return!1;if(vn.has("Kids"))return++rn>10?((0,wt.warn)("_hasOnlyDocumentSignatures: maximum recursion depth reached"),!1):this._hasOnlyDocumentSignatures(vn.get("Kids"),rn);const kn=(0,_e.isName)(vn.get("FT"),"Sig"),Pn=vn.get("Rect"),On=Array.isArray(Pn)&&Pn.every(_n=>_n===0);return kn&&On}):!1}get _xfaStreams(){const sn=this.catalog.acroForm;if(!sn)return null;const rn=sn.get("XFA"),xn={"xdp:xdp":"",template:"",datasets:"",config:"",connectionSet:"",localeSet:"",stylesheet:"","/xdp:xdp":""};if(rn instanceof Pt.BaseStream&&!rn.isEmpty)return xn["xdp:xdp"]=rn,xn;if(!Array.isArray(rn)||rn.length===0)return null;for(let vn=0,kn=rn.length;vn<kn;vn+=2){let Pn;if(vn===0?Pn="xdp:xdp":vn===kn-2?Pn="/xdp:xdp":Pn=rn[vn],!xn.hasOwnProperty(Pn))continue;const On=this.xref.fetchIfRef(rn[vn+1]);!(On instanceof Pt.BaseStream)||On.isEmpty||(xn[Pn]=On)}return xn}get xfaDatasets(){const sn=this._xfaStreams;if(!sn)return(0,wt.shadow)(this,"xfaDatasets",null);for(const rn of["datasets","xdp:xdp"]){const xn=sn[rn];if(xn)try{const vn=(0,wt.stringToUTF8String)(xn.getString()),kn={[rn]:vn};return(0,wt.shadow)(this,"xfaDatasets",new $t.DatasetReader(kn))}catch{(0,wt.warn)("XFA - Invalid utf-8 string.");break}}return(0,wt.shadow)(this,"xfaDatasets",null)}get xfaData(){const sn=this._xfaStreams;if(!sn)return null;const rn=Object.create(null);for(const[xn,vn]of Object.entries(sn))if(vn)try{rn[xn]=(0,wt.stringToUTF8String)(vn.getString())}catch{return(0,wt.warn)("XFA - Invalid utf-8 string."),null}return rn}get xfaFactory(){let sn;return this.pdfManager.enableXfa&&this.catalog.needsRendering&&this.formInfo.hasXfa&&!this.formInfo.hasAcroForm&&(sn=this.xfaData),(0,wt.shadow)(this,"xfaFactory",sn?new Qt.XFAFactory(sn):null)}get isPureXfa(){return this.xfaFactory?this.xfaFactory.isValid():!1}get htmlForXfa(){return this.xfaFactory?this.xfaFactory.getPages():null}async loadXfaImages(){const sn=await this.pdfManager.ensureCatalog("xfaImages");if(!sn)return;const rn=sn.getKeys();await new kt.ObjectLoader(sn,rn,this.xref).load();const vn=new Map;for(const kn of rn){const Pn=sn.get(kn);Pn instanceof Pt.BaseStream&&vn.set(kn,Pn.getBytes())}this.xfaFactory.setImages(vn)}async loadXfaFonts(sn,rn){const xn=await this.pdfManager.ensureCatalog("acroForm");if(!xn)return;const vn=await xn.getAsync("DR");if(!(vn instanceof _e.Dict))return;await new kt.ObjectLoader(vn,["Font"],this.xref).load();const Pn=vn.get("Font");if(!(Pn instanceof _e.Dict))return;const On=Object.assign(Object.create(null),this.pdfManager.evaluatorOptions);On.useSystemFonts=!1;const _n=new Bt.PartialEvaluator({xref:this.xref,handler:sn,pageIndex:-1,idFactory:this._globalIdFactory,fontCache:this.catalog.fontCache,builtInCMapCache:this.catalog.builtInCMapCache,standardFontDataCache:this.catalog.standardFontDataCache,options:On}),Sn=new qt.OperatorList,mn=[],fn={get font(){return mn.at(-1)},set font(Cn){mn.push(Cn)},clone(){return this}},Jt=new Map;Pn.forEach((Cn,Fn)=>{Jt.set(Cn,Fn)});const ln=[];for(const[Cn,Fn]of Jt){const En=Fn.get("FontDescriptor");if(!(En instanceof _e.Dict))continue;let An=En.get("FontFamily");An=An.replaceAll(/[ ]+(\d)/g,"$1");const Tn=En.get("FontWeight"),In=-En.get("ItalicAngle"),Rn={fontFamily:An,fontWeight:Tn,italicAngle:In};(0,Rt.validateCSSFont)(Rn)&&ln.push(_n.handleSetFont(vn,[_e.Name.get(Cn),1],null,Sn,rn,fn,null,Rn).catch(function(Dn){return(0,wt.warn)(`loadXfaFonts: "${Dn}".`),null}))}await Promise.all(ln);const pn=this.xfaFactory.setFonts(mn);if(!pn)return;On.ignoreErrors=!0,ln.length=0,mn.length=0;const wn=new Set;for(const Cn of pn)(0,bt.getXfaFontName)(`${Cn}-Regular`)||wn.add(Cn);wn.size&&pn.push("PdfJS-Fallback");for(const Cn of pn)if(!wn.has(Cn))for(const Fn of[{name:"Regular",fontWeight:400,italicAngle:0},{name:"Bold",fontWeight:700,italicAngle:0},{name:"Italic",fontWeight:400,italicAngle:12},{name:"BoldItalic",fontWeight:700,italicAngle:12}]){const En=`${Cn}-${Fn.name}`,An=(0,bt.getXfaFontDict)(En);ln.push(_n.handleSetFont(vn,[_e.Name.get(En),1],null,Sn,rn,fn,An,{fontFamily:Cn,fontWeight:Fn.fontWeight,italicAngle:Fn.italicAngle}).catch(function(Tn){return(0,wt.warn)(`loadXfaFonts: "${Tn}".`),null}))}await Promise.all(ln),this.xfaFactory.appendFonts(mn,wn)}async serializeXfaData(sn){return this.xfaFactory?this.xfaFactory.serializeData(sn):null}get version(){return this.catalog.version||this._version}get formInfo(){const sn={hasFields:!1,hasAcroForm:!1,hasXfa:!1,hasSignatures:!1},rn=this.catalog.acroForm;if(!rn)return(0,wt.shadow)(this,"formInfo",sn);try{const xn=rn.get("Fields"),vn=Array.isArray(xn)&&xn.length>0;sn.hasFields=vn;const kn=rn.get("XFA");sn.hasXfa=Array.isArray(kn)&&kn.length>0||kn instanceof Pt.BaseStream&&!kn.isEmpty;const On=!!(rn.get("SigFlags")&1),_n=On&&this._hasOnlyDocumentSignatures(xn);sn.hasAcroForm=vn&&!_n,sn.hasSignatures=On}catch(xn){if(xn instanceof Rt.MissingDataException)throw xn;(0,wt.warn)(`Cannot fetch form information: "${xn}".`)}return(0,wt.shadow)(this,"formInfo",sn)}get documentInfo(){const sn={PDFFormatVersion:this.version,Language:this.catalog.lang,EncryptFilterName:this.xref.encrypt?this.xref.encrypt.filterName:null,IsLinearized:!!this.linearization,IsAcroFormPresent:this.formInfo.hasAcroForm,IsXFAPresent:this.formInfo.hasXfa,IsCollectionPresent:!!this.catalog.collection,IsSignaturesPresent:this.formInfo.hasSignatures};let rn;try{rn=this.xref.trailer.get("Info")}catch(xn){if(xn instanceof Rt.MissingDataException)throw xn;(0,wt.info)("The document information dictionary is invalid.")}if(!(rn instanceof _e.Dict))return(0,wt.shadow)(this,"documentInfo",sn);for(const xn of rn.getKeys()){const vn=rn.get(xn);switch(xn){case"Title":case"Author":case"Subject":case"Keywords":case"Creator":case"Producer":case"CreationDate":case"ModDate":if(typeof vn=="string"){sn[xn]=(0,wt.stringToPDFString)(vn);continue}break;case"Trapped":if(vn instanceof _e.Name){sn[xn]=vn;continue}break;default:let kn;switch(typeof vn){case"string":kn=(0,wt.stringToPDFString)(vn);break;case"number":case"boolean":kn=vn;break;default:vn instanceof _e.Name&&(kn=vn);break}if(kn===void 0){(0,wt.warn)(`Bad value, for custom key "${xn}", in Info: ${vn}.`);continue}sn.Custom||(sn.Custom=Object.create(null)),sn.Custom[xn]=kn;continue}(0,wt.warn)(`Bad value, for key "${xn}", in Info: ${vn}.`)}return(0,wt.shadow)(this,"documentInfo",sn)}get fingerprints(){function sn(Pn){return typeof Pn=="string"&&Pn.length>0&&Pn!==Ht}function rn(Pn){const On=[];for(const _n of Pn){const Sn=_n.toString(16);On.push(Sn.padStart(2,"0"))}return On.join("")}const xn=this.xref.trailer.get("ID");let vn,kn;return Array.isArray(xn)&&sn(xn[0])?(vn=(0,wt.stringToBytes)(xn[0]),xn[1]!==xn[0]&&sn(xn[1])&&(kn=(0,wt.stringToBytes)(xn[1]))):vn=(0,Xt.calculateMD5)(this.stream.getByteRange(0,Ot),0,Ot),(0,wt.shadow)(this,"fingerprints",[rn(vn),kn?rn(kn):null])}async _getLinearizationPage(sn){const{catalog:rn,linearization:xn,xref:vn}=this,kn=_e.Ref.get(xn.objectNumberFirst,0);try{const Pn=await vn.fetchAsync(kn);if(Pn instanceof _e.Dict){let On=Pn.getRaw("Type");if(On instanceof _e.Ref&&(On=await vn.fetchAsync(On)),(0,_e.isName)(On,"Page")||!Pn.has("Type")&&!Pn.has("Kids"))return rn.pageKidsCountCache.has(kn)||rn.pageKidsCountCache.put(kn,1),rn.pageIndexCache.has(kn)||rn.pageIndexCache.put(kn,0),[Pn,kn]}throw new wt.FormatError("The Linearization dictionary doesn't point to a valid Page dictionary.")}catch(Pn){return(0,wt.warn)(`_getLinearizationPage: "${Pn.message}".`),rn.getPageDict(sn)}}getPage(sn){const rn=this._pagePromises.get(sn);if(rn)return rn;const{catalog:xn,linearization:vn,xfaFactory:kn}=this;let Pn;return kn?Pn=Promise.resolve([_e.Dict.empty,null]):(vn==null?void 0:vn.pageFirst)===sn?Pn=this._getLinearizationPage(sn):Pn=xn.getPageDict(sn),Pn=Pn.then(([On,_n])=>new Wt({pdfManager:this.pdfManager,xref:this.xref,pageIndex:sn,pageDict:On,ref:_n,globalIdFactory:this._globalIdFactory,fontCache:xn.fontCache,builtInCMapCache:xn.builtInCMapCache,standardFontDataCache:xn.standardFontDataCache,globalImageCache:xn.globalImageCache,systemFontCache:xn.systemFontCache,nonBlendModesSet:xn.nonBlendModesSet,xfaFactory:kn})),this._pagePromises.set(sn,Pn),Pn}async checkFirstPage(sn=!1){if(!sn)try{await this.getPage(0)}catch(rn){if(rn instanceof Rt.XRefEntryException)throw this._pagePromises.delete(0),await this.cleanup(),new Rt.XRefParseException}}async checkLastPage(sn=!1){const{catalog:rn,pdfManager:xn}=this;rn.setActualNumPages();let vn;try{if(await Promise.all([xn.ensureDoc("xfaFactory"),xn.ensureDoc("linearization"),xn.ensureCatalog("numPages")]),this.xfaFactory)return;if(this.linearization?vn=this.linearization.numPages:vn=rn.numPages,Number.isInteger(vn)){if(vn<=1)return}else throw new wt.FormatError("Page count is not an integer.");await this.getPage(vn-1)}catch(kn){if(this._pagePromises.delete(vn-1),await this.cleanup(),kn instanceof Rt.XRefEntryException&&!sn)throw new Rt.XRefParseException;(0,wt.warn)(`checkLastPage - invalid /Pages tree /Count: ${vn}.`);let Pn;try{Pn=await rn.getAllPageDicts(sn)}catch(On){if(On instanceof Rt.XRefEntryException&&!sn)throw new Rt.XRefParseException;rn.setActualNumPages(1);return}for(const[On,[_n,Sn]]of Pn){let mn;_n instanceof Error?(mn=Promise.reject(_n),mn.catch(()=>{})):mn=Promise.resolve(new Wt({pdfManager:xn,xref:this.xref,pageIndex:On,pageDict:_n,ref:Sn,globalIdFactory:this._globalIdFactory,fontCache:rn.fontCache,builtInCMapCache:rn.builtInCMapCache,standardFontDataCache:rn.standardFontDataCache,globalImageCache:rn.globalImageCache,systemFontCache:rn.systemFontCache,nonBlendModesSet:rn.nonBlendModesSet,xfaFactory:null})),this._pagePromises.set(On,mn)}rn.setActualNumPages(Pn.size)}}fontFallback(sn,rn){return this.catalog.fontFallback(sn,rn)}async cleanup(sn=!1){return this.catalog?this.catalog.cleanup(sn):(0,Nt.clearGlobalCaches)()}get fieldObjects(){if(!this.formInfo.hasFields)return(0,wt.shadow)(this,"fieldObjects",Promise.resolve(null));const sn=this.pdfManager.ensureDoc("annotationGlobals").then(async rn=>{if(!rn)return null;const xn=Object.create(null),vn=new Map;for(const Pn of this.catalog.acroForm.get("Fields"))Mn(this,hn,V3).call(this,"",Pn,vn,rn);const kn=[];for(const[Pn,On]of vn)kn.push(Promise.all(On).then(_n=>{_n=_n.filter(Sn=>!!Sn),_n.length>0&&(xn[Pn]=_n)}));return await Promise.all(kn),xn});return(0,wt.shadow)(this,"fieldObjects",sn)}get hasJSActions(){const sn=this.pdfManager.ensureDoc("_parseHasJSActions");return(0,wt.shadow)(this,"hasJSActions",sn)}async _parseHasJSActions(){const[sn,rn]=await Promise.all([this.pdfManager.ensureCatalog("jsActions"),this.pdfManager.ensureDoc("fieldObjects")]);return sn?!0:rn?Object.values(rn).some(xn=>xn.some(vn=>vn.actions!==null)):!1}get calculationOrderIds(){const sn=this.catalog.acroForm;if(!(sn!=null&&sn.has("CO")))return(0,wt.shadow)(this,"calculationOrderIds",null);const rn=sn.get("CO");if(!Array.isArray(rn)||rn.length===0)return(0,wt.shadow)(this,"calculationOrderIds",null);const xn=[];for(const vn of rn)vn instanceof _e.Ref&&xn.push(vn.toString());return xn.length===0?(0,wt.shadow)(this,"calculationOrderIds",null):(0,wt.shadow)(this,"calculationOrderIds",xn)}get annotationGlobals(){return(0,wt.shadow)(this,"annotationGlobals",_t.AnnotationFactory.createGlobals(this.pdfManager))}}hn=new WeakSet,V3=function(sn,rn,xn,vn){const kn=this.xref.fetchIfRef(rn);if(kn.has("T")){const Pn=(0,wt.stringToPDFString)(kn.get("T"));sn=sn===""?Pn:`${sn}.${Pn}`}if(xn.has(sn)||xn.set(sn,[]),xn.get(sn).push(_t.AnnotationFactory.create(this.xref,rn,vn,this._localIdFactory,!0,null).then(Pn=>Pn==null?void 0:Pn.getFieldObject()).catch(function(Pn){return(0,wt.warn)(`#collectFieldObjects: "${Pn}".`),null})),kn.has("Kids"))for(const Pn of kn.get("Kids"))Mn(this,hn,V3).call(this,sn,Pn,xn,vn)},Et.PDFDocument=zt},(Ct,Et,Ft)=>{Object.defineProperty(Et,"__esModule",{value:!0}),Et.PopupAnnotation=Et.MarkupAnnotation=Et.AnnotationFactory=Et.AnnotationBorderStyle=Et.Annotation=void 0,Et.getQuadPoints=Qt;var wt=Ft(2),_t=Ft(3),Rt=Ft(11),_e=Ft(4),bt=Ft(8),Pt=Ft(5),Xt=Ft(60),Kt=Ft(66),Nt=Ft(12),$t=Ft(69),Lt=Ft(26),jt=Ft(76),kt=Ft(64),qt=Ft(73),Bt=Ft(77);class Gt{static createGlobals(Jt){return Promise.all([Jt.ensureCatalog("acroForm"),Jt.ensureDoc("xfaDatasets"),Jt.ensureCatalog("structTreeRoot"),Jt.ensureCatalog("baseUrl"),Jt.ensureCatalog("attachments")]).then(([ln,pn,wn,Cn,Fn])=>({pdfManager:Jt,acroForm:ln instanceof _e.Dict?ln:_e.Dict.empty,xfaDatasets:pn,structTreeRoot:wn,baseUrl:Cn,attachments:Fn}),ln=>((0,wt.warn)(`createGlobals: "${ln}".`),null))}static async create(Jt,ln,pn,wn,Cn,Fn){const En=Cn?await this._getPageIndex(Jt,ln,pn.pdfManager):null;return pn.pdfManager.ensure(this,"_create",[Jt,ln,pn,wn,Cn,En,Fn])}static _create(Jt,ln,pn,wn,Cn=!1,Fn=null,En=null){const An=Jt.fetchIfRef(ln);if(!(An instanceof _e.Dict))return;const{acroForm:Tn,pdfManager:In}=pn,Rn=ln instanceof _e.Ref?ln.toString():`annot_${wn.createObjId()}`;let Dn=An.get("Subtype");Dn=Dn instanceof _e.Name?Dn.name:null;const Ln={xref:Jt,ref:ln,dict:An,subtype:Dn,id:Rn,annotationGlobals:pn,collectFields:Cn,needAppearances:!Cn&&Tn.get("NeedAppearances")===!0,pageIndex:Fn,evaluatorOptions:In.evaluatorOptions,pageRef:En};switch(Dn){case"Link":return new zt(Ln);case"Text":return new an(Ln);case"Widget":let Un=(0,_t.getInheritableProperty)({dict:An,key:"FT"});switch(Un=Un instanceof _e.Name?Un.name:null,Un){case"Tx":return new un(Ln);case"Btn":return new Ut(Ln);case"Ch":return new Ot(Ln);case"Sig":return new Ht(Ln)}return(0,wt.warn)(`Unimplemented widget field type "${Un}", falling back to base field type.`),new Yt(Ln);case"Popup":return new Vt(Ln);case"FreeText":return new nn(Ln);case"Line":return new hn(Ln);case"Square":return new on(Ln);case"Circle":return new cn(Ln);case"PolyLine":return new sn(Ln);case"Polygon":return new rn(Ln);case"Caret":return new xn(Ln);case"Ink":return new vn(Ln);case"Highlight":return new kn(Ln);case"Underline":return new Pn(Ln);case"Squiggly":return new On(Ln);case"StrikeOut":return new _n(Ln);case"Stamp":return new Sn(Ln);case"FileAttachment":return new mn(Ln);default:return Cn||(Dn?(0,wt.warn)(`Unimplemented annotation type "${Dn}", falling back to base annotation.`):(0,wt.warn)("Annotation is missing the required /Subtype.")),new tn(Ln)}}static async _getPageIndex(Jt,ln,pn){try{const wn=await Jt.fetchIfRefAsync(ln);if(!(wn instanceof _e.Dict))return-1;const Cn=wn.getRaw("P");if(Cn instanceof _e.Ref)try{return await pn.ensureCatalog("getPageIndex",[Cn])}catch(En){(0,wt.info)(`_getPageIndex -- not a valid page reference: "${En}".`)}if(wn.has("Kids"))return-1;const Fn=await pn.ensureDoc("numPages");for(let En=0;En<Fn;En++){const An=await pn.getPage(En),Tn=await pn.ensure(An,"annotations");for(const In of Tn)if(In instanceof _e.Ref&&(0,_e.isRefsEqual)(In,ln))return En}}catch(wn){(0,wt.warn)(`_getPageIndex: "${wn}".`)}return-1}static generateImages(Jt,ln,pn){if(!pn)return(0,wt.warn)("generateImages: OffscreenCanvas is not supported, cannot save or print some annotations with images."),null;let wn;for(const{bitmapId:Cn,bitmap:Fn}of Jt)Fn&&(wn||(wn=new Map),wn.set(Cn,Sn.createImage(Fn,ln)));return wn}static async saveNewAnnotations(Jt,ln,pn,wn){const Cn=Jt.xref;let Fn;const En=[],An=[],{isOffscreenCanvasSupported:Tn}=Jt.options;for(const In of pn)if(!In.deleted)switch(In.annotationType){case wt.AnnotationEditorType.FREETEXT:if(!Fn){const Dn=new _e.Dict(Cn);Dn.set("BaseFont",_e.Name.get("Helvetica")),Dn.set("Type",_e.Name.get("Font")),Dn.set("Subtype",_e.Name.get("Type1")),Dn.set("Encoding",_e.Name.get("WinAnsiEncoding"));const Ln=[];Fn=Cn.getNewTemporaryRef(),await(0,qt.writeObject)(Fn,Dn,Ln,Cn),En.push({ref:Fn,data:Ln.join("")})}An.push(nn.createNewAnnotation(Cn,In,En,{evaluator:Jt,task:ln,baseFontRef:Fn}));break;case wt.AnnotationEditorType.INK:An.push(vn.createNewAnnotation(Cn,In,En));break;case wt.AnnotationEditorType.STAMP:if(!Tn)break;const Rn=await wn.get(In.bitmapId);if(Rn.imageStream){const{imageStream:Dn,smaskStream:Ln}=Rn,Un=[];if(Ln){const er=Cn.getNewTemporaryRef();await(0,qt.writeObject)(er,Ln,Un,Cn),En.push({ref:er,data:Un.join("")}),Dn.dict.set("SMask",er),Un.length=0}const tr=Rn.imageRef=Cn.getNewTemporaryRef();await(0,qt.writeObject)(tr,Dn,Un,Cn),En.push({ref:tr,data:Un.join("")}),Rn.imageStream=Rn.smaskStream=null}An.push(Sn.createNewAnnotation(Cn,In,En,{image:Rn}));break}return{annotations:await Promise.all(An),dependencies:En}}static async printNewAnnotations(Jt,ln,pn,wn,Cn){if(!wn)return null;const{options:Fn,xref:En}=ln,An=[];for(const Tn of wn)if(!Tn.deleted)switch(Tn.annotationType){case wt.AnnotationEditorType.FREETEXT:An.push(nn.createNewPrintAnnotation(Jt,En,Tn,{evaluator:ln,task:pn,evaluatorOptions:Fn}));break;case wt.AnnotationEditorType.INK:An.push(vn.createNewPrintAnnotation(Jt,En,Tn,{evaluatorOptions:Fn}));break;case wt.AnnotationEditorType.STAMP:if(!Fn.isOffscreenCanvasSupported)break;const In=await Cn.get(Tn.bitmapId);if(In.imageStream){const{imageStream:Rn,smaskStream:Dn}=In;Dn&&Rn.dict.set("SMask",Dn),In.imageRef=new Lt.JpegStream(Rn,Rn.length),In.imageStream=In.smaskStream=null}An.push(Sn.createNewPrintAnnotation(Jt,En,Tn,{image:In,evaluatorOptions:Fn}));break}return Promise.all(An)}}Et.AnnotationFactory=Gt;function en(fn,Jt=new Uint8ClampedArray(3)){if(!Array.isArray(fn))return Jt;const ln=Jt||new Uint8ClampedArray(3);switch(fn.length){case 0:return null;case 1:return Nt.ColorSpace.singletons.gray.getRgbItem(fn,0,ln,0),ln;case 3:return Nt.ColorSpace.singletons.rgb.getRgbItem(fn,0,ln,0),ln;case 4:return Nt.ColorSpace.singletons.cmyk.getRgbItem(fn,0,ln,0),ln;default:return Jt}}function dn(fn){return Array.from(fn,Jt=>Jt/255)}function Qt(fn,Jt){const ln=fn.getArray("QuadPoints");if(!Array.isArray(ln)||ln.length===0||ln.length%8>0)return null;const pn=[];for(let wn=0,Cn=ln.length/8;wn<Cn;wn++){let Fn=1/0,En=-1/0,An=1/0,Tn=-1/0;for(let In=wn*8,Rn=wn*8+8;In<Rn;In+=2){const Dn=ln[In],Ln=ln[In+1];Fn=Math.min(Dn,Fn),En=Math.max(Dn,En),An=Math.min(Ln,An),Tn=Math.max(Ln,Tn)}if(Jt!==null&&(Fn<Jt[0]||En>Jt[2]||An<Jt[1]||Tn>Jt[3]))return null;pn.push([{x:Fn,y:Tn},{x:En,y:Tn},{x:Fn,y:An},{x:En,y:An}])}return pn}function gn(fn,Jt,ln){const[pn,wn,Cn,Fn]=wt.Util.getAxialAlignedBoundingBox(Jt,ln);if(pn===Cn||wn===Fn)return[1,0,0,1,fn[0],fn[1]];const En=(fn[2]-fn[0])/(Cn-pn),An=(fn[3]-fn[1])/(Fn-wn);return[En,0,0,An,fn[0]-pn*En,fn[1]-wn*An]}class tn{constructor(Jt){const{dict:ln,xref:pn,annotationGlobals:wn}=Jt;this.setTitle(ln.get("T")),this.setContents(ln.get("Contents")),this.setModificationDate(ln.get("M")),this.setFlags(ln.get("F")),this.setRectangle(ln.getArray("Rect")),this.setColor(ln.getArray("C")),this.setBorderStyle(ln),this.setAppearance(ln),this.setOptionalContent(ln);const Cn=ln.get("MK");this.setBorderAndBackgroundColors(Cn),this.setRotation(Cn,ln),this.ref=Jt.ref instanceof _e.Ref?Jt.ref:null,this._streams=[],this.appearance&&this._streams.push(this.appearance);const Fn=!!(this.flags&wt.AnnotationFlag.LOCKED),En=!!(this.flags&wt.AnnotationFlag.LOCKEDCONTENTS);if(wn.structTreeRoot){let An=ln.get("StructParent");An=Number.isInteger(An)&&An>=0?An:-1,wn.structTreeRoot.addAnnotationIdToPage(Jt.pageRef,An)}if(this.data={annotationFlags:this.flags,borderStyle:this.borderStyle,color:this.color,backgroundColor:this.backgroundColor,borderColor:this.borderColor,rotation:this.rotation,contentsObj:this._contents,hasAppearance:!!this.appearance,id:Jt.id,modificationDate:this.modificationDate,rect:this.rectangle,subtype:Jt.subtype,hasOwnCanvas:!1,noRotate:!!(this.flags&wt.AnnotationFlag.NOROTATE),noHTML:Fn&&En},Jt.collectFields){const An=ln.get("Kids");if(Array.isArray(An)){const Tn=[];for(const In of An)In instanceof _e.Ref&&Tn.push(In.toString());Tn.length!==0&&(this.data.kidIds=Tn)}this.data.actions=(0,_t.collectActions)(pn,ln,wt.AnnotationActionEventType),this.data.fieldName=this._constructFieldName(ln),this.data.pageIndex=Jt.pageIndex}this._isOffscreenCanvasSupported=Jt.evaluatorOptions.isOffscreenCanvasSupported,this._fallbackFontDict=null,this._needAppearances=!1}_hasFlag(Jt,ln){return!!(Jt&ln)}_isViewable(Jt){return!this._hasFlag(Jt,wt.AnnotationFlag.INVISIBLE)&&!this._hasFlag(Jt,wt.AnnotationFlag.NOVIEW)}_isPrintable(Jt){return this._hasFlag(Jt,wt.AnnotationFlag.PRINT)&&!this._hasFlag(Jt,wt.AnnotationFlag.HIDDEN)&&!this._hasFlag(Jt,wt.AnnotationFlag.INVISIBLE)}mustBeViewed(Jt,ln){var wn;const pn=(wn=Jt==null?void 0:Jt.get(this.data.id))==null?void 0:wn.noView;return pn!==void 0?!pn:this.viewable&&!this._hasFlag(this.flags,wt.AnnotationFlag.HIDDEN)}mustBePrinted(Jt){var pn;const ln=(pn=Jt==null?void 0:Jt.get(this.data.id))==null?void 0:pn.noPrint;return ln!==void 0?!ln:this.printable}get viewable(){return this.data.quadPoints===null?!1:this.flags===0?!0:this._isViewable(this.flags)}get printable(){return this.data.quadPoints===null||this.flags===0?!1:this._isPrintable(this.flags)}_parseStringHelper(Jt){const ln=typeof Jt=="string"?(0,wt.stringToPDFString)(Jt):"",pn=ln&&(0,Xt.bidi)(ln).dir==="rtl"?"rtl":"ltr";return{str:ln,dir:pn}}setDefaultAppearance(Jt){const{dict:ln,annotationGlobals:pn}=Jt,wn=(0,_t.getInheritableProperty)({dict:ln,key:"DA"})||pn.acroForm.get("DA");this._defaultAppearance=typeof wn=="string"?wn:"",this.data.defaultAppearanceData=(0,Rt.parseDefaultAppearance)(this._defaultAppearance)}setTitle(Jt){this._title=this._parseStringHelper(Jt)}setContents(Jt){this._contents=this._parseStringHelper(Jt)}setModificationDate(Jt){this.modificationDate=typeof Jt=="string"?Jt:null}setFlags(Jt){this.flags=Number.isInteger(Jt)&&Jt>0?Jt:0}hasFlag(Jt){return this._hasFlag(this.flags,Jt)}setRectangle(Jt){this.rectangle=Array.isArray(Jt)&&Jt.length===4?wt.Util.normalizeRect(Jt):[0,0,0,0]}setColor(Jt){this.color=en(Jt)}setLineEndings(Jt){if(this.lineEndings=["None","None"],Array.isArray(Jt)&&Jt.length===2)for(let ln=0;ln<2;ln++){const pn=Jt[ln];if(pn instanceof _e.Name)switch(pn.name){case"None":continue;case"Square":case"Circle":case"Diamond":case"OpenArrow":case"ClosedArrow":case"Butt":case"ROpenArrow":case"RClosedArrow":case"Slash":this.lineEndings[ln]=pn.name;continue}(0,wt.warn)(`Ignoring invalid lineEnding: ${pn}`)}}setRotation(Jt,ln){this.rotation=0;let pn=Jt instanceof _e.Dict?Jt.get("R")||0:ln.get("Rotate")||0;Number.isInteger(pn)&&pn!==0&&(pn%=360,pn<0&&(pn+=360),pn%90===0&&(this.rotation=pn))}setBorderAndBackgroundColors(Jt){Jt instanceof _e.Dict?(this.borderColor=en(Jt.getArray("BC"),null),this.backgroundColor=en(Jt.getArray("BG"),null)):this.borderColor=this.backgroundColor=null}setBorderStyle(Jt){if(this.borderStyle=new bn,Jt instanceof _e.Dict)if(Jt.has("BS")){const ln=Jt.get("BS"),pn=ln.get("Type");(!pn||(0,_e.isName)(pn,"Border"))&&(this.borderStyle.setWidth(ln.get("W"),this.rectangle),this.borderStyle.setStyle(ln.get("S")),this.borderStyle.setDashArray(ln.getArray("D")))}else if(Jt.has("Border")){const ln=Jt.getArray("Border");Array.isArray(ln)&&ln.length>=3&&(this.borderStyle.setHorizontalCornerRadius(ln[0]),this.borderStyle.setVerticalCornerRadius(ln[1]),this.borderStyle.setWidth(ln[2],this.rectangle),ln.length===4&&this.borderStyle.setDashArray(ln[3],!0))}else this.borderStyle.setWidth(0)}setAppearance(Jt){this.appearance=null;const ln=Jt.get("AP");if(!(ln instanceof _e.Dict))return;const pn=ln.get("N");if(pn instanceof Pt.BaseStream){this.appearance=pn;return}if(!(pn instanceof _e.Dict))return;const wn=Jt.get("AS");if(!(wn instanceof _e.Name)||!pn.has(wn.name))return;const Cn=pn.get(wn.name);Cn instanceof Pt.BaseStream&&(this.appearance=Cn)}setOptionalContent(Jt){this.oc=null;const ln=Jt.get("OC");ln instanceof _e.Name?(0,wt.warn)("setOptionalContent: Support for /Name-entry is not implemented."):ln instanceof _e.Dict&&(this.oc=ln)}loadResources(Jt,ln){return ln.dict.getAsync("Resources").then(pn=>pn?new jt.ObjectLoader(pn,Jt,pn.xref).load().then(function(){return pn}):void 0)}async getOperatorList(Jt,ln,pn,wn,Cn){const Fn=this.data;let En=this.appearance;const An=!!(this.data.hasOwnCanvas&&pn&wt.RenderingIntentFlag.DISPLAY);if(!En){if(!An)return{opList:new kt.OperatorList,separateForm:!1,separateCanvas:!1};En=new bt.StringStream(""),En.dict=new _e.Dict}const Tn=En.dict,In=await this.loadResources(["ExtGState","ColorSpace","Pattern","Shading","XObject","Font"],En),Rn=Tn.getArray("BBox")||[0,0,1,1],Dn=Tn.getArray("Matrix")||[1,0,0,1,0,0],Ln=gn(Fn.rect,Rn,Dn),Un=new kt.OperatorList;let tr;return this.oc&&(tr=await Jt.parseMarkedContentProps(this.oc,null)),tr!==void 0&&Un.addOp(wt.OPS.beginMarkedContentProps,["OC",tr]),Un.addOp(wt.OPS.beginAnnotation,[Fn.id,Fn.rect,Ln,Dn,An]),await Jt.getOperatorList({stream:En,task:ln,resources:In,operatorList:Un,fallbackFontDict:this._fallbackFontDict}),Un.addOp(wt.OPS.endAnnotation,[]),tr!==void 0&&Un.addOp(wt.OPS.endMarkedContent,[]),this.reset(),{opList:Un,separateForm:!1,separateCanvas:An}}async save(Jt,ln,pn){return null}get hasTextContent(){return!1}async extractTextContent(Jt,ln,pn){if(!this.appearance)return;const wn=await this.loadResources(["ExtGState","Font","Properties","XObject"],this.appearance),Cn=[],Fn=[];let En=null;const An={desiredSize:Math.Infinity,ready:!0,enqueue(Tn,In){for(const Rn of Tn.items)Rn.str!==void 0&&(En||(En=Rn.transform.slice(-2)),Fn.push(Rn.str),Rn.hasEOL&&(Cn.push(Fn.join("")),Fn.length=0))}};if(await Jt.getTextContent({stream:this.appearance,task:ln,resources:wn,includeMarkedContent:!0,sink:An,viewBox:pn}),this.reset(),Fn.length&&Cn.push(Fn.join("")),Cn.length>1||Cn[0]){const Tn=this.appearance.dict,In=Tn.getArray("BBox")||[0,0,1,1],Rn=Tn.getArray("Matrix")||[1,0,0,1,0,0],Dn=this.data.rect,Ln=gn(Dn,In,Rn);Ln[4]-=Dn[0],Ln[5]-=Dn[1],En=wt.Util.applyTransform(En,Ln),En=wt.Util.applyTransform(En,Rn),this.data.textPosition=En,this.data.textContent=Cn}}getFieldObject(){return this.data.kidIds?{id:this.data.id,actions:this.data.actions,name:this.data.fieldName,strokeColor:this.data.borderColor,fillColor:this.data.backgroundColor,type:"",kidIds:this.data.kidIds,page:this.data.pageIndex,rotation:this.rotation}:null}reset(){for(const Jt of this._streams)Jt.reset()}_constructFieldName(Jt){if(!Jt.has("T")&&!Jt.has("Parent"))return(0,wt.warn)("Unknown field name, falling back to empty field name."),"";if(!Jt.has("Parent"))return(0,wt.stringToPDFString)(Jt.get("T"));const ln=[];Jt.has("T")&&ln.unshift((0,wt.stringToPDFString)(Jt.get("T")));let pn=Jt;const wn=new _e.RefSet;for(Jt.objId&&wn.put(Jt.objId);pn.has("Parent")&&(pn=pn.get("Parent"),!(!(pn instanceof _e.Dict)||pn.objId&&wn.has(pn.objId)));)pn.objId&&wn.put(pn.objId),pn.has("T")&&ln.unshift((0,wt.stringToPDFString)(pn.get("T")));return ln.join(".")}}Et.Annotation=tn;class bn{constructor(){this.width=1,this.style=wt.AnnotationBorderStyleType.SOLID,this.dashArray=[3],this.horizontalCornerRadius=0,this.verticalCornerRadius=0}setWidth(Jt,ln=[0,0,0,0]){if(Jt instanceof _e.Name){this.width=0;return}if(typeof Jt=="number"){if(Jt>0){const pn=(ln[2]-ln[0])/2,wn=(ln[3]-ln[1])/2;pn>0&&wn>0&&(Jt>pn||Jt>wn)&&((0,wt.warn)(`AnnotationBorderStyle.setWidth - ignoring width: ${Jt}`),Jt=1)}this.width=Jt}}setStyle(Jt){if(Jt instanceof _e.Name)switch(Jt.name){case"S":this.style=wt.AnnotationBorderStyleType.SOLID;break;case"D":this.style=wt.AnnotationBorderStyleType.DASHED;break;case"B":this.style=wt.AnnotationBorderStyleType.BEVELED;break;case"I":this.style=wt.AnnotationBorderStyleType.INSET;break;case"U":this.style=wt.AnnotationBorderStyleType.UNDERLINE;break}}setDashArray(Jt,ln=!1){if(Array.isArray(Jt)&&Jt.length>0){let pn=!0,wn=!0;for(const Cn of Jt)if(+Cn>=0)Cn>0&&(wn=!1);else{pn=!1;break}pn&&!wn?(this.dashArray=Jt,ln&&this.setStyle(_e.Name.get("D"))):this.width=0}else Jt&&(this.width=0)}setHorizontalCornerRadius(Jt){Number.isInteger(Jt)&&(this.horizontalCornerRadius=Jt)}setVerticalCornerRadius(Jt){Number.isInteger(Jt)&&(this.verticalCornerRadius=Jt)}}Et.AnnotationBorderStyle=bn;class Wt extends tn{constructor(Jt){super(Jt);const{dict:ln}=Jt;if(ln.has("IRT")){const wn=ln.getRaw("IRT");this.data.inReplyTo=wn instanceof _e.Ref?wn.toString():null;const Cn=ln.get("RT");this.data.replyType=Cn instanceof _e.Name?Cn.name:wt.AnnotationReplyType.REPLY}let pn=null;if(this.data.replyType===wt.AnnotationReplyType.GROUP){const wn=ln.get("IRT");this.setTitle(wn.get("T")),this.data.titleObj=this._title,this.setContents(wn.get("Contents")),this.data.contentsObj=this._contents,wn.has("CreationDate")?(this.setCreationDate(wn.get("CreationDate")),this.data.creationDate=this.creationDate):this.data.creationDate=null,wn.has("M")?(this.setModificationDate(wn.get("M")),this.data.modificationDate=this.modificationDate):this.data.modificationDate=null,pn=wn.getRaw("Popup"),wn.has("C")?(this.setColor(wn.getArray("C")),this.data.color=this.color):this.data.color=null}else this.data.titleObj=this._title,this.setCreationDate(ln.get("CreationDate")),this.data.creationDate=this.creationDate,pn=ln.getRaw("Popup"),ln.has("C")||(this.data.color=null);this.data.popupRef=pn instanceof _e.Ref?pn.toString():null,ln.has("RC")&&(this.data.richText=Bt.XFAFactory.getRichTextAsHtml(ln.get("RC")))}setCreationDate(Jt){this.creationDate=typeof Jt=="string"?Jt:null}_setDefaultAppearance({xref:Jt,extra:ln,strokeColor:pn,fillColor:wn,blendMode:Cn,strokeAlpha:Fn,fillAlpha:En,pointsCallback:An}){let Tn=Number.MAX_VALUE,In=Number.MAX_VALUE,Rn=Number.MIN_VALUE,Dn=Number.MIN_VALUE;const Ln=["q"];ln&&Ln.push(ln),pn&&Ln.push(`${pn[0]} ${pn[1]} ${pn[2]} RG`),wn&&Ln.push(`${wn[0]} ${wn[1]} ${wn[2]} rg`);let Un=this.data.quadPoints;Un||(Un=[[{x:this.rectangle[0],y:this.rectangle[3]},{x:this.rectangle[2],y:this.rectangle[3]},{x:this.rectangle[0],y:this.rectangle[1]},{x:this.rectangle[2],y:this.rectangle[1]}]]);for(const Bn of Un){const[Hn,Wn,cr,sr]=An(Ln,Bn);Tn=Math.min(Tn,Hn),Rn=Math.max(Rn,Wn),In=Math.min(In,cr),Dn=Math.max(Dn,sr)}Ln.push("Q");const tr=new _e.Dict(Jt),er=new _e.Dict(Jt);er.set("Subtype",_e.Name.get("Form"));const Qn=new bt.StringStream(Ln.join(" "));Qn.dict=er,tr.set("Fm0",Qn);const Yn=new _e.Dict(Jt);Cn&&Yn.set("BM",_e.Name.get(Cn)),typeof Fn=="number"&&Yn.set("CA",Fn),typeof En=="number"&&Yn.set("ca",En);const Xn=new _e.Dict(Jt);Xn.set("GS0",Yn);const nr=new _e.Dict(Jt);nr.set("ExtGState",Xn),nr.set("XObject",tr);const lr=new _e.Dict(Jt);lr.set("Resources",nr);const dr=this.data.rect=[Tn,In,Rn,Dn];lr.set("BBox",dr),this.appearance=new bt.StringStream("/GS0 gs /Fm0 Do"),this.appearance.dict=lr,this._streams.push(this.appearance,Qn)}static async createNewAnnotation(Jt,ln,pn,wn){const Cn=ln.ref||(ln.ref=Jt.getNewTemporaryRef()),Fn=await this.createNewAppearanceStream(ln,Jt,wn),En=[];let An;if(Fn){const Tn=Jt.getNewTemporaryRef();An=this.createNewDict(ln,Jt,{apRef:Tn}),await(0,qt.writeObject)(Tn,Fn,En,Jt),pn.push({ref:Tn,data:En.join("")})}else An=this.createNewDict(ln,Jt,{});return Number.isInteger(ln.parentTreeId)&&An.set("StructParent",ln.parentTreeId),En.length=0,await(0,qt.writeObject)(Cn,An,En,Jt),{ref:Cn,data:En.join("")}}static async createNewPrintAnnotation(Jt,ln,pn,wn){const Cn=await this.createNewAppearanceStream(pn,ln,wn),Fn=this.createNewDict(pn,ln,{ap:Cn}),En=new this.prototype.constructor({dict:Fn,xref:ln,annotationGlobals:Jt,evaluatorOptions:wn.evaluatorOptions});return pn.ref&&(En.ref=En.refToReplace=pn.ref),En}}Et.MarkupAnnotation=Wt;class Yt extends tn{constructor(Jt){var Dn;super(Jt);const{dict:ln,xref:pn,annotationGlobals:wn}=Jt,Cn=this.data;this._needAppearances=Jt.needAppearances,Cn.annotationType=wt.AnnotationType.WIDGET,Cn.fieldName===void 0&&(Cn.fieldName=this._constructFieldName(ln)),Cn.actions===void 0&&(Cn.actions=(0,_t.collectActions)(pn,ln,wt.AnnotationActionEventType));let Fn=(0,_t.getInheritableProperty)({dict:ln,key:"V",getArray:!0});Cn.fieldValue=this._decodeFormValue(Fn);const En=(0,_t.getInheritableProperty)({dict:ln,key:"DV",getArray:!0});if(Cn.defaultFieldValue=this._decodeFormValue(En),Fn===void 0&&wn.xfaDatasets){const Ln=this._title.str;Ln&&(this._hasValueFromXFA=!0,Cn.fieldValue=Fn=wn.xfaDatasets.getValue(Ln))}Fn===void 0&&Cn.defaultFieldValue!==null&&(Cn.fieldValue=Cn.defaultFieldValue),Cn.alternativeText=(0,wt.stringToPDFString)(ln.get("TU")||""),this.setDefaultAppearance(Jt),Cn.hasAppearance||(Cn.hasAppearance=this._needAppearances&&Cn.fieldValue!==void 0&&Cn.fieldValue!==null);const An=(0,_t.getInheritableProperty)({dict:ln,key:"FT"});Cn.fieldType=An instanceof _e.Name?An.name:null;const Tn=(0,_t.getInheritableProperty)({dict:ln,key:"DR"}),In=wn.acroForm.get("DR"),Rn=(Dn=this.appearance)==null?void 0:Dn.dict.get("Resources");this._fieldResources={localResources:Tn,acroFormResources:In,appearanceResources:Rn,mergedResources:_e.Dict.merge({xref:pn,dictArray:[Tn,Rn,In],mergeSubDicts:!0})},Cn.fieldFlags=(0,_t.getInheritableProperty)({dict:ln,key:"Ff"}),(!Number.isInteger(Cn.fieldFlags)||Cn.fieldFlags<0)&&(Cn.fieldFlags=0),Cn.readOnly=this.hasFieldFlag(wt.AnnotationFieldFlag.READONLY),Cn.required=this.hasFieldFlag(wt.AnnotationFieldFlag.REQUIRED),Cn.hidden=this._hasFlag(Cn.annotationFlags,wt.AnnotationFlag.HIDDEN)||this._hasFlag(Cn.annotationFlags,wt.AnnotationFlag.NOVIEW)}_decodeFormValue(Jt){return Array.isArray(Jt)?Jt.filter(ln=>typeof ln=="string").map(ln=>(0,wt.stringToPDFString)(ln)):Jt instanceof _e.Name?(0,wt.stringToPDFString)(Jt.name):typeof Jt=="string"?(0,wt.stringToPDFString)(Jt):null}hasFieldFlag(Jt){return!!(this.data.fieldFlags&Jt)}_isViewable(Jt){return!this._hasFlag(Jt,wt.AnnotationFlag.INVISIBLE)}mustBeViewed(Jt,ln){return ln?this.viewable:super.mustBeViewed(Jt,ln)&&!this._hasFlag(this.flags,wt.AnnotationFlag.NOVIEW)}getRotationMatrix(Jt){var Cn;let ln=(Cn=Jt==null?void 0:Jt.get(this.data.id))==null?void 0:Cn.rotation;if(ln===void 0&&(ln=this.rotation),ln===0)return wt.IDENTITY_MATRIX;const pn=this.data.rect[2]-this.data.rect[0],wn=this.data.rect[3]-this.data.rect[1];return(0,_t.getRotationMatrix)(ln,pn,wn)}getBorderAndBackgroundAppearances(Jt){var En;let ln=(En=Jt==null?void 0:Jt.get(this.data.id))==null?void 0:En.rotation;if(ln===void 0&&(ln=this.rotation),!this.backgroundColor&&!this.borderColor)return"";const pn=this.data.rect[2]-this.data.rect[0],wn=this.data.rect[3]-this.data.rect[1],Cn=ln===0||ln===180?`0 0 ${pn} ${wn} re`:`0 0 ${wn} ${pn} re`;let Fn="";if(this.backgroundColor&&(Fn=`${(0,Rt.getPdfColor)(this.backgroundColor,!0)} ${Cn} f `),this.borderColor){const An=this.borderStyle.width||1;Fn+=`${An} w ${(0,Rt.getPdfColor)(this.borderColor,!1)} ${Cn} S `}return Fn}async getOperatorList(Jt,ln,pn,wn,Cn){if(wn&&!(this instanceof Ht)&&!this.data.noHTML&&!this.data.hasOwnCanvas)return{opList:new kt.OperatorList,separateForm:!0,separateCanvas:!1};if(!this._hasText)return super.getOperatorList(Jt,ln,pn,wn,Cn);const Fn=await this._getAppearance(Jt,ln,pn,Cn);if(this.appearance&&Fn===null)return super.getOperatorList(Jt,ln,pn,wn,Cn);const En=new kt.OperatorList;if(!this._defaultAppearance||Fn===null)return{opList:En,separateForm:!1,separateCanvas:!1};const An=!!(this.data.hasOwnCanvas&&pn&wt.RenderingIntentFlag.DISPLAY),Tn=[1,0,0,1,0,0],In=[0,0,this.data.rect[2]-this.data.rect[0],this.data.rect[3]-this.data.rect[1]],Rn=gn(this.data.rect,In,Tn);let Dn;this.oc&&(Dn=await Jt.parseMarkedContentProps(this.oc,null)),Dn!==void 0&&En.addOp(wt.OPS.beginMarkedContentProps,["OC",Dn]),En.addOp(wt.OPS.beginAnnotation,[this.data.id,this.data.rect,Rn,this.getRotationMatrix(Cn),An]);const Ln=new bt.StringStream(Fn);return await Jt.getOperatorList({stream:Ln,task:ln,resources:this._fieldResources.mergedResources,operatorList:En}),En.addOp(wt.OPS.endAnnotation,[]),Dn!==void 0&&En.addOp(wt.OPS.endMarkedContent,[]),{opList:En,separateForm:!1,separateCanvas:An}}_getMKDict(Jt){const ln=new _e.Dict(null);return Jt&&ln.set("R",Jt),this.borderColor&&ln.set("BC",dn(this.borderColor)),this.backgroundColor&&ln.set("BG",dn(this.backgroundColor)),ln.size>0?ln:null}amendSavedDict(Jt,ln){}async save(Jt,ln,pn){const wn=pn==null?void 0:pn.get(this.data.id);let Cn=wn==null?void 0:wn.value,Fn=wn==null?void 0:wn.rotation;if(Cn===this.data.fieldValue||Cn===void 0){if(!this._hasValueFromXFA&&Fn===void 0)return null;Cn||(Cn=this.data.fieldValue)}if(Fn===void 0&&!this._hasValueFromXFA&&Array.isArray(Cn)&&Array.isArray(this.data.fieldValue)&&Cn.length===this.data.fieldValue.length&&Cn.every((Qn,Yn)=>Qn===this.data.fieldValue[Yn]))return null;Fn===void 0&&(Fn=this.rotation);let En=null;if(!this._needAppearances&&(En=await this._getAppearance(Jt,ln,wt.RenderingIntentFlag.SAVE,pn),En===null))return null;let An=!1;En!=null&&En.needAppearances&&(An=!0,En=null);const{xref:Tn}=Jt,In=Tn.fetchIfRef(this.ref);if(!(In instanceof _e.Dict))return null;const Rn=new _e.Dict(Tn);for(const Qn of In.getKeys())Qn!=="AP"&&Rn.set(Qn,In.getRaw(Qn));const Dn={path:this.data.fieldName,value:Cn},Ln=Qn=>(0,_t.isAscii)(Qn)?Qn:(0,_t.stringToUTF16String)(Qn,!0);Rn.set("V",Array.isArray(Cn)?Cn.map(Ln):Ln(Cn)),this.amendSavedDict(pn,Rn);const Un=this._getMKDict(Fn);Un&&Rn.set("MK",Un);const tr=[],er=[{ref:this.ref,data:"",xfa:Dn,needAppearances:An}];if(En!==null){const Qn=Tn.getNewTemporaryRef(),Yn=new _e.Dict(Tn);Rn.set("AP",Yn),Yn.set("N",Qn);const Xn=this._getSaveFieldResources(Tn),nr=new bt.StringStream(En),lr=nr.dict=new _e.Dict(Tn);lr.set("Subtype",_e.Name.get("Form")),lr.set("Resources",Xn),lr.set("BBox",[0,0,this.data.rect[2]-this.data.rect[0],this.data.rect[3]-this.data.rect[1]]);const dr=this.getRotationMatrix(pn);dr!==wt.IDENTITY_MATRIX&&lr.set("Matrix",dr),await(0,qt.writeObject)(Qn,nr,tr,Tn),er.push({ref:Qn,data:tr.join(""),xfa:null,needAppearances:!1}),tr.length=0}return Rn.set("M",`D:${(0,wt.getModificationDate)()}`),await(0,qt.writeObject)(this.ref,Rn,tr,Tn),er[0].data=tr.join(""),er}async _getAppearance(Jt,ln,pn,wn){if(this.hasFieldFlag(wt.AnnotationFieldFlag.PASSWORD))return null;const Fn=wn==null?void 0:wn.get(this.data.id);let En,An;if(Fn&&(En=Fn.formattedValue||Fn.value,An=Fn.rotation),An===void 0&&En===void 0&&!this._needAppearances&&(!this._hasValueFromXFA||this.appearance))return null;const Tn=this.getBorderAndBackgroundAppearances(wn);if(En===void 0&&(En=this.data.fieldValue,!En))return`/Tx BMC q ${Tn}Q EMC`;if(Array.isArray(En)&&En.length===1&&(En=En[0]),(0,wt.assert)(typeof En=="string","Expected `value` to be a string."),En=En.trim(),this.data.combo){const xr=this.data.options.find(({exportValue:Jn})=>En===Jn);En=(xr==null?void 0:xr.displayValue)||En}if(En==="")return`/Tx BMC q ${Tn}Q EMC`;An===void 0&&(An=this.rotation);let In=-1,Rn;this.data.multiLine?(Rn=En.split(/\r\n?|\n/).map(xr=>xr.normalize("NFC")),In=Rn.length):Rn=[En.replace(/\r\n?|\n/,"").normalize("NFC")];const Dn=1,Ln=2;let Un=this.data.rect[3]-this.data.rect[1],tr=this.data.rect[2]-this.data.rect[0];(An===90||An===270)&&([tr,Un]=[Un,tr]),this._defaultAppearance||(this.data.defaultAppearanceData=(0,Rt.parseDefaultAppearance)(this._defaultAppearance="/Helvetica 0 Tf 0 g"));let er=await Yt._getFontData(Jt,ln,this.data.defaultAppearanceData,this._fieldResources.mergedResources),Qn,Yn,Xn;const nr=[];let lr=!1;for(const xr of Rn){const Jn=er.encodeString(xr);Jn.length>1&&(lr=!0),nr.push(Jn.join(""))}if(lr&&pn&wt.RenderingIntentFlag.SAVE)return{needAppearances:!0};if(lr&&this._isOffscreenCanvasSupported){const xr=this.data.comb?"monospace":"sans-serif",Jn=new Rt.FakeUnicodeFont(Jt.xref,xr),Vn=Jn.createFontResources(Rn.join("")),Zn=Vn.getRaw("Font");if(this._fieldResources.mergedResources.has("Font")){const or=this._fieldResources.mergedResources.get("Font");for(const pr of Zn.getKeys())or.set(pr,Zn.getRaw(pr))}else this._fieldResources.mergedResources.set("Font",Zn);const ur=Jn.fontName.name;er=await Yt._getFontData(Jt,ln,{fontName:ur,fontSize:0},Vn);for(let or=0,pr=nr.length;or<pr;or++)nr[or]=(0,_t.stringToUTF16String)(Rn[or]);const hr=Object.assign(Object.create(null),this.data.defaultAppearanceData);this.data.defaultAppearanceData.fontSize=0,this.data.defaultAppearanceData.fontName=ur,[Qn,Yn,Xn]=this._computeFontSize(Un-2*Dn,tr-2*Ln,En,er,In),this.data.defaultAppearanceData=hr}else this._isOffscreenCanvasSupported||(0,wt.warn)("_getAppearance: OffscreenCanvas is not supported, annotation may not render correctly."),[Qn,Yn,Xn]=this._computeFontSize(Un-2*Dn,tr-2*Ln,En,er,In);let dr=er.descent;isNaN(dr)?dr=wt.BASELINE_FACTOR*Xn:dr=Math.max(wt.BASELINE_FACTOR*Xn,Math.abs(dr)*Yn);const Bn=Math.min(Math.floor((Un-Yn)/2),Dn),Hn=this.data.textAlignment;if(this.data.multiLine)return this._getMultilineAppearance(Qn,nr,er,Yn,tr,Un,Hn,Ln,Bn,dr,Xn,wn);if(this.data.comb)return this._getCombAppearance(Qn,er,nr[0],Yn,tr,Un,Ln,Bn,dr,Xn,wn);const Wn=Bn+dr;if(Hn===0||Hn>2)return`/Tx BMC q ${Tn}BT `+Qn+` 1 0 0 1 ${(0,_t.numberToString)(Ln)} ${(0,_t.numberToString)(Wn)} Tm (${(0,_t.escapeString)(nr[0])}) Tj ET Q EMC`;const cr={shift:0},sr=this._renderText(nr[0],er,Yn,tr,Hn,cr,Ln,Wn);return`/Tx BMC q ${Tn}BT `+Qn+` 1 0 0 1 0 0 Tm ${sr} ET Q EMC`}static async _getFontData(Jt,ln,pn,wn){const Cn=new kt.OperatorList,Fn={font:null,clone(){return this}},{fontName:En,fontSize:An}=pn;return await Jt.handleSetFont(wn,[En&&_e.Name.get(En),An],null,Cn,ln,Fn,null),Fn.font}_getTextWidth(Jt,ln){return ln.charsToGlyphs(Jt).reduce((pn,wn)=>pn+wn.width,0)/1e3}_computeFontSize(Jt,ln,pn,wn,Cn){let{fontSize:Fn}=this.data.defaultAppearanceData,En=(Fn||12)*wt.LINE_FACTOR,An=Math.round(Jt/En);if(!Fn){const Tn=Dn=>Math.floor(Dn*100)/100;if(Cn===-1){const Dn=this._getTextWidth(pn,wn);Fn=Tn(Math.min(Jt/wt.LINE_FACTOR,Dn>ln?ln/Dn:1/0)),An=1}else{const Dn=pn.split(/\r\n?|\n/),Ln=[];for(const tr of Dn){const er=wn.encodeString(tr).join(""),Qn=wn.charsToGlyphs(er),Yn=wn.getCharPositions(er);Ln.push({line:er,glyphs:Qn,positions:Yn})}const Un=tr=>{let er=0;for(const Qn of Ln){const Yn=this._splitLine(null,wn,tr,ln,Qn);if(er+=Yn.length*tr,er>Jt)return!0}return!1};for(An=Math.max(An,Cn);;){if(En=Jt/An,Fn=Tn(En/wt.LINE_FACTOR),Un(Fn)){An++;continue}break}}const{fontName:In,fontColor:Rn}=this.data.defaultAppearanceData;this._defaultAppearance=(0,Rt.createDefaultAppearance)({fontSize:Fn,fontName:In,fontColor:Rn})}return[this._defaultAppearance,Fn,Jt/An]}_renderText(Jt,ln,pn,wn,Cn,Fn,En,An){let Tn;if(Cn===1){const Rn=this._getTextWidth(Jt,ln)*pn;Tn=(wn-Rn)/2}else if(Cn===2){const Rn=this._getTextWidth(Jt,ln)*pn;Tn=wn-Rn-En}else Tn=En;const In=(0,_t.numberToString)(Tn-Fn.shift);return Fn.shift=Tn,An=(0,_t.numberToString)(An),`${In} ${An} Td (${(0,_t.escapeString)(Jt)}) Tj`}_getSaveFieldResources(Jt){var Fn;const{localResources:ln,appearanceResources:pn,acroFormResources:wn}=this._fieldResources,Cn=(Fn=this.data.defaultAppearanceData)==null?void 0:Fn.fontName;if(!Cn)return ln||_e.Dict.empty;for(const En of[ln,pn])if(En instanceof _e.Dict){const An=En.get("Font");if(An instanceof _e.Dict&&An.has(Cn))return En}if(wn instanceof _e.Dict){const En=wn.get("Font");if(En instanceof _e.Dict&&En.has(Cn)){const An=new _e.Dict(Jt);An.set(Cn,En.getRaw(Cn));const Tn=new _e.Dict(Jt);return Tn.set("Font",An),_e.Dict.merge({xref:Jt,dictArray:[Tn,ln],mergeSubDicts:!0})}}return ln||_e.Dict.empty}getFieldObject(){return null}}class un extends Yt{constructor(Jt){super(Jt),this.data.hasOwnCanvas=this.data.readOnly&&!this.data.noHTML,this._hasText=!0;const ln=Jt.dict;typeof this.data.fieldValue!="string"&&(this.data.fieldValue="");let pn=(0,_t.getInheritableProperty)({dict:ln,key:"Q"});(!Number.isInteger(pn)||pn<0||pn>2)&&(pn=null),this.data.textAlignment=pn;let wn=(0,_t.getInheritableProperty)({dict:ln,key:"MaxLen"});(!Number.isInteger(wn)||wn<0)&&(wn=0),this.data.maxLen=wn,this.data.multiLine=this.hasFieldFlag(wt.AnnotationFieldFlag.MULTILINE),this.data.comb=this.hasFieldFlag(wt.AnnotationFieldFlag.COMB)&&!this.hasFieldFlag(wt.AnnotationFieldFlag.MULTILINE)&&!this.hasFieldFlag(wt.AnnotationFieldFlag.PASSWORD)&&!this.hasFieldFlag(wt.AnnotationFieldFlag.FILESELECT)&&this.data.maxLen!==0,this.data.doNotScroll=this.hasFieldFlag(wt.AnnotationFieldFlag.DONOTSCROLL)}get hasTextContent(){return!!this.appearance&&!this._needAppearances}_getCombAppearance(Jt,ln,pn,wn,Cn,Fn,En,An,Tn,In,Rn){const Dn=Cn/this.data.maxLen,Ln=this.getBorderAndBackgroundAppearances(Rn),Un=[],tr=ln.getCharPositions(pn);for(const[Qn,Yn]of tr)Un.push(`(${(0,_t.escapeString)(pn.substring(Qn,Yn))}) Tj`);const er=Un.join(` ${(0,_t.numberToString)(Dn)} 0 Td `);return`/Tx BMC q ${Ln}BT `+Jt+` 1 0 0 1 ${(0,_t.numberToString)(En)} ${(0,_t.numberToString)(An+Tn)} Tm ${er} ET Q EMC`}_getMultilineAppearance(Jt,ln,pn,wn,Cn,Fn,En,An,Tn,In,Rn,Dn){const Ln=[],Un=Cn-2*An,tr={shift:0};for(let Yn=0,Xn=ln.length;Yn<Xn;Yn++){const nr=ln[Yn],lr=this._splitLine(nr,pn,wn,Un);for(let dr=0,Bn=lr.length;dr<Bn;dr++){const Hn=lr[dr],Wn=Yn===0&&dr===0?-Tn-(Rn-In):-Rn;Ln.push(this._renderText(Hn,pn,wn,Cn,En,tr,An,Wn))}}const er=this.getBorderAndBackgroundAppearances(Dn),Qn=Ln.join(`
`);return`/Tx BMC q ${er}BT `+Jt+` 1 0 0 1 0 ${(0,_t.numberToString)(Fn)} Tm ${Qn} ET Q EMC`}_splitLine(Jt,ln,pn,wn,Cn={}){Jt=Cn.line||Jt;const Fn=Cn.glyphs||ln.charsToGlyphs(Jt);if(Fn.length<=1)return[Jt];const En=Cn.positions||ln.getCharPositions(Jt),An=pn/1e3,Tn=[];let In=-1,Rn=-1,Dn=-1,Ln=0,Un=0;for(let tr=0,er=Fn.length;tr<er;tr++){const[Qn,Yn]=En[tr],Xn=Fn[tr],nr=Xn.width*An;Xn.unicode===" "?Un+nr>wn?(Tn.push(Jt.substring(Ln,Qn)),Ln=Qn,Un=nr,In=-1,Dn=-1):(Un+=nr,In=Qn,Rn=Yn,Dn=tr):Un+nr>wn?In!==-1?(Tn.push(Jt.substring(Ln,Rn)),Ln=Rn,tr=Dn+1,In=-1,Un=0):(Tn.push(Jt.substring(Ln,Qn)),Ln=Qn,Un=nr):Un+=nr}return Ln<Jt.length&&Tn.push(Jt.substring(Ln,Jt.length)),Tn}getFieldObject(){return{id:this.data.id,value:this.data.fieldValue,defaultValue:this.data.defaultFieldValue||"",multiline:this.data.multiLine,password:this.hasFieldFlag(wt.AnnotationFieldFlag.PASSWORD),charLimit:this.data.maxLen,comb:this.data.comb,editable:!this.data.readOnly,hidden:this.data.hidden,name:this.data.fieldName,rect:this.data.rect,actions:this.data.actions,page:this.data.pageIndex,strokeColor:this.data.borderColor,fillColor:this.data.backgroundColor,rotation:this.rotation,type:"text"}}}class Ut extends Yt{constructor(Jt){super(Jt),this.checkedAppearance=null,this.uncheckedAppearance=null,this.data.checkBox=!this.hasFieldFlag(wt.AnnotationFieldFlag.RADIO)&&!this.hasFieldFlag(wt.AnnotationFieldFlag.PUSHBUTTON),this.data.radioButton=this.hasFieldFlag(wt.AnnotationFieldFlag.RADIO)&&!this.hasFieldFlag(wt.AnnotationFieldFlag.PUSHBUTTON),this.data.pushButton=this.hasFieldFlag(wt.AnnotationFieldFlag.PUSHBUTTON),this.data.isTooltipOnly=!1,this.data.checkBox?this._processCheckBox(Jt):this.data.radioButton?this._processRadioButton(Jt):this.data.pushButton?(this.data.hasOwnCanvas=!0,this._processPushButton(Jt)):(0,wt.warn)("Invalid field flags for button widget annotation")}async getOperatorList(Jt,ln,pn,wn,Cn){if(this.data.pushButton)return super.getOperatorList(Jt,ln,pn,!1,Cn);let Fn=null,En=null;if(Cn){const Tn=Cn.get(this.data.id);Fn=Tn?Tn.value:null,En=Tn?Tn.rotation:null}if(Fn===null&&this.appearance)return super.getOperatorList(Jt,ln,pn,wn,Cn);Fn==null&&(Fn=this.data.checkBox?this.data.fieldValue===this.data.exportValue:this.data.fieldValue===this.data.buttonValue);const An=Fn?this.checkedAppearance:this.uncheckedAppearance;if(An){const Tn=this.appearance,In=An.dict.getArray("Matrix")||wt.IDENTITY_MATRIX;En&&An.dict.set("Matrix",this.getRotationMatrix(Cn)),this.appearance=An;const Rn=super.getOperatorList(Jt,ln,pn,wn,Cn);return this.appearance=Tn,An.dict.set("Matrix",In),Rn}return{opList:new kt.OperatorList,separateForm:!1,separateCanvas:!1}}async save(Jt,ln,pn){return this.data.checkBox?this._saveCheckbox(Jt,ln,pn):this.data.radioButton?this._saveRadioButton(Jt,ln,pn):null}async _saveCheckbox(Jt,ln,pn){if(!pn)return null;const wn=pn.get(this.data.id);let Cn=wn==null?void 0:wn.rotation,Fn=wn==null?void 0:wn.value;if(Cn===void 0&&(Fn===void 0||this.data.fieldValue===this.data.exportValue===Fn))return null;const En=Jt.xref.fetchIfRef(this.ref);if(!(En instanceof _e.Dict))return null;Cn===void 0&&(Cn=this.rotation),Fn===void 0&&(Fn=this.data.fieldValue===this.data.exportValue);const An={path:this.data.fieldName,value:Fn?this.data.exportValue:""},Tn=_e.Name.get(Fn?this.data.exportValue:"Off");En.set("V",Tn),En.set("AS",Tn),En.set("M",`D:${(0,wt.getModificationDate)()}`);const In=this._getMKDict(Cn);In&&En.set("MK",In);const Rn=[];return await(0,qt.writeObject)(this.ref,En,Rn,Jt.xref),[{ref:this.ref,data:Rn.join(""),xfa:An}]}async _saveRadioButton(Jt,ln,pn){if(!pn)return null;const wn=pn.get(this.data.id);let Cn=wn==null?void 0:wn.rotation,Fn=wn==null?void 0:wn.value;if(Cn===void 0&&(Fn===void 0||this.data.fieldValue===this.data.buttonValue===Fn))return null;const En=Jt.xref.fetchIfRef(this.ref);if(!(En instanceof _e.Dict))return null;Fn===void 0&&(Fn=this.data.fieldValue===this.data.buttonValue),Cn===void 0&&(Cn=this.rotation);const An={path:this.data.fieldName,value:Fn?this.data.buttonValue:""},Tn=_e.Name.get(Fn?this.data.buttonValue:"Off"),In=[];let Rn=null;if(Fn)if(this.parent instanceof _e.Ref){const Un=Jt.xref.fetch(this.parent);Un.set("V",Tn),await(0,qt.writeObject)(this.parent,Un,In,Jt.xref),Rn=In.join(""),In.length=0}else this.parent instanceof _e.Dict&&this.parent.set("V",Tn);En.set("AS",Tn),En.set("M",`D:${(0,wt.getModificationDate)()}`);const Dn=this._getMKDict(Cn);Dn&&En.set("MK",Dn),await(0,qt.writeObject)(this.ref,En,In,Jt.xref);const Ln=[{ref:this.ref,data:In.join(""),xfa:An}];return Rn&&Ln.push({ref:this.parent,data:Rn,xfa:null}),Ln}_getDefaultCheckedAppearance(Jt,ln){const pn=this.data.rect[2]-this.data.rect[0],wn=this.data.rect[3]-this.data.rect[1],Cn=[0,0,pn,wn],En=Math.min(pn,wn)*.8;let An,Tn;ln==="check"?(An={width:.755*En,height:.705*En},Tn="3"):ln==="disc"?(An={width:.791*En,height:.705*En},Tn="l"):(0,wt.unreachable)(`_getDefaultCheckedAppearance - unsupported type: ${ln}`);const In=(0,_t.numberToString)((pn-An.width)/2),Rn=(0,_t.numberToString)((wn-An.height)/2),Dn=`q BT /PdfJsZaDb ${En} Tf 0 g ${In} ${Rn} Td (${Tn}) Tj ET Q`,Ln=new _e.Dict(Jt.xref);Ln.set("FormType",1),Ln.set("Subtype",_e.Name.get("Form")),Ln.set("Type",_e.Name.get("XObject")),Ln.set("BBox",Cn),Ln.set("Matrix",[1,0,0,1,0,0]),Ln.set("Length",Dn.length);const Un=new _e.Dict(Jt.xref),tr=new _e.Dict(Jt.xref);tr.set("PdfJsZaDb",this.fallbackFontDict),Un.set("Font",tr),Ln.set("Resources",Un),this.checkedAppearance=new bt.StringStream(Dn),this.checkedAppearance.dict=Ln,this._streams.push(this.checkedAppearance)}_processCheckBox(Jt){const ln=Jt.dict.get("AP");if(!(ln instanceof _e.Dict))return;const pn=ln.get("N");if(!(pn instanceof _e.Dict))return;const wn=this._decodeFormValue(Jt.dict.get("AS"));typeof wn=="string"&&(this.data.fieldValue=wn);const Cn=this.data.fieldValue!==null&&this.data.fieldValue!=="Off"?this.data.fieldValue:"Yes",Fn=pn.getKeys();if(Fn.length===0)Fn.push("Off",Cn);else if(Fn.length===1)Fn[0]==="Off"?Fn.push(Cn):Fn.unshift("Off");else if(Fn.includes(Cn))Fn.length=0,Fn.push("Off",Cn);else{const Tn=Fn.find(In=>In!=="Off");Fn.length=0,Fn.push("Off",Tn)}Fn.includes(this.data.fieldValue)||(this.data.fieldValue="Off"),this.data.exportValue=Fn[1];const En=pn.get(this.data.exportValue);this.checkedAppearance=En instanceof Pt.BaseStream?En:null;const An=pn.get("Off");this.uncheckedAppearance=An instanceof Pt.BaseStream?An:null,this.checkedAppearance?this._streams.push(this.checkedAppearance):this._getDefaultCheckedAppearance(Jt,"check"),this.uncheckedAppearance&&this._streams.push(this.uncheckedAppearance),this._fallbackFontDict=this.fallbackFontDict,this.data.defaultFieldValue===null&&(this.data.defaultFieldValue="Off")}_processRadioButton(Jt){this.data.fieldValue=this.data.buttonValue=null;const ln=Jt.dict.get("Parent");if(ln instanceof _e.Dict){this.parent=Jt.dict.getRaw("Parent");const En=ln.get("V");En instanceof _e.Name&&(this.data.fieldValue=this._decodeFormValue(En))}const pn=Jt.dict.get("AP");if(!(pn instanceof _e.Dict))return;const wn=pn.get("N");if(!(wn instanceof _e.Dict))return;for(const En of wn.getKeys())if(En!=="Off"){this.data.buttonValue=this._decodeFormValue(En);break}const Cn=wn.get(this.data.buttonValue);this.checkedAppearance=Cn instanceof Pt.BaseStream?Cn:null;const Fn=wn.get("Off");this.uncheckedAppearance=Fn instanceof Pt.BaseStream?Fn:null,this.checkedAppearance?this._streams.push(this.checkedAppearance):this._getDefaultCheckedAppearance(Jt,"disc"),this.uncheckedAppearance&&this._streams.push(this.uncheckedAppearance),this._fallbackFontDict=this.fallbackFontDict,this.data.defaultFieldValue===null&&(this.data.defaultFieldValue="Off")}_processPushButton(Jt){const{dict:ln,annotationGlobals:pn}=Jt;if(!ln.has("A")&&!ln.has("AA")&&!this.data.alternativeText){(0,wt.warn)("Push buttons without action dictionaries are not supported");return}this.data.isTooltipOnly=!ln.has("A")&&!ln.has("AA"),Kt.Catalog.parseDestDictionary({destDict:ln,resultObj:this.data,docBaseUrl:pn.baseUrl,docAttachments:pn.attachments})}getFieldObject(){let Jt="button",ln;return this.data.checkBox?(Jt="checkbox",ln=this.data.exportValue):this.data.radioButton&&(Jt="radiobutton",ln=this.data.buttonValue),{id:this.data.id,value:this.data.fieldValue||"Off",defaultValue:this.data.defaultFieldValue,exportValues:ln,editable:!this.data.readOnly,name:this.data.fieldName,rect:this.data.rect,hidden:this.data.hidden,actions:this.data.actions,page:this.data.pageIndex,strokeColor:this.data.borderColor,fillColor:this.data.backgroundColor,rotation:this.rotation,type:Jt}}get fallbackFontDict(){const Jt=new _e.Dict;return Jt.set("BaseFont",_e.Name.get("ZapfDingbats")),Jt.set("Type",_e.Name.get("FallbackType")),Jt.set("Subtype",_e.Name.get("FallbackType")),Jt.set("Encoding",_e.Name.get("ZapfDingbatsEncoding")),(0,wt.shadow)(this,"fallbackFontDict",Jt)}}class Ot extends Yt{constructor(Jt){super(Jt);const{dict:ln,xref:pn}=Jt;this.indices=ln.getArray("I"),this.hasIndices=Array.isArray(this.indices)&&this.indices.length>0,this.data.options=[];const wn=(0,_t.getInheritableProperty)({dict:ln,key:"Opt"});if(Array.isArray(wn))for(let Cn=0,Fn=wn.length;Cn<Fn;Cn++){const En=pn.fetchIfRef(wn[Cn]),An=Array.isArray(En);this.data.options[Cn]={exportValue:this._decodeFormValue(An?pn.fetchIfRef(En[0]):En),displayValue:this._decodeFormValue(An?pn.fetchIfRef(En[1]):En)}}if(!this.hasIndices)typeof this.data.fieldValue=="string"?this.data.fieldValue=[this.data.fieldValue]:this.data.fieldValue||(this.data.fieldValue=[]);else{this.data.fieldValue=[];const Cn=this.data.options.length;for(const Fn of this.indices)Number.isInteger(Fn)&&Fn>=0&&Fn<Cn&&this.data.fieldValue.push(this.data.options[Fn].exportValue)}this.data.combo=this.hasFieldFlag(wt.AnnotationFieldFlag.COMBO),this.data.multiSelect=this.hasFieldFlag(wt.AnnotationFieldFlag.MULTISELECT),this._hasText=!0}getFieldObject(){const Jt=this.data.combo?"combobox":"listbox",ln=this.data.fieldValue.length>0?this.data.fieldValue[0]:null;return{id:this.data.id,value:ln,defaultValue:this.data.defaultFieldValue,editable:!this.data.readOnly,name:this.data.fieldName,rect:this.data.rect,numItems:this.data.fieldValue.length,multipleSelection:this.data.multiSelect,hidden:this.data.hidden,actions:this.data.actions,items:this.data.options,page:this.data.pageIndex,strokeColor:this.data.borderColor,fillColor:this.data.backgroundColor,rotation:this.rotation,type:Jt}}amendSavedDict(Jt,ln){var Fn;if(!this.hasIndices)return;let pn=(Fn=Jt==null?void 0:Jt.get(this.data.id))==null?void 0:Fn.value;Array.isArray(pn)||(pn=[pn]);const wn=[],{options:Cn}=this.data;for(let En=0,An=0,Tn=Cn.length;En<Tn;En++)Cn[En].exportValue===pn[An]&&(wn.push(En),An+=1);ln.set("I",wn)}async _getAppearance(Jt,ln,pn,wn){if(this.data.combo)return super._getAppearance(Jt,ln,pn,wn);let Cn,Fn;const En=wn==null?void 0:wn.get(this.data.id);if(En&&(Fn=En.rotation,Cn=En.value),Fn===void 0&&Cn===void 0&&!this._needAppearances)return null;Cn===void 0?Cn=this.data.fieldValue:Array.isArray(Cn)||(Cn=[Cn]);const An=1,Tn=2;let In=this.data.rect[3]-this.data.rect[1],Rn=this.data.rect[2]-this.data.rect[0];(Fn===90||Fn===270)&&([Rn,In]=[In,Rn]);const Dn=this.data.options.length,Ln=[];for(let Hn=0;Hn<Dn;Hn++){const{exportValue:Wn}=this.data.options[Hn];Cn.includes(Wn)&&Ln.push(Hn)}this._defaultAppearance||(this.data.defaultAppearanceData=(0,Rt.parseDefaultAppearance)(this._defaultAppearance="/Helvetica 0 Tf 0 g"));const Un=await Yt._getFontData(Jt,ln,this.data.defaultAppearanceData,this._fieldResources.mergedResources);let tr,{fontSize:er}=this.data.defaultAppearanceData;if(er)tr=this._defaultAppearance;else{const Hn=(In-An)/Dn;let Wn=-1,cr;for(const{displayValue:sr}of this.data.options){const xr=this._getTextWidth(sr,Un);xr>Wn&&(Wn=xr,cr=sr)}[tr,er]=this._computeFontSize(Hn,Rn-2*Tn,cr,Un,-1)}const Qn=er*wt.LINE_FACTOR,Yn=(Qn-er)/2,Xn=Math.floor(In/Qn);let nr=0;if(Ln.length>0){const Hn=Math.min(...Ln),Wn=Math.max(...Ln);nr=Math.max(0,Wn-Xn+1),nr>Hn&&(nr=Hn)}const lr=Math.min(nr+Xn+1,Dn),dr=["/Tx BMC q",`1 1 ${Rn} ${In} re W n`];if(Ln.length){dr.push("0.600006 0.756866 0.854904 rg");for(const Hn of Ln)nr<=Hn&&Hn<lr&&dr.push(`1 ${In-(Hn-nr+1)*Qn} ${Rn} ${Qn} re f`)}dr.push("BT",tr,`1 0 0 1 0 ${In} Tm`);const Bn={shift:0};for(let Hn=nr;Hn<lr;Hn++){const{displayValue:Wn}=this.data.options[Hn],cr=Hn===nr?Yn:0;dr.push(this._renderText(Wn,Un,er,Rn,0,Bn,Tn,-Qn+cr))}return dr.push("ET Q EMC"),dr.join(`
`)}}class Ht extends Yt{constructor(Jt){super(Jt),this.data.fieldValue=null,this.data.hasOwnCanvas=this.data.noRotate}getFieldObject(){return{id:this.data.id,value:null,page:this.data.pageIndex,type:"signature"}}}class an extends Wt{constructor(Jt){super(Jt),this.data.noRotate=!0,this.data.hasOwnCanvas=this.data.noRotate;const{dict:pn}=Jt;this.data.annotationType=wt.AnnotationType.TEXT,this.data.hasAppearance?this.data.name="NoIcon":(this.data.rect[1]=this.data.rect[3]-22,this.data.rect[2]=this.data.rect[0]+22,this.data.name=pn.has("Name")?pn.get("Name").name:"Note"),pn.has("State")?(this.data.state=pn.get("State")||null,this.data.stateModel=pn.get("StateModel")||null):(this.data.state=null,this.data.stateModel=null)}}class zt extends tn{constructor(Jt){var Cn;super(Jt);const{dict:ln,annotationGlobals:pn}=Jt;this.data.annotationType=wt.AnnotationType.LINK;const wn=Qt(ln,this.rectangle);wn&&(this.data.quadPoints=wn),(Cn=this.data).borderColor||(Cn.borderColor=this.data.color),Kt.Catalog.parseDestDictionary({destDict:ln,resultObj:this.data,docBaseUrl:pn.baseUrl,docAttachments:pn.attachments})}}class Vt extends tn{constructor(Jt){super(Jt);const{dict:ln}=Jt;this.data.annotationType=wt.AnnotationType.POPUP,(this.data.rect[0]===this.data.rect[2]||this.data.rect[1]===this.data.rect[3])&&(this.data.rect=null);let pn=ln.get("Parent");if(!pn){(0,wt.warn)("Popup annotation has a missing or invalid parent annotation.");return}const wn=pn.getArray("Rect");this.data.parentRect=Array.isArray(wn)&&wn.length===4?wt.Util.normalizeRect(wn):null;const Cn=pn.get("RT");if((0,_e.isName)(Cn,wt.AnnotationReplyType.GROUP)&&(pn=pn.get("IRT")),pn.has("M")?(this.setModificationDate(pn.get("M")),this.data.modificationDate=this.modificationDate):this.data.modificationDate=null,pn.has("C")?(this.setColor(pn.getArray("C")),this.data.color=this.color):this.data.color=null,!this.viewable){const Fn=pn.get("F");this._isViewable(Fn)&&this.setFlags(Fn)}this.setTitle(pn.get("T")),this.data.titleObj=this._title,this.setContents(pn.get("Contents")),this.data.contentsObj=this._contents,pn.has("RC")&&(this.data.richText=Bt.XFAFactory.getRichTextAsHtml(pn.get("RC"))),this.data.open=!!ln.get("Open")}}Et.PopupAnnotation=Vt;class nn extends Wt{constructor(Jt){var wn;super(Jt),this.data.hasOwnCanvas=!0;const{evaluatorOptions:ln,xref:pn}=Jt;if(this.data.annotationType=wt.AnnotationType.FREETEXT,this.setDefaultAppearance(Jt),this.appearance){const{fontColor:Cn,fontSize:Fn}=(0,Rt.parseAppearanceStream)(this.appearance,ln,pn);this.data.defaultAppearanceData.fontColor=Cn,this.data.defaultAppearanceData.fontSize=Fn||10}else if(this._isOffscreenCanvasSupported){const Cn=Jt.dict.get("CA"),Fn=new Rt.FakeUnicodeFont(pn,"sans-serif");(wn=this.data.defaultAppearanceData).fontSize||(wn.fontSize=10);const{fontColor:En,fontSize:An}=this.data.defaultAppearanceData;this.appearance=Fn.createAppearance(this._contents.str,this.rectangle,this.rotation,An,En,Cn),this._streams.push(this.appearance,Rt.FakeUnicodeFont.toUnicodeStream)}else(0,wt.warn)("FreeTextAnnotation: OffscreenCanvas is not supported, annotation may not render correctly.")}get hasTextContent(){return!!this.appearance}static createNewDict(Jt,ln,{apRef:pn,ap:wn}){const{color:Cn,fontSize:Fn,rect:En,rotation:An,user:Tn,value:In}=Jt,Rn=new _e.Dict(ln);Rn.set("Type",_e.Name.get("Annot")),Rn.set("Subtype",_e.Name.get("FreeText")),Rn.set("CreationDate",`D:${(0,wt.getModificationDate)()}`),Rn.set("Rect",En);const Dn=`/Helv ${Fn} Tf ${(0,Rt.getPdfColor)(Cn,!0)}`;if(Rn.set("DA",Dn),Rn.set("Contents",(0,_t.isAscii)(In)?In:(0,_t.stringToUTF16String)(In,!0)),Rn.set("F",4),Rn.set("Border",[0,0,0]),Rn.set("Rotate",An),Tn&&Rn.set("T",(0,_t.isAscii)(Tn)?Tn:(0,_t.stringToUTF16String)(Tn,!0)),pn||wn){const Ln=new _e.Dict(ln);Rn.set("AP",Ln),pn?Ln.set("N",pn):Ln.set("N",wn)}return Rn}static async createNewAppearanceStream(Jt,ln,pn){const{baseFontRef:wn,evaluator:Cn,task:Fn}=pn,{color:En,fontSize:An,rect:Tn,rotation:In,value:Rn}=Jt,Dn=new _e.Dict(ln),Ln=new _e.Dict(ln);if(wn)Ln.set("Helv",wn);else{const Pr=new _e.Dict(ln);Pr.set("BaseFont",_e.Name.get("Helvetica")),Pr.set("Type",_e.Name.get("Font")),Pr.set("Subtype",_e.Name.get("Type1")),Pr.set("Encoding",_e.Name.get("WinAnsiEncoding")),Ln.set("Helv",Pr)}Dn.set("Font",Ln);const Un=await Yt._getFontData(Cn,Fn,{fontName:"Helv",fontSize:An},Dn),[tr,er,Qn,Yn]=Tn;let Xn=Qn-tr,nr=Yn-er;In%180!==0&&([Xn,nr]=[nr,Xn]);const lr=Rn.split(`
`),dr=An/1e3;let Bn=-1/0;const Hn=[];for(let Pr of lr){const $r=Un.encodeString(Pr);if($r.length>1)return null;Pr=$r.join(""),Hn.push(Pr);let Er=0;const _r=Un.charsToGlyphs(Pr);for(const Fr of _r)Er+=Fr.width*dr;Bn=Math.max(Bn,Er)}let Wn=1;Bn>Xn&&(Wn=Xn/Bn);let cr=1;const sr=wt.LINE_FACTOR*An,xr=(wt.LINE_FACTOR-wt.LINE_DESCENT_FACTOR)*An,Jn=sr*lr.length;Jn>nr&&(cr=nr/Jn);const Vn=Math.min(Wn,cr),Zn=An*Vn;let ur,hr,or;switch(In){case 0:or=[1,0,0,1],hr=[Tn[0],Tn[1],Xn,nr],ur=[Tn[0],Tn[3]-xr];break;case 90:or=[0,1,-1,0],hr=[Tn[1],-Tn[2],Xn,nr],ur=[Tn[1],-Tn[0]-xr];break;case 180:or=[-1,0,0,-1],hr=[-Tn[2],-Tn[3],Xn,nr],ur=[-Tn[2],-Tn[1]-xr];break;case 270:or=[0,-1,1,0],hr=[-Tn[3],Tn[0],Xn,nr],ur=[-Tn[3],Tn[2]-xr];break}const pr=["q",`${or.join(" ")} 0 0 cm`,`${hr.join(" ")} re W n`,"BT",`${(0,Rt.getPdfColor)(En,!0)}`,`0 Tc /Helv ${(0,_t.numberToString)(Zn)} Tf`];pr.push(`${ur.join(" ")} Td (${(0,_t.escapeString)(Hn[0])}) Tj`);const wr=(0,_t.numberToString)(sr);for(let Pr=1,$r=Hn.length;Pr<$r;Pr++){const Er=Hn[Pr];pr.push(`0 -${wr} Td (${(0,_t.escapeString)(Er)}) Tj`)}pr.push("ET","Q");const fr=pr.join(`
`),Ar=new _e.Dict(ln);Ar.set("FormType",1),Ar.set("Subtype",_e.Name.get("Form")),Ar.set("Type",_e.Name.get("XObject")),Ar.set("BBox",Tn),Ar.set("Resources",Dn),Ar.set("Matrix",[1,0,0,1,-Tn[0],-Tn[1]]);const Lr=new bt.StringStream(fr);return Lr.dict=Ar,Lr}}class hn extends Wt{constructor(Jt){super(Jt);const{dict:ln,xref:pn}=Jt;this.data.annotationType=wt.AnnotationType.LINE,this.data.hasOwnCanvas=this.data.noRotate;const wn=ln.getArray("L");if(this.data.lineCoordinates=wt.Util.normalizeRect(wn),this.setLineEndings(ln.getArray("LE")),this.data.lineEndings=this.lineEndings,!this.appearance){const Cn=this.color?dn(this.color):[0,0,0],Fn=ln.get("CA"),En=en(ln.getArray("IC"),null),An=En?dn(En):null,Tn=An?Fn:null,In=this.borderStyle.width||1,Rn=2*In,Dn=[this.data.lineCoordinates[0]-Rn,this.data.lineCoordinates[1]-Rn,this.data.lineCoordinates[2]+Rn,this.data.lineCoordinates[3]+Rn];wt.Util.intersect(this.rectangle,Dn)||(this.rectangle=Dn),this._setDefaultAppearance({xref:pn,extra:`${In} w`,strokeColor:Cn,fillColor:An,strokeAlpha:Fn,fillAlpha:Tn,pointsCallback:(Ln,Un)=>(Ln.push(`${wn[0]} ${wn[1]} m`,`${wn[2]} ${wn[3]} l`,"S"),[Un[0].x-In,Un[1].x+In,Un[3].y-In,Un[1].y+In])})}}}class on extends Wt{constructor(Jt){super(Jt);const{dict:ln,xref:pn}=Jt;if(this.data.annotationType=wt.AnnotationType.SQUARE,this.data.hasOwnCanvas=this.data.noRotate,!this.appearance){const wn=this.color?dn(this.color):[0,0,0],Cn=ln.get("CA"),Fn=en(ln.getArray("IC"),null),En=Fn?dn(Fn):null,An=En?Cn:null;if(this.borderStyle.width===0&&!En)return;this._setDefaultAppearance({xref:pn,extra:`${this.borderStyle.width} w`,strokeColor:wn,fillColor:En,strokeAlpha:Cn,fillAlpha:An,pointsCallback:(Tn,In)=>{const Rn=In[2].x+this.borderStyle.width/2,Dn=In[2].y+this.borderStyle.width/2,Ln=In[3].x-In[2].x-this.borderStyle.width,Un=In[1].y-In[3].y-this.borderStyle.width;return Tn.push(`${Rn} ${Dn} ${Ln} ${Un} re`),En?Tn.push("B"):Tn.push("S"),[In[0].x,In[1].x,In[3].y,In[1].y]}})}}}class cn extends Wt{constructor(Jt){super(Jt);const{dict:ln,xref:pn}=Jt;if(this.data.annotationType=wt.AnnotationType.CIRCLE,!this.appearance){const wn=this.color?dn(this.color):[0,0,0],Cn=ln.get("CA"),Fn=en(ln.getArray("IC"),null),En=Fn?dn(Fn):null,An=En?Cn:null;if(this.borderStyle.width===0&&!En)return;const Tn=4/3*Math.tan(Math.PI/(2*4));this._setDefaultAppearance({xref:pn,extra:`${this.borderStyle.width} w`,strokeColor:wn,fillColor:En,strokeAlpha:Cn,fillAlpha:An,pointsCallback:(In,Rn)=>{const Dn=Rn[0].x+this.borderStyle.width/2,Ln=Rn[0].y-this.borderStyle.width/2,Un=Rn[3].x-this.borderStyle.width/2,tr=Rn[3].y+this.borderStyle.width/2,er=Dn+(Un-Dn)/2,Qn=Ln+(tr-Ln)/2,Yn=(Un-Dn)/2*Tn,Xn=(tr-Ln)/2*Tn;return In.push(`${er} ${tr} m`,`${er+Yn} ${tr} ${Un} ${Qn+Xn} ${Un} ${Qn} c`,`${Un} ${Qn-Xn} ${er+Yn} ${Ln} ${er} ${Ln} c`,`${er-Yn} ${Ln} ${Dn} ${Qn-Xn} ${Dn} ${Qn} c`,`${Dn} ${Qn+Xn} ${er-Yn} ${tr} ${er} ${tr} c`,"h"),En?In.push("B"):In.push("S"),[Rn[0].x,Rn[1].x,Rn[3].y,Rn[1].y]}})}}}class sn extends Wt{constructor(Jt){super(Jt);const{dict:ln,xref:pn}=Jt;this.data.annotationType=wt.AnnotationType.POLYLINE,this.data.hasOwnCanvas=this.data.noRotate,this.data.vertices=[],this instanceof rn||(this.setLineEndings(ln.getArray("LE")),this.data.lineEndings=this.lineEndings);const wn=ln.getArray("Vertices");if(Array.isArray(wn)){for(let Cn=0,Fn=wn.length;Cn<Fn;Cn+=2)this.data.vertices.push({x:wn[Cn],y:wn[Cn+1]});if(!this.appearance){const Cn=this.color?dn(this.color):[0,0,0],Fn=ln.get("CA"),En=this.borderStyle.width||1,An=2*En,Tn=[1/0,1/0,-1/0,-1/0];for(const In of this.data.vertices)Tn[0]=Math.min(Tn[0],In.x-An),Tn[1]=Math.min(Tn[1],In.y-An),Tn[2]=Math.max(Tn[2],In.x+An),Tn[3]=Math.max(Tn[3],In.y+An);wt.Util.intersect(this.rectangle,Tn)||(this.rectangle=Tn),this._setDefaultAppearance({xref:pn,extra:`${En} w`,strokeColor:Cn,strokeAlpha:Fn,pointsCallback:(In,Rn)=>{const Dn=this.data.vertices;for(let Ln=0,Un=Dn.length;Ln<Un;Ln++)In.push(`${Dn[Ln].x} ${Dn[Ln].y} ${Ln===0?"m":"l"}`);return In.push("S"),[Rn[0].x,Rn[1].x,Rn[3].y,Rn[1].y]}})}}}}class rn extends sn{constructor(Jt){super(Jt),this.data.annotationType=wt.AnnotationType.POLYGON}}class xn extends Wt{constructor(Jt){super(Jt),this.data.annotationType=wt.AnnotationType.CARET}}class vn extends Wt{constructor(Jt){super(Jt),this.data.hasOwnCanvas=this.data.noRotate;const{dict:ln,xref:pn}=Jt;this.data.annotationType=wt.AnnotationType.INK,this.data.inkLists=[];const wn=ln.getArray("InkList");if(Array.isArray(wn)){for(let Cn=0,Fn=wn.length;Cn<Fn;++Cn){this.data.inkLists.push([]);for(let En=0,An=wn[Cn].length;En<An;En+=2)this.data.inkLists[Cn].push({x:pn.fetchIfRef(wn[Cn][En]),y:pn.fetchIfRef(wn[Cn][En+1])})}if(!this.appearance){const Cn=this.color?dn(this.color):[0,0,0],Fn=ln.get("CA"),En=this.borderStyle.width||1,An=2*En,Tn=[1/0,1/0,-1/0,-1/0];for(const In of this.data.inkLists)for(const Rn of In)Tn[0]=Math.min(Tn[0],Rn.x-An),Tn[1]=Math.min(Tn[1],Rn.y-An),Tn[2]=Math.max(Tn[2],Rn.x+An),Tn[3]=Math.max(Tn[3],Rn.y+An);wt.Util.intersect(this.rectangle,Tn)||(this.rectangle=Tn),this._setDefaultAppearance({xref:pn,extra:`${En} w`,strokeColor:Cn,strokeAlpha:Fn,pointsCallback:(In,Rn)=>{for(const Dn of this.data.inkLists){for(let Ln=0,Un=Dn.length;Ln<Un;Ln++)In.push(`${Dn[Ln].x} ${Dn[Ln].y} ${Ln===0?"m":"l"}`);In.push("S")}return[Rn[0].x,Rn[1].x,Rn[3].y,Rn[1].y]}})}}}static createNewDict(Jt,ln,{apRef:pn,ap:wn}){const{color:Cn,opacity:Fn,paths:En,rect:An,rotation:Tn,thickness:In}=Jt,Rn=new _e.Dict(ln);Rn.set("Type",_e.Name.get("Annot")),Rn.set("Subtype",_e.Name.get("Ink")),Rn.set("CreationDate",`D:${(0,wt.getModificationDate)()}`),Rn.set("Rect",An),Rn.set("InkList",En.map(Un=>Un.points)),Rn.set("F",4),Rn.set("Rotate",Tn);const Dn=new _e.Dict(ln);Rn.set("BS",Dn),Dn.set("W",In),Rn.set("C",Array.from(Cn,Un=>Un/255)),Rn.set("CA",Fn);const Ln=new _e.Dict(ln);return Rn.set("AP",Ln),pn?Ln.set("N",pn):Ln.set("N",wn),Rn}static async createNewAppearanceStream(Jt,ln,pn){const{color:wn,rect:Cn,paths:Fn,thickness:En,opacity:An}=Jt,Tn=[`${En} w 1 J 1 j`,`${(0,Rt.getPdfColor)(wn,!1)}`];An!==1&&Tn.push("/R0 gs");const In=[];for(const{bezier:Un}of Fn){In.length=0,In.push(`${(0,_t.numberToString)(Un[0])} ${(0,_t.numberToString)(Un[1])} m`);for(let tr=2,er=Un.length;tr<er;tr+=6){const Qn=Un.slice(tr,tr+6).map(_t.numberToString).join(" ");In.push(`${Qn} c`)}In.push("S"),Tn.push(In.join(`
`))}const Rn=Tn.join(`
`),Dn=new _e.Dict(ln);if(Dn.set("FormType",1),Dn.set("Subtype",_e.Name.get("Form")),Dn.set("Type",_e.Name.get("XObject")),Dn.set("BBox",Cn),Dn.set("Length",Rn.length),An!==1){const Un=new _e.Dict(ln),tr=new _e.Dict(ln),er=new _e.Dict(ln);er.set("CA",An),er.set("Type",_e.Name.get("ExtGState")),tr.set("R0",er),Un.set("ExtGState",tr),Dn.set("Resources",Un)}const Ln=new bt.StringStream(Rn);return Ln.dict=Dn,Ln}}class kn extends Wt{constructor(Jt){var Cn;super(Jt);const{dict:ln,xref:pn}=Jt;if(this.data.annotationType=wt.AnnotationType.HIGHLIGHT,this.data.quadPoints=Qt(ln,null)){const Fn=(Cn=this.appearance)==null?void 0:Cn.dict.get("Resources");if(!this.appearance||!(Fn!=null&&Fn.has("ExtGState"))){this.appearance&&(0,wt.warn)("HighlightAnnotation - ignoring built-in appearance stream.");const En=this.color?dn(this.color):[1,1,0],An=ln.get("CA");this._setDefaultAppearance({xref:pn,fillColor:En,blendMode:"Multiply",fillAlpha:An,pointsCallback:(Tn,In)=>(Tn.push(`${In[0].x} ${In[0].y} m`,`${In[1].x} ${In[1].y} l`,`${In[3].x} ${In[3].y} l`,`${In[2].x} ${In[2].y} l`,"f"),[In[0].x,In[1].x,In[3].y,In[1].y])})}}else this.data.popupRef=null}}class Pn extends Wt{constructor(Jt){super(Jt);const{dict:ln,xref:pn}=Jt;if(this.data.annotationType=wt.AnnotationType.UNDERLINE,this.data.quadPoints=Qt(ln,null)){if(!this.appearance){const Cn=this.color?dn(this.color):[0,0,0],Fn=ln.get("CA");this._setDefaultAppearance({xref:pn,extra:"[] 0 d 0.571 w",strokeColor:Cn,strokeAlpha:Fn,pointsCallback:(En,An)=>(En.push(`${An[2].x} ${An[2].y+1.3} m`,`${An[3].x} ${An[3].y+1.3} l`,"S"),[An[0].x,An[1].x,An[3].y,An[1].y])})}}else this.data.popupRef=null}}class On extends Wt{constructor(Jt){super(Jt);const{dict:ln,xref:pn}=Jt;if(this.data.annotationType=wt.AnnotationType.SQUIGGLY,this.data.quadPoints=Qt(ln,null)){if(!this.appearance){const Cn=this.color?dn(this.color):[0,0,0],Fn=ln.get("CA");this._setDefaultAppearance({xref:pn,extra:"[] 0 d 1 w",strokeColor:Cn,strokeAlpha:Fn,pointsCallback:(En,An)=>{const Tn=(An[0].y-An[2].y)/6;let In=Tn,Rn=An[2].x;const Dn=An[2].y,Ln=An[3].x;En.push(`${Rn} ${Dn+In} m`);do Rn+=2,In=In===0?Tn:0,En.push(`${Rn} ${Dn+In} l`);while(Rn<Ln);return En.push("S"),[An[2].x,Ln,Dn-2*Tn,Dn+2*Tn]}})}}else this.data.popupRef=null}}class _n extends Wt{constructor(Jt){super(Jt);const{dict:ln,xref:pn}=Jt;if(this.data.annotationType=wt.AnnotationType.STRIKEOUT,this.data.quadPoints=Qt(ln,null)){if(!this.appearance){const Cn=this.color?dn(this.color):[0,0,0],Fn=ln.get("CA");this._setDefaultAppearance({xref:pn,extra:"[] 0 d 1 w",strokeColor:Cn,strokeAlpha:Fn,pointsCallback:(En,An)=>(En.push(`${(An[0].x+An[2].x)/2} ${(An[0].y+An[2].y)/2} m`,`${(An[1].x+An[3].x)/2} ${(An[1].y+An[3].y)/2} l`,"S"),[An[0].x,An[1].x,An[3].y,An[1].y])})}}else this.data.popupRef=null}}class Sn extends Wt{constructor(Jt){super(Jt),this.data.annotationType=wt.AnnotationType.STAMP,this.data.hasOwnCanvas=this.data.noRotate}static async createImage(Jt,ln){const{width:pn,height:wn}=Jt,Cn=new OffscreenCanvas(pn,wn),Fn=Cn.getContext("2d",{alpha:!0});Fn.drawImage(Jt,0,0);const En=Fn.getImageData(0,0,pn,wn).data,An=new Uint32Array(En.buffer),Tn=An.some(wt.FeatureTest.isLittleEndian?er=>er>>>24!==255:er=>(er&255)!==255);Tn&&(Fn.fillStyle="white",Fn.fillRect(0,0,pn,wn),Fn.drawImage(Jt,0,0));const In=Cn.convertToBlob({type:"image/jpeg",quality:1}).then(er=>er.arrayBuffer()),Rn=_e.Name.get("XObject"),Dn=_e.Name.get("Image"),Ln=new _e.Dict(ln);Ln.set("Type",Rn),Ln.set("Subtype",Dn),Ln.set("BitsPerComponent",8),Ln.set("ColorSpace",_e.Name.get("DeviceRGB")),Ln.set("Filter",_e.Name.get("DCTDecode")),Ln.set("BBox",[0,0,pn,wn]),Ln.set("Width",pn),Ln.set("Height",wn);let Un=null;if(Tn){const er=new Uint8Array(An.length);if(wt.FeatureTest.isLittleEndian)for(let Yn=0,Xn=An.length;Yn<Xn;Yn++)er[Yn]=An[Yn]>>>24;else for(let Yn=0,Xn=An.length;Yn<Xn;Yn++)er[Yn]=An[Yn]&255;const Qn=new _e.Dict(ln);Qn.set("Type",Rn),Qn.set("Subtype",Dn),Qn.set("BitsPerComponent",8),Qn.set("ColorSpace",_e.Name.get("DeviceGray")),Qn.set("Width",pn),Qn.set("Height",wn),Un=new bt.Stream(er,0,0,Qn)}return{imageStream:new bt.Stream(await In,0,0,Ln),smaskStream:Un,width:pn,height:wn}}static createNewDict(Jt,ln,{apRef:pn,ap:wn}){const{rect:Cn,rotation:Fn,user:En}=Jt,An=new _e.Dict(ln);if(An.set("Type",_e.Name.get("Annot")),An.set("Subtype",_e.Name.get("Stamp")),An.set("CreationDate",`D:${(0,wt.getModificationDate)()}`),An.set("Rect",Cn),An.set("F",4),An.set("Border",[0,0,0]),An.set("Rotate",Fn),En&&An.set("T",(0,_t.isAscii)(En)?En:(0,_t.stringToUTF16String)(En,!0)),pn||wn){const Tn=new _e.Dict(ln);An.set("AP",Tn),pn?Tn.set("N",pn):Tn.set("N",wn)}return An}static async createNewAppearanceStream(Jt,ln,pn){const{rotation:wn}=Jt,{imageRef:Cn,width:Fn,height:En}=pn.image,An=new _e.Dict(ln),Tn=new _e.Dict(ln);An.set("XObject",Tn),Tn.set("Im0",Cn);const In=`q ${Fn} 0 0 ${En} 0 0 cm /Im0 Do Q`,Rn=new _e.Dict(ln);if(Rn.set("FormType",1),Rn.set("Subtype",_e.Name.get("Form")),Rn.set("Type",_e.Name.get("XObject")),Rn.set("BBox",[0,0,Fn,En]),Rn.set("Resources",An),wn){const Ln=(0,_t.getRotationMatrix)(wn,Fn,En);Rn.set("Matrix",Ln)}const Dn=new bt.StringStream(In);return Dn.dict=Rn,Dn}}class mn extends Wt{constructor(Jt){super(Jt);const{dict:ln,xref:pn}=Jt,wn=new $t.FileSpec(ln.get("FS"),pn);this.data.annotationType=wt.AnnotationType.FILEATTACHMENT,this.data.hasOwnCanvas=this.data.noRotate,this.data.file=wn.serializable;const Cn=ln.get("Name");this.data.name=Cn instanceof _e.Name?(0,wt.stringToPDFString)(Cn.name):"PushPin";const Fn=ln.get("ca");this.data.fillAlpha=typeof Fn=="number"&&Fn>=0&&Fn<=1?Fn:null}}},(Ct,Et,Ft)=>{Object.defineProperty(Et,"__esModule",{value:!0}),Et.FakeUnicodeFont=void 0,Et.createDefaultAppearance=qt,Et.getPdfColor=kt,Et.parseAppearanceStream=jt,Et.parseDefaultAppearance=$t;var wt=Ft(4),_t=Ft(3),Rt=Ft(2),_e=Ft(12),bt=Ft(13),Pt=Ft(59),Xt=Ft(57),Kt=Ft(8);class Nt extends bt.EvaluatorPreprocessor{constructor(en){super(new Kt.StringStream(en))}parse(){const en={fn:0,args:[]},dn={fontSize:0,fontName:"",fontColor:new Uint8ClampedArray(3)};try{for(;en.args.length=0,!!this.read(en);){if(this.savedStatesDepth!==0)continue;const{fn:Qt,args:gn}=en;switch(Qt|0){case Rt.OPS.setFont:const[tn,bn]=gn;tn instanceof wt.Name&&(dn.fontName=tn.name),typeof bn=="number"&&bn>0&&(dn.fontSize=bn);break;case Rt.OPS.setFillRGBColor:_e.ColorSpace.singletons.rgb.getRgbItem(gn,0,dn.fontColor,0);break;case Rt.OPS.setFillGray:_e.ColorSpace.singletons.gray.getRgbItem(gn,0,dn.fontColor,0);break;case Rt.OPS.setFillCMYKColor:_e.ColorSpace.singletons.cmyk.getRgbItem(gn,0,dn.fontColor,0);break}}}catch(Qt){(0,Rt.warn)(`parseDefaultAppearance - ignoring errors: "${Qt}".`)}return dn}}function $t(Gt){return new Nt(Gt).parse()}class Lt extends bt.EvaluatorPreprocessor{constructor(en,dn,Qt){var gn;super(en),this.stream=en,this.evaluatorOptions=dn,this.xref=Qt,this.resources=(gn=en.dict)==null?void 0:gn.get("Resources")}parse(){const en={fn:0,args:[]};let dn={scaleFactor:1,fontSize:0,fontName:"",fontColor:new Uint8ClampedArray(3),fillColorSpace:_e.ColorSpace.singletons.gray},Qt=!1;const gn=[];try{for(;en.args.length=0,!(Qt||!this.read(en));){const{fn:tn,args:bn}=en;switch(tn|0){case Rt.OPS.save:gn.push({scaleFactor:dn.scaleFactor,fontSize:dn.fontSize,fontName:dn.fontName,fontColor:dn.fontColor.slice(),fillColorSpace:dn.fillColorSpace});break;case Rt.OPS.restore:dn=gn.pop()||dn;break;case Rt.OPS.setTextMatrix:dn.scaleFactor*=Math.hypot(bn[0],bn[1]);break;case Rt.OPS.setFont:const[Wt,Yt]=bn;Wt instanceof wt.Name&&(dn.fontName=Wt.name),typeof Yt=="number"&&Yt>0&&(dn.fontSize=Yt*dn.scaleFactor);break;case Rt.OPS.setFillColorSpace:dn.fillColorSpace=_e.ColorSpace.parse({cs:bn[0],xref:this.xref,resources:this.resources,pdfFunctionFactory:this._pdfFunctionFactory,localColorSpaceCache:this._localColorSpaceCache});break;case Rt.OPS.setFillColor:dn.fillColorSpace.getRgbItem(bn,0,dn.fontColor,0);break;case Rt.OPS.setFillRGBColor:_e.ColorSpace.singletons.rgb.getRgbItem(bn,0,dn.fontColor,0);break;case Rt.OPS.setFillGray:_e.ColorSpace.singletons.gray.getRgbItem(bn,0,dn.fontColor,0);break;case Rt.OPS.setFillCMYKColor:_e.ColorSpace.singletons.cmyk.getRgbItem(bn,0,dn.fontColor,0);break;case Rt.OPS.showText:case Rt.OPS.showSpacedText:case Rt.OPS.nextLineShowText:case Rt.OPS.nextLineSetSpacingShowText:Qt=!0;break}}}catch(tn){(0,Rt.warn)(`parseAppearanceStream - ignoring errors: "${tn}".`)}return this.stream.reset(),delete dn.scaleFactor,delete dn.fillColorSpace,dn}get _localColorSpaceCache(){return(0,Rt.shadow)(this,"_localColorSpaceCache",new Pt.LocalColorSpaceCache)}get _pdfFunctionFactory(){const en=new Xt.PDFFunctionFactory({xref:this.xref,isEvalSupported:this.evaluatorOptions.isEvalSupported});return(0,Rt.shadow)(this,"_pdfFunctionFactory",en)}}function jt(Gt,en,dn){return new Lt(Gt,en,dn).parse()}function kt(Gt,en){if(Gt[0]===Gt[1]&&Gt[1]===Gt[2]){const dn=Gt[0]/255;return`${(0,_t.numberToString)(dn)} ${en?"g":"G"}`}return Array.from(Gt,dn=>(0,_t.numberToString)(dn/255)).join(" ")+` ${en?"rg":"RG"}`}function qt({fontSize:Gt,fontName:en,fontColor:dn}){return`/${(0,_t.escapePDFName)(en)} ${Gt} Tf ${kt(dn,!0)}`}class Bt{constructor(en,dn){this.xref=en,this.widths=null,this.firstChar=1/0,this.lastChar=-1/0,this.fontFamily=dn;const Qt=new OffscreenCanvas(1,1);this.ctxMeasure=Qt.getContext("2d"),Bt._fontNameId||(Bt._fontNameId=1),this.fontName=wt.Name.get(`InvalidPDFjsFont_${dn}_${Bt._fontNameId++}`)}get toUnicodeRef(){if(!Bt._toUnicodeRef){const en=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo
<< /Registry (Adobe)
/Ordering (UCS) /Supplement 0 >> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000> <FFFF>
endcodespacerange
1 beginbfrange
<0000> <FFFF> <0000>
endbfrange
endcmap CMapName currentdict /CMap defineresource pop end end`,dn=Bt.toUnicodeStream=new Kt.StringStream(en),Qt=new wt.Dict(this.xref);dn.dict=Qt,Qt.set("Length",en.length),Bt._toUnicodeRef=this.xref.getNewPersistentRef(dn)}return Bt._toUnicodeRef}get fontDescriptorRef(){if(!Bt._fontDescriptorRef){const en=new wt.Dict(this.xref);en.set("Type",wt.Name.get("FontDescriptor")),en.set("FontName",this.fontName),en.set("FontFamily","MyriadPro Regular"),en.set("FontBBox",[0,0,0,0]),en.set("FontStretch",wt.Name.get("Normal")),en.set("FontWeight",400),en.set("ItalicAngle",0),Bt._fontDescriptorRef=this.xref.getNewPersistentRef(en)}return Bt._fontDescriptorRef}get descendantFontRef(){const en=new wt.Dict(this.xref);en.set("BaseFont",this.fontName),en.set("Type",wt.Name.get("Font")),en.set("Subtype",wt.Name.get("CIDFontType0")),en.set("CIDToGIDMap",wt.Name.get("Identity")),en.set("FirstChar",this.firstChar),en.set("LastChar",this.lastChar),en.set("FontDescriptor",this.fontDescriptorRef),en.set("DW",1e3);const dn=[],Qt=[...this.widths.entries()].sort();let gn=null,tn=null;for(const[Wt,Yt]of Qt){if(!gn){gn=Wt,tn=[Yt];continue}Wt===gn+tn.length?tn.push(Yt):(dn.push(gn,tn),gn=Wt,tn=[Yt])}gn&&dn.push(gn,tn),en.set("W",dn);const bn=new wt.Dict(this.xref);return bn.set("Ordering","Identity"),bn.set("Registry","Adobe"),bn.set("Supplement",0),en.set("CIDSystemInfo",bn),this.xref.getNewPersistentRef(en)}get baseFontRef(){const en=new wt.Dict(this.xref);return en.set("BaseFont",this.fontName),en.set("Type",wt.Name.get("Font")),en.set("Subtype",wt.Name.get("Type0")),en.set("Encoding",wt.Name.get("Identity-H")),en.set("DescendantFonts",[this.descendantFontRef]),en.set("ToUnicode",this.toUnicodeRef),this.xref.getNewPersistentRef(en)}get resources(){const en=new wt.Dict(this.xref),dn=new wt.Dict(this.xref);return dn.set(this.fontName.name,this.baseFontRef),en.set("Font",dn),en}_createContext(){return this.widths=new Map,this.ctxMeasure.font=`1000px ${this.fontFamily}`,this.ctxMeasure}createFontResources(en){const dn=this._createContext();for(const Qt of en.split(/\r\n?|\n/))for(const gn of Qt.split("")){const tn=gn.charCodeAt(0);if(this.widths.has(tn))continue;const bn=dn.measureText(gn),Wt=Math.ceil(bn.width);this.widths.set(tn,Wt),this.firstChar=Math.min(tn,this.firstChar),this.lastChar=Math.max(tn,this.lastChar)}return this.resources}createAppearance(en,dn,Qt,gn,tn,bn){const Wt=this._createContext(),Yt=[];let un=-1/0;for(const mn of en.split(/\r\n?|\n/)){Yt.push(mn);const fn=Wt.measureText(mn).width;un=Math.max(un,fn);for(const Jt of mn.split("")){const ln=Jt.charCodeAt(0);let pn=this.widths.get(ln);if(pn===void 0){const wn=Wt.measureText(Jt);pn=Math.ceil(wn.width),this.widths.set(ln,pn),this.firstChar=Math.min(ln,this.firstChar),this.lastChar=Math.max(ln,this.lastChar)}}}un*=gn/1e3;const[Ut,Ot,Ht,an]=dn;let zt=Ht-Ut,Vt=an-Ot;Qt%180!==0&&([zt,Vt]=[Vt,zt]);let nn=1;un>zt&&(nn=zt/un);let hn=1;const on=Rt.LINE_FACTOR*gn,cn=Rt.LINE_DESCENT_FACTOR*gn,sn=on*Yt.length;sn>Vt&&(hn=Vt/sn);const rn=Math.min(nn,hn),xn=gn*rn,vn=["q",`0 0 ${(0,_t.numberToString)(zt)} ${(0,_t.numberToString)(Vt)} re W n`,"BT",`1 0 0 1 0 ${(0,_t.numberToString)(Vt+cn)} Tm 0 Tc ${kt(tn,!0)}`,`/${this.fontName.name} ${(0,_t.numberToString)(xn)} Tf`],{resources:kn}=this;if(bn=typeof bn=="number"&&bn>=0&&bn<=1?bn:1,bn!==1){vn.push("/R0 gs");const mn=new wt.Dict(this.xref),fn=new wt.Dict(this.xref);fn.set("ca",bn),fn.set("CA",bn),fn.set("Type",wt.Name.get("ExtGState")),mn.set("R0",fn),kn.set("ExtGState",mn)}const Pn=(0,_t.numberToString)(on);for(const mn of Yt)vn.push(`0 -${Pn} Td <${(0,_t.stringToUTF16HexString)(mn)}> Tj`);vn.push("ET","Q");const On=vn.join(`
`),_n=new wt.Dict(this.xref);if(_n.set("Subtype",wt.Name.get("Form")),_n.set("Type",wt.Name.get("XObject")),_n.set("BBox",[0,0,zt,Vt]),_n.set("Length",On.length),_n.set("Resources",kn),Qt){const mn=(0,_t.getRotationMatrix)(Qt,zt,Vt);_n.set("Matrix",mn)}const Sn=new Kt.StringStream(On);return Sn.dict=_n,Sn}}Et.FakeUnicodeFont=Bt},(Ct,Et,Ft)=>{var Gt,G3,dn,q3,gn,tn,bn,Wt,Yt,un,Ut,Ot,Ht,V1,f5,p5,N2,G1,q1,g5,m5,x5,K3,kn,$2,j2,Y3;Object.defineProperty(Et,"__esModule",{value:!0}),Et.ColorSpace=void 0;var wt=Ft(2),_t=Ft(4),Rt=Ft(5),_e=Ft(3);function bt(Sn,mn,fn,Jt,ln,pn,wn){wn=wn!==1?0:wn;const Fn=fn/ln,En=Jt/pn;let An=0,Tn;const In=new Uint16Array(ln),Rn=fn*3;for(let Dn=0;Dn<ln;Dn++)In[Dn]=Math.floor(Dn*Fn)*3;for(let Dn=0;Dn<pn;Dn++){const Ln=Math.floor(Dn*En)*Rn;for(let Un=0;Un<ln;Un++)Tn=Ln+In[Un],mn[An++]=Sn[Tn++],mn[An++]=Sn[Tn++],mn[An++]=Sn[Tn++],An+=wn}}class Pt{constructor(mn,fn){this.constructor===Pt&&(0,wt.unreachable)("Cannot initialize ColorSpace."),this.name=mn,this.numComps=fn}getRgb(mn,fn){const Jt=new Uint8ClampedArray(3);return this.getRgbItem(mn,fn,Jt,0),Jt}getRgbItem(mn,fn,Jt,ln){(0,wt.unreachable)("Should not call ColorSpace.getRgbItem")}getRgbBuffer(mn,fn,Jt,ln,pn,wn,Cn){(0,wt.unreachable)("Should not call ColorSpace.getRgbBuffer")}getOutputLength(mn,fn){(0,wt.unreachable)("Should not call ColorSpace.getOutputLength")}isPassthrough(mn){return!1}isDefaultDecode(mn,fn){return Pt.isDefaultDecode(mn,this.numComps)}fillRgb(mn,fn,Jt,ln,pn,wn,Cn,Fn,En){const An=fn*Jt;let Tn=null;const In=1<<Cn,Rn=Jt!==pn||fn!==ln;if(this.isPassthrough(Cn))Tn=Fn;else if(this.numComps===1&&An>In&&this.name!=="DeviceGray"&&this.name!=="DeviceRGB"){const Dn=Cn<=8?new Uint8Array(In):new Uint16Array(In);for(let Un=0;Un<In;Un++)Dn[Un]=Un;const Ln=new Uint8ClampedArray(In*3);if(this.getRgbBuffer(Dn,0,In,Ln,0,Cn,0),Rn){Tn=new Uint8Array(An*3);let Un=0;for(let tr=0;tr<An;++tr){const er=Fn[tr]*3;Tn[Un++]=Ln[er],Tn[Un++]=Ln[er+1],Tn[Un++]=Ln[er+2]}}else{let Un=0;for(let tr=0;tr<An;++tr){const er=Fn[tr]*3;mn[Un++]=Ln[er],mn[Un++]=Ln[er+1],mn[Un++]=Ln[er+2],Un+=En}}}else Rn?(Tn=new Uint8ClampedArray(An*3),this.getRgbBuffer(Fn,0,An,Tn,0,Cn,0)):this.getRgbBuffer(Fn,0,ln*wn,mn,0,Cn,En);if(Tn)if(Rn)bt(Tn,mn,fn,Jt,ln,pn,En);else{let Dn=0,Ln=0;for(let Un=0,tr=ln*wn;Un<tr;Un++)mn[Dn++]=Tn[Ln++],mn[Dn++]=Tn[Ln++],mn[Dn++]=Tn[Ln++],Dn+=En}}get usesZeroToOneRange(){return(0,wt.shadow)(this,"usesZeroToOneRange",!0)}static _cache(mn,fn,Jt,ln){if(!Jt)throw new Error('ColorSpace._cache - expected "localColorSpaceCache" argument.');if(!ln)throw new Error('ColorSpace._cache - expected "parsedColorSpace" argument.');let pn,wn;mn instanceof _t.Ref&&(wn=mn,mn=fn.fetch(mn)),mn instanceof _t.Name&&(pn=mn.name),(pn||wn)&&Jt.set(pn,wn,ln)}static getCached(mn,fn,Jt){if(!Jt)throw new Error('ColorSpace.getCached - expected "localColorSpaceCache" argument.');if(mn instanceof _t.Ref){const ln=Jt.getByRef(mn);if(ln)return ln;try{mn=fn.fetch(mn)}catch(pn){if(pn instanceof _e.MissingDataException)throw pn}}if(mn instanceof _t.Name){const ln=Jt.getByName(mn.name);if(ln)return ln}return null}static async parseAsync({cs:mn,xref:fn,resources:Jt=null,pdfFunctionFactory:ln,localColorSpaceCache:pn}){const wn=this._parse(mn,fn,Jt,ln);return this._cache(mn,fn,pn,wn),wn}static parse({cs:mn,xref:fn,resources:Jt=null,pdfFunctionFactory:ln,localColorSpaceCache:pn}){const wn=this.getCached(mn,fn,pn);if(wn)return wn;const Cn=this._parse(mn,fn,Jt,ln);return this._cache(mn,fn,pn,Cn),Cn}static _parse(mn,fn,Jt=null,ln){if(mn=fn.fetchIfRef(mn),mn instanceof _t.Name)switch(mn.name){case"G":case"DeviceGray":return this.singletons.gray;case"RGB":case"DeviceRGB":return this.singletons.rgb;case"CMYK":case"DeviceCMYK":return this.singletons.cmyk;case"Pattern":return new Kt(null);default:if(Jt instanceof _t.Dict){const pn=Jt.get("ColorSpace");if(pn instanceof _t.Dict){const wn=pn.get(mn.name);if(wn){if(wn instanceof _t.Name)return this._parse(wn,fn,Jt,ln);mn=wn;break}}}throw new wt.FormatError(`Unrecognized ColorSpace: ${mn.name}`)}if(Array.isArray(mn)){const pn=fn.fetchIfRef(mn[0]).name;let wn,Cn,Fn,En,An,Tn;switch(pn){case"G":case"DeviceGray":return this.singletons.gray;case"RGB":case"DeviceRGB":return this.singletons.rgb;case"CMYK":case"DeviceCMYK":return this.singletons.cmyk;case"CalGray":return wn=fn.fetchIfRef(mn[1]),En=wn.getArray("WhitePoint"),An=wn.getArray("BlackPoint"),Tn=wn.get("Gamma"),new kt(En,An,Tn);case"CalRGB":wn=fn.fetchIfRef(mn[1]),En=wn.getArray("WhitePoint"),An=wn.getArray("BlackPoint"),Tn=wn.getArray("Gamma");const In=wn.getArray("Matrix");return new qt(En,An,Tn,In);case"ICCBased":const Dn=fn.fetchIfRef(mn[1]).dict;Cn=Dn.get("N");const Ln=Dn.get("Alternate");if(Ln){const Xn=this._parse(Ln,fn,Jt,ln);if(Xn.numComps===Cn)return Xn;(0,wt.warn)("ICCBased color space: Ignoring incorrect /Alternate entry.")}if(Cn===1)return this.singletons.gray;if(Cn===3)return this.singletons.rgb;if(Cn===4)return this.singletons.cmyk;break;case"Pattern":return Fn=mn[1]||null,Fn&&(Fn=this._parse(Fn,fn,Jt,ln)),new Kt(Fn);case"I":case"Indexed":Fn=this._parse(mn[1],fn,Jt,ln);const Un=fn.fetchIfRef(mn[2])+1,tr=fn.fetchIfRef(mn[3]);return new Nt(Fn,Un,tr);case"Separation":case"DeviceN":const er=fn.fetchIfRef(mn[1]);Cn=Array.isArray(er)?er.length:1,Fn=this._parse(mn[2],fn,Jt,ln);const Qn=ln.create(mn[3]);return new Xt(Cn,Fn,Qn);case"Lab":wn=fn.fetchIfRef(mn[1]),En=wn.getArray("WhitePoint"),An=wn.getArray("BlackPoint");const Yn=wn.getArray("Range");return new Bt(En,An,Yn);default:throw new wt.FormatError(`Unimplemented ColorSpace object: ${pn}`)}}throw new wt.FormatError(`Unrecognized ColorSpace object: ${mn}`)}static isDefaultDecode(mn,fn){if(!Array.isArray(mn))return!0;if(fn*2!==mn.length)return(0,wt.warn)("The decode map is not the correct length"),!0;for(let Jt=0,ln=mn.length;Jt<ln;Jt+=2)if(mn[Jt]!==0||mn[Jt+1]!==1)return!1;return!0}static get singletons(){return(0,wt.shadow)(this,"singletons",{get gray(){return(0,wt.shadow)(this,"gray",new $t)},get rgb(){return(0,wt.shadow)(this,"rgb",new Lt)},get cmyk(){return(0,wt.shadow)(this,"cmyk",new jt)}})}}Et.ColorSpace=Pt;class Xt extends Pt{constructor(mn,fn,Jt){super("Alternate",mn),this.base=fn,this.tintFn=Jt,this.tmpBuf=new Float32Array(fn.numComps)}getRgbItem(mn,fn,Jt,ln){const pn=this.tmpBuf;this.tintFn(mn,fn,pn,0),this.base.getRgbItem(pn,0,Jt,ln)}getRgbBuffer(mn,fn,Jt,ln,pn,wn,Cn){const Fn=this.tintFn,En=this.base,An=1/((1<<wn)-1),Tn=En.numComps,In=En.usesZeroToOneRange,Rn=(En.isPassthrough(8)||!In)&&Cn===0;let Dn=Rn?pn:0;const Ln=Rn?ln:new Uint8ClampedArray(Tn*Jt),Un=this.numComps,tr=new Float32Array(Un),er=new Float32Array(Tn);let Qn,Yn;for(Qn=0;Qn<Jt;Qn++){for(Yn=0;Yn<Un;Yn++)tr[Yn]=mn[fn++]*An;if(Fn(tr,0,er,0),In)for(Yn=0;Yn<Tn;Yn++)Ln[Dn++]=er[Yn]*255;else En.getRgbItem(er,0,Ln,Dn),Dn+=Tn}Rn||En.getRgbBuffer(Ln,0,Jt,ln,pn,8,Cn)}getOutputLength(mn,fn){return this.base.getOutputLength(mn*this.base.numComps/this.numComps,fn)}}class Kt extends Pt{constructor(mn){super("Pattern",null),this.base=mn}isDefaultDecode(mn,fn){(0,wt.unreachable)("Should not call PatternCS.isDefaultDecode")}}class Nt extends Pt{constructor(mn,fn,Jt){super("Indexed",1),this.base=mn,this.highVal=fn;const ln=mn.numComps*fn;if(this.lookup=new Uint8Array(ln),Jt instanceof Rt.BaseStream){const pn=Jt.getBytes(ln);this.lookup.set(pn)}else if(typeof Jt=="string")for(let pn=0;pn<ln;++pn)this.lookup[pn]=Jt.charCodeAt(pn)&255;else throw new wt.FormatError(`IndexedCS - unrecognized lookup table: ${Jt}`)}getRgbItem(mn,fn,Jt,ln){const pn=this.base.numComps,wn=mn[fn]*pn;this.base.getRgbBuffer(this.lookup,wn,1,Jt,ln,8,0)}getRgbBuffer(mn,fn,Jt,ln,pn,wn,Cn){const Fn=this.base,En=Fn.numComps,An=Fn.getOutputLength(En,Cn),Tn=this.lookup;for(let In=0;In<Jt;++In){const Rn=mn[fn++]*En;Fn.getRgbBuffer(Tn,Rn,1,ln,pn,8,Cn),pn+=An}}getOutputLength(mn,fn){return this.base.getOutputLength(mn*this.base.numComps,fn)}isDefaultDecode(mn,fn){return Array.isArray(mn)?mn.length!==2?((0,wt.warn)("Decode map length is not correct"),!0):!Number.isInteger(fn)||fn<1?((0,wt.warn)("Bits per component is not correct"),!0):mn[0]===0&&mn[1]===(1<<fn)-1:!0}}class $t extends Pt{constructor(){super("DeviceGray",1)}getRgbItem(mn,fn,Jt,ln){const pn=mn[fn]*255;Jt[ln]=Jt[ln+1]=Jt[ln+2]=pn}getRgbBuffer(mn,fn,Jt,ln,pn,wn,Cn){const Fn=255/((1<<wn)-1);let En=fn,An=pn;for(let Tn=0;Tn<Jt;++Tn){const In=Fn*mn[En++];ln[An++]=In,ln[An++]=In,ln[An++]=In,An+=Cn}}getOutputLength(mn,fn){return mn*(3+fn)}}class Lt extends Pt{constructor(){super("DeviceRGB",3)}getRgbItem(mn,fn,Jt,ln){Jt[ln]=mn[fn]*255,Jt[ln+1]=mn[fn+1]*255,Jt[ln+2]=mn[fn+2]*255}getRgbBuffer(mn,fn,Jt,ln,pn,wn,Cn){if(wn===8&&Cn===0){ln.set(mn.subarray(fn,fn+Jt*3),pn);return}const Fn=255/((1<<wn)-1);let En=fn,An=pn;for(let Tn=0;Tn<Jt;++Tn)ln[An++]=Fn*mn[En++],ln[An++]=Fn*mn[En++],ln[An++]=Fn*mn[En++],An+=Cn}getOutputLength(mn,fn){return mn*(3+fn)/3|0}isPassthrough(mn){return mn===8}}class jt extends Pt{constructor(){super("DeviceCMYK",4);Nn(this,Gt)}getRgbItem(fn,Jt,ln,pn){Mn(this,Gt,G3).call(this,fn,Jt,1,ln,pn)}getRgbBuffer(fn,Jt,ln,pn,wn,Cn,Fn){const En=1/((1<<Cn)-1);for(let An=0;An<ln;An++)Mn(this,Gt,G3).call(this,fn,Jt,En,pn,wn),Jt+=4,wn+=3+Fn}getOutputLength(fn,Jt){return fn/4*(3+Jt)|0}}Gt=new WeakSet,G3=function(fn,Jt,ln,pn,wn){const Cn=fn[Jt]*ln,Fn=fn[Jt+1]*ln,En=fn[Jt+2]*ln,An=fn[Jt+3]*ln;pn[wn]=255+Cn*(-4.387332384609988*Cn+54.48615194189176*Fn+18.82290502165302*En+212.25662451639585*An+-285.2331026137004)+Fn*(1.7149763477362134*Fn-5.6096736904047315*En+-17.873870861415444*An-5.497006427196366)+En*(-2.5217340131683033*En-21.248923337353073*An+17.5119270841813)+An*(-21.86122147463605*An-189.48180835922747),pn[wn+1]=255+Cn*(8.841041422036149*Cn+60.118027045597366*Fn+6.871425592049007*En+31.159100130055922*An+-79.2970844816548)+Fn*(-15.310361306967817*Fn+17.575251261109482*En+131.35250912493976*An-190.9453302588951)+En*(4.444339102852739*En+9.8632861493405*An-24.86741582555878)+An*(-20.737325471181034*An-187.80453709719578),pn[wn+2]=255+Cn*(.8842522430003296*Cn+8.078677503112928*Fn+30.89978309703729*En-.23883238689178934*An+-14.183576799673286)+Fn*(10.49593273432072*Fn+63.02378494754052*En+50.606957656360734*An-112.23884253719248)+En*(.03296041114873217*En+115.60384449646641*An+-193.58209356861505)+An*(-22.33816807309886*An-180.12613974708367)};class kt extends Pt{constructor(fn,Jt,ln){super("CalGray",1);Nn(this,dn);if(!fn)throw new wt.FormatError("WhitePoint missing - required for color space CalGray");if([this.XW,this.YW,this.ZW]=fn,[this.XB,this.YB,this.ZB]=Jt||[0,0,0],this.G=ln||1,this.XW<0||this.ZW<0||this.YW!==1)throw new wt.FormatError(`Invalid WhitePoint components for ${this.name}, no fallback available`);(this.XB<0||this.YB<0||this.ZB<0)&&((0,wt.info)(`Invalid BlackPoint for ${this.name}, falling back to default.`),this.XB=this.YB=this.ZB=0),(this.XB!==0||this.YB!==0||this.ZB!==0)&&(0,wt.warn)(`${this.name}, BlackPoint: XB: ${this.XB}, YB: ${this.YB}, ZB: ${this.ZB}, only default values are supported.`),this.G<1&&((0,wt.info)(`Invalid Gamma: ${this.G} for ${this.name}, falling back to default.`),this.G=1)}getRgbItem(fn,Jt,ln,pn){Mn(this,dn,q3).call(this,fn,Jt,ln,pn,1)}getRgbBuffer(fn,Jt,ln,pn,wn,Cn,Fn){const En=1/((1<<Cn)-1);for(let An=0;An<ln;++An)Mn(this,dn,q3).call(this,fn,Jt,pn,wn,En),Jt+=1,wn+=3+Fn}getOutputLength(fn,Jt){return fn*(3+Jt)}}dn=new WeakSet,q3=function(fn,Jt,ln,pn,wn){const Fn=(fn[Jt]*wn)**this.G,En=this.YW*Fn,An=Math.max(295.8*En**.3333333333333333-40.8,0);ln[pn]=An,ln[pn+1]=An,ln[pn+2]=An};const vn=class vn extends Pt{constructor(fn,Jt,ln,pn){super("CalRGB",3);Nn(this,Ht);if(!fn)throw new wt.FormatError("WhitePoint missing - required for color space CalRGB");const[wn,Cn,Fn]=this.whitePoint=fn,[En,An,Tn]=this.blackPoint=Jt||new Float32Array(3);if([this.GR,this.GG,this.GB]=ln||new Float32Array([1,1,1]),[this.MXA,this.MYA,this.MZA,this.MXB,this.MYB,this.MZB,this.MXC,this.MYC,this.MZC]=pn||new Float32Array([1,0,0,0,1,0,0,0,1]),wn<0||Fn<0||Cn!==1)throw new wt.FormatError(`Invalid WhitePoint components for ${this.name}, no fallback available`);(En<0||An<0||Tn<0)&&((0,wt.info)(`Invalid BlackPoint for ${this.name} [${En}, ${An}, ${Tn}], falling back to default.`),this.blackPoint=new Float32Array(3)),(this.GR<0||this.GG<0||this.GB<0)&&((0,wt.info)(`Invalid Gamma [${this.GR}, ${this.GG}, ${this.GB}] for ${this.name}, falling back to default.`),this.GR=this.GG=this.GB=1)}getRgbItem(fn,Jt,ln,pn){Mn(this,Ht,K3).call(this,fn,Jt,ln,pn,1)}getRgbBuffer(fn,Jt,ln,pn,wn,Cn,Fn){const En=1/((1<<Cn)-1);for(let An=0;An<ln;++An)Mn(this,Ht,K3).call(this,fn,Jt,pn,wn,En),Jt+=3,wn+=3+Fn}getOutputLength(fn,Jt){return fn*(3+Jt)/3|0}};gn=new WeakMap,tn=new WeakMap,bn=new WeakMap,Wt=new WeakMap,Yt=new WeakMap,un=new WeakMap,Ut=new WeakMap,Ot=new WeakMap,Ht=new WeakSet,V1=function(fn,Jt,ln){ln[0]=fn[0]*Jt[0]+fn[1]*Jt[1]+fn[2]*Jt[2],ln[1]=fn[3]*Jt[0]+fn[4]*Jt[1]+fn[5]*Jt[2],ln[2]=fn[6]*Jt[0]+fn[7]*Jt[1]+fn[8]*Jt[2]},f5=function(fn,Jt,ln){ln[0]=Jt[0]*1/fn[0],ln[1]=Jt[1]*1/fn[1],ln[2]=Jt[2]*1/fn[2]},p5=function(fn,Jt,ln){ln[0]=Jt[0]*.95047/fn[0],ln[1]=Jt[1]*1/fn[1],ln[2]=Jt[2]*1.08883/fn[2]},N2=function(fn){return fn<=.0031308?Mn(this,Ht,G1).call(this,0,1,12.92*fn):fn>=.99554525?1:Mn(this,Ht,G1).call(this,0,1,1.055*fn**.4166666666666667-.055)},G1=function(fn,Jt,ln){return Math.max(fn,Math.min(Jt,ln))},q1=function(fn){return fn<0?-Mn(this,Ht,q1).call(this,-fn):fn>8?((fn+16)/116)**3:fn*Mt(vn,Ot)},g5=function(fn,Jt,ln){if(fn[0]===0&&fn[1]===0&&fn[2]===0){ln[0]=Jt[0],ln[1]=Jt[1],ln[2]=Jt[2];return}const pn=Mn(this,Ht,q1).call(this,0),wn=pn,Cn=Mn(this,Ht,q1).call(this,fn[0]),Fn=pn,En=Mn(this,Ht,q1).call(this,fn[1]),An=pn,Tn=Mn(this,Ht,q1).call(this,fn[2]),In=(1-wn)/(1-Cn),Rn=1-In,Dn=(1-Fn)/(1-En),Ln=1-Dn,Un=(1-An)/(1-Tn),tr=1-Un;ln[0]=Jt[0]*In+Rn,ln[1]=Jt[1]*Dn+Ln,ln[2]=Jt[2]*Un+tr},m5=function(fn,Jt,ln){if(fn[0]===1&&fn[2]===1){ln[0]=Jt[0],ln[1]=Jt[1],ln[2]=Jt[2];return}const pn=ln;Mn(this,Ht,V1).call(this,Mt(vn,gn),Jt,pn);const wn=Mt(vn,Yt);Mn(this,Ht,f5).call(this,fn,pn,wn),Mn(this,Ht,V1).call(this,Mt(vn,tn),wn,ln)},x5=function(fn,Jt,ln){const pn=ln;Mn(this,Ht,V1).call(this,Mt(vn,gn),Jt,pn);const wn=Mt(vn,Yt);Mn(this,Ht,p5).call(this,fn,pn,wn),Mn(this,Ht,V1).call(this,Mt(vn,tn),wn,ln)},K3=function(fn,Jt,ln,pn,wn){const Cn=Mn(this,Ht,G1).call(this,0,1,fn[Jt]*wn),Fn=Mn(this,Ht,G1).call(this,0,1,fn[Jt+1]*wn),En=Mn(this,Ht,G1).call(this,0,1,fn[Jt+2]*wn),An=Cn===1?1:Cn**this.GR,Tn=Fn===1?1:Fn**this.GG,In=En===1?1:En**this.GB,Rn=this.MXA*An+this.MXB*Tn+this.MXC*In,Dn=this.MYA*An+this.MYB*Tn+this.MYC*In,Ln=this.MZA*An+this.MZB*Tn+this.MZC*In,Un=Mt(vn,un);Un[0]=Rn,Un[1]=Dn,Un[2]=Ln;const tr=Mt(vn,Ut);Mn(this,Ht,m5).call(this,this.whitePoint,Un,tr);const er=Mt(vn,un);Mn(this,Ht,g5).call(this,this.blackPoint,tr,er);const Qn=Mt(vn,Ut);Mn(this,Ht,x5).call(this,Mt(vn,Wt),er,Qn);const Yn=Mt(vn,un);Mn(this,Ht,V1).call(this,Mt(vn,bn),Qn,Yn),ln[pn]=Mn(this,Ht,N2).call(this,Yn[0])*255,ln[pn+1]=Mn(this,Ht,N2).call(this,Yn[1])*255,ln[pn+2]=Mn(this,Ht,N2).call(this,Yn[2])*255},Nn(vn,gn,new Float32Array([.8951,.2664,-.1614,-.7502,1.7135,.0367,.0389,-.0685,1.0296])),Nn(vn,tn,new Float32Array([.9869929,-.1470543,.1599627,.4323053,.5183603,.0492912,-.0085287,.0400428,.9684867])),Nn(vn,bn,new Float32Array([3.2404542,-1.5371385,-.4985314,-.969266,1.8760108,.041556,.0556434,-.2040259,1.0572252])),Nn(vn,Wt,new Float32Array([1,1,1])),Nn(vn,Yt,new Float32Array(3)),Nn(vn,un,new Float32Array(3)),Nn(vn,Ut,new Float32Array(3)),Nn(vn,Ot,.0011070564598794539);let qt=vn;class Bt extends Pt{constructor(fn,Jt,ln){super("Lab",3);Nn(this,kn);if(!fn)throw new wt.FormatError("WhitePoint missing - required for color space Lab");if([this.XW,this.YW,this.ZW]=fn,[this.amin,this.amax,this.bmin,this.bmax]=ln||[-100,100,-100,100],[this.XB,this.YB,this.ZB]=Jt||[0,0,0],this.XW<0||this.ZW<0||this.YW!==1)throw new wt.FormatError("Invalid WhitePoint components, no fallback available");(this.XB<0||this.YB<0||this.ZB<0)&&((0,wt.info)("Invalid BlackPoint, falling back to default"),this.XB=this.YB=this.ZB=0),(this.amin>this.amax||this.bmin>this.bmax)&&((0,wt.info)("Invalid Range, falling back to defaults"),this.amin=-100,this.amax=100,this.bmin=-100,this.bmax=100)}getRgbItem(fn,Jt,ln,pn){Mn(this,kn,Y3).call(this,fn,Jt,!1,ln,pn)}getRgbBuffer(fn,Jt,ln,pn,wn,Cn,Fn){const En=(1<<Cn)-1;for(let An=0;An<ln;An++)Mn(this,kn,Y3).call(this,fn,Jt,En,pn,wn),Jt+=3,wn+=3+Fn}getOutputLength(fn,Jt){return fn*(3+Jt)/3|0}isDefaultDecode(fn,Jt){return!0}get usesZeroToOneRange(){return(0,wt.shadow)(this,"usesZeroToOneRange",!1)}}kn=new WeakSet,$2=function(fn){return fn>=.20689655172413793?fn**3:.12841854934601665*(fn-.13793103448275862)},j2=function(fn,Jt,ln,pn){return ln+fn*(pn-ln)/Jt},Y3=function(fn,Jt,ln,pn,wn){let Cn=fn[Jt],Fn=fn[Jt+1],En=fn[Jt+2];ln!==!1&&(Cn=Mn(this,kn,j2).call(this,Cn,ln,0,100),Fn=Mn(this,kn,j2).call(this,Fn,ln,this.amin,this.amax),En=Mn(this,kn,j2).call(this,En,ln,this.bmin,this.bmax)),Fn>this.amax?Fn=this.amax:Fn<this.amin&&(Fn=this.amin),En>this.bmax?En=this.bmax:En<this.bmin&&(En=this.bmin);const An=(Cn+16)/116,Tn=An+Fn/500,In=An-En/200,Rn=this.XW*Mn(this,kn,$2).call(this,Tn),Dn=this.YW*Mn(this,kn,$2).call(this,An),Ln=this.ZW*Mn(this,kn,$2).call(this,In);let Un,tr,er;this.ZW<1?(Un=Rn*3.1339+Dn*-1.617+Ln*-.4906,tr=Rn*-.9785+Dn*1.916+Ln*.0333,er=Rn*.072+Dn*-.229+Ln*1.4057):(Un=Rn*3.2406+Dn*-1.5372+Ln*-.4986,tr=Rn*-.9689+Dn*1.8758+Ln*.0415,er=Rn*.0557+Dn*-.204+Ln*1.057),pn[wn]=Math.sqrt(Un)*255,pn[wn+1]=Math.sqrt(tr)*255,pn[wn+2]=Math.sqrt(er)*255}},(Ct,Et,Ft)=>{Object.defineProperty(Et,"__esModule",{value:!0}),Et.PartialEvaluator=Et.EvaluatorPreprocessor=void 0;var wt=Ft(2),_t=Ft(14),Rt=Ft(4),_e=Ft(34),bt=Ft(37),Pt=Ft(41),Xt=Ft(50),Kt=Ft(51),Nt=Ft(42),$t=Ft(57),Lt=Ft(16),jt=Ft(59),kt=Ft(8),qt=Ft(5),Bt=Ft(60),Gt=Ft(12),en=Ft(18),dn=Ft(38),Qt=Ft(61),gn=Ft(39),tn=Ft(45),bn=Ft(40),Wt=Ft(62),Yt=Ft(63),un=Ft(64),Ut=Ft(65);const Ot=Object.freeze({maxImageSize:-1,disableFontFace:!1,ignoreErrors:!1,isEvalSupported:!0,isOffscreenCanvasSupported:!1,canvasMaxAreaInBytes:-1,fontExtraProperties:!1,useSystemFonts:!0,cMapUrl:null,standardFontDataUrl:null}),Ht={TILING:1,SHADING:2},an=10,zt=Promise.resolve();function Vt(On,_n=!1){if(Array.isArray(On)){for(const Sn of On){const mn=Vt(Sn,!0);if(mn)return mn}return(0,wt.warn)(`Unsupported blend mode Array: ${On}`),"source-over"}if(!(On instanceof Rt.Name))return _n?null:"source-over";switch(On.name){case"Normal":case"Compatible":return"source-over";case"Multiply":return"multiply";case"Screen":return"screen";case"Overlay":return"overlay";case"Darken":return"darken";case"Lighten":return"lighten";case"ColorDodge":return"color-dodge";case"ColorBurn":return"color-burn";case"HardLight":return"hard-light";case"SoftLight":return"soft-light";case"Difference":return"difference";case"Exclusion":return"exclusion";case"Hue":return"hue";case"Saturation":return"saturation";case"Color":return"color";case"Luminosity":return"luminosity"}return _n?null:((0,wt.warn)(`Unsupported blend mode: ${On.name}`),"source-over")}function nn(On){var _n;On.fn===wt.OPS.paintImageMaskXObject&&((_n=On.args[0])==null?void 0:_n.count)>0&&On.args[0].count++}const kn=class kn{constructor(){this.reset()}check(){return++this.checked<kn.CHECK_TIME_EVERY?!1:(this.checked=0,this.endTime<=Date.now())}reset(){this.endTime=Date.now()+kn.TIME_SLOT_DURATION_MS,this.checked=0}};Ur(kn,"TIME_SLOT_DURATION_MS",20),Ur(kn,"CHECK_TIME_EVERY",100);let hn=kn;class on{constructor({xref:_n,handler:Sn,pageIndex:mn,idFactory:fn,fontCache:Jt,builtInCMapCache:ln,standardFontDataCache:pn,globalImageCache:wn,systemFontCache:Cn,options:Fn=null}){this.xref=_n,this.handler=Sn,this.pageIndex=mn,this.idFactory=fn,this.fontCache=Jt,this.builtInCMapCache=ln,this.standardFontDataCache=pn,this.globalImageCache=wn,this.systemFontCache=Cn,this.options=Fn||Ot,this.parsingType3Font=!1,this._regionalImageCache=new jt.RegionalImageCache,this._fetchBuiltInCMapBound=this.fetchBuiltInCMap.bind(this),Wt.ImageResizer.setMaxArea(this.options.canvasMaxAreaInBytes)}get _pdfFunctionFactory(){const _n=new $t.PDFFunctionFactory({xref:this.xref,isEvalSupported:this.options.isEvalSupported});return(0,wt.shadow)(this,"_pdfFunctionFactory",_n)}clone(_n=null){const Sn=Object.create(this);return Sn.options=Object.assign(Object.create(null),this.options,_n),Sn}hasBlendModes(_n,Sn){if(!(_n instanceof Rt.Dict)||_n.objId&&Sn.has(_n.objId))return!1;const mn=new Rt.RefSet(Sn);_n.objId&&mn.put(_n.objId);const fn=[_n],Jt=this.xref;for(;fn.length;){const ln=fn.shift(),pn=ln.get("ExtGState");if(pn instanceof Rt.Dict)for(let Cn of pn.getRawValues()){if(Cn instanceof Rt.Ref){if(mn.has(Cn))continue;try{Cn=Jt.fetch(Cn)}catch(En){mn.put(Cn),(0,wt.info)(`hasBlendModes - ignoring ExtGState: "${En}".`);continue}}if(!(Cn instanceof Rt.Dict))continue;Cn.objId&&mn.put(Cn.objId);const Fn=Cn.get("BM");if(Fn instanceof Rt.Name){if(Fn.name!=="Normal")return!0;continue}if(Fn!==void 0&&Array.isArray(Fn)){for(const En of Fn)if(En instanceof Rt.Name&&En.name!=="Normal")return!0}}const wn=ln.get("XObject");if(wn instanceof Rt.Dict)for(let Cn of wn.getRawValues()){if(Cn instanceof Rt.Ref){if(mn.has(Cn))continue;try{Cn=Jt.fetch(Cn)}catch(En){mn.put(Cn),(0,wt.info)(`hasBlendModes - ignoring XObject: "${En}".`);continue}}if(!(Cn instanceof qt.BaseStream))continue;Cn.dict.objId&&mn.put(Cn.dict.objId);const Fn=Cn.dict.get("Resources");Fn instanceof Rt.Dict&&(Fn.objId&&mn.has(Fn.objId)||(fn.push(Fn),Fn.objId&&mn.put(Fn.objId)))}}for(const ln of mn)Sn.put(ln);return!1}async fetchBuiltInCMap(_n){const Sn=this.builtInCMapCache.get(_n);if(Sn)return Sn;let mn;if(this.options.cMapUrl!==null){const fn=`${this.options.cMapUrl}${_n}.bcmap`,Jt=await fetch(fn);if(!Jt.ok)throw new Error(`fetchBuiltInCMap: failed to fetch file "${fn}" with "${Jt.statusText}".`);mn={cMapData:new Uint8Array(await Jt.arrayBuffer()),compressionType:wt.CMapCompressionType.BINARY}}else mn=await this.handler.sendWithPromise("FetchBuiltInCMap",{name:_n});return mn.compressionType!==wt.CMapCompressionType.NONE&&this.builtInCMapCache.set(_n,mn),mn}async fetchStandardFontData(_n){const Sn=this.standardFontDataCache.get(_n);if(Sn)return new kt.Stream(Sn);if(this.options.useSystemFonts&&_n!=="Symbol"&&_n!=="ZapfDingbats")return null;const mn=(0,Pt.getFontNameToFileMap)(),fn=mn[_n];let Jt;if(this.options.standardFontDataUrl!==null){const ln=`${this.options.standardFontDataUrl}${fn}`,pn=await fetch(ln);pn.ok?Jt=await pn.arrayBuffer():(0,wt.warn)(`fetchStandardFontData: failed to fetch file "${ln}" with "${pn.statusText}".`)}else try{Jt=await this.handler.sendWithPromise("FetchStandardFontData",{filename:fn})}catch(ln){(0,wt.warn)(`fetchStandardFontData: failed to fetch file "${fn}" with "${ln}".`)}return Jt?(this.standardFontDataCache.set(_n,Jt),new kt.Stream(Jt)):null}async buildFormXObject(_n,Sn,mn,fn,Jt,ln,pn){const wn=Sn.dict,Cn=wn.getArray("Matrix");let Fn=wn.getArray("BBox");Fn=Array.isArray(Fn)&&Fn.length===4?wt.Util.normalizeRect(Fn):null;let En,An;wn.has("OC")&&(En=await this.parseMarkedContentProps(wn.get("OC"),_n)),En!==void 0&&fn.addOp(wt.OPS.beginMarkedContentProps,["OC",En]);const Tn=wn.get("Group");if(Tn){An={matrix:Cn,bbox:Fn,smask:mn,isolated:!1,knockout:!1};const Rn=Tn.get("S");let Dn=null;if((0,Rt.isName)(Rn,"Transparency")&&(An.isolated=Tn.get("I")||!1,An.knockout=Tn.get("K")||!1,Tn.has("CS"))){const Ln=Tn.getRaw("CS"),Un=Gt.ColorSpace.getCached(Ln,this.xref,pn);Un?Dn=Un:Dn=await this.parseColorSpace({cs:Ln,resources:_n,localColorSpaceCache:pn})}mn!=null&&mn.backdrop&&(Dn||(Dn=Gt.ColorSpace.singletons.rgb),mn.backdrop=Dn.getRgb(mn.backdrop,0)),fn.addOp(wt.OPS.beginGroup,[An])}const In=Tn?[Cn,null]:[Cn,Fn];return fn.addOp(wt.OPS.paintFormXObjectBegin,In),this.getOperatorList({stream:Sn,task:Jt,resources:wn.get("Resources")||_n,operatorList:fn,initialState:ln}).then(function(){fn.addOp(wt.OPS.paintFormXObjectEnd,[]),Tn&&fn.addOp(wt.OPS.endGroup,[An]),En!==void 0&&fn.addOp(wt.OPS.endMarkedContent,[])})}_sendImgData(_n,Sn,mn=!1){const fn=Sn?[Sn.bitmap||Sn.data.buffer]:null;return this.parsingType3Font||mn?this.handler.send("commonobj",[_n,"Image",Sn],fn):this.handler.send("obj",[_n,this.pageIndex,"Image",Sn],fn)}async buildPaintImageXObject({resources:_n,image:Sn,isInline:mn=!1,operatorList:fn,cacheKey:Jt,localImageCache:ln,localColorSpaceCache:pn}){const wn=Sn.dict,Cn=wn.objId,Fn=wn.get("W","Width"),En=wn.get("H","Height");if(!(Fn&&typeof Fn=="number")||!(En&&typeof En=="number")){(0,wt.warn)("Image dimensions are missing, or not numbers.");return}const An=this.options.maxImageSize;if(An!==-1&&Fn*En>An){const er="Image exceeded maximum allowed size and was removed.";if(this.options.ignoreErrors){(0,wt.warn)(er);return}throw new Error(er)}let Tn;wn.has("OC")&&(Tn=await this.parseMarkedContentProps(wn.get("OC"),_n));const In=wn.get("IM","ImageMask")||!1;let Rn,Dn;if(In){const er=wn.get("I","Interpolate"),Qn=Fn+7>>3,Yn=Sn.getBytes(Qn*En),Xn=wn.getArray("D","Decode");if(this.parsingType3Font){if(Rn=Ut.PDFImage.createRawMask({imgArray:Yn,width:Fn,height:En,imageIsFromDecodeStream:Sn instanceof en.DecodeStream,inverseDecode:(Xn==null?void 0:Xn[0])>0,interpolate:er}),Rn.cached=!!Jt,Dn=[Rn],fn.addImageOps(wt.OPS.paintImageMaskXObject,Dn,Tn),Jt){const lr={fn:wt.OPS.paintImageMaskXObject,args:Dn,optionalContent:Tn};ln.set(Jt,Cn,lr),Cn&&this._regionalImageCache.set(null,Cn,lr)}return}if(Rn=await Ut.PDFImage.createMask({imgArray:Yn,width:Fn,height:En,imageIsFromDecodeStream:Sn instanceof en.DecodeStream,inverseDecode:(Xn==null?void 0:Xn[0])>0,interpolate:er,isOffscreenCanvasSupported:this.options.isOffscreenCanvasSupported}),Rn.isSingleOpaquePixel){if(fn.addImageOps(wt.OPS.paintSolidColorImageMask,[],Tn),Jt){const lr={fn:wt.OPS.paintSolidColorImageMask,args:[],optionalContent:Tn};ln.set(Jt,Cn,lr),Cn&&this._regionalImageCache.set(null,Cn,lr)}return}const nr=`mask_${this.idFactory.createObjId()}`;if(fn.addDependency(nr),this._sendImgData(nr,Rn),Dn=[{data:nr,width:Rn.width,height:Rn.height,interpolate:Rn.interpolate,count:1}],fn.addImageOps(wt.OPS.paintImageMaskXObject,Dn,Tn),Jt){const lr={fn:wt.OPS.paintImageMaskXObject,args:Dn,optionalContent:Tn};ln.set(Jt,Cn,lr),Cn&&this._regionalImageCache.set(null,Cn,lr)}return}if(mn&&!wn.has("SMask")&&!wn.has("Mask")&&Fn+En<200){Rn=await new Ut.PDFImage({xref:this.xref,res:_n,image:Sn,isInline:mn,pdfFunctionFactory:this._pdfFunctionFactory,localColorSpaceCache:pn}).createImageData(!0,!1),fn.isOffscreenCanvasSupported=this.options.isOffscreenCanvasSupported,fn.addImageOps(wt.OPS.paintInlineImageXObject,[Rn],Tn);return}let Un=`img_${this.idFactory.createObjId()}`,tr=!1;if(this.parsingType3Font?Un=`${this.idFactory.getDocId()}_type3_${Un}`:Cn&&(tr=this.globalImageCache.shouldCache(Cn,this.pageIndex),tr&&(Un=`${this.idFactory.getDocId()}_${Un}`)),fn.addDependency(Un),Dn=[Un,Fn,En],Ut.PDFImage.buildImage({xref:this.xref,res:_n,image:Sn,isInline:mn,pdfFunctionFactory:this._pdfFunctionFactory,localColorSpaceCache:pn}).then(async er=>{if(Rn=await er.createImageData(!1,this.options.isOffscreenCanvasSupported),Jt&&Cn&&tr){const Qn=Rn.bitmap?Rn.width*Rn.height*4:Rn.data.length;this.globalImageCache.addByteSize(Cn,Qn)}return this._sendImgData(Un,Rn,tr)}).catch(er=>((0,wt.warn)(`Unable to decode image "${Un}": "${er}".`),this._sendImgData(Un,null,tr))),fn.addImageOps(wt.OPS.paintImageXObject,Dn,Tn),Jt){const er={fn:wt.OPS.paintImageXObject,args:Dn,optionalContent:Tn};ln.set(Jt,Cn,er),Cn&&(this._regionalImageCache.set(null,Cn,er),tr&&((0,wt.assert)(!mn,"Cannot cache an inline image globally."),this.globalImageCache.setData(Cn,{objId:Un,fn:wt.OPS.paintImageXObject,args:Dn,optionalContent:Tn,byteSize:0})))}}handleSMask(_n,Sn,mn,fn,Jt,ln){const pn=_n.get("G"),wn={subtype:_n.get("S").name,backdrop:_n.get("BC")},Cn=_n.get("TR");if((0,$t.isPDFFunction)(Cn)){const Fn=this._pdfFunctionFactory.create(Cn),En=new Uint8Array(256),An=new Float32Array(1);for(let Tn=0;Tn<256;Tn++)An[0]=Tn/255,Fn(An,0,An,0),En[Tn]=An[0]*255|0;wn.transferMap=En}return this.buildFormXObject(Sn,pn,wn,mn,fn,Jt.state.clone(),ln)}handleTransferFunction(_n){let Sn;if(Array.isArray(_n))Sn=_n;else if((0,$t.isPDFFunction)(_n))Sn=[_n];else return null;const mn=[];let fn=0,Jt=0;for(const ln of Sn){const pn=this.xref.fetchIfRef(ln);if(fn++,(0,Rt.isName)(pn,"Identity")){mn.push(null);continue}else if(!(0,$t.isPDFFunction)(pn))return null;const wn=this._pdfFunctionFactory.create(pn),Cn=new Uint8Array(256),Fn=new Float32Array(1);for(let En=0;En<256;En++)Fn[0]=En/255,wn(Fn,0,Fn,0),Cn[En]=Fn[0]*255|0;mn.push(Cn),Jt++}return!(fn===1||fn===4)||Jt===0?null:mn}handleTilingType(_n,Sn,mn,fn,Jt,ln,pn,wn){const Cn=new un.OperatorList,Fn=Rt.Dict.merge({xref:this.xref,dictArray:[Jt.get("Resources"),mn]});return this.getOperatorList({stream:fn,task:pn,resources:Fn,operatorList:Cn}).then(function(){const En=Cn.getIR(),An=(0,Xt.getTilingPatternIR)(En,Jt,Sn);ln.addDependencies(Cn.dependencies),ln.addOp(_n,An),Jt.objId&&wn.set(null,Jt.objId,{operatorListIR:En,dict:Jt})}).catch(En=>{if(!(En instanceof wt.AbortException)){if(this.options.ignoreErrors){(0,wt.warn)(`handleTilingType - ignoring pattern: "${En}".`);return}throw En}})}handleSetFont(_n,Sn,mn,fn,Jt,ln,pn=null,wn=null){const Cn=(Sn==null?void 0:Sn[0])instanceof Rt.Name?Sn[0].name:null;return this.loadFont(Cn,mn,_n,pn,wn).then(Fn=>Fn.font.isType3Font?Fn.loadType3Data(this,_n,Jt).then(function(){return fn.addDependencies(Fn.type3Dependencies),Fn}).catch(En=>new cn({loadedName:"g_font_error",font:new _e.ErrorFont(`Type3 font load error: ${En}`),dict:Fn.font,evaluatorOptions:this.options})):Fn).then(Fn=>(ln.font=Fn.font,Fn.send(this.handler),Fn.loadedName))}handleText(_n,Sn){const mn=Sn.font,fn=mn.charsToGlyphs(_n);return mn.data&&(Sn.textRenderingMode&wt.TextRenderingMode.ADD_TO_PATH_FLAG||Sn.fillColorSpace.name==="Pattern"||mn.disableFontFace||this.options.disableFontFace)&&on.buildFontPaths(mn,fn,this.handler,this.options),fn}ensureStateFont(_n){if(_n.font)return;const Sn=new wt.FormatError("Missing setFont (Tf) operator before text rendering operator.");if(this.options.ignoreErrors){(0,wt.warn)(`ensureStateFont: "${Sn}".`);return}throw Sn}async setGState({resources:_n,gState:Sn,operatorList:mn,cacheKey:fn,task:Jt,stateManager:ln,localGStateCache:pn,localColorSpaceCache:wn}){const Cn=Sn.objId;let Fn=!0;const En=[];let An=Promise.resolve();for(const Tn of Sn.getKeys()){const In=Sn.get(Tn);switch(Tn){case"Type":break;case"LW":case"LC":case"LJ":case"ML":case"D":case"RI":case"FL":case"CA":case"ca":En.push([Tn,In]);break;case"Font":Fn=!1,An=An.then(()=>this.handleSetFont(_n,null,In[0],mn,Jt,ln.state).then(function(Dn){mn.addDependency(Dn),En.push([Tn,[Dn,In[1]]])}));break;case"BM":En.push([Tn,Vt(In)]);break;case"SMask":if((0,Rt.isName)(In,"None")){En.push([Tn,!1]);break}In instanceof Rt.Dict?(Fn=!1,An=An.then(()=>this.handleSMask(In,_n,mn,Jt,ln,wn)),En.push([Tn,!0])):(0,wt.warn)("Unsupported SMask type");break;case"TR":const Rn=this.handleTransferFunction(In);En.push([Tn,Rn]);break;case"OP":case"op":case"OPM":case"BG":case"BG2":case"UCR":case"UCR2":case"TR2":case"HT":case"SM":case"SA":case"AIS":case"TK":(0,wt.info)("graphic state operator "+Tn);break;default:(0,wt.info)("Unknown graphic state operator "+Tn);break}}return An.then(function(){En.length>0&&mn.addOp(wt.OPS.setGState,[En]),Fn&&pn.set(fn,Cn,En)})}loadFont(_n,Sn,mn,fn=null,Jt=null){const ln=async()=>new cn({loadedName:"g_font_error",font:new _e.ErrorFont(`Font "${_n}" is not available.`),dict:Sn,evaluatorOptions:this.options});let pn;if(Sn)Sn instanceof Rt.Ref&&(pn=Sn);else{const In=mn.get("Font");In&&(pn=In.getRaw(_n))}if(pn){if(this.parsingType3Font&&this.type3FontRefs.has(pn))return ln();if(this.fontCache.has(pn))return this.fontCache.get(pn);Sn=this.xref.fetchIfRef(pn)}if(!(Sn instanceof Rt.Dict)){if(!this.options.ignoreErrors&&!this.parsingType3Font)return(0,wt.warn)(`Font "${_n}" is not available.`),ln();(0,wt.warn)(`Font "${_n}" is not available -- attempting to fallback to a default font.`),Sn=fn||on.fallbackFontDict}if(Sn.cacheKey&&this.fontCache.has(Sn.cacheKey))return this.fontCache.get(Sn.cacheKey);const wn=new wt.PromiseCapability;let Cn;try{Cn=this.preEvaluateFont(Sn),Cn.cssFontInfo=Jt}catch(In){return(0,wt.warn)(`loadFont - preEvaluateFont failed: "${In}".`),ln()}const{descriptor:Fn,hash:En}=Cn,An=pn instanceof Rt.Ref;let Tn;if(En&&Fn instanceof Rt.Dict){const In=Fn.fontAliases||(Fn.fontAliases=Object.create(null));if(In[En]){const Rn=In[En].aliasRef;if(An&&Rn&&this.fontCache.has(Rn))return this.fontCache.putAlias(pn,Rn),this.fontCache.get(pn)}else In[En]={fontID:this.idFactory.createFontId()};An&&(In[En].aliasRef=pn),Tn=In[En].fontID}else Tn=this.idFactory.createFontId();return(0,wt.assert)(Tn==null?void 0:Tn.startsWith("f"),'The "fontID" must be (correctly) defined.'),An?this.fontCache.put(pn,wn.promise):(Sn.cacheKey=`cacheKey_${Tn}`,this.fontCache.put(Sn.cacheKey,wn.promise)),Sn.loadedName=`${this.idFactory.getDocId()}_${Tn}`,this.translateFont(Cn).then(In=>{wn.resolve(new cn({loadedName:Sn.loadedName,font:In,dict:Sn,evaluatorOptions:this.options}))}).catch(In=>{(0,wt.warn)(`loadFont - translateFont failed: "${In}".`),wn.resolve(new cn({loadedName:Sn.loadedName,font:new _e.ErrorFont(In instanceof Error?In.message:In),dict:Sn,evaluatorOptions:this.options}))}),wn.promise}buildPath(_n,Sn,mn,fn=!1){const Jt=_n.length-1;if(mn||(mn=[]),Jt<0||_n.fnArray[Jt]!==wt.OPS.constructPath){fn&&((0,wt.warn)(`Encountered path operator "${Sn}" inside of a text object.`),_n.addOp(wt.OPS.save,null));let ln;switch(Sn){case wt.OPS.rectangle:const pn=mn[0]+mn[2],wn=mn[1]+mn[3];ln=[Math.min(mn[0],pn),Math.max(mn[0],pn),Math.min(mn[1],wn),Math.max(mn[1],wn)];break;case wt.OPS.moveTo:case wt.OPS.lineTo:ln=[mn[0],mn[0],mn[1],mn[1]];break;default:ln=[1/0,-1/0,1/0,-1/0];break}_n.addOp(wt.OPS.constructPath,[[Sn],mn,ln]),fn&&_n.addOp(wt.OPS.restore,null)}else{const ln=_n.argsArray[Jt];ln[0].push(Sn),ln[1].push(...mn);const pn=ln[2];switch(Sn){case wt.OPS.rectangle:const wn=mn[0]+mn[2],Cn=mn[1]+mn[3];pn[0]=Math.min(pn[0],mn[0],wn),pn[1]=Math.max(pn[1],mn[0],wn),pn[2]=Math.min(pn[2],mn[1],Cn),pn[3]=Math.max(pn[3],mn[1],Cn);break;case wt.OPS.moveTo:case wt.OPS.lineTo:pn[0]=Math.min(pn[0],mn[0]),pn[1]=Math.max(pn[1],mn[0]),pn[2]=Math.min(pn[2],mn[1]),pn[3]=Math.max(pn[3],mn[1]);break}}}parseColorSpace({cs:_n,resources:Sn,localColorSpaceCache:mn}){return Gt.ColorSpace.parseAsync({cs:_n,xref:this.xref,resources:Sn,pdfFunctionFactory:this._pdfFunctionFactory,localColorSpaceCache:mn}).catch(fn=>{if(fn instanceof wt.AbortException)return null;if(this.options.ignoreErrors)return(0,wt.warn)(`parseColorSpace - ignoring ColorSpace: "${fn}".`),null;throw fn})}parseShading({shading:_n,resources:Sn,localColorSpaceCache:mn,localShadingPatternCache:fn}){let Jt=fn.get(_n);if(!Jt){var ln=Xt.Pattern.parseShading(_n,this.xref,Sn,this._pdfFunctionFactory,mn);const pn=ln.getIR();Jt=`pattern_${this.idFactory.createObjId()}`,this.parsingType3Font&&(Jt=`${this.idFactory.getDocId()}_type3_${Jt}`),fn.set(_n,Jt),this.parsingType3Font?this.handler.send("commonobj",[Jt,"Pattern",pn]):this.handler.send("obj",[Jt,this.pageIndex,"Pattern",pn])}return Jt}handleColorN(_n,Sn,mn,fn,Jt,ln,pn,wn,Cn,Fn){const En=mn.pop();if(En instanceof Rt.Name){const An=Jt.getRaw(En.name),Tn=An instanceof Rt.Ref&&Cn.getByRef(An);if(Tn)try{const Rn=fn.base?fn.base.getRgb(mn,0):null,Dn=(0,Xt.getTilingPatternIR)(Tn.operatorListIR,Tn.dict,Rn);_n.addOp(Sn,Dn);return}catch{}const In=this.xref.fetchIfRef(An);if(In){const Rn=In instanceof qt.BaseStream?In.dict:In,Dn=Rn.get("PatternType");if(Dn===Ht.TILING){const Ln=fn.base?fn.base.getRgb(mn,0):null;return this.handleTilingType(Sn,Ln,ln,In,Rn,_n,pn,Cn)}else if(Dn===Ht.SHADING){const Ln=Rn.get("Shading"),Un=Rn.getArray("Matrix"),tr=this.parseShading({shading:Ln,resources:ln,localColorSpaceCache:wn,localShadingPatternCache:Fn});_n.addOp(Sn,["Shading",tr,Un]);return}throw new wt.FormatError(`Unknown PatternType: ${Dn}`)}}throw new wt.FormatError(`Unknown PatternName: ${En}`)}_parseVisibilityExpression(_n,Sn,mn){if(++Sn>10){(0,wt.warn)("Visibility expression is too deeply nested");return}const Jt=_n.length,ln=this.xref.fetchIfRef(_n[0]);if(Jt<2||!(ln instanceof Rt.Name)){(0,wt.warn)("Invalid visibility expression");return}switch(ln.name){case"And":case"Or":case"Not":mn.push(ln.name);break;default:(0,wt.warn)(`Invalid operator ${ln.name} in visibility expression`);return}for(let pn=1;pn<Jt;pn++){const wn=_n[pn],Cn=this.xref.fetchIfRef(wn);if(Array.isArray(Cn)){const Fn=[];mn.push(Fn),this._parseVisibilityExpression(Cn,Sn,Fn)}else wn instanceof Rt.Ref&&mn.push(wn.toString())}}async parseMarkedContentProps(_n,Sn){var Jt;let mn;if(_n instanceof Rt.Name)mn=Sn.get("Properties").get(_n.name);else if(_n instanceof Rt.Dict)mn=_n;else throw new wt.FormatError("Optional content properties malformed.");const fn=(Jt=mn.get("Type"))==null?void 0:Jt.name;if(fn==="OCG")return{type:fn,id:mn.objId};if(fn==="OCMD"){const ln=mn.get("VE");if(Array.isArray(ln)){const wn=[];if(this._parseVisibilityExpression(ln,0,wn),wn.length>0)return{type:"OCMD",expression:wn}}const pn=mn.get("OCGs");if(Array.isArray(pn)||pn instanceof Rt.Dict){const wn=[];if(Array.isArray(pn))for(const Cn of pn)wn.push(Cn.toString());else wn.push(pn.objId);return{type:fn,ids:wn,policy:mn.get("P")instanceof Rt.Name?mn.get("P").name:null,expression:null}}else if(pn instanceof Rt.Ref)return{type:fn,id:pn.toString()}}return null}getOperatorList({stream:_n,task:Sn,resources:mn,operatorList:fn,initialState:Jt=null,fallbackFontDict:ln=null}){if(mn||(mn=Rt.Dict.empty),Jt||(Jt=new xn),!fn)throw new Error('getOperatorList: missing "operatorList" parameter');const pn=this,wn=this.xref;let Cn=!1;const Fn=new jt.LocalImageCache,En=new jt.LocalColorSpaceCache,An=new jt.LocalGStateCache,Tn=new jt.LocalTilingPatternCache,In=new Map,Rn=mn.get("XObject")||Rt.Dict.empty,Dn=mn.get("Pattern")||Rt.Dict.empty,Ln=new sn(Jt),Un=new vn(_n,wn,Ln),tr=new hn;function er(Qn){for(let Yn=0,Xn=Un.savedStatesDepth;Yn<Xn;Yn++)fn.addOp(wt.OPS.restore,[])}return new Promise(function Qn(Yn,Xn){const nr=function(or){Promise.all([or,fn.ready]).then(function(){try{Qn(Yn,Xn)}catch(pr){Xn(pr)}},Xn)};Sn.ensureNotTerminated(),tr.reset();const lr={};let dr,Bn,Hn,Wn,cr,sr;for(;!(dr=tr.check())&&(lr.args=null,!!Un.read(lr));){let or=lr.args,pr=lr.fn;switch(pr|0){case wt.OPS.paintXObject:if(sr=or[0]instanceof Rt.Name,cr=or[0].name,sr){const fr=Fn.getByName(cr);if(fr){fn.addImageOps(fr.fn,fr.args,fr.optionalContent),nn(fr),or=null;continue}}nr(new Promise(function(fr,Ar){if(!sr)throw new wt.FormatError("XObject must be referred to by name.");let Lr=Rn.getRaw(cr);if(Lr instanceof Rt.Ref){const $r=Fn.getByRef(Lr)||pn._regionalImageCache.getByRef(Lr);if($r){fn.addImageOps($r.fn,$r.args,$r.optionalContent),nn($r),fr();return}const Er=pn.globalImageCache.getData(Lr,pn.pageIndex);if(Er){fn.addDependency(Er.objId),fn.addImageOps(Er.fn,Er.args,Er.optionalContent),fr();return}Lr=wn.fetch(Lr)}if(!(Lr instanceof qt.BaseStream))throw new wt.FormatError("XObject should be a stream");const Pr=Lr.dict.get("Subtype");if(!(Pr instanceof Rt.Name))throw new wt.FormatError("XObject should have a Name subtype");if(Pr.name==="Form"){Ln.save(),pn.buildFormXObject(mn,Lr,null,fn,Sn,Ln.state.clone(),En).then(function(){Ln.restore(),fr()},Ar);return}else if(Pr.name==="Image"){pn.buildPaintImageXObject({resources:mn,image:Lr,operatorList:fn,cacheKey:cr,localImageCache:Fn,localColorSpaceCache:En}).then(fr,Ar);return}else if(Pr.name==="PS")(0,wt.info)("Ignored XObject subtype PS");else throw new wt.FormatError(`Unhandled XObject subtype ${Pr.name}`);fr()}).catch(function(fr){if(!(fr instanceof wt.AbortException)){if(pn.options.ignoreErrors){(0,wt.warn)(`getOperatorList - ignoring XObject: "${fr}".`);return}throw fr}}));return;case wt.OPS.setFont:var xr=or[1];nr(pn.handleSetFont(mn,or,null,fn,Sn,Ln.state,ln).then(function(fr){fn.addDependency(fr),fn.addOp(wt.OPS.setFont,[fr,xr])}));return;case wt.OPS.beginText:Cn=!0;break;case wt.OPS.endText:Cn=!1;break;case wt.OPS.endInlineImage:var Jn=or[0].cacheKey;if(Jn){const fr=Fn.getByName(Jn);if(fr){fn.addImageOps(fr.fn,fr.args,fr.optionalContent),nn(fr),or=null;continue}}nr(pn.buildPaintImageXObject({resources:mn,image:or[0],isInline:!0,operatorList:fn,cacheKey:Jn,localImageCache:Fn,localColorSpaceCache:En}));return;case wt.OPS.showText:if(!Ln.state.font){pn.ensureStateFont(Ln.state);continue}or[0]=pn.handleText(or[0],Ln.state);break;case wt.OPS.showSpacedText:if(!Ln.state.font){pn.ensureStateFont(Ln.state);continue}var Vn=[],Zn=Ln.state;for(const fr of or[0])typeof fr=="string"?Vn.push(...pn.handleText(fr,Zn)):typeof fr=="number"&&Vn.push(fr);or[0]=Vn,pr=wt.OPS.showText;break;case wt.OPS.nextLineShowText:if(!Ln.state.font){pn.ensureStateFont(Ln.state);continue}fn.addOp(wt.OPS.nextLine),or[0]=pn.handleText(or[0],Ln.state),pr=wt.OPS.showText;break;case wt.OPS.nextLineSetSpacingShowText:if(!Ln.state.font){pn.ensureStateFont(Ln.state);continue}fn.addOp(wt.OPS.nextLine),fn.addOp(wt.OPS.setWordSpacing,[or.shift()]),fn.addOp(wt.OPS.setCharSpacing,[or.shift()]),or[0]=pn.handleText(or[0],Ln.state),pr=wt.OPS.showText;break;case wt.OPS.setTextRenderingMode:Ln.state.textRenderingMode=or[0];break;case wt.OPS.setFillColorSpace:{const fr=Gt.ColorSpace.getCached(or[0],wn,En);if(fr){Ln.state.fillColorSpace=fr;continue}nr(pn.parseColorSpace({cs:or[0],resources:mn,localColorSpaceCache:En}).then(function(Ar){Ar&&(Ln.state.fillColorSpace=Ar)}));return}case wt.OPS.setStrokeColorSpace:{const fr=Gt.ColorSpace.getCached(or[0],wn,En);if(fr){Ln.state.strokeColorSpace=fr;continue}nr(pn.parseColorSpace({cs:or[0],resources:mn,localColorSpaceCache:En}).then(function(Ar){Ar&&(Ln.state.strokeColorSpace=Ar)}));return}case wt.OPS.setFillColor:Wn=Ln.state.fillColorSpace,or=Wn.getRgb(or,0),pr=wt.OPS.setFillRGBColor;break;case wt.OPS.setStrokeColor:Wn=Ln.state.strokeColorSpace,or=Wn.getRgb(or,0),pr=wt.OPS.setStrokeRGBColor;break;case wt.OPS.setFillGray:Ln.state.fillColorSpace=Gt.ColorSpace.singletons.gray,or=Gt.ColorSpace.singletons.gray.getRgb(or,0),pr=wt.OPS.setFillRGBColor;break;case wt.OPS.setStrokeGray:Ln.state.strokeColorSpace=Gt.ColorSpace.singletons.gray,or=Gt.ColorSpace.singletons.gray.getRgb(or,0),pr=wt.OPS.setStrokeRGBColor;break;case wt.OPS.setFillCMYKColor:Ln.state.fillColorSpace=Gt.ColorSpace.singletons.cmyk,or=Gt.ColorSpace.singletons.cmyk.getRgb(or,0),pr=wt.OPS.setFillRGBColor;break;case wt.OPS.setStrokeCMYKColor:Ln.state.strokeColorSpace=Gt.ColorSpace.singletons.cmyk,or=Gt.ColorSpace.singletons.cmyk.getRgb(or,0),pr=wt.OPS.setStrokeRGBColor;break;case wt.OPS.setFillRGBColor:Ln.state.fillColorSpace=Gt.ColorSpace.singletons.rgb,or=Gt.ColorSpace.singletons.rgb.getRgb(or,0);break;case wt.OPS.setStrokeRGBColor:Ln.state.strokeColorSpace=Gt.ColorSpace.singletons.rgb,or=Gt.ColorSpace.singletons.rgb.getRgb(or,0);break;case wt.OPS.setFillColorN:if(Wn=Ln.state.fillColorSpace,Wn.name==="Pattern"){nr(pn.handleColorN(fn,wt.OPS.setFillColorN,or,Wn,Dn,mn,Sn,En,Tn,In));return}or=Wn.getRgb(or,0),pr=wt.OPS.setFillRGBColor;break;case wt.OPS.setStrokeColorN:if(Wn=Ln.state.strokeColorSpace,Wn.name==="Pattern"){nr(pn.handleColorN(fn,wt.OPS.setStrokeColorN,or,Wn,Dn,mn,Sn,En,Tn,In));return}or=Wn.getRgb(or,0),pr=wt.OPS.setStrokeRGBColor;break;case wt.OPS.shadingFill:var ur=mn.get("Shading");if(!ur)throw new wt.FormatError("No shading resource found");var hr=ur.get(or[0].name);if(!hr)throw new wt.FormatError("No shading object found");or=[pn.parseShading({shading:hr,resources:mn,localColorSpaceCache:En,localShadingPatternCache:In})],pr=wt.OPS.shadingFill;break;case wt.OPS.setGState:if(sr=or[0]instanceof Rt.Name,cr=or[0].name,sr){const fr=An.getByName(cr);if(fr){fr.length>0&&fn.addOp(wt.OPS.setGState,[fr]),or=null;continue}}nr(new Promise(function(fr,Ar){if(!sr)throw new wt.FormatError("GState must be referred to by name.");const Lr=mn.get("ExtGState");if(!(Lr instanceof Rt.Dict))throw new wt.FormatError("ExtGState should be a dictionary.");const Pr=Lr.get(cr);if(!(Pr instanceof Rt.Dict))throw new wt.FormatError("GState should be a dictionary.");pn.setGState({resources:mn,gState:Pr,operatorList:fn,cacheKey:cr,task:Sn,stateManager:Ln,localGStateCache:An,localColorSpaceCache:En}).then(fr,Ar)}).catch(function(fr){if(!(fr instanceof wt.AbortException)){if(pn.options.ignoreErrors){(0,wt.warn)(`getOperatorList - ignoring ExtGState: "${fr}".`);return}throw fr}}));return;case wt.OPS.moveTo:case wt.OPS.lineTo:case wt.OPS.curveTo:case wt.OPS.curveTo2:case wt.OPS.curveTo3:case wt.OPS.closePath:case wt.OPS.rectangle:pn.buildPath(fn,pr,or,Cn);continue;case wt.OPS.markPoint:case wt.OPS.markPointProps:case wt.OPS.beginCompat:case wt.OPS.endCompat:continue;case wt.OPS.beginMarkedContentProps:if(!(or[0]instanceof Rt.Name)){(0,wt.warn)(`Expected name for beginMarkedContentProps arg0=${or[0]}`);continue}if(or[0].name==="OC"){nr(pn.parseMarkedContentProps(or[1],mn).then(fr=>{fn.addOp(wt.OPS.beginMarkedContentProps,["OC",fr])}).catch(fr=>{if(!(fr instanceof wt.AbortException)){if(pn.options.ignoreErrors){(0,wt.warn)(`getOperatorList - ignoring beginMarkedContentProps: "${fr}".`);return}throw fr}}));return}or=[or[0].name,or[1]instanceof Rt.Dict?or[1].get("MCID"):null];break;case wt.OPS.beginMarkedContent:case wt.OPS.endMarkedContent:default:if(or!==null){for(Bn=0,Hn=or.length;Bn<Hn&&!(or[Bn]instanceof Rt.Dict);Bn++);if(Bn<Hn){(0,wt.warn)("getOperatorList - ignoring operator: "+pr);continue}}}fn.addOp(pr,or)}if(dr){nr(zt);return}er(),Yn()}).catch(Qn=>{if(!(Qn instanceof wt.AbortException)){if(this.options.ignoreErrors){(0,wt.warn)(`getOperatorList - ignoring errors during "${Sn.name}" task: "${Qn}".`),er();return}throw Qn}})}getTextContent({stream:_n,task:Sn,resources:mn,stateManager:fn=null,includeMarkedContent:Jt=!1,sink:ln,seenStyles:pn=new Set,viewBox:wn,markedContentData:Cn=null,disableNormalization:Fn=!1}){mn||(mn=Rt.Dict.empty),fn||(fn=new sn(new rn)),Jt&&(Cn||(Cn={level:0}));const En={items:[],styles:Object.create(null)},An={initialized:!1,str:[],totalWidth:0,totalHeight:0,width:0,height:0,vertical:!1,prevTransform:null,textAdvanceScale:0,spaceInFlowMin:0,spaceInFlowMax:0,trackingSpaceMin:1/0,negativeSpaceMax:-1/0,notASpace:-1/0,transform:null,fontName:null,hasEOL:!1},Tn=[" "," "];let In=0;function Rn(Er){const _r=(In+1)%2,Fr=Tn[In]!==" "&&Tn[_r]===" ";return Tn[In]=Er,In=_r,Fr}function Dn(){return Tn[In]!==" "&&Tn[(In+1)%2]===" "}function Ln(){Tn[0]=Tn[1]=" ",In=0}const Un=.102,tr=.03,er=-.2,Qn=.102,Yn=.6,Xn=.25,nr=this,lr=this.xref,dr=[];let Bn=null;const Hn=new jt.LocalImageCache,Wn=new jt.LocalGStateCache,cr=new vn(_n,lr,fn);let sr;function xr({width:Er=0,height:_r=0,transform:Fr=An.prevTransform,fontName:qr=An.fontName}){En.items.push({str:" ",dir:"ltr",width:Er,height:_r,transform:Fr,fontName:qr,hasEOL:!1})}function Jn(){const Er=sr.font,_r=[sr.fontSize*sr.textHScale,0,0,sr.fontSize,0,sr.textRise];if(Er.isType3Font&&(sr.fontSize<=1||Er.isCharBBox)&&!(0,wt.isArrayEqual)(sr.fontMatrix,wt.FONT_IDENTITY_MATRIX)){const Fr=Er.bbox[3]-Er.bbox[1];Fr>0&&(_r[3]*=Fr*sr.fontMatrix[3])}return wt.Util.transform(sr.ctm,wt.Util.transform(sr.textMatrix,_r))}function Vn(){if(An.initialized)return An;const{font:Er,loadedName:_r}=sr;pn.has(_r)||(pn.add(_r),En.styles[_r]={fontFamily:Er.fallbackName,ascent:Er.ascent,descent:Er.descent,vertical:Er.vertical}),An.fontName=_r;const Fr=An.transform=Jn();Er.vertical?(An.width=An.totalWidth=Math.hypot(Fr[0],Fr[1]),An.height=An.totalHeight=0,An.vertical=!0):(An.width=An.totalWidth=0,An.height=An.totalHeight=Math.hypot(Fr[2],Fr[3]),An.vertical=!1);const qr=Math.hypot(sr.textLineMatrix[0],sr.textLineMatrix[1]),vs=Math.hypot(sr.ctm[0],sr.ctm[1]);An.textAdvanceScale=vs*qr;const{fontSize:ls}=sr;return An.trackingSpaceMin=ls*Un,An.notASpace=ls*tr,An.negativeSpaceMax=ls*er,An.spaceInFlowMin=ls*Qn,An.spaceInFlowMax=ls*Yn,An.hasEOL=!1,An.initialized=!0,An}function Zn(){if(!An.initialized)return;const Er=Math.hypot(sr.textLineMatrix[0],sr.textLineMatrix[1]),Fr=Math.hypot(sr.ctm[0],sr.ctm[1])*Er;Fr!==An.textAdvanceScale&&(An.vertical?(An.totalHeight+=An.height*An.textAdvanceScale,An.height=0):(An.totalWidth+=An.width*An.textAdvanceScale,An.width=0),An.textAdvanceScale=Fr)}function ur(Er){let _r=Er.str.join("");Fn||(_r=(0,wt.normalizeUnicode)(_r));const Fr=(0,Bt.bidi)(_r,-1,Er.vertical);return{str:Fr.str,dir:Fr.dir,width:Math.abs(Er.totalWidth),height:Math.abs(Er.totalHeight),transform:Er.transform,fontName:Er.fontName,hasEOL:Er.hasEOL}}function hr(Er,_r){return nr.loadFont(Er,_r,mn).then(function(Fr){return Fr.font.isType3Font?Fr.loadType3Data(nr,mn,Sn).catch(function(){}).then(function(){return Fr}):Fr}).then(function(Fr){sr.loadedName=Fr.loadedName,sr.font=Fr.font,sr.fontMatrix=Fr.font.fontMatrix||wt.FONT_IDENTITY_MATRIX})}function or(Er,_r,Fr){const qr=Math.hypot(Fr[0],Fr[1]);return[(Fr[0]*Er+Fr[1]*_r)/qr,(Fr[2]*Er+Fr[3]*_r)/qr]}function pr(Er){var yr;const _r=Jn();let Fr=_r[4],qr=_r[5];if((yr=sr.font)!=null&&yr.vertical){if(Fr<wn[0]||Fr>wn[2]||qr+Er<wn[1]||qr>wn[3])return!1}else if(Fr+Er<wn[0]||Fr>wn[2]||qr<wn[1]||qr>wn[3])return!1;if(!sr.font||!An.prevTransform)return!0;let vs=An.prevTransform[4],ls=An.prevTransform[5];if(vs===Fr&&ls===qr)return!0;let ns=-1;switch(_r[0]&&_r[1]===0&&_r[2]===0?ns=_r[0]>0?0:180:_r[1]&&_r[0]===0&&_r[3]===0&&(ns=_r[1]>0?90:270),ns){case 0:break;case 90:[Fr,qr]=[qr,Fr],[vs,ls]=[ls,vs];break;case 180:[Fr,qr,vs,ls]=[-Fr,-qr,-vs,-ls];break;case 270:[Fr,qr]=[-qr,-Fr],[vs,ls]=[-ls,-vs];break;default:[Fr,qr]=or(Fr,qr,_r),[vs,ls]=or(vs,ls,An.prevTransform)}if(sr.font.vertical){const Sr=(ls-qr)/An.textAdvanceScale,Rr=Fr-vs,jr=Math.sign(An.height);return Sr<jr*An.negativeSpaceMax?Math.abs(Rr)>.5*An.width?(fr(),!0):(Ln(),Lr(),!0):Math.abs(Rr)>An.width?(fr(),!0):(Sr<=jr*An.notASpace&&Ln(),Sr<=jr*An.trackingSpaceMin?Dn()?(Ln(),Lr(),xr({height:Math.abs(Sr)})):An.height+=Sr:Ar(Sr,An.prevTransform,jr)||(An.str.length===0?(Ln(),xr({height:Math.abs(Sr)})):An.height+=Sr),Math.abs(Rr)>An.width*Xn&&Lr(),!0)}const Ns=(Fr-vs)/An.textAdvanceScale,Gs=qr-ls,vr=Math.sign(An.width);return Ns<vr*An.negativeSpaceMax?Math.abs(Gs)>.5*An.height?(fr(),!0):(Ln(),Lr(),!0):Math.abs(Gs)>An.height?(fr(),!0):(Ns<=vr*An.notASpace&&Ln(),Ns<=vr*An.trackingSpaceMin?Dn()?(Ln(),Lr(),xr({width:Math.abs(Ns)})):An.width+=Ns:Ar(Ns,An.prevTransform,vr)||(An.str.length===0?(Ln(),xr({width:Math.abs(Ns)})):An.width+=Ns),Math.abs(Gs)>An.height*Xn&&Lr(),!0)}function wr({chars:Er,extraSpacing:_r}){const Fr=sr.font;if(!Er){const ls=sr.charSpacing+_r;ls&&(Fr.vertical?sr.translateTextMatrix(0,-ls):sr.translateTextMatrix(ls*sr.textHScale,0));return}const qr=Fr.charsToGlyphs(Er),vs=sr.fontMatrix[0]*sr.fontSize;for(let ls=0,ns=qr.length;ls<ns;ls++){const Ns=qr[ls],{category:Gs}=Ns;if(Gs.isInvisibleFormatMark)continue;let vr=sr.charSpacing+(ls+1===ns?_r:0),yr=Ns.width;Fr.vertical&&(yr=Ns.vmetric?Ns.vmetric[0]:-yr);let Sr=yr*vs;if(Gs.isWhitespace){Fr.vertical?(vr+=-Sr+sr.wordSpacing,sr.translateTextMatrix(0,-vr)):(vr+=Sr+sr.wordSpacing,sr.translateTextMatrix(vr*sr.textHScale,0)),Rn(" ");continue}if(!Gs.isZeroWidthDiacritic&&!pr(Sr)){Fr.vertical?sr.translateTextMatrix(0,Sr):sr.translateTextMatrix(Sr*sr.textHScale,0);continue}const Rr=Vn();Gs.isZeroWidthDiacritic&&(Sr=0),Fr.vertical?(sr.translateTextMatrix(0,Sr),Sr=Math.abs(Sr),Rr.height+=Sr):(Sr*=sr.textHScale,sr.translateTextMatrix(Sr,0),Rr.width+=Sr),Sr&&(Rr.prevTransform=Jn());const jr=Ns.unicode;Rn(jr)&&Rr.str.push(" "),Rr.str.push(jr),vr&&(Fr.vertical?sr.translateTextMatrix(0,-vr):sr.translateTextMatrix(vr*sr.textHScale,0))}}function fr(){Ln(),An.initialized?(An.hasEOL=!0,Lr()):En.items.push({str:"",dir:"ltr",width:0,height:0,transform:Jn(),fontName:sr.loadedName,hasEOL:!0})}function Ar(Er,_r,Fr){if(Fr*An.spaceInFlowMin<=Er&&Er<=Fr*An.spaceInFlowMax)return An.initialized&&(Ln(),An.str.push(" ")),!1;const qr=An.fontName;let vs=0;return An.vertical&&(vs=Er,Er=0),Lr(),Ln(),xr({width:Math.abs(Er),height:Math.abs(vs),transform:_r||Jn(),fontName:qr}),!0}function Lr(){!An.initialized||!An.str||(An.vertical?An.totalHeight+=An.height*An.textAdvanceScale:An.totalWidth+=An.width*An.textAdvanceScale,En.items.push(ur(An)),An.initialized=!1,An.str.length=0)}function Pr(Er=!1){const _r=En.items.length;_r!==0&&(Er&&_r<an||(ln.enqueue(En,_r),En.items=[],En.styles=Object.create(null)))}const $r=new hn;return new Promise(function Er(_r,Fr){const qr=function(Sr){Pr(!0),Promise.all([Sr,ln.ready]).then(function(){try{Er(_r,Fr)}catch(Rr){Fr(Rr)}},Fr)};Sn.ensureNotTerminated(),$r.reset();const vs={};let ls,ns=[];for(;!(ls=$r.check())&&(ns.length=0,vs.args=ns,!!cr.read(vs));){const Sr=sr;sr=fn.state;const Rr=vs.fn;switch(ns=vs.args,Rr|0){case wt.OPS.setFont:var Ns=ns[0].name,Gs=ns[1];if(sr.font&&Ns===sr.fontName&&Gs===sr.fontSize)break;Lr(),sr.fontName=Ns,sr.fontSize=Gs,qr(hr(Ns,null));return;case wt.OPS.setTextRise:sr.textRise=ns[0];break;case wt.OPS.setHScale:sr.textHScale=ns[0]/100;break;case wt.OPS.setLeading:sr.leading=ns[0];break;case wt.OPS.moveText:sr.translateTextLineMatrix(ns[0],ns[1]),sr.textMatrix=sr.textLineMatrix.slice();break;case wt.OPS.setLeadingMoveText:sr.leading=-ns[1],sr.translateTextLineMatrix(ns[0],ns[1]),sr.textMatrix=sr.textLineMatrix.slice();break;case wt.OPS.nextLine:sr.carriageReturn();break;case wt.OPS.setTextMatrix:sr.setTextMatrix(ns[0],ns[1],ns[2],ns[3],ns[4],ns[5]),sr.setTextLineMatrix(ns[0],ns[1],ns[2],ns[3],ns[4],ns[5]),Zn();break;case wt.OPS.setCharSpacing:sr.charSpacing=ns[0];break;case wt.OPS.setWordSpacing:sr.wordSpacing=ns[0];break;case wt.OPS.beginText:sr.textMatrix=wt.IDENTITY_MATRIX.slice(),sr.textLineMatrix=wt.IDENTITY_MATRIX.slice();break;case wt.OPS.showSpacedText:if(!fn.state.font){nr.ensureStateFont(fn.state);continue}const jr=(sr.font.vertical?1:-1)*sr.fontSize/1e3,es=ns[0];for(let Or=0,Tr=es.length;Or<Tr;Or++){const Vr=es[Or];if(typeof Vr=="string")dr.push(Vr);else if(typeof Vr=="number"&&Vr!==0){const us=dr.join("");dr.length=0,wr({chars:us,extraSpacing:Vr*jr})}}if(dr.length>0){const Or=dr.join("");dr.length=0,wr({chars:Or,extraSpacing:0})}break;case wt.OPS.showText:if(!fn.state.font){nr.ensureStateFont(fn.state);continue}wr({chars:ns[0],extraSpacing:0});break;case wt.OPS.nextLineShowText:if(!fn.state.font){nr.ensureStateFont(fn.state);continue}sr.carriageReturn(),wr({chars:ns[0],extraSpacing:0});break;case wt.OPS.nextLineSetSpacingShowText:if(!fn.state.font){nr.ensureStateFont(fn.state);continue}sr.wordSpacing=ns[0],sr.charSpacing=ns[1],sr.carriageReturn(),wr({chars:ns[2],extraSpacing:0});break;case wt.OPS.paintXObject:Lr(),Bn||(Bn=mn.get("XObject")||Rt.Dict.empty);var vr=ns[0]instanceof Rt.Name,yr=ns[0].name;if(vr&&Hn.getByName(yr))break;qr(new Promise(function(Or,Tr){if(!vr)throw new wt.FormatError("XObject must be referred to by name.");let Vr=Bn.getRaw(yr);if(Vr instanceof Rt.Ref){if(Hn.getByRef(Vr)){Or();return}if(nr.globalImageCache.getData(Vr,nr.pageIndex)){Or();return}Vr=lr.fetch(Vr)}if(!(Vr instanceof qt.BaseStream))throw new wt.FormatError("XObject should be a stream");const us=Vr.dict.get("Subtype");if(!(us instanceof Rt.Name))throw new wt.FormatError("XObject should have a Name subtype");if(us.name!=="Form"){Hn.set(yr,Vr.dict.objId,!0),Or();return}const bs=fn.state.clone(),Jr=new sn(bs),ss=Vr.dict.getArray("Matrix");Array.isArray(ss)&&ss.length===6&&Jr.transform(ss),Pr();const ms={enqueueInvoked:!1,enqueue(Wr,hs){this.enqueueInvoked=!0,ln.enqueue(Wr,hs)},get desiredSize(){return ln.desiredSize},get ready(){return ln.ready}};nr.getTextContent({stream:Vr,task:Sn,resources:Vr.dict.get("Resources")||mn,stateManager:Jr,includeMarkedContent:Jt,sink:ms,seenStyles:pn,viewBox:wn,markedContentData:Cn,disableNormalization:Fn}).then(function(){ms.enqueueInvoked||Hn.set(yr,Vr.dict.objId,!0),Or()},Tr)}).catch(function(Or){if(!(Or instanceof wt.AbortException)){if(nr.options.ignoreErrors){(0,wt.warn)(`getTextContent - ignoring XObject: "${Or}".`);return}throw Or}}));return;case wt.OPS.setGState:if(vr=ns[0]instanceof Rt.Name,yr=ns[0].name,vr&&Wn.getByName(yr))break;qr(new Promise(function(Or,Tr){if(!vr)throw new wt.FormatError("GState must be referred to by name.");const Vr=mn.get("ExtGState");if(!(Vr instanceof Rt.Dict))throw new wt.FormatError("ExtGState should be a dictionary.");const us=Vr.get(yr);if(!(us instanceof Rt.Dict))throw new wt.FormatError("GState should be a dictionary.");const bs=us.get("Font");if(!bs){Wn.set(yr,us.objId,!0),Or();return}Lr(),sr.fontName=null,sr.fontSize=bs[1],hr(null,bs[0]).then(Or,Tr)}).catch(function(Or){if(!(Or instanceof wt.AbortException)){if(nr.options.ignoreErrors){(0,wt.warn)(`getTextContent - ignoring ExtGState: "${Or}".`);return}throw Or}}));return;case wt.OPS.beginMarkedContent:Lr(),Jt&&(Cn.level++,En.items.push({type:"beginMarkedContent",tag:ns[0]instanceof Rt.Name?ns[0].name:null}));break;case wt.OPS.beginMarkedContentProps:if(Lr(),Jt){Cn.level++;let Or=null;ns[1]instanceof Rt.Dict&&(Or=ns[1].get("MCID")),En.items.push({type:"beginMarkedContentProps",id:Number.isInteger(Or)?`${nr.idFactory.getPageObjId()}_mc${Or}`:null,tag:ns[0]instanceof Rt.Name?ns[0].name:null})}break;case wt.OPS.endMarkedContent:if(Lr(),Jt){if(Cn.level===0)break;Cn.level--,En.items.push({type:"endMarkedContent"})}break;case wt.OPS.restore:Sr&&(Sr.font!==sr.font||Sr.fontSize!==sr.fontSize||Sr.fontName!==sr.fontName)&&Lr();break}if(En.items.length>=ln.desiredSize){ls=!0;break}}if(ls){qr(zt);return}Lr(),Pr(),_r()}).catch(Er=>{if(!(Er instanceof wt.AbortException)){if(this.options.ignoreErrors){(0,wt.warn)(`getTextContent - ignoring errors during "${Sn.name}" task: "${Er}".`),Lr(),Pr();return}throw Er}})}extractDataStructures(_n,Sn,mn){const fn=this.xref;let Jt;const ln=this.readToUnicode(mn.toUnicode||_n.get("ToUnicode")||Sn.get("ToUnicode"));if(mn.composite){const An=_n.get("CIDSystemInfo");An instanceof Rt.Dict&&(mn.cidSystemInfo={registry:(0,wt.stringToPDFString)(An.get("Registry")),ordering:(0,wt.stringToPDFString)(An.get("Ordering")),supplement:An.get("Supplement")});try{const Tn=_n.get("CIDToGIDMap");Tn instanceof qt.BaseStream&&(Jt=Tn.getBytes())}catch(Tn){if(!this.options.ignoreErrors)throw Tn;(0,wt.warn)(`extractDataStructures - ignoring CIDToGIDMap data: "${Tn}".`)}}const pn=[];let wn=null,Cn;if(_n.has("Encoding")){if(Cn=_n.get("Encoding"),Cn instanceof Rt.Dict){if(wn=Cn.get("BaseEncoding"),wn=wn instanceof Rt.Name?wn.name:null,Cn.has("Differences")){const An=Cn.get("Differences");let Tn=0;for(const In of An){const Rn=fn.fetchIfRef(In);if(typeof Rn=="number")Tn=Rn;else if(Rn instanceof Rt.Name)pn[Tn++]=Rn.name;else throw new wt.FormatError(`Invalid entry in 'Differences' array: ${Rn}`)}}}else if(Cn instanceof Rt.Name)wn=Cn.name;else{const An="Encoding is not a Name nor a Dict";if(!this.options.ignoreErrors)throw new wt.FormatError(An);(0,wt.warn)(An)}wn!=="MacRomanEncoding"&&wn!=="MacExpertEncoding"&&wn!=="WinAnsiEncoding"&&(wn=null)}const Fn=!mn.file||mn.isInternalFont,En=(0,Pt.getSymbolsFonts)()[mn.name];if(wn&&Fn&&En&&(wn=null),wn)mn.defaultEncoding=(0,bt.getEncoding)(wn);else{const An=!!(mn.flags&dn.FontFlags.Symbolic),Tn=!!(mn.flags&dn.FontFlags.Nonsymbolic);Cn=bt.StandardEncoding,mn.type==="TrueType"&&!Tn&&(Cn=bt.WinAnsiEncoding),(An||En)&&(Cn=bt.MacRomanEncoding,Fn&&(/Symbol/i.test(mn.name)?Cn=bt.SymbolSetEncoding:/Dingbats/i.test(mn.name)?Cn=bt.ZapfDingbatsEncoding:/Wingdings/i.test(mn.name)&&(Cn=bt.WinAnsiEncoding))),mn.defaultEncoding=Cn}return mn.differences=pn,mn.baseEncodingName=wn,mn.hasEncoding=!!wn||pn.length>0,mn.dict=_n,ln.then(An=>(mn.toUnicode=An,this.buildToUnicode(mn))).then(An=>(mn.toUnicode=An,Jt&&(mn.cidToGidMap=this.readCidToGidMap(Jt,An)),mn))}_simpleFontToUnicode(_n,Sn=!1){(0,wt.assert)(!_n.composite,"Must be a simple font.");const mn=[],fn=_n.defaultEncoding.slice(),Jt=_n.baseEncodingName,ln=_n.differences;for(const wn in ln){const Cn=ln[wn];Cn!==".notdef"&&(fn[wn]=Cn)}const pn=(0,gn.getGlyphsUnicode)();for(const wn in fn){let Cn=fn[wn];if(Cn==="")continue;let Fn=pn[Cn];if(Fn!==void 0){mn[wn]=String.fromCharCode(Fn);continue}let En=0;switch(Cn[0]){case"G":Cn.length===3&&(En=parseInt(Cn.substring(1),16));break;case"g":Cn.length===5&&(En=parseInt(Cn.substring(1),16));break;case"C":case"c":if(Cn.length>=3&&Cn.length<=4){const An=Cn.substring(1);if(Sn){En=parseInt(An,16);break}if(En=+An,Number.isNaN(En)&&Number.isInteger(parseInt(An,16)))return this._simpleFontToUnicode(_n,!0)}break;case"u":Fn=(0,bn.getUnicodeForGlyph)(Cn,pn),Fn!==-1&&(En=Fn);break;default:switch(Cn){case"f_h":case"f_t":case"T_h":mn[wn]=Cn.replaceAll("_","");continue}break}if(En>0&&En<=1114111&&Number.isInteger(En)){if(Jt&&En===+wn){const An=(0,bt.getEncoding)(Jt);if(An&&(Cn=An[wn])){mn[wn]=String.fromCharCode(pn[Cn]);continue}}mn[wn]=String.fromCodePoint(En)}}return mn}async buildToUnicode(_n){var Sn;if(_n.hasIncludedToUnicodeMap=((Sn=_n.toUnicode)==null?void 0:Sn.length)>0,_n.hasIncludedToUnicodeMap)return!_n.composite&&_n.hasEncoding&&(_n.fallbackToUnicode=this._simpleFontToUnicode(_n)),_n.toUnicode;if(!_n.composite)return new Nt.ToUnicodeMap(this._simpleFontToUnicode(_n));if(_n.composite&&(_n.cMap.builtInCMap&&!(_n.cMap instanceof _t.IdentityCMap)||_n.cidSystemInfo.registry==="Adobe"&&(_n.cidSystemInfo.ordering==="GB1"||_n.cidSystemInfo.ordering==="CNS1"||_n.cidSystemInfo.ordering==="Japan1"||_n.cidSystemInfo.ordering==="Korea1"))){const{registry:mn,ordering:fn}=_n.cidSystemInfo,Jt=Rt.Name.get(`${mn}-${fn}-UCS2`),ln=await _t.CMapFactory.create({encoding:Jt,fetchBuiltInCMap:this._fetchBuiltInCMapBound,useCMap:null}),pn=[],wn=[];return _n.cMap.forEach(function(Cn,Fn){if(Fn>65535)throw new wt.FormatError("Max size of CID is 65,535");const En=ln.lookup(Fn);if(En){wn.length=0;for(let An=0,Tn=En.length;An<Tn;An+=2)wn.push((En.charCodeAt(An)<<8)+En.charCodeAt(An+1));pn[Cn]=String.fromCharCode(...wn)}}),new Nt.ToUnicodeMap(pn)}return new Nt.IdentityToUnicodeMap(_n.firstChar,_n.lastChar)}readToUnicode(_n){return _n?_n instanceof Rt.Name?_t.CMapFactory.create({encoding:_n,fetchBuiltInCMap:this._fetchBuiltInCMapBound,useCMap:null}).then(function(Sn){return Sn instanceof _t.IdentityCMap?new Nt.IdentityToUnicodeMap(0,65535):new Nt.ToUnicodeMap(Sn.getMap())}):_n instanceof qt.BaseStream?_t.CMapFactory.create({encoding:_n,fetchBuiltInCMap:this._fetchBuiltInCMapBound,useCMap:null}).then(function(Sn){if(Sn instanceof _t.IdentityCMap)return new Nt.IdentityToUnicodeMap(0,65535);const mn=new Array(Sn.length);return Sn.forEach(function(fn,Jt){if(typeof Jt=="number"){mn[fn]=String.fromCodePoint(Jt);return}const ln=[];for(let pn=0;pn<Jt.length;pn+=2){const wn=Jt.charCodeAt(pn)<<8|Jt.charCodeAt(pn+1);if((wn&63488)!==55296){ln.push(wn);continue}pn+=2;const Cn=Jt.charCodeAt(pn)<<8|Jt.charCodeAt(pn+1);ln.push(((wn&1023)<<10)+(Cn&1023)+65536)}mn[fn]=String.fromCodePoint(...ln)}),new Nt.ToUnicodeMap(mn)},Sn=>{if(Sn instanceof wt.AbortException)return null;if(this.options.ignoreErrors)return(0,wt.warn)(`readToUnicode - ignoring ToUnicode data: "${Sn}".`),null;throw Sn}):Promise.resolve(null):Promise.resolve(null)}readCidToGidMap(_n,Sn){const mn=[];for(let fn=0,Jt=_n.length;fn<Jt;fn++){const ln=_n[fn++]<<8|_n[fn],pn=fn>>1;ln===0&&!Sn.has(pn)||(mn[pn]=ln)}return mn}extractWidths(_n,Sn,mn){const fn=this.xref;let Jt=[],ln=0;const pn=[];let wn,Cn,Fn,En,An,Tn,In,Rn;if(mn.composite){if(ln=_n.has("DW")?_n.get("DW"):1e3,Rn=_n.get("W"),Rn)for(Cn=0,Fn=Rn.length;Cn<Fn;Cn++)if(Tn=fn.fetchIfRef(Rn[Cn++]),In=fn.fetchIfRef(Rn[Cn]),Array.isArray(In))for(En=0,An=In.length;En<An;En++)Jt[Tn++]=fn.fetchIfRef(In[En]);else{const Un=fn.fetchIfRef(Rn[++Cn]);for(En=Tn;En<=In;En++)Jt[En]=Un}if(mn.vertical){let Un=_n.getArray("DW2")||[880,-1e3];if(wn=[Un[1],ln*.5,Un[0]],Un=_n.get("W2"),Un)for(Cn=0,Fn=Un.length;Cn<Fn;Cn++)if(Tn=fn.fetchIfRef(Un[Cn++]),In=fn.fetchIfRef(Un[Cn]),Array.isArray(In))for(En=0,An=In.length;En<An;En++)pn[Tn++]=[fn.fetchIfRef(In[En++]),fn.fetchIfRef(In[En++]),fn.fetchIfRef(In[En])];else{const tr=[fn.fetchIfRef(Un[++Cn]),fn.fetchIfRef(Un[++Cn]),fn.fetchIfRef(Un[++Cn])];for(En=Tn;En<=In;En++)pn[En]=tr}}}else{const Un=mn.firstChar;if(Rn=_n.get("Widths"),Rn){for(En=Un,Cn=0,Fn=Rn.length;Cn<Fn;Cn++)Jt[En++]=fn.fetchIfRef(Rn[Cn]);ln=parseFloat(Sn.get("MissingWidth"))||0}else{const tr=_n.get("BaseFont");if(tr instanceof Rt.Name){const er=this.getBaseFontMetrics(tr.name);Jt=this.buildCharCodeToWidth(er.widths,mn),ln=er.defaultWidth}}}let Dn=!0,Ln=ln;for(const Un in Jt){const tr=Jt[Un];if(tr){if(!Ln){Ln=tr;continue}if(Ln!==tr){Dn=!1;break}}}Dn?mn.flags|=dn.FontFlags.FixedPitch:mn.flags&=~dn.FontFlags.FixedPitch,mn.defaultWidth=ln,mn.widths=Jt,mn.defaultVMetrics=wn,mn.vmetrics=pn}isSerifFont(_n){const Sn=_n.split("-")[0];return Sn in(0,Pt.getSerifFonts)()||/serif/gi.test(Sn)}getBaseFontMetrics(_n){let Sn=0,mn=Object.create(null),fn=!1,ln=(0,Pt.getStdFontMap)()[_n]||_n;const pn=(0,tn.getMetrics)();ln in pn||(ln=this.isSerifFont(_n)?"Times-Roman":"Helvetica");const wn=pn[ln];return typeof wn=="number"?(Sn=wn,fn=!0):mn=wn(),{defaultWidth:Sn,monospace:fn,widths:mn}}buildCharCodeToWidth(_n,Sn){const mn=Object.create(null),fn=Sn.differences,Jt=Sn.defaultEncoding;for(let ln=0;ln<256;ln++){if(ln in fn&&_n[fn[ln]]){mn[ln]=_n[fn[ln]];continue}if(ln in Jt&&_n[Jt[ln]]){mn[ln]=_n[Jt[ln]];continue}}return mn}preEvaluateFont(_n){const Sn=_n;let mn=_n.get("Subtype");if(!(mn instanceof Rt.Name))throw new wt.FormatError("invalid font Subtype");let fn=!1,Jt,ln;if(mn.name==="Type0"){const Fn=_n.get("DescendantFonts");if(!Fn)throw new wt.FormatError("Descendant fonts are not specified");if(_n=Array.isArray(Fn)?this.xref.fetchIfRef(Fn[0]):Fn,!(_n instanceof Rt.Dict))throw new wt.FormatError("Descendant font is not a dictionary.");if(mn=_n.get("Subtype"),!(mn instanceof Rt.Name))throw new wt.FormatError("invalid font Subtype");fn=!0}const pn=_n.get("FirstChar")||0,wn=_n.get("LastChar")||(fn?65535:255),Cn=_n.get("FontDescriptor");if(Cn){Jt=new Yt.MurmurHash3_64;const Fn=Sn.getRaw("Encoding");if(Fn instanceof Rt.Name)Jt.update(Fn.name);else if(Fn instanceof Rt.Ref)Jt.update(Fn.toString());else if(Fn instanceof Rt.Dict){for(const An of Fn.getRawValues())if(An instanceof Rt.Name)Jt.update(An.name);else if(An instanceof Rt.Ref)Jt.update(An.toString());else if(Array.isArray(An)){const Tn=An.length,In=new Array(Tn);for(let Rn=0;Rn<Tn;Rn++){const Dn=An[Rn];Dn instanceof Rt.Name?In[Rn]=Dn.name:(typeof Dn=="number"||Dn instanceof Rt.Ref)&&(In[Rn]=Dn.toString())}Jt.update(In.join())}}if(Jt.update(`${pn}-${wn}`),ln=_n.get("ToUnicode")||Sn.get("ToUnicode"),ln instanceof qt.BaseStream){const An=ln.str||ln,Tn=An.buffer?new Uint8Array(An.buffer.buffer,0,An.bufferLength):new Uint8Array(An.bytes.buffer,An.start,An.end-An.start);Jt.update(Tn)}else ln instanceof Rt.Name&&Jt.update(ln.name);const En=_n.get("Widths")||Sn.get("Widths");if(Array.isArray(En)){const An=[];for(const Tn of En)(typeof Tn=="number"||Tn instanceof Rt.Ref)&&An.push(Tn.toString());Jt.update(An.join())}if(fn){Jt.update("compositeFont");const An=_n.get("W")||Sn.get("W");if(Array.isArray(An)){const In=[];for(const Rn of An)if(typeof Rn=="number"||Rn instanceof Rt.Ref)In.push(Rn.toString());else if(Array.isArray(Rn)){const Dn=[];for(const Ln of Rn)(typeof Ln=="number"||Ln instanceof Rt.Ref)&&Dn.push(Ln.toString());In.push(`[${Dn.join()}]`)}Jt.update(In.join())}const Tn=_n.getRaw("CIDToGIDMap")||Sn.getRaw("CIDToGIDMap");Tn instanceof Rt.Name?Jt.update(Tn.name):Tn instanceof Rt.Ref?Jt.update(Tn.toString()):Tn instanceof qt.BaseStream&&Jt.update(Tn.peekBytes())}}return{descriptor:Cn,dict:_n,baseDict:Sn,composite:fn,type:mn.name,firstChar:pn,lastChar:wn,toUnicode:ln,hash:Jt?Jt.hexdigest():""}}async translateFont({descriptor:_n,dict:Sn,baseDict:mn,composite:fn,type:Jt,firstChar:ln,lastChar:pn,toUnicode:wn,cssFontInfo:Cn}){const Fn=Jt==="Type3";let En;if(!_n)if(Fn)_n=new Rt.Dict(null),_n.set("FontName",Rt.Name.get(Jt)),_n.set("FontBBox",Sn.getArray("FontBBox")||[0,0,0,0]);else{let nr=Sn.get("BaseFont");if(!(nr instanceof Rt.Name))throw new wt.FormatError("Base font is not specified");nr=nr.name.replaceAll(/[,_]/g,"-");const lr=this.getBaseFontMetrics(nr),dr=nr.split("-")[0],Bn=(this.isSerifFont(dr)?dn.FontFlags.Serif:0)|(lr.monospace?dn.FontFlags.FixedPitch:0)|((0,Pt.getSymbolsFonts)()[dr]?dn.FontFlags.Symbolic:dn.FontFlags.Nonsymbolic);En={type:Jt,name:nr,loadedName:mn.loadedName,systemFontInfo:null,widths:lr.widths,defaultWidth:lr.defaultWidth,isSimulatedFlags:!0,flags:Bn,firstChar:ln,lastChar:pn,toUnicode:wn,xHeight:0,capHeight:0,italicAngle:0,isType3Font:Fn};const Hn=Sn.get("Widths"),Wn=(0,Pt.getStandardFontName)(nr);let cr=null;return Wn&&(cr=await this.fetchStandardFontData(Wn),En.isInternalFont=!!cr),!En.isInternalFont&&this.options.useSystemFonts&&(En.systemFontInfo=(0,Qt.getFontSubstitution)(this.systemFontCache,this.idFactory,this.options.standardFontDataUrl,nr,Wn)),this.extractDataStructures(Sn,Sn,En).then(sr=>{if(Hn){const xr=[];let Jn=ln;for(const Vn of Hn)xr[Jn++]=this.xref.fetchIfRef(Vn);sr.widths=xr}else sr.widths=this.buildCharCodeToWidth(lr.widths,sr);return new _e.Font(nr,cr,sr)})}let An=_n.get("FontName"),Tn=Sn.get("BaseFont");typeof An=="string"&&(An=Rt.Name.get(An)),typeof Tn=="string"&&(Tn=Rt.Name.get(Tn));const In=An==null?void 0:An.name,Rn=Tn==null?void 0:Tn.name;if(!Fn&&In!==Rn&&((0,wt.info)(`The FontDescriptor's FontName is "${In}" but should be the same as the Font's BaseFont "${Rn}".`),In&&Rn&&(Rn.startsWith(In)||!(0,Pt.isKnownFontName)(In)&&(0,Pt.isKnownFontName)(Rn))&&(An=null)),An||(An=Tn),!(An instanceof Rt.Name))throw new wt.FormatError("invalid font name");let Dn,Ln,Un,tr,er;try{Dn=_n.get("FontFile","FontFile2","FontFile3")}catch(nr){if(!this.options.ignoreErrors)throw nr;(0,wt.warn)(`translateFont - fetching "${An.name}" font file: "${nr}".`),Dn=new kt.NullStream}let Qn=!1,Yn=null,Xn=null;if(Dn){if(Dn.dict){const nr=Dn.dict.get("Subtype");nr instanceof Rt.Name&&(Ln=nr.name),Un=Dn.dict.get("Length1"),tr=Dn.dict.get("Length2"),er=Dn.dict.get("Length3")}}else if(Cn){const nr=(0,Kt.getXfaFontName)(An.name);nr&&(Cn.fontFamily=`${Cn.fontFamily}-PdfJS-XFA`,Cn.metrics=nr.metrics||null,Yn=nr.factors||null,Dn=await this.fetchStandardFontData(nr.name),Qn=!!Dn,mn=Sn=(0,Kt.getXfaFontDict)(An.name),fn=!0)}else if(!Fn){const nr=(0,Pt.getStandardFontName)(An.name);nr&&(Dn=await this.fetchStandardFontData(nr),Qn=!!Dn),!Qn&&this.options.useSystemFonts&&(Xn=(0,Qt.getFontSubstitution)(this.systemFontCache,this.idFactory,this.options.standardFontDataUrl,An.name,nr))}if(En={type:Jt,name:An.name,subtype:Ln,file:Dn,length1:Un,length2:tr,length3:er,isInternalFont:Qn,loadedName:mn.loadedName,composite:fn,fixedPitch:!1,fontMatrix:Sn.getArray("FontMatrix")||wt.FONT_IDENTITY_MATRIX,firstChar:ln,lastChar:pn,toUnicode:wn,bbox:_n.getArray("FontBBox")||Sn.getArray("FontBBox"),ascent:_n.get("Ascent"),descent:_n.get("Descent"),xHeight:_n.get("XHeight")||0,capHeight:_n.get("CapHeight")||0,flags:_n.get("Flags"),italicAngle:_n.get("ItalicAngle")||0,isType3Font:Fn,cssFontInfo:Cn,scaleFactors:Yn,systemFontInfo:Xn},fn){const nr=mn.get("Encoding");nr instanceof Rt.Name&&(En.cidEncoding=nr.name);const lr=await _t.CMapFactory.create({encoding:nr,fetchBuiltInCMap:this._fetchBuiltInCMapBound,useCMap:null});En.cMap=lr,En.vertical=En.cMap.vertical}return this.extractDataStructures(Sn,mn,En).then(nr=>(this.extractWidths(Sn,_n,nr),new _e.Font(An.name,Dn,nr)))}static buildFontPaths(_n,Sn,mn,fn){function Jt(ln){const pn=`${_n.loadedName}_path_${ln}`;try{if(_n.renderer.hasBuiltPath(ln))return;mn.send("commonobj",[pn,"FontPath",_n.renderer.getPathJs(ln)])}catch(wn){if(fn.ignoreErrors){(0,wt.warn)(`buildFontPaths - ignoring ${pn} glyph: "${wn}".`);return}throw wn}}for(const ln of Sn){Jt(ln.fontChar);const pn=ln.accent;pn!=null&&pn.fontChar&&Jt(pn.fontChar)}}static get fallbackFontDict(){const _n=new Rt.Dict;return _n.set("BaseFont",Rt.Name.get("Helvetica")),_n.set("Type",Rt.Name.get("FallbackType")),_n.set("Subtype",Rt.Name.get("FallbackType")),_n.set("Encoding",Rt.Name.get("WinAnsiEncoding")),(0,wt.shadow)(this,"fallbackFontDict",_n)}}Et.PartialEvaluator=on;class cn{constructor({loadedName:_n,font:Sn,dict:mn,evaluatorOptions:fn}){this.loadedName=_n,this.font=Sn,this.dict=mn,this._evaluatorOptions=fn||Ot,this.type3Loaded=null,this.type3Dependencies=Sn.isType3Font?new Set:null,this.sent=!1}send(_n){this.sent||(this.sent=!0,_n.send("commonobj",[this.loadedName,"Font",this.font.exportData(this._evaluatorOptions.fontExtraProperties)]))}fallback(_n){this.font.data&&(this.font.disableFontFace=!0,on.buildFontPaths(this.font,this.font.glyphCacheValues,_n,this._evaluatorOptions))}loadType3Data(_n,Sn,mn){if(this.type3Loaded)return this.type3Loaded;if(!this.font.isType3Font)throw new Error("Must be a Type3 font.");const fn=_n.clone({ignoreErrors:!1});fn.parsingType3Font=!0;const Jt=new Rt.RefSet(_n.type3FontRefs);this.dict.objId&&!Jt.has(this.dict.objId)&&Jt.put(this.dict.objId),fn.type3FontRefs=Jt;const ln=this.font,pn=this.type3Dependencies;let wn=Promise.resolve();const Cn=this.dict.get("CharProcs"),Fn=this.dict.get("Resources")||Sn,En=Object.create(null),An=wt.Util.normalizeRect(ln.bbox||[0,0,0,0]),Tn=An[2]-An[0],In=An[3]-An[1],Rn=Math.hypot(Tn,In);for(const Dn of Cn.getKeys())wn=wn.then(()=>{const Ln=Cn.get(Dn),Un=new un.OperatorList;return fn.getOperatorList({stream:Ln,task:mn,resources:Fn,operatorList:Un}).then(()=>{Un.fnArray[0]===wt.OPS.setCharWidthAndBounds&&this._removeType3ColorOperators(Un,Rn),En[Dn]=Un.getIR();for(const tr of Un.dependencies)pn.add(tr)}).catch(function(tr){(0,wt.warn)(`Type3 font resource "${Dn}" is not available.`);const er=new un.OperatorList;En[Dn]=er.getIR()})});return this.type3Loaded=wn.then(()=>{ln.charProcOperatorList=En,this._bbox&&(ln.isCharBBox=!0,ln.bbox=this._bbox)}),this.type3Loaded}_removeType3ColorOperators(_n,Sn=NaN){const mn=wt.Util.normalizeRect(_n.argsArray[0].slice(2)),fn=mn[2]-mn[0],Jt=mn[3]-mn[1],ln=Math.hypot(fn,Jt);fn===0||Jt===0?(_n.fnArray.splice(0,1),_n.argsArray.splice(0,1)):(Sn===0||Math.round(ln/Sn)>=10)&&(this._bbox||(this._bbox=[1/0,1/0,-1/0,-1/0]),this._bbox[0]=Math.min(this._bbox[0],mn[0]),this._bbox[1]=Math.min(this._bbox[1],mn[1]),this._bbox[2]=Math.max(this._bbox[2],mn[2]),this._bbox[3]=Math.max(this._bbox[3],mn[3]));let pn=0,wn=_n.length;for(;pn<wn;){switch(_n.fnArray[pn]){case wt.OPS.setCharWidthAndBounds:break;case wt.OPS.setStrokeColorSpace:case wt.OPS.setFillColorSpace:case wt.OPS.setStrokeColor:case wt.OPS.setStrokeColorN:case wt.OPS.setFillColor:case wt.OPS.setFillColorN:case wt.OPS.setStrokeGray:case wt.OPS.setFillGray:case wt.OPS.setStrokeRGBColor:case wt.OPS.setFillRGBColor:case wt.OPS.setStrokeCMYKColor:case wt.OPS.setFillCMYKColor:case wt.OPS.shadingFill:case wt.OPS.setRenderingIntent:_n.fnArray.splice(pn,1),_n.argsArray.splice(pn,1),wn--;continue;case wt.OPS.setGState:const[Cn]=_n.argsArray[pn];let Fn=0,En=Cn.length;for(;Fn<En;){const[An]=Cn[Fn];switch(An){case"TR":case"TR2":case"HT":case"BG":case"BG2":case"UCR":case"UCR2":Cn.splice(Fn,1),En--;continue}Fn++}break}pn++}}}class sn{constructor(_n=new xn){this.state=_n,this.stateStack=[]}save(){const _n=this.state;this.stateStack.push(this.state),this.state=_n.clone()}restore(){const _n=this.stateStack.pop();_n&&(this.state=_n)}transform(_n){this.state.ctm=wt.Util.transform(this.state.ctm,_n)}}class rn{constructor(){this.ctm=new Float32Array(wt.IDENTITY_MATRIX),this.fontName=null,this.fontSize=0,this.loadedName=null,this.font=null,this.fontMatrix=wt.FONT_IDENTITY_MATRIX,this.textMatrix=wt.IDENTITY_MATRIX.slice(),this.textLineMatrix=wt.IDENTITY_MATRIX.slice(),this.charSpacing=0,this.wordSpacing=0,this.leading=0,this.textHScale=1,this.textRise=0}setTextMatrix(_n,Sn,mn,fn,Jt,ln){const pn=this.textMatrix;pn[0]=_n,pn[1]=Sn,pn[2]=mn,pn[3]=fn,pn[4]=Jt,pn[5]=ln}setTextLineMatrix(_n,Sn,mn,fn,Jt,ln){const pn=this.textLineMatrix;pn[0]=_n,pn[1]=Sn,pn[2]=mn,pn[3]=fn,pn[4]=Jt,pn[5]=ln}translateTextMatrix(_n,Sn){const mn=this.textMatrix;mn[4]=mn[0]*_n+mn[2]*Sn+mn[4],mn[5]=mn[1]*_n+mn[3]*Sn+mn[5]}translateTextLineMatrix(_n,Sn){const mn=this.textLineMatrix;mn[4]=mn[0]*_n+mn[2]*Sn+mn[4],mn[5]=mn[1]*_n+mn[3]*Sn+mn[5]}carriageReturn(){this.translateTextLineMatrix(0,-this.leading),this.textMatrix=this.textLineMatrix.slice()}clone(){const _n=Object.create(this);return _n.textMatrix=this.textMatrix.slice(),_n.textLineMatrix=this.textLineMatrix.slice(),_n.fontMatrix=this.fontMatrix.slice(),_n}}class xn{constructor(){this.ctm=new Float32Array(wt.IDENTITY_MATRIX),this.font=null,this.textRenderingMode=wt.TextRenderingMode.FILL,this.fillColorSpace=Gt.ColorSpace.singletons.gray,this.strokeColorSpace=Gt.ColorSpace.singletons.gray}clone(){return Object.create(this)}}const Pn=class Pn{static get opMap(){return(0,wt.shadow)(this,"opMap",{w:{id:wt.OPS.setLineWidth,numArgs:1,variableArgs:!1},J:{id:wt.OPS.setLineCap,numArgs:1,variableArgs:!1},j:{id:wt.OPS.setLineJoin,numArgs:1,variableArgs:!1},M:{id:wt.OPS.setMiterLimit,numArgs:1,variableArgs:!1},d:{id:wt.OPS.setDash,numArgs:2,variableArgs:!1},ri:{id:wt.OPS.setRenderingIntent,numArgs:1,variableArgs:!1},i:{id:wt.OPS.setFlatness,numArgs:1,variableArgs:!1},gs:{id:wt.OPS.setGState,numArgs:1,variableArgs:!1},q:{id:wt.OPS.save,numArgs:0,variableArgs:!1},Q:{id:wt.OPS.restore,numArgs:0,variableArgs:!1},cm:{id:wt.OPS.transform,numArgs:6,variableArgs:!1},m:{id:wt.OPS.moveTo,numArgs:2,variableArgs:!1},l:{id:wt.OPS.lineTo,numArgs:2,variableArgs:!1},c:{id:wt.OPS.curveTo,numArgs:6,variableArgs:!1},v:{id:wt.OPS.curveTo2,numArgs:4,variableArgs:!1},y:{id:wt.OPS.curveTo3,numArgs:4,variableArgs:!1},h:{id:wt.OPS.closePath,numArgs:0,variableArgs:!1},re:{id:wt.OPS.rectangle,numArgs:4,variableArgs:!1},S:{id:wt.OPS.stroke,numArgs:0,variableArgs:!1},s:{id:wt.OPS.closeStroke,numArgs:0,variableArgs:!1},f:{id:wt.OPS.fill,numArgs:0,variableArgs:!1},F:{id:wt.OPS.fill,numArgs:0,variableArgs:!1},"f*":{id:wt.OPS.eoFill,numArgs:0,variableArgs:!1},B:{id:wt.OPS.fillStroke,numArgs:0,variableArgs:!1},"B*":{id:wt.OPS.eoFillStroke,numArgs:0,variableArgs:!1},b:{id:wt.OPS.closeFillStroke,numArgs:0,variableArgs:!1},"b*":{id:wt.OPS.closeEOFillStroke,numArgs:0,variableArgs:!1},n:{id:wt.OPS.endPath,numArgs:0,variableArgs:!1},W:{id:wt.OPS.clip,numArgs:0,variableArgs:!1},"W*":{id:wt.OPS.eoClip,numArgs:0,variableArgs:!1},BT:{id:wt.OPS.beginText,numArgs:0,variableArgs:!1},ET:{id:wt.OPS.endText,numArgs:0,variableArgs:!1},Tc:{id:wt.OPS.setCharSpacing,numArgs:1,variableArgs:!1},Tw:{id:wt.OPS.setWordSpacing,numArgs:1,variableArgs:!1},Tz:{id:wt.OPS.setHScale,numArgs:1,variableArgs:!1},TL:{id:wt.OPS.setLeading,numArgs:1,variableArgs:!1},Tf:{id:wt.OPS.setFont,numArgs:2,variableArgs:!1},Tr:{id:wt.OPS.setTextRenderingMode,numArgs:1,variableArgs:!1},Ts:{id:wt.OPS.setTextRise,numArgs:1,variableArgs:!1},Td:{id:wt.OPS.moveText,numArgs:2,variableArgs:!1},TD:{id:wt.OPS.setLeadingMoveText,numArgs:2,variableArgs:!1},Tm:{id:wt.OPS.setTextMatrix,numArgs:6,variableArgs:!1},"T*":{id:wt.OPS.nextLine,numArgs:0,variableArgs:!1},Tj:{id:wt.OPS.showText,numArgs:1,variableArgs:!1},TJ:{id:wt.OPS.showSpacedText,numArgs:1,variableArgs:!1},"'":{id:wt.OPS.nextLineShowText,numArgs:1,variableArgs:!1},'"':{id:wt.OPS.nextLineSetSpacingShowText,numArgs:3,variableArgs:!1},d0:{id:wt.OPS.setCharWidth,numArgs:2,variableArgs:!1},d1:{id:wt.OPS.setCharWidthAndBounds,numArgs:6,variableArgs:!1},CS:{id:wt.OPS.setStrokeColorSpace,numArgs:1,variableArgs:!1},cs:{id:wt.OPS.setFillColorSpace,numArgs:1,variableArgs:!1},SC:{id:wt.OPS.setStrokeColor,numArgs:4,variableArgs:!0},SCN:{id:wt.OPS.setStrokeColorN,numArgs:33,variableArgs:!0},sc:{id:wt.OPS.setFillColor,numArgs:4,variableArgs:!0},scn:{id:wt.OPS.setFillColorN,numArgs:33,variableArgs:!0},G:{id:wt.OPS.setStrokeGray,numArgs:1,variableArgs:!1},g:{id:wt.OPS.setFillGray,numArgs:1,variableArgs:!1},RG:{id:wt.OPS.setStrokeRGBColor,numArgs:3,variableArgs:!1},rg:{id:wt.OPS.setFillRGBColor,numArgs:3,variableArgs:!1},K:{id:wt.OPS.setStrokeCMYKColor,numArgs:4,variableArgs:!1},k:{id:wt.OPS.setFillCMYKColor,numArgs:4,variableArgs:!1},sh:{id:wt.OPS.shadingFill,numArgs:1,variableArgs:!1},BI:{id:wt.OPS.beginInlineImage,numArgs:0,variableArgs:!1},ID:{id:wt.OPS.beginImageData,numArgs:0,variableArgs:!1},EI:{id:wt.OPS.endInlineImage,numArgs:1,variableArgs:!1},Do:{id:wt.OPS.paintXObject,numArgs:1,variableArgs:!1},MP:{id:wt.OPS.markPoint,numArgs:1,variableArgs:!1},DP:{id:wt.OPS.markPointProps,numArgs:2,variableArgs:!1},BMC:{id:wt.OPS.beginMarkedContent,numArgs:1,variableArgs:!1},BDC:{id:wt.OPS.beginMarkedContentProps,numArgs:2,variableArgs:!1},EMC:{id:wt.OPS.endMarkedContent,numArgs:0,variableArgs:!1},BX:{id:wt.OPS.beginCompat,numArgs:0,variableArgs:!1},EX:{id:wt.OPS.endCompat,numArgs:0,variableArgs:!1},BM:null,BD:null,true:null,fa:null,fal:null,fals:null,false:null,nu:null,nul:null,null:null})}constructor(_n,Sn,mn=new sn){this.parser=new Lt.Parser({lexer:new Lt.Lexer(_n,Pn.opMap),xref:Sn}),this.stateManager=mn,this.nonProcessedArgs=[],this._isPathOp=!1,this._numInvalidPathOPS=0}get savedStatesDepth(){return this.stateManager.stateStack.length}read(_n){let Sn=_n.args;for(;;){const mn=this.parser.getObj();if(mn instanceof Rt.Cmd){const fn=mn.cmd,Jt=Pn.opMap[fn];if(!Jt){(0,wt.warn)(`Unknown command "${fn}".`);continue}const ln=Jt.id,pn=Jt.numArgs;let wn=Sn!==null?Sn.length:0;if(this._isPathOp||(this._numInvalidPathOPS=0),this._isPathOp=ln>=wt.OPS.moveTo&&ln<=wt.OPS.endPath,Jt.variableArgs)wn>pn&&(0,wt.info)(`Command ${fn}: expected [0, ${pn}] args, but received ${wn} args.`);else{if(wn!==pn){const Cn=this.nonProcessedArgs;for(;wn>pn;)Cn.push(Sn.shift()),wn--;for(;wn<pn&&Cn.length!==0;)Sn===null&&(Sn=[]),Sn.unshift(Cn.pop()),wn++}if(wn<pn){const Cn=`command ${fn}: expected ${pn} args, but received ${wn} args.`;if(this._isPathOp&&++this._numInvalidPathOPS>Pn.MAX_INVALID_PATH_OPS)throw new wt.FormatError(`Invalid ${Cn}`);(0,wt.warn)(`Skipping ${Cn}`),Sn!==null&&(Sn.length=0);continue}}return this.preprocessCommand(ln,Sn),_n.fn=ln,_n.args=Sn,!0}if(mn===Rt.EOF)return!1;if(mn!==null&&(Sn===null&&(Sn=[]),Sn.push(mn),Sn.length>33))throw new wt.FormatError("Too many arguments")}}preprocessCommand(_n,Sn){switch(_n|0){case wt.OPS.save:this.stateManager.save();break;case wt.OPS.restore:this.stateManager.restore();break;case wt.OPS.transform:this.stateManager.transform(Sn);break}}};Ur(Pn,"MAX_INVALID_PATH_OPS",10);let vn=Pn;Et.EvaluatorPreprocessor=vn},(Ct,Et,Ft)=>{Object.defineProperty(Et,"__esModule",{value:!0}),Et.IdentityCMap=Et.CMapFactory=Et.CMap=void 0;var wt=Ft(2),_t=Ft(4),Rt=Ft(5),_e=Ft(15),bt=Ft(16),Pt=Ft(3),Xt=Ft(8);const Kt=["Adobe-GB1-UCS2","Adobe-CNS1-UCS2","Adobe-Japan1-UCS2","Adobe-Korea1-UCS2","78-EUC-H","78-EUC-V","78-H","78-RKSJ-H","78-RKSJ-V","78-V","78ms-RKSJ-H","78ms-RKSJ-V","83pv-RKSJ-H","90ms-RKSJ-H","90ms-RKSJ-V","90msp-RKSJ-H","90msp-RKSJ-V","90pv-RKSJ-H","90pv-RKSJ-V","Add-H","Add-RKSJ-H","Add-RKSJ-V","Add-V","Adobe-CNS1-0","Adobe-CNS1-1","Adobe-CNS1-2","Adobe-CNS1-3","Adobe-CNS1-4","Adobe-CNS1-5","Adobe-CNS1-6","Adobe-GB1-0","Adobe-GB1-1","Adobe-GB1-2","Adobe-GB1-3","Adobe-GB1-4","Adobe-GB1-5","Adobe-Japan1-0","Adobe-Japan1-1","Adobe-Japan1-2","Adobe-Japan1-3","Adobe-Japan1-4","Adobe-Japan1-5","Adobe-Japan1-6","Adobe-Korea1-0","Adobe-Korea1-1","Adobe-Korea1-2","B5-H","B5-V","B5pc-H","B5pc-V","CNS-EUC-H","CNS-EUC-V","CNS1-H","CNS1-V","CNS2-H","CNS2-V","ETHK-B5-H","ETHK-B5-V","ETen-B5-H","ETen-B5-V","ETenms-B5-H","ETenms-B5-V","EUC-H","EUC-V","Ext-H","Ext-RKSJ-H","Ext-RKSJ-V","Ext-V","GB-EUC-H","GB-EUC-V","GB-H","GB-V","GBK-EUC-H","GBK-EUC-V","GBK2K-H","GBK2K-V","GBKp-EUC-H","GBKp-EUC-V","GBT-EUC-H","GBT-EUC-V","GBT-H","GBT-V","GBTpc-EUC-H","GBTpc-EUC-V","GBpc-EUC-H","GBpc-EUC-V","H","HKdla-B5-H","HKdla-B5-V","HKdlb-B5-H","HKdlb-B5-V","HKgccs-B5-H","HKgccs-B5-V","HKm314-B5-H","HKm314-B5-V","HKm471-B5-H","HKm471-B5-V","HKscs-B5-H","HKscs-B5-V","Hankaku","Hiragana","KSC-EUC-H","KSC-EUC-V","KSC-H","KSC-Johab-H","KSC-Johab-V","KSC-V","KSCms-UHC-H","KSCms-UHC-HW-H","KSCms-UHC-HW-V","KSCms-UHC-V","KSCpc-EUC-H","KSCpc-EUC-V","Katakana","NWP-H","NWP-V","RKSJ-H","RKSJ-V","Roman","UniCNS-UCS2-H","UniCNS-UCS2-V","UniCNS-UTF16-H","UniCNS-UTF16-V","UniCNS-UTF32-H","UniCNS-UTF32-V","UniCNS-UTF8-H","UniCNS-UTF8-V","UniGB-UCS2-H","UniGB-UCS2-V","UniGB-UTF16-H","UniGB-UTF16-V","UniGB-UTF32-H","UniGB-UTF32-V","UniGB-UTF8-H","UniGB-UTF8-V","UniJIS-UCS2-H","UniJIS-UCS2-HW-H","UniJIS-UCS2-HW-V","UniJIS-UCS2-V","UniJIS-UTF16-H","UniJIS-UTF16-V","UniJIS-UTF32-H","UniJIS-UTF32-V","UniJIS-UTF8-H","UniJIS-UTF8-V","UniJIS2004-UTF16-H","UniJIS2004-UTF16-V","UniJIS2004-UTF32-H","UniJIS2004-UTF32-V","UniJIS2004-UTF8-H","UniJIS2004-UTF8-V","UniJISPro-UCS2-HW-V","UniJISPro-UCS2-V","UniJISPro-UTF8-V","UniJISX0213-UTF32-H","UniJISX0213-UTF32-V","UniJISX02132004-UTF32-H","UniJISX02132004-UTF32-V","UniKS-UCS2-H","UniKS-UCS2-V","UniKS-UTF16-H","UniKS-UTF16-V","UniKS-UTF32-H","UniKS-UTF32-V","UniKS-UTF8-H","UniKS-UTF8-V","V","WP-Symbol"],Nt=2**24-1;class $t{constructor(Ot=!1){this.codespaceRanges=[[],[],[],[]],this.numCodespaceRanges=0,this._map=[],this.name="",this.vertical=!1,this.useCMap=null,this.builtInCMap=Ot}addCodespaceRange(Ot,Ht,an){this.codespaceRanges[Ot-1].push(Ht,an),this.numCodespaceRanges++}mapCidRange(Ot,Ht,an){if(Ht-Ot>Nt)throw new Error("mapCidRange - ignoring data above MAX_MAP_RANGE.");for(;Ot<=Ht;)this._map[Ot++]=an++}mapBfRange(Ot,Ht,an){if(Ht-Ot>Nt)throw new Error("mapBfRange - ignoring data above MAX_MAP_RANGE.");const zt=an.length-1;for(;Ot<=Ht;){this._map[Ot++]=an;const Vt=an.charCodeAt(zt)+1;if(Vt>255){an=an.substring(0,zt-1)+String.fromCharCode(an.charCodeAt(zt-1)+1)+"\0";continue}an=an.substring(0,zt)+String.fromCharCode(Vt)}}mapBfRangeToArray(Ot,Ht,an){if(Ht-Ot>Nt)throw new Error("mapBfRangeToArray - ignoring data above MAX_MAP_RANGE.");const zt=an.length;let Vt=0;for(;Ot<=Ht&&Vt<zt;)this._map[Ot]=an[Vt++],++Ot}mapOne(Ot,Ht){this._map[Ot]=Ht}lookup(Ot){return this._map[Ot]}contains(Ot){return this._map[Ot]!==void 0}forEach(Ot){const Ht=this._map,an=Ht.length;if(an<=65536)for(let zt=0;zt<an;zt++)Ht[zt]!==void 0&&Ot(zt,Ht[zt]);else for(const zt in Ht)Ot(zt,Ht[zt])}charCodeOf(Ot){const Ht=this._map;if(Ht.length<=65536)return Ht.indexOf(Ot);for(const an in Ht)if(Ht[an]===Ot)return an|0;return-1}getMap(){return this._map}readCharCode(Ot,Ht,an){let zt=0;const Vt=this.codespaceRanges;for(let nn=0,hn=Vt.length;nn<hn;nn++){zt=(zt<<8|Ot.charCodeAt(Ht+nn))>>>0;const on=Vt[nn];for(let cn=0,sn=on.length;cn<sn;){const rn=on[cn++],xn=on[cn++];if(zt>=rn&&zt<=xn){an.charcode=zt,an.length=nn+1;return}}}an.charcode=0,an.length=1}getCharCodeLength(Ot){const Ht=this.codespaceRanges;for(let an=0,zt=Ht.length;an<zt;an++){const Vt=Ht[an];for(let nn=0,hn=Vt.length;nn<hn;){const on=Vt[nn++],cn=Vt[nn++];if(Ot>=on&&Ot<=cn)return an+1}}return 1}get length(){return this._map.length}get isIdentityCMap(){if(!(this.name==="Identity-H"||this.name==="Identity-V")||this._map.length!==65536)return!1;for(let Ot=0;Ot<65536;Ot++)if(this._map[Ot]!==Ot)return!1;return!0}}Et.CMap=$t;class Lt extends $t{constructor(Ot,Ht){super(),this.vertical=Ot,this.addCodespaceRange(Ht,0,65535)}mapCidRange(Ot,Ht,an){(0,wt.unreachable)("should not call mapCidRange")}mapBfRange(Ot,Ht,an){(0,wt.unreachable)("should not call mapBfRange")}mapBfRangeToArray(Ot,Ht,an){(0,wt.unreachable)("should not call mapBfRangeToArray")}mapOne(Ot,Ht){(0,wt.unreachable)("should not call mapCidOne")}lookup(Ot){return Number.isInteger(Ot)&&Ot<=65535?Ot:void 0}contains(Ot){return Number.isInteger(Ot)&&Ot<=65535}forEach(Ot){for(let Ht=0;Ht<=65535;Ht++)Ot(Ht,Ht)}charCodeOf(Ot){return Number.isInteger(Ot)&&Ot<=65535?Ot:-1}getMap(){const Ot=new Array(65536);for(let Ht=0;Ht<=65535;Ht++)Ot[Ht]=Ht;return Ot}get length(){return 65536}get isIdentityCMap(){(0,wt.unreachable)("should not access .isIdentityCMap")}}Et.IdentityCMap=Lt;function jt(Ut){let Ot=0;for(let Ht=0;Ht<Ut.length;Ht++)Ot=Ot<<8|Ut.charCodeAt(Ht);return Ot>>>0}function kt(Ut){if(typeof Ut!="string")throw new wt.FormatError("Malformed CMap: expected string.")}function qt(Ut){if(!Number.isInteger(Ut))throw new wt.FormatError("Malformed CMap: expected int.")}function Bt(Ut,Ot){for(;;){let Ht=Ot.getObj();if(Ht===_t.EOF)break;if((0,_t.isCmd)(Ht,"endbfchar"))return;kt(Ht);const an=jt(Ht);Ht=Ot.getObj(),kt(Ht);const zt=Ht;Ut.mapOne(an,zt)}}function Gt(Ut,Ot){for(;;){let Ht=Ot.getObj();if(Ht===_t.EOF)break;if((0,_t.isCmd)(Ht,"endbfrange"))return;kt(Ht);const an=jt(Ht);Ht=Ot.getObj(),kt(Ht);const zt=jt(Ht);if(Ht=Ot.getObj(),Number.isInteger(Ht)||typeof Ht=="string"){const Vt=Number.isInteger(Ht)?String.fromCharCode(Ht):Ht;Ut.mapBfRange(an,zt,Vt)}else if((0,_t.isCmd)(Ht,"[")){Ht=Ot.getObj();const Vt=[];for(;!(0,_t.isCmd)(Ht,"]")&&Ht!==_t.EOF;)Vt.push(Ht),Ht=Ot.getObj();Ut.mapBfRangeToArray(an,zt,Vt)}else break}throw new wt.FormatError("Invalid bf range.")}function en(Ut,Ot){for(;;){let Ht=Ot.getObj();if(Ht===_t.EOF)break;if((0,_t.isCmd)(Ht,"endcidchar"))return;kt(Ht);const an=jt(Ht);Ht=Ot.getObj(),qt(Ht);const zt=Ht;Ut.mapOne(an,zt)}}function dn(Ut,Ot){for(;;){let Ht=Ot.getObj();if(Ht===_t.EOF)break;if((0,_t.isCmd)(Ht,"endcidrange"))return;kt(Ht);const an=jt(Ht);Ht=Ot.getObj(),kt(Ht);const zt=jt(Ht);Ht=Ot.getObj(),qt(Ht);const Vt=Ht;Ut.mapCidRange(an,zt,Vt)}}function Qt(Ut,Ot){for(;;){let Ht=Ot.getObj();if(Ht===_t.EOF)break;if((0,_t.isCmd)(Ht,"endcodespacerange"))return;if(typeof Ht!="string")break;const an=jt(Ht);if(Ht=Ot.getObj(),typeof Ht!="string")break;const zt=jt(Ht);Ut.addCodespaceRange(Ht.length,an,zt)}throw new wt.FormatError("Invalid codespace range.")}function gn(Ut,Ot){const Ht=Ot.getObj();Number.isInteger(Ht)&&(Ut.vertical=!!Ht)}function tn(Ut,Ot){const Ht=Ot.getObj();Ht instanceof _t.Name&&(Ut.name=Ht.name)}async function bn(Ut,Ot,Ht,an){let zt,Vt;e:for(;;)try{const nn=Ot.getObj();if(nn===_t.EOF)break;if(nn instanceof _t.Name)nn.name==="WMode"?gn(Ut,Ot):nn.name==="CMapName"&&tn(Ut,Ot),zt=nn;else if(nn instanceof _t.Cmd)switch(nn.cmd){case"endcmap":break e;case"usecmap":zt instanceof _t.Name&&(Vt=zt.name);break;case"begincodespacerange":Qt(Ut,Ot);break;case"beginbfchar":Bt(Ut,Ot);break;case"begincidchar":en(Ut,Ot);break;case"beginbfrange":Gt(Ut,Ot);break;case"begincidrange":dn(Ut,Ot);break}}catch(nn){if(nn instanceof Pt.MissingDataException)throw nn;(0,wt.warn)("Invalid cMap data: "+nn);continue}return!an&&Vt&&(an=Vt),an?Wt(Ut,Ht,an):Ut}async function Wt(Ut,Ot,Ht){if(Ut.useCMap=await Yt(Ht,Ot),Ut.numCodespaceRanges===0){const an=Ut.useCMap.codespaceRanges;for(let zt=0;zt<an.length;zt++)Ut.codespaceRanges[zt]=an[zt].slice();Ut.numCodespaceRanges=Ut.useCMap.numCodespaceRanges}return Ut.useCMap.forEach(function(an,zt){Ut.contains(an)||Ut.mapOne(an,Ut.useCMap.lookup(an))}),Ut}async function Yt(Ut,Ot){if(Ut==="Identity-H")return new Lt(!1,2);if(Ut==="Identity-V")return new Lt(!0,2);if(!Kt.includes(Ut))throw new Error("Unknown CMap name: "+Ut);if(!Ot)throw new Error("Built-in CMap parameters are not provided.");const{cMapData:Ht,compressionType:an}=await Ot(Ut),zt=new $t(!0);if(an===wt.CMapCompressionType.BINARY)return new _e.BinaryCMapReader().process(Ht,zt,Vt=>Wt(zt,Ot,Vt));if(an===wt.CMapCompressionType.NONE){const Vt=new bt.Lexer(new Xt.Stream(Ht));return bn(zt,Vt,Ot,null)}throw new Error(`Invalid CMap "compressionType" value: ${an}`)}class un{static async create({encoding:Ot,fetchBuiltInCMap:Ht,useCMap:an}){if(Ot instanceof _t.Name)return Yt(Ot.name,Ht);if(Ot instanceof Rt.BaseStream){const zt=await bn(new $t,new bt.Lexer(Ot),Ht,an);return zt.isIdentityCMap?Yt(zt.name,Ht):zt}throw new Error("Encoding required.")}}Et.CMapFactory=un},(Ct,Et,Ft)=>{Object.defineProperty(Et,"__esModule",{value:!0}),Et.BinaryCMapReader=void 0;var wt=Ft(2);function _t($t,Lt){let jt=0;for(let kt=0;kt<=Lt;kt++)jt=jt<<8|$t[kt];return jt>>>0}function Rt($t,Lt){return Lt===1?String.fromCharCode($t[0],$t[1]):Lt===3?String.fromCharCode($t[0],$t[1],$t[2],$t[3]):String.fromCharCode(...$t.subarray(0,Lt+1))}function _e($t,Lt,jt){let kt=0;for(let qt=jt;qt>=0;qt--)kt+=$t[qt]+Lt[qt],$t[qt]=kt&255,kt>>=8}function bt($t,Lt){let jt=1;for(let kt=Lt;kt>=0&&jt>0;kt--)jt+=$t[kt],$t[kt]=jt&255,jt>>=8}const Pt=16,Xt=19;class Kt{constructor(Lt){this.buffer=Lt,this.pos=0,this.end=Lt.length,this.tmpBuf=new Uint8Array(Xt)}readByte(){return this.pos>=this.end?-1:this.buffer[this.pos++]}readNumber(){let Lt=0,jt;do{const kt=this.readByte();if(kt<0)throw new wt.FormatError("unexpected EOF in bcmap");jt=!(kt&128),Lt=Lt<<7|kt&127}while(!jt);return Lt}readSigned(){const Lt=this.readNumber();return Lt&1?~(Lt>>>1):Lt>>>1}readHex(Lt,jt){Lt.set(this.buffer.subarray(this.pos,this.pos+jt+1)),this.pos+=jt+1}readHexNumber(Lt,jt){let kt;const qt=this.tmpBuf;let Bt=0;do{const Qt=this.readByte();if(Qt<0)throw new wt.FormatError("unexpected EOF in bcmap");kt=!(Qt&128),qt[Bt++]=Qt&127}while(!kt);let Gt=jt,en=0,dn=0;for(;Gt>=0;){for(;dn<8&&qt.length>0;)en|=qt[--Bt]<<dn,dn+=7;Lt[Gt]=en&255,Gt--,en>>=8,dn-=8}}readHexSigned(Lt,jt){this.readHexNumber(Lt,jt);const kt=Lt[jt]&1?255:0;let qt=0;for(let Bt=0;Bt<=jt;Bt++)qt=(qt&1)<<8|Lt[Bt],Lt[Bt]=qt>>1^kt}readString(){const Lt=this.readNumber(),jt=new Array(Lt);for(let kt=0;kt<Lt;kt++)jt[kt]=this.readNumber();return String.fromCharCode(...jt)}}class Nt{async process(Lt,jt,kt){const qt=new Kt(Lt),Bt=qt.readByte();jt.vertical=!!(Bt&1);let Gt=null;const en=new Uint8Array(Pt),dn=new Uint8Array(Pt),Qt=new Uint8Array(Pt),gn=new Uint8Array(Pt),tn=new Uint8Array(Pt);let bn,Wt;for(;(Wt=qt.readByte())>=0;){const Yt=Wt>>5;if(Yt===7){switch(Wt&31){case 0:qt.readString();break;case 1:Gt=qt.readString();break}continue}const un=!!(Wt&16),Ut=Wt&15;if(Ut+1>Pt)throw new Error("BinaryCMapReader.process: Invalid dataSize.");const Ot=1,Ht=qt.readNumber();switch(Yt){case 0:qt.readHex(en,Ut),qt.readHexNumber(dn,Ut),_e(dn,en,Ut),jt.addCodespaceRange(Ut+1,_t(en,Ut),_t(dn,Ut));for(let an=1;an<Ht;an++)bt(dn,Ut),qt.readHexNumber(en,Ut),_e(en,dn,Ut),qt.readHexNumber(dn,Ut),_e(dn,en,Ut),jt.addCodespaceRange(Ut+1,_t(en,Ut),_t(dn,Ut));break;case 1:qt.readHex(en,Ut),qt.readHexNumber(dn,Ut),_e(dn,en,Ut),qt.readNumber();for(let an=1;an<Ht;an++)bt(dn,Ut),qt.readHexNumber(en,Ut),_e(en,dn,Ut),qt.readHexNumber(dn,Ut),_e(dn,en,Ut),qt.readNumber();break;case 2:qt.readHex(Qt,Ut),bn=qt.readNumber(),jt.mapOne(_t(Qt,Ut),bn);for(let an=1;an<Ht;an++)bt(Qt,Ut),un||(qt.readHexNumber(tn,Ut),_e(Qt,tn,Ut)),bn=qt.readSigned()+(bn+1),jt.mapOne(_t(Qt,Ut),bn);break;case 3:qt.readHex(en,Ut),qt.readHexNumber(dn,Ut),_e(dn,en,Ut),bn=qt.readNumber(),jt.mapCidRange(_t(en,Ut),_t(dn,Ut),bn);for(let an=1;an<Ht;an++)bt(dn,Ut),un?en.set(dn):(qt.readHexNumber(en,Ut),_e(en,dn,Ut)),qt.readHexNumber(dn,Ut),_e(dn,en,Ut),bn=qt.readNumber(),jt.mapCidRange(_t(en,Ut),_t(dn,Ut),bn);break;case 4:qt.readHex(Qt,Ot),qt.readHex(gn,Ut),jt.mapOne(_t(Qt,Ot),Rt(gn,Ut));for(let an=1;an<Ht;an++)bt(Qt,Ot),un||(qt.readHexNumber(tn,Ot),_e(Qt,tn,Ot)),bt(gn,Ut),qt.readHexSigned(tn,Ut),_e(gn,tn,Ut),jt.mapOne(_t(Qt,Ot),Rt(gn,Ut));break;case 5:qt.readHex(en,Ot),qt.readHexNumber(dn,Ot),_e(dn,en,Ot),qt.readHex(gn,Ut),jt.mapBfRange(_t(en,Ot),_t(dn,Ot),Rt(gn,Ut));for(let an=1;an<Ht;an++)bt(dn,Ot),un?en.set(dn):(qt.readHexNumber(en,Ot),_e(en,dn,Ot)),qt.readHexNumber(dn,Ot),_e(dn,en,Ot),qt.readHex(gn,Ut),jt.mapBfRange(_t(en,Ot),_t(dn,Ot),Rt(gn,Ut));break;default:throw new Error(`BinaryCMapReader.process - unknown type: ${Yt}`)}}return Gt?kt(Gt):jt}}Et.BinaryCMapReader=Nt},(Ct,Et,Ft)=>{Object.defineProperty(Et,"__esModule",{value:!0}),Et.Parser=Et.Linearization=Et.Lexer=void 0;var wt=Ft(2),_t=Ft(4),Rt=Ft(3),_e=Ft(8),bt=Ft(17),Pt=Ft(19),Xt=Ft(20),Kt=Ft(22),Nt=Ft(23),$t=Ft(26),Lt=Ft(29),jt=Ft(31),kt=Ft(32),qt=Ft(33);const Bt=1e3;function Gt(bn){const Wt=[],Yt=bn.length;let un=0;for(;un<Yt-1;)Wt.push(bn[un++]<<8|bn[un++]);return un<Yt&&Wt.push(bn[un]),Yt+"_"+String.fromCharCode.apply(null,Wt)}class en{constructor({lexer:Wt,xref:Yt,allowStreams:un=!1,recoveryMode:Ut=!1}){this.lexer=Wt,this.xref=Yt,this.allowStreams=un,this.recoveryMode=Ut,this.imageCache=Object.create(null),this._imageId=0,this.refill()}refill(){this.buf1=this.lexer.getObj(),this.buf2=this.lexer.getObj()}shift(){this.buf2 instanceof _t.Cmd&&this.buf2.cmd==="ID"?(this.buf1=this.buf2,this.buf2=null):(this.buf1=this.buf2,this.buf2=this.lexer.getObj())}tryShift(){try{return this.shift(),!0}catch(Wt){if(Wt instanceof Rt.MissingDataException)throw Wt;return!1}}getObj(Wt=null){const Yt=this.buf1;if(this.shift(),Yt instanceof _t.Cmd)switch(Yt.cmd){case"BI":return this.makeInlineImage(Wt);case"[":const un=[];for(;!(0,_t.isCmd)(this.buf1,"]")&&this.buf1!==_t.EOF;)un.push(this.getObj(Wt));if(this.buf1===_t.EOF){if(this.recoveryMode)return un;throw new Rt.ParserEOFException("End of file inside array.")}return this.shift(),un;case"<<":const Ut=new _t.Dict(this.xref);for(;!(0,_t.isCmd)(this.buf1,">>")&&this.buf1!==_t.EOF;){if(!(this.buf1 instanceof _t.Name)){(0,wt.info)("Malformed dictionary: key must be a name object"),this.shift();continue}const Ot=this.buf1.name;if(this.shift(),this.buf1===_t.EOF)break;Ut.set(Ot,this.getObj(Wt))}if(this.buf1===_t.EOF){if(this.recoveryMode)return Ut;throw new Rt.ParserEOFException("End of file inside dictionary.")}return(0,_t.isCmd)(this.buf2,"stream")?this.allowStreams?this.makeStream(Ut,Wt):Ut:(this.shift(),Ut);default:return Yt}if(Number.isInteger(Yt)){if(Number.isInteger(this.buf1)&&(0,_t.isCmd)(this.buf2,"R")){const un=_t.Ref.get(Yt,this.buf1);return this.shift(),this.shift(),un}return Yt}return typeof Yt=="string"&&Wt?Wt.decryptString(Yt):Yt}findDefaultInlineStreamEnd(Wt){const{knownCommands:zt}=this.lexer,Vt=Wt.pos,nn=15;let hn=0,on,cn;for(;(on=Wt.getByte())!==-1;)if(hn===0)hn=on===69?1:0;else if(hn===1)hn=on===73?2:0;else if(on===32||on===10||on===13){cn=Wt.pos;const rn=Wt.peekBytes(nn),xn=rn.length;if(xn===0)break;for(let Pn=0;Pn<xn;Pn++)if(on=rn[Pn],!(on===0&&rn[Pn+1]!==0)&&on!==10&&on!==13&&(on<32||on>127)){hn=0;break}if(hn!==2)continue;if(!zt){(0,wt.warn)("findDefaultInlineStreamEnd - `lexer.knownCommands` is undefined.");continue}const vn=new gn(new _e.Stream(rn.slice()),zt);vn._hexStringWarn=()=>{};let kn=0;for(;;){const Pn=vn.getObj();if(Pn===_t.EOF){hn=0;break}if(Pn instanceof _t.Cmd){const On=zt[Pn.cmd];if(On){if(On.variableArgs?kn<=On.numArgs:kn===On.numArgs)break}else{hn=0;break}kn=0;continue}kn++}if(hn===2)break}else hn=0;on===-1&&((0,wt.warn)("findDefaultInlineStreamEnd: Reached the end of the stream without finding a valid EI marker"),cn&&((0,wt.warn)('... trying to recover by using the last "EI" occurrence.'),Wt.skip(-(Wt.pos-cn))));let sn=4;return Wt.skip(-sn),on=Wt.peekByte(),Wt.skip(sn),(0,Rt.isWhiteSpace)(on)||sn--,Wt.pos-sn-Vt}findDCTDecodeInlineStreamEnd(Wt){const Yt=Wt.pos;let un=!1,Ut,Ot;for(;(Ut=Wt.getByte())!==-1;)if(Ut===255){switch(Wt.getByte()){case 0:break;case 255:Wt.skip(-1);break;case 217:un=!0;break;case 192:case 193:case 194:case 195:case 197:case 198:case 199:case 201:case 202:case 203:case 205:case 206:case 207:case 196:case 204:case 218:case 219:case 220:case 221:case 222:case 223:case 224:case 225:case 226:case 227:case 228:case 229:case 230:case 231:case 232:case 233:case 234:case 235:case 236:case 237:case 238:case 239:case 254:Ot=Wt.getUint16(),Ot>2?Wt.skip(Ot-2):Wt.skip(-2);break}if(un)break}const Ht=Wt.pos-Yt;return Ut===-1?((0,wt.warn)("Inline DCTDecode image stream: EOI marker not found, searching for /EI/ instead."),Wt.skip(-Ht),this.findDefaultInlineStreamEnd(Wt)):(this.inlineStreamSkipEI(Wt),Ht)}findASCII85DecodeInlineStreamEnd(Wt){const Ut=Wt.pos;let Ot;for(;(Ot=Wt.getByte())!==-1;)if(Ot===126){const an=Wt.pos;for(Ot=Wt.peekByte();(0,Rt.isWhiteSpace)(Ot);)Wt.skip(),Ot=Wt.peekByte();if(Ot===62){Wt.skip();break}if(Wt.pos>an){const zt=Wt.peekBytes(2);if(zt[0]===69&&zt[1]===73)break}}const Ht=Wt.pos-Ut;return Ot===-1?((0,wt.warn)("Inline ASCII85Decode image stream: EOD marker not found, searching for /EI/ instead."),Wt.skip(-Ht),this.findDefaultInlineStreamEnd(Wt)):(this.inlineStreamSkipEI(Wt),Ht)}findASCIIHexDecodeInlineStreamEnd(Wt){const un=Wt.pos;let Ut;for(;(Ut=Wt.getByte())!==-1&&Ut!==62;);const Ot=Wt.pos-un;return Ut===-1?((0,wt.warn)("Inline ASCIIHexDecode image stream: EOD marker not found, searching for /EI/ instead."),Wt.skip(-Ot),this.findDefaultInlineStreamEnd(Wt)):(this.inlineStreamSkipEI(Wt),Ot)}inlineStreamSkipEI(Wt){let Ut=0,Ot;for(;(Ot=Wt.getByte())!==-1;)if(Ut===0)Ut=Ot===69?1:0;else if(Ut===1)Ut=Ot===73?2:0;else if(Ut===2)break}makeInlineImage(Wt){const Yt=this.lexer,un=Yt.stream,Ut=Object.create(null);let Ot;for(;!(0,_t.isCmd)(this.buf1,"ID")&&this.buf1!==_t.EOF;){if(!(this.buf1 instanceof _t.Name))throw new wt.FormatError("Dictionary key must be a name object");const cn=this.buf1.name;if(this.shift(),this.buf1===_t.EOF)break;Ut[cn]=this.getObj(Wt)}Yt.beginInlineImagePos!==-1&&(Ot=un.pos-Yt.beginInlineImagePos);const Ht=this.xref.fetchIfRef(Ut.F||Ut.Filter);let an;if(Ht instanceof _t.Name)an=Ht.name;else if(Array.isArray(Ht)){const cn=this.xref.fetchIfRef(Ht[0]);cn instanceof _t.Name&&(an=cn.name)}const zt=un.pos;let Vt;switch(an){case"DCT":case"DCTDecode":Vt=this.findDCTDecodeInlineStreamEnd(un);break;case"A85":case"ASCII85Decode":Vt=this.findASCII85DecodeInlineStreamEnd(un);break;case"AHx":case"ASCIIHexDecode":Vt=this.findASCIIHexDecodeInlineStreamEnd(un);break;default:Vt=this.findDefaultInlineStreamEnd(un)}let nn;if(Vt<Bt&&Ot>0){const cn=un.pos;un.pos=Yt.beginInlineImagePos,nn=Gt(un.getBytes(Ot+Vt)),un.pos=cn;const sn=this.imageCache[nn];if(sn!==void 0)return this.buf2=_t.Cmd.get("EI"),this.shift(),sn.reset(),sn}const hn=new _t.Dict(this.xref);for(const cn in Ut)hn.set(cn,Ut[cn]);let on=un.makeSubStream(zt,Vt,hn);return Wt&&(on=Wt.createStream(on,Vt)),on=this.filter(on,hn,Vt),on.dict=hn,nn!==void 0&&(on.cacheKey=`inline_img_${++this._imageId}`,this.imageCache[nn]=on),this.buf2=_t.Cmd.get("EI"),this.shift(),on}_findStreamLength(Wt,Yt){const{stream:un}=this.lexer;un.pos=Wt;const Ut=2048,Ot=Yt.length;for(;un.pos<un.end;){const Ht=un.peekBytes(Ut),an=Ht.length-Ot;if(an<=0)break;let zt=0;for(;zt<an;){let Vt=0;for(;Vt<Ot&&Ht[zt+Vt]===Yt[Vt];)Vt++;if(Vt>=Ot)return un.pos+=zt,un.pos-Wt;zt++}un.pos+=an}return-1}makeStream(Wt,Yt){const un=this.lexer;let Ut=un.stream;un.skipToNextLine();const Ot=Ut.pos-1;let Ht=Wt.get("Length");if(Number.isInteger(Ht)||((0,wt.info)(`Bad length "${Ht&&Ht.toString()}" in stream.`),Ht=0),Ut.pos=Ot+Ht,un.nextChar(),this.tryShift()&&(0,_t.isCmd)(this.buf2,"endstream"))this.shift();else{const an=new Uint8Array([101,110,100,115,116,114,101,97,109]);let zt=this._findStreamLength(Ot,an);if(zt<0){for(let nn=1;nn<=1;nn++){const hn=an.length-nn,on=an.slice(0,hn),cn=this._findStreamLength(Ot,on);if(cn>=0){const sn=Ut.peekBytes(hn+1)[hn];if(!(0,Rt.isWhiteSpace)(sn))break;(0,wt.info)(`Found "${(0,wt.bytesToString)(on)}" when searching for endstream command.`),zt=cn;break}}if(zt<0)throw new wt.FormatError("Missing endstream command.")}Ht=zt,un.nextChar(),this.shift(),this.shift()}return this.shift(),Ut=Ut.makeSubStream(Ot,Ht,Wt),Yt&&(Ut=Yt.createStream(Ut,Ht)),Ut=this.filter(Ut,Wt,Ht),Ut.dict=Wt,Ut}filter(Wt,Yt,un){let Ut=Yt.get("F","Filter"),Ot=Yt.get("DP","DecodeParms");if(Ut instanceof _t.Name)return Array.isArray(Ot)&&(0,wt.warn)("/DecodeParms should not be an Array, when /Filter is a Name."),this.makeFilter(Wt,Ut.name,un,Ot);let Ht=un;if(Array.isArray(Ut)){const an=Ut,zt=Ot;for(let Vt=0,nn=an.length;Vt<nn;++Vt){if(Ut=this.xref.fetchIfRef(an[Vt]),!(Ut instanceof _t.Name))throw new wt.FormatError(`Bad filter name "${Ut}"`);Ot=null,Array.isArray(zt)&&Vt in zt&&(Ot=this.xref.fetchIfRef(zt[Vt])),Wt=this.makeFilter(Wt,Ut.name,Ht,Ot),Ht=null}}return Wt}makeFilter(Wt,Yt,un,Ut){if(un===0)return(0,wt.warn)(`Empty "${Yt}" stream.`),new _e.NullStream;try{switch(Yt){case"Fl":case"FlateDecode":return Ut?new kt.PredictorStream(new Kt.FlateStream(Wt,un),un,Ut):new Kt.FlateStream(Wt,un);case"LZW":case"LZWDecode":let Ot=1;return Ut?(Ut.has("EarlyChange")&&(Ot=Ut.get("EarlyChange")),new kt.PredictorStream(new jt.LZWStream(Wt,un,Ot),un,Ut)):new jt.LZWStream(Wt,un,Ot);case"DCT":case"DCTDecode":return new $t.JpegStream(Wt,un,Ut);case"JPX":case"JPXDecode":return new Lt.JpxStream(Wt,un,Ut);case"A85":case"ASCII85Decode":return new bt.Ascii85Stream(Wt,un);case"AHx":case"ASCIIHexDecode":return new Pt.AsciiHexStream(Wt,un);case"CCF":case"CCITTFaxDecode":return new Xt.CCITTFaxStream(Wt,un,Ut);case"RL":case"RunLengthDecode":return new qt.RunLengthStream(Wt,un);case"JBIG2Decode":return new Nt.Jbig2Stream(Wt,un,Ut)}return(0,wt.warn)(`Filter "${Yt}" is not supported.`),Wt}catch(Ot){if(Ot instanceof Rt.MissingDataException)throw Ot;return(0,wt.warn)(`Invalid stream: "${Ot}"`),new _e.NullStream}}}Et.Parser=en;const dn=[1,0,0,0,0,0,0,0,0,1,1,0,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,2,0,0,2,2,0,0,0,0,0,2,0,0,0,0,0,0,0,0,0,0,0,0,2,0,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,0,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,0,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];function Qt(bn){return bn>=48&&bn<=57?bn&15:bn>=65&&bn<=70||bn>=97&&bn<=102?(bn&15)+9:-1}class gn{constructor(Wt,Yt=null){this.stream=Wt,this.nextChar(),this.strBuf=[],this.knownCommands=Yt,this._hexStringNumWarn=0,this.beginInlineImagePos=-1}nextChar(){return this.currentChar=this.stream.getByte()}peekChar(){return this.stream.peekByte()}getNumber(){let Wt=this.currentChar,Yt=!1,un=0,Ut=1;if(Wt===45?(Ut=-1,Wt=this.nextChar(),Wt===45&&(Wt=this.nextChar())):Wt===43&&(Wt=this.nextChar()),Wt===10||Wt===13)do Wt=this.nextChar();while(Wt===10||Wt===13);if(Wt===46&&(un=10,Wt=this.nextChar()),Wt<48||Wt>57){const zt=`Invalid number: ${String.fromCharCode(Wt)} (charCode ${Wt})`;if((0,Rt.isWhiteSpace)(Wt)||Wt===-1)return(0,wt.info)(`Lexer.getNumber - "${zt}".`),0;throw new wt.FormatError(zt)}let Ot=Wt-48,Ht=0,an=1;for(;(Wt=this.nextChar())>=0;)if(Wt>=48&&Wt<=57){const zt=Wt-48;Yt?Ht=Ht*10+zt:(un!==0&&(un*=10),Ot=Ot*10+zt)}else if(Wt===46)if(un===0)un=1;else break;else if(Wt===45)(0,wt.warn)("Badly formatted number: minus sign in the middle");else if(Wt===69||Wt===101){if(Wt=this.peekChar(),Wt===43||Wt===45)an=Wt===45?-1:1,this.nextChar();else if(Wt<48||Wt>57)break;Yt=!0}else break;return un!==0&&(Ot/=un),Yt&&(Ot*=10**(an*Ht)),Ut*Ot}getString(){let Wt=1,Yt=!1;const un=this.strBuf;un.length=0;let Ut=this.nextChar();for(;;){let Ot=!1;switch(Ut|0){case-1:(0,wt.warn)("Unterminated string"),Yt=!0;break;case 40:++Wt,un.push("(");break;case 41:--Wt===0?(this.nextChar(),Yt=!0):un.push(")");break;case 92:switch(Ut=this.nextChar(),Ut){case-1:(0,wt.warn)("Unterminated string"),Yt=!0;break;case 110:un.push(`
`);break;case 114:un.push("\r");break;case 116:un.push("	");break;case 98:un.push("\b");break;case 102:un.push("\f");break;case 92:case 40:case 41:un.push(String.fromCharCode(Ut));break;case 48:case 49:case 50:case 51:case 52:case 53:case 54:case 55:let Ht=Ut&15;Ut=this.nextChar(),Ot=!0,Ut>=48&&Ut<=55&&(Ht=(Ht<<3)+(Ut&15),Ut=this.nextChar(),Ut>=48&&Ut<=55&&(Ot=!1,Ht=(Ht<<3)+(Ut&15))),un.push(String.fromCharCode(Ht));break;case 13:this.peekChar()===10&&this.nextChar();break;case 10:break;default:un.push(String.fromCharCode(Ut));break}break;default:un.push(String.fromCharCode(Ut));break}if(Yt)break;Ot||(Ut=this.nextChar())}return un.join("")}getName(){let Wt,Yt;const un=this.strBuf;for(un.length=0;(Wt=this.nextChar())>=0&&!dn[Wt];)if(Wt===35){if(Wt=this.nextChar(),dn[Wt]){(0,wt.warn)("Lexer_getName: NUMBER SIGN (#) should be followed by a hexadecimal number."),un.push("#");break}const Ut=Qt(Wt);if(Ut!==-1){Yt=Wt,Wt=this.nextChar();const Ot=Qt(Wt);if(Ot===-1){if((0,wt.warn)(`Lexer_getName: Illegal digit (${String.fromCharCode(Wt)}) in hexadecimal number.`),un.push("#",String.fromCharCode(Yt)),dn[Wt])break;un.push(String.fromCharCode(Wt));continue}un.push(String.fromCharCode(Ut<<4|Ot))}else un.push("#",String.fromCharCode(Wt))}else un.push(String.fromCharCode(Wt));return un.length>127&&(0,wt.warn)(`Name token is longer than allowed by the spec: ${un.length}`),_t.Name.get(un.join(""))}_hexStringWarn(Wt){if(this._hexStringNumWarn++===5){(0,wt.warn)("getHexString - ignoring additional invalid characters.");return}this._hexStringNumWarn>5||(0,wt.warn)(`getHexString - ignoring invalid character: ${Wt}`)}getHexString(){const Wt=this.strBuf;Wt.length=0;let Yt=this.currentChar,un=!0,Ut,Ot;for(this._hexStringNumWarn=0;;)if(Yt<0){(0,wt.warn)("Unterminated hex string");break}else if(Yt===62){this.nextChar();break}else if(dn[Yt]===1){Yt=this.nextChar();continue}else{if(un){if(Ut=Qt(Yt),Ut===-1){this._hexStringWarn(Yt),Yt=this.nextChar();continue}}else{if(Ot=Qt(Yt),Ot===-1){this._hexStringWarn(Yt),Yt=this.nextChar();continue}Wt.push(String.fromCharCode(Ut<<4|Ot))}un=!un,Yt=this.nextChar()}return Wt.join("")}getObj(){let Wt=!1,Yt=this.currentChar;for(;;){if(Yt<0)return _t.EOF;if(Wt)(Yt===10||Yt===13)&&(Wt=!1);else if(Yt===37)Wt=!0;else if(dn[Yt]!==1)break;Yt=this.nextChar()}switch(Yt|0){case 48:case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:case 43:case 45:case 46:return this.getNumber();case 40:return this.getString();case 47:return this.getName();case 91:return this.nextChar(),_t.Cmd.get("[");case 93:return this.nextChar(),_t.Cmd.get("]");case 60:return Yt=this.nextChar(),Yt===60?(this.nextChar(),_t.Cmd.get("<<")):this.getHexString();case 62:return Yt=this.nextChar(),Yt===62?(this.nextChar(),_t.Cmd.get(">>")):_t.Cmd.get(">");case 123:return this.nextChar(),_t.Cmd.get("{");case 125:return this.nextChar(),_t.Cmd.get("}");case 41:throw this.nextChar(),new wt.FormatError(`Illegal character: ${Yt}`)}let un=String.fromCharCode(Yt);if(Yt<32||Yt>127){const Ht=this.peekChar();if(Ht>=32&&Ht<=127)return this.nextChar(),_t.Cmd.get(un)}const Ut=this.knownCommands;let Ot=(Ut==null?void 0:Ut[un])!==void 0;for(;(Yt=this.nextChar())>=0&&!dn[Yt];){const Ht=un+String.fromCharCode(Yt);if(Ot&&Ut[Ht]===void 0)break;if(un.length===128)throw new wt.FormatError(`Command token too long: ${un.length}`);un=Ht,Ot=(Ut==null?void 0:Ut[un])!==void 0}return un==="true"?!0:un==="false"?!1:un==="null"?null:(un==="BI"&&(this.beginInlineImagePos=this.stream.pos),_t.Cmd.get(un))}skipToNextLine(){let Wt=this.currentChar;for(;Wt>=0;){if(Wt===13){Wt=this.nextChar(),Wt===10&&this.nextChar();break}else if(Wt===10){this.nextChar();break}Wt=this.nextChar()}}}Et.Lexer=gn;class tn{static create(Wt){function Yt(hn,on,cn=!1){const sn=hn.get(on);if(Number.isInteger(sn)&&(cn?sn>=0:sn>0))return sn;throw new Error(`The "${on}" parameter in the linearization dictionary is invalid.`)}function un(hn){const on=hn.get("H");let cn;if(Array.isArray(on)&&((cn=on.length)===2||cn===4)){for(let sn=0;sn<cn;sn++){const rn=on[sn];if(!(Number.isInteger(rn)&&rn>0))throw new Error(`Hint (${sn}) in the linearization dictionary is invalid.`)}return on}throw new Error("Hint array in the linearization dictionary is invalid.")}const Ut=new en({lexer:new gn(Wt),xref:null}),Ot=Ut.getObj(),Ht=Ut.getObj(),an=Ut.getObj(),zt=Ut.getObj();let Vt,nn;if(Number.isInteger(Ot)&&Number.isInteger(Ht)&&(0,_t.isCmd)(an,"obj")&&zt instanceof _t.Dict&&typeof(Vt=zt.get("Linearized"))=="number"&&Vt>0){if((nn=Yt(zt,"L"))!==Wt.length)throw new Error('The "L" parameter in the linearization dictionary does not equal the stream length.')}else return null;return{length:nn,hints:un(zt),objectNumberFirst:Yt(zt,"O"),endFirst:Yt(zt,"E"),numPages:Yt(zt,"N"),mainXRefEntriesOffset:Yt(zt,"T"),pageFirst:zt.has("P")?Yt(zt,"P",!0):0}}}Et.Linearization=tn},(Ct,Et,Ft)=>{Object.defineProperty(Et,"__esModule",{value:!0}),Et.Ascii85Stream=void 0;var wt=Ft(18),_t=Ft(3);class Rt extends wt.DecodeStream{constructor(bt,Pt){Pt&&(Pt*=.8),super(Pt),this.str=bt,this.dict=bt.dict,this.input=new Uint8Array(5)}readBlock(){const Kt=this.str;let Nt=Kt.getByte();for(;(0,_t.isWhiteSpace)(Nt);)Nt=Kt.getByte();if(Nt===-1||Nt===126){this.eof=!0;return}const $t=this.bufferLength;let Lt,jt;if(Nt===122){for(Lt=this.ensureBuffer($t+4),jt=0;jt<4;++jt)Lt[$t+jt]=0;this.bufferLength+=4}else{const kt=this.input;for(kt[0]=Nt,jt=1;jt<5;++jt){for(Nt=Kt.getByte();(0,_t.isWhiteSpace)(Nt);)Nt=Kt.getByte();if(kt[jt]=Nt,Nt===-1||Nt===126)break}if(Lt=this.ensureBuffer($t+jt-1),this.bufferLength+=jt-1,jt<5){for(;jt<5;++jt)kt[jt]=117;this.eof=!0}let qt=0;for(jt=0;jt<5;++jt)qt=qt*85+(kt[jt]-33);for(jt=3;jt>=0;--jt)Lt[$t+jt]=qt&255,qt>>=8}}}Et.Ascii85Stream=Rt},(Ct,Et,Ft)=>{Object.defineProperty(Et,"__esModule",{value:!0}),Et.StreamsSequenceStream=Et.DecodeStream=void 0;var wt=Ft(5),_t=Ft(8);const Rt=new Uint8Array(0);class _e extends wt.BaseStream{constructor(Xt){if(super(),this._rawMinBufferLength=Xt||0,this.pos=0,this.bufferLength=0,this.eof=!1,this.buffer=Rt,this.minBufferLength=512,Xt)for(;this.minBufferLength<Xt;)this.minBufferLength*=2}get isEmpty(){for(;!this.eof&&this.bufferLength===0;)this.readBlock();return this.bufferLength===0}ensureBuffer(Xt){const Kt=this.buffer;if(Xt<=Kt.byteLength)return Kt;let Nt=this.minBufferLength;for(;Nt<Xt;)Nt*=2;const $t=new Uint8Array(Nt);return $t.set(Kt),this.buffer=$t}getByte(){const Xt=this.pos;for(;this.bufferLength<=Xt;){if(this.eof)return-1;this.readBlock()}return this.buffer[this.pos++]}getBytes(Xt){const Kt=this.pos;let Nt;if(Xt){for(this.ensureBuffer(Kt+Xt),Nt=Kt+Xt;!this.eof&&this.bufferLength<Nt;)this.readBlock();const $t=this.bufferLength;Nt>$t&&(Nt=$t)}else{for(;!this.eof;)this.readBlock();Nt=this.bufferLength}return this.pos=Nt,this.buffer.subarray(Kt,Nt)}reset(){this.pos=0}makeSubStream(Xt,Kt,Nt=null){if(Kt===void 0)for(;!this.eof;)this.readBlock();else{const $t=Xt+Kt;for(;this.bufferLength<=$t&&!this.eof;)this.readBlock()}return new _t.Stream(this.buffer,Xt,Kt,Nt)}getBaseStreams(){return this.str?this.str.getBaseStreams():null}}Et.DecodeStream=_e;class bt extends _e{constructor(Xt,Kt=null){let Nt=0;for(const $t of Xt)Nt+=$t instanceof _e?$t._rawMinBufferLength:$t.length;super(Nt),this.streams=Xt,this._onError=Kt}readBlock(){var kt;const Xt=this.streams;if(Xt.length===0){this.eof=!0;return}const Kt=Xt.shift();let Nt;try{Nt=Kt.getBytes()}catch(qt){if(this._onError){this._onError(qt,(kt=Kt.dict)==null?void 0:kt.objId);return}throw qt}const $t=this.bufferLength,Lt=$t+Nt.length;this.ensureBuffer(Lt).set(Nt,$t),this.bufferLength=Lt}getBaseStreams(){const Xt=[];for(const Kt of this.streams){const Nt=Kt.getBaseStreams();Nt&&Xt.push(...Nt)}return Xt.length>0?Xt:null}}Et.StreamsSequenceStream=bt},(Ct,Et,Ft)=>{Object.defineProperty(Et,"__esModule",{value:!0}),Et.AsciiHexStream=void 0;var wt=Ft(18);class _t extends wt.DecodeStream{constructor(_e,bt){bt&&(bt*=.5),super(bt),this.str=_e,this.dict=_e.dict,this.firstDigit=-1}readBlock(){const bt=this.str.getBytes(8e3);if(!bt.length){this.eof=!0;return}const Pt=bt.length+1>>1,Xt=this.ensureBuffer(this.bufferLength+Pt);let Kt=this.bufferLength,Nt=this.firstDigit;for(const $t of bt){let Lt;if($t>=48&&$t<=57)Lt=$t&15;else if($t>=65&&$t<=70||$t>=97&&$t<=102)Lt=($t&15)+9;else if($t===62){this.eof=!0;break}else continue;Nt<0?Nt=Lt:(Xt[Kt++]=Nt<<4|Lt,Nt=-1)}Nt>=0&&this.eof&&(Xt[Kt++]=Nt<<4,Nt=-1),this.firstDigit=Nt,this.bufferLength=Kt}}Et.AsciiHexStream=_t},(Ct,Et,Ft)=>{Object.defineProperty(Et,"__esModule",{value:!0}),Et.CCITTFaxStream=void 0;var wt=Ft(21),_t=Ft(18),Rt=Ft(4);class _e extends _t.DecodeStream{constructor(Pt,Xt,Kt){super(Xt),this.str=Pt,this.dict=Pt.dict,Kt instanceof Rt.Dict||(Kt=Rt.Dict.empty);const Nt={next(){return Pt.getByte()}};this.ccittFaxDecoder=new wt.CCITTFaxDecoder(Nt,{K:Kt.get("K"),EndOfLine:Kt.get("EndOfLine"),EncodedByteAlign:Kt.get("EncodedByteAlign"),Columns:Kt.get("Columns"),Rows:Kt.get("Rows"),EndOfBlock:Kt.get("EndOfBlock"),BlackIs1:Kt.get("BlackIs1")})}readBlock(){for(;!this.eof;){const Pt=this.ccittFaxDecoder.readNextChar();if(Pt===-1){this.eof=!0;return}this.ensureBuffer(this.bufferLength+1),this.buffer[this.bufferLength++]=Pt}}}Et.CCITTFaxStream=_e},(Ct,Et,Ft)=>{Object.defineProperty(Et,"__esModule",{value:!0}),Et.CCITTFaxDecoder=void 0;var wt=Ft(2);const _t=-2,Rt=-1,_e=0,bt=1,Pt=2,Xt=3,Kt=4,Nt=5,$t=6,Lt=7,jt=8,kt=[[-1,-1],[-1,-1],[7,jt],[7,Lt],[6,$t],[6,$t],[6,Nt],[6,Nt],[4,_e],[4,_e],[4,_e],[4,_e],[4,_e],[4,_e],[4,_e],[4,_e],[3,bt],[3,bt],[3,bt],[3,bt],[3,bt],[3,bt],[3,bt],[3,bt],[3,bt],[3,bt],[3,bt],[3,bt],[3,bt],[3,bt],[3,bt],[3,bt],[3,Kt],[3,Kt],[3,Kt],[3,Kt],[3,Kt],[3,Kt],[3,Kt],[3,Kt],[3,Kt],[3,Kt],[3,Kt],[3,Kt],[3,Kt],[3,Kt],[3,Kt],[3,Kt],[3,Xt],[3,Xt],[3,Xt],[3,Xt],[3,Xt],[3,Xt],[3,Xt],[3,Xt],[3,Xt],[3,Xt],[3,Xt],[3,Xt],[3,Xt],[3,Xt],[3,Xt],[3,Xt],[1,Pt],[1,Pt],[1,Pt],[1,Pt],[1,Pt],[1,Pt],[1,Pt],[1,Pt],[1,Pt],[1,Pt],[1,Pt],[1,Pt],[1,Pt],[1,Pt],[1,Pt],[1,Pt],[1,Pt],[1,Pt],[1,Pt],[1,Pt],[1,Pt],[1,Pt],[1,Pt],[1,Pt],[1,Pt],[1,Pt],[1,Pt],[1,Pt],[1,Pt],[1,Pt],[1,Pt],[1,Pt],[1,Pt],[1,Pt],[1,Pt],[1,Pt],[1,Pt],[1,Pt],[1,Pt],[1,Pt],[1,Pt],[1,Pt],[1,Pt],[1,Pt],[1,Pt],[1,Pt],[1,Pt],[1,Pt],[1,Pt],[1,Pt],[1,Pt],[1,Pt],[1,Pt],[1,Pt],[1,Pt],[1,Pt],[1,Pt],[1,Pt],[1,Pt],[1,Pt],[1,Pt],[1,Pt],[1,Pt],[1,Pt]],qt=[[-1,-1],[12,_t],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[11,1792],[11,1792],[12,1984],[12,2048],[12,2112],[12,2176],[12,2240],[12,2304],[11,1856],[11,1856],[11,1920],[11,1920],[12,2368],[12,2432],[12,2496],[12,2560]],Bt=[[-1,-1],[-1,-1],[-1,-1],[-1,-1],[8,29],[8,29],[8,30],[8,30],[8,45],[8,45],[8,46],[8,46],[7,22],[7,22],[7,22],[7,22],[7,23],[7,23],[7,23],[7,23],[8,47],[8,47],[8,48],[8,48],[6,13],[6,13],[6,13],[6,13],[6,13],[6,13],[6,13],[6,13],[7,20],[7,20],[7,20],[7,20],[8,33],[8,33],[8,34],[8,34],[8,35],[8,35],[8,36],[8,36],[8,37],[8,37],[8,38],[8,38],[7,19],[7,19],[7,19],[7,19],[8,31],[8,31],[8,32],[8,32],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,12],[6,12],[6,12],[6,12],[6,12],[6,12],[6,12],[6,12],[8,53],[8,53],[8,54],[8,54],[7,26],[7,26],[7,26],[7,26],[8,39],[8,39],[8,40],[8,40],[8,41],[8,41],[8,42],[8,42],[8,43],[8,43],[8,44],[8,44],[7,21],[7,21],[7,21],[7,21],[7,28],[7,28],[7,28],[7,28],[8,61],[8,61],[8,62],[8,62],[8,63],[8,63],[8,0],[8,0],[8,320],[8,320],[8,384],[8,384],[5,10],[5,10],[5,10],[5,10],[5,10],[5,10],[5,10],[5,10],[5,10],[5,10],[5,10],[5,10],[5,10],[5,10],[5,10],[5,10],[5,11],[5,11],[5,11],[5,11],[5,11],[5,11],[5,11],[5,11],[5,11],[5,11],[5,11],[5,11],[5,11],[5,11],[5,11],[5,11],[7,27],[7,27],[7,27],[7,27],[8,59],[8,59],[8,60],[8,60],[9,1472],[9,1536],[9,1600],[9,1728],[7,18],[7,18],[7,18],[7,18],[7,24],[7,24],[7,24],[7,24],[8,49],[8,49],[8,50],[8,50],[8,51],[8,51],[8,52],[8,52],[7,25],[7,25],[7,25],[7,25],[8,55],[8,55],[8,56],[8,56],[8,57],[8,57],[8,58],[8,58],[6,192],[6,192],[6,192],[6,192],[6,192],[6,192],[6,192],[6,192],[6,1664],[6,1664],[6,1664],[6,1664],[6,1664],[6,1664],[6,1664],[6,1664],[8,448],[8,448],[8,512],[8,512],[9,704],[9,768],[8,640],[8,640],[8,576],[8,576],[9,832],[9,896],[9,960],[9,1024],[9,1088],[9,1152],[9,1216],[9,1280],[9,1344],[9,1408],[7,256],[7,256],[7,256],[7,256],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[5,128],[5,128],[5,128],[5,128],[5,128],[5,128],[5,128],[5,128],[5,128],[5,128],[5,128],[5,128],[5,128],[5,128],[5,128],[5,128],[5,8],[5,8],[5,8],[5,8],[5,8],[5,8],[5,8],[5,8],[5,8],[5,8],[5,8],[5,8],[5,8],[5,8],[5,8],[5,8],[5,9],[5,9],[5,9],[5,9],[5,9],[5,9],[5,9],[5,9],[5,9],[5,9],[5,9],[5,9],[5,9],[5,9],[5,9],[5,9],[6,16],[6,16],[6,16],[6,16],[6,16],[6,16],[6,16],[6,16],[6,17],[6,17],[6,17],[6,17],[6,17],[6,17],[6,17],[6,17],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[6,14],[6,14],[6,14],[6,14],[6,14],[6,14],[6,14],[6,14],[6,15],[6,15],[6,15],[6,15],[6,15],[6,15],[6,15],[6,15],[5,64],[5,64],[5,64],[5,64],[5,64],[5,64],[5,64],[5,64],[5,64],[5,64],[5,64],[5,64],[5,64],[5,64],[5,64],[5,64],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7]],Gt=[[-1,-1],[-1,-1],[12,_t],[12,_t],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[11,1792],[11,1792],[11,1792],[11,1792],[12,1984],[12,1984],[12,2048],[12,2048],[12,2112],[12,2112],[12,2176],[12,2176],[12,2240],[12,2240],[12,2304],[12,2304],[11,1856],[11,1856],[11,1856],[11,1856],[11,1920],[11,1920],[11,1920],[11,1920],[12,2368],[12,2368],[12,2432],[12,2432],[12,2496],[12,2496],[12,2560],[12,2560],[10,18],[10,18],[10,18],[10,18],[10,18],[10,18],[10,18],[10,18],[12,52],[12,52],[13,640],[13,704],[13,768],[13,832],[12,55],[12,55],[12,56],[12,56],[13,1280],[13,1344],[13,1408],[13,1472],[12,59],[12,59],[12,60],[12,60],[13,1536],[13,1600],[11,24],[11,24],[11,24],[11,24],[11,25],[11,25],[11,25],[11,25],[13,1664],[13,1728],[12,320],[12,320],[12,384],[12,384],[12,448],[12,448],[13,512],[13,576],[12,53],[12,53],[12,54],[12,54],[13,896],[13,960],[13,1024],[13,1088],[13,1152],[13,1216],[10,64],[10,64],[10,64],[10,64],[10,64],[10,64],[10,64],[10,64]],en=[[8,13],[8,13],[8,13],[8,13],[8,13],[8,13],[8,13],[8,13],[8,13],[8,13],[8,13],[8,13],[8,13],[8,13],[8,13],[8,13],[11,23],[11,23],[12,50],[12,51],[12,44],[12,45],[12,46],[12,47],[12,57],[12,58],[12,61],[12,256],[10,16],[10,16],[10,16],[10,16],[10,17],[10,17],[10,17],[10,17],[12,48],[12,49],[12,62],[12,63],[12,30],[12,31],[12,32],[12,33],[12,40],[12,41],[11,22],[11,22],[8,14],[8,14],[8,14],[8,14],[8,14],[8,14],[8,14],[8,14],[8,14],[8,14],[8,14],[8,14],[8,14],[8,14],[8,14],[8,14],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[9,15],[9,15],[9,15],[9,15],[9,15],[9,15],[9,15],[9,15],[12,128],[12,192],[12,26],[12,27],[12,28],[12,29],[11,19],[11,19],[11,20],[11,20],[12,34],[12,35],[12,36],[12,37],[12,38],[12,39],[11,21],[11,21],[12,42],[12,43],[10,0],[10,0],[10,0],[10,0],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12]],dn=[[-1,-1],[-1,-1],[-1,-1],[-1,-1],[6,9],[6,8],[5,7],[5,7],[4,6],[4,6],[4,6],[4,6],[4,5],[4,5],[4,5],[4,5],[3,1],[3,1],[3,1],[3,1],[3,1],[3,1],[3,1],[3,1],[3,4],[3,4],[3,4],[3,4],[3,4],[3,4],[3,4],[3,4],[2,3],[2,3],[2,3],[2,3],[2,3],[2,3],[2,3],[2,3],[2,3],[2,3],[2,3],[2,3],[2,3],[2,3],[2,3],[2,3],[2,2],[2,2],[2,2],[2,2],[2,2],[2,2],[2,2],[2,2],[2,2],[2,2],[2,2],[2,2],[2,2],[2,2],[2,2],[2,2]];class Qt{constructor(tn,bn={}){if(!tn||typeof tn.next!="function")throw new Error('CCITTFaxDecoder - invalid "source" parameter.');this.source=tn,this.eof=!1,this.encoding=bn.K||0,this.eoline=bn.EndOfLine||!1,this.byteAlign=bn.EncodedByteAlign||!1,this.columns=bn.Columns||1728,this.rows=bn.Rows||0,this.eoblock=bn.EndOfBlock??!0,this.black=bn.BlackIs1||!1,this.codingLine=new Uint32Array(this.columns+1),this.refLine=new Uint32Array(this.columns+2),this.codingLine[0]=this.columns,this.codingPos=0,this.row=0,this.nextLine2D=this.encoding<0,this.inputBits=0,this.inputBuf=0,this.outputBits=0,this.rowsDone=!1;let Wt;for(;(Wt=this._lookBits(12))===0;)this._eatBits(1);Wt===1&&this._eatBits(12),this.encoding>0&&(this.nextLine2D=!this._lookBits(1),this._eatBits(1))}readNextChar(){if(this.eof)return-1;const tn=this.refLine,bn=this.codingLine,Wt=this.columns;let Yt,un,Ut,Ot;if(this.outputBits===0){if(this.rowsDone&&(this.eof=!0),this.eof)return-1;this.err=!1;let an,zt,Vt;if(this.nextLine2D){for(Ot=0;bn[Ot]<Wt;++Ot)tn[Ot]=bn[Ot];for(tn[Ot++]=Wt,tn[Ot]=Wt,bn[0]=0,this.codingPos=0,Yt=0,un=0;bn[this.codingPos]<Wt;)switch(an=this._getTwoDimCode(),an){case _e:this._addPixels(tn[Yt+1],un),tn[Yt+1]<Wt&&(Yt+=2);break;case bt:if(an=zt=0,un){do an+=Vt=this._getBlackCode();while(Vt>=64);do zt+=Vt=this._getWhiteCode();while(Vt>=64)}else{do an+=Vt=this._getWhiteCode();while(Vt>=64);do zt+=Vt=this._getBlackCode();while(Vt>=64)}for(this._addPixels(bn[this.codingPos]+an,un),bn[this.codingPos]<Wt&&this._addPixels(bn[this.codingPos]+zt,un^1);tn[Yt]<=bn[this.codingPos]&&tn[Yt]<Wt;)Yt+=2;break;case Lt:if(this._addPixels(tn[Yt]+3,un),un^=1,bn[this.codingPos]<Wt)for(++Yt;tn[Yt]<=bn[this.codingPos]&&tn[Yt]<Wt;)Yt+=2;break;case Nt:if(this._addPixels(tn[Yt]+2,un),un^=1,bn[this.codingPos]<Wt)for(++Yt;tn[Yt]<=bn[this.codingPos]&&tn[Yt]<Wt;)Yt+=2;break;case Xt:if(this._addPixels(tn[Yt]+1,un),un^=1,bn[this.codingPos]<Wt)for(++Yt;tn[Yt]<=bn[this.codingPos]&&tn[Yt]<Wt;)Yt+=2;break;case Pt:if(this._addPixels(tn[Yt],un),un^=1,bn[this.codingPos]<Wt)for(++Yt;tn[Yt]<=bn[this.codingPos]&&tn[Yt]<Wt;)Yt+=2;break;case jt:if(this._addPixelsNeg(tn[Yt]-3,un),un^=1,bn[this.codingPos]<Wt)for(Yt>0?--Yt:++Yt;tn[Yt]<=bn[this.codingPos]&&tn[Yt]<Wt;)Yt+=2;break;case $t:if(this._addPixelsNeg(tn[Yt]-2,un),un^=1,bn[this.codingPos]<Wt)for(Yt>0?--Yt:++Yt;tn[Yt]<=bn[this.codingPos]&&tn[Yt]<Wt;)Yt+=2;break;case Kt:if(this._addPixelsNeg(tn[Yt]-1,un),un^=1,bn[this.codingPos]<Wt)for(Yt>0?--Yt:++Yt;tn[Yt]<=bn[this.codingPos]&&tn[Yt]<Wt;)Yt+=2;break;case Rt:this._addPixels(Wt,0),this.eof=!0;break;default:(0,wt.info)("bad 2d code"),this._addPixels(Wt,0),this.err=!0}}else for(bn[0]=0,this.codingPos=0,un=0;bn[this.codingPos]<Wt;){if(an=0,un)do an+=Vt=this._getBlackCode();while(Vt>=64);else do an+=Vt=this._getWhiteCode();while(Vt>=64);this._addPixels(bn[this.codingPos]+an,un),un^=1}let nn=!1;if(this.byteAlign&&(this.inputBits&=-8),!this.eoblock&&this.row===this.rows-1)this.rowsDone=!0;else{if(an=this._lookBits(12),this.eoline)for(;an!==Rt&&an!==1;)this._eatBits(1),an=this._lookBits(12);else for(;an===0;)this._eatBits(1),an=this._lookBits(12);an===1?(this._eatBits(12),nn=!0):an===Rt&&(this.eof=!0)}if(!this.eof&&this.encoding>0&&!this.rowsDone&&(this.nextLine2D=!this._lookBits(1),this._eatBits(1)),this.eoblock&&nn&&this.byteAlign){if(an=this._lookBits(12),an===1){if(this._eatBits(12),this.encoding>0&&(this._lookBits(1),this._eatBits(1)),this.encoding>=0)for(Ot=0;Ot<4;++Ot)an=this._lookBits(12),an!==1&&(0,wt.info)("bad rtc code: "+an),this._eatBits(12),this.encoding>0&&(this._lookBits(1),this._eatBits(1));this.eof=!0}}else if(this.err&&this.eoline){for(;;){if(an=this._lookBits(13),an===Rt)return this.eof=!0,-1;if(an>>1===1)break;this._eatBits(1)}this._eatBits(12),this.encoding>0&&(this._eatBits(1),this.nextLine2D=!(an&1))}this.outputBits=bn[0]>0?bn[this.codingPos=0]:bn[this.codingPos=1],this.row++}let Ht;if(this.outputBits>=8)Ht=this.codingPos&1?0:255,this.outputBits-=8,this.outputBits===0&&bn[this.codingPos]<Wt&&(this.codingPos++,this.outputBits=bn[this.codingPos]-bn[this.codingPos-1]);else{Ut=8,Ht=0;do{if(typeof this.outputBits!="number")throw new wt.FormatError('Invalid /CCITTFaxDecode data, "outputBits" must be a number.');this.outputBits>Ut?(Ht<<=Ut,this.codingPos&1||(Ht|=255>>8-Ut),this.outputBits-=Ut,Ut=0):(Ht<<=this.outputBits,this.codingPos&1||(Ht|=255>>8-this.outputBits),Ut-=this.outputBits,this.outputBits=0,bn[this.codingPos]<Wt?(this.codingPos++,this.outputBits=bn[this.codingPos]-bn[this.codingPos-1]):Ut>0&&(Ht<<=Ut,Ut=0))}while(Ut)}return this.black&&(Ht^=255),Ht}_addPixels(tn,bn){const Wt=this.codingLine;let Yt=this.codingPos;tn>Wt[Yt]&&(tn>this.columns&&((0,wt.info)("row is wrong length"),this.err=!0,tn=this.columns),Yt&1^bn&&++Yt,Wt[Yt]=tn),this.codingPos=Yt}_addPixelsNeg(tn,bn){const Wt=this.codingLine;let Yt=this.codingPos;if(tn>Wt[Yt])tn>this.columns&&((0,wt.info)("row is wrong length"),this.err=!0,tn=this.columns),Yt&1^bn&&++Yt,Wt[Yt]=tn;else if(tn<Wt[Yt]){for(tn<0&&((0,wt.info)("invalid code"),this.err=!0,tn=0);Yt>0&&tn<Wt[Yt-1];)--Yt;Wt[Yt]=tn}this.codingPos=Yt}_findTableCode(tn,bn,Wt,Yt){const un=Yt||0;for(let Ut=tn;Ut<=bn;++Ut){let Ot=this._lookBits(Ut);if(Ot===Rt)return[!0,1,!1];if(Ut<bn&&(Ot<<=bn-Ut),!un||Ot>=un){const Ht=Wt[Ot-un];if(Ht[0]===Ut)return this._eatBits(Ut),[!0,Ht[1],!0]}}return[!1,0,!1]}_getTwoDimCode(){let tn=0,bn;if(this.eoblock){if(tn=this._lookBits(7),bn=kt[tn],(bn==null?void 0:bn[0])>0)return this._eatBits(bn[0]),bn[1]}else{const Wt=this._findTableCode(1,7,kt);if(Wt[0]&&Wt[2])return Wt[1]}return(0,wt.info)("Bad two dim code"),Rt}_getWhiteCode(){let tn=0,bn;if(this.eoblock){if(tn=this._lookBits(12),tn===Rt)return 1;if(bn=tn>>5?Bt[tn>>3]:qt[tn],bn[0]>0)return this._eatBits(bn[0]),bn[1]}else{let Wt=this._findTableCode(1,9,Bt);if(Wt[0]||(Wt=this._findTableCode(11,12,qt),Wt[0]))return Wt[1]}return(0,wt.info)("bad white code"),this._eatBits(1),1}_getBlackCode(){let tn,bn;if(this.eoblock){if(tn=this._lookBits(13),tn===Rt)return 1;if(tn>>7?!(tn>>9)&&tn>>7?bn=en[(tn>>1)-64]:bn=dn[tn>>7]:bn=Gt[tn],bn[0]>0)return this._eatBits(bn[0]),bn[1]}else{let Wt=this._findTableCode(2,6,dn);if(Wt[0]||(Wt=this._findTableCode(7,12,en,64),Wt[0])||(Wt=this._findTableCode(10,13,Gt),Wt[0]))return Wt[1]}return(0,wt.info)("bad black code"),this._eatBits(1),1}_lookBits(tn){let bn;for(;this.inputBits<tn;){if((bn=this.source.next())===-1)return this.inputBits===0?Rt:this.inputBuf<<tn-this.inputBits&65535>>16-tn;this.inputBuf=this.inputBuf<<8|bn,this.inputBits+=8}return this.inputBuf>>this.inputBits-tn&65535>>16-tn}_eatBits(tn){(this.inputBits-=tn)<0&&(this.inputBits=0)}}Et.CCITTFaxDecoder=Qt},(Ct,Et,Ft)=>{Object.defineProperty(Et,"__esModule",{value:!0}),Et.FlateStream=void 0;var wt=Ft(18),_t=Ft(2);const Rt=new Int32Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),_e=new Int32Array([3,4,5,6,7,8,9,10,65547,65549,65551,65553,131091,131095,131099,131103,196643,196651,196659,196667,262211,262227,262243,262259,327811,327843,327875,327907,258,258,258]),bt=new Int32Array([1,2,3,4,65541,65543,131081,131085,196625,196633,262177,262193,327745,327777,393345,393409,459009,459137,524801,525057,590849,591361,657409,658433,724993,727041,794625,798721,868353,876545]),Pt=[new Int32Array([459008,524368,524304,524568,459024,524400,524336,590016,459016,524384,524320,589984,524288,524416,524352,590048,459012,524376,524312,589968,459028,524408,524344,590032,459020,524392,524328,59e4,524296,524424,524360,590064,459010,524372,524308,524572,459026,524404,524340,590024,459018,524388,524324,589992,524292,524420,524356,590056,459014,524380,524316,589976,459030,524412,524348,590040,459022,524396,524332,590008,524300,524428,524364,590072,459009,524370,524306,524570,459025,524402,524338,590020,459017,524386,524322,589988,524290,524418,524354,590052,459013,524378,524314,589972,459029,524410,524346,590036,459021,524394,524330,590004,524298,524426,524362,590068,459011,524374,524310,524574,459027,524406,524342,590028,459019,524390,524326,589996,524294,524422,524358,590060,459015,524382,524318,589980,459031,524414,524350,590044,459023,524398,524334,590012,524302,524430,524366,590076,459008,524369,524305,524569,459024,524401,524337,590018,459016,524385,524321,589986,524289,524417,524353,590050,459012,524377,524313,589970,459028,524409,524345,590034,459020,524393,524329,590002,524297,524425,524361,590066,459010,524373,524309,524573,459026,524405,524341,590026,459018,524389,524325,589994,524293,524421,524357,590058,459014,524381,524317,589978,459030,524413,524349,590042,459022,524397,524333,590010,524301,524429,524365,590074,459009,524371,524307,524571,459025,524403,524339,590022,459017,524387,524323,589990,524291,524419,524355,590054,459013,524379,524315,589974,459029,524411,524347,590038,459021,524395,524331,590006,524299,524427,524363,590070,459011,524375,524311,524575,459027,524407,524343,590030,459019,524391,524327,589998,524295,524423,524359,590062,459015,524383,524319,589982,459031,524415,524351,590046,459023,524399,524335,590014,524303,524431,524367,590078,459008,524368,524304,524568,459024,524400,524336,590017,459016,524384,524320,589985,524288,524416,524352,590049,459012,524376,524312,589969,459028,524408,524344,590033,459020,524392,524328,590001,524296,524424,524360,590065,459010,524372,524308,524572,459026,524404,524340,590025,459018,524388,524324,589993,524292,524420,524356,590057,459014,524380,524316,589977,459030,524412,524348,590041,459022,524396,524332,590009,524300,524428,524364,590073,459009,524370,524306,524570,459025,524402,524338,590021,459017,524386,524322,589989,524290,524418,524354,590053,459013,524378,524314,589973,459029,524410,524346,590037,459021,524394,524330,590005,524298,524426,524362,590069,459011,524374,524310,524574,459027,524406,524342,590029,459019,524390,524326,589997,524294,524422,524358,590061,459015,524382,524318,589981,459031,524414,524350,590045,459023,524398,524334,590013,524302,524430,524366,590077,459008,524369,524305,524569,459024,524401,524337,590019,459016,524385,524321,589987,524289,524417,524353,590051,459012,524377,524313,589971,459028,524409,524345,590035,459020,524393,524329,590003,524297,524425,524361,590067,459010,524373,524309,524573,459026,524405,524341,590027,459018,524389,524325,589995,524293,524421,524357,590059,459014,524381,524317,589979,459030,524413,524349,590043,459022,524397,524333,590011,524301,524429,524365,590075,459009,524371,524307,524571,459025,524403,524339,590023,459017,524387,524323,589991,524291,524419,524355,590055,459013,524379,524315,589975,459029,524411,524347,590039,459021,524395,524331,590007,524299,524427,524363,590071,459011,524375,524311,524575,459027,524407,524343,590031,459019,524391,524327,589999,524295,524423,524359,590063,459015,524383,524319,589983,459031,524415,524351,590047,459023,524399,524335,590015,524303,524431,524367,590079]),9],Xt=[new Int32Array([327680,327696,327688,327704,327684,327700,327692,327708,327682,327698,327690,327706,327686,327702,327694,0,327681,327697,327689,327705,327685,327701,327693,327709,327683,327699,327691,327707,327687,327703,327695,0]),5];class Kt extends wt.DecodeStream{constructor($t,Lt){super(Lt),this.str=$t,this.dict=$t.dict;const jt=$t.getByte(),kt=$t.getByte();if(jt===-1||kt===-1)throw new _t.FormatError(`Invalid header in flate stream: ${jt}, ${kt}`);if((jt&15)!==8)throw new _t.FormatError(`Unknown compression method in flate stream: ${jt}, ${kt}`);if(((jt<<8)+kt)%31!==0)throw new _t.FormatError(`Bad FCHECK in flate stream: ${jt}, ${kt}`);if(kt&32)throw new _t.FormatError(`FDICT bit set in flate stream: ${jt}, ${kt}`);this.codeSize=0,this.codeBuf=0}getBits($t){const Lt=this.str;let jt=this.codeSize,kt=this.codeBuf,qt;for(;jt<$t;){if((qt=Lt.getByte())===-1)throw new _t.FormatError("Bad encoding in flate stream");kt|=qt<<jt,jt+=8}return qt=kt&(1<<$t)-1,this.codeBuf=kt>>$t,this.codeSize=jt-=$t,qt}getCode($t){const Lt=this.str,jt=$t[0],kt=$t[1];let qt=this.codeSize,Bt=this.codeBuf,Gt;for(;qt<kt&&(Gt=Lt.getByte())!==-1;)Bt|=Gt<<qt,qt+=8;const en=jt[Bt&(1<<kt)-1],dn=en>>16,Qt=en&65535;if(dn<1||qt<dn)throw new _t.FormatError("Bad encoding in flate stream");return this.codeBuf=Bt>>dn,this.codeSize=qt-dn,Qt}generateHuffmanTable($t){const Lt=$t.length;let jt=0,kt;for(kt=0;kt<Lt;++kt)$t[kt]>jt&&(jt=$t[kt]);const qt=1<<jt,Bt=new Int32Array(qt);for(let Gt=1,en=0,dn=2;Gt<=jt;++Gt,en<<=1,dn<<=1)for(let Qt=0;Qt<Lt;++Qt)if($t[Qt]===Gt){let gn=0,tn=en;for(kt=0;kt<Gt;++kt)gn=gn<<1|tn&1,tn>>=1;for(kt=gn;kt<qt;kt+=dn)Bt[kt]=Gt<<16|Qt;++en}return[Bt,jt]}readBlock(){let $t,Lt;const jt=this.str;let kt=this.getBits(3);if(kt&1&&(this.eof=!0),kt>>=1,kt===0){let dn;if((dn=jt.getByte())===-1)throw new _t.FormatError("Bad block header in flate stream");let Qt=dn;if((dn=jt.getByte())===-1)throw new _t.FormatError("Bad block header in flate stream");if(Qt|=dn<<8,(dn=jt.getByte())===-1)throw new _t.FormatError("Bad block header in flate stream");let gn=dn;if((dn=jt.getByte())===-1)throw new _t.FormatError("Bad block header in flate stream");if(gn|=dn<<8,gn!==(~Qt&65535)&&(Qt!==0||gn!==0))throw new _t.FormatError("Bad uncompressed block length in flate stream");this.codeBuf=0,this.codeSize=0;const tn=this.bufferLength,bn=tn+Qt;if($t=this.ensureBuffer(bn),this.bufferLength=bn,Qt===0)jt.peekByte()===-1&&(this.eof=!0);else{const Wt=jt.getBytes(Qt);$t.set(Wt,tn),Wt.length<Qt&&(this.eof=!0)}return}let qt,Bt;if(kt===1)qt=Pt,Bt=Xt;else if(kt===2){const dn=this.getBits(5)+257,Qt=this.getBits(5)+1,gn=this.getBits(4)+4,tn=new Uint8Array(Rt.length);let bn;for(bn=0;bn<gn;++bn)tn[Rt[bn]]=this.getBits(3);const Wt=this.generateHuffmanTable(tn);Lt=0,bn=0;const Yt=dn+Qt,un=new Uint8Array(Yt);let Ut,Ot,Ht;for(;bn<Yt;){const an=this.getCode(Wt);if(an===16)Ut=2,Ot=3,Ht=Lt;else if(an===17)Ut=3,Ot=3,Ht=Lt=0;else if(an===18)Ut=7,Ot=11,Ht=Lt=0;else{un[bn++]=Lt=an;continue}let zt=this.getBits(Ut)+Ot;for(;zt-- >0;)un[bn++]=Ht}qt=this.generateHuffmanTable(un.subarray(0,dn)),Bt=this.generateHuffmanTable(un.subarray(dn,Yt))}else throw new _t.FormatError("Unknown block type in flate stream");$t=this.buffer;let Gt=$t?$t.length:0,en=this.bufferLength;for(;;){let dn=this.getCode(qt);if(dn<256){en+1>=Gt&&($t=this.ensureBuffer(en+1),Gt=$t.length),$t[en++]=dn;continue}if(dn===256){this.bufferLength=en;return}dn-=257,dn=_e[dn];let Qt=dn>>16;Qt>0&&(Qt=this.getBits(Qt)),Lt=(dn&65535)+Qt,dn=this.getCode(Bt),dn=bt[dn],Qt=dn>>16,Qt>0&&(Qt=this.getBits(Qt));const gn=(dn&65535)+Qt;en+Lt>=Gt&&($t=this.ensureBuffer(en+Lt),Gt=$t.length);for(let tn=0;tn<Lt;++tn,++en)$t[en]=$t[en-gn]}}}Et.FlateStream=Kt},(Ct,Et,Ft)=>{Object.defineProperty(Et,"__esModule",{value:!0}),Et.Jbig2Stream=void 0;var wt=Ft(5),_t=Ft(18),Rt=Ft(4),_e=Ft(24),bt=Ft(2);class Pt extends _t.DecodeStream{constructor(Kt,Nt,$t){super(Nt),this.stream=Kt,this.dict=Kt.dict,this.maybeLength=Nt,this.params=$t}get bytes(){return(0,bt.shadow)(this,"bytes",this.stream.getBytes(this.maybeLength))}ensureBuffer(Kt){}readBlock(){if(this.eof)return;const Kt=new _e.Jbig2Image,Nt=[];if(this.params instanceof Rt.Dict){const jt=this.params.get("JBIG2Globals");if(jt instanceof wt.BaseStream){const kt=jt.getBytes();Nt.push({data:kt,start:0,end:kt.length})}}Nt.push({data:this.bytes,start:0,end:this.bytes.length});const $t=Kt.parseChunks(Nt),Lt=$t.length;for(let jt=0;jt<Lt;jt++)$t[jt]^=255;this.buffer=$t,this.bufferLength=Lt,this.eof=!0}}Et.Jbig2Stream=Pt},(Ct,Et,Ft)=>{Object.defineProperty(Et,"__esModule",{value:!0}),Et.Jbig2Image=void 0;var wt=Ft(2),_t=Ft(3),Rt=Ft(25),_e=Ft(21);class bt extends wt.BaseException{constructor(mn){super(`JBIG2 error: ${mn}`,"Jbig2Error")}}class Pt{getContexts(mn){return mn in this?this[mn]:this[mn]=new Int8Array(65536)}}class Xt{constructor(mn,fn,Jt){this.data=mn,this.start=fn,this.end=Jt}get decoder(){const mn=new Rt.ArithmeticDecoder(this.data,this.start,this.end);return(0,wt.shadow)(this,"decoder",mn)}get contextCache(){const mn=new Pt;return(0,wt.shadow)(this,"contextCache",mn)}}const Kt=2**31-1,Nt=-(2**31);function $t(Sn,mn,fn){const Jt=Sn.getContexts(mn);let ln=1;function pn(En){let An=0;for(let Tn=0;Tn<En;Tn++){const In=fn.readBit(Jt,ln);ln=ln<256?ln<<1|In:(ln<<1|In)&511|256,An=An<<1|In}return An>>>0}const wn=pn(1),Cn=pn(1)?pn(1)?pn(1)?pn(1)?pn(1)?pn(32)+4436:pn(12)+340:pn(8)+84:pn(6)+20:pn(4)+4:pn(2);let Fn;return wn===0?Fn=Cn:Cn>0&&(Fn=-Cn),Fn>=Nt&&Fn<=Kt?Fn:null}function Lt(Sn,mn,fn){const Jt=Sn.getContexts("IAID");let ln=1;for(let pn=0;pn<fn;pn++){const wn=mn.readBit(Jt,ln);ln=ln<<1|wn}return fn<31?ln&(1<<fn)-1:ln&2147483647}const jt=["SymbolDictionary",null,null,null,"IntermediateTextRegion",null,"ImmediateTextRegion","ImmediateLosslessTextRegion",null,null,null,null,null,null,null,null,"PatternDictionary",null,null,null,"IntermediateHalftoneRegion",null,"ImmediateHalftoneRegion","ImmediateLosslessHalftoneRegion",null,null,null,null,null,null,null,null,null,null,null,null,"IntermediateGenericRegion",null,"ImmediateGenericRegion","ImmediateLosslessGenericRegion","IntermediateGenericRefinementRegion",null,"ImmediateGenericRefinementRegion","ImmediateLosslessGenericRefinementRegion",null,null,null,null,"PageInformation","EndOfPage","EndOfStripe","EndOfFile","Profiles","Tables",null,null,null,null,null,null,null,null,"Extension"],kt=[[{x:-1,y:-2},{x:0,y:-2},{x:1,y:-2},{x:-2,y:-1},{x:-1,y:-1},{x:0,y:-1},{x:1,y:-1},{x:2,y:-1},{x:-4,y:0},{x:-3,y:0},{x:-2,y:0},{x:-1,y:0}],[{x:-1,y:-2},{x:0,y:-2},{x:1,y:-2},{x:2,y:-2},{x:-2,y:-1},{x:-1,y:-1},{x:0,y:-1},{x:1,y:-1},{x:2,y:-1},{x:-3,y:0},{x:-2,y:0},{x:-1,y:0}],[{x:-1,y:-2},{x:0,y:-2},{x:1,y:-2},{x:-2,y:-1},{x:-1,y:-1},{x:0,y:-1},{x:1,y:-1},{x:-2,y:0},{x:-1,y:0}],[{x:-3,y:-1},{x:-2,y:-1},{x:-1,y:-1},{x:0,y:-1},{x:1,y:-1},{x:-4,y:0},{x:-3,y:0},{x:-2,y:0},{x:-1,y:0}]],qt=[{coding:[{x:0,y:-1},{x:1,y:-1},{x:-1,y:0}],reference:[{x:0,y:-1},{x:1,y:-1},{x:-1,y:0},{x:0,y:0},{x:1,y:0},{x:-1,y:1},{x:0,y:1},{x:1,y:1}]},{coding:[{x:-1,y:-1},{x:0,y:-1},{x:1,y:-1},{x:-1,y:0}],reference:[{x:0,y:-1},{x:-1,y:0},{x:0,y:0},{x:1,y:0},{x:0,y:1},{x:1,y:1}]}],Bt=[39717,1941,229,405];function Gt(Sn,mn,fn){const Jt=fn.decoder,ln=fn.contextCache.getContexts("GB"),pn=[];let wn,Cn,Fn,En,An,Tn,In;const Rn=31735;for(Cn=0;Cn<mn;Cn++)for(An=pn[Cn]=new Uint8Array(Sn),Tn=Cn<1?An:pn[Cn-1],In=Cn<2?An:pn[Cn-2],wn=In[0]<<13|In[1]<<12|In[2]<<11|Tn[0]<<7|Tn[1]<<6|Tn[2]<<5|Tn[3]<<4,Fn=0;Fn<Sn;Fn++)An[Fn]=En=Jt.readBit(ln,wn),wn=(wn&Rn)<<1|(Fn+3<Sn?In[Fn+3]<<11:0)|(Fn+4<Sn?Tn[Fn+4]<<4:0)|En;return pn}function en(Sn,mn,fn,Jt,ln,pn,wn,Cn){if(Sn){const wr=new rn(Cn.data,Cn.start,Cn.end);return On(wr,mn,fn,!1)}if(Jt===0&&!pn&&!ln&&wn.length===4&&wn[0].x===3&&wn[0].y===-1&&wn[1].x===-3&&wn[1].y===-1&&wn[2].x===2&&wn[2].y===-2&&wn[3].x===-2&&wn[3].y===-2)return Gt(mn,fn,Cn);const Fn=kt[Jt].concat(wn);Fn.sort(function(wr,fr){return wr.y-fr.y||wr.x-fr.x});const En=Fn.length,An=new Int8Array(En),Tn=new Int8Array(En),In=[];let Rn=0,Dn=0,Ln=0,Un=0,tr,er;for(er=0;er<En;er++)An[er]=Fn[er].x,Tn[er]=Fn[er].y,Dn=Math.min(Dn,Fn[er].x),Ln=Math.max(Ln,Fn[er].x),Un=Math.min(Un,Fn[er].y),er<En-1&&Fn[er].y===Fn[er+1].y&&Fn[er].x===Fn[er+1].x-1?Rn|=1<<En-1-er:In.push(er);const Qn=In.length,Yn=new Int8Array(Qn),Xn=new Int8Array(Qn),nr=new Uint16Array(Qn);for(tr=0;tr<Qn;tr++)er=In[tr],Yn[tr]=Fn[er].x,Xn[tr]=Fn[er].y,nr[tr]=1<<En-1-er;const lr=-Dn,dr=-Un,Bn=mn-Ln,Hn=Bt[Jt];let Wn=new Uint8Array(mn);const cr=[],sr=Cn.decoder,xr=Cn.contextCache.getContexts("GB");let Jn=0,Vn,Zn,ur,hr=0,or,pr;for(let wr=0;wr<fn;wr++){if(ln){const fr=sr.readBit(xr,Hn);if(Jn^=fr,Jn){cr.push(Wn);continue}}for(Wn=new Uint8Array(Wn),cr.push(Wn),Vn=0;Vn<mn;Vn++){if(Vn>=lr&&Vn<Bn&&wr>=dr)for(hr=hr<<1&Rn,er=0;er<Qn;er++)Zn=wr+Xn[er],ur=Vn+Yn[er],or=cr[Zn][ur],or&&(or=nr[er],hr|=or);else for(hr=0,pr=En-1,er=0;er<En;er++,pr--)ur=Vn+An[er],ur>=0&&ur<mn&&(Zn=wr+Tn[er],Zn>=0&&(or=cr[Zn][ur],or&&(hr|=or<<pr)));const fr=sr.readBit(xr,hr);Wn[Vn]=fr}}return cr}function dn(Sn,mn,fn,Jt,ln,pn,wn,Cn,Fn){let En=qt[fn].coding;fn===0&&(En=En.concat([Cn[0]]));const An=En.length,Tn=new Int32Array(An),In=new Int32Array(An);let Rn;for(Rn=0;Rn<An;Rn++)Tn[Rn]=En[Rn].x,In[Rn]=En[Rn].y;let Dn=qt[fn].reference;fn===0&&(Dn=Dn.concat([Cn[1]]));const Ln=Dn.length,Un=new Int32Array(Ln),tr=new Int32Array(Ln);for(Rn=0;Rn<Ln;Rn++)Un[Rn]=Dn[Rn].x,tr[Rn]=Dn[Rn].y;const er=Jt[0].length,Qn=Jt.length,Yn=[],Xn=Fn.decoder,nr=Fn.contextCache.getContexts("GR");for(let lr=0;lr<mn;lr++){const dr=new Uint8Array(Sn);Yn.push(dr);for(let Bn=0;Bn<Sn;Bn++){let Hn,Wn,cr=0;for(Rn=0;Rn<An;Rn++)Hn=lr+In[Rn],Wn=Bn+Tn[Rn],Hn<0||Wn<0||Wn>=Sn?cr<<=1:cr=cr<<1|Yn[Hn][Wn];for(Rn=0;Rn<Ln;Rn++)Hn=lr+tr[Rn]-pn,Wn=Bn+Un[Rn]-ln,Hn<0||Hn>=Qn||Wn<0||Wn>=er?cr<<=1:cr=cr<<1|Jt[Hn][Wn];const sr=Xn.readBit(nr,cr);dr[Bn]=sr}}return Yn}function Qt(Sn,mn,fn,Jt,ln,pn,wn,Cn,Fn,En,An,Tn){if(Sn&&mn)throw new bt("symbol refinement with Huffman is not supported");const In=[];let Rn=0,Dn=(0,_t.log2)(fn.length+Jt);const Ln=An.decoder,Un=An.contextCache;let tr,er;for(Sn&&(tr=sn(1),er=[],Dn=Math.max(Dn,1));In.length<Jt;){const Bn=Sn?pn.tableDeltaHeight.decode(Tn):$t(Un,"IADH",Ln);Rn+=Bn;let Hn=0,Wn=0;const cr=Sn?er.length:0;for(;;){const sr=Sn?pn.tableDeltaWidth.decode(Tn):$t(Un,"IADW",Ln);if(sr===null)break;Hn+=sr,Wn+=Hn;let xr;if(mn){const Jn=$t(Un,"IAAI",Ln);if(Jn>1)xr=gn(Sn,mn,Hn,Rn,0,Jn,1,fn.concat(In),Dn,0,0,1,0,pn,Fn,En,An,0,Tn);else{const Vn=Lt(Un,Ln,Dn),Zn=$t(Un,"IARDX",Ln),ur=$t(Un,"IARDY",Ln),hr=Vn<fn.length?fn[Vn]:In[Vn-fn.length];xr=dn(Hn,Rn,Fn,hr,Zn,ur,!1,En,An)}In.push(xr)}else Sn?er.push(Hn):(xr=en(!1,Hn,Rn,wn,!1,null,Cn,An),In.push(xr))}if(Sn&&!mn){const sr=pn.tableBitmapSize.decode(Tn);Tn.byteAlign();let xr;if(sr===0)xr=Pn(Tn,Wn,Rn);else{const Vn=Tn.end,Zn=Tn.position+sr;Tn.end=Zn,xr=On(Tn,Wn,Rn,!1),Tn.end=Vn,Tn.position=Zn}const Jn=er.length;if(cr===Jn-1)In.push(xr);else{let Vn,Zn,ur=0,hr,or,pr;for(Vn=cr;Vn<Jn;Vn++){for(or=er[Vn],hr=ur+or,pr=[],Zn=0;Zn<Rn;Zn++)pr.push(xr[Zn].subarray(ur,hr));In.push(pr),ur=hr}}}}const Qn=[],Yn=[];let Xn=!1,nr,lr;const dr=fn.length+Jt;for(;Yn.length<dr;){let Bn=Sn?tr.decode(Tn):$t(Un,"IAEX",Ln);for(;Bn--;)Yn.push(Xn);Xn=!Xn}for(nr=0,lr=fn.length;nr<lr;nr++)Yn[nr]&&Qn.push(fn[nr]);for(let Bn=0;Bn<Jt;nr++,Bn++)Yn[nr]&&Qn.push(In[Bn]);return Qn}function gn(Sn,mn,fn,Jt,ln,pn,wn,Cn,Fn,En,An,Tn,In,Rn,Dn,Ln,Un,tr,er){if(Sn&&mn)throw new bt("refinement with Huffman is not supported");const Qn=[];let Yn,Xn;for(Yn=0;Yn<Jt;Yn++){if(Xn=new Uint8Array(fn),ln)for(let Hn=0;Hn<fn;Hn++)Xn[Hn]=ln;Qn.push(Xn)}const nr=Un.decoder,lr=Un.contextCache;let dr=Sn?-Rn.tableDeltaT.decode(er):-$t(lr,"IADT",nr),Bn=0;for(Yn=0;Yn<pn;){const Hn=Sn?Rn.tableDeltaT.decode(er):$t(lr,"IADT",nr);dr+=Hn;const Wn=Sn?Rn.tableFirstS.decode(er):$t(lr,"IAFS",nr);Bn+=Wn;let cr=Bn;do{let sr=0;wn>1&&(sr=Sn?er.readBits(tr):$t(lr,"IAIT",nr));const xr=wn*dr+sr,Jn=Sn?Rn.symbolIDTable.decode(er):Lt(lr,nr,Fn),Vn=mn&&(Sn?er.readBit():$t(lr,"IARI",nr));let Zn=Cn[Jn],ur=Zn[0].length,hr=Zn.length;if(Vn){const Pr=$t(lr,"IARDW",nr),$r=$t(lr,"IARDH",nr),Er=$t(lr,"IARDX",nr),_r=$t(lr,"IARDY",nr);ur+=Pr,hr+=$r,Zn=dn(ur,hr,Dn,Zn,(Pr>>1)+Er,($r>>1)+_r,!1,Ln,Un)}const or=xr-(Tn&1?0:hr-1),pr=cr-(Tn&2?ur-1:0);let wr,fr,Ar;if(En){for(wr=0;wr<hr;wr++){if(Xn=Qn[pr+wr],!Xn)continue;Ar=Zn[wr];const Pr=Math.min(fn-or,ur);switch(In){case 0:for(fr=0;fr<Pr;fr++)Xn[or+fr]|=Ar[fr];break;case 2:for(fr=0;fr<Pr;fr++)Xn[or+fr]^=Ar[fr];break;default:throw new bt(`operator ${In} is not supported`)}}cr+=hr-1}else{for(fr=0;fr<hr;fr++)if(Xn=Qn[or+fr],!!Xn)switch(Ar=Zn[fr],In){case 0:for(wr=0;wr<ur;wr++)Xn[pr+wr]|=Ar[wr];break;case 2:for(wr=0;wr<ur;wr++)Xn[pr+wr]^=Ar[wr];break;default:throw new bt(`operator ${In} is not supported`)}cr+=ur-1}Yn++;const Lr=Sn?Rn.tableDeltaS.decode(er):$t(lr,"IADS",nr);if(Lr===null)break;cr+=Lr+An}while(!0)}return Qn}function tn(Sn,mn,fn,Jt,ln,pn){const wn=[];Sn||(wn.push({x:-mn,y:0}),ln===0&&wn.push({x:-3,y:-1},{x:2,y:-2},{x:-2,y:-2}));const Cn=(Jt+1)*mn,Fn=en(Sn,Cn,fn,ln,!1,null,wn,pn),En=[];for(let An=0;An<=Jt;An++){const Tn=[],In=mn*An,Rn=In+mn;for(let Dn=0;Dn<fn;Dn++)Tn.push(Fn[Dn].subarray(In,Rn));En.push(Tn)}return En}function bn(Sn,mn,fn,Jt,ln,pn,wn,Cn,Fn,En,An,Tn,In,Rn,Dn){if(wn)throw new bt("skip is not supported");if(Cn!==0)throw new bt(`operator "${Cn}" is not supported in halftone region`);const Un=[];let tr,er,Qn;for(tr=0;tr<ln;tr++){if(Qn=new Uint8Array(Jt),pn)for(er=0;er<Jt;er++)Qn[er]=pn;Un.push(Qn)}const Yn=mn.length,Xn=mn[0],nr=Xn[0].length,lr=Xn.length,dr=(0,_t.log2)(Yn),Bn=[];Sn||(Bn.push({x:fn<=1?3:2,y:-1}),fn===0&&Bn.push({x:-3,y:-1},{x:2,y:-2},{x:-2,y:-2}));const Hn=[];let Wn,cr;for(Sn&&(Wn=new rn(Dn.data,Dn.start,Dn.end)),tr=dr-1;tr>=0;tr--)Sn?cr=On(Wn,Fn,En,!0):cr=en(!1,Fn,En,fn,!1,null,Bn,Dn),Hn[tr]=cr;let sr,xr,Jn,Vn,Zn,ur,hr,or,pr;for(sr=0;sr<En;sr++)for(xr=0;xr<Fn;xr++){for(Jn=0,Vn=0,er=dr-1;er>=0;er--)Jn^=Hn[er][sr][xr],Vn|=Jn<<er;if(Zn=mn[Vn],ur=An+sr*Rn+xr*In>>8,hr=Tn+sr*In-xr*Rn>>8,ur>=0&&ur+nr<=Jt&&hr>=0&&hr+lr<=ln)for(tr=0;tr<lr;tr++)for(pr=Un[hr+tr],or=Zn[tr],er=0;er<nr;er++)pr[ur+er]|=or[er];else{let wr,fr;for(tr=0;tr<lr;tr++)if(fr=hr+tr,!(fr<0||fr>=ln))for(pr=Un[fr],or=Zn[tr],er=0;er<nr;er++)wr=ur+er,wr>=0&&wr<Jt&&(pr[wr]|=or[er])}}return Un}function Wt(Sn,mn){const fn={};fn.number=(0,_t.readUint32)(Sn,mn);const Jt=Sn[mn+4],ln=Jt&63;if(!jt[ln])throw new bt("invalid segment type: "+ln);fn.type=ln,fn.typeName=jt[ln],fn.deferredNonRetain=!!(Jt&128);const pn=!!(Jt&64),wn=Sn[mn+5];let Cn=wn>>5&7;const Fn=[wn&31];let En=mn+6;if(wn===7){Cn=(0,_t.readUint32)(Sn,En-1)&536870911,En+=3;let Dn=Cn+7>>3;for(Fn[0]=Sn[En++];--Dn>0;)Fn.push(Sn[En++])}else if(wn===5||wn===6)throw new bt("invalid referred-to flags");fn.retainBits=Fn;let An=4;fn.number<=256?An=1:fn.number<=65536&&(An=2);const Tn=[];let In,Rn;for(In=0;In<Cn;In++){let Dn;An===1?Dn=Sn[En]:An===2?Dn=(0,_t.readUint16)(Sn,En):Dn=(0,_t.readUint32)(Sn,En),Tn.push(Dn),En+=An}if(fn.referredTo=Tn,pn?(fn.pageAssociation=(0,_t.readUint32)(Sn,En),En+=4):fn.pageAssociation=Sn[En++],fn.length=(0,_t.readUint32)(Sn,En),En+=4,fn.length===4294967295)if(ln===38){const Dn=un(Sn,En),Un=!!(Sn[En+Ut]&1),tr=6,er=new Uint8Array(tr);for(Un||(er[0]=255,er[1]=172),er[2]=Dn.height>>>24&255,er[3]=Dn.height>>16&255,er[4]=Dn.height>>8&255,er[5]=Dn.height&255,In=En,Rn=Sn.length;In<Rn;In++){let Qn=0;for(;Qn<tr&&er[Qn]===Sn[In+Qn];)Qn++;if(Qn===tr){fn.length=In+tr;break}}if(fn.length===4294967295)throw new bt("segment end was not found")}else throw new bt("invalid unknown segment length");return fn.headerEnd=En,fn}function Yt(Sn,mn,fn,Jt){const ln=[];let pn=fn;for(;pn<Jt;){const wn=Wt(mn,pn);pn=wn.headerEnd;const Cn={header:wn,data:mn};if(Sn.randomAccess||(Cn.start=pn,pn+=wn.length,Cn.end=pn),ln.push(Cn),wn.type===51)break}if(Sn.randomAccess)for(let wn=0,Cn=ln.length;wn<Cn;wn++)ln[wn].start=pn,pn+=ln[wn].header.length,ln[wn].end=pn;return ln}function un(Sn,mn){return{width:(0,_t.readUint32)(Sn,mn),height:(0,_t.readUint32)(Sn,mn+4),x:(0,_t.readUint32)(Sn,mn+8),y:(0,_t.readUint32)(Sn,mn+12),combinationOperator:Sn[mn+16]&7}}const Ut=17;function Ot(Sn,mn){const fn=Sn.header,Jt=Sn.data,ln=Sn.end;let pn=Sn.start,wn,Cn,Fn,En;switch(fn.type){case 0:const Tn={},In=(0,_t.readUint16)(Jt,pn);if(Tn.huffman=!!(In&1),Tn.refinement=!!(In&2),Tn.huffmanDHSelector=In>>2&3,Tn.huffmanDWSelector=In>>4&3,Tn.bitmapSizeSelector=In>>6&1,Tn.aggregationInstancesSelector=In>>7&1,Tn.bitmapCodingContextUsed=!!(In&256),Tn.bitmapCodingContextRetained=!!(In&512),Tn.template=In>>10&3,Tn.refinementTemplate=In>>12&1,pn+=2,!Tn.huffman){for(En=Tn.template===0?4:1,Cn=[],Fn=0;Fn<En;Fn++)Cn.push({x:(0,_t.readInt8)(Jt,pn),y:(0,_t.readInt8)(Jt,pn+1)}),pn+=2;Tn.at=Cn}if(Tn.refinement&&!Tn.refinementTemplate){for(Cn=[],Fn=0;Fn<2;Fn++)Cn.push({x:(0,_t.readInt8)(Jt,pn),y:(0,_t.readInt8)(Jt,pn+1)}),pn+=2;Tn.refinementAt=Cn}Tn.numberOfExportedSymbols=(0,_t.readUint32)(Jt,pn),pn+=4,Tn.numberOfNewSymbols=(0,_t.readUint32)(Jt,pn),pn+=4,wn=[Tn,fn.number,fn.referredTo,Jt,pn,ln];break;case 6:case 7:const Rn={};Rn.info=un(Jt,pn),pn+=Ut;const Dn=(0,_t.readUint16)(Jt,pn);if(pn+=2,Rn.huffman=!!(Dn&1),Rn.refinement=!!(Dn&2),Rn.logStripSize=Dn>>2&3,Rn.stripSize=1<<Rn.logStripSize,Rn.referenceCorner=Dn>>4&3,Rn.transposed=!!(Dn&64),Rn.combinationOperator=Dn>>7&3,Rn.defaultPixelValue=Dn>>9&1,Rn.dsOffset=Dn<<17>>27,Rn.refinementTemplate=Dn>>15&1,Rn.huffman){const lr=(0,_t.readUint16)(Jt,pn);pn+=2,Rn.huffmanFS=lr&3,Rn.huffmanDS=lr>>2&3,Rn.huffmanDT=lr>>4&3,Rn.huffmanRefinementDW=lr>>6&3,Rn.huffmanRefinementDH=lr>>8&3,Rn.huffmanRefinementDX=lr>>10&3,Rn.huffmanRefinementDY=lr>>12&3,Rn.huffmanRefinementSizeSelector=!!(lr&16384)}if(Rn.refinement&&!Rn.refinementTemplate){for(Cn=[],Fn=0;Fn<2;Fn++)Cn.push({x:(0,_t.readInt8)(Jt,pn),y:(0,_t.readInt8)(Jt,pn+1)}),pn+=2;Rn.refinementAt=Cn}Rn.numberOfSymbolInstances=(0,_t.readUint32)(Jt,pn),pn+=4,wn=[Rn,fn.referredTo,Jt,pn,ln];break;case 16:const Ln={},Un=Jt[pn++];Ln.mmr=!!(Un&1),Ln.template=Un>>1&3,Ln.patternWidth=Jt[pn++],Ln.patternHeight=Jt[pn++],Ln.maxPatternIndex=(0,_t.readUint32)(Jt,pn),pn+=4,wn=[Ln,fn.number,Jt,pn,ln];break;case 22:case 23:const tr={};tr.info=un(Jt,pn),pn+=Ut;const er=Jt[pn++];tr.mmr=!!(er&1),tr.template=er>>1&3,tr.enableSkip=!!(er&8),tr.combinationOperator=er>>4&7,tr.defaultPixelValue=er>>7&1,tr.gridWidth=(0,_t.readUint32)(Jt,pn),pn+=4,tr.gridHeight=(0,_t.readUint32)(Jt,pn),pn+=4,tr.gridOffsetX=(0,_t.readUint32)(Jt,pn)&4294967295,pn+=4,tr.gridOffsetY=(0,_t.readUint32)(Jt,pn)&4294967295,pn+=4,tr.gridVectorX=(0,_t.readUint16)(Jt,pn),pn+=2,tr.gridVectorY=(0,_t.readUint16)(Jt,pn),pn+=2,wn=[tr,fn.referredTo,Jt,pn,ln];break;case 38:case 39:const Qn={};Qn.info=un(Jt,pn),pn+=Ut;const Yn=Jt[pn++];if(Qn.mmr=!!(Yn&1),Qn.template=Yn>>1&3,Qn.prediction=!!(Yn&8),!Qn.mmr){for(En=Qn.template===0?4:1,Cn=[],Fn=0;Fn<En;Fn++)Cn.push({x:(0,_t.readInt8)(Jt,pn),y:(0,_t.readInt8)(Jt,pn+1)}),pn+=2;Qn.at=Cn}wn=[Qn,Jt,pn,ln];break;case 48:const Xn={width:(0,_t.readUint32)(Jt,pn),height:(0,_t.readUint32)(Jt,pn+4),resolutionX:(0,_t.readUint32)(Jt,pn+8),resolutionY:(0,_t.readUint32)(Jt,pn+12)};Xn.height===4294967295&&delete Xn.height;const nr=Jt[pn+16];(0,_t.readUint16)(Jt,pn+17),Xn.lossless=!!(nr&1),Xn.refinement=!!(nr&2),Xn.defaultPixelValue=nr>>2&1,Xn.combinationOperator=nr>>3&3,Xn.requiresBuffer=!!(nr&32),Xn.combinationOperatorOverride=!!(nr&64),wn=[Xn];break;case 49:break;case 50:break;case 51:break;case 53:wn=[fn.number,Jt,pn,ln];break;case 62:break;default:throw new bt(`segment type ${fn.typeName}(${fn.type}) is not implemented`)}const An="on"+fn.typeName;An in mn&&mn[An].apply(mn,wn)}function Ht(Sn,mn){for(let fn=0,Jt=Sn.length;fn<Jt;fn++)Ot(Sn[fn],mn)}function an(Sn){const mn=new zt;for(let fn=0,Jt=Sn.length;fn<Jt;fn++){const ln=Sn[fn],pn=Yt({},ln.data,ln.start,ln.end);Ht(pn,mn)}return mn.buffer}class zt{onPageInformation(mn){this.currentPageInfo=mn;const fn=mn.width+7>>3,Jt=new Uint8ClampedArray(fn*mn.height);mn.defaultPixelValue&&Jt.fill(255),this.buffer=Jt}drawBitmap(mn,fn){const Jt=this.currentPageInfo,ln=mn.width,pn=mn.height,wn=Jt.width+7>>3,Cn=Jt.combinationOperatorOverride?mn.combinationOperator:Jt.combinationOperator,Fn=this.buffer,En=128>>(mn.x&7);let An=mn.y*wn+(mn.x>>3),Tn,In,Rn,Dn;switch(Cn){case 0:for(Tn=0;Tn<pn;Tn++){for(Rn=En,Dn=An,In=0;In<ln;In++)fn[Tn][In]&&(Fn[Dn]|=Rn),Rn>>=1,Rn||(Rn=128,Dn++);An+=wn}break;case 2:for(Tn=0;Tn<pn;Tn++){for(Rn=En,Dn=An,In=0;In<ln;In++)fn[Tn][In]&&(Fn[Dn]^=Rn),Rn>>=1,Rn||(Rn=128,Dn++);An+=wn}break;default:throw new bt(`operator ${Cn} is not supported`)}}onImmediateGenericRegion(mn,fn,Jt,ln){const pn=mn.info,wn=new Xt(fn,Jt,ln),Cn=en(mn.mmr,pn.width,pn.height,mn.template,mn.prediction,null,mn.at,wn);this.drawBitmap(pn,Cn)}onImmediateLosslessGenericRegion(){this.onImmediateGenericRegion(...arguments)}onSymbolDictionary(mn,fn,Jt,ln,pn,wn){let Cn,Fn;mn.huffman&&(Cn=kn(mn,Jt,this.customTables),Fn=new rn(ln,pn,wn));let En=this.symbols;En||(this.symbols=En={});const An=[];for(const In of Jt){const Rn=En[In];Rn&&An.push(...Rn)}const Tn=new Xt(ln,pn,wn);En[fn]=Qt(mn.huffman,mn.refinement,An,mn.numberOfNewSymbols,mn.numberOfExportedSymbols,Cn,mn.template,mn.at,mn.refinementTemplate,mn.refinementAt,Tn,Fn)}onImmediateTextRegion(mn,fn,Jt,ln,pn){const wn=mn.info;let Cn,Fn;const En=this.symbols,An=[];for(const Dn of fn){const Ln=En[Dn];Ln&&An.push(...Ln)}const Tn=(0,_t.log2)(An.length);mn.huffman&&(Fn=new rn(Jt,ln,pn),Cn=vn(mn,fn,this.customTables,An.length,Fn));const In=new Xt(Jt,ln,pn),Rn=gn(mn.huffman,mn.refinement,wn.width,wn.height,mn.defaultPixelValue,mn.numberOfSymbolInstances,mn.stripSize,An,Tn,mn.transposed,mn.dsOffset,mn.referenceCorner,mn.combinationOperator,Cn,mn.refinementTemplate,mn.refinementAt,In,mn.logStripSize,Fn);this.drawBitmap(wn,Rn)}onImmediateLosslessTextRegion(){this.onImmediateTextRegion(...arguments)}onPatternDictionary(mn,fn,Jt,ln,pn){let wn=this.patterns;wn||(this.patterns=wn={});const Cn=new Xt(Jt,ln,pn);wn[fn]=tn(mn.mmr,mn.patternWidth,mn.patternHeight,mn.maxPatternIndex,mn.template,Cn)}onImmediateHalftoneRegion(mn,fn,Jt,ln,pn){const wn=this.patterns[fn[0]],Cn=mn.info,Fn=new Xt(Jt,ln,pn),En=bn(mn.mmr,wn,mn.template,Cn.width,Cn.height,mn.defaultPixelValue,mn.enableSkip,mn.combinationOperator,mn.gridWidth,mn.gridHeight,mn.gridOffsetX,mn.gridOffsetY,mn.gridVectorX,mn.gridVectorY,Fn);this.drawBitmap(Cn,En)}onImmediateLosslessHalftoneRegion(){this.onImmediateHalftoneRegion(...arguments)}onTables(mn,fn,Jt,ln){let pn=this.customTables;pn||(this.customTables=pn={}),pn[mn]=on(fn,Jt,ln)}}class Vt{constructor(mn){mn.length===2?(this.isOOB=!0,this.rangeLow=0,this.prefixLength=mn[0],this.rangeLength=0,this.prefixCode=mn[1],this.isLowerRange=!1):(this.isOOB=!1,this.rangeLow=mn[0],this.prefixLength=mn[1],this.rangeLength=mn[2],this.prefixCode=mn[3],this.isLowerRange=mn[4]==="lower")}}class nn{constructor(mn){this.children=[],mn?(this.isLeaf=!0,this.rangeLength=mn.rangeLength,this.rangeLow=mn.rangeLow,this.isLowerRange=mn.isLowerRange,this.isOOB=mn.isOOB):this.isLeaf=!1}buildTree(mn,fn){const Jt=mn.prefixCode>>fn&1;if(fn<=0)this.children[Jt]=new nn(mn);else{let ln=this.children[Jt];ln||(this.children[Jt]=ln=new nn(null)),ln.buildTree(mn,fn-1)}}decodeNode(mn){if(this.isLeaf){if(this.isOOB)return null;const Jt=mn.readBits(this.rangeLength);return this.rangeLow+(this.isLowerRange?-Jt:Jt)}const fn=this.children[mn.readBit()];if(!fn)throw new bt("invalid Huffman data");return fn.decodeNode(mn)}}class hn{constructor(mn,fn){fn||this.assignPrefixCodes(mn),this.rootNode=new nn(null);for(let Jt=0,ln=mn.length;Jt<ln;Jt++){const pn=mn[Jt];pn.prefixLength>0&&this.rootNode.buildTree(pn,pn.prefixLength-1)}}decode(mn){return this.rootNode.decodeNode(mn)}assignPrefixCodes(mn){const fn=mn.length;let Jt=0;for(let An=0;An<fn;An++)Jt=Math.max(Jt,mn[An].prefixLength);const ln=new Uint32Array(Jt+1);for(let An=0;An<fn;An++)ln[mn[An].prefixLength]++;let pn=1,wn=0,Cn,Fn,En;for(ln[0]=0;pn<=Jt;){for(wn=wn+ln[pn-1]<<1,Cn=wn,Fn=0;Fn<fn;)En=mn[Fn],En.prefixLength===pn&&(En.prefixCode=Cn,Cn++),Fn++;pn++}}}function on(Sn,mn,fn){const Jt=Sn[mn],ln=(0,_t.readUint32)(Sn,mn+1)&4294967295,pn=(0,_t.readUint32)(Sn,mn+5)&4294967295,wn=new rn(Sn,mn+9,fn),Cn=(Jt>>1&7)+1,Fn=(Jt>>4&7)+1,En=[];let An,Tn,In=ln;do An=wn.readBits(Cn),Tn=wn.readBits(Fn),En.push(new Vt([In,An,Tn,0])),In+=1<<Tn;while(In<pn);return An=wn.readBits(Cn),En.push(new Vt([ln-1,An,32,0,"lower"])),An=wn.readBits(Cn),En.push(new Vt([pn,An,32,0])),Jt&1&&(An=wn.readBits(Cn),En.push(new Vt([An,0]))),new hn(En,!1)}const cn={};function sn(Sn){let mn=cn[Sn];if(mn)return mn;let fn;switch(Sn){case 1:fn=[[0,1,4,0],[16,2,8,2],[272,3,16,6],[65808,3,32,7]];break;case 2:fn=[[0,1,0,0],[1,2,0,2],[2,3,0,6],[3,4,3,14],[11,5,6,30],[75,6,32,62],[6,63]];break;case 3:fn=[[-256,8,8,254],[0,1,0,0],[1,2,0,2],[2,3,0,6],[3,4,3,14],[11,5,6,30],[-257,8,32,255,"lower"],[75,7,32,126],[6,62]];break;case 4:fn=[[1,1,0,0],[2,2,0,2],[3,3,0,6],[4,4,3,14],[12,5,6,30],[76,5,32,31]];break;case 5:fn=[[-255,7,8,126],[1,1,0,0],[2,2,0,2],[3,3,0,6],[4,4,3,14],[12,5,6,30],[-256,7,32,127,"lower"],[76,6,32,62]];break;case 6:fn=[[-2048,5,10,28],[-1024,4,9,8],[-512,4,8,9],[-256,4,7,10],[-128,5,6,29],[-64,5,5,30],[-32,4,5,11],[0,2,7,0],[128,3,7,2],[256,3,8,3],[512,4,9,12],[1024,4,10,13],[-2049,6,32,62,"lower"],[2048,6,32,63]];break;case 7:fn=[[-1024,4,9,8],[-512,3,8,0],[-256,4,7,9],[-128,5,6,26],[-64,5,5,27],[-32,4,5,10],[0,4,5,11],[32,5,5,28],[64,5,6,29],[128,4,7,12],[256,3,8,1],[512,3,9,2],[1024,3,10,3],[-1025,5,32,30,"lower"],[2048,5,32,31]];break;case 8:fn=[[-15,8,3,252],[-7,9,1,508],[-5,8,1,253],[-3,9,0,509],[-2,7,0,124],[-1,4,0,10],[0,2,1,0],[2,5,0,26],[3,6,0,58],[4,3,4,4],[20,6,1,59],[22,4,4,11],[38,4,5,12],[70,5,6,27],[134,5,7,28],[262,6,7,60],[390,7,8,125],[646,6,10,61],[-16,9,32,510,"lower"],[1670,9,32,511],[2,1]];break;case 9:fn=[[-31,8,4,252],[-15,9,2,508],[-11,8,2,253],[-7,9,1,509],[-5,7,1,124],[-3,4,1,10],[-1,3,1,2],[1,3,1,3],[3,5,1,26],[5,6,1,58],[7,3,5,4],[39,6,2,59],[43,4,5,11],[75,4,6,12],[139,5,7,27],[267,5,8,28],[523,6,8,60],[779,7,9,125],[1291,6,11,61],[-32,9,32,510,"lower"],[3339,9,32,511],[2,0]];break;case 10:fn=[[-21,7,4,122],[-5,8,0,252],[-4,7,0,123],[-3,5,0,24],[-2,2,2,0],[2,5,0,25],[3,6,0,54],[4,7,0,124],[5,8,0,253],[6,2,6,1],[70,5,5,26],[102,6,5,55],[134,6,6,56],[198,6,7,57],[326,6,8,58],[582,6,9,59],[1094,6,10,60],[2118,7,11,125],[-22,8,32,254,"lower"],[4166,8,32,255],[2,2]];break;case 11:fn=[[1,1,0,0],[2,2,1,2],[4,4,0,12],[5,4,1,13],[7,5,1,28],[9,5,2,29],[13,6,2,60],[17,7,2,122],[21,7,3,123],[29,7,4,124],[45,7,5,125],[77,7,6,126],[141,7,32,127]];break;case 12:fn=[[1,1,0,0],[2,2,0,2],[3,3,1,6],[5,5,0,28],[6,5,1,29],[8,6,1,60],[10,7,0,122],[11,7,1,123],[13,7,2,124],[17,7,3,125],[25,7,4,126],[41,8,5,254],[73,8,32,255]];break;case 13:fn=[[1,1,0,0],[2,3,0,4],[3,4,0,12],[4,5,0,28],[5,4,1,13],[7,3,3,5],[15,6,1,58],[17,6,2,59],[21,6,3,60],[29,6,4,61],[45,6,5,62],[77,7,6,126],[141,7,32,127]];break;case 14:fn=[[-2,3,0,4],[-1,3,0,5],[0,1,0,0],[1,3,0,6],[2,3,0,7]];break;case 15:fn=[[-24,7,4,124],[-8,6,2,60],[-4,5,1,28],[-2,4,0,12],[-1,3,0,4],[0,1,0,0],[1,3,0,5],[2,4,0,13],[3,5,1,29],[5,6,2,61],[9,7,4,125],[-25,7,32,126,"lower"],[25,7,32,127]];break;default:throw new bt(`standard table B.${Sn} does not exist`)}for(let Jt=0,ln=fn.length;Jt<ln;Jt++)fn[Jt]=new Vt(fn[Jt]);return mn=new hn(fn,!0),cn[Sn]=mn,mn}class rn{constructor(mn,fn,Jt){this.data=mn,this.start=fn,this.end=Jt,this.position=fn,this.shift=-1,this.currentByte=0}readBit(){if(this.shift<0){if(this.position>=this.end)throw new bt("end of data while reading bit");this.currentByte=this.data[this.position++],this.shift=7}const mn=this.currentByte>>this.shift&1;return this.shift--,mn}readBits(mn){let fn=0,Jt;for(Jt=mn-1;Jt>=0;Jt--)fn|=this.readBit()<<Jt;return fn}byteAlign(){this.shift=-1}next(){return this.position>=this.end?-1:this.data[this.position++]}}function xn(Sn,mn,fn){let Jt=0;for(let ln=0,pn=mn.length;ln<pn;ln++){const wn=fn[mn[ln]];if(wn){if(Sn===Jt)return wn;Jt++}}throw new bt("can't find custom Huffman table")}function vn(Sn,mn,fn,Jt,ln){const pn=[];for(let In=0;In<=34;In++){const Rn=ln.readBits(4);pn.push(new Vt([In,Rn,0,0]))}const wn=new hn(pn,!1);pn.length=0;for(let In=0;In<Jt;){const Rn=wn.decode(ln);if(Rn>=32){let Dn,Ln,Un;switch(Rn){case 32:if(In===0)throw new bt("no previous value in symbol ID table");Ln=ln.readBits(2)+3,Dn=pn[In-1].prefixLength;break;case 33:Ln=ln.readBits(3)+3,Dn=0;break;case 34:Ln=ln.readBits(7)+11,Dn=0;break;default:throw new bt("invalid code length in symbol ID table")}for(Un=0;Un<Ln;Un++)pn.push(new Vt([In,Dn,0,0])),In++}else pn.push(new Vt([In,Rn,0,0])),In++}ln.byteAlign();const Cn=new hn(pn,!1);let Fn=0,En,An,Tn;switch(Sn.huffmanFS){case 0:case 1:En=sn(Sn.huffmanFS+6);break;case 3:En=xn(Fn,mn,fn),Fn++;break;default:throw new bt("invalid Huffman FS selector")}switch(Sn.huffmanDS){case 0:case 1:case 2:An=sn(Sn.huffmanDS+8);break;case 3:An=xn(Fn,mn,fn),Fn++;break;default:throw new bt("invalid Huffman DS selector")}switch(Sn.huffmanDT){case 0:case 1:case 2:Tn=sn(Sn.huffmanDT+11);break;case 3:Tn=xn(Fn,mn,fn),Fn++;break;default:throw new bt("invalid Huffman DT selector")}if(Sn.refinement)throw new bt("refinement with Huffman is not supported");return{symbolIDTable:Cn,tableFirstS:En,tableDeltaS:An,tableDeltaT:Tn}}function kn(Sn,mn,fn){let Jt=0,ln,pn;switch(Sn.huffmanDHSelector){case 0:case 1:ln=sn(Sn.huffmanDHSelector+4);break;case 3:ln=xn(Jt,mn,fn),Jt++;break;default:throw new bt("invalid Huffman DH selector")}switch(Sn.huffmanDWSelector){case 0:case 1:pn=sn(Sn.huffmanDWSelector+2);break;case 3:pn=xn(Jt,mn,fn),Jt++;break;default:throw new bt("invalid Huffman DW selector")}let wn,Cn;return Sn.bitmapSizeSelector?(wn=xn(Jt,mn,fn),Jt++):wn=sn(1),Sn.aggregationInstancesSelector?Cn=xn(Jt,mn,fn):Cn=sn(1),{tableDeltaHeight:ln,tableDeltaWidth:pn,tableBitmapSize:wn,tableAggregateInstances:Cn}}function Pn(Sn,mn,fn){const Jt=[];for(let ln=0;ln<fn;ln++){const pn=new Uint8Array(mn);Jt.push(pn);for(let wn=0;wn<mn;wn++)pn[wn]=Sn.readBit();Sn.byteAlign()}return Jt}function On(Sn,mn,fn,Jt){const ln={K:-1,Columns:mn,Rows:fn,BlackIs1:!0,EndOfBlock:Jt},pn=new _e.CCITTFaxDecoder(Sn,ln),wn=[];let Cn,Fn=!1;for(let En=0;En<fn;En++){const An=new Uint8Array(mn);wn.push(An);let Tn=-1;for(let In=0;In<mn;In++)Tn<0&&(Cn=pn.readNextChar(),Cn===-1&&(Cn=0,Fn=!0),Tn=7),An[In]=Cn>>Tn&1,Tn--}if(Jt&&!Fn)for(let An=0;An<5&&pn.readNextChar()!==-1;An++);return wn}class _n{parseChunks(mn){return an(mn)}parse(mn){throw new Error("Not implemented: Jbig2Image.parse")}}Et.Jbig2Image=_n},(Ct,Et)=>{Object.defineProperty(Et,"__esModule",{value:!0}),Et.ArithmeticDecoder=void 0;const Ft=[{qe:22017,nmps:1,nlps:1,switchFlag:1},{qe:13313,nmps:2,nlps:6,switchFlag:0},{qe:6145,nmps:3,nlps:9,switchFlag:0},{qe:2753,nmps:4,nlps:12,switchFlag:0},{qe:1313,nmps:5,nlps:29,switchFlag:0},{qe:545,nmps:38,nlps:33,switchFlag:0},{qe:22017,nmps:7,nlps:6,switchFlag:1},{qe:21505,nmps:8,nlps:14,switchFlag:0},{qe:18433,nmps:9,nlps:14,switchFlag:0},{qe:14337,nmps:10,nlps:14,switchFlag:0},{qe:12289,nmps:11,nlps:17,switchFlag:0},{qe:9217,nmps:12,nlps:18,switchFlag:0},{qe:7169,nmps:13,nlps:20,switchFlag:0},{qe:5633,nmps:29,nlps:21,switchFlag:0},{qe:22017,nmps:15,nlps:14,switchFlag:1},{qe:21505,nmps:16,nlps:14,switchFlag:0},{qe:20737,nmps:17,nlps:15,switchFlag:0},{qe:18433,nmps:18,nlps:16,switchFlag:0},{qe:14337,nmps:19,nlps:17,switchFlag:0},{qe:13313,nmps:20,nlps:18,switchFlag:0},{qe:12289,nmps:21,nlps:19,switchFlag:0},{qe:10241,nmps:22,nlps:19,switchFlag:0},{qe:9217,nmps:23,nlps:20,switchFlag:0},{qe:8705,nmps:24,nlps:21,switchFlag:0},{qe:7169,nmps:25,nlps:22,switchFlag:0},{qe:6145,nmps:26,nlps:23,switchFlag:0},{qe:5633,nmps:27,nlps:24,switchFlag:0},{qe:5121,nmps:28,nlps:25,switchFlag:0},{qe:4609,nmps:29,nlps:26,switchFlag:0},{qe:4353,nmps:30,nlps:27,switchFlag:0},{qe:2753,nmps:31,nlps:28,switchFlag:0},{qe:2497,nmps:32,nlps:29,switchFlag:0},{qe:2209,nmps:33,nlps:30,switchFlag:0},{qe:1313,nmps:34,nlps:31,switchFlag:0},{qe:1089,nmps:35,nlps:32,switchFlag:0},{qe:673,nmps:36,nlps:33,switchFlag:0},{qe:545,nmps:37,nlps:34,switchFlag:0},{qe:321,nmps:38,nlps:35,switchFlag:0},{qe:273,nmps:39,nlps:36,switchFlag:0},{qe:133,nmps:40,nlps:37,switchFlag:0},{qe:73,nmps:41,nlps:38,switchFlag:0},{qe:37,nmps:42,nlps:39,switchFlag:0},{qe:21,nmps:43,nlps:40,switchFlag:0},{qe:9,nmps:44,nlps:41,switchFlag:0},{qe:5,nmps:45,nlps:42,switchFlag:0},{qe:1,nmps:45,nlps:43,switchFlag:0},{qe:22017,nmps:46,nlps:46,switchFlag:0}];class wt{constructor(Rt,_e,bt){this.data=Rt,this.bp=_e,this.dataEnd=bt,this.chigh=Rt[_e],this.clow=0,this.byteIn(),this.chigh=this.chigh<<7&65535|this.clow>>9&127,this.clow=this.clow<<7&65535,this.ct-=7,this.a=32768}byteIn(){const Rt=this.data;let _e=this.bp;Rt[_e]===255?Rt[_e+1]>143?(this.clow+=65280,this.ct=8):(_e++,this.clow+=Rt[_e]<<9,this.ct=7,this.bp=_e):(_e++,this.clow+=_e<this.dataEnd?Rt[_e]<<8:65280,this.ct=8,this.bp=_e),this.clow>65535&&(this.chigh+=this.clow>>16,this.clow&=65535)}readBit(Rt,_e){let bt=Rt[_e]>>1,Pt=Rt[_e]&1;const Xt=Ft[bt],Kt=Xt.qe;let Nt,$t=this.a-Kt;if(this.chigh<Kt)$t<Kt?($t=Kt,Nt=Pt,bt=Xt.nmps):($t=Kt,Nt=1^Pt,Xt.switchFlag===1&&(Pt=Nt),bt=Xt.nlps);else{if(this.chigh-=Kt,$t&32768)return this.a=$t,Pt;$t<Kt?(Nt=1^Pt,Xt.switchFlag===1&&(Pt=Nt),bt=Xt.nlps):(Nt=Pt,bt=Xt.nmps)}do this.ct===0&&this.byteIn(),$t<<=1,this.chigh=this.chigh<<1&65535|this.clow>>15&1,this.clow=this.clow<<1&65535,this.ct--;while(!($t&32768));return this.a=$t,Rt[_e]=bt<<1|Pt,Nt}}Et.ArithmeticDecoder=wt},(Ct,Et,Ft)=>{Object.defineProperty(Et,"__esModule",{value:!0}),Et.JpegStream=void 0;var wt=Ft(18),_t=Ft(4),Rt=Ft(27),_e=Ft(2);class bt extends wt.DecodeStream{constructor(Xt,Kt,Nt){let $t;for(;($t=Xt.getByte())!==-1;)if($t===255){Xt.skip(-1);break}super(Kt),this.stream=Xt,this.dict=Xt.dict,this.maybeLength=Kt,this.params=Nt}get bytes(){return(0,_e.shadow)(this,"bytes",this.stream.getBytes(this.maybeLength))}ensureBuffer(Xt){}readBlock(){if(this.eof)return;const Xt={decodeTransform:void 0,colorTransform:void 0},Kt=this.dict.getArray("D","Decode");if((this.forceRGBA||this.forceRGB)&&Array.isArray(Kt)){const Lt=this.dict.get("BPC","BitsPerComponent")||8,jt=Kt.length,kt=new Int32Array(jt);let qt=!1;const Bt=(1<<Lt)-1;for(let Gt=0;Gt<jt;Gt+=2)kt[Gt]=(Kt[Gt+1]-Kt[Gt])*256|0,kt[Gt+1]=Kt[Gt]*Bt|0,(kt[Gt]!==256||kt[Gt+1]!==0)&&(qt=!0);qt&&(Xt.decodeTransform=kt)}if(this.params instanceof _t.Dict){const Lt=this.params.get("ColorTransform");Number.isInteger(Lt)&&(Xt.colorTransform=Lt)}const Nt=new Rt.JpegImage(Xt);Nt.parse(this.bytes);const $t=Nt.getData({width:this.drawWidth,height:this.drawHeight,forceRGBA:this.forceRGBA,forceRGB:this.forceRGB,isSourcePDF:!0});this.buffer=$t,this.bufferLength=$t.length,this.eof=!0}}Et.JpegStream=bt},(Ct,Et,Ft)=>{Object.defineProperty(Et,"__esModule",{value:!0}),Et.JpegImage=void 0;var wt=Ft(2),_t=Ft(28),Rt=Ft(3);class _e extends wt.BaseException{constructor(Yt){super(`JPEG error: ${Yt}`,"JpegError")}}class bt extends wt.BaseException{constructor(Yt,un){super(Yt,"DNLMarkerError"),this.scanLines=un}}class Pt extends wt.BaseException{constructor(Yt){super(Yt,"EOIMarkerError")}}const Xt=new Uint8Array([0,1,8,16,9,2,3,10,17,24,32,25,18,11,4,5,12,19,26,33,40,48,41,34,27,20,13,6,7,14,21,28,35,42,49,56,57,50,43,36,29,22,15,23,30,37,44,51,58,59,52,45,38,31,39,46,53,60,61,54,47,55,62,63]),Kt=4017,Nt=799,$t=3406,Lt=2276,jt=1567,kt=3784,qt=5793,Bt=2896;function Gt(Wt,Yt){let un=0,Ut,Ot,Ht=16;for(;Ht>0&&!Wt[Ht-1];)Ht--;const an=[{children:[],index:0}];let zt=an[0],Vt;for(Ut=0;Ut<Ht;Ut++){for(Ot=0;Ot<Wt[Ut];Ot++){for(zt=an.pop(),zt.children[zt.index]=Yt[un];zt.index>0;)zt=an.pop();for(zt.index++,an.push(zt);an.length<=Ut;)an.push(Vt={children:[],index:0}),zt.children[zt.index]=Vt.children,zt=Vt;un++}Ut+1<Ht&&(an.push(Vt={children:[],index:0}),zt.children[zt.index]=Vt.children,zt=Vt)}return an[0].children}function en(Wt,Yt,un){return 64*((Wt.blocksPerLine+1)*Yt+un)}function dn(Wt,Yt,un,Ut,Ot,Ht,an,zt,Vt,nn=!1){const hn=un.mcusPerLine,on=un.progressive,cn=Yt;let sn=0,rn=0;function xn(){if(rn>0)return rn--,sn>>rn&1;if(sn=Wt[Yt++],sn===255){const Xn=Wt[Yt++];if(Xn){if(Xn===220&&nn){Yt+=2;const nr=(0,Rt.readUint16)(Wt,Yt);if(Yt+=2,nr>0&&nr!==un.scanLines)throw new bt("Found DNL marker (0xFFDC) while parsing scan data",nr)}else if(Xn===217){if(nn){const nr=wn*(un.precision===8?8:0);if(nr>0&&Math.round(un.scanLines/nr)>=5)throw new bt("Found EOI marker (0xFFD9) while parsing scan data, possibly caused by incorrect `scanLines` parameter",nr)}throw new Pt("Found EOI marker (0xFFD9) while parsing scan data")}throw new _e(`unexpected marker ${(sn<<8|Xn).toString(16)}`)}}return rn=7,sn>>>7}function vn(Xn){let nr=Xn;for(;;){switch(nr=nr[xn()],typeof nr){case"number":return nr;case"object":continue}throw new _e("invalid huffman sequence")}}function kn(Xn){let nr=0;for(;Xn>0;)nr=nr<<1|xn(),Xn--;return nr}function Pn(Xn){if(Xn===1)return xn()===1?1:-1;const nr=kn(Xn);return nr>=1<<Xn-1?nr:nr+(-1<<Xn)+1}function On(Xn,nr){const lr=vn(Xn.huffmanTableDC),dr=lr===0?0:Pn(lr);Xn.blockData[nr]=Xn.pred+=dr;let Bn=1;for(;Bn<64;){const Hn=vn(Xn.huffmanTableAC),Wn=Hn&15,cr=Hn>>4;if(Wn===0){if(cr<15)break;Bn+=16;continue}Bn+=cr;const sr=Xt[Bn];Xn.blockData[nr+sr]=Pn(Wn),Bn++}}function _n(Xn,nr){const lr=vn(Xn.huffmanTableDC),dr=lr===0?0:Pn(lr)<<Vt;Xn.blockData[nr]=Xn.pred+=dr}function Sn(Xn,nr){Xn.blockData[nr]|=xn()<<Vt}let mn=0;function fn(Xn,nr){if(mn>0){mn--;return}let lr=Ht;const dr=an;for(;lr<=dr;){const Bn=vn(Xn.huffmanTableAC),Hn=Bn&15,Wn=Bn>>4;if(Hn===0){if(Wn<15){mn=kn(Wn)+(1<<Wn)-1;break}lr+=16;continue}lr+=Wn;const cr=Xt[lr];Xn.blockData[nr+cr]=Pn(Hn)*(1<<Vt),lr++}}let Jt=0,ln;function pn(Xn,nr){let lr=Ht;const dr=an;let Bn=0,Hn,Wn;for(;lr<=dr;){const cr=nr+Xt[lr],sr=Xn.blockData[cr]<0?-1:1;switch(Jt){case 0:if(Wn=vn(Xn.huffmanTableAC),Hn=Wn&15,Bn=Wn>>4,Hn===0)Bn<15?(mn=kn(Bn)+(1<<Bn),Jt=4):(Bn=16,Jt=1);else{if(Hn!==1)throw new _e("invalid ACn encoding");ln=Pn(Hn),Jt=Bn?2:3}continue;case 1:case 2:Xn.blockData[cr]?Xn.blockData[cr]+=sr*(xn()<<Vt):(Bn--,Bn===0&&(Jt=Jt===2?3:0));break;case 3:Xn.blockData[cr]?Xn.blockData[cr]+=sr*(xn()<<Vt):(Xn.blockData[cr]=ln<<Vt,Jt=0);break;case 4:Xn.blockData[cr]&&(Xn.blockData[cr]+=sr*(xn()<<Vt));break}lr++}Jt===4&&(mn--,mn===0&&(Jt=0))}let wn=0;function Cn(Xn,nr,lr,dr,Bn){const Hn=lr/hn|0,Wn=lr%hn;wn=Hn*Xn.v+dr;const cr=Wn*Xn.h+Bn,sr=en(Xn,wn,cr);nr(Xn,sr)}function Fn(Xn,nr,lr){wn=lr/Xn.blocksPerLine|0;const dr=lr%Xn.blocksPerLine,Bn=en(Xn,wn,dr);nr(Xn,Bn)}const En=Ut.length;let An,Tn,In,Rn,Dn,Ln;on?Ht===0?Ln=zt===0?_n:Sn:Ln=zt===0?fn:pn:Ln=On;let Un=0,tr;const er=En===1?Ut[0].blocksPerLine*Ut[0].blocksPerColumn:hn*un.mcusPerColumn;let Qn,Yn;for(;Un<=er;){const Xn=Ot?Math.min(er-Un,Ot):er;if(Xn>0){for(Tn=0;Tn<En;Tn++)Ut[Tn].pred=0;if(mn=0,En===1)for(An=Ut[0],Dn=0;Dn<Xn;Dn++)Fn(An,Ln,Un),Un++;else for(Dn=0;Dn<Xn;Dn++){for(Tn=0;Tn<En;Tn++)for(An=Ut[Tn],Qn=An.h,Yn=An.v,In=0;In<Yn;In++)for(Rn=0;Rn<Qn;Rn++)Cn(An,Ln,Un,In,Rn);Un++}}if(rn=0,tr=tn(Wt,Yt),!tr)break;if(tr.invalid){const nr=Xn>0?"unexpected":"excessive";(0,wt.warn)(`decodeScan - ${nr} MCU data, current marker is: ${tr.invalid}`),Yt=tr.offset}if(tr.marker>=65488&&tr.marker<=65495)Yt+=2;else break}return Yt-cn}function Qt(Wt,Yt,un){const Ut=Wt.quantizationTable,Ot=Wt.blockData;let Ht,an,zt,Vt,nn,hn,on,cn,sn,rn,xn,vn,kn,Pn,On,_n,Sn;if(!Ut)throw new _e("missing required Quantization Table.");for(let mn=0;mn<64;mn+=8){if(sn=Ot[Yt+mn],rn=Ot[Yt+mn+1],xn=Ot[Yt+mn+2],vn=Ot[Yt+mn+3],kn=Ot[Yt+mn+4],Pn=Ot[Yt+mn+5],On=Ot[Yt+mn+6],_n=Ot[Yt+mn+7],sn*=Ut[mn],!(rn|xn|vn|kn|Pn|On|_n)){Sn=qt*sn+512>>10,un[mn]=Sn,un[mn+1]=Sn,un[mn+2]=Sn,un[mn+3]=Sn,un[mn+4]=Sn,un[mn+5]=Sn,un[mn+6]=Sn,un[mn+7]=Sn;continue}rn*=Ut[mn+1],xn*=Ut[mn+2],vn*=Ut[mn+3],kn*=Ut[mn+4],Pn*=Ut[mn+5],On*=Ut[mn+6],_n*=Ut[mn+7],Ht=qt*sn+128>>8,an=qt*kn+128>>8,zt=xn,Vt=On,nn=Bt*(rn-_n)+128>>8,cn=Bt*(rn+_n)+128>>8,hn=vn<<4,on=Pn<<4,Ht=Ht+an+1>>1,an=Ht-an,Sn=zt*kt+Vt*jt+128>>8,zt=zt*jt-Vt*kt+128>>8,Vt=Sn,nn=nn+on+1>>1,on=nn-on,cn=cn+hn+1>>1,hn=cn-hn,Ht=Ht+Vt+1>>1,Vt=Ht-Vt,an=an+zt+1>>1,zt=an-zt,Sn=nn*Lt+cn*$t+2048>>12,nn=nn*$t-cn*Lt+2048>>12,cn=Sn,Sn=hn*Nt+on*Kt+2048>>12,hn=hn*Kt-on*Nt+2048>>12,on=Sn,un[mn]=Ht+cn,un[mn+7]=Ht-cn,un[mn+1]=an+on,un[mn+6]=an-on,un[mn+2]=zt+hn,un[mn+5]=zt-hn,un[mn+3]=Vt+nn,un[mn+4]=Vt-nn}for(let mn=0;mn<8;++mn){if(sn=un[mn],rn=un[mn+8],xn=un[mn+16],vn=un[mn+24],kn=un[mn+32],Pn=un[mn+40],On=un[mn+48],_n=un[mn+56],!(rn|xn|vn|kn|Pn|On|_n)){Sn=qt*sn+8192>>14,Sn<-2040?Sn=0:Sn>=2024?Sn=255:Sn=Sn+2056>>4,Ot[Yt+mn]=Sn,Ot[Yt+mn+8]=Sn,Ot[Yt+mn+16]=Sn,Ot[Yt+mn+24]=Sn,Ot[Yt+mn+32]=Sn,Ot[Yt+mn+40]=Sn,Ot[Yt+mn+48]=Sn,Ot[Yt+mn+56]=Sn;continue}Ht=qt*sn+2048>>12,an=qt*kn+2048>>12,zt=xn,Vt=On,nn=Bt*(rn-_n)+2048>>12,cn=Bt*(rn+_n)+2048>>12,hn=vn,on=Pn,Ht=(Ht+an+1>>1)+4112,an=Ht-an,Sn=zt*kt+Vt*jt+2048>>12,zt=zt*jt-Vt*kt+2048>>12,Vt=Sn,nn=nn+on+1>>1,on=nn-on,cn=cn+hn+1>>1,hn=cn-hn,Ht=Ht+Vt+1>>1,Vt=Ht-Vt,an=an+zt+1>>1,zt=an-zt,Sn=nn*Lt+cn*$t+2048>>12,nn=nn*$t-cn*Lt+2048>>12,cn=Sn,Sn=hn*Nt+on*Kt+2048>>12,hn=hn*Kt-on*Nt+2048>>12,on=Sn,sn=Ht+cn,_n=Ht-cn,rn=an+on,On=an-on,xn=zt+hn,Pn=zt-hn,vn=Vt+nn,kn=Vt-nn,sn<16?sn=0:sn>=4080?sn=255:sn>>=4,rn<16?rn=0:rn>=4080?rn=255:rn>>=4,xn<16?xn=0:xn>=4080?xn=255:xn>>=4,vn<16?vn=0:vn>=4080?vn=255:vn>>=4,kn<16?kn=0:kn>=4080?kn=255:kn>>=4,Pn<16?Pn=0:Pn>=4080?Pn=255:Pn>>=4,On<16?On=0:On>=4080?On=255:On>>=4,_n<16?_n=0:_n>=4080?_n=255:_n>>=4,Ot[Yt+mn]=sn,Ot[Yt+mn+8]=rn,Ot[Yt+mn+16]=xn,Ot[Yt+mn+24]=vn,Ot[Yt+mn+32]=kn,Ot[Yt+mn+40]=Pn,Ot[Yt+mn+48]=On,Ot[Yt+mn+56]=_n}}function gn(Wt,Yt){const un=Yt.blocksPerLine,Ut=Yt.blocksPerColumn,Ot=new Int16Array(64);for(let Ht=0;Ht<Ut;Ht++)for(let an=0;an<un;an++){const zt=en(Yt,Ht,an);Qt(Yt,zt,Ot)}return Yt.blockData}function tn(Wt,Yt,un=Yt){const Ut=Wt.length-1;let Ot=un<Yt?un:Yt;if(Yt>=Ut)return null;const Ht=(0,Rt.readUint16)(Wt,Yt);if(Ht>=65472&&Ht<=65534)return{invalid:null,marker:Ht,offset:Yt};let an=(0,Rt.readUint16)(Wt,Ot);for(;!(an>=65472&&an<=65534);){if(++Ot>=Ut)return null;an=(0,Rt.readUint16)(Wt,Ot)}return{invalid:Ht.toString(16),marker:an,offset:Ot}}class bn{constructor({decodeTransform:Yt=null,colorTransform:un=-1}={}){this._decodeTransform=Yt,this._colorTransform=un}parse(Yt,{dnlScanLines:un=null}={}){function Ut(){const xn=(0,Rt.readUint16)(Yt,Ht);Ht+=2;let vn=Ht+xn-2;const kn=tn(Yt,vn,Ht);kn!=null&&kn.invalid&&((0,wt.warn)("readDataBlock - incorrect length, current marker is: "+kn.invalid),vn=kn.offset);const Pn=Yt.subarray(Ht,vn);return Ht+=Pn.length,Pn}function Ot(xn){const vn=Math.ceil(xn.samplesPerLine/8/xn.maxH),kn=Math.ceil(xn.scanLines/8/xn.maxV);for(const Pn of xn.components){const On=Math.ceil(Math.ceil(xn.samplesPerLine/8)*Pn.h/xn.maxH),_n=Math.ceil(Math.ceil(xn.scanLines/8)*Pn.v/xn.maxV),Sn=vn*Pn.h,fn=64*(kn*Pn.v)*(Sn+1);Pn.blockData=new Int16Array(fn),Pn.blocksPerLine=On,Pn.blocksPerColumn=_n}xn.mcusPerLine=vn,xn.mcusPerColumn=kn}let Ht=0,an=null,zt=null,Vt,nn,hn=0;const on=[],cn=[],sn=[];let rn=(0,Rt.readUint16)(Yt,Ht);if(Ht+=2,rn!==65496)throw new _e("SOI not found");rn=(0,Rt.readUint16)(Yt,Ht),Ht+=2;e:for(;rn!==65497;){let xn,vn,kn;switch(rn){case 65504:case 65505:case 65506:case 65507:case 65508:case 65509:case 65510:case 65511:case 65512:case 65513:case 65514:case 65515:case 65516:case 65517:case 65518:case 65519:case 65534:const Pn=Ut();rn===65504&&Pn[0]===74&&Pn[1]===70&&Pn[2]===73&&Pn[3]===70&&Pn[4]===0&&(an={version:{major:Pn[5],minor:Pn[6]},densityUnits:Pn[7],xDensity:Pn[8]<<8|Pn[9],yDensity:Pn[10]<<8|Pn[11],thumbWidth:Pn[12],thumbHeight:Pn[13],thumbData:Pn.subarray(14,14+3*Pn[12]*Pn[13])}),rn===65518&&Pn[0]===65&&Pn[1]===100&&Pn[2]===111&&Pn[3]===98&&Pn[4]===101&&(zt={version:Pn[5]<<8|Pn[6],flags0:Pn[7]<<8|Pn[8],flags1:Pn[9]<<8|Pn[10],transformCode:Pn[11]});break;case 65499:const On=(0,Rt.readUint16)(Yt,Ht);Ht+=2;const _n=On+Ht-2;let Sn;for(;Ht<_n;){const Rn=Yt[Ht++],Dn=new Uint16Array(64);if(Rn>>4)if(Rn>>4===1)for(vn=0;vn<64;vn++)Sn=Xt[vn],Dn[Sn]=(0,Rt.readUint16)(Yt,Ht),Ht+=2;else throw new _e("DQT - invalid table spec");else for(vn=0;vn<64;vn++)Sn=Xt[vn],Dn[Sn]=Yt[Ht++];on[Rn&15]=Dn}break;case 65472:case 65473:case 65474:if(Vt)throw new _e("Only single frame JPEGs supported");Ht+=2,Vt={},Vt.extended=rn===65473,Vt.progressive=rn===65474,Vt.precision=Yt[Ht++];const mn=(0,Rt.readUint16)(Yt,Ht);Ht+=2,Vt.scanLines=un||mn,Vt.samplesPerLine=(0,Rt.readUint16)(Yt,Ht),Ht+=2,Vt.components=[],Vt.componentIds={};const fn=Yt[Ht++];let Jt=0,ln=0;for(xn=0;xn<fn;xn++){const Rn=Yt[Ht],Dn=Yt[Ht+1]>>4,Ln=Yt[Ht+1]&15;Jt<Dn&&(Jt=Dn),ln<Ln&&(ln=Ln);const Un=Yt[Ht+2];kn=Vt.components.push({h:Dn,v:Ln,quantizationId:Un,quantizationTable:null}),Vt.componentIds[Rn]=kn-1,Ht+=3}Vt.maxH=Jt,Vt.maxV=ln,Ot(Vt);break;case 65476:const pn=(0,Rt.readUint16)(Yt,Ht);for(Ht+=2,xn=2;xn<pn;){const Rn=Yt[Ht++],Dn=new Uint8Array(16);let Ln=0;for(vn=0;vn<16;vn++,Ht++)Ln+=Dn[vn]=Yt[Ht];const Un=new Uint8Array(Ln);for(vn=0;vn<Ln;vn++,Ht++)Un[vn]=Yt[Ht];xn+=17+Ln,(Rn>>4?cn:sn)[Rn&15]=Gt(Dn,Un)}break;case 65501:Ht+=2,nn=(0,Rt.readUint16)(Yt,Ht),Ht+=2;break;case 65498:const wn=++hn===1&&!un;Ht+=2;const Cn=Yt[Ht++],Fn=[];for(xn=0;xn<Cn;xn++){const Rn=Yt[Ht++],Dn=Vt.componentIds[Rn],Ln=Vt.components[Dn];Ln.index=Rn;const Un=Yt[Ht++];Ln.huffmanTableDC=sn[Un>>4],Ln.huffmanTableAC=cn[Un&15],Fn.push(Ln)}const En=Yt[Ht++],An=Yt[Ht++],Tn=Yt[Ht++];try{const Rn=dn(Yt,Ht,Vt,Fn,nn,En,An,Tn>>4,Tn&15,wn);Ht+=Rn}catch(Rn){if(Rn instanceof bt)return(0,wt.warn)(`${Rn.message} -- attempting to re-parse the JPEG image.`),this.parse(Yt,{dnlScanLines:Rn.scanLines});if(Rn instanceof Pt){(0,wt.warn)(`${Rn.message} -- ignoring the rest of the image data.`);break e}throw Rn}break;case 65500:Ht+=4;break;case 65535:Yt[Ht]!==255&&Ht--;break;default:const In=tn(Yt,Ht-2,Ht-3);if(In!=null&&In.invalid){(0,wt.warn)("JpegImage.parse - unexpected data, current marker is: "+In.invalid),Ht=In.offset;break}if(!In||Ht>=Yt.length-1){(0,wt.warn)("JpegImage.parse - reached the end of the image data without finding an EOI marker (0xFFD9).");break e}throw new _e("JpegImage.parse - unknown marker: "+rn.toString(16))}rn=(0,Rt.readUint16)(Yt,Ht),Ht+=2}this.width=Vt.samplesPerLine,this.height=Vt.scanLines,this.jfif=an,this.adobe=zt,this.components=[];for(const xn of Vt.components){const vn=on[xn.quantizationId];vn&&(xn.quantizationTable=vn),this.components.push({index:xn.index,output:gn(Vt,xn),scaleX:xn.h/Vt.maxH,scaleY:xn.v/Vt.maxV,blocksPerLine:xn.blocksPerLine,blocksPerColumn:xn.blocksPerColumn})}this.numComponents=this.components.length}_getLinearizedBlockData(Yt,un,Ut=!1){const Ot=this.width/Yt,Ht=this.height/un;let an,zt,Vt,nn,hn,on,cn,sn,rn,xn,vn=0,kn;const Pn=this.components.length,On=Yt*un*Pn,_n=new Uint8ClampedArray(On),Sn=new Uint32Array(Yt),mn=4294967288;let fn;for(cn=0;cn<Pn;cn++){if(an=this.components[cn],zt=an.scaleX*Ot,Vt=an.scaleY*Ht,vn=cn,kn=an.output,nn=an.blocksPerLine+1<<3,zt!==fn){for(hn=0;hn<Yt;hn++)sn=0|hn*zt,Sn[hn]=(sn&mn)<<3|sn&7;fn=zt}for(on=0;on<un;on++)for(sn=0|on*Vt,xn=nn*(sn&mn)|(sn&7)<<3,hn=0;hn<Yt;hn++)_n[vn]=kn[xn+Sn[hn]],vn+=Pn}let Jt=this._decodeTransform;if(!Ut&&Pn===4&&!Jt&&(Jt=new Int32Array([-256,255,-256,255,-256,255,-256,255])),Jt)for(cn=0;cn<On;)for(sn=0,rn=0;sn<Pn;sn++,cn++,rn+=2)_n[cn]=(_n[cn]*Jt[rn]>>8)+Jt[rn+1];return _n}get _isColorConversionNeeded(){return this.adobe?!!this.adobe.transformCode:this.numComponents===3?this._colorTransform===0?!1:!(this.components[0].index===82&&this.components[1].index===71&&this.components[2].index===66):this._colorTransform===1}_convertYccToRgb(Yt){let un,Ut,Ot;for(let Ht=0,an=Yt.length;Ht<an;Ht+=3)un=Yt[Ht],Ut=Yt[Ht+1],Ot=Yt[Ht+2],Yt[Ht]=un-179.456+1.402*Ot,Yt[Ht+1]=un+135.459-.344*Ut-.714*Ot,Yt[Ht+2]=un-226.816+1.772*Ut;return Yt}_convertYccToRgba(Yt,un){for(let Ut=0,Ot=0,Ht=Yt.length;Ut<Ht;Ut+=3,Ot+=4){const an=Yt[Ut],zt=Yt[Ut+1],Vt=Yt[Ut+2];un[Ot]=an-179.456+1.402*Vt,un[Ot+1]=an+135.459-.344*zt-.714*Vt,un[Ot+2]=an-226.816+1.772*zt,un[Ot+3]=255}return un}_convertYcckToRgb(Yt){let un,Ut,Ot,Ht,an=0;for(let zt=0,Vt=Yt.length;zt<Vt;zt+=4)un=Yt[zt],Ut=Yt[zt+1],Ot=Yt[zt+2],Ht=Yt[zt+3],Yt[an++]=-122.67195406894+Ut*(-660635669420364e-19*Ut+.000437130475926232*Ot-54080610064599e-18*un+.00048449797120281*Ht-.154362151871126)+Ot*(-.000957964378445773*Ot+.000817076911346625*un-.00477271405408747*Ht+1.53380253221734)+un*(.000961250184130688*un-.00266257332283933*Ht+.48357088451265)+Ht*(-.000336197177618394*Ht+.484791561490776),Yt[an++]=107.268039397724+Ut*(219927104525741e-19*Ut-.000640992018297945*Ot+.000659397001245577*un+.000426105652938837*Ht-.176491792462875)+Ot*(-.000778269941513683*Ot+.00130872261408275*un+.000770482631801132*Ht-.151051492775562)+un*(.00126935368114843*un-.00265090189010898*Ht+.25802910206845)+Ht*(-.000318913117588328*Ht-.213742400323665),Yt[an++]=-20.810012546947+Ut*(-.000570115196973677*Ut-263409051004589e-19*Ot+.0020741088115012*un-.00288260236853442*Ht+.814272968359295)+Ot*(-153496057440975e-19*Ot-.000132689043961446*un+.000560833691242812*Ht-.195152027534049)+un*(.00174418132927582*un-.00255243321439347*Ht+.116935020465145)+Ht*(-.000343531996510555*Ht+.24165260232407);return Yt.subarray(0,an)}_convertYcckToRgba(Yt){for(let un=0,Ut=Yt.length;un<Ut;un+=4){const Ot=Yt[un],Ht=Yt[un+1],an=Yt[un+2],zt=Yt[un+3];Yt[un]=-122.67195406894+Ht*(-660635669420364e-19*Ht+.000437130475926232*an-54080610064599e-18*Ot+.00048449797120281*zt-.154362151871126)+an*(-.000957964378445773*an+.000817076911346625*Ot-.00477271405408747*zt+1.53380253221734)+Ot*(.000961250184130688*Ot-.00266257332283933*zt+.48357088451265)+zt*(-.000336197177618394*zt+.484791561490776),Yt[un+1]=107.268039397724+Ht*(219927104525741e-19*Ht-.000640992018297945*an+.000659397001245577*Ot+.000426105652938837*zt-.176491792462875)+an*(-.000778269941513683*an+.00130872261408275*Ot+.000770482631801132*zt-.151051492775562)+Ot*(.00126935368114843*Ot-.00265090189010898*zt+.25802910206845)+zt*(-.000318913117588328*zt-.213742400323665),Yt[un+2]=-20.810012546947+Ht*(-.000570115196973677*Ht-263409051004589e-19*an+.0020741088115012*Ot-.00288260236853442*zt+.814272968359295)+an*(-153496057440975e-19*an-.000132689043961446*Ot+.000560833691242812*zt-.195152027534049)+Ot*(.00174418132927582*Ot-.00255243321439347*zt+.116935020465145)+zt*(-.000343531996510555*zt+.24165260232407),Yt[un+3]=255}return Yt}_convertYcckToCmyk(Yt){let un,Ut,Ot;for(let Ht=0,an=Yt.length;Ht<an;Ht+=4)un=Yt[Ht],Ut=Yt[Ht+1],Ot=Yt[Ht+2],Yt[Ht]=434.456-un-1.402*Ot,Yt[Ht+1]=119.541-un+.344*Ut+.714*Ot,Yt[Ht+2]=481.816-un-1.772*Ut;return Yt}_convertCmykToRgb(Yt){let un,Ut,Ot,Ht,an=0;for(let zt=0,Vt=Yt.length;zt<Vt;zt+=4)un=Yt[zt],Ut=Yt[zt+1],Ot=Yt[zt+2],Ht=Yt[zt+3],Yt[an++]=255+un*(-6747147073602441e-20*un+.0008379262121013727*Ut+.0002894718188643294*Ot+.003264231057537806*Ht-1.1185611867203937)+Ut*(26374107616089405e-21*Ut-8626949158638572e-20*Ot-.0002748769067499491*Ht-.02155688794978967)+Ot*(-3878099212869363e-20*Ot-.0003267808279485286*Ht+.0686742238595345)-Ht*(.0003361971776183937*Ht+.7430659151342254),Yt[an++]=255+un*(.00013596372813588848*un+.000924537132573585*Ut+.00010567359618683593*Ot+.0004791864687436512*Ht-.3109689587515875)+Ut*(-.00023545346108370344*Ut+.0002702845253534714*Ot+.0020200308977307156*Ht-.7488052167015494)+Ot*(6834815998235662e-20*Ot+.00015168452363460973*Ht-.09751927774728933)-Ht*(.0003189131175883281*Ht+.7364883807733168),Yt[an++]=255+un*(13598650411385307e-21*un+.00012423956175490851*Ut+.0004751985097583589*Ot-36729317476630422e-22*Ht-.05562186980264034)+Ut*(.00016141380598724676*Ut+.0009692239130725186*Ot+.0007782692450036253*Ht-.44015232367526463)+Ot*(5068882914068769e-22*Ot+.0017778369011375071*Ht-.7591454649749609)-Ht*(.0003435319965105553*Ht+.7063770186160144);return Yt.subarray(0,an)}_convertCmykToRgba(Yt){for(let un=0,Ut=Yt.length;un<Ut;un+=4){const Ot=Yt[un],Ht=Yt[un+1],an=Yt[un+2],zt=Yt[un+3];Yt[un]=255+Ot*(-6747147073602441e-20*Ot+.0008379262121013727*Ht+.0002894718188643294*an+.003264231057537806*zt-1.1185611867203937)+Ht*(26374107616089405e-21*Ht-8626949158638572e-20*an-.0002748769067499491*zt-.02155688794978967)+an*(-3878099212869363e-20*an-.0003267808279485286*zt+.0686742238595345)-zt*(.0003361971776183937*zt+.7430659151342254),Yt[un+1]=255+Ot*(.00013596372813588848*Ot+.000924537132573585*Ht+.00010567359618683593*an+.0004791864687436512*zt-.3109689587515875)+Ht*(-.00023545346108370344*Ht+.0002702845253534714*an+.0020200308977307156*zt-.7488052167015494)+an*(6834815998235662e-20*an+.00015168452363460973*zt-.09751927774728933)-zt*(.0003189131175883281*zt+.7364883807733168),Yt[un+2]=255+Ot*(13598650411385307e-21*Ot+.00012423956175490851*Ht+.0004751985097583589*an-36729317476630422e-22*zt-.05562186980264034)+Ht*(.00016141380598724676*Ht+.0009692239130725186*an+.0007782692450036253*zt-.44015232367526463)+an*(5068882914068769e-22*an+.0017778369011375071*zt-.7591454649749609)-zt*(.0003435319965105553*zt+.7063770186160144),Yt[un+3]=255}return Yt}getData({width:Yt,height:un,forceRGBA:Ut=!1,forceRGB:Ot=!1,isSourcePDF:Ht=!1}){if(this.numComponents>4)throw new _e("Unsupported color mode");const an=this._getLinearizedBlockData(Yt,un,Ht);if(this.numComponents===1&&(Ut||Ot)){const zt=an.length*(Ut?4:3),Vt=new Uint8ClampedArray(zt);let nn=0;if(Ut)(0,_t.grayToRGBA)(an,new Uint32Array(Vt.buffer));else for(const hn of an)Vt[nn++]=hn,Vt[nn++]=hn,Vt[nn++]=hn;return Vt}else if(this.numComponents===3&&this._isColorConversionNeeded){if(Ut){const zt=new Uint8ClampedArray(an.length/3*4);return this._convertYccToRgba(an,zt)}return this._convertYccToRgb(an)}else if(this.numComponents===4){if(this._isColorConversionNeeded)return Ut?this._convertYcckToRgba(an):Ot?this._convertYcckToRgb(an):this._convertYcckToCmyk(an);if(Ut)return this._convertCmykToRgba(an);if(Ot)return this._convertCmykToRgb(an)}return an}}Et.JpegImage=bn},(Ct,Et,Ft)=>{Object.defineProperty(Et,"__esModule",{value:!0}),Et.convertBlackAndWhiteToRGBA=Rt,Et.convertToRGBA=_t,Et.grayToRGBA=bt;var wt=Ft(2);function _t(Pt){switch(Pt.kind){case wt.ImageKind.GRAYSCALE_1BPP:return Rt(Pt);case wt.ImageKind.RGB_24BPP:return _e(Pt)}return null}function Rt({src:Pt,srcPos:Xt=0,dest:Kt,width:Nt,height:$t,nonBlackColor:Lt=4294967295,inverseDecode:jt=!1}){const kt=wt.FeatureTest.isLittleEndian?4278190080:255,[qt,Bt]=jt?[Lt,kt]:[kt,Lt],Gt=Nt>>3,en=Nt&7,dn=Pt.length;Kt=new Uint32Array(Kt.buffer);let Qt=0;for(let gn=0;gn<$t;gn++){for(const bn=Xt+Gt;Xt<bn;Xt++){const Wt=Xt<dn?Pt[Xt]:255;Kt[Qt++]=Wt&128?Bt:qt,Kt[Qt++]=Wt&64?Bt:qt,Kt[Qt++]=Wt&32?Bt:qt,Kt[Qt++]=Wt&16?Bt:qt,Kt[Qt++]=Wt&8?Bt:qt,Kt[Qt++]=Wt&4?Bt:qt,Kt[Qt++]=Wt&2?Bt:qt,Kt[Qt++]=Wt&1?Bt:qt}if(en===0)continue;const tn=Xt<dn?Pt[Xt++]:255;for(let bn=0;bn<en;bn++)Kt[Qt++]=tn&1<<7-bn?Bt:qt}return{srcPos:Xt,destPos:Qt}}function _e({src:Pt,srcPos:Xt=0,dest:Kt,destPos:Nt=0,width:$t,height:Lt}){let jt=0;const kt=Pt.length>>2,qt=new Uint32Array(Pt.buffer,Xt,kt);if(wt.FeatureTest.isLittleEndian){for(;jt<kt-2;jt+=3,Nt+=4){const Bt=qt[jt],Gt=qt[jt+1],en=qt[jt+2];Kt[Nt]=Bt|4278190080,Kt[Nt+1]=Bt>>>24|Gt<<8|4278190080,Kt[Nt+2]=Gt>>>16|en<<16|4278190080,Kt[Nt+3]=en>>>8|4278190080}for(let Bt=jt*4,Gt=Pt.length;Bt<Gt;Bt+=3)Kt[Nt++]=Pt[Bt]|Pt[Bt+1]<<8|Pt[Bt+2]<<16|4278190080}else{for(;jt<kt-2;jt+=3,Nt+=4){const Bt=qt[jt],Gt=qt[jt+1],en=qt[jt+2];Kt[Nt]=Bt|255,Kt[Nt+1]=Bt<<24|Gt>>>8|255,Kt[Nt+2]=Gt<<16|en>>>16|255,Kt[Nt+3]=en<<8|255}for(let Bt=jt*4,Gt=Pt.length;Bt<Gt;Bt+=3)Kt[Nt++]=Pt[Bt]<<24|Pt[Bt+1]<<16|Pt[Bt+2]<<8|255}return{srcPos:Xt,destPos:Nt}}function bt(Pt,Xt){if(wt.FeatureTest.isLittleEndian)for(let Kt=0,Nt=Pt.length;Kt<Nt;Kt++)Xt[Kt]=Pt[Kt]*65793|4278190080;else for(let Kt=0,Nt=Pt.length;Kt<Nt;Kt++)Xt[Kt]=Pt[Kt]*16843008|255}},(Ct,Et,Ft)=>{Object.defineProperty(Et,"__esModule",{value:!0}),Et.JpxStream=void 0;var wt=Ft(18),_t=Ft(30),Rt=Ft(2);class _e extends wt.DecodeStream{constructor(Pt,Xt,Kt){super(Xt),this.stream=Pt,this.dict=Pt.dict,this.maybeLength=Xt,this.params=Kt}get bytes(){return(0,Rt.shadow)(this,"bytes",this.stream.getBytes(this.maybeLength))}ensureBuffer(Pt){}readBlock(){if(this.eof)return;const Pt=new _t.JpxImage;Pt.parse(this.bytes);const Xt=Pt.width,Kt=Pt.height,Nt=Pt.componentsCount,$t=Pt.tiles.length;if($t===1)this.buffer=Pt.tiles[0].items;else{const Lt=new Uint8ClampedArray(Xt*Kt*Nt);for(let jt=0;jt<$t;jt++){const kt=Pt.tiles[jt],qt=kt.width,Bt=kt.height,Gt=kt.left,en=kt.top,dn=kt.items;let Qt=0,gn=(Xt*en+Gt)*Nt;const tn=Xt*Nt,bn=qt*Nt;for(let Wt=0;Wt<Bt;Wt++){const Yt=dn.subarray(Qt,Qt+bn);Lt.set(Yt,gn),Qt+=bn,gn+=tn}}this.buffer=Lt}this.bufferLength=this.buffer.length,this.eof=!0}}Et.JpxStream=_e},(Ct,Et,Ft)=>{Object.defineProperty(Et,"__esModule",{value:!0}),Et.JpxImage=void 0;var wt=Ft(2),_t=Ft(3),Rt=Ft(25);class _e extends wt.BaseException{constructor(on){super(`JPX error: ${on}`,"JpxError")}}const bt={LL:0,LH:1,HL:1,HH:2};class Pt{constructor(){this.failOnCorruptedImage=!1}parse(on){if((0,_t.readUint16)(on,0)===65359){this.parseCodestream(on,0,on.length);return}const sn=on.length;let rn=0;for(;rn<sn;){let xn=8,vn=(0,_t.readUint32)(on,rn);const kn=(0,_t.readUint32)(on,rn+4);if(rn+=xn,vn===1&&(vn=(0,_t.readUint32)(on,rn)*4294967296+(0,_t.readUint32)(on,rn+4),rn+=8,xn+=8),vn===0&&(vn=sn-rn+xn),vn<xn)throw new _e("Invalid box field size");const Pn=vn-xn;let On=!0;switch(kn){case 1785737832:On=!1;break;case 1668246642:const _n=on[rn];if(_n===1){const mn=(0,_t.readUint32)(on,rn+3);switch(mn){case 16:case 17:case 18:break;default:(0,wt.warn)("Unknown colorspace "+mn);break}}else _n===2&&(0,wt.info)("ICC profile not supported");break;case 1785737827:this.parseCodestream(on,rn,rn+Pn);break;case 1783636e3:(0,_t.readUint32)(on,rn)!==218793738&&(0,wt.warn)("Invalid JP2 signature");break;case 1783634458:case 1718909296:case 1920099697:case 1919251232:case 1768449138:break;default:const Sn=String.fromCharCode(kn>>24&255,kn>>16&255,kn>>8&255,kn&255);(0,wt.warn)(`Unsupported header type ${kn} (${Sn}).`);break}On&&(rn+=Pn)}}parseImageProperties(on){let cn=on.getByte();for(;cn>=0;){const sn=cn;if(cn=on.getByte(),(sn<<8|cn)===65361){on.skip(4);const xn=on.getInt32()>>>0,vn=on.getInt32()>>>0,kn=on.getInt32()>>>0,Pn=on.getInt32()>>>0;on.skip(16);const On=on.getUint16();this.width=xn-kn,this.height=vn-Pn,this.componentsCount=On,this.bitsPerComponent=8;return}}throw new _e("No size marker found in JPX stream")}parseCodestream(on,cn,sn){const rn={};let xn=!1;try{let vn=cn;for(;vn+1<sn;){const kn=(0,_t.readUint16)(on,vn);vn+=2;let Pn=0,On,_n,Sn,mn,fn,Jt;switch(kn){case 65359:rn.mainHeader=!0;break;case 65497:break;case 65361:Pn=(0,_t.readUint16)(on,vn);const ln={};ln.Xsiz=(0,_t.readUint32)(on,vn+4),ln.Ysiz=(0,_t.readUint32)(on,vn+8),ln.XOsiz=(0,_t.readUint32)(on,vn+12),ln.YOsiz=(0,_t.readUint32)(on,vn+16),ln.XTsiz=(0,_t.readUint32)(on,vn+20),ln.YTsiz=(0,_t.readUint32)(on,vn+24),ln.XTOsiz=(0,_t.readUint32)(on,vn+28),ln.YTOsiz=(0,_t.readUint32)(on,vn+32);const pn=(0,_t.readUint16)(on,vn+36);ln.Csiz=pn;const wn=[];On=vn+38;for(let Dn=0;Dn<pn;Dn++){const Ln={precision:(on[On]&127)+1,isSigned:!!(on[On]&128),XRsiz:on[On+1],YRsiz:on[On+2]};On+=3,Xt(Ln,ln),wn.push(Ln)}rn.SIZ=ln,rn.components=wn,Kt(rn,wn),rn.QCC=[],rn.COC=[];break;case 65372:Pn=(0,_t.readUint16)(on,vn);const Cn={};switch(On=vn+2,_n=on[On++],_n&31){case 0:mn=8,fn=!0;break;case 1:mn=16,fn=!1;break;case 2:mn=16,fn=!0;break;default:throw new Error("Invalid SQcd value "+_n)}for(Cn.noQuantization=mn===8,Cn.scalarExpounded=fn,Cn.guardBits=_n>>5,Sn=[];On<Pn+vn;){const Dn={};mn===8?(Dn.epsilon=on[On++]>>3,Dn.mu=0):(Dn.epsilon=on[On]>>3,Dn.mu=(on[On]&7)<<8|on[On+1],On+=2),Sn.push(Dn)}Cn.SPqcds=Sn,rn.mainHeader?rn.QCD=Cn:(rn.currentTile.QCD=Cn,rn.currentTile.QCC=[]);break;case 65373:Pn=(0,_t.readUint16)(on,vn);const Fn={};On=vn+2;let En;switch(rn.SIZ.Csiz<257?En=on[On++]:(En=(0,_t.readUint16)(on,On),On+=2),_n=on[On++],_n&31){case 0:mn=8,fn=!0;break;case 1:mn=16,fn=!1;break;case 2:mn=16,fn=!0;break;default:throw new Error("Invalid SQcd value "+_n)}for(Fn.noQuantization=mn===8,Fn.scalarExpounded=fn,Fn.guardBits=_n>>5,Sn=[];On<Pn+vn;){const Dn={};mn===8?(Dn.epsilon=on[On++]>>3,Dn.mu=0):(Dn.epsilon=on[On]>>3,Dn.mu=(on[On]&7)<<8|on[On+1],On+=2),Sn.push(Dn)}Fn.SPqcds=Sn,rn.mainHeader?rn.QCC[En]=Fn:rn.currentTile.QCC[En]=Fn;break;case 65362:Pn=(0,_t.readUint16)(on,vn);const An={};On=vn+2;const Tn=on[On++];An.entropyCoderWithCustomPrecincts=!!(Tn&1),An.sopMarkerUsed=!!(Tn&2),An.ephMarkerUsed=!!(Tn&4),An.progressionOrder=on[On++],An.layersCount=(0,_t.readUint16)(on,On),On+=2,An.multipleComponentTransform=on[On++],An.decompositionLevelsCount=on[On++],An.xcb=(on[On++]&15)+2,An.ycb=(on[On++]&15)+2;const In=on[On++];if(An.selectiveArithmeticCodingBypass=!!(In&1),An.resetContextProbabilities=!!(In&2),An.terminationOnEachCodingPass=!!(In&4),An.verticallyStripe=!!(In&8),An.predictableTermination=!!(In&16),An.segmentationSymbolUsed=!!(In&32),An.reversibleTransformation=on[On++],An.entropyCoderWithCustomPrecincts){const Dn=[];for(;On<Pn+vn;){const Ln=on[On++];Dn.push({PPx:Ln&15,PPy:Ln>>4})}An.precinctsSizes=Dn}const Rn=[];An.selectiveArithmeticCodingBypass&&Rn.push("selectiveArithmeticCodingBypass"),An.terminationOnEachCodingPass&&Rn.push("terminationOnEachCodingPass"),An.verticallyStripe&&Rn.push("verticallyStripe"),An.predictableTermination&&Rn.push("predictableTermination"),Rn.length>0&&(xn=!0,(0,wt.warn)(`JPX: Unsupported COD options (${Rn.join(", ")}).`)),rn.mainHeader?rn.COD=An:(rn.currentTile.COD=An,rn.currentTile.COC=[]);break;case 65424:Pn=(0,_t.readUint16)(on,vn),Jt={},Jt.index=(0,_t.readUint16)(on,vn+2),Jt.length=(0,_t.readUint32)(on,vn+4),Jt.dataEnd=Jt.length+vn-2,Jt.partIndex=on[vn+8],Jt.partsCount=on[vn+9],rn.mainHeader=!1,Jt.partIndex===0&&(Jt.COD=rn.COD,Jt.COC=rn.COC.slice(0),Jt.QCD=rn.QCD,Jt.QCC=rn.QCC.slice(0)),rn.currentTile=Jt;break;case 65427:Jt=rn.currentTile,Jt.partIndex===0&&(un(rn,Jt.index),gn(rn)),Pn=Jt.dataEnd-vn,tn(rn,on,vn,Pn);break;case 65363:(0,wt.warn)("JPX: Codestream code 0xFF53 (COC) is not implemented.");case 65365:case 65367:case 65368:case 65380:Pn=(0,_t.readUint16)(on,vn);break;default:throw new Error("Unknown codestream code: "+kn.toString(16))}vn+=Pn}}catch(vn){if(xn||this.failOnCorruptedImage)throw new _e(vn.message);(0,wt.warn)(`JPX: Trying to recover from: "${vn.message}".`)}this.tiles=Yt(rn),this.width=rn.SIZ.Xsiz-rn.SIZ.XOsiz,this.height=rn.SIZ.Ysiz-rn.SIZ.YOsiz,this.componentsCount=rn.SIZ.Csiz}}Et.JpxImage=Pt;function Xt(hn,on){hn.x0=Math.ceil(on.XOsiz/hn.XRsiz),hn.x1=Math.ceil(on.Xsiz/hn.XRsiz),hn.y0=Math.ceil(on.YOsiz/hn.YRsiz),hn.y1=Math.ceil(on.Ysiz/hn.YRsiz),hn.width=hn.x1-hn.x0,hn.height=hn.y1-hn.y0}function Kt(hn,on){const cn=hn.SIZ,sn=[];let rn;const xn=Math.ceil((cn.Xsiz-cn.XTOsiz)/cn.XTsiz),vn=Math.ceil((cn.Ysiz-cn.YTOsiz)/cn.YTsiz);for(let Pn=0;Pn<vn;Pn++)for(let On=0;On<xn;On++)rn={},rn.tx0=Math.max(cn.XTOsiz+On*cn.XTsiz,cn.XOsiz),rn.ty0=Math.max(cn.YTOsiz+Pn*cn.YTsiz,cn.YOsiz),rn.tx1=Math.min(cn.XTOsiz+(On+1)*cn.XTsiz,cn.Xsiz),rn.ty1=Math.min(cn.YTOsiz+(Pn+1)*cn.YTsiz,cn.Ysiz),rn.width=rn.tx1-rn.tx0,rn.height=rn.ty1-rn.ty0,rn.components=[],sn.push(rn);hn.tiles=sn;const kn=cn.Csiz;for(let Pn=0,On=kn;Pn<On;Pn++){const _n=on[Pn];for(let Sn=0,mn=sn.length;Sn<mn;Sn++){const fn={};rn=sn[Sn],fn.tcx0=Math.ceil(rn.tx0/_n.XRsiz),fn.tcy0=Math.ceil(rn.ty0/_n.YRsiz),fn.tcx1=Math.ceil(rn.tx1/_n.XRsiz),fn.tcy1=Math.ceil(rn.ty1/_n.YRsiz),fn.width=fn.tcx1-fn.tcx0,fn.height=fn.tcy1-fn.tcy0,rn.components[Pn]=fn}}}function Nt(hn,on,cn){const sn=on.codingStyleParameters,rn={};return sn.entropyCoderWithCustomPrecincts?(rn.PPx=sn.precinctsSizes[cn].PPx,rn.PPy=sn.precinctsSizes[cn].PPy):(rn.PPx=15,rn.PPy=15),rn.xcb_=cn>0?Math.min(sn.xcb,rn.PPx-1):Math.min(sn.xcb,rn.PPx),rn.ycb_=cn>0?Math.min(sn.ycb,rn.PPy-1):Math.min(sn.ycb,rn.PPy),rn}function $t(hn,on,cn){const sn=1<<cn.PPx,rn=1<<cn.PPy,xn=on.resLevel===0,vn=1<<cn.PPx+(xn?0:-1),kn=1<<cn.PPy+(xn?0:-1),Pn=on.trx1>on.trx0?Math.ceil(on.trx1/sn)-Math.floor(on.trx0/sn):0,On=on.try1>on.try0?Math.ceil(on.try1/rn)-Math.floor(on.try0/rn):0,_n=Pn*On;on.precinctParameters={precinctWidth:sn,precinctHeight:rn,numprecinctswide:Pn,numprecinctshigh:On,numprecincts:_n,precinctWidthInSubband:vn,precinctHeightInSubband:kn}}function Lt(hn,on,cn){const sn=cn.xcb_,rn=cn.ycb_,xn=1<<sn,vn=1<<rn,kn=on.tbx0>>sn,Pn=on.tby0>>rn,On=on.tbx1+xn-1>>sn,_n=on.tby1+vn-1>>rn,Sn=on.resolution.precinctParameters,mn=[],fn=[];let Jt,ln,pn,wn;for(ln=Pn;ln<_n;ln++)for(Jt=kn;Jt<On;Jt++){pn={cbx:Jt,cby:ln,tbx0:xn*Jt,tby0:vn*ln,tbx1:xn*(Jt+1),tby1:vn*(ln+1)},pn.tbx0_=Math.max(on.tbx0,pn.tbx0),pn.tby0_=Math.max(on.tby0,pn.tby0),pn.tbx1_=Math.min(on.tbx1,pn.tbx1),pn.tby1_=Math.min(on.tby1,pn.tby1);const Cn=Math.floor((pn.tbx0_-on.tbx0)/Sn.precinctWidthInSubband),Fn=Math.floor((pn.tby0_-on.tby0)/Sn.precinctHeightInSubband);if(wn=Cn+Fn*Sn.numprecinctswide,pn.precinctNumber=wn,pn.subbandType=on.type,pn.Lblock=3,pn.tbx1_<=pn.tbx0_||pn.tby1_<=pn.tby0_)continue;mn.push(pn);let En=fn[wn];En!==void 0?(Jt<En.cbxMin?En.cbxMin=Jt:Jt>En.cbxMax&&(En.cbxMax=Jt),ln<En.cbyMin?En.cbxMin=ln:ln>En.cbyMax&&(En.cbyMax=ln)):fn[wn]=En={cbxMin:Jt,cbyMin:ln,cbxMax:Jt,cbyMax:ln},pn.precinct=En}on.codeblockParameters={codeblockWidth:sn,codeblockHeight:rn,numcodeblockwide:On-kn+1,numcodeblockhigh:_n-Pn+1},on.codeblocks=mn,on.precincts=fn}function jt(hn,on,cn){const sn=[],rn=hn.subbands;for(let xn=0,vn=rn.length;xn<vn;xn++){const Pn=rn[xn].codeblocks;for(let On=0,_n=Pn.length;On<_n;On++){const Sn=Pn[On];Sn.precinctNumber===on&&sn.push(Sn)}}return{layerNumber:cn,codeblocks:sn}}function kt(hn){const on=hn.SIZ,cn=hn.currentTile.index,sn=hn.tiles[cn],rn=sn.codingStyleDefaultParameters.layersCount,xn=on.Csiz;let vn=0;for(let Sn=0;Sn<xn;Sn++)vn=Math.max(vn,sn.components[Sn].codingStyleParameters.decompositionLevelsCount);let kn=0,Pn=0,On=0,_n=0;this.nextPacket=function(){for(;kn<rn;kn++){for(;Pn<=vn;Pn++){for(;On<xn;On++){const mn=sn.components[On];if(Pn>mn.codingStyleParameters.decompositionLevelsCount)continue;const fn=mn.resolutions[Pn],Jt=fn.precinctParameters.numprecincts;for(;_n<Jt;){const ln=jt(fn,_n,kn);return _n++,ln}_n=0}On=0}Pn=0}throw new _e("Out of packets")}}function qt(hn){const on=hn.SIZ,cn=hn.currentTile.index,sn=hn.tiles[cn],rn=sn.codingStyleDefaultParameters.layersCount,xn=on.Csiz;let vn=0;for(let Sn=0;Sn<xn;Sn++)vn=Math.max(vn,sn.components[Sn].codingStyleParameters.decompositionLevelsCount);let kn=0,Pn=0,On=0,_n=0;this.nextPacket=function(){for(;kn<=vn;kn++){for(;Pn<rn;Pn++){for(;On<xn;On++){const mn=sn.components[On];if(kn>mn.codingStyleParameters.decompositionLevelsCount)continue;const fn=mn.resolutions[kn],Jt=fn.precinctParameters.numprecincts;for(;_n<Jt;){const ln=jt(fn,_n,Pn);return _n++,ln}_n=0}On=0}Pn=0}throw new _e("Out of packets")}}function Bt(hn){const on=hn.SIZ,cn=hn.currentTile.index,sn=hn.tiles[cn],rn=sn.codingStyleDefaultParameters.layersCount,xn=on.Csiz;let vn,kn,Pn,On,_n=0;for(Pn=0;Pn<xn;Pn++){const mn=sn.components[Pn];_n=Math.max(_n,mn.codingStyleParameters.decompositionLevelsCount)}const Sn=new Int32Array(_n+1);for(kn=0;kn<=_n;++kn){let mn=0;for(Pn=0;Pn<xn;++Pn){const fn=sn.components[Pn].resolutions;kn<fn.length&&(mn=Math.max(mn,fn[kn].precinctParameters.numprecincts))}Sn[kn]=mn}vn=0,kn=0,Pn=0,On=0,this.nextPacket=function(){for(;kn<=_n;kn++){for(;On<Sn[kn];On++){for(;Pn<xn;Pn++){const fn=sn.components[Pn];if(kn>fn.codingStyleParameters.decompositionLevelsCount)continue;const Jt=fn.resolutions[kn],ln=Jt.precinctParameters.numprecincts;if(!(On>=ln)){for(;vn<rn;){const pn=jt(Jt,On,vn);return vn++,pn}vn=0}}Pn=0}On=0}throw new _e("Out of packets")}}function Gt(hn){const on=hn.SIZ,cn=hn.currentTile.index,sn=hn.tiles[cn],rn=sn.codingStyleDefaultParameters.layersCount,xn=on.Csiz,vn=Qt(sn),kn=vn;let Pn=0,On=0,_n=0,Sn=0,mn=0;this.nextPacket=function(){for(;mn<kn.maxNumHigh;mn++){for(;Sn<kn.maxNumWide;Sn++){for(;_n<xn;_n++){const Jt=sn.components[_n],ln=Jt.codingStyleParameters.decompositionLevelsCount;for(;On<=ln;On++){const pn=Jt.resolutions[On],wn=vn.components[_n].resolutions[On],Cn=dn(Sn,mn,wn,kn,pn);if(Cn!==null){for(;Pn<rn;){const Fn=jt(pn,Cn,Pn);return Pn++,Fn}Pn=0}}On=0}_n=0}Sn=0}throw new _e("Out of packets")}}function en(hn){const on=hn.SIZ,cn=hn.currentTile.index,sn=hn.tiles[cn],rn=sn.codingStyleDefaultParameters.layersCount,xn=on.Csiz,vn=Qt(sn);let kn=0,Pn=0,On=0,_n=0,Sn=0;this.nextPacket=function(){for(;On<xn;++On){const fn=sn.components[On],Jt=vn.components[On],ln=fn.codingStyleParameters.decompositionLevelsCount;for(;Sn<Jt.maxNumHigh;Sn++){for(;_n<Jt.maxNumWide;_n++){for(;Pn<=ln;Pn++){const pn=fn.resolutions[Pn],wn=Jt.resolutions[Pn],Cn=dn(_n,Sn,wn,Jt,pn);if(Cn!==null){for(;kn<rn;){const Fn=jt(pn,Cn,kn);return kn++,Fn}kn=0}}Pn=0}_n=0}Sn=0}throw new _e("Out of packets")}}function dn(hn,on,cn,sn,rn){const xn=hn*sn.minWidth,vn=on*sn.minHeight;if(xn%cn.width!==0||vn%cn.height!==0)return null;const kn=vn/cn.width*rn.precinctParameters.numprecinctswide;return xn/cn.height+kn}function Qt(hn){const on=hn.components.length;let cn=Number.MAX_VALUE,sn=Number.MAX_VALUE,rn=0,xn=0;const vn=new Array(on);for(let kn=0;kn<on;kn++){const Pn=hn.components[kn],On=Pn.codingStyleParameters.decompositionLevelsCount,_n=new Array(On+1);let Sn=Number.MAX_VALUE,mn=Number.MAX_VALUE,fn=0,Jt=0,ln=1;for(let pn=On;pn>=0;--pn){const wn=Pn.resolutions[pn],Cn=ln*wn.precinctParameters.precinctWidth,Fn=ln*wn.precinctParameters.precinctHeight;Sn=Math.min(Sn,Cn),mn=Math.min(mn,Fn),fn=Math.max(fn,wn.precinctParameters.numprecinctswide),Jt=Math.max(Jt,wn.precinctParameters.numprecinctshigh),_n[pn]={width:Cn,height:Fn},ln<<=1}cn=Math.min(cn,Sn),sn=Math.min(sn,mn),rn=Math.max(rn,fn),xn=Math.max(xn,Jt),vn[kn]={resolutions:_n,minWidth:Sn,minHeight:mn,maxNumWide:fn,maxNumHigh:Jt}}return{components:vn,minWidth:cn,minHeight:sn,maxNumWide:rn,maxNumHigh:xn}}function gn(hn){const on=hn.SIZ,cn=hn.currentTile.index,sn=hn.tiles[cn],rn=on.Csiz;for(let vn=0;vn<rn;vn++){const kn=sn.components[vn],Pn=kn.codingStyleParameters.decompositionLevelsCount,On=[],_n=[];for(let Sn=0;Sn<=Pn;Sn++){const mn=Nt(hn,kn,Sn),fn={},Jt=1<<Pn-Sn;fn.trx0=Math.ceil(kn.tcx0/Jt),fn.try0=Math.ceil(kn.tcy0/Jt),fn.trx1=Math.ceil(kn.tcx1/Jt),fn.try1=Math.ceil(kn.tcy1/Jt),fn.resLevel=Sn,$t(hn,fn,mn),On.push(fn);let ln;if(Sn===0)ln={},ln.type="LL",ln.tbx0=Math.ceil(kn.tcx0/Jt),ln.tby0=Math.ceil(kn.tcy0/Jt),ln.tbx1=Math.ceil(kn.tcx1/Jt),ln.tby1=Math.ceil(kn.tcy1/Jt),ln.resolution=fn,Lt(hn,ln,mn),_n.push(ln),fn.subbands=[ln];else{const pn=1<<Pn-Sn+1,wn=[];ln={},ln.type="HL",ln.tbx0=Math.ceil(kn.tcx0/pn-.5),ln.tby0=Math.ceil(kn.tcy0/pn),ln.tbx1=Math.ceil(kn.tcx1/pn-.5),ln.tby1=Math.ceil(kn.tcy1/pn),ln.resolution=fn,Lt(hn,ln,mn),_n.push(ln),wn.push(ln),ln={},ln.type="LH",ln.tbx0=Math.ceil(kn.tcx0/pn),ln.tby0=Math.ceil(kn.tcy0/pn-.5),ln.tbx1=Math.ceil(kn.tcx1/pn),ln.tby1=Math.ceil(kn.tcy1/pn-.5),ln.resolution=fn,Lt(hn,ln,mn),_n.push(ln),wn.push(ln),ln={},ln.type="HH",ln.tbx0=Math.ceil(kn.tcx0/pn-.5),ln.tby0=Math.ceil(kn.tcy0/pn-.5),ln.tbx1=Math.ceil(kn.tcx1/pn-.5),ln.tby1=Math.ceil(kn.tcy1/pn-.5),ln.resolution=fn,Lt(hn,ln,mn),_n.push(ln),wn.push(ln),fn.subbands=wn}}kn.resolutions=On,kn.subbands=_n}const xn=sn.codingStyleDefaultParameters.progressionOrder;switch(xn){case 0:sn.packetsIterator=new kt(hn);break;case 1:sn.packetsIterator=new qt(hn);break;case 2:sn.packetsIterator=new Bt(hn);break;case 3:sn.packetsIterator=new Gt(hn);break;case 4:sn.packetsIterator=new en(hn);break;default:throw new _e(`Unsupported progression order ${xn}`)}}function tn(hn,on,cn,sn){let rn=0,xn,vn=0,kn=!1;function Pn(Cn){for(;vn<Cn;){const Fn=on[cn+rn];rn++,kn?(xn=xn<<7|Fn,vn+=7,kn=!1):(xn=xn<<8|Fn,vn+=8),Fn===255&&(kn=!0)}return vn-=Cn,xn>>>vn&(1<<Cn)-1}function On(Cn){return on[cn+rn-1]===255&&on[cn+rn]===Cn?(_n(1),!0):on[cn+rn]===255&&on[cn+rn+1]===Cn?(_n(2),!0):!1}function _n(Cn){rn+=Cn}function Sn(){vn=0,kn&&(rn++,kn=!1)}function mn(){if(Pn(1)===0)return 1;if(Pn(1)===0)return 2;let Cn=Pn(2);return Cn<3?Cn+3:(Cn=Pn(5),Cn<31?Cn+6:(Cn=Pn(7),Cn+37))}const fn=hn.currentTile.index,Jt=hn.tiles[fn],ln=hn.COD.sopMarkerUsed,pn=hn.COD.ephMarkerUsed,wn=Jt.packetsIterator;for(;rn<sn;){Sn(),ln&&On(145)&&_n(4);const Cn=wn.nextPacket();if(!Pn(1))continue;const Fn=Cn.layerNumber,En=[];let An;for(let Tn=0,In=Cn.codeblocks.length;Tn<In;Tn++){An=Cn.codeblocks[Tn];let Rn=An.precinct;const Dn=An.cbx-Rn.cbxMin,Ln=An.cby-Rn.cbyMin;let Un=!1,tr=!1,er,Qn;if(An.included!==void 0)Un=!!Pn(1);else{Rn=An.precinct;let dr;if(Rn.inclusionTree!==void 0)dr=Rn.inclusionTree;else{const Bn=Rn.cbxMax-Rn.cbxMin+1,Hn=Rn.cbyMax-Rn.cbyMin+1;dr=new Ot(Bn,Hn,Fn),Qn=new Ut(Bn,Hn),Rn.inclusionTree=dr,Rn.zeroBitPlanesTree=Qn;for(let Wn=0;Wn<Fn;Wn++)if(Pn(1)!==0)throw new _e("Invalid tag tree")}if(dr.reset(Dn,Ln,Fn))for(;;)if(Pn(1)){if(er=!dr.nextLevel(),er){An.included=!0,Un=tr=!0;break}}else{dr.incrementValue(Fn);break}}if(!Un)continue;if(tr){for(Qn=Rn.zeroBitPlanesTree,Qn.reset(Dn,Ln);;)if(Pn(1)){if(er=!Qn.nextLevel(),er)break}else Qn.incrementValue();An.zeroBitPlanes=Qn.value}const Yn=mn();for(;Pn(1);)An.Lblock++;const Xn=(0,_t.log2)(Yn),nr=(Yn<1<<Xn?Xn-1:Xn)+An.Lblock,lr=Pn(nr);En.push({codeblock:An,codingpasses:Yn,dataLength:lr})}for(Sn(),pn&&On(146);En.length>0;){const Tn=En.shift();An=Tn.codeblock,An.data===void 0&&(An.data=[]),An.data.push({data:on,start:cn+rn,end:cn+rn+Tn.dataLength,codingpasses:Tn.codingpasses}),rn+=Tn.dataLength}}return rn}function bn(hn,on,cn,sn,rn,xn,vn,kn,Pn){const On=sn.tbx0,_n=sn.tby0,Sn=sn.tbx1-sn.tbx0,mn=sn.codeblocks,fn=sn.type.charAt(0)==="H"?1:0,Jt=sn.type.charAt(1)==="H"?on:0;for(let ln=0,pn=mn.length;ln<pn;++ln){const wn=mn[ln],Cn=wn.tbx1_-wn.tbx0_,Fn=wn.tby1_-wn.tby0_;if(Cn===0||Fn===0||wn.data===void 0)continue;const En=new Ht(Cn,Fn,wn.subbandType,wn.zeroBitPlanes,xn);let An=2;const Tn=wn.data;let In=0,Rn=0,Dn,Ln,Un;for(Dn=0,Ln=Tn.length;Dn<Ln;Dn++)Un=Tn[Dn],In+=Un.end-Un.start,Rn+=Un.codingpasses;const tr=new Uint8Array(In);let er=0;for(Dn=0,Ln=Tn.length;Dn<Ln;Dn++){Un=Tn[Dn];const sr=Un.data.subarray(Un.start,Un.end);tr.set(sr,er),er+=sr.length}const Qn=new Rt.ArithmeticDecoder(tr,0,In);for(En.setDecoder(Qn),Dn=0;Dn<Rn;Dn++){switch(An){case 0:En.runSignificancePropagationPass();break;case 1:En.runMagnitudeRefinementPass();break;case 2:En.runCleanupPass(),kn&&En.checkSegmentationSymbol();break}Pn&&En.reset(),An=(An+1)%3}let Yn=wn.tbx0_-On+(wn.tby0_-_n)*Sn;const Xn=En.coefficentsSign,nr=En.coefficentsMagnitude,lr=En.bitsDecoded,dr=vn?0:.5;let Bn,Hn,Wn;er=0;const cr=sn.type!=="LL";for(Dn=0;Dn<Fn;Dn++){const xr=2*(Yn/Sn|0)*(on-Sn)+fn+Jt;for(Bn=0;Bn<Cn;Bn++){if(Hn=nr[er],Hn!==0){Hn=(Hn+dr)*rn,Xn[er]!==0&&(Hn=-Hn),Wn=lr[er];const Jn=cr?xr+(Yn<<1):Yn;hn[Jn]=vn&&Wn>=xn?Hn:Hn*(1<<xn-Wn)}Yn++,er++}Yn+=Sn-Cn}}}function Wt(hn,on,cn){const sn=on.components[cn],rn=sn.codingStyleParameters,xn=sn.quantizationParameters,vn=rn.decompositionLevelsCount,kn=xn.SPqcds,Pn=xn.scalarExpounded,On=xn.guardBits,_n=rn.segmentationSymbolUsed,Sn=rn.resetContextProbabilities,mn=hn.components[cn].precision,fn=rn.reversibleTransformation,Jt=fn?new Vt:new zt,ln=[];let pn=0;for(let Cn=0;Cn<=vn;Cn++){const Fn=sn.resolutions[Cn],En=Fn.trx1-Fn.trx0,An=Fn.try1-Fn.try0,Tn=new Float32Array(En*An);for(let In=0,Rn=Fn.subbands.length;In<Rn;In++){let Dn,Ln;Pn?(Dn=kn[pn].mu,Ln=kn[pn].epsilon,pn++):(Dn=kn[0].mu,Ln=kn[0].epsilon+(Cn>0?1-Cn:0));const Un=Fn.subbands[In],tr=bt[Un.type],er=fn?1:2**(mn+tr-Ln)*(1+Dn/2048),Qn=On+Ln-1;bn(Tn,En,An,Un,er,Qn,fn,_n,Sn)}ln.push({width:En,height:An,items:Tn})}const wn=Jt.calculate(ln,sn.tcx0,sn.tcy0);return{left:sn.tcx0,top:sn.tcy0,width:wn.width,height:wn.height,items:wn.items}}function Yt(hn){const on=hn.SIZ,cn=hn.components,sn=on.Csiz,rn=[];for(let xn=0,vn=hn.tiles.length;xn<vn;xn++){const kn=hn.tiles[xn],Pn=[];for(let En=0;En<sn;En++)Pn[En]=Wt(hn,kn,En);const On=Pn[0],_n=new Uint8ClampedArray(On.items.length*sn),Sn={left:On.left,top:On.top,width:On.width,height:On.height,items:_n};let mn,fn,Jt=0,ln,pn,wn,Cn,Fn;if(kn.codingStyleDefaultParameters.multipleComponentTransform){const En=sn===4,An=Pn[0].items,Tn=Pn[1].items,In=Pn[2].items,Rn=En?Pn[3].items:null;mn=cn[0].precision-8,fn=(128<<mn)+.5;const Dn=kn.components[0],Ln=sn-3;if(pn=An.length,Dn.codingStyleParameters.reversibleTransformation)for(ln=0;ln<pn;ln++,Jt+=Ln){wn=An[ln]+fn,Cn=Tn[ln],Fn=In[ln];const Un=wn-(Fn+Cn>>2);_n[Jt++]=Un+Fn>>mn,_n[Jt++]=Un>>mn,_n[Jt++]=Un+Cn>>mn}else for(ln=0;ln<pn;ln++,Jt+=Ln)wn=An[ln]+fn,Cn=Tn[ln],Fn=In[ln],_n[Jt++]=wn+1.402*Fn>>mn,_n[Jt++]=wn-.34413*Cn-.71414*Fn>>mn,_n[Jt++]=wn+1.772*Cn>>mn;if(En)for(ln=0,Jt=3;ln<pn;ln++,Jt+=4)_n[Jt]=Rn[ln]+fn>>mn}else for(let En=0;En<sn;En++){const An=Pn[En].items;for(mn=cn[En].precision-8,fn=(128<<mn)+.5,Jt=En,ln=0,pn=An.length;ln<pn;ln++)_n[Jt]=An[ln]+fn>>mn,Jt+=sn}rn.push(Sn)}return rn}function un(hn,on){const sn=hn.SIZ.Csiz,rn=hn.tiles[on];for(let xn=0;xn<sn;xn++){const vn=rn.components[xn],kn=hn.currentTile.QCC[xn]!==void 0?hn.currentTile.QCC[xn]:hn.currentTile.QCD;vn.quantizationParameters=kn;const Pn=hn.currentTile.COC[xn]!==void 0?hn.currentTile.COC[xn]:hn.currentTile.COD;vn.codingStyleParameters=Pn}rn.codingStyleDefaultParameters=hn.currentTile.COD}class Ut{constructor(on,cn){const sn=(0,_t.log2)(Math.max(on,cn))+1;this.levels=[];for(let rn=0;rn<sn;rn++){const xn={width:on,height:cn,items:[]};this.levels.push(xn),on=Math.ceil(on/2),cn=Math.ceil(cn/2)}}reset(on,cn){let sn=0,rn=0,xn;for(;sn<this.levels.length;){xn=this.levels[sn];const vn=on+cn*xn.width;if(xn.items[vn]!==void 0){rn=xn.items[vn];break}xn.index=vn,on>>=1,cn>>=1,sn++}sn--,xn=this.levels[sn],xn.items[xn.index]=rn,this.currentLevel=sn,delete this.value}incrementValue(){const on=this.levels[this.currentLevel];on.items[on.index]++}nextLevel(){let on=this.currentLevel,cn=this.levels[on];const sn=cn.items[cn.index];return on--,on<0?(this.value=sn,!1):(this.currentLevel=on,cn=this.levels[on],cn.items[cn.index]=sn,!0)}}class Ot{constructor(on,cn,sn){const rn=(0,_t.log2)(Math.max(on,cn))+1;this.levels=[];for(let xn=0;xn<rn;xn++){const vn=new Uint8Array(on*cn);for(let Pn=0,On=vn.length;Pn<On;Pn++)vn[Pn]=sn;const kn={width:on,height:cn,items:vn};this.levels.push(kn),on=Math.ceil(on/2),cn=Math.ceil(cn/2)}}reset(on,cn,sn){let rn=0;for(;rn<this.levels.length;){const xn=this.levels[rn],vn=on+cn*xn.width;xn.index=vn;const kn=xn.items[vn];if(kn===255)break;if(kn>sn)return this.currentLevel=rn,this.propagateValues(),!1;on>>=1,cn>>=1,rn++}return this.currentLevel=rn-1,!0}incrementValue(on){const cn=this.levels[this.currentLevel];cn.items[cn.index]=on+1,this.propagateValues()}propagateValues(){let on=this.currentLevel,cn=this.levels[on];const sn=cn.items[cn.index];for(;--on>=0;)cn=this.levels[on],cn.items[cn.index]=sn}nextLevel(){let on=this.currentLevel,cn=this.levels[on];const sn=cn.items[cn.index];return cn.items[cn.index]=255,on--,on<0?!1:(this.currentLevel=on,cn=this.levels[on],cn.items[cn.index]=sn,!0)}}const nn=class nn{constructor(on,cn,sn,rn,xn){this.width=on,this.height=cn;let vn;sn==="HH"?vn=nn.HHContextLabel:sn==="HL"?vn=nn.HLContextLabel:vn=nn.LLAndLHContextsLabel,this.contextLabelTable=vn;const kn=on*cn;this.neighborsSignificance=new Uint8Array(kn),this.coefficentsSign=new Uint8Array(kn);let Pn;xn>14?Pn=new Uint32Array(kn):xn>6?Pn=new Uint16Array(kn):Pn=new Uint8Array(kn),this.coefficentsMagnitude=Pn,this.processingFlags=new Uint8Array(kn);const On=new Uint8Array(kn);if(rn!==0)for(let _n=0;_n<kn;_n++)On[_n]=rn;this.bitsDecoded=On,this.reset()}setDecoder(on){this.decoder=on}reset(){this.contexts=new Int8Array(19),this.contexts[0]=8,this.contexts[nn.UNIFORM_CONTEXT]=92,this.contexts[nn.RUNLENGTH_CONTEXT]=6}setNeighborsSignificance(on,cn,sn){const rn=this.neighborsSignificance,xn=this.width,vn=this.height,kn=cn>0,Pn=cn+1<xn;let On;on>0&&(On=sn-xn,kn&&(rn[On-1]+=16),Pn&&(rn[On+1]+=16),rn[On]+=4),on+1<vn&&(On=sn+xn,kn&&(rn[On-1]+=16),Pn&&(rn[On+1]+=16),rn[On]+=4),kn&&(rn[sn-1]+=1),Pn&&(rn[sn+1]+=1),rn[sn]|=128}runSignificancePropagationPass(){const on=this.decoder,cn=this.width,sn=this.height,rn=this.coefficentsMagnitude,xn=this.coefficentsSign,vn=this.neighborsSignificance,kn=this.processingFlags,Pn=this.contexts,On=this.contextLabelTable,_n=this.bitsDecoded,Sn=-2,mn=1,fn=2;for(let Jt=0;Jt<sn;Jt+=4)for(let ln=0;ln<cn;ln++){let pn=Jt*cn+ln;for(let wn=0;wn<4;wn++,pn+=cn){const Cn=Jt+wn;if(Cn>=sn)break;if(kn[pn]&=Sn,rn[pn]||!vn[pn])continue;const Fn=On[vn[pn]];if(on.readBit(Pn,Fn)){const An=this.decodeSignBit(Cn,ln,pn);xn[pn]=An,rn[pn]=1,this.setNeighborsSignificance(Cn,ln,pn),kn[pn]|=fn}_n[pn]++,kn[pn]|=mn}}}decodeSignBit(on,cn,sn){const rn=this.width,xn=this.height,vn=this.coefficentsMagnitude,kn=this.coefficentsSign;let Pn,On,_n,Sn,mn,fn;Sn=cn>0&&vn[sn-1]!==0,cn+1<rn&&vn[sn+1]!==0?(_n=kn[sn+1],Sn?(On=kn[sn-1],Pn=1-_n-On):Pn=1-_n-_n):Sn?(On=kn[sn-1],Pn=1-On-On):Pn=0;const Jt=3*Pn;return Sn=on>0&&vn[sn-rn]!==0,on+1<xn&&vn[sn+rn]!==0?(_n=kn[sn+rn],Sn?(On=kn[sn-rn],Pn=1-_n-On+Jt):Pn=1-_n-_n+Jt):Sn?(On=kn[sn-rn],Pn=1-On-On+Jt):Pn=Jt,Pn>=0?(mn=9+Pn,fn=this.decoder.readBit(this.contexts,mn)):(mn=9-Pn,fn=this.decoder.readBit(this.contexts,mn)^1),fn}runMagnitudeRefinementPass(){const on=this.decoder,cn=this.width,sn=this.height,rn=this.coefficentsMagnitude,xn=this.neighborsSignificance,vn=this.contexts,kn=this.bitsDecoded,Pn=this.processingFlags,On=1,_n=2,Sn=cn*sn,mn=cn*4;for(let fn=0,Jt;fn<Sn;fn=Jt){Jt=Math.min(Sn,fn+mn);for(let ln=0;ln<cn;ln++)for(let pn=fn+ln;pn<Jt;pn+=cn){if(!rn[pn]||Pn[pn]&On)continue;let wn=16;Pn[pn]&_n&&(Pn[pn]^=_n,wn=(xn[pn]&127)===0?15:14);const Cn=on.readBit(vn,wn);rn[pn]=rn[pn]<<1|Cn,kn[pn]++,Pn[pn]|=On}}}runCleanupPass(){const on=this.decoder,cn=this.width,sn=this.height,rn=this.neighborsSignificance,xn=this.coefficentsMagnitude,vn=this.coefficentsSign,kn=this.contexts,Pn=this.contextLabelTable,On=this.bitsDecoded,_n=this.processingFlags,Sn=1,mn=2,fn=cn,Jt=cn*2,ln=cn*3;let pn;for(let wn=0;wn<sn;wn=pn){pn=Math.min(wn+4,sn);const Cn=wn*cn,Fn=wn+3<sn;for(let En=0;En<cn;En++){const An=Cn+En,Tn=Fn&&_n[An]===0&&_n[An+fn]===0&&_n[An+Jt]===0&&_n[An+ln]===0&&rn[An]===0&&rn[An+fn]===0&&rn[An+Jt]===0&&rn[An+ln]===0;let In=0,Rn=An,Dn=wn,Ln;if(Tn){if(!on.readBit(kn,nn.RUNLENGTH_CONTEXT)){On[An]++,On[An+fn]++,On[An+Jt]++,On[An+ln]++;continue}In=on.readBit(kn,nn.UNIFORM_CONTEXT)<<1|on.readBit(kn,nn.UNIFORM_CONTEXT),In!==0&&(Dn=wn+In,Rn+=In*cn),Ln=this.decodeSignBit(Dn,En,Rn),vn[Rn]=Ln,xn[Rn]=1,this.setNeighborsSignificance(Dn,En,Rn),_n[Rn]|=mn,Rn=An;for(let tr=wn;tr<=Dn;tr++,Rn+=cn)On[Rn]++;In++}for(Dn=wn+In;Dn<pn;Dn++,Rn+=cn){if(xn[Rn]||_n[Rn]&Sn)continue;const Un=Pn[rn[Rn]];on.readBit(kn,Un)===1&&(Ln=this.decodeSignBit(Dn,En,Rn),vn[Rn]=Ln,xn[Rn]=1,this.setNeighborsSignificance(Dn,En,Rn),_n[Rn]|=mn),On[Rn]++}}}}checkSegmentationSymbol(){const on=this.decoder,cn=this.contexts;if((on.readBit(cn,nn.UNIFORM_CONTEXT)<<3|on.readBit(cn,nn.UNIFORM_CONTEXT)<<2|on.readBit(cn,nn.UNIFORM_CONTEXT)<<1|on.readBit(cn,nn.UNIFORM_CONTEXT))!==10)throw new _e("Invalid segmentation symbol")}};Ur(nn,"UNIFORM_CONTEXT",17),Ur(nn,"RUNLENGTH_CONTEXT",18),Ur(nn,"LLAndLHContextsLabel",new Uint8Array([0,5,8,0,3,7,8,0,4,7,8,0,0,0,0,0,1,6,8,0,3,7,8,0,4,7,8,0,0,0,0,0,2,6,8,0,3,7,8,0,4,7,8,0,0,0,0,0,2,6,8,0,3,7,8,0,4,7,8,0,0,0,0,0,2,6,8,0,3,7,8,0,4,7,8])),Ur(nn,"HLContextLabel",new Uint8Array([0,3,4,0,5,7,7,0,8,8,8,0,0,0,0,0,1,3,4,0,6,7,7,0,8,8,8,0,0,0,0,0,2,3,4,0,6,7,7,0,8,8,8,0,0,0,0,0,2,3,4,0,6,7,7,0,8,8,8,0,0,0,0,0,2,3,4,0,6,7,7,0,8,8,8])),Ur(nn,"HHContextLabel",new Uint8Array([0,1,2,0,1,2,2,0,2,2,2,0,0,0,0,0,3,4,5,0,4,5,5,0,5,5,5,0,0,0,0,0,6,7,7,0,7,7,7,0,7,7,7,0,0,0,0,0,8,8,8,0,8,8,8,0,8,8,8,0,0,0,0,0,8,8,8,0,8,8,8,0,8,8,8]));let Ht=nn;class an{constructor(){this.constructor===an&&(0,wt.unreachable)("Cannot initialize Transform.")}calculate(on,cn,sn){let rn=on[0];for(let xn=1,vn=on.length;xn<vn;xn++)rn=this.iterate(rn,on[xn],cn,sn);return rn}extend(on,cn,sn){let rn=cn-1,xn=cn+1,vn=cn+sn-2,kn=cn+sn;on[rn--]=on[xn++],on[kn++]=on[vn--],on[rn--]=on[xn++],on[kn++]=on[vn--],on[rn--]=on[xn++],on[kn++]=on[vn--],on[rn]=on[xn],on[kn]=on[vn]}filter(on,cn,sn){(0,wt.unreachable)("Abstract method `filter` called")}iterate(on,cn,sn,rn){const xn=on.width,vn=on.height;let kn=on.items;const Pn=cn.width,On=cn.height,_n=cn.items;let Sn,mn,fn,Jt,ln,pn;for(fn=0,Sn=0;Sn<vn;Sn++)for(Jt=Sn*2*Pn,mn=0;mn<xn;mn++,fn++,Jt+=2)_n[Jt]=kn[fn];kn=on.items=null;const wn=4,Cn=new Float32Array(Pn+2*wn);if(Pn===1){if(sn&1)for(pn=0,fn=0;pn<On;pn++,fn+=Pn)_n[fn]*=.5}else for(pn=0,fn=0;pn<On;pn++,fn+=Pn)Cn.set(_n.subarray(fn,fn+Pn),wn),this.extend(Cn,wn,Pn),this.filter(Cn,wn,Pn),_n.set(Cn.subarray(wn,wn+Pn),fn);let Fn=16;const En=[];for(Sn=0;Sn<Fn;Sn++)En.push(new Float32Array(On+2*wn));let An,Tn=0;if(on=wn+On,On===1){if(rn&1)for(ln=0;ln<Pn;ln++)_n[ln]*=.5}else for(ln=0;ln<Pn;ln++){if(Tn===0){for(Fn=Math.min(Pn-ln,Fn),fn=ln,Jt=wn;Jt<on;fn+=Pn,Jt++)for(An=0;An<Fn;An++)En[An][Jt]=_n[fn+An];Tn=Fn}Tn--;const In=En[Tn];if(this.extend(In,wn,On),this.filter(In,wn,On),Tn===0)for(fn=ln-Fn+1,Jt=wn;Jt<on;fn+=Pn,Jt++)for(An=0;An<Fn;An++)_n[fn+An]=En[An][Jt]}return{width:Pn,height:On,items:_n}}}class zt extends an{filter(on,cn,sn){const rn=sn>>1;cn|=0;let xn,vn,kn,Pn;const On=-1.586134342059924,_n=-.052980118572961,Sn=.882911075530934,mn=.443506852043971,fn=1.230174104914001,Jt=1/fn;for(xn=cn-3,vn=rn+4;vn--;xn+=2)on[xn]*=Jt;for(xn=cn-2,kn=mn*on[xn-1],vn=rn+3;vn--&&(Pn=mn*on[xn+1],on[xn]=fn*on[xn]-kn-Pn,vn--);xn+=2)xn+=2,kn=mn*on[xn+1],on[xn]=fn*on[xn]-kn-Pn;for(xn=cn-1,kn=Sn*on[xn-1],vn=rn+2;vn--&&(Pn=Sn*on[xn+1],on[xn]-=kn+Pn,vn--);xn+=2)xn+=2,kn=Sn*on[xn+1],on[xn]-=kn+Pn;for(xn=cn,kn=_n*on[xn-1],vn=rn+1;vn--&&(Pn=_n*on[xn+1],on[xn]-=kn+Pn,vn--);xn+=2)xn+=2,kn=_n*on[xn+1],on[xn]-=kn+Pn;if(rn!==0)for(xn=cn+1,kn=On*on[xn-1],vn=rn;vn--&&(Pn=On*on[xn+1],on[xn]-=kn+Pn,vn--);xn+=2)xn+=2,kn=On*on[xn+1],on[xn]-=kn+Pn}}class Vt extends an{filter(on,cn,sn){const rn=sn>>1;cn|=0;let xn,vn;for(xn=cn,vn=rn+1;vn--;xn+=2)on[xn]-=on[xn-1]+on[xn+1]+2>>2;for(xn=cn+1,vn=rn;vn--;xn+=2)on[xn]+=on[xn-1]+on[xn+1]>>1}}},(Ct,Et,Ft)=>{Object.defineProperty(Et,"__esModule",{value:!0}),Et.LZWStream=void 0;var wt=Ft(18);class _t extends wt.DecodeStream{constructor(_e,bt,Pt){super(bt),this.str=_e,this.dict=_e.dict,this.cachedData=0,this.bitsCached=0;const Xt=4096,Kt={earlyChange:Pt,codeLength:9,nextCode:258,dictionaryValues:new Uint8Array(Xt),dictionaryLengths:new Uint16Array(Xt),dictionaryPrevCodes:new Uint16Array(Xt),currentSequence:new Uint8Array(Xt),currentSequenceLength:0};for(let Nt=0;Nt<256;++Nt)Kt.dictionaryValues[Nt]=Nt,Kt.dictionaryLengths[Nt]=1;this.lzwState=Kt}readBits(_e){let bt=this.bitsCached,Pt=this.cachedData;for(;bt<_e;){const Xt=this.str.getByte();if(Xt===-1)return this.eof=!0,null;Pt=Pt<<8|Xt,bt+=8}return this.bitsCached=bt-=_e,this.cachedData=Pt,this.lastCode=null,Pt>>>bt&(1<<_e)-1}readBlock(){let Pt=1024,Xt,Kt,Nt;const $t=this.lzwState;if(!$t)return;const Lt=$t.earlyChange;let jt=$t.nextCode;const kt=$t.dictionaryValues,qt=$t.dictionaryLengths,Bt=$t.dictionaryPrevCodes;let Gt=$t.codeLength,en=$t.prevCode;const dn=$t.currentSequence;let Qt=$t.currentSequenceLength,gn=0,tn=this.bufferLength,bn=this.ensureBuffer(this.bufferLength+Pt);for(Xt=0;Xt<512;Xt++){const Wt=this.readBits(Gt),Yt=Qt>0;if(Wt<256)dn[0]=Wt,Qt=1;else if(Wt>=258)if(Wt<jt)for(Qt=qt[Wt],Kt=Qt-1,Nt=Wt;Kt>=0;Kt--)dn[Kt]=kt[Nt],Nt=Bt[Nt];else dn[Qt++]=dn[0];else if(Wt===256){Gt=9,jt=258,Qt=0;continue}else{this.eof=!0,delete this.lzwState;break}if(Yt&&(Bt[jt]=en,qt[jt]=qt[en]+1,kt[jt]=dn[0],jt++,Gt=jt+Lt&jt+Lt-1?Gt:Math.min(Math.log(jt+Lt)/.6931471805599453+1,12)|0),en=Wt,gn+=Qt,Pt<gn){do Pt+=512;while(Pt<gn);bn=this.ensureBuffer(this.bufferLength+Pt)}for(Kt=0;Kt<Qt;Kt++)bn[tn++]=dn[Kt]}$t.nextCode=jt,$t.codeLength=Gt,$t.prevCode=en,$t.currentSequenceLength=Qt,this.bufferLength=tn}}Et.LZWStream=_t},(Ct,Et,Ft)=>{Object.defineProperty(Et,"__esModule",{value:!0}),Et.PredictorStream=void 0;var wt=Ft(18),_t=Ft(4),Rt=Ft(2);class _e extends wt.DecodeStream{constructor(Pt,Xt,Kt){if(super(Xt),!(Kt instanceof _t.Dict))return Pt;const Nt=this.predictor=Kt.get("Predictor")||1;if(Nt<=1)return Pt;if(Nt!==2&&(Nt<10||Nt>15))throw new Rt.FormatError(`Unsupported predictor: ${Nt}`);this.readBlock=Nt===2?this.readBlockTiff:this.readBlockPng,this.str=Pt,this.dict=Pt.dict;const $t=this.colors=Kt.get("Colors")||1,Lt=this.bits=Kt.get("BPC","BitsPerComponent")||8,jt=this.columns=Kt.get("Columns")||1;return this.pixBytes=$t*Lt+7>>3,this.rowBytes=jt*$t*Lt+7>>3,this}readBlockTiff(){const Pt=this.rowBytes,Xt=this.bufferLength,Kt=this.ensureBuffer(Xt+Pt),Nt=this.bits,$t=this.colors,Lt=this.str.getBytes(Pt);if(this.eof=!Lt.length,this.eof)return;let jt=0,kt=0,qt=0,Bt=0,Gt=Xt,en;if(Nt===1&&$t===1)for(en=0;en<Pt;++en){let dn=Lt[en]^jt;dn^=dn>>1,dn^=dn>>2,dn^=dn>>4,jt=(dn&1)<<7,Kt[Gt++]=dn}else if(Nt===8){for(en=0;en<$t;++en)Kt[Gt++]=Lt[en];for(;en<Pt;++en)Kt[Gt]=Kt[Gt-$t]+Lt[en],Gt++}else if(Nt===16){const dn=$t*2;for(en=0;en<dn;++en)Kt[Gt++]=Lt[en];for(;en<Pt;en+=2){const Qt=((Lt[en]&255)<<8)+(Lt[en+1]&255)+((Kt[Gt-dn]&255)<<8)+(Kt[Gt-dn+1]&255);Kt[Gt++]=Qt>>8&255,Kt[Gt++]=Qt&255}}else{const dn=new Uint8Array($t+1),Qt=(1<<Nt)-1;let gn=0,tn=Xt;const bn=this.columns;for(en=0;en<bn;++en)for(let Wt=0;Wt<$t;++Wt)qt<Nt&&(jt=jt<<8|Lt[gn++]&255,qt+=8),dn[Wt]=dn[Wt]+(jt>>qt-Nt)&Qt,qt-=Nt,kt=kt<<Nt|dn[Wt],Bt+=Nt,Bt>=8&&(Kt[tn++]=kt>>Bt-8&255,Bt-=8);Bt>0&&(Kt[tn++]=(kt<<8-Bt)+(jt&(1<<8-Bt)-1))}this.bufferLength+=Pt}readBlockPng(){const Pt=this.rowBytes,Xt=this.pixBytes,Kt=this.str.getByte(),Nt=this.str.getBytes(Pt);if(this.eof=!Nt.length,this.eof)return;const $t=this.bufferLength,Lt=this.ensureBuffer($t+Pt);let jt=Lt.subarray($t-Pt,$t);jt.length===0&&(jt=new Uint8Array(Pt));let kt,qt=$t,Bt,Gt;switch(Kt){case 0:for(kt=0;kt<Pt;++kt)Lt[qt++]=Nt[kt];break;case 1:for(kt=0;kt<Xt;++kt)Lt[qt++]=Nt[kt];for(;kt<Pt;++kt)Lt[qt]=Lt[qt-Xt]+Nt[kt]&255,qt++;break;case 2:for(kt=0;kt<Pt;++kt)Lt[qt++]=jt[kt]+Nt[kt]&255;break;case 3:for(kt=0;kt<Xt;++kt)Lt[qt++]=(jt[kt]>>1)+Nt[kt];for(;kt<Pt;++kt)Lt[qt]=(jt[kt]+Lt[qt-Xt]>>1)+Nt[kt]&255,qt++;break;case 4:for(kt=0;kt<Xt;++kt)Bt=jt[kt],Gt=Nt[kt],Lt[qt++]=Bt+Gt;for(;kt<Pt;++kt){Bt=jt[kt];const en=jt[kt-Xt],dn=Lt[qt-Xt],Qt=dn+Bt-en;let gn=Qt-dn;gn<0&&(gn=-gn);let tn=Qt-Bt;tn<0&&(tn=-tn);let bn=Qt-en;bn<0&&(bn=-bn),Gt=Nt[kt],gn<=tn&&gn<=bn?Lt[qt++]=dn+Gt:tn<=bn?Lt[qt++]=Bt+Gt:Lt[qt++]=en+Gt}break;default:throw new Rt.FormatError(`Unsupported predictor: ${Kt}`)}this.bufferLength+=Pt}}Et.PredictorStream=_e},(Ct,Et,Ft)=>{Object.defineProperty(Et,"__esModule",{value:!0}),Et.RunLengthStream=void 0;var wt=Ft(18);class _t extends wt.DecodeStream{constructor(_e,bt){super(bt),this.str=_e,this.dict=_e.dict}readBlock(){const _e=this.str.getBytes(2);if(!_e||_e.length<2||_e[0]===128){this.eof=!0;return}let bt,Pt=this.bufferLength,Xt=_e[0];if(Xt<128){if(bt=this.ensureBuffer(Pt+Xt+1),bt[Pt++]=_e[1],Xt>0){const Kt=this.str.getBytes(Xt);bt.set(Kt,Pt),Pt+=Xt}}else{Xt=257-Xt;const Kt=_e[1];bt=this.ensureBuffer(Pt+Xt+1);for(let Nt=0;Nt<Xt;Nt++)bt[Pt++]=Kt}this.bufferLength=Pt}}Et.RunLengthStream=_t},(Ct,Et,Ft)=>{Object.defineProperty(Et,"__esModule",{value:!0}),Et.Font=Et.ErrorFont=void 0;var wt=Ft(2),_t=Ft(35),Rt=Ft(38),_e=Ft(40),bt=Ft(39),Pt=Ft(37),Xt=Ft(41),Kt=Ft(42),Nt=Ft(43),$t=Ft(44),Lt=Ft(45),jt=Ft(46),kt=Ft(14),qt=Ft(47),Bt=Ft(3),Gt=Ft(8),en=Ft(48);const dn=[[57344,63743],[1048576,1114109]],Qt=1e3,gn=["ascent","bbox","black","bold","charProcOperatorList","composite","cssFontInfo","data","defaultVMetrics","defaultWidth","descent","fallbackName","fontMatrix","isInvalidPDFjsFont","isType3Font","italic","loadedName","mimetype","missingFile","name","remeasure","subtype","systemFontInfo","type","vertical"],tn=["cMap","defaultEncoding","differences","isMonospace","isSerifFont","isSymbolicFont","seacMap","toFontChar","toUnicode","vmetrics","widths"];function bn(An){if(!An.fontMatrix||An.fontMatrix[0]===wt.FONT_IDENTITY_MATRIX[0])return;const Tn=.001/An.fontMatrix[0],In=An.widths;for(const Rn in In)In[Rn]*=Tn;An.defaultWidth*=Tn}function Wt(An,Tn,In){if(An.isInternalFont||An.hasIncludedToUnicodeMap||An.hasEncoding||An.toUnicode instanceof Kt.IdentityToUnicodeMap||!Tn||In.length===0||An.defaultEncoding===Pt.WinAnsiEncoding)return;for(const Un of In)if(!On(Un))return;const Rn=Pt.WinAnsiEncoding,Dn=[],Ln=(0,bt.getGlyphsUnicode)();for(const Un in Rn){const tr=Rn[Un];if(tr==="")continue;const er=Ln[tr];er!==void 0&&(Dn[Un]=String.fromCharCode(er))}Dn.length>0&&An.toUnicode.amend(Dn)}function Yt(An,Tn){if(An.isInternalFont||An.hasIncludedToUnicodeMap||Tn===An.defaultEncoding||An.toUnicode instanceof Kt.IdentityToUnicodeMap)return;const In=[],Rn=(0,bt.getGlyphsUnicode)();for(const Dn in Tn){if(An.hasEncoding&&(An.baseEncodingName||An.differences[Dn]!==void 0))continue;const Ln=Tn[Dn],Un=(0,_e.getUnicodeForGlyph)(Ln,Rn);Un!==-1&&(In[Dn]=String.fromCharCode(Un))}In.length>0&&An.toUnicode.amend(In)}function un(An){if(!An.fallbackToUnicode||An.toUnicode instanceof Kt.IdentityToUnicodeMap)return;const Tn=[];for(const In in An.fallbackToUnicode)An.toUnicode.has(In)||(Tn[In]=An.fallbackToUnicode[In]);Tn.length>0&&An.toUnicode.amend(Tn)}class Ut{constructor(Tn,In,Rn,Dn,Ln,Un,tr,er,Qn){this.originalCharCode=Tn,this.fontChar=In,this.unicode=Rn,this.accent=Dn,this.width=Ln,this.vmetric=Un,this.operatorListId=tr,this.isSpace=er,this.isInFont=Qn}get category(){return(0,wt.shadow)(this,"category",(0,_e.getCharUnicodeCategory)(this.unicode),!0)}}function Ot(An,Tn){return(An<<8)+Tn}function Ht(An,Tn,In){An[Tn+1]=In,An[Tn]=In>>>8}function an(An,Tn){const In=(An<<8)+Tn;return In&32768?In-65536:In}function zt(An,Tn,In,Rn){return(An<<24)+(Tn<<16)+(In<<8)+Rn}function Vt(An){return String.fromCharCode(An>>8&255,An&255)}function nn(An){return An>32767?An=32767:An<-32768&&(An=-32768),String.fromCharCode(An>>8&255,An&255)}function hn(An){const Tn=An.peekBytes(4);return(0,Bt.readUint32)(Tn,0)===65536||(0,wt.bytesToString)(Tn)==="true"}function on(An){const Tn=An.peekBytes(4);return(0,wt.bytesToString)(Tn)==="ttcf"}function cn(An){const Tn=An.peekBytes(4);return(0,wt.bytesToString)(Tn)==="OTTO"}function sn(An){const Tn=An.peekBytes(2);return Tn[0]===37&&Tn[1]===33||Tn[0]===128&&Tn[1]===1}function rn(An){const Tn=An.peekBytes(4);return Tn[0]>=1&&Tn[3]>=1&&Tn[3]<=4}function xn(An,{type:Tn,subtype:In,composite:Rn}){let Dn,Ln;return hn(An)||on(An)?Dn=Rn?"CIDFontType2":"TrueType":cn(An)?Dn=Rn?"CIDFontType2":"OpenType":sn(An)?Rn?Dn="CIDFontType0":Dn=Tn==="MMType1"?"MMType1":"Type1":rn(An)?Rn?(Dn="CIDFontType0",Ln="CIDFontType0C"):(Dn=Tn==="MMType1"?"MMType1":"Type1",Ln="Type1C"):((0,wt.warn)("getFontFileType: Unable to detect correct font file Type/Subtype."),Dn=Tn,Ln=In),[Dn,Ln]}function vn(An,Tn){for(const In in Tn)An[+In]=Tn[In]}function kn(An,Tn,In){const Rn=[];let Dn;for(let Ln=0,Un=An.length;Ln<Un;Ln++)Dn=(0,_e.getUnicodeForGlyph)(An[Ln],Tn),Dn!==-1&&(Rn[Ln]=Dn);for(const Ln in In)Dn=(0,_e.getUnicodeForGlyph)(In[Ln],Tn),Dn!==-1&&(Rn[+Ln]=Dn);return Rn}function Pn(An){return An.platform===1&&An.encoding===0&&An.language===0}function On(An){return An.platform===3&&An.encoding===1&&An.language===1033}function _n(An,Tn,In=!1){switch(Tn.length){case 1:return Tn.charCodeAt(0);case 2:return Tn.charCodeAt(0)<<8|Tn.charCodeAt(1)}const Rn=`Unsupported CID string (charCode ${An}): "${Tn}".`;if(In)throw new wt.FormatError(Rn);return(0,wt.warn)(Rn),Tn}function Sn(An,Tn,In,Rn){const Dn=Object.create(null),Ln=new Map,Un=[],tr=new Set;let er=0,Yn=dn[er][0],Xn=dn[er][1];const nr=lr=>dn[0][0]<=lr&&lr<=dn[0][1]||dn[1][0]<=lr&&lr<=dn[1][1];for(let lr in An){lr|=0;let dr=An[lr];if(!Tn(dr))continue;if(Yn>Xn){if(er++,er>=dn.length){(0,wt.warn)("Ran out of space in font private use area.");break}Yn=dn[er][0],Xn=dn[er][1]}const Bn=Yn++;dr===0&&(dr=In);let Hn=Rn.get(lr);typeof Hn=="string"&&(Hn=Hn.codePointAt(0)),Hn&&!nr(Hn)&&!tr.has(dr)&&(Ln.set(Hn,dr),tr.add(dr)),Dn[Bn]=dr,Un[lr]=Bn}return{toFontChar:Un,charCodeToGlyphId:Dn,toUnicodeExtraMap:Ln,nextAvailableFontCharCode:Yn}}function mn(An,Tn,In){const Rn=[];for(const Un in An)An[Un]>=In||Rn.push({fontCharCode:Un|0,glyphId:An[Un]});if(Tn)for(const[Un,tr]of Tn)tr>=In||Rn.push({fontCharCode:Un,glyphId:tr});Rn.length===0&&Rn.push({fontCharCode:0,glyphId:0}),Rn.sort(function(tr,er){return tr.fontCharCode-er.fontCharCode});const Dn=[],Ln=Rn.length;for(let Un=0;Un<Ln;){const tr=Rn[Un].fontCharCode,er=[Rn[Un].glyphId];++Un;let Qn=tr;for(;Un<Ln&&Qn+1===Rn[Un].fontCharCode&&(er.push(Rn[Un].glyphId),++Qn,++Un,Qn!==65535););Dn.push([tr,Qn,er])}return Dn}function fn(An,Tn,In){const Rn=mn(An,Tn,In),Dn=Rn.at(-1)[1]>65535?2:1;let Ln="\0\0"+Vt(Dn)+"\0\0"+(0,wt.string32)(4+Dn*8),Un,tr,er,Qn;for(Un=Rn.length-1;Un>=0&&!(Rn[Un][0]<=65535);--Un);const Yn=Un+1;Rn[Un][0]<65535&&Rn[Un][1]===65535&&(Rn[Un][1]=65534);const Xn=Rn[Un][1]<65535?1:0,nr=Yn+Xn,lr=qt.OpenTypeFileBuilder.getSearchParams(nr,2);let dr="",Bn="",Hn="",Wn="",cr="",sr=0,xr,Jn,Vn,Zn;for(Un=0,tr=Yn;Un<tr;Un++){xr=Rn[Un],Jn=xr[0],Vn=xr[1],dr+=Vt(Jn),Bn+=Vt(Vn),Zn=xr[2];let pr=!0;for(er=1,Qn=Zn.length;er<Qn;++er)if(Zn[er]!==Zn[er-1]+1){pr=!1;break}if(pr){const wr=Zn[0];Hn+=Vt(wr-Jn&65535),Wn+=Vt(0)}else{const wr=(nr-Un)*2+sr*2;for(sr+=Vn-Jn+1,Hn+=Vt(0),Wn+=Vt(wr),er=0,Qn=Zn.length;er<Qn;++er)cr+=Vt(Zn[er])}}Xn>0&&(Bn+="",dr+="",Hn+="\0",Wn+="\0\0");const ur="\0\0"+Vt(2*nr)+Vt(lr.range)+Vt(lr.entry)+Vt(lr.rangeShift)+Bn+"\0\0"+dr+Hn+Wn+cr;let hr="",or="";if(Dn>1){for(Ln+=`\0\0
`+(0,wt.string32)(4+Dn*8+4+ur.length),hr="",Un=0,tr=Rn.length;Un<tr;Un++){xr=Rn[Un],Jn=xr[0],Zn=xr[2];let pr=Zn[0];for(er=1,Qn=Zn.length;er<Qn;++er)Zn[er]!==Zn[er-1]+1&&(Vn=xr[0]+er-1,hr+=(0,wt.string32)(Jn)+(0,wt.string32)(Vn)+(0,wt.string32)(pr),Jn=Vn+1,pr=Zn[er]);hr+=(0,wt.string32)(Jn)+(0,wt.string32)(xr[1])+(0,wt.string32)(pr)}or="\0\f\0\0"+(0,wt.string32)(hr.length+16)+"\0\0\0\0"+(0,wt.string32)(hr.length/12)}return Ln+"\0"+Vt(ur.length+4)+ur+or+hr}function Jt(An,Tn){Tn.pos=(Tn.start||0)+An.offset;const In=Tn.getUint16();Tn.skip(60);const Rn=Tn.getUint16();if(In<4&&Rn&768)return!1;const Dn=Tn.getUint16(),Ln=Tn.getUint16();return Dn>Ln||(Tn.skip(6),Tn.getUint16()===0)?!1:(An.data[8]=An.data[9]=0,!0)}function ln(An,Tn,In){In||(In={unitsPerEm:0,yMax:0,yMin:0,ascent:0,descent:0});let Rn=0,Dn=0,Ln=0,Un=0,tr=null,er=0,Qn=-1;if(Tn){for(let Wn in Tn)if(Wn|=0,(tr>Wn||!tr)&&(tr=Wn),er<Wn&&(er=Wn),Qn=(0,_e.getUnicodeRangeFor)(Wn,Qn),Qn<32)Rn|=1<<Qn;else if(Qn<64)Dn|=1<<Qn-32;else if(Qn<96)Ln|=1<<Qn-64;else if(Qn<123)Un|=1<<Qn-96;else throw new wt.FormatError("Unicode ranges Bits > 123 are reserved for internal usage");er>65535&&(er=65535)}else tr=0,er=255;const Yn=An.bbox||[0,0,0,0],Xn=In.unitsPerEm||1/(An.fontMatrix||wt.FONT_IDENTITY_MATRIX)[0],nr=An.ascentScaled?1:Xn/Qt,lr=In.ascent||Math.round(nr*(An.ascent||Yn[3]));let dr=In.descent||Math.round(nr*(An.descent||Yn[1]));dr>0&&An.descent>0&&Yn[1]<0&&(dr=-dr);const Bn=In.yMax||lr,Hn=-In.yMin||-dr;return"\0$\0\0\0\0\0\0\0\0\x001\0\0\0\0"+String.fromCharCode(An.fixedPitch?9:0)+"\0\0\0\0\0\0"+(0,wt.string32)(Rn)+(0,wt.string32)(Dn)+(0,wt.string32)(Ln)+(0,wt.string32)(Un)+"*21*"+Vt(An.italicAngle?1:0)+Vt(tr||An.firstChar)+Vt(er||An.lastChar)+Vt(lr)+Vt(dr)+"\0d"+Vt(Bn)+Vt(Hn)+"\0\0\0\0\0\0\0\0"+Vt(An.xHeight)+Vt(An.capHeight)+Vt(0)+Vt(tr||An.firstChar)+"\0"}function pn(An){const Tn=Math.floor(An.italicAngle*65536);return"\0\0\0"+(0,wt.string32)(Tn)+"\0\0\0\0"+(0,wt.string32)(An.fixedPitch?1:0)+"\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0"}function wn(An){return An.replaceAll(/[^\x21-\x7E]|[[\](){}<>/%]/g,"").slice(0,63)}function Cn(An,Tn){Tn||(Tn=[[],[]]);const In=[Tn[0][0]||"Original licence",Tn[0][1]||An,Tn[0][2]||"Unknown",Tn[0][3]||"uniqueID",Tn[0][4]||An,Tn[0][5]||"Version 0.11",Tn[0][6]||wn(An),Tn[0][7]||"Unknown",Tn[0][8]||"Unknown",Tn[0][9]||"Unknown"],Rn=[];let Dn,Ln,Un,tr,er;for(Dn=0,Ln=In.length;Dn<Ln;Dn++){er=Tn[1][Dn]||In[Dn];const Hn=[];for(Un=0,tr=er.length;Un<tr;Un++)Hn.push(Vt(er.charCodeAt(Un)));Rn.push(Hn.join(""))}const Qn=[In,Rn],Yn=["\0","\0"],Xn=["\0\0","\0"],nr=["\0\0","	"],lr=In.length*Yn.length;let dr="\0\0"+Vt(lr)+Vt(lr*12+6),Bn=0;for(Dn=0,Ln=Yn.length;Dn<Ln;Dn++){const Hn=Qn[Dn];for(Un=0,tr=Hn.length;Un<tr;Un++){er=Hn[Un];const Wn=Yn[Dn]+Xn[Dn]+nr[Dn]+Vt(Un)+Vt(er.length)+Vt(Bn);dr+=Wn,Bn+=er.length}}return dr+=In.join("")+Rn.join(""),dr}class Fn{constructor(Tn,In,Rn){var Qn;this.name=Tn,this.psName=null,this.mimetype=null,this.disableFontFace=!1,this.loadedName=Rn.loadedName,this.isType3Font=Rn.isType3Font,this.missingFile=!1,this.cssFontInfo=Rn.cssFontInfo,this._charsCache=Object.create(null),this._glyphCache=Object.create(null);let Dn=!!(Rn.flags&Rt.FontFlags.Serif);if(!Dn&&!Rn.isSimulatedFlags){const Yn=Tn.replaceAll(/[,_]/g,"-").split("-")[0],Xn=(0,Xt.getSerifFonts)();for(const nr of Yn.split("+"))if(Xn[nr]){Dn=!0;break}}this.isSerifFont=Dn,this.isSymbolicFont=!!(Rn.flags&Rt.FontFlags.Symbolic),this.isMonospace=!!(Rn.flags&Rt.FontFlags.FixedPitch);let{type:Ln,subtype:Un}=Rn;this.type=Ln,this.subtype=Un,this.systemFontInfo=Rn.systemFontInfo;const tr=Tn.match(/^InvalidPDFjsFont_(.*)_\d+$/);if(this.isInvalidPDFjsFont=!!tr,this.isInvalidPDFjsFont?this.fallbackName=tr[1]:this.isMonospace?this.fallbackName="monospace":this.isSerifFont?this.fallbackName="serif":this.fallbackName="sans-serif",(Qn=this.systemFontInfo)!=null&&Qn.guessFallback&&(this.systemFontInfo.guessFallback=!1,this.systemFontInfo.css+=`,${this.fallbackName}`),this.differences=Rn.differences,this.widths=Rn.widths,this.defaultWidth=Rn.defaultWidth,this.composite=Rn.composite,this.cMap=Rn.cMap,this.capHeight=Rn.capHeight/Qt,this.ascent=Rn.ascent/Qt,this.descent=Rn.descent/Qt,this.lineHeight=this.ascent-this.descent,this.fontMatrix=Rn.fontMatrix,this.bbox=Rn.bbox,this.defaultEncoding=Rn.defaultEncoding,this.toUnicode=Rn.toUnicode,this.toFontChar=[],Rn.type==="Type3"){for(let Yn=0;Yn<256;Yn++)this.toFontChar[Yn]=this.differences[Yn]||Rn.defaultEncoding[Yn];return}if(this.cidEncoding=Rn.cidEncoding||"",this.vertical=!!Rn.vertical,this.vertical&&(this.vmetrics=Rn.vmetrics,this.defaultVMetrics=Rn.defaultVMetrics),!In||In.isEmpty){In&&(0,wt.warn)('Font file is empty in "'+Tn+'" ('+this.loadedName+")"),this.fallbackToSystemFont(Rn);return}[Ln,Un]=xn(In,Rn),(Ln!==this.type||Un!==this.subtype)&&(0,wt.info)(`Inconsistent font file Type/SubType, expected: ${this.type}/${this.subtype} but found: ${Ln}/${Un}.`);let er;try{switch(Ln){case"MMType1":(0,wt.info)("MMType1 font ("+Tn+"), falling back to Type1.");case"Type1":case"CIDFontType0":this.mimetype="font/opentype";const Yn=Un==="Type1C"||Un==="CIDFontType0C"?new Nt.CFFFont(In,Rn):new en.Type1Font(Tn,In,Rn);bn(Rn),er=this.convert(Tn,Yn,Rn);break;case"OpenType":case"TrueType":case"CIDFontType2":this.mimetype="font/opentype",er=this.checkAndRepair(Tn,In,Rn),this.isOpenType&&(bn(Rn),Ln="OpenType");break;default:throw new wt.FormatError(`Font ${Ln} is not supported`)}}catch(Yn){(0,wt.warn)(Yn),this.fallbackToSystemFont(Rn);return}un(Rn),this.data=er,this.type=Ln,this.subtype=Un,this.fontMatrix=Rn.fontMatrix,this.widths=Rn.widths,this.defaultWidth=Rn.defaultWidth,this.toUnicode=Rn.toUnicode,this.seacMap=Rn.seacMap}get renderer(){const Tn=$t.FontRendererFactory.create(this,Rt.SEAC_ANALYSIS_ENABLED);return(0,wt.shadow)(this,"renderer",Tn)}exportData(Tn=!1){const In=Tn?[...gn,...tn]:gn,Rn=Object.create(null);let Dn,Ln;for(Dn of In)Ln=this[Dn],Ln!==void 0&&(Rn[Dn]=Ln);return Rn}fallbackToSystemFont(Tn){this.missingFile=!0;const{name:In,type:Rn}=this;let Dn=(0,Rt.normalizeFontName)(In);const Ln=(0,Xt.getStdFontMap)(),Un=(0,Xt.getNonStdFontMap)(),tr=!!Ln[Dn],er=!!(Un[Dn]&&Ln[Un[Dn]]);Dn=Ln[Dn]||Un[Dn]||Dn;const Yn=(0,Lt.getFontBasicMetrics)()[Dn];Yn&&(isNaN(this.ascent)&&(this.ascent=Yn.ascent/Qt),isNaN(this.descent)&&(this.descent=Yn.descent/Qt),isNaN(this.capHeight)&&(this.capHeight=Yn.capHeight/Qt)),this.bold=/bold/gi.test(Dn),this.italic=/oblique|italic/gi.test(Dn),this.black=/Black/g.test(In);const Xn=/Narrow/g.test(In);if(this.remeasure=(!tr||Xn)&&Object.keys(this.widths).length>0,(tr||er)&&Rn==="CIDFontType2"&&this.cidEncoding.startsWith("Identity-")){const nr=Tn.cidToGidMap,lr=[];if(vn(lr,(0,Xt.getGlyphMapForStandardFonts)()),/Arial-?Black/i.test(In)?vn(lr,(0,Xt.getSupplementalGlyphMapForArialBlack)()):/Calibri/i.test(In)&&vn(lr,(0,Xt.getSupplementalGlyphMapForCalibri)()),nr){for(const dr in lr){const Bn=lr[dr];nr[Bn]!==void 0&&(lr[+dr]=nr[Bn])}nr.length!==this.toUnicode.length&&Tn.hasIncludedToUnicodeMap&&this.toUnicode instanceof Kt.IdentityToUnicodeMap&&this.toUnicode.forEach(function(dr,Bn){const Hn=lr[dr];nr[Hn]===void 0&&(lr[+dr]=Bn)})}this.toUnicode instanceof Kt.IdentityToUnicodeMap||this.toUnicode.forEach(function(dr,Bn){lr[+dr]=Bn}),this.toFontChar=lr,this.toUnicode=new Kt.ToUnicodeMap(lr)}else if(/Symbol/i.test(Dn))this.toFontChar=kn(Pt.SymbolSetEncoding,(0,bt.getGlyphsUnicode)(),this.differences);else if(/Dingbats/i.test(Dn))this.toFontChar=kn(Pt.ZapfDingbatsEncoding,(0,bt.getDingbatsGlyphsUnicode)(),this.differences);else if(tr){const nr=kn(this.defaultEncoding,(0,bt.getGlyphsUnicode)(),this.differences);Rn==="CIDFontType2"&&!this.cidEncoding.startsWith("Identity-")&&!(this.toUnicode instanceof Kt.IdentityToUnicodeMap)&&this.toUnicode.forEach(function(lr,dr){nr[+lr]=dr}),this.toFontChar=nr}else{const nr=(0,bt.getGlyphsUnicode)(),lr=[];this.toUnicode.forEach((dr,Bn)=>{if(!this.composite){const Hn=this.differences[dr]||this.defaultEncoding[dr],Wn=(0,_e.getUnicodeForGlyph)(Hn,nr);Wn!==-1&&(Bn=Wn)}lr[+dr]=Bn}),this.composite&&this.toUnicode instanceof Kt.IdentityToUnicodeMap&&/Tahoma|Verdana/i.test(In)&&vn(lr,(0,Xt.getGlyphMapForStandardFonts)()),this.toFontChar=lr}un(Tn),this.loadedName=Dn.split("-")[0]}checkAndRepair(Tn,In,Rn){var ns,Ns,Gs;const Dn=["OS/2","cmap","head","hhea","hmtx","maxp","name","post","loca","glyf","fpgm","prep","cvt ","CFF "];function Ln(vr,yr){const Sr=Object.create(null);Sr["OS/2"]=null,Sr.cmap=null,Sr.head=null,Sr.hhea=null,Sr.hmtx=null,Sr.maxp=null,Sr.name=null,Sr.post=null;for(let Rr=0;Rr<yr;Rr++){const jr=Un(vr);Dn.includes(jr.tag)&&jr.length!==0&&(Sr[jr.tag]=jr)}return Sr}function Un(vr){const yr=vr.getString(4),Sr=vr.getInt32()>>>0,Rr=vr.getInt32()>>>0,jr=vr.getInt32()>>>0,es=vr.pos;vr.pos=vr.start||0,vr.skip(Rr);const Or=vr.getBytes(jr);return vr.pos=es,yr==="head"&&(Or[8]=Or[9]=Or[10]=Or[11]=0,Or[17]|=32),{tag:yr,checksum:Sr,length:jr,offset:Rr,data:Or}}function tr(vr){return{version:vr.getString(4),numTables:vr.getUint16(),searchRange:vr.getUint16(),entrySelector:vr.getUint16(),rangeShift:vr.getUint16()}}function er(vr){const yr=vr.getString(4);(0,wt.assert)(yr==="ttcf","Must be a TrueType Collection font.");const Sr=vr.getUint16(),Rr=vr.getUint16(),jr=vr.getInt32()>>>0,es=[];for(let Tr=0;Tr<jr;Tr++)es.push(vr.getInt32()>>>0);const Or={ttcTag:yr,majorVersion:Sr,minorVersion:Rr,numFonts:jr,offsetTable:es};switch(Sr){case 1:return Or;case 2:return Or.dsigTag=vr.getInt32()>>>0,Or.dsigLength=vr.getInt32()>>>0,Or.dsigOffset=vr.getInt32()>>>0,Or}throw new wt.FormatError(`Invalid TrueType Collection majorVersion: ${Sr}.`)}function Qn(vr,yr){var Or;const{numFonts:Sr,offsetTable:Rr}=er(vr),jr=yr.split("+");let es;for(let Tr=0;Tr<Sr;Tr++){vr.pos=(vr.start||0)+Rr[Tr];const Vr=tr(vr),us=Ln(vr,Vr.numTables);if(!us.name)throw new wt.FormatError('TrueType Collection font must contain a "name" table.');const[bs]=Hn(us.name);for(let Jr=0,ss=bs.length;Jr<ss;Jr++)for(let ms=0,Wr=bs[Jr].length;ms<Wr;ms++){const hs=(Or=bs[Jr][ms])==null?void 0:Or.replaceAll(/\s/g,"");if(hs){if(hs===yr)return{header:Vr,tables:us};if(!(jr.length<2))for(const zr of jr)hs===zr&&(es={name:zr,header:Vr,tables:us})}}}if(es)return(0,wt.warn)(`TrueType Collection does not contain "${yr}" font, falling back to "${es.name}" font instead.`),{header:es.header,tables:es.tables};throw new wt.FormatError(`TrueType Collection does not contain "${yr}" font.`)}function Yn(vr,yr,Sr,Rr){if(!vr)return(0,wt.warn)("No cmap table available."),{platformId:-1,encodingId:-1,mappings:[],hasShortCmap:!1};let jr,es=(yr.start||0)+vr.offset;yr.pos=es,yr.skip(2);const Or=yr.getUint16();let Tr,Vr=!1;for(let Wr=0;Wr<Or;Wr++){const hs=yr.getUint16(),zr=yr.getUint16(),gs=yr.getInt32()>>>0;let ws=!1;if(!((Tr==null?void 0:Tr.platformId)===hs&&(Tr==null?void 0:Tr.encodingId)===zr)){if(hs===0&&(zr===0||zr===1||zr===3))ws=!0;else if(hs===1&&zr===0)ws=!0;else if(hs===3&&zr===1&&(Rr||!Tr))ws=!0,Sr||(Vr=!0);else if(Sr&&hs===3&&zr===0){ws=!0;let io=!0;if(Wr<Or-1){const ds=yr.peekBytes(2);Ot(ds[0],ds[1])<hs&&(io=!1)}io&&(Vr=!0)}if(ws&&(Tr={platformId:hs,encodingId:zr,offset:gs}),Vr)break}}if(Tr&&(yr.pos=es+Tr.offset),!Tr||yr.peekByte()===-1)return(0,wt.warn)("Could not find a preferred cmap table."),{platformId:-1,encodingId:-1,mappings:[],hasShortCmap:!1};const us=yr.getUint16();let bs=!1;const Jr=[];let ss,ms;if(us===0){for(yr.skip(4),ss=0;ss<256;ss++){const Wr=yr.getByte();Wr&&Jr.push({charCode:ss,glyphId:Wr})}bs=!0}else if(us===2){yr.skip(4);const Wr=[];let hs=0;for(let gs=0;gs<256;gs++){const ws=yr.getUint16()>>3;Wr.push(ws),hs=Math.max(ws,hs)}const zr=[];for(let gs=0;gs<=hs;gs++)zr.push({firstCode:yr.getUint16(),entryCount:yr.getUint16(),idDelta:an(yr.getByte(),yr.getByte()),idRangePos:yr.pos+yr.getUint16()});for(let gs=0;gs<256;gs++)if(Wr[gs]===0)yr.pos=zr[0].idRangePos+2*gs,ms=yr.getUint16(),Jr.push({charCode:gs,glyphId:ms});else{const ws=zr[Wr[gs]];for(ss=0;ss<ws.entryCount;ss++){const io=(gs<<8)+ss+ws.firstCode;yr.pos=ws.idRangePos+2*ss,ms=yr.getUint16(),ms!==0&&(ms=(ms+ws.idDelta)%65536),Jr.push({charCode:io,glyphId:ms})}}}else if(us===4){yr.skip(4);const Wr=yr.getUint16()>>1;yr.skip(6);const hs=[];let zr;for(zr=0;zr<Wr;zr++)hs.push({end:yr.getUint16()});for(yr.skip(2),zr=0;zr<Wr;zr++)hs[zr].start=yr.getUint16();for(zr=0;zr<Wr;zr++)hs[zr].delta=yr.getUint16();let gs=0,ws;for(zr=0;zr<Wr;zr++){jr=hs[zr];const ds=yr.getUint16();if(!ds){jr.offsetIndex=-1;continue}ws=(ds>>1)-(Wr-zr),jr.offsetIndex=ws,gs=Math.max(gs,ws+jr.end-jr.start+1)}const io=[];for(ss=0;ss<gs;ss++)io.push(yr.getUint16());for(zr=0;zr<Wr;zr++){jr=hs[zr],es=jr.start;const ds=jr.end,fs=jr.delta;for(ws=jr.offsetIndex,ss=es;ss<=ds;ss++)ss!==65535&&(ms=ws<0?ss:io[ws+ss-es],ms=ms+fs&65535,Jr.push({charCode:ss,glyphId:ms}))}}else if(us===6){yr.skip(4);const Wr=yr.getUint16(),hs=yr.getUint16();for(ss=0;ss<hs;ss++){ms=yr.getUint16();const zr=Wr+ss;Jr.push({charCode:zr,glyphId:ms})}}else if(us===12){yr.skip(10);const Wr=yr.getInt32()>>>0;for(ss=0;ss<Wr;ss++){const hs=yr.getInt32()>>>0,zr=yr.getInt32()>>>0;let gs=yr.getInt32()>>>0;for(let ws=hs;ws<=zr;ws++)Jr.push({charCode:ws,glyphId:gs++})}}else return(0,wt.warn)("cmap table has unsupported format: "+us),{platformId:-1,encodingId:-1,mappings:[],hasShortCmap:!1};Jr.sort(function(Wr,hs){return Wr.charCode-hs.charCode});for(let Wr=1;Wr<Jr.length;Wr++)Jr[Wr-1].charCode===Jr[Wr].charCode&&(Jr.splice(Wr,1),Wr--);return{platformId:Tr.platformId,encodingId:Tr.encodingId,mappings:Jr,hasShortCmap:bs}}function Xn(vr,yr,Sr,Rr,jr,es){if(!yr){Sr&&(Sr.data=null);return}vr.pos=(vr.start||0)+yr.offset,vr.pos+=4,vr.pos+=2,vr.pos+=2,vr.pos+=2,vr.pos+=2,vr.pos+=2,vr.pos+=2,vr.pos+=2,vr.pos+=2,vr.pos+=2;const Or=vr.getUint16();vr.pos+=8,vr.pos+=2;let Tr=vr.getUint16();Or!==0&&(Ot(Rr.data[44],Rr.data[45])&2||(yr.data[22]=0,yr.data[23]=0)),Tr>jr&&((0,wt.info)(`The numOfMetrics (${Tr}) should not be greater than the numGlyphs (${jr}).`),Tr=jr,yr.data[34]=(Tr&65280)>>8,yr.data[35]=Tr&255);const us=jr-Tr-(Sr.length-Tr*4>>1);if(us>0){const bs=new Uint8Array(Sr.length+us*2);bs.set(Sr.data),es&&(bs[Sr.length]=Sr.data[2],bs[Sr.length+1]=Sr.data[3]),Sr.data=bs}}function nr(vr,yr,Sr,Rr,jr,es){const Or={length:0,sizeOfInstructions:0};if(yr<0||yr>=vr.length||Sr>vr.length||Sr-yr<=12)return Or;const Tr=vr.subarray(yr,Sr),Vr=an(Tr[2],Tr[3]),us=an(Tr[4],Tr[5]),bs=an(Tr[6],Tr[7]),Jr=an(Tr[8],Tr[9]);Vr>bs&&(Ht(Tr,2,bs),Ht(Tr,6,Vr)),us>Jr&&(Ht(Tr,4,Jr),Ht(Tr,8,us));const ss=an(Tr[0],Tr[1]);if(ss<0)return ss<-1||(Rr.set(Tr,jr),Or.length=Tr.length),Or;let ms,Wr=10,hs=0;for(ms=0;ms<ss;ms++)hs=(Tr[Wr]<<8|Tr[Wr+1])+1,Wr+=2;const zr=Wr,gs=Tr[Wr]<<8|Tr[Wr+1];Or.sizeOfInstructions=gs,Wr+=2+gs;const ws=Wr;let io=0;for(ms=0;ms<hs;ms++){const fs=Tr[Wr++];fs&192&&(Tr[Wr-1]=fs&63);let $s=2;fs&2?$s=1:fs&16&&($s=0);let Ys=2;fs&4?Ys=1:fs&32&&(Ys=0);const wo=$s+Ys;if(io+=wo,fs&8){const Tl=Tr[Wr++];Tl===0&&(Tr[Wr-1]^=8),ms+=Tl,io+=Tl*wo}}if(io===0)return Or;let ds=Wr+io;return ds>Tr.length?Or:!es&&gs>0?(Rr.set(Tr.subarray(0,zr),jr),Rr.set([0,0],jr+zr),Rr.set(Tr.subarray(ws,ds),jr+zr+2),ds-=gs,Tr.length-ds>3&&(ds=ds+3&-4),Or.length=ds,Or):Tr.length-ds>3?(ds=ds+3&-4,Rr.set(Tr.subarray(0,ds),jr),Or.length=ds,Or):(Rr.set(Tr,jr),Or.length=Tr.length,Or)}function lr(vr,yr,Sr){const Rr=vr.data,jr=zt(Rr[0],Rr[1],Rr[2],Rr[3]);jr>>16!==1&&((0,wt.info)("Attempting to fix invalid version in head table: "+jr),Rr[0]=0,Rr[1]=1,Rr[2]=0,Rr[3]=0);const es=Ot(Rr[50],Rr[51]);if(es<0||es>1){(0,wt.info)("Attempting to fix invalid indexToLocFormat in head table: "+es);const Or=yr+1;if(Sr===Or<<1)Rr[50]=0,Rr[51]=0;else if(Sr===Or<<2)Rr[50]=0,Rr[51]=1;else throw new wt.FormatError("Could not fix indexToLocFormat: "+es)}}function dr(vr,yr,Sr,Rr,jr,es,Or){let Tr,Vr,us;Rr?(Tr=4,Vr=function($s,Ys){return $s[Ys]<<24|$s[Ys+1]<<16|$s[Ys+2]<<8|$s[Ys+3]},us=function($s,Ys,wo){$s[Ys]=wo>>>24&255,$s[Ys+1]=wo>>16&255,$s[Ys+2]=wo>>8&255,$s[Ys+3]=wo&255}):(Tr=2,Vr=function($s,Ys){return $s[Ys]<<9|$s[Ys+1]<<1},us=function($s,Ys,wo){$s[Ys]=wo>>9&255,$s[Ys+1]=wo>>1&255});const bs=es?Sr+1:Sr,Jr=Tr*(1+bs),ss=new Uint8Array(Jr);ss.set(vr.data.subarray(0,Jr)),vr.data=ss;const ms=yr.data,Wr=ms.length,hs=new Uint8Array(Wr);let zr,gs;const ws=[];for(zr=0,gs=0;zr<Sr+1;zr++,gs+=Tr){let fs=Vr(ss,gs);fs>Wr&&(fs=Wr),ws.push({index:zr,offset:fs,endOffset:0})}for(ws.sort((fs,$s)=>fs.offset-$s.offset),zr=0;zr<Sr;zr++)ws[zr].endOffset=ws[zr+1].offset;for(ws.sort((fs,$s)=>fs.index-$s.index),zr=0;zr<Sr;zr++){const{offset:fs,endOffset:$s}=ws[zr];if(fs!==0||$s!==0)break;const Ys=ws[zr+1].offset;if(Ys!==0){ws[zr].endOffset=Ys;break}}const io=Object.create(null);let ds=0;for(us(ss,0,ds),zr=0,gs=Tr;zr<Sr;zr++,gs+=Tr){const fs=nr(ms,ws[zr].offset,ws[zr].endOffset,hs,ds,jr),$s=fs.length;$s===0&&(io[zr]=!0),fs.sizeOfInstructions>Or&&(Or=fs.sizeOfInstructions),ds+=$s,us(ss,gs,ds)}if(ds===0){const fs=new Uint8Array([0,1,0,0,0,0,0,0,0,0,0,0,0,0,49,0]);for(zr=0,gs=Tr;zr<bs;zr++,gs+=Tr)us(ss,gs,fs.length);yr.data=fs}else if(es){const fs=Vr(ss,Tr);hs.length>fs+ds?yr.data=hs.subarray(0,fs+ds):(yr.data=new Uint8Array(fs+ds),yr.data.set(hs.subarray(0,ds))),yr.data.set(hs.subarray(0,fs),ds),us(vr.data,ss.length-Tr,ds+fs)}else yr.data=hs.subarray(0,ds);return{missingGlyphs:io,maxSizeOfInstructions:Or}}function Bn(vr,yr,Sr){const Rr=(In.start||0)+vr.offset;In.pos=Rr;const jr=vr.length,es=Rr+jr,Or=In.getInt32();In.skip(28);let Tr,Vr=!0,us;switch(Or){case 65536:Tr=Rt.MacStandardGlyphOrdering;break;case 131072:const bs=In.getUint16();if(bs!==Sr){Vr=!1;break}const Jr=[];for(us=0;us<bs;++us){const Wr=In.getUint16();if(Wr>=32768){Vr=!1;break}Jr.push(Wr)}if(!Vr)break;const ss=[],ms=[];for(;In.pos<es;){const Wr=In.getByte();for(ms.length=Wr,us=0;us<Wr;++us)ms[us]=String.fromCharCode(In.getByte());ss.push(ms.join(""))}for(Tr=[],us=0;us<bs;++us){const Wr=Jr[us];if(Wr<258){Tr.push(Rt.MacStandardGlyphOrdering[Wr]);continue}Tr.push(ss[Wr-258])}break;case 196608:break;default:(0,wt.warn)("Unknown/unsupported post table version "+Or),Vr=!1,yr.defaultEncoding&&(Tr=yr.defaultEncoding);break}return yr.glyphNames=Tr,Vr}function Hn(vr){const yr=(In.start||0)+vr.offset;In.pos=yr;const Sr=[[],[]],Rr=[],jr=vr.length,es=yr+jr;if(In.getUint16()!==0||jr<6)return[Sr,Rr];const Vr=In.getUint16(),us=In.getUint16(),bs=12;let Jr,ss;for(Jr=0;Jr<Vr&&In.pos+bs<=es;Jr++){const ms={platform:In.getUint16(),encoding:In.getUint16(),language:In.getUint16(),name:In.getUint16(),length:In.getUint16(),offset:In.getUint16()};(Pn(ms)||On(ms))&&Rr.push(ms)}for(Jr=0,ss=Rr.length;Jr<ss;Jr++){const ms=Rr[Jr];if(ms.length<=0)continue;const Wr=yr+us+ms.offset;if(Wr+ms.length>es)continue;In.pos=Wr;const hs=ms.name;if(ms.encoding){let zr="";for(let gs=0,ws=ms.length;gs<ws;gs+=2)zr+=String.fromCharCode(In.getUint16());Sr[1][hs]=zr}else Sr[0][hs]=In.getString(ms.length)}return[Sr,Rr]}const Wn=[0,0,0,0,0,0,0,0,-2,-2,-2,-2,0,0,-2,-5,-1,-1,-1,-1,-1,-1,-1,-1,0,0,-1,0,-1,-1,-1,-1,1,-1,-999,0,1,0,-1,-2,0,-1,-2,-1,-1,0,-1,-1,0,0,-999,-999,-1,-1,-1,-1,-2,-999,-2,-2,-999,0,-2,-2,0,0,-2,0,-2,0,0,0,-2,-1,-1,1,1,0,0,-1,-1,-1,-1,-1,-1,-1,0,0,-1,0,-1,-1,0,-999,-1,-1,-1,-1,-1,-1,0,0,0,0,0,0,0,0,0,0,0,0,-2,-999,-999,-999,-999,-999,-1,-1,-2,-2,0,0,0,0,-1,-1,-999,-2,-2,0,0,-1,-2,-2,0,0,0,-1,-1,-1,-2];function cr(vr,yr){let Sr=vr.data,Rr=0,jr,es,Or,Tr,Vr,us=0,bs=0;const Jr=[],ss=[],ms=[];let Wr=yr.tooComplexToFollowFunctions,hs=!1,zr=0,gs=0;for(let io=Sr.length;Rr<io;){const ds=Sr[Rr++];if(ds===64)if(es=Sr[Rr++],hs||gs)Rr+=es;else for(jr=0;jr<es;jr++)Jr.push(Sr[Rr++]);else if(ds===65)if(es=Sr[Rr++],hs||gs)Rr+=es*2;else for(jr=0;jr<es;jr++)Or=Sr[Rr++],Jr.push(Or<<8|Sr[Rr++]);else if((ds&248)===176)if(es=ds-176+1,hs||gs)Rr+=es;else for(jr=0;jr<es;jr++)Jr.push(Sr[Rr++]);else if((ds&248)===184)if(es=ds-184+1,hs||gs)Rr+=es*2;else for(jr=0;jr<es;jr++)Or=Sr[Rr++],Jr.push(Or<<8|Sr[Rr++]);else if(ds===43&&!Wr){if(!hs&&!gs){if(Tr=Jr.at(-1),isNaN(Tr))(0,wt.info)("TT: CALL empty stack (or invalid entry).");else if(yr.functionsUsed[Tr]=!0,Tr in yr.functionsStackDeltas){const fs=Jr.length+yr.functionsStackDeltas[Tr];if(fs<0){(0,wt.warn)("TT: CALL invalid functions stack delta."),yr.hintsValid=!1;return}Jr.length=fs}else if(Tr in yr.functionsDefined&&!ms.includes(Tr)){if(ss.push({data:Sr,i:Rr,stackTop:Jr.length-1}),ms.push(Tr),Vr=yr.functionsDefined[Tr],!Vr){(0,wt.warn)("TT: CALL non-existent function"),yr.hintsValid=!1;return}Sr=Vr.data,Rr=Vr.i}}}else if(ds===44&&!Wr)(hs||gs)&&((0,wt.warn)("TT: nested FDEFs not allowed"),Wr=!0),hs=!0,bs=Rr,Tr=Jr.pop(),yr.functionsDefined[Tr]={data:Sr,i:Rr};else if(ds===45)if(hs)hs=!1,us=Rr;else{if(Vr=ss.pop(),!Vr){(0,wt.warn)("TT: ENDF bad stack"),yr.hintsValid=!1;return}Tr=ms.pop(),Sr=Vr.data,Rr=Vr.i,yr.functionsStackDeltas[Tr]=Jr.length-Vr.stackTop}else if(ds===137)(hs||gs)&&((0,wt.warn)("TT: nested IDEFs not allowed"),Wr=!0),hs=!0,bs=Rr;else if(ds===88)++zr;else if(ds===27)gs=zr;else if(ds===89)gs===zr&&(gs=0),--zr;else if(ds===28&&!hs&&!gs){const fs=Jr.at(-1);fs>0&&(Rr+=fs-1)}if(!hs&&!gs){let fs=0;for(ds<=142?fs=Wn[ds]:ds>=192&&ds<=223?fs=-1:ds>=224&&(fs=-2),ds>=113&&ds<=117&&(es=Jr.pop(),isNaN(es)||(fs=-es*2));fs<0&&Jr.length>0;)Jr.pop(),fs++;for(;fs>0;)Jr.push(NaN),fs--}}yr.tooComplexToFollowFunctions=Wr;const ws=[Sr];Rr>Sr.length&&ws.push(new Uint8Array(Rr-Sr.length)),bs>us&&((0,wt.warn)("TT: complementing a missing function tail"),ws.push(new Uint8Array([34,45]))),xr(vr,ws)}function sr(vr,yr){if(!vr.tooComplexToFollowFunctions){if(vr.functionsDefined.length>yr){(0,wt.warn)("TT: more functions defined than expected"),vr.hintsValid=!1;return}for(let Sr=0,Rr=vr.functionsUsed.length;Sr<Rr;Sr++){if(Sr>yr){(0,wt.warn)("TT: invalid function id: "+Sr),vr.hintsValid=!1;return}if(vr.functionsUsed[Sr]&&!vr.functionsDefined[Sr]){(0,wt.warn)("TT: undefined function: "+Sr),vr.hintsValid=!1;return}}}}function xr(vr,yr){if(yr.length>1){let Sr=0,Rr,jr;for(Rr=0,jr=yr.length;Rr<jr;Rr++)Sr+=yr[Rr].length;Sr=Sr+3&-4;const es=new Uint8Array(Sr);let Or=0;for(Rr=0,jr=yr.length;Rr<jr;Rr++)es.set(yr[Rr],Or),Or+=yr[Rr].length;vr.data=es,vr.length=Sr}}function Jn(vr,yr,Sr,Rr){const jr={functionsDefined:[],functionsUsed:[],functionsStackDeltas:[],tooComplexToFollowFunctions:!1,hintsValid:!0};if(vr&&cr(vr,jr),yr&&cr(yr,jr),vr&&sr(jr,Rr),Sr&&Sr.length&1){const es=new Uint8Array(Sr.length+1);es.set(Sr.data),Sr.data=es}return jr.hintsValid}In=new Gt.Stream(new Uint8Array(In.getBytes()));let Vn,Zn;if(on(In)){const vr=Qn(In,this.name);Vn=vr.header,Zn=vr.tables}else Vn=tr(In),Zn=Ln(In,Vn.numTables);let ur,hr;const or=!Zn["CFF "];if(or){if(!Zn.loca)throw new wt.FormatError('Required "loca" table is not found');Zn.glyf||((0,wt.warn)('Required "glyf" table is not found -- trying to recover.'),Zn.glyf={tag:"glyf",data:new Uint8Array(0)}),this.isOpenType=!1}else{const vr=Rn.composite&&(((ns=Rn.cidToGidMap)==null?void 0:ns.length)>0||!(Rn.cMap instanceof kt.IdentityCMap));if(Vn.version==="OTTO"&&!vr||!Zn.head||!Zn.hhea||!Zn.maxp||!Zn.post)return hr=new Gt.Stream(Zn["CFF "].data),ur=new Nt.CFFFont(hr,Rn),bn(Rn),this.convert(Tn,ur,Rn);delete Zn.glyf,delete Zn.loca,delete Zn.fpgm,delete Zn.prep,delete Zn["cvt "],this.isOpenType=!0}if(!Zn.maxp)throw new wt.FormatError('Required "maxp" table is not found');In.pos=(In.start||0)+Zn.maxp.offset;const pr=In.getInt32(),wr=In.getUint16();if(((Ns=Rn.scaleFactors)==null?void 0:Ns.length)===wr&&or){const{scaleFactors:vr}=Rn,yr=Ot(Zn.head.data[50],Zn.head.data[51]),Sr=new jt.GlyfTable({glyfTable:Zn.glyf.data,isGlyphLocationsLong:yr,locaTable:Zn.loca.data,numGlyphs:wr});Sr.scale(vr);const{glyf:Rr,loca:jr,isLocationLong:es}=Sr.write();Zn.glyf.data=Rr,Zn.loca.data=jr,es!==!!yr&&(Zn.head.data[50]=0,Zn.head.data[51]=es?1:0);const Or=Zn.hmtx.data;for(let Tr=0;Tr<wr;Tr++){const Vr=4*Tr,us=Math.round(vr[Tr]*Ot(Or[Vr],Or[Vr+1]));Or[Vr]=us>>8&255,Or[Vr+1]=us&255;const bs=Math.round(vr[Tr]*an(Or[Vr+2],Or[Vr+3]));Ht(Or,Vr+2,bs)}}let fr=wr+1,Ar=!0;fr>65535&&(Ar=!1,fr=wr,(0,wt.warn)("Not enough space in glyfs to duplicate first glyph."));let Lr=0,Pr=0;pr>=65536&&Zn.maxp.length>=22&&(In.pos+=8,In.getUint16()>2&&(Zn.maxp.data[14]=0,Zn.maxp.data[15]=2),In.pos+=4,Lr=In.getUint16(),In.pos+=4,Pr=In.getUint16()),Zn.maxp.data[4]=fr>>8,Zn.maxp.data[5]=fr&255;const $r=Jn(Zn.fpgm,Zn.prep,Zn["cvt "],Lr);if($r||(delete Zn.fpgm,delete Zn.prep,delete Zn["cvt "]),Xn(In,Zn.hhea,Zn.hmtx,Zn.head,fr,Ar),!Zn.head)throw new wt.FormatError('Required "head" table is not found');lr(Zn.head,wr,or?Zn.loca.length:0);let Er=Object.create(null);if(or){const vr=Ot(Zn.head.data[50],Zn.head.data[51]),yr=dr(Zn.loca,Zn.glyf,wr,vr,$r,Ar,Pr);Er=yr.missingGlyphs,pr>=65536&&Zn.maxp.length>=22&&(Zn.maxp.data[26]=yr.maxSizeOfInstructions>>8,Zn.maxp.data[27]=yr.maxSizeOfInstructions&255)}if(!Zn.hhea)throw new wt.FormatError('Required "hhea" table is not found');Zn.hhea.data[10]===0&&Zn.hhea.data[11]===0&&(Zn.hhea.data[10]=255,Zn.hhea.data[11]=255);const _r={unitsPerEm:Ot(Zn.head.data[18],Zn.head.data[19]),yMax:an(Zn.head.data[42],Zn.head.data[43]),yMin:an(Zn.head.data[38],Zn.head.data[39]),ascent:an(Zn.hhea.data[4],Zn.hhea.data[5]),descent:an(Zn.hhea.data[6],Zn.hhea.data[7]),lineGap:an(Zn.hhea.data[8],Zn.hhea.data[9])};this.ascent=_r.ascent/_r.unitsPerEm,this.descent=_r.descent/_r.unitsPerEm,this.lineGap=_r.lineGap/_r.unitsPerEm,(Gs=this.cssFontInfo)!=null&&Gs.lineHeight?(this.lineHeight=this.cssFontInfo.metrics.lineHeight,this.lineGap=this.cssFontInfo.metrics.lineGap):this.lineHeight=this.ascent-this.descent+this.lineGap,Zn.post&&Bn(Zn.post,Rn,wr),Zn.post={tag:"post",data:pn(Rn)};const Fr=[];function qr(vr){return!Er[vr]}if(Rn.composite){const vr=Rn.cidToGidMap||[],yr=vr.length===0;Rn.cMap.forEach(function(Sr,Rr){if(typeof Rr=="string"&&(Rr=_n(Sr,Rr,!0)),Rr>65535)throw new wt.FormatError("Max size of CID is 65,535");let jr=-1;yr?jr=Rr:vr[Rr]!==void 0&&(jr=vr[Rr]),jr>=0&&jr<wr&&qr(jr)&&(Fr[Sr]=jr)})}else{const vr=Yn(Zn.cmap,In,this.isSymbolicFont,Rn.hasEncoding),yr=vr.platformId,Sr=vr.encodingId,Rr=vr.mappings;let jr=[],es=!1;if(Rn.hasEncoding&&(Rn.baseEncodingName==="MacRomanEncoding"||Rn.baseEncodingName==="WinAnsiEncoding")&&(jr=(0,Pt.getEncoding)(Rn.baseEncodingName)),Rn.hasEncoding&&!this.isSymbolicFont&&(yr===3&&Sr===1||yr===1&&Sr===0)){const Or=(0,bt.getGlyphsUnicode)();for(let Tr=0;Tr<256;Tr++){let Vr;if(this.differences[Tr]!==void 0?Vr=this.differences[Tr]:jr.length&&jr[Tr]!==""?Vr=jr[Tr]:Vr=Pt.StandardEncoding[Tr],!Vr)continue;const us=(0,Rt.recoverGlyphName)(Vr,Or);let bs;if(yr===3&&Sr===1?bs=Or[us]:yr===1&&Sr===0&&(bs=Pt.MacRomanEncoding.indexOf(us)),bs===void 0){if(!Rn.glyphNames&&Rn.hasIncludedToUnicodeMap&&!(this.toUnicode instanceof Kt.IdentityToUnicodeMap)){const Jr=this.toUnicode.get(Tr);Jr&&(bs=Jr.codePointAt(0))}if(bs===void 0)continue}for(const Jr of Rr)if(Jr.charCode===bs){Fr[Tr]=Jr.glyphId;break}}}else if(yr===0){for(const Or of Rr)Fr[Or.charCode]=Or.glyphId;es=!0}else for(const Or of Rr){let Tr=Or.charCode;yr===3&&Tr>=61440&&Tr<=61695&&(Tr&=255),Fr[Tr]=Or.glyphId}if(Rn.glyphNames&&(jr.length||this.differences.length))for(let Or=0;Or<256;++Or){if(!es&&Fr[Or]!==void 0)continue;const Tr=this.differences[Or]||jr[Or];if(!Tr)continue;const Vr=Rn.glyphNames.indexOf(Tr);Vr>0&&qr(Vr)&&(Fr[Or]=Vr)}}Fr.length===0&&(Fr[0]=0);let vs=fr-1;if(Ar||(vs=0),!Rn.cssFontInfo){const vr=Sn(Fr,qr,vs,this.toUnicode);this.toFontChar=vr.toFontChar,Zn.cmap={tag:"cmap",data:fn(vr.charCodeToGlyphId,vr.toUnicodeExtraMap,fr)},(!Zn["OS/2"]||!Jt(Zn["OS/2"],In))&&(Zn["OS/2"]={tag:"OS/2",data:ln(Rn,vr.charCodeToGlyphId,_r)})}if(!or)try{hr=new Gt.Stream(Zn["CFF "].data),ur=new _t.CFFParser(hr,Rn,Rt.SEAC_ANALYSIS_ENABLED).parse(),ur.duplicateFirstGlyph();const yr=new _t.CFFCompiler(ur);Zn["CFF "].data=yr.compile()}catch{(0,wt.warn)("Failed to compile font "+Rn.loadedName)}if(!Zn.name)Zn.name={tag:"name",data:Cn(this.name)};else{const[vr,yr]=Hn(Zn.name);Zn.name.data=Cn(Tn,vr),this.psName=vr[0][6]||null,Rn.composite||Wt(Rn,this.isSymbolicFont,yr)}const ls=new qt.OpenTypeFileBuilder(Vn.version);for(const vr in Zn)ls.addTable(vr,Zn[vr].data);return ls.toArray()}convert(Tn,In,Rn){Rn.fixedPitch=!1,Rn.builtInEncoding&&Yt(Rn,Rn.builtInEncoding);let Dn=1;In instanceof Nt.CFFFont&&(Dn=In.numGlyphs-1);const Ln=In.getGlyphMapping(Rn);let Un=null,tr=Ln,er=null;Rn.cssFontInfo||(Un=Sn(Ln,In.hasGlyphId.bind(In),Dn,this.toUnicode),this.toFontChar=Un.toFontChar,tr=Un.charCodeToGlyphId,er=Un.toUnicodeExtraMap);const Qn=In.numGlyphs;function Yn(Bn,Hn){let Wn=null;for(const cr in Bn)Hn===Bn[cr]&&(Wn||(Wn=[])).push(cr|0);return Wn}function Xn(Bn,Hn){for(const Wn in Bn)if(Hn===Bn[Wn])return Wn|0;return Un.charCodeToGlyphId[Un.nextAvailableFontCharCode]=Hn,Un.nextAvailableFontCharCode++}const nr=In.seacs;if(Un&&Rt.SEAC_ANALYSIS_ENABLED&&(nr!=null&&nr.length)){const Bn=Rn.fontMatrix||wt.FONT_IDENTITY_MATRIX,Hn=In.getCharset(),Wn=Object.create(null);for(let cr in nr){cr|=0;const sr=nr[cr],xr=Pt.StandardEncoding[sr[2]],Jn=Pt.StandardEncoding[sr[3]],Vn=Hn.indexOf(xr),Zn=Hn.indexOf(Jn);if(Vn<0||Zn<0)continue;const ur={x:sr[0]*Bn[0]+sr[1]*Bn[2]+Bn[4],y:sr[0]*Bn[1]+sr[1]*Bn[3]+Bn[5]},hr=Yn(Ln,cr);if(hr)for(const or of hr){const pr=Un.charCodeToGlyphId,wr=Xn(pr,Vn),fr=Xn(pr,Zn);Wn[or]={baseFontCharCode:wr,accentFontCharCode:fr,accentOffset:ur}}}Rn.seacMap=Wn}const lr=1/(Rn.fontMatrix||wt.FONT_IDENTITY_MATRIX)[0],dr=new qt.OpenTypeFileBuilder("OTTO");return dr.addTable("CFF ",In.data),dr.addTable("OS/2",ln(Rn,tr)),dr.addTable("cmap",fn(tr,er,Qn)),dr.addTable("head","\0\0\0\0\0\0\0\0\0\0_<\0\0"+nn(lr)+"\0\0\0\0\v~'\0\0\0\0\v~'\0\0"+nn(Rn.descent)+""+nn(Rn.ascent)+Vt(Rn.italicAngle?2:0)+"\0\0\0\0\0\0\0"),dr.addTable("hhea","\0\0\0"+nn(Rn.ascent)+nn(Rn.descent)+"\0\0\0\0\0\0\0\0"+nn(Rn.capHeight)+nn(Math.tan(Rn.italicAngle)*Rn.xHeight)+"\0\0\0\0\0\0\0\0\0\0\0\0"+Vt(Qn)),dr.addTable("hmtx",function(){const Hn=In.charstrings,Wn=In.cff?In.cff.widths:null;let cr="\0\0\0\0";for(let sr=1,xr=Qn;sr<xr;sr++){let Jn=0;if(Hn){const Vn=Hn[sr-1];Jn="width"in Vn?Vn.width:0}else Wn&&(Jn=Math.ceil(Wn[sr]||0));cr+=Vt(Jn)+Vt(0)}return cr}()),dr.addTable("maxp","\0\0P\0"+Vt(Qn)),dr.addTable("name",Cn(Tn)),dr.addTable("post",pn(Rn)),dr.toArray()}get spaceWidth(){const Tn=["space","minus","one","i","I"];let In;for(const Rn of Tn){if(Rn in this.widths){In=this.widths[Rn];break}const Ln=(0,bt.getGlyphsUnicode)()[Rn];let Un=0;if(this.composite&&this.cMap.contains(Ln)&&(Un=this.cMap.lookup(Ln),typeof Un=="string"&&(Un=_n(Ln,Un))),!Un&&this.toUnicode&&(Un=this.toUnicode.charCodeOf(Ln)),Un<=0&&(Un=Ln),In=this.widths[Un],In)break}return(0,wt.shadow)(this,"spaceWidth",In||this.defaultWidth)}_charToGlyph(Tn,In=!1){var lr,dr,Bn;let Rn=this._glyphCache[Tn];if((Rn==null?void 0:Rn.isSpace)===In)return Rn;let Dn,Ln,Un,tr=Tn;(lr=this.cMap)!=null&&lr.contains(Tn)&&(tr=this.cMap.lookup(Tn),typeof tr=="string"&&(tr=_n(Tn,tr))),Ln=this.widths[tr],typeof Ln!="number"&&(Ln=this.defaultWidth);const er=(dr=this.vmetrics)==null?void 0:dr[tr];let Qn=this.toUnicode.get(Tn)||Tn;typeof Qn=="number"&&(Qn=String.fromCharCode(Qn));let Yn=this.toFontChar[Tn]!==void 0;if(Dn=this.toFontChar[Tn]||Tn,this.missingFile){const Hn=this.differences[Tn]||this.defaultEncoding[Tn];(Hn===".notdef"||Hn==="")&&this.type==="Type1"&&(Dn=32),Dn=(0,_e.mapSpecialUnicodeValues)(Dn)}this.isType3Font&&(Un=Dn);let Xn=null;if((Bn=this.seacMap)!=null&&Bn[Tn]){Yn=!0;const Hn=this.seacMap[Tn];Dn=Hn.baseFontCharCode,Xn={fontChar:String.fromCodePoint(Hn.accentFontCharCode),offset:Hn.accentOffset}}let nr="";return typeof Dn=="number"&&(Dn<=1114111?nr=String.fromCodePoint(Dn):(0,wt.warn)(`charToGlyph - invalid fontCharCode: ${Dn}`)),Rn=new Ut(Tn,nr,Qn,Xn,Ln,er,Un,In,Yn),this._glyphCache[Tn]=Rn}charsToGlyphs(Tn){let In=this._charsCache[Tn];if(In)return In;if(In=[],this.cMap){const Rn=Object.create(null),Dn=Tn.length;let Ln=0;for(;Ln<Dn;){this.cMap.readCharCode(Tn,Ln,Rn);const{charcode:Un,length:tr}=Rn;Ln+=tr;const er=this._charToGlyph(Un,tr===1&&Tn.charCodeAt(Ln-1)===32);In.push(er)}}else for(let Rn=0,Dn=Tn.length;Rn<Dn;++Rn){const Ln=Tn.charCodeAt(Rn),Un=this._charToGlyph(Ln,Ln===32);In.push(Un)}return this._charsCache[Tn]=In}getCharPositions(Tn){const In=[];if(this.cMap){const Rn=Object.create(null);let Dn=0;for(;Dn<Tn.length;){this.cMap.readCharCode(Tn,Dn,Rn);const Ln=Rn.length;In.push([Dn,Dn+Ln]),Dn+=Ln}}else for(let Rn=0,Dn=Tn.length;Rn<Dn;++Rn)In.push([Rn,Rn+1]);return In}get glyphCacheValues(){return Object.values(this._glyphCache)}encodeString(Tn){const In=[],Rn=[],Dn=()=>In.length%2===1,Ln=this.toUnicode instanceof Kt.IdentityToUnicodeMap?Un=>this.toUnicode.charCodeOf(Un):Un=>this.toUnicode.charCodeOf(String.fromCodePoint(Un));for(let Un=0,tr=Tn.length;Un<tr;Un++){const er=Tn.codePointAt(Un);if(er>55295&&(er<57344||er>65533)&&Un++,this.toUnicode){const Qn=Ln(er);if(Qn!==-1){Dn()&&(In.push(Rn.join("")),Rn.length=0);const Yn=this.cMap?this.cMap.getCharCodeLength(Qn):1;for(let Xn=Yn-1;Xn>=0;Xn--)Rn.push(String.fromCharCode(Qn>>8*Xn&255));continue}}Dn()||(In.push(Rn.join("")),Rn.length=0),Rn.push(String.fromCodePoint(er))}return In.push(Rn.join("")),In}}Et.Font=Fn;class En{constructor(Tn){this.error=Tn,this.loadedName="g_font_error",this.missingFile=!0}charsToGlyphs(){return[]}encodeString(Tn){return[Tn]}exportData(Tn=!1){return{error:this.error}}}Et.ErrorFont=En},(Ct,Et,Ft)=>{Object.defineProperty(Et,"__esModule",{value:!0}),Et.CFFTopDict=Et.CFFStrings=Et.CFFStandardStrings=Et.CFFPrivateDict=Et.CFFParser=Et.CFFIndex=Et.CFFHeader=Et.CFFFDSelect=Et.CFFCompiler=Et.CFFCharset=Et.CFF=void 0;var wt=Ft(2),_t=Ft(36),Rt=Ft(37);const _e=10,bt=[".notdef","space","exclam","quotedbl","numbersign","dollar","percent","ampersand","quoteright","parenleft","parenright","asterisk","plus","comma","hyphen","period","slash","zero","one","two","three","four","five","six","seven","eight","nine","colon","semicolon","less","equal","greater","question","at","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","bracketleft","backslash","bracketright","asciicircum","underscore","quoteleft","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","braceleft","bar","braceright","asciitilde","exclamdown","cent","sterling","fraction","yen","florin","section","currency","quotesingle","quotedblleft","guillemotleft","guilsinglleft","guilsinglright","fi","fl","endash","dagger","daggerdbl","periodcentered","paragraph","bullet","quotesinglbase","quotedblbase","quotedblright","guillemotright","ellipsis","perthousand","questiondown","grave","acute","circumflex","tilde","macron","breve","dotaccent","dieresis","ring","cedilla","hungarumlaut","ogonek","caron","emdash","AE","ordfeminine","Lslash","Oslash","OE","ordmasculine","ae","dotlessi","lslash","oslash","oe","germandbls","onesuperior","logicalnot","mu","trademark","Eth","onehalf","plusminus","Thorn","onequarter","divide","brokenbar","degree","thorn","threequarters","twosuperior","registered","minus","eth","multiply","threesuperior","copyright","Aacute","Acircumflex","Adieresis","Agrave","Aring","Atilde","Ccedilla","Eacute","Ecircumflex","Edieresis","Egrave","Iacute","Icircumflex","Idieresis","Igrave","Ntilde","Oacute","Ocircumflex","Odieresis","Ograve","Otilde","Scaron","Uacute","Ucircumflex","Udieresis","Ugrave","Yacute","Ydieresis","Zcaron","aacute","acircumflex","adieresis","agrave","aring","atilde","ccedilla","eacute","ecircumflex","edieresis","egrave","iacute","icircumflex","idieresis","igrave","ntilde","oacute","ocircumflex","odieresis","ograve","otilde","scaron","uacute","ucircumflex","udieresis","ugrave","yacute","ydieresis","zcaron","exclamsmall","Hungarumlautsmall","dollaroldstyle","dollarsuperior","ampersandsmall","Acutesmall","parenleftsuperior","parenrightsuperior","twodotenleader","onedotenleader","zerooldstyle","oneoldstyle","twooldstyle","threeoldstyle","fouroldstyle","fiveoldstyle","sixoldstyle","sevenoldstyle","eightoldstyle","nineoldstyle","commasuperior","threequartersemdash","periodsuperior","questionsmall","asuperior","bsuperior","centsuperior","dsuperior","esuperior","isuperior","lsuperior","msuperior","nsuperior","osuperior","rsuperior","ssuperior","tsuperior","ff","ffi","ffl","parenleftinferior","parenrightinferior","Circumflexsmall","hyphensuperior","Gravesmall","Asmall","Bsmall","Csmall","Dsmall","Esmall","Fsmall","Gsmall","Hsmall","Ismall","Jsmall","Ksmall","Lsmall","Msmall","Nsmall","Osmall","Psmall","Qsmall","Rsmall","Ssmall","Tsmall","Usmall","Vsmall","Wsmall","Xsmall","Ysmall","Zsmall","colonmonetary","onefitted","rupiah","Tildesmall","exclamdownsmall","centoldstyle","Lslashsmall","Scaronsmall","Zcaronsmall","Dieresissmall","Brevesmall","Caronsmall","Dotaccentsmall","Macronsmall","figuredash","hypheninferior","Ogoneksmall","Ringsmall","Cedillasmall","questiondownsmall","oneeighth","threeeighths","fiveeighths","seveneighths","onethird","twothirds","zerosuperior","foursuperior","fivesuperior","sixsuperior","sevensuperior","eightsuperior","ninesuperior","zeroinferior","oneinferior","twoinferior","threeinferior","fourinferior","fiveinferior","sixinferior","seveninferior","eightinferior","nineinferior","centinferior","dollarinferior","periodinferior","commainferior","Agravesmall","Aacutesmall","Acircumflexsmall","Atildesmall","Adieresissmall","Aringsmall","AEsmall","Ccedillasmall","Egravesmall","Eacutesmall","Ecircumflexsmall","Edieresissmall","Igravesmall","Iacutesmall","Icircumflexsmall","Idieresissmall","Ethsmall","Ntildesmall","Ogravesmall","Oacutesmall","Ocircumflexsmall","Otildesmall","Odieresissmall","OEsmall","Oslashsmall","Ugravesmall","Uacutesmall","Ucircumflexsmall","Udieresissmall","Yacutesmall","Thornsmall","Ydieresissmall","001.000","001.001","001.002","001.003","Black","Bold","Book","Light","Medium","Regular","Roman","Semibold"];Et.CFFStandardStrings=bt;const Pt=391,Xt=[null,{id:"hstem",min:2,stackClearing:!0,stem:!0},null,{id:"vstem",min:2,stackClearing:!0,stem:!0},{id:"vmoveto",min:1,stackClearing:!0},{id:"rlineto",min:2,resetStack:!0},{id:"hlineto",min:1,resetStack:!0},{id:"vlineto",min:1,resetStack:!0},{id:"rrcurveto",min:6,resetStack:!0},null,{id:"callsubr",min:1,undefStack:!0},{id:"return",min:0,undefStack:!0},null,null,{id:"endchar",min:0,stackClearing:!0},null,null,null,{id:"hstemhm",min:2,stackClearing:!0,stem:!0},{id:"hintmask",min:0,stackClearing:!0},{id:"cntrmask",min:0,stackClearing:!0},{id:"rmoveto",min:2,stackClearing:!0},{id:"hmoveto",min:1,stackClearing:!0},{id:"vstemhm",min:2,stackClearing:!0,stem:!0},{id:"rcurveline",min:8,resetStack:!0},{id:"rlinecurve",min:8,resetStack:!0},{id:"vvcurveto",min:4,resetStack:!0},{id:"hhcurveto",min:4,resetStack:!0},null,{id:"callgsubr",min:1,undefStack:!0},{id:"vhcurveto",min:4,resetStack:!0},{id:"hvcurveto",min:4,resetStack:!0}],Kt=[null,null,null,{id:"and",min:2,stackDelta:-1},{id:"or",min:2,stackDelta:-1},{id:"not",min:1,stackDelta:0},null,null,null,{id:"abs",min:1,stackDelta:0},{id:"add",min:2,stackDelta:-1,stackFn(un,Ut){un[Ut-2]=un[Ut-2]+un[Ut-1]}},{id:"sub",min:2,stackDelta:-1,stackFn(un,Ut){un[Ut-2]=un[Ut-2]-un[Ut-1]}},{id:"div",min:2,stackDelta:-1,stackFn(un,Ut){un[Ut-2]=un[Ut-2]/un[Ut-1]}},null,{id:"neg",min:1,stackDelta:0,stackFn(un,Ut){un[Ut-1]=-un[Ut-1]}},{id:"eq",min:2,stackDelta:-1},null,null,{id:"drop",min:1,stackDelta:-1},null,{id:"put",min:2,stackDelta:-2},{id:"get",min:1,stackDelta:0},{id:"ifelse",min:4,stackDelta:-3},{id:"random",min:0,stackDelta:1},{id:"mul",min:2,stackDelta:-1,stackFn(un,Ut){un[Ut-2]=un[Ut-2]*un[Ut-1]}},null,{id:"sqrt",min:1,stackDelta:0},{id:"dup",min:1,stackDelta:1},{id:"exch",min:2,stackDelta:0},{id:"index",min:2,stackDelta:0},{id:"roll",min:3,stackDelta:-2},null,null,null,{id:"hflex",min:7,resetStack:!0},{id:"flex",min:13,resetStack:!0},{id:"hflex1",min:9,resetStack:!0},{id:"flex1",min:11,resetStack:!0}];class Nt{constructor(Ut,Ot,Ht){this.bytes=Ut.getBytes(),this.properties=Ot,this.seacAnalysisEnabled=!!Ht}parse(){const Ut=this.properties,Ot=new $t;this.cff=Ot;const Ht=this.parseHeader(),an=this.parseIndex(Ht.endPos),zt=this.parseIndex(an.endPos),Vt=this.parseIndex(zt.endPos),nn=this.parseIndex(Vt.endPos),hn=this.parseDict(zt.obj.get(0)),on=this.createDict(Gt,hn,Ot.strings);Ot.header=Ht.obj,Ot.names=this.parseNameIndex(an.obj),Ot.strings=this.parseStringIndex(Vt.obj),Ot.topDict=on,Ot.globalSubrIndex=nn.obj,this.parsePrivateDict(Ot.topDict),Ot.isCIDFont=on.hasName("ROS");const cn=on.getByName("CharStrings"),sn=this.parseIndex(cn).obj,rn=on.getByName("FontMatrix");rn&&(Ut.fontMatrix=rn);const xn=on.getByName("FontBBox");xn&&(Ut.ascent=Math.max(xn[3],xn[1]),Ut.descent=Math.min(xn[1],xn[3]),Ut.ascentScaled=!0);let vn,kn;if(Ot.isCIDFont){const On=this.parseIndex(on.getByName("FDArray")).obj;for(let _n=0,Sn=On.count;_n<Sn;++_n){const mn=On.get(_n),fn=this.createDict(Gt,this.parseDict(mn),Ot.strings);this.parsePrivateDict(fn),Ot.fdArray.push(fn)}kn=null,vn=this.parseCharsets(on.getByName("charset"),sn.count,Ot.strings,!0),Ot.fdSelect=this.parseFDSelect(on.getByName("FDSelect"),sn.count)}else vn=this.parseCharsets(on.getByName("charset"),sn.count,Ot.strings,!1),kn=this.parseEncoding(on.getByName("Encoding"),Ut,Ot.strings,vn.charset);Ot.charset=vn,Ot.encoding=kn;const Pn=this.parseCharStrings({charStrings:sn,localSubrIndex:on.privateDict.subrsIndex,globalSubrIndex:nn.obj,fdSelect:Ot.fdSelect,fdArray:Ot.fdArray,privateDict:on.privateDict});return Ot.charStrings=Pn.charStrings,Ot.seacs=Pn.seacs,Ot.widths=Pn.widths,Ot}parseHeader(){let Ut=this.bytes;const Ot=Ut.length;let Ht=0;for(;Ht<Ot&&Ut[Ht]!==1;)++Ht;if(Ht>=Ot)throw new wt.FormatError("Invalid CFF header");Ht!==0&&((0,wt.info)("cff data is shifted"),Ut=Ut.subarray(Ht),this.bytes=Ut);const an=Ut[0],zt=Ut[1],Vt=Ut[2],nn=Ut[3];return{obj:new Lt(an,zt,Vt,nn),endPos:Vt}}parseDict(Ut){let Ot=0;function Ht(){let hn=Ut[Ot++];return hn===30?an():hn===28?(hn=Ut[Ot++],hn=(hn<<24|Ut[Ot++]<<16)>>16,hn):hn===29?(hn=Ut[Ot++],hn=hn<<8|Ut[Ot++],hn=hn<<8|Ut[Ot++],hn=hn<<8|Ut[Ot++],hn):hn>=32&&hn<=246?hn-139:hn>=247&&hn<=250?(hn-247)*256+Ut[Ot++]+108:hn>=251&&hn<=254?-((hn-251)*256)-Ut[Ot++]-108:((0,wt.warn)('CFFParser_parseDict: "'+hn+'" is a reserved command.'),NaN)}function an(){let hn="";const cn=["0","1","2","3","4","5","6","7","8","9",".","E","E-",null,"-"],sn=Ut.length;for(;Ot<sn;){const rn=Ut[Ot++],xn=rn>>4,vn=rn&15;if(xn===15||(hn+=cn[xn],vn===15))break;hn+=cn[vn]}return parseFloat(hn)}let zt=[];const Vt=[];Ot=0;const nn=Ut.length;for(;Ot<nn;){let hn=Ut[Ot];hn<=21?(hn===12&&(hn=hn<<8|Ut[++Ot]),Vt.push([hn,zt]),zt=[],++Ot):zt.push(Ht())}return Vt}parseIndex(Ut){const Ot=new kt,Ht=this.bytes,an=Ht[Ut++]<<8|Ht[Ut++],zt=[];let Vt=Ut,nn,hn;if(an!==0){const on=Ht[Ut++],cn=Ut+(an+1)*on-1;for(nn=0,hn=an+1;nn<hn;++nn){let sn=0;for(let rn=0;rn<on;++rn)sn<<=8,sn+=Ht[Ut++];zt.push(cn+sn)}Vt=zt[an]}for(nn=0,hn=zt.length-1;nn<hn;++nn){const on=zt[nn],cn=zt[nn+1];Ot.add(Ht.subarray(on,cn))}return{obj:Ot,endPos:Vt}}parseNameIndex(Ut){const Ot=[];for(let Ht=0,an=Ut.count;Ht<an;++Ht){const zt=Ut.get(Ht);Ot.push((0,wt.bytesToString)(zt))}return Ot}parseStringIndex(Ut){const Ot=new jt;for(let Ht=0,an=Ut.count;Ht<an;++Ht){const zt=Ut.get(Ht);Ot.add((0,wt.bytesToString)(zt))}return Ot}createDict(Ut,Ot,Ht){const an=new Ut(Ht);for(const[zt,Vt]of Ot)an.setByKey(zt,Vt);return an}parseCharString(Ut,Ot,Ht,an){if(!Ot||Ut.callDepth>_e)return!1;let zt=Ut.stackSize;const Vt=Ut.stack;let nn=Ot.length;for(let hn=0;hn<nn;){const on=Ot[hn++];let cn=null;if(on===12){const sn=Ot[hn++];sn===0?(Ot[hn-2]=139,Ot[hn-1]=22,zt=0):cn=Kt[sn]}else if(on===28)Vt[zt]=(Ot[hn]<<24|Ot[hn+1]<<16)>>16,hn+=2,zt++;else if(on===14){if(zt>=4&&(zt-=4,this.seacAnalysisEnabled))return Ut.seac=Vt.slice(zt,zt+4),!1;cn=Xt[on]}else if(on>=32&&on<=246)Vt[zt]=on-139,zt++;else if(on>=247&&on<=254)Vt[zt]=on<251?(on-247<<8)+Ot[hn]+108:-(on-251<<8)-Ot[hn]-108,hn++,zt++;else if(on===255)Vt[zt]=(Ot[hn]<<24|Ot[hn+1]<<16|Ot[hn+2]<<8|Ot[hn+3])/65536,hn+=4,zt++;else if(on===19||on===20){if(Ut.hints+=zt>>1,Ut.hints===0){Ot.copyWithin(hn-1,hn,-1),hn-=1,nn-=1;continue}hn+=Ut.hints+7>>3,zt%=2,cn=Xt[on]}else if(on===10||on===29){const sn=on===10?Ht:an;if(!sn)return cn=Xt[on],(0,wt.warn)("Missing subrsIndex for "+cn.id),!1;let rn=32768;sn.count<1240?rn=107:sn.count<33900&&(rn=1131);const xn=Vt[--zt]+rn;if(xn<0||xn>=sn.count||isNaN(xn))return cn=Xt[on],(0,wt.warn)("Out of bounds subrIndex for "+cn.id),!1;if(Ut.stackSize=zt,Ut.callDepth++,!this.parseCharString(Ut,sn.get(xn),Ht,an))return!1;Ut.callDepth--,zt=Ut.stackSize;continue}else{if(on===11)return Ut.stackSize=zt,!0;if(on===0&&hn===Ot.length)Ot[hn-1]=14,cn=Xt[14];else if(on===9){Ot.copyWithin(hn-1,hn,-1),hn-=1,nn-=1;continue}else cn=Xt[on]}if(cn){if(cn.stem&&(Ut.hints+=zt>>1,on===3||on===23?Ut.hasVStems=!0:Ut.hasVStems&&(on===1||on===18)&&((0,wt.warn)("CFF stem hints are in wrong order"),Ot[hn-1]=on===1?3:23)),"min"in cn&&!Ut.undefStack&&zt<cn.min)return(0,wt.warn)("Not enough parameters for "+cn.id+"; actual: "+zt+", expected: "+cn.min),zt===0?(Ot[hn-1]=14,!0):!1;Ut.firstStackClearing&&cn.stackClearing&&(Ut.firstStackClearing=!1,zt-=cn.min,zt>=2&&cn.stem?zt%=2:zt>1&&(0,wt.warn)("Found too many parameters for stack-clearing command"),zt>0&&(Ut.width=Vt[zt-1])),"stackDelta"in cn?("stackFn"in cn&&cn.stackFn(Vt,zt),zt+=cn.stackDelta):cn.stackClearing?zt=0:cn.resetStack?(zt=0,Ut.undefStack=!1):cn.undefStack&&(zt=0,Ut.undefStack=!0,Ut.firstStackClearing=!1)}}return nn<Ot.length&&Ot.fill(14,nn),Ut.stackSize=zt,!0}parseCharStrings({charStrings:Ut,localSubrIndex:Ot,globalSubrIndex:Ht,fdSelect:an,fdArray:zt,privateDict:Vt}){const nn=[],hn=[],on=Ut.count;for(let cn=0;cn<on;cn++){const sn=Ut.get(cn),rn={callDepth:0,stackSize:0,stack:[],undefStack:!0,hints:0,firstStackClearing:!0,seac:null,width:null,hasVStems:!1};let xn=!0,vn=null,kn=Vt;if(an&&zt.length){const Pn=an.getFDIndex(cn);Pn===-1&&((0,wt.warn)("Glyph index is not in fd select."),xn=!1),Pn>=zt.length&&((0,wt.warn)("Invalid fd index for glyph index."),xn=!1),xn&&(kn=zt[Pn].privateDict,vn=kn.subrsIndex)}else Ot&&(vn=Ot);if(xn&&(xn=this.parseCharString(rn,sn,vn,Ht)),rn.width!==null){const Pn=kn.getByName("nominalWidthX");hn[cn]=Pn+rn.width}else{const Pn=kn.getByName("defaultWidthX");hn[cn]=Pn}rn.seac!==null&&(nn[cn]=rn.seac),xn||Ut.set(cn,new Uint8Array([14]))}return{charStrings:Ut,seacs:nn,widths:hn}}emptyPrivateDictionary(Ut){const Ot=this.createDict(dn,[],Ut.strings);Ut.setByKey(18,[0,0]),Ut.privateDict=Ot}parsePrivateDict(Ut){if(!Ut.hasName("Private")){this.emptyPrivateDictionary(Ut);return}const Ot=Ut.getByName("Private");if(!Array.isArray(Ot)||Ot.length!==2){Ut.removeByName("Private");return}const Ht=Ot[0],an=Ot[1];if(Ht===0||an>=this.bytes.length){this.emptyPrivateDictionary(Ut);return}const zt=an+Ht,Vt=this.bytes.subarray(an,zt),nn=this.parseDict(Vt),hn=this.createDict(dn,nn,Ut.strings);if(Ut.privateDict=hn,hn.getByName("ExpansionFactor")===0&&hn.setByName("ExpansionFactor",.06),!hn.getByName("Subrs"))return;const on=hn.getByName("Subrs"),cn=an+on;if(on===0||cn>=this.bytes.length){this.emptyPrivateDictionary(Ut);return}const sn=this.parseIndex(cn);hn.subrsIndex=sn.obj}parseCharsets(Ut,Ot,Ht,an){if(Ut===0)return new gn(!0,Qt.ISO_ADOBE,_t.ISOAdobeCharset);if(Ut===1)return new gn(!0,Qt.EXPERT,_t.ExpertCharset);if(Ut===2)return new gn(!0,Qt.EXPERT_SUBSET,_t.ExpertSubsetCharset);const zt=this.bytes,Vt=Ut,nn=zt[Ut++],hn=[an?0:".notdef"];let on,cn,sn;switch(Ot-=1,nn){case 0:for(sn=0;sn<Ot;sn++)on=zt[Ut++]<<8|zt[Ut++],hn.push(an?on:Ht.get(on));break;case 1:for(;hn.length<=Ot;)for(on=zt[Ut++]<<8|zt[Ut++],cn=zt[Ut++],sn=0;sn<=cn;sn++)hn.push(an?on++:Ht.get(on++));break;case 2:for(;hn.length<=Ot;)for(on=zt[Ut++]<<8|zt[Ut++],cn=zt[Ut++]<<8|zt[Ut++],sn=0;sn<=cn;sn++)hn.push(an?on++:Ht.get(on++));break;default:throw new wt.FormatError("Unknown charset format")}const rn=Ut,xn=zt.subarray(Vt,rn);return new gn(!1,nn,hn,xn)}parseEncoding(Ut,Ot,Ht,an){const zt=Object.create(null),Vt=this.bytes;let nn=!1,hn,on,cn,sn=null;function rn(){const xn=Vt[Ut++];for(on=0;on<xn;on++){const vn=Vt[Ut++],kn=(Vt[Ut++]<<8)+(Vt[Ut++]&255);zt[vn]=an.indexOf(Ht.get(kn))}}if(Ut===0||Ut===1){nn=!0,hn=Ut;const xn=Ut?Rt.ExpertEncoding:Rt.StandardEncoding;for(on=0,cn=an.length;on<cn;on++){const vn=xn.indexOf(an[on]);vn!==-1&&(zt[vn]=on)}}else{const xn=Ut;switch(hn=Vt[Ut++],hn&127){case 0:const kn=Vt[Ut++];for(on=1;on<=kn;on++)zt[Vt[Ut++]]=on;break;case 1:const Pn=Vt[Ut++];let On=1;for(on=0;on<Pn;on++){const _n=Vt[Ut++],Sn=Vt[Ut++];for(let mn=_n;mn<=_n+Sn;mn++)zt[mn]=On++}break;default:throw new wt.FormatError(`Unknown encoding format: ${hn} in CFF`)}const vn=Ut;hn&128&&(Vt[xn]&=127,rn()),sn=Vt.subarray(xn,vn)}return hn&=127,new tn(nn,hn,zt,sn)}parseFDSelect(Ut,Ot){const Ht=this.bytes,an=Ht[Ut++],zt=[];let Vt;switch(an){case 0:for(Vt=0;Vt<Ot;++Vt){const hn=Ht[Ut++];zt.push(hn)}break;case 3:const nn=Ht[Ut++]<<8|Ht[Ut++];for(Vt=0;Vt<nn;++Vt){let hn=Ht[Ut++]<<8|Ht[Ut++];Vt===0&&hn!==0&&((0,wt.warn)("parseFDSelect: The first range must have a first GID of 0 -- trying to recover."),hn=0);const on=Ht[Ut++],cn=Ht[Ut]<<8|Ht[Ut+1];for(let sn=hn;sn<cn;++sn)zt.push(on)}Ut+=2;break;default:throw new wt.FormatError(`parseFDSelect: Unknown format "${an}".`)}if(zt.length!==Ot)throw new wt.FormatError("parseFDSelect: Invalid font data.");return new bn(an,zt)}}Et.CFFParser=Nt;class $t{constructor(){this.header=null,this.names=[],this.topDict=null,this.strings=new jt,this.globalSubrIndex=null,this.encoding=null,this.charset=null,this.charStrings=null,this.fdArray=[],this.fdSelect=null,this.isCIDFont=!1}duplicateFirstGlyph(){if(this.charStrings.count>=65535){(0,wt.warn)("Not enough space in charstrings to duplicate first glyph.");return}const Ut=this.charStrings.get(0);this.charStrings.add(Ut),this.isCIDFont&&this.fdSelect.fdSelect.push(this.fdSelect.fdSelect[0])}hasGlyphId(Ut){return Ut<0||Ut>=this.charStrings.count?!1:this.charStrings.get(Ut).length>0}}Et.CFF=$t;class Lt{constructor(Ut,Ot,Ht,an){this.major=Ut,this.minor=Ot,this.hdrSize=Ht,this.offSize=an}}Et.CFFHeader=Lt;class jt{constructor(){this.strings=[]}get(Ut){return Ut>=0&&Ut<=Pt-1?bt[Ut]:Ut-Pt<=this.strings.length?this.strings[Ut-Pt]:bt[0]}getSID(Ut){let Ot=bt.indexOf(Ut);return Ot!==-1?Ot:(Ot=this.strings.indexOf(Ut),Ot!==-1?Ot+Pt:-1)}add(Ut){this.strings.push(Ut)}get count(){return this.strings.length}}Et.CFFStrings=jt;class kt{constructor(){this.objects=[],this.length=0}add(Ut){this.length+=Ut.length,this.objects.push(Ut)}set(Ut,Ot){this.length+=Ot.length-this.objects[Ut].length,this.objects[Ut]=Ot}get(Ut){return this.objects[Ut]}get count(){return this.objects.length}}Et.CFFIndex=kt;class qt{constructor(Ut,Ot){this.keyToNameMap=Ut.keyToNameMap,this.nameToKeyMap=Ut.nameToKeyMap,this.defaults=Ut.defaults,this.types=Ut.types,this.opcodes=Ut.opcodes,this.order=Ut.order,this.strings=Ot,this.values=Object.create(null)}setByKey(Ut,Ot){if(!(Ut in this.keyToNameMap))return!1;if(Ot.length===0)return!0;for(const an of Ot)if(isNaN(an))return(0,wt.warn)(`Invalid CFFDict value: "${Ot}" for key "${Ut}".`),!0;const Ht=this.types[Ut];return(Ht==="num"||Ht==="sid"||Ht==="offset")&&(Ot=Ot[0]),this.values[Ut]=Ot,!0}setByName(Ut,Ot){if(!(Ut in this.nameToKeyMap))throw new wt.FormatError(`Invalid dictionary name "${Ut}"`);this.values[this.nameToKeyMap[Ut]]=Ot}hasName(Ut){return this.nameToKeyMap[Ut]in this.values}getByName(Ut){if(!(Ut in this.nameToKeyMap))throw new wt.FormatError(`Invalid dictionary name ${Ut}"`);const Ot=this.nameToKeyMap[Ut];return Ot in this.values?this.values[Ot]:this.defaults[Ot]}removeByName(Ut){delete this.values[this.nameToKeyMap[Ut]]}static createTables(Ut){const Ot={keyToNameMap:{},nameToKeyMap:{},defaults:{},types:{},opcodes:{},order:[]};for(const Ht of Ut){const an=Array.isArray(Ht[0])?(Ht[0][0]<<8)+Ht[0][1]:Ht[0];Ot.keyToNameMap[an]=Ht[1],Ot.nameToKeyMap[Ht[1]]=an,Ot.types[an]=Ht[2],Ot.defaults[an]=Ht[3],Ot.opcodes[an]=Array.isArray(Ht[0])?Ht[0]:[Ht[0]],Ot.order.push(an)}return Ot}}const Bt=[[[12,30],"ROS",["sid","sid","num"],null],[[12,20],"SyntheticBase","num",null],[0,"version","sid",null],[1,"Notice","sid",null],[[12,0],"Copyright","sid",null],[2,"FullName","sid",null],[3,"FamilyName","sid",null],[4,"Weight","sid",null],[[12,1],"isFixedPitch","num",0],[[12,2],"ItalicAngle","num",0],[[12,3],"UnderlinePosition","num",-100],[[12,4],"UnderlineThickness","num",50],[[12,5],"PaintType","num",0],[[12,6],"CharstringType","num",2],[[12,7],"FontMatrix",["num","num","num","num","num","num"],[.001,0,0,.001,0,0]],[13,"UniqueID","num",null],[5,"FontBBox",["num","num","num","num"],[0,0,0,0]],[[12,8],"StrokeWidth","num",0],[14,"XUID","array",null],[15,"charset","offset",0],[16,"Encoding","offset",0],[17,"CharStrings","offset",0],[18,"Private",["offset","offset"],null],[[12,21],"PostScript","sid",null],[[12,22],"BaseFontName","sid",null],[[12,23],"BaseFontBlend","delta",null],[[12,31],"CIDFontVersion","num",0],[[12,32],"CIDFontRevision","num",0],[[12,33],"CIDFontType","num",0],[[12,34],"CIDCount","num",8720],[[12,35],"UIDBase","num",null],[[12,37],"FDSelect","offset",null],[[12,36],"FDArray","offset",null],[[12,38],"FontName","sid",null]];class Gt extends qt{static get tables(){return(0,wt.shadow)(this,"tables",this.createTables(Bt))}constructor(Ut){super(Gt.tables,Ut),this.privateDict=null}}Et.CFFTopDict=Gt;const en=[[6,"BlueValues","delta",null],[7,"OtherBlues","delta",null],[8,"FamilyBlues","delta",null],[9,"FamilyOtherBlues","delta",null],[[12,9],"BlueScale","num",.039625],[[12,10],"BlueShift","num",7],[[12,11],"BlueFuzz","num",1],[10,"StdHW","num",null],[11,"StdVW","num",null],[[12,12],"StemSnapH","delta",null],[[12,13],"StemSnapV","delta",null],[[12,14],"ForceBold","num",0],[[12,17],"LanguageGroup","num",0],[[12,18],"ExpansionFactor","num",.06],[[12,19],"initialRandomSeed","num",0],[20,"defaultWidthX","num",0],[21,"nominalWidthX","num",0],[19,"Subrs","offset",null]];class dn extends qt{static get tables(){return(0,wt.shadow)(this,"tables",this.createTables(en))}constructor(Ut){super(dn.tables,Ut),this.subrsIndex=null}}Et.CFFPrivateDict=dn;const Qt={ISO_ADOBE:0,EXPERT:1,EXPERT_SUBSET:2};class gn{constructor(Ut,Ot,Ht,an){this.predefined=Ut,this.format=Ot,this.charset=Ht,this.raw=an}}Et.CFFCharset=gn;class tn{constructor(Ut,Ot,Ht,an){this.predefined=Ut,this.format=Ot,this.encoding=Ht,this.raw=an}}class bn{constructor(Ut,Ot){this.format=Ut,this.fdSelect=Ot}getFDIndex(Ut){return Ut<0||Ut>=this.fdSelect.length?-1:this.fdSelect[Ut]}}Et.CFFFDSelect=bn;class Wt{constructor(){this.offsets=Object.create(null)}isTracking(Ut){return Ut in this.offsets}track(Ut,Ot){if(Ut in this.offsets)throw new wt.FormatError(`Already tracking location of ${Ut}`);this.offsets[Ut]=Ot}offset(Ut){for(const Ot in this.offsets)this.offsets[Ot]+=Ut}setEntryLocation(Ut,Ot,Ht){if(!(Ut in this.offsets))throw new wt.FormatError(`Not tracking location of ${Ut}`);const an=Ht.data,zt=this.offsets[Ut],Vt=5;for(let nn=0,hn=Ot.length;nn<hn;++nn){const on=nn*Vt+zt,cn=on+1,sn=on+2,rn=on+3,xn=on+4;if(an[on]!==29||an[cn]!==0||an[sn]!==0||an[rn]!==0||an[xn]!==0)throw new wt.FormatError("writing to an offset that is not empty");const vn=Ot[nn];an[on]=29,an[cn]=vn>>24&255,an[sn]=vn>>16&255,an[rn]=vn>>8&255,an[xn]=vn&255}}}class Yt{constructor(Ut){this.cff=Ut}compile(){const Ut=this.cff,Ot={data:[],length:0,add(rn){try{this.data.push(...rn)}catch{this.data=this.data.concat(rn)}this.length=this.data.length}},Ht=this.compileHeader(Ut.header);Ot.add(Ht);const an=this.compileNameIndex(Ut.names);if(Ot.add(an),Ut.isCIDFont&&Ut.topDict.hasName("FontMatrix")){const rn=Ut.topDict.getByName("FontMatrix");Ut.topDict.removeByName("FontMatrix");for(const xn of Ut.fdArray){let vn=rn.slice(0);xn.hasName("FontMatrix")&&(vn=wt.Util.transform(vn,xn.getByName("FontMatrix"))),xn.setByName("FontMatrix",vn)}}const zt=Ut.topDict.getByName("XUID");(zt==null?void 0:zt.length)>16&&Ut.topDict.removeByName("XUID"),Ut.topDict.setByName("charset",0);let Vt=this.compileTopDicts([Ut.topDict],Ot.length,Ut.isCIDFont);Ot.add(Vt.output);const nn=Vt.trackers[0],hn=this.compileStringIndex(Ut.strings.strings);Ot.add(hn);const on=this.compileIndex(Ut.globalSubrIndex);if(Ot.add(on),Ut.encoding&&Ut.topDict.hasName("Encoding"))if(Ut.encoding.predefined)nn.setEntryLocation("Encoding",[Ut.encoding.format],Ot);else{const rn=this.compileEncoding(Ut.encoding);nn.setEntryLocation("Encoding",[Ot.length],Ot),Ot.add(rn)}const cn=this.compileCharset(Ut.charset,Ut.charStrings.count,Ut.strings,Ut.isCIDFont);nn.setEntryLocation("charset",[Ot.length],Ot),Ot.add(cn);const sn=this.compileCharStrings(Ut.charStrings);if(nn.setEntryLocation("CharStrings",[Ot.length],Ot),Ot.add(sn),Ut.isCIDFont){nn.setEntryLocation("FDSelect",[Ot.length],Ot);const rn=this.compileFDSelect(Ut.fdSelect);Ot.add(rn),Vt=this.compileTopDicts(Ut.fdArray,Ot.length,!0),nn.setEntryLocation("FDArray",[Ot.length],Ot),Ot.add(Vt.output);const xn=Vt.trackers;this.compilePrivateDicts(Ut.fdArray,xn,Ot)}return this.compilePrivateDicts([Ut.topDict],[nn],Ot),Ot.add([0]),Ot.data}encodeNumber(Ut){return Number.isInteger(Ut)?this.encodeInteger(Ut):this.encodeFloat(Ut)}static get EncodeFloatRegExp(){return(0,wt.shadow)(this,"EncodeFloatRegExp",/\.(\d*?)(?:9{5,20}|0{5,20})\d{0,2}(?:e(.+)|$)/)}encodeFloat(Ut){let Ot=Ut.toString();const Ht=Yt.EncodeFloatRegExp.exec(Ot);if(Ht){const hn=parseFloat("1e"+((Ht[2]?+Ht[2]:0)+Ht[1].length));Ot=(Math.round(Ut*hn)/hn).toString()}let an="",zt,Vt;for(zt=0,Vt=Ot.length;zt<Vt;++zt){const hn=Ot[zt];hn==="e"?an+=Ot[++zt]==="-"?"c":"b":hn==="."?an+="a":hn==="-"?an+="e":an+=hn}an+=an.length&1?"f":"ff";const nn=[30];for(zt=0,Vt=an.length;zt<Vt;zt+=2)nn.push(parseInt(an.substring(zt,zt+2),16));return nn}encodeInteger(Ut){let Ot;return Ut>=-107&&Ut<=107?Ot=[Ut+139]:Ut>=108&&Ut<=1131?(Ut-=108,Ot=[(Ut>>8)+247,Ut&255]):Ut>=-1131&&Ut<=-108?(Ut=-Ut-108,Ot=[(Ut>>8)+251,Ut&255]):Ut>=-32768&&Ut<=32767?Ot=[28,Ut>>8&255,Ut&255]:Ot=[29,Ut>>24&255,Ut>>16&255,Ut>>8&255,Ut&255],Ot}compileHeader(Ut){return[Ut.major,Ut.minor,4,Ut.offSize]}compileNameIndex(Ut){const Ot=new kt;for(const Ht of Ut){const an=Math.min(Ht.length,127);let zt=new Array(an);for(let Vt=0;Vt<an;Vt++){let nn=Ht[Vt];(nn<"!"||nn>"~"||nn==="["||nn==="]"||nn==="("||nn===")"||nn==="{"||nn==="}"||nn==="<"||nn===">"||nn==="/"||nn==="%")&&(nn="_"),zt[Vt]=nn}zt=zt.join(""),zt===""&&(zt="Bad_Font_Name"),Ot.add((0,wt.stringToBytes)(zt))}return this.compileIndex(Ot)}compileTopDicts(Ut,Ot,Ht){const an=[];let zt=new kt;for(const Vt of Ut){Ht&&(Vt.removeByName("CIDFontVersion"),Vt.removeByName("CIDFontRevision"),Vt.removeByName("CIDFontType"),Vt.removeByName("CIDCount"),Vt.removeByName("UIDBase"));const nn=new Wt,hn=this.compileDict(Vt,nn);an.push(nn),zt.add(hn),nn.offset(Ot)}return zt=this.compileIndex(zt,an),{trackers:an,output:zt}}compilePrivateDicts(Ut,Ot,Ht){for(let an=0,zt=Ut.length;an<zt;++an){const Vt=Ut[an],nn=Vt.privateDict;if(!nn||!Vt.hasName("Private"))throw new wt.FormatError("There must be a private dictionary.");const hn=new Wt,on=this.compileDict(nn,hn);let cn=Ht.length;if(hn.offset(cn),on.length||(cn=0),Ot[an].setEntryLocation("Private",[on.length,cn],Ht),Ht.add(on),nn.subrsIndex&&nn.hasName("Subrs")){const sn=this.compileIndex(nn.subrsIndex);hn.setEntryLocation("Subrs",[on.length],Ht),Ht.add(sn)}}}compileDict(Ut,Ot){const Ht=[];for(const an of Ut.order){if(!(an in Ut.values))continue;let zt=Ut.values[an],Vt=Ut.types[an];if(Array.isArray(Vt)||(Vt=[Vt]),Array.isArray(zt)||(zt=[zt]),zt.length!==0){for(let nn=0,hn=Vt.length;nn<hn;++nn){const on=Vt[nn],cn=zt[nn];switch(on){case"num":case"sid":Ht.push(...this.encodeNumber(cn));break;case"offset":const sn=Ut.keyToNameMap[an];Ot.isTracking(sn)||Ot.track(sn,Ht.length),Ht.push(29,0,0,0,0);break;case"array":case"delta":Ht.push(...this.encodeNumber(cn));for(let rn=1,xn=zt.length;rn<xn;++rn)Ht.push(...this.encodeNumber(zt[rn]));break;default:throw new wt.FormatError(`Unknown data type of ${on}`)}}Ht.push(...Ut.opcodes[an])}}return Ht}compileStringIndex(Ut){const Ot=new kt;for(const Ht of Ut)Ot.add((0,wt.stringToBytes)(Ht));return this.compileIndex(Ot)}compileCharStrings(Ut){const Ot=new kt;for(let Ht=0;Ht<Ut.count;Ht++){const an=Ut.get(Ht);if(an.length===0){Ot.add(new Uint8Array([139,14]));continue}Ot.add(an)}return this.compileIndex(Ot)}compileCharset(Ut,Ot,Ht,an){let zt;const Vt=Ot-1;if(an)zt=new Uint8Array([2,0,0,Vt>>8&255,Vt&255]);else{const nn=1+Vt*2;zt=new Uint8Array(nn),zt[0]=0;let hn=0;const on=Ut.charset.length;let cn=!1;for(let sn=1;sn<zt.length;sn+=2){let rn=0;if(hn<on){const xn=Ut.charset[hn++];rn=Ht.getSID(xn),rn===-1&&(rn=0,cn||(cn=!0,(0,wt.warn)(`Couldn't find ${xn} in CFF strings`)))}zt[sn]=rn>>8&255,zt[sn+1]=rn&255}}return this.compileTypedArray(zt)}compileEncoding(Ut){return this.compileTypedArray(Ut.raw)}compileFDSelect(Ut){const Ot=Ut.format;let Ht,an;switch(Ot){case 0:for(Ht=new Uint8Array(1+Ut.fdSelect.length),Ht[0]=Ot,an=0;an<Ut.fdSelect.length;an++)Ht[an+1]=Ut.fdSelect[an];break;case 3:const zt=0;let Vt=Ut.fdSelect[0];const nn=[Ot,0,0,zt>>8&255,zt&255,Vt];for(an=1;an<Ut.fdSelect.length;an++){const on=Ut.fdSelect[an];on!==Vt&&(nn.push(an>>8&255,an&255,on),Vt=on)}const hn=(nn.length-3)/3;nn[1]=hn>>8&255,nn[2]=hn&255,nn.push(an>>8&255,an&255),Ht=new Uint8Array(nn);break}return this.compileTypedArray(Ht)}compileTypedArray(Ut){return Array.from(Ut)}compileIndex(Ut,Ot=[]){const Ht=Ut.objects,an=Ht.length;if(an===0)return[0,0];const zt=[an>>8&255,an&255];let Vt=1,nn;for(nn=0;nn<an;++nn)Vt+=Ht[nn].length;let hn;Vt<256?hn=1:Vt<65536?hn=2:Vt<16777216?hn=3:hn=4,zt.push(hn);let on=1;for(nn=0;nn<an+1;nn++)hn===1?zt.push(on&255):hn===2?zt.push(on>>8&255,on&255):hn===3?zt.push(on>>16&255,on>>8&255,on&255):zt.push(on>>>24&255,on>>16&255,on>>8&255,on&255),Ht[nn]&&(on+=Ht[nn].length);for(nn=0;nn<an;nn++)Ot[nn]&&Ot[nn].offset(zt.length),zt.push(...Ht[nn]);return zt}}Et.CFFCompiler=Yt},(Ct,Et)=>{Object.defineProperty(Et,"__esModule",{value:!0}),Et.ISOAdobeCharset=Et.ExpertSubsetCharset=Et.ExpertCharset=void 0;const Ft=[".notdef","space","exclam","quotedbl","numbersign","dollar","percent","ampersand","quoteright","parenleft","parenright","asterisk","plus","comma","hyphen","period","slash","zero","one","two","three","four","five","six","seven","eight","nine","colon","semicolon","less","equal","greater","question","at","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","bracketleft","backslash","bracketright","asciicircum","underscore","quoteleft","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","braceleft","bar","braceright","asciitilde","exclamdown","cent","sterling","fraction","yen","florin","section","currency","quotesingle","quotedblleft","guillemotleft","guilsinglleft","guilsinglright","fi","fl","endash","dagger","daggerdbl","periodcentered","paragraph","bullet","quotesinglbase","quotedblbase","quotedblright","guillemotright","ellipsis","perthousand","questiondown","grave","acute","circumflex","tilde","macron","breve","dotaccent","dieresis","ring","cedilla","hungarumlaut","ogonek","caron","emdash","AE","ordfeminine","Lslash","Oslash","OE","ordmasculine","ae","dotlessi","lslash","oslash","oe","germandbls","onesuperior","logicalnot","mu","trademark","Eth","onehalf","plusminus","Thorn","onequarter","divide","brokenbar","degree","thorn","threequarters","twosuperior","registered","minus","eth","multiply","threesuperior","copyright","Aacute","Acircumflex","Adieresis","Agrave","Aring","Atilde","Ccedilla","Eacute","Ecircumflex","Edieresis","Egrave","Iacute","Icircumflex","Idieresis","Igrave","Ntilde","Oacute","Ocircumflex","Odieresis","Ograve","Otilde","Scaron","Uacute","Ucircumflex","Udieresis","Ugrave","Yacute","Ydieresis","Zcaron","aacute","acircumflex","adieresis","agrave","aring","atilde","ccedilla","eacute","ecircumflex","edieresis","egrave","iacute","icircumflex","idieresis","igrave","ntilde","oacute","ocircumflex","odieresis","ograve","otilde","scaron","uacute","ucircumflex","udieresis","ugrave","yacute","ydieresis","zcaron"];Et.ISOAdobeCharset=Ft;const wt=[".notdef","space","exclamsmall","Hungarumlautsmall","dollaroldstyle","dollarsuperior","ampersandsmall","Acutesmall","parenleftsuperior","parenrightsuperior","twodotenleader","onedotenleader","comma","hyphen","period","fraction","zerooldstyle","oneoldstyle","twooldstyle","threeoldstyle","fouroldstyle","fiveoldstyle","sixoldstyle","sevenoldstyle","eightoldstyle","nineoldstyle","colon","semicolon","commasuperior","threequartersemdash","periodsuperior","questionsmall","asuperior","bsuperior","centsuperior","dsuperior","esuperior","isuperior","lsuperior","msuperior","nsuperior","osuperior","rsuperior","ssuperior","tsuperior","ff","fi","fl","ffi","ffl","parenleftinferior","parenrightinferior","Circumflexsmall","hyphensuperior","Gravesmall","Asmall","Bsmall","Csmall","Dsmall","Esmall","Fsmall","Gsmall","Hsmall","Ismall","Jsmall","Ksmall","Lsmall","Msmall","Nsmall","Osmall","Psmall","Qsmall","Rsmall","Ssmall","Tsmall","Usmall","Vsmall","Wsmall","Xsmall","Ysmall","Zsmall","colonmonetary","onefitted","rupiah","Tildesmall","exclamdownsmall","centoldstyle","Lslashsmall","Scaronsmall","Zcaronsmall","Dieresissmall","Brevesmall","Caronsmall","Dotaccentsmall","Macronsmall","figuredash","hypheninferior","Ogoneksmall","Ringsmall","Cedillasmall","onequarter","onehalf","threequarters","questiondownsmall","oneeighth","threeeighths","fiveeighths","seveneighths","onethird","twothirds","zerosuperior","onesuperior","twosuperior","threesuperior","foursuperior","fivesuperior","sixsuperior","sevensuperior","eightsuperior","ninesuperior","zeroinferior","oneinferior","twoinferior","threeinferior","fourinferior","fiveinferior","sixinferior","seveninferior","eightinferior","nineinferior","centinferior","dollarinferior","periodinferior","commainferior","Agravesmall","Aacutesmall","Acircumflexsmall","Atildesmall","Adieresissmall","Aringsmall","AEsmall","Ccedillasmall","Egravesmall","Eacutesmall","Ecircumflexsmall","Edieresissmall","Igravesmall","Iacutesmall","Icircumflexsmall","Idieresissmall","Ethsmall","Ntildesmall","Ogravesmall","Oacutesmall","Ocircumflexsmall","Otildesmall","Odieresissmall","OEsmall","Oslashsmall","Ugravesmall","Uacutesmall","Ucircumflexsmall","Udieresissmall","Yacutesmall","Thornsmall","Ydieresissmall"];Et.ExpertCharset=wt;const _t=[".notdef","space","dollaroldstyle","dollarsuperior","parenleftsuperior","parenrightsuperior","twodotenleader","onedotenleader","comma","hyphen","period","fraction","zerooldstyle","oneoldstyle","twooldstyle","threeoldstyle","fouroldstyle","fiveoldstyle","sixoldstyle","sevenoldstyle","eightoldstyle","nineoldstyle","colon","semicolon","commasuperior","threequartersemdash","periodsuperior","asuperior","bsuperior","centsuperior","dsuperior","esuperior","isuperior","lsuperior","msuperior","nsuperior","osuperior","rsuperior","ssuperior","tsuperior","ff","fi","fl","ffi","ffl","parenleftinferior","parenrightinferior","hyphensuperior","colonmonetary","onefitted","rupiah","centoldstyle","figuredash","hypheninferior","onequarter","onehalf","threequarters","oneeighth","threeeighths","fiveeighths","seveneighths","onethird","twothirds","zerosuperior","onesuperior","twosuperior","threesuperior","foursuperior","fivesuperior","sixsuperior","sevensuperior","eightsuperior","ninesuperior","zeroinferior","oneinferior","twoinferior","threeinferior","fourinferior","fiveinferior","sixinferior","seveninferior","eightinferior","nineinferior","centinferior","dollarinferior","periodinferior","commainferior"];Et.ExpertSubsetCharset=_t},(Ct,Et)=>{Object.defineProperty(Et,"__esModule",{value:!0}),Et.ZapfDingbatsEncoding=Et.WinAnsiEncoding=Et.SymbolSetEncoding=Et.StandardEncoding=Et.MacRomanEncoding=Et.ExpertEncoding=void 0,Et.getEncoding=Xt;const Ft=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","space","exclamsmall","Hungarumlautsmall","","dollaroldstyle","dollarsuperior","ampersandsmall","Acutesmall","parenleftsuperior","parenrightsuperior","twodotenleader","onedotenleader","comma","hyphen","period","fraction","zerooldstyle","oneoldstyle","twooldstyle","threeoldstyle","fouroldstyle","fiveoldstyle","sixoldstyle","sevenoldstyle","eightoldstyle","nineoldstyle","colon","semicolon","commasuperior","threequartersemdash","periodsuperior","questionsmall","","asuperior","bsuperior","centsuperior","dsuperior","esuperior","","","","isuperior","","","lsuperior","msuperior","nsuperior","osuperior","","","rsuperior","ssuperior","tsuperior","","ff","fi","fl","ffi","ffl","parenleftinferior","","parenrightinferior","Circumflexsmall","hyphensuperior","Gravesmall","Asmall","Bsmall","Csmall","Dsmall","Esmall","Fsmall","Gsmall","Hsmall","Ismall","Jsmall","Ksmall","Lsmall","Msmall","Nsmall","Osmall","Psmall","Qsmall","Rsmall","Ssmall","Tsmall","Usmall","Vsmall","Wsmall","Xsmall","Ysmall","Zsmall","colonmonetary","onefitted","rupiah","Tildesmall","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","exclamdownsmall","centoldstyle","Lslashsmall","","","Scaronsmall","Zcaronsmall","Dieresissmall","Brevesmall","Caronsmall","","Dotaccentsmall","","","Macronsmall","","","figuredash","hypheninferior","","","Ogoneksmall","Ringsmall","Cedillasmall","","","","onequarter","onehalf","threequarters","questiondownsmall","oneeighth","threeeighths","fiveeighths","seveneighths","onethird","twothirds","","","zerosuperior","onesuperior","twosuperior","threesuperior","foursuperior","fivesuperior","sixsuperior","sevensuperior","eightsuperior","ninesuperior","zeroinferior","oneinferior","twoinferior","threeinferior","fourinferior","fiveinferior","sixinferior","seveninferior","eightinferior","nineinferior","centinferior","dollarinferior","periodinferior","commainferior","Agravesmall","Aacutesmall","Acircumflexsmall","Atildesmall","Adieresissmall","Aringsmall","AEsmall","Ccedillasmall","Egravesmall","Eacutesmall","Ecircumflexsmall","Edieresissmall","Igravesmall","Iacutesmall","Icircumflexsmall","Idieresissmall","Ethsmall","Ntildesmall","Ogravesmall","Oacutesmall","Ocircumflexsmall","Otildesmall","Odieresissmall","OEsmall","Oslashsmall","Ugravesmall","Uacutesmall","Ucircumflexsmall","Udieresissmall","Yacutesmall","Thornsmall","Ydieresissmall"];Et.ExpertEncoding=Ft;const wt=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","space","exclamsmall","Hungarumlautsmall","centoldstyle","dollaroldstyle","dollarsuperior","ampersandsmall","Acutesmall","parenleftsuperior","parenrightsuperior","twodotenleader","onedotenleader","comma","hyphen","period","fraction","zerooldstyle","oneoldstyle","twooldstyle","threeoldstyle","fouroldstyle","fiveoldstyle","sixoldstyle","sevenoldstyle","eightoldstyle","nineoldstyle","colon","semicolon","","threequartersemdash","","questionsmall","","","","","Ethsmall","","","onequarter","onehalf","threequarters","oneeighth","threeeighths","fiveeighths","seveneighths","onethird","twothirds","","","","","","","ff","fi","fl","ffi","ffl","parenleftinferior","","parenrightinferior","Circumflexsmall","hypheninferior","Gravesmall","Asmall","Bsmall","Csmall","Dsmall","Esmall","Fsmall","Gsmall","Hsmall","Ismall","Jsmall","Ksmall","Lsmall","Msmall","Nsmall","Osmall","Psmall","Qsmall","Rsmall","Ssmall","Tsmall","Usmall","Vsmall","Wsmall","Xsmall","Ysmall","Zsmall","colonmonetary","onefitted","rupiah","Tildesmall","","","asuperior","centsuperior","","","","","Aacutesmall","Agravesmall","Acircumflexsmall","Adieresissmall","Atildesmall","Aringsmall","Ccedillasmall","Eacutesmall","Egravesmall","Ecircumflexsmall","Edieresissmall","Iacutesmall","Igravesmall","Icircumflexsmall","Idieresissmall","Ntildesmall","Oacutesmall","Ogravesmall","Ocircumflexsmall","Odieresissmall","Otildesmall","Uacutesmall","Ugravesmall","Ucircumflexsmall","Udieresissmall","","eightsuperior","fourinferior","threeinferior","sixinferior","eightinferior","seveninferior","Scaronsmall","","centinferior","twoinferior","","Dieresissmall","","Caronsmall","osuperior","fiveinferior","","commainferior","periodinferior","Yacutesmall","","dollarinferior","","","Thornsmall","","nineinferior","zeroinferior","Zcaronsmall","AEsmall","Oslashsmall","questiondownsmall","oneinferior","Lslashsmall","","","","","","","Cedillasmall","","","","","","OEsmall","figuredash","hyphensuperior","","","","","exclamdownsmall","","Ydieresissmall","","onesuperior","twosuperior","threesuperior","foursuperior","fivesuperior","sixsuperior","sevensuperior","ninesuperior","zerosuperior","","esuperior","rsuperior","tsuperior","","","isuperior","ssuperior","dsuperior","","","","","","lsuperior","Ogoneksmall","Brevesmall","Macronsmall","bsuperior","nsuperior","msuperior","commasuperior","periodsuperior","Dotaccentsmall","Ringsmall","","","",""],_t=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","space","exclam","quotedbl","numbersign","dollar","percent","ampersand","quotesingle","parenleft","parenright","asterisk","plus","comma","hyphen","period","slash","zero","one","two","three","four","five","six","seven","eight","nine","colon","semicolon","less","equal","greater","question","at","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","bracketleft","backslash","bracketright","asciicircum","underscore","grave","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","braceleft","bar","braceright","asciitilde","","Adieresis","Aring","Ccedilla","Eacute","Ntilde","Odieresis","Udieresis","aacute","agrave","acircumflex","adieresis","atilde","aring","ccedilla","eacute","egrave","ecircumflex","edieresis","iacute","igrave","icircumflex","idieresis","ntilde","oacute","ograve","ocircumflex","odieresis","otilde","uacute","ugrave","ucircumflex","udieresis","dagger","degree","cent","sterling","section","bullet","paragraph","germandbls","registered","copyright","trademark","acute","dieresis","notequal","AE","Oslash","infinity","plusminus","lessequal","greaterequal","yen","mu","partialdiff","summation","product","pi","integral","ordfeminine","ordmasculine","Omega","ae","oslash","questiondown","exclamdown","logicalnot","radical","florin","approxequal","Delta","guillemotleft","guillemotright","ellipsis","space","Agrave","Atilde","Otilde","OE","oe","endash","emdash","quotedblleft","quotedblright","quoteleft","quoteright","divide","lozenge","ydieresis","Ydieresis","fraction","currency","guilsinglleft","guilsinglright","fi","fl","daggerdbl","periodcentered","quotesinglbase","quotedblbase","perthousand","Acircumflex","Ecircumflex","Aacute","Edieresis","Egrave","Iacute","Icircumflex","Idieresis","Igrave","Oacute","Ocircumflex","apple","Ograve","Uacute","Ucircumflex","Ugrave","dotlessi","circumflex","tilde","macron","breve","dotaccent","ring","cedilla","hungarumlaut","ogonek","caron"];Et.MacRomanEncoding=_t;const Rt=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","space","exclam","quotedbl","numbersign","dollar","percent","ampersand","quoteright","parenleft","parenright","asterisk","plus","comma","hyphen","period","slash","zero","one","two","three","four","five","six","seven","eight","nine","colon","semicolon","less","equal","greater","question","at","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","bracketleft","backslash","bracketright","asciicircum","underscore","quoteleft","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","braceleft","bar","braceright","asciitilde","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","exclamdown","cent","sterling","fraction","yen","florin","section","currency","quotesingle","quotedblleft","guillemotleft","guilsinglleft","guilsinglright","fi","fl","","endash","dagger","daggerdbl","periodcentered","","paragraph","bullet","quotesinglbase","quotedblbase","quotedblright","guillemotright","ellipsis","perthousand","","questiondown","","grave","acute","circumflex","tilde","macron","breve","dotaccent","dieresis","","ring","cedilla","","hungarumlaut","ogonek","caron","emdash","","","","","","","","","","","","","","","","","AE","","ordfeminine","","","","","Lslash","Oslash","OE","ordmasculine","","","","","","ae","","","","dotlessi","","","lslash","oslash","oe","germandbls","","","",""];Et.StandardEncoding=Rt;const _e=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","space","exclam","quotedbl","numbersign","dollar","percent","ampersand","quotesingle","parenleft","parenright","asterisk","plus","comma","hyphen","period","slash","zero","one","two","three","four","five","six","seven","eight","nine","colon","semicolon","less","equal","greater","question","at","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","bracketleft","backslash","bracketright","asciicircum","underscore","grave","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","braceleft","bar","braceright","asciitilde","bullet","Euro","bullet","quotesinglbase","florin","quotedblbase","ellipsis","dagger","daggerdbl","circumflex","perthousand","Scaron","guilsinglleft","OE","bullet","Zcaron","bullet","bullet","quoteleft","quoteright","quotedblleft","quotedblright","bullet","endash","emdash","tilde","trademark","scaron","guilsinglright","oe","bullet","zcaron","Ydieresis","space","exclamdown","cent","sterling","currency","yen","brokenbar","section","dieresis","copyright","ordfeminine","guillemotleft","logicalnot","hyphen","registered","macron","degree","plusminus","twosuperior","threesuperior","acute","mu","paragraph","periodcentered","cedilla","onesuperior","ordmasculine","guillemotright","onequarter","onehalf","threequarters","questiondown","Agrave","Aacute","Acircumflex","Atilde","Adieresis","Aring","AE","Ccedilla","Egrave","Eacute","Ecircumflex","Edieresis","Igrave","Iacute","Icircumflex","Idieresis","Eth","Ntilde","Ograve","Oacute","Ocircumflex","Otilde","Odieresis","multiply","Oslash","Ugrave","Uacute","Ucircumflex","Udieresis","Yacute","Thorn","germandbls","agrave","aacute","acircumflex","atilde","adieresis","aring","ae","ccedilla","egrave","eacute","ecircumflex","edieresis","igrave","iacute","icircumflex","idieresis","eth","ntilde","ograve","oacute","ocircumflex","otilde","odieresis","divide","oslash","ugrave","uacute","ucircumflex","udieresis","yacute","thorn","ydieresis"];Et.WinAnsiEncoding=_e;const bt=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","space","exclam","universal","numbersign","existential","percent","ampersand","suchthat","parenleft","parenright","asteriskmath","plus","comma","minus","period","slash","zero","one","two","three","four","five","six","seven","eight","nine","colon","semicolon","less","equal","greater","question","congruent","Alpha","Beta","Chi","Delta","Epsilon","Phi","Gamma","Eta","Iota","theta1","Kappa","Lambda","Mu","Nu","Omicron","Pi","Theta","Rho","Sigma","Tau","Upsilon","sigma1","Omega","Xi","Psi","Zeta","bracketleft","therefore","bracketright","perpendicular","underscore","radicalex","alpha","beta","chi","delta","epsilon","phi","gamma","eta","iota","phi1","kappa","lambda","mu","nu","omicron","pi","theta","rho","sigma","tau","upsilon","omega1","omega","xi","psi","zeta","braceleft","bar","braceright","similar","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","Euro","Upsilon1","minute","lessequal","fraction","infinity","florin","club","diamond","heart","spade","arrowboth","arrowleft","arrowup","arrowright","arrowdown","degree","plusminus","second","greaterequal","multiply","proportional","partialdiff","bullet","divide","notequal","equivalence","approxequal","ellipsis","arrowvertex","arrowhorizex","carriagereturn","aleph","Ifraktur","Rfraktur","weierstrass","circlemultiply","circleplus","emptyset","intersection","union","propersuperset","reflexsuperset","notsubset","propersubset","reflexsubset","element","notelement","angle","gradient","registerserif","copyrightserif","trademarkserif","product","radical","dotmath","logicalnot","logicaland","logicalor","arrowdblboth","arrowdblleft","arrowdblup","arrowdblright","arrowdbldown","lozenge","angleleft","registersans","copyrightsans","trademarksans","summation","parenlefttp","parenleftex","parenleftbt","bracketlefttp","bracketleftex","bracketleftbt","bracelefttp","braceleftmid","braceleftbt","braceex","","angleright","integral","integraltp","integralex","integralbt","parenrighttp","parenrightex","parenrightbt","bracketrighttp","bracketrightex","bracketrightbt","bracerighttp","bracerightmid","bracerightbt",""];Et.SymbolSetEncoding=bt;const Pt=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","space","a1","a2","a202","a3","a4","a5","a119","a118","a117","a11","a12","a13","a14","a15","a16","a105","a17","a18","a19","a20","a21","a22","a23","a24","a25","a26","a27","a28","a6","a7","a8","a9","a10","a29","a30","a31","a32","a33","a34","a35","a36","a37","a38","a39","a40","a41","a42","a43","a44","a45","a46","a47","a48","a49","a50","a51","a52","a53","a54","a55","a56","a57","a58","a59","a60","a61","a62","a63","a64","a65","a66","a67","a68","a69","a70","a71","a72","a73","a74","a203","a75","a204","a76","a77","a78","a79","a81","a82","a83","a84","a97","a98","a99","a100","","a89","a90","a93","a94","a91","a92","a205","a85","a206","a86","a87","a88","a95","a96","","","","","","","","","","","","","","","","","","","","a101","a102","a103","a104","a106","a107","a108","a112","a111","a110","a109","a120","a121","a122","a123","a124","a125","a126","a127","a128","a129","a130","a131","a132","a133","a134","a135","a136","a137","a138","a139","a140","a141","a142","a143","a144","a145","a146","a147","a148","a149","a150","a151","a152","a153","a154","a155","a156","a157","a158","a159","a160","a161","a163","a164","a196","a165","a192","a166","a167","a168","a169","a170","a171","a172","a173","a162","a174","a175","a176","a177","a178","a179","a193","a180","a199","a181","a200","a182","","a201","a183","a184","a197","a185","a194","a198","a186","a195","a187","a188","a189","a190","a191",""];Et.ZapfDingbatsEncoding=Pt;function Xt(Kt){switch(Kt){case"WinAnsiEncoding":return _e;case"StandardEncoding":return Rt;case"MacRomanEncoding":return _t;case"SymbolSetEncoding":return bt;case"ZapfDingbatsEncoding":return Pt;case"ExpertEncoding":return Ft;case"MacExpertEncoding":return wt;default:return null}}},(Ct,Et,Ft)=>{Object.defineProperty(Et,"__esModule",{value:!0}),Et.SEAC_ANALYSIS_ENABLED=Et.MacStandardGlyphOrdering=Et.FontFlags=void 0,Et.normalizeFontName=$t,Et.recoverGlyphName=Kt,Et.type1FontGlyphMapping=Nt;var wt=Ft(37),_t=Ft(39),Rt=Ft(40),_e=Ft(2);const bt=!0;Et.SEAC_ANALYSIS_ENABLED=bt;const Pt={FixedPitch:1,Serif:2,Symbolic:4,Script:8,Nonsymbolic:32,Italic:64,AllCap:65536,SmallCap:131072,ForceBold:262144};Et.FontFlags=Pt;const Xt=[".notdef",".null","nonmarkingreturn","space","exclam","quotedbl","numbersign","dollar","percent","ampersand","quotesingle","parenleft","parenright","asterisk","plus","comma","hyphen","period","slash","zero","one","two","three","four","five","six","seven","eight","nine","colon","semicolon","less","equal","greater","question","at","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","bracketleft","backslash","bracketright","asciicircum","underscore","grave","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","braceleft","bar","braceright","asciitilde","Adieresis","Aring","Ccedilla","Eacute","Ntilde","Odieresis","Udieresis","aacute","agrave","acircumflex","adieresis","atilde","aring","ccedilla","eacute","egrave","ecircumflex","edieresis","iacute","igrave","icircumflex","idieresis","ntilde","oacute","ograve","ocircumflex","odieresis","otilde","uacute","ugrave","ucircumflex","udieresis","dagger","degree","cent","sterling","section","bullet","paragraph","germandbls","registered","copyright","trademark","acute","dieresis","notequal","AE","Oslash","infinity","plusminus","lessequal","greaterequal","yen","mu","partialdiff","summation","product","pi","integral","ordfeminine","ordmasculine","Omega","ae","oslash","questiondown","exclamdown","logicalnot","radical","florin","approxequal","Delta","guillemotleft","guillemotright","ellipsis","nonbreakingspace","Agrave","Atilde","Otilde","OE","oe","endash","emdash","quotedblleft","quotedblright","quoteleft","quoteright","divide","lozenge","ydieresis","Ydieresis","fraction","currency","guilsinglleft","guilsinglright","fi","fl","daggerdbl","periodcentered","quotesinglbase","quotedblbase","perthousand","Acircumflex","Ecircumflex","Aacute","Edieresis","Egrave","Iacute","Icircumflex","Idieresis","Igrave","Oacute","Ocircumflex","apple","Ograve","Uacute","Ucircumflex","Ugrave","dotlessi","circumflex","tilde","macron","breve","dotaccent","ring","cedilla","hungarumlaut","ogonek","caron","Lslash","lslash","Scaron","scaron","Zcaron","zcaron","brokenbar","Eth","eth","Yacute","yacute","Thorn","thorn","minus","multiply","onesuperior","twosuperior","threesuperior","onehalf","onequarter","threequarters","franc","Gbreve","gbreve","Idotaccent","Scedilla","scedilla","Cacute","cacute","Ccaron","ccaron","dcroat"];Et.MacStandardGlyphOrdering=Xt;function Kt(Lt,jt){if(jt[Lt]!==void 0)return Lt;const kt=(0,Rt.getUnicodeForGlyph)(Lt,jt);if(kt!==-1){for(const qt in jt)if(jt[qt]===kt)return qt}return(0,_e.info)("Unable to recover a standard glyph name for: "+Lt),Lt}function Nt(Lt,jt,kt){const qt=Object.create(null);let Bt,Gt,en;const dn=!!(Lt.flags&Pt.Symbolic);if(Lt.isInternalFont)for(en=jt,Gt=0;Gt<en.length;Gt++)Bt=kt.indexOf(en[Gt]),qt[Gt]=Bt>=0?Bt:0;else if(Lt.baseEncodingName)for(en=(0,wt.getEncoding)(Lt.baseEncodingName),Gt=0;Gt<en.length;Gt++)Bt=kt.indexOf(en[Gt]),qt[Gt]=Bt>=0?Bt:0;else if(dn)for(Gt in jt)qt[Gt]=jt[Gt];else for(en=wt.StandardEncoding,Gt=0;Gt<en.length;Gt++)Bt=kt.indexOf(en[Gt]),qt[Gt]=Bt>=0?Bt:0;const Qt=Lt.differences;let gn;if(Qt)for(Gt in Qt){const tn=Qt[Gt];if(Bt=kt.indexOf(tn),Bt===-1){gn||(gn=(0,_t.getGlyphsUnicode)());const bn=Kt(tn,gn);bn!==tn&&(Bt=kt.indexOf(bn))}qt[Gt]=Bt>=0?Bt:0}return qt}function $t(Lt){return Lt.replaceAll(/[,_]/g,"-").replaceAll(/\s/g,"")}},(Ct,Et,Ft)=>{Object.defineProperty(Et,"__esModule",{value:!0}),Et.getGlyphsUnicode=Et.getDingbatsGlyphsUnicode=void 0;var wt=Ft(3);const _t=(0,wt.getLookupTableFactory)(function(_e){_e.A=65,_e.AE=198,_e.AEacute=508,_e.AEmacron=482,_e.AEsmall=63462,_e.Aacute=193,_e.Aacutesmall=63457,_e.Abreve=258,_e.Abreveacute=7854,_e.Abrevecyrillic=1232,_e.Abrevedotbelow=7862,_e.Abrevegrave=7856,_e.Abrevehookabove=7858,_e.Abrevetilde=7860,_e.Acaron=461,_e.Acircle=9398,_e.Acircumflex=194,_e.Acircumflexacute=7844,_e.Acircumflexdotbelow=7852,_e.Acircumflexgrave=7846,_e.Acircumflexhookabove=7848,_e.Acircumflexsmall=63458,_e.Acircumflextilde=7850,_e.Acute=63177,_e.Acutesmall=63412,_e.Acyrillic=1040,_e.Adblgrave=512,_e.Adieresis=196,_e.Adieresiscyrillic=1234,_e.Adieresismacron=478,_e.Adieresissmall=63460,_e.Adotbelow=7840,_e.Adotmacron=480,_e.Agrave=192,_e.Agravesmall=63456,_e.Ahookabove=7842,_e.Aiecyrillic=1236,_e.Ainvertedbreve=514,_e.Alpha=913,_e.Alphatonos=902,_e.Amacron=256,_e.Amonospace=65313,_e.Aogonek=260,_e.Aring=197,_e.Aringacute=506,_e.Aringbelow=7680,_e.Aringsmall=63461,_e.Asmall=63329,_e.Atilde=195,_e.Atildesmall=63459,_e.Aybarmenian=1329,_e.B=66,_e.Bcircle=9399,_e.Bdotaccent=7682,_e.Bdotbelow=7684,_e.Becyrillic=1041,_e.Benarmenian=1330,_e.Beta=914,_e.Bhook=385,_e.Blinebelow=7686,_e.Bmonospace=65314,_e.Brevesmall=63220,_e.Bsmall=63330,_e.Btopbar=386,_e.C=67,_e.Caarmenian=1342,_e.Cacute=262,_e.Caron=63178,_e.Caronsmall=63221,_e.Ccaron=268,_e.Ccedilla=199,_e.Ccedillaacute=7688,_e.Ccedillasmall=63463,_e.Ccircle=9400,_e.Ccircumflex=264,_e.Cdot=266,_e.Cdotaccent=266,_e.Cedillasmall=63416,_e.Chaarmenian=1353,_e.Cheabkhasiancyrillic=1212,_e.Checyrillic=1063,_e.Chedescenderabkhasiancyrillic=1214,_e.Chedescendercyrillic=1206,_e.Chedieresiscyrillic=1268,_e.Cheharmenian=1347,_e.Chekhakassiancyrillic=1227,_e.Cheverticalstrokecyrillic=1208,_e.Chi=935,_e.Chook=391,_e.Circumflexsmall=63222,_e.Cmonospace=65315,_e.Coarmenian=1361,_e.Csmall=63331,_e.D=68,_e.DZ=497,_e.DZcaron=452,_e.Daarmenian=1332,_e.Dafrican=393,_e.Dcaron=270,_e.Dcedilla=7696,_e.Dcircle=9401,_e.Dcircumflexbelow=7698,_e.Dcroat=272,_e.Ddotaccent=7690,_e.Ddotbelow=7692,_e.Decyrillic=1044,_e.Deicoptic=1006,_e.Delta=8710,_e.Deltagreek=916,_e.Dhook=394,_e.Dieresis=63179,_e.DieresisAcute=63180,_e.DieresisGrave=63181,_e.Dieresissmall=63400,_e.Digammagreek=988,_e.Djecyrillic=1026,_e.Dlinebelow=7694,_e.Dmonospace=65316,_e.Dotaccentsmall=63223,_e.Dslash=272,_e.Dsmall=63332,_e.Dtopbar=395,_e.Dz=498,_e.Dzcaron=453,_e.Dzeabkhasiancyrillic=1248,_e.Dzecyrillic=1029,_e.Dzhecyrillic=1039,_e.E=69,_e.Eacute=201,_e.Eacutesmall=63465,_e.Ebreve=276,_e.Ecaron=282,_e.Ecedillabreve=7708,_e.Echarmenian=1333,_e.Ecircle=9402,_e.Ecircumflex=202,_e.Ecircumflexacute=7870,_e.Ecircumflexbelow=7704,_e.Ecircumflexdotbelow=7878,_e.Ecircumflexgrave=7872,_e.Ecircumflexhookabove=7874,_e.Ecircumflexsmall=63466,_e.Ecircumflextilde=7876,_e.Ecyrillic=1028,_e.Edblgrave=516,_e.Edieresis=203,_e.Edieresissmall=63467,_e.Edot=278,_e.Edotaccent=278,_e.Edotbelow=7864,_e.Efcyrillic=1060,_e.Egrave=200,_e.Egravesmall=63464,_e.Eharmenian=1335,_e.Ehookabove=7866,_e.Eightroman=8551,_e.Einvertedbreve=518,_e.Eiotifiedcyrillic=1124,_e.Elcyrillic=1051,_e.Elevenroman=8554,_e.Emacron=274,_e.Emacronacute=7702,_e.Emacrongrave=7700,_e.Emcyrillic=1052,_e.Emonospace=65317,_e.Encyrillic=1053,_e.Endescendercyrillic=1186,_e.Eng=330,_e.Enghecyrillic=1188,_e.Enhookcyrillic=1223,_e.Eogonek=280,_e.Eopen=400,_e.Epsilon=917,_e.Epsilontonos=904,_e.Ercyrillic=1056,_e.Ereversed=398,_e.Ereversedcyrillic=1069,_e.Escyrillic=1057,_e.Esdescendercyrillic=1194,_e.Esh=425,_e.Esmall=63333,_e.Eta=919,_e.Etarmenian=1336,_e.Etatonos=905,_e.Eth=208,_e.Ethsmall=63472,_e.Etilde=7868,_e.Etildebelow=7706,_e.Euro=8364,_e.Ezh=439,_e.Ezhcaron=494,_e.Ezhreversed=440,_e.F=70,_e.Fcircle=9403,_e.Fdotaccent=7710,_e.Feharmenian=1366,_e.Feicoptic=996,_e.Fhook=401,_e.Fitacyrillic=1138,_e.Fiveroman=8548,_e.Fmonospace=65318,_e.Fourroman=8547,_e.Fsmall=63334,_e.G=71,_e.GBsquare=13191,_e.Gacute=500,_e.Gamma=915,_e.Gammaafrican=404,_e.Gangiacoptic=1002,_e.Gbreve=286,_e.Gcaron=486,_e.Gcedilla=290,_e.Gcircle=9404,_e.Gcircumflex=284,_e.Gcommaaccent=290,_e.Gdot=288,_e.Gdotaccent=288,_e.Gecyrillic=1043,_e.Ghadarmenian=1346,_e.Ghemiddlehookcyrillic=1172,_e.Ghestrokecyrillic=1170,_e.Gheupturncyrillic=1168,_e.Ghook=403,_e.Gimarmenian=1331,_e.Gjecyrillic=1027,_e.Gmacron=7712,_e.Gmonospace=65319,_e.Grave=63182,_e.Gravesmall=63328,_e.Gsmall=63335,_e.Gsmallhook=667,_e.Gstroke=484,_e.H=72,_e.H18533=9679,_e.H18543=9642,_e.H18551=9643,_e.H22073=9633,_e.HPsquare=13259,_e.Haabkhasiancyrillic=1192,_e.Hadescendercyrillic=1202,_e.Hardsigncyrillic=1066,_e.Hbar=294,_e.Hbrevebelow=7722,_e.Hcedilla=7720,_e.Hcircle=9405,_e.Hcircumflex=292,_e.Hdieresis=7718,_e.Hdotaccent=7714,_e.Hdotbelow=7716,_e.Hmonospace=65320,_e.Hoarmenian=1344,_e.Horicoptic=1e3,_e.Hsmall=63336,_e.Hungarumlaut=63183,_e.Hungarumlautsmall=63224,_e.Hzsquare=13200,_e.I=73,_e.IAcyrillic=1071,_e.IJ=306,_e.IUcyrillic=1070,_e.Iacute=205,_e.Iacutesmall=63469,_e.Ibreve=300,_e.Icaron=463,_e.Icircle=9406,_e.Icircumflex=206,_e.Icircumflexsmall=63470,_e.Icyrillic=1030,_e.Idblgrave=520,_e.Idieresis=207,_e.Idieresisacute=7726,_e.Idieresiscyrillic=1252,_e.Idieresissmall=63471,_e.Idot=304,_e.Idotaccent=304,_e.Idotbelow=7882,_e.Iebrevecyrillic=1238,_e.Iecyrillic=1045,_e.Ifraktur=8465,_e.Igrave=204,_e.Igravesmall=63468,_e.Ihookabove=7880,_e.Iicyrillic=1048,_e.Iinvertedbreve=522,_e.Iishortcyrillic=1049,_e.Imacron=298,_e.Imacroncyrillic=1250,_e.Imonospace=65321,_e.Iniarmenian=1339,_e.Iocyrillic=1025,_e.Iogonek=302,_e.Iota=921,_e.Iotaafrican=406,_e.Iotadieresis=938,_e.Iotatonos=906,_e.Ismall=63337,_e.Istroke=407,_e.Itilde=296,_e.Itildebelow=7724,_e.Izhitsacyrillic=1140,_e.Izhitsadblgravecyrillic=1142,_e.J=74,_e.Jaarmenian=1345,_e.Jcircle=9407,_e.Jcircumflex=308,_e.Jecyrillic=1032,_e.Jheharmenian=1355,_e.Jmonospace=65322,_e.Jsmall=63338,_e.K=75,_e.KBsquare=13189,_e.KKsquare=13261,_e.Kabashkircyrillic=1184,_e.Kacute=7728,_e.Kacyrillic=1050,_e.Kadescendercyrillic=1178,_e.Kahookcyrillic=1219,_e.Kappa=922,_e.Kastrokecyrillic=1182,_e.Kaverticalstrokecyrillic=1180,_e.Kcaron=488,_e.Kcedilla=310,_e.Kcircle=9408,_e.Kcommaaccent=310,_e.Kdotbelow=7730,_e.Keharmenian=1364,_e.Kenarmenian=1343,_e.Khacyrillic=1061,_e.Kheicoptic=998,_e.Khook=408,_e.Kjecyrillic=1036,_e.Klinebelow=7732,_e.Kmonospace=65323,_e.Koppacyrillic=1152,_e.Koppagreek=990,_e.Ksicyrillic=1134,_e.Ksmall=63339,_e.L=76,_e.LJ=455,_e.LL=63167,_e.Lacute=313,_e.Lambda=923,_e.Lcaron=317,_e.Lcedilla=315,_e.Lcircle=9409,_e.Lcircumflexbelow=7740,_e.Lcommaaccent=315,_e.Ldot=319,_e.Ldotaccent=319,_e.Ldotbelow=7734,_e.Ldotbelowmacron=7736,_e.Liwnarmenian=1340,_e.Lj=456,_e.Ljecyrillic=1033,_e.Llinebelow=7738,_e.Lmonospace=65324,_e.Lslash=321,_e.Lslashsmall=63225,_e.Lsmall=63340,_e.M=77,_e.MBsquare=13190,_e.Macron=63184,_e.Macronsmall=63407,_e.Macute=7742,_e.Mcircle=9410,_e.Mdotaccent=7744,_e.Mdotbelow=7746,_e.Menarmenian=1348,_e.Mmonospace=65325,_e.Msmall=63341,_e.Mturned=412,_e.Mu=924,_e.N=78,_e.NJ=458,_e.Nacute=323,_e.Ncaron=327,_e.Ncedilla=325,_e.Ncircle=9411,_e.Ncircumflexbelow=7754,_e.Ncommaaccent=325,_e.Ndotaccent=7748,_e.Ndotbelow=7750,_e.Nhookleft=413,_e.Nineroman=8552,_e.Nj=459,_e.Njecyrillic=1034,_e.Nlinebelow=7752,_e.Nmonospace=65326,_e.Nowarmenian=1350,_e.Nsmall=63342,_e.Ntilde=209,_e.Ntildesmall=63473,_e.Nu=925,_e.O=79,_e.OE=338,_e.OEsmall=63226,_e.Oacute=211,_e.Oacutesmall=63475,_e.Obarredcyrillic=1256,_e.Obarreddieresiscyrillic=1258,_e.Obreve=334,_e.Ocaron=465,_e.Ocenteredtilde=415,_e.Ocircle=9412,_e.Ocircumflex=212,_e.Ocircumflexacute=7888,_e.Ocircumflexdotbelow=7896,_e.Ocircumflexgrave=7890,_e.Ocircumflexhookabove=7892,_e.Ocircumflexsmall=63476,_e.Ocircumflextilde=7894,_e.Ocyrillic=1054,_e.Odblacute=336,_e.Odblgrave=524,_e.Odieresis=214,_e.Odieresiscyrillic=1254,_e.Odieresissmall=63478,_e.Odotbelow=7884,_e.Ogoneksmall=63227,_e.Ograve=210,_e.Ogravesmall=63474,_e.Oharmenian=1365,_e.Ohm=8486,_e.Ohookabove=7886,_e.Ohorn=416,_e.Ohornacute=7898,_e.Ohorndotbelow=7906,_e.Ohorngrave=7900,_e.Ohornhookabove=7902,_e.Ohorntilde=7904,_e.Ohungarumlaut=336,_e.Oi=418,_e.Oinvertedbreve=526,_e.Omacron=332,_e.Omacronacute=7762,_e.Omacrongrave=7760,_e.Omega=8486,_e.Omegacyrillic=1120,_e.Omegagreek=937,_e.Omegaroundcyrillic=1146,_e.Omegatitlocyrillic=1148,_e.Omegatonos=911,_e.Omicron=927,_e.Omicrontonos=908,_e.Omonospace=65327,_e.Oneroman=8544,_e.Oogonek=490,_e.Oogonekmacron=492,_e.Oopen=390,_e.Oslash=216,_e.Oslashacute=510,_e.Oslashsmall=63480,_e.Osmall=63343,_e.Ostrokeacute=510,_e.Otcyrillic=1150,_e.Otilde=213,_e.Otildeacute=7756,_e.Otildedieresis=7758,_e.Otildesmall=63477,_e.P=80,_e.Pacute=7764,_e.Pcircle=9413,_e.Pdotaccent=7766,_e.Pecyrillic=1055,_e.Peharmenian=1354,_e.Pemiddlehookcyrillic=1190,_e.Phi=934,_e.Phook=420,_e.Pi=928,_e.Piwrarmenian=1363,_e.Pmonospace=65328,_e.Psi=936,_e.Psicyrillic=1136,_e.Psmall=63344,_e.Q=81,_e.Qcircle=9414,_e.Qmonospace=65329,_e.Qsmall=63345,_e.R=82,_e.Raarmenian=1356,_e.Racute=340,_e.Rcaron=344,_e.Rcedilla=342,_e.Rcircle=9415,_e.Rcommaaccent=342,_e.Rdblgrave=528,_e.Rdotaccent=7768,_e.Rdotbelow=7770,_e.Rdotbelowmacron=7772,_e.Reharmenian=1360,_e.Rfraktur=8476,_e.Rho=929,_e.Ringsmall=63228,_e.Rinvertedbreve=530,_e.Rlinebelow=7774,_e.Rmonospace=65330,_e.Rsmall=63346,_e.Rsmallinverted=641,_e.Rsmallinvertedsuperior=694,_e.S=83,_e.SF010000=9484,_e.SF020000=9492,_e.SF030000=9488,_e.SF040000=9496,_e.SF050000=9532,_e.SF060000=9516,_e.SF070000=9524,_e.SF080000=9500,_e.SF090000=9508,_e.SF100000=9472,_e.SF110000=9474,_e.SF190000=9569,_e.SF200000=9570,_e.SF210000=9558,_e.SF220000=9557,_e.SF230000=9571,_e.SF240000=9553,_e.SF250000=9559,_e.SF260000=9565,_e.SF270000=9564,_e.SF280000=9563,_e.SF360000=9566,_e.SF370000=9567,_e.SF380000=9562,_e.SF390000=9556,_e.SF400000=9577,_e.SF410000=9574,_e.SF420000=9568,_e.SF430000=9552,_e.SF440000=9580,_e.SF450000=9575,_e.SF460000=9576,_e.SF470000=9572,_e.SF480000=9573,_e.SF490000=9561,_e.SF500000=9560,_e.SF510000=9554,_e.SF520000=9555,_e.SF530000=9579,_e.SF540000=9578,_e.Sacute=346,_e.Sacutedotaccent=7780,_e.Sampigreek=992,_e.Scaron=352,_e.Scarondotaccent=7782,_e.Scaronsmall=63229,_e.Scedilla=350,_e.Schwa=399,_e.Schwacyrillic=1240,_e.Schwadieresiscyrillic=1242,_e.Scircle=9416,_e.Scircumflex=348,_e.Scommaaccent=536,_e.Sdotaccent=7776,_e.Sdotbelow=7778,_e.Sdotbelowdotaccent=7784,_e.Seharmenian=1357,_e.Sevenroman=8550,_e.Shaarmenian=1351,_e.Shacyrillic=1064,_e.Shchacyrillic=1065,_e.Sheicoptic=994,_e.Shhacyrillic=1210,_e.Shimacoptic=1004,_e.Sigma=931,_e.Sixroman=8549,_e.Smonospace=65331,_e.Softsigncyrillic=1068,_e.Ssmall=63347,_e.Stigmagreek=986,_e.T=84,_e.Tau=932,_e.Tbar=358,_e.Tcaron=356,_e.Tcedilla=354,_e.Tcircle=9417,_e.Tcircumflexbelow=7792,_e.Tcommaaccent=354,_e.Tdotaccent=7786,_e.Tdotbelow=7788,_e.Tecyrillic=1058,_e.Tedescendercyrillic=1196,_e.Tenroman=8553,_e.Tetsecyrillic=1204,_e.Theta=920,_e.Thook=428,_e.Thorn=222,_e.Thornsmall=63486,_e.Threeroman=8546,_e.Tildesmall=63230,_e.Tiwnarmenian=1359,_e.Tlinebelow=7790,_e.Tmonospace=65332,_e.Toarmenian=1337,_e.Tonefive=444,_e.Tonesix=388,_e.Tonetwo=423,_e.Tretroflexhook=430,_e.Tsecyrillic=1062,_e.Tshecyrillic=1035,_e.Tsmall=63348,_e.Twelveroman=8555,_e.Tworoman=8545,_e.U=85,_e.Uacute=218,_e.Uacutesmall=63482,_e.Ubreve=364,_e.Ucaron=467,_e.Ucircle=9418,_e.Ucircumflex=219,_e.Ucircumflexbelow=7798,_e.Ucircumflexsmall=63483,_e.Ucyrillic=1059,_e.Udblacute=368,_e.Udblgrave=532,_e.Udieresis=220,_e.Udieresisacute=471,_e.Udieresisbelow=7794,_e.Udieresiscaron=473,_e.Udieresiscyrillic=1264,_e.Udieresisgrave=475,_e.Udieresismacron=469,_e.Udieresissmall=63484,_e.Udotbelow=7908,_e.Ugrave=217,_e.Ugravesmall=63481,_e.Uhookabove=7910,_e.Uhorn=431,_e.Uhornacute=7912,_e.Uhorndotbelow=7920,_e.Uhorngrave=7914,_e.Uhornhookabove=7916,_e.Uhorntilde=7918,_e.Uhungarumlaut=368,_e.Uhungarumlautcyrillic=1266,_e.Uinvertedbreve=534,_e.Ukcyrillic=1144,_e.Umacron=362,_e.Umacroncyrillic=1262,_e.Umacrondieresis=7802,_e.Umonospace=65333,_e.Uogonek=370,_e.Upsilon=933,_e.Upsilon1=978,_e.Upsilonacutehooksymbolgreek=979,_e.Upsilonafrican=433,_e.Upsilondieresis=939,_e.Upsilondieresishooksymbolgreek=980,_e.Upsilonhooksymbol=978,_e.Upsilontonos=910,_e.Uring=366,_e.Ushortcyrillic=1038,_e.Usmall=63349,_e.Ustraightcyrillic=1198,_e.Ustraightstrokecyrillic=1200,_e.Utilde=360,_e.Utildeacute=7800,_e.Utildebelow=7796,_e.V=86,_e.Vcircle=9419,_e.Vdotbelow=7806,_e.Vecyrillic=1042,_e.Vewarmenian=1358,_e.Vhook=434,_e.Vmonospace=65334,_e.Voarmenian=1352,_e.Vsmall=63350,_e.Vtilde=7804,_e.W=87,_e.Wacute=7810,_e.Wcircle=9420,_e.Wcircumflex=372,_e.Wdieresis=7812,_e.Wdotaccent=7814,_e.Wdotbelow=7816,_e.Wgrave=7808,_e.Wmonospace=65335,_e.Wsmall=63351,_e.X=88,_e.Xcircle=9421,_e.Xdieresis=7820,_e.Xdotaccent=7818,_e.Xeharmenian=1341,_e.Xi=926,_e.Xmonospace=65336,_e.Xsmall=63352,_e.Y=89,_e.Yacute=221,_e.Yacutesmall=63485,_e.Yatcyrillic=1122,_e.Ycircle=9422,_e.Ycircumflex=374,_e.Ydieresis=376,_e.Ydieresissmall=63487,_e.Ydotaccent=7822,_e.Ydotbelow=7924,_e.Yericyrillic=1067,_e.Yerudieresiscyrillic=1272,_e.Ygrave=7922,_e.Yhook=435,_e.Yhookabove=7926,_e.Yiarmenian=1349,_e.Yicyrillic=1031,_e.Yiwnarmenian=1362,_e.Ymonospace=65337,_e.Ysmall=63353,_e.Ytilde=7928,_e.Yusbigcyrillic=1130,_e.Yusbigiotifiedcyrillic=1132,_e.Yuslittlecyrillic=1126,_e.Yuslittleiotifiedcyrillic=1128,_e.Z=90,_e.Zaarmenian=1334,_e.Zacute=377,_e.Zcaron=381,_e.Zcaronsmall=63231,_e.Zcircle=9423,_e.Zcircumflex=7824,_e.Zdot=379,_e.Zdotaccent=379,_e.Zdotbelow=7826,_e.Zecyrillic=1047,_e.Zedescendercyrillic=1176,_e.Zedieresiscyrillic=1246,_e.Zeta=918,_e.Zhearmenian=1338,_e.Zhebrevecyrillic=1217,_e.Zhecyrillic=1046,_e.Zhedescendercyrillic=1174,_e.Zhedieresiscyrillic=1244,_e.Zlinebelow=7828,_e.Zmonospace=65338,_e.Zsmall=63354,_e.Zstroke=437,_e.a=97,_e.aabengali=2438,_e.aacute=225,_e.aadeva=2310,_e.aagujarati=2694,_e.aagurmukhi=2566,_e.aamatragurmukhi=2622,_e.aarusquare=13059,_e.aavowelsignbengali=2494,_e.aavowelsigndeva=2366,_e.aavowelsigngujarati=2750,_e.abbreviationmarkarmenian=1375,_e.abbreviationsigndeva=2416,_e.abengali=2437,_e.abopomofo=12570,_e.abreve=259,_e.abreveacute=7855,_e.abrevecyrillic=1233,_e.abrevedotbelow=7863,_e.abrevegrave=7857,_e.abrevehookabove=7859,_e.abrevetilde=7861,_e.acaron=462,_e.acircle=9424,_e.acircumflex=226,_e.acircumflexacute=7845,_e.acircumflexdotbelow=7853,_e.acircumflexgrave=7847,_e.acircumflexhookabove=7849,_e.acircumflextilde=7851,_e.acute=180,_e.acutebelowcmb=791,_e.acutecmb=769,_e.acutecomb=769,_e.acutedeva=2388,_e.acutelowmod=719,_e.acutetonecmb=833,_e.acyrillic=1072,_e.adblgrave=513,_e.addakgurmukhi=2673,_e.adeva=2309,_e.adieresis=228,_e.adieresiscyrillic=1235,_e.adieresismacron=479,_e.adotbelow=7841,_e.adotmacron=481,_e.ae=230,_e.aeacute=509,_e.aekorean=12624,_e.aemacron=483,_e.afii00208=8213,_e.afii08941=8356,_e.afii10017=1040,_e.afii10018=1041,_e.afii10019=1042,_e.afii10020=1043,_e.afii10021=1044,_e.afii10022=1045,_e.afii10023=1025,_e.afii10024=1046,_e.afii10025=1047,_e.afii10026=1048,_e.afii10027=1049,_e.afii10028=1050,_e.afii10029=1051,_e.afii10030=1052,_e.afii10031=1053,_e.afii10032=1054,_e.afii10033=1055,_e.afii10034=1056,_e.afii10035=1057,_e.afii10036=1058,_e.afii10037=1059,_e.afii10038=1060,_e.afii10039=1061,_e.afii10040=1062,_e.afii10041=1063,_e.afii10042=1064,_e.afii10043=1065,_e.afii10044=1066,_e.afii10045=1067,_e.afii10046=1068,_e.afii10047=1069,_e.afii10048=1070,_e.afii10049=1071,_e.afii10050=1168,_e.afii10051=1026,_e.afii10052=1027,_e.afii10053=1028,_e.afii10054=1029,_e.afii10055=1030,_e.afii10056=1031,_e.afii10057=1032,_e.afii10058=1033,_e.afii10059=1034,_e.afii10060=1035,_e.afii10061=1036,_e.afii10062=1038,_e.afii10063=63172,_e.afii10064=63173,_e.afii10065=1072,_e.afii10066=1073,_e.afii10067=1074,_e.afii10068=1075,_e.afii10069=1076,_e.afii10070=1077,_e.afii10071=1105,_e.afii10072=1078,_e.afii10073=1079,_e.afii10074=1080,_e.afii10075=1081,_e.afii10076=1082,_e.afii10077=1083,_e.afii10078=1084,_e.afii10079=1085,_e.afii10080=1086,_e.afii10081=1087,_e.afii10082=1088,_e.afii10083=1089,_e.afii10084=1090,_e.afii10085=1091,_e.afii10086=1092,_e.afii10087=1093,_e.afii10088=1094,_e.afii10089=1095,_e.afii10090=1096,_e.afii10091=1097,_e.afii10092=1098,_e.afii10093=1099,_e.afii10094=1100,_e.afii10095=1101,_e.afii10096=1102,_e.afii10097=1103,_e.afii10098=1169,_e.afii10099=1106,_e.afii10100=1107,_e.afii10101=1108,_e.afii10102=1109,_e.afii10103=1110,_e.afii10104=1111,_e.afii10105=1112,_e.afii10106=1113,_e.afii10107=1114,_e.afii10108=1115,_e.afii10109=1116,_e.afii10110=1118,_e.afii10145=1039,_e.afii10146=1122,_e.afii10147=1138,_e.afii10148=1140,_e.afii10192=63174,_e.afii10193=1119,_e.afii10194=1123,_e.afii10195=1139,_e.afii10196=1141,_e.afii10831=63175,_e.afii10832=63176,_e.afii10846=1241,_e.afii299=8206,_e.afii300=8207,_e.afii301=8205,_e.afii57381=1642,_e.afii57388=1548,_e.afii57392=1632,_e.afii57393=1633,_e.afii57394=1634,_e.afii57395=1635,_e.afii57396=1636,_e.afii57397=1637,_e.afii57398=1638,_e.afii57399=1639,_e.afii57400=1640,_e.afii57401=1641,_e.afii57403=1563,_e.afii57407=1567,_e.afii57409=1569,_e.afii57410=1570,_e.afii57411=1571,_e.afii57412=1572,_e.afii57413=1573,_e.afii57414=1574,_e.afii57415=1575,_e.afii57416=1576,_e.afii57417=1577,_e.afii57418=1578,_e.afii57419=1579,_e.afii57420=1580,_e.afii57421=1581,_e.afii57422=1582,_e.afii57423=1583,_e.afii57424=1584,_e.afii57425=1585,_e.afii57426=1586,_e.afii57427=1587,_e.afii57428=1588,_e.afii57429=1589,_e.afii57430=1590,_e.afii57431=1591,_e.afii57432=1592,_e.afii57433=1593,_e.afii57434=1594,_e.afii57440=1600,_e.afii57441=1601,_e.afii57442=1602,_e.afii57443=1603,_e.afii57444=1604,_e.afii57445=1605,_e.afii57446=1606,_e.afii57448=1608,_e.afii57449=1609,_e.afii57450=1610,_e.afii57451=1611,_e.afii57452=1612,_e.afii57453=1613,_e.afii57454=1614,_e.afii57455=1615,_e.afii57456=1616,_e.afii57457=1617,_e.afii57458=1618,_e.afii57470=1607,_e.afii57505=1700,_e.afii57506=1662,_e.afii57507=1670,_e.afii57508=1688,_e.afii57509=1711,_e.afii57511=1657,_e.afii57512=1672,_e.afii57513=1681,_e.afii57514=1722,_e.afii57519=1746,_e.afii57534=1749,_e.afii57636=8362,_e.afii57645=1470,_e.afii57658=1475,_e.afii57664=1488,_e.afii57665=1489,_e.afii57666=1490,_e.afii57667=1491,_e.afii57668=1492,_e.afii57669=1493,_e.afii57670=1494,_e.afii57671=1495,_e.afii57672=1496,_e.afii57673=1497,_e.afii57674=1498,_e.afii57675=1499,_e.afii57676=1500,_e.afii57677=1501,_e.afii57678=1502,_e.afii57679=1503,_e.afii57680=1504,_e.afii57681=1505,_e.afii57682=1506,_e.afii57683=1507,_e.afii57684=1508,_e.afii57685=1509,_e.afii57686=1510,_e.afii57687=1511,_e.afii57688=1512,_e.afii57689=1513,_e.afii57690=1514,_e.afii57694=64298,_e.afii57695=64299,_e.afii57700=64331,_e.afii57705=64287,_e.afii57716=1520,_e.afii57717=1521,_e.afii57718=1522,_e.afii57723=64309,_e.afii57793=1460,_e.afii57794=1461,_e.afii57795=1462,_e.afii57796=1467,_e.afii57797=1464,_e.afii57798=1463,_e.afii57799=1456,_e.afii57800=1458,_e.afii57801=1457,_e.afii57802=1459,_e.afii57803=1474,_e.afii57804=1473,_e.afii57806=1465,_e.afii57807=1468,_e.afii57839=1469,_e.afii57841=1471,_e.afii57842=1472,_e.afii57929=700,_e.afii61248=8453,_e.afii61289=8467,_e.afii61352=8470,_e.afii61573=8236,_e.afii61574=8237,_e.afii61575=8238,_e.afii61664=8204,_e.afii63167=1645,_e.afii64937=701,_e.agrave=224,_e.agujarati=2693,_e.agurmukhi=2565,_e.ahiragana=12354,_e.ahookabove=7843,_e.aibengali=2448,_e.aibopomofo=12574,_e.aideva=2320,_e.aiecyrillic=1237,_e.aigujarati=2704,_e.aigurmukhi=2576,_e.aimatragurmukhi=2632,_e.ainarabic=1593,_e.ainfinalarabic=65226,_e.aininitialarabic=65227,_e.ainmedialarabic=65228,_e.ainvertedbreve=515,_e.aivowelsignbengali=2504,_e.aivowelsigndeva=2376,_e.aivowelsigngujarati=2760,_e.akatakana=12450,_e.akatakanahalfwidth=65393,_e.akorean=12623,_e.alef=1488,_e.alefarabic=1575,_e.alefdageshhebrew=64304,_e.aleffinalarabic=65166,_e.alefhamzaabovearabic=1571,_e.alefhamzaabovefinalarabic=65156,_e.alefhamzabelowarabic=1573,_e.alefhamzabelowfinalarabic=65160,_e.alefhebrew=1488,_e.aleflamedhebrew=64335,_e.alefmaddaabovearabic=1570,_e.alefmaddaabovefinalarabic=65154,_e.alefmaksuraarabic=1609,_e.alefmaksurafinalarabic=65264,_e.alefmaksurainitialarabic=65267,_e.alefmaksuramedialarabic=65268,_e.alefpatahhebrew=64302,_e.alefqamatshebrew=64303,_e.aleph=8501,_e.allequal=8780,_e.alpha=945,_e.alphatonos=940,_e.amacron=257,_e.amonospace=65345,_e.ampersand=38,_e.ampersandmonospace=65286,_e.ampersandsmall=63270,_e.amsquare=13250,_e.anbopomofo=12578,_e.angbopomofo=12580,_e.angbracketleft=12296,_e.angbracketright=12297,_e.angkhankhuthai=3674,_e.angle=8736,_e.anglebracketleft=12296,_e.anglebracketleftvertical=65087,_e.anglebracketright=12297,_e.anglebracketrightvertical=65088,_e.angleleft=9001,_e.angleright=9002,_e.angstrom=8491,_e.anoteleia=903,_e.anudattadeva=2386,_e.anusvarabengali=2434,_e.anusvaradeva=2306,_e.anusvaragujarati=2690,_e.aogonek=261,_e.apaatosquare=13056,_e.aparen=9372,_e.apostrophearmenian=1370,_e.apostrophemod=700,_e.apple=63743,_e.approaches=8784,_e.approxequal=8776,_e.approxequalorimage=8786,_e.approximatelyequal=8773,_e.araeaekorean=12686,_e.araeakorean=12685,_e.arc=8978,_e.arighthalfring=7834,_e.aring=229,_e.aringacute=507,_e.aringbelow=7681,_e.arrowboth=8596,_e.arrowdashdown=8675,_e.arrowdashleft=8672,_e.arrowdashright=8674,_e.arrowdashup=8673,_e.arrowdblboth=8660,_e.arrowdbldown=8659,_e.arrowdblleft=8656,_e.arrowdblright=8658,_e.arrowdblup=8657,_e.arrowdown=8595,_e.arrowdownleft=8601,_e.arrowdownright=8600,_e.arrowdownwhite=8681,_e.arrowheaddownmod=709,_e.arrowheadleftmod=706,_e.arrowheadrightmod=707,_e.arrowheadupmod=708,_e.arrowhorizex=63719,_e.arrowleft=8592,_e.arrowleftdbl=8656,_e.arrowleftdblstroke=8653,_e.arrowleftoverright=8646,_e.arrowleftwhite=8678,_e.arrowright=8594,_e.arrowrightdblstroke=8655,_e.arrowrightheavy=10142,_e.arrowrightoverleft=8644,_e.arrowrightwhite=8680,_e.arrowtableft=8676,_e.arrowtabright=8677,_e.arrowup=8593,_e.arrowupdn=8597,_e.arrowupdnbse=8616,_e.arrowupdownbase=8616,_e.arrowupleft=8598,_e.arrowupleftofdown=8645,_e.arrowupright=8599,_e.arrowupwhite=8679,_e.arrowvertex=63718,_e.asciicircum=94,_e.asciicircummonospace=65342,_e.asciitilde=126,_e.asciitildemonospace=65374,_e.ascript=593,_e.ascriptturned=594,_e.asmallhiragana=12353,_e.asmallkatakana=12449,_e.asmallkatakanahalfwidth=65383,_e.asterisk=42,_e.asteriskaltonearabic=1645,_e.asteriskarabic=1645,_e.asteriskmath=8727,_e.asteriskmonospace=65290,_e.asterisksmall=65121,_e.asterism=8258,_e.asuperior=63209,_e.asymptoticallyequal=8771,_e.at=64,_e.atilde=227,_e.atmonospace=65312,_e.atsmall=65131,_e.aturned=592,_e.aubengali=2452,_e.aubopomofo=12576,_e.audeva=2324,_e.augujarati=2708,_e.augurmukhi=2580,_e.aulengthmarkbengali=2519,_e.aumatragurmukhi=2636,_e.auvowelsignbengali=2508,_e.auvowelsigndeva=2380,_e.auvowelsigngujarati=2764,_e.avagrahadeva=2365,_e.aybarmenian=1377,_e.ayin=1506,_e.ayinaltonehebrew=64288,_e.ayinhebrew=1506,_e.b=98,_e.babengali=2476,_e.backslash=92,_e.backslashmonospace=65340,_e.badeva=2348,_e.bagujarati=2732,_e.bagurmukhi=2604,_e.bahiragana=12400,_e.bahtthai=3647,_e.bakatakana=12496,_e.bar=124,_e.barmonospace=65372,_e.bbopomofo=12549,_e.bcircle=9425,_e.bdotaccent=7683,_e.bdotbelow=7685,_e.beamedsixteenthnotes=9836,_e.because=8757,_e.becyrillic=1073,_e.beharabic=1576,_e.behfinalarabic=65168,_e.behinitialarabic=65169,_e.behiragana=12409,_e.behmedialarabic=65170,_e.behmeeminitialarabic=64671,_e.behmeemisolatedarabic=64520,_e.behnoonfinalarabic=64621,_e.bekatakana=12505,_e.benarmenian=1378,_e.bet=1489,_e.beta=946,_e.betasymbolgreek=976,_e.betdagesh=64305,_e.betdageshhebrew=64305,_e.bethebrew=1489,_e.betrafehebrew=64332,_e.bhabengali=2477,_e.bhadeva=2349,_e.bhagujarati=2733,_e.bhagurmukhi=2605,_e.bhook=595,_e.bihiragana=12403,_e.bikatakana=12499,_e.bilabialclick=664,_e.bindigurmukhi=2562,_e.birusquare=13105,_e.blackcircle=9679,_e.blackdiamond=9670,_e.blackdownpointingtriangle=9660,_e.blackleftpointingpointer=9668,_e.blackleftpointingtriangle=9664,_e.blacklenticularbracketleft=12304,_e.blacklenticularbracketleftvertical=65083,_e.blacklenticularbracketright=12305,_e.blacklenticularbracketrightvertical=65084,_e.blacklowerlefttriangle=9699,_e.blacklowerrighttriangle=9698,_e.blackrectangle=9644,_e.blackrightpointingpointer=9658,_e.blackrightpointingtriangle=9654,_e.blacksmallsquare=9642,_e.blacksmilingface=9787,_e.blacksquare=9632,_e.blackstar=9733,_e.blackupperlefttriangle=9700,_e.blackupperrighttriangle=9701,_e.blackuppointingsmalltriangle=9652,_e.blackuppointingtriangle=9650,_e.blank=9251,_e.blinebelow=7687,_e.block=9608,_e.bmonospace=65346,_e.bobaimaithai=3610,_e.bohiragana=12412,_e.bokatakana=12508,_e.bparen=9373,_e.bqsquare=13251,_e.braceex=63732,_e.braceleft=123,_e.braceleftbt=63731,_e.braceleftmid=63730,_e.braceleftmonospace=65371,_e.braceleftsmall=65115,_e.bracelefttp=63729,_e.braceleftvertical=65079,_e.braceright=125,_e.bracerightbt=63742,_e.bracerightmid=63741,_e.bracerightmonospace=65373,_e.bracerightsmall=65116,_e.bracerighttp=63740,_e.bracerightvertical=65080,_e.bracketleft=91,_e.bracketleftbt=63728,_e.bracketleftex=63727,_e.bracketleftmonospace=65339,_e.bracketlefttp=63726,_e.bracketright=93,_e.bracketrightbt=63739,_e.bracketrightex=63738,_e.bracketrightmonospace=65341,_e.bracketrighttp=63737,_e.breve=728,_e.brevebelowcmb=814,_e.brevecmb=774,_e.breveinvertedbelowcmb=815,_e.breveinvertedcmb=785,_e.breveinverteddoublecmb=865,_e.bridgebelowcmb=810,_e.bridgeinvertedbelowcmb=826,_e.brokenbar=166,_e.bstroke=384,_e.bsuperior=63210,_e.btopbar=387,_e.buhiragana=12406,_e.bukatakana=12502,_e.bullet=8226,_e.bulletinverse=9688,_e.bulletoperator=8729,_e.bullseye=9678,_e.c=99,_e.caarmenian=1390,_e.cabengali=2458,_e.cacute=263,_e.cadeva=2330,_e.cagujarati=2714,_e.cagurmukhi=2586,_e.calsquare=13192,_e.candrabindubengali=2433,_e.candrabinducmb=784,_e.candrabindudeva=2305,_e.candrabindugujarati=2689,_e.capslock=8682,_e.careof=8453,_e.caron=711,_e.caronbelowcmb=812,_e.caroncmb=780,_e.carriagereturn=8629,_e.cbopomofo=12568,_e.ccaron=269,_e.ccedilla=231,_e.ccedillaacute=7689,_e.ccircle=9426,_e.ccircumflex=265,_e.ccurl=597,_e.cdot=267,_e.cdotaccent=267,_e.cdsquare=13253,_e.cedilla=184,_e.cedillacmb=807,_e.cent=162,_e.centigrade=8451,_e.centinferior=63199,_e.centmonospace=65504,_e.centoldstyle=63394,_e.centsuperior=63200,_e.chaarmenian=1401,_e.chabengali=2459,_e.chadeva=2331,_e.chagujarati=2715,_e.chagurmukhi=2587,_e.chbopomofo=12564,_e.cheabkhasiancyrillic=1213,_e.checkmark=10003,_e.checyrillic=1095,_e.chedescenderabkhasiancyrillic=1215,_e.chedescendercyrillic=1207,_e.chedieresiscyrillic=1269,_e.cheharmenian=1395,_e.chekhakassiancyrillic=1228,_e.cheverticalstrokecyrillic=1209,_e.chi=967,_e.chieuchacirclekorean=12919,_e.chieuchaparenkorean=12823,_e.chieuchcirclekorean=12905,_e.chieuchkorean=12618,_e.chieuchparenkorean=12809,_e.chochangthai=3594,_e.chochanthai=3592,_e.chochingthai=3593,_e.chochoethai=3596,_e.chook=392,_e.cieucacirclekorean=12918,_e.cieucaparenkorean=12822,_e.cieuccirclekorean=12904,_e.cieuckorean=12616,_e.cieucparenkorean=12808,_e.cieucuparenkorean=12828,_e.circle=9675,_e.circlecopyrt=169,_e.circlemultiply=8855,_e.circleot=8857,_e.circleplus=8853,_e.circlepostalmark=12342,_e.circlewithlefthalfblack=9680,_e.circlewithrighthalfblack=9681,_e.circumflex=710,_e.circumflexbelowcmb=813,_e.circumflexcmb=770,_e.clear=8999,_e.clickalveolar=450,_e.clickdental=448,_e.clicklateral=449,_e.clickretroflex=451,_e.club=9827,_e.clubsuitblack=9827,_e.clubsuitwhite=9831,_e.cmcubedsquare=13220,_e.cmonospace=65347,_e.cmsquaredsquare=13216,_e.coarmenian=1409,_e.colon=58,_e.colonmonetary=8353,_e.colonmonospace=65306,_e.colonsign=8353,_e.colonsmall=65109,_e.colontriangularhalfmod=721,_e.colontriangularmod=720,_e.comma=44,_e.commaabovecmb=787,_e.commaaboverightcmb=789,_e.commaaccent=63171,_e.commaarabic=1548,_e.commaarmenian=1373,_e.commainferior=63201,_e.commamonospace=65292,_e.commareversedabovecmb=788,_e.commareversedmod=701,_e.commasmall=65104,_e.commasuperior=63202,_e.commaturnedabovecmb=786,_e.commaturnedmod=699,_e.compass=9788,_e.congruent=8773,_e.contourintegral=8750,_e.control=8963,_e.controlACK=6,_e.controlBEL=7,_e.controlBS=8,_e.controlCAN=24,_e.controlCR=13,_e.controlDC1=17,_e.controlDC2=18,_e.controlDC3=19,_e.controlDC4=20,_e.controlDEL=127,_e.controlDLE=16,_e.controlEM=25,_e.controlENQ=5,_e.controlEOT=4,_e.controlESC=27,_e.controlETB=23,_e.controlETX=3,_e.controlFF=12,_e.controlFS=28,_e.controlGS=29,_e.controlHT=9,_e.controlLF=10,_e.controlNAK=21,_e.controlNULL=0,_e.controlRS=30,_e.controlSI=15,_e.controlSO=14,_e.controlSOT=2,_e.controlSTX=1,_e.controlSUB=26,_e.controlSYN=22,_e.controlUS=31,_e.controlVT=11,_e.copyright=169,_e.copyrightsans=63721,_e.copyrightserif=63193,_e.cornerbracketleft=12300,_e.cornerbracketlefthalfwidth=65378,_e.cornerbracketleftvertical=65089,_e.cornerbracketright=12301,_e.cornerbracketrighthalfwidth=65379,_e.cornerbracketrightvertical=65090,_e.corporationsquare=13183,_e.cosquare=13255,_e.coverkgsquare=13254,_e.cparen=9374,_e.cruzeiro=8354,_e.cstretched=663,_e.curlyand=8911,_e.curlyor=8910,_e.currency=164,_e.cyrBreve=63185,_e.cyrFlex=63186,_e.cyrbreve=63188,_e.cyrflex=63189,_e.d=100,_e.daarmenian=1380,_e.dabengali=2470,_e.dadarabic=1590,_e.dadeva=2342,_e.dadfinalarabic=65214,_e.dadinitialarabic=65215,_e.dadmedialarabic=65216,_e.dagesh=1468,_e.dageshhebrew=1468,_e.dagger=8224,_e.daggerdbl=8225,_e.dagujarati=2726,_e.dagurmukhi=2598,_e.dahiragana=12384,_e.dakatakana=12480,_e.dalarabic=1583,_e.dalet=1491,_e.daletdagesh=64307,_e.daletdageshhebrew=64307,_e.dalethebrew=1491,_e.dalfinalarabic=65194,_e.dammaarabic=1615,_e.dammalowarabic=1615,_e.dammatanaltonearabic=1612,_e.dammatanarabic=1612,_e.danda=2404,_e.dargahebrew=1447,_e.dargalefthebrew=1447,_e.dasiapneumatacyrilliccmb=1157,_e.dblGrave=63187,_e.dblanglebracketleft=12298,_e.dblanglebracketleftvertical=65085,_e.dblanglebracketright=12299,_e.dblanglebracketrightvertical=65086,_e.dblarchinvertedbelowcmb=811,_e.dblarrowleft=8660,_e.dblarrowright=8658,_e.dbldanda=2405,_e.dblgrave=63190,_e.dblgravecmb=783,_e.dblintegral=8748,_e.dbllowline=8215,_e.dbllowlinecmb=819,_e.dbloverlinecmb=831,_e.dblprimemod=698,_e.dblverticalbar=8214,_e.dblverticallineabovecmb=782,_e.dbopomofo=12553,_e.dbsquare=13256,_e.dcaron=271,_e.dcedilla=7697,_e.dcircle=9427,_e.dcircumflexbelow=7699,_e.dcroat=273,_e.ddabengali=2465,_e.ddadeva=2337,_e.ddagujarati=2721,_e.ddagurmukhi=2593,_e.ddalarabic=1672,_e.ddalfinalarabic=64393,_e.dddhadeva=2396,_e.ddhabengali=2466,_e.ddhadeva=2338,_e.ddhagujarati=2722,_e.ddhagurmukhi=2594,_e.ddotaccent=7691,_e.ddotbelow=7693,_e.decimalseparatorarabic=1643,_e.decimalseparatorpersian=1643,_e.decyrillic=1076,_e.degree=176,_e.dehihebrew=1453,_e.dehiragana=12391,_e.deicoptic=1007,_e.dekatakana=12487,_e.deleteleft=9003,_e.deleteright=8998,_e.delta=948,_e.deltaturned=397,_e.denominatorminusonenumeratorbengali=2552,_e.dezh=676,_e.dhabengali=2471,_e.dhadeva=2343,_e.dhagujarati=2727,_e.dhagurmukhi=2599,_e.dhook=599,_e.dialytikatonos=901,_e.dialytikatonoscmb=836,_e.diamond=9830,_e.diamondsuitwhite=9826,_e.dieresis=168,_e.dieresisacute=63191,_e.dieresisbelowcmb=804,_e.dieresiscmb=776,_e.dieresisgrave=63192,_e.dieresistonos=901,_e.dihiragana=12386,_e.dikatakana=12482,_e.dittomark=12291,_e.divide=247,_e.divides=8739,_e.divisionslash=8725,_e.djecyrillic=1106,_e.dkshade=9619,_e.dlinebelow=7695,_e.dlsquare=13207,_e.dmacron=273,_e.dmonospace=65348,_e.dnblock=9604,_e.dochadathai=3598,_e.dodekthai=3604,_e.dohiragana=12393,_e.dokatakana=12489,_e.dollar=36,_e.dollarinferior=63203,_e.dollarmonospace=65284,_e.dollaroldstyle=63268,_e.dollarsmall=65129,_e.dollarsuperior=63204,_e.dong=8363,_e.dorusquare=13094,_e.dotaccent=729,_e.dotaccentcmb=775,_e.dotbelowcmb=803,_e.dotbelowcomb=803,_e.dotkatakana=12539,_e.dotlessi=305,_e.dotlessj=63166,_e.dotlessjstrokehook=644,_e.dotmath=8901,_e.dottedcircle=9676,_e.doubleyodpatah=64287,_e.doubleyodpatahhebrew=64287,_e.downtackbelowcmb=798,_e.downtackmod=725,_e.dparen=9375,_e.dsuperior=63211,_e.dtail=598,_e.dtopbar=396,_e.duhiragana=12389,_e.dukatakana=12485,_e.dz=499,_e.dzaltone=675,_e.dzcaron=454,_e.dzcurl=677,_e.dzeabkhasiancyrillic=1249,_e.dzecyrillic=1109,_e.dzhecyrillic=1119,_e.e=101,_e.eacute=233,_e.earth=9793,_e.ebengali=2447,_e.ebopomofo=12572,_e.ebreve=277,_e.ecandradeva=2317,_e.ecandragujarati=2701,_e.ecandravowelsigndeva=2373,_e.ecandravowelsigngujarati=2757,_e.ecaron=283,_e.ecedillabreve=7709,_e.echarmenian=1381,_e.echyiwnarmenian=1415,_e.ecircle=9428,_e.ecircumflex=234,_e.ecircumflexacute=7871,_e.ecircumflexbelow=7705,_e.ecircumflexdotbelow=7879,_e.ecircumflexgrave=7873,_e.ecircumflexhookabove=7875,_e.ecircumflextilde=7877,_e.ecyrillic=1108,_e.edblgrave=517,_e.edeva=2319,_e.edieresis=235,_e.edot=279,_e.edotaccent=279,_e.edotbelow=7865,_e.eegurmukhi=2575,_e.eematragurmukhi=2631,_e.efcyrillic=1092,_e.egrave=232,_e.egujarati=2703,_e.eharmenian=1383,_e.ehbopomofo=12573,_e.ehiragana=12360,_e.ehookabove=7867,_e.eibopomofo=12575,_e.eight=56,_e.eightarabic=1640,_e.eightbengali=2542,_e.eightcircle=9319,_e.eightcircleinversesansserif=10129,_e.eightdeva=2414,_e.eighteencircle=9329,_e.eighteenparen=9349,_e.eighteenperiod=9369,_e.eightgujarati=2798,_e.eightgurmukhi=2670,_e.eighthackarabic=1640,_e.eighthangzhou=12328,_e.eighthnotebeamed=9835,_e.eightideographicparen=12839,_e.eightinferior=8328,_e.eightmonospace=65304,_e.eightoldstyle=63288,_e.eightparen=9339,_e.eightperiod=9359,_e.eightpersian=1784,_e.eightroman=8567,_e.eightsuperior=8312,_e.eightthai=3672,_e.einvertedbreve=519,_e.eiotifiedcyrillic=1125,_e.ekatakana=12456,_e.ekatakanahalfwidth=65396,_e.ekonkargurmukhi=2676,_e.ekorean=12628,_e.elcyrillic=1083,_e.element=8712,_e.elevencircle=9322,_e.elevenparen=9342,_e.elevenperiod=9362,_e.elevenroman=8570,_e.ellipsis=8230,_e.ellipsisvertical=8942,_e.emacron=275,_e.emacronacute=7703,_e.emacrongrave=7701,_e.emcyrillic=1084,_e.emdash=8212,_e.emdashvertical=65073,_e.emonospace=65349,_e.emphasismarkarmenian=1371,_e.emptyset=8709,_e.enbopomofo=12579,_e.encyrillic=1085,_e.endash=8211,_e.endashvertical=65074,_e.endescendercyrillic=1187,_e.eng=331,_e.engbopomofo=12581,_e.enghecyrillic=1189,_e.enhookcyrillic=1224,_e.enspace=8194,_e.eogonek=281,_e.eokorean=12627,_e.eopen=603,_e.eopenclosed=666,_e.eopenreversed=604,_e.eopenreversedclosed=606,_e.eopenreversedhook=605,_e.eparen=9376,_e.epsilon=949,_e.epsilontonos=941,_e.equal=61,_e.equalmonospace=65309,_e.equalsmall=65126,_e.equalsuperior=8316,_e.equivalence=8801,_e.erbopomofo=12582,_e.ercyrillic=1088,_e.ereversed=600,_e.ereversedcyrillic=1101,_e.escyrillic=1089,_e.esdescendercyrillic=1195,_e.esh=643,_e.eshcurl=646,_e.eshortdeva=2318,_e.eshortvowelsigndeva=2374,_e.eshreversedloop=426,_e.eshsquatreversed=645,_e.esmallhiragana=12359,_e.esmallkatakana=12455,_e.esmallkatakanahalfwidth=65386,_e.estimated=8494,_e.esuperior=63212,_e.eta=951,_e.etarmenian=1384,_e.etatonos=942,_e.eth=240,_e.etilde=7869,_e.etildebelow=7707,_e.etnahtafoukhhebrew=1425,_e.etnahtafoukhlefthebrew=1425,_e.etnahtahebrew=1425,_e.etnahtalefthebrew=1425,_e.eturned=477,_e.eukorean=12641,_e.euro=8364,_e.evowelsignbengali=2503,_e.evowelsigndeva=2375,_e.evowelsigngujarati=2759,_e.exclam=33,_e.exclamarmenian=1372,_e.exclamdbl=8252,_e.exclamdown=161,_e.exclamdownsmall=63393,_e.exclammonospace=65281,_e.exclamsmall=63265,_e.existential=8707,_e.ezh=658,_e.ezhcaron=495,_e.ezhcurl=659,_e.ezhreversed=441,_e.ezhtail=442,_e.f=102,_e.fadeva=2398,_e.fagurmukhi=2654,_e.fahrenheit=8457,_e.fathaarabic=1614,_e.fathalowarabic=1614,_e.fathatanarabic=1611,_e.fbopomofo=12552,_e.fcircle=9429,_e.fdotaccent=7711,_e.feharabic=1601,_e.feharmenian=1414,_e.fehfinalarabic=65234,_e.fehinitialarabic=65235,_e.fehmedialarabic=65236,_e.feicoptic=997,_e.female=9792,_e.ff=64256,_e.f_f=64256,_e.ffi=64259,_e.f_f_i=64259,_e.ffl=64260,_e.f_f_l=64260,_e.fi=64257,_e.f_i=64257,_e.fifteencircle=9326,_e.fifteenparen=9346,_e.fifteenperiod=9366,_e.figuredash=8210,_e.filledbox=9632,_e.filledrect=9644,_e.finalkaf=1498,_e.finalkafdagesh=64314,_e.finalkafdageshhebrew=64314,_e.finalkafhebrew=1498,_e.finalmem=1501,_e.finalmemhebrew=1501,_e.finalnun=1503,_e.finalnunhebrew=1503,_e.finalpe=1507,_e.finalpehebrew=1507,_e.finaltsadi=1509,_e.finaltsadihebrew=1509,_e.firsttonechinese=713,_e.fisheye=9673,_e.fitacyrillic=1139,_e.five=53,_e.fivearabic=1637,_e.fivebengali=2539,_e.fivecircle=9316,_e.fivecircleinversesansserif=10126,_e.fivedeva=2411,_e.fiveeighths=8541,_e.fivegujarati=2795,_e.fivegurmukhi=2667,_e.fivehackarabic=1637,_e.fivehangzhou=12325,_e.fiveideographicparen=12836,_e.fiveinferior=8325,_e.fivemonospace=65301,_e.fiveoldstyle=63285,_e.fiveparen=9336,_e.fiveperiod=9356,_e.fivepersian=1781,_e.fiveroman=8564,_e.fivesuperior=8309,_e.fivethai=3669,_e.fl=64258,_e.f_l=64258,_e.florin=402,_e.fmonospace=65350,_e.fmsquare=13209,_e.fofanthai=3615,_e.fofathai=3613,_e.fongmanthai=3663,_e.forall=8704,_e.four=52,_e.fourarabic=1636,_e.fourbengali=2538,_e.fourcircle=9315,_e.fourcircleinversesansserif=10125,_e.fourdeva=2410,_e.fourgujarati=2794,_e.fourgurmukhi=2666,_e.fourhackarabic=1636,_e.fourhangzhou=12324,_e.fourideographicparen=12835,_e.fourinferior=8324,_e.fourmonospace=65300,_e.fournumeratorbengali=2551,_e.fouroldstyle=63284,_e.fourparen=9335,_e.fourperiod=9355,_e.fourpersian=1780,_e.fourroman=8563,_e.foursuperior=8308,_e.fourteencircle=9325,_e.fourteenparen=9345,_e.fourteenperiod=9365,_e.fourthai=3668,_e.fourthtonechinese=715,_e.fparen=9377,_e.fraction=8260,_e.franc=8355,_e.g=103,_e.gabengali=2455,_e.gacute=501,_e.gadeva=2327,_e.gafarabic=1711,_e.gaffinalarabic=64403,_e.gafinitialarabic=64404,_e.gafmedialarabic=64405,_e.gagujarati=2711,_e.gagurmukhi=2583,_e.gahiragana=12364,_e.gakatakana=12460,_e.gamma=947,_e.gammalatinsmall=611,_e.gammasuperior=736,_e.gangiacoptic=1003,_e.gbopomofo=12557,_e.gbreve=287,_e.gcaron=487,_e.gcedilla=291,_e.gcircle=9430,_e.gcircumflex=285,_e.gcommaaccent=291,_e.gdot=289,_e.gdotaccent=289,_e.gecyrillic=1075,_e.gehiragana=12370,_e.gekatakana=12466,_e.geometricallyequal=8785,_e.gereshaccenthebrew=1436,_e.gereshhebrew=1523,_e.gereshmuqdamhebrew=1437,_e.germandbls=223,_e.gershayimaccenthebrew=1438,_e.gershayimhebrew=1524,_e.getamark=12307,_e.ghabengali=2456,_e.ghadarmenian=1394,_e.ghadeva=2328,_e.ghagujarati=2712,_e.ghagurmukhi=2584,_e.ghainarabic=1594,_e.ghainfinalarabic=65230,_e.ghaininitialarabic=65231,_e.ghainmedialarabic=65232,_e.ghemiddlehookcyrillic=1173,_e.ghestrokecyrillic=1171,_e.gheupturncyrillic=1169,_e.ghhadeva=2394,_e.ghhagurmukhi=2650,_e.ghook=608,_e.ghzsquare=13203,_e.gihiragana=12366,_e.gikatakana=12462,_e.gimarmenian=1379,_e.gimel=1490,_e.gimeldagesh=64306,_e.gimeldageshhebrew=64306,_e.gimelhebrew=1490,_e.gjecyrillic=1107,_e.glottalinvertedstroke=446,_e.glottalstop=660,_e.glottalstopinverted=662,_e.glottalstopmod=704,_e.glottalstopreversed=661,_e.glottalstopreversedmod=705,_e.glottalstopreversedsuperior=740,_e.glottalstopstroke=673,_e.glottalstopstrokereversed=674,_e.gmacron=7713,_e.gmonospace=65351,_e.gohiragana=12372,_e.gokatakana=12468,_e.gparen=9378,_e.gpasquare=13228,_e.gradient=8711,_e.grave=96,_e.gravebelowcmb=790,_e.gravecmb=768,_e.gravecomb=768,_e.gravedeva=2387,_e.gravelowmod=718,_e.gravemonospace=65344,_e.gravetonecmb=832,_e.greater=62,_e.greaterequal=8805,_e.greaterequalorless=8923,_e.greatermonospace=65310,_e.greaterorequivalent=8819,_e.greaterorless=8823,_e.greateroverequal=8807,_e.greatersmall=65125,_e.gscript=609,_e.gstroke=485,_e.guhiragana=12368,_e.guillemotleft=171,_e.guillemotright=187,_e.guilsinglleft=8249,_e.guilsinglright=8250,_e.gukatakana=12464,_e.guramusquare=13080,_e.gysquare=13257,_e.h=104,_e.haabkhasiancyrillic=1193,_e.haaltonearabic=1729,_e.habengali=2489,_e.hadescendercyrillic=1203,_e.hadeva=2361,_e.hagujarati=2745,_e.hagurmukhi=2617,_e.haharabic=1581,_e.hahfinalarabic=65186,_e.hahinitialarabic=65187,_e.hahiragana=12399,_e.hahmedialarabic=65188,_e.haitusquare=13098,_e.hakatakana=12495,_e.hakatakanahalfwidth=65418,_e.halantgurmukhi=2637,_e.hamzaarabic=1569,_e.hamzalowarabic=1569,_e.hangulfiller=12644,_e.hardsigncyrillic=1098,_e.harpoonleftbarbup=8636,_e.harpoonrightbarbup=8640,_e.hasquare=13258,_e.hatafpatah=1458,_e.hatafpatah16=1458,_e.hatafpatah23=1458,_e.hatafpatah2f=1458,_e.hatafpatahhebrew=1458,_e.hatafpatahnarrowhebrew=1458,_e.hatafpatahquarterhebrew=1458,_e.hatafpatahwidehebrew=1458,_e.hatafqamats=1459,_e.hatafqamats1b=1459,_e.hatafqamats28=1459,_e.hatafqamats34=1459,_e.hatafqamatshebrew=1459,_e.hatafqamatsnarrowhebrew=1459,_e.hatafqamatsquarterhebrew=1459,_e.hatafqamatswidehebrew=1459,_e.hatafsegol=1457,_e.hatafsegol17=1457,_e.hatafsegol24=1457,_e.hatafsegol30=1457,_e.hatafsegolhebrew=1457,_e.hatafsegolnarrowhebrew=1457,_e.hatafsegolquarterhebrew=1457,_e.hatafsegolwidehebrew=1457,_e.hbar=295,_e.hbopomofo=12559,_e.hbrevebelow=7723,_e.hcedilla=7721,_e.hcircle=9431,_e.hcircumflex=293,_e.hdieresis=7719,_e.hdotaccent=7715,_e.hdotbelow=7717,_e.he=1492,_e.heart=9829,_e.heartsuitblack=9829,_e.heartsuitwhite=9825,_e.hedagesh=64308,_e.hedageshhebrew=64308,_e.hehaltonearabic=1729,_e.heharabic=1607,_e.hehebrew=1492,_e.hehfinalaltonearabic=64423,_e.hehfinalalttwoarabic=65258,_e.hehfinalarabic=65258,_e.hehhamzaabovefinalarabic=64421,_e.hehhamzaaboveisolatedarabic=64420,_e.hehinitialaltonearabic=64424,_e.hehinitialarabic=65259,_e.hehiragana=12408,_e.hehmedialaltonearabic=64425,_e.hehmedialarabic=65260,_e.heiseierasquare=13179,_e.hekatakana=12504,_e.hekatakanahalfwidth=65421,_e.hekutaarusquare=13110,_e.henghook=615,_e.herutusquare=13113,_e.het=1495,_e.hethebrew=1495,_e.hhook=614,_e.hhooksuperior=689,_e.hieuhacirclekorean=12923,_e.hieuhaparenkorean=12827,_e.hieuhcirclekorean=12909,_e.hieuhkorean=12622,_e.hieuhparenkorean=12813,_e.hihiragana=12402,_e.hikatakana=12498,_e.hikatakanahalfwidth=65419,_e.hiriq=1460,_e.hiriq14=1460,_e.hiriq21=1460,_e.hiriq2d=1460,_e.hiriqhebrew=1460,_e.hiriqnarrowhebrew=1460,_e.hiriqquarterhebrew=1460,_e.hiriqwidehebrew=1460,_e.hlinebelow=7830,_e.hmonospace=65352,_e.hoarmenian=1392,_e.hohipthai=3627,_e.hohiragana=12411,_e.hokatakana=12507,_e.hokatakanahalfwidth=65422,_e.holam=1465,_e.holam19=1465,_e.holam26=1465,_e.holam32=1465,_e.holamhebrew=1465,_e.holamnarrowhebrew=1465,_e.holamquarterhebrew=1465,_e.holamwidehebrew=1465,_e.honokhukthai=3630,_e.hookabovecomb=777,_e.hookcmb=777,_e.hookpalatalizedbelowcmb=801,_e.hookretroflexbelowcmb=802,_e.hoonsquare=13122,_e.horicoptic=1001,_e.horizontalbar=8213,_e.horncmb=795,_e.hotsprings=9832,_e.house=8962,_e.hparen=9379,_e.hsuperior=688,_e.hturned=613,_e.huhiragana=12405,_e.huiitosquare=13107,_e.hukatakana=12501,_e.hukatakanahalfwidth=65420,_e.hungarumlaut=733,_e.hungarumlautcmb=779,_e.hv=405,_e.hyphen=45,_e.hypheninferior=63205,_e.hyphenmonospace=65293,_e.hyphensmall=65123,_e.hyphensuperior=63206,_e.hyphentwo=8208,_e.i=105,_e.iacute=237,_e.iacyrillic=1103,_e.ibengali=2439,_e.ibopomofo=12583,_e.ibreve=301,_e.icaron=464,_e.icircle=9432,_e.icircumflex=238,_e.icyrillic=1110,_e.idblgrave=521,_e.ideographearthcircle=12943,_e.ideographfirecircle=12939,_e.ideographicallianceparen=12863,_e.ideographiccallparen=12858,_e.ideographiccentrecircle=12965,_e.ideographicclose=12294,_e.ideographiccomma=12289,_e.ideographiccommaleft=65380,_e.ideographiccongratulationparen=12855,_e.ideographiccorrectcircle=12963,_e.ideographicearthparen=12847,_e.ideographicenterpriseparen=12861,_e.ideographicexcellentcircle=12957,_e.ideographicfestivalparen=12864,_e.ideographicfinancialcircle=12950,_e.ideographicfinancialparen=12854,_e.ideographicfireparen=12843,_e.ideographichaveparen=12850,_e.ideographichighcircle=12964,_e.ideographiciterationmark=12293,_e.ideographiclaborcircle=12952,_e.ideographiclaborparen=12856,_e.ideographicleftcircle=12967,_e.ideographiclowcircle=12966,_e.ideographicmedicinecircle=12969,_e.ideographicmetalparen=12846,_e.ideographicmoonparen=12842,_e.ideographicnameparen=12852,_e.ideographicperiod=12290,_e.ideographicprintcircle=12958,_e.ideographicreachparen=12867,_e.ideographicrepresentparen=12857,_e.ideographicresourceparen=12862,_e.ideographicrightcircle=12968,_e.ideographicsecretcircle=12953,_e.ideographicselfparen=12866,_e.ideographicsocietyparen=12851,_e.ideographicspace=12288,_e.ideographicspecialparen=12853,_e.ideographicstockparen=12849,_e.ideographicstudyparen=12859,_e.ideographicsunparen=12848,_e.ideographicsuperviseparen=12860,_e.ideographicwaterparen=12844,_e.ideographicwoodparen=12845,_e.ideographiczero=12295,_e.ideographmetalcircle=12942,_e.ideographmooncircle=12938,_e.ideographnamecircle=12948,_e.ideographsuncircle=12944,_e.ideographwatercircle=12940,_e.ideographwoodcircle=12941,_e.ideva=2311,_e.idieresis=239,_e.idieresisacute=7727,_e.idieresiscyrillic=1253,_e.idotbelow=7883,_e.iebrevecyrillic=1239,_e.iecyrillic=1077,_e.ieungacirclekorean=12917,_e.ieungaparenkorean=12821,_e.ieungcirclekorean=12903,_e.ieungkorean=12615,_e.ieungparenkorean=12807,_e.igrave=236,_e.igujarati=2695,_e.igurmukhi=2567,_e.ihiragana=12356,_e.ihookabove=7881,_e.iibengali=2440,_e.iicyrillic=1080,_e.iideva=2312,_e.iigujarati=2696,_e.iigurmukhi=2568,_e.iimatragurmukhi=2624,_e.iinvertedbreve=523,_e.iishortcyrillic=1081,_e.iivowelsignbengali=2496,_e.iivowelsigndeva=2368,_e.iivowelsigngujarati=2752,_e.ij=307,_e.ikatakana=12452,_e.ikatakanahalfwidth=65394,_e.ikorean=12643,_e.ilde=732,_e.iluyhebrew=1452,_e.imacron=299,_e.imacroncyrillic=1251,_e.imageorapproximatelyequal=8787,_e.imatragurmukhi=2623,_e.imonospace=65353,_e.increment=8710,_e.infinity=8734,_e.iniarmenian=1387,_e.integral=8747,_e.integralbottom=8993,_e.integralbt=8993,_e.integralex=63733,_e.integraltop=8992,_e.integraltp=8992,_e.intersection=8745,_e.intisquare=13061,_e.invbullet=9688,_e.invcircle=9689,_e.invsmileface=9787,_e.iocyrillic=1105,_e.iogonek=303,_e.iota=953,_e.iotadieresis=970,_e.iotadieresistonos=912,_e.iotalatin=617,_e.iotatonos=943,_e.iparen=9380,_e.irigurmukhi=2674,_e.ismallhiragana=12355,_e.ismallkatakana=12451,_e.ismallkatakanahalfwidth=65384,_e.issharbengali=2554,_e.istroke=616,_e.isuperior=63213,_e.iterationhiragana=12445,_e.iterationkatakana=12541,_e.itilde=297,_e.itildebelow=7725,_e.iubopomofo=12585,_e.iucyrillic=1102,_e.ivowelsignbengali=2495,_e.ivowelsigndeva=2367,_e.ivowelsigngujarati=2751,_e.izhitsacyrillic=1141,_e.izhitsadblgravecyrillic=1143,_e.j=106,_e.jaarmenian=1393,_e.jabengali=2460,_e.jadeva=2332,_e.jagujarati=2716,_e.jagurmukhi=2588,_e.jbopomofo=12560,_e.jcaron=496,_e.jcircle=9433,_e.jcircumflex=309,_e.jcrossedtail=669,_e.jdotlessstroke=607,_e.jecyrillic=1112,_e.jeemarabic=1580,_e.jeemfinalarabic=65182,_e.jeeminitialarabic=65183,_e.jeemmedialarabic=65184,_e.jeharabic=1688,_e.jehfinalarabic=64395,_e.jhabengali=2461,_e.jhadeva=2333,_e.jhagujarati=2717,_e.jhagurmukhi=2589,_e.jheharmenian=1403,_e.jis=12292,_e.jmonospace=65354,_e.jparen=9381,_e.jsuperior=690,_e.k=107,_e.kabashkircyrillic=1185,_e.kabengali=2453,_e.kacute=7729,_e.kacyrillic=1082,_e.kadescendercyrillic=1179,_e.kadeva=2325,_e.kaf=1499,_e.kafarabic=1603,_e.kafdagesh=64315,_e.kafdageshhebrew=64315,_e.kaffinalarabic=65242,_e.kafhebrew=1499,_e.kafinitialarabic=65243,_e.kafmedialarabic=65244,_e.kafrafehebrew=64333,_e.kagujarati=2709,_e.kagurmukhi=2581,_e.kahiragana=12363,_e.kahookcyrillic=1220,_e.kakatakana=12459,_e.kakatakanahalfwidth=65398,_e.kappa=954,_e.kappasymbolgreek=1008,_e.kapyeounmieumkorean=12657,_e.kapyeounphieuphkorean=12676,_e.kapyeounpieupkorean=12664,_e.kapyeounssangpieupkorean=12665,_e.karoriisquare=13069,_e.kashidaautoarabic=1600,_e.kashidaautonosidebearingarabic=1600,_e.kasmallkatakana=12533,_e.kasquare=13188,_e.kasraarabic=1616,_e.kasratanarabic=1613,_e.kastrokecyrillic=1183,_e.katahiraprolongmarkhalfwidth=65392,_e.kaverticalstrokecyrillic=1181,_e.kbopomofo=12558,_e.kcalsquare=13193,_e.kcaron=489,_e.kcedilla=311,_e.kcircle=9434,_e.kcommaaccent=311,_e.kdotbelow=7731,_e.keharmenian=1412,_e.kehiragana=12369,_e.kekatakana=12465,_e.kekatakanahalfwidth=65401,_e.kenarmenian=1391,_e.kesmallkatakana=12534,_e.kgreenlandic=312,_e.khabengali=2454,_e.khacyrillic=1093,_e.khadeva=2326,_e.khagujarati=2710,_e.khagurmukhi=2582,_e.khaharabic=1582,_e.khahfinalarabic=65190,_e.khahinitialarabic=65191,_e.khahmedialarabic=65192,_e.kheicoptic=999,_e.khhadeva=2393,_e.khhagurmukhi=2649,_e.khieukhacirclekorean=12920,_e.khieukhaparenkorean=12824,_e.khieukhcirclekorean=12906,_e.khieukhkorean=12619,_e.khieukhparenkorean=12810,_e.khokhaithai=3586,_e.khokhonthai=3589,_e.khokhuatthai=3587,_e.khokhwaithai=3588,_e.khomutthai=3675,_e.khook=409,_e.khorakhangthai=3590,_e.khzsquare=13201,_e.kihiragana=12365,_e.kikatakana=12461,_e.kikatakanahalfwidth=65399,_e.kiroguramusquare=13077,_e.kiromeetorusquare=13078,_e.kirosquare=13076,_e.kiyeokacirclekorean=12910,_e.kiyeokaparenkorean=12814,_e.kiyeokcirclekorean=12896,_e.kiyeokkorean=12593,_e.kiyeokparenkorean=12800,_e.kiyeoksioskorean=12595,_e.kjecyrillic=1116,_e.klinebelow=7733,_e.klsquare=13208,_e.kmcubedsquare=13222,_e.kmonospace=65355,_e.kmsquaredsquare=13218,_e.kohiragana=12371,_e.kohmsquare=13248,_e.kokaithai=3585,_e.kokatakana=12467,_e.kokatakanahalfwidth=65402,_e.kooposquare=13086,_e.koppacyrillic=1153,_e.koreanstandardsymbol=12927,_e.koroniscmb=835,_e.kparen=9382,_e.kpasquare=13226,_e.ksicyrillic=1135,_e.ktsquare=13263,_e.kturned=670,_e.kuhiragana=12367,_e.kukatakana=12463,_e.kukatakanahalfwidth=65400,_e.kvsquare=13240,_e.kwsquare=13246,_e.l=108,_e.labengali=2482,_e.lacute=314,_e.ladeva=2354,_e.lagujarati=2738,_e.lagurmukhi=2610,_e.lakkhangyaothai=3653,_e.lamaleffinalarabic=65276,_e.lamalefhamzaabovefinalarabic=65272,_e.lamalefhamzaaboveisolatedarabic=65271,_e.lamalefhamzabelowfinalarabic=65274,_e.lamalefhamzabelowisolatedarabic=65273,_e.lamalefisolatedarabic=65275,_e.lamalefmaddaabovefinalarabic=65270,_e.lamalefmaddaaboveisolatedarabic=65269,_e.lamarabic=1604,_e.lambda=955,_e.lambdastroke=411,_e.lamed=1500,_e.lameddagesh=64316,_e.lameddageshhebrew=64316,_e.lamedhebrew=1500,_e.lamfinalarabic=65246,_e.lamhahinitialarabic=64714,_e.laminitialarabic=65247,_e.lamjeeminitialarabic=64713,_e.lamkhahinitialarabic=64715,_e.lamlamhehisolatedarabic=65010,_e.lammedialarabic=65248,_e.lammeemhahinitialarabic=64904,_e.lammeeminitialarabic=64716,_e.largecircle=9711,_e.lbar=410,_e.lbelt=620,_e.lbopomofo=12556,_e.lcaron=318,_e.lcedilla=316,_e.lcircle=9435,_e.lcircumflexbelow=7741,_e.lcommaaccent=316,_e.ldot=320,_e.ldotaccent=320,_e.ldotbelow=7735,_e.ldotbelowmacron=7737,_e.leftangleabovecmb=794,_e.lefttackbelowcmb=792,_e.less=60,_e.lessequal=8804,_e.lessequalorgreater=8922,_e.lessmonospace=65308,_e.lessorequivalent=8818,_e.lessorgreater=8822,_e.lessoverequal=8806,_e.lesssmall=65124,_e.lezh=622,_e.lfblock=9612,_e.lhookretroflex=621,_e.lira=8356,_e.liwnarmenian=1388,_e.lj=457,_e.ljecyrillic=1113,_e.ll=63168,_e.lladeva=2355,_e.llagujarati=2739,_e.llinebelow=7739,_e.llladeva=2356,_e.llvocalicbengali=2529,_e.llvocalicdeva=2401,_e.llvocalicvowelsignbengali=2531,_e.llvocalicvowelsigndeva=2403,_e.lmiddletilde=619,_e.lmonospace=65356,_e.lmsquare=13264,_e.lochulathai=3628,_e.logicaland=8743,_e.logicalnot=172,_e.logicalnotreversed=8976,_e.logicalor=8744,_e.lolingthai=3621,_e.longs=383,_e.lowlinecenterline=65102,_e.lowlinecmb=818,_e.lowlinedashed=65101,_e.lozenge=9674,_e.lparen=9383,_e.lslash=322,_e.lsquare=8467,_e.lsuperior=63214,_e.ltshade=9617,_e.luthai=3622,_e.lvocalicbengali=2444,_e.lvocalicdeva=2316,_e.lvocalicvowelsignbengali=2530,_e.lvocalicvowelsigndeva=2402,_e.lxsquare=13267,_e.m=109,_e.mabengali=2478,_e.macron=175,_e.macronbelowcmb=817,_e.macroncmb=772,_e.macronlowmod=717,_e.macronmonospace=65507,_e.macute=7743,_e.madeva=2350,_e.magujarati=2734,_e.magurmukhi=2606,_e.mahapakhhebrew=1444,_e.mahapakhlefthebrew=1444,_e.mahiragana=12414,_e.maichattawalowleftthai=63637,_e.maichattawalowrightthai=63636,_e.maichattawathai=3659,_e.maichattawaupperleftthai=63635,_e.maieklowleftthai=63628,_e.maieklowrightthai=63627,_e.maiekthai=3656,_e.maiekupperleftthai=63626,_e.maihanakatleftthai=63620,_e.maihanakatthai=3633,_e.maitaikhuleftthai=63625,_e.maitaikhuthai=3655,_e.maitholowleftthai=63631,_e.maitholowrightthai=63630,_e.maithothai=3657,_e.maithoupperleftthai=63629,_e.maitrilowleftthai=63634,_e.maitrilowrightthai=63633,_e.maitrithai=3658,_e.maitriupperleftthai=63632,_e.maiyamokthai=3654,_e.makatakana=12510,_e.makatakanahalfwidth=65423,_e.male=9794,_e.mansyonsquare=13127,_e.maqafhebrew=1470,_e.mars=9794,_e.masoracirclehebrew=1455,_e.masquare=13187,_e.mbopomofo=12551,_e.mbsquare=13268,_e.mcircle=9436,_e.mcubedsquare=13221,_e.mdotaccent=7745,_e.mdotbelow=7747,_e.meemarabic=1605,_e.meemfinalarabic=65250,_e.meeminitialarabic=65251,_e.meemmedialarabic=65252,_e.meemmeeminitialarabic=64721,_e.meemmeemisolatedarabic=64584,_e.meetorusquare=13133,_e.mehiragana=12417,_e.meizierasquare=13182,_e.mekatakana=12513,_e.mekatakanahalfwidth=65426,_e.mem=1502,_e.memdagesh=64318,_e.memdageshhebrew=64318,_e.memhebrew=1502,_e.menarmenian=1396,_e.merkhahebrew=1445,_e.merkhakefulahebrew=1446,_e.merkhakefulalefthebrew=1446,_e.merkhalefthebrew=1445,_e.mhook=625,_e.mhzsquare=13202,_e.middledotkatakanahalfwidth=65381,_e.middot=183,_e.mieumacirclekorean=12914,_e.mieumaparenkorean=12818,_e.mieumcirclekorean=12900,_e.mieumkorean=12609,_e.mieumpansioskorean=12656,_e.mieumparenkorean=12804,_e.mieumpieupkorean=12654,_e.mieumsioskorean=12655,_e.mihiragana=12415,_e.mikatakana=12511,_e.mikatakanahalfwidth=65424,_e.minus=8722,_e.minusbelowcmb=800,_e.minuscircle=8854,_e.minusmod=727,_e.minusplus=8723,_e.minute=8242,_e.miribaarusquare=13130,_e.mirisquare=13129,_e.mlonglegturned=624,_e.mlsquare=13206,_e.mmcubedsquare=13219,_e.mmonospace=65357,_e.mmsquaredsquare=13215,_e.mohiragana=12418,_e.mohmsquare=13249,_e.mokatakana=12514,_e.mokatakanahalfwidth=65427,_e.molsquare=13270,_e.momathai=3617,_e.moverssquare=13223,_e.moverssquaredsquare=13224,_e.mparen=9384,_e.mpasquare=13227,_e.mssquare=13235,_e.msuperior=63215,_e.mturned=623,_e.mu=181,_e.mu1=181,_e.muasquare=13186,_e.muchgreater=8811,_e.muchless=8810,_e.mufsquare=13196,_e.mugreek=956,_e.mugsquare=13197,_e.muhiragana=12416,_e.mukatakana=12512,_e.mukatakanahalfwidth=65425,_e.mulsquare=13205,_e.multiply=215,_e.mumsquare=13211,_e.munahhebrew=1443,_e.munahlefthebrew=1443,_e.musicalnote=9834,_e.musicalnotedbl=9835,_e.musicflatsign=9837,_e.musicsharpsign=9839,_e.mussquare=13234,_e.muvsquare=13238,_e.muwsquare=13244,_e.mvmegasquare=13241,_e.mvsquare=13239,_e.mwmegasquare=13247,_e.mwsquare=13245,_e.n=110,_e.nabengali=2472,_e.nabla=8711,_e.nacute=324,_e.nadeva=2344,_e.nagujarati=2728,_e.nagurmukhi=2600,_e.nahiragana=12394,_e.nakatakana=12490,_e.nakatakanahalfwidth=65413,_e.napostrophe=329,_e.nasquare=13185,_e.nbopomofo=12555,_e.nbspace=160,_e.ncaron=328,_e.ncedilla=326,_e.ncircle=9437,_e.ncircumflexbelow=7755,_e.ncommaaccent=326,_e.ndotaccent=7749,_e.ndotbelow=7751,_e.nehiragana=12397,_e.nekatakana=12493,_e.nekatakanahalfwidth=65416,_e.newsheqelsign=8362,_e.nfsquare=13195,_e.ngabengali=2457,_e.ngadeva=2329,_e.ngagujarati=2713,_e.ngagurmukhi=2585,_e.ngonguthai=3591,_e.nhiragana=12435,_e.nhookleft=626,_e.nhookretroflex=627,_e.nieunacirclekorean=12911,_e.nieunaparenkorean=12815,_e.nieuncieuckorean=12597,_e.nieuncirclekorean=12897,_e.nieunhieuhkorean=12598,_e.nieunkorean=12596,_e.nieunpansioskorean=12648,_e.nieunparenkorean=12801,_e.nieunsioskorean=12647,_e.nieuntikeutkorean=12646,_e.nihiragana=12395,_e.nikatakana=12491,_e.nikatakanahalfwidth=65414,_e.nikhahitleftthai=63641,_e.nikhahitthai=3661,_e.nine=57,_e.ninearabic=1641,_e.ninebengali=2543,_e.ninecircle=9320,_e.ninecircleinversesansserif=10130,_e.ninedeva=2415,_e.ninegujarati=2799,_e.ninegurmukhi=2671,_e.ninehackarabic=1641,_e.ninehangzhou=12329,_e.nineideographicparen=12840,_e.nineinferior=8329,_e.ninemonospace=65305,_e.nineoldstyle=63289,_e.nineparen=9340,_e.nineperiod=9360,_e.ninepersian=1785,_e.nineroman=8568,_e.ninesuperior=8313,_e.nineteencircle=9330,_e.nineteenparen=9350,_e.nineteenperiod=9370,_e.ninethai=3673,_e.nj=460,_e.njecyrillic=1114,_e.nkatakana=12531,_e.nkatakanahalfwidth=65437,_e.nlegrightlong=414,_e.nlinebelow=7753,_e.nmonospace=65358,_e.nmsquare=13210,_e.nnabengali=2467,_e.nnadeva=2339,_e.nnagujarati=2723,_e.nnagurmukhi=2595,_e.nnnadeva=2345,_e.nohiragana=12398,_e.nokatakana=12494,_e.nokatakanahalfwidth=65417,_e.nonbreakingspace=160,_e.nonenthai=3603,_e.nonuthai=3609,_e.noonarabic=1606,_e.noonfinalarabic=65254,_e.noonghunnaarabic=1722,_e.noonghunnafinalarabic=64415,_e.nooninitialarabic=65255,_e.noonjeeminitialarabic=64722,_e.noonjeemisolatedarabic=64587,_e.noonmedialarabic=65256,_e.noonmeeminitialarabic=64725,_e.noonmeemisolatedarabic=64590,_e.noonnoonfinalarabic=64653,_e.notcontains=8716,_e.notelement=8713,_e.notelementof=8713,_e.notequal=8800,_e.notgreater=8815,_e.notgreaternorequal=8817,_e.notgreaternorless=8825,_e.notidentical=8802,_e.notless=8814,_e.notlessnorequal=8816,_e.notparallel=8742,_e.notprecedes=8832,_e.notsubset=8836,_e.notsucceeds=8833,_e.notsuperset=8837,_e.nowarmenian=1398,_e.nparen=9385,_e.nssquare=13233,_e.nsuperior=8319,_e.ntilde=241,_e.nu=957,_e.nuhiragana=12396,_e.nukatakana=12492,_e.nukatakanahalfwidth=65415,_e.nuktabengali=2492,_e.nuktadeva=2364,_e.nuktagujarati=2748,_e.nuktagurmukhi=2620,_e.numbersign=35,_e.numbersignmonospace=65283,_e.numbersignsmall=65119,_e.numeralsigngreek=884,_e.numeralsignlowergreek=885,_e.numero=8470,_e.nun=1504,_e.nundagesh=64320,_e.nundageshhebrew=64320,_e.nunhebrew=1504,_e.nvsquare=13237,_e.nwsquare=13243,_e.nyabengali=2462,_e.nyadeva=2334,_e.nyagujarati=2718,_e.nyagurmukhi=2590,_e.o=111,_e.oacute=243,_e.oangthai=3629,_e.obarred=629,_e.obarredcyrillic=1257,_e.obarreddieresiscyrillic=1259,_e.obengali=2451,_e.obopomofo=12571,_e.obreve=335,_e.ocandradeva=2321,_e.ocandragujarati=2705,_e.ocandravowelsigndeva=2377,_e.ocandravowelsigngujarati=2761,_e.ocaron=466,_e.ocircle=9438,_e.ocircumflex=244,_e.ocircumflexacute=7889,_e.ocircumflexdotbelow=7897,_e.ocircumflexgrave=7891,_e.ocircumflexhookabove=7893,_e.ocircumflextilde=7895,_e.ocyrillic=1086,_e.odblacute=337,_e.odblgrave=525,_e.odeva=2323,_e.odieresis=246,_e.odieresiscyrillic=1255,_e.odotbelow=7885,_e.oe=339,_e.oekorean=12634,_e.ogonek=731,_e.ogonekcmb=808,_e.ograve=242,_e.ogujarati=2707,_e.oharmenian=1413,_e.ohiragana=12362,_e.ohookabove=7887,_e.ohorn=417,_e.ohornacute=7899,_e.ohorndotbelow=7907,_e.ohorngrave=7901,_e.ohornhookabove=7903,_e.ohorntilde=7905,_e.ohungarumlaut=337,_e.oi=419,_e.oinvertedbreve=527,_e.okatakana=12458,_e.okatakanahalfwidth=65397,_e.okorean=12631,_e.olehebrew=1451,_e.omacron=333,_e.omacronacute=7763,_e.omacrongrave=7761,_e.omdeva=2384,_e.omega=969,_e.omega1=982,_e.omegacyrillic=1121,_e.omegalatinclosed=631,_e.omegaroundcyrillic=1147,_e.omegatitlocyrillic=1149,_e.omegatonos=974,_e.omgujarati=2768,_e.omicron=959,_e.omicrontonos=972,_e.omonospace=65359,_e.one=49,_e.onearabic=1633,_e.onebengali=2535,_e.onecircle=9312,_e.onecircleinversesansserif=10122,_e.onedeva=2407,_e.onedotenleader=8228,_e.oneeighth=8539,_e.onefitted=63196,_e.onegujarati=2791,_e.onegurmukhi=2663,_e.onehackarabic=1633,_e.onehalf=189,_e.onehangzhou=12321,_e.oneideographicparen=12832,_e.oneinferior=8321,_e.onemonospace=65297,_e.onenumeratorbengali=2548,_e.oneoldstyle=63281,_e.oneparen=9332,_e.oneperiod=9352,_e.onepersian=1777,_e.onequarter=188,_e.oneroman=8560,_e.onesuperior=185,_e.onethai=3665,_e.onethird=8531,_e.oogonek=491,_e.oogonekmacron=493,_e.oogurmukhi=2579,_e.oomatragurmukhi=2635,_e.oopen=596,_e.oparen=9386,_e.openbullet=9702,_e.option=8997,_e.ordfeminine=170,_e.ordmasculine=186,_e.orthogonal=8735,_e.oshortdeva=2322,_e.oshortvowelsigndeva=2378,_e.oslash=248,_e.oslashacute=511,_e.osmallhiragana=12361,_e.osmallkatakana=12457,_e.osmallkatakanahalfwidth=65387,_e.ostrokeacute=511,_e.osuperior=63216,_e.otcyrillic=1151,_e.otilde=245,_e.otildeacute=7757,_e.otildedieresis=7759,_e.oubopomofo=12577,_e.overline=8254,_e.overlinecenterline=65098,_e.overlinecmb=773,_e.overlinedashed=65097,_e.overlinedblwavy=65100,_e.overlinewavy=65099,_e.overscore=175,_e.ovowelsignbengali=2507,_e.ovowelsigndeva=2379,_e.ovowelsigngujarati=2763,_e.p=112,_e.paampssquare=13184,_e.paasentosquare=13099,_e.pabengali=2474,_e.pacute=7765,_e.padeva=2346,_e.pagedown=8671,_e.pageup=8670,_e.pagujarati=2730,_e.pagurmukhi=2602,_e.pahiragana=12401,_e.paiyannoithai=3631,_e.pakatakana=12497,_e.palatalizationcyrilliccmb=1156,_e.palochkacyrillic=1216,_e.pansioskorean=12671,_e.paragraph=182,_e.parallel=8741,_e.parenleft=40,_e.parenleftaltonearabic=64830,_e.parenleftbt=63725,_e.parenleftex=63724,_e.parenleftinferior=8333,_e.parenleftmonospace=65288,_e.parenleftsmall=65113,_e.parenleftsuperior=8317,_e.parenlefttp=63723,_e.parenleftvertical=65077,_e.parenright=41,_e.parenrightaltonearabic=64831,_e.parenrightbt=63736,_e.parenrightex=63735,_e.parenrightinferior=8334,_e.parenrightmonospace=65289,_e.parenrightsmall=65114,_e.parenrightsuperior=8318,_e.parenrighttp=63734,_e.parenrightvertical=65078,_e.partialdiff=8706,_e.paseqhebrew=1472,_e.pashtahebrew=1433,_e.pasquare=13225,_e.patah=1463,_e.patah11=1463,_e.patah1d=1463,_e.patah2a=1463,_e.patahhebrew=1463,_e.patahnarrowhebrew=1463,_e.patahquarterhebrew=1463,_e.patahwidehebrew=1463,_e.pazerhebrew=1441,_e.pbopomofo=12550,_e.pcircle=9439,_e.pdotaccent=7767,_e.pe=1508,_e.pecyrillic=1087,_e.pedagesh=64324,_e.pedageshhebrew=64324,_e.peezisquare=13115,_e.pefinaldageshhebrew=64323,_e.peharabic=1662,_e.peharmenian=1402,_e.pehebrew=1508,_e.pehfinalarabic=64343,_e.pehinitialarabic=64344,_e.pehiragana=12410,_e.pehmedialarabic=64345,_e.pekatakana=12506,_e.pemiddlehookcyrillic=1191,_e.perafehebrew=64334,_e.percent=37,_e.percentarabic=1642,_e.percentmonospace=65285,_e.percentsmall=65130,_e.period=46,_e.periodarmenian=1417,_e.periodcentered=183,_e.periodhalfwidth=65377,_e.periodinferior=63207,_e.periodmonospace=65294,_e.periodsmall=65106,_e.periodsuperior=63208,_e.perispomenigreekcmb=834,_e.perpendicular=8869,_e.perthousand=8240,_e.peseta=8359,_e.pfsquare=13194,_e.phabengali=2475,_e.phadeva=2347,_e.phagujarati=2731,_e.phagurmukhi=2603,_e.phi=966,_e.phi1=981,_e.phieuphacirclekorean=12922,_e.phieuphaparenkorean=12826,_e.phieuphcirclekorean=12908,_e.phieuphkorean=12621,_e.phieuphparenkorean=12812,_e.philatin=632,_e.phinthuthai=3642,_e.phisymbolgreek=981,_e.phook=421,_e.phophanthai=3614,_e.phophungthai=3612,_e.phosamphaothai=3616,_e.pi=960,_e.pieupacirclekorean=12915,_e.pieupaparenkorean=12819,_e.pieupcieuckorean=12662,_e.pieupcirclekorean=12901,_e.pieupkiyeokkorean=12658,_e.pieupkorean=12610,_e.pieupparenkorean=12805,_e.pieupsioskiyeokkorean=12660,_e.pieupsioskorean=12612,_e.pieupsiostikeutkorean=12661,_e.pieupthieuthkorean=12663,_e.pieuptikeutkorean=12659,_e.pihiragana=12404,_e.pikatakana=12500,_e.pisymbolgreek=982,_e.piwrarmenian=1411,_e.planckover2pi=8463,_e.planckover2pi1=8463,_e.plus=43,_e.plusbelowcmb=799,_e.pluscircle=8853,_e.plusminus=177,_e.plusmod=726,_e.plusmonospace=65291,_e.plussmall=65122,_e.plussuperior=8314,_e.pmonospace=65360,_e.pmsquare=13272,_e.pohiragana=12413,_e.pointingindexdownwhite=9759,_e.pointingindexleftwhite=9756,_e.pointingindexrightwhite=9758,_e.pointingindexupwhite=9757,_e.pokatakana=12509,_e.poplathai=3611,_e.postalmark=12306,_e.postalmarkface=12320,_e.pparen=9387,_e.precedes=8826,_e.prescription=8478,_e.primemod=697,_e.primereversed=8245,_e.product=8719,_e.projective=8965,_e.prolongedkana=12540,_e.propellor=8984,_e.propersubset=8834,_e.propersuperset=8835,_e.proportion=8759,_e.proportional=8733,_e.psi=968,_e.psicyrillic=1137,_e.psilipneumatacyrilliccmb=1158,_e.pssquare=13232,_e.puhiragana=12407,_e.pukatakana=12503,_e.pvsquare=13236,_e.pwsquare=13242,_e.q=113,_e.qadeva=2392,_e.qadmahebrew=1448,_e.qafarabic=1602,_e.qaffinalarabic=65238,_e.qafinitialarabic=65239,_e.qafmedialarabic=65240,_e.qamats=1464,_e.qamats10=1464,_e.qamats1a=1464,_e.qamats1c=1464,_e.qamats27=1464,_e.qamats29=1464,_e.qamats33=1464,_e.qamatsde=1464,_e.qamatshebrew=1464,_e.qamatsnarrowhebrew=1464,_e.qamatsqatanhebrew=1464,_e.qamatsqatannarrowhebrew=1464,_e.qamatsqatanquarterhebrew=1464,_e.qamatsqatanwidehebrew=1464,_e.qamatsquarterhebrew=1464,_e.qamatswidehebrew=1464,_e.qarneyparahebrew=1439,_e.qbopomofo=12561,_e.qcircle=9440,_e.qhook=672,_e.qmonospace=65361,_e.qof=1511,_e.qofdagesh=64327,_e.qofdageshhebrew=64327,_e.qofhebrew=1511,_e.qparen=9388,_e.quarternote=9833,_e.qubuts=1467,_e.qubuts18=1467,_e.qubuts25=1467,_e.qubuts31=1467,_e.qubutshebrew=1467,_e.qubutsnarrowhebrew=1467,_e.qubutsquarterhebrew=1467,_e.qubutswidehebrew=1467,_e.question=63,_e.questionarabic=1567,_e.questionarmenian=1374,_e.questiondown=191,_e.questiondownsmall=63423,_e.questiongreek=894,_e.questionmonospace=65311,_e.questionsmall=63295,_e.quotedbl=34,_e.quotedblbase=8222,_e.quotedblleft=8220,_e.quotedblmonospace=65282,_e.quotedblprime=12318,_e.quotedblprimereversed=12317,_e.quotedblright=8221,_e.quoteleft=8216,_e.quoteleftreversed=8219,_e.quotereversed=8219,_e.quoteright=8217,_e.quoterightn=329,_e.quotesinglbase=8218,_e.quotesingle=39,_e.quotesinglemonospace=65287,_e.r=114,_e.raarmenian=1404,_e.rabengali=2480,_e.racute=341,_e.radeva=2352,_e.radical=8730,_e.radicalex=63717,_e.radoverssquare=13230,_e.radoverssquaredsquare=13231,_e.radsquare=13229,_e.rafe=1471,_e.rafehebrew=1471,_e.ragujarati=2736,_e.ragurmukhi=2608,_e.rahiragana=12425,_e.rakatakana=12521,_e.rakatakanahalfwidth=65431,_e.ralowerdiagonalbengali=2545,_e.ramiddlediagonalbengali=2544,_e.ramshorn=612,_e.ratio=8758,_e.rbopomofo=12566,_e.rcaron=345,_e.rcedilla=343,_e.rcircle=9441,_e.rcommaaccent=343,_e.rdblgrave=529,_e.rdotaccent=7769,_e.rdotbelow=7771,_e.rdotbelowmacron=7773,_e.referencemark=8251,_e.reflexsubset=8838,_e.reflexsuperset=8839,_e.registered=174,_e.registersans=63720,_e.registerserif=63194,_e.reharabic=1585,_e.reharmenian=1408,_e.rehfinalarabic=65198,_e.rehiragana=12428,_e.rekatakana=12524,_e.rekatakanahalfwidth=65434,_e.resh=1512,_e.reshdageshhebrew=64328,_e.reshhebrew=1512,_e.reversedtilde=8765,_e.reviahebrew=1431,_e.reviamugrashhebrew=1431,_e.revlogicalnot=8976,_e.rfishhook=638,_e.rfishhookreversed=639,_e.rhabengali=2525,_e.rhadeva=2397,_e.rho=961,_e.rhook=637,_e.rhookturned=635,_e.rhookturnedsuperior=693,_e.rhosymbolgreek=1009,_e.rhotichookmod=734,_e.rieulacirclekorean=12913,_e.rieulaparenkorean=12817,_e.rieulcirclekorean=12899,_e.rieulhieuhkorean=12608,_e.rieulkiyeokkorean=12602,_e.rieulkiyeoksioskorean=12649,_e.rieulkorean=12601,_e.rieulmieumkorean=12603,_e.rieulpansioskorean=12652,_e.rieulparenkorean=12803,_e.rieulphieuphkorean=12607,_e.rieulpieupkorean=12604,_e.rieulpieupsioskorean=12651,_e.rieulsioskorean=12605,_e.rieulthieuthkorean=12606,_e.rieultikeutkorean=12650,_e.rieulyeorinhieuhkorean=12653,_e.rightangle=8735,_e.righttackbelowcmb=793,_e.righttriangle=8895,_e.rihiragana=12426,_e.rikatakana=12522,_e.rikatakanahalfwidth=65432,_e.ring=730,_e.ringbelowcmb=805,_e.ringcmb=778,_e.ringhalfleft=703,_e.ringhalfleftarmenian=1369,_e.ringhalfleftbelowcmb=796,_e.ringhalfleftcentered=723,_e.ringhalfright=702,_e.ringhalfrightbelowcmb=825,_e.ringhalfrightcentered=722,_e.rinvertedbreve=531,_e.rittorusquare=13137,_e.rlinebelow=7775,_e.rlongleg=636,_e.rlonglegturned=634,_e.rmonospace=65362,_e.rohiragana=12429,_e.rokatakana=12525,_e.rokatakanahalfwidth=65435,_e.roruathai=3619,_e.rparen=9389,_e.rrabengali=2524,_e.rradeva=2353,_e.rragurmukhi=2652,_e.rreharabic=1681,_e.rrehfinalarabic=64397,_e.rrvocalicbengali=2528,_e.rrvocalicdeva=2400,_e.rrvocalicgujarati=2784,_e.rrvocalicvowelsignbengali=2500,_e.rrvocalicvowelsigndeva=2372,_e.rrvocalicvowelsigngujarati=2756,_e.rsuperior=63217,_e.rtblock=9616,_e.rturned=633,_e.rturnedsuperior=692,_e.ruhiragana=12427,_e.rukatakana=12523,_e.rukatakanahalfwidth=65433,_e.rupeemarkbengali=2546,_e.rupeesignbengali=2547,_e.rupiah=63197,_e.ruthai=3620,_e.rvocalicbengali=2443,_e.rvocalicdeva=2315,_e.rvocalicgujarati=2699,_e.rvocalicvowelsignbengali=2499,_e.rvocalicvowelsigndeva=2371,_e.rvocalicvowelsigngujarati=2755,_e.s=115,_e.sabengali=2488,_e.sacute=347,_e.sacutedotaccent=7781,_e.sadarabic=1589,_e.sadeva=2360,_e.sadfinalarabic=65210,_e.sadinitialarabic=65211,_e.sadmedialarabic=65212,_e.sagujarati=2744,_e.sagurmukhi=2616,_e.sahiragana=12373,_e.sakatakana=12469,_e.sakatakanahalfwidth=65403,_e.sallallahoualayhewasallamarabic=65018,_e.samekh=1505,_e.samekhdagesh=64321,_e.samekhdageshhebrew=64321,_e.samekhhebrew=1505,_e.saraaathai=3634,_e.saraaethai=3649,_e.saraaimaimalaithai=3652,_e.saraaimaimuanthai=3651,_e.saraamthai=3635,_e.saraathai=3632,_e.saraethai=3648,_e.saraiileftthai=63622,_e.saraiithai=3637,_e.saraileftthai=63621,_e.saraithai=3636,_e.saraothai=3650,_e.saraueeleftthai=63624,_e.saraueethai=3639,_e.saraueleftthai=63623,_e.sarauethai=3638,_e.sarauthai=3640,_e.sarauuthai=3641,_e.sbopomofo=12569,_e.scaron=353,_e.scarondotaccent=7783,_e.scedilla=351,_e.schwa=601,_e.schwacyrillic=1241,_e.schwadieresiscyrillic=1243,_e.schwahook=602,_e.scircle=9442,_e.scircumflex=349,_e.scommaaccent=537,_e.sdotaccent=7777,_e.sdotbelow=7779,_e.sdotbelowdotaccent=7785,_e.seagullbelowcmb=828,_e.second=8243,_e.secondtonechinese=714,_e.section=167,_e.seenarabic=1587,_e.seenfinalarabic=65202,_e.seeninitialarabic=65203,_e.seenmedialarabic=65204,_e.segol=1462,_e.segol13=1462,_e.segol1f=1462,_e.segol2c=1462,_e.segolhebrew=1462,_e.segolnarrowhebrew=1462,_e.segolquarterhebrew=1462,_e.segoltahebrew=1426,_e.segolwidehebrew=1462,_e.seharmenian=1405,_e.sehiragana=12379,_e.sekatakana=12475,_e.sekatakanahalfwidth=65406,_e.semicolon=59,_e.semicolonarabic=1563,_e.semicolonmonospace=65307,_e.semicolonsmall=65108,_e.semivoicedmarkkana=12444,_e.semivoicedmarkkanahalfwidth=65439,_e.sentisquare=13090,_e.sentosquare=13091,_e.seven=55,_e.sevenarabic=1639,_e.sevenbengali=2541,_e.sevencircle=9318,_e.sevencircleinversesansserif=10128,_e.sevendeva=2413,_e.seveneighths=8542,_e.sevengujarati=2797,_e.sevengurmukhi=2669,_e.sevenhackarabic=1639,_e.sevenhangzhou=12327,_e.sevenideographicparen=12838,_e.seveninferior=8327,_e.sevenmonospace=65303,_e.sevenoldstyle=63287,_e.sevenparen=9338,_e.sevenperiod=9358,_e.sevenpersian=1783,_e.sevenroman=8566,_e.sevensuperior=8311,_e.seventeencircle=9328,_e.seventeenparen=9348,_e.seventeenperiod=9368,_e.seventhai=3671,_e.sfthyphen=173,_e.shaarmenian=1399,_e.shabengali=2486,_e.shacyrillic=1096,_e.shaddaarabic=1617,_e.shaddadammaarabic=64609,_e.shaddadammatanarabic=64606,_e.shaddafathaarabic=64608,_e.shaddakasraarabic=64610,_e.shaddakasratanarabic=64607,_e.shade=9618,_e.shadedark=9619,_e.shadelight=9617,_e.shademedium=9618,_e.shadeva=2358,_e.shagujarati=2742,_e.shagurmukhi=2614,_e.shalshelethebrew=1427,_e.shbopomofo=12565,_e.shchacyrillic=1097,_e.sheenarabic=1588,_e.sheenfinalarabic=65206,_e.sheeninitialarabic=65207,_e.sheenmedialarabic=65208,_e.sheicoptic=995,_e.sheqel=8362,_e.sheqelhebrew=8362,_e.sheva=1456,_e.sheva115=1456,_e.sheva15=1456,_e.sheva22=1456,_e.sheva2e=1456,_e.shevahebrew=1456,_e.shevanarrowhebrew=1456,_e.shevaquarterhebrew=1456,_e.shevawidehebrew=1456,_e.shhacyrillic=1211,_e.shimacoptic=1005,_e.shin=1513,_e.shindagesh=64329,_e.shindageshhebrew=64329,_e.shindageshshindot=64300,_e.shindageshshindothebrew=64300,_e.shindageshsindot=64301,_e.shindageshsindothebrew=64301,_e.shindothebrew=1473,_e.shinhebrew=1513,_e.shinshindot=64298,_e.shinshindothebrew=64298,_e.shinsindot=64299,_e.shinsindothebrew=64299,_e.shook=642,_e.sigma=963,_e.sigma1=962,_e.sigmafinal=962,_e.sigmalunatesymbolgreek=1010,_e.sihiragana=12375,_e.sikatakana=12471,_e.sikatakanahalfwidth=65404,_e.siluqhebrew=1469,_e.siluqlefthebrew=1469,_e.similar=8764,_e.sindothebrew=1474,_e.siosacirclekorean=12916,_e.siosaparenkorean=12820,_e.sioscieuckorean=12670,_e.sioscirclekorean=12902,_e.sioskiyeokkorean=12666,_e.sioskorean=12613,_e.siosnieunkorean=12667,_e.siosparenkorean=12806,_e.siospieupkorean=12669,_e.siostikeutkorean=12668,_e.six=54,_e.sixarabic=1638,_e.sixbengali=2540,_e.sixcircle=9317,_e.sixcircleinversesansserif=10127,_e.sixdeva=2412,_e.sixgujarati=2796,_e.sixgurmukhi=2668,_e.sixhackarabic=1638,_e.sixhangzhou=12326,_e.sixideographicparen=12837,_e.sixinferior=8326,_e.sixmonospace=65302,_e.sixoldstyle=63286,_e.sixparen=9337,_e.sixperiod=9357,_e.sixpersian=1782,_e.sixroman=8565,_e.sixsuperior=8310,_e.sixteencircle=9327,_e.sixteencurrencydenominatorbengali=2553,_e.sixteenparen=9347,_e.sixteenperiod=9367,_e.sixthai=3670,_e.slash=47,_e.slashmonospace=65295,_e.slong=383,_e.slongdotaccent=7835,_e.smileface=9786,_e.smonospace=65363,_e.sofpasuqhebrew=1475,_e.softhyphen=173,_e.softsigncyrillic=1100,_e.sohiragana=12381,_e.sokatakana=12477,_e.sokatakanahalfwidth=65407,_e.soliduslongoverlaycmb=824,_e.solidusshortoverlaycmb=823,_e.sorusithai=3625,_e.sosalathai=3624,_e.sosothai=3595,_e.sosuathai=3626,_e.space=32,_e.spacehackarabic=32,_e.spade=9824,_e.spadesuitblack=9824,_e.spadesuitwhite=9828,_e.sparen=9390,_e.squarebelowcmb=827,_e.squarecc=13252,_e.squarecm=13213,_e.squarediagonalcrosshatchfill=9641,_e.squarehorizontalfill=9636,_e.squarekg=13199,_e.squarekm=13214,_e.squarekmcapital=13262,_e.squareln=13265,_e.squarelog=13266,_e.squaremg=13198,_e.squaremil=13269,_e.squaremm=13212,_e.squaremsquared=13217,_e.squareorthogonalcrosshatchfill=9638,_e.squareupperlefttolowerrightfill=9639,_e.squareupperrighttolowerleftfill=9640,_e.squareverticalfill=9637,_e.squarewhitewithsmallblack=9635,_e.srsquare=13275,_e.ssabengali=2487,_e.ssadeva=2359,_e.ssagujarati=2743,_e.ssangcieuckorean=12617,_e.ssanghieuhkorean=12677,_e.ssangieungkorean=12672,_e.ssangkiyeokkorean=12594,_e.ssangnieunkorean=12645,_e.ssangpieupkorean=12611,_e.ssangsioskorean=12614,_e.ssangtikeutkorean=12600,_e.ssuperior=63218,_e.sterling=163,_e.sterlingmonospace=65505,_e.strokelongoverlaycmb=822,_e.strokeshortoverlaycmb=821,_e.subset=8834,_e.subsetnotequal=8842,_e.subsetorequal=8838,_e.succeeds=8827,_e.suchthat=8715,_e.suhiragana=12377,_e.sukatakana=12473,_e.sukatakanahalfwidth=65405,_e.sukunarabic=1618,_e.summation=8721,_e.sun=9788,_e.superset=8835,_e.supersetnotequal=8843,_e.supersetorequal=8839,_e.svsquare=13276,_e.syouwaerasquare=13180,_e.t=116,_e.tabengali=2468,_e.tackdown=8868,_e.tackleft=8867,_e.tadeva=2340,_e.tagujarati=2724,_e.tagurmukhi=2596,_e.taharabic=1591,_e.tahfinalarabic=65218,_e.tahinitialarabic=65219,_e.tahiragana=12383,_e.tahmedialarabic=65220,_e.taisyouerasquare=13181,_e.takatakana=12479,_e.takatakanahalfwidth=65408,_e.tatweelarabic=1600,_e.tau=964,_e.tav=1514,_e.tavdages=64330,_e.tavdagesh=64330,_e.tavdageshhebrew=64330,_e.tavhebrew=1514,_e.tbar=359,_e.tbopomofo=12554,_e.tcaron=357,_e.tccurl=680,_e.tcedilla=355,_e.tcheharabic=1670,_e.tchehfinalarabic=64379,_e.tchehinitialarabic=64380,_e.tchehmedialarabic=64381,_e.tcircle=9443,_e.tcircumflexbelow=7793,_e.tcommaaccent=355,_e.tdieresis=7831,_e.tdotaccent=7787,_e.tdotbelow=7789,_e.tecyrillic=1090,_e.tedescendercyrillic=1197,_e.teharabic=1578,_e.tehfinalarabic=65174,_e.tehhahinitialarabic=64674,_e.tehhahisolatedarabic=64524,_e.tehinitialarabic=65175,_e.tehiragana=12390,_e.tehjeeminitialarabic=64673,_e.tehjeemisolatedarabic=64523,_e.tehmarbutaarabic=1577,_e.tehmarbutafinalarabic=65172,_e.tehmedialarabic=65176,_e.tehmeeminitialarabic=64676,_e.tehmeemisolatedarabic=64526,_e.tehnoonfinalarabic=64627,_e.tekatakana=12486,_e.tekatakanahalfwidth=65411,_e.telephone=8481,_e.telephoneblack=9742,_e.telishagedolahebrew=1440,_e.telishaqetanahebrew=1449,_e.tencircle=9321,_e.tenideographicparen=12841,_e.tenparen=9341,_e.tenperiod=9361,_e.tenroman=8569,_e.tesh=679,_e.tet=1496,_e.tetdagesh=64312,_e.tetdageshhebrew=64312,_e.tethebrew=1496,_e.tetsecyrillic=1205,_e.tevirhebrew=1435,_e.tevirlefthebrew=1435,_e.thabengali=2469,_e.thadeva=2341,_e.thagujarati=2725,_e.thagurmukhi=2597,_e.thalarabic=1584,_e.thalfinalarabic=65196,_e.thanthakhatlowleftthai=63640,_e.thanthakhatlowrightthai=63639,_e.thanthakhatthai=3660,_e.thanthakhatupperleftthai=63638,_e.theharabic=1579,_e.thehfinalarabic=65178,_e.thehinitialarabic=65179,_e.thehmedialarabic=65180,_e.thereexists=8707,_e.therefore=8756,_e.theta=952,_e.theta1=977,_e.thetasymbolgreek=977,_e.thieuthacirclekorean=12921,_e.thieuthaparenkorean=12825,_e.thieuthcirclekorean=12907,_e.thieuthkorean=12620,_e.thieuthparenkorean=12811,_e.thirteencircle=9324,_e.thirteenparen=9344,_e.thirteenperiod=9364,_e.thonangmonthothai=3601,_e.thook=429,_e.thophuthaothai=3602,_e.thorn=254,_e.thothahanthai=3607,_e.thothanthai=3600,_e.thothongthai=3608,_e.thothungthai=3606,_e.thousandcyrillic=1154,_e.thousandsseparatorarabic=1644,_e.thousandsseparatorpersian=1644,_e.three=51,_e.threearabic=1635,_e.threebengali=2537,_e.threecircle=9314,_e.threecircleinversesansserif=10124,_e.threedeva=2409,_e.threeeighths=8540,_e.threegujarati=2793,_e.threegurmukhi=2665,_e.threehackarabic=1635,_e.threehangzhou=12323,_e.threeideographicparen=12834,_e.threeinferior=8323,_e.threemonospace=65299,_e.threenumeratorbengali=2550,_e.threeoldstyle=63283,_e.threeparen=9334,_e.threeperiod=9354,_e.threepersian=1779,_e.threequarters=190,_e.threequartersemdash=63198,_e.threeroman=8562,_e.threesuperior=179,_e.threethai=3667,_e.thzsquare=13204,_e.tihiragana=12385,_e.tikatakana=12481,_e.tikatakanahalfwidth=65409,_e.tikeutacirclekorean=12912,_e.tikeutaparenkorean=12816,_e.tikeutcirclekorean=12898,_e.tikeutkorean=12599,_e.tikeutparenkorean=12802,_e.tilde=732,_e.tildebelowcmb=816,_e.tildecmb=771,_e.tildecomb=771,_e.tildedoublecmb=864,_e.tildeoperator=8764,_e.tildeoverlaycmb=820,_e.tildeverticalcmb=830,_e.timescircle=8855,_e.tipehahebrew=1430,_e.tipehalefthebrew=1430,_e.tippigurmukhi=2672,_e.titlocyrilliccmb=1155,_e.tiwnarmenian=1407,_e.tlinebelow=7791,_e.tmonospace=65364,_e.toarmenian=1385,_e.tohiragana=12392,_e.tokatakana=12488,_e.tokatakanahalfwidth=65412,_e.tonebarextrahighmod=741,_e.tonebarextralowmod=745,_e.tonebarhighmod=742,_e.tonebarlowmod=744,_e.tonebarmidmod=743,_e.tonefive=445,_e.tonesix=389,_e.tonetwo=424,_e.tonos=900,_e.tonsquare=13095,_e.topatakthai=3599,_e.tortoiseshellbracketleft=12308,_e.tortoiseshellbracketleftsmall=65117,_e.tortoiseshellbracketleftvertical=65081,_e.tortoiseshellbracketright=12309,_e.tortoiseshellbracketrightsmall=65118,_e.tortoiseshellbracketrightvertical=65082,_e.totaothai=3605,_e.tpalatalhook=427,_e.tparen=9391,_e.trademark=8482,_e.trademarksans=63722,_e.trademarkserif=63195,_e.tretroflexhook=648,_e.triagdn=9660,_e.triaglf=9668,_e.triagrt=9658,_e.triagup=9650,_e.ts=678,_e.tsadi=1510,_e.tsadidagesh=64326,_e.tsadidageshhebrew=64326,_e.tsadihebrew=1510,_e.tsecyrillic=1094,_e.tsere=1461,_e.tsere12=1461,_e.tsere1e=1461,_e.tsere2b=1461,_e.tserehebrew=1461,_e.tserenarrowhebrew=1461,_e.tserequarterhebrew=1461,_e.tserewidehebrew=1461,_e.tshecyrillic=1115,_e.tsuperior=63219,_e.ttabengali=2463,_e.ttadeva=2335,_e.ttagujarati=2719,_e.ttagurmukhi=2591,_e.tteharabic=1657,_e.ttehfinalarabic=64359,_e.ttehinitialarabic=64360,_e.ttehmedialarabic=64361,_e.tthabengali=2464,_e.tthadeva=2336,_e.tthagujarati=2720,_e.tthagurmukhi=2592,_e.tturned=647,_e.tuhiragana=12388,_e.tukatakana=12484,_e.tukatakanahalfwidth=65410,_e.tusmallhiragana=12387,_e.tusmallkatakana=12483,_e.tusmallkatakanahalfwidth=65391,_e.twelvecircle=9323,_e.twelveparen=9343,_e.twelveperiod=9363,_e.twelveroman=8571,_e.twentycircle=9331,_e.twentyhangzhou=21316,_e.twentyparen=9351,_e.twentyperiod=9371,_e.two=50,_e.twoarabic=1634,_e.twobengali=2536,_e.twocircle=9313,_e.twocircleinversesansserif=10123,_e.twodeva=2408,_e.twodotenleader=8229,_e.twodotleader=8229,_e.twodotleadervertical=65072,_e.twogujarati=2792,_e.twogurmukhi=2664,_e.twohackarabic=1634,_e.twohangzhou=12322,_e.twoideographicparen=12833,_e.twoinferior=8322,_e.twomonospace=65298,_e.twonumeratorbengali=2549,_e.twooldstyle=63282,_e.twoparen=9333,_e.twoperiod=9353,_e.twopersian=1778,_e.tworoman=8561,_e.twostroke=443,_e.twosuperior=178,_e.twothai=3666,_e.twothirds=8532,_e.u=117,_e.uacute=250,_e.ubar=649,_e.ubengali=2441,_e.ubopomofo=12584,_e.ubreve=365,_e.ucaron=468,_e.ucircle=9444,_e.ucircumflex=251,_e.ucircumflexbelow=7799,_e.ucyrillic=1091,_e.udattadeva=2385,_e.udblacute=369,_e.udblgrave=533,_e.udeva=2313,_e.udieresis=252,_e.udieresisacute=472,_e.udieresisbelow=7795,_e.udieresiscaron=474,_e.udieresiscyrillic=1265,_e.udieresisgrave=476,_e.udieresismacron=470,_e.udotbelow=7909,_e.ugrave=249,_e.ugujarati=2697,_e.ugurmukhi=2569,_e.uhiragana=12358,_e.uhookabove=7911,_e.uhorn=432,_e.uhornacute=7913,_e.uhorndotbelow=7921,_e.uhorngrave=7915,_e.uhornhookabove=7917,_e.uhorntilde=7919,_e.uhungarumlaut=369,_e.uhungarumlautcyrillic=1267,_e.uinvertedbreve=535,_e.ukatakana=12454,_e.ukatakanahalfwidth=65395,_e.ukcyrillic=1145,_e.ukorean=12636,_e.umacron=363,_e.umacroncyrillic=1263,_e.umacrondieresis=7803,_e.umatragurmukhi=2625,_e.umonospace=65365,_e.underscore=95,_e.underscoredbl=8215,_e.underscoremonospace=65343,_e.underscorevertical=65075,_e.underscorewavy=65103,_e.union=8746,_e.universal=8704,_e.uogonek=371,_e.uparen=9392,_e.upblock=9600,_e.upperdothebrew=1476,_e.upsilon=965,_e.upsilondieresis=971,_e.upsilondieresistonos=944,_e.upsilonlatin=650,_e.upsilontonos=973,_e.uptackbelowcmb=797,_e.uptackmod=724,_e.uragurmukhi=2675,_e.uring=367,_e.ushortcyrillic=1118,_e.usmallhiragana=12357,_e.usmallkatakana=12453,_e.usmallkatakanahalfwidth=65385,_e.ustraightcyrillic=1199,_e.ustraightstrokecyrillic=1201,_e.utilde=361,_e.utildeacute=7801,_e.utildebelow=7797,_e.uubengali=2442,_e.uudeva=2314,_e.uugujarati=2698,_e.uugurmukhi=2570,_e.uumatragurmukhi=2626,_e.uuvowelsignbengali=2498,_e.uuvowelsigndeva=2370,_e.uuvowelsigngujarati=2754,_e.uvowelsignbengali=2497,_e.uvowelsigndeva=2369,_e.uvowelsigngujarati=2753,_e.v=118,_e.vadeva=2357,_e.vagujarati=2741,_e.vagurmukhi=2613,_e.vakatakana=12535,_e.vav=1493,_e.vavdagesh=64309,_e.vavdagesh65=64309,_e.vavdageshhebrew=64309,_e.vavhebrew=1493,_e.vavholam=64331,_e.vavholamhebrew=64331,_e.vavvavhebrew=1520,_e.vavyodhebrew=1521,_e.vcircle=9445,_e.vdotbelow=7807,_e.vecyrillic=1074,_e.veharabic=1700,_e.vehfinalarabic=64363,_e.vehinitialarabic=64364,_e.vehmedialarabic=64365,_e.vekatakana=12537,_e.venus=9792,_e.verticalbar=124,_e.verticallineabovecmb=781,_e.verticallinebelowcmb=809,_e.verticallinelowmod=716,_e.verticallinemod=712,_e.vewarmenian=1406,_e.vhook=651,_e.vikatakana=12536,_e.viramabengali=2509,_e.viramadeva=2381,_e.viramagujarati=2765,_e.visargabengali=2435,_e.visargadeva=2307,_e.visargagujarati=2691,_e.vmonospace=65366,_e.voarmenian=1400,_e.voicediterationhiragana=12446,_e.voicediterationkatakana=12542,_e.voicedmarkkana=12443,_e.voicedmarkkanahalfwidth=65438,_e.vokatakana=12538,_e.vparen=9393,_e.vtilde=7805,_e.vturned=652,_e.vuhiragana=12436,_e.vukatakana=12532,_e.w=119,_e.wacute=7811,_e.waekorean=12633,_e.wahiragana=12431,_e.wakatakana=12527,_e.wakatakanahalfwidth=65436,_e.wakorean=12632,_e.wasmallhiragana=12430,_e.wasmallkatakana=12526,_e.wattosquare=13143,_e.wavedash=12316,_e.wavyunderscorevertical=65076,_e.wawarabic=1608,_e.wawfinalarabic=65262,_e.wawhamzaabovearabic=1572,_e.wawhamzaabovefinalarabic=65158,_e.wbsquare=13277,_e.wcircle=9446,_e.wcircumflex=373,_e.wdieresis=7813,_e.wdotaccent=7815,_e.wdotbelow=7817,_e.wehiragana=12433,_e.weierstrass=8472,_e.wekatakana=12529,_e.wekorean=12638,_e.weokorean=12637,_e.wgrave=7809,_e.whitebullet=9702,_e.whitecircle=9675,_e.whitecircleinverse=9689,_e.whitecornerbracketleft=12302,_e.whitecornerbracketleftvertical=65091,_e.whitecornerbracketright=12303,_e.whitecornerbracketrightvertical=65092,_e.whitediamond=9671,_e.whitediamondcontainingblacksmalldiamond=9672,_e.whitedownpointingsmalltriangle=9663,_e.whitedownpointingtriangle=9661,_e.whiteleftpointingsmalltriangle=9667,_e.whiteleftpointingtriangle=9665,_e.whitelenticularbracketleft=12310,_e.whitelenticularbracketright=12311,_e.whiterightpointingsmalltriangle=9657,_e.whiterightpointingtriangle=9655,_e.whitesmallsquare=9643,_e.whitesmilingface=9786,_e.whitesquare=9633,_e.whitestar=9734,_e.whitetelephone=9743,_e.whitetortoiseshellbracketleft=12312,_e.whitetortoiseshellbracketright=12313,_e.whiteuppointingsmalltriangle=9653,_e.whiteuppointingtriangle=9651,_e.wihiragana=12432,_e.wikatakana=12528,_e.wikorean=12639,_e.wmonospace=65367,_e.wohiragana=12434,_e.wokatakana=12530,_e.wokatakanahalfwidth=65382,_e.won=8361,_e.wonmonospace=65510,_e.wowaenthai=3623,_e.wparen=9394,_e.wring=7832,_e.wsuperior=695,_e.wturned=653,_e.wynn=447,_e.x=120,_e.xabovecmb=829,_e.xbopomofo=12562,_e.xcircle=9447,_e.xdieresis=7821,_e.xdotaccent=7819,_e.xeharmenian=1389,_e.xi=958,_e.xmonospace=65368,_e.xparen=9395,_e.xsuperior=739,_e.y=121,_e.yaadosquare=13134,_e.yabengali=2479,_e.yacute=253,_e.yadeva=2351,_e.yaekorean=12626,_e.yagujarati=2735,_e.yagurmukhi=2607,_e.yahiragana=12420,_e.yakatakana=12516,_e.yakatakanahalfwidth=65428,_e.yakorean=12625,_e.yamakkanthai=3662,_e.yasmallhiragana=12419,_e.yasmallkatakana=12515,_e.yasmallkatakanahalfwidth=65388,_e.yatcyrillic=1123,_e.ycircle=9448,_e.ycircumflex=375,_e.ydieresis=255,_e.ydotaccent=7823,_e.ydotbelow=7925,_e.yeharabic=1610,_e.yehbarreearabic=1746,_e.yehbarreefinalarabic=64431,_e.yehfinalarabic=65266,_e.yehhamzaabovearabic=1574,_e.yehhamzaabovefinalarabic=65162,_e.yehhamzaaboveinitialarabic=65163,_e.yehhamzaabovemedialarabic=65164,_e.yehinitialarabic=65267,_e.yehmedialarabic=65268,_e.yehmeeminitialarabic=64733,_e.yehmeemisolatedarabic=64600,_e.yehnoonfinalarabic=64660,_e.yehthreedotsbelowarabic=1745,_e.yekorean=12630,_e.yen=165,_e.yenmonospace=65509,_e.yeokorean=12629,_e.yeorinhieuhkorean=12678,_e.yerahbenyomohebrew=1450,_e.yerahbenyomolefthebrew=1450,_e.yericyrillic=1099,_e.yerudieresiscyrillic=1273,_e.yesieungkorean=12673,_e.yesieungpansioskorean=12675,_e.yesieungsioskorean=12674,_e.yetivhebrew=1434,_e.ygrave=7923,_e.yhook=436,_e.yhookabove=7927,_e.yiarmenian=1397,_e.yicyrillic=1111,_e.yikorean=12642,_e.yinyang=9775,_e.yiwnarmenian=1410,_e.ymonospace=65369,_e.yod=1497,_e.yoddagesh=64313,_e.yoddageshhebrew=64313,_e.yodhebrew=1497,_e.yodyodhebrew=1522,_e.yodyodpatahhebrew=64287,_e.yohiragana=12424,_e.yoikorean=12681,_e.yokatakana=12520,_e.yokatakanahalfwidth=65430,_e.yokorean=12635,_e.yosmallhiragana=12423,_e.yosmallkatakana=12519,_e.yosmallkatakanahalfwidth=65390,_e.yotgreek=1011,_e.yoyaekorean=12680,_e.yoyakorean=12679,_e.yoyakthai=3618,_e.yoyingthai=3597,_e.yparen=9396,_e.ypogegrammeni=890,_e.ypogegrammenigreekcmb=837,_e.yr=422,_e.yring=7833,_e.ysuperior=696,_e.ytilde=7929,_e.yturned=654,_e.yuhiragana=12422,_e.yuikorean=12684,_e.yukatakana=12518,_e.yukatakanahalfwidth=65429,_e.yukorean=12640,_e.yusbigcyrillic=1131,_e.yusbigiotifiedcyrillic=1133,_e.yuslittlecyrillic=1127,_e.yuslittleiotifiedcyrillic=1129,_e.yusmallhiragana=12421,_e.yusmallkatakana=12517,_e.yusmallkatakanahalfwidth=65389,_e.yuyekorean=12683,_e.yuyeokorean=12682,_e.yyabengali=2527,_e.yyadeva=2399,_e.z=122,_e.zaarmenian=1382,_e.zacute=378,_e.zadeva=2395,_e.zagurmukhi=2651,_e.zaharabic=1592,_e.zahfinalarabic=65222,_e.zahinitialarabic=65223,_e.zahiragana=12374,_e.zahmedialarabic=65224,_e.zainarabic=1586,_e.zainfinalarabic=65200,_e.zakatakana=12470,_e.zaqefgadolhebrew=1429,_e.zaqefqatanhebrew=1428,_e.zarqahebrew=1432,_e.zayin=1494,_e.zayindagesh=64310,_e.zayindageshhebrew=64310,_e.zayinhebrew=1494,_e.zbopomofo=12567,_e.zcaron=382,_e.zcircle=9449,_e.zcircumflex=7825,_e.zcurl=657,_e.zdot=380,_e.zdotaccent=380,_e.zdotbelow=7827,_e.zecyrillic=1079,_e.zedescendercyrillic=1177,_e.zedieresiscyrillic=1247,_e.zehiragana=12380,_e.zekatakana=12476,_e.zero=48,_e.zeroarabic=1632,_e.zerobengali=2534,_e.zerodeva=2406,_e.zerogujarati=2790,_e.zerogurmukhi=2662,_e.zerohackarabic=1632,_e.zeroinferior=8320,_e.zeromonospace=65296,_e.zerooldstyle=63280,_e.zeropersian=1776,_e.zerosuperior=8304,_e.zerothai=3664,_e.zerowidthjoiner=65279,_e.zerowidthnonjoiner=8204,_e.zerowidthspace=8203,_e.zeta=950,_e.zhbopomofo=12563,_e.zhearmenian=1386,_e.zhebrevecyrillic=1218,_e.zhecyrillic=1078,_e.zhedescendercyrillic=1175,_e.zhedieresiscyrillic=1245,_e.zihiragana=12376,_e.zikatakana=12472,_e.zinorhebrew=1454,_e.zlinebelow=7829,_e.zmonospace=65370,_e.zohiragana=12382,_e.zokatakana=12478,_e.zparen=9397,_e.zretroflexhook=656,_e.zstroke=438,_e.zuhiragana=12378,_e.zukatakana=12474,_e[".notdef"]=0,_e.angbracketleftbig=9001,_e.angbracketleftBig=9001,_e.angbracketleftbigg=9001,_e.angbracketleftBigg=9001,_e.angbracketrightBig=9002,_e.angbracketrightbig=9002,_e.angbracketrightBigg=9002,_e.angbracketrightbigg=9002,_e.arrowhookleft=8618,_e.arrowhookright=8617,_e.arrowlefttophalf=8636,_e.arrowleftbothalf=8637,_e.arrownortheast=8599,_e.arrownorthwest=8598,_e.arrowrighttophalf=8640,_e.arrowrightbothalf=8641,_e.arrowsoutheast=8600,_e.arrowsouthwest=8601,_e.backslashbig=8726,_e.backslashBig=8726,_e.backslashBigg=8726,_e.backslashbigg=8726,_e.bardbl=8214,_e.bracehtipdownleft=65079,_e.bracehtipdownright=65079,_e.bracehtipupleft=65080,_e.bracehtipupright=65080,_e.braceleftBig=123,_e.braceleftbig=123,_e.braceleftbigg=123,_e.braceleftBigg=123,_e.bracerightBig=125,_e.bracerightbig=125,_e.bracerightbigg=125,_e.bracerightBigg=125,_e.bracketleftbig=91,_e.bracketleftBig=91,_e.bracketleftbigg=91,_e.bracketleftBigg=91,_e.bracketrightBig=93,_e.bracketrightbig=93,_e.bracketrightbigg=93,_e.bracketrightBigg=93,_e.ceilingleftbig=8968,_e.ceilingleftBig=8968,_e.ceilingleftBigg=8968,_e.ceilingleftbigg=8968,_e.ceilingrightbig=8969,_e.ceilingrightBig=8969,_e.ceilingrightbigg=8969,_e.ceilingrightBigg=8969,_e.circledotdisplay=8857,_e.circledottext=8857,_e.circlemultiplydisplay=8855,_e.circlemultiplytext=8855,_e.circleplusdisplay=8853,_e.circleplustext=8853,_e.contintegraldisplay=8750,_e.contintegraltext=8750,_e.coproductdisplay=8720,_e.coproducttext=8720,_e.floorleftBig=8970,_e.floorleftbig=8970,_e.floorleftbigg=8970,_e.floorleftBigg=8970,_e.floorrightbig=8971,_e.floorrightBig=8971,_e.floorrightBigg=8971,_e.floorrightbigg=8971,_e.hatwide=770,_e.hatwider=770,_e.hatwidest=770,_e.intercal=7488,_e.integraldisplay=8747,_e.integraltext=8747,_e.intersectiondisplay=8898,_e.intersectiontext=8898,_e.logicalanddisplay=8743,_e.logicalandtext=8743,_e.logicalordisplay=8744,_e.logicalortext=8744,_e.parenleftBig=40,_e.parenleftbig=40,_e.parenleftBigg=40,_e.parenleftbigg=40,_e.parenrightBig=41,_e.parenrightbig=41,_e.parenrightBigg=41,_e.parenrightbigg=41,_e.prime=8242,_e.productdisplay=8719,_e.producttext=8719,_e.radicalbig=8730,_e.radicalBig=8730,_e.radicalBigg=8730,_e.radicalbigg=8730,_e.radicalbt=8730,_e.radicaltp=8730,_e.radicalvertex=8730,_e.slashbig=47,_e.slashBig=47,_e.slashBigg=47,_e.slashbigg=47,_e.summationdisplay=8721,_e.summationtext=8721,_e.tildewide=732,_e.tildewider=732,_e.tildewidest=732,_e.uniondisplay=8899,_e.unionmultidisplay=8846,_e.unionmultitext=8846,_e.unionsqdisplay=8852,_e.unionsqtext=8852,_e.uniontext=8899,_e.vextenddouble=8741,_e.vextendsingle=8739});Et.getGlyphsUnicode=_t;const Rt=(0,wt.getLookupTableFactory)(function(_e){_e.space=32,_e.a1=9985,_e.a2=9986,_e.a202=9987,_e.a3=9988,_e.a4=9742,_e.a5=9990,_e.a119=9991,_e.a118=9992,_e.a117=9993,_e.a11=9755,_e.a12=9758,_e.a13=9996,_e.a14=9997,_e.a15=9998,_e.a16=9999,_e.a105=1e4,_e.a17=10001,_e.a18=10002,_e.a19=10003,_e.a20=10004,_e.a21=10005,_e.a22=10006,_e.a23=10007,_e.a24=10008,_e.a25=10009,_e.a26=10010,_e.a27=10011,_e.a28=10012,_e.a6=10013,_e.a7=10014,_e.a8=10015,_e.a9=10016,_e.a10=10017,_e.a29=10018,_e.a30=10019,_e.a31=10020,_e.a32=10021,_e.a33=10022,_e.a34=10023,_e.a35=9733,_e.a36=10025,_e.a37=10026,_e.a38=10027,_e.a39=10028,_e.a40=10029,_e.a41=10030,_e.a42=10031,_e.a43=10032,_e.a44=10033,_e.a45=10034,_e.a46=10035,_e.a47=10036,_e.a48=10037,_e.a49=10038,_e.a50=10039,_e.a51=10040,_e.a52=10041,_e.a53=10042,_e.a54=10043,_e.a55=10044,_e.a56=10045,_e.a57=10046,_e.a58=10047,_e.a59=10048,_e.a60=10049,_e.a61=10050,_e.a62=10051,_e.a63=10052,_e.a64=10053,_e.a65=10054,_e.a66=10055,_e.a67=10056,_e.a68=10057,_e.a69=10058,_e.a70=10059,_e.a71=9679,_e.a72=10061,_e.a73=9632,_e.a74=10063,_e.a203=10064,_e.a75=10065,_e.a204=10066,_e.a76=9650,_e.a77=9660,_e.a78=9670,_e.a79=10070,_e.a81=9687,_e.a82=10072,_e.a83=10073,_e.a84=10074,_e.a97=10075,_e.a98=10076,_e.a99=10077,_e.a100=10078,_e.a101=10081,_e.a102=10082,_e.a103=10083,_e.a104=10084,_e.a106=10085,_e.a107=10086,_e.a108=10087,_e.a112=9827,_e.a111=9830,_e.a110=9829,_e.a109=9824,_e.a120=9312,_e.a121=9313,_e.a122=9314,_e.a123=9315,_e.a124=9316,_e.a125=9317,_e.a126=9318,_e.a127=9319,_e.a128=9320,_e.a129=9321,_e.a130=10102,_e.a131=10103,_e.a132=10104,_e.a133=10105,_e.a134=10106,_e.a135=10107,_e.a136=10108,_e.a137=10109,_e.a138=10110,_e.a139=10111,_e.a140=10112,_e.a141=10113,_e.a142=10114,_e.a143=10115,_e.a144=10116,_e.a145=10117,_e.a146=10118,_e.a147=10119,_e.a148=10120,_e.a149=10121,_e.a150=10122,_e.a151=10123,_e.a152=10124,_e.a153=10125,_e.a154=10126,_e.a155=10127,_e.a156=10128,_e.a157=10129,_e.a158=10130,_e.a159=10131,_e.a160=10132,_e.a161=8594,_e.a163=8596,_e.a164=8597,_e.a196=10136,_e.a165=10137,_e.a192=10138,_e.a166=10139,_e.a167=10140,_e.a168=10141,_e.a169=10142,_e.a170=10143,_e.a171=10144,_e.a172=10145,_e.a173=10146,_e.a162=10147,_e.a174=10148,_e.a175=10149,_e.a176=10150,_e.a177=10151,_e.a178=10152,_e.a179=10153,_e.a193=10154,_e.a180=10155,_e.a199=10156,_e.a181=10157,_e.a200=10158,_e.a182=10159,_e.a201=10161,_e.a183=10162,_e.a184=10163,_e.a197=10164,_e.a185=10165,_e.a194=10166,_e.a198=10167,_e.a186=10168,_e.a195=10169,_e.a187=10170,_e.a188=10171,_e.a189=10172,_e.a190=10173,_e.a191=10174,_e.a89=10088,_e.a90=10089,_e.a93=10090,_e.a94=10091,_e.a91=10092,_e.a92=10093,_e.a205=10094,_e.a85=10095,_e.a206=10096,_e.a86=10097,_e.a87=10098,_e.a88=10099,_e.a95=10100,_e.a96=10101,_e[".notdef"]=0});Et.getDingbatsGlyphsUnicode=Rt},(Ct,Et,Ft)=>{Object.defineProperty(Et,"__esModule",{value:!0}),Et.clearUnicodeCaches=$t,Et.getCharUnicodeCategory=Nt,Et.getUnicodeForGlyph=_e,Et.getUnicodeRangeFor=Pt,Et.mapSpecialUnicodeValues=Rt;var wt=Ft(3);const _t=(0,wt.getLookupTableFactory)(function(Lt){Lt[63721]=169,Lt[63193]=169,Lt[63720]=174,Lt[63194]=174,Lt[63722]=8482,Lt[63195]=8482,Lt[63729]=9127,Lt[63730]=9128,Lt[63731]=9129,Lt[63740]=9131,Lt[63741]=9132,Lt[63742]=9133,Lt[63726]=9121,Lt[63727]=9122,Lt[63728]=9123,Lt[63737]=9124,Lt[63738]=9125,Lt[63739]=9126,Lt[63723]=9115,Lt[63724]=9116,Lt[63725]=9117,Lt[63734]=9118,Lt[63735]=9119,Lt[63736]=9120});function Rt(Lt){return Lt>=65520&&Lt<=65535?0:Lt>=62976&&Lt<=63743?_t()[Lt]||Lt:Lt===173?45:Lt}function _e(Lt,jt){let kt=jt[Lt];if(kt!==void 0)return kt;if(!Lt)return-1;if(Lt[0]==="u"){const qt=Lt.length;let Bt;if(qt===7&&Lt[1]==="n"&&Lt[2]==="i")Bt=Lt.substring(3);else if(qt>=5&&qt<=7)Bt=Lt.substring(1);else return-1;if(Bt===Bt.toUpperCase()&&(kt=parseInt(Bt,16),kt>=0))return kt}return-1}const bt=[[0,127],[128,255],[256,383],[384,591],[592,687,7424,7551,7552,7615],[688,767,42752,42783],[768,879,7616,7679],[880,1023],[11392,11519],[1024,1279,1280,1327,11744,11775,42560,42655],[1328,1423],[1424,1535],[42240,42559],[1536,1791,1872,1919],[1984,2047],[2304,2431],[2432,2559],[2560,2687],[2688,2815],[2816,2943],[2944,3071],[3072,3199],[3200,3327],[3328,3455],[3584,3711],[3712,3839],[4256,4351,11520,11567],[6912,7039],[4352,4607],[7680,7935,11360,11391,42784,43007],[7936,8191],[8192,8303,11776,11903],[8304,8351],[8352,8399],[8400,8447],[8448,8527],[8528,8591],[8592,8703,10224,10239,10496,10623,11008,11263],[8704,8959,10752,11007,10176,10223,10624,10751],[8960,9215],[9216,9279],[9280,9311],[9312,9471],[9472,9599],[9600,9631],[9632,9727],[9728,9983],[9984,10175],[12288,12351],[12352,12447],[12448,12543,12784,12799],[12544,12591,12704,12735],[12592,12687],[43072,43135],[12800,13055],[13056,13311],[44032,55215],[55296,57343],[67840,67871],[19968,40959,11904,12031,12032,12255,12272,12287,13312,19903,131072,173791,12688,12703],[57344,63743],[12736,12783,63744,64255,194560,195103],[64256,64335],[64336,65023],[65056,65071],[65040,65055],[65104,65135],[65136,65279],[65280,65519],[65520,65535],[3840,4095],[1792,1871],[1920,1983],[3456,3583],[4096,4255],[4608,4991,4992,5023,11648,11743],[5024,5119],[5120,5759],[5760,5791],[5792,5887],[6016,6143],[6144,6319],[10240,10495],[40960,42127],[5888,5919,5920,5951,5952,5983,5984,6015],[66304,66351],[66352,66383],[66560,66639],[118784,119039,119040,119295,119296,119375],[119808,120831],[1044480,1048573],[65024,65039,917760,917999],[917504,917631],[6400,6479],[6480,6527],[6528,6623],[6656,6687],[11264,11359],[11568,11647],[19904,19967],[43008,43055],[65536,65663,65664,65791,65792,65855],[65856,65935],[66432,66463],[66464,66527],[66640,66687],[66688,66735],[67584,67647],[68096,68191],[119552,119647],[73728,74751,74752,74879],[119648,119679],[7040,7103],[7168,7247],[7248,7295],[43136,43231],[43264,43311],[43312,43359],[43520,43615],[65936,65999],[66e3,66047],[66208,66271,66176,66207,67872,67903],[127024,127135,126976,127023]];function Pt(Lt,jt=-1){if(jt!==-1){const kt=bt[jt];for(let qt=0,Bt=kt.length;qt<Bt;qt+=2)if(Lt>=kt[qt]&&Lt<=kt[qt+1])return jt}for(let kt=0,qt=bt.length;kt<qt;kt++){const Bt=bt[kt];for(let Gt=0,en=Bt.length;Gt<en;Gt+=2)if(Lt>=Bt[Gt]&&Lt<=Bt[Gt+1])return kt}return-1}const Xt=new RegExp("^(\\s)|(\\p{Mn})|(\\p{Cf})$","u"),Kt=new Map;function Nt(Lt){const jt=Kt.get(Lt);if(jt)return jt;const kt=Lt.match(Xt),qt={isWhitespace:!!(kt!=null&&kt[1]),isZeroWidthDiacritic:!!(kt!=null&&kt[2]),isInvisibleFormatMark:!!(kt!=null&&kt[3])};return Kt.set(Lt,qt),qt}function $t(){Kt.clear()}},(Ct,Et,Ft)=>{Object.defineProperty(Et,"__esModule",{value:!0}),Et.getSerifFonts=Et.getNonStdFontMap=Et.getGlyphMapForStandardFonts=Et.getFontNameToFileMap=void 0,Et.getStandardFontName=Lt,Et.getSymbolsFonts=Et.getSupplementalGlyphMapForCalibri=Et.getSupplementalGlyphMapForArialBlack=Et.getStdFontMap=void 0,Et.isKnownFontName=jt;var wt=Ft(3),_t=Ft(38);const Rt=(0,wt.getLookupTableFactory)(function(kt){kt["Times-Roman"]="Times-Roman",kt.Helvetica="Helvetica",kt.Courier="Courier",kt.Symbol="Symbol",kt["Times-Bold"]="Times-Bold",kt["Helvetica-Bold"]="Helvetica-Bold",kt["Courier-Bold"]="Courier-Bold",kt.ZapfDingbats="ZapfDingbats",kt["Times-Italic"]="Times-Italic",kt["Helvetica-Oblique"]="Helvetica-Oblique",kt["Courier-Oblique"]="Courier-Oblique",kt["Times-BoldItalic"]="Times-BoldItalic",kt["Helvetica-BoldOblique"]="Helvetica-BoldOblique",kt["Courier-BoldOblique"]="Courier-BoldOblique",kt.ArialNarrow="Helvetica",kt["ArialNarrow-Bold"]="Helvetica-Bold",kt["ArialNarrow-BoldItalic"]="Helvetica-BoldOblique",kt["ArialNarrow-Italic"]="Helvetica-Oblique",kt.ArialBlack="Helvetica",kt["ArialBlack-Bold"]="Helvetica-Bold",kt["ArialBlack-BoldItalic"]="Helvetica-BoldOblique",kt["ArialBlack-Italic"]="Helvetica-Oblique",kt["Arial-Black"]="Helvetica",kt["Arial-Black-Bold"]="Helvetica-Bold",kt["Arial-Black-BoldItalic"]="Helvetica-BoldOblique",kt["Arial-Black-Italic"]="Helvetica-Oblique",kt.Arial="Helvetica",kt["Arial-Bold"]="Helvetica-Bold",kt["Arial-BoldItalic"]="Helvetica-BoldOblique",kt["Arial-Italic"]="Helvetica-Oblique",kt.ArialMT="Helvetica",kt["Arial-BoldItalicMT"]="Helvetica-BoldOblique",kt["Arial-BoldMT"]="Helvetica-Bold",kt["Arial-ItalicMT"]="Helvetica-Oblique",kt["Arial-BoldItalicMT-BoldItalic"]="Helvetica-BoldOblique",kt["Arial-BoldMT-Bold"]="Helvetica-Bold",kt["Arial-ItalicMT-Italic"]="Helvetica-Oblique",kt.ArialUnicodeMS="Helvetica",kt["ArialUnicodeMS-Bold"]="Helvetica-Bold",kt["ArialUnicodeMS-BoldItalic"]="Helvetica-BoldOblique",kt["ArialUnicodeMS-Italic"]="Helvetica-Oblique",kt["Courier-BoldItalic"]="Courier-BoldOblique",kt["Courier-Italic"]="Courier-Oblique",kt.CourierNew="Courier",kt["CourierNew-Bold"]="Courier-Bold",kt["CourierNew-BoldItalic"]="Courier-BoldOblique",kt["CourierNew-Italic"]="Courier-Oblique",kt["CourierNewPS-BoldItalicMT"]="Courier-BoldOblique",kt["CourierNewPS-BoldMT"]="Courier-Bold",kt["CourierNewPS-ItalicMT"]="Courier-Oblique",kt.CourierNewPSMT="Courier",kt["Helvetica-BoldItalic"]="Helvetica-BoldOblique",kt["Helvetica-Italic"]="Helvetica-Oblique",kt["Symbol-Bold"]="Symbol",kt["Symbol-BoldItalic"]="Symbol",kt["Symbol-Italic"]="Symbol",kt.TimesNewRoman="Times-Roman",kt["TimesNewRoman-Bold"]="Times-Bold",kt["TimesNewRoman-BoldItalic"]="Times-BoldItalic",kt["TimesNewRoman-Italic"]="Times-Italic",kt.TimesNewRomanPS="Times-Roman",kt["TimesNewRomanPS-Bold"]="Times-Bold",kt["TimesNewRomanPS-BoldItalic"]="Times-BoldItalic",kt["TimesNewRomanPS-BoldItalicMT"]="Times-BoldItalic",kt["TimesNewRomanPS-BoldMT"]="Times-Bold",kt["TimesNewRomanPS-Italic"]="Times-Italic",kt["TimesNewRomanPS-ItalicMT"]="Times-Italic",kt.TimesNewRomanPSMT="Times-Roman",kt["TimesNewRomanPSMT-Bold"]="Times-Bold",kt["TimesNewRomanPSMT-BoldItalic"]="Times-BoldItalic",kt["TimesNewRomanPSMT-Italic"]="Times-Italic"});Et.getStdFontMap=Rt;const _e=(0,wt.getLookupTableFactory)(function(kt){kt.Courier="FoxitFixed.pfb",kt["Courier-Bold"]="FoxitFixedBold.pfb",kt["Courier-BoldOblique"]="FoxitFixedBoldItalic.pfb",kt["Courier-Oblique"]="FoxitFixedItalic.pfb",kt.Helvetica="LiberationSans-Regular.ttf",kt["Helvetica-Bold"]="LiberationSans-Bold.ttf",kt["Helvetica-BoldOblique"]="LiberationSans-BoldItalic.ttf",kt["Helvetica-Oblique"]="LiberationSans-Italic.ttf",kt["Times-Roman"]="FoxitSerif.pfb",kt["Times-Bold"]="FoxitSerifBold.pfb",kt["Times-BoldItalic"]="FoxitSerifBoldItalic.pfb",kt["Times-Italic"]="FoxitSerifItalic.pfb",kt.Symbol="FoxitSymbol.pfb",kt.ZapfDingbats="FoxitDingbats.pfb",kt["LiberationSans-Regular"]="LiberationSans-Regular.ttf",kt["LiberationSans-Bold"]="LiberationSans-Bold.ttf",kt["LiberationSans-Italic"]="LiberationSans-Italic.ttf",kt["LiberationSans-BoldItalic"]="LiberationSans-BoldItalic.ttf"});Et.getFontNameToFileMap=_e;const bt=(0,wt.getLookupTableFactory)(function(kt){kt.Calibri="Helvetica",kt["Calibri-Bold"]="Helvetica-Bold",kt["Calibri-BoldItalic"]="Helvetica-BoldOblique",kt["Calibri-Italic"]="Helvetica-Oblique",kt.CenturyGothic="Helvetica",kt["CenturyGothic-Bold"]="Helvetica-Bold",kt["CenturyGothic-BoldItalic"]="Helvetica-BoldOblique",kt["CenturyGothic-Italic"]="Helvetica-Oblique",kt.ComicSansMS="Comic Sans MS",kt["ComicSansMS-Bold"]="Comic Sans MS-Bold",kt["ComicSansMS-BoldItalic"]="Comic Sans MS-BoldItalic",kt["ComicSansMS-Italic"]="Comic Sans MS-Italic",kt.Impact="Helvetica",kt["ItcSymbol-Bold"]="Helvetica-Bold",kt["ItcSymbol-BoldItalic"]="Helvetica-BoldOblique",kt["ItcSymbol-Book"]="Helvetica",kt["ItcSymbol-BookItalic"]="Helvetica-Oblique",kt["ItcSymbol-Medium"]="Helvetica",kt["ItcSymbol-MediumItalic"]="Helvetica-Oblique",kt.LucidaConsole="Courier",kt["LucidaConsole-Bold"]="Courier-Bold",kt["LucidaConsole-BoldItalic"]="Courier-BoldOblique",kt["LucidaConsole-Italic"]="Courier-Oblique",kt["LucidaSans-Demi"]="Helvetica-Bold",kt["MS-Gothic"]="MS Gothic",kt["MS-Gothic-Bold"]="MS Gothic-Bold",kt["MS-Gothic-BoldItalic"]="MS Gothic-BoldItalic",kt["MS-Gothic-Italic"]="MS Gothic-Italic",kt["MS-Mincho"]="MS Mincho",kt["MS-Mincho-Bold"]="MS Mincho-Bold",kt["MS-Mincho-BoldItalic"]="MS Mincho-BoldItalic",kt["MS-Mincho-Italic"]="MS Mincho-Italic",kt["MS-PGothic"]="MS PGothic",kt["MS-PGothic-Bold"]="MS PGothic-Bold",kt["MS-PGothic-BoldItalic"]="MS PGothic-BoldItalic",kt["MS-PGothic-Italic"]="MS PGothic-Italic",kt["MS-PMincho"]="MS PMincho",kt["MS-PMincho-Bold"]="MS PMincho-Bold",kt["MS-PMincho-BoldItalic"]="MS PMincho-BoldItalic",kt["MS-PMincho-Italic"]="MS PMincho-Italic",kt.NuptialScript="Times-Italic",kt.SegoeUISymbol="Helvetica"});Et.getNonStdFontMap=bt;const Pt=(0,wt.getLookupTableFactory)(function(kt){kt["Adobe Jenson"]=!0,kt["Adobe Text"]=!0,kt.Albertus=!0,kt.Aldus=!0,kt.Alexandria=!0,kt.Algerian=!0,kt["American Typewriter"]=!0,kt.Antiqua=!0,kt.Apex=!0,kt.Arno=!0,kt.Aster=!0,kt.Aurora=!0,kt.Baskerville=!0,kt.Bell=!0,kt.Bembo=!0,kt["Bembo Schoolbook"]=!0,kt.Benguiat=!0,kt["Berkeley Old Style"]=!0,kt["Bernhard Modern"]=!0,kt["Berthold City"]=!0,kt.Bodoni=!0,kt["Bauer Bodoni"]=!0,kt["Book Antiqua"]=!0,kt.Bookman=!0,kt["Bordeaux Roman"]=!0,kt["Californian FB"]=!0,kt.Calisto=!0,kt.Calvert=!0,kt.Capitals=!0,kt.Cambria=!0,kt.Cartier=!0,kt.Caslon=!0,kt.Catull=!0,kt.Centaur=!0,kt["Century Old Style"]=!0,kt["Century Schoolbook"]=!0,kt.Chaparral=!0,kt["Charis SIL"]=!0,kt.Cheltenham=!0,kt["Cholla Slab"]=!0,kt.Clarendon=!0,kt.Clearface=!0,kt.Cochin=!0,kt.Colonna=!0,kt["Computer Modern"]=!0,kt["Concrete Roman"]=!0,kt.Constantia=!0,kt["Cooper Black"]=!0,kt.Corona=!0,kt.Ecotype=!0,kt.Egyptienne=!0,kt.Elephant=!0,kt.Excelsior=!0,kt.Fairfield=!0,kt["FF Scala"]=!0,kt.Folkard=!0,kt.Footlight=!0,kt.FreeSerif=!0,kt["Friz Quadrata"]=!0,kt.Garamond=!0,kt.Gentium=!0,kt.Georgia=!0,kt.Gloucester=!0,kt["Goudy Old Style"]=!0,kt["Goudy Schoolbook"]=!0,kt["Goudy Pro Font"]=!0,kt.Granjon=!0,kt["Guardian Egyptian"]=!0,kt.Heather=!0,kt.Hercules=!0,kt["High Tower Text"]=!0,kt.Hiroshige=!0,kt["Hoefler Text"]=!0,kt["Humana Serif"]=!0,kt.Imprint=!0,kt["Ionic No. 5"]=!0,kt.Janson=!0,kt.Joanna=!0,kt.Korinna=!0,kt.Lexicon=!0,kt.LiberationSerif=!0,kt["Liberation Serif"]=!0,kt["Linux Libertine"]=!0,kt.Literaturnaya=!0,kt.Lucida=!0,kt["Lucida Bright"]=!0,kt.Melior=!0,kt.Memphis=!0,kt.Miller=!0,kt.Minion=!0,kt.Modern=!0,kt["Mona Lisa"]=!0,kt["Mrs Eaves"]=!0,kt["MS Serif"]=!0,kt["Museo Slab"]=!0,kt["New York"]=!0,kt["Nimbus Roman"]=!0,kt["NPS Rawlinson Roadway"]=!0,kt.NuptialScript=!0,kt.Palatino=!0,kt.Perpetua=!0,kt.Plantin=!0,kt["Plantin Schoolbook"]=!0,kt.Playbill=!0,kt["Poor Richard"]=!0,kt["Rawlinson Roadway"]=!0,kt.Renault=!0,kt.Requiem=!0,kt.Rockwell=!0,kt.Roman=!0,kt["Rotis Serif"]=!0,kt.Sabon=!0,kt.Scala=!0,kt.Seagull=!0,kt.Sistina=!0,kt.Souvenir=!0,kt.STIX=!0,kt["Stone Informal"]=!0,kt["Stone Serif"]=!0,kt.Sylfaen=!0,kt.Times=!0,kt.Trajan=!0,kt.Trinit=!0,kt["Trump Mediaeval"]=!0,kt.Utopia=!0,kt["Vale Type"]=!0,kt["Bitstream Vera"]=!0,kt["Vera Serif"]=!0,kt.Versailles=!0,kt.Wanted=!0,kt.Weiss=!0,kt["Wide Latin"]=!0,kt.Windsor=!0,kt.XITS=!0});Et.getSerifFonts=Pt;const Xt=(0,wt.getLookupTableFactory)(function(kt){kt.Dingbats=!0,kt.Symbol=!0,kt.ZapfDingbats=!0,kt.Wingdings=!0,kt["Wingdings-Bold"]=!0,kt["Wingdings-Regular"]=!0});Et.getSymbolsFonts=Xt;const Kt=(0,wt.getLookupTableFactory)(function(kt){kt[2]=10,kt[3]=32,kt[4]=33,kt[5]=34,kt[6]=35,kt[7]=36,kt[8]=37,kt[9]=38,kt[10]=39,kt[11]=40,kt[12]=41,kt[13]=42,kt[14]=43,kt[15]=44,kt[16]=45,kt[17]=46,kt[18]=47,kt[19]=48,kt[20]=49,kt[21]=50,kt[22]=51,kt[23]=52,kt[24]=53,kt[25]=54,kt[26]=55,kt[27]=56,kt[28]=57,kt[29]=58,kt[30]=894,kt[31]=60,kt[32]=61,kt[33]=62,kt[34]=63,kt[35]=64,kt[36]=65,kt[37]=66,kt[38]=67,kt[39]=68,kt[40]=69,kt[41]=70,kt[42]=71,kt[43]=72,kt[44]=73,kt[45]=74,kt[46]=75,kt[47]=76,kt[48]=77,kt[49]=78,kt[50]=79,kt[51]=80,kt[52]=81,kt[53]=82,kt[54]=83,kt[55]=84,kt[56]=85,kt[57]=86,kt[58]=87,kt[59]=88,kt[60]=89,kt[61]=90,kt[62]=91,kt[63]=92,kt[64]=93,kt[65]=94,kt[66]=95,kt[67]=96,kt[68]=97,kt[69]=98,kt[70]=99,kt[71]=100,kt[72]=101,kt[73]=102,kt[74]=103,kt[75]=104,kt[76]=105,kt[77]=106,kt[78]=107,kt[79]=108,kt[80]=109,kt[81]=110,kt[82]=111,kt[83]=112,kt[84]=113,kt[85]=114,kt[86]=115,kt[87]=116,kt[88]=117,kt[89]=118,kt[90]=119,kt[91]=120,kt[92]=121,kt[93]=122,kt[94]=123,kt[95]=124,kt[96]=125,kt[97]=126,kt[98]=196,kt[99]=197,kt[100]=199,kt[101]=201,kt[102]=209,kt[103]=214,kt[104]=220,kt[105]=225,kt[106]=224,kt[107]=226,kt[108]=228,kt[109]=227,kt[110]=229,kt[111]=231,kt[112]=233,kt[113]=232,kt[114]=234,kt[115]=235,kt[116]=237,kt[117]=236,kt[118]=238,kt[119]=239,kt[120]=241,kt[121]=243,kt[122]=242,kt[123]=244,kt[124]=246,kt[125]=245,kt[126]=250,kt[127]=249,kt[128]=251,kt[129]=252,kt[130]=8224,kt[131]=176,kt[132]=162,kt[133]=163,kt[134]=167,kt[135]=8226,kt[136]=182,kt[137]=223,kt[138]=174,kt[139]=169,kt[140]=8482,kt[141]=180,kt[142]=168,kt[143]=8800,kt[144]=198,kt[145]=216,kt[146]=8734,kt[147]=177,kt[148]=8804,kt[149]=8805,kt[150]=165,kt[151]=181,kt[152]=8706,kt[153]=8721,kt[154]=8719,kt[156]=8747,kt[157]=170,kt[158]=186,kt[159]=8486,kt[160]=230,kt[161]=248,kt[162]=191,kt[163]=161,kt[164]=172,kt[165]=8730,kt[166]=402,kt[167]=8776,kt[168]=8710,kt[169]=171,kt[170]=187,kt[171]=8230,kt[179]=8220,kt[180]=8221,kt[181]=8216,kt[182]=8217,kt[200]=193,kt[203]=205,kt[207]=211,kt[210]=218,kt[223]=711,kt[224]=321,kt[225]=322,kt[226]=352,kt[227]=353,kt[228]=381,kt[229]=382,kt[233]=221,kt[234]=253,kt[252]=263,kt[253]=268,kt[254]=269,kt[258]=258,kt[260]=260,kt[261]=261,kt[265]=280,kt[266]=281,kt[267]=282,kt[268]=283,kt[269]=313,kt[275]=323,kt[276]=324,kt[278]=328,kt[283]=344,kt[284]=345,kt[285]=346,kt[286]=347,kt[292]=367,kt[295]=377,kt[296]=378,kt[298]=380,kt[305]=963,kt[306]=964,kt[307]=966,kt[308]=8215,kt[309]=8252,kt[310]=8319,kt[311]=8359,kt[312]=8592,kt[313]=8593,kt[337]=9552,kt[493]=1039,kt[494]=1040,kt[672]=1488,kt[673]=1489,kt[674]=1490,kt[675]=1491,kt[676]=1492,kt[677]=1493,kt[678]=1494,kt[679]=1495,kt[680]=1496,kt[681]=1497,kt[682]=1498,kt[683]=1499,kt[684]=1500,kt[685]=1501,kt[686]=1502,kt[687]=1503,kt[688]=1504,kt[689]=1505,kt[690]=1506,kt[691]=1507,kt[692]=1508,kt[693]=1509,kt[694]=1510,kt[695]=1511,kt[696]=1512,kt[697]=1513,kt[698]=1514,kt[705]=1524,kt[706]=8362,kt[710]=64288,kt[711]=64298,kt[759]=1617,kt[761]=1776,kt[763]=1778,kt[775]=1652,kt[777]=1764,kt[778]=1780,kt[779]=1781,kt[780]=1782,kt[782]=771,kt[783]=64726,kt[786]=8363,kt[788]=8532,kt[790]=768,kt[791]=769,kt[792]=768,kt[795]=803,kt[797]=64336,kt[798]=64337,kt[799]=64342,kt[800]=64343,kt[801]=64344,kt[802]=64345,kt[803]=64362,kt[804]=64363,kt[805]=64364,kt[2424]=7821,kt[2425]=7822,kt[2426]=7823,kt[2427]=7824,kt[2428]=7825,kt[2429]=7826,kt[2430]=7827,kt[2433]=7682,kt[2678]=8045,kt[2679]=8046,kt[2830]=1552,kt[2838]=686,kt[2840]=751,kt[2842]=753,kt[2843]=754,kt[2844]=755,kt[2846]=757,kt[2856]=767,kt[2857]=848,kt[2858]=849,kt[2862]=853,kt[2863]=854,kt[2864]=855,kt[2865]=861,kt[2866]=862,kt[2906]=7460,kt[2908]=7462,kt[2909]=7463,kt[2910]=7464,kt[2912]=7466,kt[2913]=7467,kt[2914]=7468,kt[2916]=7470,kt[2917]=7471,kt[2918]=7472,kt[2920]=7474,kt[2921]=7475,kt[2922]=7476,kt[2924]=7478,kt[2925]=7479,kt[2926]=7480,kt[2928]=7482,kt[2929]=7483,kt[2930]=7484,kt[2932]=7486,kt[2933]=7487,kt[2934]=7488,kt[2936]=7490,kt[2937]=7491,kt[2938]=7492,kt[2940]=7494,kt[2941]=7495,kt[2942]=7496,kt[2944]=7498,kt[2946]=7500,kt[2948]=7502,kt[2950]=7504,kt[2951]=7505,kt[2952]=7506,kt[2954]=7508,kt[2955]=7509,kt[2956]=7510,kt[2958]=7512,kt[2959]=7513,kt[2960]=7514,kt[2962]=7516,kt[2963]=7517,kt[2964]=7518,kt[2966]=7520,kt[2967]=7521,kt[2968]=7522,kt[2970]=7524,kt[2971]=7525,kt[2972]=7526,kt[2974]=7528,kt[2975]=7529,kt[2976]=7530,kt[2978]=1537,kt[2979]=1538,kt[2980]=1539,kt[2982]=1549,kt[2983]=1551,kt[2984]=1552,kt[2986]=1554,kt[2987]=1555,kt[2988]=1556,kt[2990]=1623,kt[2991]=1624,kt[2995]=1775,kt[2999]=1791,kt[3002]=64290,kt[3003]=64291,kt[3004]=64292,kt[3006]=64294,kt[3007]=64295,kt[3008]=64296,kt[3011]=1900,kt[3014]=8223,kt[3015]=8244,kt[3017]=7532,kt[3018]=7533,kt[3019]=7534,kt[3075]=7590,kt[3076]=7591,kt[3079]=7594,kt[3080]=7595,kt[3083]=7598,kt[3084]=7599,kt[3087]=7602,kt[3088]=7603,kt[3091]=7606,kt[3092]=7607,kt[3095]=7610,kt[3096]=7611,kt[3099]=7614,kt[3100]=7615,kt[3103]=7618,kt[3104]=7619,kt[3107]=8337,kt[3108]=8338,kt[3116]=1884,kt[3119]=1885,kt[3120]=1885,kt[3123]=1886,kt[3124]=1886,kt[3127]=1887,kt[3128]=1887,kt[3131]=1888,kt[3132]=1888,kt[3135]=1889,kt[3136]=1889,kt[3139]=1890,kt[3140]=1890,kt[3143]=1891,kt[3144]=1891,kt[3147]=1892,kt[3148]=1892,kt[3153]=580,kt[3154]=581,kt[3157]=584,kt[3158]=585,kt[3161]=588,kt[3162]=589,kt[3165]=891,kt[3166]=892,kt[3169]=1274,kt[3170]=1275,kt[3173]=1278,kt[3174]=1279,kt[3181]=7622,kt[3182]=7623,kt[3282]=11799,kt[3316]=578,kt[3379]=42785,kt[3393]=1159,kt[3416]=8377});Et.getGlyphMapForStandardFonts=Kt;const Nt=(0,wt.getLookupTableFactory)(function(kt){kt[227]=322,kt[264]=261,kt[291]=346});Et.getSupplementalGlyphMapForArialBlack=Nt;const $t=(0,wt.getLookupTableFactory)(function(kt){kt[1]=32,kt[4]=65,kt[5]=192,kt[6]=193,kt[9]=196,kt[17]=66,kt[18]=67,kt[21]=268,kt[24]=68,kt[28]=69,kt[29]=200,kt[30]=201,kt[32]=282,kt[38]=70,kt[39]=71,kt[44]=72,kt[47]=73,kt[48]=204,kt[49]=205,kt[58]=74,kt[60]=75,kt[62]=76,kt[68]=77,kt[69]=78,kt[75]=79,kt[76]=210,kt[80]=214,kt[87]=80,kt[89]=81,kt[90]=82,kt[92]=344,kt[94]=83,kt[97]=352,kt[100]=84,kt[104]=85,kt[109]=220,kt[115]=86,kt[116]=87,kt[121]=88,kt[122]=89,kt[124]=221,kt[127]=90,kt[129]=381,kt[258]=97,kt[259]=224,kt[260]=225,kt[263]=228,kt[268]=261,kt[271]=98,kt[272]=99,kt[273]=263,kt[275]=269,kt[282]=100,kt[286]=101,kt[287]=232,kt[288]=233,kt[290]=283,kt[295]=281,kt[296]=102,kt[336]=103,kt[346]=104,kt[349]=105,kt[350]=236,kt[351]=237,kt[361]=106,kt[364]=107,kt[367]=108,kt[371]=322,kt[373]=109,kt[374]=110,kt[381]=111,kt[382]=242,kt[383]=243,kt[386]=246,kt[393]=112,kt[395]=113,kt[396]=114,kt[398]=345,kt[400]=115,kt[401]=347,kt[403]=353,kt[410]=116,kt[437]=117,kt[442]=252,kt[448]=118,kt[449]=119,kt[454]=120,kt[455]=121,kt[457]=253,kt[460]=122,kt[462]=382,kt[463]=380,kt[853]=44,kt[855]=58,kt[856]=46,kt[876]=47,kt[878]=45,kt[882]=45,kt[894]=40,kt[895]=41,kt[896]=91,kt[897]=93,kt[923]=64,kt[1004]=48,kt[1005]=49,kt[1006]=50,kt[1007]=51,kt[1008]=52,kt[1009]=53,kt[1010]=54,kt[1011]=55,kt[1012]=56,kt[1013]=57,kt[1081]=37,kt[1085]=43,kt[1086]=45});Et.getSupplementalGlyphMapForCalibri=$t;function Lt(kt){const qt=(0,_t.normalizeFontName)(kt);return Rt()[qt]}function jt(kt){const qt=(0,_t.normalizeFontName)(kt);return!!(Rt()[qt]||bt()[qt]||Pt()[qt]||Xt()[qt])}},(Ct,Et,Ft)=>{Object.defineProperty(Et,"__esModule",{value:!0}),Et.ToUnicodeMap=Et.IdentityToUnicodeMap=void 0;var wt=Ft(2);class _t{constructor(bt=[]){this._map=bt}get length(){return this._map.length}forEach(bt){for(const Pt in this._map)bt(Pt,this._map[Pt].charCodeAt(0))}has(bt){return this._map[bt]!==void 0}get(bt){return this._map[bt]}charCodeOf(bt){const Pt=this._map;if(Pt.length<=65536)return Pt.indexOf(bt);for(const Xt in Pt)if(Pt[Xt]===bt)return Xt|0;return-1}amend(bt){for(const Pt in bt)this._map[Pt]=bt[Pt]}}Et.ToUnicodeMap=_t;class Rt{constructor(bt,Pt){this.firstChar=bt,this.lastChar=Pt}get length(){return this.lastChar+1-this.firstChar}forEach(bt){for(let Pt=this.firstChar,Xt=this.lastChar;Pt<=Xt;Pt++)bt(Pt,Pt)}has(bt){return this.firstChar<=bt&&bt<=this.lastChar}get(bt){if(this.firstChar<=bt&&bt<=this.lastChar)return String.fromCharCode(bt)}charCodeOf(bt){return Number.isInteger(bt)&&bt>=this.firstChar&&bt<=this.lastChar?bt:-1}amend(bt){(0,wt.unreachable)("Should not call amend()")}}Et.IdentityToUnicodeMap=Rt},(Ct,Et,Ft)=>{Object.defineProperty(Et,"__esModule",{value:!0}),Et.CFFFont=void 0;var wt=Ft(35),_t=Ft(38),Rt=Ft(2);class _e{constructor(Pt,Xt){this.properties=Xt;const Kt=new wt.CFFParser(Pt,Xt,_t.SEAC_ANALYSIS_ENABLED);this.cff=Kt.parse(),this.cff.duplicateFirstGlyph();const Nt=new wt.CFFCompiler(this.cff);this.seacs=this.cff.seacs;try{this.data=Nt.compile()}catch{(0,Rt.warn)("Failed to compile font "+Xt.loadedName),this.data=Pt}this._createBuiltInEncoding()}get numGlyphs(){return this.cff.charStrings.count}getCharset(){return this.cff.charset.charset}getGlyphMapping(){const Pt=this.cff,Xt=this.properties,{cidToGidMap:Kt,cMap:Nt}=Xt,$t=Pt.charset.charset;let Lt,jt;if(Xt.composite){let qt;if((Kt==null?void 0:Kt.length)>0){qt=Object.create(null);for(let Gt=0,en=Kt.length;Gt<en;Gt++){const dn=Kt[Gt];dn!==void 0&&(qt[dn]=Gt)}}Lt=Object.create(null);let Bt;if(Pt.isCIDFont)for(jt=0;jt<$t.length;jt++){const Gt=$t[jt];Bt=Nt.charCodeOf(Gt),(qt==null?void 0:qt[Bt])!==void 0&&(Bt=qt[Bt]),Lt[Bt]=jt}else for(jt=0;jt<Pt.charStrings.count;jt++)Bt=Nt.charCodeOf(jt),Lt[Bt]=jt;return Lt}let kt=Pt.encoding?Pt.encoding.encoding:null;return Xt.isInternalFont&&(kt=Xt.defaultEncoding),Lt=(0,_t.type1FontGlyphMapping)(Xt,kt,$t),Lt}hasGlyphId(Pt){return this.cff.hasGlyphId(Pt)}_createBuiltInEncoding(){const{charset:Pt,encoding:Xt}=this.cff;if(!Pt||!Xt)return;const Kt=Pt.charset,Nt=Xt.encoding,$t=[];for(const Lt in Nt){const jt=Nt[Lt];if(jt>=0){const kt=Kt[jt];kt&&($t[Lt]=kt)}}$t.length>0&&(this.properties.builtInEncoding=$t)}}Et.CFFFont=_e},(Ct,Et,Ft)=>{Object.defineProperty(Et,"__esModule",{value:!0}),Et.FontRendererFactory=void 0;var wt=Ft(2),_t=Ft(35),Rt=Ft(39),_e=Ft(37),bt=Ft(8);function Pt(Wt,Yt){return(Wt[Yt]<<24|Wt[Yt+1]<<16|Wt[Yt+2]<<8|Wt[Yt+3])>>>0}function Xt(Wt,Yt){return Wt[Yt]<<8|Wt[Yt+1]}function Kt(Wt,Yt){return(Wt[Yt]<<24|Wt[Yt+1]<<16)>>16}function Nt(Wt,Yt){return Wt[Yt]<<24>>24}function $t(Wt,Yt){return Kt(Wt,Yt)/16384}function Lt(Wt){const Yt=Wt.length;let un=32768;return Yt<1240?un=107:Yt<33900&&(un=1131),un}function jt(Wt,Yt,un){const Ut=Xt(Wt,Yt+2)===1?Pt(Wt,Yt+8):Pt(Wt,Yt+16),Ot=Xt(Wt,Yt+Ut);let Ht,an,zt;if(Ot===4){Xt(Wt,Yt+Ut+2);const Vt=Xt(Wt,Yt+Ut+6)>>1;for(an=Yt+Ut+14,Ht=[],zt=0;zt<Vt;zt++,an+=2)Ht[zt]={end:Xt(Wt,an)};for(an+=2,zt=0;zt<Vt;zt++,an+=2)Ht[zt].start=Xt(Wt,an);for(zt=0;zt<Vt;zt++,an+=2)Ht[zt].idDelta=Xt(Wt,an);for(zt=0;zt<Vt;zt++,an+=2){let nn=Xt(Wt,an);if(nn!==0){Ht[zt].ids=[];for(let hn=0,on=Ht[zt].end-Ht[zt].start+1;hn<on;hn++)Ht[zt].ids[hn]=Xt(Wt,an+nn),nn+=2}}return Ht}else if(Ot===12){const Vt=Pt(Wt,Yt+Ut+12);for(an=Yt+Ut+16,Ht=[],zt=0;zt<Vt;zt++)Yt=Pt(Wt,an),Ht.push({start:Yt,end:Pt(Wt,an+4),idDelta:Pt(Wt,an+8)-Yt}),an+=12;return Ht}throw new wt.FormatError(`unsupported cmap: ${Ot}`)}function kt(Wt,Yt,un,Ut){var zt,Vt,nn;const Ot={},an=new _t.CFFParser(new bt.Stream(Wt,Yt,un-Yt),Ot,Ut).parse();return{glyphs:an.charStrings.objects,subrs:(Vt=(zt=an.topDict.privateDict)==null?void 0:zt.subrsIndex)==null?void 0:Vt.objects,gsubrs:(nn=an.globalSubrIndex)==null?void 0:nn.objects,isCFFCIDFont:an.isCIDFont,fdSelect:an.fdSelect,fdArray:an.fdArray}}function qt(Wt,Yt,un){let Ut,Ot;un?(Ut=4,Ot=Pt):(Ut=2,Ot=(zt,Vt)=>2*Xt(zt,Vt));const Ht=[];let an=Ot(Yt,0);for(let zt=Ut;zt<Yt.length;zt+=Ut){const Vt=Ot(Yt,zt);Ht.push(Wt.subarray(an,Vt)),an=Vt}return Ht}function Bt(Wt,Yt){const un=Yt.codePointAt(0);let Ut=0,Ot=0,Ht=Wt.length-1;for(;Ot<Ht;){const an=Ot+Ht+1>>1;un<Wt[an].start?Ht=an-1:Ot=an}return Wt[Ot].start<=un&&un<=Wt[Ot].end&&(Ut=Wt[Ot].idDelta+(Wt[Ot].ids?Wt[Ot].ids[un-Wt[Ot].start]:un)&65535),{charCode:un,glyphId:Ut}}function Gt(Wt,Yt,un){function Ut(on,cn){Yt.push({cmd:"moveTo",args:[on,cn]})}function Ot(on,cn){Yt.push({cmd:"lineTo",args:[on,cn]})}function Ht(on,cn,sn,rn){Yt.push({cmd:"quadraticCurveTo",args:[on,cn,sn,rn]})}let an=0;const zt=Kt(Wt,an);let Vt,nn=0,hn=0;if(an+=10,zt<0)do{Vt=Xt(Wt,an);const on=Xt(Wt,an+2);an+=4;let cn,sn;Vt&1?(Vt&2?(cn=Kt(Wt,an),sn=Kt(Wt,an+2)):(cn=Xt(Wt,an),sn=Xt(Wt,an+2)),an+=4):Vt&2?(cn=Nt(Wt,an++),sn=Nt(Wt,an++)):(cn=Wt[an++],sn=Wt[an++]),Vt&2?(nn=cn,hn=sn):(nn=0,hn=0);let rn=1,xn=1,vn=0,kn=0;Vt&8?(rn=xn=$t(Wt,an),an+=2):Vt&64?(rn=$t(Wt,an),xn=$t(Wt,an+2),an+=4):Vt&128&&(rn=$t(Wt,an),vn=$t(Wt,an+2),kn=$t(Wt,an+4),xn=$t(Wt,an+6),an+=8);const Pn=un.glyphs[on];Pn&&(Yt.push({cmd:"save"},{cmd:"transform",args:[rn,vn,kn,xn,nn,hn]}),Gt(Pn,Yt,un),Yt.push({cmd:"restore"}))}while(Vt&32);else{const on=[];let cn,sn;for(cn=0;cn<zt;cn++)on.push(Xt(Wt,an)),an+=2;const rn=Xt(Wt,an);an+=2+rn;const xn=on.at(-1)+1,vn=[];for(;vn.length<xn;){Vt=Wt[an++];let Pn=1;for(Vt&8&&(Pn+=Wt[an++]);Pn-- >0;)vn.push({flags:Vt})}for(cn=0;cn<xn;cn++){switch(vn[cn].flags&18){case 0:nn+=Kt(Wt,an),an+=2;break;case 2:nn-=Wt[an++];break;case 18:nn+=Wt[an++];break}vn[cn].x=nn}for(cn=0;cn<xn;cn++){switch(vn[cn].flags&36){case 0:hn+=Kt(Wt,an),an+=2;break;case 4:hn-=Wt[an++];break;case 36:hn+=Wt[an++];break}vn[cn].y=hn}let kn=0;for(an=0;an<zt;an++){const Pn=on[an],On=vn.slice(kn,Pn+1);if(On[0].flags&1)On.push(On[0]);else if(On.at(-1).flags&1)On.unshift(On.at(-1));else{const _n={flags:1,x:(On[0].x+On.at(-1).x)/2,y:(On[0].y+On.at(-1).y)/2};On.unshift(_n),On.push(_n)}for(Ut(On[0].x,On[0].y),cn=1,sn=On.length;cn<sn;cn++)On[cn].flags&1?Ot(On[cn].x,On[cn].y):On[cn+1].flags&1?(Ht(On[cn].x,On[cn].y,On[cn+1].x,On[cn+1].y),cn++):Ht(On[cn].x,On[cn].y,(On[cn].x+On[cn+1].x)/2,(On[cn].y+On[cn+1].y)/2);kn=Pn+1}}}function en(Wt,Yt,un,Ut){function Ot(cn,sn){Yt.push({cmd:"moveTo",args:[cn,sn]})}function Ht(cn,sn){Yt.push({cmd:"lineTo",args:[cn,sn]})}function an(cn,sn,rn,xn,vn,kn){Yt.push({cmd:"bezierCurveTo",args:[cn,sn,rn,xn,vn,kn]})}const zt=[];let Vt=0,nn=0,hn=0;function on(cn){var rn;let sn=0;for(;sn<cn.length;){let xn=!1,vn=cn[sn++],kn,Pn,On,_n,Sn,mn,fn,Jt,ln;switch(vn){case 1:hn+=zt.length>>1,xn=!0;break;case 3:hn+=zt.length>>1,xn=!0;break;case 4:nn+=zt.pop(),Ot(Vt,nn),xn=!0;break;case 5:for(;zt.length>0;)Vt+=zt.shift(),nn+=zt.shift(),Ht(Vt,nn);break;case 6:for(;zt.length>0&&(Vt+=zt.shift(),Ht(Vt,nn),zt.length!==0);)nn+=zt.shift(),Ht(Vt,nn);break;case 7:for(;zt.length>0&&(nn+=zt.shift(),Ht(Vt,nn),zt.length!==0);)Vt+=zt.shift(),Ht(Vt,nn);break;case 8:for(;zt.length>0;)kn=Vt+zt.shift(),On=nn+zt.shift(),Pn=kn+zt.shift(),_n=On+zt.shift(),Vt=Pn+zt.shift(),nn=_n+zt.shift(),an(kn,On,Pn,_n,Vt,nn);break;case 10:if(Jt=zt.pop(),ln=null,un.isCFFCIDFont){const pn=un.fdSelect.getFDIndex(Ut);if(pn>=0&&pn<un.fdArray.length){const wn=un.fdArray[pn];let Cn;(rn=wn.privateDict)!=null&&rn.subrsIndex&&(Cn=wn.privateDict.subrsIndex.objects),Cn&&(Jt+=Lt(Cn),ln=Cn[Jt])}else(0,wt.warn)("Invalid fd index for glyph index.")}else ln=un.subrs[Jt+un.subrsBias];ln&&on(ln);break;case 11:return;case 12:switch(vn=cn[sn++],vn){case 34:kn=Vt+zt.shift(),Pn=kn+zt.shift(),Sn=nn+zt.shift(),Vt=Pn+zt.shift(),an(kn,nn,Pn,Sn,Vt,Sn),kn=Vt+zt.shift(),Pn=kn+zt.shift(),Vt=Pn+zt.shift(),an(kn,Sn,Pn,nn,Vt,nn);break;case 35:kn=Vt+zt.shift(),On=nn+zt.shift(),Pn=kn+zt.shift(),_n=On+zt.shift(),Vt=Pn+zt.shift(),nn=_n+zt.shift(),an(kn,On,Pn,_n,Vt,nn),kn=Vt+zt.shift(),On=nn+zt.shift(),Pn=kn+zt.shift(),_n=On+zt.shift(),Vt=Pn+zt.shift(),nn=_n+zt.shift(),an(kn,On,Pn,_n,Vt,nn),zt.pop();break;case 36:kn=Vt+zt.shift(),Sn=nn+zt.shift(),Pn=kn+zt.shift(),mn=Sn+zt.shift(),Vt=Pn+zt.shift(),an(kn,Sn,Pn,mn,Vt,mn),kn=Vt+zt.shift(),Pn=kn+zt.shift(),fn=mn+zt.shift(),Vt=Pn+zt.shift(),an(kn,mn,Pn,fn,Vt,nn);break;case 37:const pn=Vt,wn=nn;kn=Vt+zt.shift(),On=nn+zt.shift(),Pn=kn+zt.shift(),_n=On+zt.shift(),Vt=Pn+zt.shift(),nn=_n+zt.shift(),an(kn,On,Pn,_n,Vt,nn),kn=Vt+zt.shift(),On=nn+zt.shift(),Pn=kn+zt.shift(),_n=On+zt.shift(),Vt=Pn,nn=_n,Math.abs(Vt-pn)>Math.abs(nn-wn)?Vt+=zt.shift():nn+=zt.shift(),an(kn,On,Pn,_n,Vt,nn);break;default:throw new wt.FormatError(`unknown operator: 12 ${vn}`)}break;case 14:if(zt.length>=4){const pn=zt.pop(),wn=zt.pop();nn=zt.pop(),Vt=zt.pop(),Yt.push({cmd:"save"},{cmd:"translate",args:[Vt,nn]});let Cn=Bt(un.cmap,String.fromCharCode(un.glyphNameMap[_e.StandardEncoding[pn]]));en(un.glyphs[Cn.glyphId],Yt,un,Cn.glyphId),Yt.push({cmd:"restore"}),Cn=Bt(un.cmap,String.fromCharCode(un.glyphNameMap[_e.StandardEncoding[wn]])),en(un.glyphs[Cn.glyphId],Yt,un,Cn.glyphId)}return;case 18:hn+=zt.length>>1,xn=!0;break;case 19:hn+=zt.length>>1,sn+=hn+7>>3,xn=!0;break;case 20:hn+=zt.length>>1,sn+=hn+7>>3,xn=!0;break;case 21:nn+=zt.pop(),Vt+=zt.pop(),Ot(Vt,nn),xn=!0;break;case 22:Vt+=zt.pop(),Ot(Vt,nn),xn=!0;break;case 23:hn+=zt.length>>1,xn=!0;break;case 24:for(;zt.length>2;)kn=Vt+zt.shift(),On=nn+zt.shift(),Pn=kn+zt.shift(),_n=On+zt.shift(),Vt=Pn+zt.shift(),nn=_n+zt.shift(),an(kn,On,Pn,_n,Vt,nn);Vt+=zt.shift(),nn+=zt.shift(),Ht(Vt,nn);break;case 25:for(;zt.length>6;)Vt+=zt.shift(),nn+=zt.shift(),Ht(Vt,nn);kn=Vt+zt.shift(),On=nn+zt.shift(),Pn=kn+zt.shift(),_n=On+zt.shift(),Vt=Pn+zt.shift(),nn=_n+zt.shift(),an(kn,On,Pn,_n,Vt,nn);break;case 26:for(zt.length%2&&(Vt+=zt.shift());zt.length>0;)kn=Vt,On=nn+zt.shift(),Pn=kn+zt.shift(),_n=On+zt.shift(),Vt=Pn,nn=_n+zt.shift(),an(kn,On,Pn,_n,Vt,nn);break;case 27:for(zt.length%2&&(nn+=zt.shift());zt.length>0;)kn=Vt+zt.shift(),On=nn,Pn=kn+zt.shift(),_n=On+zt.shift(),Vt=Pn+zt.shift(),nn=_n,an(kn,On,Pn,_n,Vt,nn);break;case 28:zt.push((cn[sn]<<24|cn[sn+1]<<16)>>16),sn+=2;break;case 29:Jt=zt.pop()+un.gsubrsBias,ln=un.gsubrs[Jt],ln&&on(ln);break;case 30:for(;zt.length>0&&(kn=Vt,On=nn+zt.shift(),Pn=kn+zt.shift(),_n=On+zt.shift(),Vt=Pn+zt.shift(),nn=_n+(zt.length===1?zt.shift():0),an(kn,On,Pn,_n,Vt,nn),zt.length!==0);)kn=Vt+zt.shift(),On=nn,Pn=kn+zt.shift(),_n=On+zt.shift(),nn=_n+zt.shift(),Vt=Pn+(zt.length===1?zt.shift():0),an(kn,On,Pn,_n,Vt,nn);break;case 31:for(;zt.length>0&&(kn=Vt+zt.shift(),On=nn,Pn=kn+zt.shift(),_n=On+zt.shift(),nn=_n+zt.shift(),Vt=Pn+(zt.length===1?zt.shift():0),an(kn,On,Pn,_n,Vt,nn),zt.length!==0);)kn=Vt,On=nn+zt.shift(),Pn=kn+zt.shift(),_n=On+zt.shift(),Vt=Pn+zt.shift(),nn=_n+(zt.length===1?zt.shift():0),an(kn,On,Pn,_n,Vt,nn);break;default:if(vn<32)throw new wt.FormatError(`unknown operator: ${vn}`);vn<247?zt.push(vn-139):vn<251?zt.push((vn-247)*256+cn[sn++]+108):vn<255?zt.push(-(vn-251)*256-cn[sn++]-108):(zt.push((cn[sn]<<24|cn[sn+1]<<16|cn[sn+2]<<8|cn[sn+3])/65536),sn+=4);break}xn&&(zt.length=0)}}on(Wt)}const dn=[];class Qt{constructor(Yt){this.constructor===Qt&&(0,wt.unreachable)("Cannot initialize CompiledFont."),this.fontMatrix=Yt,this.compiledGlyphs=Object.create(null),this.compiledCharCodeToGlyphId=Object.create(null)}getPathJs(Yt){const{charCode:un,glyphId:Ut}=Bt(this.cmap,Yt);let Ot=this.compiledGlyphs[Ut];if(!Ot)try{Ot=this.compileGlyph(this.glyphs[Ut],Ut),this.compiledGlyphs[Ut]=Ot}catch(Ht){throw this.compiledGlyphs[Ut]=dn,this.compiledCharCodeToGlyphId[un]===void 0&&(this.compiledCharCodeToGlyphId[un]=Ut),Ht}return this.compiledCharCodeToGlyphId[un]===void 0&&(this.compiledCharCodeToGlyphId[un]=Ut),Ot}compileGlyph(Yt,un){if(!Yt||Yt.length===0||Yt[0]===14)return dn;let Ut=this.fontMatrix;if(this.isCFFCIDFont){const Ht=this.fdSelect.getFDIndex(un);Ht>=0&&Ht<this.fdArray.length?Ut=this.fdArray[Ht].getByName("FontMatrix")||wt.FONT_IDENTITY_MATRIX:(0,wt.warn)("Invalid fd index for glyph index.")}const Ot=[{cmd:"save"},{cmd:"transform",args:Ut.slice()},{cmd:"scale",args:["size","-size"]}];return this.compileGlyphImpl(Yt,Ot,un),Ot.push({cmd:"restore"}),Ot}compileGlyphImpl(){(0,wt.unreachable)("Children classes should implement this.")}hasBuiltPath(Yt){const{charCode:un,glyphId:Ut}=Bt(this.cmap,Yt);return this.compiledGlyphs[Ut]!==void 0&&this.compiledCharCodeToGlyphId[un]!==void 0}}class gn extends Qt{constructor(Yt,un,Ut){super(Ut||[488e-6,0,0,488e-6,0,0]),this.glyphs=Yt,this.cmap=un}compileGlyphImpl(Yt,un){Gt(Yt,un,this)}}class tn extends Qt{constructor(Yt,un,Ut,Ot){super(Ut||[.001,0,0,.001,0,0]),this.glyphs=Yt.glyphs,this.gsubrs=Yt.gsubrs||[],this.subrs=Yt.subrs||[],this.cmap=un,this.glyphNameMap=Ot||(0,Rt.getGlyphsUnicode)(),this.gsubrsBias=Lt(this.gsubrs),this.subrsBias=Lt(this.subrs),this.isCFFCIDFont=Yt.isCFFCIDFont,this.fdSelect=Yt.fdSelect,this.fdArray=Yt.fdArray}compileGlyphImpl(Yt,un,Ut){en(Yt,un,this,Ut)}}class bn{static create(Yt,un){const Ut=new Uint8Array(Yt.data);let Ot,Ht,an,zt,Vt,nn;const hn=Xt(Ut,4);for(let on=0,cn=12;on<hn;on++,cn+=16){const sn=(0,wt.bytesToString)(Ut.subarray(cn,cn+4)),rn=Pt(Ut,cn+8),xn=Pt(Ut,cn+12);switch(sn){case"cmap":Ot=jt(Ut,rn);break;case"glyf":Ht=Ut.subarray(rn,rn+xn);break;case"loca":an=Ut.subarray(rn,rn+xn);break;case"head":nn=Xt(Ut,rn+18),Vt=Xt(Ut,rn+50);break;case"CFF ":zt=kt(Ut,rn,rn+xn,un);break}}if(Ht){const on=nn?[1/nn,0,0,1/nn,0,0]:Yt.fontMatrix;return new gn(qt(Ht,an,Vt),Ot,on)}return new tn(zt,Ot,Yt.fontMatrix,Yt.glyphNameMap)}}Et.FontRendererFactory=bn},(Ct,Et,Ft)=>{Object.defineProperty(Et,"__esModule",{value:!0}),Et.getMetrics=Et.getFontBasicMetrics=void 0;var wt=Ft(3);const _t=(0,wt.getLookupTableFactory)(function(_e){_e.Courier=600,_e["Courier-Bold"]=600,_e["Courier-BoldOblique"]=600,_e["Courier-Oblique"]=600,_e.Helvetica=(0,wt.getLookupTableFactory)(function(bt){bt.space=278,bt.exclam=278,bt.quotedbl=355,bt.numbersign=556,bt.dollar=556,bt.percent=889,bt.ampersand=667,bt.quoteright=222,bt.parenleft=333,bt.parenright=333,bt.asterisk=389,bt.plus=584,bt.comma=278,bt.hyphen=333,bt.period=278,bt.slash=278,bt.zero=556,bt.one=556,bt.two=556,bt.three=556,bt.four=556,bt.five=556,bt.six=556,bt.seven=556,bt.eight=556,bt.nine=556,bt.colon=278,bt.semicolon=278,bt.less=584,bt.equal=584,bt.greater=584,bt.question=556,bt.at=1015,bt.A=667,bt.B=667,bt.C=722,bt.D=722,bt.E=667,bt.F=611,bt.G=778,bt.H=722,bt.I=278,bt.J=500,bt.K=667,bt.L=556,bt.M=833,bt.N=722,bt.O=778,bt.P=667,bt.Q=778,bt.R=722,bt.S=667,bt.T=611,bt.U=722,bt.V=667,bt.W=944,bt.X=667,bt.Y=667,bt.Z=611,bt.bracketleft=278,bt.backslash=278,bt.bracketright=278,bt.asciicircum=469,bt.underscore=556,bt.quoteleft=222,bt.a=556,bt.b=556,bt.c=500,bt.d=556,bt.e=556,bt.f=278,bt.g=556,bt.h=556,bt.i=222,bt.j=222,bt.k=500,bt.l=222,bt.m=833,bt.n=556,bt.o=556,bt.p=556,bt.q=556,bt.r=333,bt.s=500,bt.t=278,bt.u=556,bt.v=500,bt.w=722,bt.x=500,bt.y=500,bt.z=500,bt.braceleft=334,bt.bar=260,bt.braceright=334,bt.asciitilde=584,bt.exclamdown=333,bt.cent=556,bt.sterling=556,bt.fraction=167,bt.yen=556,bt.florin=556,bt.section=556,bt.currency=556,bt.quotesingle=191,bt.quotedblleft=333,bt.guillemotleft=556,bt.guilsinglleft=333,bt.guilsinglright=333,bt.fi=500,bt.fl=500,bt.endash=556,bt.dagger=556,bt.daggerdbl=556,bt.periodcentered=278,bt.paragraph=537,bt.bullet=350,bt.quotesinglbase=222,bt.quotedblbase=333,bt.quotedblright=333,bt.guillemotright=556,bt.ellipsis=1e3,bt.perthousand=1e3,bt.questiondown=611,bt.grave=333,bt.acute=333,bt.circumflex=333,bt.tilde=333,bt.macron=333,bt.breve=333,bt.dotaccent=333,bt.dieresis=333,bt.ring=333,bt.cedilla=333,bt.hungarumlaut=333,bt.ogonek=333,bt.caron=333,bt.emdash=1e3,bt.AE=1e3,bt.ordfeminine=370,bt.Lslash=556,bt.Oslash=778,bt.OE=1e3,bt.ordmasculine=365,bt.ae=889,bt.dotlessi=278,bt.lslash=222,bt.oslash=611,bt.oe=944,bt.germandbls=611,bt.Idieresis=278,bt.eacute=556,bt.abreve=556,bt.uhungarumlaut=556,bt.ecaron=556,bt.Ydieresis=667,bt.divide=584,bt.Yacute=667,bt.Acircumflex=667,bt.aacute=556,bt.Ucircumflex=722,bt.yacute=500,bt.scommaaccent=500,bt.ecircumflex=556,bt.Uring=722,bt.Udieresis=722,bt.aogonek=556,bt.Uacute=722,bt.uogonek=556,bt.Edieresis=667,bt.Dcroat=722,bt.commaaccent=250,bt.copyright=737,bt.Emacron=667,bt.ccaron=500,bt.aring=556,bt.Ncommaaccent=722,bt.lacute=222,bt.agrave=556,bt.Tcommaaccent=611,bt.Cacute=722,bt.atilde=556,bt.Edotaccent=667,bt.scaron=500,bt.scedilla=500,bt.iacute=278,bt.lozenge=471,bt.Rcaron=722,bt.Gcommaaccent=778,bt.ucircumflex=556,bt.acircumflex=556,bt.Amacron=667,bt.rcaron=333,bt.ccedilla=500,bt.Zdotaccent=611,bt.Thorn=667,bt.Omacron=778,bt.Racute=722,bt.Sacute=667,bt.dcaron=643,bt.Umacron=722,bt.uring=556,bt.threesuperior=333,bt.Ograve=778,bt.Agrave=667,bt.Abreve=667,bt.multiply=584,bt.uacute=556,bt.Tcaron=611,bt.partialdiff=476,bt.ydieresis=500,bt.Nacute=722,bt.icircumflex=278,bt.Ecircumflex=667,bt.adieresis=556,bt.edieresis=556,bt.cacute=500,bt.nacute=556,bt.umacron=556,bt.Ncaron=722,bt.Iacute=278,bt.plusminus=584,bt.brokenbar=260,bt.registered=737,bt.Gbreve=778,bt.Idotaccent=278,bt.summation=600,bt.Egrave=667,bt.racute=333,bt.omacron=556,bt.Zacute=611,bt.Zcaron=611,bt.greaterequal=549,bt.Eth=722,bt.Ccedilla=722,bt.lcommaaccent=222,bt.tcaron=317,bt.eogonek=556,bt.Uogonek=722,bt.Aacute=667,bt.Adieresis=667,bt.egrave=556,bt.zacute=500,bt.iogonek=222,bt.Oacute=778,bt.oacute=556,bt.amacron=556,bt.sacute=500,bt.idieresis=278,bt.Ocircumflex=778,bt.Ugrave=722,bt.Delta=612,bt.thorn=556,bt.twosuperior=333,bt.Odieresis=778,bt.mu=556,bt.igrave=278,bt.ohungarumlaut=556,bt.Eogonek=667,bt.dcroat=556,bt.threequarters=834,bt.Scedilla=667,bt.lcaron=299,bt.Kcommaaccent=667,bt.Lacute=556,bt.trademark=1e3,bt.edotaccent=556,bt.Igrave=278,bt.Imacron=278,bt.Lcaron=556,bt.onehalf=834,bt.lessequal=549,bt.ocircumflex=556,bt.ntilde=556,bt.Uhungarumlaut=722,bt.Eacute=667,bt.emacron=556,bt.gbreve=556,bt.onequarter=834,bt.Scaron=667,bt.Scommaaccent=667,bt.Ohungarumlaut=778,bt.degree=400,bt.ograve=556,bt.Ccaron=722,bt.ugrave=556,bt.radical=453,bt.Dcaron=722,bt.rcommaaccent=333,bt.Ntilde=722,bt.otilde=556,bt.Rcommaaccent=722,bt.Lcommaaccent=556,bt.Atilde=667,bt.Aogonek=667,bt.Aring=667,bt.Otilde=778,bt.zdotaccent=500,bt.Ecaron=667,bt.Iogonek=278,bt.kcommaaccent=500,bt.minus=584,bt.Icircumflex=278,bt.ncaron=556,bt.tcommaaccent=278,bt.logicalnot=584,bt.odieresis=556,bt.udieresis=556,bt.notequal=549,bt.gcommaaccent=556,bt.eth=556,bt.zcaron=500,bt.ncommaaccent=556,bt.onesuperior=333,bt.imacron=278,bt.Euro=556}),_e["Helvetica-Bold"]=(0,wt.getLookupTableFactory)(function(bt){bt.space=278,bt.exclam=333,bt.quotedbl=474,bt.numbersign=556,bt.dollar=556,bt.percent=889,bt.ampersand=722,bt.quoteright=278,bt.parenleft=333,bt.parenright=333,bt.asterisk=389,bt.plus=584,bt.comma=278,bt.hyphen=333,bt.period=278,bt.slash=278,bt.zero=556,bt.one=556,bt.two=556,bt.three=556,bt.four=556,bt.five=556,bt.six=556,bt.seven=556,bt.eight=556,bt.nine=556,bt.colon=333,bt.semicolon=333,bt.less=584,bt.equal=584,bt.greater=584,bt.question=611,bt.at=975,bt.A=722,bt.B=722,bt.C=722,bt.D=722,bt.E=667,bt.F=611,bt.G=778,bt.H=722,bt.I=278,bt.J=556,bt.K=722,bt.L=611,bt.M=833,bt.N=722,bt.O=778,bt.P=667,bt.Q=778,bt.R=722,bt.S=667,bt.T=611,bt.U=722,bt.V=667,bt.W=944,bt.X=667,bt.Y=667,bt.Z=611,bt.bracketleft=333,bt.backslash=278,bt.bracketright=333,bt.asciicircum=584,bt.underscore=556,bt.quoteleft=278,bt.a=556,bt.b=611,bt.c=556,bt.d=611,bt.e=556,bt.f=333,bt.g=611,bt.h=611,bt.i=278,bt.j=278,bt.k=556,bt.l=278,bt.m=889,bt.n=611,bt.o=611,bt.p=611,bt.q=611,bt.r=389,bt.s=556,bt.t=333,bt.u=611,bt.v=556,bt.w=778,bt.x=556,bt.y=556,bt.z=500,bt.braceleft=389,bt.bar=280,bt.braceright=389,bt.asciitilde=584,bt.exclamdown=333,bt.cent=556,bt.sterling=556,bt.fraction=167,bt.yen=556,bt.florin=556,bt.section=556,bt.currency=556,bt.quotesingle=238,bt.quotedblleft=500,bt.guillemotleft=556,bt.guilsinglleft=333,bt.guilsinglright=333,bt.fi=611,bt.fl=611,bt.endash=556,bt.dagger=556,bt.daggerdbl=556,bt.periodcentered=278,bt.paragraph=556,bt.bullet=350,bt.quotesinglbase=278,bt.quotedblbase=500,bt.quotedblright=500,bt.guillemotright=556,bt.ellipsis=1e3,bt.perthousand=1e3,bt.questiondown=611,bt.grave=333,bt.acute=333,bt.circumflex=333,bt.tilde=333,bt.macron=333,bt.breve=333,bt.dotaccent=333,bt.dieresis=333,bt.ring=333,bt.cedilla=333,bt.hungarumlaut=333,bt.ogonek=333,bt.caron=333,bt.emdash=1e3,bt.AE=1e3,bt.ordfeminine=370,bt.Lslash=611,bt.Oslash=778,bt.OE=1e3,bt.ordmasculine=365,bt.ae=889,bt.dotlessi=278,bt.lslash=278,bt.oslash=611,bt.oe=944,bt.germandbls=611,bt.Idieresis=278,bt.eacute=556,bt.abreve=556,bt.uhungarumlaut=611,bt.ecaron=556,bt.Ydieresis=667,bt.divide=584,bt.Yacute=667,bt.Acircumflex=722,bt.aacute=556,bt.Ucircumflex=722,bt.yacute=556,bt.scommaaccent=556,bt.ecircumflex=556,bt.Uring=722,bt.Udieresis=722,bt.aogonek=556,bt.Uacute=722,bt.uogonek=611,bt.Edieresis=667,bt.Dcroat=722,bt.commaaccent=250,bt.copyright=737,bt.Emacron=667,bt.ccaron=556,bt.aring=556,bt.Ncommaaccent=722,bt.lacute=278,bt.agrave=556,bt.Tcommaaccent=611,bt.Cacute=722,bt.atilde=556,bt.Edotaccent=667,bt.scaron=556,bt.scedilla=556,bt.iacute=278,bt.lozenge=494,bt.Rcaron=722,bt.Gcommaaccent=778,bt.ucircumflex=611,bt.acircumflex=556,bt.Amacron=722,bt.rcaron=389,bt.ccedilla=556,bt.Zdotaccent=611,bt.Thorn=667,bt.Omacron=778,bt.Racute=722,bt.Sacute=667,bt.dcaron=743,bt.Umacron=722,bt.uring=611,bt.threesuperior=333,bt.Ograve=778,bt.Agrave=722,bt.Abreve=722,bt.multiply=584,bt.uacute=611,bt.Tcaron=611,bt.partialdiff=494,bt.ydieresis=556,bt.Nacute=722,bt.icircumflex=278,bt.Ecircumflex=667,bt.adieresis=556,bt.edieresis=556,bt.cacute=556,bt.nacute=611,bt.umacron=611,bt.Ncaron=722,bt.Iacute=278,bt.plusminus=584,bt.brokenbar=280,bt.registered=737,bt.Gbreve=778,bt.Idotaccent=278,bt.summation=600,bt.Egrave=667,bt.racute=389,bt.omacron=611,bt.Zacute=611,bt.Zcaron=611,bt.greaterequal=549,bt.Eth=722,bt.Ccedilla=722,bt.lcommaaccent=278,bt.tcaron=389,bt.eogonek=556,bt.Uogonek=722,bt.Aacute=722,bt.Adieresis=722,bt.egrave=556,bt.zacute=500,bt.iogonek=278,bt.Oacute=778,bt.oacute=611,bt.amacron=556,bt.sacute=556,bt.idieresis=278,bt.Ocircumflex=778,bt.Ugrave=722,bt.Delta=612,bt.thorn=611,bt.twosuperior=333,bt.Odieresis=778,bt.mu=611,bt.igrave=278,bt.ohungarumlaut=611,bt.Eogonek=667,bt.dcroat=611,bt.threequarters=834,bt.Scedilla=667,bt.lcaron=400,bt.Kcommaaccent=722,bt.Lacute=611,bt.trademark=1e3,bt.edotaccent=556,bt.Igrave=278,bt.Imacron=278,bt.Lcaron=611,bt.onehalf=834,bt.lessequal=549,bt.ocircumflex=611,bt.ntilde=611,bt.Uhungarumlaut=722,bt.Eacute=667,bt.emacron=556,bt.gbreve=611,bt.onequarter=834,bt.Scaron=667,bt.Scommaaccent=667,bt.Ohungarumlaut=778,bt.degree=400,bt.ograve=611,bt.Ccaron=722,bt.ugrave=611,bt.radical=549,bt.Dcaron=722,bt.rcommaaccent=389,bt.Ntilde=722,bt.otilde=611,bt.Rcommaaccent=722,bt.Lcommaaccent=611,bt.Atilde=722,bt.Aogonek=722,bt.Aring=722,bt.Otilde=778,bt.zdotaccent=500,bt.Ecaron=667,bt.Iogonek=278,bt.kcommaaccent=556,bt.minus=584,bt.Icircumflex=278,bt.ncaron=611,bt.tcommaaccent=333,bt.logicalnot=584,bt.odieresis=611,bt.udieresis=611,bt.notequal=549,bt.gcommaaccent=611,bt.eth=611,bt.zcaron=500,bt.ncommaaccent=611,bt.onesuperior=333,bt.imacron=278,bt.Euro=556}),_e["Helvetica-BoldOblique"]=(0,wt.getLookupTableFactory)(function(bt){bt.space=278,bt.exclam=333,bt.quotedbl=474,bt.numbersign=556,bt.dollar=556,bt.percent=889,bt.ampersand=722,bt.quoteright=278,bt.parenleft=333,bt.parenright=333,bt.asterisk=389,bt.plus=584,bt.comma=278,bt.hyphen=333,bt.period=278,bt.slash=278,bt.zero=556,bt.one=556,bt.two=556,bt.three=556,bt.four=556,bt.five=556,bt.six=556,bt.seven=556,bt.eight=556,bt.nine=556,bt.colon=333,bt.semicolon=333,bt.less=584,bt.equal=584,bt.greater=584,bt.question=611,bt.at=975,bt.A=722,bt.B=722,bt.C=722,bt.D=722,bt.E=667,bt.F=611,bt.G=778,bt.H=722,bt.I=278,bt.J=556,bt.K=722,bt.L=611,bt.M=833,bt.N=722,bt.O=778,bt.P=667,bt.Q=778,bt.R=722,bt.S=667,bt.T=611,bt.U=722,bt.V=667,bt.W=944,bt.X=667,bt.Y=667,bt.Z=611,bt.bracketleft=333,bt.backslash=278,bt.bracketright=333,bt.asciicircum=584,bt.underscore=556,bt.quoteleft=278,bt.a=556,bt.b=611,bt.c=556,bt.d=611,bt.e=556,bt.f=333,bt.g=611,bt.h=611,bt.i=278,bt.j=278,bt.k=556,bt.l=278,bt.m=889,bt.n=611,bt.o=611,bt.p=611,bt.q=611,bt.r=389,bt.s=556,bt.t=333,bt.u=611,bt.v=556,bt.w=778,bt.x=556,bt.y=556,bt.z=500,bt.braceleft=389,bt.bar=280,bt.braceright=389,bt.asciitilde=584,bt.exclamdown=333,bt.cent=556,bt.sterling=556,bt.fraction=167,bt.yen=556,bt.florin=556,bt.section=556,bt.currency=556,bt.quotesingle=238,bt.quotedblleft=500,bt.guillemotleft=556,bt.guilsinglleft=333,bt.guilsinglright=333,bt.fi=611,bt.fl=611,bt.endash=556,bt.dagger=556,bt.daggerdbl=556,bt.periodcentered=278,bt.paragraph=556,bt.bullet=350,bt.quotesinglbase=278,bt.quotedblbase=500,bt.quotedblright=500,bt.guillemotright=556,bt.ellipsis=1e3,bt.perthousand=1e3,bt.questiondown=611,bt.grave=333,bt.acute=333,bt.circumflex=333,bt.tilde=333,bt.macron=333,bt.breve=333,bt.dotaccent=333,bt.dieresis=333,bt.ring=333,bt.cedilla=333,bt.hungarumlaut=333,bt.ogonek=333,bt.caron=333,bt.emdash=1e3,bt.AE=1e3,bt.ordfeminine=370,bt.Lslash=611,bt.Oslash=778,bt.OE=1e3,bt.ordmasculine=365,bt.ae=889,bt.dotlessi=278,bt.lslash=278,bt.oslash=611,bt.oe=944,bt.germandbls=611,bt.Idieresis=278,bt.eacute=556,bt.abreve=556,bt.uhungarumlaut=611,bt.ecaron=556,bt.Ydieresis=667,bt.divide=584,bt.Yacute=667,bt.Acircumflex=722,bt.aacute=556,bt.Ucircumflex=722,bt.yacute=556,bt.scommaaccent=556,bt.ecircumflex=556,bt.Uring=722,bt.Udieresis=722,bt.aogonek=556,bt.Uacute=722,bt.uogonek=611,bt.Edieresis=667,bt.Dcroat=722,bt.commaaccent=250,bt.copyright=737,bt.Emacron=667,bt.ccaron=556,bt.aring=556,bt.Ncommaaccent=722,bt.lacute=278,bt.agrave=556,bt.Tcommaaccent=611,bt.Cacute=722,bt.atilde=556,bt.Edotaccent=667,bt.scaron=556,bt.scedilla=556,bt.iacute=278,bt.lozenge=494,bt.Rcaron=722,bt.Gcommaaccent=778,bt.ucircumflex=611,bt.acircumflex=556,bt.Amacron=722,bt.rcaron=389,bt.ccedilla=556,bt.Zdotaccent=611,bt.Thorn=667,bt.Omacron=778,bt.Racute=722,bt.Sacute=667,bt.dcaron=743,bt.Umacron=722,bt.uring=611,bt.threesuperior=333,bt.Ograve=778,bt.Agrave=722,bt.Abreve=722,bt.multiply=584,bt.uacute=611,bt.Tcaron=611,bt.partialdiff=494,bt.ydieresis=556,bt.Nacute=722,bt.icircumflex=278,bt.Ecircumflex=667,bt.adieresis=556,bt.edieresis=556,bt.cacute=556,bt.nacute=611,bt.umacron=611,bt.Ncaron=722,bt.Iacute=278,bt.plusminus=584,bt.brokenbar=280,bt.registered=737,bt.Gbreve=778,bt.Idotaccent=278,bt.summation=600,bt.Egrave=667,bt.racute=389,bt.omacron=611,bt.Zacute=611,bt.Zcaron=611,bt.greaterequal=549,bt.Eth=722,bt.Ccedilla=722,bt.lcommaaccent=278,bt.tcaron=389,bt.eogonek=556,bt.Uogonek=722,bt.Aacute=722,bt.Adieresis=722,bt.egrave=556,bt.zacute=500,bt.iogonek=278,bt.Oacute=778,bt.oacute=611,bt.amacron=556,bt.sacute=556,bt.idieresis=278,bt.Ocircumflex=778,bt.Ugrave=722,bt.Delta=612,bt.thorn=611,bt.twosuperior=333,bt.Odieresis=778,bt.mu=611,bt.igrave=278,bt.ohungarumlaut=611,bt.Eogonek=667,bt.dcroat=611,bt.threequarters=834,bt.Scedilla=667,bt.lcaron=400,bt.Kcommaaccent=722,bt.Lacute=611,bt.trademark=1e3,bt.edotaccent=556,bt.Igrave=278,bt.Imacron=278,bt.Lcaron=611,bt.onehalf=834,bt.lessequal=549,bt.ocircumflex=611,bt.ntilde=611,bt.Uhungarumlaut=722,bt.Eacute=667,bt.emacron=556,bt.gbreve=611,bt.onequarter=834,bt.Scaron=667,bt.Scommaaccent=667,bt.Ohungarumlaut=778,bt.degree=400,bt.ograve=611,bt.Ccaron=722,bt.ugrave=611,bt.radical=549,bt.Dcaron=722,bt.rcommaaccent=389,bt.Ntilde=722,bt.otilde=611,bt.Rcommaaccent=722,bt.Lcommaaccent=611,bt.Atilde=722,bt.Aogonek=722,bt.Aring=722,bt.Otilde=778,bt.zdotaccent=500,bt.Ecaron=667,bt.Iogonek=278,bt.kcommaaccent=556,bt.minus=584,bt.Icircumflex=278,bt.ncaron=611,bt.tcommaaccent=333,bt.logicalnot=584,bt.odieresis=611,bt.udieresis=611,bt.notequal=549,bt.gcommaaccent=611,bt.eth=611,bt.zcaron=500,bt.ncommaaccent=611,bt.onesuperior=333,bt.imacron=278,bt.Euro=556}),_e["Helvetica-Oblique"]=(0,wt.getLookupTableFactory)(function(bt){bt.space=278,bt.exclam=278,bt.quotedbl=355,bt.numbersign=556,bt.dollar=556,bt.percent=889,bt.ampersand=667,bt.quoteright=222,bt.parenleft=333,bt.parenright=333,bt.asterisk=389,bt.plus=584,bt.comma=278,bt.hyphen=333,bt.period=278,bt.slash=278,bt.zero=556,bt.one=556,bt.two=556,bt.three=556,bt.four=556,bt.five=556,bt.six=556,bt.seven=556,bt.eight=556,bt.nine=556,bt.colon=278,bt.semicolon=278,bt.less=584,bt.equal=584,bt.greater=584,bt.question=556,bt.at=1015,bt.A=667,bt.B=667,bt.C=722,bt.D=722,bt.E=667,bt.F=611,bt.G=778,bt.H=722,bt.I=278,bt.J=500,bt.K=667,bt.L=556,bt.M=833,bt.N=722,bt.O=778,bt.P=667,bt.Q=778,bt.R=722,bt.S=667,bt.T=611,bt.U=722,bt.V=667,bt.W=944,bt.X=667,bt.Y=667,bt.Z=611,bt.bracketleft=278,bt.backslash=278,bt.bracketright=278,bt.asciicircum=469,bt.underscore=556,bt.quoteleft=222,bt.a=556,bt.b=556,bt.c=500,bt.d=556,bt.e=556,bt.f=278,bt.g=556,bt.h=556,bt.i=222,bt.j=222,bt.k=500,bt.l=222,bt.m=833,bt.n=556,bt.o=556,bt.p=556,bt.q=556,bt.r=333,bt.s=500,bt.t=278,bt.u=556,bt.v=500,bt.w=722,bt.x=500,bt.y=500,bt.z=500,bt.braceleft=334,bt.bar=260,bt.braceright=334,bt.asciitilde=584,bt.exclamdown=333,bt.cent=556,bt.sterling=556,bt.fraction=167,bt.yen=556,bt.florin=556,bt.section=556,bt.currency=556,bt.quotesingle=191,bt.quotedblleft=333,bt.guillemotleft=556,bt.guilsinglleft=333,bt.guilsinglright=333,bt.fi=500,bt.fl=500,bt.endash=556,bt.dagger=556,bt.daggerdbl=556,bt.periodcentered=278,bt.paragraph=537,bt.bullet=350,bt.quotesinglbase=222,bt.quotedblbase=333,bt.quotedblright=333,bt.guillemotright=556,bt.ellipsis=1e3,bt.perthousand=1e3,bt.questiondown=611,bt.grave=333,bt.acute=333,bt.circumflex=333,bt.tilde=333,bt.macron=333,bt.breve=333,bt.dotaccent=333,bt.dieresis=333,bt.ring=333,bt.cedilla=333,bt.hungarumlaut=333,bt.ogonek=333,bt.caron=333,bt.emdash=1e3,bt.AE=1e3,bt.ordfeminine=370,bt.Lslash=556,bt.Oslash=778,bt.OE=1e3,bt.ordmasculine=365,bt.ae=889,bt.dotlessi=278,bt.lslash=222,bt.oslash=611,bt.oe=944,bt.germandbls=611,bt.Idieresis=278,bt.eacute=556,bt.abreve=556,bt.uhungarumlaut=556,bt.ecaron=556,bt.Ydieresis=667,bt.divide=584,bt.Yacute=667,bt.Acircumflex=667,bt.aacute=556,bt.Ucircumflex=722,bt.yacute=500,bt.scommaaccent=500,bt.ecircumflex=556,bt.Uring=722,bt.Udieresis=722,bt.aogonek=556,bt.Uacute=722,bt.uogonek=556,bt.Edieresis=667,bt.Dcroat=722,bt.commaaccent=250,bt.copyright=737,bt.Emacron=667,bt.ccaron=500,bt.aring=556,bt.Ncommaaccent=722,bt.lacute=222,bt.agrave=556,bt.Tcommaaccent=611,bt.Cacute=722,bt.atilde=556,bt.Edotaccent=667,bt.scaron=500,bt.scedilla=500,bt.iacute=278,bt.lozenge=471,bt.Rcaron=722,bt.Gcommaaccent=778,bt.ucircumflex=556,bt.acircumflex=556,bt.Amacron=667,bt.rcaron=333,bt.ccedilla=500,bt.Zdotaccent=611,bt.Thorn=667,bt.Omacron=778,bt.Racute=722,bt.Sacute=667,bt.dcaron=643,bt.Umacron=722,bt.uring=556,bt.threesuperior=333,bt.Ograve=778,bt.Agrave=667,bt.Abreve=667,bt.multiply=584,bt.uacute=556,bt.Tcaron=611,bt.partialdiff=476,bt.ydieresis=500,bt.Nacute=722,bt.icircumflex=278,bt.Ecircumflex=667,bt.adieresis=556,bt.edieresis=556,bt.cacute=500,bt.nacute=556,bt.umacron=556,bt.Ncaron=722,bt.Iacute=278,bt.plusminus=584,bt.brokenbar=260,bt.registered=737,bt.Gbreve=778,bt.Idotaccent=278,bt.summation=600,bt.Egrave=667,bt.racute=333,bt.omacron=556,bt.Zacute=611,bt.Zcaron=611,bt.greaterequal=549,bt.Eth=722,bt.Ccedilla=722,bt.lcommaaccent=222,bt.tcaron=317,bt.eogonek=556,bt.Uogonek=722,bt.Aacute=667,bt.Adieresis=667,bt.egrave=556,bt.zacute=500,bt.iogonek=222,bt.Oacute=778,bt.oacute=556,bt.amacron=556,bt.sacute=500,bt.idieresis=278,bt.Ocircumflex=778,bt.Ugrave=722,bt.Delta=612,bt.thorn=556,bt.twosuperior=333,bt.Odieresis=778,bt.mu=556,bt.igrave=278,bt.ohungarumlaut=556,bt.Eogonek=667,bt.dcroat=556,bt.threequarters=834,bt.Scedilla=667,bt.lcaron=299,bt.Kcommaaccent=667,bt.Lacute=556,bt.trademark=1e3,bt.edotaccent=556,bt.Igrave=278,bt.Imacron=278,bt.Lcaron=556,bt.onehalf=834,bt.lessequal=549,bt.ocircumflex=556,bt.ntilde=556,bt.Uhungarumlaut=722,bt.Eacute=667,bt.emacron=556,bt.gbreve=556,bt.onequarter=834,bt.Scaron=667,bt.Scommaaccent=667,bt.Ohungarumlaut=778,bt.degree=400,bt.ograve=556,bt.Ccaron=722,bt.ugrave=556,bt.radical=453,bt.Dcaron=722,bt.rcommaaccent=333,bt.Ntilde=722,bt.otilde=556,bt.Rcommaaccent=722,bt.Lcommaaccent=556,bt.Atilde=667,bt.Aogonek=667,bt.Aring=667,bt.Otilde=778,bt.zdotaccent=500,bt.Ecaron=667,bt.Iogonek=278,bt.kcommaaccent=500,bt.minus=584,bt.Icircumflex=278,bt.ncaron=556,bt.tcommaaccent=278,bt.logicalnot=584,bt.odieresis=556,bt.udieresis=556,bt.notequal=549,bt.gcommaaccent=556,bt.eth=556,bt.zcaron=500,bt.ncommaaccent=556,bt.onesuperior=333,bt.imacron=278,bt.Euro=556}),_e.Symbol=(0,wt.getLookupTableFactory)(function(bt){bt.space=250,bt.exclam=333,bt.universal=713,bt.numbersign=500,bt.existential=549,bt.percent=833,bt.ampersand=778,bt.suchthat=439,bt.parenleft=333,bt.parenright=333,bt.asteriskmath=500,bt.plus=549,bt.comma=250,bt.minus=549,bt.period=250,bt.slash=278,bt.zero=500,bt.one=500,bt.two=500,bt.three=500,bt.four=500,bt.five=500,bt.six=500,bt.seven=500,bt.eight=500,bt.nine=500,bt.colon=278,bt.semicolon=278,bt.less=549,bt.equal=549,bt.greater=549,bt.question=444,bt.congruent=549,bt.Alpha=722,bt.Beta=667,bt.Chi=722,bt.Delta=612,bt.Epsilon=611,bt.Phi=763,bt.Gamma=603,bt.Eta=722,bt.Iota=333,bt.theta1=631,bt.Kappa=722,bt.Lambda=686,bt.Mu=889,bt.Nu=722,bt.Omicron=722,bt.Pi=768,bt.Theta=741,bt.Rho=556,bt.Sigma=592,bt.Tau=611,bt.Upsilon=690,bt.sigma1=439,bt.Omega=768,bt.Xi=645,bt.Psi=795,bt.Zeta=611,bt.bracketleft=333,bt.therefore=863,bt.bracketright=333,bt.perpendicular=658,bt.underscore=500,bt.radicalex=500,bt.alpha=631,bt.beta=549,bt.chi=549,bt.delta=494,bt.epsilon=439,bt.phi=521,bt.gamma=411,bt.eta=603,bt.iota=329,bt.phi1=603,bt.kappa=549,bt.lambda=549,bt.mu=576,bt.nu=521,bt.omicron=549,bt.pi=549,bt.theta=521,bt.rho=549,bt.sigma=603,bt.tau=439,bt.upsilon=576,bt.omega1=713,bt.omega=686,bt.xi=493,bt.psi=686,bt.zeta=494,bt.braceleft=480,bt.bar=200,bt.braceright=480,bt.similar=549,bt.Euro=750,bt.Upsilon1=620,bt.minute=247,bt.lessequal=549,bt.fraction=167,bt.infinity=713,bt.florin=500,bt.club=753,bt.diamond=753,bt.heart=753,bt.spade=753,bt.arrowboth=1042,bt.arrowleft=987,bt.arrowup=603,bt.arrowright=987,bt.arrowdown=603,bt.degree=400,bt.plusminus=549,bt.second=411,bt.greaterequal=549,bt.multiply=549,bt.proportional=713,bt.partialdiff=494,bt.bullet=460,bt.divide=549,bt.notequal=549,bt.equivalence=549,bt.approxequal=549,bt.ellipsis=1e3,bt.arrowvertex=603,bt.arrowhorizex=1e3,bt.carriagereturn=658,bt.aleph=823,bt.Ifraktur=686,bt.Rfraktur=795,bt.weierstrass=987,bt.circlemultiply=768,bt.circleplus=768,bt.emptyset=823,bt.intersection=768,bt.union=768,bt.propersuperset=713,bt.reflexsuperset=713,bt.notsubset=713,bt.propersubset=713,bt.reflexsubset=713,bt.element=713,bt.notelement=713,bt.angle=768,bt.gradient=713,bt.registerserif=790,bt.copyrightserif=790,bt.trademarkserif=890,bt.product=823,bt.radical=549,bt.dotmath=250,bt.logicalnot=713,bt.logicaland=603,bt.logicalor=603,bt.arrowdblboth=1042,bt.arrowdblleft=987,bt.arrowdblup=603,bt.arrowdblright=987,bt.arrowdbldown=603,bt.lozenge=494,bt.angleleft=329,bt.registersans=790,bt.copyrightsans=790,bt.trademarksans=786,bt.summation=713,bt.parenlefttp=384,bt.parenleftex=384,bt.parenleftbt=384,bt.bracketlefttp=384,bt.bracketleftex=384,bt.bracketleftbt=384,bt.bracelefttp=494,bt.braceleftmid=494,bt.braceleftbt=494,bt.braceex=494,bt.angleright=329,bt.integral=274,bt.integraltp=686,bt.integralex=686,bt.integralbt=686,bt.parenrighttp=384,bt.parenrightex=384,bt.parenrightbt=384,bt.bracketrighttp=384,bt.bracketrightex=384,bt.bracketrightbt=384,bt.bracerighttp=494,bt.bracerightmid=494,bt.bracerightbt=494,bt.apple=790}),_e["Times-Roman"]=(0,wt.getLookupTableFactory)(function(bt){bt.space=250,bt.exclam=333,bt.quotedbl=408,bt.numbersign=500,bt.dollar=500,bt.percent=833,bt.ampersand=778,bt.quoteright=333,bt.parenleft=333,bt.parenright=333,bt.asterisk=500,bt.plus=564,bt.comma=250,bt.hyphen=333,bt.period=250,bt.slash=278,bt.zero=500,bt.one=500,bt.two=500,bt.three=500,bt.four=500,bt.five=500,bt.six=500,bt.seven=500,bt.eight=500,bt.nine=500,bt.colon=278,bt.semicolon=278,bt.less=564,bt.equal=564,bt.greater=564,bt.question=444,bt.at=921,bt.A=722,bt.B=667,bt.C=667,bt.D=722,bt.E=611,bt.F=556,bt.G=722,bt.H=722,bt.I=333,bt.J=389,bt.K=722,bt.L=611,bt.M=889,bt.N=722,bt.O=722,bt.P=556,bt.Q=722,bt.R=667,bt.S=556,bt.T=611,bt.U=722,bt.V=722,bt.W=944,bt.X=722,bt.Y=722,bt.Z=611,bt.bracketleft=333,bt.backslash=278,bt.bracketright=333,bt.asciicircum=469,bt.underscore=500,bt.quoteleft=333,bt.a=444,bt.b=500,bt.c=444,bt.d=500,bt.e=444,bt.f=333,bt.g=500,bt.h=500,bt.i=278,bt.j=278,bt.k=500,bt.l=278,bt.m=778,bt.n=500,bt.o=500,bt.p=500,bt.q=500,bt.r=333,bt.s=389,bt.t=278,bt.u=500,bt.v=500,bt.w=722,bt.x=500,bt.y=500,bt.z=444,bt.braceleft=480,bt.bar=200,bt.braceright=480,bt.asciitilde=541,bt.exclamdown=333,bt.cent=500,bt.sterling=500,bt.fraction=167,bt.yen=500,bt.florin=500,bt.section=500,bt.currency=500,bt.quotesingle=180,bt.quotedblleft=444,bt.guillemotleft=500,bt.guilsinglleft=333,bt.guilsinglright=333,bt.fi=556,bt.fl=556,bt.endash=500,bt.dagger=500,bt.daggerdbl=500,bt.periodcentered=250,bt.paragraph=453,bt.bullet=350,bt.quotesinglbase=333,bt.quotedblbase=444,bt.quotedblright=444,bt.guillemotright=500,bt.ellipsis=1e3,bt.perthousand=1e3,bt.questiondown=444,bt.grave=333,bt.acute=333,bt.circumflex=333,bt.tilde=333,bt.macron=333,bt.breve=333,bt.dotaccent=333,bt.dieresis=333,bt.ring=333,bt.cedilla=333,bt.hungarumlaut=333,bt.ogonek=333,bt.caron=333,bt.emdash=1e3,bt.AE=889,bt.ordfeminine=276,bt.Lslash=611,bt.Oslash=722,bt.OE=889,bt.ordmasculine=310,bt.ae=667,bt.dotlessi=278,bt.lslash=278,bt.oslash=500,bt.oe=722,bt.germandbls=500,bt.Idieresis=333,bt.eacute=444,bt.abreve=444,bt.uhungarumlaut=500,bt.ecaron=444,bt.Ydieresis=722,bt.divide=564,bt.Yacute=722,bt.Acircumflex=722,bt.aacute=444,bt.Ucircumflex=722,bt.yacute=500,bt.scommaaccent=389,bt.ecircumflex=444,bt.Uring=722,bt.Udieresis=722,bt.aogonek=444,bt.Uacute=722,bt.uogonek=500,bt.Edieresis=611,bt.Dcroat=722,bt.commaaccent=250,bt.copyright=760,bt.Emacron=611,bt.ccaron=444,bt.aring=444,bt.Ncommaaccent=722,bt.lacute=278,bt.agrave=444,bt.Tcommaaccent=611,bt.Cacute=667,bt.atilde=444,bt.Edotaccent=611,bt.scaron=389,bt.scedilla=389,bt.iacute=278,bt.lozenge=471,bt.Rcaron=667,bt.Gcommaaccent=722,bt.ucircumflex=500,bt.acircumflex=444,bt.Amacron=722,bt.rcaron=333,bt.ccedilla=444,bt.Zdotaccent=611,bt.Thorn=556,bt.Omacron=722,bt.Racute=667,bt.Sacute=556,bt.dcaron=588,bt.Umacron=722,bt.uring=500,bt.threesuperior=300,bt.Ograve=722,bt.Agrave=722,bt.Abreve=722,bt.multiply=564,bt.uacute=500,bt.Tcaron=611,bt.partialdiff=476,bt.ydieresis=500,bt.Nacute=722,bt.icircumflex=278,bt.Ecircumflex=611,bt.adieresis=444,bt.edieresis=444,bt.cacute=444,bt.nacute=500,bt.umacron=500,bt.Ncaron=722,bt.Iacute=333,bt.plusminus=564,bt.brokenbar=200,bt.registered=760,bt.Gbreve=722,bt.Idotaccent=333,bt.summation=600,bt.Egrave=611,bt.racute=333,bt.omacron=500,bt.Zacute=611,bt.Zcaron=611,bt.greaterequal=549,bt.Eth=722,bt.Ccedilla=667,bt.lcommaaccent=278,bt.tcaron=326,bt.eogonek=444,bt.Uogonek=722,bt.Aacute=722,bt.Adieresis=722,bt.egrave=444,bt.zacute=444,bt.iogonek=278,bt.Oacute=722,bt.oacute=500,bt.amacron=444,bt.sacute=389,bt.idieresis=278,bt.Ocircumflex=722,bt.Ugrave=722,bt.Delta=612,bt.thorn=500,bt.twosuperior=300,bt.Odieresis=722,bt.mu=500,bt.igrave=278,bt.ohungarumlaut=500,bt.Eogonek=611,bt.dcroat=500,bt.threequarters=750,bt.Scedilla=556,bt.lcaron=344,bt.Kcommaaccent=722,bt.Lacute=611,bt.trademark=980,bt.edotaccent=444,bt.Igrave=333,bt.Imacron=333,bt.Lcaron=611,bt.onehalf=750,bt.lessequal=549,bt.ocircumflex=500,bt.ntilde=500,bt.Uhungarumlaut=722,bt.Eacute=611,bt.emacron=444,bt.gbreve=500,bt.onequarter=750,bt.Scaron=556,bt.Scommaaccent=556,bt.Ohungarumlaut=722,bt.degree=400,bt.ograve=500,bt.Ccaron=667,bt.ugrave=500,bt.radical=453,bt.Dcaron=722,bt.rcommaaccent=333,bt.Ntilde=722,bt.otilde=500,bt.Rcommaaccent=667,bt.Lcommaaccent=611,bt.Atilde=722,bt.Aogonek=722,bt.Aring=722,bt.Otilde=722,bt.zdotaccent=444,bt.Ecaron=611,bt.Iogonek=333,bt.kcommaaccent=500,bt.minus=564,bt.Icircumflex=333,bt.ncaron=500,bt.tcommaaccent=278,bt.logicalnot=564,bt.odieresis=500,bt.udieresis=500,bt.notequal=549,bt.gcommaaccent=500,bt.eth=500,bt.zcaron=444,bt.ncommaaccent=500,bt.onesuperior=300,bt.imacron=278,bt.Euro=500}),_e["Times-Bold"]=(0,wt.getLookupTableFactory)(function(bt){bt.space=250,bt.exclam=333,bt.quotedbl=555,bt.numbersign=500,bt.dollar=500,bt.percent=1e3,bt.ampersand=833,bt.quoteright=333,bt.parenleft=333,bt.parenright=333,bt.asterisk=500,bt.plus=570,bt.comma=250,bt.hyphen=333,bt.period=250,bt.slash=278,bt.zero=500,bt.one=500,bt.two=500,bt.three=500,bt.four=500,bt.five=500,bt.six=500,bt.seven=500,bt.eight=500,bt.nine=500,bt.colon=333,bt.semicolon=333,bt.less=570,bt.equal=570,bt.greater=570,bt.question=500,bt.at=930,bt.A=722,bt.B=667,bt.C=722,bt.D=722,bt.E=667,bt.F=611,bt.G=778,bt.H=778,bt.I=389,bt.J=500,bt.K=778,bt.L=667,bt.M=944,bt.N=722,bt.O=778,bt.P=611,bt.Q=778,bt.R=722,bt.S=556,bt.T=667,bt.U=722,bt.V=722,bt.W=1e3,bt.X=722,bt.Y=722,bt.Z=667,bt.bracketleft=333,bt.backslash=278,bt.bracketright=333,bt.asciicircum=581,bt.underscore=500,bt.quoteleft=333,bt.a=500,bt.b=556,bt.c=444,bt.d=556,bt.e=444,bt.f=333,bt.g=500,bt.h=556,bt.i=278,bt.j=333,bt.k=556,bt.l=278,bt.m=833,bt.n=556,bt.o=500,bt.p=556,bt.q=556,bt.r=444,bt.s=389,bt.t=333,bt.u=556,bt.v=500,bt.w=722,bt.x=500,bt.y=500,bt.z=444,bt.braceleft=394,bt.bar=220,bt.braceright=394,bt.asciitilde=520,bt.exclamdown=333,bt.cent=500,bt.sterling=500,bt.fraction=167,bt.yen=500,bt.florin=500,bt.section=500,bt.currency=500,bt.quotesingle=278,bt.quotedblleft=500,bt.guillemotleft=500,bt.guilsinglleft=333,bt.guilsinglright=333,bt.fi=556,bt.fl=556,bt.endash=500,bt.dagger=500,bt.daggerdbl=500,bt.periodcentered=250,bt.paragraph=540,bt.bullet=350,bt.quotesinglbase=333,bt.quotedblbase=500,bt.quotedblright=500,bt.guillemotright=500,bt.ellipsis=1e3,bt.perthousand=1e3,bt.questiondown=500,bt.grave=333,bt.acute=333,bt.circumflex=333,bt.tilde=333,bt.macron=333,bt.breve=333,bt.dotaccent=333,bt.dieresis=333,bt.ring=333,bt.cedilla=333,bt.hungarumlaut=333,bt.ogonek=333,bt.caron=333,bt.emdash=1e3,bt.AE=1e3,bt.ordfeminine=300,bt.Lslash=667,bt.Oslash=778,bt.OE=1e3,bt.ordmasculine=330,bt.ae=722,bt.dotlessi=278,bt.lslash=278,bt.oslash=500,bt.oe=722,bt.germandbls=556,bt.Idieresis=389,bt.eacute=444,bt.abreve=500,bt.uhungarumlaut=556,bt.ecaron=444,bt.Ydieresis=722,bt.divide=570,bt.Yacute=722,bt.Acircumflex=722,bt.aacute=500,bt.Ucircumflex=722,bt.yacute=500,bt.scommaaccent=389,bt.ecircumflex=444,bt.Uring=722,bt.Udieresis=722,bt.aogonek=500,bt.Uacute=722,bt.uogonek=556,bt.Edieresis=667,bt.Dcroat=722,bt.commaaccent=250,bt.copyright=747,bt.Emacron=667,bt.ccaron=444,bt.aring=500,bt.Ncommaaccent=722,bt.lacute=278,bt.agrave=500,bt.Tcommaaccent=667,bt.Cacute=722,bt.atilde=500,bt.Edotaccent=667,bt.scaron=389,bt.scedilla=389,bt.iacute=278,bt.lozenge=494,bt.Rcaron=722,bt.Gcommaaccent=778,bt.ucircumflex=556,bt.acircumflex=500,bt.Amacron=722,bt.rcaron=444,bt.ccedilla=444,bt.Zdotaccent=667,bt.Thorn=611,bt.Omacron=778,bt.Racute=722,bt.Sacute=556,bt.dcaron=672,bt.Umacron=722,bt.uring=556,bt.threesuperior=300,bt.Ograve=778,bt.Agrave=722,bt.Abreve=722,bt.multiply=570,bt.uacute=556,bt.Tcaron=667,bt.partialdiff=494,bt.ydieresis=500,bt.Nacute=722,bt.icircumflex=278,bt.Ecircumflex=667,bt.adieresis=500,bt.edieresis=444,bt.cacute=444,bt.nacute=556,bt.umacron=556,bt.Ncaron=722,bt.Iacute=389,bt.plusminus=570,bt.brokenbar=220,bt.registered=747,bt.Gbreve=778,bt.Idotaccent=389,bt.summation=600,bt.Egrave=667,bt.racute=444,bt.omacron=500,bt.Zacute=667,bt.Zcaron=667,bt.greaterequal=549,bt.Eth=722,bt.Ccedilla=722,bt.lcommaaccent=278,bt.tcaron=416,bt.eogonek=444,bt.Uogonek=722,bt.Aacute=722,bt.Adieresis=722,bt.egrave=444,bt.zacute=444,bt.iogonek=278,bt.Oacute=778,bt.oacute=500,bt.amacron=500,bt.sacute=389,bt.idieresis=278,bt.Ocircumflex=778,bt.Ugrave=722,bt.Delta=612,bt.thorn=556,bt.twosuperior=300,bt.Odieresis=778,bt.mu=556,bt.igrave=278,bt.ohungarumlaut=500,bt.Eogonek=667,bt.dcroat=556,bt.threequarters=750,bt.Scedilla=556,bt.lcaron=394,bt.Kcommaaccent=778,bt.Lacute=667,bt.trademark=1e3,bt.edotaccent=444,bt.Igrave=389,bt.Imacron=389,bt.Lcaron=667,bt.onehalf=750,bt.lessequal=549,bt.ocircumflex=500,bt.ntilde=556,bt.Uhungarumlaut=722,bt.Eacute=667,bt.emacron=444,bt.gbreve=500,bt.onequarter=750,bt.Scaron=556,bt.Scommaaccent=556,bt.Ohungarumlaut=778,bt.degree=400,bt.ograve=500,bt.Ccaron=722,bt.ugrave=556,bt.radical=549,bt.Dcaron=722,bt.rcommaaccent=444,bt.Ntilde=722,bt.otilde=500,bt.Rcommaaccent=722,bt.Lcommaaccent=667,bt.Atilde=722,bt.Aogonek=722,bt.Aring=722,bt.Otilde=778,bt.zdotaccent=444,bt.Ecaron=667,bt.Iogonek=389,bt.kcommaaccent=556,bt.minus=570,bt.Icircumflex=389,bt.ncaron=556,bt.tcommaaccent=333,bt.logicalnot=570,bt.odieresis=500,bt.udieresis=556,bt.notequal=549,bt.gcommaaccent=500,bt.eth=500,bt.zcaron=444,bt.ncommaaccent=556,bt.onesuperior=300,bt.imacron=278,bt.Euro=500}),_e["Times-BoldItalic"]=(0,wt.getLookupTableFactory)(function(bt){bt.space=250,bt.exclam=389,bt.quotedbl=555,bt.numbersign=500,bt.dollar=500,bt.percent=833,bt.ampersand=778,bt.quoteright=333,bt.parenleft=333,bt.parenright=333,bt.asterisk=500,bt.plus=570,bt.comma=250,bt.hyphen=333,bt.period=250,bt.slash=278,bt.zero=500,bt.one=500,bt.two=500,bt.three=500,bt.four=500,bt.five=500,bt.six=500,bt.seven=500,bt.eight=500,bt.nine=500,bt.colon=333,bt.semicolon=333,bt.less=570,bt.equal=570,bt.greater=570,bt.question=500,bt.at=832,bt.A=667,bt.B=667,bt.C=667,bt.D=722,bt.E=667,bt.F=667,bt.G=722,bt.H=778,bt.I=389,bt.J=500,bt.K=667,bt.L=611,bt.M=889,bt.N=722,bt.O=722,bt.P=611,bt.Q=722,bt.R=667,bt.S=556,bt.T=611,bt.U=722,bt.V=667,bt.W=889,bt.X=667,bt.Y=611,bt.Z=611,bt.bracketleft=333,bt.backslash=278,bt.bracketright=333,bt.asciicircum=570,bt.underscore=500,bt.quoteleft=333,bt.a=500,bt.b=500,bt.c=444,bt.d=500,bt.e=444,bt.f=333,bt.g=500,bt.h=556,bt.i=278,bt.j=278,bt.k=500,bt.l=278,bt.m=778,bt.n=556,bt.o=500,bt.p=500,bt.q=500,bt.r=389,bt.s=389,bt.t=278,bt.u=556,bt.v=444,bt.w=667,bt.x=500,bt.y=444,bt.z=389,bt.braceleft=348,bt.bar=220,bt.braceright=348,bt.asciitilde=570,bt.exclamdown=389,bt.cent=500,bt.sterling=500,bt.fraction=167,bt.yen=500,bt.florin=500,bt.section=500,bt.currency=500,bt.quotesingle=278,bt.quotedblleft=500,bt.guillemotleft=500,bt.guilsinglleft=333,bt.guilsinglright=333,bt.fi=556,bt.fl=556,bt.endash=500,bt.dagger=500,bt.daggerdbl=500,bt.periodcentered=250,bt.paragraph=500,bt.bullet=350,bt.quotesinglbase=333,bt.quotedblbase=500,bt.quotedblright=500,bt.guillemotright=500,bt.ellipsis=1e3,bt.perthousand=1e3,bt.questiondown=500,bt.grave=333,bt.acute=333,bt.circumflex=333,bt.tilde=333,bt.macron=333,bt.breve=333,bt.dotaccent=333,bt.dieresis=333,bt.ring=333,bt.cedilla=333,bt.hungarumlaut=333,bt.ogonek=333,bt.caron=333,bt.emdash=1e3,bt.AE=944,bt.ordfeminine=266,bt.Lslash=611,bt.Oslash=722,bt.OE=944,bt.ordmasculine=300,bt.ae=722,bt.dotlessi=278,bt.lslash=278,bt.oslash=500,bt.oe=722,bt.germandbls=500,bt.Idieresis=389,bt.eacute=444,bt.abreve=500,bt.uhungarumlaut=556,bt.ecaron=444,bt.Ydieresis=611,bt.divide=570,bt.Yacute=611,bt.Acircumflex=667,bt.aacute=500,bt.Ucircumflex=722,bt.yacute=444,bt.scommaaccent=389,bt.ecircumflex=444,bt.Uring=722,bt.Udieresis=722,bt.aogonek=500,bt.Uacute=722,bt.uogonek=556,bt.Edieresis=667,bt.Dcroat=722,bt.commaaccent=250,bt.copyright=747,bt.Emacron=667,bt.ccaron=444,bt.aring=500,bt.Ncommaaccent=722,bt.lacute=278,bt.agrave=500,bt.Tcommaaccent=611,bt.Cacute=667,bt.atilde=500,bt.Edotaccent=667,bt.scaron=389,bt.scedilla=389,bt.iacute=278,bt.lozenge=494,bt.Rcaron=667,bt.Gcommaaccent=722,bt.ucircumflex=556,bt.acircumflex=500,bt.Amacron=667,bt.rcaron=389,bt.ccedilla=444,bt.Zdotaccent=611,bt.Thorn=611,bt.Omacron=722,bt.Racute=667,bt.Sacute=556,bt.dcaron=608,bt.Umacron=722,bt.uring=556,bt.threesuperior=300,bt.Ograve=722,bt.Agrave=667,bt.Abreve=667,bt.multiply=570,bt.uacute=556,bt.Tcaron=611,bt.partialdiff=494,bt.ydieresis=444,bt.Nacute=722,bt.icircumflex=278,bt.Ecircumflex=667,bt.adieresis=500,bt.edieresis=444,bt.cacute=444,bt.nacute=556,bt.umacron=556,bt.Ncaron=722,bt.Iacute=389,bt.plusminus=570,bt.brokenbar=220,bt.registered=747,bt.Gbreve=722,bt.Idotaccent=389,bt.summation=600,bt.Egrave=667,bt.racute=389,bt.omacron=500,bt.Zacute=611,bt.Zcaron=611,bt.greaterequal=549,bt.Eth=722,bt.Ccedilla=667,bt.lcommaaccent=278,bt.tcaron=366,bt.eogonek=444,bt.Uogonek=722,bt.Aacute=667,bt.Adieresis=667,bt.egrave=444,bt.zacute=389,bt.iogonek=278,bt.Oacute=722,bt.oacute=500,bt.amacron=500,bt.sacute=389,bt.idieresis=278,bt.Ocircumflex=722,bt.Ugrave=722,bt.Delta=612,bt.thorn=500,bt.twosuperior=300,bt.Odieresis=722,bt.mu=576,bt.igrave=278,bt.ohungarumlaut=500,bt.Eogonek=667,bt.dcroat=500,bt.threequarters=750,bt.Scedilla=556,bt.lcaron=382,bt.Kcommaaccent=667,bt.Lacute=611,bt.trademark=1e3,bt.edotaccent=444,bt.Igrave=389,bt.Imacron=389,bt.Lcaron=611,bt.onehalf=750,bt.lessequal=549,bt.ocircumflex=500,bt.ntilde=556,bt.Uhungarumlaut=722,bt.Eacute=667,bt.emacron=444,bt.gbreve=500,bt.onequarter=750,bt.Scaron=556,bt.Scommaaccent=556,bt.Ohungarumlaut=722,bt.degree=400,bt.ograve=500,bt.Ccaron=667,bt.ugrave=556,bt.radical=549,bt.Dcaron=722,bt.rcommaaccent=389,bt.Ntilde=722,bt.otilde=500,bt.Rcommaaccent=667,bt.Lcommaaccent=611,bt.Atilde=667,bt.Aogonek=667,bt.Aring=667,bt.Otilde=722,bt.zdotaccent=389,bt.Ecaron=667,bt.Iogonek=389,bt.kcommaaccent=500,bt.minus=606,bt.Icircumflex=389,bt.ncaron=556,bt.tcommaaccent=278,bt.logicalnot=606,bt.odieresis=500,bt.udieresis=556,bt.notequal=549,bt.gcommaaccent=500,bt.eth=500,bt.zcaron=389,bt.ncommaaccent=556,bt.onesuperior=300,bt.imacron=278,bt.Euro=500}),_e["Times-Italic"]=(0,wt.getLookupTableFactory)(function(bt){bt.space=250,bt.exclam=333,bt.quotedbl=420,bt.numbersign=500,bt.dollar=500,bt.percent=833,bt.ampersand=778,bt.quoteright=333,bt.parenleft=333,bt.parenright=333,bt.asterisk=500,bt.plus=675,bt.comma=250,bt.hyphen=333,bt.period=250,bt.slash=278,bt.zero=500,bt.one=500,bt.two=500,bt.three=500,bt.four=500,bt.five=500,bt.six=500,bt.seven=500,bt.eight=500,bt.nine=500,bt.colon=333,bt.semicolon=333,bt.less=675,bt.equal=675,bt.greater=675,bt.question=500,bt.at=920,bt.A=611,bt.B=611,bt.C=667,bt.D=722,bt.E=611,bt.F=611,bt.G=722,bt.H=722,bt.I=333,bt.J=444,bt.K=667,bt.L=556,bt.M=833,bt.N=667,bt.O=722,bt.P=611,bt.Q=722,bt.R=611,bt.S=500,bt.T=556,bt.U=722,bt.V=611,bt.W=833,bt.X=611,bt.Y=556,bt.Z=556,bt.bracketleft=389,bt.backslash=278,bt.bracketright=389,bt.asciicircum=422,bt.underscore=500,bt.quoteleft=333,bt.a=500,bt.b=500,bt.c=444,bt.d=500,bt.e=444,bt.f=278,bt.g=500,bt.h=500,bt.i=278,bt.j=278,bt.k=444,bt.l=278,bt.m=722,bt.n=500,bt.o=500,bt.p=500,bt.q=500,bt.r=389,bt.s=389,bt.t=278,bt.u=500,bt.v=444,bt.w=667,bt.x=444,bt.y=444,bt.z=389,bt.braceleft=400,bt.bar=275,bt.braceright=400,bt.asciitilde=541,bt.exclamdown=389,bt.cent=500,bt.sterling=500,bt.fraction=167,bt.yen=500,bt.florin=500,bt.section=500,bt.currency=500,bt.quotesingle=214,bt.quotedblleft=556,bt.guillemotleft=500,bt.guilsinglleft=333,bt.guilsinglright=333,bt.fi=500,bt.fl=500,bt.endash=500,bt.dagger=500,bt.daggerdbl=500,bt.periodcentered=250,bt.paragraph=523,bt.bullet=350,bt.quotesinglbase=333,bt.quotedblbase=556,bt.quotedblright=556,bt.guillemotright=500,bt.ellipsis=889,bt.perthousand=1e3,bt.questiondown=500,bt.grave=333,bt.acute=333,bt.circumflex=333,bt.tilde=333,bt.macron=333,bt.breve=333,bt.dotaccent=333,bt.dieresis=333,bt.ring=333,bt.cedilla=333,bt.hungarumlaut=333,bt.ogonek=333,bt.caron=333,bt.emdash=889,bt.AE=889,bt.ordfeminine=276,bt.Lslash=556,bt.Oslash=722,bt.OE=944,bt.ordmasculine=310,bt.ae=667,bt.dotlessi=278,bt.lslash=278,bt.oslash=500,bt.oe=667,bt.germandbls=500,bt.Idieresis=333,bt.eacute=444,bt.abreve=500,bt.uhungarumlaut=500,bt.ecaron=444,bt.Ydieresis=556,bt.divide=675,bt.Yacute=556,bt.Acircumflex=611,bt.aacute=500,bt.Ucircumflex=722,bt.yacute=444,bt.scommaaccent=389,bt.ecircumflex=444,bt.Uring=722,bt.Udieresis=722,bt.aogonek=500,bt.Uacute=722,bt.uogonek=500,bt.Edieresis=611,bt.Dcroat=722,bt.commaaccent=250,bt.copyright=760,bt.Emacron=611,bt.ccaron=444,bt.aring=500,bt.Ncommaaccent=667,bt.lacute=278,bt.agrave=500,bt.Tcommaaccent=556,bt.Cacute=667,bt.atilde=500,bt.Edotaccent=611,bt.scaron=389,bt.scedilla=389,bt.iacute=278,bt.lozenge=471,bt.Rcaron=611,bt.Gcommaaccent=722,bt.ucircumflex=500,bt.acircumflex=500,bt.Amacron=611,bt.rcaron=389,bt.ccedilla=444,bt.Zdotaccent=556,bt.Thorn=611,bt.Omacron=722,bt.Racute=611,bt.Sacute=500,bt.dcaron=544,bt.Umacron=722,bt.uring=500,bt.threesuperior=300,bt.Ograve=722,bt.Agrave=611,bt.Abreve=611,bt.multiply=675,bt.uacute=500,bt.Tcaron=556,bt.partialdiff=476,bt.ydieresis=444,bt.Nacute=667,bt.icircumflex=278,bt.Ecircumflex=611,bt.adieresis=500,bt.edieresis=444,bt.cacute=444,bt.nacute=500,bt.umacron=500,bt.Ncaron=667,bt.Iacute=333,bt.plusminus=675,bt.brokenbar=275,bt.registered=760,bt.Gbreve=722,bt.Idotaccent=333,bt.summation=600,bt.Egrave=611,bt.racute=389,bt.omacron=500,bt.Zacute=556,bt.Zcaron=556,bt.greaterequal=549,bt.Eth=722,bt.Ccedilla=667,bt.lcommaaccent=278,bt.tcaron=300,bt.eogonek=444,bt.Uogonek=722,bt.Aacute=611,bt.Adieresis=611,bt.egrave=444,bt.zacute=389,bt.iogonek=278,bt.Oacute=722,bt.oacute=500,bt.amacron=500,bt.sacute=389,bt.idieresis=278,bt.Ocircumflex=722,bt.Ugrave=722,bt.Delta=612,bt.thorn=500,bt.twosuperior=300,bt.Odieresis=722,bt.mu=500,bt.igrave=278,bt.ohungarumlaut=500,bt.Eogonek=611,bt.dcroat=500,bt.threequarters=750,bt.Scedilla=500,bt.lcaron=300,bt.Kcommaaccent=667,bt.Lacute=556,bt.trademark=980,bt.edotaccent=444,bt.Igrave=333,bt.Imacron=333,bt.Lcaron=611,bt.onehalf=750,bt.lessequal=549,bt.ocircumflex=500,bt.ntilde=500,bt.Uhungarumlaut=722,bt.Eacute=611,bt.emacron=444,bt.gbreve=500,bt.onequarter=750,bt.Scaron=500,bt.Scommaaccent=500,bt.Ohungarumlaut=722,bt.degree=400,bt.ograve=500,bt.Ccaron=667,bt.ugrave=500,bt.radical=453,bt.Dcaron=722,bt.rcommaaccent=389,bt.Ntilde=667,bt.otilde=500,bt.Rcommaaccent=611,bt.Lcommaaccent=556,bt.Atilde=611,bt.Aogonek=611,bt.Aring=611,bt.Otilde=722,bt.zdotaccent=389,bt.Ecaron=611,bt.Iogonek=333,bt.kcommaaccent=444,bt.minus=675,bt.Icircumflex=333,bt.ncaron=500,bt.tcommaaccent=278,bt.logicalnot=675,bt.odieresis=500,bt.udieresis=500,bt.notequal=549,bt.gcommaaccent=500,bt.eth=500,bt.zcaron=389,bt.ncommaaccent=500,bt.onesuperior=300,bt.imacron=278,bt.Euro=500}),_e.ZapfDingbats=(0,wt.getLookupTableFactory)(function(bt){bt.space=278,bt.a1=974,bt.a2=961,bt.a202=974,bt.a3=980,bt.a4=719,bt.a5=789,bt.a119=790,bt.a118=791,bt.a117=690,bt.a11=960,bt.a12=939,bt.a13=549,bt.a14=855,bt.a15=911,bt.a16=933,bt.a105=911,bt.a17=945,bt.a18=974,bt.a19=755,bt.a20=846,bt.a21=762,bt.a22=761,bt.a23=571,bt.a24=677,bt.a25=763,bt.a26=760,bt.a27=759,bt.a28=754,bt.a6=494,bt.a7=552,bt.a8=537,bt.a9=577,bt.a10=692,bt.a29=786,bt.a30=788,bt.a31=788,bt.a32=790,bt.a33=793,bt.a34=794,bt.a35=816,bt.a36=823,bt.a37=789,bt.a38=841,bt.a39=823,bt.a40=833,bt.a41=816,bt.a42=831,bt.a43=923,bt.a44=744,bt.a45=723,bt.a46=749,bt.a47=790,bt.a48=792,bt.a49=695,bt.a50=776,bt.a51=768,bt.a52=792,bt.a53=759,bt.a54=707,bt.a55=708,bt.a56=682,bt.a57=701,bt.a58=826,bt.a59=815,bt.a60=789,bt.a61=789,bt.a62=707,bt.a63=687,bt.a64=696,bt.a65=689,bt.a66=786,bt.a67=787,bt.a68=713,bt.a69=791,bt.a70=785,bt.a71=791,bt.a72=873,bt.a73=761,bt.a74=762,bt.a203=762,bt.a75=759,bt.a204=759,bt.a76=892,bt.a77=892,bt.a78=788,bt.a79=784,bt.a81=438,bt.a82=138,bt.a83=277,bt.a84=415,bt.a97=392,bt.a98=392,bt.a99=668,bt.a100=668,bt.a89=390,bt.a90=390,bt.a93=317,bt.a94=317,bt.a91=276,bt.a92=276,bt.a205=509,bt.a85=509,bt.a206=410,bt.a86=410,bt.a87=234,bt.a88=234,bt.a95=334,bt.a96=334,bt.a101=732,bt.a102=544,bt.a103=544,bt.a104=910,bt.a106=667,bt.a107=760,bt.a108=760,bt.a112=776,bt.a111=595,bt.a110=694,bt.a109=626,bt.a120=788,bt.a121=788,bt.a122=788,bt.a123=788,bt.a124=788,bt.a125=788,bt.a126=788,bt.a127=788,bt.a128=788,bt.a129=788,bt.a130=788,bt.a131=788,bt.a132=788,bt.a133=788,bt.a134=788,bt.a135=788,bt.a136=788,bt.a137=788,bt.a138=788,bt.a139=788,bt.a140=788,bt.a141=788,bt.a142=788,bt.a143=788,bt.a144=788,bt.a145=788,bt.a146=788,bt.a147=788,bt.a148=788,bt.a149=788,bt.a150=788,bt.a151=788,bt.a152=788,bt.a153=788,bt.a154=788,bt.a155=788,bt.a156=788,bt.a157=788,bt.a158=788,bt.a159=788,bt.a160=894,bt.a161=838,bt.a163=1016,bt.a164=458,bt.a196=748,bt.a165=924,bt.a192=748,bt.a166=918,bt.a167=927,bt.a168=928,bt.a169=928,bt.a170=834,bt.a171=873,bt.a172=828,bt.a173=924,bt.a162=924,bt.a174=917,bt.a175=930,bt.a176=931,bt.a177=463,bt.a178=883,bt.a179=836,bt.a193=836,bt.a180=867,bt.a199=867,bt.a181=696,bt.a200=696,bt.a182=874,bt.a201=874,bt.a183=760,bt.a184=946,bt.a197=771,bt.a185=865,bt.a194=771,bt.a198=888,bt.a186=967,bt.a195=888,bt.a187=831,bt.a188=873,bt.a189=927,bt.a190=970,bt.a191=918})});Et.getMetrics=_t;const Rt=(0,wt.getLookupTableFactory)(function(_e){_e.Courier={ascent:629,descent:-157,capHeight:562,xHeight:-426},_e["Courier-Bold"]={ascent:629,descent:-157,capHeight:562,xHeight:439},_e["Courier-Oblique"]={ascent:629,descent:-157,capHeight:562,xHeight:426},_e["Courier-BoldOblique"]={ascent:629,descent:-157,capHeight:562,xHeight:426},_e.Helvetica={ascent:718,descent:-207,capHeight:718,xHeight:523},_e["Helvetica-Bold"]={ascent:718,descent:-207,capHeight:718,xHeight:532},_e["Helvetica-Oblique"]={ascent:718,descent:-207,capHeight:718,xHeight:523},_e["Helvetica-BoldOblique"]={ascent:718,descent:-207,capHeight:718,xHeight:532},_e["Times-Roman"]={ascent:683,descent:-217,capHeight:662,xHeight:450},_e["Times-Bold"]={ascent:683,descent:-217,capHeight:676,xHeight:461},_e["Times-Italic"]={ascent:683,descent:-217,capHeight:653,xHeight:441},_e["Times-BoldItalic"]={ascent:683,descent:-217,capHeight:669,xHeight:462},_e.Symbol={ascent:Math.NaN,descent:Math.NaN,capHeight:Math.NaN,xHeight:Math.NaN},_e.ZapfDingbats={ascent:Math.NaN,descent:Math.NaN,capHeight:Math.NaN,xHeight:Math.NaN}});Et.getFontBasicMetrics=Rt},(Ct,Et)=>{Object.defineProperty(Et,"__esModule",{value:!0}),Et.GlyfTable=void 0;const Ft=1,wt=2,_t=4,Rt=8,_e=16,bt=32,Pt=64,Xt=1,Kt=2,Nt=8,$t=32,Lt=64,jt=128,kt=256;class qt{constructor({glyfTable:tn,isGlyphLocationsLong:bn,locaTable:Wt,numGlyphs:Yt}){this.glyphs=[];const un=new DataView(Wt.buffer,Wt.byteOffset,Wt.byteLength),Ut=new DataView(tn.buffer,tn.byteOffset,tn.byteLength),Ot=bn?4:2;let Ht=bn?un.getUint32(0):2*un.getUint16(0),an=0;for(let zt=0;zt<Yt;zt++){an+=Ot;const Vt=bn?un.getUint32(an):2*un.getUint16(an);if(Vt===Ht){this.glyphs.push(new Bt({}));continue}const nn=Bt.parse(Ht,Ut);this.glyphs.push(nn),Ht=Vt}}getSize(){return this.glyphs.reduce((tn,bn)=>{const Wt=bn.getSize();return tn+(Wt+3&-4)},0)}write(){const tn=this.getSize(),bn=new DataView(new ArrayBuffer(tn)),Wt=tn>131070,Yt=Wt?4:2,un=new DataView(new ArrayBuffer((this.glyphs.length+1)*Yt));Wt?un.setUint32(0,0):un.setUint16(0,0);let Ut=0,Ot=0;for(const Ht of this.glyphs)Ut+=Ht.write(Ut,bn),Ut=Ut+3&-4,Ot+=Yt,Wt?un.setUint32(Ot,Ut):un.setUint16(Ot,Ut>>1);return{isLocationLong:Wt,loca:new Uint8Array(un.buffer),glyf:new Uint8Array(bn.buffer)}}scale(tn){for(let bn=0,Wt=this.glyphs.length;bn<Wt;bn++)this.glyphs[bn].scale(tn[bn])}}Et.GlyfTable=qt;class Bt{constructor({header:tn=null,simple:bn=null,composites:Wt=null}){this.header=tn,this.simple=bn,this.composites=Wt}static parse(tn,bn){const[Wt,Yt]=Gt.parse(tn,bn);if(tn+=Wt,Yt.numberOfContours<0){const Ut=[];for(;;){const[Ot,Ht]=Qt.parse(tn,bn);if(tn+=Ot,Ut.push(Ht),!(Ht.flags&$t))break}return new Bt({header:Yt,composites:Ut})}const un=dn.parse(tn,bn,Yt.numberOfContours);return new Bt({header:Yt,simple:un})}getSize(){if(!this.header)return 0;const tn=this.simple?this.simple.getSize():this.composites.reduce((bn,Wt)=>bn+Wt.getSize(),0);return this.header.getSize()+tn}write(tn,bn){if(!this.header)return 0;const Wt=tn;if(tn+=this.header.write(tn,bn),this.simple)tn+=this.simple.write(tn,bn);else for(const Yt of this.composites)tn+=Yt.write(tn,bn);return tn-Wt}scale(tn){if(!this.header)return;const bn=(this.header.xMin+this.header.xMax)/2;if(this.header.scale(bn,tn),this.simple)this.simple.scale(bn,tn);else for(const Wt of this.composites)Wt.scale(bn,tn)}}class Gt{constructor({numberOfContours:tn,xMin:bn,yMin:Wt,xMax:Yt,yMax:un}){this.numberOfContours=tn,this.xMin=bn,this.yMin=Wt,this.xMax=Yt,this.yMax=un}static parse(tn,bn){return[10,new Gt({numberOfContours:bn.getInt16(tn),xMin:bn.getInt16(tn+2),yMin:bn.getInt16(tn+4),xMax:bn.getInt16(tn+6),yMax:bn.getInt16(tn+8)})]}getSize(){return 10}write(tn,bn){return bn.setInt16(tn,this.numberOfContours),bn.setInt16(tn+2,this.xMin),bn.setInt16(tn+4,this.yMin),bn.setInt16(tn+6,this.xMax),bn.setInt16(tn+8,this.yMax),10}scale(tn,bn){this.xMin=Math.round(tn+(this.xMin-tn)*bn),this.xMax=Math.round(tn+(this.xMax-tn)*bn)}}class en{constructor({flags:tn,xCoordinates:bn,yCoordinates:Wt}){this.xCoordinates=bn,this.yCoordinates=Wt,this.flags=tn}}class dn{constructor({contours:tn,instructions:bn}){this.contours=tn,this.instructions=bn}static parse(tn,bn,Wt){const Yt=[];for(let sn=0;sn<Wt;sn++){const rn=bn.getUint16(tn);tn+=2,Yt.push(rn)}const un=Yt[Wt-1]+1,Ut=bn.getUint16(tn);tn+=2;const Ot=new Uint8Array(bn).slice(tn,tn+Ut);tn+=Ut;const Ht=[];for(let sn=0;sn<un;tn++,sn++){let rn=bn.getUint8(tn);if(Ht.push(rn),rn&Rt){const xn=bn.getUint8(++tn);rn^=Rt;for(let vn=0;vn<xn;vn++)Ht.push(rn);sn+=xn}}const an=[];let zt=[],Vt=[],nn=[];const hn=[];let on=0,cn=0;for(let sn=0;sn<un;sn++){const rn=Ht[sn];if(rn&wt){const xn=bn.getUint8(tn++);cn+=rn&_e?xn:-xn,zt.push(cn)}else rn&_e||(cn+=bn.getInt16(tn),tn+=2),zt.push(cn);Yt[on]===sn&&(on++,an.push(zt),zt=[])}cn=0,on=0;for(let sn=0;sn<un;sn++){const rn=Ht[sn];if(rn&_t){const xn=bn.getUint8(tn++);cn+=rn&bt?xn:-xn,Vt.push(cn)}else rn&bt||(cn+=bn.getInt16(tn),tn+=2),Vt.push(cn);nn.push(rn&Ft|rn&Pt),Yt[on]===sn&&(zt=an[on],on++,hn.push(new en({flags:nn,xCoordinates:zt,yCoordinates:Vt})),Vt=[],nn=[])}return new dn({contours:hn,instructions:Ot})}getSize(){let tn=this.contours.length*2+2+this.instructions.length,bn=0,Wt=0;for(const Yt of this.contours){tn+=Yt.flags.length;for(let un=0,Ut=Yt.xCoordinates.length;un<Ut;un++){const Ot=Yt.xCoordinates[un],Ht=Yt.yCoordinates[un];let an=Math.abs(Ot-bn);an>255?tn+=2:an>0&&(tn+=1),bn=Ot,an=Math.abs(Ht-Wt),an>255?tn+=2:an>0&&(tn+=1),Wt=Ht}}return tn}write(tn,bn){const Wt=tn,Yt=[],un=[],Ut=[];let Ot=0,Ht=0;for(const an of this.contours){for(let zt=0,Vt=an.xCoordinates.length;zt<Vt;zt++){let nn=an.flags[zt];const hn=an.xCoordinates[zt];let on=hn-Ot;if(on===0)nn|=_e,Yt.push(0);else{const sn=Math.abs(on);sn<=255?(nn|=on>=0?wt|_e:wt,Yt.push(sn)):Yt.push(on)}Ot=hn;const cn=an.yCoordinates[zt];if(on=cn-Ht,on===0)nn|=bt,un.push(0);else{const sn=Math.abs(on);sn<=255?(nn|=on>=0?_t|bt:_t,un.push(sn)):un.push(on)}Ht=cn,Ut.push(nn)}bn.setUint16(tn,Yt.length-1),tn+=2}bn.setUint16(tn,this.instructions.length),tn+=2,this.instructions.length&&(new Uint8Array(bn.buffer,0,bn.buffer.byteLength).set(this.instructions,tn),tn+=this.instructions.length);for(const an of Ut)bn.setUint8(tn++,an);for(let an=0,zt=Yt.length;an<zt;an++){const Vt=Yt[an],nn=Ut[an];nn&wt?bn.setUint8(tn++,Vt):nn&_e||(bn.setInt16(tn,Vt),tn+=2)}for(let an=0,zt=un.length;an<zt;an++){const Vt=un[an],nn=Ut[an];nn&_t?bn.setUint8(tn++,Vt):nn&bt||(bn.setInt16(tn,Vt),tn+=2)}return tn-Wt}scale(tn,bn){for(const Wt of this.contours)if(Wt.xCoordinates.length!==0)for(let Yt=0,un=Wt.xCoordinates.length;Yt<un;Yt++)Wt.xCoordinates[Yt]=Math.round(tn+(Wt.xCoordinates[Yt]-tn)*bn)}}class Qt{constructor({flags:tn,glyphIndex:bn,argument1:Wt,argument2:Yt,transf:un,instructions:Ut}){this.flags=tn,this.glyphIndex=bn,this.argument1=Wt,this.argument2=Yt,this.transf=un,this.instructions=Ut}static parse(tn,bn){const Wt=tn,Yt=[];let un=bn.getUint16(tn);const Ut=bn.getUint16(tn+2);tn+=4;let Ot,Ht;un&Xt?(un&Kt?(Ot=bn.getInt16(tn),Ht=bn.getInt16(tn+2)):(Ot=bn.getUint16(tn),Ht=bn.getUint16(tn+2)),tn+=4,un^=Xt):(un&Kt?(Ot=bn.getInt8(tn),Ht=bn.getInt8(tn+1)):(Ot=bn.getUint8(tn),Ht=bn.getUint8(tn+1)),tn+=2),un&Nt?(Yt.push(bn.getUint16(tn)),tn+=2):un&Lt?(Yt.push(bn.getUint16(tn),bn.getUint16(tn+2)),tn+=4):un&jt&&(Yt.push(bn.getUint16(tn),bn.getUint16(tn+2),bn.getUint16(tn+4),bn.getUint16(tn+6)),tn+=8);let an=null;if(un&kt){const zt=bn.getUint16(tn);tn+=2,an=new Uint8Array(bn).slice(tn,tn+zt),tn+=zt}return[tn-Wt,new Qt({flags:un,glyphIndex:Ut,argument1:Ot,argument2:Ht,transf:Yt,instructions:an})]}getSize(){let tn=4+this.transf.length*2;return this.flags&kt&&(tn+=2+this.instructions.length),tn+=2,this.flags&2?this.argument1>=-128&&this.argument1<=127&&this.argument2>=-128&&this.argument2<=127||(tn+=2):this.argument1>=0&&this.argument1<=255&&this.argument2>=0&&this.argument2<=255||(tn+=2),tn}write(tn,bn){const Wt=tn;return this.flags&Kt?this.argument1>=-128&&this.argument1<=127&&this.argument2>=-128&&this.argument2<=127||(this.flags|=Xt):this.argument1>=0&&this.argument1<=255&&this.argument2>=0&&this.argument2<=255||(this.flags|=Xt),bn.setUint16(tn,this.flags),bn.setUint16(tn+2,this.glyphIndex),tn+=4,this.flags&Xt?(this.flags&Kt?(bn.setInt16(tn,this.argument1),bn.setInt16(tn+2,this.argument2)):(bn.setUint16(tn,this.argument1),bn.setUint16(tn+2,this.argument2)),tn+=4):(bn.setUint8(tn,this.argument1),bn.setUint8(tn+1,this.argument2),tn+=2),this.flags&kt&&(bn.setUint16(tn,this.instructions.length),tn+=2,this.instructions.length&&(new Uint8Array(bn.buffer,0,bn.buffer.byteLength).set(this.instructions,tn),tn+=this.instructions.length)),tn-Wt}scale(tn,bn){}}},(Ct,Et,Ft)=>{Object.defineProperty(Et,"__esModule",{value:!0}),Et.OpenTypeFileBuilder=void 0;var wt=Ft(3),_t=Ft(2);function Rt(Nt,$t,Lt){Nt[$t]=Lt>>8&255,Nt[$t+1]=Lt&255}function _e(Nt,$t,Lt){Nt[$t]=Lt>>24&255,Nt[$t+1]=Lt>>16&255,Nt[$t+2]=Lt>>8&255,Nt[$t+3]=Lt&255}function bt(Nt,$t,Lt){if(Lt instanceof Uint8Array)Nt.set(Lt,$t);else if(typeof Lt=="string")for(let jt=0,kt=Lt.length;jt<kt;jt++)Nt[$t++]=Lt.charCodeAt(jt)&255;else for(const jt of Lt)Nt[$t++]=jt&255}const Pt=12,Xt=16;class Kt{constructor($t){this.sfnt=$t,this.tables=Object.create(null)}static getSearchParams($t,Lt){let jt=1,kt=0;for(;(jt^$t)>jt;)jt<<=1,kt++;const qt=jt*Lt;return{range:qt,entry:kt,rangeShift:Lt*$t-qt}}toArray(){let $t=this.sfnt;const Lt=this.tables,jt=Object.keys(Lt);jt.sort();const kt=jt.length;let qt,Bt,Gt,en,dn,Qt=Pt+kt*Xt;const gn=[Qt];for(qt=0;qt<kt;qt++){en=Lt[jt[qt]];const Wt=(en.length+3&-4)>>>0;Qt+=Wt,gn.push(Qt)}const tn=new Uint8Array(Qt);for(qt=0;qt<kt;qt++)en=Lt[jt[qt]],bt(tn,gn[qt],en);$t==="true"&&($t=(0,_t.string32)(65536)),tn[0]=$t.charCodeAt(0)&255,tn[1]=$t.charCodeAt(1)&255,tn[2]=$t.charCodeAt(2)&255,tn[3]=$t.charCodeAt(3)&255,Rt(tn,4,kt);const bn=Kt.getSearchParams(kt,16);for(Rt(tn,6,bn.range),Rt(tn,8,bn.entry),Rt(tn,10,bn.rangeShift),Qt=Pt,qt=0;qt<kt;qt++){dn=jt[qt],tn[Qt]=dn.charCodeAt(0)&255,tn[Qt+1]=dn.charCodeAt(1)&255,tn[Qt+2]=dn.charCodeAt(2)&255,tn[Qt+3]=dn.charCodeAt(3)&255;let Wt=0;for(Bt=gn[qt],Gt=gn[qt+1];Bt<Gt;Bt+=4){const Yt=(0,wt.readUint32)(tn,Bt);Wt=Wt+Yt>>>0}_e(tn,Qt+4,Wt),_e(tn,Qt+8,gn[qt]),_e(tn,Qt+12,Lt[dn].length),Qt+=Xt}return tn}addTable($t,Lt){if($t in this.tables)throw new Error("Table "+$t+" already exists");this.tables[$t]=Lt}}Et.OpenTypeFileBuilder=Kt},(Ct,Et,Ft)=>{Object.defineProperty(Et,"__esModule",{value:!0}),Et.Type1Font=void 0;var wt=Ft(35),_t=Ft(2),Rt=Ft(38),_e=Ft(3),bt=Ft(8),Pt=Ft(49);function Xt(Lt,jt,kt){const qt=Lt.length,Bt=jt.length,Gt=qt-Bt;let en=kt,dn=!1;for(;en<Gt;){let Qt=0;for(;Qt<Bt&&Lt[en+Qt]===jt[Qt];)Qt++;if(Qt>=Bt){for(en+=Qt;en<qt&&(0,_e.isWhiteSpace)(Lt[en]);)en++;dn=!0;break}en++}return{found:dn,length:en}}function Kt(Lt,jt){const kt=[101,101,120,101,99],qt=Lt.pos;let Bt,Gt,en;try{Bt=Lt.getBytes(jt),Gt=Bt.length}catch{}if(Gt===jt&&(en=Xt(Bt,kt,jt-2*kt.length),en.found&&en.length===jt))return{stream:new bt.Stream(Bt),length:jt};(0,_t.warn)('Invalid "Length1" property in Type1 font -- trying to recover.'),Lt.pos=qt;const dn=2048;let Qt;for(;;){const gn=Lt.peekBytes(dn);if(en=Xt(gn,kt,0),en.length===0)break;if(Lt.pos+=en.length,en.found){Qt=Lt.pos-qt;break}}return Lt.pos=qt,Qt?{stream:new bt.Stream(Lt.getBytes(Qt)),length:Qt}:((0,_t.warn)('Unable to recover "Length1" property in Type1 font -- using as is.'),{stream:new bt.Stream(Lt.getBytes(jt)),length:jt})}function Nt(Lt,jt){const kt=Lt.getBytes();if(kt.length===0)throw new _t.FormatError("getEexecBlock - no font program found.");return{stream:new bt.Stream(kt),length:kt.length}}class $t{constructor(jt,kt,qt){let Gt=qt.length1;qt.length2;let en=kt.peekBytes(6);const dn=en[0]===128&&en[1]===1;dn&&(kt.skip(6),Gt=en[5]<<24|en[4]<<16|en[3]<<8|en[2]);const Qt=Kt(kt,Gt);new Pt.Type1Parser(Qt.stream,!1,Rt.SEAC_ANALYSIS_ENABLED).extractFontHeader(qt),dn&&(en=kt.getBytes(6),en[5]<<24|en[4]<<16|en[3]<<8|en[2]);const tn=Nt(kt),Wt=new Pt.Type1Parser(tn.stream,!0,Rt.SEAC_ANALYSIS_ENABLED).extractFontProgram(qt);for(const Ot in Wt.properties)qt[Ot]=Wt.properties[Ot];const Yt=Wt.charstrings,un=this.getType2Charstrings(Yt),Ut=this.getType2Subrs(Wt.subrs);this.charstrings=Yt,this.data=this.wrap(jt,un,this.charstrings,Ut,qt),this.seacs=this.getSeacs(Wt.charstrings)}get numGlyphs(){return this.charstrings.length+1}getCharset(){const jt=[".notdef"];for(const{glyphName:kt}of this.charstrings)jt.push(kt);return jt}getGlyphMapping(jt){const kt=this.charstrings;if(jt.composite){const dn=Object.create(null);for(let Qt=0,gn=kt.length;Qt<gn;Qt++){const tn=jt.cMap.charCodeOf(Qt);dn[tn]=Qt+1}return dn}const qt=[".notdef"];let Bt,Gt;for(Gt=0;Gt<kt.length;Gt++)qt.push(kt[Gt].glyphName);const en=jt.builtInEncoding;if(en){Bt=Object.create(null);for(const dn in en)Gt=qt.indexOf(en[dn]),Gt>=0&&(Bt[dn]=Gt)}return(0,Rt.type1FontGlyphMapping)(jt,Bt,qt)}hasGlyphId(jt){return jt<0||jt>=this.numGlyphs?!1:jt===0?!0:this.charstrings[jt-1].charstring.length>0}getSeacs(jt){const kt=[];for(let qt=0,Bt=jt.length;qt<Bt;qt++){const Gt=jt[qt];Gt.seac&&(kt[qt+1]=Gt.seac)}return kt}getType2Charstrings(jt){const kt=[];for(const qt of jt)kt.push(qt.charstring);return kt}getType2Subrs(jt){let kt=0;const qt=jt.length;qt<1133?kt=107:qt<33769?kt=1131:kt=32768;const Bt=[];let Gt;for(Gt=0;Gt<kt;Gt++)Bt.push([11]);for(Gt=0;Gt<qt;Gt++)Bt.push(jt[Gt]);return Bt}wrap(jt,kt,qt,Bt,Gt){const en=new wt.CFF;en.header=new wt.CFFHeader(1,0,4,4),en.names=[jt];const dn=new wt.CFFTopDict;dn.setByName("version",391),dn.setByName("Notice",392),dn.setByName("FullName",393),dn.setByName("FamilyName",394),dn.setByName("Weight",395),dn.setByName("Encoding",null),dn.setByName("FontMatrix",Gt.fontMatrix),dn.setByName("FontBBox",Gt.bbox),dn.setByName("charset",null),dn.setByName("CharStrings",null),dn.setByName("Private",null),en.topDict=dn;const Qt=new wt.CFFStrings;Qt.add("Version 0.11"),Qt.add("See original notice"),Qt.add(jt),Qt.add(jt),Qt.add("Medium"),en.strings=Qt,en.globalSubrIndex=new wt.CFFIndex;const gn=kt.length,tn=[".notdef"];let bn,Wt;for(bn=0;bn<gn;bn++){const an=qt[bn].glyphName;wt.CFFStandardStrings.indexOf(an)===-1&&Qt.add(an),tn.push(an)}en.charset=new wt.CFFCharset(!1,0,tn);const Yt=new wt.CFFIndex;for(Yt.add([139,14]),bn=0;bn<gn;bn++)Yt.add(kt[bn]);en.charStrings=Yt;const un=new wt.CFFPrivateDict;un.setByName("Subrs",null);const Ut=["BlueValues","OtherBlues","FamilyBlues","FamilyOtherBlues","StemSnapH","StemSnapV","BlueShift","BlueFuzz","BlueScale","LanguageGroup","ExpansionFactor","ForceBold","StdHW","StdVW"];for(bn=0,Wt=Ut.length;bn<Wt;bn++){const an=Ut[bn];if(!(an in Gt.privateData))continue;const zt=Gt.privateData[an];if(Array.isArray(zt))for(let Vt=zt.length-1;Vt>0;Vt--)zt[Vt]-=zt[Vt-1];un.setByName(an,zt)}en.topDict.privateDict=un;const Ot=new wt.CFFIndex;for(bn=0,Wt=Bt.length;bn<Wt;bn++)Ot.add(Bt[bn]);return un.subrsIndex=Ot,new wt.CFFCompiler(en).compile()}}Et.Type1Font=$t},(Ct,Et,Ft)=>{Object.defineProperty(Et,"__esModule",{value:!0}),Et.Type1Parser=void 0;var wt=Ft(37),_t=Ft(3),Rt=Ft(8),_e=Ft(2);const bt=!1,Pt={hstem:[1],vstem:[3],vmoveto:[4],rlineto:[5],hlineto:[6],vlineto:[7],rrcurveto:[8],callsubr:[10],flex:[12,35],drop:[12,18],endchar:[14],rmoveto:[21],hmoveto:[22],vhcurveto:[30],hvcurveto:[31]};class Xt{constructor(){this.width=0,this.lsb=0,this.flexing=!1,this.output=[],this.stack=[]}convert(Gt,en,dn){const Qt=Gt.length;let gn=!1,tn,bn,Wt;for(let Yt=0;Yt<Qt;Yt++){let un=Gt[Yt];if(un<32){switch(un===12&&(un=(un<<8)+Gt[++Yt]),un){case 1:{this.stack=[];break}case 3:{this.stack=[];break}case 4:if(this.flexing){if(this.stack.length<1){gn=!0;break}const zt=this.stack.pop();this.stack.push(0,zt);break}gn=this.executeCommand(1,Pt.vmoveto);break;case 5:gn=this.executeCommand(2,Pt.rlineto);break;case 6:gn=this.executeCommand(1,Pt.hlineto);break;case 7:gn=this.executeCommand(1,Pt.vlineto);break;case 8:gn=this.executeCommand(6,Pt.rrcurveto);break;case 9:this.stack=[];break;case 10:if(this.stack.length<1){gn=!0;break}if(Wt=this.stack.pop(),!en[Wt]){gn=!0;break}gn=this.convert(en[Wt],en,dn);break;case 11:return gn;case 13:if(this.stack.length<2){gn=!0;break}tn=this.stack.pop(),bn=this.stack.pop(),this.lsb=bn,this.width=tn,this.stack.push(tn,bn),gn=this.executeCommand(2,Pt.hmoveto);break;case 14:this.output.push(Pt.endchar[0]);break;case 21:if(this.flexing)break;gn=this.executeCommand(2,Pt.rmoveto);break;case 22:if(this.flexing){this.stack.push(0);break}gn=this.executeCommand(1,Pt.hmoveto);break;case 30:gn=this.executeCommand(4,Pt.vhcurveto);break;case 31:gn=this.executeCommand(4,Pt.hvcurveto);break;case 3072:this.stack=[];break;case 3073:{this.stack=[];break}case 3074:{this.stack=[];break}case 3078:if(dn){const zt=this.stack.at(-5);this.seac=this.stack.splice(-4,4),this.seac[0]+=this.lsb-zt,gn=this.executeCommand(0,Pt.endchar)}else gn=this.executeCommand(4,Pt.endchar);break;case 3079:if(this.stack.length<4){gn=!0;break}this.stack.pop(),tn=this.stack.pop();const Ut=this.stack.pop();bn=this.stack.pop(),this.lsb=bn,this.width=tn,this.stack.push(tn,bn,Ut),gn=this.executeCommand(3,Pt.rmoveto);break;case 3084:if(this.stack.length<2){gn=!0;break}const Ot=this.stack.pop(),Ht=this.stack.pop();this.stack.push(Ht/Ot);break;case 3088:if(this.stack.length<2){gn=!0;break}Wt=this.stack.pop();const an=this.stack.pop();if(Wt===0&&an===3){const zt=this.stack.splice(-17,17);this.stack.push(zt[2]+zt[0],zt[3]+zt[1],zt[4],zt[5],zt[6],zt[7],zt[8],zt[9],zt[10],zt[11],zt[12],zt[13],zt[14]),gn=this.executeCommand(13,Pt.flex,!0),this.flexing=!1,this.stack.push(zt[15],zt[16])}else Wt===1&&an===0&&(this.flexing=!0);break;case 3089:break;case 3105:this.stack=[];break;default:(0,_e.warn)('Unknown type 1 charstring command of "'+un+'"');break}if(gn)break;continue}else un<=246?un-=139:un<=250?un=(un-247)*256+Gt[++Yt]+108:un<=254?un=-((un-251)*256)-Gt[++Yt]-108:un=(Gt[++Yt]&255)<<24|(Gt[++Yt]&255)<<16|(Gt[++Yt]&255)<<8|(Gt[++Yt]&255)<<0;this.stack.push(un)}return gn}executeCommand(Gt,en,dn){const Qt=this.stack.length;if(Gt>Qt)return!0;const gn=Qt-Gt;for(let tn=gn;tn<Qt;tn++){let bn=this.stack[tn];Number.isInteger(bn)?this.output.push(28,bn>>8&255,bn&255):(bn=65536*bn|0,this.output.push(255,bn>>24&255,bn>>16&255,bn>>8&255,bn&255))}return this.output.push(...en),dn?this.stack.splice(gn,Gt):this.stack.length=0,!1}}const Kt=55665,Nt=4330;function $t(Bt){return Bt>=48&&Bt<=57||Bt>=65&&Bt<=70||Bt>=97&&Bt<=102}function Lt(Bt,Gt,en){if(en>=Bt.length)return new Uint8Array(0);const dn=52845,Qt=22719;let gn=Gt|0,tn,bn;for(tn=0;tn<en;tn++)gn=(Bt[tn]+gn)*dn+Qt&65535;const Wt=Bt.length-en,Yt=new Uint8Array(Wt);for(tn=en,bn=0;bn<Wt;tn++,bn++){const un=Bt[tn];Yt[bn]=un^gn>>8,gn=(un+gn)*dn+Qt&65535}return Yt}function jt(Bt,Gt,en){let gn=Gt|0;const tn=Bt.length,bn=tn>>>1,Wt=new Uint8Array(bn);let Yt,un;for(Yt=0,un=0;Yt<tn;Yt++){const Ut=Bt[Yt];if(!$t(Ut))continue;Yt++;let Ot;for(;Yt<tn&&!$t(Ot=Bt[Yt]);)Yt++;if(Yt<tn){const Ht=parseInt(String.fromCharCode(Ut,Ot),16);Wt[un++]=Ht^gn>>8,gn=(Ht+gn)*52845+22719&65535}}return Wt.slice(en,un)}function kt(Bt){return Bt===47||Bt===91||Bt===93||Bt===123||Bt===125||Bt===40||Bt===41}class qt{constructor(Gt,en,dn){if(en){const Qt=Gt.getBytes(),gn=!(($t(Qt[0])||(0,_t.isWhiteSpace)(Qt[0]))&&$t(Qt[1])&&$t(Qt[2])&&$t(Qt[3])&&$t(Qt[4])&&$t(Qt[5])&&$t(Qt[6])&&$t(Qt[7]));Gt=new Rt.Stream(gn?Lt(Qt,Kt,4):jt(Qt,Kt,4))}this.seacAnalysisEnabled=!!dn,this.stream=Gt,this.nextChar()}readNumberArray(){this.getToken();const Gt=[];for(;;){const en=this.getToken();if(en===null||en==="]"||en==="}")break;Gt.push(parseFloat(en||0))}return Gt}readNumber(){const Gt=this.getToken();return parseFloat(Gt||0)}readInt(){const Gt=this.getToken();return parseInt(Gt||0,10)|0}readBoolean(){return this.getToken()==="true"?1:0}nextChar(){return this.currentChar=this.stream.getByte()}prevChar(){return this.stream.skip(-2),this.currentChar=this.stream.getByte()}getToken(){let Gt=!1,en=this.currentChar;for(;;){if(en===-1)return null;if(Gt)(en===10||en===13)&&(Gt=!1);else if(en===37)Gt=!0;else if(!(0,_t.isWhiteSpace)(en))break;en=this.nextChar()}if(kt(en))return this.nextChar(),String.fromCharCode(en);let dn="";do dn+=String.fromCharCode(en),en=this.nextChar();while(en>=0&&!(0,_t.isWhiteSpace)(en)&&!kt(en));return dn}readCharStrings(Gt,en){return en===-1?Gt:Lt(Gt,Nt,en)}extractFontProgram(Gt){const en=this.stream,dn=[],Qt=[],gn=Object.create(null);gn.lenIV=4;const tn={subrs:[],charstrings:[],properties:{privateData:gn}};let bn,Wt,Yt,un;for(;(bn=this.getToken())!==null;)if(bn==="/")switch(bn=this.getToken(),bn){case"CharStrings":for(this.getToken(),this.getToken(),this.getToken(),this.getToken();bn=this.getToken(),!(bn===null||bn==="end");){if(bn!=="/")continue;const Ot=this.getToken();Wt=this.readInt(),this.getToken(),Yt=Wt>0?en.getBytes(Wt):new Uint8Array(0),un=tn.properties.privateData.lenIV;const Ht=this.readCharStrings(Yt,un);this.nextChar(),bn=this.getToken(),bn==="noaccess"?this.getToken():bn==="/"&&this.prevChar(),Qt.push({glyph:Ot,encoded:Ht})}break;case"Subrs":for(this.readInt(),this.getToken();this.getToken()==="dup";){const Ot=this.readInt();Wt=this.readInt(),this.getToken(),Yt=Wt>0?en.getBytes(Wt):new Uint8Array(0),un=tn.properties.privateData.lenIV;const Ht=this.readCharStrings(Yt,un);this.nextChar(),bn=this.getToken(),bn==="noaccess"&&this.getToken(),dn[Ot]=Ht}break;case"BlueValues":case"OtherBlues":case"FamilyBlues":case"FamilyOtherBlues":const Ut=this.readNumberArray();Ut.length>0&&Ut.length%2===0&&bt&&(tn.properties.privateData[bn]=Ut);break;case"StemSnapH":case"StemSnapV":tn.properties.privateData[bn]=this.readNumberArray();break;case"StdHW":case"StdVW":tn.properties.privateData[bn]=this.readNumberArray()[0];break;case"BlueShift":case"lenIV":case"BlueFuzz":case"BlueScale":case"LanguageGroup":tn.properties.privateData[bn]=this.readNumber();break;case"ExpansionFactor":tn.properties.privateData[bn]=this.readNumber()||.06;break;case"ForceBold":tn.properties.privateData[bn]=this.readBoolean();break}for(const{encoded:Ut,glyph:Ot}of Qt){const Ht=new Xt,an=Ht.convert(Ut,dn,this.seacAnalysisEnabled);let zt=Ht.output;an&&(zt=[14]);const Vt={glyphName:Ot,charstring:zt,width:Ht.width,lsb:Ht.lsb,seac:Ht.seac};if(Ot===".notdef"?tn.charstrings.unshift(Vt):tn.charstrings.push(Vt),Gt.builtInEncoding){const nn=Gt.builtInEncoding.indexOf(Ot);nn>-1&&Gt.widths[nn]===void 0&&nn>=Gt.firstChar&&nn<=Gt.lastChar&&(Gt.widths[nn]=Ht.width)}}return tn}extractFontHeader(Gt){let en;for(;(en=this.getToken())!==null;)if(en==="/")switch(en=this.getToken(),en){case"FontMatrix":const dn=this.readNumberArray();Gt.fontMatrix=dn;break;case"Encoding":const Qt=this.getToken();let gn;if(!/^\d+$/.test(Qt))gn=(0,wt.getEncoding)(Qt);else{gn=[];const bn=parseInt(Qt,10)|0;this.getToken();for(let Wt=0;Wt<bn;Wt++){for(en=this.getToken();en!=="dup"&&en!=="def";)if(en=this.getToken(),en===null)return;if(en==="def")break;const Yt=this.readInt();this.getToken();const un=this.getToken();gn[Yt]=un,this.getToken()}}Gt.builtInEncoding=gn;break;case"FontBBox":const tn=this.readNumberArray();Gt.ascent=Math.max(tn[3],tn[1]),Gt.descent=Math.min(tn[1],tn[3]),Gt.ascentScaled=!0;break}}}Et.Type1Parser=qt},(Ct,Et,Ft)=>{Object.defineProperty(Et,"__esModule",{value:!0}),Et.Pattern=void 0,Et.clearPatternCaches=kt,Et.getTilingPatternIR=Gt;var wt=Ft(2),_t=Ft(5),Rt=Ft(12),_e=Ft(3);const bt={FUNCTION_BASED:1,AXIAL:2,RADIAL:3,FREE_FORM_MESH:4,LATTICE_FORM_MESH:5,COONS_PATCH_MESH:6,TENSOR_PATCH_MESH:7};class Pt{constructor(){(0,wt.unreachable)("Cannot initialize Pattern.")}static parseShading(gn,tn,bn,Wt,Yt){const un=gn instanceof _t.BaseStream?gn.dict:gn,Ut=un.get("ShadingType");try{switch(Ut){case bt.AXIAL:case bt.RADIAL:return new Kt(un,tn,bn,Wt,Yt);case bt.FREE_FORM_MESH:case bt.LATTICE_FORM_MESH:case bt.COONS_PATCH_MESH:case bt.TENSOR_PATCH_MESH:return new qt(gn,tn,bn,Wt,Yt);default:throw new wt.FormatError("Unsupported ShadingType: "+Ut)}}catch(Ot){if(Ot instanceof _e.MissingDataException)throw Ot;return(0,wt.warn)(Ot),new Bt}}}Et.Pattern=Pt;const en=class en{constructor(){this.constructor===en&&(0,wt.unreachable)("Cannot initialize BaseShading.")}getIR(){(0,wt.unreachable)("Abstract method `getIR` called.")}};Ur(en,"SMALL_NUMBER",1e-6);let Xt=en;class Kt extends Xt{constructor(gn,tn,bn,Wt,Yt){super(),this.coordsArr=gn.getArray("Coords"),this.shadingType=gn.get("ShadingType");const un=Rt.ColorSpace.parse({cs:gn.getRaw("CS")||gn.getRaw("ColorSpace"),xref:tn,resources:bn,pdfFunctionFactory:Wt,localColorSpaceCache:Yt}),Ut=gn.getArray("BBox");this.bbox=Array.isArray(Ut)&&Ut.length===4?wt.Util.normalizeRect(Ut):null;let Ot=0,Ht=1;if(gn.has("Domain")){const Fn=gn.getArray("Domain");Ot=Fn[0],Ht=Fn[1]}let an=!1,zt=!1;if(gn.has("Extend")){const Fn=gn.getArray("Extend");an=Fn[0],zt=Fn[1]}if(this.shadingType===bt.RADIAL&&(!an||!zt)){const[Fn,En,An,Tn,In,Rn]=this.coordsArr,Dn=Math.hypot(Fn-Tn,En-In);An<=Rn+Dn&&Rn<=An+Dn&&(0,wt.warn)("Unsupported radial gradient.")}this.extendStart=an,this.extendEnd=zt;const Vt=gn.getRaw("Function"),nn=Wt.createFromArray(Vt),hn=840,on=(Ht-Ot)/hn,cn=this.colorStops=[];if(Ot>=Ht||on<=0){(0,wt.info)("Bad shading domain.");return}const sn=new Float32Array(un.numComps),rn=new Float32Array(1);let xn,vn=0;rn[0]=Ot,nn(rn,0,sn,0);let kn=un.getRgb(sn,0);const Pn=wt.Util.makeHexColor(kn[0],kn[1],kn[2]);cn.push([0,Pn]);let On=1;rn[0]=Ot+on,nn(rn,0,sn,0);let _n=un.getRgb(sn,0),Sn=_n[0]-kn[0]+1,mn=_n[1]-kn[1]+1,fn=_n[2]-kn[2]+1,Jt=_n[0]-kn[0]-1,ln=_n[1]-kn[1]-1,pn=_n[2]-kn[2]-1;for(let Fn=2;Fn<hn;Fn++){rn[0]=Ot+Fn*on,nn(rn,0,sn,0),xn=un.getRgb(sn,0);const En=Fn-vn;if(Sn=Math.min(Sn,(xn[0]-kn[0]+1)/En),mn=Math.min(mn,(xn[1]-kn[1]+1)/En),fn=Math.min(fn,(xn[2]-kn[2]+1)/En),Jt=Math.max(Jt,(xn[0]-kn[0]-1)/En),ln=Math.max(ln,(xn[1]-kn[1]-1)/En),pn=Math.max(pn,(xn[2]-kn[2]-1)/En),!(Jt<=Sn&&ln<=mn&&pn<=fn)){const Tn=wt.Util.makeHexColor(_n[0],_n[1],_n[2]);cn.push([On/hn,Tn]),Sn=xn[0]-_n[0]+1,mn=xn[1]-_n[1]+1,fn=xn[2]-_n[2]+1,Jt=xn[0]-_n[0]-1,ln=xn[1]-_n[1]-1,pn=xn[2]-_n[2]-1,vn=On,kn=_n}On=Fn,_n=xn}const wn=wt.Util.makeHexColor(_n[0],_n[1],_n[2]);cn.push([1,wn]);let Cn="transparent";gn.has("Background")&&(xn=un.getRgb(gn.get("Background"),0),Cn=wt.Util.makeHexColor(xn[0],xn[1],xn[2])),an||(cn.unshift([0,Cn]),cn[1][0]+=Xt.SMALL_NUMBER),zt||(cn.at(-1)[0]-=Xt.SMALL_NUMBER,cn.push([1,Cn])),this.colorStops=cn}getIR(){const gn=this.coordsArr,tn=this.shadingType;let bn,Wt,Yt,un,Ut;return tn===bt.AXIAL?(Wt=[gn[0],gn[1]],Yt=[gn[2],gn[3]],un=null,Ut=null,bn="axial"):tn===bt.RADIAL?(Wt=[gn[0],gn[1]],Yt=[gn[3],gn[4]],un=gn[2],Ut=gn[5],bn="radial"):(0,wt.unreachable)(`getPattern type unknown: ${tn}`),["RadialAxial",bn,this.bbox,this.colorStops,Wt,Yt,un,Ut]}}class Nt{constructor(gn,tn){this.stream=gn,this.context=tn,this.buffer=0,this.bufferLength=0;const bn=tn.numComps;this.tmpCompsBuf=new Float32Array(bn);const Wt=tn.colorSpace.numComps;this.tmpCsCompsBuf=tn.colorFn?new Float32Array(Wt):this.tmpCompsBuf}get hasData(){if(this.stream.end)return this.stream.pos<this.stream.end;if(this.bufferLength>0)return!0;const gn=this.stream.getByte();return gn<0?!1:(this.buffer=gn,this.bufferLength=8,!0)}readBits(gn){let tn=this.buffer,bn=this.bufferLength;if(gn===32){if(bn===0)return(this.stream.getByte()<<24|this.stream.getByte()<<16|this.stream.getByte()<<8|this.stream.getByte())>>>0;tn=tn<<24|this.stream.getByte()<<16|this.stream.getByte()<<8|this.stream.getByte();const Wt=this.stream.getByte();return this.buffer=Wt&(1<<bn)-1,(tn<<8-bn|(Wt&255)>>bn)>>>0}if(gn===8&&bn===0)return this.stream.getByte();for(;bn<gn;)tn=tn<<8|this.stream.getByte(),bn+=8;return bn-=gn,this.bufferLength=bn,this.buffer=tn&(1<<bn)-1,tn>>bn}align(){this.buffer=0,this.bufferLength=0}readFlag(){return this.readBits(this.context.bitsPerFlag)}readCoordinate(){const gn=this.context.bitsPerCoordinate,tn=this.readBits(gn),bn=this.readBits(gn),Wt=this.context.decode,Yt=gn<32?1/((1<<gn)-1):23283064365386963e-26;return[tn*Yt*(Wt[1]-Wt[0])+Wt[0],bn*Yt*(Wt[3]-Wt[2])+Wt[2]]}readComponents(){const gn=this.context.numComps,tn=this.context.bitsPerComponent,bn=tn<32?1/((1<<tn)-1):23283064365386963e-26,Wt=this.context.decode,Yt=this.tmpCompsBuf;for(let Ut=0,Ot=4;Ut<gn;Ut++,Ot+=2){const Ht=this.readBits(tn);Yt[Ut]=Ht*bn*(Wt[Ot+1]-Wt[Ot])+Wt[Ot]}const un=this.tmpCsCompsBuf;return this.context.colorFn&&this.context.colorFn(Yt,0,un,0),this.context.colorSpace.getRgb(un,0)}}let $t=Object.create(null);function Lt(Qt){const gn=[];for(let tn=0;tn<=Qt;tn++){const bn=tn/Qt,Wt=1-bn;gn.push(new Float32Array([Wt**3,3*bn*Wt**2,3*bn**2*Wt,bn**3]))}return gn}function jt(Qt){return $t[Qt]||($t[Qt]=Lt(Qt))}function kt(){$t=Object.create(null)}const dn=class dn extends Xt{constructor(gn,tn,bn,Wt,Yt){if(super(),!(gn instanceof _t.BaseStream))throw new wt.FormatError("Mesh data is not a stream");const un=gn.dict;this.shadingType=un.get("ShadingType");const Ut=un.getArray("BBox");this.bbox=Array.isArray(Ut)&&Ut.length===4?wt.Util.normalizeRect(Ut):null;const Ot=Rt.ColorSpace.parse({cs:un.getRaw("CS")||un.getRaw("ColorSpace"),xref:tn,resources:bn,pdfFunctionFactory:Wt,localColorSpaceCache:Yt});this.background=un.has("Background")?Ot.getRgb(un.get("Background"),0):null;const Ht=un.getRaw("Function"),an=Ht?Wt.createFromArray(Ht):null;this.coords=[],this.colors=[],this.figures=[];const zt={bitsPerCoordinate:un.get("BitsPerCoordinate"),bitsPerComponent:un.get("BitsPerComponent"),bitsPerFlag:un.get("BitsPerFlag"),decode:un.getArray("Decode"),colorFn:an,colorSpace:Ot,numComps:an?1:Ot.numComps},Vt=new Nt(gn,zt);let nn=!1;switch(this.shadingType){case bt.FREE_FORM_MESH:this._decodeType4Shading(Vt);break;case bt.LATTICE_FORM_MESH:const hn=un.get("VerticesPerRow")|0;if(hn<2)throw new wt.FormatError("Invalid VerticesPerRow");this._decodeType5Shading(Vt,hn);break;case bt.COONS_PATCH_MESH:this._decodeType6Shading(Vt),nn=!0;break;case bt.TENSOR_PATCH_MESH:this._decodeType7Shading(Vt),nn=!0;break;default:(0,wt.unreachable)("Unsupported mesh type.");break}if(nn){this._updateBounds();for(let hn=0,on=this.figures.length;hn<on;hn++)this._buildFigureFromPatch(hn)}this._updateBounds(),this._packData()}_decodeType4Shading(gn){const tn=this.coords,bn=this.colors,Wt=[];let Yt=0;for(;gn.hasData;){const un=gn.readFlag(),Ut=gn.readCoordinate(),Ot=gn.readComponents();if(Yt===0){if(!(0<=un&&un<=2))throw new wt.FormatError("Unknown type4 flag");switch(un){case 0:Yt=3;break;case 1:Wt.push(Wt.at(-2),Wt.at(-1)),Yt=1;break;case 2:Wt.push(Wt.at(-3),Wt.at(-1)),Yt=1;break}}Wt.push(tn.length),tn.push(Ut),bn.push(Ot),Yt--,gn.align()}this.figures.push({type:"triangles",coords:new Int32Array(Wt),colors:new Int32Array(Wt)})}_decodeType5Shading(gn,tn){const bn=this.coords,Wt=this.colors,Yt=[];for(;gn.hasData;){const un=gn.readCoordinate(),Ut=gn.readComponents();Yt.push(bn.length),bn.push(un),Wt.push(Ut)}this.figures.push({type:"lattice",coords:new Int32Array(Yt),colors:new Int32Array(Yt),verticesPerRow:tn})}_decodeType6Shading(gn){const tn=this.coords,bn=this.colors,Wt=new Int32Array(16),Yt=new Int32Array(4);for(;gn.hasData;){const un=gn.readFlag();if(!(0<=un&&un<=3))throw new wt.FormatError("Unknown type6 flag");const Ut=tn.length;for(let nn=0,hn=un!==0?8:12;nn<hn;nn++)tn.push(gn.readCoordinate());const Ot=bn.length;for(let nn=0,hn=un!==0?2:4;nn<hn;nn++)bn.push(gn.readComponents());let Ht,an,zt,Vt;switch(un){case 0:Wt[12]=Ut+3,Wt[13]=Ut+4,Wt[14]=Ut+5,Wt[15]=Ut+6,Wt[8]=Ut+2,Wt[11]=Ut+7,Wt[4]=Ut+1,Wt[7]=Ut+8,Wt[0]=Ut,Wt[1]=Ut+11,Wt[2]=Ut+10,Wt[3]=Ut+9,Yt[2]=Ot+1,Yt[3]=Ot+2,Yt[0]=Ot,Yt[1]=Ot+3;break;case 1:Ht=Wt[12],an=Wt[13],zt=Wt[14],Vt=Wt[15],Wt[12]=Vt,Wt[13]=Ut+0,Wt[14]=Ut+1,Wt[15]=Ut+2,Wt[8]=zt,Wt[11]=Ut+3,Wt[4]=an,Wt[7]=Ut+4,Wt[0]=Ht,Wt[1]=Ut+7,Wt[2]=Ut+6,Wt[3]=Ut+5,Ht=Yt[2],an=Yt[3],Yt[2]=an,Yt[3]=Ot,Yt[0]=Ht,Yt[1]=Ot+1;break;case 2:Ht=Wt[15],an=Wt[11],Wt[12]=Wt[3],Wt[13]=Ut+0,Wt[14]=Ut+1,Wt[15]=Ut+2,Wt[8]=Wt[7],Wt[11]=Ut+3,Wt[4]=an,Wt[7]=Ut+4,Wt[0]=Ht,Wt[1]=Ut+7,Wt[2]=Ut+6,Wt[3]=Ut+5,Ht=Yt[3],Yt[2]=Yt[1],Yt[3]=Ot,Yt[0]=Ht,Yt[1]=Ot+1;break;case 3:Wt[12]=Wt[0],Wt[13]=Ut+0,Wt[14]=Ut+1,Wt[15]=Ut+2,Wt[8]=Wt[1],Wt[11]=Ut+3,Wt[4]=Wt[2],Wt[7]=Ut+4,Wt[0]=Wt[3],Wt[1]=Ut+7,Wt[2]=Ut+6,Wt[3]=Ut+5,Yt[2]=Yt[0],Yt[3]=Ot,Yt[0]=Yt[1],Yt[1]=Ot+1;break}Wt[5]=tn.length,tn.push([(-4*tn[Wt[0]][0]-tn[Wt[15]][0]+6*(tn[Wt[4]][0]+tn[Wt[1]][0])-2*(tn[Wt[12]][0]+tn[Wt[3]][0])+3*(tn[Wt[13]][0]+tn[Wt[7]][0]))/9,(-4*tn[Wt[0]][1]-tn[Wt[15]][1]+6*(tn[Wt[4]][1]+tn[Wt[1]][1])-2*(tn[Wt[12]][1]+tn[Wt[3]][1])+3*(tn[Wt[13]][1]+tn[Wt[7]][1]))/9]),Wt[6]=tn.length,tn.push([(-4*tn[Wt[3]][0]-tn[Wt[12]][0]+6*(tn[Wt[2]][0]+tn[Wt[7]][0])-2*(tn[Wt[0]][0]+tn[Wt[15]][0])+3*(tn[Wt[4]][0]+tn[Wt[14]][0]))/9,(-4*tn[Wt[3]][1]-tn[Wt[12]][1]+6*(tn[Wt[2]][1]+tn[Wt[7]][1])-2*(tn[Wt[0]][1]+tn[Wt[15]][1])+3*(tn[Wt[4]][1]+tn[Wt[14]][1]))/9]),Wt[9]=tn.length,tn.push([(-4*tn[Wt[12]][0]-tn[Wt[3]][0]+6*(tn[Wt[8]][0]+tn[Wt[13]][0])-2*(tn[Wt[0]][0]+tn[Wt[15]][0])+3*(tn[Wt[11]][0]+tn[Wt[1]][0]))/9,(-4*tn[Wt[12]][1]-tn[Wt[3]][1]+6*(tn[Wt[8]][1]+tn[Wt[13]][1])-2*(tn[Wt[0]][1]+tn[Wt[15]][1])+3*(tn[Wt[11]][1]+tn[Wt[1]][1]))/9]),Wt[10]=tn.length,tn.push([(-4*tn[Wt[15]][0]-tn[Wt[0]][0]+6*(tn[Wt[11]][0]+tn[Wt[14]][0])-2*(tn[Wt[12]][0]+tn[Wt[3]][0])+3*(tn[Wt[2]][0]+tn[Wt[8]][0]))/9,(-4*tn[Wt[15]][1]-tn[Wt[0]][1]+6*(tn[Wt[11]][1]+tn[Wt[14]][1])-2*(tn[Wt[12]][1]+tn[Wt[3]][1])+3*(tn[Wt[2]][1]+tn[Wt[8]][1]))/9]),this.figures.push({type:"patch",coords:new Int32Array(Wt),colors:new Int32Array(Yt)})}}_decodeType7Shading(gn){const tn=this.coords,bn=this.colors,Wt=new Int32Array(16),Yt=new Int32Array(4);for(;gn.hasData;){const un=gn.readFlag();if(!(0<=un&&un<=3))throw new wt.FormatError("Unknown type7 flag");const Ut=tn.length;for(let nn=0,hn=un!==0?12:16;nn<hn;nn++)tn.push(gn.readCoordinate());const Ot=bn.length;for(let nn=0,hn=un!==0?2:4;nn<hn;nn++)bn.push(gn.readComponents());let Ht,an,zt,Vt;switch(un){case 0:Wt[12]=Ut+3,Wt[13]=Ut+4,Wt[14]=Ut+5,Wt[15]=Ut+6,Wt[8]=Ut+2,Wt[9]=Ut+13,Wt[10]=Ut+14,Wt[11]=Ut+7,Wt[4]=Ut+1,Wt[5]=Ut+12,Wt[6]=Ut+15,Wt[7]=Ut+8,Wt[0]=Ut,Wt[1]=Ut+11,Wt[2]=Ut+10,Wt[3]=Ut+9,Yt[2]=Ot+1,Yt[3]=Ot+2,Yt[0]=Ot,Yt[1]=Ot+3;break;case 1:Ht=Wt[12],an=Wt[13],zt=Wt[14],Vt=Wt[15],Wt[12]=Vt,Wt[13]=Ut+0,Wt[14]=Ut+1,Wt[15]=Ut+2,Wt[8]=zt,Wt[9]=Ut+9,Wt[10]=Ut+10,Wt[11]=Ut+3,Wt[4]=an,Wt[5]=Ut+8,Wt[6]=Ut+11,Wt[7]=Ut+4,Wt[0]=Ht,Wt[1]=Ut+7,Wt[2]=Ut+6,Wt[3]=Ut+5,Ht=Yt[2],an=Yt[3],Yt[2]=an,Yt[3]=Ot,Yt[0]=Ht,Yt[1]=Ot+1;break;case 2:Ht=Wt[15],an=Wt[11],Wt[12]=Wt[3],Wt[13]=Ut+0,Wt[14]=Ut+1,Wt[15]=Ut+2,Wt[8]=Wt[7],Wt[9]=Ut+9,Wt[10]=Ut+10,Wt[11]=Ut+3,Wt[4]=an,Wt[5]=Ut+8,Wt[6]=Ut+11,Wt[7]=Ut+4,Wt[0]=Ht,Wt[1]=Ut+7,Wt[2]=Ut+6,Wt[3]=Ut+5,Ht=Yt[3],Yt[2]=Yt[1],Yt[3]=Ot,Yt[0]=Ht,Yt[1]=Ot+1;break;case 3:Wt[12]=Wt[0],Wt[13]=Ut+0,Wt[14]=Ut+1,Wt[15]=Ut+2,Wt[8]=Wt[1],Wt[9]=Ut+9,Wt[10]=Ut+10,Wt[11]=Ut+3,Wt[4]=Wt[2],Wt[5]=Ut+8,Wt[6]=Ut+11,Wt[7]=Ut+4,Wt[0]=Wt[3],Wt[1]=Ut+7,Wt[2]=Ut+6,Wt[3]=Ut+5,Yt[2]=Yt[0],Yt[3]=Ot,Yt[0]=Yt[1],Yt[1]=Ot+1;break}this.figures.push({type:"patch",coords:new Int32Array(Wt),colors:new Int32Array(Yt)})}}_buildFigureFromPatch(gn){const tn=this.figures[gn];(0,wt.assert)(tn.type==="patch","Unexpected patch mesh figure");const bn=this.coords,Wt=this.colors,Yt=tn.coords,un=tn.colors,Ut=Math.min(bn[Yt[0]][0],bn[Yt[3]][0],bn[Yt[12]][0],bn[Yt[15]][0]),Ot=Math.min(bn[Yt[0]][1],bn[Yt[3]][1],bn[Yt[12]][1],bn[Yt[15]][1]),Ht=Math.max(bn[Yt[0]][0],bn[Yt[3]][0],bn[Yt[12]][0],bn[Yt[15]][0]),an=Math.max(bn[Yt[0]][1],bn[Yt[3]][1],bn[Yt[12]][1],bn[Yt[15]][1]);let zt=Math.ceil((Ht-Ut)*dn.TRIANGLE_DENSITY/(this.bounds[2]-this.bounds[0]));zt=Math.max(dn.MIN_SPLIT_PATCH_CHUNKS_AMOUNT,Math.min(dn.MAX_SPLIT_PATCH_CHUNKS_AMOUNT,zt));let Vt=Math.ceil((an-Ot)*dn.TRIANGLE_DENSITY/(this.bounds[3]-this.bounds[1]));Vt=Math.max(dn.MIN_SPLIT_PATCH_CHUNKS_AMOUNT,Math.min(dn.MAX_SPLIT_PATCH_CHUNKS_AMOUNT,Vt));const nn=zt+1,hn=new Int32Array((Vt+1)*nn),on=new Int32Array((Vt+1)*nn);let cn=0;const sn=new Uint8Array(3),rn=new Uint8Array(3),xn=Wt[un[0]],vn=Wt[un[1]],kn=Wt[un[2]],Pn=Wt[un[3]],On=jt(Vt),_n=jt(zt);for(let Sn=0;Sn<=Vt;Sn++){sn[0]=(xn[0]*(Vt-Sn)+kn[0]*Sn)/Vt|0,sn[1]=(xn[1]*(Vt-Sn)+kn[1]*Sn)/Vt|0,sn[2]=(xn[2]*(Vt-Sn)+kn[2]*Sn)/Vt|0,rn[0]=(vn[0]*(Vt-Sn)+Pn[0]*Sn)/Vt|0,rn[1]=(vn[1]*(Vt-Sn)+Pn[1]*Sn)/Vt|0,rn[2]=(vn[2]*(Vt-Sn)+Pn[2]*Sn)/Vt|0;for(let mn=0;mn<=zt;mn++,cn++){if((Sn===0||Sn===Vt)&&(mn===0||mn===zt))continue;let fn=0,Jt=0,ln=0;for(let wn=0;wn<=3;wn++)for(let Cn=0;Cn<=3;Cn++,ln++){const Fn=On[Sn][wn]*_n[mn][Cn];fn+=bn[Yt[ln]][0]*Fn,Jt+=bn[Yt[ln]][1]*Fn}hn[cn]=bn.length,bn.push([fn,Jt]),on[cn]=Wt.length;const pn=new Uint8Array(3);pn[0]=(sn[0]*(zt-mn)+rn[0]*mn)/zt|0,pn[1]=(sn[1]*(zt-mn)+rn[1]*mn)/zt|0,pn[2]=(sn[2]*(zt-mn)+rn[2]*mn)/zt|0,Wt.push(pn)}}hn[0]=Yt[0],on[0]=un[0],hn[zt]=Yt[3],on[zt]=un[1],hn[nn*Vt]=Yt[12],on[nn*Vt]=un[2],hn[nn*Vt+zt]=Yt[15],on[nn*Vt+zt]=un[3],this.figures[gn]={type:"lattice",coords:hn,colors:on,verticesPerRow:nn}}_updateBounds(){let gn=this.coords[0][0],tn=this.coords[0][1],bn=gn,Wt=tn;for(let Yt=1,un=this.coords.length;Yt<un;Yt++){const Ut=this.coords[Yt][0],Ot=this.coords[Yt][1];gn=gn>Ut?Ut:gn,tn=tn>Ot?Ot:tn,bn=bn<Ut?Ut:bn,Wt=Wt<Ot?Ot:Wt}this.bounds=[gn,tn,bn,Wt]}_packData(){let gn,tn,bn,Wt;const Yt=this.coords,un=new Float32Array(Yt.length*2);for(gn=0,bn=0,tn=Yt.length;gn<tn;gn++){const an=Yt[gn];un[bn++]=an[0],un[bn++]=an[1]}this.coords=un;const Ut=this.colors,Ot=new Uint8Array(Ut.length*3);for(gn=0,bn=0,tn=Ut.length;gn<tn;gn++){const an=Ut[gn];Ot[bn++]=an[0],Ot[bn++]=an[1],Ot[bn++]=an[2]}this.colors=Ot;const Ht=this.figures;for(gn=0,tn=Ht.length;gn<tn;gn++){const an=Ht[gn],zt=an.coords,Vt=an.colors;for(bn=0,Wt=zt.length;bn<Wt;bn++)zt[bn]*=2,Vt[bn]*=3}}getIR(){return["Mesh",this.shadingType,this.coords,this.colors,this.figures,this.bounds,this.bbox,this.background]}};Ur(dn,"MIN_SPLIT_PATCH_CHUNKS_AMOUNT",3),Ur(dn,"MAX_SPLIT_PATCH_CHUNKS_AMOUNT",20),Ur(dn,"TRIANGLE_DENSITY",20);let qt=dn;class Bt extends Xt{getIR(){return["Dummy"]}}function Gt(Qt,gn,tn){const bn=gn.getArray("Matrix"),Wt=wt.Util.normalizeRect(gn.getArray("BBox")),Yt=gn.get("XStep"),un=gn.get("YStep"),Ut=gn.get("PaintType"),Ot=gn.get("TilingType");if(Wt[2]-Wt[0]===0||Wt[3]-Wt[1]===0)throw new wt.FormatError(`Invalid getTilingPatternIR /BBox array: [${Wt}].`);return["TilingPattern",tn,Qt,bn,Wt,Yt,un,Ut,Ot]}},(Ct,Et,Ft)=>{Object.defineProperty(Et,"__esModule",{value:!0}),Et.getXfaFontDict=jt,Et.getXfaFontName=$t;var wt=Ft(52),_t=Ft(4),Rt=Ft(53),_e=Ft(54),bt=Ft(55),Pt=Ft(56),Xt=Ft(3),Kt=Ft(38);const Nt=(0,Xt.getLookupTableFactory)(function(kt){kt["MyriadPro-Regular"]=kt["PdfJS-Fallback-Regular"]={name:"LiberationSans-Regular",factors:bt.MyriadProRegularFactors,baseWidths:_e.LiberationSansRegularWidths,baseMapping:_e.LiberationSansRegularMapping,metrics:bt.MyriadProRegularMetrics},kt["MyriadPro-Bold"]=kt["PdfJS-Fallback-Bold"]={name:"LiberationSans-Bold",factors:bt.MyriadProBoldFactors,baseWidths:_e.LiberationSansBoldWidths,baseMapping:_e.LiberationSansBoldMapping,metrics:bt.MyriadProBoldMetrics},kt["MyriadPro-It"]=kt["MyriadPro-Italic"]=kt["PdfJS-Fallback-Italic"]={name:"LiberationSans-Italic",factors:bt.MyriadProItalicFactors,baseWidths:_e.LiberationSansItalicWidths,baseMapping:_e.LiberationSansItalicMapping,metrics:bt.MyriadProItalicMetrics},kt["MyriadPro-BoldIt"]=kt["MyriadPro-BoldItalic"]=kt["PdfJS-Fallback-BoldItalic"]={name:"LiberationSans-BoldItalic",factors:bt.MyriadProBoldItalicFactors,baseWidths:_e.LiberationSansBoldItalicWidths,baseMapping:_e.LiberationSansBoldItalicMapping,metrics:bt.MyriadProBoldItalicMetrics},kt.ArialMT=kt.Arial=kt["Arial-Regular"]={name:"LiberationSans-Regular",baseWidths:_e.LiberationSansRegularWidths,baseMapping:_e.LiberationSansRegularMapping},kt["Arial-BoldMT"]=kt["Arial-Bold"]={name:"LiberationSans-Bold",baseWidths:_e.LiberationSansBoldWidths,baseMapping:_e.LiberationSansBoldMapping},kt["Arial-ItalicMT"]=kt["Arial-Italic"]={name:"LiberationSans-Italic",baseWidths:_e.LiberationSansItalicWidths,baseMapping:_e.LiberationSansItalicMapping},kt["Arial-BoldItalicMT"]=kt["Arial-BoldItalic"]={name:"LiberationSans-BoldItalic",baseWidths:_e.LiberationSansBoldItalicWidths,baseMapping:_e.LiberationSansBoldItalicMapping},kt["Calibri-Regular"]={name:"LiberationSans-Regular",factors:wt.CalibriRegularFactors,baseWidths:_e.LiberationSansRegularWidths,baseMapping:_e.LiberationSansRegularMapping,metrics:wt.CalibriRegularMetrics},kt["Calibri-Bold"]={name:"LiberationSans-Bold",factors:wt.CalibriBoldFactors,baseWidths:_e.LiberationSansBoldWidths,baseMapping:_e.LiberationSansBoldMapping,metrics:wt.CalibriBoldMetrics},kt["Calibri-Italic"]={name:"LiberationSans-Italic",factors:wt.CalibriItalicFactors,baseWidths:_e.LiberationSansItalicWidths,baseMapping:_e.LiberationSansItalicMapping,metrics:wt.CalibriItalicMetrics},kt["Calibri-BoldItalic"]={name:"LiberationSans-BoldItalic",factors:wt.CalibriBoldItalicFactors,baseWidths:_e.LiberationSansBoldItalicWidths,baseMapping:_e.LiberationSansBoldItalicMapping,metrics:wt.CalibriBoldItalicMetrics},kt["Segoeui-Regular"]={name:"LiberationSans-Regular",factors:Pt.SegoeuiRegularFactors,baseWidths:_e.LiberationSansRegularWidths,baseMapping:_e.LiberationSansRegularMapping,metrics:Pt.SegoeuiRegularMetrics},kt["Segoeui-Bold"]={name:"LiberationSans-Bold",factors:Pt.SegoeuiBoldFactors,baseWidths:_e.LiberationSansBoldWidths,baseMapping:_e.LiberationSansBoldMapping,metrics:Pt.SegoeuiBoldMetrics},kt["Segoeui-Italic"]={name:"LiberationSans-Italic",factors:Pt.SegoeuiItalicFactors,baseWidths:_e.LiberationSansItalicWidths,baseMapping:_e.LiberationSansItalicMapping,metrics:Pt.SegoeuiItalicMetrics},kt["Segoeui-BoldItalic"]={name:"LiberationSans-BoldItalic",factors:Pt.SegoeuiBoldItalicFactors,baseWidths:_e.LiberationSansBoldItalicWidths,baseMapping:_e.LiberationSansBoldItalicMapping,metrics:Pt.SegoeuiBoldItalicMetrics},kt["Helvetica-Regular"]=kt.Helvetica={name:"LiberationSans-Regular",factors:Rt.HelveticaRegularFactors,baseWidths:_e.LiberationSansRegularWidths,baseMapping:_e.LiberationSansRegularMapping,metrics:Rt.HelveticaRegularMetrics},kt["Helvetica-Bold"]={name:"LiberationSans-Bold",factors:Rt.HelveticaBoldFactors,baseWidths:_e.LiberationSansBoldWidths,baseMapping:_e.LiberationSansBoldMapping,metrics:Rt.HelveticaBoldMetrics},kt["Helvetica-Italic"]={name:"LiberationSans-Italic",factors:Rt.HelveticaItalicFactors,baseWidths:_e.LiberationSansItalicWidths,baseMapping:_e.LiberationSansItalicMapping,metrics:Rt.HelveticaItalicMetrics},kt["Helvetica-BoldItalic"]={name:"LiberationSans-BoldItalic",factors:Rt.HelveticaBoldItalicFactors,baseWidths:_e.LiberationSansBoldItalicWidths,baseMapping:_e.LiberationSansBoldItalicMapping,metrics:Rt.HelveticaBoldItalicMetrics}});function $t(kt){const qt=(0,Kt.normalizeFontName)(kt);return Nt()[qt]}function Lt(kt){const qt=$t(kt);if(!qt)return null;const{baseWidths:Bt,baseMapping:Gt,factors:en}=qt,dn=en?Bt.map((bn,Wt)=>bn*en[Wt]):Bt;let Qt=-2,gn;const tn=[];for(const[bn,Wt]of Gt.map((Yt,un)=>[Yt,un]).sort(([Yt],[un])=>Yt-un))bn!==-1&&(bn===Qt+1?(gn.push(dn[Wt]),Qt+=1):(Qt=bn,gn=[dn[Wt]],tn.push(bn,gn)));return tn}function jt(kt){const qt=Lt(kt),Bt=new _t.Dict(null);Bt.set("BaseFont",_t.Name.get(kt)),Bt.set("Type",_t.Name.get("Font")),Bt.set("Subtype",_t.Name.get("CIDFontType2")),Bt.set("Encoding",_t.Name.get("Identity-H")),Bt.set("CIDToGIDMap",_t.Name.get("Identity")),Bt.set("W",qt),Bt.set("FirstChar",qt[0]),Bt.set("LastChar",qt.at(-2)+qt.at(-1).length-1);const Gt=new _t.Dict(null);Bt.set("FontDescriptor",Gt);const en=new _t.Dict(null);return en.set("Ordering","Identity"),en.set("Registry","Adobe"),en.set("Supplement",0),Bt.set("CIDSystemInfo",en),Bt}},(Ct,Et)=>{Object.defineProperty(Et,"__esModule",{value:!0}),Et.CalibriRegularMetrics=Et.CalibriRegularFactors=Et.CalibriItalicMetrics=Et.CalibriItalicFactors=Et.CalibriBoldMetrics=Et.CalibriBoldItalicMetrics=Et.CalibriBoldItalicFactors=Et.CalibriBoldFactors=void 0;const Ft=[1.3877,1,1,1,.97801,.92482,.89552,.91133,.81988,.97566,.98152,.93548,.93548,1.2798,.85284,.92794,1,.96134,1.54657,.91133,.91133,.91133,.91133,.91133,.91133,.91133,.91133,.91133,.91133,.82845,.82845,.85284,.85284,.85284,.75859,.92138,.83908,.7762,.73293,.87289,.73133,.7514,.81921,.87356,.95958,.59526,.75727,.69225,1.04924,.9121,.86943,.79795,.88198,.77958,.70864,.81055,.90399,.88653,.96017,.82577,.77892,.78257,.97507,1.54657,.97507,.85284,.89552,.90176,.88762,.8785,.75241,.8785,.90518,.95015,.77618,.8785,.88401,.91916,.86304,.88401,.91488,.8785,.8801,.8785,.8785,.91343,.7173,1.04106,.8785,.85075,.95794,.82616,.85162,.79492,.88331,1.69808,.88331,.85284,.97801,.89552,.91133,.89552,.91133,1.7801,.89552,1.24487,1.13254,1.12401,.96839,.85284,.68787,.70645,.85592,.90747,1.01466,1.0088,.90323,1,1.07463,1,.91056,.75806,1.19118,.96839,.78864,.82845,.84133,.75859,.83908,.83908,.83908,.83908,.83908,.83908,.77539,.73293,.73133,.73133,.73133,.73133,.95958,.95958,.95958,.95958,.88506,.9121,.86943,.86943,.86943,.86943,.86943,.85284,.87508,.90399,.90399,.90399,.90399,.77892,.79795,.90807,.88762,.88762,.88762,.88762,.88762,.88762,.8715,.75241,.90518,.90518,.90518,.90518,.88401,.88401,.88401,.88401,.8785,.8785,.8801,.8801,.8801,.8801,.8801,.90747,.89049,.8785,.8785,.8785,.8785,.85162,.8785,.85162,.83908,.88762,.83908,.88762,.83908,.88762,.73293,.75241,.73293,.75241,.73293,.75241,.73293,.75241,.87289,.83016,.88506,.93125,.73133,.90518,.73133,.90518,.73133,.90518,.73133,.90518,.73133,.90518,.81921,.77618,.81921,.77618,.81921,.77618,1,1,.87356,.8785,.91075,.89608,.95958,.88401,.95958,.88401,.95958,.88401,.95958,.88401,.95958,.88401,.76229,.90167,.59526,.91916,1,1,.86304,.69225,.88401,1,1,.70424,.79468,.91926,.88175,.70823,.94903,.9121,.8785,1,1,.9121,.8785,.87802,.88656,.8785,.86943,.8801,.86943,.8801,.86943,.8801,.87402,.89291,.77958,.91343,1,1,.77958,.91343,.70864,.7173,.70864,.7173,.70864,.7173,.70864,.7173,1,1,.81055,.75841,.81055,1.06452,.90399,.8785,.90399,.8785,.90399,.8785,.90399,.8785,.90399,.8785,.90399,.8785,.96017,.95794,.77892,.85162,.77892,.78257,.79492,.78257,.79492,.78257,.79492,.9297,.56892,.83908,.88762,.77539,.8715,.87508,.89049,1,1,.81055,1.04106,1.20528,1.20528,1,1.15543,.70674,.98387,.94721,1.33431,1.45894,.95161,1.06303,.83908,.80352,.57184,.6965,.56289,.82001,.56029,.81235,1.02988,.83908,.7762,.68156,.80367,.73133,.78257,.87356,.86943,.95958,.75727,.89019,1.04924,.9121,.7648,.86943,.87356,.79795,.78275,.81055,.77892,.9762,.82577,.99819,.84896,.95958,.77892,.96108,1.01407,.89049,1.02988,.94211,.96108,.8936,.84021,.87842,.96399,.79109,.89049,1.00813,1.02988,.86077,.87445,.92099,.84723,.86513,.8801,.75638,.85714,.78216,.79586,.87965,.94211,.97747,.78287,.97926,.84971,1.02988,.94211,.8801,.94211,.84971,.73133,1,1,1,1,1,1,1,1,1,1,1,1,.90264,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,.90518,1,1,1,1,1,1,1,1,1,1,1,1,.90548,1,1,1,1,1,1,.96017,.95794,.96017,.95794,.96017,.95794,.77892,.85162,1,1,.89552,.90527,1,.90363,.92794,.92794,.92794,.92794,.87012,.87012,.87012,.89552,.89552,1.42259,.71143,1.06152,1,1,1.03372,1.03372,.97171,1.4956,2.2807,.93835,.83406,.91133,.84107,.91133,1,1,1,.72021,1,1.23108,.83489,.88525,.88525,.81499,.90527,1.81055,.90527,1.81055,1.31006,1.53711,.94434,1.08696,1,.95018,.77192,.85284,.90747,1.17534,.69825,.9716,1.37077,.90747,.90747,.85356,.90747,.90747,1.44947,.85284,.8941,.8941,.70572,.8,.70572,.70572,.70572,.70572,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,.99862,.99862,1,1,1,1,1,1.08004,.91027,1,1,1,.99862,1,1,1,1,1,1,1,1,1,1,1,1,.90727,.90727,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1];Et.CalibriBoldFactors=Ft;const wt={lineHeight:1.2207,lineGap:.2207};Et.CalibriBoldMetrics=wt;const _t=[1.3877,1,1,1,.97801,.92482,.89552,.91133,.81988,.97566,.98152,.93548,.93548,1.2798,.85284,.92794,1,.96134,1.56239,.91133,.91133,.91133,.91133,.91133,.91133,.91133,.91133,.91133,.91133,.82845,.82845,.85284,.85284,.85284,.75859,.92138,.83908,.7762,.71805,.87289,.73133,.7514,.81921,.87356,.95958,.59526,.75727,.69225,1.04924,.90872,.85938,.79795,.87068,.77958,.69766,.81055,.90399,.88653,.96068,.82577,.77892,.78257,.97507,1.529,.97507,.85284,.89552,.90176,.94908,.86411,.74012,.86411,.88323,.95015,.86411,.86331,.88401,.91916,.86304,.88401,.9039,.86331,.86331,.86411,.86411,.90464,.70852,1.04106,.86331,.84372,.95794,.82616,.84548,.79492,.88331,1.69808,.88331,.85284,.97801,.89552,.91133,.89552,.91133,1.7801,.89552,1.24487,1.13254,1.19129,.96839,.85284,.68787,.70645,.85592,.90747,1.01466,1.0088,.90323,1,1.07463,1,.91056,.75806,1.19118,.96839,.78864,.82845,.84133,.75859,.83908,.83908,.83908,.83908,.83908,.83908,.77539,.71805,.73133,.73133,.73133,.73133,.95958,.95958,.95958,.95958,.88506,.90872,.85938,.85938,.85938,.85938,.85938,.85284,.87068,.90399,.90399,.90399,.90399,.77892,.79795,.90807,.94908,.94908,.94908,.94908,.94908,.94908,.85887,.74012,.88323,.88323,.88323,.88323,.88401,.88401,.88401,.88401,.8785,.86331,.86331,.86331,.86331,.86331,.86331,.90747,.89049,.86331,.86331,.86331,.86331,.84548,.86411,.84548,.83908,.94908,.83908,.94908,.83908,.94908,.71805,.74012,.71805,.74012,.71805,.74012,.71805,.74012,.87289,.79538,.88506,.92726,.73133,.88323,.73133,.88323,.73133,.88323,.73133,.88323,.73133,.88323,.81921,.86411,.81921,.86411,.81921,.86411,1,1,.87356,.86331,.91075,.8777,.95958,.88401,.95958,.88401,.95958,.88401,.95958,.88401,.95958,.88401,.76467,.90167,.59526,.91916,1,1,.86304,.69225,.88401,1,1,.70424,.77312,.91926,.88175,.70823,.94903,.90872,.86331,1,1,.90872,.86331,.86906,.88116,.86331,.85938,.86331,.85938,.86331,.85938,.86331,.87402,.86549,.77958,.90464,1,1,.77958,.90464,.69766,.70852,.69766,.70852,.69766,.70852,.69766,.70852,1,1,.81055,.75841,.81055,1.06452,.90399,.86331,.90399,.86331,.90399,.86331,.90399,.86331,.90399,.86331,.90399,.86331,.96068,.95794,.77892,.84548,.77892,.78257,.79492,.78257,.79492,.78257,.79492,.9297,.56892,.83908,.94908,.77539,.85887,.87068,.89049,1,1,.81055,1.04106,1.20528,1.20528,1,1.15543,.70088,.98387,.94721,1.33431,1.45894,.95161,1.48387,.83908,.80352,.57118,.6965,.56347,.79179,.55853,.80346,1.02988,.83908,.7762,.67174,.86036,.73133,.78257,.87356,.86441,.95958,.75727,.89019,1.04924,.90872,.74889,.85938,.87891,.79795,.7957,.81055,.77892,.97447,.82577,.97466,.87179,.95958,.77892,.94252,.95612,.8753,1.02988,.92733,.94252,.87411,.84021,.8728,.95612,.74081,.8753,1.02189,1.02988,.84814,.87445,.91822,.84723,.85668,.86331,.81344,.87581,.76422,.82046,.96057,.92733,.99375,.78022,.95452,.86015,1.02988,.92733,.86331,.92733,.86015,.73133,1,1,1,1,1,1,1,1,1,1,1,1,.90631,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,.88323,1,1,1,1,1,1,1,1,1,1,1,1,.85174,1,1,1,1,1,1,.96068,.95794,.96068,.95794,.96068,.95794,.77892,.84548,1,1,.89552,.90527,1,.90363,.92794,.92794,.92794,.89807,.87012,.87012,.87012,.89552,.89552,1.42259,.71094,1.06152,1,1,1.03372,1.03372,.97171,1.4956,2.2807,.92972,.83406,.91133,.83326,.91133,1,1,1,.72021,1,1.23108,.83489,.88525,.88525,.81499,.90616,1.81055,.90527,1.81055,1.3107,1.53711,.94434,1.08696,1,.95018,.77192,.85284,.90747,1.17534,.69825,.9716,1.37077,.90747,.90747,.85356,.90747,.90747,1.44947,.85284,.8941,.8941,.70572,.8,.70572,.70572,.70572,.70572,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,.99862,.99862,1,1,1,1,1,1.08004,.91027,1,1,1,.99862,1,1,1,1,1,1,1,1,1,1,1,1,.90727,.90727,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1];Et.CalibriBoldItalicFactors=_t;const Rt={lineHeight:1.2207,lineGap:.2207};Et.CalibriBoldItalicMetrics=Rt;const _e=[1.3877,1,1,1,1.17223,1.1293,.89552,.91133,.80395,1.02269,1.15601,.91056,.91056,1.2798,.85284,.89807,1,.90861,1.39543,.91133,.91133,.91133,.91133,.91133,.91133,.91133,.91133,.91133,.91133,.96309,.96309,.85284,.85284,.85284,.83319,.88071,.8675,.81552,.72346,.85193,.73206,.7522,.81105,.86275,.90685,.6377,.77892,.75593,1.02638,.89249,.84118,.77452,.85374,.75186,.67789,.79776,.88844,.85066,.94309,.77818,.7306,.76659,1.10369,1.38313,1.10369,1.06139,.89552,.8739,.9245,.9245,.83203,.9245,.85865,1.09842,.9245,.9245,1.03297,1.07692,.90918,1.03297,.94959,.9245,.92274,.9245,.9245,1.02933,.77832,1.20562,.9245,.8916,.98986,.86621,.89453,.79004,.94152,1.77256,.94152,.85284,.97801,.89552,.91133,.89552,.91133,1.91729,.89552,1.17889,1.13254,1.16359,.92098,.85284,.68787,.71353,.84737,.90747,1.0088,1.0044,.87683,1,1.09091,1,.92229,.739,1.15642,.92098,.76288,.80504,.80972,.75859,.8675,.8675,.8675,.8675,.8675,.8675,.76318,.72346,.73206,.73206,.73206,.73206,.90685,.90685,.90685,.90685,.86477,.89249,.84118,.84118,.84118,.84118,.84118,.85284,.84557,.88844,.88844,.88844,.88844,.7306,.77452,.86331,.9245,.9245,.9245,.9245,.9245,.9245,.84843,.83203,.85865,.85865,.85865,.85865,.82601,.82601,.82601,.82601,.94469,.9245,.92274,.92274,.92274,.92274,.92274,.90747,.86651,.9245,.9245,.9245,.9245,.89453,.9245,.89453,.8675,.9245,.8675,.9245,.8675,.9245,.72346,.83203,.72346,.83203,.72346,.83203,.72346,.83203,.85193,.8875,.86477,.99034,.73206,.85865,.73206,.85865,.73206,.85865,.73206,.85865,.73206,.85865,.81105,.9245,.81105,.9245,.81105,.9245,1,1,.86275,.9245,.90872,.93591,.90685,.82601,.90685,.82601,.90685,.82601,.90685,1.03297,.90685,.82601,.77896,1.05611,.6377,1.07692,1,1,.90918,.75593,1.03297,1,1,.76032,.9375,.98156,.93407,.77261,1.11429,.89249,.9245,1,1,.89249,.9245,.92534,.86698,.9245,.84118,.92274,.84118,.92274,.84118,.92274,.8667,.86291,.75186,1.02933,1,1,.75186,1.02933,.67789,.77832,.67789,.77832,.67789,.77832,.67789,.77832,1,1,.79776,.97655,.79776,1.23023,.88844,.9245,.88844,.9245,.88844,.9245,.88844,.9245,.88844,.9245,.88844,.9245,.94309,.98986,.7306,.89453,.7306,.76659,.79004,.76659,.79004,.76659,.79004,1.09231,.54873,.8675,.9245,.76318,.84843,.84557,.86651,1,1,.79776,1.20562,1.18622,1.18622,1,1.1437,.67009,.96334,.93695,1.35191,1.40909,.95161,1.48387,.8675,.90861,.6192,.7363,.64824,.82411,.56321,.85696,1.23516,.8675,.81552,.7286,.84134,.73206,.76659,.86275,.84369,.90685,.77892,.85871,1.02638,.89249,.75828,.84118,.85984,.77452,.76466,.79776,.7306,.90782,.77818,.903,.87291,.90685,.7306,.99058,1.03667,.94635,1.23516,.9849,.99058,.92393,.8916,.942,1.03667,.75026,.94635,1.0297,1.23516,.90918,.94048,.98217,.89746,.84153,.92274,.82507,.88832,.84438,.88178,1.03525,.9849,1.00225,.78086,.97248,.89404,1.23516,.9849,.92274,.9849,.89404,.73206,1,1,1,1,1,1,1,1,1,1,1,1,.89693,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,.85865,1,1,1,1,1,1,1,1,1,1,1,1,.90933,1,1,1,1,1,1,.94309,.98986,.94309,.98986,.94309,.98986,.7306,.89453,1,1,.89552,.90527,1,.90186,1.12308,1.12308,1.12308,1.12308,1.2566,1.2566,1.2566,.89552,.89552,1.42259,.68994,1.03809,1,1,1.0176,1.0176,1.11523,1.4956,2.01462,.97858,.82616,.91133,.83437,.91133,1,1,1,.70508,1,1.23108,.79801,.84426,.84426,.774,.90572,1.81055,.90749,1.81055,1.28809,1.55469,.94434,1.07806,1,.97094,.7589,.85284,.90747,1.19658,.69825,.97622,1.33512,.90747,.90747,.85284,.90747,.90747,1.44947,.85284,.8941,.8941,.70572,.8,.70572,.70572,.70572,.70572,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,.99862,.99862,1,1,1,1,1,1.0336,.91027,1,1,1,.99862,1,1,1,1,1,1,1,1,1,1,1,1,1.05859,1.05859,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1];Et.CalibriItalicFactors=_e;const bt={lineHeight:1.2207,lineGap:.2207};Et.CalibriItalicMetrics=bt;const Pt=[1.3877,1,1,1,1.17223,1.1293,.89552,.91133,.80395,1.02269,1.15601,.91056,.91056,1.2798,.85284,.89807,1,.90861,1.39016,.91133,.91133,.91133,.91133,.91133,.91133,.91133,.91133,.91133,.91133,.96309,.96309,.85284,.85284,.85284,.83319,.88071,.8675,.81552,.73834,.85193,.73206,.7522,.81105,.86275,.90685,.6377,.77892,.75593,1.02638,.89385,.85122,.77452,.86503,.75186,.68887,.79776,.88844,.85066,.94258,.77818,.7306,.76659,1.10369,1.39016,1.10369,1.06139,.89552,.8739,.86128,.94469,.8457,.94469,.89464,1.09842,.84636,.94469,1.03297,1.07692,.90918,1.03297,.95897,.94469,.9482,.94469,.94469,1.04692,.78223,1.20562,.94469,.90332,.98986,.86621,.90527,.79004,.94152,1.77256,.94152,.85284,.97801,.89552,.91133,.89552,.91133,1.91729,.89552,1.17889,1.13254,1.08707,.92098,.85284,.68787,.71353,.84737,.90747,1.0088,1.0044,.87683,1,1.09091,1,.92229,.739,1.15642,.92098,.76288,.80504,.80972,.75859,.8675,.8675,.8675,.8675,.8675,.8675,.76318,.73834,.73206,.73206,.73206,.73206,.90685,.90685,.90685,.90685,.86477,.89385,.85122,.85122,.85122,.85122,.85122,.85284,.85311,.88844,.88844,.88844,.88844,.7306,.77452,.86331,.86128,.86128,.86128,.86128,.86128,.86128,.8693,.8457,.89464,.89464,.89464,.89464,.82601,.82601,.82601,.82601,.94469,.94469,.9482,.9482,.9482,.9482,.9482,.90747,.86651,.94469,.94469,.94469,.94469,.90527,.94469,.90527,.8675,.86128,.8675,.86128,.8675,.86128,.73834,.8457,.73834,.8457,.73834,.8457,.73834,.8457,.85193,.92454,.86477,.9921,.73206,.89464,.73206,.89464,.73206,.89464,.73206,.89464,.73206,.89464,.81105,.84636,.81105,.84636,.81105,.84636,1,1,.86275,.94469,.90872,.95786,.90685,.82601,.90685,.82601,.90685,.82601,.90685,1.03297,.90685,.82601,.77741,1.05611,.6377,1.07692,1,1,.90918,.75593,1.03297,1,1,.76032,.90452,.98156,1.11842,.77261,1.11429,.89385,.94469,1,1,.89385,.94469,.95877,.86901,.94469,.85122,.9482,.85122,.9482,.85122,.9482,.8667,.90016,.75186,1.04692,1,1,.75186,1.04692,.68887,.78223,.68887,.78223,.68887,.78223,.68887,.78223,1,1,.79776,.92188,.79776,1.23023,.88844,.94469,.88844,.94469,.88844,.94469,.88844,.94469,.88844,.94469,.88844,.94469,.94258,.98986,.7306,.90527,.7306,.76659,.79004,.76659,.79004,.76659,.79004,1.09231,.54873,.8675,.86128,.76318,.8693,.85311,.86651,1,1,.79776,1.20562,1.18622,1.18622,1,1.1437,.67742,.96334,.93695,1.35191,1.40909,.95161,1.48387,.86686,.90861,.62267,.74359,.65649,.85498,.56963,.88254,1.23516,.8675,.81552,.75443,.84503,.73206,.76659,.86275,.85122,.90685,.77892,.85746,1.02638,.89385,.75657,.85122,.86275,.77452,.74171,.79776,.7306,.95165,.77818,.89772,.88831,.90685,.7306,.98142,1.02191,.96576,1.23516,.99018,.98142,.9236,.89258,.94035,1.02191,.78848,.96576,.9561,1.23516,.90918,.92578,.95424,.89746,.83969,.9482,.80113,.89442,.85208,.86155,.98022,.99018,1.00452,.81209,.99247,.89181,1.23516,.99018,.9482,.99018,.89181,.73206,1,1,1,1,1,1,1,1,1,1,1,1,.88844,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,.89464,1,1,1,1,1,1,1,1,1,1,1,1,.96766,1,1,1,1,1,1,.94258,.98986,.94258,.98986,.94258,.98986,.7306,.90527,1,1,.89552,.90527,1,.90186,1.12308,1.12308,1.12308,1.12308,1.2566,1.2566,1.2566,.89552,.89552,1.42259,.69043,1.03809,1,1,1.0176,1.0176,1.11523,1.4956,2.01462,.99331,.82616,.91133,.84286,.91133,1,1,1,.70508,1,1.23108,.79801,.84426,.84426,.774,.90527,1.81055,.90527,1.81055,1.28809,1.55469,.94434,1.07806,1,.97094,.7589,.85284,.90747,1.19658,.69825,.97622,1.33512,.90747,.90747,.85356,.90747,.90747,1.44947,.85284,.8941,.8941,.70572,.8,.70572,.70572,.70572,.70572,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,.99862,.99862,1,1,1,1,1,1.0336,.91027,1,1,1,.99862,1,1,1,1,1,1,1,1,1,1,1,1,1.05859,1.05859,1,1,1,1.07185,.99413,.96334,1.08065,1,1,1,1,1,1,1,1,1,1,1];Et.CalibriRegularFactors=Pt;const Xt={lineHeight:1.2207,lineGap:.2207};Et.CalibriRegularMetrics=Xt},(Ct,Et)=>{Object.defineProperty(Et,"__esModule",{value:!0}),Et.HelveticaRegularMetrics=Et.HelveticaRegularFactors=Et.HelveticaItalicMetrics=Et.HelveticaItalicFactors=Et.HelveticaBoldMetrics=Et.HelveticaBoldItalicMetrics=Et.HelveticaBoldItalicFactors=Et.HelveticaBoldFactors=void 0;const Ft=[.76116,1,1,1.0006,.99998,.99974,.99973,.99973,.99982,.99977,1.00087,.99998,.99998,.99959,1.00003,1.0006,.99998,1.0006,1.0006,.99973,.99973,.99973,.99973,.99973,.99973,.99973,.99973,.99973,.99973,.99998,1,1.00003,1.00003,1.00003,1.00026,.9999,.99977,.99977,.99977,.99977,1.00001,1.00026,1.00022,.99977,1.0006,.99973,.99977,1.00026,.99999,.99977,1.00022,1.00001,1.00022,.99977,1.00001,1.00026,.99977,1.00001,1.00016,1.00001,1.00001,1.00026,.99998,1.0006,.99998,1.00003,.99973,.99998,.99973,1.00026,.99973,1.00026,.99973,.99998,1.00026,1.00026,1.0006,1.0006,.99973,1.0006,.99982,1.00026,1.00026,1.00026,1.00026,.99959,.99973,.99998,1.00026,.99973,1.00022,.99973,.99973,1,.99959,1.00077,.99959,1.00003,.99998,.99973,.99973,.99973,.99973,1.00077,.99973,.99998,1.00025,.99968,.99973,1.00003,1.00025,.60299,1.00024,1.06409,1,1,.99998,1,.99973,1.0006,.99998,1,.99936,.99973,1.00002,1.00002,1.00002,1.00026,.99977,.99977,.99977,.99977,.99977,.99977,1,.99977,1.00001,1.00001,1.00001,1.00001,1.0006,1.0006,1.0006,1.0006,.99977,.99977,1.00022,1.00022,1.00022,1.00022,1.00022,1.00003,1.00022,.99977,.99977,.99977,.99977,1.00001,1.00001,1.00026,.99973,.99973,.99973,.99973,.99973,.99973,.99982,.99973,.99973,.99973,.99973,.99973,1.0006,1.0006,1.0006,1.0006,1.00026,1.00026,1.00026,1.00026,1.00026,1.00026,1.00026,1.06409,1.00026,1.00026,1.00026,1.00026,1.00026,.99973,1.00026,.99973,.99977,.99973,.99977,.99973,.99977,.99973,.99977,.99973,.99977,.99973,.99977,.99973,.99977,.99973,.99977,1.03374,.99977,1.00026,1.00001,.99973,1.00001,.99973,1.00001,.99973,1.00001,.99973,1.00001,.99973,1.00022,1.00026,1.00022,1.00026,1.00022,1.00026,1.00022,1.00026,.99977,1.00026,.99977,1.00026,1.0006,1.0006,1.0006,1.0006,1.0006,1.0006,1.0006,1.0006,1.0006,1.0006,1.00042,.99973,.99973,1.0006,.99977,.99973,.99973,1.00026,1.0006,1.00026,1.0006,1.00026,1.03828,1.00026,.99999,1.00026,1.0006,.99977,1.00026,.99977,1.00026,.99977,1.00026,.9993,.9998,1.00026,1.00022,1.00026,1.00022,1.00026,1.00022,1.00026,1,1.00016,.99977,.99959,.99977,.99959,.99977,.99959,1.00001,.99973,1.00001,.99973,1.00001,.99973,1.00001,.99973,1.00026,.99998,1.00026,.8121,1.00026,.99998,.99977,1.00026,.99977,1.00026,.99977,1.00026,.99977,1.00026,.99977,1.00026,.99977,1.00026,1.00016,1.00022,1.00001,.99973,1.00001,1.00026,1,1.00026,1,1.00026,1,1.0006,.99973,.99977,.99973,1,.99982,1.00022,1.00026,1.00001,.99973,1.00026,.99998,.99998,.99998,.99998,.99998,.99998,.99998,.99998,.99998,.99998,.99998,1.00034,.99977,1,.99997,1.00026,1.00078,1.00036,.99973,1.00013,1.0006,.99977,.99977,.99988,.85148,1.00001,1.00026,.99977,1.00022,1.0006,.99977,1.00001,.99999,.99977,1.00069,1.00022,.99977,1.00001,.99984,1.00026,1.00001,1.00024,1.00001,.9999,1,1.0006,1.00001,1.00041,.99962,1.00026,1.0006,.99995,1.00041,.99942,.99973,.99927,1.00082,.99902,1.00026,1.00087,1.0006,1.00069,.99973,.99867,.99973,.9993,1.00026,1.00049,1.00056,1,.99988,.99935,.99995,.99954,1.00055,.99945,1.00032,1.0006,.99995,1.00026,.99995,1.00032,1.00001,1.00008,.99971,1.00019,.9994,1.00001,1.0006,1.00044,.99973,1.00023,1.00047,1,.99942,.99561,.99989,1.00035,.99977,1.00035,.99977,1.00019,.99944,1.00001,1.00021,.99926,1.00035,1.00035,.99942,1.00048,.99999,.99977,1.00022,1.00035,1.00001,.99977,1.00026,.99989,1.00057,1.00001,.99936,1.00052,1.00012,.99996,1.00043,1,1.00035,.9994,.99976,1.00035,.99973,1.00052,1.00041,1.00119,1.00037,.99973,1.00002,.99986,1.00041,1.00041,.99902,.9996,1.00034,.99999,1.00026,.99999,1.00026,.99973,1.00052,.99973,1,.99973,1.00041,1.00075,.9994,1.0003,.99999,1,1.00041,.99955,1,.99915,.99973,.99973,1.00026,1.00119,.99955,.99973,1.0006,.99911,1.0006,1.00026,.99972,1.00026,.99902,1.00041,.99973,.99999,1,1,1.00038,1.0005,1.00016,1.00022,1.00016,1.00022,1.00016,1.00022,1.00001,.99973,1,1,.99973,1,1,.99955,1.0006,1.0006,1.0006,1.0006,1,1,1,.99973,.99973,.99972,1,1,1.00106,.99999,.99998,.99998,.99999,.99998,1.66475,1,.99973,.99973,1.00023,.99973,.99971,1.00047,1.00023,1,.99991,.99984,1.00002,1.00002,1.00002,1.00002,1,1,1,1,1,1,1,.99972,1,1.20985,1.39713,1.00003,1.00031,1.00015,1,.99561,1.00027,1.00031,1.00031,.99915,1.00031,1.00031,.99999,1.00003,.99999,.99999,1.41144,1.6,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.40579,1.40579,1.36625,.99999,1,.99861,.99861,1,1.00026,1.00026,1.00026,1.00026,.99972,.99999,.99999,.99999,.99999,1.40483,1,.99977,1.00054,1,1,.99953,.99962,1.00042,.9995,1,1,1,1,1,1,1,1,.99998,.99998,.99998,.99998,1,1,1,1,1,1,1,1,1,1,1];Et.HelveticaBoldFactors=Ft;const wt={lineHeight:1.2,lineGap:.2};Et.HelveticaBoldMetrics=wt;const _t=[.76116,1,1,1.0006,.99998,.99974,.99973,.99973,.99982,.99977,1.00087,.99998,.99998,.99959,1.00003,1.0006,.99998,1.0006,1.0006,.99973,.99973,.99973,.99973,.99973,.99973,.99973,.99973,.99973,.99973,.99998,1,1.00003,1.00003,1.00003,1.00026,.9999,.99977,.99977,.99977,.99977,1.00001,1.00026,1.00022,.99977,1.0006,.99973,.99977,1.00026,.99999,.99977,1.00022,1.00001,1.00022,.99977,1.00001,1.00026,.99977,1.00001,1.00016,1.00001,1.00001,1.00026,.99998,1.0006,.99998,1.00003,.99973,.99998,.99973,1.00026,.99973,1.00026,.99973,.99998,1.00026,1.00026,1.0006,1.0006,.99973,1.0006,.99982,1.00026,1.00026,1.00026,1.00026,.99959,.99973,.99998,1.00026,.99973,1.00022,.99973,.99973,1,.99959,1.00077,.99959,1.00003,.99998,.99973,.99973,.99973,.99973,1.00077,.99973,.99998,1.00025,.99968,.99973,1.00003,1.00025,.60299,1.00024,1.06409,1,1,.99998,1,.99973,1.0006,.99998,1,.99936,.99973,1.00002,1.00002,1.00002,1.00026,.99977,.99977,.99977,.99977,.99977,.99977,1,.99977,1.00001,1.00001,1.00001,1.00001,1.0006,1.0006,1.0006,1.0006,.99977,.99977,1.00022,1.00022,1.00022,1.00022,1.00022,1.00003,1.00022,.99977,.99977,.99977,.99977,1.00001,1.00001,1.00026,.99973,.99973,.99973,.99973,.99973,.99973,.99982,.99973,.99973,.99973,.99973,.99973,1.0006,1.0006,1.0006,1.0006,1.00026,1.00026,1.00026,1.00026,1.00026,1.00026,1.00026,1.06409,1.00026,1.00026,1.00026,1.00026,1.00026,.99973,1.00026,.99973,.99977,.99973,.99977,.99973,.99977,.99973,.99977,.99973,.99977,.99973,.99977,.99973,.99977,.99973,.99977,1.0044,.99977,1.00026,1.00001,.99973,1.00001,.99973,1.00001,.99973,1.00001,.99973,1.00001,.99973,1.00022,1.00026,1.00022,1.00026,1.00022,1.00026,1.00022,1.00026,.99977,1.00026,.99977,1.00026,1.0006,1.0006,1.0006,1.0006,1.0006,1.0006,1.0006,1.0006,1.0006,1.0006,.99971,.99973,.99973,1.0006,.99977,.99973,.99973,1.00026,1.0006,1.00026,1.0006,1.00026,1.01011,1.00026,.99999,1.00026,1.0006,.99977,1.00026,.99977,1.00026,.99977,1.00026,.9993,.9998,1.00026,1.00022,1.00026,1.00022,1.00026,1.00022,1.00026,1,1.00016,.99977,.99959,.99977,.99959,.99977,.99959,1.00001,.99973,1.00001,.99973,1.00001,.99973,1.00001,.99973,1.00026,.99998,1.00026,.8121,1.00026,.99998,.99977,1.00026,.99977,1.00026,.99977,1.00026,.99977,1.00026,.99977,1.00026,.99977,1.00026,1.00016,1.00022,1.00001,.99973,1.00001,1.00026,1,1.00026,1,1.00026,1,1.0006,.99973,.99977,.99973,1,.99982,1.00022,1.00026,1.00001,.99973,1.00026,.99998,.99998,.99998,.99998,.99998,.99998,.99998,.99998,.99998,.99998,.99998,.99998,.99977,1,1,1.00026,.99969,.99972,.99981,.9998,1.0006,.99977,.99977,1.00022,.91155,1.00001,1.00026,.99977,1.00022,1.0006,.99977,1.00001,.99999,.99977,.99966,1.00022,1.00032,1.00001,.99944,1.00026,1.00001,.99968,1.00001,1.00047,1,1.0006,1.00001,.99981,1.00101,1.00026,1.0006,.99948,.99981,1.00064,.99973,.99942,1.00101,1.00061,1.00026,1.00069,1.0006,1.00014,.99973,1.01322,.99973,1.00065,1.00026,1.00012,.99923,1,1.00064,1.00076,.99948,1.00055,1.00063,1.00007,.99943,1.0006,.99948,1.00026,.99948,.99943,1.00001,1.00001,1.00029,1.00038,1.00035,1.00001,1.0006,1.0006,.99973,.99978,1.00001,1.00057,.99989,.99967,.99964,.99967,.99977,.99999,.99977,1.00038,.99977,1.00001,.99973,1.00066,.99967,.99967,1.00041,.99998,.99999,.99977,1.00022,.99967,1.00001,.99977,1.00026,.99964,1.00031,1.00001,.99999,.99999,1,1.00023,1,1,.99999,1.00035,1.00001,.99999,.99973,.99977,.99999,1.00058,.99973,.99973,.99955,.9995,1.00026,1.00026,1.00032,.99989,1.00034,.99999,1.00026,1.00026,1.00026,.99973,.45998,.99973,1.00026,.99973,1.00001,.99999,.99982,.99994,.99996,1,1.00042,1.00044,1.00029,1.00023,.99973,.99973,1.00026,.99949,1.00002,.99973,1.0006,1.0006,1.0006,.99975,1.00026,1.00026,1.00032,.98685,.99973,1.00026,1,1,.99966,1.00044,1.00016,1.00022,1.00016,1.00022,1.00016,1.00022,1.00001,.99973,1,1,.99973,1,1,.99955,1.0006,1.0006,1.0006,1.0006,1,1,1,.99973,.99973,.99972,1,1,1.00106,.99999,.99998,.99998,.99999,.99998,1.66475,1,.99973,.99973,1,.99973,.99971,.99978,1,1,.99991,.99984,1.00002,1.00002,1.00002,1.00002,1.00098,1,1,1,1.00049,1,1,.99972,1,1.20985,1.39713,1.00003,1.00031,1.00015,1,.99561,1.00027,1.00031,1.00031,.99915,1.00031,1.00031,.99999,1.00003,.99999,.99999,1.41144,1.6,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.40579,1.40579,1.36625,.99999,1,.99861,.99861,1,1.00026,1.00026,1.00026,1.00026,.99972,.99999,.99999,.99999,.99999,1.40483,1,.99977,1.00054,1,1,.99953,.99962,1.00042,.9995,1,1,1,1,1,1,1,1,.99998,.99998,.99998,.99998,1,1,1,1,1,1,1,1,1,1,1];Et.HelveticaBoldItalicFactors=_t;const Rt={lineHeight:1.35,lineGap:.2};Et.HelveticaBoldItalicMetrics=Rt;const _e=[.76116,1,1,1.0006,1.0006,1.00006,.99973,.99973,.99982,1.00001,1.00043,.99998,.99998,.99959,1.00003,1.0006,.99998,1.0006,1.0006,.99973,.99973,.99973,.99973,.99973,.99973,.99973,.99973,.99973,.99973,1.0006,1,1.00003,1.00003,1.00003,.99973,.99987,1.00001,1.00001,.99977,.99977,1.00001,1.00026,1.00022,.99977,1.0006,1,1.00001,.99973,.99999,.99977,1.00022,1.00001,1.00022,.99977,1.00001,1.00026,.99977,1.00001,1.00016,1.00001,1.00001,1.00026,1.0006,1.0006,1.0006,.99949,.99973,.99998,.99973,.99973,1,.99973,.99973,1.0006,.99973,.99973,.99924,.99924,1,.99924,.99999,.99973,.99973,.99973,.99973,.99998,1,1.0006,.99973,1,.99977,1,1,1,1.00005,1.0009,1.00005,1.00003,.99998,.99973,.99973,.99973,.99973,1.0009,.99973,.99998,1.00025,.99968,.99973,1.00003,1.00025,.60299,1.00024,1.06409,1,1,.99998,1,.9998,1.0006,.99998,1,.99936,.99973,1.00002,1.00002,1.00002,1.00026,1.00001,1.00001,1.00001,1.00001,1.00001,1.00001,1,.99977,1.00001,1.00001,1.00001,1.00001,1.0006,1.0006,1.0006,1.0006,.99977,.99977,1.00022,1.00022,1.00022,1.00022,1.00022,1.00003,1.00022,.99977,.99977,.99977,.99977,1.00001,1.00001,1.00026,.99973,.99973,.99973,.99973,.99973,.99973,.99982,1,.99973,.99973,.99973,.99973,1.0006,1.0006,1.0006,1.0006,.99973,.99973,.99973,.99973,.99973,.99973,.99973,1.06409,1.00026,.99973,.99973,.99973,.99973,1,.99973,1,1.00001,.99973,1.00001,.99973,1.00001,.99973,.99977,1,.99977,1,.99977,1,.99977,1,.99977,1.0288,.99977,.99973,1.00001,.99973,1.00001,.99973,1.00001,.99973,1.00001,.99973,1.00001,.99973,1.00022,.99973,1.00022,.99973,1.00022,.99973,1.00022,.99973,.99977,.99973,.99977,.99973,1.0006,1.0006,1.0006,1.0006,1.0006,1.0006,1.0006,.99924,1.0006,1.0006,.99946,1.00034,1,.99924,1.00001,1,1,.99973,.99924,.99973,.99924,.99973,1.06311,.99973,1.00024,.99973,.99924,.99977,.99973,.99977,.99973,.99977,.99973,1.00041,.9998,.99973,1.00022,.99973,1.00022,.99973,1.00022,.99973,1,1.00016,.99977,.99998,.99977,.99998,.99977,.99998,1.00001,1,1.00001,1,1.00001,1,1.00001,1,1.00026,1.0006,1.00026,.89547,1.00026,1.0006,.99977,.99973,.99977,.99973,.99977,.99973,.99977,.99973,.99977,.99973,.99977,.99973,1.00016,.99977,1.00001,1,1.00001,1.00026,1,1.00026,1,1.00026,1,.99924,.99973,1.00001,.99973,1,.99982,1.00022,1.00026,1.00001,1,1.00026,1.0006,.99998,.99998,.99998,.99998,.99998,.99998,.99998,.99998,.99998,.99998,.99998,1.00001,1,1.00054,.99977,1.00084,1.00007,.99973,1.00013,.99924,1.00001,1.00001,.99945,.91221,1.00001,1.00026,.99977,1.00022,1.0006,1.00001,1.00001,.99999,.99977,.99933,1.00022,1.00054,1.00001,1.00065,1.00026,1.00001,1.0001,1.00001,1.00052,1,1.0006,1.00001,.99945,.99897,.99968,.99924,1.00036,.99945,.99949,1,1.0006,.99897,.99918,.99968,.99911,.99924,1,.99962,1.01487,1,1.0005,.99973,1.00012,1.00043,1,.99995,.99994,1.00036,.99947,1.00019,1.00063,1.00025,.99924,1.00036,.99973,1.00036,1.00025,1.00001,1.00001,1.00027,1.0001,1.00068,1.00001,1.0006,1.0006,1,1.00008,.99957,.99972,.9994,.99954,.99975,1.00051,1.00001,1.00019,1.00001,1.0001,.99986,1.00001,1.00001,1.00038,.99954,.99954,.9994,1.00066,.99999,.99977,1.00022,1.00054,1.00001,.99977,1.00026,.99975,1.0001,1.00001,.99993,.9995,.99955,1.00016,.99978,.99974,1.00019,1.00022,.99955,1.00053,.99973,1.00089,1.00005,.99967,1.00048,.99973,1.00002,1.00034,.99973,.99973,.99964,1.00006,1.00066,.99947,.99973,.98894,.99973,1,.44898,1,.99946,1,1.00039,1.00082,.99991,.99991,.99985,1.00022,1.00023,1.00061,1.00006,.99966,.99973,.99973,.99973,1.00019,1.0008,1,.99924,.99924,.99924,.99983,1.00044,.99973,.99964,.98332,1,.99973,1,1,.99962,.99895,1.00016,.99977,1.00016,.99977,1.00016,.99977,1.00001,1,1,1,.99973,1,1,.99955,.99924,.99924,.99924,.99924,.99998,.99998,.99998,.99973,.99973,.99972,1,1,1.00267,.99999,.99998,.99998,1,.99998,1.66475,1,.99973,.99973,1.00023,.99973,1.00423,.99925,.99999,1,.99991,.99984,1.00002,1.00002,1.00002,1.00002,1.00049,1,1.00245,1,1,1,1,.96329,1,1.20985,1.39713,1.00003,.8254,1.00015,1,1.00035,1.00027,1.00031,1.00031,1.00003,1.00031,1.00031,.99999,1.00003,.99999,.99999,1.41144,1.6,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.40579,1.40579,1.36625,.99999,1,.99861,.99861,1,1.00026,1.00026,1.00026,1.00026,.95317,.99999,.99999,.99999,.99999,1.40483,1,.99977,1.00054,1,1,.99953,.99962,1.00042,.9995,1,1,1,1,1,1,1,1,.99998,.99998,.99998,.99998,1,1,1,1,1,1,1,1,1,1,1];Et.HelveticaItalicFactors=_e;const bt={lineHeight:1.35,lineGap:.2};Et.HelveticaItalicMetrics=bt;const Pt=[.76116,1,1,1.0006,1.0006,1.00006,.99973,.99973,.99982,1.00001,1.00043,.99998,.99998,.99959,1.00003,1.0006,.99998,1.0006,1.0006,.99973,.99973,.99973,.99973,.99973,.99973,.99973,.99973,.99973,.99973,1.0006,1,1.00003,1.00003,1.00003,.99973,.99987,1.00001,1.00001,.99977,.99977,1.00001,1.00026,1.00022,.99977,1.0006,1,1.00001,.99973,.99999,.99977,1.00022,1.00001,1.00022,.99977,1.00001,1.00026,.99977,1.00001,1.00016,1.00001,1.00001,1.00026,1.0006,1.0006,1.0006,.99949,.99973,.99998,.99973,.99973,1,.99973,.99973,1.0006,.99973,.99973,.99924,.99924,1,.99924,.99999,.99973,.99973,.99973,.99973,.99998,1,1.0006,.99973,1,.99977,1,1,1,1.00005,1.0009,1.00005,1.00003,.99998,.99973,.99973,.99973,.99973,1.0009,.99973,.99998,1.00025,.99968,.99973,1.00003,1.00025,.60299,1.00024,1.06409,1,1,.99998,1,.9998,1.0006,.99998,1,.99936,.99973,1.00002,1.00002,1.00002,1.00026,1.00001,1.00001,1.00001,1.00001,1.00001,1.00001,1,.99977,1.00001,1.00001,1.00001,1.00001,1.0006,1.0006,1.0006,1.0006,.99977,.99977,1.00022,1.00022,1.00022,1.00022,1.00022,1.00003,1.00022,.99977,.99977,.99977,.99977,1.00001,1.00001,1.00026,.99973,.99973,.99973,.99973,.99973,.99973,.99982,1,.99973,.99973,.99973,.99973,1.0006,1.0006,1.0006,1.0006,.99973,.99973,.99973,.99973,.99973,.99973,.99973,1.06409,1.00026,.99973,.99973,.99973,.99973,1,.99973,1,1.00001,.99973,1.00001,.99973,1.00001,.99973,.99977,1,.99977,1,.99977,1,.99977,1,.99977,1.04596,.99977,.99973,1.00001,.99973,1.00001,.99973,1.00001,.99973,1.00001,.99973,1.00001,.99973,1.00022,.99973,1.00022,.99973,1.00022,.99973,1.00022,.99973,.99977,.99973,.99977,.99973,1.0006,1.0006,1.0006,1.0006,1.0006,1.0006,1.0006,.99924,1.0006,1.0006,1.00019,1.00034,1,.99924,1.00001,1,1,.99973,.99924,.99973,.99924,.99973,1.02572,.99973,1.00005,.99973,.99924,.99977,.99973,.99977,.99973,.99977,.99973,.99999,.9998,.99973,1.00022,.99973,1.00022,.99973,1.00022,.99973,1,1.00016,.99977,.99998,.99977,.99998,.99977,.99998,1.00001,1,1.00001,1,1.00001,1,1.00001,1,1.00026,1.0006,1.00026,.84533,1.00026,1.0006,.99977,.99973,.99977,.99973,.99977,.99973,.99977,.99973,.99977,.99973,.99977,.99973,1.00016,.99977,1.00001,1,1.00001,1.00026,1,1.00026,1,1.00026,1,.99924,.99973,1.00001,.99973,1,.99982,1.00022,1.00026,1.00001,1,1.00026,1.0006,.99998,.99998,.99998,.99998,.99998,.99998,.99998,.99998,.99998,.99998,.99998,.99928,1,.99977,1.00013,1.00055,.99947,.99945,.99941,.99924,1.00001,1.00001,1.0004,.91621,1.00001,1.00026,.99977,1.00022,1.0006,1.00001,1.00005,.99999,.99977,1.00015,1.00022,.99977,1.00001,.99973,1.00026,1.00001,1.00019,1.00001,.99946,1,1.0006,1.00001,.99978,1.00045,.99973,.99924,1.00023,.99978,.99966,1,1.00065,1.00045,1.00019,.99973,.99973,.99924,1,1,.96499,1,1.00055,.99973,1.00008,1.00027,1,.9997,.99995,1.00023,.99933,1.00019,1.00015,1.00031,.99924,1.00023,.99973,1.00023,1.00031,1.00001,.99928,1.00029,1.00092,1.00035,1.00001,1.0006,1.0006,1,.99988,.99975,1,1.00082,.99561,.9996,1.00035,1.00001,.99962,1.00001,1.00092,.99964,1.00001,.99963,.99999,1.00035,1.00035,1.00082,.99962,.99999,.99977,1.00022,1.00035,1.00001,.99977,1.00026,.9996,.99967,1.00001,1.00034,1.00074,1.00054,1.00053,1.00063,.99971,.99962,1.00035,.99975,.99977,.99973,1.00043,.99953,1.0007,.99915,.99973,1.00008,.99892,1.00073,1.00073,1.00114,.99915,1.00073,.99955,.99973,1.00092,.99973,1,.99998,1,1.0003,1,1.00043,1.00001,.99969,1.0003,1,1.00035,1.00001,.9995,1,1.00092,.99973,.99973,.99973,1.0007,.9995,1,.99924,1.0006,.99924,.99972,1.00062,.99973,1.00114,1.00073,1,.99955,1,1,1.00047,.99968,1.00016,.99977,1.00016,.99977,1.00016,.99977,1.00001,1,1,1,.99973,1,1,.99955,.99924,.99924,.99924,.99924,.99998,.99998,.99998,.99973,.99973,.99972,1,1,1.00267,.99999,.99998,.99998,1,.99998,1.66475,1,.99973,.99973,1.00023,.99973,.99971,.99925,1.00023,1,.99991,.99984,1.00002,1.00002,1.00002,1.00002,1,1,1,1,1,1,1,.96329,1,1.20985,1.39713,1.00003,.8254,1.00015,1,1.00035,1.00027,1.00031,1.00031,.99915,1.00031,1.00031,.99999,1.00003,.99999,.99999,1.41144,1.6,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.40579,1.40579,1.36625,.99999,1,.99861,.99861,1,1.00026,1.00026,1.00026,1.00026,.95317,.99999,.99999,.99999,.99999,1.40483,1,.99977,1.00054,1,1,.99953,.99962,1.00042,.9995,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1];Et.HelveticaRegularFactors=Pt;const Xt={lineHeight:1.2,lineGap:.2};Et.HelveticaRegularMetrics=Xt},(Ct,Et)=>{Object.defineProperty(Et,"__esModule",{value:!0}),Et.LiberationSansRegularWidths=Et.LiberationSansRegularMapping=Et.LiberationSansItalicWidths=Et.LiberationSansItalicMapping=Et.LiberationSansBoldWidths=Et.LiberationSansBoldMapping=Et.LiberationSansBoldItalicWidths=Et.LiberationSansBoldItalicMapping=void 0;const Ft=[365,0,333,278,333,474,556,556,889,722,238,333,333,389,584,278,333,278,278,556,556,556,556,556,556,556,556,556,556,333,333,584,584,584,611,975,722,722,722,722,667,611,778,722,278,556,722,611,833,722,778,667,778,722,667,611,722,667,944,667,667,611,333,278,333,584,556,333,556,611,556,611,556,333,611,611,278,278,556,278,889,611,611,611,611,389,556,333,611,556,778,556,556,500,389,280,389,584,333,556,556,556,556,280,556,333,737,370,556,584,737,552,400,549,333,333,333,576,556,278,333,333,365,556,834,834,834,611,722,722,722,722,722,722,1e3,722,667,667,667,667,278,278,278,278,722,722,778,778,778,778,778,584,778,722,722,722,722,667,667,611,556,556,556,556,556,556,889,556,556,556,556,556,278,278,278,278,611,611,611,611,611,611,611,549,611,611,611,611,611,556,611,556,722,556,722,556,722,556,722,556,722,556,722,556,722,556,722,719,722,611,667,556,667,556,667,556,667,556,667,556,778,611,778,611,778,611,778,611,722,611,722,611,278,278,278,278,278,278,278,278,278,278,785,556,556,278,722,556,556,611,278,611,278,611,385,611,479,611,278,722,611,722,611,722,611,708,723,611,778,611,778,611,778,611,1e3,944,722,389,722,389,722,389,667,556,667,556,667,556,667,556,611,333,611,479,611,333,722,611,722,611,722,611,722,611,722,611,722,611,944,778,667,556,667,611,500,611,500,611,500,278,556,722,556,1e3,889,778,611,667,556,611,333,333,333,333,333,333,333,333,333,333,333,465,722,333,853,906,474,825,927,838,278,722,722,601,719,667,611,722,778,278,722,667,833,722,644,778,722,667,600,611,667,821,667,809,802,278,667,615,451,611,278,582,615,610,556,606,475,460,611,541,278,558,556,612,556,445,611,766,619,520,684,446,582,715,576,753,845,278,582,611,582,845,667,669,885,567,711,667,278,276,556,1094,1062,875,610,722,622,719,722,719,722,567,712,667,904,626,719,719,610,702,833,722,778,719,667,722,611,622,854,667,730,703,1005,1019,870,979,719,711,1031,719,556,618,615,417,635,556,709,497,615,615,500,635,740,604,611,604,611,556,490,556,875,556,615,581,833,844,729,854,615,552,854,583,556,556,611,417,552,556,278,281,278,969,906,611,500,615,556,604,778,611,487,447,944,778,944,778,944,778,667,556,333,333,556,1e3,1e3,552,278,278,278,278,500,500,500,556,556,350,1e3,1e3,240,479,333,333,604,333,167,396,556,556,1094,556,885,489,1115,1e3,768,600,834,834,834,834,1e3,500,1e3,500,1e3,500,500,494,612,823,713,584,549,713,979,722,274,549,549,583,549,549,604,584,604,604,708,625,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,729,604,604,354,354,1e3,990,990,990,990,494,604,604,604,604,354,1021,1052,917,750,750,531,656,594,510,500,750,750,611,611,333,333,333,333,333,333,333,333,222,222,333,333,333,333,333,333,333,333];Et.LiberationSansBoldWidths=Ft;const wt=[-1,-1,-1,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,96,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,123,124,125,126,161,162,163,164,165,166,167,168,169,170,171,172,174,175,176,177,178,179,180,181,182,183,184,185,186,187,188,189,190,191,192,193,194,195,196,197,198,199,200,201,202,203,204,205,206,207,208,209,210,211,212,213,214,215,216,217,218,219,220,221,222,223,224,225,226,227,228,229,230,231,232,233,234,235,236,237,238,239,240,241,242,243,244,245,246,247,248,249,250,251,252,253,254,255,256,257,258,259,260,261,262,263,264,265,266,267,268,269,270,271,272,273,274,275,276,277,278,279,280,281,282,283,284,285,286,287,288,289,290,291,292,293,294,295,296,297,298,299,300,301,302,303,304,305,306,307,308,309,310,311,312,313,314,315,316,317,318,319,320,321,322,323,324,325,326,327,328,329,330,331,332,333,334,335,336,337,338,339,340,341,342,343,344,345,346,347,348,349,350,351,352,353,354,355,356,357,358,359,360,361,362,363,364,365,366,367,368,369,370,371,372,373,374,375,376,377,378,379,380,381,382,383,402,506,507,508,509,510,511,536,537,538,539,710,711,713,728,729,730,731,732,733,900,901,902,903,904,905,906,908,910,911,912,913,914,915,916,917,918,919,920,921,922,923,924,925,926,927,928,929,931,932,933,934,935,936,937,938,939,940,941,942,943,944,945,946,947,948,949,950,951,952,953,954,955,956,957,958,959,960,961,962,963,964,965,966,967,968,969,970,971,972,973,974,1024,1025,1026,1027,1028,1029,1030,1031,1032,1033,1034,1035,1036,1037,1038,1039,1040,1041,1042,1043,1044,1045,1046,1047,1048,1049,1050,1051,1052,1053,1054,1055,1056,1057,1058,1059,1060,1061,1062,1063,1064,1065,1066,1067,1068,1069,1070,1071,1072,1073,1074,1075,1076,1077,1078,1079,1080,1081,1082,1083,1084,1085,1086,1087,1088,1089,1090,1091,1092,1093,1094,1095,1096,1097,1098,1099,1100,1101,1102,1103,1104,1105,1106,1107,1108,1109,1110,1111,1112,1113,1114,1115,1116,1117,1118,1119,1138,1139,1168,1169,7808,7809,7810,7811,7812,7813,7922,7923,8208,8209,8211,8212,8213,8215,8216,8217,8218,8219,8220,8221,8222,8224,8225,8226,8230,8240,8242,8243,8249,8250,8252,8254,8260,8319,8355,8356,8359,8364,8453,8467,8470,8482,8486,8494,8539,8540,8541,8542,8592,8593,8594,8595,8596,8597,8616,8706,8710,8719,8721,8722,8730,8734,8735,8745,8747,8776,8800,8801,8804,8805,8962,8976,8992,8993,9472,9474,9484,9488,9492,9496,9500,9508,9516,9524,9532,9552,9553,9554,9555,9556,9557,9558,9559,9560,9561,9562,9563,9564,9565,9566,9567,9568,9569,9570,9571,9572,9573,9574,9575,9576,9577,9578,9579,9580,9600,9604,9608,9612,9616,9617,9618,9619,9632,9633,9642,9643,9644,9650,9658,9660,9668,9674,9675,9679,9688,9689,9702,9786,9787,9788,9792,9794,9824,9827,9829,9830,9834,9835,9836,61441,61442,61445,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1];Et.LiberationSansBoldMapping=wt;const _t=[365,0,333,278,333,474,556,556,889,722,238,333,333,389,584,278,333,278,278,556,556,556,556,556,556,556,556,556,556,333,333,584,584,584,611,975,722,722,722,722,667,611,778,722,278,556,722,611,833,722,778,667,778,722,667,611,722,667,944,667,667,611,333,278,333,584,556,333,556,611,556,611,556,333,611,611,278,278,556,278,889,611,611,611,611,389,556,333,611,556,778,556,556,500,389,280,389,584,333,556,556,556,556,280,556,333,737,370,556,584,737,552,400,549,333,333,333,576,556,278,333,333,365,556,834,834,834,611,722,722,722,722,722,722,1e3,722,667,667,667,667,278,278,278,278,722,722,778,778,778,778,778,584,778,722,722,722,722,667,667,611,556,556,556,556,556,556,889,556,556,556,556,556,278,278,278,278,611,611,611,611,611,611,611,549,611,611,611,611,611,556,611,556,722,556,722,556,722,556,722,556,722,556,722,556,722,556,722,740,722,611,667,556,667,556,667,556,667,556,667,556,778,611,778,611,778,611,778,611,722,611,722,611,278,278,278,278,278,278,278,278,278,278,782,556,556,278,722,556,556,611,278,611,278,611,396,611,479,611,278,722,611,722,611,722,611,708,723,611,778,611,778,611,778,611,1e3,944,722,389,722,389,722,389,667,556,667,556,667,556,667,556,611,333,611,479,611,333,722,611,722,611,722,611,722,611,722,611,722,611,944,778,667,556,667,611,500,611,500,611,500,278,556,722,556,1e3,889,778,611,667,556,611,333,333,333,333,333,333,333,333,333,333,333,333,722,333,854,906,473,844,930,847,278,722,722,610,671,667,611,722,778,278,722,667,833,722,657,778,718,667,590,611,667,822,667,829,781,278,667,620,479,611,278,591,620,621,556,610,479,492,611,558,278,566,556,603,556,450,611,712,605,532,664,409,591,704,578,773,834,278,591,611,591,834,667,667,886,614,719,667,278,278,556,1094,1042,854,622,719,677,719,722,708,722,614,722,667,927,643,719,719,615,687,833,722,778,719,667,722,611,677,781,667,729,708,979,989,854,1e3,708,719,1042,729,556,619,604,534,618,556,736,510,611,611,507,622,740,604,611,611,611,556,889,556,885,556,646,583,889,935,707,854,594,552,865,589,556,556,611,469,563,556,278,278,278,969,906,611,507,619,556,611,778,611,575,467,944,778,944,778,944,778,667,556,333,333,556,1e3,1e3,552,278,278,278,278,500,500,500,556,556,350,1e3,1e3,240,479,333,333,604,333,167,396,556,556,1104,556,885,516,1146,1e3,768,600,834,834,834,834,999,500,1e3,500,1e3,500,500,494,612,823,713,584,549,713,979,722,274,549,549,583,549,549,604,584,604,604,708,625,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,729,604,604,354,354,1e3,990,990,990,990,494,604,604,604,604,354,1021,1052,917,750,750,531,656,594,510,500,750,750,611,611,333,333,333,333,333,333,333,333,222,222,333,333,333,333,333,333,333,333];Et.LiberationSansBoldItalicWidths=_t;const Rt=[-1,-1,-1,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,96,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,123,124,125,126,161,162,163,164,165,166,167,168,169,170,171,172,174,175,176,177,178,179,180,181,182,183,184,185,186,187,188,189,190,191,192,193,194,195,196,197,198,199,200,201,202,203,204,205,206,207,208,209,210,211,212,213,214,215,216,217,218,219,220,221,222,223,224,225,226,227,228,229,230,231,232,233,234,235,236,237,238,239,240,241,242,243,244,245,246,247,248,249,250,251,252,253,254,255,256,257,258,259,260,261,262,263,264,265,266,267,268,269,270,271,272,273,274,275,276,277,278,279,280,281,282,283,284,285,286,287,288,289,290,291,292,293,294,295,296,297,298,299,300,301,302,303,304,305,306,307,308,309,310,311,312,313,314,315,316,317,318,319,320,321,322,323,324,325,326,327,328,329,330,331,332,333,334,335,336,337,338,339,340,341,342,343,344,345,346,347,348,349,350,351,352,353,354,355,356,357,358,359,360,361,362,363,364,365,366,367,368,369,370,371,372,373,374,375,376,377,378,379,380,381,382,383,402,506,507,508,509,510,511,536,537,538,539,710,711,713,728,729,730,731,732,733,900,901,902,903,904,905,906,908,910,911,912,913,914,915,916,917,918,919,920,921,922,923,924,925,926,927,928,929,931,932,933,934,935,936,937,938,939,940,941,942,943,944,945,946,947,948,949,950,951,952,953,954,955,956,957,958,959,960,961,962,963,964,965,966,967,968,969,970,971,972,973,974,1024,1025,1026,1027,1028,1029,1030,1031,1032,1033,1034,1035,1036,1037,1038,1039,1040,1041,1042,1043,1044,1045,1046,1047,1048,1049,1050,1051,1052,1053,1054,1055,1056,1057,1058,1059,1060,1061,1062,1063,1064,1065,1066,1067,1068,1069,1070,1071,1072,1073,1074,1075,1076,1077,1078,1079,1080,1081,1082,1083,1084,1085,1086,1087,1088,1089,1090,1091,1092,1093,1094,1095,1096,1097,1098,1099,1100,1101,1102,1103,1104,1105,1106,1107,1108,1109,1110,1111,1112,1113,1114,1115,1116,1117,1118,1119,1138,1139,1168,1169,7808,7809,7810,7811,7812,7813,7922,7923,8208,8209,8211,8212,8213,8215,8216,8217,8218,8219,8220,8221,8222,8224,8225,8226,8230,8240,8242,8243,8249,8250,8252,8254,8260,8319,8355,8356,8359,8364,8453,8467,8470,8482,8486,8494,8539,8540,8541,8542,8592,8593,8594,8595,8596,8597,8616,8706,8710,8719,8721,8722,8730,8734,8735,8745,8747,8776,8800,8801,8804,8805,8962,8976,8992,8993,9472,9474,9484,9488,9492,9496,9500,9508,9516,9524,9532,9552,9553,9554,9555,9556,9557,9558,9559,9560,9561,9562,9563,9564,9565,9566,9567,9568,9569,9570,9571,9572,9573,9574,9575,9576,9577,9578,9579,9580,9600,9604,9608,9612,9616,9617,9618,9619,9632,9633,9642,9643,9644,9650,9658,9660,9668,9674,9675,9679,9688,9689,9702,9786,9787,9788,9792,9794,9824,9827,9829,9830,9834,9835,9836,61441,61442,61445,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1];Et.LiberationSansBoldItalicMapping=Rt;const _e=[365,0,333,278,278,355,556,556,889,667,191,333,333,389,584,278,333,278,278,556,556,556,556,556,556,556,556,556,556,278,278,584,584,584,556,1015,667,667,722,722,667,611,778,722,278,500,667,556,833,722,778,667,778,722,667,611,722,667,944,667,667,611,278,278,278,469,556,333,556,556,500,556,556,278,556,556,222,222,500,222,833,556,556,556,556,333,500,278,556,500,722,500,500,500,334,260,334,584,333,556,556,556,556,260,556,333,737,370,556,584,737,552,400,549,333,333,333,576,537,278,333,333,365,556,834,834,834,611,667,667,667,667,667,667,1e3,722,667,667,667,667,278,278,278,278,722,722,778,778,778,778,778,584,778,722,722,722,722,667,667,611,556,556,556,556,556,556,889,500,556,556,556,556,278,278,278,278,556,556,556,556,556,556,556,549,611,556,556,556,556,500,556,500,667,556,667,556,667,556,722,500,722,500,722,500,722,500,722,625,722,556,667,556,667,556,667,556,667,556,667,556,778,556,778,556,778,556,778,556,722,556,722,556,278,278,278,278,278,278,278,222,278,278,733,444,500,222,667,500,500,556,222,556,222,556,281,556,400,556,222,722,556,722,556,722,556,615,723,556,778,556,778,556,778,556,1e3,944,722,333,722,333,722,333,667,500,667,500,667,500,667,500,611,278,611,354,611,278,722,556,722,556,722,556,722,556,722,556,722,556,944,722,667,500,667,611,500,611,500,611,500,222,556,667,556,1e3,889,778,611,667,500,611,278,333,333,333,333,333,333,333,333,333,333,333,667,278,789,846,389,794,865,775,222,667,667,570,671,667,611,722,778,278,667,667,833,722,648,778,725,667,600,611,667,837,667,831,761,278,667,570,439,555,222,550,570,571,500,556,439,463,555,542,222,500,492,548,500,447,556,670,573,486,603,374,550,652,546,728,779,222,550,556,550,779,667,667,843,544,708,667,278,278,500,1066,982,844,589,715,639,724,667,651,667,544,704,667,917,614,715,715,589,686,833,722,778,725,667,722,611,639,795,667,727,673,920,923,805,886,651,694,1022,682,556,562,522,493,553,556,688,465,556,556,472,564,686,550,556,556,556,500,833,500,835,500,572,518,830,851,621,736,526,492,752,534,556,556,556,378,496,500,222,222,222,910,828,556,472,565,500,556,778,556,492,339,944,722,944,722,944,722,667,500,333,333,556,1e3,1e3,552,222,222,222,222,333,333,333,556,556,350,1e3,1e3,188,354,333,333,500,333,167,365,556,556,1094,556,885,323,1083,1e3,768,600,834,834,834,834,1e3,500,998,500,1e3,500,500,494,612,823,713,584,549,713,979,719,274,549,549,584,549,549,604,584,604,604,708,625,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,729,604,604,354,354,1e3,990,990,990,990,494,604,604,604,604,354,1021,1052,917,750,750,531,656,594,510,500,750,750,500,500,333,333,333,333,333,333,333,333,222,222,294,294,324,324,316,328,398,285];Et.LiberationSansItalicWidths=_e;const bt=[-1,-1,-1,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,96,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,123,124,125,126,161,162,163,164,165,166,167,168,169,170,171,172,174,175,176,177,178,179,180,181,182,183,184,185,186,187,188,189,190,191,192,193,194,195,196,197,198,199,200,201,202,203,204,205,206,207,208,209,210,211,212,213,214,215,216,217,218,219,220,221,222,223,224,225,226,227,228,229,230,231,232,233,234,235,236,237,238,239,240,241,242,243,244,245,246,247,248,249,250,251,252,253,254,255,256,257,258,259,260,261,262,263,264,265,266,267,268,269,270,271,272,273,274,275,276,277,278,279,280,281,282,283,284,285,286,287,288,289,290,291,292,293,294,295,296,297,298,299,300,301,302,303,304,305,306,307,308,309,310,311,312,313,314,315,316,317,318,319,320,321,322,323,324,325,326,327,328,329,330,331,332,333,334,335,336,337,338,339,340,341,342,343,344,345,346,347,348,349,350,351,352,353,354,355,356,357,358,359,360,361,362,363,364,365,366,367,368,369,370,371,372,373,374,375,376,377,378,379,380,381,382,383,402,506,507,508,509,510,511,536,537,538,539,710,711,713,728,729,730,731,732,733,900,901,902,903,904,905,906,908,910,911,912,913,914,915,916,917,918,919,920,921,922,923,924,925,926,927,928,929,931,932,933,934,935,936,937,938,939,940,941,942,943,944,945,946,947,948,949,950,951,952,953,954,955,956,957,958,959,960,961,962,963,964,965,966,967,968,969,970,971,972,973,974,1024,1025,1026,1027,1028,1029,1030,1031,1032,1033,1034,1035,1036,1037,1038,1039,1040,1041,1042,1043,1044,1045,1046,1047,1048,1049,1050,1051,1052,1053,1054,1055,1056,1057,1058,1059,1060,1061,1062,1063,1064,1065,1066,1067,1068,1069,1070,1071,1072,1073,1074,1075,1076,1077,1078,1079,1080,1081,1082,1083,1084,1085,1086,1087,1088,1089,1090,1091,1092,1093,1094,1095,1096,1097,1098,1099,1100,1101,1102,1103,1104,1105,1106,1107,1108,1109,1110,1111,1112,1113,1114,1115,1116,1117,1118,1119,1138,1139,1168,1169,7808,7809,7810,7811,7812,7813,7922,7923,8208,8209,8211,8212,8213,8215,8216,8217,8218,8219,8220,8221,8222,8224,8225,8226,8230,8240,8242,8243,8249,8250,8252,8254,8260,8319,8355,8356,8359,8364,8453,8467,8470,8482,8486,8494,8539,8540,8541,8542,8592,8593,8594,8595,8596,8597,8616,8706,8710,8719,8721,8722,8730,8734,8735,8745,8747,8776,8800,8801,8804,8805,8962,8976,8992,8993,9472,9474,9484,9488,9492,9496,9500,9508,9516,9524,9532,9552,9553,9554,9555,9556,9557,9558,9559,9560,9561,9562,9563,9564,9565,9566,9567,9568,9569,9570,9571,9572,9573,9574,9575,9576,9577,9578,9579,9580,9600,9604,9608,9612,9616,9617,9618,9619,9632,9633,9642,9643,9644,9650,9658,9660,9668,9674,9675,9679,9688,9689,9702,9786,9787,9788,9792,9794,9824,9827,9829,9830,9834,9835,9836,61441,61442,61445,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1];Et.LiberationSansItalicMapping=bt;const Pt=[365,0,333,278,278,355,556,556,889,667,191,333,333,389,584,278,333,278,278,556,556,556,556,556,556,556,556,556,556,278,278,584,584,584,556,1015,667,667,722,722,667,611,778,722,278,500,667,556,833,722,778,667,778,722,667,611,722,667,944,667,667,611,278,278,278,469,556,333,556,556,500,556,556,278,556,556,222,222,500,222,833,556,556,556,556,333,500,278,556,500,722,500,500,500,334,260,334,584,333,556,556,556,556,260,556,333,737,370,556,584,737,552,400,549,333,333,333,576,537,278,333,333,365,556,834,834,834,611,667,667,667,667,667,667,1e3,722,667,667,667,667,278,278,278,278,722,722,778,778,778,778,778,584,778,722,722,722,722,667,667,611,556,556,556,556,556,556,889,500,556,556,556,556,278,278,278,278,556,556,556,556,556,556,556,549,611,556,556,556,556,500,556,500,667,556,667,556,667,556,722,500,722,500,722,500,722,500,722,615,722,556,667,556,667,556,667,556,667,556,667,556,778,556,778,556,778,556,778,556,722,556,722,556,278,278,278,278,278,278,278,222,278,278,735,444,500,222,667,500,500,556,222,556,222,556,292,556,334,556,222,722,556,722,556,722,556,604,723,556,778,556,778,556,778,556,1e3,944,722,333,722,333,722,333,667,500,667,500,667,500,667,500,611,278,611,375,611,278,722,556,722,556,722,556,722,556,722,556,722,556,944,722,667,500,667,611,500,611,500,611,500,222,556,667,556,1e3,889,778,611,667,500,611,278,333,333,333,333,333,333,333,333,333,333,333,667,278,784,838,384,774,855,752,222,667,667,551,668,667,611,722,778,278,667,668,833,722,650,778,722,667,618,611,667,798,667,835,748,278,667,578,446,556,222,547,578,575,500,557,446,441,556,556,222,500,500,576,500,448,556,690,569,482,617,395,547,648,525,713,781,222,547,556,547,781,667,667,865,542,719,667,278,278,500,1057,1010,854,583,722,635,719,667,656,667,542,677,667,923,604,719,719,583,656,833,722,778,719,667,722,611,635,760,667,740,667,917,938,792,885,656,719,1010,722,556,573,531,365,583,556,669,458,559,559,438,583,688,552,556,542,556,500,458,500,823,500,573,521,802,823,625,719,521,510,750,542,556,556,556,365,510,500,222,278,222,906,812,556,438,559,500,552,778,556,489,411,944,722,944,722,944,722,667,500,333,333,556,1e3,1e3,552,222,222,222,222,333,333,333,556,556,350,1e3,1e3,188,354,333,333,500,333,167,365,556,556,1094,556,885,323,1073,1e3,768,600,834,834,834,834,1e3,500,1e3,500,1e3,500,500,494,612,823,713,584,549,713,979,719,274,549,549,583,549,549,604,584,604,604,708,625,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,729,604,604,354,354,1e3,990,990,990,990,494,604,604,604,604,354,1021,1052,917,750,750,531,656,594,510,500,750,750,500,500,333,333,333,333,333,333,333,333,222,222,294,294,324,324,316,328,398,285];Et.LiberationSansRegularWidths=Pt;const Xt=[-1,-1,-1,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,96,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,123,124,125,126,161,162,163,164,165,166,167,168,169,170,171,172,174,175,176,177,178,179,180,181,182,183,184,185,186,187,188,189,190,191,192,193,194,195,196,197,198,199,200,201,202,203,204,205,206,207,208,209,210,211,212,213,214,215,216,217,218,219,220,221,222,223,224,225,226,227,228,229,230,231,232,233,234,235,236,237,238,239,240,241,242,243,244,245,246,247,248,249,250,251,252,253,254,255,256,257,258,259,260,261,262,263,264,265,266,267,268,269,270,271,272,273,274,275,276,277,278,279,280,281,282,283,284,285,286,287,288,289,290,291,292,293,294,295,296,297,298,299,300,301,302,303,304,305,306,307,308,309,310,311,312,313,314,315,316,317,318,319,320,321,322,323,324,325,326,327,328,329,330,331,332,333,334,335,336,337,338,339,340,341,342,343,344,345,346,347,348,349,350,351,352,353,354,355,356,357,358,359,360,361,362,363,364,365,366,367,368,369,370,371,372,373,374,375,376,377,378,379,380,381,382,383,402,506,507,508,509,510,511,536,537,538,539,710,711,713,728,729,730,731,732,733,900,901,902,903,904,905,906,908,910,911,912,913,914,915,916,917,918,919,920,921,922,923,924,925,926,927,928,929,931,932,933,934,935,936,937,938,939,940,941,942,943,944,945,946,947,948,949,950,951,952,953,954,955,956,957,958,959,960,961,962,963,964,965,966,967,968,969,970,971,972,973,974,1024,1025,1026,1027,1028,1029,1030,1031,1032,1033,1034,1035,1036,1037,1038,1039,1040,1041,1042,1043,1044,1045,1046,1047,1048,1049,1050,1051,1052,1053,1054,1055,1056,1057,1058,1059,1060,1061,1062,1063,1064,1065,1066,1067,1068,1069,1070,1071,1072,1073,1074,1075,1076,1077,1078,1079,1080,1081,1082,1083,1084,1085,1086,1087,1088,1089,1090,1091,1092,1093,1094,1095,1096,1097,1098,1099,1100,1101,1102,1103,1104,1105,1106,1107,1108,1109,1110,1111,1112,1113,1114,1115,1116,1117,1118,1119,1138,1139,1168,1169,7808,7809,7810,7811,7812,7813,7922,7923,8208,8209,8211,8212,8213,8215,8216,8217,8218,8219,8220,8221,8222,8224,8225,8226,8230,8240,8242,8243,8249,8250,8252,8254,8260,8319,8355,8356,8359,8364,8453,8467,8470,8482,8486,8494,8539,8540,8541,8542,8592,8593,8594,8595,8596,8597,8616,8706,8710,8719,8721,8722,8730,8734,8735,8745,8747,8776,8800,8801,8804,8805,8962,8976,8992,8993,9472,9474,9484,9488,9492,9496,9500,9508,9516,9524,9532,9552,9553,9554,9555,9556,9557,9558,9559,9560,9561,9562,9563,9564,9565,9566,9567,9568,9569,9570,9571,9572,9573,9574,9575,9576,9577,9578,9579,9580,9600,9604,9608,9612,9616,9617,9618,9619,9632,9633,9642,9643,9644,9650,9658,9660,9668,9674,9675,9679,9688,9689,9702,9786,9787,9788,9792,9794,9824,9827,9829,9830,9834,9835,9836,61441,61442,61445,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1];Et.LiberationSansRegularMapping=Xt},(Ct,Et)=>{Object.defineProperty(Et,"__esModule",{value:!0}),Et.MyriadProRegularMetrics=Et.MyriadProRegularFactors=Et.MyriadProItalicMetrics=Et.MyriadProItalicFactors=Et.MyriadProBoldMetrics=Et.MyriadProBoldItalicMetrics=Et.MyriadProBoldItalicFactors=Et.MyriadProBoldFactors=void 0;const Ft=[1.36898,1,1,.72706,.80479,.83734,.98894,.99793,.9897,.93884,.86209,.94292,.94292,1.16661,1.02058,.93582,.96694,.93582,1.19137,.99793,.99793,.99793,.99793,.99793,.99793,.99793,.99793,.99793,.99793,.78076,.78076,1.02058,1.02058,1.02058,.72851,.78966,.90838,.83637,.82391,.96376,.80061,.86275,.8768,.95407,1.0258,.73901,.85022,.83655,1.0156,.95546,.92179,.87107,.92179,.82114,.8096,.89713,.94438,.95353,.94083,.91905,.90406,.9446,.94292,1.18777,.94292,1.02058,.89903,.90088,.94938,.97898,.81093,.97571,.94938,1.024,.9577,.95933,.98621,1.0474,.97455,.98981,.9672,.95933,.9446,.97898,.97407,.97646,.78036,1.10208,.95442,.95298,.97579,.9332,.94039,.938,.80687,1.01149,.80687,1.02058,.80479,.99793,.99793,.99793,.99793,1.01149,1.00872,.90088,.91882,1.0213,.8361,1.02058,.62295,.54324,.89022,1.08595,1,1,.90088,1,.97455,.93582,.90088,1,1.05686,.8361,.99642,.99642,.99642,.72851,.90838,.90838,.90838,.90838,.90838,.90838,.868,.82391,.80061,.80061,.80061,.80061,1.0258,1.0258,1.0258,1.0258,.97484,.95546,.92179,.92179,.92179,.92179,.92179,1.02058,.92179,.94438,.94438,.94438,.94438,.90406,.86958,.98225,.94938,.94938,.94938,.94938,.94938,.94938,.9031,.81093,.94938,.94938,.94938,.94938,.98621,.98621,.98621,.98621,.93969,.95933,.9446,.9446,.9446,.9446,.9446,1.08595,.9446,.95442,.95442,.95442,.95442,.94039,.97898,.94039,.90838,.94938,.90838,.94938,.90838,.94938,.82391,.81093,.82391,.81093,.82391,.81093,.82391,.81093,.96376,.84313,.97484,.97571,.80061,.94938,.80061,.94938,.80061,.94938,.80061,.94938,.80061,.94938,.8768,.9577,.8768,.9577,.8768,.9577,1,1,.95407,.95933,.97069,.95933,1.0258,.98621,1.0258,.98621,1.0258,.98621,1.0258,.98621,1.0258,.98621,.887,1.01591,.73901,1.0474,1,1,.97455,.83655,.98981,1,1,.83655,.73977,.83655,.73903,.84638,1.033,.95546,.95933,1,1,.95546,.95933,.8271,.95417,.95933,.92179,.9446,.92179,.9446,.92179,.9446,.936,.91964,.82114,.97646,1,1,.82114,.97646,.8096,.78036,.8096,.78036,1,1,.8096,.78036,1,1,.89713,.77452,.89713,1.10208,.94438,.95442,.94438,.95442,.94438,.95442,.94438,.95442,.94438,.95442,.94438,.95442,.94083,.97579,.90406,.94039,.90406,.9446,.938,.9446,.938,.9446,.938,1,.99793,.90838,.94938,.868,.9031,.92179,.9446,1,1,.89713,1.10208,.90088,.90088,.90088,.90088,.90088,.90088,.90088,.90088,.90088,.90989,.9358,.91945,.83181,.75261,.87992,.82976,.96034,.83689,.97268,1.0078,.90838,.83637,.8019,.90157,.80061,.9446,.95407,.92436,1.0258,.85022,.97153,1.0156,.95546,.89192,.92179,.92361,.87107,.96318,.89713,.93704,.95638,.91905,.91709,.92796,1.0258,.93704,.94836,1.0373,.95933,1.0078,.95871,.94836,.96174,.92601,.9498,.98607,.95776,.95933,1.05453,1.0078,.98275,.9314,.95617,.91701,1.05993,.9446,.78367,.9553,1,.86832,1.0128,.95871,.99394,.87548,.96361,.86774,1.0078,.95871,.9446,.95871,.86774,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,.94083,.97579,.94083,.97579,.94083,.97579,.90406,.94039,.96694,1,.89903,1,1,1,.93582,.93582,.93582,1,.908,.908,.918,.94219,.94219,.96544,1,1.285,1,1,.81079,.81079,1,1,.74854,1,1,1,1,.99793,1,1,1,.65,1,1.36145,1,1,1,1,1,1,1,1,1,1,1,1.17173,1,.80535,.76169,1.02058,1.0732,1.05486,1,1,1.30692,1.08595,1.08595,1,1.08595,1.08595,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1.16161,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1];Et.MyriadProBoldFactors=Ft;const wt={lineHeight:1.2,lineGap:.2};Et.MyriadProBoldMetrics=wt;const _t=[1.36898,1,1,.66227,.80779,.81625,.97276,.97276,.97733,.92222,.83266,.94292,.94292,1.16148,1.02058,.93582,.96694,.93582,1.17337,.97276,.97276,.97276,.97276,.97276,.97276,.97276,.97276,.97276,.97276,.78076,.78076,1.02058,1.02058,1.02058,.71541,.76813,.85576,.80591,.80729,.94299,.77512,.83655,.86523,.92222,.98621,.71743,.81698,.79726,.98558,.92222,.90637,.83809,.90637,.80729,.76463,.86275,.90699,.91605,.9154,.85308,.85458,.90531,.94292,1.21296,.94292,1.02058,.89903,1.18616,.99613,.91677,.78216,.91677,.90083,.98796,.9135,.92168,.95381,.98981,.95298,.95381,.93459,.92168,.91513,.92004,.91677,.95077,.748,1.04502,.91677,.92061,.94236,.89544,.89364,.9,.80687,.8578,.80687,1.02058,.80779,.97276,.97276,.97276,.97276,.8578,.99973,1.18616,.91339,1.08074,.82891,1.02058,.55509,.71526,.89022,1.08595,1,1,1.18616,1,.96736,.93582,1.18616,1,1.04864,.82711,.99043,.99043,.99043,.71541,.85576,.85576,.85576,.85576,.85576,.85576,.845,.80729,.77512,.77512,.77512,.77512,.98621,.98621,.98621,.98621,.95961,.92222,.90637,.90637,.90637,.90637,.90637,1.02058,.90251,.90699,.90699,.90699,.90699,.85458,.83659,.94951,.99613,.99613,.99613,.99613,.99613,.99613,.85811,.78216,.90083,.90083,.90083,.90083,.95381,.95381,.95381,.95381,.9135,.92168,.91513,.91513,.91513,.91513,.91513,1.08595,.91677,.91677,.91677,.91677,.91677,.89364,.92332,.89364,.85576,.99613,.85576,.99613,.85576,.99613,.80729,.78216,.80729,.78216,.80729,.78216,.80729,.78216,.94299,.76783,.95961,.91677,.77512,.90083,.77512,.90083,.77512,.90083,.77512,.90083,.77512,.90083,.86523,.9135,.86523,.9135,.86523,.9135,1,1,.92222,.92168,.92222,.92168,.98621,.95381,.98621,.95381,.98621,.95381,.98621,.95381,.98621,.95381,.86036,.97096,.71743,.98981,1,1,.95298,.79726,.95381,1,1,.79726,.6894,.79726,.74321,.81691,1.0006,.92222,.92168,1,1,.92222,.92168,.79464,.92098,.92168,.90637,.91513,.90637,.91513,.90637,.91513,.909,.87514,.80729,.95077,1,1,.80729,.95077,.76463,.748,.76463,.748,1,1,.76463,.748,1,1,.86275,.72651,.86275,1.04502,.90699,.91677,.90699,.91677,.90699,.91677,.90699,.91677,.90699,.91677,.90699,.91677,.9154,.94236,.85458,.89364,.85458,.90531,.9,.90531,.9,.90531,.9,1,.97276,.85576,.99613,.845,.85811,.90251,.91677,1,1,.86275,1.04502,1.18616,1.18616,1.18616,1.18616,1.18616,1.18616,1.18616,1.18616,1.18616,1.00899,1.30628,.85576,.80178,.66862,.7927,.69323,.88127,.72459,.89711,.95381,.85576,.80591,.7805,.94729,.77512,.90531,.92222,.90637,.98621,.81698,.92655,.98558,.92222,.85359,.90637,.90976,.83809,.94523,.86275,.83509,.93157,.85308,.83392,.92346,.98621,.83509,.92886,.91324,.92168,.95381,.90646,.92886,.90557,.86847,.90276,.91324,.86842,.92168,.99531,.95381,.9224,.85408,.92699,.86847,1.0051,.91513,.80487,.93481,1,.88159,1.05214,.90646,.97355,.81539,.89398,.85923,.95381,.90646,.91513,.90646,.85923,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,.9154,.94236,.9154,.94236,.9154,.94236,.85458,.89364,.96694,1,.89903,1,1,1,.91782,.91782,.91782,1,.896,.896,.896,.9332,.9332,.95973,1,1.26,1,1,.80479,.80178,1,1,.85633,1,1,1,1,.97276,1,1,1,.698,1,1.36145,1,1,1,1,1,1,1,1,1,1,1,1.14542,1,.79199,.78694,1.02058,1.03493,1.05486,1,1,1.23026,1.08595,1.08595,1,1.08595,1.08595,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1.20006,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1];Et.MyriadProBoldItalicFactors=_t;const Rt={lineHeight:1.2,lineGap:.2};Et.MyriadProBoldItalicMetrics=Rt;const _e=[1.36898,1,1,.65507,.84943,.85639,.88465,.88465,.86936,.88307,.86948,.85283,.85283,1.06383,1.02058,.75945,.9219,.75945,1.17337,.88465,.88465,.88465,.88465,.88465,.88465,.88465,.88465,.88465,.88465,.75945,.75945,1.02058,1.02058,1.02058,.69046,.70926,.85158,.77812,.76852,.89591,.70466,.76125,.80094,.86822,.83864,.728,.77212,.79475,.93637,.87514,.8588,.76013,.8588,.72421,.69866,.77598,.85991,.80811,.87832,.78112,.77512,.8562,1.0222,1.18417,1.0222,1.27014,.89903,1.15012,.93859,.94399,.846,.94399,.81453,1.0186,.94219,.96017,1.03075,1.02175,.912,1.03075,.96998,.96017,.93859,.94399,.94399,.95493,.746,1.12658,.94578,.91,.979,.882,.882,.83,.85034,.83537,.85034,1.02058,.70869,.88465,.88465,.88465,.88465,.83537,.90083,1.15012,.9161,.94565,.73541,1.02058,.53609,.69353,.79519,1.08595,1,1,1.15012,1,.91974,.75945,1.15012,1,.9446,.73361,.9005,.9005,.9005,.62864,.85158,.85158,.85158,.85158,.85158,.85158,.773,.76852,.70466,.70466,.70466,.70466,.83864,.83864,.83864,.83864,.90561,.87514,.8588,.8588,.8588,.8588,.8588,1.02058,.85751,.85991,.85991,.85991,.85991,.77512,.76013,.88075,.93859,.93859,.93859,.93859,.93859,.93859,.8075,.846,.81453,.81453,.81453,.81453,.82424,.82424,.82424,.82424,.9278,.96017,.93859,.93859,.93859,.93859,.93859,1.08595,.8562,.94578,.94578,.94578,.94578,.882,.94578,.882,.85158,.93859,.85158,.93859,.85158,.93859,.76852,.846,.76852,.846,.76852,.846,.76852,.846,.89591,.8544,.90561,.94399,.70466,.81453,.70466,.81453,.70466,.81453,.70466,.81453,.70466,.81453,.80094,.94219,.80094,.94219,.80094,.94219,1,1,.86822,.96017,.86822,.96017,.83864,.82424,.83864,.82424,.83864,.82424,.83864,1.03075,.83864,.82424,.81402,1.02738,.728,1.02175,1,1,.912,.79475,1.03075,1,1,.79475,.83911,.79475,.66266,.80553,1.06676,.87514,.96017,1,1,.87514,.96017,.86865,.87396,.96017,.8588,.93859,.8588,.93859,.8588,.93859,.867,.84759,.72421,.95493,1,1,.72421,.95493,.69866,.746,.69866,.746,1,1,.69866,.746,1,1,.77598,.88417,.77598,1.12658,.85991,.94578,.85991,.94578,.85991,.94578,.85991,.94578,.85991,.94578,.85991,.94578,.87832,.979,.77512,.882,.77512,.8562,.83,.8562,.83,.8562,.83,1,.88465,.85158,.93859,.773,.8075,.85751,.8562,1,1,.77598,1.12658,1.15012,1.15012,1.15012,1.15012,1.15012,1.15313,1.15012,1.15012,1.15012,1.08106,1.03901,.85158,.77025,.62264,.7646,.65351,.86026,.69461,.89947,1.03075,.85158,.77812,.76449,.88836,.70466,.8562,.86822,.8588,.83864,.77212,.85308,.93637,.87514,.82352,.8588,.85701,.76013,.89058,.77598,.8156,.82565,.78112,.77899,.89386,.83864,.8156,.9486,.92388,.96186,1.03075,.91123,.9486,.93298,.878,.93942,.92388,.84596,.96186,.95119,1.03075,.922,.88787,.95829,.88,.93559,.93859,.78815,.93758,1,.89217,1.03737,.91123,.93969,.77487,.85769,.86799,1.03075,.91123,.93859,.91123,.86799,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,.87832,.979,.87832,.979,.87832,.979,.77512,.882,.9219,1,.89903,1,1,1,.87321,.87321,.87321,1,1.027,1.027,1.027,.86847,.86847,.79121,1,1.124,1,1,.73572,.73572,1,1,.85034,1,1,1,1,.88465,1,1,1,.669,1,1.36145,1,1,1,1,1,1,1,1,1,1,1,1.04828,1,.74948,.75187,1.02058,.98391,1.02119,1,1,1.06233,1.08595,1.08595,1,1.08595,1.08595,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1.05233,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1];Et.MyriadProItalicFactors=_e;const bt={lineHeight:1.2,lineGap:.2};Et.MyriadProItalicMetrics=bt;const Pt=[1.36898,1,1,.76305,.82784,.94935,.89364,.92241,.89073,.90706,.98472,.85283,.85283,1.0664,1.02058,.74505,.9219,.74505,1.23456,.92241,.92241,.92241,.92241,.92241,.92241,.92241,.92241,.92241,.92241,.74505,.74505,1.02058,1.02058,1.02058,.73002,.72601,.91755,.8126,.80314,.92222,.73764,.79726,.83051,.90284,.86023,.74,.8126,.84869,.96518,.91115,.8858,.79761,.8858,.74498,.73914,.81363,.89591,.83659,.89633,.85608,.8111,.90531,1.0222,1.22736,1.0222,1.27014,.89903,.90088,.86667,1.0231,.896,1.01411,.90083,1.05099,1.00512,.99793,1.05326,1.09377,.938,1.06226,1.00119,.99793,.98714,1.0231,1.01231,.98196,.792,1.19137,.99074,.962,1.01915,.926,.942,.856,.85034,.92006,.85034,1.02058,.69067,.92241,.92241,.92241,.92241,.92006,.9332,.90088,.91882,.93484,.75339,1.02058,.56866,.54324,.79519,1.08595,1,1,.90088,1,.95325,.74505,.90088,1,.97198,.75339,.91009,.91009,.91009,.66466,.91755,.91755,.91755,.91755,.91755,.91755,.788,.80314,.73764,.73764,.73764,.73764,.86023,.86023,.86023,.86023,.92915,.91115,.8858,.8858,.8858,.8858,.8858,1.02058,.8858,.89591,.89591,.89591,.89591,.8111,.79611,.89713,.86667,.86667,.86667,.86667,.86667,.86667,.86936,.896,.90083,.90083,.90083,.90083,.84224,.84224,.84224,.84224,.97276,.99793,.98714,.98714,.98714,.98714,.98714,1.08595,.89876,.99074,.99074,.99074,.99074,.942,1.0231,.942,.91755,.86667,.91755,.86667,.91755,.86667,.80314,.896,.80314,.896,.80314,.896,.80314,.896,.92222,.93372,.92915,1.01411,.73764,.90083,.73764,.90083,.73764,.90083,.73764,.90083,.73764,.90083,.83051,1.00512,.83051,1.00512,.83051,1.00512,1,1,.90284,.99793,.90976,.99793,.86023,.84224,.86023,.84224,.86023,.84224,.86023,1.05326,.86023,.84224,.82873,1.07469,.74,1.09377,1,1,.938,.84869,1.06226,1,1,.84869,.83704,.84869,.81441,.85588,1.08927,.91115,.99793,1,1,.91115,.99793,.91887,.90991,.99793,.8858,.98714,.8858,.98714,.8858,.98714,.894,.91434,.74498,.98196,1,1,.74498,.98196,.73914,.792,.73914,.792,1,1,.73914,.792,1,1,.81363,.904,.81363,1.19137,.89591,.99074,.89591,.99074,.89591,.99074,.89591,.99074,.89591,.99074,.89591,.99074,.89633,1.01915,.8111,.942,.8111,.90531,.856,.90531,.856,.90531,.856,1,.92241,.91755,.86667,.788,.86936,.8858,.89876,1,1,.81363,1.19137,.90088,.90088,.90088,.90088,.90088,.90088,.90088,.90088,.90088,.90388,1.03901,.92138,.78105,.7154,.86169,.80513,.94007,.82528,.98612,1.06226,.91755,.8126,.81884,.92819,.73764,.90531,.90284,.8858,.86023,.8126,.91172,.96518,.91115,.83089,.8858,.87791,.79761,.89297,.81363,.88157,.89992,.85608,.81992,.94307,.86023,.88157,.95308,.98699,.99793,1.06226,.95817,.95308,.97358,.928,.98088,.98699,.92761,.99793,.96017,1.06226,.986,.944,.95978,.938,.96705,.98714,.80442,.98972,1,.89762,1.04552,.95817,.99007,.87064,.91879,.88888,1.06226,.95817,.98714,.95817,.88888,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,.89633,1.01915,.89633,1.01915,.89633,1.01915,.8111,.942,.9219,1,.89903,1,1,1,.93173,.93173,.93173,1,1.06304,1.06304,1.06904,.89903,.89903,.80549,1,1.156,1,1,.76575,.76575,1,1,.72458,1,1,1,1,.92241,1,1,1,.619,1,1.36145,1,1,1,1,1,1,1,1,1,1,1,1.07257,1,.74705,.71119,1.02058,1.024,1.02119,1,1,1.1536,1.08595,1.08595,1,1.08595,1.08595,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1.05638,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1];Et.MyriadProRegularFactors=Pt;const Xt={lineHeight:1.2,lineGap:.2};Et.MyriadProRegularMetrics=Xt},(Ct,Et)=>{Object.defineProperty(Et,"__esModule",{value:!0}),Et.SegoeuiRegularMetrics=Et.SegoeuiRegularFactors=Et.SegoeuiItalicMetrics=Et.SegoeuiItalicFactors=Et.SegoeuiBoldMetrics=Et.SegoeuiBoldItalicMetrics=Et.SegoeuiBoldItalicFactors=Et.SegoeuiBoldFactors=void 0;const Ft=[1.76738,1,1,.99297,.9824,1.04016,1.06497,1.03424,.97529,1.17647,1.23203,1.1085,1.1085,1.16939,1.2107,.9754,1.21408,.9754,1.59578,1.03424,1.03424,1.03424,1.03424,1.03424,1.03424,1.03424,1.03424,1.03424,1.03424,.81378,.81378,1.2107,1.2107,1.2107,.71703,.97847,.97363,.88776,.8641,1.02096,.79795,.85132,.914,1.06085,1.1406,.8007,.89858,.83693,1.14889,1.09398,.97489,.92094,.97489,.90399,.84041,.95923,1.00135,1,1.06467,.98243,.90996,.99361,1.1085,1.56942,1.1085,1.2107,.74627,.94282,.96752,1.01519,.86304,1.01359,.97278,1.15103,1.01359,.98561,1.02285,1.02285,1.00527,1.02285,1.0302,.99041,1.0008,1.01519,1.01359,1.02258,.79104,1.16862,.99041,.97454,1.02511,.99298,.96752,.95801,.94856,1.16579,.94856,1.2107,.9824,1.03424,1.03424,1,1.03424,1.16579,.8727,1.3871,1.18622,1.10818,1.04478,1.2107,1.18622,.75155,.94994,1.28826,1.21408,1.21408,.91056,1,.91572,.9754,.64663,1.18328,1.24866,1.04478,1.14169,1.15749,1.17389,.71703,.97363,.97363,.97363,.97363,.97363,.97363,.93506,.8641,.79795,.79795,.79795,.79795,1.1406,1.1406,1.1406,1.1406,1.02096,1.09398,.97426,.97426,.97426,.97426,.97426,1.2107,.97489,1.00135,1.00135,1.00135,1.00135,.90996,.92094,1.02798,.96752,.96752,.96752,.96752,.96752,.96752,.93136,.86304,.97278,.97278,.97278,.97278,1.02285,1.02285,1.02285,1.02285,.97122,.99041,1,1,1,1,1,1.28826,1.0008,.99041,.99041,.99041,.99041,.96752,1.01519,.96752,.97363,.96752,.97363,.96752,.97363,.96752,.8641,.86304,.8641,.86304,.8641,.86304,.8641,.86304,1.02096,1.03057,1.02096,1.03517,.79795,.97278,.79795,.97278,.79795,.97278,.79795,.97278,.79795,.97278,.914,1.01359,.914,1.01359,.914,1.01359,1,1,1.06085,.98561,1.06085,1.00879,1.1406,1.02285,1.1406,1.02285,1.1406,1.02285,1.1406,1.02285,1.1406,1.02285,.97138,1.08692,.8007,1.02285,1,1,1.00527,.83693,1.02285,1,1,.83693,.9455,.83693,.90418,.83693,1.13005,1.09398,.99041,1,1,1.09398,.99041,.96692,1.09251,.99041,.97489,1.0008,.97489,1.0008,.97489,1.0008,.93994,.97931,.90399,1.02258,1,1,.90399,1.02258,.84041,.79104,.84041,.79104,.84041,.79104,.84041,.79104,1,1,.95923,1.07034,.95923,1.16862,1.00135,.99041,1.00135,.99041,1.00135,.99041,1.00135,.99041,1.00135,.99041,1.00135,.99041,1.06467,1.02511,.90996,.96752,.90996,.99361,.95801,.99361,.95801,.99361,.95801,1.07733,1.03424,.97363,.96752,.93506,.93136,.97489,1.0008,1,1,.95923,1.16862,1.15103,1.15103,1.01173,1.03959,.75953,.81378,.79912,1.15103,1.21994,.95161,.87815,1.01149,.81525,.7676,.98167,1.01134,1.02546,.84097,1.03089,1.18102,.97363,.88776,.85134,.97826,.79795,.99361,1.06085,.97489,1.1406,.89858,1.0388,1.14889,1.09398,.86039,.97489,1.0595,.92094,.94793,.95923,.90996,.99346,.98243,1.02112,.95493,1.1406,.90996,1.03574,1.02597,1.0008,1.18102,1.06628,1.03574,1.0192,1.01932,1.00886,.97531,1.0106,1.0008,1.13189,1.18102,1.02277,.98683,1.0016,.99561,1.07237,1.0008,.90434,.99921,.93803,.8965,1.23085,1.06628,1.04983,.96268,1.0499,.98439,1.18102,1.06628,1.0008,1.06628,.98439,.79795,1,1,1,1,1,1,1,1,1,1,1,1,1.09466,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,.97278,1,1,1,1,1,1,1,1,1,1,1,1,1.02065,1,1,1,1,1,1,1.06467,1.02511,1.06467,1.02511,1.06467,1.02511,.90996,.96752,1,1.21408,.89903,1,1,.75155,1.04394,1.04394,1.04394,1.04394,.98633,.98633,.98633,.73047,.73047,1.20642,.91211,1.25635,1.222,1.02956,1.03372,1.03372,.96039,1.24633,1,1.12454,.93503,1.03424,1.19687,1.03424,1,1,1,.771,1,1,1.15749,1.15749,1.15749,1.10948,.86279,.94434,.86279,.94434,.86182,1,1,1.16897,1,.96085,.90137,1.2107,1.18416,1.13973,.69825,.9716,2.10339,1.29004,1.29004,1.21172,1.29004,1.29004,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1.42603,1,.99862,.99862,1,.87025,.87025,.87025,.87025,1.18874,1.42603,1,1.42603,1.42603,.99862,1,1,1,1,1,1.2886,1.04315,1.15296,1.34163,1,1,1,1.09193,1.09193,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1];Et.SegoeuiBoldFactors=Ft;const wt={lineHeight:1.33008,lineGap:0};Et.SegoeuiBoldMetrics=wt;const _t=[1.76738,1,1,.98946,1.03959,1.04016,1.02809,1.036,.97639,1.10953,1.23203,1.11144,1.11144,1.16939,1.21237,.9754,1.21261,.9754,1.59754,1.036,1.036,1.036,1.036,1.036,1.036,1.036,1.036,1.036,1.036,.81378,.81378,1.21237,1.21237,1.21237,.73541,.97847,.97363,.89723,.87897,1.0426,.79429,.85292,.91149,1.05815,1.1406,.79631,.90128,.83853,1.04396,1.10615,.97552,.94436,.97552,.88641,.80527,.96083,1.00135,1,1.06777,.9817,.91142,.99361,1.11144,1.57293,1.11144,1.21237,.74627,1.31818,1.06585,.97042,.83055,.97042,.93503,1.1261,.97042,.97922,1.14236,.94552,1.01054,1.14236,1.02471,.97922,.94165,.97042,.97042,1.0276,.78929,1.1261,.97922,.95874,1.02197,.98507,.96752,.97168,.95107,1.16579,.95107,1.21237,1.03959,1.036,1.036,1,1.036,1.16579,.87357,1.31818,1.18754,1.26781,1.05356,1.21237,1.18622,.79487,.94994,1.29004,1.24047,1.24047,1.31818,1,.91484,.9754,1.31818,1.1349,1.24866,1.05356,1.13934,1.15574,1.17389,.73541,.97363,.97363,.97363,.97363,.97363,.97363,.94385,.87897,.79429,.79429,.79429,.79429,1.1406,1.1406,1.1406,1.1406,1.0426,1.10615,.97552,.97552,.97552,.97552,.97552,1.21237,.97552,1.00135,1.00135,1.00135,1.00135,.91142,.94436,.98721,1.06585,1.06585,1.06585,1.06585,1.06585,1.06585,.96705,.83055,.93503,.93503,.93503,.93503,1.14236,1.14236,1.14236,1.14236,.93125,.97922,.94165,.94165,.94165,.94165,.94165,1.29004,.94165,.97922,.97922,.97922,.97922,.96752,.97042,.96752,.97363,1.06585,.97363,1.06585,.97363,1.06585,.87897,.83055,.87897,.83055,.87897,.83055,.87897,.83055,1.0426,1.0033,1.0426,.97042,.79429,.93503,.79429,.93503,.79429,.93503,.79429,.93503,.79429,.93503,.91149,.97042,.91149,.97042,.91149,.97042,1,1,1.05815,.97922,1.05815,.97922,1.1406,1.14236,1.1406,1.14236,1.1406,1.14236,1.1406,1.14236,1.1406,1.14236,.97441,1.04302,.79631,1.01582,1,1,1.01054,.83853,1.14236,1,1,.83853,1.09125,.83853,.90418,.83853,1.19508,1.10615,.97922,1,1,1.10615,.97922,1.01034,1.10466,.97922,.97552,.94165,.97552,.94165,.97552,.94165,.91602,.91981,.88641,1.0276,1,1,.88641,1.0276,.80527,.78929,.80527,.78929,.80527,.78929,.80527,.78929,1,1,.96083,1.05403,.95923,1.16862,1.00135,.97922,1.00135,.97922,1.00135,.97922,1.00135,.97922,1.00135,.97922,1.00135,.97922,1.06777,1.02197,.91142,.96752,.91142,.99361,.97168,.99361,.97168,.99361,.97168,1.23199,1.036,.97363,1.06585,.94385,.96705,.97552,.94165,1,1,.96083,1.1261,1.31818,1.31818,1.31818,1.31818,1.31818,1.31818,1.31818,1.31818,1.31818,.95161,1.27126,1.00811,.83284,.77702,.99137,.95253,1.0347,.86142,1.07205,1.14236,.97363,.89723,.86869,1.09818,.79429,.99361,1.05815,.97552,1.1406,.90128,1.06662,1.04396,1.10615,.84918,.97552,1.04694,.94436,.98015,.96083,.91142,1.00356,.9817,1.01945,.98999,1.1406,.91142,1.04961,.9898,1.00639,1.14236,1.07514,1.04961,.99607,1.02897,1.008,.9898,.95134,1.00639,1.11121,1.14236,1.00518,.97981,1.02186,1,1.08578,.94165,.99314,.98387,.93028,.93377,1.35125,1.07514,1.10687,.93491,1.04232,1.00351,1.14236,1.07514,.94165,1.07514,1.00351,.79429,1,1,1,1,1,1,1,1,1,1,1,1,1.09097,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,.93503,1,1,1,1,1,1,1,1,1,1,1,1,.96609,1,1,1,1,1,1,1.06777,1.02197,1.06777,1.02197,1.06777,1.02197,.91142,.96752,1,1.21261,.89903,1,1,.75155,1.04745,1.04745,1.04745,1.04394,.98633,.98633,.98633,.72959,.72959,1.20502,.91406,1.26514,1.222,1.02956,1.03372,1.03372,.96039,1.24633,1,1.09125,.93327,1.03336,1.16541,1.036,1,1,1,.771,1,1,1.15574,1.15574,1.15574,1.15574,.86364,.94434,.86279,.94434,.86224,1,1,1.16798,1,.96085,.90068,1.21237,1.18416,1.13904,.69825,.9716,2.10339,1.29004,1.29004,1.21339,1.29004,1.29004,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1.42603,1,.99862,.99862,1,.87025,.87025,.87025,.87025,1.18775,1.42603,1,1.42603,1.42603,.99862,1,1,1,1,1,1.2886,1.04315,1.15296,1.34163,1,1,1,1.13269,1.13269,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1];Et.SegoeuiBoldItalicFactors=_t;const Rt={lineHeight:1.33008,lineGap:0};Et.SegoeuiBoldItalicMetrics=Rt;const _e=[1.76738,1,1,.98946,1.14763,1.05365,1.06234,.96927,.92586,1.15373,1.18414,.91349,.91349,1.07403,1.17308,.78383,1.20088,.78383,1.42531,.96927,.96927,.96927,.96927,.96927,.96927,.96927,.96927,.96927,.96927,.78383,.78383,1.17308,1.17308,1.17308,.77349,.94565,.94729,.85944,.88506,.9858,.74817,.80016,.88449,.98039,.95782,.69238,.89898,.83231,.98183,1.03989,.96924,.86237,.96924,.80595,.74524,.86091,.95402,.94143,.98448,.8858,.83089,.93285,1.0949,1.39016,1.0949,1.45994,.74627,1.04839,.97454,.97454,.87207,.97454,.87533,1.06151,.97454,1.00176,1.16484,1.08132,.98047,1.16484,1.02989,1.01054,.96225,.97454,.97454,1.06598,.79004,1.16344,1.00351,.94629,.9973,.91016,.96777,.9043,.91082,.92481,.91082,1.17308,.95748,.96927,.96927,1,.96927,.92481,.80597,1.04839,1.23393,1.1781,.9245,1.17308,1.20808,.63218,.94261,1.24822,1.09971,1.09971,1.04839,1,.85273,.78032,1.04839,1.09971,1.22326,.9245,1.09836,1.13525,1.15222,.70424,.94729,.94729,.94729,.94729,.94729,.94729,.85498,.88506,.74817,.74817,.74817,.74817,.95782,.95782,.95782,.95782,.9858,1.03989,.96924,.96924,.96924,.96924,.96924,1.17308,.96924,.95402,.95402,.95402,.95402,.83089,.86237,.88409,.97454,.97454,.97454,.97454,.97454,.97454,.92916,.87207,.87533,.87533,.87533,.87533,.93146,.93146,.93146,.93146,.93854,1.01054,.96225,.96225,.96225,.96225,.96225,1.24822,.8761,1.00351,1.00351,1.00351,1.00351,.96777,.97454,.96777,.94729,.97454,.94729,.97454,.94729,.97454,.88506,.87207,.88506,.87207,.88506,.87207,.88506,.87207,.9858,.95391,.9858,.97454,.74817,.87533,.74817,.87533,.74817,.87533,.74817,.87533,.74817,.87533,.88449,.97454,.88449,.97454,.88449,.97454,1,1,.98039,1.00176,.98039,1.00176,.95782,.93146,.95782,.93146,.95782,.93146,.95782,1.16484,.95782,.93146,.84421,1.12761,.69238,1.08132,1,1,.98047,.83231,1.16484,1,1,.84723,1.04861,.84723,.78755,.83231,1.23736,1.03989,1.01054,1,1,1.03989,1.01054,.9857,1.03849,1.01054,.96924,.96225,.96924,.96225,.96924,.96225,.92383,.90171,.80595,1.06598,1,1,.80595,1.06598,.74524,.79004,.74524,.79004,.74524,.79004,.74524,.79004,1,1,.86091,1.02759,.85771,1.16344,.95402,1.00351,.95402,1.00351,.95402,1.00351,.95402,1.00351,.95402,1.00351,.95402,1.00351,.98448,.9973,.83089,.96777,.83089,.93285,.9043,.93285,.9043,.93285,.9043,1.31868,.96927,.94729,.97454,.85498,.92916,.96924,.8761,1,1,.86091,1.16344,1.04839,1.04839,1.04839,1.04839,1.04839,1.04839,1.04839,1.04839,1.04839,.81965,.81965,.94729,.78032,.71022,.90883,.84171,.99877,.77596,1.05734,1.2,.94729,.85944,.82791,.9607,.74817,.93285,.98039,.96924,.95782,.89898,.98316,.98183,1.03989,.78614,.96924,.97642,.86237,.86075,.86091,.83089,.90082,.8858,.97296,1.01284,.95782,.83089,1.0976,1.04,1.03342,1.2,1.0675,1.0976,.98205,1.03809,1.05097,1.04,.95364,1.03342,1.05401,1.2,1.02148,1.0119,1.04724,1.0127,1.02732,.96225,.8965,.97783,.93574,.94818,1.30679,1.0675,1.11826,.99821,1.0557,1.0326,1.2,1.0675,.96225,1.0675,1.0326,.74817,1,1,1,1,1,1,1,1,1,1,1,1,1.03754,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,.87533,1,1,1,1,1,1,1,1,1,1,1,1,.98705,1,1,1,1,1,1,.98448,.9973,.98448,.9973,.98448,.9973,.83089,.96777,1,1.20088,.89903,1,1,.75155,.94945,.94945,.94945,.94945,1.12317,1.12317,1.12317,.67603,.67603,1.15621,.73584,1.21191,1.22135,1.06483,.94868,.94868,.95996,1.24633,1,1.07497,.87709,.96927,1.01473,.96927,1,1,1,.77295,1,1,1.09836,1.09836,1.09836,1.01522,.86321,.94434,.8649,.94434,.86182,1,1,1.083,1,.91578,.86438,1.17308,1.18416,1.14589,.69825,.97622,1.96791,1.24822,1.24822,1.17308,1.24822,1.24822,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1.42603,1,.99862,.99862,1,.87025,.87025,.87025,.87025,1.17984,1.42603,1,1.42603,1.42603,.99862,1,1,1,1,1,1.2886,1.04315,1.15296,1.34163,1,1,1,1.10742,1.10742,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1];Et.SegoeuiItalicFactors=_e;const bt={lineHeight:1.33008,lineGap:0};Et.SegoeuiItalicMetrics=bt;const Pt=[1.76738,1,1,.98594,1.02285,1.10454,1.06234,.96927,.92037,1.19985,1.2046,.90616,.90616,1.07152,1.1714,.78032,1.20088,.78032,1.40246,.96927,.96927,.96927,.96927,.96927,.96927,.96927,.96927,.96927,.96927,.78032,.78032,1.1714,1.1714,1.1714,.80597,.94084,.96706,.85944,.85734,.97093,.75842,.79936,.88198,.9831,.95782,.71387,.86969,.84636,1.07796,1.03584,.96924,.83968,.96924,.82826,.79649,.85771,.95132,.93119,.98965,.88433,.8287,.93365,1.08612,1.3638,1.08612,1.45786,.74627,.80499,.91484,1.05707,.92383,1.05882,.9403,1.12654,1.05882,1.01756,1.09011,1.09011,.99414,1.09011,1.034,1.01756,1.05356,1.05707,1.05882,1.04399,.84863,1.21968,1.01756,.95801,1.00068,.91797,.96777,.9043,.90351,.92105,.90351,1.1714,.85337,.96927,.96927,.99912,.96927,.92105,.80597,1.2434,1.20808,1.05937,.90957,1.1714,1.20808,.75155,.94261,1.24644,1.09971,1.09971,.84751,1,.85273,.78032,.61584,1.05425,1.17914,.90957,1.08665,1.11593,1.14169,.73381,.96706,.96706,.96706,.96706,.96706,.96706,.86035,.85734,.75842,.75842,.75842,.75842,.95782,.95782,.95782,.95782,.97093,1.03584,.96924,.96924,.96924,.96924,.96924,1.1714,.96924,.95132,.95132,.95132,.95132,.8287,.83968,.89049,.91484,.91484,.91484,.91484,.91484,.91484,.93575,.92383,.9403,.9403,.9403,.9403,.8717,.8717,.8717,.8717,1.00527,1.01756,1.05356,1.05356,1.05356,1.05356,1.05356,1.24644,.95923,1.01756,1.01756,1.01756,1.01756,.96777,1.05707,.96777,.96706,.91484,.96706,.91484,.96706,.91484,.85734,.92383,.85734,.92383,.85734,.92383,.85734,.92383,.97093,1.0969,.97093,1.05882,.75842,.9403,.75842,.9403,.75842,.9403,.75842,.9403,.75842,.9403,.88198,1.05882,.88198,1.05882,.88198,1.05882,1,1,.9831,1.01756,.9831,1.01756,.95782,.8717,.95782,.8717,.95782,.8717,.95782,1.09011,.95782,.8717,.84784,1.11551,.71387,1.09011,1,1,.99414,.84636,1.09011,1,1,.84636,1.0536,.84636,.94298,.84636,1.23297,1.03584,1.01756,1,1,1.03584,1.01756,1.00323,1.03444,1.01756,.96924,1.05356,.96924,1.05356,.96924,1.05356,.93066,.98293,.82826,1.04399,1,1,.82826,1.04399,.79649,.84863,.79649,.84863,.79649,.84863,.79649,.84863,1,1,.85771,1.17318,.85771,1.21968,.95132,1.01756,.95132,1.01756,.95132,1.01756,.95132,1.01756,.95132,1.01756,.95132,1.01756,.98965,1.00068,.8287,.96777,.8287,.93365,.9043,.93365,.9043,.93365,.9043,1.08571,.96927,.96706,.91484,.86035,.93575,.96924,.95923,1,1,.85771,1.21968,1.11437,1.11437,.93109,.91202,.60411,.84164,.55572,1.01173,.97361,.81818,.81818,.96635,.78032,.72727,.92366,.98601,1.03405,.77968,1.09799,1.2,.96706,.85944,.85638,.96491,.75842,.93365,.9831,.96924,.95782,.86969,.94152,1.07796,1.03584,.78437,.96924,.98715,.83968,.83491,.85771,.8287,.94492,.88433,.9287,1.0098,.95782,.8287,1.0625,.98248,1.03424,1.2,1.01071,1.0625,.95246,1.03809,1.04912,.98248,1.00221,1.03424,1.05443,1.2,1.04785,.99609,1.00169,1.05176,.99346,1.05356,.9087,1.03004,.95542,.93117,1.23362,1.01071,1.07831,1.02512,1.05205,1.03502,1.2,1.01071,1.05356,1.01071,1.03502,.75842,1,1,1,1,1,1,1,1,1,1,1,1,1.03719,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,.9403,1,1,1,1,1,1,1,1,1,1,1,1,1.04021,1,1,1,1,1,1,.98965,1.00068,.98965,1.00068,.98965,1.00068,.8287,.96777,1,1.20088,.89903,1,1,.75155,1.03077,1.03077,1.03077,1.03077,1.13196,1.13196,1.13196,.67428,.67428,1.16039,.73291,1.20996,1.22135,1.06483,.94868,.94868,.95996,1.24633,1,1.07497,.87796,.96927,1.01518,.96927,1,1,1,.77295,1,1,1.10539,1.10539,1.11358,1.06967,.86279,.94434,.86279,.94434,.86182,1,1,1.083,1,.91578,.86507,1.1714,1.18416,1.14589,.69825,.97622,1.9697,1.24822,1.24822,1.17238,1.24822,1.24822,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1.42603,1,.99862,.99862,1,.87025,.87025,.87025,.87025,1.18083,1.42603,1,1.42603,1.42603,.99862,1,1,1,1,1,1.2886,1.04315,1.15296,1.34163,1,1,1,1.10938,1.10938,1,1,1,1.05425,1.09971,1.09971,1.09971,1,1,1,1,1,1,1,1,1,1,1];Et.SegoeuiRegularFactors=Pt;const Xt={lineHeight:1.33008,lineGap:0};Et.SegoeuiRegularMetrics=Xt},(Ct,Et,Ft)=>{Object.defineProperty(Et,"__esModule",{value:!0}),Et.PostScriptEvaluator=Et.PostScriptCompiler=Et.PDFFunctionFactory=void 0,Et.isPDFFunction=Nt;var wt=Ft(4),_t=Ft(2),Rt=Ft(58),_e=Ft(5),bt=Ft(59);class Pt{constructor({xref:Ot,isEvalSupported:Ht=!0}){this.xref=Ot,this.isEvalSupported=Ht!==!1}create(Ot){const Ht=this.getCached(Ot);if(Ht)return Ht;const an=Kt.parse({xref:this.xref,isEvalSupported:this.isEvalSupported,fn:Ot instanceof wt.Ref?this.xref.fetch(Ot):Ot});return this._cache(Ot,an),an}createFromArray(Ot){const Ht=this.getCached(Ot);if(Ht)return Ht;const an=Kt.parseArray({xref:this.xref,isEvalSupported:this.isEvalSupported,fnObj:Ot instanceof wt.Ref?this.xref.fetch(Ot):Ot});return this._cache(Ot,an),an}getCached(Ot){var an;let Ht;if(Ot instanceof wt.Ref?Ht=Ot:Ot instanceof wt.Dict?Ht=Ot.objId:Ot instanceof _e.BaseStream&&(Ht=(an=Ot.dict)==null?void 0:an.objId),Ht){const zt=this._localFunctionCache.getByRef(Ht);if(zt)return zt}return null}_cache(Ot,Ht){var zt;if(!Ht)throw new Error('PDFFunctionFactory._cache - expected "parsedFunction" argument.');let an;Ot instanceof wt.Ref?an=Ot:Ot instanceof wt.Dict?an=Ot.objId:Ot instanceof _e.BaseStream&&(an=(zt=Ot.dict)==null?void 0:zt.objId),an&&this._localFunctionCache.set(null,an,Ht)}get _localFunctionCache(){return(0,_t.shadow)(this,"_localFunctionCache",new bt.LocalFunctionCache)}}Et.PDFFunctionFactory=Pt;function Xt(Ut){if(!Array.isArray(Ut))return null;const Ot=Ut.length;for(let Ht=0;Ht<Ot;Ht++)if(typeof Ut[Ht]!="number"){const an=new Array(Ot);for(let zt=0;zt<Ot;zt++)an[zt]=+Ut[zt];return an}return Ut}class Kt{static getSampleArray(Ot,Ht,an,zt){let Vt,nn,hn=1;for(Vt=0,nn=Ot.length;Vt<nn;Vt++)hn*=Ot[Vt];hn*=Ht;const on=new Array(hn);let cn=0,sn=0;const rn=1/(2**an-1),xn=zt.getBytes((hn*an+7)/8);let vn=0;for(Vt=0;Vt<hn;Vt++){for(;cn<an;)sn<<=8,sn|=xn[vn++],cn+=8;cn-=an,on[Vt]=(sn>>cn)*rn,sn&=(1<<cn)-1}return on}static parse({xref:Ot,isEvalSupported:Ht,fn:an}){const zt=an.dict||an;switch(zt.get("FunctionType")){case 0:return this.constructSampled({xref:Ot,isEvalSupported:Ht,fn:an,dict:zt});case 1:break;case 2:return this.constructInterpolated({xref:Ot,isEvalSupported:Ht,dict:zt});case 3:return this.constructStiched({xref:Ot,isEvalSupported:Ht,dict:zt});case 4:return this.constructPostScript({xref:Ot,isEvalSupported:Ht,fn:an,dict:zt})}throw new _t.FormatError("Unknown type of function")}static parseArray({xref:Ot,isEvalSupported:Ht,fnObj:an}){if(!Array.isArray(an))return this.parse({xref:Ot,isEvalSupported:Ht,fn:an});const zt=[];for(const Vt of an)zt.push(this.parse({xref:Ot,isEvalSupported:Ht,fn:Ot.fetchIfRef(Vt)}));return function(Vt,nn,hn,on){for(let cn=0,sn=zt.length;cn<sn;cn++)zt[cn](Vt,nn,hn,on+cn)}}static constructSampled({xref:Ot,isEvalSupported:Ht,fn:an,dict:zt}){function Vt(_n){const Sn=_n.length,mn=[];let fn=0;for(let Jt=0;Jt<Sn;Jt+=2)mn[fn++]=[_n[Jt],_n[Jt+1]];return mn}function nn(_n,Sn,mn,fn,Jt){return fn+(_n-Sn)*((Jt-fn)/(mn-Sn))}let hn=Xt(zt.getArray("Domain")),on=Xt(zt.getArray("Range"));if(!hn||!on)throw new _t.FormatError("No domain or range");const cn=hn.length/2,sn=on.length/2;hn=Vt(hn),on=Vt(on);const rn=Xt(zt.getArray("Size")),xn=zt.get("BitsPerSample"),vn=zt.get("Order")||1;vn!==1&&(0,_t.info)("No support for cubic spline interpolation: "+vn);let kn=Xt(zt.getArray("Encode"));if(kn)kn=Vt(kn);else{kn=[];for(let _n=0;_n<cn;++_n)kn.push([0,rn[_n]-1])}let Pn=Xt(zt.getArray("Decode"));Pn=Pn?Vt(Pn):on;const On=this.getSampleArray(rn,sn,xn,an);return function(Sn,mn,fn,Jt){const ln=1<<cn,pn=new Float64Array(ln),wn=new Uint32Array(ln);let Cn,Fn;for(Fn=0;Fn<ln;Fn++)pn[Fn]=1;let En=sn,An=1;for(Cn=0;Cn<cn;++Cn){const Tn=hn[Cn][0],In=hn[Cn][1],Rn=Math.min(Math.max(Sn[mn+Cn],Tn),In);let Dn=nn(Rn,Tn,In,kn[Cn][0],kn[Cn][1]);const Ln=rn[Cn];Dn=Math.min(Math.max(Dn,0),Ln-1);const Un=Dn<Ln-1?Math.floor(Dn):Dn-1,tr=Un+1-Dn,er=Dn-Un,Qn=Un*En,Yn=Qn+En;for(Fn=0;Fn<ln;Fn++)Fn&An?(pn[Fn]*=er,wn[Fn]+=Yn):(pn[Fn]*=tr,wn[Fn]+=Qn);En*=Ln,An<<=1}for(Fn=0;Fn<sn;++Fn){let Tn=0;for(Cn=0;Cn<ln;Cn++)Tn+=On[wn[Cn]+Fn]*pn[Cn];Tn=nn(Tn,0,1,Pn[Fn][0],Pn[Fn][1]),fn[Jt+Fn]=Math.min(Math.max(Tn,on[Fn][0]),on[Fn][1])}}}static constructInterpolated({xref:Ot,isEvalSupported:Ht,dict:an}){const zt=Xt(an.getArray("C0"))||[0],Vt=Xt(an.getArray("C1"))||[1],nn=an.get("N"),hn=[];for(let cn=0,sn=zt.length;cn<sn;++cn)hn.push(Vt[cn]-zt[cn]);const on=hn.length;return function(sn,rn,xn,vn){const kn=nn===1?sn[rn]:sn[rn]**nn;for(let Pn=0;Pn<on;++Pn)xn[vn+Pn]=zt[Pn]+kn*hn[Pn]}}static constructStiched({xref:Ot,isEvalSupported:Ht,dict:an}){const zt=Xt(an.getArray("Domain"));if(!zt)throw new _t.FormatError("No domain");if(zt.length/2!==1)throw new _t.FormatError("Bad domain for stiched function");const nn=[];for(const sn of an.get("Functions"))nn.push(this.parse({xref:Ot,isEvalSupported:Ht,fn:Ot.fetchIfRef(sn)}));const hn=Xt(an.getArray("Bounds")),on=Xt(an.getArray("Encode")),cn=new Float32Array(1);return function(rn,xn,vn,kn){const On=function(wn,Cn,Fn){return wn>Fn?wn=Fn:wn<Cn&&(wn=Cn),wn}(rn[xn],zt[0],zt[1]),_n=hn.length;let Sn;for(Sn=0;Sn<_n&&!(On<hn[Sn]);++Sn);let mn=zt[0];Sn>0&&(mn=hn[Sn-1]);let fn=zt[1];Sn<hn.length&&(fn=hn[Sn]);const Jt=on[2*Sn],ln=on[2*Sn+1];cn[0]=mn===fn?Jt:Jt+(On-mn)*(ln-Jt)/(fn-mn),nn[Sn](cn,0,vn,kn)}}static constructPostScript({xref:Ot,isEvalSupported:Ht,fn:an,dict:zt}){const Vt=Xt(zt.getArray("Domain")),nn=Xt(zt.getArray("Range"));if(!Vt)throw new _t.FormatError("No domain.");if(!nn)throw new _t.FormatError("No range.");const hn=new Rt.PostScriptLexer(an),cn=new Rt.PostScriptParser(hn).parse();if(Ht&&_t.FeatureTest.isEvalSupported){const _n=new Yt().compile(cn,Vt,nn);if(_n)return new Function("src","srcOffset","dest","destOffset",_n)}(0,_t.info)("Unable to compile PS function");const sn=nn.length>>1,rn=Vt.length>>1,xn=new Lt(cn),vn=Object.create(null);let Pn=2048*4;const On=new Float32Array(rn);return function(Sn,mn,fn,Jt){let ln,pn,wn="";const Cn=On;for(ln=0;ln<rn;ln++)pn=Sn[mn+ln],Cn[ln]=pn,wn+=pn+"_";const Fn=vn[wn];if(Fn!==void 0){fn.set(Fn,Jt);return}const En=new Float32Array(sn),An=xn.execute(Cn),Tn=An.length-sn;for(ln=0;ln<sn;ln++){pn=An[Tn+ln];let In=nn[ln*2];pn<In?pn=In:(In=nn[ln*2+1],pn>In&&(pn=In)),En[ln]=pn}Pn>0&&(Pn--,vn[wn]=En),fn.set(En,Jt)}}}function Nt(Ut){let Ot;if(Ut instanceof wt.Dict)Ot=Ut;else if(Ut instanceof _e.BaseStream)Ot=Ut.dict;else return!1;return Ot.has("FunctionType")}const un=class un{constructor(Ot){this.stack=Ot?Array.from(Ot):[]}push(Ot){if(this.stack.length>=un.MAX_STACK_SIZE)throw new Error("PostScript function stack overflow.");this.stack.push(Ot)}pop(){if(this.stack.length<=0)throw new Error("PostScript function stack underflow.");return this.stack.pop()}copy(Ot){if(this.stack.length+Ot>=un.MAX_STACK_SIZE)throw new Error("PostScript function stack overflow.");const Ht=this.stack;for(let an=Ht.length-Ot,zt=Ot-1;zt>=0;zt--,an++)Ht.push(Ht[an])}index(Ot){this.push(this.stack[this.stack.length-Ot-1])}roll(Ot,Ht){const an=this.stack,zt=an.length-Ot,Vt=an.length-1,nn=zt+(Ht-Math.floor(Ht/Ot)*Ot);for(let hn=zt,on=Vt;hn<on;hn++,on--){const cn=an[hn];an[hn]=an[on],an[on]=cn}for(let hn=zt,on=nn-1;hn<on;hn++,on--){const cn=an[hn];an[hn]=an[on],an[on]=cn}for(let hn=nn,on=Vt;hn<on;hn++,on--){const cn=an[hn];an[hn]=an[on],an[on]=cn}}};Ur(un,"MAX_STACK_SIZE",100);let $t=un;class Lt{constructor(Ot){this.operators=Ot}execute(Ot){const Ht=new $t(Ot);let an=0;const zt=this.operators,Vt=zt.length;let nn,hn,on;for(;an<Vt;){if(nn=zt[an++],typeof nn=="number"){Ht.push(nn);continue}switch(nn){case"jz":on=Ht.pop(),hn=Ht.pop(),hn||(an=on);break;case"j":hn=Ht.pop(),an=hn;break;case"abs":hn=Ht.pop(),Ht.push(Math.abs(hn));break;case"add":on=Ht.pop(),hn=Ht.pop(),Ht.push(hn+on);break;case"and":on=Ht.pop(),hn=Ht.pop(),typeof hn=="boolean"&&typeof on=="boolean"?Ht.push(hn&&on):Ht.push(hn&on);break;case"atan":on=Ht.pop(),hn=Ht.pop(),hn=Math.atan2(hn,on)/Math.PI*180,hn<0&&(hn+=360),Ht.push(hn);break;case"bitshift":on=Ht.pop(),hn=Ht.pop(),hn>0?Ht.push(hn<<on):Ht.push(hn>>on);break;case"ceiling":hn=Ht.pop(),Ht.push(Math.ceil(hn));break;case"copy":hn=Ht.pop(),Ht.copy(hn);break;case"cos":hn=Ht.pop(),Ht.push(Math.cos(hn%360/180*Math.PI));break;case"cvi":hn=Ht.pop()|0,Ht.push(hn);break;case"cvr":break;case"div":on=Ht.pop(),hn=Ht.pop(),Ht.push(hn/on);break;case"dup":Ht.copy(1);break;case"eq":on=Ht.pop(),hn=Ht.pop(),Ht.push(hn===on);break;case"exch":Ht.roll(2,1);break;case"exp":on=Ht.pop(),hn=Ht.pop(),Ht.push(hn**on);break;case"false":Ht.push(!1);break;case"floor":hn=Ht.pop(),Ht.push(Math.floor(hn));break;case"ge":on=Ht.pop(),hn=Ht.pop(),Ht.push(hn>=on);break;case"gt":on=Ht.pop(),hn=Ht.pop(),Ht.push(hn>on);break;case"idiv":on=Ht.pop(),hn=Ht.pop(),Ht.push(hn/on|0);break;case"index":hn=Ht.pop(),Ht.index(hn);break;case"le":on=Ht.pop(),hn=Ht.pop(),Ht.push(hn<=on);break;case"ln":hn=Ht.pop(),Ht.push(Math.log(hn));break;case"log":hn=Ht.pop(),Ht.push(Math.log10(hn));break;case"lt":on=Ht.pop(),hn=Ht.pop(),Ht.push(hn<on);break;case"mod":on=Ht.pop(),hn=Ht.pop(),Ht.push(hn%on);break;case"mul":on=Ht.pop(),hn=Ht.pop(),Ht.push(hn*on);break;case"ne":on=Ht.pop(),hn=Ht.pop(),Ht.push(hn!==on);break;case"neg":hn=Ht.pop(),Ht.push(-hn);break;case"not":hn=Ht.pop(),typeof hn=="boolean"?Ht.push(!hn):Ht.push(~hn);break;case"or":on=Ht.pop(),hn=Ht.pop(),typeof hn=="boolean"&&typeof on=="boolean"?Ht.push(hn||on):Ht.push(hn|on);break;case"pop":Ht.pop();break;case"roll":on=Ht.pop(),hn=Ht.pop(),Ht.roll(hn,on);break;case"round":hn=Ht.pop(),Ht.push(Math.round(hn));break;case"sin":hn=Ht.pop(),Ht.push(Math.sin(hn%360/180*Math.PI));break;case"sqrt":hn=Ht.pop(),Ht.push(Math.sqrt(hn));break;case"sub":on=Ht.pop(),hn=Ht.pop(),Ht.push(hn-on);break;case"true":Ht.push(!0);break;case"truncate":hn=Ht.pop(),hn=hn<0?Math.ceil(hn):Math.floor(hn),Ht.push(hn);break;case"xor":on=Ht.pop(),hn=Ht.pop(),typeof hn=="boolean"&&typeof on=="boolean"?Ht.push(hn!==on):Ht.push(hn^on);break;default:throw new _t.FormatError(`Unknown operator ${nn}`)}}return Ht.stack}}Et.PostScriptEvaluator=Lt;class jt{constructor(Ot){this.type=Ot}visit(Ot){(0,_t.unreachable)("abstract method")}}class kt extends jt{constructor(Ot,Ht,an){super("args"),this.index=Ot,this.min=Ht,this.max=an}visit(Ot){Ot.visitArgument(this)}}class qt extends jt{constructor(Ot){super("literal"),this.number=Ot,this.min=Ot,this.max=Ot}visit(Ot){Ot.visitLiteral(this)}}class Bt extends jt{constructor(Ot,Ht,an,zt,Vt){super("binary"),this.op=Ot,this.arg1=Ht,this.arg2=an,this.min=zt,this.max=Vt}visit(Ot){Ot.visitBinaryOperation(this)}}class Gt extends jt{constructor(Ot,Ht){super("max"),this.arg=Ot,this.min=Ot.min,this.max=Ht}visit(Ot){Ot.visitMin(this)}}class en extends jt{constructor(Ot,Ht,an){super("var"),this.index=Ot,this.min=Ht,this.max=an}visit(Ot){Ot.visitVariable(this)}}class dn extends jt{constructor(Ot,Ht){super("definition"),this.variable=Ot,this.arg=Ht}visit(Ot){Ot.visitVariableDefinition(this)}}class Qt{constructor(){this.parts=[]}visitArgument(Ot){this.parts.push("Math.max(",Ot.min,", Math.min(",Ot.max,", src[srcOffset + ",Ot.index,"]))")}visitVariable(Ot){this.parts.push("v",Ot.index)}visitLiteral(Ot){this.parts.push(Ot.number)}visitBinaryOperation(Ot){this.parts.push("("),Ot.arg1.visit(this),this.parts.push(" ",Ot.op," "),Ot.arg2.visit(this),this.parts.push(")")}visitVariableDefinition(Ot){this.parts.push("var "),Ot.variable.visit(this),this.parts.push(" = "),Ot.arg.visit(this),this.parts.push(";")}visitMin(Ot){this.parts.push("Math.min("),Ot.arg.visit(this),this.parts.push(", ",Ot.max,")")}toString(){return this.parts.join("")}}function gn(Ut,Ot){return Ot.type==="literal"&&Ot.number===0?Ut:Ut.type==="literal"&&Ut.number===0?Ot:Ot.type==="literal"&&Ut.type==="literal"?new qt(Ut.number+Ot.number):new Bt("+",Ut,Ot,Ut.min+Ot.min,Ut.max+Ot.max)}function tn(Ut,Ot){if(Ot.type==="literal"){if(Ot.number===0)return new qt(0);if(Ot.number===1)return Ut;if(Ut.type==="literal")return new qt(Ut.number*Ot.number)}if(Ut.type==="literal"){if(Ut.number===0)return new qt(0);if(Ut.number===1)return Ot}const Ht=Math.min(Ut.min*Ot.min,Ut.min*Ot.max,Ut.max*Ot.min,Ut.max*Ot.max),an=Math.max(Ut.min*Ot.min,Ut.min*Ot.max,Ut.max*Ot.min,Ut.max*Ot.max);return new Bt("*",Ut,Ot,Ht,an)}function bn(Ut,Ot){if(Ot.type==="literal"){if(Ot.number===0)return Ut;if(Ut.type==="literal")return new qt(Ut.number-Ot.number)}return Ot.type==="binary"&&Ot.op==="-"&&Ut.type==="literal"&&Ut.number===1&&Ot.arg1.type==="literal"&&Ot.arg1.number===1?Ot.arg2:new Bt("-",Ut,Ot,Ut.min-Ot.max,Ut.max-Ot.min)}function Wt(Ut,Ot){return Ut.min>=Ot?new qt(Ot):Ut.max<=Ot?Ut:new Gt(Ut,Ot)}class Yt{compile(Ot,Ht,an){const zt=[],Vt=[],nn=Ht.length>>1,hn=an.length>>1;let on=0,cn,sn,rn,xn,vn,kn,Pn,On;for(let Sn=0;Sn<nn;Sn++)zt.push(new kt(Sn,Ht[Sn*2],Ht[Sn*2+1]));for(let Sn=0,mn=Ot.length;Sn<mn;Sn++){if(On=Ot[Sn],typeof On=="number"){zt.push(new qt(On));continue}switch(On){case"add":if(zt.length<2)return null;xn=zt.pop(),rn=zt.pop(),zt.push(gn(rn,xn));break;case"cvr":if(zt.length<1)return null;break;case"mul":if(zt.length<2)return null;xn=zt.pop(),rn=zt.pop(),zt.push(tn(rn,xn));break;case"sub":if(zt.length<2)return null;xn=zt.pop(),rn=zt.pop(),zt.push(bn(rn,xn));break;case"exch":if(zt.length<2)return null;vn=zt.pop(),kn=zt.pop(),zt.push(vn,kn);break;case"pop":if(zt.length<1)return null;zt.pop();break;case"index":if(zt.length<1||(rn=zt.pop(),rn.type!=="literal")||(cn=rn.number,cn<0||!Number.isInteger(cn)||zt.length<cn))return null;if(vn=zt[zt.length-cn-1],vn.type==="literal"||vn.type==="var"){zt.push(vn);break}Pn=new en(on++,vn.min,vn.max),zt[zt.length-cn-1]=Pn,zt.push(Pn),Vt.push(new dn(Pn,vn));break;case"dup":if(zt.length<1)return null;if(typeof Ot[Sn+1]=="number"&&Ot[Sn+2]==="gt"&&Ot[Sn+3]===Sn+7&&Ot[Sn+4]==="jz"&&Ot[Sn+5]==="pop"&&Ot[Sn+6]===Ot[Sn+1]){rn=zt.pop(),zt.push(Wt(rn,Ot[Sn+1])),Sn+=6;break}if(vn=zt.at(-1),vn.type==="literal"||vn.type==="var"){zt.push(vn);break}Pn=new en(on++,vn.min,vn.max),zt[zt.length-1]=Pn,zt.push(Pn),Vt.push(new dn(Pn,vn));break;case"roll":if(zt.length<2||(xn=zt.pop(),rn=zt.pop(),xn.type!=="literal"||rn.type!=="literal")||(sn=xn.number,cn=rn.number,cn<=0||!Number.isInteger(cn)||!Number.isInteger(sn)||zt.length<cn))return null;if(sn=(sn%cn+cn)%cn,sn===0)break;zt.push(...zt.splice(zt.length-cn,cn-sn));break;default:return null}}if(zt.length!==hn)return null;const _n=[];for(const Sn of Vt){const mn=new Qt;Sn.visit(mn),_n.push(mn.toString())}for(let Sn=0,mn=zt.length;Sn<mn;Sn++){const fn=zt[Sn],Jt=new Qt;fn.visit(Jt);const ln=an[Sn*2],pn=an[Sn*2+1],wn=[Jt.toString()];ln>fn.min&&(wn.unshift("Math.max(",ln,", "),wn.push(")")),pn<fn.max&&(wn.unshift("Math.min(",pn,", "),wn.push(")")),wn.unshift("dest[destOffset + ",Sn,"] = "),wn.push(";"),_n.push(wn.join(""))}return _n.join(`
`)}}Et.PostScriptCompiler=Yt},(Ct,Et,Ft)=>{Object.defineProperty(Et,"__esModule",{value:!0}),Et.PostScriptParser=Et.PostScriptLexer=void 0;var wt=Ft(2),_t=Ft(4),Rt=Ft(3);class _e{constructor(Nt){this.lexer=Nt,this.operators=[],this.token=null,this.prev=null}nextToken(){this.prev=this.token,this.token=this.lexer.getToken()}accept(Nt){return this.token.type===Nt?(this.nextToken(),!0):!1}expect(Nt){if(this.accept(Nt))return!0;throw new wt.FormatError(`Unexpected symbol: found ${this.token.type} expected ${Nt}.`)}parse(){return this.nextToken(),this.expect(bt.LBRACE),this.parseBlock(),this.expect(bt.RBRACE),this.operators}parseBlock(){for(;;)if(this.accept(bt.NUMBER))this.operators.push(this.prev.value);else if(this.accept(bt.OPERATOR))this.operators.push(this.prev.value);else if(this.accept(bt.LBRACE))this.parseCondition();else return}parseCondition(){const Nt=this.operators.length;if(this.operators.push(null,null),this.parseBlock(),this.expect(bt.RBRACE),this.accept(bt.IF))this.operators[Nt]=this.operators.length,this.operators[Nt+1]="jz";else if(this.accept(bt.LBRACE)){const $t=this.operators.length;this.operators.push(null,null);const Lt=this.operators.length;this.parseBlock(),this.expect(bt.RBRACE),this.expect(bt.IFELSE),this.operators[$t]=this.operators.length,this.operators[$t+1]="j",this.operators[Nt]=Lt,this.operators[Nt+1]="jz"}else throw new wt.FormatError("PS Function: error parsing conditional.")}}Et.PostScriptParser=_e;const bt={LBRACE:0,RBRACE:1,NUMBER:2,OPERATOR:3,IF:4,IFELSE:5};class Pt{static get opCache(){return(0,wt.shadow)(this,"opCache",Object.create(null))}constructor(Nt,$t){this.type=Nt,this.value=$t}static getOperator(Nt){var $t;return($t=Pt.opCache)[Nt]||($t[Nt]=new Pt(bt.OPERATOR,Nt))}static get LBRACE(){return(0,wt.shadow)(this,"LBRACE",new Pt(bt.LBRACE,"{"))}static get RBRACE(){return(0,wt.shadow)(this,"RBRACE",new Pt(bt.RBRACE,"}"))}static get IF(){return(0,wt.shadow)(this,"IF",new Pt(bt.IF,"IF"))}static get IFELSE(){return(0,wt.shadow)(this,"IFELSE",new Pt(bt.IFELSE,"IFELSE"))}}class Xt{constructor(Nt){this.stream=Nt,this.nextChar(),this.strBuf=[]}nextChar(){return this.currentChar=this.stream.getByte()}getToken(){let Nt=!1,$t=this.currentChar;for(;;){if($t<0)return _t.EOF;if(Nt)($t===10||$t===13)&&(Nt=!1);else if($t===37)Nt=!0;else if(!(0,Rt.isWhiteSpace)($t))break;$t=this.nextChar()}switch($t|0){case 48:case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:case 43:case 45:case 46:return new Pt(bt.NUMBER,this.getNumber());case 123:return this.nextChar(),Pt.LBRACE;case 125:return this.nextChar(),Pt.RBRACE}const Lt=this.strBuf;for(Lt.length=0,Lt[0]=String.fromCharCode($t);($t=this.nextChar())>=0&&($t>=65&&$t<=90||$t>=97&&$t<=122);)Lt.push(String.fromCharCode($t));const jt=Lt.join("");switch(jt.toLowerCase()){case"if":return Pt.IF;case"ifelse":return Pt.IFELSE;default:return Pt.getOperator(jt)}}getNumber(){let Nt=this.currentChar;const $t=this.strBuf;for($t.length=0,$t[0]=String.fromCharCode(Nt);(Nt=this.nextChar())>=0&&(Nt>=48&&Nt<=57||Nt===45||Nt===46);)$t.push(String.fromCharCode(Nt));const Lt=parseFloat($t.join(""));if(isNaN(Lt))throw new wt.FormatError(`Invalid floating point number: ${Lt}`);return Lt}}Et.PostScriptLexer=Xt},(Ct,Et,Ft)=>{Object.defineProperty(Et,"__esModule",{value:!0}),Et.RegionalImageCache=Et.LocalTilingPatternCache=Et.LocalImageCache=Et.LocalGStateCache=Et.LocalFunctionCache=Et.LocalColorSpaceCache=Et.GlobalImageCache=void 0;var wt=Ft(2),_t=Ft(4);class Rt{constructor(kt){this.constructor===Rt&&(0,wt.unreachable)("Cannot initialize BaseLocalCache."),this._onlyRefs=(kt==null?void 0:kt.onlyRefs)===!0,this._onlyRefs||(this._nameRefMap=new Map,this._imageMap=new Map),this._imageCache=new _t.RefSetCache}getByName(kt){this._onlyRefs&&(0,wt.unreachable)("Should not call `getByName` method.");const qt=this._nameRefMap.get(kt);return qt?this.getByRef(qt):this._imageMap.get(kt)||null}getByRef(kt){return this._imageCache.get(kt)||null}set(kt,qt,Bt){(0,wt.unreachable)("Abstract method `set` called.")}}class _e extends Rt{set(kt,qt=null,Bt){if(typeof kt!="string")throw new Error('LocalImageCache.set - expected "name" argument.');if(qt){if(this._imageCache.has(qt))return;this._nameRefMap.set(kt,qt),this._imageCache.put(qt,Bt);return}this._imageMap.has(kt)||this._imageMap.set(kt,Bt)}}Et.LocalImageCache=_e;class bt extends Rt{set(kt=null,qt=null,Bt){if(typeof kt!="string"&&!qt)throw new Error('LocalColorSpaceCache.set - expected "name" and/or "ref" argument.');if(qt){if(this._imageCache.has(qt))return;kt!==null&&this._nameRefMap.set(kt,qt),this._imageCache.put(qt,Bt);return}this._imageMap.has(kt)||this._imageMap.set(kt,Bt)}}Et.LocalColorSpaceCache=bt;class Pt extends Rt{constructor(kt){super({onlyRefs:!0})}set(kt=null,qt,Bt){if(!qt)throw new Error('LocalFunctionCache.set - expected "ref" argument.');this._imageCache.has(qt)||this._imageCache.put(qt,Bt)}}Et.LocalFunctionCache=Pt;class Xt extends Rt{set(kt,qt=null,Bt){if(typeof kt!="string")throw new Error('LocalGStateCache.set - expected "name" argument.');if(qt){if(this._imageCache.has(qt))return;this._nameRefMap.set(kt,qt),this._imageCache.put(qt,Bt);return}this._imageMap.has(kt)||this._imageMap.set(kt,Bt)}}Et.LocalGStateCache=Xt;class Kt extends Rt{constructor(kt){super({onlyRefs:!0})}set(kt=null,qt,Bt){if(!qt)throw new Error('LocalTilingPatternCache.set - expected "ref" argument.');this._imageCache.has(qt)||this._imageCache.put(qt,Bt)}}Et.LocalTilingPatternCache=Kt;class Nt extends Rt{constructor(kt){super({onlyRefs:!0})}set(kt=null,qt,Bt){if(!qt)throw new Error('RegionalImageCache.set - expected "ref" argument.');this._imageCache.has(qt)||this._imageCache.put(qt,Bt)}}Et.RegionalImageCache=Nt;const Lt=class Lt{constructor(){this._refCache=new _t.RefSetCache,this._imageCache=new _t.RefSetCache}get _byteSize(){let kt=0;for(const qt of this._imageCache)kt+=qt.byteSize;return kt}get _cacheLimitReached(){return!(this._imageCache.size<Lt.MIN_IMAGES_TO_CACHE||this._byteSize<Lt.MAX_BYTE_SIZE)}shouldCache(kt,qt){let Bt=this._refCache.get(kt);return Bt||(Bt=new Set,this._refCache.put(kt,Bt)),Bt.add(qt),!(Bt.size<Lt.NUM_PAGES_THRESHOLD||!this._imageCache.has(kt)&&this._cacheLimitReached)}addByteSize(kt,qt){const Bt=this._imageCache.get(kt);Bt&&(Bt.byteSize||(Bt.byteSize=qt))}getData(kt,qt){const Bt=this._refCache.get(kt);if(!Bt||Bt.size<Lt.NUM_PAGES_THRESHOLD)return null;const Gt=this._imageCache.get(kt);return Gt?(Bt.add(qt),Gt):null}setData(kt,qt){if(!this._refCache.has(kt))throw new Error('GlobalImageCache.setData - expected "shouldCache" to have been called.');if(!this._imageCache.has(kt)){if(this._cacheLimitReached){(0,wt.warn)("GlobalImageCache.setData - cache limit reached.");return}this._imageCache.put(kt,qt)}}clear(kt=!1){kt||this._refCache.clear(),this._imageCache.clear()}};Ur(Lt,"NUM_PAGES_THRESHOLD",2),Ur(Lt,"MIN_IMAGES_TO_CACHE",10),Ur(Lt,"MAX_BYTE_SIZE",5*wt.MAX_IMAGE_SIZE_TO_CACHE);let $t=Lt;Et.GlobalImageCache=$t},(Ct,Et,Ft)=>{Object.defineProperty(Et,"__esModule",{value:!0}),Et.bidi=jt;var wt=Ft(2);const _t=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","ON","ON","ET","ET","ET","ON","ON","ON","ON","ON","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","ON","ON","ON","ON","ON","ON","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","ON","ON","ON","ON","ON","ON","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","ON","ON","ON","ON","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","ON","ET","ET","ET","ET","ON","ON","ON","ON","L","ON","ON","BN","ON","ON","ET","ET","EN","EN","ON","L","ON","ON","ON","EN","L","ON","ON","ON","ON","ON","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","ON","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","ON","L","L","L","L","L","L","L","L"],Rt=["AN","AN","AN","AN","AN","AN","ON","ON","AL","ET","ET","AL","CS","AL","ON","ON","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","ON","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","ON","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL"];function _e(kt){return(kt&1)!==0}function bt(kt){return(kt&1)===0}function Pt(kt,qt,Bt){let Gt,en;for(Gt=qt,en=kt.length;Gt<en;++Gt)if(kt[Gt]!==Bt)return Gt;return Gt}function Xt(kt,qt,Bt,Gt){for(let en=qt;en<Bt;++en)kt[en]=Gt}function Kt(kt,qt,Bt){for(let Gt=qt,en=Bt-1;Gt<en;++Gt,--en){const dn=kt[Gt];kt[Gt]=kt[en],kt[en]=dn}}function Nt(kt,qt,Bt=!1){let Gt="ltr";return Bt?Gt="ttb":qt||(Gt="rtl"),{str:kt,dir:Gt}}const $t=[],Lt=[];function jt(kt,qt=-1,Bt=!1){let Gt=!0;const en=kt.length;if(en===0||Bt)return Nt(kt,Gt,Bt);$t.length=en,Lt.length=en;let dn=0,Qt,gn;for(Qt=0;Qt<en;++Qt){$t[Qt]=kt.charAt(Qt);const zt=kt.charCodeAt(Qt);let Vt="L";zt<=255?Vt=_t[zt]:1424<=zt&&zt<=1524?Vt="R":1536<=zt&&zt<=1791?(Vt=Rt[zt&255],Vt||(0,wt.warn)("Bidi: invalid Unicode character "+zt.toString(16))):(1792<=zt&&zt<=2220||64336<=zt&&zt<=65023||65136<=zt&&zt<=65279)&&(Vt="AL"),(Vt==="R"||Vt==="AL"||Vt==="AN")&&dn++,Lt[Qt]=Vt}if(dn===0)return Gt=!0,Nt(kt,Gt);qt===-1&&(dn/en<.3&&en>4?(Gt=!0,qt=0):(Gt=!1,qt=1));const tn=[];for(Qt=0;Qt<en;++Qt)tn[Qt]=qt;const bn=_e(qt)?"R":"L",Wt=bn,Yt=Wt;let un=Wt;for(Qt=0;Qt<en;++Qt)Lt[Qt]==="NSM"?Lt[Qt]=un:un=Lt[Qt];un=Wt;let Ut;for(Qt=0;Qt<en;++Qt)Ut=Lt[Qt],Ut==="EN"?Lt[Qt]=un==="AL"?"AN":"EN":(Ut==="R"||Ut==="L"||Ut==="AL")&&(un=Ut);for(Qt=0;Qt<en;++Qt)Ut=Lt[Qt],Ut==="AL"&&(Lt[Qt]="R");for(Qt=1;Qt<en-1;++Qt)Lt[Qt]==="ES"&&Lt[Qt-1]==="EN"&&Lt[Qt+1]==="EN"&&(Lt[Qt]="EN"),Lt[Qt]==="CS"&&(Lt[Qt-1]==="EN"||Lt[Qt-1]==="AN")&&Lt[Qt+1]===Lt[Qt-1]&&(Lt[Qt]=Lt[Qt-1]);for(Qt=0;Qt<en;++Qt)if(Lt[Qt]==="EN"){for(let zt=Qt-1;zt>=0&&Lt[zt]==="ET";--zt)Lt[zt]="EN";for(let zt=Qt+1;zt<en&&Lt[zt]==="ET";++zt)Lt[zt]="EN"}for(Qt=0;Qt<en;++Qt)Ut=Lt[Qt],(Ut==="WS"||Ut==="ES"||Ut==="ET"||Ut==="CS")&&(Lt[Qt]="ON");for(un=Wt,Qt=0;Qt<en;++Qt)Ut=Lt[Qt],Ut==="EN"?Lt[Qt]=un==="L"?"L":"EN":(Ut==="R"||Ut==="L")&&(un=Ut);for(Qt=0;Qt<en;++Qt)if(Lt[Qt]==="ON"){const zt=Pt(Lt,Qt+1,"ON");let Vt=Wt;Qt>0&&(Vt=Lt[Qt-1]);let nn=Yt;zt+1<en&&(nn=Lt[zt+1]),Vt!=="L"&&(Vt="R"),nn!=="L"&&(nn="R"),Vt===nn&&Xt(Lt,Qt,zt,Vt),Qt=zt-1}for(Qt=0;Qt<en;++Qt)Lt[Qt]==="ON"&&(Lt[Qt]=bn);for(Qt=0;Qt<en;++Qt)Ut=Lt[Qt],bt(tn[Qt])?Ut==="R"?tn[Qt]+=1:(Ut==="AN"||Ut==="EN")&&(tn[Qt]+=2):(Ut==="L"||Ut==="AN"||Ut==="EN")&&(tn[Qt]+=1);let Ot=-1,Ht=99,an;for(Qt=0,gn=tn.length;Qt<gn;++Qt)an=tn[Qt],Ot<an&&(Ot=an),Ht>an&&_e(an)&&(Ht=an);for(an=Ot;an>=Ht;--an){let zt=-1;for(Qt=0,gn=tn.length;Qt<gn;++Qt)tn[Qt]<an?zt>=0&&(Kt($t,zt,Qt),zt=-1):zt<0&&(zt=Qt);zt>=0&&Kt($t,zt,tn.length)}for(Qt=0,gn=$t.length;Qt<gn;++Qt){const zt=$t[Qt];(zt==="<"||zt===">")&&($t[Qt]="")}return Nt($t.join(""),Gt)}},(Ct,Et,Ft)=>{Object.defineProperty(Et,"__esModule",{value:!0}),Et.getFontSubstitution=Lt;var wt=Ft(38),_t=Ft(3);const Rt={style:"normal",weight:"normal"},_e={style:"normal",weight:"bold"},bt={style:"italic",weight:"normal"},Pt={style:"italic",weight:"bold"},Xt=new Map([["Times-Roman",{local:["Times New Roman","Times-Roman","Times","Liberation Serif","Nimbus Roman","Nimbus Roman L","Tinos","Thorndale","TeX Gyre Termes","FreeSerif","DejaVu Serif","Bitstream Vera Serif","Ubuntu"],style:Rt,ultimate:"serif"}],["Times-Bold",{alias:"Times-Roman",style:_e,ultimate:"serif"}],["Times-Italic",{alias:"Times-Roman",style:bt,ultimate:"serif"}],["Times-BoldItalic",{alias:"Times-Roman",style:Pt,ultimate:"serif"}],["Helvetica",{local:["Helvetica","Helvetica Neue","Arial","Arial Nova","Liberation Sans","Arimo","Nimbus Sans","Nimbus Sans L","A030","TeX Gyre Heros","FreeSans","DejaVu Sans","Albany","Bitstream Vera Sans","Arial Unicode MS","Microsoft Sans Serif","Apple Symbols","Cantarell"],path:"LiberationSans-Regular.ttf",style:Rt,ultimate:"sans-serif"}],["Helvetica-Bold",{alias:"Helvetica",path:"LiberationSans-Bold.ttf",style:_e,ultimate:"sans-serif"}],["Helvetica-Oblique",{alias:"Helvetica",path:"LiberationSans-Italic.ttf",style:bt,ultimate:"sans-serif"}],["Helvetica-BoldOblique",{alias:"Helvetica",path:"LiberationSans-BoldItalic.ttf",style:Pt,ultimate:"sans-serif"}],["Courier",{local:["Courier","Courier New","Liberation Mono","Nimbus Mono","Nimbus Mono L","Cousine","Cumberland","TeX Gyre Cursor","FreeMono"],style:Rt,ultimate:"monospace"}],["Courier-Bold",{alias:"Courier",style:_e,ultimate:"monospace"}],["Courier-Oblique",{alias:"Courier",style:bt,ultimate:"monospace"}],["Courier-BoldOblique",{alias:"Courier",style:Pt,ultimate:"monospace"}],["ArialBlack",{local:["Arial Black"],style:{style:"normal",weight:"900"},fallback:"Helvetica-Bold"}],["ArialBlack-Bold",{alias:"ArialBlack"}],["ArialBlack-Italic",{alias:"ArialBlack",style:{style:"italic",weight:"900"},fallback:"Helvetica-BoldOblique"}],["ArialBlack-BoldItalic",{alias:"ArialBlack-Italic"}],["ArialNarrow",{local:["Arial Narrow","Liberation Sans Narrow","Helvetica Condensed","Nimbus Sans Narrow","TeX Gyre Heros Cn"],style:Rt,fallback:"Helvetica"}],["ArialNarrow-Bold",{alias:"ArialNarrow",style:_e,fallback:"Helvetica-Bold"}],["ArialNarrow-Italic",{alias:"ArialNarrow",style:bt,fallback:"Helvetica-Oblique"}],["ArialNarrow-BoldItalic",{alias:"ArialNarrow",style:Pt,fallback:"Helvetica-BoldOblique"}],["Calibri",{local:["Calibri","Carlito"],style:Rt,fallback:"Helvetica"}],["Calibri-Bold",{alias:"Calibri",style:_e,fallback:"Helvetica-Bold"}],["Calibri-Italic",{alias:"Calibri",style:bt,fallback:"Helvetica-Oblique"}],["Calibri-BoldItalic",{alias:"Calibri",style:Pt,fallback:"Helvetica-BoldOblique"}],["Wingdings",{local:["Wingdings","URW Dingbats"],style:Rt}],["Wingdings-Regular",{alias:"Wingdings"}],["Wingdings-Bold",{alias:"Wingdings"}]]),Kt=new Map([["Arial-Black","ArialBlack"]]);function Nt(jt){switch(jt){case _e:return"Bold";case bt:return"Italic";case Pt:return"Bold Italic";default:if((jt==null?void 0:jt.weight)==="bold")return"Bold";if((jt==null?void 0:jt.style)==="italic")return"Italic"}return""}function $t({alias:jt,local:kt,path:qt,fallback:Bt,style:Gt,ultimate:en},dn,Qt,gn=!0,tn=!0,bn=""){const Wt={style:null,ultimate:null};if(kt){const Yt=bn?` ${bn}`:"";for(const un of kt)dn.push(`local(${un}${Yt})`)}if(jt){const Yt=Xt.get(jt),un=bn||Nt(Gt);Object.assign(Wt,$t(Yt,dn,Qt,gn&&!Bt,tn&&!qt,un))}if(Gt&&(Wt.style=Gt),en&&(Wt.ultimate=en),gn&&Bt){const Yt=Xt.get(Bt),{ultimate:un}=$t(Yt,dn,Qt,gn,tn&&!qt,bn);Wt.ultimate||(Wt.ultimate=un)}return tn&&qt&&Qt&&dn.push(`url(${Qt}${qt})`),Wt}function Lt(jt,kt,qt,Bt,Gt){Bt=(0,wt.normalizeFontName)(Bt);const en=Bt;let dn=jt.get(en);if(dn)return dn;let Qt=Xt.get(Bt);if(!Qt){for(const[Ot,Ht]of Kt)if(Bt.startsWith(Ot)){Bt=`${Ht}${Bt.substring(Ot.length)}`,Qt=Xt.get(Bt);break}}let gn=!1;Qt||(Qt=Xt.get(Gt),gn=!0);const tn=`${kt.getDocId()}_s${kt.createFontId()}`;if(!Qt){if(!(0,_t.validateFontName)(Bt))return jt.set(en,null),null;const Ot=/bold/gi.test(Bt),Ht=/oblique|italic/gi.test(Bt),an=Ot&&Ht&&Pt||Ot&&_e||Ht&&bt||Rt;return dn={css:tn,guessFallback:!0,loadedName:tn,baseFontName:Bt,src:`local(${Bt})`,style:an},jt.set(en,dn),dn}const bn=[];gn&&(0,_t.validateFontName)(Bt)&&bn.push(`local(${Bt})`);const{style:Wt,ultimate:Yt}=$t(Qt,bn,qt),un=Yt===null,Ut=un?"":`,${Yt}`;return dn={css:`${tn}${Ut}`,guessFallback:un,loadedName:tn,baseFontName:Bt,src:bn.join(","),style:Wt},jt.set(en,dn),dn}},(Ct,Et,Ft)=>{Object.defineProperty(Et,"__esModule",{value:!0}),Et.ImageResizer=void 0;var wt=Ft(2);const _t=2048,Rt=65537,_e=128;class bt{constructor(Xt,Kt){this._imgData=Xt,this._isMask=Kt}static needsToBeResized(Xt,Kt){if(Xt<=this._goodSquareLength&&Kt<=this._goodSquareLength)return!1;const{MAX_DIM:Nt}=this;if(Xt>Nt||Kt>Nt)return!0;const $t=Xt*Kt;if(this._hasMaxArea)return $t>this.MAX_AREA;if($t<this._goodSquareLength**2)return!1;if(this._areGoodDims(Xt,Kt))return this._goodSquareLength=Math.max(this._goodSquareLength,Math.floor(Math.sqrt(Xt*Kt))),!1;this._goodSquareLength=this._guessMax(this._goodSquareLength,Nt,_e,0);const Lt=this.MAX_AREA=this._goodSquareLength**2;return $t>Lt}static get MAX_DIM(){return(0,wt.shadow)(this,"MAX_DIM",this._guessMax(_t,Rt,0,1))}static get MAX_AREA(){return this._hasMaxArea=!0,(0,wt.shadow)(this,"MAX_AREA",this._guessMax(bt._goodSquareLength,this.MAX_DIM,_e,0)**2)}static set MAX_AREA(Xt){Xt>=0&&(this._hasMaxArea=!0,(0,wt.shadow)(this,"MAX_AREA",Xt))}static setMaxArea(Xt){this._hasMaxArea||(this.MAX_AREA=Xt>>2)}static _areGoodDims(Xt,Kt){try{const Nt=new OffscreenCanvas(Xt,Kt),$t=Nt.getContext("2d");$t.fillRect(0,0,1,1);const Lt=$t.getImageData(0,0,1,1).data[3];return Nt.width=Nt.height=1,Lt!==0}catch{return!1}}static _guessMax(Xt,Kt,Nt,$t){for(;Xt+Nt+1<Kt;){const Lt=Math.floor((Xt+Kt)/2),jt=$t||Lt;this._areGoodDims(Lt,jt)?Xt=Lt:Kt=Lt}return Xt}static async createImage(Xt,Kt=!1){return new bt(Xt,Kt)._createImage()}async _createImage(){const Xt=this._encodeBMP(),Kt=new Blob([Xt.buffer],{type:"image/bmp"}),Nt=createImageBitmap(Kt),{MAX_AREA:$t,MAX_DIM:Lt}=bt,{_imgData:jt}=this,{width:kt,height:qt}=jt,Bt=Math.max(kt/Lt,qt/Lt,Math.sqrt(kt*qt/$t)),Gt=Math.max(Bt,2),en=Math.round(10*(Bt+1.25))/10/Gt,dn=Math.floor(Math.log2(en)),Qt=new Array(dn+2).fill(2);Qt[0]=Gt,Qt.splice(-1,1,en/(1<<dn));let gn=kt,tn=qt,bn=await Nt;for(const Wt of Qt){const Yt=gn,un=tn;gn=Math.floor(gn/Wt)-1,tn=Math.floor(tn/Wt)-1;const Ut=new OffscreenCanvas(gn,tn);Ut.getContext("2d").drawImage(bn,0,0,Yt,un,0,0,gn,tn),bn=Ut.transferToImageBitmap()}return jt.data=null,jt.bitmap=bn,jt.width=gn,jt.height=tn,jt}_encodeBMP(){const{width:Xt,height:Kt,kind:Nt}=this._imgData;let $t=this._imgData.data,Lt,jt=new Uint8Array(0),kt=jt,qt=0;switch(Nt){case wt.ImageKind.GRAYSCALE_1BPP:{Lt=1,jt=new Uint8Array(this._isMask?[255,255,255,255,0,0,0,0]:[0,0,0,0,255,255,255,255]);const tn=Xt+7>>3,bn=tn+3&-4;if(tn!==bn){const Wt=new Uint8Array(bn*Kt);let Yt=0;for(let un=0,Ut=Kt*tn;un<Ut;un+=tn,Yt+=bn)Wt.set($t.subarray(un,un+tn),Yt);$t=Wt}break}case wt.ImageKind.RGB_24BPP:{if(Lt=24,Xt&3){const tn=3*Xt,bn=tn+3&-4,Wt=bn-tn,Yt=new Uint8Array(bn*Kt);let un=0;for(let Ut=0,Ot=Kt*tn;Ut<Ot;Ut+=tn){const Ht=$t.subarray(Ut,Ut+tn);for(let an=0;an<tn;an+=3)Yt[un++]=Ht[an+2],Yt[un++]=Ht[an+1],Yt[un++]=Ht[an];un+=Wt}$t=Yt}else for(let tn=0,bn=$t.length;tn<bn;tn+=3){const Wt=$t[tn];$t[tn]=$t[tn+2],$t[tn+2]=Wt}break}case wt.ImageKind.RGBA_32BPP:Lt=32,qt=3,kt=new Uint8Array(68);const gn=new DataView(kt.buffer);wt.FeatureTest.isLittleEndian?(gn.setUint32(0,255,!0),gn.setUint32(4,65280,!0),gn.setUint32(8,16711680,!0),gn.setUint32(12,4278190080,!0)):(gn.setUint32(0,4278190080,!0),gn.setUint32(4,16711680,!0),gn.setUint32(8,65280,!0),gn.setUint32(12,255,!0));break;default:throw new Error("invalid format")}let Bt=0;const Gt=40+kt.length,en=14+Gt+jt.length+$t.length,dn=new Uint8Array(en),Qt=new DataView(dn.buffer);return Qt.setUint16(Bt,19778,!0),Bt+=2,Qt.setUint32(Bt,en,!0),Bt+=4,Qt.setUint32(Bt,0,!0),Bt+=4,Qt.setUint32(Bt,14+Gt+jt.length,!0),Bt+=4,Qt.setUint32(Bt,Gt,!0),Bt+=4,Qt.setInt32(Bt,Xt,!0),Bt+=4,Qt.setInt32(Bt,-Kt,!0),Bt+=4,Qt.setUint16(Bt,1,!0),Bt+=2,Qt.setUint16(Bt,Lt,!0),Bt+=2,Qt.setUint32(Bt,qt,!0),Bt+=4,Qt.setUint32(Bt,0,!0),Bt+=4,Qt.setInt32(Bt,0,!0),Bt+=4,Qt.setInt32(Bt,0,!0),Bt+=4,Qt.setUint32(Bt,jt.length/4,!0),Bt+=4,Qt.setUint32(Bt,0,!0),Bt+=4,dn.set(kt,Bt),Bt+=kt.length,dn.set(jt,Bt),Bt+=jt.length,dn.set($t,Bt),dn}}Et.ImageResizer=bt,bt._goodSquareLength=_t},(Ct,Et,Ft)=>{Object.defineProperty(Et,"__esModule",{value:!0}),Et.MurmurHash3_64=void 0;var wt=Ft(2);const _t=3285377520,Rt=4294901760,_e=65535;class bt{constructor(Xt){this.h1=Xt?Xt&4294967295:_t,this.h2=Xt?Xt&4294967295:_t}update(Xt){let Kt,Nt;if(typeof Xt=="string"){Kt=new Uint8Array(Xt.length*2),Nt=0;for(let tn=0,bn=Xt.length;tn<bn;tn++){const Wt=Xt.charCodeAt(tn);Wt<=255?Kt[Nt++]=Wt:(Kt[Nt++]=Wt>>>8,Kt[Nt++]=Wt&255)}}else if((0,wt.isArrayBuffer)(Xt))Kt=Xt.slice(),Nt=Kt.byteLength;else throw new Error("Wrong data format in MurmurHash3_64_update. Input must be a string or array.");const $t=Nt>>2,Lt=Nt-$t*4,jt=new Uint32Array(Kt.buffer,0,$t);let kt=0,qt=0,Bt=this.h1,Gt=this.h2;const en=3432918353,dn=461845907,Qt=en&_e,gn=dn&_e;for(let tn=0;tn<$t;tn++)tn&1?(kt=jt[tn],kt=kt*en&Rt|kt*Qt&_e,kt=kt<<15|kt>>>17,kt=kt*dn&Rt|kt*gn&_e,Bt^=kt,Bt=Bt<<13|Bt>>>19,Bt=Bt*5+3864292196):(qt=jt[tn],qt=qt*en&Rt|qt*Qt&_e,qt=qt<<15|qt>>>17,qt=qt*dn&Rt|qt*gn&_e,Gt^=qt,Gt=Gt<<13|Gt>>>19,Gt=Gt*5+3864292196);switch(kt=0,Lt){case 3:kt^=Kt[$t*4+2]<<16;case 2:kt^=Kt[$t*4+1]<<8;case 1:kt^=Kt[$t*4],kt=kt*en&Rt|kt*Qt&_e,kt=kt<<15|kt>>>17,kt=kt*dn&Rt|kt*gn&_e,$t&1?Bt^=kt:Gt^=kt}this.h1=Bt,this.h2=Gt}hexdigest(){let Xt=this.h1,Kt=this.h2;return Xt^=Kt>>>1,Xt=Xt*3981806797&Rt|Xt*36045&_e,Kt=Kt*4283543511&Rt|((Kt<<16|Xt>>>16)*2950163797&Rt)>>>16,Xt^=Kt>>>1,Xt=Xt*444984403&Rt|Xt*60499&_e,Kt=Kt*3301882366&Rt|((Kt<<16|Xt>>>16)*3120437893&Rt)>>>16,Xt^=Kt>>>1,(Xt>>>0).toString(16).padStart(8,"0")+(Kt>>>0).toString(16).padStart(8,"0")}}Et.MurmurHash3_64=bt},(Ct,Et,Ft)=>{Object.defineProperty(Et,"__esModule",{value:!0}),Et.OperatorList=void 0;var wt=Ft(2);function _t(Kt,Nt,$t,Lt,jt){let kt=Kt;for(let qt=0,Bt=Nt.length-1;qt<Bt;qt++){const Gt=Nt[qt];kt=kt[Gt]||(kt[Gt]=[])}kt[Nt.at(-1)]={checkFn:$t,iterateFn:Lt,processFn:jt}}const Rt=[];_t(Rt,[wt.OPS.save,wt.OPS.transform,wt.OPS.paintInlineImageXObject,wt.OPS.restore],null,function(Nt,$t){const Lt=Nt.fnArray,jt=Nt.iCurr-3,kt=($t-jt)%4;switch(kt){case 0:return Lt[$t]===wt.OPS.save;case 1:return Lt[$t]===wt.OPS.transform;case 2:return Lt[$t]===wt.OPS.paintInlineImageXObject;case 3:return Lt[$t]===wt.OPS.restore}throw new Error(`iterateInlineImageGroup - invalid pos: ${kt}`)},function(Nt,$t){const Bt=Nt.fnArray,Gt=Nt.argsArray,en=Nt.iCurr,dn=en-3,Qt=en-2,gn=en-1,tn=Math.min(Math.floor(($t-dn)/4),200);if(tn<10)return $t-($t-dn)%4;let bn=0;const Wt=[];let Yt=0,un=1,Ut=1;for(let nn=0;nn<tn;nn++){const hn=Gt[Qt+(nn<<2)],on=Gt[gn+(nn<<2)][0];un+on.width>1e3&&(bn=Math.max(bn,un),Ut+=Yt+2,un=0,Yt=0),Wt.push({transform:hn,x:un,y:Ut,w:on.width,h:on.height}),un+=on.width+2,Yt=Math.max(Yt,on.height)}const Ot=Math.max(bn,un)+1,Ht=Ut+Yt+1,an=new Uint8Array(Ot*Ht*4),zt=Ot<<2;for(let nn=0;nn<tn;nn++){const hn=Gt[gn+(nn<<2)][0].data,on=Wt[nn].w<<2;let cn=0,sn=Wt[nn].x+Wt[nn].y*Ot<<2;an.set(hn.subarray(0,on),sn-zt);for(let rn=0,xn=Wt[nn].h;rn<xn;rn++)an.set(hn.subarray(cn,cn+on),sn),cn+=on,sn+=zt;for(an.set(hn.subarray(cn-on,cn),sn);sn>=0;)hn[sn-4]=hn[sn],hn[sn-3]=hn[sn+1],hn[sn-2]=hn[sn+2],hn[sn-1]=hn[sn+3],hn[sn+on]=hn[sn+on-4],hn[sn+on+1]=hn[sn+on-3],hn[sn+on+2]=hn[sn+on-2],hn[sn+on+3]=hn[sn+on-1],sn-=zt}const Vt={width:Ot,height:Ht};if(Nt.isOffscreenCanvasSupported){const nn=new OffscreenCanvas(Ot,Ht);nn.getContext("2d").putImageData(new ImageData(new Uint8ClampedArray(an.buffer),Ot,Ht),0,0),Vt.bitmap=nn.transferToImageBitmap(),Vt.data=null}else Vt.kind=wt.ImageKind.RGBA_32BPP,Vt.data=an;return Bt.splice(dn,tn*4,wt.OPS.paintInlineImageXObjectGroup),Gt.splice(dn,tn*4,[Vt,Wt]),dn+1}),_t(Rt,[wt.OPS.save,wt.OPS.transform,wt.OPS.paintImageMaskXObject,wt.OPS.restore],null,function(Nt,$t){const Lt=Nt.fnArray,jt=Nt.iCurr-3,kt=($t-jt)%4;switch(kt){case 0:return Lt[$t]===wt.OPS.save;case 1:return Lt[$t]===wt.OPS.transform;case 2:return Lt[$t]===wt.OPS.paintImageMaskXObject;case 3:return Lt[$t]===wt.OPS.restore}throw new Error(`iterateImageMaskGroup - invalid pos: ${kt}`)},function(Nt,$t){const qt=Nt.fnArray,Bt=Nt.argsArray,Gt=Nt.iCurr,en=Gt-3,dn=Gt-2,Qt=Gt-1;let gn=Math.floor(($t-en)/4);if(gn<10)return $t-($t-en)%4;let tn=!1,bn,Wt;const Yt=Bt[Qt][0],un=Bt[dn][0],Ut=Bt[dn][1],Ot=Bt[dn][2],Ht=Bt[dn][3];if(Ut===Ot){tn=!0,bn=dn+4;let an=Qt+4;for(let zt=1;zt<gn;zt++,bn+=4,an+=4)if(Wt=Bt[bn],Bt[an][0]!==Yt||Wt[0]!==un||Wt[1]!==Ut||Wt[2]!==Ot||Wt[3]!==Ht){zt<10?tn=!1:gn=zt;break}}if(tn){gn=Math.min(gn,1e3);const an=new Float32Array(gn*2);bn=dn;for(let zt=0;zt<gn;zt++,bn+=4)Wt=Bt[bn],an[zt<<1]=Wt[4],an[(zt<<1)+1]=Wt[5];qt.splice(en,gn*4,wt.OPS.paintImageMaskXObjectRepeat),Bt.splice(en,gn*4,[Yt,un,Ut,Ot,Ht,an])}else{gn=Math.min(gn,100);const an=[];for(let zt=0;zt<gn;zt++){Wt=Bt[dn+(zt<<2)];const Vt=Bt[Qt+(zt<<2)][0];an.push({data:Vt.data,width:Vt.width,height:Vt.height,interpolate:Vt.interpolate,count:Vt.count,transform:Wt})}qt.splice(en,gn*4,wt.OPS.paintImageMaskXObjectGroup),Bt.splice(en,gn*4,[an])}return en+1}),_t(Rt,[wt.OPS.save,wt.OPS.transform,wt.OPS.paintImageXObject,wt.OPS.restore],function(Kt){const Nt=Kt.argsArray,$t=Kt.iCurr-2;return Nt[$t][1]===0&&Nt[$t][2]===0},function(Nt,$t){const Lt=Nt.fnArray,jt=Nt.argsArray,kt=Nt.iCurr-3,qt=($t-kt)%4;switch(qt){case 0:return Lt[$t]===wt.OPS.save;case 1:if(Lt[$t]!==wt.OPS.transform)return!1;const Bt=Nt.iCurr-2,Gt=jt[Bt][0],en=jt[Bt][3];return!(jt[$t][0]!==Gt||jt[$t][1]!==0||jt[$t][2]!==0||jt[$t][3]!==en);case 2:if(Lt[$t]!==wt.OPS.paintImageXObject)return!1;const dn=Nt.iCurr-1,Qt=jt[dn][0];return jt[$t][0]===Qt;case 3:return Lt[$t]===wt.OPS.restore}throw new Error(`iterateImageGroup - invalid pos: ${qt}`)},function(Kt,Nt){const jt=Kt.fnArray,kt=Kt.argsArray,qt=Kt.iCurr,Bt=qt-3,Gt=qt-2,en=qt-1,dn=kt[en][0],Qt=kt[Gt][0],gn=kt[Gt][3],tn=Math.min(Math.floor((Nt-Bt)/4),1e3);if(tn<3)return Nt-(Nt-Bt)%4;const bn=new Float32Array(tn*2);let Wt=Gt;for(let un=0;un<tn;un++,Wt+=4){const Ut=kt[Wt];bn[un<<1]=Ut[4],bn[(un<<1)+1]=Ut[5]}const Yt=[dn,Qt,gn,bn];return jt.splice(Bt,tn*4,wt.OPS.paintImageXObjectRepeat),kt.splice(Bt,tn*4,Yt),Bt+1}),_t(Rt,[wt.OPS.beginText,wt.OPS.setFont,wt.OPS.setTextMatrix,wt.OPS.showText,wt.OPS.endText],null,function(Nt,$t){const Lt=Nt.fnArray,jt=Nt.argsArray,kt=Nt.iCurr-4,qt=($t-kt)%5;switch(qt){case 0:return Lt[$t]===wt.OPS.beginText;case 1:return Lt[$t]===wt.OPS.setFont;case 2:return Lt[$t]===wt.OPS.setTextMatrix;case 3:if(Lt[$t]!==wt.OPS.showText)return!1;const Bt=Nt.iCurr-3,Gt=jt[Bt][0],en=jt[Bt][1];return!(jt[$t][0]!==Gt||jt[$t][1]!==en);case 4:return Lt[$t]===wt.OPS.endText}throw new Error(`iterateShowTextGroup - invalid pos: ${qt}`)},function(Kt,Nt){const jt=Kt.fnArray,kt=Kt.argsArray,qt=Kt.iCurr,Bt=qt-4,Gt=qt-3,en=qt-2,dn=qt-1,Qt=qt,gn=kt[Gt][0],tn=kt[Gt][1];let bn=Math.min(Math.floor((Nt-Bt)/5),1e3);if(bn<3)return Nt-(Nt-Bt)%5;let Wt=Bt;Bt>=4&&jt[Bt-4]===jt[Gt]&&jt[Bt-3]===jt[en]&&jt[Bt-2]===jt[dn]&&jt[Bt-1]===jt[Qt]&&kt[Bt-4][0]===gn&&kt[Bt-4][1]===tn&&(bn++,Wt-=5);let Yt=Wt+4;for(let un=1;un<bn;un++)jt.splice(Yt,3),kt.splice(Yt,3),Yt+=2;return Yt+1});class _e{constructor(Nt){this.queue=Nt}_optimize(){}push(Nt,$t){this.queue.fnArray.push(Nt),this.queue.argsArray.push($t),this._optimize()}flush(){}reset(){}}class bt extends _e{constructor(Nt){super(Nt),this.state=null,this.context={iCurr:0,fnArray:Nt.fnArray,argsArray:Nt.argsArray,isOffscreenCanvasSupported:!1},this.match=null,this.lastProcessed=0}set isOffscreenCanvasSupported(Nt){this.context.isOffscreenCanvasSupported=Nt}_optimize(){const Nt=this.queue.fnArray;let $t=this.lastProcessed,Lt=Nt.length,jt=this.state,kt=this.match;if(!jt&&!kt&&$t+1===Lt&&!Rt[Nt[$t]]){this.lastProcessed=Lt;return}const qt=this.context;for(;$t<Lt;){if(kt){if((0,kt.iterateFn)(qt,$t)){$t++;continue}if($t=(0,kt.processFn)(qt,$t+1),Lt=Nt.length,kt=null,jt=null,$t>=Lt)break}if(jt=(jt||Rt)[Nt[$t]],!jt||Array.isArray(jt)){$t++;continue}if(qt.iCurr=$t,$t++,jt.checkFn&&!(0,jt.checkFn)(qt)){jt=null;continue}kt=jt,jt=null}this.state=jt,this.match=kt,this.lastProcessed=$t}flush(){for(;this.match;){const Nt=this.queue.fnArray.length;this.lastProcessed=(0,this.match.processFn)(this.context,Nt),this.match=null,this.state=null,this._optimize()}}reset(){this.state=null,this.match=null,this.lastProcessed=0}}const Xt=class Xt{constructor(Nt=0,$t){this._streamSink=$t,this.fnArray=[],this.argsArray=[],this.optimizer=$t&&!(Nt&wt.RenderingIntentFlag.OPLIST)?new bt(this):new _e(this),this.dependencies=new Set,this._totalLength=0,this.weight=0,this._resolved=$t?null:Promise.resolve()}set isOffscreenCanvasSupported(Nt){this.optimizer.isOffscreenCanvasSupported=Nt}get length(){return this.argsArray.length}get ready(){return this._resolved||this._streamSink.ready}get totalLength(){return this._totalLength+this.length}addOp(Nt,$t){this.optimizer.push(Nt,$t),this.weight++,this._streamSink&&(this.weight>=Xt.CHUNK_SIZE?this.flush():this.weight>=Xt.CHUNK_SIZE_ABOUT&&(Nt===wt.OPS.restore||Nt===wt.OPS.endText)&&this.flush())}addImageOps(Nt,$t,Lt){Lt!==void 0&&this.addOp(wt.OPS.beginMarkedContentProps,["OC",Lt]),this.addOp(Nt,$t),Lt!==void 0&&this.addOp(wt.OPS.endMarkedContent,[])}addDependency(Nt){this.dependencies.has(Nt)||(this.dependencies.add(Nt),this.addOp(wt.OPS.dependency,[Nt]))}addDependencies(Nt){for(const $t of Nt)this.addDependency($t)}addOpList(Nt){if(!(Nt instanceof Xt)){(0,wt.warn)('addOpList - ignoring invalid "opList" parameter.');return}for(const $t of Nt.dependencies)this.dependencies.add($t);for(let $t=0,Lt=Nt.length;$t<Lt;$t++)this.addOp(Nt.fnArray[$t],Nt.argsArray[$t])}getIR(){return{fnArray:this.fnArray,argsArray:this.argsArray,length:this.length}}get _transfers(){var kt;const Nt=[],{fnArray:$t,argsArray:Lt,length:jt}=this;for(let qt=0;qt<jt;qt++)switch($t[qt]){case wt.OPS.paintInlineImageXObject:case wt.OPS.paintInlineImageXObjectGroup:case wt.OPS.paintImageMaskXObject:const Bt=Lt[qt][0];!Bt.cached&&((kt=Bt.data)==null?void 0:kt.buffer)instanceof ArrayBuffer&&Nt.push(Bt.data.buffer);break}return Nt}flush(Nt=!1,$t=null){this.optimizer.flush();const Lt=this.length;this._totalLength+=Lt,this._streamSink.enqueue({fnArray:this.fnArray,argsArray:this.argsArray,lastChunk:Nt,separateAnnots:$t,length:Lt},1,this._transfers),this.dependencies.clear(),this.fnArray.length=0,this.argsArray.length=0,this.weight=0,this.optimizer.reset()}};Ur(Xt,"CHUNK_SIZE",1e3),Ur(Xt,"CHUNK_SIZE_ABOUT",Xt.CHUNK_SIZE-5);let Pt=Xt;Et.OperatorList=Pt},(Ct,Et,Ft)=>{Object.defineProperty(Et,"__esModule",{value:!0}),Et.PDFImage=void 0;var wt=Ft(2),_t=Ft(28),Rt=Ft(5),_e=Ft(12),bt=Ft(18),Pt=Ft(62),Xt=Ft(26),Kt=Ft(30),Nt=Ft(4);function $t(kt,qt,Bt,Gt){return kt=qt+kt*Bt,kt<0?kt=0:kt>Gt&&(kt=Gt),kt}function Lt(kt,qt,Bt,Gt,en,dn){const Qt=en*dn;let gn;qt<=8?gn=new Uint8Array(Qt):qt<=16?gn=new Uint16Array(Qt):gn=new Uint32Array(Qt);const tn=Bt/en,bn=Gt/dn;let Wt,Yt,un,Ut=0,Ot;const Ht=new Uint16Array(en),an=Bt;for(Wt=0;Wt<en;Wt++)Ht[Wt]=Math.floor(Wt*tn);for(Wt=0;Wt<dn;Wt++)for(un=Math.floor(Wt*bn)*an,Yt=0;Yt<en;Yt++)Ot=un+Ht[Yt],gn[Ut++]=kt[Ot];return gn}class jt{constructor({xref:qt,res:Bt,image:Gt,isInline:en=!1,smask:dn=null,mask:Qt=null,isMask:gn=!1,pdfFunctionFactory:tn,localColorSpaceCache:bn}){var an;this.image=Gt;const Wt=Gt.dict,Yt=Wt.get("F","Filter");let un;if(Yt instanceof Nt.Name)un=Yt.name;else if(Array.isArray(Yt)){const zt=qt.fetchIfRef(Yt[0]);zt instanceof Nt.Name&&(un=zt.name)}switch(un){case"JPXDecode":const zt=new Kt.JpxImage;zt.parseImageProperties(Gt.stream),Gt.stream.reset(),Gt.width=zt.width,Gt.height=zt.height,Gt.bitsPerComponent=zt.bitsPerComponent,Gt.numComps=zt.componentsCount;break;case"JBIG2Decode":Gt.bitsPerComponent=1,Gt.numComps=1;break}let Ut=Wt.get("W","Width"),Ot=Wt.get("H","Height");if(Number.isInteger(Gt.width)&&Gt.width>0&&Number.isInteger(Gt.height)&&Gt.height>0&&(Gt.width!==Ut||Gt.height!==Ot)&&((0,wt.warn)("PDFImage - using the Width/Height of the image data, rather than the image dictionary."),Ut=Gt.width,Ot=Gt.height),Ut<1||Ot<1)throw new wt.FormatError(`Invalid image width: ${Ut} or height: ${Ot}`);this.width=Ut,this.height=Ot,this.interpolate=Wt.get("I","Interpolate"),this.imageMask=Wt.get("IM","ImageMask")||!1,this.matte=Wt.get("Matte")||!1;let Ht=Gt.bitsPerComponent;if(!Ht&&(Ht=Wt.get("BPC","BitsPerComponent"),!Ht))if(this.imageMask)Ht=1;else throw new wt.FormatError(`Bits per component missing in image: ${this.imageMask}`);if(this.bpc=Ht,!this.imageMask){let zt=Wt.getRaw("CS")||Wt.getRaw("ColorSpace");if(!zt)switch((0,wt.info)("JPX images (which do not require color spaces)"),Gt.numComps){case 1:zt=Nt.Name.get("DeviceGray");break;case 3:zt=Nt.Name.get("DeviceRGB");break;case 4:zt=Nt.Name.get("DeviceCMYK");break;default:throw new Error(`JPX images with ${Gt.numComps} color components not supported.`)}this.colorSpace=_e.ColorSpace.parse({cs:zt,xref:qt,resources:en?Bt:null,pdfFunctionFactory:tn,localColorSpaceCache:bn}),this.numComps=this.colorSpace.numComps}if(this.decode=Wt.getArray("D","Decode"),this.needsDecode=!1,this.decode&&(this.colorSpace&&!this.colorSpace.isDefaultDecode(this.decode,Ht)||gn&&!_e.ColorSpace.isDefaultDecode(this.decode,1))){this.needsDecode=!0;const zt=(1<<Ht)-1;this.decodeCoefficients=[],this.decodeAddends=[];const Vt=((an=this.colorSpace)==null?void 0:an.name)==="Indexed";for(let nn=0,hn=0;nn<this.decode.length;nn+=2,++hn){const on=this.decode[nn],cn=this.decode[nn+1];this.decodeCoefficients[hn]=Vt?(cn-on)/zt:cn-on,this.decodeAddends[hn]=Vt?on:zt*on}}dn?this.smask=new jt({xref:qt,res:Bt,image:dn,isInline:en,pdfFunctionFactory:tn,localColorSpaceCache:bn}):Qt&&(Qt instanceof Rt.BaseStream?Qt.dict.get("IM","ImageMask")?this.mask=new jt({xref:qt,res:Bt,image:Qt,isInline:en,isMask:!0,pdfFunctionFactory:tn,localColorSpaceCache:bn}):(0,wt.warn)("Ignoring /Mask in image without /ImageMask."):this.mask=Qt)}static async buildImage({xref:qt,res:Bt,image:Gt,isInline:en=!1,pdfFunctionFactory:dn,localColorSpaceCache:Qt}){const gn=Gt;let tn=null,bn=null;const Wt=Gt.dict.get("SMask"),Yt=Gt.dict.get("Mask");return Wt?Wt instanceof Rt.BaseStream?tn=Wt:(0,wt.warn)("Unsupported /SMask format."):Yt&&(Yt instanceof Rt.BaseStream||Array.isArray(Yt)?bn=Yt:(0,wt.warn)("Unsupported /Mask format.")),new jt({xref:qt,res:Bt,image:gn,isInline:en,smask:tn,mask:bn,pdfFunctionFactory:dn,localColorSpaceCache:Qt})}static createRawMask({imgArray:qt,width:Bt,height:Gt,imageIsFromDecodeStream:en,inverseDecode:dn,interpolate:Qt}){const gn=(Bt+7>>3)*Gt,tn=qt.byteLength,bn=gn===tn;let Wt,Yt;if(en&&(!dn||bn)?Wt=qt:dn?(Wt=new Uint8Array(gn),Wt.set(qt),Wt.fill(255,tn)):Wt=new Uint8Array(qt),dn)for(Yt=0;Yt<tn;Yt++)Wt[Yt]^=255;return{data:Wt,width:Bt,height:Gt,interpolate:Qt}}static async createMask({imgArray:qt,width:Bt,height:Gt,imageIsFromDecodeStream:en,inverseDecode:dn,interpolate:Qt,isOffscreenCanvasSupported:gn=!1}){const tn=Bt===1&&Gt===1&&dn===(qt.length===0||!!(qt[0]&128));if(tn)return{isSingleOpaquePixel:tn};if(gn){if(Pt.ImageResizer.needsToBeResized(Bt,Gt)){const Ut=new Uint8ClampedArray(Bt*Gt*4);return(0,_t.convertBlackAndWhiteToRGBA)({src:qt,dest:Ut,width:Bt,height:Gt,nonBlackColor:0,inverseDecode:dn}),Pt.ImageResizer.createImage({kind:wt.ImageKind.RGBA_32BPP,data:Ut,width:Bt,height:Gt,interpolate:Qt})}const bn=new OffscreenCanvas(Bt,Gt),Wt=bn.getContext("2d"),Yt=Wt.createImageData(Bt,Gt);(0,_t.convertBlackAndWhiteToRGBA)({src:qt,dest:Yt.data,width:Bt,height:Gt,nonBlackColor:0,inverseDecode:dn}),Wt.putImageData(Yt,0,0);const un=bn.transferToImageBitmap();return{data:null,width:Bt,height:Gt,interpolate:Qt,bitmap:un}}return this.createRawMask({imgArray:qt,width:Bt,height:Gt,inverseDecode:dn,imageIsFromDecodeStream:en,interpolate:Qt})}get drawWidth(){var qt,Bt;return Math.max(this.width,((qt=this.smask)==null?void 0:qt.width)||0,((Bt=this.mask)==null?void 0:Bt.width)||0)}get drawHeight(){var qt,Bt;return Math.max(this.height,((qt=this.smask)==null?void 0:qt.height)||0,((Bt=this.mask)==null?void 0:Bt.height)||0)}decodeBuffer(qt){const Bt=this.bpc,Gt=this.numComps,en=this.decodeAddends,dn=this.decodeCoefficients,Qt=(1<<Bt)-1;let gn,tn;if(Bt===1){for(gn=0,tn=qt.length;gn<tn;gn++)qt[gn]=+!qt[gn];return}let bn=0;for(gn=0,tn=this.width*this.height;gn<tn;gn++)for(let Wt=0;Wt<Gt;Wt++)qt[bn]=$t(qt[bn],en[Wt],dn[Wt],Qt),bn++}getComponents(qt){const Bt=this.bpc;if(Bt===8)return qt;const Gt=this.width,en=this.height,dn=this.numComps,Qt=Gt*en*dn;let gn=0,tn;Bt<=8?tn=new Uint8Array(Qt):Bt<=16?tn=new Uint16Array(Qt):tn=new Uint32Array(Qt);const bn=Gt*dn,Wt=(1<<Bt)-1;let Yt=0,un,Ut;if(Bt===1){let Ot,Ht,an;for(let zt=0;zt<en;zt++){for(Ht=Yt+(bn&-8),an=Yt+bn;Yt<Ht;)Ut=qt[gn++],tn[Yt]=Ut>>7&1,tn[Yt+1]=Ut>>6&1,tn[Yt+2]=Ut>>5&1,tn[Yt+3]=Ut>>4&1,tn[Yt+4]=Ut>>3&1,tn[Yt+5]=Ut>>2&1,tn[Yt+6]=Ut>>1&1,tn[Yt+7]=Ut&1,Yt+=8;if(Yt<an)for(Ut=qt[gn++],Ot=128;Yt<an;)tn[Yt++]=+!!(Ut&Ot),Ot>>=1}}else{let Ot=0;for(Ut=0,Yt=0,un=Qt;Yt<un;++Yt){for(Yt%bn===0&&(Ut=0,Ot=0);Ot<Bt;)Ut=Ut<<8|qt[gn++],Ot+=8;const Ht=Ot-Bt;let an=Ut>>Ht;an<0?an=0:an>Wt&&(an=Wt),tn[Yt]=an,Ut&=(1<<Ht)-1,Ot=Ht}}return tn}fillOpacity(qt,Bt,Gt,en,dn){const Qt=this.smask,gn=this.mask;let tn,bn,Wt,Yt,un,Ut;if(Qt)bn=Qt.width,Wt=Qt.height,tn=new Uint8ClampedArray(bn*Wt),Qt.fillGrayBuffer(tn),(bn!==Bt||Wt!==Gt)&&(tn=Lt(tn,Qt.bpc,bn,Wt,Bt,Gt));else if(gn)if(gn instanceof jt){for(bn=gn.width,Wt=gn.height,tn=new Uint8ClampedArray(bn*Wt),gn.numComps=1,gn.fillGrayBuffer(tn),Yt=0,un=bn*Wt;Yt<un;++Yt)tn[Yt]=255-tn[Yt];(bn!==Bt||Wt!==Gt)&&(tn=Lt(tn,gn.bpc,bn,Wt,Bt,Gt))}else if(Array.isArray(gn)){tn=new Uint8ClampedArray(Bt*Gt);const Ot=this.numComps;for(Yt=0,un=Bt*Gt;Yt<un;++Yt){let Ht=0;const an=Yt*Ot;for(Ut=0;Ut<Ot;++Ut){const zt=dn[an+Ut],Vt=Ut*2;if(zt<gn[Vt]||zt>gn[Vt+1]){Ht=255;break}}tn[Yt]=Ht}}else throw new wt.FormatError("Unknown mask format.");if(tn)for(Yt=0,Ut=3,un=Bt*en;Yt<un;++Yt,Ut+=4)qt[Ut]=tn[Yt];else for(Yt=0,Ut=3,un=Bt*en;Yt<un;++Yt,Ut+=4)qt[Ut]=255}undoPreblend(qt,Bt,Gt){var Wt;const en=(Wt=this.smask)==null?void 0:Wt.matte;if(!en)return;const dn=this.colorSpace.getRgb(en,0),Qt=dn[0],gn=dn[1],tn=dn[2],bn=Bt*Gt*4;for(let Yt=0;Yt<bn;Yt+=4){const un=qt[Yt+3];if(un===0){qt[Yt]=255,qt[Yt+1]=255,qt[Yt+2]=255;continue}const Ut=255/un;qt[Yt]=(qt[Yt]-Qt)*Ut+Qt,qt[Yt+1]=(qt[Yt+1]-gn)*Ut+gn,qt[Yt+2]=(qt[Yt+2]-tn)*Ut+tn}}async createImageData(qt=!1,Bt=!1){const Gt=this.drawWidth,en=this.drawHeight,dn={width:Gt,height:en,interpolate:this.interpolate,kind:0,data:null},Qt=this.numComps,gn=this.width,tn=this.height,bn=this.bpc,Wt=gn*Qt*bn+7>>3,Yt=Bt&&Pt.ImageResizer.needsToBeResized(Gt,en);if(!qt){let on;if(this.colorSpace.name==="DeviceGray"&&bn===1?on=wt.ImageKind.GRAYSCALE_1BPP:this.colorSpace.name==="DeviceRGB"&&bn===8&&!this.needsDecode&&(on=wt.ImageKind.RGB_24BPP),on&&!this.smask&&!this.mask&&Gt===gn&&en===tn){const cn=this.getImageBytes(tn*Wt,{});if(Bt)return Yt?Pt.ImageResizer.createImage({data:cn,kind:on,width:Gt,height:en,interpolate:this.interpolate},this.needsDecode):this.createBitmap(on,gn,tn,cn);if(dn.kind=on,dn.data=cn,this.needsDecode){(0,wt.assert)(on===wt.ImageKind.GRAYSCALE_1BPP,"PDFImage.createImageData: The image must be grayscale.");const sn=dn.data;for(let rn=0,xn=sn.length;rn<xn;rn++)sn[rn]^=255}return dn}if(this.image instanceof Xt.JpegStream&&!this.smask&&!this.mask&&!this.needsDecode){let cn=tn*Wt;if(Bt&&!Yt){let sn=!1;switch(this.colorSpace.name){case"DeviceGray":cn*=4,sn=!0;break;case"DeviceRGB":cn=cn/3*4,sn=!0;break;case"DeviceCMYK":sn=!0;break}if(sn){const rn=this.getImageBytes(cn,{drawWidth:Gt,drawHeight:en,forceRGBA:!0});return this.createBitmap(wt.ImageKind.RGBA_32BPP,Gt,en,rn)}}else switch(this.colorSpace.name){case"DeviceGray":cn*=3;case"DeviceRGB":case"DeviceCMYK":return dn.kind=wt.ImageKind.RGB_24BPP,dn.data=this.getImageBytes(cn,{drawWidth:Gt,drawHeight:en,forceRGB:!0}),Yt?Pt.ImageResizer.createImage(dn):dn}}}const un=this.getImageBytes(tn*Wt,{internal:!0}),Ut=0|un.length/Wt*en/tn,Ot=this.getComponents(un);let Ht,an,zt,Vt,nn,hn;if(Bt&&!Yt&&(zt=new OffscreenCanvas(Gt,en),Vt=zt.getContext("2d"),nn=Vt.createImageData(Gt,en),hn=nn.data),dn.kind=wt.ImageKind.RGBA_32BPP,!qt&&!this.smask&&!this.mask?(!Bt||Yt?(dn.kind=wt.ImageKind.RGB_24BPP,hn=new Uint8ClampedArray(Gt*en*3),Ht=0):(new Uint32Array(hn.buffer).fill(wt.FeatureTest.isLittleEndian?4278190080:255),Ht=1),an=!1):((!Bt||Yt)&&(hn=new Uint8ClampedArray(Gt*en*4)),Ht=1,an=!0,this.fillOpacity(hn,Gt,en,Ut,Ot)),this.needsDecode&&this.decodeBuffer(Ot),this.colorSpace.fillRgb(hn,gn,tn,Gt,en,Ut,bn,Ot,Ht),an&&this.undoPreblend(hn,Gt,Ut),Bt&&!Yt){Vt.putImageData(nn,0,0);const on=zt.transferToImageBitmap();return{data:null,width:Gt,height:en,bitmap:on,interpolate:this.interpolate}}return dn.data=hn,Yt?Pt.ImageResizer.createImage(dn):dn}fillGrayBuffer(qt){const Bt=this.numComps;if(Bt!==1)throw new wt.FormatError(`Reading gray scale from a color image: ${Bt}`);const Gt=this.width,en=this.height,dn=this.bpc,Qt=Gt*Bt*dn+7>>3,gn=this.getImageBytes(en*Qt,{internal:!0}),tn=this.getComponents(gn);let bn,Wt;if(dn===1){if(Wt=Gt*en,this.needsDecode)for(bn=0;bn<Wt;++bn)qt[bn]=tn[bn]-1&255;else for(bn=0;bn<Wt;++bn)qt[bn]=-tn[bn]&255;return}this.needsDecode&&this.decodeBuffer(tn),Wt=Gt*en;const Yt=255/((1<<dn)-1);for(bn=0;bn<Wt;++bn)qt[bn]=Yt*tn[bn]}createBitmap(qt,Bt,Gt,en){const dn=new OffscreenCanvas(Bt,Gt),Qt=dn.getContext("2d");let gn;qt===wt.ImageKind.RGBA_32BPP?gn=new ImageData(en,Bt,Gt):(gn=Qt.createImageData(Bt,Gt),(0,_t.convertToRGBA)({kind:qt,src:en,dest:new Uint32Array(gn.data.buffer),width:Bt,height:Gt,inverseDecode:this.needsDecode})),Qt.putImageData(gn,0,0);const tn=dn.transferToImageBitmap();return{data:null,width:Bt,height:Gt,bitmap:tn,interpolate:this.interpolate}}getImageBytes(qt,{drawWidth:Bt,drawHeight:Gt,forceRGBA:en=!1,forceRGB:dn=!1,internal:Qt=!1}){this.image.reset(),this.image.drawWidth=Bt||this.width,this.image.drawHeight=Gt||this.height,this.image.forceRGBA=!!en,this.image.forceRGB=!!dn;const gn=this.image.getBytes(qt);return Qt||this.image instanceof bt.DecodeStream?gn:((0,wt.assert)(gn instanceof Uint8Array,'PDFImage.getImageBytes: Unsupported "imageBytes" type.'),new Uint8Array(gn))}}Et.PDFImage=jt},(Ct,Et,Ft)=>{Object.defineProperty(Et,"__esModule",{value:!0}),Et.Catalog=void 0;var wt=Ft(3),_t=Ft(2),Rt=Ft(4),_e=Ft(67),bt=Ft(5),Pt=Ft(68),Xt=Ft(12),Kt=Ft(69),Nt=Ft(59),$t=Ft(70),Lt=Ft(72);function jt(qt){return qt instanceof Rt.Dict&&(qt=qt.get("D")),Array.isArray(qt)?qt:null}class kt{constructor(Bt,Gt){if(this.pdfManager=Bt,this.xref=Gt,this._catDict=Gt.getCatalogObj(),!(this._catDict instanceof Rt.Dict))throw new _t.FormatError("Catalog object is not a dictionary.");this.toplevelPagesDict,this._actualNumPages=null,this.fontCache=new Rt.RefSetCache,this.builtInCMapCache=new Map,this.standardFontDataCache=new Map,this.globalImageCache=new Nt.GlobalImageCache,this.pageKidsCountCache=new Rt.RefSetCache,this.pageIndexCache=new Rt.RefSetCache,this.nonBlendModesSet=new Rt.RefSet,this.systemFontCache=new Map}cloneDict(){return this._catDict.clone()}get version(){const Bt=this._catDict.get("Version");if(Bt instanceof Rt.Name){if(wt.PDF_VERSION_REGEXP.test(Bt.name))return(0,_t.shadow)(this,"version",Bt.name);(0,_t.warn)(`Invalid PDF catalog version: ${Bt.name}`)}return(0,_t.shadow)(this,"version",null)}get lang(){const Bt=this._catDict.get("Lang");return(0,_t.shadow)(this,"lang",typeof Bt=="string"?(0,_t.stringToPDFString)(Bt):null)}get needsRendering(){const Bt=this._catDict.get("NeedsRendering");return(0,_t.shadow)(this,"needsRendering",typeof Bt=="boolean"?Bt:!1)}get collection(){let Bt=null;try{const Gt=this._catDict.get("Collection");Gt instanceof Rt.Dict&&Gt.size>0&&(Bt=Gt)}catch(Gt){if(Gt instanceof wt.MissingDataException)throw Gt;(0,_t.info)("Cannot fetch Collection entry; assuming no collection is present.")}return(0,_t.shadow)(this,"collection",Bt)}get acroForm(){let Bt=null;try{const Gt=this._catDict.get("AcroForm");Gt instanceof Rt.Dict&&Gt.size>0&&(Bt=Gt)}catch(Gt){if(Gt instanceof wt.MissingDataException)throw Gt;(0,_t.info)("Cannot fetch AcroForm entry; assuming no forms are present.")}return(0,_t.shadow)(this,"acroForm",Bt)}get acroFormRef(){const Bt=this._catDict.getRaw("AcroForm");return(0,_t.shadow)(this,"acroFormRef",Bt instanceof Rt.Ref?Bt:null)}get metadata(){var en;const Bt=this._catDict.getRaw("Metadata");if(!(Bt instanceof Rt.Ref))return(0,_t.shadow)(this,"metadata",null);let Gt=null;try{const dn=this.xref.fetch(Bt,!((en=this.xref.encrypt)!=null&&en.encryptMetadata));if(dn instanceof bt.BaseStream&&dn.dict instanceof Rt.Dict){const Qt=dn.dict.get("Type"),gn=dn.dict.get("Subtype");if((0,Rt.isName)(Qt,"Metadata")&&(0,Rt.isName)(gn,"XML")){const tn=(0,_t.stringToUTF8String)(dn.getString());tn&&(Gt=new $t.MetadataParser(tn).serializable)}}}catch(dn){if(dn instanceof wt.MissingDataException)throw dn;(0,_t.info)(`Skipping invalid Metadata: "${dn}".`)}return(0,_t.shadow)(this,"metadata",Gt)}get markInfo(){let Bt=null;try{Bt=this._readMarkInfo()}catch(Gt){if(Gt instanceof wt.MissingDataException)throw Gt;(0,_t.warn)("Unable to read mark info.")}return(0,_t.shadow)(this,"markInfo",Bt)}_readMarkInfo(){const Bt=this._catDict.get("MarkInfo");if(!(Bt instanceof Rt.Dict))return null;const Gt={Marked:!1,UserProperties:!1,Suspects:!1};for(const en in Gt){const dn=Bt.get(en);typeof dn=="boolean"&&(Gt[en]=dn)}return Gt}get structTreeRoot(){let Bt=null;try{Bt=this._readStructTreeRoot()}catch(Gt){if(Gt instanceof wt.MissingDataException)throw Gt;(0,_t.warn)("Unable read to structTreeRoot info.")}return(0,_t.shadow)(this,"structTreeRoot",Bt)}_readStructTreeRoot(){const Bt=this._catDict.getRaw("StructTreeRoot"),Gt=this.xref.fetchIfRef(Bt);if(!(Gt instanceof Rt.Dict))return null;const en=new Lt.StructTreeRoot(Gt,Bt);return en.init(),en}get toplevelPagesDict(){const Bt=this._catDict.get("Pages");if(!(Bt instanceof Rt.Dict))throw new _t.FormatError("Invalid top-level pages dictionary.");return(0,_t.shadow)(this,"toplevelPagesDict",Bt)}get documentOutline(){let Bt=null;try{Bt=this._readDocumentOutline()}catch(Gt){if(Gt instanceof wt.MissingDataException)throw Gt;(0,_t.warn)("Unable to read document outline.")}return(0,_t.shadow)(this,"documentOutline",Bt)}_readDocumentOutline(){let Bt=this._catDict.get("Outlines");if(!(Bt instanceof Rt.Dict)||(Bt=Bt.getRaw("First"),!(Bt instanceof Rt.Ref)))return null;const Gt={items:[]},en=[{obj:Bt,parent:Gt}],dn=new Rt.RefSet;dn.put(Bt);const Qt=this.xref,gn=new Uint8ClampedArray(3);for(;en.length>0;){const tn=en.shift(),bn=Qt.fetchIfRef(tn.obj);if(bn===null)continue;if(!bn.has("Title"))throw new _t.FormatError("Invalid outline item encountered.");const Wt={url:null,dest:null,action:null};kt.parseDestDictionary({destDict:bn,resultObj:Wt,docBaseUrl:this.baseUrl,docAttachments:this.attachments});const Yt=bn.get("Title"),un=bn.get("F")||0,Ut=bn.getArray("C"),Ot=bn.get("Count");let Ht=gn;Array.isArray(Ut)&&Ut.length===3&&(Ut[0]!==0||Ut[1]!==0||Ut[2]!==0)&&(Ht=Xt.ColorSpace.singletons.rgb.getRgb(Ut,0));const an={action:Wt.action,attachment:Wt.attachment,dest:Wt.dest,url:Wt.url,unsafeUrl:Wt.unsafeUrl,newWindow:Wt.newWindow,setOCGState:Wt.setOCGState,title:(0,_t.stringToPDFString)(Yt),color:Ht,count:Number.isInteger(Ot)?Ot:void 0,bold:!!(un&2),italic:!!(un&1),items:[]};tn.parent.items.push(an),Bt=bn.getRaw("First"),Bt instanceof Rt.Ref&&!dn.has(Bt)&&(en.push({obj:Bt,parent:an}),dn.put(Bt)),Bt=bn.getRaw("Next"),Bt instanceof Rt.Ref&&!dn.has(Bt)&&(en.push({obj:Bt,parent:tn.parent}),dn.put(Bt))}return Gt.items.length>0?Gt.items:null}get permissions(){let Bt=null;try{Bt=this._readPermissions()}catch(Gt){if(Gt instanceof wt.MissingDataException)throw Gt;(0,_t.warn)("Unable to read permissions.")}return(0,_t.shadow)(this,"permissions",Bt)}_readPermissions(){const Bt=this.xref.trailer.get("Encrypt");if(!(Bt instanceof Rt.Dict))return null;let Gt=Bt.get("P");if(typeof Gt!="number")return null;Gt+=4294967296;const en=[];for(const dn in _t.PermissionFlag){const Qt=_t.PermissionFlag[dn];Gt&Qt&&en.push(Qt)}return en}get optionalContentConfig(){let Bt=null;try{const Gt=this._catDict.get("OCProperties");if(!Gt)return(0,_t.shadow)(this,"optionalContentConfig",null);const en=Gt.get("D");if(!en)return(0,_t.shadow)(this,"optionalContentConfig",null);const dn=Gt.get("OCGs");if(!Array.isArray(dn))return(0,_t.shadow)(this,"optionalContentConfig",null);const Qt=[],gn=[];for(const tn of dn){if(!(tn instanceof Rt.Ref))continue;gn.push(tn);const bn=this.xref.fetchIfRef(tn);Qt.push({id:tn.toString(),name:typeof bn.get("Name")=="string"?(0,_t.stringToPDFString)(bn.get("Name")):null,intent:typeof bn.get("Intent")=="string"?(0,_t.stringToPDFString)(bn.get("Intent")):null})}Bt=this._readOptionalContentConfig(en,gn),Bt.groups=Qt}catch(Gt){if(Gt instanceof wt.MissingDataException)throw Gt;(0,_t.warn)(`Unable to read optional content config: ${Gt}`)}return(0,_t.shadow)(this,"optionalContentConfig",Bt)}_readOptionalContentConfig(Bt,Gt){function en(Wt){const Yt=[];if(Array.isArray(Wt))for(const un of Wt)un instanceof Rt.Ref&&Gt.includes(un)&&Yt.push(un.toString());return Yt}function dn(Wt,Yt=0){if(!Array.isArray(Wt))return null;const un=[];for(const Ot of Wt){if(Ot instanceof Rt.Ref&&Gt.includes(Ot)){tn.put(Ot),un.push(Ot.toString());continue}const Ht=Qt(Ot,Yt);Ht&&un.push(Ht)}if(Yt>0)return un;const Ut=[];for(const Ot of Gt)tn.has(Ot)||Ut.push(Ot.toString());return Ut.length&&un.push({name:null,order:Ut}),un}function Qt(Wt,Yt){if(++Yt>bn)return(0,_t.warn)("parseNestedOrder - reached MAX_NESTED_LEVELS."),null;const un=gn.fetchIfRef(Wt);if(!Array.isArray(un))return null;const Ut=gn.fetchIfRef(un[0]);if(typeof Ut!="string")return null;const Ot=dn(un.slice(1),Yt);return!Ot||!Ot.length?null:{name:(0,_t.stringToPDFString)(Ut),order:Ot}}const gn=this.xref,tn=new Rt.RefSet,bn=10;return{name:typeof Bt.get("Name")=="string"?(0,_t.stringToPDFString)(Bt.get("Name")):null,creator:typeof Bt.get("Creator")=="string"?(0,_t.stringToPDFString)(Bt.get("Creator")):null,baseState:Bt.get("BaseState")instanceof Rt.Name?Bt.get("BaseState").name:null,on:en(Bt.get("ON")),off:en(Bt.get("OFF")),order:dn(Bt.get("Order")),groups:null}}setActualNumPages(Bt=null){this._actualNumPages=Bt}get hasActualNumPages(){return this._actualNumPages!==null}get _pagesCount(){const Bt=this.toplevelPagesDict.get("Count");if(!Number.isInteger(Bt))throw new _t.FormatError("Page count in top-level pages dictionary is not an integer.");return(0,_t.shadow)(this,"_pagesCount",Bt)}get numPages(){return this.hasActualNumPages?this._actualNumPages:this._pagesCount}get destinations(){const Bt=this._readDests(),Gt=Object.create(null);if(Bt instanceof _e.NameTree)for(const[en,dn]of Bt.getAll()){const Qt=jt(dn);Qt&&(Gt[(0,_t.stringToPDFString)(en)]=Qt)}else Bt instanceof Rt.Dict&&Bt.forEach(function(en,dn){const Qt=jt(dn);Qt&&(Gt[en]=Qt)});return(0,_t.shadow)(this,"destinations",Gt)}getDestination(Bt){const Gt=this._readDests();if(Gt instanceof _e.NameTree){const en=jt(Gt.get(Bt));if(en)return en;const dn=this.destinations[Bt];if(dn)return(0,_t.warn)(`Found "${Bt}" at an incorrect position in the NameTree.`),dn}else if(Gt instanceof Rt.Dict){const en=jt(Gt.get(Bt));if(en)return en}return null}_readDests(){const Bt=this._catDict.get("Names");if(Bt!=null&&Bt.has("Dests"))return new _e.NameTree(Bt.getRaw("Dests"),this.xref);if(this._catDict.has("Dests"))return this._catDict.get("Dests")}get pageLabels(){let Bt=null;try{Bt=this._readPageLabels()}catch(Gt){if(Gt instanceof wt.MissingDataException)throw Gt;(0,_t.warn)("Unable to read page labels.")}return(0,_t.shadow)(this,"pageLabels",Bt)}_readPageLabels(){const Bt=this._catDict.getRaw("PageLabels");if(!Bt)return null;const Gt=new Array(this.numPages);let en=null,dn="";const gn=new _e.NumberTree(Bt,this.xref).getAll();let tn="",bn=1;for(let Wt=0,Yt=this.numPages;Wt<Yt;Wt++){const un=gn.get(Wt);if(un!==void 0){if(!(un instanceof Rt.Dict))throw new _t.FormatError("PageLabel is not a dictionary.");if(un.has("Type")&&!(0,Rt.isName)(un.get("Type"),"PageLabel"))throw new _t.FormatError("Invalid type in PageLabel dictionary.");if(un.has("S")){const Ut=un.get("S");if(!(Ut instanceof Rt.Name))throw new _t.FormatError("Invalid style in PageLabel dictionary.");en=Ut.name}else en=null;if(un.has("P")){const Ut=un.get("P");if(typeof Ut!="string")throw new _t.FormatError("Invalid prefix in PageLabel dictionary.");dn=(0,_t.stringToPDFString)(Ut)}else dn="";if(un.has("St")){const Ut=un.get("St");if(!(Number.isInteger(Ut)&&Ut>=1))throw new _t.FormatError("Invalid start in PageLabel dictionary.");bn=Ut}else bn=1}switch(en){case"D":tn=bn;break;case"R":case"r":tn=(0,wt.toRomanNumerals)(bn,en==="r");break;case"A":case"a":const Ut=26,an=en==="a"?97:65,zt=bn-1;tn=String.fromCharCode(an+zt%Ut).repeat(Math.floor(zt/Ut)+1);break;default:if(en)throw new _t.FormatError(`Invalid style "${en}" in PageLabel dictionary.`);tn=""}Gt[Wt]=dn+tn,bn++}return Gt}get pageLayout(){const Bt=this._catDict.get("PageLayout");let Gt="";if(Bt instanceof Rt.Name)switch(Bt.name){case"SinglePage":case"OneColumn":case"TwoColumnLeft":case"TwoColumnRight":case"TwoPageLeft":case"TwoPageRight":Gt=Bt.name}return(0,_t.shadow)(this,"pageLayout",Gt)}get pageMode(){const Bt=this._catDict.get("PageMode");let Gt="UseNone";if(Bt instanceof Rt.Name)switch(Bt.name){case"UseNone":case"UseOutlines":case"UseThumbs":case"FullScreen":case"UseOC":case"UseAttachments":Gt=Bt.name}return(0,_t.shadow)(this,"pageMode",Gt)}get viewerPreferences(){const Bt=this._catDict.get("ViewerPreferences");if(!(Bt instanceof Rt.Dict))return(0,_t.shadow)(this,"viewerPreferences",null);let Gt=null;for(const en of Bt.getKeys()){const dn=Bt.get(en);let Qt;switch(en){case"HideToolbar":case"HideMenubar":case"HideWindowUI":case"FitWindow":case"CenterWindow":case"DisplayDocTitle":case"PickTrayByPDFSize":typeof dn=="boolean"&&(Qt=dn);break;case"NonFullScreenPageMode":if(dn instanceof Rt.Name)switch(dn.name){case"UseNone":case"UseOutlines":case"UseThumbs":case"UseOC":Qt=dn.name;break;default:Qt="UseNone"}break;case"Direction":if(dn instanceof Rt.Name)switch(dn.name){case"L2R":case"R2L":Qt=dn.name;break;default:Qt="L2R"}break;case"ViewArea":case"ViewClip":case"PrintArea":case"PrintClip":if(dn instanceof Rt.Name)switch(dn.name){case"MediaBox":case"CropBox":case"BleedBox":case"TrimBox":case"ArtBox":Qt=dn.name;break;default:Qt="CropBox"}break;case"PrintScaling":if(dn instanceof Rt.Name)switch(dn.name){case"None":case"AppDefault":Qt=dn.name;break;default:Qt="AppDefault"}break;case"Duplex":if(dn instanceof Rt.Name)switch(dn.name){case"Simplex":case"DuplexFlipShortEdge":case"DuplexFlipLongEdge":Qt=dn.name;break;default:Qt="None"}break;case"PrintPageRange":Array.isArray(dn)&&dn.length%2===0&&dn.every((tn,bn,Wt)=>Number.isInteger(tn)&&tn>0&&(bn===0||tn>=Wt[bn-1])&&tn<=this.numPages)&&(Qt=dn);break;case"NumCopies":Number.isInteger(dn)&&dn>0&&(Qt=dn);break;default:(0,_t.warn)(`Ignoring non-standard key in ViewerPreferences: ${en}.`);continue}if(Qt===void 0){(0,_t.warn)(`Bad value, for key "${en}", in ViewerPreferences: ${dn}.`);continue}Gt||(Gt=Object.create(null)),Gt[en]=Qt}return(0,_t.shadow)(this,"viewerPreferences",Gt)}get openAction(){const Bt=this._catDict.get("OpenAction"),Gt=Object.create(null);if(Bt instanceof Rt.Dict){const en=new Rt.Dict(this.xref);en.set("A",Bt);const dn={url:null,dest:null,action:null};kt.parseDestDictionary({destDict:en,resultObj:dn}),Array.isArray(dn.dest)?Gt.dest=dn.dest:dn.action&&(Gt.action=dn.action)}else Array.isArray(Bt)&&(Gt.dest=Bt);return(0,_t.shadow)(this,"openAction",(0,_t.objectSize)(Gt)>0?Gt:null)}get attachments(){const Bt=this._catDict.get("Names");let Gt=null;if(Bt instanceof Rt.Dict&&Bt.has("EmbeddedFiles")){const en=new _e.NameTree(Bt.getRaw("EmbeddedFiles"),this.xref);for(const[dn,Qt]of en.getAll()){const gn=new Kt.FileSpec(Qt,this.xref);Gt||(Gt=Object.create(null)),Gt[(0,_t.stringToPDFString)(dn)]=gn.serializable}}return(0,_t.shadow)(this,"attachments",Gt)}get xfaImages(){const Bt=this._catDict.get("Names");let Gt=null;if(Bt instanceof Rt.Dict&&Bt.has("XFAImages")){const en=new _e.NameTree(Bt.getRaw("XFAImages"),this.xref);for(const[dn,Qt]of en.getAll())Gt||(Gt=new Rt.Dict(this.xref)),Gt.set((0,_t.stringToPDFString)(dn),Qt)}return(0,_t.shadow)(this,"xfaImages",Gt)}_collectJavaScript(){const Bt=this._catDict.get("Names");let Gt=null;function en(Qt,gn){if(!(gn instanceof Rt.Dict)||!(0,Rt.isName)(gn.get("S"),"JavaScript"))return;let tn=gn.get("JS");if(tn instanceof bt.BaseStream)tn=tn.getString();else if(typeof tn!="string")return;tn=(0,_t.stringToPDFString)(tn).replaceAll("\0",""),tn&&(Gt||(Gt=new Map)).set(Qt,tn)}if(Bt instanceof Rt.Dict&&Bt.has("JavaScript")){const Qt=new _e.NameTree(Bt.getRaw("JavaScript"),this.xref);for(const[gn,tn]of Qt.getAll())en((0,_t.stringToPDFString)(gn),tn)}const dn=this._catDict.get("OpenAction");return dn&&en("OpenAction",dn),Gt}get jsActions(){const Bt=this._collectJavaScript();let Gt=(0,wt.collectActions)(this.xref,this._catDict,_t.DocumentActionEventType);if(Bt){Gt||(Gt=Object.create(null));for(const[en,dn]of Bt)en in Gt?Gt[en].push(dn):Gt[en]=[dn]}return(0,_t.shadow)(this,"jsActions",Gt)}async fontFallback(Bt,Gt){const en=await Promise.all(this.fontCache);for(const dn of en)if(dn.loadedName===Bt){dn.fallback(Gt);return}}async cleanup(Bt=!1){(0,Pt.clearGlobalCaches)(),this.globalImageCache.clear(Bt),this.pageKidsCountCache.clear(),this.pageIndexCache.clear(),this.nonBlendModesSet.clear();const Gt=await Promise.all(this.fontCache);for(const{dict:en}of Gt)delete en.cacheKey;this.fontCache.clear(),this.builtInCMapCache.clear(),this.standardFontDataCache.clear(),this.systemFontCache.clear()}async getPageDict(Bt){const Gt=[this.toplevelPagesDict],en=new Rt.RefSet,dn=this._catDict.getRaw("Pages");dn instanceof Rt.Ref&&en.put(dn);const Qt=this.xref,gn=this.pageKidsCountCache,tn=this.pageIndexCache;let bn=0;for(;Gt.length;){const Wt=Gt.pop();if(Wt instanceof Rt.Ref){const Ot=gn.get(Wt);if(Ot>=0&&bn+Ot<=Bt){bn+=Ot;continue}if(en.has(Wt))throw new _t.FormatError("Pages tree contains circular reference.");en.put(Wt);const Ht=await Qt.fetchAsync(Wt);if(Ht instanceof Rt.Dict){let an=Ht.getRaw("Type");if(an instanceof Rt.Ref&&(an=await Qt.fetchAsync(an)),(0,Rt.isName)(an,"Page")||!Ht.has("Kids")){if(gn.has(Wt)||gn.put(Wt,1),tn.has(Wt)||tn.put(Wt,bn),bn===Bt)return[Ht,Wt];bn++;continue}}Gt.push(Ht);continue}if(!(Wt instanceof Rt.Dict))throw new _t.FormatError("Page dictionary kid reference points to wrong type of object.");const{objId:Yt}=Wt;let un=Wt.getRaw("Count");if(un instanceof Rt.Ref&&(un=await Qt.fetchAsync(un)),Number.isInteger(un)&&un>=0&&(Yt&&!gn.has(Yt)&&gn.put(Yt,un),bn+un<=Bt)){bn+=un;continue}let Ut=Wt.getRaw("Kids");if(Ut instanceof Rt.Ref&&(Ut=await Qt.fetchAsync(Ut)),!Array.isArray(Ut)){let Ot=Wt.getRaw("Type");if(Ot instanceof Rt.Ref&&(Ot=await Qt.fetchAsync(Ot)),(0,Rt.isName)(Ot,"Page")||!Wt.has("Kids")){if(bn===Bt)return[Wt,null];bn++;continue}throw new _t.FormatError("Page dictionary kids object is not an array.")}for(let Ot=Ut.length-1;Ot>=0;Ot--)Gt.push(Ut[Ot])}throw new Error(`Page index ${Bt} not found.`)}async getAllPageDicts(Bt=!1){const{ignoreErrors:Gt}=this.pdfManager.evaluatorOptions,en=[{currentNode:this.toplevelPagesDict,posInKids:0}],dn=new Rt.RefSet,Qt=this._catDict.getRaw("Pages");Qt instanceof Rt.Ref&&dn.put(Qt);const gn=new Map,tn=this.xref,bn=this.pageIndexCache;let Wt=0;function Yt(Ut,Ot){Ot&&!bn.has(Ot)&&bn.put(Ot,Wt),gn.set(Wt++,[Ut,Ot])}function un(Ut){if(Ut instanceof wt.XRefEntryException&&!Bt)throw Ut;Bt&&Gt&&Wt===0&&((0,_t.warn)(`getAllPageDicts - Skipping invalid first page: "${Ut}".`),Ut=Rt.Dict.empty),gn.set(Wt++,[Ut,null])}for(;en.length>0;){const Ut=en.at(-1),{currentNode:Ot,posInKids:Ht}=Ut;let an=Ot.getRaw("Kids");if(an instanceof Rt.Ref)try{an=await tn.fetchAsync(an)}catch(hn){un(hn);break}if(!Array.isArray(an)){un(new _t.FormatError("Page dictionary kids object is not an array."));break}if(Ht>=an.length){en.pop();continue}const zt=an[Ht];let Vt;if(zt instanceof Rt.Ref){if(dn.has(zt)){un(new _t.FormatError("Pages tree contains circular reference."));break}dn.put(zt);try{Vt=await tn.fetchAsync(zt)}catch(hn){un(hn);break}}else Vt=zt;if(!(Vt instanceof Rt.Dict)){un(new _t.FormatError("Page dictionary kid reference points to wrong type of object."));break}let nn=Vt.getRaw("Type");if(nn instanceof Rt.Ref)try{nn=await tn.fetchAsync(nn)}catch(hn){un(hn);break}(0,Rt.isName)(nn,"Page")||!Vt.has("Kids")?Yt(Vt,zt instanceof Rt.Ref?zt:null):en.push({currentNode:Vt,posInKids:0}),Ut.posInKids++}return gn}getPageIndex(Bt){const Gt=this.pageIndexCache.get(Bt);if(Gt!==void 0)return Promise.resolve(Gt);const en=this.xref;function dn(tn){let bn=0,Wt;return en.fetchAsync(tn).then(function(Yt){if((0,Rt.isRefsEqual)(tn,Bt)&&!(0,Rt.isDict)(Yt,"Page")&&!(Yt instanceof Rt.Dict&&!Yt.has("Type")&&Yt.has("Contents")))throw new _t.FormatError("The reference does not point to a /Page dictionary.");if(!Yt)return null;if(!(Yt instanceof Rt.Dict))throw new _t.FormatError("Node must be a dictionary.");return Wt=Yt.getRaw("Parent"),Yt.getAsync("Parent")}).then(function(Yt){if(!Yt)return null;if(!(Yt instanceof Rt.Dict))throw new _t.FormatError("Parent must be a dictionary.");return Yt.getAsync("Kids")}).then(function(Yt){if(!Yt)return null;const un=[];let Ut=!1;for(const Ot of Yt){if(!(Ot instanceof Rt.Ref))throw new _t.FormatError("Kid must be a reference.");if((0,Rt.isRefsEqual)(Ot,tn)){Ut=!0;break}un.push(en.fetchAsync(Ot).then(function(Ht){if(!(Ht instanceof Rt.Dict))throw new _t.FormatError("Kid node must be a dictionary.");Ht.has("Count")?bn+=Ht.get("Count"):bn++}))}if(!Ut)throw new _t.FormatError("Kid reference not found in parent's kids.");return Promise.all(un).then(function(){return[bn,Wt]})})}let Qt=0;const gn=tn=>dn(tn).then(bn=>{if(!bn)return this.pageIndexCache.put(Bt,Qt),Qt;const[Wt,Yt]=bn;return Qt+=Wt,gn(Yt)});return gn(Bt)}get baseUrl(){const Bt=this._catDict.get("URI");if(Bt instanceof Rt.Dict){const Gt=Bt.get("Base");if(typeof Gt=="string"){const en=(0,_t.createValidAbsoluteUrl)(Gt,null,{tryConvertEncoding:!0});if(en)return(0,_t.shadow)(this,"baseUrl",en.href)}}return(0,_t.shadow)(this,"baseUrl",this.pdfManager.docBaseUrl)}static parseDestDictionary({destDict:Bt,resultObj:Gt,docBaseUrl:en=null,docAttachments:dn=null}){if(!(Bt instanceof Rt.Dict)){(0,_t.warn)("parseDestDictionary: `destDict` must be a dictionary.");return}let Qt=Bt.get("A"),gn,tn;if(Qt instanceof Rt.Dict||(Bt.has("Dest")?Qt=Bt.get("Dest"):(Qt=Bt.get("AA"),Qt instanceof Rt.Dict&&(Qt.has("D")?Qt=Qt.get("D"):Qt.has("U")&&(Qt=Qt.get("U"))))),Qt instanceof Rt.Dict){const bn=Qt.get("S");if(!(bn instanceof Rt.Name)){(0,_t.warn)("parseDestDictionary: Invalid type in Action dictionary.");return}const Wt=bn.name;switch(Wt){case"ResetForm":const Yt=Qt.get("Flags"),un=((typeof Yt=="number"?Yt:0)&1)===0,Ut=[],Ot=[];for(const kn of Qt.get("Fields")||[])kn instanceof Rt.Ref?Ot.push(kn.toString()):typeof kn=="string"&&Ut.push((0,_t.stringToPDFString)(kn));Gt.resetForm={fields:Ut,refs:Ot,include:un};break;case"URI":gn=Qt.get("URI"),gn instanceof Rt.Name&&(gn="/"+gn.name);break;case"GoTo":tn=Qt.get("D");break;case"Launch":case"GoToR":const Ht=Qt.get("F");Ht instanceof Rt.Dict?gn=Ht.get("F")||null:typeof Ht=="string"&&(gn=Ht);let an=Qt.get("D");if(an&&(an instanceof Rt.Name&&(an=an.name),typeof gn=="string")){const kn=gn.split("#")[0];typeof an=="string"?gn=kn+"#"+an:Array.isArray(an)&&(gn=kn+"#"+JSON.stringify(an))}const zt=Qt.get("NewWindow");typeof zt=="boolean"&&(Gt.newWindow=zt);break;case"GoToE":const Vt=Qt.get("T");let nn;if(dn&&Vt instanceof Rt.Dict){const kn=Vt.get("R"),Pn=Vt.get("N");(0,Rt.isName)(kn,"C")&&typeof Pn=="string"&&(nn=dn[(0,_t.stringToPDFString)(Pn)])}nn?Gt.attachment=nn:(0,_t.warn)('parseDestDictionary - unimplemented "GoToE" action.');break;case"Named":const hn=Qt.get("N");hn instanceof Rt.Name&&(Gt.action=hn.name);break;case"SetOCGState":const on=Qt.get("State"),cn=Qt.get("PreserveRB");if(!Array.isArray(on)||on.length===0)break;const sn=[];for(const kn of on)if(kn instanceof Rt.Name)switch(kn.name){case"ON":case"OFF":case"Toggle":sn.push(kn.name);break}else kn instanceof Rt.Ref&&sn.push(kn.toString());if(sn.length!==on.length)break;Gt.setOCGState={state:sn,preserveRB:typeof cn=="boolean"?cn:!0};break;case"JavaScript":const rn=Qt.get("JS");let xn;rn instanceof bt.BaseStream?xn=rn.getString():typeof rn=="string"&&(xn=rn);const vn=xn&&(0,wt.recoverJsURL)((0,_t.stringToPDFString)(xn));if(vn){gn=vn.url,Gt.newWindow=vn.newWindow;break}default:if(Wt==="JavaScript"||Wt==="SubmitForm")break;(0,_t.warn)(`parseDestDictionary - unsupported action: "${Wt}".`);break}}else Bt.has("Dest")&&(tn=Bt.get("Dest"));if(typeof gn=="string"){const bn=(0,_t.createValidAbsoluteUrl)(gn,en,{addDefaultProtocol:!0,tryConvertEncoding:!0});bn&&(Gt.url=bn.href),Gt.unsafeUrl=gn}tn&&(tn instanceof Rt.Name&&(tn=tn.name),typeof tn=="string"?Gt.dest=(0,_t.stringToPDFString)(tn):Array.isArray(tn)&&(Gt.dest=tn))}}Et.Catalog=kt},(Ct,Et,Ft)=>{Object.defineProperty(Et,"__esModule",{value:!0}),Et.NumberTree=Et.NameTree=void 0;var wt=Ft(4),_t=Ft(2);class Rt{constructor(Xt,Kt,Nt){this.constructor===Rt&&(0,_t.unreachable)("Cannot initialize NameOrNumberTree."),this.root=Xt,this.xref=Kt,this._type=Nt}getAll(){const Xt=new Map;if(!this.root)return Xt;const Kt=this.xref,Nt=new wt.RefSet;Nt.put(this.root);const $t=[this.root];for(;$t.length>0;){const Lt=Kt.fetchIfRef($t.shift());if(!(Lt instanceof wt.Dict))continue;if(Lt.has("Kids")){const kt=Lt.get("Kids");if(!Array.isArray(kt))continue;for(const qt of kt){if(Nt.has(qt))throw new _t.FormatError(`Duplicate entry in "${this._type}" tree.`);$t.push(qt),Nt.put(qt)}continue}const jt=Lt.get(this._type);if(Array.isArray(jt))for(let kt=0,qt=jt.length;kt<qt;kt+=2)Xt.set(Kt.fetchIfRef(jt[kt]),Kt.fetchIfRef(jt[kt+1]))}return Xt}get(Xt){if(!this.root)return null;const Kt=this.xref;let Nt=Kt.fetchIfRef(this.root),$t=0;const Lt=10;for(;Nt.has("Kids");){if(++$t>Lt)return(0,_t.warn)(`Search depth limit reached for "${this._type}" tree.`),null;const kt=Nt.get("Kids");if(!Array.isArray(kt))return null;let qt=0,Bt=kt.length-1;for(;qt<=Bt;){const Gt=qt+Bt>>1,en=Kt.fetchIfRef(kt[Gt]),dn=en.get("Limits");if(Xt<Kt.fetchIfRef(dn[0]))Bt=Gt-1;else if(Xt>Kt.fetchIfRef(dn[1]))qt=Gt+1;else{Nt=en;break}}if(qt>Bt)return null}const jt=Nt.get(this._type);if(Array.isArray(jt)){let kt=0,qt=jt.length-2;for(;kt<=qt;){const Bt=kt+qt>>1,Gt=Bt+(Bt&1),en=Kt.fetchIfRef(jt[Gt]);if(Xt<en)qt=Gt-2;else if(Xt>en)kt=Gt+2;else return Kt.fetchIfRef(jt[Gt+1])}}return null}}class _e extends Rt{constructor(Xt,Kt){super(Xt,Kt,"Names")}}Et.NameTree=_e;class bt extends Rt{constructor(Xt,Kt){super(Xt,Kt,"Nums")}}Et.NumberTree=bt},(Ct,Et,Ft)=>{Object.defineProperty(Et,"__esModule",{value:!0}),Et.clearGlobalCaches=_e;var wt=Ft(50),_t=Ft(4),Rt=Ft(40);function _e(){(0,wt.clearPatternCaches)(),(0,_t.clearPrimitiveCaches)(),(0,Rt.clearUnicodeCaches)()}},(Ct,Et,Ft)=>{Object.defineProperty(Et,"__esModule",{value:!0}),Et.FileSpec=void 0;var wt=Ft(2),_t=Ft(5),Rt=Ft(4);function _e(Pt){return Pt.has("UF")?Pt.get("UF"):Pt.has("F")?Pt.get("F"):Pt.has("Unix")?Pt.get("Unix"):Pt.has("Mac")?Pt.get("Mac"):Pt.has("DOS")?Pt.get("DOS"):null}class bt{constructor(Xt,Kt){Xt instanceof Rt.Dict&&(this.xref=Kt,this.root=Xt,Xt.has("FS")&&(this.fs=Xt.get("FS")),this.description=Xt.has("Desc")?(0,wt.stringToPDFString)(Xt.get("Desc")):"",Xt.has("RF")&&(0,wt.warn)("Related file specifications are not supported"),this.contentAvailable=!0,Xt.has("EF")||(this.contentAvailable=!1,(0,wt.warn)("Non-embedded file specifications are not supported")))}get filename(){if(!this._filename&&this.root){const Xt=_e(this.root)||"unnamed";this._filename=(0,wt.stringToPDFString)(Xt).replaceAll("\\\\","\\").replaceAll("\\/","/").replaceAll("\\","/")}return this._filename}get content(){if(!this.contentAvailable)return null;!this.contentRef&&this.root&&(this.contentRef=_e(this.root.get("EF")));let Xt=null;if(this.contentRef){const Kt=this.xref.fetchIfRef(this.contentRef);Kt instanceof _t.BaseStream?Xt=Kt.getBytes():(0,wt.warn)("Embedded file specification points to non-existing/invalid content")}else(0,wt.warn)("Embedded file specification does not have a content");return Xt}get serializable(){return{filename:this.filename,content:this.content}}}Et.FileSpec=bt},(Ct,Et,Ft)=>{Object.defineProperty(Et,"__esModule",{value:!0}),Et.MetadataParser=void 0;var wt=Ft(71);class _t{constructor(_e){_e=this._repair(_e);const Pt=new wt.SimpleXMLParser({lowerCaseName:!0}).parseFromString(_e);this._metadataMap=new Map,this._data=_e,Pt&&this._parse(Pt)}_repair(_e){return _e.replace(/^[^<]+/,"").replaceAll(/>\\376\\377([^<]+)/g,function(bt,Pt){const Xt=Pt.replaceAll(/\\([0-3])([0-7])([0-7])/g,function(Nt,$t,Lt,jt){return String.fromCharCode($t*64+Lt*8+jt*1)}).replaceAll(/&(amp|apos|gt|lt|quot);/g,function(Nt,$t){switch($t){case"amp":return"&";case"apos":return"'";case"gt":return">";case"lt":return"<";case"quot":return'"'}throw new Error(`_repair: ${$t} isn't defined.`)}),Kt=[">"];for(let Nt=0,$t=Xt.length;Nt<$t;Nt+=2){const Lt=Xt.charCodeAt(Nt)*256+Xt.charCodeAt(Nt+1);Lt>=32&&Lt<127&&Lt!==60&&Lt!==62&&Lt!==38?Kt.push(String.fromCharCode(Lt)):Kt.push("&#x"+(65536+Lt).toString(16).substring(1)+";")}return Kt.join("")})}_getSequence(_e){const bt=_e.nodeName;return bt!=="rdf:bag"&&bt!=="rdf:seq"&&bt!=="rdf:alt"?null:_e.childNodes.filter(Pt=>Pt.nodeName==="rdf:li")}_parseArray(_e){if(!_e.hasChildNodes())return;const[bt]=_e.childNodes,Pt=this._getSequence(bt)||[];this._metadataMap.set(_e.nodeName,Pt.map(Xt=>Xt.textContent.trim()))}_parse(_e){let bt=_e.documentElement;if(bt.nodeName!=="rdf:rdf")for(bt=bt.firstChild;bt&&bt.nodeName!=="rdf:rdf";)bt=bt.nextSibling;if(!(!bt||bt.nodeName!=="rdf:rdf"||!bt.hasChildNodes())){for(const Pt of bt.childNodes)if(Pt.nodeName==="rdf:description")for(const Xt of Pt.childNodes){const Kt=Xt.nodeName;switch(Kt){case"#text":continue;case"dc:creator":case"dc:subject":this._parseArray(Xt);continue}this._metadataMap.set(Kt,Xt.textContent.trim())}}}get serializable(){return{parsedData:this._metadataMap,rawData:this._data}}}Et.MetadataParser=_t},(Ct,Et,Ft)=>{Object.defineProperty(Et,"__esModule",{value:!0}),Et.XMLParserErrorCode=Et.XMLParserBase=Et.SimpleXMLParser=Et.SimpleDOMNode=void 0;var wt=Ft(3);const _t={NoError:0,EndOfDocument:-1,UnterminatedCdat:-2,UnterminatedXmlDeclaration:-3,UnterminatedDoctypeDeclaration:-4,UnterminatedComment:-5,MalformedElement:-6,OutOfMemory:-7,UnterminatedAttributeValue:-8,UnterminatedElement:-9,ElementNeverBegun:-10};Et.XMLParserErrorCode=_t;function Rt(Kt,Nt){const $t=Kt[Nt];return $t===" "||$t===`
`||$t==="\r"||$t==="	"}function _e(Kt){for(let Nt=0,$t=Kt.length;Nt<$t;Nt++)if(!Rt(Kt,Nt))return!1;return!0}class bt{_resolveEntities(Nt){return Nt.replaceAll(/&([^;]+);/g,($t,Lt)=>{if(Lt.substring(0,2)==="#x")return String.fromCodePoint(parseInt(Lt.substring(2),16));if(Lt.substring(0,1)==="#")return String.fromCodePoint(parseInt(Lt.substring(1),10));switch(Lt){case"lt":return"<";case"gt":return">";case"amp":return"&";case"quot":return'"';case"apos":return"'"}return this.onResolveEntity(Lt)})}_parseContent(Nt,$t){const Lt=[];let jt=$t;function kt(){for(;jt<Nt.length&&Rt(Nt,jt);)++jt}for(;jt<Nt.length&&!Rt(Nt,jt)&&Nt[jt]!==">"&&Nt[jt]!=="/";)++jt;const qt=Nt.substring($t,jt);for(kt();jt<Nt.length&&Nt[jt]!==">"&&Nt[jt]!=="/"&&Nt[jt]!=="?";){kt();let Bt="",Gt="";for(;jt<Nt.length&&!Rt(Nt,jt)&&Nt[jt]!=="=";)Bt+=Nt[jt],++jt;if(kt(),Nt[jt]!=="=")return null;++jt,kt();const en=Nt[jt];if(en!=='"'&&en!=="'")return null;const dn=Nt.indexOf(en,++jt);if(dn<0)return null;Gt=Nt.substring(jt,dn),Lt.push({name:Bt,value:this._resolveEntities(Gt)}),jt=dn+1,kt()}return{name:qt,attributes:Lt,parsed:jt-$t}}_parseProcessingInstruction(Nt,$t){let Lt=$t;function jt(){for(;Lt<Nt.length&&Rt(Nt,Lt);)++Lt}for(;Lt<Nt.length&&!Rt(Nt,Lt)&&Nt[Lt]!==">"&&Nt[Lt]!=="?"&&Nt[Lt]!=="/";)++Lt;const kt=Nt.substring($t,Lt);jt();const qt=Lt;for(;Lt<Nt.length&&(Nt[Lt]!=="?"||Nt[Lt+1]!==">");)++Lt;const Bt=Nt.substring(qt,Lt);return{name:kt,value:Bt,parsed:Lt-$t}}parseXml(Nt){let $t=0;for(;$t<Nt.length;){const Lt=Nt[$t];let jt=$t;if(Lt==="<"){++jt;const kt=Nt[jt];let qt;switch(kt){case"/":if(++jt,qt=Nt.indexOf(">",jt),qt<0){this.onError(_t.UnterminatedElement);return}this.onEndElement(Nt.substring(jt,qt)),jt=qt+1;break;case"?":++jt;const Bt=this._parseProcessingInstruction(Nt,jt);if(Nt.substring(jt+Bt.parsed,jt+Bt.parsed+2)!=="?>"){this.onError(_t.UnterminatedXmlDeclaration);return}this.onPi(Bt.name,Bt.value),jt+=Bt.parsed+2;break;case"!":if(Nt.substring(jt+1,jt+3)==="--"){if(qt=Nt.indexOf("-->",jt+3),qt<0){this.onError(_t.UnterminatedComment);return}this.onComment(Nt.substring(jt+3,qt)),jt=qt+3}else if(Nt.substring(jt+1,jt+8)==="[CDATA["){if(qt=Nt.indexOf("]]>",jt+8),qt<0){this.onError(_t.UnterminatedCdat);return}this.onCdata(Nt.substring(jt+8,qt)),jt=qt+3}else if(Nt.substring(jt+1,jt+8)==="DOCTYPE"){const dn=Nt.indexOf("[",jt+8);let Qt=!1;if(qt=Nt.indexOf(">",jt+8),qt<0){this.onError(_t.UnterminatedDoctypeDeclaration);return}if(dn>0&&qt>dn){if(qt=Nt.indexOf("]>",jt+8),qt<0){this.onError(_t.UnterminatedDoctypeDeclaration);return}Qt=!0}const gn=Nt.substring(jt+8,qt+(Qt?1:0));this.onDoctype(gn),jt=qt+(Qt?2:1)}else{this.onError(_t.MalformedElement);return}break;default:const Gt=this._parseContent(Nt,jt);if(Gt===null){this.onError(_t.MalformedElement);return}let en=!1;if(Nt.substring(jt+Gt.parsed,jt+Gt.parsed+2)==="/>")en=!0;else if(Nt.substring(jt+Gt.parsed,jt+Gt.parsed+1)!==">"){this.onError(_t.UnterminatedElement);return}this.onBeginElement(Gt.name,Gt.attributes,en),jt+=Gt.parsed+(en?2:1);break}}else{for(;jt<Nt.length&&Nt[jt]!=="<";)jt++;const kt=Nt.substring($t,jt);this.onText(this._resolveEntities(kt))}$t=jt}}onResolveEntity(Nt){return`&${Nt};`}onPi(Nt,$t){}onComment(Nt){}onCdata(Nt){}onDoctype(Nt){}onText(Nt){}onBeginElement(Nt,$t,Lt){}onEndElement(Nt){}onError(Nt){}}Et.XMLParserBase=bt;class Pt{constructor(Nt,$t){this.nodeName=Nt,this.nodeValue=$t,Object.defineProperty(this,"parentNode",{value:null,writable:!0})}get firstChild(){var Nt;return(Nt=this.childNodes)==null?void 0:Nt[0]}get nextSibling(){const Nt=this.parentNode.childNodes;if(!Nt)return;const $t=Nt.indexOf(this);if($t!==-1)return Nt[$t+1]}get textContent(){return this.childNodes?this.childNodes.map(function(Nt){return Nt.textContent}).join(""):this.nodeValue||""}get children(){return this.childNodes||[]}hasChildNodes(){var Nt;return((Nt=this.childNodes)==null?void 0:Nt.length)>0}searchNode(Nt,$t){var qt;if($t>=Nt.length)return this;const Lt=Nt[$t];if(Lt.name.startsWith("#")&&$t<Nt.length-1)return this.searchNode(Nt,$t+1);const jt=[];let kt=this;for(;;){if(Lt.name===kt.nodeName)if(Lt.pos===0){const Bt=kt.searchNode(Nt,$t+1);if(Bt!==null)return Bt}else{if(jt.length===0)return null;{const[Bt]=jt.pop();let Gt=0;for(const en of Bt.childNodes)if(Lt.name===en.nodeName){if(Gt===Lt.pos)return en.searchNode(Nt,$t+1);Gt++}return kt.searchNode(Nt,$t+1)}}if(((qt=kt.childNodes)==null?void 0:qt.length)>0)jt.push([kt,0]),kt=kt.childNodes[0];else{if(jt.length===0)return null;for(;jt.length!==0;){const[Bt,Gt]=jt.pop(),en=Gt+1;if(en<Bt.childNodes.length){jt.push([Bt,en]),kt=Bt.childNodes[en];break}}if(jt.length===0)return null}}}dump(Nt){if(this.nodeName==="#text"){Nt.push((0,wt.encodeToXmlString)(this.nodeValue));return}if(Nt.push(`<${this.nodeName}`),this.attributes)for(const $t of this.attributes)Nt.push(` ${$t.name}="${(0,wt.encodeToXmlString)($t.value)}"`);if(this.hasChildNodes()){Nt.push(">");for(const $t of this.childNodes)$t.dump(Nt);Nt.push(`</${this.nodeName}>`)}else this.nodeValue?Nt.push(`>${(0,wt.encodeToXmlString)(this.nodeValue)}</${this.nodeName}>`):Nt.push("/>")}}Et.SimpleDOMNode=Pt;class Xt extends bt{constructor({hasAttributes:Nt=!1,lowerCaseName:$t=!1}){super(),this._currentFragment=null,this._stack=null,this._errorCode=_t.NoError,this._hasAttributes=Nt,this._lowerCaseName=$t}parseFromString(Nt){if(this._currentFragment=[],this._stack=[],this._errorCode=_t.NoError,this.parseXml(Nt),this._errorCode!==_t.NoError)return;const[$t]=this._currentFragment;if($t)return{documentElement:$t}}onText(Nt){if(_e(Nt))return;const $t=new Pt("#text",Nt);this._currentFragment.push($t)}onCdata(Nt){const $t=new Pt("#text",Nt);this._currentFragment.push($t)}onBeginElement(Nt,$t,Lt){this._lowerCaseName&&(Nt=Nt.toLowerCase());const jt=new Pt(Nt);jt.childNodes=[],this._hasAttributes&&(jt.attributes=$t),this._currentFragment.push(jt),!Lt&&(this._stack.push(this._currentFragment),this._currentFragment=jt.childNodes)}onEndElement(Nt){this._currentFragment=this._stack.pop()||[];const $t=this._currentFragment.at(-1);if(!$t)return null;for(const Lt of $t.childNodes)Lt.parentNode=$t;return $t}onError(Nt){this._errorCode=Nt}}Et.SimpleXMLParser=Xt},(Ct,Et,Ft)=>{var Lt,b5,kt,Z3,y5,v5;Object.defineProperty(Et,"__esModule",{value:!0}),Et.StructTreeRoot=Et.StructTreePage=void 0;var wt=Ft(2),_t=Ft(4),Rt=Ft(67),_e=Ft(73);const bt=40,Pt={PAGE_CONTENT:1,STREAM_CONTENT:2,OBJECT:3,ANNOTATION:4,ELEMENT:5},en=class en{constructor(Qt,gn){Nn(this,Lt);this.dict=Qt,this.ref=gn instanceof _t.Ref?gn:null,this.roleMap=new Map,this.structParentIds=null}init(){this.readRoleMap()}addAnnotationIdToPage(Qt,gn){Mn(this,Lt,b5).call(this,Qt,gn,Pt.ANNOTATION)}readRoleMap(){const Qt=this.dict.get("RoleMap");Qt instanceof _t.Dict&&Qt.forEach((gn,tn)=>{tn instanceof _t.Name&&this.roleMap.set(gn,tn.name)})}static async canCreateStructureTree({catalogRef:Qt,pdfManager:gn,newAnnotationsByPage:tn}){var Yt;if(!(Qt instanceof _t.Ref))return(0,wt.warn)("Cannot save the struct tree: no catalog reference."),!1;let bn=0,Wt=!0;for(const[un,Ut]of tn){const{ref:Ot}=await gn.getPage(un);if(!(Ot instanceof _t.Ref)){(0,wt.warn)(`Cannot save the struct tree: page ${un} has no ref.`),Wt=!0;break}for(const Ht of Ut)(Yt=Ht.accessibilityData)!=null&&Yt.type&&(Ht.parentTreeId=bn++,Wt=!1)}if(Wt){for(const un of tn.values())for(const Ut of un)delete Ut.parentTreeId;return!1}return!0}static async createStructureTree({newAnnotationsByPage:Qt,xref:gn,catalogRef:tn,pdfManager:bn,newRefs:Wt}){const Yt=bn.catalog.cloneDict(),un=gn.getNewTemporaryRef();Yt.set("StructTreeRoot",un);const Ut=[];await(0,_e.writeObject)(tn,Yt,Ut,gn),Wt.push({ref:tn,data:Ut.join("")});const Ot=new _t.Dict(gn);Ot.set("Type",_t.Name.get("StructTreeRoot"));const Ht=gn.getNewTemporaryRef();Ot.set("ParentTree",Ht);const an=[];Ot.set("K",an);const zt=new _t.Dict(gn),Vt=[];zt.set("Nums",Vt);const nn=await Mn(this,kt,Z3).call(this,{newAnnotationsByPage:Qt,structTreeRootRef:un,kids:an,nums:Vt,xref:gn,pdfManager:bn,newRefs:Wt,buffer:Ut});Ot.set("ParentTreeNextKey",nn),Ut.length=0,await(0,_e.writeObject)(Ht,zt,Ut,gn),Wt.push({ref:Ht,data:Ut.join("")}),Ut.length=0,await(0,_e.writeObject)(un,Ot,Ut,gn),Wt.push({ref:un,data:Ut.join("")})}async canUpdateStructTree({pdfManager:Qt,newAnnotationsByPage:gn}){var Ut,Ot;if(!this.ref)return(0,wt.warn)("Cannot update the struct tree: no root reference."),!1;let tn=this.dict.get("ParentTreeNextKey");if(!Number.isInteger(tn)||tn<0)return(0,wt.warn)("Cannot update the struct tree: invalid next key."),!1;const bn=this.dict.get("ParentTree");if(!(bn instanceof _t.Dict))return(0,wt.warn)("Cannot update the struct tree: ParentTree isn't a dict."),!1;const Wt=bn.get("Nums");if(!Array.isArray(Wt))return(0,wt.warn)("Cannot update the struct tree: nums isn't an array."),!1;const{numPages:Yt}=Qt.catalog;for(const Ht of gn.keys()){const{pageDict:an,ref:zt}=await Qt.getPage(Ht);if(!(zt instanceof _t.Ref))return(0,wt.warn)(`Cannot save the struct tree: page ${Ht} has no ref.`),!1;const Vt=an.get("StructParents");if(!Number.isInteger(Vt)||Vt<0||Vt>=Yt)return(0,wt.warn)(`Cannot save the struct tree: page ${Ht} has no id.`),!1}let un=!0;for(const[Ht,an]of gn){const{pageDict:zt}=await Qt.getPage(Ht);Mn(Ut=en,kt,y5).call(Ut,{elements:an,xref:this.dict.xref,pageDict:zt,parentTree:bn});for(const Vt of an)(Ot=Vt.accessibilityData)!=null&&Ot.type&&(Vt.parentTreeId=tn++,un=!1)}if(un){for(const Ht of gn.values())for(const an of Ht)delete an.parentTreeId,delete an.structTreeParent;return!1}return!0}async updateStructureTree({newAnnotationsByPage:Qt,pdfManager:gn,newRefs:tn}){var hn;const bn=this.dict.xref,Wt=this.dict.clone(),Yt=this.ref;let un=Wt.getRaw("ParentTree"),Ut;un instanceof _t.Ref?Ut=bn.fetch(un):(Ut=un,un=bn.getNewTemporaryRef(),Wt.set("ParentTree",un)),Ut=Ut.clone();let Ot=Ut.getRaw("Nums"),Ht=null;Ot instanceof _t.Ref&&(Ht=Ot,Ot=bn.fetch(Ht)),Ot=Ot.slice(),Ht||Ut.set("Nums",Ot);let an=Wt.getRaw("K"),zt=null;an instanceof _t.Ref?(zt=an,an=bn.fetch(zt)):(zt=bn.getNewTemporaryRef(),Wt.set("K",zt)),an=Array.isArray(an)?an.slice():[an];const Vt=[],nn=await Mn(hn=en,kt,Z3).call(hn,{newAnnotationsByPage:Qt,structTreeRootRef:Yt,kids:an,nums:Ot,xref:bn,pdfManager:gn,newRefs:tn,buffer:Vt});Wt.set("ParentTreeNextKey",nn),Vt.length=0,await(0,_e.writeObject)(zt,an,Vt,bn),tn.push({ref:zt,data:Vt.join("")}),Ht&&(Vt.length=0,await(0,_e.writeObject)(Ht,Ot,Vt,bn),tn.push({ref:Ht,data:Vt.join("")})),Vt.length=0,await(0,_e.writeObject)(un,Ut,Vt,bn),tn.push({ref:un,data:Vt.join("")}),Vt.length=0,await(0,_e.writeObject)(Yt,Wt,Vt,bn),tn.push({ref:Yt,data:Vt.join("")})}};Lt=new WeakSet,b5=function(Qt,gn,tn){if(!(Qt instanceof _t.Ref)||gn<0)return;this.structParentIds||(this.structParentIds=new _t.RefSetCache);let bn=this.structParentIds.get(Qt);bn||(bn=[],this.structParentIds.put(Qt,bn)),bn.push([gn,tn])},kt=new WeakSet,Z3=async function({newAnnotationsByPage:Qt,structTreeRootRef:gn,kids:tn,nums:bn,xref:Wt,pdfManager:Yt,newRefs:un,buffer:Ut}){const Ot=_t.Name.get("OBJR");let Ht=-1/0;for(const[an,zt]of Qt){const{ref:Vt}=await Yt.getPage(an);for(const{accessibilityData:{type:nn,title:hn,lang:on,alt:cn,expanded:sn,actualText:rn},ref:xn,parentTreeId:vn,structTreeParent:kn}of zt){Ht=Math.max(Ht,vn);const Pn=Wt.getNewTemporaryRef(),On=new _t.Dict(Wt);On.set("S",_t.Name.get(nn)),hn&&On.set("T",hn),on&&On.set("Lang",on),cn&&On.set("Alt",cn),sn&&On.set("E",sn),rn&&On.set("ActualText",rn),kn?await Mn(this,kt,v5).call(this,{structTreeParent:kn,tagDict:On,newTagRef:Pn,fallbackRef:gn,xref:Wt,newRefs:un,buffer:Ut}):On.set("P",gn);const _n=new _t.Dict(Wt);On.set("K",_n),_n.set("Type",Ot),_n.set("Pg",Vt),_n.set("Obj",xn),Ut.length=0,await(0,_e.writeObject)(Pn,On,Ut,Wt),un.push({ref:Pn,data:Ut.join("")}),bn.push(vn,Pn),tn.push(Pn)}}return Ht+1},y5=function({elements:Qt,xref:gn,pageDict:tn,parentTree:bn}){const Wt=new Map;for(const Ht of Qt)if(Ht.structTreeParentId){const an=parseInt(Ht.structTreeParentId.split("_mc")[1],10);Wt.set(an,Ht)}const Yt=tn.get("StructParents"),Ut=new Rt.NumberTree(bn,gn).get(Yt);if(!Array.isArray(Ut))return;const Ot=(Ht,an,zt)=>{const Vt=Wt.get(Ht);if(Vt){const nn=an.getRaw("P"),hn=gn.fetchIfRef(nn);return nn instanceof _t.Ref&&hn instanceof _t.Dict&&(Vt.structTreeParent={ref:zt,dict:an}),!0}return!1};for(const Ht of Ut){if(!(Ht instanceof _t.Ref))continue;const an=gn.fetch(Ht),zt=an.get("K");if(Number.isInteger(zt)){Ot(zt,an,Ht);continue}if(Array.isArray(zt)){for(let Vt of zt)if(Vt=gn.fetchIfRef(Vt),Number.isInteger(Vt)&&Ot(Vt,an,Ht))break}}},v5=async function({structTreeParent:{ref:Qt,dict:gn},tagDict:tn,newTagRef:bn,fallbackRef:Wt,xref:Yt,newRefs:un,buffer:Ut}){const Ot=gn.getRaw("P");let Ht=Yt.fetchIfRef(Ot);tn.set("P",Ot);let an=!1,zt,Vt=Ht.getRaw("K");if(Vt instanceof _t.Ref?zt=Yt.fetch(Vt):(zt=Vt,Vt=Yt.getNewTemporaryRef(),Ht=Ht.clone(),Ht.set("K",Vt),an=!0),Array.isArray(zt)){const nn=zt.indexOf(Qt);if(nn>=0)zt=zt.slice(),zt.splice(nn+1,0,bn);else{(0,wt.warn)("Cannot update the struct tree: parent kid not found."),tn.set("P",Wt);return}}else zt instanceof _t.Dict&&(zt=[Vt,bn],Vt=Yt.getNewTemporaryRef(),Ht.set("K",Vt),an=!0);Ut.length=0,await(0,_e.writeObject)(Vt,zt,Ut,Yt),un.push({ref:Vt,data:Ut.join("")}),an&&(Ut.length=0,await(0,_e.writeObject)(Ot,Ht,Ut,Yt),un.push({ref:Ot,data:Ut.join("")}))},Nn(en,kt);let Xt=en;Et.StructTreeRoot=Xt;class Kt{constructor(Qt,gn){this.tree=Qt,this.dict=gn,this.kids=[],this.parseKids()}get role(){const Qt=this.dict.get("S"),gn=Qt instanceof _t.Name?Qt.name:"",{root:tn}=this.tree;return tn.roleMap.has(gn)?tn.roleMap.get(gn):gn}parseKids(){let Qt=null;const gn=this.dict.getRaw("Pg");gn instanceof _t.Ref&&(Qt=gn.toString());const tn=this.dict.get("K");if(Array.isArray(tn))for(const bn of tn){const Wt=this.parseKid(Qt,bn);Wt&&this.kids.push(Wt)}else{const bn=this.parseKid(Qt,tn);bn&&this.kids.push(bn)}}parseKid(Qt,gn){if(Number.isInteger(gn))return this.tree.pageDict.objId!==Qt?null:new Nt({type:Pt.PAGE_CONTENT,mcid:gn,pageObjId:Qt});let tn=null;if(gn instanceof _t.Ref?tn=this.dict.xref.fetch(gn):gn instanceof _t.Dict&&(tn=gn),!tn)return null;const bn=tn.getRaw("Pg");bn instanceof _t.Ref&&(Qt=bn.toString());const Wt=tn.get("Type")instanceof _t.Name?tn.get("Type").name:null;if(Wt==="MCR"){if(this.tree.pageDict.objId!==Qt)return null;const Yt=tn.getRaw("Stm");return new Nt({type:Pt.STREAM_CONTENT,refObjId:Yt instanceof _t.Ref?Yt.toString():null,pageObjId:Qt,mcid:tn.get("MCID")})}if(Wt==="OBJR"){if(this.tree.pageDict.objId!==Qt)return null;const Yt=tn.getRaw("Obj");return new Nt({type:Pt.OBJECT,refObjId:Yt instanceof _t.Ref?Yt.toString():null,pageObjId:Qt})}return new Nt({type:Pt.ELEMENT,dict:tn})}}class Nt{constructor({type:Qt,dict:gn=null,mcid:tn=null,pageObjId:bn=null,refObjId:Wt=null}){this.type=Qt,this.dict=gn,this.mcid=tn,this.pageObjId=bn,this.refObjId=Wt,this.parentNode=null}}class $t{constructor(Qt,gn){this.root=Qt,this.rootDict=Qt?Qt.dict:null,this.pageDict=gn,this.nodes=[]}parse(Qt){var un,Ut;if(!this.root||!this.rootDict)return;const gn=this.rootDict.get("ParentTree");if(!gn)return;const tn=this.pageDict.get("StructParents"),bn=Qt instanceof _t.Ref&&((un=this.root.structParentIds)==null?void 0:un.get(Qt));if(!Number.isInteger(tn)&&!bn)return;const Wt=new Map,Yt=new Rt.NumberTree(gn,this.rootDict.xref);if(Number.isInteger(tn)){const Ot=Yt.get(tn);if(Array.isArray(Ot))for(const Ht of Ot)Ht instanceof _t.Ref&&this.addNode(this.rootDict.xref.fetch(Ht),Wt)}if(bn)for(const[Ot,Ht]of bn){const an=Yt.get(Ot);if(an){const zt=this.addNode(this.rootDict.xref.fetchIfRef(an),Wt);((Ut=zt==null?void 0:zt.kids)==null?void 0:Ut.length)===1&&zt.kids[0].type===Pt.OBJECT&&(zt.kids[0].type=Ht)}}}addNode(Qt,gn,tn=0){if(tn>bt)return(0,wt.warn)("StructTree MAX_DEPTH reached."),null;if(gn.has(Qt))return gn.get(Qt);const bn=new Kt(this,Qt);gn.set(Qt,bn);const Wt=Qt.get("P");if(!Wt||(0,_t.isName)(Wt.get("Type"),"StructTreeRoot"))return this.addTopLevelNode(Qt,bn)||gn.delete(Qt),bn;const Yt=this.addNode(Wt,gn,tn+1);if(!Yt)return bn;let un=!1;for(const Ut of Yt.kids)Ut.type===Pt.ELEMENT&&Ut.dict===Qt&&(Ut.parentNode=bn,un=!0);return un||gn.delete(Qt),bn}addTopLevelNode(Qt,gn){const tn=this.rootDict.get("K");if(!tn)return!1;if(tn instanceof _t.Dict)return tn.objId!==Qt.objId?!1:(this.nodes[0]=gn,!0);if(!Array.isArray(tn))return!0;let bn=!1;for(let Wt=0;Wt<tn.length;Wt++){const Yt=tn[Wt];(Yt==null?void 0:Yt.toString())===Qt.objId&&(this.nodes[Wt]=gn,bn=!0)}return bn}get serializable(){function Qt(tn,bn,Wt=0){if(Wt>bt){(0,wt.warn)("StructTree too deep to be fully serialized.");return}const Yt=Object.create(null);Yt.role=tn.role,Yt.children=[],bn.children.push(Yt);const un=tn.dict.get("Alt");typeof un=="string"&&(Yt.alt=(0,wt.stringToPDFString)(un));const Ut=tn.dict.get("Lang");typeof Ut=="string"&&(Yt.lang=(0,wt.stringToPDFString)(Ut));for(const Ot of tn.kids){const Ht=Ot.type===Pt.ELEMENT?Ot.parentNode:null;if(Ht){Qt(Ht,Yt,Wt+1);continue}else Ot.type===Pt.PAGE_CONTENT||Ot.type===Pt.STREAM_CONTENT?Yt.children.push({type:"content",id:`p${Ot.pageObjId}_mc${Ot.mcid}`}):Ot.type===Pt.OBJECT?Yt.children.push({type:"object",id:Ot.refObjId}):Ot.type===Pt.ANNOTATION&&Yt.children.push({type:"annotation",id:`${wt.AnnotationPrefix}${Ot.refObjId}`})}}const gn=Object.create(null);gn.children=[],gn.role="Root";for(const tn of this.nodes)tn&&Qt(tn,gn);return gn}}Et.StructTreePage=$t},(Ct,Et,Ft)=>{Object.defineProperty(Et,"__esModule",{value:!0}),Et.incrementalUpdate=dn,Et.writeDict=Kt,Et.writeObject=Xt;var wt=Ft(2),_t=Ft(4),Rt=Ft(3),_e=Ft(71),bt=Ft(5),Pt=Ft(74);async function Xt(Qt,gn,tn,{encrypt:bn=null}){const Wt=bn==null?void 0:bn.createCipherTransform(Qt.num,Qt.gen);tn.push(`${Qt.num} ${Qt.gen} obj
`),gn instanceof _t.Dict?await Kt(gn,tn,Wt):gn instanceof bt.BaseStream?await Nt(gn,tn,Wt):Array.isArray(gn)&&await $t(gn,tn,Wt),tn.push(`
endobj
`)}async function Kt(Qt,gn,tn){gn.push("<<");for(const bn of Qt.getKeys())gn.push(` /${(0,Rt.escapePDFName)(bn)} `),await Lt(Qt.getRaw(bn),gn,tn);gn.push(">>")}async function Nt(Qt,gn,tn){let bn=Qt.getString();const{dict:Wt}=Qt,[Yt,un]=await Promise.all([Wt.getAsync("Filter"),Wt.getAsync("DecodeParms")]),Ut=Array.isArray(Yt)?await Wt.xref.fetchIfRefAsync(Yt[0]):Yt,Ot=(0,_t.isName)(Ut,"FlateDecode");if(typeof CompressionStream<"u"&&(bn.length>=256||Ot))try{const an=(0,wt.stringToBytes)(bn),zt=new CompressionStream("deflate"),Vt=zt.writable.getWriter();Vt.write(an),Vt.close();const nn=await new Response(zt.readable).arrayBuffer();bn=(0,wt.bytesToString)(new Uint8Array(nn));let hn,on;Yt?Ot||(hn=Array.isArray(Yt)?[_t.Name.get("FlateDecode"),...Yt]:[_t.Name.get("FlateDecode"),Yt],un&&(on=Array.isArray(un)?[null,...un]:[null,un])):hn=_t.Name.get("FlateDecode"),hn&&Wt.set("Filter",hn),on&&Wt.set("DecodeParms",on)}catch(an){(0,wt.info)(`writeStream - cannot compress data: "${an}".`)}tn&&(bn=tn.encryptString(bn)),Wt.set("Length",bn.length),await Kt(Wt,gn,tn),gn.push(` stream
`,bn,`
endstream`)}async function $t(Qt,gn,tn){gn.push("[");let bn=!0;for(const Wt of Qt)bn?bn=!1:gn.push(" "),await Lt(Wt,gn,tn);gn.push("]")}async function Lt(Qt,gn,tn){Qt instanceof _t.Name?gn.push(`/${(0,Rt.escapePDFName)(Qt.name)}`):Qt instanceof _t.Ref?gn.push(`${Qt.num} ${Qt.gen} R`):Array.isArray(Qt)?await $t(Qt,gn,tn):typeof Qt=="string"?(tn&&(Qt=tn.encryptString(Qt)),gn.push(`(${(0,Rt.escapeString)(Qt)})`)):typeof Qt=="number"?gn.push((0,Rt.numberToString)(Qt)):typeof Qt=="boolean"?gn.push(Qt.toString()):Qt instanceof _t.Dict?await Kt(Qt,gn,tn):Qt instanceof bt.BaseStream?await Nt(Qt,gn,tn):Qt===null?gn.push("null"):(0,wt.warn)(`Unhandled value in writer: ${typeof Qt}, please file a bug.`)}function jt(Qt,gn,tn,bn){for(let Wt=gn+tn-1;Wt>tn-1;Wt--)bn[Wt]=Qt&255,Qt>>=8;return tn+gn}function kt(Qt,gn,tn){for(let bn=0,Wt=Qt.length;bn<Wt;bn++)tn[gn+bn]=Qt.charCodeAt(bn)&255}function qt(Qt,gn){const tn=Math.floor(Date.now()/1e3),bn=gn.filename||"",Wt=[tn.toString(),bn,Qt.toString()];let Yt=Wt.reduce((Ot,Ht)=>Ot+Ht.length,0);for(const Ot of Object.values(gn.info))Wt.push(Ot),Yt+=Ot.length;const un=new Uint8Array(Yt);let Ut=0;for(const Ot of Wt)kt(Ot,Ut,un),Ut+=Ot.length;return(0,wt.bytesToString)((0,Pt.calculateMD5)(un))}function Bt(Qt,gn){const tn=new _e.SimpleXMLParser({hasAttributes:!0}).parseFromString(Qt);for(const{xfa:Wt}of gn){if(!Wt)continue;const{path:Yt,value:un}=Wt;if(!Yt)continue;const Ut=(0,Rt.parseXFAPath)(Yt);let Ot=tn.documentElement.searchNode(Ut,0);!Ot&&Ut.length>1&&(Ot=tn.documentElement.searchNode([Ut.at(-1)],0)),Ot?Ot.childNodes=Array.isArray(un)?un.map(Ht=>new _e.SimpleDOMNode("value",Ht)):[new _e.SimpleDOMNode("#text",un)]:(0,wt.warn)(`Node not found for path: ${Yt}`)}const bn=[];return tn.documentElement.dump(bn),bn.join("")}async function Gt({xref:Qt,acroForm:gn,acroFormRef:tn,hasXfa:bn,hasXfaDatasetsEntry:Wt,xfaDatasetsRef:Yt,needAppearances:un,newRefs:Ut}){if(bn&&!Wt&&!Yt&&(0,wt.warn)("XFA - Cannot save it"),!un&&(!bn||!Yt||Wt))return;const Ot=gn.clone();if(bn&&!Wt){const an=gn.get("XFA").slice();an.splice(2,0,"datasets"),an.splice(3,0,Yt),Ot.set("XFA",an)}un&&Ot.set("NeedAppearances",!0);const Ht=[];await Xt(tn,Ot,Ht,Qt),Ut.push({ref:tn,data:Ht.join("")})}function en({xfaData:Qt,xfaDatasetsRef:gn,newRefs:tn,xref:bn}){if(Qt===null){const un=bn.fetchIfRef(gn);Qt=Bt(un.getString(),tn)}const Wt=bn.encrypt;Wt&&(Qt=Wt.createCipherTransform(gn.num,gn.gen).encryptString(Qt));const Yt=`${gn.num} ${gn.gen} obj
<< /Type /EmbeddedFile /Length ${Qt.length}>>
stream
`+Qt+`
endstream
endobj
`;tn.push({ref:gn,data:Yt})}async function dn({originalData:Qt,xrefInfo:gn,newRefs:tn,xref:bn=null,hasXfa:Wt=!1,xfaDatasetsRef:Yt=null,hasXfaDatasetsEntry:un=!1,needAppearances:Ut,acroFormRef:Ot=null,acroForm:Ht=null,xfaData:an=null}){await Gt({xref:bn,acroForm:Ht,acroFormRef:Ot,hasXfa:Wt,hasXfaDatasetsEntry:un,xfaDatasetsRef:Yt,needAppearances:Ut,newRefs:tn}),Wt&&en({xfaData:an,xfaDatasetsRef:Yt,newRefs:tn,xref:bn});const zt=new _t.Dict(null),Vt=gn.newRef;let nn,hn;const on=Qt.at(-1);on===10||on===13?(nn=[],hn=Qt.length):(nn=[`
`],hn=Qt.length+1),zt.set("Size",Vt.num+1),zt.set("Prev",gn.startXRef),zt.set("Type",_t.Name.get("XRef")),gn.rootRef!==null&&zt.set("Root",gn.rootRef),gn.infoRef!==null&&zt.set("Info",gn.infoRef),gn.encryptRef!==null&&zt.set("Encrypt",gn.encryptRef),tn.push({ref:Vt,data:""}),tn=tn.sort((fn,Jt)=>fn.ref.num-Jt.ref.num);const cn=[[0,1,65535]],sn=[0,1];let rn=0;for(const{ref:fn,data:Jt}of tn)rn=Math.max(rn,hn),cn.push([1,hn,Math.min(fn.gen,65535)]),hn+=Jt.length,sn.push(fn.num,1),nn.push(Jt);if(zt.set("Index",sn),Array.isArray(gn.fileIds)&&gn.fileIds.length>0){const fn=qt(hn,gn);zt.set("ID",[gn.fileIds[0],fn])}const vn=[1,Math.ceil(Math.log2(rn)/8),2],Pn=(vn[0]+vn[1]+vn[2])*cn.length;zt.set("W",vn),zt.set("Length",Pn),nn.push(`${Vt.num} ${Vt.gen} obj
`),await Kt(zt,nn,null),nn.push(` stream
`);const On=nn.reduce((fn,Jt)=>fn+Jt.length,0),_n=`
endstream
endobj
startxref
${hn}
%%EOF
`,Sn=new Uint8Array(Qt.length+On+Pn+_n.length);Sn.set(Qt);let mn=Qt.length;for(const fn of nn)kt(fn,mn,Sn),mn+=fn.length;for(const[fn,Jt,ln]of cn)mn=jt(fn,vn[0],mn,Sn),mn=jt(Jt,vn[1],mn,Sn),mn=jt(ln,vn[2],mn,Sn);return kt(_n,mn,Sn),Sn}},(Ct,Et,Ft)=>{var dn,Qt,w5,J3,A5,B2,Q3;Object.defineProperty(Et,"__esModule",{value:!0}),Et.calculateSHA256=Et.calculateMD5=Et.PDF20=Et.PDF17=Et.CipherTransformFactory=Et.ARCFourCipher=Et.AES256Cipher=Et.AES128Cipher=void 0,Et.calculateSHA384=Nt,Et.calculateSHA512=void 0;var wt=Ft(2),_t=Ft(4),Rt=Ft(75);class _e{constructor(Ot){this.a=0,this.b=0;const Ht=new Uint8Array(256),an=Ot.length;for(let zt=0;zt<256;++zt)Ht[zt]=zt;for(let zt=0,Vt=0;zt<256;++zt){const nn=Ht[zt];Vt=Vt+nn+Ot[zt%an]&255,Ht[zt]=Ht[Vt],Ht[Vt]=nn}this.s=Ht}encryptBlock(Ot){let Ht=this.a,an=this.b;const zt=this.s,Vt=Ot.length,nn=new Uint8Array(Vt);for(let hn=0;hn<Vt;++hn){Ht=Ht+1&255;const on=zt[Ht];an=an+on&255;const cn=zt[an];zt[Ht]=cn,zt[an]=on,nn[hn]=Ot[hn]^zt[on+cn&255]}return this.a=Ht,this.b=an,nn}decryptBlock(Ot){return this.encryptBlock(Ot)}encrypt(Ot){return this.encryptBlock(Ot)}}Et.ARCFourCipher=_e;const bt=function(){const Ot=new Uint8Array([7,12,17,22,7,12,17,22,7,12,17,22,7,12,17,22,5,9,14,20,5,9,14,20,5,9,14,20,5,9,14,20,4,11,16,23,4,11,16,23,4,11,16,23,4,11,16,23,6,10,15,21,6,10,15,21,6,10,15,21,6,10,15,21]),Ht=new Int32Array([-680876936,-389564586,606105819,-1044525330,-176418897,1200080426,-1473231341,-45705983,1770035416,-1958414417,-42063,-1990404162,1804603682,-40341101,-1502002290,1236535329,-165796510,-1069501632,643717713,-373897302,-701558691,38016083,-660478335,-405537848,568446438,-1019803690,-187363961,1163531501,-1444681467,-51403784,1735328473,-1926607734,-378558,-2022574463,1839030562,-35309556,-1530992060,1272893353,-155497632,-1094730640,681279174,-358537222,-722521979,76029189,-640364487,-421815835,530742520,-995338651,-198630844,1126891415,-1416354905,-57434055,1700485571,-1894986606,-1051523,-2054922799,1873313359,-30611744,-1560198380,1309151649,-145523070,-1120210379,718787259,-343485551]);function an(zt,Vt,nn){let hn=1732584193,on=-271733879,cn=-1732584194,sn=271733878;const rn=nn+72&-64,xn=new Uint8Array(rn);let vn,kn;for(vn=0;vn<nn;++vn)xn[vn]=zt[Vt++];xn[vn++]=128;const Pn=rn-8;for(;vn<Pn;)xn[vn++]=0;xn[vn++]=nn<<3&255,xn[vn++]=nn>>5&255,xn[vn++]=nn>>13&255,xn[vn++]=nn>>21&255,xn[vn++]=nn>>>29&255,xn[vn++]=0,xn[vn++]=0,xn[vn++]=0;const On=new Int32Array(16);for(vn=0;vn<rn;){for(kn=0;kn<16;++kn,vn+=4)On[kn]=xn[vn]|xn[vn+1]<<8|xn[vn+2]<<16|xn[vn+3]<<24;let _n=hn,Sn=on,mn=cn,fn=sn,Jt,ln;for(kn=0;kn<64;++kn){kn<16?(Jt=Sn&mn|~Sn&fn,ln=kn):kn<32?(Jt=fn&Sn|~fn&mn,ln=5*kn+1&15):kn<48?(Jt=Sn^mn^fn,ln=3*kn+5&15):(Jt=mn^(Sn|~fn),ln=7*kn&15);const pn=fn,wn=_n+Jt+Ht[kn]+On[ln]|0,Cn=Ot[kn];fn=mn,mn=Sn,Sn=Sn+(wn<<Cn|wn>>>32-Cn)|0,_n=pn}hn=hn+_n|0,on=on+Sn|0,cn=cn+mn|0,sn=sn+fn|0}return new Uint8Array([hn&255,hn>>8&255,hn>>16&255,hn>>>24&255,on&255,on>>8&255,on>>16&255,on>>>24&255,cn&255,cn>>8&255,cn>>16&255,cn>>>24&255,sn&255,sn>>8&255,sn>>16&255,sn>>>24&255])}return an}();Et.calculateMD5=bt;class Pt{constructor(Ot,Ht){this.high=Ot|0,this.low=Ht|0}and(Ot){this.high&=Ot.high,this.low&=Ot.low}xor(Ot){this.high^=Ot.high,this.low^=Ot.low}or(Ot){this.high|=Ot.high,this.low|=Ot.low}shiftRight(Ot){Ot>=32?(this.low=this.high>>>Ot-32|0,this.high=0):(this.low=this.low>>>Ot|this.high<<32-Ot,this.high=this.high>>>Ot|0)}shiftLeft(Ot){Ot>=32?(this.high=this.low<<Ot-32,this.low=0):(this.high=this.high<<Ot|this.low>>>32-Ot,this.low<<=Ot)}rotateRight(Ot){let Ht,an;Ot&32?(an=this.low,Ht=this.high):(Ht=this.low,an=this.high),Ot&=31,this.low=Ht>>>Ot|an<<32-Ot,this.high=an>>>Ot|Ht<<32-Ot}not(){this.high=~this.high,this.low=~this.low}add(Ot){const Ht=(this.low>>>0)+(Ot.low>>>0);let an=(this.high>>>0)+(Ot.high>>>0);Ht>4294967295&&(an+=1),this.low=Ht|0,this.high=an|0}copyTo(Ot,Ht){Ot[Ht]=this.high>>>24&255,Ot[Ht+1]=this.high>>16&255,Ot[Ht+2]=this.high>>8&255,Ot[Ht+3]=this.high&255,Ot[Ht+4]=this.low>>>24&255,Ot[Ht+5]=this.low>>16&255,Ot[Ht+6]=this.low>>8&255,Ot[Ht+7]=this.low&255}assign(Ot){this.high=Ot.high,this.low=Ot.low}}const Xt=function(){function Ot(sn,rn){return sn>>>rn|sn<<32-rn}function Ht(sn,rn,xn){return sn&rn^~sn&xn}function an(sn,rn,xn){return sn&rn^sn&xn^rn&xn}function zt(sn){return Ot(sn,2)^Ot(sn,13)^Ot(sn,22)}function Vt(sn){return Ot(sn,6)^Ot(sn,11)^Ot(sn,25)}function nn(sn){return Ot(sn,7)^Ot(sn,18)^sn>>>3}function hn(sn){return Ot(sn,17)^Ot(sn,19)^sn>>>10}const on=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function cn(sn,rn,xn){let vn=1779033703,kn=3144134277,Pn=1013904242,On=2773480762,_n=1359893119,Sn=2600822924,mn=528734635,fn=1541459225;const Jt=Math.ceil((xn+9)/64)*64,ln=new Uint8Array(Jt);let pn,wn;for(pn=0;pn<xn;++pn)ln[pn]=sn[rn++];ln[pn++]=128;const Cn=Jt-8;for(;pn<Cn;)ln[pn++]=0;ln[pn++]=0,ln[pn++]=0,ln[pn++]=0,ln[pn++]=xn>>>29&255,ln[pn++]=xn>>21&255,ln[pn++]=xn>>13&255,ln[pn++]=xn>>5&255,ln[pn++]=xn<<3&255;const Fn=new Uint32Array(64);for(pn=0;pn<Jt;){for(wn=0;wn<16;++wn)Fn[wn]=ln[pn]<<24|ln[pn+1]<<16|ln[pn+2]<<8|ln[pn+3],pn+=4;for(wn=16;wn<64;++wn)Fn[wn]=hn(Fn[wn-2])+Fn[wn-7]+nn(Fn[wn-15])+Fn[wn-16]|0;let En=vn,An=kn,Tn=Pn,In=On,Rn=_n,Dn=Sn,Ln=mn,Un=fn,tr,er;for(wn=0;wn<64;++wn)tr=Un+Vt(Rn)+Ht(Rn,Dn,Ln)+on[wn]+Fn[wn],er=zt(En)+an(En,An,Tn),Un=Ln,Ln=Dn,Dn=Rn,Rn=In+tr|0,In=Tn,Tn=An,An=En,En=tr+er|0;vn=vn+En|0,kn=kn+An|0,Pn=Pn+Tn|0,On=On+In|0,_n=_n+Rn|0,Sn=Sn+Dn|0,mn=mn+Ln|0,fn=fn+Un|0}return new Uint8Array([vn>>24&255,vn>>16&255,vn>>8&255,vn&255,kn>>24&255,kn>>16&255,kn>>8&255,kn&255,Pn>>24&255,Pn>>16&255,Pn>>8&255,Pn&255,On>>24&255,On>>16&255,On>>8&255,On&255,_n>>24&255,_n>>16&255,_n>>8&255,_n&255,Sn>>24&255,Sn>>16&255,Sn>>8&255,Sn&255,mn>>24&255,mn>>16&255,mn>>8&255,mn&255,fn>>24&255,fn>>16&255,fn>>8&255,fn&255])}return cn}();Et.calculateSHA256=Xt;const Kt=function(){function Ot(cn,sn,rn,xn,vn){cn.assign(sn),cn.and(rn),vn.assign(sn),vn.not(),vn.and(xn),cn.xor(vn)}function Ht(cn,sn,rn,xn,vn){cn.assign(sn),cn.and(rn),vn.assign(sn),vn.and(xn),cn.xor(vn),vn.assign(rn),vn.and(xn),cn.xor(vn)}function an(cn,sn,rn){cn.assign(sn),cn.rotateRight(28),rn.assign(sn),rn.rotateRight(34),cn.xor(rn),rn.assign(sn),rn.rotateRight(39),cn.xor(rn)}function zt(cn,sn,rn){cn.assign(sn),cn.rotateRight(14),rn.assign(sn),rn.rotateRight(18),cn.xor(rn),rn.assign(sn),rn.rotateRight(41),cn.xor(rn)}function Vt(cn,sn,rn){cn.assign(sn),cn.rotateRight(1),rn.assign(sn),rn.rotateRight(8),cn.xor(rn),rn.assign(sn),rn.shiftRight(7),cn.xor(rn)}function nn(cn,sn,rn){cn.assign(sn),cn.rotateRight(19),rn.assign(sn),rn.rotateRight(61),cn.xor(rn),rn.assign(sn),rn.shiftRight(6),cn.xor(rn)}const hn=[new Pt(1116352408,3609767458),new Pt(1899447441,602891725),new Pt(3049323471,3964484399),new Pt(3921009573,2173295548),new Pt(961987163,4081628472),new Pt(1508970993,3053834265),new Pt(2453635748,2937671579),new Pt(2870763221,3664609560),new Pt(3624381080,2734883394),new Pt(310598401,1164996542),new Pt(607225278,1323610764),new Pt(1426881987,3590304994),new Pt(1925078388,4068182383),new Pt(2162078206,991336113),new Pt(2614888103,633803317),new Pt(3248222580,3479774868),new Pt(3835390401,2666613458),new Pt(4022224774,944711139),new Pt(264347078,2341262773),new Pt(604807628,2007800933),new Pt(770255983,1495990901),new Pt(1249150122,1856431235),new Pt(1555081692,3175218132),new Pt(1996064986,2198950837),new Pt(2554220882,3999719339),new Pt(2821834349,766784016),new Pt(2952996808,2566594879),new Pt(3210313671,3203337956),new Pt(3336571891,1034457026),new Pt(3584528711,2466948901),new Pt(113926993,3758326383),new Pt(338241895,168717936),new Pt(666307205,1188179964),new Pt(773529912,1546045734),new Pt(1294757372,1522805485),new Pt(1396182291,2643833823),new Pt(1695183700,2343527390),new Pt(1986661051,1014477480),new Pt(2177026350,1206759142),new Pt(2456956037,344077627),new Pt(2730485921,1290863460),new Pt(2820302411,3158454273),new Pt(3259730800,3505952657),new Pt(3345764771,106217008),new Pt(3516065817,3606008344),new Pt(3600352804,1432725776),new Pt(4094571909,1467031594),new Pt(275423344,851169720),new Pt(430227734,3100823752),new Pt(506948616,1363258195),new Pt(659060556,3750685593),new Pt(883997877,3785050280),new Pt(958139571,3318307427),new Pt(1322822218,3812723403),new Pt(1537002063,2003034995),new Pt(1747873779,3602036899),new Pt(1955562222,1575990012),new Pt(2024104815,1125592928),new Pt(2227730452,2716904306),new Pt(2361852424,442776044),new Pt(2428436474,593698344),new Pt(2756734187,3733110249),new Pt(3204031479,2999351573),new Pt(3329325298,3815920427),new Pt(3391569614,3928383900),new Pt(3515267271,566280711),new Pt(3940187606,3454069534),new Pt(4118630271,4000239992),new Pt(116418474,1914138554),new Pt(174292421,2731055270),new Pt(289380356,3203993006),new Pt(460393269,320620315),new Pt(685471733,587496836),new Pt(852142971,1086792851),new Pt(1017036298,365543100),new Pt(1126000580,2618297676),new Pt(1288033470,3409855158),new Pt(1501505948,4234509866),new Pt(1607167915,987167468),new Pt(1816402316,1246189591)];function on(cn,sn,rn,xn=!1){let vn,kn,Pn,On,_n,Sn,mn,fn;xn?(vn=new Pt(3418070365,3238371032),kn=new Pt(1654270250,914150663),Pn=new Pt(2438529370,812702999),On=new Pt(355462360,4144912697),_n=new Pt(1731405415,4290775857),Sn=new Pt(2394180231,1750603025),mn=new Pt(3675008525,1694076839),fn=new Pt(1203062813,3204075428)):(vn=new Pt(1779033703,4089235720),kn=new Pt(3144134277,2227873595),Pn=new Pt(1013904242,4271175723),On=new Pt(2773480762,1595750129),_n=new Pt(1359893119,2917565137),Sn=new Pt(2600822924,725511199),mn=new Pt(528734635,4215389547),fn=new Pt(1541459225,327033209));const Jt=Math.ceil((rn+17)/128)*128,ln=new Uint8Array(Jt);let pn,wn;for(pn=0;pn<rn;++pn)ln[pn]=cn[sn++];ln[pn++]=128;const Cn=Jt-16;for(;pn<Cn;)ln[pn++]=0;ln[pn++]=0,ln[pn++]=0,ln[pn++]=0,ln[pn++]=0,ln[pn++]=0,ln[pn++]=0,ln[pn++]=0,ln[pn++]=0,ln[pn++]=0,ln[pn++]=0,ln[pn++]=0,ln[pn++]=rn>>>29&255,ln[pn++]=rn>>21&255,ln[pn++]=rn>>13&255,ln[pn++]=rn>>5&255,ln[pn++]=rn<<3&255;const Fn=new Array(80);for(pn=0;pn<80;pn++)Fn[pn]=new Pt(0,0);let En=new Pt(0,0),An=new Pt(0,0),Tn=new Pt(0,0),In=new Pt(0,0),Rn=new Pt(0,0),Dn=new Pt(0,0),Ln=new Pt(0,0),Un=new Pt(0,0);const tr=new Pt(0,0),er=new Pt(0,0),Qn=new Pt(0,0),Yn=new Pt(0,0);let Xn;for(pn=0;pn<Jt;){for(wn=0;wn<16;++wn)Fn[wn].high=ln[pn]<<24|ln[pn+1]<<16|ln[pn+2]<<8|ln[pn+3],Fn[wn].low=ln[pn+4]<<24|ln[pn+5]<<16|ln[pn+6]<<8|ln[pn+7],pn+=8;for(wn=16;wn<80;++wn)Xn=Fn[wn],nn(Xn,Fn[wn-2],Yn),Xn.add(Fn[wn-7]),Vt(Qn,Fn[wn-15],Yn),Xn.add(Qn),Xn.add(Fn[wn-16]);for(En.assign(vn),An.assign(kn),Tn.assign(Pn),In.assign(On),Rn.assign(_n),Dn.assign(Sn),Ln.assign(mn),Un.assign(fn),wn=0;wn<80;++wn)tr.assign(Un),zt(Qn,Rn,Yn),tr.add(Qn),Ot(Qn,Rn,Dn,Ln,Yn),tr.add(Qn),tr.add(hn[wn]),tr.add(Fn[wn]),an(er,En,Yn),Ht(Qn,En,An,Tn,Yn),er.add(Qn),Xn=Un,Un=Ln,Ln=Dn,Dn=Rn,In.add(tr),Rn=In,In=Tn,Tn=An,An=En,Xn.assign(tr),Xn.add(er),En=Xn;vn.add(En),kn.add(An),Pn.add(Tn),On.add(In),_n.add(Rn),Sn.add(Dn),mn.add(Ln),fn.add(Un)}let nr;return xn?(nr=new Uint8Array(48),vn.copyTo(nr,0),kn.copyTo(nr,8),Pn.copyTo(nr,16),On.copyTo(nr,24),_n.copyTo(nr,32),Sn.copyTo(nr,40)):(nr=new Uint8Array(64),vn.copyTo(nr,0),kn.copyTo(nr,8),Pn.copyTo(nr,16),On.copyTo(nr,24),_n.copyTo(nr,32),Sn.copyTo(nr,40),mn.copyTo(nr,48),fn.copyTo(nr,56)),nr}return on}();Et.calculateSHA512=Kt;function Nt(Ut,Ot,Ht){return Kt(Ut,Ot,Ht,!0)}class $t{decryptBlock(Ot){return Ot}encrypt(Ot){return Ot}}class Lt{constructor(){this.constructor===Lt&&(0,wt.unreachable)("Cannot initialize AESBaseCipher."),this._s=new Uint8Array([99,124,119,123,242,107,111,197,48,1,103,43,254,215,171,118,202,130,201,125,250,89,71,240,173,212,162,175,156,164,114,192,183,253,147,38,54,63,247,204,52,165,229,241,113,216,49,21,4,199,35,195,24,150,5,154,7,18,128,226,235,39,178,117,9,131,44,26,27,110,90,160,82,59,214,179,41,227,47,132,83,209,0,237,32,252,177,91,106,203,190,57,74,76,88,207,208,239,170,251,67,77,51,133,69,249,2,127,80,60,159,168,81,163,64,143,146,157,56,245,188,182,218,33,16,255,243,210,205,12,19,236,95,151,68,23,196,167,126,61,100,93,25,115,96,129,79,220,34,42,144,136,70,238,184,20,222,94,11,219,224,50,58,10,73,6,36,92,194,211,172,98,145,149,228,121,231,200,55,109,141,213,78,169,108,86,244,234,101,122,174,8,186,120,37,46,28,166,180,198,232,221,116,31,75,189,139,138,112,62,181,102,72,3,246,14,97,53,87,185,134,193,29,158,225,248,152,17,105,217,142,148,155,30,135,233,206,85,40,223,140,161,137,13,191,230,66,104,65,153,45,15,176,84,187,22]),this._inv_s=new Uint8Array([82,9,106,213,48,54,165,56,191,64,163,158,129,243,215,251,124,227,57,130,155,47,255,135,52,142,67,68,196,222,233,203,84,123,148,50,166,194,35,61,238,76,149,11,66,250,195,78,8,46,161,102,40,217,36,178,118,91,162,73,109,139,209,37,114,248,246,100,134,104,152,22,212,164,92,204,93,101,182,146,108,112,72,80,253,237,185,218,94,21,70,87,167,141,157,132,144,216,171,0,140,188,211,10,247,228,88,5,184,179,69,6,208,44,30,143,202,63,15,2,193,175,189,3,1,19,138,107,58,145,17,65,79,103,220,234,151,242,207,206,240,180,230,115,150,172,116,34,231,173,53,133,226,249,55,232,28,117,223,110,71,241,26,113,29,41,197,137,111,183,98,14,170,24,190,27,252,86,62,75,198,210,121,32,154,219,192,254,120,205,90,244,31,221,168,51,136,7,199,49,177,18,16,89,39,128,236,95,96,81,127,169,25,181,74,13,45,229,122,159,147,201,156,239,160,224,59,77,174,42,245,176,200,235,187,60,131,83,153,97,23,43,4,126,186,119,214,38,225,105,20,99,85,33,12,125]),this._mix=new Uint32Array([0,235474187,470948374,303765277,941896748,908933415,607530554,708780849,1883793496,2118214995,1817866830,1649639237,1215061108,1181045119,1417561698,1517767529,3767586992,4003061179,4236429990,4069246893,3635733660,3602770327,3299278474,3400528769,2430122216,2664543715,2362090238,2193862645,2835123396,2801107407,3035535058,3135740889,3678124923,3576870512,3341394285,3374361702,3810496343,3977675356,4279080257,4043610186,2876494627,2776292904,3076639029,3110650942,2472011535,2640243204,2403728665,2169303058,1001089995,899835584,666464733,699432150,59727847,226906860,530400753,294930682,1273168787,1172967064,1475418501,1509430414,1942435775,2110667444,1876241833,1641816226,2910219766,2743034109,2976151520,3211623147,2505202138,2606453969,2302690252,2269728455,3711829422,3543599269,3240894392,3475313331,3843699074,3943906441,4178062228,4144047775,1306967366,1139781709,1374988112,1610459739,1975683434,2076935265,1775276924,1742315127,1034867998,866637845,566021896,800440835,92987698,193195065,429456164,395441711,1984812685,2017778566,1784663195,1683407248,1315562145,1080094634,1383856311,1551037884,101039829,135050206,437757123,337553864,1042385657,807962610,573804783,742039012,2531067453,2564033334,2328828971,2227573024,2935566865,2700099354,3001755655,3168937228,3868552805,3902563182,4203181171,4102977912,3736164937,3501741890,3265478751,3433712980,1106041591,1340463100,1576976609,1408749034,2043211483,2009195472,1708848333,1809054150,832877231,1068351396,766945465,599762354,159417987,126454664,361929877,463180190,2709260871,2943682380,3178106961,3009879386,2572697195,2538681184,2236228733,2336434550,3509871135,3745345300,3441850377,3274667266,3910161971,3877198648,4110568485,4211818798,2597806476,2497604743,2261089178,2295101073,2733856160,2902087851,3202437046,2968011453,3936291284,3835036895,4136440770,4169408201,3535486456,3702665459,3467192302,3231722213,2051518780,1951317047,1716890410,1750902305,1113818384,1282050075,1584504582,1350078989,168810852,67556463,371049330,404016761,841739592,1008918595,775550814,540080725,3969562369,3801332234,4035489047,4269907996,3569255213,3669462566,3366754619,3332740144,2631065433,2463879762,2160117071,2395588676,2767645557,2868897406,3102011747,3069049960,202008497,33778362,270040487,504459436,875451293,975658646,675039627,641025152,2084704233,1917518562,1615861247,1851332852,1147550661,1248802510,1484005843,1451044056,933301370,967311729,733156972,632953703,260388950,25965917,328671808,496906059,1206477858,1239443753,1543208500,1441952575,2144161806,1908694277,1675577880,1842759443,3610369226,3644379585,3408119516,3307916247,4011190502,3776767469,4077384432,4245618683,2809771154,2842737049,3144396420,3043140495,2673705150,2438237621,2203032232,2370213795]),this._mixCol=new Uint8Array(256);for(let Ot=0;Ot<256;Ot++)this._mixCol[Ot]=Ot<128?Ot<<1:Ot<<1^27;this.buffer=new Uint8Array(16),this.bufferPosition=0}_expandKey(Ot){(0,wt.unreachable)("Cannot call `_expandKey` on the base class")}_decrypt(Ot,Ht){let an,zt,Vt;const nn=new Uint8Array(16);nn.set(Ot);for(let hn=0,on=this._keySize;hn<16;++hn,++on)nn[hn]^=Ht[on];for(let hn=this._cyclesOfRepetition-1;hn>=1;--hn){an=nn[13],nn[13]=nn[9],nn[9]=nn[5],nn[5]=nn[1],nn[1]=an,an=nn[14],zt=nn[10],nn[14]=nn[6],nn[10]=nn[2],nn[6]=an,nn[2]=zt,an=nn[15],zt=nn[11],Vt=nn[7],nn[15]=nn[3],nn[11]=an,nn[7]=zt,nn[3]=Vt;for(let on=0;on<16;++on)nn[on]=this._inv_s[nn[on]];for(let on=0,cn=hn*16;on<16;++on,++cn)nn[on]^=Ht[cn];for(let on=0;on<16;on+=4){const cn=this._mix[nn[on]],sn=this._mix[nn[on+1]],rn=this._mix[nn[on+2]],xn=this._mix[nn[on+3]];an=cn^sn>>>8^sn<<24^rn>>>16^rn<<16^xn>>>24^xn<<8,nn[on]=an>>>24&255,nn[on+1]=an>>16&255,nn[on+2]=an>>8&255,nn[on+3]=an&255}}an=nn[13],nn[13]=nn[9],nn[9]=nn[5],nn[5]=nn[1],nn[1]=an,an=nn[14],zt=nn[10],nn[14]=nn[6],nn[10]=nn[2],nn[6]=an,nn[2]=zt,an=nn[15],zt=nn[11],Vt=nn[7],nn[15]=nn[3],nn[11]=an,nn[7]=zt,nn[3]=Vt;for(let hn=0;hn<16;++hn)nn[hn]=this._inv_s[nn[hn]],nn[hn]^=Ht[hn];return nn}_encrypt(Ot,Ht){const an=this._s;let zt,Vt,nn;const hn=new Uint8Array(16);hn.set(Ot);for(let on=0;on<16;++on)hn[on]^=Ht[on];for(let on=1;on<this._cyclesOfRepetition;on++){for(let cn=0;cn<16;++cn)hn[cn]=an[hn[cn]];nn=hn[1],hn[1]=hn[5],hn[5]=hn[9],hn[9]=hn[13],hn[13]=nn,nn=hn[2],Vt=hn[6],hn[2]=hn[10],hn[6]=hn[14],hn[10]=nn,hn[14]=Vt,nn=hn[3],Vt=hn[7],zt=hn[11],hn[3]=hn[15],hn[7]=nn,hn[11]=Vt,hn[15]=zt;for(let cn=0;cn<16;cn+=4){const sn=hn[cn+0],rn=hn[cn+1],xn=hn[cn+2],vn=hn[cn+3];zt=sn^rn^xn^vn,hn[cn+0]^=zt^this._mixCol[sn^rn],hn[cn+1]^=zt^this._mixCol[rn^xn],hn[cn+2]^=zt^this._mixCol[xn^vn],hn[cn+3]^=zt^this._mixCol[vn^sn]}for(let cn=0,sn=on*16;cn<16;++cn,++sn)hn[cn]^=Ht[sn]}for(let on=0;on<16;++on)hn[on]=an[hn[on]];nn=hn[1],hn[1]=hn[5],hn[5]=hn[9],hn[9]=hn[13],hn[13]=nn,nn=hn[2],Vt=hn[6],hn[2]=hn[10],hn[6]=hn[14],hn[10]=nn,hn[14]=Vt,nn=hn[3],Vt=hn[7],zt=hn[11],hn[3]=hn[15],hn[7]=nn,hn[11]=Vt,hn[15]=zt;for(let on=0,cn=this._keySize;on<16;++on,++cn)hn[on]^=Ht[cn];return hn}_decryptBlock2(Ot,Ht){const an=Ot.length;let zt=this.buffer,Vt=this.bufferPosition;const nn=[];let hn=this.iv;for(let sn=0;sn<an;++sn){if(zt[Vt]=Ot[sn],++Vt,Vt<16)continue;const rn=this._decrypt(zt,this._key);for(let xn=0;xn<16;++xn)rn[xn]^=hn[xn];hn=zt,nn.push(rn),zt=new Uint8Array(16),Vt=0}if(this.buffer=zt,this.bufferLength=Vt,this.iv=hn,nn.length===0)return new Uint8Array(0);let on=16*nn.length;if(Ht){const sn=nn.at(-1);let rn=sn[15];if(rn<=16){for(let xn=15,vn=16-rn;xn>=vn;--xn)if(sn[xn]!==rn){rn=0;break}on-=rn,nn[nn.length-1]=sn.subarray(0,16-rn)}}const cn=new Uint8Array(on);for(let sn=0,rn=0,xn=nn.length;sn<xn;++sn,rn+=16)cn.set(nn[sn],rn);return cn}decryptBlock(Ot,Ht,an=null){const zt=Ot.length,Vt=this.buffer;let nn=this.bufferPosition;if(an)this.iv=an;else{for(let hn=0;nn<16&&hn<zt;++hn,++nn)Vt[nn]=Ot[hn];if(nn<16)return this.bufferLength=nn,new Uint8Array(0);this.iv=Vt,Ot=Ot.subarray(16)}return this.buffer=new Uint8Array(16),this.bufferLength=0,this.decryptBlock=this._decryptBlock2,this.decryptBlock(Ot,Ht)}encrypt(Ot,Ht){const an=Ot.length;let zt=this.buffer,Vt=this.bufferPosition;const nn=[];Ht||(Ht=new Uint8Array(16));for(let cn=0;cn<an;++cn){if(zt[Vt]=Ot[cn],++Vt,Vt<16)continue;for(let rn=0;rn<16;++rn)zt[rn]^=Ht[rn];const sn=this._encrypt(zt,this._key);Ht=sn,nn.push(sn),zt=new Uint8Array(16),Vt=0}if(this.buffer=zt,this.bufferLength=Vt,this.iv=Ht,nn.length===0)return new Uint8Array(0);const hn=16*nn.length,on=new Uint8Array(hn);for(let cn=0,sn=0,rn=nn.length;cn<rn;++cn,sn+=16)on.set(nn[cn],sn);return on}}class jt extends Lt{constructor(Ot){super(),this._cyclesOfRepetition=10,this._keySize=160,this._rcon=new Uint8Array([141,1,2,4,8,16,32,64,128,27,54,108,216,171,77,154,47,94,188,99,198,151,53,106,212,179,125,250,239,197,145,57,114,228,211,189,97,194,159,37,74,148,51,102,204,131,29,58,116,232,203,141,1,2,4,8,16,32,64,128,27,54,108,216,171,77,154,47,94,188,99,198,151,53,106,212,179,125,250,239,197,145,57,114,228,211,189,97,194,159,37,74,148,51,102,204,131,29,58,116,232,203,141,1,2,4,8,16,32,64,128,27,54,108,216,171,77,154,47,94,188,99,198,151,53,106,212,179,125,250,239,197,145,57,114,228,211,189,97,194,159,37,74,148,51,102,204,131,29,58,116,232,203,141,1,2,4,8,16,32,64,128,27,54,108,216,171,77,154,47,94,188,99,198,151,53,106,212,179,125,250,239,197,145,57,114,228,211,189,97,194,159,37,74,148,51,102,204,131,29,58,116,232,203,141,1,2,4,8,16,32,64,128,27,54,108,216,171,77,154,47,94,188,99,198,151,53,106,212,179,125,250,239,197,145,57,114,228,211,189,97,194,159,37,74,148,51,102,204,131,29,58,116,232,203,141]),this._key=this._expandKey(Ot)}_expandKey(Ot){const an=this._s,zt=this._rcon,Vt=new Uint8Array(176);Vt.set(Ot);for(let nn=16,hn=1;nn<176;++hn){let on=Vt[nn-3],cn=Vt[nn-2],sn=Vt[nn-1],rn=Vt[nn-4];on=an[on],cn=an[cn],sn=an[sn],rn=an[rn],on^=zt[hn];for(let xn=0;xn<4;++xn)Vt[nn]=on^=Vt[nn-16],nn++,Vt[nn]=cn^=Vt[nn-16],nn++,Vt[nn]=sn^=Vt[nn-16],nn++,Vt[nn]=rn^=Vt[nn-16],nn++}return Vt}}Et.AES128Cipher=jt;class kt extends Lt{constructor(Ot){super(),this._cyclesOfRepetition=14,this._keySize=224,this._key=this._expandKey(Ot)}_expandKey(Ot){const an=this._s,zt=new Uint8Array(240);zt.set(Ot);let Vt=1,nn,hn,on,cn;for(let sn=32,rn=1;sn<240;++rn){sn%32===16?(nn=an[nn],hn=an[hn],on=an[on],cn=an[cn]):sn%32===0&&(nn=zt[sn-3],hn=zt[sn-2],on=zt[sn-1],cn=zt[sn-4],nn=an[nn],hn=an[hn],on=an[on],cn=an[cn],nn^=Vt,(Vt<<=1)>=256&&(Vt=(Vt^27)&255));for(let xn=0;xn<4;++xn)zt[sn]=nn^=zt[sn-32],sn++,zt[sn]=hn^=zt[sn-32],sn++,zt[sn]=on^=zt[sn-32],sn++,zt[sn]=cn^=zt[sn-32],sn++}return zt}}Et.AES256Cipher=kt;class qt{checkOwnerPassword(Ot,Ht,an,zt){const Vt=new Uint8Array(Ot.length+56);Vt.set(Ot,0),Vt.set(Ht,Ot.length),Vt.set(an,Ot.length+Ht.length);const nn=Xt(Vt,0,Vt.length);return(0,wt.isArrayEqual)(nn,zt)}checkUserPassword(Ot,Ht,an){const zt=new Uint8Array(Ot.length+8);zt.set(Ot,0),zt.set(Ht,Ot.length);const Vt=Xt(zt,0,zt.length);return(0,wt.isArrayEqual)(Vt,an)}getOwnerKey(Ot,Ht,an,zt){const Vt=new Uint8Array(Ot.length+56);Vt.set(Ot,0),Vt.set(Ht,Ot.length),Vt.set(an,Ot.length+Ht.length);const nn=Xt(Vt,0,Vt.length);return new kt(nn).decryptBlock(zt,!1,new Uint8Array(16))}getUserKey(Ot,Ht,an){const zt=new Uint8Array(Ot.length+8);zt.set(Ot,0),zt.set(Ht,Ot.length);const Vt=Xt(zt,0,zt.length);return new kt(Vt).decryptBlock(an,!1,new Uint8Array(16))}}Et.PDF17=qt;class Bt{_hash(Ot,Ht,an){let zt=Xt(Ht,0,Ht.length).subarray(0,32),Vt=[0],nn=0;for(;nn<64||Vt.at(-1)>nn-32;){const hn=Ot.length+zt.length+an.length,on=new Uint8Array(hn);let cn=0;on.set(Ot,cn),cn+=Ot.length,on.set(zt,cn),cn+=zt.length,on.set(an,cn);const sn=new Uint8Array(hn*64);for(let vn=0,kn=0;vn<64;vn++,kn+=hn)sn.set(on,kn);Vt=new jt(zt.subarray(0,16)).encrypt(sn,zt.subarray(16,32));const xn=Vt.slice(0,16).reduce((vn,kn)=>vn+kn,0)%3;xn===0?zt=Xt(Vt,0,Vt.length):xn===1?zt=Nt(Vt,0,Vt.length):xn===2&&(zt=Kt(Vt,0,Vt.length)),nn++}return zt.subarray(0,32)}checkOwnerPassword(Ot,Ht,an,zt){const Vt=new Uint8Array(Ot.length+56);Vt.set(Ot,0),Vt.set(Ht,Ot.length),Vt.set(an,Ot.length+Ht.length);const nn=this._hash(Ot,Vt,an);return(0,wt.isArrayEqual)(nn,zt)}checkUserPassword(Ot,Ht,an){const zt=new Uint8Array(Ot.length+8);zt.set(Ot,0),zt.set(Ht,Ot.length);const Vt=this._hash(Ot,zt,[]);return(0,wt.isArrayEqual)(Vt,an)}getOwnerKey(Ot,Ht,an,zt){const Vt=new Uint8Array(Ot.length+56);Vt.set(Ot,0),Vt.set(Ht,Ot.length),Vt.set(an,Ot.length+Ht.length);const nn=this._hash(Ot,Vt,an);return new kt(nn).decryptBlock(zt,!1,new Uint8Array(16))}getUserKey(Ot,Ht,an){const zt=new Uint8Array(Ot.length+8);zt.set(Ot,0),zt.set(Ht,Ot.length);const Vt=this._hash(Ot,zt,[]);return new kt(Vt).decryptBlock(an,!1,new Uint8Array(16))}}Et.PDF20=Bt;class Gt{constructor(Ot,Ht){this.StringCipherConstructor=Ot,this.StreamCipherConstructor=Ht}createStream(Ot,Ht){const an=new this.StreamCipherConstructor;return new Rt.DecryptStream(Ot,Ht,function(Vt,nn){return an.decryptBlock(Vt,nn)})}decryptString(Ot){const Ht=new this.StringCipherConstructor;let an=(0,wt.stringToBytes)(Ot);return an=Ht.decryptBlock(an,!0),(0,wt.bytesToString)(an)}encryptString(Ot){const Ht=new this.StringCipherConstructor;if(Ht instanceof Lt){const Vt=16-Ot.length%16;Ot+=String.fromCharCode(Vt).repeat(Vt);const nn=new Uint8Array(16);if(typeof crypto<"u")crypto.getRandomValues(nn);else for(let cn=0;cn<16;cn++)nn[cn]=Math.floor(256*Math.random());let hn=(0,wt.stringToBytes)(Ot);hn=Ht.encrypt(hn,nn);const on=new Uint8Array(16+hn.length);return on.set(nn),on.set(hn,16),(0,wt.bytesToString)(on)}let an=(0,wt.stringToBytes)(Ot);return an=Ht.encrypt(an),(0,wt.bytesToString)(an)}}const un=class un{constructor(Ot,Ht,an){Nn(this,Qt);const zt=Ot.get("Filter");if(!(0,_t.isName)(zt,"Standard"))throw new wt.FormatError("unknown encryption method");this.filterName=zt.name,this.dict=Ot;const Vt=Ot.get("V");if(!Number.isInteger(Vt)||Vt!==1&&Vt!==2&&Vt!==4&&Vt!==5)throw new wt.FormatError("unsupported encryption algorithm");this.algorithm=Vt;let nn=Ot.get("Length");if(!nn)if(Vt<=3)nn=40;else{const _n=Ot.get("CF"),Sn=Ot.get("StmF");if(_n instanceof _t.Dict&&Sn instanceof _t.Name){_n.suppressEncryption=!0;const mn=_n.get(Sn.name);nn=(mn==null?void 0:mn.get("Length"))||128,nn<40&&(nn<<=3)}}if(!Number.isInteger(nn)||nn<40||nn%8!==0)throw new wt.FormatError("invalid key length");const hn=(0,wt.stringToBytes)(Ot.get("O")),on=(0,wt.stringToBytes)(Ot.get("U")),cn=hn.subarray(0,32),sn=on.subarray(0,32),rn=Ot.get("P"),xn=Ot.get("R"),vn=(Vt===4||Vt===5)&&Ot.get("EncryptMetadata")!==!1;this.encryptMetadata=vn;const kn=(0,wt.stringToBytes)(Ht);let Pn;if(an){if(xn===6)try{an=(0,wt.utf8StringToString)(an)}catch{(0,wt.warn)("CipherTransformFactory: Unable to convert UTF8 encoded password.")}Pn=(0,wt.stringToBytes)(an)}let On;if(Vt!==5)On=Mn(this,Qt,J3).call(this,kn,Pn,cn,sn,rn,xn,nn,vn);else{const _n=hn.subarray(32,40),Sn=hn.subarray(40,48),mn=on.subarray(0,48),fn=on.subarray(32,40),Jt=on.subarray(40,48),ln=(0,wt.stringToBytes)(Ot.get("OE")),pn=(0,wt.stringToBytes)(Ot.get("UE")),wn=(0,wt.stringToBytes)(Ot.get("Perms"));On=Mn(this,Qt,w5).call(this,xn,Pn,cn,_n,Sn,mn,sn,fn,Jt,ln,pn,wn)}if(!On&&!an)throw new wt.PasswordException("No password given",wt.PasswordResponses.NEED_PASSWORD);if(!On&&an){const _n=Mn(this,Qt,A5).call(this,Pn,cn,xn,nn);On=Mn(this,Qt,J3).call(this,kn,_n,cn,sn,rn,xn,nn,vn)}if(!On)throw new wt.PasswordException("Incorrect Password",wt.PasswordResponses.INCORRECT_PASSWORD);if(this.encryptionKey=On,Vt>=4){const _n=Ot.get("CF");_n instanceof _t.Dict&&(_n.suppressEncryption=!0),this.cf=_n,this.stmf=Ot.get("StmF")||_t.Name.get("Identity"),this.strf=Ot.get("StrF")||_t.Name.get("Identity"),this.eff=Ot.get("EFF")||this.stmf}}createCipherTransform(Ot,Ht){if(this.algorithm===4||this.algorithm===5)return new Gt(Mn(this,Qt,Q3).call(this,this.cf,this.strf,Ot,Ht,this.encryptionKey),Mn(this,Qt,Q3).call(this,this.cf,this.stmf,Ot,Ht,this.encryptionKey));const an=Mn(this,Qt,B2).call(this,Ot,Ht,this.encryptionKey,!1),zt=function(){return new _e(an)};return new Gt(zt,zt)}};dn=new WeakMap,Qt=new WeakSet,w5=function(Ot,Ht,an,zt,Vt,nn,hn,on,cn,sn,rn,xn){if(Ht){const kn=Math.min(127,Ht.length);Ht=Ht.subarray(0,kn)}else Ht=[];const vn=Ot===6?new Bt:new qt;return vn.checkUserPassword(Ht,on,hn)?vn.getUserKey(Ht,cn,rn):Ht.length&&vn.checkOwnerPassword(Ht,zt,nn,an)?vn.getOwnerKey(Ht,Vt,nn,sn):null},J3=function(Ot,Ht,an,zt,Vt,nn,hn,on){const cn=40+an.length+Ot.length,sn=new Uint8Array(cn);let rn=0,xn,vn;if(Ht)for(vn=Math.min(32,Ht.length);rn<vn;++rn)sn[rn]=Ht[rn];for(xn=0;rn<32;)sn[rn++]=Mt(un,dn)[xn++];for(xn=0,vn=an.length;xn<vn;++xn)sn[rn++]=an[xn];for(sn[rn++]=Vt&255,sn[rn++]=Vt>>8&255,sn[rn++]=Vt>>16&255,sn[rn++]=Vt>>>24&255,xn=0,vn=Ot.length;xn<vn;++xn)sn[rn++]=Ot[xn];nn>=4&&!on&&(sn[rn++]=255,sn[rn++]=255,sn[rn++]=255,sn[rn++]=255);let kn=bt(sn,0,rn);const Pn=hn>>3;if(nn>=3)for(xn=0;xn<50;++xn)kn=bt(kn,0,Pn);const On=kn.subarray(0,Pn);let _n,Sn;if(nn>=3){for(rn=0;rn<32;++rn)sn[rn]=Mt(un,dn)[rn];for(xn=0,vn=Ot.length;xn<vn;++xn)sn[rn++]=Ot[xn];_n=new _e(On),Sn=_n.encryptBlock(bt(sn,0,rn)),vn=On.length;const mn=new Uint8Array(vn);for(xn=1;xn<=19;++xn){for(let fn=0;fn<vn;++fn)mn[fn]=On[fn]^xn;_n=new _e(mn),Sn=_n.encryptBlock(Sn)}for(xn=0,vn=Sn.length;xn<vn;++xn)if(zt[xn]!==Sn[xn])return null}else for(_n=new _e(On),Sn=_n.encryptBlock(Mt(un,dn)),xn=0,vn=Sn.length;xn<vn;++xn)if(zt[xn]!==Sn[xn])return null;return On},A5=function(Ot,Ht,an,zt){const Vt=new Uint8Array(32);let nn=0;const hn=Math.min(32,Ot.length);for(;nn<hn;++nn)Vt[nn]=Ot[nn];let on=0;for(;nn<32;)Vt[nn++]=Mt(un,dn)[on++];let cn=bt(Vt,0,nn);const sn=zt>>3;if(an>=3)for(on=0;on<50;++on)cn=bt(cn,0,cn.length);let rn,xn;if(an>=3){xn=Ht;const vn=new Uint8Array(sn);for(on=19;on>=0;on--){for(let kn=0;kn<sn;++kn)vn[kn]=cn[kn]^on;rn=new _e(vn),xn=rn.encryptBlock(xn)}}else rn=new _e(cn.subarray(0,sn)),xn=rn.encryptBlock(Ht);return xn},B2=function(Ot,Ht,an,zt=!1){const Vt=new Uint8Array(an.length+9),nn=an.length;let hn;for(hn=0;hn<nn;++hn)Vt[hn]=an[hn];return Vt[hn++]=Ot&255,Vt[hn++]=Ot>>8&255,Vt[hn++]=Ot>>16&255,Vt[hn++]=Ht&255,Vt[hn++]=Ht>>8&255,zt&&(Vt[hn++]=115,Vt[hn++]=65,Vt[hn++]=108,Vt[hn++]=84),bt(Vt,0,hn).subarray(0,Math.min(an.length+5,16))},Q3=function(Ot,Ht,an,zt,Vt){if(!(Ht instanceof _t.Name))throw new wt.FormatError("Invalid crypt filter name.");const nn=this,hn=Ot.get(Ht.name),on=hn==null?void 0:hn.get("CFM");if(!on||on.name==="None")return function(){return new $t};if(on.name==="V2")return function(){var cn;return new _e(Mn(cn=nn,Qt,B2).call(cn,an,zt,Vt,!1))};if(on.name==="AESV2")return function(){var cn;return new jt(Mn(cn=nn,Qt,B2).call(cn,an,zt,Vt,!0))};if(on.name==="AESV3")return function(){return new kt(Vt)};throw new wt.FormatError("Unknown crypto method")},Nn(un,dn,new Uint8Array([40,191,78,94,78,117,138,65,100,0,78,86,255,250,1,8,46,46,0,182,208,104,62,128,47,12,169,254,100,83,105,122]));let en=un;Et.CipherTransformFactory=en},(Ct,Et,Ft)=>{Object.defineProperty(Et,"__esModule",{value:!0}),Et.DecryptStream=void 0;var wt=Ft(18);const _t=512;class Rt extends wt.DecodeStream{constructor(bt,Pt,Xt){super(Pt),this.str=bt,this.dict=bt.dict,this.decrypt=Xt,this.nextChunk=null,this.initialized=!1}readBlock(){var Lt;let bt;if(this.initialized?bt=this.nextChunk:(bt=this.str.getBytes(_t),this.initialized=!0),!bt||bt.length===0){this.eof=!0;return}this.nextChunk=this.str.getBytes(_t);const Pt=((Lt=this.nextChunk)==null?void 0:Lt.length)>0,Xt=this.decrypt;bt=Xt(bt,!Pt);const Kt=this.bufferLength,Nt=Kt+bt.length;this.ensureBuffer(Nt).set(bt,Kt),this.bufferLength=Nt}}Et.DecryptStream=Rt},(Ct,Et,Ft)=>{Object.defineProperty(Et,"__esModule",{value:!0}),Et.ObjectLoader=void 0;var wt=Ft(4),_t=Ft(5),Rt=Ft(3),_e=Ft(2);function bt(Kt){return Kt instanceof wt.Ref||Kt instanceof wt.Dict||Kt instanceof _t.BaseStream||Array.isArray(Kt)}function Pt(Kt,Nt){if(Kt instanceof wt.Dict)Kt=Kt.getRawValues();else if(Kt instanceof _t.BaseStream)Kt=Kt.dict.getRawValues();else if(!Array.isArray(Kt))return;for(const $t of Kt)bt($t)&&Nt.push($t)}class Xt{constructor(Nt,$t,Lt){this.dict=Nt,this.keys=$t,this.xref=Lt,this.refSet=null}async load(){if(this.xref.stream.isDataLoaded)return;const{keys:Nt,dict:$t}=this;this.refSet=new wt.RefSet;const Lt=[];for(const jt of Nt){const kt=$t.getRaw(jt);kt!==void 0&&Lt.push(kt)}return this._walk(Lt)}async _walk(Nt){const $t=[],Lt=[];for(;Nt.length;){let jt=Nt.pop();if(jt instanceof wt.Ref){if(this.refSet.has(jt))continue;try{this.refSet.put(jt),jt=this.xref.fetch(jt)}catch(kt){if(!(kt instanceof Rt.MissingDataException)){(0,_e.warn)(`ObjectLoader._walk - requesting all data: "${kt}".`),this.refSet=null;const{manager:qt}=this.xref.stream;return qt.requestAllChunks()}$t.push(jt),Lt.push({begin:kt.begin,end:kt.end})}}if(jt instanceof _t.BaseStream){const kt=jt.getBaseStreams();if(kt){let qt=!1;for(const Bt of kt)Bt.isDataLoaded||(qt=!0,Lt.push({begin:Bt.start,end:Bt.end}));qt&&$t.push(jt)}}Pt(jt,Nt)}if(Lt.length){await this.xref.stream.manager.requestRanges(Lt);for(const jt of $t)jt instanceof wt.Ref&&this.refSet.remove(jt);return this._walk($t)}this.refSet=null}}Et.ObjectLoader=Xt},(Ct,Et,Ft)=>{Object.defineProperty(Et,"__esModule",{value:!0}),Et.XFAFactory=void 0;var wt=Ft(78),_t=Ft(79),Rt=Ft(89),_e=Ft(85),bt=Ft(84),Pt=Ft(2),Xt=Ft(90),Kt=Ft(100);class Nt{constructor(Lt){try{this.root=new Xt.XFAParser().parse(Nt._createDocument(Lt));const jt=new _t.Binder(this.root);this.form=jt.bind(),this.dataHandler=new Rt.DataHandler(this.root,jt.getData()),this.form[wt.$globalData].template=this.form}catch(jt){(0,Pt.warn)(`XFA - an error occurred during parsing and binding: ${jt}`)}}isValid(){return this.root&&this.form}_createPagesHelper(){const Lt=this.form[wt.$toPages]();return new Promise((jt,kt)=>{const qt=()=>{try{const Bt=Lt.next();Bt.done?jt(Bt.value):setTimeout(qt,0)}catch(Bt){kt(Bt)}};setTimeout(qt,0)})}async _createPages(){try{this.pages=await this._createPagesHelper(),this.dims=this.pages.children.map(Lt=>{const{width:jt,height:kt}=Lt.attributes.style;return[0,0,parseInt(jt),parseInt(kt)]})}catch(Lt){(0,Pt.warn)(`XFA - an error occurred during layout: ${Lt}`)}}getBoundingBox(Lt){return this.dims[Lt]}async getNumPages(){return this.pages||await this._createPages(),this.dims.length}setImages(Lt){this.form[wt.$globalData].images=Lt}setFonts(Lt){this.form[wt.$globalData].fontFinder=new _e.FontFinder(Lt);const jt=[];for(let kt of this.form[wt.$globalData].usedTypefaces)kt=(0,bt.stripQuotes)(kt),this.form[wt.$globalData].fontFinder.find(kt)||jt.push(kt);return jt.length>0?jt:null}appendFonts(Lt,jt){this.form[wt.$globalData].fontFinder.add(Lt,jt)}async getPages(){this.pages||await this._createPages();const Lt=this.pages;return this.pages=null,Lt}serializeData(Lt){return this.dataHandler.serialize(Lt)}static _createDocument(Lt){return Lt["/xdp:xdp"]?Object.values(Lt).join(""):Lt["xdp:xdp"]}static getRichTextAsHtml(Lt){if(!Lt||typeof Lt!="string")return null;try{let jt=new Xt.XFAParser(Kt.XhtmlNamespace,!0).parse(Lt);if(!["body","xhtml"].includes(jt[wt.$nodeName])){const Gt=Kt.XhtmlNamespace.body({});Gt[wt.$appendChild](jt),jt=Gt}const kt=jt[wt.$toHTML]();if(!kt.success)return null;const{html:qt}=kt,{attributes:Bt}=qt;return Bt&&(Bt.class&&(Bt.class=Bt.class.filter(Gt=>!Gt.startsWith("xfa"))),Bt.dir="auto"),{html:qt,str:jt[wt.$text]()}}catch(jt){(0,Pt.warn)(`XFA - an error occurred during parsing of rich text: ${jt}`)}return null}}Et.XFAFactory=Nt},(Ct,Et)=>{Object.defineProperty(Et,"__esModule",{value:!0}),Et.$uid=Et.$toStyle=Et.$toString=Et.$toPages=Et.$toHTML=Et.$text=Et.$tabIndex=Et.$setValue=Et.$setSetAttributes=Et.$setId=Et.$searchNode=Et.$root=Et.$resolvePrototypes=Et.$removeChild=Et.$pushPara=Et.$pushGlyphs=Et.$popPara=Et.$onText=Et.$onChildCheck=Et.$onChild=Et.$nsAttributes=Et.$nodeName=Et.$namespaceId=Et.$lastAttribute=Et.$isUsable=Et.$isTransparent=Et.$isThereMoreWidth=Et.$isSplittable=Et.$isNsAgnostic=Et.$isDescendent=Et.$isDataValue=Et.$isCDATAXml=Et.$isBindable=Et.$insertAt=Et.$indexOf=Et.$ids=Et.$hasSettableValue=Et.$globalData=Et.$getTemplateRoot=Et.$getSubformParent=Et.$getRealChildrenByNameIt=Et.$getParent=Et.$getNextPage=Et.$getExtra=Et.$getDataValue=Et.$getContainedChildren=Et.$getChildrenByNameIt=Et.$getChildrenByName=Et.$getChildrenByClass=Et.$getChildren=Et.$getAvailableSpace=Et.$getAttributes=Et.$getAttributeIt=Et.$flushHTML=Et.$finalize=Et.$extra=Et.$dump=Et.$data=Et.$content=Et.$consumed=Et.$clone=Et.$cleanup=Et.$cleanPage=Et.$clean=Et.$childrenToHTML=Et.$appendChild=Et.$addHTML=Et.$acceptWhitespace=void 0;const Ft=Symbol();Et.$acceptWhitespace=Ft;const wt=Symbol();Et.$addHTML=wt;const _t=Symbol();Et.$appendChild=_t;const Rt=Symbol();Et.$childrenToHTML=Rt;const _e=Symbol();Et.$clean=_e;const bt=Symbol();Et.$cleanPage=bt;const Pt=Symbol();Et.$cleanup=Pt;const Xt=Symbol();Et.$clone=Xt;const Kt=Symbol();Et.$consumed=Kt;const Nt=Symbol("content");Et.$content=Nt;const $t=Symbol("data");Et.$data=$t;const Lt=Symbol();Et.$dump=Lt;const jt=Symbol("extra");Et.$extra=jt;const kt=Symbol();Et.$finalize=kt;const qt=Symbol();Et.$flushHTML=qt;const Bt=Symbol();Et.$getAttributeIt=Bt;const Gt=Symbol();Et.$getAttributes=Gt;const en=Symbol();Et.$getAvailableSpace=en;const dn=Symbol();Et.$getChildrenByClass=dn;const Qt=Symbol();Et.$getChildrenByName=Qt;const gn=Symbol();Et.$getChildrenByNameIt=gn;const tn=Symbol();Et.$getDataValue=tn;const bn=Symbol();Et.$getExtra=bn;const Wt=Symbol();Et.$getRealChildrenByNameIt=Wt;const Yt=Symbol();Et.$getChildren=Yt;const un=Symbol();Et.$getContainedChildren=un;const Ut=Symbol();Et.$getNextPage=Ut;const Ot=Symbol();Et.$getSubformParent=Ot;const Ht=Symbol();Et.$getParent=Ht;const an=Symbol();Et.$getTemplateRoot=an;const zt=Symbol();Et.$globalData=zt;const Vt=Symbol();Et.$hasSettableValue=Vt;const nn=Symbol();Et.$ids=nn;const hn=Symbol();Et.$indexOf=hn;const on=Symbol();Et.$insertAt=on;const cn=Symbol();Et.$isCDATAXml=cn;const sn=Symbol();Et.$isBindable=sn;const rn=Symbol();Et.$isDataValue=rn;const xn=Symbol();Et.$isDescendent=xn;const vn=Symbol();Et.$isNsAgnostic=vn;const kn=Symbol();Et.$isSplittable=kn;const Pn=Symbol();Et.$isThereMoreWidth=Pn;const On=Symbol();Et.$isTransparent=On;const _n=Symbol();Et.$isUsable=_n;const Sn=Symbol();Et.$lastAttribute=Sn;const mn=Symbol("namespaceId");Et.$namespaceId=mn;const fn=Symbol("nodeName");Et.$nodeName=fn;const Jt=Symbol();Et.$nsAttributes=Jt;const ln=Symbol();Et.$onChild=ln;const pn=Symbol();Et.$onChildCheck=pn;const wn=Symbol();Et.$onText=wn;const Cn=Symbol();Et.$pushGlyphs=Cn;const Fn=Symbol();Et.$popPara=Fn;const En=Symbol();Et.$pushPara=En;const An=Symbol();Et.$removeChild=An;const Tn=Symbol("root");Et.$root=Tn;const In=Symbol();Et.$resolvePrototypes=In;const Rn=Symbol();Et.$searchNode=Rn;const Dn=Symbol();Et.$setId=Dn;const Ln=Symbol();Et.$setSetAttributes=Ln;const Un=Symbol();Et.$setValue=Un;const tr=Symbol();Et.$tabIndex=tr;const er=Symbol();Et.$text=er;const Qn=Symbol();Et.$toPages=Qn;const Yn=Symbol();Et.$toHTML=Yn;const Xn=Symbol();Et.$toString=Xn;const nr=Symbol();Et.$toStyle=nr;const lr=Symbol("uid");Et.$uid=lr},(Ct,Et,Ft)=>{Object.defineProperty(Et,"__esModule",{value:!0}),Et.Binder=void 0;var wt=Ft(78),_t=Ft(80),Rt=Ft(88),_e=Ft(87),bt=Ft(81),Pt=Ft(2);const Xt=bt.NamespaceIds.datasets.id;function Kt($t){const Lt=new _t.Text({});return Lt[wt.$content]=$t,Lt}class Nt{constructor(Lt){var jt;this.root=Lt,this.datasets=Lt.datasets,this.data=((jt=Lt.datasets)==null?void 0:jt.data)||new _e.XmlObject(bt.NamespaceIds.datasets.id,"data"),this.emptyMerge=this.data[wt.$getChildren]().length===0,this.root.form=this.form=Lt.template[wt.$clone]()}_isConsumeData(){return!this.emptyMerge&&this._mergeMode}_isMatchTemplate(){return!this._isConsumeData()}bind(){return this._bindElement(this.form,this.data),this.form}getData(){return this.data}_bindValue(Lt,jt,kt){var qt,Bt;if(Lt[wt.$data]=jt,Lt[wt.$hasSettableValue]())if(jt[wt.$isDataValue]()){const Gt=jt[wt.$getDataValue]();Lt[wt.$setValue](Kt(Gt))}else if(Lt instanceof _t.Field&&((Bt=(qt=Lt.ui)==null?void 0:qt.choiceList)==null?void 0:Bt.open)==="multiSelect"){const Gt=jt[wt.$getChildren]().map(en=>en[wt.$content].trim()).join(`
`);Lt[wt.$setValue](Kt(Gt))}else this._isConsumeData()&&(0,Pt.warn)("XFA - Nodes haven't the same type.");else!jt[wt.$isDataValue]()||this._isMatchTemplate()?this._bindElement(Lt,jt):(0,Pt.warn)("XFA - Nodes haven't the same type.")}_findDataByNameToConsume(Lt,jt,kt,qt){if(!Lt)return null;let Bt,Gt;for(let en=0;en<3;en++){for(Bt=kt[wt.$getRealChildrenByNameIt](Lt,!1,!0);Gt=Bt.next().value,!!Gt;)if(jt===Gt[wt.$isDataValue]())return Gt;if(kt[wt.$namespaceId]===bt.NamespaceIds.datasets.id&&kt[wt.$nodeName]==="data")break;kt=kt[wt.$getParent]()}return qt?(Bt=this.data[wt.$getRealChildrenByNameIt](Lt,!0,!1),Gt=Bt.next().value,Gt||(Bt=this.data[wt.$getAttributeIt](Lt,!0),Gt=Bt.next().value,Gt!=null&&Gt[wt.$isDataValue]())?Gt:null):null}_setProperties(Lt,jt){if(Lt.hasOwnProperty("setProperty"))for(const{ref:kt,target:qt,connection:Bt}of Lt.setProperty.children){if(Bt||!kt)continue;const Gt=(0,Rt.searchNode)(this.root,jt,kt,!1,!1);if(!Gt){(0,Pt.warn)(`XFA - Invalid reference: ${kt}.`);continue}const[en]=Gt;if(!en[wt.$isDescendent](this.data)){(0,Pt.warn)("XFA - Invalid node: must be a data node.");continue}const dn=(0,Rt.searchNode)(this.root,Lt,qt,!1,!1);if(!dn){(0,Pt.warn)(`XFA - Invalid target: ${qt}.`);continue}const[Qt]=dn;if(!Qt[wt.$isDescendent](Lt)){(0,Pt.warn)("XFA - Invalid target: must be a property or subproperty.");continue}const gn=Qt[wt.$getParent]();if(Qt instanceof _t.SetProperty||gn instanceof _t.SetProperty){(0,Pt.warn)("XFA - Invalid target: cannot be a setProperty or one of its properties.");continue}if(Qt instanceof _t.BindItems||gn instanceof _t.BindItems){(0,Pt.warn)("XFA - Invalid target: cannot be a bindItems or one of its properties.");continue}const tn=en[wt.$text](),bn=Qt[wt.$nodeName];if(Qt instanceof _e.XFAAttribute){const Wt=Object.create(null);Wt[bn]=tn;const Yt=Reflect.construct(Object.getPrototypeOf(gn).constructor,[Wt]);gn[bn]=Yt[bn];continue}if(!Qt.hasOwnProperty(wt.$content)){(0,Pt.warn)("XFA - Invalid node to use in setProperty");continue}Qt[wt.$data]=en,Qt[wt.$content]=tn,Qt[wt.$finalize]()}}_bindItems(Lt,jt){if(!Lt.hasOwnProperty("items")||!Lt.hasOwnProperty("bindItems")||Lt.bindItems.isEmpty())return;for(const Bt of Lt.items.children)Lt[wt.$removeChild](Bt);Lt.items.clear();const kt=new _t.Items({}),qt=new _t.Items({});Lt[wt.$appendChild](kt),Lt.items.push(kt),Lt[wt.$appendChild](qt),Lt.items.push(qt);for(const{ref:Bt,labelRef:Gt,valueRef:en,connection:dn}of Lt.bindItems.children){if(dn||!Bt)continue;const Qt=(0,Rt.searchNode)(this.root,jt,Bt,!1,!1);if(!Qt){(0,Pt.warn)(`XFA - Invalid reference: ${Bt}.`);continue}for(const gn of Qt){if(!gn[wt.$isDescendent](this.datasets)){(0,Pt.warn)(`XFA - Invalid ref (${Bt}): must be a datasets child.`);continue}const tn=(0,Rt.searchNode)(this.root,gn,Gt,!0,!1);if(!tn){(0,Pt.warn)(`XFA - Invalid label: ${Gt}.`);continue}const[bn]=tn;if(!bn[wt.$isDescendent](this.datasets)){(0,Pt.warn)("XFA - Invalid label: must be a datasets child.");continue}const Wt=(0,Rt.searchNode)(this.root,gn,en,!0,!1);if(!Wt){(0,Pt.warn)(`XFA - Invalid value: ${en}.`);continue}const[Yt]=Wt;if(!Yt[wt.$isDescendent](this.datasets)){(0,Pt.warn)("XFA - Invalid value: must be a datasets child.");continue}const un=Kt(bn[wt.$text]()),Ut=Kt(Yt[wt.$text]());kt[wt.$appendChild](un),kt.text.push(un),qt[wt.$appendChild](Ut),qt.text.push(Ut)}}}_bindOccurrences(Lt,jt,kt){let qt;if(jt.length>1&&(qt=Lt[wt.$clone](),qt[wt.$removeChild](qt.occur),qt.occur=null),this._bindValue(Lt,jt[0],kt),this._setProperties(Lt,jt[0]),this._bindItems(Lt,jt[0]),jt.length===1)return;const Bt=Lt[wt.$getParent](),Gt=Lt[wt.$nodeName],en=Bt[wt.$indexOf](Lt);for(let dn=1,Qt=jt.length;dn<Qt;dn++){const gn=jt[dn],tn=qt[wt.$clone]();Bt[Gt].push(tn),Bt[wt.$insertAt](en+dn,tn),this._bindValue(tn,gn,kt),this._setProperties(tn,gn),this._bindItems(tn,gn)}}_createOccurrences(Lt){if(!this.emptyMerge)return;const{occur:jt}=Lt;if(!jt||jt.initial<=1)return;const kt=Lt[wt.$getParent](),qt=Lt[wt.$nodeName];if(!(kt[qt]instanceof _e.XFAObjectArray))return;let Bt;Lt.name?Bt=kt[qt].children.filter(dn=>dn.name===Lt.name).length:Bt=kt[qt].children.length;const Gt=kt[wt.$indexOf](Lt)+1,en=jt.initial-Bt;if(en){const dn=Lt[wt.$clone]();dn[wt.$removeChild](dn.occur),dn.occur=null,kt[qt].push(dn),kt[wt.$insertAt](Gt,dn);for(let Qt=1;Qt<en;Qt++){const gn=dn[wt.$clone]();kt[qt].push(gn),kt[wt.$insertAt](Gt+Qt,gn)}}}_getOccurInfo(Lt){const{name:jt,occur:kt}=Lt;if(!kt||!jt)return[1,1];const qt=kt.max===-1?1/0:kt.max;return[kt.min,qt]}_setAndBind(Lt,jt){this._setProperties(Lt,jt),this._bindItems(Lt,jt),this._bindElement(Lt,jt)}_bindElement(Lt,jt){const kt=[];this._createOccurrences(Lt);for(const qt of Lt[wt.$getChildren]()){if(qt[wt.$data])continue;if(this._mergeMode===void 0&&qt[wt.$nodeName]==="subform"){this._mergeMode=qt.mergeMode==="consumeData";const tn=jt[wt.$getChildren]();if(tn.length>0)this._bindOccurrences(qt,[tn[0]],null);else if(this.emptyMerge){const bn=jt[wt.$namespaceId]===Xt?-1:jt[wt.$namespaceId],Wt=qt[wt.$data]=new _e.XmlObject(bn,qt.name||"root");jt[wt.$appendChild](Wt),this._bindElement(qt,Wt)}continue}if(!qt[wt.$isBindable]())continue;let Bt=!1,Gt=null,en=null,dn=null;if(qt.bind){switch(qt.bind.match){case"none":this._setAndBind(qt,jt);continue;case"global":Bt=!0;break;case"dataRef":if(!qt.bind.ref){(0,Pt.warn)(`XFA - ref is empty in node ${qt[wt.$nodeName]}.`),this._setAndBind(qt,jt);continue}en=qt.bind.ref;break}qt.bind.picture&&(Gt=qt.bind.picture[wt.$content])}const[Qt,gn]=this._getOccurInfo(qt);if(en)if(dn=(0,Rt.searchNode)(this.root,jt,en,!0,!1),dn===null){if(dn=(0,Rt.createDataNode)(this.data,jt,en),!dn)continue;this._isConsumeData()&&(dn[wt.$consumed]=!0),this._setAndBind(qt,dn);continue}else this._isConsumeData()&&(dn=dn.filter(tn=>!tn[wt.$consumed])),dn.length>gn?dn=dn.slice(0,gn):dn.length===0&&(dn=null),dn&&this._isConsumeData()&&dn.forEach(tn=>{tn[wt.$consumed]=!0});else{if(!qt.name){this._setAndBind(qt,jt);continue}if(this._isConsumeData()){const tn=[];for(;tn.length<gn;){const bn=this._findDataByNameToConsume(qt.name,qt[wt.$hasSettableValue](),jt,Bt);if(!bn)break;bn[wt.$consumed]=!0,tn.push(bn)}dn=tn.length>0?tn:null}else{if(dn=jt[wt.$getRealChildrenByNameIt](qt.name,!1,this.emptyMerge).next().value,!dn){if(Qt===0){kt.push(qt);continue}const tn=jt[wt.$namespaceId]===Xt?-1:jt[wt.$namespaceId];dn=qt[wt.$data]=new _e.XmlObject(tn,qt.name),this.emptyMerge&&(dn[wt.$consumed]=!0),jt[wt.$appendChild](dn),this._setAndBind(qt,dn);continue}this.emptyMerge&&(dn[wt.$consumed]=!0),dn=[dn]}}dn?this._bindOccurrences(qt,dn,Gt):Qt>0?this._setAndBind(qt,jt):kt.push(qt)}kt.forEach(qt=>qt[wt.$getParent]()[wt.$removeChild](qt))}}Et.Binder=Nt},(Ct,Et,Ft)=>{Object.defineProperty(Et,"__esModule",{value:!0}),Et.Value=Et.Text=Et.TemplateNamespace=Et.Template=Et.SetProperty=Et.Items=Et.Field=Et.BindItems=void 0;var wt=Ft(78),_t=Ft(81),Rt=Ft(82),_e=Ft(83),bt=Ft(87),Pt=Ft(84),Xt=Ft(2),Kt=Ft(85),Nt=Ft(3),$t=Ft(88);const Lt=_t.NamespaceIds.template.id,jt="http://www.w3.org/2000/svg",kt=2,qt=3,Bt=5e3,Gt=/^H(\d+)$/,en=new Set(["image/gif","image/jpeg","image/jpg","image/pjpeg","image/png","image/apng","image/x-png","image/bmp","image/x-ms-bmp","image/tiff","image/tif","application/octet-stream"]),dn=[[[66,77],"image/bmp"],[[255,216,255],"image/jpeg"],[[73,73,42,0],"image/tiff"],[[77,77,0,42],"image/tiff"],[[71,73,70,56,57,97],"image/gif"],[[137,80,78,71,13,10,26,10],"image/png"]];function Qt(zn){if(!zn||!zn.border)return{w:0,h:0};const Dt=zn.border[wt.$getExtra]();return Dt?{w:Dt.widths[0]+Dt.widths[2]+Dt.insets[0]+Dt.insets[2],h:Dt.widths[1]+Dt.widths[3]+Dt.insets[1]+Dt.insets[3]}:{w:0,h:0}}function gn(zn){return zn.margin&&(zn.margin.topInset||zn.margin.rightInset||zn.margin.bottomInset||zn.margin.leftInset)}function tn(zn,Dt){if(!zn.value){const yn=new jn({});zn[wt.$appendChild](yn),zn.value=yn}zn.value[wt.$setValue](Dt)}function*bn(zn){for(const Dt of zn[wt.$getChildren]()){if(Dt instanceof wu){yield*Dt[wt.$getContainedChildren]();continue}yield Dt}}function Wt(zn){var Dt;return((Dt=zn.validate)==null?void 0:Dt.nullTest)==="error"}function Yt(zn){for(;zn;){if(!zn.traversal){zn[wt.$tabIndex]=zn[wt.$getParent]()[wt.$tabIndex];return}if(zn[wt.$tabIndex])return;let Dt=null;for(const _i of zn.traversal[wt.$getChildren]())if(_i.operation==="next"){Dt=_i;break}if(!Dt||!Dt.ref){zn[wt.$tabIndex]=zn[wt.$getParent]()[wt.$tabIndex];return}const yn=zn[wt.$getTemplateRoot]();zn[wt.$tabIndex]=++yn[wt.$tabIndex];const qn=yn[wt.$searchNode](Dt.ref,zn);if(!qn)return;zn=qn[0]}}function un(zn,Dt){var qn;const yn=zn.assist;if(yn){const _i=yn[wt.$toHTML]();_i&&(Dt.title=_i);const ir=yn.role.match(Gt);if(ir){const ar="heading",gr=ir[1];Dt.role=ar,Dt["aria-level"]=gr}}if(zn.layout==="table")Dt.role="table";else if(zn.layout==="row")Dt.role="row";else{const _i=zn[wt.$getParent]();_i.layout==="row"&&(Dt.role=((qn=_i.assist)==null?void 0:qn.role)==="TH"?"columnheader":"cell")}}function Ut(zn){if(!zn.assist)return null;const Dt=zn.assist;return Dt.speak&&Dt.speak[wt.$content]!==""?Dt.speak[wt.$content]:Dt.toolTip?Dt.toolTip[wt.$content]:null}function Ot(zn){return Pt.HTMLResult.success({name:"div",attributes:{class:["xfaRich"],style:Object.create(null)},children:[{name:"span",attributes:{style:Object.create(null)},value:zn}]})}function Ht(zn){const Dt=zn[wt.$getTemplateRoot]();Dt[wt.$extra].firstUnsplittable===null&&(Dt[wt.$extra].firstUnsplittable=zn,Dt[wt.$extra].noLayoutFailure=!0)}function an(zn){const Dt=zn[wt.$getTemplateRoot]();Dt[wt.$extra].firstUnsplittable===zn&&(Dt[wt.$extra].noLayoutFailure=!1)}function zt(zn){if(zn[wt.$extra]||(zn[wt.$extra]=Object.create(null),zn.targetType==="auto"))return!1;const Dt=zn[wt.$getTemplateRoot]();let yn=null;if(zn.target){if(yn=Dt[wt.$searchNode](zn.target,zn[wt.$getParent]()),!yn)return!1;yn=yn[0]}const{currentPageArea:qn,currentContentArea:_i}=Dt[wt.$extra];if(zn.targetType==="pageArea")return yn instanceof Jr||(yn=null),zn.startNew?(zn[wt.$extra].target=yn||qn,!0):yn&&yn!==qn?(zn[wt.$extra].target=yn,!0):!1;yn instanceof Tn||(yn=null);const Kn=yn&&yn[wt.$getParent]();let ir,ar=Kn;if(zn.startNew)if(yn){const gr=Kn.contentArea.children,mr=gr.indexOf(_i),br=gr.indexOf(yn);mr!==-1&&mr<br&&(ar=null),ir=br-1}else ir=qn.contentArea.children.indexOf(_i);else if(yn&&yn!==_i)ir=Kn.contentArea.children.indexOf(yn)-1,ar=Kn===qn?null:Kn;else return!1;return zn[wt.$extra].target=ar,zn[wt.$extra].index=ir,!0}function Vt(zn,Dt,yn){const qn=zn[wt.$getTemplateRoot](),_i=qn[wt.$extra].noLayoutFailure,Kn=Dt[wt.$getSubformParent];Dt[wt.$getSubformParent]=()=>zn,qn[wt.$extra].noLayoutFailure=!0;const ir=Dt[wt.$toHTML](yn);zn[wt.$addHTML](ir.html,ir.bbox),qn[wt.$extra].noLayoutFailure=_i,Dt[wt.$getSubformParent]=Kn}class nn extends bt.StringObject{constructor(Dt){super(Lt,"appearanceFilter"),this.id=Dt.id||"",this.type=(0,Pt.getStringOption)(Dt.type,["optional","required"]),this.use=Dt.use||"",this.usehref=Dt.usehref||""}}class hn extends bt.XFAObject{constructor(Dt){super(Lt,"arc",!0),this.circular=(0,Pt.getInteger)({data:Dt.circular,defaultValue:0,validate:yn=>yn===1}),this.hand=(0,Pt.getStringOption)(Dt.hand,["even","left","right"]),this.id=Dt.id||"",this.startAngle=(0,Pt.getFloat)({data:Dt.startAngle,defaultValue:0,validate:yn=>!0}),this.sweepAngle=(0,Pt.getFloat)({data:Dt.sweepAngle,defaultValue:360,validate:yn=>!0}),this.use=Dt.use||"",this.usehref=Dt.usehref||"",this.edge=null,this.fill=null}[wt.$toHTML](){var gr;const Dt=this.edge||new nr({}),yn=Dt[wt.$toStyle](),qn=Object.create(null);((gr=this.fill)==null?void 0:gr.presence)==="visible"?Object.assign(qn,this.fill[wt.$toStyle]()):qn.fill="transparent",qn.strokeWidth=(0,_e.measureToString)(Dt.presence==="visible"?Dt.thickness:0),qn.stroke=yn.color;let _i;const Kn={xmlns:jt,style:{width:"100%",height:"100%",overflow:"visible"}};if(this.sweepAngle===360)_i={name:"ellipse",attributes:{xmlns:jt,cx:"50%",cy:"50%",rx:"50%",ry:"50%",style:qn}};else{const mr=this.startAngle*Math.PI/180,br=this.sweepAngle*Math.PI/180,Ir=this.sweepAngle>180?1:0,[Cr,kr,ts,Mr]=[50*(1+Math.cos(mr)),50*(1-Math.sin(mr)),50*(1+Math.cos(mr+br)),50*(1-Math.sin(mr+br))];_i={name:"path",attributes:{xmlns:jt,d:`M ${Cr} ${kr} A 50 50 0 ${Ir} 0 ${ts} ${Mr}`,vectorEffect:"non-scaling-stroke",style:qn}},Object.assign(Kn,{viewBox:"0 0 100 100",preserveAspectRatio:"none"})}const ir={name:"svg",children:[_i],attributes:Kn},ar=this[wt.$getParent]()[wt.$getParent]();return gn(ar)?Pt.HTMLResult.success({name:"div",attributes:{style:{display:"inline",width:"100%",height:"100%"}},children:[ir]}):(ir.attributes.style.position="absolute",Pt.HTMLResult.success(ir))}}class on extends bt.XFAObject{constructor(Dt){super(Lt,"area",!0),this.colSpan=(0,Pt.getInteger)({data:Dt.colSpan,defaultValue:1,validate:yn=>yn>=1||yn===-1}),this.id=Dt.id||"",this.name=Dt.name||"",this.relevant=(0,Pt.getRelevant)(Dt.relevant),this.use=Dt.use||"",this.usehref=Dt.usehref||"",this.x=(0,Pt.getMeasurement)(Dt.x,"0pt"),this.y=(0,Pt.getMeasurement)(Dt.y,"0pt"),this.desc=null,this.extras=null,this.area=new bt.XFAObjectArray,this.draw=new bt.XFAObjectArray,this.exObject=new bt.XFAObjectArray,this.exclGroup=new bt.XFAObjectArray,this.field=new bt.XFAObjectArray,this.subform=new bt.XFAObjectArray,this.subformSet=new bt.XFAObjectArray}*[wt.$getContainedChildren](){yield*bn(this)}[wt.$isTransparent](){return!0}[wt.$isBindable](){return!0}[wt.$addHTML](Dt,yn){const[qn,_i,Kn,ir]=yn;this[wt.$extra].width=Math.max(this[wt.$extra].width,qn+Kn),this[wt.$extra].height=Math.max(this[wt.$extra].height,_i+ir),this[wt.$extra].children.push(Dt)}[wt.$getAvailableSpace](){return this[wt.$extra].availableSpace}[wt.$toHTML](Dt){const yn=(0,_e.toStyle)(this,"position"),qn={style:yn,id:this[wt.$uid],class:["xfaArea"]};(0,_e.isPrintOnly)(this)&&qn.class.push("xfaPrintOnly"),this.name&&(qn.xfaName=this.name);const _i=[];this[wt.$extra]={children:_i,width:0,height:0,availableSpace:Dt};const Kn=this[wt.$childrenToHTML]({filter:new Set(["area","draw","field","exclGroup","subform","subformSet"]),include:!0});if(!Kn.success)return Kn.isBreak()?Kn:(delete this[wt.$extra],Pt.HTMLResult.FAILURE);yn.width=(0,_e.measureToString)(this[wt.$extra].width),yn.height=(0,_e.measureToString)(this[wt.$extra].height);const ir={name:"div",attributes:qn,children:_i},ar=[this.x,this.y,this[wt.$extra].width,this[wt.$extra].height];return delete this[wt.$extra],Pt.HTMLResult.success(ir,ar)}}class cn extends bt.XFAObject{constructor(Dt){super(Lt,"assist",!0),this.id=Dt.id||"",this.role=Dt.role||"",this.use=Dt.use||"",this.usehref=Dt.usehref||"",this.speak=null,this.toolTip=null}[wt.$toHTML](){var Dt;return((Dt=this.toolTip)==null?void 0:Dt[wt.$content])||null}}class sn extends bt.XFAObject{constructor(Dt){super(Lt,"barcode",!0),this.charEncoding=(0,Pt.getKeyword)({data:Dt.charEncoding?Dt.charEncoding.toLowerCase():"",defaultValue:"",validate:yn=>["utf-8","big-five","fontspecific","gbk","gb-18030","gb-2312","ksc-5601","none","shift-jis","ucs-2","utf-16"].includes(yn)||yn.match(/iso-8859-\d{2}/)}),this.checksum=(0,Pt.getStringOption)(Dt.checksum,["none","1mod10","1mod10_1mod11","2mod10","auto"]),this.dataColumnCount=(0,Pt.getInteger)({data:Dt.dataColumnCount,defaultValue:-1,validate:yn=>yn>=0}),this.dataLength=(0,Pt.getInteger)({data:Dt.dataLength,defaultValue:-1,validate:yn=>yn>=0}),this.dataPrep=(0,Pt.getStringOption)(Dt.dataPrep,["none","flateCompress"]),this.dataRowCount=(0,Pt.getInteger)({data:Dt.dataRowCount,defaultValue:-1,validate:yn=>yn>=0}),this.endChar=Dt.endChar||"",this.errorCorrectionLevel=(0,Pt.getInteger)({data:Dt.errorCorrectionLevel,defaultValue:-1,validate:yn=>yn>=0&&yn<=8}),this.id=Dt.id||"",this.moduleHeight=(0,Pt.getMeasurement)(Dt.moduleHeight,"5mm"),this.moduleWidth=(0,Pt.getMeasurement)(Dt.moduleWidth,"0.25mm"),this.printCheckDigit=(0,Pt.getInteger)({data:Dt.printCheckDigit,defaultValue:0,validate:yn=>yn===1}),this.rowColumnRatio=(0,Pt.getRatio)(Dt.rowColumnRatio),this.startChar=Dt.startChar||"",this.textLocation=(0,Pt.getStringOption)(Dt.textLocation,["below","above","aboveEmbedded","belowEmbedded","none"]),this.truncate=(0,Pt.getInteger)({data:Dt.truncate,defaultValue:0,validate:yn=>yn===1}),this.type=(0,Pt.getStringOption)(Dt.type?Dt.type.toLowerCase():"",["aztec","codabar","code2of5industrial","code2of5interleaved","code2of5matrix","code2of5standard","code3of9","code3of9extended","code11","code49","code93","code128","code128a","code128b","code128c","code128sscc","datamatrix","ean8","ean8add2","ean8add5","ean13","ean13add2","ean13add5","ean13pwcd","fim","logmars","maxicode","msi","pdf417","pdf417macro","plessey","postauscust2","postauscust3","postausreplypaid","postausstandard","postukrm4scc","postusdpbc","postusimb","postusstandard","postus5zip","qrcode","rfid","rss14","rss14expanded","rss14limited","rss14stacked","rss14stackedomni","rss14truncated","telepen","ucc128","ucc128random","ucc128sscc","upca","upcaadd2","upcaadd5","upcapwcd","upce","upceadd2","upceadd5","upcean2","upcean5","upsmaxicode"]),this.upsMode=(0,Pt.getStringOption)(Dt.upsMode,["usCarrier","internationalCarrier","secureSymbol","standardSymbol"]),this.use=Dt.use||"",this.usehref=Dt.usehref||"",this.wideNarrowRatio=(0,Pt.getRatio)(Dt.wideNarrowRatio),this.encrypt=null,this.extras=null}}class rn extends bt.XFAObject{constructor(Dt){super(Lt,"bind",!0),this.match=(0,Pt.getStringOption)(Dt.match,["once","dataRef","global","none"]),this.ref=Dt.ref||"",this.picture=null}}class xn extends bt.XFAObject{constructor(Dt){super(Lt,"bindItems"),this.connection=Dt.connection||"",this.labelRef=Dt.labelRef||"",this.ref=Dt.ref||"",this.valueRef=Dt.valueRef||""}}Et.BindItems=xn;class vn extends bt.XFAObject{constructor(Dt){super(Lt,"bookend"),this.id=Dt.id||"",this.leader=Dt.leader||"",this.trailer=Dt.trailer||"",this.use=Dt.use||"",this.usehref=Dt.usehref||""}}class kn extends bt.Option01{constructor(Dt){super(Lt,"boolean"),this.id=Dt.id||"",this.name=Dt.name||"",this.use=Dt.use||"",this.usehref=Dt.usehref||""}[wt.$toHTML](Dt){return Ot(this[wt.$content]===1?"1":"0")}}class Pn extends bt.XFAObject{constructor(Dt){super(Lt,"border",!0),this.break=(0,Pt.getStringOption)(Dt.break,["close","open"]),this.hand=(0,Pt.getStringOption)(Dt.hand,["even","left","right"]),this.id=Dt.id||"",this.presence=(0,Pt.getStringOption)(Dt.presence,["visible","hidden","inactive","invisible"]),this.relevant=(0,Pt.getRelevant)(Dt.relevant),this.use=Dt.use||"",this.usehref=Dt.usehref||"",this.corner=new bt.XFAObjectArray(4),this.edge=new bt.XFAObjectArray(4),this.extras=null,this.fill=null,this.margin=null}[wt.$getExtra](){if(!this[wt.$extra]){const Dt=this.edge.children.slice();if(Dt.length<4){const _i=Dt.at(-1)||new nr({});for(let Kn=Dt.length;Kn<4;Kn++)Dt.push(_i)}const yn=Dt.map(_i=>_i.thickness),qn=[0,0,0,0];this.margin&&(qn[0]=this.margin.topInset,qn[1]=this.margin.rightInset,qn[2]=this.margin.bottomInset,qn[3]=this.margin.leftInset),this[wt.$extra]={widths:yn,insets:qn,edges:Dt}}return this[wt.$extra]}[wt.$toStyle](){var _i;const{edges:Dt}=this[wt.$getExtra](),yn=Dt.map(Kn=>{const ir=Kn[wt.$toStyle]();return ir.color||(ir.color="#000000"),ir}),qn=Object.create(null);if(this.margin&&Object.assign(qn,this.margin[wt.$toStyle]()),((_i=this.fill)==null?void 0:_i.presence)==="visible"&&Object.assign(qn,this.fill[wt.$toStyle]()),this.corner.children.some(Kn=>Kn.radius!==0)){const Kn=this.corner.children.map(ir=>ir[wt.$toStyle]());if(Kn.length===2||Kn.length===3){const ir=Kn.at(-1);for(let ar=Kn.length;ar<4;ar++)Kn.push(ir)}qn.borderRadius=Kn.map(ir=>ir.radius).join(" ")}switch(this.presence){case"invisible":case"hidden":qn.borderStyle="";break;case"inactive":qn.borderStyle="none";break;default:qn.borderStyle=yn.map(Kn=>Kn.style).join(" ");break}return qn.borderWidth=yn.map(Kn=>Kn.width).join(" "),qn.borderColor=yn.map(Kn=>Kn.color).join(" "),qn}}class On extends bt.XFAObject{constructor(Dt){super(Lt,"break",!0),this.after=(0,Pt.getStringOption)(Dt.after,["auto","contentArea","pageArea","pageEven","pageOdd"]),this.afterTarget=Dt.afterTarget||"",this.before=(0,Pt.getStringOption)(Dt.before,["auto","contentArea","pageArea","pageEven","pageOdd"]),this.beforeTarget=Dt.beforeTarget||"",this.bookendLeader=Dt.bookendLeader||"",this.bookendTrailer=Dt.bookendTrailer||"",this.id=Dt.id||"",this.overflowLeader=Dt.overflowLeader||"",this.overflowTarget=Dt.overflowTarget||"",this.overflowTrailer=Dt.overflowTrailer||"",this.startNew=(0,Pt.getInteger)({data:Dt.startNew,defaultValue:0,validate:yn=>yn===1}),this.use=Dt.use||"",this.usehref=Dt.usehref||"",this.extras=null}}class _n extends bt.XFAObject{constructor(Dt){super(Lt,"breakAfter",!0),this.id=Dt.id||"",this.leader=Dt.leader||"",this.startNew=(0,Pt.getInteger)({data:Dt.startNew,defaultValue:0,validate:yn=>yn===1}),this.target=Dt.target||"",this.targetType=(0,Pt.getStringOption)(Dt.targetType,["auto","contentArea","pageArea"]),this.trailer=Dt.trailer||"",this.use=Dt.use||"",this.usehref=Dt.usehref||"",this.script=null}}class Sn extends bt.XFAObject{constructor(Dt){super(Lt,"breakBefore",!0),this.id=Dt.id||"",this.leader=Dt.leader||"",this.startNew=(0,Pt.getInteger)({data:Dt.startNew,defaultValue:0,validate:yn=>yn===1}),this.target=Dt.target||"",this.targetType=(0,Pt.getStringOption)(Dt.targetType,["auto","contentArea","pageArea"]),this.trailer=Dt.trailer||"",this.use=Dt.use||"",this.usehref=Dt.usehref||"",this.script=null}[wt.$toHTML](Dt){return this[wt.$extra]={},Pt.HTMLResult.FAILURE}}class mn extends bt.XFAObject{constructor(Dt){super(Lt,"button",!0),this.highlight=(0,Pt.getStringOption)(Dt.highlight,["inverted","none","outline","push"]),this.id=Dt.id||"",this.use=Dt.use||"",this.usehref=Dt.usehref||"",this.extras=null}[wt.$toHTML](Dt){const qn=this[wt.$getParent]()[wt.$getParent](),_i={name:"button",attributes:{id:this[wt.$uid],class:["xfaButton"],style:{}},children:[]};for(const Kn of qn.event.children){if(Kn.activity!=="click"||!Kn.script)continue;const ir=(0,Nt.recoverJsURL)(Kn.script[wt.$content]);if(!ir)continue;const ar=(0,_e.fixURL)(ir.url);ar&&_i.children.push({name:"a",attributes:{id:"link"+this[wt.$uid],href:ar,newWindow:ir.newWindow,class:["xfaLink"],style:{}},children:[]})}return Pt.HTMLResult.success(_i)}}class fn extends bt.XFAObject{constructor(Dt){super(Lt,"calculate",!0),this.id=Dt.id||"",this.override=(0,Pt.getStringOption)(Dt.override,["disabled","error","ignore","warning"]),this.use=Dt.use||"",this.usehref=Dt.usehref||"",this.extras=null,this.message=null,this.script=null}}class Jt extends bt.XFAObject{constructor(Dt){super(Lt,"caption",!0),this.id=Dt.id||"",this.placement=(0,Pt.getStringOption)(Dt.placement,["left","bottom","inline","right","top"]),this.presence=(0,Pt.getStringOption)(Dt.presence,["visible","hidden","inactive","invisible"]),this.reserve=Math.ceil((0,Pt.getMeasurement)(Dt.reserve)),this.use=Dt.use||"",this.usehref=Dt.usehref||"",this.extras=null,this.font=null,this.margin=null,this.para=null,this.value=null}[wt.$setValue](Dt){tn(this,Dt)}[wt.$getExtra](Dt){if(!this[wt.$extra]){let{width:yn,height:qn}=Dt;switch(this.placement){case"left":case"right":case"inline":yn=this.reserve<=0?yn:this.reserve;break;case"top":case"bottom":qn=this.reserve<=0?qn:this.reserve;break}this[wt.$extra]=(0,_e.layoutNode)(this,{width:yn,height:qn})}return this[wt.$extra]}[wt.$toHTML](Dt){if(!this.value)return Pt.HTMLResult.EMPTY;this[wt.$pushPara]();const yn=this.value[wt.$toHTML](Dt).html;if(!yn)return this[wt.$popPara](),Pt.HTMLResult.EMPTY;const qn=this.reserve;if(this.reserve<=0){const{w:ir,h:ar}=this[wt.$getExtra](Dt);switch(this.placement){case"left":case"right":case"inline":this.reserve=ir;break;case"top":case"bottom":this.reserve=ar;break}}const _i=[];typeof yn=="string"?_i.push({name:"#text",value:yn}):_i.push(yn);const Kn=(0,_e.toStyle)(this,"font","margin","visibility");switch(this.placement){case"left":case"right":this.reserve>0&&(Kn.width=(0,_e.measureToString)(this.reserve));break;case"top":case"bottom":this.reserve>0&&(Kn.height=(0,_e.measureToString)(this.reserve));break}return(0,_e.setPara)(this,null,yn),this[wt.$popPara](),this.reserve=qn,Pt.HTMLResult.success({name:"div",attributes:{style:Kn,class:["xfaCaption"]},children:_i})}}class ln extends bt.StringObject{constructor(Dt){super(Lt,"certificate"),this.id=Dt.id||"",this.name=Dt.name||"",this.use=Dt.use||"",this.usehref=Dt.usehref||""}}class pn extends bt.XFAObject{constructor(Dt){super(Lt,"certificates",!0),this.credentialServerPolicy=(0,Pt.getStringOption)(Dt.credentialServerPolicy,["optional","required"]),this.id=Dt.id||"",this.url=Dt.url||"",this.urlPolicy=Dt.urlPolicy||"",this.use=Dt.use||"",this.usehref=Dt.usehref||"",this.encryption=null,this.issuers=null,this.keyUsage=null,this.oids=null,this.signing=null,this.subjectDNs=null}}class wn extends bt.XFAObject{constructor(Dt){super(Lt,"checkButton",!0),this.id=Dt.id||"",this.mark=(0,Pt.getStringOption)(Dt.mark,["default","check","circle","cross","diamond","square","star"]),this.shape=(0,Pt.getStringOption)(Dt.shape,["square","round"]),this.size=(0,Pt.getMeasurement)(Dt.size,"10pt"),this.use=Dt.use||"",this.usehref=Dt.usehref||"",this.border=null,this.extras=null,this.margin=null}[wt.$toHTML](Dt){var Gr,Xr,Hr;const yn=(0,_e.toStyle)("margin"),qn=(0,_e.measureToString)(this.size);yn.width=yn.height=qn;let _i,Kn,ir;const ar=this[wt.$getParent]()[wt.$getParent](),gr=ar.items.children.length&&ar.items.children[0][wt.$toHTML]().html||[],mr={on:(gr[0]!==void 0?gr[0]:"on").toString(),off:(gr[1]!==void 0?gr[1]:"off").toString()},Ir=(((Gr=ar.value)==null?void 0:Gr[wt.$text]())||"off")===mr.on||void 0,Cr=ar[wt.$getSubformParent](),kr=ar[wt.$uid];let ts;Cr instanceof Zn?(ir=Cr[wt.$uid],_i="radio",Kn="xfaRadio",ts=((Xr=Cr[wt.$data])==null?void 0:Xr[wt.$uid])||Cr[wt.$uid]):(_i="checkbox",Kn="xfaCheckbox",ts=((Hr=ar[wt.$data])==null?void 0:Hr[wt.$uid])||ar[wt.$uid]);const Mr={name:"input",attributes:{class:[Kn],style:yn,fieldId:kr,dataId:ts,type:_i,checked:Ir,xfaOn:mr.on,xfaOff:mr.off,"aria-label":Ut(ar),"aria-required":!1}};return ir&&(Mr.attributes.name=ir),Wt(ar)&&(Mr.attributes["aria-required"]=!0,Mr.attributes.required=!0),Pt.HTMLResult.success({name:"label",attributes:{class:["xfaLabel"]},children:[Mr]})}}class Cn extends bt.XFAObject{constructor(Dt){super(Lt,"choiceList",!0),this.commitOn=(0,Pt.getStringOption)(Dt.commitOn,["select","exit"]),this.id=Dt.id||"",this.open=(0,Pt.getStringOption)(Dt.open,["userControl","always","multiSelect","onEntry"]),this.textEntry=(0,Pt.getInteger)({data:Dt.textEntry,defaultValue:0,validate:yn=>yn===1}),this.use=Dt.use||"",this.usehref=Dt.usehref||"",this.border=null,this.extras=null,this.margin=null}[wt.$toHTML](Dt){var mr,br,Ir;const yn=(0,_e.toStyle)(this,"border","margin"),_i=this[wt.$getParent]()[wt.$getParent](),ir={fontSize:`calc(${((mr=_i.font)==null?void 0:mr.size)||10}px * var(--scale-factor))`},ar=[];if(_i.items.children.length>0){const Cr=_i.items;let kr=0,ts=0;Cr.children.length===2&&(kr=Cr.children[0].save,ts=1-kr);const Mr=Cr.children[kr][wt.$toHTML]().html,Gr=Cr.children[ts][wt.$toHTML]().html;let Xr=!1;const Hr=((br=_i.value)==null?void 0:br[wt.$text]())||"";for(let Qr=0,Br=Mr.length;Qr<Br;Qr++){const Nr={name:"option",attributes:{value:Gr[Qr]||Mr[Qr],style:ir},value:Mr[Qr]};Gr[Qr]===Hr&&(Nr.attributes.selected=Xr=!0),ar.push(Nr)}Xr||ar.splice(0,0,{name:"option",attributes:{hidden:!0,selected:!0},value:" "})}const gr={class:["xfaSelect"],fieldId:_i[wt.$uid],dataId:((Ir=_i[wt.$data])==null?void 0:Ir[wt.$uid])||_i[wt.$uid],style:yn,"aria-label":Ut(_i),"aria-required":!1};return Wt(_i)&&(gr["aria-required"]=!0,gr.required=!0),this.open==="multiSelect"&&(gr.multiple=!0),Pt.HTMLResult.success({name:"label",attributes:{class:["xfaLabel"]},children:[{name:"select",children:ar,attributes:gr}]})}}class Fn extends bt.XFAObject{constructor(Dt){super(Lt,"color",!0),this.cSpace=(0,Pt.getStringOption)(Dt.cSpace,["SRGB"]),this.id=Dt.id||"",this.use=Dt.use||"",this.usehref=Dt.usehref||"",this.value=Dt.value?(0,Pt.getColor)(Dt.value):"",this.extras=null}[wt.$hasSettableValue](){return!1}[wt.$toStyle](){return this.value?Xt.Util.makeHexColor(this.value.r,this.value.g,this.value.b):null}}class En extends bt.XFAObject{constructor(Dt){super(Lt,"comb"),this.id=Dt.id||"",this.numberOfCells=(0,Pt.getInteger)({data:Dt.numberOfCells,defaultValue:0,validate:yn=>yn>=0}),this.use=Dt.use||"",this.usehref=Dt.usehref||""}}class An extends bt.XFAObject{constructor(Dt){super(Lt,"connect",!0),this.connection=Dt.connection||"",this.id=Dt.id||"",this.ref=Dt.ref||"",this.usage=(0,Pt.getStringOption)(Dt.usage,["exportAndImport","exportOnly","importOnly"]),this.use=Dt.use||"",this.usehref=Dt.usehref||"",this.picture=null}}class Tn extends bt.XFAObject{constructor(Dt){super(Lt,"contentArea",!0),this.h=(0,Pt.getMeasurement)(Dt.h),this.id=Dt.id||"",this.name=Dt.name||"",this.relevant=(0,Pt.getRelevant)(Dt.relevant),this.use=Dt.use||"",this.usehref=Dt.usehref||"",this.w=(0,Pt.getMeasurement)(Dt.w),this.x=(0,Pt.getMeasurement)(Dt.x,"0pt"),this.y=(0,Pt.getMeasurement)(Dt.y,"0pt"),this.desc=null,this.extras=null}[wt.$toHTML](Dt){const yn=(0,_e.measureToString)(this.x),qn=(0,_e.measureToString)(this.y),_i={left:yn,top:qn,width:(0,_e.measureToString)(this.w),height:(0,_e.measureToString)(this.h)},Kn=["xfaContentarea"];return(0,_e.isPrintOnly)(this)&&Kn.push("xfaPrintOnly"),Pt.HTMLResult.success({name:"div",children:[],attributes:{style:_i,class:Kn,id:this[wt.$uid]}})}}class In extends bt.XFAObject{constructor(Dt){super(Lt,"corner",!0),this.id=Dt.id||"",this.inverted=(0,Pt.getInteger)({data:Dt.inverted,defaultValue:0,validate:yn=>yn===1}),this.join=(0,Pt.getStringOption)(Dt.join,["square","round"]),this.presence=(0,Pt.getStringOption)(Dt.presence,["visible","hidden","inactive","invisible"]),this.radius=(0,Pt.getMeasurement)(Dt.radius),this.stroke=(0,Pt.getStringOption)(Dt.stroke,["solid","dashDot","dashDotDot","dashed","dotted","embossed","etched","lowered","raised"]),this.thickness=(0,Pt.getMeasurement)(Dt.thickness,"0.5pt"),this.use=Dt.use||"",this.usehref=Dt.usehref||"",this.color=null,this.extras=null}[wt.$toStyle](){const Dt=(0,_e.toStyle)(this,"visibility");return Dt.radius=(0,_e.measureToString)(this.join==="square"?0:this.radius),Dt}}class Rn extends bt.ContentObject{constructor(Dt){super(Lt,"date"),this.id=Dt.id||"",this.name=Dt.name||"",this.use=Dt.use||"",this.usehref=Dt.usehref||""}[wt.$finalize](){const Dt=this[wt.$content].trim();this[wt.$content]=Dt?new Date(Dt):null}[wt.$toHTML](Dt){return Ot(this[wt.$content]?this[wt.$content].toString():"")}}class Dn extends bt.ContentObject{constructor(Dt){super(Lt,"dateTime"),this.id=Dt.id||"",this.name=Dt.name||"",this.use=Dt.use||"",this.usehref=Dt.usehref||""}[wt.$finalize](){const Dt=this[wt.$content].trim();this[wt.$content]=Dt?new Date(Dt):null}[wt.$toHTML](Dt){return Ot(this[wt.$content]?this[wt.$content].toString():"")}}class Ln extends bt.XFAObject{constructor(Dt){super(Lt,"dateTimeEdit",!0),this.hScrollPolicy=(0,Pt.getStringOption)(Dt.hScrollPolicy,["auto","off","on"]),this.id=Dt.id||"",this.picker=(0,Pt.getStringOption)(Dt.picker,["host","none"]),this.use=Dt.use||"",this.usehref=Dt.usehref||"",this.border=null,this.comb=null,this.extras=null,this.margin=null}[wt.$toHTML](Dt){var Kn;const yn=(0,_e.toStyle)(this,"border","font","margin"),qn=this[wt.$getParent]()[wt.$getParent](),_i={name:"input",attributes:{type:"text",fieldId:qn[wt.$uid],dataId:((Kn=qn[wt.$data])==null?void 0:Kn[wt.$uid])||qn[wt.$uid],class:["xfaTextfield"],style:yn,"aria-label":Ut(qn),"aria-required":!1}};return Wt(qn)&&(_i.attributes["aria-required"]=!0,_i.attributes.required=!0),Pt.HTMLResult.success({name:"label",attributes:{class:["xfaLabel"]},children:[_i]})}}class Un extends bt.ContentObject{constructor(Dt){super(Lt,"decimal"),this.fracDigits=(0,Pt.getInteger)({data:Dt.fracDigits,defaultValue:2,validate:yn=>!0}),this.id=Dt.id||"",this.leadDigits=(0,Pt.getInteger)({data:Dt.leadDigits,defaultValue:-1,validate:yn=>!0}),this.name=Dt.name||"",this.use=Dt.use||"",this.usehref=Dt.usehref||""}[wt.$finalize](){const Dt=parseFloat(this[wt.$content].trim());this[wt.$content]=isNaN(Dt)?null:Dt}[wt.$toHTML](Dt){return Ot(this[wt.$content]!==null?this[wt.$content].toString():"")}}class tr extends bt.XFAObject{constructor(Dt){super(Lt,"defaultUi",!0),this.id=Dt.id||"",this.use=Dt.use||"",this.usehref=Dt.usehref||"",this.extras=null}}class er extends bt.XFAObject{constructor(Dt){super(Lt,"desc",!0),this.id=Dt.id||"",this.use=Dt.use||"",this.usehref=Dt.usehref||"",this.boolean=new bt.XFAObjectArray,this.date=new bt.XFAObjectArray,this.dateTime=new bt.XFAObjectArray,this.decimal=new bt.XFAObjectArray,this.exData=new bt.XFAObjectArray,this.float=new bt.XFAObjectArray,this.image=new bt.XFAObjectArray,this.integer=new bt.XFAObjectArray,this.text=new bt.XFAObjectArray,this.time=new bt.XFAObjectArray}}class Qn extends bt.OptionObject{constructor(Dt){super(Lt,"digestMethod",["","SHA1","SHA256","SHA512","RIPEMD160"]),this.id=Dt.id||"",this.use=Dt.use||"",this.usehref=Dt.usehref||""}}class Yn extends bt.XFAObject{constructor(Dt){super(Lt,"digestMethods",!0),this.id=Dt.id||"",this.type=(0,Pt.getStringOption)(Dt.type,["optional","required"]),this.use=Dt.use||"",this.usehref=Dt.usehref||"",this.digestMethod=new bt.XFAObjectArray}}class Xn extends bt.XFAObject{constructor(Dt){super(Lt,"draw",!0),this.anchorType=(0,Pt.getStringOption)(Dt.anchorType,["topLeft","bottomCenter","bottomLeft","bottomRight","middleCenter","middleLeft","middleRight","topCenter","topRight"]),this.colSpan=(0,Pt.getInteger)({data:Dt.colSpan,defaultValue:1,validate:yn=>yn>=1||yn===-1}),this.h=Dt.h?(0,Pt.getMeasurement)(Dt.h):"",this.hAlign=(0,Pt.getStringOption)(Dt.hAlign,["left","center","justify","justifyAll","radix","right"]),this.id=Dt.id||"",this.locale=Dt.locale||"",this.maxH=(0,Pt.getMeasurement)(Dt.maxH,"0pt"),this.maxW=(0,Pt.getMeasurement)(Dt.maxW,"0pt"),this.minH=(0,Pt.getMeasurement)(Dt.minH,"0pt"),this.minW=(0,Pt.getMeasurement)(Dt.minW,"0pt"),this.name=Dt.name||"",this.presence=(0,Pt.getStringOption)(Dt.presence,["visible","hidden","inactive","invisible"]),this.relevant=(0,Pt.getRelevant)(Dt.relevant),this.rotate=(0,Pt.getInteger)({data:Dt.rotate,defaultValue:0,validate:yn=>yn%90===0}),this.use=Dt.use||"",this.usehref=Dt.usehref||"",this.w=Dt.w?(0,Pt.getMeasurement)(Dt.w):"",this.x=(0,Pt.getMeasurement)(Dt.x,"0pt"),this.y=(0,Pt.getMeasurement)(Dt.y,"0pt"),this.assist=null,this.border=null,this.caption=null,this.desc=null,this.extras=null,this.font=null,this.keep=null,this.margin=null,this.para=null,this.traversal=null,this.ui=null,this.value=null,this.setProperty=new bt.XFAObjectArray}[wt.$setValue](Dt){tn(this,Dt)}[wt.$toHTML](Dt){if(Yt(this),this.presence==="hidden"||this.presence==="inactive")return Pt.HTMLResult.EMPTY;(0,_e.fixDimensions)(this),this[wt.$pushPara]();const yn=this.w,qn=this.h,{w:_i,h:Kn,isBroken:ir}=(0,_e.layoutNode)(this,Dt);if(_i&&this.w===""){if(ir&&this[wt.$getSubformParent]()[wt.$isThereMoreWidth]())return this[wt.$popPara](),Pt.HTMLResult.FAILURE;this.w=_i}if(Kn&&this.h===""&&(this.h=Kn),Ht(this),!(0,Rt.checkDimensions)(this,Dt))return this.w=yn,this.h=qn,this[wt.$popPara](),Pt.HTMLResult.FAILURE;an(this);const ar=(0,_e.toStyle)(this,"font","hAlign","dimensions","position","presence","rotate","anchorType","border","margin");(0,_e.setMinMaxDimensions)(this,ar),ar.margin&&(ar.padding=ar.margin,delete ar.margin);const gr=["xfaDraw"];this.font&&gr.push("xfaFont"),(0,_e.isPrintOnly)(this)&&gr.push("xfaPrintOnly");const mr={style:ar,id:this[wt.$uid],class:gr};this.name&&(mr.xfaName=this.name);const br={name:"div",attributes:mr,children:[]};un(this,mr);const Ir=(0,_e.computeBbox)(this,br,Dt),Cr=this.value?this.value[wt.$toHTML](Dt).html:null;return Cr===null?(this.w=yn,this.h=qn,this[wt.$popPara](),Pt.HTMLResult.success((0,_e.createWrapper)(this,br),Ir)):(br.children.push(Cr),(0,_e.setPara)(this,ar,Cr),this.w=yn,this.h=qn,this[wt.$popPara](),Pt.HTMLResult.success((0,_e.createWrapper)(this,br),Ir))}}class nr extends bt.XFAObject{constructor(Dt){super(Lt,"edge",!0),this.cap=(0,Pt.getStringOption)(Dt.cap,["square","butt","round"]),this.id=Dt.id||"",this.presence=(0,Pt.getStringOption)(Dt.presence,["visible","hidden","inactive","invisible"]),this.stroke=(0,Pt.getStringOption)(Dt.stroke,["solid","dashDot","dashDotDot","dashed","dotted","embossed","etched","lowered","raised"]),this.thickness=(0,Pt.getMeasurement)(Dt.thickness,"0.5pt"),this.use=Dt.use||"",this.usehref=Dt.usehref||"",this.color=null,this.extras=null}[wt.$toStyle](){const Dt=(0,_e.toStyle)(this,"visibility");if(Object.assign(Dt,{linecap:this.cap,width:(0,_e.measureToString)(this.thickness),color:this.color?this.color[wt.$toStyle]():"#000000",style:""}),this.presence!=="visible")Dt.style="none";else switch(this.stroke){case"solid":Dt.style="solid";break;case"dashDot":Dt.style="dashed";break;case"dashDotDot":Dt.style="dashed";break;case"dashed":Dt.style="dashed";break;case"dotted":Dt.style="dotted";break;case"embossed":Dt.style="ridge";break;case"etched":Dt.style="groove";break;case"lowered":Dt.style="inset";break;case"raised":Dt.style="outset";break}return Dt}}class lr extends bt.OptionObject{constructor(Dt){super(Lt,"encoding",["adbe.x509.rsa_sha1","adbe.pkcs7.detached","adbe.pkcs7.sha1"]),this.id=Dt.id||"",this.use=Dt.use||"",this.usehref=Dt.usehref||""}}class dr extends bt.XFAObject{constructor(Dt){super(Lt,"encodings",!0),this.id=Dt.id||"",this.type=(0,Pt.getStringOption)(Dt.type,["optional","required"]),this.use=Dt.use||"",this.usehref=Dt.usehref||"",this.encoding=new bt.XFAObjectArray}}class Bn extends bt.XFAObject{constructor(Dt){super(Lt,"encrypt",!0),this.id=Dt.id||"",this.use=Dt.use||"",this.usehref=Dt.usehref||"",this.certificate=null}}class Hn extends bt.XFAObject{constructor(Dt){super(Lt,"encryptData",!0),this.id=Dt.id||"",this.operation=(0,Pt.getStringOption)(Dt.operation,["encrypt","decrypt"]),this.target=Dt.target||"",this.use=Dt.use||"",this.usehref=Dt.usehref||"",this.filter=null,this.manifest=null}}class Wn extends bt.XFAObject{constructor(Dt){super(Lt,"encryption",!0),this.id=Dt.id||"",this.type=(0,Pt.getStringOption)(Dt.type,["optional","required"]),this.use=Dt.use||"",this.usehref=Dt.usehref||"",this.certificate=new bt.XFAObjectArray}}class cr extends bt.OptionObject{constructor(Dt){super(Lt,"encryptionMethod",["","AES256-CBC","TRIPLEDES-CBC","AES128-CBC","AES192-CBC"]),this.id=Dt.id||"",this.use=Dt.use||"",this.usehref=Dt.usehref||""}}class sr extends bt.XFAObject{constructor(Dt){super(Lt,"encryptionMethods",!0),this.id=Dt.id||"",this.type=(0,Pt.getStringOption)(Dt.type,["optional","required"]),this.use=Dt.use||"",this.usehref=Dt.usehref||"",this.encryptionMethod=new bt.XFAObjectArray}}class xr extends bt.XFAObject{constructor(Dt){super(Lt,"event",!0),this.activity=(0,Pt.getStringOption)(Dt.activity,["click","change","docClose","docReady","enter","exit","full","indexChange","initialize","mouseDown","mouseEnter","mouseExit","mouseUp","postExecute","postOpen","postPrint","postSave","postSign","postSubmit","preExecute","preOpen","prePrint","preSave","preSign","preSubmit","ready","validationState"]),this.id=Dt.id||"",this.listen=(0,Pt.getStringOption)(Dt.listen,["refOnly","refAndDescendents"]),this.name=Dt.name||"",this.ref=Dt.ref||"",this.use=Dt.use||"",this.usehref=Dt.usehref||"",this.extras=null,this.encryptData=null,this.execute=null,this.script=null,this.signData=null,this.submit=null}}class Jn extends bt.ContentObject{constructor(Dt){super(Lt,"exData"),this.contentType=Dt.contentType||"",this.href=Dt.href||"",this.id=Dt.id||"",this.maxLength=(0,Pt.getInteger)({data:Dt.maxLength,defaultValue:-1,validate:yn=>yn>=-1}),this.name=Dt.name||"",this.rid=Dt.rid||"",this.transferEncoding=(0,Pt.getStringOption)(Dt.transferEncoding,["none","base64","package"]),this.use=Dt.use||"",this.usehref=Dt.usehref||""}[wt.$isCDATAXml](){return this.contentType==="text/html"}[wt.$onChild](Dt){return this.contentType==="text/html"&&Dt[wt.$namespaceId]===_t.NamespaceIds.xhtml.id?(this[wt.$content]=Dt,!0):this.contentType==="text/xml"?(this[wt.$content]=Dt,!0):!1}[wt.$toHTML](Dt){return this.contentType!=="text/html"||!this[wt.$content]?Pt.HTMLResult.EMPTY:this[wt.$content][wt.$toHTML](Dt)}}class Vn extends bt.XFAObject{constructor(Dt){super(Lt,"exObject",!0),this.archive=Dt.archive||"",this.classId=Dt.classId||"",this.codeBase=Dt.codeBase||"",this.codeType=Dt.codeType||"",this.id=Dt.id||"",this.name=Dt.name||"",this.use=Dt.use||"",this.usehref=Dt.usehref||"",this.extras=null,this.boolean=new bt.XFAObjectArray,this.date=new bt.XFAObjectArray,this.dateTime=new bt.XFAObjectArray,this.decimal=new bt.XFAObjectArray,this.exData=new bt.XFAObjectArray,this.exObject=new bt.XFAObjectArray,this.float=new bt.XFAObjectArray,this.image=new bt.XFAObjectArray,this.integer=new bt.XFAObjectArray,this.text=new bt.XFAObjectArray,this.time=new bt.XFAObjectArray}}class Zn extends bt.XFAObject{constructor(Dt){super(Lt,"exclGroup",!0),this.access=(0,Pt.getStringOption)(Dt.access,["open","nonInteractive","protected","readOnly"]),this.accessKey=Dt.accessKey||"",this.anchorType=(0,Pt.getStringOption)(Dt.anchorType,["topLeft","bottomCenter","bottomLeft","bottomRight","middleCenter","middleLeft","middleRight","topCenter","topRight"]),this.colSpan=(0,Pt.getInteger)({data:Dt.colSpan,defaultValue:1,validate:yn=>yn>=1||yn===-1}),this.h=Dt.h?(0,Pt.getMeasurement)(Dt.h):"",this.hAlign=(0,Pt.getStringOption)(Dt.hAlign,["left","center","justify","justifyAll","radix","right"]),this.id=Dt.id||"",this.layout=(0,Pt.getStringOption)(Dt.layout,["position","lr-tb","rl-row","rl-tb","row","table","tb"]),this.maxH=(0,Pt.getMeasurement)(Dt.maxH,"0pt"),this.maxW=(0,Pt.getMeasurement)(Dt.maxW,"0pt"),this.minH=(0,Pt.getMeasurement)(Dt.minH,"0pt"),this.minW=(0,Pt.getMeasurement)(Dt.minW,"0pt"),this.name=Dt.name||"",this.presence=(0,Pt.getStringOption)(Dt.presence,["visible","hidden","inactive","invisible"]),this.relevant=(0,Pt.getRelevant)(Dt.relevant),this.use=Dt.use||"",this.usehref=Dt.usehref||"",this.w=Dt.w?(0,Pt.getMeasurement)(Dt.w):"",this.x=(0,Pt.getMeasurement)(Dt.x,"0pt"),this.y=(0,Pt.getMeasurement)(Dt.y,"0pt"),this.assist=null,this.bind=null,this.border=null,this.calculate=null,this.caption=null,this.desc=null,this.extras=null,this.margin=null,this.para=null,this.traversal=null,this.validate=null,this.connect=new bt.XFAObjectArray,this.event=new bt.XFAObjectArray,this.field=new bt.XFAObjectArray,this.setProperty=new bt.XFAObjectArray}[wt.$isBindable](){return!0}[wt.$hasSettableValue](){return!0}[wt.$setValue](Dt){for(const yn of this.field.children){if(!yn.value){const qn=new jn({});yn[wt.$appendChild](qn),yn.value=qn}yn.value[wt.$setValue](Dt)}}[wt.$isThereMoreWidth](){return this.layout.endsWith("-tb")&&this[wt.$extra].attempt===0&&this[wt.$extra].numberInLine>0||this[wt.$getParent]()[wt.$isThereMoreWidth]()}[wt.$isSplittable](){var yn;const Dt=this[wt.$getSubformParent]();return Dt[wt.$isSplittable]()?this[wt.$extra]._isSplittable!==void 0?this[wt.$extra]._isSplittable:this.layout==="position"||this.layout.includes("row")?(this[wt.$extra]._isSplittable=!1,!1):(yn=Dt.layout)!=null&&yn.endsWith("-tb")&&Dt[wt.$extra].numberInLine!==0?!1:(this[wt.$extra]._isSplittable=!0,!0):!1}[wt.$flushHTML](){return(0,Rt.flushHTML)(this)}[wt.$addHTML](Dt,yn){(0,Rt.addHTML)(this,Dt,yn)}[wt.$getAvailableSpace](){return(0,Rt.getAvailableSpace)(this)}[wt.$toHTML](Dt){if(Yt(this),this.presence==="hidden"||this.presence==="inactive"||this.h===0||this.w===0)return Pt.HTMLResult.EMPTY;(0,_e.fixDimensions)(this);const yn=[],qn={id:this[wt.$uid],class:[]};(0,_e.setAccess)(this,qn.class),this[wt.$extra]||(this[wt.$extra]=Object.create(null)),Object.assign(this[wt.$extra],{children:yn,attributes:qn,attempt:0,line:null,numberInLine:0,availableSpace:{width:Math.min(this.w||1/0,Dt.width),height:Math.min(this.h||1/0,Dt.height)},width:0,height:0,prevHeight:0,currentWidth:0});const _i=this[wt.$isSplittable]();if(_i||Ht(this),!(0,Rt.checkDimensions)(this,Dt))return Pt.HTMLResult.FAILURE;const Kn=new Set(["field"]);if(this.layout.includes("row")){const Xr=this[wt.$getSubformParent]().columnWidths;Array.isArray(Xr)&&Xr.length>0&&(this[wt.$extra].columnWidths=Xr,this[wt.$extra].currentColumn=0)}const ir=(0,_e.toStyle)(this,"anchorType","dimensions","position","presence","border","margin","hAlign"),ar=["xfaExclgroup"],gr=(0,_e.layoutClass)(this);gr&&ar.push(gr),(0,_e.isPrintOnly)(this)&&ar.push("xfaPrintOnly"),qn.style=ir,qn.class=ar,this.name&&(qn.xfaName=this.name),this[wt.$pushPara]();const mr=this.layout==="lr-tb"||this.layout==="rl-tb",br=mr?kt:1;for(;this[wt.$extra].attempt<br;this[wt.$extra].attempt++){mr&&this[wt.$extra].attempt===kt-1&&(this[wt.$extra].numberInLine=0);const Xr=this[wt.$childrenToHTML]({filter:Kn,include:!0});if(Xr.success)break;if(Xr.isBreak())return this[wt.$popPara](),Xr;if(mr&&this[wt.$extra].attempt===0&&this[wt.$extra].numberInLine===0&&!this[wt.$getTemplateRoot]()[wt.$extra].noLayoutFailure){this[wt.$extra].attempt=br;break}}if(this[wt.$popPara](),_i||an(this),this[wt.$extra].attempt===br)return _i||delete this[wt.$extra],Pt.HTMLResult.FAILURE;let Ir=0,Cr=0;this.margin&&(Ir=this.margin.leftInset+this.margin.rightInset,Cr=this.margin.topInset+this.margin.bottomInset);const kr=Math.max(this[wt.$extra].width+Ir,this.w||0),ts=Math.max(this[wt.$extra].height+Cr,this.h||0),Mr=[this.x,this.y,kr,ts];this.w===""&&(ir.width=(0,_e.measureToString)(kr)),this.h===""&&(ir.height=(0,_e.measureToString)(ts));const Gr={name:"div",attributes:qn,children:yn};return un(this,qn),delete this[wt.$extra],Pt.HTMLResult.success((0,_e.createWrapper)(this,Gr),Mr)}}class ur extends bt.XFAObject{constructor(Dt){super(Lt,"execute"),this.connection=Dt.connection||"",this.executeType=(0,Pt.getStringOption)(Dt.executeType,["import","remerge"]),this.id=Dt.id||"",this.runAt=(0,Pt.getStringOption)(Dt.runAt,["client","both","server"]),this.use=Dt.use||"",this.usehref=Dt.usehref||""}}class hr extends bt.XFAObject{constructor(Dt){super(Lt,"extras",!0),this.id=Dt.id||"",this.name=Dt.name||"",this.use=Dt.use||"",this.usehref=Dt.usehref||"",this.boolean=new bt.XFAObjectArray,this.date=new bt.XFAObjectArray,this.dateTime=new bt.XFAObjectArray,this.decimal=new bt.XFAObjectArray,this.exData=new bt.XFAObjectArray,this.extras=new bt.XFAObjectArray,this.float=new bt.XFAObjectArray,this.image=new bt.XFAObjectArray,this.integer=new bt.XFAObjectArray,this.text=new bt.XFAObjectArray,this.time=new bt.XFAObjectArray}}class or extends bt.XFAObject{constructor(Dt){super(Lt,"field",!0),this.access=(0,Pt.getStringOption)(Dt.access,["open","nonInteractive","protected","readOnly"]),this.accessKey=Dt.accessKey||"",this.anchorType=(0,Pt.getStringOption)(Dt.anchorType,["topLeft","bottomCenter","bottomLeft","bottomRight","middleCenter","middleLeft","middleRight","topCenter","topRight"]),this.colSpan=(0,Pt.getInteger)({data:Dt.colSpan,defaultValue:1,validate:yn=>yn>=1||yn===-1}),this.h=Dt.h?(0,Pt.getMeasurement)(Dt.h):"",this.hAlign=(0,Pt.getStringOption)(Dt.hAlign,["left","center","justify","justifyAll","radix","right"]),this.id=Dt.id||"",this.locale=Dt.locale||"",this.maxH=(0,Pt.getMeasurement)(Dt.maxH,"0pt"),this.maxW=(0,Pt.getMeasurement)(Dt.maxW,"0pt"),this.minH=(0,Pt.getMeasurement)(Dt.minH,"0pt"),this.minW=(0,Pt.getMeasurement)(Dt.minW,"0pt"),this.name=Dt.name||"",this.presence=(0,Pt.getStringOption)(Dt.presence,["visible","hidden","inactive","invisible"]),this.relevant=(0,Pt.getRelevant)(Dt.relevant),this.rotate=(0,Pt.getInteger)({data:Dt.rotate,defaultValue:0,validate:yn=>yn%90===0}),this.use=Dt.use||"",this.usehref=Dt.usehref||"",this.w=Dt.w?(0,Pt.getMeasurement)(Dt.w):"",this.x=(0,Pt.getMeasurement)(Dt.x,"0pt"),this.y=(0,Pt.getMeasurement)(Dt.y,"0pt"),this.assist=null,this.bind=null,this.border=null,this.calculate=null,this.caption=null,this.desc=null,this.extras=null,this.font=null,this.format=null,this.items=new bt.XFAObjectArray(2),this.keep=null,this.margin=null,this.para=null,this.traversal=null,this.ui=null,this.validate=null,this.value=null,this.bindItems=new bt.XFAObjectArray,this.connect=new bt.XFAObjectArray,this.event=new bt.XFAObjectArray,this.setProperty=new bt.XFAObjectArray}[wt.$isBindable](){return!0}[wt.$setValue](Dt){tn(this,Dt)}[wt.$toHTML](Dt){var Xr,Hr,Qr;if(Yt(this),!this.ui){this.ui=new Eu({}),this.ui[wt.$globalData]=this[wt.$globalData],this[wt.$appendChild](this.ui);let Br;switch(this.items.children.length){case 0:Br=new z0({}),this.ui.textEdit=Br;break;case 1:Br=new wn({}),this.ui.checkButton=Br;break;case 2:Br=new Cn({}),this.ui.choiceList=Br;break}this.ui[wt.$appendChild](Br)}if(!this.ui||this.presence==="hidden"||this.presence==="inactive"||this.h===0||this.w===0)return Pt.HTMLResult.EMPTY;this.caption&&delete this.caption[wt.$extra],this[wt.$pushPara]();const yn=this.caption?this.caption[wt.$toHTML](Dt).html:null,qn=this.w,_i=this.h;let Kn=0,ir=0;this.margin&&(Kn=this.margin.leftInset+this.margin.rightInset,ir=this.margin.topInset+this.margin.bottomInset);let ar=null;if(this.w===""||this.h===""){let Br=null,Nr=null,Es=0,ks=0;if(this.ui.checkButton)Es=ks=this.ui.checkButton.size;else{const{w:Ps,h:Fs}=(0,_e.layoutNode)(this,Dt);Ps!==null?(Es=Ps,ks=Fs):ks=(0,Kt.getMetrics)(this.font,!0).lineNoGap}if(ar=Qt(this.ui[wt.$getExtra]()),Es+=ar.w,ks+=ar.h,this.caption){const{w:Ps,h:Fs,isBroken:Is}=this.caption[wt.$getExtra](Dt);if(Is&&this[wt.$getSubformParent]()[wt.$isThereMoreWidth]())return this[wt.$popPara](),Pt.HTMLResult.FAILURE;switch(Br=Ps,Nr=Fs,this.caption.placement){case"left":case"right":case"inline":Br+=Es;break;case"top":case"bottom":Nr+=ks;break}}else Br=Es,Nr=ks;Br&&this.w===""&&(Br+=Kn,this.w=Math.min(this.maxW<=0?1/0:this.maxW,this.minW+1<Br?Br:this.minW)),Nr&&this.h===""&&(Nr+=ir,this.h=Math.min(this.maxH<=0?1/0:this.maxH,this.minH+1<Nr?Nr:this.minH))}if(this[wt.$popPara](),(0,_e.fixDimensions)(this),Ht(this),!(0,Rt.checkDimensions)(this,Dt))return this.w=qn,this.h=_i,this[wt.$popPara](),Pt.HTMLResult.FAILURE;an(this);const gr=(0,_e.toStyle)(this,"font","dimensions","position","rotate","anchorType","presence","margin","hAlign");(0,_e.setMinMaxDimensions)(this,gr);const mr=["xfaField"];this.font&&mr.push("xfaFont"),(0,_e.isPrintOnly)(this)&&mr.push("xfaPrintOnly");const br={style:gr,id:this[wt.$uid],class:mr};gr.margin&&(gr.padding=gr.margin,delete gr.margin),(0,_e.setAccess)(this,mr),this.name&&(br.xfaName=this.name);const Ir=[],Cr={name:"div",attributes:br,children:Ir};un(this,br);const kr=this.border?this.border[wt.$toStyle]():null,ts=(0,_e.computeBbox)(this,Cr,Dt),Mr=this.ui[wt.$toHTML]().html;if(!Mr)return Object.assign(gr,kr),Pt.HTMLResult.success((0,_e.createWrapper)(this,Cr),ts);this[wt.$tabIndex]&&((Xr=Mr.children)!=null&&Xr[0]?Mr.children[0].attributes.tabindex=this[wt.$tabIndex]:Mr.attributes.tabindex=this[wt.$tabIndex]),Mr.attributes.style||(Mr.attributes.style=Object.create(null));let Gr=null;if(this.ui.button?(Mr.children.length===1&&([Gr]=Mr.children.splice(0,1)),Object.assign(Mr.attributes.style,kr)):Object.assign(gr,kr),Ir.push(Mr),this.value){if(this.ui.imageEdit)Mr.children.push(this.value[wt.$toHTML]().html);else if(!this.ui.button){let Br="";if(this.value.exData)Br=this.value.exData[wt.$text]();else if(this.value.text)Br=this.value.text[wt.$getExtra]();else{const Nr=this.value[wt.$toHTML]().html;Nr!==null&&(Br=Nr.children[0].value)}this.ui.textEdit&&((Hr=this.value.text)!=null&&Hr.maxChars)&&(Mr.children[0].attributes.maxLength=this.value.text.maxChars),Br&&(this.ui.numericEdit&&(Br=parseFloat(Br),Br=isNaN(Br)?"":Br.toString()),Mr.children[0].name==="textarea"?Mr.children[0].attributes.textContent=Br:Mr.children[0].attributes.value=Br)}}if(!this.ui.imageEdit&&((Qr=Mr.children)!=null&&Qr[0])&&this.h){ar=ar||Qt(this.ui[wt.$getExtra]());let Br=0;if(this.caption&&["top","bottom"].includes(this.caption.placement)){Br=this.caption.reserve,Br<=0&&(Br=this.caption[wt.$getExtra](Dt).h);const Nr=this.h-Br-ir-ar.h;Mr.children[0].attributes.style.height=(0,_e.measureToString)(Nr)}else Mr.children[0].attributes.style.height="100%"}if(Gr&&Mr.children.push(Gr),!yn)return Mr.attributes.class&&Mr.attributes.class.push("xfaLeft"),this.w=qn,this.h=_i,Pt.HTMLResult.success((0,_e.createWrapper)(this,Cr),ts);if(this.ui.button)return gr.padding&&delete gr.padding,yn.name==="div"&&(yn.name="span"),Mr.children.push(yn),Pt.HTMLResult.success(Cr,ts);switch(this.ui.checkButton&&(yn.attributes.class[0]="xfaCaptionForCheckButton"),Mr.attributes.class||(Mr.attributes.class=[]),Mr.children.splice(0,0,yn),this.caption.placement){case"left":Mr.attributes.class.push("xfaLeft");break;case"right":Mr.attributes.class.push("xfaRight");break;case"top":Mr.attributes.class.push("xfaTop");break;case"bottom":Mr.attributes.class.push("xfaBottom");break;case"inline":Mr.attributes.class.push("xfaLeft");break}return this.w=qn,this.h=_i,Pt.HTMLResult.success((0,_e.createWrapper)(this,Cr),ts)}}Et.Field=or;class pr extends bt.XFAObject{constructor(Dt){super(Lt,"fill",!0),this.id=Dt.id||"",this.presence=(0,Pt.getStringOption)(Dt.presence,["visible","hidden","inactive","invisible"]),this.use=Dt.use||"",this.usehref=Dt.usehref||"",this.color=null,this.extras=null,this.linear=null,this.pattern=null,this.radial=null,this.solid=null,this.stipple=null}[wt.$toStyle](){var ar;const Dt=this[wt.$getParent](),qn=Dt[wt.$getParent]()[wt.$getParent](),_i=Object.create(null);let Kn="color",ir=Kn;Dt instanceof Pn&&(Kn="background-color",ir="background",qn instanceof Eu&&(_i.backgroundColor="white")),(Dt instanceof fs||Dt instanceof hn)&&(Kn=ir="fill",_i.fill="white");for(const gr of Object.getOwnPropertyNames(this)){if(gr==="extras"||gr==="color")continue;const mr=this[gr];if(!(mr instanceof bt.XFAObject))continue;const br=mr[wt.$toStyle](this.color);return br&&(_i[br.startsWith("#")?Kn:ir]=br),_i}if((ar=this.color)!=null&&ar.value){const gr=this.color[wt.$toStyle]();_i[gr.startsWith("#")?Kn:ir]=gr}return _i}}class wr extends bt.XFAObject{constructor(Dt){super(Lt,"filter",!0),this.addRevocationInfo=(0,Pt.getStringOption)(Dt.addRevocationInfo,["","required","optional","none"]),this.id=Dt.id||"",this.name=Dt.name||"",this.use=Dt.use||"",this.usehref=Dt.usehref||"",this.version=(0,Pt.getInteger)({data:this.version,defaultValue:5,validate:yn=>yn>=1&&yn<=5}),this.appearanceFilter=null,this.certificates=null,this.digestMethods=null,this.encodings=null,this.encryptionMethods=null,this.handler=null,this.lockDocument=null,this.mdp=null,this.reasons=null,this.timeStamp=null}}class fr extends bt.ContentObject{constructor(Dt){super(Lt,"float"),this.id=Dt.id||"",this.name=Dt.name||"",this.use=Dt.use||"",this.usehref=Dt.usehref||""}[wt.$finalize](){const Dt=parseFloat(this[wt.$content].trim());this[wt.$content]=isNaN(Dt)?null:Dt}[wt.$toHTML](Dt){return Ot(this[wt.$content]!==null?this[wt.$content].toString():"")}}class Ar extends bt.XFAObject{constructor(Dt){super(Lt,"font",!0),this.baselineShift=(0,Pt.getMeasurement)(Dt.baselineShift),this.fontHorizontalScale=(0,Pt.getFloat)({data:Dt.fontHorizontalScale,defaultValue:100,validate:yn=>yn>=0}),this.fontVerticalScale=(0,Pt.getFloat)({data:Dt.fontVerticalScale,defaultValue:100,validate:yn=>yn>=0}),this.id=Dt.id||"",this.kerningMode=(0,Pt.getStringOption)(Dt.kerningMode,["none","pair"]),this.letterSpacing=(0,Pt.getMeasurement)(Dt.letterSpacing,"0"),this.lineThrough=(0,Pt.getInteger)({data:Dt.lineThrough,defaultValue:0,validate:yn=>yn===1||yn===2}),this.lineThroughPeriod=(0,Pt.getStringOption)(Dt.lineThroughPeriod,["all","word"]),this.overline=(0,Pt.getInteger)({data:Dt.overline,defaultValue:0,validate:yn=>yn===1||yn===2}),this.overlinePeriod=(0,Pt.getStringOption)(Dt.overlinePeriod,["all","word"]),this.posture=(0,Pt.getStringOption)(Dt.posture,["normal","italic"]),this.size=(0,Pt.getMeasurement)(Dt.size,"10pt"),this.typeface=Dt.typeface||"Courier",this.underline=(0,Pt.getInteger)({data:Dt.underline,defaultValue:0,validate:yn=>yn===1||yn===2}),this.underlinePeriod=(0,Pt.getStringOption)(Dt.underlinePeriod,["all","word"]),this.use=Dt.use||"",this.usehref=Dt.usehref||"",this.weight=(0,Pt.getStringOption)(Dt.weight,["normal","bold"]),this.extras=null,this.fill=null}[wt.$clean](Dt){super[wt.$clean](Dt),this[wt.$globalData].usedTypefaces.add(this.typeface)}[wt.$toStyle](){const Dt=(0,_e.toStyle)(this,"fill"),yn=Dt.color;return yn&&(yn==="#000000"?delete Dt.color:yn.startsWith("#")||(Dt.background=yn,Dt.backgroundClip="text",Dt.color="transparent")),this.baselineShift&&(Dt.verticalAlign=(0,_e.measureToString)(this.baselineShift)),Dt.fontKerning=this.kerningMode==="none"?"none":"normal",Dt.letterSpacing=(0,_e.measureToString)(this.letterSpacing),this.lineThrough!==0&&(Dt.textDecoration="line-through",this.lineThrough===2&&(Dt.textDecorationStyle="double")),this.overline!==0&&(Dt.textDecoration="overline",this.overline===2&&(Dt.textDecorationStyle="double")),Dt.fontStyle=this.posture,Dt.fontSize=(0,_e.measureToString)(.99*this.size),(0,_e.setFontFamily)(this,this,this[wt.$globalData].fontFinder,Dt),this.underline!==0&&(Dt.textDecoration="underline",this.underline===2&&(Dt.textDecorationStyle="double")),Dt.fontWeight=this.weight,Dt}}class Lr extends bt.XFAObject{constructor(Dt){super(Lt,"format",!0),this.id=Dt.id||"",this.use=Dt.use||"",this.usehref=Dt.usehref||"",this.extras=null,this.picture=null}}class Pr extends bt.StringObject{constructor(Dt){super(Lt,"handler"),this.id=Dt.id||"",this.type=(0,Pt.getStringOption)(Dt.type,["optional","required"]),this.use=Dt.use||"",this.usehref=Dt.usehref||""}}class $r extends bt.XFAObject{constructor(Dt){super(Lt,"hyphenation"),this.excludeAllCaps=(0,Pt.getInteger)({data:Dt.excludeAllCaps,defaultValue:0,validate:yn=>yn===1}),this.excludeInitialCap=(0,Pt.getInteger)({data:Dt.excludeInitialCap,defaultValue:0,validate:yn=>yn===1}),this.hyphenate=(0,Pt.getInteger)({data:Dt.hyphenate,defaultValue:0,validate:yn=>yn===1}),this.id=Dt.id||"",this.pushCharacterCount=(0,Pt.getInteger)({data:Dt.pushCharacterCount,defaultValue:3,validate:yn=>yn>=0}),this.remainCharacterCount=(0,Pt.getInteger)({data:Dt.remainCharacterCount,defaultValue:3,validate:yn=>yn>=0}),this.use=Dt.use||"",this.usehref=Dt.usehref||"",this.wordCharacterCount=(0,Pt.getInteger)({data:Dt.wordCharacterCount,defaultValue:7,validate:yn=>yn>=0})}}class Er extends bt.StringObject{constructor(Dt){super(Lt,"image"),this.aspect=(0,Pt.getStringOption)(Dt.aspect,["fit","actual","height","none","width"]),this.contentType=Dt.contentType||"",this.href=Dt.href||"",this.id=Dt.id||"",this.name=Dt.name||"",this.transferEncoding=(0,Pt.getStringOption)(Dt.transferEncoding,["base64","none","package"]),this.use=Dt.use||"",this.usehref=Dt.usehref||""}[wt.$toHTML](){if(this.contentType&&!en.has(this.contentType.toLowerCase()))return Pt.HTMLResult.EMPTY;let Dt=this[wt.$globalData].images&&this[wt.$globalData].images.get(this.href);if(!Dt&&(this.href||!this[wt.$content])||(!Dt&&this.transferEncoding==="base64"&&(Dt=(0,Xt.stringToBytes)(atob(this[wt.$content]))),!Dt))return Pt.HTMLResult.EMPTY;if(!this.contentType){for(const[Kn,ir]of dn)if(Dt.length>Kn.length&&Kn.every((ar,gr)=>ar===Dt[gr])){this.contentType=ir;break}if(!this.contentType)return Pt.HTMLResult.EMPTY}const yn=new Blob([Dt],{type:this.contentType});let qn;switch(this.aspect){case"fit":case"actual":break;case"height":qn={height:"100%",objectFit:"fill"};break;case"none":qn={width:"100%",height:"100%",objectFit:"fill"};break;case"width":qn={width:"100%",objectFit:"fill"};break}const _i=this[wt.$getParent]();return Pt.HTMLResult.success({name:"img",attributes:{class:["xfaImage"],style:qn,src:URL.createObjectURL(yn),alt:_i?Ut(_i[wt.$getParent]()):null}})}}class _r extends bt.XFAObject{constructor(Dt){super(Lt,"imageEdit",!0),this.data=(0,Pt.getStringOption)(Dt.data,["link","embed"]),this.id=Dt.id||"",this.use=Dt.use||"",this.usehref=Dt.usehref||"",this.border=null,this.extras=null,this.margin=null}[wt.$toHTML](Dt){return this.data==="embed"?Pt.HTMLResult.success({name:"div",children:[],attributes:{}}):Pt.HTMLResult.EMPTY}}class Fr extends bt.ContentObject{constructor(Dt){super(Lt,"integer"),this.id=Dt.id||"",this.name=Dt.name||"",this.use=Dt.use||"",this.usehref=Dt.usehref||""}[wt.$finalize](){const Dt=parseInt(this[wt.$content].trim(),10);this[wt.$content]=isNaN(Dt)?null:Dt}[wt.$toHTML](Dt){return Ot(this[wt.$content]!==null?this[wt.$content].toString():"")}}class qr extends bt.XFAObject{constructor(Dt){super(Lt,"issuers",!0),this.id=Dt.id||"",this.type=(0,Pt.getStringOption)(Dt.type,["optional","required"]),this.use=Dt.use||"",this.usehref=Dt.usehref||"",this.certificate=new bt.XFAObjectArray}}class vs extends bt.XFAObject{constructor(Dt){super(Lt,"items",!0),this.id=Dt.id||"",this.name=Dt.name||"",this.presence=(0,Pt.getStringOption)(Dt.presence,["visible","hidden","inactive","invisible"]),this.ref=Dt.ref||"",this.save=(0,Pt.getInteger)({data:Dt.save,defaultValue:0,validate:yn=>yn===1}),this.use=Dt.use||"",this.usehref=Dt.usehref||"",this.boolean=new bt.XFAObjectArray,this.date=new bt.XFAObjectArray,this.dateTime=new bt.XFAObjectArray,this.decimal=new bt.XFAObjectArray,this.exData=new bt.XFAObjectArray,this.float=new bt.XFAObjectArray,this.image=new bt.XFAObjectArray,this.integer=new bt.XFAObjectArray,this.text=new bt.XFAObjectArray,this.time=new bt.XFAObjectArray}[wt.$toHTML](){const Dt=[];for(const yn of this[wt.$getChildren]())Dt.push(yn[wt.$text]());return Pt.HTMLResult.success(Dt)}}Et.Items=vs;class ls extends bt.XFAObject{constructor(Dt){super(Lt,"keep",!0),this.id=Dt.id||"";const yn=["none","contentArea","pageArea"];this.intact=(0,Pt.getStringOption)(Dt.intact,yn),this.next=(0,Pt.getStringOption)(Dt.next,yn),this.previous=(0,Pt.getStringOption)(Dt.previous,yn),this.use=Dt.use||"",this.usehref=Dt.usehref||"",this.extras=null}}class ns extends bt.XFAObject{constructor(Dt){super(Lt,"keyUsage");const yn=["","yes","no"];this.crlSign=(0,Pt.getStringOption)(Dt.crlSign,yn),this.dataEncipherment=(0,Pt.getStringOption)(Dt.dataEncipherment,yn),this.decipherOnly=(0,Pt.getStringOption)(Dt.decipherOnly,yn),this.digitalSignature=(0,Pt.getStringOption)(Dt.digitalSignature,yn),this.encipherOnly=(0,Pt.getStringOption)(Dt.encipherOnly,yn),this.id=Dt.id||"",this.keyAgreement=(0,Pt.getStringOption)(Dt.keyAgreement,yn),this.keyCertSign=(0,Pt.getStringOption)(Dt.keyCertSign,yn),this.keyEncipherment=(0,Pt.getStringOption)(Dt.keyEncipherment,yn),this.nonRepudiation=(0,Pt.getStringOption)(Dt.nonRepudiation,yn),this.type=(0,Pt.getStringOption)(Dt.type,["optional","required"]),this.use=Dt.use||"",this.usehref=Dt.usehref||""}}class Ns extends bt.XFAObject{constructor(Dt){super(Lt,"line",!0),this.hand=(0,Pt.getStringOption)(Dt.hand,["even","left","right"]),this.id=Dt.id||"",this.slope=(0,Pt.getStringOption)(Dt.slope,["\\","/"]),this.use=Dt.use||"",this.usehref=Dt.usehref||"",this.edge=null}[wt.$toHTML](){const Dt=this[wt.$getParent]()[wt.$getParent](),yn=this.edge||new nr({}),qn=yn[wt.$toStyle](),_i=Object.create(null),Kn=yn.presence==="visible"?yn.thickness:0;_i.strokeWidth=(0,_e.measureToString)(Kn),_i.stroke=qn.color;let ir,ar,gr,mr,br="100%",Ir="100%";Dt.w<=Kn?([ir,ar,gr,mr]=["50%",0,"50%","100%"],br=_i.strokeWidth):Dt.h<=Kn?([ir,ar,gr,mr]=[0,"50%","100%","50%"],Ir=_i.strokeWidth):this.slope==="\\"?[ir,ar,gr,mr]=[0,0,"100%","100%"]:[ir,ar,gr,mr]=[0,"100%","100%",0];const kr={name:"svg",children:[{name:"line",attributes:{xmlns:jt,x1:ir,y1:ar,x2:gr,y2:mr,style:_i}}],attributes:{xmlns:jt,width:br,height:Ir,style:{overflow:"visible"}}};return gn(Dt)?Pt.HTMLResult.success({name:"div",attributes:{style:{display:"inline",width:"100%",height:"100%"}},children:[kr]}):(kr.attributes.style.position="absolute",Pt.HTMLResult.success(kr))}}class Gs extends bt.XFAObject{constructor(Dt){super(Lt,"linear",!0),this.id=Dt.id||"",this.type=(0,Pt.getStringOption)(Dt.type,["toRight","toBottom","toLeft","toTop"]),this.use=Dt.use||"",this.usehref=Dt.usehref||"",this.color=null,this.extras=null}[wt.$toStyle](Dt){Dt=Dt?Dt[wt.$toStyle]():"#FFFFFF";const yn=this.type.replace(/([RBLT])/," $1").toLowerCase(),qn=this.color?this.color[wt.$toStyle]():"#000000";return`linear-gradient(${yn}, ${Dt}, ${qn})`}}class vr extends bt.ContentObject{constructor(Dt){super(Lt,"lockDocument"),this.id=Dt.id||"",this.type=(0,Pt.getStringOption)(Dt.type,["optional","required"]),this.use=Dt.use||"",this.usehref=Dt.usehref||""}[wt.$finalize](){this[wt.$content]=(0,Pt.getStringOption)(this[wt.$content],["auto","0","1"])}}class yr extends bt.XFAObject{constructor(Dt){super(Lt,"manifest",!0),this.action=(0,Pt.getStringOption)(Dt.action,["include","all","exclude"]),this.id=Dt.id||"",this.name=Dt.name||"",this.use=Dt.use||"",this.usehref=Dt.usehref||"",this.extras=null,this.ref=new bt.XFAObjectArray}}class Sr extends bt.XFAObject{constructor(Dt){super(Lt,"margin",!0),this.bottomInset=(0,Pt.getMeasurement)(Dt.bottomInset,"0"),this.id=Dt.id||"",this.leftInset=(0,Pt.getMeasurement)(Dt.leftInset,"0"),this.rightInset=(0,Pt.getMeasurement)(Dt.rightInset,"0"),this.topInset=(0,Pt.getMeasurement)(Dt.topInset,"0"),this.use=Dt.use||"",this.usehref=Dt.usehref||"",this.extras=null}[wt.$toStyle](){return{margin:(0,_e.measureToString)(this.topInset)+" "+(0,_e.measureToString)(this.rightInset)+" "+(0,_e.measureToString)(this.bottomInset)+" "+(0,_e.measureToString)(this.leftInset)}}}class Rr extends bt.XFAObject{constructor(Dt){super(Lt,"mdp"),this.id=Dt.id||"",this.permissions=(0,Pt.getInteger)({data:Dt.permissions,defaultValue:2,validate:yn=>yn===1||yn===3}),this.signatureType=(0,Pt.getStringOption)(Dt.signatureType,["filler","author"]),this.use=Dt.use||"",this.usehref=Dt.usehref||""}}class jr extends bt.XFAObject{constructor(Dt){super(Lt,"medium"),this.id=Dt.id||"",this.imagingBBox=(0,Pt.getBBox)(Dt.imagingBBox),this.long=(0,Pt.getMeasurement)(Dt.long),this.orientation=(0,Pt.getStringOption)(Dt.orientation,["portrait","landscape"]),this.short=(0,Pt.getMeasurement)(Dt.short),this.stock=Dt.stock||"",this.trayIn=(0,Pt.getStringOption)(Dt.trayIn,["auto","delegate","pageFront"]),this.trayOut=(0,Pt.getStringOption)(Dt.trayOut,["auto","delegate"]),this.use=Dt.use||"",this.usehref=Dt.usehref||""}}class es extends bt.XFAObject{constructor(Dt){super(Lt,"message",!0),this.id=Dt.id||"",this.use=Dt.use||"",this.usehref=Dt.usehref||"",this.text=new bt.XFAObjectArray}}class Or extends bt.XFAObject{constructor(Dt){super(Lt,"numericEdit",!0),this.hScrollPolicy=(0,Pt.getStringOption)(Dt.hScrollPolicy,["auto","off","on"]),this.id=Dt.id||"",this.use=Dt.use||"",this.usehref=Dt.usehref||"",this.border=null,this.comb=null,this.extras=null,this.margin=null}[wt.$toHTML](Dt){var Kn;const yn=(0,_e.toStyle)(this,"border","font","margin"),qn=this[wt.$getParent]()[wt.$getParent](),_i={name:"input",attributes:{type:"text",fieldId:qn[wt.$uid],dataId:((Kn=qn[wt.$data])==null?void 0:Kn[wt.$uid])||qn[wt.$uid],class:["xfaTextfield"],style:yn,"aria-label":Ut(qn),"aria-required":!1}};return Wt(qn)&&(_i.attributes["aria-required"]=!0,_i.attributes.required=!0),Pt.HTMLResult.success({name:"label",attributes:{class:["xfaLabel"]},children:[_i]})}}class Tr extends bt.XFAObject{constructor(Dt){super(Lt,"occur",!0),this.id=Dt.id||"",this.initial=Dt.initial!==""?(0,Pt.getInteger)({data:Dt.initial,defaultValue:"",validate:yn=>!0}):"",this.max=Dt.max!==""?(0,Pt.getInteger)({data:Dt.max,defaultValue:1,validate:yn=>!0}):"",this.min=Dt.min!==""?(0,Pt.getInteger)({data:Dt.min,defaultValue:1,validate:yn=>!0}):"",this.use=Dt.use||"",this.usehref=Dt.usehref||"",this.extras=null}[wt.$clean](){const Dt=this[wt.$getParent](),yn=this.min;this.min===""&&(this.min=Dt instanceof Jr||Dt instanceof ss?0:1),this.max===""&&(yn===""?this.max=Dt instanceof Jr||Dt instanceof ss?-1:1:this.max=this.min),this.max!==-1&&this.max<this.min&&(this.max=this.min),this.initial===""&&(this.initial=Dt instanceof Au?1:this.min)}}class Vr extends bt.StringObject{constructor(Dt){super(Lt,"oid"),this.id=Dt.id||"",this.name=Dt.name||"",this.use=Dt.use||"",this.usehref=Dt.usehref||""}}class us extends bt.XFAObject{constructor(Dt){super(Lt,"oids",!0),this.id=Dt.id||"",this.type=(0,Pt.getStringOption)(Dt.type,["optional","required"]),this.use=Dt.use||"",this.usehref=Dt.usehref||"",this.oid=new bt.XFAObjectArray}}class bs extends bt.XFAObject{constructor(Dt){super(Lt,"overflow"),this.id=Dt.id||"",this.leader=Dt.leader||"",this.target=Dt.target||"",this.trailer=Dt.trailer||"",this.use=Dt.use||"",this.usehref=Dt.usehref||""}[wt.$getExtra](){if(!this[wt.$extra]){const Dt=this[wt.$getParent](),yn=this[wt.$getTemplateRoot](),qn=yn[wt.$searchNode](this.target,Dt),_i=yn[wt.$searchNode](this.leader,Dt),Kn=yn[wt.$searchNode](this.trailer,Dt);this[wt.$extra]={target:(qn==null?void 0:qn[0])||null,leader:(_i==null?void 0:_i[0])||null,trailer:(Kn==null?void 0:Kn[0])||null,addLeader:!1,addTrailer:!1}}return this[wt.$extra]}}class Jr extends bt.XFAObject{constructor(Dt){super(Lt,"pageArea",!0),this.blankOrNotBlank=(0,Pt.getStringOption)(Dt.blankOrNotBlank,["any","blank","notBlank"]),this.id=Dt.id||"",this.initialNumber=(0,Pt.getInteger)({data:Dt.initialNumber,defaultValue:1,validate:yn=>!0}),this.name=Dt.name||"",this.numbered=(0,Pt.getInteger)({data:Dt.numbered,defaultValue:1,validate:yn=>!0}),this.oddOrEven=(0,Pt.getStringOption)(Dt.oddOrEven,["any","even","odd"]),this.pagePosition=(0,Pt.getStringOption)(Dt.pagePosition,["any","first","last","only","rest"]),this.relevant=(0,Pt.getRelevant)(Dt.relevant),this.use=Dt.use||"",this.usehref=Dt.usehref||"",this.desc=null,this.extras=null,this.medium=null,this.occur=null,this.area=new bt.XFAObjectArray,this.contentArea=new bt.XFAObjectArray,this.draw=new bt.XFAObjectArray,this.exclGroup=new bt.XFAObjectArray,this.field=new bt.XFAObjectArray,this.subform=new bt.XFAObjectArray}[wt.$isUsable](){return this[wt.$extra]?!this.occur||this.occur.max===-1||this[wt.$extra].numberOfUse<this.occur.max:(this[wt.$extra]={numberOfUse:0},!0)}[wt.$cleanPage](){delete this[wt.$extra]}[wt.$getNextPage](){this[wt.$extra]||(this[wt.$extra]={numberOfUse:0});const Dt=this[wt.$getParent]();return Dt.relation==="orderedOccurrence"&&this[wt.$isUsable]()?(this[wt.$extra].numberOfUse+=1,this):Dt[wt.$getNextPage]()}[wt.$getAvailableSpace](){return this[wt.$extra].space||{width:0,height:0}}[wt.$toHTML](){this[wt.$extra]||(this[wt.$extra]={numberOfUse:1});const Dt=[];this[wt.$extra].children=Dt;const yn=Object.create(null);if(this.medium&&this.medium.short&&this.medium.long){if(yn.width=(0,_e.measureToString)(this.medium.short),yn.height=(0,_e.measureToString)(this.medium.long),this[wt.$extra].space={width:this.medium.short,height:this.medium.long},this.medium.orientation==="landscape"){const qn=yn.width;yn.width=yn.height,yn.height=qn,this[wt.$extra].space={width:this.medium.long,height:this.medium.short}}}else(0,Xt.warn)("XFA - No medium specified in pageArea: please file a bug.");return this[wt.$childrenToHTML]({filter:new Set(["area","draw","field","subform"]),include:!0}),this[wt.$childrenToHTML]({filter:new Set(["contentArea"]),include:!0}),Pt.HTMLResult.success({name:"div",children:Dt,attributes:{class:["xfaPage"],id:this[wt.$uid],style:yn,xfaName:this.name}})}}class ss extends bt.XFAObject{constructor(Dt){super(Lt,"pageSet",!0),this.duplexImposition=(0,Pt.getStringOption)(Dt.duplexImposition,["longEdge","shortEdge"]),this.id=Dt.id||"",this.name=Dt.name||"",this.relation=(0,Pt.getStringOption)(Dt.relation,["orderedOccurrence","duplexPaginated","simplexPaginated"]),this.relevant=(0,Pt.getRelevant)(Dt.relevant),this.use=Dt.use||"",this.usehref=Dt.usehref||"",this.extras=null,this.occur=null,this.pageArea=new bt.XFAObjectArray,this.pageSet=new bt.XFAObjectArray}[wt.$cleanPage](){for(const Dt of this.pageArea.children)Dt[wt.$cleanPage]();for(const Dt of this.pageSet.children)Dt[wt.$cleanPage]()}[wt.$isUsable](){return!this.occur||this.occur.max===-1||this[wt.$extra].numberOfUse<this.occur.max}[wt.$getNextPage](){if(this[wt.$extra]||(this[wt.$extra]={numberOfUse:1,pageIndex:-1,pageSetIndex:-1}),this.relation==="orderedOccurrence"){if(this[wt.$extra].pageIndex+1<this.pageArea.children.length)return this[wt.$extra].pageIndex+=1,this.pageArea.children[this[wt.$extra].pageIndex][wt.$getNextPage]();if(this[wt.$extra].pageSetIndex+1<this.pageSet.children.length)return this[wt.$extra].pageSetIndex+=1,this.pageSet.children[this[wt.$extra].pageSetIndex][wt.$getNextPage]();if(this[wt.$isUsable]())return this[wt.$extra].numberOfUse+=1,this[wt.$extra].pageIndex=-1,this[wt.$extra].pageSetIndex=-1,this[wt.$getNextPage]();const Kn=this[wt.$getParent]();return Kn instanceof ss?Kn[wt.$getNextPage]():(this[wt.$cleanPage](),this[wt.$getNextPage]())}const Dt=this[wt.$getTemplateRoot]()[wt.$extra].pageNumber,yn=Dt%2===0?"even":"odd",qn=Dt===0?"first":"rest";let _i=this.pageArea.children.find(Kn=>Kn.oddOrEven===yn&&Kn.pagePosition===qn);return _i||(_i=this.pageArea.children.find(Kn=>Kn.oddOrEven==="any"&&Kn.pagePosition===qn),_i)||(_i=this.pageArea.children.find(Kn=>Kn.oddOrEven==="any"&&Kn.pagePosition==="any"),_i)?_i:this.pageArea.children[0]}}class ms extends bt.XFAObject{constructor(Dt){super(Lt,"para",!0),this.hAlign=(0,Pt.getStringOption)(Dt.hAlign,["left","center","justify","justifyAll","radix","right"]),this.id=Dt.id||"",this.lineHeight=Dt.lineHeight?(0,Pt.getMeasurement)(Dt.lineHeight,"0pt"):"",this.marginLeft=Dt.marginLeft?(0,Pt.getMeasurement)(Dt.marginLeft,"0pt"):"",this.marginRight=Dt.marginRight?(0,Pt.getMeasurement)(Dt.marginRight,"0pt"):"",this.orphans=(0,Pt.getInteger)({data:Dt.orphans,defaultValue:0,validate:yn=>yn>=0}),this.preserve=Dt.preserve||"",this.radixOffset=Dt.radixOffset?(0,Pt.getMeasurement)(Dt.radixOffset,"0pt"):"",this.spaceAbove=Dt.spaceAbove?(0,Pt.getMeasurement)(Dt.spaceAbove,"0pt"):"",this.spaceBelow=Dt.spaceBelow?(0,Pt.getMeasurement)(Dt.spaceBelow,"0pt"):"",this.tabDefault=Dt.tabDefault?(0,Pt.getMeasurement)(this.tabDefault):"",this.tabStops=(Dt.tabStops||"").trim().split(/\s+/).map((yn,qn)=>qn%2===1?(0,Pt.getMeasurement)(yn):yn),this.textIndent=Dt.textIndent?(0,Pt.getMeasurement)(Dt.textIndent,"0pt"):"",this.use=Dt.use||"",this.usehref=Dt.usehref||"",this.vAlign=(0,Pt.getStringOption)(Dt.vAlign,["top","bottom","middle"]),this.widows=(0,Pt.getInteger)({data:Dt.widows,defaultValue:0,validate:yn=>yn>=0}),this.hyphenation=null}[wt.$toStyle](){const Dt=(0,_e.toStyle)(this,"hAlign");return this.marginLeft!==""&&(Dt.paddingLeft=(0,_e.measureToString)(this.marginLeft)),this.marginRight!==""&&(Dt.paddingight=(0,_e.measureToString)(this.marginRight)),this.spaceAbove!==""&&(Dt.paddingTop=(0,_e.measureToString)(this.spaceAbove)),this.spaceBelow!==""&&(Dt.paddingBottom=(0,_e.measureToString)(this.spaceBelow)),this.textIndent!==""&&(Dt.textIndent=(0,_e.measureToString)(this.textIndent),(0,_e.fixTextIndent)(Dt)),this.lineHeight>0&&(Dt.lineHeight=(0,_e.measureToString)(this.lineHeight)),this.tabDefault!==""&&(Dt.tabSize=(0,_e.measureToString)(this.tabDefault)),this.tabStops.length>0,this.hyphenatation&&Object.assign(Dt,this.hyphenatation[wt.$toStyle]()),Dt}}class Wr extends bt.XFAObject{constructor(Dt){super(Lt,"passwordEdit",!0),this.hScrollPolicy=(0,Pt.getStringOption)(Dt.hScrollPolicy,["auto","off","on"]),this.id=Dt.id||"",this.passwordChar=Dt.passwordChar||"*",this.use=Dt.use||"",this.usehref=Dt.usehref||"",this.border=null,this.extras=null,this.margin=null}}class hs extends bt.XFAObject{constructor(Dt){super(Lt,"pattern",!0),this.id=Dt.id||"",this.type=(0,Pt.getStringOption)(Dt.type,["crossHatch","crossDiagonal","diagonalLeft","diagonalRight","horizontal","vertical"]),this.use=Dt.use||"",this.usehref=Dt.usehref||"",this.color=null,this.extras=null}[wt.$toStyle](Dt){Dt=Dt?Dt[wt.$toStyle]():"#FFFFFF";const yn=this.color?this.color[wt.$toStyle]():"#000000",qn=5,_i="repeating-linear-gradient",Kn=`${Dt},${Dt} ${qn}px,${yn} ${qn}px,${yn} ${2*qn}px`;switch(this.type){case"crossHatch":return`${_i}(to top,${Kn}) ${_i}(to right,${Kn})`;case"crossDiagonal":return`${_i}(45deg,${Kn}) ${_i}(-45deg,${Kn})`;case"diagonalLeft":return`${_i}(45deg,${Kn})`;case"diagonalRight":return`${_i}(-45deg,${Kn})`;case"horizontal":return`${_i}(to top,${Kn})`;case"vertical":return`${_i}(to right,${Kn})`}return""}}class zr extends bt.StringObject{constructor(Dt){super(Lt,"picture"),this.id=Dt.id||"",this.use=Dt.use||"",this.usehref=Dt.usehref||""}}class gs extends bt.XFAObject{constructor(Dt){super(Lt,"proto",!0),this.appearanceFilter=new bt.XFAObjectArray,this.arc=new bt.XFAObjectArray,this.area=new bt.XFAObjectArray,this.assist=new bt.XFAObjectArray,this.barcode=new bt.XFAObjectArray,this.bindItems=new bt.XFAObjectArray,this.bookend=new bt.XFAObjectArray,this.boolean=new bt.XFAObjectArray,this.border=new bt.XFAObjectArray,this.break=new bt.XFAObjectArray,this.breakAfter=new bt.XFAObjectArray,this.breakBefore=new bt.XFAObjectArray,this.button=new bt.XFAObjectArray,this.calculate=new bt.XFAObjectArray,this.caption=new bt.XFAObjectArray,this.certificate=new bt.XFAObjectArray,this.certificates=new bt.XFAObjectArray,this.checkButton=new bt.XFAObjectArray,this.choiceList=new bt.XFAObjectArray,this.color=new bt.XFAObjectArray,this.comb=new bt.XFAObjectArray,this.connect=new bt.XFAObjectArray,this.contentArea=new bt.XFAObjectArray,this.corner=new bt.XFAObjectArray,this.date=new bt.XFAObjectArray,this.dateTime=new bt.XFAObjectArray,this.dateTimeEdit=new bt.XFAObjectArray,this.decimal=new bt.XFAObjectArray,this.defaultUi=new bt.XFAObjectArray,this.desc=new bt.XFAObjectArray,this.digestMethod=new bt.XFAObjectArray,this.digestMethods=new bt.XFAObjectArray,this.draw=new bt.XFAObjectArray,this.edge=new bt.XFAObjectArray,this.encoding=new bt.XFAObjectArray,this.encodings=new bt.XFAObjectArray,this.encrypt=new bt.XFAObjectArray,this.encryptData=new bt.XFAObjectArray,this.encryption=new bt.XFAObjectArray,this.encryptionMethod=new bt.XFAObjectArray,this.encryptionMethods=new bt.XFAObjectArray,this.event=new bt.XFAObjectArray,this.exData=new bt.XFAObjectArray,this.exObject=new bt.XFAObjectArray,this.exclGroup=new bt.XFAObjectArray,this.execute=new bt.XFAObjectArray,this.extras=new bt.XFAObjectArray,this.field=new bt.XFAObjectArray,this.fill=new bt.XFAObjectArray,this.filter=new bt.XFAObjectArray,this.float=new bt.XFAObjectArray,this.font=new bt.XFAObjectArray,this.format=new bt.XFAObjectArray,this.handler=new bt.XFAObjectArray,this.hyphenation=new bt.XFAObjectArray,this.image=new bt.XFAObjectArray,this.imageEdit=new bt.XFAObjectArray,this.integer=new bt.XFAObjectArray,this.issuers=new bt.XFAObjectArray,this.items=new bt.XFAObjectArray,this.keep=new bt.XFAObjectArray,this.keyUsage=new bt.XFAObjectArray,this.line=new bt.XFAObjectArray,this.linear=new bt.XFAObjectArray,this.lockDocument=new bt.XFAObjectArray,this.manifest=new bt.XFAObjectArray,this.margin=new bt.XFAObjectArray,this.mdp=new bt.XFAObjectArray,this.medium=new bt.XFAObjectArray,this.message=new bt.XFAObjectArray,this.numericEdit=new bt.XFAObjectArray,this.occur=new bt.XFAObjectArray,this.oid=new bt.XFAObjectArray,this.oids=new bt.XFAObjectArray,this.overflow=new bt.XFAObjectArray,this.pageArea=new bt.XFAObjectArray,this.pageSet=new bt.XFAObjectArray,this.para=new bt.XFAObjectArray,this.passwordEdit=new bt.XFAObjectArray,this.pattern=new bt.XFAObjectArray,this.picture=new bt.XFAObjectArray,this.radial=new bt.XFAObjectArray,this.reason=new bt.XFAObjectArray,this.reasons=new bt.XFAObjectArray,this.rectangle=new bt.XFAObjectArray,this.ref=new bt.XFAObjectArray,this.script=new bt.XFAObjectArray,this.setProperty=new bt.XFAObjectArray,this.signData=new bt.XFAObjectArray,this.signature=new bt.XFAObjectArray,this.signing=new bt.XFAObjectArray,this.solid=new bt.XFAObjectArray,this.speak=new bt.XFAObjectArray,this.stipple=new bt.XFAObjectArray,this.subform=new bt.XFAObjectArray,this.subformSet=new bt.XFAObjectArray,this.subjectDN=new bt.XFAObjectArray,this.subjectDNs=new bt.XFAObjectArray,this.submit=new bt.XFAObjectArray,this.text=new bt.XFAObjectArray,this.textEdit=new bt.XFAObjectArray,this.time=new bt.XFAObjectArray,this.timeStamp=new bt.XFAObjectArray,this.toolTip=new bt.XFAObjectArray,this.traversal=new bt.XFAObjectArray,this.traverse=new bt.XFAObjectArray,this.ui=new bt.XFAObjectArray,this.validate=new bt.XFAObjectArray,this.value=new bt.XFAObjectArray,this.variables=new bt.XFAObjectArray}}class ws extends bt.XFAObject{constructor(Dt){super(Lt,"radial",!0),this.id=Dt.id||"",this.type=(0,Pt.getStringOption)(Dt.type,["toEdge","toCenter"]),this.use=Dt.use||"",this.usehref=Dt.usehref||"",this.color=null,this.extras=null}[wt.$toStyle](Dt){Dt=Dt?Dt[wt.$toStyle]():"#FFFFFF";const yn=this.color?this.color[wt.$toStyle]():"#000000";return`radial-gradient(circle at center, ${this.type==="toEdge"?`${Dt},${yn}`:`${yn},${Dt}`})`}}class io extends bt.StringObject{constructor(Dt){super(Lt,"reason"),this.id=Dt.id||"",this.name=Dt.name||"",this.use=Dt.use||"",this.usehref=Dt.usehref||""}}class ds extends bt.XFAObject{constructor(Dt){super(Lt,"reasons",!0),this.id=Dt.id||"",this.type=(0,Pt.getStringOption)(Dt.type,["optional","required"]),this.use=Dt.use||"",this.usehref=Dt.usehref||"",this.reason=new bt.XFAObjectArray}}class fs extends bt.XFAObject{constructor(Dt){super(Lt,"rectangle",!0),this.hand=(0,Pt.getStringOption)(Dt.hand,["even","left","right"]),this.id=Dt.id||"",this.use=Dt.use||"",this.usehref=Dt.usehref||"",this.corner=new bt.XFAObjectArray(4),this.edge=new bt.XFAObjectArray(4),this.fill=null}[wt.$toHTML](){var mr;const Dt=this.edge.children.length?this.edge.children[0]:new nr({}),yn=Dt[wt.$toStyle](),qn=Object.create(null);((mr=this.fill)==null?void 0:mr.presence)==="visible"?Object.assign(qn,this.fill[wt.$toStyle]()):qn.fill="transparent",qn.strokeWidth=(0,_e.measureToString)(Dt.presence==="visible"?Dt.thickness:0),qn.stroke=yn.color;const Kn=(this.corner.children.length?this.corner.children[0]:new In({}))[wt.$toStyle](),ar={name:"svg",children:[{name:"rect",attributes:{xmlns:jt,width:"100%",height:"100%",x:0,y:0,rx:Kn.radius,ry:Kn.radius,style:qn}}],attributes:{xmlns:jt,style:{overflow:"visible"},width:"100%",height:"100%"}},gr=this[wt.$getParent]()[wt.$getParent]();return gn(gr)?Pt.HTMLResult.success({name:"div",attributes:{style:{display:"inline",width:"100%",height:"100%"}},children:[ar]}):(ar.attributes.style.position="absolute",Pt.HTMLResult.success(ar))}}class $s extends bt.StringObject{constructor(Dt){super(Lt,"ref"),this.id=Dt.id||"",this.use=Dt.use||"",this.usehref=Dt.usehref||""}}class Ys extends bt.StringObject{constructor(Dt){super(Lt,"script"),this.binding=Dt.binding||"",this.contentType=Dt.contentType||"",this.id=Dt.id||"",this.name=Dt.name||"",this.runAt=(0,Pt.getStringOption)(Dt.runAt,["client","both","server"]),this.use=Dt.use||"",this.usehref=Dt.usehref||""}}class wo extends bt.XFAObject{constructor(Dt){super(Lt,"setProperty"),this.connection=Dt.connection||"",this.ref=Dt.ref||"",this.target=Dt.target||""}}Et.SetProperty=wo;class Tl extends bt.XFAObject{constructor(Dt){super(Lt,"signData",!0),this.id=Dt.id||"",this.operation=(0,Pt.getStringOption)(Dt.operation,["sign","clear","verify"]),this.ref=Dt.ref||"",this.target=Dt.target||"",this.use=Dt.use||"",this.usehref=Dt.usehref||"",this.filter=null,this.manifest=null}}class zp extends bt.XFAObject{constructor(Dt){super(Lt,"signature",!0),this.id=Dt.id||"",this.type=(0,Pt.getStringOption)(Dt.type,["PDF1.3","PDF1.6"]),this.use=Dt.use||"",this.usehref=Dt.usehref||"",this.border=null,this.extras=null,this.filter=null,this.manifest=null,this.margin=null}}class T1 extends bt.XFAObject{constructor(Dt){super(Lt,"signing",!0),this.id=Dt.id||"",this.type=(0,Pt.getStringOption)(Dt.type,["optional","required"]),this.use=Dt.use||"",this.usehref=Dt.usehref||"",this.certificate=new bt.XFAObjectArray}}class _1 extends bt.XFAObject{constructor(Dt){super(Lt,"solid",!0),this.id=Dt.id||"",this.use=Dt.use||"",this.usehref=Dt.usehref||"",this.extras=null}[wt.$toStyle](Dt){return Dt?Dt[wt.$toStyle]():"#FFFFFF"}}class Xp extends bt.StringObject{constructor(Dt){super(Lt,"speak"),this.disable=(0,Pt.getInteger)({data:Dt.disable,defaultValue:0,validate:yn=>yn===1}),this.id=Dt.id||"",this.priority=(0,Pt.getStringOption)(Dt.priority,["custom","caption","name","toolTip"]),this.rid=Dt.rid||"",this.use=Dt.use||"",this.usehref=Dt.usehref||""}}class vu extends bt.XFAObject{constructor(Dt){super(Lt,"stipple",!0),this.id=Dt.id||"",this.rate=(0,Pt.getInteger)({data:Dt.rate,defaultValue:50,validate:yn=>yn>=0&&yn<=100}),this.use=Dt.use||"",this.usehref=Dt.usehref||"",this.color=null,this.extras=null}[wt.$toStyle](Dt){const yn=this.rate/100;return Xt.Util.makeHexColor(Math.round(Dt.value.r*(1-yn)+this.value.r*yn),Math.round(Dt.value.g*(1-yn)+this.value.g*yn),Math.round(Dt.value.b*(1-yn)+this.value.b*yn))}}class F1 extends bt.XFAObject{constructor(Dt){super(Lt,"subform",!0),this.access=(0,Pt.getStringOption)(Dt.access,["open","nonInteractive","protected","readOnly"]),this.allowMacro=(0,Pt.getInteger)({data:Dt.allowMacro,defaultValue:0,validate:yn=>yn===1}),this.anchorType=(0,Pt.getStringOption)(Dt.anchorType,["topLeft","bottomCenter","bottomLeft","bottomRight","middleCenter","middleLeft","middleRight","topCenter","topRight"]),this.colSpan=(0,Pt.getInteger)({data:Dt.colSpan,defaultValue:1,validate:yn=>yn>=1||yn===-1}),this.columnWidths=(Dt.columnWidths||"").trim().split(/\s+/).map(yn=>yn==="-1"?-1:(0,Pt.getMeasurement)(yn)),this.h=Dt.h?(0,Pt.getMeasurement)(Dt.h):"",this.hAlign=(0,Pt.getStringOption)(Dt.hAlign,["left","center","justify","justifyAll","radix","right"]),this.id=Dt.id||"",this.layout=(0,Pt.getStringOption)(Dt.layout,["position","lr-tb","rl-row","rl-tb","row","table","tb"]),this.locale=Dt.locale||"",this.maxH=(0,Pt.getMeasurement)(Dt.maxH,"0pt"),this.maxW=(0,Pt.getMeasurement)(Dt.maxW,"0pt"),this.mergeMode=(0,Pt.getStringOption)(Dt.mergeMode,["consumeData","matchTemplate"]),this.minH=(0,Pt.getMeasurement)(Dt.minH,"0pt"),this.minW=(0,Pt.getMeasurement)(Dt.minW,"0pt"),this.name=Dt.name||"",this.presence=(0,Pt.getStringOption)(Dt.presence,["visible","hidden","inactive","invisible"]),this.relevant=(0,Pt.getRelevant)(Dt.relevant),this.restoreState=(0,Pt.getStringOption)(Dt.restoreState,["manual","auto"]),this.scope=(0,Pt.getStringOption)(Dt.scope,["name","none"]),this.use=Dt.use||"",this.usehref=Dt.usehref||"",this.w=Dt.w?(0,Pt.getMeasurement)(Dt.w):"",this.x=(0,Pt.getMeasurement)(Dt.x,"0pt"),this.y=(0,Pt.getMeasurement)(Dt.y,"0pt"),this.assist=null,this.bind=null,this.bookend=null,this.border=null,this.break=null,this.calculate=null,this.desc=null,this.extras=null,this.keep=null,this.margin=null,this.occur=null,this.overflow=null,this.pageSet=null,this.para=null,this.traversal=null,this.validate=null,this.variables=null,this.area=new bt.XFAObjectArray,this.breakAfter=new bt.XFAObjectArray,this.breakBefore=new bt.XFAObjectArray,this.connect=new bt.XFAObjectArray,this.draw=new bt.XFAObjectArray,this.event=new bt.XFAObjectArray,this.exObject=new bt.XFAObjectArray,this.exclGroup=new bt.XFAObjectArray,this.field=new bt.XFAObjectArray,this.proto=new bt.XFAObjectArray,this.setProperty=new bt.XFAObjectArray,this.subform=new bt.XFAObjectArray,this.subformSet=new bt.XFAObjectArray}[wt.$getSubformParent](){const Dt=this[wt.$getParent]();return Dt instanceof wu?Dt[wt.$getSubformParent]():Dt}[wt.$isBindable](){return!0}[wt.$isThereMoreWidth](){return this.layout.endsWith("-tb")&&this[wt.$extra].attempt===0&&this[wt.$extra].numberInLine>0||this[wt.$getParent]()[wt.$isThereMoreWidth]()}*[wt.$getContainedChildren](){yield*bn(this)}[wt.$flushHTML](){return(0,Rt.flushHTML)(this)}[wt.$addHTML](Dt,yn){(0,Rt.addHTML)(this,Dt,yn)}[wt.$getAvailableSpace](){return(0,Rt.getAvailableSpace)(this)}[wt.$isSplittable](){var yn;const Dt=this[wt.$getSubformParent]();return Dt[wt.$isSplittable]()?this[wt.$extra]._isSplittable!==void 0?this[wt.$extra]._isSplittable:this.layout==="position"||this.layout.includes("row")?(this[wt.$extra]._isSplittable=!1,!1):this.keep&&this.keep.intact!=="none"?(this[wt.$extra]._isSplittable=!1,!1):(yn=Dt.layout)!=null&&yn.endsWith("-tb")&&Dt[wt.$extra].numberInLine!==0?!1:(this[wt.$extra]._isSplittable=!0,!0):!1}[wt.$toHTML](Dt){var Br;if(Yt(this),this.break){if(this.break.after!=="auto"||this.break.afterTarget!==""){const Nr=new _n({targetType:this.break.after,target:this.break.afterTarget,startNew:this.break.startNew.toString()});Nr[wt.$globalData]=this[wt.$globalData],this[wt.$appendChild](Nr),this.breakAfter.push(Nr)}if(this.break.before!=="auto"||this.break.beforeTarget!==""){const Nr=new Sn({targetType:this.break.before,target:this.break.beforeTarget,startNew:this.break.startNew.toString()});Nr[wt.$globalData]=this[wt.$globalData],this[wt.$appendChild](Nr),this.breakBefore.push(Nr)}if(this.break.overflowTarget!==""){const Nr=new bs({target:this.break.overflowTarget,leader:this.break.overflowLeader,trailer:this.break.overflowTrailer});Nr[wt.$globalData]=this[wt.$globalData],this[wt.$appendChild](Nr),this.overflow.push(Nr)}this[wt.$removeChild](this.break),this.break=null}if(this.presence==="hidden"||this.presence==="inactive")return Pt.HTMLResult.EMPTY;if((this.breakBefore.children.length>1||this.breakAfter.children.length>1)&&(0,Xt.warn)("XFA - Several breakBefore or breakAfter in subforms: please file a bug."),this.breakBefore.children.length>=1){const Nr=this.breakBefore.children[0];if(zt(Nr))return Pt.HTMLResult.breakNode(Nr)}if((Br=this[wt.$extra])!=null&&Br.afterBreakAfter)return Pt.HTMLResult.EMPTY;(0,_e.fixDimensions)(this);const yn=[],qn={id:this[wt.$uid],class:[]};(0,_e.setAccess)(this,qn.class),this[wt.$extra]||(this[wt.$extra]=Object.create(null)),Object.assign(this[wt.$extra],{children:yn,line:null,attributes:qn,attempt:0,numberInLine:0,availableSpace:{width:Math.min(this.w||1/0,Dt.width),height:Math.min(this.h||1/0,Dt.height)},width:0,height:0,prevHeight:0,currentWidth:0});const _i=this[wt.$getTemplateRoot](),Kn=_i[wt.$extra].noLayoutFailure,ir=this[wt.$isSplittable]();if(ir||Ht(this),!(0,Rt.checkDimensions)(this,Dt))return Pt.HTMLResult.FAILURE;const ar=new Set(["area","draw","exclGroup","field","subform","subformSet"]);if(this.layout.includes("row")){const Nr=this[wt.$getSubformParent]().columnWidths;Array.isArray(Nr)&&Nr.length>0&&(this[wt.$extra].columnWidths=Nr,this[wt.$extra].currentColumn=0)}const gr=(0,_e.toStyle)(this,"anchorType","dimensions","position","presence","border","margin","hAlign"),mr=["xfaSubform"],br=(0,_e.layoutClass)(this);if(br&&mr.push(br),qn.style=gr,qn.class=mr,this.name&&(qn.xfaName=this.name),this.overflow){const Nr=this.overflow[wt.$getExtra]();Nr.addLeader&&(Nr.addLeader=!1,Vt(this,Nr.leader,Dt))}this[wt.$pushPara]();const Ir=this.layout==="lr-tb"||this.layout==="rl-tb",Cr=Ir?kt:1;for(;this[wt.$extra].attempt<Cr;this[wt.$extra].attempt++){Ir&&this[wt.$extra].attempt===kt-1&&(this[wt.$extra].numberInLine=0);const Nr=this[wt.$childrenToHTML]({filter:ar,include:!0});if(Nr.success)break;if(Nr.isBreak())return this[wt.$popPara](),Nr;if(Ir&&this[wt.$extra].attempt===0&&this[wt.$extra].numberInLine===0&&!_i[wt.$extra].noLayoutFailure){this[wt.$extra].attempt=Cr;break}}if(this[wt.$popPara](),ir||an(this),_i[wt.$extra].noLayoutFailure=Kn,this[wt.$extra].attempt===Cr)return this.overflow&&(this[wt.$getTemplateRoot]()[wt.$extra].overflowNode=this.overflow),ir||delete this[wt.$extra],Pt.HTMLResult.FAILURE;if(this.overflow){const Nr=this.overflow[wt.$getExtra]();Nr.addTrailer&&(Nr.addTrailer=!1,Vt(this,Nr.trailer,Dt))}let kr=0,ts=0;this.margin&&(kr=this.margin.leftInset+this.margin.rightInset,ts=this.margin.topInset+this.margin.bottomInset);const Mr=Math.max(this[wt.$extra].width+kr,this.w||0),Gr=Math.max(this[wt.$extra].height+ts,this.h||0),Xr=[this.x,this.y,Mr,Gr];if(this.w===""&&(gr.width=(0,_e.measureToString)(Mr)),this.h===""&&(gr.height=(0,_e.measureToString)(Gr)),(gr.width==="0px"||gr.height==="0px")&&yn.length===0)return Pt.HTMLResult.EMPTY;const Hr={name:"div",attributes:qn,children:yn};un(this,qn);const Qr=Pt.HTMLResult.success((0,_e.createWrapper)(this,Hr),Xr);if(this.breakAfter.children.length>=1){const Nr=this.breakAfter.children[0];if(zt(Nr))return this[wt.$extra].afterBreakAfter=Qr,Pt.HTMLResult.breakNode(Nr)}return delete this[wt.$extra],Qr}}class wu extends bt.XFAObject{constructor(Dt){super(Lt,"subformSet",!0),this.id=Dt.id||"",this.name=Dt.name||"",this.relation=(0,Pt.getStringOption)(Dt.relation,["ordered","choice","unordered"]),this.relevant=(0,Pt.getRelevant)(Dt.relevant),this.use=Dt.use||"",this.usehref=Dt.usehref||"",this.bookend=null,this.break=null,this.desc=null,this.extras=null,this.occur=null,this.overflow=null,this.breakAfter=new bt.XFAObjectArray,this.breakBefore=new bt.XFAObjectArray,this.subform=new bt.XFAObjectArray,this.subformSet=new bt.XFAObjectArray}*[wt.$getContainedChildren](){yield*bn(this)}[wt.$getSubformParent](){let Dt=this[wt.$getParent]();for(;!(Dt instanceof F1);)Dt=Dt[wt.$getParent]();return Dt}[wt.$isBindable](){return!0}}class zl extends bt.ContentObject{constructor(Dt){super(Lt,"subjectDN"),this.delimiter=Dt.delimiter||",",this.id=Dt.id||"",this.name=Dt.name||"",this.use=Dt.use||"",this.usehref=Dt.usehref||""}[wt.$finalize](){this[wt.$content]=new Map(this[wt.$content].split(this.delimiter).map(Dt=>(Dt=Dt.split("=",2),Dt[0]=Dt[0].trim(),Dt)))}}class Wp extends bt.XFAObject{constructor(Dt){super(Lt,"subjectDNs",!0),this.id=Dt.id||"",this.type=(0,Pt.getStringOption)(Dt.type,["optional","required"]),this.use=Dt.use||"",this.usehref=Dt.usehref||"",this.subjectDN=new bt.XFAObjectArray}}class P1 extends bt.XFAObject{constructor(Dt){super(Lt,"submit",!0),this.embedPDF=(0,Pt.getInteger)({data:Dt.embedPDF,defaultValue:0,validate:yn=>yn===1}),this.format=(0,Pt.getStringOption)(Dt.format,["xdp","formdata","pdf","urlencoded","xfd","xml"]),this.id=Dt.id||"",this.target=Dt.target||"",this.textEncoding=(0,Pt.getKeyword)({data:Dt.textEncoding?Dt.textEncoding.toLowerCase():"",defaultValue:"",validate:yn=>["utf-8","big-five","fontspecific","gbk","gb-18030","gb-2312","ksc-5601","none","shift-jis","ucs-2","utf-16"].includes(yn)||yn.match(/iso-8859-\d{2}/)}),this.use=Dt.use||"",this.usehref=Dt.usehref||"",this.xdpContent=Dt.xdpContent||"",this.encrypt=null,this.encryptData=new bt.XFAObjectArray,this.signData=new bt.XFAObjectArray}}class Au extends bt.XFAObject{constructor(Dt){super(Lt,"template",!0),this.baseProfile=(0,Pt.getStringOption)(Dt.baseProfile,["full","interactiveForms"]),this.extras=null,this.subform=new bt.XFAObjectArray}[wt.$finalize](){this.subform.children.length===0&&(0,Xt.warn)("XFA - No subforms in template node."),this.subform.children.length>=2&&(0,Xt.warn)("XFA - Several subforms in template node: please file a bug."),this[wt.$tabIndex]=Bt}[wt.$isSplittable](){return!0}[wt.$searchNode](Dt,yn){return Dt.startsWith("#")?[this[wt.$ids].get(Dt.slice(1))]:(0,$t.searchNode)(this,yn,Dt,!0,!0)}*[wt.$toPages](){var ts,Mr,Gr;if(!this.subform.children.length)return Pt.HTMLResult.success({name:"div",children:[]});this[wt.$extra]={overflowNode:null,firstUnsplittable:null,currentContentArea:null,currentPageArea:null,noLayoutFailure:!1,pageNumber:1,pagePosition:"first",oddOrEven:"odd",blankOrNotBlank:"nonBlank",paraStack:[]};const Dt=this.subform.children[0];Dt.pageSet[wt.$cleanPage]();const yn=Dt.pageSet.pageArea.children,qn={name:"div",children:[]};let _i=null,Kn=null,ir=null;if(Dt.breakBefore.children.length>=1?(Kn=Dt.breakBefore.children[0],ir=Kn.target):Dt.subform.children.length>=1&&Dt.subform.children[0].breakBefore.children.length>=1?(Kn=Dt.subform.children[0].breakBefore.children[0],ir=Kn.target):(ts=Dt.break)!=null&&ts.beforeTarget?(Kn=Dt.break,ir=Kn.beforeTarget):Dt.subform.children.length>=1&&((Mr=Dt.subform.children[0].break)!=null&&Mr.beforeTarget)&&(Kn=Dt.subform.children[0].break,ir=Kn.beforeTarget),Kn){const Xr=this[wt.$searchNode](ir,Kn[wt.$getParent]());Xr instanceof Jr&&(_i=Xr,Kn[wt.$extra]={})}_i||(_i=yn[0]),_i[wt.$extra]={numberOfUse:1};const ar=_i[wt.$getParent]();ar[wt.$extra]={numberOfUse:1,pageIndex:ar.pageArea.children.indexOf(_i),pageSetIndex:0};let gr,mr=null,br=null,Ir=!0,Cr=0,kr=0;for(;;){if(Ir)Cr=0;else if(qn.children.pop(),++Cr===qt)return(0,Xt.warn)("XFA - Something goes wrong: please file a bug."),qn;gr=null,this[wt.$extra].currentPageArea=_i;const Xr=_i[wt.$toHTML]().html;qn.children.push(Xr),mr&&(this[wt.$extra].noLayoutFailure=!0,Xr.children.push(mr[wt.$toHTML](_i[wt.$extra].space).html),mr=null),br&&(this[wt.$extra].noLayoutFailure=!0,Xr.children.push(br[wt.$toHTML](_i[wt.$extra].space).html),br=null);const Hr=_i.contentArea.children,Qr=Xr.children.filter(Nr=>Nr.attributes.class.includes("xfaContentarea"));Ir=!1,this[wt.$extra].firstUnsplittable=null,this[wt.$extra].noLayoutFailure=!1;const Br=Nr=>{var ks;const Es=Dt[wt.$flushHTML]();Es&&(Ir||(Ir=((ks=Es.children)==null?void 0:ks.length)>0),Qr[Nr].children.push(Es))};for(let Nr=kr,Es=Hr.length;Nr<Es;Nr++){const ks=this[wt.$extra].currentContentArea=Hr[Nr],Ps={width:ks.w,height:ks.h};kr=0,mr&&(Qr[Nr].children.push(mr[wt.$toHTML](Ps).html),mr=null),br&&(Qr[Nr].children.push(br[wt.$toHTML](Ps).html),br=null);const Fs=Dt[wt.$toHTML](Ps);if(Fs.success)return Fs.html?(Ir||(Ir=((Gr=Fs.html.children)==null?void 0:Gr.length)>0),Qr[Nr].children.push(Fs.html)):!Ir&&qn.children.length>1&&qn.children.pop(),qn;if(Fs.isBreak()){const Is=Fs.breakNode;if(Br(Nr),Is.targetType==="auto")continue;Is.leader&&(mr=this[wt.$searchNode](Is.leader,Is[wt.$getParent]()),mr=mr?mr[0]:null),Is.trailer&&(br=this[wt.$searchNode](Is.trailer,Is[wt.$getParent]()),br=br?br[0]:null),Is.targetType==="pageArea"?(gr=Is[wt.$extra].target,Nr=1/0):Is[wt.$extra].target?(gr=Is[wt.$extra].target,kr=Is[wt.$extra].index+1,Nr=1/0):Nr=Is[wt.$extra].index;continue}if(this[wt.$extra].overflowNode){const Is=this[wt.$extra].overflowNode;this[wt.$extra].overflowNode=null;const Us=Is[wt.$getExtra](),Zs=Us.target;Us.addLeader=Us.leader!==null,Us.addTrailer=Us.trailer!==null,Br(Nr);const eo=Nr;if(Nr=1/0,Zs instanceof Jr)gr=Zs;else if(Zs instanceof Tn){const Js=Hr.indexOf(Zs);Js!==-1?Js>eo?Nr=Js-1:kr=Js:(gr=Zs[wt.$getParent](),kr=gr.contentArea.children.indexOf(Zs))}continue}Br(Nr)}this[wt.$extra].pageNumber+=1,gr&&(gr[wt.$isUsable]()?gr[wt.$extra].numberOfUse+=1:gr=null),_i=gr||_i[wt.$getNextPage](),yield null}}}Et.Template=Au;class c0 extends bt.ContentObject{constructor(Dt){super(Lt,"text"),this.id=Dt.id||"",this.maxChars=(0,Pt.getInteger)({data:Dt.maxChars,defaultValue:0,validate:yn=>yn>=0}),this.name=Dt.name||"",this.rid=Dt.rid||"",this.use=Dt.use||"",this.usehref=Dt.usehref||""}[wt.$acceptWhitespace](){return!0}[wt.$onChild](Dt){return Dt[wt.$namespaceId]===_t.NamespaceIds.xhtml.id?(this[wt.$content]=Dt,!0):((0,Xt.warn)(`XFA - Invalid content in Text: ${Dt[wt.$nodeName]}.`),!1)}[wt.$onText](Dt){this[wt.$content]instanceof bt.XFAObject||super[wt.$onText](Dt)}[wt.$finalize](){typeof this[wt.$content]=="string"&&(this[wt.$content]=this[wt.$content].replaceAll(`\r
`,`
`))}[wt.$getExtra](){return typeof this[wt.$content]=="string"?this[wt.$content].split(/[\u2029\u2028\n]/).reduce((Dt,yn)=>(yn&&Dt.push(yn),Dt),[]).join(`
`):this[wt.$content][wt.$text]()}[wt.$toHTML](Dt){if(typeof this[wt.$content]=="string"){const yn=Ot(this[wt.$content]).html;return this[wt.$content].includes("\u2029")?(yn.name="div",yn.children=[],this[wt.$content].split("\u2029").map(qn=>qn.split(/[\u2028\n]/).reduce((_i,Kn)=>(_i.push({name:"span",value:Kn},{name:"br"}),_i),[])).forEach(qn=>{yn.children.push({name:"p",children:qn})})):/[\u2028\n]/.test(this[wt.$content])&&(yn.name="div",yn.children=[],this[wt.$content].split(/[\u2028\n]/).forEach(qn=>{yn.children.push({name:"span",value:qn},{name:"br"})})),Pt.HTMLResult.success(yn)}return this[wt.$content][wt.$toHTML](Dt)}}Et.Text=c0;class z0 extends bt.XFAObject{constructor(Dt){super(Lt,"textEdit",!0),this.allowRichText=(0,Pt.getInteger)({data:Dt.allowRichText,defaultValue:0,validate:yn=>yn===1}),this.hScrollPolicy=(0,Pt.getStringOption)(Dt.hScrollPolicy,["auto","off","on"]),this.id=Dt.id||"",this.multiLine=(0,Pt.getInteger)({data:Dt.multiLine,defaultValue:"",validate:yn=>yn===0||yn===1}),this.use=Dt.use||"",this.usehref=Dt.usehref||"",this.vScrollPolicy=(0,Pt.getStringOption)(Dt.vScrollPolicy,["auto","off","on"]),this.border=null,this.comb=null,this.extras=null,this.margin=null}[wt.$toHTML](Dt){var Kn,ir;const yn=(0,_e.toStyle)(this,"border","font","margin");let qn;const _i=this[wt.$getParent]()[wt.$getParent]();return this.multiLine===""&&(this.multiLine=_i instanceof Xn?1:0),this.multiLine===1?qn={name:"textarea",attributes:{dataId:((Kn=_i[wt.$data])==null?void 0:Kn[wt.$uid])||_i[wt.$uid],fieldId:_i[wt.$uid],class:["xfaTextfield"],style:yn,"aria-label":Ut(_i),"aria-required":!1}}:qn={name:"input",attributes:{type:"text",dataId:((ir=_i[wt.$data])==null?void 0:ir[wt.$uid])||_i[wt.$uid],fieldId:_i[wt.$uid],class:["xfaTextfield"],style:yn,"aria-label":Ut(_i),"aria-required":!1}},Wt(_i)&&(qn.attributes["aria-required"]=!0,qn.attributes.required=!0),Pt.HTMLResult.success({name:"label",attributes:{class:["xfaLabel"]},children:[qn]})}}class Vp extends bt.StringObject{constructor(Dt){super(Lt,"time"),this.id=Dt.id||"",this.name=Dt.name||"",this.use=Dt.use||"",this.usehref=Dt.usehref||""}[wt.$finalize](){const Dt=this[wt.$content].trim();this[wt.$content]=Dt?new Date(Dt):null}[wt.$toHTML](Dt){return Ot(this[wt.$content]?this[wt.$content].toString():"")}}class R1 extends bt.XFAObject{constructor(Dt){super(Lt,"timeStamp"),this.id=Dt.id||"",this.server=Dt.server||"",this.type=(0,Pt.getStringOption)(Dt.type,["optional","required"]),this.use=Dt.use||"",this.usehref=Dt.usehref||""}}class I1 extends bt.StringObject{constructor(Dt){super(Lt,"toolTip"),this.id=Dt.id||"",this.rid=Dt.rid||"",this.use=Dt.use||"",this.usehref=Dt.usehref||""}}class Su extends bt.XFAObject{constructor(Dt){super(Lt,"traversal",!0),this.id=Dt.id||"",this.use=Dt.use||"",this.usehref=Dt.usehref||"",this.extras=null,this.traverse=new bt.XFAObjectArray}}class Gp extends bt.XFAObject{constructor(Dt){super(Lt,"traverse",!0),this.id=Dt.id||"",this.operation=(0,Pt.getStringOption)(Dt.operation,["next","back","down","first","left","right","up"]),this.ref=Dt.ref||"",this.use=Dt.use||"",this.usehref=Dt.usehref||"",this.extras=null,this.script=null}get name(){return this.operation}[wt.$isTransparent](){return!1}}class Eu extends bt.XFAObject{constructor(Dt){super(Lt,"ui",!0),this.id=Dt.id||"",this.use=Dt.use||"",this.usehref=Dt.usehref||"",this.extras=null,this.picture=null,this.barcode=null,this.button=null,this.checkButton=null,this.choiceList=null,this.dateTimeEdit=null,this.defaultUi=null,this.imageEdit=null,this.numericEdit=null,this.passwordEdit=null,this.signature=null,this.textEdit=null}[wt.$getExtra](){if(this[wt.$extra]===void 0){for(const Dt of Object.getOwnPropertyNames(this)){if(Dt==="extras"||Dt==="picture")continue;const yn=this[Dt];if(yn instanceof bt.XFAObject)return this[wt.$extra]=yn,yn}this[wt.$extra]=null}return this[wt.$extra]}[wt.$toHTML](Dt){const yn=this[wt.$getExtra]();return yn?yn[wt.$toHTML](Dt):Pt.HTMLResult.EMPTY}}class qp extends bt.XFAObject{constructor(Dt){super(Lt,"validate",!0),this.formatTest=(0,Pt.getStringOption)(Dt.formatTest,["warning","disabled","error"]),this.id=Dt.id||"",this.nullTest=(0,Pt.getStringOption)(Dt.nullTest,["disabled","error","warning"]),this.scriptTest=(0,Pt.getStringOption)(Dt.scriptTest,["error","disabled","warning"]),this.use=Dt.use||"",this.usehref=Dt.usehref||"",this.extras=null,this.message=null,this.picture=null,this.script=null}}class jn extends bt.XFAObject{constructor(Dt){super(Lt,"value",!0),this.id=Dt.id||"",this.override=(0,Pt.getInteger)({data:Dt.override,defaultValue:0,validate:yn=>yn===1}),this.relevant=(0,Pt.getRelevant)(Dt.relevant),this.use=Dt.use||"",this.usehref=Dt.usehref||"",this.arc=null,this.boolean=null,this.date=null,this.dateTime=null,this.decimal=null,this.exData=null,this.float=null,this.image=null,this.integer=null,this.line=null,this.rectangle=null,this.text=null,this.time=null}[wt.$setValue](Dt){var _i;const yn=this[wt.$getParent]();if(yn instanceof or&&(_i=yn.ui)!=null&&_i.imageEdit){this.image||(this.image=new Er({}),this[wt.$appendChild](this.image)),this.image[wt.$content]=Dt[wt.$content];return}const qn=Dt[wt.$nodeName];if(this[qn]!==null){this[qn][wt.$content]=Dt[wt.$content];return}for(const Kn of Object.getOwnPropertyNames(this)){const ir=this[Kn];ir instanceof bt.XFAObject&&(this[Kn]=null,this[wt.$removeChild](ir))}this[Dt[wt.$nodeName]]=Dt,this[wt.$appendChild](Dt)}[wt.$text](){if(this.exData)return typeof this.exData[wt.$content]=="string"?this.exData[wt.$content].trim():this.exData[wt.$content][wt.$text]().trim();for(const Dt of Object.getOwnPropertyNames(this)){if(Dt==="image")continue;const yn=this[Dt];if(yn instanceof bt.XFAObject)return(yn[wt.$content]||"").toString().trim()}return null}[wt.$toHTML](Dt){for(const yn of Object.getOwnPropertyNames(this)){const qn=this[yn];if(qn instanceof bt.XFAObject)return qn[wt.$toHTML](Dt)}return Pt.HTMLResult.EMPTY}}Et.Value=jn;class Gn extends bt.XFAObject{constructor(Dt){super(Lt,"variables",!0),this.id=Dt.id||"",this.use=Dt.use||"",this.usehref=Dt.usehref||"",this.boolean=new bt.XFAObjectArray,this.date=new bt.XFAObjectArray,this.dateTime=new bt.XFAObjectArray,this.decimal=new bt.XFAObjectArray,this.exData=new bt.XFAObjectArray,this.float=new bt.XFAObjectArray,this.image=new bt.XFAObjectArray,this.integer=new bt.XFAObjectArray,this.manifest=new bt.XFAObjectArray,this.script=new bt.XFAObjectArray,this.text=new bt.XFAObjectArray,this.time=new bt.XFAObjectArray}[wt.$isTransparent](){return!0}}class rr{static[_t.$buildXFAObject](Dt,yn){if(rr.hasOwnProperty(Dt)){const qn=rr[Dt](yn);return qn[wt.$setSetAttributes](yn),qn}}static appearanceFilter(Dt){return new nn(Dt)}static arc(Dt){return new hn(Dt)}static area(Dt){return new on(Dt)}static assist(Dt){return new cn(Dt)}static barcode(Dt){return new sn(Dt)}static bind(Dt){return new rn(Dt)}static bindItems(Dt){return new xn(Dt)}static bookend(Dt){return new vn(Dt)}static boolean(Dt){return new kn(Dt)}static border(Dt){return new Pn(Dt)}static break(Dt){return new On(Dt)}static breakAfter(Dt){return new _n(Dt)}static breakBefore(Dt){return new Sn(Dt)}static button(Dt){return new mn(Dt)}static calculate(Dt){return new fn(Dt)}static caption(Dt){return new Jt(Dt)}static certificate(Dt){return new ln(Dt)}static certificates(Dt){return new pn(Dt)}static checkButton(Dt){return new wn(Dt)}static choiceList(Dt){return new Cn(Dt)}static color(Dt){return new Fn(Dt)}static comb(Dt){return new En(Dt)}static connect(Dt){return new An(Dt)}static contentArea(Dt){return new Tn(Dt)}static corner(Dt){return new In(Dt)}static date(Dt){return new Rn(Dt)}static dateTime(Dt){return new Dn(Dt)}static dateTimeEdit(Dt){return new Ln(Dt)}static decimal(Dt){return new Un(Dt)}static defaultUi(Dt){return new tr(Dt)}static desc(Dt){return new er(Dt)}static digestMethod(Dt){return new Qn(Dt)}static digestMethods(Dt){return new Yn(Dt)}static draw(Dt){return new Xn(Dt)}static edge(Dt){return new nr(Dt)}static encoding(Dt){return new lr(Dt)}static encodings(Dt){return new dr(Dt)}static encrypt(Dt){return new Bn(Dt)}static encryptData(Dt){return new Hn(Dt)}static encryption(Dt){return new Wn(Dt)}static encryptionMethod(Dt){return new cr(Dt)}static encryptionMethods(Dt){return new sr(Dt)}static event(Dt){return new xr(Dt)}static exData(Dt){return new Jn(Dt)}static exObject(Dt){return new Vn(Dt)}static exclGroup(Dt){return new Zn(Dt)}static execute(Dt){return new ur(Dt)}static extras(Dt){return new hr(Dt)}static field(Dt){return new or(Dt)}static fill(Dt){return new pr(Dt)}static filter(Dt){return new wr(Dt)}static float(Dt){return new fr(Dt)}static font(Dt){return new Ar(Dt)}static format(Dt){return new Lr(Dt)}static handler(Dt){return new Pr(Dt)}static hyphenation(Dt){return new $r(Dt)}static image(Dt){return new Er(Dt)}static imageEdit(Dt){return new _r(Dt)}static integer(Dt){return new Fr(Dt)}static issuers(Dt){return new qr(Dt)}static items(Dt){return new vs(Dt)}static keep(Dt){return new ls(Dt)}static keyUsage(Dt){return new ns(Dt)}static line(Dt){return new Ns(Dt)}static linear(Dt){return new Gs(Dt)}static lockDocument(Dt){return new vr(Dt)}static manifest(Dt){return new yr(Dt)}static margin(Dt){return new Sr(Dt)}static mdp(Dt){return new Rr(Dt)}static medium(Dt){return new jr(Dt)}static message(Dt){return new es(Dt)}static numericEdit(Dt){return new Or(Dt)}static occur(Dt){return new Tr(Dt)}static oid(Dt){return new Vr(Dt)}static oids(Dt){return new us(Dt)}static overflow(Dt){return new bs(Dt)}static pageArea(Dt){return new Jr(Dt)}static pageSet(Dt){return new ss(Dt)}static para(Dt){return new ms(Dt)}static passwordEdit(Dt){return new Wr(Dt)}static pattern(Dt){return new hs(Dt)}static picture(Dt){return new zr(Dt)}static proto(Dt){return new gs(Dt)}static radial(Dt){return new ws(Dt)}static reason(Dt){return new io(Dt)}static reasons(Dt){return new ds(Dt)}static rectangle(Dt){return new fs(Dt)}static ref(Dt){return new $s(Dt)}static script(Dt){return new Ys(Dt)}static setProperty(Dt){return new wo(Dt)}static signData(Dt){return new Tl(Dt)}static signature(Dt){return new zp(Dt)}static signing(Dt){return new T1(Dt)}static solid(Dt){return new _1(Dt)}static speak(Dt){return new Xp(Dt)}static stipple(Dt){return new vu(Dt)}static subform(Dt){return new F1(Dt)}static subformSet(Dt){return new wu(Dt)}static subjectDN(Dt){return new zl(Dt)}static subjectDNs(Dt){return new Wp(Dt)}static submit(Dt){return new P1(Dt)}static template(Dt){return new Au(Dt)}static text(Dt){return new c0(Dt)}static textEdit(Dt){return new z0(Dt)}static time(Dt){return new Vp(Dt)}static timeStamp(Dt){return new R1(Dt)}static toolTip(Dt){return new I1(Dt)}static traversal(Dt){return new Su(Dt)}static traverse(Dt){return new Gp(Dt)}static ui(Dt){return new Eu(Dt)}static validate(Dt){return new qp(Dt)}static value(Dt){return new jn(Dt)}static variables(Dt){return new Gn(Dt)}}Et.TemplateNamespace=rr},(Ct,Et)=>{Object.defineProperty(Et,"__esModule",{value:!0}),Et.NamespaceIds=Et.$buildXFAObject=void 0;const Ft=Symbol();Et.$buildXFAObject=Ft;const wt={config:{id:0,check:_t=>_t.startsWith("http://www.xfa.org/schema/xci/")},connectionSet:{id:1,check:_t=>_t.startsWith("http://www.xfa.org/schema/xfa-connection-set/")},datasets:{id:2,check:_t=>_t.startsWith("http://www.xfa.org/schema/xfa-data/")},form:{id:3,check:_t=>_t.startsWith("http://www.xfa.org/schema/xfa-form/")},localeSet:{id:4,check:_t=>_t.startsWith("http://www.xfa.org/schema/xfa-locale-set/")},pdf:{id:5,check:_t=>_t==="http://ns.adobe.com/xdp/pdf/"},signature:{id:6,check:_t=>_t==="http://www.w3.org/2000/09/xmldsig#"},sourceSet:{id:7,check:_t=>_t.startsWith("http://www.xfa.org/schema/xfa-source-set/")},stylesheet:{id:8,check:_t=>_t==="http://www.w3.org/1999/XSL/Transform"},template:{id:9,check:_t=>_t.startsWith("http://www.xfa.org/schema/xfa-template/")},xdc:{id:10,check:_t=>_t.startsWith("http://www.xfa.org/schema/xdc/")},xdp:{id:11,check:_t=>_t==="http://ns.adobe.com/xdp/"},xfdf:{id:12,check:_t=>_t==="http://ns.adobe.com/xfdf/"},xhtml:{id:13,check:_t=>_t==="http://www.w3.org/1999/xhtml"},xmpmeta:{id:14,check:_t=>_t==="http://ns.adobe.com/xmpmeta/"}};Et.NamespaceIds=wt},(Ct,Et,Ft)=>{Object.defineProperty(Et,"__esModule",{value:!0}),Et.addHTML=bt,Et.checkDimensions=Kt,Et.flushHTML=_e,Et.getAvailableSpace=Pt;var wt=Ft(78),_t=Ft(83);function Rt(Nt,$t){return{name:"div",attributes:{class:[Nt.layout==="lr-tb"?"xfaLr":"xfaRl"]},children:$t}}function _e(Nt){if(!Nt[wt.$extra])return null;const Lt={name:"div",attributes:Nt[wt.$extra].attributes,children:Nt[wt.$extra].children};if(Nt[wt.$extra].failingNode){const jt=Nt[wt.$extra].failingNode[wt.$flushHTML]();jt&&(Nt.layout.endsWith("-tb")?Lt.children.push(Rt(Nt,[jt])):Lt.children.push(jt))}return Lt.children.length===0?null:Lt}function bt(Nt,$t,Lt){const jt=Nt[wt.$extra],kt=jt.availableSpace,[qt,Bt,Gt,en]=Lt;switch(Nt.layout){case"position":{jt.width=Math.max(jt.width,qt+Gt),jt.height=Math.max(jt.height,Bt+en),jt.children.push($t);break}case"lr-tb":case"rl-tb":(!jt.line||jt.attempt===1)&&(jt.line=Rt(Nt,[]),jt.children.push(jt.line),jt.numberInLine=0),jt.numberInLine+=1,jt.line.children.push($t),jt.attempt===0?(jt.currentWidth+=Gt,jt.height=Math.max(jt.height,jt.prevHeight+en)):(jt.currentWidth=Gt,jt.prevHeight=jt.height,jt.height+=en,jt.attempt=0),jt.width=Math.max(jt.width,jt.currentWidth);break;case"rl-row":case"row":{jt.children.push($t),jt.width+=Gt,jt.height=Math.max(jt.height,en);const dn=(0,_t.measureToString)(jt.height);for(const Qt of jt.children)Qt.attributes.style.height=dn;break}case"table":{jt.width=Math.min(kt.width,Math.max(jt.width,Gt)),jt.height+=en,jt.children.push($t);break}case"tb":{jt.width=Math.min(kt.width,Math.max(jt.width,Gt)),jt.height+=en,jt.children.push($t);break}}}function Pt(Nt){const $t=Nt[wt.$extra].availableSpace,Lt=Nt.margin?Nt.margin.topInset+Nt.margin.bottomInset:0,jt=Nt.margin?Nt.margin.leftInset+Nt.margin.rightInset:0;switch(Nt.layout){case"lr-tb":case"rl-tb":return Nt[wt.$extra].attempt===0?{width:$t.width-jt-Nt[wt.$extra].currentWidth,height:$t.height-Lt-Nt[wt.$extra].prevHeight}:{width:$t.width-jt,height:$t.height-Lt-Nt[wt.$extra].height};case"rl-row":case"row":return{width:Nt[wt.$extra].columnWidths.slice(Nt[wt.$extra].currentColumn).reduce((qt,Bt)=>qt+Bt),height:$t.height-jt};case"table":case"tb":return{width:$t.width-jt,height:$t.height-Lt-Nt[wt.$extra].height};case"position":default:return $t}}function Xt(Nt){let $t=Nt.w===""?NaN:Nt.w,Lt=Nt.h===""?NaN:Nt.h,[jt,kt]=[0,0];switch(Nt.anchorType||""){case"bottomCenter":[jt,kt]=[$t/2,Lt];break;case"bottomLeft":[jt,kt]=[0,Lt];break;case"bottomRight":[jt,kt]=[$t,Lt];break;case"middleCenter":[jt,kt]=[$t/2,Lt/2];break;case"middleLeft":[jt,kt]=[0,Lt/2];break;case"middleRight":[jt,kt]=[$t,Lt/2];break;case"topCenter":[jt,kt]=[$t/2,0];break;case"topRight":[jt,kt]=[$t,0];break}let qt,Bt;switch(Nt.rotate||0){case 0:[qt,Bt]=[-jt,-kt];break;case 90:[qt,Bt]=[-kt,jt],[$t,Lt]=[Lt,-$t];break;case 180:[qt,Bt]=[jt,kt],[$t,Lt]=[-$t,-Lt];break;case 270:[qt,Bt]=[kt,-jt],[$t,Lt]=[-Lt,$t];break}return[Nt.x+qt+Math.min(0,$t),Nt.y+Bt+Math.min(0,Lt),Math.abs($t),Math.abs(Lt)]}function Kt(Nt,$t){var en;if(Nt[wt.$getTemplateRoot]()[wt.$extra].firstUnsplittable===null||Nt.w===0||Nt.h===0)return!0;const Lt=2,jt=Nt[wt.$getSubformParent](),kt=((en=jt[wt.$extra])==null?void 0:en.attempt)||0,[,qt,Bt,Gt]=Xt(Nt);switch(jt.layout){case"lr-tb":case"rl-tb":return kt===0?Nt[wt.$getTemplateRoot]()[wt.$extra].noLayoutFailure?Nt.w!==""?Math.round(Bt-$t.width)<=Lt:$t.width>Lt:Nt.h!==""&&Math.round(Gt-$t.height)>Lt?!1:Nt.w!==""?Math.round(Bt-$t.width)<=Lt?!0:jt[wt.$extra].numberInLine===0?$t.height>Lt:!1:$t.width>Lt:Nt[wt.$getTemplateRoot]()[wt.$extra].noLayoutFailure?!0:Nt.h!==""&&Math.round(Gt-$t.height)>Lt?!1:Nt.w===""||Math.round(Bt-$t.width)<=Lt?$t.height>Lt:jt[wt.$isThereMoreWidth]()?!1:$t.height>Lt;case"table":case"tb":return Nt[wt.$getTemplateRoot]()[wt.$extra].noLayoutFailure?!0:Nt.h!==""&&!Nt[wt.$isSplittable]()?Math.round(Gt-$t.height)<=Lt:Nt.w===""||Math.round(Bt-$t.width)<=Lt?$t.height>Lt:jt[wt.$isThereMoreWidth]()?!1:$t.height>Lt;case"position":if(Nt[wt.$getTemplateRoot]()[wt.$extra].noLayoutFailure||Nt.h===""||Math.round(Gt+qt-$t.height)<=Lt)return!0;const dn=Nt[wt.$getTemplateRoot]()[wt.$extra].currentContentArea;return Gt+qt>dn.h;case"rl-row":case"row":return Nt[wt.$getTemplateRoot]()[wt.$extra].noLayoutFailure?!0:Nt.h!==""?Math.round(Gt-$t.height)<=Lt:!0;default:return!0}}},(Ct,Et,Ft)=>{Object.defineProperty(Et,"__esModule",{value:!0}),Et.computeBbox=jt,Et.createWrapper=Gt,Et.fixDimensions=kt,Et.fixTextIndent=en,Et.fixURL=Wt,Et.isPrintOnly=Qt,Et.layoutClass=qt,Et.layoutNode=Lt,Et.measureToString=Xt,Et.setAccess=dn,Et.setFontFamily=bn,Et.setMinMaxDimensions=Nt,Et.setPara=tn,Et.toStyle=Bt;var wt=Ft(78),_t=Ft(2),Rt=Ft(84),_e=Ft(85),bt=Ft(86),Pt=Ft(87);function Xt(Yt){return typeof Yt=="string"?"0px":Number.isInteger(Yt)?`${Yt}px`:`${Yt.toFixed(2)}px`}const Kt={anchorType(Yt,un){const Ut=Yt[wt.$getSubformParent]();if(!(!Ut||Ut.layout&&Ut.layout!=="position"))switch("transform"in un||(un.transform=""),Yt.anchorType){case"bottomCenter":un.transform+="translate(-50%, -100%)";break;case"bottomLeft":un.transform+="translate(0,-100%)";break;case"bottomRight":un.transform+="translate(-100%,-100%)";break;case"middleCenter":un.transform+="translate(-50%,-50%)";break;case"middleLeft":un.transform+="translate(0,-50%)";break;case"middleRight":un.transform+="translate(-100%,-50%)";break;case"topCenter":un.transform+="translate(-50%,0)";break;case"topRight":un.transform+="translate(-100%,0)";break}},dimensions(Yt,un){var an;const Ut=Yt[wt.$getSubformParent]();let Ot=Yt.w;const Ht=Yt.h;if((an=Ut.layout)!=null&&an.includes("row")){const zt=Ut[wt.$extra],Vt=Yt.colSpan;let nn;Vt===-1?(nn=zt.columnWidths.slice(zt.currentColumn).reduce((hn,on)=>hn+on,0),zt.currentColumn=0):(nn=zt.columnWidths.slice(zt.currentColumn,zt.currentColumn+Vt).reduce((hn,on)=>hn+on,0),zt.currentColumn=(zt.currentColumn+Yt.colSpan)%zt.columnWidths.length),isNaN(nn)||(Ot=Yt.w=nn)}un.width=Ot!==""?Xt(Ot):"auto",un.height=Ht!==""?Xt(Ht):"auto"},position(Yt,un){const Ut=Yt[wt.$getSubformParent]();Ut!=null&&Ut.layout&&Ut.layout!=="position"||(un.position="absolute",un.left=Xt(Yt.x),un.top=Xt(Yt.y))},rotate(Yt,un){Yt.rotate&&("transform"in un||(un.transform=""),un.transform+=`rotate(-${Yt.rotate}deg)`,un.transformOrigin="top left")},presence(Yt,un){switch(Yt.presence){case"invisible":un.visibility="hidden";break;case"hidden":case"inactive":un.display="none";break}},hAlign(Yt,un){if(Yt[wt.$nodeName]==="para")switch(Yt.hAlign){case"justifyAll":un.textAlign="justify-all";break;case"radix":un.textAlign="left";break;default:un.textAlign=Yt.hAlign}else switch(Yt.hAlign){case"left":un.alignSelf="start";break;case"center":un.alignSelf="center";break;case"right":un.alignSelf="end";break}},margin(Yt,un){Yt.margin&&(un.margin=Yt.margin[wt.$toStyle]().margin)}};function Nt(Yt,un){Yt[wt.$getSubformParent]().layout==="position"&&(Yt.minW>0&&(un.minWidth=Xt(Yt.minW)),Yt.maxW>0&&(un.maxWidth=Xt(Yt.maxW)),Yt.minH>0&&(un.minHeight=Xt(Yt.minH)),Yt.maxH>0&&(un.maxHeight=Xt(Yt.maxH)))}function $t(Yt,un,Ut,Ot,Ht,an){const zt=new bt.TextMeasure(un,Ut,Ot,Ht);return typeof Yt=="string"?zt.addString(Yt):Yt[wt.$pushGlyphs](zt),zt.compute(an)}function Lt(Yt,un){let Ut=null,Ot=null,Ht=!1;if((!Yt.w||!Yt.h)&&Yt.value){let an=0,zt=0;Yt.margin&&(an=Yt.margin.leftInset+Yt.margin.rightInset,zt=Yt.margin.topInset+Yt.margin.bottomInset);let Vt=null,nn=null;Yt.para&&(nn=Object.create(null),Vt=Yt.para.lineHeight===""?null:Yt.para.lineHeight,nn.top=Yt.para.spaceAbove===""?0:Yt.para.spaceAbove,nn.bottom=Yt.para.spaceBelow===""?0:Yt.para.spaceBelow,nn.left=Yt.para.marginLeft===""?0:Yt.para.marginLeft,nn.right=Yt.para.marginRight===""?0:Yt.para.marginRight);let hn=Yt.font;if(!hn){const sn=Yt[wt.$getTemplateRoot]();let rn=Yt[wt.$getParent]();for(;rn&&rn!==sn;){if(rn.font){hn=rn.font;break}rn=rn[wt.$getParent]()}}const on=(Yt.w||un.width)-an,cn=Yt[wt.$globalData].fontFinder;if(Yt.value.exData&&Yt.value.exData[wt.$content]&&Yt.value.exData.contentType==="text/html"){const sn=$t(Yt.value.exData[wt.$content],hn,nn,Vt,cn,on);Ot=sn.width,Ut=sn.height,Ht=sn.isBroken}else{const sn=Yt.value[wt.$text]();if(sn){const rn=$t(sn,hn,nn,Vt,cn,on);Ot=rn.width,Ut=rn.height,Ht=rn.isBroken}}Ot!==null&&!Yt.w&&(Ot+=an),Ut!==null&&!Yt.h&&(Ut+=zt)}return{w:Ot,h:Ut,isBroken:Ht}}function jt(Yt,un,Ut){let Ot;if(Yt.w!==""&&Yt.h!=="")Ot=[Yt.x,Yt.y,Yt.w,Yt.h];else{if(!Ut)return null;let Ht=Yt.w;if(Ht===""){if(Yt.maxW===0){const zt=Yt[wt.$getSubformParent]();Ht=zt.layout==="position"&&zt.w!==""?0:Yt.minW}else Ht=Math.min(Yt.maxW,Ut.width);un.attributes.style.width=Xt(Ht)}let an=Yt.h;if(an===""){if(Yt.maxH===0){const zt=Yt[wt.$getSubformParent]();an=zt.layout==="position"&&zt.h!==""?0:Yt.minH}else an=Math.min(Yt.maxH,Ut.height);un.attributes.style.height=Xt(an)}Ot=[Yt.x,Yt.y,Ht,an]}return Ot}function kt(Yt){var Ut;const un=Yt[wt.$getSubformParent]();if((Ut=un.layout)!=null&&Ut.includes("row")){const Ot=un[wt.$extra],Ht=Yt.colSpan;let an;Ht===-1?an=Ot.columnWidths.slice(Ot.currentColumn).reduce((zt,Vt)=>zt+Vt,0):an=Ot.columnWidths.slice(Ot.currentColumn,Ot.currentColumn+Ht).reduce((zt,Vt)=>zt+Vt,0),isNaN(an)||(Yt.w=an)}un.layout&&un.layout!=="position"&&(Yt.x=Yt.y=0),Yt.layout==="table"&&Yt.w===""&&Array.isArray(Yt.columnWidths)&&(Yt.w=Yt.columnWidths.reduce((Ot,Ht)=>Ot+Ht,0))}function qt(Yt){switch(Yt.layout){case"position":return"xfaPosition";case"lr-tb":return"xfaLrTb";case"rl-row":return"xfaRlRow";case"rl-tb":return"xfaRlTb";case"row":return"xfaRow";case"table":return"xfaTable";case"tb":return"xfaTb";default:return"xfaPosition"}}function Bt(Yt,...un){const Ut=Object.create(null);for(const Ot of un){const Ht=Yt[Ot];if(Ht!==null){if(Kt.hasOwnProperty(Ot)){Kt[Ot](Yt,Ut);continue}if(Ht instanceof Pt.XFAObject){const an=Ht[wt.$toStyle]();an?Object.assign(Ut,an):(0,_t.warn)(`(DEBUG) - XFA - style for ${Ot} not implemented yet`)}}}return Ut}function Gt(Yt,un){const{attributes:Ut}=un,{style:Ot}=Ut,Ht={name:"div",attributes:{class:["xfaWrapper"],style:Object.create(null)},children:[]};if(Ut.class.push("xfaWrapped"),Yt.border){const{widths:an,insets:zt}=Yt.border[wt.$extra];let Vt,nn,hn=zt[0],on=zt[3];const cn=zt[0]+zt[2],sn=zt[1]+zt[3];switch(Yt.border.hand){case"even":hn-=an[0]/2,on-=an[3]/2,Vt=`calc(100% + ${(an[1]+an[3])/2-sn}px)`,nn=`calc(100% + ${(an[0]+an[2])/2-cn}px)`;break;case"left":hn-=an[0],on-=an[3],Vt=`calc(100% + ${an[1]+an[3]-sn}px)`,nn=`calc(100% + ${an[0]+an[2]-cn}px)`;break;case"right":Vt=sn?`calc(100% - ${sn}px)`:"100%",nn=cn?`calc(100% - ${cn}px)`:"100%";break}const rn=["xfaBorder"];Qt(Yt.border)&&rn.push("xfaPrintOnly");const xn={name:"div",attributes:{class:rn,style:{top:`${hn}px`,left:`${on}px`,width:Vt,height:nn}},children:[]};for(const vn of["border","borderWidth","borderColor","borderRadius","borderStyle"])Ot[vn]!==void 0&&(xn.attributes.style[vn]=Ot[vn],delete Ot[vn]);Ht.children.push(xn,un)}else Ht.children.push(un);for(const an of["background","backgroundClip","top","left","width","height","minWidth","minHeight","maxWidth","maxHeight","transform","transformOrigin","visibility"])Ot[an]!==void 0&&(Ht.attributes.style[an]=Ot[an],delete Ot[an]);return Ht.attributes.style.position=Ot.position==="absolute"?"absolute":"relative",delete Ot.position,Ot.alignSelf&&(Ht.attributes.style.alignSelf=Ot.alignSelf,delete Ot.alignSelf),Ht}function en(Yt){const un=(0,Rt.getMeasurement)(Yt.textIndent,"0px");if(un>=0)return;const Ot="padding"+((Yt.textAlign==="right"?"right":"left")==="left"?"Left":"Right"),Ht=(0,Rt.getMeasurement)(Yt[Ot],"0px");Yt[Ot]=`${Ht-un}px`}function dn(Yt,un){switch(Yt.access){case"nonInteractive":un.push("xfaNonInteractive");break;case"readOnly":un.push("xfaReadOnly");break;case"protected":un.push("xfaDisabled");break}}function Qt(Yt){return Yt.relevant.length>0&&!Yt.relevant[0].excluded&&Yt.relevant[0].viewname==="print"}function gn(Yt){const un=Yt[wt.$getTemplateRoot]()[wt.$extra].paraStack;return un.length?un.at(-1):null}function tn(Yt,un,Ut){var Ot;if((Ot=Ut.attributes.class)!=null&&Ot.includes("xfaRich")){un&&(Yt.h===""&&(un.height="auto"),Yt.w===""&&(un.width="auto"));const Ht=gn(Yt);if(Ht){const an=Ut.attributes.style;switch(an.display="flex",an.flexDirection="column",Ht.vAlign){case"top":an.justifyContent="start";break;case"bottom":an.justifyContent="end";break;case"middle":an.justifyContent="center";break}const zt=Ht[wt.$toStyle]();for(const[Vt,nn]of Object.entries(zt))Vt in an||(an[Vt]=nn)}}}function bn(Yt,un,Ut,Ot){if(!Ut){delete Ot.fontFamily;return}const Ht=(0,Rt.stripQuotes)(Yt.typeface);Ot.fontFamily=`"${Ht}"`;const an=Ut.find(Ht);if(an){const{fontFamily:zt}=an.regular.cssFontInfo;zt!==Ht&&(Ot.fontFamily=`"${zt}"`);const Vt=gn(un);if(Vt&&Vt.lineHeight!==""||Ot.lineHeight)return;const nn=(0,_e.selectFont)(Yt,an);nn&&(Ot.lineHeight=Math.max(1.2,nn.lineHeight))}}function Wt(Yt){const un=(0,_t.createValidAbsoluteUrl)(Yt,null,{addDefaultProtocol:!0,tryConvertEncoding:!0});return un?un.href:null}},(Ct,Et,Ft)=>{Object.defineProperty(Et,"__esModule",{value:!0}),Et.HTMLResult=void 0,Et.getBBox=kt,Et.getColor=jt,Et.getFloat=Pt,Et.getInteger=bt,Et.getKeyword=Xt,Et.getMeasurement=Nt,Et.getRatio=$t,Et.getRelevant=Lt,Et.getStringOption=Kt,Et.stripQuotes=_e;var wt=Ft(2);const _t={pt:Bt=>Bt,cm:Bt=>Bt/2.54*72,mm:Bt=>Bt/(10*2.54)*72,in:Bt=>Bt*72,px:Bt=>Bt},Rt=/([+-]?\d+\.?\d*)(.*)/;function _e(Bt){return Bt.startsWith("'")||Bt.startsWith('"')?Bt.slice(1,-1):Bt}function bt({data:Bt,defaultValue:Gt,validate:en}){if(!Bt)return Gt;Bt=Bt.trim();const dn=parseInt(Bt,10);return!isNaN(dn)&&en(dn)?dn:Gt}function Pt({data:Bt,defaultValue:Gt,validate:en}){if(!Bt)return Gt;Bt=Bt.trim();const dn=parseFloat(Bt);return!isNaN(dn)&&en(dn)?dn:Gt}function Xt({data:Bt,defaultValue:Gt,validate:en}){return Bt?(Bt=Bt.trim(),en(Bt)?Bt:Gt):Gt}function Kt(Bt,Gt){return Xt({data:Bt,defaultValue:Gt[0],validate:en=>Gt.includes(en)})}function Nt(Bt,Gt="0"){if(Gt||(Gt="0"),!Bt)return Nt(Gt);const en=Bt.trim().match(Rt);if(!en)return Nt(Gt);const[,dn,Qt]=en,gn=parseFloat(dn);if(isNaN(gn))return Nt(Gt);if(gn===0)return 0;const tn=_t[Qt];return tn?tn(gn):gn}function $t(Bt){if(!Bt)return{num:1,den:1};const Gt=Bt.trim().split(/\s*:\s*/).map(Qt=>parseFloat(Qt)).filter(Qt=>!isNaN(Qt));if(Gt.length===1&&Gt.push(1),Gt.length===0)return{num:1,den:1};const[en,dn]=Gt;return{num:en,den:dn}}function Lt(Bt){return Bt?Bt.trim().split(/\s+/).map(Gt=>({excluded:Gt[0]==="-",viewname:Gt.substring(1)})):[]}function jt(Bt,Gt=[0,0,0]){let[en,dn,Qt]=Gt;if(!Bt)return{r:en,g:dn,b:Qt};const gn=Bt.trim().split(/\s*,\s*/).map(tn=>Math.min(Math.max(0,parseInt(tn.trim(),10)),255)).map(tn=>isNaN(tn)?0:tn);return gn.length<3?{r:en,g:dn,b:Qt}:([en,dn,Qt]=gn,{r:en,g:dn,b:Qt})}function kt(Bt){if(!Bt)return{x:-1,y:-1,width:-1,height:-1};const en=Bt.trim().split(/\s*,\s*/).map(bn=>Nt(bn,"-1"));if(en.length<4||en[2]<0||en[3]<0)return{x:-1,y:-1,width:-1,height:-1};const[dn,Qt,gn,tn]=en;return{x:dn,y:Qt,width:gn,height:tn}}class qt{static get FAILURE(){return(0,wt.shadow)(this,"FAILURE",new qt(!1,null,null,null))}static get EMPTY(){return(0,wt.shadow)(this,"EMPTY",new qt(!0,null,null,null))}constructor(Gt,en,dn,Qt){this.success=Gt,this.html=en,this.bbox=dn,this.breakNode=Qt}isBreak(){return!!this.breakNode}static breakNode(Gt){return new qt(!1,null,null,Gt)}static success(Gt,en=null){return new qt(!0,Gt,en,null)}}Et.HTMLResult=qt},(Ct,Et,Ft)=>{Object.defineProperty(Et,"__esModule",{value:!0}),Et.FontFinder=void 0,Et.getMetrics=Pt,Et.selectFont=bt;var wt=Ft(78),_t=Ft(84),Rt=Ft(2);class _e{constructor(Kt){this.fonts=new Map,this.cache=new Map,this.warned=new Set,this.defaultFont=null,this.add(Kt)}add(Kt,Nt=null){for(const Lt of Kt)this.addPdfFont(Lt);for(const Lt of this.fonts.values())Lt.regular||(Lt.regular=Lt.italic||Lt.bold||Lt.bolditalic);if(!Nt||Nt.size===0)return;const $t=this.fonts.get("PdfJS-Fallback-PdfJS-XFA");for(const Lt of Nt)this.fonts.set(Lt,$t)}addPdfFont(Kt){var qt,Bt,Gt;const Nt=Kt.cssFontInfo,$t=Nt.fontFamily;let Lt=this.fonts.get($t);Lt||(Lt=Object.create(null),this.fonts.set($t,Lt),this.defaultFont||(this.defaultFont=Lt));let jt="";const kt=parseFloat(Nt.fontWeight);parseFloat(Nt.italicAngle)!==0?jt=kt>=700?"bolditalic":"italic":kt>=700&&(jt="bold"),jt||((Kt.name.includes("Bold")||(qt=Kt.psName)!=null&&qt.includes("Bold"))&&(jt="bold"),(Kt.name.includes("Italic")||Kt.name.endsWith("It")||(Bt=Kt.psName)!=null&&Bt.includes("Italic")||(Gt=Kt.psName)!=null&&Gt.endsWith("It"))&&(jt+="italic")),jt||(jt="regular"),Lt[jt]=Kt}getDefault(){return this.defaultFont}find(Kt,Nt=!0){var qt,Bt;let $t=this.fonts.get(Kt)||this.cache.get(Kt);if($t)return $t;const Lt=/,|-|_| |bolditalic|bold|italic|regular|it/gi;let jt=Kt.replaceAll(Lt,"");if($t=this.fonts.get(jt),$t)return this.cache.set(Kt,$t),$t;jt=jt.toLowerCase();const kt=[];for(const[Gt,en]of this.fonts.entries())Gt.replaceAll(Lt,"").toLowerCase().startsWith(jt)&&kt.push(en);if(kt.length===0)for(const[,Gt]of this.fonts.entries())(qt=Gt.regular.name)!=null&&qt.replaceAll(Lt,"").toLowerCase().startsWith(jt)&&kt.push(Gt);if(kt.length===0){jt=jt.replaceAll(/psmt|mt/gi,"");for(const[Gt,en]of this.fonts.entries())Gt.replaceAll(Lt,"").toLowerCase().startsWith(jt)&&kt.push(en)}if(kt.length===0)for(const Gt of this.fonts.values())(Bt=Gt.regular.name)!=null&&Bt.replaceAll(Lt,"").toLowerCase().startsWith(jt)&&kt.push(Gt);return kt.length>=1?(kt.length!==1&&Nt&&(0,Rt.warn)(`XFA - Too many choices to guess the correct font: ${Kt}`),this.cache.set(Kt,kt[0]),kt[0]):(Nt&&!this.warned.has(Kt)&&(this.warned.add(Kt),(0,Rt.warn)(`XFA - Cannot find the font: ${Kt}`)),null)}}Et.FontFinder=_e;function bt(Xt,Kt){return Xt.posture==="italic"?Xt.weight==="bold"?Kt.bolditalic:Kt.italic:Xt.weight==="bold"?Kt.bold:Kt.regular}function Pt(Xt,Kt=!1){let Nt=null;if(Xt){const kt=(0,_t.stripQuotes)(Xt.typeface),qt=Xt[wt.$globalData].fontFinder.find(kt);Nt=bt(Xt,qt)}if(!Nt)return{lineHeight:12,lineGap:2,lineNoGap:10};const $t=Xt.size||10,Lt=Nt.lineHeight?Math.max(Kt?0:1.2,Nt.lineHeight):1.2,jt=Nt.lineGap===void 0?.2:Nt.lineGap;return{lineHeight:Lt*$t,lineGap:jt*$t,lineNoGap:Math.max(1,Lt-jt)*$t}}},(Ct,Et,Ft)=>{Object.defineProperty(Et,"__esModule",{value:!0}),Et.TextMeasure=void 0;var wt=Ft(85);const _t=1.02;class Rt{constructor(Xt,Kt,Nt,$t){if(this.lineHeight=Nt,this.paraMargin=Kt||{top:0,bottom:0,left:0,right:0},!Xt){[this.pdfFont,this.xfaFont]=this.defaultFont($t);return}this.xfaFont={typeface:Xt.typeface,posture:Xt.posture,weight:Xt.weight,size:Xt.size,letterSpacing:Xt.letterSpacing};const Lt=$t.find(Xt.typeface);if(!Lt){[this.pdfFont,this.xfaFont]=this.defaultFont($t);return}this.pdfFont=(0,wt.selectFont)(Xt,Lt),this.pdfFont||([this.pdfFont,this.xfaFont]=this.defaultFont($t))}defaultFont(Xt){const Kt=Xt.find("Helvetica",!1)||Xt.find("Myriad Pro",!1)||Xt.find("Arial",!1)||Xt.getDefault();if(Kt!=null&&Kt.regular){const $t=Kt.regular,jt={typeface:$t.cssFontInfo.fontFamily,posture:"normal",weight:"normal",size:10,letterSpacing:0};return[$t,jt]}return[null,{typeface:"Courier",posture:"normal",weight:"normal",size:10,letterSpacing:0}]}}class _e{constructor(Xt,Kt,Nt,$t){this.fontFinder=$t,this.stack=[new Rt(Xt,Kt,Nt,$t)]}pushData(Xt,Kt,Nt){const $t=this.stack.at(-1);for(const jt of["typeface","posture","weight","size","letterSpacing"])Xt[jt]||(Xt[jt]=$t.xfaFont[jt]);for(const jt of["top","bottom","left","right"])isNaN(Kt[jt])&&(Kt[jt]=$t.paraMargin[jt]);const Lt=new Rt(Xt,Kt,Nt||$t.lineHeight,this.fontFinder);Lt.pdfFont||(Lt.pdfFont=$t.pdfFont),this.stack.push(Lt)}popFont(){this.stack.pop()}topFont(){return this.stack.at(-1)}}class bt{constructor(Xt,Kt,Nt,$t){this.glyphs=[],this.fontSelector=new _e(Xt,Kt,Nt,$t),this.extraHeight=0}pushData(Xt,Kt,Nt){this.fontSelector.pushData(Xt,Kt,Nt)}popFont(Xt){return this.fontSelector.popFont()}addPara(){const Xt=this.fontSelector.topFont();this.extraHeight+=Xt.paraMargin.top+Xt.paraMargin.bottom}addString(Xt){if(!Xt)return;const Kt=this.fontSelector.topFont(),Nt=Kt.xfaFont.size;if(Kt.pdfFont){const $t=Kt.xfaFont.letterSpacing,Lt=Kt.pdfFont,jt=Lt.lineHeight||1.2,kt=Kt.lineHeight||Math.max(1.2,jt)*Nt,qt=Lt.lineGap===void 0?.2:Lt.lineGap,Bt=jt-qt,Gt=Math.max(1,Bt)*Nt,en=Nt/1e3,dn=Lt.defaultWidth||Lt.charsToGlyphs(" ")[0].width;for(const Qt of Xt.split(/[\u2029\n]/)){const gn=Lt.encodeString(Qt).join(""),tn=Lt.charsToGlyphs(gn);for(const bn of tn){const Wt=bn.width||dn;this.glyphs.push([Wt*en+$t,kt,Gt,bn.unicode,!1])}this.glyphs.push([0,0,0,`
`,!0])}this.glyphs.pop();return}for(const $t of Xt.split(/[\u2029\n]/)){for(const Lt of $t.split(""))this.glyphs.push([Nt,1.2*Nt,Nt,Lt,!1]);this.glyphs.push([0,0,0,`
`,!0])}this.glyphs.pop()}compute(Xt){let Kt=-1,Nt=0,$t=0,Lt=0,jt=0,kt=0,qt=!1,Bt=!0;for(let Gt=0,en=this.glyphs.length;Gt<en;Gt++){const[dn,Qt,gn,tn,bn]=this.glyphs[Gt],Wt=tn===" ",Yt=Bt?gn:Qt;if(bn){$t=Math.max($t,jt),jt=0,Lt+=kt,kt=Yt,Kt=-1,Nt=0,Bt=!1;continue}if(Wt){jt+dn>Xt?($t=Math.max($t,jt),jt=0,Lt+=kt,kt=Yt,Kt=-1,Nt=0,qt=!0,Bt=!1):(kt=Math.max(Yt,kt),Nt=jt,jt+=dn,Kt=Gt);continue}if(jt+dn>Xt){Lt+=kt,kt=Yt,Kt!==-1?(Gt=Kt,$t=Math.max($t,Nt),jt=0,Kt=-1,Nt=0):($t=Math.max($t,jt),jt=dn),qt=!0,Bt=!1;continue}jt+=dn,kt=Math.max(Yt,kt)}return $t=Math.max($t,jt),Lt+=kt+this.extraHeight,{width:_t*$t,height:Lt,isBroken:qt}}}Et.TextMeasure=bt},(Ct,Et,Ft)=>{Object.defineProperty(Et,"__esModule",{value:!0}),Et.XmlObject=Et.XFAObjectArray=Et.XFAObject=Et.XFAAttribute=Et.StringObject=Et.OptionObject=Et.Option10=Et.Option01=Et.IntegerObject=Et.ContentObject=void 0;var wt=Ft(78),_t=Ft(84),Rt=Ft(2),_e=Ft(3),bt=Ft(81),Pt=Ft(88);const Xt=Symbol(),Kt=Symbol(),Nt=Symbol(),$t=Symbol("_children"),Lt=Symbol(),jt=Symbol(),kt=Symbol(),qt=Symbol(),Bt=Symbol(),Gt=Symbol(),en=Symbol(),dn=Symbol(),Qt=Symbol(),gn=Symbol("parent"),tn=Symbol(),bn=Symbol(),Wt=Symbol();let Yt=0;const un=bt.NamespaceIds.datasets.id;class Ut{constructor(rn,xn,vn=!1){this[wt.$namespaceId]=rn,this[wt.$nodeName]=xn,this[en]=vn,this[gn]=null,this[$t]=[],this[wt.$uid]=`${xn}${Yt++}`,this[wt.$globalData]=null}get isXFAObject(){return!0}get isXFAObjectArray(){return!1}createNodes(rn){let xn=this,vn=null;for(const{name:kn,index:Pn}of rn){for(let On=0,_n=isFinite(Pn)?Pn:0;On<=_n;On++){const Sn=xn[wt.$namespaceId]===un?-1:xn[wt.$namespaceId];vn=new an(Sn,kn),xn[wt.$appendChild](vn)}xn=vn}return vn}[wt.$onChild](rn){if(!this[en]||!this[wt.$onChildCheck](rn))return!1;const xn=rn[wt.$nodeName],vn=this[xn];if(vn instanceof Ot){if(vn.push(rn))return this[wt.$appendChild](rn),!0}else return vn!==null&&this[wt.$removeChild](vn),this[xn]=rn,this[wt.$appendChild](rn),!0;let kn="";return this.id?kn=` (id: ${this.id})`:this.name&&(kn=` (name: ${this.name} ${this.h.value})`),(0,Rt.warn)(`XFA - node "${this[wt.$nodeName]}"${kn} has already enough "${xn}"!`),!1}[wt.$onChildCheck](rn){return this.hasOwnProperty(rn[wt.$nodeName])&&rn[wt.$namespaceId]===this[wt.$namespaceId]}[wt.$isNsAgnostic](){return!1}[wt.$acceptWhitespace](){return!1}[wt.$isCDATAXml](){return!1}[wt.$isBindable](){return!1}[wt.$popPara](){this.para&&this[wt.$getTemplateRoot]()[wt.$extra].paraStack.pop()}[wt.$pushPara](){this[wt.$getTemplateRoot]()[wt.$extra].paraStack.push(this.para)}[wt.$setId](rn){this.id&&this[wt.$namespaceId]===bt.NamespaceIds.template.id&&rn.set(this.id,this)}[wt.$getTemplateRoot](){return this[wt.$globalData].template}[wt.$isSplittable](){return!1}[wt.$isThereMoreWidth](){return!1}[wt.$appendChild](rn){rn[gn]=this,this[$t].push(rn),!rn[wt.$globalData]&&this[wt.$globalData]&&(rn[wt.$globalData]=this[wt.$globalData])}[wt.$removeChild](rn){const xn=this[$t].indexOf(rn);this[$t].splice(xn,1)}[wt.$hasSettableValue](){return this.hasOwnProperty("value")}[wt.$setValue](rn){}[wt.$onText](rn){}[wt.$finalize](){}[wt.$clean](rn){delete this[en],this[wt.$cleanup]&&(rn.clean(this[wt.$cleanup]),delete this[wt.$cleanup])}[wt.$indexOf](rn){return this[$t].indexOf(rn)}[wt.$insertAt](rn,xn){xn[gn]=this,this[$t].splice(rn,0,xn),!xn[wt.$globalData]&&this[wt.$globalData]&&(xn[wt.$globalData]=this[wt.$globalData])}[wt.$isTransparent](){return!this.name}[wt.$lastAttribute](){return""}[wt.$text](){return this[$t].length===0?this[wt.$content]:this[$t].map(rn=>rn[wt.$text]()).join("")}get[Nt](){const rn=Object.getPrototypeOf(this);if(!rn._attributes){const xn=rn._attributes=new Set;for(const vn of Object.getOwnPropertyNames(this)){if(this[vn]===null||this[vn]instanceof Ut||this[vn]instanceof Ot)break;xn.add(vn)}}return(0,Rt.shadow)(this,Nt,rn._attributes)}[wt.$isDescendent](rn){let xn=this;for(;xn;){if(xn===rn)return!0;xn=xn[wt.$getParent]()}return!1}[wt.$getParent](){return this[gn]}[wt.$getSubformParent](){return this[wt.$getParent]()}[wt.$getChildren](rn=null){return rn?this[rn]:this[$t]}[wt.$dump](){const rn=Object.create(null);this[wt.$content]&&(rn.$content=this[wt.$content]);for(const xn of Object.getOwnPropertyNames(this)){const vn=this[xn];vn!==null&&(vn instanceof Ut?rn[xn]=vn[wt.$dump]():vn instanceof Ot?vn.isEmpty()||(rn[xn]=vn.dump()):rn[xn]=vn)}return rn}[wt.$toStyle](){return null}[wt.$toHTML](){return _t.HTMLResult.EMPTY}*[wt.$getContainedChildren](){for(const rn of this[wt.$getChildren]())yield rn}*[qt](rn,xn){for(const vn of this[wt.$getContainedChildren]())if(!rn||xn===rn.has(vn[wt.$nodeName])){const kn=this[wt.$getAvailableSpace](),Pn=vn[wt.$toHTML](kn);Pn.success||(this[wt.$extra].failingNode=vn),yield Pn}}[wt.$flushHTML](){return null}[wt.$addHTML](rn,xn){this[wt.$extra].children.push(rn)}[wt.$getAvailableSpace](){}[wt.$childrenToHTML]({filter:rn=null,include:xn=!0}){if(!this[wt.$extra].generator)this[wt.$extra].generator=this[qt](rn,xn);else{const vn=this[wt.$getAvailableSpace](),kn=this[wt.$extra].failingNode[wt.$toHTML](vn);if(!kn.success)return kn;kn.html&&this[wt.$addHTML](kn.html,kn.bbox),delete this[wt.$extra].failingNode}for(;;){const vn=this[wt.$extra].generator.next();if(vn.done)break;const kn=vn.value;if(!kn.success)return kn;kn.html&&this[wt.$addHTML](kn.html,kn.bbox)}return this[wt.$extra].generator=null,_t.HTMLResult.EMPTY}[wt.$setSetAttributes](rn){this[bn]=new Set(Object.keys(rn))}[Gt](rn){const xn=this[Nt],vn=this[bn];return[...rn].filter(kn=>xn.has(kn)&&!vn.has(kn))}[wt.$resolvePrototypes](rn,xn=new Set){for(const vn of this[$t])vn[tn](rn,xn)}[tn](rn,xn){const vn=this[Bt](rn,xn);vn?this[Xt](vn,rn,xn):this[wt.$resolvePrototypes](rn,xn)}[Bt](rn,xn){const{use:vn,usehref:kn}=this;if(!vn&&!kn)return null;let Pn=null,On=null,_n=null,Sn=vn;if(kn?(Sn=kn,kn.startsWith("#som(")&&kn.endsWith(")")?On=kn.slice(5,-1):kn.startsWith(".#som(")&&kn.endsWith(")")?On=kn.slice(6,-1):kn.startsWith("#")?_n=kn.slice(1):kn.startsWith(".#")&&(_n=kn.slice(2))):vn.startsWith("#")?_n=vn.slice(1):On=vn,this.use=this.usehref="",_n?Pn=rn.get(_n):(Pn=(0,Pt.searchNode)(rn.get(wt.$root),this,On,!0,!1),Pn&&(Pn=Pn[0])),!Pn)return(0,Rt.warn)(`XFA - Invalid prototype reference: ${Sn}.`),null;if(Pn[wt.$nodeName]!==this[wt.$nodeName])return(0,Rt.warn)(`XFA - Incompatible prototype: ${Pn[wt.$nodeName]} !== ${this[wt.$nodeName]}.`),null;if(xn.has(Pn))return(0,Rt.warn)("XFA - Cycle detected in prototypes use."),null;xn.add(Pn);const mn=Pn[Bt](rn,xn);return mn&&Pn[Xt](mn,rn,xn),Pn[wt.$resolvePrototypes](rn,xn),xn.delete(Pn),Pn}[Xt](rn,xn,vn){if(vn.has(rn)){(0,Rt.warn)("XFA - Cycle detected in prototypes use.");return}!this[wt.$content]&&rn[wt.$content]&&(this[wt.$content]=rn[wt.$content]),new Set(vn).add(rn);for(const Pn of this[Gt](rn[bn]))this[Pn]=rn[Pn],this[bn]&&this[bn].add(Pn);for(const Pn of Object.getOwnPropertyNames(this)){if(this[Nt].has(Pn))continue;const On=this[Pn],_n=rn[Pn];if(On instanceof Ot){for(const Sn of On[$t])Sn[tn](xn,vn);for(let Sn=On[$t].length,mn=_n[$t].length;Sn<mn;Sn++){const fn=rn[$t][Sn][wt.$clone]();if(On.push(fn))fn[gn]=this,this[$t].push(fn),fn[tn](xn,vn);else break}continue}if(On!==null){On[wt.$resolvePrototypes](xn,vn),_n&&On[Xt](_n,xn,vn);continue}if(_n!==null){const Sn=_n[wt.$clone]();Sn[gn]=this,this[Pn]=Sn,this[$t].push(Sn),Sn[tn](xn,vn)}}}static[Lt](rn){return Array.isArray(rn)?rn.map(xn=>Ut[Lt](xn)):typeof rn=="object"&&rn!==null?Object.assign({},rn):rn}[wt.$clone](){const rn=Object.create(Object.getPrototypeOf(this));for(const xn of Object.getOwnPropertySymbols(this))try{rn[xn]=this[xn]}catch{(0,Rt.shadow)(rn,xn,this[xn])}rn[wt.$uid]=`${rn[wt.$nodeName]}${Yt++}`,rn[$t]=[];for(const xn of Object.getOwnPropertyNames(this)){if(this[Nt].has(xn)){rn[xn]=Ut[Lt](this[xn]);continue}const vn=this[xn];rn[xn]=vn instanceof Ot?new Ot(vn[dn]):null}for(const xn of this[$t]){const vn=xn[wt.$nodeName],kn=xn[wt.$clone]();rn[$t].push(kn),kn[gn]=rn,rn[vn]===null?rn[vn]=kn:rn[vn][$t].push(kn)}return rn}[wt.$getChildren](rn=null){return rn?this[$t].filter(xn=>xn[wt.$nodeName]===rn):this[$t]}[wt.$getChildrenByClass](rn){return this[rn]}[wt.$getChildrenByName](rn,xn,vn=!0){return Array.from(this[wt.$getChildrenByNameIt](rn,xn,vn))}*[wt.$getChildrenByNameIt](rn,xn,vn=!0){if(rn==="parent"){yield this[gn];return}for(const kn of this[$t])kn[wt.$nodeName]===rn&&(yield kn),kn.name===rn&&(yield kn),(xn||kn[wt.$isTransparent]())&&(yield*kn[wt.$getChildrenByNameIt](rn,xn,!1));vn&&this[Nt].has(rn)&&(yield new Ht(this,rn,this[rn]))}}Et.XFAObject=Ut;class Ot{constructor(rn=1/0){this[dn]=rn,this[$t]=[]}get isXFAObject(){return!1}get isXFAObjectArray(){return!0}push(rn){return this[$t].length<=this[dn]?(this[$t].push(rn),!0):((0,Rt.warn)(`XFA - node "${rn[wt.$nodeName]}" accepts no more than ${this[dn]} children`),!1)}isEmpty(){return this[$t].length===0}dump(){return this[$t].length===1?this[$t][0][wt.$dump]():this[$t].map(rn=>rn[wt.$dump]())}[wt.$clone](){const rn=new Ot(this[dn]);return rn[$t]=this[$t].map(xn=>xn[wt.$clone]()),rn}get children(){return this[$t]}clear(){this[$t].length=0}}Et.XFAObjectArray=Ot;class Ht{constructor(rn,xn,vn){this[gn]=rn,this[wt.$nodeName]=xn,this[wt.$content]=vn,this[wt.$consumed]=!1,this[wt.$uid]=`attribute${Yt++}`}[wt.$getParent](){return this[gn]}[wt.$isDataValue](){return!0}[wt.$getDataValue](){return this[wt.$content].trim()}[wt.$setValue](rn){rn=rn.value||"",this[wt.$content]=rn.toString()}[wt.$text](){return this[wt.$content]}[wt.$isDescendent](rn){return this[gn]===rn||this[gn][wt.$isDescendent](rn)}}Et.XFAAttribute=Ht;class an extends Ut{constructor(rn,xn,vn={}){if(super(rn,xn),this[wt.$content]="",this[jt]=null,xn!=="#text"){const kn=new Map;this[Kt]=kn;for(const[Pn,On]of Object.entries(vn))kn.set(Pn,new Ht(this,Pn,On));if(vn.hasOwnProperty(wt.$nsAttributes)){const Pn=vn[wt.$nsAttributes].xfa.dataNode;Pn!==void 0&&(Pn==="dataGroup"?this[jt]=!1:Pn==="dataValue"&&(this[jt]=!0))}}this[wt.$consumed]=!1}[wt.$toString](rn){const xn=this[wt.$nodeName];if(xn==="#text"){rn.push((0,_e.encodeToXmlString)(this[wt.$content]));return}const vn=(0,Rt.utf8StringToString)(xn),kn=this[wt.$namespaceId]===un?"xfa:":"";rn.push(`<${kn}${vn}`);for(const[Pn,On]of this[Kt].entries()){const _n=(0,Rt.utf8StringToString)(Pn);rn.push(` ${_n}="${(0,_e.encodeToXmlString)(On[wt.$content])}"`)}if(this[jt]!==null&&(this[jt]?rn.push(' xfa:dataNode="dataValue"'):rn.push(' xfa:dataNode="dataGroup"')),!this[wt.$content]&&this[$t].length===0){rn.push("/>");return}if(rn.push(">"),this[wt.$content])typeof this[wt.$content]=="string"?rn.push((0,_e.encodeToXmlString)(this[wt.$content])):this[wt.$content][wt.$toString](rn);else for(const Pn of this[$t])Pn[wt.$toString](rn);rn.push(`</${kn}${vn}>`)}[wt.$onChild](rn){if(this[wt.$content]){const xn=new an(this[wt.$namespaceId],"#text");this[wt.$appendChild](xn),xn[wt.$content]=this[wt.$content],this[wt.$content]=""}return this[wt.$appendChild](rn),!0}[wt.$onText](rn){this[wt.$content]+=rn}[wt.$finalize](){if(this[wt.$content]&&this[$t].length>0){const rn=new an(this[wt.$namespaceId],"#text");this[wt.$appendChild](rn),rn[wt.$content]=this[wt.$content],delete this[wt.$content]}}[wt.$toHTML](){return this[wt.$nodeName]==="#text"?_t.HTMLResult.success({name:"#text",value:this[wt.$content]}):_t.HTMLResult.EMPTY}[wt.$getChildren](rn=null){return rn?this[$t].filter(xn=>xn[wt.$nodeName]===rn):this[$t]}[wt.$getAttributes](){return this[Kt]}[wt.$getChildrenByClass](rn){const xn=this[Kt].get(rn);return xn!==void 0?xn:this[wt.$getChildren](rn)}*[wt.$getChildrenByNameIt](rn,xn){const vn=this[Kt].get(rn);vn&&(yield vn);for(const kn of this[$t])kn[wt.$nodeName]===rn&&(yield kn),xn&&(yield*kn[wt.$getChildrenByNameIt](rn,xn))}*[wt.$getAttributeIt](rn,xn){const vn=this[Kt].get(rn);vn&&(!xn||!vn[wt.$consumed])&&(yield vn);for(const kn of this[$t])yield*kn[wt.$getAttributeIt](rn,xn)}*[wt.$getRealChildrenByNameIt](rn,xn,vn){for(const kn of this[$t])kn[wt.$nodeName]===rn&&(!vn||!kn[wt.$consumed])&&(yield kn),xn&&(yield*kn[wt.$getRealChildrenByNameIt](rn,xn,vn))}[wt.$isDataValue](){return this[jt]===null?this[$t].length===0||this[$t][0][wt.$namespaceId]===bt.NamespaceIds.xhtml.id:this[jt]}[wt.$getDataValue](){return this[jt]===null?this[$t].length===0?this[wt.$content].trim():this[$t][0][wt.$namespaceId]===bt.NamespaceIds.xhtml.id?this[$t][0][wt.$text]().trim():null:this[wt.$content].trim()}[wt.$setValue](rn){rn=rn.value||"",this[wt.$content]=rn.toString()}[wt.$dump](rn=!1){const xn=Object.create(null);rn&&(xn.$ns=this[wt.$namespaceId]),this[wt.$content]&&(xn.$content=this[wt.$content]),xn.$name=this[wt.$nodeName],xn.children=[];for(const vn of this[$t])xn.children.push(vn[wt.$dump](rn));xn.attributes=Object.create(null);for(const[vn,kn]of this[Kt])xn.attributes[vn]=kn[wt.$content];return xn}}Et.XmlObject=an;class zt extends Ut{constructor(rn,xn){super(rn,xn),this[wt.$content]=""}[wt.$onText](rn){this[wt.$content]+=rn}[wt.$finalize](){}}Et.ContentObject=zt;class Vt extends zt{constructor(rn,xn,vn){super(rn,xn),this[Qt]=vn}[wt.$finalize](){this[wt.$content]=(0,_t.getKeyword)({data:this[wt.$content],defaultValue:this[Qt][0],validate:rn=>this[Qt].includes(rn)})}[wt.$clean](rn){super[wt.$clean](rn),delete this[Qt]}}Et.OptionObject=Vt;class nn extends zt{[wt.$finalize](){this[wt.$content]=this[wt.$content].trim()}}Et.StringObject=nn;class hn extends zt{constructor(rn,xn,vn,kn){super(rn,xn),this[kt]=vn,this[Wt]=kn}[wt.$finalize](){this[wt.$content]=(0,_t.getInteger)({data:this[wt.$content],defaultValue:this[kt],validate:this[Wt]})}[wt.$clean](rn){super[wt.$clean](rn),delete this[kt],delete this[Wt]}}Et.IntegerObject=hn;class on extends hn{constructor(rn,xn){super(rn,xn,0,vn=>vn===1)}}Et.Option01=on;class cn extends hn{constructor(rn,xn){super(rn,xn,1,vn=>vn===0)}}Et.Option10=cn},(Ct,Et,Ft)=>{Object.defineProperty(Et,"__esModule",{value:!0}),Et.createDataNode=Lt,Et.searchNode=$t;var wt=Ft(78),_t=Ft(2);const Rt=/^[^.[]+/,_e=/^[^\]]+/,bt={dot:0,dotDot:1,dotHash:2,dotBracket:3,dotParen:4},Pt=new Map([["$data",(jt,kt)=>jt.datasets?jt.datasets.data:jt],["$record",(jt,kt)=>(jt.datasets?jt.datasets.data:jt)[wt.$getChildren]()[0]],["$template",(jt,kt)=>jt.template],["$connectionSet",(jt,kt)=>jt.connectionSet],["$form",(jt,kt)=>jt.form],["$layout",(jt,kt)=>jt.layout],["$host",(jt,kt)=>jt.host],["$dataWindow",(jt,kt)=>jt.dataWindow],["$event",(jt,kt)=>jt.event],["!",(jt,kt)=>jt.datasets],["$xfa",(jt,kt)=>jt],["xfa",(jt,kt)=>jt],["$",(jt,kt)=>kt]]),Xt=new WeakMap;function Kt(jt){return jt=jt.trim(),jt==="*"?1/0:parseInt(jt,10)||0}function Nt(jt,kt,qt=!0){let Bt=jt.match(Rt);if(!Bt)return null;let[Gt]=Bt;const en=[{name:Gt,cacheName:"."+Gt,index:0,js:null,formCalc:null,operator:bt.dot}];let dn=Gt.length;for(;dn<jt.length;){const Qt=dn;if(jt.charAt(dn++)==="["){if(Bt=jt.slice(dn).match(_e),!Bt)return(0,_t.warn)("XFA - Invalid index in SOM expression"),null;en.at(-1).index=Kt(Bt[0]),dn+=Bt[0].length+1;continue}let tn;switch(jt.charAt(dn)){case".":if(!kt)return null;dn++,tn=bt.dotDot;break;case"#":dn++,tn=bt.dotHash;break;case"[":if(qt)return(0,_t.warn)("XFA - SOM expression contains a FormCalc subexpression which is not supported for now."),null;tn=bt.dotBracket;break;case"(":if(qt)return(0,_t.warn)("XFA - SOM expression contains a JavaScript subexpression which is not supported for now."),null;tn=bt.dotParen;break;default:tn=bt.dot;break}if(Bt=jt.slice(dn).match(Rt),!Bt)break;[Gt]=Bt,dn+=Gt.length,en.push({name:Gt,cacheName:jt.slice(Qt,dn),operator:tn,index:0,js:null,formCalc:null})}return en}function $t(jt,kt,qt,Bt=!0,Gt=!0){const en=Nt(qt,Bt);if(!en)return null;const dn=Pt.get(en[0].name);let Qt=0,gn;dn?(gn=!0,jt=[dn(jt,kt)],Qt=1):(gn=kt===null,jt=[kt||jt]);for(let tn=en.length;Qt<tn;Qt++){const{name:bn,cacheName:Wt,operator:Yt,index:un}=en[Qt],Ut=[];for(const Ot of jt){if(!Ot.isXFAObject)continue;let Ht,an;if(Gt&&(an=Xt.get(Ot),an||(an=new Map,Xt.set(Ot,an)),Ht=an.get(Wt)),!Ht){switch(Yt){case bt.dot:Ht=Ot[wt.$getChildrenByName](bn,!1);break;case bt.dotDot:Ht=Ot[wt.$getChildrenByName](bn,!0);break;case bt.dotHash:Ht=Ot[wt.$getChildrenByClass](bn),Ht=Ht.isXFAObjectArray?Ht.children:[Ht];break}Gt&&an.set(Wt,Ht)}Ht.length>0&&Ut.push(Ht)}if(Ut.length===0&&!gn&&Qt===0){if(kt=kt[wt.$getParent](),!kt)return null;Qt=-1,jt=[kt];continue}jt=isFinite(un)?Ut.filter(Ot=>un<Ot.length).map(Ot=>Ot[un]):Ut.flat()}return jt.length===0?null:jt}function Lt(jt,kt,qt){const Bt=Nt(qt);if(!Bt||Bt.some(dn=>dn.operator===bt.dotDot))return null;const Gt=Pt.get(Bt[0].name);let en=0;Gt?(jt=Gt(jt,kt),en=1):jt=kt||jt;for(let dn=Bt.length;en<dn;en++){const{name:Qt,operator:gn,index:tn}=Bt[en];if(!isFinite(tn))return Bt[en].index=0,jt.createNodes(Bt.slice(en));let bn;switch(gn){case bt.dot:bn=jt[wt.$getChildrenByName](Qt,!1);break;case bt.dotDot:bn=jt[wt.$getChildrenByName](Qt,!0);break;case bt.dotHash:bn=jt[wt.$getChildrenByClass](Qt),bn=bn.isXFAObjectArray?bn.children:[bn];break}if(bn.length===0)return jt.createNodes(Bt.slice(en));if(tn<bn.length){const Wt=bn[tn];if(!Wt.isXFAObject)return(0,_t.warn)("XFA - Cannot create a node."),null;jt=Wt}else return Bt[en].index=tn-bn.length,jt.createNodes(Bt.slice(en))}return null}},(Ct,Et,Ft)=>{Object.defineProperty(Et,"__esModule",{value:!0}),Et.DataHandler=void 0;var wt=Ft(78);class _t{constructor(_e,bt){this.data=bt,this.dataset=_e.datasets||null}serialize(_e){const bt=[[-1,this.data[wt.$getChildren]()]];for(;bt.length>0;){const Xt=bt.at(-1),[Kt,Nt]=Xt;if(Kt+1===Nt.length){bt.pop();continue}const $t=Nt[++Xt[0]],Lt=_e.get($t[wt.$uid]);if(Lt)$t[wt.$setValue](Lt);else{const kt=$t[wt.$getAttributes]();for(const qt of kt.values()){const Bt=_e.get(qt[wt.$uid]);if(Bt){qt[wt.$setValue](Bt);break}}}const jt=$t[wt.$getChildren]();jt.length>0&&bt.push([-1,jt])}const Pt=['<xfa:datasets xmlns:xfa="http://www.xfa.org/schema/xfa-data/1.0/">'];if(this.dataset)for(const Xt of this.dataset[wt.$getChildren]())Xt[wt.$nodeName]!=="data"&&Xt[wt.$toString](Pt);return this.data[wt.$toString](Pt),Pt.push("</xfa:datasets>"),Pt.join("")}}Et.DataHandler=_t},(Ct,Et,Ft)=>{Object.defineProperty(Et,"__esModule",{value:!0}),Et.XFAParser=void 0;var wt=Ft(78),_t=Ft(71),Rt=Ft(91),_e=Ft(2);class bt extends _t.XMLParserBase{constructor(Xt=null,Kt=!1){super(),this._builder=new Rt.Builder(Xt),this._stack=[],this._globalData={usedTypefaces:new Set},this._ids=new Map,this._current=this._builder.buildRoot(this._ids),this._errorCode=_t.XMLParserErrorCode.NoError,this._whiteRegex=/^\s+$/,this._nbsps=/\xa0+/g,this._richText=Kt}parse(Xt){if(this.parseXml(Xt),this._errorCode===_t.XMLParserErrorCode.NoError)return this._current[wt.$finalize](),this._current.element}onText(Xt){if(Xt=Xt.replace(this._nbsps,Kt=>Kt.slice(1)+" "),this._richText||this._current[wt.$acceptWhitespace]()){this._current[wt.$onText](Xt,this._richText);return}this._whiteRegex.test(Xt)||this._current[wt.$onText](Xt.trim())}onCdata(Xt){this._current[wt.$onText](Xt)}_mkAttributes(Xt,Kt){let Nt=null,$t=null;const Lt=Object.create({});for(const{name:jt,value:kt}of Xt)if(jt==="xmlns")Nt?(0,_e.warn)(`XFA - multiple namespace definition in <${Kt}>`):Nt=kt;else if(jt.startsWith("xmlns:")){const qt=jt.substring(6);$t||($t=[]),$t.push({prefix:qt,value:kt})}else{const qt=jt.indexOf(":");if(qt===-1)Lt[jt]=kt;else{let Bt=Lt[wt.$nsAttributes];Bt||(Bt=Lt[wt.$nsAttributes]=Object.create(null));const[Gt,en]=[jt.slice(0,qt),jt.slice(qt+1)],dn=Bt[Gt]||(Bt[Gt]=Object.create(null));dn[en]=kt}}return[Nt,$t,Lt]}_getNameAndPrefix(Xt,Kt){const Nt=Xt.indexOf(":");return Nt===-1?[Xt,null]:[Xt.substring(Nt+1),Kt?"":Xt.substring(0,Nt)]}onBeginElement(Xt,Kt,Nt){const[$t,Lt,jt]=this._mkAttributes(Kt,Xt),[kt,qt]=this._getNameAndPrefix(Xt,this._builder.isNsAgnostic()),Bt=this._builder.build({nsPrefix:qt,name:kt,attributes:jt,namespace:$t,prefixes:Lt});if(Bt[wt.$globalData]=this._globalData,Nt){Bt[wt.$finalize](),this._current[wt.$onChild](Bt)&&Bt[wt.$setId](this._ids),Bt[wt.$clean](this._builder);return}this._stack.push(this._current),this._current=Bt}onEndElement(Xt){const Kt=this._current;if(Kt[wt.$isCDATAXml]()&&typeof Kt[wt.$content]=="string"){const Nt=new bt;Nt._globalData=this._globalData;const $t=Nt.parse(Kt[wt.$content]);Kt[wt.$content]=null,Kt[wt.$onChild]($t)}Kt[wt.$finalize](),this._current=this._stack.pop(),this._current[wt.$onChild](Kt)&&Kt[wt.$setId](this._ids),Kt[wt.$clean](this._builder)}onError(Xt){this._errorCode=Xt}}Et.XFAParser=bt},(Ct,Et,Ft)=>{Object.defineProperty(Et,"__esModule",{value:!0}),Et.Builder=void 0;var wt=Ft(81),_t=Ft(78),Rt=Ft(92),_e=Ft(80),bt=Ft(101),Pt=Ft(2),Xt=Ft(87);class Kt extends Xt.XFAObject{constructor(jt){super(-1,"root",Object.create(null)),this.element=null,this[_t.$ids]=jt}[_t.$onChild](jt){return this.element=jt,!0}[_t.$finalize](){super[_t.$finalize](),this.element.template instanceof _e.Template&&(this[_t.$ids].set(_t.$root,this.element),this.element.template[_t.$resolvePrototypes](this[_t.$ids]),this.element.template[_t.$ids]=this[_t.$ids])}}class Nt extends Xt.XFAObject{constructor(){super(-1,"",Object.create(null))}[_t.$onChild](jt){return!1}}class $t{constructor(jt=null){this._namespaceStack=[],this._nsAgnosticLevel=0,this._namespacePrefixes=new Map,this._namespaces=new Map,this._nextNsId=Math.max(...Object.values(wt.NamespaceIds).map(({id:kt})=>kt)),this._currentNamespace=jt||new bt.UnknownNamespace(++this._nextNsId)}buildRoot(jt){return new Kt(jt)}build({nsPrefix:jt,name:kt,attributes:qt,namespace:Bt,prefixes:Gt}){const en=Bt!==null;if(en&&(this._namespaceStack.push(this._currentNamespace),this._currentNamespace=this._searchNamespace(Bt)),Gt&&this._addNamespacePrefix(Gt),qt.hasOwnProperty(_t.$nsAttributes)){const gn=Rt.NamespaceSetUp.datasets,tn=qt[_t.$nsAttributes];let bn=null;for(const[Wt,Yt]of Object.entries(tn))if(this._getNamespaceToUse(Wt)===gn){bn={xfa:Yt};break}bn?qt[_t.$nsAttributes]=bn:delete qt[_t.$nsAttributes]}const dn=this._getNamespaceToUse(jt),Qt=(dn==null?void 0:dn[wt.$buildXFAObject](kt,qt))||new Nt;return Qt[_t.$isNsAgnostic]()&&this._nsAgnosticLevel++,(en||Gt||Qt[_t.$isNsAgnostic]())&&(Qt[_t.$cleanup]={hasNamespace:en,prefixes:Gt,nsAgnostic:Qt[_t.$isNsAgnostic]()}),Qt}isNsAgnostic(){return this._nsAgnosticLevel>0}_searchNamespace(jt){let kt=this._namespaces.get(jt);if(kt)return kt;for(const[qt,{check:Bt}]of Object.entries(wt.NamespaceIds))if(Bt(jt)){if(kt=Rt.NamespaceSetUp[qt],kt)return this._namespaces.set(jt,kt),kt;break}return kt=new bt.UnknownNamespace(++this._nextNsId),this._namespaces.set(jt,kt),kt}_addNamespacePrefix(jt){for(const{prefix:kt,value:qt}of jt){const Bt=this._searchNamespace(qt);let Gt=this._namespacePrefixes.get(kt);Gt||(Gt=[],this._namespacePrefixes.set(kt,Gt)),Gt.push(Bt)}}_getNamespaceToUse(jt){if(!jt)return this._currentNamespace;const kt=this._namespacePrefixes.get(jt);return(kt==null?void 0:kt.length)>0?kt.at(-1):((0,Pt.warn)(`Unknown namespace prefix: ${jt}.`),null)}clean(jt){const{hasNamespace:kt,prefixes:qt,nsAgnostic:Bt}=jt;kt&&(this._currentNamespace=this._namespaceStack.pop()),qt&&qt.forEach(({prefix:Gt})=>{this._namespacePrefixes.get(Gt).pop()}),Bt&&this._nsAgnosticLevel--}}Et.Builder=$t},(Ct,Et,Ft)=>{Object.defineProperty(Et,"__esModule",{value:!0}),Et.NamespaceSetUp=void 0;var wt=Ft(93),_t=Ft(94),Rt=Ft(95),_e=Ft(96),bt=Ft(97),Pt=Ft(98),Xt=Ft(80),Kt=Ft(99),Nt=Ft(100);const $t={config:wt.ConfigNamespace,connection:_t.ConnectionSetNamespace,datasets:Rt.DatasetsNamespace,localeSet:_e.LocaleSetNamespace,signature:bt.SignatureNamespace,stylesheet:Pt.StylesheetNamespace,template:Xt.TemplateNamespace,xdp:Kt.XdpNamespace,xhtml:Nt.XhtmlNamespace};Et.NamespaceSetUp=$t},(Ct,Et,Ft)=>{Object.defineProperty(Et,"__esModule",{value:!0}),Et.ConfigNamespace=void 0;var wt=Ft(81),_t=Ft(78),Rt=Ft(87),_e=Ft(84),bt=Ft(2);const Pt=wt.NamespaceIds.config.id;class Xt extends Rt.XFAObject{constructor(yn){super(Pt,"acrobat",!0),this.acrobat7=null,this.autoSave=null,this.common=null,this.validate=null,this.validateApprovalSignatures=null,this.submitUrl=new Rt.XFAObjectArray}}class Kt extends Rt.XFAObject{constructor(yn){super(Pt,"acrobat7",!0),this.dynamicRender=null}}class Nt extends Rt.OptionObject{constructor(yn){super(Pt,"ADBE_JSConsole",["delegate","Enable","Disable"])}}class $t extends Rt.OptionObject{constructor(yn){super(Pt,"ADBE_JSDebugger",["delegate","Enable","Disable"])}}class Lt extends Rt.Option01{constructor(yn){super(Pt,"addSilentPrint")}}class jt extends Rt.Option01{constructor(yn){super(Pt,"addViewerPreferences")}}class kt extends Rt.Option10{constructor(yn){super(Pt,"adjustData")}}class qt extends Rt.IntegerObject{constructor(yn){super(Pt,"adobeExtensionLevel",0,qn=>qn>=1&&qn<=8)}}class Bt extends Rt.XFAObject{constructor(yn){super(Pt,"agent",!0),this.name=yn.name?yn.name.trim():"",this.common=new Rt.XFAObjectArray}}class Gt extends Rt.ContentObject{constructor(yn){super(Pt,"alwaysEmbed")}}class en extends Rt.StringObject{constructor(yn){super(Pt,"amd")}}class dn extends Rt.XFAObject{constructor(yn){super(Pt,"area"),this.level=(0,_e.getInteger)({data:yn.level,defaultValue:0,validate:qn=>qn>=1&&qn<=3}),this.name=(0,_e.getStringOption)(yn.name,["","barcode","coreinit","deviceDriver","font","general","layout","merge","script","signature","sourceSet","templateCache"])}}class Qt extends Rt.OptionObject{constructor(yn){super(Pt,"attributes",["preserve","delegate","ignore"])}}class gn extends Rt.OptionObject{constructor(yn){super(Pt,"autoSave",["disabled","enabled"])}}class tn extends Rt.StringObject{constructor(yn){super(Pt,"base")}}class bn extends Rt.XFAObject{constructor(yn){super(Pt,"batchOutput"),this.format=(0,_e.getStringOption)(yn.format,["none","concat","zip","zipCompress"])}}class Wt extends Rt.ContentObject{constructor(yn){super(Pt,"behaviorOverride")}[_t.$finalize](){this[_t.$content]=new Map(this[_t.$content].trim().split(/\s+/).filter(yn=>yn.includes(":")).map(yn=>yn.split(":",2)))}}class Yt extends Rt.XFAObject{constructor(yn){super(Pt,"cache",!0),this.templateCache=null}}class un extends Rt.Option01{constructor(yn){super(Pt,"change")}}class Ut extends Rt.XFAObject{constructor(yn){super(Pt,"common",!0),this.data=null,this.locale=null,this.localeSet=null,this.messaging=null,this.suppressBanner=null,this.template=null,this.validationMessaging=null,this.versionControl=null,this.log=new Rt.XFAObjectArray}}class Ot extends Rt.XFAObject{constructor(yn){super(Pt,"compress"),this.scope=(0,_e.getStringOption)(yn.scope,["imageOnly","document"])}}class Ht extends Rt.Option01{constructor(yn){super(Pt,"compressLogicalStructure")}}class an extends Rt.Option10{constructor(yn){super(Pt,"compressObjectStream")}}class zt extends Rt.XFAObject{constructor(yn){super(Pt,"compression",!0),this.compressLogicalStructure=null,this.compressObjectStream=null,this.level=null,this.type=null}}class Vt extends Rt.XFAObject{constructor(yn){super(Pt,"config",!0),this.acrobat=null,this.present=null,this.trace=null,this.agent=new Rt.XFAObjectArray}}class nn extends Rt.OptionObject{constructor(yn){super(Pt,"conformance",["A","B"])}}class hn extends Rt.Option01{constructor(yn){super(Pt,"contentCopy")}}class on extends Rt.IntegerObject{constructor(yn){super(Pt,"copies",1,qn=>qn>=1)}}class cn extends Rt.StringObject{constructor(yn){super(Pt,"creator")}}class sn extends Rt.IntegerObject{constructor(yn){super(Pt,"currentPage",0,qn=>qn>=0)}}class rn extends Rt.XFAObject{constructor(yn){super(Pt,"data",!0),this.adjustData=null,this.attributes=null,this.incrementalLoad=null,this.outputXSL=null,this.range=null,this.record=null,this.startNode=null,this.uri=null,this.window=null,this.xsl=null,this.excludeNS=new Rt.XFAObjectArray,this.transform=new Rt.XFAObjectArray}}class xn extends Rt.XFAObject{constructor(yn){super(Pt,"debug",!0),this.uri=null}}class vn extends Rt.ContentObject{constructor(yn){super(Pt,"defaultTypeface"),this.writingScript=(0,_e.getStringOption)(yn.writingScript,["*","Arabic","Cyrillic","EastEuropeanRoman","Greek","Hebrew","Japanese","Korean","Roman","SimplifiedChinese","Thai","TraditionalChinese","Vietnamese"])}}class kn extends Rt.OptionObject{constructor(yn){super(Pt,"destination",["pdf","pcl","ps","webClient","zpl"])}}class Pn extends Rt.Option01{constructor(yn){super(Pt,"documentAssembly")}}class On extends Rt.XFAObject{constructor(yn){super(Pt,"driver",!0),this.name=yn.name?yn.name.trim():"",this.fontInfo=null,this.xdc=null}}class _n extends Rt.OptionObject{constructor(yn){super(Pt,"duplexOption",["simplex","duplexFlipLongEdge","duplexFlipShortEdge"])}}class Sn extends Rt.OptionObject{constructor(yn){super(Pt,"dynamicRender",["forbidden","required"])}}class mn extends Rt.Option01{constructor(yn){super(Pt,"embed")}}class fn extends Rt.Option01{constructor(yn){super(Pt,"encrypt")}}class Jt extends Rt.XFAObject{constructor(yn){super(Pt,"encryption",!0),this.encrypt=null,this.encryptionLevel=null,this.permissions=null}}class ln extends Rt.OptionObject{constructor(yn){super(Pt,"encryptionLevel",["40bit","128bit"])}}class pn extends Rt.StringObject{constructor(yn){super(Pt,"enforce")}}class wn extends Rt.XFAObject{constructor(yn){super(Pt,"equate"),this.force=(0,_e.getInteger)({data:yn.force,defaultValue:1,validate:qn=>qn===0}),this.from=yn.from||"",this.to=yn.to||""}}class Cn extends Rt.XFAObject{constructor(yn){super(Pt,"equateRange"),this.from=yn.from||"",this.to=yn.to||"",this._unicodeRange=yn.unicodeRange||""}get unicodeRange(){const yn=[],qn=/U\+([0-9a-fA-F]+)/,_i=this._unicodeRange;for(let Kn of _i.split(",").map(ir=>ir.trim()).filter(ir=>!!ir))Kn=Kn.split("-",2).map(ir=>{const ar=ir.match(qn);return ar?parseInt(ar[1],16):0}),Kn.length===1&&Kn.push(Kn[0]),yn.push(Kn);return(0,bt.shadow)(this,"unicodeRange",yn)}}class Fn extends Rt.ContentObject{constructor(yn){super(Pt,"exclude")}[_t.$finalize](){this[_t.$content]=this[_t.$content].trim().split(/\s+/).filter(yn=>yn&&["calculate","close","enter","exit","initialize","ready","validate"].includes(yn))}}class En extends Rt.StringObject{constructor(yn){super(Pt,"excludeNS")}}class An extends Rt.OptionObject{constructor(yn){super(Pt,"flipLabel",["usePrinterSetting","on","off"])}}class Tn extends Rt.XFAObject{constructor(yn){super(Pt,"fontInfo",!0),this.embed=null,this.map=null,this.subsetBelow=null,this.alwaysEmbed=new Rt.XFAObjectArray,this.defaultTypeface=new Rt.XFAObjectArray,this.neverEmbed=new Rt.XFAObjectArray}}class In extends Rt.Option01{constructor(yn){super(Pt,"formFieldFilling")}}class Rn extends Rt.StringObject{constructor(yn){super(Pt,"groupParent")}}class Dn extends Rt.OptionObject{constructor(yn){super(Pt,"ifEmpty",["dataValue","dataGroup","ignore","remove"])}}class Ln extends Rt.StringObject{constructor(yn){super(Pt,"includeXDPContent")}}class Un extends Rt.OptionObject{constructor(yn){super(Pt,"incrementalLoad",["none","forwardOnly"])}}class tr extends Rt.Option01{constructor(yn){super(Pt,"incrementalMerge")}}class er extends Rt.Option01{constructor(yn){super(Pt,"interactive")}}class Qn extends Rt.OptionObject{constructor(yn){super(Pt,"jog",["usePrinterSetting","none","pageSet"])}}class Yn extends Rt.XFAObject{constructor(yn){super(Pt,"labelPrinter",!0),this.name=(0,_e.getStringOption)(yn.name,["zpl","dpl","ipl","tcpl"]),this.batchOutput=null,this.flipLabel=null,this.fontInfo=null,this.xdc=null}}class Xn extends Rt.OptionObject{constructor(yn){super(Pt,"layout",["paginate","panel"])}}class nr extends Rt.IntegerObject{constructor(yn){super(Pt,"level",0,qn=>qn>0)}}class lr extends Rt.Option01{constructor(yn){super(Pt,"linearized")}}class dr extends Rt.StringObject{constructor(yn){super(Pt,"locale")}}class Bn extends Rt.StringObject{constructor(yn){super(Pt,"localeSet")}}class Hn extends Rt.XFAObject{constructor(yn){super(Pt,"log",!0),this.mode=null,this.threshold=null,this.to=null,this.uri=null}}class Wn extends Rt.XFAObject{constructor(yn){super(Pt,"map",!0),this.equate=new Rt.XFAObjectArray,this.equateRange=new Rt.XFAObjectArray}}class cr extends Rt.XFAObject{constructor(yn){super(Pt,"mediumInfo",!0),this.map=null}}class sr extends Rt.XFAObject{constructor(yn){super(Pt,"message",!0),this.msgId=null,this.severity=null}}class xr extends Rt.XFAObject{constructor(yn){super(Pt,"messaging",!0),this.message=new Rt.XFAObjectArray}}class Jn extends Rt.OptionObject{constructor(yn){super(Pt,"mode",["append","overwrite"])}}class Vn extends Rt.Option01{constructor(yn){super(Pt,"modifyAnnots")}}class Zn extends Rt.IntegerObject{constructor(yn){super(Pt,"msgId",1,qn=>qn>=1)}}class ur extends Rt.StringObject{constructor(yn){super(Pt,"nameAttr")}}class hr extends Rt.ContentObject{constructor(yn){super(Pt,"neverEmbed")}}class or extends Rt.IntegerObject{constructor(yn){super(Pt,"numberOfCopies",null,qn=>qn>=2&&qn<=5)}}class pr extends Rt.XFAObject{constructor(yn){super(Pt,"openAction",!0),this.destination=null}}class wr extends Rt.XFAObject{constructor(yn){super(Pt,"output",!0),this.to=null,this.type=null,this.uri=null}}class fr extends Rt.StringObject{constructor(yn){super(Pt,"outputBin")}}class Ar extends Rt.XFAObject{constructor(yn){super(Pt,"outputXSL",!0),this.uri=null}}class Lr extends Rt.OptionObject{constructor(yn){super(Pt,"overprint",["none","both","draw","field"])}}class Pr extends Rt.StringObject{constructor(yn){super(Pt,"packets")}[_t.$finalize](){this[_t.$content]!=="*"&&(this[_t.$content]=this[_t.$content].trim().split(/\s+/).filter(yn=>["config","datasets","template","xfdf","xslt"].includes(yn)))}}class $r extends Rt.XFAObject{constructor(yn){super(Pt,"pageOffset"),this.x=(0,_e.getInteger)({data:yn.x,defaultValue:"useXDCSetting",validate:qn=>!0}),this.y=(0,_e.getInteger)({data:yn.y,defaultValue:"useXDCSetting",validate:qn=>!0})}}class Er extends Rt.StringObject{constructor(yn){super(Pt,"pageRange")}[_t.$finalize](){const yn=this[_t.$content].trim().split(/\s+/).map(_i=>parseInt(_i,10)),qn=[];for(let _i=0,Kn=yn.length;_i<Kn;_i+=2)qn.push(yn.slice(_i,_i+2));this[_t.$content]=qn}}class _r extends Rt.OptionObject{constructor(yn){super(Pt,"pagination",["simplex","duplexShortEdge","duplexLongEdge"])}}class Fr extends Rt.OptionObject{constructor(yn){super(Pt,"paginationOverride",["none","forceDuplex","forceDuplexLongEdge","forceDuplexShortEdge","forceSimplex"])}}class qr extends Rt.IntegerObject{constructor(yn){super(Pt,"part",1,qn=>!1)}}class vs extends Rt.XFAObject{constructor(yn){super(Pt,"pcl",!0),this.name=yn.name||"",this.batchOutput=null,this.fontInfo=null,this.jog=null,this.mediumInfo=null,this.outputBin=null,this.pageOffset=null,this.staple=null,this.xdc=null}}class ls extends Rt.XFAObject{constructor(yn){super(Pt,"pdf",!0),this.name=yn.name||"",this.adobeExtensionLevel=null,this.batchOutput=null,this.compression=null,this.creator=null,this.encryption=null,this.fontInfo=null,this.interactive=null,this.linearized=null,this.openAction=null,this.pdfa=null,this.producer=null,this.renderPolicy=null,this.scriptModel=null,this.silentPrint=null,this.submitFormat=null,this.tagged=null,this.version=null,this.viewerPreferences=null,this.xdc=null}}class ns extends Rt.XFAObject{constructor(yn){super(Pt,"pdfa",!0),this.amd=null,this.conformance=null,this.includeXDPContent=null,this.part=null}}class Ns extends Rt.XFAObject{constructor(yn){super(Pt,"permissions",!0),this.accessibleContent=null,this.change=null,this.contentCopy=null,this.documentAssembly=null,this.formFieldFilling=null,this.modifyAnnots=null,this.plaintextMetadata=null,this.print=null,this.printHighQuality=null}}class Gs extends Rt.Option01{constructor(yn){super(Pt,"pickTrayByPDFSize")}}class vr extends Rt.StringObject{constructor(yn){super(Pt,"picture")}}class yr extends Rt.Option01{constructor(yn){super(Pt,"plaintextMetadata")}}class Sr extends Rt.OptionObject{constructor(yn){super(Pt,"presence",["preserve","dissolve","dissolveStructure","ignore","remove"])}}class Rr extends Rt.XFAObject{constructor(yn){super(Pt,"present",!0),this.behaviorOverride=null,this.cache=null,this.common=null,this.copies=null,this.destination=null,this.incrementalMerge=null,this.layout=null,this.output=null,this.overprint=null,this.pagination=null,this.paginationOverride=null,this.script=null,this.validate=null,this.xdp=null,this.driver=new Rt.XFAObjectArray,this.labelPrinter=new Rt.XFAObjectArray,this.pcl=new Rt.XFAObjectArray,this.pdf=new Rt.XFAObjectArray,this.ps=new Rt.XFAObjectArray,this.submitUrl=new Rt.XFAObjectArray,this.webClient=new Rt.XFAObjectArray,this.zpl=new Rt.XFAObjectArray}}class jr extends Rt.Option01{constructor(yn){super(Pt,"print")}}class es extends Rt.Option01{constructor(yn){super(Pt,"printHighQuality")}}class Or extends Rt.OptionObject{constructor(yn){super(Pt,"printScaling",["appdefault","noScaling"])}}class Tr extends Rt.StringObject{constructor(yn){super(Pt,"printerName")}}class Vr extends Rt.StringObject{constructor(yn){super(Pt,"producer")}}class us extends Rt.XFAObject{constructor(yn){super(Pt,"ps",!0),this.name=yn.name||"",this.batchOutput=null,this.fontInfo=null,this.jog=null,this.mediumInfo=null,this.outputBin=null,this.staple=null,this.xdc=null}}class bs extends Rt.ContentObject{constructor(yn){super(Pt,"range")}[_t.$finalize](){this[_t.$content]=this[_t.$content].trim().split(/\s*,\s*/,2).map(yn=>yn.split("-").map(qn=>parseInt(qn.trim(),10))).filter(yn=>yn.every(qn=>!isNaN(qn))).map(yn=>(yn.length===1&&yn.push(yn[0]),yn))}}class Jr extends Rt.ContentObject{constructor(yn){super(Pt,"record")}[_t.$finalize](){this[_t.$content]=this[_t.$content].trim();const yn=parseInt(this[_t.$content],10);!isNaN(yn)&&yn>=0&&(this[_t.$content]=yn)}}class ss extends Rt.ContentObject{constructor(yn){super(Pt,"relevant")}[_t.$finalize](){this[_t.$content]=this[_t.$content].trim().split(/\s+/)}}class ms extends Rt.ContentObject{constructor(yn){super(Pt,"rename")}[_t.$finalize](){this[_t.$content]=this[_t.$content].trim(),(this[_t.$content].toLowerCase().startsWith("xml")||new RegExp("[\\p{L}_][\\p{L}\\d._\\p{M}-]*","u").test(this[_t.$content]))&&(0,bt.warn)("XFA - Rename: invalid XFA name")}}class Wr extends Rt.OptionObject{constructor(yn){super(Pt,"renderPolicy",["server","client"])}}class hs extends Rt.OptionObject{constructor(yn){super(Pt,"runScripts",["both","client","none","server"])}}class zr extends Rt.XFAObject{constructor(yn){super(Pt,"script",!0),this.currentPage=null,this.exclude=null,this.runScripts=null}}class gs extends Rt.OptionObject{constructor(yn){super(Pt,"scriptModel",["XFA","none"])}}class ws extends Rt.OptionObject{constructor(yn){super(Pt,"severity",["ignore","error","information","trace","warning"])}}class io extends Rt.XFAObject{constructor(yn){super(Pt,"silentPrint",!0),this.addSilentPrint=null,this.printerName=null}}class ds extends Rt.XFAObject{constructor(yn){super(Pt,"staple"),this.mode=(0,_e.getStringOption)(yn.mode,["usePrinterSetting","on","off"])}}class fs extends Rt.StringObject{constructor(yn){super(Pt,"startNode")}}class $s extends Rt.IntegerObject{constructor(yn){super(Pt,"startPage",0,qn=>!0)}}class Ys extends Rt.OptionObject{constructor(yn){super(Pt,"submitFormat",["html","delegate","fdf","xml","pdf"])}}class wo extends Rt.StringObject{constructor(yn){super(Pt,"submitUrl")}}class Tl extends Rt.IntegerObject{constructor(yn){super(Pt,"subsetBelow",100,qn=>qn>=0&&qn<=100)}}class zp extends Rt.Option01{constructor(yn){super(Pt,"suppressBanner")}}class T1 extends Rt.Option01{constructor(yn){super(Pt,"tagged")}}class _1 extends Rt.XFAObject{constructor(yn){super(Pt,"template",!0),this.base=null,this.relevant=null,this.startPage=null,this.uri=null,this.xsl=null}}class Xp extends Rt.OptionObject{constructor(yn){super(Pt,"threshold",["trace","error","information","warning"])}}class vu extends Rt.OptionObject{constructor(yn){super(Pt,"to",["null","memory","stderr","stdout","system","uri"])}}class F1 extends Rt.XFAObject{constructor(yn){super(Pt,"templateCache"),this.maxEntries=(0,_e.getInteger)({data:yn.maxEntries,defaultValue:5,validate:qn=>qn>=0})}}class wu extends Rt.XFAObject{constructor(yn){super(Pt,"trace",!0),this.area=new Rt.XFAObjectArray}}class zl extends Rt.XFAObject{constructor(yn){super(Pt,"transform",!0),this.groupParent=null,this.ifEmpty=null,this.nameAttr=null,this.picture=null,this.presence=null,this.rename=null,this.whitespace=null}}class Wp extends Rt.OptionObject{constructor(yn){super(Pt,"type",["none","ascii85","asciiHex","ccittfax","flate","lzw","runLength","native","xdp","mergedXDP"])}}class P1 extends Rt.StringObject{constructor(yn){super(Pt,"uri")}}class Au extends Rt.OptionObject{constructor(yn){super(Pt,"validate",["preSubmit","prePrint","preExecute","preSave"])}}class c0 extends Rt.ContentObject{constructor(yn){super(Pt,"validateApprovalSignatures")}[_t.$finalize](){this[_t.$content]=this[_t.$content].trim().split(/\s+/).filter(yn=>["docReady","postSign"].includes(yn))}}class z0 extends Rt.OptionObject{constructor(yn){super(Pt,"validationMessaging",["allMessagesIndividually","allMessagesTogether","firstMessageOnly","noMessages"])}}class Vp extends Rt.OptionObject{constructor(yn){super(Pt,"version",["1.7","1.6","1.5","1.4","1.3","1.2"])}}class R1 extends Rt.XFAObject{constructor(yn){super(Pt,"VersionControl"),this.outputBelow=(0,_e.getStringOption)(yn.outputBelow,["warn","error","update"]),this.sourceAbove=(0,_e.getStringOption)(yn.sourceAbove,["warn","error"]),this.sourceBelow=(0,_e.getStringOption)(yn.sourceBelow,["update","maintain"])}}class I1 extends Rt.XFAObject{constructor(yn){super(Pt,"viewerPreferences",!0),this.ADBE_JSConsole=null,this.ADBE_JSDebugger=null,this.addViewerPreferences=null,this.duplexOption=null,this.enforce=null,this.numberOfCopies=null,this.pageRange=null,this.pickTrayByPDFSize=null,this.printScaling=null}}class Su extends Rt.XFAObject{constructor(yn){super(Pt,"webClient",!0),this.name=yn.name?yn.name.trim():"",this.fontInfo=null,this.xdc=null}}class Gp extends Rt.OptionObject{constructor(yn){super(Pt,"whitespace",["preserve","ltrim","normalize","rtrim","trim"])}}class Eu extends Rt.ContentObject{constructor(yn){super(Pt,"window")}[_t.$finalize](){const yn=this[_t.$content].trim().split(/\s*,\s*/,2).map(qn=>parseInt(qn,10));if(yn.some(qn=>isNaN(qn))){this[_t.$content]=[0,0];return}yn.length===1&&yn.push(yn[0]),this[_t.$content]=yn}}class qp extends Rt.XFAObject{constructor(yn){super(Pt,"xdc",!0),this.uri=new Rt.XFAObjectArray,this.xsl=new Rt.XFAObjectArray}}class jn extends Rt.XFAObject{constructor(yn){super(Pt,"xdp",!0),this.packets=null}}class Gn extends Rt.XFAObject{constructor(yn){super(Pt,"xsl",!0),this.debug=null,this.uri=null}}class rr extends Rt.XFAObject{constructor(yn){super(Pt,"zpl",!0),this.name=yn.name?yn.name.trim():"",this.batchOutput=null,this.flipLabel=null,this.fontInfo=null,this.xdc=null}}class zn{static[wt.$buildXFAObject](yn,qn){if(zn.hasOwnProperty(yn))return zn[yn](qn)}static acrobat(yn){return new Xt(yn)}static acrobat7(yn){return new Kt(yn)}static ADBE_JSConsole(yn){return new Nt(yn)}static ADBE_JSDebugger(yn){return new $t(yn)}static addSilentPrint(yn){return new Lt(yn)}static addViewerPreferences(yn){return new jt(yn)}static adjustData(yn){return new kt(yn)}static adobeExtensionLevel(yn){return new qt(yn)}static agent(yn){return new Bt(yn)}static alwaysEmbed(yn){return new Gt(yn)}static amd(yn){return new en(yn)}static area(yn){return new dn(yn)}static attributes(yn){return new Qt(yn)}static autoSave(yn){return new gn(yn)}static base(yn){return new tn(yn)}static batchOutput(yn){return new bn(yn)}static behaviorOverride(yn){return new Wt(yn)}static cache(yn){return new Yt(yn)}static change(yn){return new un(yn)}static common(yn){return new Ut(yn)}static compress(yn){return new Ot(yn)}static compressLogicalStructure(yn){return new Ht(yn)}static compressObjectStream(yn){return new an(yn)}static compression(yn){return new zt(yn)}static config(yn){return new Vt(yn)}static conformance(yn){return new nn(yn)}static contentCopy(yn){return new hn(yn)}static copies(yn){return new on(yn)}static creator(yn){return new cn(yn)}static currentPage(yn){return new sn(yn)}static data(yn){return new rn(yn)}static debug(yn){return new xn(yn)}static defaultTypeface(yn){return new vn(yn)}static destination(yn){return new kn(yn)}static documentAssembly(yn){return new Pn(yn)}static driver(yn){return new On(yn)}static duplexOption(yn){return new _n(yn)}static dynamicRender(yn){return new Sn(yn)}static embed(yn){return new mn(yn)}static encrypt(yn){return new fn(yn)}static encryption(yn){return new Jt(yn)}static encryptionLevel(yn){return new ln(yn)}static enforce(yn){return new pn(yn)}static equate(yn){return new wn(yn)}static equateRange(yn){return new Cn(yn)}static exclude(yn){return new Fn(yn)}static excludeNS(yn){return new En(yn)}static flipLabel(yn){return new An(yn)}static fontInfo(yn){return new Tn(yn)}static formFieldFilling(yn){return new In(yn)}static groupParent(yn){return new Rn(yn)}static ifEmpty(yn){return new Dn(yn)}static includeXDPContent(yn){return new Ln(yn)}static incrementalLoad(yn){return new Un(yn)}static incrementalMerge(yn){return new tr(yn)}static interactive(yn){return new er(yn)}static jog(yn){return new Qn(yn)}static labelPrinter(yn){return new Yn(yn)}static layout(yn){return new Xn(yn)}static level(yn){return new nr(yn)}static linearized(yn){return new lr(yn)}static locale(yn){return new dr(yn)}static localeSet(yn){return new Bn(yn)}static log(yn){return new Hn(yn)}static map(yn){return new Wn(yn)}static mediumInfo(yn){return new cr(yn)}static message(yn){return new sr(yn)}static messaging(yn){return new xr(yn)}static mode(yn){return new Jn(yn)}static modifyAnnots(yn){return new Vn(yn)}static msgId(yn){return new Zn(yn)}static nameAttr(yn){return new ur(yn)}static neverEmbed(yn){return new hr(yn)}static numberOfCopies(yn){return new or(yn)}static openAction(yn){return new pr(yn)}static output(yn){return new wr(yn)}static outputBin(yn){return new fr(yn)}static outputXSL(yn){return new Ar(yn)}static overprint(yn){return new Lr(yn)}static packets(yn){return new Pr(yn)}static pageOffset(yn){return new $r(yn)}static pageRange(yn){return new Er(yn)}static pagination(yn){return new _r(yn)}static paginationOverride(yn){return new Fr(yn)}static part(yn){return new qr(yn)}static pcl(yn){return new vs(yn)}static pdf(yn){return new ls(yn)}static pdfa(yn){return new ns(yn)}static permissions(yn){return new Ns(yn)}static pickTrayByPDFSize(yn){return new Gs(yn)}static picture(yn){return new vr(yn)}static plaintextMetadata(yn){return new yr(yn)}static presence(yn){return new Sr(yn)}static present(yn){return new Rr(yn)}static print(yn){return new jr(yn)}static printHighQuality(yn){return new es(yn)}static printScaling(yn){return new Or(yn)}static printerName(yn){return new Tr(yn)}static producer(yn){return new Vr(yn)}static ps(yn){return new us(yn)}static range(yn){return new bs(yn)}static record(yn){return new Jr(yn)}static relevant(yn){return new ss(yn)}static rename(yn){return new ms(yn)}static renderPolicy(yn){return new Wr(yn)}static runScripts(yn){return new hs(yn)}static script(yn){return new zr(yn)}static scriptModel(yn){return new gs(yn)}static severity(yn){return new ws(yn)}static silentPrint(yn){return new io(yn)}static staple(yn){return new ds(yn)}static startNode(yn){return new fs(yn)}static startPage(yn){return new $s(yn)}static submitFormat(yn){return new Ys(yn)}static submitUrl(yn){return new wo(yn)}static subsetBelow(yn){return new Tl(yn)}static suppressBanner(yn){return new zp(yn)}static tagged(yn){return new T1(yn)}static template(yn){return new _1(yn)}static templateCache(yn){return new F1(yn)}static threshold(yn){return new Xp(yn)}static to(yn){return new vu(yn)}static trace(yn){return new wu(yn)}static transform(yn){return new zl(yn)}static type(yn){return new Wp(yn)}static uri(yn){return new P1(yn)}static validate(yn){return new Au(yn)}static validateApprovalSignatures(yn){return new c0(yn)}static validationMessaging(yn){return new z0(yn)}static version(yn){return new Vp(yn)}static versionControl(yn){return new R1(yn)}static viewerPreferences(yn){return new I1(yn)}static webClient(yn){return new Su(yn)}static whitespace(yn){return new Gp(yn)}static window(yn){return new Eu(yn)}static xdc(yn){return new qp(yn)}static xdp(yn){return new jn(yn)}static xsl(yn){return new Gn(yn)}static zpl(yn){return new rr(yn)}}Et.ConfigNamespace=zn},(Ct,Et,Ft)=>{Object.defineProperty(Et,"__esModule",{value:!0}),Et.ConnectionSetNamespace=void 0;var wt=Ft(81),_t=Ft(87);const Rt=wt.NamespaceIds.connectionSet.id;class _e extends _t.XFAObject{constructor(dn){super(Rt,"connectionSet",!0),this.wsdlConnection=new _t.XFAObjectArray,this.xmlConnection=new _t.XFAObjectArray,this.xsdConnection=new _t.XFAObjectArray}}class bt extends _t.XFAObject{constructor(dn){super(Rt,"effectiveInputPolicy"),this.id=dn.id||"",this.name=dn.name||"",this.use=dn.use||"",this.usehref=dn.usehref||""}}class Pt extends _t.XFAObject{constructor(dn){super(Rt,"effectiveOutputPolicy"),this.id=dn.id||"",this.name=dn.name||"",this.use=dn.use||"",this.usehref=dn.usehref||""}}class Xt extends _t.StringObject{constructor(dn){super(Rt,"operation"),this.id=dn.id||"",this.input=dn.input||"",this.name=dn.name||"",this.output=dn.output||"",this.use=dn.use||"",this.usehref=dn.usehref||""}}class Kt extends _t.StringObject{constructor(dn){super(Rt,"rootElement"),this.id=dn.id||"",this.name=dn.name||"",this.use=dn.use||"",this.usehref=dn.usehref||""}}class Nt extends _t.StringObject{constructor(dn){super(Rt,"soapAction"),this.id=dn.id||"",this.name=dn.name||"",this.use=dn.use||"",this.usehref=dn.usehref||""}}class $t extends _t.StringObject{constructor(dn){super(Rt,"soapAddress"),this.id=dn.id||"",this.name=dn.name||"",this.use=dn.use||"",this.usehref=dn.usehref||""}}class Lt extends _t.StringObject{constructor(dn){super(Rt,"uri"),this.id=dn.id||"",this.name=dn.name||"",this.use=dn.use||"",this.usehref=dn.usehref||""}}class jt extends _t.StringObject{constructor(dn){super(Rt,"wsdlAddress"),this.id=dn.id||"",this.name=dn.name||"",this.use=dn.use||"",this.usehref=dn.usehref||""}}class kt extends _t.XFAObject{constructor(dn){super(Rt,"wsdlConnection",!0),this.dataDescription=dn.dataDescription||"",this.name=dn.name||"",this.effectiveInputPolicy=null,this.effectiveOutputPolicy=null,this.operation=null,this.soapAction=null,this.soapAddress=null,this.wsdlAddress=null}}class qt extends _t.XFAObject{constructor(dn){super(Rt,"xmlConnection",!0),this.dataDescription=dn.dataDescription||"",this.name=dn.name||"",this.uri=null}}class Bt extends _t.XFAObject{constructor(dn){super(Rt,"xsdConnection",!0),this.dataDescription=dn.dataDescription||"",this.name=dn.name||"",this.rootElement=null,this.uri=null}}class Gt{static[wt.$buildXFAObject](dn,Qt){if(Gt.hasOwnProperty(dn))return Gt[dn](Qt)}static connectionSet(dn){return new _e(dn)}static effectiveInputPolicy(dn){return new bt(dn)}static effectiveOutputPolicy(dn){return new Pt(dn)}static operation(dn){return new Xt(dn)}static rootElement(dn){return new Kt(dn)}static soapAction(dn){return new Nt(dn)}static soapAddress(dn){return new $t(dn)}static uri(dn){return new Lt(dn)}static wsdlAddress(dn){return new jt(dn)}static wsdlConnection(dn){return new kt(dn)}static xmlConnection(dn){return new qt(dn)}static xsdConnection(dn){return new Bt(dn)}}Et.ConnectionSetNamespace=Gt},(Ct,Et,Ft)=>{Object.defineProperty(Et,"__esModule",{value:!0}),Et.DatasetsNamespace=void 0;var wt=Ft(78),_t=Ft(81),Rt=Ft(87);const _e=_t.NamespaceIds.datasets.id;class bt extends Rt.XmlObject{constructor(Nt){super(_e,"data",Nt)}[wt.$isNsAgnostic](){return!0}}class Pt extends Rt.XFAObject{constructor(Nt){super(_e,"datasets",!0),this.data=null,this.Signature=null}[wt.$onChild](Nt){const $t=Nt[wt.$nodeName];($t==="data"&&Nt[wt.$namespaceId]===_e||$t==="Signature"&&Nt[wt.$namespaceId]===_t.NamespaceIds.signature.id)&&(this[$t]=Nt),this[wt.$appendChild](Nt)}}class Xt{static[_t.$buildXFAObject](Nt,$t){if(Xt.hasOwnProperty(Nt))return Xt[Nt]($t)}static datasets(Nt){return new Pt(Nt)}static data(Nt){return new bt(Nt)}}Et.DatasetsNamespace=Xt},(Ct,Et,Ft)=>{Object.defineProperty(Et,"__esModule",{value:!0}),Et.LocaleSetNamespace=void 0;var wt=Ft(81),_t=Ft(87),Rt=Ft(84);const _e=wt.NamespaceIds.localeSet.id;class bt extends _t.XFAObject{constructor(Vt){super(_e,"calendarSymbols",!0),this.name="gregorian",this.dayNames=new _t.XFAObjectArray(2),this.eraNames=null,this.meridiemNames=null,this.monthNames=new _t.XFAObjectArray(2)}}class Pt extends _t.StringObject{constructor(Vt){super(_e,"currencySymbol"),this.name=(0,Rt.getStringOption)(Vt.name,["symbol","isoname","decimal"])}}class Xt extends _t.XFAObject{constructor(Vt){super(_e,"currencySymbols",!0),this.currencySymbol=new _t.XFAObjectArray(3)}}class Kt extends _t.StringObject{constructor(Vt){super(_e,"datePattern"),this.name=(0,Rt.getStringOption)(Vt.name,["full","long","med","short"])}}class Nt extends _t.XFAObject{constructor(Vt){super(_e,"datePatterns",!0),this.datePattern=new _t.XFAObjectArray(4)}}class $t extends _t.ContentObject{constructor(Vt){super(_e,"dateTimeSymbols")}}class Lt extends _t.StringObject{constructor(Vt){super(_e,"day")}}class jt extends _t.XFAObject{constructor(Vt){super(_e,"dayNames",!0),this.abbr=(0,Rt.getInteger)({data:Vt.abbr,defaultValue:0,validate:nn=>nn===1}),this.day=new _t.XFAObjectArray(7)}}class kt extends _t.StringObject{constructor(Vt){super(_e,"era")}}class qt extends _t.XFAObject{constructor(Vt){super(_e,"eraNames",!0),this.era=new _t.XFAObjectArray(2)}}class Bt extends _t.XFAObject{constructor(Vt){super(_e,"locale",!0),this.desc=Vt.desc||"",this.name="isoname",this.calendarSymbols=null,this.currencySymbols=null,this.datePatterns=null,this.dateTimeSymbols=null,this.numberPatterns=null,this.numberSymbols=null,this.timePatterns=null,this.typeFaces=null}}class Gt extends _t.XFAObject{constructor(Vt){super(_e,"localeSet",!0),this.locale=new _t.XFAObjectArray}}class en extends _t.StringObject{constructor(Vt){super(_e,"meridiem")}}class dn extends _t.XFAObject{constructor(Vt){super(_e,"meridiemNames",!0),this.meridiem=new _t.XFAObjectArray(2)}}class Qt extends _t.StringObject{constructor(Vt){super(_e,"month")}}class gn extends _t.XFAObject{constructor(Vt){super(_e,"monthNames",!0),this.abbr=(0,Rt.getInteger)({data:Vt.abbr,defaultValue:0,validate:nn=>nn===1}),this.month=new _t.XFAObjectArray(12)}}class tn extends _t.StringObject{constructor(Vt){super(_e,"numberPattern"),this.name=(0,Rt.getStringOption)(Vt.name,["full","long","med","short"])}}class bn extends _t.XFAObject{constructor(Vt){super(_e,"numberPatterns",!0),this.numberPattern=new _t.XFAObjectArray(4)}}class Wt extends _t.StringObject{constructor(Vt){super(_e,"numberSymbol"),this.name=(0,Rt.getStringOption)(Vt.name,["decimal","grouping","percent","minus","zero"])}}class Yt extends _t.XFAObject{constructor(Vt){super(_e,"numberSymbols",!0),this.numberSymbol=new _t.XFAObjectArray(5)}}class un extends _t.StringObject{constructor(Vt){super(_e,"timePattern"),this.name=(0,Rt.getStringOption)(Vt.name,["full","long","med","short"])}}class Ut extends _t.XFAObject{constructor(Vt){super(_e,"timePatterns",!0),this.timePattern=new _t.XFAObjectArray(4)}}class Ot extends _t.XFAObject{constructor(Vt){super(_e,"typeFace",!0),this.name=Vt.name|""}}class Ht extends _t.XFAObject{constructor(Vt){super(_e,"typeFaces",!0),this.typeFace=new _t.XFAObjectArray}}class an{static[wt.$buildXFAObject](Vt,nn){if(an.hasOwnProperty(Vt))return an[Vt](nn)}static calendarSymbols(Vt){return new bt(Vt)}static currencySymbol(Vt){return new Pt(Vt)}static currencySymbols(Vt){return new Xt(Vt)}static datePattern(Vt){return new Kt(Vt)}static datePatterns(Vt){return new Nt(Vt)}static dateTimeSymbols(Vt){return new $t(Vt)}static day(Vt){return new Lt(Vt)}static dayNames(Vt){return new jt(Vt)}static era(Vt){return new kt(Vt)}static eraNames(Vt){return new qt(Vt)}static locale(Vt){return new Bt(Vt)}static localeSet(Vt){return new Gt(Vt)}static meridiem(Vt){return new en(Vt)}static meridiemNames(Vt){return new dn(Vt)}static month(Vt){return new Qt(Vt)}static monthNames(Vt){return new gn(Vt)}static numberPattern(Vt){return new tn(Vt)}static numberPatterns(Vt){return new bn(Vt)}static numberSymbol(Vt){return new Wt(Vt)}static numberSymbols(Vt){return new Yt(Vt)}static timePattern(Vt){return new un(Vt)}static timePatterns(Vt){return new Ut(Vt)}static typeFace(Vt){return new Ot(Vt)}static typeFaces(Vt){return new Ht(Vt)}}Et.LocaleSetNamespace=an},(Ct,Et,Ft)=>{Object.defineProperty(Et,"__esModule",{value:!0}),Et.SignatureNamespace=void 0;var wt=Ft(81),_t=Ft(87);const Rt=wt.NamespaceIds.signature.id;class _e extends _t.XFAObject{constructor(Xt){super(Rt,"signature",!0)}}class bt{static[wt.$buildXFAObject](Xt,Kt){if(bt.hasOwnProperty(Xt))return bt[Xt](Kt)}static signature(Xt){return new _e(Xt)}}Et.SignatureNamespace=bt},(Ct,Et,Ft)=>{Object.defineProperty(Et,"__esModule",{value:!0}),Et.StylesheetNamespace=void 0;var wt=Ft(81),_t=Ft(87);const Rt=wt.NamespaceIds.stylesheet.id;class _e extends _t.XFAObject{constructor(Xt){super(Rt,"stylesheet",!0)}}class bt{static[wt.$buildXFAObject](Xt,Kt){if(bt.hasOwnProperty(Xt))return bt[Xt](Kt)}static stylesheet(Xt){return new _e(Xt)}}Et.StylesheetNamespace=bt},(Ct,Et,Ft)=>{Object.defineProperty(Et,"__esModule",{value:!0}),Et.XdpNamespace=void 0;var wt=Ft(81),_t=Ft(78),Rt=Ft(87);const _e=wt.NamespaceIds.xdp.id;class bt extends Rt.XFAObject{constructor(Kt){super(_e,"xdp",!0),this.uuid=Kt.uuid||"",this.timeStamp=Kt.timeStamp||"",this.config=null,this.connectionSet=null,this.datasets=null,this.localeSet=null,this.stylesheet=new Rt.XFAObjectArray,this.template=null}[_t.$onChildCheck](Kt){const Nt=wt.NamespaceIds[Kt[_t.$nodeName]];return Nt&&Kt[_t.$namespaceId]===Nt.id}}class Pt{static[wt.$buildXFAObject](Kt,Nt){if(Pt.hasOwnProperty(Kt))return Pt[Kt](Nt)}static xdp(Kt){return new bt(Kt)}}Et.XdpNamespace=Pt},(Ct,Et,Ft)=>{Object.defineProperty(Et,"__esModule",{value:!0}),Et.XhtmlNamespace=void 0;var wt=Ft(78),_t=Ft(81),Rt=Ft(83),_e=Ft(84),bt=Ft(87);const Pt=_t.NamespaceIds.xhtml.id,Xt=Symbol(),Kt=new Set(["color","font","font-family","font-size","font-stretch","font-style","font-weight","margin","margin-bottom","margin-left","margin-right","margin-top","letter-spacing","line-height","orphans","page-break-after","page-break-before","page-break-inside","tab-interval","tab-stop","text-align","text-decoration","text-indent","vertical-align","widows","kerning-mode","xfa-font-horizontal-scale","xfa-font-vertical-scale","xfa-spacerun","xfa-tab-stops"]),Nt=new Map([["page-break-after","breakAfter"],["page-break-before","breakBefore"],["page-break-inside","breakInside"],["kerning-mode",Vt=>Vt==="none"?"none":"normal"],["xfa-font-horizontal-scale",Vt=>`scaleX(${Math.max(0,Math.min(parseInt(Vt)/100)).toFixed(2)})`],["xfa-font-vertical-scale",Vt=>`scaleY(${Math.max(0,Math.min(parseInt(Vt)/100)).toFixed(2)})`],["xfa-spacerun",""],["xfa-tab-stops",""],["font-size",(Vt,nn)=>(Vt=nn.fontSize=(0,_e.getMeasurement)(Vt),(0,Rt.measureToString)(.99*Vt))],["letter-spacing",Vt=>(0,Rt.measureToString)((0,_e.getMeasurement)(Vt))],["line-height",Vt=>(0,Rt.measureToString)((0,_e.getMeasurement)(Vt))],["margin",Vt=>(0,Rt.measureToString)((0,_e.getMeasurement)(Vt))],["margin-bottom",Vt=>(0,Rt.measureToString)((0,_e.getMeasurement)(Vt))],["margin-left",Vt=>(0,Rt.measureToString)((0,_e.getMeasurement)(Vt))],["margin-right",Vt=>(0,Rt.measureToString)((0,_e.getMeasurement)(Vt))],["margin-top",Vt=>(0,Rt.measureToString)((0,_e.getMeasurement)(Vt))],["text-indent",Vt=>(0,Rt.measureToString)((0,_e.getMeasurement)(Vt))],["font-family",Vt=>Vt],["vertical-align",Vt=>(0,Rt.measureToString)((0,_e.getMeasurement)(Vt))]]),$t=/\s+/g,Lt=/[\r\n]+/g,jt=/\r\n?/g;function kt(Vt,nn,hn){const on=Object.create(null);if(!Vt)return on;const cn=Object.create(null);for(const[sn,rn]of Vt.split(";").map(xn=>xn.split(":",2))){const xn=Nt.get(sn);if(xn==="")continue;let vn=rn;xn&&(vn=typeof xn=="string"?xn:xn(rn,cn)),sn.endsWith("scale")?on.transform=on.transform?`${on[sn]} ${vn}`:vn:on[sn.replaceAll(/-([a-zA-Z])/g,(kn,Pn)=>Pn.toUpperCase())]=vn}if(on.fontFamily&&(0,Rt.setFontFamily)({typeface:on.fontFamily,weight:on.fontWeight||"normal",posture:on.fontStyle||"normal",size:cn.fontSize||0},nn,nn[wt.$globalData].fontFinder,on),hn&&on.verticalAlign&&on.verticalAlign!=="0px"&&on.fontSize){const xn=(0,_e.getMeasurement)(on.fontSize);on.fontSize=(0,Rt.measureToString)(xn*.583),on.verticalAlign=(0,Rt.measureToString)(Math.sign((0,_e.getMeasurement)(on.verticalAlign))*xn*.333)}return hn&&on.fontSize&&(on.fontSize=`calc(${on.fontSize} * var(--scale-factor))`),(0,Rt.fixTextIndent)(on),on}function qt(Vt){return Vt.style?Vt.style.trim().split(/\s*;\s*/).filter(nn=>!!nn).map(nn=>nn.split(/\s*:\s*/,2)).filter(([nn,hn])=>(nn==="font-family"&&Vt[wt.$globalData].usedTypefaces.add(hn),Kt.has(nn))).map(nn=>nn.join(":")).join(";"):""}const Bt=new Set(["body","html"]);class Gt extends bt.XmlObject{constructor(nn,hn){super(Pt,hn),this[Xt]=!1,this.style=nn.style||""}[wt.$clean](nn){super[wt.$clean](nn),this.style=qt(this)}[wt.$acceptWhitespace](){return!Bt.has(this[wt.$nodeName])}[wt.$onText](nn,hn=!1){hn?this[Xt]=!0:(nn=nn.replaceAll(Lt,""),this.style.includes("xfa-spacerun:yes")||(nn=nn.replaceAll($t," "))),nn&&(this[wt.$content]+=nn)}[wt.$pushGlyphs](nn,hn=!0){const on=Object.create(null),cn={top:NaN,bottom:NaN,left:NaN,right:NaN};let sn=null;for(const[rn,xn]of this.style.split(";").map(vn=>vn.split(":",2)))switch(rn){case"font-family":on.typeface=(0,_e.stripQuotes)(xn);break;case"font-size":on.size=(0,_e.getMeasurement)(xn);break;case"font-weight":on.weight=xn;break;case"font-style":on.posture=xn;break;case"letter-spacing":on.letterSpacing=(0,_e.getMeasurement)(xn);break;case"margin":const vn=xn.split(/ \t/).map(kn=>(0,_e.getMeasurement)(kn));switch(vn.length){case 1:cn.top=cn.bottom=cn.left=cn.right=vn[0];break;case 2:cn.top=cn.bottom=vn[0],cn.left=cn.right=vn[1];break;case 3:cn.top=vn[0],cn.bottom=vn[2],cn.left=cn.right=vn[1];break;case 4:cn.top=vn[0],cn.left=vn[1],cn.bottom=vn[2],cn.right=vn[3];break}break;case"margin-top":cn.top=(0,_e.getMeasurement)(xn);break;case"margin-bottom":cn.bottom=(0,_e.getMeasurement)(xn);break;case"margin-left":cn.left=(0,_e.getMeasurement)(xn);break;case"margin-right":cn.right=(0,_e.getMeasurement)(xn);break;case"line-height":sn=(0,_e.getMeasurement)(xn);break}if(nn.pushData(on,cn,sn),this[wt.$content])nn.addString(this[wt.$content]);else for(const rn of this[wt.$getChildren]()){if(rn[wt.$nodeName]==="#text"){nn.addString(rn[wt.$content]);continue}rn[wt.$pushGlyphs](nn)}hn&&nn.popFont()}[wt.$toHTML](nn){const hn=[];if(this[wt.$extra]={children:hn},this[wt.$childrenToHTML]({}),hn.length===0&&!this[wt.$content])return _e.HTMLResult.EMPTY;let on;return this[Xt]?on=this[wt.$content]?this[wt.$content].replaceAll(jt,`
`):void 0:on=this[wt.$content]||void 0,_e.HTMLResult.success({name:this[wt.$nodeName],attributes:{href:this.href,style:kt(this.style,this,this[Xt])},children:hn,value:on})}}class en extends Gt{constructor(nn){super(nn,"a"),this.href=(0,Rt.fixURL)(nn.href)||""}}class dn extends Gt{constructor(nn){super(nn,"b")}[wt.$pushGlyphs](nn){nn.pushFont({weight:"bold"}),super[wt.$pushGlyphs](nn),nn.popFont()}}class Qt extends Gt{constructor(nn){super(nn,"body")}[wt.$toHTML](nn){const hn=super[wt.$toHTML](nn),{html:on}=hn;return on?(on.name="div",on.attributes.class=["xfaRich"],hn):_e.HTMLResult.EMPTY}}class gn extends Gt{constructor(nn){super(nn,"br")}[wt.$text](){return`
`}[wt.$pushGlyphs](nn){nn.addString(`
`)}[wt.$toHTML](nn){return _e.HTMLResult.success({name:"br"})}}class tn extends Gt{constructor(nn){super(nn,"html")}[wt.$toHTML](nn){var on;const hn=[];if(this[wt.$extra]={children:hn},this[wt.$childrenToHTML]({}),hn.length===0)return _e.HTMLResult.success({name:"div",attributes:{class:["xfaRich"],style:{}},value:this[wt.$content]||""});if(hn.length===1){const cn=hn[0];if((on=cn.attributes)!=null&&on.class.includes("xfaRich"))return _e.HTMLResult.success(cn)}return _e.HTMLResult.success({name:"div",attributes:{class:["xfaRich"],style:{}},children:hn})}}class bn extends Gt{constructor(nn){super(nn,"i")}[wt.$pushGlyphs](nn){nn.pushFont({posture:"italic"}),super[wt.$pushGlyphs](nn),nn.popFont()}}class Wt extends Gt{constructor(nn){super(nn,"li")}}class Yt extends Gt{constructor(nn){super(nn,"ol")}}class un extends Gt{constructor(nn){super(nn,"p")}[wt.$pushGlyphs](nn){super[wt.$pushGlyphs](nn,!1),nn.addString(`
`),nn.addPara(),nn.popFont()}[wt.$text](){return this[wt.$getParent]()[wt.$getChildren]().at(-1)===this?super[wt.$text]():super[wt.$text]()+`
`}}class Ut extends Gt{constructor(nn){super(nn,"span")}}class Ot extends Gt{constructor(nn){super(nn,"sub")}}class Ht extends Gt{constructor(nn){super(nn,"sup")}}class an extends Gt{constructor(nn){super(nn,"ul")}}class zt{static[_t.$buildXFAObject](nn,hn){if(zt.hasOwnProperty(nn))return zt[nn](hn)}static a(nn){return new en(nn)}static b(nn){return new dn(nn)}static body(nn){return new Qt(nn)}static br(nn){return new gn(nn)}static html(nn){return new tn(nn)}static i(nn){return new bn(nn)}static li(nn){return new Wt(nn)}static ol(nn){return new Yt(nn)}static p(nn){return new un(nn)}static span(nn){return new Ut(nn)}static sub(nn){return new Ot(nn)}static sup(nn){return new Ht(nn)}static ul(nn){return new an(nn)}}Et.XhtmlNamespace=zt},(Ct,Et,Ft)=>{Object.defineProperty(Et,"__esModule",{value:!0}),Et.UnknownNamespace=void 0;var wt=Ft(81),_t=Ft(87);class Rt{constructor(bt){this.namespaceId=bt}[wt.$buildXFAObject](bt,Pt){return new _t.XmlObject(this.namespaceId,bt,Pt)}}Et.UnknownNamespace=Rt},(Ct,Et,Ft)=>{Object.defineProperty(Et,"__esModule",{value:!0}),Et.DatasetReader=void 0;var wt=Ft(2),_t=Ft(3),Rt=Ft(71);function _e(Xt){try{return(0,wt.stringToUTF8String)(Xt)}catch(Kt){return(0,wt.warn)(`UTF-8 decoding failed: "${Kt}".`),Xt}}class bt extends Rt.SimpleXMLParser{constructor(Kt){super(Kt),this.node=null}onEndElement(Kt){const Nt=super.onEndElement(Kt);if(Nt&&Kt==="xfa:datasets")throw this.node=Nt,new Error("Aborting DatasetXMLParser.")}}class Pt{constructor(Kt){if(Kt.datasets)this.node=new Rt.SimpleXMLParser({hasAttributes:!0}).parseFromString(Kt.datasets).documentElement;else{const Nt=new bt({hasAttributes:!0});try{Nt.parseFromString(Kt["xdp:xdp"])}catch{}this.node=Nt.node}}getValue(Kt){if(!this.node||!Kt)return"";const Nt=this.node.searchNode((0,_t.parseXFAPath)(Kt),0);if(!Nt)return"";const $t=Nt.firstChild;return($t==null?void 0:$t.nodeName)==="value"?Nt.children.map(Lt=>_e(Lt.textContent)):_e(Nt.textContent)}}Et.DatasetReader=Pt},(Ct,Et,Ft)=>{var Kt;Object.defineProperty(Et,"__esModule",{value:!0}),Et.XRef=void 0;var wt=Ft(2),_t=Ft(4),Rt=Ft(16),_e=Ft(3),bt=Ft(5),Pt=Ft(74);class Xt{constructor($t,Lt){Nn(this,Kt,null);this.stream=$t,this.pdfManager=Lt,this.entries=[],this._xrefStms=new Set,this._cacheMap=new Map,this._pendingRefs=new _t.RefSet,this._newPersistentRefNum=null,this._newTemporaryRefNum=null}getNewPersistentRef($t){this._newPersistentRefNum===null&&(this._newPersistentRefNum=this.entries.length||1);const Lt=this._newPersistentRefNum++;return this._cacheMap.set(Lt,$t),_t.Ref.get(Lt,0)}getNewTemporaryRef(){return this._newTemporaryRefNum===null&&(this._newTemporaryRefNum=this.entries.length||1),_t.Ref.get(this._newTemporaryRefNum++,0)}resetNewTemporaryRef(){this._newTemporaryRefNum=null}setStartXRef($t){this.startXRefQueue=[$t]}parse($t=!1){let Lt;$t?((0,wt.warn)("Indexing all PDF objects"),Lt=this.indexObjects()):Lt=this.readXRef(),Lt.assignXref(this),this.trailer=Lt;let jt;try{jt=Lt.get("Encrypt")}catch(qt){if(qt instanceof _e.MissingDataException)throw qt;(0,wt.warn)(`XRef.parse - Invalid "Encrypt" reference: "${qt}".`)}if(jt instanceof _t.Dict){const qt=Lt.get("ID"),Bt=qt!=null&&qt.length?qt[0]:"";jt.suppressEncryption=!0,this.encrypt=new Pt.CipherTransformFactory(jt,Bt,this.pdfManager.password)}let kt;try{kt=Lt.get("Root")}catch(qt){if(qt instanceof _e.MissingDataException)throw qt;(0,wt.warn)(`XRef.parse - Invalid "Root" reference: "${qt}".`)}if(kt instanceof _t.Dict)try{if(kt.get("Pages")instanceof _t.Dict){this.root=kt;return}}catch(qt){if(qt instanceof _e.MissingDataException)throw qt;(0,wt.warn)(`XRef.parse - Invalid "Pages" reference: "${qt}".`)}throw $t?new wt.InvalidPDFException("Invalid Root reference."):new _e.XRefParseException}processXRefTable($t){"tableState"in this||(this.tableState={entryNum:0,streamPos:$t.lexer.stream.pos,parserBuf1:$t.buf1,parserBuf2:$t.buf2});const Lt=this.readXRefTable($t);if(!(0,_t.isCmd)(Lt,"trailer"))throw new wt.FormatError("Invalid XRef table: could not find trailer dictionary");let jt=$t.getObj();if(!(jt instanceof _t.Dict)&&jt.dict&&(jt=jt.dict),!(jt instanceof _t.Dict))throw new wt.FormatError("Invalid XRef table: could not parse trailer dictionary");return delete this.tableState,jt}readXRefTable($t){const Lt=$t.lexer.stream,jt=this.tableState;Lt.pos=jt.streamPos,$t.buf1=jt.parserBuf1,$t.buf2=jt.parserBuf2;let kt;for(;;){if(!("firstEntryNum"in jt)||!("entryCount"in jt)){if((0,_t.isCmd)(kt=$t.getObj(),"trailer"))break;jt.firstEntryNum=kt,jt.entryCount=$t.getObj()}let qt=jt.firstEntryNum;const Bt=jt.entryCount;if(!Number.isInteger(qt)||!Number.isInteger(Bt))throw new wt.FormatError("Invalid XRef table: wrong types in subsection header");for(let Gt=jt.entryNum;Gt<Bt;Gt++){jt.streamPos=Lt.pos,jt.entryNum=Gt,jt.parserBuf1=$t.buf1,jt.parserBuf2=$t.buf2;const en={};en.offset=$t.getObj(),en.gen=$t.getObj();const dn=$t.getObj();if(dn instanceof _t.Cmd)switch(dn.cmd){case"f":en.free=!0;break;case"n":en.uncompressed=!0;break}if(!Number.isInteger(en.offset)||!Number.isInteger(en.gen)||!(en.free||en.uncompressed))throw new wt.FormatError(`Invalid entry in XRef subsection: ${qt}, ${Bt}`);Gt===0&&en.free&&qt===1&&(qt=0),this.entries[Gt+qt]||(this.entries[Gt+qt]=en)}jt.entryNum=0,jt.streamPos=Lt.pos,jt.parserBuf1=$t.buf1,jt.parserBuf2=$t.buf2,delete jt.firstEntryNum,delete jt.entryCount}if(this.entries[0]&&!this.entries[0].free)throw new wt.FormatError("Invalid XRef table: unexpected first object");return kt}processXRefStream($t){if(!("streamState"in this)){const Lt=$t.dict,jt=Lt.get("W");let kt=Lt.get("Index");kt||(kt=[0,Lt.get("Size")]),this.streamState={entryRanges:kt,byteWidths:jt,entryNum:0,streamPos:$t.pos}}return this.readXRefStream($t),delete this.streamState,$t.dict}readXRefStream($t){const Lt=this.streamState;$t.pos=Lt.streamPos;const[jt,kt,qt]=Lt.byteWidths,Bt=Lt.entryRanges;for(;Bt.length>0;){const[Gt,en]=Bt;if(!Number.isInteger(Gt)||!Number.isInteger(en))throw new wt.FormatError(`Invalid XRef range fields: ${Gt}, ${en}`);if(!Number.isInteger(jt)||!Number.isInteger(kt)||!Number.isInteger(qt))throw new wt.FormatError(`Invalid XRef entry fields length: ${Gt}, ${en}`);for(let dn=Lt.entryNum;dn<en;++dn){Lt.entryNum=dn,Lt.streamPos=$t.pos;let Qt=0,gn=0,tn=0;for(let Wt=0;Wt<jt;++Wt){const Yt=$t.getByte();if(Yt===-1)throw new wt.FormatError("Invalid XRef byteWidths 'type'.");Qt=Qt<<8|Yt}jt===0&&(Qt=1);for(let Wt=0;Wt<kt;++Wt){const Yt=$t.getByte();if(Yt===-1)throw new wt.FormatError("Invalid XRef byteWidths 'offset'.");gn=gn<<8|Yt}for(let Wt=0;Wt<qt;++Wt){const Yt=$t.getByte();if(Yt===-1)throw new wt.FormatError("Invalid XRef byteWidths 'generation'.");tn=tn<<8|Yt}const bn={};switch(bn.offset=gn,bn.gen=tn,Qt){case 0:bn.free=!0;break;case 1:bn.uncompressed=!0;break;case 2:break;default:throw new wt.FormatError(`Invalid XRef entry type: ${Qt}`)}this.entries[Gt+dn]||(this.entries[Gt+dn]=bn)}Lt.entryNum=0,Lt.streamPos=$t.pos,Bt.splice(0,2)}}indexObjects(){function Gt(cn,sn){let rn="",xn=cn[sn];for(;xn!==10&&xn!==13&&xn!==60&&!(++sn>=cn.length);)rn+=String.fromCharCode(xn),xn=cn[sn];return rn}function en(cn,sn,rn){const xn=rn.length,vn=cn.length;let kn=0;for(;sn<vn;){let Pn=0;for(;Pn<xn&&cn[sn+Pn]===rn[Pn];)++Pn;if(Pn>=xn)break;sn++,kn++}return kn}const dn=/\b(endobj|\d+\s+\d+\s+obj|xref|trailer\s*<<)\b/g,Qt=/\b(startxref|\d+\s+\d+\s+obj)\b/g,gn=/^(\d+)\s+(\d+)\s+obj\b/,tn=new Uint8Array([116,114,97,105,108,101,114]),bn=new Uint8Array([115,116,97,114,116,120,114,101,102]),Wt=new Uint8Array([47,88,82,101,102]);this.entries.length=0,this._cacheMap.clear();const Yt=this.stream;Yt.pos=0;const un=Yt.getBytes(),Ut=(0,wt.bytesToString)(un),Ot=un.length;let Ht=Yt.start;const an=[],zt=[];for(;Ht<Ot;){let cn=un[Ht];if(cn===9||cn===10||cn===13||cn===32){++Ht;continue}if(cn===37){do{if(++Ht,Ht>=Ot)break;cn=un[Ht]}while(cn!==10&&cn!==13);continue}const sn=Gt(un,Ht);let rn;if(sn.startsWith("xref")&&(sn.length===4||/\s/.test(sn[4])))Ht+=en(un,Ht,tn),an.push(Ht),Ht+=en(un,Ht,bn);else if(rn=gn.exec(sn)){const xn=rn[1]|0,vn=rn[2]|0,kn=Ht+sn.length;let Pn,On=!1;if(!this.entries[xn])On=!0;else if(this.entries[xn].gen===vn)try{new Rt.Parser({lexer:new Rt.Lexer(Yt.makeSubStream(kn))}).getObj(),On=!0}catch(fn){fn instanceof _e.ParserEOFException?(0,wt.warn)(`indexObjects -- checking object (${sn}): "${fn}".`):On=!0}On&&(this.entries[xn]={offset:Ht-Yt.start,gen:vn,uncompressed:!0}),dn.lastIndex=kn;const _n=dn.exec(Ut);_n?(Pn=dn.lastIndex+1-Ht,_n[1]!=="endobj"&&((0,wt.warn)(`indexObjects: Found "${_n[1]}" inside of another "obj", caused by missing "endobj" -- trying to recover.`),Pn-=_n[1].length+1)):Pn=Ot-Ht;const Sn=un.subarray(Ht,Ht+Pn),mn=en(Sn,0,Wt);mn<Pn&&Sn[mn+5]<64&&(zt.push(Ht-Yt.start),this._xrefStms.add(Ht-Yt.start)),Ht+=Pn}else if(sn.startsWith("trailer")&&(sn.length===7||/\s/.test(sn[7]))){an.push(Ht);const xn=Ht+sn.length;let vn;Qt.lastIndex=xn;const kn=Qt.exec(Ut);kn?(vn=Qt.lastIndex+1-Ht,kn[1]!=="startxref"&&((0,wt.warn)(`indexObjects: Found "${kn[1]}" after "trailer", caused by missing "startxref" -- trying to recover.`),vn-=kn[1].length+1)):vn=Ot-Ht,Ht+=vn}else Ht+=sn.length+1}for(const cn of zt)this.startXRefQueue.push(cn),this.readXRef(!0);const Vt=[];let nn=!1;for(const cn of an){Yt.pos=cn;const sn=new Rt.Parser({lexer:new Rt.Lexer(Yt),xref:this,allowStreams:!0,recoveryMode:!0}),rn=sn.getObj();if(!(0,_t.isCmd)(rn,"trailer"))continue;const xn=sn.getObj();xn instanceof _t.Dict&&(Vt.push(xn),xn.has("Encrypt")&&(nn=!0))}let hn,on;for(const cn of[...Vt,"genFallback",...Vt]){if(cn==="genFallback"){if(!on)break;this._generationFallback=!0;continue}let sn=!1;try{const rn=cn.get("Root");if(!(rn instanceof _t.Dict))continue;const xn=rn.get("Pages");if(!(xn instanceof _t.Dict))continue;const vn=xn.get("Count");Number.isInteger(vn)&&(sn=!0)}catch(rn){on=rn;continue}if(sn&&(!nn||cn.has("Encrypt"))&&cn.has("ID"))return cn;hn=cn}if(hn)return hn;if(this.topDict)return this.topDict;throw new wt.InvalidPDFException("Invalid PDF structure.")}readXRef($t=!1){const Lt=this.stream,jt=new Set;for(;this.startXRefQueue.length;){try{const kt=this.startXRefQueue[0];if(jt.has(kt)){(0,wt.warn)("readXRef - skipping XRef table since it was already parsed."),this.startXRefQueue.shift();continue}jt.add(kt),Lt.pos=kt+Lt.start;const qt=new Rt.Parser({lexer:new Rt.Lexer(Lt),xref:this,allowStreams:!0});let Bt=qt.getObj(),Gt;if((0,_t.isCmd)(Bt,"xref"))Gt=this.processXRefTable(qt),this.topDict||(this.topDict=Gt),Bt=Gt.get("XRefStm"),Number.isInteger(Bt)&&!this._xrefStms.has(Bt)&&(this._xrefStms.add(Bt),this.startXRefQueue.push(Bt),Mt(this,Kt)??$n(this,Kt,Bt));else if(Number.isInteger(Bt)){if(!Number.isInteger(qt.getObj())||!(0,_t.isCmd)(qt.getObj(),"obj")||!((Bt=qt.getObj())instanceof bt.BaseStream))throw new wt.FormatError("Invalid XRef stream");if(Gt=this.processXRefStream(Bt),this.topDict||(this.topDict=Gt),!Gt)throw new wt.FormatError("Failed to read XRef stream")}else throw new wt.FormatError("Invalid XRef stream header");Bt=Gt.get("Prev"),Number.isInteger(Bt)?this.startXRefQueue.push(Bt):Bt instanceof _t.Ref&&this.startXRefQueue.push(Bt.num)}catch(kt){if(kt instanceof _e.MissingDataException)throw kt;(0,wt.info)("(while reading XRef): "+kt)}this.startXRefQueue.shift()}if(this.topDict)return this.topDict;if(!$t)throw new _e.XRefParseException}get lastXRefStreamPos(){return Mt(this,Kt)??(this._xrefStms.size>0?Math.max(...this._xrefStms):null)}getEntry($t){const Lt=this.entries[$t];return Lt&&!Lt.free&&Lt.offset?Lt:null}fetchIfRef($t,Lt=!1){return $t instanceof _t.Ref?this.fetch($t,Lt):$t}fetch($t,Lt=!1){if(!($t instanceof _t.Ref))throw new Error("ref object is not a reference");const jt=$t.num,kt=this._cacheMap.get(jt);if(kt!==void 0)return kt instanceof _t.Dict&&!kt.objId&&(kt.objId=$t.toString()),kt;let qt=this.getEntry(jt);if(qt===null)return this._cacheMap.set(jt,qt),qt;if(this._pendingRefs.has($t))return this._pendingRefs.remove($t),(0,wt.warn)(`Ignoring circular reference: ${$t}.`),_t.CIRCULAR_REF;this._pendingRefs.put($t);try{qt=qt.uncompressed?this.fetchUncompressed($t,qt,Lt):this.fetchCompressed($t,qt,Lt),this._pendingRefs.remove($t)}catch(Bt){throw this._pendingRefs.remove($t),Bt}return qt instanceof _t.Dict?qt.objId=$t.toString():qt instanceof bt.BaseStream&&(qt.dict.objId=$t.toString()),qt}fetchUncompressed($t,Lt,jt=!1){const kt=$t.gen;let qt=$t.num;if(Lt.gen!==kt){const gn=`Inconsistent generation in XRef: ${$t}`;if(this._generationFallback&&Lt.gen<kt)return(0,wt.warn)(gn),this.fetchUncompressed(_t.Ref.get(qt,Lt.gen),Lt,jt);throw new _e.XRefEntryException(gn)}const Bt=this.stream.makeSubStream(Lt.offset+this.stream.start),Gt=new Rt.Parser({lexer:new Rt.Lexer(Bt),xref:this,allowStreams:!0}),en=Gt.getObj(),dn=Gt.getObj(),Qt=Gt.getObj();if(en!==qt||dn!==kt||!(Qt instanceof _t.Cmd))throw new _e.XRefEntryException(`Bad (uncompressed) XRef entry: ${$t}`);if(Qt.cmd!=="obj"){if(Qt.cmd.startsWith("obj")&&(qt=parseInt(Qt.cmd.substring(3),10),!Number.isNaN(qt)))return qt;throw new _e.XRefEntryException(`Bad (uncompressed) XRef entry: ${$t}`)}return Lt=this.encrypt&&!jt?Gt.getObj(this.encrypt.createCipherTransform(qt,kt)):Gt.getObj(),Lt instanceof bt.BaseStream||this._cacheMap.set(qt,Lt),Lt}fetchCompressed($t,Lt,jt=!1){const kt=Lt.offset,qt=this.fetch(_t.Ref.get(kt,0));if(!(qt instanceof bt.BaseStream))throw new wt.FormatError("bad ObjStm stream");const Bt=qt.dict.get("First"),Gt=qt.dict.get("N");if(!Number.isInteger(Bt)||!Number.isInteger(Gt))throw new wt.FormatError("invalid first and n parameters for ObjStm stream");let en=new Rt.Parser({lexer:new Rt.Lexer(qt),xref:this,allowStreams:!0});const dn=new Array(Gt),Qt=new Array(Gt);for(let bn=0;bn<Gt;++bn){const Wt=en.getObj();if(!Number.isInteger(Wt))throw new wt.FormatError(`invalid object number in the ObjStm stream: ${Wt}`);const Yt=en.getObj();if(!Number.isInteger(Yt))throw new wt.FormatError(`invalid object offset in the ObjStm stream: ${Yt}`);dn[bn]=Wt,Qt[bn]=Yt}const gn=(qt.start||0)+Bt,tn=new Array(Gt);for(let bn=0;bn<Gt;++bn){const Wt=bn<Gt-1?Qt[bn+1]-Qt[bn]:void 0;if(Wt<0)throw new wt.FormatError("Invalid offset in the ObjStm stream.");en=new Rt.Parser({lexer:new Rt.Lexer(qt.makeSubStream(gn+Qt[bn],Wt,qt.dict)),xref:this,allowStreams:!0});const Yt=en.getObj();if(tn[bn]=Yt,Yt instanceof bt.BaseStream)continue;const un=dn[bn],Ut=this.entries[un];Ut&&Ut.offset===kt&&Ut.gen===bn&&this._cacheMap.set(un,Yt)}if(Lt=tn[Lt.gen],Lt===void 0)throw new _e.XRefEntryException(`Bad (compressed) XRef entry: ${$t}`);return Lt}async fetchIfRefAsync($t,Lt){return $t instanceof _t.Ref?this.fetchAsync($t,Lt):$t}async fetchAsync($t,Lt){try{return this.fetch($t,Lt)}catch(jt){if(!(jt instanceof _e.MissingDataException))throw jt;return await this.pdfManager.requestRange(jt.begin,jt.end),this.fetchAsync($t,Lt)}}getCatalogObj(){return this.root}}Kt=new WeakMap,Et.XRef=Xt},(Ct,Et,Ft)=>{var Pt,S5,E5,U2;Object.defineProperty(Et,"__esModule",{value:!0}),Et.MessageHandler=void 0;var wt=Ft(2);const _t={UNKNOWN:0,DATA:1,ERROR:2},Rt={UNKNOWN:0,CANCEL:1,CANCEL_COMPLETE:2,CLOSE:3,ENQUEUE:4,ERROR:5,PULL:6,PULL_COMPLETE:7,START_COMPLETE:8};function _e($t){switch($t instanceof Error||typeof $t=="object"&&$t!==null||(0,wt.unreachable)('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),$t.name){case"AbortException":return new wt.AbortException($t.message);case"MissingPDFException":return new wt.MissingPDFException($t.message);case"PasswordException":return new wt.PasswordException($t.message,$t.code);case"UnexpectedResponseException":return new wt.UnexpectedResponseException($t.message,$t.status);case"UnknownErrorException":return new wt.UnknownErrorException($t.message,$t.details);default:return new wt.UnknownErrorException($t.message,$t.toString())}}class bt{constructor(Lt,jt,kt){Nn(this,Pt);this.sourceName=Lt,this.targetName=jt,this.comObj=kt,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),this._onComObjOnMessage=qt=>{const Bt=qt.data;if(Bt.targetName!==this.sourceName)return;if(Bt.stream){Mn(this,Pt,E5).call(this,Bt);return}if(Bt.callback){const en=Bt.callbackId,dn=this.callbackCapabilities[en];if(!dn)throw new Error(`Cannot resolve callback ${en}`);if(delete this.callbackCapabilities[en],Bt.callback===_t.DATA)dn.resolve(Bt.data);else if(Bt.callback===_t.ERROR)dn.reject(_e(Bt.reason));else throw new Error("Unexpected callback case");return}const Gt=this.actionHandler[Bt.action];if(!Gt)throw new Error(`Unknown action from worker: ${Bt.action}`);if(Bt.callbackId){const en=this.sourceName,dn=Bt.sourceName;new Promise(function(Qt){Qt(Gt(Bt.data))}).then(function(Qt){kt.postMessage({sourceName:en,targetName:dn,callback:_t.DATA,callbackId:Bt.callbackId,data:Qt})},function(Qt){kt.postMessage({sourceName:en,targetName:dn,callback:_t.ERROR,callbackId:Bt.callbackId,reason:_e(Qt)})});return}if(Bt.streamId){Mn(this,Pt,S5).call(this,Bt);return}Gt(Bt.data)},kt.addEventListener("message",this._onComObjOnMessage)}on(Lt,jt){const kt=this.actionHandler;if(kt[Lt])throw new Error(`There is already an actionName called "${Lt}"`);kt[Lt]=jt}send(Lt,jt,kt){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:Lt,data:jt},kt)}sendWithPromise(Lt,jt,kt){const qt=this.callbackId++,Bt=new wt.PromiseCapability;this.callbackCapabilities[qt]=Bt;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:Lt,callbackId:qt,data:jt},kt)}catch(Gt){Bt.reject(Gt)}return Bt.promise}sendWithStream(Lt,jt,kt,qt){const Bt=this.streamId++,Gt=this.sourceName,en=this.targetName,dn=this.comObj;return new ReadableStream({start:Qt=>{const gn=new wt.PromiseCapability;return this.streamControllers[Bt]={controller:Qt,startCall:gn,pullCall:null,cancelCall:null,isClosed:!1},dn.postMessage({sourceName:Gt,targetName:en,action:Lt,streamId:Bt,data:jt,desiredSize:Qt.desiredSize},qt),gn.promise},pull:Qt=>{const gn=new wt.PromiseCapability;return this.streamControllers[Bt].pullCall=gn,dn.postMessage({sourceName:Gt,targetName:en,stream:Rt.PULL,streamId:Bt,desiredSize:Qt.desiredSize}),gn.promise},cancel:Qt=>{(0,wt.assert)(Qt instanceof Error,"cancel must have a valid reason");const gn=new wt.PromiseCapability;return this.streamControllers[Bt].cancelCall=gn,this.streamControllers[Bt].isClosed=!0,dn.postMessage({sourceName:Gt,targetName:en,stream:Rt.CANCEL,streamId:Bt,reason:_e(Qt)}),gn.promise}},kt)}destroy(){this.comObj.removeEventListener("message",this._onComObjOnMessage)}}Pt=new WeakSet,S5=function(Lt){const jt=Lt.streamId,kt=this.sourceName,qt=Lt.sourceName,Bt=this.comObj,Gt=this,en=this.actionHandler[Lt.action],dn={enqueue(Qt,gn=1,tn){if(this.isCancelled)return;const bn=this.desiredSize;this.desiredSize-=gn,bn>0&&this.desiredSize<=0&&(this.sinkCapability=new wt.PromiseCapability,this.ready=this.sinkCapability.promise),Bt.postMessage({sourceName:kt,targetName:qt,stream:Rt.ENQUEUE,streamId:jt,chunk:Qt},tn)},close(){this.isCancelled||(this.isCancelled=!0,Bt.postMessage({sourceName:kt,targetName:qt,stream:Rt.CLOSE,streamId:jt}),delete Gt.streamSinks[jt])},error(Qt){(0,wt.assert)(Qt instanceof Error,"error must have a valid reason"),!this.isCancelled&&(this.isCancelled=!0,Bt.postMessage({sourceName:kt,targetName:qt,stream:Rt.ERROR,streamId:jt,reason:_e(Qt)}))},sinkCapability:new wt.PromiseCapability,onPull:null,onCancel:null,isCancelled:!1,desiredSize:Lt.desiredSize,ready:null};dn.sinkCapability.resolve(),dn.ready=dn.sinkCapability.promise,this.streamSinks[jt]=dn,new Promise(function(Qt){Qt(en(Lt.data,dn))}).then(function(){Bt.postMessage({sourceName:kt,targetName:qt,stream:Rt.START_COMPLETE,streamId:jt,success:!0})},function(Qt){Bt.postMessage({sourceName:kt,targetName:qt,stream:Rt.START_COMPLETE,streamId:jt,reason:_e(Qt)})})},E5=function(Lt){const jt=Lt.streamId,kt=this.sourceName,qt=Lt.sourceName,Bt=this.comObj,Gt=this.streamControllers[jt],en=this.streamSinks[jt];switch(Lt.stream){case Rt.START_COMPLETE:Lt.success?Gt.startCall.resolve():Gt.startCall.reject(_e(Lt.reason));break;case Rt.PULL_COMPLETE:Lt.success?Gt.pullCall.resolve():Gt.pullCall.reject(_e(Lt.reason));break;case Rt.PULL:if(!en){Bt.postMessage({sourceName:kt,targetName:qt,stream:Rt.PULL_COMPLETE,streamId:jt,success:!0});break}en.desiredSize<=0&&Lt.desiredSize>0&&en.sinkCapability.resolve(),en.desiredSize=Lt.desiredSize,new Promise(function(dn){var Qt;dn((Qt=en.onPull)==null?void 0:Qt.call(en))}).then(function(){Bt.postMessage({sourceName:kt,targetName:qt,stream:Rt.PULL_COMPLETE,streamId:jt,success:!0})},function(dn){Bt.postMessage({sourceName:kt,targetName:qt,stream:Rt.PULL_COMPLETE,streamId:jt,reason:_e(dn)})});break;case Rt.ENQUEUE:if((0,wt.assert)(Gt,"enqueue should have stream controller"),Gt.isClosed)break;Gt.controller.enqueue(Lt.chunk);break;case Rt.CLOSE:if((0,wt.assert)(Gt,"close should have stream controller"),Gt.isClosed)break;Gt.isClosed=!0,Gt.controller.close(),Mn(this,Pt,U2).call(this,Gt,jt);break;case Rt.ERROR:(0,wt.assert)(Gt,"error should have stream controller"),Gt.controller.error(_e(Lt.reason)),Mn(this,Pt,U2).call(this,Gt,jt);break;case Rt.CANCEL_COMPLETE:Lt.success?Gt.cancelCall.resolve():Gt.cancelCall.reject(_e(Lt.reason)),Mn(this,Pt,U2).call(this,Gt,jt);break;case Rt.CANCEL:if(!en)break;new Promise(function(dn){var Qt;dn((Qt=en.onCancel)==null?void 0:Qt.call(en,_e(Lt.reason)))}).then(function(){Bt.postMessage({sourceName:kt,targetName:qt,stream:Rt.CANCEL_COMPLETE,streamId:jt,success:!0})},function(dn){Bt.postMessage({sourceName:kt,targetName:qt,stream:Rt.CANCEL_COMPLETE,streamId:jt,reason:_e(dn)})}),en.sinkCapability.reject(_e(Lt.reason)),en.isCancelled=!0,delete this.streamSinks[jt];break;default:throw new Error("Unexpected stream case")}},U2=async function(Lt,jt){var kt,qt,Bt;await Promise.allSettled([(kt=Lt.startCall)==null?void 0:kt.promise,(qt=Lt.pullCall)==null?void 0:qt.promise,(Bt=Lt.cancelCall)==null?void 0:Bt.promise]),delete this.streamControllers[jt]},Et.MessageHandler=bt},(Ct,Et,Ft)=>{Object.defineProperty(Et,"__esModule",{value:!0}),Et.PDFWorkerStream=void 0;var wt=Ft(2);class _t{constructor(Pt){this._msgHandler=Pt,this._contentLength=null,this._fullRequestReader=null,this._rangeRequestReaders=[]}getFullReader(){return(0,wt.assert)(!this._fullRequestReader,"PDFWorkerStream.getFullReader can only be called once."),this._fullRequestReader=new Rt(this._msgHandler),this._fullRequestReader}getRangeReader(Pt,Xt){const Kt=new _e(Pt,Xt,this._msgHandler);return this._rangeRequestReaders.push(Kt),Kt}cancelAllRequests(Pt){var Xt;(Xt=this._fullRequestReader)==null||Xt.cancel(Pt);for(const Kt of this._rangeRequestReaders.slice(0))Kt.cancel(Pt)}}Et.PDFWorkerStream=_t;class Rt{constructor(Pt){this._msgHandler=Pt,this.onProgress=null,this._contentLength=null,this._isRangeSupported=!1,this._isStreamingSupported=!1;const Xt=this._msgHandler.sendWithStream("GetReader");this._reader=Xt.getReader(),this._headersReady=this._msgHandler.sendWithPromise("ReaderHeadersReady").then(Kt=>{this._isStreamingSupported=Kt.isStreamingSupported,this._isRangeSupported=Kt.isRangeSupported,this._contentLength=Kt.contentLength})}get headersReady(){return this._headersReady}get contentLength(){return this._contentLength}get isStreamingSupported(){return this._isStreamingSupported}get isRangeSupported(){return this._isRangeSupported}async read(){const{value:Pt,done:Xt}=await this._reader.read();return Xt?{value:void 0,done:!0}:{value:Pt.buffer,done:!1}}cancel(Pt){this._reader.cancel(Pt)}}class _e{constructor(Pt,Xt,Kt){this._msgHandler=Kt,this.onProgress=null;const Nt=this._msgHandler.sendWithStream("GetRangeReader",{begin:Pt,end:Xt});this._reader=Nt.getReader()}get isStreamingSupported(){return!1}async read(){const{value:Pt,done:Xt}=await this._reader.read();return Xt?{value:void 0,done:!0}:{value:Pt.buffer,done:!1}}cancel(Pt){this._reader.cancel(Pt)}}}],vt={};function At(Ct){var Et=vt[Ct];if(Et!==void 0)return Et.exports;var Ft=vt[Ct]={exports:{}};return ht[Ct](Ft,Ft.exports,At),Ft.exports}var St={};return(()=>{var Ct=St;Object.defineProperty(Ct,"__esModule",{value:!0}),Object.defineProperty(Ct,"WorkerMessageHandler",{enumerable:!0,get:function(){return Et.WorkerMessageHandler}});var Et=At(1)})(),St})())})(pdf_worker);var pdf_workerExports=pdf_worker.exports;(typeof window<"u"?window:{}).pdfjsWorker=pdf_workerExports;pdfjs.GlobalWorkerOptions.workerSrc=pdf_worker_entry;function PdfShow(){const{state:xt}=useLocation(),{url:$}=xt,ht=reactExports.useRef(null);return reactExports.useEffect(()=>{console.log("hi"),(async()=>{try{const At=await fetch($).then(Rt=>Rt.arrayBuffer()),Ct=await(await pdfjs.getDocument({data:At}).promise).getPage(1),Et=ht.current,Ft=Et.getContext("2d"),wt=Ct.getViewport({scale:1});Et.width=wt.width,Et.height=wt.height;const _t={canvasContext:Ft,viewport:wt};await Ct.render(_t)}catch(At){console.error("Error loading PDF:",At)}})()},[$]),jsxRuntimeExports.jsx("canvas",{ref:ht})}function Doctoranalysis(){return jsxRuntimeExports.jsx("div",{class:"relative flex size-full min-h-screen flex-col bg-white group/design-root overflow-x-hidden ",style:'font-family: Manrope, "Noto Sans", sans-serif;',children:jsxRuntimeExports.jsxs("div",{class:"layout-container flex h-full grow flex-col",children:[jsxRuntimeExports.jsxs("header",{class:"flex items-center justify-between whitespace-nowrap border-b border-solid border-b-[#f0f2f4] px-10 py-3",children:[jsxRuntimeExports.jsxs("div",{class:"flex items-center gap-4 text-[#111418]",children:[jsxRuntimeExports.jsx("div",{class:"size-4",children:jsxRuntimeExports.jsx("svg",{viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:jsxRuntimeExports.jsx("path",{d:"M4 4H17.3334V17.3334H30.6666V30.6666H44V44H4V4Z",fill:"currentColor"})})}),jsxRuntimeExports.jsx("h2",{class:"text-[#111418] text-lg font-bold leading-tight tracking-[-0.015em]",children:"HealthPro"})]}),jsxRuntimeExports.jsxs("div",{class:"flex flex-1 justify-end gap-8",children:[jsxRuntimeExports.jsxs("div",{class:"flex items-center gap-9",children:[jsxRuntimeExports.jsx("a",{class:"text-[#111418] text-sm font-medium leading-normal",href:"#",children:"Home"}),jsxRuntimeExports.jsx("a",{class:"text-[#111418] text-sm font-medium leading-normal",href:"#",children:"Patients"}),jsxRuntimeExports.jsx("a",{class:"text-[#111418] text-sm font-medium leading-normal",href:"#",children:"Appointments"}),jsxRuntimeExports.jsx("a",{class:"text-[#111418] text-sm font-medium leading-normal",href:"#",children:"Reports"}),jsxRuntimeExports.jsx("a",{class:"text-[#111418] text-sm font-medium leading-normal",href:"#",children:"Invoices"})]}),jsxRuntimeExports.jsxs("div",{class:"flex gap-2",children:[jsxRuntimeExports.jsx("button",{class:"flex max-w-[480px] cursor-pointer items-center justify-center overflow-hidden rounded-xl h-10 bg-[#f0f2f4] text-[#111418] gap-2 text-sm font-bold leading-normal tracking-[0.015em] min-w-0 px-2.5",children:jsxRuntimeExports.jsx("div",{class:"text-[#111418]","data-icon":"MagnifyingGlass","data-size":"20px","data-weight":"regular",children:jsxRuntimeExports.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20px",height:"20px",fill:"currentColor",viewBox:"0 0 256 256",children:jsxRuntimeExports.jsx("path",{d:"M229.66,218.34l-50.07-50.06a88.11,88.11,0,1,0-11.31,11.31l50.06,50.07a8,8,0,0,0,11.32-11.32ZM40,112a72,72,0,1,1,72,72A72.08,72.08,0,0,1,40,112Z"})})})}),jsxRuntimeExports.jsx("button",{class:"flex max-w-[480px] cursor-pointer items-center justify-center overflow-hidden rounded-xl h-10 bg-[#f0f2f4] text-[#111418] gap-2 text-sm font-bold leading-normal tracking-[0.015em] min-w-0 px-2.5",children:jsxRuntimeExports.jsx("div",{class:"text-[#111418]","data-icon":"Bell","data-size":"20px","data-weight":"regular",children:jsxRuntimeExports.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20px",height:"20px",fill:"currentColor",viewBox:"0 0 256 256",children:jsxRuntimeExports.jsx("path",{d:"M221.8,175.94C216.25,166.38,208,139.33,208,104a80,80,0,1,0-160,0c0,35.34-8.26,62.38-13.81,71.94A16,16,0,0,0,48,200H88.81a40,40,0,0,0,78.38,0H208a16,16,0,0,0,13.8-24.06ZM128,216a24,24,0,0,1-22.62-16h45.24A24,24,0,0,1,128,216ZM48,184c7.7-13.24,16-43.92,16-80a64,64,0,1,1,128,0c0,36.05,8.28,66.73,16,80Z"})})})}),jsxRuntimeExports.jsx("button",{class:"flex max-w-[480px] cursor-pointer items-center justify-center overflow-hidden rounded-xl h-10 bg-[#f0f2f4] text-[#111418] gap-2 text-sm font-bold leading-normal tracking-[0.015em] min-w-0 px-2.5",children:jsxRuntimeExports.jsx("div",{class:"text-[#111418]","data-icon":"ChatCircleDots","data-size":"20px","data-weight":"regular",children:jsxRuntimeExports.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20px",height:"20px",fill:"currentColor",viewBox:"0 0 256 256",children:jsxRuntimeExports.jsx("path",{d:"M140,128a12,12,0,1,1-12-12A12,12,0,0,1,140,128ZM84,116a12,12,0,1,0,12,12A12,12,0,0,0,84,116Zm88,0a12,12,0,1,0,12,12A12,12,0,0,0,172,116Zm60,12A104,104,0,0,1,79.12,219.82L45.07,231.17a16,16,0,0,1-20.24-20.24l11.35-34.05A104,104,0,1,1,232,128Zm-16,0A88,88,0,1,0,51.81,172.06a8,8,0,0,1,.66,6.54L40,216,77.4,203.53a7.85,7.85,0,0,1,2.53-.42,8,8,0,0,1,4,1.08A88,88,0,0,0,216,128Z"})})})})]}),jsxRuntimeExports.jsx("div",{class:"bg-center bg-no-repeat aspect-square bg-cover rounded-full size-10",style:'background-image: url("https://cdn.usegalileo.ai/stability/1c59f8b8-2f0d-4280-9e6d-75d6c0cee0d6.png");'})]})]}),jsxRuntimeExports.jsx("div",{class:"px-40 flex flex-1 justify-center py-5",children:jsxRuntimeExports.jsxs("div",{class:"layout-content-container flex flex-col max-w-[960px] flex-1",children:[jsxRuntimeExports.jsx("div",{class:"flex flex-wrap justify-between gap-3 p-4",children:jsxRuntimeExports.jsx("p",{class:"text-[#111418] text-4xl font-black leading-tight tracking-[-0.033em] min-w-72",children:"Patient Information"})}),jsxRuntimeExports.jsx("div",{class:"flex p-4 @container",children:jsxRuntimeExports.jsx("div",{class:"flex w-full flex-col gap-4 @[520px]:flex-row @[520px]:justify-between @[520px]:items-center",children:jsxRuntimeExports.jsxs("div",{class:"flex gap-4",children:[jsxRuntimeExports.jsx("div",{class:"bg-center bg-no-repeat aspect-square bg-cover rounded-full min-h-32 w-32",style:'background-image: url("https://cdn.usegalileo.ai/stability/82b7a4d5-f5b9-4dd7-9c3a-8650f6ea64f0.png");'}),jsxRuntimeExports.jsxs("div",{class:"flex flex-col justify-center",children:[jsxRuntimeExports.jsx("p",{class:"text-[#111418] text-[22px] font-bold leading-tight tracking-[-0.015em]",children:"Charles Davis"}),jsxRuntimeExports.jsx("p",{class:"text-[#637588] text-base font-normal leading-normal",children:"Age 45, Blood Group: B+"}),jsxRuntimeExports.jsx("p",{class:"text-[#637588] text-base font-normal leading-normal",children:"Male, age 45, blood group B+"})]})]})})}),jsxRuntimeExports.jsx("h3",{class:"text-[#111418] text-lg font-bold leading-tight tracking-[-0.015em] px-4 pb-2 pt-4",children:"Known Conditions"}),jsxRuntimeExports.jsxs("div",{class:"flex gap-3 p-3 flex-wrap pr-4",children:[jsxRuntimeExports.jsx("div",{class:"flex h-8 shrink-0 items-center justify-center gap-x-2 rounded-xl bg-[#f0f2f4] pl-4 pr-4",children:jsxRuntimeExports.jsx("p",{class:"text-[#111418] text-sm font-medium leading-normal",children:"Hypertension"})}),jsxRuntimeExports.jsx("div",{class:"flex h-8 shrink-0 items-center justify-center gap-x-2 rounded-xl bg-[#f0f2f4] pl-4 pr-4",children:jsxRuntimeExports.jsx("p",{class:"text-[#111418] text-sm font-medium leading-normal",children:"Diabetes"})}),jsxRuntimeExports.jsx("div",{class:"flex h-8 shrink-0 items-center justify-center gap-x-2 rounded-xl bg-[#f0f2f4] pl-4 pr-4",children:jsxRuntimeExports.jsx("p",{class:"text-[#111418] text-sm font-medium leading-normal",children:"Asthma"})}),jsxRuntimeExports.jsx("div",{class:"flex h-8 shrink-0 items-center justify-center gap-x-2 rounded-xl bg-[#f0f2f4] pl-4 pr-4",children:jsxRuntimeExports.jsx("p",{class:"text-[#111418] text-sm font-medium leading-normal",children:"Allergies"})})]}),jsxRuntimeExports.jsx("h3",{class:"text-[#111418] text-lg font-bold leading-tight tracking-[-0.015em] px-4 pb-2 pt-4",children:"Current Report"}),jsxRuntimeExports.jsxs("div",{class:"flex items-center gap-4 bg-white px-4 min-h-[72px] py-2 justify-between",children:[jsxRuntimeExports.jsxs("div",{class:"flex items-center gap-4",children:[jsxRuntimeExports.jsx("div",{class:"text-[#111418] flex items-center justify-center rounded-lg bg-[#f0f2f4] shrink-0 size-12","data-icon":"File","data-size":"24px","data-weight":"regular",children:jsxRuntimeExports.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24px",height:"24px",fill:"currentColor",viewBox:"0 0 256 256",children:jsxRuntimeExports.jsx("path",{d:"M213.66,82.34l-56-56A8,8,0,0,0,152,24H56A16,16,0,0,0,40,40V216a16,16,0,0,0,16,16H200a16,16,0,0,0,16-16V88A8,8,0,0,0,213.66,82.34ZM160,51.31,188.69,80H160ZM200,216H56V40h88V88a8,8,0,0,0,8,8h48V216Z"})})}),jsxRuntimeExports.jsxs("div",{class:"flex flex-col justify-center",children:[jsxRuntimeExports.jsx("p",{class:"text-[#111418] text-base font-medium leading-normal line-clamp-1",children:"Test Report"}),jsxRuntimeExports.jsx("p",{class:"text-[#637588] text-sm font-normal leading-normal line-clamp-2",children:"Report from Jan 1, 2023"})]})]}),jsxRuntimeExports.jsx("div",{class:"shrink-0",children:jsxRuntimeExports.jsx("div",{class:"text-[#111418] flex size-7 items-center justify-center","data-icon":"CaretRight","data-size":"24px","data-weight":"regular",children:jsxRuntimeExports.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24px",height:"24px",fill:"currentColor",viewBox:"0 0 256 256",children:jsxRuntimeExports.jsx("path",{d:"M181.66,133.66l-80,80a8,8,0,0,1-11.32-11.32L164.69,128,90.34,53.66a8,8,0,0,1,11.32-11.32l80,80A8,8,0,0,1,181.66,133.66Z"})})})})]}),jsxRuntimeExports.jsx("h3",{class:"text-[#111418] text-lg font-bold leading-tight tracking-[-0.015em] px-4 pb-2 pt-4",children:"Analysis"}),jsxRuntimeExports.jsx("h3",{class:"text-[#111418] text-lg font-bold leading-tight tracking-[-0.015em] px-4 pb-2 pt-4",children:"Precautions"}),jsxRuntimeExports.jsx("div",{class:"p-4 @container",children:jsxRuntimeExports.jsxs("div",{class:"flex flex-1 flex-col items-start justify-between gap-4 rounded-xl border border-[#dce0e5] bg-white p-5 @[480px]:flex-row @[480px]:items-center",children:[jsxRuntimeExports.jsxs("div",{class:"flex flex-col gap-1",children:[jsxRuntimeExports.jsx("p",{class:"text-[#111418] text-base font-bold leading-tight",children:"Edit Precautions"}),jsxRuntimeExports.jsx("p",{class:"text-[#637588] text-base font-normal leading-normal",children:"Precautions help you remember how to treat patients. They are not visible to the patient."})]}),jsxRuntimeExports.jsx("button",{class:"flex min-w-[84px] max-w-[480px] cursor-pointer items-center justify-center overflow-hidden rounded-xl h-8 px-4 bg-[#1b7ada] text-white text-sm font-medium leading-normal",children:jsxRuntimeExports.jsx("span",{class:"truncate",children:"Add Precautions"})})]})}),jsxRuntimeExports.jsx("h3",{class:"text-[#111418] text-lg font-bold leading-tight tracking-[-0.015em] px-4 pb-2 pt-4",children:"Predictions"}),jsxRuntimeExports.jsx("div",{class:"flex max-w-[480px] flex-1 flex-wrap items-end gap-4 px-4 py-3",children:jsxRuntimeExports.jsx("label",{class:"flex flex-col min-w-40 flex-1",children:jsxRuntimeExports.jsx("textarea",{class:"form-input flex w-full min-w-0 flex-1 resize-none overflow-hidden rounded-xl text-[#111418] focus:outline-0 focus:ring-0 border-none bg-[#f0f2f4] focus:border-none min-h-36 placeholder:text-[#637588] p-4 text-base font-normal leading-normal"})})}),jsxRuntimeExports.jsx("h3",{class:"text-[#111418] text-lg font-bold leading-tight tracking-[-0.015em] px-4 pb-2 pt-4",children:"Doctor's Advice"}),jsxRuntimeExports.jsx("div",{class:"flex max-w-[480px] flex-1 flex-wrap items-end gap-4 px-4 py-3",children:jsxRuntimeExports.jsx("label",{class:"flex flex-col min-w-40 flex-1",children:jsxRuntimeExports.jsx("textarea",{placeholder:"Enter your advice here",class:"form-input flex w-full min-w-0 flex-1 resize-none overflow-hidden rounded-xl text-[#111418] focus:outline-0 focus:ring-0 border border-[#dce0e5] bg-white focus:border-[#dce0e5] min-h-36 placeholder:text-[#637588] p-[15px] text-base font-normal leading-normal"})})}),jsxRuntimeExports.jsx("div",{class:"flex px-4 py-3 justify-end",children:jsxRuntimeExports.jsx("button",{class:"flex min-w-[84px] max-w-[480px] cursor-pointer items-center justify-center overflow-hidden rounded-xl h-10 px-4 bg-[#1b7ada] text-white text-sm font-bold leading-normal tracking-[0.015em]",children:jsxRuntimeExports.jsx("span",{class:"truncate",children:"Save"})})}),jsxRuntimeExports.jsx("h3",{class:"text-[#111418] text-lg font-bold leading-tight tracking-[-0.015em] px-4 pb-2 pt-4",children:"Previous Reports"}),jsxRuntimeExports.jsxs("div",{class:"flex items-center gap-4 bg-white px-4 min-h-[72px] py-2 justify-between",children:[jsxRuntimeExports.jsxs("div",{class:"flex items-center gap-4",children:[jsxRuntimeExports.jsx("div",{class:"text-[#111418] flex items-center justify-center rounded-lg bg-[#f0f2f4] shrink-0 size-12","data-icon":"File","data-size":"24px","data-weight":"regular",children:jsxRuntimeExports.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24px",height:"24px",fill:"currentColor",viewBox:"0 0 256 256",children:jsxRuntimeExports.jsx("path",{d:"M213.66,82.34l-56-56A8,8,0,0,0,152,24H56A16,16,0,0,0,40,40V216a16,16,0,0,0,16,16H200a16,16,0,0,0,16-16V88A8,8,0,0,0,213.66,82.34ZM160,51.31,188.69,80H160ZM200,216H56V40h88V88a8,8,0,0,0,8,8h48V216Z"})})}),jsxRuntimeExports.jsxs("div",{class:"flex flex-col justify-center",children:[jsxRuntimeExports.jsx("p",{class:"text-[#111418] text-base font-medium leading-normal line-clamp-1",children:"Test Report"}),jsxRuntimeExports.jsx("p",{class:"text-[#637588] text-sm font-normal leading-normal line-clamp-2",children:"Report from Jan 1, 2023"})]})]}),jsxRuntimeExports.jsx("div",{class:"shrink-0",children:jsxRuntimeExports.jsx("div",{class:"text-[#111418] flex size-7 items-center justify-center","data-icon":"CaretRight","data-size":"24px","data-weight":"regular",children:jsxRuntimeExports.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24px",height:"24px",fill:"currentColor",viewBox:"0 0 256 256",children:jsxRuntimeExports.jsx("path",{d:"M181.66,133.66l-80,80a8,8,0,0,1-11.32-11.32L164.69,128,90.34,53.66a8,8,0,0,1,11.32-11.32l80,80A8,8,0,0,1,181.66,133.66Z"})})})})]}),jsxRuntimeExports.jsxs("div",{class:"flex items-center gap-4 bg-white px-4 min-h-[72px] py-2 justify-between",children:[jsxRuntimeExports.jsxs("div",{class:"flex items-center gap-4",children:[jsxRuntimeExports.jsx("div",{class:"text-[#111418] flex items-center justify-center rounded-lg bg-[#f0f2f4] shrink-0 size-12","data-icon":"File","data-size":"24px","data-weight":"regular",children:jsxRuntimeExports.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24px",height:"24px",fill:"currentColor",viewBox:"0 0 256 256",children:jsxRuntimeExports.jsx("path",{d:"M213.66,82.34l-56-56A8,8,0,0,0,152,24H56A16,16,0,0,0,40,40V216a16,16,0,0,0,16,16H200a16,16,0,0,0,16-16V88A8,8,0,0,0,213.66,82.34ZM160,51.31,188.69,80H160ZM200,216H56V40h88V88a8,8,0,0,0,8,8h48V216Z"})})}),jsxRuntimeExports.jsxs("div",{class:"flex flex-col justify-center",children:[jsxRuntimeExports.jsx("p",{class:"text-[#111418] text-base font-medium leading-normal line-clamp-1",children:"Test Report"}),jsxRuntimeExports.jsx("p",{class:"text-[#637588] text-sm font-normal leading-normal line-clamp-2",children:"Report from Dec 1, 2022"})]})]}),jsxRuntimeExports.jsx("div",{class:"shrink-0",children:jsxRuntimeExports.jsx("div",{class:"text-[#111418] flex size-7 items-center justify-center","data-icon":"CaretRight","data-size":"24px","data-weight":"regular",children:jsxRuntimeExports.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24px",height:"24px",fill:"currentColor",viewBox:"0 0 256 256",children:jsxRuntimeExports.jsx("path",{d:"M181.66,133.66l-80,80a8,8,0,0,1-11.32-11.32L164.69,128,90.34,53.66a8,8,0,0,1,11.32-11.32l80,80A8,8,0,0,1,181.66,133.66Z"})})})})]}),jsxRuntimeExports.jsxs("div",{class:"flex items-center gap-4 bg-white px-4 min-h-[72px] py-2 justify-between",children:[jsxRuntimeExports.jsxs("div",{class:"flex items-center gap-4",children:[jsxRuntimeExports.jsx("div",{class:"text-[#111418] flex items-center justify-center rounded-lg bg-[#f0f2f4] shrink-0 size-12","data-icon":"File","data-size":"24px","data-weight":"regular",children:jsxRuntimeExports.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24px",height:"24px",fill:"currentColor",viewBox:"0 0 256 256",children:jsxRuntimeExports.jsx("path",{d:"M213.66,82.34l-56-56A8,8,0,0,0,152,24H56A16,16,0,0,0,40,40V216a16,16,0,0,0,16,16H200a16,16,0,0,0,16-16V88A8,8,0,0,0,213.66,82.34ZM160,51.31,188.69,80H160ZM200,216H56V40h88V88a8,8,0,0,0,8,8h48V216Z"})})}),jsxRuntimeExports.jsxs("div",{class:"flex flex-col justify-center",children:[jsxRuntimeExports.jsx("p",{class:"text-[#111418] text-base font-medium leading-normal line-clamp-1",children:"Test Report"}),jsxRuntimeExports.jsx("p",{class:"text-[#637588] text-sm font-normal leading-normal line-clamp-2",children:"Report from Nov 1, 2022"})]})]}),jsxRuntimeExports.jsx("div",{class:"shrink-0",children:jsxRuntimeExports.jsx("div",{class:"text-[#111418] flex size-7 items-center justify-center","data-icon":"CaretRight","data-size":"24px","data-weight":"regular",children:jsxRuntimeExports.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24px",height:"24px",fill:"currentColor",viewBox:"0 0 256 256",children:jsxRuntimeExports.jsx("path",{d:"M181.66,133.66l-80,80a8,8,0,0,1-11.32-11.32L164.69,128,90.34,53.66a8,8,0,0,1,11.32-11.32l80,80A8,8,0,0,1,181.66,133.66Z"})})})})]})]})})]})})}var core_min={};(function(xt){var $=reactExports,ht=pdfExports;function vt(jn){var Gn=Object.create(null);return jn&&Object.keys(jn).forEach(function(rr){if(rr!=="default"){var zn=Object.getOwnPropertyDescriptor(jn,rr);Object.defineProperty(Gn,rr,zn.get?zn:{enumerable:!0,get:function(){return jn[rr]}})}}),Gn.default=jn,Object.freeze(Gn)}var At,St=vt($),Ct=vt(ht);xt.AnnotationType=void 0,(At=xt.AnnotationType||(xt.AnnotationType={}))[At.Text=1]="Text",At[At.Link=2]="Link",At[At.FreeText=3]="FreeText",At[At.Line=4]="Line",At[At.Square=5]="Square",At[At.Circle=6]="Circle",At[At.Polygon=7]="Polygon",At[At.Polyline=8]="Polyline",At[At.Highlight=9]="Highlight",At[At.Underline=10]="Underline",At[At.Squiggly=11]="Squiggly",At[At.StrikeOut=12]="StrikeOut",At[At.Stamp=13]="Stamp",At[At.Caret=14]="Caret",At[At.Ink=15]="Ink",At[At.Popup=16]="Popup",At[At.FileAttachment=17]="FileAttachment";var Et=function(jn,Gn){return Et=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(rr,zn){rr.__proto__=zn}||function(rr,zn){for(var Dt in zn)Object.prototype.hasOwnProperty.call(zn,Dt)&&(rr[Dt]=zn[Dt])},Et(jn,Gn)};function Ft(jn,Gn){if(typeof Gn!="function"&&Gn!==null)throw new TypeError("Class extends value "+String(Gn)+" is not a constructor or null");function rr(){this.constructor=jn}Et(jn,Gn),jn.prototype=Gn===null?Object.create(Gn):(rr.prototype=Gn.prototype,new rr)}var wt,_t=function(){return _t=Object.assign||function(jn){for(var Gn,rr=1,zn=arguments.length;rr<zn;rr++)for(var Dt in Gn=arguments[rr])Object.prototype.hasOwnProperty.call(Gn,Dt)&&(jn[Dt]=Gn[Dt]);return jn},_t.apply(this,arguments)};xt.TextDirection=void 0,(wt=xt.TextDirection||(xt.TextDirection={})).RightToLeft="RTL",wt.LeftToRight="LTR";var Rt,_e=St.createContext({currentTheme:"light",direction:xt.TextDirection.LeftToRight,setCurrentTheme:function(){}}),bt=function(jn){var Gn=[];return Object.keys(jn).forEach(function(rr){rr&&jn[rr]&&Gn.push(rr)}),Gn.join(" ")},Pt=typeof window<"u"?St.useLayoutEffect:St.useEffect,Xt=function(jn){var Gn=St.useRef(null),rr=jn.once,zn=jn.threshold,Dt=jn.onVisibilityChanged;return Pt(function(){var yn=Gn.current;if(yn){var qn=new IntersectionObserver(function(_i){_i.forEach(function(Kn){var ir=Kn.isIntersecting,ar=Kn.intersectionRatio;Dt({isVisible:ir,ratio:ar}),ir&&rr&&(qn.unobserve(yn),qn.disconnect())})},{threshold:zn||0});return qn.observe(yn),function(){qn.unobserve(yn),qn.disconnect()}}},[]),Gn},Kt=function(jn){var Gn=jn.children,rr=jn.ignoreDirection,zn=rr!==void 0&&rr,Dt=jn.size,yn=Dt===void 0?24:Dt,qn=St.useContext(_e).direction,_i=!zn&&qn===xt.TextDirection.RightToLeft,Kn="".concat(yn||24,"px");return St.createElement("svg",{"aria-hidden":"true",className:bt({"rpv-core__icon":!0,"rpv-core__icon--rtl":_i}),focusable:"false",height:Kn,viewBox:"0 0 24 24",width:Kn},Gn)},Nt=function(){return St.createElement(Kt,{size:16},St.createElement("path",{d:"M23.5,0.499l-16.5,23l-6.5-6.5"}))},$t=function(jn){var Gn=jn.children,rr=jn.testId,zn=jn.onClick,Dt=St.useContext(_e).direction===xt.TextDirection.RightToLeft,yn=rr?{"data-testid":rr}:{};return St.createElement("button",_t({className:bt({"rpv-core__primary-button":!0,"rpv-core__primary-button--rtl":Dt}),type:"button",onClick:zn},yn),Gn)},Lt=function(jn){var Gn=jn.size,rr=Gn===void 0?"4rem":Gn,zn=jn.testId,Dt=St.useState(!1),yn=Dt[0],qn=Dt[1],_i=zn?{"data-testid":zn}:{},Kn=Xt({onVisibilityChanged:function(ir){qn(ir.isVisible)}});return St.createElement("div",_t({},_i,{className:bt({"rpv-core__spinner":!0,"rpv-core__spinner--animating":yn}),ref:Kn,style:{height:rr,width:rr}}))},jt=function(jn){var Gn=jn.ariaLabel,rr=Gn===void 0?"":Gn,zn=jn.autoFocus,Dt=zn!==void 0&&zn,yn=jn.placeholder,qn=yn===void 0?"":yn,_i=jn.testId,Kn=jn.type,ir=Kn===void 0?"text":Kn,ar=jn.value,gr=ar===void 0?"":ar,mr=jn.onChange,br=jn.onKeyDown,Ir=br===void 0?function(){}:br,Cr=St.useContext(_e).direction,kr=St.useRef(),ts=Cr===xt.TextDirection.RightToLeft,Mr={ref:kr,"data-testid":"","aria-label":rr,className:bt({"rpv-core__textbox":!0,"rpv-core__textbox--rtl":ts}),placeholder:qn,value:gr,onChange:function(Gr){return mr(Gr.target.value)},onKeyDown:Ir};return _i&&(Mr["data-testid"]=_i),Pt(function(){if(Dt){var Gr=kr.current;if(Gr){var Xr=window.scrollX,Hr=window.scrollY;Gr.focus(),window.scrollTo(Xr,Hr)}}},[]),ir==="text"?St.createElement("input",_t({type:"text"},Mr)):St.createElement("input",_t({type:"password"},Mr))};(function(jn){jn[jn.ExitFullScreen=0]="ExitFullScreen",jn[jn.FullScreenChange=1]="FullScreenChange",jn[jn.FullScreenElement=2]="FullScreenElement",jn[jn.FullScreenEnabled=3]="FullScreenEnabled",jn[jn.RequestFullScreen=4]="RequestFullScreen"})(Rt||(Rt={}));var kt,qt={ExitFullScreen:"exitFullscreen",FullScreenChange:"fullscreenchange",FullScreenElement:"fullscreenElement",FullScreenEnabled:"fullscreenEnabled",RequestFullScreen:"requestFullscreen"},Bt={ExitFullScreen:"webkitExitFullscreen",FullScreenChange:"webkitfullscreenchange",FullScreenElement:"webkitFullscreenElement",FullScreenEnabled:"webkitFullscreenEnabled",RequestFullScreen:"webkitRequestFullscreen"},Gt={ExitFullScreen:"msExitFullscreen",FullScreenChange:"msFullscreenChange",FullScreenElement:"msFullscreenElement",FullScreenEnabled:"msFullscreenEnabled",RequestFullScreen:"msRequestFullscreen"},en=typeof window<"u",dn=en&&(Rt.FullScreenEnabled in document&&qt||Bt.FullScreenEnabled in document&&Bt||Gt.FullScreenEnabled in document&&Gt)||qt,Qt=function(){return en&&dn.FullScreenEnabled in document&&document[dn.FullScreenEnabled]===!0},gn=function(jn){return en?jn[dn.ExitFullScreen]():Promise.resolve({})},tn=function(){return en?document[dn.FullScreenElement]:null},bn=function(jn,Gn){var rr=St.useRef(),zn=function(){rr.current&&clearTimeout(rr.current)};return St.useEffect(function(){return function(){return zn()}},[]),St.useCallback(function(){for(var Dt=[],yn=0;yn<arguments.length;yn++)Dt[yn]=arguments[yn];zn(),rr.current=setTimeout(function(){jn.apply(void 0,Dt)},Gn)},[jn,Gn])},Wt=function(){var jn=St.useRef(!1);return St.useEffect(function(){return jn.current=!0,function(){jn.current=!1}},[]),jn},Yt=function(jn){var Gn=St.useRef(jn);return St.useEffect(function(){Gn.current=jn},[jn]),Gn.current};(function(jn){jn.NotRenderedYet="NotRenderedYet",jn.Rendering="Rendering",jn.Rendered="Rendered"})(kt||(kt={}));var un,Ut=-9999,Ot=function(jn){var Gn=jn.doc,rr=Gn.numPages,zn=Gn.loadingTask.docId,Dt=St.useMemo(function(){return Array(rr).fill(null).map(function(_i,Kn){return{pageIndex:Kn,renderStatus:kt.NotRenderedYet,visibility:Ut}})},[zn]),yn=St.useRef({currentRenderingPage:-1,startRange:0,endRange:rr-1,visibilities:Dt}),qn=function(_i,Kn){yn.current.visibilities[_i].visibility=Kn};return{getHighestPriorityPage:function(){var _i=yn.current.visibilities.slice(yn.current.startRange,yn.current.endRange+1).filter(function(mr){return mr.visibility>Ut});if(!_i.length)return-1;for(var Kn=_i[0].pageIndex,ir=_i[_i.length-1].pageIndex,ar=_i.length,gr=0;gr<ar;gr++){if(_i[gr].renderStatus===kt.Rendering)return-1;if(_i[gr].renderStatus===kt.NotRenderedYet)return _i[gr].pageIndex}return ir+1<rr&&yn.current.visibilities[ir+1].renderStatus!==kt.Rendered?ir+1:Kn-1>=0&&yn.current.visibilities[Kn-1].renderStatus!==kt.Rendered?Kn-1:-1},isInRange:function(_i){return _i>=yn.current.startRange&&_i<=yn.current.endRange},markNotRendered:function(){for(var _i=0;_i<rr;_i++)yn.current.visibilities[_i].renderStatus=kt.NotRenderedYet},markRendered:function(_i){yn.current.visibilities[_i].renderStatus=kt.Rendered},markRendering:function(_i){yn.current.currentRenderingPage!==-1&&yn.current.currentRenderingPage!==_i&&yn.current.visibilities[yn.current.currentRenderingPage].renderStatus===kt.Rendering&&(yn.current.visibilities[yn.current.currentRenderingPage].renderStatus=kt.NotRenderedYet),yn.current.visibilities[_i].renderStatus=kt.Rendering,yn.current.currentRenderingPage=_i},setOutOfRange:function(_i){qn(_i,Ut)},setRange:function(_i,Kn){yn.current.startRange=_i,yn.current.endRange=Kn;for(var ir=0;ir<rr;ir++)(ir<_i||ir>Kn)&&(yn.current.visibilities[ir].visibility=Ut,yn.current.visibilities[ir].renderStatus=kt.NotRenderedYet)},setVisibility:qn}},Ht={core:{askingPassword:{requirePasswordToOpen:"This document requires a password to open",submit:"Submit"},wrongPassword:{tryAgain:"The password is wrong. Please try again"},pageLabel:"Page {{pageIndex}}"}},an=St.createContext({l10n:Ht,setL10n:function(){}}),zt=0,Vt=function(){return zt++},nn=function(jn,Gn,rr){var zn=function(Dt){var yn=Gn.current;if(yn){var qn=Dt.target;if(qn instanceof Element&&qn.shadowRoot){var _i=Dt.composedPath();_i.length>0&&!yn.contains(_i[0])&&rr()}else yn.contains(qn)||rr()}};St.useEffect(function(){if(jn){var Dt={capture:!0};return document.addEventListener("click",zn,Dt),function(){document.removeEventListener("click",zn,Dt)}}},[])},hn=function(jn){var Gn=function(rr){rr.key==="Escape"&&jn()};St.useEffect(function(){return document.addEventListener("keyup",Gn),function(){document.removeEventListener("keyup",Gn)}},[])},on=function(jn){var Gn=jn.ariaControlsSuffix,rr=jn.children,zn=jn.closeOnClickOutside,Dt=jn.closeOnEscape,yn=jn.onToggle,qn=St.useRef(),_i=St.useContext(_e).direction===xt.TextDirection.RightToLeft;return St.useEffect(function(){var Kn=window.getComputedStyle(document.body).overflow;return document.body.style.overflow="hidden",function(){document.body.style.overflow=Kn}},[]),hn(function(){qn.current&&Dt&&yn()}),nn(zn,qn,yn),Pt(function(){var Kn=qn.current;if(Kn){var ir=.75*document.body.clientHeight;Kn.getBoundingClientRect().height>=ir&&(Kn.style.overflow="auto",Kn.style.maxHeight="".concat(ir,"px"))}},[]),St.createElement("div",{"aria-modal":"true",className:bt({"rpv-core__modal-body":!0,"rpv-core__modal-body--rtl":_i}),id:"rpv-core__modal-body-".concat(Gn),ref:qn,role:"dialog",tabIndex:-1},rr)},cn=function(jn){var Gn=jn.children;return St.createElement("div",{className:"rpv-core__modal-overlay"},Gn)};xt.ToggleStatus=void 0,(un=xt.ToggleStatus||(xt.ToggleStatus={})).Close="Close",un.Open="Open",un.Toggle="Toggle";var sn,rn=function(jn){var Gn=St.useState(jn),rr=Gn[0],zn=Gn[1];return{opened:rr,toggle:function(Dt){switch(Dt){case xt.ToggleStatus.Close:zn(!1);break;case xt.ToggleStatus.Open:zn(!0);break;case xt.ToggleStatus.Toggle:default:zn(function(yn){return!yn})}}}},xn=function(jn){var Gn=jn.content,rr=jn.isOpened,zn=rr!==void 0&&rr,Dt=jn.target,yn=rn(zn),qn=yn.opened,_i=yn.toggle;return St.createElement(St.Fragment,null,Dt&&Dt(_i,qn),qn&&Gn(_i))};xt.Position=void 0,(sn=xt.Position||(xt.Position={})).TopLeft="TOP_LEFT",sn.TopCenter="TOP_CENTER",sn.TopRight="TOP_RIGHT",sn.RightTop="RIGHT_TOP",sn.RightCenter="RIGHT_CENTER",sn.RightBottom="RIGHT_BOTTOM",sn.BottomLeft="BOTTOM_LEFT",sn.BottomCenter="BOTTOM_CENTER",sn.BottomRight="BOTTOM_RIGHT",sn.LeftTop="LEFT_TOP",sn.LeftCenter="LEFT_CENTER",sn.LeftBottom="LEFT_BOTTOM";var vn,kn,Pn,On,_n,Sn,mn,fn,Jt=function(jn,Gn,rr,zn,Dt){Pt(function(){var yn=Gn.current,qn=jn.current,_i=rr.current;if(qn&&yn&&_i){var Kn=_i.getBoundingClientRect(),ir=function(mr,br,Ir,Cr){var kr=br.getBoundingClientRect(),ts=mr.getBoundingClientRect(),Mr=ts.height,Gr=ts.width,Xr=0,Hr=0;switch(Ir){case xt.Position.TopLeft:Xr=kr.top-Mr,Hr=kr.left;break;case xt.Position.TopCenter:Xr=kr.top-Mr,Hr=kr.left+kr.width/2-Gr/2;break;case xt.Position.TopRight:Xr=kr.top-Mr,Hr=kr.left+kr.width-Gr;break;case xt.Position.RightTop:Xr=kr.top,Hr=kr.left+kr.width;break;case xt.Position.RightCenter:Xr=kr.top+kr.height/2-Mr/2,Hr=kr.left+kr.width;break;case xt.Position.RightBottom:Xr=kr.top+kr.height-Mr,Hr=kr.left+kr.width;break;case xt.Position.BottomLeft:Xr=kr.top+kr.height,Hr=kr.left;break;case xt.Position.BottomCenter:Xr=kr.top+kr.height,Hr=kr.left+kr.width/2-Gr/2;break;case xt.Position.BottomRight:Xr=kr.top+kr.height,Hr=kr.left+kr.width-Gr;break;case xt.Position.LeftTop:Xr=kr.top,Hr=kr.left-Gr;break;case xt.Position.LeftCenter:Xr=kr.top+kr.height/2-Mr/2,Hr=kr.left-Gr;break;case xt.Position.LeftBottom:Xr=kr.top+kr.height-Mr,Hr=kr.left-Gr}return{left:Hr+(Cr.left||0),top:Xr+(Cr.top||0)}}(qn,yn,zn,Dt),ar=ir.top,gr=ir.left;qn.style.top="".concat(ar-Kn.top,"px"),qn.style.left="".concat(gr-Kn.left,"px")}},[])},ln=function(jn){var Gn,rr=jn.customClassName,zn=jn.position;return St.createElement("div",{className:bt((Gn={"rpv-core__arrow":!0,"rpv-core__arrow--tl":zn===xt.Position.TopLeft,"rpv-core__arrow--tc":zn===xt.Position.TopCenter,"rpv-core__arrow--tr":zn===xt.Position.TopRight,"rpv-core__arrow--rt":zn===xt.Position.RightTop,"rpv-core__arrow--rc":zn===xt.Position.RightCenter,"rpv-core__arrow--rb":zn===xt.Position.RightBottom,"rpv-core__arrow--bl":zn===xt.Position.BottomLeft,"rpv-core__arrow--bc":zn===xt.Position.BottomCenter,"rpv-core__arrow--br":zn===xt.Position.BottomRight,"rpv-core__arrow--lt":zn===xt.Position.LeftTop,"rpv-core__arrow--lc":zn===xt.Position.LeftCenter,"rpv-core__arrow--lb":zn===xt.Position.LeftBottom},Gn["".concat(rr)]=rr!=="",Gn))})},pn=function(jn){var Gn=jn.ariaControlsSuffix,rr=jn.children,zn=jn.closeOnClickOutside,Dt=jn.offset,yn=jn.position,qn=jn.targetRef,_i=jn.onClose,Kn=St.useRef(),ir=St.useRef(),ar=St.useRef(),gr=St.useContext(_e).direction===xt.TextDirection.RightToLeft;nn(zn,Kn,_i),Jt(Kn,qn,ar,yn,Dt),Pt(function(){var br=ir.current;if(br){var Ir=.75*document.body.clientHeight;br.getBoundingClientRect().height>=Ir&&(br.style.overflow="auto",br.style.maxHeight="".concat(Ir,"px"))}},[]);var mr="rpv-core__popover-body-inner-".concat(Gn);return St.createElement(St.Fragment,null,St.createElement("div",{ref:ar,style:{left:0,position:"absolute",top:0}}),St.createElement("div",{"aria-describedby":mr,className:bt({"rpv-core__popover-body":!0,"rpv-core__popover-body--rtl":gr}),id:"rpv-core__popover-body-".concat(Gn),ref:Kn,role:"dialog",tabIndex:-1},St.createElement(ln,{customClassName:"rpv-core__popover-body-arrow",position:yn}),St.createElement("div",{id:mr,ref:ir},rr)))},wn=function(jn){var Gn=jn.closeOnEscape,rr=jn.onClose,zn=St.useRef();return hn(function(){zn.current&&Gn&&rr()}),St.createElement("div",{className:"rpv-core__popover-overlay",ref:zn})},Cn=function(jn){var Gn=jn.ariaControlsSuffix,rr=jn.children,zn=jn.contentRef,Dt=jn.offset,yn=jn.position,qn=jn.targetRef,_i=St.useRef(),Kn=St.useContext(_e).direction===xt.TextDirection.RightToLeft;return Jt(zn,qn,_i,yn,Dt),St.createElement(St.Fragment,null,St.createElement("div",{ref:_i,style:{left:0,position:"absolute",top:0}}),St.createElement("div",{className:bt({"rpv-core__tooltip-body":!0,"rpv-core__tooltip-body--rtl":Kn}),id:"rpv-core__tooltip-body-".concat(Gn),ref:zn,role:"tooltip"},St.createElement(ln,{customClassName:"rpv-core__tooltip-body-arrow",position:yn}),St.createElement("div",{className:"rpv-core__tooltip-body-content"},rr)))};xt.FullScreenMode=void 0,(vn=xt.FullScreenMode||(xt.FullScreenMode={})).Normal="Normal",vn.Entering="Entering",vn.Entered="Entered",vn.EnteredCompletely="EnteredCompletely",vn.Exitting="Exitting",vn.Exited="Exited",xt.LayerRenderStatus=void 0,(kn=xt.LayerRenderStatus||(xt.LayerRenderStatus={}))[kn.PreRender=0]="PreRender",kn[kn.DidRender=1]="DidRender",xt.PageMode=void 0,(Pn=xt.PageMode||(xt.PageMode={})).Attachments="UseAttachments",Pn.Bookmarks="UseOutlines",Pn.ContentGroup="UseOC",Pn.Default="UserNone",Pn.FullScreen="FullScreen",Pn.Thumbnails="UseThumbs",xt.PasswordStatus=void 0,(On=xt.PasswordStatus||(xt.PasswordStatus={})).RequiredPassword="RequiredPassword",On.WrongPassword="WrongPassword",xt.RotateDirection=void 0,(_n=xt.RotateDirection||(xt.RotateDirection={})).Backward="Backward",_n.Forward="Forward",xt.ScrollMode=void 0,(Sn=xt.ScrollMode||(xt.ScrollMode={})).Page="Page",Sn.Horizontal="Horizontal",Sn.Vertical="Vertical",Sn.Wrapped="Wrapped",xt.SpecialZoomLevel=void 0,(mn=xt.SpecialZoomLevel||(xt.SpecialZoomLevel={})).ActualSize="ActualSize",mn.PageFit="PageFit",mn.PageWidth="PageWidth",xt.ViewMode=void 0,(fn=xt.ViewMode||(xt.ViewMode={})).DualPage="DualPage",fn.DualPageWithCover="DualPageWithCover",fn.SinglePage="SinglePage";var Fn,En=function(jn,Gn){return jn.reduce(function(rr,zn,Dt){return Dt%Gn?rr[rr.length-1].push(zn):rr.push([zn]),rr},[])},An=function(jn,Gn){switch(Gn[1].name){case"XYZ":return{bottomOffset:function(rr,zn){return Gn[3]===null?zn:Gn[3]},leftOffset:function(rr,zn){return Gn[2]===null?0:Gn[2]},pageIndex:jn,scaleTo:Gn[4]};case"Fit":case"FitB":return{bottomOffset:0,leftOffset:0,pageIndex:jn,scaleTo:xt.SpecialZoomLevel.PageFit};case"FitH":case"FitBH":return{bottomOffset:Gn[2],leftOffset:0,pageIndex:jn,scaleTo:xt.SpecialZoomLevel.PageWidth};default:return{bottomOffset:0,leftOffset:0,pageIndex:jn,scaleTo:1}}},Tn=new Map,In=new Map,Rn=function(jn,Gn){return"".concat(jn.loadingTask.docId,"___").concat(Gn.num,"R").concat(Gn.gen===0?"":Gn.gen)},Dn=function(jn,Gn,rr){Tn.set(Rn(jn,Gn),rr)},Ln=function(jn,Gn){if(!jn)return Promise.reject("The document is not loaded yet");var rr="".concat(jn.loadingTask.docId,"___").concat(Gn),zn=In.get(rr);return zn?Promise.resolve(zn):new Promise(function(Dt,yn){jn.getPage(Gn+1).then(function(qn){In.set(rr,qn),qn.ref&&Dn(jn,qn.ref,Gn),Dt(qn)})})},Un=function(jn,Gn){return new Promise(function(rr){new Promise(function(zn){typeof Gn=="string"?jn.getDestination(Gn).then(function(Dt){zn(Dt)}):zn(Gn)}).then(function(zn){if(typeof zn[0]=="object"&&zn[0]!==null){var Dt=zn[0],yn=function(_i,Kn){var ir=Rn(_i,Kn);return Tn.has(ir)?Tn.get(ir):null}(jn,Dt);yn===null?jn.getPageIndex(Dt).then(function(_i){Dn(jn,Dt,_i),Un(jn,Gn).then(function(Kn){return rr(Kn)})}):rr(An(yn,zn))}else{var qn=An(zn[0],zn);rr(qn)}})})};(function(jn){jn[jn.Solid=1]="Solid",jn[jn.Dashed=2]="Dashed",jn[jn.Beveled=3]="Beveled",jn[jn.Inset=4]="Inset",jn[jn.Underline=5]="Underline"})(Fn||(Fn={}));var tr,er=new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?"),Qn=function(jn,Gn,rr,zn){var Dt=parseInt(jn,10);return Dt>=Gn&&Dt<=rr?Dt:zn},Yn=function(jn){return jn.contentsObj?jn.contentsObj.str:jn.contents||""},Xn=function(jn){return jn.titleObj?jn.titleObj.str:jn.title||""},nr=function(jn){var Gn=jn.annotation,rr=St.useContext(_e).direction,zn=Xn(Gn),Dt=Yn(Gn),yn=rr===xt.TextDirection.RightToLeft,qn=St.useRef(),_i="";if(Gn.modificationDate){var Kn=function(ir){var ar=er.exec(ir);if(!ar)return null;var gr=parseInt(ar[1],10),mr=Qn(ar[2],1,12,1)-1,br=Qn(ar[3],1,31,1),Ir=Qn(ar[4],0,23,0),Cr=Qn(ar[5],0,59,0),kr=Qn(ar[6],0,59,0),ts=ar[7]||"Z",Mr=Qn(ar[8],0,23,0),Gr=Qn(ar[9],0,59,0);switch(ts){case"-":Ir+=Mr,Cr+=Gr;break;case"+":Ir-=Mr,Cr-=Gr}return new Date(Date.UTC(gr,mr,br,Ir,Cr,kr))}(Gn.modificationDate);_i=Kn?"".concat(Kn.toLocaleDateString(),", ").concat(Kn.toLocaleTimeString()):""}return St.useLayoutEffect(function(){if(qn.current){var ir=document.querySelector('[data-annotation-id="'.concat(Gn.id,'"]'));if(ir){var ar=ir;return ar.style.zIndex+=1,function(){ar.style.zIndex="".concat(parseInt(ar.style.zIndex,10)-1)}}}},[]),St.createElement("div",{ref:qn,className:bt({"rpv-core__annotation-popup-wrapper":!0,"rpv-core__annotation-popup-wrapper--rtl":yn}),style:{top:Gn.annotationType===xt.AnnotationType.Popup?"":"100%"}},zn&&St.createElement(St.Fragment,null,St.createElement("div",{className:bt({"rpv-core__annotation-popup-title":!0,"rpv-core__annotation-popup-title--ltr":!yn,"rpv-core__annotation-popup-title--rtl":yn})},zn),St.createElement("div",{className:"rpv-core__annotation-popup-date"},_i)),Dt&&St.createElement("div",{className:"rpv-core__annotation-popup-content"},Dt.split(`
`).map(function(ir,ar){return St.createElement(St.Fragment,{key:ar},ir,St.createElement("br",null))})))};(function(jn){jn.Click="Click",jn.Hover="Hover"})(tr||(tr={}));var lr,dr=function(jn){var Gn,rr=jn.annotation,zn=jn.children,Dt=jn.ignoreBorder,yn=jn.hasPopup,qn=jn.isRenderable,_i=jn.page,Kn=jn.viewport,ir=rr.rect,ar=function(){var Br=rn(!1),Nr=Br.opened,Es=Br.toggle,ks=St.useState(tr.Hover),Ps=ks[0],Fs=ks[1];return{opened:Nr,closeOnHover:function(){Ps===tr.Hover&&Es(xt.ToggleStatus.Close)},openOnHover:function(){Ps===tr.Hover&&Es(xt.ToggleStatus.Open)},toggleOnClick:function(){switch(Ps){case tr.Click:Nr&&Fs(tr.Hover),Es(xt.ToggleStatus.Toggle);break;case tr.Hover:Fs(tr.Click),Es(xt.ToggleStatus.Open)}}}}(),gr=ar.closeOnHover,mr=ar.opened,br=ar.openOnHover,Ir=ar.toggleOnClick,Cr=(Gn=[ir[0],_i.view[3]+_i.view[1]-ir[1],ir[2],_i.view[3]+_i.view[1]-ir[3]],[Math.min(Gn[0],Gn[2]),Math.min(Gn[1],Gn[3]),Math.max(Gn[0],Gn[2]),Math.max(Gn[1],Gn[3])]),kr=ir[2]-ir[0],ts=ir[3]-ir[1],Mr={borderColor:"",borderRadius:"",borderStyle:"",borderWidth:""};if(!Dt&&rr.borderStyle.width>0){switch(rr.borderStyle.style){case Fn.Dashed:Mr.borderStyle="dashed";break;case Fn.Solid:Mr.borderStyle="solid";break;case Fn.Underline:Mr=Object.assign({borderBottomStyle:"solid"},Mr);case Fn.Beveled:case Fn.Inset:}var Gr=rr.borderStyle.width;Mr.borderWidth="".concat(Gr,"px"),rr.borderStyle.style!==Fn.Underline&&(kr-=2*Gr,ts-=2*Gr);var Xr=rr.borderStyle,Hr=Xr.horizontalCornerRadius,Qr=Xr.verticalCornerRadius;(Hr>0||Qr>0)&&(Mr.borderRadius="".concat(Hr,"px / ").concat(Qr,"px")),rr.color?Mr.borderColor="rgb(".concat(0|rr.color[0],", ").concat(0|rr.color[1],", ").concat(0|rr.color[2],")"):Mr.borderWidth="0"}return St.createElement(St.Fragment,null,qn&&zn({popup:{opened:mr,closeOnHover:gr,openOnHover:br,toggleOnClick:Ir},slot:{attrs:{style:Object.assign({height:"".concat(ts,"px"),left:"".concat(Cr[0],"px"),top:"".concat(Cr[1],"px"),transform:"matrix(".concat(Kn.transform.join(","),")"),transformOrigin:"-".concat(Cr[0],"px -").concat(Cr[1],"px"),width:"".concat(kr,"px")},Mr)},children:St.createElement(St.Fragment,null,yn&&mr&&St.createElement(nr,{annotation:rr}))}}))},Bn=function(jn){var Gn=jn.annotation,rr=jn.page,zn=jn.viewport,Dt=Gn.hasPopup===!1,yn=Xn(Gn),qn=Yn(Gn),_i=!!(Gn.hasPopup||yn||qn);return St.createElement(dr,{annotation:Gn,hasPopup:Dt,ignoreBorder:!0,isRenderable:_i,page:rr,viewport:zn},function(Kn){return St.createElement("div",_t({},Kn.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--caret","data-annotation-id":Gn.id,onClick:Kn.popup.toggleOnClick,onMouseEnter:Kn.popup.openOnHover,onMouseLeave:Kn.popup.closeOnHover}),Kn.slot.children)})},Hn=function(jn){var Gn=jn.annotation,rr=jn.page,zn=jn.viewport,Dt=Gn.hasPopup===!1,yn=Xn(Gn),qn=Yn(Gn),_i=!!(Gn.hasPopup||yn||qn),Kn=Gn.rect,ir=Kn[2]-Kn[0],ar=Kn[3]-Kn[1],gr=Gn.borderStyle.width;return St.createElement(dr,{annotation:Gn,hasPopup:Dt,ignoreBorder:!0,isRenderable:_i,page:rr,viewport:zn},function(mr){return St.createElement("div",_t({},mr.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--circle","data-annotation-id":Gn.id,onClick:mr.popup.toggleOnClick,onMouseEnter:mr.popup.openOnHover,onMouseLeave:mr.popup.closeOnHover}),St.createElement("svg",{height:"".concat(ar,"px"),preserveAspectRatio:"none",version:"1.1",viewBox:"0 0 ".concat(ir," ").concat(ar),width:"".concat(ir,"px")},St.createElement("circle",{cy:ar/2,fill:"none",rx:ir/2-gr/2,ry:ar/2-gr/2,stroke:"transparent",strokeWidth:gr||1})),mr.slot.children)})},Wn=function(jn){var Gn=jn.annotation,rr=jn.page,zn=jn.viewport,Dt=Xn(Gn),yn=Yn(Gn),qn=!(Gn.hasPopup!==!1||!Dt&&!yn),_i=function(){var Kn,ir,ar,gr,mr=Gn.file;mr&&(Kn=mr.filename,ir=mr.content,ar=typeof ir=="string"?"":URL.createObjectURL(new Blob([ir],{type:""})),(gr=document.createElement("a")).style.display="none",gr.href=ar||Kn,gr.setAttribute("download",function(br){var Ir=br.split("/").pop();return Ir?Ir.split("#")[0].split("?")[0]:br}(Kn)),document.body.appendChild(gr),gr.click(),document.body.removeChild(gr),ar&&URL.revokeObjectURL(ar))};return St.createElement(dr,{annotation:Gn,hasPopup:qn,ignoreBorder:!0,isRenderable:!0,page:rr,viewport:zn},function(Kn){return St.createElement("div",_t({},Kn.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--file-attachment","data-annotation-id":Gn.id,onClick:Kn.popup.toggleOnClick,onDoubleClick:_i,onMouseEnter:Kn.popup.openOnHover,onMouseLeave:Kn.popup.closeOnHover}),Kn.slot.children)})},cr=function(jn){var Gn=jn.annotation,rr=jn.page,zn=jn.viewport,Dt=Gn.hasPopup===!1,yn=Xn(Gn),qn=Yn(Gn),_i=!!(Gn.hasPopup||yn||qn);return St.createElement(dr,{annotation:Gn,hasPopup:Dt,ignoreBorder:!0,isRenderable:_i,page:rr,viewport:zn},function(Kn){return St.createElement("div",_t({},Kn.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--free-text","data-annotation-id":Gn.id,onClick:Kn.popup.toggleOnClick,onMouseEnter:Kn.popup.openOnHover,onMouseLeave:Kn.popup.closeOnHover}),Kn.slot.children)})},sr=function(jn){var Gn=jn.annotation,rr=jn.page,zn=jn.viewport,Dt=Xn(Gn),yn=Yn(Gn),qn=!(!Dt&&!yn),_i=!Gn.parentType||["Circle","Ink","Line","Polygon","PolyLine","Square"].indexOf(Gn.parentType)!==-1;return Pt(function(){if(Gn.parentId){var Kn=document.querySelector('[data-annotation-id="'.concat(Gn.parentId,'"]')),ir=document.querySelector('[data-annotation-id="'.concat(Gn.id,'"]'));if(Kn&&ir){var ar=parseFloat(Kn.style.left),gr=parseFloat(Kn.style.top)+parseFloat(Kn.style.height);ir.style.left="".concat(ar,"px"),ir.style.top="".concat(gr,"px"),ir.style.transformOrigin="-".concat(ar,"px -").concat(gr,"px")}}},[]),St.createElement(dr,{annotation:Gn,hasPopup:_i,ignoreBorder:!1,isRenderable:qn,page:rr,viewport:zn},function(Kn){return St.createElement("div",_t({},Kn.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--popup","data-annotation-id":Gn.id}),St.createElement(nr,{annotation:Gn}))})},xr=function(jn){var Gn=jn.annotation,rr=jn.childAnnotation,zn=jn.page,Dt=jn.viewport,yn=Gn.hasPopup===!1,qn=Xn(Gn),_i=Yn(Gn),Kn=!!(Gn.hasPopup||qn||_i);if(Gn.quadPoints&&Gn.quadPoints.length>0){var ir=Gn.quadPoints.map(function(ar){return Object.assign({},Gn,{rect:[ar[2].x,ar[2].y,ar[1].x,ar[1].y],quadPoints:[]})});return St.createElement(St.Fragment,null,ir.map(function(ar,gr){return St.createElement(xr,{key:gr,annotation:ar,childAnnotation:rr,page:zn,viewport:Dt})}))}return St.createElement(dr,{annotation:Gn,hasPopup:yn,ignoreBorder:!0,isRenderable:Kn,page:zn,viewport:Dt},function(ar){return St.createElement(St.Fragment,null,St.createElement("div",_t({},ar.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--highlight","data-annotation-id":Gn.id,onClick:ar.popup.toggleOnClick,onMouseEnter:ar.popup.openOnHover,onMouseLeave:ar.popup.closeOnHover}),ar.slot.children),rr&&rr.annotationType===xt.AnnotationType.Popup&&ar.popup.opened&&St.createElement(sr,{annotation:rr,page:zn,viewport:Dt}))})},Jn=function(jn){var Gn=jn.annotation,rr=jn.page,zn=jn.viewport,Dt=Gn.hasPopup===!1,yn=Xn(Gn),qn=Yn(Gn),_i=!!(Gn.hasPopup||yn||qn),Kn=Gn.rect,ir=Kn[2]-Kn[0],ar=Kn[3]-Kn[1],gr=Gn.borderStyle.width;return St.createElement(dr,{annotation:Gn,hasPopup:Dt,ignoreBorder:!0,isRenderable:_i,page:rr,viewport:zn},function(mr){return St.createElement("div",_t({},mr.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--ink","data-annotation-id":Gn.id,onClick:mr.popup.toggleOnClick,onMouseEnter:mr.popup.openOnHover,onMouseLeave:mr.popup.closeOnHover}),Gn.inkLists&&Gn.inkLists.length&&St.createElement("svg",{height:"".concat(ar,"px"),preserveAspectRatio:"none",version:"1.1",viewBox:"0 0 ".concat(ir," ").concat(ar),width:"".concat(ir,"px")},Gn.inkLists.map(function(br,Ir){return St.createElement("polyline",{key:Ir,fill:"none",stroke:"transparent",strokeWidth:gr||1,points:br.map(function(Cr){return"".concat(Cr.x-Kn[0],",").concat(Kn[3]-Cr.y)}).join(" ")})})),mr.slot.children)})},Vn=function(jn){var Gn=jn.annotation,rr=jn.page,zn=jn.viewport,Dt=Gn.hasPopup===!1,yn=Xn(Gn),qn=Yn(Gn),_i=!!(Gn.hasPopup||yn||qn),Kn=Gn.rect,ir=Kn[2]-Kn[0],ar=Kn[3]-Kn[1],gr=Gn.borderStyle.width;return St.createElement(dr,{annotation:Gn,hasPopup:Dt,ignoreBorder:!0,isRenderable:_i,page:rr,viewport:zn},function(mr){return St.createElement("div",_t({},mr.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--line","data-annotation-id":Gn.id,onClick:mr.popup.toggleOnClick,onMouseEnter:mr.popup.openOnHover,onMouseLeave:mr.popup.closeOnHover}),St.createElement("svg",{height:"".concat(ar,"px"),preserveAspectRatio:"none",version:"1.1",viewBox:"0 0 ".concat(ir," ").concat(ar),width:"".concat(ir,"px")},St.createElement("line",{stroke:"transparent",strokeWidth:gr||1,x1:Kn[2]-Gn.lineCoordinates[0],x2:Kn[2]-Gn.lineCoordinates[2],y1:Kn[3]-Gn.lineCoordinates[1],y2:Kn[3]-Gn.lineCoordinates[3]})),mr.slot.children)})},Zn=/^([^\w]*)(javascript|data|vbscript)/im,ur=/&#(\w+)(^\w|;)?/g,hr=/[\u0000-\u001F\u007F-\u009F\u2000-\u200D\uFEFF]/gim,or=/^([^:]+):/gm,pr=function(jn,Gn){var rr,zn=(rr=jn||"",rr.replace(ur,function(_i,Kn){return String.fromCharCode(Kn)})).replace(hr,"").trim();if(!zn)return Gn;var Dt=zn[0];if(Dt==="."||Dt==="/")return zn;var yn=zn.match(or);if(!yn)return zn;var qn=yn[0];return Zn.test(qn)?Gn:zn},wr=function(jn){var Gn,rr=jn.annotation,zn=jn.annotationContainerRef,Dt=jn.doc,yn=jn.outlines,qn=jn.page,_i=jn.pageIndex,Kn=jn.scale,ir=jn.viewport,ar=jn.onExecuteNamedAction,gr=jn.onJumpFromLinkAnnotation,mr=jn.onJumpToDest,br=St.useRef(),Ir=yn&&yn.length&&rr.dest&&typeof rr.dest=="string"?(Gn=yn.find(function(Mr){return Mr.dest===rr.dest}))===null||Gn===void 0?void 0:Gn.title:"",Cr=!!(rr.url||rr.dest||rr.action||rr.unsafeUrl),kr={};if(rr.url||rr.unsafeUrl){var ts=pr(rr.url||rr.unsafeUrl,"");ts?kr={"data-target":"external",href:ts,rel:"noopener noreferrer nofollow",target:rr.newWindow?"_blank":"",title:ts}:Cr=!1}else kr={href:"","data-annotation-link":rr.id,onClick:function(Mr){Mr.preventDefault(),rr.action?ar(rr.action):Un(Dt,rr.dest).then(function(Gr){var Xr=br.current,Hr=zn.current;if(Xr&&Hr){var Qr=Xr.getBoundingClientRect();Hr.style.setProperty("height","100%"),Hr.style.setProperty("width","100%");var Br=Hr.getBoundingClientRect();Hr.style.removeProperty("height"),Hr.style.removeProperty("width");var Nr=(Qr.left-Br.left)/Kn,Es=(Br.bottom-Qr.bottom+Qr.height)/Kn;gr({bottomOffset:Es,label:Ir,leftOffset:Nr,pageIndex:_i})}mr(Gr)})}};return Ir&&(kr=Object.assign({},kr,{title:Ir,"aria-label":Ir})),St.createElement(dr,{annotation:rr,hasPopup:!1,ignoreBorder:!1,isRenderable:Cr,page:qn,viewport:ir},function(Mr){return St.createElement("div",_t({},Mr.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--link","data-annotation-id":rr.id,"data-testid":"core__annotation--link-".concat(rr.id)}),St.createElement("a",_t({ref:br},kr)))})},fr=function(jn){var Gn=jn.annotation,rr=jn.page,zn=jn.viewport,Dt=Gn.hasPopup===!1,yn=Xn(Gn),qn=Yn(Gn),_i=!!(Gn.hasPopup||yn||qn),Kn=Gn.rect,ir=Kn[2]-Kn[0],ar=Kn[3]-Kn[1],gr=Gn.borderStyle.width;return St.createElement(dr,{annotation:Gn,hasPopup:Dt,ignoreBorder:!0,isRenderable:_i,page:rr,viewport:zn},function(mr){return St.createElement("div",_t({},mr.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--polygon","data-annotation-id":Gn.id,onClick:mr.popup.toggleOnClick,onMouseEnter:mr.popup.openOnHover,onMouseLeave:mr.popup.closeOnHover}),Gn.vertices&&Gn.vertices.length&&St.createElement("svg",{height:"".concat(ar,"px"),preserveAspectRatio:"none",version:"1.1",viewBox:"0 0 ".concat(ir," ").concat(ar),width:"".concat(ir,"px")},St.createElement("polygon",{fill:"none",stroke:"transparent",strokeWidth:gr||1,points:Gn.vertices.map(function(br){return"".concat(br.x-Kn[0],",").concat(Kn[3]-br.y)}).join(" ")})),mr.slot.children)})},Ar=function(jn){var Gn=jn.annotation,rr=jn.page,zn=jn.viewport,Dt=Gn.hasPopup===!1,yn=Xn(Gn),qn=Yn(Gn),_i=!!(Gn.hasPopup||yn||qn),Kn=Gn.rect,ir=Kn[2]-Kn[0],ar=Kn[3]-Kn[1],gr=Gn.borderStyle.width;return St.createElement(dr,{annotation:Gn,hasPopup:Dt,ignoreBorder:!0,isRenderable:_i,page:rr,viewport:zn},function(mr){return St.createElement("div",_t({},mr.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--polyline","data-annotation-id":Gn.id,onClick:mr.popup.toggleOnClick,onMouseEnter:mr.popup.openOnHover,onMouseLeave:mr.popup.closeOnHover}),Gn.vertices&&Gn.vertices.length&&St.createElement("svg",{height:"".concat(ar,"px"),preserveAspectRatio:"none",version:"1.1",viewBox:"0 0 ".concat(ir," ").concat(ar),width:"".concat(ir,"px")},St.createElement("polyline",{fill:"none",stroke:"transparent",strokeWidth:gr||1,points:Gn.vertices.map(function(br){return"".concat(br.x-Kn[0],",").concat(Kn[3]-br.y)}).join(" ")})),mr.slot.children)})},Lr=function(jn){var Gn=jn.annotation,rr=jn.page,zn=jn.viewport,Dt=Gn.hasPopup===!1,yn=Xn(Gn),qn=Yn(Gn),_i=!!(Gn.hasPopup||yn||qn),Kn=Gn.rect,ir=Kn[2]-Kn[0],ar=Kn[3]-Kn[1],gr=Gn.borderStyle.width;return St.createElement(dr,{annotation:Gn,hasPopup:Dt,ignoreBorder:!0,isRenderable:_i,page:rr,viewport:zn},function(mr){return St.createElement("div",_t({},mr.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--square","data-annotation-id":Gn.id,onClick:mr.popup.toggleOnClick,onMouseEnter:mr.popup.openOnHover,onMouseLeave:mr.popup.closeOnHover}),St.createElement("svg",{height:"".concat(ar,"px"),preserveAspectRatio:"none",version:"1.1",viewBox:"0 0 ".concat(ir," ").concat(ar),width:"".concat(ir,"px")},St.createElement("rect",{height:ar-gr,fill:"none",stroke:"transparent",strokeWidth:gr||1,x:gr/2,y:gr/2,width:ir-gr})),mr.slot.children)})},Pr=function(jn){var Gn=jn.annotation,rr=jn.page,zn=jn.viewport,Dt=Gn.hasPopup===!1,yn=Xn(Gn),qn=Yn(Gn),_i=!!(Gn.hasPopup||yn||qn);return St.createElement(dr,{annotation:Gn,hasPopup:Dt,ignoreBorder:!0,isRenderable:_i,page:rr,viewport:zn},function(Kn){return St.createElement("div",_t({},Kn.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--squiggly","data-annotation-id":Gn.id,onClick:Kn.popup.toggleOnClick,onMouseEnter:Kn.popup.openOnHover,onMouseLeave:Kn.popup.closeOnHover}),Kn.slot.children)})},$r=function(jn){var Gn=jn.annotation,rr=jn.page,zn=jn.viewport,Dt=Gn.hasPopup===!1,yn=Xn(Gn),qn=Yn(Gn),_i=!!(Gn.hasPopup||yn||qn);return St.createElement(dr,{annotation:Gn,hasPopup:Dt,ignoreBorder:!0,isRenderable:_i,page:rr,viewport:zn},function(Kn){return St.createElement("div",_t({},Kn.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--stamp","data-annotation-id":Gn.id,onClick:Kn.popup.toggleOnClick,onMouseEnter:Kn.popup.openOnHover,onMouseLeave:Kn.popup.closeOnHover}),Kn.slot.children)})},Er=function(jn){var Gn=jn.annotation,rr=jn.page,zn=jn.viewport,Dt=Gn.hasPopup===!1,yn=Xn(Gn),qn=Yn(Gn),_i=!!(Gn.hasPopup||yn||qn);return St.createElement(dr,{annotation:Gn,hasPopup:Dt,ignoreBorder:!0,isRenderable:_i,page:rr,viewport:zn},function(Kn){return St.createElement("div",_t({},Kn.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--strike-out","data-annotation-id":Gn.id,onClick:Kn.popup.toggleOnClick,onMouseEnter:Kn.popup.openOnHover,onMouseLeave:Kn.popup.closeOnHover}),Kn.slot.children)})},_r=function(){return St.createElement(Kt,{size:16},St.createElement("path",{d:"M.5,16.5a1,1,0,0,0,1,1h2v4l4-4h15a1,1,0,0,0,1-1V3.5a1,1,0,0,0-1-1H1.5a1,1,0,0,0-1,1Z"}),St.createElement("path",{d:"M7.25,9.75A.25.25,0,1,1,7,10a.25.25,0,0,1,.25-.25"}),St.createElement("path",{d:"M12,9.75a.25.25,0,1,1-.25.25A.25.25,0,0,1,12,9.75"}),St.createElement("path",{d:"M16.75,9.75a.25.25,0,1,1-.25.25.25.25,0,0,1,.25-.25"}))},Fr=function(){return St.createElement(Kt,{size:16},St.createElement("path",{d:"M0.500 12.001 A11.500 11.500 0 1 0 23.500 12.001 A11.500 11.500 0 1 0 0.500 12.001 Z"}),St.createElement("path",{d:"M6.000 12.001 A6.000 6.000 0 1 0 18.000 12.001 A6.000 6.000 0 1 0 6.000 12.001 Z"}),St.createElement("path",{d:"M21.423 5.406L17.415 9.414"}),St.createElement("path",{d:"M14.587 6.585L18.607 2.565"}),St.createElement("path",{d:"M5.405 21.424L9.413 17.416"}),St.createElement("path",{d:"M6.585 14.588L2.577 18.596"}),St.createElement("path",{d:"M18.602 21.419L14.595 17.412"}),St.createElement("path",{d:"M17.419 14.58L21.428 18.589"}),St.createElement("path",{d:"M2.582 5.399L6.588 9.406"}),St.createElement("path",{d:"M9.421 6.581L5.412 2.572"}))},qr=function(){return St.createElement(Kt,{size:16},St.createElement("path",{d:"M4.000 18.500 A1.500 1.500 0 1 0 7.000 18.500 A1.500 1.500 0 1 0 4.000 18.500 Z"}),St.createElement("path",{d:"M20.5.5l-9.782,9.783a7,7,0,1,0,3,3L17,10h1.5V8.5L19,8h1.5V6.5L21,6h1.5V4.5l1-1V.5Z"}))},vs=function(){return St.createElement(Kt,{size:16},St.createElement("path",{d:"M2.000 2.500 L22.000 2.500 L22.000 23.500 L2.000 23.500 Z"}),St.createElement("path",{d:"M6 4.5L6 0.5"}),St.createElement("path",{d:"M18 4.5L18 0.5"}),St.createElement("path",{d:"M10 4.5L10 0.5"}),St.createElement("path",{d:"M14 4.5L14 0.5"}))},ls=function(){return St.createElement(Kt,{size:16},St.createElement("path",{d:"M17.5 0.498L17.5 23.498"}),St.createElement("path",{d:"M10.5 0.498L10.5 23.498"}),St.createElement("path",{d:"M23.5.5H6.5a6,6,0,0,0,0,12h4"}))},ns=function(){return St.createElement(Kt,{size:16},St.createElement("path",{d:"M2.5 22.995L12 6.005 21.5 22.995 2.5 22.995z"}))},Ns=function(jn){var Gn=jn.annotation,rr=jn.childAnnotation,zn=jn.page,Dt=jn.viewport,yn=Gn.hasPopup===!1,qn=Xn(Gn),_i=Yn(Gn),Kn=!!(Gn.hasPopup||qn||_i),ir=Gn.name?Gn.name.toLowerCase():"";return St.createElement(dr,{annotation:Gn,hasPopup:yn,ignoreBorder:!1,isRenderable:Kn,page:zn,viewport:Dt},function(ar){return St.createElement(St.Fragment,null,St.createElement("div",_t({},ar.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--text","data-annotation-id":Gn.id,onClick:ar.popup.toggleOnClick,onMouseEnter:ar.popup.openOnHover,onMouseLeave:ar.popup.closeOnHover}),ir&&St.createElement("div",{className:"rpv-core__annotation-text-icon"},ir==="check"&&St.createElement(Nt,null),ir==="comment"&&St.createElement(_r,null),ir==="help"&&St.createElement(Fr,null),ir==="insert"&&St.createElement(ns,null),ir==="key"&&St.createElement(qr,null),ir==="note"&&St.createElement(vs,null),(ir==="newparagraph"||ir==="paragraph")&&St.createElement(ls,null)),ar.slot.children),rr&&rr.annotationType===xt.AnnotationType.Popup&&ar.popup.opened&&St.createElement(sr,{annotation:rr,page:zn,viewport:Dt}))})},Gs=function(jn){var Gn=jn.annotation,rr=jn.page,zn=jn.viewport,Dt=Gn.hasPopup===!1,yn=Xn(Gn),qn=Yn(Gn),_i=!!(Gn.hasPopup||yn||qn);return St.createElement(dr,{annotation:Gn,hasPopup:Dt,ignoreBorder:!0,isRenderable:_i,page:rr,viewport:zn},function(Kn){return St.createElement("div",_t({},Kn.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--underline","data-annotation-id":Gn.id,onClick:Kn.popup.toggleOnClick,onMouseEnter:Kn.popup.openOnHover,onMouseLeave:Kn.popup.closeOnHover}),Kn.slot.children)})},vr=function(jn){var Gn=jn.annotations,rr=jn.doc,zn=jn.outlines,Dt=jn.page,yn=jn.pageIndex,qn=jn.plugins,_i=jn.rotation,Kn=jn.scale,ir=jn.onExecuteNamedAction,ar=jn.onJumpFromLinkAnnotation,gr=jn.onJumpToDest,mr=St.useRef(),br=Dt.getViewport({rotation:_i,scale:Kn}).clone({dontFlip:!0}),Ir=Gn.filter(function(Cr){return!Cr.parentId});return Pt(function(){var Cr=mr.current;Cr&&qn.forEach(function(kr){kr.onAnnotationLayerRender&&kr.onAnnotationLayerRender({annotations:Ir,container:Cr,pageIndex:yn,rotation:_i,scale:Kn})})},[]),St.createElement("div",{ref:mr,className:"rpv-core__annotation-layer","data-testid":"core__annotation-layer-".concat(yn)},Ir.map(function(Cr){var kr=Gn.find(function(ts){return ts.parentId===Cr.id});switch(Cr.annotationType){case xt.AnnotationType.Caret:return St.createElement(Bn,{key:Cr.id,annotation:Cr,page:Dt,viewport:br});case xt.AnnotationType.Circle:return St.createElement(Hn,{key:Cr.id,annotation:Cr,page:Dt,viewport:br});case xt.AnnotationType.FileAttachment:return St.createElement(Wn,{key:Cr.id,annotation:Cr,page:Dt,viewport:br});case xt.AnnotationType.FreeText:return St.createElement(cr,{key:Cr.id,annotation:Cr,page:Dt,viewport:br});case xt.AnnotationType.Highlight:return St.createElement(xr,{key:Cr.id,annotation:Cr,childAnnotation:kr,page:Dt,viewport:br});case xt.AnnotationType.Ink:return St.createElement(Jn,{key:Cr.id,annotation:Cr,page:Dt,viewport:br});case xt.AnnotationType.Line:return St.createElement(Vn,{key:Cr.id,annotation:Cr,page:Dt,viewport:br});case xt.AnnotationType.Link:return St.createElement(wr,{key:Cr.id,annotation:Cr,annotationContainerRef:mr,doc:rr,outlines:zn,page:Dt,pageIndex:yn,scale:Kn,viewport:br,onExecuteNamedAction:ir,onJumpFromLinkAnnotation:ar,onJumpToDest:gr});case xt.AnnotationType.Polygon:return St.createElement(fr,{key:Cr.id,annotation:Cr,page:Dt,viewport:br});case xt.AnnotationType.Polyline:return St.createElement(Ar,{key:Cr.id,annotation:Cr,page:Dt,viewport:br});case xt.AnnotationType.Popup:return St.createElement(sr,{key:Cr.id,annotation:Cr,page:Dt,viewport:br});case xt.AnnotationType.Square:return St.createElement(Lr,{key:Cr.id,annotation:Cr,page:Dt,viewport:br});case xt.AnnotationType.Squiggly:return St.createElement(Pr,{key:Cr.id,annotation:Cr,page:Dt,viewport:br});case xt.AnnotationType.Stamp:return St.createElement($r,{key:Cr.id,annotation:Cr,page:Dt,viewport:br});case xt.AnnotationType.StrikeOut:return St.createElement(Er,{key:Cr.id,annotation:Cr,page:Dt,viewport:br});case xt.AnnotationType.Text:return St.createElement(Ns,{key:Cr.id,annotation:Cr,childAnnotation:kr,page:Dt,viewport:br});case xt.AnnotationType.Underline:return St.createElement(Gs,{key:Cr.id,annotation:Cr,page:Dt,viewport:br});default:return St.createElement(St.Fragment,{key:Cr.id})}}))},yr=function(jn){var Gn=jn.page,rr=jn.renderAnnotations,zn=Wt(),Dt=St.useState({loading:!0,annotations:[]}),yn=Dt[0],qn=Dt[1];return St.useEffect(function(){Gn.getAnnotations({intent:"display"}).then(function(_i){zn.current&&qn({loading:!1,annotations:_i})})},[]),yn.loading?St.createElement(St.Fragment,null):rr(yn.annotations)},Sr=function(jn){var Gn=jn.doc,rr=jn.outlines,zn=jn.page,Dt=jn.pageIndex,yn=jn.plugins,qn=jn.rotation,_i=jn.scale,Kn=jn.onExecuteNamedAction,ir=jn.onJumpFromLinkAnnotation,ar=jn.onJumpToDest;return St.createElement(yr,{page:zn,renderAnnotations:function(gr){return St.createElement(vr,{annotations:gr,doc:Gn,outlines:rr,page:zn,pageIndex:Dt,plugins:yn,rotation:qn,scale:_i,onExecuteNamedAction:Kn,onJumpFromLinkAnnotation:ir,onJumpToDest:ar})}})},Rr=function(jn,Gn){var rr=jn%Gn;return rr===0?jn:Math.floor(jn-rr)},jr=function(jn){var Gn=jn.canvasLayerRef,rr=jn.height,zn=jn.page,Dt=jn.pageIndex,yn=jn.plugins,qn=jn.rotation,_i=jn.scale,Kn=jn.width,ir=jn.onRenderCanvasCompleted,ar=St.useRef();return Pt(function(){var gr=ar.current;gr&&gr.cancel();var mr=Gn.current;mr.removeAttribute("data-testid"),yn.forEach(function(Br){Br.onCanvasLayerRender&&Br.onCanvasLayerRender({ele:mr,pageIndex:Dt,rotation:qn,scale:_i,status:xt.LayerRenderStatus.PreRender})});var br=zn.getViewport({rotation:qn,scale:_i}),Ir=window.devicePixelRatio||1,Cr=Math.sqrt(16777216/(br.width*br.height)),kr=Ir>Cr;kr?mr.style.transform="scale(1, 1)":mr.style.removeProperty("transform");var ts=Math.min(Cr,Ir),Mr=function(Br,Nr){var Es,ks;if(Math.floor(Br)===Br)return[Br,1];var Ps=1/Br;if(Ps>Nr)return[1,Nr];if(Math.floor(Ps)===Ps)return[1,Ps];for(var Fs=Br>1?Ps:Br,Is=0,Us=1,Zs=1,eo=1;;){var Js=Is+Zs,ro=Us+eo;if(ro>Nr)break;Fs<=Js/ro?(Zs=(Es=[Js,ro])[0],eo=Es[1]):(Is=(ks=[Js,ro])[0],Us=ks[1])}return Fs<(Is/Us+Zs/eo)/2?Fs===Br?[Is,Us]:[Us,Is]:Fs===Br?[Zs,eo]:[eo,Zs]}(ts,8),Gr=Mr[0],Xr=Mr[1];mr.width=Rr(br.width*ts,Gr),mr.height=Rr(br.height*ts,Gr),mr.style.width="".concat(Rr(br.width,Xr),"px"),mr.style.height="".concat(Rr(br.height,Xr),"px"),mr.hidden=!0;var Hr=mr.getContext("2d",{alpha:!1}),Qr=kr||Ir!==1?[ts,0,0,ts,0,0]:null;return ar.current=zn.render({canvasContext:Hr,transform:Qr,viewport:br}),ar.current.promise.then(function(){mr.hidden=!1,mr.setAttribute("data-testid","core__canvas-layer-".concat(Dt)),yn.forEach(function(Br){Br.onCanvasLayerRender&&Br.onCanvasLayerRender({ele:mr,pageIndex:Dt,rotation:qn,scale:_i,status:xt.LayerRenderStatus.DidRender})}),ir()},function(){ir()}),function(){mr&&(mr.width=0,mr.height=0)}},[]),St.createElement("div",{className:"rpv-core__canvas-layer",style:{height:"".concat(rr,"px"),width:"".concat(Kn,"px")}},St.createElement("canvas",{ref:Gn}))},es=function(jn){var Gn=jn.height,rr=jn.page,zn=jn.rotation,Dt=jn.scale,yn=jn.width,qn=St.useRef();return Pt(function(){var _i=qn.current,Kn=rr.getViewport({rotation:zn,scale:Dt});rr.getOperatorList().then(function(ir){(function(){var ar=qn.current;ar&&(ar.innerHTML="")})(),new Ct.SVGGraphics(rr.commonObjs,rr.objs).getSVG(ir,Kn).then(function(ar){ar.style.height="".concat(Gn,"px"),ar.style.width="".concat(yn,"px"),_i.appendChild(ar)})})},[]),St.createElement("div",{className:"rpv-core__svg-layer",ref:qn})},Or=function(jn){var Gn=jn.containerRef,rr=jn.page,zn=jn.pageIndex,Dt=jn.plugins,yn=jn.rotation,qn=jn.scale,_i=jn.onRenderTextCompleted,Kn=St.useRef(),ir=function(){var ar=Gn.current;ar&&([].slice.call(ar.querySelectorAll(".rpv-core__text-layer-text")).forEach(function(gr){return ar.removeChild(gr)}),[].slice.call(ar.querySelectorAll('br[role="presentation"]')).forEach(function(gr){return ar.removeChild(gr)}))};return Pt(function(){var ar=Kn.current;ar&&ar.cancel();var gr=Gn.current;if(gr){gr.removeAttribute("data-testid");var mr=rr.getViewport({rotation:yn,scale:qn});return Dt.forEach(function(br){br.onTextLayerRender&&br.onTextLayerRender({ele:gr,pageIndex:zn,scale:qn,status:xt.LayerRenderStatus.PreRender})}),rr.getTextContent().then(function(br){ir(),Kn.current=Ct.renderTextLayer({container:gr,textContent:br,textContentSource:br,viewport:mr}),Kn.current.promise.then(function(){gr.setAttribute("data-testid","core__text-layer-".concat(zn)),[].slice.call(gr.children).forEach(function(Ir){Ir.classList.contains("rpv-core__text-layer-text--not")||Ir.classList.add("rpv-core__text-layer-text")}),Dt.forEach(function(Ir){Ir.onTextLayerRender&&Ir.onTextLayerRender({ele:gr,pageIndex:zn,scale:qn,status:xt.LayerRenderStatus.DidRender})}),_i()},function(){gr.removeAttribute("data-testid"),_i()})}),function(){var br;ir(),(br=Kn.current)===null||br===void 0||br.cancel()}}},[]),St.createElement("div",{className:"rpv-core__text-layer",ref:Gn})},Tr=function(jn){var Gn=jn.doc,rr=jn.measureRef,zn=jn.outlines,Dt=jn.pageIndex,yn=jn.pageRotation,qn=jn.pageSize,_i=jn.plugins,Kn=jn.renderPage,ir=jn.renderQueueKey,ar=jn.rotation,gr=jn.scale,mr=jn.shouldRender,br=jn.viewMode,Ir=jn.onExecuteNamedAction,Cr=jn.onJumpFromLinkAnnotation,kr=jn.onJumpToDest,ts=jn.onRenderCompleted,Mr=jn.onRotatePage,Gr=Wt(),Xr=St.useState(null),Hr=Xr[0],Qr=Xr[1],Br=St.useState(!1),Nr=Br[0],Es=Br[1],ks=St.useState(!1),Ps=ks[0],Fs=ks[1],Is=St.useRef(),Us=St.useRef(),Zs=Math.abs(ar+yn)%180==0,eo=qn.pageWidth*gr,Js=qn.pageHeight*gr,ro=Zs?eo:Js,no=Zs?Js:eo,Ao=(qn.rotation+ar+yn)%360,Xl=St.useRef(0),_l=Kn||function(ho){return St.createElement(St.Fragment,null,ho.canvasLayer.children,ho.textLayer.children,ho.annotationLayer.children)};return St.useEffect(function(){Qr(null),Es(!1),Fs(!1)},[yn,ar,gr]),St.useEffect(function(){mr&&Gr.current&&!Hr&&Ln(Gn,Dt).then(function(ho){Gr.current&&(Xl.current=ir,Qr(ho))})},[mr,Hr]),St.useEffect(function(){Nr&&Ps&&(ir!==Xl.current?(Qr(null),Es(!1),Fs(!1)):ts(Dt))},[Nr,Ps]),St.createElement("div",{className:bt({"rpv-core__page-layer":!0,"rpv-core__page-layer--dual":br===xt.ViewMode.DualPage,"rpv-core__page-layer--dual-cover":br===xt.ViewMode.DualPageWithCover,"rpv-core__page-layer--single":br===xt.ViewMode.SinglePage}),"data-testid":"core__page-layer-".concat(Dt),ref:rr,style:{height:"".concat(no,"px"),width:"".concat(ro,"px")}},Hr?St.createElement(St.Fragment,null,_l({annotationLayer:{attrs:{},children:St.createElement(Sr,{doc:Gn,outlines:zn,page:Hr,pageIndex:Dt,plugins:_i,rotation:Ao,scale:gr,onExecuteNamedAction:Ir,onJumpFromLinkAnnotation:Cr,onJumpToDest:kr})},canvasLayer:{attrs:{},children:St.createElement(jr,{canvasLayerRef:Is,height:no,page:Hr,pageIndex:Dt,plugins:_i,rotation:Ao,scale:gr,width:ro,onRenderCanvasCompleted:function(){Gr.current&&Es(!0)}})},canvasLayerRendered:Nr,doc:Gn,height:no,pageIndex:Dt,rotation:Ao,scale:gr,svgLayer:{attrs:{},children:St.createElement(es,{height:no,page:Hr,rotation:Ao,scale:gr,width:ro})},textLayer:{attrs:{},children:St.createElement(Or,{containerRef:Us,page:Hr,pageIndex:Dt,plugins:_i,rotation:Ao,scale:gr,onRenderTextCompleted:function(){Gr.current&&Fs(!0)}})},textLayerRendered:Ps,width:ro,markRendered:ts,onRotatePage:function(ho){return Mr(Dt,ho)}}),_i.map(function(ho,Bo){return ho.renderPageLayer?St.createElement(St.Fragment,{key:Bo},ho.renderPageLayer({canvasLayerRef:Is,canvasLayerRendered:Nr,doc:Gn,height:no,pageIndex:Dt,rotation:Ao,scale:gr,textLayerRef:Us,textLayerRendered:Ps,width:ro})):St.createElement(St.Fragment,{key:Bo})})):St.createElement(Lt,{testId:"core__page-layer-loading-".concat(Dt)}))},Vr=function(jn,Gn){var rr=Gn.rect;return jn.height!==rr.height||jn.width!==rr.width?rr:jn};(function(jn){jn.Horizontal="Horizontal",jn.Vertical="Vertical",jn.Both="Both"})(lr||(lr={}));var us=function(jn){return 1-Math.pow(1-jn,4)},bs=1e-4,Jr={left:0,top:0},ss={capture:!1,passive:!0},ms=function(jn){var Gn=jn.elementRef,rr=jn.enableSmoothScroll,zn=jn.isRtl,Dt=jn.scrollDirection,yn=jn.onSmoothScroll,qn=St.useState(Jr),_i=qn[0],Kn=qn[1],ir=St.useState(Gn.current),ar=ir[0],gr=ir[1],mr=zn?-1:1,br=St.useRef(Dt);br.current=Dt;var Ir=St.useRef(Jr),Cr=St.useRef(!0),kr=St.useCallback(function(){Cr.current=!0,rr&&Kn(Ir.current),yn(!1)},[]),ts=St.useCallback(function(){if(ar){switch(br.current){case lr.Horizontal:Ir.current={left:mr*ar.scrollLeft,top:0};break;case lr.Both:Ir.current={left:mr*ar.scrollLeft,top:ar.scrollTop};break;case lr.Vertical:default:Ir.current={left:0,top:ar.scrollTop}}rr&&!Cr.current||Kn(Ir.current)}},[ar]);Pt(function(){gr(Gn.current)}),Pt(function(){if(ar)return ar.addEventListener("scroll",ts,ss),function(){ar.removeEventListener("scroll",ts,ss)}},[ar]);var Mr=St.useCallback(function(Gr,Xr){var Hr=Gn.current;if(!Hr)return Promise.resolve();var Qr={left:0,top:0};switch(br.current){case lr.Horizontal:Qr.left=mr*Gr.left;break;case lr.Both:Qr.left=mr*Gr.left,Qr.top=Gr.top;break;case lr.Vertical:default:Qr.top=Gr.top}return Xr?(Cr.current=!1,yn(!0),new Promise(function(Br,Nr){(function(Es,ks,Ps,Fs,Is,Us){Is===void 0&&(Is=function(Bo){return Bo}),Us===void 0&&(Us=function(){});var Zs=0,eo=0,Js=!1;switch(ks){case lr.Horizontal:eo=Es.scrollLeft,Zs=0;case lr.Both:eo=Es.scrollLeft,Zs=Es.scrollTop;break;case lr.Vertical:default:eo=0,Zs=Es.scrollTop}var ro=function(){Js||(Js=!0,Es.scrollLeft=Ps.left,Es.scrollTop=Ps.top,Us())};if(Math.abs(Zs-Ps.top)<=bs&&ks===lr.Vertical)ro();else if(Math.abs(eo-Ps.left)<=bs&&ks===lr.Horizontal)ro();else{var no,Ao=-1,Xl=eo-Ps.left,_l=Zs-Ps.top,ho=function(Bo){Ao===-1&&(Ao=Bo);var u0=Bo-Ao,xs=Math.min(u0/Fs,1),ps=Is(xs),is={left:eo-Xl*ps,top:Zs-_l*ps};switch(ks){case lr.Horizontal:Es.scrollLeft=is.left;break;case lr.Both:Es.scrollLeft=is.left,Es.scrollTop=is.top;break;case lr.Vertical:default:Es.scrollTop=is.top}Math.abs(is.top-Ps.top)<=bs&&Math.abs(is.left-Ps.left)<=bs&&!Js&&(window.cancelAnimationFrame(no),ro()),u0<Fs?no=window.requestAnimationFrame(ho):window.cancelAnimationFrame(no)};no=window.requestAnimationFrame(ho)}})(Hr,br.current,Qr,400,us,function(){kr(),Br()})})):new Promise(function(Br,Nr){switch(br.current){case lr.Horizontal:Hr.scrollLeft=Qr.left;break;case lr.Both:Hr.scrollLeft=Qr.left,Hr.scrollTop=Qr.top;break;case lr.Vertical:default:Hr.scrollTop=Qr.top}Br()})},[Gn]);return{scrollOffset:_i,scrollTo:Mr}},Wr=function(jn,Gn,rr){return Math.max(jn,Math.min(rr,Gn))},hs=function(jn,Gn){if(Gn!==xt.ViewMode.DualPageWithCover)return 0;if(!function(Dt){var yn=Dt.length;if(yn===1)return!1;for(var qn=1;qn<yn;qn++)if(Dt[qn].height!==Dt[0].height||Dt[qn].width!==Dt[0].width)return!0;return!1}(jn))return 2*jn[0].width;var rr=En(jn.slice(1),2).map(function(Dt){return Dt.length===2?Dt[0].width+Dt[1].width:Dt[0].width}),zn=[jn[0].width].concat(rr);return Math.max.apply(Math,zn)},zr={left:0,top:0},gs={left:0,top:0},ws={left:0,top:0},io={left:0,top:0},ds={height:0,width:0},fs={left:0,top:0},$s="data-virtual-index",Ys=[0,.1,.2,.3,.4,.5,.6,.7,.8,.9,1],wo=function(jn){var Gn=jn.enableSmoothScroll,rr=jn.isRtl,zn=jn.numberOfItems,Dt=jn.parentRef,yn=jn.setRenderRange,qn=jn.sizes,_i=jn.scrollMode,Kn=jn.viewMode,ir=St.useState(!1),ar=ir[0],gr=ir[1],mr=St.useCallback(function(xs){return gr(xs)},[]),br=St.useRef(_i);br.current=_i;var Ir=St.useRef(Kn);Ir.current=Kn;var Cr=_i===xt.ScrollMode.Wrapped||Kn===xt.ViewMode.DualPageWithCover||Kn===xt.ViewMode.DualPage?lr.Both:_i===xt.ScrollMode.Horizontal?lr.Horizontal:lr.Vertical,kr=ms({elementRef:Dt,enableSmoothScroll:Gn,isRtl:rr,scrollDirection:Cr,onSmoothScroll:mr}),ts=kr.scrollOffset,Mr=kr.scrollTo,Gr=function(xs){var ps=xs.elementRef,is=St.useState(ps.current),as=is[0],rs=is[1],ys=St.useRef(!1),As=St.useReducer(Vr,{height:0,width:0}),os=As[0],Kr=As[1];return Pt(function(){ps.current!==as&&rs(ps.current)}),Pt(function(){if(as&&!ys.current){ys.current=!0;var Ts=as.getBoundingClientRect(),Rs=Ts.height,Qs=Ts.width;Kr({rect:{height:Rs,width:Qs}})}},[as]),St.useEffect(function(){if(as){var Ts=new ResizeObserver(function(Rs,Qs){Rs.forEach(function(Vs){if(Vs.target===as){var xo=Vs.contentRect,Xo=xo.height,_s=xo.width;Kr({rect:{height:Xo,width:_s}})}})});return Ts.observe(as),function(){Ts.unobserve(as)}}},[as]),os}({elementRef:Dt}),Xr=St.useRef({scrollOffset:fs,measurements:[]});Xr.current.scrollOffset=ts;var Hr=St.useMemo(function(){return Array(zn).fill(-1)},[]),Qr=St.useState(Hr),Br=Qr[0],Nr=Qr[1],Es=St.useMemo(function(){var xs=new IntersectionObserver(function(ps){ps.forEach(function(is){var as=is.isIntersecting?is.intersectionRatio:-1,rs=is.target.getAttribute($s);if(rs){var ys=parseInt(rs,10);0<=ys&&ys<zn&&Nr(function(As){return As[ys]=as,function(os,Kr,Ts){for(var Rs,Qs=0,Vs=Kr.length;Qs<Vs;Qs++)!Rs&&Qs in Kr||(Rs||(Rs=Array.prototype.slice.call(Kr,0,Qs)),Rs[Qs]=Kr[Qs]);return os.concat(Rs||Array.prototype.slice.call(Kr))}([],As)})}})},{threshold:Ys});return xs},[]),ks=St.useMemo(function(){return _i===xt.ScrollMode.Page&&Kn===xt.ViewMode.SinglePage?function(xs,ps,is){for(var as=[],rs=0;rs<xs;rs++){var ys={height:Math.max(ps.height,is[rs].height),width:Math.max(ps.width,is[rs].width)},As=rs===0?io:as[rs-1].end,os={left:As.left+ys.width,top:As.top+ys.height};as[rs]={index:rs,start:As,size:ys,end:os,visibility:-1}}return as}(zn,Gr,qn):Kn===xt.ViewMode.DualPageWithCover?function(xs,ps,is,as){for(var rs=[],ys=0,As=0,os=ws,Kr=0;Kr<xs;Kr++){var Ts=Kr===0?{height:as===xt.ScrollMode.Page?Math.max(ps.height,is[Kr].height):is[Kr].height,width:as===xt.ScrollMode.Page?Math.max(ps.width,is[Kr].width):is[Kr].width}:{height:as===xt.ScrollMode.Page?Math.max(ps.height,is[Kr].height):is[Kr].height,width:Math.max(ps.width/2,is[Kr].width)};as===xt.ScrollMode.Page?os=Kr===0?ws:{left:Kr%2==0?Ts.width:0,top:Math.floor((Kr-1)/2)*Ts.height+rs[0].end.top}:Kr===0?(os=ws,ys=is[0].height,As=0):Kr%2==1?(os={left:0,top:ys+=As},As=Kr===xs-1?is[Kr].height:Math.max(is[Kr].height,is[Kr+1].height)):os={left:rs[Kr-1].end.left,top:ys};var Rs={left:os.left+Ts.width,top:os.top+Ts.height};rs[Kr]={index:Kr,start:os,size:Ts,end:Rs,visibility:-1}}return rs}(zn,Gr,qn,_i):Kn===xt.ViewMode.DualPage?function(xs,ps,is,as){for(var rs=[],ys=0,As=0,os=gs,Kr=0;Kr<xs;Kr++){var Ts={height:as===xt.ScrollMode.Page?Math.max(ps.height,is[Kr].height):is[Kr].height,width:Math.max(ps.width/2,is[Kr].width)};as===xt.ScrollMode.Page?os={left:Kr%2==0?0:Ts.width,top:Math.floor(Kr/2)*Ts.height}:Kr%2==0?(os={left:0,top:ys+=As},As=Kr===xs-1?is[Kr].height:Math.max(is[Kr].height,is[Kr+1].height)):os={left:rs[Kr-1].end.left,top:ys};var Rs={left:os.left+Ts.width,top:os.top+Ts.height};rs[Kr]={index:Kr,start:os,size:Ts,end:Rs,visibility:-1}}return rs}(zn,Gr,qn,_i):function(xs,ps,is,as){for(var rs=[],ys=0,As={left:0,top:0},os=0,Kr=zr,Ts=0;Ts<xs;Ts++){var Rs=is[Ts];if(Ts===0)ys=Rs.width,As={left:0,top:0},os=Rs.height;else switch(as){case xt.ScrollMode.Wrapped:(ys+=Rs.width)<ps.width?(Kr={left:rs[Ts-1].end.left,top:As.top},os=Math.max(os,Rs.height)):(ys=Rs.width,As={left:(Kr={left:As.left,top:As.top+os}).left,top:Kr.top},os=Rs.height);break;case xt.ScrollMode.Horizontal:case xt.ScrollMode.Vertical:default:Kr=rs[Ts-1].end}var Qs={left:Kr.left+Rs.width,top:Kr.top+Rs.height};rs[Ts]={index:Ts,start:Kr,size:Rs,end:Qs,visibility:-1}}return rs}(zn,Gr,qn,_i)},[_i,qn,Kn,Gr]),Ps=ks[zn-1]?{height:ks[zn-1].end.top,width:ks[zn-1].end.left}:ds;Xr.current.measurements=ks;var Fs=St.useMemo(function(){var xs=function(Ts,Rs,Qs,Vs){var xo=0;switch(Ts){case lr.Horizontal:xo=Vs.left;break;case lr.Vertical:default:xo=Vs.top}var Xo=Rs.length-1,_s=function(Xs,X0,M1,Kx){for(;Xs<=X0;){var Cu=(Xs+X0)/2|0,Kp=Kx(Cu);if(Kp<M1)Xs=Cu+1;else{if(!(Kp>M1))return Cu;X0=Cu-1}}return Xs>0?Xs-1:0}(0,Xo,xo,function(Xs){switch(Ts){case lr.Horizontal:return Rs[Xs].start.left;case lr.Both:case lr.Vertical:default:return Rs[Xs].start.top}});if(Ts===lr.Both)for(var bo=Rs[_s].start.top;_s-1>=0&&Rs[_s-1].start.top===bo&&Rs[_s-1].start.left>=Vs.left;)_s--;for(var na=_s;na<=Xo;){var ba={top:Rs[na].start.top-Vs.top,left:Rs[na].start.left-Vs.left},lo={height:Qs.height-ba.top,width:Qs.width-ba.left};if(Ts===lr.Horizontal&&lo.width<0||Ts===lr.Vertical&&lo.height<0||Ts===lr.Both&&(lo.width<0||lo.height<0))break;na++}return{start:_s,end:na}}(Cr,ks,Gr,ts),ps=xs.start,is=xs.end,as=Br.slice(Wr(0,zn,ps),Wr(0,zn,is)),rs=ps+as.reduce(function(Ts,Rs,Qs,Vs){return Rs>Vs[Ts]?Qs:Ts},0),ys=rs=Wr(0,zn-1,rs),As=yn({endPage:is,numPages:zn,startPage:ps}),os=As.startPage,Kr=As.endPage;switch(os=Math.max(os,0),Kr=Math.min(Kr,zn-1),Kn){case xt.ViewMode.DualPageWithCover:rs>0&&(ys=rs%2==1?rs:rs-1),os=os===0?0:os%2==1?os:os-1,zn-(Kr=Kr%2==1?Kr-1:Kr)<=2&&(Kr=zn-1);break;case xt.ViewMode.DualPage:ys=rs%2==0?rs:rs-1,os=os%2==0?os:os-1,Kr=Kr%2==1?Kr:Kr-1;break;case xt.ViewMode.SinglePage:default:ys=rs}return{startPage:os,endPage:Kr,maxVisbilityIndex:ys}},[ks,Gr,ts,Kn,Br]),Is=Fs.startPage,Us=Fs.endPage,Zs=Fs.maxVisbilityIndex,eo=St.useMemo(function(){for(var xs=[],ps=function(as){var rs=ks[as],ys=_t(_t({},rs),{visibility:Br[as]!==void 0?Br[as]:-1,measureRef:function(As){As&&(As.setAttribute($s,"".concat(as)),Es.observe(As))}});xs.push(ys)},is=Is;is<=Us;is++)ps(is);return xs},[Is,Us,Br,ks]),Js=St.useCallback(function(xs,ps){var is=Xr.current.measurements[Wr(0,zn-1,xs)],as=br.current===xt.ScrollMode.Page?fs:ps;return is?Mr({left:as.left+is.start.left,top:as.top+is.start.top},Gn):Promise.resolve()},[Mr,Gn]),ro=St.useCallback(function(xs,ps){var is=Xr.current.measurements,as=is[xs].start,rs=is.find(function(As){return As.start.top-as.top>1e-12});if(!rs)return Promise.resolve();var ys=rs.index;switch(Ir.current){case xt.ViewMode.DualPage:ys=ys%2==0?ys:ys+1;break;case xt.ViewMode.DualPageWithCover:ys=ys%2==1?ys:ys+1}return Js(ys,ps)},[]),no=St.useCallback(function(xs,ps){for(var is=Xr.current.measurements,as=is[xs].start,rs=xs,ys=!1,As=zn-1;As>=0;As--)if(as.top-is[As].start.top>1e-12){ys=!0,rs=is[As].index;break}if(!ys)return Promise.resolve();switch(Ir.current){case xt.ViewMode.DualPage:rs=rs%2==0?rs:rs-1;break;case xt.ViewMode.DualPageWithCover:rs=rs%2==0?rs-1:rs}return rs===xs&&(rs=xs-1),Js(rs,ps)},[]),Ao=St.useCallback(function(xs,ps){if(Ir.current===xt.ViewMode.DualPageWithCover||Ir.current===xt.ViewMode.DualPage)return ro(xs,ps);switch(br.current){case xt.ScrollMode.Wrapped:return ro(xs,ps);case xt.ScrollMode.Horizontal:case xt.ScrollMode.Vertical:default:return Js(xs+1,ps)}},[]),Xl=St.useCallback(function(xs,ps){if(Ir.current===xt.ViewMode.DualPageWithCover||Ir.current===xt.ViewMode.DualPage)return no(xs,ps);switch(br.current){case xt.ScrollMode.Wrapped:return no(xs,ps);case xt.ScrollMode.Horizontal:case xt.ScrollMode.Vertical:default:return Js(xs-1,ps)}},[]),_l=St.useCallback(function(){return function(xs,ps){switch(ps){case xt.ScrollMode.Horizontal:return{position:"relative",height:"100%",width:"".concat(xs.width,"px")};case xt.ScrollMode.Vertical:default:return{position:"relative",height:"".concat(xs.height,"px"),width:"100%"}}}(Ps,br.current)},[Ps]),ho=St.useCallback(function(xs){return function(ps,is,as){return as!==xt.ScrollMode.Page?{}:{height:"".concat(is.height,"px"),width:"100%",position:"absolute",top:0,transform:"translateY(".concat(ps.start.top,"px)")}}(xs,Gr,br.current)},[Gr]),Bo=St.useCallback(function(xs){return function(ps,is,as,rs,ys){var As,os,Kr,Ts,Rs,Qs,Vs,xo=is?"right":"left",Xo=is?-1:1,_s=as.length,bo=ps.start.left*Xo,na=ps.size,ba=na.height,lo=na.width;if(rs===xt.ViewMode.DualPageWithCover){var Xs=ys===xt.ScrollMode.Page?0:ps.start.top;return ps.index===0||_s%2==0&&ps.index===_s-1?((As={height:"".concat(ba,"px"),minWidth:"".concat(hs(as,rs),"px"),width:"100%"})[xo]=0,As.position="absolute",As.top=0,As.transform="translate(".concat(bo,"px, ").concat(Xs,"px)"),As):((os={height:"".concat(ba,"px"),width:"".concat(lo,"px")})[xo]=0,os.position="absolute",os.top=0,os.transform="translate(".concat(bo,"px, ").concat(Xs,"px)"),os)}if(rs===xt.ViewMode.DualPage)return(Kr={height:"".concat(ba,"px"),width:"".concat(lo,"px")})[xo]=0,Kr.position="absolute",Kr.top=0,Kr.transform="translate(".concat(bo,"px, ").concat(ys===xt.ScrollMode.Page?0:ps.start.top,"px)"),Kr;switch(ys){case xt.ScrollMode.Horizontal:return(Ts={height:"100%",width:"".concat(lo,"px")})[xo]=0,Ts.position="absolute",Ts.top=0,Ts.transform="translateX(".concat(bo,"px)"),Ts;case xt.ScrollMode.Page:return(Rs={height:"".concat(ba,"px"),width:"".concat(lo,"px")})[xo]=0,Rs.position="absolute",Rs.top=0,Rs;case xt.ScrollMode.Wrapped:return(Qs={height:"".concat(ba,"px"),width:"".concat(lo,"px")})[xo]=0,Qs.position="absolute",Qs.top=0,Qs.transform="translate(".concat(bo,"px, ").concat(ps.start.top,"px)"),Qs;case xt.ScrollMode.Vertical:default:return(Vs={height:"".concat(ba,"px"),width:"100%"})[xo]=0,Vs.position="absolute",Vs.top=0,Vs.transform="translateY(".concat(ps.start.top,"px)"),Vs}}(xs,rr,qn,Ir.current,br.current)},[rr,qn]),u0=St.useCallback(function(xs,ps){var is=Xr.current,as=is.measurements,rs=is.scrollOffset,ys=as[Wr(0,zn-1,ps)];if(ys){var As=br.current===xt.ScrollMode.Page?{left:ys.start.left,top:ys.start.top}:{left:rs.left*xs,top:rs.top*xs};return Mr(As,!1)}return Promise.resolve()},[]);return St.useEffect(function(){return function(){Es.disconnect()}},[]),{boundingClientRect:Gr,isSmoothScrolling:ar,startPage:Is,endPage:Us,maxVisbilityIndex:Zs,virtualItems:eo,getContainerStyles:_l,getItemContainerStyles:ho,getItemStyles:Bo,scrollToItem:Js,scrollToNextItem:Ao,scrollToPreviousItem:Xl,zoom:u0}},Tl=function(jn,Gn,rr,zn,Dt,yn){var qn=rr;switch(!0){case(Dt===xt.ViewMode.DualPageWithCover&&yn>=3):case(Dt===xt.ViewMode.DualPage&&yn>=3):qn=2*rr;break;default:qn=rr}switch(zn){case xt.SpecialZoomLevel.ActualSize:return 1;case xt.SpecialZoomLevel.PageFit:return Math.min((jn.clientWidth-17)/qn,(jn.clientHeight-16)/Gn);case xt.SpecialZoomLevel.PageWidth:return(jn.clientWidth-17)/qn}},zp=function(jn){var Gn,rr,zn=jn.getCurrentPage,Dt=(Gn=50,rr=St.useRef([]),St.useEffect(function(){return function(){rr.current=[]}},[]),{push:function(ir){var ar=rr.current;ar.length+1>Gn&&ar.shift(),ar.push(ir),rr.current=ar},map:function(ir){return rr.current.map(function(ar){return ir(ar)})},pop:function(){var ir=rr.current;if(ir.length===0)return null;var ar=ir.pop();return rr.current=ir,ar}}),yn=function(ir){var ar=St.useRef([]);return St.useEffect(function(){return function(){ar.current=[]}},[]),{dequeue:function(){var gr=ar.current;if(gr.length===0)return null;var mr=gr.shift();return ar.current=gr,mr||null},enqueue:function(gr){var mr=ar.current;mr.length+1>ir&&mr.pop(),ar.current=[gr].concat(mr)},map:function(gr){return ar.current.map(function(mr){return gr(mr)})}}}(50),qn=function(){var ir=yn.dequeue();return ir&&Dt.push(ir),ir&&ir.pageIndex===zn()?qn():ir},_i=function(){var ir=Dt.pop();return ir&&yn.enqueue(ir),ir&&ir.pageIndex===zn()?_i():ir},Kn=St.useCallback(function(ir){Dt.push(ir)},[]);return{getNextDestination:qn,getPreviousDestination:_i,markVisitedDestination:Kn}},T1=function(jn){var Gn=[];return jn.map(function(rr){Gn=Gn.concat(rr).concat(function(zn){var Dt=[];return zn.items&&zn.items.length>0&&(Dt=Dt.concat(T1(zn.items))),Dt}(rr))}),Gn},_1={capture:!1,passive:!0},Xp={height:0,width:0},vu={height:0,width:0},F1=function(jn){var Gn=jn.getCurrentPage,rr=jn.getCurrentScrollMode,zn=jn.jumpToPage,Dt=jn.targetRef,yn=St.useState(xt.FullScreenMode.Normal),qn=yn[0],_i=yn[1],Kn=function(){var Br=St.useState(Xp),Nr=Br[0],Es=Br[1],ks=bn(function(){Es({height:window.innerHeight,width:window.innerWidth})},100);return Pt(function(){return window.addEventListener("resize",ks,_1),function(){window.removeEventListener("resize",ks,_1)}},[]),Nr}(),ir=St.useState(vu),ar=ir[0],gr=ir[1],mr=St.useRef(vu),br=St.useRef(Gn()),Ir=St.useRef(vu),Cr=St.useState(Dt.current),kr=Cr[0],ts=Cr[1],Mr=St.useRef();Pt(function(){Dt.current!==kr&&ts(Dt.current)},[]),Pt(function(){if(kr){var Br=new ResizeObserver(function(Nr){Nr.forEach(function(Es){var ks=Es.target.getBoundingClientRect(),Ps=ks.height,Fs=ks.width;gr({height:Ps,width:Fs})})});return Br.observe(kr),function(){Br.unobserve(kr),Br.disconnect()}}},[kr]);var Gr=St.useCallback(function(Br){var Nr=tn();return Nr&&Nr!==Br?(_i(xt.FullScreenMode.Normal),gn(Nr)):Promise.resolve()},[]),Xr=St.useCallback(function(Br){Br&&Qt()&&(ts(Br),Gr(Br).then(function(){Mr.current=Br,_i(xt.FullScreenMode.Entering),function(Nr){en&&Nr[dn.RequestFullScreen]()}(Br)}))},[]),Hr=St.useCallback(function(){tn()&&(_i(xt.FullScreenMode.Exitting),gn(document))},[]),Qr=St.useCallback(function(){kr&&tn()!==kr&&_i(xt.FullScreenMode.Exitting)},[kr]);return St.useEffect(function(){switch(qn){case xt.FullScreenMode.Entering:Mr.current&&(Mr.current.style.backgroundColor="var(--rpv-core__full-screen-target-background-color)"),br.current=Gn(),mr.current={height:window.innerHeight,width:window.innerWidth};break;case xt.FullScreenMode.Entered:rr()===xt.ScrollMode.Page?zn(br.current).then(function(){_i(xt.FullScreenMode.EnteredCompletely)}):_i(xt.FullScreenMode.EnteredCompletely);break;case xt.FullScreenMode.Exitting:Mr.current&&(Mr.current.style.backgroundColor="",Mr.current=null),br.current=Gn();break;case xt.FullScreenMode.Exited:_i(xt.FullScreenMode.Normal),rr()===xt.ScrollMode.Page&&zn(br.current)}},[qn]),St.useEffect(function(){if(qn!==xt.FullScreenMode.Normal)return qn===xt.FullScreenMode.Entering&&Kn.height===ar.height&&Kn.width===ar.width&&Kn.height>0&&Kn.width>0&&(Ir.current.height===0||Kn.height==Ir.current.height)?(Ir.current={height:window.innerHeight,width:window.innerWidth},void _i(xt.FullScreenMode.Entered)):void(qn===xt.FullScreenMode.Exitting&&mr.current.height===Kn.height&&mr.current.width===Kn.width&&Kn.height>0&&Kn.width>0&&_i(xt.FullScreenMode.Exited))},[qn,Kn,ar]),St.useEffect(function(){var Br;return Br=Qr,en&&document.addEventListener(dn.FullScreenChange,Br),function(){(function(Nr){en&&document.removeEventListener(dn.FullScreenChange,Nr)})(Qr)}},[kr]),{enterFullScreenMode:Xr,exitFullScreenMode:Hr,fullScreenMode:qn}},wu={buildPageStyles:function(){return{}},transformSize:function(jn){return jn.size}},zl={left:0,top:0},Wp=function(jn){var Gn=jn.currentFile,rr=jn.defaultScale,zn=jn.doc,Dt=jn.enableSmoothScroll,yn=jn.initialPage,qn=jn.initialRotation,_i=jn.initialScale,Kn=jn.pageLayout,ir=jn.pageSizes,ar=jn.plugins,gr=jn.renderPage,mr=jn.scrollMode,br=jn.setRenderRange,Ir=jn.viewMode,Cr=jn.viewerState,kr=jn.onDocumentLoad,ts=jn.onOpenFile,Mr=jn.onPageChange,Gr=jn.onRotate,Xr=jn.onRotatePage,Hr=jn.onZoom,Qr=zn.numPages,Br=zn.loadingTask.docId,Nr=St.useContext(an).l10n,Es=St.useContext(_e),ks=Es.direction===xt.TextDirection.RightToLeft,Ps=St.useRef(),Fs=St.useRef(),Is=St.useState(yn),Us=Is[0],Zs=Is[1],eo=St.useRef(null),Js=zp({getCurrentPage:function(){return _s.current.pageIndex}}),ro=St.useState(qn),no=ro[0],Ao=ro[1],Xl=Yt(no),_l=St.useState(!1),ho=_l[0],Bo=_l[1],u0=St.useState(new Map),xs=u0[0],ps=u0[1],is=St.useState(mr),as=is[0],rs=is[1],ys=Yt(as),As=St.useState(Ir),os=As[0],Kr=As[1],Ts=Yt(os),Rs=function(Dr){var Cs=Wt(),Ms=St.useState([]),Hs=Ms[0],Bs=Ms[1];return St.useEffect(function(){Dr.getOutline().then(function(Os){if(Cs.current&&Os!==null){var co=T1(Os);Bs(co)}})},[]),Hs}(zn),Qs=St.useState(_i),Vs=Qs[0],xo=Qs[1],Xo=Yt(Vs),_s=St.useRef(Cr),bo=St.useRef(typeof rr=="string"?rr:null),na=St.useRef(-1),ba=St.useRef(-1),lo=St.useRef(yn),Xs=F1({getCurrentPage:function(){return _s.current.pageIndex},getCurrentScrollMode:function(){return _s.current.scrollMode},jumpToPage:function(Dr){return V0(Dr)},targetRef:Fs}),X0=St.useState(-1),M1=X0[0],Kx=X0[1],Cu=St.useState(0),Kp=Cu[0],C5=Cu[1],Wo=Ot({doc:zn});St.useEffect(function(){return function(){Tn.clear(),In.clear()}},[Br]);var iy=St.useMemo(function(){return Object.assign({},wu,Kn)},[]),k5=St.useMemo(function(){return Array(Qr).fill(0).map(function(Dr,Cs){var Ms=[ir[Cs].pageHeight,ir[Cs].pageWidth],Hs=Math.abs(no)%180==0?{height:Ms[0],width:Ms[1]}:{height:Ms[1],width:Ms[0]},Bs={height:Hs.height*Vs,width:Hs.width*Vs};return iy.transformSize({numPages:Qr,pageIndex:Cs,size:Bs})})},[no,Vs]),qs=wo({enableSmoothScroll:Dt,isRtl:ks,numberOfItems:Qr,parentRef:Fs,scrollMode:as,setRenderRange:br,sizes:k5,viewMode:os}),T5=bn(function(){!bo.current||_s.current.fullScreenMode!==xt.FullScreenMode.Normal||yn>0&&lo.current===yn||ku(bo.current)},200);(function(Dr){var Cs=Dr.targetRef,Ms=Dr.onResize;Pt(function(){var Hs=new ResizeObserver(function(Os){Os.forEach(function(co){Ms(co.target)})}),Bs=Cs.current;if(Bs)return Hs.observe(Bs),function(){Hs.unobserve(Bs)}},[])})({targetRef:Fs,onResize:T5});var W0=function(Dr){var Cs=Dr;ar.forEach(function(Ms){Ms.onViewerStateChange&&(Cs=Ms.onViewerStateChange(Cs))}),_s.current=Cs},_5=function(){return Fs.current},F5=function(){return _s.current},P5=St.useCallback(function(Dr){Js.markVisitedDestination(Dr)},[]),a9=St.useCallback(function(Dr){var Cs=Dr.pageIndex,Ms=Dr.bottomOffset,Hs=Dr.leftOffset,Bs=Dr.scaleTo,Os=Fs.current,co=_s.current;return Os&&co?new Promise(function(G0,d9){Ln(zn,Cs).then(function(Yx){var q0=Yx.getViewport({scale:1}),Zx=0,hy=(typeof Ms=="function"?Ms(q0.width,q0.height):Ms)||0,Jx=(typeof Hs=="function"?Hs(q0.width,q0.height):Hs)||0,O1=co.scale;switch(Bs){case xt.SpecialZoomLevel.PageFit:Zx=0,Jx=0,ku(xt.SpecialZoomLevel.PageFit);break;case xt.SpecialZoomLevel.PageWidth:O1=Tl(Os,ir[Cs].pageHeight,ir[Cs].pageWidth,xt.SpecialZoomLevel.PageWidth,Ir,Qr),Zx=(q0.height-hy)*O1,Jx*=O1,ku(O1);break;default:Zx=(q0.height-hy)*O1,Jx*=O1}switch(co.scrollMode){case xt.ScrollMode.Horizontal:qs.scrollToItem(Cs,{left:Jx,top:0}).then(function(){G0()});break;case xt.ScrollMode.Vertical:default:qs.scrollToItem(Cs,{left:0,top:Zx}).then(function(){G0()})}})}):Promise.resolve()},[]),ry=St.useCallback(function(Dr){return Js.markVisitedDestination(Dr),a9(Dr)},[]),R5=St.useCallback(function(){var Dr=Js.getNextDestination();return Dr?a9(Dr):Promise.resolve()},[]),I5=St.useCallback(function(){var Dr=Js.getPreviousDestination();return Dr?a9(Dr):Promise.resolve()},[]),M5=St.useCallback(function(){return qs.scrollToNextItem(_s.current.pageIndex,zl)},[]),V0=St.useCallback(function(Dr){return 0<=Dr&&Dr<Qr?qs.scrollToItem(Dr,zl):Promise.resolve()},[]),O5=St.useCallback(function(){return qs.scrollToPreviousItem(_s.current.pageIndex,zl)},[]),sy=St.useCallback(function(Dr){var Cs,Ms;(Cs=Dr.name,Ms=Cs.split(/\./).pop(),Ms?Ms.toLowerCase():"").toLowerCase()==="pdf"&&new Promise(function(Hs){var Bs=new FileReader;Bs.readAsArrayBuffer(Dr),Bs.onload=function(){var Os=new Uint8Array(Bs.result);Hs(Os)}}).then(function(Hs){ts(Dr.name,Hs)})},[ts]),ay=St.useCallback(function(Dr){var Cs=Dr===xt.RotateDirection.Backward?-90:90,Ms=_s.current.rotation,Hs=Ms===360||Ms===-360?Cs:Ms+Cs;Wo.markNotRendered(),Ao(Hs),W0(_t(_t({},_s.current),{rotation:Hs})),Gr({direction:Dr,doc:zn,rotation:Hs})},[]),o9=St.useCallback(function(Dr,Cs){var Ms=Cs===xt.RotateDirection.Backward?-90:90,Hs=_s.current.pagesRotation,Bs=(Hs.has(Dr)?Hs.get(Dr):qn)+Ms,Os=Hs.set(Dr,Bs);ps(Os),Bo(function(co){return!co}),W0(_t(_t({},_s.current),{pagesRotation:Os,rotatedPage:Dr})),Xr({direction:Cs,doc:zn,pageIndex:Dr,rotation:Bs}),Wo.markRendering(Dr),Kx(Dr)},[]),oy=St.useCallback(function(Dr){W0(_t(_t({},_s.current),{scrollMode:Dr})),rs(Dr)},[]),ly=St.useCallback(function(Dr){W0(_t(_t({},_s.current),{viewMode:Dr})),Kr(Dr)},[]),ku=St.useCallback(function(Dr){var Cs=Fs.current,Ms=_s.current.pageIndex;if(!(Ms<0||Ms>=Qr)){var Hs=ir[Ms].pageHeight,Bs=ir[Ms].pageWidth,Os=Cs?typeof Dr=="string"?Tl(Cs,Hs,Bs,Dr,_s.current.viewMode,Qr):Dr:1;bo.current=typeof Dr=="string"?Dr:null,Os!==_s.current.scale&&(C5(function(co){return co+1}),Wo.markNotRendered(),xo(Os),Hr({doc:zn,scale:Os}),W0(_t(_t({},_s.current),{scale:Os})))}},[]),D5=St.useCallback(function(Dr){Xs.enterFullScreenMode(Dr)},[]),L5=St.useCallback(function(){Xs.exitFullScreenMode()},[]);St.useEffect(function(){W0(_t(_t({},_s.current),{fullScreenMode:Xs.fullScreenMode}))},[Xs.fullScreenMode]),St.useEffect(function(){var Dr={enterFullScreenMode:D5,exitFullScreenMode:L5,getPagesContainer:_5,getViewerState:F5,jumpToDestination:ry,jumpToNextDestination:R5,jumpToPreviousDestination:I5,jumpToNextPage:M5,jumpToPreviousPage:O5,jumpToPage:V0,openFile:sy,rotate:ay,rotatePage:o9,setViewerState:W0,switchScrollMode:oy,switchViewMode:ly,zoom:ku};return ar.forEach(function(Cs){Cs.install&&Cs.install(Dr)}),function(){ar.forEach(function(Cs){Cs.uninstall&&Cs.uninstall(Dr)})}},[Br]),St.useEffect(function(){kr({doc:zn,file:Gn}),ar.forEach(function(Dr){Dr.onDocumentLoad&&Dr.onDocumentLoad({doc:zn,file:Gn})})},[Br]);var l9,c9,u9,cy=qs.boundingClientRect;l9=function(){yn&&V0(yn)},c9=cy.height>0&&cy.width>0,u9=St.useRef(!1),Pt(function(){c9&&!u9.current&&(u9.current=!0,l9())},[l9,c9]),Pt(function(){var Dr=_s.current.pageIndex;Dr>-1&&ys!==as&&qs.scrollToItem(Dr,zl).then(function(){Xs.fullScreenMode===xt.FullScreenMode.EnteredCompletely&&(Dt||Wo.markNotRendered(),na.current=-1)})},[as]),Pt(function(){var Dr=_s.current.pageIndex;Dr>-1&&Xl!==no&&qs.scrollToItem(Dr,zl)},[no]),Pt(function(){Xo!=0&&Xo!=_s.current.scale&&qs.zoom(_s.current.scale/Xo,_s.current.pageIndex).then(function(){Xs.fullScreenMode===xt.FullScreenMode.EnteredCompletely&&(ba.current=-1)})},[Vs]),Pt(function(){if(Ts!==_s.current.viewMode){var Dr=qs.startPage,Cs=qs.endPage,Ms=qs.virtualItems;Wo.markNotRendered(),Wo.setRange(Dr,Cs);for(var Hs=function(Os){var co=Ms.find(function(G0){return G0.index===Os});co&&Wo.setVisibility(Os,co.visibility)},Bs=Dr;Bs<=Cs;Bs++)Hs(Bs);h9()}},[os]),Pt(function(){var Dr=_s.current.pageIndex;Dr>-1&&Ts!==os&&qs.scrollToItem(Dr,zl)},[os]),Pt(function(){var Dr=_s.current.pageIndex;Dr>0&&Dr===yn&&lo.current===yn&&bo.current&&(lo.current=-1,ku(bo.current))},[Us]),St.useEffect(function(){qs.isSmoothScrolling||eo.current!==null&&eo.current===Us||(eo.current=Us,Mr({currentPage:Us,doc:zn}))},[Us,qs.isSmoothScrolling]),St.useEffect(function(){Xs.fullScreenMode===xt.FullScreenMode.Entering&&_s.current.scrollMode===xt.ScrollMode.Page&&(na.current=_s.current.pageIndex),Xs.fullScreenMode===xt.FullScreenMode.EnteredCompletely&&_s.current.scrollMode===xt.ScrollMode.Page&&Dt&&(na.current=-1),Xs.fullScreenMode===xt.FullScreenMode.EnteredCompletely&&bo.current&&(ba.current=_s.current.pageIndex,ku(bo.current))},[Xs.fullScreenMode]),St.useEffect(function(){if(Xs.fullScreenMode!==xt.FullScreenMode.Entering&&Xs.fullScreenMode!==xt.FullScreenMode.Exitting&&!qs.isSmoothScrolling){var Dr=qs.startPage,Cs=qs.endPage,Ms=qs.maxVisbilityIndex,Hs=qs.virtualItems,Bs=Ms,Os=Xs.fullScreenMode===xt.FullScreenMode.Entered||Xs.fullScreenMode===xt.FullScreenMode.EnteredCompletely;if(!(Os&&Bs!==na.current&&na.current>-1||Os&&Bs!==ba.current&&ba.current>-1)){Zs(Bs),W0(_t(_t({},_s.current),{pageIndex:Bs})),Wo.setRange(Dr,Cs);for(var co=function(d9){var Yx=Hs.find(function(q0){return q0.index===d9});Yx&&Wo.setVisibility(d9,Yx.visibility)},G0=Dr;G0<=Cs;G0++)co(G0);h9()}}},[qs.startPage,qs.endPage,qs.isSmoothScrolling,qs.maxVisbilityIndex,Xs.fullScreenMode,ho,no,Vs]);var N5=St.useCallback(function(Dr){Wo.markRendered(Dr),h9()},[Kp]),h9=function(){var Dr=Wo.getHighestPriorityPage();Dr>-1&&Wo.isInRange(Dr)&&(Wo.markRendering(Dr),Kx(Dr))},$5=function(Dr){var Cs=Us-1,Ms=Us+1;switch(Dr){case"FirstPage":V0(0);break;case"LastPage":V0(Qr-1);break;case"NextPage":Ms<Qr&&V0(Ms);break;case"PrevPage":Cs>=0&&V0(Cs)}},j5=St.useCallback(function(){var Dr=qs.virtualItems,Cs=[];switch(os){case xt.ViewMode.DualPage:Cs=En(Dr,2);break;case xt.ViewMode.DualPageWithCover:Dr.length&&(Cs=Dr[0].index===0?[[Dr[0]]].concat(En(Dr.slice(1),2)):En(Dr,2));break;case xt.ViewMode.SinglePage:default:Cs=En(Dr,1)}var Ms=Nr&&Nr.core?Nr.core.pageLabel:"Page {{pageIndex}}",Hs={attrs:{className:"rpv-core__inner-container","data-testid":"core__inner-container",ref:Ps,style:{height:"100%"}},children:St.createElement(St.Fragment,null),subSlot:{attrs:{"data-testid":"core__inner-pages",className:bt({"rpv-core__inner-pages":!0,"rpv-core__inner-pages--horizontal":as===xt.ScrollMode.Horizontal,"rpv-core__inner-pages--rtl":ks,"rpv-core__inner-pages--single":as===xt.ScrollMode.Page,"rpv-core__inner-pages--vertical":as===xt.ScrollMode.Vertical,"rpv-core__inner-pages--wrapped":as===xt.ScrollMode.Wrapped}),ref:Fs,style:{height:"100%",position:"relative"}},children:St.createElement("div",{"data-testid":"core__inner-current-page-".concat(Us),style:Object.assign({"--scale-factor":Vs},qs.getContainerStyles())},Cs.map(function(Bs){return St.createElement("div",{className:bt({"rpv-core__inner-page-container":!0,"rpv-core__inner-page-container--single":as===xt.ScrollMode.Page}),style:qs.getItemContainerStyles(Bs[0]),key:"".concat(Bs[0].index,"-").concat(os)},Bs.map(function(Os){var co=os===xt.ViewMode.DualPageWithCover&&(Os.index===0||Qr%2==0&&Os.index===Qr-1);return St.createElement("div",{"aria-label":Ms.replace("{{pageIndex}}","".concat(Os.index+1)),className:bt({"rpv-core__inner-page":!0,"rpv-core__inner-page--dual-even":os===xt.ViewMode.DualPage&&Os.index%2==0,"rpv-core__inner-page--dual-odd":os===xt.ViewMode.DualPage&&Os.index%2==1,"rpv-core__inner-page--dual-cover":co,"rpv-core__inner-page--dual-cover-even":os===xt.ViewMode.DualPageWithCover&&!co&&Os.index%2==0,"rpv-core__inner-page--dual-cover-odd":os===xt.ViewMode.DualPageWithCover&&!co&&Os.index%2==1,"rpv-core__inner-page--single":os===xt.ViewMode.SinglePage&&as===xt.ScrollMode.Page}),role:"region",key:"".concat(Os.index,"-").concat(os),style:Object.assign({},qs.getItemStyles(Os),iy.buildPageStyles({numPages:Qr,pageIndex:Os.index,scrollMode:as,viewMode:os}))},St.createElement(Tr,{doc:zn,measureRef:Os.measureRef,outlines:Rs,pageIndex:Os.index,pageRotation:xs.has(Os.index)?xs.get(Os.index):0,pageSize:ir[Os.index],plugins:ar,renderPage:gr,renderQueueKey:Kp,rotation:no,scale:Vs,shouldRender:M1===Os.index,viewMode:os,onExecuteNamedAction:$5,onJumpFromLinkAnnotation:P5,onJumpToDest:ry,onRenderCompleted:N5,onRotatePage:o9}))}))}))}};return ar.forEach(function(Bs){Bs.renderViewer&&(Hs=Bs.renderViewer({containerRef:Ps,doc:zn,pagesContainerRef:Fs,pagesRotation:xs,pageSizes:ir,rotation:no,slot:Hs,themeContext:Es,jumpToPage:V0,openFile:sy,rotate:ay,rotatePage:o9,switchScrollMode:oy,switchViewMode:ly,zoom:ku}))}),Hs},[ar,qs]),uy=St.useCallback(function(Dr){return St.createElement("div",_t({},Dr.attrs,{style:Dr.attrs&&Dr.attrs.style?Dr.attrs.style:{}}),Dr.children,Dr.subSlot&&uy(Dr.subSlot))},[]);return uy(j5())},P1=[.1,.2,.3,.4,.5,.6,.7,.8,.9,1,1.1,1.3,1.5,1.7,1.9,2.1,2.4,2.7,3,3.3,3.7,4.1,4.6,5.1,5.7,6.3,7,7.7,8.5,9.4,10],Au=function(jn){var Gn=jn.defaultScale,rr=jn.doc,zn=jn.render,Dt=jn.scrollMode,yn=jn.viewMode,qn=St.useRef(),_i=St.useState({pageSizes:[],scale:0}),Kn=_i[0],ir=_i[1];return St.useLayoutEffect(function(){var ar=Array(rr.numPages).fill(0).map(function(gr,mr){return new Promise(function(br,Ir){Ln(rr,mr).then(function(Cr){var kr=Cr.getViewport({scale:1});br({pageHeight:kr.height,pageWidth:kr.width,rotation:kr.rotation})})})});Promise.all(ar).then(function(gr){var mr=qn.current;if(mr&&gr.length!==0){var br=gr[0].pageWidth,Ir=gr[0].pageHeight,Cr=mr.parentElement,kr=(Cr.clientWidth-45)/br,ts=(Cr.clientHeight-45)/Ir,Mr=kr;switch(Dt){case xt.ScrollMode.Horizontal:Mr=Math.min(kr,ts);break;case xt.ScrollMode.Vertical:default:Mr=kr}var Gr,Xr,Hr=Gn?typeof Gn=="string"?Tl(Cr,Ir,br,Gn,yn,rr.numPages):Gn:(Gr=Mr,(Xr=P1.findIndex(function(Qr){return Qr>=Gr}))===-1||Xr===0?Gr:P1[Xr-1]);ir({pageSizes:gr,scale:Hr})}})},[rr.loadingTask.docId]),Kn.pageSizes.length===0||Kn.scale===0?St.createElement("div",{className:"rpv-core__page-size-calculator","data-testid":"core__page-size-calculating",ref:qn},St.createElement(Lt,null)):zn(Kn.pageSizes,Kn.scale)},c0=function(){},z0=function(jn){function Gn(rr,zn){var Dt=jn.call(this)||this;return Dt.verifyPassword=rr,Dt.passwordStatus=zn,Dt}return Ft(Gn,jn),Gn}(c0),Vp=function(jn){var Gn=jn.passwordStatus,rr=jn.renderProtectedView,zn=jn.verifyPassword,Dt=jn.onDocumentAskPassword,yn=St.useContext(an).l10n,qn=St.useState(""),_i=qn[0],Kn=qn[1],ir=St.useContext(_e).direction===xt.TextDirection.RightToLeft,ar=function(){return zn(_i)};return St.useEffect(function(){Dt&&Dt({verifyPassword:zn})},[]),rr?rr({passwordStatus:Gn,verifyPassword:zn}):St.createElement("div",{className:"rpv-core__asking-password-wrapper"},St.createElement("div",{className:bt({"rpv-core__asking-password":!0,"rpv-core__asking-password--rtl":ir})},St.createElement("div",{className:"rpv-core__asking-password-message"},Gn===xt.PasswordStatus.RequiredPassword&&yn.core.askingPassword.requirePasswordToOpen,Gn===xt.PasswordStatus.WrongPassword&&yn.core.wrongPassword.tryAgain),St.createElement("div",{className:"rpv-core__asking-password-body"},St.createElement("div",{className:bt({"rpv-core__asking-password-input":!0,"rpv-core__asking-password-input--ltr":!ir,"rpv-core__asking-password-input--rtl":ir})},St.createElement(jt,{testId:"core__asking-password-input",type:"password",value:_i,onChange:Kn,onKeyDown:function(gr){gr.key==="Enter"&&ar()}})),St.createElement($t,{onClick:ar},yn.core.askingPassword.submit))))},R1=function(jn){function Gn(rr){var zn=jn.call(this)||this;return zn.doc=rr,zn}return Ft(Gn,jn),Gn}(c0),I1=function(jn){function Gn(rr){var zn=jn.call(this)||this;return zn.error=rr,zn}return Ft(Gn,jn),Gn}(c0),Su=function(jn){function Gn(rr){var zn=jn.call(this)||this;return zn.percentages=rr,zn}return Ft(Gn,jn),Gn}(c0),Gp=function(jn){var Gn=jn.characterMap,rr=jn.file,zn=jn.httpHeaders,Dt=jn.render,yn=jn.renderError,qn=jn.renderLoader,_i=jn.renderProtectedView,Kn=jn.transformGetDocumentParams,ir=jn.withCredentials,ar=jn.onDocumentAskPassword,gr=St.useContext(_e).direction===xt.TextDirection.RightToLeft,mr=St.useState(new Su(0)),br=mr[0],Ir=mr[1],Cr=St.useRef(""),kr=Wt();return St.useEffect(function(){Cr.current="",Ir(new Su(0));var ts=new Ct.PDFWorker({name:"PDFWorker_".concat(Date.now())}),Mr=Object.assign({httpHeaders:zn,withCredentials:ir,worker:ts},typeof rr=="string"?{url:rr}:{data:rr},Gn?{cMapUrl:Gn.url,cMapPacked:Gn.isCompressed}:{}),Gr=Kn?Kn(Mr):Mr,Xr=Ct.getDocument(Gr);return Xr.onPassword=function(Hr,Qr){switch(Qr){case Ct.PasswordResponses.NEED_PASSWORD:kr.current&&Ir(new z0(Hr,xt.PasswordStatus.RequiredPassword));break;case Ct.PasswordResponses.INCORRECT_PASSWORD:kr.current&&Ir(new z0(Hr,xt.PasswordStatus.WrongPassword))}},Xr.onProgress=function(Hr){var Qr=Hr.total>0?Math.min(100,100*Hr.loaded/Hr.total):100;kr.current&&Cr.current===""&&Ir(new Su(Qr))},Xr.promise.then(function(Hr){Cr.current=Hr.loadingTask.docId,kr.current&&Ir(new R1(Hr))},function(Hr){return kr.current&&!ts.destroyed&&Ir(new I1({message:Hr.message||"Cannot load document",name:Hr.name}))}),function(){Xr.destroy(),ts.destroy()}},[rr]),br instanceof z0?St.createElement(Vp,{passwordStatus:br.passwordStatus,renderProtectedView:_i,verifyPassword:br.verifyPassword,onDocumentAskPassword:ar}):br instanceof R1?Dt(br.doc):br instanceof I1?yn?yn(br.error):St.createElement("div",{className:bt({"rpv-core__doc-error":!0,"rpv-core__doc-error--rtl":gr})},St.createElement("div",{className:"rpv-core__doc-error-text"},br.error.message)):St.createElement("div",{"data-testid":"core__doc-loading",className:bt({"rpv-core__doc-loading":!0,"rpv-core__doc-loading--rtl":gr})},qn?qn(br.percentages):St.createElement(Lt,null))},Eu=function(jn,Gn){var rr=St.useMemo(function(){return jn==="auto"?typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light":jn},[]),zn=St.useState(rr),Dt=zn[0],yn=zn[1],qn=Yt(Dt);return St.useEffect(function(){if(jn==="auto"){var _i=window.matchMedia("(prefers-color-scheme: dark)"),Kn=function(ir){yn(ir.matches?"dark":"light")};return _i.addEventListener("change",Kn),function(){return _i.removeEventListener("change",Kn)}}},[]),St.useEffect(function(){Dt!==qn&&Gn&&Gn(Dt)},[Dt]),St.useEffect(function(){jn!==Dt&&yn(jn)},[jn]),{currentTheme:Dt,setCurrentTheme:yn}},qp=function(jn){return{startPage:jn.startPage-3,endPage:jn.endPage+3}};xt.Button=function(jn){var Gn=jn.children,rr=jn.testId,zn=jn.onClick,Dt=St.useContext(_e).direction===xt.TextDirection.RightToLeft,yn=rr?{"data-testid":rr}:{};return St.createElement("button",_t({className:bt({"rpv-core__button":!0,"rpv-core__button--rtl":Dt}),type:"button",onClick:zn},yn),Gn)},xt.Icon=Kt,xt.LazyRender=function(jn){var Gn=jn.attrs,rr=jn.children,zn=jn.testId,Dt=St.useState(!1),yn=Dt[0],qn=Dt[1],_i=zn?_t(_t({},Gn),{"data-testid":zn}):Gn,Kn=Xt({once:!0,onVisibilityChanged:function(ir){ir.isVisible&&qn(!0)}});return St.createElement("div",_t({ref:Kn},_i),yn&&rr)},xt.LocalizationContext=an,xt.Menu=function(jn){var Gn=jn.children,rr=St.useRef(),zn=St.useRef([]),Dt=St.useContext(_e).direction===xt.TextDirection.RightToLeft,yn=function(_i){if(rr.current)switch(_i.key){case"Tab":_i.preventDefault();break;case"ArrowDown":_i.preventDefault(),qn(function(Kn,ir){return ir+1});break;case"ArrowUp":_i.preventDefault(),qn(function(Kn,ir){return ir-1});break;case"End":_i.preventDefault(),qn(function(Kn,ir){return Kn.length-1});break;case"Home":_i.preventDefault(),qn(function(Kn,ir){return 0})}},qn=function(_i){if(rr.current){var Kn=zn.current,ir=Kn.findIndex(function(gr){return gr.getAttribute("tabindex")==="0"}),ar=Math.min(Kn.length-1,Math.max(0,_i(Kn,ir)));ir>=0&&ir<=Kn.length-1&&Kn[ir].setAttribute("tabindex","-1"),Kn[ar].setAttribute("tabindex","0"),Kn[ar].focus()}};return Pt(function(){var _i=rr.current;if(_i){var Kn=function(ir){var ar=[];return ir.querySelectorAll('.rpv-core__menu-item[role="menuitem"]').forEach(function(gr){if(gr instanceof HTMLElement){var mr=gr.parentElement;(mr===ir||window.getComputedStyle(mr).display!=="none")&&ar.push(gr)}}),ar}(_i);zn.current=Kn}},[]),Pt(function(){return document.addEventListener("keydown",yn),function(){document.removeEventListener("keydown",yn)}},[]),St.createElement("div",{ref:rr,"aria-orientation":"vertical",className:bt({"rpv-core__menu":!0,"rpv-core__menu--rtl":Dt}),role:"menu",tabIndex:0},Gn)},xt.MenuDivider=function(){return St.createElement("div",{"aria-orientation":"horizontal",className:"rpv-core__menu-divider",role:"separator"})},xt.MenuItem=function(jn){var Gn=jn.checked,rr=Gn!==void 0&&Gn,zn=jn.children,Dt=jn.icon,yn=Dt===void 0?null:Dt,qn=jn.isDisabled,_i=qn!==void 0&&qn,Kn=jn.testId,ir=jn.onClick,ar=St.useContext(_e).direction===xt.TextDirection.RightToLeft,gr=Kn?{"data-testid":Kn}:{};return St.createElement("button",_t({className:bt({"rpv-core__menu-item":!0,"rpv-core__menu-item--disabled":_i,"rpv-core__menu-item--ltr":!ar,"rpv-core__menu-item--rtl":ar}),role:"menuitem",tabIndex:-1,type:"button",onClick:ir},gr),St.createElement("div",{className:bt({"rpv-core__menu-item-icon":!0,"rpv-core__menu-item-icon--ltr":!ar,"rpv-core__menu-item-icon--rtl":ar})},yn),St.createElement("div",{className:bt({"rpv-core__menu-item-label":!0,"rpv-core__menu-item-label--ltr":!ar,"rpv-core__menu-item-label--rtl":ar})},zn),St.createElement("div",{className:bt({"rpv-core__menu-item-check":!0,"rpv-core__menu-item-check--ltr":!ar,"rpv-core__menu-item-check--rtl":ar})},rr&&St.createElement(Nt,null)))},xt.MinimalButton=function(jn){var Gn=jn.ariaLabel,rr=Gn===void 0?"":Gn,zn=jn.ariaKeyShortcuts,Dt=zn===void 0?"":zn,yn=jn.children,qn=jn.isDisabled,_i=qn!==void 0&&qn,Kn=jn.isSelected,ir=Kn!==void 0&&Kn,ar=jn.testId,gr=jn.onClick,mr=St.useContext(_e).direction===xt.TextDirection.RightToLeft,br=ar?{"data-testid":ar}:{};return St.createElement("button",_t({"aria-label":rr},Dt&&{"aria-keyshortcuts":Dt},_i&&{"aria-disabled":!0},{className:bt({"rpv-core__minimal-button":!0,"rpv-core__minimal-button--disabled":_i,"rpv-core__minimal-button--rtl":mr,"rpv-core__minimal-button--selected":ir}),type:"button",onClick:gr},br),yn)},xt.Modal=function(jn){var Gn=jn.ariaControlsSuffix,rr=jn.closeOnClickOutside,zn=jn.closeOnEscape,Dt=jn.content,yn=jn.isOpened,qn=yn!==void 0&&yn,_i=jn.target,Kn=Gn||"".concat(Vt());return St.createElement(xn,{target:_i?function(ir,ar){return St.createElement("div",{"aria-expanded":ar?"true":"false","aria-haspopup":"dialog","aria-controls":"rpv-core__modal-body-".concat(Kn)},_i(ir,ar))}:null,content:function(ir){return St.createElement(cn,null,St.createElement(on,{ariaControlsSuffix:Kn,closeOnClickOutside:rr,closeOnEscape:zn,onToggle:ir},Dt(ir)))},isOpened:qn})},xt.Popover=function(jn){var Gn=jn.ariaHasPopup,rr=Gn===void 0?"dialog":Gn,zn=jn.ariaControlsSuffix,Dt=jn.closeOnClickOutside,yn=jn.closeOnEscape,qn=jn.content,_i=jn.lockScroll,Kn=_i===void 0||_i,ir=jn.offset,ar=jn.position,gr=jn.target,mr=rn(!1),br=mr.opened,Ir=mr.toggle,Cr=St.useRef(),kr=St.useMemo(function(){return zn||"".concat(Vt())},[]);return St.createElement("div",{ref:Cr,"aria-expanded":br?"true":"false","aria-haspopup":rr,"aria-controls":"rpv-core__popver-body-".concat(kr)},gr(Ir,br),br&&St.createElement(St.Fragment,null,Kn&&St.createElement(wn,{closeOnEscape:yn,onClose:Ir}),St.createElement(pn,{ariaControlsSuffix:kr,closeOnClickOutside:Dt,offset:ir,position:ar,targetRef:Cr,onClose:Ir},qn(Ir))))},xt.PrimaryButton=$t,xt.ProgressBar=function(jn){var Gn=jn.progress,rr=St.useContext(_e).direction===xt.TextDirection.RightToLeft;return St.createElement("div",{className:bt({"rpv-core__progress-bar":!0,"rpv-core__progress-bar--rtl":rr})},St.createElement("div",{className:"rpv-core__progress-bar-progress",style:{width:"".concat(Gn,"%")}},Gn,"%"))},xt.Separator=function(){return St.createElement("div",{className:"rpv-core__separator"})},xt.Spinner=Lt,xt.Splitter=function(jn){var Gn=jn.constrain,rr=St.useContext(_e).direction===xt.TextDirection.RightToLeft,zn=St.useRef(),Dt=St.useRef(),yn=St.useRef(),qn=St.useRef(0),_i=St.useRef(0),Kn=St.useRef(0),ir=St.useRef(0),ar={capture:!0},gr=function(br){var Ir=zn.current,Cr=Dt.current,kr=yn.current;if(Ir&&Cr&&kr){var ts=ir.current,Mr=br.clientX-qn.current,Gr=Kn.current+(rr?-Mr:Mr),Xr=Ir.parentElement.getBoundingClientRect().width,Hr=100*Gr/Xr;if(Ir.classList.add("rpv-core__splitter--resizing"),Gn){var Qr=Xr-Gr-ts;if(!Gn({firstHalfPercentage:Hr,firstHalfSize:Gr,secondHalfPercentage:100*Qr/Xr,secondHalfSize:Qr}))return}Cr.style.width="".concat(Hr,"%"),document.body.classList.add("rpv-core__splitter-body--resizing"),Cr.classList.add("rpv-core__splitter-sibling--resizing"),kr.classList.add("rpv-core__splitter-sibling--resizing")}},mr=function(br){var Ir=zn.current,Cr=Dt.current,kr=yn.current;Ir&&Cr&&kr&&(document.body.classList.remove("rpv-core__splitter-body--resizing"),Ir.classList.remove("rpv-core__splitter--resizing"),Cr.classList.remove("rpv-core__splitter-sibling--resizing"),kr.classList.remove("rpv-core__splitter-sibling--resizing"),document.removeEventListener("mousemove",gr,ar),document.removeEventListener("mouseup",mr,ar))};return St.useEffect(function(){var br=zn.current;br&&(ir.current=br.getBoundingClientRect().width,Dt.current=br.previousElementSibling,yn.current=br.nextElementSibling)},[]),St.createElement("div",{ref:zn,className:"rpv-core__splitter",onMouseDown:function(br){var Ir=Dt.current;Ir&&(qn.current=br.clientX,_i.current=br.clientY,Kn.current=Ir.getBoundingClientRect().width,document.addEventListener("mousemove",gr,ar),document.addEventListener("mouseup",mr,ar))}})},xt.TextBox=jt,xt.ThemeContext=_e,xt.Tooltip=function(jn){var Gn=jn.ariaControlsSuffix,rr=jn.content,zn=jn.offset,Dt=jn.position,yn=jn.target,qn=rn(!1),_i=qn.opened,Kn=qn.toggle,ir=St.useRef(),ar=St.useRef(),gr=St.useMemo(function(){return Gn||"".concat(Vt())},[]);hn(function(){ir.current&&document.activeElement&&ir.current.contains(document.activeElement)&&br()});var mr=function(){Kn(xt.ToggleStatus.Open)},br=function(){Kn(xt.ToggleStatus.Close)};return St.createElement(St.Fragment,null,St.createElement("div",{ref:ir,"aria-describedby":"rpv-core__tooltip-body-".concat(gr),onBlur:function(Ir){Ir.relatedTarget instanceof HTMLElement&&Ir.currentTarget.parentElement&&Ir.currentTarget.parentElement.contains(Ir.relatedTarget)?ar.current&&(ar.current.style.display="none"):br()},onFocus:mr,onMouseEnter:mr,onMouseLeave:br},yn),_i&&St.createElement(Cn,{ariaControlsSuffix:gr,contentRef:ar,offset:zn,position:Dt,targetRef:ir},rr()))},xt.Viewer=function(jn){var Gn=jn.characterMap,rr=jn.defaultScale,zn=jn.enableSmoothScroll,Dt=zn===void 0||zn,yn=jn.fileUrl,qn=jn.httpHeaders,_i=qn===void 0?{}:qn,Kn=jn.initialPage,ir=Kn===void 0?0:Kn,ar=jn.pageLayout,gr=jn.initialRotation,mr=gr===void 0?0:gr,br=jn.localization,Ir=jn.plugins,Cr=Ir===void 0?[]:Ir,kr=jn.renderError,ts=jn.renderLoader,Mr=jn.renderPage,Gr=jn.renderProtectedView,Xr=jn.scrollMode,Hr=Xr===void 0?xt.ScrollMode.Vertical:Xr,Qr=jn.setRenderRange,Br=Qr===void 0?qp:Qr,Nr=jn.transformGetDocumentParams,Es=jn.theme,ks=Es===void 0?{direction:xt.TextDirection.LeftToRight,theme:"light"}:Es,Ps=jn.viewMode,Fs=Ps===void 0?xt.ViewMode.SinglePage:Ps,Is=jn.withCredentials,Us=Is!==void 0&&Is,Zs=jn.onDocumentAskPassword,eo=jn.onDocumentLoad,Js=eo===void 0?function(){}:eo,ro=jn.onPageChange,no=ro===void 0?function(){}:ro,Ao=jn.onRotate,Xl=Ao===void 0?function(){}:Ao,_l=jn.onRotatePage,ho=_l===void 0?function(){}:_l,Bo=jn.onSwitchTheme,u0=Bo===void 0?function(){}:Bo,xs=jn.onZoom,ps=xs===void 0?function(){}:xs,is=St.useState({data:yn,name:typeof yn=="string"?yn:"",shouldLoad:!1}),as=is[0],rs=is[1],ys=function(na,ba){rs({data:ba,name:na,shouldLoad:!0})},As=St.useState(!1),os=As[0],Kr=As[1],Ts=Yt(as);St.useEffect(function(){var na,ba,lo,Xs;na=Ts.data,Xs=typeof(ba=yn),(lo=typeof na)=="string"&&Xs==="string"&&na===ba||lo==="object"&&Xs==="object"&&na.length===ba.length&&na.every(function(X0,M1){return X0===ba[M1]})||rs({data:yn,name:typeof yn=="string"?yn:"",shouldLoad:os})},[yn,os]);var Rs=Xt({onVisibilityChanged:function(na){Kr(na.isVisible),na.isVisible&&rs(function(ba){return Object.assign({},ba,{shouldLoad:!0})})}}),Qs=typeof ks=="string"?{direction:xt.TextDirection.LeftToRight,theme:ks}:ks,Vs=St.useState(br||Ht),xo=Vs[0],Xo=Vs[1],_s={l10n:xo,setL10n:Xo},bo=Object.assign({},{direction:Qs.direction},Eu(Qs.theme||"light",u0));return St.useEffect(function(){br&&Xo(br)},[br]),St.createElement(an.Provider,{value:_s},St.createElement(_e.Provider,{value:bo},St.createElement("div",{ref:Rs,className:"rpv-core__viewer rpv-core__viewer--".concat(bo.currentTheme),"data-testid":"core__viewer",style:{height:"100%",width:"100%"}},as.shouldLoad&&St.createElement(Gp,{characterMap:Gn,file:as.data,httpHeaders:_i,render:function(na){return St.createElement(Au,{defaultScale:rr,doc:na,render:function(ba,lo){return St.createElement(Wp,{currentFile:{data:as.data,name:as.name},defaultScale:rr,doc:na,enableSmoothScroll:Dt,initialPage:ir,initialRotation:mr,initialScale:lo,pageLayout:ar,pageSizes:ba,plugins:Cr,renderPage:Mr,scrollMode:Hr,setRenderRange:Br,viewMode:Fs,viewerState:{file:as,fullScreenMode:xt.FullScreenMode.Normal,pageIndex:-1,pageHeight:ba[0].pageHeight,pageWidth:ba[0].pageWidth,pagesRotation:new Map,rotation:mr,scale:lo,scrollMode:Hr,viewMode:Fs},onDocumentLoad:Js,onOpenFile:ys,onPageChange:no,onRotate:Xl,onRotatePage:ho,onZoom:ps})},scrollMode:Hr,viewMode:Fs})},renderError:kr,renderLoader:ts,renderProtectedView:Gr,transformGetDocumentParams:Nr,withCredentials:Us,onDocumentAskPassword:Zs}))))},xt.Worker=function(jn){var Gn=jn.children,rr=jn.workerUrl;return Ct.GlobalWorkerOptions.workerSrc=rr,St.createElement(St.Fragment,null,Gn)},xt.chunk=En,xt.classNames=bt,xt.createStore=function(jn){var Gn=jn||{},rr={},zn=function(yn,qn){var _i;Gn=_t(_t({},Gn),((_i={})[yn]=qn,_i)),(rr[yn]||[]).forEach(function(Kn){return Kn(Gn[yn])})},Dt=function(yn){return Gn[yn]};return{subscribe:function(yn,qn){rr[yn]=(rr[yn]||[]).concat(qn)},unsubscribe:function(yn,qn){rr[yn]=(rr[yn]||[]).filter(function(_i){return _i!==qn})},update:function(yn,qn){zn(yn,qn)},updateCurrentValue:function(yn,qn){var _i=Dt(yn);_i!==void 0&&zn(yn,qn(_i))},get:function(yn){return Dt(yn)}}},xt.getDestination=Un,xt.getPage=Ln,xt.isFullScreenEnabled=Qt,xt.isMac=function(){return typeof window<"u"&&/(Mac|iPhone|iPod|iPad)/i.test(navigator.platform)},xt.useDebounceCallback=bn,xt.useIntersectionObserver=Xt,xt.useIsMounted=Wt,xt.useIsomorphicLayoutEffect=Pt,xt.usePrevious=Yt,xt.useRenderQueue=Ot})(core_min);const Load=()=>{const[xt,$]=reactExports.useState(""),[ht,vt]=reactExports.useState(null),[At,St]=reactExports.useState(null),[Ct,Et]=reactExports.useState(null);function Ft(Rt){const _e=Rt.target.files[0];if(Et(_e.size/(1024*1024)),_e){const bt=new FileReader;bt.onloadend=()=>{vt(bt.result.split(",")[1])},bt.readAsDataURL(_e);const Pt=Rt.target.value.replace("C:\\fakepath\\","");$(Pt)}else alert("No file selected")}const wt=async Rt=>{Rt.preventDefault();try{await axios.post("/en/uploadpdf",{file:ht,filename:xt}),console.log("Successfully uploaded.")}catch(_e){console.log("Error uploading details:",_e),alert("File size too large")}},_t=async Rt=>{Rt.preventDefault();try{console.log("hi");const _e=await axios.get("/en/pdfid/66813196189877e17f54a9e0",{responseType:"arraybuffer"}),bt=new Uint8Array(_e.data),Pt=new Blob([bt],{type:"application/pdf"});let Xt=window.URL.createObjectURL(Pt);St(Xt)}catch(_e){console.log("Error uploading details:",_e),alert("File size too large")}};return jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs("form",{onSubmit:wt,children:[jsxRuntimeExports.jsx("input",{type:"file",onChange:Ft,accept:"application/pdf"}),jsxRuntimeExports.jsx("button",{type:"submit",children:"Upload"})]}),jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsx("button",{onClick:_t,children:"show pdf"}),At&&jsxRuntimeExports.jsx("embed",{src:At,type:"application/pdf",width:"100%",height:"600px"})]})};function App(){const[xt,$]=reactExports.useState(!0);return jsxRuntimeExports.jsx("div",{className:"App",children:jsxRuntimeExports.jsx(BrowserRouter,{children:jsxRuntimeExports.jsxs(Routes,{children:[jsxRuntimeExports.jsx(Route,{path:"/",element:jsxRuntimeExports.jsx(LandingPage,{})}),jsxRuntimeExports.jsx(Route,{path:"/main",element:jsxRuntimeExports.jsx(Main,{isDoctor:xt})}),jsxRuntimeExports.jsx(Route,{path:"/form",element:jsxRuntimeExports.jsx(Form,{})}),jsxRuntimeExports.jsx(Route,{path:"/patient",element:jsxRuntimeExports.jsx(Patient,{isDoctor:xt})}),jsxRuntimeExports.jsx(Route,{path:"/signin",element:jsxRuntimeExports.jsx(Signin,{setIsDoctor:$,isDoctor:xt})}),jsxRuntimeExports.jsx(Route,{path:"/newSignin",element:jsxRuntimeExports.jsx(NewSignin,{})}),jsxRuntimeExports.jsx(Route,{path:"/upload",element:jsxRuntimeExports.jsx(Upload,{})}),jsxRuntimeExports.jsx(Route,{path:"/load",element:jsxRuntimeExports.jsx(Load,{})}),jsxRuntimeExports.jsx(Route,{path:"/pdfShow",element:jsxRuntimeExports.jsx(PdfShow,{})}),jsxRuntimeExports.jsx(Route,{path:"/doctoranalysis",element:jsxRuntimeExports.jsx(Doctoranalysis,{})})]})})})}client.createRoot(document.getElementById("root")).render(jsxRuntimeExports.jsx(React.StrictMode,{children:jsxRuntimeExports.jsx(App,{})}));
