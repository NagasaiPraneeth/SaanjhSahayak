var b2=Object.defineProperty;var q1=n=>{throw TypeError(n)};var E2=(n,e,t)=>e in n?b2(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t;var ee=(n,e,t)=>E2(n,typeof e!="symbol"?e+"":e,t),Xm=(n,e,t)=>e.has(n)||q1("Cannot "+t);var c=(n,e,t)=>(Xm(n,e,"read from private field"),t?t.call(n):e.get(n)),_=(n,e,t)=>e.has(n)?q1("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(n):e.set(n,t),E=(n,e,t,r)=>(Xm(n,e,"write to private field"),r?r.call(n,t):e.set(n,t),t),A=(n,e,t)=>(Xm(n,e,"access private method"),t);var ln=(n,e,t,r)=>({set _(i){E(n,e,i,t)},get _(){return c(n,e,r)}});function A2(n,e){for(var t=0;t<e.length;t++){const r=e[t];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in n)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(n,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function t(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=t(i);fetch(i.href,s)}})();function Sb(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var _b={exports:{}},tm={},Cb={exports:{}},oe={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fh=Symbol.for("react.element"),S2=Symbol.for("react.portal"),_2=Symbol.for("react.fragment"),C2=Symbol.for("react.strict_mode"),T2=Symbol.for("react.profiler"),k2=Symbol.for("react.provider"),P2=Symbol.for("react.context"),R2=Symbol.for("react.forward_ref"),L2=Symbol.for("react.suspense"),M2=Symbol.for("react.memo"),N2=Symbol.for("react.lazy"),X1=Symbol.iterator;function D2(n){return n===null||typeof n!="object"?null:(n=X1&&n[X1]||n["@@iterator"],typeof n=="function"?n:null)}var Tb={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},kb=Object.assign,Pb={};function oc(n,e,t){this.props=n,this.context=e,this.refs=Pb,this.updater=t||Tb}oc.prototype.isReactComponent={};oc.prototype.setState=function(n,e){if(typeof n!="object"&&typeof n!="function"&&n!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,n,e,"setState")};oc.prototype.forceUpdate=function(n){this.updater.enqueueForceUpdate(this,n,"forceUpdate")};function Rb(){}Rb.prototype=oc.prototype;function wy(n,e,t){this.props=n,this.context=e,this.refs=Pb,this.updater=t||Tb}var by=wy.prototype=new Rb;by.constructor=wy;kb(by,oc.prototype);by.isPureReactComponent=!0;var K1=Array.isArray,Lb=Object.prototype.hasOwnProperty,Ey={current:null},Mb={key:!0,ref:!0,__self:!0,__source:!0};function Nb(n,e,t){var r,i={},s=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)Lb.call(e,r)&&!Mb.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=t;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];i.children=l}if(n&&n.defaultProps)for(r in a=n.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:fh,type:n,key:s,ref:o,props:i,_owner:Ey.current}}function F2(n,e){return{$$typeof:fh,type:n.type,key:e,ref:n.ref,props:n.props,_owner:n._owner}}function Ay(n){return typeof n=="object"&&n!==null&&n.$$typeof===fh}function I2(n){var e={"=":"=0",":":"=2"};return"$"+n.replace(/[=:]/g,function(t){return e[t]})}var Y1=/\/+/g;function Km(n,e){return typeof n=="object"&&n!==null&&n.key!=null?I2(""+n.key):e.toString(36)}function of(n,e,t,r,i){var s=typeof n;(s==="undefined"||s==="boolean")&&(n=null);var o=!1;if(n===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(n.$$typeof){case fh:case S2:o=!0}}if(o)return o=n,i=i(o),n=r===""?"."+Km(o,0):r,K1(i)?(t="",n!=null&&(t=n.replace(Y1,"$&/")+"/"),of(i,e,t,"",function(u){return u})):i!=null&&(Ay(i)&&(i=F2(i,t+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(Y1,"$&/")+"/")+n)),e.push(i)),1;if(o=0,r=r===""?".":r+":",K1(n))for(var a=0;a<n.length;a++){s=n[a];var l=r+Km(s,a);o+=of(s,e,t,l,i)}else if(l=D2(n),typeof l=="function")for(n=l.call(n),a=0;!(s=n.next()).done;)s=s.value,l=r+Km(s,a++),o+=of(s,e,t,l,i);else if(s==="object")throw e=String(n),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function Dh(n,e,t){if(n==null)return n;var r=[],i=0;return of(n,r,"","",function(s){return e.call(t,s,i++)}),r}function O2(n){if(n._status===-1){var e=n._result;e=e(),e.then(function(t){(n._status===0||n._status===-1)&&(n._status=1,n._result=t)},function(t){(n._status===0||n._status===-1)&&(n._status=2,n._result=t)}),n._status===-1&&(n._status=0,n._result=e)}if(n._status===1)return n._result.default;throw n._result}var Ut={current:null},af={transition:null},j2={ReactCurrentDispatcher:Ut,ReactCurrentBatchConfig:af,ReactCurrentOwner:Ey};function Db(){throw Error("act(...) is not supported in production builds of React.")}oe.Children={map:Dh,forEach:function(n,e,t){Dh(n,function(){e.apply(this,arguments)},t)},count:function(n){var e=0;return Dh(n,function(){e++}),e},toArray:function(n){return Dh(n,function(e){return e})||[]},only:function(n){if(!Ay(n))throw Error("React.Children.only expected to receive a single React element child.");return n}};oe.Component=oc;oe.Fragment=_2;oe.Profiler=T2;oe.PureComponent=wy;oe.StrictMode=C2;oe.Suspense=L2;oe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=j2;oe.act=Db;oe.cloneElement=function(n,e,t){if(n==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+n+".");var r=kb({},n.props),i=n.key,s=n.ref,o=n._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=Ey.current),e.key!==void 0&&(i=""+e.key),n.type&&n.type.defaultProps)var a=n.type.defaultProps;for(l in e)Lb.call(e,l)&&!Mb.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=t;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];r.children=a}return{$$typeof:fh,type:n.type,key:i,ref:s,props:r,_owner:o}};oe.createContext=function(n){return n={$$typeof:P2,_currentValue:n,_currentValue2:n,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},n.Provider={$$typeof:k2,_context:n},n.Consumer=n};oe.createElement=Nb;oe.createFactory=function(n){var e=Nb.bind(null,n);return e.type=n,e};oe.createRef=function(){return{current:null}};oe.forwardRef=function(n){return{$$typeof:R2,render:n}};oe.isValidElement=Ay;oe.lazy=function(n){return{$$typeof:N2,_payload:{_status:-1,_result:n},_init:O2}};oe.memo=function(n,e){return{$$typeof:M2,type:n,compare:e===void 0?null:e}};oe.startTransition=function(n){var e=af.transition;af.transition={};try{n()}finally{af.transition=e}};oe.unstable_act=Db;oe.useCallback=function(n,e){return Ut.current.useCallback(n,e)};oe.useContext=function(n){return Ut.current.useContext(n)};oe.useDebugValue=function(){};oe.useDeferredValue=function(n){return Ut.current.useDeferredValue(n)};oe.useEffect=function(n,e){return Ut.current.useEffect(n,e)};oe.useId=function(){return Ut.current.useId()};oe.useImperativeHandle=function(n,e,t){return Ut.current.useImperativeHandle(n,e,t)};oe.useInsertionEffect=function(n,e){return Ut.current.useInsertionEffect(n,e)};oe.useLayoutEffect=function(n,e){return Ut.current.useLayoutEffect(n,e)};oe.useMemo=function(n,e){return Ut.current.useMemo(n,e)};oe.useReducer=function(n,e,t){return Ut.current.useReducer(n,e,t)};oe.useRef=function(n){return Ut.current.useRef(n)};oe.useState=function(n){return Ut.current.useState(n)};oe.useSyncExternalStore=function(n,e,t){return Ut.current.useSyncExternalStore(n,e,t)};oe.useTransition=function(){return Ut.current.useTransition()};oe.version="18.3.1";Cb.exports=oe;var S=Cb.exports;const Ie=Sb(S),qf=A2({__proto__:null,default:Ie},[S]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $2=S,H2=Symbol.for("react.element"),B2=Symbol.for("react.fragment"),z2=Object.prototype.hasOwnProperty,U2=$2.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,V2={key:!0,ref:!0,__self:!0,__source:!0};function Fb(n,e,t){var r,i={},s=null,o=null;t!==void 0&&(s=""+t),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)z2.call(e,r)&&!V2.hasOwnProperty(r)&&(i[r]=e[r]);if(n&&n.defaultProps)for(r in e=n.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:H2,type:n,key:s,ref:o,props:i,_owner:U2.current}}tm.Fragment=B2;tm.jsx=Fb;tm.jsxs=Fb;_b.exports=tm;var w=_b.exports,zg={},Ib={exports:{}},Sn={},Ob={exports:{}},jb={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(n){function e(L,$){var G=L.length;L.push($);e:for(;0<G;){var ne=G-1>>>1,J=L[ne];if(0<i(J,$))L[ne]=$,L[G]=J,G=ne;else break e}}function t(L){return L.length===0?null:L[0]}function r(L){if(L.length===0)return null;var $=L[0],G=L.pop();if(G!==$){L[0]=G;e:for(var ne=0,J=L.length,fe=J>>>1;ne<fe;){var Pe=2*(ne+1)-1,Mt=L[Pe],$e=Pe+1,ae=L[$e];if(0>i(Mt,G))$e<J&&0>i(ae,Mt)?(L[ne]=ae,L[$e]=G,ne=$e):(L[ne]=Mt,L[Pe]=G,ne=Pe);else if($e<J&&0>i(ae,G))L[ne]=ae,L[$e]=G,ne=$e;else break e}}return $}function i(L,$){var G=L.sortIndex-$.sortIndex;return G!==0?G:L.id-$.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;n.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();n.unstable_now=function(){return o.now()-a}}var l=[],u=[],d=1,h=null,f=3,p=!1,m=!1,v=!1,b=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,y=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function x(L){for(var $=t(u);$!==null;){if($.callback===null)r(u);else if($.startTime<=L)r(u),$.sortIndex=$.expirationTime,e(l,$);else break;$=t(u)}}function C(L){if(v=!1,x(L),!m)if(t(l)!==null)m=!0,K(T);else{var $=t(u);$!==null&&I(C,$.startTime-L)}}function T(L,$){m=!1,v&&(v=!1,g(R),R=-1),p=!0;var G=f;try{for(x($),h=t(l);h!==null&&(!(h.expirationTime>$)||L&&!N());){var ne=h.callback;if(typeof ne=="function"){h.callback=null,f=h.priorityLevel;var J=ne(h.expirationTime<=$);$=n.unstable_now(),typeof J=="function"?h.callback=J:h===t(l)&&r(l),x($)}else r(l);h=t(l)}if(h!==null)var fe=!0;else{var Pe=t(u);Pe!==null&&I(C,Pe.startTime-$),fe=!1}return fe}finally{h=null,f=G,p=!1}}var k=!1,P=null,R=-1,F=5,D=-1;function N(){return!(n.unstable_now()-D<F)}function q(){if(P!==null){var L=n.unstable_now();D=L;var $=!0;try{$=P(!0,L)}finally{$?U():(k=!1,P=null)}}else k=!1}var U;if(typeof y=="function")U=function(){y(q)};else if(typeof MessageChannel<"u"){var z=new MessageChannel,j=z.port2;z.port1.onmessage=q,U=function(){j.postMessage(null)}}else U=function(){b(q,0)};function K(L){P=L,k||(k=!0,U())}function I(L,$){R=b(function(){L(n.unstable_now())},$)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(L){L.callback=null},n.unstable_continueExecution=function(){m||p||(m=!0,K(T))},n.unstable_forceFrameRate=function(L){0>L||125<L?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):F=0<L?Math.floor(1e3/L):5},n.unstable_getCurrentPriorityLevel=function(){return f},n.unstable_getFirstCallbackNode=function(){return t(l)},n.unstable_next=function(L){switch(f){case 1:case 2:case 3:var $=3;break;default:$=f}var G=f;f=$;try{return L()}finally{f=G}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(L,$){switch(L){case 1:case 2:case 3:case 4:case 5:break;default:L=3}var G=f;f=L;try{return $()}finally{f=G}},n.unstable_scheduleCallback=function(L,$,G){var ne=n.unstable_now();switch(typeof G=="object"&&G!==null?(G=G.delay,G=typeof G=="number"&&0<G?ne+G:ne):G=ne,L){case 1:var J=-1;break;case 2:J=250;break;case 5:J=1073741823;break;case 4:J=1e4;break;default:J=5e3}return J=G+J,L={id:d++,callback:$,priorityLevel:L,startTime:G,expirationTime:J,sortIndex:-1},G>ne?(L.sortIndex=G,e(u,L),t(l)===null&&L===t(u)&&(v?(g(R),R=-1):v=!0,I(C,G-ne))):(L.sortIndex=J,e(l,L),m||p||(m=!0,K(T))),L},n.unstable_shouldYield=N,n.unstable_wrapCallback=function(L){var $=f;return function(){var G=f;f=$;try{return L.apply(this,arguments)}finally{f=G}}}})(jb);Ob.exports=jb;var W2=Ob.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var G2=S,An=W2;function O(n){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+n,t=1;t<arguments.length;t++)e+="&args[]="+encodeURIComponent(arguments[t]);return"Minified React error #"+n+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var $b=new Set,du={};function ya(n,e){Ql(n,e),Ql(n+"Capture",e)}function Ql(n,e){for(du[n]=e,n=0;n<e.length;n++)$b.add(e[n])}var Ri=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ug=Object.prototype.hasOwnProperty,q2=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Q1={},Z1={};function X2(n){return Ug.call(Z1,n)?!0:Ug.call(Q1,n)?!1:q2.test(n)?Z1[n]=!0:(Q1[n]=!0,!1)}function K2(n,e,t,r){if(t!==null&&t.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:t!==null?!t.acceptsBooleans:(n=n.toLowerCase().slice(0,5),n!=="data-"&&n!=="aria-");default:return!1}}function Y2(n,e,t,r){if(e===null||typeof e>"u"||K2(n,e,t,r))return!0;if(r)return!1;if(t!==null)switch(t.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Vt(n,e,t,r,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=t,this.propertyName=n,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var bt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(n){bt[n]=new Vt(n,0,!1,n,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(n){var e=n[0];bt[e]=new Vt(e,1,!1,n[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(n){bt[n]=new Vt(n,2,!1,n.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(n){bt[n]=new Vt(n,2,!1,n,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(n){bt[n]=new Vt(n,3,!1,n.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(n){bt[n]=new Vt(n,3,!0,n,null,!1,!1)});["capture","download"].forEach(function(n){bt[n]=new Vt(n,4,!1,n,null,!1,!1)});["cols","rows","size","span"].forEach(function(n){bt[n]=new Vt(n,6,!1,n,null,!1,!1)});["rowSpan","start"].forEach(function(n){bt[n]=new Vt(n,5,!1,n.toLowerCase(),null,!1,!1)});var Sy=/[\-:]([a-z])/g;function _y(n){return n[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(n){var e=n.replace(Sy,_y);bt[e]=new Vt(e,1,!1,n,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(n){var e=n.replace(Sy,_y);bt[e]=new Vt(e,1,!1,n,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(n){var e=n.replace(Sy,_y);bt[e]=new Vt(e,1,!1,n,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(n){bt[n]=new Vt(n,1,!1,n.toLowerCase(),null,!1,!1)});bt.xlinkHref=new Vt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(n){bt[n]=new Vt(n,1,!1,n.toLowerCase(),null,!0,!0)});function Cy(n,e,t,r){var i=bt.hasOwnProperty(e)?bt[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(Y2(e,t,i,r)&&(t=null),r||i===null?X2(e)&&(t===null?n.removeAttribute(e):n.setAttribute(e,""+t)):i.mustUseProperty?n[i.propertyName]=t===null?i.type===3?!1:"":t:(e=i.attributeName,r=i.attributeNamespace,t===null?n.removeAttribute(e):(i=i.type,t=i===3||i===4&&t===!0?"":""+t,r?n.setAttributeNS(r,e,t):n.setAttribute(e,t))))}var Ii=G2.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Fh=Symbol.for("react.element"),Da=Symbol.for("react.portal"),Fa=Symbol.for("react.fragment"),Ty=Symbol.for("react.strict_mode"),Vg=Symbol.for("react.profiler"),Hb=Symbol.for("react.provider"),Bb=Symbol.for("react.context"),ky=Symbol.for("react.forward_ref"),Wg=Symbol.for("react.suspense"),Gg=Symbol.for("react.suspense_list"),Py=Symbol.for("react.memo"),Gi=Symbol.for("react.lazy"),zb=Symbol.for("react.offscreen"),J1=Symbol.iterator;function xc(n){return n===null||typeof n!="object"?null:(n=J1&&n[J1]||n["@@iterator"],typeof n=="function"?n:null)}var je=Object.assign,Ym;function Mc(n){if(Ym===void 0)try{throw Error()}catch(t){var e=t.stack.trim().match(/\n( *(at )?)/);Ym=e&&e[1]||""}return`
`+Ym+n}var Qm=!1;function Zm(n,e){if(!n||Qm)return"";Qm=!0;var t=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(n,[],e)}else{try{e.call()}catch(u){r=u}n.call(e.prototype)}else{try{throw Error()}catch(u){r=u}n()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var l=`
`+i[o].replace(" at new "," at ");return n.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",n.displayName)),l}while(1<=o&&0<=a);break}}}finally{Qm=!1,Error.prepareStackTrace=t}return(n=n?n.displayName||n.name:"")?Mc(n):""}function Q2(n){switch(n.tag){case 5:return Mc(n.type);case 16:return Mc("Lazy");case 13:return Mc("Suspense");case 19:return Mc("SuspenseList");case 0:case 2:case 15:return n=Zm(n.type,!1),n;case 11:return n=Zm(n.type.render,!1),n;case 1:return n=Zm(n.type,!0),n;default:return""}}function qg(n){if(n==null)return null;if(typeof n=="function")return n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case Fa:return"Fragment";case Da:return"Portal";case Vg:return"Profiler";case Ty:return"StrictMode";case Wg:return"Suspense";case Gg:return"SuspenseList"}if(typeof n=="object")switch(n.$$typeof){case Bb:return(n.displayName||"Context")+".Consumer";case Hb:return(n._context.displayName||"Context")+".Provider";case ky:var e=n.render;return n=n.displayName,n||(n=e.displayName||e.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case Py:return e=n.displayName||null,e!==null?e:qg(n.type)||"Memo";case Gi:e=n._payload,n=n._init;try{return qg(n(e))}catch{}}return null}function Z2(n){var e=n.type;switch(n.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return n=e.render,n=n.displayName||n.name||"",e.displayName||(n!==""?"ForwardRef("+n+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return qg(e);case 8:return e===Ty?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Rs(n){switch(typeof n){case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function Ub(n){var e=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function J2(n){var e=Ub(n)?"checked":"value",t=Object.getOwnPropertyDescriptor(n.constructor.prototype,e),r=""+n[e];if(!n.hasOwnProperty(e)&&typeof t<"u"&&typeof t.get=="function"&&typeof t.set=="function"){var i=t.get,s=t.set;return Object.defineProperty(n,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(n,e,{enumerable:t.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){n._valueTracker=null,delete n[e]}}}}function Ih(n){n._valueTracker||(n._valueTracker=J2(n))}function Vb(n){if(!n)return!1;var e=n._valueTracker;if(!e)return!0;var t=e.getValue(),r="";return n&&(r=Ub(n)?n.checked?"true":"false":n.value),n=r,n!==t?(e.setValue(n),!0):!1}function Xf(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}function Xg(n,e){var t=e.checked;return je({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:t??n._wrapperState.initialChecked})}function ex(n,e){var t=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;t=Rs(e.value!=null?e.value:t),n._wrapperState={initialChecked:r,initialValue:t,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function Wb(n,e){e=e.checked,e!=null&&Cy(n,"checked",e,!1)}function Kg(n,e){Wb(n,e);var t=Rs(e.value),r=e.type;if(t!=null)r==="number"?(t===0&&n.value===""||n.value!=t)&&(n.value=""+t):n.value!==""+t&&(n.value=""+t);else if(r==="submit"||r==="reset"){n.removeAttribute("value");return}e.hasOwnProperty("value")?Yg(n,e.type,t):e.hasOwnProperty("defaultValue")&&Yg(n,e.type,Rs(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(n.defaultChecked=!!e.defaultChecked)}function tx(n,e,t){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+n._wrapperState.initialValue,t||e===n.value||(n.value=e),n.defaultValue=e}t=n.name,t!==""&&(n.name=""),n.defaultChecked=!!n._wrapperState.initialChecked,t!==""&&(n.name=t)}function Yg(n,e,t){(e!=="number"||Xf(n.ownerDocument)!==n)&&(t==null?n.defaultValue=""+n._wrapperState.initialValue:n.defaultValue!==""+t&&(n.defaultValue=""+t))}var Nc=Array.isArray;function qa(n,e,t,r){if(n=n.options,e){e={};for(var i=0;i<t.length;i++)e["$"+t[i]]=!0;for(t=0;t<n.length;t++)i=e.hasOwnProperty("$"+n[t].value),n[t].selected!==i&&(n[t].selected=i),i&&r&&(n[t].defaultSelected=!0)}else{for(t=""+Rs(t),e=null,i=0;i<n.length;i++){if(n[i].value===t){n[i].selected=!0,r&&(n[i].defaultSelected=!0);return}e!==null||n[i].disabled||(e=n[i])}e!==null&&(e.selected=!0)}}function Qg(n,e){if(e.dangerouslySetInnerHTML!=null)throw Error(O(91));return je({},e,{value:void 0,defaultValue:void 0,children:""+n._wrapperState.initialValue})}function nx(n,e){var t=e.value;if(t==null){if(t=e.children,e=e.defaultValue,t!=null){if(e!=null)throw Error(O(92));if(Nc(t)){if(1<t.length)throw Error(O(93));t=t[0]}e=t}e==null&&(e=""),t=e}n._wrapperState={initialValue:Rs(t)}}function Gb(n,e){var t=Rs(e.value),r=Rs(e.defaultValue);t!=null&&(t=""+t,t!==n.value&&(n.value=t),e.defaultValue==null&&n.defaultValue!==t&&(n.defaultValue=t)),r!=null&&(n.defaultValue=""+r)}function rx(n){var e=n.textContent;e===n._wrapperState.initialValue&&e!==""&&e!==null&&(n.value=e)}function qb(n){switch(n){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Zg(n,e){return n==null||n==="http://www.w3.org/1999/xhtml"?qb(e):n==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":n}var Oh,Xb=function(n){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,t,r,i){MSApp.execUnsafeLocalFunction(function(){return n(e,t,r,i)})}:n}(function(n,e){if(n.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in n)n.innerHTML=e;else{for(Oh=Oh||document.createElement("div"),Oh.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Oh.firstChild;n.firstChild;)n.removeChild(n.firstChild);for(;e.firstChild;)n.appendChild(e.firstChild)}});function hu(n,e){if(e){var t=n.firstChild;if(t&&t===n.lastChild&&t.nodeType===3){t.nodeValue=e;return}}n.textContent=e}var Qc={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},eT=["Webkit","ms","Moz","O"];Object.keys(Qc).forEach(function(n){eT.forEach(function(e){e=e+n.charAt(0).toUpperCase()+n.substring(1),Qc[e]=Qc[n]})});function Kb(n,e,t){return e==null||typeof e=="boolean"||e===""?"":t||typeof e!="number"||e===0||Qc.hasOwnProperty(n)&&Qc[n]?(""+e).trim():e+"px"}function Yb(n,e){n=n.style;for(var t in e)if(e.hasOwnProperty(t)){var r=t.indexOf("--")===0,i=Kb(t,e[t],r);t==="float"&&(t="cssFloat"),r?n.setProperty(t,i):n[t]=i}}var tT=je({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Jg(n,e){if(e){if(tT[n]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(O(137,n));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(O(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(O(61))}if(e.style!=null&&typeof e.style!="object")throw Error(O(62))}}function e0(n,e){if(n.indexOf("-")===-1)return typeof e.is=="string";switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var t0=null;function Ry(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var n0=null,Xa=null,Ka=null;function ix(n){if(n=gh(n)){if(typeof n0!="function")throw Error(O(280));var e=n.stateNode;e&&(e=om(e),n0(n.stateNode,n.type,e))}}function Qb(n){Xa?Ka?Ka.push(n):Ka=[n]:Xa=n}function Zb(){if(Xa){var n=Xa,e=Ka;if(Ka=Xa=null,ix(n),e)for(n=0;n<e.length;n++)ix(e[n])}}function Jb(n,e){return n(e)}function eE(){}var Jm=!1;function tE(n,e,t){if(Jm)return n(e,t);Jm=!0;try{return Jb(n,e,t)}finally{Jm=!1,(Xa!==null||Ka!==null)&&(eE(),Zb())}}function fu(n,e){var t=n.stateNode;if(t===null)return null;var r=om(t);if(r===null)return null;t=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(n=n.type,r=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!r;break e;default:n=!1}if(n)return null;if(t&&typeof t!="function")throw Error(O(231,e,typeof t));return t}var r0=!1;if(Ri)try{var wc={};Object.defineProperty(wc,"passive",{get:function(){r0=!0}}),window.addEventListener("test",wc,wc),window.removeEventListener("test",wc,wc)}catch{r0=!1}function nT(n,e,t,r,i,s,o,a,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(t,u)}catch(d){this.onError(d)}}var Zc=!1,Kf=null,Yf=!1,i0=null,rT={onError:function(n){Zc=!0,Kf=n}};function iT(n,e,t,r,i,s,o,a,l){Zc=!1,Kf=null,nT.apply(rT,arguments)}function sT(n,e,t,r,i,s,o,a,l){if(iT.apply(this,arguments),Zc){if(Zc){var u=Kf;Zc=!1,Kf=null}else throw Error(O(198));Yf||(Yf=!0,i0=u)}}function xa(n){var e=n,t=n;if(n.alternate)for(;e.return;)e=e.return;else{n=e;do e=n,e.flags&4098&&(t=e.return),n=e.return;while(n)}return e.tag===3?t:null}function nE(n){if(n.tag===13){var e=n.memoizedState;if(e===null&&(n=n.alternate,n!==null&&(e=n.memoizedState)),e!==null)return e.dehydrated}return null}function sx(n){if(xa(n)!==n)throw Error(O(188))}function oT(n){var e=n.alternate;if(!e){if(e=xa(n),e===null)throw Error(O(188));return e!==n?null:n}for(var t=n,r=e;;){var i=t.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){t=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===t)return sx(i),n;if(s===r)return sx(i),e;s=s.sibling}throw Error(O(188))}if(t.return!==r.return)t=i,r=s;else{for(var o=!1,a=i.child;a;){if(a===t){o=!0,t=i,r=s;break}if(a===r){o=!0,r=i,t=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===t){o=!0,t=s,r=i;break}if(a===r){o=!0,r=s,t=i;break}a=a.sibling}if(!o)throw Error(O(189))}}if(t.alternate!==r)throw Error(O(190))}if(t.tag!==3)throw Error(O(188));return t.stateNode.current===t?n:e}function rE(n){return n=oT(n),n!==null?iE(n):null}function iE(n){if(n.tag===5||n.tag===6)return n;for(n=n.child;n!==null;){var e=iE(n);if(e!==null)return e;n=n.sibling}return null}var sE=An.unstable_scheduleCallback,ox=An.unstable_cancelCallback,aT=An.unstable_shouldYield,lT=An.unstable_requestPaint,We=An.unstable_now,cT=An.unstable_getCurrentPriorityLevel,Ly=An.unstable_ImmediatePriority,oE=An.unstable_UserBlockingPriority,Qf=An.unstable_NormalPriority,uT=An.unstable_LowPriority,aE=An.unstable_IdlePriority,nm=null,Or=null;function dT(n){if(Or&&typeof Or.onCommitFiberRoot=="function")try{Or.onCommitFiberRoot(nm,n,void 0,(n.current.flags&128)===128)}catch{}}var cr=Math.clz32?Math.clz32:pT,hT=Math.log,fT=Math.LN2;function pT(n){return n>>>=0,n===0?32:31-(hT(n)/fT|0)|0}var jh=64,$h=4194304;function Dc(n){switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return n&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return n}}function Zf(n,e){var t=n.pendingLanes;if(t===0)return 0;var r=0,i=n.suspendedLanes,s=n.pingedLanes,o=t&268435455;if(o!==0){var a=o&~i;a!==0?r=Dc(a):(s&=o,s!==0&&(r=Dc(s)))}else o=t&~i,o!==0?r=Dc(o):s!==0&&(r=Dc(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=t&16),e=n.entangledLanes,e!==0)for(n=n.entanglements,e&=r;0<e;)t=31-cr(e),i=1<<t,r|=n[t],e&=~i;return r}function mT(n,e){switch(n){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function gT(n,e){for(var t=n.suspendedLanes,r=n.pingedLanes,i=n.expirationTimes,s=n.pendingLanes;0<s;){var o=31-cr(s),a=1<<o,l=i[o];l===-1?(!(a&t)||a&r)&&(i[o]=mT(a,e)):l<=e&&(n.expiredLanes|=a),s&=~a}}function s0(n){return n=n.pendingLanes&-1073741825,n!==0?n:n&1073741824?1073741824:0}function lE(){var n=jh;return jh<<=1,!(jh&4194240)&&(jh=64),n}function eg(n){for(var e=[],t=0;31>t;t++)e.push(n);return e}function ph(n,e,t){n.pendingLanes|=e,e!==536870912&&(n.suspendedLanes=0,n.pingedLanes=0),n=n.eventTimes,e=31-cr(e),n[e]=t}function vT(n,e){var t=n.pendingLanes&~e;n.pendingLanes=e,n.suspendedLanes=0,n.pingedLanes=0,n.expiredLanes&=e,n.mutableReadLanes&=e,n.entangledLanes&=e,e=n.entanglements;var r=n.eventTimes;for(n=n.expirationTimes;0<t;){var i=31-cr(t),s=1<<i;e[i]=0,r[i]=-1,n[i]=-1,t&=~s}}function My(n,e){var t=n.entangledLanes|=e;for(n=n.entanglements;t;){var r=31-cr(t),i=1<<r;i&e|n[r]&e&&(n[r]|=e),t&=~i}}var ve=0;function cE(n){return n&=-n,1<n?4<n?n&268435455?16:536870912:4:1}var uE,Ny,dE,hE,fE,o0=!1,Hh=[],bs=null,Es=null,As=null,pu=new Map,mu=new Map,Xi=[],yT="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function ax(n,e){switch(n){case"focusin":case"focusout":bs=null;break;case"dragenter":case"dragleave":Es=null;break;case"mouseover":case"mouseout":As=null;break;case"pointerover":case"pointerout":pu.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":mu.delete(e.pointerId)}}function bc(n,e,t,r,i,s){return n===null||n.nativeEvent!==s?(n={blockedOn:e,domEventName:t,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=gh(e),e!==null&&Ny(e)),n):(n.eventSystemFlags|=r,e=n.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),n)}function xT(n,e,t,r,i){switch(e){case"focusin":return bs=bc(bs,n,e,t,r,i),!0;case"dragenter":return Es=bc(Es,n,e,t,r,i),!0;case"mouseover":return As=bc(As,n,e,t,r,i),!0;case"pointerover":var s=i.pointerId;return pu.set(s,bc(pu.get(s)||null,n,e,t,r,i)),!0;case"gotpointercapture":return s=i.pointerId,mu.set(s,bc(mu.get(s)||null,n,e,t,r,i)),!0}return!1}function pE(n){var e=Qs(n.target);if(e!==null){var t=xa(e);if(t!==null){if(e=t.tag,e===13){if(e=nE(t),e!==null){n.blockedOn=e,fE(n.priority,function(){dE(t)});return}}else if(e===3&&t.stateNode.current.memoizedState.isDehydrated){n.blockedOn=t.tag===3?t.stateNode.containerInfo:null;return}}}n.blockedOn=null}function lf(n){if(n.blockedOn!==null)return!1;for(var e=n.targetContainers;0<e.length;){var t=a0(n.domEventName,n.eventSystemFlags,e[0],n.nativeEvent);if(t===null){t=n.nativeEvent;var r=new t.constructor(t.type,t);t0=r,t.target.dispatchEvent(r),t0=null}else return e=gh(t),e!==null&&Ny(e),n.blockedOn=t,!1;e.shift()}return!0}function lx(n,e,t){lf(n)&&t.delete(e)}function wT(){o0=!1,bs!==null&&lf(bs)&&(bs=null),Es!==null&&lf(Es)&&(Es=null),As!==null&&lf(As)&&(As=null),pu.forEach(lx),mu.forEach(lx)}function Ec(n,e){n.blockedOn===e&&(n.blockedOn=null,o0||(o0=!0,An.unstable_scheduleCallback(An.unstable_NormalPriority,wT)))}function gu(n){function e(i){return Ec(i,n)}if(0<Hh.length){Ec(Hh[0],n);for(var t=1;t<Hh.length;t++){var r=Hh[t];r.blockedOn===n&&(r.blockedOn=null)}}for(bs!==null&&Ec(bs,n),Es!==null&&Ec(Es,n),As!==null&&Ec(As,n),pu.forEach(e),mu.forEach(e),t=0;t<Xi.length;t++)r=Xi[t],r.blockedOn===n&&(r.blockedOn=null);for(;0<Xi.length&&(t=Xi[0],t.blockedOn===null);)pE(t),t.blockedOn===null&&Xi.shift()}var Ya=Ii.ReactCurrentBatchConfig,Jf=!0;function bT(n,e,t,r){var i=ve,s=Ya.transition;Ya.transition=null;try{ve=1,Dy(n,e,t,r)}finally{ve=i,Ya.transition=s}}function ET(n,e,t,r){var i=ve,s=Ya.transition;Ya.transition=null;try{ve=4,Dy(n,e,t,r)}finally{ve=i,Ya.transition=s}}function Dy(n,e,t,r){if(Jf){var i=a0(n,e,t,r);if(i===null)ug(n,e,r,ep,t),ax(n,r);else if(xT(i,n,e,t,r))r.stopPropagation();else if(ax(n,r),e&4&&-1<yT.indexOf(n)){for(;i!==null;){var s=gh(i);if(s!==null&&uE(s),s=a0(n,e,t,r),s===null&&ug(n,e,r,ep,t),s===i)break;i=s}i!==null&&r.stopPropagation()}else ug(n,e,r,null,t)}}var ep=null;function a0(n,e,t,r){if(ep=null,n=Ry(r),n=Qs(n),n!==null)if(e=xa(n),e===null)n=null;else if(t=e.tag,t===13){if(n=nE(e),n!==null)return n;n=null}else if(t===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;n=null}else e!==n&&(n=null);return ep=n,null}function mE(n){switch(n){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(cT()){case Ly:return 1;case oE:return 4;case Qf:case uT:return 16;case aE:return 536870912;default:return 16}default:return 16}}var vs=null,Fy=null,cf=null;function gE(){if(cf)return cf;var n,e=Fy,t=e.length,r,i="value"in vs?vs.value:vs.textContent,s=i.length;for(n=0;n<t&&e[n]===i[n];n++);var o=t-n;for(r=1;r<=o&&e[t-r]===i[s-r];r++);return cf=i.slice(n,1<r?1-r:void 0)}function uf(n){var e=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&e===13&&(n=13)):n=e,n===10&&(n=13),32<=n||n===13?n:0}function Bh(){return!0}function cx(){return!1}function _n(n){function e(t,r,i,s,o){this._reactName=t,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in n)n.hasOwnProperty(a)&&(t=n[a],this[a]=t?t(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?Bh:cx,this.isPropagationStopped=cx,this}return je(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var t=this.nativeEvent;t&&(t.preventDefault?t.preventDefault():typeof t.returnValue!="unknown"&&(t.returnValue=!1),this.isDefaultPrevented=Bh)},stopPropagation:function(){var t=this.nativeEvent;t&&(t.stopPropagation?t.stopPropagation():typeof t.cancelBubble!="unknown"&&(t.cancelBubble=!0),this.isPropagationStopped=Bh)},persist:function(){},isPersistent:Bh}),e}var ac={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Iy=_n(ac),mh=je({},ac,{view:0,detail:0}),AT=_n(mh),tg,ng,Ac,rm=je({},mh,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Oy,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==Ac&&(Ac&&n.type==="mousemove"?(tg=n.screenX-Ac.screenX,ng=n.screenY-Ac.screenY):ng=tg=0,Ac=n),tg)},movementY:function(n){return"movementY"in n?n.movementY:ng}}),ux=_n(rm),ST=je({},rm,{dataTransfer:0}),_T=_n(ST),CT=je({},mh,{relatedTarget:0}),rg=_n(CT),TT=je({},ac,{animationName:0,elapsedTime:0,pseudoElement:0}),kT=_n(TT),PT=je({},ac,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),RT=_n(PT),LT=je({},ac,{data:0}),dx=_n(LT),MT={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},NT={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},DT={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function FT(n){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(n):(n=DT[n])?!!e[n]:!1}function Oy(){return FT}var IT=je({},mh,{key:function(n){if(n.key){var e=MT[n.key]||n.key;if(e!=="Unidentified")return e}return n.type==="keypress"?(n=uf(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?NT[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Oy,charCode:function(n){return n.type==="keypress"?uf(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?uf(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),OT=_n(IT),jT=je({},rm,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),hx=_n(jT),$T=je({},mh,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Oy}),HT=_n($T),BT=je({},ac,{propertyName:0,elapsedTime:0,pseudoElement:0}),zT=_n(BT),UT=je({},rm,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),VT=_n(UT),WT=[9,13,27,32],jy=Ri&&"CompositionEvent"in window,Jc=null;Ri&&"documentMode"in document&&(Jc=document.documentMode);var GT=Ri&&"TextEvent"in window&&!Jc,vE=Ri&&(!jy||Jc&&8<Jc&&11>=Jc),fx=" ",px=!1;function yE(n,e){switch(n){case"keyup":return WT.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function xE(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var Ia=!1;function qT(n,e){switch(n){case"compositionend":return xE(e);case"keypress":return e.which!==32?null:(px=!0,fx);case"textInput":return n=e.data,n===fx&&px?null:n;default:return null}}function XT(n,e){if(Ia)return n==="compositionend"||!jy&&yE(n,e)?(n=gE(),cf=Fy=vs=null,Ia=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return vE&&e.locale!=="ko"?null:e.data;default:return null}}var KT={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function mx(n){var e=n&&n.nodeName&&n.nodeName.toLowerCase();return e==="input"?!!KT[n.type]:e==="textarea"}function wE(n,e,t,r){Qb(r),e=tp(e,"onChange"),0<e.length&&(t=new Iy("onChange","change",null,t,r),n.push({event:t,listeners:e}))}var eu=null,vu=null;function YT(n){LE(n,0)}function im(n){var e=$a(n);if(Vb(e))return n}function QT(n,e){if(n==="change")return e}var bE=!1;if(Ri){var ig;if(Ri){var sg="oninput"in document;if(!sg){var gx=document.createElement("div");gx.setAttribute("oninput","return;"),sg=typeof gx.oninput=="function"}ig=sg}else ig=!1;bE=ig&&(!document.documentMode||9<document.documentMode)}function vx(){eu&&(eu.detachEvent("onpropertychange",EE),vu=eu=null)}function EE(n){if(n.propertyName==="value"&&im(vu)){var e=[];wE(e,vu,n,Ry(n)),tE(YT,e)}}function ZT(n,e,t){n==="focusin"?(vx(),eu=e,vu=t,eu.attachEvent("onpropertychange",EE)):n==="focusout"&&vx()}function JT(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return im(vu)}function ek(n,e){if(n==="click")return im(e)}function tk(n,e){if(n==="input"||n==="change")return im(e)}function nk(n,e){return n===e&&(n!==0||1/n===1/e)||n!==n&&e!==e}var hr=typeof Object.is=="function"?Object.is:nk;function yu(n,e){if(hr(n,e))return!0;if(typeof n!="object"||n===null||typeof e!="object"||e===null)return!1;var t=Object.keys(n),r=Object.keys(e);if(t.length!==r.length)return!1;for(r=0;r<t.length;r++){var i=t[r];if(!Ug.call(e,i)||!hr(n[i],e[i]))return!1}return!0}function yx(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function xx(n,e){var t=yx(n);n=0;for(var r;t;){if(t.nodeType===3){if(r=n+t.textContent.length,n<=e&&r>=e)return{node:t,offset:e-n};n=r}e:{for(;t;){if(t.nextSibling){t=t.nextSibling;break e}t=t.parentNode}t=void 0}t=yx(t)}}function AE(n,e){return n&&e?n===e?!0:n&&n.nodeType===3?!1:e&&e.nodeType===3?AE(n,e.parentNode):"contains"in n?n.contains(e):n.compareDocumentPosition?!!(n.compareDocumentPosition(e)&16):!1:!1}function SE(){for(var n=window,e=Xf();e instanceof n.HTMLIFrameElement;){try{var t=typeof e.contentWindow.location.href=="string"}catch{t=!1}if(t)n=e.contentWindow;else break;e=Xf(n.document)}return e}function $y(n){var e=n&&n.nodeName&&n.nodeName.toLowerCase();return e&&(e==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||e==="textarea"||n.contentEditable==="true")}function rk(n){var e=SE(),t=n.focusedElem,r=n.selectionRange;if(e!==t&&t&&t.ownerDocument&&AE(t.ownerDocument.documentElement,t)){if(r!==null&&$y(t)){if(e=r.start,n=r.end,n===void 0&&(n=e),"selectionStart"in t)t.selectionStart=e,t.selectionEnd=Math.min(n,t.value.length);else if(n=(e=t.ownerDocument||document)&&e.defaultView||window,n.getSelection){n=n.getSelection();var i=t.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!n.extend&&s>r&&(i=r,r=s,s=i),i=xx(t,s);var o=xx(t,r);i&&o&&(n.rangeCount!==1||n.anchorNode!==i.node||n.anchorOffset!==i.offset||n.focusNode!==o.node||n.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),n.removeAllRanges(),s>r?(n.addRange(e),n.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),n.addRange(e)))}}for(e=[],n=t;n=n.parentNode;)n.nodeType===1&&e.push({element:n,left:n.scrollLeft,top:n.scrollTop});for(typeof t.focus=="function"&&t.focus(),t=0;t<e.length;t++)n=e[t],n.element.scrollLeft=n.left,n.element.scrollTop=n.top}}var ik=Ri&&"documentMode"in document&&11>=document.documentMode,Oa=null,l0=null,tu=null,c0=!1;function wx(n,e,t){var r=t.window===t?t.document:t.nodeType===9?t:t.ownerDocument;c0||Oa==null||Oa!==Xf(r)||(r=Oa,"selectionStart"in r&&$y(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),tu&&yu(tu,r)||(tu=r,r=tp(l0,"onSelect"),0<r.length&&(e=new Iy("onSelect","select",null,e,t),n.push({event:e,listeners:r}),e.target=Oa)))}function zh(n,e){var t={};return t[n.toLowerCase()]=e.toLowerCase(),t["Webkit"+n]="webkit"+e,t["Moz"+n]="moz"+e,t}var ja={animationend:zh("Animation","AnimationEnd"),animationiteration:zh("Animation","AnimationIteration"),animationstart:zh("Animation","AnimationStart"),transitionend:zh("Transition","TransitionEnd")},og={},_E={};Ri&&(_E=document.createElement("div").style,"AnimationEvent"in window||(delete ja.animationend.animation,delete ja.animationiteration.animation,delete ja.animationstart.animation),"TransitionEvent"in window||delete ja.transitionend.transition);function sm(n){if(og[n])return og[n];if(!ja[n])return n;var e=ja[n],t;for(t in e)if(e.hasOwnProperty(t)&&t in _E)return og[n]=e[t];return n}var CE=sm("animationend"),TE=sm("animationiteration"),kE=sm("animationstart"),PE=sm("transitionend"),RE=new Map,bx="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function js(n,e){RE.set(n,e),ya(e,[n])}for(var ag=0;ag<bx.length;ag++){var lg=bx[ag],sk=lg.toLowerCase(),ok=lg[0].toUpperCase()+lg.slice(1);js(sk,"on"+ok)}js(CE,"onAnimationEnd");js(TE,"onAnimationIteration");js(kE,"onAnimationStart");js("dblclick","onDoubleClick");js("focusin","onFocus");js("focusout","onBlur");js(PE,"onTransitionEnd");Ql("onMouseEnter",["mouseout","mouseover"]);Ql("onMouseLeave",["mouseout","mouseover"]);Ql("onPointerEnter",["pointerout","pointerover"]);Ql("onPointerLeave",["pointerout","pointerover"]);ya("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));ya("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));ya("onBeforeInput",["compositionend","keypress","textInput","paste"]);ya("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));ya("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));ya("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Fc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),ak=new Set("cancel close invalid load scroll toggle".split(" ").concat(Fc));function Ex(n,e,t){var r=n.type||"unknown-event";n.currentTarget=t,sT(r,e,void 0,n),n.currentTarget=null}function LE(n,e){e=(e&4)!==0;for(var t=0;t<n.length;t++){var r=n[t],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==s&&i.isPropagationStopped())break e;Ex(i,a,u),s=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,u=a.currentTarget,a=a.listener,l!==s&&i.isPropagationStopped())break e;Ex(i,a,u),s=l}}}if(Yf)throw n=i0,Yf=!1,i0=null,n}function Te(n,e){var t=e[p0];t===void 0&&(t=e[p0]=new Set);var r=n+"__bubble";t.has(r)||(ME(e,n,2,!1),t.add(r))}function cg(n,e,t){var r=0;e&&(r|=4),ME(t,n,r,e)}var Uh="_reactListening"+Math.random().toString(36).slice(2);function xu(n){if(!n[Uh]){n[Uh]=!0,$b.forEach(function(t){t!=="selectionchange"&&(ak.has(t)||cg(t,!1,n),cg(t,!0,n))});var e=n.nodeType===9?n:n.ownerDocument;e===null||e[Uh]||(e[Uh]=!0,cg("selectionchange",!1,e))}}function ME(n,e,t,r){switch(mE(e)){case 1:var i=bT;break;case 4:i=ET;break;default:i=Dy}t=i.bind(null,e,t,n),i=void 0,!r0||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?n.addEventListener(e,t,{capture:!0,passive:i}):n.addEventListener(e,t,!0):i!==void 0?n.addEventListener(e,t,{passive:i}):n.addEventListener(e,t,!1)}function ug(n,e,t,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;o=o.return}for(;a!==null;){if(o=Qs(a),o===null)return;if(l=o.tag,l===5||l===6){r=s=o;continue e}a=a.parentNode}}r=r.return}tE(function(){var u=s,d=Ry(t),h=[];e:{var f=RE.get(n);if(f!==void 0){var p=Iy,m=n;switch(n){case"keypress":if(uf(t)===0)break e;case"keydown":case"keyup":p=OT;break;case"focusin":m="focus",p=rg;break;case"focusout":m="blur",p=rg;break;case"beforeblur":case"afterblur":p=rg;break;case"click":if(t.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=ux;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=_T;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=HT;break;case CE:case TE:case kE:p=kT;break;case PE:p=zT;break;case"scroll":p=AT;break;case"wheel":p=VT;break;case"copy":case"cut":case"paste":p=RT;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=hx}var v=(e&4)!==0,b=!v&&n==="scroll",g=v?f!==null?f+"Capture":null:f;v=[];for(var y=u,x;y!==null;){x=y;var C=x.stateNode;if(x.tag===5&&C!==null&&(x=C,g!==null&&(C=fu(y,g),C!=null&&v.push(wu(y,C,x)))),b)break;y=y.return}0<v.length&&(f=new p(f,m,null,t,d),h.push({event:f,listeners:v}))}}if(!(e&7)){e:{if(f=n==="mouseover"||n==="pointerover",p=n==="mouseout"||n==="pointerout",f&&t!==t0&&(m=t.relatedTarget||t.fromElement)&&(Qs(m)||m[Li]))break e;if((p||f)&&(f=d.window===d?d:(f=d.ownerDocument)?f.defaultView||f.parentWindow:window,p?(m=t.relatedTarget||t.toElement,p=u,m=m?Qs(m):null,m!==null&&(b=xa(m),m!==b||m.tag!==5&&m.tag!==6)&&(m=null)):(p=null,m=u),p!==m)){if(v=ux,C="onMouseLeave",g="onMouseEnter",y="mouse",(n==="pointerout"||n==="pointerover")&&(v=hx,C="onPointerLeave",g="onPointerEnter",y="pointer"),b=p==null?f:$a(p),x=m==null?f:$a(m),f=new v(C,y+"leave",p,t,d),f.target=b,f.relatedTarget=x,C=null,Qs(d)===u&&(v=new v(g,y+"enter",m,t,d),v.target=x,v.relatedTarget=b,C=v),b=C,p&&m)t:{for(v=p,g=m,y=0,x=v;x;x=Ca(x))y++;for(x=0,C=g;C;C=Ca(C))x++;for(;0<y-x;)v=Ca(v),y--;for(;0<x-y;)g=Ca(g),x--;for(;y--;){if(v===g||g!==null&&v===g.alternate)break t;v=Ca(v),g=Ca(g)}v=null}else v=null;p!==null&&Ax(h,f,p,v,!1),m!==null&&b!==null&&Ax(h,b,m,v,!0)}}e:{if(f=u?$a(u):window,p=f.nodeName&&f.nodeName.toLowerCase(),p==="select"||p==="input"&&f.type==="file")var T=QT;else if(mx(f))if(bE)T=tk;else{T=JT;var k=ZT}else(p=f.nodeName)&&p.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(T=ek);if(T&&(T=T(n,u))){wE(h,T,t,d);break e}k&&k(n,f,u),n==="focusout"&&(k=f._wrapperState)&&k.controlled&&f.type==="number"&&Yg(f,"number",f.value)}switch(k=u?$a(u):window,n){case"focusin":(mx(k)||k.contentEditable==="true")&&(Oa=k,l0=u,tu=null);break;case"focusout":tu=l0=Oa=null;break;case"mousedown":c0=!0;break;case"contextmenu":case"mouseup":case"dragend":c0=!1,wx(h,t,d);break;case"selectionchange":if(ik)break;case"keydown":case"keyup":wx(h,t,d)}var P;if(jy)e:{switch(n){case"compositionstart":var R="onCompositionStart";break e;case"compositionend":R="onCompositionEnd";break e;case"compositionupdate":R="onCompositionUpdate";break e}R=void 0}else Ia?yE(n,t)&&(R="onCompositionEnd"):n==="keydown"&&t.keyCode===229&&(R="onCompositionStart");R&&(vE&&t.locale!=="ko"&&(Ia||R!=="onCompositionStart"?R==="onCompositionEnd"&&Ia&&(P=gE()):(vs=d,Fy="value"in vs?vs.value:vs.textContent,Ia=!0)),k=tp(u,R),0<k.length&&(R=new dx(R,n,null,t,d),h.push({event:R,listeners:k}),P?R.data=P:(P=xE(t),P!==null&&(R.data=P)))),(P=GT?qT(n,t):XT(n,t))&&(u=tp(u,"onBeforeInput"),0<u.length&&(d=new dx("onBeforeInput","beforeinput",null,t,d),h.push({event:d,listeners:u}),d.data=P))}LE(h,e)})}function wu(n,e,t){return{instance:n,listener:e,currentTarget:t}}function tp(n,e){for(var t=e+"Capture",r=[];n!==null;){var i=n,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=fu(n,t),s!=null&&r.unshift(wu(n,s,i)),s=fu(n,e),s!=null&&r.push(wu(n,s,i))),n=n.return}return r}function Ca(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5);return n||null}function Ax(n,e,t,r,i){for(var s=e._reactName,o=[];t!==null&&t!==r;){var a=t,l=a.alternate,u=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&u!==null&&(a=u,i?(l=fu(t,s),l!=null&&o.unshift(wu(t,l,a))):i||(l=fu(t,s),l!=null&&o.push(wu(t,l,a)))),t=t.return}o.length!==0&&n.push({event:e,listeners:o})}var lk=/\r\n?/g,ck=/\u0000|\uFFFD/g;function Sx(n){return(typeof n=="string"?n:""+n).replace(lk,`
`).replace(ck,"")}function Vh(n,e,t){if(e=Sx(e),Sx(n)!==e&&t)throw Error(O(425))}function np(){}var u0=null,d0=null;function h0(n,e){return n==="textarea"||n==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var f0=typeof setTimeout=="function"?setTimeout:void 0,uk=typeof clearTimeout=="function"?clearTimeout:void 0,_x=typeof Promise=="function"?Promise:void 0,dk=typeof queueMicrotask=="function"?queueMicrotask:typeof _x<"u"?function(n){return _x.resolve(null).then(n).catch(hk)}:f0;function hk(n){setTimeout(function(){throw n})}function dg(n,e){var t=e,r=0;do{var i=t.nextSibling;if(n.removeChild(t),i&&i.nodeType===8)if(t=i.data,t==="/$"){if(r===0){n.removeChild(i),gu(e);return}r--}else t!=="$"&&t!=="$?"&&t!=="$!"||r++;t=i}while(t);gu(e)}function Ss(n){for(;n!=null;n=n.nextSibling){var e=n.nodeType;if(e===1||e===3)break;if(e===8){if(e=n.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return n}function Cx(n){n=n.previousSibling;for(var e=0;n;){if(n.nodeType===8){var t=n.data;if(t==="$"||t==="$!"||t==="$?"){if(e===0)return n;e--}else t==="/$"&&e++}n=n.previousSibling}return null}var lc=Math.random().toString(36).slice(2),Ir="__reactFiber$"+lc,bu="__reactProps$"+lc,Li="__reactContainer$"+lc,p0="__reactEvents$"+lc,fk="__reactListeners$"+lc,pk="__reactHandles$"+lc;function Qs(n){var e=n[Ir];if(e)return e;for(var t=n.parentNode;t;){if(e=t[Li]||t[Ir]){if(t=e.alternate,e.child!==null||t!==null&&t.child!==null)for(n=Cx(n);n!==null;){if(t=n[Ir])return t;n=Cx(n)}return e}n=t,t=n.parentNode}return null}function gh(n){return n=n[Ir]||n[Li],!n||n.tag!==5&&n.tag!==6&&n.tag!==13&&n.tag!==3?null:n}function $a(n){if(n.tag===5||n.tag===6)return n.stateNode;throw Error(O(33))}function om(n){return n[bu]||null}var m0=[],Ha=-1;function $s(n){return{current:n}}function ke(n){0>Ha||(n.current=m0[Ha],m0[Ha]=null,Ha--)}function Ce(n,e){Ha++,m0[Ha]=n.current,n.current=e}var Ls={},Lt=$s(Ls),tn=$s(!1),ra=Ls;function Zl(n,e){var t=n.type.contextTypes;if(!t)return Ls;var r=n.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in t)i[s]=e[s];return r&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=e,n.__reactInternalMemoizedMaskedChildContext=i),i}function nn(n){return n=n.childContextTypes,n!=null}function rp(){ke(tn),ke(Lt)}function Tx(n,e,t){if(Lt.current!==Ls)throw Error(O(168));Ce(Lt,e),Ce(tn,t)}function NE(n,e,t){var r=n.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return t;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(O(108,Z2(n)||"Unknown",i));return je({},t,r)}function ip(n){return n=(n=n.stateNode)&&n.__reactInternalMemoizedMergedChildContext||Ls,ra=Lt.current,Ce(Lt,n),Ce(tn,tn.current),!0}function kx(n,e,t){var r=n.stateNode;if(!r)throw Error(O(169));t?(n=NE(n,e,ra),r.__reactInternalMemoizedMergedChildContext=n,ke(tn),ke(Lt),Ce(Lt,n)):ke(tn),Ce(tn,t)}var Qr=null,am=!1,hg=!1;function DE(n){Qr===null?Qr=[n]:Qr.push(n)}function mk(n){am=!0,DE(n)}function Hs(){if(!hg&&Qr!==null){hg=!0;var n=0,e=ve;try{var t=Qr;for(ve=1;n<t.length;n++){var r=t[n];do r=r(!0);while(r!==null)}Qr=null,am=!1}catch(i){throw Qr!==null&&(Qr=Qr.slice(n+1)),sE(Ly,Hs),i}finally{ve=e,hg=!1}}return null}var Ba=[],za=0,sp=null,op=0,Mn=[],Nn=0,ia=null,Ai=1,Si="";function Vs(n,e){Ba[za++]=op,Ba[za++]=sp,sp=n,op=e}function FE(n,e,t){Mn[Nn++]=Ai,Mn[Nn++]=Si,Mn[Nn++]=ia,ia=n;var r=Ai;n=Si;var i=32-cr(r)-1;r&=~(1<<i),t+=1;var s=32-cr(e)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,Ai=1<<32-cr(e)+i|t<<i|r,Si=s+n}else Ai=1<<s|t<<i|r,Si=n}function Hy(n){n.return!==null&&(Vs(n,1),FE(n,1,0))}function By(n){for(;n===sp;)sp=Ba[--za],Ba[za]=null,op=Ba[--za],Ba[za]=null;for(;n===ia;)ia=Mn[--Nn],Mn[Nn]=null,Si=Mn[--Nn],Mn[Nn]=null,Ai=Mn[--Nn],Mn[Nn]=null}var bn=null,wn=null,Re=!1,lr=null;function IE(n,e){var t=On(5,null,null,0);t.elementType="DELETED",t.stateNode=e,t.return=n,e=n.deletions,e===null?(n.deletions=[t],n.flags|=16):e.push(t)}function Px(n,e){switch(n.tag){case 5:var t=n.type;return e=e.nodeType!==1||t.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(n.stateNode=e,bn=n,wn=Ss(e.firstChild),!0):!1;case 6:return e=n.pendingProps===""||e.nodeType!==3?null:e,e!==null?(n.stateNode=e,bn=n,wn=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(t=ia!==null?{id:Ai,overflow:Si}:null,n.memoizedState={dehydrated:e,treeContext:t,retryLane:1073741824},t=On(18,null,null,0),t.stateNode=e,t.return=n,n.child=t,bn=n,wn=null,!0):!1;default:return!1}}function g0(n){return(n.mode&1)!==0&&(n.flags&128)===0}function v0(n){if(Re){var e=wn;if(e){var t=e;if(!Px(n,e)){if(g0(n))throw Error(O(418));e=Ss(t.nextSibling);var r=bn;e&&Px(n,e)?IE(r,t):(n.flags=n.flags&-4097|2,Re=!1,bn=n)}}else{if(g0(n))throw Error(O(418));n.flags=n.flags&-4097|2,Re=!1,bn=n}}}function Rx(n){for(n=n.return;n!==null&&n.tag!==5&&n.tag!==3&&n.tag!==13;)n=n.return;bn=n}function Wh(n){if(n!==bn)return!1;if(!Re)return Rx(n),Re=!0,!1;var e;if((e=n.tag!==3)&&!(e=n.tag!==5)&&(e=n.type,e=e!=="head"&&e!=="body"&&!h0(n.type,n.memoizedProps)),e&&(e=wn)){if(g0(n))throw OE(),Error(O(418));for(;e;)IE(n,e),e=Ss(e.nextSibling)}if(Rx(n),n.tag===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(O(317));e:{for(n=n.nextSibling,e=0;n;){if(n.nodeType===8){var t=n.data;if(t==="/$"){if(e===0){wn=Ss(n.nextSibling);break e}e--}else t!=="$"&&t!=="$!"&&t!=="$?"||e++}n=n.nextSibling}wn=null}}else wn=bn?Ss(n.stateNode.nextSibling):null;return!0}function OE(){for(var n=wn;n;)n=Ss(n.nextSibling)}function Jl(){wn=bn=null,Re=!1}function zy(n){lr===null?lr=[n]:lr.push(n)}var gk=Ii.ReactCurrentBatchConfig;function Sc(n,e,t){if(n=t.ref,n!==null&&typeof n!="function"&&typeof n!="object"){if(t._owner){if(t=t._owner,t){if(t.tag!==1)throw Error(O(309));var r=t.stateNode}if(!r)throw Error(O(147,n));var i=r,s=""+n;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var a=i.refs;o===null?delete a[s]:a[s]=o},e._stringRef=s,e)}if(typeof n!="string")throw Error(O(284));if(!t._owner)throw Error(O(290,n))}return n}function Gh(n,e){throw n=Object.prototype.toString.call(e),Error(O(31,n==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":n))}function Lx(n){var e=n._init;return e(n._payload)}function jE(n){function e(g,y){if(n){var x=g.deletions;x===null?(g.deletions=[y],g.flags|=16):x.push(y)}}function t(g,y){if(!n)return null;for(;y!==null;)e(g,y),y=y.sibling;return null}function r(g,y){for(g=new Map;y!==null;)y.key!==null?g.set(y.key,y):g.set(y.index,y),y=y.sibling;return g}function i(g,y){return g=ks(g,y),g.index=0,g.sibling=null,g}function s(g,y,x){return g.index=x,n?(x=g.alternate,x!==null?(x=x.index,x<y?(g.flags|=2,y):x):(g.flags|=2,y)):(g.flags|=1048576,y)}function o(g){return n&&g.alternate===null&&(g.flags|=2),g}function a(g,y,x,C){return y===null||y.tag!==6?(y=xg(x,g.mode,C),y.return=g,y):(y=i(y,x),y.return=g,y)}function l(g,y,x,C){var T=x.type;return T===Fa?d(g,y,x.props.children,C,x.key):y!==null&&(y.elementType===T||typeof T=="object"&&T!==null&&T.$$typeof===Gi&&Lx(T)===y.type)?(C=i(y,x.props),C.ref=Sc(g,y,x),C.return=g,C):(C=vf(x.type,x.key,x.props,null,g.mode,C),C.ref=Sc(g,y,x),C.return=g,C)}function u(g,y,x,C){return y===null||y.tag!==4||y.stateNode.containerInfo!==x.containerInfo||y.stateNode.implementation!==x.implementation?(y=wg(x,g.mode,C),y.return=g,y):(y=i(y,x.children||[]),y.return=g,y)}function d(g,y,x,C,T){return y===null||y.tag!==7?(y=Jo(x,g.mode,C,T),y.return=g,y):(y=i(y,x),y.return=g,y)}function h(g,y,x){if(typeof y=="string"&&y!==""||typeof y=="number")return y=xg(""+y,g.mode,x),y.return=g,y;if(typeof y=="object"&&y!==null){switch(y.$$typeof){case Fh:return x=vf(y.type,y.key,y.props,null,g.mode,x),x.ref=Sc(g,null,y),x.return=g,x;case Da:return y=wg(y,g.mode,x),y.return=g,y;case Gi:var C=y._init;return h(g,C(y._payload),x)}if(Nc(y)||xc(y))return y=Jo(y,g.mode,x,null),y.return=g,y;Gh(g,y)}return null}function f(g,y,x,C){var T=y!==null?y.key:null;if(typeof x=="string"&&x!==""||typeof x=="number")return T!==null?null:a(g,y,""+x,C);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case Fh:return x.key===T?l(g,y,x,C):null;case Da:return x.key===T?u(g,y,x,C):null;case Gi:return T=x._init,f(g,y,T(x._payload),C)}if(Nc(x)||xc(x))return T!==null?null:d(g,y,x,C,null);Gh(g,x)}return null}function p(g,y,x,C,T){if(typeof C=="string"&&C!==""||typeof C=="number")return g=g.get(x)||null,a(y,g,""+C,T);if(typeof C=="object"&&C!==null){switch(C.$$typeof){case Fh:return g=g.get(C.key===null?x:C.key)||null,l(y,g,C,T);case Da:return g=g.get(C.key===null?x:C.key)||null,u(y,g,C,T);case Gi:var k=C._init;return p(g,y,x,k(C._payload),T)}if(Nc(C)||xc(C))return g=g.get(x)||null,d(y,g,C,T,null);Gh(y,C)}return null}function m(g,y,x,C){for(var T=null,k=null,P=y,R=y=0,F=null;P!==null&&R<x.length;R++){P.index>R?(F=P,P=null):F=P.sibling;var D=f(g,P,x[R],C);if(D===null){P===null&&(P=F);break}n&&P&&D.alternate===null&&e(g,P),y=s(D,y,R),k===null?T=D:k.sibling=D,k=D,P=F}if(R===x.length)return t(g,P),Re&&Vs(g,R),T;if(P===null){for(;R<x.length;R++)P=h(g,x[R],C),P!==null&&(y=s(P,y,R),k===null?T=P:k.sibling=P,k=P);return Re&&Vs(g,R),T}for(P=r(g,P);R<x.length;R++)F=p(P,g,R,x[R],C),F!==null&&(n&&F.alternate!==null&&P.delete(F.key===null?R:F.key),y=s(F,y,R),k===null?T=F:k.sibling=F,k=F);return n&&P.forEach(function(N){return e(g,N)}),Re&&Vs(g,R),T}function v(g,y,x,C){var T=xc(x);if(typeof T!="function")throw Error(O(150));if(x=T.call(x),x==null)throw Error(O(151));for(var k=T=null,P=y,R=y=0,F=null,D=x.next();P!==null&&!D.done;R++,D=x.next()){P.index>R?(F=P,P=null):F=P.sibling;var N=f(g,P,D.value,C);if(N===null){P===null&&(P=F);break}n&&P&&N.alternate===null&&e(g,P),y=s(N,y,R),k===null?T=N:k.sibling=N,k=N,P=F}if(D.done)return t(g,P),Re&&Vs(g,R),T;if(P===null){for(;!D.done;R++,D=x.next())D=h(g,D.value,C),D!==null&&(y=s(D,y,R),k===null?T=D:k.sibling=D,k=D);return Re&&Vs(g,R),T}for(P=r(g,P);!D.done;R++,D=x.next())D=p(P,g,R,D.value,C),D!==null&&(n&&D.alternate!==null&&P.delete(D.key===null?R:D.key),y=s(D,y,R),k===null?T=D:k.sibling=D,k=D);return n&&P.forEach(function(q){return e(g,q)}),Re&&Vs(g,R),T}function b(g,y,x,C){if(typeof x=="object"&&x!==null&&x.type===Fa&&x.key===null&&(x=x.props.children),typeof x=="object"&&x!==null){switch(x.$$typeof){case Fh:e:{for(var T=x.key,k=y;k!==null;){if(k.key===T){if(T=x.type,T===Fa){if(k.tag===7){t(g,k.sibling),y=i(k,x.props.children),y.return=g,g=y;break e}}else if(k.elementType===T||typeof T=="object"&&T!==null&&T.$$typeof===Gi&&Lx(T)===k.type){t(g,k.sibling),y=i(k,x.props),y.ref=Sc(g,k,x),y.return=g,g=y;break e}t(g,k);break}else e(g,k);k=k.sibling}x.type===Fa?(y=Jo(x.props.children,g.mode,C,x.key),y.return=g,g=y):(C=vf(x.type,x.key,x.props,null,g.mode,C),C.ref=Sc(g,y,x),C.return=g,g=C)}return o(g);case Da:e:{for(k=x.key;y!==null;){if(y.key===k)if(y.tag===4&&y.stateNode.containerInfo===x.containerInfo&&y.stateNode.implementation===x.implementation){t(g,y.sibling),y=i(y,x.children||[]),y.return=g,g=y;break e}else{t(g,y);break}else e(g,y);y=y.sibling}y=wg(x,g.mode,C),y.return=g,g=y}return o(g);case Gi:return k=x._init,b(g,y,k(x._payload),C)}if(Nc(x))return m(g,y,x,C);if(xc(x))return v(g,y,x,C);Gh(g,x)}return typeof x=="string"&&x!==""||typeof x=="number"?(x=""+x,y!==null&&y.tag===6?(t(g,y.sibling),y=i(y,x),y.return=g,g=y):(t(g,y),y=xg(x,g.mode,C),y.return=g,g=y),o(g)):t(g,y)}return b}var ec=jE(!0),$E=jE(!1),ap=$s(null),lp=null,Ua=null,Uy=null;function Vy(){Uy=Ua=lp=null}function Wy(n){var e=ap.current;ke(ap),n._currentValue=e}function y0(n,e,t){for(;n!==null;){var r=n.alternate;if((n.childLanes&e)!==e?(n.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),n===t)break;n=n.return}}function Qa(n,e){lp=n,Uy=Ua=null,n=n.dependencies,n!==null&&n.firstContext!==null&&(n.lanes&e&&(Qt=!0),n.firstContext=null)}function Bn(n){var e=n._currentValue;if(Uy!==n)if(n={context:n,memoizedValue:e,next:null},Ua===null){if(lp===null)throw Error(O(308));Ua=n,lp.dependencies={lanes:0,firstContext:n}}else Ua=Ua.next=n;return e}var Zs=null;function Gy(n){Zs===null?Zs=[n]:Zs.push(n)}function HE(n,e,t,r){var i=e.interleaved;return i===null?(t.next=t,Gy(e)):(t.next=i.next,i.next=t),e.interleaved=t,Mi(n,r)}function Mi(n,e){n.lanes|=e;var t=n.alternate;for(t!==null&&(t.lanes|=e),t=n,n=n.return;n!==null;)n.childLanes|=e,t=n.alternate,t!==null&&(t.childLanes|=e),t=n,n=n.return;return t.tag===3?t.stateNode:null}var qi=!1;function qy(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function BE(n,e){n=n.updateQueue,e.updateQueue===n&&(e.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,effects:n.effects})}function _i(n,e){return{eventTime:n,lane:e,tag:0,payload:null,callback:null,next:null}}function _s(n,e,t){var r=n.updateQueue;if(r===null)return null;if(r=r.shared,de&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,Mi(n,t)}return i=r.interleaved,i===null?(e.next=e,Gy(r)):(e.next=i.next,i.next=e),r.interleaved=e,Mi(n,t)}function df(n,e,t){if(e=e.updateQueue,e!==null&&(e=e.shared,(t&4194240)!==0)){var r=e.lanes;r&=n.pendingLanes,t|=r,e.lanes=t,My(n,t)}}function Mx(n,e){var t=n.updateQueue,r=n.alternate;if(r!==null&&(r=r.updateQueue,t===r)){var i=null,s=null;if(t=t.firstBaseUpdate,t!==null){do{var o={eventTime:t.eventTime,lane:t.lane,tag:t.tag,payload:t.payload,callback:t.callback,next:null};s===null?i=s=o:s=s.next=o,t=t.next}while(t!==null);s===null?i=s=e:s=s.next=e}else i=s=e;t={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},n.updateQueue=t;return}n=t.lastBaseUpdate,n===null?t.firstBaseUpdate=e:n.next=e,t.lastBaseUpdate=e}function cp(n,e,t,r){var i=n.updateQueue;qi=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,u=l.next;l.next=null,o===null?s=u:o.next=u,o=l;var d=n.alternate;d!==null&&(d=d.updateQueue,a=d.lastBaseUpdate,a!==o&&(a===null?d.firstBaseUpdate=u:a.next=u,d.lastBaseUpdate=l))}if(s!==null){var h=i.baseState;o=0,d=u=l=null,a=s;do{var f=a.lane,p=a.eventTime;if((r&f)===f){d!==null&&(d=d.next={eventTime:p,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var m=n,v=a;switch(f=e,p=t,v.tag){case 1:if(m=v.payload,typeof m=="function"){h=m.call(p,h,f);break e}h=m;break e;case 3:m.flags=m.flags&-65537|128;case 0:if(m=v.payload,f=typeof m=="function"?m.call(p,h,f):m,f==null)break e;h=je({},h,f);break e;case 2:qi=!0}}a.callback!==null&&a.lane!==0&&(n.flags|=64,f=i.effects,f===null?i.effects=[a]:f.push(a))}else p={eventTime:p,lane:f,tag:a.tag,payload:a.payload,callback:a.callback,next:null},d===null?(u=d=p,l=h):d=d.next=p,o|=f;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;f=a,a=f.next,f.next=null,i.lastBaseUpdate=f,i.shared.pending=null}}while(!0);if(d===null&&(l=h),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=d,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);oa|=o,n.lanes=o,n.memoizedState=h}}function Nx(n,e,t){if(n=e.effects,e.effects=null,n!==null)for(e=0;e<n.length;e++){var r=n[e],i=r.callback;if(i!==null){if(r.callback=null,r=t,typeof i!="function")throw Error(O(191,i));i.call(r)}}}var vh={},jr=$s(vh),Eu=$s(vh),Au=$s(vh);function Js(n){if(n===vh)throw Error(O(174));return n}function Xy(n,e){switch(Ce(Au,e),Ce(Eu,n),Ce(jr,vh),n=e.nodeType,n){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Zg(null,"");break;default:n=n===8?e.parentNode:e,e=n.namespaceURI||null,n=n.tagName,e=Zg(e,n)}ke(jr),Ce(jr,e)}function tc(){ke(jr),ke(Eu),ke(Au)}function zE(n){Js(Au.current);var e=Js(jr.current),t=Zg(e,n.type);e!==t&&(Ce(Eu,n),Ce(jr,t))}function Ky(n){Eu.current===n&&(ke(jr),ke(Eu))}var De=$s(0);function up(n){for(var e=n;e!==null;){if(e.tag===13){var t=e.memoizedState;if(t!==null&&(t=t.dehydrated,t===null||t.data==="$?"||t.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break;for(;e.sibling===null;){if(e.return===null||e.return===n)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var fg=[];function Yy(){for(var n=0;n<fg.length;n++)fg[n]._workInProgressVersionPrimary=null;fg.length=0}var hf=Ii.ReactCurrentDispatcher,pg=Ii.ReactCurrentBatchConfig,sa=0,Oe=null,tt=null,lt=null,dp=!1,nu=!1,Su=0,vk=0;function Et(){throw Error(O(321))}function Qy(n,e){if(e===null)return!1;for(var t=0;t<e.length&&t<n.length;t++)if(!hr(n[t],e[t]))return!1;return!0}function Zy(n,e,t,r,i,s){if(sa=s,Oe=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,hf.current=n===null||n.memoizedState===null?bk:Ek,n=t(r,i),nu){s=0;do{if(nu=!1,Su=0,25<=s)throw Error(O(301));s+=1,lt=tt=null,e.updateQueue=null,hf.current=Ak,n=t(r,i)}while(nu)}if(hf.current=hp,e=tt!==null&&tt.next!==null,sa=0,lt=tt=Oe=null,dp=!1,e)throw Error(O(300));return n}function Jy(){var n=Su!==0;return Su=0,n}function yr(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return lt===null?Oe.memoizedState=lt=n:lt=lt.next=n,lt}function zn(){if(tt===null){var n=Oe.alternate;n=n!==null?n.memoizedState:null}else n=tt.next;var e=lt===null?Oe.memoizedState:lt.next;if(e!==null)lt=e,tt=n;else{if(n===null)throw Error(O(310));tt=n,n={memoizedState:tt.memoizedState,baseState:tt.baseState,baseQueue:tt.baseQueue,queue:tt.queue,next:null},lt===null?Oe.memoizedState=lt=n:lt=lt.next=n}return lt}function _u(n,e){return typeof e=="function"?e(n):e}function mg(n){var e=zn(),t=e.queue;if(t===null)throw Error(O(311));t.lastRenderedReducer=n;var r=tt,i=r.baseQueue,s=t.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,t.pending=null}if(i!==null){s=i.next,r=r.baseState;var a=o=null,l=null,u=s;do{var d=u.lane;if((sa&d)===d)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:n(r,u.action);else{var h={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(a=l=h,o=r):l=l.next=h,Oe.lanes|=d,oa|=d}u=u.next}while(u!==null&&u!==s);l===null?o=r:l.next=a,hr(r,e.memoizedState)||(Qt=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,t.lastRenderedState=r}if(n=t.interleaved,n!==null){i=n;do s=i.lane,Oe.lanes|=s,oa|=s,i=i.next;while(i!==n)}else i===null&&(t.lanes=0);return[e.memoizedState,t.dispatch]}function gg(n){var e=zn(),t=e.queue;if(t===null)throw Error(O(311));t.lastRenderedReducer=n;var r=t.dispatch,i=t.pending,s=e.memoizedState;if(i!==null){t.pending=null;var o=i=i.next;do s=n(s,o.action),o=o.next;while(o!==i);hr(s,e.memoizedState)||(Qt=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),t.lastRenderedState=s}return[s,r]}function UE(){}function VE(n,e){var t=Oe,r=zn(),i=e(),s=!hr(r.memoizedState,i);if(s&&(r.memoizedState=i,Qt=!0),r=r.queue,e1(qE.bind(null,t,r,n),[n]),r.getSnapshot!==e||s||lt!==null&&lt.memoizedState.tag&1){if(t.flags|=2048,Cu(9,GE.bind(null,t,r,i,e),void 0,null),ct===null)throw Error(O(349));sa&30||WE(t,e,i)}return i}function WE(n,e,t){n.flags|=16384,n={getSnapshot:e,value:t},e=Oe.updateQueue,e===null?(e={lastEffect:null,stores:null},Oe.updateQueue=e,e.stores=[n]):(t=e.stores,t===null?e.stores=[n]:t.push(n))}function GE(n,e,t,r){e.value=t,e.getSnapshot=r,XE(e)&&KE(n)}function qE(n,e,t){return t(function(){XE(e)&&KE(n)})}function XE(n){var e=n.getSnapshot;n=n.value;try{var t=e();return!hr(n,t)}catch{return!0}}function KE(n){var e=Mi(n,1);e!==null&&ur(e,n,1,-1)}function Dx(n){var e=yr();return typeof n=="function"&&(n=n()),e.memoizedState=e.baseState=n,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:_u,lastRenderedState:n},e.queue=n,n=n.dispatch=wk.bind(null,Oe,n),[e.memoizedState,n]}function Cu(n,e,t,r){return n={tag:n,create:e,destroy:t,deps:r,next:null},e=Oe.updateQueue,e===null?(e={lastEffect:null,stores:null},Oe.updateQueue=e,e.lastEffect=n.next=n):(t=e.lastEffect,t===null?e.lastEffect=n.next=n:(r=t.next,t.next=n,n.next=r,e.lastEffect=n)),n}function YE(){return zn().memoizedState}function ff(n,e,t,r){var i=yr();Oe.flags|=n,i.memoizedState=Cu(1|e,t,void 0,r===void 0?null:r)}function lm(n,e,t,r){var i=zn();r=r===void 0?null:r;var s=void 0;if(tt!==null){var o=tt.memoizedState;if(s=o.destroy,r!==null&&Qy(r,o.deps)){i.memoizedState=Cu(e,t,s,r);return}}Oe.flags|=n,i.memoizedState=Cu(1|e,t,s,r)}function Fx(n,e){return ff(8390656,8,n,e)}function e1(n,e){return lm(2048,8,n,e)}function QE(n,e){return lm(4,2,n,e)}function ZE(n,e){return lm(4,4,n,e)}function JE(n,e){if(typeof e=="function")return n=n(),e(n),function(){e(null)};if(e!=null)return n=n(),e.current=n,function(){e.current=null}}function eA(n,e,t){return t=t!=null?t.concat([n]):null,lm(4,4,JE.bind(null,e,n),t)}function t1(){}function tA(n,e){var t=zn();e=e===void 0?null:e;var r=t.memoizedState;return r!==null&&e!==null&&Qy(e,r[1])?r[0]:(t.memoizedState=[n,e],n)}function nA(n,e){var t=zn();e=e===void 0?null:e;var r=t.memoizedState;return r!==null&&e!==null&&Qy(e,r[1])?r[0]:(n=n(),t.memoizedState=[n,e],n)}function rA(n,e,t){return sa&21?(hr(t,e)||(t=lE(),Oe.lanes|=t,oa|=t,n.baseState=!0),e):(n.baseState&&(n.baseState=!1,Qt=!0),n.memoizedState=t)}function yk(n,e){var t=ve;ve=t!==0&&4>t?t:4,n(!0);var r=pg.transition;pg.transition={};try{n(!1),e()}finally{ve=t,pg.transition=r}}function iA(){return zn().memoizedState}function xk(n,e,t){var r=Ts(n);if(t={lane:r,action:t,hasEagerState:!1,eagerState:null,next:null},sA(n))oA(e,t);else if(t=HE(n,e,t,r),t!==null){var i=Ht();ur(t,n,r,i),aA(t,e,r)}}function wk(n,e,t){var r=Ts(n),i={lane:r,action:t,hasEagerState:!1,eagerState:null,next:null};if(sA(n))oA(e,i);else{var s=n.alternate;if(n.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,a=s(o,t);if(i.hasEagerState=!0,i.eagerState=a,hr(a,o)){var l=e.interleaved;l===null?(i.next=i,Gy(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}t=HE(n,e,i,r),t!==null&&(i=Ht(),ur(t,n,r,i),aA(t,e,r))}}function sA(n){var e=n.alternate;return n===Oe||e!==null&&e===Oe}function oA(n,e){nu=dp=!0;var t=n.pending;t===null?e.next=e:(e.next=t.next,t.next=e),n.pending=e}function aA(n,e,t){if(t&4194240){var r=e.lanes;r&=n.pendingLanes,t|=r,e.lanes=t,My(n,t)}}var hp={readContext:Bn,useCallback:Et,useContext:Et,useEffect:Et,useImperativeHandle:Et,useInsertionEffect:Et,useLayoutEffect:Et,useMemo:Et,useReducer:Et,useRef:Et,useState:Et,useDebugValue:Et,useDeferredValue:Et,useTransition:Et,useMutableSource:Et,useSyncExternalStore:Et,useId:Et,unstable_isNewReconciler:!1},bk={readContext:Bn,useCallback:function(n,e){return yr().memoizedState=[n,e===void 0?null:e],n},useContext:Bn,useEffect:Fx,useImperativeHandle:function(n,e,t){return t=t!=null?t.concat([n]):null,ff(4194308,4,JE.bind(null,e,n),t)},useLayoutEffect:function(n,e){return ff(4194308,4,n,e)},useInsertionEffect:function(n,e){return ff(4,2,n,e)},useMemo:function(n,e){var t=yr();return e=e===void 0?null:e,n=n(),t.memoizedState=[n,e],n},useReducer:function(n,e,t){var r=yr();return e=t!==void 0?t(e):e,r.memoizedState=r.baseState=e,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:e},r.queue=n,n=n.dispatch=xk.bind(null,Oe,n),[r.memoizedState,n]},useRef:function(n){var e=yr();return n={current:n},e.memoizedState=n},useState:Dx,useDebugValue:t1,useDeferredValue:function(n){return yr().memoizedState=n},useTransition:function(){var n=Dx(!1),e=n[0];return n=yk.bind(null,n[1]),yr().memoizedState=n,[e,n]},useMutableSource:function(){},useSyncExternalStore:function(n,e,t){var r=Oe,i=yr();if(Re){if(t===void 0)throw Error(O(407));t=t()}else{if(t=e(),ct===null)throw Error(O(349));sa&30||WE(r,e,t)}i.memoizedState=t;var s={value:t,getSnapshot:e};return i.queue=s,Fx(qE.bind(null,r,s,n),[n]),r.flags|=2048,Cu(9,GE.bind(null,r,s,t,e),void 0,null),t},useId:function(){var n=yr(),e=ct.identifierPrefix;if(Re){var t=Si,r=Ai;t=(r&~(1<<32-cr(r)-1)).toString(32)+t,e=":"+e+"R"+t,t=Su++,0<t&&(e+="H"+t.toString(32)),e+=":"}else t=vk++,e=":"+e+"r"+t.toString(32)+":";return n.memoizedState=e},unstable_isNewReconciler:!1},Ek={readContext:Bn,useCallback:tA,useContext:Bn,useEffect:e1,useImperativeHandle:eA,useInsertionEffect:QE,useLayoutEffect:ZE,useMemo:nA,useReducer:mg,useRef:YE,useState:function(){return mg(_u)},useDebugValue:t1,useDeferredValue:function(n){var e=zn();return rA(e,tt.memoizedState,n)},useTransition:function(){var n=mg(_u)[0],e=zn().memoizedState;return[n,e]},useMutableSource:UE,useSyncExternalStore:VE,useId:iA,unstable_isNewReconciler:!1},Ak={readContext:Bn,useCallback:tA,useContext:Bn,useEffect:e1,useImperativeHandle:eA,useInsertionEffect:QE,useLayoutEffect:ZE,useMemo:nA,useReducer:gg,useRef:YE,useState:function(){return gg(_u)},useDebugValue:t1,useDeferredValue:function(n){var e=zn();return tt===null?e.memoizedState=n:rA(e,tt.memoizedState,n)},useTransition:function(){var n=gg(_u)[0],e=zn().memoizedState;return[n,e]},useMutableSource:UE,useSyncExternalStore:VE,useId:iA,unstable_isNewReconciler:!1};function Xn(n,e){if(n&&n.defaultProps){e=je({},e),n=n.defaultProps;for(var t in n)e[t]===void 0&&(e[t]=n[t]);return e}return e}function x0(n,e,t,r){e=n.memoizedState,t=t(r,e),t=t==null?e:je({},e,t),n.memoizedState=t,n.lanes===0&&(n.updateQueue.baseState=t)}var cm={isMounted:function(n){return(n=n._reactInternals)?xa(n)===n:!1},enqueueSetState:function(n,e,t){n=n._reactInternals;var r=Ht(),i=Ts(n),s=_i(r,i);s.payload=e,t!=null&&(s.callback=t),e=_s(n,s,i),e!==null&&(ur(e,n,i,r),df(e,n,i))},enqueueReplaceState:function(n,e,t){n=n._reactInternals;var r=Ht(),i=Ts(n),s=_i(r,i);s.tag=1,s.payload=e,t!=null&&(s.callback=t),e=_s(n,s,i),e!==null&&(ur(e,n,i,r),df(e,n,i))},enqueueForceUpdate:function(n,e){n=n._reactInternals;var t=Ht(),r=Ts(n),i=_i(t,r);i.tag=2,e!=null&&(i.callback=e),e=_s(n,i,r),e!==null&&(ur(e,n,r,t),df(e,n,r))}};function Ix(n,e,t,r,i,s,o){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(r,s,o):e.prototype&&e.prototype.isPureReactComponent?!yu(t,r)||!yu(i,s):!0}function lA(n,e,t){var r=!1,i=Ls,s=e.contextType;return typeof s=="object"&&s!==null?s=Bn(s):(i=nn(e)?ra:Lt.current,r=e.contextTypes,s=(r=r!=null)?Zl(n,i):Ls),e=new e(t,s),n.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=cm,n.stateNode=e,e._reactInternals=n,r&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=i,n.__reactInternalMemoizedMaskedChildContext=s),e}function Ox(n,e,t,r){n=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(t,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(t,r),e.state!==n&&cm.enqueueReplaceState(e,e.state,null)}function w0(n,e,t,r){var i=n.stateNode;i.props=t,i.state=n.memoizedState,i.refs={},qy(n);var s=e.contextType;typeof s=="object"&&s!==null?i.context=Bn(s):(s=nn(e)?ra:Lt.current,i.context=Zl(n,s)),i.state=n.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(x0(n,e,s,t),i.state=n.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&cm.enqueueReplaceState(i,i.state,null),cp(n,t,i,r),i.state=n.memoizedState),typeof i.componentDidMount=="function"&&(n.flags|=4194308)}function nc(n,e){try{var t="",r=e;do t+=Q2(r),r=r.return;while(r);var i=t}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:n,source:e,stack:i,digest:null}}function vg(n,e,t){return{value:n,source:null,stack:t??null,digest:e??null}}function b0(n,e){try{console.error(e.value)}catch(t){setTimeout(function(){throw t})}}var Sk=typeof WeakMap=="function"?WeakMap:Map;function cA(n,e,t){t=_i(-1,t),t.tag=3,t.payload={element:null};var r=e.value;return t.callback=function(){pp||(pp=!0,L0=r),b0(n,e)},t}function uA(n,e,t){t=_i(-1,t),t.tag=3;var r=n.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;t.payload=function(){return r(i)},t.callback=function(){b0(n,e)}}var s=n.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(t.callback=function(){b0(n,e),typeof r!="function"&&(Cs===null?Cs=new Set([this]):Cs.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),t}function jx(n,e,t){var r=n.pingCache;if(r===null){r=n.pingCache=new Sk;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(t)||(i.add(t),n=jk.bind(null,n,e,t),e.then(n,n))}function $x(n){do{var e;if((e=n.tag===13)&&(e=n.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return n;n=n.return}while(n!==null);return null}function Hx(n,e,t,r,i){return n.mode&1?(n.flags|=65536,n.lanes=i,n):(n===e?n.flags|=65536:(n.flags|=128,t.flags|=131072,t.flags&=-52805,t.tag===1&&(t.alternate===null?t.tag=17:(e=_i(-1,1),e.tag=2,_s(t,e,1))),t.lanes|=1),n)}var _k=Ii.ReactCurrentOwner,Qt=!1;function jt(n,e,t,r){e.child=n===null?$E(e,null,t,r):ec(e,n.child,t,r)}function Bx(n,e,t,r,i){t=t.render;var s=e.ref;return Qa(e,i),r=Zy(n,e,t,r,s,i),t=Jy(),n!==null&&!Qt?(e.updateQueue=n.updateQueue,e.flags&=-2053,n.lanes&=~i,Ni(n,e,i)):(Re&&t&&Hy(e),e.flags|=1,jt(n,e,r,i),e.child)}function zx(n,e,t,r,i){if(n===null){var s=t.type;return typeof s=="function"&&!c1(s)&&s.defaultProps===void 0&&t.compare===null&&t.defaultProps===void 0?(e.tag=15,e.type=s,dA(n,e,s,r,i)):(n=vf(t.type,null,r,e,e.mode,i),n.ref=e.ref,n.return=e,e.child=n)}if(s=n.child,!(n.lanes&i)){var o=s.memoizedProps;if(t=t.compare,t=t!==null?t:yu,t(o,r)&&n.ref===e.ref)return Ni(n,e,i)}return e.flags|=1,n=ks(s,r),n.ref=e.ref,n.return=e,e.child=n}function dA(n,e,t,r,i){if(n!==null){var s=n.memoizedProps;if(yu(s,r)&&n.ref===e.ref)if(Qt=!1,e.pendingProps=r=s,(n.lanes&i)!==0)n.flags&131072&&(Qt=!0);else return e.lanes=n.lanes,Ni(n,e,i)}return E0(n,e,t,r,i)}function hA(n,e,t){var r=e.pendingProps,i=r.children,s=n!==null?n.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ce(Wa,vn),vn|=t;else{if(!(t&1073741824))return n=s!==null?s.baseLanes|t:t,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:n,cachePool:null,transitions:null},e.updateQueue=null,Ce(Wa,vn),vn|=n,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:t,Ce(Wa,vn),vn|=r}else s!==null?(r=s.baseLanes|t,e.memoizedState=null):r=t,Ce(Wa,vn),vn|=r;return jt(n,e,i,t),e.child}function fA(n,e){var t=e.ref;(n===null&&t!==null||n!==null&&n.ref!==t)&&(e.flags|=512,e.flags|=2097152)}function E0(n,e,t,r,i){var s=nn(t)?ra:Lt.current;return s=Zl(e,s),Qa(e,i),t=Zy(n,e,t,r,s,i),r=Jy(),n!==null&&!Qt?(e.updateQueue=n.updateQueue,e.flags&=-2053,n.lanes&=~i,Ni(n,e,i)):(Re&&r&&Hy(e),e.flags|=1,jt(n,e,t,i),e.child)}function Ux(n,e,t,r,i){if(nn(t)){var s=!0;ip(e)}else s=!1;if(Qa(e,i),e.stateNode===null)pf(n,e),lA(e,t,r),w0(e,t,r,i),r=!0;else if(n===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,u=t.contextType;typeof u=="object"&&u!==null?u=Bn(u):(u=nn(t)?ra:Lt.current,u=Zl(e,u));var d=t.getDerivedStateFromProps,h=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==u)&&Ox(e,o,r,u),qi=!1;var f=e.memoizedState;o.state=f,cp(e,r,o,i),l=e.memoizedState,a!==r||f!==l||tn.current||qi?(typeof d=="function"&&(x0(e,t,d,r),l=e.memoizedState),(a=qi||Ix(e,t,a,r,f,l,u))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=u,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,BE(n,e),a=e.memoizedProps,u=e.type===e.elementType?a:Xn(e.type,a),o.props=u,h=e.pendingProps,f=o.context,l=t.contextType,typeof l=="object"&&l!==null?l=Bn(l):(l=nn(t)?ra:Lt.current,l=Zl(e,l));var p=t.getDerivedStateFromProps;(d=typeof p=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==h||f!==l)&&Ox(e,o,r,l),qi=!1,f=e.memoizedState,o.state=f,cp(e,r,o,i);var m=e.memoizedState;a!==h||f!==m||tn.current||qi?(typeof p=="function"&&(x0(e,t,p,r),m=e.memoizedState),(u=qi||Ix(e,t,u,r,f,m,l)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,m,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,m,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===n.memoizedProps&&f===n.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===n.memoizedProps&&f===n.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=m),o.props=r,o.state=m,o.context=l,r=u):(typeof o.componentDidUpdate!="function"||a===n.memoizedProps&&f===n.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===n.memoizedProps&&f===n.memoizedState||(e.flags|=1024),r=!1)}return A0(n,e,t,r,s,i)}function A0(n,e,t,r,i,s){fA(n,e);var o=(e.flags&128)!==0;if(!r&&!o)return i&&kx(e,t,!1),Ni(n,e,s);r=e.stateNode,_k.current=e;var a=o&&typeof t.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,n!==null&&o?(e.child=ec(e,n.child,null,s),e.child=ec(e,null,a,s)):jt(n,e,a,s),e.memoizedState=r.state,i&&kx(e,t,!0),e.child}function pA(n){var e=n.stateNode;e.pendingContext?Tx(n,e.pendingContext,e.pendingContext!==e.context):e.context&&Tx(n,e.context,!1),Xy(n,e.containerInfo)}function Vx(n,e,t,r,i){return Jl(),zy(i),e.flags|=256,jt(n,e,t,r),e.child}var S0={dehydrated:null,treeContext:null,retryLane:0};function _0(n){return{baseLanes:n,cachePool:null,transitions:null}}function mA(n,e,t){var r=e.pendingProps,i=De.current,s=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=n!==null&&n.memoizedState===null?!1:(i&2)!==0),a?(s=!0,e.flags&=-129):(n===null||n.memoizedState!==null)&&(i|=1),Ce(De,i&1),n===null)return v0(e),n=e.memoizedState,n!==null&&(n=n.dehydrated,n!==null)?(e.mode&1?n.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,n=r.fallback,s?(r=e.mode,s=e.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=hm(o,r,0,null),n=Jo(n,r,t,null),s.return=e,n.return=e,s.sibling=n,e.child=s,e.child.memoizedState=_0(t),e.memoizedState=S0,n):n1(e,o));if(i=n.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return Ck(n,e,o,r,a,i,t);if(s){s=r.fallback,o=e.mode,i=n.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=ks(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=ks(a,s):(s=Jo(s,o,t,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,o=n.child.memoizedState,o=o===null?_0(t):{baseLanes:o.baseLanes|t,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=n.childLanes&~t,e.memoizedState=S0,r}return s=n.child,n=s.sibling,r=ks(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=t),r.return=e,r.sibling=null,n!==null&&(t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)),e.child=r,e.memoizedState=null,r}function n1(n,e){return e=hm({mode:"visible",children:e},n.mode,0,null),e.return=n,n.child=e}function qh(n,e,t,r){return r!==null&&zy(r),ec(e,n.child,null,t),n=n1(e,e.pendingProps.children),n.flags|=2,e.memoizedState=null,n}function Ck(n,e,t,r,i,s,o){if(t)return e.flags&256?(e.flags&=-257,r=vg(Error(O(422))),qh(n,e,o,r)):e.memoizedState!==null?(e.child=n.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=hm({mode:"visible",children:r.children},i,0,null),s=Jo(s,i,o,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&ec(e,n.child,null,o),e.child.memoizedState=_0(o),e.memoizedState=S0,s);if(!(e.mode&1))return qh(n,e,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,s=Error(O(419)),r=vg(s,r,void 0),qh(n,e,o,r)}if(a=(o&n.childLanes)!==0,Qt||a){if(r=ct,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,Mi(n,i),ur(r,n,i,-1))}return l1(),r=vg(Error(O(421))),qh(n,e,o,r)}return i.data==="$?"?(e.flags|=128,e.child=n.child,e=$k.bind(null,n),i._reactRetry=e,null):(n=s.treeContext,wn=Ss(i.nextSibling),bn=e,Re=!0,lr=null,n!==null&&(Mn[Nn++]=Ai,Mn[Nn++]=Si,Mn[Nn++]=ia,Ai=n.id,Si=n.overflow,ia=e),e=n1(e,r.children),e.flags|=4096,e)}function Wx(n,e,t){n.lanes|=e;var r=n.alternate;r!==null&&(r.lanes|=e),y0(n.return,e,t)}function yg(n,e,t,r,i){var s=n.memoizedState;s===null?n.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:t,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=t,s.tailMode=i)}function gA(n,e,t){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(jt(n,e,r.children,t),r=De.current,r&2)r=r&1|2,e.flags|=128;else{if(n!==null&&n.flags&128)e:for(n=e.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&Wx(n,t,e);else if(n.tag===19)Wx(n,t,e);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break e;for(;n.sibling===null;){if(n.return===null||n.return===e)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}r&=1}if(Ce(De,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(t=e.child,i=null;t!==null;)n=t.alternate,n!==null&&up(n)===null&&(i=t),t=t.sibling;t=i,t===null?(i=e.child,e.child=null):(i=t.sibling,t.sibling=null),yg(e,!1,i,t,s);break;case"backwards":for(t=null,i=e.child,e.child=null;i!==null;){if(n=i.alternate,n!==null&&up(n)===null){e.child=i;break}n=i.sibling,i.sibling=t,t=i,i=n}yg(e,!0,t,null,s);break;case"together":yg(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function pf(n,e){!(e.mode&1)&&n!==null&&(n.alternate=null,e.alternate=null,e.flags|=2)}function Ni(n,e,t){if(n!==null&&(e.dependencies=n.dependencies),oa|=e.lanes,!(t&e.childLanes))return null;if(n!==null&&e.child!==n.child)throw Error(O(153));if(e.child!==null){for(n=e.child,t=ks(n,n.pendingProps),e.child=t,t.return=e;n.sibling!==null;)n=n.sibling,t=t.sibling=ks(n,n.pendingProps),t.return=e;t.sibling=null}return e.child}function Tk(n,e,t){switch(e.tag){case 3:pA(e),Jl();break;case 5:zE(e);break;case 1:nn(e.type)&&ip(e);break;case 4:Xy(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;Ce(ap,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Ce(De,De.current&1),e.flags|=128,null):t&e.child.childLanes?mA(n,e,t):(Ce(De,De.current&1),n=Ni(n,e,t),n!==null?n.sibling:null);Ce(De,De.current&1);break;case 19:if(r=(t&e.childLanes)!==0,n.flags&128){if(r)return gA(n,e,t);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Ce(De,De.current),r)break;return null;case 22:case 23:return e.lanes=0,hA(n,e,t)}return Ni(n,e,t)}var vA,C0,yA,xA;vA=function(n,e){for(var t=e.child;t!==null;){if(t.tag===5||t.tag===6)n.appendChild(t.stateNode);else if(t.tag!==4&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return;t=t.return}t.sibling.return=t.return,t=t.sibling}};C0=function(){};yA=function(n,e,t,r){var i=n.memoizedProps;if(i!==r){n=e.stateNode,Js(jr.current);var s=null;switch(t){case"input":i=Xg(n,i),r=Xg(n,r),s=[];break;case"select":i=je({},i,{value:void 0}),r=je({},r,{value:void 0}),s=[];break;case"textarea":i=Qg(n,i),r=Qg(n,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(n.onclick=np)}Jg(t,r);var o;t=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var a=i[u];for(o in a)a.hasOwnProperty(o)&&(t||(t={}),t[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(du.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in r){var l=r[u];if(a=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&l!==a&&(l!=null||a!=null))if(u==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(t||(t={}),t[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(t||(t={}),t[o]=l[o])}else t||(s||(s=[]),s.push(u,t)),t=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(du.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&Te("scroll",n),s||a===l||(s=[])):(s=s||[]).push(u,l))}t&&(s=s||[]).push("style",t);var u=s;(e.updateQueue=u)&&(e.flags|=4)}};xA=function(n,e,t,r){t!==r&&(e.flags|=4)};function _c(n,e){if(!Re)switch(n.tailMode){case"hidden":e=n.tail;for(var t=null;e!==null;)e.alternate!==null&&(t=e),e=e.sibling;t===null?n.tail=null:t.sibling=null;break;case"collapsed":t=n.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e||n.tail===null?n.tail=null:n.tail.sibling=null:r.sibling=null}}function At(n){var e=n.alternate!==null&&n.alternate.child===n.child,t=0,r=0;if(e)for(var i=n.child;i!==null;)t|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=n,i=i.sibling;else for(i=n.child;i!==null;)t|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=n,i=i.sibling;return n.subtreeFlags|=r,n.childLanes=t,e}function kk(n,e,t){var r=e.pendingProps;switch(By(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return At(e),null;case 1:return nn(e.type)&&rp(),At(e),null;case 3:return r=e.stateNode,tc(),ke(tn),ke(Lt),Yy(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(n===null||n.child===null)&&(Wh(e)?e.flags|=4:n===null||n.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,lr!==null&&(D0(lr),lr=null))),C0(n,e),At(e),null;case 5:Ky(e);var i=Js(Au.current);if(t=e.type,n!==null&&e.stateNode!=null)yA(n,e,t,r,i),n.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(O(166));return At(e),null}if(n=Js(jr.current),Wh(e)){r=e.stateNode,t=e.type;var s=e.memoizedProps;switch(r[Ir]=e,r[bu]=s,n=(e.mode&1)!==0,t){case"dialog":Te("cancel",r),Te("close",r);break;case"iframe":case"object":case"embed":Te("load",r);break;case"video":case"audio":for(i=0;i<Fc.length;i++)Te(Fc[i],r);break;case"source":Te("error",r);break;case"img":case"image":case"link":Te("error",r),Te("load",r);break;case"details":Te("toggle",r);break;case"input":ex(r,s),Te("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},Te("invalid",r);break;case"textarea":nx(r,s),Te("invalid",r)}Jg(t,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?r.textContent!==a&&(s.suppressHydrationWarning!==!0&&Vh(r.textContent,a,n),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&Vh(r.textContent,a,n),i=["children",""+a]):du.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&Te("scroll",r)}switch(t){case"input":Ih(r),tx(r,s,!0);break;case"textarea":Ih(r),rx(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=np)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,n==="http://www.w3.org/1999/xhtml"&&(n=qb(t)),n==="http://www.w3.org/1999/xhtml"?t==="script"?(n=o.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild)):typeof r.is=="string"?n=o.createElement(t,{is:r.is}):(n=o.createElement(t),t==="select"&&(o=n,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):n=o.createElementNS(n,t),n[Ir]=e,n[bu]=r,vA(n,e,!1,!1),e.stateNode=n;e:{switch(o=e0(t,r),t){case"dialog":Te("cancel",n),Te("close",n),i=r;break;case"iframe":case"object":case"embed":Te("load",n),i=r;break;case"video":case"audio":for(i=0;i<Fc.length;i++)Te(Fc[i],n);i=r;break;case"source":Te("error",n),i=r;break;case"img":case"image":case"link":Te("error",n),Te("load",n),i=r;break;case"details":Te("toggle",n),i=r;break;case"input":ex(n,r),i=Xg(n,r),Te("invalid",n);break;case"option":i=r;break;case"select":n._wrapperState={wasMultiple:!!r.multiple},i=je({},r,{value:void 0}),Te("invalid",n);break;case"textarea":nx(n,r),i=Qg(n,r),Te("invalid",n);break;default:i=r}Jg(t,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?Yb(n,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&Xb(n,l)):s==="children"?typeof l=="string"?(t!=="textarea"||l!=="")&&hu(n,l):typeof l=="number"&&hu(n,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(du.hasOwnProperty(s)?l!=null&&s==="onScroll"&&Te("scroll",n):l!=null&&Cy(n,s,l,o))}switch(t){case"input":Ih(n),tx(n,r,!1);break;case"textarea":Ih(n),rx(n);break;case"option":r.value!=null&&n.setAttribute("value",""+Rs(r.value));break;case"select":n.multiple=!!r.multiple,s=r.value,s!=null?qa(n,!!r.multiple,s,!1):r.defaultValue!=null&&qa(n,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(n.onclick=np)}switch(t){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return At(e),null;case 6:if(n&&e.stateNode!=null)xA(n,e,n.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(O(166));if(t=Js(Au.current),Js(jr.current),Wh(e)){if(r=e.stateNode,t=e.memoizedProps,r[Ir]=e,(s=r.nodeValue!==t)&&(n=bn,n!==null))switch(n.tag){case 3:Vh(r.nodeValue,t,(n.mode&1)!==0);break;case 5:n.memoizedProps.suppressHydrationWarning!==!0&&Vh(r.nodeValue,t,(n.mode&1)!==0)}s&&(e.flags|=4)}else r=(t.nodeType===9?t:t.ownerDocument).createTextNode(r),r[Ir]=e,e.stateNode=r}return At(e),null;case 13:if(ke(De),r=e.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(Re&&wn!==null&&e.mode&1&&!(e.flags&128))OE(),Jl(),e.flags|=98560,s=!1;else if(s=Wh(e),r!==null&&r.dehydrated!==null){if(n===null){if(!s)throw Error(O(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(O(317));s[Ir]=e}else Jl(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;At(e),s=!1}else lr!==null&&(D0(lr),lr=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=t,e):(r=r!==null,r!==(n!==null&&n.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(n===null||De.current&1?rt===0&&(rt=3):l1())),e.updateQueue!==null&&(e.flags|=4),At(e),null);case 4:return tc(),C0(n,e),n===null&&xu(e.stateNode.containerInfo),At(e),null;case 10:return Wy(e.type._context),At(e),null;case 17:return nn(e.type)&&rp(),At(e),null;case 19:if(ke(De),s=e.memoizedState,s===null)return At(e),null;if(r=(e.flags&128)!==0,o=s.rendering,o===null)if(r)_c(s,!1);else{if(rt!==0||n!==null&&n.flags&128)for(n=e.child;n!==null;){if(o=up(n),o!==null){for(e.flags|=128,_c(s,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=t,t=e.child;t!==null;)s=t,n=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=n,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,n=o.dependencies,s.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t=t.sibling;return Ce(De,De.current&1|2),e.child}n=n.sibling}s.tail!==null&&We()>rc&&(e.flags|=128,r=!0,_c(s,!1),e.lanes=4194304)}else{if(!r)if(n=up(o),n!==null){if(e.flags|=128,r=!0,t=n.updateQueue,t!==null&&(e.updateQueue=t,e.flags|=4),_c(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!Re)return At(e),null}else 2*We()-s.renderingStartTime>rc&&t!==1073741824&&(e.flags|=128,r=!0,_c(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(t=s.last,t!==null?t.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=We(),e.sibling=null,t=De.current,Ce(De,r?t&1|2:t&1),e):(At(e),null);case 22:case 23:return a1(),r=e.memoizedState!==null,n!==null&&n.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?vn&1073741824&&(At(e),e.subtreeFlags&6&&(e.flags|=8192)):At(e),null;case 24:return null;case 25:return null}throw Error(O(156,e.tag))}function Pk(n,e){switch(By(e),e.tag){case 1:return nn(e.type)&&rp(),n=e.flags,n&65536?(e.flags=n&-65537|128,e):null;case 3:return tc(),ke(tn),ke(Lt),Yy(),n=e.flags,n&65536&&!(n&128)?(e.flags=n&-65537|128,e):null;case 5:return Ky(e),null;case 13:if(ke(De),n=e.memoizedState,n!==null&&n.dehydrated!==null){if(e.alternate===null)throw Error(O(340));Jl()}return n=e.flags,n&65536?(e.flags=n&-65537|128,e):null;case 19:return ke(De),null;case 4:return tc(),null;case 10:return Wy(e.type._context),null;case 22:case 23:return a1(),null;case 24:return null;default:return null}}var Xh=!1,Tt=!1,Rk=typeof WeakSet=="function"?WeakSet:Set,V=null;function Va(n,e){var t=n.ref;if(t!==null)if(typeof t=="function")try{t(null)}catch(r){ze(n,e,r)}else t.current=null}function T0(n,e,t){try{t()}catch(r){ze(n,e,r)}}var Gx=!1;function Lk(n,e){if(u0=Jf,n=SE(),$y(n)){if("selectionStart"in n)var t={start:n.selectionStart,end:n.selectionEnd};else e:{t=(t=n.ownerDocument)&&t.defaultView||window;var r=t.getSelection&&t.getSelection();if(r&&r.rangeCount!==0){t=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{t.nodeType,s.nodeType}catch{t=null;break e}var o=0,a=-1,l=-1,u=0,d=0,h=n,f=null;t:for(;;){for(var p;h!==t||i!==0&&h.nodeType!==3||(a=o+i),h!==s||r!==0&&h.nodeType!==3||(l=o+r),h.nodeType===3&&(o+=h.nodeValue.length),(p=h.firstChild)!==null;)f=h,h=p;for(;;){if(h===n)break t;if(f===t&&++u===i&&(a=o),f===s&&++d===r&&(l=o),(p=h.nextSibling)!==null)break;h=f,f=h.parentNode}h=p}t=a===-1||l===-1?null:{start:a,end:l}}else t=null}t=t||{start:0,end:0}}else t=null;for(d0={focusedElem:n,selectionRange:t},Jf=!1,V=e;V!==null;)if(e=V,n=e.child,(e.subtreeFlags&1028)!==0&&n!==null)n.return=e,V=n;else for(;V!==null;){e=V;try{var m=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(m!==null){var v=m.memoizedProps,b=m.memoizedState,g=e.stateNode,y=g.getSnapshotBeforeUpdate(e.elementType===e.type?v:Xn(e.type,v),b);g.__reactInternalSnapshotBeforeUpdate=y}break;case 3:var x=e.stateNode.containerInfo;x.nodeType===1?x.textContent="":x.nodeType===9&&x.documentElement&&x.removeChild(x.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(O(163))}}catch(C){ze(e,e.return,C)}if(n=e.sibling,n!==null){n.return=e.return,V=n;break}V=e.return}return m=Gx,Gx=!1,m}function ru(n,e,t){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&n)===n){var s=i.destroy;i.destroy=void 0,s!==void 0&&T0(e,t,s)}i=i.next}while(i!==r)}}function um(n,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var t=e=e.next;do{if((t.tag&n)===n){var r=t.create;t.destroy=r()}t=t.next}while(t!==e)}}function k0(n){var e=n.ref;if(e!==null){var t=n.stateNode;switch(n.tag){case 5:n=t;break;default:n=t}typeof e=="function"?e(n):e.current=n}}function wA(n){var e=n.alternate;e!==null&&(n.alternate=null,wA(e)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(e=n.stateNode,e!==null&&(delete e[Ir],delete e[bu],delete e[p0],delete e[fk],delete e[pk])),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}function bA(n){return n.tag===5||n.tag===3||n.tag===4}function qx(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||bA(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function P0(n,e,t){var r=n.tag;if(r===5||r===6)n=n.stateNode,e?t.nodeType===8?t.parentNode.insertBefore(n,e):t.insertBefore(n,e):(t.nodeType===8?(e=t.parentNode,e.insertBefore(n,t)):(e=t,e.appendChild(n)),t=t._reactRootContainer,t!=null||e.onclick!==null||(e.onclick=np));else if(r!==4&&(n=n.child,n!==null))for(P0(n,e,t),n=n.sibling;n!==null;)P0(n,e,t),n=n.sibling}function R0(n,e,t){var r=n.tag;if(r===5||r===6)n=n.stateNode,e?t.insertBefore(n,e):t.appendChild(n);else if(r!==4&&(n=n.child,n!==null))for(R0(n,e,t),n=n.sibling;n!==null;)R0(n,e,t),n=n.sibling}var vt=null,ar=!1;function Bi(n,e,t){for(t=t.child;t!==null;)EA(n,e,t),t=t.sibling}function EA(n,e,t){if(Or&&typeof Or.onCommitFiberUnmount=="function")try{Or.onCommitFiberUnmount(nm,t)}catch{}switch(t.tag){case 5:Tt||Va(t,e);case 6:var r=vt,i=ar;vt=null,Bi(n,e,t),vt=r,ar=i,vt!==null&&(ar?(n=vt,t=t.stateNode,n.nodeType===8?n.parentNode.removeChild(t):n.removeChild(t)):vt.removeChild(t.stateNode));break;case 18:vt!==null&&(ar?(n=vt,t=t.stateNode,n.nodeType===8?dg(n.parentNode,t):n.nodeType===1&&dg(n,t),gu(n)):dg(vt,t.stateNode));break;case 4:r=vt,i=ar,vt=t.stateNode.containerInfo,ar=!0,Bi(n,e,t),vt=r,ar=i;break;case 0:case 11:case 14:case 15:if(!Tt&&(r=t.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&T0(t,e,o),i=i.next}while(i!==r)}Bi(n,e,t);break;case 1:if(!Tt&&(Va(t,e),r=t.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=t.memoizedProps,r.state=t.memoizedState,r.componentWillUnmount()}catch(a){ze(t,e,a)}Bi(n,e,t);break;case 21:Bi(n,e,t);break;case 22:t.mode&1?(Tt=(r=Tt)||t.memoizedState!==null,Bi(n,e,t),Tt=r):Bi(n,e,t);break;default:Bi(n,e,t)}}function Xx(n){var e=n.updateQueue;if(e!==null){n.updateQueue=null;var t=n.stateNode;t===null&&(t=n.stateNode=new Rk),e.forEach(function(r){var i=Hk.bind(null,n,r);t.has(r)||(t.add(r),r.then(i,i))})}}function Gn(n,e){var t=e.deletions;if(t!==null)for(var r=0;r<t.length;r++){var i=t[r];try{var s=n,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:vt=a.stateNode,ar=!1;break e;case 3:vt=a.stateNode.containerInfo,ar=!0;break e;case 4:vt=a.stateNode.containerInfo,ar=!0;break e}a=a.return}if(vt===null)throw Error(O(160));EA(s,o,i),vt=null,ar=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(u){ze(i,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)AA(e,n),e=e.sibling}function AA(n,e){var t=n.alternate,r=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:if(Gn(e,n),gr(n),r&4){try{ru(3,n,n.return),um(3,n)}catch(v){ze(n,n.return,v)}try{ru(5,n,n.return)}catch(v){ze(n,n.return,v)}}break;case 1:Gn(e,n),gr(n),r&512&&t!==null&&Va(t,t.return);break;case 5:if(Gn(e,n),gr(n),r&512&&t!==null&&Va(t,t.return),n.flags&32){var i=n.stateNode;try{hu(i,"")}catch(v){ze(n,n.return,v)}}if(r&4&&(i=n.stateNode,i!=null)){var s=n.memoizedProps,o=t!==null?t.memoizedProps:s,a=n.type,l=n.updateQueue;if(n.updateQueue=null,l!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&Wb(i,s),e0(a,o);var u=e0(a,s);for(o=0;o<l.length;o+=2){var d=l[o],h=l[o+1];d==="style"?Yb(i,h):d==="dangerouslySetInnerHTML"?Xb(i,h):d==="children"?hu(i,h):Cy(i,d,h,u)}switch(a){case"input":Kg(i,s);break;case"textarea":Gb(i,s);break;case"select":var f=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var p=s.value;p!=null?qa(i,!!s.multiple,p,!1):f!==!!s.multiple&&(s.defaultValue!=null?qa(i,!!s.multiple,s.defaultValue,!0):qa(i,!!s.multiple,s.multiple?[]:"",!1))}i[bu]=s}catch(v){ze(n,n.return,v)}}break;case 6:if(Gn(e,n),gr(n),r&4){if(n.stateNode===null)throw Error(O(162));i=n.stateNode,s=n.memoizedProps;try{i.nodeValue=s}catch(v){ze(n,n.return,v)}}break;case 3:if(Gn(e,n),gr(n),r&4&&t!==null&&t.memoizedState.isDehydrated)try{gu(e.containerInfo)}catch(v){ze(n,n.return,v)}break;case 4:Gn(e,n),gr(n);break;case 13:Gn(e,n),gr(n),i=n.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(s1=We())),r&4&&Xx(n);break;case 22:if(d=t!==null&&t.memoizedState!==null,n.mode&1?(Tt=(u=Tt)||d,Gn(e,n),Tt=u):Gn(e,n),gr(n),r&8192){if(u=n.memoizedState!==null,(n.stateNode.isHidden=u)&&!d&&n.mode&1)for(V=n,d=n.child;d!==null;){for(h=V=d;V!==null;){switch(f=V,p=f.child,f.tag){case 0:case 11:case 14:case 15:ru(4,f,f.return);break;case 1:Va(f,f.return);var m=f.stateNode;if(typeof m.componentWillUnmount=="function"){r=f,t=f.return;try{e=r,m.props=e.memoizedProps,m.state=e.memoizedState,m.componentWillUnmount()}catch(v){ze(r,t,v)}}break;case 5:Va(f,f.return);break;case 22:if(f.memoizedState!==null){Yx(h);continue}}p!==null?(p.return=f,V=p):Yx(h)}d=d.sibling}e:for(d=null,h=n;;){if(h.tag===5){if(d===null){d=h;try{i=h.stateNode,u?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=h.stateNode,l=h.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=Kb("display",o))}catch(v){ze(n,n.return,v)}}}else if(h.tag===6){if(d===null)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(v){ze(n,n.return,v)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===n)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===n)break e;for(;h.sibling===null;){if(h.return===null||h.return===n)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:Gn(e,n),gr(n),r&4&&Xx(n);break;case 21:break;default:Gn(e,n),gr(n)}}function gr(n){var e=n.flags;if(e&2){try{e:{for(var t=n.return;t!==null;){if(bA(t)){var r=t;break e}t=t.return}throw Error(O(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(hu(i,""),r.flags&=-33);var s=qx(n);R0(n,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,a=qx(n);P0(n,a,o);break;default:throw Error(O(161))}}catch(l){ze(n,n.return,l)}n.flags&=-3}e&4096&&(n.flags&=-4097)}function Mk(n,e,t){V=n,SA(n)}function SA(n,e,t){for(var r=(n.mode&1)!==0;V!==null;){var i=V,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||Xh;if(!o){var a=i.alternate,l=a!==null&&a.memoizedState!==null||Tt;a=Xh;var u=Tt;if(Xh=o,(Tt=l)&&!u)for(V=i;V!==null;)o=V,l=o.child,o.tag===22&&o.memoizedState!==null?Qx(i):l!==null?(l.return=o,V=l):Qx(i);for(;s!==null;)V=s,SA(s),s=s.sibling;V=i,Xh=a,Tt=u}Kx(n)}else i.subtreeFlags&8772&&s!==null?(s.return=i,V=s):Kx(n)}}function Kx(n){for(;V!==null;){var e=V;if(e.flags&8772){var t=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Tt||um(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Tt)if(t===null)r.componentDidMount();else{var i=e.elementType===e.type?t.memoizedProps:Xn(e.type,t.memoizedProps);r.componentDidUpdate(i,t.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&Nx(e,s,r);break;case 3:var o=e.updateQueue;if(o!==null){if(t=null,e.child!==null)switch(e.child.tag){case 5:t=e.child.stateNode;break;case 1:t=e.child.stateNode}Nx(e,o,t)}break;case 5:var a=e.stateNode;if(t===null&&e.flags&4){t=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&t.focus();break;case"img":l.src&&(t.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var h=d.dehydrated;h!==null&&gu(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(O(163))}Tt||e.flags&512&&k0(e)}catch(f){ze(e,e.return,f)}}if(e===n){V=null;break}if(t=e.sibling,t!==null){t.return=e.return,V=t;break}V=e.return}}function Yx(n){for(;V!==null;){var e=V;if(e===n){V=null;break}var t=e.sibling;if(t!==null){t.return=e.return,V=t;break}V=e.return}}function Qx(n){for(;V!==null;){var e=V;try{switch(e.tag){case 0:case 11:case 15:var t=e.return;try{um(4,e)}catch(l){ze(e,t,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){ze(e,i,l)}}var s=e.return;try{k0(e)}catch(l){ze(e,s,l)}break;case 5:var o=e.return;try{k0(e)}catch(l){ze(e,o,l)}}}catch(l){ze(e,e.return,l)}if(e===n){V=null;break}var a=e.sibling;if(a!==null){a.return=e.return,V=a;break}V=e.return}}var Nk=Math.ceil,fp=Ii.ReactCurrentDispatcher,r1=Ii.ReactCurrentOwner,jn=Ii.ReactCurrentBatchConfig,de=0,ct=null,Xe=null,xt=0,vn=0,Wa=$s(0),rt=0,Tu=null,oa=0,dm=0,i1=0,iu=null,Yt=null,s1=0,rc=1/0,qr=null,pp=!1,L0=null,Cs=null,Kh=!1,ys=null,mp=0,su=0,M0=null,mf=-1,gf=0;function Ht(){return de&6?We():mf!==-1?mf:mf=We()}function Ts(n){return n.mode&1?de&2&&xt!==0?xt&-xt:gk.transition!==null?(gf===0&&(gf=lE()),gf):(n=ve,n!==0||(n=window.event,n=n===void 0?16:mE(n.type)),n):1}function ur(n,e,t,r){if(50<su)throw su=0,M0=null,Error(O(185));ph(n,t,r),(!(de&2)||n!==ct)&&(n===ct&&(!(de&2)&&(dm|=t),rt===4&&Ki(n,xt)),rn(n,r),t===1&&de===0&&!(e.mode&1)&&(rc=We()+500,am&&Hs()))}function rn(n,e){var t=n.callbackNode;gT(n,e);var r=Zf(n,n===ct?xt:0);if(r===0)t!==null&&ox(t),n.callbackNode=null,n.callbackPriority=0;else if(e=r&-r,n.callbackPriority!==e){if(t!=null&&ox(t),e===1)n.tag===0?mk(Zx.bind(null,n)):DE(Zx.bind(null,n)),dk(function(){!(de&6)&&Hs()}),t=null;else{switch(cE(r)){case 1:t=Ly;break;case 4:t=oE;break;case 16:t=Qf;break;case 536870912:t=aE;break;default:t=Qf}t=MA(t,_A.bind(null,n))}n.callbackPriority=e,n.callbackNode=t}}function _A(n,e){if(mf=-1,gf=0,de&6)throw Error(O(327));var t=n.callbackNode;if(Za()&&n.callbackNode!==t)return null;var r=Zf(n,n===ct?xt:0);if(r===0)return null;if(r&30||r&n.expiredLanes||e)e=gp(n,r);else{e=r;var i=de;de|=2;var s=TA();(ct!==n||xt!==e)&&(qr=null,rc=We()+500,Zo(n,e));do try{Ik();break}catch(a){CA(n,a)}while(!0);Vy(),fp.current=s,de=i,Xe!==null?e=0:(ct=null,xt=0,e=rt)}if(e!==0){if(e===2&&(i=s0(n),i!==0&&(r=i,e=N0(n,i))),e===1)throw t=Tu,Zo(n,0),Ki(n,r),rn(n,We()),t;if(e===6)Ki(n,r);else{if(i=n.current.alternate,!(r&30)&&!Dk(i)&&(e=gp(n,r),e===2&&(s=s0(n),s!==0&&(r=s,e=N0(n,s))),e===1))throw t=Tu,Zo(n,0),Ki(n,r),rn(n,We()),t;switch(n.finishedWork=i,n.finishedLanes=r,e){case 0:case 1:throw Error(O(345));case 2:Ws(n,Yt,qr);break;case 3:if(Ki(n,r),(r&130023424)===r&&(e=s1+500-We(),10<e)){if(Zf(n,0)!==0)break;if(i=n.suspendedLanes,(i&r)!==r){Ht(),n.pingedLanes|=n.suspendedLanes&i;break}n.timeoutHandle=f0(Ws.bind(null,n,Yt,qr),e);break}Ws(n,Yt,qr);break;case 4:if(Ki(n,r),(r&4194240)===r)break;for(e=n.eventTimes,i=-1;0<r;){var o=31-cr(r);s=1<<o,o=e[o],o>i&&(i=o),r&=~s}if(r=i,r=We()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Nk(r/1960))-r,10<r){n.timeoutHandle=f0(Ws.bind(null,n,Yt,qr),r);break}Ws(n,Yt,qr);break;case 5:Ws(n,Yt,qr);break;default:throw Error(O(329))}}}return rn(n,We()),n.callbackNode===t?_A.bind(null,n):null}function N0(n,e){var t=iu;return n.current.memoizedState.isDehydrated&&(Zo(n,e).flags|=256),n=gp(n,e),n!==2&&(e=Yt,Yt=t,e!==null&&D0(e)),n}function D0(n){Yt===null?Yt=n:Yt.push.apply(Yt,n)}function Dk(n){for(var e=n;;){if(e.flags&16384){var t=e.updateQueue;if(t!==null&&(t=t.stores,t!==null))for(var r=0;r<t.length;r++){var i=t[r],s=i.getSnapshot;i=i.value;try{if(!hr(s(),i))return!1}catch{return!1}}}if(t=e.child,e.subtreeFlags&16384&&t!==null)t.return=e,e=t;else{if(e===n)break;for(;e.sibling===null;){if(e.return===null||e.return===n)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Ki(n,e){for(e&=~i1,e&=~dm,n.suspendedLanes|=e,n.pingedLanes&=~e,n=n.expirationTimes;0<e;){var t=31-cr(e),r=1<<t;n[t]=-1,e&=~r}}function Zx(n){if(de&6)throw Error(O(327));Za();var e=Zf(n,0);if(!(e&1))return rn(n,We()),null;var t=gp(n,e);if(n.tag!==0&&t===2){var r=s0(n);r!==0&&(e=r,t=N0(n,r))}if(t===1)throw t=Tu,Zo(n,0),Ki(n,e),rn(n,We()),t;if(t===6)throw Error(O(345));return n.finishedWork=n.current.alternate,n.finishedLanes=e,Ws(n,Yt,qr),rn(n,We()),null}function o1(n,e){var t=de;de|=1;try{return n(e)}finally{de=t,de===0&&(rc=We()+500,am&&Hs())}}function aa(n){ys!==null&&ys.tag===0&&!(de&6)&&Za();var e=de;de|=1;var t=jn.transition,r=ve;try{if(jn.transition=null,ve=1,n)return n()}finally{ve=r,jn.transition=t,de=e,!(de&6)&&Hs()}}function a1(){vn=Wa.current,ke(Wa)}function Zo(n,e){n.finishedWork=null,n.finishedLanes=0;var t=n.timeoutHandle;if(t!==-1&&(n.timeoutHandle=-1,uk(t)),Xe!==null)for(t=Xe.return;t!==null;){var r=t;switch(By(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&rp();break;case 3:tc(),ke(tn),ke(Lt),Yy();break;case 5:Ky(r);break;case 4:tc();break;case 13:ke(De);break;case 19:ke(De);break;case 10:Wy(r.type._context);break;case 22:case 23:a1()}t=t.return}if(ct=n,Xe=n=ks(n.current,null),xt=vn=e,rt=0,Tu=null,i1=dm=oa=0,Yt=iu=null,Zs!==null){for(e=0;e<Zs.length;e++)if(t=Zs[e],r=t.interleaved,r!==null){t.interleaved=null;var i=r.next,s=t.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}t.pending=r}Zs=null}return n}function CA(n,e){do{var t=Xe;try{if(Vy(),hf.current=hp,dp){for(var r=Oe.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}dp=!1}if(sa=0,lt=tt=Oe=null,nu=!1,Su=0,r1.current=null,t===null||t.return===null){rt=1,Tu=e,Xe=null;break}e:{var s=n,o=t.return,a=t,l=e;if(e=xt,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,d=a,h=d.tag;if(!(d.mode&1)&&(h===0||h===11||h===15)){var f=d.alternate;f?(d.updateQueue=f.updateQueue,d.memoizedState=f.memoizedState,d.lanes=f.lanes):(d.updateQueue=null,d.memoizedState=null)}var p=$x(o);if(p!==null){p.flags&=-257,Hx(p,o,a,s,e),p.mode&1&&jx(s,u,e),e=p,l=u;var m=e.updateQueue;if(m===null){var v=new Set;v.add(l),e.updateQueue=v}else m.add(l);break e}else{if(!(e&1)){jx(s,u,e),l1();break e}l=Error(O(426))}}else if(Re&&a.mode&1){var b=$x(o);if(b!==null){!(b.flags&65536)&&(b.flags|=256),Hx(b,o,a,s,e),zy(nc(l,a));break e}}s=l=nc(l,a),rt!==4&&(rt=2),iu===null?iu=[s]:iu.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var g=cA(s,l,e);Mx(s,g);break e;case 1:a=l;var y=s.type,x=s.stateNode;if(!(s.flags&128)&&(typeof y.getDerivedStateFromError=="function"||x!==null&&typeof x.componentDidCatch=="function"&&(Cs===null||!Cs.has(x)))){s.flags|=65536,e&=-e,s.lanes|=e;var C=uA(s,a,e);Mx(s,C);break e}}s=s.return}while(s!==null)}PA(t)}catch(T){e=T,Xe===t&&t!==null&&(Xe=t=t.return);continue}break}while(!0)}function TA(){var n=fp.current;return fp.current=hp,n===null?hp:n}function l1(){(rt===0||rt===3||rt===2)&&(rt=4),ct===null||!(oa&268435455)&&!(dm&268435455)||Ki(ct,xt)}function gp(n,e){var t=de;de|=2;var r=TA();(ct!==n||xt!==e)&&(qr=null,Zo(n,e));do try{Fk();break}catch(i){CA(n,i)}while(!0);if(Vy(),de=t,fp.current=r,Xe!==null)throw Error(O(261));return ct=null,xt=0,rt}function Fk(){for(;Xe!==null;)kA(Xe)}function Ik(){for(;Xe!==null&&!aT();)kA(Xe)}function kA(n){var e=LA(n.alternate,n,vn);n.memoizedProps=n.pendingProps,e===null?PA(n):Xe=e,r1.current=null}function PA(n){var e=n;do{var t=e.alternate;if(n=e.return,e.flags&32768){if(t=Pk(t,e),t!==null){t.flags&=32767,Xe=t;return}if(n!==null)n.flags|=32768,n.subtreeFlags=0,n.deletions=null;else{rt=6,Xe=null;return}}else if(t=kk(t,e,vn),t!==null){Xe=t;return}if(e=e.sibling,e!==null){Xe=e;return}Xe=e=n}while(e!==null);rt===0&&(rt=5)}function Ws(n,e,t){var r=ve,i=jn.transition;try{jn.transition=null,ve=1,Ok(n,e,t,r)}finally{jn.transition=i,ve=r}return null}function Ok(n,e,t,r){do Za();while(ys!==null);if(de&6)throw Error(O(327));t=n.finishedWork;var i=n.finishedLanes;if(t===null)return null;if(n.finishedWork=null,n.finishedLanes=0,t===n.current)throw Error(O(177));n.callbackNode=null,n.callbackPriority=0;var s=t.lanes|t.childLanes;if(vT(n,s),n===ct&&(Xe=ct=null,xt=0),!(t.subtreeFlags&2064)&&!(t.flags&2064)||Kh||(Kh=!0,MA(Qf,function(){return Za(),null})),s=(t.flags&15990)!==0,t.subtreeFlags&15990||s){s=jn.transition,jn.transition=null;var o=ve;ve=1;var a=de;de|=4,r1.current=null,Lk(n,t),AA(t,n),rk(d0),Jf=!!u0,d0=u0=null,n.current=t,Mk(t),lT(),de=a,ve=o,jn.transition=s}else n.current=t;if(Kh&&(Kh=!1,ys=n,mp=i),s=n.pendingLanes,s===0&&(Cs=null),dT(t.stateNode),rn(n,We()),e!==null)for(r=n.onRecoverableError,t=0;t<e.length;t++)i=e[t],r(i.value,{componentStack:i.stack,digest:i.digest});if(pp)throw pp=!1,n=L0,L0=null,n;return mp&1&&n.tag!==0&&Za(),s=n.pendingLanes,s&1?n===M0?su++:(su=0,M0=n):su=0,Hs(),null}function Za(){if(ys!==null){var n=cE(mp),e=jn.transition,t=ve;try{if(jn.transition=null,ve=16>n?16:n,ys===null)var r=!1;else{if(n=ys,ys=null,mp=0,de&6)throw Error(O(331));var i=de;for(de|=4,V=n.current;V!==null;){var s=V,o=s.child;if(V.flags&16){var a=s.deletions;if(a!==null){for(var l=0;l<a.length;l++){var u=a[l];for(V=u;V!==null;){var d=V;switch(d.tag){case 0:case 11:case 15:ru(8,d,s)}var h=d.child;if(h!==null)h.return=d,V=h;else for(;V!==null;){d=V;var f=d.sibling,p=d.return;if(wA(d),d===u){V=null;break}if(f!==null){f.return=p,V=f;break}V=p}}}var m=s.alternate;if(m!==null){var v=m.child;if(v!==null){m.child=null;do{var b=v.sibling;v.sibling=null,v=b}while(v!==null)}}V=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,V=o;else e:for(;V!==null;){if(s=V,s.flags&2048)switch(s.tag){case 0:case 11:case 15:ru(9,s,s.return)}var g=s.sibling;if(g!==null){g.return=s.return,V=g;break e}V=s.return}}var y=n.current;for(V=y;V!==null;){o=V;var x=o.child;if(o.subtreeFlags&2064&&x!==null)x.return=o,V=x;else e:for(o=y;V!==null;){if(a=V,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:um(9,a)}}catch(T){ze(a,a.return,T)}if(a===o){V=null;break e}var C=a.sibling;if(C!==null){C.return=a.return,V=C;break e}V=a.return}}if(de=i,Hs(),Or&&typeof Or.onPostCommitFiberRoot=="function")try{Or.onPostCommitFiberRoot(nm,n)}catch{}r=!0}return r}finally{ve=t,jn.transition=e}}return!1}function Jx(n,e,t){e=nc(t,e),e=cA(n,e,1),n=_s(n,e,1),e=Ht(),n!==null&&(ph(n,1,e),rn(n,e))}function ze(n,e,t){if(n.tag===3)Jx(n,n,t);else for(;e!==null;){if(e.tag===3){Jx(e,n,t);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Cs===null||!Cs.has(r))){n=nc(t,n),n=uA(e,n,1),e=_s(e,n,1),n=Ht(),e!==null&&(ph(e,1,n),rn(e,n));break}}e=e.return}}function jk(n,e,t){var r=n.pingCache;r!==null&&r.delete(e),e=Ht(),n.pingedLanes|=n.suspendedLanes&t,ct===n&&(xt&t)===t&&(rt===4||rt===3&&(xt&130023424)===xt&&500>We()-s1?Zo(n,0):i1|=t),rn(n,e)}function RA(n,e){e===0&&(n.mode&1?(e=$h,$h<<=1,!($h&130023424)&&($h=4194304)):e=1);var t=Ht();n=Mi(n,e),n!==null&&(ph(n,e,t),rn(n,t))}function $k(n){var e=n.memoizedState,t=0;e!==null&&(t=e.retryLane),RA(n,t)}function Hk(n,e){var t=0;switch(n.tag){case 13:var r=n.stateNode,i=n.memoizedState;i!==null&&(t=i.retryLane);break;case 19:r=n.stateNode;break;default:throw Error(O(314))}r!==null&&r.delete(e),RA(n,t)}var LA;LA=function(n,e,t){if(n!==null)if(n.memoizedProps!==e.pendingProps||tn.current)Qt=!0;else{if(!(n.lanes&t)&&!(e.flags&128))return Qt=!1,Tk(n,e,t);Qt=!!(n.flags&131072)}else Qt=!1,Re&&e.flags&1048576&&FE(e,op,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;pf(n,e),n=e.pendingProps;var i=Zl(e,Lt.current);Qa(e,t),i=Zy(null,e,r,n,i,t);var s=Jy();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,nn(r)?(s=!0,ip(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,qy(e),i.updater=cm,e.stateNode=i,i._reactInternals=e,w0(e,r,n,t),e=A0(null,e,r,!0,s,t)):(e.tag=0,Re&&s&&Hy(e),jt(null,e,i,t),e=e.child),e;case 16:r=e.elementType;e:{switch(pf(n,e),n=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=zk(r),n=Xn(r,n),i){case 0:e=E0(null,e,r,n,t);break e;case 1:e=Ux(null,e,r,n,t);break e;case 11:e=Bx(null,e,r,n,t);break e;case 14:e=zx(null,e,r,Xn(r.type,n),t);break e}throw Error(O(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Xn(r,i),E0(n,e,r,i,t);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Xn(r,i),Ux(n,e,r,i,t);case 3:e:{if(pA(e),n===null)throw Error(O(387));r=e.pendingProps,s=e.memoizedState,i=s.element,BE(n,e),cp(e,r,null,t);var o=e.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=nc(Error(O(423)),e),e=Vx(n,e,r,t,i);break e}else if(r!==i){i=nc(Error(O(424)),e),e=Vx(n,e,r,t,i);break e}else for(wn=Ss(e.stateNode.containerInfo.firstChild),bn=e,Re=!0,lr=null,t=$E(e,null,r,t),e.child=t;t;)t.flags=t.flags&-3|4096,t=t.sibling;else{if(Jl(),r===i){e=Ni(n,e,t);break e}jt(n,e,r,t)}e=e.child}return e;case 5:return zE(e),n===null&&v0(e),r=e.type,i=e.pendingProps,s=n!==null?n.memoizedProps:null,o=i.children,h0(r,i)?o=null:s!==null&&h0(r,s)&&(e.flags|=32),fA(n,e),jt(n,e,o,t),e.child;case 6:return n===null&&v0(e),null;case 13:return mA(n,e,t);case 4:return Xy(e,e.stateNode.containerInfo),r=e.pendingProps,n===null?e.child=ec(e,null,r,t):jt(n,e,r,t),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Xn(r,i),Bx(n,e,r,i,t);case 7:return jt(n,e,e.pendingProps,t),e.child;case 8:return jt(n,e,e.pendingProps.children,t),e.child;case 12:return jt(n,e,e.pendingProps.children,t),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,Ce(ap,r._currentValue),r._currentValue=o,s!==null)if(hr(s.value,o)){if(s.children===i.children&&!tn.current){e=Ni(n,e,t);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(s.tag===1){l=_i(-1,t&-t),l.tag=2;var u=s.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?l.next=l:(l.next=d.next,d.next=l),u.pending=l}}s.lanes|=t,l=s.alternate,l!==null&&(l.lanes|=t),y0(s.return,t,e),a.lanes|=t;break}l=l.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(O(341));o.lanes|=t,a=o.alternate,a!==null&&(a.lanes|=t),y0(o,t,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}jt(n,e,i.children,t),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,Qa(e,t),i=Bn(i),r=r(i),e.flags|=1,jt(n,e,r,t),e.child;case 14:return r=e.type,i=Xn(r,e.pendingProps),i=Xn(r.type,i),zx(n,e,r,i,t);case 15:return dA(n,e,e.type,e.pendingProps,t);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Xn(r,i),pf(n,e),e.tag=1,nn(r)?(n=!0,ip(e)):n=!1,Qa(e,t),lA(e,r,i),w0(e,r,i,t),A0(null,e,r,!0,n,t);case 19:return gA(n,e,t);case 22:return hA(n,e,t)}throw Error(O(156,e.tag))};function MA(n,e){return sE(n,e)}function Bk(n,e,t,r){this.tag=n,this.key=t,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function On(n,e,t,r){return new Bk(n,e,t,r)}function c1(n){return n=n.prototype,!(!n||!n.isReactComponent)}function zk(n){if(typeof n=="function")return c1(n)?1:0;if(n!=null){if(n=n.$$typeof,n===ky)return 11;if(n===Py)return 14}return 2}function ks(n,e){var t=n.alternate;return t===null?(t=On(n.tag,e,n.key,n.mode),t.elementType=n.elementType,t.type=n.type,t.stateNode=n.stateNode,t.alternate=n,n.alternate=t):(t.pendingProps=e,t.type=n.type,t.flags=0,t.subtreeFlags=0,t.deletions=null),t.flags=n.flags&14680064,t.childLanes=n.childLanes,t.lanes=n.lanes,t.child=n.child,t.memoizedProps=n.memoizedProps,t.memoizedState=n.memoizedState,t.updateQueue=n.updateQueue,e=n.dependencies,t.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},t.sibling=n.sibling,t.index=n.index,t.ref=n.ref,t}function vf(n,e,t,r,i,s){var o=2;if(r=n,typeof n=="function")c1(n)&&(o=1);else if(typeof n=="string")o=5;else e:switch(n){case Fa:return Jo(t.children,i,s,e);case Ty:o=8,i|=8;break;case Vg:return n=On(12,t,e,i|2),n.elementType=Vg,n.lanes=s,n;case Wg:return n=On(13,t,e,i),n.elementType=Wg,n.lanes=s,n;case Gg:return n=On(19,t,e,i),n.elementType=Gg,n.lanes=s,n;case zb:return hm(t,i,s,e);default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case Hb:o=10;break e;case Bb:o=9;break e;case ky:o=11;break e;case Py:o=14;break e;case Gi:o=16,r=null;break e}throw Error(O(130,n==null?n:typeof n,""))}return e=On(o,t,e,i),e.elementType=n,e.type=r,e.lanes=s,e}function Jo(n,e,t,r){return n=On(7,n,r,e),n.lanes=t,n}function hm(n,e,t,r){return n=On(22,n,r,e),n.elementType=zb,n.lanes=t,n.stateNode={isHidden:!1},n}function xg(n,e,t){return n=On(6,n,null,e),n.lanes=t,n}function wg(n,e,t){return e=On(4,n.children!==null?n.children:[],n.key,e),e.lanes=t,e.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},e}function Uk(n,e,t,r,i){this.tag=e,this.containerInfo=n,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=eg(0),this.expirationTimes=eg(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=eg(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function u1(n,e,t,r,i,s,o,a,l){return n=new Uk(n,e,t,a,l),e===1?(e=1,s===!0&&(e|=8)):e=0,s=On(3,null,null,e),n.current=s,s.stateNode=n,s.memoizedState={element:r,isDehydrated:t,cache:null,transitions:null,pendingSuspenseBoundaries:null},qy(s),n}function Vk(n,e,t){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Da,key:r==null?null:""+r,children:n,containerInfo:e,implementation:t}}function NA(n){if(!n)return Ls;n=n._reactInternals;e:{if(xa(n)!==n||n.tag!==1)throw Error(O(170));var e=n;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(nn(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(O(171))}if(n.tag===1){var t=n.type;if(nn(t))return NE(n,t,e)}return e}function DA(n,e,t,r,i,s,o,a,l){return n=u1(t,r,!0,n,i,s,o,a,l),n.context=NA(null),t=n.current,r=Ht(),i=Ts(t),s=_i(r,i),s.callback=e??null,_s(t,s,i),n.current.lanes=i,ph(n,i,r),rn(n,r),n}function fm(n,e,t,r){var i=e.current,s=Ht(),o=Ts(i);return t=NA(t),e.context===null?e.context=t:e.pendingContext=t,e=_i(s,o),e.payload={element:n},r=r===void 0?null:r,r!==null&&(e.callback=r),n=_s(i,e,o),n!==null&&(ur(n,i,o,s),df(n,i,o)),o}function vp(n){if(n=n.current,!n.child)return null;switch(n.child.tag){case 5:return n.child.stateNode;default:return n.child.stateNode}}function ew(n,e){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var t=n.retryLane;n.retryLane=t!==0&&t<e?t:e}}function d1(n,e){ew(n,e),(n=n.alternate)&&ew(n,e)}function Wk(){return null}var FA=typeof reportError=="function"?reportError:function(n){console.error(n)};function h1(n){this._internalRoot=n}pm.prototype.render=h1.prototype.render=function(n){var e=this._internalRoot;if(e===null)throw Error(O(409));fm(n,e,null,null)};pm.prototype.unmount=h1.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var e=n.containerInfo;aa(function(){fm(null,n,null,null)}),e[Li]=null}};function pm(n){this._internalRoot=n}pm.prototype.unstable_scheduleHydration=function(n){if(n){var e=hE();n={blockedOn:null,target:n,priority:e};for(var t=0;t<Xi.length&&e!==0&&e<Xi[t].priority;t++);Xi.splice(t,0,n),t===0&&pE(n)}};function f1(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function mm(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11&&(n.nodeType!==8||n.nodeValue!==" react-mount-point-unstable "))}function tw(){}function Gk(n,e,t,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var u=vp(o);s.call(u)}}var o=DA(e,r,n,0,null,!1,!1,"",tw);return n._reactRootContainer=o,n[Li]=o.current,xu(n.nodeType===8?n.parentNode:n),aa(),o}for(;i=n.lastChild;)n.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var u=vp(l);a.call(u)}}var l=u1(n,0,!1,null,null,!1,!1,"",tw);return n._reactRootContainer=l,n[Li]=l.current,xu(n.nodeType===8?n.parentNode:n),aa(function(){fm(e,l,t,r)}),l}function gm(n,e,t,r,i){var s=t._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var l=vp(o);a.call(l)}}fm(e,o,n,i)}else o=Gk(t,e,n,i,r);return vp(o)}uE=function(n){switch(n.tag){case 3:var e=n.stateNode;if(e.current.memoizedState.isDehydrated){var t=Dc(e.pendingLanes);t!==0&&(My(e,t|1),rn(e,We()),!(de&6)&&(rc=We()+500,Hs()))}break;case 13:aa(function(){var r=Mi(n,1);if(r!==null){var i=Ht();ur(r,n,1,i)}}),d1(n,1)}};Ny=function(n){if(n.tag===13){var e=Mi(n,134217728);if(e!==null){var t=Ht();ur(e,n,134217728,t)}d1(n,134217728)}};dE=function(n){if(n.tag===13){var e=Ts(n),t=Mi(n,e);if(t!==null){var r=Ht();ur(t,n,e,r)}d1(n,e)}};hE=function(){return ve};fE=function(n,e){var t=ve;try{return ve=n,e()}finally{ve=t}};n0=function(n,e,t){switch(e){case"input":if(Kg(n,t),e=t.name,t.type==="radio"&&e!=null){for(t=n;t.parentNode;)t=t.parentNode;for(t=t.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<t.length;e++){var r=t[e];if(r!==n&&r.form===n.form){var i=om(r);if(!i)throw Error(O(90));Vb(r),Kg(r,i)}}}break;case"textarea":Gb(n,t);break;case"select":e=t.value,e!=null&&qa(n,!!t.multiple,e,!1)}};Jb=o1;eE=aa;var qk={usingClientEntryPoint:!1,Events:[gh,$a,om,Qb,Zb,o1]},Cc={findFiberByHostInstance:Qs,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Xk={bundleType:Cc.bundleType,version:Cc.version,rendererPackageName:Cc.rendererPackageName,rendererConfig:Cc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Ii.ReactCurrentDispatcher,findHostInstanceByFiber:function(n){return n=rE(n),n===null?null:n.stateNode},findFiberByHostInstance:Cc.findFiberByHostInstance||Wk,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Yh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Yh.isDisabled&&Yh.supportsFiber)try{nm=Yh.inject(Xk),Or=Yh}catch{}}Sn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=qk;Sn.createPortal=function(n,e){var t=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!f1(e))throw Error(O(200));return Vk(n,e,null,t)};Sn.createRoot=function(n,e){if(!f1(n))throw Error(O(299));var t=!1,r="",i=FA;return e!=null&&(e.unstable_strictMode===!0&&(t=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=u1(n,1,!1,null,null,t,!1,r,i),n[Li]=e.current,xu(n.nodeType===8?n.parentNode:n),new h1(e)};Sn.findDOMNode=function(n){if(n==null)return null;if(n.nodeType===1)return n;var e=n._reactInternals;if(e===void 0)throw typeof n.render=="function"?Error(O(188)):(n=Object.keys(n).join(","),Error(O(268,n)));return n=rE(e),n=n===null?null:n.stateNode,n};Sn.flushSync=function(n){return aa(n)};Sn.hydrate=function(n,e,t){if(!mm(e))throw Error(O(200));return gm(null,n,e,!0,t)};Sn.hydrateRoot=function(n,e,t){if(!f1(n))throw Error(O(405));var r=t!=null&&t.hydratedSources||null,i=!1,s="",o=FA;if(t!=null&&(t.unstable_strictMode===!0&&(i=!0),t.identifierPrefix!==void 0&&(s=t.identifierPrefix),t.onRecoverableError!==void 0&&(o=t.onRecoverableError)),e=DA(e,null,n,1,t??null,i,!1,s,o),n[Li]=e.current,xu(n),r)for(n=0;n<r.length;n++)t=r[n],i=t._getVersion,i=i(t._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[t,i]:e.mutableSourceEagerHydrationData.push(t,i);return new pm(e)};Sn.render=function(n,e,t){if(!mm(e))throw Error(O(200));return gm(null,n,e,!1,t)};Sn.unmountComponentAtNode=function(n){if(!mm(n))throw Error(O(40));return n._reactRootContainer?(aa(function(){gm(null,null,n,!1,function(){n._reactRootContainer=null,n[Li]=null})}),!0):!1};Sn.unstable_batchedUpdates=o1;Sn.unstable_renderSubtreeIntoContainer=function(n,e,t,r){if(!mm(t))throw Error(O(200));if(n==null||n._reactInternals===void 0)throw Error(O(38));return gm(n,e,t,!1,r)};Sn.version="18.3.1-next-f1338f8080-20240426";function IA(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(IA)}catch(n){console.error(n)}}IA(),Ib.exports=Sn;var $n=Ib.exports,nw=$n;zg.createRoot=nw.createRoot,zg.hydrateRoot=nw.hydrateRoot;/**
 * @remix-run/router v1.16.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ku(){return ku=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},ku.apply(this,arguments)}var xs;(function(n){n.Pop="POP",n.Push="PUSH",n.Replace="REPLACE"})(xs||(xs={}));const rw="popstate";function Kk(n){n===void 0&&(n={});function e(r,i){let{pathname:s,search:o,hash:a}=r.location;return F0("",{pathname:s,search:o,hash:a},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function t(r,i){return typeof i=="string"?i:jA(i)}return Qk(e,t,null,n)}function it(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function OA(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function Yk(){return Math.random().toString(36).substr(2,8)}function iw(n,e){return{usr:n.state,key:n.key,idx:e}}function F0(n,e,t,r){return t===void 0&&(t=null),ku({pathname:typeof n=="string"?n:n.pathname,search:"",hash:""},typeof e=="string"?cc(e):e,{state:t,key:e&&e.key||r||Yk()})}function jA(n){let{pathname:e="/",search:t="",hash:r=""}=n;return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function cc(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substr(t),n=n.substr(0,t));let r=n.indexOf("?");r>=0&&(e.search=n.substr(r),n=n.substr(0,r)),n&&(e.pathname=n)}return e}function Qk(n,e,t,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:s=!1}=r,o=i.history,a=xs.Pop,l=null,u=d();u==null&&(u=0,o.replaceState(ku({},o.state,{idx:u}),""));function d(){return(o.state||{idx:null}).idx}function h(){a=xs.Pop;let b=d(),g=b==null?null:b-u;u=b,l&&l({action:a,location:v.location,delta:g})}function f(b,g){a=xs.Push;let y=F0(v.location,b,g);u=d()+1;let x=iw(y,u),C=v.createHref(y);try{o.pushState(x,"",C)}catch(T){if(T instanceof DOMException&&T.name==="DataCloneError")throw T;i.location.assign(C)}s&&l&&l({action:a,location:v.location,delta:1})}function p(b,g){a=xs.Replace;let y=F0(v.location,b,g);u=d();let x=iw(y,u),C=v.createHref(y);o.replaceState(x,"",C),s&&l&&l({action:a,location:v.location,delta:0})}function m(b){let g=i.location.origin!=="null"?i.location.origin:i.location.href,y=typeof b=="string"?b:jA(b);return y=y.replace(/ $/,"%20"),it(g,"No window.location.(origin|href) available to create URL for href: "+y),new URL(y,g)}let v={get action(){return a},get location(){return n(i,o)},listen(b){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(rw,h),l=b,()=>{i.removeEventListener(rw,h),l=null}},createHref(b){return e(i,b)},createURL:m,encodeLocation(b){let g=m(b);return{pathname:g.pathname,search:g.search,hash:g.hash}},push:f,replace:p,go(b){return o.go(b)}};return v}var sw;(function(n){n.data="data",n.deferred="deferred",n.redirect="redirect",n.error="error"})(sw||(sw={}));function Zk(n,e,t){t===void 0&&(t="/");let r=typeof e=="string"?cc(e):e,i=BA(r.pathname||"/",t);if(i==null)return null;let s=$A(n);Jk(s);let o=null;for(let a=0;o==null&&a<s.length;++a){let l=dP(i);o=lP(s[a],l)}return o}function $A(n,e,t,r){e===void 0&&(e=[]),t===void 0&&(t=[]),r===void 0&&(r="");let i=(s,o,a)=>{let l={relativePath:a===void 0?s.path||"":a,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};l.relativePath.startsWith("/")&&(it(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let u=ea([r,l.relativePath]),d=t.concat(l);s.children&&s.children.length>0&&(it(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),$A(s.children,e,d,u)),!(s.path==null&&!s.index)&&e.push({path:u,score:oP(u,s.index),routesMeta:d})};return n.forEach((s,o)=>{var a;if(s.path===""||!((a=s.path)!=null&&a.includes("?")))i(s,o);else for(let l of HA(s.path))i(s,o,l)}),e}function HA(n){let e=n.split("/");if(e.length===0)return[];let[t,...r]=e,i=t.endsWith("?"),s=t.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let o=HA(r.join("/")),a=[];return a.push(...o.map(l=>l===""?s:[s,l].join("/"))),i&&a.push(...o),a.map(l=>n.startsWith("/")&&l===""?"/":l)}function Jk(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:aP(e.routesMeta.map(r=>r.childrenIndex),t.routesMeta.map(r=>r.childrenIndex)))}const eP=/^:[\w-]+$/,tP=3,nP=2,rP=1,iP=10,sP=-2,ow=n=>n==="*";function oP(n,e){let t=n.split("/"),r=t.length;return t.some(ow)&&(r+=sP),e&&(r+=nP),t.filter(i=>!ow(i)).reduce((i,s)=>i+(eP.test(s)?tP:s===""?rP:iP),r)}function aP(n,e){return n.length===e.length&&n.slice(0,-1).every((r,i)=>r===e[i])?n[n.length-1]-e[e.length-1]:0}function lP(n,e){let{routesMeta:t}=n,r={},i="/",s=[];for(let o=0;o<t.length;++o){let a=t[o],l=o===t.length-1,u=i==="/"?e:e.slice(i.length)||"/",d=cP({path:a.relativePath,caseSensitive:a.caseSensitive,end:l},u);if(!d)return null;Object.assign(r,d.params);let h=a.route;s.push({params:r,pathname:ea([i,d.pathname]),pathnameBase:vP(ea([i,d.pathnameBase])),route:h}),d.pathnameBase!=="/"&&(i=ea([i,d.pathnameBase]))}return s}function cP(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,r]=uP(n.path,n.caseSensitive,n.end),i=e.match(t);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((u,d,h)=>{let{paramName:f,isOptional:p}=d;if(f==="*"){let v=a[h]||"";o=s.slice(0,s.length-v.length).replace(/(.)\/+$/,"$1")}const m=a[h];return p&&!m?u[f]=void 0:u[f]=(m||"").replace(/%2F/g,"/"),u},{}),pathname:s,pathnameBase:o,pattern:n}}function uP(n,e,t){e===void 0&&(e=!1),t===void 0&&(t=!0),OA(n==="*"||!n.endsWith("*")||n.endsWith("/*"),'Route path "'+n+'" will be treated as if it were '+('"'+n.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+n.replace(/\*$/,"/*")+'".'));let r=[],i="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,l)=>(r.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return n.endsWith("*")?(r.push({paramName:"*"}),i+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?i+="\\/*$":n!==""&&n!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function dP(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return OA(!1,'The URL path "'+n+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),n}}function BA(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,r=n.charAt(t);return r&&r!=="/"?null:n.slice(t)||"/"}function hP(n,e){e===void 0&&(e="/");let{pathname:t,search:r="",hash:i=""}=typeof n=="string"?cc(n):n;return{pathname:t?t.startsWith("/")?t:fP(t,e):e,search:yP(r),hash:xP(i)}}function fP(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(i=>{i===".."?t.length>1&&t.pop():i!=="."&&t.push(i)}),t.length>1?t.join("/"):"/"}function bg(n,e,t,r){return"Cannot include a '"+n+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+t+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function pP(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function mP(n,e){let t=pP(n);return e?t.map((r,i)=>i===n.length-1?r.pathname:r.pathnameBase):t.map(r=>r.pathnameBase)}function gP(n,e,t,r){r===void 0&&(r=!1);let i;typeof n=="string"?i=cc(n):(i=ku({},n),it(!i.pathname||!i.pathname.includes("?"),bg("?","pathname","search",i)),it(!i.pathname||!i.pathname.includes("#"),bg("#","pathname","hash",i)),it(!i.search||!i.search.includes("#"),bg("#","search","hash",i)));let s=n===""||i.pathname==="",o=s?"/":i.pathname,a;if(o==null)a=t;else{let h=e.length-1;if(!r&&o.startsWith("..")){let f=o.split("/");for(;f[0]==="..";)f.shift(),h-=1;i.pathname=f.join("/")}a=h>=0?e[h]:"/"}let l=hP(i,a),u=o&&o!=="/"&&o.endsWith("/"),d=(s||o===".")&&t.endsWith("/");return!l.pathname.endsWith("/")&&(u||d)&&(l.pathname+="/"),l}const ea=n=>n.join("/").replace(/\/\/+/g,"/"),vP=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),yP=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,xP=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function wP(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}const zA=["post","put","patch","delete"];new Set(zA);const bP=["get",...zA];new Set(bP);/**
 * React Router v6.23.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Pu(){return Pu=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},Pu.apply(this,arguments)}const p1=S.createContext(null),EP=S.createContext(null),vm=S.createContext(null),ym=S.createContext(null),uc=S.createContext({outlet:null,matches:[],isDataRoute:!1}),UA=S.createContext(null);function xm(){return S.useContext(ym)!=null}function m1(){return xm()||it(!1),S.useContext(ym).location}function VA(n){S.useContext(vm).static||S.useLayoutEffect(n)}function yh(){let{isDataRoute:n}=S.useContext(uc);return n?FP():AP()}function AP(){xm()||it(!1);let n=S.useContext(p1),{basename:e,future:t,navigator:r}=S.useContext(vm),{matches:i}=S.useContext(uc),{pathname:s}=m1(),o=JSON.stringify(mP(i,t.v7_relativeSplatPath)),a=S.useRef(!1);return VA(()=>{a.current=!0}),S.useCallback(function(u,d){if(d===void 0&&(d={}),!a.current)return;if(typeof u=="number"){r.go(u);return}let h=gP(u,JSON.parse(o),s,d.relative==="path");n==null&&e!=="/"&&(h.pathname=h.pathname==="/"?e:ea([e,h.pathname])),(d.replace?r.replace:r.push)(h,d.state,d)},[e,r,o,s,n])}function SP(n,e){return _P(n,e)}function _P(n,e,t,r){xm()||it(!1);let{navigator:i}=S.useContext(vm),{matches:s}=S.useContext(uc),o=s[s.length-1],a=o?o.params:{};o&&o.pathname;let l=o?o.pathnameBase:"/";o&&o.route;let u=m1(),d;if(e){var h;let b=typeof e=="string"?cc(e):e;l==="/"||(h=b.pathname)!=null&&h.startsWith(l)||it(!1),d=b}else d=u;let f=d.pathname||"/",p=f;if(l!=="/"){let b=l.replace(/^\//,"").split("/");p="/"+f.replace(/^\//,"").split("/").slice(b.length).join("/")}let m=Zk(n,{pathname:p}),v=RP(m&&m.map(b=>Object.assign({},b,{params:Object.assign({},a,b.params),pathname:ea([l,i.encodeLocation?i.encodeLocation(b.pathname).pathname:b.pathname]),pathnameBase:b.pathnameBase==="/"?l:ea([l,i.encodeLocation?i.encodeLocation(b.pathnameBase).pathname:b.pathnameBase])})),s,t,r);return e&&v?S.createElement(ym.Provider,{value:{location:Pu({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:xs.Pop}},v):v}function CP(){let n=DP(),e=wP(n)?n.status+" "+n.statusText:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return S.createElement(S.Fragment,null,S.createElement("h2",null,"Unexpected Application Error!"),S.createElement("h3",{style:{fontStyle:"italic"}},e),t?S.createElement("pre",{style:i},t):null,null)}const TP=S.createElement(CP,null);class kP extends S.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return this.state.error!==void 0?S.createElement(uc.Provider,{value:this.props.routeContext},S.createElement(UA.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function PP(n){let{routeContext:e,match:t,children:r}=n,i=S.useContext(p1);return i&&i.static&&i.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=t.route.id),S.createElement(uc.Provider,{value:e},r)}function RP(n,e,t,r){var i;if(e===void 0&&(e=[]),t===void 0&&(t=null),r===void 0&&(r=null),n==null){var s;if((s=t)!=null&&s.errors)n=t.matches;else return null}let o=n,a=(i=t)==null?void 0:i.errors;if(a!=null){let d=o.findIndex(h=>h.route.id&&(a==null?void 0:a[h.route.id])!==void 0);d>=0||it(!1),o=o.slice(0,Math.min(o.length,d+1))}let l=!1,u=-1;if(t&&r&&r.v7_partialHydration)for(let d=0;d<o.length;d++){let h=o[d];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(u=d),h.route.id){let{loaderData:f,errors:p}=t,m=h.route.loader&&f[h.route.id]===void 0&&(!p||p[h.route.id]===void 0);if(h.route.lazy||m){l=!0,u>=0?o=o.slice(0,u+1):o=[o[0]];break}}}return o.reduceRight((d,h,f)=>{let p,m=!1,v=null,b=null;t&&(p=a&&h.route.id?a[h.route.id]:void 0,v=h.route.errorElement||TP,l&&(u<0&&f===0?(m=!0,b=null):u===f&&(m=!0,b=h.route.hydrateFallbackElement||null)));let g=e.concat(o.slice(0,f+1)),y=()=>{let x;return p?x=v:m?x=b:h.route.Component?x=S.createElement(h.route.Component,null):h.route.element?x=h.route.element:x=d,S.createElement(PP,{match:h,routeContext:{outlet:d,matches:g,isDataRoute:t!=null},children:x})};return t&&(h.route.ErrorBoundary||h.route.errorElement||f===0)?S.createElement(kP,{location:t.location,revalidation:t.revalidation,component:v,error:p,children:y(),routeContext:{outlet:null,matches:g,isDataRoute:!0}}):y()},null)}var WA=function(n){return n.UseBlocker="useBlocker",n.UseRevalidator="useRevalidator",n.UseNavigateStable="useNavigate",n}(WA||{}),yp=function(n){return n.UseBlocker="useBlocker",n.UseLoaderData="useLoaderData",n.UseActionData="useActionData",n.UseRouteError="useRouteError",n.UseNavigation="useNavigation",n.UseRouteLoaderData="useRouteLoaderData",n.UseMatches="useMatches",n.UseRevalidator="useRevalidator",n.UseNavigateStable="useNavigate",n.UseRouteId="useRouteId",n}(yp||{});function LP(n){let e=S.useContext(p1);return e||it(!1),e}function MP(n){let e=S.useContext(EP);return e||it(!1),e}function NP(n){let e=S.useContext(uc);return e||it(!1),e}function GA(n){let e=NP(),t=e.matches[e.matches.length-1];return t.route.id||it(!1),t.route.id}function DP(){var n;let e=S.useContext(UA),t=MP(yp.UseRouteError),r=GA(yp.UseRouteError);return e!==void 0?e:(n=t.errors)==null?void 0:n[r]}function FP(){let{router:n}=LP(WA.UseNavigateStable),e=GA(yp.UseNavigateStable),t=S.useRef(!1);return VA(()=>{t.current=!0}),S.useCallback(function(i,s){s===void 0&&(s={}),t.current&&(typeof i=="number"?n.navigate(i):n.navigate(i,Pu({fromRouteId:e},s)))},[n,e])}function Wr(n){it(!1)}function IP(n){let{basename:e="/",children:t=null,location:r,navigationType:i=xs.Pop,navigator:s,static:o=!1,future:a}=n;xm()&&it(!1);let l=e.replace(/^\/*/,"/"),u=S.useMemo(()=>({basename:l,navigator:s,static:o,future:Pu({v7_relativeSplatPath:!1},a)}),[l,a,s,o]);typeof r=="string"&&(r=cc(r));let{pathname:d="/",search:h="",hash:f="",state:p=null,key:m="default"}=r,v=S.useMemo(()=>{let b=BA(d,l);return b==null?null:{location:{pathname:b,search:h,hash:f,state:p,key:m},navigationType:i}},[l,d,h,f,p,m,i]);return v==null?null:S.createElement(vm.Provider,{value:u},S.createElement(ym.Provider,{children:t,value:v}))}function OP(n){let{children:e,location:t}=n;return SP(I0(e),t)}new Promise(()=>{});function I0(n,e){e===void 0&&(e=[]);let t=[];return S.Children.forEach(n,(r,i)=>{if(!S.isValidElement(r))return;let s=[...e,i];if(r.type===S.Fragment){t.push.apply(t,I0(r.props.children,s));return}r.type!==Wr&&it(!1),!r.props.index||!r.props.children||it(!1);let o={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=I0(r.props.children,s)),t.push(o)}),t}/**
 * React Router DOM v6.23.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */const jP="6";try{window.__reactRouterVersion=jP}catch{}const $P="startTransition",aw=qf[$P];function HP(n){let{basename:e,children:t,future:r,window:i}=n,s=S.useRef();s.current==null&&(s.current=Kk({window:i,v5Compat:!0}));let o=s.current,[a,l]=S.useState({action:o.action,location:o.location}),{v7_startTransition:u}=r||{},d=S.useCallback(h=>{u&&aw?aw(()=>l(h)):l(h)},[l,u]);return S.useLayoutEffect(()=>o.listen(d),[o,d]),S.createElement(IP,{basename:e,children:t,location:a.location,navigationType:a.action,navigator:o,future:r})}var lw;(function(n){n.UseScrollRestoration="useScrollRestoration",n.UseSubmit="useSubmit",n.UseSubmitFetcher="useSubmitFetcher",n.UseFetcher="useFetcher",n.useViewTransitionState="useViewTransitionState"})(lw||(lw={}));var cw;(function(n){n.UseFetcher="useFetcher",n.UseFetchers="useFetchers",n.UseScrollRestoration="useScrollRestoration"})(cw||(cw={}));const qA=typeof document<"u"?Ie.useLayoutEffect:()=>{};function BP(n){const e=S.useRef(null);return qA(()=>{e.current=n},[n]),S.useCallback((...t)=>{const r=e.current;return r==null?void 0:r(...t)},[])}const xh=n=>{var e;return(e=n==null?void 0:n.ownerDocument)!==null&&e!==void 0?e:document},eo=n=>n&&"window"in n&&n.window===n?n:xh(n).defaultView||window;function XA(n){var e,t,r="";if(typeof n=="string"||typeof n=="number")r+=n;else if(typeof n=="object")if(Array.isArray(n)){var i=n.length;for(e=0;e<i;e++)n[e]&&(t=XA(n[e]))&&(r&&(r+=" "),r+=t)}else for(t in n)n[t]&&(r&&(r+=" "),r+=t);return r}function wm(){for(var n,e,t=0,r="",i=arguments.length;t<i;t++)(n=arguments[t])&&(e=XA(n))&&(r&&(r+=" "),r+=e);return r}function zP(n){var e;return typeof window>"u"||window.navigator==null?!1:((e=window.navigator.userAgentData)===null||e===void 0?void 0:e.brands.some(t=>n.test(t.brand)))||n.test(window.navigator.userAgent)}function UP(n){var e;return typeof window<"u"&&window.navigator!=null?n.test(((e=window.navigator.userAgentData)===null||e===void 0?void 0:e.platform)||window.navigator.platform):!1}function VP(){return UP(/^Mac/i)}function WP(){return zP(/Android/i)}function GP(n){return n.mozInputSource===0&&n.isTrusted?!0:WP()&&n.pointerType?n.type==="click"&&n.buttons===1:n.detail===0&&!n.pointerType}class qP{isDefaultPrevented(){return this.nativeEvent.defaultPrevented}preventDefault(){this.defaultPrevented=!0,this.nativeEvent.preventDefault()}stopPropagation(){this.nativeEvent.stopPropagation(),this.isPropagationStopped=()=>!0}isPropagationStopped(){return!1}persist(){}constructor(e,t){this.nativeEvent=t,this.target=t.target,this.currentTarget=t.currentTarget,this.relatedTarget=t.relatedTarget,this.bubbles=t.bubbles,this.cancelable=t.cancelable,this.defaultPrevented=t.defaultPrevented,this.eventPhase=t.eventPhase,this.isTrusted=t.isTrusted,this.timeStamp=t.timeStamp,this.type=e}}function KA(n){let e=S.useRef({isFocused:!1,observer:null});qA(()=>{const r=e.current;return()=>{r.observer&&(r.observer.disconnect(),r.observer=null)}},[]);let t=BP(r=>{n==null||n(r)});return S.useCallback(r=>{if(r.target instanceof HTMLButtonElement||r.target instanceof HTMLInputElement||r.target instanceof HTMLTextAreaElement||r.target instanceof HTMLSelectElement){e.current.isFocused=!0;let i=r.target,s=o=>{e.current.isFocused=!1,i.disabled&&t(new qP("blur",o)),e.current.observer&&(e.current.observer.disconnect(),e.current.observer=null)};i.addEventListener("focusout",s,{once:!0}),e.current.observer=new MutationObserver(()=>{if(e.current.isFocused&&i.disabled){var o;(o=e.current.observer)===null||o===void 0||o.disconnect();let a=i===document.activeElement?null:document.activeElement;i.dispatchEvent(new FocusEvent("blur",{relatedTarget:a})),i.dispatchEvent(new FocusEvent("focusout",{bubbles:!0,relatedTarget:a}))}}),e.current.observer.observe(i,{attributes:!0,attributeFilter:["disabled"]})}},[t])}function XP(n){let{isDisabled:e,onFocus:t,onBlur:r,onFocusChange:i}=n;const s=S.useCallback(l=>{if(l.target===l.currentTarget)return r&&r(l),i&&i(!1),!0},[r,i]),o=KA(s),a=S.useCallback(l=>{const u=xh(l.target);l.target===l.currentTarget&&u.activeElement===l.target&&(t&&t(l),i&&i(!0),o(l))},[i,t,o]);return{focusProps:{onFocus:!e&&(t||i||r)?a:void 0,onBlur:!e&&(r||i)?s:void 0}}}let wh=null,O0=new Set,ou=new Map,la=!1,j0=!1;const KP={Tab:!0,Escape:!0};function g1(n,e){for(let t of O0)t(n,e)}function YP(n){return!(n.metaKey||!VP()&&n.altKey||n.ctrlKey||n.key==="Control"||n.key==="Shift"||n.key==="Meta")}function xp(n){la=!0,YP(n)&&(wh="keyboard",g1("keyboard",n))}function Dn(n){wh="pointer",(n.type==="mousedown"||n.type==="pointerdown")&&(la=!0,g1("pointer",n))}function YA(n){GP(n)&&(la=!0,wh="virtual")}function QA(n){n.target===window||n.target===document||(!la&&!j0&&(wh="virtual",g1("virtual",n)),la=!1,j0=!1)}function ZA(){la=!1,j0=!0}function $0(n){if(typeof window>"u"||ou.get(eo(n)))return;const e=eo(n),t=xh(n);let r=e.HTMLElement.prototype.focus;e.HTMLElement.prototype.focus=function(){la=!0,r.apply(this,arguments)},t.addEventListener("keydown",xp,!0),t.addEventListener("keyup",xp,!0),t.addEventListener("click",YA,!0),e.addEventListener("focus",QA,!0),e.addEventListener("blur",ZA,!1),typeof PointerEvent<"u"?(t.addEventListener("pointerdown",Dn,!0),t.addEventListener("pointermove",Dn,!0),t.addEventListener("pointerup",Dn,!0)):(t.addEventListener("mousedown",Dn,!0),t.addEventListener("mousemove",Dn,!0),t.addEventListener("mouseup",Dn,!0)),e.addEventListener("beforeunload",()=>{JA(n)},{once:!0}),ou.set(e,{focus:r})}const JA=(n,e)=>{const t=eo(n),r=xh(n);e&&r.removeEventListener("DOMContentLoaded",e),ou.has(t)&&(t.HTMLElement.prototype.focus=ou.get(t).focus,r.removeEventListener("keydown",xp,!0),r.removeEventListener("keyup",xp,!0),r.removeEventListener("click",YA,!0),t.removeEventListener("focus",QA,!0),t.removeEventListener("blur",ZA,!1),typeof PointerEvent<"u"?(r.removeEventListener("pointerdown",Dn,!0),r.removeEventListener("pointermove",Dn,!0),r.removeEventListener("pointerup",Dn,!0)):(r.removeEventListener("mousedown",Dn,!0),r.removeEventListener("mousemove",Dn,!0),r.removeEventListener("mouseup",Dn,!0)),ou.delete(t))};function QP(n){const e=xh(n);let t;return e.readyState!=="loading"?$0(n):(t=()=>{$0(n)},e.addEventListener("DOMContentLoaded",t)),()=>JA(n,t)}typeof document<"u"&&QP();function eS(){return wh!=="pointer"}const ZP=new Set(["checkbox","radio","range","color","file","image","button","submit","reset"]);function JP(n,e,t){var r;const i=typeof window<"u"?eo(t==null?void 0:t.target).HTMLInputElement:HTMLInputElement,s=typeof window<"u"?eo(t==null?void 0:t.target).HTMLTextAreaElement:HTMLTextAreaElement,o=typeof window<"u"?eo(t==null?void 0:t.target).HTMLElement:HTMLElement,a=typeof window<"u"?eo(t==null?void 0:t.target).KeyboardEvent:KeyboardEvent;return n=n||(t==null?void 0:t.target)instanceof i&&!ZP.has(t==null||(r=t.target)===null||r===void 0?void 0:r.type)||(t==null?void 0:t.target)instanceof s||(t==null?void 0:t.target)instanceof o&&(t==null?void 0:t.target.isContentEditable),!(n&&e==="keyboard"&&t instanceof a&&!KP[t.key])}function eR(n,e,t){$0(),S.useEffect(()=>{let r=(i,s)=>{JP(!!(t!=null&&t.isTextInput),i,s)&&n(eS())};return O0.add(r),()=>{O0.delete(r)}},e)}function tR(n){let{isDisabled:e,onBlurWithin:t,onFocusWithin:r,onFocusWithinChange:i}=n,s=S.useRef({isFocusWithin:!1}),o=S.useCallback(u=>{s.current.isFocusWithin&&!u.currentTarget.contains(u.relatedTarget)&&(s.current.isFocusWithin=!1,t&&t(u),i&&i(!1))},[t,i,s]),a=KA(o),l=S.useCallback(u=>{!s.current.isFocusWithin&&document.activeElement===u.target&&(r&&r(u),i&&i(!0),s.current.isFocusWithin=!0,a(u))},[r,i,a]);return e?{focusWithinProps:{onFocus:void 0,onBlur:void 0}}:{focusWithinProps:{onFocus:l,onBlur:o}}}let wp=!1,Eg=0;function H0(){wp=!0,setTimeout(()=>{wp=!1},50)}function uw(n){n.pointerType==="touch"&&H0()}function nR(){if(!(typeof document>"u"))return typeof PointerEvent<"u"?document.addEventListener("pointerup",uw):document.addEventListener("touchend",H0),Eg++,()=>{Eg--,!(Eg>0)&&(typeof PointerEvent<"u"?document.removeEventListener("pointerup",uw):document.removeEventListener("touchend",H0))}}function rR(n){let{onHoverStart:e,onHoverChange:t,onHoverEnd:r,isDisabled:i}=n,[s,o]=S.useState(!1),a=S.useRef({isHovered:!1,ignoreEmulatedMouseEvents:!1,pointerType:"",target:null}).current;S.useEffect(nR,[]);let{hoverProps:l,triggerHoverEnd:u}=S.useMemo(()=>{let d=(p,m)=>{if(a.pointerType=m,i||m==="touch"||a.isHovered||!p.currentTarget.contains(p.target))return;a.isHovered=!0;let v=p.currentTarget;a.target=v,e&&e({type:"hoverstart",target:v,pointerType:m}),t&&t(!0),o(!0)},h=(p,m)=>{if(a.pointerType="",a.target=null,m==="touch"||!a.isHovered)return;a.isHovered=!1;let v=p.currentTarget;r&&r({type:"hoverend",target:v,pointerType:m}),t&&t(!1),o(!1)},f={};return typeof PointerEvent<"u"?(f.onPointerEnter=p=>{wp&&p.pointerType==="mouse"||d(p,p.pointerType)},f.onPointerLeave=p=>{!i&&p.currentTarget.contains(p.target)&&h(p,p.pointerType)}):(f.onTouchStart=()=>{a.ignoreEmulatedMouseEvents=!0},f.onMouseEnter=p=>{!a.ignoreEmulatedMouseEvents&&!wp&&d(p,"mouse"),a.ignoreEmulatedMouseEvents=!1},f.onMouseLeave=p=>{!i&&p.currentTarget.contains(p.target)&&h(p,"mouse")}),{hoverProps:f,triggerHoverEnd:h}},[e,t,r,i,a]);return S.useEffect(()=>{i&&u({currentTarget:a.target},a.pointerType)},[i]),{hoverProps:l,isHovered:s}}function iR(n={}){let{autoFocus:e=!1,isTextInput:t,within:r}=n,i=S.useRef({isFocused:!1,isFocusVisible:e||eS()}),[s,o]=S.useState(!1),[a,l]=S.useState(()=>i.current.isFocused&&i.current.isFocusVisible),u=S.useCallback(()=>l(i.current.isFocused&&i.current.isFocusVisible),[]),d=S.useCallback(p=>{i.current.isFocused=p,o(p),u()},[u]);eR(p=>{i.current.isFocusVisible=p,u()},[],{isTextInput:t});let{focusProps:h}=XP({isDisabled:r,onFocusChange:d}),{focusWithinProps:f}=tR({isDisabled:!r,onFocusWithinChange:d});return{isFocused:s,isFocusVisible:a,focusProps:r?f:h}}var sR=Object.defineProperty,oR=(n,e,t)=>e in n?sR(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,Ag=(n,e,t)=>(oR(n,typeof e!="symbol"?e+"":e,t),t);let aR=class{constructor(){Ag(this,"current",this.detect()),Ag(this,"handoffState","pending"),Ag(this,"currentId",0)}set(e){this.current!==e&&(this.handoffState="pending",this.currentId=0,this.current=e)}reset(){this.set(this.detect())}nextId(){return++this.currentId}get isServer(){return this.current==="server"}get isClient(){return this.current==="client"}detect(){return typeof window>"u"||typeof document>"u"?"server":"client"}handoff(){this.handoffState==="pending"&&(this.handoffState="complete")}get isHandoffComplete(){return this.handoffState==="complete"}},ta=new aR;function dc(n){return ta.isServer?null:n instanceof Node?n.ownerDocument:n!=null&&n.hasOwnProperty("current")&&n.current instanceof Node?n.current.ownerDocument:document}function tS(n){typeof queueMicrotask=="function"?queueMicrotask(n):Promise.resolve().then(n).catch(e=>setTimeout(()=>{throw e}))}function zr(){let n=[],e={addEventListener(t,r,i,s){return t.addEventListener(r,i,s),e.add(()=>t.removeEventListener(r,i,s))},requestAnimationFrame(...t){let r=requestAnimationFrame(...t);return e.add(()=>cancelAnimationFrame(r))},nextFrame(...t){return e.requestAnimationFrame(()=>e.requestAnimationFrame(...t))},setTimeout(...t){let r=setTimeout(...t);return e.add(()=>clearTimeout(r))},microTask(...t){let r={current:!0};return tS(()=>{r.current&&t[0]()}),e.add(()=>{r.current=!1})},style(t,r,i){let s=t.style.getPropertyValue(r);return Object.assign(t.style,{[r]:i}),this.add(()=>{Object.assign(t.style,{[r]:s})})},group(t){let r=zr();return t(r),this.add(()=>r.dispose())},add(t){return n.includes(t)||n.push(t),()=>{let r=n.indexOf(t);if(r>=0)for(let i of n.splice(r,1))i()}},dispose(){for(let t of n.splice(0))t()}};return e}function bm(){let[n]=S.useState(zr);return S.useEffect(()=>()=>n.dispose(),[n]),n}let Ue=(n,e)=>{ta.isServer?S.useEffect(n,e):S.useLayoutEffect(n,e)};function bh(n){let e=S.useRef(n);return Ue(()=>{e.current=n},[n]),e}let Fe=function(n){let e=bh(n);return Ie.useCallback((...t)=>e.current(...t),[e])};function lR(n){let e=n.width/2,t=n.height/2;return{top:n.clientY-t,right:n.clientX+e,bottom:n.clientY+t,left:n.clientX-e}}function cR(n,e){return!(!n||!e||n.right<e.left||n.left>e.right||n.bottom<e.top||n.top>e.bottom)}function uR({disabled:n=!1}={}){let e=S.useRef(null),[t,r]=S.useState(!1),i=bm(),s=Fe(()=>{e.current=null,r(!1),i.dispose()}),o=Fe(a=>{if(i.dispose(),e.current===null){e.current=a.currentTarget,r(!0);{let l=dc(a.currentTarget);i.addEventListener(l,"pointerup",s,!1),i.addEventListener(l,"pointermove",u=>{if(e.current){let d=lR(u);r(cR(d,e.current.getBoundingClientRect()))}},!1),i.addEventListener(l,"pointercancel",s,!1)}}});return{pressed:t,pressProps:n?{}:{onPointerDown:o,onPointerUp:s,onClick:s}}}let dR=S.createContext(void 0);function nS(){return S.useContext(dR)}function dw(...n){return Array.from(new Set(n.flatMap(e=>typeof e=="string"?e.split(" "):[]))).filter(Boolean).join(" ")}function Eh(n,e,...t){if(n in e){let i=e[n];return typeof i=="function"?i(...t):i}let r=new Error(`Tried to handle "${n}" but there is no handler defined. Only defined handlers are: ${Object.keys(e).map(i=>`"${i}"`).join(", ")}.`);throw Error.captureStackTrace&&Error.captureStackTrace(r,Eh),r}var B0=(n=>(n[n.None=0]="None",n[n.RenderStrategy=1]="RenderStrategy",n[n.Static=2]="Static",n))(B0||{}),hR=(n=>(n[n.Unmount=0]="Unmount",n[n.Hidden=1]="Hidden",n))(hR||{});function Un({ourProps:n,theirProps:e,slot:t,defaultTag:r,features:i,visible:s=!0,name:o,mergeRefs:a}){a=a??fR;let l=rS(e,n);if(s)return Qh(l,t,r,o,a);let u=i??0;if(u&2){let{static:d=!1,...h}=l;if(d)return Qh(h,t,r,o,a)}if(u&1){let{unmount:d=!0,...h}=l;return Eh(d?0:1,{0(){return null},1(){return Qh({...h,hidden:!0,style:{display:"none"}},t,r,o,a)}})}return Qh(l,t,r,o,a)}function Qh(n,e={},t,r,i){let{as:s=t,children:o,refName:a="ref",...l}=Sg(n,["unmount","static"]),u=n.ref!==void 0?{[a]:n.ref}:{},d=typeof o=="function"?o(e):o;"className"in l&&l.className&&typeof l.className=="function"&&(l.className=l.className(e)),l["aria-labelledby"]&&l["aria-labelledby"]===l.id&&(l["aria-labelledby"]=void 0);let h={};if(e){let f=!1,p=[];for(let[m,v]of Object.entries(e))typeof v=="boolean"&&(f=!0),v===!0&&p.push(m.replace(/([A-Z])/g,b=>`-${b.toLowerCase()}`));if(f){h["data-headlessui-state"]=p.join(" ");for(let m of p)h[`data-${m}`]=""}}if(s===S.Fragment&&(Object.keys(Ta(l)).length>0||Object.keys(Ta(h)).length>0))if(!S.isValidElement(d)||Array.isArray(d)&&d.length>1){if(Object.keys(Ta(l)).length>0)throw new Error(['Passing props on "Fragment"!',"",`The current component <${r} /> is rendering a "Fragment".`,"However we need to passthrough the following props:",Object.keys(Ta(l)).concat(Object.keys(Ta(h))).map(f=>`  - ${f}`).join(`
`),"","You can apply a few solutions:",['Add an `as="..."` prop, to ensure that we render an actual element instead of a "Fragment".',"Render a single element as the child so that we can forward the props onto that element."].map(f=>`  - ${f}`).join(`
`)].join(`
`))}else{let f=d.props,p=f==null?void 0:f.className,m=typeof p=="function"?(...g)=>dw(p(...g),l.className):dw(p,l.className),v=m?{className:m}:{},b=rS(d.props,Ta(Sg(l,["ref"])));for(let g in h)g in b&&delete h[g];return S.cloneElement(d,Object.assign({},b,h,u,{ref:i(d.ref,u.ref)},v))}return S.createElement(s,Object.assign({},Sg(l,["ref"]),s!==S.Fragment&&u,s!==S.Fragment&&h),d)}function fR(...n){return n.every(e=>e==null)?void 0:e=>{for(let t of n)t!=null&&(typeof t=="function"?t(e):t.current=e)}}function rS(...n){if(n.length===0)return{};if(n.length===1)return n[0];let e={},t={};for(let r of n)for(let i in r)i.startsWith("on")&&typeof r[i]=="function"?(t[i]!=null||(t[i]=[]),t[i].push(r[i])):e[i]=r[i];if(e.disabled||e["aria-disabled"])for(let r in t)/^(on(?:Click|Pointer|Mouse|Key)(?:Down|Up|Press)?)$/.test(r)&&(t[r]=[i=>{var s;return(s=i==null?void 0:i.preventDefault)==null?void 0:s.call(i)}]);for(let r in t)Object.assign(e,{[r](i,...s){let o=t[r];for(let a of o){if((i instanceof Event||(i==null?void 0:i.nativeEvent)instanceof Event)&&i.defaultPrevented)return;a(i,...s)}}});return e}function iS(...n){if(n.length===0)return{};if(n.length===1)return n[0];let e={},t={};for(let r of n)for(let i in r)i.startsWith("on")&&typeof r[i]=="function"?(t[i]!=null||(t[i]=[]),t[i].push(r[i])):e[i]=r[i];for(let r in t)Object.assign(e,{[r](...i){let s=t[r];for(let o of s)o==null||o(...i)}});return e}function Vn(n){var e;return Object.assign(S.forwardRef(n),{displayName:(e=n.displayName)!=null?e:n.name})}function Ta(n){let e=Object.assign({},n);for(let t in e)e[t]===void 0&&delete e[t];return e}function Sg(n,e=[]){let t=Object.assign({},n);for(let r of e)r in t&&delete t[r];return t}let pR=S.createContext(void 0);function mR(){return S.useContext(pR)}function gR(n){let e=n.parentElement,t=null;for(;e&&!(e instanceof HTMLFieldSetElement);)e instanceof HTMLLegendElement&&(t=e),e=e.parentElement;let r=(e==null?void 0:e.getAttribute("disabled"))==="";return r&&vR(t)?!1:r}function vR(n){if(!n)return!1;let e=n.previousElementSibling;for(;e!==null;){if(e instanceof HTMLLegendElement)return!1;e=e.previousElementSibling}return!0}let sS=Symbol();function yR(n,e=!0){return Object.assign(n,{[sS]:e})}function Oi(...n){let e=S.useRef(n);S.useEffect(()=>{e.current=n},[n]);let t=Fe(r=>{for(let i of e.current)i!=null&&(typeof i=="function"?i(r):i.current=r)});return n.every(r=>r==null||(r==null?void 0:r[sS]))?void 0:t}let v1=S.createContext(null);v1.displayName="DescriptionContext";function oS(){let n=S.useContext(v1);if(n===null){let e=new Error("You used a <Description /> component, but it is not inside a relevant parent.");throw Error.captureStackTrace&&Error.captureStackTrace(e,oS),e}return n}function xR(){let[n,e]=S.useState([]);return[n.length>0?n.join(" "):void 0,S.useMemo(()=>function(t){let r=Fe(s=>(e(o=>[...o,s]),()=>e(o=>{let a=o.slice(),l=a.indexOf(s);return l!==-1&&a.splice(l,1),a}))),i=S.useMemo(()=>({register:r,slot:t.slot,name:t.name,props:t.props,value:t.value}),[r,t.slot,t.name,t.props,t.value]);return Ie.createElement(v1.Provider,{value:i},t.children)},[e])]}let wR="p";function bR(n,e){let t=S.useId(),r=nS(),{id:i=`headlessui-description-${t}`,...s}=n,o=oS(),a=Oi(e);Ue(()=>o.register(i),[i,o.register]);let l=r||!1,u=S.useMemo(()=>({...o.slot,disabled:l}),[o.slot,l]),d={ref:a,...o.props,id:i};return Un({ourProps:d,theirProps:s,slot:u,defaultTag:wR,name:o.name||"Description"})}let ER=Vn(bR);Object.assign(ER,{});var yt=(n=>(n.Space=" ",n.Enter="Enter",n.Escape="Escape",n.Backspace="Backspace",n.Delete="Delete",n.ArrowLeft="ArrowLeft",n.ArrowUp="ArrowUp",n.ArrowRight="ArrowRight",n.ArrowDown="ArrowDown",n.Home="Home",n.End="End",n.PageUp="PageUp",n.PageDown="PageDown",n.Tab="Tab",n))(yt||{});let Em=S.createContext(null);Em.displayName="LabelContext";function y1(){let n=S.useContext(Em);if(n===null){let e=new Error("You used a <Label /> component, but it is not inside a relevant parent.");throw Error.captureStackTrace&&Error.captureStackTrace(e,y1),e}return n}function AR(n){var e,t,r;let i=(t=(e=S.useContext(Em))==null?void 0:e.value)!=null?t:void 0;return((r=void 0)!=null?r:0)>0?[i,...n].filter(Boolean).join(" "):i}function aS({inherit:n=!1}={}){let e=AR(),[t,r]=S.useState([]),i=n?[e,...t].filter(Boolean):t;return[i.length>0?i.join(" "):void 0,S.useMemo(()=>function(s){let o=Fe(l=>(r(u=>[...u,l]),()=>r(u=>{let d=u.slice(),h=d.indexOf(l);return h!==-1&&d.splice(h,1),d}))),a=S.useMemo(()=>({register:o,slot:s.slot,name:s.name,props:s.props,value:s.value}),[o,s.slot,s.name,s.props,s.value]);return Ie.createElement(Em.Provider,{value:a},s.children)},[r])]}let SR="label";function _R(n,e){var t;let r=S.useId(),i=y1(),s=mR(),o=nS(),{id:a=`headlessui-label-${r}`,htmlFor:l=s??((t=i.props)==null?void 0:t.htmlFor),passive:u=!1,...d}=n,h=Oi(e);Ue(()=>i.register(a),[a,i.register]);let f=Fe(b=>{let g=b.currentTarget;if(g instanceof HTMLLabelElement&&b.preventDefault(),i.props&&"onClick"in i.props&&typeof i.props.onClick=="function"&&i.props.onClick(b),g instanceof HTMLLabelElement){let y=document.getElementById(g.htmlFor);if(y){let x=y.getAttribute("disabled");if(x==="true"||x==="")return;let C=y.getAttribute("aria-disabled");if(C==="true"||C==="")return;(y instanceof HTMLInputElement&&(y.type==="radio"||y.type==="checkbox")||y.role==="radio"||y.role==="checkbox"||y.role==="switch")&&y.click(),y.focus({preventScroll:!0})}}}),p=o||!1,m=S.useMemo(()=>({...i.slot,disabled:p}),[i.slot,p]),v={ref:h,...i.props,id:a,htmlFor:l,onClick:f};return u&&("onClick"in v&&(delete v.htmlFor,delete v.onClick),"onClick"in d&&delete d.onClick),Un({ourProps:v,theirProps:d,slot:m,defaultTag:l?SR:"div",name:i.name||"Label"})}let CR=Vn(_R);Object.assign(CR,{});function TR(n){if(n===null)return{width:0,height:0};let{width:e,height:t}=n.getBoundingClientRect();return{width:e,height:t}}function kR(n,e=!1){let t=n===null?null:"current"in n?n.current:n,[r,i]=S.useReducer(()=>({}),{}),s=S.useMemo(()=>TR(t),[t,r]);return Ue(()=>{if(!t)return;let o=new ResizeObserver(i);return o.observe(t),()=>{o.disconnect()}},[t]),e?{width:`${s.width}px`,height:`${s.height}px`}:s}let PR=class extends Map{constructor(e){super(),this.factory=e}get(e){let t=super.get(e);return t===void 0&&(t=this.factory(e),this.set(e,t)),t}};function lS(n,e){let t=n(),r=new Set;return{getSnapshot(){return t},subscribe(i){return r.add(i),()=>r.delete(i)},dispatch(i,...s){let o=e[i].call(t,...s);o&&(t=o,r.forEach(a=>a()))}}}function cS(n){return S.useSyncExternalStore(n.subscribe,n.getSnapshot,n.getSnapshot)}let RR=new PR(()=>lS(()=>[],{ADD(n){return this.includes(n)?this:[...this,n]},REMOVE(n){let e=this.indexOf(n);if(e===-1)return this;let t=this.slice();return t.splice(e,1),t}}));function x1(n,e){let t=RR.get(e),r=S.useId(),i=cS(t);if(Ue(()=>{if(n)return t.dispatch("ADD",r),()=>t.dispatch("REMOVE",r)},[t,n]),!n)return!1;let s=i.indexOf(r),o=i.length;return s===-1&&(s=o,o+=1),s===o-1}let z0=new Map,au=new Map;function hw(n){var e;let t=(e=au.get(n))!=null?e:0;return au.set(n,t+1),t!==0?()=>fw(n):(z0.set(n,{"aria-hidden":n.getAttribute("aria-hidden"),inert:n.inert}),n.setAttribute("aria-hidden","true"),n.inert=!0,()=>fw(n))}function fw(n){var e;let t=(e=au.get(n))!=null?e:1;if(t===1?au.delete(n):au.set(n,t-1),t!==1)return;let r=z0.get(n);r&&(r["aria-hidden"]===null?n.removeAttribute("aria-hidden"):n.setAttribute("aria-hidden",r["aria-hidden"]),n.inert=r.inert,z0.delete(n))}function LR(n,{allowed:e,disallowed:t}={}){let r=x1(n,"inert-others");Ue(()=>{var i,s;if(!r)return;let o=zr();for(let l of(i=t==null?void 0:t())!=null?i:[])l&&o.add(hw(l));let a=(s=e==null?void 0:e())!=null?s:[];for(let l of a){if(!l)continue;let u=dc(l);if(!u)continue;let d=l.parentElement;for(;d&&d!==u.body;){for(let h of d.children)a.some(f=>h.contains(f))||o.add(hw(h));d=d.parentElement}}return o.dispose},[r,e,t])}function MR(n,e,t){let r=bh(i=>{let s=i.getBoundingClientRect();s.x===0&&s.y===0&&s.width===0&&s.height===0&&t()});S.useEffect(()=>{if(!n)return;let i=e===null?null:e instanceof HTMLElement?e:e.current;if(!i)return;let s=zr();if(typeof ResizeObserver<"u"){let o=new ResizeObserver(()=>r.current(i));o.observe(i),s.add(()=>o.disconnect())}if(typeof IntersectionObserver<"u"){let o=new IntersectionObserver(()=>r.current(i));o.observe(i),s.add(()=>o.disconnect())}return()=>s.dispose()},[e,r,n])}let U0=["[contentEditable=true]","[tabindex]","a[href]","area[href]","button:not([disabled])","iframe","input:not([disabled])","select:not([disabled])","textarea:not([disabled])"].map(n=>`${n}:not([tabindex='-1'])`).join(","),NR=["[data-autofocus]"].map(n=>`${n}:not([tabindex='-1'])`).join(",");var V0=(n=>(n[n.First=1]="First",n[n.Previous=2]="Previous",n[n.Next=4]="Next",n[n.Last=8]="Last",n[n.WrapAround=16]="WrapAround",n[n.NoScroll=32]="NoScroll",n[n.AutoFocus=64]="AutoFocus",n))(V0||{}),DR=(n=>(n[n.Error=0]="Error",n[n.Overflow=1]="Overflow",n[n.Success=2]="Success",n[n.Underflow=3]="Underflow",n))(DR||{}),FR=(n=>(n[n.Previous=-1]="Previous",n[n.Next=1]="Next",n))(FR||{});function uS(n=document.body){return n==null?[]:Array.from(n.querySelectorAll(U0)).sort((e,t)=>Math.sign((e.tabIndex||Number.MAX_SAFE_INTEGER)-(t.tabIndex||Number.MAX_SAFE_INTEGER)))}function IR(n=document.body){return n==null?[]:Array.from(n.querySelectorAll(NR)).sort((e,t)=>Math.sign((e.tabIndex||Number.MAX_SAFE_INTEGER)-(t.tabIndex||Number.MAX_SAFE_INTEGER)))}var w1=(n=>(n[n.Strict=0]="Strict",n[n.Loose=1]="Loose",n))(w1||{});function b1(n,e=0){var t;return n===((t=dc(n))==null?void 0:t.body)?!1:Eh(e,{0(){return n.matches(U0)},1(){let r=n;for(;r!==null;){if(r.matches(U0))return!0;r=r.parentElement}return!1}})}function dS(n){let e=dc(n);zr().nextFrame(()=>{e&&!b1(e.activeElement,0)&&jR(n)})}var OR=(n=>(n[n.Keyboard=0]="Keyboard",n[n.Mouse=1]="Mouse",n))(OR||{});typeof window<"u"&&typeof document<"u"&&(document.addEventListener("keydown",n=>{n.metaKey||n.altKey||n.ctrlKey||(document.documentElement.dataset.headlessuiFocusVisible="")},!0),document.addEventListener("click",n=>{n.detail===1?delete document.documentElement.dataset.headlessuiFocusVisible:n.detail===0&&(document.documentElement.dataset.headlessuiFocusVisible="")},!0));function jR(n){n==null||n.focus({preventScroll:!0})}let $R=["textarea","input"].join(",");function HR(n){var e,t;return(t=(e=n==null?void 0:n.matches)==null?void 0:e.call(n,$R))!=null?t:!1}function hS(n,e=t=>t){return n.slice().sort((t,r)=>{let i=e(t),s=e(r);if(i===null||s===null)return 0;let o=i.compareDocumentPosition(s);return o&Node.DOCUMENT_POSITION_FOLLOWING?-1:o&Node.DOCUMENT_POSITION_PRECEDING?1:0})}function BR(n,e){return zR(uS(),e,{relativeTo:n})}function zR(n,e,{sorted:t=!0,relativeTo:r=null,skipElements:i=[]}={}){let s=Array.isArray(n)?n.length>0?n[0].ownerDocument:document:n.ownerDocument,o=Array.isArray(n)?t?hS(n):n:e&64?IR(n):uS(n);i.length>0&&o.length>1&&(o=o.filter(p=>!i.some(m=>m!=null&&"current"in m?(m==null?void 0:m.current)===p:m===p))),r=r??s.activeElement;let a=(()=>{if(e&5)return 1;if(e&10)return-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),l=(()=>{if(e&1)return 0;if(e&2)return Math.max(0,o.indexOf(r))-1;if(e&4)return Math.max(0,o.indexOf(r))+1;if(e&8)return o.length-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),u=e&32?{preventScroll:!0}:{},d=0,h=o.length,f;do{if(d>=h||d+h<=0)return 0;let p=l+d;if(e&16)p=(p+h)%h;else{if(p<0)return 3;if(p>=h)return 1}f=o[p],f==null||f.focus(u),d+=a}while(f!==s.activeElement);return e&6&&HR(f)&&f.select(),2}function fS(){return/iPhone/gi.test(window.navigator.platform)||/Mac/gi.test(window.navigator.platform)&&window.navigator.maxTouchPoints>0}function UR(){return/Android/gi.test(window.navigator.userAgent)}function VR(){return fS()||UR()}function Tc(n,e,t,r){let i=bh(t);S.useEffect(()=>{if(!n)return;function s(o){i.current(o)}return document.addEventListener(e,s,r),()=>document.removeEventListener(e,s,r)},[n,e,r])}function WR(n,e,t,r){let i=bh(t);S.useEffect(()=>{if(!n)return;function s(o){i.current(o)}return window.addEventListener(e,s,r),()=>window.removeEventListener(e,s,r)},[n,e,r])}const pw=30;function GR(n,e,t){let r=x1(n,"outside-click"),i=bh(t),s=S.useCallback(function(l,u){if(l.defaultPrevented)return;let d=u(l);if(d===null||!d.getRootNode().contains(d)||!d.isConnected)return;let h=function f(p){return typeof p=="function"?f(p()):Array.isArray(p)||p instanceof Set?p:[p]}(e);for(let f of h){if(f===null)continue;let p=f instanceof HTMLElement?f:f.current;if(p!=null&&p.contains(d)||l.composed&&l.composedPath().includes(p))return}return!b1(d,w1.Loose)&&d.tabIndex!==-1&&l.preventDefault(),i.current(l,d)},[i]),o=S.useRef(null);Tc(r,"pointerdown",l=>{var u,d;o.current=((d=(u=l.composedPath)==null?void 0:u.call(l))==null?void 0:d[0])||l.target},!0),Tc(r,"mousedown",l=>{var u,d;o.current=((d=(u=l.composedPath)==null?void 0:u.call(l))==null?void 0:d[0])||l.target},!0),Tc(r,"click",l=>{VR()||o.current&&(s(l,()=>o.current),o.current=null)},!0);let a=S.useRef({x:0,y:0});Tc(r,"touchstart",l=>{a.current.x=l.touches[0].clientX,a.current.y=l.touches[0].clientY},!0),Tc(r,"touchend",l=>{let u={x:l.changedTouches[0].clientX,y:l.changedTouches[0].clientY};if(!(Math.abs(u.x-a.current.x)>=pw||Math.abs(u.y-a.current.y)>=pw))return s(l,()=>l.target instanceof HTMLElement?l.target:null)},!0),WR(r,"blur",l=>s(l,()=>window.document.activeElement instanceof HTMLIFrameElement?window.document.activeElement:null),!0)}function E1(...n){return S.useMemo(()=>dc(...n),[...n])}function mw(n){var e;if(n.type)return n.type;let t=(e=n.as)!=null?e:"button";if(typeof t=="string"&&t.toLowerCase()==="button")return"button"}function qR(n,e){let[t,r]=S.useState(()=>mw(n));return Ue(()=>{r(mw(n))},[n.type,n.as]),Ue(()=>{t||e.current&&e.current instanceof HTMLButtonElement&&!e.current.hasAttribute("type")&&r("button")},[t,e]),t}function XR(){let n;return{before({doc:e}){var t;let r=e.documentElement,i=(t=e.defaultView)!=null?t:window;n=Math.max(0,i.innerWidth-r.clientWidth)},after({doc:e,d:t}){let r=e.documentElement,i=Math.max(0,r.clientWidth-r.offsetWidth),s=Math.max(0,n-i);t.style(r,"paddingRight",`${s}px`)}}}function KR(){return fS()?{before({doc:n,d:e,meta:t}){function r(i){return t.containers.flatMap(s=>s()).some(s=>s.contains(i))}e.microTask(()=>{var i;if(window.getComputedStyle(n.documentElement).scrollBehavior!=="auto"){let a=zr();a.style(n.documentElement,"scrollBehavior","auto"),e.add(()=>e.microTask(()=>a.dispose()))}let s=(i=window.scrollY)!=null?i:window.pageYOffset,o=null;e.addEventListener(n,"click",a=>{if(a.target instanceof HTMLElement)try{let l=a.target.closest("a");if(!l)return;let{hash:u}=new URL(l.href),d=n.querySelector(u);d&&!r(d)&&(o=d)}catch{}},!0),e.addEventListener(n,"touchstart",a=>{if(a.target instanceof HTMLElement)if(r(a.target)){let l=a.target;for(;l.parentElement&&r(l.parentElement);)l=l.parentElement;e.style(l,"overscrollBehavior","contain")}else e.style(a.target,"touchAction","none")}),e.addEventListener(n,"touchmove",a=>{if(a.target instanceof HTMLElement){if(a.target.tagName==="INPUT")return;if(r(a.target)){let l=a.target;for(;l.parentElement&&l.dataset.headlessuiPortal!==""&&!(l.scrollHeight>l.clientHeight||l.scrollWidth>l.clientWidth);)l=l.parentElement;l.dataset.headlessuiPortal===""&&a.preventDefault()}else a.preventDefault()}},{passive:!1}),e.add(()=>{var a;let l=(a=window.scrollY)!=null?a:window.pageYOffset;s!==l&&window.scrollTo(0,s),o&&o.isConnected&&(o.scrollIntoView({block:"nearest"}),o=null)})})}}:{}}function YR(){return{before({doc:n,d:e}){e.style(n.documentElement,"overflow","hidden")}}}function QR(n){let e={};for(let t of n)Object.assign(e,t(e));return e}let to=lS(()=>new Map,{PUSH(n,e){var t;let r=(t=this.get(n))!=null?t:{doc:n,count:0,d:zr(),meta:new Set};return r.count++,r.meta.add(e),this.set(n,r),this},POP(n,e){let t=this.get(n);return t&&(t.count--,t.meta.delete(e)),this},SCROLL_PREVENT({doc:n,d:e,meta:t}){let r={doc:n,d:e,meta:QR(t)},i=[KR(),XR(),YR()];i.forEach(({before:s})=>s==null?void 0:s(r)),i.forEach(({after:s})=>s==null?void 0:s(r))},SCROLL_ALLOW({d:n}){n.dispose()},TEARDOWN({doc:n}){this.delete(n)}});to.subscribe(()=>{let n=to.getSnapshot(),e=new Map;for(let[t]of n)e.set(t,t.documentElement.style.overflow);for(let t of n.values()){let r=e.get(t.doc)==="hidden",i=t.count!==0;(i&&!r||!i&&r)&&to.dispatch(t.count>0?"SCROLL_PREVENT":"SCROLL_ALLOW",t),t.count===0&&to.dispatch("TEARDOWN",t)}});function ZR(n,e,t=()=>({containers:[]})){let r=cS(to),i=e?r.get(e):void 0,s=i?i.count>0:!1;return Ue(()=>{if(!(!e||!n))return to.dispatch("PUSH",e,t),()=>to.dispatch("POP",e,t)},[n,e]),s}function JR(n,e,t=()=>[document.body]){let r=x1(n,"scroll-lock");ZR(r,e,i=>{var s;return{containers:[...(s=i.containers)!=null?s:[],t]}})}function gw(n){return[n.screenX,n.screenY]}function eL(){let n=S.useRef([-1,-1]);return{wasMoved(e){let t=gw(e);return n.current[0]===t[0]&&n.current[1]===t[1]?!1:(n.current=t,!0)},update(e){n.current=gw(e)}}}function tL(n){let e={called:!1};return(...t)=>{if(!e.called)return e.called=!0,n(...t)}}function nL(n=0){let[e,t]=S.useState(n),r=S.useCallback(l=>t(l),[e]),i=S.useCallback(l=>t(u=>u|l),[e]),s=S.useCallback(l=>(e&l)===l,[e]),o=S.useCallback(l=>t(u=>u&~l),[t]),a=S.useCallback(l=>t(u=>u^l),[t]);return{flags:e,setFlag:r,addFlag:i,hasFlag:s,removeFlag:o,toggleFlag:a}}var rL=(n=>(n[n.None=0]="None",n[n.Closed=1]="Closed",n[n.Enter=2]="Enter",n[n.Leave=4]="Leave",n))(rL||{});function iL(n){let e={};for(let t in n)n[t]===!0&&(e[`data-${t}`]="");return e}function sL(n,e,t,r){let[i,s]=S.useState(t),{hasFlag:o,addFlag:a,removeFlag:l}=nL(n&&i?3:0),u=S.useRef(!1),d=S.useRef(!1),h=bm();return Ue(function f(){var p;if(!n)return;t&&s(!0);let m=e.current;return m?((p=void 0)==null||p.call(r,t),oL(m,{inFlight:u,prepare(){d.current?d.current=!1:d.current=u.current,u.current=!0,!d.current&&(t?(a(3),l(4)):(a(4),l(2)))},run(){d.current?t?(l(3),a(4)):(l(4),a(3)):t?l(1):a(1)},done(){var v;d.current&&typeof m.getAnimations=="function"&&m.getAnimations().length>0||(u.current=!1,l(7),t||s(!1),(v=void 0)==null||v.call(r,t))}})):t?(a(3),h.nextFrame(()=>f())):void 0},[n,t,e,h]),n?[i,{closed:o(1),enter:o(2),leave:o(4),transition:o(2)||o(4)}]:[t,{closed:void 0,enter:void 0,leave:void 0,transition:void 0}]}function oL(n,{prepare:e,run:t,done:r,inFlight:i}){let s=zr();return lL(n,{prepare:e,inFlight:i}),s.nextFrame(()=>{s.add(aL(n,r)),t()}),s.dispose}function aL(n,e){let t=tL(e),r=zr();if(!n)return r.dispose;let{transitionDuration:i,transitionDelay:s}=getComputedStyle(n),[o,a]=[i,s].map(u=>{let[d=0]=u.split(",").filter(Boolean).map(h=>h.includes("ms")?parseFloat(h):parseFloat(h)*1e3).sort((h,f)=>f-h);return d}),l=o+a;if(l!==0){let u=r.group(d=>{let h=d.setTimeout(()=>{t(),d.dispose()},l);d.addEventListener(n,"transitionrun",f=>{f.target===f.currentTarget&&(h(),d.addEventListener(n,"transitioncancel",p=>{p.target===p.currentTarget&&(t(),u())}))})});r.addEventListener(n,"transitionend",d=>{d.target===d.currentTarget&&(t(),r.dispose())})}else t();return r.dispose}function lL(n,{inFlight:e,prepare:t}){if(e!=null&&e.current){t();return}let r=n.style.transition;n.style.transition="none",t(),n.offsetHeight,n.style.transition=r}function cL(n,{container:e,accept:t,walk:r}){let i=S.useRef(t),s=S.useRef(r);S.useEffect(()=>{i.current=t,s.current=r},[t,r]),Ue(()=>{if(!e||!n)return;let o=dc(e);if(!o)return;let a=i.current,l=s.current,u=Object.assign(h=>a(h),{acceptNode:a}),d=o.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,u,!1);for(;d.nextNode();)l(d.currentNode)},[e,n,i,s])}function hc(n){return pS(n)?(n.nodeName||"").toLowerCase():"#document"}function En(n){var e;return(n==null||(e=n.ownerDocument)==null?void 0:e.defaultView)||window}function ji(n){var e;return(e=(pS(n)?n.ownerDocument:n.document)||window.document)==null?void 0:e.documentElement}function pS(n){return n instanceof Node||n instanceof En(n).Node}function Zt(n){return n instanceof Element||n instanceof En(n).Element}function Hr(n){return n instanceof HTMLElement||n instanceof En(n).HTMLElement}function vw(n){return typeof ShadowRoot>"u"?!1:n instanceof ShadowRoot||n instanceof En(n).ShadowRoot}function Ah(n){const{overflow:e,overflowX:t,overflowY:r,display:i}=fr(n);return/auto|scroll|overlay|hidden|clip/.test(e+r+t)&&!["inline","contents"].includes(i)}function uL(n){return["table","td","th"].includes(hc(n))}function Am(n){return[":popover-open",":modal"].some(e=>{try{return n.matches(e)}catch{return!1}})}function A1(n){const e=S1(),t=fr(n);return t.transform!=="none"||t.perspective!=="none"||(t.containerType?t.containerType!=="normal":!1)||!e&&(t.backdropFilter?t.backdropFilter!=="none":!1)||!e&&(t.filter?t.filter!=="none":!1)||["transform","perspective","filter"].some(r=>(t.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(t.contain||"").includes(r))}function dL(n){let e=Ms(n);for(;Hr(e)&&!ic(e);){if(Am(e))return null;if(A1(e))return e;e=Ms(e)}return null}function S1(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function ic(n){return["html","body","#document"].includes(hc(n))}function fr(n){return En(n).getComputedStyle(n)}function Sm(n){return Zt(n)?{scrollLeft:n.scrollLeft,scrollTop:n.scrollTop}:{scrollLeft:n.pageXOffset,scrollTop:n.pageYOffset}}function Ms(n){if(hc(n)==="html")return n;const e=n.assignedSlot||n.parentNode||vw(n)&&n.host||ji(n);return vw(e)?e.host:e}function mS(n){const e=Ms(n);return ic(e)?n.ownerDocument?n.ownerDocument.body:n.body:Hr(e)&&Ah(e)?e:mS(e)}function Ru(n,e,t){var r;e===void 0&&(e=[]),t===void 0&&(t=!0);const i=mS(n),s=i===((r=n.ownerDocument)==null?void 0:r.body),o=En(i);return s?e.concat(o,o.visualViewport||[],Ah(i)?i:[],o.frameElement&&t?Ru(o.frameElement):[]):e.concat(i,Ru(i,[],t))}function hL(){const n=navigator.userAgentData;return n&&Array.isArray(n.brands)?n.brands.map(e=>{let{brand:t,version:r}=e;return t+"/"+r}).join(" "):navigator.userAgent}const ws=Math.min,yn=Math.max,bp=Math.round,Zh=Math.floor,Ns=n=>({x:n,y:n}),fL={left:"right",right:"left",bottom:"top",top:"bottom"},pL={start:"end",end:"start"};function yw(n,e,t){return yn(n,ws(e,t))}function fc(n,e){return typeof n=="function"?n(e):n}function Ds(n){return n.split("-")[0]}function Sh(n){return n.split("-")[1]}function gS(n){return n==="x"?"y":"x"}function vS(n){return n==="y"?"height":"width"}function ca(n){return["top","bottom"].includes(Ds(n))?"y":"x"}function yS(n){return gS(ca(n))}function mL(n,e,t){t===void 0&&(t=!1);const r=Sh(n),i=yS(n),s=vS(i);let o=i==="x"?r===(t?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[s]>e.floating[s]&&(o=Ep(o)),[o,Ep(o)]}function gL(n){const e=Ep(n);return[W0(n),e,W0(e)]}function W0(n){return n.replace(/start|end/g,e=>pL[e])}function vL(n,e,t){const r=["left","right"],i=["right","left"],s=["top","bottom"],o=["bottom","top"];switch(n){case"top":case"bottom":return t?e?i:r:e?r:i;case"left":case"right":return e?s:o;default:return[]}}function yL(n,e,t,r){const i=Sh(n);let s=vL(Ds(n),t==="start",r);return i&&(s=s.map(o=>o+"-"+i),e&&(s=s.concat(s.map(W0)))),s}function Ep(n){return n.replace(/left|right|bottom|top/g,e=>fL[e])}function xL(n){return{top:0,right:0,bottom:0,left:0,...n}}function wL(n){return typeof n!="number"?xL(n):{top:n,right:n,bottom:n,left:n}}function Ap(n){const{x:e,y:t,width:r,height:i}=n;return{width:r,height:i,top:t,left:e,right:e+r,bottom:t+i,x:e,y:t}}function xw(n,e,t){let{reference:r,floating:i}=n;const s=ca(e),o=yS(e),a=vS(o),l=Ds(e),u=s==="y",d=r.x+r.width/2-i.width/2,h=r.y+r.height/2-i.height/2,f=r[a]/2-i[a]/2;let p;switch(l){case"top":p={x:d,y:r.y-i.height};break;case"bottom":p={x:d,y:r.y+r.height};break;case"right":p={x:r.x+r.width,y:h};break;case"left":p={x:r.x-i.width,y:h};break;default:p={x:r.x,y:r.y}}switch(Sh(e)){case"start":p[o]-=f*(t&&u?-1:1);break;case"end":p[o]+=f*(t&&u?-1:1);break}return p}const bL=async(n,e,t)=>{const{placement:r="bottom",strategy:i="absolute",middleware:s=[],platform:o}=t,a=s.filter(Boolean),l=await(o.isRTL==null?void 0:o.isRTL(e));let u=await o.getElementRects({reference:n,floating:e,strategy:i}),{x:d,y:h}=xw(u,r,l),f=r,p={},m=0;for(let v=0;v<a.length;v++){const{name:b,fn:g}=a[v],{x:y,y:x,data:C,reset:T}=await g({x:d,y:h,initialPlacement:r,placement:f,strategy:i,middlewareData:p,rects:u,platform:o,elements:{reference:n,floating:e}});d=y??d,h=x??h,p={...p,[b]:{...p[b],...C}},T&&m<=50&&(m++,typeof T=="object"&&(T.placement&&(f=T.placement),T.rects&&(u=T.rects===!0?await o.getElementRects({reference:n,floating:e,strategy:i}):T.rects),{x:d,y:h}=xw(u,f,l)),v=-1)}return{x:d,y:h,placement:f,strategy:i,middlewareData:p}};async function _m(n,e){var t;e===void 0&&(e={});const{x:r,y:i,platform:s,rects:o,elements:a,strategy:l}=n,{boundary:u="clippingAncestors",rootBoundary:d="viewport",elementContext:h="floating",altBoundary:f=!1,padding:p=0}=fc(e,n),m=wL(p),b=a[f?h==="floating"?"reference":"floating":h],g=Ap(await s.getClippingRect({element:(t=await(s.isElement==null?void 0:s.isElement(b)))==null||t?b:b.contextElement||await(s.getDocumentElement==null?void 0:s.getDocumentElement(a.floating)),boundary:u,rootBoundary:d,strategy:l})),y=h==="floating"?{x:r,y:i,width:o.floating.width,height:o.floating.height}:o.reference,x=await(s.getOffsetParent==null?void 0:s.getOffsetParent(a.floating)),C=await(s.isElement==null?void 0:s.isElement(x))?await(s.getScale==null?void 0:s.getScale(x))||{x:1,y:1}:{x:1,y:1},T=Ap(s.convertOffsetParentRelativeRectToViewportRelativeRect?await s.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:y,offsetParent:x,strategy:l}):y);return{top:(g.top-T.top+m.top)/C.y,bottom:(T.bottom-g.bottom+m.bottom)/C.y,left:(g.left-T.left+m.left)/C.x,right:(T.right-g.right+m.right)/C.x}}const EL=function(n){return n===void 0&&(n={}),{name:"flip",options:n,async fn(e){var t,r;const{placement:i,middlewareData:s,rects:o,initialPlacement:a,platform:l,elements:u}=e,{mainAxis:d=!0,crossAxis:h=!0,fallbackPlacements:f,fallbackStrategy:p="bestFit",fallbackAxisSideDirection:m="none",flipAlignment:v=!0,...b}=fc(n,e);if((t=s.arrow)!=null&&t.alignmentOffset)return{};const g=Ds(i),y=ca(a),x=Ds(a)===a,C=await(l.isRTL==null?void 0:l.isRTL(u.floating)),T=f||(x||!v?[Ep(a)]:gL(a)),k=m!=="none";!f&&k&&T.push(...yL(a,v,m,C));const P=[a,...T],R=await _m(e,b),F=[];let D=((r=s.flip)==null?void 0:r.overflows)||[];if(d&&F.push(R[g]),h){const z=mL(i,o,C);F.push(R[z[0]],R[z[1]])}if(D=[...D,{placement:i,overflows:F}],!F.every(z=>z<=0)){var N,q;const z=(((N=s.flip)==null?void 0:N.index)||0)+1,j=P[z];if(j)return{data:{index:z,overflows:D},reset:{placement:j}};let K=(q=D.filter(I=>I.overflows[0]<=0).sort((I,L)=>I.overflows[1]-L.overflows[1])[0])==null?void 0:q.placement;if(!K)switch(p){case"bestFit":{var U;const I=(U=D.filter(L=>{if(k){const $=ca(L.placement);return $===y||$==="y"}return!0}).map(L=>[L.placement,L.overflows.filter($=>$>0).reduce(($,G)=>$+G,0)]).sort((L,$)=>L[1]-$[1])[0])==null?void 0:U[0];I&&(K=I);break}case"initialPlacement":K=a;break}if(i!==K)return{reset:{placement:K}}}return{}}}};async function AL(n,e){const{placement:t,platform:r,elements:i}=n,s=await(r.isRTL==null?void 0:r.isRTL(i.floating)),o=Ds(t),a=Sh(t),l=ca(t)==="y",u=["left","top"].includes(o)?-1:1,d=s&&l?-1:1,h=fc(e,n);let{mainAxis:f,crossAxis:p,alignmentAxis:m}=typeof h=="number"?{mainAxis:h,crossAxis:0,alignmentAxis:null}:{mainAxis:0,crossAxis:0,alignmentAxis:null,...h};return a&&typeof m=="number"&&(p=a==="end"?m*-1:m),l?{x:p*d,y:f*u}:{x:f*u,y:p*d}}const SL=function(n){return n===void 0&&(n=0),{name:"offset",options:n,async fn(e){var t,r;const{x:i,y:s,placement:o,middlewareData:a}=e,l=await AL(e,n);return o===((t=a.offset)==null?void 0:t.placement)&&(r=a.arrow)!=null&&r.alignmentOffset?{}:{x:i+l.x,y:s+l.y,data:{...l,placement:o}}}}},_L=function(n){return n===void 0&&(n={}),{name:"shift",options:n,async fn(e){const{x:t,y:r,placement:i}=e,{mainAxis:s=!0,crossAxis:o=!1,limiter:a={fn:b=>{let{x:g,y}=b;return{x:g,y}}},...l}=fc(n,e),u={x:t,y:r},d=await _m(e,l),h=ca(Ds(i)),f=gS(h);let p=u[f],m=u[h];if(s){const b=f==="y"?"top":"left",g=f==="y"?"bottom":"right",y=p+d[b],x=p-d[g];p=yw(y,p,x)}if(o){const b=h==="y"?"top":"left",g=h==="y"?"bottom":"right",y=m+d[b],x=m-d[g];m=yw(y,m,x)}const v=a.fn({...e,[f]:p,[h]:m});return{...v,data:{x:v.x-t,y:v.y-r}}}}},CL=function(n){return n===void 0&&(n={}),{name:"size",options:n,async fn(e){const{placement:t,rects:r,platform:i,elements:s}=e,{apply:o=()=>{},...a}=fc(n,e),l=await _m(e,a),u=Ds(t),d=Sh(t),h=ca(t)==="y",{width:f,height:p}=r.floating;let m,v;u==="top"||u==="bottom"?(m=u,v=d===(await(i.isRTL==null?void 0:i.isRTL(s.floating))?"start":"end")?"left":"right"):(v=u,m=d==="end"?"top":"bottom");const b=p-l.top-l.bottom,g=f-l.left-l.right,y=ws(p-l[m],b),x=ws(f-l[v],g),C=!e.middlewareData.shift;let T=y,k=x;if(h?k=d||C?ws(x,g):g:T=d||C?ws(y,b):b,C&&!d){const R=yn(l.left,0),F=yn(l.right,0),D=yn(l.top,0),N=yn(l.bottom,0);h?k=f-2*(R!==0||F!==0?R+F:yn(l.left,l.right)):T=p-2*(D!==0||N!==0?D+N:yn(l.top,l.bottom))}await o({...e,availableWidth:k,availableHeight:T});const P=await i.getDimensions(s.floating);return f!==P.width||p!==P.height?{reset:{rects:!0}}:{}}}};function xS(n){const e=fr(n);let t=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const i=Hr(n),s=i?n.offsetWidth:t,o=i?n.offsetHeight:r,a=bp(t)!==s||bp(r)!==o;return a&&(t=s,r=o),{width:t,height:r,$:a}}function _1(n){return Zt(n)?n:n.contextElement}function Ja(n){const e=_1(n);if(!Hr(e))return Ns(1);const t=e.getBoundingClientRect(),{width:r,height:i,$:s}=xS(e);let o=(s?bp(t.width):t.width)/r,a=(s?bp(t.height):t.height)/i;return(!o||!Number.isFinite(o))&&(o=1),(!a||!Number.isFinite(a))&&(a=1),{x:o,y:a}}const TL=Ns(0);function wS(n){const e=En(n);return!S1()||!e.visualViewport?TL:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function kL(n,e,t){return e===void 0&&(e=!1),!t||e&&t!==En(n)?!1:e}function ua(n,e,t,r){e===void 0&&(e=!1),t===void 0&&(t=!1);const i=n.getBoundingClientRect(),s=_1(n);let o=Ns(1);e&&(r?Zt(r)&&(o=Ja(r)):o=Ja(n));const a=kL(s,t,r)?wS(s):Ns(0);let l=(i.left+a.x)/o.x,u=(i.top+a.y)/o.y,d=i.width/o.x,h=i.height/o.y;if(s){const f=En(s),p=r&&Zt(r)?En(r):r;let m=f,v=m.frameElement;for(;v&&r&&p!==m;){const b=Ja(v),g=v.getBoundingClientRect(),y=fr(v),x=g.left+(v.clientLeft+parseFloat(y.paddingLeft))*b.x,C=g.top+(v.clientTop+parseFloat(y.paddingTop))*b.y;l*=b.x,u*=b.y,d*=b.x,h*=b.y,l+=x,u+=C,m=En(v),v=m.frameElement}}return Ap({width:d,height:h,x:l,y:u})}function PL(n){let{elements:e,rect:t,offsetParent:r,strategy:i}=n;const s=i==="fixed",o=ji(r),a=e?Am(e.floating):!1;if(r===o||a&&s)return t;let l={scrollLeft:0,scrollTop:0},u=Ns(1);const d=Ns(0),h=Hr(r);if((h||!h&&!s)&&((hc(r)!=="body"||Ah(o))&&(l=Sm(r)),Hr(r))){const f=ua(r);u=Ja(r),d.x=f.x+r.clientLeft,d.y=f.y+r.clientTop}return{width:t.width*u.x,height:t.height*u.y,x:t.x*u.x-l.scrollLeft*u.x+d.x,y:t.y*u.y-l.scrollTop*u.y+d.y}}function RL(n){return Array.from(n.getClientRects())}function bS(n){return ua(ji(n)).left+Sm(n).scrollLeft}function LL(n){const e=ji(n),t=Sm(n),r=n.ownerDocument.body,i=yn(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),s=yn(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let o=-t.scrollLeft+bS(n);const a=-t.scrollTop;return fr(r).direction==="rtl"&&(o+=yn(e.clientWidth,r.clientWidth)-i),{width:i,height:s,x:o,y:a}}function ML(n,e){const t=En(n),r=ji(n),i=t.visualViewport;let s=r.clientWidth,o=r.clientHeight,a=0,l=0;if(i){s=i.width,o=i.height;const u=S1();(!u||u&&e==="fixed")&&(a=i.offsetLeft,l=i.offsetTop)}return{width:s,height:o,x:a,y:l}}function NL(n,e){const t=ua(n,!0,e==="fixed"),r=t.top+n.clientTop,i=t.left+n.clientLeft,s=Hr(n)?Ja(n):Ns(1),o=n.clientWidth*s.x,a=n.clientHeight*s.y,l=i*s.x,u=r*s.y;return{width:o,height:a,x:l,y:u}}function ww(n,e,t){let r;if(e==="viewport")r=ML(n,t);else if(e==="document")r=LL(ji(n));else if(Zt(e))r=NL(e,t);else{const i=wS(n);r={...e,x:e.x-i.x,y:e.y-i.y}}return Ap(r)}function ES(n,e){const t=Ms(n);return t===e||!Zt(t)||ic(t)?!1:fr(t).position==="fixed"||ES(t,e)}function DL(n,e){const t=e.get(n);if(t)return t;let r=Ru(n,[],!1).filter(a=>Zt(a)&&hc(a)!=="body"),i=null;const s=fr(n).position==="fixed";let o=s?Ms(n):n;for(;Zt(o)&&!ic(o);){const a=fr(o),l=A1(o);!l&&a.position==="fixed"&&(i=null),(s?!l&&!i:!l&&a.position==="static"&&!!i&&["absolute","fixed"].includes(i.position)||Ah(o)&&!l&&ES(n,o))?r=r.filter(d=>d!==o):i=a,o=Ms(o)}return e.set(n,r),r}function FL(n){let{element:e,boundary:t,rootBoundary:r,strategy:i}=n;const o=[...t==="clippingAncestors"?Am(e)?[]:DL(e,this._c):[].concat(t),r],a=o[0],l=o.reduce((u,d)=>{const h=ww(e,d,i);return u.top=yn(h.top,u.top),u.right=ws(h.right,u.right),u.bottom=ws(h.bottom,u.bottom),u.left=yn(h.left,u.left),u},ww(e,a,i));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function IL(n){const{width:e,height:t}=xS(n);return{width:e,height:t}}function OL(n,e,t){const r=Hr(e),i=ji(e),s=t==="fixed",o=ua(n,!0,s,e);let a={scrollLeft:0,scrollTop:0};const l=Ns(0);if(r||!r&&!s)if((hc(e)!=="body"||Ah(i))&&(a=Sm(e)),r){const h=ua(e,!0,s,e);l.x=h.x+e.clientLeft,l.y=h.y+e.clientTop}else i&&(l.x=bS(i));const u=o.left+a.scrollLeft-l.x,d=o.top+a.scrollTop-l.y;return{x:u,y:d,width:o.width,height:o.height}}function _g(n){return fr(n).position==="static"}function bw(n,e){return!Hr(n)||fr(n).position==="fixed"?null:e?e(n):n.offsetParent}function AS(n,e){const t=En(n);if(Am(n))return t;if(!Hr(n)){let i=Ms(n);for(;i&&!ic(i);){if(Zt(i)&&!_g(i))return i;i=Ms(i)}return t}let r=bw(n,e);for(;r&&uL(r)&&_g(r);)r=bw(r,e);return r&&ic(r)&&_g(r)&&!A1(r)?t:r||dL(n)||t}const jL=async function(n){const e=this.getOffsetParent||AS,t=this.getDimensions,r=await t(n.floating);return{reference:OL(n.reference,await e(n.floating),n.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function $L(n){return fr(n).direction==="rtl"}const HL={convertOffsetParentRelativeRectToViewportRelativeRect:PL,getDocumentElement:ji,getClippingRect:FL,getOffsetParent:AS,getElementRects:jL,getClientRects:RL,getDimensions:IL,getScale:Ja,isElement:Zt,isRTL:$L};function BL(n,e){let t=null,r;const i=ji(n);function s(){var a;clearTimeout(r),(a=t)==null||a.disconnect(),t=null}function o(a,l){a===void 0&&(a=!1),l===void 0&&(l=1),s();const{left:u,top:d,width:h,height:f}=n.getBoundingClientRect();if(a||e(),!h||!f)return;const p=Zh(d),m=Zh(i.clientWidth-(u+h)),v=Zh(i.clientHeight-(d+f)),b=Zh(u),y={rootMargin:-p+"px "+-m+"px "+-v+"px "+-b+"px",threshold:yn(0,ws(1,l))||1};let x=!0;function C(T){const k=T[0].intersectionRatio;if(k!==l){if(!x)return o();k?o(!1,k):r=setTimeout(()=>{o(!1,1e-7)},1e3)}x=!1}try{t=new IntersectionObserver(C,{...y,root:i.ownerDocument})}catch{t=new IntersectionObserver(C,y)}t.observe(n)}return o(!0),s}function zL(n,e,t,r){r===void 0&&(r={});const{ancestorScroll:i=!0,ancestorResize:s=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:l=!1}=r,u=_1(n),d=i||s?[...u?Ru(u):[],...Ru(e)]:[];d.forEach(g=>{i&&g.addEventListener("scroll",t,{passive:!0}),s&&g.addEventListener("resize",t)});const h=u&&a?BL(u,t):null;let f=-1,p=null;o&&(p=new ResizeObserver(g=>{let[y]=g;y&&y.target===u&&p&&(p.unobserve(e),cancelAnimationFrame(f),f=requestAnimationFrame(()=>{var x;(x=p)==null||x.observe(e)})),t()}),u&&!l&&p.observe(u),p.observe(e));let m,v=l?ua(n):null;l&&b();function b(){const g=ua(n);v&&(g.x!==v.x||g.y!==v.y||g.width!==v.width||g.height!==v.height)&&t(),v=g,m=requestAnimationFrame(b)}return t(),()=>{var g;d.forEach(y=>{i&&y.removeEventListener("scroll",t),s&&y.removeEventListener("resize",t)}),h==null||h(),(g=p)==null||g.disconnect(),p=null,l&&cancelAnimationFrame(m)}}const Cg=_m,UL=SL,VL=_L,WL=EL,GL=CL,qL=(n,e,t)=>{const r=new Map,i={platform:HL,...t},s={...i.platform,_c:r};return bL(n,e,{...i,platform:s})};var yf=typeof document<"u"?S.useLayoutEffect:S.useEffect;function Sp(n,e){if(n===e)return!0;if(typeof n!=typeof e)return!1;if(typeof n=="function"&&n.toString()===e.toString())return!0;let t,r,i;if(n&&e&&typeof n=="object"){if(Array.isArray(n)){if(t=n.length,t!==e.length)return!1;for(r=t;r--!==0;)if(!Sp(n[r],e[r]))return!1;return!0}if(i=Object.keys(n),t=i.length,t!==Object.keys(e).length)return!1;for(r=t;r--!==0;)if(!{}.hasOwnProperty.call(e,i[r]))return!1;for(r=t;r--!==0;){const s=i[r];if(!(s==="_owner"&&n.$$typeof)&&!Sp(n[s],e[s]))return!1}return!0}return n!==n&&e!==e}function SS(n){return typeof window>"u"?1:(n.ownerDocument.defaultView||window).devicePixelRatio||1}function Ew(n,e){const t=SS(n);return Math.round(e*t)/t}function Aw(n){const e=S.useRef(n);return yf(()=>{e.current=n}),e}function XL(n){n===void 0&&(n={});const{placement:e="bottom",strategy:t="absolute",middleware:r=[],platform:i,elements:{reference:s,floating:o}={},transform:a=!0,whileElementsMounted:l,open:u}=n,[d,h]=S.useState({x:0,y:0,strategy:t,placement:e,middlewareData:{},isPositioned:!1}),[f,p]=S.useState(r);Sp(f,r)||p(r);const[m,v]=S.useState(null),[b,g]=S.useState(null),y=S.useCallback(I=>{I!==k.current&&(k.current=I,v(I))},[]),x=S.useCallback(I=>{I!==P.current&&(P.current=I,g(I))},[]),C=s||m,T=o||b,k=S.useRef(null),P=S.useRef(null),R=S.useRef(d),F=l!=null,D=Aw(l),N=Aw(i),q=S.useCallback(()=>{if(!k.current||!P.current)return;const I={placement:e,strategy:t,middleware:f};N.current&&(I.platform=N.current),qL(k.current,P.current,I).then(L=>{const $={...L,isPositioned:!0};U.current&&!Sp(R.current,$)&&(R.current=$,$n.flushSync(()=>{h($)}))})},[f,e,t,N]);yf(()=>{u===!1&&R.current.isPositioned&&(R.current.isPositioned=!1,h(I=>({...I,isPositioned:!1})))},[u]);const U=S.useRef(!1);yf(()=>(U.current=!0,()=>{U.current=!1}),[]),yf(()=>{if(C&&(k.current=C),T&&(P.current=T),C&&T){if(D.current)return D.current(C,T,q);q()}},[C,T,q,D,F]);const z=S.useMemo(()=>({reference:k,floating:P,setReference:y,setFloating:x}),[y,x]),j=S.useMemo(()=>({reference:C,floating:T}),[C,T]),K=S.useMemo(()=>{const I={position:t,left:0,top:0};if(!j.floating)return I;const L=Ew(j.floating,d.x),$=Ew(j.floating,d.y);return a?{...I,transform:"translate("+L+"px, "+$+"px)",...SS(j.floating)>=1.5&&{willChange:"transform"}}:{position:t,left:L,top:$}},[t,a,j.floating,d.x,d.y]);return S.useMemo(()=>({...d,update:q,refs:z,elements:j,floatingStyles:K}),[d,q,z,j,K])}const _S=(n,e)=>({...UL(n),options:[n,e]}),KL=(n,e)=>({...VL(n),options:[n,e]}),YL=(n,e)=>({...WL(n),options:[n,e]}),QL=(n,e)=>({...GL(n),options:[n,e]}),CS={...qf},ZL=CS.useInsertionEffect,JL=ZL||(n=>n());function TS(n){const e=S.useRef(()=>{});return JL(()=>{e.current=n}),S.useCallback(function(){for(var t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];return e.current==null?void 0:e.current(...r)},[])}var G0=typeof document<"u"?S.useLayoutEffect:S.useEffect;let Sw=!1,e4=0;const _w=()=>"floating-ui-"+Math.random().toString(36).slice(2,6)+e4++;function t4(){const[n,e]=S.useState(()=>Sw?_w():void 0);return G0(()=>{n==null&&e(_w())},[]),S.useEffect(()=>{Sw=!0},[]),n}const n4=CS.useId,r4=n4||t4;function i4(){const n=new Map;return{emit(e,t){var r;(r=n.get(e))==null||r.forEach(i=>i(t))},on(e,t){n.set(e,[...n.get(e)||[],t])},off(e,t){var r;n.set(e,((r=n.get(e))==null?void 0:r.filter(i=>i!==t))||[])}}}const s4=S.createContext(null),o4=S.createContext(null),a4=()=>{var n;return((n=S.useContext(s4))==null?void 0:n.id)||null},l4=()=>S.useContext(o4);function c4(n){const{open:e=!1,onOpenChange:t,elements:r}=n,i=r4(),s=S.useRef({}),[o]=S.useState(()=>i4()),a=a4()!=null,[l,u]=S.useState(r.reference),d=TS((p,m,v)=>{s.current.openEvent=p?m:void 0,o.emit("openchange",{open:p,event:m,reason:v,nested:a}),t==null||t(p,m,v)}),h=S.useMemo(()=>({setPositionReference:u}),[]),f=S.useMemo(()=>({reference:l||r.reference||null,floating:r.floating||null,domReference:r.reference}),[l,r.reference,r.floating]);return S.useMemo(()=>({dataRef:s,open:e,onOpenChange:d,elements:f,events:o,floatingId:i,refs:h}),[e,d,f,o,i,h])}function u4(n){n===void 0&&(n={});const{nodeId:e}=n,t=c4({...n,elements:{reference:null,floating:null,...n.elements}}),r=n.rootContext||t,i=r.elements,[s,o]=S.useState(null),[a,l]=S.useState(null),d=(i==null?void 0:i.reference)||s,h=S.useRef(null),f=l4();G0(()=>{d&&(h.current=d)},[d]);const p=XL({...n,elements:{...i,...a&&{reference:a}}}),m=S.useCallback(x=>{const C=Zt(x)?{getBoundingClientRect:()=>x.getBoundingClientRect(),contextElement:x}:x;l(C),p.refs.setReference(C)},[p.refs]),v=S.useCallback(x=>{(Zt(x)||x===null)&&(h.current=x,o(x)),(Zt(p.refs.reference.current)||p.refs.reference.current===null||x!==null&&!Zt(x))&&p.refs.setReference(x)},[p.refs]),b=S.useMemo(()=>({...p.refs,setReference:v,setPositionReference:m,domReference:h}),[p.refs,v,m]),g=S.useMemo(()=>({...p.elements,domReference:d}),[p.elements,d]),y=S.useMemo(()=>({...p,...r,refs:b,elements:g,nodeId:e}),[p,b,g,e,r]);return G0(()=>{r.dataRef.current.floatingContext=y;const x=f==null?void 0:f.nodesRef.current.find(C=>C.id===e);x&&(x.context=y)}),S.useMemo(()=>({...p,context:y,refs:b,elements:g}),[p,b,g,y])}const Cw="active",Tw="selected";function Tg(n,e,t){const r=new Map,i=t==="item";let s=n;if(i&&n){const{[Cw]:o,[Tw]:a,...l}=n;s=l}return{...t==="floating"&&{tabIndex:-1},...s,...e.map(o=>{const a=o?o[t]:null;return typeof a=="function"?n?a(n):null:a}).concat(n).reduce((o,a)=>(a&&Object.entries(a).forEach(l=>{let[u,d]=l;if(!(i&&[Cw,Tw].includes(u)))if(u.indexOf("on")===0){if(r.has(u)||r.set(u,[]),typeof d=="function"){var h;(h=r.get(u))==null||h.push(d),o[u]=function(){for(var f,p=arguments.length,m=new Array(p),v=0;v<p;v++)m[v]=arguments[v];return(f=r.get(u))==null?void 0:f.map(b=>b(...m)).find(b=>b!==void 0)}}}else o[u]=d}),o),{})}}function d4(n){n===void 0&&(n=[]);const e=n.map(a=>a==null?void 0:a.reference),t=n.map(a=>a==null?void 0:a.floating),r=n.map(a=>a==null?void 0:a.item),i=S.useCallback(a=>Tg(a,n,"reference"),e),s=S.useCallback(a=>Tg(a,n,"floating"),t),o=S.useCallback(a=>Tg(a,n,"item"),r);return S.useMemo(()=>({getReferenceProps:i,getFloatingProps:s,getItemProps:o}),[i,s,o])}function kw(n,e){return{...n,rects:{...n.rects,floating:{...n.rects.floating,height:e}}}}const h4=n=>({name:"inner",options:n,async fn(e){const{listRef:t,overflowRef:r,onFallbackChange:i,offset:s=0,index:o=0,minItemsVisible:a=4,referenceOverflowThreshold:l=0,scrollRef:u,...d}=fc(n,e),{rects:h,elements:{floating:f}}=e,p=t.current[o];if(!p)return{};const m={...e,...await _S(-p.offsetTop-f.clientTop-h.reference.height/2-p.offsetHeight/2-s).fn(e)},v=(u==null?void 0:u.current)||f,b=await Cg(kw(m,v.scrollHeight),d),g=await Cg(m,{...d,elementContext:"reference"}),y=Math.max(0,b.top),x=m.y+y,C=Math.max(0,v.scrollHeight-y-Math.max(0,b.bottom));return v.style.maxHeight=C+"px",v.scrollTop=y,i&&(v.offsetHeight<p.offsetHeight*Math.min(a,t.current.length-1)-1||g.top>=-l||g.bottom>=-l?$n.flushSync(()=>i(!0)):$n.flushSync(()=>i(!1))),r&&(r.current=await Cg(kw({...m,y:x},v.offsetHeight),d)),{y:x}}});function f4(n,e){const{open:t,elements:r}=n,{enabled:i=!0,overflowRef:s,scrollRef:o,onChange:a}=e,l=TS(a),u=S.useRef(!1),d=S.useRef(null),h=S.useRef(null);S.useEffect(()=>{if(!i)return;function p(v){if(v.ctrlKey||!m||s.current==null)return;const b=v.deltaY,g=s.current.top>=-.5,y=s.current.bottom>=-.5,x=m.scrollHeight-m.clientHeight,C=b<0?-1:1,T=b<0?"max":"min";m.scrollHeight<=m.clientHeight||(!g&&b>0||!y&&b<0?(v.preventDefault(),$n.flushSync(()=>{l(k=>k+Math[T](b,x*C))})):/firefox/i.test(hL())&&(m.scrollTop+=b))}const m=(o==null?void 0:o.current)||r.floating;if(t&&m)return m.addEventListener("wheel",p),requestAnimationFrame(()=>{d.current=m.scrollTop,s.current!=null&&(h.current={...s.current})}),()=>{d.current=null,h.current=null,m.removeEventListener("wheel",p)}},[i,t,r.floating,s,o,l]);const f=S.useMemo(()=>({onKeyDown(){u.current=!0},onWheel(){u.current=!1},onPointerMove(){u.current=!1},onScroll(){const p=(o==null?void 0:o.current)||r.floating;if(!(!s.current||!p||!u.current)){if(d.current!==null){const m=p.scrollTop-d.current;(s.current.bottom<-.5&&m<-1||s.current.top<-.5&&m>1)&&$n.flushSync(()=>l(v=>v+m))}requestAnimationFrame(()=>{d.current=p.scrollTop})}}}),[r.floating,l,s,o]);return S.useMemo(()=>i?{floating:f}:{},[i,f])}let pc=S.createContext({styles:void 0,setReference:()=>{},setFloating:()=>{},getReferenceProps:()=>({}),getFloatingProps:()=>({}),slot:{}});pc.displayName="FloatingContext";let C1=S.createContext(null);C1.displayName="PlacementContext";function p4(n){return S.useMemo(()=>n?typeof n=="string"?{to:n}:n:null,[n])}function m4(){return S.useContext(pc).setReference}function g4(){return S.useContext(pc).getReferenceProps}function v4(){let{getFloatingProps:n,slot:e}=S.useContext(pc);return S.useCallback((...t)=>Object.assign({},n(...t),{"data-anchor":e.anchor}),[n,e])}function y4(n=null){n===!1&&(n=null),typeof n=="string"&&(n={to:n});let e=S.useContext(C1),t=S.useMemo(()=>n,[JSON.stringify(n,typeof HTMLElement<"u"?(i,s)=>s instanceof HTMLElement?s.outerHTML:s:void 0)]);Ue(()=>{e==null||e(t??null)},[e,t]);let r=S.useContext(pc);return S.useMemo(()=>[r.setFloating,n?r.styles:{}],[r.setFloating,n,r.styles])}let Pw=4;function x4({children:n,enabled:e=!0}){let[t,r]=S.useState(null),[i,s]=S.useState(0),o=S.useRef(null),[a,l]=S.useState(null);w4(a);let u=e&&t!==null&&a!==null,{to:d="bottom",gap:h=0,offset:f=0,padding:p=0,inner:m}=b4(t,a),[v,b="center"]=d.split(" ");Ue(()=>{u&&s(0)},[u]);let{refs:g,floatingStyles:y,context:x}=u4({open:u,placement:v==="selection"?b==="center"?"bottom":`bottom-${b}`:b==="center"?`${v}`:`${v}-${b}`,strategy:"absolute",transform:!1,middleware:[_S({mainAxis:v==="selection"?0:h,crossAxis:f}),KL({padding:p}),v!=="selection"&&YL({padding:p}),v==="selection"&&m?h4({...m,padding:p,overflowRef:o,offset:i,minItemsVisible:Pw,referenceOverflowThreshold:p,onFallbackChange(N){var q,U;if(!N)return;let z=x.elements.floating;if(!z)return;let j=parseFloat(getComputedStyle(z).scrollPaddingBottom)||0,K=Math.min(Pw,z.childElementCount),I=0,L=0;for(let $ of(U=(q=x.elements.floating)==null?void 0:q.childNodes)!=null?U:[])if($ instanceof HTMLElement){let G=$.offsetTop,ne=G+$.clientHeight+j,J=z.scrollTop,fe=J+z.clientHeight;if(G>=J&&ne<=fe)K--;else{L=Math.max(0,Math.min(ne,fe)-Math.max(G,J)),I=$.clientHeight;break}}K>=1&&s($=>{let G=I*K-L+j;return $>=G?$:G})}}):null,QL({padding:p,apply({availableWidth:N,availableHeight:q,elements:U}){Object.assign(U.floating.style,{overflow:"auto",maxWidth:`${N}px`,maxHeight:`min(var(--anchor-max-height, 100vh), ${q}px)`})}})].filter(Boolean),whileElementsMounted:zL}),[C=v,T=b]=x.placement.split("-");v==="selection"&&(C="selection");let k=S.useMemo(()=>({anchor:[C,T].filter(Boolean).join(" ")}),[C,T]),P=f4(x,{overflowRef:o,onChange:s}),{getReferenceProps:R,getFloatingProps:F}=d4([P]),D=Fe(N=>{l(N),g.setFloating(N)});return S.createElement(C1.Provider,{value:r},S.createElement(pc.Provider,{value:{setFloating:D,setReference:g.setReference,styles:y,getReferenceProps:R,getFloatingProps:F,slot:k}},n))}function w4(n){Ue(()=>{if(!n)return;let e=new MutationObserver(()=>{let t=n.style.maxHeight;parseFloat(t)!==parseInt(t)&&(n.style.maxHeight=`${Math.ceil(parseFloat(t))}px`)});return e.observe(n,{attributes:!0,attributeFilter:["style"]}),()=>{e.disconnect()}},[n])}function b4(n,e){var t,r,i;let s=kg((t=n==null?void 0:n.gap)!=null?t:"var(--anchor-gap, 0)",e),o=kg((r=n==null?void 0:n.offset)!=null?r:"var(--anchor-offset, 0)",e),a=kg((i=n==null?void 0:n.padding)!=null?i:"var(--anchor-padding, 0)",e);return{...n,gap:s,offset:o,padding:a}}function kg(n,e,t=void 0){let r=bm(),i=Fe((l,u)=>{if(l==null)return[t,null];if(typeof l=="number")return[l,null];if(typeof l=="string"){if(!u)return[t,null];let d=Rw(l,u);return[d,h=>{let f=kS(l);{let p=f.map(m=>window.getComputedStyle(u).getPropertyValue(m));r.requestAnimationFrame(function m(){r.nextFrame(m);let v=!1;for(let[g,y]of f.entries()){let x=window.getComputedStyle(u).getPropertyValue(y);if(p[g]!==x){p[g]=x,v=!0;break}}if(!v)return;let b=Rw(l,u);d!==b&&(h(b),d=b)})}return r.dispose}]}return[t,null]}),s=S.useMemo(()=>i(n,e)[0],[n,e]),[o=s,a]=S.useState();return Ue(()=>{let[l,u]=i(n,e);if(a(l),!!u)return u(a)},[n,e]),o}function kS(n){let e=/var\((.*)\)/.exec(n);if(e){let t=e[1].indexOf(",");if(t===-1)return[e[1]];let r=e[1].slice(0,t).trim(),i=e[1].slice(t+1).trim();return i?[r,...kS(i)]:[r]}return[]}function Rw(n,e){let t=document.createElement("div");e.appendChild(t),t.style.setProperty("margin-top","0px","important"),t.style.setProperty("margin-top",n,"important");let r=parseFloat(window.getComputedStyle(t).marginTop)||0;return e.removeChild(t),r}let T1=S.createContext(null);T1.displayName="OpenClosedContext";var Lu=(n=>(n[n.Open=1]="Open",n[n.Closed=2]="Closed",n[n.Closing=4]="Closing",n[n.Opening=8]="Opening",n))(Lu||{});function E4(){return S.useContext(T1)}function A4({value:n,children:e}){return Ie.createElement(T1.Provider,{value:n},e)}function S4(n){throw new Error("Unexpected object: "+n)}var kt=(n=>(n[n.First=0]="First",n[n.Previous=1]="Previous",n[n.Next=2]="Next",n[n.Last=3]="Last",n[n.Specific=4]="Specific",n[n.Nothing=5]="Nothing",n))(kt||{});function Pg(n,e){let t=e.resolveItems();if(t.length<=0)return null;let r=e.resolveActiveIndex(),i=r??-1;switch(n.focus){case 0:{for(let s=0;s<t.length;++s)if(!e.resolveDisabled(t[s],s,t))return s;return r}case 1:{i===-1&&(i=t.length);for(let s=i-1;s>=0;--s)if(!e.resolveDisabled(t[s],s,t))return s;return r}case 2:{for(let s=i+1;s<t.length;++s)if(!e.resolveDisabled(t[s],s,t))return s;return r}case 3:{for(let s=t.length-1;s>=0;--s)if(!e.resolveDisabled(t[s],s,t))return s;return r}case 4:{for(let s=0;s<t.length;++s)if(e.resolveId(t[s],s,t)===n.id)return s;return r}case 5:return null;default:S4(n)}}function _4(n){let e=Fe(n),t=S.useRef(!1);S.useEffect(()=>(t.current=!1,()=>{t.current=!0,tS(()=>{t.current&&e()})}),[e])}function C4(){let n=typeof document>"u";return"useSyncExternalStore"in qf?(e=>e.useSyncExternalStore)(qf)(()=>()=>{},()=>!1,()=>!n):!1}function T4(){let n=C4(),[e,t]=S.useState(ta.isHandoffComplete);return e&&ta.isHandoffComplete===!1&&t(!1),S.useEffect(()=>{e!==!0&&t(!0)},[e]),S.useEffect(()=>ta.handoff(),[]),n?!1:e}let k4=S.createContext(!1);function P4(){return S.useContext(k4)}function R4(n){let e=P4(),t=S.useContext(RS),r=E1(n),[i,s]=S.useState(()=>{var o;if(!e&&t!==null)return(o=t.current)!=null?o:null;if(ta.isServer)return null;let a=r==null?void 0:r.getElementById("headlessui-portal-root");if(a)return a;if(r===null)return null;let l=r.createElement("div");return l.setAttribute("id","headlessui-portal-root"),r.body.appendChild(l)});return S.useEffect(()=>{i!==null&&(r!=null&&r.body.contains(i)||r==null||r.body.appendChild(i))},[i,r]),S.useEffect(()=>{e||t!==null&&s(t.current)},[t,s,e]),i}let PS=S.Fragment,L4=Vn(function(n,e){let t=n,r=S.useRef(null),i=Oi(yR(d=>{r.current=d}),e),s=E1(r),o=R4(r),[a]=S.useState(()=>{var d;return ta.isServer?null:(d=s==null?void 0:s.createElement("div"))!=null?d:null}),l=S.useContext(F4),u=T4();return Ue(()=>{!o||!a||o.contains(a)||(a.setAttribute("data-headlessui-portal",""),o.appendChild(a))},[o,a]),Ue(()=>{if(a&&l)return l.register(a)},[l,a]),_4(()=>{var d;!o||!a||(a instanceof Node&&o.contains(a)&&o.removeChild(a),o.childNodes.length<=0&&((d=o.parentElement)==null||d.removeChild(o)))}),u?!o||!a?null:$n.createPortal(Un({ourProps:{ref:i},theirProps:t,slot:{},defaultTag:PS,name:"Portal"}),a):null});function M4(n,e){let t=Oi(e),{enabled:r=!0,...i}=n;return r?Ie.createElement(L4,{...i,ref:t}):Un({ourProps:{ref:t},theirProps:i,slot:{},defaultTag:PS,name:"Portal"})}let N4=S.Fragment,RS=S.createContext(null);function D4(n,e){let{target:t,...r}=n,i={ref:Oi(e)};return Ie.createElement(RS.Provider,{value:t},Un({ourProps:i,theirProps:r,defaultTag:N4,name:"Popover.Group"}))}let F4=S.createContext(null),I4=Vn(M4),O4=Vn(D4),j4=Object.assign(I4,{Group:O4});function $4(n,e){let t=S.useRef({left:0,top:0});if(Ue(()=>{let i=e.current;if(!i)return;let s=i.getBoundingClientRect();s&&(t.current=s)},[n]),e.current==null||!n||e.current===document.activeElement)return!1;let r=e.current.getBoundingClientRect();return r.top!==t.current.top||r.left!==t.current.left}let Lw=/([\u2700-\u27BF]|[\uE000-\uF8FF]|\uD83C[\uDC00-\uDFFF]|\uD83D[\uDC00-\uDFFF]|[\u2011-\u26FF]|\uD83E[\uDD10-\uDDFF])/g;function Mw(n){var e,t;let r=(e=n.innerText)!=null?e:"",i=n.cloneNode(!0);if(!(i instanceof HTMLElement))return r;let s=!1;for(let a of i.querySelectorAll('[hidden],[aria-hidden],[role="img"]'))a.remove(),s=!0;let o=s?(t=i.innerText)!=null?t:"":r;return Lw.test(o)&&(o=o.replace(Lw,"")),o}function H4(n){let e=n.getAttribute("aria-label");if(typeof e=="string")return e.trim();let t=n.getAttribute("aria-labelledby");if(t){let r=t.split(" ").map(i=>{let s=document.getElementById(i);if(s){let o=s.getAttribute("aria-label");return typeof o=="string"?o.trim():Mw(s).trim()}return null}).filter(Boolean);if(r.length>0)return r.join(", ")}return Mw(n).trim()}function B4(n){let e=S.useRef(""),t=S.useRef("");return Fe(()=>{let r=n.current;if(!r)return"";let i=r.innerText;if(e.current===i)return t.current;let s=H4(r).trim().toLowerCase();return e.current=i,t.current=s,s})}var z4=(n=>(n[n.Open=0]="Open",n[n.Closed=1]="Closed",n))(z4||{}),U4=(n=>(n[n.Pointer=0]="Pointer",n[n.Other=1]="Other",n))(U4||{}),V4=(n=>(n[n.OpenMenu=0]="OpenMenu",n[n.CloseMenu=1]="CloseMenu",n[n.GoToItem=2]="GoToItem",n[n.Search=3]="Search",n[n.ClearSearch=4]="ClearSearch",n[n.RegisterItem=5]="RegisterItem",n[n.UnregisterItem=6]="UnregisterItem",n))(V4||{});function Rg(n,e=t=>t){let t=n.activeItemIndex!==null?n.items[n.activeItemIndex]:null,r=hS(e(n.items.slice()),s=>s.dataRef.current.domRef.current),i=t?r.indexOf(t):null;return i===-1&&(i=null),{items:r,activeItemIndex:i}}let W4={1(n){return n.menuState===1?n:{...n,activeItemIndex:null,menuState:1}},0(n){return n.menuState===0?n:{...n,__demoMode:!1,menuState:0}},2:(n,e)=>{var t,r,i,s,o;if(n.menuState===1)return n;let a={...n,searchQuery:"",activationTrigger:(t=e.trigger)!=null?t:1,__demoMode:!1};if(e.focus===kt.Nothing)return{...a,activeItemIndex:null};if(e.focus===kt.Specific)return{...a,activeItemIndex:n.items.findIndex(d=>d.id===e.id)};if(e.focus===kt.Previous){let d=n.activeItemIndex;if(d!==null){let h=n.items[d].dataRef.current.domRef,f=Pg(e,{resolveItems:()=>n.items,resolveActiveIndex:()=>n.activeItemIndex,resolveId:p=>p.id,resolveDisabled:p=>p.dataRef.current.disabled});if(f!==null){let p=n.items[f].dataRef.current.domRef;if(((r=h.current)==null?void 0:r.previousElementSibling)===p.current||((i=p.current)==null?void 0:i.previousElementSibling)===null)return{...a,activeItemIndex:f}}}}else if(e.focus===kt.Next){let d=n.activeItemIndex;if(d!==null){let h=n.items[d].dataRef.current.domRef,f=Pg(e,{resolveItems:()=>n.items,resolveActiveIndex:()=>n.activeItemIndex,resolveId:p=>p.id,resolveDisabled:p=>p.dataRef.current.disabled});if(f!==null){let p=n.items[f].dataRef.current.domRef;if(((s=h.current)==null?void 0:s.nextElementSibling)===p.current||((o=p.current)==null?void 0:o.nextElementSibling)===null)return{...a,activeItemIndex:f}}}}let l=Rg(n),u=Pg(e,{resolveItems:()=>l.items,resolveActiveIndex:()=>l.activeItemIndex,resolveId:d=>d.id,resolveDisabled:d=>d.dataRef.current.disabled});return{...a,...l,activeItemIndex:u}},3:(n,e)=>{let t=n.searchQuery!==""?0:1,r=n.searchQuery+e.value.toLowerCase(),i=(n.activeItemIndex!==null?n.items.slice(n.activeItemIndex+t).concat(n.items.slice(0,n.activeItemIndex+t)):n.items).find(o=>{var a;return((a=o.dataRef.current.textValue)==null?void 0:a.startsWith(r))&&!o.dataRef.current.disabled}),s=i?n.items.indexOf(i):-1;return s===-1||s===n.activeItemIndex?{...n,searchQuery:r}:{...n,searchQuery:r,activeItemIndex:s,activationTrigger:1}},4(n){return n.searchQuery===""?n:{...n,searchQuery:"",searchActiveItemIndex:null}},5:(n,e)=>{let t=Rg(n,r=>[...r,{id:e.id,dataRef:e.dataRef}]);return{...n,...t}},6:(n,e)=>{let t=Rg(n,r=>{let i=r.findIndex(s=>s.id===e.id);return i!==-1&&r.splice(i,1),r});return{...n,...t,activationTrigger:1}}},k1=S.createContext(null);k1.displayName="MenuContext";function Cm(n){let e=S.useContext(k1);if(e===null){let t=new Error(`<${n} /> is missing a parent <Menu /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(t,Cm),t}return e}function G4(n,e){return Eh(e.type,W4,n,e)}let q4=S.Fragment;function X4(n,e){let{__demoMode:t=!1,...r}=n,i=S.useReducer(G4,{__demoMode:t,menuState:t?0:1,buttonRef:S.createRef(),itemsRef:S.createRef(),items:[],searchQuery:"",activeItemIndex:null,activationTrigger:1}),[{menuState:s,itemsRef:o,buttonRef:a},l]=i,u=Oi(e);GR(s===0,[a,o],(p,m)=>{var v;l({type:1}),b1(m,w1.Loose)||(p.preventDefault(),(v=a.current)==null||v.focus())});let d=Fe(()=>{l({type:1})}),h=S.useMemo(()=>({open:s===0,close:d}),[s,d]),f={ref:u};return Ie.createElement(x4,null,Ie.createElement(k1.Provider,{value:i},Ie.createElement(A4,{value:Eh(s,{0:Lu.Open,1:Lu.Closed})},Un({ourProps:f,theirProps:r,slot:h,defaultTag:q4,name:"Menu"}))))}let K4="button";function Y4(n,e){var t;let r=S.useId(),{id:i=`headlessui-menu-button-${r}`,disabled:s=!1,autoFocus:o=!1,...a}=n,[l,u]=Cm("Menu.Button"),d=g4(),h=Oi(l.buttonRef,e,m4()),f=Fe(P=>{switch(P.key){case yt.Space:case yt.Enter:case yt.ArrowDown:P.preventDefault(),P.stopPropagation(),$n.flushSync(()=>u({type:0})),u({type:2,focus:kt.First});break;case yt.ArrowUp:P.preventDefault(),P.stopPropagation(),$n.flushSync(()=>u({type:0})),u({type:2,focus:kt.Last});break}}),p=Fe(P=>{switch(P.key){case yt.Space:P.preventDefault();break}}),m=Fe(P=>{var R;if(gR(P.currentTarget))return P.preventDefault();s||(l.menuState===0?($n.flushSync(()=>u({type:1})),(R=l.buttonRef.current)==null||R.focus({preventScroll:!0})):(P.preventDefault(),u({type:0})))}),{isFocusVisible:v,focusProps:b}=iR({autoFocus:o}),{isHovered:g,hoverProps:y}=rR({isDisabled:s}),{pressed:x,pressProps:C}=uR({disabled:s}),T=S.useMemo(()=>({open:l.menuState===0,active:x||l.menuState===0,disabled:s,hover:g,focus:v,autofocus:o}),[l,g,v,x,s,o]),k=iS(d(),{ref:h,id:i,type:qR(n,l.buttonRef),"aria-haspopup":"menu","aria-controls":(t=l.itemsRef.current)==null?void 0:t.id,"aria-expanded":l.menuState===0,disabled:s||void 0,autoFocus:o,onKeyDown:f,onKeyUp:p,onClick:m},b,y,C);return Un({ourProps:k,theirProps:a,slot:T,defaultTag:K4,name:"Menu.Button"})}let Q4="div",Z4=B0.RenderStrategy|B0.Static;function J4(n,e){var t,r;let i=S.useId(),{id:s=`headlessui-menu-items-${i}`,anchor:o,portal:a=!1,modal:l=!0,transition:u=!1,...d}=n,h=p4(o),[f,p]=Cm("Menu.Items"),[m,v]=y4(h),b=v4(),g=Oi(f.itemsRef,e,h?m:null),y=E1(f.itemsRef);h&&(a=!0);let x=E4(),[C,T]=sL(u,f.itemsRef,x!==null?(x&Lu.Open)===Lu.Open:f.menuState===0);MR(C,f.buttonRef,()=>{p({type:1})});let k=f.__demoMode?!1:l&&f.menuState===0;JR(k,y);let P=f.__demoMode?!1:l&&f.menuState===0;LR(P,{allowed:Fe(()=>[f.buttonRef.current,f.itemsRef.current])});let R=f.menuState!==0,F=$4(R,f.buttonRef)?!1:C;S.useEffect(()=>{let j=f.itemsRef.current;j&&f.menuState===0&&j!==(y==null?void 0:y.activeElement)&&j.focus({preventScroll:!0})},[f.menuState,f.itemsRef,y,f.itemsRef.current]),cL(f.menuState===0,{container:f.itemsRef.current,accept(j){return j.getAttribute("role")==="menuitem"?NodeFilter.FILTER_REJECT:j.hasAttribute("role")?NodeFilter.FILTER_SKIP:NodeFilter.FILTER_ACCEPT},walk(j){j.setAttribute("role","none")}});let D=bm(),N=Fe(j=>{var K,I,L;switch(D.dispose(),j.key){case yt.Space:if(f.searchQuery!=="")return j.preventDefault(),j.stopPropagation(),p({type:3,value:j.key});case yt.Enter:if(j.preventDefault(),j.stopPropagation(),p({type:1}),f.activeItemIndex!==null){let{dataRef:$}=f.items[f.activeItemIndex];(I=(K=$.current)==null?void 0:K.domRef.current)==null||I.click()}dS(f.buttonRef.current);break;case yt.ArrowDown:return j.preventDefault(),j.stopPropagation(),p({type:2,focus:kt.Next});case yt.ArrowUp:return j.preventDefault(),j.stopPropagation(),p({type:2,focus:kt.Previous});case yt.Home:case yt.PageUp:return j.preventDefault(),j.stopPropagation(),p({type:2,focus:kt.First});case yt.End:case yt.PageDown:return j.preventDefault(),j.stopPropagation(),p({type:2,focus:kt.Last});case yt.Escape:j.preventDefault(),j.stopPropagation(),$n.flushSync(()=>p({type:1})),(L=f.buttonRef.current)==null||L.focus({preventScroll:!0});break;case yt.Tab:j.preventDefault(),j.stopPropagation(),$n.flushSync(()=>p({type:1})),BR(f.buttonRef.current,j.shiftKey?V0.Previous:V0.Next);break;default:j.key.length===1&&(p({type:3,value:j.key}),D.setTimeout(()=>p({type:4}),350));break}}),q=Fe(j=>{switch(j.key){case yt.Space:j.preventDefault();break}}),U=S.useMemo(()=>({open:f.menuState===0}),[f.menuState]),z=iS(h?b():{},{"aria-activedescendant":f.activeItemIndex===null||(t=f.items[f.activeItemIndex])==null?void 0:t.id,"aria-labelledby":(r=f.buttonRef.current)==null?void 0:r.id,id:s,onKeyDown:N,onKeyUp:q,role:"menu",tabIndex:f.menuState===0?0:void 0,ref:g,style:{...d.style,...v,"--button-width":kR(f.buttonRef,!0).width},...iL(T)});return Ie.createElement(j4,{enabled:a?n.static||C:!1},Un({ourProps:z,theirProps:d,slot:U,defaultTag:Q4,features:Z4,visible:F,name:"Menu.Items"}))}let eM=S.Fragment;function tM(n,e){let t=S.useId(),{id:r=`headlessui-menu-item-${t}`,disabled:i=!1,...s}=n,[o,a]=Cm("Menu.Item"),l=o.activeItemIndex!==null?o.items[o.activeItemIndex].id===r:!1,u=S.useRef(null),d=Oi(e,u);Ue(()=>{if(!o.__demoMode&&o.menuState===0&&l&&o.activationTrigger!==0)return zr().requestAnimationFrame(()=>{var F,D;(D=(F=u.current)==null?void 0:F.scrollIntoView)==null||D.call(F,{block:"nearest"})})},[o.__demoMode,u,l,o.menuState,o.activationTrigger,o.activeItemIndex]);let h=B4(u),f=S.useRef({disabled:i,domRef:u,get textValue(){return h()}});Ue(()=>{f.current.disabled=i},[f,i]),Ue(()=>(a({type:5,id:r,dataRef:f}),()=>a({type:6,id:r})),[f,r]);let p=Fe(()=>{a({type:1})}),m=Fe(F=>{if(i)return F.preventDefault();a({type:1}),dS(o.buttonRef.current)}),v=Fe(()=>{if(i)return a({type:2,focus:kt.Nothing});a({type:2,focus:kt.Specific,id:r})}),b=eL(),g=Fe(F=>{b.update(F),!i&&(l||a({type:2,focus:kt.Specific,id:r,trigger:0}))}),y=Fe(F=>{b.wasMoved(F)&&(i||l||a({type:2,focus:kt.Specific,id:r,trigger:0}))}),x=Fe(F=>{b.wasMoved(F)&&(i||l&&a({type:2,focus:kt.Nothing}))}),[C,T]=aS(),[k,P]=xR(),R=S.useMemo(()=>({active:l,focus:l,disabled:i,close:p}),[l,i,p]);return Ie.createElement(T,null,Ie.createElement(P,null,Un({ourProps:{id:r,ref:d,role:"menuitem",tabIndex:i===!0?void 0:-1,"aria-disabled":i===!0?!0:void 0,"aria-labelledby":C,"aria-describedby":k,disabled:void 0,onClick:m,onFocus:v,onPointerEnter:g,onMouseEnter:g,onPointerMove:y,onMouseMove:y,onPointerLeave:x,onMouseLeave:x},theirProps:s,slot:R,defaultTag:eM,name:"Menu.Item"})))}let nM="div";function rM(n,e){let[t,r]=aS();return Ie.createElement(r,null,Un({ourProps:{ref:e,"aria-labelledby":t,role:"group"},theirProps:n,slot:{},defaultTag:nM,name:"Menu.Section"}))}let iM="header";function sM(n,e){let t=S.useId(),{id:r=`headlessui-menu-heading-${t}`,...i}=n,s=y1();Ue(()=>s.register(r),[r,s.register]);let o={id:r,ref:e,role:"presentation",...s.props};return Un({ourProps:o,theirProps:i,slot:{},defaultTag:iM,name:"Menu.Heading"})}let oM="div";function aM(n,e){return Un({ourProps:{ref:e,role:"separator"},theirProps:n,slot:{},defaultTag:oM,name:"Menu.Separator"})}let lM=Vn(X4),LS=Vn(Y4),MS=Vn(J4),xf=Vn(tM),cM=Vn(rM),uM=Vn(sM),dM=Vn(aM),hM=Object.assign(lM,{Button:LS,Items:MS,Item:xf,Section:cM,Heading:uM,Separator:dM});function fM({title:n,titleId:e,...t},r){return S.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},t),n?S.createElement("title",{id:e},n):null,S.createElement("path",{fillRule:"evenodd",d:"M5.22 8.22a.75.75 0 0 1 1.06 0L10 11.94l3.72-3.72a.75.75 0 1 1 1.06 1.06l-4.25 4.25a.75.75 0 0 1-1.06 0L5.22 9.28a.75.75 0 0 1 0-1.06Z",clipRule:"evenodd"}))}const pM=S.forwardRef(fM);function mM(){return w.jsx("div",{className:"relative flex size-full min-h-screen flex-col bg-[#F9FAFA] group/design-root overflow-x-hidden",style:{"--checkbox-tick-svg":"url('data:image/svg+xml,%3csvg viewBox=%270 0 16 16%27 fill=%27rgb(249,250,250)%27 xmlns=%27http://www.w3.org/2000/svg%27%3e%3cpath d=%27M12.207 4.793a1 1 0 010 1.414l-5 5a1 1 0 01-1.414 0l-2-2a1 1 0 011.414-1.414L6.5 9.086l4.293-4.293a1 1 0 011.414 0z%27/%3e%3c/svg%3e')",fontFamily:'"Public Sans", "Noto Sans", sans-serif'},children:w.jsxs("div",{className:"layout-container flex h-full grow flex-col",children:[w.jsxs("header",{className:"flex items-center justify-between whitespace-nowrap border-b border-solid border-b-[#EEEFF2] px-10 py-3",children:[w.jsx("div",{className:"flex items-center gap-4 text-[#1C1D22]",children:w.jsx("h2",{className:"text-[#1C1D22] text-lg font-bold leading-tight tracking-[-0.015em]",children:"Healthcare"})}),w.jsxs("div",{className:"flex flex-1 justify-end gap-8",children:[w.jsxs("div",{className:"flex items-center gap-9",children:[w.jsx("a",{className:"text-[#1C1D22] text-sm font-medium leading-normal",href:"#",children:"Dashboard"}),w.jsx("a",{className:"text-[#1C1D22] text-sm font-medium leading-normal",href:"#",children:"Patients"}),w.jsx("a",{className:"text-[#1C1D22] text-sm font-medium leading-normal",href:"#",children:"Appointments"}),w.jsx("a",{className:"text-[#1C1D22] text-sm font-medium leading-normal",href:"#",children:"More"})]}),w.jsxs("div",{className:"flex gap-2",children:[w.jsx("button",{className:"flex max-w-[480px] cursor-pointer items-center justify-center overflow-hidden rounded-xl h-10 bg-[#EEEFF2] text-[#1C1D22] gap-2 text-sm font-bold leading-normal tracking-[0.015em] min-w-0 px-2.5",children:w.jsx("div",{className:"text-[#1C1D22]","data-icon":"MagnifyingGlass","data-size":"20px","data-weight":"regular",children:w.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20px",height:"20px",fill:"currentColor",viewBox:"0 0 256 256",children:w.jsx("path",{d:"M229.66,218.34l-50.07-50.06a88.11,88.11,0,1,0-11.31,11.31l50.06,50.07a8,8,0,0,0,11.32-11.32ZM40,112a72,72,0,1,1,72,72A72.08,72.08,0,0,1,40,112Z"})})})}),w.jsx("button",{className:"flex max-w-[480px] cursor-pointer items-center justify-center overflow-hidden rounded-xl h-10 bg-[#EEEFF2] text-[#1C1D22] gap-2 text-sm font-bold leading-normal tracking-[0.015em] min-w-0 px-2.5",children:w.jsx("div",{className:"text-[#1C1D22]","data-icon":"Bell","data-size":"20px","data-weight":"regular",children:w.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20px",height:"20px",fill:"currentColor",viewBox:"0 0 256 256",children:w.jsx("path",{d:"M221.8,175.94C216.25,166.38,208,139.33,208,104a80,80,0,1,0-160,0c0,35.34-8.26,62.38-13.81,71.94A16,16,0,0,0,48,200H88.81a40,40,0,0,0,78.38,0H208a16,16,0,0,0,13.8-24.06ZM128,216a24,24,0,0,1-22.62-16h45.24A24,24,0,0,1,128,216ZM48,184c7.7-13.24,16-43.92,16-80a64,64,0,1,1,128,0c0,36.05,8.28,66.73,16,80Z"})})})})]}),w.jsx("div",{className:"bg-center bg-no-repeat aspect-square bg-cover rounded-full size-10",style:{backgroundImage:'url("https://cdn.usegalileo.ai/stability/3ff28297-380f-4f51-aac1-1fcac1b0d3bb.png")'}})]})]}),w.jsx("div",{className:"px-40 flex flex-1 justify-center py-5",children:w.jsxs("div",{className:"layout-content-container flex flex-col w-[512px] max-w-[512px] py-5 max-w-[960px] flex-1",children:[w.jsx("h3",{className:"text-[#1C1D22] tracking-light text-2xl font-bold leading-tight px-4 text-left pb-2 pt-5",children:"Add a new patient"}),w.jsx("p",{className:"text-[#1C1D22] text-base font-normal leading-normal pb-3 pt-1 px-4",children:"Enter the details of the patient you'd like to add to your practice"}),w.jsx("div",{className:"flex max-w-[480px] flex-1 flex-wrap items-end gap-4 px-4 py-3",children:w.jsxs("label",{className:"flex flex-col min-w-40 flex-1",children:[w.jsx("p",{className:"text-[#1C1D22] text-base font-medium leading-normal pb-2",children:"First name"}),w.jsx("input",{placeholder:"Type first name",className:"form-input flex w-full min-w-0 flex-1 resize-none overflow-hidden rounded-xl text-[#1C1D22] focus:outline-0 focus:ring-0 border border-[#D5D6DD] bg-[#FFFFFF] focus:border-[#D5D6DD] h-14 placeholder:text-[#3C3F4A] p-[15px] text-base font-normal leading-normal",value:""})]})}),w.jsx("div",{className:"flex max-w-[480px] flex-1 flex-wrap items-end gap-4 px-4 py-3",children:w.jsxs("label",{className:"flex flex-col min-w-40 flex-1",children:[w.jsx("p",{className:"text-[#1C1D22] text-base font-medium leading-normal pb-2",children:"Last name"}),w.jsx("input",{placeholder:"Type last name",className:"form-input flex w-full min-w-0 flex-1 resize-none overflow-hidden rounded-xl text-[#1C1D22] focus:outline-0 focus:ring-0 border border-[#D5D6DD] bg-[#FFFFFF] focus:border-[#D5D6DD] h-14 placeholder:text-[#3C3F4A] p-[15px] text-base font-normal leading-normal",value:""})]})}),w.jsx("div",{className:"flex max-w-[480px] flex-1 flex-wrap items-end gap-4 px-4 py-3",children:w.jsxs("label",{className:"flex flex-col min-w-40 flex-1",children:[w.jsx("p",{className:"text-[#1C1D22] text-base font-medium leading-normal pb-2",children:"Date of birth"}),w.jsx("input",{placeholder:"MM / DD / YYYY",className:"form-input flex w-full min-w-0 flex-1 resize-none overflow-hidden rounded-xl text-[#1C1D22] focus:outline-0 focus:ring-0 border border-[#D5D6DD] bg-[#FFFFFF] focus:border-[#D5D6DD] h-14 placeholder:text-[#3C3F4A] p-[15px] text-base font-normal leading-normal",value:""})]})}),w.jsx("div",{className:"flex max-w-[480px] flex-1 flex-wrap items-end gap-4 px-4 py-3",children:w.jsxs("label",{className:"flex flex-col min-w-40 flex-1",children:[w.jsx("p",{className:"text-[#1C1D22] text-base font-medium leading-normal pb-2",children:"Gender"}),w.jsxs("div",{className:"flex w-full flex-1 items-stretch rounded-xl",children:[w.jsx("input",{placeholder:"Select gender",className:"form-input flex w-full min-w-0 flex-1 resize-none overflow-hidden rounded-xl text-[#1C1D22] focus:outline-0 focus:ring-0 border border-[#D5D6DD] bg-[#FFFFFF] focus:border-[#D5D6DD] h-14 placeholder:text-[#3C3F4A] p-[15px] rounded-r-none border-r-0 pr-2 text-base font-normal leading-normal",value:""}),w.jsx("div",{className:"text-[#3C3F4A] flex border border-[#D5D6DD] bg-[#FFFFFF] items-center justify-center pr-[15px] rounded-r-xl border-l-0","data-icon":"CaretUpDown","data-size":"24px","data-weight":"regular",children:w.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24px",height:"24px",fill:"currentColor",viewBox:"0 0 256 256",children:w.jsx("path",{d:"M181.66,170.34a8,8,0,0,1,0,11.32l-48,48a8,8,0,0,1-11.32,0l-48-48a8,8,0,0,1,11.32-11.32L128,212.69l42.34-42.35A8,8,0,0,1,181.66,170.34Zm-96-84.68L128,43.31l42.34,42.35a8,8,0,0,0,11.32-11.32l-48-48a8,8,0,0,0-11.32,0l-48,48A8,8,0,0,0,85.66,85.66Z"})})})]})]})}),w.jsx("div",{className:"flex max-w-[480px] flex-1 flex-wrap items-end gap-4 px-4 py-3",children:w.jsxs("label",{className:"flex flex-col min-w-40 flex-1",children:[w.jsx("p",{className:"text-[#1C1D22] text-base font-medium leading-normal pb-2",children:"Weight (lbs)"}),w.jsx("input",{placeholder:"Type weight",className:"form-input flex w-full min-w-0 flex-1 resize-none overflow-hidden rounded-xl text-[#1C1D22] focus:outline-0 focus:ring-0 border border-[#D5D6DD] bg-[#FFFFFF] focus:border-[#D5D6DD] h-14 placeholder:text-[#3C3F4A] p-[15px] text-base font-normal leading-normal",value:""})]})}),w.jsx("div",{className:"flex max-w-[480px] flex-1 flex-wrap items-end gap-4 px-4 py-3",children:w.jsxs("label",{className:"flex flex-col min-w-40 flex-1",children:[w.jsx("p",{className:"text-[#1C1D22] text-base font-medium leading-normal pb-2",children:"Phone number"}),w.jsx("input",{placeholder:"(555) 555-5555",className:"form-input flex w-full min-w-0 flex-1 resize-none overflow-hidden rounded-xl text-[#1C1D22] focus:outline-0 focus:ring-0 border border-[#D5D6DD] bg-[#FFFFFF] focus:border-[#D5D6DD] h-14 placeholder:text-[#3C3F4A] p-[15px] text-base font-normal leading-normal",value:""})]})}),w.jsx("div",{className:"px-4",children:w.jsxs("label",{className:"flex gap-x-3 py-3 flex-row",children:[w.jsx("input",{type:"checkbox",className:"h-5 w-5 rounded border-[#D5D6DD] border-2 bg-transparent text-[#607AFB] checked:bg-[#607AFB] checked:border-[#607AFB] focus:ring-0 focus:ring-offset-0 focus:border-[#D5D6DD] focus:outline-none",defaultChecked:!0}),w.jsx("p",{className:"text-[#1C1D22] text-base font-normal leading-normal",children:"Patient has an email address"})]})}),w.jsx("div",{className:"flex px-4 py-3",children:w.jsx("button",{className:"flex min-w-[84px] max-w-[480px] cursor-pointer items-center justify-center overflow-hidden rounded-xl h-12 px-5 flex-1 bg-[#607AFB] text-[#F9FAFA] text-base font-bold leading-normal tracking-[0.015em]",children:w.jsx("span",{className:"truncate",children:"Save patient"})})})]})})]})})}function Lg(...n){return n.filter(Boolean).join(" ")}function gM(n){function e(){n.setEditPatients(!n.editPatients),n.setDeletePatients(!1)}function t(){n.setDeletePatients(!n.deletePatients),n.setEditPatients(!1)}const r=yh();return w.jsxs(hM,{as:"div",className:"relative inline-block text-left",children:[w.jsx("div",{children:w.jsxs(LS,{className:"inline-flex w-full justify-center gap-x-1.5 rounded-md bg-white px-3 py-2 text-sm font-semibold text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 hover:bg-gray-50",children:["Manage patients",w.jsx(pM,{className:"-mr-1 h-5 w-5 text-gray-400","aria-hidden":"true"})]})}),w.jsx(MS,{transition:!0,className:"absolute right-0 z-10 mt-2 w-56 origin-top-right rounded-md bg-white shadow-lg ring-1 ring-black ring-opacity-5 transition focus:outline-none data-[closed]:scale-95 data-[closed]:transform data-[closed]:opacity-0 data-[enter]:duration-100 data-[leave]:duration-75 data-[enter]:ease-out data-[leave]:ease-in",children:w.jsxs("div",{className:"py-1",children:[w.jsx(xf,{children:({focus:i})=>w.jsx("a",{onClick:()=>r("/form"),className:Lg(i?"bg-gray-100 text-gray-900":"text-gray-700","block px-4 py-2 text-sm"),children:"Add Patient"})}),w.jsx(xf,{children:({focus:i})=>w.jsx("a",{onClick:e,className:Lg(i?"bg-gray-100 text-gray-900":"text-gray-700","block px-4 py-2 text-sm"),children:"Edit Patient"})}),w.jsx(xf,{children:({focus:i})=>w.jsx("a",{onClick:t,className:Lg(i?"bg-gray-100 text-gray-900":"text-gray-700","block px-4 py-2 text-sm"),children:"Remove Patient"})})]})})]})}function NS(n,e){return function(){return n.apply(e,arguments)}}const{toString:vM}=Object.prototype,{getPrototypeOf:P1}=Object,Tm=(n=>e=>{const t=vM.call(e);return n[t]||(n[t]=t.slice(8,-1).toLowerCase())})(Object.create(null)),pr=n=>(n=n.toLowerCase(),e=>Tm(e)===n),km=n=>e=>typeof e===n,{isArray:mc}=Array,Mu=km("undefined");function yM(n){return n!==null&&!Mu(n)&&n.constructor!==null&&!Mu(n.constructor)&&Hn(n.constructor.isBuffer)&&n.constructor.isBuffer(n)}const DS=pr("ArrayBuffer");function xM(n){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(n):e=n&&n.buffer&&DS(n.buffer),e}const wM=km("string"),Hn=km("function"),FS=km("number"),Pm=n=>n!==null&&typeof n=="object",bM=n=>n===!0||n===!1,wf=n=>{if(Tm(n)!=="object")return!1;const e=P1(n);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in n)&&!(Symbol.iterator in n)},EM=pr("Date"),AM=pr("File"),SM=pr("Blob"),_M=pr("FileList"),CM=n=>Pm(n)&&Hn(n.pipe),TM=n=>{let e;return n&&(typeof FormData=="function"&&n instanceof FormData||Hn(n.append)&&((e=Tm(n))==="formdata"||e==="object"&&Hn(n.toString)&&n.toString()==="[object FormData]"))},kM=pr("URLSearchParams"),[PM,RM,LM,MM]=["ReadableStream","Request","Response","Headers"].map(pr),NM=n=>n.trim?n.trim():n.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function _h(n,e,{allOwnKeys:t=!1}={}){if(n===null||typeof n>"u")return;let r,i;if(typeof n!="object"&&(n=[n]),mc(n))for(r=0,i=n.length;r<i;r++)e.call(null,n[r],r,n);else{const s=t?Object.getOwnPropertyNames(n):Object.keys(n),o=s.length;let a;for(r=0;r<o;r++)a=s[r],e.call(null,n[a],a,n)}}function IS(n,e){e=e.toLowerCase();const t=Object.keys(n);let r=t.length,i;for(;r-- >0;)if(i=t[r],e===i.toLowerCase())return i;return null}const OS=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,jS=n=>!Mu(n)&&n!==OS;function q0(){const{caseless:n}=jS(this)&&this||{},e={},t=(r,i)=>{const s=n&&IS(e,i)||i;wf(e[s])&&wf(r)?e[s]=q0(e[s],r):wf(r)?e[s]=q0({},r):mc(r)?e[s]=r.slice():e[s]=r};for(let r=0,i=arguments.length;r<i;r++)arguments[r]&&_h(arguments[r],t);return e}const DM=(n,e,t,{allOwnKeys:r}={})=>(_h(e,(i,s)=>{t&&Hn(i)?n[s]=NS(i,t):n[s]=i},{allOwnKeys:r}),n),FM=n=>(n.charCodeAt(0)===65279&&(n=n.slice(1)),n),IM=(n,e,t,r)=>{n.prototype=Object.create(e.prototype,r),n.prototype.constructor=n,Object.defineProperty(n,"super",{value:e.prototype}),t&&Object.assign(n.prototype,t)},OM=(n,e,t,r)=>{let i,s,o;const a={};if(e=e||{},n==null)return e;do{for(i=Object.getOwnPropertyNames(n),s=i.length;s-- >0;)o=i[s],(!r||r(o,n,e))&&!a[o]&&(e[o]=n[o],a[o]=!0);n=t!==!1&&P1(n)}while(n&&(!t||t(n,e))&&n!==Object.prototype);return e},jM=(n,e,t)=>{n=String(n),(t===void 0||t>n.length)&&(t=n.length),t-=e.length;const r=n.indexOf(e,t);return r!==-1&&r===t},$M=n=>{if(!n)return null;if(mc(n))return n;let e=n.length;if(!FS(e))return null;const t=new Array(e);for(;e-- >0;)t[e]=n[e];return t},HM=(n=>e=>n&&e instanceof n)(typeof Uint8Array<"u"&&P1(Uint8Array)),BM=(n,e)=>{const r=(n&&n[Symbol.iterator]).call(n);let i;for(;(i=r.next())&&!i.done;){const s=i.value;e.call(n,s[0],s[1])}},zM=(n,e)=>{let t;const r=[];for(;(t=n.exec(e))!==null;)r.push(t);return r},UM=pr("HTMLFormElement"),VM=n=>n.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(t,r,i){return r.toUpperCase()+i}),Nw=(({hasOwnProperty:n})=>(e,t)=>n.call(e,t))(Object.prototype),WM=pr("RegExp"),$S=(n,e)=>{const t=Object.getOwnPropertyDescriptors(n),r={};_h(t,(i,s)=>{let o;(o=e(i,s,n))!==!1&&(r[s]=o||i)}),Object.defineProperties(n,r)},GM=n=>{$S(n,(e,t)=>{if(Hn(n)&&["arguments","caller","callee"].indexOf(t)!==-1)return!1;const r=n[t];if(Hn(r)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+t+"'")})}})},qM=(n,e)=>{const t={},r=i=>{i.forEach(s=>{t[s]=!0})};return mc(n)?r(n):r(String(n).split(e)),t},XM=()=>{},KM=(n,e)=>n!=null&&Number.isFinite(n=+n)?n:e,Mg="abcdefghijklmnopqrstuvwxyz",Dw="0123456789",HS={DIGIT:Dw,ALPHA:Mg,ALPHA_DIGIT:Mg+Mg.toUpperCase()+Dw},YM=(n=16,e=HS.ALPHA_DIGIT)=>{let t="";const{length:r}=e;for(;n--;)t+=e[Math.random()*r|0];return t};function QM(n){return!!(n&&Hn(n.append)&&n[Symbol.toStringTag]==="FormData"&&n[Symbol.iterator])}const ZM=n=>{const e=new Array(10),t=(r,i)=>{if(Pm(r)){if(e.indexOf(r)>=0)return;if(!("toJSON"in r)){e[i]=r;const s=mc(r)?[]:{};return _h(r,(o,a)=>{const l=t(o,i+1);!Mu(l)&&(s[a]=l)}),e[i]=void 0,s}}return r};return t(n,0)},JM=pr("AsyncFunction"),eN=n=>n&&(Pm(n)||Hn(n))&&Hn(n.then)&&Hn(n.catch),M={isArray:mc,isArrayBuffer:DS,isBuffer:yM,isFormData:TM,isArrayBufferView:xM,isString:wM,isNumber:FS,isBoolean:bM,isObject:Pm,isPlainObject:wf,isReadableStream:PM,isRequest:RM,isResponse:LM,isHeaders:MM,isUndefined:Mu,isDate:EM,isFile:AM,isBlob:SM,isRegExp:WM,isFunction:Hn,isStream:CM,isURLSearchParams:kM,isTypedArray:HM,isFileList:_M,forEach:_h,merge:q0,extend:DM,trim:NM,stripBOM:FM,inherits:IM,toFlatObject:OM,kindOf:Tm,kindOfTest:pr,endsWith:jM,toArray:$M,forEachEntry:BM,matchAll:zM,isHTMLForm:UM,hasOwnProperty:Nw,hasOwnProp:Nw,reduceDescriptors:$S,freezeMethods:GM,toObjectSet:qM,toCamelCase:VM,noop:XM,toFiniteNumber:KM,findKey:IS,global:OS,isContextDefined:jS,ALPHABET:HS,generateString:YM,isSpecCompliantForm:QM,toJSONObject:ZM,isAsyncFn:JM,isThenable:eN};function te(n,e,t,r,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=n,this.name="AxiosError",e&&(this.code=e),t&&(this.config=t),r&&(this.request=r),i&&(this.response=i)}M.inherits(te,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:M.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});const BS=te.prototype,zS={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(n=>{zS[n]={value:n}});Object.defineProperties(te,zS);Object.defineProperty(BS,"isAxiosError",{value:!0});te.from=(n,e,t,r,i,s)=>{const o=Object.create(BS);return M.toFlatObject(n,o,function(l){return l!==Error.prototype},a=>a!=="isAxiosError"),te.call(o,n.message,e,t,r,i),o.cause=n,o.name=n.name,s&&Object.assign(o,s),o};const tN=null;function X0(n){return M.isPlainObject(n)||M.isArray(n)}function US(n){return M.endsWith(n,"[]")?n.slice(0,-2):n}function Fw(n,e,t){return n?n.concat(e).map(function(i,s){return i=US(i),!t&&s?"["+i+"]":i}).join(t?".":""):e}function nN(n){return M.isArray(n)&&!n.some(X0)}const rN=M.toFlatObject(M,{},null,function(e){return/^is[A-Z]/.test(e)});function Rm(n,e,t){if(!M.isObject(n))throw new TypeError("target must be an object");e=e||new FormData,t=M.toFlatObject(t,{metaTokens:!0,dots:!1,indexes:!1},!1,function(v,b){return!M.isUndefined(b[v])});const r=t.metaTokens,i=t.visitor||d,s=t.dots,o=t.indexes,l=(t.Blob||typeof Blob<"u"&&Blob)&&M.isSpecCompliantForm(e);if(!M.isFunction(i))throw new TypeError("visitor must be a function");function u(m){if(m===null)return"";if(M.isDate(m))return m.toISOString();if(!l&&M.isBlob(m))throw new te("Blob is not supported. Use a Buffer instead.");return M.isArrayBuffer(m)||M.isTypedArray(m)?l&&typeof Blob=="function"?new Blob([m]):Buffer.from(m):m}function d(m,v,b){let g=m;if(m&&!b&&typeof m=="object"){if(M.endsWith(v,"{}"))v=r?v:v.slice(0,-2),m=JSON.stringify(m);else if(M.isArray(m)&&nN(m)||(M.isFileList(m)||M.endsWith(v,"[]"))&&(g=M.toArray(m)))return v=US(v),g.forEach(function(x,C){!(M.isUndefined(x)||x===null)&&e.append(o===!0?Fw([v],C,s):o===null?v:v+"[]",u(x))}),!1}return X0(m)?!0:(e.append(Fw(b,v,s),u(m)),!1)}const h=[],f=Object.assign(rN,{defaultVisitor:d,convertValue:u,isVisitable:X0});function p(m,v){if(!M.isUndefined(m)){if(h.indexOf(m)!==-1)throw Error("Circular reference detected in "+v.join("."));h.push(m),M.forEach(m,function(g,y){(!(M.isUndefined(g)||g===null)&&i.call(e,g,M.isString(y)?y.trim():y,v,f))===!0&&p(g,v?v.concat(y):[y])}),h.pop()}}if(!M.isObject(n))throw new TypeError("data must be an object");return p(n),e}function Iw(n){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(n).replace(/[!'()~]|%20|%00/g,function(r){return e[r]})}function R1(n,e){this._pairs=[],n&&Rm(n,this,e)}const VS=R1.prototype;VS.append=function(e,t){this._pairs.push([e,t])};VS.toString=function(e){const t=e?function(r){return e.call(this,r,Iw)}:Iw;return this._pairs.map(function(i){return t(i[0])+"="+t(i[1])},"").join("&")};function iN(n){return encodeURIComponent(n).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function WS(n,e,t){if(!e)return n;const r=t&&t.encode||iN,i=t&&t.serialize;let s;if(i?s=i(e,t):s=M.isURLSearchParams(e)?e.toString():new R1(e,t).toString(r),s){const o=n.indexOf("#");o!==-1&&(n=n.slice(0,o)),n+=(n.indexOf("?")===-1?"?":"&")+s}return n}class Ow{constructor(){this.handlers=[]}use(e,t,r){return this.handlers.push({fulfilled:e,rejected:t,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){M.forEach(this.handlers,function(r){r!==null&&e(r)})}}const GS={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},sN=typeof URLSearchParams<"u"?URLSearchParams:R1,oN=typeof FormData<"u"?FormData:null,aN=typeof Blob<"u"?Blob:null,lN={isBrowser:!0,classes:{URLSearchParams:sN,FormData:oN,Blob:aN},protocols:["http","https","file","blob","url","data"]},L1=typeof window<"u"&&typeof document<"u",cN=(n=>L1&&["ReactNative","NativeScript","NS"].indexOf(n)<0)(typeof navigator<"u"&&navigator.product),uN=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",dN=L1&&window.location.href||"http://localhost",hN=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:L1,hasStandardBrowserEnv:cN,hasStandardBrowserWebWorkerEnv:uN,origin:dN},Symbol.toStringTag,{value:"Module"})),dr={...hN,...lN};function fN(n,e){return Rm(n,new dr.classes.URLSearchParams,Object.assign({visitor:function(t,r,i,s){return dr.isNode&&M.isBuffer(t)?(this.append(r,t.toString("base64")),!1):s.defaultVisitor.apply(this,arguments)}},e))}function pN(n){return M.matchAll(/\w+|\[(\w*)]/g,n).map(e=>e[0]==="[]"?"":e[1]||e[0])}function mN(n){const e={},t=Object.keys(n);let r;const i=t.length;let s;for(r=0;r<i;r++)s=t[r],e[s]=n[s];return e}function qS(n){function e(t,r,i,s){let o=t[s++];if(o==="__proto__")return!0;const a=Number.isFinite(+o),l=s>=t.length;return o=!o&&M.isArray(i)?i.length:o,l?(M.hasOwnProp(i,o)?i[o]=[i[o],r]:i[o]=r,!a):((!i[o]||!M.isObject(i[o]))&&(i[o]=[]),e(t,r,i[o],s)&&M.isArray(i[o])&&(i[o]=mN(i[o])),!a)}if(M.isFormData(n)&&M.isFunction(n.entries)){const t={};return M.forEachEntry(n,(r,i)=>{e(pN(r),i,t,0)}),t}return null}function gN(n,e,t){if(M.isString(n))try{return(e||JSON.parse)(n),M.trim(n)}catch(r){if(r.name!=="SyntaxError")throw r}return(t||JSON.stringify)(n)}const Ch={transitional:GS,adapter:["xhr","http","fetch"],transformRequest:[function(e,t){const r=t.getContentType()||"",i=r.indexOf("application/json")>-1,s=M.isObject(e);if(s&&M.isHTMLForm(e)&&(e=new FormData(e)),M.isFormData(e))return i?JSON.stringify(qS(e)):e;if(M.isArrayBuffer(e)||M.isBuffer(e)||M.isStream(e)||M.isFile(e)||M.isBlob(e)||M.isReadableStream(e))return e;if(M.isArrayBufferView(e))return e.buffer;if(M.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let a;if(s){if(r.indexOf("application/x-www-form-urlencoded")>-1)return fN(e,this.formSerializer).toString();if((a=M.isFileList(e))||r.indexOf("multipart/form-data")>-1){const l=this.env&&this.env.FormData;return Rm(a?{"files[]":e}:e,l&&new l,this.formSerializer)}}return s||i?(t.setContentType("application/json",!1),gN(e)):e}],transformResponse:[function(e){const t=this.transitional||Ch.transitional,r=t&&t.forcedJSONParsing,i=this.responseType==="json";if(M.isResponse(e)||M.isReadableStream(e))return e;if(e&&M.isString(e)&&(r&&!this.responseType||i)){const o=!(t&&t.silentJSONParsing)&&i;try{return JSON.parse(e)}catch(a){if(o)throw a.name==="SyntaxError"?te.from(a,te.ERR_BAD_RESPONSE,this,null,this.response):a}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:dr.classes.FormData,Blob:dr.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};M.forEach(["delete","get","head","post","put","patch"],n=>{Ch.headers[n]={}});const vN=M.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),yN=n=>{const e={};let t,r,i;return n&&n.split(`
`).forEach(function(o){i=o.indexOf(":"),t=o.substring(0,i).trim().toLowerCase(),r=o.substring(i+1).trim(),!(!t||e[t]&&vN[t])&&(t==="set-cookie"?e[t]?e[t].push(r):e[t]=[r]:e[t]=e[t]?e[t]+", "+r:r)}),e},jw=Symbol("internals");function kc(n){return n&&String(n).trim().toLowerCase()}function bf(n){return n===!1||n==null?n:M.isArray(n)?n.map(bf):String(n)}function xN(n){const e=Object.create(null),t=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=t.exec(n);)e[r[1]]=r[2];return e}const wN=n=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(n.trim());function Ng(n,e,t,r,i){if(M.isFunction(r))return r.call(this,e,t);if(i&&(e=t),!!M.isString(e)){if(M.isString(r))return e.indexOf(r)!==-1;if(M.isRegExp(r))return r.test(e)}}function bN(n){return n.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,t,r)=>t.toUpperCase()+r)}function EN(n,e){const t=M.toCamelCase(" "+e);["get","set","has"].forEach(r=>{Object.defineProperty(n,r+t,{value:function(i,s,o){return this[r].call(this,e,i,s,o)},configurable:!0})})}class sn{constructor(e){e&&this.set(e)}set(e,t,r){const i=this;function s(a,l,u){const d=kc(l);if(!d)throw new Error("header name must be a non-empty string");const h=M.findKey(i,d);(!h||i[h]===void 0||u===!0||u===void 0&&i[h]!==!1)&&(i[h||l]=bf(a))}const o=(a,l)=>M.forEach(a,(u,d)=>s(u,d,l));if(M.isPlainObject(e)||e instanceof this.constructor)o(e,t);else if(M.isString(e)&&(e=e.trim())&&!wN(e))o(yN(e),t);else if(M.isHeaders(e))for(const[a,l]of e.entries())s(l,a,r);else e!=null&&s(t,e,r);return this}get(e,t){if(e=kc(e),e){const r=M.findKey(this,e);if(r){const i=this[r];if(!t)return i;if(t===!0)return xN(i);if(M.isFunction(t))return t.call(this,i,r);if(M.isRegExp(t))return t.exec(i);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,t){if(e=kc(e),e){const r=M.findKey(this,e);return!!(r&&this[r]!==void 0&&(!t||Ng(this,this[r],r,t)))}return!1}delete(e,t){const r=this;let i=!1;function s(o){if(o=kc(o),o){const a=M.findKey(r,o);a&&(!t||Ng(r,r[a],a,t))&&(delete r[a],i=!0)}}return M.isArray(e)?e.forEach(s):s(e),i}clear(e){const t=Object.keys(this);let r=t.length,i=!1;for(;r--;){const s=t[r];(!e||Ng(this,this[s],s,e,!0))&&(delete this[s],i=!0)}return i}normalize(e){const t=this,r={};return M.forEach(this,(i,s)=>{const o=M.findKey(r,s);if(o){t[o]=bf(i),delete t[s];return}const a=e?bN(s):String(s).trim();a!==s&&delete t[s],t[a]=bf(i),r[a]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const t=Object.create(null);return M.forEach(this,(r,i)=>{r!=null&&r!==!1&&(t[i]=e&&M.isArray(r)?r.join(", "):r)}),t}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,t])=>e+": "+t).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...t){const r=new this(e);return t.forEach(i=>r.set(i)),r}static accessor(e){const r=(this[jw]=this[jw]={accessors:{}}).accessors,i=this.prototype;function s(o){const a=kc(o);r[a]||(EN(i,o),r[a]=!0)}return M.isArray(e)?e.forEach(s):s(e),this}}sn.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);M.reduceDescriptors(sn.prototype,({value:n},e)=>{let t=e[0].toUpperCase()+e.slice(1);return{get:()=>n,set(r){this[t]=r}}});M.freezeMethods(sn);function Dg(n,e){const t=this||Ch,r=e||t,i=sn.from(r.headers);let s=r.data;return M.forEach(n,function(a){s=a.call(t,s,i.normalize(),e?e.status:void 0)}),i.normalize(),s}function XS(n){return!!(n&&n.__CANCEL__)}function gc(n,e,t){te.call(this,n??"canceled",te.ERR_CANCELED,e,t),this.name="CanceledError"}M.inherits(gc,te,{__CANCEL__:!0});function KS(n,e,t){const r=t.config.validateStatus;!t.status||!r||r(t.status)?n(t):e(new te("Request failed with status code "+t.status,[te.ERR_BAD_REQUEST,te.ERR_BAD_RESPONSE][Math.floor(t.status/100)-4],t.config,t.request,t))}function AN(n){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(n);return e&&e[1]||""}function SN(n,e){n=n||10;const t=new Array(n),r=new Array(n);let i=0,s=0,o;return e=e!==void 0?e:1e3,function(l){const u=Date.now(),d=r[s];o||(o=u),t[i]=l,r[i]=u;let h=s,f=0;for(;h!==i;)f+=t[h++],h=h%n;if(i=(i+1)%n,i===s&&(s=(s+1)%n),u-o<e)return;const p=d&&u-d;return p?Math.round(f*1e3/p):void 0}}function _N(n,e){let t=0;const r=1e3/e;let i=null;return function(){const o=this===!0,a=Date.now();if(o||a-t>r)return i&&(clearTimeout(i),i=null),t=a,n.apply(null,arguments);i||(i=setTimeout(()=>(i=null,t=Date.now(),n.apply(null,arguments)),r-(a-t)))}}const _p=(n,e,t=3)=>{let r=0;const i=SN(50,250);return _N(s=>{const o=s.loaded,a=s.lengthComputable?s.total:void 0,l=o-r,u=i(l),d=o<=a;r=o;const h={loaded:o,total:a,progress:a?o/a:void 0,bytes:l,rate:u||void 0,estimated:u&&a&&d?(a-o)/u:void 0,event:s,lengthComputable:a!=null};h[e?"download":"upload"]=!0,n(h)},t)},CN=dr.hasStandardBrowserEnv?function(){const e=/(msie|trident)/i.test(navigator.userAgent),t=document.createElement("a");let r;function i(s){let o=s;return e&&(t.setAttribute("href",o),o=t.href),t.setAttribute("href",o),{href:t.href,protocol:t.protocol?t.protocol.replace(/:$/,""):"",host:t.host,search:t.search?t.search.replace(/^\?/,""):"",hash:t.hash?t.hash.replace(/^#/,""):"",hostname:t.hostname,port:t.port,pathname:t.pathname.charAt(0)==="/"?t.pathname:"/"+t.pathname}}return r=i(window.location.href),function(o){const a=M.isString(o)?i(o):o;return a.protocol===r.protocol&&a.host===r.host}}():function(){return function(){return!0}}(),TN=dr.hasStandardBrowserEnv?{write(n,e,t,r,i,s){const o=[n+"="+encodeURIComponent(e)];M.isNumber(t)&&o.push("expires="+new Date(t).toGMTString()),M.isString(r)&&o.push("path="+r),M.isString(i)&&o.push("domain="+i),s===!0&&o.push("secure"),document.cookie=o.join("; ")},read(n){const e=document.cookie.match(new RegExp("(^|;\\s*)("+n+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(n){this.write(n,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function kN(n){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(n)}function PN(n,e){return e?n.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):n}function YS(n,e){return n&&!kN(e)?PN(n,e):e}const $w=n=>n instanceof sn?{...n}:n;function da(n,e){e=e||{};const t={};function r(u,d,h){return M.isPlainObject(u)&&M.isPlainObject(d)?M.merge.call({caseless:h},u,d):M.isPlainObject(d)?M.merge({},d):M.isArray(d)?d.slice():d}function i(u,d,h){if(M.isUndefined(d)){if(!M.isUndefined(u))return r(void 0,u,h)}else return r(u,d,h)}function s(u,d){if(!M.isUndefined(d))return r(void 0,d)}function o(u,d){if(M.isUndefined(d)){if(!M.isUndefined(u))return r(void 0,u)}else return r(void 0,d)}function a(u,d,h){if(h in e)return r(u,d);if(h in n)return r(void 0,u)}const l={url:s,method:s,data:s,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,withXSRFToken:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:a,headers:(u,d)=>i($w(u),$w(d),!0)};return M.forEach(Object.keys(Object.assign({},n,e)),function(d){const h=l[d]||i,f=h(n[d],e[d],d);M.isUndefined(f)&&h!==a||(t[d]=f)}),t}const QS=n=>{const e=da({},n);let{data:t,withXSRFToken:r,xsrfHeaderName:i,xsrfCookieName:s,headers:o,auth:a}=e;e.headers=o=sn.from(o),e.url=WS(YS(e.baseURL,e.url),n.params,n.paramsSerializer),a&&o.set("Authorization","Basic "+btoa((a.username||"")+":"+(a.password?unescape(encodeURIComponent(a.password)):"")));let l;if(M.isFormData(t)){if(dr.hasStandardBrowserEnv||dr.hasStandardBrowserWebWorkerEnv)o.setContentType(void 0);else if((l=o.getContentType())!==!1){const[u,...d]=l?l.split(";").map(h=>h.trim()).filter(Boolean):[];o.setContentType([u||"multipart/form-data",...d].join("; "))}}if(dr.hasStandardBrowserEnv&&(r&&M.isFunction(r)&&(r=r(e)),r||r!==!1&&CN(e.url))){const u=i&&s&&TN.read(s);u&&o.set(i,u)}return e},RN=typeof XMLHttpRequest<"u",LN=RN&&function(n){return new Promise(function(t,r){const i=QS(n);let s=i.data;const o=sn.from(i.headers).normalize();let{responseType:a}=i,l;function u(){i.cancelToken&&i.cancelToken.unsubscribe(l),i.signal&&i.signal.removeEventListener("abort",l)}let d=new XMLHttpRequest;d.open(i.method.toUpperCase(),i.url,!0),d.timeout=i.timeout;function h(){if(!d)return;const p=sn.from("getAllResponseHeaders"in d&&d.getAllResponseHeaders()),v={data:!a||a==="text"||a==="json"?d.responseText:d.response,status:d.status,statusText:d.statusText,headers:p,config:n,request:d};KS(function(g){t(g),u()},function(g){r(g),u()},v),d=null}"onloadend"in d?d.onloadend=h:d.onreadystatechange=function(){!d||d.readyState!==4||d.status===0&&!(d.responseURL&&d.responseURL.indexOf("file:")===0)||setTimeout(h)},d.onabort=function(){d&&(r(new te("Request aborted",te.ECONNABORTED,i,d)),d=null)},d.onerror=function(){r(new te("Network Error",te.ERR_NETWORK,i,d)),d=null},d.ontimeout=function(){let m=i.timeout?"timeout of "+i.timeout+"ms exceeded":"timeout exceeded";const v=i.transitional||GS;i.timeoutErrorMessage&&(m=i.timeoutErrorMessage),r(new te(m,v.clarifyTimeoutError?te.ETIMEDOUT:te.ECONNABORTED,i,d)),d=null},s===void 0&&o.setContentType(null),"setRequestHeader"in d&&M.forEach(o.toJSON(),function(m,v){d.setRequestHeader(v,m)}),M.isUndefined(i.withCredentials)||(d.withCredentials=!!i.withCredentials),a&&a!=="json"&&(d.responseType=i.responseType),typeof i.onDownloadProgress=="function"&&d.addEventListener("progress",_p(i.onDownloadProgress,!0)),typeof i.onUploadProgress=="function"&&d.upload&&d.upload.addEventListener("progress",_p(i.onUploadProgress)),(i.cancelToken||i.signal)&&(l=p=>{d&&(r(!p||p.type?new gc(null,n,d):p),d.abort(),d=null)},i.cancelToken&&i.cancelToken.subscribe(l),i.signal&&(i.signal.aborted?l():i.signal.addEventListener("abort",l)));const f=AN(i.url);if(f&&dr.protocols.indexOf(f)===-1){r(new te("Unsupported protocol "+f+":",te.ERR_BAD_REQUEST,n));return}d.send(s||null)})},MN=(n,e)=>{let t=new AbortController,r;const i=function(l){if(!r){r=!0,o();const u=l instanceof Error?l:this.reason;t.abort(u instanceof te?u:new gc(u instanceof Error?u.message:u))}};let s=e&&setTimeout(()=>{i(new te(`timeout ${e} of ms exceeded`,te.ETIMEDOUT))},e);const o=()=>{n&&(s&&clearTimeout(s),s=null,n.forEach(l=>{l&&(l.removeEventListener?l.removeEventListener("abort",i):l.unsubscribe(i))}),n=null)};n.forEach(l=>l&&l.addEventListener&&l.addEventListener("abort",i));const{signal:a}=t;return a.unsubscribe=o,[a,()=>{s&&clearTimeout(s),s=null}]},NN=function*(n,e){let t=n.byteLength;if(!e||t<e){yield n;return}let r=0,i;for(;r<t;)i=r+e,yield n.slice(r,i),r=i},DN=async function*(n,e,t){for await(const r of n)yield*NN(ArrayBuffer.isView(r)?r:await t(String(r)),e)},Hw=(n,e,t,r,i)=>{const s=DN(n,e,i);let o=0;return new ReadableStream({type:"bytes",async pull(a){const{done:l,value:u}=await s.next();if(l){a.close(),r();return}let d=u.byteLength;t&&t(o+=d),a.enqueue(new Uint8Array(u))},cancel(a){return r(a),s.return()}},{highWaterMark:2})},Bw=(n,e)=>{const t=n!=null;return r=>setTimeout(()=>e({lengthComputable:t,total:n,loaded:r}))},Lm=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",ZS=Lm&&typeof ReadableStream=="function",K0=Lm&&(typeof TextEncoder=="function"?(n=>e=>n.encode(e))(new TextEncoder):async n=>new Uint8Array(await new Response(n).arrayBuffer())),FN=ZS&&(()=>{let n=!1;const e=new Request(dr.origin,{body:new ReadableStream,method:"POST",get duplex(){return n=!0,"half"}}).headers.has("Content-Type");return n&&!e})(),zw=64*1024,Y0=ZS&&!!(()=>{try{return M.isReadableStream(new Response("").body)}catch{}})(),Cp={stream:Y0&&(n=>n.body)};Lm&&(n=>{["text","arrayBuffer","blob","formData","stream"].forEach(e=>{!Cp[e]&&(Cp[e]=M.isFunction(n[e])?t=>t[e]():(t,r)=>{throw new te(`Response type '${e}' is not supported`,te.ERR_NOT_SUPPORT,r)})})})(new Response);const IN=async n=>{if(n==null)return 0;if(M.isBlob(n))return n.size;if(M.isSpecCompliantForm(n))return(await new Request(n).arrayBuffer()).byteLength;if(M.isArrayBufferView(n))return n.byteLength;if(M.isURLSearchParams(n)&&(n=n+""),M.isString(n))return(await K0(n)).byteLength},ON=async(n,e)=>{const t=M.toFiniteNumber(n.getContentLength());return t??IN(e)},jN=Lm&&(async n=>{let{url:e,method:t,data:r,signal:i,cancelToken:s,timeout:o,onDownloadProgress:a,onUploadProgress:l,responseType:u,headers:d,withCredentials:h="same-origin",fetchOptions:f}=QS(n);u=u?(u+"").toLowerCase():"text";let[p,m]=i||s||o?MN([i,s],o):[],v,b;const g=()=>{!v&&setTimeout(()=>{p&&p.unsubscribe()}),v=!0};let y;try{if(l&&FN&&t!=="get"&&t!=="head"&&(y=await ON(d,r))!==0){let k=new Request(e,{method:"POST",body:r,duplex:"half"}),P;M.isFormData(r)&&(P=k.headers.get("content-type"))&&d.setContentType(P),k.body&&(r=Hw(k.body,zw,Bw(y,_p(l)),null,K0))}M.isString(h)||(h=h?"cors":"omit"),b=new Request(e,{...f,signal:p,method:t.toUpperCase(),headers:d.normalize().toJSON(),body:r,duplex:"half",withCredentials:h});let x=await fetch(b);const C=Y0&&(u==="stream"||u==="response");if(Y0&&(a||C)){const k={};["status","statusText","headers"].forEach(R=>{k[R]=x[R]});const P=M.toFiniteNumber(x.headers.get("content-length"));x=new Response(Hw(x.body,zw,a&&Bw(P,_p(a,!0)),C&&g,K0),k)}u=u||"text";let T=await Cp[M.findKey(Cp,u)||"text"](x,n);return!C&&g(),m&&m(),await new Promise((k,P)=>{KS(k,P,{data:T,headers:sn.from(x.headers),status:x.status,statusText:x.statusText,config:n,request:b})})}catch(x){throw g(),x&&x.name==="TypeError"&&/fetch/i.test(x.message)?Object.assign(new te("Network Error",te.ERR_NETWORK,n,b),{cause:x.cause||x}):te.from(x,x&&x.code,n,b)}}),Q0={http:tN,xhr:LN,fetch:jN};M.forEach(Q0,(n,e)=>{if(n){try{Object.defineProperty(n,"name",{value:e})}catch{}Object.defineProperty(n,"adapterName",{value:e})}});const Uw=n=>`- ${n}`,$N=n=>M.isFunction(n)||n===null||n===!1,JS={getAdapter:n=>{n=M.isArray(n)?n:[n];const{length:e}=n;let t,r;const i={};for(let s=0;s<e;s++){t=n[s];let o;if(r=t,!$N(t)&&(r=Q0[(o=String(t)).toLowerCase()],r===void 0))throw new te(`Unknown adapter '${o}'`);if(r)break;i[o||"#"+s]=r}if(!r){const s=Object.entries(i).map(([a,l])=>`adapter ${a} `+(l===!1?"is not supported by the environment":"is not available in the build"));let o=e?s.length>1?`since :
`+s.map(Uw).join(`
`):" "+Uw(s[0]):"as no adapter specified";throw new te("There is no suitable adapter to dispatch the request "+o,"ERR_NOT_SUPPORT")}return r},adapters:Q0};function Fg(n){if(n.cancelToken&&n.cancelToken.throwIfRequested(),n.signal&&n.signal.aborted)throw new gc(null,n)}function Vw(n){return Fg(n),n.headers=sn.from(n.headers),n.data=Dg.call(n,n.transformRequest),["post","put","patch"].indexOf(n.method)!==-1&&n.headers.setContentType("application/x-www-form-urlencoded",!1),JS.getAdapter(n.adapter||Ch.adapter)(n).then(function(r){return Fg(n),r.data=Dg.call(n,n.transformResponse,r),r.headers=sn.from(r.headers),r},function(r){return XS(r)||(Fg(n),r&&r.response&&(r.response.data=Dg.call(n,n.transformResponse,r.response),r.response.headers=sn.from(r.response.headers))),Promise.reject(r)})}const e_="1.7.2",M1={};["object","boolean","number","function","string","symbol"].forEach((n,e)=>{M1[n]=function(r){return typeof r===n||"a"+(e<1?"n ":" ")+n}});const Ww={};M1.transitional=function(e,t,r){function i(s,o){return"[Axios v"+e_+"] Transitional option '"+s+"'"+o+(r?". "+r:"")}return(s,o,a)=>{if(e===!1)throw new te(i(o," has been removed"+(t?" in "+t:"")),te.ERR_DEPRECATED);return t&&!Ww[o]&&(Ww[o]=!0,console.warn(i(o," has been deprecated since v"+t+" and will be removed in the near future"))),e?e(s,o,a):!0}};function HN(n,e,t){if(typeof n!="object")throw new te("options must be an object",te.ERR_BAD_OPTION_VALUE);const r=Object.keys(n);let i=r.length;for(;i-- >0;){const s=r[i],o=e[s];if(o){const a=n[s],l=a===void 0||o(a,s,n);if(l!==!0)throw new te("option "+s+" must be "+l,te.ERR_BAD_OPTION_VALUE);continue}if(t!==!0)throw new te("Unknown option "+s,te.ERR_BAD_OPTION)}}const Z0={assertOptions:HN,validators:M1},zi=Z0.validators;class na{constructor(e){this.defaults=e,this.interceptors={request:new Ow,response:new Ow}}async request(e,t){try{return await this._request(e,t)}catch(r){if(r instanceof Error){let i;Error.captureStackTrace?Error.captureStackTrace(i={}):i=new Error;const s=i.stack?i.stack.replace(/^.+\n/,""):"";try{r.stack?s&&!String(r.stack).endsWith(s.replace(/^.+\n.+\n/,""))&&(r.stack+=`
`+s):r.stack=s}catch{}}throw r}}_request(e,t){typeof e=="string"?(t=t||{},t.url=e):t=e||{},t=da(this.defaults,t);const{transitional:r,paramsSerializer:i,headers:s}=t;r!==void 0&&Z0.assertOptions(r,{silentJSONParsing:zi.transitional(zi.boolean),forcedJSONParsing:zi.transitional(zi.boolean),clarifyTimeoutError:zi.transitional(zi.boolean)},!1),i!=null&&(M.isFunction(i)?t.paramsSerializer={serialize:i}:Z0.assertOptions(i,{encode:zi.function,serialize:zi.function},!0)),t.method=(t.method||this.defaults.method||"get").toLowerCase();let o=s&&M.merge(s.common,s[t.method]);s&&M.forEach(["delete","get","head","post","put","patch","common"],m=>{delete s[m]}),t.headers=sn.concat(o,s);const a=[];let l=!0;this.interceptors.request.forEach(function(v){typeof v.runWhen=="function"&&v.runWhen(t)===!1||(l=l&&v.synchronous,a.unshift(v.fulfilled,v.rejected))});const u=[];this.interceptors.response.forEach(function(v){u.push(v.fulfilled,v.rejected)});let d,h=0,f;if(!l){const m=[Vw.bind(this),void 0];for(m.unshift.apply(m,a),m.push.apply(m,u),f=m.length,d=Promise.resolve(t);h<f;)d=d.then(m[h++],m[h++]);return d}f=a.length;let p=t;for(h=0;h<f;){const m=a[h++],v=a[h++];try{p=m(p)}catch(b){v.call(this,b);break}}try{d=Vw.call(this,p)}catch(m){return Promise.reject(m)}for(h=0,f=u.length;h<f;)d=d.then(u[h++],u[h++]);return d}getUri(e){e=da(this.defaults,e);const t=YS(e.baseURL,e.url);return WS(t,e.params,e.paramsSerializer)}}M.forEach(["delete","get","head","options"],function(e){na.prototype[e]=function(t,r){return this.request(da(r||{},{method:e,url:t,data:(r||{}).data}))}});M.forEach(["post","put","patch"],function(e){function t(r){return function(s,o,a){return this.request(da(a||{},{method:e,headers:r?{"Content-Type":"multipart/form-data"}:{},url:s,data:o}))}}na.prototype[e]=t(),na.prototype[e+"Form"]=t(!0)});class N1{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let t;this.promise=new Promise(function(s){t=s});const r=this;this.promise.then(i=>{if(!r._listeners)return;let s=r._listeners.length;for(;s-- >0;)r._listeners[s](i);r._listeners=null}),this.promise.then=i=>{let s;const o=new Promise(a=>{r.subscribe(a),s=a}).then(i);return o.cancel=function(){r.unsubscribe(s)},o},e(function(s,o,a){r.reason||(r.reason=new gc(s,o,a),t(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const t=this._listeners.indexOf(e);t!==-1&&this._listeners.splice(t,1)}static source(){let e;return{token:new N1(function(i){e=i}),cancel:e}}}function BN(n){return function(t){return n.apply(null,t)}}function zN(n){return M.isObject(n)&&n.isAxiosError===!0}const J0={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(J0).forEach(([n,e])=>{J0[e]=n});function t_(n){const e=new na(n),t=NS(na.prototype.request,e);return M.extend(t,na.prototype,e,{allOwnKeys:!0}),M.extend(t,e,null,{allOwnKeys:!0}),t.create=function(i){return t_(da(n,i))},t}const Le=t_(Ch);Le.Axios=na;Le.CanceledError=gc;Le.CancelToken=N1;Le.isCancel=XS;Le.VERSION=e_;Le.toFormData=Rm;Le.AxiosError=te;Le.Cancel=Le.CanceledError;Le.all=function(e){return Promise.all(e)};Le.spread=BN;Le.isAxiosError=zN;Le.mergeConfig=da;Le.AxiosHeaders=sn;Le.formToJSON=n=>qS(M.isHTMLForm(n)?new FormData(n):n);Le.getAdapter=JS.getAdapter;Le.HttpStatusCode=J0;Le.default=Le;function UN(n){const[e,t]=S.useState(!1),[r,i]=S.useState(!1),s=yh(),[o,a]=S.useState([]),l=d=>{const h=new Date,f=new Date(d);let p=h.getFullYear()-f.getFullYear();const m=h.getMonth()-f.getMonth();return(m<0||m===0&&h.getDate()<f.getDate())&&p--,p};async function u(){const d=await Le.get("en/getpatients");a(d.data),n.setNoofPatients(d.data.length)}return S.useEffect(()=>{u()},[]),l("2004-06-05T18:30:00.000Z"),w.jsxs("div",{className:"layout-content-container flex flex-col max-w-[920px] flex-1",children:[w.jsx("div",{className:"flex flex-wrap justify-between gap-3 p-4",children:w.jsxs("div",{className:"flex justify-between items-end w-full",children:[w.jsx("p",{className:"text-[#0e141b] tracking-light text-[32px] font-bold leading-tight min-w-72",children:"Patients"}),w.jsx("div",{className:`${n.isDoctor?"hidden":"flex"}`,children:w.jsx(gM,{editPatients:e,setEditPatients:t,deletePatients:r,setDeletePatients:i})})]})}),w.jsx("div",{className:"px-4 py-3",children:w.jsx("label",{className:"flex flex-col min-w-40 h-12 w-full",children:w.jsxs("div",{className:"flex w-full flex-1 items-stretch rounded-xl h-full",children:[w.jsx("div",{className:"text-[#4f7396] flex border-none bg-[#e8edf3] items-center justify-center pl-4 rounded-l-xl border-r-0","data-icon":"MagnifyingGlass","data-size":"24px","data-weight":"regular",children:w.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24px",height:"24px",fill:"currentColor",viewBox:"0 0 256 256",children:w.jsx("path",{d:"M229.66,218.34l-50.07-50.06a88.11,88.11,0,1,0-11.31,11.31l50.06,50.07a8,8,0,0,0,11.32-11.32ZM40,112a72,72,0,1,1,72,72A72.08,72.08,0,0,1,40,112Z"})})}),w.jsx("input",{placeholder:"Search patients",className:"form-input flex w-full min-w-0 flex-1 resize-none overflow-hidden rounded-xl text-[#0e141b] focus:outline-0 focus:ring-0 border-none bg-[#e8edf3] focus:border-none h-full placeholder:text-[#4f7396] px-4 rounded-l-none border-l-0 pl-2 text-base font-normal leading-normal"})]})})}),o.map((d,h)=>w.jsxs("div",{className:"flex items-center gap-4 bg-[#f8fafb] px-4 min-h-[72px] py-2 transition-all duration-300 ease-in-out hover:bg-[#e2e8f0] cursor-pointer rounded-xl ",onClick:()=>s("/patient",{state:{id:d._id}}),children:[w.jsx("div",{className:"bg-center bg-no-repeat aspect-square bg-cover rounded-full h-14 w-fit transform",style:{backgroundImage:""}}),w.jsxs("div",{className:"flex flex-col justify-center",children:[w.jsx("p",{className:"text-[#0e141b] text-base font-medium leading-normal line-clamp-1",children:d.name}),w.jsxs("p",{className:"text-[#4f7396] text-sm font-normal leading-normal line-clamp-2",children:["Age: ",l(d.DOB),", Gender: ",d.gender]})]}),w.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:`size-6 self-start mt-4 ml-auto mb-2 ${e?"block":"hidden"} `,children:[w.jsx("path",{d:"M21.731 2.269a2.625 2.625 0 0 0-3.712 0l-1.157 1.157 3.712 3.712 1.157-1.157a2.625 2.625 0 0 0 0-3.712ZM19.513 8.199l-3.712-3.712-8.4 8.4a5.25 5.25 0 0 0-1.32 2.214l-.8 2.685a.75.75 0 0 0 .933.933l2.685-.8a5.25 5.25 0 0 0 2.214-1.32l8.4-8.4Z"}),w.jsx("path",{d:"M5.25 5.25a3 3 0 0 0-3 3v10.5a3 3 0 0 0 3 3h10.5a3 3 0 0 0 3-3V13.5a.75.75 0 0 0-1.5 0v5.25a1.5 1.5 0 0 1-1.5 1.5H5.25a1.5 1.5 0 0 1-1.5-1.5V8.25a1.5 1.5 0 0 1 1.5-1.5h5.25a.75.75 0 0 0 0-1.5H5.25Z"})]}),w.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:`size-6 self-start mt-4 ml-auto mb-2 ${r?"block":"hidden"}`,children:w.jsx("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"m14.74 9-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 0 1-2.244 2.077H8.084a2.25 2.25 0 0 1-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 0 0-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 0 1 3.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 0 0-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 0 0-7.5 0"})})]},h))]})}function VN(n){return w.jsxs("div",{className:"layout-content-container flex flex-col w-[360px]",children:[w.jsx("h3",{className:"text-[#0e141b] text-lg font-bold leading-tight tracking-[-0.015em] px-4 pb-2 pt-4",children:"Analytics"}),w.jsxs("div",{className:"flex flex-wrap gap-4 p-4",children:[w.jsxs("div",{className:"flex min-w-[158px] flex-1 flex-col gap-2 rounded-xl p-6 border border-[#d0dbe6]",children:[w.jsx("p",{className:"text-[#0e141b] text-base font-medium leading-normal",children:"Total Patients"}),w.jsx("p",{className:"text-[#0e141b] tracking-light text-2xl font-bold leading-tight",children:n.noofPatients}),w.jsx("p",{className:"text-[#078838] text-base font-medium leading-normal",children:"+5%"})]}),w.jsxs("div",{className:"flex min-w-[158px] flex-1 flex-col gap-2 rounded-xl p-6 border border-[#d0dbe6]",children:[w.jsx("p",{className:"text-[#0e141b] text-base font-medium leading-normal",children:"Average Age"}),w.jsx("p",{className:"text-[#0e141b] tracking-light text-2xl font-bold leading-tight",children:"44"}),w.jsx("p",{className:"text-[#e73908] text-base font-medium leading-normal",children:"-2%"})]})]})]})}const n_=n=>{console.log(n);const e=yh();return w.jsxs("div",{className:"flex items-center justify-between whitespace-nowrap border-b border-solid border-b-[#e7eef4] px-10 py-3",children:[w.jsxs("div",{className:"flex items-center gap-4 text-[#0d151c]",children:[w.jsx("div",{className:"size-4",children:w.jsx("svg",{viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:w.jsx("path",{d:"M36.7273 44C33.9891 44 31.6043 39.8386 30.3636 33.69C29.123 39.8386 26.7382 44 24 44C21.2618 44 18.877 39.8386 17.6364 33.69C16.3957 39.8386 14.0109 44 11.2727 44C7.25611 44 4 35.0457 4 24C4 12.9543 7.25611 4 11.2727 4C14.0109 4 16.3957 8.16144 17.6364 14.31C18.877 8.16144 21.2618 4 24 4C26.7382 4 29.123 8.16144 30.3636 14.31C31.6043 8.16144 33.9891 4 36.7273 4C40.7439 4 44 12.9543 44 24C44 35.0457 40.7439 44 36.7273 44Z",fill:"currentColor"})})}),w.jsx("h2",{className:"text-[#0d151c] text-lg font-bold leading-tight tracking-[-0.015em]",children:"Sanjh Sahayak"})]}),w.jsxs("div",{className:"flex flex-1 justify-end gap-8",children:[w.jsxs("div",{className:"flex items-center gap-9",children:[w.jsx("a",{className:"text-[#0d151c] text-sm font-medium leading-normal cursor-pointer",onClick:()=>e("/"),children:"Home"}),w.jsx("a",{className:`text-[#0d151c] text-sm font-medium leading-normal cursor-pointer ${n.patient?"":"hidden"}`,onClick:()=>e("/main"),children:"Patients"})]}),w.jsxs("div",{className:"flex items-center gap-2",children:[w.jsx("button",{className:"flex max-w-[480px] cursor-pointer items-center justify-center overflow-hidden rounded-xl h-10 bg-[#e7eef4] text-[#0d151c] gap-2 text-sm font-bold leading-normal tracking-[0.015em] min-w-0 px-2.5",children:w.jsx("div",{className:"text-[#0d151c]","data-icon":"MagnifyingGlass","data-size":"20px","data-weight":"regular",children:w.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20px",height:"20px",fill:"currentColor",viewBox:"0 0 256 256",children:w.jsx("path",{d:"M229.66,218.34l-50.07-50.06a88.11,88.11,0,1,0-11.31,11.31l50.06,50.07a8,8,0,0,0,11.32-11.32ZM40,112a72,72,0,1,1,72,72A72.08,72.08,0,0,1,40,112Z"})})})}),w.jsx("button",{className:"flex max-w-[480px] cursor-pointer items-center justify-center overflow-hidden rounded-xl h-10 bg-[#e7eef4] text-[#0d151c] gap-2 text-sm font-bold leading-normal tracking-[0.015em] min-w-0 px-2.5",children:w.jsx("div",{className:"text-[#0d151c]","data-icon":"ChatCircleDots","data-size":"20px","data-weight":"regular",children:w.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20px",height:"20px",fill:"currentColor",viewBox:"0 0 256 256",children:w.jsx("path",{d:"M140,128a12,12,0,1,1-12-12A12,12,0,0,1,140,128ZM84,116a12,12,0,1,0,12,12A12,12,0,0,0,84,116Zm88,0a12,12,0,1,0,12,12A12,12,0,0,0,172,116Zm60,12A104,104,0,0,1,79.12,219.82L45.07,231.17a16,16,0,0,1-20.24-20.24l11.35-34.05A104,104,0,1,1,232,128Zm-16,0A88,88,0,1,0,51.81,172.06a8,8,0,0,1,.66,6.54L40,216,77.4,203.53a7.85,7.85,0,0,1,2.53-.42,8,8,0,0,1,4,1.08A88,88,0,0,0,216,128Z"})})})}),w.jsx("button",{className:"flex max-w-[480px] cursor-pointer items-center justify-center overflow-hidden rounded-xl h-10 bg-[#e7eef4] text-[#0d151c] gap-2 text-sm font-bold leading-normal tracking-[0.015em] min-w-0 px-2.5",children:w.jsx("div",{className:"text-[#0d151c]","data-icon":"Bell","data-size":"20px","data-weight":"regular",children:w.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20px",height:"20px",fill:"currentColor",viewBox:"0 0 256 256",children:w.jsx("path",{d:"M221.8,175.94C216.25,166.38,208,139.33,208,104a80,80,0,1,0-160,0c0,35.34-8.26,62.38-13.81,71.94A16,16,0,0,0,48,200H88.81a40,40,0,0,0,78.38,0H208a16,16,0,0,0,13.8-24.06ZM128,216a24,24,0,0,1-22.62-16h45.24A24,24,0,0,1,128,216ZM48,184c7.7-13.24,16-43.92,16-80a64,64,0,1,1,128,0c0,36.05,8.28,66.73,16,80Z"})})})})]}),w.jsx("div",{className:"flex items-center justify-center gap-2",children:w.jsx("div",{className:"text-[#0d151c] font-medium text-sm leading-normal",children:n.isDoctor?"Doctor":"Care taker"})}),w.jsx("div",{className:"bg-center bg-no-repeat aspect-square bg-cover rounded-full size-10",style:{backgroundImage:'url("https://cdn.usegalileo.ai/stability/62891830-57f4-4b6d-ab96-97aa59242b87.png")'}})]})]})};function WN(n){const[e,t]=S.useState(0);return w.jsx("div",{className:"relative flex size-full min-h-screen flex-col bg-[#f8fafb] group/design-root overflow-x-hidden",style:{fontFamily:'Inter, "Noto Sans", sans-serif'},children:w.jsxs("div",{className:"layout-container flex h-full grow flex-col",children:[w.jsx(n_,{isDoctor:n.isDoctor}),w.jsxs("div",{className:"gap-1 px-6 flex flex-1 justify-center py-5",children:[w.jsx(UN,{isDoctor:n.isDoctor,setNoofPatients:t,noofPatients:e}),w.jsx(VN,{noofPatients:e})]})]})})}const GN=()=>{const n=S.useRef(null),e=()=>{n.current.scrollIntoView({behavior:"smooth"})};let t=yh();return w.jsx("div",{className:"relative flex size-full min-h-screen flex-col bg-[#F9FAFA] group/design-root overflow-x-hidden",style:{fontFamily:'Epilogue, "Noto Sans", sans-serif'},children:w.jsxs("div",{className:"layout-container flex h-full grow flex-col",children:[w.jsxs("header",{className:"flex items-center justify-between whitespace-nowrap border-b border-solid border-b-[#EEEFF2] px-10 py-3",children:[w.jsxs("div",{className:"flex items-center gap-4 text-[#1C1D22]",children:[w.jsx("div",{className:"size-4",children:w.jsxs("svg",{viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[w.jsxs("g",{clipPath:"url(#clip0_6_543)",children:[w.jsx("path",{d:"M42.1739 20.1739L27.8261 5.82609C29.1366 7.13663 28.3989 10.1876 26.2002 13.7654C24.8538 15.9564 22.9595 18.3449 20.6522 20.6522C18.3449 22.9595 15.9564 24.8538 13.7654 26.2002C10.1876 28.3989 7.13663 29.1366 5.82609 27.8261L20.1739 42.1739C21.4845 43.4845 24.5355 42.7467 28.1133 40.548C30.3042 39.2016 32.6927 37.3073 35 35C37.3073 32.6927 39.2016 30.3042 40.548 28.1133C42.7467 24.5355 43.4845 21.4845 42.1739 20.1739Z",fill:"currentColor"}),w.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M7.24189 26.4066C7.31369 26.4411 7.64204 26.5637 8.52504 26.3738C9.59462 26.1438 11.0343 25.5311 12.7183 24.4963C14.7583 23.2426 17.0256 21.4503 19.238 19.238C21.4503 17.0256 23.2426 14.7583 24.4963 12.7183C25.5311 11.0343 26.1438 9.59463 26.3738 8.52504C26.5637 7.64204 26.4411 7.31369 26.4066 7.24189C26.345 7.21246 26.143 7.14535 25.6664 7.1918C24.9745 7.25925 23.9954 7.5498 22.7699 8.14278C20.3369 9.32007 17.3369 11.4915 14.4142 14.4142C11.4915 17.3369 9.32007 20.3369 8.14278 22.7699C7.5498 23.9954 7.25925 24.9745 7.1918 25.6664C7.14534 26.143 7.21246 26.345 7.24189 26.4066ZM29.9001 10.7285C29.4519 12.0322 28.7617 13.4172 27.9042 14.8126C26.465 17.1544 24.4686 19.6641 22.0664 22.0664C19.6641 24.4686 17.1544 26.465 14.8126 27.9042C13.4172 28.7617 12.0322 29.4519 10.7285 29.9001L21.5754 40.747C21.6001 40.7606 21.8995 40.931 22.8729 40.7217C23.9424 40.4916 25.3821 39.879 27.0661 38.8441C29.1062 37.5904 31.3734 35.7982 33.5858 33.5858C35.7982 31.3734 37.5904 29.1062 38.8441 27.0661C39.879 25.3821 40.4916 23.9425 40.7216 22.8729C40.931 21.8995 40.7606 21.6001 40.747 21.5754L29.9001 10.7285ZM29.2403 4.41187L43.5881 18.7597C44.9757 20.1473 44.9743 22.1235 44.6322 23.7139C44.2714 25.3919 43.4158 27.2666 42.252 29.1604C40.8128 31.5022 38.8165 34.012 36.4142 36.4142C34.012 38.8165 31.5022 40.8128 29.1604 42.252C27.2666 43.4158 25.3919 44.2714 23.7139 44.6322C22.1235 44.9743 20.1473 44.9757 18.7597 43.5881L4.41187 29.2403C3.29027 28.1187 3.08209 26.5973 3.21067 25.2783C3.34099 23.9415 3.8369 22.4852 4.54214 21.0277C5.96129 18.0948 8.43335 14.7382 11.5858 11.5858C14.7382 8.43335 18.0948 5.9613 21.0277 4.54214C22.4852 3.8369 23.9415 3.34099 25.2783 3.21067C26.5973 3.08209 28.1187 3.29028 29.2403 4.41187Z",fill:"currentColor"})]}),w.jsx("defs",{children:w.jsx("clipPath",{id:"clip0_6_543",children:w.jsx("rect",{width:"48",height:"48",fill:"white"})})})]})}),w.jsx("h2",{className:"text-[#1C1D22] text-lg font-bold leading-tight tracking-[-0.015em]",children:"Saanjh Sahayak"})]}),w.jsxs("div",{className:"flex flex-1 justify-end gap-8",children:[w.jsx("div",{className:"flex items-center gap-9",children:w.jsx("a",{className:"text-[#1C1D22] text-sm font-medium leading-normal cursor-pointer",onClick:e,children:"Features"})}),w.jsx("div",{className:"flex gap-2",children:w.jsx("button",{className:"flex min-w-[84px] max-w-[480px] cursor-pointer items-center justify-center overflow-hidden rounded-full h-10 px-4 bg-[#607AFB] text-[#F9FAFA] text-sm font-bold leading-normal tracking-[0.015em]",onClick:()=>t("/signin"),children:w.jsx("span",{className:"truncate",children:"Login"})})})]})]}),w.jsx("div",{className:"px-40 flex flex-1 justify-center py-5",children:w.jsxs("div",{className:"layout-content-container flex flex-col max-w-[960px] flex-1",children:[w.jsx("div",{className:"@container",children:w.jsx("div",{className:"@[480px]:p-4",children:w.jsxs("div",{className:"flex min-h-[480px] flex-col gap-6 bg-cover bg-center bg-no-repeat @[480px]:gap-8 @[480px]:rounded-xl items-start justify-end px-4 pb-10 @[480px]:px-10",style:{backgroundImage:'linear-gradient(rgba(0, 0, 0, 0.1) 0%, rgba(0, 0, 0, 0.4) 100%), url("https://cdn.usegalileo.ai/sdxl10/d0342d60-6ca8-4000-abde-e44f0d824c83.png")'},children:[w.jsxs("div",{className:"flex flex-col gap-2 text-left",children:[w.jsx("h1",{className:"text-white text-4xl font-black leading-tight tracking-[-0.033em] @[480px]:text-5xl @[480px]:font-black @[480px]:leading-tight @[480px]:tracking-[-0.033em]",children:"Saanjh Sahayak, better care for our elders"}),w.jsx("h2",{className:"text-white text-sm font-normal leading-normal @[480px]:text-base @[480px]:font-normal @[480px]:leading-normal",children:"We are here to provide comprehensive and compassionate care to the elderly in old age homes."})]}),w.jsx("label",{className:"flex flex-col min-w-40 h-14 w-full max-w-[480px] @[480px]:h-16"})]})})}),w.jsxs("div",{className:"flex flex-col gap-10 px-4 py-10 @container",ref:n,children:[w.jsx("h1",{className:"text-[#1C1D22] tracking-light text-[32px] font-bold leading-tight @[480px]:text-4xl @[480px]:font-black @[480px]:leading-tight @[480px]:tracking-[-0.033em] max-w-[720px]",children:"For Caretakers"}),w.jsxs("div",{className:"grid grid-cols-[repeat(auto-fit,minmax(158px,1fr))] gap-3 p-0",children:[w.jsxs("div",{className:"flex flex-1 gap-3 rounded-lg border border-[#D5D6DD] bg-[#FFFFFF] p-4 flex-col",children:[w.jsx("div",{className:"text-[#1C1D22]","data-icon":"FirstAid","data-size":"24px","data-weight":"regular",children:w.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24px",height:"24px",fill:"currentColor",viewBox:"0 0 256 256",children:w.jsx("path",{d:"M216,88H168V40a16,16,0,0,0-16-16H104A16,16,0,0,0,88,40V88H40a16,16,0,0,0-16,16v48a16,16,0,0,0,16,16H88v48a16,16,0,0,0,16,16h48a16,16,0,0,0,16-16V168h48a16,16,0,0,0,16-16V104A16,16,0,0,0,216,88Zm0,64H160a8,8,0,0,0-8,8v56H104V160a8,8,0,0,0-8-8H40V104H96a8,8,0,0,0,8-8V40h48V96a8,8,0,0,0,8,8h56Z"})})}),w.jsxs("div",{className:"flex flex-col gap-1",children:[w.jsx("h2",{className:"text-[#1C1D22] text-base font-bold leading-tight",children:"Upload and Monitor Patient Reports"}),w.jsx("p",{className:"text-[#3C3F4A] text-sm font-normal leading-normal",children:"Easily upload and monitor patient reports. Our system is designed to handle a variety of formats, ensuring a seamless experience."})]})]}),w.jsxs("div",{className:"flex flex-1 gap-3 rounded-lg border border-[#D5D6DD] bg-[#FFFFFF] p-4 flex-col",children:[w.jsx("div",{className:"text-[#1C1D22]","data-icon":"Notification","data-size":"24px","data-weight":"regular",children:w.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24px",height:"24px",fill:"currentColor",viewBox:"0 0 256 256",children:w.jsx("path",{d:"M216,128v80a16,16,0,0,1-16,16H48a16,16,0,0,1-16-16V56A16,16,0,0,1,48,40h80a8,8,0,0,1,0,16H48V208H200V128a8,8,0,0,1,16,0Zm16-68a36,36,0,1,1-36-36A36,36,0,0,1,232,60Zm-16,0a20,20,0,1,0-20,20A20,20,0,0,0,216,60Z"})})}),w.jsxs("div",{className:"flex flex-col gap-1",children:[w.jsx("h2",{className:"text-[#1C1D22] text-base font-bold leading-tight",children:"Receive Alerts and Reminders"}),w.jsx("p",{className:"text-[#3C3F4A] text-sm font-normal leading-normal",children:"Get instant alerts and reminders for medication, doctor's appointments, and more. Stay on top of your loved one's care."})]})]})]})]}),w.jsxs("div",{className:"flex flex-col gap-10 px-4 py-10 @container",children:[w.jsx("h1",{className:"text-[#1C1D22] tracking-light text-[32px] font-bold leading-tight @[480px]:text-4xl @[480px]:font-black @[480px]:leading-tight @[480px]:tracking-[-0.033em] max-w-[720px]",children:"For Doctors"}),w.jsxs("div",{className:"grid grid-cols-[repeat(auto-fit,minmax(158px,1fr))] gap-3 p-0",children:[w.jsxs("div",{className:"flex flex-1 gap-3 rounded-lg border border-[#D5D6DD] bg-[#FFFFFF] p-4 flex-col",children:[w.jsx("div",{className:"text-[#1C1D22]","data-icon":"FirstAid","data-size":"24px","data-weight":"regular",children:w.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24px",height:"24px",fill:"currentColor",viewBox:"0 0 256 256",children:w.jsx("path",{d:"M216,88H168V40a16,16,0,0,0-16-16H104A16,16,0,0,0,88,40V88H40a16,16,0,0,0-16,16v48a16,16,0,0,0,16,16H88v48a16,16,0,0,0,16,16h48a16,16,0,0,0,16-16V168h48a16,16,0,0,0,16-16V104A16,16,0,0,0,216,88Zm0,64H160a8,8,0,0,0-8,8v56H104V160a8,8,0,0,0-8-8H40V104H96a8,8,0,0,0,8-8V40h48V96a8,8,0,0,0,8,8h56Z"})})}),w.jsxs("div",{className:"flex flex-col gap-1",children:[w.jsx("h2",{className:"text-[#1C1D22] text-base font-bold leading-tight",children:"Verify Patient Information"}),w.jsx("p",{className:"text-[#3C3F4A] text-sm font-normal leading-normal",children:"Quickly and securely verify patient information. Our platform is designed to ensure compliance with privacy and data protection regulations."})]})]}),w.jsxs("div",{className:"flex flex-1 gap-3 rounded-lg border border-[#D5D6DD] bg-[#FFFFFF] p-4 flex-col",children:[w.jsx("div",{className:"text-[#1C1D22]","data-icon":"Translate","data-size":"24px","data-weight":"regular",children:w.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24px",height:"24px",fill:"currentColor",viewBox:"0 0 256 256",children:w.jsx("path",{d:"M239.15,212.42l-56-112a8,8,0,0,0-14.31,0l-21.71,43.43A88,88,0,0,1,100,126.93,103.65,103.65,0,0,0,127.69,64H152a8,8,0,0,0,0-16H96V32a8,8,0,0,0-16,0V48H24a8,8,0,0,0,0,16h87.63A87.76,87.76,0,0,1,88,116.35a87.74,87.74,0,0,1-19-31,8,8,0,1,0-15.08,5.34A103.63,103.63,0,0,0,76,127a87.55,87.55,0,0,1-52,17,8,8,0,0,0,0,16,103.46,103.46,0,0,0,64-22.08,104.18,104.18,0,0,0,51.44,21.31l-26.6,53.19a8,8,0,0,0,14.31,7.16L140.94,192h70.11l13.79,27.58A8,8,0,0,0,232,224a8,8,0,0,0,7.15-11.58ZM148.94,176,176,121.89,203.05,176Z"})})}),w.jsxs("div",{className:"flex flex-col gap-1",children:[w.jsx("h2",{className:"text-[#1C1D22] text-base font-bold leading-tight",children:"Analyze with Large Language Model"}),w.jsx("p",{className:"text-[#3C3F4A] text-sm font-normal leading-normal",children:"Utilize our powerful Large Language Model for in-depth patient analysis. Get insights and recommendations based on the latest medical research."})]})]})]})]}),w.jsxs("div",{className:"grid grid-cols-[repeat(auto-fit,minmax(158px,1fr))] gap-3 p-4",children:[w.jsxs("div",{className:"flex flex-col gap-3 pb-3",children:[w.jsx("div",{className:"w-full bg-center bg-no-repeat aspect-video bg-cover rounded-xl",style:{backgroundImage:'url("https://cdn.usegalileo.ai/stability/fb823941-87a6-47fb-998f-c8224ea8c6db.png")'}}),w.jsxs("div",{children:[w.jsx("p",{className:"text-[#1C1D22] text-base font-medium leading-normal",children:"Get help from experts"}),w.jsx("p",{className:"text-[#3C3F4A] text-sm font-normal leading-normal",children:"Our team of geriatricians and nurse practitioners are here to help."})]})]}),w.jsxs("div",{className:"flex flex-col gap-3 pb-3",children:[w.jsx("div",{className:"w-full bg-center bg-no-repeat aspect-video bg-cover rounded-xl",style:{backgroundImage:'url("https://cdn.usegalileo.ai/stability/b543c2c9-c73f-4636-8737-59e6d3f7a20e.png")'}}),w.jsxs("div",{children:[w.jsx("p",{className:"text-[#1C1D22] text-base font-medium leading-normal",children:"Stay connected"}),w.jsx("p",{className:"text-[#3C3F4A] text-sm font-normal leading-normal",children:"Easily communicate with our team via video calls, phone calls, or chat."})]})]}),w.jsxs("div",{className:"flex flex-col gap-3 pb-3",children:[w.jsx("div",{className:"w-full bg-center bg-no-repeat aspect-video bg-cover rounded-xl",style:{backgroundImage:'url("https://cdn.usegalileo.ai/sdxl10/8329d0d0-4083-4c19-89c0-de0625991c40.png")'}}),w.jsxs("div",{children:[w.jsx("p",{className:"text-[#1C1D22] text-base font-medium leading-normal",children:"Get reminders"}),w.jsx("p",{className:"text-[#3C3F4A] text-sm font-normal leading-normal",children:"Set up medication reminders and get alerts when it's time to take a dose."})]})]})]})]})})]})})};var r_={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},Gw=Ie.createContext&&Ie.createContext(r_),qN=["attr","size","title"];function XN(n,e){if(n==null)return{};var t=KN(n,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(n,r)&&(t[r]=n[r])}return t}function KN(n,e){if(n==null)return{};var t={};for(var r in n)if(Object.prototype.hasOwnProperty.call(n,r)){if(e.indexOf(r)>=0)continue;t[r]=n[r]}return t}function Tp(){return Tp=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},Tp.apply(this,arguments)}function qw(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function kp(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?qw(Object(t),!0).forEach(function(r){YN(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):qw(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function YN(n,e,t){return e=QN(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function QN(n){var e=ZN(n,"string");return typeof e=="symbol"?e:e+""}function ZN(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function i_(n){return n&&n.map((e,t)=>Ie.createElement(e.tag,kp({key:t},e.attr),i_(e.child)))}function JN(n){return e=>Ie.createElement(eD,Tp({attr:kp({},n.attr)},e),i_(n.child))}function eD(n){var e=t=>{var{attr:r,size:i,title:s}=n,o=XN(n,qN),a=i||t.size||"1em",l;return t.className&&(l=t.className),n.className&&(l=(l?l+" ":"")+n.className),Ie.createElement("svg",Tp({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,r,o,{className:l,style:kp(kp({color:n.color||t.color},t.style),n.style),height:a,width:a,xmlns:"http://www.w3.org/2000/svg"}),s&&Ie.createElement("title",null,s),n.children)};return Gw!==void 0?Ie.createElement(Gw.Consumer,null,t=>e(t)):e(r_)}function tD(n){return JN({tag:"svg",attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M402.6 83.2l90.2 90.2c3.8 3.8 3.8 10 0 13.8L274.4 405.6l-92.8 10.3c-12.4 1.4-22.9-9.1-21.5-21.5l10.3-92.8L388.8 83.2c3.8-3.8 10-3.8 13.8 0zm162-22.9l-48.8-48.8c-15.2-15.2-39.9-15.2-55.2 0l-35.4 35.4c-3.8 3.8-3.8 10 0 13.8l90.2 90.2c3.8 3.8 10 3.8 13.8 0l35.4-35.4c15.2-15.3 15.2-40 0-55.2zM384 346.2V448H64V128h229.8c3.2 0 6.2-1.3 8.5-3.5l40-40c7.6-7.6 2.2-20.5-8.5-20.5H48C21.5 64 0 85.5 0 112v352c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V306.2c0-10.7-12.9-16-20.5-8.5l-40 40c-2.2 2.3-3.5 5.3-3.5 8.5z"},child:[]}]})(n)}function nD(n){const[e,t]=S.useState(n.id),[r,i]=S.useState();async function s(){const l=await Le.get(`/en/getpatient/${e}`);i(l.data)}S.useEffect(()=>{s()},[e]);const o=l=>{const u=new Date,d=new Date(l);let h=u.getFullYear()-d.getFullYear();const f=u.getMonth()-d.getMonth();return(f<0||f===0&&u.getDate()<d.getDate())&&h--,h},a=[{date:"July 15, 2022",report:"Blood Test"},{date:"June 12, 2022",report:"X-ray"},{date:"March 22, 2022",report:"Blood Test"}];return r&&w.jsx("div",{className:"px-40 flex flex-1 justify-center py-5",children:w.jsxs("div",{className:"layout-content-container flex flex-col max-w-[960px] flex-1",children:[w.jsxs("div",{className:"relative flex p-4 @container",children:[w.jsx("div",{className:`absolute top-2 right-2 ${n.isDoctor?"hidden":""}`,children:w.jsx("button",{className:"text-blue-500 hover:text-blue-700",children:w.jsx(tD,{size:20})})}),w.jsx("div",{className:"flex w-full flex-col gap-4 @[520px]:flex-row @[520px]:justify-between @[520px]:items-center",children:w.jsxs("div",{className:"flex gap-4 self-start",children:[w.jsx("div",{className:"bg-center bg-no-repeat aspect-square bg-cover rounded-full min-h-32 w-32",style:{backgroundImage:'url("https://cdn.usegalileo.ai/stability/4085b1e6-79ae-4450-b2e6-2a0385966715.png")'}}),w.jsxs("div",{className:"flex flex-col justify-center",children:[w.jsx("p",{className:"text-[#0d151c] text-[22px] font-bold leading-tight tracking-[-0.015em]",children:r.name}),w.jsxs("p",{className:"text-[#49779c] text-base font-normal leading-normal",children:["Age ",o(r.DOB),", ",r.gender,", Blood type: ",r.bloodGroup]})]})]})})]}),w.jsxs("div",{className:"flex gap-4 bg-slate-50 px-4 py-3",children:[w.jsx("div",{className:"text-[#0d151c] flex items-center justify-center rounded-lg bg-[#e7eef4] shrink-0 size-12","data-icon":"User","data-size":"24px","data-weight":"regular",children:w.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24px",height:"24px",fill:"currentColor",viewBox:"0 0 256 256",children:w.jsx("path",{d:"M230.92,212c-15.23-26.33-38.7-45.21-66.09-54.16a72,72,0,1,0-73.66,0C63.78,166.78,40.31,185.66,25.08,212a8,8,0,1,0,13.85,8c18.84-32.56,52.14-52,89.07-52s70.23,19.44,89.07,52a8,8,0,1,0,13.85-8ZM72,96a56,56,0,1,1,56,56A56.06,56.06,0,0,1,72,96Z"})})}),w.jsxs("div",{className:"flex flex-1 flex-col justify-center",children:[w.jsx("p",{className:"text-[#0d151c] text-base font-medium leading-normal",children:"Patient Information"}),w.jsxs("p",{className:"text-[#49779c] text-sm font-normal leading-normal",children:["Previous test reports: ",r.reportsList.length]}),w.jsx("p",{className:"text-[#49779c] text-sm font-normal leading-normal",children:"Known health conditions: Asthma, Allergies"})]})]}),w.jsxs("div",{className:"flex items-center gap-4 bg-slate-50 px-4 min-h-14 justify-between",children:[w.jsxs("div",{className:"flex items-center gap-4",children:[w.jsx("div",{className:"text-[#0d151c] flex items-center justify-center rounded-lg bg-[#e7eef4] shrink-0 size-10","data-icon":"Phone","data-size":"24px","data-weight":"regular",children:w.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24px",height:"24px",fill:"currentColor",viewBox:"0 0 256 256",children:w.jsx("path",{d:"M222.37,158.46l-47.11-21.11-.13-.06a16,16,0,0,0-15.17,1.4,8.12,8.12,0,0,0-.75.56L134.87,160c-15.42-7.49-31.34-23.29-38.83-38.51l20.78-24.71c.2-.25.39-.5.57-.77a16,16,0,0,0,1.32-15.06l0-.12L97.54,33.64a16,16,0,0,0-16.62-9.52A56.26,56.26,0,0,0,32,80c0,79.4,64.6,144,144,144a56.26,56.26,0,0,0,55.88-48.92A16,16,0,0,0,222.37,158.46ZM176,208A128.14,128.14,0,0,1,48,80,40.2,40.2,0,0,1,82.87,40a.61.61,0,0,0,0,.12l21,47L83.2,111.86a6.13,6.13,0,0,0-.57.77,16,16,0,0,0-1,15.7c9.06,18.53,27.73,37.06,46.46,46.11a16,16,0,0,0,15.75-1.14,8.44,8.44,0,0,0,.74-.56L168.89,152l47,21.05h0s.08,0,.11,0A40.21,40.21,0,0,1,176,208Z"})})}),w.jsx("p",{className:"text-[#0d151c] text-base font-normal leading-normal flex-1 truncate",children:"Contact Number"})]}),w.jsx("div",{className:"shrink-0",children:w.jsxs("p",{className:"text-[#0d151c] text-base font-normal leading-normal",children:["(+91) ",r.phone]})})]}),w.jsxs("div",{className:"flex justify-between items-center px-4 pb-3 pt-5",children:[w.jsx("h2",{className:"text-[#0d151c] text-[22px] font-bold leading-tight tracking-[-0.015em]",children:"Report History"}),w.jsx("button",{className:`bg-blue-500 text-white px-4 py-2 rounded ${n.isDoctor?"hidden":""}`,children:"Upload Reports"})]}),w.jsx("div",{children:a.map((l,u)=>w.jsxs("div",{className:"flex items-center gap-4 bg-slate-50 px-4 min-h-[72px] py-2 justify-between",children:[w.jsxs("div",{className:"flex items-center gap-4",children:[w.jsx("div",{className:"text-[#0d151c] flex items-center justify-center rounded-lg bg-[#e7eef4] shrink-0 size-12","data-icon":"File","data-size":"24px","data-weight":"regular",children:w.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24px",height:"24px",fill:"currentColor",viewBox:"0 0 256 256",children:w.jsx("path",{d:"M213.66,82.34l-56-56A8,8,0,0,0,152,24H56A16,16,0,0,0,40,40V216a16,16,0,0,0,16,16H200a16,16,0,0,0,16-16V88A8,8,0,0,0,213.66,82.34ZM160,51.31,188.69,80H160ZM200,216H56V40h88V88a8,8,0,0,0,8,8h48V216Z"})})}),w.jsxs("div",{className:"flex flex-col justify-center",children:[w.jsx("p",{className:"text-[#0d151c] text-base font-medium leading-normal line-clamp-1",children:l.date}),w.jsx("p",{className:"text-[#49779c] text-sm font-normal leading-normal line-clamp-2",children:l.report})]})]}),w.jsx("div",{className:"shrink-0",children:w.jsx("div",{className:"text-[#0d151c] flex size-7 items-center justify-center","data-icon":"CaretRight","data-size":"24px","data-weight":"regular",children:w.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24px",height:"24px",fill:"currentColor",viewBox:"0 0 256 256",children:w.jsx("path",{d:"M181.66,133.66l-80,80a8,8,0,0,1-11.32-11.32L164.69,128,90.34,53.66a8,8,0,0,1,11.32-11.32l80,80A8,8,0,0,1,181.66,133.66Z"})})})})]},u))})]})})}function rD(n){const{state:e}=m1(),{id:t}=e;return w.jsx("div",{className:"relative flex size-full min-h-screen flex-col bg-slate-50 group/design-root overflow-x-hidden",style:{fontFamily:'Manrope, "Noto Sans", sans-serif;'},children:w.jsxs("div",{className:"layout-container flex h-full grow flex-col",children:[w.jsx(n_,{patient:!0,isDoctor:n.isDoctor}),w.jsx(nD,{isDoctor:n.isDoctor,id:t})]})})}function iD(n){const[e,t]=S.useState(""),[r,i]=S.useState(""),[s,o]=S.useState(!1);let a=yh();const l=()=>{o(!s)},u={"--checkbox-tick-svg":"url('data:image/svg+xml,%3csvg viewBox=%270 0 16 16%27 fill=%27rgb(248,250,252)%27 xmlns=%27http://www.w3.org/2000/svg%27%3e%3cpath d=%27M12.207 4.793a1 1 0 010 1.414l-5 5a1 1 0 01-1.414 0l-2-2a1 1 0 011.414-1.414L6.5 9.086l4.293-4.293a1 1 0 011.414 0z%27/%3e%3c/svg%3e')",fontFamily:"Manrope, 'Noto Sans', sans-serif"};return w.jsx("div",{className:"relative flex size-full min-h-screen flex-col bg-slate-50 group/design-root overflow-x-hidden",style:u,children:w.jsxs("div",{className:"layout-container flex h-full grow flex-col",children:[w.jsx("header",{className:"flex items-center justify-between whitespace-nowrap border-b border-solid border-b-[#e7edf3] px-10 py-3",children:w.jsxs("div",{className:"flex items-center gap-4 text-[#0e141b]",children:[w.jsx("div",{className:"size-4",children:w.jsx("svg",{viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:w.jsx("path",{d:"M4 42.4379C4 42.4379 14.0962 36.0744 24 41.1692C35.0664 46.8624 44 42.2078 44 42.2078L44 7.01134C44 7.01134 35.068 11.6577 24.0031 5.96913C14.0971 0.876274 4 7.27094 4 7.27094L4 42.4379Z",fill:"currentColor",:!0})})}),w.jsx("h2",{className:"text-[#0e141b] text-lg font-bold leading-tight tracking-[-0.015em]",children:"HealthCo"})]})}),w.jsx("div",{className:"px-40 flex flex-1 justify-center py-5",children:w.jsxs("div",{className:"layout-content-container flex flex-col w-[512px] max-w-[512px] py-5 max-w-[960px] flex-1",children:[w.jsx("h2",{className:"text-[#0e141b] tracking-light text-[28px] font-bold leading-tight px-4 text-center pb-3 pt-5",children:"Welcome to HealthCo"}),w.jsx("p",{className:"text-[#0e141b] text-base font-normal leading-normal pb-3 pt-1 px-4 text-center",children:"Please select if you are a doctor or a caretaker."}),w.jsx("div",{className:"flex justify-stretch",children:w.jsxs("div",{className:"flex flex-1 gap-3 flex-wrap px-4 py-3 justify-center ",children:[w.jsx("button",{className:`flex min-w-[84px] max-w-[480px] cursor-pointer items-center justify-center overflow-hidden rounded-xl h-10 px-4 ${n.isDoctor?" bg-[#1980e6] text-slate-50":"bg-[#e7edf3]  text-[#0e141b]"} text-sm font-bold leading-normal tracking-[0.015em]`,onClick:()=>n.setIsDoctor(!0),children:w.jsx("span",{className:"truncate",children:"Doctor"})}),w.jsx("button",{className:`flex min-w-[84px] max-w-[480px] cursor-pointer items-center justify-center overflow-hidden rounded-xl h-10 px-4 ${n.isDoctor?"bg-[#e7edf3]  text-[#0e141b]":" bg-[#1980e6] text-slate-50"} text-sm font-bold leading-normal tracking-[0.015em]`,onClick:()=>n.setIsDoctor(!1),children:w.jsx("span",{className:"truncate",children:"Caretaker"})})]})}),w.jsx("div",{className:"flex max-w-[480px] flex-1 flex-wrap items-end gap-4 px-4 py-3 self-center",children:w.jsxs("label",{className:"flex flex-col min-w-96 flex-1",children:[w.jsx("p",{className:"text-[#0e141b] text-base font-medium leading-normal pb-2",children:"ID"}),w.jsx("input",{placeholder:"Enter your ID",className:"form-input flex w-full min-w-0 flex-1 resize-none overflow-hidden rounded-xl text-[#0e141b] focus:outline-0 focus:ring-0 border-none bg-[#e7edf3] focus:border-none h-14 placeholder:text-[#4e7397] p-4 text-base font-normal leading-normal",value:e,onChange:d=>t(d.target.value)})]})}),w.jsx("div",{className:"flex max-w-[480px] flex-1 flex-wrap items-end gap-4 px-4 py-3 self-center",children:w.jsxs("label",{className:"flex flex-col min-w-96 flex-1",children:[w.jsx("p",{className:"text-[#0e141b] text-base font-medium leading-normal pb-2",children:"Password"}),w.jsxs("div",{className:"relative",children:[w.jsx("input",{placeholder:"Enter your password",className:"form-input flex w-full min-w-0 flex-1 resize-none overflow-hidden rounded-xl text-[#0e141b] focus:outline-0 focus:ring-0 border-none bg-[#e7edf3] focus:border-none h-14 placeholder:text-[#4e7397] p-4 text-base font-normal leading-normal",value:r,onChange:d=>i(d.target.value),type:s?"text":"password"}),w.jsx("button",{type:"button",className:"absolute right-4 top-1/2 transform -translate-y-1/2 text-sm text-gray-600",onClick:l,children:s?w.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-5 h-5",children:[w.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.036 12.322a1.012 1.012 0 010-.639C3.423 7.51 7.36 4.5 12 4.5c4.638 0 8.573 3.007 9.963 7.178.07.207.07.431 0 .639C20.577 16.49 16.64 19.5 12 19.5c-4.638 0-8.573-3.007-9.963-7.178z"}),w.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})]}):w.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-5 h-5",children:w.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.98 8.223A10.477 10.477 0 001.934 12C3.226 16.338 7.244 19.5 12 19.5c.993 0 1.953-.138 2.863-.395M6.228 6.228A10.45 10.45 0 0112 4.5c4.756 0 8.773 3.162 10.065 7.498a10.523 10.523 0 01-4.293 5.774M6.228 6.228L3 3m3.228 3.228l3.65 3.65m7.894 7.894L21 21m-3.228-3.228l-3.65-3.65m0 0a3 3 0 10-4.243-4.243m4.242 4.242L9.88 9.88"})})})]})]})}),w.jsx("div",{className:"px-4 self-center"})]})}),w.jsx("footer",{className:"flex justify-center",children:w.jsxs("div",{className:"flex max-w-[960px] flex-1 flex-col",children:[w.jsx("p",{className:"text-[#4e7397] text-sm font-normal leading-normal pb-3 pt-1 px-4 text-center",children:"By continuing, you agree to our Terms of Use and Privacy Policy"}),w.jsx("div",{className:"flex px-4 py-3 justify-center",children:w.jsx("button",{className:"flex min-w-[84px] max-w-[143px] cursor-pointer items-center justify-center overflow-hidden rounded-xl h-10 px-4 flex-1 bg-[#1980e6] text-slate-50 text-sm font-bold leading-normal tracking-[0.015em]",onClick:()=>a("/main"),children:w.jsx("span",{className:"truncate",children:"Sign in"})})})]})})]})})}const sD=()=>{const[n,e]=S.useState(null),t=r=>{e(r)};return w.jsx("div",{className:"relative flex items-center justify-center min-h-screen bg-slate-50",children:w.jsxs("div",{className:"layout-container flex flex-col max-w-[960px] w-full px-6",children:[w.jsxs("header",{className:"flex items-center justify-between border-b border-solid border-b-[#e7edf3] px-4 py-3",children:[w.jsxs("div",{className:"flex items-center gap-4 text-[#0e141b]",children:[w.jsx("div",{className:"size-4",children:w.jsx("svg",{viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:w.jsx("path",{d:"M4 42.4379C4 42.4379 14.0962 36.0744 24 41.1692C35.0664 46.8624 44 42.2078 44 42.2078L44 7.01134C44 7.01134 35.068 11.6577 24.0031 5.96913C14.0971 0.876274 4 7.27094 4 7.27094L4 42.4379Z",fill:"currentColor"})})}),w.jsx("h2",{className:"text-[#0e141b] text-lg font-bold leading-tight tracking-[-0.015em]",children:"HealthCo"})]}),w.jsxs("div",{className:"flex items-center gap-8",children:[w.jsx("button",{className:"text-[#1980e6] text-sm font-medium leading-normal",onClick:()=>alert("Link to professionals"),children:"For professionals"}),w.jsx("button",{className:"text-[#1980e6] text-sm font-medium leading-normal",onClick:()=>alert("Link to caretakers"),children:"For caretakers"})]})]}),w.jsxs("div",{className:"flex flex-col items-center justify-center flex-1",children:[w.jsx("h2",{className:"text-[#0e141b] tracking-light text-[28px] font-bold leading-tight pb-3",children:"Welcome to HealthCo"}),w.jsx("button",{className:"bg-[#1980e6] text-slate-50 text-base font-bold leading-normal tracking-[0.015em] py-3 px-8 rounded-lg mb-6",onClick:()=>alert("Display user selection"),children:"Select User"}),n===null&&w.jsxs("div",{className:"flex gap-6",children:[w.jsx("button",{className:"flex items-center justify-center bg-[#1980e6] text-slate-50 text-base font-bold leading-normal tracking-[0.015em] py-3 px-8 rounded-lg",onClick:()=>t("doctor"),children:"Doctor"}),w.jsx("button",{className:"flex items-center justify-center bg-[#1980e6] text-slate-50 text-base font-bold leading-normal tracking-[0.015em] py-3 px-8 rounded-lg",onClick:()=>t("caretaker"),children:"Caretaker"})]}),n&&w.jsxs("div",{className:"text-[#0e141b] text-base font-normal leading-normal mt-4",children:["You are signed in as ",w.jsx("strong",{children:n}),"."]})]}),w.jsx("footer",{className:"flex justify-center py-3",children:w.jsx("p",{className:"text-[#4e7397] text-sm font-normal leading-normal",children:"By continuing, you agree to our Terms of Use and Privacy Policy"})})]})})},oD="modulepreload",aD=function(n){return"/"+n},Xw={},Jh=function(e,t,r){let i=Promise.resolve();if(t&&t.length>0){document.getElementsByTagName("link");const s=document.querySelector("meta[property=csp-nonce]"),o=(s==null?void 0:s.nonce)||(s==null?void 0:s.getAttribute("nonce"));i=Promise.all(t.map(a=>{if(a=aD(a),a in Xw)return;Xw[a]=!0;const l=a.endsWith(".css"),u=l?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${a}"]${u}`))return;const d=document.createElement("link");if(d.rel=l?"stylesheet":oD,l||(d.as="script",d.crossOrigin=""),d.href=a,o&&d.setAttribute("nonce",o),document.head.appendChild(d),l)return new Promise((h,f)=>{d.addEventListener("load",h),d.addEventListener("error",()=>f(new Error(`Unable to preload CSS for ${a}`)))})}))}return i.then(()=>e()).catch(s=>{const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=s,window.dispatchEvent(o),!o.defaultPrevented)throw s})};var lu={};lu.d=(n,e)=>{for(var t in e)lu.o(e,t)&&!lu.o(n,t)&&Object.defineProperty(n,t,{enumerable:!0,get:e[t]})};lu.o=(n,e)=>Object.prototype.hasOwnProperty.call(n,e);var Q=globalThis.pdfjsLib={};lu.d(Q,{AbortException:()=>ba,AnnotationEditorLayer:()=>dy,AnnotationEditorParamsType:()=>Z,AnnotationEditorType:()=>ce,AnnotationEditorUIManager:()=>fa,AnnotationLayer:()=>s3,AnnotationMode:()=>Yi,CMapCompressionType:()=>tv,ColorPicker:()=>Dp,DOMSVGFactory:()=>I1,DrawLayer:()=>my,FeatureTest:()=>Jt,GlobalWorkerOptions:()=>Ci,ImageKind:()=>Ef,InvalidPDFException:()=>o_,MissingPDFException:()=>wa,OPS:()=>Kn,Outliner:()=>Gv,PDFDataRangeTransport:()=>Z_,PDFDateString:()=>f_,PDFWorker:()=>tl,PasswordResponses:()=>dD,PermissionFlag:()=>uD,PixelsPerInch:()=>Fs,RenderingCancelledException:()=>O1,TextLayer:()=>Mp,UnexpectedResponseException:()=>Fm,Util:()=>X,VerbosityLevel:()=>Mm,XfaLayer:()=>eC,build:()=>$F,createValidAbsoluteUrl:()=>mD,fetchData:()=>Bm,getDocument:()=>RF,getFilenameFromUrl:()=>_D,getPdfFilenameFromUrl:()=>CD,getXfaPageViewport:()=>TD,isDataScheme:()=>j1,isPdfFile:()=>$1,noContextMenu:()=>on,normalizeUnicode:()=>bD,renderTextLayer:()=>bF,setLayerDimensions:()=>ha,shadow:()=>ue,updateTextLayer:()=>EF,version:()=>jF});const Rt=typeof process=="object"&&process+""=="[object process]"&&!process.versions.nw&&!(process.versions.electron&&process.type&&process.type!=="browser"),s_=[1,0,0,1,0,0],ev=[.001,0,0,.001,0,0],lD=1e7,Ig=1.35,Ln={ANY:1,DISPLAY:2,PRINT:4,SAVE:8,ANNOTATIONS_FORMS:16,ANNOTATIONS_STORAGE:32,ANNOTATIONS_DISABLE:64,OPLIST:256},Yi={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3},cD="pdfjs_internal_editor_",ce={DISABLE:-1,NONE:0,FREETEXT:3,HIGHLIGHT:9,STAMP:13,INK:15},Z={RESIZE:1,CREATE:2,FREETEXT_SIZE:11,FREETEXT_COLOR:12,FREETEXT_OPACITY:13,INK_COLOR:21,INK_THICKNESS:22,INK_OPACITY:23,HIGHLIGHT_COLOR:31,HIGHLIGHT_DEFAULT_COLOR:32,HIGHLIGHT_THICKNESS:33,HIGHLIGHT_FREE:34,HIGHLIGHT_SHOW_ALL:35},uD={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048},St={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_ADD_TO_PATH:4,STROKE_ADD_TO_PATH:5,FILL_STROKE_ADD_TO_PATH:6,ADD_TO_PATH:7,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4},Ef={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3},Ye={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,SOUND:18,MOVIE:19,WIDGET:20,SCREEN:21,PRINTERMARK:22,TRAPNET:23,WATERMARK:24,THREED:25,REDACT:26},Pc={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5},Mm={ERRORS:0,WARNINGS:1,INFOS:5},tv={NONE:0,BINARY:1},Kn={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotation:80,endAnnotation:81,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91},dD={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};let Nm=Mm.WARNINGS;function hD(n){Number.isInteger(n)&&(Nm=n)}function fD(){return Nm}function Dm(n){Nm>=Mm.INFOS&&console.log(`Info: ${n}`)}function re(n){Nm>=Mm.WARNINGS&&console.log(`Warning: ${n}`)}function xe(n){throw new Error(n)}function nt(n,e){n||xe(e)}function pD(n){switch(n==null?void 0:n.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}function mD(n,e=null,t=null){if(!n)return null;try{if(t&&typeof n=="string"){if(t.addDefaultProtocol&&n.startsWith("www.")){const i=n.match(/\./g);(i==null?void 0:i.length)>=2&&(n=`http://${n}`)}if(t.tryConvertEncoding)try{n=wD(n)}catch{}}const r=e?new URL(n,e):new URL(n);if(pD(r))return r}catch{}return null}function ue(n,e,t,r=!1){return Object.defineProperty(n,e,{value:t,enumerable:!r,configurable:!0,writable:!1}),t}const Bs=function(){function e(t,r){this.constructor===e&&xe("Cannot initialize BaseException."),this.message=t,this.name=r}return e.prototype=new Error,e.constructor=e,e}();class nv extends Bs{constructor(e,t){super(e,"PasswordException"),this.code=t}}class rv extends Bs{constructor(e,t){super(e,"UnknownErrorException"),this.details=t}}class o_ extends Bs{constructor(e){super(e,"InvalidPDFException")}}class wa extends Bs{constructor(e){super(e,"MissingPDFException")}}class Fm extends Bs{constructor(e,t){super(e,"UnexpectedResponseException"),this.status=t}}class gD extends Bs{constructor(e){super(e,"FormatError")}}class ba extends Bs{constructor(e){super(e,"AbortException")}}function a_(n){(typeof n!="object"||(n==null?void 0:n.length)===void 0)&&xe("Invalid argument for bytesToString");const e=n.length,t=8192;if(e<t)return String.fromCharCode.apply(null,n);const r=[];for(let i=0;i<e;i+=t){const s=Math.min(i+t,e),o=n.subarray(i,s);r.push(String.fromCharCode.apply(null,o))}return r.join("")}function Im(n){typeof n!="string"&&xe("Invalid argument for stringToBytes");const e=n.length,t=new Uint8Array(e);for(let r=0;r<e;++r)t[r]=n.charCodeAt(r)&255;return t}function vD(n){return String.fromCharCode(n>>24&255,n>>16&255,n>>8&255,n&255)}function D1(n){const e=Object.create(null);for(const[t,r]of n)e[t]=r;return e}function yD(){const n=new Uint8Array(4);return n[0]=1,new Uint32Array(n.buffer,0,1)[0]===1}function xD(){try{return new Function(""),!0}catch{return!1}}class Jt{static get isLittleEndian(){return ue(this,"isLittleEndian",yD())}static get isEvalSupported(){return ue(this,"isEvalSupported",xD())}static get isOffscreenCanvasSupported(){return ue(this,"isOffscreenCanvasSupported",typeof OffscreenCanvas<"u")}static get platform(){return typeof navigator<"u"&&typeof(navigator==null?void 0:navigator.platform)=="string"?ue(this,"platform",{isMac:navigator.platform.includes("Mac")}):ue(this,"platform",{isMac:!1})}static get isCSSRoundSupported(){var e,t;return ue(this,"isCSSRoundSupported",(t=(e=globalThis.CSS)==null?void 0:e.supports)==null?void 0:t.call(e,"width: round(1.5px, 1px)"))}}const Og=Array.from(Array(256).keys(),n=>n.toString(16).padStart(2,"0"));var ki,Af,iv;class X{static makeHexColor(e,t,r){return`#${Og[e]}${Og[t]}${Og[r]}`}static scaleMinMax(e,t){let r;e[0]?(e[0]<0&&(r=t[0],t[0]=t[2],t[2]=r),t[0]*=e[0],t[2]*=e[0],e[3]<0&&(r=t[1],t[1]=t[3],t[3]=r),t[1]*=e[3],t[3]*=e[3]):(r=t[0],t[0]=t[1],t[1]=r,r=t[2],t[2]=t[3],t[3]=r,e[1]<0&&(r=t[1],t[1]=t[3],t[3]=r),t[1]*=e[1],t[3]*=e[1],e[2]<0&&(r=t[0],t[0]=t[2],t[2]=r),t[0]*=e[2],t[2]*=e[2]),t[0]+=e[4],t[1]+=e[5],t[2]+=e[4],t[3]+=e[5]}static transform(e,t){return[e[0]*t[0]+e[2]*t[1],e[1]*t[0]+e[3]*t[1],e[0]*t[2]+e[2]*t[3],e[1]*t[2]+e[3]*t[3],e[0]*t[4]+e[2]*t[5]+e[4],e[1]*t[4]+e[3]*t[5]+e[5]]}static applyTransform(e,t){const r=e[0]*t[0]+e[1]*t[2]+t[4],i=e[0]*t[1]+e[1]*t[3]+t[5];return[r,i]}static applyInverseTransform(e,t){const r=t[0]*t[3]-t[1]*t[2],i=(e[0]*t[3]-e[1]*t[2]+t[2]*t[5]-t[4]*t[3])/r,s=(-e[0]*t[1]+e[1]*t[0]+t[4]*t[1]-t[5]*t[0])/r;return[i,s]}static getAxialAlignedBoundingBox(e,t){const r=this.applyTransform(e,t),i=this.applyTransform(e.slice(2,4),t),s=this.applyTransform([e[0],e[3]],t),o=this.applyTransform([e[2],e[1]],t);return[Math.min(r[0],i[0],s[0],o[0]),Math.min(r[1],i[1],s[1],o[1]),Math.max(r[0],i[0],s[0],o[0]),Math.max(r[1],i[1],s[1],o[1])]}static inverseTransform(e){const t=e[0]*e[3]-e[1]*e[2];return[e[3]/t,-e[1]/t,-e[2]/t,e[0]/t,(e[2]*e[5]-e[4]*e[3])/t,(e[4]*e[1]-e[5]*e[0])/t]}static singularValueDecompose2dScale(e){const t=[e[0],e[2],e[1],e[3]],r=e[0]*t[0]+e[1]*t[2],i=e[0]*t[1]+e[1]*t[3],s=e[2]*t[0]+e[3]*t[2],o=e[2]*t[1]+e[3]*t[3],a=(r+o)/2,l=Math.sqrt((r+o)**2-4*(r*o-s*i))/2,u=a+l||1,d=a-l||1;return[Math.sqrt(u),Math.sqrt(d)]}static normalizeRect(e){const t=e.slice(0);return e[0]>e[2]&&(t[0]=e[2],t[2]=e[0]),e[1]>e[3]&&(t[1]=e[3],t[3]=e[1]),t}static intersect(e,t){const r=Math.max(Math.min(e[0],e[2]),Math.min(t[0],t[2])),i=Math.min(Math.max(e[0],e[2]),Math.max(t[0],t[2]));if(r>i)return null;const s=Math.max(Math.min(e[1],e[3]),Math.min(t[1],t[3])),o=Math.min(Math.max(e[1],e[3]),Math.max(t[1],t[3]));return s>o?null:[r,s,i,o]}static bezierBoundingBox(e,t,r,i,s,o,a,l,u){return u?(u[0]=Math.min(u[0],e,a),u[1]=Math.min(u[1],t,l),u[2]=Math.max(u[2],e,a),u[3]=Math.max(u[3],t,l)):u=[Math.min(e,a),Math.min(t,l),Math.max(e,a),Math.max(t,l)],A(this,ki,iv).call(this,e,r,s,a,t,i,o,l,3*(-e+3*(r-s)+a),6*(e-2*r+s),3*(r-e),u),A(this,ki,iv).call(this,e,r,s,a,t,i,o,l,3*(-t+3*(i-o)+l),6*(t-2*i+o),3*(i-t),u),u}}ki=new WeakSet,Af=function(e,t,r,i,s,o,a,l,u,d){if(u<=0||u>=1)return;const h=1-u,f=u*u,p=f*u,m=h*(h*(h*e+3*u*t)+3*f*r)+p*i,v=h*(h*(h*s+3*u*o)+3*f*a)+p*l;d[0]=Math.min(d[0],m),d[1]=Math.min(d[1],v),d[2]=Math.max(d[2],m),d[3]=Math.max(d[3],v)},iv=function(e,t,r,i,s,o,a,l,u,d,h,f){if(Math.abs(u)<1e-12){Math.abs(d)>=1e-12&&A(this,ki,Af).call(this,e,t,r,i,s,o,a,l,-h/d,f);return}const p=d**2-4*h*u;if(p<0)return;const m=Math.sqrt(p),v=2*u;A(this,ki,Af).call(this,e,t,r,i,s,o,a,l,(-d+m)/v,f),A(this,ki,Af).call(this,e,t,r,i,s,o,a,l,(-d-m)/v,f)},_(X,ki);function wD(n){return decodeURIComponent(escape(n))}let jg=null,Kw=null;function bD(n){return jg||(jg=/([\u00a0\u00b5\u037e\u0eb3\u2000-\u200a\u202f\u2126\ufb00-\ufb04\ufb06\ufb20-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufba1\ufba4-\ufba9\ufbae-\ufbb1\ufbd3-\ufbdc\ufbde-\ufbe7\ufbea-\ufbf8\ufbfc-\ufbfd\ufc00-\ufc5d\ufc64-\ufcf1\ufcf5-\ufd3d\ufd88\ufdf4\ufdfa-\ufdfb\ufe71\ufe77\ufe79\ufe7b\ufe7d]+)|(\ufb05+)/gu,Kw=new Map([["","t"]])),n.replaceAll(jg,(e,t,r)=>t?t.normalize("NFKC"):Kw.get(r))}function ED(){if(typeof crypto<"u"&&typeof(crypto==null?void 0:crypto.randomUUID)=="function")return crypto.randomUUID();const n=new Uint8Array(32);if(typeof crypto<"u"&&typeof(crypto==null?void 0:crypto.getRandomValues)=="function")crypto.getRandomValues(n);else for(let e=0;e<32;e++)n[e]=Math.floor(Math.random()*255);return a_(n)}const l_="pdfjs_internal_id_",Ur={BEZIER_CURVE_TO:0,MOVE_TO:1,LINE_TO:2,QUADRATIC_CURVE_TO:3,RESTORE:4,SAVE:5,SCALE:6,TRANSFORM:7,TRANSLATE:8};class Om{constructor(){this.constructor===Om&&xe("Cannot initialize BaseFilterFactory.")}addFilter(e){return"none"}addHCMFilter(e,t){return"none"}addAlphaFilter(e){return"none"}addLuminosityFilter(e){return"none"}addHighlightHCMFilter(e,t,r,i,s){return"none"}destroy(e=!1){}}class jm{constructor(){this.constructor===jm&&xe("Cannot initialize BaseCanvasFactory.")}create(e,t){if(e<=0||t<=0)throw new Error("Invalid canvas size");const r=this._createCanvas(e,t);return{canvas:r,context:r.getContext("2d")}}reset(e,t,r){if(!e.canvas)throw new Error("Canvas is not specified");if(t<=0||r<=0)throw new Error("Invalid canvas size");e.canvas.width=t,e.canvas.height=r}destroy(e){if(!e.canvas)throw new Error("Canvas is not specified");e.canvas.width=0,e.canvas.height=0,e.canvas=null,e.context=null}_createCanvas(e,t){xe("Abstract method `_createCanvas` called.")}}class $m{constructor({baseUrl:e=null,isCompressed:t=!0}){this.constructor===$m&&xe("Cannot initialize BaseCMapReaderFactory."),this.baseUrl=e,this.isCompressed=t}async fetch({name:e}){if(!this.baseUrl)throw new Error('The CMap "baseUrl" parameter must be specified, ensure that the "cMapUrl" and "cMapPacked" API parameters are provided.');if(!e)throw new Error("CMap name must be specified.");const t=this.baseUrl+e+(this.isCompressed?".bcmap":""),r=this.isCompressed?tv.BINARY:tv.NONE;return this._fetchData(t,r).catch(i=>{throw new Error(`Unable to load ${this.isCompressed?"binary ":""}CMap at: ${t}`)})}_fetchData(e,t){xe("Abstract method `_fetchData` called.")}}class Hm{constructor({baseUrl:e=null}){this.constructor===Hm&&xe("Cannot initialize BaseStandardFontDataFactory."),this.baseUrl=e}async fetch({filename:e}){if(!this.baseUrl)throw new Error('The standard font "baseUrl" parameter must be specified, ensure that the "standardFontDataUrl" API parameter is provided.');if(!e)throw new Error("Font filename must be specified.");const t=`${this.baseUrl}${e}`;return this._fetchData(t).catch(r=>{throw new Error(`Unable to load font data at: ${t}`)})}_fetchData(e){xe("Abstract method `_fetchData` called.")}}class F1{constructor(){this.constructor===F1&&xe("Cannot initialize BaseSVGFactory.")}create(e,t,r=!1){if(e<=0||t<=0)throw new Error("Invalid SVG dimensions");const i=this._createSVG("svg:svg");return i.setAttribute("version","1.1"),r||(i.setAttribute("width",`${e}px`),i.setAttribute("height",`${t}px`)),i.setAttribute("preserveAspectRatio","none"),i.setAttribute("viewBox",`0 0 ${e} ${t}`),i}createElement(e){if(typeof e!="string")throw new Error("Invalid SVG element type");return this._createSVG(e)}_createSVG(e){xe("Abstract method `_createSVG` called.")}}const Gr="http://www.w3.org/2000/svg",Ks=class Ks{};ee(Ks,"CSS",96),ee(Ks,"PDF",72),ee(Ks,"PDF_TO_CSS_UNITS",Ks.CSS/Ks.PDF);let Fs=Ks;var no,xr,Jr,Gt,Ip,ro,W,_t,ka,Pa,Sf,c_,sv,Ra,Ic,Oc,ov,jc;class AD extends Om{constructor({docId:t,ownerDocument:r=globalThis.document}={}){super();_(this,W);_(this,no);_(this,xr);_(this,Jr);_(this,Gt);_(this,Ip);_(this,ro,0);E(this,Jr,t),E(this,Gt,r)}addFilter(t){if(!t)return"none";let r=c(this,W,_t).get(t);if(r)return r;const[i,s,o]=A(this,W,Sf).call(this,t),a=t.length===1?i:`${i}${s}${o}`;if(r=c(this,W,_t).get(a),r)return c(this,W,_t).set(t,r),r;const l=`g_${c(this,Jr)}_transfer_map_${ln(this,ro)._++}`,u=`url(#${l})`;c(this,W,_t).set(t,u),c(this,W,_t).set(a,u);const d=A(this,W,Ra).call(this,l);return A(this,W,Oc).call(this,i,s,o,d),u}addHCMFilter(t,r){var m;const i=`${t}-${r}`,s="base";let o=c(this,W,ka).get(s);if((o==null?void 0:o.key)===i||(o?((m=o.filter)==null||m.remove(),o.key=i,o.url="none",o.filter=null):(o={key:i,url:"none",filter:null},c(this,W,ka).set(s,o)),!t||!r))return o.url;const a=A(this,W,jc).call(this,t);t=X.makeHexColor(...a);const l=A(this,W,jc).call(this,r);if(r=X.makeHexColor(...l),c(this,W,Pa).style.color="",t==="#000000"&&r==="#ffffff"||t===r)return o.url;const u=new Array(256);for(let v=0;v<=255;v++){const b=v/255;u[v]=b<=.03928?b/12.92:((b+.055)/1.055)**2.4}const d=u.join(","),h=`g_${c(this,Jr)}_hcm_filter`,f=o.filter=A(this,W,Ra).call(this,h);A(this,W,Oc).call(this,d,d,d,f),A(this,W,sv).call(this,f);const p=(v,b)=>{const g=a[v]/255,y=l[v]/255,x=new Array(b+1);for(let C=0;C<=b;C++)x[C]=g+C/b*(y-g);return x.join(",")};return A(this,W,Oc).call(this,p(0,5),p(1,5),p(2,5),f),o.url=`url(#${h})`,o.url}addAlphaFilter(t){let r=c(this,W,_t).get(t);if(r)return r;const[i]=A(this,W,Sf).call(this,[t]),s=`alpha_${i}`;if(r=c(this,W,_t).get(s),r)return c(this,W,_t).set(t,r),r;const o=`g_${c(this,Jr)}_alpha_map_${ln(this,ro)._++}`,a=`url(#${o})`;c(this,W,_t).set(t,a),c(this,W,_t).set(s,a);const l=A(this,W,Ra).call(this,o);return A(this,W,ov).call(this,i,l),a}addLuminosityFilter(t){let r=c(this,W,_t).get(t||"luminosity");if(r)return r;let i,s;if(t?([i]=A(this,W,Sf).call(this,[t]),s=`luminosity_${i}`):s="luminosity",r=c(this,W,_t).get(s),r)return c(this,W,_t).set(t,r),r;const o=`g_${c(this,Jr)}_luminosity_map_${ln(this,ro)._++}`,a=`url(#${o})`;c(this,W,_t).set(t,a),c(this,W,_t).set(s,a);const l=A(this,W,Ra).call(this,o);return A(this,W,c_).call(this,l),t&&A(this,W,ov).call(this,i,l),a}addHighlightHCMFilter(t,r,i,s,o){var y;const a=`${r}-${i}-${s}-${o}`;let l=c(this,W,ka).get(t);if((l==null?void 0:l.key)===a||(l?((y=l.filter)==null||y.remove(),l.key=a,l.url="none",l.filter=null):(l={key:a,url:"none",filter:null},c(this,W,ka).set(t,l)),!r||!i))return l.url;const[u,d]=[r,i].map(A(this,W,jc).bind(this));let h=Math.round(.2126*u[0]+.7152*u[1]+.0722*u[2]),f=Math.round(.2126*d[0]+.7152*d[1]+.0722*d[2]),[p,m]=[s,o].map(A(this,W,jc).bind(this));f<h&&([h,f,p,m]=[f,h,m,p]),c(this,W,Pa).style.color="";const v=(x,C,T)=>{const k=new Array(256),P=(f-h)/T,R=x/255,F=(C-x)/(255*T);let D=0;for(let N=0;N<=T;N++){const q=Math.round(h+N*P),U=R+N*F;for(let z=D;z<=q;z++)k[z]=U;D=q+1}for(let N=D;N<256;N++)k[N]=k[D-1];return k.join(",")},b=`g_${c(this,Jr)}_hcm_${t}_filter`,g=l.filter=A(this,W,Ra).call(this,b);return A(this,W,sv).call(this,g),A(this,W,Oc).call(this,v(p[0],m[0],5),v(p[1],m[1],5),v(p[2],m[2],5),g),l.url=`url(#${b})`,l.url}destroy(t=!1){t&&c(this,W,ka).size!==0||(c(this,xr)&&(c(this,xr).parentNode.parentNode.remove(),E(this,xr,null)),c(this,no)&&(c(this,no).clear(),E(this,no,null)),E(this,ro,0))}}no=new WeakMap,xr=new WeakMap,Jr=new WeakMap,Gt=new WeakMap,Ip=new WeakMap,ro=new WeakMap,W=new WeakSet,_t=function(){return c(this,no)||E(this,no,new Map)},ka=function(){return c(this,Ip)||E(this,Ip,new Map)},Pa=function(){if(!c(this,xr)){const t=c(this,Gt).createElement("div"),{style:r}=t;r.visibility="hidden",r.contain="strict",r.width=r.height=0,r.position="absolute",r.top=r.left=0,r.zIndex=-1;const i=c(this,Gt).createElementNS(Gr,"svg");i.setAttribute("width",0),i.setAttribute("height",0),E(this,xr,c(this,Gt).createElementNS(Gr,"defs")),t.append(i),i.append(c(this,xr)),c(this,Gt).body.append(t)}return c(this,xr)},Sf=function(t){if(t.length===1){const u=t[0],d=new Array(256);for(let f=0;f<256;f++)d[f]=u[f]/255;const h=d.join(",");return[h,h,h]}const[r,i,s]=t,o=new Array(256),a=new Array(256),l=new Array(256);for(let u=0;u<256;u++)o[u]=r[u]/255,a[u]=i[u]/255,l[u]=s[u]/255;return[o.join(","),a.join(","),l.join(",")]},c_=function(t){const r=c(this,Gt).createElementNS(Gr,"feColorMatrix");r.setAttribute("type","matrix"),r.setAttribute("values","0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.3 0.59 0.11 0 0"),t.append(r)},sv=function(t){const r=c(this,Gt).createElementNS(Gr,"feColorMatrix");r.setAttribute("type","matrix"),r.setAttribute("values","0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0 0 0 1 0"),t.append(r)},Ra=function(t){const r=c(this,Gt).createElementNS(Gr,"filter");return r.setAttribute("color-interpolation-filters","sRGB"),r.setAttribute("id",t),c(this,W,Pa).append(r),r},Ic=function(t,r,i){const s=c(this,Gt).createElementNS(Gr,r);s.setAttribute("type","discrete"),s.setAttribute("tableValues",i),t.append(s)},Oc=function(t,r,i,s){const o=c(this,Gt).createElementNS(Gr,"feComponentTransfer");s.append(o),A(this,W,Ic).call(this,o,"feFuncR",t),A(this,W,Ic).call(this,o,"feFuncG",r),A(this,W,Ic).call(this,o,"feFuncB",i)},ov=function(t,r){const i=c(this,Gt).createElementNS(Gr,"feComponentTransfer");r.append(i),A(this,W,Ic).call(this,i,"feFuncA",t)},jc=function(t){return c(this,W,Pa).style.color=t,H1(getComputedStyle(c(this,W,Pa)).getPropertyValue("color"))};class SD extends jm{constructor({ownerDocument:e=globalThis.document}={}){super(),this._document=e}_createCanvas(e,t){const r=this._document.createElement("canvas");return r.width=e,r.height=t,r}}async function Bm(n,e="text"){if($c(n,document.baseURI)){const t=await fetch(n);if(!t.ok)throw new Error(t.statusText);switch(e){case"arraybuffer":return t.arrayBuffer();case"blob":return t.blob();case"json":return t.json()}return t.text()}return new Promise((t,r)=>{const i=new XMLHttpRequest;i.open("GET",n,!0),i.responseType=e,i.onreadystatechange=()=>{if(i.readyState===XMLHttpRequest.DONE){if(i.status===200||i.status===0){switch(e){case"arraybuffer":case"blob":case"json":t(i.response);return}t(i.responseText);return}r(new Error(i.statusText))}},i.send(null)})}class u_ extends $m{_fetchData(e,t){return Bm(e,this.isCompressed?"arraybuffer":"text").then(r=>({cMapData:r instanceof ArrayBuffer?new Uint8Array(r):Im(r),compressionType:t}))}}class d_ extends Hm{_fetchData(e){return Bm(e,"arraybuffer").then(t=>new Uint8Array(t))}}class I1 extends F1{_createSVG(e){return document.createElementNS(Gr,e)}}class Th{constructor({viewBox:e,scale:t,rotation:r,offsetX:i=0,offsetY:s=0,dontFlip:o=!1}){this.viewBox=e,this.scale=t,this.rotation=r,this.offsetX=i,this.offsetY=s;const a=(e[2]+e[0])/2,l=(e[3]+e[1])/2;let u,d,h,f;switch(r%=360,r<0&&(r+=360),r){case 180:u=-1,d=0,h=0,f=1;break;case 90:u=0,d=1,h=1,f=0;break;case 270:u=0,d=-1,h=-1,f=0;break;case 0:u=1,d=0,h=0,f=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}o&&(h=-h,f=-f);let p,m,v,b;u===0?(p=Math.abs(l-e[1])*t+i,m=Math.abs(a-e[0])*t+s,v=(e[3]-e[1])*t,b=(e[2]-e[0])*t):(p=Math.abs(a-e[0])*t+i,m=Math.abs(l-e[1])*t+s,v=(e[2]-e[0])*t,b=(e[3]-e[1])*t),this.transform=[u*t,d*t,h*t,f*t,p-u*t*a-h*t*l,m-d*t*a-f*t*l],this.width=v,this.height=b}get rawDims(){const{viewBox:e}=this;return ue(this,"rawDims",{pageWidth:e[2]-e[0],pageHeight:e[3]-e[1],pageX:e[0],pageY:e[1]})}clone({scale:e=this.scale,rotation:t=this.rotation,offsetX:r=this.offsetX,offsetY:i=this.offsetY,dontFlip:s=!1}={}){return new Th({viewBox:this.viewBox.slice(),scale:e,rotation:t,offsetX:r,offsetY:i,dontFlip:s})}convertToViewportPoint(e,t){return X.applyTransform([e,t],this.transform)}convertToViewportRectangle(e){const t=X.applyTransform([e[0],e[1]],this.transform),r=X.applyTransform([e[2],e[3]],this.transform);return[t[0],t[1],r[0],r[1]]}convertToPdfPoint(e,t){return X.applyInverseTransform([e,t],this.transform)}}class O1 extends Bs{constructor(e,t=0){super(e,"RenderingCancelledException"),this.extraDelay=t}}function j1(n){const e=n.length;let t=0;for(;t<e&&n[t].trim()==="";)t++;return n.substring(t,t+5).toLowerCase()==="data:"}function $1(n){return typeof n=="string"&&/\.pdf$/i.test(n)}function _D(n){return[n]=n.split(/[#?]/,1),n.substring(n.lastIndexOf("/")+1)}function CD(n,e="document.pdf"){if(typeof n!="string")return e;if(j1(n))return re('getPdfFilenameFromUrl: ignore "data:"-URL for performance reasons.'),e;const t=/^(?:(?:[^:]+:)?\/\/[^/]+)?([^?#]*)(\?[^#]*)?(#.*)?$/,r=/[^/?#=]+\.pdf\b(?!.*\.pdf\b)/i,i=t.exec(n);let s=r.exec(i[1])||r.exec(i[2])||r.exec(i[3]);if(s&&(s=s[0],s.includes("%")))try{s=r.exec(decodeURIComponent(s))[0]}catch{}return s||e}class Yw{constructor(){ee(this,"started",Object.create(null));ee(this,"times",[])}time(e){e in this.started&&re(`Timer is already running for ${e}`),this.started[e]=Date.now()}timeEnd(e){e in this.started||re(`Timer has not been started for ${e}`),this.times.push({name:e,start:this.started[e],end:Date.now()}),delete this.started[e]}toString(){const e=[];let t=0;for(const{name:r}of this.times)t=Math.max(r.length,t);for(const{name:r,start:i,end:s}of this.times)e.push(`${r.padEnd(t)} ${s-i}ms
`);return e.join("")}}function $c(n,e){try{const{protocol:t}=e?new URL(n,e):new URL(n);return t==="http:"||t==="https:"}catch{return!1}}function on(n){n.preventDefault()}function h_(n){console.log("Deprecated API usage: "+n)}let Qw;class f_{static toDateObject(e){if(!e||typeof e!="string")return null;Qw||(Qw=new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?"));const t=Qw.exec(e);if(!t)return null;const r=parseInt(t[1],10);let i=parseInt(t[2],10);i=i>=1&&i<=12?i-1:0;let s=parseInt(t[3],10);s=s>=1&&s<=31?s:1;let o=parseInt(t[4],10);o=o>=0&&o<=23?o:0;let a=parseInt(t[5],10);a=a>=0&&a<=59?a:0;let l=parseInt(t[6],10);l=l>=0&&l<=59?l:0;const u=t[7]||"Z";let d=parseInt(t[8],10);d=d>=0&&d<=23?d:0;let h=parseInt(t[9],10)||0;return h=h>=0&&h<=59?h:0,u==="-"?(o+=d,a+=h):u==="+"&&(o-=d,a-=h),new Date(Date.UTC(r,i,s,o,a,l))}}function TD(n,{scale:e=1,rotation:t=0}){const{width:r,height:i}=n.attributes.style,s=[0,0,parseInt(r),parseInt(i)];return new Th({viewBox:s,scale:e,rotation:t})}function H1(n){if(n.startsWith("#")){const e=parseInt(n.slice(1),16);return[(e&16711680)>>16,(e&65280)>>8,e&255]}return n.startsWith("rgb(")?n.slice(4,-1).split(",").map(e=>parseInt(e)):n.startsWith("rgba(")?n.slice(5,-1).split(",").map(e=>parseInt(e)).slice(0,3):(re(`Not a valid color format: "${n}"`),[0,0,0])}function kD(n){const e=document.createElement("span");e.style.visibility="hidden",document.body.append(e);for(const t of n.keys()){e.style.color=t;const r=window.getComputedStyle(e).color;n.set(t,H1(r))}e.remove()}function Ne(n){const{a:e,b:t,c:r,d:i,e:s,f:o}=n.getTransform();return[e,t,r,i,s,o]}function Vr(n){const{a:e,b:t,c:r,d:i,e:s,f:o}=n.getTransform().invertSelf();return[e,t,r,i,s,o]}function ha(n,e,t=!1,r=!0){if(e instanceof Th){const{pageWidth:i,pageHeight:s}=e.rawDims,{style:o}=n,a=Jt.isCSSRoundSupported,l=`var(--scale-factor) * ${i}px`,u=`var(--scale-factor) * ${s}px`,d=a?`round(${l}, 1px)`:`calc(${l})`,h=a?`round(${u}, 1px)`:`calc(${u})`;!t||e.rotation%180===0?(o.width=d,o.height=h):(o.width=h,o.height=d)}r&&n.setAttribute("data-main-rotation",e.rotation)}var io,so,wr,oo,Op,p_,Bt,m_,g_,_f,v_,lv;const jp=class jp{constructor(e){_(this,Bt);_(this,io,null);_(this,so,null);_(this,wr);_(this,oo,null);E(this,wr,e)}render(){const e=E(this,io,document.createElement("div"));e.className="editToolbar",e.setAttribute("role","toolbar"),e.addEventListener("contextmenu",on),e.addEventListener("pointerdown",A(jp,Op,p_));const t=E(this,oo,document.createElement("div"));t.className="buttons",e.append(t);const r=c(this,wr).toolbarPosition;if(r){const{style:i}=e,s=c(this,wr)._uiManager.direction==="ltr"?1-r[0]:r[0];i.insetInlineEnd=`${100*s}%`,i.top=`calc(${100*r[1]}% + var(--editor-toolbar-vert-offset))`}return A(this,Bt,v_).call(this),e}hide(){var e;c(this,io).classList.add("hidden"),(e=c(this,so))==null||e.hideDropdown()}show(){c(this,io).classList.remove("hidden")}addAltTextButton(e){A(this,Bt,_f).call(this,e),c(this,oo).prepend(e,c(this,Bt,lv))}addColorPicker(e){E(this,so,e);const t=e.renderButton();A(this,Bt,_f).call(this,t),c(this,oo).prepend(t,c(this,Bt,lv))}remove(){var e;c(this,io).remove(),(e=c(this,so))==null||e.destroy(),E(this,so,null)}};io=new WeakMap,so=new WeakMap,wr=new WeakMap,oo=new WeakMap,Op=new WeakSet,p_=function(e){e.stopPropagation()},Bt=new WeakSet,m_=function(e){c(this,wr)._focusEventsAllowed=!1,e.preventDefault(),e.stopPropagation()},g_=function(e){c(this,wr)._focusEventsAllowed=!0,e.preventDefault(),e.stopPropagation()},_f=function(e){e.addEventListener("focusin",A(this,Bt,m_).bind(this),{capture:!0}),e.addEventListener("focusout",A(this,Bt,g_).bind(this),{capture:!0}),e.addEventListener("contextmenu",on)},v_=function(){const e=document.createElement("button");e.className="delete",e.tabIndex=0,e.setAttribute("data-l10n-id",`pdfjs-editor-remove-${c(this,wr).editorType}-button`),A(this,Bt,_f).call(this,e),e.addEventListener("click",t=>{c(this,wr)._uiManager.delete()}),c(this,oo).append(e)},lv=function(){const e=document.createElement("div");return e.className="divider",e},_(jp,Op);let av=jp;var Du,ao,Fu,Is,y_,x_,w_;class PD{constructor(e){_(this,Is);_(this,Du,null);_(this,ao,null);_(this,Fu);E(this,Fu,e)}show(e,t,r){const[i,s]=A(this,Is,x_).call(this,t,r),{style:o}=c(this,ao)||E(this,ao,A(this,Is,y_).call(this));e.append(c(this,ao)),o.insetInlineEnd=`${100*i}%`,o.top=`calc(${100*s}% + var(--editor-toolbar-vert-offset))`}hide(){c(this,ao).remove()}}Du=new WeakMap,ao=new WeakMap,Fu=new WeakMap,Is=new WeakSet,y_=function(){const e=E(this,ao,document.createElement("div"));e.className="editToolbar",e.setAttribute("role","toolbar"),e.addEventListener("contextmenu",on);const t=E(this,Du,document.createElement("div"));return t.className="buttons",e.append(t),A(this,Is,w_).call(this),e},x_=function(e,t){let r=0,i=0;for(const s of e){const o=s.y+s.height;if(o<r)continue;const a=s.x+(t?s.width:0);if(o>r){i=a,r=o;continue}t?a>i&&(i=a):a<i&&(i=a)}return[t?1-i:i,r]},w_=function(){const e=document.createElement("button");e.className="highlightButton",e.tabIndex=0,e.setAttribute("data-l10n-id","pdfjs-highlight-floating-button1");const t=document.createElement("span");e.append(t),t.className="visuallyHidden",t.setAttribute("data-l10n-id","pdfjs-highlight-floating-button-label"),e.addEventListener("contextmenu",on),e.addEventListener("click",()=>{c(this,Fu).highlightSelection("floating_button")}),c(this,Du).append(e)};function Pp(n,e,t){for(const r of t)e.addEventListener(r,n[r].bind(n))}function RD(n){return Math.round(Math.min(255,Math.max(1,255*n))).toString(16).padStart(2,"0")}var $p;class LD{constructor(){_(this,$p,0)}get id(){return`${cD}${ln(this,$p)._++}`}}$p=new WeakMap;var Iu,Hp,Tn,Ou,uv;const V1=class V1{constructor(){_(this,Ou);_(this,Iu,ED());_(this,Hp,0);_(this,Tn,null)}static get _isSVGFittingCanvas(){const e='data:image/svg+xml;charset=UTF-8,<svg viewBox="0 0 1 1" width="1" height="1" xmlns="http://www.w3.org/2000/svg"><rect width="1" height="1" style="fill:red;"/></svg>',r=new OffscreenCanvas(1,3).getContext("2d"),i=new Image;i.src=e;const s=i.decode().then(()=>(r.drawImage(i,0,0,1,1,0,0,1,3),new Uint32Array(r.getImageData(0,0,1,1).data.buffer)[0]===0));return ue(this,"_isSVGFittingCanvas",s)}async getFromFile(e){const{lastModified:t,name:r,size:i,type:s}=e;return A(this,Ou,uv).call(this,`${t}_${r}_${i}_${s}`,e)}async getFromUrl(e){return A(this,Ou,uv).call(this,e,e)}async getFromId(e){c(this,Tn)||E(this,Tn,new Map);const t=c(this,Tn).get(e);return t?t.bitmap?(t.refCounter+=1,t):t.file?this.getFromFile(t.file):this.getFromUrl(t.url):null}getSvgUrl(e){const t=c(this,Tn).get(e);return t!=null&&t.isSvg?t.svgUrl:null}deleteId(e){c(this,Tn)||E(this,Tn,new Map);const t=c(this,Tn).get(e);t&&(t.refCounter-=1,t.refCounter===0&&(t.bitmap=null))}isValidId(e){return e.startsWith(`image_${c(this,Iu)}_`)}};Iu=new WeakMap,Hp=new WeakMap,Tn=new WeakMap,Ou=new WeakSet,uv=async function(e,t){c(this,Tn)||E(this,Tn,new Map);let r=c(this,Tn).get(e);if(r===null)return null;if(r!=null&&r.bitmap)return r.refCounter+=1,r;try{r||(r={bitmap:null,id:`image_${c(this,Iu)}_${ln(this,Hp)._++}`,refCounter:0,isSvg:!1});let i;if(typeof t=="string"?(r.url=t,i=await Bm(t,"blob")):i=r.file=t,i.type==="image/svg+xml"){const s=V1._isSVGFittingCanvas,o=new FileReader,a=new Image,l=new Promise((u,d)=>{a.onload=()=>{r.bitmap=a,r.isSvg=!0,u()},o.onload=async()=>{const h=r.svgUrl=o.result;a.src=await s?`${h}#svgView(preserveAspectRatio(none))`:h},a.onerror=o.onerror=d});o.readAsDataURL(i),await l}else r.bitmap=await createImageBitmap(i);r.refCounter=1}catch(i){console.error(i),r=null}return c(this,Tn).set(e,r),r&&c(this,Tn).set(r.id,r),r};let cv=V1;var ot,Qi,ju,at;class MD{constructor(e=128){_(this,ot,[]);_(this,Qi,!1);_(this,ju);_(this,at,-1);E(this,ju,e)}add({cmd:e,undo:t,post:r,mustExec:i,type:s=NaN,overwriteIfSameType:o=!1,keepUndo:a=!1}){if(i&&e(),c(this,Qi))return;const l={cmd:e,undo:t,post:r,type:s};if(c(this,at)===-1){c(this,ot).length>0&&(c(this,ot).length=0),E(this,at,0),c(this,ot).push(l);return}if(o&&c(this,ot)[c(this,at)].type===s){a&&(l.undo=c(this,ot)[c(this,at)].undo),c(this,ot)[c(this,at)]=l;return}const u=c(this,at)+1;u===c(this,ju)?c(this,ot).splice(0,1):(E(this,at,u),u<c(this,ot).length&&c(this,ot).splice(u)),c(this,ot).push(l)}undo(){if(c(this,at)===-1)return;E(this,Qi,!0);const{undo:e,post:t}=c(this,ot)[c(this,at)];e(),t==null||t(),E(this,Qi,!1),E(this,at,c(this,at)-1)}redo(){if(c(this,at)<c(this,ot).length-1){E(this,at,c(this,at)+1),E(this,Qi,!0);const{cmd:e,post:t}=c(this,ot)[c(this,at)];e(),t==null||t(),E(this,Qi,!1)}}hasSomethingToUndo(){return c(this,at)!==-1}hasSomethingToRedo(){return c(this,at)<c(this,ot).length-1}destroy(){E(this,ot,null)}}ot=new WeakMap,Qi=new WeakMap,ju=new WeakMap,at=new WeakMap;var Bp,b_;class kh{constructor(e){_(this,Bp);this.buffer=[],this.callbacks=new Map,this.allKeys=new Set;const{isMac:t}=Jt.platform;for(const[r,i,s={}]of e)for(const o of r){const a=o.startsWith("mac+");t&&a?(this.callbacks.set(o.slice(4),{callback:i,options:s}),this.allKeys.add(o.split("+").at(-1))):!t&&!a&&(this.callbacks.set(o,{callback:i,options:s}),this.allKeys.add(o.split("+").at(-1)))}}exec(e,t){if(!this.allKeys.has(t.key))return;const r=this.callbacks.get(A(this,Bp,b_).call(this,t));if(!r)return;const{callback:i,options:{bubbles:s=!1,args:o=[],checker:a=null}}=r;a&&!a(e,t)||(i.bind(e,...o,t)(),s||(t.stopPropagation(),t.preventDefault()))}}Bp=new WeakSet,b_=function(e){e.altKey&&this.buffer.push("alt"),e.ctrlKey&&this.buffer.push("ctrl"),e.metaKey&&this.buffer.push("meta"),e.shiftKey&&this.buffer.push("shift"),this.buffer.push(e.key);const t=this.buffer.join("+");return this.buffer.length=0,t};const zp=class zp{get _colors(){const e=new Map([["CanvasText",null],["Canvas",null]]);return kD(e),ue(this,"_colors",e)}convert(e){const t=H1(e);if(!window.matchMedia("(forced-colors: active)").matches)return t;for(const[r,i]of this._colors)if(i.every((s,o)=>s===t[o]))return zp._colorsMapping.get(r);return t}getHexCode(e){const t=this._colors.get(e);return t?X.makeHexColor(...t):e}};ee(zp,"_colorsMapping",new Map([["CanvasText",[0,0,0]],["Canvas",[255,255,255]]]));let dv=zp;var dn,Qe,dt,il,ei,sl,Yn,ol,lo,br,ti,co,$u,Hu,Er,al,Zi,Ar,Up,Ji,Bu,uo,zu,ll,ht,me,ni,ho,Uu,Vu,Wu,Gu,qu,Xu,Ku,Yu,Qu,Zu,Ju,ed,td,nd,es,Sr,ri,rd,H,Cf,E_,A_,Tf,S_,__,C_,hv,fv,pv,mv,gv,Dt,Ui,T_,k_,vv,P_,Hc,yv;const Ga=class Ga{constructor(e,t,r,i,s,o,a,l,u){_(this,H);_(this,dn,null);_(this,Qe,new Map);_(this,dt,new Map);_(this,il,null);_(this,ei,null);_(this,sl,null);_(this,Yn,new MD);_(this,ol,0);_(this,lo,new Set);_(this,br,null);_(this,ti,null);_(this,co,new Set);_(this,$u,!1);_(this,Hu,null);_(this,Er,null);_(this,al,null);_(this,Zi,!1);_(this,Ar,null);_(this,Up,new LD);_(this,Ji,!1);_(this,Bu,!1);_(this,uo,null);_(this,zu,null);_(this,ll,null);_(this,ht,ce.NONE);_(this,me,new Set);_(this,ni,null);_(this,ho,null);_(this,Uu,null);_(this,Vu,this.blur.bind(this));_(this,Wu,this.focus.bind(this));_(this,Gu,this.copy.bind(this));_(this,qu,this.cut.bind(this));_(this,Xu,this.paste.bind(this));_(this,Ku,this.keydown.bind(this));_(this,Yu,this.keyup.bind(this));_(this,Qu,this.onEditingAction.bind(this));_(this,Zu,this.onPageChanging.bind(this));_(this,Ju,this.onScaleChanging.bind(this));_(this,ed,A(this,H,A_).bind(this));_(this,td,this.onRotationChanging.bind(this));_(this,nd,{isEditing:!1,isEmpty:!0,hasSomethingToUndo:!1,hasSomethingToRedo:!1,hasSelectedEditor:!1,hasSelectedText:!1});_(this,es,[0,0]);_(this,Sr,null);_(this,ri,null);_(this,rd,null);E(this,ri,e),E(this,rd,t),E(this,il,r),this._eventBus=i,this._eventBus._on("editingaction",c(this,Qu)),this._eventBus._on("pagechanging",c(this,Zu)),this._eventBus._on("scalechanging",c(this,Ju)),this._eventBus._on("rotationchanging",c(this,td)),A(this,H,S_).call(this),A(this,H,fv).call(this),E(this,ei,s.annotationStorage),E(this,Hu,s.filterFactory),E(this,ho,o),E(this,al,a||null),E(this,$u,l),E(this,ll,u||null),this.viewParameters={realScale:Fs.PDF_TO_CSS_UNITS,rotation:0},this.isShiftKeyDown=!1}static get _keyboardManager(){const e=Ga.prototype,t=o=>c(o,ri).contains(document.activeElement)&&document.activeElement.tagName!=="BUTTON"&&o.hasSomethingToControl(),r=(o,{target:a})=>{if(a instanceof HTMLInputElement){const{type:l}=a;return l!=="text"&&l!=="number"}return!0},i=this.TRANSLATE_SMALL,s=this.TRANSLATE_BIG;return ue(this,"_keyboardManager",new kh([[["ctrl+a","mac+meta+a"],e.selectAll,{checker:r}],[["ctrl+z","mac+meta+z"],e.undo,{checker:r}],[["ctrl+y","ctrl+shift+z","mac+meta+shift+z","ctrl+shift+Z","mac+meta+shift+Z"],e.redo,{checker:r}],[["Backspace","alt+Backspace","ctrl+Backspace","shift+Backspace","mac+Backspace","mac+alt+Backspace","mac+ctrl+Backspace","Delete","ctrl+Delete","shift+Delete","mac+Delete"],e.delete,{checker:r}],[["Enter","mac+Enter"],e.addNewEditorFromKeyboard,{checker:(o,{target:a})=>!(a instanceof HTMLButtonElement)&&c(o,ri).contains(a)&&!o.isEnterHandled}],[[" ","mac+ "],e.addNewEditorFromKeyboard,{checker:(o,{target:a})=>!(a instanceof HTMLButtonElement)&&c(o,ri).contains(document.activeElement)}],[["Escape","mac+Escape"],e.unselectAll],[["ArrowLeft","mac+ArrowLeft"],e.translateSelectedEditors,{args:[-i,0],checker:t}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],e.translateSelectedEditors,{args:[-s,0],checker:t}],[["ArrowRight","mac+ArrowRight"],e.translateSelectedEditors,{args:[i,0],checker:t}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],e.translateSelectedEditors,{args:[s,0],checker:t}],[["ArrowUp","mac+ArrowUp"],e.translateSelectedEditors,{args:[0,-i],checker:t}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],e.translateSelectedEditors,{args:[0,-s],checker:t}],[["ArrowDown","mac+ArrowDown"],e.translateSelectedEditors,{args:[0,i],checker:t}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],e.translateSelectedEditors,{args:[0,s],checker:t}]]))}destroy(){var e,t;A(this,H,pv).call(this),A(this,H,hv).call(this),this._eventBus._off("editingaction",c(this,Qu)),this._eventBus._off("pagechanging",c(this,Zu)),this._eventBus._off("scalechanging",c(this,Ju)),this._eventBus._off("rotationchanging",c(this,td));for(const r of c(this,dt).values())r.destroy();c(this,dt).clear(),c(this,Qe).clear(),c(this,co).clear(),E(this,dn,null),c(this,me).clear(),c(this,Yn).destroy(),(e=c(this,il))==null||e.destroy(),(t=c(this,Ar))==null||t.hide(),E(this,Ar,null),c(this,Er)&&(clearTimeout(c(this,Er)),E(this,Er,null)),c(this,Sr)&&(clearTimeout(c(this,Sr)),E(this,Sr,null)),A(this,H,__).call(this)}async mlGuess(e){var t;return((t=c(this,ll))==null?void 0:t.guess(e))||null}get hasMLManager(){return!!c(this,ll)}get hcmFilter(){return ue(this,"hcmFilter",c(this,ho)?c(this,Hu).addHCMFilter(c(this,ho).foreground,c(this,ho).background):"none")}get direction(){return ue(this,"direction",getComputedStyle(c(this,ri)).direction)}get highlightColors(){return ue(this,"highlightColors",c(this,al)?new Map(c(this,al).split(",").map(e=>e.split("=").map(t=>t.trim()))):null)}get highlightColorNames(){return ue(this,"highlightColorNames",this.highlightColors?new Map(Array.from(this.highlightColors,e=>e.reverse())):null)}setMainHighlightColorPicker(e){E(this,zu,e)}editAltText(e){var t;(t=c(this,il))==null||t.editAltText(this,e)}onPageChanging({pageNumber:e}){E(this,ol,e-1)}focusMainContainer(){c(this,ri).focus()}findParent(e,t){for(const r of c(this,dt).values()){const{x:i,y:s,width:o,height:a}=r.div.getBoundingClientRect();if(e>=i&&e<=i+o&&t>=s&&t<=s+a)return r}return null}disableUserSelect(e=!1){c(this,rd).classList.toggle("noUserSelect",e)}addShouldRescale(e){c(this,co).add(e)}removeShouldRescale(e){c(this,co).delete(e)}onScaleChanging({scale:e}){this.commitOrRemove(),this.viewParameters.realScale=e*Fs.PDF_TO_CSS_UNITS;for(const t of c(this,co))t.onScaleChanging()}onRotationChanging({pagesRotation:e}){this.commitOrRemove(),this.viewParameters.rotation=e}highlightSelection(e=""){const t=document.getSelection();if(!t||t.isCollapsed)return;const{anchorNode:r,anchorOffset:i,focusNode:s,focusOffset:o}=t,a=t.toString(),u=A(this,H,Cf).call(this,t).closest(".textLayer"),d=this.getSelectionBoxes(u);if(d){t.empty(),c(this,ht)===ce.NONE&&(this._eventBus.dispatch("showannotationeditorui",{source:this,mode:ce.HIGHLIGHT}),this.showAllEditors("highlight",!0,!0));for(const h of c(this,dt).values())if(h.hasTextLayer(u)){h.createAndAddNewEditor({x:0,y:0},!1,{methodOfCreation:e,boxes:d,anchorNode:r,anchorOffset:i,focusNode:s,focusOffset:o,text:a});break}}}addToAnnotationStorage(e){!e.isEmpty()&&c(this,ei)&&!c(this,ei).has(e.id)&&c(this,ei).setValue(e.id,e)}blur(){if(this.isShiftKeyDown=!1,c(this,Zi)&&(E(this,Zi,!1),A(this,H,Tf).call(this,"main_toolbar")),!this.hasSelection)return;const{activeElement:e}=document;for(const t of c(this,me))if(t.div.contains(e)){E(this,uo,[t,e]),t._focusEventsAllowed=!1;break}}focus(){if(!c(this,uo))return;const[e,t]=c(this,uo);E(this,uo,null),t.addEventListener("focusin",()=>{e._focusEventsAllowed=!0},{once:!0}),t.focus()}addEditListeners(){A(this,H,fv).call(this),A(this,H,mv).call(this)}removeEditListeners(){A(this,H,pv).call(this),A(this,H,gv).call(this)}copy(e){var r;if(e.preventDefault(),(r=c(this,dn))==null||r.commitOrRemove(),!this.hasSelection)return;const t=[];for(const i of c(this,me)){const s=i.serialize(!0);s&&t.push(s)}t.length!==0&&e.clipboardData.setData("application/pdfjs",JSON.stringify(t))}cut(e){this.copy(e),this.delete()}paste(e){e.preventDefault();const{clipboardData:t}=e;for(const s of t.items)for(const o of c(this,ti))if(o.isHandlingMimeForPasting(s.type)){o.paste(s,this.currentLayer);return}let r=t.getData("application/pdfjs");if(!r)return;try{r=JSON.parse(r)}catch(s){re(`paste: "${s.message}".`);return}if(!Array.isArray(r))return;this.unselectAll();const i=this.currentLayer;try{const s=[];for(const l of r){const u=i.deserialize(l);if(!u)return;s.push(u)}const o=()=>{for(const l of s)A(this,H,vv).call(this,l);A(this,H,yv).call(this,s)},a=()=>{for(const l of s)l.remove()};this.addCommands({cmd:o,undo:a,mustExec:!0})}catch(s){re(`paste: "${s.message}".`)}}keydown(e){!this.isShiftKeyDown&&e.key==="Shift"&&(this.isShiftKeyDown=!0),c(this,ht)!==ce.NONE&&!this.isEditorHandlingKeyboard&&Ga._keyboardManager.exec(this,e)}keyup(e){this.isShiftKeyDown&&e.key==="Shift"&&(this.isShiftKeyDown=!1,c(this,Zi)&&(E(this,Zi,!1),A(this,H,Tf).call(this,"main_toolbar")))}onEditingAction({name:e}){switch(e){case"undo":case"redo":case"delete":case"selectAll":this[e]();break;case"highlightSelection":this.highlightSelection("context_menu");break}}setEditingState(e){e?(A(this,H,C_).call(this),A(this,H,mv).call(this),A(this,H,Dt).call(this,{isEditing:c(this,ht)!==ce.NONE,isEmpty:A(this,H,Hc).call(this),hasSomethingToUndo:c(this,Yn).hasSomethingToUndo(),hasSomethingToRedo:c(this,Yn).hasSomethingToRedo(),hasSelectedEditor:!1})):(A(this,H,hv).call(this),A(this,H,gv).call(this),A(this,H,Dt).call(this,{isEditing:!1}),this.disableUserSelect(!1))}registerEditorTypes(e){if(!c(this,ti)){E(this,ti,e);for(const t of c(this,ti))A(this,H,Ui).call(this,t.defaultPropertiesToUpdate)}}getId(){return c(this,Up).id}get currentLayer(){return c(this,dt).get(c(this,ol))}getLayer(e){return c(this,dt).get(e)}get currentPageIndex(){return c(this,ol)}addLayer(e){c(this,dt).set(e.pageIndex,e),c(this,Ji)?e.enable():e.disable()}removeLayer(e){c(this,dt).delete(e.pageIndex)}updateMode(e,t=null,r=!1){if(c(this,ht)!==e){if(E(this,ht,e),e===ce.NONE){this.setEditingState(!1),A(this,H,k_).call(this);return}this.setEditingState(!0),A(this,H,T_).call(this),this.unselectAll();for(const i of c(this,dt).values())i.updateMode(e);if(!t&&r){this.addNewEditorFromKeyboard();return}if(t){for(const i of c(this,Qe).values())if(i.annotationElementId===t){this.setSelected(i),i.enterInEditMode();break}}}}addNewEditorFromKeyboard(){this.currentLayer.canCreateNewEmptyEditor()&&this.currentLayer.addNewEditor()}updateToolbar(e){e!==c(this,ht)&&this._eventBus.dispatch("switchannotationeditormode",{source:this,mode:e})}updateParams(e,t){var r;if(c(this,ti)){switch(e){case Z.CREATE:this.currentLayer.addNewEditor();return;case Z.HIGHLIGHT_DEFAULT_COLOR:(r=c(this,zu))==null||r.updateColor(t);break;case Z.HIGHLIGHT_SHOW_ALL:this._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:{type:"highlight",action:"toggle_visibility"}}}),(c(this,Uu)||E(this,Uu,new Map)).set(e,t),this.showAllEditors("highlight",t);break}for(const i of c(this,me))i.updateParams(e,t);for(const i of c(this,ti))i.updateDefaultParams(e,t)}}showAllEditors(e,t,r=!1){var s;for(const o of c(this,Qe).values())o.editorType===e&&o.show(t);(((s=c(this,Uu))==null?void 0:s.get(Z.HIGHLIGHT_SHOW_ALL))??!0)!==t&&A(this,H,Ui).call(this,[[Z.HIGHLIGHT_SHOW_ALL,t]])}enableWaiting(e=!1){if(c(this,Bu)!==e){E(this,Bu,e);for(const t of c(this,dt).values())e?t.disableClick():t.enableClick(),t.div.classList.toggle("waiting",e)}}getEditors(e){const t=[];for(const r of c(this,Qe).values())r.pageIndex===e&&t.push(r);return t}getEditor(e){return c(this,Qe).get(e)}addEditor(e){c(this,Qe).set(e.id,e)}removeEditor(e){var t;e.div.contains(document.activeElement)&&(c(this,Er)&&clearTimeout(c(this,Er)),E(this,Er,setTimeout(()=>{this.focusMainContainer(),E(this,Er,null)},0))),c(this,Qe).delete(e.id),this.unselect(e),(!e.annotationElementId||!c(this,lo).has(e.annotationElementId))&&((t=c(this,ei))==null||t.remove(e.id))}addDeletedAnnotationElement(e){c(this,lo).add(e.annotationElementId),this.addChangedExistingAnnotation(e),e.deleted=!0}isDeletedAnnotationElement(e){return c(this,lo).has(e)}removeDeletedAnnotationElement(e){c(this,lo).delete(e.annotationElementId),this.removeChangedExistingAnnotation(e),e.deleted=!1}setActiveEditor(e){c(this,dn)!==e&&(E(this,dn,e),e&&A(this,H,Ui).call(this,e.propertiesToUpdate))}updateUI(e){c(this,H,P_)===e&&A(this,H,Ui).call(this,e.propertiesToUpdate)}toggleSelected(e){if(c(this,me).has(e)){c(this,me).delete(e),e.unselect(),A(this,H,Dt).call(this,{hasSelectedEditor:this.hasSelection});return}c(this,me).add(e),e.select(),A(this,H,Ui).call(this,e.propertiesToUpdate),A(this,H,Dt).call(this,{hasSelectedEditor:!0})}setSelected(e){for(const t of c(this,me))t!==e&&t.unselect();c(this,me).clear(),c(this,me).add(e),e.select(),A(this,H,Ui).call(this,e.propertiesToUpdate),A(this,H,Dt).call(this,{hasSelectedEditor:!0})}isSelected(e){return c(this,me).has(e)}get firstSelectedEditor(){return c(this,me).values().next().value}unselect(e){e.unselect(),c(this,me).delete(e),A(this,H,Dt).call(this,{hasSelectedEditor:this.hasSelection})}get hasSelection(){return c(this,me).size!==0}get isEnterHandled(){return c(this,me).size===1&&this.firstSelectedEditor.isEnterHandled}undo(){c(this,Yn).undo(),A(this,H,Dt).call(this,{hasSomethingToUndo:c(this,Yn).hasSomethingToUndo(),hasSomethingToRedo:!0,isEmpty:A(this,H,Hc).call(this)})}redo(){c(this,Yn).redo(),A(this,H,Dt).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:c(this,Yn).hasSomethingToRedo(),isEmpty:A(this,H,Hc).call(this)})}addCommands(e){c(this,Yn).add(e),A(this,H,Dt).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:!1,isEmpty:A(this,H,Hc).call(this)})}delete(){if(this.commitOrRemove(),!this.hasSelection)return;const e=[...c(this,me)],t=()=>{for(const i of e)i.remove()},r=()=>{for(const i of e)A(this,H,vv).call(this,i)};this.addCommands({cmd:t,undo:r,mustExec:!0})}commitOrRemove(){var e;(e=c(this,dn))==null||e.commitOrRemove()}hasSomethingToControl(){return c(this,dn)||this.hasSelection}selectAll(){for(const e of c(this,me))e.commit();A(this,H,yv).call(this,c(this,Qe).values())}unselectAll(){if(!(c(this,dn)&&(c(this,dn).commitOrRemove(),c(this,ht)!==ce.NONE))&&this.hasSelection){for(const e of c(this,me))e.unselect();c(this,me).clear(),A(this,H,Dt).call(this,{hasSelectedEditor:!1})}}translateSelectedEditors(e,t,r=!1){if(r||this.commitOrRemove(),!this.hasSelection)return;c(this,es)[0]+=e,c(this,es)[1]+=t;const[i,s]=c(this,es),o=[...c(this,me)],a=1e3;c(this,Sr)&&clearTimeout(c(this,Sr)),E(this,Sr,setTimeout(()=>{E(this,Sr,null),c(this,es)[0]=c(this,es)[1]=0,this.addCommands({cmd:()=>{for(const l of o)c(this,Qe).has(l.id)&&l.translateInPage(i,s)},undo:()=>{for(const l of o)c(this,Qe).has(l.id)&&l.translateInPage(-i,-s)},mustExec:!1})},a));for(const l of o)l.translateInPage(e,t)}setUpDragSession(){if(this.hasSelection){this.disableUserSelect(!0),E(this,br,new Map);for(const e of c(this,me))c(this,br).set(e,{savedX:e.x,savedY:e.y,savedPageIndex:e.pageIndex,newX:0,newY:0,newPageIndex:-1})}}endDragSession(){if(!c(this,br))return!1;this.disableUserSelect(!1);const e=c(this,br);E(this,br,null);let t=!1;for(const[{x:i,y:s,pageIndex:o},a]of e)a.newX=i,a.newY=s,a.newPageIndex=o,t||(t=i!==a.savedX||s!==a.savedY||o!==a.savedPageIndex);if(!t)return!1;const r=(i,s,o,a)=>{if(c(this,Qe).has(i.id)){const l=c(this,dt).get(a);l?i._setParentAndPosition(l,s,o):(i.pageIndex=a,i.x=s,i.y=o)}};return this.addCommands({cmd:()=>{for(const[i,{newX:s,newY:o,newPageIndex:a}]of e)r(i,s,o,a)},undo:()=>{for(const[i,{savedX:s,savedY:o,savedPageIndex:a}]of e)r(i,s,o,a)},mustExec:!0}),!0}dragSelectedEditors(e,t){if(c(this,br))for(const r of c(this,br).keys())r.drag(e,t)}rebuild(e){if(e.parent===null){const t=this.getLayer(e.pageIndex);t?(t.changeParent(e),t.addOrRebuild(e)):(this.addEditor(e),this.addToAnnotationStorage(e),e.rebuild())}else e.parent.addOrRebuild(e)}get isEditorHandlingKeyboard(){var e;return((e=this.getActive())==null?void 0:e.shouldGetKeyboardEvents())||c(this,me).size===1&&this.firstSelectedEditor.shouldGetKeyboardEvents()}isActive(e){return c(this,dn)===e}getActive(){return c(this,dn)}getMode(){return c(this,ht)}get imageManager(){return ue(this,"imageManager",new cv)}getSelectionBoxes(e){if(!e)return null;const t=document.getSelection();for(let u=0,d=t.rangeCount;u<d;u++)if(!e.contains(t.getRangeAt(u).commonAncestorContainer))return null;const{x:r,y:i,width:s,height:o}=e.getBoundingClientRect();let a;switch(e.getAttribute("data-main-rotation")){case"90":a=(u,d,h,f)=>({x:(d-i)/o,y:1-(u+h-r)/s,width:f/o,height:h/s});break;case"180":a=(u,d,h,f)=>({x:1-(u+h-r)/s,y:1-(d+f-i)/o,width:h/s,height:f/o});break;case"270":a=(u,d,h,f)=>({x:1-(d+f-i)/o,y:(u-r)/s,width:f/o,height:h/s});break;default:a=(u,d,h,f)=>({x:(u-r)/s,y:(d-i)/o,width:h/s,height:f/o});break}const l=[];for(let u=0,d=t.rangeCount;u<d;u++){const h=t.getRangeAt(u);if(!h.collapsed)for(const{x:f,y:p,width:m,height:v}of h.getClientRects())m===0||v===0||l.push(a(f,p,m,v))}return l.length===0?null:l}addChangedExistingAnnotation({annotationElementId:e,id:t}){(c(this,sl)||E(this,sl,new Map)).set(e,t)}removeChangedExistingAnnotation({annotationElementId:e}){var t;(t=c(this,sl))==null||t.delete(e)}renderAnnotationElement(e){var i;const t=(i=c(this,sl))==null?void 0:i.get(e.data.id);if(!t)return;const r=c(this,ei).getRawValue(t);r&&(c(this,ht)===ce.NONE&&!r.hasBeenModified||r.renderAnnotationElement(e))}};dn=new WeakMap,Qe=new WeakMap,dt=new WeakMap,il=new WeakMap,ei=new WeakMap,sl=new WeakMap,Yn=new WeakMap,ol=new WeakMap,lo=new WeakMap,br=new WeakMap,ti=new WeakMap,co=new WeakMap,$u=new WeakMap,Hu=new WeakMap,Er=new WeakMap,al=new WeakMap,Zi=new WeakMap,Ar=new WeakMap,Up=new WeakMap,Ji=new WeakMap,Bu=new WeakMap,uo=new WeakMap,zu=new WeakMap,ll=new WeakMap,ht=new WeakMap,me=new WeakMap,ni=new WeakMap,ho=new WeakMap,Uu=new WeakMap,Vu=new WeakMap,Wu=new WeakMap,Gu=new WeakMap,qu=new WeakMap,Xu=new WeakMap,Ku=new WeakMap,Yu=new WeakMap,Qu=new WeakMap,Zu=new WeakMap,Ju=new WeakMap,ed=new WeakMap,td=new WeakMap,nd=new WeakMap,es=new WeakMap,Sr=new WeakMap,ri=new WeakMap,rd=new WeakMap,H=new WeakSet,Cf=function({anchorNode:e}){return e.nodeType===Node.TEXT_NODE?e.parentElement:e},E_=function(){const e=document.getSelection();if(!e||e.isCollapsed)return;const r=A(this,H,Cf).call(this,e).closest(".textLayer"),i=this.getSelectionBoxes(r);i&&(c(this,Ar)||E(this,Ar,new PD(this)),c(this,Ar).show(r,i,this.direction==="ltr"))},A_=function(){var s,o,a;const e=document.getSelection();if(!e||e.isCollapsed){c(this,ni)&&((s=c(this,Ar))==null||s.hide(),E(this,ni,null),A(this,H,Dt).call(this,{hasSelectedText:!1}));return}const{anchorNode:t}=e;if(t===c(this,ni))return;if(!A(this,H,Cf).call(this,e).closest(".textLayer")){c(this,ni)&&((o=c(this,Ar))==null||o.hide(),E(this,ni,null),A(this,H,Dt).call(this,{hasSelectedText:!1}));return}if((a=c(this,Ar))==null||a.hide(),E(this,ni,t),A(this,H,Dt).call(this,{hasSelectedText:!0}),!(c(this,ht)!==ce.HIGHLIGHT&&c(this,ht)!==ce.NONE)&&(c(this,ht)===ce.HIGHLIGHT&&this.showAllEditors("highlight",!0,!0),E(this,Zi,this.isShiftKeyDown),!this.isShiftKeyDown)){const l=u=>{u.type==="pointerup"&&u.button!==0||(window.removeEventListener("pointerup",l),window.removeEventListener("blur",l),u.type==="pointerup"&&A(this,H,Tf).call(this,"main_toolbar"))};window.addEventListener("pointerup",l),window.addEventListener("blur",l)}},Tf=function(e=""){c(this,ht)===ce.HIGHLIGHT?this.highlightSelection(e):c(this,$u)&&A(this,H,E_).call(this)},S_=function(){document.addEventListener("selectionchange",c(this,ed))},__=function(){document.removeEventListener("selectionchange",c(this,ed))},C_=function(){window.addEventListener("focus",c(this,Wu)),window.addEventListener("blur",c(this,Vu))},hv=function(){window.removeEventListener("focus",c(this,Wu)),window.removeEventListener("blur",c(this,Vu))},fv=function(){window.addEventListener("keydown",c(this,Ku)),window.addEventListener("keyup",c(this,Yu))},pv=function(){window.removeEventListener("keydown",c(this,Ku)),window.removeEventListener("keyup",c(this,Yu))},mv=function(){document.addEventListener("copy",c(this,Gu)),document.addEventListener("cut",c(this,qu)),document.addEventListener("paste",c(this,Xu))},gv=function(){document.removeEventListener("copy",c(this,Gu)),document.removeEventListener("cut",c(this,qu)),document.removeEventListener("paste",c(this,Xu))},Dt=function(e){Object.entries(e).some(([r,i])=>c(this,nd)[r]!==i)&&(this._eventBus.dispatch("annotationeditorstateschanged",{source:this,details:Object.assign(c(this,nd),e)}),c(this,ht)===ce.HIGHLIGHT&&e.hasSelectedEditor===!1&&A(this,H,Ui).call(this,[[Z.HIGHLIGHT_FREE,!0]]))},Ui=function(e){this._eventBus.dispatch("annotationeditorparamschanged",{source:this,details:e})},T_=function(){if(!c(this,Ji)){E(this,Ji,!0);for(const e of c(this,dt).values())e.enable();for(const e of c(this,Qe).values())e.enable()}},k_=function(){if(this.unselectAll(),c(this,Ji)){E(this,Ji,!1);for(const e of c(this,dt).values())e.disable();for(const e of c(this,Qe).values())e.disable()}},vv=function(e){const t=c(this,dt).get(e.pageIndex);t?t.addOrRebuild(e):(this.addEditor(e),this.addToAnnotationStorage(e))},P_=function(){let e=null;for(e of c(this,me));return e},Hc=function(){if(c(this,Qe).size===0)return!0;if(c(this,Qe).size===1)for(const e of c(this,Qe).values())return e.isEmpty();return!1},yv=function(e){for(const t of c(this,me))t.unselect();c(this,me).clear();for(const t of e)t.isEmpty()||(c(this,me).add(t),t.select());A(this,H,Dt).call(this,{hasSelectedEditor:this.hasSelection})},ee(Ga,"TRANSLATE_SMALL",1),ee(Ga,"TRANSLATE_BIG",10);let fa=Ga;var ii,si,Qn,oi,Zn,cl,ai,id,xv;const Xr=class Xr{constructor(e){_(this,id);_(this,ii,"");_(this,si,!1);_(this,Qn,null);_(this,oi,null);_(this,Zn,null);_(this,cl,!1);_(this,ai,null);E(this,ai,e)}static initialize(e){Xr._l10nPromise||(Xr._l10nPromise=e)}async render(){const e=E(this,Qn,document.createElement("button"));e.className="altText";const t=await Xr._l10nPromise.get("pdfjs-editor-alt-text-button-label");e.textContent=t,e.setAttribute("aria-label",t),e.tabIndex="0",e.addEventListener("contextmenu",on),e.addEventListener("pointerdown",i=>i.stopPropagation());const r=i=>{i.preventDefault(),c(this,ai)._uiManager.editAltText(c(this,ai))};return e.addEventListener("click",r,{capture:!0}),e.addEventListener("keydown",i=>{i.target===e&&i.key==="Enter"&&(E(this,cl,!0),r(i))}),await A(this,id,xv).call(this),e}finish(){c(this,Qn)&&(c(this,Qn).focus({focusVisible:c(this,cl)}),E(this,cl,!1))}isEmpty(){return!c(this,ii)&&!c(this,si)}get data(){return{altText:c(this,ii),decorative:c(this,si)}}set data({altText:e,decorative:t}){c(this,ii)===e&&c(this,si)===t||(E(this,ii,e),E(this,si,t),A(this,id,xv).call(this))}toggle(e=!1){c(this,Qn)&&(!e&&c(this,Zn)&&(clearTimeout(c(this,Zn)),E(this,Zn,null)),c(this,Qn).disabled=!e)}destroy(){var e;(e=c(this,Qn))==null||e.remove(),E(this,Qn,null),E(this,oi,null)}};ii=new WeakMap,si=new WeakMap,Qn=new WeakMap,oi=new WeakMap,Zn=new WeakMap,cl=new WeakMap,ai=new WeakMap,id=new WeakSet,xv=async function(){var i;const e=c(this,Qn);if(!e)return;if(!c(this,ii)&&!c(this,si)){e.classList.remove("done"),(i=c(this,oi))==null||i.remove();return}e.classList.add("done"),Xr._l10nPromise.get("pdfjs-editor-alt-text-edit-button-label").then(s=>{e.setAttribute("aria-label",s)});let t=c(this,oi);if(!t){E(this,oi,t=document.createElement("span")),t.className="tooltip",t.setAttribute("role","tooltip");const s=t.id=`alt-text-tooltip-${c(this,ai).id}`;e.setAttribute("aria-describedby",s);const o=100;e.addEventListener("mouseenter",()=>{E(this,Zn,setTimeout(()=>{E(this,Zn,null),c(this,oi).classList.add("show"),c(this,ai)._reportTelemetry({action:"alt_text_tooltip"})},o))}),e.addEventListener("mouseleave",()=>{var a;c(this,Zn)&&(clearTimeout(c(this,Zn)),E(this,Zn,null)),(a=c(this,oi))==null||a.classList.remove("show")})}t.innerText=c(this,si)?await Xr._l10nPromise.get("pdfjs-editor-alt-text-decorative-tooltip"):c(this,ii),t.parentNode||e.append(t);const r=c(this,ai).getImageForAltText();r==null||r.setAttribute("aria-describedby",t.id)},ee(Xr,"_l10nPromise",null);let Rp=Xr;var Jn,Ft,ul,fo,ft,po,dl,hl,Ct,sd,mo,ts,od,go,li,_r,fl,pl,kn,ad,Vp,ie,wv,ld,bv,Ev,R_,L_,Av,Sv,_v,M_,N_,D_,F_,Cv,Bc;const be=class be{constructor(e){_(this,ie);_(this,Jn,null);_(this,Ft,null);_(this,ul,!1);_(this,fo,!1);_(this,ft,null);_(this,po,null);_(this,dl,this.focusin.bind(this));_(this,hl,this.focusout.bind(this));_(this,Ct,null);_(this,sd,"");_(this,mo,!1);_(this,ts,null);_(this,od,!1);_(this,go,!1);_(this,li,!1);_(this,_r,null);_(this,fl,0);_(this,pl,0);_(this,kn,null);ee(this,"_initialOptions",Object.create(null));ee(this,"_isVisible",!0);ee(this,"_uiManager",null);ee(this,"_focusEventsAllowed",!0);ee(this,"_l10nPromise",null);_(this,ad,!1);_(this,Vp,be._zIndex++);this.constructor===be&&xe("Cannot initialize AnnotationEditor."),this.parent=e.parent,this.id=e.id,this.width=this.height=null,this.pageIndex=e.parent.pageIndex,this.name=e.name,this.div=null,this._uiManager=e.uiManager,this.annotationElementId=null,this._willKeepAspectRatio=!1,this._initialOptions.isCentered=e.isCentered,this._structTreeParentId=null;const{rotation:t,rawDims:{pageWidth:r,pageHeight:i,pageX:s,pageY:o}}=this.parent.viewport;this.rotation=t,this.pageRotation=(360+t-this._uiManager.viewParameters.rotation)%360,this.pageDimensions=[r,i],this.pageTranslation=[s,o];const[a,l]=this.parentDimensions;this.x=e.x/a,this.y=e.y/l,this.isAttachedToDOM=!1,this.deleted=!1}static get _resizerKeyboardManager(){const e=be.prototype._resizeWithKeyboard,t=fa.TRANSLATE_SMALL,r=fa.TRANSLATE_BIG;return ue(this,"_resizerKeyboardManager",new kh([[["ArrowLeft","mac+ArrowLeft"],e,{args:[-t,0]}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],e,{args:[-r,0]}],[["ArrowRight","mac+ArrowRight"],e,{args:[t,0]}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],e,{args:[r,0]}],[["ArrowUp","mac+ArrowUp"],e,{args:[0,-t]}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],e,{args:[0,-r]}],[["ArrowDown","mac+ArrowDown"],e,{args:[0,t]}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],e,{args:[0,r]}],[["Escape","mac+Escape"],be.prototype._stopResizingWithKeyboard]]))}get editorType(){return Object.getPrototypeOf(this).constructor._type}static get _defaultLineColor(){return ue(this,"_defaultLineColor",this._colorManager.getHexCode("CanvasText"))}static deleteAnnotationElement(e){const t=new ND({id:e.parent.getNextId(),parent:e.parent,uiManager:e._uiManager});t.annotationElementId=e.annotationElementId,t.deleted=!0,t._uiManager.addToAnnotationStorage(t)}static initialize(e,t,r){if(be._l10nPromise||(be._l10nPromise=new Map(["pdfjs-editor-alt-text-button-label","pdfjs-editor-alt-text-edit-button-label","pdfjs-editor-alt-text-decorative-tooltip","pdfjs-editor-resizer-label-topLeft","pdfjs-editor-resizer-label-topMiddle","pdfjs-editor-resizer-label-topRight","pdfjs-editor-resizer-label-middleRight","pdfjs-editor-resizer-label-bottomRight","pdfjs-editor-resizer-label-bottomMiddle","pdfjs-editor-resizer-label-bottomLeft","pdfjs-editor-resizer-label-middleLeft"].map(s=>[s,e.get(s.replaceAll(/([A-Z])/g,o=>`-${o.toLowerCase()}`))]))),r!=null&&r.strings)for(const s of r.strings)be._l10nPromise.set(s,e.get(s));if(be._borderLineWidth!==-1)return;const i=getComputedStyle(document.documentElement);be._borderLineWidth=parseFloat(i.getPropertyValue("--outline-width"))||0}static updateDefaultParams(e,t){}static get defaultPropertiesToUpdate(){return[]}static isHandlingMimeForPasting(e){return!1}static paste(e,t){xe("Not implemented")}get propertiesToUpdate(){return[]}get _isDraggable(){return c(this,ad)}set _isDraggable(e){var t;E(this,ad,e),(t=this.div)==null||t.classList.toggle("draggable",e)}get isEnterHandled(){return!0}center(){const[e,t]=this.pageDimensions;switch(this.parentRotation){case 90:this.x-=this.height*t/(e*2),this.y+=this.width*e/(t*2);break;case 180:this.x+=this.width/2,this.y+=this.height/2;break;case 270:this.x+=this.height*t/(e*2),this.y-=this.width*e/(t*2);break;default:this.x-=this.width/2,this.y-=this.height/2;break}this.fixAndSetPosition()}addCommands(e){this._uiManager.addCommands(e)}get currentLayer(){return this._uiManager.currentLayer}setInBackground(){this.div.style.zIndex=0}setInForeground(){this.div.style.zIndex=c(this,Vp)}setParent(e){e!==null?(this.pageIndex=e.pageIndex,this.pageDimensions=e.pageDimensions):A(this,ie,Bc).call(this),this.parent=e}focusin(e){this._focusEventsAllowed&&(c(this,mo)?E(this,mo,!1):this.parent.setSelected(this))}focusout(e){var r;if(!this._focusEventsAllowed||!this.isAttachedToDOM)return;const t=e.relatedTarget;t!=null&&t.closest(`#${this.id}`)||(e.preventDefault(),(r=this.parent)!=null&&r.isMultipleSelection||this.commitOrRemove())}commitOrRemove(){this.isEmpty()?this.remove():this.commit()}commit(){this.addToAnnotationStorage()}addToAnnotationStorage(){this._uiManager.addToAnnotationStorage(this)}setAt(e,t,r,i){const[s,o]=this.parentDimensions;[r,i]=this.screenToPageTranslation(r,i),this.x=(e+r)/s,this.y=(t+i)/o,this.fixAndSetPosition()}translate(e,t){A(this,ie,wv).call(this,this.parentDimensions,e,t)}translateInPage(e,t){c(this,ts)||E(this,ts,[this.x,this.y]),A(this,ie,wv).call(this,this.pageDimensions,e,t),this.div.scrollIntoView({block:"nearest"})}drag(e,t){c(this,ts)||E(this,ts,[this.x,this.y]);const[r,i]=this.parentDimensions;if(this.x+=e/r,this.y+=t/i,this.parent&&(this.x<0||this.x>1||this.y<0||this.y>1)){const{x:u,y:d}=this.div.getBoundingClientRect();this.parent.findNewParent(this,u,d)&&(this.x-=Math.floor(this.x),this.y-=Math.floor(this.y))}let{x:s,y:o}=this;const[a,l]=this.getBaseTranslation();s+=a,o+=l,this.div.style.left=`${(100*s).toFixed(2)}%`,this.div.style.top=`${(100*o).toFixed(2)}%`,this.div.scrollIntoView({block:"nearest"})}get _hasBeenMoved(){return!!c(this,ts)&&(c(this,ts)[0]!==this.x||c(this,ts)[1]!==this.y)}getBaseTranslation(){const[e,t]=this.parentDimensions,{_borderLineWidth:r}=be,i=r/e,s=r/t;switch(this.rotation){case 90:return[-i,s];case 180:return[i,s];case 270:return[i,-s];default:return[-i,-s]}}get _mustFixPosition(){return!0}fixAndSetPosition(e=this.rotation){const[t,r]=this.pageDimensions;let{x:i,y:s,width:o,height:a}=this;if(o*=t,a*=r,i*=t,s*=r,this._mustFixPosition)switch(e){case 0:i=Math.max(0,Math.min(t-o,i)),s=Math.max(0,Math.min(r-a,s));break;case 90:i=Math.max(0,Math.min(t-a,i)),s=Math.min(r,Math.max(o,s));break;case 180:i=Math.min(t,Math.max(o,i)),s=Math.min(r,Math.max(a,s));break;case 270:i=Math.min(t,Math.max(a,i)),s=Math.max(0,Math.min(r-o,s));break}this.x=i/=t,this.y=s/=r;const[l,u]=this.getBaseTranslation();i+=l,s+=u;const{style:d}=this.div;d.left=`${(100*i).toFixed(2)}%`,d.top=`${(100*s).toFixed(2)}%`,this.moveInDOM()}screenToPageTranslation(e,t){var r;return A(r=be,ld,bv).call(r,e,t,this.parentRotation)}pageTranslationToScreen(e,t){var r;return A(r=be,ld,bv).call(r,e,t,360-this.parentRotation)}get parentScale(){return this._uiManager.viewParameters.realScale}get parentRotation(){return(this._uiManager.viewParameters.rotation+this.pageRotation)%360}get parentDimensions(){const{parentScale:e,pageDimensions:[t,r]}=this,i=t*e,s=r*e;return Jt.isCSSRoundSupported?[Math.round(i),Math.round(s)]:[i,s]}setDims(e,t){const[r,i]=this.parentDimensions;this.div.style.width=`${(100*e/r).toFixed(2)}%`,c(this,fo)||(this.div.style.height=`${(100*t/i).toFixed(2)}%`)}fixDims(){const{style:e}=this.div,{height:t,width:r}=e,i=r.endsWith("%"),s=!c(this,fo)&&t.endsWith("%");if(i&&s)return;const[o,a]=this.parentDimensions;i||(e.width=`${(100*parseFloat(r)/o).toFixed(2)}%`),!c(this,fo)&&!s&&(e.height=`${(100*parseFloat(t)/a).toFixed(2)}%`)}getInitialTranslation(){return[0,0]}altTextFinish(){var e;(e=c(this,Ft))==null||e.finish()}async addEditToolbar(){return c(this,Ct)||c(this,go)?c(this,Ct):(E(this,Ct,new av(this)),this.div.append(c(this,Ct).render()),c(this,Ft)&&c(this,Ct).addAltTextButton(await c(this,Ft).render()),c(this,Ct))}removeEditToolbar(){var e;c(this,Ct)&&(c(this,Ct).remove(),E(this,Ct,null),(e=c(this,Ft))==null||e.destroy())}getClientDimensions(){return this.div.getBoundingClientRect()}async addAltTextButton(){c(this,Ft)||(Rp.initialize(be._l10nPromise),E(this,Ft,new Rp(this)),await this.addEditToolbar())}get altTextData(){var e;return(e=c(this,Ft))==null?void 0:e.data}set altTextData(e){c(this,Ft)&&(c(this,Ft).data=e)}hasAltText(){var e;return!((e=c(this,Ft))!=null&&e.isEmpty())}render(){this.div=document.createElement("div"),this.div.setAttribute("data-editor-rotation",(360-this.rotation)%360),this.div.className=this.name,this.div.setAttribute("id",this.id),this.div.tabIndex=c(this,ul)?-1:0,this._isVisible||this.div.classList.add("hidden"),this.setInForeground(),this.div.addEventListener("focusin",c(this,dl)),this.div.addEventListener("focusout",c(this,hl));const[e,t]=this.parentDimensions;this.parentRotation%180!==0&&(this.div.style.maxWidth=`${(100*t/e).toFixed(2)}%`,this.div.style.maxHeight=`${(100*e/t).toFixed(2)}%`);const[r,i]=this.getInitialTranslation();return this.translate(r,i),Pp(this,this.div,["pointerdown"]),this.div}pointerdown(e){const{isMac:t}=Jt.platform;if(e.button!==0||e.ctrlKey&&t){e.preventDefault();return}if(E(this,mo,!0),this._isDraggable){A(this,ie,M_).call(this,e);return}A(this,ie,_v).call(this,e)}moveInDOM(){c(this,_r)&&clearTimeout(c(this,_r)),E(this,_r,setTimeout(()=>{var e;E(this,_r,null),(e=this.parent)==null||e.moveEditorInDOM(this)},0))}_setParentAndPosition(e,t,r){e.changeParent(this),this.x=t,this.y=r,this.fixAndSetPosition()}getRect(e,t,r=this.rotation){const i=this.parentScale,[s,o]=this.pageDimensions,[a,l]=this.pageTranslation,u=e/i,d=t/i,h=this.x*s,f=this.y*o,p=this.width*s,m=this.height*o;switch(r){case 0:return[h+u+a,o-f-d-m+l,h+u+p+a,o-f-d+l];case 90:return[h+d+a,o-f+u+l,h+d+m+a,o-f+u+p+l];case 180:return[h-u-p+a,o-f+d+l,h-u+a,o-f+d+m+l];case 270:return[h-d-m+a,o-f-u-p+l,h-d+a,o-f-u+l];default:throw new Error("Invalid rotation")}}getRectInCurrentCoords(e,t){const[r,i,s,o]=e,a=s-r,l=o-i;switch(this.rotation){case 0:return[r,t-o,a,l];case 90:return[r,t-i,l,a];case 180:return[s,t-i,a,l];case 270:return[s,t-o,l,a];default:throw new Error("Invalid rotation")}}onceAdded(){}isEmpty(){return!1}enableEditMode(){E(this,go,!0)}disableEditMode(){E(this,go,!1)}isInEditMode(){return c(this,go)}shouldGetKeyboardEvents(){return c(this,li)}needsToBeRebuilt(){return this.div&&!this.isAttachedToDOM}rebuild(){var e,t;(e=this.div)==null||e.addEventListener("focusin",c(this,dl)),(t=this.div)==null||t.addEventListener("focusout",c(this,hl))}rotate(e){}serialize(e=!1,t=null){xe("An editor must be serializable")}static deserialize(e,t,r){const i=new this.prototype.constructor({parent:t,id:t.getNextId(),uiManager:r});i.rotation=e.rotation;const[s,o]=i.pageDimensions,[a,l,u,d]=i.getRectInCurrentCoords(e.rect,o);return i.x=a/s,i.y=l/o,i.width=u/s,i.height=d/o,i}get hasBeenModified(){return!!this.annotationElementId&&(this.deleted||this.serialize()!==null)}remove(){if(this.div.removeEventListener("focusin",c(this,dl)),this.div.removeEventListener("focusout",c(this,hl)),this.isEmpty()||this.commit(),this.parent?this.parent.remove(this):this._uiManager.removeEditor(this),c(this,_r)&&(clearTimeout(c(this,_r)),E(this,_r,null)),A(this,ie,Bc).call(this),this.removeEditToolbar(),c(this,kn)){for(const e of c(this,kn).values())clearTimeout(e);E(this,kn,null)}this.parent=null}get isResizable(){return!1}makeResizable(){this.isResizable&&(A(this,ie,R_).call(this),c(this,ft).classList.remove("hidden"),Pp(this,this.div,["keydown"]))}get toolbarPosition(){return null}keydown(e){if(!this.isResizable||e.target!==this.div||e.key!=="Enter")return;this._uiManager.setSelected(this),E(this,po,{savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height});const t=c(this,ft).children;if(!c(this,Jn)){E(this,Jn,Array.from(t));const o=A(this,ie,N_).bind(this),a=A(this,ie,D_).bind(this);for(const l of c(this,Jn)){const u=l.getAttribute("data-resizer-name");l.setAttribute("role","spinbutton"),l.addEventListener("keydown",o),l.addEventListener("blur",a),l.addEventListener("focus",A(this,ie,F_).bind(this,u)),be._l10nPromise.get(`pdfjs-editor-resizer-label-${u}`).then(d=>l.setAttribute("aria-label",d))}}const r=c(this,Jn)[0];let i=0;for(const o of t){if(o===r)break;i++}const s=(360-this.rotation+this.parentRotation)%360/90*(c(this,Jn).length/4);if(s!==i){if(s<i)for(let a=0;a<i-s;a++)c(this,ft).append(c(this,ft).firstChild);else if(s>i)for(let a=0;a<s-i;a++)c(this,ft).firstChild.before(c(this,ft).lastChild);let o=0;for(const a of t){const u=c(this,Jn)[o++].getAttribute("data-resizer-name");be._l10nPromise.get(`pdfjs-editor-resizer-label-${u}`).then(d=>a.setAttribute("aria-label",d))}}A(this,ie,Cv).call(this,0),E(this,li,!0),c(this,ft).firstChild.focus({focusVisible:!0}),e.preventDefault(),e.stopImmediatePropagation()}_resizeWithKeyboard(e,t){c(this,li)&&A(this,ie,Sv).call(this,c(this,sd),{movementX:e,movementY:t})}_stopResizingWithKeyboard(){A(this,ie,Bc).call(this),this.div.focus()}select(){var e,t;if(this.makeResizable(),(e=this.div)==null||e.classList.add("selectedEditor"),!c(this,Ct)){this.addEditToolbar().then(()=>{var r,i;(r=this.div)!=null&&r.classList.contains("selectedEditor")&&((i=c(this,Ct))==null||i.show())});return}(t=c(this,Ct))==null||t.show()}unselect(){var e,t,r,i;(e=c(this,ft))==null||e.classList.add("hidden"),(t=this.div)==null||t.classList.remove("selectedEditor"),(r=this.div)!=null&&r.contains(document.activeElement)&&this._uiManager.currentLayer.div.focus({preventScroll:!0}),(i=c(this,Ct))==null||i.hide()}updateParams(e,t){}disableEditing(){}enableEditing(){}enterInEditMode(){}getImageForAltText(){return null}get contentDiv(){return this.div}get isEditing(){return c(this,od)}set isEditing(e){E(this,od,e),this.parent&&(e?(this.parent.setSelected(this),this.parent.setActiveEditor(this)):this.parent.setActiveEditor(null))}setAspectRatio(e,t){E(this,fo,!0);const r=e/t,{style:i}=this.div;i.aspectRatio=r,i.height="auto"}static get MIN_SIZE(){return 16}static canCreateNewEmptyEditor(){return!0}get telemetryInitialData(){return{action:"added"}}get telemetryFinalData(){return null}_reportTelemetry(e,t=!1){if(t){c(this,kn)||E(this,kn,new Map);const{action:r}=e;let i=c(this,kn).get(r);i&&clearTimeout(i),i=setTimeout(()=>{this._reportTelemetry(e),c(this,kn).delete(r),c(this,kn).size===0&&E(this,kn,null)},be._telemetryTimeout),c(this,kn).set(r,i);return}e.type||(e.type=this.editorType),this._uiManager._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:e}})}show(e=this._isVisible){this.div.classList.toggle("hidden",!e),this._isVisible=e}enable(){this.div&&(this.div.tabIndex=0),E(this,ul,!1)}disable(){this.div&&(this.div.tabIndex=-1),E(this,ul,!0)}renderAnnotationElement(e){let t=e.container.querySelector(".annotationContent");if(!t)t=document.createElement("div"),t.classList.add("annotationContent",this.editorType),e.container.prepend(t);else if(t.nodeName==="CANVAS"){const r=t;t=document.createElement("div"),t.classList.add("annotationContent",this.editorType),r.before(t)}return t}resetAnnotationElement(e){const{firstChild:t}=e.container;t.nodeName==="DIV"&&t.classList.contains("annotationContent")&&t.remove()}};Jn=new WeakMap,Ft=new WeakMap,ul=new WeakMap,fo=new WeakMap,ft=new WeakMap,po=new WeakMap,dl=new WeakMap,hl=new WeakMap,Ct=new WeakMap,sd=new WeakMap,mo=new WeakMap,ts=new WeakMap,od=new WeakMap,go=new WeakMap,li=new WeakMap,_r=new WeakMap,fl=new WeakMap,pl=new WeakMap,kn=new WeakMap,ad=new WeakMap,Vp=new WeakMap,ie=new WeakSet,wv=function([e,t],r,i){[r,i]=this.screenToPageTranslation(r,i),this.x+=r/e,this.y+=i/t,this.fixAndSetPosition()},ld=new WeakSet,bv=function(e,t,r){switch(r){case 90:return[t,-e];case 180:return[-e,-t];case 270:return[-t,e];default:return[e,t]}},Ev=function(e){switch(e){case 90:{const[t,r]=this.pageDimensions;return[0,-t/r,r/t,0]}case 180:return[-1,0,0,-1];case 270:{const[t,r]=this.pageDimensions;return[0,t/r,-r/t,0]}default:return[1,0,0,1]}},R_=function(){if(c(this,ft))return;E(this,ft,document.createElement("div")),c(this,ft).classList.add("resizers");const e=this._willKeepAspectRatio?["topLeft","topRight","bottomRight","bottomLeft"]:["topLeft","topMiddle","topRight","middleRight","bottomRight","bottomMiddle","bottomLeft","middleLeft"];for(const t of e){const r=document.createElement("div");c(this,ft).append(r),r.classList.add("resizer",t),r.setAttribute("data-resizer-name",t),r.addEventListener("pointerdown",A(this,ie,L_).bind(this,t)),r.addEventListener("contextmenu",on),r.tabIndex=-1}this.div.prepend(c(this,ft))},L_=function(e,t){var m;t.preventDefault();const{isMac:r}=Jt.platform;if(t.button!==0||t.ctrlKey&&r)return;(m=c(this,Ft))==null||m.toggle(!1);const i=A(this,ie,Sv).bind(this,e),s=this._isDraggable;this._isDraggable=!1;const o={passive:!0,capture:!0};this.parent.togglePointerEvents(!1),window.addEventListener("pointermove",i,o),window.addEventListener("contextmenu",on);const a=this.x,l=this.y,u=this.width,d=this.height,h=this.parent.div.style.cursor,f=this.div.style.cursor;this.div.style.cursor=this.parent.div.style.cursor=window.getComputedStyle(t.target).cursor;const p=()=>{var v;this.parent.togglePointerEvents(!0),(v=c(this,Ft))==null||v.toggle(!0),this._isDraggable=s,window.removeEventListener("pointerup",p),window.removeEventListener("blur",p),window.removeEventListener("pointermove",i,o),window.removeEventListener("contextmenu",on),this.parent.div.style.cursor=h,this.div.style.cursor=f,A(this,ie,Av).call(this,a,l,u,d)};window.addEventListener("pointerup",p),window.addEventListener("blur",p)},Av=function(e,t,r,i){const s=this.x,o=this.y,a=this.width,l=this.height;s===e&&o===t&&a===r&&l===i||this.addCommands({cmd:()=>{this.width=a,this.height=l,this.x=s,this.y=o;const[u,d]=this.parentDimensions;this.setDims(u*a,d*l),this.fixAndSetPosition()},undo:()=>{this.width=r,this.height=i,this.x=e,this.y=t;const[u,d]=this.parentDimensions;this.setDims(u*r,d*i),this.fixAndSetPosition()},mustExec:!0})},Sv=function(e,t){const[r,i]=this.parentDimensions,s=this.x,o=this.y,a=this.width,l=this.height,u=be.MIN_SIZE/r,d=be.MIN_SIZE/i,h=I=>Math.round(I*1e4)/1e4,f=A(this,ie,Ev).call(this,this.rotation),p=(I,L)=>[f[0]*I+f[2]*L,f[1]*I+f[3]*L],m=A(this,ie,Ev).call(this,360-this.rotation),v=(I,L)=>[m[0]*I+m[2]*L,m[1]*I+m[3]*L];let b,g,y=!1,x=!1;switch(e){case"topLeft":y=!0,b=(I,L)=>[0,0],g=(I,L)=>[I,L];break;case"topMiddle":b=(I,L)=>[I/2,0],g=(I,L)=>[I/2,L];break;case"topRight":y=!0,b=(I,L)=>[I,0],g=(I,L)=>[0,L];break;case"middleRight":x=!0,b=(I,L)=>[I,L/2],g=(I,L)=>[0,L/2];break;case"bottomRight":y=!0,b=(I,L)=>[I,L],g=(I,L)=>[0,0];break;case"bottomMiddle":b=(I,L)=>[I/2,L],g=(I,L)=>[I/2,0];break;case"bottomLeft":y=!0,b=(I,L)=>[0,L],g=(I,L)=>[I,0];break;case"middleLeft":x=!0,b=(I,L)=>[0,L/2],g=(I,L)=>[I,L/2];break}const C=b(a,l),T=g(a,l);let k=p(...T);const P=h(s+k[0]),R=h(o+k[1]);let F=1,D=1,[N,q]=this.screenToPageTranslation(t.movementX,t.movementY);if([N,q]=v(N/r,q/i),y){const I=Math.hypot(a,l);F=D=Math.max(Math.min(Math.hypot(T[0]-C[0]-N,T[1]-C[1]-q)/I,1/a,1/l),u/a,d/l)}else x?F=Math.max(u,Math.min(1,Math.abs(T[0]-C[0]-N)))/a:D=Math.max(d,Math.min(1,Math.abs(T[1]-C[1]-q)))/l;const U=h(a*F),z=h(l*D);k=p(...g(U,z));const j=P-k[0],K=R-k[1];this.width=U,this.height=z,this.x=j,this.y=K,this.setDims(r*U,i*z),this.fixAndSetPosition()},_v=function(e){const{isMac:t}=Jt.platform;e.ctrlKey&&!t||e.shiftKey||e.metaKey&&t?this.parent.toggleSelected(this):this.parent.setSelected(this)},M_=function(e){const t=this._uiManager.isSelected(this);this._uiManager.setUpDragSession();let r,i;t&&(this.div.classList.add("moving"),r={passive:!0,capture:!0},E(this,fl,e.clientX),E(this,pl,e.clientY),i=o=>{const{clientX:a,clientY:l}=o,[u,d]=this.screenToPageTranslation(a-c(this,fl),l-c(this,pl));E(this,fl,a),E(this,pl,l),this._uiManager.dragSelectedEditors(u,d)},window.addEventListener("pointermove",i,r));const s=()=>{window.removeEventListener("pointerup",s),window.removeEventListener("blur",s),t&&(this.div.classList.remove("moving"),window.removeEventListener("pointermove",i,r)),E(this,mo,!1),this._uiManager.endDragSession()||A(this,ie,_v).call(this,e)};window.addEventListener("pointerup",s),window.addEventListener("blur",s)},N_=function(e){be._resizerKeyboardManager.exec(this,e)},D_=function(e){var t;c(this,li)&&((t=e.relatedTarget)==null?void 0:t.parentNode)!==c(this,ft)&&A(this,ie,Bc).call(this)},F_=function(e){E(this,sd,c(this,li)?e:"")},Cv=function(e){if(c(this,Jn))for(const t of c(this,Jn))t.tabIndex=e},Bc=function(){if(E(this,li,!1),A(this,ie,Cv).call(this,-1),c(this,po)){const{savedX:e,savedY:t,savedWidth:r,savedHeight:i}=c(this,po);A(this,ie,Av).call(this,e,t,r,i),E(this,po,null)}},_(be,ld),ee(be,"_borderLineWidth",-1),ee(be,"_colorManager",new dv),ee(be,"_zIndex",1),ee(be,"_telemetryTimeout",1e3);let ge=be;class ND extends ge{constructor(e){super(e),this.annotationElementId=e.annotationElementId,this.deleted=!0}serialize(){return{id:this.annotationElementId,deleted:!0,pageIndex:this.pageIndex}}}const Zw=3285377520,Cn=4294901760,vr=65535;class I_{constructor(e){this.h1=e?e&4294967295:Zw,this.h2=e?e&4294967295:Zw}update(e){let t,r;if(typeof e=="string"){t=new Uint8Array(e.length*2),r=0;for(let v=0,b=e.length;v<b;v++){const g=e.charCodeAt(v);g<=255?t[r++]=g:(t[r++]=g>>>8,t[r++]=g&255)}}else if(ArrayBuffer.isView(e))t=e.slice(),r=t.byteLength;else throw new Error("Invalid data format, must be a string or TypedArray.");const i=r>>2,s=r-i*4,o=new Uint32Array(t.buffer,0,i);let a=0,l=0,u=this.h1,d=this.h2;const h=3432918353,f=461845907,p=h&vr,m=f&vr;for(let v=0;v<i;v++)v&1?(a=o[v],a=a*h&Cn|a*p&vr,a=a<<15|a>>>17,a=a*f&Cn|a*m&vr,u^=a,u=u<<13|u>>>19,u=u*5+3864292196):(l=o[v],l=l*h&Cn|l*p&vr,l=l<<15|l>>>17,l=l*f&Cn|l*m&vr,d^=l,d=d<<13|d>>>19,d=d*5+3864292196);switch(a=0,s){case 3:a^=t[i*4+2]<<16;case 2:a^=t[i*4+1]<<8;case 1:a^=t[i*4],a=a*h&Cn|a*p&vr,a=a<<15|a>>>17,a=a*f&Cn|a*m&vr,i&1?u^=a:d^=a}this.h1=u,this.h2=d}hexdigest(){let e=this.h1,t=this.h2;return e^=t>>>1,e=e*3981806797&Cn|e*36045&vr,t=t*4283543511&Cn|((t<<16|e>>>16)*2950163797&Cn)>>>16,e^=t>>>1,e=e*444984403&Cn|e*60499&vr,t=t*3301882366&Cn|((t<<16|e>>>16)*3120437893&Cn)>>>16,e^=t>>>1,(e>>>0).toString(16).padStart(8,"0")+(t>>>0).toString(16).padStart(8,"0")}}const Tv=Object.freeze({map:null,hash:"",transfer:void 0});var vo,pt,Wp,O_;class B1{constructor(){_(this,Wp);_(this,vo,!1);_(this,pt,new Map);this.onSetModified=null,this.onResetModified=null,this.onAnnotationEditor=null}getValue(e,t){const r=c(this,pt).get(e);return r===void 0?t:Object.assign(t,r)}getRawValue(e){return c(this,pt).get(e)}remove(e){if(c(this,pt).delete(e),c(this,pt).size===0&&this.resetModified(),typeof this.onAnnotationEditor=="function"){for(const t of c(this,pt).values())if(t instanceof ge)return;this.onAnnotationEditor(null)}}setValue(e,t){const r=c(this,pt).get(e);let i=!1;if(r!==void 0)for(const[s,o]of Object.entries(t))r[s]!==o&&(i=!0,r[s]=o);else i=!0,c(this,pt).set(e,t);i&&A(this,Wp,O_).call(this),t instanceof ge&&typeof this.onAnnotationEditor=="function"&&this.onAnnotationEditor(t.constructor._type)}has(e){return c(this,pt).has(e)}getAll(){return c(this,pt).size>0?D1(c(this,pt)):null}setAll(e){for(const[t,r]of Object.entries(e))this.setValue(t,r)}get size(){return c(this,pt).size}resetModified(){c(this,vo)&&(E(this,vo,!1),typeof this.onResetModified=="function"&&this.onResetModified())}get print(){return new j_(this)}get serializable(){if(c(this,pt).size===0)return Tv;const e=new Map,t=new I_,r=[],i=Object.create(null);let s=!1;for(const[o,a]of c(this,pt)){const l=a instanceof ge?a.serialize(!1,i):a;l&&(e.set(o,l),t.update(`${o}:${JSON.stringify(l)}`),s||(s=!!l.bitmap))}if(s)for(const o of e.values())o.bitmap&&r.push(o.bitmap);return e.size>0?{map:e,hash:t.hexdigest(),transfer:r}:Tv}get editorStats(){let e=null;const t=new Map;for(const r of c(this,pt).values()){if(!(r instanceof ge))continue;const i=r.telemetryFinalData;if(!i)continue;const{type:s}=i;t.has(s)||t.set(s,Object.getPrototypeOf(r).constructor),e||(e=Object.create(null));const o=e[s]||(e[s]=new Map);for(const[a,l]of Object.entries(i)){if(a==="type")continue;let u=o.get(a);u||(u=new Map,o.set(a,u));const d=u.get(l)??0;u.set(l,d+1)}}for(const[r,i]of t)e[r]=i.computeTelemetryFinalData(e[r]);return e}}vo=new WeakMap,pt=new WeakMap,Wp=new WeakSet,O_=function(){c(this,vo)||(E(this,vo,!0),typeof this.onSetModified=="function"&&this.onSetModified())};var cd;class j_ extends B1{constructor(t){super();_(this,cd);const{map:r,hash:i,transfer:s}=t.serializable,o=structuredClone(r,s?{transfer:s}:null);E(this,cd,{map:o,hash:i,transfer:s})}get print(){xe("Should not call PrintAnnotationStorage.print")}get serializable(){return c(this,cd)}}cd=new WeakMap;var ml;class DD{constructor({ownerDocument:e=globalThis.document,styleElement:t=null}){_(this,ml,new Set);this._document=e,this.nativeFontFaces=new Set,this.styleElement=null,this.loadingRequests=[],this.loadTestFontId=0}addNativeFontFace(e){this.nativeFontFaces.add(e),this._document.fonts.add(e)}removeNativeFontFace(e){this.nativeFontFaces.delete(e),this._document.fonts.delete(e)}insertRule(e){this.styleElement||(this.styleElement=this._document.createElement("style"),this._document.documentElement.getElementsByTagName("head")[0].append(this.styleElement));const t=this.styleElement.sheet;t.insertRule(e,t.cssRules.length)}clear(){for(const e of this.nativeFontFaces)this._document.fonts.delete(e);this.nativeFontFaces.clear(),c(this,ml).clear(),this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}async loadSystemFont({systemFontInfo:e,_inspectFont:t}){if(!(!e||c(this,ml).has(e.loadedName))){if(nt(!this.disableFontFace,"loadSystemFont shouldn't be called when `disableFontFace` is set."),this.isFontLoadingAPISupported){const{loadedName:r,src:i,style:s}=e,o=new FontFace(r,i,s);this.addNativeFontFace(o);try{await o.load(),c(this,ml).add(r),t==null||t(e)}catch{re(`Cannot load system font: ${e.baseFontName}, installing it could help to improve PDF rendering.`),this.removeNativeFontFace(o)}return}xe("Not implemented: loadSystemFont without the Font Loading API.")}}async bind(e){if(e.attached||e.missingFile&&!e.systemFontInfo)return;if(e.attached=!0,e.systemFontInfo){await this.loadSystemFont(e);return}if(this.isFontLoadingAPISupported){const r=e.createNativeFontFace();if(r){this.addNativeFontFace(r);try{await r.loaded}catch(i){throw re(`Failed to load font '${r.family}': '${i}'.`),e.disableFontFace=!0,i}}return}const t=e.createFontFaceRule();if(t){if(this.insertRule(t),this.isSyncFontLoadingSupported)return;await new Promise(r=>{const i=this._queueLoadingCallback(r);this._prepareFontLoadEvent(e,i)})}}get isFontLoadingAPISupported(){var t;const e=!!((t=this._document)!=null&&t.fonts);return ue(this,"isFontLoadingAPISupported",e)}get isSyncFontLoadingSupported(){let e=!1;return(Rt||typeof navigator<"u"&&typeof(navigator==null?void 0:navigator.userAgent)=="string"&&/Mozilla\/5.0.*?rv:\d+.*? Gecko/.test(navigator.userAgent))&&(e=!0),ue(this,"isSyncFontLoadingSupported",e)}_queueLoadingCallback(e){function t(){for(nt(!i.done,"completeRequest() cannot be called twice."),i.done=!0;r.length>0&&r[0].done;){const s=r.shift();setTimeout(s.callback,0)}}const{loadingRequests:r}=this,i={done:!1,complete:t,callback:e};return r.push(i),i}get _loadTestFont(){const e=atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA==");return ue(this,"_loadTestFont",e)}_prepareFontLoadEvent(e,t){function r(C,T){return C.charCodeAt(T)<<24|C.charCodeAt(T+1)<<16|C.charCodeAt(T+2)<<8|C.charCodeAt(T+3)&255}function i(C,T,k,P){const R=C.substring(0,T),F=C.substring(T+k);return R+P+F}let s,o;const a=this._document.createElement("canvas");a.width=1,a.height=1;const l=a.getContext("2d");let u=0;function d(C,T){if(++u>30){re("Load test font never loaded."),T();return}if(l.font="30px "+C,l.fillText(".",0,20),l.getImageData(0,0,1,1).data[3]>0){T();return}setTimeout(d.bind(null,C,T))}const h=`lt${Date.now()}${this.loadTestFontId++}`;let f=this._loadTestFont;f=i(f,976,h.length,h);const m=16,v=1482184792;let b=r(f,m);for(s=0,o=h.length-3;s<o;s+=4)b=b-v+r(h,s)|0;s<h.length&&(b=b-v+r(h+"XXX",s)|0),f=i(f,m,4,vD(b));const g=`url(data:font/opentype;base64,${btoa(f)});`,y=`@font-face {font-family:"${h}";src:${g}}`;this.insertRule(y);const x=this._document.createElement("div");x.style.visibility="hidden",x.style.width=x.style.height="10px",x.style.position="absolute",x.style.top=x.style.left="0px";for(const C of[e.loadedName,h]){const T=this._document.createElement("span");T.textContent="Hi",T.style.fontFamily=C,x.append(T)}this._document.body.append(x),d(h,()=>{x.remove(),t.complete()})}}ml=new WeakMap;class FD{constructor(e,{disableFontFace:t=!1,inspectFont:r=null}){this.compiledGlyphs=Object.create(null);for(const i in e)this[i]=e[i];this.disableFontFace=t===!0,this._inspectFont=r}createNativeFontFace(){var t;if(!this.data||this.disableFontFace)return null;let e;if(!this.cssFontInfo)e=new FontFace(this.loadedName,this.data,{});else{const r={weight:this.cssFontInfo.fontWeight};this.cssFontInfo.italicAngle&&(r.style=`oblique ${this.cssFontInfo.italicAngle}deg`),e=new FontFace(this.cssFontInfo.fontFamily,this.data,r)}return(t=this._inspectFont)==null||t.call(this,this),e}createFontFaceRule(){var i;if(!this.data||this.disableFontFace)return null;const e=a_(this.data),t=`url(data:${this.mimetype};base64,${btoa(e)});`;let r;if(!this.cssFontInfo)r=`@font-face {font-family:"${this.loadedName}";src:${t}}`;else{let s=`font-weight: ${this.cssFontInfo.fontWeight};`;this.cssFontInfo.italicAngle&&(s+=`font-style: oblique ${this.cssFontInfo.italicAngle}deg;`),r=`@font-face {font-family:"${this.cssFontInfo.fontFamily}";${s}src:${t}}`}return(i=this._inspectFont)==null||i.call(this,this,t),r}getPathGenerator(e,t){if(this.compiledGlyphs[t]!==void 0)return this.compiledGlyphs[t];let r;try{r=e.get(this.loadedName+"_path_"+t)}catch(s){re(`getPathGenerator - ignoring character: "${s}".`)}if(!Array.isArray(r)||r.length===0)return this.compiledGlyphs[t]=function(s,o){};const i=[];for(let s=0,o=r.length;s<o;)switch(r[s++]){case Ur.BEZIER_CURVE_TO:{const[a,l,u,d,h,f]=r.slice(s,s+6);i.push(p=>p.bezierCurveTo(a,l,u,d,h,f)),s+=6}break;case Ur.MOVE_TO:{const[a,l]=r.slice(s,s+2);i.push(u=>u.moveTo(a,l)),s+=2}break;case Ur.LINE_TO:{const[a,l]=r.slice(s,s+2);i.push(u=>u.lineTo(a,l)),s+=2}break;case Ur.QUADRATIC_CURVE_TO:{const[a,l,u,d]=r.slice(s,s+4);i.push(h=>h.quadraticCurveTo(a,l,u,d)),s+=4}break;case Ur.RESTORE:i.push(a=>a.restore());break;case Ur.SAVE:i.push(a=>a.save());break;case Ur.SCALE:nt(i.length===2,"Scale command is only valid at the third position.");break;case Ur.TRANSFORM:{const[a,l,u,d,h,f]=r.slice(s,s+6);i.push(p=>p.transform(a,l,u,d,h,f)),s+=6}break;case Ur.TRANSLATE:{const[a,l]=r.slice(s,s+2);i.push(u=>u.translate(a,l)),s+=2}break}return this.compiledGlyphs[t]=function(o,a){i[0](o),i[1](o),o.scale(a,-a);for(let l=2,u=i.length;l<u;l++)i[l](o)}}}if(Rt){var kv=Promise.withResolvers(),cu=null;(async()=>{const e=await Jh(()=>import("./__vite-browser-external-BIHI7g3E.js"),[]),t=await Jh(()=>import("./__vite-browser-external-BIHI7g3E.js"),[]),r=await Jh(()=>import("./__vite-browser-external-BIHI7g3E.js"),[]),i=await Jh(()=>import("./__vite-browser-external-BIHI7g3E.js"),[]);let s,o;return new Map(Object.entries({fs:e,http:t,https:r,url:i,canvas:s,path2d:o}))})().then(e=>{cu=e,kv.resolve()},e=>{re(`loadPackages: ${e}`),cu=new Map,kv.resolve()})}class Br{static get promise(){return kv.promise}static get(e){return cu==null?void 0:cu.get(e)}}const $_=function(n){return Br.get("fs").promises.readFile(n).then(t=>new Uint8Array(t))};class ID extends Om{}class OD extends jm{_createCanvas(e,t){return Br.get("canvas").createCanvas(e,t)}}class jD extends $m{_fetchData(e,t){return $_(e).then(r=>({cMapData:r,compressionType:t}))}}class $D extends Hm{_fetchData(e){return $_(e)}}const $t={FILL:"Fill",STROKE:"Stroke",SHADING:"Shading"};function Pv(n,e){if(!e)return;const t=e[2]-e[0],r=e[3]-e[1],i=new Path2D;i.rect(e[0],e[1],t,r),n.clip(i)}class Ph{constructor(){this.constructor===Ph&&xe("Cannot initialize BaseShadingPattern.")}getPattern(){xe("Abstract method `getPattern` called.")}}class HD extends Ph{constructor(e){super(),this._type=e[1],this._bbox=e[2],this._colorStops=e[3],this._p0=e[4],this._p1=e[5],this._r0=e[6],this._r1=e[7],this.matrix=null}_createGradient(e){let t;this._type==="axial"?t=e.createLinearGradient(this._p0[0],this._p0[1],this._p1[0],this._p1[1]):this._type==="radial"&&(t=e.createRadialGradient(this._p0[0],this._p0[1],this._r0,this._p1[0],this._p1[1],this._r1));for(const r of this._colorStops)t.addColorStop(r[0],r[1]);return t}getPattern(e,t,r,i){let s;if(i===$t.STROKE||i===$t.FILL){const o=t.current.getClippedPathBoundingBox(i,Ne(e))||[0,0,0,0],a=Math.ceil(o[2]-o[0])||1,l=Math.ceil(o[3]-o[1])||1,u=t.cachedCanvases.getCanvas("pattern",a,l,!0),d=u.context;d.clearRect(0,0,d.canvas.width,d.canvas.height),d.beginPath(),d.rect(0,0,d.canvas.width,d.canvas.height),d.translate(-o[0],-o[1]),r=X.transform(r,[1,0,0,1,o[0],o[1]]),d.transform(...t.baseTransform),this.matrix&&d.transform(...this.matrix),Pv(d,this._bbox),d.fillStyle=this._createGradient(d),d.fill(),s=e.createPattern(u.canvas,"no-repeat");const h=new DOMMatrix(r);s.setTransform(h)}else Pv(e,this._bbox),s=this._createGradient(e);return s}}function $g(n,e,t,r,i,s,o,a){const l=e.coords,u=e.colors,d=n.data,h=n.width*4;let f;l[t+1]>l[r+1]&&(f=t,t=r,r=f,f=s,s=o,o=f),l[r+1]>l[i+1]&&(f=r,r=i,i=f,f=o,o=a,a=f),l[t+1]>l[r+1]&&(f=t,t=r,r=f,f=s,s=o,o=f);const p=(l[t]+e.offsetX)*e.scaleX,m=(l[t+1]+e.offsetY)*e.scaleY,v=(l[r]+e.offsetX)*e.scaleX,b=(l[r+1]+e.offsetY)*e.scaleY,g=(l[i]+e.offsetX)*e.scaleX,y=(l[i+1]+e.offsetY)*e.scaleY;if(m>=y)return;const x=u[s],C=u[s+1],T=u[s+2],k=u[o],P=u[o+1],R=u[o+2],F=u[a],D=u[a+1],N=u[a+2],q=Math.round(m),U=Math.round(y);let z,j,K,I,L,$,G,ne;for(let J=q;J<=U;J++){if(J<b){const ae=J<m?0:(m-J)/(m-b);z=p-(p-v)*ae,j=x-(x-k)*ae,K=C-(C-P)*ae,I=T-(T-R)*ae}else{let ae;J>y?ae=1:b===y?ae=0:ae=(b-J)/(b-y),z=v-(v-g)*ae,j=k-(k-F)*ae,K=P-(P-D)*ae,I=R-(R-N)*ae}let fe;J<m?fe=0:J>y?fe=1:fe=(m-J)/(m-y),L=p-(p-g)*fe,$=x-(x-F)*fe,G=C-(C-D)*fe,ne=T-(T-N)*fe;const Pe=Math.round(Math.min(z,L)),Mt=Math.round(Math.max(z,L));let $e=h*J+Pe*4;for(let ae=Pe;ae<=Mt;ae++)fe=(z-ae)/(z-L),fe<0?fe=0:fe>1&&(fe=1),d[$e++]=j-(j-$)*fe|0,d[$e++]=K-(K-G)*fe|0,d[$e++]=I-(I-ne)*fe|0,d[$e++]=255}}function BD(n,e,t){const r=e.coords,i=e.colors;let s,o;switch(e.type){case"lattice":const a=e.verticesPerRow,l=Math.floor(r.length/a)-1,u=a-1;for(s=0;s<l;s++){let d=s*a;for(let h=0;h<u;h++,d++)$g(n,t,r[d],r[d+1],r[d+a],i[d],i[d+1],i[d+a]),$g(n,t,r[d+a+1],r[d+1],r[d+a],i[d+a+1],i[d+1],i[d+a])}break;case"triangles":for(s=0,o=r.length;s<o;s+=3)$g(n,t,r[s],r[s+1],r[s+2],i[s],i[s+1],i[s+2]);break;default:throw new Error("illegal figure")}}class zD extends Ph{constructor(e){super(),this._coords=e[2],this._colors=e[3],this._figures=e[4],this._bounds=e[5],this._bbox=e[7],this._background=e[8],this.matrix=null}_createMeshCanvas(e,t,r){const a=Math.floor(this._bounds[0]),l=Math.floor(this._bounds[1]),u=Math.ceil(this._bounds[2])-a,d=Math.ceil(this._bounds[3])-l,h=Math.min(Math.ceil(Math.abs(u*e[0]*1.1)),3e3),f=Math.min(Math.ceil(Math.abs(d*e[1]*1.1)),3e3),p=u/h,m=d/f,v={coords:this._coords,colors:this._colors,offsetX:-a,offsetY:-l,scaleX:1/p,scaleY:1/m},b=h+2*2,g=f+2*2,y=r.getCanvas("mesh",b,g,!1),x=y.context,C=x.createImageData(h,f);if(t){const k=C.data;for(let P=0,R=k.length;P<R;P+=4)k[P]=t[0],k[P+1]=t[1],k[P+2]=t[2],k[P+3]=255}for(const k of this._figures)BD(C,k,v);return x.putImageData(C,2,2),{canvas:y.canvas,offsetX:a-2*p,offsetY:l-2*m,scaleX:p,scaleY:m}}getPattern(e,t,r,i){Pv(e,this._bbox);let s;if(i===$t.SHADING)s=X.singularValueDecompose2dScale(Ne(e));else if(s=X.singularValueDecompose2dScale(t.baseTransform),this.matrix){const a=X.singularValueDecompose2dScale(this.matrix);s=[s[0]*a[0],s[1]*a[1]]}const o=this._createMeshCanvas(s,i===$t.SHADING?null:this._background,t.cachedCanvases);return i!==$t.SHADING&&(e.setTransform(...t.baseTransform),this.matrix&&e.transform(...this.matrix)),e.translate(o.offsetX,o.offsetY),e.scale(o.scaleX,o.scaleY),e.createPattern(o.canvas,"no-repeat")}}class UD extends Ph{getPattern(){return"hotpink"}}function VD(n){switch(n[0]){case"RadialAxial":return new HD(n);case"Mesh":return new zD(n);case"Dummy":return new UD}throw new Error(`Unknown IR type: ${n[0]}`)}const Jw={COLORED:1,UNCOLORED:2},Gp=class Gp{constructor(e,t,r,i,s){this.operatorList=e[2],this.matrix=e[3],this.bbox=e[4],this.xstep=e[5],this.ystep=e[6],this.paintType=e[7],this.tilingType=e[8],this.color=t,this.ctx=r,this.canvasGraphicsFactory=i,this.baseTransform=s}createPatternCanvas(e){const t=this.operatorList,r=this.bbox,i=this.xstep,s=this.ystep,o=this.paintType,a=this.tilingType,l=this.color,u=this.canvasGraphicsFactory;Dm("TilingType: "+a);const d=r[0],h=r[1],f=r[2],p=r[3],m=X.singularValueDecompose2dScale(this.matrix),v=X.singularValueDecompose2dScale(this.baseTransform),b=[m[0]*v[0],m[1]*v[1]],g=this.getSizeAndScale(i,this.ctx.canvas.width,b[0]),y=this.getSizeAndScale(s,this.ctx.canvas.height,b[1]),x=e.cachedCanvases.getCanvas("pattern",g.size,y.size,!0),C=x.context,T=u.createCanvasGraphics(C);T.groupLevel=e.groupLevel,this.setFillAndStrokeStyleToContext(T,o,l);let k=d,P=h,R=f,F=p;return d<0&&(k=0,R+=Math.abs(d)),h<0&&(P=0,F+=Math.abs(h)),C.translate(-(g.scale*k),-(y.scale*P)),T.transform(g.scale,0,0,y.scale,0,0),C.save(),this.clipBbox(T,k,P,R,F),T.baseTransform=Ne(T.ctx),T.executeOperatorList(t),T.endDrawing(),{canvas:x.canvas,scaleX:g.scale,scaleY:y.scale,offsetX:k,offsetY:P}}getSizeAndScale(e,t,r){e=Math.abs(e);const i=Math.max(Gp.MAX_PATTERN_SIZE,t);let s=Math.ceil(e*r);return s>=i?s=i:r=s/e,{scale:r,size:s}}clipBbox(e,t,r,i,s){const o=i-t,a=s-r;e.ctx.rect(t,r,o,a),e.current.updateRectMinMax(Ne(e.ctx),[t,r,i,s]),e.clip(),e.endPath()}setFillAndStrokeStyleToContext(e,t,r){const i=e.ctx,s=e.current;switch(t){case Jw.COLORED:const o=this.ctx;i.fillStyle=o.fillStyle,i.strokeStyle=o.strokeStyle,s.fillColor=o.fillStyle,s.strokeColor=o.strokeStyle;break;case Jw.UNCOLORED:const a=X.makeHexColor(r[0],r[1],r[2]);i.fillStyle=a,i.strokeStyle=a,s.fillColor=a,s.strokeColor=a;break;default:throw new gD(`Unsupported paint type: ${t}`)}}getPattern(e,t,r,i){let s=r;i!==$t.SHADING&&(s=X.transform(s,t.baseTransform),this.matrix&&(s=X.transform(s,this.matrix)));const o=this.createPatternCanvas(t);let a=new DOMMatrix(s);a=a.translate(o.offsetX,o.offsetY),a=a.scale(1/o.scaleX,1/o.scaleY);const l=e.createPattern(o.canvas,"repeat");return l.setTransform(a),l}};ee(Gp,"MAX_PATTERN_SIZE",3e3);let Rv=Gp;function WD({src:n,srcPos:e=0,dest:t,width:r,height:i,nonBlackColor:s=4294967295,inverseDecode:o=!1}){const a=Jt.isLittleEndian?4278190080:255,[l,u]=o?[s,a]:[a,s],d=r>>3,h=r&7,f=n.length;t=new Uint32Array(t.buffer);let p=0;for(let m=0;m<i;m++){for(const b=e+d;e<b;e++){const g=e<f?n[e]:255;t[p++]=g&128?u:l,t[p++]=g&64?u:l,t[p++]=g&32?u:l,t[p++]=g&16?u:l,t[p++]=g&8?u:l,t[p++]=g&4?u:l,t[p++]=g&2?u:l,t[p++]=g&1?u:l}if(h===0)continue;const v=e<f?n[e++]:255;for(let b=0;b<h;b++)t[p++]=v&1<<7-b?u:l}return{srcPos:e,destPos:p}}const eb=16,tb=100,GD=15,nb=10,rb=1e3,Xt=16;function qD(n,e){if(n._removeMirroring)throw new Error("Context is already forwarding operations.");n.__originalSave=n.save,n.__originalRestore=n.restore,n.__originalRotate=n.rotate,n.__originalScale=n.scale,n.__originalTranslate=n.translate,n.__originalTransform=n.transform,n.__originalSetTransform=n.setTransform,n.__originalResetTransform=n.resetTransform,n.__originalClip=n.clip,n.__originalMoveTo=n.moveTo,n.__originalLineTo=n.lineTo,n.__originalBezierCurveTo=n.bezierCurveTo,n.__originalRect=n.rect,n.__originalClosePath=n.closePath,n.__originalBeginPath=n.beginPath,n._removeMirroring=()=>{n.save=n.__originalSave,n.restore=n.__originalRestore,n.rotate=n.__originalRotate,n.scale=n.__originalScale,n.translate=n.__originalTranslate,n.transform=n.__originalTransform,n.setTransform=n.__originalSetTransform,n.resetTransform=n.__originalResetTransform,n.clip=n.__originalClip,n.moveTo=n.__originalMoveTo,n.lineTo=n.__originalLineTo,n.bezierCurveTo=n.__originalBezierCurveTo,n.rect=n.__originalRect,n.closePath=n.__originalClosePath,n.beginPath=n.__originalBeginPath,delete n._removeMirroring},n.save=function(){e.save(),this.__originalSave()},n.restore=function(){e.restore(),this.__originalRestore()},n.translate=function(r,i){e.translate(r,i),this.__originalTranslate(r,i)},n.scale=function(r,i){e.scale(r,i),this.__originalScale(r,i)},n.transform=function(r,i,s,o,a,l){e.transform(r,i,s,o,a,l),this.__originalTransform(r,i,s,o,a,l)},n.setTransform=function(r,i,s,o,a,l){e.setTransform(r,i,s,o,a,l),this.__originalSetTransform(r,i,s,o,a,l)},n.resetTransform=function(){e.resetTransform(),this.__originalResetTransform()},n.rotate=function(r){e.rotate(r),this.__originalRotate(r)},n.clip=function(r){e.clip(r),this.__originalClip(r)},n.moveTo=function(t,r){e.moveTo(t,r),this.__originalMoveTo(t,r)},n.lineTo=function(t,r){e.lineTo(t,r),this.__originalLineTo(t,r)},n.bezierCurveTo=function(t,r,i,s,o,a){e.bezierCurveTo(t,r,i,s,o,a),this.__originalBezierCurveTo(t,r,i,s,o,a)},n.rect=function(t,r,i,s){e.rect(t,r,i,s),this.__originalRect(t,r,i,s)},n.closePath=function(){e.closePath(),this.__originalClosePath()},n.beginPath=function(){e.beginPath(),this.__originalBeginPath()}}class XD{constructor(e){this.canvasFactory=e,this.cache=Object.create(null)}getCanvas(e,t,r){let i;return this.cache[e]!==void 0?(i=this.cache[e],this.canvasFactory.reset(i,t,r)):(i=this.canvasFactory.create(t,r),this.cache[e]=i),i}delete(e){delete this.cache[e]}clear(){for(const e in this.cache){const t=this.cache[e];this.canvasFactory.destroy(t),delete this.cache[e]}}}function ef(n,e,t,r,i,s,o,a,l,u){const[d,h,f,p,m,v]=Ne(n);if(h===0&&f===0){const y=o*d+m,x=Math.round(y),C=a*p+v,T=Math.round(C),k=(o+l)*d+m,P=Math.abs(Math.round(k)-x)||1,R=(a+u)*p+v,F=Math.abs(Math.round(R)-T)||1;return n.setTransform(Math.sign(d),0,0,Math.sign(p),x,T),n.drawImage(e,t,r,i,s,0,0,P,F),n.setTransform(d,h,f,p,m,v),[P,F]}if(d===0&&p===0){const y=a*f+m,x=Math.round(y),C=o*h+v,T=Math.round(C),k=(a+u)*f+m,P=Math.abs(Math.round(k)-x)||1,R=(o+l)*h+v,F=Math.abs(Math.round(R)-T)||1;return n.setTransform(0,Math.sign(h),Math.sign(f),0,x,T),n.drawImage(e,t,r,i,s,0,0,F,P),n.setTransform(d,h,f,p,m,v),[F,P]}n.drawImage(e,t,r,i,s,o,a,l,u);const b=Math.hypot(d,h),g=Math.hypot(f,p);return[b*l,g*u]}function KD(n){const{width:e,height:t}=n;if(e>rb||t>rb)return null;const r=1e3,i=new Uint8Array([0,2,4,0,1,0,5,4,8,10,0,8,0,2,1,0]),s=e+1;let o=new Uint8Array(s*(t+1)),a,l,u;const d=e+7&-8;let h=new Uint8Array(d*t),f=0;for(const g of n.data){let y=128;for(;y>0;)h[f++]=g&y?0:255,y>>=1}let p=0;for(f=0,h[f]!==0&&(o[0]=1,++p),l=1;l<e;l++)h[f]!==h[f+1]&&(o[l]=h[f]?2:1,++p),f++;for(h[f]!==0&&(o[l]=2,++p),a=1;a<t;a++){f=a*d,u=a*s,h[f-d]!==h[f]&&(o[u]=h[f]?1:8,++p);let g=(h[f]?4:0)+(h[f-d]?8:0);for(l=1;l<e;l++)g=(g>>2)+(h[f+1]?4:0)+(h[f-d+1]?8:0),i[g]&&(o[u+l]=i[g],++p),f++;if(h[f-d]!==h[f]&&(o[u+l]=h[f]?2:4,++p),p>r)return null}for(f=d*(t-1),u=a*s,h[f]!==0&&(o[u]=8,++p),l=1;l<e;l++)h[f]!==h[f+1]&&(o[u+l]=h[f]?4:8,++p),f++;if(h[f]!==0&&(o[u+l]=4,++p),p>r)return null;const m=new Int32Array([0,s,-1,0,-s,0,0,0,1]),v=new Path2D;for(a=0;p&&a<=t;a++){let g=a*s;const y=g+e;for(;g<y&&!o[g];)g++;if(g===y)continue;v.moveTo(g%s,a);const x=g;let C=o[g];do{const T=m[C];do g+=T;while(!o[g]);const k=o[g];k!==5&&k!==10?(C=k,o[g]=0):(C=k&51*C>>4,o[g]&=C>>2|C<<2),v.lineTo(g%s,g/s|0),o[g]||--p}while(x!==g);--a}return h=null,o=null,function(g){g.save(),g.scale(1/e,-1/t),g.translate(0,-t),g.fill(v),g.beginPath(),g.restore()}}class ib{constructor(e,t){this.alphaIsShape=!1,this.fontSize=0,this.fontSizeScale=1,this.textMatrix=s_,this.textMatrixScale=1,this.fontMatrix=ev,this.leading=0,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRenderingMode=St.FILL,this.textRise=0,this.fillColor="#000000",this.strokeColor="#000000",this.patternFill=!1,this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.activeSMask=null,this.transferMaps="none",this.startNewPathAndClipBox([0,0,e,t])}clone(){const e=Object.create(this);return e.clipBox=this.clipBox.slice(),e}setCurrentPoint(e,t){this.x=e,this.y=t}updatePathMinMax(e,t,r){[t,r]=X.applyTransform([t,r],e),this.minX=Math.min(this.minX,t),this.minY=Math.min(this.minY,r),this.maxX=Math.max(this.maxX,t),this.maxY=Math.max(this.maxY,r)}updateRectMinMax(e,t){const r=X.applyTransform(t,e),i=X.applyTransform(t.slice(2),e),s=X.applyTransform([t[0],t[3]],e),o=X.applyTransform([t[2],t[1]],e);this.minX=Math.min(this.minX,r[0],i[0],s[0],o[0]),this.minY=Math.min(this.minY,r[1],i[1],s[1],o[1]),this.maxX=Math.max(this.maxX,r[0],i[0],s[0],o[0]),this.maxY=Math.max(this.maxY,r[1],i[1],s[1],o[1])}updateScalingPathMinMax(e,t){X.scaleMinMax(e,t),this.minX=Math.min(this.minX,t[0]),this.minY=Math.min(this.minY,t[1]),this.maxX=Math.max(this.maxX,t[2]),this.maxY=Math.max(this.maxY,t[3])}updateCurvePathMinMax(e,t,r,i,s,o,a,l,u,d){const h=X.bezierBoundingBox(t,r,i,s,o,a,l,u,d);d||this.updateRectMinMax(e,h)}getPathBoundingBox(e=$t.FILL,t=null){const r=[this.minX,this.minY,this.maxX,this.maxY];if(e===$t.STROKE){t||xe("Stroke bounding box must include transform.");const i=X.singularValueDecompose2dScale(t),s=i[0]*this.lineWidth/2,o=i[1]*this.lineWidth/2;r[0]-=s,r[1]-=o,r[2]+=s,r[3]+=o}return r}updateClipFromPath(){const e=X.intersect(this.clipBox,this.getPathBoundingBox());this.startNewPathAndClipBox(e||[0,0,0,0])}isEmptyClip(){return this.minX===1/0}startNewPathAndClipBox(e){this.clipBox=e,this.minX=1/0,this.minY=1/0,this.maxX=0,this.maxY=0}getClippedPathBoundingBox(e=$t.FILL,t=null){return X.intersect(this.clipBox,this.getPathBoundingBox(e,t))}}function sb(n,e){if(typeof ImageData<"u"&&e instanceof ImageData){n.putImageData(e,0,0);return}const t=e.height,r=e.width,i=t%Xt,s=(t-i)/Xt,o=i===0?s:s+1,a=n.createImageData(r,Xt);let l=0,u;const d=e.data,h=a.data;let f,p,m,v;if(e.kind===Ef.GRAYSCALE_1BPP){const b=d.byteLength,g=new Uint32Array(h.buffer,0,h.byteLength>>2),y=g.length,x=r+7>>3,C=4294967295,T=Jt.isLittleEndian?4278190080:255;for(f=0;f<o;f++){for(m=f<s?Xt:i,u=0,p=0;p<m;p++){const k=b-l;let P=0;const R=k>x?r:k*8-7,F=R&-8;let D=0,N=0;for(;P<F;P+=8)N=d[l++],g[u++]=N&128?C:T,g[u++]=N&64?C:T,g[u++]=N&32?C:T,g[u++]=N&16?C:T,g[u++]=N&8?C:T,g[u++]=N&4?C:T,g[u++]=N&2?C:T,g[u++]=N&1?C:T;for(;P<R;P++)D===0&&(N=d[l++],D=128),g[u++]=N&D?C:T,D>>=1}for(;u<y;)g[u++]=0;n.putImageData(a,0,f*Xt)}}else if(e.kind===Ef.RGBA_32BPP){for(p=0,v=r*Xt*4,f=0;f<s;f++)h.set(d.subarray(l,l+v)),l+=v,n.putImageData(a,0,p),p+=Xt;f<o&&(v=r*i*4,h.set(d.subarray(l,l+v)),n.putImageData(a,0,p))}else if(e.kind===Ef.RGB_24BPP)for(m=Xt,v=r*m,f=0;f<o;f++){for(f>=s&&(m=i,v=r*m),u=0,p=v;p--;)h[u++]=d[l++],h[u++]=d[l++],h[u++]=d[l++],h[u++]=255;n.putImageData(a,0,f*Xt)}else throw new Error(`bad image kind: ${e.kind}`)}function ob(n,e){if(e.bitmap){n.drawImage(e.bitmap,0,0);return}const t=e.height,r=e.width,i=t%Xt,s=(t-i)/Xt,o=i===0?s:s+1,a=n.createImageData(r,Xt);let l=0;const u=e.data,d=a.data;for(let h=0;h<o;h++){const f=h<s?Xt:i;({srcPos:l}=WD({src:u,srcPos:l,dest:d,width:r,height:f,nonBlackColor:0})),n.putImageData(a,0,h*Xt)}}function Rc(n,e){const t=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font","filter"];for(const r of t)n[r]!==void 0&&(e[r]=n[r]);n.setLineDash!==void 0&&(e.setLineDash(n.getLineDash()),e.lineDashOffset=n.lineDashOffset)}function tf(n){if(n.strokeStyle=n.fillStyle="#000000",n.fillRule="nonzero",n.globalAlpha=1,n.lineWidth=1,n.lineCap="butt",n.lineJoin="miter",n.miterLimit=10,n.globalCompositeOperation="source-over",n.font="10px sans-serif",n.setLineDash!==void 0&&(n.setLineDash([]),n.lineDashOffset=0),!Rt){const{filter:e}=n;e!=="none"&&e!==""&&(n.filter="none")}}function ab(n,e){if(e)return!0;const t=X.singularValueDecompose2dScale(n);t[0]=Math.fround(t[0]),t[1]=Math.fround(t[1]);const r=Math.fround((globalThis.devicePixelRatio||1)*Fs.PDF_TO_CSS_UNITS);return t[0]<=r&&t[1]<=r}const YD=["butt","round","square"],QD=["miter","round","bevel"],ZD={},lb={};var Os,Lv,Mv;const W1=class W1{constructor(e,t,r,i,s,{optionalContentConfig:o,markedContentStack:a=null},l,u){_(this,Os);this.ctx=e,this.current=new ib(this.ctx.canvas.width,this.ctx.canvas.height),this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=t,this.objs=r,this.canvasFactory=i,this.filterFactory=s,this.groupStack=[],this.processingType3=null,this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.suspendedCtx=null,this.contentVisible=!0,this.markedContentStack=a||[],this.optionalContentConfig=o,this.cachedCanvases=new XD(this.canvasFactory),this.cachedPatterns=new Map,this.annotationCanvasMap=l,this.viewportScale=1,this.outputScaleX=1,this.outputScaleY=1,this.pageColors=u,this._cachedScaleForStroking=[-1,0],this._cachedGetSinglePixelWidth=null,this._cachedBitmapsMap=new Map}getObject(e,t=null){return typeof e=="string"?e.startsWith("g_")?this.commonObjs.get(e):this.objs.get(e):t}beginDrawing({transform:e,viewport:t,transparency:r=!1,background:i=null}){const s=this.ctx.canvas.width,o=this.ctx.canvas.height,a=this.ctx.fillStyle;if(this.ctx.fillStyle=i||"#ffffff",this.ctx.fillRect(0,0,s,o),this.ctx.fillStyle=a,r){const l=this.cachedCanvases.getCanvas("transparent",s,o);this.compositeCtx=this.ctx,this.transparentCanvas=l.canvas,this.ctx=l.context,this.ctx.save(),this.ctx.transform(...Ne(this.compositeCtx))}this.ctx.save(),tf(this.ctx),e&&(this.ctx.transform(...e),this.outputScaleX=e[0],this.outputScaleY=e[0]),this.ctx.transform(...t.transform),this.viewportScale=t.scale,this.baseTransform=Ne(this.ctx)}executeOperatorList(e,t,r,i){const s=e.argsArray,o=e.fnArray;let a=t||0;const l=s.length;if(l===a)return a;const u=l-a>nb&&typeof r=="function",d=u?Date.now()+GD:0;let h=0;const f=this.commonObjs,p=this.objs;let m;for(;;){if(i!==void 0&&a===i.nextBreakPoint)return i.breakIt(a,r),a;if(m=o[a],m!==Kn.dependency)this[m].apply(this,s[a]);else for(const v of s[a]){const b=v.startsWith("g_")?f:p;if(!b.has(v))return b.get(v,r),a}if(a++,a===l)return a;if(u&&++h>nb){if(Date.now()>d)return r(),a;h=0}}}endDrawing(){A(this,Os,Lv).call(this),this.cachedCanvases.clear(),this.cachedPatterns.clear();for(const e of this._cachedBitmapsMap.values()){for(const t of e.values())typeof HTMLCanvasElement<"u"&&t instanceof HTMLCanvasElement&&(t.width=t.height=0);e.clear()}this._cachedBitmapsMap.clear(),A(this,Os,Mv).call(this)}_scaleImage(e,t){const r=e.width,i=e.height;let s=Math.max(Math.hypot(t[0],t[1]),1),o=Math.max(Math.hypot(t[2],t[3]),1),a=r,l=i,u="prescale1",d,h;for(;s>2&&a>1||o>2&&l>1;){let f=a,p=l;s>2&&a>1&&(f=a>=16384?Math.floor(a/2)-1||1:Math.ceil(a/2),s/=a/f),o>2&&l>1&&(p=l>=16384?Math.floor(l/2)-1||1:Math.ceil(l)/2,o/=l/p),d=this.cachedCanvases.getCanvas(u,f,p),h=d.context,h.clearRect(0,0,f,p),h.drawImage(e,0,0,a,l,0,0,f,p),e=d.canvas,a=f,l=p,u=u==="prescale1"?"prescale2":"prescale1"}return{img:e,paintWidth:a,paintHeight:l}}_createMaskCanvas(e){const t=this.ctx,{width:r,height:i}=e,s=this.current.fillColor,o=this.current.patternFill,a=Ne(t);let l,u,d,h;if((e.bitmap||e.data)&&e.count>1){const R=e.bitmap||e.data.buffer;u=JSON.stringify(o?a:[a.slice(0,4),s]),l=this._cachedBitmapsMap.get(R),l||(l=new Map,this._cachedBitmapsMap.set(R,l));const F=l.get(u);if(F&&!o){const D=Math.round(Math.min(a[0],a[2])+a[4]),N=Math.round(Math.min(a[1],a[3])+a[5]);return{canvas:F,offsetX:D,offsetY:N}}d=F}d||(h=this.cachedCanvases.getCanvas("maskCanvas",r,i),ob(h.context,e));let f=X.transform(a,[1/r,0,0,-1/i,0,0]);f=X.transform(f,[1,0,0,1,0,-i]);const[p,m,v,b]=X.getAxialAlignedBoundingBox([0,0,r,i],f),g=Math.round(v-p)||1,y=Math.round(b-m)||1,x=this.cachedCanvases.getCanvas("fillCanvas",g,y),C=x.context,T=p,k=m;C.translate(-T,-k),C.transform(...f),d||(d=this._scaleImage(h.canvas,Vr(C)),d=d.img,l&&o&&l.set(u,d)),C.imageSmoothingEnabled=ab(Ne(C),e.interpolate),ef(C,d,0,0,d.width,d.height,0,0,r,i),C.globalCompositeOperation="source-in";const P=X.transform(Vr(C),[1,0,0,1,-T,-k]);return C.fillStyle=o?s.getPattern(t,this,P,$t.FILL):s,C.fillRect(0,0,r,i),l&&!o&&(this.cachedCanvases.delete("fillCanvas"),l.set(u,x.canvas)),{canvas:x.canvas,offsetX:Math.round(T),offsetY:Math.round(k)}}setLineWidth(e){e!==this.current.lineWidth&&(this._cachedScaleForStroking[0]=-1),this.current.lineWidth=e,this.ctx.lineWidth=e}setLineCap(e){this.ctx.lineCap=YD[e]}setLineJoin(e){this.ctx.lineJoin=QD[e]}setMiterLimit(e){this.ctx.miterLimit=e}setDash(e,t){const r=this.ctx;r.setLineDash!==void 0&&(r.setLineDash(e),r.lineDashOffset=t)}setRenderingIntent(e){}setFlatness(e){}setGState(e){for(const[t,r]of e)switch(t){case"LW":this.setLineWidth(r);break;case"LC":this.setLineCap(r);break;case"LJ":this.setLineJoin(r);break;case"ML":this.setMiterLimit(r);break;case"D":this.setDash(r[0],r[1]);break;case"RI":this.setRenderingIntent(r);break;case"FL":this.setFlatness(r);break;case"Font":this.setFont(r[0],r[1]);break;case"CA":this.current.strokeAlpha=r;break;case"ca":this.current.fillAlpha=r,this.ctx.globalAlpha=r;break;case"BM":this.ctx.globalCompositeOperation=r;break;case"SMask":this.current.activeSMask=r?this.tempSMask:null,this.tempSMask=null,this.checkSMaskState();break;case"TR":this.ctx.filter=this.current.transferMaps=this.filterFactory.addFilter(r);break}}get inSMaskMode(){return!!this.suspendedCtx}checkSMaskState(){const e=this.inSMaskMode;this.current.activeSMask&&!e?this.beginSMaskMode():!this.current.activeSMask&&e&&this.endSMaskMode()}beginSMaskMode(){if(this.inSMaskMode)throw new Error("beginSMaskMode called while already in smask mode");const e=this.ctx.canvas.width,t=this.ctx.canvas.height,r="smaskGroupAt"+this.groupLevel,i=this.cachedCanvases.getCanvas(r,e,t);this.suspendedCtx=this.ctx,this.ctx=i.context;const s=this.ctx;s.setTransform(...Ne(this.suspendedCtx)),Rc(this.suspendedCtx,s),qD(s,this.suspendedCtx),this.setGState([["BM","source-over"],["ca",1],["CA",1]])}endSMaskMode(){if(!this.inSMaskMode)throw new Error("endSMaskMode called while not in smask mode");this.ctx._removeMirroring(),Rc(this.ctx,this.suspendedCtx),this.ctx=this.suspendedCtx,this.suspendedCtx=null}compose(e){if(!this.current.activeSMask)return;e?(e[0]=Math.floor(e[0]),e[1]=Math.floor(e[1]),e[2]=Math.ceil(e[2]),e[3]=Math.ceil(e[3])):e=[0,0,this.ctx.canvas.width,this.ctx.canvas.height];const t=this.current.activeSMask,r=this.suspendedCtx;this.composeSMask(r,t,this.ctx,e),this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.restore()}composeSMask(e,t,r,i){const s=i[0],o=i[1],a=i[2]-s,l=i[3]-o;a===0||l===0||(this.genericComposeSMask(t.context,r,a,l,t.subtype,t.backdrop,t.transferMap,s,o,t.offsetX,t.offsetY),e.save(),e.globalAlpha=1,e.globalCompositeOperation="source-over",e.setTransform(1,0,0,1,0,0),e.drawImage(r.canvas,0,0),e.restore())}genericComposeSMask(e,t,r,i,s,o,a,l,u,d,h){let f=e.canvas,p=l-d,m=u-h;if(o){if(p<0||m<0||p+r>f.width||m+i>f.height){const b=this.cachedCanvases.getCanvas("maskExtension",r,i),g=b.context;g.drawImage(f,-p,-m),o.some(y=>y!==0)&&(g.globalCompositeOperation="destination-atop",g.fillStyle=X.makeHexColor(...o),g.fillRect(0,0,r,i),g.globalCompositeOperation="source-over"),f=b.canvas,p=m=0}else if(o.some(b=>b!==0)){e.save(),e.globalAlpha=1,e.setTransform(1,0,0,1,0,0);const b=new Path2D;b.rect(p,m,r,i),e.clip(b),e.globalCompositeOperation="destination-atop",e.fillStyle=X.makeHexColor(...o),e.fillRect(p,m,r,i),e.restore()}}t.save(),t.globalAlpha=1,t.setTransform(1,0,0,1,0,0),s==="Alpha"&&a?t.filter=this.filterFactory.addAlphaFilter(a):s==="Luminosity"&&(t.filter=this.filterFactory.addLuminosityFilter(a));const v=new Path2D;v.rect(l,u,r,i),t.clip(v),t.globalCompositeOperation="destination-in",t.drawImage(f,p,m,r,i,l,u,r,i),t.restore()}save(){this.inSMaskMode?(Rc(this.ctx,this.suspendedCtx),this.suspendedCtx.save()):this.ctx.save();const e=this.current;this.stateStack.push(e),this.current=e.clone()}restore(){this.stateStack.length===0&&this.inSMaskMode&&this.endSMaskMode(),this.stateStack.length!==0&&(this.current=this.stateStack.pop(),this.inSMaskMode?(this.suspendedCtx.restore(),Rc(this.suspendedCtx,this.ctx)):this.ctx.restore(),this.checkSMaskState(),this.pendingClip=null,this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null)}transform(e,t,r,i,s,o){this.ctx.transform(e,t,r,i,s,o),this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}constructPath(e,t,r){const i=this.ctx,s=this.current;let o=s.x,a=s.y,l,u;const d=Ne(i),h=d[0]===0&&d[3]===0||d[1]===0&&d[2]===0,f=h?r.slice(0):null;for(let p=0,m=0,v=e.length;p<v;p++)switch(e[p]|0){case Kn.rectangle:o=t[m++],a=t[m++];const b=t[m++],g=t[m++],y=o+b,x=a+g;i.moveTo(o,a),b===0||g===0?i.lineTo(y,x):(i.lineTo(y,a),i.lineTo(y,x),i.lineTo(o,x)),h||s.updateRectMinMax(d,[o,a,y,x]),i.closePath();break;case Kn.moveTo:o=t[m++],a=t[m++],i.moveTo(o,a),h||s.updatePathMinMax(d,o,a);break;case Kn.lineTo:o=t[m++],a=t[m++],i.lineTo(o,a),h||s.updatePathMinMax(d,o,a);break;case Kn.curveTo:l=o,u=a,o=t[m+4],a=t[m+5],i.bezierCurveTo(t[m],t[m+1],t[m+2],t[m+3],o,a),s.updateCurvePathMinMax(d,l,u,t[m],t[m+1],t[m+2],t[m+3],o,a,f),m+=6;break;case Kn.curveTo2:l=o,u=a,i.bezierCurveTo(o,a,t[m],t[m+1],t[m+2],t[m+3]),s.updateCurvePathMinMax(d,l,u,o,a,t[m],t[m+1],t[m+2],t[m+3],f),o=t[m+2],a=t[m+3],m+=4;break;case Kn.curveTo3:l=o,u=a,o=t[m+2],a=t[m+3],i.bezierCurveTo(t[m],t[m+1],o,a,o,a),s.updateCurvePathMinMax(d,l,u,t[m],t[m+1],o,a,o,a,f),m+=4;break;case Kn.closePath:i.closePath();break}h&&s.updateScalingPathMinMax(d,f),s.setCurrentPoint(o,a)}closePath(){this.ctx.closePath()}stroke(e=!0){const t=this.ctx,r=this.current.strokeColor;t.globalAlpha=this.current.strokeAlpha,this.contentVisible&&(typeof r=="object"&&(r!=null&&r.getPattern)?(t.save(),t.strokeStyle=r.getPattern(t,this,Vr(t),$t.STROKE),this.rescaleAndStroke(!1),t.restore()):this.rescaleAndStroke(!0)),e&&this.consumePath(this.current.getClippedPathBoundingBox()),t.globalAlpha=this.current.fillAlpha}closeStroke(){this.closePath(),this.stroke()}fill(e=!0){const t=this.ctx,r=this.current.fillColor,i=this.current.patternFill;let s=!1;i&&(t.save(),t.fillStyle=r.getPattern(t,this,Vr(t),$t.FILL),s=!0);const o=this.current.getClippedPathBoundingBox();this.contentVisible&&o!==null&&(this.pendingEOFill?(t.fill("evenodd"),this.pendingEOFill=!1):t.fill()),s&&t.restore(),e&&this.consumePath(o)}eoFill(){this.pendingEOFill=!0,this.fill()}fillStroke(){this.fill(!1),this.stroke(!1),this.consumePath()}eoFillStroke(){this.pendingEOFill=!0,this.fillStroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.pendingEOFill=!0,this.closePath(),this.fillStroke()}endPath(){this.consumePath()}clip(){this.pendingClip=ZD}eoClip(){this.pendingClip=lb}beginText(){this.current.textMatrix=s_,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}endText(){const e=this.pendingTextPaths,t=this.ctx;if(e===void 0){t.beginPath();return}t.save(),t.beginPath();for(const r of e)t.setTransform(...r.transform),t.translate(r.x,r.y),r.addToPath(t,r.fontSize);t.restore(),t.clip(),t.beginPath(),delete this.pendingTextPaths}setCharSpacing(e){this.current.charSpacing=e}setWordSpacing(e){this.current.wordSpacing=e}setHScale(e){this.current.textHScale=e/100}setLeading(e){this.current.leading=-e}setFont(e,t){var d;const r=this.commonObjs.get(e),i=this.current;if(!r)throw new Error(`Can't find font for ${e}`);if(i.fontMatrix=r.fontMatrix||ev,(i.fontMatrix[0]===0||i.fontMatrix[3]===0)&&re("Invalid font matrix for font "+e),t<0?(t=-t,i.fontDirection=-1):i.fontDirection=1,this.current.font=r,this.current.fontSize=t,r.isType3Font)return;const s=r.loadedName||"sans-serif",o=((d=r.systemFontInfo)==null?void 0:d.css)||`"${s}", ${r.fallbackName}`;let a="normal";r.black?a="900":r.bold&&(a="bold");const l=r.italic?"italic":"normal";let u=t;t<eb?u=eb:t>tb&&(u=tb),this.current.fontSizeScale=t/u,this.ctx.font=`${l} ${a} ${u}px ${o}`}setTextRenderingMode(e){this.current.textRenderingMode=e}setTextRise(e){this.current.textRise=e}moveText(e,t){this.current.x=this.current.lineX+=e,this.current.y=this.current.lineY+=t}setLeadingMoveText(e,t){this.setLeading(-t),this.moveText(e,t)}setTextMatrix(e,t,r,i,s,o){this.current.textMatrix=[e,t,r,i,s,o],this.current.textMatrixScale=Math.hypot(e,t),this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}nextLine(){this.moveText(0,this.current.leading)}paintChar(e,t,r,i){const s=this.ctx,o=this.current,a=o.font,l=o.textRenderingMode,u=o.fontSize/o.fontSizeScale,d=l&St.FILL_STROKE_MASK,h=!!(l&St.ADD_TO_PATH_FLAG),f=o.patternFill&&!a.missingFile;let p;(a.disableFontFace||h||f)&&(p=a.getPathGenerator(this.commonObjs,e)),a.disableFontFace||f?(s.save(),s.translate(t,r),s.beginPath(),p(s,u),i&&s.setTransform(...i),(d===St.FILL||d===St.FILL_STROKE)&&s.fill(),(d===St.STROKE||d===St.FILL_STROKE)&&s.stroke(),s.restore()):((d===St.FILL||d===St.FILL_STROKE)&&s.fillText(e,t,r),(d===St.STROKE||d===St.FILL_STROKE)&&s.strokeText(e,t,r)),h&&(this.pendingTextPaths||(this.pendingTextPaths=[])).push({transform:Ne(s),x:t,y:r,fontSize:u,addToPath:p})}get isFontSubpixelAAEnabled(){const{context:e}=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10);e.scale(1.5,1),e.fillText("I",0,10);const t=e.getImageData(0,0,10,10).data;let r=!1;for(let i=3;i<t.length;i+=4)if(t[i]>0&&t[i]<255){r=!0;break}return ue(this,"isFontSubpixelAAEnabled",r)}showText(e){const t=this.current,r=t.font;if(r.isType3Font)return this.showType3Text(e);const i=t.fontSize;if(i===0)return;const s=this.ctx,o=t.fontSizeScale,a=t.charSpacing,l=t.wordSpacing,u=t.fontDirection,d=t.textHScale*u,h=e.length,f=r.vertical,p=f?1:-1,m=r.defaultVMetrics,v=i*t.fontMatrix[0],b=t.textRenderingMode===St.FILL&&!r.disableFontFace&&!t.patternFill;s.save(),s.transform(...t.textMatrix),s.translate(t.x,t.y+t.textRise),u>0?s.scale(d,-1):s.scale(d,1);let g;if(t.patternFill){s.save();const k=t.fillColor.getPattern(s,this,Vr(s),$t.FILL);g=Ne(s),s.restore(),s.fillStyle=k}let y=t.lineWidth;const x=t.textMatrixScale;if(x===0||y===0){const k=t.textRenderingMode&St.FILL_STROKE_MASK;(k===St.STROKE||k===St.FILL_STROKE)&&(y=this.getSinglePixelWidth())}else y/=x;if(o!==1&&(s.scale(o,o),y/=o),s.lineWidth=y,r.isInvalidPDFjsFont){const k=[];let P=0;for(const R of e)k.push(R.unicode),P+=R.width;s.fillText(k.join(""),0,0),t.x+=P*v*d,s.restore(),this.compose();return}let C=0,T;for(T=0;T<h;++T){const k=e[T];if(typeof k=="number"){C+=p*k*i/1e3;continue}let P=!1;const R=(k.isSpace?l:0)+a,F=k.fontChar,D=k.accent;let N,q,U=k.width;if(f){const j=k.vmetric||m,K=-(k.vmetric?j[1]:U*.5)*v,I=j[2]*v;U=j?-j[0]:U,N=K/o,q=(C+I)/o}else N=C/o,q=0;if(r.remeasure&&U>0){const j=s.measureText(F).width*1e3/i*o;if(U<j&&this.isFontSubpixelAAEnabled){const K=U/j;P=!0,s.save(),s.scale(K,1),N/=K}else U!==j&&(N+=(U-j)/2e3*i/o)}if(this.contentVisible&&(k.isInFont||r.missingFile)){if(b&&!D)s.fillText(F,N,q);else if(this.paintChar(F,N,q,g),D){const j=N+i*D.offset.x/o,K=q-i*D.offset.y/o;this.paintChar(D.fontChar,j,K,g)}}const z=f?U*v-R*u:U*v+R*u;C+=z,P&&s.restore()}f?t.y-=C:t.x+=C*d,s.restore(),this.compose()}showType3Text(e){const t=this.ctx,r=this.current,i=r.font,s=r.fontSize,o=r.fontDirection,a=i.vertical?1:-1,l=r.charSpacing,u=r.wordSpacing,d=r.textHScale*o,h=r.fontMatrix||ev,f=e.length,p=r.textRenderingMode===St.INVISIBLE;let m,v,b,g;if(!(p||s===0)){for(this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null,t.save(),t.transform(...r.textMatrix),t.translate(r.x,r.y),t.scale(d,o),m=0;m<f;++m){if(v=e[m],typeof v=="number"){g=a*v*s/1e3,this.ctx.translate(g,0),r.x+=g*d;continue}const y=(v.isSpace?u:0)+l,x=i.charProcOperatorList[v.operatorListId];if(!x){re(`Type3 character "${v.operatorListId}" is not available.`);continue}this.contentVisible&&(this.processingType3=v,this.save(),t.scale(s,s),t.transform(...h),this.executeOperatorList(x),this.restore()),b=X.applyTransform([v.width,0],h)[0]*s+y,t.translate(b,0),r.x+=b*d}t.restore(),this.processingType3=null}}setCharWidth(e,t){}setCharWidthAndBounds(e,t,r,i,s,o){this.ctx.rect(r,i,s-r,o-i),this.ctx.clip(),this.endPath()}getColorN_Pattern(e){let t;if(e[0]==="TilingPattern"){const r=e[1],i=this.baseTransform||Ne(this.ctx),s={createCanvasGraphics:o=>new W1(o,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:this.optionalContentConfig,markedContentStack:this.markedContentStack})};t=new Rv(e,r,this.ctx,s,i)}else t=this._getPattern(e[1],e[2]);return t}setStrokeColorN(){this.current.strokeColor=this.getColorN_Pattern(arguments)}setFillColorN(){this.current.fillColor=this.getColorN_Pattern(arguments),this.current.patternFill=!0}setStrokeRGBColor(e,t,r){const i=X.makeHexColor(e,t,r);this.ctx.strokeStyle=i,this.current.strokeColor=i}setFillRGBColor(e,t,r){const i=X.makeHexColor(e,t,r);this.ctx.fillStyle=i,this.current.fillColor=i,this.current.patternFill=!1}_getPattern(e,t=null){let r;return this.cachedPatterns.has(e)?r=this.cachedPatterns.get(e):(r=VD(this.getObject(e)),this.cachedPatterns.set(e,r)),t&&(r.matrix=t),r}shadingFill(e){if(!this.contentVisible)return;const t=this.ctx;this.save();const r=this._getPattern(e);t.fillStyle=r.getPattern(t,this,Vr(t),$t.SHADING);const i=Vr(t);if(i){const{width:s,height:o}=t.canvas,[a,l,u,d]=X.getAxialAlignedBoundingBox([0,0,s,o],i);this.ctx.fillRect(a,l,u-a,d-l)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);this.compose(this.current.getClippedPathBoundingBox()),this.restore()}beginInlineImage(){xe("Should not call beginInlineImage")}beginImageData(){xe("Should not call beginImageData")}paintFormXObjectBegin(e,t){if(this.contentVisible&&(this.save(),this.baseTransformStack.push(this.baseTransform),e&&this.transform(...e),this.baseTransform=Ne(this.ctx),t)){const r=t[2]-t[0],i=t[3]-t[1];this.ctx.rect(t[0],t[1],r,i),this.current.updateRectMinMax(Ne(this.ctx),t),this.clip(),this.endPath()}}paintFormXObjectEnd(){this.contentVisible&&(this.restore(),this.baseTransform=this.baseTransformStack.pop())}beginGroup(e){if(!this.contentVisible)return;this.save(),this.inSMaskMode&&(this.endSMaskMode(),this.current.activeSMask=null);const t=this.ctx;e.isolated||Dm("TODO: Support non-isolated groups."),e.knockout&&re("Knockout groups not supported.");const r=Ne(t);if(e.matrix&&t.transform(...e.matrix),!e.bbox)throw new Error("Bounding box is required.");let i=X.getAxialAlignedBoundingBox(e.bbox,Ne(t));const s=[0,0,t.canvas.width,t.canvas.height];i=X.intersect(i,s)||[0,0,0,0];const o=Math.floor(i[0]),a=Math.floor(i[1]),l=Math.max(Math.ceil(i[2])-o,1),u=Math.max(Math.ceil(i[3])-a,1);this.current.startNewPathAndClipBox([0,0,l,u]);let d="groupAt"+this.groupLevel;e.smask&&(d+="_smask_"+this.smaskCounter++%2);const h=this.cachedCanvases.getCanvas(d,l,u),f=h.context;f.translate(-o,-a),f.transform(...r),e.smask?this.smaskStack.push({canvas:h.canvas,context:f,offsetX:o,offsetY:a,subtype:e.smask.subtype,backdrop:e.smask.backdrop,transferMap:e.smask.transferMap||null,startTransformInverse:null}):(t.setTransform(1,0,0,1,0,0),t.translate(o,a),t.save()),Rc(t,f),this.ctx=f,this.setGState([["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(t),this.groupLevel++}endGroup(e){if(!this.contentVisible)return;this.groupLevel--;const t=this.ctx,r=this.groupStack.pop();if(this.ctx=r,this.ctx.imageSmoothingEnabled=!1,e.smask)this.tempSMask=this.smaskStack.pop(),this.restore();else{this.ctx.restore();const i=Ne(this.ctx);this.restore(),this.ctx.save(),this.ctx.setTransform(...i);const s=X.getAxialAlignedBoundingBox([0,0,t.canvas.width,t.canvas.height],i);this.ctx.drawImage(t.canvas,0,0),this.ctx.restore(),this.compose(s)}}beginAnnotation(e,t,r,i,s){if(A(this,Os,Lv).call(this),tf(this.ctx),this.ctx.save(),this.save(),this.baseTransform&&this.ctx.setTransform(...this.baseTransform),t){const o=t[2]-t[0],a=t[3]-t[1];if(s&&this.annotationCanvasMap){r=r.slice(),r[4]-=t[0],r[5]-=t[1],t=t.slice(),t[0]=t[1]=0,t[2]=o,t[3]=a;const[l,u]=X.singularValueDecompose2dScale(Ne(this.ctx)),{viewportScale:d}=this,h=Math.ceil(o*this.outputScaleX*d),f=Math.ceil(a*this.outputScaleY*d);this.annotationCanvas=this.canvasFactory.create(h,f);const{canvas:p,context:m}=this.annotationCanvas;this.annotationCanvasMap.set(e,p),this.annotationCanvas.savedCtx=this.ctx,this.ctx=m,this.ctx.save(),this.ctx.setTransform(l,0,0,-u,0,a*u),tf(this.ctx)}else tf(this.ctx),this.ctx.rect(t[0],t[1],o,a),this.ctx.clip(),this.endPath()}this.current=new ib(this.ctx.canvas.width,this.ctx.canvas.height),this.transform(...r),this.transform(...i)}endAnnotation(){this.annotationCanvas&&(this.ctx.restore(),A(this,Os,Mv).call(this),this.ctx=this.annotationCanvas.savedCtx,delete this.annotationCanvas.savedCtx,delete this.annotationCanvas)}paintImageMaskXObject(e){if(!this.contentVisible)return;const t=e.count;e=this.getObject(e.data,e),e.count=t;const r=this.ctx,i=this.processingType3;if(i&&(i.compiled===void 0&&(i.compiled=KD(e)),i.compiled)){i.compiled(r);return}const s=this._createMaskCanvas(e),o=s.canvas;r.save(),r.setTransform(1,0,0,1,0,0),r.drawImage(o,s.offsetX,s.offsetY),r.restore(),this.compose()}paintImageMaskXObjectRepeat(e,t,r=0,i=0,s,o){if(!this.contentVisible)return;e=this.getObject(e.data,e);const a=this.ctx;a.save();const l=Ne(a);a.transform(t,r,i,s,0,0);const u=this._createMaskCanvas(e);a.setTransform(1,0,0,1,u.offsetX-l[4],u.offsetY-l[5]);for(let d=0,h=o.length;d<h;d+=2){const f=X.transform(l,[t,r,i,s,o[d],o[d+1]]),[p,m]=X.applyTransform([0,0],f);a.drawImage(u.canvas,p,m)}a.restore(),this.compose()}paintImageMaskXObjectGroup(e){if(!this.contentVisible)return;const t=this.ctx,r=this.current.fillColor,i=this.current.patternFill;for(const s of e){const{data:o,width:a,height:l,transform:u}=s,d=this.cachedCanvases.getCanvas("maskCanvas",a,l),h=d.context;h.save();const f=this.getObject(o,s);ob(h,f),h.globalCompositeOperation="source-in",h.fillStyle=i?r.getPattern(h,this,Vr(t),$t.FILL):r,h.fillRect(0,0,a,l),h.restore(),t.save(),t.transform(...u),t.scale(1,-1),ef(t,d.canvas,0,0,a,l,0,-1,1,1),t.restore()}this.compose()}paintImageXObject(e){if(!this.contentVisible)return;const t=this.getObject(e);if(!t){re("Dependent image isn't ready yet");return}this.paintInlineImageXObject(t)}paintImageXObjectRepeat(e,t,r,i){if(!this.contentVisible)return;const s=this.getObject(e);if(!s){re("Dependent image isn't ready yet");return}const o=s.width,a=s.height,l=[];for(let u=0,d=i.length;u<d;u+=2)l.push({transform:[t,0,0,r,i[u],i[u+1]],x:0,y:0,w:o,h:a});this.paintInlineImageXObjectGroup(s,l)}applyTransferMapsToCanvas(e){return this.current.transferMaps!=="none"&&(e.filter=this.current.transferMaps,e.drawImage(e.canvas,0,0),e.filter="none"),e.canvas}applyTransferMapsToBitmap(e){if(this.current.transferMaps==="none")return e.bitmap;const{bitmap:t,width:r,height:i}=e,s=this.cachedCanvases.getCanvas("inlineImage",r,i),o=s.context;return o.filter=this.current.transferMaps,o.drawImage(t,0,0),o.filter="none",s.canvas}paintInlineImageXObject(e){if(!this.contentVisible)return;const t=e.width,r=e.height,i=this.ctx;if(this.save(),!Rt){const{filter:a}=i;a!=="none"&&a!==""&&(i.filter="none")}i.scale(1/t,-1/r);let s;if(e.bitmap)s=this.applyTransferMapsToBitmap(e);else if(typeof HTMLElement=="function"&&e instanceof HTMLElement||!e.data)s=e;else{const l=this.cachedCanvases.getCanvas("inlineImage",t,r).context;sb(l,e),s=this.applyTransferMapsToCanvas(l)}const o=this._scaleImage(s,Vr(i));i.imageSmoothingEnabled=ab(Ne(i),e.interpolate),ef(i,o.img,0,0,o.paintWidth,o.paintHeight,0,-r,t,r),this.compose(),this.restore()}paintInlineImageXObjectGroup(e,t){if(!this.contentVisible)return;const r=this.ctx;let i;if(e.bitmap)i=e.bitmap;else{const s=e.width,o=e.height,l=this.cachedCanvases.getCanvas("inlineImage",s,o).context;sb(l,e),i=this.applyTransferMapsToCanvas(l)}for(const s of t)r.save(),r.transform(...s.transform),r.scale(1,-1),ef(r,i,s.x,s.y,s.w,s.h,0,-1,1,1),r.restore();this.compose()}paintSolidColorImageMask(){this.contentVisible&&(this.ctx.fillRect(0,0,1,1),this.compose())}markPoint(e){}markPointProps(e,t){}beginMarkedContent(e){this.markedContentStack.push({visible:!0})}beginMarkedContentProps(e,t){e==="OC"?this.markedContentStack.push({visible:this.optionalContentConfig.isVisible(t)}):this.markedContentStack.push({visible:!0}),this.contentVisible=this.isContentVisible()}endMarkedContent(){this.markedContentStack.pop(),this.contentVisible=this.isContentVisible()}beginCompat(){}endCompat(){}consumePath(e){const t=this.current.isEmptyClip();this.pendingClip&&this.current.updateClipFromPath(),this.pendingClip||this.compose(e);const r=this.ctx;this.pendingClip&&(t||(this.pendingClip===lb?r.clip("evenodd"):r.clip()),this.pendingClip=null),this.current.startNewPathAndClipBox(this.current.clipBox),r.beginPath()}getSinglePixelWidth(){if(!this._cachedGetSinglePixelWidth){const e=Ne(this.ctx);if(e[1]===0&&e[2]===0)this._cachedGetSinglePixelWidth=1/Math.min(Math.abs(e[0]),Math.abs(e[3]));else{const t=Math.abs(e[0]*e[3]-e[2]*e[1]),r=Math.hypot(e[0],e[2]),i=Math.hypot(e[1],e[3]);this._cachedGetSinglePixelWidth=Math.max(r,i)/t}}return this._cachedGetSinglePixelWidth}getScaleForStroking(){if(this._cachedScaleForStroking[0]===-1){const{lineWidth:e}=this.current,{a:t,b:r,c:i,d:s}=this.ctx.getTransform();let o,a;if(r===0&&i===0){const l=Math.abs(t),u=Math.abs(s);if(l===u)if(e===0)o=a=1/l;else{const d=l*e;o=a=d<1?1/d:1}else if(e===0)o=1/l,a=1/u;else{const d=l*e,h=u*e;o=d<1?1/d:1,a=h<1?1/h:1}}else{const l=Math.abs(t*s-r*i),u=Math.hypot(t,r),d=Math.hypot(i,s);if(e===0)o=d/l,a=u/l;else{const h=e*l;o=d>h?d/h:1,a=u>h?u/h:1}}this._cachedScaleForStroking[0]=o,this._cachedScaleForStroking[1]=a}return this._cachedScaleForStroking}rescaleAndStroke(e){const{ctx:t}=this,{lineWidth:r}=this.current,[i,s]=this.getScaleForStroking();if(t.lineWidth=r||1,i===1&&s===1){t.stroke();return}const o=t.getLineDash();if(e&&t.save(),t.scale(i,s),o.length>0){const a=Math.max(i,s);t.setLineDash(o.map(l=>l/a)),t.lineDashOffset/=a}t.stroke(),e&&t.restore()}isContentVisible(){for(let e=this.markedContentStack.length-1;e>=0;e--)if(!this.markedContentStack[e].visible)return!1;return!0}};Os=new WeakSet,Lv=function(){for(;this.stateStack.length||this.inSMaskMode;)this.restore();this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null)},Mv=function(){if(this.pageColors){const e=this.filterFactory.addHCMFilter(this.pageColors.foreground,this.pageColors.background);if(e!=="none"){const t=this.ctx.filter;this.ctx.filter=e,this.ctx.drawImage(this.ctx.canvas,0,0),this.ctx.filter=t}}};let el=W1;for(const n in Kn)el.prototype[n]!==void 0&&(el.prototype[Kn[n]]=el.prototype[n]);var ud,dd;class Ci{static get workerPort(){return c(this,ud)}static set workerPort(e){if(!(typeof Worker<"u"&&e instanceof Worker)&&e!==null)throw new Error("Invalid `workerPort` type.");E(this,ud,e)}static get workerSrc(){return c(this,dd)}static set workerSrc(e){if(typeof e!="string")throw new Error("Invalid `workerSrc` type.");E(this,dd,e)}}ud=new WeakMap,dd=new WeakMap,_(Ci,ud,null),_(Ci,dd,"");const nf={UNKNOWN:0,DATA:1,ERROR:2},qe={UNKNOWN:0,CANCEL:1,CANCEL_COMPLETE:2,CLOSE:3,ENQUEUE:4,ERROR:5,PULL:6,PULL_COMPLETE:7,START_COMPLETE:8};function cn(n){switch(n instanceof Error||typeof n=="object"&&n!==null||xe('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),n.name){case"AbortException":return new ba(n.message);case"MissingPDFException":return new wa(n.message);case"PasswordException":return new nv(n.message,n.code);case"UnexpectedResponseException":return new Fm(n.message,n.status);case"UnknownErrorException":return new rv(n.message,n.details);default:return new rv(n.message,n.toString())}}var $r,H_,B_,kf;class zc{constructor(e,t,r){_(this,$r);this.sourceName=e,this.targetName=t,this.comObj=r,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),this._onComObjOnMessage=i=>{const s=i.data;if(s.targetName!==this.sourceName)return;if(s.stream){A(this,$r,B_).call(this,s);return}if(s.callback){const a=s.callbackId,l=this.callbackCapabilities[a];if(!l)throw new Error(`Cannot resolve callback ${a}`);if(delete this.callbackCapabilities[a],s.callback===nf.DATA)l.resolve(s.data);else if(s.callback===nf.ERROR)l.reject(cn(s.reason));else throw new Error("Unexpected callback case");return}const o=this.actionHandler[s.action];if(!o)throw new Error(`Unknown action from worker: ${s.action}`);if(s.callbackId){const a=this.sourceName,l=s.sourceName;new Promise(function(u){u(o(s.data))}).then(function(u){r.postMessage({sourceName:a,targetName:l,callback:nf.DATA,callbackId:s.callbackId,data:u})},function(u){r.postMessage({sourceName:a,targetName:l,callback:nf.ERROR,callbackId:s.callbackId,reason:cn(u)})});return}if(s.streamId){A(this,$r,H_).call(this,s);return}o(s.data)},r.addEventListener("message",this._onComObjOnMessage)}on(e,t){const r=this.actionHandler;if(r[e])throw new Error(`There is already an actionName called "${e}"`);r[e]=t}send(e,t,r){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:e,data:t},r)}sendWithPromise(e,t,r){const i=this.callbackId++,s=Promise.withResolvers();this.callbackCapabilities[i]=s;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:e,callbackId:i,data:t},r)}catch(o){s.reject(o)}return s.promise}sendWithStream(e,t,r,i){const s=this.streamId++,o=this.sourceName,a=this.targetName,l=this.comObj;return new ReadableStream({start:u=>{const d=Promise.withResolvers();return this.streamControllers[s]={controller:u,startCall:d,pullCall:null,cancelCall:null,isClosed:!1},l.postMessage({sourceName:o,targetName:a,action:e,streamId:s,data:t,desiredSize:u.desiredSize},i),d.promise},pull:u=>{const d=Promise.withResolvers();return this.streamControllers[s].pullCall=d,l.postMessage({sourceName:o,targetName:a,stream:qe.PULL,streamId:s,desiredSize:u.desiredSize}),d.promise},cancel:u=>{nt(u instanceof Error,"cancel must have a valid reason");const d=Promise.withResolvers();return this.streamControllers[s].cancelCall=d,this.streamControllers[s].isClosed=!0,l.postMessage({sourceName:o,targetName:a,stream:qe.CANCEL,streamId:s,reason:cn(u)}),d.promise}},r)}destroy(){this.comObj.removeEventListener("message",this._onComObjOnMessage)}}$r=new WeakSet,H_=function(e){const t=e.streamId,r=this.sourceName,i=e.sourceName,s=this.comObj,o=this,a=this.actionHandler[e.action],l={enqueue(u,d=1,h){if(this.isCancelled)return;const f=this.desiredSize;this.desiredSize-=d,f>0&&this.desiredSize<=0&&(this.sinkCapability=Promise.withResolvers(),this.ready=this.sinkCapability.promise),s.postMessage({sourceName:r,targetName:i,stream:qe.ENQUEUE,streamId:t,chunk:u},h)},close(){this.isCancelled||(this.isCancelled=!0,s.postMessage({sourceName:r,targetName:i,stream:qe.CLOSE,streamId:t}),delete o.streamSinks[t])},error(u){nt(u instanceof Error,"error must have a valid reason"),!this.isCancelled&&(this.isCancelled=!0,s.postMessage({sourceName:r,targetName:i,stream:qe.ERROR,streamId:t,reason:cn(u)}))},sinkCapability:Promise.withResolvers(),onPull:null,onCancel:null,isCancelled:!1,desiredSize:e.desiredSize,ready:null};l.sinkCapability.resolve(),l.ready=l.sinkCapability.promise,this.streamSinks[t]=l,new Promise(function(u){u(a(e.data,l))}).then(function(){s.postMessage({sourceName:r,targetName:i,stream:qe.START_COMPLETE,streamId:t,success:!0})},function(u){s.postMessage({sourceName:r,targetName:i,stream:qe.START_COMPLETE,streamId:t,reason:cn(u)})})},B_=function(e){const t=e.streamId,r=this.sourceName,i=e.sourceName,s=this.comObj,o=this.streamControllers[t],a=this.streamSinks[t];switch(e.stream){case qe.START_COMPLETE:e.success?o.startCall.resolve():o.startCall.reject(cn(e.reason));break;case qe.PULL_COMPLETE:e.success?o.pullCall.resolve():o.pullCall.reject(cn(e.reason));break;case qe.PULL:if(!a){s.postMessage({sourceName:r,targetName:i,stream:qe.PULL_COMPLETE,streamId:t,success:!0});break}a.desiredSize<=0&&e.desiredSize>0&&a.sinkCapability.resolve(),a.desiredSize=e.desiredSize,new Promise(function(l){var u;l((u=a.onPull)==null?void 0:u.call(a))}).then(function(){s.postMessage({sourceName:r,targetName:i,stream:qe.PULL_COMPLETE,streamId:t,success:!0})},function(l){s.postMessage({sourceName:r,targetName:i,stream:qe.PULL_COMPLETE,streamId:t,reason:cn(l)})});break;case qe.ENQUEUE:if(nt(o,"enqueue should have stream controller"),o.isClosed)break;o.controller.enqueue(e.chunk);break;case qe.CLOSE:if(nt(o,"close should have stream controller"),o.isClosed)break;o.isClosed=!0,o.controller.close(),A(this,$r,kf).call(this,o,t);break;case qe.ERROR:nt(o,"error should have stream controller"),o.controller.error(cn(e.reason)),A(this,$r,kf).call(this,o,t);break;case qe.CANCEL_COMPLETE:e.success?o.cancelCall.resolve():o.cancelCall.reject(cn(e.reason)),A(this,$r,kf).call(this,o,t);break;case qe.CANCEL:if(!a)break;new Promise(function(l){var u;l((u=a.onCancel)==null?void 0:u.call(a,cn(e.reason)))}).then(function(){s.postMessage({sourceName:r,targetName:i,stream:qe.CANCEL_COMPLETE,streamId:t,success:!0})},function(l){s.postMessage({sourceName:r,targetName:i,stream:qe.CANCEL_COMPLETE,streamId:t,reason:cn(l)})}),a.sinkCapability.reject(cn(e.reason)),a.isCancelled=!0,delete this.streamSinks[t];break;default:throw new Error("Unexpected stream case")}},kf=async function(e,t){var r,i,s;await Promise.allSettled([(r=e.startCall)==null?void 0:r.promise,(i=e.pullCall)==null?void 0:i.promise,(s=e.cancelCall)==null?void 0:s.promise]),delete this.streamControllers[t]};var yo,hd;class JD{constructor({parsedData:e,rawData:t}){_(this,yo);_(this,hd);E(this,yo,e),E(this,hd,t)}getRaw(){return c(this,hd)}get(e){return c(this,yo).get(e)??null}getAll(){return D1(c(this,yo))}has(e){return c(this,yo).has(e)}}yo=new WeakMap,hd=new WeakMap;const Vi=Symbol("INTERNAL");var fd,pd,md,gl;class eF{constructor(e,{name:t,intent:r,usage:i}){_(this,fd,!1);_(this,pd,!1);_(this,md,!1);_(this,gl,!0);E(this,fd,!!(e&Ln.DISPLAY)),E(this,pd,!!(e&Ln.PRINT)),this.name=t,this.intent=r,this.usage=i}get visible(){if(c(this,md))return c(this,gl);if(!c(this,gl))return!1;const{print:e,view:t}=this.usage;return c(this,fd)?(t==null?void 0:t.viewState)!=="OFF":c(this,pd)?(e==null?void 0:e.printState)!=="OFF":!0}_setVisible(e,t,r=!1){e!==Vi&&xe("Internal method `_setVisible` called."),E(this,md,r),E(this,gl,t)}}fd=new WeakMap,pd=new WeakMap,md=new WeakMap,gl=new WeakMap;var ns,ye,vl,yl,gd,Nv;class tF{constructor(e,t=Ln.DISPLAY){_(this,gd);_(this,ns,null);_(this,ye,new Map);_(this,vl,null);_(this,yl,null);if(this.renderingIntent=t,this.name=null,this.creator=null,e!==null){this.name=e.name,this.creator=e.creator,E(this,yl,e.order);for(const r of e.groups)c(this,ye).set(r.id,new eF(t,r));if(e.baseState==="OFF")for(const r of c(this,ye).values())r._setVisible(Vi,!1);for(const r of e.on)c(this,ye).get(r)._setVisible(Vi,!0);for(const r of e.off)c(this,ye).get(r)._setVisible(Vi,!1);E(this,vl,this.getHash())}}isVisible(e){if(c(this,ye).size===0)return!0;if(!e)return Dm("Optional content group not defined."),!0;if(e.type==="OCG")return c(this,ye).has(e.id)?c(this,ye).get(e.id).visible:(re(`Optional content group not found: ${e.id}`),!0);if(e.type==="OCMD"){if(e.expression)return A(this,gd,Nv).call(this,e.expression);if(!e.policy||e.policy==="AnyOn"){for(const t of e.ids){if(!c(this,ye).has(t))return re(`Optional content group not found: ${t}`),!0;if(c(this,ye).get(t).visible)return!0}return!1}else if(e.policy==="AllOn"){for(const t of e.ids){if(!c(this,ye).has(t))return re(`Optional content group not found: ${t}`),!0;if(!c(this,ye).get(t).visible)return!1}return!0}else if(e.policy==="AnyOff"){for(const t of e.ids){if(!c(this,ye).has(t))return re(`Optional content group not found: ${t}`),!0;if(!c(this,ye).get(t).visible)return!0}return!1}else if(e.policy==="AllOff"){for(const t of e.ids){if(!c(this,ye).has(t))return re(`Optional content group not found: ${t}`),!0;if(c(this,ye).get(t).visible)return!1}return!0}return re(`Unknown optional content policy ${e.policy}.`),!0}return re(`Unknown group type ${e.type}.`),!0}setVisibility(e,t=!0){const r=c(this,ye).get(e);if(!r){re(`Optional content group not found: ${e}`);return}r._setVisible(Vi,!!t,!0),E(this,ns,null)}setOCGState({state:e,preserveRB:t}){let r;for(const i of e){switch(i){case"ON":case"OFF":case"Toggle":r=i;continue}const s=c(this,ye).get(i);if(s)switch(r){case"ON":s._setVisible(Vi,!0);break;case"OFF":s._setVisible(Vi,!1);break;case"Toggle":s._setVisible(Vi,!s.visible);break}}E(this,ns,null)}get hasInitialVisibility(){return c(this,vl)===null||this.getHash()===c(this,vl)}getOrder(){return c(this,ye).size?c(this,yl)?c(this,yl).slice():[...c(this,ye).keys()]:null}getGroups(){return c(this,ye).size>0?D1(c(this,ye)):null}getGroup(e){return c(this,ye).get(e)||null}getHash(){if(c(this,ns)!==null)return c(this,ns);const e=new I_;for(const[t,r]of c(this,ye))e.update(`${t}:${r.visible}`);return E(this,ns,e.hexdigest())}}ns=new WeakMap,ye=new WeakMap,vl=new WeakMap,yl=new WeakMap,gd=new WeakSet,Nv=function(e){const t=e.length;if(t<2)return!0;const r=e[0];for(let i=1;i<t;i++){const s=e[i];let o;if(Array.isArray(s))o=A(this,gd,Nv).call(this,s);else if(c(this,ye).has(s))o=c(this,ye).get(s).visible;else return re(`Optional content group not found: ${s}`),!0;switch(r){case"And":if(!o)return!1;break;case"Or":if(o)return!0;break;case"Not":return!o;default:return!0}}return r==="And"};class nF{constructor(e,{disableRange:t=!1,disableStream:r=!1}){nt(e,'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.');const{length:i,initialData:s,progressiveDone:o,contentDispositionFilename:a}=e;if(this._queuedChunks=[],this._progressiveDone=o,this._contentDispositionFilename=a,(s==null?void 0:s.length)>0){const l=s instanceof Uint8Array&&s.byteLength===s.buffer.byteLength?s.buffer:new Uint8Array(s).buffer;this._queuedChunks.push(l)}this._pdfDataRangeTransport=e,this._isStreamingSupported=!r,this._isRangeSupported=!t,this._contentLength=i,this._fullRequestReader=null,this._rangeReaders=[],e.addRangeListener((l,u)=>{this._onReceiveData({begin:l,chunk:u})}),e.addProgressListener((l,u)=>{this._onProgress({loaded:l,total:u})}),e.addProgressiveReadListener(l=>{this._onReceiveData({chunk:l})}),e.addProgressiveDoneListener(()=>{this._onProgressiveDone()}),e.transportReady()}_onReceiveData({begin:e,chunk:t}){const r=t instanceof Uint8Array&&t.byteLength===t.buffer.byteLength?t.buffer:new Uint8Array(t).buffer;if(e===void 0)this._fullRequestReader?this._fullRequestReader._enqueue(r):this._queuedChunks.push(r);else{const i=this._rangeReaders.some(function(s){return s._begin!==e?!1:(s._enqueue(r),!0)});nt(i,"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.")}}get _progressiveDataLength(){var e;return((e=this._fullRequestReader)==null?void 0:e._loaded)??0}_onProgress(e){var t,r,i,s;e.total===void 0?(r=(t=this._rangeReaders[0])==null?void 0:t.onProgress)==null||r.call(t,{loaded:e.loaded}):(s=(i=this._fullRequestReader)==null?void 0:i.onProgress)==null||s.call(i,{loaded:e.loaded,total:e.total})}_onProgressiveDone(){var e;(e=this._fullRequestReader)==null||e.progressiveDone(),this._progressiveDone=!0}_removeRangeReader(e){const t=this._rangeReaders.indexOf(e);t>=0&&this._rangeReaders.splice(t,1)}getFullReader(){nt(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");const e=this._queuedChunks;return this._queuedChunks=null,new rF(this,e,this._progressiveDone,this._contentDispositionFilename)}getRangeReader(e,t){if(t<=this._progressiveDataLength)return null;const r=new iF(this,e,t);return this._pdfDataRangeTransport.requestDataRange(e,t),this._rangeReaders.push(r),r}cancelAllRequests(e){var t;(t=this._fullRequestReader)==null||t.cancel(e);for(const r of this._rangeReaders.slice(0))r.cancel(e);this._pdfDataRangeTransport.abort()}}class rF{constructor(e,t,r=!1,i=null){this._stream=e,this._done=r||!1,this._filename=$1(i)?i:null,this._queuedChunks=t||[],this._loaded=0;for(const s of this._queuedChunks)this._loaded+=s.byteLength;this._requests=[],this._headersReady=Promise.resolve(),e._fullRequestReader=this,this.onProgress=null}_enqueue(e){this._done||(this._requests.length>0?this._requests.shift().resolve({value:e,done:!1}):this._queuedChunks.push(e),this._loaded+=e.byteLength)}get headersReady(){return this._headersReady}get filename(){return this._filename}get isRangeSupported(){return this._stream._isRangeSupported}get isStreamingSupported(){return this._stream._isStreamingSupported}get contentLength(){return this._stream._contentLength}async read(){if(this._queuedChunks.length>0)return{value:this._queuedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0;for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0}progressiveDone(){this._done||(this._done=!0)}}class iF{constructor(e,t,r){this._stream=e,this._begin=t,this._end=r,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}_enqueue(e){if(!this._done){if(this._requests.length===0)this._queuedChunk=e;else{this._requests.shift().resolve({value:e,done:!1});for(const r of this._requests)r.resolve({value:void 0,done:!0});this._requests.length=0}this._done=!0,this._stream._removeRangeReader(this)}}get isStreamingSupported(){return!1}async read(){if(this._queuedChunk){const t=this._queuedChunk;return this._queuedChunk=null,{value:t,done:!1}}if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0;for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0,this._stream._removeRangeReader(this)}}function sF(n){let e=!0,t=r("filename\\*","i").exec(n);if(t){t=t[1];let d=a(t);return d=unescape(d),d=l(d),d=u(d),s(d)}if(t=o(n),t){const d=u(t);return s(d)}if(t=r("filename","i").exec(n),t){t=t[1];let d=a(t);return d=u(d),s(d)}function r(d,h){return new RegExp("(?:^|;)\\s*"+d+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',h)}function i(d,h){if(d){if(!/^[\x00-\xFF]+$/.test(h))return h;try{const f=new TextDecoder(d,{fatal:!0}),p=Im(h);h=f.decode(p),e=!1}catch{}}return h}function s(d){return e&&/[\x80-\xff]/.test(d)&&(d=i("utf-8",d),e&&(d=i("iso-8859-1",d))),d}function o(d){const h=[];let f;const p=r("filename\\*((?!0\\d)\\d+)(\\*?)","ig");for(;(f=p.exec(d))!==null;){let[,v,b,g]=f;if(v=parseInt(v,10),v in h){if(v===0)break;continue}h[v]=[b,g]}const m=[];for(let v=0;v<h.length&&v in h;++v){let[b,g]=h[v];g=a(g),b&&(g=unescape(g),v===0&&(g=l(g))),m.push(g)}return m.join("")}function a(d){if(d.startsWith('"')){const h=d.slice(1).split('\\"');for(let f=0;f<h.length;++f){const p=h[f].indexOf('"');p!==-1&&(h[f]=h[f].slice(0,p),h.length=f+1),h[f]=h[f].replaceAll(/\\(.)/g,"$1")}d=h.join('"')}return d}function l(d){const h=d.indexOf("'");if(h===-1)return d;const f=d.slice(0,h),m=d.slice(h+1).replace(/^[^']*'/,"");return i(f,m)}function u(d){return!d.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(d)?d:d.replaceAll(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,function(h,f,p,m){if(p==="q"||p==="Q")return m=m.replaceAll("_"," "),m=m.replaceAll(/=([0-9a-fA-F]{2})/g,function(v,b){return String.fromCharCode(parseInt(b,16))}),i(f,m);try{m=atob(m)}catch{}return i(f,m)})}return""}function z1({getResponseHeader:n,isHttp:e,rangeChunkSize:t,disableRange:r}){const i={allowRangeRequests:!1,suggestedLength:void 0},s=parseInt(n("Content-Length"),10);return!Number.isInteger(s)||(i.suggestedLength=s,s<=2*t)||r||!e||n("Accept-Ranges")!=="bytes"||(n("Content-Encoding")||"identity")!=="identity"||(i.allowRangeRequests=!0),i}function U1(n){const e=n("Content-Disposition");if(e){let t=sF(e);if(t.includes("%"))try{t=decodeURIComponent(t)}catch{}if($1(t))return t}return null}function zm(n,e){return n===404||n===0&&e.startsWith("file:")?new wa('Missing PDF "'+e+'".'):new Fm(`Unexpected server response (${n}) while retrieving PDF "${e}".`,n)}function z_(n){return n===200||n===206}function U_(n,e,t){return{method:"GET",headers:n,signal:t.signal,mode:"cors",credentials:e?"include":"same-origin",redirect:"follow"}}function V_(n){const e=new Headers;for(const t in n){const r=n[t];r!==void 0&&e.append(t,r)}return e}function W_(n){return n instanceof Uint8Array?n.buffer:n instanceof ArrayBuffer?n:(re(`getArrayBuffer - unexpected data format: ${n}`),new Uint8Array(n).buffer)}class cb{constructor(e){this.source=e,this.isHttp=/^https?:/i.test(e.url),this.httpHeaders=this.isHttp&&e.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var e;return((e=this._fullRequestReader)==null?void 0:e._loaded)??0}getFullReader(){return nt(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once."),this._fullRequestReader=new oF(this),this._fullRequestReader}getRangeReader(e,t){if(t<=this._progressiveDataLength)return null;const r=new aF(this,e,t);return this._rangeRequestReaders.push(r),r}cancelAllRequests(e){var t;(t=this._fullRequestReader)==null||t.cancel(e);for(const r of this._rangeRequestReaders.slice(0))r.cancel(e)}}class oF{constructor(e){this._stream=e,this._reader=null,this._loaded=0,this._filename=null;const t=e.source;this._withCredentials=t.withCredentials||!1,this._contentLength=t.length,this._headersCapability=Promise.withResolvers(),this._disableRange=t.disableRange||!1,this._rangeChunkSize=t.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._abortController=new AbortController,this._isStreamingSupported=!t.disableStream,this._isRangeSupported=!t.disableRange,this._headers=V_(this._stream.httpHeaders);const r=t.url;fetch(r,U_(this._headers,this._withCredentials,this._abortController)).then(i=>{if(!z_(i.status))throw zm(i.status,r);this._reader=i.body.getReader(),this._headersCapability.resolve();const s=l=>i.headers.get(l),{allowRangeRequests:o,suggestedLength:a}=z1({getResponseHeader:s,isHttp:this._stream.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=o,this._contentLength=a||this._contentLength,this._filename=U1(s),!this._isStreamingSupported&&this._isRangeSupported&&this.cancel(new ba("Streaming is disabled."))}).catch(this._headersCapability.reject),this.onProgress=null}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var r;await this._headersCapability.promise;const{value:e,done:t}=await this._reader.read();return t?{value:e,done:t}:(this._loaded+=e.byteLength,(r=this.onProgress)==null||r.call(this,{loaded:this._loaded,total:this._contentLength}),{value:W_(e),done:!1})}cancel(e){var t;(t=this._reader)==null||t.cancel(e),this._abortController.abort()}}class aF{constructor(e,t,r){this._stream=e,this._reader=null,this._loaded=0;const i=e.source;this._withCredentials=i.withCredentials||!1,this._readCapability=Promise.withResolvers(),this._isStreamingSupported=!i.disableStream,this._abortController=new AbortController,this._headers=V_(this._stream.httpHeaders),this._headers.append("Range",`bytes=${t}-${r-1}`);const s=i.url;fetch(s,U_(this._headers,this._withCredentials,this._abortController)).then(o=>{if(!z_(o.status))throw zm(o.status,s);this._readCapability.resolve(),this._reader=o.body.getReader()}).catch(this._readCapability.reject),this.onProgress=null}get isStreamingSupported(){return this._isStreamingSupported}async read(){var r;await this._readCapability.promise;const{value:e,done:t}=await this._reader.read();return t?{value:e,done:t}:(this._loaded+=e.byteLength,(r=this.onProgress)==null||r.call(this,{loaded:this._loaded}),{value:W_(e),done:!1})}cancel(e){var t;(t=this._reader)==null||t.cancel(e),this._abortController.abort()}}const Hg=200,Bg=206;function lF(n){const e=n.response;return typeof e!="string"?e:Im(e).buffer}class cF{constructor(e,t={}){this.url=e,this.isHttp=/^https?:/i.test(e),this.httpHeaders=this.isHttp&&t.httpHeaders||Object.create(null),this.withCredentials=t.withCredentials||!1,this.currXhrId=0,this.pendingRequests=Object.create(null)}requestRange(e,t,r){const i={begin:e,end:t};for(const s in r)i[s]=r[s];return this.request(i)}requestFull(e){return this.request(e)}request(e){const t=new XMLHttpRequest,r=this.currXhrId++,i=this.pendingRequests[r]={xhr:t};t.open("GET",this.url),t.withCredentials=this.withCredentials;for(const s in this.httpHeaders){const o=this.httpHeaders[s];o!==void 0&&t.setRequestHeader(s,o)}return this.isHttp&&"begin"in e&&"end"in e?(t.setRequestHeader("Range",`bytes=${e.begin}-${e.end-1}`),i.expectedStatus=Bg):i.expectedStatus=Hg,t.responseType="arraybuffer",e.onError&&(t.onerror=function(s){e.onError(t.status)}),t.onreadystatechange=this.onStateChange.bind(this,r),t.onprogress=this.onProgress.bind(this,r),i.onHeadersReceived=e.onHeadersReceived,i.onDone=e.onDone,i.onError=e.onError,i.onProgress=e.onProgress,t.send(null),r}onProgress(e,t){var i;const r=this.pendingRequests[e];r&&((i=r.onProgress)==null||i.call(r,t))}onStateChange(e,t){var l,u,d;const r=this.pendingRequests[e];if(!r)return;const i=r.xhr;if(i.readyState>=2&&r.onHeadersReceived&&(r.onHeadersReceived(),delete r.onHeadersReceived),i.readyState!==4||!(e in this.pendingRequests))return;if(delete this.pendingRequests[e],i.status===0&&this.isHttp){(l=r.onError)==null||l.call(r,i.status);return}const s=i.status||Hg;if(!(s===Hg&&r.expectedStatus===Bg)&&s!==r.expectedStatus){(u=r.onError)==null||u.call(r,i.status);return}const a=lF(i);if(s===Bg){const h=i.getResponseHeader("Content-Range"),f=/bytes (\d+)-(\d+)\/(\d+)/.exec(h);r.onDone({begin:parseInt(f[1],10),chunk:a})}else a?r.onDone({begin:0,chunk:a}):(d=r.onError)==null||d.call(r,i.status)}getRequestXhr(e){return this.pendingRequests[e].xhr}isPendingRequest(e){return e in this.pendingRequests}abortRequest(e){const t=this.pendingRequests[e].xhr;delete this.pendingRequests[e],t.abort()}}class uF{constructor(e){this._source=e,this._manager=new cF(e.url,{httpHeaders:e.httpHeaders,withCredentials:e.withCredentials}),this._rangeChunkSize=e.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}_onRangeRequestReaderClosed(e){const t=this._rangeRequestReaders.indexOf(e);t>=0&&this._rangeRequestReaders.splice(t,1)}getFullReader(){return nt(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once."),this._fullRequestReader=new dF(this._manager,this._source),this._fullRequestReader}getRangeReader(e,t){const r=new hF(this._manager,e,t);return r.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(r),r}cancelAllRequests(e){var t;(t=this._fullRequestReader)==null||t.cancel(e);for(const r of this._rangeRequestReaders.slice(0))r.cancel(e)}}class dF{constructor(e,t){this._manager=e;const r={onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=t.url,this._fullRequestId=e.requestFull(r),this._headersReceivedCapability=Promise.withResolvers(),this._disableRange=t.disableRange||!1,this._contentLength=t.length,this._rangeChunkSize=t.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}_onHeadersReceived(){const e=this._fullRequestId,t=this._manager.getRequestXhr(e),r=o=>t.getResponseHeader(o),{allowRangeRequests:i,suggestedLength:s}=z1({getResponseHeader:r,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});i&&(this._isRangeSupported=!0),this._contentLength=s||this._contentLength,this._filename=U1(r),this._isRangeSupported&&this._manager.abortRequest(e),this._headersReceivedCapability.resolve()}_onDone(e){if(e&&(this._requests.length>0?this._requests.shift().resolve({value:e.chunk,done:!1}):this._cachedChunks.push(e.chunk)),this._done=!0,!(this._cachedChunks.length>0)){for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0}}_onError(e){this._storedError=zm(e,this._url),this._headersReceivedCapability.reject(this._storedError);for(const t of this._requests)t.reject(this._storedError);this._requests.length=0,this._cachedChunks.length=0}_onProgress(e){var t;(t=this.onProgress)==null||t.call(this,{loaded:e.loaded,total:e.lengthComputable?e.total:this._contentLength})}get filename(){return this._filename}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}get contentLength(){return this._contentLength}get headersReady(){return this._headersReceivedCapability.promise}async read(){if(this._storedError)throw this._storedError;if(this._cachedChunks.length>0)return{value:this._cachedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0,this._headersReceivedCapability.reject(e);for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}}class hF{constructor(e,t,r){this._manager=e;const i={onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=e.url,this._requestId=e.requestRange(t,r,i),this._requests=[],this._queuedChunk=null,this._done=!1,this._storedError=void 0,this.onProgress=null,this.onClosed=null}_close(){var e;(e=this.onClosed)==null||e.call(this,this)}_onDone(e){const t=e.chunk;this._requests.length>0?this._requests.shift().resolve({value:t,done:!1}):this._queuedChunk=t,this._done=!0;for(const r of this._requests)r.resolve({value:void 0,done:!0});this._requests.length=0,this._close()}_onError(e){this._storedError=zm(e,this._url);for(const t of this._requests)t.reject(this._storedError);this._requests.length=0,this._queuedChunk=null}_onProgress(e){var t;this.isStreamingSupported||(t=this.onProgress)==null||t.call(this,{loaded:e.loaded})}get isStreamingSupported(){return!1}async read(){if(this._storedError)throw this._storedError;if(this._queuedChunk!==null){const t=this._queuedChunk;return this._queuedChunk=null,{value:t,done:!1}}if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0;for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}}const G_=/^file:\/\/\/[a-zA-Z]:\//;function fF(n){const e=Br.get("url"),t=e.parse(n);return t.protocol==="file:"||t.host?t:/^[a-z]:[/\\]/i.test(n)?e.parse(`file:///${n}`):(t.host||(t.protocol="file:"),t)}class pF{constructor(e){this.source=e,this.url=fF(e.url),this.isHttp=this.url.protocol==="http:"||this.url.protocol==="https:",this.isFsUrl=this.url.protocol==="file:",this.httpHeaders=this.isHttp&&e.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var e;return((e=this._fullRequestReader)==null?void 0:e._loaded)??0}getFullReader(){return nt(!this._fullRequestReader,"PDFNodeStream.getFullReader can only be called once."),this._fullRequestReader=this.isFsUrl?new vF(this):new mF(this),this._fullRequestReader}getRangeReader(e,t){if(t<=this._progressiveDataLength)return null;const r=this.isFsUrl?new yF(this,e,t):new gF(this,e,t);return this._rangeRequestReaders.push(r),r}cancelAllRequests(e){var t;(t=this._fullRequestReader)==null||t.cancel(e);for(const r of this._rangeRequestReaders.slice(0))r.cancel(e)}}class q_{constructor(e){this._url=e.url,this._done=!1,this._storedError=null,this.onProgress=null;const t=e.source;this._contentLength=t.length,this._loaded=0,this._filename=null,this._disableRange=t.disableRange||!1,this._rangeChunkSize=t.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!t.disableStream,this._isRangeSupported=!t.disableRange,this._readableStream=null,this._readCapability=Promise.withResolvers(),this._headersCapability=Promise.withResolvers()}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var r;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const e=this._readableStream.read();return e===null?(this._readCapability=Promise.withResolvers(),this.read()):(this._loaded+=e.length,(r=this.onProgress)==null||r.call(this,{loaded:this._loaded,total:this._contentLength}),{value:new Uint8Array(e).buffer,done:!1})}cancel(e){if(!this._readableStream){this._error(e);return}this._readableStream.destroy(e)}_error(e){this._storedError=e,this._readCapability.resolve()}_setReadableStream(e){this._readableStream=e,e.on("readable",()=>{this._readCapability.resolve()}),e.on("end",()=>{e.destroy(),this._done=!0,this._readCapability.resolve()}),e.on("error",t=>{this._error(t)}),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new ba("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}}class X_{constructor(e){this._url=e.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=Promise.withResolvers();const t=e.source;this._isStreamingSupported=!t.disableStream}get isStreamingSupported(){return this._isStreamingSupported}async read(){var r;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const e=this._readableStream.read();return e===null?(this._readCapability=Promise.withResolvers(),this.read()):(this._loaded+=e.length,(r=this.onProgress)==null||r.call(this,{loaded:this._loaded}),{value:new Uint8Array(e).buffer,done:!1})}cancel(e){if(!this._readableStream){this._error(e);return}this._readableStream.destroy(e)}_error(e){this._storedError=e,this._readCapability.resolve()}_setReadableStream(e){this._readableStream=e,e.on("readable",()=>{this._readCapability.resolve()}),e.on("end",()=>{e.destroy(),this._done=!0,this._readCapability.resolve()}),e.on("error",t=>{this._error(t)}),this._storedError&&this._readableStream.destroy(this._storedError)}}function Lp(n,e){return{protocol:n.protocol,auth:n.auth,host:n.hostname,port:n.port,path:n.path,method:"GET",headers:e}}class mF extends q_{constructor(e){super(e);const t=r=>{if(r.statusCode===404){const a=new wa(`Missing PDF "${this._url}".`);this._storedError=a,this._headersCapability.reject(a);return}this._headersCapability.resolve(),this._setReadableStream(r);const i=a=>this._readableStream.headers[a.toLowerCase()],{allowRangeRequests:s,suggestedLength:o}=z1({getResponseHeader:i,isHttp:e.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=s,this._contentLength=o||this._contentLength,this._filename=U1(i)};if(this._request=null,this._url.protocol==="http:"){const r=Br.get("http");this._request=r.request(Lp(this._url,e.httpHeaders),t)}else{const r=Br.get("https");this._request=r.request(Lp(this._url,e.httpHeaders),t)}this._request.on("error",r=>{this._storedError=r,this._headersCapability.reject(r)}),this._request.end()}}class gF extends X_{constructor(e,t,r){super(e),this._httpHeaders={};for(const s in e.httpHeaders){const o=e.httpHeaders[s];o!==void 0&&(this._httpHeaders[s]=o)}this._httpHeaders.Range=`bytes=${t}-${r-1}`;const i=s=>{if(s.statusCode===404){const o=new wa(`Missing PDF "${this._url}".`);this._storedError=o;return}this._setReadableStream(s)};if(this._request=null,this._url.protocol==="http:"){const s=Br.get("http");this._request=s.request(Lp(this._url,this._httpHeaders),i)}else{const s=Br.get("https");this._request=s.request(Lp(this._url,this._httpHeaders),i)}this._request.on("error",s=>{this._storedError=s}),this._request.end()}}class vF extends q_{constructor(e){super(e);let t=decodeURIComponent(this._url.path);G_.test(this._url.href)&&(t=t.replace(/^\//,""));const r=Br.get("fs");r.promises.lstat(t).then(i=>{this._contentLength=i.size,this._setReadableStream(r.createReadStream(t)),this._headersCapability.resolve()},i=>{i.code==="ENOENT"&&(i=new wa(`Missing PDF "${t}".`)),this._storedError=i,this._headersCapability.reject(i)})}}class yF extends X_{constructor(e,t,r){super(e);let i=decodeURIComponent(this._url.path);G_.test(this._url.href)&&(i=i.replace(/^\//,""));const s=Br.get("fs");this._setReadableStream(s.createReadStream(i,{start:t,end:r-1}))}}const xF=1e5,Wt=30,wF=.8;var Eb,rs,qt,vd,yd,xo,ci,xd,wd,wo,xl,wl,is,bl,bd,El,bo,Ed,Ad,Kt,Eo,Ao,Al,Di,K_,Y_,Dv,Ps,Pf,Q_;let Mp=(Kt=class{constructor({textContentSource:e,container:t,viewport:r}){_(this,Di);_(this,rs,Promise.withResolvers());_(this,qt,null);_(this,vd,!1);_(this,yd,!!((Eb=globalThis.FontInspector)!=null&&Eb.enabled));_(this,xo,null);_(this,ci,null);_(this,xd,0);_(this,wd,0);_(this,wo,null);_(this,xl,null);_(this,wl,0);_(this,is,0);_(this,bl,Object.create(null));_(this,bd,[]);_(this,El,null);_(this,bo,[]);_(this,Ed,new WeakMap);_(this,Ad,null);if(e instanceof ReadableStream)E(this,El,e);else if(typeof e=="object")E(this,El,new ReadableStream({start(l){l.enqueue(e),l.close()}}));else throw new Error('No "textContentSource" parameter specified.');E(this,qt,E(this,xl,t)),E(this,is,r.scale*(globalThis.devicePixelRatio||1)),E(this,wl,r.rotation),E(this,ci,{prevFontSize:null,prevFontFamily:null,div:null,properties:null,ctx:null});const{pageWidth:i,pageHeight:s,pageX:o,pageY:a}=r.rawDims;E(this,Ad,[1,0,0,-1,-o,a+s]),E(this,wd,i),E(this,xd,s),ha(t,r),c(this,rs).promise.catch(()=>{}).then(()=>{c(Kt,Al).delete(this),E(this,ci,null),E(this,bl,null)})}render(){const e=()=>{c(this,wo).read().then(({value:t,done:r})=>{if(r){c(this,rs).resolve();return}c(this,xo)??E(this,xo,t.lang),Object.assign(c(this,bl),t.styles),A(this,Di,K_).call(this,t.items),e()},c(this,rs).reject)};return E(this,wo,c(this,El).getReader()),c(Kt,Al).add(this),e(),c(this,rs).promise}update({viewport:e,onBefore:t=null}){var s;const r=e.scale*(globalThis.devicePixelRatio||1),i=e.rotation;if(i!==c(this,wl)&&(t==null||t(),E(this,wl,i),ha(c(this,xl),{rotation:i})),r!==c(this,is)){t==null||t(),E(this,is,r);const o={prevFontSize:null,prevFontFamily:null,div:null,properties:null,ctx:A(s=Kt,Ps,Pf).call(s,c(this,xo))};for(const a of c(this,bo))o.properties=c(this,Ed).get(a),o.div=a,A(this,Di,Dv).call(this,o)}}cancel(){var t;const e=new ba("TextLayer task cancelled.");(t=c(this,wo))==null||t.cancel(e).catch(()=>{}),E(this,wo,null),c(this,rs).reject(e)}get textDivs(){return c(this,bo)}get textContentItemsStr(){return c(this,bd)}static cleanup(){if(!(c(this,Al).size>0)){c(this,Eo).clear();for(const{canvas:e}of c(this,Ao).values())e.remove();c(this,Ao).clear()}}},rs=new WeakMap,qt=new WeakMap,vd=new WeakMap,yd=new WeakMap,xo=new WeakMap,ci=new WeakMap,xd=new WeakMap,wd=new WeakMap,wo=new WeakMap,xl=new WeakMap,wl=new WeakMap,is=new WeakMap,bl=new WeakMap,bd=new WeakMap,El=new WeakMap,bo=new WeakMap,Ed=new WeakMap,Ad=new WeakMap,Eo=new WeakMap,Ao=new WeakMap,Al=new WeakMap,Di=new WeakSet,K_=function(e){var i,s;if(c(this,vd))return;(s=c(this,ci)).ctx||(s.ctx=A(i=Kt,Ps,Pf).call(i,c(this,xo)));const t=c(this,bo),r=c(this,bd);for(const o of e){if(t.length>xF){re("Ignoring additional textDivs for performance reasons."),E(this,vd,!0);return}if(o.str===void 0){if(o.type==="beginMarkedContentProps"||o.type==="beginMarkedContent"){const a=c(this,qt);E(this,qt,document.createElement("span")),c(this,qt).classList.add("markedContent"),o.id!==null&&c(this,qt).setAttribute("id",`${o.id}`),a.append(c(this,qt))}else o.type==="endMarkedContent"&&E(this,qt,c(this,qt).parentNode);continue}r.push(o.str),A(this,Di,Y_).call(this,o)}},Y_=function(e){var v;const t=document.createElement("span"),r={angle:0,canvasWidth:0,hasText:e.str!=="",hasEOL:e.hasEOL,fontSize:0};c(this,bo).push(t);const i=X.transform(c(this,Ad),e.transform);let s=Math.atan2(i[1],i[0]);const o=c(this,bl)[e.fontName];o.vertical&&(s+=Math.PI/2);const a=c(this,yd)&&o.fontSubstitution||o.fontFamily,l=Math.hypot(i[2],i[3]),u=l*A(v=Kt,Ps,Q_).call(v,a,c(this,xo));let d,h;s===0?(d=i[4],h=i[5]-u):(d=i[4]+u*Math.sin(s),h=i[5]-u*Math.cos(s));const f="calc(var(--scale-factor)*",p=t.style;c(this,qt)===c(this,xl)?(p.left=`${(100*d/c(this,wd)).toFixed(2)}%`,p.top=`${(100*h/c(this,xd)).toFixed(2)}%`):(p.left=`${f}${d.toFixed(2)}px)`,p.top=`${f}${h.toFixed(2)}px)`),p.fontSize=`${f}${l.toFixed(2)}px)`,p.fontFamily=a,r.fontSize=l,t.setAttribute("role","presentation"),t.textContent=e.str,t.dir=e.dir,c(this,yd)&&(t.dataset.fontName=o.fontSubstitutionLoadedName||e.fontName),s!==0&&(r.angle=s*(180/Math.PI));let m=!1;if(e.str.length>1)m=!0;else if(e.str!==" "&&e.transform[0]!==e.transform[3]){const b=Math.abs(e.transform[0]),g=Math.abs(e.transform[3]);b!==g&&Math.max(b,g)/Math.min(b,g)>1.5&&(m=!0)}if(m&&(r.canvasWidth=o.vertical?e.height:e.width),c(this,Ed).set(t,r),c(this,ci).div=t,c(this,ci).properties=r,A(this,Di,Dv).call(this,c(this,ci)),r.hasText&&c(this,qt).append(t),r.hasEOL){const b=document.createElement("br");b.setAttribute("role","presentation"),c(this,qt).append(b)}},Dv=function(e){const{div:t,properties:r,ctx:i,prevFontSize:s,prevFontFamily:o}=e,{style:a}=t;let l="";if(r.canvasWidth!==0&&r.hasText){const{fontFamily:u}=a,{canvasWidth:d,fontSize:h}=r;(s!==h||o!==u)&&(i.font=`${h*c(this,is)}px ${u}`,e.prevFontSize=h,e.prevFontFamily=u);const{width:f}=i.measureText(t.textContent);f>0&&(l=`scaleX(${d*c(this,is)/f})`)}r.angle!==0&&(l=`rotate(${r.angle}deg) ${l}`),l.length>0&&(a.transform=l)},Ps=new WeakSet,Pf=function(e=null){let t=c(this,Ao).get(e||(e=""));if(!t){const r=document.createElement("canvas");r.className="hiddenCanvasElement",r.lang=e,document.body.append(r),t=r.getContext("2d",{alpha:!1}),c(this,Ao).set(e,t)}return t},Q_=function(e,t){const r=c(this,Eo).get(e);if(r)return r;const i=A(this,Ps,Pf).call(this,t),s=i.font;i.canvas.width=i.canvas.height=Wt,i.font=`${Wt}px ${e}`;const o=i.measureText("");let a=o.fontBoundingBoxAscent,l=Math.abs(o.fontBoundingBoxDescent);if(a){const h=a/(a+l);return c(this,Eo).set(e,h),i.canvas.width=i.canvas.height=0,i.font=s,h}i.strokeStyle="red",i.clearRect(0,0,Wt,Wt),i.strokeText("g",0,0);let u=i.getImageData(0,0,Wt,Wt).data;l=0;for(let h=u.length-1-3;h>=0;h-=4)if(u[h]>0){l=Math.ceil(h/4/Wt);break}i.clearRect(0,0,Wt,Wt),i.strokeText("A",0,Wt),u=i.getImageData(0,0,Wt,Wt).data,a=0;for(let h=0,f=u.length;h<f;h+=4)if(u[h]>0){a=Wt-Math.floor(h/4/Wt);break}i.canvas.width=i.canvas.height=0,i.font=s;const d=a?a/(a+l):wF;return c(this,Eo).set(e,d),d},_(Kt,Ps),_(Kt,Eo,new Map),_(Kt,Ao,new Map),_(Kt,Al,new Set),Kt);function bF(){h_("`renderTextLayer`, please use `TextLayer` instead.");const{textContentSource:n,container:e,viewport:t,...r}=arguments[0],i=Object.keys(r);i.length>0&&re("Ignoring `renderTextLayer` parameters: "+i.join(", "));const s=new Mp({textContentSource:n,container:e,viewport:t}),{textDivs:o,textContentItemsStr:a}=s;return{promise:s.render(),textDivs:o,textContentItemsStr:a}}function EF(){h_("`updateTextLayer`, please use `TextLayer` instead.")}class Nu{static textContent(e){const t=[],r={items:t,styles:Object.create(null)};function i(s){var l;if(!s)return;let o=null;const a=s.name;if(a==="#text")o=s.value;else if(Nu.shouldBuildText(a))(l=s==null?void 0:s.attributes)!=null&&l.textContent?o=s.attributes.textContent:s.value&&(o=s.value);else return;if(o!==null&&t.push({str:o}),!!s.children)for(const u of s.children)i(u)}return i(e),r}static shouldBuildText(e){return!(e==="textarea"||e==="input"||e==="option"||e==="select")}}const AF=65536,SF=100,_F=5e3,CF=Rt?OD:SD,TF=Rt?jD:u_,kF=Rt?ID:AD,PF=Rt?$D:d_;function RF(n){if(typeof n=="string"||n instanceof URL?n={url:n}:(n instanceof ArrayBuffer||ArrayBuffer.isView(n))&&(n={data:n}),typeof n!="object")throw new Error("Invalid parameter in getDocument, need parameter object.");if(!n.url&&!n.data&&!n.range)throw new Error("Invalid parameter object: need either .data, .range or .url");const e=new Fv,{docId:t}=e,r=n.url?LF(n.url):null,i=n.data?MF(n.data):null,s=n.httpHeaders||null,o=n.withCredentials===!0,a=n.password??null,l=n.range instanceof Z_?n.range:null,u=Number.isInteger(n.rangeChunkSize)&&n.rangeChunkSize>0?n.rangeChunkSize:AF;let d=n.worker instanceof tl?n.worker:null;const h=n.verbosity,f=typeof n.docBaseUrl=="string"&&!j1(n.docBaseUrl)?n.docBaseUrl:null,p=typeof n.cMapUrl=="string"?n.cMapUrl:null,m=n.cMapPacked!==!1,v=n.CMapReaderFactory||TF,b=typeof n.standardFontDataUrl=="string"?n.standardFontDataUrl:null,g=n.StandardFontDataFactory||PF,y=n.stopAtErrors!==!0,x=Number.isInteger(n.maxImageSize)&&n.maxImageSize>-1?n.maxImageSize:-1,C=n.isEvalSupported!==!1,T=typeof n.isOffscreenCanvasSupported=="boolean"?n.isOffscreenCanvasSupported:!Rt,k=Number.isInteger(n.canvasMaxAreaInBytes)?n.canvasMaxAreaInBytes:-1,P=typeof n.disableFontFace=="boolean"?n.disableFontFace:Rt,R=n.fontExtraProperties===!0,F=n.enableXfa===!0,D=n.ownerDocument||globalThis.document,N=n.disableRange===!0,q=n.disableStream===!0,U=n.disableAutoFetch===!0,z=n.pdfBug===!0,j=l?l.length:n.length??NaN,K=typeof n.useSystemFonts=="boolean"?n.useSystemFonts:!Rt&&!P,I=typeof n.useWorkerFetch=="boolean"?n.useWorkerFetch:v===u_&&g===d_&&p&&b&&$c(p,document.baseURI)&&$c(b,document.baseURI),L=n.canvasFactory||new CF({ownerDocument:D}),$=n.filterFactory||new kF({docId:t,ownerDocument:D}),G=null;hD(h);const ne={canvasFactory:L,filterFactory:$};if(I||(ne.cMapReaderFactory=new v({baseUrl:p,isCompressed:m}),ne.standardFontDataFactory=new g({baseUrl:b})),!d){const Pe={verbosity:h,port:Ci.workerPort};d=Pe.port?tl.fromPort(Pe):new tl(Pe),e._worker=d}const J={docId:t,apiVersion:"4.3.136",data:i,password:a,disableAutoFetch:U,rangeChunkSize:u,length:j,docBaseUrl:f,enableXfa:F,evaluatorOptions:{maxImageSize:x,disableFontFace:P,ignoreErrors:y,isEvalSupported:C,isOffscreenCanvasSupported:T,canvasMaxAreaInBytes:k,fontExtraProperties:R,useSystemFonts:K,cMapUrl:I?p:null,standardFontDataUrl:I?b:null}},fe={disableFontFace:P,fontExtraProperties:R,ownerDocument:D,pdfBug:z,styleElement:G,loadingParams:{disableAutoFetch:U,enableXfa:F}};return d.promise.then(function(){if(e.destroyed)throw new Error("Loading aborted");if(d.destroyed)throw new Error("Worker was destroyed");const Pe=d.messageHandler.sendWithPromise("GetDocRequest",J,i?[i.buffer]:null);let Mt;return l?Mt=new nF(l,{disableRange:N,disableStream:q}):i||(Mt=(ae=>Rt?function(){return typeof fetch<"u"&&typeof Response<"u"&&"body"in Response.prototype}()&&$c(ae.url)?new cb(ae):new pF(ae):$c(ae.url)?new cb(ae):new uF(ae))({url:r,length:j,httpHeaders:s,withCredentials:o,rangeChunkSize:u,disableRange:N,disableStream:q})),Pe.then($e=>{if(e.destroyed)throw new Error("Loading aborted");if(d.destroyed)throw new Error("Worker was destroyed");const ae=new zc(t,$e,d.port),Aa=new IF(ae,e,Mt,fe,ne);e._transport=Aa,ae.send("Ready",null)})}).catch(e._capability.reject),e}function LF(n){if(n instanceof URL)return n.href;try{return new URL(n,window.location).href}catch{if(Rt&&typeof n=="string")return n}throw new Error("Invalid PDF url data: either string or URL-object is expected in the url property.")}function MF(n){if(Rt&&typeof Buffer<"u"&&n instanceof Buffer)throw new Error("Please provide binary data as `Uint8Array`, rather than `Buffer`.");if(n instanceof Uint8Array&&n.byteLength===n.buffer.byteLength)return n;if(typeof n=="string")return Im(n);if(n instanceof ArrayBuffer||ArrayBuffer.isView(n)||typeof n=="object"&&!isNaN(n==null?void 0:n.length))return new Uint8Array(n);throw new Error("Invalid PDF binary data: either TypedArray, string, or array-like object is expected in the data property.")}function ub(n){return typeof n=="object"&&Number.isInteger(n==null?void 0:n.num)&&n.num>=0&&Number.isInteger(n==null?void 0:n.gen)&&n.gen>=0}var qp;const Xp=class Xp{constructor(){this._capability=Promise.withResolvers(),this._transport=null,this._worker=null,this.docId=`d${ln(Xp,qp)._++}`,this.destroyed=!1,this.onPassword=null,this.onProgress=null}get promise(){return this._capability.promise}async destroy(){var e,t,r;this.destroyed=!0;try{(e=this._worker)!=null&&e.port&&(this._worker._pendingDestroy=!0),await((t=this._transport)==null?void 0:t.destroy())}catch(i){throw(r=this._worker)!=null&&r.port&&delete this._worker._pendingDestroy,i}this._transport=null,this._worker&&(this._worker.destroy(),this._worker=null)}};qp=new WeakMap,_(Xp,qp,0);let Fv=Xp,Z_=class{constructor(e,t,r=!1,i=null){this.length=e,this.initialData=t,this.progressiveDone=r,this.contentDispositionFilename=i,this._rangeListeners=[],this._progressListeners=[],this._progressiveReadListeners=[],this._progressiveDoneListeners=[],this._readyCapability=Promise.withResolvers()}addRangeListener(e){this._rangeListeners.push(e)}addProgressListener(e){this._progressListeners.push(e)}addProgressiveReadListener(e){this._progressiveReadListeners.push(e)}addProgressiveDoneListener(e){this._progressiveDoneListeners.push(e)}onDataRange(e,t){for(const r of this._rangeListeners)r(e,t)}onDataProgress(e,t){this._readyCapability.promise.then(()=>{for(const r of this._progressListeners)r(e,t)})}onDataProgressiveRead(e){this._readyCapability.promise.then(()=>{for(const t of this._progressiveReadListeners)t(e)})}onDataProgressiveDone(){this._readyCapability.promise.then(()=>{for(const e of this._progressiveDoneListeners)e()})}transportReady(){this._readyCapability.resolve()}requestDataRange(e,t){xe("Abstract method PDFDataRangeTransport.requestDataRange")}abort(){}};class NF{constructor(e,t){this._pdfInfo=e,this._transport=t}get annotationStorage(){return this._transport.annotationStorage}get filterFactory(){return this._transport.filterFactory}get numPages(){return this._pdfInfo.numPages}get fingerprints(){return this._pdfInfo.fingerprints}get isPureXfa(){return ue(this,"isPureXfa",!!this._transport._htmlForXfa)}get allXfaHtml(){return this._transport._htmlForXfa}getPage(e){return this._transport.getPage(e)}getPageIndex(e){return this._transport.getPageIndex(e)}getDestinations(){return this._transport.getDestinations()}getDestination(e){return this._transport.getDestination(e)}getPageLabels(){return this._transport.getPageLabels()}getPageLayout(){return this._transport.getPageLayout()}getPageMode(){return this._transport.getPageMode()}getViewerPreferences(){return this._transport.getViewerPreferences()}getOpenAction(){return this._transport.getOpenAction()}getAttachments(){return this._transport.getAttachments()}getJSActions(){return this._transport.getDocJSActions()}getOutline(){return this._transport.getOutline()}getOptionalContentConfig({intent:e="display"}={}){const{renderingIntent:t}=this._transport.getRenderingIntent(e);return this._transport.getOptionalContentConfig(t)}getPermissions(){return this._transport.getPermissions()}getMetadata(){return this._transport.getMetadata()}getMarkInfo(){return this._transport.getMarkInfo()}getData(){return this._transport.getData()}saveDocument(){return this._transport.saveDocument()}getDownloadInfo(){return this._transport.downloadInfoCapability.promise}cleanup(e=!1){return this._transport.startCleanup(e||this.isPureXfa)}destroy(){return this.loadingTask.destroy()}cachedPageNumber(e){return this._transport.cachedPageNumber(e)}get loadingParams(){return this._transport.loadingParams}get loadingTask(){return this._transport.loadingTask}getFieldObjects(){return this._transport.getFieldObjects()}hasJSActions(){return this._transport.hasJSActions()}getCalculationOrderIds(){return this._transport.getCalculationOrderIds()}}var ss,ui,Fn,La,Rf;class DF{constructor(e,t,r,i=!1){_(this,Fn);_(this,ss,null);_(this,ui,!1);this._pageIndex=e,this._pageInfo=t,this._transport=r,this._stats=i?new Yw:null,this._pdfBug=i,this.commonObjs=r.commonObjs,this.objs=new J_,this._maybeCleanupAfterRender=!1,this._intentStates=new Map,this.destroyed=!1}get pageNumber(){return this._pageIndex+1}get rotate(){return this._pageInfo.rotate}get ref(){return this._pageInfo.ref}get userUnit(){return this._pageInfo.userUnit}get view(){return this._pageInfo.view}getViewport({scale:e,rotation:t=this.rotate,offsetX:r=0,offsetY:i=0,dontFlip:s=!1}={}){return new Th({viewBox:this.view,scale:e,rotation:t,offsetX:r,offsetY:i,dontFlip:s})}getAnnotations({intent:e="display"}={}){const{renderingIntent:t}=this._transport.getRenderingIntent(e);return this._transport.getAnnotations(this._pageIndex,t)}getJSActions(){return this._transport.getPageJSActions(this._pageIndex)}get filterFactory(){return this._transport.filterFactory}get isPureXfa(){return ue(this,"isPureXfa",!!this._transport._htmlForXfa)}async getXfa(){var e;return((e=this._transport._htmlForXfa)==null?void 0:e.children[this._pageIndex])||null}render({canvasContext:e,viewport:t,intent:r="display",annotationMode:i=Yi.ENABLE,transform:s=null,background:o=null,optionalContentConfigPromise:a=null,annotationCanvasMap:l=null,pageColors:u=null,printAnnotationStorage:d=null}){var x,C;(x=this._stats)==null||x.time("Overall");const h=this._transport.getRenderingIntent(r,i,d),{renderingIntent:f,cacheKey:p}=h;E(this,ui,!1),A(this,Fn,Rf).call(this),a||(a=this._transport.getOptionalContentConfig(f));let m=this._intentStates.get(p);m||(m=Object.create(null),this._intentStates.set(p,m)),m.streamReaderCancelTimeout&&(clearTimeout(m.streamReaderCancelTimeout),m.streamReaderCancelTimeout=null);const v=!!(f&Ln.PRINT);m.displayReadyCapability||(m.displayReadyCapability=Promise.withResolvers(),m.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(C=this._stats)==null||C.time("Page Request"),this._pumpOperatorList(h));const b=T=>{var k;m.renderTasks.delete(g),(this._maybeCleanupAfterRender||v)&&E(this,ui,!0),A(this,Fn,La).call(this,!v),T?(g.capability.reject(T),this._abortOperatorList({intentState:m,reason:T instanceof Error?T:new Error(T)})):g.capability.resolve(),this._stats&&(this._stats.timeEnd("Rendering"),this._stats.timeEnd("Overall"),(k=globalThis.Stats)!=null&&k.enabled&&globalThis.Stats.add(this.pageNumber,this._stats))},g=new Ov({callback:b,params:{canvasContext:e,viewport:t,transform:s,background:o},objs:this.objs,commonObjs:this.commonObjs,annotationCanvasMap:l,operatorList:m.operatorList,pageIndex:this._pageIndex,canvasFactory:this._transport.canvasFactory,filterFactory:this._transport.filterFactory,useRequestAnimationFrame:!v,pdfBug:this._pdfBug,pageColors:u});(m.renderTasks||(m.renderTasks=new Set)).add(g);const y=g.task;return Promise.all([m.displayReadyCapability.promise,a]).then(([T,k])=>{var P;if(this.destroyed){b();return}if((P=this._stats)==null||P.time("Rendering"),!(k.renderingIntent&f))throw new Error("Must use the same `intent`-argument when calling the `PDFPageProxy.render` and `PDFDocumentProxy.getOptionalContentConfig` methods.");g.initializeGraphics({transparency:T,optionalContentConfig:k}),g.operatorListChanged()}).catch(b),y}getOperatorList({intent:e="display",annotationMode:t=Yi.ENABLE,printAnnotationStorage:r=null}={}){var l;function i(){o.operatorList.lastChunk&&(o.opListReadCapability.resolve(o.operatorList),o.renderTasks.delete(a))}const s=this._transport.getRenderingIntent(e,t,r,!0);let o=this._intentStates.get(s.cacheKey);o||(o=Object.create(null),this._intentStates.set(s.cacheKey,o));let a;return o.opListReadCapability||(a=Object.create(null),a.operatorListChanged=i,o.opListReadCapability=Promise.withResolvers(),(o.renderTasks||(o.renderTasks=new Set)).add(a),o.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(l=this._stats)==null||l.time("Page Request"),this._pumpOperatorList(s)),o.opListReadCapability.promise}streamTextContent({includeMarkedContent:e=!1,disableNormalization:t=!1}={}){return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,includeMarkedContent:e===!0,disableNormalization:t===!0},{highWaterMark:100,size(i){return i.items.length}})}getTextContent(e={}){if(this._transport._htmlForXfa)return this.getXfa().then(r=>Nu.textContent(r));const t=this.streamTextContent(e);return new Promise(function(r,i){function s(){o.read().then(function({value:l,done:u}){if(u){r(a);return}a.lang??(a.lang=l.lang),Object.assign(a.styles,l.styles),a.items.push(...l.items),s()},i)}const o=t.getReader(),a={items:[],styles:Object.create(null),lang:null};s()})}getStructTree(){return this._transport.getStructTree(this._pageIndex)}_destroy(){this.destroyed=!0;const e=[];for(const t of this._intentStates.values())if(this._abortOperatorList({intentState:t,reason:new Error("Page was destroyed."),force:!0}),!t.opListReadCapability)for(const r of t.renderTasks)e.push(r.completed),r.cancel();return this.objs.clear(),E(this,ui,!1),A(this,Fn,Rf).call(this),Promise.all(e)}cleanup(e=!1){E(this,ui,!0);const t=A(this,Fn,La).call(this,!1);return e&&t&&this._stats&&(this._stats=new Yw),t}_startRenderPage(e,t){var i,s;const r=this._intentStates.get(t);r&&((i=this._stats)==null||i.timeEnd("Page Request"),(s=r.displayReadyCapability)==null||s.resolve(e))}_renderPageChunk(e,t){for(let r=0,i=e.length;r<i;r++)t.operatorList.fnArray.push(e.fnArray[r]),t.operatorList.argsArray.push(e.argsArray[r]);t.operatorList.lastChunk=e.lastChunk,t.operatorList.separateAnnots=e.separateAnnots;for(const r of t.renderTasks)r.operatorListChanged();e.lastChunk&&A(this,Fn,La).call(this,!0)}_pumpOperatorList({renderingIntent:e,cacheKey:t,annotationStorageSerializable:r}){const{map:i,transfer:s}=r,a=this._transport.messageHandler.sendWithStream("GetOperatorList",{pageIndex:this._pageIndex,intent:e,cacheKey:t,annotationStorage:i},s).getReader(),l=this._intentStates.get(t);l.streamReader=a;const u=()=>{a.read().then(({value:d,done:h})=>{if(h){l.streamReader=null;return}this._transport.destroyed||(this._renderPageChunk(d,l),u())},d=>{if(l.streamReader=null,!this._transport.destroyed){if(l.operatorList){l.operatorList.lastChunk=!0;for(const h of l.renderTasks)h.operatorListChanged();A(this,Fn,La).call(this,!0)}if(l.displayReadyCapability)l.displayReadyCapability.reject(d);else if(l.opListReadCapability)l.opListReadCapability.reject(d);else throw d}})};u()}_abortOperatorList({intentState:e,reason:t,force:r=!1}){if(e.streamReader){if(e.streamReaderCancelTimeout&&(clearTimeout(e.streamReaderCancelTimeout),e.streamReaderCancelTimeout=null),!r){if(e.renderTasks.size>0)return;if(t instanceof O1){let i=SF;t.extraDelay>0&&t.extraDelay<1e3&&(i+=t.extraDelay),e.streamReaderCancelTimeout=setTimeout(()=>{e.streamReaderCancelTimeout=null,this._abortOperatorList({intentState:e,reason:t,force:!0})},i);return}}if(e.streamReader.cancel(new ba(t.message)).catch(()=>{}),e.streamReader=null,!this._transport.destroyed){for(const[i,s]of this._intentStates)if(s===e){this._intentStates.delete(i);break}this.cleanup()}}}get stats(){return this._stats}}ss=new WeakMap,ui=new WeakMap,Fn=new WeakSet,La=function(e=!1){if(A(this,Fn,Rf).call(this),!c(this,ui)||this.destroyed)return!1;if(e)return E(this,ss,setTimeout(()=>{E(this,ss,null),A(this,Fn,La).call(this,!1)},_F)),!1;for(const{renderTasks:t,operatorList:r}of this._intentStates.values())if(t.size>0||!r.lastChunk)return!1;return this._intentStates.clear(),this.objs.clear(),E(this,ui,!1),!0},Rf=function(){c(this,ss)&&(clearTimeout(c(this,ss)),E(this,ss,null))};var So,Kp;class FF{constructor(){_(this,So,new Set);_(this,Kp,Promise.resolve())}postMessage(e,t){const r={data:structuredClone(e,t?{transfer:t}:null)};c(this,Kp).then(()=>{for(const i of c(this,So))i.call(this,r)})}addEventListener(e,t){c(this,So).add(t)}removeEventListener(e,t){c(this,So).delete(t)}terminate(){c(this,So).clear()}}So=new WeakMap,Kp=new WeakMap;const Zr={isWorkerDisabled:!1,fakeWorkerId:0};Rt&&(Zr.isWorkerDisabled=!0,Ci.workerSrc||(Ci.workerSrc="./pdf.worker.mjs")),Zr.isSameOrigin=function(n,e){let t;try{if(t=new URL(n),!t.origin||t.origin==="null")return!1}catch{return!1}const r=new URL(e,t);return t.origin===r.origin},Zr.createCDNWrapper=function(n){const e=`await import("${n}");`;return URL.createObjectURL(new Blob([e],{type:"text/javascript"}))};var _o,Sl,Lf;const un=class un{constructor({name:e=null,port:t=null,verbosity:r=fD()}={}){var i;if(this.name=e,this.destroyed=!1,this.verbosity=r,this._readyCapability=Promise.withResolvers(),this._port=null,this._webWorker=null,this._messageHandler=null,t){if((i=c(un,_o))!=null&&i.has(t))throw new Error("Cannot use more than one PDFWorker per port.");(c(un,_o)||E(un,_o,new WeakMap)).set(t,this),this._initializeFromPort(t);return}this._initialize()}get promise(){return Rt?Promise.all([Br.promise,this._readyCapability.promise]):this._readyCapability.promise}get port(){return this._port}get messageHandler(){return this._messageHandler}_initializeFromPort(e){this._port=e,this._messageHandler=new zc("main","worker",e),this._messageHandler.on("ready",function(){}),this._readyCapability.resolve(),this._messageHandler.send("configure",{verbosity:this.verbosity})}_initialize(){if(!Zr.isWorkerDisabled&&!c(un,Sl,Lf)){let{workerSrc:e}=un;try{Zr.isSameOrigin(window.location.href,e)||(e=Zr.createCDNWrapper(new URL(e,window.location).href));const t=new Worker(e,{type:"module"}),r=new zc("main","worker",t),i=()=>{t.removeEventListener("error",s),r.destroy(),t.terminate(),this.destroyed?this._readyCapability.reject(new Error("Worker was destroyed")):this._setupFakeWorker()},s=()=>{this._webWorker||i()};t.addEventListener("error",s),r.on("test",a=>{if(t.removeEventListener("error",s),this.destroyed){i();return}a?(this._messageHandler=r,this._port=t,this._webWorker=t,this._readyCapability.resolve(),r.send("configure",{verbosity:this.verbosity})):(this._setupFakeWorker(),r.destroy(),t.terminate())}),r.on("ready",a=>{if(t.removeEventListener("error",s),this.destroyed){i();return}try{o()}catch{this._setupFakeWorker()}});const o=()=>{const a=new Uint8Array;r.send("test",a,[a.buffer])};o();return}catch{Dm("The worker has been disabled.")}}this._setupFakeWorker()}_setupFakeWorker(){Zr.isWorkerDisabled||(re("Setting up fake worker."),Zr.isWorkerDisabled=!0),un._setupFakeWorkerGlobal.then(e=>{if(this.destroyed){this._readyCapability.reject(new Error("Worker was destroyed"));return}const t=new FF;this._port=t;const r=`fake${Zr.fakeWorkerId++}`,i=new zc(r+"_worker",r,t);e.setup(i,t);const s=new zc(r,r+"_worker",t);this._messageHandler=s,this._readyCapability.resolve(),s.send("configure",{verbosity:this.verbosity})}).catch(e=>{this._readyCapability.reject(new Error(`Setting up fake worker failed: "${e.message}".`))})}destroy(){var e;this.destroyed=!0,this._webWorker&&(this._webWorker.terminate(),this._webWorker=null),(e=c(un,_o))==null||e.delete(this._port),this._port=null,this._messageHandler&&(this._messageHandler.destroy(),this._messageHandler=null)}static fromPort(e){var r;if(!(e!=null&&e.port))throw new Error("PDFWorker.fromPort - invalid method signature.");const t=(r=c(this,_o))==null?void 0:r.get(e.port);if(t){if(t._pendingDestroy)throw new Error("PDFWorker.fromPort - the worker is being destroyed.\nPlease remember to await `PDFDocumentLoadingTask.destroy()`-calls.");return t}return new un(e)}static get workerSrc(){if(Ci.workerSrc)return Ci.workerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}static get _setupFakeWorkerGlobal(){return ue(this,"_setupFakeWorkerGlobal",(async()=>c(this,Sl,Lf)?c(this,Sl,Lf):(await import(this.workerSrc)).WorkerMessageHandler)())}};_o=new WeakMap,Sl=new WeakSet,Lf=function(){var e;try{return((e=globalThis.pdfjsWorker)==null?void 0:e.WorkerMessageHandler)||null}catch{return null}},_(un,Sl),_(un,_o);let tl=un;var di,Cr,_l,Cl,Tr,Co,Uc;class IF{constructor(e,t,r,i,s){_(this,Co);_(this,di,new Map);_(this,Cr,new Map);_(this,_l,new Map);_(this,Cl,new Map);_(this,Tr,null);this.messageHandler=e,this.loadingTask=t,this.commonObjs=new J_,this.fontLoader=new DD({ownerDocument:i.ownerDocument,styleElement:i.styleElement}),this.loadingParams=i.loadingParams,this._params=i,this.canvasFactory=s.canvasFactory,this.filterFactory=s.filterFactory,this.cMapReaderFactory=s.cMapReaderFactory,this.standardFontDataFactory=s.standardFontDataFactory,this.destroyed=!1,this.destroyCapability=null,this._networkStream=r,this._fullReader=null,this._lastProgress=null,this.downloadInfoCapability=Promise.withResolvers(),this.setupMessageHandler()}get annotationStorage(){return ue(this,"annotationStorage",new B1)}getRenderingIntent(e,t=Yi.ENABLE,r=null,i=!1){let s=Ln.DISPLAY,o=Tv;switch(e){case"any":s=Ln.ANY;break;case"display":break;case"print":s=Ln.PRINT;break;default:re(`getRenderingIntent - invalid intent: ${e}`)}switch(t){case Yi.DISABLE:s+=Ln.ANNOTATIONS_DISABLE;break;case Yi.ENABLE:break;case Yi.ENABLE_FORMS:s+=Ln.ANNOTATIONS_FORMS;break;case Yi.ENABLE_STORAGE:s+=Ln.ANNOTATIONS_STORAGE,o=(s&Ln.PRINT&&r instanceof j_?r:this.annotationStorage).serializable;break;default:re(`getRenderingIntent - invalid annotationMode: ${t}`)}return i&&(s+=Ln.OPLIST),{renderingIntent:s,cacheKey:`${s}_${o.hash}`,annotationStorageSerializable:o}}destroy(){var r;if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=Promise.withResolvers(),(r=c(this,Tr))==null||r.reject(new Error("Worker was destroyed during onPassword callback"));const e=[];for(const i of c(this,Cr).values())e.push(i._destroy());c(this,Cr).clear(),c(this,_l).clear(),c(this,Cl).clear(),this.hasOwnProperty("annotationStorage")&&this.annotationStorage.resetModified();const t=this.messageHandler.sendWithPromise("Terminate",null);return e.push(t),Promise.all(e).then(()=>{var i;this.commonObjs.clear(),this.fontLoader.clear(),c(this,di).clear(),this.filterFactory.destroy(),Mp.cleanup(),(i=this._networkStream)==null||i.cancelAllRequests(new ba("Worker was terminated.")),this.messageHandler&&(this.messageHandler.destroy(),this.messageHandler=null),this.destroyCapability.resolve()},this.destroyCapability.reject),this.destroyCapability.promise}setupMessageHandler(){const{messageHandler:e,loadingTask:t}=this;e.on("GetReader",(r,i)=>{nt(this._networkStream,"GetReader - no `IPDFStream` instance available."),this._fullReader=this._networkStream.getFullReader(),this._fullReader.onProgress=s=>{this._lastProgress={loaded:s.loaded,total:s.total}},i.onPull=()=>{this._fullReader.read().then(function({value:s,done:o}){if(o){i.close();return}nt(s instanceof ArrayBuffer,"GetReader - expected an ArrayBuffer."),i.enqueue(new Uint8Array(s),1,[s])}).catch(s=>{i.error(s)})},i.onCancel=s=>{this._fullReader.cancel(s),i.ready.catch(o=>{if(!this.destroyed)throw o})}}),e.on("ReaderHeadersReady",r=>{const i=Promise.withResolvers(),s=this._fullReader;return s.headersReady.then(()=>{var o;(!s.isStreamingSupported||!s.isRangeSupported)&&(this._lastProgress&&((o=t.onProgress)==null||o.call(t,this._lastProgress)),s.onProgress=a=>{var l;(l=t.onProgress)==null||l.call(t,{loaded:a.loaded,total:a.total})}),i.resolve({isStreamingSupported:s.isStreamingSupported,isRangeSupported:s.isRangeSupported,contentLength:s.contentLength})},i.reject),i.promise}),e.on("GetRangeReader",(r,i)=>{nt(this._networkStream,"GetRangeReader - no `IPDFStream` instance available.");const s=this._networkStream.getRangeReader(r.begin,r.end);if(!s){i.close();return}i.onPull=()=>{s.read().then(function({value:o,done:a}){if(a){i.close();return}nt(o instanceof ArrayBuffer,"GetRangeReader - expected an ArrayBuffer."),i.enqueue(new Uint8Array(o),1,[o])}).catch(o=>{i.error(o)})},i.onCancel=o=>{s.cancel(o),i.ready.catch(a=>{if(!this.destroyed)throw a})}}),e.on("GetDoc",({pdfInfo:r})=>{this._numPages=r.numPages,this._htmlForXfa=r.htmlForXfa,delete r.htmlForXfa,t._capability.resolve(new NF(r,this))}),e.on("DocException",function(r){let i;switch(r.name){case"PasswordException":i=new nv(r.message,r.code);break;case"InvalidPDFException":i=new o_(r.message);break;case"MissingPDFException":i=new wa(r.message);break;case"UnexpectedResponseException":i=new Fm(r.message,r.status);break;case"UnknownErrorException":i=new rv(r.message,r.details);break;default:xe("DocException - expected a valid Error.")}t._capability.reject(i)}),e.on("PasswordRequest",r=>{if(E(this,Tr,Promise.withResolvers()),t.onPassword){const i=s=>{s instanceof Error?c(this,Tr).reject(s):c(this,Tr).resolve({password:s})};try{t.onPassword(i,r.code)}catch(s){c(this,Tr).reject(s)}}else c(this,Tr).reject(new nv(r.message,r.code));return c(this,Tr).promise}),e.on("DataLoaded",r=>{var i;(i=t.onProgress)==null||i.call(t,{loaded:r.length,total:r.length}),this.downloadInfoCapability.resolve(r)}),e.on("StartRenderPage",r=>{if(this.destroyed)return;c(this,Cr).get(r.pageIndex)._startRenderPage(r.transparency,r.cacheKey)}),e.on("commonobj",([r,i,s])=>{var o;if(this.destroyed||this.commonObjs.has(r))return null;switch(i){case"Font":const{disableFontFace:a,fontExtraProperties:l,pdfBug:u}=this._params;if("error"in s){const p=s.error;re(`Error during font loading: ${p}`),this.commonObjs.resolve(r,p);break}const d=u&&((o=globalThis.FontInspector)!=null&&o.enabled)?(p,m)=>globalThis.FontInspector.fontAdded(p,m):null,h=new FD(s,{disableFontFace:a,inspectFont:d});this.fontLoader.bind(h).catch(()=>e.sendWithPromise("FontFallback",{id:r})).finally(()=>{!l&&h.data&&(h.data=null),this.commonObjs.resolve(r,h)});break;case"CopyLocalImage":const{imageRef:f}=s;nt(f,"The imageRef must be defined.");for(const p of c(this,Cr).values())for(const[,m]of p.objs)if((m==null?void 0:m.ref)===f)return m.dataLen?(this.commonObjs.resolve(r,structuredClone(m)),m.dataLen):null;break;case"FontPath":case"Image":case"Pattern":this.commonObjs.resolve(r,s);break;default:throw new Error(`Got unknown common object type ${i}`)}return null}),e.on("obj",([r,i,s,o])=>{var l;if(this.destroyed)return;const a=c(this,Cr).get(i);if(!a.objs.has(r)){if(a._intentStates.size===0){(l=o==null?void 0:o.bitmap)==null||l.close();return}switch(s){case"Image":a.objs.resolve(r,o),(o==null?void 0:o.dataLen)>lD&&(a._maybeCleanupAfterRender=!0);break;case"Pattern":a.objs.resolve(r,o);break;default:throw new Error(`Got unknown object type ${s}`)}}}),e.on("DocProgress",r=>{var i;this.destroyed||(i=t.onProgress)==null||i.call(t,{loaded:r.loaded,total:r.total})}),e.on("FetchBuiltInCMap",r=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.cMapReaderFactory?this.cMapReaderFactory.fetch(r):Promise.reject(new Error("CMapReaderFactory not initialized, see the `useWorkerFetch` parameter."))),e.on("FetchStandardFontData",r=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.standardFontDataFactory?this.standardFontDataFactory.fetch(r):Promise.reject(new Error("StandardFontDataFactory not initialized, see the `useWorkerFetch` parameter.")))}getData(){return this.messageHandler.sendWithPromise("GetData",null)}saveDocument(){var r;this.annotationStorage.size<=0&&re("saveDocument called while `annotationStorage` is empty, please use the getData-method instead.");const{map:e,transfer:t}=this.annotationStorage.serializable;return this.messageHandler.sendWithPromise("SaveDocument",{isPureXfa:!!this._htmlForXfa,numPages:this._numPages,annotationStorage:e,filename:((r=this._fullReader)==null?void 0:r.filename)??null},t).finally(()=>{this.annotationStorage.resetModified()})}getPage(e){if(!Number.isInteger(e)||e<=0||e>this._numPages)return Promise.reject(new Error("Invalid page request."));const t=e-1,r=c(this,_l).get(t);if(r)return r;const i=this.messageHandler.sendWithPromise("GetPage",{pageIndex:t}).then(s=>{if(this.destroyed)throw new Error("Transport destroyed");s.refStr&&c(this,Cl).set(s.refStr,e);const o=new DF(t,s,this,this._params.pdfBug);return c(this,Cr).set(t,o),o});return c(this,_l).set(t,i),i}getPageIndex(e){return ub(e)?this.messageHandler.sendWithPromise("GetPageIndex",{num:e.num,gen:e.gen}):Promise.reject(new Error("Invalid pageIndex request."))}getAnnotations(e,t){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:e,intent:t})}getFieldObjects(){return A(this,Co,Uc).call(this,"GetFieldObjects")}hasJSActions(){return A(this,Co,Uc).call(this,"HasJSActions")}getCalculationOrderIds(){return this.messageHandler.sendWithPromise("GetCalculationOrderIds",null)}getDestinations(){return this.messageHandler.sendWithPromise("GetDestinations",null)}getDestination(e){return typeof e!="string"?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:e})}getPageLabels(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}getPageLayout(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}getPageMode(){return this.messageHandler.sendWithPromise("GetPageMode",null)}getViewerPreferences(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}getOpenAction(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}getAttachments(){return this.messageHandler.sendWithPromise("GetAttachments",null)}getDocJSActions(){return A(this,Co,Uc).call(this,"GetDocJSActions")}getPageJSActions(e){return this.messageHandler.sendWithPromise("GetPageJSActions",{pageIndex:e})}getStructTree(e){return this.messageHandler.sendWithPromise("GetStructTree",{pageIndex:e})}getOutline(){return this.messageHandler.sendWithPromise("GetOutline",null)}getOptionalContentConfig(e){return A(this,Co,Uc).call(this,"GetOptionalContentConfig").then(t=>new tF(t,e))}getPermissions(){return this.messageHandler.sendWithPromise("GetPermissions",null)}getMetadata(){const e="GetMetadata",t=c(this,di).get(e);if(t)return t;const r=this.messageHandler.sendWithPromise(e,null).then(i=>{var s,o;return{info:i[0],metadata:i[1]?new JD(i[1]):null,contentDispositionFilename:((s=this._fullReader)==null?void 0:s.filename)??null,contentLength:((o=this._fullReader)==null?void 0:o.contentLength)??null}});return c(this,di).set(e,r),r}getMarkInfo(){return this.messageHandler.sendWithPromise("GetMarkInfo",null)}async startCleanup(e=!1){if(!this.destroyed){await this.messageHandler.sendWithPromise("Cleanup",null);for(const t of c(this,Cr).values())if(!t.cleanup())throw new Error(`startCleanup: Page ${t.pageNumber} is currently rendering.`);this.commonObjs.clear(),e||this.fontLoader.clear(),c(this,di).clear(),this.filterFactory.destroy(!0),Mp.cleanup()}}cachedPageNumber(e){if(!ub(e))return null;const t=e.gen===0?`${e.num}R`:`${e.num}R${e.gen}`;return c(this,Cl).get(t)??null}}di=new WeakMap,Cr=new WeakMap,_l=new WeakMap,Cl=new WeakMap,Tr=new WeakMap,Co=new WeakSet,Uc=function(e,t=null){const r=c(this,di).get(e);if(r)return r;const i=this.messageHandler.sendWithPromise(e,t);return c(this,di).set(e,i),i};const rf=Symbol("INITIAL_DATA");var er,Sd,Iv;class J_{constructor(){_(this,Sd);_(this,er,Object.create(null))}get(e,t=null){if(t){const i=A(this,Sd,Iv).call(this,e);return i.promise.then(()=>t(i.data)),null}const r=c(this,er)[e];if(!r||r.data===rf)throw new Error(`Requesting object that isn't resolved yet ${e}.`);return r.data}has(e){const t=c(this,er)[e];return!!t&&t.data!==rf}resolve(e,t=null){const r=A(this,Sd,Iv).call(this,e);r.data=t,r.resolve()}clear(){var e;for(const t in c(this,er)){const{data:r}=c(this,er)[t];(e=r==null?void 0:r.bitmap)==null||e.close()}E(this,er,Object.create(null))}*[Symbol.iterator](){for(const e in c(this,er)){const{data:t}=c(this,er)[e];t!==rf&&(yield[e,t])}}}er=new WeakMap,Sd=new WeakSet,Iv=function(e){var t;return(t=c(this,er))[e]||(t[e]={...Promise.withResolvers(),data:rf})};var os;class OF{constructor(e){_(this,os,null);E(this,os,e),this.onContinue=null}get promise(){return c(this,os).capability.promise}cancel(e=0){c(this,os).cancel(null,e)}get separateAnnots(){const{separateAnnots:e}=c(this,os).operatorList;if(!e)return!1;const{annotationCanvasMap:t}=c(this,os);return e.form||e.canvas&&(t==null?void 0:t.size)>0}}os=new WeakMap;var To;const Ys=class Ys{constructor({callback:e,params:t,objs:r,commonObjs:i,annotationCanvasMap:s,operatorList:o,pageIndex:a,canvasFactory:l,filterFactory:u,useRequestAnimationFrame:d=!1,pdfBug:h=!1,pageColors:f=null}){this.callback=e,this.params=t,this.objs=r,this.commonObjs=i,this.annotationCanvasMap=s,this.operatorListIdx=null,this.operatorList=o,this._pageIndex=a,this.canvasFactory=l,this.filterFactory=u,this._pdfBug=h,this.pageColors=f,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=d===!0&&typeof window<"u",this.cancelled=!1,this.capability=Promise.withResolvers(),this.task=new OF(this),this._cancelBound=this.cancel.bind(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=t.canvasContext.canvas}get completed(){return this.capability.promise.catch(function(){})}initializeGraphics({transparency:e=!1,optionalContentConfig:t}){var a,l;if(this.cancelled)return;if(this._canvas){if(c(Ys,To).has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");c(Ys,To).add(this._canvas)}this._pdfBug&&((a=globalThis.StepperManager)!=null&&a.enabled)&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());const{canvasContext:r,viewport:i,transform:s,background:o}=this.params;this.gfx=new el(r,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:t},this.annotationCanvasMap,this.pageColors),this.gfx.beginDrawing({transform:s,viewport:i,transparency:e,background:o}),this.operatorListIdx=0,this.graphicsReady=!0,(l=this.graphicsReadyCallback)==null||l.call(this)}cancel(e=null,t=0){var r;this.running=!1,this.cancelled=!0,(r=this.gfx)==null||r.endDrawing(),c(Ys,To).delete(this._canvas),this.callback(e||new O1(`Rendering cancelled, page ${this._pageIndex+1}`,t))}operatorListChanged(){var e;if(!this.graphicsReady){this.graphicsReadyCallback||(this.graphicsReadyCallback=this._continueBound);return}(e=this.stepper)==null||e.updateOperatorList(this.operatorList),!this.running&&this._continue()}_continue(){this.running=!0,!this.cancelled&&(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}_scheduleNext(){this._useRequestAnimationFrame?window.requestAnimationFrame(()=>{this._nextBound().catch(this._cancelBound)}):Promise.resolve().then(this._nextBound).catch(this._cancelBound)}async _next(){this.cancelled||(this.operatorListIdx=this.gfx.executeOperatorList(this.operatorList,this.operatorListIdx,this._continueBound,this.stepper),this.operatorListIdx===this.operatorList.argsArray.length&&(this.running=!1,this.operatorList.lastChunk&&(this.gfx.endDrawing(),c(Ys,To).delete(this._canvas),this.callback())))}};To=new WeakMap,_(Ys,To,new WeakSet);let Ov=Ys;const jF="4.3.136",$F="0cec64437";function db(n){return Math.floor(Math.max(0,Math.min(1,n))*255).toString(16).padStart(2,"0")}function Lc(n){return Math.max(0,Math.min(255,255*n))}class hb{static CMYK_G([e,t,r,i]){return["G",1-Math.min(1,.3*e+.59*r+.11*t+i)]}static G_CMYK([e]){return["CMYK",0,0,0,1-e]}static G_RGB([e]){return["RGB",e,e,e]}static G_rgb([e]){return e=Lc(e),[e,e,e]}static G_HTML([e]){const t=db(e);return`#${t}${t}${t}`}static RGB_G([e,t,r]){return["G",.3*e+.59*t+.11*r]}static RGB_rgb(e){return e.map(Lc)}static RGB_HTML(e){return`#${e.map(db).join("")}`}static T_HTML(){return"#00000000"}static T_rgb(){return[null]}static CMYK_RGB([e,t,r,i]){return["RGB",1-Math.min(1,e+i),1-Math.min(1,r+i),1-Math.min(1,t+i)]}static CMYK_rgb([e,t,r,i]){return[Lc(1-Math.min(1,e+i)),Lc(1-Math.min(1,r+i)),Lc(1-Math.min(1,t+i))]}static CMYK_HTML(e){const t=this.CMYK_RGB(e).slice(1);return this.RGB_HTML(t)}static RGB_CMYK([e,t,r]){const i=1-e,s=1-t,o=1-r,a=Math.min(i,s,o);return["CMYK",i,s,o,a]}}class eC{static setupStorage(e,t,r,i,s){const o=i.getValue(t,{value:null});switch(r.name){case"textarea":if(o.value!==null&&(e.textContent=o.value),s==="print")break;e.addEventListener("input",a=>{i.setValue(t,{value:a.target.value})});break;case"input":if(r.attributes.type==="radio"||r.attributes.type==="checkbox"){if(o.value===r.attributes.xfaOn?e.setAttribute("checked",!0):o.value===r.attributes.xfaOff&&e.removeAttribute("checked"),s==="print")break;e.addEventListener("change",a=>{i.setValue(t,{value:a.target.checked?a.target.getAttribute("xfaOn"):a.target.getAttribute("xfaOff")})})}else{if(o.value!==null&&e.setAttribute("value",o.value),s==="print")break;e.addEventListener("input",a=>{i.setValue(t,{value:a.target.value})})}break;case"select":if(o.value!==null){e.setAttribute("value",o.value);for(const a of r.children)a.attributes.value===o.value?a.attributes.selected=!0:a.attributes.hasOwnProperty("selected")&&delete a.attributes.selected}e.addEventListener("input",a=>{const l=a.target.options,u=l.selectedIndex===-1?"":l[l.selectedIndex].value;i.setValue(t,{value:u})});break}}static setAttributes({html:e,element:t,storage:r=null,intent:i,linkService:s}){const{attributes:o}=t,a=e instanceof HTMLAnchorElement;o.type==="radio"&&(o.name=`${o.name}-${i}`);for(const[l,u]of Object.entries(o))if(u!=null)switch(l){case"class":u.length&&e.setAttribute(l,u.join(" "));break;case"dataId":break;case"id":e.setAttribute("data-element-id",u);break;case"style":Object.assign(e.style,u);break;case"textContent":e.textContent=u;break;default:(!a||l!=="href"&&l!=="newWindow")&&e.setAttribute(l,u)}a&&s.addLinkAttributes(e,o.href,o.newWindow),r&&o.dataId&&this.setupStorage(e,o.dataId,t,r)}static render(e){var h,f;const t=e.annotationStorage,r=e.linkService,i=e.xfaHtml,s=e.intent||"display",o=document.createElement(i.name);i.attributes&&this.setAttributes({html:o,element:i,intent:s,linkService:r});const a=s!=="richText",l=e.div;if(l.append(o),e.viewport){const p=`matrix(${e.viewport.transform.join(",")})`;l.style.transform=p}a&&l.setAttribute("class","xfaLayer xfaFont");const u=[];if(i.children.length===0){if(i.value){const p=document.createTextNode(i.value);o.append(p),a&&Nu.shouldBuildText(i.name)&&u.push(p)}return{textDivs:u}}const d=[[i,-1,o]];for(;d.length>0;){const[p,m,v]=d.at(-1);if(m+1===p.children.length){d.pop();continue}const b=p.children[++d.at(-1)[1]];if(b===null)continue;const{name:g}=b;if(g==="#text"){const x=document.createTextNode(b.value);u.push(x),v.append(x);continue}const y=(h=b==null?void 0:b.attributes)!=null&&h.xmlns?document.createElementNS(b.attributes.xmlns,g):document.createElement(g);if(v.append(y),b.attributes&&this.setAttributes({html:y,element:b,storage:t,intent:s,linkService:r}),((f=b.children)==null?void 0:f.length)>0)d.push([b,-1,y]);else if(b.value){const x=document.createTextNode(b.value);a&&Nu.shouldBuildText(g)&&u.push(x),y.append(x)}}for(const p of l.querySelectorAll(".xfaNonInteractive input, .xfaNonInteractive textarea"))p.setAttribute("readOnly",!0);return{textDivs:u}}static update(e){const t=`matrix(${e.viewport.transform.join(",")})`;e.div.style.transform=t,e.div.hidden=!1}}const Rh=1e3,HF=9,pa=new WeakSet;function Ti(n){return{width:n[2]-n[0],height:n[3]-n[1]}}class BF{static create(e){switch(e.data.annotationType){case Ye.LINK:return new tC(e);case Ye.TEXT:return new zF(e);case Ye.WIDGET:switch(e.data.fieldType){case"Tx":return new UF(e);case"Btn":return e.data.radioButton?new iC(e):e.data.checkBox?new WF(e):new GF(e);case"Ch":return new qF(e);case"Sig":return new VF(e)}return new Ea(e);case Ye.POPUP:return new $v(e);case Ye.FREETEXT:return new cC(e);case Ye.LINE:return new KF(e);case Ye.SQUARE:return new YF(e);case Ye.CIRCLE:return new QF(e);case Ye.POLYLINE:return new uC(e);case Ye.CARET:return new JF(e);case Ye.INK:return new dC(e);case Ye.POLYGON:return new ZF(e);case Ye.HIGHLIGHT:return new e3(e);case Ye.UNDERLINE:return new t3(e);case Ye.SQUIGGLY:return new n3(e);case Ye.STRIKEOUT:return new r3(e);case Ye.STAMP:return new hC(e);case Ye.FILEATTACHMENT:return new i3(e);default:return new Ge(e)}}}var ko,Tl,kl,_d,jv;const G1=class G1{constructor(e,{isRenderable:t=!1,ignoreBorder:r=!1,createQuadrilaterals:i=!1}={}){_(this,_d);_(this,ko,null);_(this,Tl,!1);_(this,kl,null);this.isRenderable=t,this.data=e.data,this.layer=e.layer,this.linkService=e.linkService,this.downloadManager=e.downloadManager,this.imageResourcesPath=e.imageResourcesPath,this.renderForms=e.renderForms,this.svgFactory=e.svgFactory,this.annotationStorage=e.annotationStorage,this.enableScripting=e.enableScripting,this.hasJSActions=e.hasJSActions,this._fieldObjects=e.fieldObjects,this.parent=e.parent,t&&(this.container=this._createContainer(r)),i&&this._createQuadrilaterals()}static _hasPopupData({titleObj:e,contentsObj:t,richText:r}){return!!(e!=null&&e.str||t!=null&&t.str||r!=null&&r.str)}get hasPopupData(){return G1._hasPopupData(this.data)}updateEdited(e){var r;if(!this.container)return;c(this,ko)||E(this,ko,{rect:this.data.rect.slice(0)});const{rect:t}=e;t&&A(this,_d,jv).call(this,t),(r=c(this,kl))==null||r.popup.updateEdited(e)}resetEdited(){var e;c(this,ko)&&(A(this,_d,jv).call(this,c(this,ko).rect),(e=c(this,kl))==null||e.popup.resetEdited(),E(this,ko,null))}_createContainer(e){const{data:t,parent:{page:r,viewport:i}}=this,s=document.createElement("section");s.setAttribute("data-annotation-id",t.id),this instanceof Ea||(s.tabIndex=Rh);const{style:o}=s;if(o.zIndex=this.parent.zIndex++,t.popupRef&&s.setAttribute("aria-haspopup","dialog"),t.alternativeText&&(s.title=t.alternativeText),t.noRotate&&s.classList.add("norotate"),!t.rect||this instanceof $v){const{rotation:v}=t;return!t.hasOwnCanvas&&v!==0&&this.setRotation(v,s),s}const{width:a,height:l}=Ti(t.rect);if(!e&&t.borderStyle.width>0){o.borderWidth=`${t.borderStyle.width}px`;const v=t.borderStyle.horizontalCornerRadius,b=t.borderStyle.verticalCornerRadius;if(v>0||b>0){const y=`calc(${v}px * var(--scale-factor)) / calc(${b}px * var(--scale-factor))`;o.borderRadius=y}else if(this instanceof iC){const y=`calc(${a}px * var(--scale-factor)) / calc(${l}px * var(--scale-factor))`;o.borderRadius=y}switch(t.borderStyle.style){case Pc.SOLID:o.borderStyle="solid";break;case Pc.DASHED:o.borderStyle="dashed";break;case Pc.BEVELED:re("Unimplemented border style: beveled");break;case Pc.INSET:re("Unimplemented border style: inset");break;case Pc.UNDERLINE:o.borderBottomStyle="solid";break}const g=t.borderColor||null;g?(E(this,Tl,!0),o.borderColor=X.makeHexColor(g[0]|0,g[1]|0,g[2]|0)):o.borderWidth=0}const u=X.normalizeRect([t.rect[0],r.view[3]-t.rect[1]+r.view[1],t.rect[2],r.view[3]-t.rect[3]+r.view[1]]),{pageWidth:d,pageHeight:h,pageX:f,pageY:p}=i.rawDims;o.left=`${100*(u[0]-f)/d}%`,o.top=`${100*(u[1]-p)/h}%`;const{rotation:m}=t;return t.hasOwnCanvas||m===0?(o.width=`${100*a/d}%`,o.height=`${100*l/h}%`):this.setRotation(m,s),s}setRotation(e,t=this.container){if(!this.data.rect)return;const{pageWidth:r,pageHeight:i}=this.parent.viewport.rawDims,{width:s,height:o}=Ti(this.data.rect);let a,l;e%180===0?(a=100*s/r,l=100*o/i):(a=100*o/r,l=100*s/i),t.style.width=`${a}%`,t.style.height=`${l}%`,t.setAttribute("data-main-rotation",(360-e)%360)}get _commonActions(){const e=(t,r,i)=>{const s=i.detail[t],o=s[0],a=s.slice(1);i.target.style[r]=hb[`${o}_HTML`](a),this.annotationStorage.setValue(this.data.id,{[r]:hb[`${o}_rgb`](a)})};return ue(this,"_commonActions",{display:t=>{const{display:r}=t.detail,i=r%2===1;this.container.style.visibility=i?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noView:i,noPrint:r===1||r===2})},print:t=>{this.annotationStorage.setValue(this.data.id,{noPrint:!t.detail.print})},hidden:t=>{const{hidden:r}=t.detail;this.container.style.visibility=r?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noPrint:r,noView:r})},focus:t=>{setTimeout(()=>t.target.focus({preventScroll:!1}),0)},userName:t=>{t.target.title=t.detail.userName},readonly:t=>{t.target.disabled=t.detail.readonly},required:t=>{this._setRequired(t.target,t.detail.required)},bgColor:t=>{e("bgColor","backgroundColor",t)},fillColor:t=>{e("fillColor","backgroundColor",t)},fgColor:t=>{e("fgColor","color",t)},textColor:t=>{e("textColor","color",t)},borderColor:t=>{e("borderColor","borderColor",t)},strokeColor:t=>{e("strokeColor","borderColor",t)},rotation:t=>{const r=t.detail.rotation;this.setRotation(r),this.annotationStorage.setValue(this.data.id,{rotation:r})}})}_dispatchEventFromSandbox(e,t){const r=this._commonActions;for(const i of Object.keys(t.detail)){const s=e[i]||r[i];s==null||s(t)}}_setDefaultPropertiesFromJS(e){if(!this.enableScripting)return;const t=this.annotationStorage.getRawValue(this.data.id);if(!t)return;const r=this._commonActions;for(const[i,s]of Object.entries(t)){const o=r[i];if(o){const a={detail:{[i]:s},target:e};o(a),delete t[i]}}}_createQuadrilaterals(){if(!this.container)return;const{quadPoints:e}=this.data;if(!e)return;const[t,r,i,s]=this.data.rect;if(e.length===1){const[,{x:v,y:b},{x:g,y}]=e[0];if(i===v&&s===b&&t===g&&r===y)return}const{style:o}=this.container;let a;if(c(this,Tl)){const{borderColor:v,borderWidth:b}=o;o.borderWidth=0,a=["url('data:image/svg+xml;utf8,",'<svg xmlns="http://www.w3.org/2000/svg"',' preserveAspectRatio="none" viewBox="0 0 1 1">',`<g fill="transparent" stroke="${v}" stroke-width="${b}">`],this.container.classList.add("hasBorder")}const l=i-t,u=s-r,{svgFactory:d}=this,h=d.createElement("svg");h.classList.add("quadrilateralsContainer"),h.setAttribute("width",0),h.setAttribute("height",0);const f=d.createElement("defs");h.append(f);const p=d.createElement("clipPath"),m=`clippath_${this.data.id}`;p.setAttribute("id",m),p.setAttribute("clipPathUnits","objectBoundingBox"),f.append(p);for(const[,{x:v,y:b},{x:g,y}]of e){const x=d.createElement("rect"),C=(g-t)/l,T=(s-b)/u,k=(v-g)/l,P=(b-y)/u;x.setAttribute("x",C),x.setAttribute("y",T),x.setAttribute("width",k),x.setAttribute("height",P),p.append(x),a==null||a.push(`<rect vector-effect="non-scaling-stroke" x="${C}" y="${T}" width="${k}" height="${P}"/>`)}c(this,Tl)&&(a.push("</g></svg>')"),o.backgroundImage=a.join("")),this.container.append(h),this.container.style.clipPath=`url(#${m})`}_createPopup(){const{container:e,data:t}=this;e.setAttribute("aria-haspopup","dialog");const r=E(this,kl,new $v({data:{color:t.color,titleObj:t.titleObj,modificationDate:t.modificationDate,contentsObj:t.contentsObj,richText:t.richText,parentRect:t.rect,borderStyle:0,id:`popup_${t.id}`,rotation:t.rotation},parent:this.parent,elements:[this]}));this.parent.div.append(r.render())}render(){xe("Abstract method `AnnotationElement.render` called")}_getElementsByName(e,t=null){const r=[];if(this._fieldObjects){const i=this._fieldObjects[e];if(i)for(const{page:s,id:o,exportValues:a}of i){if(s===-1||o===t)continue;const l=typeof a=="string"?a:null,u=document.querySelector(`[data-element-id="${o}"]`);if(u&&!pa.has(u)){re(`_getElementsByName - element not allowed: ${o}`);continue}r.push({id:o,exportValue:l,domElement:u})}return r}for(const i of document.getElementsByName(e)){const{exportValue:s}=i,o=i.getAttribute("data-element-id");o!==t&&pa.has(i)&&r.push({id:o,exportValue:s,domElement:i})}return r}show(){var e;this.container&&(this.container.hidden=!1),(e=this.popup)==null||e.maybeShow()}hide(){var e;this.container&&(this.container.hidden=!0),(e=this.popup)==null||e.forceHide()}getElementsToTriggerPopup(){return this.container}addHighlightArea(){const e=this.getElementsToTriggerPopup();if(Array.isArray(e))for(const t of e)t.classList.add("highlightArea");else e.classList.add("highlightArea")}get _isEditable(){return!1}_editOnDoubleClick(){if(!this._isEditable)return;const{annotationEditorType:e,data:{id:t}}=this;this.container.addEventListener("dblclick",()=>{var r;(r=this.linkService.eventBus)==null||r.dispatch("switchannotationeditormode",{source:this,mode:e,editId:t})})}};ko=new WeakMap,Tl=new WeakMap,kl=new WeakMap,_d=new WeakSet,jv=function(e){const{container:{style:t},data:{rect:r,rotation:i},parent:{viewport:{rawDims:{pageWidth:s,pageHeight:o,pageX:a,pageY:l}}}}=this;r==null||r.splice(0,4,...e);const{width:u,height:d}=Ti(e);t.left=`${100*(e[0]-a)/s}%`,t.top=`${100*(o-e[3]+l)/o}%`,i===0?(t.width=`${100*u/s}%`,t.height=`${100*d/o}%`):this.setRotation(i)};let Ge=G1;var xn,Gs,nC,rC;class tC extends Ge{constructor(t,r=null){super(t,{isRenderable:!0,ignoreBorder:!!(r!=null&&r.ignoreBorder),createQuadrilaterals:!0});_(this,xn);this.isTooltipOnly=t.data.isTooltipOnly}render(){const{data:t,linkService:r}=this,i=document.createElement("a");i.setAttribute("data-element-id",t.id);let s=!1;return t.url?(r.addLinkAttributes(i,t.url,t.newWindow),s=!0):t.action?(this._bindNamedAction(i,t.action),s=!0):t.attachment?(A(this,xn,nC).call(this,i,t.attachment,t.attachmentDest),s=!0):t.setOCGState?(A(this,xn,rC).call(this,i,t.setOCGState),s=!0):t.dest?(this._bindLink(i,t.dest),s=!0):(t.actions&&(t.actions.Action||t.actions["Mouse Up"]||t.actions["Mouse Down"])&&this.enableScripting&&this.hasJSActions&&(this._bindJSAction(i,t),s=!0),t.resetForm?(this._bindResetFormAction(i,t.resetForm),s=!0):this.isTooltipOnly&&!s&&(this._bindLink(i,""),s=!0)),this.container.classList.add("linkAnnotation"),s&&this.container.append(i),this.container}_bindLink(t,r){t.href=this.linkService.getDestinationHash(r),t.onclick=()=>(r&&this.linkService.goToDestination(r),!1),(r||r==="")&&A(this,xn,Gs).call(this)}_bindNamedAction(t,r){t.href=this.linkService.getAnchorUrl(""),t.onclick=()=>(this.linkService.executeNamedAction(r),!1),A(this,xn,Gs).call(this)}_bindJSAction(t,r){t.href=this.linkService.getAnchorUrl("");const i=new Map([["Action","onclick"],["Mouse Up","onmouseup"],["Mouse Down","onmousedown"]]);for(const s of Object.keys(r.actions)){const o=i.get(s);o&&(t[o]=()=>{var a;return(a=this.linkService.eventBus)==null||a.dispatch("dispatcheventinsandbox",{source:this,detail:{id:r.id,name:s}}),!1})}t.onclick||(t.onclick=()=>!1),A(this,xn,Gs).call(this)}_bindResetFormAction(t,r){const i=t.onclick;if(i||(t.href=this.linkService.getAnchorUrl("")),A(this,xn,Gs).call(this),!this._fieldObjects){re('_bindResetFormAction - "resetForm" action not supported, ensure that the `fieldObjects` parameter is provided.'),i||(t.onclick=()=>!1);return}t.onclick=()=>{var h;i==null||i();const{fields:s,refs:o,include:a}=r,l=[];if(s.length!==0||o.length!==0){const f=new Set(o);for(const p of s){const m=this._fieldObjects[p]||[];for(const{id:v}of m)f.add(v)}for(const p of Object.values(this._fieldObjects))for(const m of p)f.has(m.id)===a&&l.push(m)}else for(const f of Object.values(this._fieldObjects))l.push(...f);const u=this.annotationStorage,d=[];for(const f of l){const{id:p}=f;switch(d.push(p),f.type){case"text":{const v=f.defaultValue||"";u.setValue(p,{value:v});break}case"checkbox":case"radiobutton":{const v=f.defaultValue===f.exportValues;u.setValue(p,{value:v});break}case"combobox":case"listbox":{const v=f.defaultValue||"";u.setValue(p,{value:v});break}default:continue}const m=document.querySelector(`[data-element-id="${p}"]`);if(m){if(!pa.has(m)){re(`_bindResetFormAction - element not allowed: ${p}`);continue}}else continue;m.dispatchEvent(new Event("resetform"))}return this.enableScripting&&((h=this.linkService.eventBus)==null||h.dispatch("dispatcheventinsandbox",{source:this,detail:{id:"app",ids:d,name:"ResetForm"}})),!1}}}xn=new WeakSet,Gs=function(){this.container.setAttribute("data-internal-link","")},nC=function(t,r,i=null){t.href=this.linkService.getAnchorUrl(""),r.description&&(t.title=r.description),t.onclick=()=>{var s;return(s=this.downloadManager)==null||s.openOrDownloadData(r.content,r.filename,i),!1},A(this,xn,Gs).call(this)},rC=function(t,r){t.href=this.linkService.getAnchorUrl(""),t.onclick=()=>(this.linkService.executeSetOCGState(r),!1),A(this,xn,Gs).call(this)};class zF extends Ge{constructor(e){super(e,{isRenderable:!0})}render(){this.container.classList.add("textAnnotation");const e=document.createElement("img");return e.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",e.setAttribute("data-l10n-id","pdfjs-text-annotation-type"),e.setAttribute("data-l10n-args",JSON.stringify({type:this.data.name})),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.append(e),this.container}}class Ea extends Ge{render(){return this.container}showElementAndHideCanvas(e){var t;this.data.hasOwnCanvas&&(((t=e.previousSibling)==null?void 0:t.nodeName)==="CANVAS"&&(e.previousSibling.hidden=!0),e.hidden=!1)}_getKeyModifier(e){return Jt.platform.isMac?e.metaKey:e.ctrlKey}_setEventListener(e,t,r,i,s){r.includes("mouse")?e.addEventListener(r,o=>{var a;(a=this.linkService.eventBus)==null||a.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:i,value:s(o),shift:o.shiftKey,modifier:this._getKeyModifier(o)}})}):e.addEventListener(r,o=>{var a;if(r==="blur"){if(!t.focused||!o.relatedTarget)return;t.focused=!1}else if(r==="focus"){if(t.focused)return;t.focused=!0}s&&((a=this.linkService.eventBus)==null||a.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:i,value:s(o)}}))})}_setEventListeners(e,t,r,i){var s,o,a;for(const[l,u]of r)(u==="Action"||(s=this.data.actions)!=null&&s[u])&&((u==="Focus"||u==="Blur")&&(t||(t={focused:!1})),this._setEventListener(e,t,l,u,i),u==="Focus"&&!((o=this.data.actions)!=null&&o.Blur)?this._setEventListener(e,t,"blur","Blur",null):u==="Blur"&&!((a=this.data.actions)!=null&&a.Focus)&&this._setEventListener(e,t,"focus","Focus",null))}_setBackgroundColor(e){const t=this.data.backgroundColor||null;e.style.backgroundColor=t===null?"transparent":X.makeHexColor(t[0],t[1],t[2])}_setTextStyle(e){const t=["left","center","right"],{fontColor:r}=this.data.defaultAppearanceData,i=this.data.defaultAppearanceData.fontSize||HF,s=e.style;let o;const a=2,l=u=>Math.round(10*u)/10;if(this.data.multiLine){const u=Math.abs(this.data.rect[3]-this.data.rect[1]-a),d=Math.round(u/(Ig*i))||1,h=u/d;o=Math.min(i,l(h/Ig))}else{const u=Math.abs(this.data.rect[3]-this.data.rect[1]-a);o=Math.min(i,l(u/Ig))}s.fontSize=`calc(${o}px * var(--scale-factor))`,s.color=X.makeHexColor(r[0],r[1],r[2]),this.data.textAlignment!==null&&(s.textAlign=t[this.data.textAlignment])}_setRequired(e,t){t?e.setAttribute("required",!0):e.removeAttribute("required"),e.setAttribute("aria-required",t)}}class UF extends Ea{constructor(e){const t=e.renderForms||e.data.hasOwnCanvas||!e.data.hasAppearance&&!!e.data.fieldValue;super(e,{isRenderable:t})}setPropertyOnSiblings(e,t,r,i){const s=this.annotationStorage;for(const o of this._getElementsByName(e.name,e.id))o.domElement&&(o.domElement[t]=r),s.setValue(o.id,{[i]:r})}render(){var i,s;const e=this.annotationStorage,t=this.data.id;this.container.classList.add("textWidgetAnnotation");let r=null;if(this.renderForms){const o=e.getValue(t,{value:this.data.fieldValue});let a=o.value||"";const l=e.getValue(t,{charLimit:this.data.maxLen}).charLimit;l&&a.length>l&&(a=a.slice(0,l));let u=o.formattedValue||((i=this.data.textContent)==null?void 0:i.join(`
`))||null;u&&this.data.comb&&(u=u.replaceAll(/\s+/g,""));const d={userValue:a,formattedValue:u,lastCommittedValue:null,commitKey:1,focused:!1};this.data.multiLine?(r=document.createElement("textarea"),r.textContent=u??a,this.data.doNotScroll&&(r.style.overflowY="hidden")):(r=document.createElement("input"),r.type="text",r.setAttribute("value",u??a),this.data.doNotScroll&&(r.style.overflowX="hidden")),this.data.hasOwnCanvas&&(r.hidden=!0),pa.add(r),r.setAttribute("data-element-id",t),r.disabled=this.data.readOnly,r.name=this.data.fieldName,r.tabIndex=Rh,this._setRequired(r,this.data.required),l&&(r.maxLength=l),r.addEventListener("input",f=>{e.setValue(t,{value:f.target.value}),this.setPropertyOnSiblings(r,"value",f.target.value,"value"),d.formattedValue=null}),r.addEventListener("resetform",f=>{const p=this.data.defaultFieldValue??"";r.value=d.userValue=p,d.formattedValue=null});let h=f=>{const{formattedValue:p}=d;p!=null&&(f.target.value=p),f.target.scrollLeft=0};if(this.enableScripting&&this.hasJSActions){r.addEventListener("focus",p=>{var v;if(d.focused)return;const{target:m}=p;d.userValue&&(m.value=d.userValue),d.lastCommittedValue=m.value,d.commitKey=1,(v=this.data.actions)!=null&&v.Focus||(d.focused=!0)}),r.addEventListener("updatefromsandbox",p=>{this.showElementAndHideCanvas(p.target);const m={value(v){d.userValue=v.detail.value??"",e.setValue(t,{value:d.userValue.toString()}),v.target.value=d.userValue},formattedValue(v){const{formattedValue:b}=v.detail;d.formattedValue=b,b!=null&&v.target!==document.activeElement&&(v.target.value=b),e.setValue(t,{formattedValue:b})},selRange(v){v.target.setSelectionRange(...v.detail.selRange)},charLimit:v=>{var x;const{charLimit:b}=v.detail,{target:g}=v;if(b===0){g.removeAttribute("maxLength");return}g.setAttribute("maxLength",b);let y=d.userValue;!y||y.length<=b||(y=y.slice(0,b),g.value=d.userValue=y,e.setValue(t,{value:y}),(x=this.linkService.eventBus)==null||x.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:y,willCommit:!0,commitKey:1,selStart:g.selectionStart,selEnd:g.selectionEnd}}))}};this._dispatchEventFromSandbox(m,p)}),r.addEventListener("keydown",p=>{var b;d.commitKey=1;let m=-1;if(p.key==="Escape"?m=0:p.key==="Enter"&&!this.data.multiLine?m=2:p.key==="Tab"&&(d.commitKey=3),m===-1)return;const{value:v}=p.target;d.lastCommittedValue!==v&&(d.lastCommittedValue=v,d.userValue=v,(b=this.linkService.eventBus)==null||b.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:v,willCommit:!0,commitKey:m,selStart:p.target.selectionStart,selEnd:p.target.selectionEnd}}))});const f=h;h=null,r.addEventListener("blur",p=>{var v,b;if(!d.focused||!p.relatedTarget)return;(v=this.data.actions)!=null&&v.Blur||(d.focused=!1);const{value:m}=p.target;d.userValue=m,d.lastCommittedValue!==m&&((b=this.linkService.eventBus)==null||b.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:m,willCommit:!0,commitKey:d.commitKey,selStart:p.target.selectionStart,selEnd:p.target.selectionEnd}})),f(p)}),(s=this.data.actions)!=null&&s.Keystroke&&r.addEventListener("beforeinput",p=>{var T;d.lastCommittedValue=null;const{data:m,target:v}=p,{value:b,selectionStart:g,selectionEnd:y}=v;let x=g,C=y;switch(p.inputType){case"deleteWordBackward":{const k=b.substring(0,g).match(/\w*[^\w]*$/);k&&(x-=k[0].length);break}case"deleteWordForward":{const k=b.substring(g).match(/^[^\w]*\w*/);k&&(C+=k[0].length);break}case"deleteContentBackward":g===y&&(x-=1);break;case"deleteContentForward":g===y&&(C+=1);break}p.preventDefault(),(T=this.linkService.eventBus)==null||T.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:b,change:m||"",willCommit:!1,selStart:x,selEnd:C}})}),this._setEventListeners(r,d,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],p=>p.target.value)}if(h&&r.addEventListener("blur",h),this.data.comb){const p=(this.data.rect[2]-this.data.rect[0])/l;r.classList.add("comb"),r.style.letterSpacing=`calc(${p}px * var(--scale-factor) - 1ch)`}}else r=document.createElement("div"),r.textContent=this.data.fieldValue,r.style.verticalAlign="middle",r.style.display="table-cell",this.data.hasOwnCanvas&&(r.hidden=!0);return this._setTextStyle(r),this._setBackgroundColor(r),this._setDefaultPropertiesFromJS(r),this.container.append(r),this.container}}class VF extends Ea{constructor(e){super(e,{isRenderable:!!e.data.hasOwnCanvas})}}class WF extends Ea{constructor(e){super(e,{isRenderable:e.renderForms})}render(){const e=this.annotationStorage,t=this.data,r=t.id;let i=e.getValue(r,{value:t.exportValue===t.fieldValue}).value;typeof i=="string"&&(i=i!=="Off",e.setValue(r,{value:i})),this.container.classList.add("buttonWidgetAnnotation","checkBox");const s=document.createElement("input");return pa.add(s),s.setAttribute("data-element-id",r),s.disabled=t.readOnly,this._setRequired(s,this.data.required),s.type="checkbox",s.name=t.fieldName,i&&s.setAttribute("checked",!0),s.setAttribute("exportValue",t.exportValue),s.tabIndex=Rh,s.addEventListener("change",o=>{const{name:a,checked:l}=o.target;for(const u of this._getElementsByName(a,r)){const d=l&&u.exportValue===t.exportValue;u.domElement&&(u.domElement.checked=d),e.setValue(u.id,{value:d})}e.setValue(r,{value:l})}),s.addEventListener("resetform",o=>{const a=t.defaultFieldValue||"Off";o.target.checked=a===t.exportValue}),this.enableScripting&&this.hasJSActions&&(s.addEventListener("updatefromsandbox",o=>{const a={value(l){l.target.checked=l.detail.value!=="Off",e.setValue(r,{value:l.target.checked})}};this._dispatchEventFromSandbox(a,o)}),this._setEventListeners(s,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],o=>o.target.checked)),this._setBackgroundColor(s),this._setDefaultPropertiesFromJS(s),this.container.append(s),this.container}}class iC extends Ea{constructor(e){super(e,{isRenderable:e.renderForms})}render(){this.container.classList.add("buttonWidgetAnnotation","radioButton");const e=this.annotationStorage,t=this.data,r=t.id;let i=e.getValue(r,{value:t.fieldValue===t.buttonValue}).value;if(typeof i=="string"&&(i=i!==t.buttonValue,e.setValue(r,{value:i})),i)for(const o of this._getElementsByName(t.fieldName,r))e.setValue(o.id,{value:!1});const s=document.createElement("input");if(pa.add(s),s.setAttribute("data-element-id",r),s.disabled=t.readOnly,this._setRequired(s,this.data.required),s.type="radio",s.name=t.fieldName,i&&s.setAttribute("checked",!0),s.tabIndex=Rh,s.addEventListener("change",o=>{const{name:a,checked:l}=o.target;for(const u of this._getElementsByName(a,r))e.setValue(u.id,{value:!1});e.setValue(r,{value:l})}),s.addEventListener("resetform",o=>{const a=t.defaultFieldValue;o.target.checked=a!=null&&a===t.buttonValue}),this.enableScripting&&this.hasJSActions){const o=t.buttonValue;s.addEventListener("updatefromsandbox",a=>{const l={value:u=>{const d=o===u.detail.value;for(const h of this._getElementsByName(u.target.name)){const f=d&&h.id===r;h.domElement&&(h.domElement.checked=f),e.setValue(h.id,{value:f})}}};this._dispatchEventFromSandbox(l,a)}),this._setEventListeners(s,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],a=>a.target.checked)}return this._setBackgroundColor(s),this._setDefaultPropertiesFromJS(s),this.container.append(s),this.container}}class GF extends tC{constructor(e){super(e,{ignoreBorder:e.data.hasAppearance})}render(){const e=super.render();e.classList.add("buttonWidgetAnnotation","pushButton");const t=e.lastChild;return this.enableScripting&&this.hasJSActions&&t&&(this._setDefaultPropertiesFromJS(t),t.addEventListener("updatefromsandbox",r=>{this._dispatchEventFromSandbox({},r)})),e}}class qF extends Ea{constructor(e){super(e,{isRenderable:e.renderForms})}render(){this.container.classList.add("choiceWidgetAnnotation");const e=this.annotationStorage,t=this.data.id,r=e.getValue(t,{value:this.data.fieldValue}),i=document.createElement("select");pa.add(i),i.setAttribute("data-element-id",t),i.disabled=this.data.readOnly,this._setRequired(i,this.data.required),i.name=this.data.fieldName,i.tabIndex=Rh;let s=this.data.combo&&this.data.options.length>0;this.data.combo||(i.size=this.data.options.length,this.data.multiSelect&&(i.multiple=!0)),i.addEventListener("resetform",d=>{const h=this.data.defaultFieldValue;for(const f of i.options)f.selected=f.value===h});for(const d of this.data.options){const h=document.createElement("option");h.textContent=d.displayValue,h.value=d.exportValue,r.value.includes(d.exportValue)&&(h.setAttribute("selected",!0),s=!1),i.append(h)}let o=null;if(s){const d=document.createElement("option");d.value=" ",d.setAttribute("hidden",!0),d.setAttribute("selected",!0),i.prepend(d),o=()=>{d.remove(),i.removeEventListener("input",o),o=null},i.addEventListener("input",o)}const a=d=>{const h=d?"value":"textContent",{options:f,multiple:p}=i;return p?Array.prototype.filter.call(f,m=>m.selected).map(m=>m[h]):f.selectedIndex===-1?null:f[f.selectedIndex][h]};let l=a(!1);const u=d=>{const h=d.target.options;return Array.prototype.map.call(h,f=>({displayValue:f.textContent,exportValue:f.value}))};return this.enableScripting&&this.hasJSActions?(i.addEventListener("updatefromsandbox",d=>{const h={value(f){o==null||o();const p=f.detail.value,m=new Set(Array.isArray(p)?p:[p]);for(const v of i.options)v.selected=m.has(v.value);e.setValue(t,{value:a(!0)}),l=a(!1)},multipleSelection(f){i.multiple=!0},remove(f){const p=i.options,m=f.detail.remove;p[m].selected=!1,i.remove(m),p.length>0&&Array.prototype.findIndex.call(p,b=>b.selected)===-1&&(p[0].selected=!0),e.setValue(t,{value:a(!0),items:u(f)}),l=a(!1)},clear(f){for(;i.length!==0;)i.remove(0);e.setValue(t,{value:null,items:[]}),l=a(!1)},insert(f){const{index:p,displayValue:m,exportValue:v}=f.detail.insert,b=i.children[p],g=document.createElement("option");g.textContent=m,g.value=v,b?b.before(g):i.append(g),e.setValue(t,{value:a(!0),items:u(f)}),l=a(!1)},items(f){const{items:p}=f.detail;for(;i.length!==0;)i.remove(0);for(const m of p){const{displayValue:v,exportValue:b}=m,g=document.createElement("option");g.textContent=v,g.value=b,i.append(g)}i.options.length>0&&(i.options[0].selected=!0),e.setValue(t,{value:a(!0),items:u(f)}),l=a(!1)},indices(f){const p=new Set(f.detail.indices);for(const m of f.target.options)m.selected=p.has(m.index);e.setValue(t,{value:a(!0)}),l=a(!1)},editable(f){f.target.disabled=!f.detail.editable}};this._dispatchEventFromSandbox(h,d)}),i.addEventListener("input",d=>{var p;const h=a(!0),f=a(!1);e.setValue(t,{value:h}),d.preventDefault(),(p=this.linkService.eventBus)==null||p.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:l,change:f,changeEx:h,willCommit:!1,commitKey:1,keyDown:!1}})}),this._setEventListeners(i,null,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"],["input","Action"],["input","Validate"]],d=>d.target.value)):i.addEventListener("input",function(d){e.setValue(t,{value:a(!0)})}),this.data.combo&&this._setTextStyle(i),this._setBackgroundColor(i),this._setDefaultPropertiesFromJS(i),this.container.append(i),this.container}}class $v extends Ge{constructor(e){const{data:t,elements:r}=e;super(e,{isRenderable:Ge._hasPopupData(t)}),this.elements=r,this.popup=null}render(){this.container.classList.add("popupAnnotation");const e=this.popup=new XF({container:this.container,color:this.data.color,titleObj:this.data.titleObj,modificationDate:this.data.modificationDate,contentsObj:this.data.contentsObj,richText:this.data.richText,rect:this.data.rect,parentRect:this.data.parentRect||null,parent:this.parent,elements:this.elements,open:this.data.open}),t=[];for(const r of this.elements)r.popup=e,t.push(r.data.id),r.addHighlightArea();return this.container.setAttribute("aria-controls",t.map(r=>`${l_}${r}`).join(",")),this.container}}var Pl,Yp,Qp,Rl,Po,Be,hi,Ro,Cd,Td,Ll,fi,tr,pi,kd,mi,Pd,Lo,Mo,we,Mf,Hv,sC,oC,aC,lC,Nf,Df,Bv;class XF{constructor({container:e,color:t,elements:r,titleObj:i,modificationDate:s,contentsObj:o,richText:a,parent:l,rect:u,parentRect:d,open:h}){_(this,we);_(this,Pl,A(this,we,aC).bind(this));_(this,Yp,A(this,we,Bv).bind(this));_(this,Qp,A(this,we,Df).bind(this));_(this,Rl,A(this,we,Nf).bind(this));_(this,Po,null);_(this,Be,null);_(this,hi,null);_(this,Ro,null);_(this,Cd,null);_(this,Td,null);_(this,Ll,null);_(this,fi,!1);_(this,tr,null);_(this,pi,null);_(this,kd,null);_(this,mi,null);_(this,Pd,null);_(this,Lo,null);_(this,Mo,!1);var f;E(this,Be,e),E(this,Pd,i),E(this,hi,o),E(this,mi,a),E(this,Td,l),E(this,Po,t),E(this,kd,u),E(this,Ll,d),E(this,Cd,r),E(this,Ro,f_.toDateObject(s)),this.trigger=r.flatMap(p=>p.getElementsToTriggerPopup());for(const p of this.trigger)p.addEventListener("click",c(this,Rl)),p.addEventListener("mouseenter",c(this,Qp)),p.addEventListener("mouseleave",c(this,Yp)),p.classList.add("popupTriggerArea");for(const p of r)(f=p.container)==null||f.addEventListener("keydown",c(this,Pl));c(this,Be).hidden=!0,h&&A(this,we,Nf).call(this)}render(){if(c(this,tr))return;const e=E(this,tr,document.createElement("div"));if(e.className="popup",c(this,Po)){const s=e.style.outlineColor=X.makeHexColor(...c(this,Po));CSS.supports("background-color","color-mix(in srgb, red 30%, white)")?e.style.backgroundColor=`color-mix(in srgb, ${s} 30%, white)`:e.style.backgroundColor=X.makeHexColor(...c(this,Po).map(a=>Math.floor(.7*(255-a)+a)))}const t=document.createElement("span");t.className="header";const r=document.createElement("h1");if(t.append(r),{dir:r.dir,str:r.textContent}=c(this,Pd),e.append(t),c(this,Ro)){const s=document.createElement("span");s.classList.add("popupDate"),s.setAttribute("data-l10n-id","pdfjs-annotation-date-string"),s.setAttribute("data-l10n-args",JSON.stringify({date:c(this,Ro).toLocaleDateString(),time:c(this,Ro).toLocaleTimeString()})),t.append(s)}const i=c(this,we,Mf);if(i)eC.render({xfaHtml:i,intent:"richText",div:e}),e.lastChild.classList.add("richText","popupContent");else{const s=this._formatContents(c(this,hi));e.append(s)}c(this,Be).append(e)}_formatContents({str:e,dir:t}){const r=document.createElement("p");r.classList.add("popupContent"),r.dir=t;const i=e.split(/(?:\r\n?|\n)/);for(let s=0,o=i.length;s<o;++s){const a=i[s];r.append(document.createTextNode(a)),s<o-1&&r.append(document.createElement("br"))}return r}updateEdited({rect:e,popupContent:t}){var r;c(this,Lo)||E(this,Lo,{contentsObj:c(this,hi),richText:c(this,mi)}),e&&E(this,pi,null),t&&(E(this,mi,A(this,we,oC).call(this,t)),E(this,hi,null)),(r=c(this,tr))==null||r.remove(),E(this,tr,null)}resetEdited(){var e;c(this,Lo)&&({contentsObj:ln(this,hi)._,richText:ln(this,mi)._}=c(this,Lo),E(this,Lo,null),(e=c(this,tr))==null||e.remove(),E(this,tr,null),E(this,pi,null))}forceHide(){E(this,Mo,this.isVisible),c(this,Mo)&&(c(this,Be).hidden=!0)}maybeShow(){c(this,Mo)&&(c(this,tr)||A(this,we,Df).call(this),E(this,Mo,!1),c(this,Be).hidden=!1)}get isVisible(){return c(this,Be).hidden===!1}}Pl=new WeakMap,Yp=new WeakMap,Qp=new WeakMap,Rl=new WeakMap,Po=new WeakMap,Be=new WeakMap,hi=new WeakMap,Ro=new WeakMap,Cd=new WeakMap,Td=new WeakMap,Ll=new WeakMap,fi=new WeakMap,tr=new WeakMap,pi=new WeakMap,kd=new WeakMap,mi=new WeakMap,Pd=new WeakMap,Lo=new WeakMap,Mo=new WeakMap,we=new WeakSet,Mf=function(){const e=c(this,mi),t=c(this,hi);return e!=null&&e.str&&(!(t!=null&&t.str)||t.str===e.str)&&c(this,mi).html||null},Hv=function(){var e,t,r;return((r=(t=(e=c(this,we,Mf))==null?void 0:e.attributes)==null?void 0:t.style)==null?void 0:r.fontSize)||0},sC=function(){var e,t,r;return((r=(t=(e=c(this,we,Mf))==null?void 0:e.attributes)==null?void 0:t.style)==null?void 0:r.color)||null},oC=function(e){const t=[],r={str:e,html:{name:"div",attributes:{dir:"auto"},children:[{name:"p",children:t}]}},i={style:{color:c(this,we,sC),fontSize:c(this,we,Hv)?`calc(${c(this,we,Hv)}px * var(--scale-factor))`:""}};for(const s of e.split(`
`))t.push({name:"span",value:s,attributes:i});return r},aC=function(e){e.altKey||e.shiftKey||e.ctrlKey||e.metaKey||(e.key==="Enter"||e.key==="Escape"&&c(this,fi))&&A(this,we,Nf).call(this)},lC=function(){if(c(this,pi)!==null)return;const{page:{view:e},viewport:{rawDims:{pageWidth:t,pageHeight:r,pageX:i,pageY:s}}}=c(this,Td);let o=!!c(this,Ll),a=o?c(this,Ll):c(this,kd);for(const m of c(this,Cd))if(!a||X.intersect(m.data.rect,a)!==null){a=m.data.rect,o=!0;break}const l=X.normalizeRect([a[0],e[3]-a[1]+e[1],a[2],e[3]-a[3]+e[1]]),d=o?a[2]-a[0]+5:0,h=l[0]+d,f=l[1];E(this,pi,[100*(h-i)/t,100*(f-s)/r]);const{style:p}=c(this,Be);p.left=`${c(this,pi)[0]}%`,p.top=`${c(this,pi)[1]}%`},Nf=function(){E(this,fi,!c(this,fi)),c(this,fi)?(A(this,we,Df).call(this),c(this,Be).addEventListener("click",c(this,Rl)),c(this,Be).addEventListener("keydown",c(this,Pl))):(A(this,we,Bv).call(this),c(this,Be).removeEventListener("click",c(this,Rl)),c(this,Be).removeEventListener("keydown",c(this,Pl)))},Df=function(){c(this,tr)||this.render(),this.isVisible?c(this,fi)&&c(this,Be).classList.add("focused"):(A(this,we,lC).call(this),c(this,Be).hidden=!1,c(this,Be).style.zIndex=parseInt(c(this,Be).style.zIndex)+1e3)},Bv=function(){c(this,Be).classList.remove("focused"),!(c(this,fi)||!this.isVisible)&&(c(this,Be).hidden=!0,c(this,Be).style.zIndex=parseInt(c(this,Be).style.zIndex)-1e3)};class cC extends Ge{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),this.textContent=e.data.textContent,this.textPosition=e.data.textPosition,this.annotationEditorType=ce.FREETEXT}render(){if(this.container.classList.add("freeTextAnnotation"),this.textContent){const e=document.createElement("div");e.classList.add("annotationTextContent"),e.setAttribute("role","comment");for(const t of this.textContent){const r=document.createElement("span");r.textContent=t,e.append(r)}this.container.append(e)}return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}get _isEditable(){return this.data.hasOwnCanvas}}var Rd;class KF extends Ge{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0});_(this,Rd,null)}render(){this.container.classList.add("lineAnnotation");const t=this.data,{width:r,height:i}=Ti(t.rect),s=this.svgFactory.create(r,i,!0),o=E(this,Rd,this.svgFactory.createElement("svg:line"));return o.setAttribute("x1",t.rect[2]-t.lineCoordinates[0]),o.setAttribute("y1",t.rect[3]-t.lineCoordinates[1]),o.setAttribute("x2",t.rect[2]-t.lineCoordinates[2]),o.setAttribute("y2",t.rect[3]-t.lineCoordinates[3]),o.setAttribute("stroke-width",t.borderStyle.width||1),o.setAttribute("stroke","transparent"),o.setAttribute("fill","transparent"),s.append(o),this.container.append(s),!t.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return c(this,Rd)}addHighlightArea(){this.container.classList.add("highlightArea")}}Rd=new WeakMap;var Ld;class YF extends Ge{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0});_(this,Ld,null)}render(){this.container.classList.add("squareAnnotation");const t=this.data,{width:r,height:i}=Ti(t.rect),s=this.svgFactory.create(r,i,!0),o=t.borderStyle.width,a=E(this,Ld,this.svgFactory.createElement("svg:rect"));return a.setAttribute("x",o/2),a.setAttribute("y",o/2),a.setAttribute("width",r-o),a.setAttribute("height",i-o),a.setAttribute("stroke-width",o||1),a.setAttribute("stroke","transparent"),a.setAttribute("fill","transparent"),s.append(a),this.container.append(s),!t.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return c(this,Ld)}addHighlightArea(){this.container.classList.add("highlightArea")}}Ld=new WeakMap;var Md;class QF extends Ge{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0});_(this,Md,null)}render(){this.container.classList.add("circleAnnotation");const t=this.data,{width:r,height:i}=Ti(t.rect),s=this.svgFactory.create(r,i,!0),o=t.borderStyle.width,a=E(this,Md,this.svgFactory.createElement("svg:ellipse"));return a.setAttribute("cx",r/2),a.setAttribute("cy",i/2),a.setAttribute("rx",r/2-o/2),a.setAttribute("ry",i/2-o/2),a.setAttribute("stroke-width",o||1),a.setAttribute("stroke","transparent"),a.setAttribute("fill","transparent"),s.append(a),this.container.append(s),!t.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return c(this,Md)}addHighlightArea(){this.container.classList.add("highlightArea")}}Md=new WeakMap;var Nd;class uC extends Ge{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0});_(this,Nd,null);this.containerClassName="polylineAnnotation",this.svgElementName="svg:polyline"}render(){this.container.classList.add(this.containerClassName);const t=this.data,{width:r,height:i}=Ti(t.rect),s=this.svgFactory.create(r,i,!0);let o=[];for(const l of t.vertices){const u=l.x-t.rect[0],d=t.rect[3]-l.y;o.push(u+","+d)}o=o.join(" ");const a=E(this,Nd,this.svgFactory.createElement(this.svgElementName));return a.setAttribute("points",o),a.setAttribute("stroke-width",t.borderStyle.width||1),a.setAttribute("stroke","transparent"),a.setAttribute("fill","transparent"),s.append(a),this.container.append(s),!t.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return c(this,Nd)}addHighlightArea(){this.container.classList.add("highlightArea")}}Nd=new WeakMap;class ZF extends uC{constructor(e){super(e),this.containerClassName="polygonAnnotation",this.svgElementName="svg:polygon"}}class JF extends Ge{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("caretAnnotation"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container}}var Dd;class dC extends Ge{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0});_(this,Dd,[]);this.containerClassName="inkAnnotation",this.svgElementName="svg:polyline",this.annotationEditorType=ce.INK}render(){this.container.classList.add(this.containerClassName);const t=this.data,{width:r,height:i}=Ti(t.rect),s=this.svgFactory.create(r,i,!0);for(const o of t.inkLists){let a=[];for(const u of o){const d=u.x-t.rect[0],h=t.rect[3]-u.y;a.push(`${d},${h}`)}a=a.join(" ");const l=this.svgFactory.createElement(this.svgElementName);c(this,Dd).push(l),l.setAttribute("points",a),l.setAttribute("stroke-width",t.borderStyle.width||1),l.setAttribute("stroke","transparent"),l.setAttribute("fill","transparent"),!t.popupRef&&this.hasPopupData&&this._createPopup(),s.append(l)}return this.container.append(s),this.container}getElementsToTriggerPopup(){return c(this,Dd)}addHighlightArea(){this.container.classList.add("highlightArea")}}Dd=new WeakMap;class e3 extends Ge{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("highlightAnnotation"),this.container}}class t3 extends Ge{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("underlineAnnotation"),this.container}}class n3 extends Ge{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("squigglyAnnotation"),this.container}}class r3 extends Ge{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("strikeoutAnnotation"),this.container}}class hC extends Ge{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("stampAnnotation"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container}}var Fd,Id,zv;class i3 extends Ge{constructor(t){var i;super(t,{isRenderable:!0});_(this,Id);_(this,Fd,null);const{file:r}=this.data;this.filename=r.filename,this.content=r.content,(i=this.linkService.eventBus)==null||i.dispatch("fileattachmentannotation",{source:this,...r})}render(){this.container.classList.add("fileAttachmentAnnotation");const{container:t,data:r}=this;let i;r.hasAppearance||r.fillAlpha===0?i=document.createElement("div"):(i=document.createElement("img"),i.src=`${this.imageResourcesPath}annotation-${/paperclip/i.test(r.name)?"paperclip":"pushpin"}.svg`,r.fillAlpha&&r.fillAlpha<1&&(i.style=`filter: opacity(${Math.round(r.fillAlpha*100)}%);`)),i.addEventListener("dblclick",A(this,Id,zv).bind(this)),E(this,Fd,i);const{isMac:s}=Jt.platform;return t.addEventListener("keydown",o=>{o.key==="Enter"&&(s?o.metaKey:o.ctrlKey)&&A(this,Id,zv).call(this)}),!r.popupRef&&this.hasPopupData?this._createPopup():i.classList.add("popupTriggerArea"),t.append(i),t}getElementsToTriggerPopup(){return c(this,Fd)}addHighlightArea(){this.container.classList.add("highlightArea")}}Fd=new WeakMap,Id=new WeakSet,zv=function(){var t;(t=this.downloadManager)==null||t.openOrDownloadData(this.content,this.filename)};var Od,No,Ml,ga,fC,Uv,Ab;let s3=(Ab=class{constructor({div:e,accessibilityManager:t,annotationCanvasMap:r,annotationEditorUIManager:i,page:s,viewport:o}){_(this,ga);_(this,Od,null);_(this,No,null);_(this,Ml,new Map);this.div=e,E(this,Od,t),E(this,No,r),this.page=s,this.viewport=o,this.zIndex=0,this._annotationEditorUIManager=i}async render(e){var o;const{annotations:t}=e,r=this.div;ha(r,this.viewport);const i=new Map,s={data:null,layer:r,linkService:e.linkService,downloadManager:e.downloadManager,imageResourcesPath:e.imageResourcesPath||"",renderForms:e.renderForms!==!1,svgFactory:new I1,annotationStorage:e.annotationStorage||new B1,enableScripting:e.enableScripting===!0,hasJSActions:e.hasJSActions,fieldObjects:e.fieldObjects,parent:this,elements:null};for(const a of t){if(a.noHTML)continue;const l=a.annotationType===Ye.POPUP;if(l){const h=i.get(a.id);if(!h)continue;s.elements=h}else{const{width:h,height:f}=Ti(a.rect);if(h<=0||f<=0)continue}s.data=a;const u=BF.create(s);if(!u.isRenderable)continue;if(!l&&a.popupRef){const h=i.get(a.popupRef);h?h.push(u):i.set(a.popupRef,[u])}const d=u.render();a.hidden&&(d.style.visibility="hidden"),A(this,ga,fC).call(this,d,a.id),u.annotationEditorType>0&&(c(this,Ml).set(u.data.id,u),(o=this._annotationEditorUIManager)==null||o.renderAnnotationElement(u))}A(this,ga,Uv).call(this)}update({viewport:e}){const t=this.div;this.viewport=e,ha(t,{rotation:e.rotation}),A(this,ga,Uv).call(this),t.hidden=!1}getEditableAnnotations(){return Array.from(c(this,Ml).values())}getEditableAnnotation(e){return c(this,Ml).get(e)}},Od=new WeakMap,No=new WeakMap,Ml=new WeakMap,ga=new WeakSet,fC=function(e,t){var i;const r=e.firstChild||e;r.id=`${l_}${t}`,this.div.append(e),(i=c(this,Od))==null||i.moveElementInDOM(this.div,e,r,!1)},Uv=function(){if(!c(this,No))return;const e=this.div;for(const[t,r]of c(this,No)){const i=e.querySelector(`[data-annotation-id="${t}"]`);if(!i)continue;r.className="annotationContent";const{firstChild:s}=i;s?s.nodeName==="CANVAS"?s.replaceWith(r):s.classList.contains("annotationContent")?s.after(r):s.before(r):i.append(r)}c(this,No).clear()},Ab);const sf=/\r\n?|\n/g;var jd,$d,Hd,Bd,zd,nr,hn,Ud,fn,Nl,Ke,pC,mC,gC,Ff,Pi,If,Of,vC,Wv,yC;const _e=class _e extends ge{constructor(t){super({...t,name:"freeTextEditor"});_(this,Ke);_(this,jd,this.editorDivBlur.bind(this));_(this,$d,this.editorDivFocus.bind(this));_(this,Hd,this.editorDivInput.bind(this));_(this,Bd,this.editorDivKeydown.bind(this));_(this,zd,this.editorDivPaste.bind(this));_(this,nr);_(this,hn,"");_(this,Ud,`${this.id}-editor`);_(this,fn);_(this,Nl,null);E(this,nr,t.color||_e._defaultColor||ge._defaultLineColor),E(this,fn,t.fontSize||_e._defaultFontSize)}static get _keyboardManager(){const t=_e.prototype,r=o=>o.isEmpty(),i=fa.TRANSLATE_SMALL,s=fa.TRANSLATE_BIG;return ue(this,"_keyboardManager",new kh([[["ctrl+s","mac+meta+s","ctrl+p","mac+meta+p"],t.commitOrRemove,{bubbles:!0}],[["ctrl+Enter","mac+meta+Enter","Escape","mac+Escape"],t.commitOrRemove],[["ArrowLeft","mac+ArrowLeft"],t._translateEmpty,{args:[-i,0],checker:r}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],t._translateEmpty,{args:[-s,0],checker:r}],[["ArrowRight","mac+ArrowRight"],t._translateEmpty,{args:[i,0],checker:r}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],t._translateEmpty,{args:[s,0],checker:r}],[["ArrowUp","mac+ArrowUp"],t._translateEmpty,{args:[0,-i],checker:r}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],t._translateEmpty,{args:[0,-s],checker:r}],[["ArrowDown","mac+ArrowDown"],t._translateEmpty,{args:[0,i],checker:r}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],t._translateEmpty,{args:[0,s],checker:r}]]))}static initialize(t,r){ge.initialize(t,r,{strings:["pdfjs-free-text-default-content"]});const i=getComputedStyle(document.documentElement);this._internalPadding=parseFloat(i.getPropertyValue("--freetext-padding"))}static updateDefaultParams(t,r){switch(t){case Z.FREETEXT_SIZE:_e._defaultFontSize=r;break;case Z.FREETEXT_COLOR:_e._defaultColor=r;break}}updateParams(t,r){switch(t){case Z.FREETEXT_SIZE:A(this,Ke,pC).call(this,r);break;case Z.FREETEXT_COLOR:A(this,Ke,mC).call(this,r);break}}static get defaultPropertiesToUpdate(){return[[Z.FREETEXT_SIZE,_e._defaultFontSize],[Z.FREETEXT_COLOR,_e._defaultColor||ge._defaultLineColor]]}get propertiesToUpdate(){return[[Z.FREETEXT_SIZE,c(this,fn)],[Z.FREETEXT_COLOR,c(this,nr)]]}_translateEmpty(t,r){this._uiManager.translateSelectedEditors(t,r,!0)}getInitialTranslation(){const t=this.parentScale;return[-_e._internalPadding*t,-(_e._internalPadding+c(this,fn))*t]}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.isAttachedToDOM||this.parent.add(this)))}enableEditMode(){this.isInEditMode()||(this.parent.setEditingState(!1),this.parent.updateToolbar(ce.FREETEXT),super.enableEditMode(),this.overlayDiv.classList.remove("enabled"),this.editorDiv.contentEditable=!0,this._isDraggable=!1,this.div.removeAttribute("aria-activedescendant"),this.editorDiv.addEventListener("keydown",c(this,Bd)),this.editorDiv.addEventListener("focus",c(this,$d)),this.editorDiv.addEventListener("blur",c(this,jd)),this.editorDiv.addEventListener("input",c(this,Hd)),this.editorDiv.addEventListener("paste",c(this,zd)))}disableEditMode(){this.isInEditMode()&&(this.parent.setEditingState(!0),super.disableEditMode(),this.overlayDiv.classList.add("enabled"),this.editorDiv.contentEditable=!1,this.div.setAttribute("aria-activedescendant",c(this,Ud)),this._isDraggable=!0,this.editorDiv.removeEventListener("keydown",c(this,Bd)),this.editorDiv.removeEventListener("focus",c(this,$d)),this.editorDiv.removeEventListener("blur",c(this,jd)),this.editorDiv.removeEventListener("input",c(this,Hd)),this.editorDiv.removeEventListener("paste",c(this,zd)),this.div.focus({preventScroll:!0}),this.isEditing=!1,this.parent.div.classList.add("freetextEditing"))}focusin(t){this._focusEventsAllowed&&(super.focusin(t),t.target!==this.editorDiv&&this.editorDiv.focus())}onceAdded(){var t;this.width||(this.enableEditMode(),this.editorDiv.focus(),(t=this._initialOptions)!=null&&t.isCentered&&this.center(),this._initialOptions=null)}isEmpty(){return!this.editorDiv||this.editorDiv.innerText.trim()===""}remove(){this.isEditing=!1,this.parent&&(this.parent.setEditingState(!0),this.parent.div.classList.add("freetextEditing")),super.remove()}commit(){if(!this.isInEditMode())return;super.commit(),this.disableEditMode();const t=c(this,hn),r=E(this,hn,A(this,Ke,gC).call(this).trimEnd());if(t===r)return;const i=s=>{if(E(this,hn,s),!s){this.remove();return}A(this,Ke,Of).call(this),this._uiManager.rebuild(this),A(this,Ke,Ff).call(this)};this.addCommands({cmd:()=>{i(r)},undo:()=>{i(t)},mustExec:!1}),A(this,Ke,Ff).call(this)}shouldGetKeyboardEvents(){return this.isInEditMode()}enterInEditMode(){this.enableEditMode(),this.editorDiv.focus()}dblclick(t){this.enterInEditMode()}keydown(t){t.target===this.div&&t.key==="Enter"&&(this.enterInEditMode(),t.preventDefault())}editorDivKeydown(t){_e._keyboardManager.exec(this,t)}editorDivFocus(t){this.isEditing=!0}editorDivBlur(t){this.isEditing=!1}editorDivInput(t){this.parent.div.classList.toggle("freetextEditing",this.isEmpty())}disableEditing(){this.editorDiv.setAttribute("role","comment"),this.editorDiv.removeAttribute("aria-multiline")}enableEditing(){this.editorDiv.setAttribute("role","textbox"),this.editorDiv.setAttribute("aria-multiline",!0)}render(){if(this.div)return this.div;let t,r;this.width&&(t=this.x,r=this.y),super.render(),this.editorDiv=document.createElement("div"),this.editorDiv.className="internal",this.editorDiv.setAttribute("id",c(this,Ud)),this.editorDiv.setAttribute("data-l10n-id","pdfjs-free-text"),this.enableEditing(),ge._l10nPromise.get("pdfjs-free-text-default-content").then(s=>{var o;return(o=this.editorDiv)==null?void 0:o.setAttribute("default-content",s)}),this.editorDiv.contentEditable=!0;const{style:i}=this.editorDiv;if(i.fontSize=`calc(${c(this,fn)}px * var(--scale-factor))`,i.color=c(this,nr),this.div.append(this.editorDiv),this.overlayDiv=document.createElement("div"),this.overlayDiv.classList.add("overlay","enabled"),this.div.append(this.overlayDiv),Pp(this,this.div,["dblclick","keydown"]),this.width){const[s,o]=this.parentDimensions;if(this.annotationElementId){const{position:a}=c(this,Nl);let[l,u]=this.getInitialTranslation();[l,u]=this.pageTranslationToScreen(l,u);const[d,h]=this.pageDimensions,[f,p]=this.pageTranslation;let m,v;switch(this.rotation){case 0:m=t+(a[0]-f)/d,v=r+this.height-(a[1]-p)/h;break;case 90:m=t+(a[0]-f)/d,v=r-(a[1]-p)/h,[l,u]=[u,-l];break;case 180:m=t-this.width+(a[0]-f)/d,v=r-(a[1]-p)/h,[l,u]=[-l,-u];break;case 270:m=t+(a[0]-f-this.height*h)/d,v=r+(a[1]-p-this.width*d)/h,[l,u]=[-u,l];break}this.setAt(m*s,v*o,l,u)}else this.setAt(t*s,r*o,this.width*s,this.height*o);A(this,Ke,Of).call(this),this._isDraggable=!0,this.editorDiv.contentEditable=!1}else this._isDraggable=!1,this.editorDiv.contentEditable=!0;return this.div}editorDivPaste(t){var m,v,b;const r=t.clipboardData||window.clipboardData,{types:i}=r;if(i.length===1&&i[0]==="text/plain")return;t.preventDefault();const s=A(m=_e,Pi,Wv).call(m,r.getData("text")||"").replaceAll(sf,`
`);if(!s)return;const o=window.getSelection();if(!o.rangeCount)return;this.editorDiv.normalize(),o.deleteFromDocument();const a=o.getRangeAt(0);if(!s.includes(`
`)){a.insertNode(document.createTextNode(s)),this.editorDiv.normalize(),o.collapseToStart();return}const{startContainer:l,startOffset:u}=a,d=[],h=[];if(l.nodeType===Node.TEXT_NODE){const g=l.parentElement;if(h.push(l.nodeValue.slice(u).replaceAll(sf,"")),g!==this.editorDiv){let y=d;for(const x of this.editorDiv.childNodes){if(x===g){y=h;continue}y.push(A(v=_e,Pi,If).call(v,x))}}d.push(l.nodeValue.slice(0,u).replaceAll(sf,""))}else if(l===this.editorDiv){let g=d,y=0;for(const x of this.editorDiv.childNodes)y++===u&&(g=h),g.push(A(b=_e,Pi,If).call(b,x))}E(this,hn,`${d.join(`
`)}${s}${h.join(`
`)}`),A(this,Ke,Of).call(this);const f=new Range;let p=d.reduce((g,y)=>g+y.length,0);for(const{firstChild:g}of this.editorDiv.childNodes)if(g.nodeType===Node.TEXT_NODE){const y=g.nodeValue.length;if(p<=y){f.setStart(g,p),f.setEnd(g,p);break}p-=y}o.removeAllRanges(),o.addRange(f)}get contentDiv(){return this.editorDiv}static deserialize(t,r,i){var a;let s=null;if(t instanceof cC){const{data:{defaultAppearanceData:{fontSize:l,fontColor:u},rect:d,rotation:h,id:f},textContent:p,textPosition:m,parent:{page:{pageNumber:v}}}=t;if(!p||p.length===0)return null;s=t={annotationType:ce.FREETEXT,color:Array.from(u),fontSize:l,value:p.join(`
`),position:m,pageIndex:v-1,rect:d.slice(0),rotation:h,id:f,deleted:!1}}const o=super.deserialize(t,r,i);return E(o,fn,t.fontSize),E(o,nr,X.makeHexColor(...t.color)),E(o,hn,A(a=_e,Pi,Wv).call(a,t.value)),o.annotationElementId=t.id||null,E(o,Nl,s),o}serialize(t=!1){if(this.isEmpty())return null;if(this.deleted)return{pageIndex:this.pageIndex,id:this.annotationElementId,deleted:!0};const r=_e._internalPadding*this.parentScale,i=this.getRect(r,r),s=ge._colorManager.convert(this.isAttachedToDOM?getComputedStyle(this.editorDiv).color:c(this,nr)),o={annotationType:ce.FREETEXT,color:s,fontSize:c(this,fn),value:A(this,Ke,vC).call(this),pageIndex:this.pageIndex,rect:i,rotation:this.rotation,structTreeParentId:this._structTreeParentId};return t?o:this.annotationElementId&&!A(this,Ke,yC).call(this,o)?null:(o.id=this.annotationElementId,o)}renderAnnotationElement(t){const r=super.renderAnnotationElement(t);if(this.deleted)return r;const{style:i}=r;i.fontSize=`calc(${c(this,fn)}px * var(--scale-factor))`,i.color=c(this,nr),r.replaceChildren();for(const o of c(this,hn).split(`
`)){const a=document.createElement("div");a.append(o?document.createTextNode(o):document.createElement("br")),r.append(a)}const s=_e._internalPadding*this.parentScale;return t.updateEdited({rect:this.getRect(s,s),popupContent:c(this,hn)}),r}resetAnnotationElement(t){super.resetAnnotationElement(t),t.resetEdited()}};jd=new WeakMap,$d=new WeakMap,Hd=new WeakMap,Bd=new WeakMap,zd=new WeakMap,nr=new WeakMap,hn=new WeakMap,Ud=new WeakMap,fn=new WeakMap,Nl=new WeakMap,Ke=new WeakSet,pC=function(t){const r=s=>{this.editorDiv.style.fontSize=`calc(${s}px * var(--scale-factor))`,this.translate(0,-(s-c(this,fn))*this.parentScale),E(this,fn,s),A(this,Ke,Ff).call(this)},i=c(this,fn);this.addCommands({cmd:r.bind(this,t),undo:r.bind(this,i),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Z.FREETEXT_SIZE,overwriteIfSameType:!0,keepUndo:!0})},mC=function(t){const r=s=>{E(this,nr,this.editorDiv.style.color=s)},i=c(this,nr);this.addCommands({cmd:r.bind(this,t),undo:r.bind(this,i),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Z.FREETEXT_COLOR,overwriteIfSameType:!0,keepUndo:!0})},gC=function(){var r;const t=[];this.editorDiv.normalize();for(const i of this.editorDiv.childNodes)t.push(A(r=_e,Pi,If).call(r,i));return t.join(`
`)},Ff=function(){const[t,r]=this.parentDimensions;let i;if(this.isAttachedToDOM)i=this.div.getBoundingClientRect();else{const{currentLayer:s,div:o}=this,a=o.style.display,l=o.classList.contains("hidden");o.classList.remove("hidden"),o.style.display="hidden",s.div.append(this.div),i=o.getBoundingClientRect(),o.remove(),o.style.display=a,o.classList.toggle("hidden",l)}this.rotation%180===this.parentRotation%180?(this.width=i.width/t,this.height=i.height/r):(this.width=i.height/t,this.height=i.width/r),this.fixAndSetPosition()},Pi=new WeakSet,If=function(t){return(t.nodeType===Node.TEXT_NODE?t.nodeValue:t.innerText).replaceAll(sf,"")},Of=function(){if(this.editorDiv.replaceChildren(),!!c(this,hn))for(const t of c(this,hn).split(`
`)){const r=document.createElement("div");r.append(t?document.createTextNode(t):document.createElement("br")),this.editorDiv.append(r)}},vC=function(){return c(this,hn).replaceAll(""," ")},Wv=function(t){return t.replaceAll(" ","")},yC=function(t){const{value:r,fontSize:i,color:s,pageIndex:o}=c(this,Nl);return this._hasBeenMoved||t.value!==r||t.fontSize!==i||t.color.some((a,l)=>a!==s[l])||t.pageIndex!==o},_(_e,Pi),ee(_e,"_freeTextDefaultContent",""),ee(_e,"_internalPadding",0),ee(_e,"_defaultColor",null),ee(_e,"_defaultFontSize",10),ee(_e,"_type","freetext"),ee(_e,"_editorType",ce.FREETEXT);let Vv=_e;var Vd,as,rr,zt,xC,jf,wC,bC,qv;class Gv{constructor(e,t=0,r=0,i=!0){_(this,zt);_(this,Vd);_(this,as,[]);_(this,rr,[]);let s=1/0,o=-1/0,a=1/0,l=-1/0;const d=10**-4;for(const{x:g,y,width:x,height:C}of e){const T=Math.floor((g-t)/d)*d,k=Math.ceil((g+x+t)/d)*d,P=Math.floor((y-t)/d)*d,R=Math.ceil((y+C+t)/d)*d,F=[T,P,R,!0],D=[k,P,R,!1];c(this,as).push(F,D),s=Math.min(s,T),o=Math.max(o,k),a=Math.min(a,P),l=Math.max(l,R)}const h=o-s+2*r,f=l-a+2*r,p=s-r,m=a-r,v=c(this,as).at(i?-1:-2),b=[v[0],v[2]];for(const g of c(this,as)){const[y,x,C]=g;g[0]=(y-p)/h,g[1]=(x-m)/f,g[2]=(C-m)/f}E(this,Vd,{x:p,y:m,width:h,height:f,lastPoint:b})}getOutlines(){c(this,as).sort((t,r)=>t[0]-r[0]||t[1]-r[1]||t[2]-r[2]);const e=[];for(const t of c(this,as))t[3]?(e.push(...A(this,zt,qv).call(this,t)),A(this,zt,wC).call(this,t)):(A(this,zt,bC).call(this,t),e.push(...A(this,zt,qv).call(this,t)));return A(this,zt,xC).call(this,e)}}Vd=new WeakMap,as=new WeakMap,rr=new WeakMap,zt=new WeakSet,xC=function(e){const t=[],r=new Set;for(const o of e){const[a,l,u]=o;t.push([a,l,o],[a,u,o])}t.sort((o,a)=>o[1]-a[1]||o[0]-a[0]);for(let o=0,a=t.length;o<a;o+=2){const l=t[o][2],u=t[o+1][2];l.push(u),u.push(l),r.add(l),r.add(u)}const i=[];let s;for(;r.size>0;){const o=r.values().next().value;let[a,l,u,d,h]=o;r.delete(o);let f=a,p=l;for(s=[a,u],i.push(s);;){let m;if(r.has(d))m=d;else if(r.has(h))m=h;else break;r.delete(m),[a,l,u,d,h]=m,f!==a&&(s.push(f,p,a,p===l?l:u),f=a),p=p===l?u:l}s.push(f,p)}return new o3(i,c(this,Vd))},jf=function(e){const t=c(this,rr);let r=0,i=t.length-1;for(;r<=i;){const s=r+i>>1,o=t[s][0];if(o===e)return s;o<e?r=s+1:i=s-1}return i+1},wC=function([,e,t]){const r=A(this,zt,jf).call(this,e);c(this,rr).splice(r,0,[e,t])},bC=function([,e,t]){const r=A(this,zt,jf).call(this,e);for(let i=r;i<c(this,rr).length;i++){const[s,o]=c(this,rr)[i];if(s!==e)break;if(s===e&&o===t){c(this,rr).splice(i,1);return}}for(let i=r-1;i>=0;i--){const[s,o]=c(this,rr)[i];if(s!==e)break;if(s===e&&o===t){c(this,rr).splice(i,1);return}}},qv=function(e){const[t,r,i]=e,s=[[t,r,i]],o=A(this,zt,jf).call(this,i);for(let a=0;a<o;a++){const[l,u]=c(this,rr)[a];for(let d=0,h=s.length;d<h;d++){const[,f,p]=s[d];if(!(u<=f||p<=l)){if(f>=l){if(p>u)s[d][1]=u;else{if(h===1)return[];s.splice(d,1),d--,h--}continue}s[d][2]=l,p>u&&s.push([t,u,p])}}}return s};class EC{toSVGPath(){throw new Error("Abstract method `toSVGPath` must be implemented.")}get box(){throw new Error("Abstract getter `box` must be implemented.")}serialize(e,t){throw new Error("Abstract method `serialize` must be implemented.")}get free(){return this instanceof Kv}}var Wd,Dl;class o3 extends EC{constructor(t,r){super();_(this,Wd);_(this,Dl);E(this,Dl,t),E(this,Wd,r)}toSVGPath(){const t=[];for(const r of c(this,Dl)){let[i,s]=r;t.push(`M${i} ${s}`);for(let o=2;o<r.length;o+=2){const a=r[o],l=r[o+1];a===i?(t.push(`V${l}`),s=l):l===s&&(t.push(`H${a}`),i=a)}t.push("Z")}return t.join(" ")}serialize([t,r,i,s],o){const a=[],l=i-t,u=s-r;for(const d of c(this,Dl)){const h=new Array(d.length);for(let f=0;f<d.length;f+=2)h[f]=t+d[f]*l,h[f+1]=s-d[f+1]*u;a.push(h)}return a}get box(){return c(this,Wd)}}Wd=new WeakMap,Dl=new WeakMap;var kr,gi,Fl,Il,Pr,le,Do,Fo,Gd,qd,Ol,jl,ls,Xd,Zp,Jp,Kd,Xv;const Kr=class Kr{constructor({x:e,y:t},r,i,s,o,a=0){_(this,Kd);_(this,kr);_(this,gi,[]);_(this,Fl);_(this,Il);_(this,Pr,[]);_(this,le,new Float64Array(18));_(this,Do);_(this,Fo);_(this,Gd);_(this,qd);_(this,Ol);_(this,jl);_(this,ls,[]);E(this,kr,r),E(this,jl,s*i),E(this,Il,o),c(this,le).set([NaN,NaN,NaN,NaN,e,t],6),E(this,Fl,a),E(this,qd,c(Kr,Xd)*i),E(this,Gd,c(Kr,Jp)*i),E(this,Ol,i),c(this,ls).push(e,t)}get free(){return!0}isEmpty(){return isNaN(c(this,le)[8])}add({x:e,y:t}){var F;E(this,Do,e),E(this,Fo,t);const[r,i,s,o]=c(this,kr);let[a,l,u,d]=c(this,le).subarray(8,12);const h=e-u,f=t-d,p=Math.hypot(h,f);if(p<c(this,Gd))return!1;const m=p-c(this,qd),v=m/p,b=v*h,g=v*f;let y=a,x=l;a=u,l=d,u+=b,d+=g,(F=c(this,ls))==null||F.push(e,t);const C=-g/m,T=b/m,k=C*c(this,jl),P=T*c(this,jl);return c(this,le).set(c(this,le).subarray(2,8),0),c(this,le).set([u+k,d+P],4),c(this,le).set(c(this,le).subarray(14,18),12),c(this,le).set([u-k,d-P],16),isNaN(c(this,le)[6])?(c(this,Pr).length===0&&(c(this,le).set([a+k,l+P],2),c(this,Pr).push(NaN,NaN,NaN,NaN,(a+k-r)/s,(l+P-i)/o),c(this,le).set([a-k,l-P],14),c(this,gi).push(NaN,NaN,NaN,NaN,(a-k-r)/s,(l-P-i)/o)),c(this,le).set([y,x,a,l,u,d],6),!this.isEmpty()):(c(this,le).set([y,x,a,l,u,d],6),Math.abs(Math.atan2(x-l,y-a)-Math.atan2(g,b))<Math.PI/2?([a,l,u,d]=c(this,le).subarray(2,6),c(this,Pr).push(NaN,NaN,NaN,NaN,((a+u)/2-r)/s,((l+d)/2-i)/o),[a,l,y,x]=c(this,le).subarray(14,18),c(this,gi).push(NaN,NaN,NaN,NaN,((y+a)/2-r)/s,((x+l)/2-i)/o),!0):([y,x,a,l,u,d]=c(this,le).subarray(0,6),c(this,Pr).push(((y+5*a)/6-r)/s,((x+5*l)/6-i)/o,((5*a+u)/6-r)/s,((5*l+d)/6-i)/o,((a+u)/2-r)/s,((l+d)/2-i)/o),[u,d,a,l,y,x]=c(this,le).subarray(12,18),c(this,gi).push(((y+5*a)/6-r)/s,((x+5*l)/6-i)/o,((5*a+u)/6-r)/s,((5*l+d)/6-i)/o,((a+u)/2-r)/s,((l+d)/2-i)/o),!0))}toSVGPath(){if(this.isEmpty())return"";const e=c(this,Pr),t=c(this,gi),r=c(this,le).subarray(4,6),i=c(this,le).subarray(16,18),[s,o,a,l]=c(this,kr),[u,d,h,f]=A(this,Kd,Xv).call(this);if(isNaN(c(this,le)[6])&&!this.isEmpty())return`M${(c(this,le)[2]-s)/a} ${(c(this,le)[3]-o)/l} L${(c(this,le)[4]-s)/a} ${(c(this,le)[5]-o)/l} L${u} ${d} L${h} ${f} L${(c(this,le)[16]-s)/a} ${(c(this,le)[17]-o)/l} L${(c(this,le)[14]-s)/a} ${(c(this,le)[15]-o)/l} Z`;const p=[];p.push(`M${e[4]} ${e[5]}`);for(let m=6;m<e.length;m+=6)isNaN(e[m])?p.push(`L${e[m+4]} ${e[m+5]}`):p.push(`C${e[m]} ${e[m+1]} ${e[m+2]} ${e[m+3]} ${e[m+4]} ${e[m+5]}`);p.push(`L${(r[0]-s)/a} ${(r[1]-o)/l} L${u} ${d} L${h} ${f} L${(i[0]-s)/a} ${(i[1]-o)/l}`);for(let m=t.length-6;m>=6;m-=6)isNaN(t[m])?p.push(`L${t[m+4]} ${t[m+5]}`):p.push(`C${t[m]} ${t[m+1]} ${t[m+2]} ${t[m+3]} ${t[m+4]} ${t[m+5]}`);return p.push(`L${t[4]} ${t[5]} Z`),p.join(" ")}getOutlines(){var g;const e=c(this,Pr),t=c(this,gi),r=c(this,le),i=r.subarray(4,6),s=r.subarray(16,18),[o,a,l,u]=c(this,kr),d=new Float64Array((((g=c(this,ls))==null?void 0:g.length)??0)+2);for(let y=0,x=d.length-2;y<x;y+=2)d[y]=(c(this,ls)[y]-o)/l,d[y+1]=(c(this,ls)[y+1]-a)/u;d[d.length-2]=(c(this,Do)-o)/l,d[d.length-1]=(c(this,Fo)-a)/u;const[h,f,p,m]=A(this,Kd,Xv).call(this);if(isNaN(r[6])&&!this.isEmpty()){const y=new Float64Array(36);return y.set([NaN,NaN,NaN,NaN,(r[2]-o)/l,(r[3]-a)/u,NaN,NaN,NaN,NaN,(r[4]-o)/l,(r[5]-a)/u,NaN,NaN,NaN,NaN,h,f,NaN,NaN,NaN,NaN,p,m,NaN,NaN,NaN,NaN,(r[16]-o)/l,(r[17]-a)/u,NaN,NaN,NaN,NaN,(r[14]-o)/l,(r[15]-a)/u],0),new Kv(y,d,c(this,kr),c(this,Ol),c(this,Fl),c(this,Il))}const v=new Float64Array(c(this,Pr).length+24+c(this,gi).length);let b=e.length;for(let y=0;y<b;y+=2){if(isNaN(e[y])){v[y]=v[y+1]=NaN;continue}v[y]=e[y],v[y+1]=e[y+1]}v.set([NaN,NaN,NaN,NaN,(i[0]-o)/l,(i[1]-a)/u,NaN,NaN,NaN,NaN,h,f,NaN,NaN,NaN,NaN,p,m,NaN,NaN,NaN,NaN,(s[0]-o)/l,(s[1]-a)/u],b),b+=24;for(let y=t.length-6;y>=6;y-=6)for(let x=0;x<6;x+=2){if(isNaN(t[y+x])){v[b]=v[b+1]=NaN,b+=2;continue}v[b]=t[y+x],v[b+1]=t[y+x+1],b+=2}return v.set([NaN,NaN,NaN,NaN,t[4],t[5]],b),new Kv(v,d,c(this,kr),c(this,Ol),c(this,Fl),c(this,Il))}};kr=new WeakMap,gi=new WeakMap,Fl=new WeakMap,Il=new WeakMap,Pr=new WeakMap,le=new WeakMap,Do=new WeakMap,Fo=new WeakMap,Gd=new WeakMap,qd=new WeakMap,Ol=new WeakMap,jl=new WeakMap,ls=new WeakMap,Xd=new WeakMap,Zp=new WeakMap,Jp=new WeakMap,Kd=new WeakSet,Xv=function(){const e=c(this,le).subarray(4,6),t=c(this,le).subarray(16,18),[r,i,s,o]=c(this,kr);return[(c(this,Do)+(e[0]-t[0])/2-r)/s,(c(this,Fo)+(e[1]-t[1])/2-i)/o,(c(this,Do)+(t[0]-e[0])/2-r)/s,(c(this,Fo)+(t[1]-e[1])/2-i)/o]},_(Kr,Xd,8),_(Kr,Zp,2),_(Kr,Jp,c(Kr,Xd)+c(Kr,Zp));let Np=Kr;var $l,Io,vi,Yd,pn,Qd,Ve,en,Vc,Wc,AC;class Kv extends EC{constructor(t,r,i,s,o,a){super();_(this,en);_(this,$l);_(this,Io,null);_(this,vi);_(this,Yd);_(this,pn);_(this,Qd);_(this,Ve);E(this,Ve,t),E(this,pn,r),E(this,$l,i),E(this,Qd,s),E(this,vi,o),E(this,Yd,a),A(this,en,AC).call(this,a);const{x:l,y:u,width:d,height:h}=c(this,Io);for(let f=0,p=t.length;f<p;f+=2)t[f]=(t[f]-l)/d,t[f+1]=(t[f+1]-u)/h;for(let f=0,p=r.length;f<p;f+=2)r[f]=(r[f]-l)/d,r[f+1]=(r[f+1]-u)/h}toSVGPath(){const t=[`M${c(this,Ve)[4]} ${c(this,Ve)[5]}`];for(let r=6,i=c(this,Ve).length;r<i;r+=6){if(isNaN(c(this,Ve)[r])){t.push(`L${c(this,Ve)[r+4]} ${c(this,Ve)[r+5]}`);continue}t.push(`C${c(this,Ve)[r]} ${c(this,Ve)[r+1]} ${c(this,Ve)[r+2]} ${c(this,Ve)[r+3]} ${c(this,Ve)[r+4]} ${c(this,Ve)[r+5]}`)}return t.push("Z"),t.join(" ")}serialize([t,r,i,s],o){const a=i-t,l=s-r;let u,d;switch(o){case 0:u=A(this,en,Vc).call(this,c(this,Ve),t,s,a,-l),d=A(this,en,Vc).call(this,c(this,pn),t,s,a,-l);break;case 90:u=A(this,en,Wc).call(this,c(this,Ve),t,r,a,l),d=A(this,en,Wc).call(this,c(this,pn),t,r,a,l);break;case 180:u=A(this,en,Vc).call(this,c(this,Ve),i,r,-a,l),d=A(this,en,Vc).call(this,c(this,pn),i,r,-a,l);break;case 270:u=A(this,en,Wc).call(this,c(this,Ve),i,s,-a,-l),d=A(this,en,Wc).call(this,c(this,pn),i,s,-a,-l);break}return{outline:Array.from(u),points:[Array.from(d)]}}get box(){return c(this,Io)}getNewOutline(t,r){const{x:i,y:s,width:o,height:a}=c(this,Io),[l,u,d,h]=c(this,$l),f=o*d,p=a*h,m=i*d+l,v=s*h+u,b=new Np({x:c(this,pn)[0]*f+m,y:c(this,pn)[1]*p+v},c(this,$l),c(this,Qd),t,c(this,Yd),r??c(this,vi));for(let g=2;g<c(this,pn).length;g+=2)b.add({x:c(this,pn)[g]*f+m,y:c(this,pn)[g+1]*p+v});return b.getOutlines()}}$l=new WeakMap,Io=new WeakMap,vi=new WeakMap,Yd=new WeakMap,pn=new WeakMap,Qd=new WeakMap,Ve=new WeakMap,en=new WeakSet,Vc=function(t,r,i,s,o){const a=new Float64Array(t.length);for(let l=0,u=t.length;l<u;l+=2)a[l]=r+t[l]*s,a[l+1]=i+t[l+1]*o;return a},Wc=function(t,r,i,s,o){const a=new Float64Array(t.length);for(let l=0,u=t.length;l<u;l+=2)a[l]=r+t[l+1]*s,a[l+1]=i+t[l]*o;return a},AC=function(t){const r=c(this,Ve);let i=r[4],s=r[5],o=i,a=s,l=i,u=s,d=i,h=s;const f=t?Math.max:Math.min;for(let g=6,y=r.length;g<y;g+=6){if(isNaN(r[g]))o=Math.min(o,r[g+4]),a=Math.min(a,r[g+5]),l=Math.max(l,r[g+4]),u=Math.max(u,r[g+5]),h<r[g+5]?(d=r[g+4],h=r[g+5]):h===r[g+5]&&(d=f(d,r[g+4]));else{const x=X.bezierBoundingBox(i,s,...r.slice(g,g+6));o=Math.min(o,x[0]),a=Math.min(a,x[1]),l=Math.max(l,x[2]),u=Math.max(u,x[3]),h<x[3]?(d=x[2],h=x[3]):h===x[3]&&(d=f(d,x[2]))}i=r[g+4],s=r[g+5]}const p=o-c(this,vi),m=a-c(this,vi),v=l-o+2*c(this,vi),b=u-a+2*c(this,vi);E(this,Io,{x:p,y:m,width:v,height:b,lastPoint:[d,h]})};var Zd,Jd,ir,Oo,Hl,Ze,eh,Bl,th,nh,cs,zl,Ae,Yv,Qv,SC,qs,_C,Wi;const Yr=class Yr{constructor({editor:e=null,uiManager:t=null}){_(this,Ae);_(this,Zd,A(this,Ae,SC).bind(this));_(this,Jd,A(this,Ae,_C).bind(this));_(this,ir,null);_(this,Oo,null);_(this,Hl);_(this,Ze,null);_(this,eh,!1);_(this,Bl,!1);_(this,th,null);_(this,nh);_(this,cs,null);_(this,zl);var r;e?(E(this,Bl,!1),E(this,zl,Z.HIGHLIGHT_COLOR),E(this,th,e)):(E(this,Bl,!0),E(this,zl,Z.HIGHLIGHT_DEFAULT_COLOR)),E(this,cs,(e==null?void 0:e._uiManager)||t),E(this,nh,c(this,cs)._eventBus),E(this,Hl,(e==null?void 0:e.color)||((r=c(this,cs))==null?void 0:r.highlightColors.values().next().value)||"#FFFF98")}static get _keyboardManager(){return ue(this,"_keyboardManager",new kh([[["Escape","mac+Escape"],Yr.prototype._hideDropdownFromKeyboard],[[" ","mac+ "],Yr.prototype._colorSelectFromKeyboard],[["ArrowDown","ArrowRight","mac+ArrowDown","mac+ArrowRight"],Yr.prototype._moveToNext],[["ArrowUp","ArrowLeft","mac+ArrowUp","mac+ArrowLeft"],Yr.prototype._moveToPrevious],[["Home","mac+Home"],Yr.prototype._moveToBeginning],[["End","mac+End"],Yr.prototype._moveToEnd]]))}renderButton(){const e=E(this,ir,document.createElement("button"));e.className="colorPicker",e.tabIndex="0",e.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-button"),e.setAttribute("aria-haspopup",!0),e.addEventListener("click",A(this,Ae,qs).bind(this)),e.addEventListener("keydown",c(this,Zd));const t=E(this,Oo,document.createElement("span"));return t.className="swatch",t.setAttribute("aria-hidden",!0),t.style.backgroundColor=c(this,Hl),e.append(t),e}renderMainDropdown(){const e=E(this,Ze,A(this,Ae,Yv).call(this));return e.setAttribute("aria-orientation","horizontal"),e.setAttribute("aria-labelledby","highlightColorPickerLabel"),e}_colorSelectFromKeyboard(e){if(e.target===c(this,ir)){A(this,Ae,qs).call(this,e);return}const t=e.target.getAttribute("data-color");t&&A(this,Ae,Qv).call(this,t,e)}_moveToNext(e){var t,r;if(!c(this,Ae,Wi)){A(this,Ae,qs).call(this,e);return}if(e.target===c(this,ir)){(t=c(this,Ze).firstChild)==null||t.focus();return}(r=e.target.nextSibling)==null||r.focus()}_moveToPrevious(e){var t,r;if(e.target===((t=c(this,Ze))==null?void 0:t.firstChild)||e.target===c(this,ir)){c(this,Ae,Wi)&&this._hideDropdownFromKeyboard();return}c(this,Ae,Wi)||A(this,Ae,qs).call(this,e),(r=e.target.previousSibling)==null||r.focus()}_moveToBeginning(e){var t;if(!c(this,Ae,Wi)){A(this,Ae,qs).call(this,e);return}(t=c(this,Ze).firstChild)==null||t.focus()}_moveToEnd(e){var t;if(!c(this,Ae,Wi)){A(this,Ae,qs).call(this,e);return}(t=c(this,Ze).lastChild)==null||t.focus()}hideDropdown(){var e;(e=c(this,Ze))==null||e.classList.add("hidden"),window.removeEventListener("pointerdown",c(this,Jd))}_hideDropdownFromKeyboard(){var e;if(!c(this,Bl)){if(!c(this,Ae,Wi)){(e=c(this,th))==null||e.unselect();return}this.hideDropdown(),c(this,ir).focus({preventScroll:!0,focusVisible:c(this,eh)})}}updateColor(e){if(c(this,Oo)&&(c(this,Oo).style.backgroundColor=e),!c(this,Ze))return;const t=c(this,cs).highlightColors.values();for(const r of c(this,Ze).children)r.setAttribute("aria-selected",t.next().value===e)}destroy(){var e,t;(e=c(this,ir))==null||e.remove(),E(this,ir,null),E(this,Oo,null),(t=c(this,Ze))==null||t.remove(),E(this,Ze,null)}};Zd=new WeakMap,Jd=new WeakMap,ir=new WeakMap,Oo=new WeakMap,Hl=new WeakMap,Ze=new WeakMap,eh=new WeakMap,Bl=new WeakMap,th=new WeakMap,nh=new WeakMap,cs=new WeakMap,zl=new WeakMap,Ae=new WeakSet,Yv=function(){const e=document.createElement("div");e.addEventListener("contextmenu",on),e.className="dropdown",e.role="listbox",e.setAttribute("aria-multiselectable",!1),e.setAttribute("aria-orientation","vertical"),e.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-dropdown");for(const[t,r]of c(this,cs).highlightColors){const i=document.createElement("button");i.tabIndex="0",i.role="option",i.setAttribute("data-color",r),i.title=t,i.setAttribute("data-l10n-id",`pdfjs-editor-colorpicker-${t}`);const s=document.createElement("span");i.append(s),s.className="swatch",s.style.backgroundColor=r,i.setAttribute("aria-selected",r===c(this,Hl)),i.addEventListener("click",A(this,Ae,Qv).bind(this,r)),e.append(i)}return e.addEventListener("keydown",c(this,Zd)),e},Qv=function(e,t){t.stopPropagation(),c(this,nh).dispatch("switchannotationeditorparams",{source:this,type:c(this,zl),value:e})},SC=function(e){Yr._keyboardManager.exec(this,e)},qs=function(e){if(c(this,Ae,Wi)){this.hideDropdown();return}if(E(this,eh,e.detail===0),window.addEventListener("pointerdown",c(this,Jd)),c(this,Ze)){c(this,Ze).classList.remove("hidden");return}const t=E(this,Ze,A(this,Ae,Yv).call(this));c(this,ir).append(t)},_C=function(e){var t;(t=c(this,Ze))!=null&&t.contains(e.target)||this.hideDropdown()},Wi=function(){return c(this,Ze)&&!c(this,Ze).classList.contains("hidden")};let Dp=Yr;var Ul,rh,us,jo,Vl,Pn,ih,sh,$o,sr,It,mn,em,Wl,Ho,Je,Gl,Rr,oh,se,Zv,Jv,CC,TC,kC,ey,Gc,In,Ma,PC,$f,qc,RC,LC,MC,NC;const pe=class pe extends ge{constructor(t){super({...t,name:"highlightEditor"});_(this,se);_(this,Ul,null);_(this,rh,0);_(this,us);_(this,jo,null);_(this,Vl,null);_(this,Pn,null);_(this,ih,null);_(this,sh,0);_(this,$o,null);_(this,sr,null);_(this,It,null);_(this,mn,!1);_(this,em,A(this,se,PC).bind(this));_(this,Wl,null);_(this,Ho);_(this,Je,null);_(this,Gl,"");_(this,Rr);_(this,oh,"");this.color=t.color||pe._defaultColor,E(this,Rr,t.thickness||pe._defaultThickness),E(this,Ho,t.opacity||pe._defaultOpacity),E(this,us,t.boxes||null),E(this,oh,t.methodOfCreation||""),E(this,Gl,t.text||""),this._isDraggable=!1,t.highlightId>-1?(E(this,mn,!0),A(this,se,Jv).call(this,t),A(this,se,Gc).call(this)):(E(this,Ul,t.anchorNode),E(this,rh,t.anchorOffset),E(this,ih,t.focusNode),E(this,sh,t.focusOffset),A(this,se,Zv).call(this),A(this,se,Gc).call(this),this.rotate(this.rotation))}static get _keyboardManager(){const t=pe.prototype;return ue(this,"_keyboardManager",new kh([[["ArrowLeft","mac+ArrowLeft"],t._moveCaret,{args:[0]}],[["ArrowRight","mac+ArrowRight"],t._moveCaret,{args:[1]}],[["ArrowUp","mac+ArrowUp"],t._moveCaret,{args:[2]}],[["ArrowDown","mac+ArrowDown"],t._moveCaret,{args:[3]}]]))}get telemetryInitialData(){return{action:"added",type:c(this,mn)?"free_highlight":"highlight",color:this._uiManager.highlightColorNames.get(this.color),thickness:c(this,Rr),methodOfCreation:c(this,oh)}}get telemetryFinalData(){return{type:"highlight",color:this._uiManager.highlightColorNames.get(this.color)}}static computeTelemetryFinalData(t){return{numberOfColors:t.get("color").size}}static initialize(t,r){var i;ge.initialize(t,r),pe._defaultColor||(pe._defaultColor=((i=r.highlightColors)==null?void 0:i.values().next().value)||"#fff066")}static updateDefaultParams(t,r){switch(t){case Z.HIGHLIGHT_DEFAULT_COLOR:pe._defaultColor=r;break;case Z.HIGHLIGHT_THICKNESS:pe._defaultThickness=r;break}}translateInPage(t,r){}get toolbarPosition(){return c(this,Wl)}updateParams(t,r){switch(t){case Z.HIGHLIGHT_COLOR:A(this,se,CC).call(this,r);break;case Z.HIGHLIGHT_THICKNESS:A(this,se,TC).call(this,r);break}}static get defaultPropertiesToUpdate(){return[[Z.HIGHLIGHT_DEFAULT_COLOR,pe._defaultColor],[Z.HIGHLIGHT_THICKNESS,pe._defaultThickness]]}get propertiesToUpdate(){return[[Z.HIGHLIGHT_COLOR,this.color||pe._defaultColor],[Z.HIGHLIGHT_THICKNESS,c(this,Rr)||pe._defaultThickness],[Z.HIGHLIGHT_FREE,c(this,mn)]]}async addEditToolbar(){const t=await super.addEditToolbar();return t?(this._uiManager.highlightColors&&(E(this,Vl,new Dp({editor:this})),t.addColorPicker(c(this,Vl))),t):null}disableEditing(){super.disableEditing(),this.div.classList.toggle("disabled",!0)}enableEditing(){super.enableEditing(),this.div.classList.toggle("disabled",!1)}fixAndSetPosition(){return super.fixAndSetPosition(A(this,se,qc).call(this))}getBaseTranslation(){return[0,0]}getRect(t,r){return super.getRect(t,r,A(this,se,qc).call(this))}onceAdded(){this.parent.addUndoableEditor(this),this.div.focus()}remove(){A(this,se,ey).call(this),this._reportTelemetry({action:"deleted"}),super.remove()}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(A(this,se,Gc).call(this),this.isAttachedToDOM||this.parent.add(this)))}setParent(t){var i;let r=!1;this.parent&&!t?A(this,se,ey).call(this):t&&(A(this,se,Gc).call(this,t),r=!this.parent&&((i=this.div)==null?void 0:i.classList.contains("selectedEditor"))),super.setParent(t),this.show(this._isVisible),r&&this.select()}rotate(t){var s,o,a;const{drawLayer:r}=this.parent;let i;c(this,mn)?(t=(t-this.rotation+360)%360,i=A(s=pe,In,Ma).call(s,c(this,sr).box,t)):i=A(o=pe,In,Ma).call(o,this,t),r.rotate(c(this,It),t),r.rotate(c(this,Je),t),r.updateBox(c(this,It),i),r.updateBox(c(this,Je),A(a=pe,In,Ma).call(a,c(this,Pn).box,t))}render(){if(this.div)return this.div;const t=super.render();c(this,Gl)&&(t.setAttribute("aria-label",c(this,Gl)),t.setAttribute("role","mark")),c(this,mn)?t.classList.add("free"):this.div.addEventListener("keydown",c(this,em));const r=E(this,$o,document.createElement("div"));t.append(r),r.setAttribute("aria-hidden","true"),r.className="internal",r.style.clipPath=c(this,jo);const[i,s]=this.parentDimensions;return this.setDims(this.width*i,this.height*s),Pp(this,c(this,$o),["pointerover","pointerleave"]),this.enableEditing(),t}pointerover(){this.parent.drawLayer.addClass(c(this,Je),"hovered")}pointerleave(){this.parent.drawLayer.removeClass(c(this,Je),"hovered")}_moveCaret(t){switch(this.parent.unselect(this),t){case 0:case 2:A(this,se,$f).call(this,!0);break;case 1:case 3:A(this,se,$f).call(this,!1);break}}select(){var t,r;super.select(),c(this,Je)&&((t=this.parent)==null||t.drawLayer.removeClass(c(this,Je),"hovered"),(r=this.parent)==null||r.drawLayer.addClass(c(this,Je),"selected"))}unselect(){var t;super.unselect(),c(this,Je)&&((t=this.parent)==null||t.drawLayer.removeClass(c(this,Je),"selected"),c(this,mn)||A(this,se,$f).call(this,!1))}get _mustFixPosition(){return!c(this,mn)}show(t=this._isVisible){super.show(t),this.parent&&(this.parent.drawLayer.show(c(this,It),t),this.parent.drawLayer.show(c(this,Je),t))}static startHighlighting(t,r,{target:i,x:s,y:o}){const{x:a,y:l,width:u,height:d}=i.getBoundingClientRect(),h=v=>{A(this,In,MC).call(this,t,v)},f={capture:!0,passive:!1},p=v=>{v.preventDefault(),v.stopPropagation()},m=v=>{i.removeEventListener("pointermove",h),window.removeEventListener("blur",m),window.removeEventListener("pointerup",m),window.removeEventListener("pointerdown",p,f),window.removeEventListener("contextmenu",on),A(this,In,NC).call(this,t,v)};window.addEventListener("blur",m),window.addEventListener("pointerup",m),window.addEventListener("pointerdown",p,f),window.addEventListener("contextmenu",on),i.addEventListener("pointermove",h),this._freeHighlight=new Np({x:s,y:o},[a,l,u,d],t.scale,this._defaultThickness/2,r,.001),{id:this._freeHighlightId,clipPathId:this._freeHighlightClipId}=t.drawLayer.highlight(this._freeHighlight,this._defaultColor,this._defaultOpacity,!0)}static deserialize(t,r,i){var v;const s=super.deserialize(t,r,i),{rect:[o,a,l,u],color:d,quadPoints:h}=t;s.color=X.makeHexColor(...d),E(s,Ho,t.opacity);const[f,p]=s.pageDimensions;s.width=(l-o)/f,s.height=(u-a)/p;const m=E(s,us,[]);for(let b=0;b<h.length;b+=8)m.push({x:(h[4]-l)/f,y:(u-(1-h[b+5]))/p,width:(h[b+2]-h[b])/f,height:(h[b+5]-h[b+1])/p});return A(v=s,se,Zv).call(v),s}serialize(t=!1){if(this.isEmpty()||t)return null;const r=this.getRect(0,0),i=ge._colorManager.convert(this.color);return{annotationType:ce.HIGHLIGHT,color:i,opacity:c(this,Ho),thickness:c(this,Rr),quadPoints:A(this,se,RC).call(this),outlines:A(this,se,LC).call(this,r),pageIndex:this.pageIndex,rect:r,rotation:A(this,se,qc).call(this),structTreeParentId:this._structTreeParentId}}static canCreateNewEmptyEditor(){return!1}};Ul=new WeakMap,rh=new WeakMap,us=new WeakMap,jo=new WeakMap,Vl=new WeakMap,Pn=new WeakMap,ih=new WeakMap,sh=new WeakMap,$o=new WeakMap,sr=new WeakMap,It=new WeakMap,mn=new WeakMap,em=new WeakMap,Wl=new WeakMap,Ho=new WeakMap,Je=new WeakMap,Gl=new WeakMap,Rr=new WeakMap,oh=new WeakMap,se=new WeakSet,Zv=function(){const t=new Gv(c(this,us),.001);E(this,sr,t.getOutlines()),{x:this.x,y:this.y,width:this.width,height:this.height}=c(this,sr).box;const r=new Gv(c(this,us),.0025,.001,this._uiManager.direction==="ltr");E(this,Pn,r.getOutlines());const{lastPoint:i}=c(this,Pn).box;E(this,Wl,[(i[0]-this.x)/this.width,(i[1]-this.y)/this.height])},Jv=function({highlightOutlines:t,highlightId:r,clipPathId:i}){var h,f;if(E(this,sr,t),E(this,Pn,t.getNewOutline(c(this,Rr)/2+1.5,.0025)),r>=0)E(this,It,r),E(this,jo,i),this.parent.drawLayer.finalizeLine(r,t),E(this,Je,this.parent.drawLayer.highlightOutline(c(this,Pn)));else if(this.parent){const p=this.parent.viewport.rotation;this.parent.drawLayer.updateLine(c(this,It),t),this.parent.drawLayer.updateBox(c(this,It),A(h=pe,In,Ma).call(h,c(this,sr).box,(p-this.rotation+360)%360)),this.parent.drawLayer.updateLine(c(this,Je),c(this,Pn)),this.parent.drawLayer.updateBox(c(this,Je),A(f=pe,In,Ma).call(f,c(this,Pn).box,p))}const{x:o,y:a,width:l,height:u}=t.box;switch(this.rotation){case 0:this.x=o,this.y=a,this.width=l,this.height=u;break;case 90:{const[p,m]=this.parentDimensions;this.x=a,this.y=1-o,this.width=l*m/p,this.height=u*p/m;break}case 180:this.x=1-o,this.y=1-a,this.width=l,this.height=u;break;case 270:{const[p,m]=this.parentDimensions;this.x=1-a,this.y=o,this.width=l*m/p,this.height=u*p/m;break}}const{lastPoint:d}=c(this,Pn).box;E(this,Wl,[(d[0]-o)/l,(d[1]-a)/u])},CC=function(t){const r=s=>{var o,a;this.color=s,(o=this.parent)==null||o.drawLayer.changeColor(c(this,It),s),(a=c(this,Vl))==null||a.updateColor(s)},i=this.color;this.addCommands({cmd:r.bind(this,t),undo:r.bind(this,i),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Z.HIGHLIGHT_COLOR,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"color_changed",color:this._uiManager.highlightColorNames.get(t)},!0)},TC=function(t){const r=c(this,Rr),i=s=>{E(this,Rr,s),A(this,se,kC).call(this,s)};this.addCommands({cmd:i.bind(this,t),undo:i.bind(this,r),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Z.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"thickness_changed",thickness:t},!0)},kC=function(t){if(!c(this,mn))return;A(this,se,Jv).call(this,{highlightOutlines:c(this,sr).getNewOutline(t/2)}),this.fixAndSetPosition();const[r,i]=this.parentDimensions;this.setDims(this.width*r,this.height*i)},ey=function(){c(this,It)===null||!this.parent||(this.parent.drawLayer.remove(c(this,It)),E(this,It,null),this.parent.drawLayer.remove(c(this,Je)),E(this,Je,null))},Gc=function(t=this.parent){c(this,It)===null&&({id:ln(this,It)._,clipPathId:ln(this,jo)._}=t.drawLayer.highlight(c(this,sr),this.color,c(this,Ho)),E(this,Je,t.drawLayer.highlightOutline(c(this,Pn))),c(this,$o)&&(c(this,$o).style.clipPath=c(this,jo)))},In=new WeakSet,Ma=function({x:t,y:r,width:i,height:s},o){switch(o){case 90:return{x:1-r-s,y:t,width:s,height:i};case 180:return{x:1-t-i,y:1-r-s,width:i,height:s};case 270:return{x:r,y:1-t-i,width:s,height:i}}return{x:t,y:r,width:i,height:s}},PC=function(t){pe._keyboardManager.exec(this,t)},$f=function(t){if(!c(this,Ul))return;const r=window.getSelection();t?r.setPosition(c(this,Ul),c(this,rh)):r.setPosition(c(this,ih),c(this,sh))},qc=function(){return c(this,mn)?this.rotation:0},RC=function(){if(c(this,mn))return null;const[t,r]=this.pageDimensions,i=c(this,us),s=new Array(i.length*8);let o=0;for(const{x:a,y:l,width:u,height:d}of i){const h=a*t,f=(1-l-d)*r;s[o]=s[o+4]=h,s[o+1]=s[o+3]=f,s[o+2]=s[o+6]=h+u*t,s[o+5]=s[o+7]=f+d*r,o+=8}return s},LC=function(t){return c(this,sr).serialize(t,A(this,se,qc).call(this))},MC=function(t,r){this._freeHighlight.add(r)&&t.drawLayer.updatePath(this._freeHighlightId,this._freeHighlight)},NC=function(t,r){this._freeHighlight.isEmpty()?t.drawLayer.removeFreeHighlight(this._freeHighlightId):t.createAndAddNewEditor(r,!1,{highlightId:this._freeHighlightId,highlightOutlines:this._freeHighlight.getOutlines(),clipPathId:this._freeHighlightClipId,methodOfCreation:"main_toolbar"}),this._freeHighlightId=-1,this._freeHighlight=null,this._freeHighlightClipId=""},_(pe,In),ee(pe,"_defaultColor",null),ee(pe,"_defaultOpacity",1),ee(pe,"_defaultThickness",12),ee(pe,"_l10nPromise"),ee(pe,"_type","highlight"),ee(pe,"_editorType",ce.HIGHLIGHT),ee(pe,"_freeHighlightId",-1),ee(pe,"_freeHighlight",null),ee(pe,"_freeHighlightClipId","");let Fp=pe;var Bo,zo,ah,lh,ch,Uo,Lr,yi,Rn,Vo,Wo,Go,qo,Xo,ds,B,DC,FC,IC,OC,ny,jC,ry,$C,HC,BC,zC,UC,Xs,iy,Hf,Bf,Na,sy,zf,Fi,VC,oy,WC,GC,ay,Uf,Xc;const Me=class Me extends ge{constructor(t){super({...t,name:"inkEditor"});_(this,B);_(this,Bo,0);_(this,zo,0);_(this,ah,this.canvasPointermove.bind(this));_(this,lh,this.canvasPointerleave.bind(this));_(this,ch,this.canvasPointerup.bind(this));_(this,Uo,this.canvasPointerdown.bind(this));_(this,Lr,null);_(this,yi,new Path2D);_(this,Rn,!1);_(this,Vo,!1);_(this,Wo,!1);_(this,Go,null);_(this,qo,0);_(this,Xo,0);_(this,ds,null);this.color=t.color||null,this.thickness=t.thickness||null,this.opacity=t.opacity||null,this.paths=[],this.bezierPath2D=[],this.allRawPaths=[],this.currentPath=[],this.scaleFactor=1,this.translationX=this.translationY=0,this.x=0,this.y=0,this._willKeepAspectRatio=!0}static initialize(t,r){ge.initialize(t,r)}static updateDefaultParams(t,r){switch(t){case Z.INK_THICKNESS:Me._defaultThickness=r;break;case Z.INK_COLOR:Me._defaultColor=r;break;case Z.INK_OPACITY:Me._defaultOpacity=r/100;break}}updateParams(t,r){switch(t){case Z.INK_THICKNESS:A(this,B,DC).call(this,r);break;case Z.INK_COLOR:A(this,B,FC).call(this,r);break;case Z.INK_OPACITY:A(this,B,IC).call(this,r);break}}static get defaultPropertiesToUpdate(){return[[Z.INK_THICKNESS,Me._defaultThickness],[Z.INK_COLOR,Me._defaultColor||ge._defaultLineColor],[Z.INK_OPACITY,Math.round(Me._defaultOpacity*100)]]}get propertiesToUpdate(){return[[Z.INK_THICKNESS,this.thickness||Me._defaultThickness],[Z.INK_COLOR,this.color||Me._defaultColor||ge._defaultLineColor],[Z.INK_OPACITY,Math.round(100*(this.opacity??Me._defaultOpacity))]]}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.canvas||(A(this,B,Hf).call(this),A(this,B,Bf).call(this)),this.isAttachedToDOM||(this.parent.add(this),A(this,B,Na).call(this)),A(this,B,Xc).call(this)))}remove(){this.canvas!==null&&(this.isEmpty()||this.commit(),this.canvas.width=this.canvas.height=0,this.canvas.remove(),this.canvas=null,c(this,Lr)&&(clearTimeout(c(this,Lr)),E(this,Lr,null)),c(this,Go).disconnect(),E(this,Go,null),super.remove())}setParent(t){!this.parent&&t?this._uiManager.removeShouldRescale(this):this.parent&&t===null&&this._uiManager.addShouldRescale(this),super.setParent(t)}onScaleChanging(){const[t,r]=this.parentDimensions,i=this.width*t,s=this.height*r;this.setDimensions(i,s)}enableEditMode(){c(this,Rn)||this.canvas===null||(super.enableEditMode(),this._isDraggable=!1,this.canvas.addEventListener("pointerdown",c(this,Uo)))}disableEditMode(){!this.isInEditMode()||this.canvas===null||(super.disableEditMode(),this._isDraggable=!this.isEmpty(),this.div.classList.remove("editing"),this.canvas.removeEventListener("pointerdown",c(this,Uo)))}onceAdded(){this._isDraggable=!this.isEmpty()}isEmpty(){return this.paths.length===0||this.paths.length===1&&this.paths[0].length===0}commit(){c(this,Rn)||(super.commit(),this.isEditing=!1,this.disableEditMode(),this.setInForeground(),E(this,Rn,!0),this.div.classList.add("disabled"),A(this,B,Xc).call(this,!0),this.select(),this.parent.addInkEditorIfNeeded(!0),this.moveInDOM(),this.div.focus({preventScroll:!0}))}focusin(t){this._focusEventsAllowed&&(super.focusin(t),this.enableEditMode())}canvasPointerdown(t){t.button!==0||!this.isInEditMode()||c(this,Rn)||(this.setInForeground(),t.preventDefault(),this.div.contains(document.activeElement)||this.div.focus({preventScroll:!0}),A(this,B,jC).call(this,t.offsetX,t.offsetY))}canvasPointermove(t){t.preventDefault(),A(this,B,ry).call(this,t.offsetX,t.offsetY)}canvasPointerup(t){t.preventDefault(),A(this,B,iy).call(this,t)}canvasPointerleave(t){A(this,B,iy).call(this,t)}get isResizable(){return!this.isEmpty()&&c(this,Rn)}render(){if(this.div)return this.div;let t,r;this.width&&(t=this.x,r=this.y),super.render(),this.div.setAttribute("data-l10n-id","pdfjs-ink");const[i,s,o,a]=A(this,B,OC).call(this);if(this.setAt(i,s,0,0),this.setDims(o,a),A(this,B,Hf).call(this),this.width){const[l,u]=this.parentDimensions;this.setAspectRatio(this.width*l,this.height*u),this.setAt(t*l,r*u,this.width*l,this.height*u),E(this,Wo,!0),A(this,B,Na).call(this),this.setDims(this.width*l,this.height*u),A(this,B,Xs).call(this),this.div.classList.add("disabled")}else this.div.classList.add("editing"),this.enableEditMode();return A(this,B,Bf).call(this),this.div}setDimensions(t,r){const i=Math.round(t),s=Math.round(r);if(c(this,qo)===i&&c(this,Xo)===s)return;E(this,qo,i),E(this,Xo,s),this.canvas.style.visibility="hidden";const[o,a]=this.parentDimensions;this.width=t/o,this.height=r/a,this.fixAndSetPosition(),c(this,Rn)&&A(this,B,sy).call(this,t,r),A(this,B,Na).call(this),A(this,B,Xs).call(this),this.canvas.style.visibility="visible",this.fixDims()}static deserialize(t,r,i){var b,g,y;if(t instanceof dC)return null;const s=super.deserialize(t,r,i);s.thickness=t.thickness,s.color=X.makeHexColor(...t.color),s.opacity=t.opacity;const[o,a]=s.pageDimensions,l=s.width*o,u=s.height*a,d=s.parentScale,h=t.thickness/2;E(s,Rn,!0),E(s,qo,Math.round(l)),E(s,Xo,Math.round(u));const{paths:f,rect:p,rotation:m}=t;for(let{bezier:x}of f){x=A(b=Me,Fi,WC).call(b,x,p,m);const C=[];s.paths.push(C);let T=d*(x[0]-h),k=d*(x[1]-h);for(let R=2,F=x.length;R<F;R+=6){const D=d*(x[R]-h),N=d*(x[R+1]-h),q=d*(x[R+2]-h),U=d*(x[R+3]-h),z=d*(x[R+4]-h),j=d*(x[R+5]-h);C.push([[T,k],[D,N],[q,U],[z,j]]),T=z,k=j}const P=A(this,Fi,VC).call(this,C);s.bezierPath2D.push(P)}const v=A(g=s,B,ay).call(g);return E(s,zo,Math.max(ge.MIN_SIZE,v[2]-v[0])),E(s,Bo,Math.max(ge.MIN_SIZE,v[3]-v[1])),A(y=s,B,sy).call(y,l,u),s}serialize(){if(this.isEmpty())return null;const t=this.getRect(0,0),r=ge._colorManager.convert(this.ctx.strokeStyle);return{annotationType:ce.INK,color:r,thickness:this.thickness,opacity:this.opacity,paths:A(this,B,GC).call(this,this.scaleFactor/this.parentScale,this.translationX,this.translationY,t),pageIndex:this.pageIndex,rect:t,rotation:this.rotation,structTreeParentId:this._structTreeParentId}}};Bo=new WeakMap,zo=new WeakMap,ah=new WeakMap,lh=new WeakMap,ch=new WeakMap,Uo=new WeakMap,Lr=new WeakMap,yi=new WeakMap,Rn=new WeakMap,Vo=new WeakMap,Wo=new WeakMap,Go=new WeakMap,qo=new WeakMap,Xo=new WeakMap,ds=new WeakMap,B=new WeakSet,DC=function(t){const r=s=>{this.thickness=s,A(this,B,Xc).call(this)},i=this.thickness;this.addCommands({cmd:r.bind(this,t),undo:r.bind(this,i),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Z.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0})},FC=function(t){const r=s=>{this.color=s,A(this,B,Xs).call(this)},i=this.color;this.addCommands({cmd:r.bind(this,t),undo:r.bind(this,i),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Z.INK_COLOR,overwriteIfSameType:!0,keepUndo:!0})},IC=function(t){const r=s=>{this.opacity=s,A(this,B,Xs).call(this)};t/=100;const i=this.opacity;this.addCommands({cmd:r.bind(this,t),undo:r.bind(this,i),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Z.INK_OPACITY,overwriteIfSameType:!0,keepUndo:!0})},OC=function(){const{parentRotation:t,parentDimensions:[r,i]}=this;switch(t){case 90:return[0,i,i,r];case 180:return[r,i,r,i];case 270:return[r,0,i,r];default:return[0,0,r,i]}},ny=function(){const{ctx:t,color:r,opacity:i,thickness:s,parentScale:o,scaleFactor:a}=this;t.lineWidth=s*o/a,t.lineCap="round",t.lineJoin="round",t.miterLimit=10,t.strokeStyle=`${r}${RD(i)}`},jC=function(t,r){this.canvas.addEventListener("contextmenu",on),this.canvas.addEventListener("pointerleave",c(this,lh)),this.canvas.addEventListener("pointermove",c(this,ah)),this.canvas.addEventListener("pointerup",c(this,ch)),this.canvas.removeEventListener("pointerdown",c(this,Uo)),this.isEditing=!0,c(this,Wo)||(E(this,Wo,!0),A(this,B,Na).call(this),this.thickness||(this.thickness=Me._defaultThickness),this.color||(this.color=Me._defaultColor||ge._defaultLineColor),this.opacity??(this.opacity=Me._defaultOpacity)),this.currentPath.push([t,r]),E(this,Vo,!1),A(this,B,ny).call(this),E(this,ds,()=>{A(this,B,BC).call(this),c(this,ds)&&window.requestAnimationFrame(c(this,ds))}),window.requestAnimationFrame(c(this,ds))},ry=function(t,r){const[i,s]=this.currentPath.at(-1);if(this.currentPath.length>1&&t===i&&r===s)return;const o=this.currentPath;let a=c(this,yi);if(o.push([t,r]),E(this,Vo,!0),o.length<=2){a.moveTo(...o[0]),a.lineTo(t,r);return}o.length===3&&(E(this,yi,a=new Path2D),a.moveTo(...o[0])),A(this,B,zC).call(this,a,...o.at(-3),...o.at(-2),t,r)},$C=function(){if(this.currentPath.length===0)return;const t=this.currentPath.at(-1);c(this,yi).lineTo(...t)},HC=function(t,r){E(this,ds,null),t=Math.min(Math.max(t,0),this.canvas.width),r=Math.min(Math.max(r,0),this.canvas.height),A(this,B,ry).call(this,t,r),A(this,B,$C).call(this);let i;if(this.currentPath.length!==1)i=A(this,B,UC).call(this);else{const u=[t,r];i=[[u,u.slice(),u.slice(),u]]}const s=c(this,yi),o=this.currentPath;this.currentPath=[],E(this,yi,new Path2D);const a=()=>{this.allRawPaths.push(o),this.paths.push(i),this.bezierPath2D.push(s),this._uiManager.rebuild(this)},l=()=>{this.allRawPaths.pop(),this.paths.pop(),this.bezierPath2D.pop(),this.paths.length===0?this.remove():(this.canvas||(A(this,B,Hf).call(this),A(this,B,Bf).call(this)),A(this,B,Xc).call(this))};this.addCommands({cmd:a,undo:l,mustExec:!0})},BC=function(){if(!c(this,Vo))return;E(this,Vo,!1);const t=Math.ceil(this.thickness*this.parentScale),r=this.currentPath.slice(-3),i=r.map(a=>a[0]),s=r.map(a=>a[1]);Math.min(...i)-t,Math.max(...i)+t,Math.min(...s)-t,Math.max(...s)+t;const{ctx:o}=this;o.save(),o.clearRect(0,0,this.canvas.width,this.canvas.height);for(const a of this.bezierPath2D)o.stroke(a);o.stroke(c(this,yi)),o.restore()},zC=function(t,r,i,s,o,a,l){const u=(r+s)/2,d=(i+o)/2,h=(s+a)/2,f=(o+l)/2;t.bezierCurveTo(u+2*(s-u)/3,d+2*(o-d)/3,h+2*(s-h)/3,f+2*(o-f)/3,h,f)},UC=function(){const t=this.currentPath;if(t.length<=2)return[[t[0],t[0],t.at(-1),t.at(-1)]];const r=[];let i,[s,o]=t[0];for(i=1;i<t.length-2;i++){const[p,m]=t[i],[v,b]=t[i+1],g=(p+v)/2,y=(m+b)/2,x=[s+2*(p-s)/3,o+2*(m-o)/3],C=[g+2*(p-g)/3,y+2*(m-y)/3];r.push([[s,o],x,C,[g,y]]),[s,o]=[g,y]}const[a,l]=t[i],[u,d]=t[i+1],h=[s+2*(a-s)/3,o+2*(l-o)/3],f=[u+2*(a-u)/3,d+2*(l-d)/3];return r.push([[s,o],h,f,[u,d]]),r},Xs=function(){if(this.isEmpty()){A(this,B,zf).call(this);return}A(this,B,ny).call(this);const{canvas:t,ctx:r}=this;r.setTransform(1,0,0,1,0,0),r.clearRect(0,0,t.width,t.height),A(this,B,zf).call(this);for(const i of this.bezierPath2D)r.stroke(i)},iy=function(t){this.canvas.removeEventListener("pointerleave",c(this,lh)),this.canvas.removeEventListener("pointermove",c(this,ah)),this.canvas.removeEventListener("pointerup",c(this,ch)),this.canvas.addEventListener("pointerdown",c(this,Uo)),c(this,Lr)&&clearTimeout(c(this,Lr)),E(this,Lr,setTimeout(()=>{E(this,Lr,null),this.canvas.removeEventListener("contextmenu",on)},10)),A(this,B,HC).call(this,t.offsetX,t.offsetY),this.addToAnnotationStorage(),this.setInBackground()},Hf=function(){this.canvas=document.createElement("canvas"),this.canvas.width=this.canvas.height=0,this.canvas.className="inkEditorCanvas",this.canvas.setAttribute("data-l10n-id","pdfjs-ink-canvas"),this.div.append(this.canvas),this.ctx=this.canvas.getContext("2d")},Bf=function(){E(this,Go,new ResizeObserver(t=>{const r=t[0].contentRect;r.width&&r.height&&this.setDimensions(r.width,r.height)})),c(this,Go).observe(this.div)},Na=function(){if(!c(this,Wo))return;const[t,r]=this.parentDimensions;this.canvas.width=Math.ceil(this.width*t),this.canvas.height=Math.ceil(this.height*r),A(this,B,zf).call(this)},sy=function(t,r){const i=A(this,B,Uf).call(this),s=(t-i)/c(this,zo),o=(r-i)/c(this,Bo);this.scaleFactor=Math.min(s,o)},zf=function(){const t=A(this,B,Uf).call(this)/2;this.ctx.setTransform(this.scaleFactor,0,0,this.scaleFactor,this.translationX*this.scaleFactor+t,this.translationY*this.scaleFactor+t)},Fi=new WeakSet,VC=function(t){const r=new Path2D;for(let i=0,s=t.length;i<s;i++){const[o,a,l,u]=t[i];i===0&&r.moveTo(...o),r.bezierCurveTo(a[0],a[1],l[0],l[1],u[0],u[1])}return r},oy=function(t,r,i){const[s,o,a,l]=r;switch(i){case 0:for(let u=0,d=t.length;u<d;u+=2)t[u]+=s,t[u+1]=l-t[u+1];break;case 90:for(let u=0,d=t.length;u<d;u+=2){const h=t[u];t[u]=t[u+1]+s,t[u+1]=h+o}break;case 180:for(let u=0,d=t.length;u<d;u+=2)t[u]=a-t[u],t[u+1]+=o;break;case 270:for(let u=0,d=t.length;u<d;u+=2){const h=t[u];t[u]=a-t[u+1],t[u+1]=l-h}break;default:throw new Error("Invalid rotation")}return t},WC=function(t,r,i){const[s,o,a,l]=r;switch(i){case 0:for(let u=0,d=t.length;u<d;u+=2)t[u]-=s,t[u+1]=l-t[u+1];break;case 90:for(let u=0,d=t.length;u<d;u+=2){const h=t[u];t[u]=t[u+1]-o,t[u+1]=h-s}break;case 180:for(let u=0,d=t.length;u<d;u+=2)t[u]=a-t[u],t[u+1]-=o;break;case 270:for(let u=0,d=t.length;u<d;u+=2){const h=t[u];t[u]=l-t[u+1],t[u+1]=a-h}break;default:throw new Error("Invalid rotation")}return t},GC=function(t,r,i,s){var d,h;const o=[],a=this.thickness/2,l=t*r+a,u=t*i+a;for(const f of this.paths){const p=[],m=[];for(let v=0,b=f.length;v<b;v++){const[g,y,x,C]=f[v];if(g[0]===C[0]&&g[1]===C[1]&&b===1){const U=t*g[0]+l,z=t*g[1]+u;p.push(U,z),m.push(U,z);break}const T=t*g[0]+l,k=t*g[1]+u,P=t*y[0]+l,R=t*y[1]+u,F=t*x[0]+l,D=t*x[1]+u,N=t*C[0]+l,q=t*C[1]+u;v===0&&(p.push(T,k),m.push(T,k)),p.push(P,R,F,D,N,q),m.push(P,R),v===b-1&&m.push(N,q)}o.push({bezier:A(d=Me,Fi,oy).call(d,p,s,this.rotation),points:A(h=Me,Fi,oy).call(h,m,s,this.rotation)})}return o},ay=function(){let t=1/0,r=-1/0,i=1/0,s=-1/0;for(const o of this.paths)for(const[a,l,u,d]of o){const h=X.bezierBoundingBox(...a,...l,...u,...d);t=Math.min(t,h[0]),i=Math.min(i,h[1]),r=Math.max(r,h[2]),s=Math.max(s,h[3])}return[t,i,r,s]},Uf=function(){return c(this,Rn)?Math.ceil(this.thickness*this.parentScale):0},Xc=function(t=!1){if(this.isEmpty())return;if(!c(this,Rn)){A(this,B,Xs).call(this);return}const r=A(this,B,ay).call(this),i=A(this,B,Uf).call(this);E(this,zo,Math.max(ge.MIN_SIZE,r[2]-r[0])),E(this,Bo,Math.max(ge.MIN_SIZE,r[3]-r[1]));const s=Math.ceil(i+c(this,zo)*this.scaleFactor),o=Math.ceil(i+c(this,Bo)*this.scaleFactor),[a,l]=this.parentDimensions;this.width=s/a,this.height=o/l,this.setAspectRatio(s,o);const u=this.translationX,d=this.translationY;this.translationX=-r[0],this.translationY=-r[1],A(this,B,Na).call(this),A(this,B,Xs).call(this),E(this,qo,s),E(this,Xo,o),this.setDims(s,o);const h=t?i/this.scaleFactor/2:0;this.translate(u-this.translationX-h,d-this.translationY-h)},_(Me,Fi),ee(Me,"_defaultColor",null),ee(Me,"_defaultOpacity",1),ee(Me,"_defaultThickness",1),ee(Me,"_type","ink"),ee(Me,"_editorType",ce.INK);let ty=Me;var mt,gt,hs,xi,fs,ql,Mr,Ko,Nr,or,uh,he,Kc,Yc,Vf,cy,qC,XC,uy,Wf,KC;const uu=class uu extends ge{constructor(t){super({...t,name:"stampEditor"});_(this,he);_(this,mt,null);_(this,gt,null);_(this,hs,null);_(this,xi,null);_(this,fs,null);_(this,ql,"");_(this,Mr,null);_(this,Ko,null);_(this,Nr,null);_(this,or,!1);_(this,uh,!1);E(this,xi,t.bitmapUrl),E(this,fs,t.bitmapFile)}static initialize(t,r){ge.initialize(t,r)}static get supportedTypes(){return ue(this,"supportedTypes",["apng","avif","bmp","gif","jpeg","png","svg+xml","webp","x-icon"].map(r=>`image/${r}`))}static get supportedTypesStr(){return ue(this,"supportedTypesStr",this.supportedTypes.join(","))}static isHandlingMimeForPasting(t){return this.supportedTypes.includes(t)}static paste(t,r){r.pasteEditor(ce.STAMP,{bitmapFile:t.getAsFile()})}remove(){var t,r;c(this,gt)&&(E(this,mt,null),this._uiManager.imageManager.deleteId(c(this,gt)),(t=c(this,Mr))==null||t.remove(),E(this,Mr,null),(r=c(this,Ko))==null||r.disconnect(),E(this,Ko,null),c(this,Nr)&&(clearTimeout(c(this,Nr)),E(this,Nr,null))),super.remove()}rebuild(){if(!this.parent){c(this,gt)&&A(this,he,Vf).call(this);return}super.rebuild(),this.div!==null&&(c(this,gt)&&c(this,Mr)===null&&A(this,he,Vf).call(this),this.isAttachedToDOM||this.parent.add(this))}onceAdded(){this._isDraggable=!0,this.div.focus()}isEmpty(){return!(c(this,hs)||c(this,mt)||c(this,xi)||c(this,fs)||c(this,gt))}get isResizable(){return!0}render(){if(this.div)return this.div;let t,r;if(this.width&&(t=this.x,r=this.y),super.render(),this.div.hidden=!0,this.addAltTextButton(),c(this,mt)?A(this,he,cy).call(this):A(this,he,Vf).call(this),this.width){const[i,s]=this.parentDimensions;this.setAt(t*i,r*s,this.width*i,this.height*s)}return this.div}getImageForAltText(){return c(this,Mr)}static deserialize(t,r,i){if(t instanceof hC)return null;const s=super.deserialize(t,r,i),{rect:o,bitmapUrl:a,bitmapId:l,isSvg:u,accessibilityData:d}=t;l&&i.imageManager.isValidId(l)?E(s,gt,l):E(s,xi,a),E(s,or,u);const[h,f]=s.pageDimensions;return s.width=(o[2]-o[0])/h,s.height=(o[3]-o[1])/f,d&&(s.altTextData=d),s}serialize(t=!1,r=null){if(this.isEmpty())return null;const i={annotationType:ce.STAMP,bitmapId:c(this,gt),pageIndex:this.pageIndex,rect:this.getRect(0,0),rotation:this.rotation,isSvg:c(this,or),structTreeParentId:this._structTreeParentId};if(t)return i.bitmapUrl=A(this,he,Wf).call(this,!0),i.accessibilityData=this.altTextData,i;const{decorative:s,altText:o}=this.altTextData;if(!s&&o&&(i.accessibilityData={type:"Figure",alt:o}),r===null)return i;r.stamps||(r.stamps=new Map);const a=c(this,or)?(i.rect[2]-i.rect[0])*(i.rect[3]-i.rect[1]):null;if(!r.stamps.has(c(this,gt)))r.stamps.set(c(this,gt),{area:a,serialized:i}),i.bitmap=A(this,he,Wf).call(this,!1);else if(c(this,or)){const l=r.stamps.get(c(this,gt));a>l.area&&(l.area=a,l.serialized.bitmap.close(),l.serialized.bitmap=A(this,he,Wf).call(this,!1))}return i}};mt=new WeakMap,gt=new WeakMap,hs=new WeakMap,xi=new WeakMap,fs=new WeakMap,ql=new WeakMap,Mr=new WeakMap,Ko=new WeakMap,Nr=new WeakMap,or=new WeakMap,uh=new WeakMap,he=new WeakSet,Kc=function(t,r=!1){if(!t){this.remove();return}E(this,mt,t.bitmap),r||(E(this,gt,t.id),E(this,or,t.isSvg)),t.file&&E(this,ql,t.file.name),A(this,he,cy).call(this)},Yc=function(){E(this,hs,null),this._uiManager.enableWaiting(!1),c(this,Mr)&&this.div.focus()},Vf=function(){if(c(this,gt)){this._uiManager.enableWaiting(!0),this._uiManager.imageManager.getFromId(c(this,gt)).then(r=>A(this,he,Kc).call(this,r,!0)).finally(()=>A(this,he,Yc).call(this));return}if(c(this,xi)){const r=c(this,xi);E(this,xi,null),this._uiManager.enableWaiting(!0),E(this,hs,this._uiManager.imageManager.getFromUrl(r).then(i=>A(this,he,Kc).call(this,i)).finally(()=>A(this,he,Yc).call(this)));return}if(c(this,fs)){const r=c(this,fs);E(this,fs,null),this._uiManager.enableWaiting(!0),E(this,hs,this._uiManager.imageManager.getFromFile(r).then(i=>A(this,he,Kc).call(this,i)).finally(()=>A(this,he,Yc).call(this)));return}const t=document.createElement("input");t.type="file",t.accept=uu.supportedTypesStr,E(this,hs,new Promise(r=>{t.addEventListener("change",async()=>{if(!t.files||t.files.length===0)this.remove();else{this._uiManager.enableWaiting(!0);const i=await this._uiManager.imageManager.getFromFile(t.files[0]);A(this,he,Kc).call(this,i)}r()}),t.addEventListener("cancel",()=>{this.remove(),r()})}).finally(()=>A(this,he,Yc).call(this))),t.click()},cy=function(){const{div:t}=this;let{width:r,height:i}=c(this,mt);const[s,o]=this.pageDimensions,a=.75;if(this.width)r=this.width*s,i=this.height*o;else if(r>a*s||i>a*o){const h=Math.min(a*s/r,a*o/i);r*=h,i*=h}const[l,u]=this.parentDimensions;this.setDims(r*l/s,i*u/o),this._uiManager.enableWaiting(!1);const d=E(this,Mr,document.createElement("canvas"));t.append(d),t.hidden=!1,A(this,he,uy).call(this,r,i),A(this,he,KC).call(this),c(this,uh)||(this.parent.addUndoableEditor(this),E(this,uh,!0)),this._reportTelemetry({action:"inserted_image"}),c(this,ql)&&d.setAttribute("aria-label",c(this,ql))},qC=function(t,r){var a;const[i,s]=this.parentDimensions;this.width=t/i,this.height=r/s,this.setDims(t,r),(a=this._initialOptions)!=null&&a.isCentered?this.center():this.fixAndSetPosition(),this._initialOptions=null,c(this,Nr)!==null&&clearTimeout(c(this,Nr)),E(this,Nr,setTimeout(()=>{E(this,Nr,null),A(this,he,uy).call(this,t,r)},200))},XC=function(t,r){const{width:i,height:s}=c(this,mt);let o=i,a=s,l=c(this,mt);for(;o>2*t||a>2*r;){const u=o,d=a;o>2*t&&(o=o>=16384?Math.floor(o/2)-1:Math.ceil(o/2)),a>2*r&&(a=a>=16384?Math.floor(a/2)-1:Math.ceil(a/2));const h=new OffscreenCanvas(o,a);h.getContext("2d").drawImage(l,0,0,u,d,0,0,o,a),l=h.transferToImageBitmap()}return l},uy=function(t,r){t=Math.ceil(t),r=Math.ceil(r);const i=c(this,Mr);if(!i||i.width===t&&i.height===r)return;i.width=t,i.height=r;const s=c(this,or)?c(this,mt):A(this,he,XC).call(this,t,r);if(this._uiManager.hasMLManager&&!this.hasAltText()){const l=new OffscreenCanvas(t,r).getContext("2d");l.drawImage(s,0,0,s.width,s.height,0,0,t,r),this._uiManager.mlGuess({service:"image-to-text",request:{data:l.getImageData(0,0,t,r).data,width:t,height:r,channels:4}}).then(u=>{const d=(u==null?void 0:u.output)||"";this.parent&&d&&!this.hasAltText()&&(this.altTextData={altText:d,decorative:!1})})}const o=i.getContext("2d");o.filter=this._uiManager.hcmFilter,o.drawImage(s,0,0,s.width,s.height,0,0,t,r)},Wf=function(t){if(t){if(c(this,or)){const s=this._uiManager.imageManager.getSvgUrl(c(this,gt));if(s)return s}const r=document.createElement("canvas");return{width:r.width,height:r.height}=c(this,mt),r.getContext("2d").drawImage(c(this,mt),0,0),r.toDataURL()}if(c(this,or)){const[r,i]=this.pageDimensions,s=Math.round(this.width*r*Fs.PDF_TO_CSS_UNITS),o=Math.round(this.height*i*Fs.PDF_TO_CSS_UNITS),a=new OffscreenCanvas(s,o);return a.getContext("2d").drawImage(c(this,mt),0,0,c(this,mt).width,c(this,mt).height,0,0,s,o),a.transferToImageBitmap()}return structuredClone(c(this,mt))},KC=function(){E(this,Ko,new ResizeObserver(t=>{const r=t[0].contentRect;r.width&&r.height&&A(this,he,qC).call(this,r.width,r.height)})),c(this,Ko).observe(this.div)},ee(uu,"_type","stamp"),ee(uu,"_editorType",ce.STAMP);let ly=uu;var Yo,Xl,Dr,Qo,wi,bi,Ei,gn,ps,Kl,Yl,Ot,Y,ms,wt,YC,hy,fy,py,Gf;const qn=class qn{constructor({uiManager:e,pageIndex:t,div:r,accessibilityManager:i,annotationLayer:s,drawLayer:o,textLayer:a,viewport:l,l10n:u}){_(this,wt);_(this,Yo);_(this,Xl,!1);_(this,Dr,null);_(this,Qo,null);_(this,wi,null);_(this,bi,null);_(this,Ei,null);_(this,gn,new Map);_(this,ps,!1);_(this,Kl,!1);_(this,Yl,!1);_(this,Ot,null);_(this,Y);const d=[...c(qn,ms).values()];if(!qn._initialized){qn._initialized=!0;for(const h of d)h.initialize(u,e)}e.registerEditorTypes(d),E(this,Y,e),this.pageIndex=t,this.div=r,E(this,Yo,i),E(this,Dr,s),this.viewport=l,E(this,Ot,a),this.drawLayer=o,c(this,Y).addLayer(this)}get isEmpty(){return c(this,gn).size===0}get isInvisible(){return this.isEmpty&&c(this,Y).getMode()===ce.NONE}updateToolbar(e){c(this,Y).updateToolbar(e)}updateMode(e=c(this,Y).getMode()){switch(A(this,wt,Gf).call(this),e){case ce.NONE:this.disableTextSelection(),this.togglePointerEvents(!1),this.toggleAnnotationLayerPointerEvents(!0),this.disableClick();return;case ce.INK:this.addInkEditorIfNeeded(!1),this.disableTextSelection(),this.togglePointerEvents(!0),this.disableClick();break;case ce.HIGHLIGHT:this.enableTextSelection(),this.togglePointerEvents(!1),this.disableClick();break;default:this.disableTextSelection(),this.togglePointerEvents(!0),this.enableClick()}this.toggleAnnotationLayerPointerEvents(!1);const{classList:t}=this.div;for(const r of c(qn,ms).values())t.toggle(`${r._type}Editing`,e===r._editorType);this.div.hidden=!1}hasTextLayer(e){var t;return e===((t=c(this,Ot))==null?void 0:t.div)}addInkEditorIfNeeded(e){if(c(this,Y).getMode()!==ce.INK)return;if(!e){for(const r of c(this,gn).values())if(r.isEmpty()){r.setInBackground();return}}this.createAndAddNewEditor({offsetX:0,offsetY:0},!1).setInBackground()}setEditingState(e){c(this,Y).setEditingState(e)}addCommands(e){c(this,Y).addCommands(e)}togglePointerEvents(e=!1){this.div.classList.toggle("disabled",!e)}toggleAnnotationLayerPointerEvents(e=!1){var t;(t=c(this,Dr))==null||t.div.classList.toggle("disabled",!e)}enable(){this.div.tabIndex=0,this.togglePointerEvents(!0);const e=new Set;for(const r of c(this,gn).values())r.enableEditing(),r.show(!0),r.annotationElementId&&(c(this,Y).removeChangedExistingAnnotation(r),e.add(r.annotationElementId));if(!c(this,Dr))return;const t=c(this,Dr).getEditableAnnotations();for(const r of t){if(r.hide(),c(this,Y).isDeletedAnnotationElement(r.data.id)||e.has(r.data.id))continue;const i=this.deserialize(r);i&&(this.addOrRebuild(i),i.enableEditing())}}disable(){var i;E(this,Yl,!0),this.div.tabIndex=-1,this.togglePointerEvents(!1);const e=new Map,t=new Map;for(const s of c(this,gn).values())if(s.disableEditing(),!!s.annotationElementId){if(s.serialize()!==null){e.set(s.annotationElementId,s);continue}else t.set(s.annotationElementId,s);(i=this.getEditableAnnotation(s.annotationElementId))==null||i.show(),s.remove()}if(c(this,Dr)){const s=c(this,Dr).getEditableAnnotations();for(const o of s){const{id:a}=o.data;if(c(this,Y).isDeletedAnnotationElement(a))continue;let l=t.get(a);if(l){l.resetAnnotationElement(o),l.show(!1),o.show();continue}l=e.get(a),l&&(c(this,Y).addChangedExistingAnnotation(l),l.renderAnnotationElement(o),l.show(!1)),o.show()}}A(this,wt,Gf).call(this),this.isEmpty&&(this.div.hidden=!0);const{classList:r}=this.div;for(const s of c(qn,ms).values())r.remove(`${s._type}Editing`);this.disableTextSelection(),this.toggleAnnotationLayerPointerEvents(!0),E(this,Yl,!1)}getEditableAnnotation(e){var t;return((t=c(this,Dr))==null?void 0:t.getEditableAnnotation(e))||null}setActiveEditor(e){c(this,Y).getActive()!==e&&c(this,Y).setActiveEditor(e)}enableTextSelection(){var e;this.div.tabIndex=-1,(e=c(this,Ot))!=null&&e.div&&!c(this,bi)&&(E(this,bi,A(this,wt,YC).bind(this)),c(this,Ot).div.addEventListener("pointerdown",c(this,bi)),c(this,Ot).div.classList.add("highlighting"))}disableTextSelection(){var e;this.div.tabIndex=0,(e=c(this,Ot))!=null&&e.div&&c(this,bi)&&(c(this,Ot).div.removeEventListener("pointerdown",c(this,bi)),E(this,bi,null),c(this,Ot).div.classList.remove("highlighting"))}enableClick(){c(this,wi)||(E(this,wi,this.pointerdown.bind(this)),E(this,Qo,this.pointerup.bind(this)),this.div.addEventListener("pointerdown",c(this,wi)),this.div.addEventListener("pointerup",c(this,Qo)))}disableClick(){c(this,wi)&&(this.div.removeEventListener("pointerdown",c(this,wi)),this.div.removeEventListener("pointerup",c(this,Qo)),E(this,wi,null),E(this,Qo,null))}attach(e){c(this,gn).set(e.id,e);const{annotationElementId:t}=e;t&&c(this,Y).isDeletedAnnotationElement(t)&&c(this,Y).removeDeletedAnnotationElement(e)}detach(e){var t;c(this,gn).delete(e.id),(t=c(this,Yo))==null||t.removePointerInTextLayer(e.contentDiv),!c(this,Yl)&&e.annotationElementId&&c(this,Y).addDeletedAnnotationElement(e)}remove(e){this.detach(e),c(this,Y).removeEditor(e),e.div.remove(),e.isAttachedToDOM=!1,c(this,Kl)||this.addInkEditorIfNeeded(!1)}changeParent(e){var t;e.parent!==this&&(e.parent&&e.annotationElementId&&(c(this,Y).addDeletedAnnotationElement(e.annotationElementId),ge.deleteAnnotationElement(e),e.annotationElementId=null),this.attach(e),(t=e.parent)==null||t.detach(e),e.setParent(this),e.div&&e.isAttachedToDOM&&(e.div.remove(),this.div.append(e.div)))}add(e){if(!(e.parent===this&&e.isAttachedToDOM)){if(this.changeParent(e),c(this,Y).addEditor(e),this.attach(e),!e.isAttachedToDOM){const t=e.render();this.div.append(t),e.isAttachedToDOM=!0}e.fixAndSetPosition(),e.onceAdded(),c(this,Y).addToAnnotationStorage(e),e._reportTelemetry(e.telemetryInitialData)}}moveEditorInDOM(e){var r;if(!e.isAttachedToDOM)return;const{activeElement:t}=document;e.div.contains(t)&&!c(this,Ei)&&(e._focusEventsAllowed=!1,E(this,Ei,setTimeout(()=>{E(this,Ei,null),e.div.contains(document.activeElement)?e._focusEventsAllowed=!0:(e.div.addEventListener("focusin",()=>{e._focusEventsAllowed=!0},{once:!0}),t.focus())},0))),e._structTreeParentId=(r=c(this,Yo))==null?void 0:r.moveElementInDOM(this.div,e.div,e.contentDiv,!0)}addOrRebuild(e){e.needsToBeRebuilt()?(e.parent||(e.parent=this),e.rebuild(),e.show()):this.add(e)}addUndoableEditor(e){const t=()=>e._uiManager.rebuild(e),r=()=>{e.remove()};this.addCommands({cmd:t,undo:r,mustExec:!1})}getNextId(){return c(this,Y).getId()}canCreateNewEmptyEditor(){var e;return(e=c(this,wt,hy))==null?void 0:e.canCreateNewEmptyEditor()}pasteEditor(e,t){c(this,Y).updateToolbar(e),c(this,Y).updateMode(e);const{offsetX:r,offsetY:i}=A(this,wt,py).call(this),s=this.getNextId(),o=A(this,wt,fy).call(this,{parent:this,id:s,x:r,y:i,uiManager:c(this,Y),isCentered:!0,...t});o&&this.add(o)}deserialize(e){var t;return((t=c(qn,ms).get(e.annotationType??e.annotationEditorType))==null?void 0:t.deserialize(e,this,c(this,Y)))||null}createAndAddNewEditor(e,t,r={}){const i=this.getNextId(),s=A(this,wt,fy).call(this,{parent:this,id:i,x:e.offsetX,y:e.offsetY,uiManager:c(this,Y),isCentered:t,...r});return s&&this.add(s),s}addNewEditor(){this.createAndAddNewEditor(A(this,wt,py).call(this),!0)}setSelected(e){c(this,Y).setSelected(e)}toggleSelected(e){c(this,Y).toggleSelected(e)}isSelected(e){return c(this,Y).isSelected(e)}unselect(e){c(this,Y).unselect(e)}pointerup(e){const{isMac:t}=Jt.platform;if(!(e.button!==0||e.ctrlKey&&t)&&e.target===this.div&&c(this,ps)){if(E(this,ps,!1),!c(this,Xl)){E(this,Xl,!0);return}if(c(this,Y).getMode()===ce.STAMP){c(this,Y).unselectAll();return}this.createAndAddNewEditor(e,!1)}}pointerdown(e){if(c(this,Y).getMode()===ce.HIGHLIGHT&&this.enableTextSelection(),c(this,ps)){E(this,ps,!1);return}const{isMac:t}=Jt.platform;if(e.button!==0||e.ctrlKey&&t||e.target!==this.div)return;E(this,ps,!0);const r=c(this,Y).getActive();E(this,Xl,!r||r.isEmpty())}findNewParent(e,t,r){const i=c(this,Y).findParent(t,r);return i===null||i===this?!1:(i.changeParent(e),!0)}destroy(){var e,t;((e=c(this,Y).getActive())==null?void 0:e.parent)===this&&(c(this,Y).commitOrRemove(),c(this,Y).setActiveEditor(null)),c(this,Ei)&&(clearTimeout(c(this,Ei)),E(this,Ei,null));for(const r of c(this,gn).values())(t=c(this,Yo))==null||t.removePointerInTextLayer(r.contentDiv),r.setParent(null),r.isAttachedToDOM=!1,r.div.remove();this.div=null,c(this,gn).clear(),c(this,Y).removeLayer(this)}render({viewport:e}){this.viewport=e,ha(this.div,e);for(const t of c(this,Y).getEditors(this.pageIndex))this.add(t),t.rebuild();this.updateMode()}update({viewport:e}){c(this,Y).commitOrRemove(),A(this,wt,Gf).call(this);const t=this.viewport.rotation,r=e.rotation;if(this.viewport=e,ha(this.div,{rotation:r}),t!==r)for(const i of c(this,gn).values())i.rotate(r);this.addInkEditorIfNeeded(!1)}get pageDimensions(){const{pageWidth:e,pageHeight:t}=this.viewport.rawDims;return[e,t]}get scale(){return c(this,Y).viewParameters.realScale}};Yo=new WeakMap,Xl=new WeakMap,Dr=new WeakMap,Qo=new WeakMap,wi=new WeakMap,bi=new WeakMap,Ei=new WeakMap,gn=new WeakMap,ps=new WeakMap,Kl=new WeakMap,Yl=new WeakMap,Ot=new WeakMap,Y=new WeakMap,ms=new WeakMap,wt=new WeakSet,YC=function(e){if(c(this,Y).unselectAll(),e.target===c(this,Ot).div){const{isMac:t}=Jt.platform;if(e.button!==0||e.ctrlKey&&t)return;c(this,Y).showAllEditors("highlight",!0,!0),c(this,Ot).div.classList.add("free"),Fp.startHighlighting(this,c(this,Y).direction==="ltr",e),c(this,Ot).div.addEventListener("pointerup",()=>{c(this,Ot).div.classList.remove("free")},{once:!0}),e.preventDefault()}},hy=function(){return c(qn,ms).get(c(this,Y).getMode())},fy=function(e){const t=c(this,wt,hy);return t?new t.prototype.constructor(e):null},py=function(){const{x:e,y:t,width:r,height:i}=this.div.getBoundingClientRect(),s=Math.max(0,e),o=Math.max(0,t),a=Math.min(window.innerWidth,e+r),l=Math.min(window.innerHeight,t+i),u=(s+a)/2-e,d=(o+l)/2-t,[h,f]=this.viewport.rotation%180===0?[u,d]:[d,u];return{offsetX:h,offsetY:f}},Gf=function(){E(this,Kl,!0);for(const e of c(this,gn).values())e.isEmpty()&&e.remove();E(this,Kl,!1)},ee(qn,"_initialized",!1),_(qn,ms,new Map([Vv,ty,ly,Fp].map(e=>[e._editorType,e])));let dy=qn;var Fr,dh,et,gs,hh,gy,va,vy,QC;const ut=class ut{constructor({pageIndex:e}){_(this,va);_(this,Fr,null);_(this,dh,0);_(this,et,new Map);_(this,gs,new Map);this.pageIndex=e}setParent(e){if(!c(this,Fr)){E(this,Fr,e);return}if(c(this,Fr)!==e){if(c(this,et).size>0)for(const t of c(this,et).values())t.remove(),e.append(t);E(this,Fr,e)}}static get _svgFactory(){return ue(this,"_svgFactory",new I1)}highlight(e,t,r,i=!1){const s=ln(this,dh)._++,o=A(this,va,vy).call(this,e.box);o.classList.add("highlight"),e.free&&o.classList.add("free");const a=ut._svgFactory.createElement("defs");o.append(a);const l=ut._svgFactory.createElement("path");a.append(l);const u=`path_p${this.pageIndex}_${s}`;l.setAttribute("id",u),l.setAttribute("d",e.toSVGPath()),i&&c(this,gs).set(s,l);const d=A(this,va,QC).call(this,a,u),h=ut._svgFactory.createElement("use");return o.append(h),o.setAttribute("fill",t),o.setAttribute("fill-opacity",r),h.setAttribute("href",`#${u}`),c(this,et).set(s,o),{id:s,clipPathId:`url(#${d})`}}highlightOutline(e){const t=ln(this,dh)._++,r=A(this,va,vy).call(this,e.box);r.classList.add("highlightOutline");const i=ut._svgFactory.createElement("defs");r.append(i);const s=ut._svgFactory.createElement("path");i.append(s);const o=`path_p${this.pageIndex}_${t}`;s.setAttribute("id",o),s.setAttribute("d",e.toSVGPath()),s.setAttribute("vector-effect","non-scaling-stroke");let a;if(e.free){r.classList.add("free");const d=ut._svgFactory.createElement("mask");i.append(d),a=`mask_p${this.pageIndex}_${t}`,d.setAttribute("id",a),d.setAttribute("maskUnits","objectBoundingBox");const h=ut._svgFactory.createElement("rect");d.append(h),h.setAttribute("width","1"),h.setAttribute("height","1"),h.setAttribute("fill","white");const f=ut._svgFactory.createElement("use");d.append(f),f.setAttribute("href",`#${o}`),f.setAttribute("stroke","none"),f.setAttribute("fill","black"),f.setAttribute("fill-rule","nonzero"),f.classList.add("mask")}const l=ut._svgFactory.createElement("use");r.append(l),l.setAttribute("href",`#${o}`),a&&l.setAttribute("mask",`url(#${a})`);const u=l.cloneNode();return r.append(u),l.classList.add("mainOutline"),u.classList.add("secondaryOutline"),c(this,et).set(t,r),t}finalizeLine(e,t){const r=c(this,gs).get(e);c(this,gs).delete(e),this.updateBox(e,t.box),r.setAttribute("d",t.toSVGPath())}updateLine(e,t){c(this,et).get(e).firstChild.firstChild.setAttribute("d",t.toSVGPath())}removeFreeHighlight(e){this.remove(e),c(this,gs).delete(e)}updatePath(e,t){c(this,gs).get(e).setAttribute("d",t.toSVGPath())}updateBox(e,t){var r;A(r=ut,hh,gy).call(r,c(this,et).get(e),t)}show(e,t){c(this,et).get(e).classList.toggle("hidden",!t)}rotate(e,t){c(this,et).get(e).setAttribute("data-main-rotation",t)}changeColor(e,t){c(this,et).get(e).setAttribute("fill",t)}changeOpacity(e,t){c(this,et).get(e).setAttribute("fill-opacity",t)}addClass(e,t){c(this,et).get(e).classList.add(t)}removeClass(e,t){c(this,et).get(e).classList.remove(t)}remove(e){c(this,Fr)!==null&&(c(this,et).get(e).remove(),c(this,et).delete(e))}destroy(){E(this,Fr,null);for(const e of c(this,et).values())e.remove();c(this,et).clear()}};Fr=new WeakMap,dh=new WeakMap,et=new WeakMap,gs=new WeakMap,hh=new WeakSet,gy=function(e,{x:t=0,y:r=0,width:i=1,height:s=1}={}){const{style:o}=e;o.top=`${100*r}%`,o.left=`${100*t}%`,o.width=`${100*i}%`,o.height=`${100*s}%`},va=new WeakSet,vy=function(e){var r;const t=ut._svgFactory.create(1,1,!0);return c(this,Fr).append(t),t.setAttribute("aria-hidden",!0),A(r=ut,hh,gy).call(r,t,e),t},QC=function(e,t){const r=ut._svgFactory.createElement("clipPath");e.append(r);const i=`clip_${t}`;r.setAttribute("id",i),r.setAttribute("clipPathUnits","objectBoundingBox");const s=ut._svgFactory.createElement("use");return r.append(s),s.setAttribute("href",`#${t}`),s.classList.add("clip"),i},_(ut,hh);let my=ut;var a3=Q.AbortException,l3=Q.AnnotationEditorLayer,c3=Q.AnnotationEditorParamsType,u3=Q.AnnotationEditorType,d3=Q.AnnotationEditorUIManager,ZC=Q.AnnotationLayer,JC=Q.AnnotationMode,h3=Q.CMapCompressionType,f3=Q.ColorPicker,p3=Q.DOMSVGFactory,m3=Q.DrawLayer,g3=Q.FeatureTest,Um=Q.GlobalWorkerOptions,v3=Q.ImageKind,y3=Q.InvalidPDFException,x3=Q.MissingPDFException,w3=Q.OPS,b3=Q.Outliner,E3=Q.PDFDataRangeTransport,A3=Q.PDFDateString,S3=Q.PDFWorker,_3=Q.PasswordResponses,C3=Q.PermissionFlag,T3=Q.PixelsPerInch,k3=Q.RenderingCancelledException,e2=Q.TextLayer,P3=Q.UnexpectedResponseException,R3=Q.Util,L3=Q.VerbosityLevel,M3=Q.XfaLayer,N3=Q.build,D3=Q.createValidAbsoluteUrl,F3=Q.fetchData,t2=Q.getDocument,I3=Q.getFilenameFromUrl,O3=Q.getPdfFilenameFromUrl,j3=Q.getXfaPageViewport,$3=Q.isDataScheme,H3=Q.isPdfFile,B3=Q.noContextMenu,z3=Q.normalizeUnicode,U3=Q.renderTextLayer,V3=Q.setLayerDimensions,W3=Q.shadow,G3=Q.updateTextLayer,q3=Q.version;const X3=Object.freeze(Object.defineProperty({__proto__:null,AbortException:a3,AnnotationEditorLayer:l3,AnnotationEditorParamsType:c3,AnnotationEditorType:u3,AnnotationEditorUIManager:d3,AnnotationLayer:ZC,AnnotationMode:JC,CMapCompressionType:h3,ColorPicker:f3,DOMSVGFactory:p3,DrawLayer:m3,FeatureTest:g3,GlobalWorkerOptions:Um,ImageKind:v3,InvalidPDFException:y3,MissingPDFException:x3,OPS:w3,Outliner:b3,PDFDataRangeTransport:E3,PDFDateString:A3,PDFWorker:S3,PasswordResponses:_3,PermissionFlag:C3,PixelsPerInch:T3,RenderingCancelledException:k3,TextLayer:e2,UnexpectedResponseException:P3,Util:R3,VerbosityLevel:L3,XfaLayer:M3,build:N3,createValidAbsoluteUrl:D3,fetchData:F3,getDocument:t2,getFilenameFromUrl:I3,getPdfFilenameFromUrl:O3,getXfaPageViewport:j3,isDataScheme:$3,isPdfFile:H3,noContextMenu:B3,normalizeUnicode:z3,renderTextLayer:U3,setLayerDimensions:V3,shadow:W3,updateTextLayer:G3,version:q3},Symbol.toStringTag,{value:"Module"}));var st=function(n,e,t){if(t||arguments.length===2)for(var r=0,i=e.length,s;r<i;r++)(s||!(r in e))&&(s||(s=Array.prototype.slice.call(e,0,r)),s[r]=e[r]);return n.concat(s||Array.prototype.slice.call(e))},K3=["onCopy","onCut","onPaste"],Y3=["onCompositionEnd","onCompositionStart","onCompositionUpdate"],Q3=["onFocus","onBlur"],Z3=["onInput","onInvalid","onReset","onSubmit"],J3=["onLoad","onError"],eI=["onKeyDown","onKeyPress","onKeyUp"],tI=["onAbort","onCanPlay","onCanPlayThrough","onDurationChange","onEmptied","onEncrypted","onEnded","onError","onLoadedData","onLoadedMetadata","onLoadStart","onPause","onPlay","onPlaying","onProgress","onRateChange","onSeeked","onSeeking","onStalled","onSuspend","onTimeUpdate","onVolumeChange","onWaiting"],nI=["onClick","onContextMenu","onDoubleClick","onMouseDown","onMouseEnter","onMouseLeave","onMouseMove","onMouseOut","onMouseOver","onMouseUp"],rI=["onDrag","onDragEnd","onDragEnter","onDragExit","onDragLeave","onDragOver","onDragStart","onDrop"],iI=["onSelect"],sI=["onTouchCancel","onTouchEnd","onTouchMove","onTouchStart"],oI=["onPointerDown","onPointerMove","onPointerUp","onPointerCancel","onGotPointerCapture","onLostPointerCapture","onPointerEnter","onPointerLeave","onPointerOver","onPointerOut"],aI=["onScroll"],lI=["onWheel"],cI=["onAnimationStart","onAnimationEnd","onAnimationIteration"],uI=["onTransitionEnd"],dI=["onToggle"],hI=["onChange"],fI=st(st(st(st(st(st(st(st(st(st(st(st(st(st(st(st(st(st([],K3,!0),Y3,!0),Q3,!0),Z3,!0),J3,!0),eI,!0),tI,!0),nI,!0),rI,!0),iI,!0),sI,!0),oI,!0),aI,!0),lI,!0),cI,!0),uI,!0),hI,!0),dI,!0);function n2(n,e){var t={};return fI.forEach(function(r){var i=n[r];i&&(e?t[r]=function(s){return i(s,e(r))}:t[r]=i)}),t}function Lh(n){var e=!1,t=new Promise(function(r,i){n.then(function(s){return!e&&r(s)}).catch(function(s){return!e&&i(s)})});return{promise:t,cancel:function(){e=!0}}}var pI="Invariant failed";function Ee(n,e){if(!n)throw new Error(pI)}var mI=function(){},gI=mI;const Pt=Sb(gI);var fb=Object.prototype.hasOwnProperty;function pb(n,e,t){for(t of n.keys())if(nl(t,e))return t}function nl(n,e){var t,r,i;if(n===e)return!0;if(n&&e&&(t=n.constructor)===e.constructor){if(t===Date)return n.getTime()===e.getTime();if(t===RegExp)return n.toString()===e.toString();if(t===Array){if((r=n.length)===e.length)for(;r--&&nl(n[r],e[r]););return r===-1}if(t===Set){if(n.size!==e.size)return!1;for(r of n)if(i=r,i&&typeof i=="object"&&(i=pb(e,i),!i)||!e.has(i))return!1;return!0}if(t===Map){if(n.size!==e.size)return!1;for(r of n)if(i=r[0],i&&typeof i=="object"&&(i=pb(e,i),!i)||!nl(r[1],e.get(i)))return!1;return!0}if(t===ArrayBuffer)n=new Uint8Array(n),e=new Uint8Array(e);else if(t===DataView){if((r=n.byteLength)===e.byteLength)for(;r--&&n.getInt8(r)===e.getInt8(r););return r===-1}if(ArrayBuffer.isView(n)){if((r=n.byteLength)===e.byteLength)for(;r--&&n[r]===e[r];);return r===-1}if(!t||typeof n=="object"){r=0;for(t in n)if(fb.call(n,t)&&++r&&!fb.call(e,t)||!(t in e)||!nl(n[t],e[t]))return!1;return Object.keys(e).length===r}}return n!==n&&e!==e}const r2=S.createContext(null);function rl({children:n,type:e}){return w.jsx("div",{className:`react-pdf__message react-pdf__message--${e}`,children:n})}const vI="noopener noreferrer nofollow";class yI{constructor(){this.externalLinkEnabled=!0,this.externalLinkRel=void 0,this.externalLinkTarget=void 0,this.isInPresentationMode=!1,this.pdfDocument=void 0,this.pdfViewer=void 0}setDocument(e){this.pdfDocument=e}setViewer(e){this.pdfViewer=e}setExternalLinkRel(e){this.externalLinkRel=e}setExternalLinkTarget(e){this.externalLinkTarget=e}setHistory(){}get pagesCount(){return this.pdfDocument?this.pdfDocument.numPages:0}get page(){return Ee(this.pdfViewer),this.pdfViewer.currentPageNumber||0}set page(e){Ee(this.pdfViewer),this.pdfViewer.currentPageNumber=e}get rotation(){return 0}set rotation(e){}goToDestination(e){return new Promise(t=>{Ee(this.pdfDocument),Ee(e),typeof e=="string"?this.pdfDocument.getDestination(e).then(t):Array.isArray(e)?t(e):e.then(t)}).then(t=>{Ee(Array.isArray(t));const r=t[0];new Promise(i=>{Ee(this.pdfDocument),r instanceof Object?this.pdfDocument.getPageIndex(r).then(s=>{i(s)}).catch(()=>{Ee(!1)}):typeof r=="number"?i(r):Ee(!1)}).then(i=>{const s=i+1;Ee(this.pdfViewer),Ee(s>=1&&s<=this.pagesCount),this.pdfViewer.scrollPageIntoView({dest:t,pageIndex:i,pageNumber:s})})})}navigateTo(e){this.goToDestination(e)}goToPage(e){const t=e-1;Ee(this.pdfViewer),Ee(e>=1&&e<=this.pagesCount),this.pdfViewer.scrollPageIntoView({pageIndex:t,pageNumber:e})}addLinkAttributes(e,t,r){e.href=t,e.rel=this.externalLinkRel||vI,e.target=r?"_blank":this.externalLinkTarget||""}getDestinationHash(){return"#"}getAnchorUrl(){return"#"}setHash(){}executeNamedAction(){}cachePageRef(){}isPageVisible(){return!0}isPageCached(){return!0}executeSetOCGState(){}}const mb={NEED_PASSWORD:1,INCORRECT_PASSWORD:2},Vm=typeof document<"u",i2=Vm&&window.location.protocol==="file:";function xI(n){return typeof n<"u"}function Us(n){return xI(n)&&n!==null}function wI(n){return typeof n=="string"}function bI(n){return n instanceof ArrayBuffer}function EI(n){return Ee(Vm),n instanceof Blob}function yy(n){return wI(n)&&/^data:/.test(n)}function gb(n){Ee(yy(n));const[e="",t=""]=n.split(",");return e.split(";").indexOf("base64")!==-1?atob(t):unescape(t)}function AI(){return Vm&&window.devicePixelRatio||1}const s2="On Chromium based browsers, you can use --allow-file-access-from-files flag for debugging purposes.";function vb(){Pt(!i2,`Loading PDF as base64 strings/URLs may not work on protocols other than HTTP/HTTPS. ${s2}`)}function SI(){Pt(!i2,`Loading PDF.js worker may not work on protocols other than HTTP/HTTPS. ${s2}`)}function ma(n){n&&n.cancel&&n.cancel()}function xy(n,e){return Object.defineProperty(n,"width",{get(){return this.view[2]*e},configurable:!0}),Object.defineProperty(n,"height",{get(){return this.view[3]*e},configurable:!0}),Object.defineProperty(n,"originalWidth",{get(){return this.view[2]},configurable:!0}),Object.defineProperty(n,"originalHeight",{get(){return this.view[3]},configurable:!0}),n}function _I(n){return n.name==="RenderingCancelledException"}function CI(n){return new Promise((e,t)=>{const r=new FileReader;r.onload=()=>{if(!r.result)return t(new Error("Error while reading a file."));e(r.result)},r.onerror=i=>{if(!i.target)return t(new Error("Error while reading a file."));const{error:s}=i.target;if(!s)return t(new Error("Error while reading a file."));switch(s.code){case s.NOT_FOUND_ERR:return t(new Error("Error while reading a file: File not found."));case s.SECURITY_ERR:return t(new Error("Error while reading a file: Security error."));case s.ABORT_ERR:return t(new Error("Error while reading a file: Aborted."));default:return t(new Error("Error while reading a file."))}},r.readAsArrayBuffer(n)})}function TI(n,e){switch(e.type){case"RESOLVE":return{value:e.value,error:void 0};case"REJECT":return{value:!1,error:e.error};case"RESET":return{value:void 0,error:void 0};default:return n}}function sc(){return S.useReducer(TI,{value:void 0,error:void 0})}var kI=function(n,e,t,r){function i(s){return s instanceof t?s:new t(function(o){o(s)})}return new(t||(t=Promise))(function(s,o){function a(d){try{u(r.next(d))}catch(h){o(h)}}function l(d){try{u(r.throw(d))}catch(h){o(h)}}function u(d){d.done?s(d.value):i(d.value).then(a,l)}u((r=r.apply(n,e||[])).next())})},yb=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]]);return t};const{PDFDataRangeTransport:PI}=X3,RI=(n,e)=>{switch(e){case mb.NEED_PASSWORD:{const t=prompt("Enter the password to open this PDF file.");n(t);break}case mb.INCORRECT_PASSWORD:{const t=prompt("Invalid password. Please try again.");n(t);break}}};function xb(n){return typeof n=="object"&&n!==null&&("data"in n||"range"in n||"url"in n)}const LI=S.forwardRef(function(e,t){var{children:r,className:i,error:s="Failed to load PDF file.",externalLinkRel:o,externalLinkTarget:a,file:l,inputRef:u,imageResourcesPath:d,loading:h="Loading PDF",noData:f="No PDF file specified.",onItemClick:p,onLoadError:m,onLoadProgress:v,onLoadSuccess:b,onPassword:g=RI,onSourceError:y,onSourceSuccess:x,options:C,renderMode:T,rotate:k}=e,P=yb(e,["children","className","error","externalLinkRel","externalLinkTarget","file","inputRef","imageResourcesPath","loading","noData","onItemClick","onLoadError","onLoadProgress","onLoadSuccess","onPassword","onSourceError","onSourceSuccess","options","renderMode","rotate"]);const[R,F]=sc(),{value:D,error:N}=R,[q,U]=sc(),{value:z,error:j}=q,K=S.useRef(new yI),I=S.useRef([]),L=S.useRef(void 0),$=S.useRef(void 0);l&&l!==L.current&&xb(l)&&(Pt(!nl(l,L.current),`File prop passed to <Document /> changed, but it's equal to previous one. This might result in unnecessary reloads. Consider memoizing the value passed to "file" prop.`),L.current=l),C&&C!==$.current&&(Pt(!nl(C,$.current),`Options prop passed to <Document /> changed, but it's equal to previous one. This might result in unnecessary reloads. Consider memoizing the value passed to "options" prop.`),$.current=C);const G=S.useRef({scrollPageIntoView:Se=>{const{dest:Nt,pageNumber:Wn,pageIndex:Hi=Wn-1}=Se;if(p){p({dest:Nt,pageIndex:Hi,pageNumber:Wn});return}const Mh=I.current[Hi];if(Mh){Mh.scrollIntoView();return}Pt(!1,`An internal link leading to page ${Wn} was clicked, but neither <Document> was provided with onItemClick nor it was able to find the page within itself. Either provide onItemClick to <Document> and handle navigating by yourself or ensure that all pages are rendered within <Document>.`)}});S.useImperativeHandle(t,()=>({linkService:K,pages:I,viewer:G}),[]);function ne(){x&&x()}function J(){N&&(Pt(!1,N.toString()),y&&y(N))}function fe(){F({type:"RESET"})}S.useEffect(fe,[l,F]);const Pe=S.useCallback(()=>kI(this,void 0,void 0,function*(){if(!l)return null;if(typeof l=="string")return yy(l)?{data:gb(l)}:(vb(),{url:l});if(l instanceof PI)return{range:l};if(bI(l))return{data:l};if(Vm&&EI(l))return{data:yield CI(l)};if(Ee(typeof l=="object"),Ee(xb(l)),"url"in l&&typeof l.url=="string"){if(yy(l.url)){const{url:Se}=l,Nt=yb(l,["url"]),Wn=gb(Se);return Object.assign({data:Wn},Nt)}vb()}return l}),[l]);S.useEffect(()=>{const Se=Lh(Pe());return Se.promise.then(Nt=>{F({type:"RESOLVE",value:Nt})}).catch(Nt=>{F({type:"REJECT",error:Nt})}),()=>{ma(Se)}},[Pe,F]),S.useEffect(()=>{if(!(typeof D>"u")){if(D===!1){J();return}ne()}},[D]);function Mt(){z&&(b&&b(z),I.current=new Array(z.numPages),K.current.setDocument(z))}function $e(){j&&(Pt(!1,j.toString()),m&&m(j))}function ae(){U({type:"RESET"})}S.useEffect(ae,[U,D]);function Aa(){if(!D)return;const Se=Object.assign(Object.assign({},D),C),Nt=t2(Se);v&&(Nt.onProgress=v),g&&(Nt.onPassword=g);const Wn=Nt;return Wn.promise.then(Hi=>{U({type:"RESOLVE",value:Hi})}).catch(Hi=>{Wn.destroyed||U({type:"REJECT",error:Hi})}),()=>{Wn.destroy()}}S.useEffect(Aa,[C,U,D]),S.useEffect(()=>{if(!(typeof z>"u")){if(z===!1){$e();return}Mt()}},[z]);function zs(){K.current.setViewer(G.current),K.current.setExternalLinkRel(o),K.current.setExternalLinkTarget(a)}S.useEffect(zs,[o,a]);function He(Se,Nt){I.current[Se]=Nt}function vc(Se){delete I.current[Se]}const yc=S.useMemo(()=>({imageResourcesPath:d,linkService:K.current,onItemClick:p,pdf:z,registerPage:He,renderMode:T,rotate:k,unregisterPage:vc}),[d,p,z,T,k]),an=S.useMemo(()=>n2(P,()=>z),[P,z]);function mr(){return w.jsx(r2.Provider,{value:yc,children:r})}function $i(){return l?z==null?w.jsx(rl,{type:"loading",children:typeof h=="function"?h():h}):z===!1?w.jsx(rl,{type:"error",children:typeof s=="function"?s():s}):mr():w.jsx(rl,{type:"no-data",children:typeof f=="function"?f():f})}return w.jsx("div",Object.assign({className:wm("react-pdf__Document",i),ref:u,style:{"--scale-factor":"1"}},an,{children:$i()}))});function o2(){return S.useContext(r2)}function a2(){for(var n=[],e=0;e<arguments.length;e++)n[e]=arguments[e];var t=n.filter(Boolean);if(t.length<=1){var r=t[0];return r||null}return function(s){t.forEach(function(o){typeof o=="function"?o(s):o&&(o.current=s)})}}const l2=S.createContext(null),c2={Document:null,DocumentFragment:null,Part:"group",Sect:"group",Div:"group",Aside:"note",NonStruct:"none",P:null,H:"heading",Title:null,FENote:"note",Sub:"group",Lbl:null,Span:null,Em:null,Strong:null,Link:"link",Annot:"note",Form:"form",Ruby:null,RB:null,RT:null,RP:null,Warichu:null,WT:null,WP:null,L:"list",LI:"listitem",LBody:null,Table:"table",TR:"row",TH:"columnheader",TD:"cell",THead:"columnheader",TBody:null,TFoot:null,Caption:null,Figure:"figure",Formula:null,Artifact:null},MI=/^H(\d+)$/;function NI(n){return n in c2}function Wm(n){return"children"in n}function u2(n){return Wm(n)?n.children.length===1&&0 in n.children&&"id"in n.children[0]:!1}function DI(n){const e={};if(Wm(n)){const{role:t}=n,r=t.match(MI);if(r)e.role="heading",e["aria-level"]=Number(r[1]);else if(NI(t)){const i=c2[t];i&&(e.role=i)}}return e}function d2(n){const e={};if(Wm(n)){if(n.alt!==void 0&&(e["aria-label"]=n.alt),n.lang!==void 0&&(e.lang=n.lang),u2(n)){const[t]=n.children;if(t){const r=d2(t);return Object.assign(Object.assign({},e),r)}}}else"id"in n&&(e["aria-owns"]=n.id);return e}function FI(n){return n?Object.assign(Object.assign({},DI(n)),d2(n)):null}function h2({className:n,node:e}){const t=S.useMemo(()=>FI(e),[e]),r=S.useMemo(()=>!Wm(e)||u2(e)?null:e.children.map((i,s)=>w.jsx(h2,{node:i},s)),[e]);return w.jsx("span",Object.assign({className:n},t,{children:r}))}function Gm(){return S.useContext(l2)}function II(){const n=Gm();Ee(n);const{onGetStructTreeError:e,onGetStructTreeSuccess:t}=n,[r,i]=sc(),{value:s,error:o}=r,{customTextRenderer:a,page:l}=n;function u(){s&&t&&t(s)}function d(){o&&(Pt(!1,o.toString()),e&&e(o))}function h(){i({type:"RESET"})}S.useEffect(h,[i,l]);function f(){if(a||!l)return;const p=Lh(l.getStructTree()),m=p;return p.promise.then(v=>{i({type:"RESOLVE",value:v})}).catch(v=>{i({type:"REJECT",error:v})}),()=>ma(m)}return S.useEffect(f,[a,l,i]),S.useEffect(()=>{if(s!==void 0){if(s===!1){d();return}u()}},[s]),s?w.jsx(h2,{className:"react-pdf__Page__structTree structTree",node:s}):null}const wb=JC;function OI(n){const e=Gm();Ee(e);const t=Object.assign(Object.assign({},e),n),{_className:r,canvasBackground:i,devicePixelRatio:s=AI(),onRenderError:o,onRenderSuccess:a,page:l,renderForms:u,renderTextLayer:d,rotate:h,scale:f}=t,{canvasRef:p}=n;Ee(l);const m=S.useRef(null);function v(){l&&a&&a(xy(l,f))}function b(T){_I(T)||(Pt(!1,T.toString()),o&&o(T))}const g=S.useMemo(()=>l.getViewport({scale:f*s,rotation:h}),[s,l,h,f]),y=S.useMemo(()=>l.getViewport({scale:f,rotation:h}),[l,h,f]);function x(){if(!l)return;l.cleanup();const{current:T}=m;if(!T)return;T.width=g.width,T.height=g.height,T.style.width=`${Math.floor(y.width)}px`,T.style.height=`${Math.floor(y.height)}px`,T.style.visibility="hidden";const k={annotationMode:u?wb.ENABLE_FORMS:wb.ENABLE,canvasContext:T.getContext("2d",{alpha:!1}),viewport:g};i&&(k.background=i);const P=l.render(k),R=P;return P.promise.then(()=>{T.style.visibility="",v()}).catch(b),()=>ma(R)}S.useEffect(x,[i,m,s,l,u,g,y]);const C=S.useCallback(()=>{const{current:T}=m;T&&(T.width=0,T.height=0)},[m]);return S.useEffect(()=>C,[C]),w.jsx("canvas",{className:`${r}__canvas`,dir:"ltr",ref:a2(p,m),style:{display:"block",userSelect:"none"},children:d?w.jsx(II,{}):null})}function jI(n){return"str"in n}function $I(){const n=Gm();Ee(n);const{customTextRenderer:e,onGetTextError:t,onGetTextSuccess:r,onRenderTextLayerError:i,onRenderTextLayerSuccess:s,page:o,pageIndex:a,pageNumber:l,rotate:u,scale:d}=n;Ee(o);const[h,f]=sc(),{value:p,error:m}=h,v=S.useRef(null),b=S.useRef(void 0);Pt(parseInt(window.getComputedStyle(document.body).getPropertyValue("--react-pdf-text-layer"),10)===1,"TextLayer styles not found. Read more: https://github.com/wojtekmaj/react-pdf#support-for-text-layer");function g(){p&&r&&r(p)}function y(){m&&(Pt(!1,m.toString()),t&&t(m))}function x(){f({type:"RESET"})}S.useEffect(x,[o,f]);function C(){if(!o)return;const N=Lh(o.getTextContent()),q=N;return N.promise.then(U=>{f({type:"RESOLVE",value:U})}).catch(U=>{f({type:"REJECT",error:U})}),()=>ma(q)}S.useEffect(C,[o,f]),S.useEffect(()=>{if(p!==void 0){if(p===!1){y();return}g()}},[p]);const T=S.useCallback(()=>{s&&s()},[s]),k=S.useCallback(N=>{Pt(!1,N.toString()),i&&i(N)},[i]);function P(){const N=b.current;N&&N.classList.add("active")}function R(){const N=b.current;N&&N.classList.remove("active")}const F=S.useMemo(()=>o.getViewport({scale:d,rotation:u}),[o,u,d]);function D(){if(!o||!p)return;const{current:N}=v;if(!N)return;N.innerHTML="";const q=o.streamTextContent({includeMarkedContent:!0}),U={container:N,textContentSource:q,viewport:F},z=new e2(U),j=z;return z.render().then(()=>{const K=document.createElement("div");K.className="endOfContent",N.append(K),b.current=K;const I=N.querySelectorAll('[role="presentation"]');if(e){let L=0;p.items.forEach(($,G)=>{if(!jI($))return;const ne=I[L];if(!ne)return;const J=e(Object.assign({pageIndex:a,pageNumber:l,itemIndex:G},$));ne.innerHTML=J,L+=$.str&&$.hasEOL?2:1})}T()}).catch(k),()=>ma(j)}return S.useLayoutEffect(D,[e,k,T,o,a,l,p,F]),w.jsx("div",{className:wm("react-pdf__Page__textContent","textLayer"),onMouseUp:R,onMouseDown:P,ref:v})}function HI(){const n=o2(),e=Gm();Ee(e);const t=Object.assign(Object.assign({},n),e),{imageResourcesPath:r,linkService:i,onGetAnnotationsError:s,onGetAnnotationsSuccess:o,onRenderAnnotationLayerError:a,onRenderAnnotationLayerSuccess:l,page:u,pdf:d,renderForms:h,rotate:f,scale:p=1}=t;Ee(d),Ee(u),Ee(i);const[m,v]=sc(),{value:b,error:g}=m,y=S.useRef(null);Pt(parseInt(window.getComputedStyle(document.body).getPropertyValue("--react-pdf-annotation-layer"),10)===1,"AnnotationLayer styles not found. Read more: https://github.com/wojtekmaj/react-pdf#support-for-annotations");function x(){b&&o&&o(b)}function C(){g&&(Pt(!1,g.toString()),s&&s(g))}function T(){v({type:"RESET"})}S.useEffect(T,[v,u]);function k(){if(!u)return;const N=Lh(u.getAnnotations()),q=N;return N.promise.then(U=>{v({type:"RESOLVE",value:U})}).catch(U=>{v({type:"REJECT",error:U})}),()=>{ma(q)}}S.useEffect(k,[v,u,h]),S.useEffect(()=>{if(b!==void 0){if(b===!1){C();return}x()}},[b]);function P(){l&&l()}function R(N){Pt(!1,`${N}`),a&&a(N)}const F=S.useMemo(()=>u.getViewport({scale:p,rotation:f}),[u,f,p]);function D(){if(!d||!u||!i||!b)return;const{current:N}=y;if(!N)return;const q=F.clone({dontFlip:!0}),U={accessibilityManager:null,annotationCanvasMap:null,annotationEditorUIManager:null,div:N,l10n:null,page:u,viewport:q},z={annotations:b,annotationStorage:d.annotationStorage,div:N,imageResourcesPath:r,linkService:i,page:u,renderForms:h,viewport:q};N.innerHTML="";try{new ZC(U).render(z),P()}catch(j){R(j)}return()=>{}}return S.useEffect(D,[b,r,i,u,h,F]),w.jsx("div",{className:wm("react-pdf__Page__annotations","annotationLayer"),ref:y})}var BI=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]]);return t};const bb=1;function zI(n){const e=o2(),t=Object.assign(Object.assign({},e),n),{_className:r="react-pdf__Page",_enableRegisterUnregisterPage:i=!0,canvasBackground:s,canvasRef:o,children:a,className:l,customRenderer:u,customTextRenderer:d,devicePixelRatio:h,error:f="Failed to load the page.",height:p,inputRef:m,loading:v="Loading page",noData:b="No page specified.",onGetAnnotationsError:g,onGetAnnotationsSuccess:y,onGetStructTreeError:x,onGetStructTreeSuccess:C,onGetTextError:T,onGetTextSuccess:k,onLoadError:P,onLoadSuccess:R,onRenderAnnotationLayerError:F,onRenderAnnotationLayerSuccess:D,onRenderError:N,onRenderSuccess:q,onRenderTextLayerError:U,onRenderTextLayerSuccess:z,pageIndex:j,pageNumber:K,pdf:I,registerPage:L,renderAnnotationLayer:$=!0,renderForms:G=!1,renderMode:ne="canvas",renderTextLayer:J=!0,rotate:fe,scale:Pe=bb,unregisterPage:Mt,width:$e}=t,ae=BI(t,["_className","_enableRegisterUnregisterPage","canvasBackground","canvasRef","children","className","customRenderer","customTextRenderer","devicePixelRatio","error","height","inputRef","loading","noData","onGetAnnotationsError","onGetAnnotationsSuccess","onGetStructTreeError","onGetStructTreeSuccess","onGetTextError","onGetTextSuccess","onLoadError","onLoadSuccess","onRenderAnnotationLayerError","onRenderAnnotationLayerSuccess","onRenderError","onRenderSuccess","onRenderTextLayerError","onRenderTextLayerSuccess","pageIndex","pageNumber","pdf","registerPage","renderAnnotationLayer","renderForms","renderMode","renderTextLayer","rotate","scale","unregisterPage","width"]),[Aa,zs]=sc(),{value:He,error:vc}=Aa,yc=S.useRef(null);Ee(I);const an=Us(K)?K-1:j??null,mr=K??(Us(j)?j+1:null),$i=fe??(He?He.rotate:null),Se=S.useMemo(()=>{if(!He)return null;let Sa=1;const qm=Pe??bb;if($e||p){const _a=He.getViewport({scale:1,rotation:$i});$e?Sa=$e/_a.width:p&&(Sa=p/_a.height)}return qm*Sa},[p,He,$i,Pe,$e]);function Nt(){return()=>{Us(an)&&i&&Mt&&Mt(an)}}S.useEffect(Nt,[i,I,an,Mt]);function Wn(){if(R){if(!He||!Se)return;R(xy(He,Se))}if(i&&L){if(!Us(an)||!yc.current)return;L(an,yc.current)}}function Hi(){vc&&(Pt(!1,vc.toString()),P&&P(vc))}function Mh(){zs({type:"RESET"})}S.useEffect(Mh,[zs,I,an]);function f2(){if(!I||!mr)return;const Sa=Lh(I.getPage(mr)),qm=Sa;return Sa.promise.then(_a=>{zs({type:"RESOLVE",value:_a})}).catch(_a=>{zs({type:"REJECT",error:_a})}),()=>ma(qm)}S.useEffect(f2,[zs,I,an,mr,L]),S.useEffect(()=>{if(He!==void 0){if(He===!1){Hi();return}Wn()}},[He,Se]);const p2=S.useMemo(()=>He&&Us(an)&&mr&&Us($i)&&Us(Se)?{_className:r,canvasBackground:s,customTextRenderer:d,devicePixelRatio:h,onGetAnnotationsError:g,onGetAnnotationsSuccess:y,onGetStructTreeError:x,onGetStructTreeSuccess:C,onGetTextError:T,onGetTextSuccess:k,onRenderAnnotationLayerError:F,onRenderAnnotationLayerSuccess:D,onRenderError:N,onRenderSuccess:q,onRenderTextLayerError:U,onRenderTextLayerSuccess:z,page:He,pageIndex:an,pageNumber:mr,renderForms:G,renderTextLayer:J,rotate:$i,scale:Se}:null,[r,s,d,h,g,y,x,C,T,k,F,D,N,q,U,z,He,an,mr,G,J,$i,Se]),m2=S.useMemo(()=>n2(ae,()=>He&&(Se?xy(He,Se):void 0)),[ae,He,Se]),Nh=`${an}@${Se}/${$i}`;function g2(){switch(ne){case"custom":return Ee(u),w.jsx(u,{},`${Nh}_custom`);case"none":return null;case"canvas":default:return w.jsx(OI,{canvasRef:o},`${Nh}_canvas`)}}function v2(){return J?w.jsx($I,{},`${Nh}_text`):null}function y2(){return $?w.jsx(HI,{},`${Nh}_annotations`):null}function x2(){return w.jsxs(l2.Provider,{value:p2,children:[g2(),v2(),y2(),a]})}function w2(){return mr?I===null||He===void 0||He===null?w.jsx(rl,{type:"loading",children:typeof v=="function"?v():v}):I===!1||He===!1?w.jsx(rl,{type:"error",children:typeof f=="function"?f():f}):x2():w.jsx(rl,{type:"no-data",children:typeof b=="function"?b():b})}return w.jsx("div",Object.assign({className:wm(r,l),"data-page-number":mr,ref:a2(m,yc),style:{"--scale-factor":`${Se}`,backgroundColor:s||"white",position:"relative",minWidth:"min-content",minHeight:"min-content"}},m2,{children:w2()}))}SI();Um.workerSrc="pdf.worker.mjs";Um.workerSrc=new URL("pdfjs-dist/build/pdf.worker.min.js",import.meta.url).toString();function UI(){const[n,e]=S.useState(""),[t,r]=S.useState(""),[i,s]=S.useState(null);S.useState(null);const o=async a=>{a.preventDefault();const l=new FormData;l.append("title",n),l.append("file",t),console.log(n,t);const u=await Le.post("/en/uploadpdf",l,{headers:{"Content-Type":"multipart/form-data"}});console.log(u),u.data.status=="ok"&&(alert("Uploaded Successfully!!!"),getPdf())};return w.jsxs("div",{className:"App",children:[w.jsxs("form",{className:"formStyle",onSubmit:o,children:[w.jsx("h4",{children:"Upload Pdf in React"}),w.jsx("br",{}),w.jsx("input",{type:"text",className:"form-control",placeholder:"Title",required:!0,onChange:a=>e(a.target.value)}),w.jsx("br",{}),w.jsx("input",{type:"file",class:"form-control",accept:"application/pdf",required:!0,onChange:a=>r(a.target.files[0])}),w.jsx("br",{}),w.jsx("button",{class:"btn btn-primary",type:"submit",children:"Submit"})]}),w.jsxs("div",{className:"uploaded",children:[w.jsx("h4",{children:"Uploaded PDF:"}),w.jsx("div",{className:"output-div",children:i==null?"":i.map(a=>w.jsxs("div",{className:"inner-div",children:[w.jsxs("h6",{children:["Title: ",a.title]}),w.jsx("button",{className:"btn btn-primary",onClick:()=>showPdf(a.pdf),children:"Show Pdf"})]}))})]})]})}function VI(n){const[e,t]=S.useState(),[r,i]=S.useState(1);function s({numPages:o}){t(o)}return w.jsxs("div",{className:"pdf-div",children:[w.jsxs("p",{children:["Page ",r," of ",e]}),w.jsx(LI,{file:n.pdfFile,onLoadSuccess:s,children:Array.apply(null,Array(e)).map((o,a)=>a+1).map(o=>w.jsx(zI,{pageNumber:o,renderTextLayer:!1,renderAnnotationLayer:!1}))})]})}const WI=()=>{const[n,e]=S.useState(null),[t,r]=S.useState(""),[i,s]=S.useState(0);S.useState(""),S.useState("");const[o,a]=S.useState(null),[l,u]=S.useState(null);Um.workerSrc=new URL("pdfjs-dist/build/pdf.worker.min.js",import.meta.url).toString(),S.useEffect(()=>{f()},[]);function d(m){const v=m.target.files[0];if(s(v.size/(1024*1024)),v){const b=new FileReader;b.onloadend=()=>{e(b.result.split(",")[1])},b.readAsDataURL(v);const g=m.target.value.replace("C:\\fakepath\\","");r(g)}else alert("No file selected")}const h=async m=>{m.preventDefault();try{await Le.post("/en/uploadpdf",{file:n,filename:t}),console.log("Successfully uploaded.")}catch(v){console.log("Error uploading details:",v),alert("File size too large")}},f=async()=>{try{console.log("hi");const m=await Le.get("/en/pdfid/66813196189877e17f54a9e0"),v=m.data;a(m.data)}catch(m){console.log("Failed to fetch PDF:",m)}},p=m=>{u(`http://localhost:5173/files/${m}`)};return w.jsxs("div",{children:[w.jsxs("form",{onSubmit:h,children:[w.jsx("input",{type:"file",onChange:d,accept:"application/pdf"}),w.jsx("button",{type:"submit",children:"Upload"})]}),w.jsx("br",{}),w.jsx("br",{}),w.jsx("button",{onClick:f,children:" show"}),w.jsx("br",{}),w.jsx("br",{}),w.jsx("div",{className:"output-div",children:o==null?"":o.map(m=>w.jsxs("div",{className:"inner-div",children:[w.jsxs("h6",{children:["Title: ",m.title]}),w.jsx("button",{className:"btn btn-primary",onClick:()=>p(m.pdf),children:"Show Pdf"})]}))}),w.jsx(VI,{pdfFile:l})]})};function GI(){const[n,e]=S.useState(!0);return w.jsx("div",{className:"App",children:w.jsx(HP,{children:w.jsxs(OP,{children:[w.jsx(Wr,{path:"/",element:w.jsx(GN,{})}),w.jsx(Wr,{path:"/main",element:w.jsx(WN,{isDoctor:n})}),w.jsx(Wr,{path:"/form",element:w.jsx(mM,{})}),w.jsx(Wr,{path:"/patient",element:w.jsx(rD,{isDoctor:n})}),w.jsx(Wr,{path:"/signin",element:w.jsx(iD,{setIsDoctor:e,isDoctor:n})}),w.jsx(Wr,{path:"/newSignin",element:w.jsx(sD,{})}),w.jsx(Wr,{path:"/upload",element:w.jsx(UI,{})}),w.jsx(Wr,{path:"/load",element:w.jsx(WI,{})})]})})})}zg.createRoot(document.getElementById("root")).render(w.jsx(Ie.StrictMode,{children:w.jsx(GI,{})}));
