var B5=Object.defineProperty;var dy=xt=>{throw TypeError(xt)};var U5=(xt,$,ht)=>$ in xt?B5(xt,$,{enumerable:!0,configurable:!0,writable:!0,value:ht}):xt[$]=ht;var Ur=(xt,$,ht)=>U5(xt,typeof $!="symbol"?$+"":$,ht),f9=(xt,$,ht)=>$.has(xt)||dy("Cannot "+ht);var Mt=(xt,$,ht)=>(f9(xt,$,"read from private field"),ht?ht.call(xt):$.get(xt)),Nn=(xt,$,ht)=>$.has(xt)?dy("Cannot add the same private member more than once"):$ instanceof WeakSet?$.add(xt):$.set(xt,ht),$n=(xt,$,ht,vt)=>(f9(xt,$,"write to private field"),vt?vt.call(xt,ht):$.set(xt,ht),ht),On=(xt,$,ht)=>(f9(xt,$,"access private method"),ht);var So=(xt,$,ht,vt)=>({set _(At){$n(xt,$,At,ht)},get _(){return Mt(xt,$,vt)}});function _mergeNamespaces(xt,$){for(var ht=0;ht<$.length;ht++){const vt=$[ht];if(typeof vt!="string"&&!Array.isArray(vt)){for(const At in vt)if(At!=="default"&&!(At in xt)){const St=Object.getOwnPropertyDescriptor(vt,At);St&&Object.defineProperty(xt,At,St.get?St:{enumerable:!0,get:()=>vt[At]})}}}return Object.freeze(Object.defineProperty(xt,Symbol.toStringTag,{value:"Module"}))}(function(){const $=document.createElement("link").relList;if($&&$.supports&&$.supports("modulepreload"))return;for(const At of document.querySelectorAll('link[rel="modulepreload"]'))vt(At);new MutationObserver(At=>{for(const St of At)if(St.type==="childList")for(const kt of St.addedNodes)kt.tagName==="LINK"&&kt.rel==="modulepreload"&&vt(kt)}).observe(document,{childList:!0,subtree:!0});function ht(At){const St={};return At.integrity&&(St.integrity=At.integrity),At.referrerPolicy&&(St.referrerPolicy=At.referrerPolicy),At.crossOrigin==="use-credentials"?St.credentials="include":At.crossOrigin==="anonymous"?St.credentials="omit":St.credentials="same-origin",St}function vt(At){if(At.ep)return;At.ep=!0;const St=ht(At);fetch(At.href,St)}})();function getDefaultExportFromCjs(xt){return xt&&xt.__esModule&&Object.prototype.hasOwnProperty.call(xt,"default")?xt.default:xt}function getAugmentedNamespace(xt){if(xt.__esModule)return xt;var $=xt.default;if(typeof $=="function"){var ht=function vt(){return this instanceof vt?Reflect.construct($,arguments,this.constructor):$.apply(this,arguments)};ht.prototype=$.prototype}else ht={};return Object.defineProperty(ht,"__esModule",{value:!0}),Object.keys(xt).forEach(function(vt){var At=Object.getOwnPropertyDescriptor(xt,vt);Object.defineProperty(ht,vt,At.get?At:{enumerable:!0,get:function(){return xt[vt]}})}),ht}var jsxRuntime={exports:{}},reactJsxRuntime_production_min={},react={exports:{}},react_production_min={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var l$3=Symbol.for("react.element"),n$5=Symbol.for("react.portal"),p$6=Symbol.for("react.fragment"),q$2=Symbol.for("react.strict_mode"),r$3=Symbol.for("react.profiler"),t$5=Symbol.for("react.provider"),u$8=Symbol.for("react.context"),v$2=Symbol.for("react.forward_ref"),w$2=Symbol.for("react.suspense"),x$1=Symbol.for("react.memo"),y$5=Symbol.for("react.lazy"),z$2=Symbol.iterator;function A$4(xt){return xt===null||typeof xt!="object"?null:(xt=z$2&&xt[z$2]||xt["@@iterator"],typeof xt=="function"?xt:null)}var B$2={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},C$2=Object.assign,D$5={};function E$2(xt,$,ht){this.props=xt,this.context=$,this.refs=D$5,this.updater=ht||B$2}E$2.prototype.isReactComponent={};E$2.prototype.setState=function(xt,$){if(typeof xt!="object"&&typeof xt!="function"&&xt!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,xt,$,"setState")};E$2.prototype.forceUpdate=function(xt){this.updater.enqueueForceUpdate(this,xt,"forceUpdate")};function F$4(){}F$4.prototype=E$2.prototype;function G$3(xt,$,ht){this.props=xt,this.context=$,this.refs=D$5,this.updater=ht||B$2}var H$3=G$3.prototype=new F$4;H$3.constructor=G$3;C$2(H$3,E$2.prototype);H$3.isPureReactComponent=!0;var I$5=Array.isArray,J$2=Object.prototype.hasOwnProperty,K$1={current:null},L$2={key:!0,ref:!0,__self:!0,__source:!0};function M$4(xt,$,ht){var vt,At={},St=null,kt=null;if($!=null)for(vt in $.ref!==void 0&&(kt=$.ref),$.key!==void 0&&(St=""+$.key),$)J$2.call($,vt)&&!L$2.hasOwnProperty(vt)&&(At[vt]=$[vt]);var Et=arguments.length-2;if(Et===1)At.children=ht;else if(1<Et){for(var Rt=Array(Et),wt=0;wt<Et;wt++)Rt[wt]=arguments[wt+2];At.children=Rt}if(xt&&xt.defaultProps)for(vt in Et=xt.defaultProps,Et)At[vt]===void 0&&(At[vt]=Et[vt]);return{$$typeof:l$3,type:xt,key:St,ref:kt,props:At,_owner:K$1.current}}function N$4(xt,$){return{$$typeof:l$3,type:xt.type,key:$,ref:xt.ref,props:xt.props,_owner:xt._owner}}function O$3(xt){return typeof xt=="object"&&xt!==null&&xt.$$typeof===l$3}function escape$1(xt){var $={"=":"=0",":":"=2"};return"$"+xt.replace(/[=:]/g,function(ht){return $[ht]})}var P$4=/\/+/g;function Q$1(xt,$){return typeof xt=="object"&&xt!==null&&xt.key!=null?escape$1(""+xt.key):$.toString(36)}function R$2(xt,$,ht,vt,At){var St=typeof xt;(St==="undefined"||St==="boolean")&&(xt=null);var kt=!1;if(xt===null)kt=!0;else switch(St){case"string":case"number":kt=!0;break;case"object":switch(xt.$$typeof){case l$3:case n$5:kt=!0}}if(kt)return kt=xt,At=At(kt),xt=vt===""?"."+Q$1(kt,0):vt,I$5(At)?(ht="",xt!=null&&(ht=xt.replace(P$4,"$&/")+"/"),R$2(At,$,ht,"",function(wt){return wt})):At!=null&&(O$3(At)&&(At=N$4(At,ht+(!At.key||kt&&kt.key===At.key?"":(""+At.key).replace(P$4,"$&/")+"/")+xt)),$.push(At)),1;if(kt=0,vt=vt===""?".":vt+":",I$5(xt))for(var Et=0;Et<xt.length;Et++){St=xt[Et];var Rt=vt+Q$1(St,Et);kt+=R$2(St,$,ht,Rt,At)}else if(Rt=A$4(xt),typeof Rt=="function")for(xt=Rt.call(xt),Et=0;!(St=xt.next()).done;)St=St.value,Rt=vt+Q$1(St,Et++),kt+=R$2(St,$,ht,Rt,At);else if(St==="object")throw $=String(xt),Error("Objects are not valid as a React child (found: "+($==="[object Object]"?"object with keys {"+Object.keys(xt).join(", ")+"}":$)+"). If you meant to render a collection of children, use an array instead.");return kt}function S$5(xt,$,ht){if(xt==null)return xt;var vt=[],At=0;return R$2(xt,vt,"","",function(St){return $.call(ht,St,At++)}),vt}function T$4(xt){if(xt._status===-1){var $=xt._result;$=$(),$.then(function(ht){(xt._status===0||xt._status===-1)&&(xt._status=1,xt._result=ht)},function(ht){(xt._status===0||xt._status===-1)&&(xt._status=2,xt._result=ht)}),xt._status===-1&&(xt._status=0,xt._result=$)}if(xt._status===1)return xt._result.default;throw xt._result}var U$3={current:null},V$2={transition:null},W$3={ReactCurrentDispatcher:U$3,ReactCurrentBatchConfig:V$2,ReactCurrentOwner:K$1};function X$1(){throw Error("act(...) is not supported in production builds of React.")}react_production_min.Children={map:S$5,forEach:function(xt,$,ht){S$5(xt,function(){$.apply(this,arguments)},ht)},count:function(xt){var $=0;return S$5(xt,function(){$++}),$},toArray:function(xt){return S$5(xt,function($){return $})||[]},only:function(xt){if(!O$3(xt))throw Error("React.Children.only expected to receive a single React element child.");return xt}};react_production_min.Component=E$2;react_production_min.Fragment=p$6;react_production_min.Profiler=r$3;react_production_min.PureComponent=G$3;react_production_min.StrictMode=q$2;react_production_min.Suspense=w$2;react_production_min.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=W$3;react_production_min.act=X$1;react_production_min.cloneElement=function(xt,$,ht){if(xt==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+xt+".");var vt=C$2({},xt.props),At=xt.key,St=xt.ref,kt=xt._owner;if($!=null){if($.ref!==void 0&&(St=$.ref,kt=K$1.current),$.key!==void 0&&(At=""+$.key),xt.type&&xt.type.defaultProps)var Et=xt.type.defaultProps;for(Rt in $)J$2.call($,Rt)&&!L$2.hasOwnProperty(Rt)&&(vt[Rt]=$[Rt]===void 0&&Et!==void 0?Et[Rt]:$[Rt])}var Rt=arguments.length-2;if(Rt===1)vt.children=ht;else if(1<Rt){Et=Array(Rt);for(var wt=0;wt<Rt;wt++)Et[wt]=arguments[wt+2];vt.children=Et}return{$$typeof:l$3,type:xt.type,key:At,ref:St,props:vt,_owner:kt}};react_production_min.createContext=function(xt){return xt={$$typeof:u$8,_currentValue:xt,_currentValue2:xt,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},xt.Provider={$$typeof:t$5,_context:xt},xt.Consumer=xt};react_production_min.createElement=M$4;react_production_min.createFactory=function(xt){var $=M$4.bind(null,xt);return $.type=xt,$};react_production_min.createRef=function(){return{current:null}};react_production_min.forwardRef=function(xt){return{$$typeof:v$2,render:xt}};react_production_min.isValidElement=O$3;react_production_min.lazy=function(xt){return{$$typeof:y$5,_payload:{_status:-1,_result:xt},_init:T$4}};react_production_min.memo=function(xt,$){return{$$typeof:x$1,type:xt,compare:$===void 0?null:$}};react_production_min.startTransition=function(xt){var $=V$2.transition;V$2.transition={};try{xt()}finally{V$2.transition=$}};react_production_min.unstable_act=X$1;react_production_min.useCallback=function(xt,$){return U$3.current.useCallback(xt,$)};react_production_min.useContext=function(xt){return U$3.current.useContext(xt)};react_production_min.useDebugValue=function(){};react_production_min.useDeferredValue=function(xt){return U$3.current.useDeferredValue(xt)};react_production_min.useEffect=function(xt,$){return U$3.current.useEffect(xt,$)};react_production_min.useId=function(){return U$3.current.useId()};react_production_min.useImperativeHandle=function(xt,$,ht){return U$3.current.useImperativeHandle(xt,$,ht)};react_production_min.useInsertionEffect=function(xt,$){return U$3.current.useInsertionEffect(xt,$)};react_production_min.useLayoutEffect=function(xt,$){return U$3.current.useLayoutEffect(xt,$)};react_production_min.useMemo=function(xt,$){return U$3.current.useMemo(xt,$)};react_production_min.useReducer=function(xt,$,ht){return U$3.current.useReducer(xt,$,ht)};react_production_min.useRef=function(xt){return U$3.current.useRef(xt)};react_production_min.useState=function(xt){return U$3.current.useState(xt)};react_production_min.useSyncExternalStore=function(xt,$,ht){return U$3.current.useSyncExternalStore(xt,$,ht)};react_production_min.useTransition=function(){return U$3.current.useTransition()};react_production_min.version="18.3.1";react.exports=react_production_min;var reactExports=react.exports;const React=getDefaultExportFromCjs(reactExports),t$4=_mergeNamespaces({__proto__:null,default:React},[reactExports]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var f$6=reactExports,k=Symbol.for("react.element"),l$2=Symbol.for("react.fragment"),m$5=Object.prototype.hasOwnProperty,n$4=f$6.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,p$5={key:!0,ref:!0,__self:!0,__source:!0};function q$1(xt,$,ht){var vt,At={},St=null,kt=null;ht!==void 0&&(St=""+ht),$.key!==void 0&&(St=""+$.key),$.ref!==void 0&&(kt=$.ref);for(vt in $)m$5.call($,vt)&&!p$5.hasOwnProperty(vt)&&(At[vt]=$[vt]);if(xt&&xt.defaultProps)for(vt in $=xt.defaultProps,$)At[vt]===void 0&&(At[vt]=$[vt]);return{$$typeof:k,type:xt,key:St,ref:kt,props:At,_owner:n$4.current}}reactJsxRuntime_production_min.Fragment=l$2;reactJsxRuntime_production_min.jsx=q$1;reactJsxRuntime_production_min.jsxs=q$1;jsxRuntime.exports=reactJsxRuntime_production_min;var jsxRuntimeExports=jsxRuntime.exports,client={},reactDom={exports:{}},reactDom_production_min={},scheduler={exports:{}},scheduler_production_min={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(xt){function $(Ut,Ot){var zt=Ut.length;Ut.push(Ot);e:for(;0<zt;){var an=zt-1>>>1,Ht=Ut[an];if(0<At(Ht,Ot))Ut[an]=Ot,Ut[zt]=Ht,zt=an;else break e}}function ht(Ut){return Ut.length===0?null:Ut[0]}function vt(Ut){if(Ut.length===0)return null;var Ot=Ut[0],zt=Ut.pop();if(zt!==Ot){Ut[0]=zt;e:for(var an=0,Ht=Ut.length,Wt=Ht>>>1;an<Wt;){var tn=2*(an+1)-1,ln=Ut[tn],on=tn+1,cn=Ut[on];if(0>At(ln,zt))on<Ht&&0>At(cn,ln)?(Ut[an]=cn,Ut[on]=zt,an=on):(Ut[an]=ln,Ut[tn]=zt,an=tn);else if(on<Ht&&0>At(cn,zt))Ut[an]=cn,Ut[on]=zt,an=on;else break e}}return Ot}function At(Ut,Ot){var zt=Ut.sortIndex-Ot.sortIndex;return zt!==0?zt:Ut.id-Ot.id}if(typeof performance=="object"&&typeof performance.now=="function"){var St=performance;xt.unstable_now=function(){return St.now()}}else{var kt=Date,Et=kt.now();xt.unstable_now=function(){return kt.now()-Et}}var Rt=[],wt=[],_t=1,Pt=null,_e=3,bt=!1,Ft=!1,Xt=!1,Kt=typeof setTimeout=="function"?setTimeout:null,Nt=typeof clearTimeout=="function"?clearTimeout:null,$t=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function Dt(Ut){for(var Ot=ht(wt);Ot!==null;){if(Ot.callback===null)vt(wt);else if(Ot.startTime<=Ut)vt(wt),Ot.sortIndex=Ot.expirationTime,$(Rt,Ot);else break;Ot=ht(wt)}}function jt(Ut){if(Xt=!1,Dt(Ut),!Ft)if(ht(Rt)!==null)Ft=!0,Yt(Ct);else{var Ot=ht(wt);Ot!==null&&hn(jt,Ot.startTime-Ut)}}function Ct(Ut,Ot){Ft=!1,Xt&&(Xt=!1,Nt(Gt),Gt=-1),bt=!0;var zt=_e;try{for(Dt(Ot),Pt=ht(Rt);Pt!==null&&(!(Pt.expirationTime>Ot)||Ut&&!Qt());){var an=Pt.callback;if(typeof an=="function"){Pt.callback=null,_e=Pt.priorityLevel;var Ht=an(Pt.expirationTime<=Ot);Ot=xt.unstable_now(),typeof Ht=="function"?Pt.callback=Ht:Pt===ht(Rt)&&vt(Rt),Dt(Ot)}else vt(Rt);Pt=ht(Rt)}if(Pt!==null)var Wt=!0;else{var tn=ht(wt);tn!==null&&hn(jt,tn.startTime-Ot),Wt=!1}return Wt}finally{Pt=null,_e=zt,bt=!1}}var qt=!1,Bt=null,Gt=-1,en=5,dn=-1;function Qt(){return!(xt.unstable_now()-dn<en)}function gn(){if(Bt!==null){var Ut=xt.unstable_now();dn=Ut;var Ot=!0;try{Ot=Bt(!0,Ut)}finally{Ot?nn():(qt=!1,Bt=null)}}else qt=!1}var nn;if(typeof $t=="function")nn=function(){$t(gn)};else if(typeof MessageChannel<"u"){var bn=new MessageChannel,Vt=bn.port2;bn.port1.onmessage=gn,nn=function(){Vt.postMessage(null)}}else nn=function(){Kt(gn,0)};function Yt(Ut){Bt=Ut,qt||(qt=!0,nn())}function hn(Ut,Ot){Gt=Kt(function(){Ut(xt.unstable_now())},Ot)}xt.unstable_IdlePriority=5,xt.unstable_ImmediatePriority=1,xt.unstable_LowPriority=4,xt.unstable_NormalPriority=3,xt.unstable_Profiling=null,xt.unstable_UserBlockingPriority=2,xt.unstable_cancelCallback=function(Ut){Ut.callback=null},xt.unstable_continueExecution=function(){Ft||bt||(Ft=!0,Yt(Ct))},xt.unstable_forceFrameRate=function(Ut){0>Ut||125<Ut?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):en=0<Ut?Math.floor(1e3/Ut):5},xt.unstable_getCurrentPriorityLevel=function(){return _e},xt.unstable_getFirstCallbackNode=function(){return ht(Rt)},xt.unstable_next=function(Ut){switch(_e){case 1:case 2:case 3:var Ot=3;break;default:Ot=_e}var zt=_e;_e=Ot;try{return Ut()}finally{_e=zt}},xt.unstable_pauseExecution=function(){},xt.unstable_requestPaint=function(){},xt.unstable_runWithPriority=function(Ut,Ot){switch(Ut){case 1:case 2:case 3:case 4:case 5:break;default:Ut=3}var zt=_e;_e=Ut;try{return Ot()}finally{_e=zt}},xt.unstable_scheduleCallback=function(Ut,Ot,zt){var an=xt.unstable_now();switch(typeof zt=="object"&&zt!==null?(zt=zt.delay,zt=typeof zt=="number"&&0<zt?an+zt:an):zt=an,Ut){case 1:var Ht=-1;break;case 2:Ht=250;break;case 5:Ht=1073741823;break;case 4:Ht=1e4;break;default:Ht=5e3}return Ht=zt+Ht,Ut={id:_t++,callback:Ot,priorityLevel:Ut,startTime:zt,expirationTime:Ht,sortIndex:-1},zt>an?(Ut.sortIndex=zt,$(wt,Ut),ht(Rt)===null&&Ut===ht(wt)&&(Xt?(Nt(Gt),Gt=-1):Xt=!0,hn(jt,zt-an))):(Ut.sortIndex=Ht,$(Rt,Ut),Ft||bt||(Ft=!0,Yt(Ct))),Ut},xt.unstable_shouldYield=Qt,xt.unstable_wrapCallback=function(Ut){var Ot=_e;return function(){var zt=_e;_e=Ot;try{return Ut.apply(this,arguments)}finally{_e=zt}}}})(scheduler_production_min);scheduler.exports=scheduler_production_min;var schedulerExports=scheduler.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var aa=reactExports,ca=schedulerExports;function p$4(xt){for(var $="https://reactjs.org/docs/error-decoder.html?invariant="+xt,ht=1;ht<arguments.length;ht++)$+="&args[]="+encodeURIComponent(arguments[ht]);return"Minified React error #"+xt+"; visit "+$+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var da=new Set,ea={};function fa(xt,$){ha(xt,$),ha(xt+"Capture",$)}function ha(xt,$){for(ea[xt]=$,xt=0;xt<$.length;xt++)da.add($[xt])}var ia=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ja=Object.prototype.hasOwnProperty,ka=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,la={},ma={};function oa(xt){return ja.call(ma,xt)?!0:ja.call(la,xt)?!1:ka.test(xt)?ma[xt]=!0:(la[xt]=!0,!1)}function pa(xt,$,ht,vt){if(ht!==null&&ht.type===0)return!1;switch(typeof $){case"function":case"symbol":return!0;case"boolean":return vt?!1:ht!==null?!ht.acceptsBooleans:(xt=xt.toLowerCase().slice(0,5),xt!=="data-"&&xt!=="aria-");default:return!1}}function qa(xt,$,ht,vt){if($===null||typeof $>"u"||pa(xt,$,ht,vt))return!0;if(vt)return!1;if(ht!==null)switch(ht.type){case 3:return!$;case 4:return $===!1;case 5:return isNaN($);case 6:return isNaN($)||1>$}return!1}function v$1(xt,$,ht,vt,At,St,kt){this.acceptsBooleans=$===2||$===3||$===4,this.attributeName=vt,this.attributeNamespace=At,this.mustUseProperty=ht,this.propertyName=xt,this.type=$,this.sanitizeURL=St,this.removeEmptyString=kt}var z$1={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(xt){z$1[xt]=new v$1(xt,0,!1,xt,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(xt){var $=xt[0];z$1[$]=new v$1($,1,!1,xt[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(xt){z$1[xt]=new v$1(xt,2,!1,xt.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(xt){z$1[xt]=new v$1(xt,2,!1,xt,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(xt){z$1[xt]=new v$1(xt,3,!1,xt.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(xt){z$1[xt]=new v$1(xt,3,!0,xt,null,!1,!1)});["capture","download"].forEach(function(xt){z$1[xt]=new v$1(xt,4,!1,xt,null,!1,!1)});["cols","rows","size","span"].forEach(function(xt){z$1[xt]=new v$1(xt,6,!1,xt,null,!1,!1)});["rowSpan","start"].forEach(function(xt){z$1[xt]=new v$1(xt,5,!1,xt.toLowerCase(),null,!1,!1)});var ra=/[\-:]([a-z])/g;function sa(xt){return xt[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(xt){var $=xt.replace(ra,sa);z$1[$]=new v$1($,1,!1,xt,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(xt){var $=xt.replace(ra,sa);z$1[$]=new v$1($,1,!1,xt,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(xt){var $=xt.replace(ra,sa);z$1[$]=new v$1($,1,!1,xt,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(xt){z$1[xt]=new v$1(xt,1,!1,xt.toLowerCase(),null,!1,!1)});z$1.xlinkHref=new v$1("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(xt){z$1[xt]=new v$1(xt,1,!1,xt.toLowerCase(),null,!0,!0)});function ta(xt,$,ht,vt){var At=z$1.hasOwnProperty($)?z$1[$]:null;(At!==null?At.type!==0:vt||!(2<$.length)||$[0]!=="o"&&$[0]!=="O"||$[1]!=="n"&&$[1]!=="N")&&(qa($,ht,At,vt)&&(ht=null),vt||At===null?oa($)&&(ht===null?xt.removeAttribute($):xt.setAttribute($,""+ht)):At.mustUseProperty?xt[At.propertyName]=ht===null?At.type===3?!1:"":ht:($=At.attributeName,vt=At.attributeNamespace,ht===null?xt.removeAttribute($):(At=At.type,ht=At===3||At===4&&ht===!0?"":""+ht,vt?xt.setAttributeNS(vt,$,ht):xt.setAttribute($,ht))))}var ua=aa.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,va=Symbol.for("react.element"),wa=Symbol.for("react.portal"),ya=Symbol.for("react.fragment"),za=Symbol.for("react.strict_mode"),Aa=Symbol.for("react.profiler"),Ba=Symbol.for("react.provider"),Ca=Symbol.for("react.context"),Da=Symbol.for("react.forward_ref"),Ea=Symbol.for("react.suspense"),Fa=Symbol.for("react.suspense_list"),Ga=Symbol.for("react.memo"),Ha=Symbol.for("react.lazy"),Ia=Symbol.for("react.offscreen"),Ja=Symbol.iterator;function Ka(xt){return xt===null||typeof xt!="object"?null:(xt=Ja&&xt[Ja]||xt["@@iterator"],typeof xt=="function"?xt:null)}var A$3=Object.assign,La;function Ma(xt){if(La===void 0)try{throw Error()}catch(ht){var $=ht.stack.trim().match(/\n( *(at )?)/);La=$&&$[1]||""}return`
`+La+xt}var Na=!1;function Oa(xt,$){if(!xt||Na)return"";Na=!0;var ht=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if($)if($=function(){throw Error()},Object.defineProperty($.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct($,[])}catch(wt){var vt=wt}Reflect.construct(xt,[],$)}else{try{$.call()}catch(wt){vt=wt}xt.call($.prototype)}else{try{throw Error()}catch(wt){vt=wt}xt()}}catch(wt){if(wt&&vt&&typeof wt.stack=="string"){for(var At=wt.stack.split(`
`),St=vt.stack.split(`
`),kt=At.length-1,Et=St.length-1;1<=kt&&0<=Et&&At[kt]!==St[Et];)Et--;for(;1<=kt&&0<=Et;kt--,Et--)if(At[kt]!==St[Et]){if(kt!==1||Et!==1)do if(kt--,Et--,0>Et||At[kt]!==St[Et]){var Rt=`
`+At[kt].replace(" at new "," at ");return xt.displayName&&Rt.includes("<anonymous>")&&(Rt=Rt.replace("<anonymous>",xt.displayName)),Rt}while(1<=kt&&0<=Et);break}}}finally{Na=!1,Error.prepareStackTrace=ht}return(xt=xt?xt.displayName||xt.name:"")?Ma(xt):""}function Pa(xt){switch(xt.tag){case 5:return Ma(xt.type);case 16:return Ma("Lazy");case 13:return Ma("Suspense");case 19:return Ma("SuspenseList");case 0:case 2:case 15:return xt=Oa(xt.type,!1),xt;case 11:return xt=Oa(xt.type.render,!1),xt;case 1:return xt=Oa(xt.type,!0),xt;default:return""}}function Qa(xt){if(xt==null)return null;if(typeof xt=="function")return xt.displayName||xt.name||null;if(typeof xt=="string")return xt;switch(xt){case ya:return"Fragment";case wa:return"Portal";case Aa:return"Profiler";case za:return"StrictMode";case Ea:return"Suspense";case Fa:return"SuspenseList"}if(typeof xt=="object")switch(xt.$$typeof){case Ca:return(xt.displayName||"Context")+".Consumer";case Ba:return(xt._context.displayName||"Context")+".Provider";case Da:var $=xt.render;return xt=xt.displayName,xt||(xt=$.displayName||$.name||"",xt=xt!==""?"ForwardRef("+xt+")":"ForwardRef"),xt;case Ga:return $=xt.displayName||null,$!==null?$:Qa(xt.type)||"Memo";case Ha:$=xt._payload,xt=xt._init;try{return Qa(xt($))}catch{}}return null}function Ra(xt){var $=xt.type;switch(xt.tag){case 24:return"Cache";case 9:return($.displayName||"Context")+".Consumer";case 10:return($._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return xt=$.render,xt=xt.displayName||xt.name||"",$.displayName||(xt!==""?"ForwardRef("+xt+")":"ForwardRef");case 7:return"Fragment";case 5:return $;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Qa($);case 8:return $===za?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof $=="function")return $.displayName||$.name||null;if(typeof $=="string")return $}return null}function Sa(xt){switch(typeof xt){case"boolean":case"number":case"string":case"undefined":return xt;case"object":return xt;default:return""}}function Ta(xt){var $=xt.type;return(xt=xt.nodeName)&&xt.toLowerCase()==="input"&&($==="checkbox"||$==="radio")}function Ua(xt){var $=Ta(xt)?"checked":"value",ht=Object.getOwnPropertyDescriptor(xt.constructor.prototype,$),vt=""+xt[$];if(!xt.hasOwnProperty($)&&typeof ht<"u"&&typeof ht.get=="function"&&typeof ht.set=="function"){var At=ht.get,St=ht.set;return Object.defineProperty(xt,$,{configurable:!0,get:function(){return At.call(this)},set:function(kt){vt=""+kt,St.call(this,kt)}}),Object.defineProperty(xt,$,{enumerable:ht.enumerable}),{getValue:function(){return vt},setValue:function(kt){vt=""+kt},stopTracking:function(){xt._valueTracker=null,delete xt[$]}}}}function Va(xt){xt._valueTracker||(xt._valueTracker=Ua(xt))}function Wa(xt){if(!xt)return!1;var $=xt._valueTracker;if(!$)return!0;var ht=$.getValue(),vt="";return xt&&(vt=Ta(xt)?xt.checked?"true":"false":xt.value),xt=vt,xt!==ht?($.setValue(xt),!0):!1}function Xa(xt){if(xt=xt||(typeof document<"u"?document:void 0),typeof xt>"u")return null;try{return xt.activeElement||xt.body}catch{return xt.body}}function Ya(xt,$){var ht=$.checked;return A$3({},$,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:ht??xt._wrapperState.initialChecked})}function Za(xt,$){var ht=$.defaultValue==null?"":$.defaultValue,vt=$.checked!=null?$.checked:$.defaultChecked;ht=Sa($.value!=null?$.value:ht),xt._wrapperState={initialChecked:vt,initialValue:ht,controlled:$.type==="checkbox"||$.type==="radio"?$.checked!=null:$.value!=null}}function ab(xt,$){$=$.checked,$!=null&&ta(xt,"checked",$,!1)}function bb(xt,$){ab(xt,$);var ht=Sa($.value),vt=$.type;if(ht!=null)vt==="number"?(ht===0&&xt.value===""||xt.value!=ht)&&(xt.value=""+ht):xt.value!==""+ht&&(xt.value=""+ht);else if(vt==="submit"||vt==="reset"){xt.removeAttribute("value");return}$.hasOwnProperty("value")?cb(xt,$.type,ht):$.hasOwnProperty("defaultValue")&&cb(xt,$.type,Sa($.defaultValue)),$.checked==null&&$.defaultChecked!=null&&(xt.defaultChecked=!!$.defaultChecked)}function db(xt,$,ht){if($.hasOwnProperty("value")||$.hasOwnProperty("defaultValue")){var vt=$.type;if(!(vt!=="submit"&&vt!=="reset"||$.value!==void 0&&$.value!==null))return;$=""+xt._wrapperState.initialValue,ht||$===xt.value||(xt.value=$),xt.defaultValue=$}ht=xt.name,ht!==""&&(xt.name=""),xt.defaultChecked=!!xt._wrapperState.initialChecked,ht!==""&&(xt.name=ht)}function cb(xt,$,ht){($!=="number"||Xa(xt.ownerDocument)!==xt)&&(ht==null?xt.defaultValue=""+xt._wrapperState.initialValue:xt.defaultValue!==""+ht&&(xt.defaultValue=""+ht))}var eb=Array.isArray;function fb(xt,$,ht,vt){if(xt=xt.options,$){$={};for(var At=0;At<ht.length;At++)$["$"+ht[At]]=!0;for(ht=0;ht<xt.length;ht++)At=$.hasOwnProperty("$"+xt[ht].value),xt[ht].selected!==At&&(xt[ht].selected=At),At&&vt&&(xt[ht].defaultSelected=!0)}else{for(ht=""+Sa(ht),$=null,At=0;At<xt.length;At++){if(xt[At].value===ht){xt[At].selected=!0,vt&&(xt[At].defaultSelected=!0);return}$!==null||xt[At].disabled||($=xt[At])}$!==null&&($.selected=!0)}}function gb(xt,$){if($.dangerouslySetInnerHTML!=null)throw Error(p$4(91));return A$3({},$,{value:void 0,defaultValue:void 0,children:""+xt._wrapperState.initialValue})}function hb(xt,$){var ht=$.value;if(ht==null){if(ht=$.children,$=$.defaultValue,ht!=null){if($!=null)throw Error(p$4(92));if(eb(ht)){if(1<ht.length)throw Error(p$4(93));ht=ht[0]}$=ht}$==null&&($=""),ht=$}xt._wrapperState={initialValue:Sa(ht)}}function ib(xt,$){var ht=Sa($.value),vt=Sa($.defaultValue);ht!=null&&(ht=""+ht,ht!==xt.value&&(xt.value=ht),$.defaultValue==null&&xt.defaultValue!==ht&&(xt.defaultValue=ht)),vt!=null&&(xt.defaultValue=""+vt)}function jb(xt){var $=xt.textContent;$===xt._wrapperState.initialValue&&$!==""&&$!==null&&(xt.value=$)}function kb(xt){switch(xt){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function lb(xt,$){return xt==null||xt==="http://www.w3.org/1999/xhtml"?kb($):xt==="http://www.w3.org/2000/svg"&&$==="foreignObject"?"http://www.w3.org/1999/xhtml":xt}var mb,nb=function(xt){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function($,ht,vt,At){MSApp.execUnsafeLocalFunction(function(){return xt($,ht,vt,At)})}:xt}(function(xt,$){if(xt.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in xt)xt.innerHTML=$;else{for(mb=mb||document.createElement("div"),mb.innerHTML="<svg>"+$.valueOf().toString()+"</svg>",$=mb.firstChild;xt.firstChild;)xt.removeChild(xt.firstChild);for(;$.firstChild;)xt.appendChild($.firstChild)}});function ob(xt,$){if($){var ht=xt.firstChild;if(ht&&ht===xt.lastChild&&ht.nodeType===3){ht.nodeValue=$;return}}xt.textContent=$}var pb={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},qb=["Webkit","ms","Moz","O"];Object.keys(pb).forEach(function(xt){qb.forEach(function($){$=$+xt.charAt(0).toUpperCase()+xt.substring(1),pb[$]=pb[xt]})});function rb(xt,$,ht){return $==null||typeof $=="boolean"||$===""?"":ht||typeof $!="number"||$===0||pb.hasOwnProperty(xt)&&pb[xt]?(""+$).trim():$+"px"}function sb(xt,$){xt=xt.style;for(var ht in $)if($.hasOwnProperty(ht)){var vt=ht.indexOf("--")===0,At=rb(ht,$[ht],vt);ht==="float"&&(ht="cssFloat"),vt?xt.setProperty(ht,At):xt[ht]=At}}var tb=A$3({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ub(xt,$){if($){if(tb[xt]&&($.children!=null||$.dangerouslySetInnerHTML!=null))throw Error(p$4(137,xt));if($.dangerouslySetInnerHTML!=null){if($.children!=null)throw Error(p$4(60));if(typeof $.dangerouslySetInnerHTML!="object"||!("__html"in $.dangerouslySetInnerHTML))throw Error(p$4(61))}if($.style!=null&&typeof $.style!="object")throw Error(p$4(62))}}function vb(xt,$){if(xt.indexOf("-")===-1)return typeof $.is=="string";switch(xt){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var wb=null;function xb(xt){return xt=xt.target||xt.srcElement||window,xt.correspondingUseElement&&(xt=xt.correspondingUseElement),xt.nodeType===3?xt.parentNode:xt}var yb=null,zb=null,Ab=null;function Bb(xt){if(xt=Cb(xt)){if(typeof yb!="function")throw Error(p$4(280));var $=xt.stateNode;$&&($=Db($),yb(xt.stateNode,xt.type,$))}}function Eb(xt){zb?Ab?Ab.push(xt):Ab=[xt]:zb=xt}function Fb(){if(zb){var xt=zb,$=Ab;if(Ab=zb=null,Bb(xt),$)for(xt=0;xt<$.length;xt++)Bb($[xt])}}function Gb(xt,$){return xt($)}function Hb(){}var Ib=!1;function Jb(xt,$,ht){if(Ib)return xt($,ht);Ib=!0;try{return Gb(xt,$,ht)}finally{Ib=!1,(zb!==null||Ab!==null)&&(Hb(),Fb())}}function Kb(xt,$){var ht=xt.stateNode;if(ht===null)return null;var vt=Db(ht);if(vt===null)return null;ht=vt[$];e:switch($){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(vt=!vt.disabled)||(xt=xt.type,vt=!(xt==="button"||xt==="input"||xt==="select"||xt==="textarea")),xt=!vt;break e;default:xt=!1}if(xt)return null;if(ht&&typeof ht!="function")throw Error(p$4(231,$,typeof ht));return ht}var Lb=!1;if(ia)try{var Mb={};Object.defineProperty(Mb,"passive",{get:function(){Lb=!0}}),window.addEventListener("test",Mb,Mb),window.removeEventListener("test",Mb,Mb)}catch{Lb=!1}function Nb(xt,$,ht,vt,At,St,kt,Et,Rt){var wt=Array.prototype.slice.call(arguments,3);try{$.apply(ht,wt)}catch(_t){this.onError(_t)}}var Ob=!1,Pb=null,Qb=!1,Rb=null,Sb={onError:function(xt){Ob=!0,Pb=xt}};function Tb(xt,$,ht,vt,At,St,kt,Et,Rt){Ob=!1,Pb=null,Nb.apply(Sb,arguments)}function Ub(xt,$,ht,vt,At,St,kt,Et,Rt){if(Tb.apply(this,arguments),Ob){if(Ob){var wt=Pb;Ob=!1,Pb=null}else throw Error(p$4(198));Qb||(Qb=!0,Rb=wt)}}function Vb(xt){var $=xt,ht=xt;if(xt.alternate)for(;$.return;)$=$.return;else{xt=$;do $=xt,$.flags&4098&&(ht=$.return),xt=$.return;while(xt)}return $.tag===3?ht:null}function Wb(xt){if(xt.tag===13){var $=xt.memoizedState;if($===null&&(xt=xt.alternate,xt!==null&&($=xt.memoizedState)),$!==null)return $.dehydrated}return null}function Xb(xt){if(Vb(xt)!==xt)throw Error(p$4(188))}function Yb(xt){var $=xt.alternate;if(!$){if($=Vb(xt),$===null)throw Error(p$4(188));return $!==xt?null:xt}for(var ht=xt,vt=$;;){var At=ht.return;if(At===null)break;var St=At.alternate;if(St===null){if(vt=At.return,vt!==null){ht=vt;continue}break}if(At.child===St.child){for(St=At.child;St;){if(St===ht)return Xb(At),xt;if(St===vt)return Xb(At),$;St=St.sibling}throw Error(p$4(188))}if(ht.return!==vt.return)ht=At,vt=St;else{for(var kt=!1,Et=At.child;Et;){if(Et===ht){kt=!0,ht=At,vt=St;break}if(Et===vt){kt=!0,vt=At,ht=St;break}Et=Et.sibling}if(!kt){for(Et=St.child;Et;){if(Et===ht){kt=!0,ht=St,vt=At;break}if(Et===vt){kt=!0,vt=St,ht=At;break}Et=Et.sibling}if(!kt)throw Error(p$4(189))}}if(ht.alternate!==vt)throw Error(p$4(190))}if(ht.tag!==3)throw Error(p$4(188));return ht.stateNode.current===ht?xt:$}function Zb(xt){return xt=Yb(xt),xt!==null?$b(xt):null}function $b(xt){if(xt.tag===5||xt.tag===6)return xt;for(xt=xt.child;xt!==null;){var $=$b(xt);if($!==null)return $;xt=xt.sibling}return null}var ac=ca.unstable_scheduleCallback,bc=ca.unstable_cancelCallback,cc=ca.unstable_shouldYield,dc=ca.unstable_requestPaint,B$1=ca.unstable_now,ec=ca.unstable_getCurrentPriorityLevel,fc=ca.unstable_ImmediatePriority,gc=ca.unstable_UserBlockingPriority,hc=ca.unstable_NormalPriority,ic=ca.unstable_LowPriority,jc=ca.unstable_IdlePriority,kc=null,lc=null;function mc(xt){if(lc&&typeof lc.onCommitFiberRoot=="function")try{lc.onCommitFiberRoot(kc,xt,void 0,(xt.current.flags&128)===128)}catch{}}var oc=Math.clz32?Math.clz32:nc,pc=Math.log,qc=Math.LN2;function nc(xt){return xt>>>=0,xt===0?32:31-(pc(xt)/qc|0)|0}var rc=64,sc=4194304;function tc(xt){switch(xt&-xt){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return xt&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return xt&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return xt}}function uc(xt,$){var ht=xt.pendingLanes;if(ht===0)return 0;var vt=0,At=xt.suspendedLanes,St=xt.pingedLanes,kt=ht&268435455;if(kt!==0){var Et=kt&~At;Et!==0?vt=tc(Et):(St&=kt,St!==0&&(vt=tc(St)))}else kt=ht&~At,kt!==0?vt=tc(kt):St!==0&&(vt=tc(St));if(vt===0)return 0;if($!==0&&$!==vt&&!($&At)&&(At=vt&-vt,St=$&-$,At>=St||At===16&&(St&4194240)!==0))return $;if(vt&4&&(vt|=ht&16),$=xt.entangledLanes,$!==0)for(xt=xt.entanglements,$&=vt;0<$;)ht=31-oc($),At=1<<ht,vt|=xt[ht],$&=~At;return vt}function vc(xt,$){switch(xt){case 1:case 2:case 4:return $+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return $+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function wc(xt,$){for(var ht=xt.suspendedLanes,vt=xt.pingedLanes,At=xt.expirationTimes,St=xt.pendingLanes;0<St;){var kt=31-oc(St),Et=1<<kt,Rt=At[kt];Rt===-1?(!(Et&ht)||Et&vt)&&(At[kt]=vc(Et,$)):Rt<=$&&(xt.expiredLanes|=Et),St&=~Et}}function xc(xt){return xt=xt.pendingLanes&-1073741825,xt!==0?xt:xt&1073741824?1073741824:0}function yc(){var xt=rc;return rc<<=1,!(rc&4194240)&&(rc=64),xt}function zc(xt){for(var $=[],ht=0;31>ht;ht++)$.push(xt);return $}function Ac(xt,$,ht){xt.pendingLanes|=$,$!==536870912&&(xt.suspendedLanes=0,xt.pingedLanes=0),xt=xt.eventTimes,$=31-oc($),xt[$]=ht}function Bc(xt,$){var ht=xt.pendingLanes&~$;xt.pendingLanes=$,xt.suspendedLanes=0,xt.pingedLanes=0,xt.expiredLanes&=$,xt.mutableReadLanes&=$,xt.entangledLanes&=$,$=xt.entanglements;var vt=xt.eventTimes;for(xt=xt.expirationTimes;0<ht;){var At=31-oc(ht),St=1<<At;$[At]=0,vt[At]=-1,xt[At]=-1,ht&=~St}}function Cc(xt,$){var ht=xt.entangledLanes|=$;for(xt=xt.entanglements;ht;){var vt=31-oc(ht),At=1<<vt;At&$|xt[vt]&$&&(xt[vt]|=$),ht&=~At}}var C$1=0;function Dc(xt){return xt&=-xt,1<xt?4<xt?xt&268435455?16:536870912:4:1}var Ec,Fc,Gc,Hc,Ic,Jc=!1,Kc=[],Lc=null,Mc=null,Nc=null,Oc=new Map,Pc=new Map,Qc=[],Rc="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Sc(xt,$){switch(xt){case"focusin":case"focusout":Lc=null;break;case"dragenter":case"dragleave":Mc=null;break;case"mouseover":case"mouseout":Nc=null;break;case"pointerover":case"pointerout":Oc.delete($.pointerId);break;case"gotpointercapture":case"lostpointercapture":Pc.delete($.pointerId)}}function Tc(xt,$,ht,vt,At,St){return xt===null||xt.nativeEvent!==St?(xt={blockedOn:$,domEventName:ht,eventSystemFlags:vt,nativeEvent:St,targetContainers:[At]},$!==null&&($=Cb($),$!==null&&Fc($)),xt):(xt.eventSystemFlags|=vt,$=xt.targetContainers,At!==null&&$.indexOf(At)===-1&&$.push(At),xt)}function Uc(xt,$,ht,vt,At){switch($){case"focusin":return Lc=Tc(Lc,xt,$,ht,vt,At),!0;case"dragenter":return Mc=Tc(Mc,xt,$,ht,vt,At),!0;case"mouseover":return Nc=Tc(Nc,xt,$,ht,vt,At),!0;case"pointerover":var St=At.pointerId;return Oc.set(St,Tc(Oc.get(St)||null,xt,$,ht,vt,At)),!0;case"gotpointercapture":return St=At.pointerId,Pc.set(St,Tc(Pc.get(St)||null,xt,$,ht,vt,At)),!0}return!1}function Vc(xt){var $=Wc(xt.target);if($!==null){var ht=Vb($);if(ht!==null){if($=ht.tag,$===13){if($=Wb(ht),$!==null){xt.blockedOn=$,Ic(xt.priority,function(){Gc(ht)});return}}else if($===3&&ht.stateNode.current.memoizedState.isDehydrated){xt.blockedOn=ht.tag===3?ht.stateNode.containerInfo:null;return}}}xt.blockedOn=null}function Xc(xt){if(xt.blockedOn!==null)return!1;for(var $=xt.targetContainers;0<$.length;){var ht=Yc(xt.domEventName,xt.eventSystemFlags,$[0],xt.nativeEvent);if(ht===null){ht=xt.nativeEvent;var vt=new ht.constructor(ht.type,ht);wb=vt,ht.target.dispatchEvent(vt),wb=null}else return $=Cb(ht),$!==null&&Fc($),xt.blockedOn=ht,!1;$.shift()}return!0}function Zc(xt,$,ht){Xc(xt)&&ht.delete($)}function $c(){Jc=!1,Lc!==null&&Xc(Lc)&&(Lc=null),Mc!==null&&Xc(Mc)&&(Mc=null),Nc!==null&&Xc(Nc)&&(Nc=null),Oc.forEach(Zc),Pc.forEach(Zc)}function ad(xt,$){xt.blockedOn===$&&(xt.blockedOn=null,Jc||(Jc=!0,ca.unstable_scheduleCallback(ca.unstable_NormalPriority,$c)))}function bd(xt){function $(At){return ad(At,xt)}if(0<Kc.length){ad(Kc[0],xt);for(var ht=1;ht<Kc.length;ht++){var vt=Kc[ht];vt.blockedOn===xt&&(vt.blockedOn=null)}}for(Lc!==null&&ad(Lc,xt),Mc!==null&&ad(Mc,xt),Nc!==null&&ad(Nc,xt),Oc.forEach($),Pc.forEach($),ht=0;ht<Qc.length;ht++)vt=Qc[ht],vt.blockedOn===xt&&(vt.blockedOn=null);for(;0<Qc.length&&(ht=Qc[0],ht.blockedOn===null);)Vc(ht),ht.blockedOn===null&&Qc.shift()}var cd=ua.ReactCurrentBatchConfig,dd=!0;function ed(xt,$,ht,vt){var At=C$1,St=cd.transition;cd.transition=null;try{C$1=1,fd(xt,$,ht,vt)}finally{C$1=At,cd.transition=St}}function gd(xt,$,ht,vt){var At=C$1,St=cd.transition;cd.transition=null;try{C$1=4,fd(xt,$,ht,vt)}finally{C$1=At,cd.transition=St}}function fd(xt,$,ht,vt){if(dd){var At=Yc(xt,$,ht,vt);if(At===null)hd(xt,$,vt,id,ht),Sc(xt,vt);else if(Uc(At,xt,$,ht,vt))vt.stopPropagation();else if(Sc(xt,vt),$&4&&-1<Rc.indexOf(xt)){for(;At!==null;){var St=Cb(At);if(St!==null&&Ec(St),St=Yc(xt,$,ht,vt),St===null&&hd(xt,$,vt,id,ht),St===At)break;At=St}At!==null&&vt.stopPropagation()}else hd(xt,$,vt,null,ht)}}var id=null;function Yc(xt,$,ht,vt){if(id=null,xt=xb(vt),xt=Wc(xt),xt!==null)if($=Vb(xt),$===null)xt=null;else if(ht=$.tag,ht===13){if(xt=Wb($),xt!==null)return xt;xt=null}else if(ht===3){if($.stateNode.current.memoizedState.isDehydrated)return $.tag===3?$.stateNode.containerInfo:null;xt=null}else $!==xt&&(xt=null);return id=xt,null}function jd(xt){switch(xt){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(ec()){case fc:return 1;case gc:return 4;case hc:case ic:return 16;case jc:return 536870912;default:return 16}default:return 16}}var kd=null,ld=null,md=null;function nd(){if(md)return md;var xt,$=ld,ht=$.length,vt,At="value"in kd?kd.value:kd.textContent,St=At.length;for(xt=0;xt<ht&&$[xt]===At[xt];xt++);var kt=ht-xt;for(vt=1;vt<=kt&&$[ht-vt]===At[St-vt];vt++);return md=At.slice(xt,1<vt?1-vt:void 0)}function od(xt){var $=xt.keyCode;return"charCode"in xt?(xt=xt.charCode,xt===0&&$===13&&(xt=13)):xt=$,xt===10&&(xt=13),32<=xt||xt===13?xt:0}function pd(){return!0}function qd(){return!1}function rd(xt){function $(ht,vt,At,St,kt){this._reactName=ht,this._targetInst=At,this.type=vt,this.nativeEvent=St,this.target=kt,this.currentTarget=null;for(var Et in xt)xt.hasOwnProperty(Et)&&(ht=xt[Et],this[Et]=ht?ht(St):St[Et]);return this.isDefaultPrevented=(St.defaultPrevented!=null?St.defaultPrevented:St.returnValue===!1)?pd:qd,this.isPropagationStopped=qd,this}return A$3($.prototype,{preventDefault:function(){this.defaultPrevented=!0;var ht=this.nativeEvent;ht&&(ht.preventDefault?ht.preventDefault():typeof ht.returnValue!="unknown"&&(ht.returnValue=!1),this.isDefaultPrevented=pd)},stopPropagation:function(){var ht=this.nativeEvent;ht&&(ht.stopPropagation?ht.stopPropagation():typeof ht.cancelBubble!="unknown"&&(ht.cancelBubble=!0),this.isPropagationStopped=pd)},persist:function(){},isPersistent:pd}),$}var sd={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(xt){return xt.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},td=rd(sd),ud=A$3({},sd,{view:0,detail:0}),vd=rd(ud),wd,xd,yd,Ad=A$3({},ud,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:zd,button:0,buttons:0,relatedTarget:function(xt){return xt.relatedTarget===void 0?xt.fromElement===xt.srcElement?xt.toElement:xt.fromElement:xt.relatedTarget},movementX:function(xt){return"movementX"in xt?xt.movementX:(xt!==yd&&(yd&&xt.type==="mousemove"?(wd=xt.screenX-yd.screenX,xd=xt.screenY-yd.screenY):xd=wd=0,yd=xt),wd)},movementY:function(xt){return"movementY"in xt?xt.movementY:xd}}),Bd=rd(Ad),Cd=A$3({},Ad,{dataTransfer:0}),Dd=rd(Cd),Ed=A$3({},ud,{relatedTarget:0}),Fd=rd(Ed),Gd=A$3({},sd,{animationName:0,elapsedTime:0,pseudoElement:0}),Hd=rd(Gd),Id=A$3({},sd,{clipboardData:function(xt){return"clipboardData"in xt?xt.clipboardData:window.clipboardData}}),Jd=rd(Id),Kd=A$3({},sd,{data:0}),Ld=rd(Kd),Md={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Nd={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Od={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Pd(xt){var $=this.nativeEvent;return $.getModifierState?$.getModifierState(xt):(xt=Od[xt])?!!$[xt]:!1}function zd(){return Pd}var Qd=A$3({},ud,{key:function(xt){if(xt.key){var $=Md[xt.key]||xt.key;if($!=="Unidentified")return $}return xt.type==="keypress"?(xt=od(xt),xt===13?"Enter":String.fromCharCode(xt)):xt.type==="keydown"||xt.type==="keyup"?Nd[xt.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:zd,charCode:function(xt){return xt.type==="keypress"?od(xt):0},keyCode:function(xt){return xt.type==="keydown"||xt.type==="keyup"?xt.keyCode:0},which:function(xt){return xt.type==="keypress"?od(xt):xt.type==="keydown"||xt.type==="keyup"?xt.keyCode:0}}),Rd=rd(Qd),Sd=A$3({},Ad,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Td=rd(Sd),Ud=A$3({},ud,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:zd}),Vd=rd(Ud),Wd=A$3({},sd,{propertyName:0,elapsedTime:0,pseudoElement:0}),Xd=rd(Wd),Yd=A$3({},Ad,{deltaX:function(xt){return"deltaX"in xt?xt.deltaX:"wheelDeltaX"in xt?-xt.wheelDeltaX:0},deltaY:function(xt){return"deltaY"in xt?xt.deltaY:"wheelDeltaY"in xt?-xt.wheelDeltaY:"wheelDelta"in xt?-xt.wheelDelta:0},deltaZ:0,deltaMode:0}),Zd=rd(Yd),$d=[9,13,27,32],ae=ia&&"CompositionEvent"in window,be$1=null;ia&&"documentMode"in document&&(be$1=document.documentMode);var ce$1=ia&&"TextEvent"in window&&!be$1,de=ia&&(!ae||be$1&&8<be$1&&11>=be$1),ee=" ",fe=!1;function ge(xt,$){switch(xt){case"keyup":return $d.indexOf($.keyCode)!==-1;case"keydown":return $.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function he(xt){return xt=xt.detail,typeof xt=="object"&&"data"in xt?xt.data:null}var ie=!1;function je(xt,$){switch(xt){case"compositionend":return he($);case"keypress":return $.which!==32?null:(fe=!0,ee);case"textInput":return xt=$.data,xt===ee&&fe?null:xt;default:return null}}function ke(xt,$){if(ie)return xt==="compositionend"||!ae&&ge(xt,$)?(xt=nd(),md=ld=kd=null,ie=!1,xt):null;switch(xt){case"paste":return null;case"keypress":if(!($.ctrlKey||$.altKey||$.metaKey)||$.ctrlKey&&$.altKey){if($.char&&1<$.char.length)return $.char;if($.which)return String.fromCharCode($.which)}return null;case"compositionend":return de&&$.locale!=="ko"?null:$.data;default:return null}}var le={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function me(xt){var $=xt&&xt.nodeName&&xt.nodeName.toLowerCase();return $==="input"?!!le[xt.type]:$==="textarea"}function ne(xt,$,ht,vt){Eb(vt),$=oe($,"onChange"),0<$.length&&(ht=new td("onChange","change",null,ht,vt),xt.push({event:ht,listeners:$}))}var pe$1=null,qe$1=null;function re(xt){se(xt,0)}function te$1(xt){var $=ue(xt);if(Wa($))return xt}function ve$1(xt,$){if(xt==="change")return $}var we=!1;if(ia){var xe$1;if(ia){var ye$1="oninput"in document;if(!ye$1){var ze$1=document.createElement("div");ze$1.setAttribute("oninput","return;"),ye$1=typeof ze$1.oninput=="function"}xe$1=ye$1}else xe$1=!1;we=xe$1&&(!document.documentMode||9<document.documentMode)}function Ae(){pe$1&&(pe$1.detachEvent("onpropertychange",Be),qe$1=pe$1=null)}function Be(xt){if(xt.propertyName==="value"&&te$1(qe$1)){var $=[];ne($,qe$1,xt,xb(xt)),Jb(re,$)}}function Ce(xt,$,ht){xt==="focusin"?(Ae(),pe$1=$,qe$1=ht,pe$1.attachEvent("onpropertychange",Be)):xt==="focusout"&&Ae()}function De(xt){if(xt==="selectionchange"||xt==="keyup"||xt==="keydown")return te$1(qe$1)}function Ee(xt,$){if(xt==="click")return te$1($)}function Fe$1(xt,$){if(xt==="input"||xt==="change")return te$1($)}function Ge(xt,$){return xt===$&&(xt!==0||1/xt===1/$)||xt!==xt&&$!==$}var He=typeof Object.is=="function"?Object.is:Ge;function Ie(xt,$){if(He(xt,$))return!0;if(typeof xt!="object"||xt===null||typeof $!="object"||$===null)return!1;var ht=Object.keys(xt),vt=Object.keys($);if(ht.length!==vt.length)return!1;for(vt=0;vt<ht.length;vt++){var At=ht[vt];if(!ja.call($,At)||!He(xt[At],$[At]))return!1}return!0}function Je$1(xt){for(;xt&&xt.firstChild;)xt=xt.firstChild;return xt}function Ke(xt,$){var ht=Je$1(xt);xt=0;for(var vt;ht;){if(ht.nodeType===3){if(vt=xt+ht.textContent.length,xt<=$&&vt>=$)return{node:ht,offset:$-xt};xt=vt}e:{for(;ht;){if(ht.nextSibling){ht=ht.nextSibling;break e}ht=ht.parentNode}ht=void 0}ht=Je$1(ht)}}function Le(xt,$){return xt&&$?xt===$?!0:xt&&xt.nodeType===3?!1:$&&$.nodeType===3?Le(xt,$.parentNode):"contains"in xt?xt.contains($):xt.compareDocumentPosition?!!(xt.compareDocumentPosition($)&16):!1:!1}function Me(){for(var xt=window,$=Xa();$ instanceof xt.HTMLIFrameElement;){try{var ht=typeof $.contentWindow.location.href=="string"}catch{ht=!1}if(ht)xt=$.contentWindow;else break;$=Xa(xt.document)}return $}function Ne(xt){var $=xt&&xt.nodeName&&xt.nodeName.toLowerCase();return $&&($==="input"&&(xt.type==="text"||xt.type==="search"||xt.type==="tel"||xt.type==="url"||xt.type==="password")||$==="textarea"||xt.contentEditable==="true")}function Oe(xt){var $=Me(),ht=xt.focusedElem,vt=xt.selectionRange;if($!==ht&&ht&&ht.ownerDocument&&Le(ht.ownerDocument.documentElement,ht)){if(vt!==null&&Ne(ht)){if($=vt.start,xt=vt.end,xt===void 0&&(xt=$),"selectionStart"in ht)ht.selectionStart=$,ht.selectionEnd=Math.min(xt,ht.value.length);else if(xt=($=ht.ownerDocument||document)&&$.defaultView||window,xt.getSelection){xt=xt.getSelection();var At=ht.textContent.length,St=Math.min(vt.start,At);vt=vt.end===void 0?St:Math.min(vt.end,At),!xt.extend&&St>vt&&(At=vt,vt=St,St=At),At=Ke(ht,St);var kt=Ke(ht,vt);At&&kt&&(xt.rangeCount!==1||xt.anchorNode!==At.node||xt.anchorOffset!==At.offset||xt.focusNode!==kt.node||xt.focusOffset!==kt.offset)&&($=$.createRange(),$.setStart(At.node,At.offset),xt.removeAllRanges(),St>vt?(xt.addRange($),xt.extend(kt.node,kt.offset)):($.setEnd(kt.node,kt.offset),xt.addRange($)))}}for($=[],xt=ht;xt=xt.parentNode;)xt.nodeType===1&&$.push({element:xt,left:xt.scrollLeft,top:xt.scrollTop});for(typeof ht.focus=="function"&&ht.focus(),ht=0;ht<$.length;ht++)xt=$[ht],xt.element.scrollLeft=xt.left,xt.element.scrollTop=xt.top}}var Pe=ia&&"documentMode"in document&&11>=document.documentMode,Qe=null,Re$1=null,Se=null,Te=!1;function Ue(xt,$,ht){var vt=ht.window===ht?ht.document:ht.nodeType===9?ht:ht.ownerDocument;Te||Qe==null||Qe!==Xa(vt)||(vt=Qe,"selectionStart"in vt&&Ne(vt)?vt={start:vt.selectionStart,end:vt.selectionEnd}:(vt=(vt.ownerDocument&&vt.ownerDocument.defaultView||window).getSelection(),vt={anchorNode:vt.anchorNode,anchorOffset:vt.anchorOffset,focusNode:vt.focusNode,focusOffset:vt.focusOffset}),Se&&Ie(Se,vt)||(Se=vt,vt=oe(Re$1,"onSelect"),0<vt.length&&($=new td("onSelect","select",null,$,ht),xt.push({event:$,listeners:vt}),$.target=Qe)))}function Ve$1(xt,$){var ht={};return ht[xt.toLowerCase()]=$.toLowerCase(),ht["Webkit"+xt]="webkit"+$,ht["Moz"+xt]="moz"+$,ht}var We={animationend:Ve$1("Animation","AnimationEnd"),animationiteration:Ve$1("Animation","AnimationIteration"),animationstart:Ve$1("Animation","AnimationStart"),transitionend:Ve$1("Transition","TransitionEnd")},Xe$1={},Ye$1={};ia&&(Ye$1=document.createElement("div").style,"AnimationEvent"in window||(delete We.animationend.animation,delete We.animationiteration.animation,delete We.animationstart.animation),"TransitionEvent"in window||delete We.transitionend.transition);function Ze$1(xt){if(Xe$1[xt])return Xe$1[xt];if(!We[xt])return xt;var $=We[xt],ht;for(ht in $)if($.hasOwnProperty(ht)&&ht in Ye$1)return Xe$1[xt]=$[ht];return xt}var $e$1=Ze$1("animationend"),af=Ze$1("animationiteration"),bf=Ze$1("animationstart"),cf=Ze$1("transitionend"),df=new Map,ef="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ff(xt,$){df.set(xt,$),fa($,[xt])}for(var gf=0;gf<ef.length;gf++){var hf=ef[gf],jf=hf.toLowerCase(),kf=hf[0].toUpperCase()+hf.slice(1);ff(jf,"on"+kf)}ff($e$1,"onAnimationEnd");ff(af,"onAnimationIteration");ff(bf,"onAnimationStart");ff("dblclick","onDoubleClick");ff("focusin","onFocus");ff("focusout","onBlur");ff(cf,"onTransitionEnd");ha("onMouseEnter",["mouseout","mouseover"]);ha("onMouseLeave",["mouseout","mouseover"]);ha("onPointerEnter",["pointerout","pointerover"]);ha("onPointerLeave",["pointerout","pointerover"]);fa("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));fa("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));fa("onBeforeInput",["compositionend","keypress","textInput","paste"]);fa("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));fa("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));fa("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var lf="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),mf=new Set("cancel close invalid load scroll toggle".split(" ").concat(lf));function nf(xt,$,ht){var vt=xt.type||"unknown-event";xt.currentTarget=ht,Ub(vt,$,void 0,xt),xt.currentTarget=null}function se(xt,$){$=($&4)!==0;for(var ht=0;ht<xt.length;ht++){var vt=xt[ht],At=vt.event;vt=vt.listeners;e:{var St=void 0;if($)for(var kt=vt.length-1;0<=kt;kt--){var Et=vt[kt],Rt=Et.instance,wt=Et.currentTarget;if(Et=Et.listener,Rt!==St&&At.isPropagationStopped())break e;nf(At,Et,wt),St=Rt}else for(kt=0;kt<vt.length;kt++){if(Et=vt[kt],Rt=Et.instance,wt=Et.currentTarget,Et=Et.listener,Rt!==St&&At.isPropagationStopped())break e;nf(At,Et,wt),St=Rt}}}if(Qb)throw xt=Rb,Qb=!1,Rb=null,xt}function D$4(xt,$){var ht=$[of];ht===void 0&&(ht=$[of]=new Set);var vt=xt+"__bubble";ht.has(vt)||(pf($,xt,2,!1),ht.add(vt))}function qf(xt,$,ht){var vt=0;$&&(vt|=4),pf(ht,xt,vt,$)}var rf="_reactListening"+Math.random().toString(36).slice(2);function sf(xt){if(!xt[rf]){xt[rf]=!0,da.forEach(function(ht){ht!=="selectionchange"&&(mf.has(ht)||qf(ht,!1,xt),qf(ht,!0,xt))});var $=xt.nodeType===9?xt:xt.ownerDocument;$===null||$[rf]||($[rf]=!0,qf("selectionchange",!1,$))}}function pf(xt,$,ht,vt){switch(jd($)){case 1:var At=ed;break;case 4:At=gd;break;default:At=fd}ht=At.bind(null,$,ht,xt),At=void 0,!Lb||$!=="touchstart"&&$!=="touchmove"&&$!=="wheel"||(At=!0),vt?At!==void 0?xt.addEventListener($,ht,{capture:!0,passive:At}):xt.addEventListener($,ht,!0):At!==void 0?xt.addEventListener($,ht,{passive:At}):xt.addEventListener($,ht,!1)}function hd(xt,$,ht,vt,At){var St=vt;if(!($&1)&&!($&2)&&vt!==null)e:for(;;){if(vt===null)return;var kt=vt.tag;if(kt===3||kt===4){var Et=vt.stateNode.containerInfo;if(Et===At||Et.nodeType===8&&Et.parentNode===At)break;if(kt===4)for(kt=vt.return;kt!==null;){var Rt=kt.tag;if((Rt===3||Rt===4)&&(Rt=kt.stateNode.containerInfo,Rt===At||Rt.nodeType===8&&Rt.parentNode===At))return;kt=kt.return}for(;Et!==null;){if(kt=Wc(Et),kt===null)return;if(Rt=kt.tag,Rt===5||Rt===6){vt=St=kt;continue e}Et=Et.parentNode}}vt=vt.return}Jb(function(){var wt=St,_t=xb(ht),Pt=[];e:{var _e=df.get(xt);if(_e!==void 0){var bt=td,Ft=xt;switch(xt){case"keypress":if(od(ht)===0)break e;case"keydown":case"keyup":bt=Rd;break;case"focusin":Ft="focus",bt=Fd;break;case"focusout":Ft="blur",bt=Fd;break;case"beforeblur":case"afterblur":bt=Fd;break;case"click":if(ht.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":bt=Bd;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":bt=Dd;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":bt=Vd;break;case $e$1:case af:case bf:bt=Hd;break;case cf:bt=Xd;break;case"scroll":bt=vd;break;case"wheel":bt=Zd;break;case"copy":case"cut":case"paste":bt=Jd;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":bt=Td}var Xt=($&4)!==0,Kt=!Xt&&xt==="scroll",Nt=Xt?_e!==null?_e+"Capture":null:_e;Xt=[];for(var $t=wt,Dt;$t!==null;){Dt=$t;var jt=Dt.stateNode;if(Dt.tag===5&&jt!==null&&(Dt=jt,Nt!==null&&(jt=Kb($t,Nt),jt!=null&&Xt.push(tf($t,jt,Dt)))),Kt)break;$t=$t.return}0<Xt.length&&(_e=new bt(_e,Ft,null,ht,_t),Pt.push({event:_e,listeners:Xt}))}}if(!($&7)){e:{if(_e=xt==="mouseover"||xt==="pointerover",bt=xt==="mouseout"||xt==="pointerout",_e&&ht!==wb&&(Ft=ht.relatedTarget||ht.fromElement)&&(Wc(Ft)||Ft[uf]))break e;if((bt||_e)&&(_e=_t.window===_t?_t:(_e=_t.ownerDocument)?_e.defaultView||_e.parentWindow:window,bt?(Ft=ht.relatedTarget||ht.toElement,bt=wt,Ft=Ft?Wc(Ft):null,Ft!==null&&(Kt=Vb(Ft),Ft!==Kt||Ft.tag!==5&&Ft.tag!==6)&&(Ft=null)):(bt=null,Ft=wt),bt!==Ft)){if(Xt=Bd,jt="onMouseLeave",Nt="onMouseEnter",$t="mouse",(xt==="pointerout"||xt==="pointerover")&&(Xt=Td,jt="onPointerLeave",Nt="onPointerEnter",$t="pointer"),Kt=bt==null?_e:ue(bt),Dt=Ft==null?_e:ue(Ft),_e=new Xt(jt,$t+"leave",bt,ht,_t),_e.target=Kt,_e.relatedTarget=Dt,jt=null,Wc(_t)===wt&&(Xt=new Xt(Nt,$t+"enter",Ft,ht,_t),Xt.target=Dt,Xt.relatedTarget=Kt,jt=Xt),Kt=jt,bt&&Ft)t:{for(Xt=bt,Nt=Ft,$t=0,Dt=Xt;Dt;Dt=vf(Dt))$t++;for(Dt=0,jt=Nt;jt;jt=vf(jt))Dt++;for(;0<$t-Dt;)Xt=vf(Xt),$t--;for(;0<Dt-$t;)Nt=vf(Nt),Dt--;for(;$t--;){if(Xt===Nt||Nt!==null&&Xt===Nt.alternate)break t;Xt=vf(Xt),Nt=vf(Nt)}Xt=null}else Xt=null;bt!==null&&wf(Pt,_e,bt,Xt,!1),Ft!==null&&Kt!==null&&wf(Pt,Kt,Ft,Xt,!0)}}e:{if(_e=wt?ue(wt):window,bt=_e.nodeName&&_e.nodeName.toLowerCase(),bt==="select"||bt==="input"&&_e.type==="file")var Ct=ve$1;else if(me(_e))if(we)Ct=Fe$1;else{Ct=De;var qt=Ce}else(bt=_e.nodeName)&&bt.toLowerCase()==="input"&&(_e.type==="checkbox"||_e.type==="radio")&&(Ct=Ee);if(Ct&&(Ct=Ct(xt,wt))){ne(Pt,Ct,ht,_t);break e}qt&&qt(xt,_e,wt),xt==="focusout"&&(qt=_e._wrapperState)&&qt.controlled&&_e.type==="number"&&cb(_e,"number",_e.value)}switch(qt=wt?ue(wt):window,xt){case"focusin":(me(qt)||qt.contentEditable==="true")&&(Qe=qt,Re$1=wt,Se=null);break;case"focusout":Se=Re$1=Qe=null;break;case"mousedown":Te=!0;break;case"contextmenu":case"mouseup":case"dragend":Te=!1,Ue(Pt,ht,_t);break;case"selectionchange":if(Pe)break;case"keydown":case"keyup":Ue(Pt,ht,_t)}var Bt;if(ae)e:{switch(xt){case"compositionstart":var Gt="onCompositionStart";break e;case"compositionend":Gt="onCompositionEnd";break e;case"compositionupdate":Gt="onCompositionUpdate";break e}Gt=void 0}else ie?ge(xt,ht)&&(Gt="onCompositionEnd"):xt==="keydown"&&ht.keyCode===229&&(Gt="onCompositionStart");Gt&&(de&&ht.locale!=="ko"&&(ie||Gt!=="onCompositionStart"?Gt==="onCompositionEnd"&&ie&&(Bt=nd()):(kd=_t,ld="value"in kd?kd.value:kd.textContent,ie=!0)),qt=oe(wt,Gt),0<qt.length&&(Gt=new Ld(Gt,xt,null,ht,_t),Pt.push({event:Gt,listeners:qt}),Bt?Gt.data=Bt:(Bt=he(ht),Bt!==null&&(Gt.data=Bt)))),(Bt=ce$1?je(xt,ht):ke(xt,ht))&&(wt=oe(wt,"onBeforeInput"),0<wt.length&&(_t=new Ld("onBeforeInput","beforeinput",null,ht,_t),Pt.push({event:_t,listeners:wt}),_t.data=Bt))}se(Pt,$)})}function tf(xt,$,ht){return{instance:xt,listener:$,currentTarget:ht}}function oe(xt,$){for(var ht=$+"Capture",vt=[];xt!==null;){var At=xt,St=At.stateNode;At.tag===5&&St!==null&&(At=St,St=Kb(xt,ht),St!=null&&vt.unshift(tf(xt,St,At)),St=Kb(xt,$),St!=null&&vt.push(tf(xt,St,At))),xt=xt.return}return vt}function vf(xt){if(xt===null)return null;do xt=xt.return;while(xt&&xt.tag!==5);return xt||null}function wf(xt,$,ht,vt,At){for(var St=$._reactName,kt=[];ht!==null&&ht!==vt;){var Et=ht,Rt=Et.alternate,wt=Et.stateNode;if(Rt!==null&&Rt===vt)break;Et.tag===5&&wt!==null&&(Et=wt,At?(Rt=Kb(ht,St),Rt!=null&&kt.unshift(tf(ht,Rt,Et))):At||(Rt=Kb(ht,St),Rt!=null&&kt.push(tf(ht,Rt,Et)))),ht=ht.return}kt.length!==0&&xt.push({event:$,listeners:kt})}var xf=/\r\n?/g,yf=/\u0000|\uFFFD/g;function zf(xt){return(typeof xt=="string"?xt:""+xt).replace(xf,`
`).replace(yf,"")}function Af(xt,$,ht){if($=zf($),zf(xt)!==$&&ht)throw Error(p$4(425))}function Bf(){}var Cf=null,Df=null;function Ef(xt,$){return xt==="textarea"||xt==="noscript"||typeof $.children=="string"||typeof $.children=="number"||typeof $.dangerouslySetInnerHTML=="object"&&$.dangerouslySetInnerHTML!==null&&$.dangerouslySetInnerHTML.__html!=null}var Ff=typeof setTimeout=="function"?setTimeout:void 0,Gf=typeof clearTimeout=="function"?clearTimeout:void 0,Hf=typeof Promise=="function"?Promise:void 0,Jf=typeof queueMicrotask=="function"?queueMicrotask:typeof Hf<"u"?function(xt){return Hf.resolve(null).then(xt).catch(If)}:Ff;function If(xt){setTimeout(function(){throw xt})}function Kf(xt,$){var ht=$,vt=0;do{var At=ht.nextSibling;if(xt.removeChild(ht),At&&At.nodeType===8)if(ht=At.data,ht==="/$"){if(vt===0){xt.removeChild(At),bd($);return}vt--}else ht!=="$"&&ht!=="$?"&&ht!=="$!"||vt++;ht=At}while(ht);bd($)}function Lf(xt){for(;xt!=null;xt=xt.nextSibling){var $=xt.nodeType;if($===1||$===3)break;if($===8){if($=xt.data,$==="$"||$==="$!"||$==="$?")break;if($==="/$")return null}}return xt}function Mf(xt){xt=xt.previousSibling;for(var $=0;xt;){if(xt.nodeType===8){var ht=xt.data;if(ht==="$"||ht==="$!"||ht==="$?"){if($===0)return xt;$--}else ht==="/$"&&$++}xt=xt.previousSibling}return null}var Nf=Math.random().toString(36).slice(2),Of="__reactFiber$"+Nf,Pf="__reactProps$"+Nf,uf="__reactContainer$"+Nf,of="__reactEvents$"+Nf,Qf="__reactListeners$"+Nf,Rf="__reactHandles$"+Nf;function Wc(xt){var $=xt[Of];if($)return $;for(var ht=xt.parentNode;ht;){if($=ht[uf]||ht[Of]){if(ht=$.alternate,$.child!==null||ht!==null&&ht.child!==null)for(xt=Mf(xt);xt!==null;){if(ht=xt[Of])return ht;xt=Mf(xt)}return $}xt=ht,ht=xt.parentNode}return null}function Cb(xt){return xt=xt[Of]||xt[uf],!xt||xt.tag!==5&&xt.tag!==6&&xt.tag!==13&&xt.tag!==3?null:xt}function ue(xt){if(xt.tag===5||xt.tag===6)return xt.stateNode;throw Error(p$4(33))}function Db(xt){return xt[Pf]||null}var Sf=[],Tf=-1;function Uf(xt){return{current:xt}}function E$1(xt){0>Tf||(xt.current=Sf[Tf],Sf[Tf]=null,Tf--)}function G$2(xt,$){Tf++,Sf[Tf]=xt.current,xt.current=$}var Vf={},H$2=Uf(Vf),Wf=Uf(!1),Xf=Vf;function Yf(xt,$){var ht=xt.type.contextTypes;if(!ht)return Vf;var vt=xt.stateNode;if(vt&&vt.__reactInternalMemoizedUnmaskedChildContext===$)return vt.__reactInternalMemoizedMaskedChildContext;var At={},St;for(St in ht)At[St]=$[St];return vt&&(xt=xt.stateNode,xt.__reactInternalMemoizedUnmaskedChildContext=$,xt.__reactInternalMemoizedMaskedChildContext=At),At}function Zf(xt){return xt=xt.childContextTypes,xt!=null}function $f(){E$1(Wf),E$1(H$2)}function ag(xt,$,ht){if(H$2.current!==Vf)throw Error(p$4(168));G$2(H$2,$),G$2(Wf,ht)}function bg(xt,$,ht){var vt=xt.stateNode;if($=$.childContextTypes,typeof vt.getChildContext!="function")return ht;vt=vt.getChildContext();for(var At in vt)if(!(At in $))throw Error(p$4(108,Ra(xt)||"Unknown",At));return A$3({},ht,vt)}function cg(xt){return xt=(xt=xt.stateNode)&&xt.__reactInternalMemoizedMergedChildContext||Vf,Xf=H$2.current,G$2(H$2,xt),G$2(Wf,Wf.current),!0}function dg(xt,$,ht){var vt=xt.stateNode;if(!vt)throw Error(p$4(169));ht?(xt=bg(xt,$,Xf),vt.__reactInternalMemoizedMergedChildContext=xt,E$1(Wf),E$1(H$2),G$2(H$2,xt)):E$1(Wf),G$2(Wf,ht)}var eg=null,fg=!1,gg=!1;function hg(xt){eg===null?eg=[xt]:eg.push(xt)}function ig(xt){fg=!0,hg(xt)}function jg(){if(!gg&&eg!==null){gg=!0;var xt=0,$=C$1;try{var ht=eg;for(C$1=1;xt<ht.length;xt++){var vt=ht[xt];do vt=vt(!0);while(vt!==null)}eg=null,fg=!1}catch(At){throw eg!==null&&(eg=eg.slice(xt+1)),ac(fc,jg),At}finally{C$1=$,gg=!1}}return null}var kg=[],lg=0,mg=null,ng=0,og=[],pg=0,qg=null,rg=1,sg="";function tg(xt,$){kg[lg++]=ng,kg[lg++]=mg,mg=xt,ng=$}function ug(xt,$,ht){og[pg++]=rg,og[pg++]=sg,og[pg++]=qg,qg=xt;var vt=rg;xt=sg;var At=32-oc(vt)-1;vt&=~(1<<At),ht+=1;var St=32-oc($)+At;if(30<St){var kt=At-At%5;St=(vt&(1<<kt)-1).toString(32),vt>>=kt,At-=kt,rg=1<<32-oc($)+At|ht<<At|vt,sg=St+xt}else rg=1<<St|ht<<At|vt,sg=xt}function vg(xt){xt.return!==null&&(tg(xt,1),ug(xt,1,0))}function wg(xt){for(;xt===mg;)mg=kg[--lg],kg[lg]=null,ng=kg[--lg],kg[lg]=null;for(;xt===qg;)qg=og[--pg],og[pg]=null,sg=og[--pg],og[pg]=null,rg=og[--pg],og[pg]=null}var xg=null,yg=null,I$4=!1,zg=null;function Ag(xt,$){var ht=Bg(5,null,null,0);ht.elementType="DELETED",ht.stateNode=$,ht.return=xt,$=xt.deletions,$===null?(xt.deletions=[ht],xt.flags|=16):$.push(ht)}function Cg(xt,$){switch(xt.tag){case 5:var ht=xt.type;return $=$.nodeType!==1||ht.toLowerCase()!==$.nodeName.toLowerCase()?null:$,$!==null?(xt.stateNode=$,xg=xt,yg=Lf($.firstChild),!0):!1;case 6:return $=xt.pendingProps===""||$.nodeType!==3?null:$,$!==null?(xt.stateNode=$,xg=xt,yg=null,!0):!1;case 13:return $=$.nodeType!==8?null:$,$!==null?(ht=qg!==null?{id:rg,overflow:sg}:null,xt.memoizedState={dehydrated:$,treeContext:ht,retryLane:1073741824},ht=Bg(18,null,null,0),ht.stateNode=$,ht.return=xt,xt.child=ht,xg=xt,yg=null,!0):!1;default:return!1}}function Dg(xt){return(xt.mode&1)!==0&&(xt.flags&128)===0}function Eg(xt){if(I$4){var $=yg;if($){var ht=$;if(!Cg(xt,$)){if(Dg(xt))throw Error(p$4(418));$=Lf(ht.nextSibling);var vt=xg;$&&Cg(xt,$)?Ag(vt,ht):(xt.flags=xt.flags&-4097|2,I$4=!1,xg=xt)}}else{if(Dg(xt))throw Error(p$4(418));xt.flags=xt.flags&-4097|2,I$4=!1,xg=xt}}}function Fg(xt){for(xt=xt.return;xt!==null&&xt.tag!==5&&xt.tag!==3&&xt.tag!==13;)xt=xt.return;xg=xt}function Gg(xt){if(xt!==xg)return!1;if(!I$4)return Fg(xt),I$4=!0,!1;var $;if(($=xt.tag!==3)&&!($=xt.tag!==5)&&($=xt.type,$=$!=="head"&&$!=="body"&&!Ef(xt.type,xt.memoizedProps)),$&&($=yg)){if(Dg(xt))throw Hg(),Error(p$4(418));for(;$;)Ag(xt,$),$=Lf($.nextSibling)}if(Fg(xt),xt.tag===13){if(xt=xt.memoizedState,xt=xt!==null?xt.dehydrated:null,!xt)throw Error(p$4(317));e:{for(xt=xt.nextSibling,$=0;xt;){if(xt.nodeType===8){var ht=xt.data;if(ht==="/$"){if($===0){yg=Lf(xt.nextSibling);break e}$--}else ht!=="$"&&ht!=="$!"&&ht!=="$?"||$++}xt=xt.nextSibling}yg=null}}else yg=xg?Lf(xt.stateNode.nextSibling):null;return!0}function Hg(){for(var xt=yg;xt;)xt=Lf(xt.nextSibling)}function Ig(){yg=xg=null,I$4=!1}function Jg(xt){zg===null?zg=[xt]:zg.push(xt)}var Kg=ua.ReactCurrentBatchConfig;function Lg(xt,$,ht){if(xt=ht.ref,xt!==null&&typeof xt!="function"&&typeof xt!="object"){if(ht._owner){if(ht=ht._owner,ht){if(ht.tag!==1)throw Error(p$4(309));var vt=ht.stateNode}if(!vt)throw Error(p$4(147,xt));var At=vt,St=""+xt;return $!==null&&$.ref!==null&&typeof $.ref=="function"&&$.ref._stringRef===St?$.ref:($=function(kt){var Et=At.refs;kt===null?delete Et[St]:Et[St]=kt},$._stringRef=St,$)}if(typeof xt!="string")throw Error(p$4(284));if(!ht._owner)throw Error(p$4(290,xt))}return xt}function Mg(xt,$){throw xt=Object.prototype.toString.call($),Error(p$4(31,xt==="[object Object]"?"object with keys {"+Object.keys($).join(", ")+"}":xt))}function Ng(xt){var $=xt._init;return $(xt._payload)}function Og(xt){function $(Nt,$t){if(xt){var Dt=Nt.deletions;Dt===null?(Nt.deletions=[$t],Nt.flags|=16):Dt.push($t)}}function ht(Nt,$t){if(!xt)return null;for(;$t!==null;)$(Nt,$t),$t=$t.sibling;return null}function vt(Nt,$t){for(Nt=new Map;$t!==null;)$t.key!==null?Nt.set($t.key,$t):Nt.set($t.index,$t),$t=$t.sibling;return Nt}function At(Nt,$t){return Nt=Pg(Nt,$t),Nt.index=0,Nt.sibling=null,Nt}function St(Nt,$t,Dt){return Nt.index=Dt,xt?(Dt=Nt.alternate,Dt!==null?(Dt=Dt.index,Dt<$t?(Nt.flags|=2,$t):Dt):(Nt.flags|=2,$t)):(Nt.flags|=1048576,$t)}function kt(Nt){return xt&&Nt.alternate===null&&(Nt.flags|=2),Nt}function Et(Nt,$t,Dt,jt){return $t===null||$t.tag!==6?($t=Qg(Dt,Nt.mode,jt),$t.return=Nt,$t):($t=At($t,Dt),$t.return=Nt,$t)}function Rt(Nt,$t,Dt,jt){var Ct=Dt.type;return Ct===ya?_t(Nt,$t,Dt.props.children,jt,Dt.key):$t!==null&&($t.elementType===Ct||typeof Ct=="object"&&Ct!==null&&Ct.$$typeof===Ha&&Ng(Ct)===$t.type)?(jt=At($t,Dt.props),jt.ref=Lg(Nt,$t,Dt),jt.return=Nt,jt):(jt=Rg(Dt.type,Dt.key,Dt.props,null,Nt.mode,jt),jt.ref=Lg(Nt,$t,Dt),jt.return=Nt,jt)}function wt(Nt,$t,Dt,jt){return $t===null||$t.tag!==4||$t.stateNode.containerInfo!==Dt.containerInfo||$t.stateNode.implementation!==Dt.implementation?($t=Sg(Dt,Nt.mode,jt),$t.return=Nt,$t):($t=At($t,Dt.children||[]),$t.return=Nt,$t)}function _t(Nt,$t,Dt,jt,Ct){return $t===null||$t.tag!==7?($t=Tg(Dt,Nt.mode,jt,Ct),$t.return=Nt,$t):($t=At($t,Dt),$t.return=Nt,$t)}function Pt(Nt,$t,Dt){if(typeof $t=="string"&&$t!==""||typeof $t=="number")return $t=Qg(""+$t,Nt.mode,Dt),$t.return=Nt,$t;if(typeof $t=="object"&&$t!==null){switch($t.$$typeof){case va:return Dt=Rg($t.type,$t.key,$t.props,null,Nt.mode,Dt),Dt.ref=Lg(Nt,null,$t),Dt.return=Nt,Dt;case wa:return $t=Sg($t,Nt.mode,Dt),$t.return=Nt,$t;case Ha:var jt=$t._init;return Pt(Nt,jt($t._payload),Dt)}if(eb($t)||Ka($t))return $t=Tg($t,Nt.mode,Dt,null),$t.return=Nt,$t;Mg(Nt,$t)}return null}function _e(Nt,$t,Dt,jt){var Ct=$t!==null?$t.key:null;if(typeof Dt=="string"&&Dt!==""||typeof Dt=="number")return Ct!==null?null:Et(Nt,$t,""+Dt,jt);if(typeof Dt=="object"&&Dt!==null){switch(Dt.$$typeof){case va:return Dt.key===Ct?Rt(Nt,$t,Dt,jt):null;case wa:return Dt.key===Ct?wt(Nt,$t,Dt,jt):null;case Ha:return Ct=Dt._init,_e(Nt,$t,Ct(Dt._payload),jt)}if(eb(Dt)||Ka(Dt))return Ct!==null?null:_t(Nt,$t,Dt,jt,null);Mg(Nt,Dt)}return null}function bt(Nt,$t,Dt,jt,Ct){if(typeof jt=="string"&&jt!==""||typeof jt=="number")return Nt=Nt.get(Dt)||null,Et($t,Nt,""+jt,Ct);if(typeof jt=="object"&&jt!==null){switch(jt.$$typeof){case va:return Nt=Nt.get(jt.key===null?Dt:jt.key)||null,Rt($t,Nt,jt,Ct);case wa:return Nt=Nt.get(jt.key===null?Dt:jt.key)||null,wt($t,Nt,jt,Ct);case Ha:var qt=jt._init;return bt(Nt,$t,Dt,qt(jt._payload),Ct)}if(eb(jt)||Ka(jt))return Nt=Nt.get(Dt)||null,_t($t,Nt,jt,Ct,null);Mg($t,jt)}return null}function Ft(Nt,$t,Dt,jt){for(var Ct=null,qt=null,Bt=$t,Gt=$t=0,en=null;Bt!==null&&Gt<Dt.length;Gt++){Bt.index>Gt?(en=Bt,Bt=null):en=Bt.sibling;var dn=_e(Nt,Bt,Dt[Gt],jt);if(dn===null){Bt===null&&(Bt=en);break}xt&&Bt&&dn.alternate===null&&$(Nt,Bt),$t=St(dn,$t,Gt),qt===null?Ct=dn:qt.sibling=dn,qt=dn,Bt=en}if(Gt===Dt.length)return ht(Nt,Bt),I$4&&tg(Nt,Gt),Ct;if(Bt===null){for(;Gt<Dt.length;Gt++)Bt=Pt(Nt,Dt[Gt],jt),Bt!==null&&($t=St(Bt,$t,Gt),qt===null?Ct=Bt:qt.sibling=Bt,qt=Bt);return I$4&&tg(Nt,Gt),Ct}for(Bt=vt(Nt,Bt);Gt<Dt.length;Gt++)en=bt(Bt,Nt,Gt,Dt[Gt],jt),en!==null&&(xt&&en.alternate!==null&&Bt.delete(en.key===null?Gt:en.key),$t=St(en,$t,Gt),qt===null?Ct=en:qt.sibling=en,qt=en);return xt&&Bt.forEach(function(Qt){return $(Nt,Qt)}),I$4&&tg(Nt,Gt),Ct}function Xt(Nt,$t,Dt,jt){var Ct=Ka(Dt);if(typeof Ct!="function")throw Error(p$4(150));if(Dt=Ct.call(Dt),Dt==null)throw Error(p$4(151));for(var qt=Ct=null,Bt=$t,Gt=$t=0,en=null,dn=Dt.next();Bt!==null&&!dn.done;Gt++,dn=Dt.next()){Bt.index>Gt?(en=Bt,Bt=null):en=Bt.sibling;var Qt=_e(Nt,Bt,dn.value,jt);if(Qt===null){Bt===null&&(Bt=en);break}xt&&Bt&&Qt.alternate===null&&$(Nt,Bt),$t=St(Qt,$t,Gt),qt===null?Ct=Qt:qt.sibling=Qt,qt=Qt,Bt=en}if(dn.done)return ht(Nt,Bt),I$4&&tg(Nt,Gt),Ct;if(Bt===null){for(;!dn.done;Gt++,dn=Dt.next())dn=Pt(Nt,dn.value,jt),dn!==null&&($t=St(dn,$t,Gt),qt===null?Ct=dn:qt.sibling=dn,qt=dn);return I$4&&tg(Nt,Gt),Ct}for(Bt=vt(Nt,Bt);!dn.done;Gt++,dn=Dt.next())dn=bt(Bt,Nt,Gt,dn.value,jt),dn!==null&&(xt&&dn.alternate!==null&&Bt.delete(dn.key===null?Gt:dn.key),$t=St(dn,$t,Gt),qt===null?Ct=dn:qt.sibling=dn,qt=dn);return xt&&Bt.forEach(function(gn){return $(Nt,gn)}),I$4&&tg(Nt,Gt),Ct}function Kt(Nt,$t,Dt,jt){if(typeof Dt=="object"&&Dt!==null&&Dt.type===ya&&Dt.key===null&&(Dt=Dt.props.children),typeof Dt=="object"&&Dt!==null){switch(Dt.$$typeof){case va:e:{for(var Ct=Dt.key,qt=$t;qt!==null;){if(qt.key===Ct){if(Ct=Dt.type,Ct===ya){if(qt.tag===7){ht(Nt,qt.sibling),$t=At(qt,Dt.props.children),$t.return=Nt,Nt=$t;break e}}else if(qt.elementType===Ct||typeof Ct=="object"&&Ct!==null&&Ct.$$typeof===Ha&&Ng(Ct)===qt.type){ht(Nt,qt.sibling),$t=At(qt,Dt.props),$t.ref=Lg(Nt,qt,Dt),$t.return=Nt,Nt=$t;break e}ht(Nt,qt);break}else $(Nt,qt);qt=qt.sibling}Dt.type===ya?($t=Tg(Dt.props.children,Nt.mode,jt,Dt.key),$t.return=Nt,Nt=$t):(jt=Rg(Dt.type,Dt.key,Dt.props,null,Nt.mode,jt),jt.ref=Lg(Nt,$t,Dt),jt.return=Nt,Nt=jt)}return kt(Nt);case wa:e:{for(qt=Dt.key;$t!==null;){if($t.key===qt)if($t.tag===4&&$t.stateNode.containerInfo===Dt.containerInfo&&$t.stateNode.implementation===Dt.implementation){ht(Nt,$t.sibling),$t=At($t,Dt.children||[]),$t.return=Nt,Nt=$t;break e}else{ht(Nt,$t);break}else $(Nt,$t);$t=$t.sibling}$t=Sg(Dt,Nt.mode,jt),$t.return=Nt,Nt=$t}return kt(Nt);case Ha:return qt=Dt._init,Kt(Nt,$t,qt(Dt._payload),jt)}if(eb(Dt))return Ft(Nt,$t,Dt,jt);if(Ka(Dt))return Xt(Nt,$t,Dt,jt);Mg(Nt,Dt)}return typeof Dt=="string"&&Dt!==""||typeof Dt=="number"?(Dt=""+Dt,$t!==null&&$t.tag===6?(ht(Nt,$t.sibling),$t=At($t,Dt),$t.return=Nt,Nt=$t):(ht(Nt,$t),$t=Qg(Dt,Nt.mode,jt),$t.return=Nt,Nt=$t),kt(Nt)):ht(Nt,$t)}return Kt}var Ug=Og(!0),Vg=Og(!1),Wg=Uf(null),Xg=null,Yg=null,Zg=null;function $g(){Zg=Yg=Xg=null}function ah(xt){var $=Wg.current;E$1(Wg),xt._currentValue=$}function bh(xt,$,ht){for(;xt!==null;){var vt=xt.alternate;if((xt.childLanes&$)!==$?(xt.childLanes|=$,vt!==null&&(vt.childLanes|=$)):vt!==null&&(vt.childLanes&$)!==$&&(vt.childLanes|=$),xt===ht)break;xt=xt.return}}function ch(xt,$){Xg=xt,Zg=Yg=null,xt=xt.dependencies,xt!==null&&xt.firstContext!==null&&(xt.lanes&$&&(dh=!0),xt.firstContext=null)}function eh(xt){var $=xt._currentValue;if(Zg!==xt)if(xt={context:xt,memoizedValue:$,next:null},Yg===null){if(Xg===null)throw Error(p$4(308));Yg=xt,Xg.dependencies={lanes:0,firstContext:xt}}else Yg=Yg.next=xt;return $}var fh=null;function gh(xt){fh===null?fh=[xt]:fh.push(xt)}function hh(xt,$,ht,vt){var At=$.interleaved;return At===null?(ht.next=ht,gh($)):(ht.next=At.next,At.next=ht),$.interleaved=ht,ih(xt,vt)}function ih(xt,$){xt.lanes|=$;var ht=xt.alternate;for(ht!==null&&(ht.lanes|=$),ht=xt,xt=xt.return;xt!==null;)xt.childLanes|=$,ht=xt.alternate,ht!==null&&(ht.childLanes|=$),ht=xt,xt=xt.return;return ht.tag===3?ht.stateNode:null}var jh=!1;function kh(xt){xt.updateQueue={baseState:xt.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function lh(xt,$){xt=xt.updateQueue,$.updateQueue===xt&&($.updateQueue={baseState:xt.baseState,firstBaseUpdate:xt.firstBaseUpdate,lastBaseUpdate:xt.lastBaseUpdate,shared:xt.shared,effects:xt.effects})}function mh(xt,$){return{eventTime:xt,lane:$,tag:0,payload:null,callback:null,next:null}}function nh(xt,$,ht){var vt=xt.updateQueue;if(vt===null)return null;if(vt=vt.shared,K&2){var At=vt.pending;return At===null?$.next=$:($.next=At.next,At.next=$),vt.pending=$,ih(xt,ht)}return At=vt.interleaved,At===null?($.next=$,gh(vt)):($.next=At.next,At.next=$),vt.interleaved=$,ih(xt,ht)}function oh(xt,$,ht){if($=$.updateQueue,$!==null&&($=$.shared,(ht&4194240)!==0)){var vt=$.lanes;vt&=xt.pendingLanes,ht|=vt,$.lanes=ht,Cc(xt,ht)}}function ph(xt,$){var ht=xt.updateQueue,vt=xt.alternate;if(vt!==null&&(vt=vt.updateQueue,ht===vt)){var At=null,St=null;if(ht=ht.firstBaseUpdate,ht!==null){do{var kt={eventTime:ht.eventTime,lane:ht.lane,tag:ht.tag,payload:ht.payload,callback:ht.callback,next:null};St===null?At=St=kt:St=St.next=kt,ht=ht.next}while(ht!==null);St===null?At=St=$:St=St.next=$}else At=St=$;ht={baseState:vt.baseState,firstBaseUpdate:At,lastBaseUpdate:St,shared:vt.shared,effects:vt.effects},xt.updateQueue=ht;return}xt=ht.lastBaseUpdate,xt===null?ht.firstBaseUpdate=$:xt.next=$,ht.lastBaseUpdate=$}function qh(xt,$,ht,vt){var At=xt.updateQueue;jh=!1;var St=At.firstBaseUpdate,kt=At.lastBaseUpdate,Et=At.shared.pending;if(Et!==null){At.shared.pending=null;var Rt=Et,wt=Rt.next;Rt.next=null,kt===null?St=wt:kt.next=wt,kt=Rt;var _t=xt.alternate;_t!==null&&(_t=_t.updateQueue,Et=_t.lastBaseUpdate,Et!==kt&&(Et===null?_t.firstBaseUpdate=wt:Et.next=wt,_t.lastBaseUpdate=Rt))}if(St!==null){var Pt=At.baseState;kt=0,_t=wt=Rt=null,Et=St;do{var _e=Et.lane,bt=Et.eventTime;if((vt&_e)===_e){_t!==null&&(_t=_t.next={eventTime:bt,lane:0,tag:Et.tag,payload:Et.payload,callback:Et.callback,next:null});e:{var Ft=xt,Xt=Et;switch(_e=$,bt=ht,Xt.tag){case 1:if(Ft=Xt.payload,typeof Ft=="function"){Pt=Ft.call(bt,Pt,_e);break e}Pt=Ft;break e;case 3:Ft.flags=Ft.flags&-65537|128;case 0:if(Ft=Xt.payload,_e=typeof Ft=="function"?Ft.call(bt,Pt,_e):Ft,_e==null)break e;Pt=A$3({},Pt,_e);break e;case 2:jh=!0}}Et.callback!==null&&Et.lane!==0&&(xt.flags|=64,_e=At.effects,_e===null?At.effects=[Et]:_e.push(Et))}else bt={eventTime:bt,lane:_e,tag:Et.tag,payload:Et.payload,callback:Et.callback,next:null},_t===null?(wt=_t=bt,Rt=Pt):_t=_t.next=bt,kt|=_e;if(Et=Et.next,Et===null){if(Et=At.shared.pending,Et===null)break;_e=Et,Et=_e.next,_e.next=null,At.lastBaseUpdate=_e,At.shared.pending=null}}while(!0);if(_t===null&&(Rt=Pt),At.baseState=Rt,At.firstBaseUpdate=wt,At.lastBaseUpdate=_t,$=At.shared.interleaved,$!==null){At=$;do kt|=At.lane,At=At.next;while(At!==$)}else St===null&&(At.shared.lanes=0);rh|=kt,xt.lanes=kt,xt.memoizedState=Pt}}function sh(xt,$,ht){if(xt=$.effects,$.effects=null,xt!==null)for($=0;$<xt.length;$++){var vt=xt[$],At=vt.callback;if(At!==null){if(vt.callback=null,vt=ht,typeof At!="function")throw Error(p$4(191,At));At.call(vt)}}}var th={},uh=Uf(th),vh=Uf(th),wh=Uf(th);function xh(xt){if(xt===th)throw Error(p$4(174));return xt}function yh(xt,$){switch(G$2(wh,$),G$2(vh,xt),G$2(uh,th),xt=$.nodeType,xt){case 9:case 11:$=($=$.documentElement)?$.namespaceURI:lb(null,"");break;default:xt=xt===8?$.parentNode:$,$=xt.namespaceURI||null,xt=xt.tagName,$=lb($,xt)}E$1(uh),G$2(uh,$)}function zh(){E$1(uh),E$1(vh),E$1(wh)}function Ah(xt){xh(wh.current);var $=xh(uh.current),ht=lb($,xt.type);$!==ht&&(G$2(vh,xt),G$2(uh,ht))}function Bh(xt){vh.current===xt&&(E$1(uh),E$1(vh))}var L$1=Uf(0);function Ch(xt){for(var $=xt;$!==null;){if($.tag===13){var ht=$.memoizedState;if(ht!==null&&(ht=ht.dehydrated,ht===null||ht.data==="$?"||ht.data==="$!"))return $}else if($.tag===19&&$.memoizedProps.revealOrder!==void 0){if($.flags&128)return $}else if($.child!==null){$.child.return=$,$=$.child;continue}if($===xt)break;for(;$.sibling===null;){if($.return===null||$.return===xt)return null;$=$.return}$.sibling.return=$.return,$=$.sibling}return null}var Dh=[];function Eh(){for(var xt=0;xt<Dh.length;xt++)Dh[xt]._workInProgressVersionPrimary=null;Dh.length=0}var Fh=ua.ReactCurrentDispatcher,Gh=ua.ReactCurrentBatchConfig,Hh=0,M$3=null,N$3=null,O$2=null,Ih=!1,Jh=!1,Kh=0,Lh=0;function P$3(){throw Error(p$4(321))}function Mh(xt,$){if($===null)return!1;for(var ht=0;ht<$.length&&ht<xt.length;ht++)if(!He(xt[ht],$[ht]))return!1;return!0}function Nh(xt,$,ht,vt,At,St){if(Hh=St,M$3=$,$.memoizedState=null,$.updateQueue=null,$.lanes=0,Fh.current=xt===null||xt.memoizedState===null?Oh:Ph,xt=ht(vt,At),Jh){St=0;do{if(Jh=!1,Kh=0,25<=St)throw Error(p$4(301));St+=1,O$2=N$3=null,$.updateQueue=null,Fh.current=Qh,xt=ht(vt,At)}while(Jh)}if(Fh.current=Rh,$=N$3!==null&&N$3.next!==null,Hh=0,O$2=N$3=M$3=null,Ih=!1,$)throw Error(p$4(300));return xt}function Sh(){var xt=Kh!==0;return Kh=0,xt}function Th(){var xt={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return O$2===null?M$3.memoizedState=O$2=xt:O$2=O$2.next=xt,O$2}function Uh(){if(N$3===null){var xt=M$3.alternate;xt=xt!==null?xt.memoizedState:null}else xt=N$3.next;var $=O$2===null?M$3.memoizedState:O$2.next;if($!==null)O$2=$,N$3=xt;else{if(xt===null)throw Error(p$4(310));N$3=xt,xt={memoizedState:N$3.memoizedState,baseState:N$3.baseState,baseQueue:N$3.baseQueue,queue:N$3.queue,next:null},O$2===null?M$3.memoizedState=O$2=xt:O$2=O$2.next=xt}return O$2}function Vh(xt,$){return typeof $=="function"?$(xt):$}function Wh(xt){var $=Uh(),ht=$.queue;if(ht===null)throw Error(p$4(311));ht.lastRenderedReducer=xt;var vt=N$3,At=vt.baseQueue,St=ht.pending;if(St!==null){if(At!==null){var kt=At.next;At.next=St.next,St.next=kt}vt.baseQueue=At=St,ht.pending=null}if(At!==null){St=At.next,vt=vt.baseState;var Et=kt=null,Rt=null,wt=St;do{var _t=wt.lane;if((Hh&_t)===_t)Rt!==null&&(Rt=Rt.next={lane:0,action:wt.action,hasEagerState:wt.hasEagerState,eagerState:wt.eagerState,next:null}),vt=wt.hasEagerState?wt.eagerState:xt(vt,wt.action);else{var Pt={lane:_t,action:wt.action,hasEagerState:wt.hasEagerState,eagerState:wt.eagerState,next:null};Rt===null?(Et=Rt=Pt,kt=vt):Rt=Rt.next=Pt,M$3.lanes|=_t,rh|=_t}wt=wt.next}while(wt!==null&&wt!==St);Rt===null?kt=vt:Rt.next=Et,He(vt,$.memoizedState)||(dh=!0),$.memoizedState=vt,$.baseState=kt,$.baseQueue=Rt,ht.lastRenderedState=vt}if(xt=ht.interleaved,xt!==null){At=xt;do St=At.lane,M$3.lanes|=St,rh|=St,At=At.next;while(At!==xt)}else At===null&&(ht.lanes=0);return[$.memoizedState,ht.dispatch]}function Xh(xt){var $=Uh(),ht=$.queue;if(ht===null)throw Error(p$4(311));ht.lastRenderedReducer=xt;var vt=ht.dispatch,At=ht.pending,St=$.memoizedState;if(At!==null){ht.pending=null;var kt=At=At.next;do St=xt(St,kt.action),kt=kt.next;while(kt!==At);He(St,$.memoizedState)||(dh=!0),$.memoizedState=St,$.baseQueue===null&&($.baseState=St),ht.lastRenderedState=St}return[St,vt]}function Yh(){}function Zh(xt,$){var ht=M$3,vt=Uh(),At=$(),St=!He(vt.memoizedState,At);if(St&&(vt.memoizedState=At,dh=!0),vt=vt.queue,$h(ai.bind(null,ht,vt,xt),[xt]),vt.getSnapshot!==$||St||O$2!==null&&O$2.memoizedState.tag&1){if(ht.flags|=2048,bi(9,ci.bind(null,ht,vt,At,$),void 0,null),Q===null)throw Error(p$4(349));Hh&30||di(ht,$,At)}return At}function di(xt,$,ht){xt.flags|=16384,xt={getSnapshot:$,value:ht},$=M$3.updateQueue,$===null?($={lastEffect:null,stores:null},M$3.updateQueue=$,$.stores=[xt]):(ht=$.stores,ht===null?$.stores=[xt]:ht.push(xt))}function ci(xt,$,ht,vt){$.value=ht,$.getSnapshot=vt,ei($)&&fi(xt)}function ai(xt,$,ht){return ht(function(){ei($)&&fi(xt)})}function ei(xt){var $=xt.getSnapshot;xt=xt.value;try{var ht=$();return!He(xt,ht)}catch{return!0}}function fi(xt){var $=ih(xt,1);$!==null&&gi($,xt,1,-1)}function hi(xt){var $=Th();return typeof xt=="function"&&(xt=xt()),$.memoizedState=$.baseState=xt,xt={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Vh,lastRenderedState:xt},$.queue=xt,xt=xt.dispatch=ii.bind(null,M$3,xt),[$.memoizedState,xt]}function bi(xt,$,ht,vt){return xt={tag:xt,create:$,destroy:ht,deps:vt,next:null},$=M$3.updateQueue,$===null?($={lastEffect:null,stores:null},M$3.updateQueue=$,$.lastEffect=xt.next=xt):(ht=$.lastEffect,ht===null?$.lastEffect=xt.next=xt:(vt=ht.next,ht.next=xt,xt.next=vt,$.lastEffect=xt)),xt}function ji(){return Uh().memoizedState}function ki(xt,$,ht,vt){var At=Th();M$3.flags|=xt,At.memoizedState=bi(1|$,ht,void 0,vt===void 0?null:vt)}function li(xt,$,ht,vt){var At=Uh();vt=vt===void 0?null:vt;var St=void 0;if(N$3!==null){var kt=N$3.memoizedState;if(St=kt.destroy,vt!==null&&Mh(vt,kt.deps)){At.memoizedState=bi($,ht,St,vt);return}}M$3.flags|=xt,At.memoizedState=bi(1|$,ht,St,vt)}function mi(xt,$){return ki(8390656,8,xt,$)}function $h(xt,$){return li(2048,8,xt,$)}function ni(xt,$){return li(4,2,xt,$)}function oi(xt,$){return li(4,4,xt,$)}function pi(xt,$){if(typeof $=="function")return xt=xt(),$(xt),function(){$(null)};if($!=null)return xt=xt(),$.current=xt,function(){$.current=null}}function qi(xt,$,ht){return ht=ht!=null?ht.concat([xt]):null,li(4,4,pi.bind(null,$,xt),ht)}function ri(){}function si(xt,$){var ht=Uh();$=$===void 0?null:$;var vt=ht.memoizedState;return vt!==null&&$!==null&&Mh($,vt[1])?vt[0]:(ht.memoizedState=[xt,$],xt)}function ti(xt,$){var ht=Uh();$=$===void 0?null:$;var vt=ht.memoizedState;return vt!==null&&$!==null&&Mh($,vt[1])?vt[0]:(xt=xt(),ht.memoizedState=[xt,$],xt)}function ui(xt,$,ht){return Hh&21?(He(ht,$)||(ht=yc(),M$3.lanes|=ht,rh|=ht,xt.baseState=!0),$):(xt.baseState&&(xt.baseState=!1,dh=!0),xt.memoizedState=ht)}function vi(xt,$){var ht=C$1;C$1=ht!==0&&4>ht?ht:4,xt(!0);var vt=Gh.transition;Gh.transition={};try{xt(!1),$()}finally{C$1=ht,Gh.transition=vt}}function wi(){return Uh().memoizedState}function xi(xt,$,ht){var vt=yi(xt);if(ht={lane:vt,action:ht,hasEagerState:!1,eagerState:null,next:null},zi(xt))Ai($,ht);else if(ht=hh(xt,$,ht,vt),ht!==null){var At=R$1();gi(ht,xt,vt,At),Bi(ht,$,vt)}}function ii(xt,$,ht){var vt=yi(xt),At={lane:vt,action:ht,hasEagerState:!1,eagerState:null,next:null};if(zi(xt))Ai($,At);else{var St=xt.alternate;if(xt.lanes===0&&(St===null||St.lanes===0)&&(St=$.lastRenderedReducer,St!==null))try{var kt=$.lastRenderedState,Et=St(kt,ht);if(At.hasEagerState=!0,At.eagerState=Et,He(Et,kt)){var Rt=$.interleaved;Rt===null?(At.next=At,gh($)):(At.next=Rt.next,Rt.next=At),$.interleaved=At;return}}catch{}finally{}ht=hh(xt,$,At,vt),ht!==null&&(At=R$1(),gi(ht,xt,vt,At),Bi(ht,$,vt))}}function zi(xt){var $=xt.alternate;return xt===M$3||$!==null&&$===M$3}function Ai(xt,$){Jh=Ih=!0;var ht=xt.pending;ht===null?$.next=$:($.next=ht.next,ht.next=$),xt.pending=$}function Bi(xt,$,ht){if(ht&4194240){var vt=$.lanes;vt&=xt.pendingLanes,ht|=vt,$.lanes=ht,Cc(xt,ht)}}var Rh={readContext:eh,useCallback:P$3,useContext:P$3,useEffect:P$3,useImperativeHandle:P$3,useInsertionEffect:P$3,useLayoutEffect:P$3,useMemo:P$3,useReducer:P$3,useRef:P$3,useState:P$3,useDebugValue:P$3,useDeferredValue:P$3,useTransition:P$3,useMutableSource:P$3,useSyncExternalStore:P$3,useId:P$3,unstable_isNewReconciler:!1},Oh={readContext:eh,useCallback:function(xt,$){return Th().memoizedState=[xt,$===void 0?null:$],xt},useContext:eh,useEffect:mi,useImperativeHandle:function(xt,$,ht){return ht=ht!=null?ht.concat([xt]):null,ki(4194308,4,pi.bind(null,$,xt),ht)},useLayoutEffect:function(xt,$){return ki(4194308,4,xt,$)},useInsertionEffect:function(xt,$){return ki(4,2,xt,$)},useMemo:function(xt,$){var ht=Th();return $=$===void 0?null:$,xt=xt(),ht.memoizedState=[xt,$],xt},useReducer:function(xt,$,ht){var vt=Th();return $=ht!==void 0?ht($):$,vt.memoizedState=vt.baseState=$,xt={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:xt,lastRenderedState:$},vt.queue=xt,xt=xt.dispatch=xi.bind(null,M$3,xt),[vt.memoizedState,xt]},useRef:function(xt){var $=Th();return xt={current:xt},$.memoizedState=xt},useState:hi,useDebugValue:ri,useDeferredValue:function(xt){return Th().memoizedState=xt},useTransition:function(){var xt=hi(!1),$=xt[0];return xt=vi.bind(null,xt[1]),Th().memoizedState=xt,[$,xt]},useMutableSource:function(){},useSyncExternalStore:function(xt,$,ht){var vt=M$3,At=Th();if(I$4){if(ht===void 0)throw Error(p$4(407));ht=ht()}else{if(ht=$(),Q===null)throw Error(p$4(349));Hh&30||di(vt,$,ht)}At.memoizedState=ht;var St={value:ht,getSnapshot:$};return At.queue=St,mi(ai.bind(null,vt,St,xt),[xt]),vt.flags|=2048,bi(9,ci.bind(null,vt,St,ht,$),void 0,null),ht},useId:function(){var xt=Th(),$=Q.identifierPrefix;if(I$4){var ht=sg,vt=rg;ht=(vt&~(1<<32-oc(vt)-1)).toString(32)+ht,$=":"+$+"R"+ht,ht=Kh++,0<ht&&($+="H"+ht.toString(32)),$+=":"}else ht=Lh++,$=":"+$+"r"+ht.toString(32)+":";return xt.memoizedState=$},unstable_isNewReconciler:!1},Ph={readContext:eh,useCallback:si,useContext:eh,useEffect:$h,useImperativeHandle:qi,useInsertionEffect:ni,useLayoutEffect:oi,useMemo:ti,useReducer:Wh,useRef:ji,useState:function(){return Wh(Vh)},useDebugValue:ri,useDeferredValue:function(xt){var $=Uh();return ui($,N$3.memoizedState,xt)},useTransition:function(){var xt=Wh(Vh)[0],$=Uh().memoizedState;return[xt,$]},useMutableSource:Yh,useSyncExternalStore:Zh,useId:wi,unstable_isNewReconciler:!1},Qh={readContext:eh,useCallback:si,useContext:eh,useEffect:$h,useImperativeHandle:qi,useInsertionEffect:ni,useLayoutEffect:oi,useMemo:ti,useReducer:Xh,useRef:ji,useState:function(){return Xh(Vh)},useDebugValue:ri,useDeferredValue:function(xt){var $=Uh();return N$3===null?$.memoizedState=xt:ui($,N$3.memoizedState,xt)},useTransition:function(){var xt=Xh(Vh)[0],$=Uh().memoizedState;return[xt,$]},useMutableSource:Yh,useSyncExternalStore:Zh,useId:wi,unstable_isNewReconciler:!1};function Ci(xt,$){if(xt&&xt.defaultProps){$=A$3({},$),xt=xt.defaultProps;for(var ht in xt)$[ht]===void 0&&($[ht]=xt[ht]);return $}return $}function Di(xt,$,ht,vt){$=xt.memoizedState,ht=ht(vt,$),ht=ht==null?$:A$3({},$,ht),xt.memoizedState=ht,xt.lanes===0&&(xt.updateQueue.baseState=ht)}var Ei={isMounted:function(xt){return(xt=xt._reactInternals)?Vb(xt)===xt:!1},enqueueSetState:function(xt,$,ht){xt=xt._reactInternals;var vt=R$1(),At=yi(xt),St=mh(vt,At);St.payload=$,ht!=null&&(St.callback=ht),$=nh(xt,St,At),$!==null&&(gi($,xt,At,vt),oh($,xt,At))},enqueueReplaceState:function(xt,$,ht){xt=xt._reactInternals;var vt=R$1(),At=yi(xt),St=mh(vt,At);St.tag=1,St.payload=$,ht!=null&&(St.callback=ht),$=nh(xt,St,At),$!==null&&(gi($,xt,At,vt),oh($,xt,At))},enqueueForceUpdate:function(xt,$){xt=xt._reactInternals;var ht=R$1(),vt=yi(xt),At=mh(ht,vt);At.tag=2,$!=null&&(At.callback=$),$=nh(xt,At,vt),$!==null&&(gi($,xt,vt,ht),oh($,xt,vt))}};function Fi(xt,$,ht,vt,At,St,kt){return xt=xt.stateNode,typeof xt.shouldComponentUpdate=="function"?xt.shouldComponentUpdate(vt,St,kt):$.prototype&&$.prototype.isPureReactComponent?!Ie(ht,vt)||!Ie(At,St):!0}function Gi(xt,$,ht){var vt=!1,At=Vf,St=$.contextType;return typeof St=="object"&&St!==null?St=eh(St):(At=Zf($)?Xf:H$2.current,vt=$.contextTypes,St=(vt=vt!=null)?Yf(xt,At):Vf),$=new $(ht,St),xt.memoizedState=$.state!==null&&$.state!==void 0?$.state:null,$.updater=Ei,xt.stateNode=$,$._reactInternals=xt,vt&&(xt=xt.stateNode,xt.__reactInternalMemoizedUnmaskedChildContext=At,xt.__reactInternalMemoizedMaskedChildContext=St),$}function Hi(xt,$,ht,vt){xt=$.state,typeof $.componentWillReceiveProps=="function"&&$.componentWillReceiveProps(ht,vt),typeof $.UNSAFE_componentWillReceiveProps=="function"&&$.UNSAFE_componentWillReceiveProps(ht,vt),$.state!==xt&&Ei.enqueueReplaceState($,$.state,null)}function Ii(xt,$,ht,vt){var At=xt.stateNode;At.props=ht,At.state=xt.memoizedState,At.refs={},kh(xt);var St=$.contextType;typeof St=="object"&&St!==null?At.context=eh(St):(St=Zf($)?Xf:H$2.current,At.context=Yf(xt,St)),At.state=xt.memoizedState,St=$.getDerivedStateFromProps,typeof St=="function"&&(Di(xt,$,St,ht),At.state=xt.memoizedState),typeof $.getDerivedStateFromProps=="function"||typeof At.getSnapshotBeforeUpdate=="function"||typeof At.UNSAFE_componentWillMount!="function"&&typeof At.componentWillMount!="function"||($=At.state,typeof At.componentWillMount=="function"&&At.componentWillMount(),typeof At.UNSAFE_componentWillMount=="function"&&At.UNSAFE_componentWillMount(),$!==At.state&&Ei.enqueueReplaceState(At,At.state,null),qh(xt,ht,At,vt),At.state=xt.memoizedState),typeof At.componentDidMount=="function"&&(xt.flags|=4194308)}function Ji(xt,$){try{var ht="",vt=$;do ht+=Pa(vt),vt=vt.return;while(vt);var At=ht}catch(St){At=`
Error generating stack: `+St.message+`
`+St.stack}return{value:xt,source:$,stack:At,digest:null}}function Ki(xt,$,ht){return{value:xt,source:null,stack:ht??null,digest:$??null}}function Li(xt,$){try{console.error($.value)}catch(ht){setTimeout(function(){throw ht})}}var Mi=typeof WeakMap=="function"?WeakMap:Map;function Ni(xt,$,ht){ht=mh(-1,ht),ht.tag=3,ht.payload={element:null};var vt=$.value;return ht.callback=function(){Oi||(Oi=!0,Pi=vt),Li(xt,$)},ht}function Qi(xt,$,ht){ht=mh(-1,ht),ht.tag=3;var vt=xt.type.getDerivedStateFromError;if(typeof vt=="function"){var At=$.value;ht.payload=function(){return vt(At)},ht.callback=function(){Li(xt,$)}}var St=xt.stateNode;return St!==null&&typeof St.componentDidCatch=="function"&&(ht.callback=function(){Li(xt,$),typeof vt!="function"&&(Ri===null?Ri=new Set([this]):Ri.add(this));var kt=$.stack;this.componentDidCatch($.value,{componentStack:kt!==null?kt:""})}),ht}function Si(xt,$,ht){var vt=xt.pingCache;if(vt===null){vt=xt.pingCache=new Mi;var At=new Set;vt.set($,At)}else At=vt.get($),At===void 0&&(At=new Set,vt.set($,At));At.has(ht)||(At.add(ht),xt=Ti.bind(null,xt,$,ht),$.then(xt,xt))}function Ui(xt){do{var $;if(($=xt.tag===13)&&($=xt.memoizedState,$=$!==null?$.dehydrated!==null:!0),$)return xt;xt=xt.return}while(xt!==null);return null}function Vi(xt,$,ht,vt,At){return xt.mode&1?(xt.flags|=65536,xt.lanes=At,xt):(xt===$?xt.flags|=65536:(xt.flags|=128,ht.flags|=131072,ht.flags&=-52805,ht.tag===1&&(ht.alternate===null?ht.tag=17:($=mh(-1,1),$.tag=2,nh(ht,$,1))),ht.lanes|=1),xt)}var Wi=ua.ReactCurrentOwner,dh=!1;function Xi(xt,$,ht,vt){$.child=xt===null?Vg($,null,ht,vt):Ug($,xt.child,ht,vt)}function Yi(xt,$,ht,vt,At){ht=ht.render;var St=$.ref;return ch($,At),vt=Nh(xt,$,ht,vt,St,At),ht=Sh(),xt!==null&&!dh?($.updateQueue=xt.updateQueue,$.flags&=-2053,xt.lanes&=~At,Zi(xt,$,At)):(I$4&&ht&&vg($),$.flags|=1,Xi(xt,$,vt,At),$.child)}function $i(xt,$,ht,vt,At){if(xt===null){var St=ht.type;return typeof St=="function"&&!aj(St)&&St.defaultProps===void 0&&ht.compare===null&&ht.defaultProps===void 0?($.tag=15,$.type=St,bj(xt,$,St,vt,At)):(xt=Rg(ht.type,null,vt,$,$.mode,At),xt.ref=$.ref,xt.return=$,$.child=xt)}if(St=xt.child,!(xt.lanes&At)){var kt=St.memoizedProps;if(ht=ht.compare,ht=ht!==null?ht:Ie,ht(kt,vt)&&xt.ref===$.ref)return Zi(xt,$,At)}return $.flags|=1,xt=Pg(St,vt),xt.ref=$.ref,xt.return=$,$.child=xt}function bj(xt,$,ht,vt,At){if(xt!==null){var St=xt.memoizedProps;if(Ie(St,vt)&&xt.ref===$.ref)if(dh=!1,$.pendingProps=vt=St,(xt.lanes&At)!==0)xt.flags&131072&&(dh=!0);else return $.lanes=xt.lanes,Zi(xt,$,At)}return cj(xt,$,ht,vt,At)}function dj(xt,$,ht){var vt=$.pendingProps,At=vt.children,St=xt!==null?xt.memoizedState:null;if(vt.mode==="hidden")if(!($.mode&1))$.memoizedState={baseLanes:0,cachePool:null,transitions:null},G$2(ej,fj),fj|=ht;else{if(!(ht&1073741824))return xt=St!==null?St.baseLanes|ht:ht,$.lanes=$.childLanes=1073741824,$.memoizedState={baseLanes:xt,cachePool:null,transitions:null},$.updateQueue=null,G$2(ej,fj),fj|=xt,null;$.memoizedState={baseLanes:0,cachePool:null,transitions:null},vt=St!==null?St.baseLanes:ht,G$2(ej,fj),fj|=vt}else St!==null?(vt=St.baseLanes|ht,$.memoizedState=null):vt=ht,G$2(ej,fj),fj|=vt;return Xi(xt,$,At,ht),$.child}function gj(xt,$){var ht=$.ref;(xt===null&&ht!==null||xt!==null&&xt.ref!==ht)&&($.flags|=512,$.flags|=2097152)}function cj(xt,$,ht,vt,At){var St=Zf(ht)?Xf:H$2.current;return St=Yf($,St),ch($,At),ht=Nh(xt,$,ht,vt,St,At),vt=Sh(),xt!==null&&!dh?($.updateQueue=xt.updateQueue,$.flags&=-2053,xt.lanes&=~At,Zi(xt,$,At)):(I$4&&vt&&vg($),$.flags|=1,Xi(xt,$,ht,At),$.child)}function hj(xt,$,ht,vt,At){if(Zf(ht)){var St=!0;cg($)}else St=!1;if(ch($,At),$.stateNode===null)ij(xt,$),Gi($,ht,vt),Ii($,ht,vt,At),vt=!0;else if(xt===null){var kt=$.stateNode,Et=$.memoizedProps;kt.props=Et;var Rt=kt.context,wt=ht.contextType;typeof wt=="object"&&wt!==null?wt=eh(wt):(wt=Zf(ht)?Xf:H$2.current,wt=Yf($,wt));var _t=ht.getDerivedStateFromProps,Pt=typeof _t=="function"||typeof kt.getSnapshotBeforeUpdate=="function";Pt||typeof kt.UNSAFE_componentWillReceiveProps!="function"&&typeof kt.componentWillReceiveProps!="function"||(Et!==vt||Rt!==wt)&&Hi($,kt,vt,wt),jh=!1;var _e=$.memoizedState;kt.state=_e,qh($,vt,kt,At),Rt=$.memoizedState,Et!==vt||_e!==Rt||Wf.current||jh?(typeof _t=="function"&&(Di($,ht,_t,vt),Rt=$.memoizedState),(Et=jh||Fi($,ht,Et,vt,_e,Rt,wt))?(Pt||typeof kt.UNSAFE_componentWillMount!="function"&&typeof kt.componentWillMount!="function"||(typeof kt.componentWillMount=="function"&&kt.componentWillMount(),typeof kt.UNSAFE_componentWillMount=="function"&&kt.UNSAFE_componentWillMount()),typeof kt.componentDidMount=="function"&&($.flags|=4194308)):(typeof kt.componentDidMount=="function"&&($.flags|=4194308),$.memoizedProps=vt,$.memoizedState=Rt),kt.props=vt,kt.state=Rt,kt.context=wt,vt=Et):(typeof kt.componentDidMount=="function"&&($.flags|=4194308),vt=!1)}else{kt=$.stateNode,lh(xt,$),Et=$.memoizedProps,wt=$.type===$.elementType?Et:Ci($.type,Et),kt.props=wt,Pt=$.pendingProps,_e=kt.context,Rt=ht.contextType,typeof Rt=="object"&&Rt!==null?Rt=eh(Rt):(Rt=Zf(ht)?Xf:H$2.current,Rt=Yf($,Rt));var bt=ht.getDerivedStateFromProps;(_t=typeof bt=="function"||typeof kt.getSnapshotBeforeUpdate=="function")||typeof kt.UNSAFE_componentWillReceiveProps!="function"&&typeof kt.componentWillReceiveProps!="function"||(Et!==Pt||_e!==Rt)&&Hi($,kt,vt,Rt),jh=!1,_e=$.memoizedState,kt.state=_e,qh($,vt,kt,At);var Ft=$.memoizedState;Et!==Pt||_e!==Ft||Wf.current||jh?(typeof bt=="function"&&(Di($,ht,bt,vt),Ft=$.memoizedState),(wt=jh||Fi($,ht,wt,vt,_e,Ft,Rt)||!1)?(_t||typeof kt.UNSAFE_componentWillUpdate!="function"&&typeof kt.componentWillUpdate!="function"||(typeof kt.componentWillUpdate=="function"&&kt.componentWillUpdate(vt,Ft,Rt),typeof kt.UNSAFE_componentWillUpdate=="function"&&kt.UNSAFE_componentWillUpdate(vt,Ft,Rt)),typeof kt.componentDidUpdate=="function"&&($.flags|=4),typeof kt.getSnapshotBeforeUpdate=="function"&&($.flags|=1024)):(typeof kt.componentDidUpdate!="function"||Et===xt.memoizedProps&&_e===xt.memoizedState||($.flags|=4),typeof kt.getSnapshotBeforeUpdate!="function"||Et===xt.memoizedProps&&_e===xt.memoizedState||($.flags|=1024),$.memoizedProps=vt,$.memoizedState=Ft),kt.props=vt,kt.state=Ft,kt.context=Rt,vt=wt):(typeof kt.componentDidUpdate!="function"||Et===xt.memoizedProps&&_e===xt.memoizedState||($.flags|=4),typeof kt.getSnapshotBeforeUpdate!="function"||Et===xt.memoizedProps&&_e===xt.memoizedState||($.flags|=1024),vt=!1)}return jj(xt,$,ht,vt,St,At)}function jj(xt,$,ht,vt,At,St){gj(xt,$);var kt=($.flags&128)!==0;if(!vt&&!kt)return At&&dg($,ht,!1),Zi(xt,$,St);vt=$.stateNode,Wi.current=$;var Et=kt&&typeof ht.getDerivedStateFromError!="function"?null:vt.render();return $.flags|=1,xt!==null&&kt?($.child=Ug($,xt.child,null,St),$.child=Ug($,null,Et,St)):Xi(xt,$,Et,St),$.memoizedState=vt.state,At&&dg($,ht,!0),$.child}function kj(xt){var $=xt.stateNode;$.pendingContext?ag(xt,$.pendingContext,$.pendingContext!==$.context):$.context&&ag(xt,$.context,!1),yh(xt,$.containerInfo)}function lj(xt,$,ht,vt,At){return Ig(),Jg(At),$.flags|=256,Xi(xt,$,ht,vt),$.child}var mj={dehydrated:null,treeContext:null,retryLane:0};function nj(xt){return{baseLanes:xt,cachePool:null,transitions:null}}function oj(xt,$,ht){var vt=$.pendingProps,At=L$1.current,St=!1,kt=($.flags&128)!==0,Et;if((Et=kt)||(Et=xt!==null&&xt.memoizedState===null?!1:(At&2)!==0),Et?(St=!0,$.flags&=-129):(xt===null||xt.memoizedState!==null)&&(At|=1),G$2(L$1,At&1),xt===null)return Eg($),xt=$.memoizedState,xt!==null&&(xt=xt.dehydrated,xt!==null)?($.mode&1?xt.data==="$!"?$.lanes=8:$.lanes=1073741824:$.lanes=1,null):(kt=vt.children,xt=vt.fallback,St?(vt=$.mode,St=$.child,kt={mode:"hidden",children:kt},!(vt&1)&&St!==null?(St.childLanes=0,St.pendingProps=kt):St=pj(kt,vt,0,null),xt=Tg(xt,vt,ht,null),St.return=$,xt.return=$,St.sibling=xt,$.child=St,$.child.memoizedState=nj(ht),$.memoizedState=mj,xt):qj($,kt));if(At=xt.memoizedState,At!==null&&(Et=At.dehydrated,Et!==null))return rj(xt,$,kt,vt,Et,At,ht);if(St){St=vt.fallback,kt=$.mode,At=xt.child,Et=At.sibling;var Rt={mode:"hidden",children:vt.children};return!(kt&1)&&$.child!==At?(vt=$.child,vt.childLanes=0,vt.pendingProps=Rt,$.deletions=null):(vt=Pg(At,Rt),vt.subtreeFlags=At.subtreeFlags&14680064),Et!==null?St=Pg(Et,St):(St=Tg(St,kt,ht,null),St.flags|=2),St.return=$,vt.return=$,vt.sibling=St,$.child=vt,vt=St,St=$.child,kt=xt.child.memoizedState,kt=kt===null?nj(ht):{baseLanes:kt.baseLanes|ht,cachePool:null,transitions:kt.transitions},St.memoizedState=kt,St.childLanes=xt.childLanes&~ht,$.memoizedState=mj,vt}return St=xt.child,xt=St.sibling,vt=Pg(St,{mode:"visible",children:vt.children}),!($.mode&1)&&(vt.lanes=ht),vt.return=$,vt.sibling=null,xt!==null&&(ht=$.deletions,ht===null?($.deletions=[xt],$.flags|=16):ht.push(xt)),$.child=vt,$.memoizedState=null,vt}function qj(xt,$){return $=pj({mode:"visible",children:$},xt.mode,0,null),$.return=xt,xt.child=$}function sj(xt,$,ht,vt){return vt!==null&&Jg(vt),Ug($,xt.child,null,ht),xt=qj($,$.pendingProps.children),xt.flags|=2,$.memoizedState=null,xt}function rj(xt,$,ht,vt,At,St,kt){if(ht)return $.flags&256?($.flags&=-257,vt=Ki(Error(p$4(422))),sj(xt,$,kt,vt)):$.memoizedState!==null?($.child=xt.child,$.flags|=128,null):(St=vt.fallback,At=$.mode,vt=pj({mode:"visible",children:vt.children},At,0,null),St=Tg(St,At,kt,null),St.flags|=2,vt.return=$,St.return=$,vt.sibling=St,$.child=vt,$.mode&1&&Ug($,xt.child,null,kt),$.child.memoizedState=nj(kt),$.memoizedState=mj,St);if(!($.mode&1))return sj(xt,$,kt,null);if(At.data==="$!"){if(vt=At.nextSibling&&At.nextSibling.dataset,vt)var Et=vt.dgst;return vt=Et,St=Error(p$4(419)),vt=Ki(St,vt,void 0),sj(xt,$,kt,vt)}if(Et=(kt&xt.childLanes)!==0,dh||Et){if(vt=Q,vt!==null){switch(kt&-kt){case 4:At=2;break;case 16:At=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:At=32;break;case 536870912:At=268435456;break;default:At=0}At=At&(vt.suspendedLanes|kt)?0:At,At!==0&&At!==St.retryLane&&(St.retryLane=At,ih(xt,At),gi(vt,xt,At,-1))}return tj(),vt=Ki(Error(p$4(421))),sj(xt,$,kt,vt)}return At.data==="$?"?($.flags|=128,$.child=xt.child,$=uj.bind(null,xt),At._reactRetry=$,null):(xt=St.treeContext,yg=Lf(At.nextSibling),xg=$,I$4=!0,zg=null,xt!==null&&(og[pg++]=rg,og[pg++]=sg,og[pg++]=qg,rg=xt.id,sg=xt.overflow,qg=$),$=qj($,vt.children),$.flags|=4096,$)}function vj(xt,$,ht){xt.lanes|=$;var vt=xt.alternate;vt!==null&&(vt.lanes|=$),bh(xt.return,$,ht)}function wj(xt,$,ht,vt,At){var St=xt.memoizedState;St===null?xt.memoizedState={isBackwards:$,rendering:null,renderingStartTime:0,last:vt,tail:ht,tailMode:At}:(St.isBackwards=$,St.rendering=null,St.renderingStartTime=0,St.last=vt,St.tail=ht,St.tailMode=At)}function xj(xt,$,ht){var vt=$.pendingProps,At=vt.revealOrder,St=vt.tail;if(Xi(xt,$,vt.children,ht),vt=L$1.current,vt&2)vt=vt&1|2,$.flags|=128;else{if(xt!==null&&xt.flags&128)e:for(xt=$.child;xt!==null;){if(xt.tag===13)xt.memoizedState!==null&&vj(xt,ht,$);else if(xt.tag===19)vj(xt,ht,$);else if(xt.child!==null){xt.child.return=xt,xt=xt.child;continue}if(xt===$)break e;for(;xt.sibling===null;){if(xt.return===null||xt.return===$)break e;xt=xt.return}xt.sibling.return=xt.return,xt=xt.sibling}vt&=1}if(G$2(L$1,vt),!($.mode&1))$.memoizedState=null;else switch(At){case"forwards":for(ht=$.child,At=null;ht!==null;)xt=ht.alternate,xt!==null&&Ch(xt)===null&&(At=ht),ht=ht.sibling;ht=At,ht===null?(At=$.child,$.child=null):(At=ht.sibling,ht.sibling=null),wj($,!1,At,ht,St);break;case"backwards":for(ht=null,At=$.child,$.child=null;At!==null;){if(xt=At.alternate,xt!==null&&Ch(xt)===null){$.child=At;break}xt=At.sibling,At.sibling=ht,ht=At,At=xt}wj($,!0,ht,null,St);break;case"together":wj($,!1,null,null,void 0);break;default:$.memoizedState=null}return $.child}function ij(xt,$){!($.mode&1)&&xt!==null&&(xt.alternate=null,$.alternate=null,$.flags|=2)}function Zi(xt,$,ht){if(xt!==null&&($.dependencies=xt.dependencies),rh|=$.lanes,!(ht&$.childLanes))return null;if(xt!==null&&$.child!==xt.child)throw Error(p$4(153));if($.child!==null){for(xt=$.child,ht=Pg(xt,xt.pendingProps),$.child=ht,ht.return=$;xt.sibling!==null;)xt=xt.sibling,ht=ht.sibling=Pg(xt,xt.pendingProps),ht.return=$;ht.sibling=null}return $.child}function yj(xt,$,ht){switch($.tag){case 3:kj($),Ig();break;case 5:Ah($);break;case 1:Zf($.type)&&cg($);break;case 4:yh($,$.stateNode.containerInfo);break;case 10:var vt=$.type._context,At=$.memoizedProps.value;G$2(Wg,vt._currentValue),vt._currentValue=At;break;case 13:if(vt=$.memoizedState,vt!==null)return vt.dehydrated!==null?(G$2(L$1,L$1.current&1),$.flags|=128,null):ht&$.child.childLanes?oj(xt,$,ht):(G$2(L$1,L$1.current&1),xt=Zi(xt,$,ht),xt!==null?xt.sibling:null);G$2(L$1,L$1.current&1);break;case 19:if(vt=(ht&$.childLanes)!==0,xt.flags&128){if(vt)return xj(xt,$,ht);$.flags|=128}if(At=$.memoizedState,At!==null&&(At.rendering=null,At.tail=null,At.lastEffect=null),G$2(L$1,L$1.current),vt)break;return null;case 22:case 23:return $.lanes=0,dj(xt,$,ht)}return Zi(xt,$,ht)}var zj,Aj,Bj,Cj;zj=function(xt,$){for(var ht=$.child;ht!==null;){if(ht.tag===5||ht.tag===6)xt.appendChild(ht.stateNode);else if(ht.tag!==4&&ht.child!==null){ht.child.return=ht,ht=ht.child;continue}if(ht===$)break;for(;ht.sibling===null;){if(ht.return===null||ht.return===$)return;ht=ht.return}ht.sibling.return=ht.return,ht=ht.sibling}};Aj=function(){};Bj=function(xt,$,ht,vt){var At=xt.memoizedProps;if(At!==vt){xt=$.stateNode,xh(uh.current);var St=null;switch(ht){case"input":At=Ya(xt,At),vt=Ya(xt,vt),St=[];break;case"select":At=A$3({},At,{value:void 0}),vt=A$3({},vt,{value:void 0}),St=[];break;case"textarea":At=gb(xt,At),vt=gb(xt,vt),St=[];break;default:typeof At.onClick!="function"&&typeof vt.onClick=="function"&&(xt.onclick=Bf)}ub(ht,vt);var kt;ht=null;for(wt in At)if(!vt.hasOwnProperty(wt)&&At.hasOwnProperty(wt)&&At[wt]!=null)if(wt==="style"){var Et=At[wt];for(kt in Et)Et.hasOwnProperty(kt)&&(ht||(ht={}),ht[kt]="")}else wt!=="dangerouslySetInnerHTML"&&wt!=="children"&&wt!=="suppressContentEditableWarning"&&wt!=="suppressHydrationWarning"&&wt!=="autoFocus"&&(ea.hasOwnProperty(wt)?St||(St=[]):(St=St||[]).push(wt,null));for(wt in vt){var Rt=vt[wt];if(Et=At!=null?At[wt]:void 0,vt.hasOwnProperty(wt)&&Rt!==Et&&(Rt!=null||Et!=null))if(wt==="style")if(Et){for(kt in Et)!Et.hasOwnProperty(kt)||Rt&&Rt.hasOwnProperty(kt)||(ht||(ht={}),ht[kt]="");for(kt in Rt)Rt.hasOwnProperty(kt)&&Et[kt]!==Rt[kt]&&(ht||(ht={}),ht[kt]=Rt[kt])}else ht||(St||(St=[]),St.push(wt,ht)),ht=Rt;else wt==="dangerouslySetInnerHTML"?(Rt=Rt?Rt.__html:void 0,Et=Et?Et.__html:void 0,Rt!=null&&Et!==Rt&&(St=St||[]).push(wt,Rt)):wt==="children"?typeof Rt!="string"&&typeof Rt!="number"||(St=St||[]).push(wt,""+Rt):wt!=="suppressContentEditableWarning"&&wt!=="suppressHydrationWarning"&&(ea.hasOwnProperty(wt)?(Rt!=null&&wt==="onScroll"&&D$4("scroll",xt),St||Et===Rt||(St=[])):(St=St||[]).push(wt,Rt))}ht&&(St=St||[]).push("style",ht);var wt=St;($.updateQueue=wt)&&($.flags|=4)}};Cj=function(xt,$,ht,vt){ht!==vt&&($.flags|=4)};function Dj(xt,$){if(!I$4)switch(xt.tailMode){case"hidden":$=xt.tail;for(var ht=null;$!==null;)$.alternate!==null&&(ht=$),$=$.sibling;ht===null?xt.tail=null:ht.sibling=null;break;case"collapsed":ht=xt.tail;for(var vt=null;ht!==null;)ht.alternate!==null&&(vt=ht),ht=ht.sibling;vt===null?$||xt.tail===null?xt.tail=null:xt.tail.sibling=null:vt.sibling=null}}function S$4(xt){var $=xt.alternate!==null&&xt.alternate.child===xt.child,ht=0,vt=0;if($)for(var At=xt.child;At!==null;)ht|=At.lanes|At.childLanes,vt|=At.subtreeFlags&14680064,vt|=At.flags&14680064,At.return=xt,At=At.sibling;else for(At=xt.child;At!==null;)ht|=At.lanes|At.childLanes,vt|=At.subtreeFlags,vt|=At.flags,At.return=xt,At=At.sibling;return xt.subtreeFlags|=vt,xt.childLanes=ht,$}function Ej(xt,$,ht){var vt=$.pendingProps;switch(wg($),$.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return S$4($),null;case 1:return Zf($.type)&&$f(),S$4($),null;case 3:return vt=$.stateNode,zh(),E$1(Wf),E$1(H$2),Eh(),vt.pendingContext&&(vt.context=vt.pendingContext,vt.pendingContext=null),(xt===null||xt.child===null)&&(Gg($)?$.flags|=4:xt===null||xt.memoizedState.isDehydrated&&!($.flags&256)||($.flags|=1024,zg!==null&&(Fj(zg),zg=null))),Aj(xt,$),S$4($),null;case 5:Bh($);var At=xh(wh.current);if(ht=$.type,xt!==null&&$.stateNode!=null)Bj(xt,$,ht,vt,At),xt.ref!==$.ref&&($.flags|=512,$.flags|=2097152);else{if(!vt){if($.stateNode===null)throw Error(p$4(166));return S$4($),null}if(xt=xh(uh.current),Gg($)){vt=$.stateNode,ht=$.type;var St=$.memoizedProps;switch(vt[Of]=$,vt[Pf]=St,xt=($.mode&1)!==0,ht){case"dialog":D$4("cancel",vt),D$4("close",vt);break;case"iframe":case"object":case"embed":D$4("load",vt);break;case"video":case"audio":for(At=0;At<lf.length;At++)D$4(lf[At],vt);break;case"source":D$4("error",vt);break;case"img":case"image":case"link":D$4("error",vt),D$4("load",vt);break;case"details":D$4("toggle",vt);break;case"input":Za(vt,St),D$4("invalid",vt);break;case"select":vt._wrapperState={wasMultiple:!!St.multiple},D$4("invalid",vt);break;case"textarea":hb(vt,St),D$4("invalid",vt)}ub(ht,St),At=null;for(var kt in St)if(St.hasOwnProperty(kt)){var Et=St[kt];kt==="children"?typeof Et=="string"?vt.textContent!==Et&&(St.suppressHydrationWarning!==!0&&Af(vt.textContent,Et,xt),At=["children",Et]):typeof Et=="number"&&vt.textContent!==""+Et&&(St.suppressHydrationWarning!==!0&&Af(vt.textContent,Et,xt),At=["children",""+Et]):ea.hasOwnProperty(kt)&&Et!=null&&kt==="onScroll"&&D$4("scroll",vt)}switch(ht){case"input":Va(vt),db(vt,St,!0);break;case"textarea":Va(vt),jb(vt);break;case"select":case"option":break;default:typeof St.onClick=="function"&&(vt.onclick=Bf)}vt=At,$.updateQueue=vt,vt!==null&&($.flags|=4)}else{kt=At.nodeType===9?At:At.ownerDocument,xt==="http://www.w3.org/1999/xhtml"&&(xt=kb(ht)),xt==="http://www.w3.org/1999/xhtml"?ht==="script"?(xt=kt.createElement("div"),xt.innerHTML="<script><\/script>",xt=xt.removeChild(xt.firstChild)):typeof vt.is=="string"?xt=kt.createElement(ht,{is:vt.is}):(xt=kt.createElement(ht),ht==="select"&&(kt=xt,vt.multiple?kt.multiple=!0:vt.size&&(kt.size=vt.size))):xt=kt.createElementNS(xt,ht),xt[Of]=$,xt[Pf]=vt,zj(xt,$,!1,!1),$.stateNode=xt;e:{switch(kt=vb(ht,vt),ht){case"dialog":D$4("cancel",xt),D$4("close",xt),At=vt;break;case"iframe":case"object":case"embed":D$4("load",xt),At=vt;break;case"video":case"audio":for(At=0;At<lf.length;At++)D$4(lf[At],xt);At=vt;break;case"source":D$4("error",xt),At=vt;break;case"img":case"image":case"link":D$4("error",xt),D$4("load",xt),At=vt;break;case"details":D$4("toggle",xt),At=vt;break;case"input":Za(xt,vt),At=Ya(xt,vt),D$4("invalid",xt);break;case"option":At=vt;break;case"select":xt._wrapperState={wasMultiple:!!vt.multiple},At=A$3({},vt,{value:void 0}),D$4("invalid",xt);break;case"textarea":hb(xt,vt),At=gb(xt,vt),D$4("invalid",xt);break;default:At=vt}ub(ht,At),Et=At;for(St in Et)if(Et.hasOwnProperty(St)){var Rt=Et[St];St==="style"?sb(xt,Rt):St==="dangerouslySetInnerHTML"?(Rt=Rt?Rt.__html:void 0,Rt!=null&&nb(xt,Rt)):St==="children"?typeof Rt=="string"?(ht!=="textarea"||Rt!=="")&&ob(xt,Rt):typeof Rt=="number"&&ob(xt,""+Rt):St!=="suppressContentEditableWarning"&&St!=="suppressHydrationWarning"&&St!=="autoFocus"&&(ea.hasOwnProperty(St)?Rt!=null&&St==="onScroll"&&D$4("scroll",xt):Rt!=null&&ta(xt,St,Rt,kt))}switch(ht){case"input":Va(xt),db(xt,vt,!1);break;case"textarea":Va(xt),jb(xt);break;case"option":vt.value!=null&&xt.setAttribute("value",""+Sa(vt.value));break;case"select":xt.multiple=!!vt.multiple,St=vt.value,St!=null?fb(xt,!!vt.multiple,St,!1):vt.defaultValue!=null&&fb(xt,!!vt.multiple,vt.defaultValue,!0);break;default:typeof At.onClick=="function"&&(xt.onclick=Bf)}switch(ht){case"button":case"input":case"select":case"textarea":vt=!!vt.autoFocus;break e;case"img":vt=!0;break e;default:vt=!1}}vt&&($.flags|=4)}$.ref!==null&&($.flags|=512,$.flags|=2097152)}return S$4($),null;case 6:if(xt&&$.stateNode!=null)Cj(xt,$,xt.memoizedProps,vt);else{if(typeof vt!="string"&&$.stateNode===null)throw Error(p$4(166));if(ht=xh(wh.current),xh(uh.current),Gg($)){if(vt=$.stateNode,ht=$.memoizedProps,vt[Of]=$,(St=vt.nodeValue!==ht)&&(xt=xg,xt!==null))switch(xt.tag){case 3:Af(vt.nodeValue,ht,(xt.mode&1)!==0);break;case 5:xt.memoizedProps.suppressHydrationWarning!==!0&&Af(vt.nodeValue,ht,(xt.mode&1)!==0)}St&&($.flags|=4)}else vt=(ht.nodeType===9?ht:ht.ownerDocument).createTextNode(vt),vt[Of]=$,$.stateNode=vt}return S$4($),null;case 13:if(E$1(L$1),vt=$.memoizedState,xt===null||xt.memoizedState!==null&&xt.memoizedState.dehydrated!==null){if(I$4&&yg!==null&&$.mode&1&&!($.flags&128))Hg(),Ig(),$.flags|=98560,St=!1;else if(St=Gg($),vt!==null&&vt.dehydrated!==null){if(xt===null){if(!St)throw Error(p$4(318));if(St=$.memoizedState,St=St!==null?St.dehydrated:null,!St)throw Error(p$4(317));St[Of]=$}else Ig(),!($.flags&128)&&($.memoizedState=null),$.flags|=4;S$4($),St=!1}else zg!==null&&(Fj(zg),zg=null),St=!0;if(!St)return $.flags&65536?$:null}return $.flags&128?($.lanes=ht,$):(vt=vt!==null,vt!==(xt!==null&&xt.memoizedState!==null)&&vt&&($.child.flags|=8192,$.mode&1&&(xt===null||L$1.current&1?T$3===0&&(T$3=3):tj())),$.updateQueue!==null&&($.flags|=4),S$4($),null);case 4:return zh(),Aj(xt,$),xt===null&&sf($.stateNode.containerInfo),S$4($),null;case 10:return ah($.type._context),S$4($),null;case 17:return Zf($.type)&&$f(),S$4($),null;case 19:if(E$1(L$1),St=$.memoizedState,St===null)return S$4($),null;if(vt=($.flags&128)!==0,kt=St.rendering,kt===null)if(vt)Dj(St,!1);else{if(T$3!==0||xt!==null&&xt.flags&128)for(xt=$.child;xt!==null;){if(kt=Ch(xt),kt!==null){for($.flags|=128,Dj(St,!1),vt=kt.updateQueue,vt!==null&&($.updateQueue=vt,$.flags|=4),$.subtreeFlags=0,vt=ht,ht=$.child;ht!==null;)St=ht,xt=vt,St.flags&=14680066,kt=St.alternate,kt===null?(St.childLanes=0,St.lanes=xt,St.child=null,St.subtreeFlags=0,St.memoizedProps=null,St.memoizedState=null,St.updateQueue=null,St.dependencies=null,St.stateNode=null):(St.childLanes=kt.childLanes,St.lanes=kt.lanes,St.child=kt.child,St.subtreeFlags=0,St.deletions=null,St.memoizedProps=kt.memoizedProps,St.memoizedState=kt.memoizedState,St.updateQueue=kt.updateQueue,St.type=kt.type,xt=kt.dependencies,St.dependencies=xt===null?null:{lanes:xt.lanes,firstContext:xt.firstContext}),ht=ht.sibling;return G$2(L$1,L$1.current&1|2),$.child}xt=xt.sibling}St.tail!==null&&B$1()>Gj&&($.flags|=128,vt=!0,Dj(St,!1),$.lanes=4194304)}else{if(!vt)if(xt=Ch(kt),xt!==null){if($.flags|=128,vt=!0,ht=xt.updateQueue,ht!==null&&($.updateQueue=ht,$.flags|=4),Dj(St,!0),St.tail===null&&St.tailMode==="hidden"&&!kt.alternate&&!I$4)return S$4($),null}else 2*B$1()-St.renderingStartTime>Gj&&ht!==1073741824&&($.flags|=128,vt=!0,Dj(St,!1),$.lanes=4194304);St.isBackwards?(kt.sibling=$.child,$.child=kt):(ht=St.last,ht!==null?ht.sibling=kt:$.child=kt,St.last=kt)}return St.tail!==null?($=St.tail,St.rendering=$,St.tail=$.sibling,St.renderingStartTime=B$1(),$.sibling=null,ht=L$1.current,G$2(L$1,vt?ht&1|2:ht&1),$):(S$4($),null);case 22:case 23:return Hj(),vt=$.memoizedState!==null,xt!==null&&xt.memoizedState!==null!==vt&&($.flags|=8192),vt&&$.mode&1?fj&1073741824&&(S$4($),$.subtreeFlags&6&&($.flags|=8192)):S$4($),null;case 24:return null;case 25:return null}throw Error(p$4(156,$.tag))}function Ij(xt,$){switch(wg($),$.tag){case 1:return Zf($.type)&&$f(),xt=$.flags,xt&65536?($.flags=xt&-65537|128,$):null;case 3:return zh(),E$1(Wf),E$1(H$2),Eh(),xt=$.flags,xt&65536&&!(xt&128)?($.flags=xt&-65537|128,$):null;case 5:return Bh($),null;case 13:if(E$1(L$1),xt=$.memoizedState,xt!==null&&xt.dehydrated!==null){if($.alternate===null)throw Error(p$4(340));Ig()}return xt=$.flags,xt&65536?($.flags=xt&-65537|128,$):null;case 19:return E$1(L$1),null;case 4:return zh(),null;case 10:return ah($.type._context),null;case 22:case 23:return Hj(),null;case 24:return null;default:return null}}var Jj=!1,U$2=!1,Kj=typeof WeakSet=="function"?WeakSet:Set,V$1=null;function Lj(xt,$){var ht=xt.ref;if(ht!==null)if(typeof ht=="function")try{ht(null)}catch(vt){W$2(xt,$,vt)}else ht.current=null}function Mj(xt,$,ht){try{ht()}catch(vt){W$2(xt,$,vt)}}var Nj=!1;function Oj(xt,$){if(Cf=dd,xt=Me(),Ne(xt)){if("selectionStart"in xt)var ht={start:xt.selectionStart,end:xt.selectionEnd};else e:{ht=(ht=xt.ownerDocument)&&ht.defaultView||window;var vt=ht.getSelection&&ht.getSelection();if(vt&&vt.rangeCount!==0){ht=vt.anchorNode;var At=vt.anchorOffset,St=vt.focusNode;vt=vt.focusOffset;try{ht.nodeType,St.nodeType}catch{ht=null;break e}var kt=0,Et=-1,Rt=-1,wt=0,_t=0,Pt=xt,_e=null;t:for(;;){for(var bt;Pt!==ht||At!==0&&Pt.nodeType!==3||(Et=kt+At),Pt!==St||vt!==0&&Pt.nodeType!==3||(Rt=kt+vt),Pt.nodeType===3&&(kt+=Pt.nodeValue.length),(bt=Pt.firstChild)!==null;)_e=Pt,Pt=bt;for(;;){if(Pt===xt)break t;if(_e===ht&&++wt===At&&(Et=kt),_e===St&&++_t===vt&&(Rt=kt),(bt=Pt.nextSibling)!==null)break;Pt=_e,_e=Pt.parentNode}Pt=bt}ht=Et===-1||Rt===-1?null:{start:Et,end:Rt}}else ht=null}ht=ht||{start:0,end:0}}else ht=null;for(Df={focusedElem:xt,selectionRange:ht},dd=!1,V$1=$;V$1!==null;)if($=V$1,xt=$.child,($.subtreeFlags&1028)!==0&&xt!==null)xt.return=$,V$1=xt;else for(;V$1!==null;){$=V$1;try{var Ft=$.alternate;if($.flags&1024)switch($.tag){case 0:case 11:case 15:break;case 1:if(Ft!==null){var Xt=Ft.memoizedProps,Kt=Ft.memoizedState,Nt=$.stateNode,$t=Nt.getSnapshotBeforeUpdate($.elementType===$.type?Xt:Ci($.type,Xt),Kt);Nt.__reactInternalSnapshotBeforeUpdate=$t}break;case 3:var Dt=$.stateNode.containerInfo;Dt.nodeType===1?Dt.textContent="":Dt.nodeType===9&&Dt.documentElement&&Dt.removeChild(Dt.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(p$4(163))}}catch(jt){W$2($,$.return,jt)}if(xt=$.sibling,xt!==null){xt.return=$.return,V$1=xt;break}V$1=$.return}return Ft=Nj,Nj=!1,Ft}function Pj(xt,$,ht){var vt=$.updateQueue;if(vt=vt!==null?vt.lastEffect:null,vt!==null){var At=vt=vt.next;do{if((At.tag&xt)===xt){var St=At.destroy;At.destroy=void 0,St!==void 0&&Mj($,ht,St)}At=At.next}while(At!==vt)}}function Qj(xt,$){if($=$.updateQueue,$=$!==null?$.lastEffect:null,$!==null){var ht=$=$.next;do{if((ht.tag&xt)===xt){var vt=ht.create;ht.destroy=vt()}ht=ht.next}while(ht!==$)}}function Rj(xt){var $=xt.ref;if($!==null){var ht=xt.stateNode;switch(xt.tag){case 5:xt=ht;break;default:xt=ht}typeof $=="function"?$(xt):$.current=xt}}function Sj(xt){var $=xt.alternate;$!==null&&(xt.alternate=null,Sj($)),xt.child=null,xt.deletions=null,xt.sibling=null,xt.tag===5&&($=xt.stateNode,$!==null&&(delete $[Of],delete $[Pf],delete $[of],delete $[Qf],delete $[Rf])),xt.stateNode=null,xt.return=null,xt.dependencies=null,xt.memoizedProps=null,xt.memoizedState=null,xt.pendingProps=null,xt.stateNode=null,xt.updateQueue=null}function Tj(xt){return xt.tag===5||xt.tag===3||xt.tag===4}function Uj(xt){e:for(;;){for(;xt.sibling===null;){if(xt.return===null||Tj(xt.return))return null;xt=xt.return}for(xt.sibling.return=xt.return,xt=xt.sibling;xt.tag!==5&&xt.tag!==6&&xt.tag!==18;){if(xt.flags&2||xt.child===null||xt.tag===4)continue e;xt.child.return=xt,xt=xt.child}if(!(xt.flags&2))return xt.stateNode}}function Vj(xt,$,ht){var vt=xt.tag;if(vt===5||vt===6)xt=xt.stateNode,$?ht.nodeType===8?ht.parentNode.insertBefore(xt,$):ht.insertBefore(xt,$):(ht.nodeType===8?($=ht.parentNode,$.insertBefore(xt,ht)):($=ht,$.appendChild(xt)),ht=ht._reactRootContainer,ht!=null||$.onclick!==null||($.onclick=Bf));else if(vt!==4&&(xt=xt.child,xt!==null))for(Vj(xt,$,ht),xt=xt.sibling;xt!==null;)Vj(xt,$,ht),xt=xt.sibling}function Wj(xt,$,ht){var vt=xt.tag;if(vt===5||vt===6)xt=xt.stateNode,$?ht.insertBefore(xt,$):ht.appendChild(xt);else if(vt!==4&&(xt=xt.child,xt!==null))for(Wj(xt,$,ht),xt=xt.sibling;xt!==null;)Wj(xt,$,ht),xt=xt.sibling}var X=null,Xj=!1;function Yj(xt,$,ht){for(ht=ht.child;ht!==null;)Zj(xt,$,ht),ht=ht.sibling}function Zj(xt,$,ht){if(lc&&typeof lc.onCommitFiberUnmount=="function")try{lc.onCommitFiberUnmount(kc,ht)}catch{}switch(ht.tag){case 5:U$2||Lj(ht,$);case 6:var vt=X,At=Xj;X=null,Yj(xt,$,ht),X=vt,Xj=At,X!==null&&(Xj?(xt=X,ht=ht.stateNode,xt.nodeType===8?xt.parentNode.removeChild(ht):xt.removeChild(ht)):X.removeChild(ht.stateNode));break;case 18:X!==null&&(Xj?(xt=X,ht=ht.stateNode,xt.nodeType===8?Kf(xt.parentNode,ht):xt.nodeType===1&&Kf(xt,ht),bd(xt)):Kf(X,ht.stateNode));break;case 4:vt=X,At=Xj,X=ht.stateNode.containerInfo,Xj=!0,Yj(xt,$,ht),X=vt,Xj=At;break;case 0:case 11:case 14:case 15:if(!U$2&&(vt=ht.updateQueue,vt!==null&&(vt=vt.lastEffect,vt!==null))){At=vt=vt.next;do{var St=At,kt=St.destroy;St=St.tag,kt!==void 0&&(St&2||St&4)&&Mj(ht,$,kt),At=At.next}while(At!==vt)}Yj(xt,$,ht);break;case 1:if(!U$2&&(Lj(ht,$),vt=ht.stateNode,typeof vt.componentWillUnmount=="function"))try{vt.props=ht.memoizedProps,vt.state=ht.memoizedState,vt.componentWillUnmount()}catch(Et){W$2(ht,$,Et)}Yj(xt,$,ht);break;case 21:Yj(xt,$,ht);break;case 22:ht.mode&1?(U$2=(vt=U$2)||ht.memoizedState!==null,Yj(xt,$,ht),U$2=vt):Yj(xt,$,ht);break;default:Yj(xt,$,ht)}}function ak(xt){var $=xt.updateQueue;if($!==null){xt.updateQueue=null;var ht=xt.stateNode;ht===null&&(ht=xt.stateNode=new Kj),$.forEach(function(vt){var At=bk.bind(null,xt,vt);ht.has(vt)||(ht.add(vt),vt.then(At,At))})}}function ck(xt,$){var ht=$.deletions;if(ht!==null)for(var vt=0;vt<ht.length;vt++){var At=ht[vt];try{var St=xt,kt=$,Et=kt;e:for(;Et!==null;){switch(Et.tag){case 5:X=Et.stateNode,Xj=!1;break e;case 3:X=Et.stateNode.containerInfo,Xj=!0;break e;case 4:X=Et.stateNode.containerInfo,Xj=!0;break e}Et=Et.return}if(X===null)throw Error(p$4(160));Zj(St,kt,At),X=null,Xj=!1;var Rt=At.alternate;Rt!==null&&(Rt.return=null),At.return=null}catch(wt){W$2(At,$,wt)}}if($.subtreeFlags&12854)for($=$.child;$!==null;)dk($,xt),$=$.sibling}function dk(xt,$){var ht=xt.alternate,vt=xt.flags;switch(xt.tag){case 0:case 11:case 14:case 15:if(ck($,xt),ek(xt),vt&4){try{Pj(3,xt,xt.return),Qj(3,xt)}catch(Xt){W$2(xt,xt.return,Xt)}try{Pj(5,xt,xt.return)}catch(Xt){W$2(xt,xt.return,Xt)}}break;case 1:ck($,xt),ek(xt),vt&512&&ht!==null&&Lj(ht,ht.return);break;case 5:if(ck($,xt),ek(xt),vt&512&&ht!==null&&Lj(ht,ht.return),xt.flags&32){var At=xt.stateNode;try{ob(At,"")}catch(Xt){W$2(xt,xt.return,Xt)}}if(vt&4&&(At=xt.stateNode,At!=null)){var St=xt.memoizedProps,kt=ht!==null?ht.memoizedProps:St,Et=xt.type,Rt=xt.updateQueue;if(xt.updateQueue=null,Rt!==null)try{Et==="input"&&St.type==="radio"&&St.name!=null&&ab(At,St),vb(Et,kt);var wt=vb(Et,St);for(kt=0;kt<Rt.length;kt+=2){var _t=Rt[kt],Pt=Rt[kt+1];_t==="style"?sb(At,Pt):_t==="dangerouslySetInnerHTML"?nb(At,Pt):_t==="children"?ob(At,Pt):ta(At,_t,Pt,wt)}switch(Et){case"input":bb(At,St);break;case"textarea":ib(At,St);break;case"select":var _e=At._wrapperState.wasMultiple;At._wrapperState.wasMultiple=!!St.multiple;var bt=St.value;bt!=null?fb(At,!!St.multiple,bt,!1):_e!==!!St.multiple&&(St.defaultValue!=null?fb(At,!!St.multiple,St.defaultValue,!0):fb(At,!!St.multiple,St.multiple?[]:"",!1))}At[Pf]=St}catch(Xt){W$2(xt,xt.return,Xt)}}break;case 6:if(ck($,xt),ek(xt),vt&4){if(xt.stateNode===null)throw Error(p$4(162));At=xt.stateNode,St=xt.memoizedProps;try{At.nodeValue=St}catch(Xt){W$2(xt,xt.return,Xt)}}break;case 3:if(ck($,xt),ek(xt),vt&4&&ht!==null&&ht.memoizedState.isDehydrated)try{bd($.containerInfo)}catch(Xt){W$2(xt,xt.return,Xt)}break;case 4:ck($,xt),ek(xt);break;case 13:ck($,xt),ek(xt),At=xt.child,At.flags&8192&&(St=At.memoizedState!==null,At.stateNode.isHidden=St,!St||At.alternate!==null&&At.alternate.memoizedState!==null||(fk=B$1())),vt&4&&ak(xt);break;case 22:if(_t=ht!==null&&ht.memoizedState!==null,xt.mode&1?(U$2=(wt=U$2)||_t,ck($,xt),U$2=wt):ck($,xt),ek(xt),vt&8192){if(wt=xt.memoizedState!==null,(xt.stateNode.isHidden=wt)&&!_t&&xt.mode&1)for(V$1=xt,_t=xt.child;_t!==null;){for(Pt=V$1=_t;V$1!==null;){switch(_e=V$1,bt=_e.child,_e.tag){case 0:case 11:case 14:case 15:Pj(4,_e,_e.return);break;case 1:Lj(_e,_e.return);var Ft=_e.stateNode;if(typeof Ft.componentWillUnmount=="function"){vt=_e,ht=_e.return;try{$=vt,Ft.props=$.memoizedProps,Ft.state=$.memoizedState,Ft.componentWillUnmount()}catch(Xt){W$2(vt,ht,Xt)}}break;case 5:Lj(_e,_e.return);break;case 22:if(_e.memoizedState!==null){gk(Pt);continue}}bt!==null?(bt.return=_e,V$1=bt):gk(Pt)}_t=_t.sibling}e:for(_t=null,Pt=xt;;){if(Pt.tag===5){if(_t===null){_t=Pt;try{At=Pt.stateNode,wt?(St=At.style,typeof St.setProperty=="function"?St.setProperty("display","none","important"):St.display="none"):(Et=Pt.stateNode,Rt=Pt.memoizedProps.style,kt=Rt!=null&&Rt.hasOwnProperty("display")?Rt.display:null,Et.style.display=rb("display",kt))}catch(Xt){W$2(xt,xt.return,Xt)}}}else if(Pt.tag===6){if(_t===null)try{Pt.stateNode.nodeValue=wt?"":Pt.memoizedProps}catch(Xt){W$2(xt,xt.return,Xt)}}else if((Pt.tag!==22&&Pt.tag!==23||Pt.memoizedState===null||Pt===xt)&&Pt.child!==null){Pt.child.return=Pt,Pt=Pt.child;continue}if(Pt===xt)break e;for(;Pt.sibling===null;){if(Pt.return===null||Pt.return===xt)break e;_t===Pt&&(_t=null),Pt=Pt.return}_t===Pt&&(_t=null),Pt.sibling.return=Pt.return,Pt=Pt.sibling}}break;case 19:ck($,xt),ek(xt),vt&4&&ak(xt);break;case 21:break;default:ck($,xt),ek(xt)}}function ek(xt){var $=xt.flags;if($&2){try{e:{for(var ht=xt.return;ht!==null;){if(Tj(ht)){var vt=ht;break e}ht=ht.return}throw Error(p$4(160))}switch(vt.tag){case 5:var At=vt.stateNode;vt.flags&32&&(ob(At,""),vt.flags&=-33);var St=Uj(xt);Wj(xt,St,At);break;case 3:case 4:var kt=vt.stateNode.containerInfo,Et=Uj(xt);Vj(xt,Et,kt);break;default:throw Error(p$4(161))}}catch(Rt){W$2(xt,xt.return,Rt)}xt.flags&=-3}$&4096&&(xt.flags&=-4097)}function hk(xt,$,ht){V$1=xt,ik(xt)}function ik(xt,$,ht){for(var vt=(xt.mode&1)!==0;V$1!==null;){var At=V$1,St=At.child;if(At.tag===22&&vt){var kt=At.memoizedState!==null||Jj;if(!kt){var Et=At.alternate,Rt=Et!==null&&Et.memoizedState!==null||U$2;Et=Jj;var wt=U$2;if(Jj=kt,(U$2=Rt)&&!wt)for(V$1=At;V$1!==null;)kt=V$1,Rt=kt.child,kt.tag===22&&kt.memoizedState!==null?jk(At):Rt!==null?(Rt.return=kt,V$1=Rt):jk(At);for(;St!==null;)V$1=St,ik(St),St=St.sibling;V$1=At,Jj=Et,U$2=wt}kk(xt)}else At.subtreeFlags&8772&&St!==null?(St.return=At,V$1=St):kk(xt)}}function kk(xt){for(;V$1!==null;){var $=V$1;if($.flags&8772){var ht=$.alternate;try{if($.flags&8772)switch($.tag){case 0:case 11:case 15:U$2||Qj(5,$);break;case 1:var vt=$.stateNode;if($.flags&4&&!U$2)if(ht===null)vt.componentDidMount();else{var At=$.elementType===$.type?ht.memoizedProps:Ci($.type,ht.memoizedProps);vt.componentDidUpdate(At,ht.memoizedState,vt.__reactInternalSnapshotBeforeUpdate)}var St=$.updateQueue;St!==null&&sh($,St,vt);break;case 3:var kt=$.updateQueue;if(kt!==null){if(ht=null,$.child!==null)switch($.child.tag){case 5:ht=$.child.stateNode;break;case 1:ht=$.child.stateNode}sh($,kt,ht)}break;case 5:var Et=$.stateNode;if(ht===null&&$.flags&4){ht=Et;var Rt=$.memoizedProps;switch($.type){case"button":case"input":case"select":case"textarea":Rt.autoFocus&&ht.focus();break;case"img":Rt.src&&(ht.src=Rt.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if($.memoizedState===null){var wt=$.alternate;if(wt!==null){var _t=wt.memoizedState;if(_t!==null){var Pt=_t.dehydrated;Pt!==null&&bd(Pt)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(p$4(163))}U$2||$.flags&512&&Rj($)}catch(_e){W$2($,$.return,_e)}}if($===xt){V$1=null;break}if(ht=$.sibling,ht!==null){ht.return=$.return,V$1=ht;break}V$1=$.return}}function gk(xt){for(;V$1!==null;){var $=V$1;if($===xt){V$1=null;break}var ht=$.sibling;if(ht!==null){ht.return=$.return,V$1=ht;break}V$1=$.return}}function jk(xt){for(;V$1!==null;){var $=V$1;try{switch($.tag){case 0:case 11:case 15:var ht=$.return;try{Qj(4,$)}catch(Rt){W$2($,ht,Rt)}break;case 1:var vt=$.stateNode;if(typeof vt.componentDidMount=="function"){var At=$.return;try{vt.componentDidMount()}catch(Rt){W$2($,At,Rt)}}var St=$.return;try{Rj($)}catch(Rt){W$2($,St,Rt)}break;case 5:var kt=$.return;try{Rj($)}catch(Rt){W$2($,kt,Rt)}}}catch(Rt){W$2($,$.return,Rt)}if($===xt){V$1=null;break}var Et=$.sibling;if(Et!==null){Et.return=$.return,V$1=Et;break}V$1=$.return}}var lk=Math.ceil,mk=ua.ReactCurrentDispatcher,nk=ua.ReactCurrentOwner,ok=ua.ReactCurrentBatchConfig,K=0,Q=null,Y=null,Z=0,fj=0,ej=Uf(0),T$3=0,pk=null,rh=0,qk=0,rk=0,sk=null,tk=null,fk=0,Gj=1/0,uk=null,Oi=!1,Pi=null,Ri=null,vk=!1,wk=null,xk=0,yk=0,zk=null,Ak=-1,Bk=0;function R$1(){return K&6?B$1():Ak!==-1?Ak:Ak=B$1()}function yi(xt){return xt.mode&1?K&2&&Z!==0?Z&-Z:Kg.transition!==null?(Bk===0&&(Bk=yc()),Bk):(xt=C$1,xt!==0||(xt=window.event,xt=xt===void 0?16:jd(xt.type)),xt):1}function gi(xt,$,ht,vt){if(50<yk)throw yk=0,zk=null,Error(p$4(185));Ac(xt,ht,vt),(!(K&2)||xt!==Q)&&(xt===Q&&(!(K&2)&&(qk|=ht),T$3===4&&Ck(xt,Z)),Dk(xt,vt),ht===1&&K===0&&!($.mode&1)&&(Gj=B$1()+500,fg&&jg()))}function Dk(xt,$){var ht=xt.callbackNode;wc(xt,$);var vt=uc(xt,xt===Q?Z:0);if(vt===0)ht!==null&&bc(ht),xt.callbackNode=null,xt.callbackPriority=0;else if($=vt&-vt,xt.callbackPriority!==$){if(ht!=null&&bc(ht),$===1)xt.tag===0?ig(Ek.bind(null,xt)):hg(Ek.bind(null,xt)),Jf(function(){!(K&6)&&jg()}),ht=null;else{switch(Dc(vt)){case 1:ht=fc;break;case 4:ht=gc;break;case 16:ht=hc;break;case 536870912:ht=jc;break;default:ht=hc}ht=Fk(ht,Gk.bind(null,xt))}xt.callbackPriority=$,xt.callbackNode=ht}}function Gk(xt,$){if(Ak=-1,Bk=0,K&6)throw Error(p$4(327));var ht=xt.callbackNode;if(Hk()&&xt.callbackNode!==ht)return null;var vt=uc(xt,xt===Q?Z:0);if(vt===0)return null;if(vt&30||vt&xt.expiredLanes||$)$=Ik(xt,vt);else{$=vt;var At=K;K|=2;var St=Jk();(Q!==xt||Z!==$)&&(uk=null,Gj=B$1()+500,Kk(xt,$));do try{Lk();break}catch(Et){Mk(xt,Et)}while(!0);$g(),mk.current=St,K=At,Y!==null?$=0:(Q=null,Z=0,$=T$3)}if($!==0){if($===2&&(At=xc(xt),At!==0&&(vt=At,$=Nk(xt,At))),$===1)throw ht=pk,Kk(xt,0),Ck(xt,vt),Dk(xt,B$1()),ht;if($===6)Ck(xt,vt);else{if(At=xt.current.alternate,!(vt&30)&&!Ok(At)&&($=Ik(xt,vt),$===2&&(St=xc(xt),St!==0&&(vt=St,$=Nk(xt,St))),$===1))throw ht=pk,Kk(xt,0),Ck(xt,vt),Dk(xt,B$1()),ht;switch(xt.finishedWork=At,xt.finishedLanes=vt,$){case 0:case 1:throw Error(p$4(345));case 2:Pk(xt,tk,uk);break;case 3:if(Ck(xt,vt),(vt&130023424)===vt&&($=fk+500-B$1(),10<$)){if(uc(xt,0)!==0)break;if(At=xt.suspendedLanes,(At&vt)!==vt){R$1(),xt.pingedLanes|=xt.suspendedLanes&At;break}xt.timeoutHandle=Ff(Pk.bind(null,xt,tk,uk),$);break}Pk(xt,tk,uk);break;case 4:if(Ck(xt,vt),(vt&4194240)===vt)break;for($=xt.eventTimes,At=-1;0<vt;){var kt=31-oc(vt);St=1<<kt,kt=$[kt],kt>At&&(At=kt),vt&=~St}if(vt=At,vt=B$1()-vt,vt=(120>vt?120:480>vt?480:1080>vt?1080:1920>vt?1920:3e3>vt?3e3:4320>vt?4320:1960*lk(vt/1960))-vt,10<vt){xt.timeoutHandle=Ff(Pk.bind(null,xt,tk,uk),vt);break}Pk(xt,tk,uk);break;case 5:Pk(xt,tk,uk);break;default:throw Error(p$4(329))}}}return Dk(xt,B$1()),xt.callbackNode===ht?Gk.bind(null,xt):null}function Nk(xt,$){var ht=sk;return xt.current.memoizedState.isDehydrated&&(Kk(xt,$).flags|=256),xt=Ik(xt,$),xt!==2&&($=tk,tk=ht,$!==null&&Fj($)),xt}function Fj(xt){tk===null?tk=xt:tk.push.apply(tk,xt)}function Ok(xt){for(var $=xt;;){if($.flags&16384){var ht=$.updateQueue;if(ht!==null&&(ht=ht.stores,ht!==null))for(var vt=0;vt<ht.length;vt++){var At=ht[vt],St=At.getSnapshot;At=At.value;try{if(!He(St(),At))return!1}catch{return!1}}}if(ht=$.child,$.subtreeFlags&16384&&ht!==null)ht.return=$,$=ht;else{if($===xt)break;for(;$.sibling===null;){if($.return===null||$.return===xt)return!0;$=$.return}$.sibling.return=$.return,$=$.sibling}}return!0}function Ck(xt,$){for($&=~rk,$&=~qk,xt.suspendedLanes|=$,xt.pingedLanes&=~$,xt=xt.expirationTimes;0<$;){var ht=31-oc($),vt=1<<ht;xt[ht]=-1,$&=~vt}}function Ek(xt){if(K&6)throw Error(p$4(327));Hk();var $=uc(xt,0);if(!($&1))return Dk(xt,B$1()),null;var ht=Ik(xt,$);if(xt.tag!==0&&ht===2){var vt=xc(xt);vt!==0&&($=vt,ht=Nk(xt,vt))}if(ht===1)throw ht=pk,Kk(xt,0),Ck(xt,$),Dk(xt,B$1()),ht;if(ht===6)throw Error(p$4(345));return xt.finishedWork=xt.current.alternate,xt.finishedLanes=$,Pk(xt,tk,uk),Dk(xt,B$1()),null}function Qk(xt,$){var ht=K;K|=1;try{return xt($)}finally{K=ht,K===0&&(Gj=B$1()+500,fg&&jg())}}function Rk(xt){wk!==null&&wk.tag===0&&!(K&6)&&Hk();var $=K;K|=1;var ht=ok.transition,vt=C$1;try{if(ok.transition=null,C$1=1,xt)return xt()}finally{C$1=vt,ok.transition=ht,K=$,!(K&6)&&jg()}}function Hj(){fj=ej.current,E$1(ej)}function Kk(xt,$){xt.finishedWork=null,xt.finishedLanes=0;var ht=xt.timeoutHandle;if(ht!==-1&&(xt.timeoutHandle=-1,Gf(ht)),Y!==null)for(ht=Y.return;ht!==null;){var vt=ht;switch(wg(vt),vt.tag){case 1:vt=vt.type.childContextTypes,vt!=null&&$f();break;case 3:zh(),E$1(Wf),E$1(H$2),Eh();break;case 5:Bh(vt);break;case 4:zh();break;case 13:E$1(L$1);break;case 19:E$1(L$1);break;case 10:ah(vt.type._context);break;case 22:case 23:Hj()}ht=ht.return}if(Q=xt,Y=xt=Pg(xt.current,null),Z=fj=$,T$3=0,pk=null,rk=qk=rh=0,tk=sk=null,fh!==null){for($=0;$<fh.length;$++)if(ht=fh[$],vt=ht.interleaved,vt!==null){ht.interleaved=null;var At=vt.next,St=ht.pending;if(St!==null){var kt=St.next;St.next=At,vt.next=kt}ht.pending=vt}fh=null}return xt}function Mk(xt,$){do{var ht=Y;try{if($g(),Fh.current=Rh,Ih){for(var vt=M$3.memoizedState;vt!==null;){var At=vt.queue;At!==null&&(At.pending=null),vt=vt.next}Ih=!1}if(Hh=0,O$2=N$3=M$3=null,Jh=!1,Kh=0,nk.current=null,ht===null||ht.return===null){T$3=1,pk=$,Y=null;break}e:{var St=xt,kt=ht.return,Et=ht,Rt=$;if($=Z,Et.flags|=32768,Rt!==null&&typeof Rt=="object"&&typeof Rt.then=="function"){var wt=Rt,_t=Et,Pt=_t.tag;if(!(_t.mode&1)&&(Pt===0||Pt===11||Pt===15)){var _e=_t.alternate;_e?(_t.updateQueue=_e.updateQueue,_t.memoizedState=_e.memoizedState,_t.lanes=_e.lanes):(_t.updateQueue=null,_t.memoizedState=null)}var bt=Ui(kt);if(bt!==null){bt.flags&=-257,Vi(bt,kt,Et,St,$),bt.mode&1&&Si(St,wt,$),$=bt,Rt=wt;var Ft=$.updateQueue;if(Ft===null){var Xt=new Set;Xt.add(Rt),$.updateQueue=Xt}else Ft.add(Rt);break e}else{if(!($&1)){Si(St,wt,$),tj();break e}Rt=Error(p$4(426))}}else if(I$4&&Et.mode&1){var Kt=Ui(kt);if(Kt!==null){!(Kt.flags&65536)&&(Kt.flags|=256),Vi(Kt,kt,Et,St,$),Jg(Ji(Rt,Et));break e}}St=Rt=Ji(Rt,Et),T$3!==4&&(T$3=2),sk===null?sk=[St]:sk.push(St),St=kt;do{switch(St.tag){case 3:St.flags|=65536,$&=-$,St.lanes|=$;var Nt=Ni(St,Rt,$);ph(St,Nt);break e;case 1:Et=Rt;var $t=St.type,Dt=St.stateNode;if(!(St.flags&128)&&(typeof $t.getDerivedStateFromError=="function"||Dt!==null&&typeof Dt.componentDidCatch=="function"&&(Ri===null||!Ri.has(Dt)))){St.flags|=65536,$&=-$,St.lanes|=$;var jt=Qi(St,Et,$);ph(St,jt);break e}}St=St.return}while(St!==null)}Sk(ht)}catch(Ct){$=Ct,Y===ht&&ht!==null&&(Y=ht=ht.return);continue}break}while(!0)}function Jk(){var xt=mk.current;return mk.current=Rh,xt===null?Rh:xt}function tj(){(T$3===0||T$3===3||T$3===2)&&(T$3=4),Q===null||!(rh&268435455)&&!(qk&268435455)||Ck(Q,Z)}function Ik(xt,$){var ht=K;K|=2;var vt=Jk();(Q!==xt||Z!==$)&&(uk=null,Kk(xt,$));do try{Tk();break}catch(At){Mk(xt,At)}while(!0);if($g(),K=ht,mk.current=vt,Y!==null)throw Error(p$4(261));return Q=null,Z=0,T$3}function Tk(){for(;Y!==null;)Uk(Y)}function Lk(){for(;Y!==null&&!cc();)Uk(Y)}function Uk(xt){var $=Vk(xt.alternate,xt,fj);xt.memoizedProps=xt.pendingProps,$===null?Sk(xt):Y=$,nk.current=null}function Sk(xt){var $=xt;do{var ht=$.alternate;if(xt=$.return,$.flags&32768){if(ht=Ij(ht,$),ht!==null){ht.flags&=32767,Y=ht;return}if(xt!==null)xt.flags|=32768,xt.subtreeFlags=0,xt.deletions=null;else{T$3=6,Y=null;return}}else if(ht=Ej(ht,$,fj),ht!==null){Y=ht;return}if($=$.sibling,$!==null){Y=$;return}Y=$=xt}while($!==null);T$3===0&&(T$3=5)}function Pk(xt,$,ht){var vt=C$1,At=ok.transition;try{ok.transition=null,C$1=1,Wk(xt,$,ht,vt)}finally{ok.transition=At,C$1=vt}return null}function Wk(xt,$,ht,vt){do Hk();while(wk!==null);if(K&6)throw Error(p$4(327));ht=xt.finishedWork;var At=xt.finishedLanes;if(ht===null)return null;if(xt.finishedWork=null,xt.finishedLanes=0,ht===xt.current)throw Error(p$4(177));xt.callbackNode=null,xt.callbackPriority=0;var St=ht.lanes|ht.childLanes;if(Bc(xt,St),xt===Q&&(Y=Q=null,Z=0),!(ht.subtreeFlags&2064)&&!(ht.flags&2064)||vk||(vk=!0,Fk(hc,function(){return Hk(),null})),St=(ht.flags&15990)!==0,ht.subtreeFlags&15990||St){St=ok.transition,ok.transition=null;var kt=C$1;C$1=1;var Et=K;K|=4,nk.current=null,Oj(xt,ht),dk(ht,xt),Oe(Df),dd=!!Cf,Df=Cf=null,xt.current=ht,hk(ht),dc(),K=Et,C$1=kt,ok.transition=St}else xt.current=ht;if(vk&&(vk=!1,wk=xt,xk=At),St=xt.pendingLanes,St===0&&(Ri=null),mc(ht.stateNode),Dk(xt,B$1()),$!==null)for(vt=xt.onRecoverableError,ht=0;ht<$.length;ht++)At=$[ht],vt(At.value,{componentStack:At.stack,digest:At.digest});if(Oi)throw Oi=!1,xt=Pi,Pi=null,xt;return xk&1&&xt.tag!==0&&Hk(),St=xt.pendingLanes,St&1?xt===zk?yk++:(yk=0,zk=xt):yk=0,jg(),null}function Hk(){if(wk!==null){var xt=Dc(xk),$=ok.transition,ht=C$1;try{if(ok.transition=null,C$1=16>xt?16:xt,wk===null)var vt=!1;else{if(xt=wk,wk=null,xk=0,K&6)throw Error(p$4(331));var At=K;for(K|=4,V$1=xt.current;V$1!==null;){var St=V$1,kt=St.child;if(V$1.flags&16){var Et=St.deletions;if(Et!==null){for(var Rt=0;Rt<Et.length;Rt++){var wt=Et[Rt];for(V$1=wt;V$1!==null;){var _t=V$1;switch(_t.tag){case 0:case 11:case 15:Pj(8,_t,St)}var Pt=_t.child;if(Pt!==null)Pt.return=_t,V$1=Pt;else for(;V$1!==null;){_t=V$1;var _e=_t.sibling,bt=_t.return;if(Sj(_t),_t===wt){V$1=null;break}if(_e!==null){_e.return=bt,V$1=_e;break}V$1=bt}}}var Ft=St.alternate;if(Ft!==null){var Xt=Ft.child;if(Xt!==null){Ft.child=null;do{var Kt=Xt.sibling;Xt.sibling=null,Xt=Kt}while(Xt!==null)}}V$1=St}}if(St.subtreeFlags&2064&&kt!==null)kt.return=St,V$1=kt;else e:for(;V$1!==null;){if(St=V$1,St.flags&2048)switch(St.tag){case 0:case 11:case 15:Pj(9,St,St.return)}var Nt=St.sibling;if(Nt!==null){Nt.return=St.return,V$1=Nt;break e}V$1=St.return}}var $t=xt.current;for(V$1=$t;V$1!==null;){kt=V$1;var Dt=kt.child;if(kt.subtreeFlags&2064&&Dt!==null)Dt.return=kt,V$1=Dt;else e:for(kt=$t;V$1!==null;){if(Et=V$1,Et.flags&2048)try{switch(Et.tag){case 0:case 11:case 15:Qj(9,Et)}}catch(Ct){W$2(Et,Et.return,Ct)}if(Et===kt){V$1=null;break e}var jt=Et.sibling;if(jt!==null){jt.return=Et.return,V$1=jt;break e}V$1=Et.return}}if(K=At,jg(),lc&&typeof lc.onPostCommitFiberRoot=="function")try{lc.onPostCommitFiberRoot(kc,xt)}catch{}vt=!0}return vt}finally{C$1=ht,ok.transition=$}}return!1}function Xk(xt,$,ht){$=Ji(ht,$),$=Ni(xt,$,1),xt=nh(xt,$,1),$=R$1(),xt!==null&&(Ac(xt,1,$),Dk(xt,$))}function W$2(xt,$,ht){if(xt.tag===3)Xk(xt,xt,ht);else for(;$!==null;){if($.tag===3){Xk($,xt,ht);break}else if($.tag===1){var vt=$.stateNode;if(typeof $.type.getDerivedStateFromError=="function"||typeof vt.componentDidCatch=="function"&&(Ri===null||!Ri.has(vt))){xt=Ji(ht,xt),xt=Qi($,xt,1),$=nh($,xt,1),xt=R$1(),$!==null&&(Ac($,1,xt),Dk($,xt));break}}$=$.return}}function Ti(xt,$,ht){var vt=xt.pingCache;vt!==null&&vt.delete($),$=R$1(),xt.pingedLanes|=xt.suspendedLanes&ht,Q===xt&&(Z&ht)===ht&&(T$3===4||T$3===3&&(Z&130023424)===Z&&500>B$1()-fk?Kk(xt,0):rk|=ht),Dk(xt,$)}function Yk(xt,$){$===0&&(xt.mode&1?($=sc,sc<<=1,!(sc&130023424)&&(sc=4194304)):$=1);var ht=R$1();xt=ih(xt,$),xt!==null&&(Ac(xt,$,ht),Dk(xt,ht))}function uj(xt){var $=xt.memoizedState,ht=0;$!==null&&(ht=$.retryLane),Yk(xt,ht)}function bk(xt,$){var ht=0;switch(xt.tag){case 13:var vt=xt.stateNode,At=xt.memoizedState;At!==null&&(ht=At.retryLane);break;case 19:vt=xt.stateNode;break;default:throw Error(p$4(314))}vt!==null&&vt.delete($),Yk(xt,ht)}var Vk;Vk=function(xt,$,ht){if(xt!==null)if(xt.memoizedProps!==$.pendingProps||Wf.current)dh=!0;else{if(!(xt.lanes&ht)&&!($.flags&128))return dh=!1,yj(xt,$,ht);dh=!!(xt.flags&131072)}else dh=!1,I$4&&$.flags&1048576&&ug($,ng,$.index);switch($.lanes=0,$.tag){case 2:var vt=$.type;ij(xt,$),xt=$.pendingProps;var At=Yf($,H$2.current);ch($,ht),At=Nh(null,$,vt,xt,At,ht);var St=Sh();return $.flags|=1,typeof At=="object"&&At!==null&&typeof At.render=="function"&&At.$$typeof===void 0?($.tag=1,$.memoizedState=null,$.updateQueue=null,Zf(vt)?(St=!0,cg($)):St=!1,$.memoizedState=At.state!==null&&At.state!==void 0?At.state:null,kh($),At.updater=Ei,$.stateNode=At,At._reactInternals=$,Ii($,vt,xt,ht),$=jj(null,$,vt,!0,St,ht)):($.tag=0,I$4&&St&&vg($),Xi(null,$,At,ht),$=$.child),$;case 16:vt=$.elementType;e:{switch(ij(xt,$),xt=$.pendingProps,At=vt._init,vt=At(vt._payload),$.type=vt,At=$.tag=Zk(vt),xt=Ci(vt,xt),At){case 0:$=cj(null,$,vt,xt,ht);break e;case 1:$=hj(null,$,vt,xt,ht);break e;case 11:$=Yi(null,$,vt,xt,ht);break e;case 14:$=$i(null,$,vt,Ci(vt.type,xt),ht);break e}throw Error(p$4(306,vt,""))}return $;case 0:return vt=$.type,At=$.pendingProps,At=$.elementType===vt?At:Ci(vt,At),cj(xt,$,vt,At,ht);case 1:return vt=$.type,At=$.pendingProps,At=$.elementType===vt?At:Ci(vt,At),hj(xt,$,vt,At,ht);case 3:e:{if(kj($),xt===null)throw Error(p$4(387));vt=$.pendingProps,St=$.memoizedState,At=St.element,lh(xt,$),qh($,vt,null,ht);var kt=$.memoizedState;if(vt=kt.element,St.isDehydrated)if(St={element:vt,isDehydrated:!1,cache:kt.cache,pendingSuspenseBoundaries:kt.pendingSuspenseBoundaries,transitions:kt.transitions},$.updateQueue.baseState=St,$.memoizedState=St,$.flags&256){At=Ji(Error(p$4(423)),$),$=lj(xt,$,vt,ht,At);break e}else if(vt!==At){At=Ji(Error(p$4(424)),$),$=lj(xt,$,vt,ht,At);break e}else for(yg=Lf($.stateNode.containerInfo.firstChild),xg=$,I$4=!0,zg=null,ht=Vg($,null,vt,ht),$.child=ht;ht;)ht.flags=ht.flags&-3|4096,ht=ht.sibling;else{if(Ig(),vt===At){$=Zi(xt,$,ht);break e}Xi(xt,$,vt,ht)}$=$.child}return $;case 5:return Ah($),xt===null&&Eg($),vt=$.type,At=$.pendingProps,St=xt!==null?xt.memoizedProps:null,kt=At.children,Ef(vt,At)?kt=null:St!==null&&Ef(vt,St)&&($.flags|=32),gj(xt,$),Xi(xt,$,kt,ht),$.child;case 6:return xt===null&&Eg($),null;case 13:return oj(xt,$,ht);case 4:return yh($,$.stateNode.containerInfo),vt=$.pendingProps,xt===null?$.child=Ug($,null,vt,ht):Xi(xt,$,vt,ht),$.child;case 11:return vt=$.type,At=$.pendingProps,At=$.elementType===vt?At:Ci(vt,At),Yi(xt,$,vt,At,ht);case 7:return Xi(xt,$,$.pendingProps,ht),$.child;case 8:return Xi(xt,$,$.pendingProps.children,ht),$.child;case 12:return Xi(xt,$,$.pendingProps.children,ht),$.child;case 10:e:{if(vt=$.type._context,At=$.pendingProps,St=$.memoizedProps,kt=At.value,G$2(Wg,vt._currentValue),vt._currentValue=kt,St!==null)if(He(St.value,kt)){if(St.children===At.children&&!Wf.current){$=Zi(xt,$,ht);break e}}else for(St=$.child,St!==null&&(St.return=$);St!==null;){var Et=St.dependencies;if(Et!==null){kt=St.child;for(var Rt=Et.firstContext;Rt!==null;){if(Rt.context===vt){if(St.tag===1){Rt=mh(-1,ht&-ht),Rt.tag=2;var wt=St.updateQueue;if(wt!==null){wt=wt.shared;var _t=wt.pending;_t===null?Rt.next=Rt:(Rt.next=_t.next,_t.next=Rt),wt.pending=Rt}}St.lanes|=ht,Rt=St.alternate,Rt!==null&&(Rt.lanes|=ht),bh(St.return,ht,$),Et.lanes|=ht;break}Rt=Rt.next}}else if(St.tag===10)kt=St.type===$.type?null:St.child;else if(St.tag===18){if(kt=St.return,kt===null)throw Error(p$4(341));kt.lanes|=ht,Et=kt.alternate,Et!==null&&(Et.lanes|=ht),bh(kt,ht,$),kt=St.sibling}else kt=St.child;if(kt!==null)kt.return=St;else for(kt=St;kt!==null;){if(kt===$){kt=null;break}if(St=kt.sibling,St!==null){St.return=kt.return,kt=St;break}kt=kt.return}St=kt}Xi(xt,$,At.children,ht),$=$.child}return $;case 9:return At=$.type,vt=$.pendingProps.children,ch($,ht),At=eh(At),vt=vt(At),$.flags|=1,Xi(xt,$,vt,ht),$.child;case 14:return vt=$.type,At=Ci(vt,$.pendingProps),At=Ci(vt.type,At),$i(xt,$,vt,At,ht);case 15:return bj(xt,$,$.type,$.pendingProps,ht);case 17:return vt=$.type,At=$.pendingProps,At=$.elementType===vt?At:Ci(vt,At),ij(xt,$),$.tag=1,Zf(vt)?(xt=!0,cg($)):xt=!1,ch($,ht),Gi($,vt,At),Ii($,vt,At,ht),jj(null,$,vt,!0,xt,ht);case 19:return xj(xt,$,ht);case 22:return dj(xt,$,ht)}throw Error(p$4(156,$.tag))};function Fk(xt,$){return ac(xt,$)}function $k(xt,$,ht,vt){this.tag=xt,this.key=ht,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=$,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=vt,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Bg(xt,$,ht,vt){return new $k(xt,$,ht,vt)}function aj(xt){return xt=xt.prototype,!(!xt||!xt.isReactComponent)}function Zk(xt){if(typeof xt=="function")return aj(xt)?1:0;if(xt!=null){if(xt=xt.$$typeof,xt===Da)return 11;if(xt===Ga)return 14}return 2}function Pg(xt,$){var ht=xt.alternate;return ht===null?(ht=Bg(xt.tag,$,xt.key,xt.mode),ht.elementType=xt.elementType,ht.type=xt.type,ht.stateNode=xt.stateNode,ht.alternate=xt,xt.alternate=ht):(ht.pendingProps=$,ht.type=xt.type,ht.flags=0,ht.subtreeFlags=0,ht.deletions=null),ht.flags=xt.flags&14680064,ht.childLanes=xt.childLanes,ht.lanes=xt.lanes,ht.child=xt.child,ht.memoizedProps=xt.memoizedProps,ht.memoizedState=xt.memoizedState,ht.updateQueue=xt.updateQueue,$=xt.dependencies,ht.dependencies=$===null?null:{lanes:$.lanes,firstContext:$.firstContext},ht.sibling=xt.sibling,ht.index=xt.index,ht.ref=xt.ref,ht}function Rg(xt,$,ht,vt,At,St){var kt=2;if(vt=xt,typeof xt=="function")aj(xt)&&(kt=1);else if(typeof xt=="string")kt=5;else e:switch(xt){case ya:return Tg(ht.children,At,St,$);case za:kt=8,At|=8;break;case Aa:return xt=Bg(12,ht,$,At|2),xt.elementType=Aa,xt.lanes=St,xt;case Ea:return xt=Bg(13,ht,$,At),xt.elementType=Ea,xt.lanes=St,xt;case Fa:return xt=Bg(19,ht,$,At),xt.elementType=Fa,xt.lanes=St,xt;case Ia:return pj(ht,At,St,$);default:if(typeof xt=="object"&&xt!==null)switch(xt.$$typeof){case Ba:kt=10;break e;case Ca:kt=9;break e;case Da:kt=11;break e;case Ga:kt=14;break e;case Ha:kt=16,vt=null;break e}throw Error(p$4(130,xt==null?xt:typeof xt,""))}return $=Bg(kt,ht,$,At),$.elementType=xt,$.type=vt,$.lanes=St,$}function Tg(xt,$,ht,vt){return xt=Bg(7,xt,vt,$),xt.lanes=ht,xt}function pj(xt,$,ht,vt){return xt=Bg(22,xt,vt,$),xt.elementType=Ia,xt.lanes=ht,xt.stateNode={isHidden:!1},xt}function Qg(xt,$,ht){return xt=Bg(6,xt,null,$),xt.lanes=ht,xt}function Sg(xt,$,ht){return $=Bg(4,xt.children!==null?xt.children:[],xt.key,$),$.lanes=ht,$.stateNode={containerInfo:xt.containerInfo,pendingChildren:null,implementation:xt.implementation},$}function al(xt,$,ht,vt,At){this.tag=$,this.containerInfo=xt,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=zc(0),this.expirationTimes=zc(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=zc(0),this.identifierPrefix=vt,this.onRecoverableError=At,this.mutableSourceEagerHydrationData=null}function bl(xt,$,ht,vt,At,St,kt,Et,Rt){return xt=new al(xt,$,ht,Et,Rt),$===1?($=1,St===!0&&($|=8)):$=0,St=Bg(3,null,null,$),xt.current=St,St.stateNode=xt,St.memoizedState={element:vt,isDehydrated:ht,cache:null,transitions:null,pendingSuspenseBoundaries:null},kh(St),xt}function cl(xt,$,ht){var vt=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:wa,key:vt==null?null:""+vt,children:xt,containerInfo:$,implementation:ht}}function dl(xt){if(!xt)return Vf;xt=xt._reactInternals;e:{if(Vb(xt)!==xt||xt.tag!==1)throw Error(p$4(170));var $=xt;do{switch($.tag){case 3:$=$.stateNode.context;break e;case 1:if(Zf($.type)){$=$.stateNode.__reactInternalMemoizedMergedChildContext;break e}}$=$.return}while($!==null);throw Error(p$4(171))}if(xt.tag===1){var ht=xt.type;if(Zf(ht))return bg(xt,ht,$)}return $}function el(xt,$,ht,vt,At,St,kt,Et,Rt){return xt=bl(ht,vt,!0,xt,At,St,kt,Et,Rt),xt.context=dl(null),ht=xt.current,vt=R$1(),At=yi(ht),St=mh(vt,At),St.callback=$??null,nh(ht,St,At),xt.current.lanes=At,Ac(xt,At,vt),Dk(xt,vt),xt}function fl(xt,$,ht,vt){var At=$.current,St=R$1(),kt=yi(At);return ht=dl(ht),$.context===null?$.context=ht:$.pendingContext=ht,$=mh(St,kt),$.payload={element:xt},vt=vt===void 0?null:vt,vt!==null&&($.callback=vt),xt=nh(At,$,kt),xt!==null&&(gi(xt,At,kt,St),oh(xt,At,kt)),kt}function gl(xt){if(xt=xt.current,!xt.child)return null;switch(xt.child.tag){case 5:return xt.child.stateNode;default:return xt.child.stateNode}}function hl(xt,$){if(xt=xt.memoizedState,xt!==null&&xt.dehydrated!==null){var ht=xt.retryLane;xt.retryLane=ht!==0&&ht<$?ht:$}}function il(xt,$){hl(xt,$),(xt=xt.alternate)&&hl(xt,$)}function jl(){return null}var kl=typeof reportError=="function"?reportError:function(xt){console.error(xt)};function ll(xt){this._internalRoot=xt}ml.prototype.render=ll.prototype.render=function(xt){var $=this._internalRoot;if($===null)throw Error(p$4(409));fl(xt,$,null,null)};ml.prototype.unmount=ll.prototype.unmount=function(){var xt=this._internalRoot;if(xt!==null){this._internalRoot=null;var $=xt.containerInfo;Rk(function(){fl(null,xt,null,null)}),$[uf]=null}};function ml(xt){this._internalRoot=xt}ml.prototype.unstable_scheduleHydration=function(xt){if(xt){var $=Hc();xt={blockedOn:null,target:xt,priority:$};for(var ht=0;ht<Qc.length&&$!==0&&$<Qc[ht].priority;ht++);Qc.splice(ht,0,xt),ht===0&&Vc(xt)}};function nl(xt){return!(!xt||xt.nodeType!==1&&xt.nodeType!==9&&xt.nodeType!==11)}function ol(xt){return!(!xt||xt.nodeType!==1&&xt.nodeType!==9&&xt.nodeType!==11&&(xt.nodeType!==8||xt.nodeValue!==" react-mount-point-unstable "))}function pl(){}function ql(xt,$,ht,vt,At){if(At){if(typeof vt=="function"){var St=vt;vt=function(){var wt=gl(kt);St.call(wt)}}var kt=el($,vt,xt,0,null,!1,!1,"",pl);return xt._reactRootContainer=kt,xt[uf]=kt.current,sf(xt.nodeType===8?xt.parentNode:xt),Rk(),kt}for(;At=xt.lastChild;)xt.removeChild(At);if(typeof vt=="function"){var Et=vt;vt=function(){var wt=gl(Rt);Et.call(wt)}}var Rt=bl(xt,0,!1,null,null,!1,!1,"",pl);return xt._reactRootContainer=Rt,xt[uf]=Rt.current,sf(xt.nodeType===8?xt.parentNode:xt),Rk(function(){fl($,Rt,ht,vt)}),Rt}function rl(xt,$,ht,vt,At){var St=ht._reactRootContainer;if(St){var kt=St;if(typeof At=="function"){var Et=At;At=function(){var Rt=gl(kt);Et.call(Rt)}}fl($,kt,xt,At)}else kt=ql(ht,$,xt,At,vt);return gl(kt)}Ec=function(xt){switch(xt.tag){case 3:var $=xt.stateNode;if($.current.memoizedState.isDehydrated){var ht=tc($.pendingLanes);ht!==0&&(Cc($,ht|1),Dk($,B$1()),!(K&6)&&(Gj=B$1()+500,jg()))}break;case 13:Rk(function(){var vt=ih(xt,1);if(vt!==null){var At=R$1();gi(vt,xt,1,At)}}),il(xt,1)}};Fc=function(xt){if(xt.tag===13){var $=ih(xt,134217728);if($!==null){var ht=R$1();gi($,xt,134217728,ht)}il(xt,134217728)}};Gc=function(xt){if(xt.tag===13){var $=yi(xt),ht=ih(xt,$);if(ht!==null){var vt=R$1();gi(ht,xt,$,vt)}il(xt,$)}};Hc=function(){return C$1};Ic=function(xt,$){var ht=C$1;try{return C$1=xt,$()}finally{C$1=ht}};yb=function(xt,$,ht){switch($){case"input":if(bb(xt,ht),$=ht.name,ht.type==="radio"&&$!=null){for(ht=xt;ht.parentNode;)ht=ht.parentNode;for(ht=ht.querySelectorAll("input[name="+JSON.stringify(""+$)+'][type="radio"]'),$=0;$<ht.length;$++){var vt=ht[$];if(vt!==xt&&vt.form===xt.form){var At=Db(vt);if(!At)throw Error(p$4(90));Wa(vt),bb(vt,At)}}}break;case"textarea":ib(xt,ht);break;case"select":$=ht.value,$!=null&&fb(xt,!!ht.multiple,$,!1)}};Gb=Qk;Hb=Rk;var sl={usingClientEntryPoint:!1,Events:[Cb,ue,Db,Eb,Fb,Qk]},tl={findFiberByHostInstance:Wc,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},ul={bundleType:tl.bundleType,version:tl.version,rendererPackageName:tl.rendererPackageName,rendererConfig:tl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ua.ReactCurrentDispatcher,findHostInstanceByFiber:function(xt){return xt=Zb(xt),xt===null?null:xt.stateNode},findFiberByHostInstance:tl.findFiberByHostInstance||jl,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var vl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!vl.isDisabled&&vl.supportsFiber)try{kc=vl.inject(ul),lc=vl}catch{}}reactDom_production_min.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=sl;reactDom_production_min.createPortal=function(xt,$){var ht=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!nl($))throw Error(p$4(200));return cl(xt,$,null,ht)};reactDom_production_min.createRoot=function(xt,$){if(!nl(xt))throw Error(p$4(299));var ht=!1,vt="",At=kl;return $!=null&&($.unstable_strictMode===!0&&(ht=!0),$.identifierPrefix!==void 0&&(vt=$.identifierPrefix),$.onRecoverableError!==void 0&&(At=$.onRecoverableError)),$=bl(xt,1,!1,null,null,ht,!1,vt,At),xt[uf]=$.current,sf(xt.nodeType===8?xt.parentNode:xt),new ll($)};reactDom_production_min.findDOMNode=function(xt){if(xt==null)return null;if(xt.nodeType===1)return xt;var $=xt._reactInternals;if($===void 0)throw typeof xt.render=="function"?Error(p$4(188)):(xt=Object.keys(xt).join(","),Error(p$4(268,xt)));return xt=Zb($),xt=xt===null?null:xt.stateNode,xt};reactDom_production_min.flushSync=function(xt){return Rk(xt)};reactDom_production_min.hydrate=function(xt,$,ht){if(!ol($))throw Error(p$4(200));return rl(null,xt,$,!0,ht)};reactDom_production_min.hydrateRoot=function(xt,$,ht){if(!nl(xt))throw Error(p$4(405));var vt=ht!=null&&ht.hydratedSources||null,At=!1,St="",kt=kl;if(ht!=null&&(ht.unstable_strictMode===!0&&(At=!0),ht.identifierPrefix!==void 0&&(St=ht.identifierPrefix),ht.onRecoverableError!==void 0&&(kt=ht.onRecoverableError)),$=el($,null,xt,1,ht??null,At,!1,St,kt),xt[uf]=$.current,sf(xt),vt)for(xt=0;xt<vt.length;xt++)ht=vt[xt],At=ht._getVersion,At=At(ht._source),$.mutableSourceEagerHydrationData==null?$.mutableSourceEagerHydrationData=[ht,At]:$.mutableSourceEagerHydrationData.push(ht,At);return new ml($)};reactDom_production_min.render=function(xt,$,ht){if(!ol($))throw Error(p$4(200));return rl(null,xt,$,!1,ht)};reactDom_production_min.unmountComponentAtNode=function(xt){if(!ol(xt))throw Error(p$4(40));return xt._reactRootContainer?(Rk(function(){rl(null,null,xt,!1,function(){xt._reactRootContainer=null,xt[uf]=null})}),!0):!1};reactDom_production_min.unstable_batchedUpdates=Qk;reactDom_production_min.unstable_renderSubtreeIntoContainer=function(xt,$,ht,vt){if(!ol(ht))throw Error(p$4(200));if(xt==null||xt._reactInternals===void 0)throw Error(p$4(38));return rl(xt,$,ht,!1,vt)};reactDom_production_min.version="18.3.1-next-f1338f8080-20240426";function checkDCE(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(checkDCE)}catch(xt){console.error(xt)}}checkDCE(),reactDom.exports=reactDom_production_min;var reactDomExports=reactDom.exports,m$4=reactDomExports;client.createRoot=m$4.createRoot,client.hydrateRoot=m$4.hydrateRoot;/**
 * @remix-run/router v1.16.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function _extends$2(){return _extends$2=Object.assign?Object.assign.bind():function(xt){for(var $=1;$<arguments.length;$++){var ht=arguments[$];for(var vt in ht)Object.prototype.hasOwnProperty.call(ht,vt)&&(xt[vt]=ht[vt])}return xt},_extends$2.apply(this,arguments)}var Action;(function(xt){xt.Pop="POP",xt.Push="PUSH",xt.Replace="REPLACE"})(Action||(Action={}));const PopStateEventType="popstate";function createBrowserHistory(xt){xt===void 0&&(xt={});function $(vt,At){let{pathname:St,search:kt,hash:Et}=vt.location;return createLocation("",{pathname:St,search:kt,hash:Et},At.state&&At.state.usr||null,At.state&&At.state.key||"default")}function ht(vt,At){return typeof At=="string"?At:createPath(At)}return getUrlBasedHistory($,ht,null,xt)}function invariant(xt,$){if(xt===!1||xt===null||typeof xt>"u")throw new Error($)}function warning(xt,$){if(!xt){typeof console<"u"&&console.warn($);try{throw new Error($)}catch{}}}function createKey(){return Math.random().toString(36).substr(2,8)}function getHistoryState(xt,$){return{usr:xt.state,key:xt.key,idx:$}}function createLocation(xt,$,ht,vt){return ht===void 0&&(ht=null),_extends$2({pathname:typeof xt=="string"?xt:xt.pathname,search:"",hash:""},typeof $=="string"?parsePath($):$,{state:ht,key:$&&$.key||vt||createKey()})}function createPath(xt){let{pathname:$="/",search:ht="",hash:vt=""}=xt;return ht&&ht!=="?"&&($+=ht.charAt(0)==="?"?ht:"?"+ht),vt&&vt!=="#"&&($+=vt.charAt(0)==="#"?vt:"#"+vt),$}function parsePath(xt){let $={};if(xt){let ht=xt.indexOf("#");ht>=0&&($.hash=xt.substr(ht),xt=xt.substr(0,ht));let vt=xt.indexOf("?");vt>=0&&($.search=xt.substr(vt),xt=xt.substr(0,vt)),xt&&($.pathname=xt)}return $}function getUrlBasedHistory(xt,$,ht,vt){vt===void 0&&(vt={});let{window:At=document.defaultView,v5Compat:St=!1}=vt,kt=At.history,Et=Action.Pop,Rt=null,wt=_t();wt==null&&(wt=0,kt.replaceState(_extends$2({},kt.state,{idx:wt}),""));function _t(){return(kt.state||{idx:null}).idx}function Pt(){Et=Action.Pop;let Kt=_t(),Nt=Kt==null?null:Kt-wt;wt=Kt,Rt&&Rt({action:Et,location:Xt.location,delta:Nt})}function _e(Kt,Nt){Et=Action.Push;let $t=createLocation(Xt.location,Kt,Nt);wt=_t()+1;let Dt=getHistoryState($t,wt),jt=Xt.createHref($t);try{kt.pushState(Dt,"",jt)}catch(Ct){if(Ct instanceof DOMException&&Ct.name==="DataCloneError")throw Ct;At.location.assign(jt)}St&&Rt&&Rt({action:Et,location:Xt.location,delta:1})}function bt(Kt,Nt){Et=Action.Replace;let $t=createLocation(Xt.location,Kt,Nt);wt=_t();let Dt=getHistoryState($t,wt),jt=Xt.createHref($t);kt.replaceState(Dt,"",jt),St&&Rt&&Rt({action:Et,location:Xt.location,delta:0})}function Ft(Kt){let Nt=At.location.origin!=="null"?At.location.origin:At.location.href,$t=typeof Kt=="string"?Kt:createPath(Kt);return $t=$t.replace(/ $/,"%20"),invariant(Nt,"No window.location.(origin|href) available to create URL for href: "+$t),new URL($t,Nt)}let Xt={get action(){return Et},get location(){return xt(At,kt)},listen(Kt){if(Rt)throw new Error("A history only accepts one active listener");return At.addEventListener(PopStateEventType,Pt),Rt=Kt,()=>{At.removeEventListener(PopStateEventType,Pt),Rt=null}},createHref(Kt){return $(At,Kt)},createURL:Ft,encodeLocation(Kt){let Nt=Ft(Kt);return{pathname:Nt.pathname,search:Nt.search,hash:Nt.hash}},push:_e,replace:bt,go(Kt){return kt.go(Kt)}};return Xt}var ResultType;(function(xt){xt.data="data",xt.deferred="deferred",xt.redirect="redirect",xt.error="error"})(ResultType||(ResultType={}));function matchRoutes(xt,$,ht){ht===void 0&&(ht="/");let vt=typeof $=="string"?parsePath($):$,At=stripBasename(vt.pathname||"/",ht);if(At==null)return null;let St=flattenRoutes(xt);rankRouteBranches(St);let kt=null;for(let Et=0;kt==null&&Et<St.length;++Et){let Rt=decodePath(At);kt=matchRouteBranch(St[Et],Rt)}return kt}function flattenRoutes(xt,$,ht,vt){$===void 0&&($=[]),ht===void 0&&(ht=[]),vt===void 0&&(vt="");let At=(St,kt,Et)=>{let Rt={relativePath:Et===void 0?St.path||"":Et,caseSensitive:St.caseSensitive===!0,childrenIndex:kt,route:St};Rt.relativePath.startsWith("/")&&(invariant(Rt.relativePath.startsWith(vt),'Absolute route path "'+Rt.relativePath+'" nested under path '+('"'+vt+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),Rt.relativePath=Rt.relativePath.slice(vt.length));let wt=joinPaths([vt,Rt.relativePath]),_t=ht.concat(Rt);St.children&&St.children.length>0&&(invariant(St.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+wt+'".')),flattenRoutes(St.children,$,_t,wt)),!(St.path==null&&!St.index)&&$.push({path:wt,score:computeScore(wt,St.index),routesMeta:_t})};return xt.forEach((St,kt)=>{var Et;if(St.path===""||!((Et=St.path)!=null&&Et.includes("?")))At(St,kt);else for(let Rt of explodeOptionalSegments(St.path))At(St,kt,Rt)}),$}function explodeOptionalSegments(xt){let $=xt.split("/");if($.length===0)return[];let[ht,...vt]=$,At=ht.endsWith("?"),St=ht.replace(/\?$/,"");if(vt.length===0)return At?[St,""]:[St];let kt=explodeOptionalSegments(vt.join("/")),Et=[];return Et.push(...kt.map(Rt=>Rt===""?St:[St,Rt].join("/"))),At&&Et.push(...kt),Et.map(Rt=>xt.startsWith("/")&&Rt===""?"/":Rt)}function rankRouteBranches(xt){xt.sort(($,ht)=>$.score!==ht.score?ht.score-$.score:compareIndexes($.routesMeta.map(vt=>vt.childrenIndex),ht.routesMeta.map(vt=>vt.childrenIndex)))}const paramRe=/^:[\w-]+$/,dynamicSegmentValue=3,indexRouteValue=2,emptySegmentValue=1,staticSegmentValue=10,splatPenalty=-2,isSplat=xt=>xt==="*";function computeScore(xt,$){let ht=xt.split("/"),vt=ht.length;return ht.some(isSplat)&&(vt+=splatPenalty),$&&(vt+=indexRouteValue),ht.filter(At=>!isSplat(At)).reduce((At,St)=>At+(paramRe.test(St)?dynamicSegmentValue:St===""?emptySegmentValue:staticSegmentValue),vt)}function compareIndexes(xt,$){return xt.length===$.length&&xt.slice(0,-1).every((vt,At)=>vt===$[At])?xt[xt.length-1]-$[$.length-1]:0}function matchRouteBranch(xt,$){let{routesMeta:ht}=xt,vt={},At="/",St=[];for(let kt=0;kt<ht.length;++kt){let Et=ht[kt],Rt=kt===ht.length-1,wt=At==="/"?$:$.slice(At.length)||"/",_t=matchPath({path:Et.relativePath,caseSensitive:Et.caseSensitive,end:Rt},wt);if(!_t)return null;Object.assign(vt,_t.params);let Pt=Et.route;St.push({params:vt,pathname:joinPaths([At,_t.pathname]),pathnameBase:normalizePathname(joinPaths([At,_t.pathnameBase])),route:Pt}),_t.pathnameBase!=="/"&&(At=joinPaths([At,_t.pathnameBase]))}return St}function matchPath(xt,$){typeof xt=="string"&&(xt={path:xt,caseSensitive:!1,end:!0});let[ht,vt]=compilePath(xt.path,xt.caseSensitive,xt.end),At=$.match(ht);if(!At)return null;let St=At[0],kt=St.replace(/(.)\/+$/,"$1"),Et=At.slice(1);return{params:vt.reduce((wt,_t,Pt)=>{let{paramName:_e,isOptional:bt}=_t;if(_e==="*"){let Xt=Et[Pt]||"";kt=St.slice(0,St.length-Xt.length).replace(/(.)\/+$/,"$1")}const Ft=Et[Pt];return bt&&!Ft?wt[_e]=void 0:wt[_e]=(Ft||"").replace(/%2F/g,"/"),wt},{}),pathname:St,pathnameBase:kt,pattern:xt}}function compilePath(xt,$,ht){$===void 0&&($=!1),ht===void 0&&(ht=!0),warning(xt==="*"||!xt.endsWith("*")||xt.endsWith("/*"),'Route path "'+xt+'" will be treated as if it were '+('"'+xt.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+xt.replace(/\*$/,"/*")+'".'));let vt=[],At="^"+xt.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(kt,Et,Rt)=>(vt.push({paramName:Et,isOptional:Rt!=null}),Rt?"/?([^\\/]+)?":"/([^\\/]+)"));return xt.endsWith("*")?(vt.push({paramName:"*"}),At+=xt==="*"||xt==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):ht?At+="\\/*$":xt!==""&&xt!=="/"&&(At+="(?:(?=\\/|$))"),[new RegExp(At,$?void 0:"i"),vt]}function decodePath(xt){try{return xt.split("/").map($=>decodeURIComponent($).replace(/\//g,"%2F")).join("/")}catch($){return warning(!1,'The URL path "'+xt+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+$+").")),xt}}function stripBasename(xt,$){if($==="/")return xt;if(!xt.toLowerCase().startsWith($.toLowerCase()))return null;let ht=$.endsWith("/")?$.length-1:$.length,vt=xt.charAt(ht);return vt&&vt!=="/"?null:xt.slice(ht)||"/"}function resolvePath(xt,$){$===void 0&&($="/");let{pathname:ht,search:vt="",hash:At=""}=typeof xt=="string"?parsePath(xt):xt;return{pathname:ht?ht.startsWith("/")?ht:resolvePathname(ht,$):$,search:normalizeSearch(vt),hash:normalizeHash(At)}}function resolvePathname(xt,$){let ht=$.replace(/\/+$/,"").split("/");return xt.split("/").forEach(At=>{At===".."?ht.length>1&&ht.pop():At!=="."&&ht.push(At)}),ht.length>1?ht.join("/"):"/"}function getInvalidPathError(xt,$,ht,vt){return"Cannot include a '"+xt+"' character in a manually specified "+("`to."+$+"` field ["+JSON.stringify(vt)+"].  Please separate it out to the ")+("`to."+ht+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function getPathContributingMatches(xt){return xt.filter(($,ht)=>ht===0||$.route.path&&$.route.path.length>0)}function getResolveToMatches(xt,$){let ht=getPathContributingMatches(xt);return $?ht.map((vt,At)=>At===xt.length-1?vt.pathname:vt.pathnameBase):ht.map(vt=>vt.pathnameBase)}function resolveTo(xt,$,ht,vt){vt===void 0&&(vt=!1);let At;typeof xt=="string"?At=parsePath(xt):(At=_extends$2({},xt),invariant(!At.pathname||!At.pathname.includes("?"),getInvalidPathError("?","pathname","search",At)),invariant(!At.pathname||!At.pathname.includes("#"),getInvalidPathError("#","pathname","hash",At)),invariant(!At.search||!At.search.includes("#"),getInvalidPathError("#","search","hash",At)));let St=xt===""||At.pathname==="",kt=St?"/":At.pathname,Et;if(kt==null)Et=ht;else{let Pt=$.length-1;if(!vt&&kt.startsWith("..")){let _e=kt.split("/");for(;_e[0]==="..";)_e.shift(),Pt-=1;At.pathname=_e.join("/")}Et=Pt>=0?$[Pt]:"/"}let Rt=resolvePath(At,Et),wt=kt&&kt!=="/"&&kt.endsWith("/"),_t=(St||kt===".")&&ht.endsWith("/");return!Rt.pathname.endsWith("/")&&(wt||_t)&&(Rt.pathname+="/"),Rt}const joinPaths=xt=>xt.join("/").replace(/\/\/+/g,"/"),normalizePathname=xt=>xt.replace(/\/+$/,"").replace(/^\/*/,"/"),normalizeSearch=xt=>!xt||xt==="?"?"":xt.startsWith("?")?xt:"?"+xt,normalizeHash=xt=>!xt||xt==="#"?"":xt.startsWith("#")?xt:"#"+xt;function isRouteErrorResponse(xt){return xt!=null&&typeof xt.status=="number"&&typeof xt.statusText=="string"&&typeof xt.internal=="boolean"&&"data"in xt}const validMutationMethodsArr=["post","put","patch","delete"];new Set(validMutationMethodsArr);const validRequestMethodsArr=["get",...validMutationMethodsArr];new Set(validRequestMethodsArr);/**
 * React Router v6.23.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function _extends$1(){return _extends$1=Object.assign?Object.assign.bind():function(xt){for(var $=1;$<arguments.length;$++){var ht=arguments[$];for(var vt in ht)Object.prototype.hasOwnProperty.call(ht,vt)&&(xt[vt]=ht[vt])}return xt},_extends$1.apply(this,arguments)}const DataRouterContext=reactExports.createContext(null),DataRouterStateContext=reactExports.createContext(null),NavigationContext=reactExports.createContext(null),LocationContext=reactExports.createContext(null),RouteContext=reactExports.createContext({outlet:null,matches:[],isDataRoute:!1}),RouteErrorContext=reactExports.createContext(null);function useInRouterContext(){return reactExports.useContext(LocationContext)!=null}function useLocation(){return useInRouterContext()||invariant(!1),reactExports.useContext(LocationContext).location}function useIsomorphicLayoutEffect(xt){reactExports.useContext(NavigationContext).static||reactExports.useLayoutEffect(xt)}function useNavigate(){let{isDataRoute:xt}=reactExports.useContext(RouteContext);return xt?useNavigateStable():useNavigateUnstable()}function useNavigateUnstable(){useInRouterContext()||invariant(!1);let xt=reactExports.useContext(DataRouterContext),{basename:$,future:ht,navigator:vt}=reactExports.useContext(NavigationContext),{matches:At}=reactExports.useContext(RouteContext),{pathname:St}=useLocation(),kt=JSON.stringify(getResolveToMatches(At,ht.v7_relativeSplatPath)),Et=reactExports.useRef(!1);return useIsomorphicLayoutEffect(()=>{Et.current=!0}),reactExports.useCallback(function(wt,_t){if(_t===void 0&&(_t={}),!Et.current)return;if(typeof wt=="number"){vt.go(wt);return}let Pt=resolveTo(wt,JSON.parse(kt),St,_t.relative==="path");xt==null&&$!=="/"&&(Pt.pathname=Pt.pathname==="/"?$:joinPaths([$,Pt.pathname])),(_t.replace?vt.replace:vt.push)(Pt,_t.state,_t)},[$,vt,kt,St,xt])}function useRoutes(xt,$){return useRoutesImpl(xt,$)}function useRoutesImpl(xt,$,ht,vt){useInRouterContext()||invariant(!1);let{navigator:At}=reactExports.useContext(NavigationContext),{matches:St}=reactExports.useContext(RouteContext),kt=St[St.length-1],Et=kt?kt.params:{};kt&&kt.pathname;let Rt=kt?kt.pathnameBase:"/";kt&&kt.route;let wt=useLocation(),_t;if($){var Pt;let Kt=typeof $=="string"?parsePath($):$;Rt==="/"||(Pt=Kt.pathname)!=null&&Pt.startsWith(Rt)||invariant(!1),_t=Kt}else _t=wt;let _e=_t.pathname||"/",bt=_e;if(Rt!=="/"){let Kt=Rt.replace(/^\//,"").split("/");bt="/"+_e.replace(/^\//,"").split("/").slice(Kt.length).join("/")}let Ft=matchRoutes(xt,{pathname:bt}),Xt=_renderMatches(Ft&&Ft.map(Kt=>Object.assign({},Kt,{params:Object.assign({},Et,Kt.params),pathname:joinPaths([Rt,At.encodeLocation?At.encodeLocation(Kt.pathname).pathname:Kt.pathname]),pathnameBase:Kt.pathnameBase==="/"?Rt:joinPaths([Rt,At.encodeLocation?At.encodeLocation(Kt.pathnameBase).pathname:Kt.pathnameBase])})),St,ht,vt);return $&&Xt?reactExports.createElement(LocationContext.Provider,{value:{location:_extends$1({pathname:"/",search:"",hash:"",state:null,key:"default"},_t),navigationType:Action.Pop}},Xt):Xt}function DefaultErrorComponent(){let xt=useRouteError(),$=isRouteErrorResponse(xt)?xt.status+" "+xt.statusText:xt instanceof Error?xt.message:JSON.stringify(xt),ht=xt instanceof Error?xt.stack:null,At={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return reactExports.createElement(reactExports.Fragment,null,reactExports.createElement("h2",null,"Unexpected Application Error!"),reactExports.createElement("h3",{style:{fontStyle:"italic"}},$),ht?reactExports.createElement("pre",{style:At},ht):null,null)}const defaultErrorElement=reactExports.createElement(DefaultErrorComponent,null);class RenderErrorBoundary extends reactExports.Component{constructor($){super($),this.state={location:$.location,revalidation:$.revalidation,error:$.error}}static getDerivedStateFromError($){return{error:$}}static getDerivedStateFromProps($,ht){return ht.location!==$.location||ht.revalidation!=="idle"&&$.revalidation==="idle"?{error:$.error,location:$.location,revalidation:$.revalidation}:{error:$.error!==void 0?$.error:ht.error,location:ht.location,revalidation:$.revalidation||ht.revalidation}}componentDidCatch($,ht){console.error("React Router caught the following error during render",$,ht)}render(){return this.state.error!==void 0?reactExports.createElement(RouteContext.Provider,{value:this.props.routeContext},reactExports.createElement(RouteErrorContext.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function RenderedRoute(xt){let{routeContext:$,match:ht,children:vt}=xt,At=reactExports.useContext(DataRouterContext);return At&&At.static&&At.staticContext&&(ht.route.errorElement||ht.route.ErrorBoundary)&&(At.staticContext._deepestRenderedBoundaryId=ht.route.id),reactExports.createElement(RouteContext.Provider,{value:$},vt)}function _renderMatches(xt,$,ht,vt){var At;if($===void 0&&($=[]),ht===void 0&&(ht=null),vt===void 0&&(vt=null),xt==null){var St;if((St=ht)!=null&&St.errors)xt=ht.matches;else return null}let kt=xt,Et=(At=ht)==null?void 0:At.errors;if(Et!=null){let _t=kt.findIndex(Pt=>Pt.route.id&&(Et==null?void 0:Et[Pt.route.id])!==void 0);_t>=0||invariant(!1),kt=kt.slice(0,Math.min(kt.length,_t+1))}let Rt=!1,wt=-1;if(ht&&vt&&vt.v7_partialHydration)for(let _t=0;_t<kt.length;_t++){let Pt=kt[_t];if((Pt.route.HydrateFallback||Pt.route.hydrateFallbackElement)&&(wt=_t),Pt.route.id){let{loaderData:_e,errors:bt}=ht,Ft=Pt.route.loader&&_e[Pt.route.id]===void 0&&(!bt||bt[Pt.route.id]===void 0);if(Pt.route.lazy||Ft){Rt=!0,wt>=0?kt=kt.slice(0,wt+1):kt=[kt[0]];break}}}return kt.reduceRight((_t,Pt,_e)=>{let bt,Ft=!1,Xt=null,Kt=null;ht&&(bt=Et&&Pt.route.id?Et[Pt.route.id]:void 0,Xt=Pt.route.errorElement||defaultErrorElement,Rt&&(wt<0&&_e===0?(Ft=!0,Kt=null):wt===_e&&(Ft=!0,Kt=Pt.route.hydrateFallbackElement||null)));let Nt=$.concat(kt.slice(0,_e+1)),$t=()=>{let Dt;return bt?Dt=Xt:Ft?Dt=Kt:Pt.route.Component?Dt=reactExports.createElement(Pt.route.Component,null):Pt.route.element?Dt=Pt.route.element:Dt=_t,reactExports.createElement(RenderedRoute,{match:Pt,routeContext:{outlet:_t,matches:Nt,isDataRoute:ht!=null},children:Dt})};return ht&&(Pt.route.ErrorBoundary||Pt.route.errorElement||_e===0)?reactExports.createElement(RenderErrorBoundary,{location:ht.location,revalidation:ht.revalidation,component:Xt,error:bt,children:$t(),routeContext:{outlet:null,matches:Nt,isDataRoute:!0}}):$t()},null)}var DataRouterHook$1=function(xt){return xt.UseBlocker="useBlocker",xt.UseRevalidator="useRevalidator",xt.UseNavigateStable="useNavigate",xt}(DataRouterHook$1||{}),DataRouterStateHook$1=function(xt){return xt.UseBlocker="useBlocker",xt.UseLoaderData="useLoaderData",xt.UseActionData="useActionData",xt.UseRouteError="useRouteError",xt.UseNavigation="useNavigation",xt.UseRouteLoaderData="useRouteLoaderData",xt.UseMatches="useMatches",xt.UseRevalidator="useRevalidator",xt.UseNavigateStable="useNavigate",xt.UseRouteId="useRouteId",xt}(DataRouterStateHook$1||{});function useDataRouterContext(xt){let $=reactExports.useContext(DataRouterContext);return $||invariant(!1),$}function useDataRouterState(xt){let $=reactExports.useContext(DataRouterStateContext);return $||invariant(!1),$}function useRouteContext(xt){let $=reactExports.useContext(RouteContext);return $||invariant(!1),$}function useCurrentRouteId(xt){let $=useRouteContext(),ht=$.matches[$.matches.length-1];return ht.route.id||invariant(!1),ht.route.id}function useRouteError(){var xt;let $=reactExports.useContext(RouteErrorContext),ht=useDataRouterState(DataRouterStateHook$1.UseRouteError),vt=useCurrentRouteId(DataRouterStateHook$1.UseRouteError);return $!==void 0?$:(xt=ht.errors)==null?void 0:xt[vt]}function useNavigateStable(){let{router:xt}=useDataRouterContext(DataRouterHook$1.UseNavigateStable),$=useCurrentRouteId(DataRouterStateHook$1.UseNavigateStable),ht=reactExports.useRef(!1);return useIsomorphicLayoutEffect(()=>{ht.current=!0}),reactExports.useCallback(function(At,St){St===void 0&&(St={}),ht.current&&(typeof At=="number"?xt.navigate(At):xt.navigate(At,_extends$1({fromRouteId:$},St)))},[xt,$])}function Route(xt){invariant(!1)}function Router(xt){let{basename:$="/",children:ht=null,location:vt,navigationType:At=Action.Pop,navigator:St,static:kt=!1,future:Et}=xt;useInRouterContext()&&invariant(!1);let Rt=$.replace(/^\/*/,"/"),wt=reactExports.useMemo(()=>({basename:Rt,navigator:St,static:kt,future:_extends$1({v7_relativeSplatPath:!1},Et)}),[Rt,Et,St,kt]);typeof vt=="string"&&(vt=parsePath(vt));let{pathname:_t="/",search:Pt="",hash:_e="",state:bt=null,key:Ft="default"}=vt,Xt=reactExports.useMemo(()=>{let Kt=stripBasename(_t,Rt);return Kt==null?null:{location:{pathname:Kt,search:Pt,hash:_e,state:bt,key:Ft},navigationType:At}},[Rt,_t,Pt,_e,bt,Ft,At]);return Xt==null?null:reactExports.createElement(NavigationContext.Provider,{value:wt},reactExports.createElement(LocationContext.Provider,{children:ht,value:Xt}))}function Routes(xt){let{children:$,location:ht}=xt;return useRoutes(createRoutesFromChildren($),ht)}new Promise(()=>{});function createRoutesFromChildren(xt,$){$===void 0&&($=[]);let ht=[];return reactExports.Children.forEach(xt,(vt,At)=>{if(!reactExports.isValidElement(vt))return;let St=[...$,At];if(vt.type===reactExports.Fragment){ht.push.apply(ht,createRoutesFromChildren(vt.props.children,St));return}vt.type!==Route&&invariant(!1),!vt.props.index||!vt.props.children||invariant(!1);let kt={id:vt.props.id||St.join("-"),caseSensitive:vt.props.caseSensitive,element:vt.props.element,Component:vt.props.Component,index:vt.props.index,path:vt.props.path,loader:vt.props.loader,action:vt.props.action,errorElement:vt.props.errorElement,ErrorBoundary:vt.props.ErrorBoundary,hasErrorBoundary:vt.props.ErrorBoundary!=null||vt.props.errorElement!=null,shouldRevalidate:vt.props.shouldRevalidate,handle:vt.props.handle,lazy:vt.props.lazy};vt.props.children&&(kt.children=createRoutesFromChildren(vt.props.children,St)),ht.push(kt)}),ht}/**
 * React Router DOM v6.23.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */const REACT_ROUTER_VERSION="6";try{window.__reactRouterVersion=REACT_ROUTER_VERSION}catch{}const START_TRANSITION="startTransition",startTransitionImpl=t$4[START_TRANSITION];function BrowserRouter(xt){let{basename:$,children:ht,future:vt,window:At}=xt,St=reactExports.useRef();St.current==null&&(St.current=createBrowserHistory({window:At,v5Compat:!0}));let kt=St.current,[Et,Rt]=reactExports.useState({action:kt.action,location:kt.location}),{v7_startTransition:wt}=vt||{},_t=reactExports.useCallback(Pt=>{wt&&startTransitionImpl?startTransitionImpl(()=>Rt(Pt)):Rt(Pt)},[Rt,wt]);return reactExports.useLayoutEffect(()=>kt.listen(_t),[kt,_t]),reactExports.createElement(Router,{basename:$,children:ht,location:Et.location,navigationType:Et.action,navigator:kt,future:vt})}var DataRouterHook;(function(xt){xt.UseScrollRestoration="useScrollRestoration",xt.UseSubmit="useSubmit",xt.UseSubmitFetcher="useSubmitFetcher",xt.UseFetcher="useFetcher",xt.useViewTransitionState="useViewTransitionState"})(DataRouterHook||(DataRouterHook={}));var DataRouterStateHook;(function(xt){xt.UseFetcher="useFetcher",xt.UseFetchers="useFetchers",xt.UseScrollRestoration="useScrollRestoration"})(DataRouterStateHook||(DataRouterStateHook={}));const $f0a04ccd8dbdd83b$export$e5c5a5f917a5871c=typeof document<"u"?React.useLayoutEffect:()=>{};function $8ae05eaa5c114e9c$export$7f54fc3180508a52(xt){const $=reactExports.useRef(null);return $f0a04ccd8dbdd83b$export$e5c5a5f917a5871c(()=>{$.current=xt},[xt]),reactExports.useCallback((...ht)=>{const vt=$.current;return vt==null?void 0:vt(...ht)},[])}const $431fbd86ca7dc216$export$b204af158042fbac=xt=>{var $;return($=xt==null?void 0:xt.ownerDocument)!==null&&$!==void 0?$:document},$431fbd86ca7dc216$export$f21a1ffae260145a=xt=>xt&&"window"in xt&&xt.window===xt?xt:$431fbd86ca7dc216$export$b204af158042fbac(xt).defaultView||window;function $c87311424ea30a05$var$testUserAgent(xt){var $;return typeof window>"u"||window.navigator==null?!1:(($=window.navigator.userAgentData)===null||$===void 0?void 0:$.brands.some(ht=>xt.test(ht.brand)))||xt.test(window.navigator.userAgent)}function $c87311424ea30a05$var$testPlatform(xt){var $;return typeof window<"u"&&window.navigator!=null?xt.test((($=window.navigator.userAgentData)===null||$===void 0?void 0:$.platform)||window.navigator.platform):!1}function $c87311424ea30a05$export$9ac100e40613ea10(){return $c87311424ea30a05$var$testPlatform(/^Mac/i)}function $c87311424ea30a05$export$a11b0059900ceec8(){return $c87311424ea30a05$var$testUserAgent(/Android/i)}function $6a7db85432448f7f$export$60278871457622de(xt){return xt.mozInputSource===0&&xt.isTrusted?!0:$c87311424ea30a05$export$a11b0059900ceec8()&&xt.pointerType?xt.type==="click"&&xt.buttons===1:xt.detail===0&&!xt.pointerType}class $8a9cb279dc87e130$export$905e7fc544a71f36{isDefaultPrevented(){return this.nativeEvent.defaultPrevented}preventDefault(){this.defaultPrevented=!0,this.nativeEvent.preventDefault()}stopPropagation(){this.nativeEvent.stopPropagation(),this.isPropagationStopped=()=>!0}isPropagationStopped(){return!1}persist(){}constructor($,ht){this.nativeEvent=ht,this.target=ht.target,this.currentTarget=ht.currentTarget,this.relatedTarget=ht.relatedTarget,this.bubbles=ht.bubbles,this.cancelable=ht.cancelable,this.defaultPrevented=ht.defaultPrevented,this.eventPhase=ht.eventPhase,this.isTrusted=ht.isTrusted,this.timeStamp=ht.timeStamp,this.type=$}}function $8a9cb279dc87e130$export$715c682d09d639cc(xt){let $=reactExports.useRef({isFocused:!1,observer:null});$f0a04ccd8dbdd83b$export$e5c5a5f917a5871c(()=>{const vt=$.current;return()=>{vt.observer&&(vt.observer.disconnect(),vt.observer=null)}},[]);let ht=$8ae05eaa5c114e9c$export$7f54fc3180508a52(vt=>{xt==null||xt(vt)});return reactExports.useCallback(vt=>{if(vt.target instanceof HTMLButtonElement||vt.target instanceof HTMLInputElement||vt.target instanceof HTMLTextAreaElement||vt.target instanceof HTMLSelectElement){$.current.isFocused=!0;let At=vt.target,St=kt=>{$.current.isFocused=!1,At.disabled&&ht(new $8a9cb279dc87e130$export$905e7fc544a71f36("blur",kt)),$.current.observer&&($.current.observer.disconnect(),$.current.observer=null)};At.addEventListener("focusout",St,{once:!0}),$.current.observer=new MutationObserver(()=>{if($.current.isFocused&&At.disabled){var kt;(kt=$.current.observer)===null||kt===void 0||kt.disconnect();let Et=At===document.activeElement?null:document.activeElement;At.dispatchEvent(new FocusEvent("blur",{relatedTarget:Et})),At.dispatchEvent(new FocusEvent("focusout",{bubbles:!0,relatedTarget:Et}))}}),$.current.observer.observe(At,{attributes:!0,attributeFilter:["disabled"]})}},[ht])}function $a1ea59d68270f0dd$export$f8168d8dd8fd66e6(xt){let{isDisabled:$,onFocus:ht,onBlur:vt,onFocusChange:At}=xt;const St=reactExports.useCallback(Rt=>{if(Rt.target===Rt.currentTarget)return vt&&vt(Rt),At&&At(!1),!0},[vt,At]),kt=$8a9cb279dc87e130$export$715c682d09d639cc(St),Et=reactExports.useCallback(Rt=>{const wt=$431fbd86ca7dc216$export$b204af158042fbac(Rt.target);Rt.target===Rt.currentTarget&&wt.activeElement===Rt.target&&(ht&&ht(Rt),At&&At(!0),kt(Rt))},[At,ht,kt]);return{focusProps:{onFocus:!$&&(ht||At||vt)?Et:void 0,onBlur:!$&&(vt||At)?St:void 0}}}let $507fabe10e71c6fb$var$currentModality=null,$507fabe10e71c6fb$var$changeHandlers=new Set,$507fabe10e71c6fb$export$d90243b58daecda7=new Map,$507fabe10e71c6fb$var$hasEventBeforeFocus=!1,$507fabe10e71c6fb$var$hasBlurredWindowRecently=!1;const $507fabe10e71c6fb$var$FOCUS_VISIBLE_INPUT_KEYS={Tab:!0,Escape:!0};function $507fabe10e71c6fb$var$triggerChangeHandlers(xt,$){for(let ht of $507fabe10e71c6fb$var$changeHandlers)ht(xt,$)}function $507fabe10e71c6fb$var$isValidKey(xt){return!(xt.metaKey||!$c87311424ea30a05$export$9ac100e40613ea10()&&xt.altKey||xt.ctrlKey||xt.key==="Control"||xt.key==="Shift"||xt.key==="Meta")}function $507fabe10e71c6fb$var$handleKeyboardEvent(xt){$507fabe10e71c6fb$var$hasEventBeforeFocus=!0,$507fabe10e71c6fb$var$isValidKey(xt)&&($507fabe10e71c6fb$var$currentModality="keyboard",$507fabe10e71c6fb$var$triggerChangeHandlers("keyboard",xt))}function $507fabe10e71c6fb$var$handlePointerEvent(xt){$507fabe10e71c6fb$var$currentModality="pointer",(xt.type==="mousedown"||xt.type==="pointerdown")&&($507fabe10e71c6fb$var$hasEventBeforeFocus=!0,$507fabe10e71c6fb$var$triggerChangeHandlers("pointer",xt))}function $507fabe10e71c6fb$var$handleClickEvent(xt){$6a7db85432448f7f$export$60278871457622de(xt)&&($507fabe10e71c6fb$var$hasEventBeforeFocus=!0,$507fabe10e71c6fb$var$currentModality="virtual")}function $507fabe10e71c6fb$var$handleFocusEvent(xt){xt.target===window||xt.target===document||(!$507fabe10e71c6fb$var$hasEventBeforeFocus&&!$507fabe10e71c6fb$var$hasBlurredWindowRecently&&($507fabe10e71c6fb$var$currentModality="virtual",$507fabe10e71c6fb$var$triggerChangeHandlers("virtual",xt)),$507fabe10e71c6fb$var$hasEventBeforeFocus=!1,$507fabe10e71c6fb$var$hasBlurredWindowRecently=!1)}function $507fabe10e71c6fb$var$handleWindowBlur(){$507fabe10e71c6fb$var$hasEventBeforeFocus=!1,$507fabe10e71c6fb$var$hasBlurredWindowRecently=!0}function $507fabe10e71c6fb$var$setupGlobalFocusEvents(xt){if(typeof window>"u"||$507fabe10e71c6fb$export$d90243b58daecda7.get($431fbd86ca7dc216$export$f21a1ffae260145a(xt)))return;const $=$431fbd86ca7dc216$export$f21a1ffae260145a(xt),ht=$431fbd86ca7dc216$export$b204af158042fbac(xt);let vt=$.HTMLElement.prototype.focus;$.HTMLElement.prototype.focus=function(){$507fabe10e71c6fb$var$hasEventBeforeFocus=!0,vt.apply(this,arguments)},ht.addEventListener("keydown",$507fabe10e71c6fb$var$handleKeyboardEvent,!0),ht.addEventListener("keyup",$507fabe10e71c6fb$var$handleKeyboardEvent,!0),ht.addEventListener("click",$507fabe10e71c6fb$var$handleClickEvent,!0),$.addEventListener("focus",$507fabe10e71c6fb$var$handleFocusEvent,!0),$.addEventListener("blur",$507fabe10e71c6fb$var$handleWindowBlur,!1),typeof PointerEvent<"u"?(ht.addEventListener("pointerdown",$507fabe10e71c6fb$var$handlePointerEvent,!0),ht.addEventListener("pointermove",$507fabe10e71c6fb$var$handlePointerEvent,!0),ht.addEventListener("pointerup",$507fabe10e71c6fb$var$handlePointerEvent,!0)):(ht.addEventListener("mousedown",$507fabe10e71c6fb$var$handlePointerEvent,!0),ht.addEventListener("mousemove",$507fabe10e71c6fb$var$handlePointerEvent,!0),ht.addEventListener("mouseup",$507fabe10e71c6fb$var$handlePointerEvent,!0)),$.addEventListener("beforeunload",()=>{$507fabe10e71c6fb$var$tearDownWindowFocusTracking(xt)},{once:!0}),$507fabe10e71c6fb$export$d90243b58daecda7.set($,{focus:vt})}const $507fabe10e71c6fb$var$tearDownWindowFocusTracking=(xt,$)=>{const ht=$431fbd86ca7dc216$export$f21a1ffae260145a(xt),vt=$431fbd86ca7dc216$export$b204af158042fbac(xt);$&&vt.removeEventListener("DOMContentLoaded",$),$507fabe10e71c6fb$export$d90243b58daecda7.has(ht)&&(ht.HTMLElement.prototype.focus=$507fabe10e71c6fb$export$d90243b58daecda7.get(ht).focus,vt.removeEventListener("keydown",$507fabe10e71c6fb$var$handleKeyboardEvent,!0),vt.removeEventListener("keyup",$507fabe10e71c6fb$var$handleKeyboardEvent,!0),vt.removeEventListener("click",$507fabe10e71c6fb$var$handleClickEvent,!0),ht.removeEventListener("focus",$507fabe10e71c6fb$var$handleFocusEvent,!0),ht.removeEventListener("blur",$507fabe10e71c6fb$var$handleWindowBlur,!1),typeof PointerEvent<"u"?(vt.removeEventListener("pointerdown",$507fabe10e71c6fb$var$handlePointerEvent,!0),vt.removeEventListener("pointermove",$507fabe10e71c6fb$var$handlePointerEvent,!0),vt.removeEventListener("pointerup",$507fabe10e71c6fb$var$handlePointerEvent,!0)):(vt.removeEventListener("mousedown",$507fabe10e71c6fb$var$handlePointerEvent,!0),vt.removeEventListener("mousemove",$507fabe10e71c6fb$var$handlePointerEvent,!0),vt.removeEventListener("mouseup",$507fabe10e71c6fb$var$handlePointerEvent,!0)),$507fabe10e71c6fb$export$d90243b58daecda7.delete(ht))};function $507fabe10e71c6fb$export$2f1888112f558a7d(xt){const $=$431fbd86ca7dc216$export$b204af158042fbac(xt);let ht;return $.readyState!=="loading"?$507fabe10e71c6fb$var$setupGlobalFocusEvents(xt):(ht=()=>{$507fabe10e71c6fb$var$setupGlobalFocusEvents(xt)},$.addEventListener("DOMContentLoaded",ht)),()=>$507fabe10e71c6fb$var$tearDownWindowFocusTracking(xt,ht)}typeof document<"u"&&$507fabe10e71c6fb$export$2f1888112f558a7d();function $507fabe10e71c6fb$export$b9b3dfddab17db27(){return $507fabe10e71c6fb$var$currentModality!=="pointer"}const $507fabe10e71c6fb$var$nonTextInputTypes=new Set(["checkbox","radio","range","color","file","image","button","submit","reset"]);function $507fabe10e71c6fb$var$isKeyboardFocusEvent(xt,$,ht){var vt;const At=typeof window<"u"?$431fbd86ca7dc216$export$f21a1ffae260145a(ht==null?void 0:ht.target).HTMLInputElement:HTMLInputElement,St=typeof window<"u"?$431fbd86ca7dc216$export$f21a1ffae260145a(ht==null?void 0:ht.target).HTMLTextAreaElement:HTMLTextAreaElement,kt=typeof window<"u"?$431fbd86ca7dc216$export$f21a1ffae260145a(ht==null?void 0:ht.target).HTMLElement:HTMLElement,Et=typeof window<"u"?$431fbd86ca7dc216$export$f21a1ffae260145a(ht==null?void 0:ht.target).KeyboardEvent:KeyboardEvent;return xt=xt||(ht==null?void 0:ht.target)instanceof At&&!$507fabe10e71c6fb$var$nonTextInputTypes.has(ht==null||(vt=ht.target)===null||vt===void 0?void 0:vt.type)||(ht==null?void 0:ht.target)instanceof St||(ht==null?void 0:ht.target)instanceof kt&&(ht==null?void 0:ht.target.isContentEditable),!(xt&&$==="keyboard"&&ht instanceof Et&&!$507fabe10e71c6fb$var$FOCUS_VISIBLE_INPUT_KEYS[ht.key])}function $507fabe10e71c6fb$export$ec71b4b83ac08ec3(xt,$,ht){$507fabe10e71c6fb$var$setupGlobalFocusEvents(),reactExports.useEffect(()=>{let vt=(At,St)=>{$507fabe10e71c6fb$var$isKeyboardFocusEvent(!!(ht!=null&&ht.isTextInput),At,St)&&xt($507fabe10e71c6fb$export$b9b3dfddab17db27())};return $507fabe10e71c6fb$var$changeHandlers.add(vt),()=>{$507fabe10e71c6fb$var$changeHandlers.delete(vt)}},$)}function $9ab94262bd0047c7$export$420e68273165f4ec(xt){let{isDisabled:$,onBlurWithin:ht,onFocusWithin:vt,onFocusWithinChange:At}=xt,St=reactExports.useRef({isFocusWithin:!1}),kt=reactExports.useCallback(wt=>{St.current.isFocusWithin&&!wt.currentTarget.contains(wt.relatedTarget)&&(St.current.isFocusWithin=!1,ht&&ht(wt),At&&At(!1))},[ht,At,St]),Et=$8a9cb279dc87e130$export$715c682d09d639cc(kt),Rt=reactExports.useCallback(wt=>{!St.current.isFocusWithin&&document.activeElement===wt.target&&(vt&&vt(wt),At&&At(!0),St.current.isFocusWithin=!0,Et(wt))},[vt,At,Et]);return $?{focusWithinProps:{onFocus:void 0,onBlur:void 0}}:{focusWithinProps:{onFocus:Rt,onBlur:kt}}}let $6179b936705e76d3$var$globalIgnoreEmulatedMouseEvents=!1,$6179b936705e76d3$var$hoverCount=0;function $6179b936705e76d3$var$setGlobalIgnoreEmulatedMouseEvents(){$6179b936705e76d3$var$globalIgnoreEmulatedMouseEvents=!0,setTimeout(()=>{$6179b936705e76d3$var$globalIgnoreEmulatedMouseEvents=!1},50)}function $6179b936705e76d3$var$handleGlobalPointerEvent(xt){xt.pointerType==="touch"&&$6179b936705e76d3$var$setGlobalIgnoreEmulatedMouseEvents()}function $6179b936705e76d3$var$setupGlobalTouchEvents(){if(!(typeof document>"u"))return typeof PointerEvent<"u"?document.addEventListener("pointerup",$6179b936705e76d3$var$handleGlobalPointerEvent):document.addEventListener("touchend",$6179b936705e76d3$var$setGlobalIgnoreEmulatedMouseEvents),$6179b936705e76d3$var$hoverCount++,()=>{$6179b936705e76d3$var$hoverCount--,!($6179b936705e76d3$var$hoverCount>0)&&(typeof PointerEvent<"u"?document.removeEventListener("pointerup",$6179b936705e76d3$var$handleGlobalPointerEvent):document.removeEventListener("touchend",$6179b936705e76d3$var$setGlobalIgnoreEmulatedMouseEvents))}}function $6179b936705e76d3$export$ae780daf29e6d456(xt){let{onHoverStart:$,onHoverChange:ht,onHoverEnd:vt,isDisabled:At}=xt,[St,kt]=reactExports.useState(!1),Et=reactExports.useRef({isHovered:!1,ignoreEmulatedMouseEvents:!1,pointerType:"",target:null}).current;reactExports.useEffect($6179b936705e76d3$var$setupGlobalTouchEvents,[]);let{hoverProps:Rt,triggerHoverEnd:wt}=reactExports.useMemo(()=>{let _t=(bt,Ft)=>{if(Et.pointerType=Ft,At||Ft==="touch"||Et.isHovered||!bt.currentTarget.contains(bt.target))return;Et.isHovered=!0;let Xt=bt.currentTarget;Et.target=Xt,$&&$({type:"hoverstart",target:Xt,pointerType:Ft}),ht&&ht(!0),kt(!0)},Pt=(bt,Ft)=>{if(Et.pointerType="",Et.target=null,Ft==="touch"||!Et.isHovered)return;Et.isHovered=!1;let Xt=bt.currentTarget;vt&&vt({type:"hoverend",target:Xt,pointerType:Ft}),ht&&ht(!1),kt(!1)},_e={};return typeof PointerEvent<"u"?(_e.onPointerEnter=bt=>{$6179b936705e76d3$var$globalIgnoreEmulatedMouseEvents&&bt.pointerType==="mouse"||_t(bt,bt.pointerType)},_e.onPointerLeave=bt=>{!At&&bt.currentTarget.contains(bt.target)&&Pt(bt,bt.pointerType)}):(_e.onTouchStart=()=>{Et.ignoreEmulatedMouseEvents=!0},_e.onMouseEnter=bt=>{!Et.ignoreEmulatedMouseEvents&&!$6179b936705e76d3$var$globalIgnoreEmulatedMouseEvents&&_t(bt,"mouse"),Et.ignoreEmulatedMouseEvents=!1},_e.onMouseLeave=bt=>{!At&&bt.currentTarget.contains(bt.target)&&Pt(bt,"mouse")}),{hoverProps:_e,triggerHoverEnd:Pt}},[$,ht,vt,At,Et]);return reactExports.useEffect(()=>{At&&wt({currentTarget:Et.target},Et.pointerType)},[At]),{hoverProps:Rt,isHovered:St}}function $f7dceffc5ad7768b$export$4e328f61c538687f(xt={}){let{autoFocus:$=!1,isTextInput:ht,within:vt}=xt,At=reactExports.useRef({isFocused:!1,isFocusVisible:$||$507fabe10e71c6fb$export$b9b3dfddab17db27()}),[St,kt]=reactExports.useState(!1),[Et,Rt]=reactExports.useState(()=>At.current.isFocused&&At.current.isFocusVisible),wt=reactExports.useCallback(()=>Rt(At.current.isFocused&&At.current.isFocusVisible),[]),_t=reactExports.useCallback(bt=>{At.current.isFocused=bt,kt(bt),wt()},[wt]);$507fabe10e71c6fb$export$ec71b4b83ac08ec3(bt=>{At.current.isFocusVisible=bt,wt()},[],{isTextInput:ht});let{focusProps:Pt}=$a1ea59d68270f0dd$export$f8168d8dd8fd66e6({isDisabled:vt,onFocusChange:_t}),{focusWithinProps:_e}=$9ab94262bd0047c7$export$420e68273165f4ec({isDisabled:!vt,onFocusWithinChange:_t});return{isFocused:St,isFocusVisible:Et,focusProps:vt?_e:Pt}}var i$5=Object.defineProperty,d$3=(xt,$,ht)=>$ in xt?i$5(xt,$,{enumerable:!0,configurable:!0,writable:!0,value:ht}):xt[$]=ht,r$2=(xt,$,ht)=>(d$3(xt,typeof $!="symbol"?$+"":$,ht),ht);let o$5=class{constructor(){r$2(this,"current",this.detect()),r$2(this,"handoffState","pending"),r$2(this,"currentId",0)}set($){this.current!==$&&(this.handoffState="pending",this.currentId=0,this.current=$)}reset(){this.set(this.detect())}nextId(){return++this.currentId}get isServer(){return this.current==="server"}get isClient(){return this.current==="client"}detect(){return typeof window>"u"||typeof document>"u"?"server":"client"}handoff(){this.handoffState==="pending"&&(this.handoffState="complete")}get isHandoffComplete(){return this.handoffState==="complete"}},s$5=new o$5;function u$7(xt){return s$5.isServer?null:xt instanceof Node?xt.ownerDocument:xt!=null&&xt.hasOwnProperty("current")&&xt.current instanceof Node?xt.current.ownerDocument:document}function t$3(xt){typeof queueMicrotask=="function"?queueMicrotask(xt):Promise.resolve().then(xt).catch($=>setTimeout(()=>{throw $}))}function o$4(){let xt=[],$={addEventListener(ht,vt,At,St){return ht.addEventListener(vt,At,St),$.add(()=>ht.removeEventListener(vt,At,St))},requestAnimationFrame(...ht){let vt=requestAnimationFrame(...ht);return $.add(()=>cancelAnimationFrame(vt))},nextFrame(...ht){return $.requestAnimationFrame(()=>$.requestAnimationFrame(...ht))},setTimeout(...ht){let vt=setTimeout(...ht);return $.add(()=>clearTimeout(vt))},microTask(...ht){let vt={current:!0};return t$3(()=>{vt.current&&ht[0]()}),$.add(()=>{vt.current=!1})},style(ht,vt,At){let St=ht.style.getPropertyValue(vt);return Object.assign(ht.style,{[vt]:At}),this.add(()=>{Object.assign(ht.style,{[vt]:St})})},group(ht){let vt=o$4();return ht(vt),this.add(()=>vt.dispose())},add(ht){return xt.includes(ht)||xt.push(ht),()=>{let vt=xt.indexOf(ht);if(vt>=0)for(let At of xt.splice(vt,1))At()}},dispose(){for(let ht of xt.splice(0))ht()}};return $}function p$3(){let[xt]=reactExports.useState(o$4);return reactExports.useEffect(()=>()=>xt.dispose(),[xt]),xt}let n$3=(xt,$)=>{s$5.isServer?reactExports.useEffect(xt,$):reactExports.useLayoutEffect(xt,$)};function s$4(xt){let $=reactExports.useRef(xt);return n$3(()=>{$.current=xt},[xt]),$}let o$3=function(xt){let $=s$4(xt);return React.useCallback((...ht)=>$.current(...ht),[$])};function E(xt){let $=xt.width/2,ht=xt.height/2;return{top:xt.clientY-ht,right:xt.clientX+$,bottom:xt.clientY+ht,left:xt.clientX-$}}function P$2(xt,$){return!(!xt||!$||xt.right<$.left||xt.left>$.right||xt.bottom<$.top||xt.top>$.bottom)}function w$1({disabled:xt=!1}={}){let $=reactExports.useRef(null),[ht,vt]=reactExports.useState(!1),At=p$3(),St=o$3(()=>{$.current=null,vt(!1),At.dispose()}),kt=o$3(Et=>{if(At.dispose(),$.current===null){$.current=Et.currentTarget,vt(!0);{let Rt=u$7(Et.currentTarget);At.addEventListener(Rt,"pointerup",St,!1),At.addEventListener(Rt,"pointermove",wt=>{if($.current){let _t=E(wt);vt(P$2(_t,$.current.getBoundingClientRect()))}},!1),At.addEventListener(Rt,"pointercancel",St,!1)}}});return{pressed:ht,pressProps:xt?{}:{onPointerDown:kt,onPointerUp:St,onClick:St}}}let e$2=reactExports.createContext(void 0);function a$7(){return reactExports.useContext(e$2)}function t$2(...xt){return Array.from(new Set(xt.flatMap($=>typeof $=="string"?$.split(" "):[]))).filter(Boolean).join(" ")}function u$6(xt,$,...ht){if(xt in $){let At=$[xt];return typeof At=="function"?At(...ht):At}let vt=new Error(`Tried to handle "${xt}" but there is no handler defined. Only defined handlers are: ${Object.keys($).map(At=>`"${At}"`).join(", ")}.`);throw Error.captureStackTrace&&Error.captureStackTrace(vt,u$6),vt}var O$1=(xt=>(xt[xt.None=0]="None",xt[xt.RenderStrategy=1]="RenderStrategy",xt[xt.Static=2]="Static",xt))(O$1||{}),M$2=(xt=>(xt[xt.Unmount=0]="Unmount",xt[xt.Hidden=1]="Hidden",xt))(M$2||{});function H$1({ourProps:xt,theirProps:$,slot:ht,defaultTag:vt,features:At,visible:St=!0,name:kt,mergeRefs:Et}){Et=Et??A$2;let Rt=N$2($,xt);if(St)return b$1(Rt,ht,vt,kt,Et);let wt=At??0;if(wt&2){let{static:_t=!1,...Pt}=Rt;if(_t)return b$1(Pt,ht,vt,kt,Et)}if(wt&1){let{unmount:_t=!0,...Pt}=Rt;return u$6(_t?0:1,{0(){return null},1(){return b$1({...Pt,hidden:!0,style:{display:"none"}},ht,vt,kt,Et)}})}return b$1(Rt,ht,vt,kt,Et)}function b$1(xt,$={},ht,vt,At){let{as:St=ht,children:kt,refName:Et="ref",...Rt}=h$2(xt,["unmount","static"]),wt=xt.ref!==void 0?{[Et]:xt.ref}:{},_t=typeof kt=="function"?kt($):kt;"className"in Rt&&Rt.className&&typeof Rt.className=="function"&&(Rt.className=Rt.className($)),Rt["aria-labelledby"]&&Rt["aria-labelledby"]===Rt.id&&(Rt["aria-labelledby"]=void 0);let Pt={};if($){let _e=!1,bt=[];for(let[Ft,Xt]of Object.entries($))typeof Xt=="boolean"&&(_e=!0),Xt===!0&&bt.push(Ft.replace(/([A-Z])/g,Kt=>`-${Kt.toLowerCase()}`));if(_e){Pt["data-headlessui-state"]=bt.join(" ");for(let Ft of bt)Pt[`data-${Ft}`]=""}}if(St===reactExports.Fragment&&(Object.keys(m$3(Rt)).length>0||Object.keys(m$3(Pt)).length>0))if(!reactExports.isValidElement(_t)||Array.isArray(_t)&&_t.length>1){if(Object.keys(m$3(Rt)).length>0)throw new Error(['Passing props on "Fragment"!',"",`The current component <${vt} /> is rendering a "Fragment".`,"However we need to passthrough the following props:",Object.keys(m$3(Rt)).concat(Object.keys(m$3(Pt))).map(_e=>`  - ${_e}`).join(`
`),"","You can apply a few solutions:",['Add an `as="..."` prop, to ensure that we render an actual element instead of a "Fragment".',"Render a single element as the child so that we can forward the props onto that element."].map(_e=>`  - ${_e}`).join(`
`)].join(`
`))}else{let _e=_t.props,bt=_e==null?void 0:_e.className,Ft=typeof bt=="function"?(...Nt)=>t$2(bt(...Nt),Rt.className):t$2(bt,Rt.className),Xt=Ft?{className:Ft}:{},Kt=N$2(_t.props,m$3(h$2(Rt,["ref"])));for(let Nt in Pt)Nt in Kt&&delete Pt[Nt];return reactExports.cloneElement(_t,Object.assign({},Kt,Pt,wt,{ref:At(_t.ref,wt.ref)},Xt))}return reactExports.createElement(St,Object.assign({},h$2(Rt,["ref"]),St!==reactExports.Fragment&&wt,St!==reactExports.Fragment&&Pt),_t)}function A$2(...xt){return xt.every($=>$==null)?void 0:$=>{for(let ht of xt)ht!=null&&(typeof ht=="function"?ht($):ht.current=$)}}function N$2(...xt){if(xt.length===0)return{};if(xt.length===1)return xt[0];let $={},ht={};for(let vt of xt)for(let At in vt)At.startsWith("on")&&typeof vt[At]=="function"?(ht[At]!=null||(ht[At]=[]),ht[At].push(vt[At])):$[At]=vt[At];if($.disabled||$["aria-disabled"])for(let vt in ht)/^(on(?:Click|Pointer|Mouse|Key)(?:Down|Up|Press)?)$/.test(vt)&&(ht[vt]=[At=>{var St;return(St=At==null?void 0:At.preventDefault)==null?void 0:St.call(At)}]);for(let vt in ht)Object.assign($,{[vt](At,...St){let kt=ht[vt];for(let Et of kt){if((At instanceof Event||(At==null?void 0:At.nativeEvent)instanceof Event)&&At.defaultPrevented)return;Et(At,...St)}}});return $}function D$3(...xt){if(xt.length===0)return{};if(xt.length===1)return xt[0];let $={},ht={};for(let vt of xt)for(let At in vt)At.startsWith("on")&&typeof vt[At]=="function"?(ht[At]!=null||(ht[At]=[]),ht[At].push(vt[At])):$[At]=vt[At];for(let vt in ht)Object.assign($,{[vt](...At){let St=ht[vt];for(let kt of St)kt==null||kt(...At)}});return $}function I$3(xt){var $;return Object.assign(reactExports.forwardRef(xt),{displayName:($=xt.displayName)!=null?$:xt.name})}function m$3(xt){let $=Object.assign({},xt);for(let ht in $)$[ht]===void 0&&delete $[ht];return $}function h$2(xt,$=[]){let ht=Object.assign({},xt);for(let vt of $)vt in ht&&delete ht[vt];return ht}let e$1=reactExports.createContext(void 0);function u$5(){return reactExports.useContext(e$1)}function r$1(xt){let $=xt.parentElement,ht=null;for(;$&&!($ instanceof HTMLFieldSetElement);)$ instanceof HTMLLegendElement&&(ht=$),$=$.parentElement;let vt=($==null?void 0:$.getAttribute("disabled"))==="";return vt&&i$4(ht)?!1:vt}function i$4(xt){if(!xt)return!1;let $=xt.previousElementSibling;for(;$!==null;){if($ instanceof HTMLLegendElement)return!1;$=$.previousElementSibling}return!0}let u$4=Symbol();function T$2(xt,$=!0){return Object.assign(xt,{[u$4]:$})}function y$4(...xt){let $=reactExports.useRef(xt);reactExports.useEffect(()=>{$.current=xt},[xt]);let ht=o$3(vt=>{for(let At of $.current)At!=null&&(typeof At=="function"?At(vt):At.current=vt)});return xt.every(vt=>vt==null||(vt==null?void 0:vt[u$4]))?void 0:ht}let a$6=reactExports.createContext(null);a$6.displayName="DescriptionContext";function f$5(){let xt=reactExports.useContext(a$6);if(xt===null){let $=new Error("You used a <Description /> component, but it is not inside a relevant parent.");throw Error.captureStackTrace&&Error.captureStackTrace($,f$5),$}return xt}function U$1(){let[xt,$]=reactExports.useState([]);return[xt.length>0?xt.join(" "):void 0,reactExports.useMemo(()=>function(ht){let vt=o$3(St=>($(kt=>[...kt,St]),()=>$(kt=>{let Et=kt.slice(),Rt=Et.indexOf(St);return Rt!==-1&&Et.splice(Rt,1),Et}))),At=reactExports.useMemo(()=>({register:vt,slot:ht.slot,name:ht.name,props:ht.props,value:ht.value}),[vt,ht.slot,ht.name,ht.props,ht.value]);return React.createElement(a$6.Provider,{value:At},ht.children)},[$])]}let S$3="p";function C(xt,$){let ht=reactExports.useId(),vt=a$7(),{id:At=`headlessui-description-${ht}`,...St}=xt,kt=f$5(),Et=y$4($);n$3(()=>kt.register(At),[At,kt.register]);let Rt=vt||!1,wt=reactExports.useMemo(()=>({...kt.slot,disabled:Rt}),[kt.slot,Rt]),_t={ref:Et,...kt.props,id:At};return H$1({ourProps:_t,theirProps:St,slot:wt,defaultTag:S$3,name:kt.name||"Description"})}let _$1=I$3(C);Object.assign(_$1,{});var o$2=(xt=>(xt.Space=" ",xt.Enter="Enter",xt.Escape="Escape",xt.Backspace="Backspace",xt.Delete="Delete",xt.ArrowLeft="ArrowLeft",xt.ArrowUp="ArrowUp",xt.ArrowRight="ArrowRight",xt.ArrowDown="ArrowDown",xt.Home="Home",xt.End="End",xt.PageUp="PageUp",xt.PageDown="PageDown",xt.Tab="Tab",xt))(o$2||{});let c$4=reactExports.createContext(null);c$4.displayName="LabelContext";function P$1(){let xt=reactExports.useContext(c$4);if(xt===null){let $=new Error("You used a <Label /> component, but it is not inside a relevant parent.");throw Error.captureStackTrace&&Error.captureStackTrace($,P$1),$}return xt}function I$2(xt){var $,ht,vt;let At=(ht=($=reactExports.useContext(c$4))==null?void 0:$.value)!=null?ht:void 0;return((vt=void 0)!=null?vt:0)>0?[At,...xt].filter(Boolean).join(" "):At}function z({inherit:xt=!1}={}){let $=I$2(),[ht,vt]=reactExports.useState([]),At=xt?[$,...ht].filter(Boolean):ht;return[At.length>0?At.join(" "):void 0,reactExports.useMemo(()=>function(St){let kt=o$3(Rt=>(vt(wt=>[...wt,Rt]),()=>vt(wt=>{let _t=wt.slice(),Pt=_t.indexOf(Rt);return Pt!==-1&&_t.splice(Pt,1),_t}))),Et=reactExports.useMemo(()=>({register:kt,slot:St.slot,name:St.name,props:St.props,value:St.value}),[kt,St.slot,St.name,St.props,St.value]);return React.createElement(c$4.Provider,{value:Et},St.children)},[vt])]}let N$1="label";function G$1(xt,$){var ht;let vt=reactExports.useId(),At=P$1(),St=u$5(),kt=a$7(),{id:Et=`headlessui-label-${vt}`,htmlFor:Rt=St??((ht=At.props)==null?void 0:ht.htmlFor),passive:wt=!1,..._t}=xt,Pt=y$4($);n$3(()=>At.register(Et),[Et,At.register]);let _e=o$3(Kt=>{let Nt=Kt.currentTarget;if(Nt instanceof HTMLLabelElement&&Kt.preventDefault(),At.props&&"onClick"in At.props&&typeof At.props.onClick=="function"&&At.props.onClick(Kt),Nt instanceof HTMLLabelElement){let $t=document.getElementById(Nt.htmlFor);if($t){let Dt=$t.getAttribute("disabled");if(Dt==="true"||Dt==="")return;let jt=$t.getAttribute("aria-disabled");if(jt==="true"||jt==="")return;($t instanceof HTMLInputElement&&($t.type==="radio"||$t.type==="checkbox")||$t.role==="radio"||$t.role==="checkbox"||$t.role==="switch")&&$t.click(),$t.focus({preventScroll:!0})}}}),bt=kt||!1,Ft=reactExports.useMemo(()=>({...At.slot,disabled:bt}),[At.slot,bt]),Xt={ref:Pt,...At.props,id:Et,htmlFor:Rt,onClick:_e};return wt&&("onClick"in Xt&&(delete Xt.htmlFor,delete Xt.onClick),"onClick"in _t&&delete _t.onClick),H$1({ourProps:Xt,theirProps:_t,slot:Ft,defaultTag:Rt?N$1:"div",name:At.name||"Label"})}let U=I$3(G$1);Object.assign(U,{});function s$3(xt){if(xt===null)return{width:0,height:0};let{width:$,height:ht}=xt.getBoundingClientRect();return{width:$,height:ht}}function f$4(xt,$=!1){let ht=xt===null?null:"current"in xt?xt.current:xt,[vt,At]=reactExports.useReducer(()=>({}),{}),St=reactExports.useMemo(()=>s$3(ht),[ht,vt]);return n$3(()=>{if(!ht)return;let kt=new ResizeObserver(At);return kt.observe(ht),()=>{kt.disconnect()}},[ht]),$?{width:`${St.width}px`,height:`${St.height}px`}:St}let a$5=class extends Map{constructor($){super(),this.factory=$}get($){let ht=super.get($);return ht===void 0&&(ht=this.factory($),this.set($,ht)),ht}};function a$4(xt,$){let ht=xt(),vt=new Set;return{getSnapshot(){return ht},subscribe(At){return vt.add(At),()=>vt.delete(At)},dispatch(At,...St){let kt=$[At].call(ht,...St);kt&&(ht=kt,vt.forEach(Et=>Et()))}}}function o$1(xt){return reactExports.useSyncExternalStore(xt.subscribe,xt.getSnapshot,xt.getSnapshot)}let p$2=new a$5(()=>a$4(()=>[],{ADD(xt){return this.includes(xt)?this:[...this,xt]},REMOVE(xt){let $=this.indexOf(xt);if($===-1)return this;let ht=this.slice();return ht.splice($,1),ht}}));function x(xt,$){let ht=p$2.get($),vt=reactExports.useId(),At=o$1(ht);if(n$3(()=>{if(xt)return ht.dispatch("ADD",vt),()=>ht.dispatch("REMOVE",vt)},[ht,xt]),!xt)return!1;let St=At.indexOf(vt),kt=At.length;return St===-1&&(St=kt,kt+=1),St===kt-1}let f$3=new Map,u$3=new Map;function h$1(xt){var $;let ht=($=u$3.get(xt))!=null?$:0;return u$3.set(xt,ht+1),ht!==0?()=>m$2(xt):(f$3.set(xt,{"aria-hidden":xt.getAttribute("aria-hidden"),inert:xt.inert}),xt.setAttribute("aria-hidden","true"),xt.inert=!0,()=>m$2(xt))}function m$2(xt){var $;let ht=($=u$3.get(xt))!=null?$:1;if(ht===1?u$3.delete(xt):u$3.set(xt,ht-1),ht!==1)return;let vt=f$3.get(xt);vt&&(vt["aria-hidden"]===null?xt.removeAttribute("aria-hidden"):xt.setAttribute("aria-hidden",vt["aria-hidden"]),xt.inert=vt.inert,f$3.delete(xt))}function y$3(xt,{allowed:$,disallowed:ht}={}){let vt=x(xt,"inert-others");n$3(()=>{var At,St;if(!vt)return;let kt=o$4();for(let Rt of(At=ht==null?void 0:ht())!=null?At:[])Rt&&kt.add(h$1(Rt));let Et=(St=$==null?void 0:$())!=null?St:[];for(let Rt of Et){if(!Rt)continue;let wt=u$7(Rt);if(!wt)continue;let _t=Rt.parentElement;for(;_t&&_t!==wt.body;){for(let Pt of _t.children)Et.some(_e=>Pt.contains(_e))||kt.add(h$1(Pt));_t=_t.parentElement}}return kt.dispose},[vt,$,ht])}function m$1(xt,$,ht){let vt=s$4(At=>{let St=At.getBoundingClientRect();St.x===0&&St.y===0&&St.width===0&&St.height===0&&ht()});reactExports.useEffect(()=>{if(!xt)return;let At=$===null?null:$ instanceof HTMLElement?$:$.current;if(!At)return;let St=o$4();if(typeof ResizeObserver<"u"){let kt=new ResizeObserver(()=>vt.current(At));kt.observe(At),St.add(()=>kt.disconnect())}if(typeof IntersectionObserver<"u"){let kt=new IntersectionObserver(()=>vt.current(At));kt.observe(At),St.add(()=>kt.disconnect())}return()=>St.dispose()},[$,vt,xt])}let f$2=["[contentEditable=true]","[tabindex]","a[href]","area[href]","button:not([disabled])","iframe","input:not([disabled])","select:not([disabled])","textarea:not([disabled])"].map(xt=>`${xt}:not([tabindex='-1'])`).join(","),p$1=["[data-autofocus]"].map(xt=>`${xt}:not([tabindex='-1'])`).join(",");var F$3=(xt=>(xt[xt.First=1]="First",xt[xt.Previous=2]="Previous",xt[xt.Next=4]="Next",xt[xt.Last=8]="Last",xt[xt.WrapAround=16]="WrapAround",xt[xt.NoScroll=32]="NoScroll",xt[xt.AutoFocus=64]="AutoFocus",xt))(F$3||{}),T$1=(xt=>(xt[xt.Error=0]="Error",xt[xt.Overflow=1]="Overflow",xt[xt.Success=2]="Success",xt[xt.Underflow=3]="Underflow",xt))(T$1||{}),y$2=(xt=>(xt[xt.Previous=-1]="Previous",xt[xt.Next=1]="Next",xt))(y$2||{});function b(xt=document.body){return xt==null?[]:Array.from(xt.querySelectorAll(f$2)).sort(($,ht)=>Math.sign(($.tabIndex||Number.MAX_SAFE_INTEGER)-(ht.tabIndex||Number.MAX_SAFE_INTEGER)))}function S$2(xt=document.body){return xt==null?[]:Array.from(xt.querySelectorAll(p$1)).sort(($,ht)=>Math.sign(($.tabIndex||Number.MAX_SAFE_INTEGER)-(ht.tabIndex||Number.MAX_SAFE_INTEGER)))}var h=(xt=>(xt[xt.Strict=0]="Strict",xt[xt.Loose=1]="Loose",xt))(h||{});function A$1(xt,$=0){var ht;return xt===((ht=u$7(xt))==null?void 0:ht.body)?!1:u$6($,{0(){return xt.matches(f$2)},1(){let vt=xt;for(;vt!==null;){if(vt.matches(f$2))return!0;vt=vt.parentElement}return!1}})}function G(xt){let $=u$7(xt);o$4().nextFrame(()=>{$&&!A$1($.activeElement,0)&&I$1(xt)})}var H=(xt=>(xt[xt.Keyboard=0]="Keyboard",xt[xt.Mouse=1]="Mouse",xt))(H||{});typeof window<"u"&&typeof document<"u"&&(document.addEventListener("keydown",xt=>{xt.metaKey||xt.altKey||xt.ctrlKey||(document.documentElement.dataset.headlessuiFocusVisible="")},!0),document.addEventListener("click",xt=>{xt.detail===1?delete document.documentElement.dataset.headlessuiFocusVisible:xt.detail===0&&(document.documentElement.dataset.headlessuiFocusVisible="")},!0));function I$1(xt){xt==null||xt.focus({preventScroll:!0})}let w=["textarea","input"].join(",");function O(xt){var $,ht;return(ht=($=xt==null?void 0:xt.matches)==null?void 0:$.call(xt,w))!=null?ht:!1}function _(xt,$=ht=>ht){return xt.slice().sort((ht,vt)=>{let At=$(ht),St=$(vt);if(At===null||St===null)return 0;let kt=At.compareDocumentPosition(St);return kt&Node.DOCUMENT_POSITION_FOLLOWING?-1:kt&Node.DOCUMENT_POSITION_PRECEDING?1:0})}function j$2(xt,$){return P(b(),$,{relativeTo:xt})}function P(xt,$,{sorted:ht=!0,relativeTo:vt=null,skipElements:At=[]}={}){let St=Array.isArray(xt)?xt.length>0?xt[0].ownerDocument:document:xt.ownerDocument,kt=Array.isArray(xt)?ht?_(xt):xt:$&64?S$2(xt):b(xt);At.length>0&&kt.length>1&&(kt=kt.filter(bt=>!At.some(Ft=>Ft!=null&&"current"in Ft?(Ft==null?void 0:Ft.current)===bt:Ft===bt))),vt=vt??St.activeElement;let Et=(()=>{if($&5)return 1;if($&10)return-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),Rt=(()=>{if($&1)return 0;if($&2)return Math.max(0,kt.indexOf(vt))-1;if($&4)return Math.max(0,kt.indexOf(vt))+1;if($&8)return kt.length-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),wt=$&32?{preventScroll:!0}:{},_t=0,Pt=kt.length,_e;do{if(_t>=Pt||_t+Pt<=0)return 0;let bt=Rt+_t;if($&16)bt=(bt+Pt)%Pt;else{if(bt<0)return 3;if(bt>=Pt)return 1}_e=kt[bt],_e==null||_e.focus(wt),_t+=Et}while(_e!==St.activeElement);return $&6&&O(_e)&&_e.select(),2}function t$1(){return/iPhone/gi.test(window.navigator.platform)||/Mac/gi.test(window.navigator.platform)&&window.navigator.maxTouchPoints>0}function i$3(){return/Android/gi.test(window.navigator.userAgent)}function n$2(){return t$1()||i$3()}function i$2(xt,$,ht,vt){let At=s$4(ht);reactExports.useEffect(()=>{if(!xt)return;function St(kt){At.current(kt)}return document.addEventListener($,St,vt),()=>document.removeEventListener($,St,vt)},[xt,$,vt])}function s$2(xt,$,ht,vt){let At=s$4(ht);reactExports.useEffect(()=>{if(!xt)return;function St(kt){At.current(kt)}return window.addEventListener($,St,vt),()=>window.removeEventListener($,St,vt)},[xt,$,vt])}const d$2=30;function F$2(xt,$,ht){let vt=x(xt,"outside-click"),At=s$4(ht),St=reactExports.useCallback(function(Rt,wt){if(Rt.defaultPrevented)return;let _t=wt(Rt);if(_t===null||!_t.getRootNode().contains(_t)||!_t.isConnected)return;let Pt=function _e(bt){return typeof bt=="function"?_e(bt()):Array.isArray(bt)||bt instanceof Set?bt:[bt]}($);for(let _e of Pt){if(_e===null)continue;let bt=_e instanceof HTMLElement?_e:_e.current;if(bt!=null&&bt.contains(_t)||Rt.composed&&Rt.composedPath().includes(bt))return}return!A$1(_t,h.Loose)&&_t.tabIndex!==-1&&Rt.preventDefault(),At.current(Rt,_t)},[At]),kt=reactExports.useRef(null);i$2(vt,"pointerdown",Rt=>{var wt,_t;kt.current=((_t=(wt=Rt.composedPath)==null?void 0:wt.call(Rt))==null?void 0:_t[0])||Rt.target},!0),i$2(vt,"mousedown",Rt=>{var wt,_t;kt.current=((_t=(wt=Rt.composedPath)==null?void 0:wt.call(Rt))==null?void 0:_t[0])||Rt.target},!0),i$2(vt,"click",Rt=>{n$2()||kt.current&&(St(Rt,()=>kt.current),kt.current=null)},!0);let Et=reactExports.useRef({x:0,y:0});i$2(vt,"touchstart",Rt=>{Et.current.x=Rt.touches[0].clientX,Et.current.y=Rt.touches[0].clientY},!0),i$2(vt,"touchend",Rt=>{let wt={x:Rt.changedTouches[0].clientX,y:Rt.changedTouches[0].clientY};if(!(Math.abs(wt.x-Et.current.x)>=d$2||Math.abs(wt.y-Et.current.y)>=d$2))return St(Rt,()=>Rt.target instanceof HTMLElement?Rt.target:null)},!0),s$2(vt,"blur",Rt=>St(Rt,()=>window.document.activeElement instanceof HTMLIFrameElement?window.document.activeElement:null),!0)}function n$1(...xt){return reactExports.useMemo(()=>u$7(...xt),[...xt])}function i$1(xt){var $;if(xt.type)return xt.type;let ht=($=xt.as)!=null?$:"button";if(typeof ht=="string"&&ht.toLowerCase()==="button")return"button"}function T(xt,$){let[ht,vt]=reactExports.useState(()=>i$1(xt));return n$3(()=>{vt(i$1(xt))},[xt.type,xt.as]),n$3(()=>{ht||$.current&&$.current instanceof HTMLButtonElement&&!$.current.hasAttribute("type")&&vt("button")},[ht,$]),ht}function d$1(){let xt;return{before({doc:$}){var ht;let vt=$.documentElement,At=(ht=$.defaultView)!=null?ht:window;xt=Math.max(0,At.innerWidth-vt.clientWidth)},after({doc:$,d:ht}){let vt=$.documentElement,At=Math.max(0,vt.clientWidth-vt.offsetWidth),St=Math.max(0,xt-At);ht.style(vt,"paddingRight",`${St}px`)}}}function d(){return t$1()?{before({doc:xt,d:$,meta:ht}){function vt(At){return ht.containers.flatMap(St=>St()).some(St=>St.contains(At))}$.microTask(()=>{var At;if(window.getComputedStyle(xt.documentElement).scrollBehavior!=="auto"){let Et=o$4();Et.style(xt.documentElement,"scrollBehavior","auto"),$.add(()=>$.microTask(()=>Et.dispose()))}let St=(At=window.scrollY)!=null?At:window.pageYOffset,kt=null;$.addEventListener(xt,"click",Et=>{if(Et.target instanceof HTMLElement)try{let Rt=Et.target.closest("a");if(!Rt)return;let{hash:wt}=new URL(Rt.href),_t=xt.querySelector(wt);_t&&!vt(_t)&&(kt=_t)}catch{}},!0),$.addEventListener(xt,"touchstart",Et=>{if(Et.target instanceof HTMLElement)if(vt(Et.target)){let Rt=Et.target;for(;Rt.parentElement&&vt(Rt.parentElement);)Rt=Rt.parentElement;$.style(Rt,"overscrollBehavior","contain")}else $.style(Et.target,"touchAction","none")}),$.addEventListener(xt,"touchmove",Et=>{if(Et.target instanceof HTMLElement){if(Et.target.tagName==="INPUT")return;if(vt(Et.target)){let Rt=Et.target;for(;Rt.parentElement&&Rt.dataset.headlessuiPortal!==""&&!(Rt.scrollHeight>Rt.clientHeight||Rt.scrollWidth>Rt.clientWidth);)Rt=Rt.parentElement;Rt.dataset.headlessuiPortal===""&&Et.preventDefault()}else Et.preventDefault()}},{passive:!1}),$.add(()=>{var Et;let Rt=(Et=window.scrollY)!=null?Et:window.pageYOffset;St!==Rt&&window.scrollTo(0,St),kt&&kt.isConnected&&(kt.scrollIntoView({block:"nearest"}),kt=null)})})}}:{}}function r(){return{before({doc:xt,d:$}){$.style(xt.documentElement,"overflow","hidden")}}}function m(xt){let $={};for(let ht of xt)Object.assign($,ht($));return $}let a$3=a$4(()=>new Map,{PUSH(xt,$){var ht;let vt=(ht=this.get(xt))!=null?ht:{doc:xt,count:0,d:o$4(),meta:new Set};return vt.count++,vt.meta.add($),this.set(xt,vt),this},POP(xt,$){let ht=this.get(xt);return ht&&(ht.count--,ht.meta.delete($)),this},SCROLL_PREVENT({doc:xt,d:$,meta:ht}){let vt={doc:xt,d:$,meta:m(ht)},At=[d(),d$1(),r()];At.forEach(({before:St})=>St==null?void 0:St(vt)),At.forEach(({after:St})=>St==null?void 0:St(vt))},SCROLL_ALLOW({d:xt}){xt.dispose()},TEARDOWN({doc:xt}){this.delete(xt)}});a$3.subscribe(()=>{let xt=a$3.getSnapshot(),$=new Map;for(let[ht]of xt)$.set(ht,ht.documentElement.style.overflow);for(let ht of xt.values()){let vt=$.get(ht.doc)==="hidden",At=ht.count!==0;(At&&!vt||!At&&vt)&&a$3.dispatch(ht.count>0?"SCROLL_PREVENT":"SCROLL_ALLOW",ht),ht.count===0&&a$3.dispatch("TEARDOWN",ht)}});function a$2(xt,$,ht=()=>({containers:[]})){let vt=o$1(a$3),At=$?vt.get($):void 0,St=At?At.count>0:!1;return n$3(()=>{if(!(!$||!xt))return a$3.dispatch("PUSH",$,ht),()=>a$3.dispatch("POP",$,ht)},[xt,$]),St}function f$1(xt,$,ht=()=>[document.body]){let vt=x(xt,"scroll-lock");a$2(vt,$,At=>{var St;return{containers:[...(St=At.containers)!=null?St:[],ht]}})}function t(xt){return[xt.screenX,xt.screenY]}function u$2(){let xt=reactExports.useRef([-1,-1]);return{wasMoved($){let ht=t($);return xt.current[0]===ht[0]&&xt.current[1]===ht[1]?!1:(xt.current=ht,!0)},update($){xt.current=t($)}}}function l$1(xt){let $={called:!1};return(...ht)=>{if(!$.called)return $.called=!0,xt(...ht)}}function c$3(xt=0){let[$,ht]=reactExports.useState(xt),vt=reactExports.useCallback(Rt=>ht(Rt),[$]),At=reactExports.useCallback(Rt=>ht(wt=>wt|Rt),[$]),St=reactExports.useCallback(Rt=>($&Rt)===Rt,[$]),kt=reactExports.useCallback(Rt=>ht(wt=>wt&~Rt),[ht]),Et=reactExports.useCallback(Rt=>ht(wt=>wt^Rt),[ht]);return{flags:$,setFlag:vt,addFlag:At,hasFlag:St,removeFlag:kt,toggleFlag:Et}}var D$2=(xt=>(xt[xt.None=0]="None",xt[xt.Closed=1]="Closed",xt[xt.Enter=2]="Enter",xt[xt.Leave=4]="Leave",xt))(D$2||{});function A(xt){let $={};for(let ht in xt)xt[ht]===!0&&($[`data-${ht}`]="");return $}function V(xt,$,ht,vt){let[At,St]=reactExports.useState(ht),{hasFlag:kt,addFlag:Et,removeFlag:Rt}=c$3(xt&&At?3:0),wt=reactExports.useRef(!1),_t=reactExports.useRef(!1),Pt=p$3();return n$3(function _e(){var bt;if(!xt)return;ht&&St(!0);let Ft=$.current;return Ft?((bt=void 0)==null||bt.call(vt,ht),M$1(Ft,{inFlight:wt,prepare(){_t.current?_t.current=!1:_t.current=wt.current,wt.current=!0,!_t.current&&(ht?(Et(3),Rt(4)):(Et(4),Rt(2)))},run(){_t.current?ht?(Rt(3),Et(4)):(Rt(4),Et(3)):ht?Rt(1):Et(1)},done(){var Xt;_t.current&&typeof Ft.getAnimations=="function"&&Ft.getAnimations().length>0||(wt.current=!1,Rt(7),ht||St(!1),(Xt=void 0)==null||Xt.call(vt,ht))}})):ht?(Et(3),Pt.nextFrame(()=>_e())):void 0},[xt,ht,$,Pt]),xt?[At,{closed:kt(1),enter:kt(2),leave:kt(4),transition:kt(2)||kt(4)}]:[ht,{closed:void 0,enter:void 0,leave:void 0,transition:void 0}]}function M$1(xt,{prepare:$,run:ht,done:vt,inFlight:At}){let St=o$4();return R(xt,{prepare:$,inFlight:At}),St.nextFrame(()=>{St.add(F$1(xt,vt)),ht()}),St.dispose}function F$1(xt,$){let ht=l$1($),vt=o$4();if(!xt)return vt.dispose;let{transitionDuration:At,transitionDelay:St}=getComputedStyle(xt),[kt,Et]=[At,St].map(wt=>{let[_t=0]=wt.split(",").filter(Boolean).map(Pt=>Pt.includes("ms")?parseFloat(Pt):parseFloat(Pt)*1e3).sort((Pt,_e)=>_e-Pt);return _t}),Rt=kt+Et;if(Rt!==0){let wt=vt.group(_t=>{let Pt=_t.setTimeout(()=>{ht(),_t.dispose()},Rt);_t.addEventListener(xt,"transitionrun",_e=>{_e.target===_e.currentTarget&&(Pt(),_t.addEventListener(xt,"transitioncancel",bt=>{bt.target===bt.currentTarget&&(ht(),wt())}))})});vt.addEventListener(xt,"transitionend",_t=>{_t.target===_t.currentTarget&&(ht(),vt.dispose())})}else ht();return vt.dispose}function R(xt,{inFlight:$,prepare:ht}){if($!=null&&$.current){ht();return}let vt=xt.style.transition;xt.style.transition="none",ht(),xt.offsetHeight,xt.style.transition=vt}function F(xt,{container:$,accept:ht,walk:vt}){let At=reactExports.useRef(ht),St=reactExports.useRef(vt);reactExports.useEffect(()=>{At.current=ht,St.current=vt},[ht,vt]),n$3(()=>{if(!$||!xt)return;let kt=u$7($);if(!kt)return;let Et=At.current,Rt=St.current,wt=Object.assign(Pt=>Et(Pt),{acceptNode:Et}),_t=kt.createTreeWalker($,NodeFilter.SHOW_ELEMENT,wt,!1);for(;_t.nextNode();)Rt(_t.currentNode)},[$,xt,At,St])}function getNodeName(xt){return isNode(xt)?(xt.nodeName||"").toLowerCase():"#document"}function getWindow(xt){var $;return(xt==null||($=xt.ownerDocument)==null?void 0:$.defaultView)||window}function getDocumentElement(xt){var $;return($=(isNode(xt)?xt.ownerDocument:xt.document)||window.document)==null?void 0:$.documentElement}function isNode(xt){return xt instanceof Node||xt instanceof getWindow(xt).Node}function isElement(xt){return xt instanceof Element||xt instanceof getWindow(xt).Element}function isHTMLElement(xt){return xt instanceof HTMLElement||xt instanceof getWindow(xt).HTMLElement}function isShadowRoot(xt){return typeof ShadowRoot>"u"?!1:xt instanceof ShadowRoot||xt instanceof getWindow(xt).ShadowRoot}function isOverflowElement(xt){const{overflow:$,overflowX:ht,overflowY:vt,display:At}=getComputedStyle$1(xt);return/auto|scroll|overlay|hidden|clip/.test($+vt+ht)&&!["inline","contents"].includes(At)}function isTableElement(xt){return["table","td","th"].includes(getNodeName(xt))}function isTopLayer(xt){return[":popover-open",":modal"].some($=>{try{return xt.matches($)}catch{return!1}})}function isContainingBlock(xt){const $=isWebKit(),ht=getComputedStyle$1(xt);return ht.transform!=="none"||ht.perspective!=="none"||(ht.containerType?ht.containerType!=="normal":!1)||!$&&(ht.backdropFilter?ht.backdropFilter!=="none":!1)||!$&&(ht.filter?ht.filter!=="none":!1)||["transform","perspective","filter"].some(vt=>(ht.willChange||"").includes(vt))||["paint","layout","strict","content"].some(vt=>(ht.contain||"").includes(vt))}function getContainingBlock(xt){let $=getParentNode(xt);for(;isHTMLElement($)&&!isLastTraversableNode($);){if(isTopLayer($))return null;if(isContainingBlock($))return $;$=getParentNode($)}return null}function isWebKit(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function isLastTraversableNode(xt){return["html","body","#document"].includes(getNodeName(xt))}function getComputedStyle$1(xt){return getWindow(xt).getComputedStyle(xt)}function getNodeScroll(xt){return isElement(xt)?{scrollLeft:xt.scrollLeft,scrollTop:xt.scrollTop}:{scrollLeft:xt.pageXOffset,scrollTop:xt.pageYOffset}}function getParentNode(xt){if(getNodeName(xt)==="html")return xt;const $=xt.assignedSlot||xt.parentNode||isShadowRoot(xt)&&xt.host||getDocumentElement(xt);return isShadowRoot($)?$.host:$}function getNearestOverflowAncestor(xt){const $=getParentNode(xt);return isLastTraversableNode($)?xt.ownerDocument?xt.ownerDocument.body:xt.body:isHTMLElement($)&&isOverflowElement($)?$:getNearestOverflowAncestor($)}function getOverflowAncestors(xt,$,ht){var vt;$===void 0&&($=[]),ht===void 0&&(ht=!0);const At=getNearestOverflowAncestor(xt),St=At===((vt=xt.ownerDocument)==null?void 0:vt.body),kt=getWindow(At);return St?$.concat(kt,kt.visualViewport||[],isOverflowElement(At)?At:[],kt.frameElement&&ht?getOverflowAncestors(kt.frameElement):[]):$.concat(At,getOverflowAncestors(At,[],ht))}function getUserAgent(){const xt=navigator.userAgentData;return xt&&Array.isArray(xt.brands)?xt.brands.map($=>{let{brand:ht,version:vt}=$;return ht+"/"+vt}).join(" "):navigator.userAgent}const min=Math.min,max=Math.max,round=Math.round,floor=Math.floor,createCoords=xt=>({x:xt,y:xt}),oppositeSideMap={left:"right",right:"left",bottom:"top",top:"bottom"},oppositeAlignmentMap={start:"end",end:"start"};function clamp(xt,$,ht){return max(xt,min($,ht))}function evaluate(xt,$){return typeof xt=="function"?xt($):xt}function getSide(xt){return xt.split("-")[0]}function getAlignment(xt){return xt.split("-")[1]}function getOppositeAxis(xt){return xt==="x"?"y":"x"}function getAxisLength(xt){return xt==="y"?"height":"width"}function getSideAxis(xt){return["top","bottom"].includes(getSide(xt))?"y":"x"}function getAlignmentAxis(xt){return getOppositeAxis(getSideAxis(xt))}function getAlignmentSides(xt,$,ht){ht===void 0&&(ht=!1);const vt=getAlignment(xt),At=getAlignmentAxis(xt),St=getAxisLength(At);let kt=At==="x"?vt===(ht?"end":"start")?"right":"left":vt==="start"?"bottom":"top";return $.reference[St]>$.floating[St]&&(kt=getOppositePlacement(kt)),[kt,getOppositePlacement(kt)]}function getExpandedPlacements(xt){const $=getOppositePlacement(xt);return[getOppositeAlignmentPlacement(xt),$,getOppositeAlignmentPlacement($)]}function getOppositeAlignmentPlacement(xt){return xt.replace(/start|end/g,$=>oppositeAlignmentMap[$])}function getSideList(xt,$,ht){const vt=["left","right"],At=["right","left"],St=["top","bottom"],kt=["bottom","top"];switch(xt){case"top":case"bottom":return ht?$?At:vt:$?vt:At;case"left":case"right":return $?St:kt;default:return[]}}function getOppositeAxisPlacements(xt,$,ht,vt){const At=getAlignment(xt);let St=getSideList(getSide(xt),ht==="start",vt);return At&&(St=St.map(kt=>kt+"-"+At),$&&(St=St.concat(St.map(getOppositeAlignmentPlacement)))),St}function getOppositePlacement(xt){return xt.replace(/left|right|bottom|top/g,$=>oppositeSideMap[$])}function expandPaddingObject(xt){return{top:0,right:0,bottom:0,left:0,...xt}}function getPaddingObject(xt){return typeof xt!="number"?expandPaddingObject(xt):{top:xt,right:xt,bottom:xt,left:xt}}function rectToClientRect(xt){const{x:$,y:ht,width:vt,height:At}=xt;return{width:vt,height:At,top:ht,left:$,right:$+vt,bottom:ht+At,x:$,y:ht}}function computeCoordsFromPlacement(xt,$,ht){let{reference:vt,floating:At}=xt;const St=getSideAxis($),kt=getAlignmentAxis($),Et=getAxisLength(kt),Rt=getSide($),wt=St==="y",_t=vt.x+vt.width/2-At.width/2,Pt=vt.y+vt.height/2-At.height/2,_e=vt[Et]/2-At[Et]/2;let bt;switch(Rt){case"top":bt={x:_t,y:vt.y-At.height};break;case"bottom":bt={x:_t,y:vt.y+vt.height};break;case"right":bt={x:vt.x+vt.width,y:Pt};break;case"left":bt={x:vt.x-At.width,y:Pt};break;default:bt={x:vt.x,y:vt.y}}switch(getAlignment($)){case"start":bt[kt]-=_e*(ht&&wt?-1:1);break;case"end":bt[kt]+=_e*(ht&&wt?-1:1);break}return bt}const computePosition$1=async(xt,$,ht)=>{const{placement:vt="bottom",strategy:At="absolute",middleware:St=[],platform:kt}=ht,Et=St.filter(Boolean),Rt=await(kt.isRTL==null?void 0:kt.isRTL($));let wt=await kt.getElementRects({reference:xt,floating:$,strategy:At}),{x:_t,y:Pt}=computeCoordsFromPlacement(wt,vt,Rt),_e=vt,bt={},Ft=0;for(let Xt=0;Xt<Et.length;Xt++){const{name:Kt,fn:Nt}=Et[Xt],{x:$t,y:Dt,data:jt,reset:Ct}=await Nt({x:_t,y:Pt,initialPlacement:vt,placement:_e,strategy:At,middlewareData:bt,rects:wt,platform:kt,elements:{reference:xt,floating:$}});_t=$t??_t,Pt=Dt??Pt,bt={...bt,[Kt]:{...bt[Kt],...jt}},Ct&&Ft<=50&&(Ft++,typeof Ct=="object"&&(Ct.placement&&(_e=Ct.placement),Ct.rects&&(wt=Ct.rects===!0?await kt.getElementRects({reference:xt,floating:$,strategy:At}):Ct.rects),{x:_t,y:Pt}=computeCoordsFromPlacement(wt,_e,Rt)),Xt=-1)}return{x:_t,y:Pt,placement:_e,strategy:At,middlewareData:bt}};async function detectOverflow$1(xt,$){var ht;$===void 0&&($={});const{x:vt,y:At,platform:St,rects:kt,elements:Et,strategy:Rt}=xt,{boundary:wt="clippingAncestors",rootBoundary:_t="viewport",elementContext:Pt="floating",altBoundary:_e=!1,padding:bt=0}=evaluate($,xt),Ft=getPaddingObject(bt),Kt=Et[_e?Pt==="floating"?"reference":"floating":Pt],Nt=rectToClientRect(await St.getClippingRect({element:(ht=await(St.isElement==null?void 0:St.isElement(Kt)))==null||ht?Kt:Kt.contextElement||await(St.getDocumentElement==null?void 0:St.getDocumentElement(Et.floating)),boundary:wt,rootBoundary:_t,strategy:Rt})),$t=Pt==="floating"?{x:vt,y:At,width:kt.floating.width,height:kt.floating.height}:kt.reference,Dt=await(St.getOffsetParent==null?void 0:St.getOffsetParent(Et.floating)),jt=await(St.isElement==null?void 0:St.isElement(Dt))?await(St.getScale==null?void 0:St.getScale(Dt))||{x:1,y:1}:{x:1,y:1},Ct=rectToClientRect(St.convertOffsetParentRelativeRectToViewportRelativeRect?await St.convertOffsetParentRelativeRectToViewportRelativeRect({elements:Et,rect:$t,offsetParent:Dt,strategy:Rt}):$t);return{top:(Nt.top-Ct.top+Ft.top)/jt.y,bottom:(Ct.bottom-Nt.bottom+Ft.bottom)/jt.y,left:(Nt.left-Ct.left+Ft.left)/jt.x,right:(Ct.right-Nt.right+Ft.right)/jt.x}}const flip$2=function(xt){return xt===void 0&&(xt={}),{name:"flip",options:xt,async fn($){var ht,vt;const{placement:At,middlewareData:St,rects:kt,initialPlacement:Et,platform:Rt,elements:wt}=$,{mainAxis:_t=!0,crossAxis:Pt=!0,fallbackPlacements:_e,fallbackStrategy:bt="bestFit",fallbackAxisSideDirection:Ft="none",flipAlignment:Xt=!0,...Kt}=evaluate(xt,$);if((ht=St.arrow)!=null&&ht.alignmentOffset)return{};const Nt=getSide(At),$t=getSideAxis(Et),Dt=getSide(Et)===Et,jt=await(Rt.isRTL==null?void 0:Rt.isRTL(wt.floating)),Ct=_e||(Dt||!Xt?[getOppositePlacement(Et)]:getExpandedPlacements(Et)),qt=Ft!=="none";!_e&&qt&&Ct.push(...getOppositeAxisPlacements(Et,Xt,Ft,jt));const Bt=[Et,...Ct],Gt=await detectOverflow$1($,Kt),en=[];let dn=((vt=St.flip)==null?void 0:vt.overflows)||[];if(_t&&en.push(Gt[Nt]),Pt){const bn=getAlignmentSides(At,kt,jt);en.push(Gt[bn[0]],Gt[bn[1]])}if(dn=[...dn,{placement:At,overflows:en}],!en.every(bn=>bn<=0)){var Qt,gn;const bn=(((Qt=St.flip)==null?void 0:Qt.index)||0)+1,Vt=Bt[bn];if(Vt)return{data:{index:bn,overflows:dn},reset:{placement:Vt}};let Yt=(gn=dn.filter(hn=>hn.overflows[0]<=0).sort((hn,Ut)=>hn.overflows[1]-Ut.overflows[1])[0])==null?void 0:gn.placement;if(!Yt)switch(bt){case"bestFit":{var nn;const hn=(nn=dn.filter(Ut=>{if(qt){const Ot=getSideAxis(Ut.placement);return Ot===$t||Ot==="y"}return!0}).map(Ut=>[Ut.placement,Ut.overflows.filter(Ot=>Ot>0).reduce((Ot,zt)=>Ot+zt,0)]).sort((Ut,Ot)=>Ut[1]-Ot[1])[0])==null?void 0:nn[0];hn&&(Yt=hn);break}case"initialPlacement":Yt=Et;break}if(At!==Yt)return{reset:{placement:Yt}}}return{}}}};async function convertValueToCoords(xt,$){const{placement:ht,platform:vt,elements:At}=xt,St=await(vt.isRTL==null?void 0:vt.isRTL(At.floating)),kt=getSide(ht),Et=getAlignment(ht),Rt=getSideAxis(ht)==="y",wt=["left","top"].includes(kt)?-1:1,_t=St&&Rt?-1:1,Pt=evaluate($,xt);let{mainAxis:_e,crossAxis:bt,alignmentAxis:Ft}=typeof Pt=="number"?{mainAxis:Pt,crossAxis:0,alignmentAxis:null}:{mainAxis:0,crossAxis:0,alignmentAxis:null,...Pt};return Et&&typeof Ft=="number"&&(bt=Et==="end"?Ft*-1:Ft),Rt?{x:bt*_t,y:_e*wt}:{x:_e*wt,y:bt*_t}}const offset$2=function(xt){return xt===void 0&&(xt=0),{name:"offset",options:xt,async fn($){var ht,vt;const{x:At,y:St,placement:kt,middlewareData:Et}=$,Rt=await convertValueToCoords($,xt);return kt===((ht=Et.offset)==null?void 0:ht.placement)&&(vt=Et.arrow)!=null&&vt.alignmentOffset?{}:{x:At+Rt.x,y:St+Rt.y,data:{...Rt,placement:kt}}}}},shift$2=function(xt){return xt===void 0&&(xt={}),{name:"shift",options:xt,async fn($){const{x:ht,y:vt,placement:At}=$,{mainAxis:St=!0,crossAxis:kt=!1,limiter:Et={fn:Kt=>{let{x:Nt,y:$t}=Kt;return{x:Nt,y:$t}}},...Rt}=evaluate(xt,$),wt={x:ht,y:vt},_t=await detectOverflow$1($,Rt),Pt=getSideAxis(getSide(At)),_e=getOppositeAxis(Pt);let bt=wt[_e],Ft=wt[Pt];if(St){const Kt=_e==="y"?"top":"left",Nt=_e==="y"?"bottom":"right",$t=bt+_t[Kt],Dt=bt-_t[Nt];bt=clamp($t,bt,Dt)}if(kt){const Kt=Pt==="y"?"top":"left",Nt=Pt==="y"?"bottom":"right",$t=Ft+_t[Kt],Dt=Ft-_t[Nt];Ft=clamp($t,Ft,Dt)}const Xt=Et.fn({...$,[_e]:bt,[Pt]:Ft});return{...Xt,data:{x:Xt.x-ht,y:Xt.y-vt}}}}},size$2=function(xt){return xt===void 0&&(xt={}),{name:"size",options:xt,async fn($){const{placement:ht,rects:vt,platform:At,elements:St}=$,{apply:kt=()=>{},...Et}=evaluate(xt,$),Rt=await detectOverflow$1($,Et),wt=getSide(ht),_t=getAlignment(ht),Pt=getSideAxis(ht)==="y",{width:_e,height:bt}=vt.floating;let Ft,Xt;wt==="top"||wt==="bottom"?(Ft=wt,Xt=_t===(await(At.isRTL==null?void 0:At.isRTL(St.floating))?"start":"end")?"left":"right"):(Xt=wt,Ft=_t==="end"?"top":"bottom");const Kt=bt-Rt.top-Rt.bottom,Nt=_e-Rt.left-Rt.right,$t=min(bt-Rt[Ft],Kt),Dt=min(_e-Rt[Xt],Nt),jt=!$.middlewareData.shift;let Ct=$t,qt=Dt;if(Pt?qt=_t||jt?min(Dt,Nt):Nt:Ct=_t||jt?min($t,Kt):Kt,jt&&!_t){const Gt=max(Rt.left,0),en=max(Rt.right,0),dn=max(Rt.top,0),Qt=max(Rt.bottom,0);Pt?qt=_e-2*(Gt!==0||en!==0?Gt+en:max(Rt.left,Rt.right)):Ct=bt-2*(dn!==0||Qt!==0?dn+Qt:max(Rt.top,Rt.bottom))}await kt({...$,availableWidth:qt,availableHeight:Ct});const Bt=await At.getDimensions(St.floating);return _e!==Bt.width||bt!==Bt.height?{reset:{rects:!0}}:{}}}};function getCssDimensions(xt){const $=getComputedStyle$1(xt);let ht=parseFloat($.width)||0,vt=parseFloat($.height)||0;const At=isHTMLElement(xt),St=At?xt.offsetWidth:ht,kt=At?xt.offsetHeight:vt,Et=round(ht)!==St||round(vt)!==kt;return Et&&(ht=St,vt=kt),{width:ht,height:vt,$:Et}}function unwrapElement(xt){return isElement(xt)?xt:xt.contextElement}function getScale(xt){const $=unwrapElement(xt);if(!isHTMLElement($))return createCoords(1);const ht=$.getBoundingClientRect(),{width:vt,height:At,$:St}=getCssDimensions($);let kt=(St?round(ht.width):ht.width)/vt,Et=(St?round(ht.height):ht.height)/At;return(!kt||!Number.isFinite(kt))&&(kt=1),(!Et||!Number.isFinite(Et))&&(Et=1),{x:kt,y:Et}}const noOffsets=createCoords(0);function getVisualOffsets(xt){const $=getWindow(xt);return!isWebKit()||!$.visualViewport?noOffsets:{x:$.visualViewport.offsetLeft,y:$.visualViewport.offsetTop}}function shouldAddVisualOffsets(xt,$,ht){return $===void 0&&($=!1),!ht||$&&ht!==getWindow(xt)?!1:$}function getBoundingClientRect(xt,$,ht,vt){$===void 0&&($=!1),ht===void 0&&(ht=!1);const At=xt.getBoundingClientRect(),St=unwrapElement(xt);let kt=createCoords(1);$&&(vt?isElement(vt)&&(kt=getScale(vt)):kt=getScale(xt));const Et=shouldAddVisualOffsets(St,ht,vt)?getVisualOffsets(St):createCoords(0);let Rt=(At.left+Et.x)/kt.x,wt=(At.top+Et.y)/kt.y,_t=At.width/kt.x,Pt=At.height/kt.y;if(St){const _e=getWindow(St),bt=vt&&isElement(vt)?getWindow(vt):vt;let Ft=_e,Xt=Ft.frameElement;for(;Xt&&vt&&bt!==Ft;){const Kt=getScale(Xt),Nt=Xt.getBoundingClientRect(),$t=getComputedStyle$1(Xt),Dt=Nt.left+(Xt.clientLeft+parseFloat($t.paddingLeft))*Kt.x,jt=Nt.top+(Xt.clientTop+parseFloat($t.paddingTop))*Kt.y;Rt*=Kt.x,wt*=Kt.y,_t*=Kt.x,Pt*=Kt.y,Rt+=Dt,wt+=jt,Ft=getWindow(Xt),Xt=Ft.frameElement}}return rectToClientRect({width:_t,height:Pt,x:Rt,y:wt})}function convertOffsetParentRelativeRectToViewportRelativeRect(xt){let{elements:$,rect:ht,offsetParent:vt,strategy:At}=xt;const St=At==="fixed",kt=getDocumentElement(vt),Et=$?isTopLayer($.floating):!1;if(vt===kt||Et&&St)return ht;let Rt={scrollLeft:0,scrollTop:0},wt=createCoords(1);const _t=createCoords(0),Pt=isHTMLElement(vt);if((Pt||!Pt&&!St)&&((getNodeName(vt)!=="body"||isOverflowElement(kt))&&(Rt=getNodeScroll(vt)),isHTMLElement(vt))){const _e=getBoundingClientRect(vt);wt=getScale(vt),_t.x=_e.x+vt.clientLeft,_t.y=_e.y+vt.clientTop}return{width:ht.width*wt.x,height:ht.height*wt.y,x:ht.x*wt.x-Rt.scrollLeft*wt.x+_t.x,y:ht.y*wt.y-Rt.scrollTop*wt.y+_t.y}}function getClientRects(xt){return Array.from(xt.getClientRects())}function getWindowScrollBarX(xt){return getBoundingClientRect(getDocumentElement(xt)).left+getNodeScroll(xt).scrollLeft}function getDocumentRect(xt){const $=getDocumentElement(xt),ht=getNodeScroll(xt),vt=xt.ownerDocument.body,At=max($.scrollWidth,$.clientWidth,vt.scrollWidth,vt.clientWidth),St=max($.scrollHeight,$.clientHeight,vt.scrollHeight,vt.clientHeight);let kt=-ht.scrollLeft+getWindowScrollBarX(xt);const Et=-ht.scrollTop;return getComputedStyle$1(vt).direction==="rtl"&&(kt+=max($.clientWidth,vt.clientWidth)-At),{width:At,height:St,x:kt,y:Et}}function getViewportRect(xt,$){const ht=getWindow(xt),vt=getDocumentElement(xt),At=ht.visualViewport;let St=vt.clientWidth,kt=vt.clientHeight,Et=0,Rt=0;if(At){St=At.width,kt=At.height;const wt=isWebKit();(!wt||wt&&$==="fixed")&&(Et=At.offsetLeft,Rt=At.offsetTop)}return{width:St,height:kt,x:Et,y:Rt}}function getInnerBoundingClientRect(xt,$){const ht=getBoundingClientRect(xt,!0,$==="fixed"),vt=ht.top+xt.clientTop,At=ht.left+xt.clientLeft,St=isHTMLElement(xt)?getScale(xt):createCoords(1),kt=xt.clientWidth*St.x,Et=xt.clientHeight*St.y,Rt=At*St.x,wt=vt*St.y;return{width:kt,height:Et,x:Rt,y:wt}}function getClientRectFromClippingAncestor(xt,$,ht){let vt;if($==="viewport")vt=getViewportRect(xt,ht);else if($==="document")vt=getDocumentRect(getDocumentElement(xt));else if(isElement($))vt=getInnerBoundingClientRect($,ht);else{const At=getVisualOffsets(xt);vt={...$,x:$.x-At.x,y:$.y-At.y}}return rectToClientRect(vt)}function hasFixedPositionAncestor(xt,$){const ht=getParentNode(xt);return ht===$||!isElement(ht)||isLastTraversableNode(ht)?!1:getComputedStyle$1(ht).position==="fixed"||hasFixedPositionAncestor(ht,$)}function getClippingElementAncestors(xt,$){const ht=$.get(xt);if(ht)return ht;let vt=getOverflowAncestors(xt,[],!1).filter(Et=>isElement(Et)&&getNodeName(Et)!=="body"),At=null;const St=getComputedStyle$1(xt).position==="fixed";let kt=St?getParentNode(xt):xt;for(;isElement(kt)&&!isLastTraversableNode(kt);){const Et=getComputedStyle$1(kt),Rt=isContainingBlock(kt);!Rt&&Et.position==="fixed"&&(At=null),(St?!Rt&&!At:!Rt&&Et.position==="static"&&!!At&&["absolute","fixed"].includes(At.position)||isOverflowElement(kt)&&!Rt&&hasFixedPositionAncestor(xt,kt))?vt=vt.filter(_t=>_t!==kt):At=Et,kt=getParentNode(kt)}return $.set(xt,vt),vt}function getClippingRect(xt){let{element:$,boundary:ht,rootBoundary:vt,strategy:At}=xt;const kt=[...ht==="clippingAncestors"?isTopLayer($)?[]:getClippingElementAncestors($,this._c):[].concat(ht),vt],Et=kt[0],Rt=kt.reduce((wt,_t)=>{const Pt=getClientRectFromClippingAncestor($,_t,At);return wt.top=max(Pt.top,wt.top),wt.right=min(Pt.right,wt.right),wt.bottom=min(Pt.bottom,wt.bottom),wt.left=max(Pt.left,wt.left),wt},getClientRectFromClippingAncestor($,Et,At));return{width:Rt.right-Rt.left,height:Rt.bottom-Rt.top,x:Rt.left,y:Rt.top}}function getDimensions(xt){const{width:$,height:ht}=getCssDimensions(xt);return{width:$,height:ht}}function getRectRelativeToOffsetParent(xt,$,ht){const vt=isHTMLElement($),At=getDocumentElement($),St=ht==="fixed",kt=getBoundingClientRect(xt,!0,St,$);let Et={scrollLeft:0,scrollTop:0};const Rt=createCoords(0);if(vt||!vt&&!St)if((getNodeName($)!=="body"||isOverflowElement(At))&&(Et=getNodeScroll($)),vt){const Pt=getBoundingClientRect($,!0,St,$);Rt.x=Pt.x+$.clientLeft,Rt.y=Pt.y+$.clientTop}else At&&(Rt.x=getWindowScrollBarX(At));const wt=kt.left+Et.scrollLeft-Rt.x,_t=kt.top+Et.scrollTop-Rt.y;return{x:wt,y:_t,width:kt.width,height:kt.height}}function isStaticPositioned(xt){return getComputedStyle$1(xt).position==="static"}function getTrueOffsetParent(xt,$){return!isHTMLElement(xt)||getComputedStyle$1(xt).position==="fixed"?null:$?$(xt):xt.offsetParent}function getOffsetParent(xt,$){const ht=getWindow(xt);if(isTopLayer(xt))return ht;if(!isHTMLElement(xt)){let At=getParentNode(xt);for(;At&&!isLastTraversableNode(At);){if(isElement(At)&&!isStaticPositioned(At))return At;At=getParentNode(At)}return ht}let vt=getTrueOffsetParent(xt,$);for(;vt&&isTableElement(vt)&&isStaticPositioned(vt);)vt=getTrueOffsetParent(vt,$);return vt&&isLastTraversableNode(vt)&&isStaticPositioned(vt)&&!isContainingBlock(vt)?ht:vt||getContainingBlock(xt)||ht}const getElementRects=async function(xt){const $=this.getOffsetParent||getOffsetParent,ht=this.getDimensions,vt=await ht(xt.floating);return{reference:getRectRelativeToOffsetParent(xt.reference,await $(xt.floating),xt.strategy),floating:{x:0,y:0,width:vt.width,height:vt.height}}};function isRTL(xt){return getComputedStyle$1(xt).direction==="rtl"}const platform$2={convertOffsetParentRelativeRectToViewportRelativeRect,getDocumentElement,getClippingRect,getOffsetParent,getElementRects,getClientRects,getDimensions,getScale,isElement,isRTL};function observeMove(xt,$){let ht=null,vt;const At=getDocumentElement(xt);function St(){var Et;clearTimeout(vt),(Et=ht)==null||Et.disconnect(),ht=null}function kt(Et,Rt){Et===void 0&&(Et=!1),Rt===void 0&&(Rt=1),St();const{left:wt,top:_t,width:Pt,height:_e}=xt.getBoundingClientRect();if(Et||$(),!Pt||!_e)return;const bt=floor(_t),Ft=floor(At.clientWidth-(wt+Pt)),Xt=floor(At.clientHeight-(_t+_e)),Kt=floor(wt),$t={rootMargin:-bt+"px "+-Ft+"px "+-Xt+"px "+-Kt+"px",threshold:max(0,min(1,Rt))||1};let Dt=!0;function jt(Ct){const qt=Ct[0].intersectionRatio;if(qt!==Rt){if(!Dt)return kt();qt?kt(!1,qt):vt=setTimeout(()=>{kt(!1,1e-7)},1e3)}Dt=!1}try{ht=new IntersectionObserver(jt,{...$t,root:At.ownerDocument})}catch{ht=new IntersectionObserver(jt,$t)}ht.observe(xt)}return kt(!0),St}function autoUpdate(xt,$,ht,vt){vt===void 0&&(vt={});const{ancestorScroll:At=!0,ancestorResize:St=!0,elementResize:kt=typeof ResizeObserver=="function",layoutShift:Et=typeof IntersectionObserver=="function",animationFrame:Rt=!1}=vt,wt=unwrapElement(xt),_t=At||St?[...wt?getOverflowAncestors(wt):[],...getOverflowAncestors($)]:[];_t.forEach(Nt=>{At&&Nt.addEventListener("scroll",ht,{passive:!0}),St&&Nt.addEventListener("resize",ht)});const Pt=wt&&Et?observeMove(wt,ht):null;let _e=-1,bt=null;kt&&(bt=new ResizeObserver(Nt=>{let[$t]=Nt;$t&&$t.target===wt&&bt&&(bt.unobserve($),cancelAnimationFrame(_e),_e=requestAnimationFrame(()=>{var Dt;(Dt=bt)==null||Dt.observe($)})),ht()}),wt&&!Rt&&bt.observe(wt),bt.observe($));let Ft,Xt=Rt?getBoundingClientRect(xt):null;Rt&&Kt();function Kt(){const Nt=getBoundingClientRect(xt);Xt&&(Nt.x!==Xt.x||Nt.y!==Xt.y||Nt.width!==Xt.width||Nt.height!==Xt.height)&&ht(),Xt=Nt,Ft=requestAnimationFrame(Kt)}return ht(),()=>{var Nt;_t.forEach($t=>{At&&$t.removeEventListener("scroll",ht),St&&$t.removeEventListener("resize",ht)}),Pt==null||Pt(),(Nt=bt)==null||Nt.disconnect(),bt=null,Rt&&cancelAnimationFrame(Ft)}}const detectOverflow=detectOverflow$1,offset$1=offset$2,shift$1=shift$2,flip$1=flip$2,size$1=size$2,computePosition=(xt,$,ht)=>{const vt=new Map,At={platform:platform$2,...ht},St={...At.platform,_c:vt};return computePosition$1(xt,$,{...At,platform:St})};var index$1=typeof document<"u"?reactExports.useLayoutEffect:reactExports.useEffect;function deepEqual(xt,$){if(xt===$)return!0;if(typeof xt!=typeof $)return!1;if(typeof xt=="function"&&xt.toString()===$.toString())return!0;let ht,vt,At;if(xt&&$&&typeof xt=="object"){if(Array.isArray(xt)){if(ht=xt.length,ht!==$.length)return!1;for(vt=ht;vt--!==0;)if(!deepEqual(xt[vt],$[vt]))return!1;return!0}if(At=Object.keys(xt),ht=At.length,ht!==Object.keys($).length)return!1;for(vt=ht;vt--!==0;)if(!{}.hasOwnProperty.call($,At[vt]))return!1;for(vt=ht;vt--!==0;){const St=At[vt];if(!(St==="_owner"&&xt.$$typeof)&&!deepEqual(xt[St],$[St]))return!1}return!0}return xt!==xt&&$!==$}function getDPR(xt){return typeof window>"u"?1:(xt.ownerDocument.defaultView||window).devicePixelRatio||1}function roundByDPR(xt,$){const ht=getDPR(xt);return Math.round($*ht)/ht}function useLatestRef(xt){const $=reactExports.useRef(xt);return index$1(()=>{$.current=xt}),$}function useFloating$1(xt){xt===void 0&&(xt={});const{placement:$="bottom",strategy:ht="absolute",middleware:vt=[],platform:At,elements:{reference:St,floating:kt}={},transform:Et=!0,whileElementsMounted:Rt,open:wt}=xt,[_t,Pt]=reactExports.useState({x:0,y:0,strategy:ht,placement:$,middlewareData:{},isPositioned:!1}),[_e,bt]=reactExports.useState(vt);deepEqual(_e,vt)||bt(vt);const[Ft,Xt]=reactExports.useState(null),[Kt,Nt]=reactExports.useState(null),$t=reactExports.useCallback(hn=>{hn!==qt.current&&(qt.current=hn,Xt(hn))},[]),Dt=reactExports.useCallback(hn=>{hn!==Bt.current&&(Bt.current=hn,Nt(hn))},[]),jt=St||Ft,Ct=kt||Kt,qt=reactExports.useRef(null),Bt=reactExports.useRef(null),Gt=reactExports.useRef(_t),en=Rt!=null,dn=useLatestRef(Rt),Qt=useLatestRef(At),gn=reactExports.useCallback(()=>{if(!qt.current||!Bt.current)return;const hn={placement:$,strategy:ht,middleware:_e};Qt.current&&(hn.platform=Qt.current),computePosition(qt.current,Bt.current,hn).then(Ut=>{const Ot={...Ut,isPositioned:!0};nn.current&&!deepEqual(Gt.current,Ot)&&(Gt.current=Ot,reactDomExports.flushSync(()=>{Pt(Ot)}))})},[_e,$,ht,Qt]);index$1(()=>{wt===!1&&Gt.current.isPositioned&&(Gt.current.isPositioned=!1,Pt(hn=>({...hn,isPositioned:!1})))},[wt]);const nn=reactExports.useRef(!1);index$1(()=>(nn.current=!0,()=>{nn.current=!1}),[]),index$1(()=>{if(jt&&(qt.current=jt),Ct&&(Bt.current=Ct),jt&&Ct){if(dn.current)return dn.current(jt,Ct,gn);gn()}},[jt,Ct,gn,dn,en]);const bn=reactExports.useMemo(()=>({reference:qt,floating:Bt,setReference:$t,setFloating:Dt}),[$t,Dt]),Vt=reactExports.useMemo(()=>({reference:jt,floating:Ct}),[jt,Ct]),Yt=reactExports.useMemo(()=>{const hn={position:ht,left:0,top:0};if(!Vt.floating)return hn;const Ut=roundByDPR(Vt.floating,_t.x),Ot=roundByDPR(Vt.floating,_t.y);return Et?{...hn,transform:"translate("+Ut+"px, "+Ot+"px)",...getDPR(Vt.floating)>=1.5&&{willChange:"transform"}}:{position:ht,left:Ut,top:Ot}},[ht,Et,Vt.floating,_t.x,_t.y]);return reactExports.useMemo(()=>({..._t,update:gn,refs:bn,elements:Vt,floatingStyles:Yt}),[_t,gn,bn,Vt,Yt])}const offset=(xt,$)=>({...offset$1(xt),options:[xt,$]}),shift=(xt,$)=>({...shift$1(xt),options:[xt,$]}),flip=(xt,$)=>({...flip$1(xt),options:[xt,$]}),size=(xt,$)=>({...size$1(xt),options:[xt,$]}),SafeReact={...t$4},useInsertionEffect=SafeReact.useInsertionEffect,useSafeInsertionEffect=useInsertionEffect||(xt=>xt());function useEffectEvent(xt){const $=reactExports.useRef(()=>{});return useSafeInsertionEffect(()=>{$.current=xt}),reactExports.useCallback(function(){for(var ht=arguments.length,vt=new Array(ht),At=0;At<ht;At++)vt[At]=arguments[At];return $.current==null?void 0:$.current(...vt)},[])}var index=typeof document<"u"?reactExports.useLayoutEffect:reactExports.useEffect;let serverHandoffComplete=!1,count=0;const genId=()=>"floating-ui-"+Math.random().toString(36).slice(2,6)+count++;function useFloatingId(){const[xt,$]=reactExports.useState(()=>serverHandoffComplete?genId():void 0);return index(()=>{xt==null&&$(genId())},[]),reactExports.useEffect(()=>{serverHandoffComplete=!0},[]),xt}const useReactId=SafeReact.useId,useId=useReactId||useFloatingId;function createPubSub(){const xt=new Map;return{emit($,ht){var vt;(vt=xt.get($))==null||vt.forEach(At=>At(ht))},on($,ht){xt.set($,[...xt.get($)||[],ht])},off($,ht){var vt;xt.set($,((vt=xt.get($))==null?void 0:vt.filter(At=>At!==ht))||[])}}}const FloatingNodeContext=reactExports.createContext(null),FloatingTreeContext=reactExports.createContext(null),useFloatingParentNodeId=()=>{var xt;return((xt=reactExports.useContext(FloatingNodeContext))==null?void 0:xt.id)||null},useFloatingTree=()=>reactExports.useContext(FloatingTreeContext);function useFloatingRootContext(xt){const{open:$=!1,onOpenChange:ht,elements:vt}=xt,At=useId(),St=reactExports.useRef({}),[kt]=reactExports.useState(()=>createPubSub()),Et=useFloatingParentNodeId()!=null,[Rt,wt]=reactExports.useState(vt.reference),_t=useEffectEvent((bt,Ft,Xt)=>{St.current.openEvent=bt?Ft:void 0,kt.emit("openchange",{open:bt,event:Ft,reason:Xt,nested:Et}),ht==null||ht(bt,Ft,Xt)}),Pt=reactExports.useMemo(()=>({setPositionReference:wt}),[]),_e=reactExports.useMemo(()=>({reference:Rt||vt.reference||null,floating:vt.floating||null,domReference:vt.reference}),[Rt,vt.reference,vt.floating]);return reactExports.useMemo(()=>({dataRef:St,open:$,onOpenChange:_t,elements:_e,events:kt,floatingId:At,refs:Pt}),[$,_t,_e,kt,At,Pt])}function useFloating(xt){xt===void 0&&(xt={});const{nodeId:$}=xt,ht=useFloatingRootContext({...xt,elements:{reference:null,floating:null,...xt.elements}}),vt=xt.rootContext||ht,At=vt.elements,[St,kt]=reactExports.useState(null),[Et,Rt]=reactExports.useState(null),_t=(At==null?void 0:At.reference)||St,Pt=reactExports.useRef(null),_e=useFloatingTree();index(()=>{_t&&(Pt.current=_t)},[_t]);const bt=useFloating$1({...xt,elements:{...At,...Et&&{reference:Et}}}),Ft=reactExports.useCallback(Dt=>{const jt=isElement(Dt)?{getBoundingClientRect:()=>Dt.getBoundingClientRect(),contextElement:Dt}:Dt;Rt(jt),bt.refs.setReference(jt)},[bt.refs]),Xt=reactExports.useCallback(Dt=>{(isElement(Dt)||Dt===null)&&(Pt.current=Dt,kt(Dt)),(isElement(bt.refs.reference.current)||bt.refs.reference.current===null||Dt!==null&&!isElement(Dt))&&bt.refs.setReference(Dt)},[bt.refs]),Kt=reactExports.useMemo(()=>({...bt.refs,setReference:Xt,setPositionReference:Ft,domReference:Pt}),[bt.refs,Xt,Ft]),Nt=reactExports.useMemo(()=>({...bt.elements,domReference:_t}),[bt.elements,_t]),$t=reactExports.useMemo(()=>({...bt,...vt,refs:Kt,elements:Nt,nodeId:$}),[bt,Kt,Nt,$,vt]);return index(()=>{vt.dataRef.current.floatingContext=$t;const Dt=_e==null?void 0:_e.nodesRef.current.find(jt=>jt.id===$);Dt&&(Dt.context=$t)}),reactExports.useMemo(()=>({...bt,context:$t,refs:Kt,elements:Nt}),[bt,Kt,Nt,$t])}const ACTIVE_KEY="active",SELECTED_KEY="selected";function mergeProps(xt,$,ht){const vt=new Map,At=ht==="item";let St=xt;if(At&&xt){const{[ACTIVE_KEY]:kt,[SELECTED_KEY]:Et,...Rt}=xt;St=Rt}return{...ht==="floating"&&{tabIndex:-1},...St,...$.map(kt=>{const Et=kt?kt[ht]:null;return typeof Et=="function"?xt?Et(xt):null:Et}).concat(xt).reduce((kt,Et)=>(Et&&Object.entries(Et).forEach(Rt=>{let[wt,_t]=Rt;if(!(At&&[ACTIVE_KEY,SELECTED_KEY].includes(wt)))if(wt.indexOf("on")===0){if(vt.has(wt)||vt.set(wt,[]),typeof _t=="function"){var Pt;(Pt=vt.get(wt))==null||Pt.push(_t),kt[wt]=function(){for(var _e,bt=arguments.length,Ft=new Array(bt),Xt=0;Xt<bt;Xt++)Ft[Xt]=arguments[Xt];return(_e=vt.get(wt))==null?void 0:_e.map(Kt=>Kt(...Ft)).find(Kt=>Kt!==void 0)}}}else kt[wt]=_t}),kt),{})}}function useInteractions(xt){xt===void 0&&(xt=[]);const $=xt.map(Et=>Et==null?void 0:Et.reference),ht=xt.map(Et=>Et==null?void 0:Et.floating),vt=xt.map(Et=>Et==null?void 0:Et.item),At=reactExports.useCallback(Et=>mergeProps(Et,xt,"reference"),$),St=reactExports.useCallback(Et=>mergeProps(Et,xt,"floating"),ht),kt=reactExports.useCallback(Et=>mergeProps(Et,xt,"item"),vt);return reactExports.useMemo(()=>({getReferenceProps:At,getFloatingProps:St,getItemProps:kt}),[At,St,kt])}function getArgsWithCustomFloatingHeight(xt,$){return{...xt,rects:{...xt.rects,floating:{...xt.rects.floating,height:$}}}}const inner=xt=>({name:"inner",options:xt,async fn($){const{listRef:ht,overflowRef:vt,onFallbackChange:At,offset:St=0,index:kt=0,minItemsVisible:Et=4,referenceOverflowThreshold:Rt=0,scrollRef:wt,..._t}=evaluate(xt,$),{rects:Pt,elements:{floating:_e}}=$,bt=ht.current[kt];if(!bt)return{};const Ft={...$,...await offset(-bt.offsetTop-_e.clientTop-Pt.reference.height/2-bt.offsetHeight/2-St).fn($)},Xt=(wt==null?void 0:wt.current)||_e,Kt=await detectOverflow(getArgsWithCustomFloatingHeight(Ft,Xt.scrollHeight),_t),Nt=await detectOverflow(Ft,{..._t,elementContext:"reference"}),$t=Math.max(0,Kt.top),Dt=Ft.y+$t,jt=Math.max(0,Xt.scrollHeight-$t-Math.max(0,Kt.bottom));return Xt.style.maxHeight=jt+"px",Xt.scrollTop=$t,At&&(Xt.offsetHeight<bt.offsetHeight*Math.min(Et,ht.current.length-1)-1||Nt.top>=-Rt||Nt.bottom>=-Rt?reactDomExports.flushSync(()=>At(!0)):reactDomExports.flushSync(()=>At(!1))),vt&&(vt.current=await detectOverflow(getArgsWithCustomFloatingHeight({...Ft,y:Dt},Xt.offsetHeight),_t)),{y:Dt}}});function useInnerOffset(xt,$){const{open:ht,elements:vt}=xt,{enabled:At=!0,overflowRef:St,scrollRef:kt,onChange:Et}=$,Rt=useEffectEvent(Et),wt=reactExports.useRef(!1),_t=reactExports.useRef(null),Pt=reactExports.useRef(null);reactExports.useEffect(()=>{if(!At)return;function bt(Xt){if(Xt.ctrlKey||!Ft||St.current==null)return;const Kt=Xt.deltaY,Nt=St.current.top>=-.5,$t=St.current.bottom>=-.5,Dt=Ft.scrollHeight-Ft.clientHeight,jt=Kt<0?-1:1,Ct=Kt<0?"max":"min";Ft.scrollHeight<=Ft.clientHeight||(!Nt&&Kt>0||!$t&&Kt<0?(Xt.preventDefault(),reactDomExports.flushSync(()=>{Rt(qt=>qt+Math[Ct](Kt,Dt*jt))})):/firefox/i.test(getUserAgent())&&(Ft.scrollTop+=Kt))}const Ft=(kt==null?void 0:kt.current)||vt.floating;if(ht&&Ft)return Ft.addEventListener("wheel",bt),requestAnimationFrame(()=>{_t.current=Ft.scrollTop,St.current!=null&&(Pt.current={...St.current})}),()=>{_t.current=null,Pt.current=null,Ft.removeEventListener("wheel",bt)}},[At,ht,vt.floating,St,kt,Rt]);const _e=reactExports.useMemo(()=>({onKeyDown(){wt.current=!0},onWheel(){wt.current=!1},onPointerMove(){wt.current=!1},onScroll(){const bt=(kt==null?void 0:kt.current)||vt.floating;if(!(!St.current||!bt||!wt.current)){if(_t.current!==null){const Ft=bt.scrollTop-_t.current;(St.current.bottom<-.5&&Ft<-1||St.current.top<-.5&&Ft>1)&&reactDomExports.flushSync(()=>Rt(Xt=>Xt+Ft))}requestAnimationFrame(()=>{_t.current=bt.scrollTop})}}}),[vt.floating,Rt,St,kt]);return reactExports.useMemo(()=>At?{floating:_e}:{},[At,_e])}let y$1=reactExports.createContext({styles:void 0,setReference:()=>{},setFloating:()=>{},getReferenceProps:()=>({}),getFloatingProps:()=>({}),slot:{}});y$1.displayName="FloatingContext";let S$1=reactExports.createContext(null);S$1.displayName="PlacementContext";function xe(xt){return reactExports.useMemo(()=>xt?typeof xt=="string"?{to:xt}:xt:null,[xt])}function ye(){return reactExports.useContext(y$1).setReference}function Fe(){return reactExports.useContext(y$1).getReferenceProps}function be(){let{getFloatingProps:xt,slot:$}=reactExports.useContext(y$1);return reactExports.useCallback((...ht)=>Object.assign({},xt(...ht),{"data-anchor":$.anchor}),[xt,$])}function Re(xt=null){xt===!1&&(xt=null),typeof xt=="string"&&(xt={to:xt});let $=reactExports.useContext(S$1),ht=reactExports.useMemo(()=>xt,[JSON.stringify(xt,typeof HTMLElement<"u"?(At,St)=>St instanceof HTMLElement?St.outerHTML:St:void 0)]);n$3(()=>{$==null||$(ht??null)},[$,ht]);let vt=reactExports.useContext(y$1);return reactExports.useMemo(()=>[vt.setFloating,xt?vt.styles:{}],[vt.setFloating,xt,vt.styles])}let q=4;function ve({children:xt,enabled:$=!0}){let[ht,vt]=reactExports.useState(null),[At,St]=reactExports.useState(0),kt=reactExports.useRef(null),[Et,Rt]=reactExports.useState(null);pe(Et);let wt=$&&ht!==null&&Et!==null,{to:_t="bottom",gap:Pt=0,offset:_e=0,padding:bt=0,inner:Ft}=ce(ht,Et),[Xt,Kt="center"]=_t.split(" ");n$3(()=>{wt&&St(0)},[wt]);let{refs:Nt,floatingStyles:$t,context:Dt}=useFloating({open:wt,placement:Xt==="selection"?Kt==="center"?"bottom":`bottom-${Kt}`:Kt==="center"?`${Xt}`:`${Xt}-${Kt}`,strategy:"absolute",transform:!1,middleware:[offset({mainAxis:Xt==="selection"?0:Pt,crossAxis:_e}),shift({padding:bt}),Xt!=="selection"&&flip({padding:bt}),Xt==="selection"&&Ft?inner({...Ft,padding:bt,overflowRef:kt,offset:At,minItemsVisible:q,referenceOverflowThreshold:bt,onFallbackChange(Qt){var gn,nn;if(!Qt)return;let bn=Dt.elements.floating;if(!bn)return;let Vt=parseFloat(getComputedStyle(bn).scrollPaddingBottom)||0,Yt=Math.min(q,bn.childElementCount),hn=0,Ut=0;for(let Ot of(nn=(gn=Dt.elements.floating)==null?void 0:gn.childNodes)!=null?nn:[])if(Ot instanceof HTMLElement){let zt=Ot.offsetTop,an=zt+Ot.clientHeight+Vt,Ht=bn.scrollTop,Wt=Ht+bn.clientHeight;if(zt>=Ht&&an<=Wt)Yt--;else{Ut=Math.max(0,Math.min(an,Wt)-Math.max(zt,Ht)),hn=Ot.clientHeight;break}}Yt>=1&&St(Ot=>{let zt=hn*Yt-Ut+Vt;return Ot>=zt?Ot:zt})}}):null,size({padding:bt,apply({availableWidth:Qt,availableHeight:gn,elements:nn}){Object.assign(nn.floating.style,{overflow:"auto",maxWidth:`${Qt}px`,maxHeight:`min(var(--anchor-max-height, 100vh), ${gn}px)`})}})].filter(Boolean),whileElementsMounted:autoUpdate}),[jt=Xt,Ct=Kt]=Dt.placement.split("-");Xt==="selection"&&(jt="selection");let qt=reactExports.useMemo(()=>({anchor:[jt,Ct].filter(Boolean).join(" ")}),[jt,Ct]),Bt=useInnerOffset(Dt,{overflowRef:kt,onChange:St}),{getReferenceProps:Gt,getFloatingProps:en}=useInteractions([Bt]),dn=o$3(Qt=>{Rt(Qt),Nt.setFloating(Qt)});return reactExports.createElement(S$1.Provider,{value:vt},reactExports.createElement(y$1.Provider,{value:{setFloating:dn,setReference:Nt.setReference,styles:$t,getReferenceProps:Gt,getFloatingProps:en,slot:qt}},xt))}function pe(xt){n$3(()=>{if(!xt)return;let $=new MutationObserver(()=>{let ht=xt.style.maxHeight;parseFloat(ht)!==parseInt(ht)&&(xt.style.maxHeight=`${Math.ceil(parseFloat(ht))}px`)});return $.observe(xt,{attributes:!0,attributeFilter:["style"]}),()=>{$.disconnect()}},[xt])}function ce(xt,$){var ht,vt,At;let St=L((ht=xt==null?void 0:xt.gap)!=null?ht:"var(--anchor-gap, 0)",$),kt=L((vt=xt==null?void 0:xt.offset)!=null?vt:"var(--anchor-offset, 0)",$),Et=L((At=xt==null?void 0:xt.padding)!=null?At:"var(--anchor-padding, 0)",$);return{...xt,gap:St,offset:kt,padding:Et}}function L(xt,$,ht=void 0){let vt=p$3(),At=o$3((Rt,wt)=>{if(Rt==null)return[ht,null];if(typeof Rt=="number")return[Rt,null];if(typeof Rt=="string"){if(!wt)return[ht,null];let _t=J$1(Rt,wt);return[_t,Pt=>{let _e=D$1(Rt);{let bt=_e.map(Ft=>window.getComputedStyle(wt).getPropertyValue(Ft));vt.requestAnimationFrame(function Ft(){vt.nextFrame(Ft);let Xt=!1;for(let[Nt,$t]of _e.entries()){let Dt=window.getComputedStyle(wt).getPropertyValue($t);if(bt[Nt]!==Dt){bt[Nt]=Dt,Xt=!0;break}}if(!Xt)return;let Kt=J$1(Rt,wt);_t!==Kt&&(Pt(Kt),_t=Kt)})}return vt.dispose}]}return[ht,null]}),St=reactExports.useMemo(()=>At(xt,$)[0],[xt,$]),[kt=St,Et]=reactExports.useState();return n$3(()=>{let[Rt,wt]=At(xt,$);if(Et(Rt),!!wt)return wt(Et)},[xt,$]),kt}function D$1(xt){let $=/var\((.*)\)/.exec(xt);if($){let ht=$[1].indexOf(",");if(ht===-1)return[$[1]];let vt=$[1].slice(0,ht).trim(),At=$[1].slice(ht+1).trim();return At?[vt,...D$1(At)]:[vt]}return[]}function J$1(xt,$){let ht=document.createElement("div");$.appendChild(ht),ht.style.setProperty("margin-top","0px","important"),ht.style.setProperty("margin-top",xt,"important");let vt=parseFloat(window.getComputedStyle(ht).marginTop)||0;return $.removeChild(ht),vt}let n=reactExports.createContext(null);n.displayName="OpenClosedContext";var i=(xt=>(xt[xt.Open=1]="Open",xt[xt.Closed=2]="Closed",xt[xt.Closing=4]="Closing",xt[xt.Opening=8]="Opening",xt))(i||{});function u$1(){return reactExports.useContext(n)}function c$2({value:xt,children:$}){return React.createElement(n.Provider,{value:xt},$)}function u(xt){throw new Error("Unexpected object: "+xt)}var c$1=(xt=>(xt[xt.First=0]="First",xt[xt.Previous=1]="Previous",xt[xt.Next=2]="Next",xt[xt.Last=3]="Last",xt[xt.Specific=4]="Specific",xt[xt.Nothing=5]="Nothing",xt))(c$1||{});function f(xt,$){let ht=$.resolveItems();if(ht.length<=0)return null;let vt=$.resolveActiveIndex(),At=vt??-1;switch(xt.focus){case 0:{for(let St=0;St<ht.length;++St)if(!$.resolveDisabled(ht[St],St,ht))return St;return vt}case 1:{At===-1&&(At=ht.length);for(let St=At-1;St>=0;--St)if(!$.resolveDisabled(ht[St],St,ht))return St;return vt}case 2:{for(let St=At+1;St<ht.length;++St)if(!$.resolveDisabled(ht[St],St,ht))return St;return vt}case 3:{for(let St=ht.length-1;St>=0;--St)if(!$.resolveDisabled(ht[St],St,ht))return St;return vt}case 4:{for(let St=0;St<ht.length;++St)if($.resolveId(ht[St],St,ht)===xt.id)return St;return vt}case 5:return null;default:u(xt)}}function c(xt){let $=o$3(xt),ht=reactExports.useRef(!1);reactExports.useEffect(()=>(ht.current=!1,()=>{ht.current=!0,t$3(()=>{ht.current&&$()})}),[$])}function s$1(){let xt=typeof document>"u";return"useSyncExternalStore"in t$4?($=>$.useSyncExternalStore)(t$4)(()=>()=>{},()=>!1,()=>!xt):!1}function l(){let xt=s$1(),[$,ht]=reactExports.useState(s$5.isHandoffComplete);return $&&s$5.isHandoffComplete===!1&&ht(!1),reactExports.useEffect(()=>{$!==!0&&ht(!0)},[$]),reactExports.useEffect(()=>s$5.handoff(),[]),xt?!1:$}let e=reactExports.createContext(!1);function a$1(){return reactExports.useContext(e)}function D(xt){let $=a$1(),ht=reactExports.useContext(v),vt=n$1(xt),[At,St]=reactExports.useState(()=>{var kt;if(!$&&ht!==null)return(kt=ht.current)!=null?kt:null;if(s$5.isServer)return null;let Et=vt==null?void 0:vt.getElementById("headlessui-portal-root");if(Et)return Et;if(vt===null)return null;let Rt=vt.createElement("div");return Rt.setAttribute("id","headlessui-portal-root"),vt.body.appendChild(Rt)});return reactExports.useEffect(()=>{At!==null&&(vt!=null&&vt.body.contains(At)||vt==null||vt.body.appendChild(At))},[At,vt]),reactExports.useEffect(()=>{$||ht!==null&&St(ht.current)},[ht,St,$]),At}let M=reactExports.Fragment,N=I$3(function(xt,$){let ht=xt,vt=reactExports.useRef(null),At=y$4(T$2(_t=>{vt.current=_t}),$),St=n$1(vt),kt=D(vt),[Et]=reactExports.useState(()=>{var _t;return s$5.isServer?null:(_t=St==null?void 0:St.createElement("div"))!=null?_t:null}),Rt=reactExports.useContext(y),wt=l();return n$3(()=>{!kt||!Et||kt.contains(Et)||(Et.setAttribute("data-headlessui-portal",""),kt.appendChild(Et))},[kt,Et]),n$3(()=>{if(Et&&Rt)return Rt.register(Et)},[Rt,Et]),c(()=>{var _t;!kt||!Et||(Et instanceof Node&&kt.contains(Et)&&kt.removeChild(Et),kt.childNodes.length<=0&&((_t=kt.parentElement)==null||_t.removeChild(kt)))}),wt?!kt||!Et?null:reactDomExports.createPortal(H$1({ourProps:{ref:At},theirProps:ht,slot:{},defaultTag:M,name:"Portal"}),Et):null});function S(xt,$){let ht=y$4($),{enabled:vt=!0,...At}=xt;return vt?React.createElement(N,{...At,ref:ht}):H$1({ourProps:{ref:ht},theirProps:At,slot:{},defaultTag:M,name:"Portal"})}let j$1=reactExports.Fragment,v=reactExports.createContext(null);function W$1(xt,$){let{target:ht,...vt}=xt,At={ref:y$4($)};return React.createElement(v.Provider,{value:ht},H$1({ourProps:At,theirProps:vt,defaultTag:j$1,name:"Popover.Group"}))}let y=reactExports.createContext(null),I=I$3(S),J=I$3(W$1),te=Object.assign(I,{Group:J});function p(xt,$){let ht=reactExports.useRef({left:0,top:0});if(n$3(()=>{let At=$.current;if(!At)return;let St=At.getBoundingClientRect();St&&(ht.current=St)},[xt]),$.current==null||!xt||$.current===document.activeElement)return!1;let vt=$.current.getBoundingClientRect();return vt.top!==ht.current.top||vt.left!==ht.current.left}let a=/([\u2700-\u27BF]|[\uE000-\uF8FF]|\uD83C[\uDC00-\uDFFF]|\uD83D[\uDC00-\uDFFF]|[\u2011-\u26FF]|\uD83E[\uDD10-\uDDFF])/g;function o(xt){var $,ht;let vt=($=xt.innerText)!=null?$:"",At=xt.cloneNode(!0);if(!(At instanceof HTMLElement))return vt;let St=!1;for(let Et of At.querySelectorAll('[hidden],[aria-hidden],[role="img"]'))Et.remove(),St=!0;let kt=St?(ht=At.innerText)!=null?ht:"":vt;return a.test(kt)&&(kt=kt.replace(a,"")),kt}function g(xt){let $=xt.getAttribute("aria-label");if(typeof $=="string")return $.trim();let ht=xt.getAttribute("aria-labelledby");if(ht){let vt=ht.split(" ").map(At=>{let St=document.getElementById(At);if(St){let kt=St.getAttribute("aria-label");return typeof kt=="string"?kt.trim():o(St).trim()}return null}).filter(Boolean);if(vt.length>0)return vt.join(", ")}return o(xt).trim()}function s(xt){let $=reactExports.useRef(""),ht=reactExports.useRef("");return o$3(()=>{let vt=xt.current;if(!vt)return"";let At=vt.innerText;if($.current===At)return ht.current;let St=g(vt).trim().toLowerCase();return $.current=At,ht.current=St,St})}var Je=(xt=>(xt[xt.Open=0]="Open",xt[xt.Closed=1]="Closed",xt))(Je||{}),Ve=(xt=>(xt[xt.Pointer=0]="Pointer",xt[xt.Other=1]="Other",xt))(Ve||{}),Xe=(xt=>(xt[xt.OpenMenu=0]="OpenMenu",xt[xt.CloseMenu=1]="CloseMenu",xt[xt.GoToItem=2]="GoToItem",xt[xt.Search=3]="Search",xt[xt.ClearSearch=4]="ClearSearch",xt[xt.RegisterItem=5]="RegisterItem",xt[xt.UnregisterItem=6]="UnregisterItem",xt))(Xe||{});function W(xt,$=ht=>ht){let ht=xt.activeItemIndex!==null?xt.items[xt.activeItemIndex]:null,vt=_($(xt.items.slice()),St=>St.dataRef.current.domRef.current),At=ht?vt.indexOf(ht):null;return At===-1&&(At=null),{items:vt,activeItemIndex:At}}let $e={1(xt){return xt.menuState===1?xt:{...xt,activeItemIndex:null,menuState:1}},0(xt){return xt.menuState===0?xt:{...xt,__demoMode:!1,menuState:0}},2:(xt,$)=>{var ht,vt,At,St,kt;if(xt.menuState===1)return xt;let Et={...xt,searchQuery:"",activationTrigger:(ht=$.trigger)!=null?ht:1,__demoMode:!1};if($.focus===c$1.Nothing)return{...Et,activeItemIndex:null};if($.focus===c$1.Specific)return{...Et,activeItemIndex:xt.items.findIndex(_t=>_t.id===$.id)};if($.focus===c$1.Previous){let _t=xt.activeItemIndex;if(_t!==null){let Pt=xt.items[_t].dataRef.current.domRef,_e=f($,{resolveItems:()=>xt.items,resolveActiveIndex:()=>xt.activeItemIndex,resolveId:bt=>bt.id,resolveDisabled:bt=>bt.dataRef.current.disabled});if(_e!==null){let bt=xt.items[_e].dataRef.current.domRef;if(((vt=Pt.current)==null?void 0:vt.previousElementSibling)===bt.current||((At=bt.current)==null?void 0:At.previousElementSibling)===null)return{...Et,activeItemIndex:_e}}}}else if($.focus===c$1.Next){let _t=xt.activeItemIndex;if(_t!==null){let Pt=xt.items[_t].dataRef.current.domRef,_e=f($,{resolveItems:()=>xt.items,resolveActiveIndex:()=>xt.activeItemIndex,resolveId:bt=>bt.id,resolveDisabled:bt=>bt.dataRef.current.disabled});if(_e!==null){let bt=xt.items[_e].dataRef.current.domRef;if(((St=Pt.current)==null?void 0:St.nextElementSibling)===bt.current||((kt=bt.current)==null?void 0:kt.nextElementSibling)===null)return{...Et,activeItemIndex:_e}}}}let Rt=W(xt),wt=f($,{resolveItems:()=>Rt.items,resolveActiveIndex:()=>Rt.activeItemIndex,resolveId:_t=>_t.id,resolveDisabled:_t=>_t.dataRef.current.disabled});return{...Et,...Rt,activeItemIndex:wt}},3:(xt,$)=>{let ht=xt.searchQuery!==""?0:1,vt=xt.searchQuery+$.value.toLowerCase(),At=(xt.activeItemIndex!==null?xt.items.slice(xt.activeItemIndex+ht).concat(xt.items.slice(0,xt.activeItemIndex+ht)):xt.items).find(kt=>{var Et;return((Et=kt.dataRef.current.textValue)==null?void 0:Et.startsWith(vt))&&!kt.dataRef.current.disabled}),St=At?xt.items.indexOf(At):-1;return St===-1||St===xt.activeItemIndex?{...xt,searchQuery:vt}:{...xt,searchQuery:vt,activeItemIndex:St,activationTrigger:1}},4(xt){return xt.searchQuery===""?xt:{...xt,searchQuery:"",searchActiveItemIndex:null}},5:(xt,$)=>{let ht=W(xt,vt=>[...vt,{id:$.id,dataRef:$.dataRef}]);return{...xt,...ht}},6:(xt,$)=>{let ht=W(xt,vt=>{let At=vt.findIndex(St=>St.id===$.id);return At!==-1&&vt.splice(At,1),vt});return{...xt,...ht,activationTrigger:1}}},j=reactExports.createContext(null);j.displayName="MenuContext";function B(xt){let $=reactExports.useContext(j);if($===null){let ht=new Error(`<${xt} /> is missing a parent <Menu /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(ht,B),ht}return $}function qe(xt,$){return u$6($.type,$e,xt,$)}let ze=reactExports.Fragment;function Ye(xt,$){let{__demoMode:ht=!1,...vt}=xt,At=reactExports.useReducer(qe,{__demoMode:ht,menuState:ht?0:1,buttonRef:reactExports.createRef(),itemsRef:reactExports.createRef(),items:[],searchQuery:"",activeItemIndex:null,activationTrigger:1}),[{menuState:St,itemsRef:kt,buttonRef:Et},Rt]=At,wt=y$4($);F$2(St===0,[Et,kt],(bt,Ft)=>{var Xt;Rt({type:1}),A$1(Ft,h.Loose)||(bt.preventDefault(),(Xt=Et.current)==null||Xt.focus())});let _t=o$3(()=>{Rt({type:1})}),Pt=reactExports.useMemo(()=>({open:St===0,close:_t}),[St,_t]),_e={ref:wt};return React.createElement(ve,null,React.createElement(j.Provider,{value:At},React.createElement(c$2,{value:u$6(St,{0:i.Open,1:i.Closed})},H$1({ourProps:_e,theirProps:vt,slot:Pt,defaultTag:ze,name:"Menu"}))))}let Ze="button";function et(xt,$){var ht;let vt=reactExports.useId(),{id:At=`headlessui-menu-button-${vt}`,disabled:St=!1,autoFocus:kt=!1,...Et}=xt,[Rt,wt]=B("Menu.Button"),_t=Fe(),Pt=y$4(Rt.buttonRef,$,ye()),_e=o$3(Bt=>{switch(Bt.key){case o$2.Space:case o$2.Enter:case o$2.ArrowDown:Bt.preventDefault(),Bt.stopPropagation(),reactDomExports.flushSync(()=>wt({type:0})),wt({type:2,focus:c$1.First});break;case o$2.ArrowUp:Bt.preventDefault(),Bt.stopPropagation(),reactDomExports.flushSync(()=>wt({type:0})),wt({type:2,focus:c$1.Last});break}}),bt=o$3(Bt=>{switch(Bt.key){case o$2.Space:Bt.preventDefault();break}}),Ft=o$3(Bt=>{var Gt;if(r$1(Bt.currentTarget))return Bt.preventDefault();St||(Rt.menuState===0?(reactDomExports.flushSync(()=>wt({type:1})),(Gt=Rt.buttonRef.current)==null||Gt.focus({preventScroll:!0})):(Bt.preventDefault(),wt({type:0})))}),{isFocusVisible:Xt,focusProps:Kt}=$f7dceffc5ad7768b$export$4e328f61c538687f({autoFocus:kt}),{isHovered:Nt,hoverProps:$t}=$6179b936705e76d3$export$ae780daf29e6d456({isDisabled:St}),{pressed:Dt,pressProps:jt}=w$1({disabled:St}),Ct=reactExports.useMemo(()=>({open:Rt.menuState===0,active:Dt||Rt.menuState===0,disabled:St,hover:Nt,focus:Xt,autofocus:kt}),[Rt,Nt,Xt,Dt,St,kt]),qt=D$3(_t(),{ref:Pt,id:At,type:T(xt,Rt.buttonRef),"aria-haspopup":"menu","aria-controls":(ht=Rt.itemsRef.current)==null?void 0:ht.id,"aria-expanded":Rt.menuState===0,disabled:St||void 0,autoFocus:kt,onKeyDown:_e,onKeyUp:bt,onClick:Ft},Kt,$t,jt);return H$1({ourProps:qt,theirProps:Et,slot:Ct,defaultTag:Ze,name:"Menu.Button"})}let tt="div",nt=O$1.RenderStrategy|O$1.Static;function rt(xt,$){var ht,vt;let At=reactExports.useId(),{id:St=`headlessui-menu-items-${At}`,anchor:kt,portal:Et=!1,modal:Rt=!0,transition:wt=!1,..._t}=xt,Pt=xe(kt),[_e,bt]=B("Menu.Items"),[Ft,Xt]=Re(Pt),Kt=be(),Nt=y$4(_e.itemsRef,$,Pt?Ft:null),$t=n$1(_e.itemsRef);Pt&&(Et=!0);let Dt=u$1(),[jt,Ct]=V(wt,_e.itemsRef,Dt!==null?(Dt&i.Open)===i.Open:_e.menuState===0);m$1(jt,_e.buttonRef,()=>{bt({type:1})});let qt=_e.__demoMode?!1:Rt&&_e.menuState===0;f$1(qt,$t);let Bt=_e.__demoMode?!1:Rt&&_e.menuState===0;y$3(Bt,{allowed:o$3(()=>[_e.buttonRef.current,_e.itemsRef.current])});let Gt=_e.menuState!==0,en=p(Gt,_e.buttonRef)?!1:jt;reactExports.useEffect(()=>{let Vt=_e.itemsRef.current;Vt&&_e.menuState===0&&Vt!==($t==null?void 0:$t.activeElement)&&Vt.focus({preventScroll:!0})},[_e.menuState,_e.itemsRef,$t,_e.itemsRef.current]),F(_e.menuState===0,{container:_e.itemsRef.current,accept(Vt){return Vt.getAttribute("role")==="menuitem"?NodeFilter.FILTER_REJECT:Vt.hasAttribute("role")?NodeFilter.FILTER_SKIP:NodeFilter.FILTER_ACCEPT},walk(Vt){Vt.setAttribute("role","none")}});let dn=p$3(),Qt=o$3(Vt=>{var Yt,hn,Ut;switch(dn.dispose(),Vt.key){case o$2.Space:if(_e.searchQuery!=="")return Vt.preventDefault(),Vt.stopPropagation(),bt({type:3,value:Vt.key});case o$2.Enter:if(Vt.preventDefault(),Vt.stopPropagation(),bt({type:1}),_e.activeItemIndex!==null){let{dataRef:Ot}=_e.items[_e.activeItemIndex];(hn=(Yt=Ot.current)==null?void 0:Yt.domRef.current)==null||hn.click()}G(_e.buttonRef.current);break;case o$2.ArrowDown:return Vt.preventDefault(),Vt.stopPropagation(),bt({type:2,focus:c$1.Next});case o$2.ArrowUp:return Vt.preventDefault(),Vt.stopPropagation(),bt({type:2,focus:c$1.Previous});case o$2.Home:case o$2.PageUp:return Vt.preventDefault(),Vt.stopPropagation(),bt({type:2,focus:c$1.First});case o$2.End:case o$2.PageDown:return Vt.preventDefault(),Vt.stopPropagation(),bt({type:2,focus:c$1.Last});case o$2.Escape:Vt.preventDefault(),Vt.stopPropagation(),reactDomExports.flushSync(()=>bt({type:1})),(Ut=_e.buttonRef.current)==null||Ut.focus({preventScroll:!0});break;case o$2.Tab:Vt.preventDefault(),Vt.stopPropagation(),reactDomExports.flushSync(()=>bt({type:1})),j$2(_e.buttonRef.current,Vt.shiftKey?F$3.Previous:F$3.Next);break;default:Vt.key.length===1&&(bt({type:3,value:Vt.key}),dn.setTimeout(()=>bt({type:4}),350));break}}),gn=o$3(Vt=>{switch(Vt.key){case o$2.Space:Vt.preventDefault();break}}),nn=reactExports.useMemo(()=>({open:_e.menuState===0}),[_e.menuState]),bn=D$3(Pt?Kt():{},{"aria-activedescendant":_e.activeItemIndex===null||(ht=_e.items[_e.activeItemIndex])==null?void 0:ht.id,"aria-labelledby":(vt=_e.buttonRef.current)==null?void 0:vt.id,id:St,onKeyDown:Qt,onKeyUp:gn,role:"menu",tabIndex:_e.menuState===0?0:void 0,ref:Nt,style:{..._t.style,...Xt,"--button-width":f$4(_e.buttonRef,!0).width},...A(Ct)});return React.createElement(te,{enabled:Et?xt.static||jt:!1},H$1({ourProps:bn,theirProps:_t,slot:nn,defaultTag:tt,features:nt,visible:en,name:"Menu.Items"}))}let ot=reactExports.Fragment;function at(xt,$){let ht=reactExports.useId(),{id:vt=`headlessui-menu-item-${ht}`,disabled:At=!1,...St}=xt,[kt,Et]=B("Menu.Item"),Rt=kt.activeItemIndex!==null?kt.items[kt.activeItemIndex].id===vt:!1,wt=reactExports.useRef(null),_t=y$4($,wt);n$3(()=>{if(!kt.__demoMode&&kt.menuState===0&&Rt&&kt.activationTrigger!==0)return o$4().requestAnimationFrame(()=>{var en,dn;(dn=(en=wt.current)==null?void 0:en.scrollIntoView)==null||dn.call(en,{block:"nearest"})})},[kt.__demoMode,wt,Rt,kt.menuState,kt.activationTrigger,kt.activeItemIndex]);let Pt=s(wt),_e=reactExports.useRef({disabled:At,domRef:wt,get textValue(){return Pt()}});n$3(()=>{_e.current.disabled=At},[_e,At]),n$3(()=>(Et({type:5,id:vt,dataRef:_e}),()=>Et({type:6,id:vt})),[_e,vt]);let bt=o$3(()=>{Et({type:1})}),Ft=o$3(en=>{if(At)return en.preventDefault();Et({type:1}),G(kt.buttonRef.current)}),Xt=o$3(()=>{if(At)return Et({type:2,focus:c$1.Nothing});Et({type:2,focus:c$1.Specific,id:vt})}),Kt=u$2(),Nt=o$3(en=>{Kt.update(en),!At&&(Rt||Et({type:2,focus:c$1.Specific,id:vt,trigger:0}))}),$t=o$3(en=>{Kt.wasMoved(en)&&(At||Rt||Et({type:2,focus:c$1.Specific,id:vt,trigger:0}))}),Dt=o$3(en=>{Kt.wasMoved(en)&&(At||Rt&&Et({type:2,focus:c$1.Nothing}))}),[jt,Ct]=z(),[qt,Bt]=U$1(),Gt=reactExports.useMemo(()=>({active:Rt,focus:Rt,disabled:At,close:bt}),[Rt,At,bt]);return React.createElement(Ct,null,React.createElement(Bt,null,H$1({ourProps:{id:vt,ref:_t,role:"menuitem",tabIndex:At===!0?void 0:-1,"aria-disabled":At===!0?!0:void 0,"aria-labelledby":jt,"aria-describedby":qt,disabled:void 0,onClick:Ft,onFocus:Xt,onPointerEnter:Nt,onMouseEnter:Nt,onPointerMove:$t,onMouseMove:$t,onPointerLeave:Dt,onMouseLeave:Dt},theirProps:St,slot:Gt,defaultTag:ot,name:"Menu.Item"})))}let it="div";function st(xt,$){let[ht,vt]=z();return React.createElement(vt,null,H$1({ourProps:{ref:$,"aria-labelledby":ht,role:"group"},theirProps:xt,slot:{},defaultTag:it,name:"Menu.Section"}))}let lt="header";function ut(xt,$){let ht=reactExports.useId(),{id:vt=`headlessui-menu-heading-${ht}`,...At}=xt,St=P$1();n$3(()=>St.register(vt),[vt,St.register]);let kt={id:vt,ref:$,role:"presentation",...St.props};return H$1({ourProps:kt,theirProps:At,slot:{},defaultTag:lt,name:"Menu.Heading"})}let pt="div";function dt(xt,$){return H$1({ourProps:{ref:$,role:"separator"},theirProps:xt,slot:{},defaultTag:pt,name:"Menu.Separator"})}let mt=I$3(Ye),ct=I$3(et),ft=I$3(rt),Tt=I$3(at),yt=I$3(st),gt=I$3(ut),It=I$3(dt),Zt=Object.assign(mt,{Button:ct,Items:ft,Item:Tt,Section:yt,Heading:gt,Separator:It});function ChevronDownIcon({title:xt,titleId:$,...ht},vt){return reactExports.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:vt,"aria-labelledby":$},ht),xt?reactExports.createElement("title",{id:$},xt):null,reactExports.createElement("path",{fillRule:"evenodd",d:"M5.22 8.22a.75.75 0 0 1 1.06 0L10 11.94l3.72-3.72a.75.75 0 1 1 1.06 1.06l-4.25 4.25a.75.75 0 0 1-1.06 0L5.22 9.28a.75.75 0 0 1 0-1.06Z",clipRule:"evenodd"}))}const ForwardRef=reactExports.forwardRef(ChevronDownIcon);function Form(){return jsxRuntimeExports.jsx("div",{className:"relative flex size-full min-h-screen flex-col bg-[#F9FAFA] group/design-root overflow-x-hidden",style:{"--checkbox-tick-svg":"url('data:image/svg+xml,%3csvg viewBox=%270 0 16 16%27 fill=%27rgb(249,250,250)%27 xmlns=%27http://www.w3.org/2000/svg%27%3e%3cpath d=%27M12.207 4.793a1 1 0 010 1.414l-5 5a1 1 0 01-1.414 0l-2-2a1 1 0 011.414-1.414L6.5 9.086l4.293-4.293a1 1 0 011.414 0z%27/%3e%3c/svg%3e')",fontFamily:'"Public Sans", "Noto Sans", sans-serif'},children:jsxRuntimeExports.jsxs("div",{className:"layout-container flex h-full grow flex-col",children:[jsxRuntimeExports.jsxs("header",{className:"flex items-center justify-between whitespace-nowrap border-b border-solid border-b-[#EEEFF2] px-10 py-3",children:[jsxRuntimeExports.jsx("div",{className:"flex items-center gap-4 text-[#1C1D22]",children:jsxRuntimeExports.jsx("h2",{className:"text-[#1C1D22] text-lg font-bold leading-tight tracking-[-0.015em]",children:"Healthcare"})}),jsxRuntimeExports.jsxs("div",{className:"flex flex-1 justify-end gap-8",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-9",children:[jsxRuntimeExports.jsx("a",{className:"text-[#1C1D22] text-sm font-medium leading-normal",href:"#",children:"Dashboard"}),jsxRuntimeExports.jsx("a",{className:"text-[#1C1D22] text-sm font-medium leading-normal",href:"#",children:"Patients"}),jsxRuntimeExports.jsx("a",{className:"text-[#1C1D22] text-sm font-medium leading-normal",href:"#",children:"Appointments"}),jsxRuntimeExports.jsx("a",{className:"text-[#1C1D22] text-sm font-medium leading-normal",href:"#",children:"More"})]}),jsxRuntimeExports.jsxs("div",{className:"flex gap-2",children:[jsxRuntimeExports.jsx("button",{className:"flex max-w-[480px] cursor-pointer items-center justify-center overflow-hidden rounded-xl h-10 bg-[#EEEFF2] text-[#1C1D22] gap-2 text-sm font-bold leading-normal tracking-[0.015em] min-w-0 px-2.5",children:jsxRuntimeExports.jsx("div",{className:"text-[#1C1D22]","data-icon":"MagnifyingGlass","data-size":"20px","data-weight":"regular",children:jsxRuntimeExports.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20px",height:"20px",fill:"currentColor",viewBox:"0 0 256 256",children:jsxRuntimeExports.jsx("path",{d:"M229.66,218.34l-50.07-50.06a88.11,88.11,0,1,0-11.31,11.31l50.06,50.07a8,8,0,0,0,11.32-11.32ZM40,112a72,72,0,1,1,72,72A72.08,72.08,0,0,1,40,112Z"})})})}),jsxRuntimeExports.jsx("button",{className:"flex max-w-[480px] cursor-pointer items-center justify-center overflow-hidden rounded-xl h-10 bg-[#EEEFF2] text-[#1C1D22] gap-2 text-sm font-bold leading-normal tracking-[0.015em] min-w-0 px-2.5",children:jsxRuntimeExports.jsx("div",{className:"text-[#1C1D22]","data-icon":"Bell","data-size":"20px","data-weight":"regular",children:jsxRuntimeExports.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20px",height:"20px",fill:"currentColor",viewBox:"0 0 256 256",children:jsxRuntimeExports.jsx("path",{d:"M221.8,175.94C216.25,166.38,208,139.33,208,104a80,80,0,1,0-160,0c0,35.34-8.26,62.38-13.81,71.94A16,16,0,0,0,48,200H88.81a40,40,0,0,0,78.38,0H208a16,16,0,0,0,13.8-24.06ZM128,216a24,24,0,0,1-22.62-16h45.24A24,24,0,0,1,128,216ZM48,184c7.7-13.24,16-43.92,16-80a64,64,0,1,1,128,0c0,36.05,8.28,66.73,16,80Z"})})})})]}),jsxRuntimeExports.jsx("div",{className:"bg-center bg-no-repeat aspect-square bg-cover rounded-full size-10",style:{backgroundImage:'url("https://cdn.usegalileo.ai/stability/3ff28297-380f-4f51-aac1-1fcac1b0d3bb.png")'}})]})]}),jsxRuntimeExports.jsx("div",{className:"px-40 flex flex-1 justify-center py-5",children:jsxRuntimeExports.jsxs("div",{className:"layout-content-container flex flex-col w-[512px] max-w-[512px] py-5 max-w-[960px] flex-1",children:[jsxRuntimeExports.jsx("h3",{className:"text-[#1C1D22] tracking-light text-2xl font-bold leading-tight px-4 text-left pb-2 pt-5",children:"Add a new patient"}),jsxRuntimeExports.jsx("p",{className:"text-[#1C1D22] text-base font-normal leading-normal pb-3 pt-1 px-4",children:"Enter the details of the patient you'd like to add to your practice"}),jsxRuntimeExports.jsx("div",{className:"flex max-w-[480px] flex-1 flex-wrap items-end gap-4 px-4 py-3",children:jsxRuntimeExports.jsxs("label",{className:"flex flex-col min-w-40 flex-1",children:[jsxRuntimeExports.jsx("p",{className:"text-[#1C1D22] text-base font-medium leading-normal pb-2",children:"First name"}),jsxRuntimeExports.jsx("input",{placeholder:"Type first name",className:"form-input flex w-full min-w-0 flex-1 resize-none overflow-hidden rounded-xl text-[#1C1D22] focus:outline-0 focus:ring-0 border border-[#D5D6DD] bg-[#FFFFFF] focus:border-[#D5D6DD] h-14 placeholder:text-[#3C3F4A] p-[15px] text-base font-normal leading-normal",value:""})]})}),jsxRuntimeExports.jsx("div",{className:"flex max-w-[480px] flex-1 flex-wrap items-end gap-4 px-4 py-3",children:jsxRuntimeExports.jsxs("label",{className:"flex flex-col min-w-40 flex-1",children:[jsxRuntimeExports.jsx("p",{className:"text-[#1C1D22] text-base font-medium leading-normal pb-2",children:"Last name"}),jsxRuntimeExports.jsx("input",{placeholder:"Type last name",className:"form-input flex w-full min-w-0 flex-1 resize-none overflow-hidden rounded-xl text-[#1C1D22] focus:outline-0 focus:ring-0 border border-[#D5D6DD] bg-[#FFFFFF] focus:border-[#D5D6DD] h-14 placeholder:text-[#3C3F4A] p-[15px] text-base font-normal leading-normal",value:""})]})}),jsxRuntimeExports.jsx("div",{className:"flex max-w-[480px] flex-1 flex-wrap items-end gap-4 px-4 py-3",children:jsxRuntimeExports.jsxs("label",{className:"flex flex-col min-w-40 flex-1",children:[jsxRuntimeExports.jsx("p",{className:"text-[#1C1D22] text-base font-medium leading-normal pb-2",children:"Date of birth"}),jsxRuntimeExports.jsx("input",{placeholder:"MM / DD / YYYY",className:"form-input flex w-full min-w-0 flex-1 resize-none overflow-hidden rounded-xl text-[#1C1D22] focus:outline-0 focus:ring-0 border border-[#D5D6DD] bg-[#FFFFFF] focus:border-[#D5D6DD] h-14 placeholder:text-[#3C3F4A] p-[15px] text-base font-normal leading-normal",value:""})]})}),jsxRuntimeExports.jsx("div",{className:"flex max-w-[480px] flex-1 flex-wrap items-end gap-4 px-4 py-3",children:jsxRuntimeExports.jsxs("label",{className:"flex flex-col min-w-40 flex-1",children:[jsxRuntimeExports.jsx("p",{className:"text-[#1C1D22] text-base font-medium leading-normal pb-2",children:"Gender"}),jsxRuntimeExports.jsxs("div",{className:"flex w-full flex-1 items-stretch rounded-xl",children:[jsxRuntimeExports.jsx("input",{placeholder:"Select gender",className:"form-input flex w-full min-w-0 flex-1 resize-none overflow-hidden rounded-xl text-[#1C1D22] focus:outline-0 focus:ring-0 border border-[#D5D6DD] bg-[#FFFFFF] focus:border-[#D5D6DD] h-14 placeholder:text-[#3C3F4A] p-[15px] rounded-r-none border-r-0 pr-2 text-base font-normal leading-normal",value:""}),jsxRuntimeExports.jsx("div",{className:"text-[#3C3F4A] flex border border-[#D5D6DD] bg-[#FFFFFF] items-center justify-center pr-[15px] rounded-r-xl border-l-0","data-icon":"CaretUpDown","data-size":"24px","data-weight":"regular",children:jsxRuntimeExports.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24px",height:"24px",fill:"currentColor",viewBox:"0 0 256 256",children:jsxRuntimeExports.jsx("path",{d:"M181.66,170.34a8,8,0,0,1,0,11.32l-48,48a8,8,0,0,1-11.32,0l-48-48a8,8,0,0,1,11.32-11.32L128,212.69l42.34-42.35A8,8,0,0,1,181.66,170.34Zm-96-84.68L128,43.31l42.34,42.35a8,8,0,0,0,11.32-11.32l-48-48a8,8,0,0,0-11.32,0l-48,48A8,8,0,0,0,85.66,85.66Z"})})})]})]})}),jsxRuntimeExports.jsx("div",{className:"flex max-w-[480px] flex-1 flex-wrap items-end gap-4 px-4 py-3",children:jsxRuntimeExports.jsxs("label",{className:"flex flex-col min-w-40 flex-1",children:[jsxRuntimeExports.jsx("p",{className:"text-[#1C1D22] text-base font-medium leading-normal pb-2",children:"Weight (lbs)"}),jsxRuntimeExports.jsx("input",{placeholder:"Type weight",className:"form-input flex w-full min-w-0 flex-1 resize-none overflow-hidden rounded-xl text-[#1C1D22] focus:outline-0 focus:ring-0 border border-[#D5D6DD] bg-[#FFFFFF] focus:border-[#D5D6DD] h-14 placeholder:text-[#3C3F4A] p-[15px] text-base font-normal leading-normal",value:""})]})}),jsxRuntimeExports.jsx("div",{className:"flex max-w-[480px] flex-1 flex-wrap items-end gap-4 px-4 py-3",children:jsxRuntimeExports.jsxs("label",{className:"flex flex-col min-w-40 flex-1",children:[jsxRuntimeExports.jsx("p",{className:"text-[#1C1D22] text-base font-medium leading-normal pb-2",children:"Phone number"}),jsxRuntimeExports.jsx("input",{placeholder:"(555) 555-5555",className:"form-input flex w-full min-w-0 flex-1 resize-none overflow-hidden rounded-xl text-[#1C1D22] focus:outline-0 focus:ring-0 border border-[#D5D6DD] bg-[#FFFFFF] focus:border-[#D5D6DD] h-14 placeholder:text-[#3C3F4A] p-[15px] text-base font-normal leading-normal",value:""})]})}),jsxRuntimeExports.jsx("div",{className:"px-4",children:jsxRuntimeExports.jsxs("label",{className:"flex gap-x-3 py-3 flex-row",children:[jsxRuntimeExports.jsx("input",{type:"checkbox",className:"h-5 w-5 rounded border-[#D5D6DD] border-2 bg-transparent text-[#607AFB] checked:bg-[#607AFB] checked:border-[#607AFB] focus:ring-0 focus:ring-offset-0 focus:border-[#D5D6DD] focus:outline-none",defaultChecked:!0}),jsxRuntimeExports.jsx("p",{className:"text-[#1C1D22] text-base font-normal leading-normal",children:"Patient has an email address"})]})}),jsxRuntimeExports.jsx("div",{className:"flex px-4 py-3",children:jsxRuntimeExports.jsx("button",{className:"flex min-w-[84px] max-w-[480px] cursor-pointer items-center justify-center overflow-hidden rounded-xl h-12 px-5 flex-1 bg-[#607AFB] text-[#F9FAFA] text-base font-bold leading-normal tracking-[0.015em]",children:jsxRuntimeExports.jsx("span",{className:"truncate",children:"Save patient"})})})]})})]})})}function classNames(...xt){return xt.filter(Boolean).join(" ")}function Dropdown(xt){function $(){xt.setEditPatients(!xt.editPatients),xt.setDeletePatients(!1)}function ht(){xt.setDeletePatients(!xt.deletePatients),xt.setEditPatients(!1)}const vt=useNavigate();return jsxRuntimeExports.jsxs(Zt,{as:"div",className:"relative inline-block text-left",children:[jsxRuntimeExports.jsx("div",{children:jsxRuntimeExports.jsxs(ct,{className:"inline-flex w-full justify-center gap-x-1.5 rounded-md bg-white px-3 py-2 text-sm font-semibold text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 hover:bg-gray-50",children:["Manage patients",jsxRuntimeExports.jsx(ForwardRef,{className:"-mr-1 h-5 w-5 text-gray-400","aria-hidden":"true"})]})}),jsxRuntimeExports.jsx(ft,{transition:!0,className:"absolute right-0 z-10 mt-2 w-56 origin-top-right rounded-md bg-white shadow-lg ring-1 ring-black ring-opacity-5 transition focus:outline-none data-[closed]:scale-95 data-[closed]:transform data-[closed]:opacity-0 data-[enter]:duration-100 data-[leave]:duration-75 data-[enter]:ease-out data-[leave]:ease-in",children:jsxRuntimeExports.jsxs("div",{className:"py-1",children:[jsxRuntimeExports.jsx(Tt,{children:({focus:At})=>jsxRuntimeExports.jsx("a",{onClick:()=>vt("/form"),className:classNames(At?"bg-gray-100 text-gray-900":"text-gray-700","block px-4 py-2 text-sm"),children:"Add Patient"})}),jsxRuntimeExports.jsx(Tt,{children:({focus:At})=>jsxRuntimeExports.jsx("a",{onClick:$,className:classNames(At?"bg-gray-100 text-gray-900":"text-gray-700","block px-4 py-2 text-sm"),children:"Edit Patient"})}),jsxRuntimeExports.jsx(Tt,{children:({focus:At})=>jsxRuntimeExports.jsx("a",{onClick:ht,className:classNames(At?"bg-gray-100 text-gray-900":"text-gray-700","block px-4 py-2 text-sm"),children:"Remove Patient"})})]})})]})}function bind(xt,$){return function(){return xt.apply($,arguments)}}const{toString}=Object.prototype,{getPrototypeOf}=Object,kindOf=(xt=>$=>{const ht=toString.call($);return xt[ht]||(xt[ht]=ht.slice(8,-1).toLowerCase())})(Object.create(null)),kindOfTest=xt=>(xt=xt.toLowerCase(),$=>kindOf($)===xt),typeOfTest=xt=>$=>typeof $===xt,{isArray}=Array,isUndefined=typeOfTest("undefined");function isBuffer(xt){return xt!==null&&!isUndefined(xt)&&xt.constructor!==null&&!isUndefined(xt.constructor)&&isFunction(xt.constructor.isBuffer)&&xt.constructor.isBuffer(xt)}const isArrayBuffer=kindOfTest("ArrayBuffer");function isArrayBufferView(xt){let $;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?$=ArrayBuffer.isView(xt):$=xt&&xt.buffer&&isArrayBuffer(xt.buffer),$}const isString=typeOfTest("string"),isFunction=typeOfTest("function"),isNumber=typeOfTest("number"),isObject=xt=>xt!==null&&typeof xt=="object",isBoolean=xt=>xt===!0||xt===!1,isPlainObject=xt=>{if(kindOf(xt)!=="object")return!1;const $=getPrototypeOf(xt);return($===null||$===Object.prototype||Object.getPrototypeOf($)===null)&&!(Symbol.toStringTag in xt)&&!(Symbol.iterator in xt)},isDate=kindOfTest("Date"),isFile=kindOfTest("File"),isBlob=kindOfTest("Blob"),isFileList=kindOfTest("FileList"),isStream=xt=>isObject(xt)&&isFunction(xt.pipe),isFormData=xt=>{let $;return xt&&(typeof FormData=="function"&&xt instanceof FormData||isFunction(xt.append)&&(($=kindOf(xt))==="formdata"||$==="object"&&isFunction(xt.toString)&&xt.toString()==="[object FormData]"))},isURLSearchParams=kindOfTest("URLSearchParams"),[isReadableStream,isRequest,isResponse,isHeaders]=["ReadableStream","Request","Response","Headers"].map(kindOfTest),trim=xt=>xt.trim?xt.trim():xt.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function forEach(xt,$,{allOwnKeys:ht=!1}={}){if(xt===null||typeof xt>"u")return;let vt,At;if(typeof xt!="object"&&(xt=[xt]),isArray(xt))for(vt=0,At=xt.length;vt<At;vt++)$.call(null,xt[vt],vt,xt);else{const St=ht?Object.getOwnPropertyNames(xt):Object.keys(xt),kt=St.length;let Et;for(vt=0;vt<kt;vt++)Et=St[vt],$.call(null,xt[Et],Et,xt)}}function findKey(xt,$){$=$.toLowerCase();const ht=Object.keys(xt);let vt=ht.length,At;for(;vt-- >0;)if(At=ht[vt],$===At.toLowerCase())return At;return null}const _global=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,isContextDefined=xt=>!isUndefined(xt)&&xt!==_global;function merge(){const{caseless:xt}=isContextDefined(this)&&this||{},$={},ht=(vt,At)=>{const St=xt&&findKey($,At)||At;isPlainObject($[St])&&isPlainObject(vt)?$[St]=merge($[St],vt):isPlainObject(vt)?$[St]=merge({},vt):isArray(vt)?$[St]=vt.slice():$[St]=vt};for(let vt=0,At=arguments.length;vt<At;vt++)arguments[vt]&&forEach(arguments[vt],ht);return $}const extend=(xt,$,ht,{allOwnKeys:vt}={})=>(forEach($,(At,St)=>{ht&&isFunction(At)?xt[St]=bind(At,ht):xt[St]=At},{allOwnKeys:vt}),xt),stripBOM=xt=>(xt.charCodeAt(0)===65279&&(xt=xt.slice(1)),xt),inherits=(xt,$,ht,vt)=>{xt.prototype=Object.create($.prototype,vt),xt.prototype.constructor=xt,Object.defineProperty(xt,"super",{value:$.prototype}),ht&&Object.assign(xt.prototype,ht)},toFlatObject=(xt,$,ht,vt)=>{let At,St,kt;const Et={};if($=$||{},xt==null)return $;do{for(At=Object.getOwnPropertyNames(xt),St=At.length;St-- >0;)kt=At[St],(!vt||vt(kt,xt,$))&&!Et[kt]&&($[kt]=xt[kt],Et[kt]=!0);xt=ht!==!1&&getPrototypeOf(xt)}while(xt&&(!ht||ht(xt,$))&&xt!==Object.prototype);return $},endsWith=(xt,$,ht)=>{xt=String(xt),(ht===void 0||ht>xt.length)&&(ht=xt.length),ht-=$.length;const vt=xt.indexOf($,ht);return vt!==-1&&vt===ht},toArray=xt=>{if(!xt)return null;if(isArray(xt))return xt;let $=xt.length;if(!isNumber($))return null;const ht=new Array($);for(;$-- >0;)ht[$]=xt[$];return ht},isTypedArray=(xt=>$=>xt&&$ instanceof xt)(typeof Uint8Array<"u"&&getPrototypeOf(Uint8Array)),forEachEntry=(xt,$)=>{const vt=(xt&&xt[Symbol.iterator]).call(xt);let At;for(;(At=vt.next())&&!At.done;){const St=At.value;$.call(xt,St[0],St[1])}},matchAll=(xt,$)=>{let ht;const vt=[];for(;(ht=xt.exec($))!==null;)vt.push(ht);return vt},isHTMLForm=kindOfTest("HTMLFormElement"),toCamelCase=xt=>xt.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(ht,vt,At){return vt.toUpperCase()+At}),hasOwnProperty=(({hasOwnProperty:xt})=>($,ht)=>xt.call($,ht))(Object.prototype),isRegExp=kindOfTest("RegExp"),reduceDescriptors=(xt,$)=>{const ht=Object.getOwnPropertyDescriptors(xt),vt={};forEach(ht,(At,St)=>{let kt;(kt=$(At,St,xt))!==!1&&(vt[St]=kt||At)}),Object.defineProperties(xt,vt)},freezeMethods=xt=>{reduceDescriptors(xt,($,ht)=>{if(isFunction(xt)&&["arguments","caller","callee"].indexOf(ht)!==-1)return!1;const vt=xt[ht];if(isFunction(vt)){if($.enumerable=!1,"writable"in $){$.writable=!1;return}$.set||($.set=()=>{throw Error("Can not rewrite read-only method '"+ht+"'")})}})},toObjectSet=(xt,$)=>{const ht={},vt=At=>{At.forEach(St=>{ht[St]=!0})};return isArray(xt)?vt(xt):vt(String(xt).split($)),ht},noop=()=>{},toFiniteNumber=(xt,$)=>xt!=null&&Number.isFinite(xt=+xt)?xt:$,ALPHA="abcdefghijklmnopqrstuvwxyz",DIGIT="0123456789",ALPHABET={DIGIT,ALPHA,ALPHA_DIGIT:ALPHA+ALPHA.toUpperCase()+DIGIT},generateString=(xt=16,$=ALPHABET.ALPHA_DIGIT)=>{let ht="";const{length:vt}=$;for(;xt--;)ht+=$[Math.random()*vt|0];return ht};function isSpecCompliantForm(xt){return!!(xt&&isFunction(xt.append)&&xt[Symbol.toStringTag]==="FormData"&&xt[Symbol.iterator])}const toJSONObject=xt=>{const $=new Array(10),ht=(vt,At)=>{if(isObject(vt)){if($.indexOf(vt)>=0)return;if(!("toJSON"in vt)){$[At]=vt;const St=isArray(vt)?[]:{};return forEach(vt,(kt,Et)=>{const Rt=ht(kt,At+1);!isUndefined(Rt)&&(St[Et]=Rt)}),$[At]=void 0,St}}return vt};return ht(xt,0)},isAsyncFn=kindOfTest("AsyncFunction"),isThenable=xt=>xt&&(isObject(xt)||isFunction(xt))&&isFunction(xt.then)&&isFunction(xt.catch),utils$1={isArray,isArrayBuffer,isBuffer,isFormData,isArrayBufferView,isString,isNumber,isBoolean,isObject,isPlainObject,isReadableStream,isRequest,isResponse,isHeaders,isUndefined,isDate,isFile,isBlob,isRegExp,isFunction,isStream,isURLSearchParams,isTypedArray,isFileList,forEach,merge,extend,trim,stripBOM,inherits,toFlatObject,kindOf,kindOfTest,endsWith,toArray,forEachEntry,matchAll,isHTMLForm,hasOwnProperty,hasOwnProp:hasOwnProperty,reduceDescriptors,freezeMethods,toObjectSet,toCamelCase,noop,toFiniteNumber,findKey,global:_global,isContextDefined,ALPHABET,generateString,isSpecCompliantForm,toJSONObject,isAsyncFn,isThenable};function AxiosError(xt,$,ht,vt,At){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=xt,this.name="AxiosError",$&&(this.code=$),ht&&(this.config=ht),vt&&(this.request=vt),At&&(this.response=At)}utils$1.inherits(AxiosError,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:utils$1.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});const prototype$1=AxiosError.prototype,descriptors={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(xt=>{descriptors[xt]={value:xt}});Object.defineProperties(AxiosError,descriptors);Object.defineProperty(prototype$1,"isAxiosError",{value:!0});AxiosError.from=(xt,$,ht,vt,At,St)=>{const kt=Object.create(prototype$1);return utils$1.toFlatObject(xt,kt,function(Rt){return Rt!==Error.prototype},Et=>Et!=="isAxiosError"),AxiosError.call(kt,xt.message,$,ht,vt,At),kt.cause=xt,kt.name=xt.name,St&&Object.assign(kt,St),kt};const httpAdapter=null;function isVisitable(xt){return utils$1.isPlainObject(xt)||utils$1.isArray(xt)}function removeBrackets(xt){return utils$1.endsWith(xt,"[]")?xt.slice(0,-2):xt}function renderKey(xt,$,ht){return xt?xt.concat($).map(function(At,St){return At=removeBrackets(At),!ht&&St?"["+At+"]":At}).join(ht?".":""):$}function isFlatArray(xt){return utils$1.isArray(xt)&&!xt.some(isVisitable)}const predicates=utils$1.toFlatObject(utils$1,{},null,function($){return/^is[A-Z]/.test($)});function toFormData(xt,$,ht){if(!utils$1.isObject(xt))throw new TypeError("target must be an object");$=$||new FormData,ht=utils$1.toFlatObject(ht,{metaTokens:!0,dots:!1,indexes:!1},!1,function(Xt,Kt){return!utils$1.isUndefined(Kt[Xt])});const vt=ht.metaTokens,At=ht.visitor||_t,St=ht.dots,kt=ht.indexes,Rt=(ht.Blob||typeof Blob<"u"&&Blob)&&utils$1.isSpecCompliantForm($);if(!utils$1.isFunction(At))throw new TypeError("visitor must be a function");function wt(Ft){if(Ft===null)return"";if(utils$1.isDate(Ft))return Ft.toISOString();if(!Rt&&utils$1.isBlob(Ft))throw new AxiosError("Blob is not supported. Use a Buffer instead.");return utils$1.isArrayBuffer(Ft)||utils$1.isTypedArray(Ft)?Rt&&typeof Blob=="function"?new Blob([Ft]):Buffer.from(Ft):Ft}function _t(Ft,Xt,Kt){let Nt=Ft;if(Ft&&!Kt&&typeof Ft=="object"){if(utils$1.endsWith(Xt,"{}"))Xt=vt?Xt:Xt.slice(0,-2),Ft=JSON.stringify(Ft);else if(utils$1.isArray(Ft)&&isFlatArray(Ft)||(utils$1.isFileList(Ft)||utils$1.endsWith(Xt,"[]"))&&(Nt=utils$1.toArray(Ft)))return Xt=removeBrackets(Xt),Nt.forEach(function(Dt,jt){!(utils$1.isUndefined(Dt)||Dt===null)&&$.append(kt===!0?renderKey([Xt],jt,St):kt===null?Xt:Xt+"[]",wt(Dt))}),!1}return isVisitable(Ft)?!0:($.append(renderKey(Kt,Xt,St),wt(Ft)),!1)}const Pt=[],_e=Object.assign(predicates,{defaultVisitor:_t,convertValue:wt,isVisitable});function bt(Ft,Xt){if(!utils$1.isUndefined(Ft)){if(Pt.indexOf(Ft)!==-1)throw Error("Circular reference detected in "+Xt.join("."));Pt.push(Ft),utils$1.forEach(Ft,function(Nt,$t){(!(utils$1.isUndefined(Nt)||Nt===null)&&At.call($,Nt,utils$1.isString($t)?$t.trim():$t,Xt,_e))===!0&&bt(Nt,Xt?Xt.concat($t):[$t])}),Pt.pop()}}if(!utils$1.isObject(xt))throw new TypeError("data must be an object");return bt(xt),$}function encode$1(xt){const $={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(xt).replace(/[!'()~]|%20|%00/g,function(vt){return $[vt]})}function AxiosURLSearchParams(xt,$){this._pairs=[],xt&&toFormData(xt,this,$)}const prototype=AxiosURLSearchParams.prototype;prototype.append=function($,ht){this._pairs.push([$,ht])};prototype.toString=function($){const ht=$?function(vt){return $.call(this,vt,encode$1)}:encode$1;return this._pairs.map(function(At){return ht(At[0])+"="+ht(At[1])},"").join("&")};function encode(xt){return encodeURIComponent(xt).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function buildURL(xt,$,ht){if(!$)return xt;const vt=ht&&ht.encode||encode,At=ht&&ht.serialize;let St;if(At?St=At($,ht):St=utils$1.isURLSearchParams($)?$.toString():new AxiosURLSearchParams($,ht).toString(vt),St){const kt=xt.indexOf("#");kt!==-1&&(xt=xt.slice(0,kt)),xt+=(xt.indexOf("?")===-1?"?":"&")+St}return xt}class InterceptorManager{constructor(){this.handlers=[]}use($,ht,vt){return this.handlers.push({fulfilled:$,rejected:ht,synchronous:vt?vt.synchronous:!1,runWhen:vt?vt.runWhen:null}),this.handlers.length-1}eject($){this.handlers[$]&&(this.handlers[$]=null)}clear(){this.handlers&&(this.handlers=[])}forEach($){utils$1.forEach(this.handlers,function(vt){vt!==null&&$(vt)})}}const transitionalDefaults={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},URLSearchParams$1=typeof URLSearchParams<"u"?URLSearchParams:AxiosURLSearchParams,FormData$1=typeof FormData<"u"?FormData:null,Blob$1=typeof Blob<"u"?Blob:null,platform$1={isBrowser:!0,classes:{URLSearchParams:URLSearchParams$1,FormData:FormData$1,Blob:Blob$1},protocols:["http","https","file","blob","url","data"]},hasBrowserEnv=typeof window<"u"&&typeof document<"u",hasStandardBrowserEnv=(xt=>hasBrowserEnv&&["ReactNative","NativeScript","NS"].indexOf(xt)<0)(typeof navigator<"u"&&navigator.product),hasStandardBrowserWebWorkerEnv=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",origin=hasBrowserEnv&&window.location.href||"http://localhost",utils=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv,hasStandardBrowserEnv,hasStandardBrowserWebWorkerEnv,origin},Symbol.toStringTag,{value:"Module"})),platform={...utils,...platform$1};function toURLEncodedForm(xt,$){return toFormData(xt,new platform.classes.URLSearchParams,Object.assign({visitor:function(ht,vt,At,St){return platform.isNode&&utils$1.isBuffer(ht)?(this.append(vt,ht.toString("base64")),!1):St.defaultVisitor.apply(this,arguments)}},$))}function parsePropPath(xt){return utils$1.matchAll(/\w+|\[(\w*)]/g,xt).map($=>$[0]==="[]"?"":$[1]||$[0])}function arrayToObject(xt){const $={},ht=Object.keys(xt);let vt;const At=ht.length;let St;for(vt=0;vt<At;vt++)St=ht[vt],$[St]=xt[St];return $}function formDataToJSON(xt){function $(ht,vt,At,St){let kt=ht[St++];if(kt==="__proto__")return!0;const Et=Number.isFinite(+kt),Rt=St>=ht.length;return kt=!kt&&utils$1.isArray(At)?At.length:kt,Rt?(utils$1.hasOwnProp(At,kt)?At[kt]=[At[kt],vt]:At[kt]=vt,!Et):((!At[kt]||!utils$1.isObject(At[kt]))&&(At[kt]=[]),$(ht,vt,At[kt],St)&&utils$1.isArray(At[kt])&&(At[kt]=arrayToObject(At[kt])),!Et)}if(utils$1.isFormData(xt)&&utils$1.isFunction(xt.entries)){const ht={};return utils$1.forEachEntry(xt,(vt,At)=>{$(parsePropPath(vt),At,ht,0)}),ht}return null}function stringifySafely(xt,$,ht){if(utils$1.isString(xt))try{return($||JSON.parse)(xt),utils$1.trim(xt)}catch(vt){if(vt.name!=="SyntaxError")throw vt}return(ht||JSON.stringify)(xt)}const defaults={transitional:transitionalDefaults,adapter:["xhr","http","fetch"],transformRequest:[function($,ht){const vt=ht.getContentType()||"",At=vt.indexOf("application/json")>-1,St=utils$1.isObject($);if(St&&utils$1.isHTMLForm($)&&($=new FormData($)),utils$1.isFormData($))return At?JSON.stringify(formDataToJSON($)):$;if(utils$1.isArrayBuffer($)||utils$1.isBuffer($)||utils$1.isStream($)||utils$1.isFile($)||utils$1.isBlob($)||utils$1.isReadableStream($))return $;if(utils$1.isArrayBufferView($))return $.buffer;if(utils$1.isURLSearchParams($))return ht.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),$.toString();let Et;if(St){if(vt.indexOf("application/x-www-form-urlencoded")>-1)return toURLEncodedForm($,this.formSerializer).toString();if((Et=utils$1.isFileList($))||vt.indexOf("multipart/form-data")>-1){const Rt=this.env&&this.env.FormData;return toFormData(Et?{"files[]":$}:$,Rt&&new Rt,this.formSerializer)}}return St||At?(ht.setContentType("application/json",!1),stringifySafely($)):$}],transformResponse:[function($){const ht=this.transitional||defaults.transitional,vt=ht&&ht.forcedJSONParsing,At=this.responseType==="json";if(utils$1.isResponse($)||utils$1.isReadableStream($))return $;if($&&utils$1.isString($)&&(vt&&!this.responseType||At)){const kt=!(ht&&ht.silentJSONParsing)&&At;try{return JSON.parse($)}catch(Et){if(kt)throw Et.name==="SyntaxError"?AxiosError.from(Et,AxiosError.ERR_BAD_RESPONSE,this,null,this.response):Et}}return $}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:platform.classes.FormData,Blob:platform.classes.Blob},validateStatus:function($){return $>=200&&$<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};utils$1.forEach(["delete","get","head","post","put","patch"],xt=>{defaults.headers[xt]={}});const ignoreDuplicateOf=utils$1.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),parseHeaders=xt=>{const $={};let ht,vt,At;return xt&&xt.split(`
`).forEach(function(kt){At=kt.indexOf(":"),ht=kt.substring(0,At).trim().toLowerCase(),vt=kt.substring(At+1).trim(),!(!ht||$[ht]&&ignoreDuplicateOf[ht])&&(ht==="set-cookie"?$[ht]?$[ht].push(vt):$[ht]=[vt]:$[ht]=$[ht]?$[ht]+", "+vt:vt)}),$},$internals=Symbol("internals");function normalizeHeader(xt){return xt&&String(xt).trim().toLowerCase()}function normalizeValue(xt){return xt===!1||xt==null?xt:utils$1.isArray(xt)?xt.map(normalizeValue):String(xt)}function parseTokens(xt){const $=Object.create(null),ht=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let vt;for(;vt=ht.exec(xt);)$[vt[1]]=vt[2];return $}const isValidHeaderName=xt=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(xt.trim());function matchHeaderValue(xt,$,ht,vt,At){if(utils$1.isFunction(vt))return vt.call(this,$,ht);if(At&&($=ht),!!utils$1.isString($)){if(utils$1.isString(vt))return $.indexOf(vt)!==-1;if(utils$1.isRegExp(vt))return vt.test($)}}function formatHeader(xt){return xt.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,($,ht,vt)=>ht.toUpperCase()+vt)}function buildAccessors(xt,$){const ht=utils$1.toCamelCase(" "+$);["get","set","has"].forEach(vt=>{Object.defineProperty(xt,vt+ht,{value:function(At,St,kt){return this[vt].call(this,$,At,St,kt)},configurable:!0})})}class AxiosHeaders{constructor($){$&&this.set($)}set($,ht,vt){const At=this;function St(Et,Rt,wt){const _t=normalizeHeader(Rt);if(!_t)throw new Error("header name must be a non-empty string");const Pt=utils$1.findKey(At,_t);(!Pt||At[Pt]===void 0||wt===!0||wt===void 0&&At[Pt]!==!1)&&(At[Pt||Rt]=normalizeValue(Et))}const kt=(Et,Rt)=>utils$1.forEach(Et,(wt,_t)=>St(wt,_t,Rt));if(utils$1.isPlainObject($)||$ instanceof this.constructor)kt($,ht);else if(utils$1.isString($)&&($=$.trim())&&!isValidHeaderName($))kt(parseHeaders($),ht);else if(utils$1.isHeaders($))for(const[Et,Rt]of $.entries())St(Rt,Et,vt);else $!=null&&St(ht,$,vt);return this}get($,ht){if($=normalizeHeader($),$){const vt=utils$1.findKey(this,$);if(vt){const At=this[vt];if(!ht)return At;if(ht===!0)return parseTokens(At);if(utils$1.isFunction(ht))return ht.call(this,At,vt);if(utils$1.isRegExp(ht))return ht.exec(At);throw new TypeError("parser must be boolean|regexp|function")}}}has($,ht){if($=normalizeHeader($),$){const vt=utils$1.findKey(this,$);return!!(vt&&this[vt]!==void 0&&(!ht||matchHeaderValue(this,this[vt],vt,ht)))}return!1}delete($,ht){const vt=this;let At=!1;function St(kt){if(kt=normalizeHeader(kt),kt){const Et=utils$1.findKey(vt,kt);Et&&(!ht||matchHeaderValue(vt,vt[Et],Et,ht))&&(delete vt[Et],At=!0)}}return utils$1.isArray($)?$.forEach(St):St($),At}clear($){const ht=Object.keys(this);let vt=ht.length,At=!1;for(;vt--;){const St=ht[vt];(!$||matchHeaderValue(this,this[St],St,$,!0))&&(delete this[St],At=!0)}return At}normalize($){const ht=this,vt={};return utils$1.forEach(this,(At,St)=>{const kt=utils$1.findKey(vt,St);if(kt){ht[kt]=normalizeValue(At),delete ht[St];return}const Et=$?formatHeader(St):String(St).trim();Et!==St&&delete ht[St],ht[Et]=normalizeValue(At),vt[Et]=!0}),this}concat(...$){return this.constructor.concat(this,...$)}toJSON($){const ht=Object.create(null);return utils$1.forEach(this,(vt,At)=>{vt!=null&&vt!==!1&&(ht[At]=$&&utils$1.isArray(vt)?vt.join(", "):vt)}),ht}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([$,ht])=>$+": "+ht).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from($){return $ instanceof this?$:new this($)}static concat($,...ht){const vt=new this($);return ht.forEach(At=>vt.set(At)),vt}static accessor($){const vt=(this[$internals]=this[$internals]={accessors:{}}).accessors,At=this.prototype;function St(kt){const Et=normalizeHeader(kt);vt[Et]||(buildAccessors(At,kt),vt[Et]=!0)}return utils$1.isArray($)?$.forEach(St):St($),this}}AxiosHeaders.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);utils$1.reduceDescriptors(AxiosHeaders.prototype,({value:xt},$)=>{let ht=$[0].toUpperCase()+$.slice(1);return{get:()=>xt,set(vt){this[ht]=vt}}});utils$1.freezeMethods(AxiosHeaders);function transformData(xt,$){const ht=this||defaults,vt=$||ht,At=AxiosHeaders.from(vt.headers);let St=vt.data;return utils$1.forEach(xt,function(Et){St=Et.call(ht,St,At.normalize(),$?$.status:void 0)}),At.normalize(),St}function isCancel(xt){return!!(xt&&xt.__CANCEL__)}function CanceledError(xt,$,ht){AxiosError.call(this,xt??"canceled",AxiosError.ERR_CANCELED,$,ht),this.name="CanceledError"}utils$1.inherits(CanceledError,AxiosError,{__CANCEL__:!0});function settle(xt,$,ht){const vt=ht.config.validateStatus;!ht.status||!vt||vt(ht.status)?xt(ht):$(new AxiosError("Request failed with status code "+ht.status,[AxiosError.ERR_BAD_REQUEST,AxiosError.ERR_BAD_RESPONSE][Math.floor(ht.status/100)-4],ht.config,ht.request,ht))}function parseProtocol(xt){const $=/^([-+\w]{1,25})(:?\/\/|:)/.exec(xt);return $&&$[1]||""}function speedometer(xt,$){xt=xt||10;const ht=new Array(xt),vt=new Array(xt);let At=0,St=0,kt;return $=$!==void 0?$:1e3,function(Rt){const wt=Date.now(),_t=vt[St];kt||(kt=wt),ht[At]=Rt,vt[At]=wt;let Pt=St,_e=0;for(;Pt!==At;)_e+=ht[Pt++],Pt=Pt%xt;if(At=(At+1)%xt,At===St&&(St=(St+1)%xt),wt-kt<$)return;const bt=_t&&wt-_t;return bt?Math.round(_e*1e3/bt):void 0}}function throttle(xt,$){let ht=0;const vt=1e3/$;let At=null;return function(){const kt=this===!0,Et=Date.now();if(kt||Et-ht>vt)return At&&(clearTimeout(At),At=null),ht=Et,xt.apply(null,arguments);At||(At=setTimeout(()=>(At=null,ht=Date.now(),xt.apply(null,arguments)),vt-(Et-ht)))}}const progressEventReducer=(xt,$,ht=3)=>{let vt=0;const At=speedometer(50,250);return throttle(St=>{const kt=St.loaded,Et=St.lengthComputable?St.total:void 0,Rt=kt-vt,wt=At(Rt),_t=kt<=Et;vt=kt;const Pt={loaded:kt,total:Et,progress:Et?kt/Et:void 0,bytes:Rt,rate:wt||void 0,estimated:wt&&Et&&_t?(Et-kt)/wt:void 0,event:St,lengthComputable:Et!=null};Pt[$?"download":"upload"]=!0,xt(Pt)},ht)},isURLSameOrigin=platform.hasStandardBrowserEnv?function(){const $=/(msie|trident)/i.test(navigator.userAgent),ht=document.createElement("a");let vt;function At(St){let kt=St;return $&&(ht.setAttribute("href",kt),kt=ht.href),ht.setAttribute("href",kt),{href:ht.href,protocol:ht.protocol?ht.protocol.replace(/:$/,""):"",host:ht.host,search:ht.search?ht.search.replace(/^\?/,""):"",hash:ht.hash?ht.hash.replace(/^#/,""):"",hostname:ht.hostname,port:ht.port,pathname:ht.pathname.charAt(0)==="/"?ht.pathname:"/"+ht.pathname}}return vt=At(window.location.href),function(kt){const Et=utils$1.isString(kt)?At(kt):kt;return Et.protocol===vt.protocol&&Et.host===vt.host}}():function(){return function(){return!0}}(),cookies=platform.hasStandardBrowserEnv?{write(xt,$,ht,vt,At,St){const kt=[xt+"="+encodeURIComponent($)];utils$1.isNumber(ht)&&kt.push("expires="+new Date(ht).toGMTString()),utils$1.isString(vt)&&kt.push("path="+vt),utils$1.isString(At)&&kt.push("domain="+At),St===!0&&kt.push("secure"),document.cookie=kt.join("; ")},read(xt){const $=document.cookie.match(new RegExp("(^|;\\s*)("+xt+")=([^;]*)"));return $?decodeURIComponent($[3]):null},remove(xt){this.write(xt,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function isAbsoluteURL(xt){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(xt)}function combineURLs(xt,$){return $?xt.replace(/\/?\/$/,"")+"/"+$.replace(/^\/+/,""):xt}function buildFullPath(xt,$){return xt&&!isAbsoluteURL($)?combineURLs(xt,$):$}const headersToObject=xt=>xt instanceof AxiosHeaders?{...xt}:xt;function mergeConfig(xt,$){$=$||{};const ht={};function vt(wt,_t,Pt){return utils$1.isPlainObject(wt)&&utils$1.isPlainObject(_t)?utils$1.merge.call({caseless:Pt},wt,_t):utils$1.isPlainObject(_t)?utils$1.merge({},_t):utils$1.isArray(_t)?_t.slice():_t}function At(wt,_t,Pt){if(utils$1.isUndefined(_t)){if(!utils$1.isUndefined(wt))return vt(void 0,wt,Pt)}else return vt(wt,_t,Pt)}function St(wt,_t){if(!utils$1.isUndefined(_t))return vt(void 0,_t)}function kt(wt,_t){if(utils$1.isUndefined(_t)){if(!utils$1.isUndefined(wt))return vt(void 0,wt)}else return vt(void 0,_t)}function Et(wt,_t,Pt){if(Pt in $)return vt(wt,_t);if(Pt in xt)return vt(void 0,wt)}const Rt={url:St,method:St,data:St,baseURL:kt,transformRequest:kt,transformResponse:kt,paramsSerializer:kt,timeout:kt,timeoutMessage:kt,withCredentials:kt,withXSRFToken:kt,adapter:kt,responseType:kt,xsrfCookieName:kt,xsrfHeaderName:kt,onUploadProgress:kt,onDownloadProgress:kt,decompress:kt,maxContentLength:kt,maxBodyLength:kt,beforeRedirect:kt,transport:kt,httpAgent:kt,httpsAgent:kt,cancelToken:kt,socketPath:kt,responseEncoding:kt,validateStatus:Et,headers:(wt,_t)=>At(headersToObject(wt),headersToObject(_t),!0)};return utils$1.forEach(Object.keys(Object.assign({},xt,$)),function(_t){const Pt=Rt[_t]||At,_e=Pt(xt[_t],$[_t],_t);utils$1.isUndefined(_e)&&Pt!==Et||(ht[_t]=_e)}),ht}const resolveConfig=xt=>{const $=mergeConfig({},xt);let{data:ht,withXSRFToken:vt,xsrfHeaderName:At,xsrfCookieName:St,headers:kt,auth:Et}=$;$.headers=kt=AxiosHeaders.from(kt),$.url=buildURL(buildFullPath($.baseURL,$.url),xt.params,xt.paramsSerializer),Et&&kt.set("Authorization","Basic "+btoa((Et.username||"")+":"+(Et.password?unescape(encodeURIComponent(Et.password)):"")));let Rt;if(utils$1.isFormData(ht)){if(platform.hasStandardBrowserEnv||platform.hasStandardBrowserWebWorkerEnv)kt.setContentType(void 0);else if((Rt=kt.getContentType())!==!1){const[wt,..._t]=Rt?Rt.split(";").map(Pt=>Pt.trim()).filter(Boolean):[];kt.setContentType([wt||"multipart/form-data",..._t].join("; "))}}if(platform.hasStandardBrowserEnv&&(vt&&utils$1.isFunction(vt)&&(vt=vt($)),vt||vt!==!1&&isURLSameOrigin($.url))){const wt=At&&St&&cookies.read(St);wt&&kt.set(At,wt)}return $},isXHRAdapterSupported=typeof XMLHttpRequest<"u",xhrAdapter=isXHRAdapterSupported&&function(xt){return new Promise(function(ht,vt){const At=resolveConfig(xt);let St=At.data;const kt=AxiosHeaders.from(At.headers).normalize();let{responseType:Et}=At,Rt;function wt(){At.cancelToken&&At.cancelToken.unsubscribe(Rt),At.signal&&At.signal.removeEventListener("abort",Rt)}let _t=new XMLHttpRequest;_t.open(At.method.toUpperCase(),At.url,!0),_t.timeout=At.timeout;function Pt(){if(!_t)return;const bt=AxiosHeaders.from("getAllResponseHeaders"in _t&&_t.getAllResponseHeaders()),Xt={data:!Et||Et==="text"||Et==="json"?_t.responseText:_t.response,status:_t.status,statusText:_t.statusText,headers:bt,config:xt,request:_t};settle(function(Nt){ht(Nt),wt()},function(Nt){vt(Nt),wt()},Xt),_t=null}"onloadend"in _t?_t.onloadend=Pt:_t.onreadystatechange=function(){!_t||_t.readyState!==4||_t.status===0&&!(_t.responseURL&&_t.responseURL.indexOf("file:")===0)||setTimeout(Pt)},_t.onabort=function(){_t&&(vt(new AxiosError("Request aborted",AxiosError.ECONNABORTED,At,_t)),_t=null)},_t.onerror=function(){vt(new AxiosError("Network Error",AxiosError.ERR_NETWORK,At,_t)),_t=null},_t.ontimeout=function(){let Ft=At.timeout?"timeout of "+At.timeout+"ms exceeded":"timeout exceeded";const Xt=At.transitional||transitionalDefaults;At.timeoutErrorMessage&&(Ft=At.timeoutErrorMessage),vt(new AxiosError(Ft,Xt.clarifyTimeoutError?AxiosError.ETIMEDOUT:AxiosError.ECONNABORTED,At,_t)),_t=null},St===void 0&&kt.setContentType(null),"setRequestHeader"in _t&&utils$1.forEach(kt.toJSON(),function(Ft,Xt){_t.setRequestHeader(Xt,Ft)}),utils$1.isUndefined(At.withCredentials)||(_t.withCredentials=!!At.withCredentials),Et&&Et!=="json"&&(_t.responseType=At.responseType),typeof At.onDownloadProgress=="function"&&_t.addEventListener("progress",progressEventReducer(At.onDownloadProgress,!0)),typeof At.onUploadProgress=="function"&&_t.upload&&_t.upload.addEventListener("progress",progressEventReducer(At.onUploadProgress)),(At.cancelToken||At.signal)&&(Rt=bt=>{_t&&(vt(!bt||bt.type?new CanceledError(null,xt,_t):bt),_t.abort(),_t=null)},At.cancelToken&&At.cancelToken.subscribe(Rt),At.signal&&(At.signal.aborted?Rt():At.signal.addEventListener("abort",Rt)));const _e=parseProtocol(At.url);if(_e&&platform.protocols.indexOf(_e)===-1){vt(new AxiosError("Unsupported protocol "+_e+":",AxiosError.ERR_BAD_REQUEST,xt));return}_t.send(St||null)})},composeSignals=(xt,$)=>{let ht=new AbortController,vt;const At=function(Rt){if(!vt){vt=!0,kt();const wt=Rt instanceof Error?Rt:this.reason;ht.abort(wt instanceof AxiosError?wt:new CanceledError(wt instanceof Error?wt.message:wt))}};let St=$&&setTimeout(()=>{At(new AxiosError(`timeout ${$} of ms exceeded`,AxiosError.ETIMEDOUT))},$);const kt=()=>{xt&&(St&&clearTimeout(St),St=null,xt.forEach(Rt=>{Rt&&(Rt.removeEventListener?Rt.removeEventListener("abort",At):Rt.unsubscribe(At))}),xt=null)};xt.forEach(Rt=>Rt&&Rt.addEventListener&&Rt.addEventListener("abort",At));const{signal:Et}=ht;return Et.unsubscribe=kt,[Et,()=>{St&&clearTimeout(St),St=null}]},streamChunk=function*(xt,$){let ht=xt.byteLength;if(!$||ht<$){yield xt;return}let vt=0,At;for(;vt<ht;)At=vt+$,yield xt.slice(vt,At),vt=At},readBytes=async function*(xt,$,ht){for await(const vt of xt)yield*streamChunk(ArrayBuffer.isView(vt)?vt:await ht(String(vt)),$)},trackStream=(xt,$,ht,vt,At)=>{const St=readBytes(xt,$,At);let kt=0;return new ReadableStream({type:"bytes",async pull(Et){const{done:Rt,value:wt}=await St.next();if(Rt){Et.close(),vt();return}let _t=wt.byteLength;ht&&ht(kt+=_t),Et.enqueue(new Uint8Array(wt))},cancel(Et){return vt(Et),St.return()}},{highWaterMark:2})},fetchProgressDecorator=(xt,$)=>{const ht=xt!=null;return vt=>setTimeout(()=>$({lengthComputable:ht,total:xt,loaded:vt}))},isFetchSupported=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",isReadableStreamSupported=isFetchSupported&&typeof ReadableStream=="function",encodeText=isFetchSupported&&(typeof TextEncoder=="function"?(xt=>$=>xt.encode($))(new TextEncoder):async xt=>new Uint8Array(await new Response(xt).arrayBuffer())),supportsRequestStream=isReadableStreamSupported&&(()=>{let xt=!1;const $=new Request(platform.origin,{body:new ReadableStream,method:"POST",get duplex(){return xt=!0,"half"}}).headers.has("Content-Type");return xt&&!$})(),DEFAULT_CHUNK_SIZE=64*1024,supportsResponseStream=isReadableStreamSupported&&!!(()=>{try{return utils$1.isReadableStream(new Response("").body)}catch{}})(),resolvers={stream:supportsResponseStream&&(xt=>xt.body)};isFetchSupported&&(xt=>{["text","arrayBuffer","blob","formData","stream"].forEach($=>{!resolvers[$]&&(resolvers[$]=utils$1.isFunction(xt[$])?ht=>ht[$]():(ht,vt)=>{throw new AxiosError(`Response type '${$}' is not supported`,AxiosError.ERR_NOT_SUPPORT,vt)})})})(new Response);const getBodyLength=async xt=>{if(xt==null)return 0;if(utils$1.isBlob(xt))return xt.size;if(utils$1.isSpecCompliantForm(xt))return(await new Request(xt).arrayBuffer()).byteLength;if(utils$1.isArrayBufferView(xt))return xt.byteLength;if(utils$1.isURLSearchParams(xt)&&(xt=xt+""),utils$1.isString(xt))return(await encodeText(xt)).byteLength},resolveBodyLength=async(xt,$)=>{const ht=utils$1.toFiniteNumber(xt.getContentLength());return ht??getBodyLength($)},fetchAdapter=isFetchSupported&&(async xt=>{let{url:$,method:ht,data:vt,signal:At,cancelToken:St,timeout:kt,onDownloadProgress:Et,onUploadProgress:Rt,responseType:wt,headers:_t,withCredentials:Pt="same-origin",fetchOptions:_e}=resolveConfig(xt);wt=wt?(wt+"").toLowerCase():"text";let[bt,Ft]=At||St||kt?composeSignals([At,St],kt):[],Xt,Kt;const Nt=()=>{!Xt&&setTimeout(()=>{bt&&bt.unsubscribe()}),Xt=!0};let $t;try{if(Rt&&supportsRequestStream&&ht!=="get"&&ht!=="head"&&($t=await resolveBodyLength(_t,vt))!==0){let qt=new Request($,{method:"POST",body:vt,duplex:"half"}),Bt;utils$1.isFormData(vt)&&(Bt=qt.headers.get("content-type"))&&_t.setContentType(Bt),qt.body&&(vt=trackStream(qt.body,DEFAULT_CHUNK_SIZE,fetchProgressDecorator($t,progressEventReducer(Rt)),null,encodeText))}utils$1.isString(Pt)||(Pt=Pt?"cors":"omit"),Kt=new Request($,{..._e,signal:bt,method:ht.toUpperCase(),headers:_t.normalize().toJSON(),body:vt,duplex:"half",withCredentials:Pt});let Dt=await fetch(Kt);const jt=supportsResponseStream&&(wt==="stream"||wt==="response");if(supportsResponseStream&&(Et||jt)){const qt={};["status","statusText","headers"].forEach(Gt=>{qt[Gt]=Dt[Gt]});const Bt=utils$1.toFiniteNumber(Dt.headers.get("content-length"));Dt=new Response(trackStream(Dt.body,DEFAULT_CHUNK_SIZE,Et&&fetchProgressDecorator(Bt,progressEventReducer(Et,!0)),jt&&Nt,encodeText),qt)}wt=wt||"text";let Ct=await resolvers[utils$1.findKey(resolvers,wt)||"text"](Dt,xt);return!jt&&Nt(),Ft&&Ft(),await new Promise((qt,Bt)=>{settle(qt,Bt,{data:Ct,headers:AxiosHeaders.from(Dt.headers),status:Dt.status,statusText:Dt.statusText,config:xt,request:Kt})})}catch(Dt){throw Nt(),Dt&&Dt.name==="TypeError"&&/fetch/i.test(Dt.message)?Object.assign(new AxiosError("Network Error",AxiosError.ERR_NETWORK,xt,Kt),{cause:Dt.cause||Dt}):AxiosError.from(Dt,Dt&&Dt.code,xt,Kt)}}),knownAdapters={http:httpAdapter,xhr:xhrAdapter,fetch:fetchAdapter};utils$1.forEach(knownAdapters,(xt,$)=>{if(xt){try{Object.defineProperty(xt,"name",{value:$})}catch{}Object.defineProperty(xt,"adapterName",{value:$})}});const renderReason=xt=>`- ${xt}`,isResolvedHandle=xt=>utils$1.isFunction(xt)||xt===null||xt===!1,adapters={getAdapter:xt=>{xt=utils$1.isArray(xt)?xt:[xt];const{length:$}=xt;let ht,vt;const At={};for(let St=0;St<$;St++){ht=xt[St];let kt;if(vt=ht,!isResolvedHandle(ht)&&(vt=knownAdapters[(kt=String(ht)).toLowerCase()],vt===void 0))throw new AxiosError(`Unknown adapter '${kt}'`);if(vt)break;At[kt||"#"+St]=vt}if(!vt){const St=Object.entries(At).map(([Et,Rt])=>`adapter ${Et} `+(Rt===!1?"is not supported by the environment":"is not available in the build"));let kt=$?St.length>1?`since :
`+St.map(renderReason).join(`
`):" "+renderReason(St[0]):"as no adapter specified";throw new AxiosError("There is no suitable adapter to dispatch the request "+kt,"ERR_NOT_SUPPORT")}return vt},adapters:knownAdapters};function throwIfCancellationRequested(xt){if(xt.cancelToken&&xt.cancelToken.throwIfRequested(),xt.signal&&xt.signal.aborted)throw new CanceledError(null,xt)}function dispatchRequest(xt){return throwIfCancellationRequested(xt),xt.headers=AxiosHeaders.from(xt.headers),xt.data=transformData.call(xt,xt.transformRequest),["post","put","patch"].indexOf(xt.method)!==-1&&xt.headers.setContentType("application/x-www-form-urlencoded",!1),adapters.getAdapter(xt.adapter||defaults.adapter)(xt).then(function(vt){return throwIfCancellationRequested(xt),vt.data=transformData.call(xt,xt.transformResponse,vt),vt.headers=AxiosHeaders.from(vt.headers),vt},function(vt){return isCancel(vt)||(throwIfCancellationRequested(xt),vt&&vt.response&&(vt.response.data=transformData.call(xt,xt.transformResponse,vt.response),vt.response.headers=AxiosHeaders.from(vt.response.headers))),Promise.reject(vt)})}const VERSION="1.7.2",validators$1={};["object","boolean","number","function","string","symbol"].forEach((xt,$)=>{validators$1[xt]=function(vt){return typeof vt===xt||"a"+($<1?"n ":" ")+xt}});const deprecatedWarnings={};validators$1.transitional=function($,ht,vt){function At(St,kt){return"[Axios v"+VERSION+"] Transitional option '"+St+"'"+kt+(vt?". "+vt:"")}return(St,kt,Et)=>{if($===!1)throw new AxiosError(At(kt," has been removed"+(ht?" in "+ht:"")),AxiosError.ERR_DEPRECATED);return ht&&!deprecatedWarnings[kt]&&(deprecatedWarnings[kt]=!0,console.warn(At(kt," has been deprecated since v"+ht+" and will be removed in the near future"))),$?$(St,kt,Et):!0}};function assertOptions(xt,$,ht){if(typeof xt!="object")throw new AxiosError("options must be an object",AxiosError.ERR_BAD_OPTION_VALUE);const vt=Object.keys(xt);let At=vt.length;for(;At-- >0;){const St=vt[At],kt=$[St];if(kt){const Et=xt[St],Rt=Et===void 0||kt(Et,St,xt);if(Rt!==!0)throw new AxiosError("option "+St+" must be "+Rt,AxiosError.ERR_BAD_OPTION_VALUE);continue}if(ht!==!0)throw new AxiosError("Unknown option "+St,AxiosError.ERR_BAD_OPTION)}}const validator={assertOptions,validators:validators$1},validators=validator.validators;class Axios{constructor($){this.defaults=$,this.interceptors={request:new InterceptorManager,response:new InterceptorManager}}async request($,ht){try{return await this._request($,ht)}catch(vt){if(vt instanceof Error){let At;Error.captureStackTrace?Error.captureStackTrace(At={}):At=new Error;const St=At.stack?At.stack.replace(/^.+\n/,""):"";try{vt.stack?St&&!String(vt.stack).endsWith(St.replace(/^.+\n.+\n/,""))&&(vt.stack+=`
`+St):vt.stack=St}catch{}}throw vt}}_request($,ht){typeof $=="string"?(ht=ht||{},ht.url=$):ht=$||{},ht=mergeConfig(this.defaults,ht);const{transitional:vt,paramsSerializer:At,headers:St}=ht;vt!==void 0&&validator.assertOptions(vt,{silentJSONParsing:validators.transitional(validators.boolean),forcedJSONParsing:validators.transitional(validators.boolean),clarifyTimeoutError:validators.transitional(validators.boolean)},!1),At!=null&&(utils$1.isFunction(At)?ht.paramsSerializer={serialize:At}:validator.assertOptions(At,{encode:validators.function,serialize:validators.function},!0)),ht.method=(ht.method||this.defaults.method||"get").toLowerCase();let kt=St&&utils$1.merge(St.common,St[ht.method]);St&&utils$1.forEach(["delete","get","head","post","put","patch","common"],Ft=>{delete St[Ft]}),ht.headers=AxiosHeaders.concat(kt,St);const Et=[];let Rt=!0;this.interceptors.request.forEach(function(Xt){typeof Xt.runWhen=="function"&&Xt.runWhen(ht)===!1||(Rt=Rt&&Xt.synchronous,Et.unshift(Xt.fulfilled,Xt.rejected))});const wt=[];this.interceptors.response.forEach(function(Xt){wt.push(Xt.fulfilled,Xt.rejected)});let _t,Pt=0,_e;if(!Rt){const Ft=[dispatchRequest.bind(this),void 0];for(Ft.unshift.apply(Ft,Et),Ft.push.apply(Ft,wt),_e=Ft.length,_t=Promise.resolve(ht);Pt<_e;)_t=_t.then(Ft[Pt++],Ft[Pt++]);return _t}_e=Et.length;let bt=ht;for(Pt=0;Pt<_e;){const Ft=Et[Pt++],Xt=Et[Pt++];try{bt=Ft(bt)}catch(Kt){Xt.call(this,Kt);break}}try{_t=dispatchRequest.call(this,bt)}catch(Ft){return Promise.reject(Ft)}for(Pt=0,_e=wt.length;Pt<_e;)_t=_t.then(wt[Pt++],wt[Pt++]);return _t}getUri($){$=mergeConfig(this.defaults,$);const ht=buildFullPath($.baseURL,$.url);return buildURL(ht,$.params,$.paramsSerializer)}}utils$1.forEach(["delete","get","head","options"],function($){Axios.prototype[$]=function(ht,vt){return this.request(mergeConfig(vt||{},{method:$,url:ht,data:(vt||{}).data}))}});utils$1.forEach(["post","put","patch"],function($){function ht(vt){return function(St,kt,Et){return this.request(mergeConfig(Et||{},{method:$,headers:vt?{"Content-Type":"multipart/form-data"}:{},url:St,data:kt}))}}Axios.prototype[$]=ht(),Axios.prototype[$+"Form"]=ht(!0)});class CancelToken{constructor($){if(typeof $!="function")throw new TypeError("executor must be a function.");let ht;this.promise=new Promise(function(St){ht=St});const vt=this;this.promise.then(At=>{if(!vt._listeners)return;let St=vt._listeners.length;for(;St-- >0;)vt._listeners[St](At);vt._listeners=null}),this.promise.then=At=>{let St;const kt=new Promise(Et=>{vt.subscribe(Et),St=Et}).then(At);return kt.cancel=function(){vt.unsubscribe(St)},kt},$(function(St,kt,Et){vt.reason||(vt.reason=new CanceledError(St,kt,Et),ht(vt.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe($){if(this.reason){$(this.reason);return}this._listeners?this._listeners.push($):this._listeners=[$]}unsubscribe($){if(!this._listeners)return;const ht=this._listeners.indexOf($);ht!==-1&&this._listeners.splice(ht,1)}static source(){let $;return{token:new CancelToken(function(At){$=At}),cancel:$}}}function spread(xt){return function(ht){return xt.apply(null,ht)}}function isAxiosError(xt){return utils$1.isObject(xt)&&xt.isAxiosError===!0}const HttpStatusCode={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(HttpStatusCode).forEach(([xt,$])=>{HttpStatusCode[$]=xt});function createInstance(xt){const $=new Axios(xt),ht=bind(Axios.prototype.request,$);return utils$1.extend(ht,Axios.prototype,$,{allOwnKeys:!0}),utils$1.extend(ht,$,null,{allOwnKeys:!0}),ht.create=function(At){return createInstance(mergeConfig(xt,At))},ht}const axios=createInstance(defaults);axios.Axios=Axios;axios.CanceledError=CanceledError;axios.CancelToken=CancelToken;axios.isCancel=isCancel;axios.VERSION=VERSION;axios.toFormData=toFormData;axios.AxiosError=AxiosError;axios.Cancel=axios.CanceledError;axios.all=function($){return Promise.all($)};axios.spread=spread;axios.isAxiosError=isAxiosError;axios.mergeConfig=mergeConfig;axios.AxiosHeaders=AxiosHeaders;axios.formToJSON=xt=>formDataToJSON(utils$1.isHTMLForm(xt)?new FormData(xt):xt);axios.getAdapter=adapters.getAdapter;axios.HttpStatusCode=HttpStatusCode;axios.default=axios;function List(xt){const[$,ht]=reactExports.useState(!1),[vt,At]=reactExports.useState(!1),St=useNavigate(),[kt,Et]=reactExports.useState([]),[Rt,wt]=reactExports.useState([]),[_t,Pt]=reactExports.useState(xt.isDoctor),[_e,bt]=reactExports.useState(!0),[Ft,Xt]=reactExports.useState(!0),Kt=jt=>{const Ct=new Date,qt=new Date(jt);let Bt=Ct.getFullYear()-qt.getFullYear();const Gt=Ct.getMonth()-qt.getMonth();return(Gt<0||Gt===0&&Ct.getDate()<qt.getDate())&&Bt--,Bt};async function Nt(){const jt=await axios.get("en/getpatients");Et(jt.data),xt.setNoofPatients(jt.data.length)}async function $t(){const jt=await axios.get("en/getreports");wt(jt.data)}reactExports.useEffect(()=>{Nt(),$t()},[]);const Dt=Ft?Rt.filter(jt=>jt.verified):Rt.filter(jt=>!jt.verified);return jsxRuntimeExports.jsxs("div",{className:"layout-content-container flex flex-col max-w-[920px] flex-1",children:[jsxRuntimeExports.jsx("div",{className:"flex flex-wrap justify-between gap-3 p-4",children:jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-end w-full",children:[jsxRuntimeExports.jsx("p",{className:"text-[#0e141b] tracking-light text-[32px] font-bold leading-tight min-w-72",children:_e?"Patients":"Reports"}),jsxRuntimeExports.jsxs("div",{className:"flex gap-4",children:[jsxRuntimeExports.jsx("button",{onClick:()=>bt(!_e),className:"px-4 py-2 bg-blue-500 text-white rounded-md",children:_e?"Show Reports":"Show Patients"}),!_e&&jsxRuntimeExports.jsx("button",{onClick:()=>Xt(!Ft),className:"px-4 py-2 bg-green-500 text-white rounded-md",children:Ft?"Show Unverified":"Show Verified"}),jsxRuntimeExports.jsx("div",{className:`${_t?"hidden":"flex"}`,children:jsxRuntimeExports.jsx(Dropdown,{editPatients:$,setEditPatients:ht,deletePatients:vt,setDeletePatients:At})})]})]})}),jsxRuntimeExports.jsx("div",{className:"px-4 py-3",children:jsxRuntimeExports.jsx("label",{className:"flex flex-col min-w-40 h-12 w-full",children:jsxRuntimeExports.jsxs("div",{className:"flex w-full flex-1 items-stretch rounded-xl h-full",children:[jsxRuntimeExports.jsx("div",{className:"text-[#4f7396] flex border-none bg-[#e8edf3] items-center justify-center pl-4 rounded-l-xl border-r-0",children:jsxRuntimeExports.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24px",height:"24px",fill:"currentColor",viewBox:"0 0 256 256",children:jsxRuntimeExports.jsx("path",{d:"M229.66,218.34l-50.07-50.06a88.11,88.11,0,1,0-11.31,11.31l50.06,50.07a8,8,0,0,0,11.32-11.32ZM40,112a72,72,0,1,1,72,72A72.08,72.08,0,0,1,40,112Z"})})}),jsxRuntimeExports.jsx("input",{placeholder:_e?"Search patients":"Search reports",className:"form-input flex w-full min-w-0 flex-1 resize-none overflow-hidden rounded-xl text-[#0e141b] focus:outline-0 focus:ring-0 border-none bg-[#e8edf3] focus:border-none h-full placeholder:text-[#4f7396] px-4 rounded-l-none border-l-0 pl-2 text-base font-normal leading-normal"})]})})}),_e?kt.map((jt,Ct)=>jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-4 bg-[#f8fafb] px-4 min-h-[72px] py-2 transition-all duration-300 ease-in-out hover:bg-[#e2e8f0] cursor-pointer rounded-xl",onClick:()=>St("/patient",{state:{id:jt._id}}),children:[jsxRuntimeExports.jsx("div",{className:"bg-center bg-no-repeat aspect-square bg-cover rounded-full h-14 w-fit transform"}),jsxRuntimeExports.jsxs("div",{className:"flex flex-col justify-center",children:[jsxRuntimeExports.jsx("p",{className:"text-[#0e141b] text-base font-medium leading-normal line-clamp-1",children:jt.name}),jsxRuntimeExports.jsxs("p",{className:"text-[#4f7396] text-sm font-normal leading-normal line-clamp-2",children:["Age: ",Kt(jt.DOB),", Gender: ",jt.gender]})]}),jsxRuntimeExports.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:`size-6 self-start mt-4 ml-auto mb-2 ${$?"block":"hidden"} `,children:[jsxRuntimeExports.jsx("path",{d:"M21.731 2.269a2.625 2.625 0 0 0-3.712 0l-1.157 1.157 3.712 3.712 1.157-1.157a2.625 2.625 0 0 0 0-3.712ZM19.513 8.199l-3.712-3.712-8.4 8.4a5.25 5.25 0 0 0-1.32 2.214l-.8 2.685a.75.75 0 0 0 .933.933l2.685-.8a5.25 5.25 0 0 0 2.214-1.32l8.4-8.4Z"}),jsxRuntimeExports.jsx("path",{d:"M5.25 5.25a3 3 0 0 0-3 3v10.5a3 3 0 0 0 3 3h10.5a3 3 0 0 0 3-3V13.5a.75.75 0 0 0-1.5 0v5.25a1.5 1.5 0 0 1-1.5 1.5H5.25a1.5 1.5 0 0 1-1.5-1.5V8.25a1.5 1.5 0 0 1 1.5-1.5h5.25a.75.75 0 0 0 0-1.5H5.25Z"})]}),jsxRuntimeExports.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",className:`size-6 self-start mt-4 ml-auto mb-2 ${vt?"block":"hidden"}`,children:jsxRuntimeExports.jsx("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"m14.74 9-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 0 1-2.244 2.077H8.084a2.25 2.25 0 0 1-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 0 0-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 0 1 3.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 0 0-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 0 0-7.5 0"})})]},Ct)):Dt.map((jt,Ct)=>jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-4 bg-[#f8fafb] px-4 min-h-[72px] py-2 transition-all duration-300 ease-in-out hover:bg-[#e2e8f0] cursor-pointer rounded-xl",onClick:()=>St("/report",{state:{id:jt._id}}),children:[jsxRuntimeExports.jsxs("div",{className:"flex flex-col justify-center",children:[jsxRuntimeExports.jsx("p",{className:"text-[#0e141b] text-base font-medium leading-normal line-clamp-1",children:jt.title}),jsxRuntimeExports.jsxs("p",{className:"text-[#4f7396] text-sm font-normal leading-normal line-clamp-2",children:["Patient: ",jt.patientName,", Date: ",new Date(jt.date).toLocaleDateString()]})]}),jsxRuntimeExports.jsx("span",{className:`ml-auto px-2 py-1 rounded-full text-xs ${jt.verified?"bg-green-200 text-green-800":"bg-yellow-200 text-yellow-800"}`,children:jt.verified?"Verified":"Unverified"})]},Ct))]})}function Analytics(xt){return jsxRuntimeExports.jsxs("div",{className:"layout-content-container flex flex-col w-[360px]",children:[jsxRuntimeExports.jsx("h3",{className:"text-[#0e141b] text-lg font-bold leading-tight tracking-[-0.015em] px-4 pb-2 pt-4",children:"Analytics"}),jsxRuntimeExports.jsxs("div",{className:"flex flex-wrap gap-4 p-4",children:[jsxRuntimeExports.jsxs("div",{className:"flex min-w-[158px] flex-1 flex-col gap-2 rounded-xl p-6 border border-[#d0dbe6]",children:[jsxRuntimeExports.jsx("p",{className:"text-[#0e141b] text-base font-medium leading-normal",children:"Total Patients"}),jsxRuntimeExports.jsx("p",{className:"text-[#0e141b] tracking-light text-2xl font-bold leading-tight",children:xt.noofPatients}),jsxRuntimeExports.jsx("p",{className:"text-[#078838] text-base font-medium leading-normal",children:"+5%"})]}),jsxRuntimeExports.jsxs("div",{className:"flex min-w-[158px] flex-1 flex-col gap-2 rounded-xl p-6 border border-[#d0dbe6]",children:[jsxRuntimeExports.jsx("p",{className:"text-[#0e141b] text-base font-medium leading-normal",children:"Average Age"}),jsxRuntimeExports.jsx("p",{className:"text-[#0e141b] tracking-light text-2xl font-bold leading-tight",children:"44"}),jsxRuntimeExports.jsx("p",{className:"text-[#e73908] text-base font-medium leading-normal",children:"-2%"})]})]})]})}const Navbar=xt=>{console.log(xt);const $=useNavigate();return jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between whitespace-nowrap border-b border-solid border-b-[#e7eef4] px-10 py-3",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-4 text-[#0d151c]",children:[jsxRuntimeExports.jsx("div",{className:"size-4",children:jsxRuntimeExports.jsx("svg",{viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:jsxRuntimeExports.jsx("path",{d:"M36.7273 44C33.9891 44 31.6043 39.8386 30.3636 33.69C29.123 39.8386 26.7382 44 24 44C21.2618 44 18.877 39.8386 17.6364 33.69C16.3957 39.8386 14.0109 44 11.2727 44C7.25611 44 4 35.0457 4 24C4 12.9543 7.25611 4 11.2727 4C14.0109 4 16.3957 8.16144 17.6364 14.31C18.877 8.16144 21.2618 4 24 4C26.7382 4 29.123 8.16144 30.3636 14.31C31.6043 8.16144 33.9891 4 36.7273 4C40.7439 4 44 12.9543 44 24C44 35.0457 40.7439 44 36.7273 44Z",fill:"currentColor"})})}),jsxRuntimeExports.jsx("h2",{className:"text-[#0d151c] text-lg font-bold leading-tight tracking-[-0.015em]",children:"Sanjh Sahayak"})]}),jsxRuntimeExports.jsxs("div",{className:"flex flex-1 justify-end gap-8",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-9",children:[jsxRuntimeExports.jsx("a",{className:"text-[#0d151c] text-sm font-medium leading-normal cursor-pointer",onClick:()=>$("/"),children:"Home"}),jsxRuntimeExports.jsx("a",{className:`text-[#0d151c] text-sm font-medium leading-normal cursor-pointer ${xt.patient?"":"hidden"}`,onClick:()=>$("/main"),children:"Patients"})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx("button",{className:"flex max-w-[480px] cursor-pointer items-center justify-center overflow-hidden rounded-xl h-10 bg-[#e7eef4] text-[#0d151c] gap-2 text-sm font-bold leading-normal tracking-[0.015em] min-w-0 px-2.5",children:jsxRuntimeExports.jsx("div",{className:"text-[#0d151c]","data-icon":"MagnifyingGlass","data-size":"20px","data-weight":"regular",children:jsxRuntimeExports.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20px",height:"20px",fill:"currentColor",viewBox:"0 0 256 256",children:jsxRuntimeExports.jsx("path",{d:"M229.66,218.34l-50.07-50.06a88.11,88.11,0,1,0-11.31,11.31l50.06,50.07a8,8,0,0,0,11.32-11.32ZM40,112a72,72,0,1,1,72,72A72.08,72.08,0,0,1,40,112Z"})})})}),jsxRuntimeExports.jsx("button",{className:"flex max-w-[480px] cursor-pointer items-center justify-center overflow-hidden rounded-xl h-10 bg-[#e7eef4] text-[#0d151c] gap-2 text-sm font-bold leading-normal tracking-[0.015em] min-w-0 px-2.5",children:jsxRuntimeExports.jsx("div",{className:"text-[#0d151c]","data-icon":"ChatCircleDots","data-size":"20px","data-weight":"regular",children:jsxRuntimeExports.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20px",height:"20px",fill:"currentColor",viewBox:"0 0 256 256",children:jsxRuntimeExports.jsx("path",{d:"M140,128a12,12,0,1,1-12-12A12,12,0,0,1,140,128ZM84,116a12,12,0,1,0,12,12A12,12,0,0,0,84,116Zm88,0a12,12,0,1,0,12,12A12,12,0,0,0,172,116Zm60,12A104,104,0,0,1,79.12,219.82L45.07,231.17a16,16,0,0,1-20.24-20.24l11.35-34.05A104,104,0,1,1,232,128Zm-16,0A88,88,0,1,0,51.81,172.06a8,8,0,0,1,.66,6.54L40,216,77.4,203.53a7.85,7.85,0,0,1,2.53-.42,8,8,0,0,1,4,1.08A88,88,0,0,0,216,128Z"})})})}),jsxRuntimeExports.jsx("button",{className:"flex max-w-[480px] cursor-pointer items-center justify-center overflow-hidden rounded-xl h-10 bg-[#e7eef4] text-[#0d151c] gap-2 text-sm font-bold leading-normal tracking-[0.015em] min-w-0 px-2.5",children:jsxRuntimeExports.jsx("div",{className:"text-[#0d151c]","data-icon":"Bell","data-size":"20px","data-weight":"regular",children:jsxRuntimeExports.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20px",height:"20px",fill:"currentColor",viewBox:"0 0 256 256",children:jsxRuntimeExports.jsx("path",{d:"M221.8,175.94C216.25,166.38,208,139.33,208,104a80,80,0,1,0-160,0c0,35.34-8.26,62.38-13.81,71.94A16,16,0,0,0,48,200H88.81a40,40,0,0,0,78.38,0H208a16,16,0,0,0,13.8-24.06ZM128,216a24,24,0,0,1-22.62-16h45.24A24,24,0,0,1,128,216ZM48,184c7.7-13.24,16-43.92,16-80a64,64,0,1,1,128,0c0,36.05,8.28,66.73,16,80Z"})})})})]}),jsxRuntimeExports.jsx("div",{className:"flex items-center justify-center gap-2",children:jsxRuntimeExports.jsx("div",{className:"text-[#0d151c] font-medium text-sm leading-normal",children:xt.isDoctor?"Doctor":"Care taker"})}),jsxRuntimeExports.jsx("div",{className:"bg-center bg-no-repeat aspect-square bg-cover rounded-full size-10",style:{backgroundImage:'url("https://cdn.usegalileo.ai/stability/62891830-57f4-4b6d-ab96-97aa59242b87.png")'}})]})]})};function Main(xt){const[$,ht]=reactExports.useState(0);return jsxRuntimeExports.jsx("div",{className:"relative flex size-full min-h-screen flex-col bg-[#f8fafb] group/design-root overflow-x-hidden",style:{fontFamily:'Inter, "Noto Sans", sans-serif'},children:jsxRuntimeExports.jsxs("div",{className:"layout-container flex h-full grow flex-col",children:[jsxRuntimeExports.jsx(Navbar,{isDoctor:xt.isDoctor}),jsxRuntimeExports.jsxs("div",{className:"gap-1 px-6 flex flex-1 justify-center py-5",children:[jsxRuntimeExports.jsx(List,{isDoctor:xt.isDoctor,setNoofPatients:ht,noofPatients:$}),jsxRuntimeExports.jsx(Analytics,{noofPatients:$})]})]})})}const LandingPage=()=>{const xt=reactExports.useRef(null),$=()=>{xt.current.scrollIntoView({behavior:"smooth"})};let ht=useNavigate();return jsxRuntimeExports.jsx("div",{className:"relative flex size-full min-h-screen flex-col bg-[#F9FAFA] group/design-root overflow-x-hidden",style:{fontFamily:'Epilogue, "Noto Sans", sans-serif'},children:jsxRuntimeExports.jsxs("div",{className:"layout-container flex h-full grow flex-col",children:[jsxRuntimeExports.jsxs("header",{className:"flex items-center justify-between whitespace-nowrap border-b border-solid border-b-[#EEEFF2] px-10 py-3",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-4 text-[#1C1D22]",children:[jsxRuntimeExports.jsx("div",{className:"size-4",children:jsxRuntimeExports.jsxs("svg",{viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[jsxRuntimeExports.jsxs("g",{clipPath:"url(#clip0_6_543)",children:[jsxRuntimeExports.jsx("path",{d:"M42.1739 20.1739L27.8261 5.82609C29.1366 7.13663 28.3989 10.1876 26.2002 13.7654C24.8538 15.9564 22.9595 18.3449 20.6522 20.6522C18.3449 22.9595 15.9564 24.8538 13.7654 26.2002C10.1876 28.3989 7.13663 29.1366 5.82609 27.8261L20.1739 42.1739C21.4845 43.4845 24.5355 42.7467 28.1133 40.548C30.3042 39.2016 32.6927 37.3073 35 35C37.3073 32.6927 39.2016 30.3042 40.548 28.1133C42.7467 24.5355 43.4845 21.4845 42.1739 20.1739Z",fill:"currentColor"}),jsxRuntimeExports.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M7.24189 26.4066C7.31369 26.4411 7.64204 26.5637 8.52504 26.3738C9.59462 26.1438 11.0343 25.5311 12.7183 24.4963C14.7583 23.2426 17.0256 21.4503 19.238 19.238C21.4503 17.0256 23.2426 14.7583 24.4963 12.7183C25.5311 11.0343 26.1438 9.59463 26.3738 8.52504C26.5637 7.64204 26.4411 7.31369 26.4066 7.24189C26.345 7.21246 26.143 7.14535 25.6664 7.1918C24.9745 7.25925 23.9954 7.5498 22.7699 8.14278C20.3369 9.32007 17.3369 11.4915 14.4142 14.4142C11.4915 17.3369 9.32007 20.3369 8.14278 22.7699C7.5498 23.9954 7.25925 24.9745 7.1918 25.6664C7.14534 26.143 7.21246 26.345 7.24189 26.4066ZM29.9001 10.7285C29.4519 12.0322 28.7617 13.4172 27.9042 14.8126C26.465 17.1544 24.4686 19.6641 22.0664 22.0664C19.6641 24.4686 17.1544 26.465 14.8126 27.9042C13.4172 28.7617 12.0322 29.4519 10.7285 29.9001L21.5754 40.747C21.6001 40.7606 21.8995 40.931 22.8729 40.7217C23.9424 40.4916 25.3821 39.879 27.0661 38.8441C29.1062 37.5904 31.3734 35.7982 33.5858 33.5858C35.7982 31.3734 37.5904 29.1062 38.8441 27.0661C39.879 25.3821 40.4916 23.9425 40.7216 22.8729C40.931 21.8995 40.7606 21.6001 40.747 21.5754L29.9001 10.7285ZM29.2403 4.41187L43.5881 18.7597C44.9757 20.1473 44.9743 22.1235 44.6322 23.7139C44.2714 25.3919 43.4158 27.2666 42.252 29.1604C40.8128 31.5022 38.8165 34.012 36.4142 36.4142C34.012 38.8165 31.5022 40.8128 29.1604 42.252C27.2666 43.4158 25.3919 44.2714 23.7139 44.6322C22.1235 44.9743 20.1473 44.9757 18.7597 43.5881L4.41187 29.2403C3.29027 28.1187 3.08209 26.5973 3.21067 25.2783C3.34099 23.9415 3.8369 22.4852 4.54214 21.0277C5.96129 18.0948 8.43335 14.7382 11.5858 11.5858C14.7382 8.43335 18.0948 5.9613 21.0277 4.54214C22.4852 3.8369 23.9415 3.34099 25.2783 3.21067C26.5973 3.08209 28.1187 3.29028 29.2403 4.41187Z",fill:"currentColor"})]}),jsxRuntimeExports.jsx("defs",{children:jsxRuntimeExports.jsx("clipPath",{id:"clip0_6_543",children:jsxRuntimeExports.jsx("rect",{width:"48",height:"48",fill:"white"})})})]})}),jsxRuntimeExports.jsx("h2",{className:"text-[#1C1D22] text-lg font-bold leading-tight tracking-[-0.015em]",children:"Saanjh Sahayak"})]}),jsxRuntimeExports.jsxs("div",{className:"flex flex-1 justify-end gap-8",children:[jsxRuntimeExports.jsx("div",{className:"flex items-center gap-9",children:jsxRuntimeExports.jsx("a",{className:"text-[#1C1D22] text-sm font-medium leading-normal cursor-pointer",onClick:$,children:"Features"})}),jsxRuntimeExports.jsx("div",{className:"flex gap-2",children:jsxRuntimeExports.jsx("button",{className:"flex min-w-[84px] max-w-[480px] cursor-pointer items-center justify-center overflow-hidden rounded-full h-10 px-4 bg-[#607AFB] text-[#F9FAFA] text-sm font-bold leading-normal tracking-[0.015em]",onClick:()=>ht("/signin"),children:jsxRuntimeExports.jsx("span",{className:"truncate",children:"Login"})})})]})]}),jsxRuntimeExports.jsx("div",{className:"px-40 flex flex-1 justify-center py-5",children:jsxRuntimeExports.jsxs("div",{className:"layout-content-container flex flex-col max-w-[960px] flex-1",children:[jsxRuntimeExports.jsx("div",{className:"@container",children:jsxRuntimeExports.jsx("div",{className:"@[480px]:p-4",children:jsxRuntimeExports.jsxs("div",{className:"flex min-h-[480px] flex-col gap-6 bg-cover bg-center bg-no-repeat @[480px]:gap-8 @[480px]:rounded-xl items-start justify-end px-4 pb-10 @[480px]:px-10",style:{backgroundImage:'linear-gradient(rgba(0, 0, 0, 0.1) 0%, rgba(0, 0, 0, 0.4) 100%), url("https://cdn.usegalileo.ai/sdxl10/d0342d60-6ca8-4000-abde-e44f0d824c83.png")'},children:[jsxRuntimeExports.jsxs("div",{className:"flex flex-col gap-2 text-left",children:[jsxRuntimeExports.jsx("h1",{className:"text-white text-4xl font-black leading-tight tracking-[-0.033em] @[480px]:text-5xl @[480px]:font-black @[480px]:leading-tight @[480px]:tracking-[-0.033em]",children:"Saanjh Sahayak, better care for our elders"}),jsxRuntimeExports.jsx("h2",{className:"text-white text-sm font-normal leading-normal @[480px]:text-base @[480px]:font-normal @[480px]:leading-normal",children:"We are here to provide comprehensive and compassionate care to the elderly in old age homes."})]}),jsxRuntimeExports.jsx("label",{className:"flex flex-col min-w-40 h-14 w-full max-w-[480px] @[480px]:h-16"})]})})}),jsxRuntimeExports.jsxs("div",{className:"flex flex-col gap-10 px-4 py-10 @container",ref:xt,children:[jsxRuntimeExports.jsx("h1",{className:"text-[#1C1D22] tracking-light text-[32px] font-bold leading-tight @[480px]:text-4xl @[480px]:font-black @[480px]:leading-tight @[480px]:tracking-[-0.033em] max-w-[720px]",children:"For Caretakers"}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-[repeat(auto-fit,minmax(158px,1fr))] gap-3 p-0",children:[jsxRuntimeExports.jsxs("div",{className:"flex flex-1 gap-3 rounded-lg border border-[#D5D6DD] bg-[#FFFFFF] p-4 flex-col",children:[jsxRuntimeExports.jsx("div",{className:"text-[#1C1D22]","data-icon":"FirstAid","data-size":"24px","data-weight":"regular",children:jsxRuntimeExports.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24px",height:"24px",fill:"currentColor",viewBox:"0 0 256 256",children:jsxRuntimeExports.jsx("path",{d:"M216,88H168V40a16,16,0,0,0-16-16H104A16,16,0,0,0,88,40V88H40a16,16,0,0,0-16,16v48a16,16,0,0,0,16,16H88v48a16,16,0,0,0,16,16h48a16,16,0,0,0,16-16V168h48a16,16,0,0,0,16-16V104A16,16,0,0,0,216,88Zm0,64H160a8,8,0,0,0-8,8v56H104V160a8,8,0,0,0-8-8H40V104H96a8,8,0,0,0,8-8V40h48V96a8,8,0,0,0,8,8h56Z"})})}),jsxRuntimeExports.jsxs("div",{className:"flex flex-col gap-1",children:[jsxRuntimeExports.jsx("h2",{className:"text-[#1C1D22] text-base font-bold leading-tight",children:"Upload and Monitor Patient Reports"}),jsxRuntimeExports.jsx("p",{className:"text-[#3C3F4A] text-sm font-normal leading-normal",children:"Easily upload and monitor patient reports. Our system is designed to handle a variety of formats, ensuring a seamless experience."})]})]}),jsxRuntimeExports.jsxs("div",{className:"flex flex-1 gap-3 rounded-lg border border-[#D5D6DD] bg-[#FFFFFF] p-4 flex-col",children:[jsxRuntimeExports.jsx("div",{className:"text-[#1C1D22]","data-icon":"Notification","data-size":"24px","data-weight":"regular",children:jsxRuntimeExports.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24px",height:"24px",fill:"currentColor",viewBox:"0 0 256 256",children:jsxRuntimeExports.jsx("path",{d:"M216,128v80a16,16,0,0,1-16,16H48a16,16,0,0,1-16-16V56A16,16,0,0,1,48,40h80a8,8,0,0,1,0,16H48V208H200V128a8,8,0,0,1,16,0Zm16-68a36,36,0,1,1-36-36A36,36,0,0,1,232,60Zm-16,0a20,20,0,1,0-20,20A20,20,0,0,0,216,60Z"})})}),jsxRuntimeExports.jsxs("div",{className:"flex flex-col gap-1",children:[jsxRuntimeExports.jsx("h2",{className:"text-[#1C1D22] text-base font-bold leading-tight",children:"Receive Alerts and Reminders"}),jsxRuntimeExports.jsx("p",{className:"text-[#3C3F4A] text-sm font-normal leading-normal",children:"Get instant alerts and reminders for medication, doctor's appointments, and more. Stay on top of your loved one's care."})]})]})]})]}),jsxRuntimeExports.jsxs("div",{className:"flex flex-col gap-10 px-4 py-10 @container",children:[jsxRuntimeExports.jsx("h1",{className:"text-[#1C1D22] tracking-light text-[32px] font-bold leading-tight @[480px]:text-4xl @[480px]:font-black @[480px]:leading-tight @[480px]:tracking-[-0.033em] max-w-[720px]",children:"For Doctors"}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-[repeat(auto-fit,minmax(158px,1fr))] gap-3 p-0",children:[jsxRuntimeExports.jsxs("div",{className:"flex flex-1 gap-3 rounded-lg border border-[#D5D6DD] bg-[#FFFFFF] p-4 flex-col",children:[jsxRuntimeExports.jsx("div",{className:"text-[#1C1D22]","data-icon":"FirstAid","data-size":"24px","data-weight":"regular",children:jsxRuntimeExports.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24px",height:"24px",fill:"currentColor",viewBox:"0 0 256 256",children:jsxRuntimeExports.jsx("path",{d:"M216,88H168V40a16,16,0,0,0-16-16H104A16,16,0,0,0,88,40V88H40a16,16,0,0,0-16,16v48a16,16,0,0,0,16,16H88v48a16,16,0,0,0,16,16h48a16,16,0,0,0,16-16V168h48a16,16,0,0,0,16-16V104A16,16,0,0,0,216,88Zm0,64H160a8,8,0,0,0-8,8v56H104V160a8,8,0,0,0-8-8H40V104H96a8,8,0,0,0,8-8V40h48V96a8,8,0,0,0,8,8h56Z"})})}),jsxRuntimeExports.jsxs("div",{className:"flex flex-col gap-1",children:[jsxRuntimeExports.jsx("h2",{className:"text-[#1C1D22] text-base font-bold leading-tight",children:"Verify Patient Information"}),jsxRuntimeExports.jsx("p",{className:"text-[#3C3F4A] text-sm font-normal leading-normal",children:"Quickly and securely verify patient information. Our platform is designed to ensure compliance with privacy and data protection regulations."})]})]}),jsxRuntimeExports.jsxs("div",{className:"flex flex-1 gap-3 rounded-lg border border-[#D5D6DD] bg-[#FFFFFF] p-4 flex-col",children:[jsxRuntimeExports.jsx("div",{className:"text-[#1C1D22]","data-icon":"Translate","data-size":"24px","data-weight":"regular",children:jsxRuntimeExports.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24px",height:"24px",fill:"currentColor",viewBox:"0 0 256 256",children:jsxRuntimeExports.jsx("path",{d:"M239.15,212.42l-56-112a8,8,0,0,0-14.31,0l-21.71,43.43A88,88,0,0,1,100,126.93,103.65,103.65,0,0,0,127.69,64H152a8,8,0,0,0,0-16H96V32a8,8,0,0,0-16,0V48H24a8,8,0,0,0,0,16h87.63A87.76,87.76,0,0,1,88,116.35a87.74,87.74,0,0,1-19-31,8,8,0,1,0-15.08,5.34A103.63,103.63,0,0,0,76,127a87.55,87.55,0,0,1-52,17,8,8,0,0,0,0,16,103.46,103.46,0,0,0,64-22.08,104.18,104.18,0,0,0,51.44,21.31l-26.6,53.19a8,8,0,0,0,14.31,7.16L140.94,192h70.11l13.79,27.58A8,8,0,0,0,232,224a8,8,0,0,0,7.15-11.58ZM148.94,176,176,121.89,203.05,176Z"})})}),jsxRuntimeExports.jsxs("div",{className:"flex flex-col gap-1",children:[jsxRuntimeExports.jsx("h2",{className:"text-[#1C1D22] text-base font-bold leading-tight",children:"Analyze with Large Language Model"}),jsxRuntimeExports.jsx("p",{className:"text-[#3C3F4A] text-sm font-normal leading-normal",children:"Utilize our powerful Large Language Model for in-depth patient analysis. Get insights and recommendations based on the latest medical research."})]})]})]})]}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-[repeat(auto-fit,minmax(158px,1fr))] gap-3 p-4",children:[jsxRuntimeExports.jsxs("div",{className:"flex flex-col gap-3 pb-3",children:[jsxRuntimeExports.jsx("div",{className:"w-full bg-center bg-no-repeat aspect-video bg-cover rounded-xl",style:{backgroundImage:'url("https://cdn.usegalileo.ai/stability/fb823941-87a6-47fb-998f-c8224ea8c6db.png")'}}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"text-[#1C1D22] text-base font-medium leading-normal",children:"Get help from experts"}),jsxRuntimeExports.jsx("p",{className:"text-[#3C3F4A] text-sm font-normal leading-normal",children:"Our team of geriatricians and nurse practitioners are here to help."})]})]}),jsxRuntimeExports.jsxs("div",{className:"flex flex-col gap-3 pb-3",children:[jsxRuntimeExports.jsx("div",{className:"w-full bg-center bg-no-repeat aspect-video bg-cover rounded-xl",style:{backgroundImage:'url("https://cdn.usegalileo.ai/stability/b543c2c9-c73f-4636-8737-59e6d3f7a20e.png")'}}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"text-[#1C1D22] text-base font-medium leading-normal",children:"Stay connected"}),jsxRuntimeExports.jsx("p",{className:"text-[#3C3F4A] text-sm font-normal leading-normal",children:"Easily communicate with our team via video calls, phone calls, or chat."})]})]}),jsxRuntimeExports.jsxs("div",{className:"flex flex-col gap-3 pb-3",children:[jsxRuntimeExports.jsx("div",{className:"w-full bg-center bg-no-repeat aspect-video bg-cover rounded-xl",style:{backgroundImage:'url("https://cdn.usegalileo.ai/sdxl10/8329d0d0-4083-4c19-89c0-de0625991c40.png")'}}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"text-[#1C1D22] text-base font-medium leading-normal",children:"Get reminders"}),jsxRuntimeExports.jsx("p",{className:"text-[#3C3F4A] text-sm font-normal leading-normal",children:"Set up medication reminders and get alerts when it's time to take a dose."})]})]})]})]})})]})})};var DefaultContext={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},IconContext=React.createContext&&React.createContext(DefaultContext),_excluded=["attr","size","title"];function _objectWithoutProperties(xt,$){if(xt==null)return{};var ht=_objectWithoutPropertiesLoose(xt,$),vt,At;if(Object.getOwnPropertySymbols){var St=Object.getOwnPropertySymbols(xt);for(At=0;At<St.length;At++)vt=St[At],!($.indexOf(vt)>=0)&&Object.prototype.propertyIsEnumerable.call(xt,vt)&&(ht[vt]=xt[vt])}return ht}function _objectWithoutPropertiesLoose(xt,$){if(xt==null)return{};var ht={};for(var vt in xt)if(Object.prototype.hasOwnProperty.call(xt,vt)){if($.indexOf(vt)>=0)continue;ht[vt]=xt[vt]}return ht}function _extends(){return _extends=Object.assign?Object.assign.bind():function(xt){for(var $=1;$<arguments.length;$++){var ht=arguments[$];for(var vt in ht)Object.prototype.hasOwnProperty.call(ht,vt)&&(xt[vt]=ht[vt])}return xt},_extends.apply(this,arguments)}function ownKeys(xt,$){var ht=Object.keys(xt);if(Object.getOwnPropertySymbols){var vt=Object.getOwnPropertySymbols(xt);$&&(vt=vt.filter(function(At){return Object.getOwnPropertyDescriptor(xt,At).enumerable})),ht.push.apply(ht,vt)}return ht}function _objectSpread(xt){for(var $=1;$<arguments.length;$++){var ht=arguments[$]!=null?arguments[$]:{};$%2?ownKeys(Object(ht),!0).forEach(function(vt){_defineProperty(xt,vt,ht[vt])}):Object.getOwnPropertyDescriptors?Object.defineProperties(xt,Object.getOwnPropertyDescriptors(ht)):ownKeys(Object(ht)).forEach(function(vt){Object.defineProperty(xt,vt,Object.getOwnPropertyDescriptor(ht,vt))})}return xt}function _defineProperty(xt,$,ht){return $=_toPropertyKey($),$ in xt?Object.defineProperty(xt,$,{value:ht,enumerable:!0,configurable:!0,writable:!0}):xt[$]=ht,xt}function _toPropertyKey(xt){var $=_toPrimitive(xt,"string");return typeof $=="symbol"?$:$+""}function _toPrimitive(xt,$){if(typeof xt!="object"||!xt)return xt;var ht=xt[Symbol.toPrimitive];if(ht!==void 0){var vt=ht.call(xt,$||"default");if(typeof vt!="object")return vt;throw new TypeError("@@toPrimitive must return a primitive value.")}return($==="string"?String:Number)(xt)}function Tree2Element(xt){return xt&&xt.map(($,ht)=>React.createElement($.tag,_objectSpread({key:ht},$.attr),Tree2Element($.child)))}function GenIcon(xt){return $=>React.createElement(IconBase,_extends({attr:_objectSpread({},xt.attr)},$),Tree2Element(xt.child))}function IconBase(xt){var $=ht=>{var{attr:vt,size:At,title:St}=xt,kt=_objectWithoutProperties(xt,_excluded),Et=At||ht.size||"1em",Rt;return ht.className&&(Rt=ht.className),xt.className&&(Rt=(Rt?Rt+" ":"")+xt.className),React.createElement("svg",_extends({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},ht.attr,vt,kt,{className:Rt,style:_objectSpread(_objectSpread({color:xt.color||ht.color},ht.style),xt.style),height:Et,width:Et,xmlns:"http://www.w3.org/2000/svg"}),St&&React.createElement("title",null,St),xt.children)};return IconContext!==void 0?React.createElement(IconContext.Consumer,null,ht=>$(ht)):$(DefaultContext)}function FaEdit(xt){return GenIcon({tag:"svg",attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M402.6 83.2l90.2 90.2c3.8 3.8 3.8 10 0 13.8L274.4 405.6l-92.8 10.3c-12.4 1.4-22.9-9.1-21.5-21.5l10.3-92.8L388.8 83.2c3.8-3.8 10-3.8 13.8 0zm162-22.9l-48.8-48.8c-15.2-15.2-39.9-15.2-55.2 0l-35.4 35.4c-3.8 3.8-3.8 10 0 13.8l90.2 90.2c3.8 3.8 10 3.8 13.8 0l35.4-35.4c15.2-15.3 15.2-40 0-55.2zM384 346.2V448H64V128h229.8c3.2 0 6.2-1.3 8.5-3.5l40-40c7.6-7.6 2.2-20.5-8.5-20.5H48C21.5 64 0 85.5 0 112v352c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V306.2c0-10.7-12.9-16-20.5-8.5l-40 40c-2.2 2.3-3.5 5.3-3.5 8.5z"},child:[]}]})(xt)}function Profile(xt){const[$,ht]=reactExports.useState(xt.id),[vt,At]=reactExports.useState();reactExports.useState(""),reactExports.useState(null),reactExports.useState(0),reactExports.useState(null),reactExports.useState(null),reactExports.useState(null);const[St,kt]=reactExports.useState(null),Et=useNavigate();async function Rt(){const bt=await axios.get(`/en/getpatient/${$}`);At(bt.data)}async function wt(){console.log("hi");const bt=await axios.get(`/en/getdates/${$}`);kt(bt.data)}reactExports.useEffect(()=>{Rt(),wt()},[$]);const _t=bt=>{const Ft=new Date,Xt=new Date(bt);let Kt=Ft.getFullYear()-Xt.getFullYear();const Nt=Ft.getMonth()-Xt.getMonth();return(Nt<0||Nt===0&&Ft.getDate()<Xt.getDate())&&Kt--,Kt},Pt=async bt=>{const Ft=bt.target.files[0];if(Ft){const Xt=new FileReader;Xt.onloadend=async()=>{const Kt=Xt.result.split(",")[1],Nt=bt.target.value.replace("C:\\fakepath\\","");try{console.log("hi"),(await axios.post("/en/uploadpdf",{file:Kt,filename:Nt,patientId:$,name:vt.name})).data.data===!1&&alert("Invalid PDF")}catch($t){console.log("Error uploading details:",$t),alert("File size too large or other issues.")}},Xt.readAsDataURL(Ft)}else console.log("No input file")},_e=async bt=>{try{xt.isDoctor?Et("/doctoranalysis",{state:{id:bt,pid:$,isDoctor:xt.isDoctor,patientData:vt}}):Et("/caretakeranalysis",{state:{id:bt,pid:$,isDoctor:xt.isDoctor,patientData:vt}})}catch{}};return vt&&St&&jsxRuntimeExports.jsx("div",{className:"px-40 flex flex-1 justify-center py-5",children:jsxRuntimeExports.jsxs("div",{className:"layout-content-container flex flex-col max-w-[960px] flex-1",children:[jsxRuntimeExports.jsxs("div",{className:"relative flex p-4 @container",children:[jsxRuntimeExports.jsx("div",{className:`absolute top-2 right-2 ${xt.isDoctor?"hidden":""}`,children:jsxRuntimeExports.jsx("button",{className:"text-blue-500 hover:text-blue-700",children:jsxRuntimeExports.jsx(FaEdit,{size:20})})}),jsxRuntimeExports.jsx("div",{className:"flex w-full flex-col gap-4 @[520px]:flex-row @[520px]:justify-between @[520px]:items-center",children:jsxRuntimeExports.jsxs("div",{className:"flex gap-4 self-start",children:[jsxRuntimeExports.jsx("div",{className:"bg-center bg-no-repeat aspect-square bg-cover rounded-full min-h-32 w-32",style:{backgroundImage:'url("https://cdn.usegalileo.ai/stability/4085b1e6-79ae-4450-b2e6-2a0385966715.png")'}}),jsxRuntimeExports.jsxs("div",{className:"flex flex-col justify-center",children:[jsxRuntimeExports.jsx("p",{className:"text-[#0d151c] text-[22px] font-bold leading-tight tracking-[-0.015em]",children:vt.name}),jsxRuntimeExports.jsxs("p",{className:"text-[#49779c] text-base font-normal leading-normal",children:["Age ",_t(vt.DOB),", ",vt.gender,", Blood type: ",vt.bloodGroup]})]})]})})]}),jsxRuntimeExports.jsxs("div",{className:"flex gap-4 bg-slate-50 px-4 py-3",children:[jsxRuntimeExports.jsx("div",{className:"text-[#0d151c] flex items-center justify-center rounded-lg bg-[#e7eef4] shrink-0 size-12","data-icon":"User","data-size":"24px","data-weight":"regular",children:jsxRuntimeExports.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24px",height:"24px",fill:"currentColor",viewBox:"0 0 256 256",children:jsxRuntimeExports.jsx("path",{d:"M230.92,212c-15.23-26.33-38.7-45.21-66.09-54.16a72,72,0,1,0-73.66,0C63.78,166.78,40.31,185.66,25.08,212a8,8,0,1,0,13.85,8c18.84-32.56,52.14-52,89.07-52s70.23,19.44,89.07,52a8,8,0,1,0,13.85-8ZM72,96a56,56,0,1,1,56,56A56.06,56.06,0,0,1,72,96Z"})})}),jsxRuntimeExports.jsxs("div",{className:"flex flex-1 flex-col justify-center",children:[jsxRuntimeExports.jsx("p",{className:"text-[#0d151c] text-base font-medium leading-normal",children:"Patient Information"}),jsxRuntimeExports.jsxs("p",{className:"text-[#49779c] text-sm font-normal leading-normal",children:["Previous test reports: ",vt.reportsList.length]}),jsxRuntimeExports.jsx("p",{className:"text-[#49779c] text-sm font-normal leading-normal",children:"Known health conditions: Asthma, Allergies"})]})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-4 bg-slate-50 px-4 min-h-14 justify-between",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-4",children:[jsxRuntimeExports.jsx("div",{className:"text-[#0d151c] flex items-center justify-center rounded-lg bg-[#e7eef4] shrink-0 size-10","data-icon":"Phone","data-size":"24px","data-weight":"regular",children:jsxRuntimeExports.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24px",height:"24px",fill:"currentColor",viewBox:"0 0 256 256",children:jsxRuntimeExports.jsx("path",{d:"M222.37,158.46l-47.11-21.11-.13-.06a16,16,0,0,0-15.17,1.4,8.12,8.12,0,0,0-.75.56L134.87,160c-15.42-7.49-31.34-23.29-38.83-38.51l20.78-24.71c.2-.25.39-.5.57-.77a16,16,0,0,0,1.32-15.06l0-.12L97.54,33.64a16,16,0,0,0-16.62-9.52A56.26,56.26,0,0,0,32,80c0,79.4,64.6,144,144,144a56.26,56.26,0,0,0,55.88-48.92A16,16,0,0,0,222.37,158.46ZM176,208A128.14,128.14,0,0,1,48,80,40.2,40.2,0,0,1,82.87,40a.61.61,0,0,0,0,.12l21,47L83.2,111.86a6.13,6.13,0,0,0-.57.77,16,16,0,0,0-1,15.7c9.06,18.53,27.73,37.06,46.46,46.11a16,16,0,0,0,15.75-1.14,8.44,8.44,0,0,0,.74-.56L168.89,152l47,21.05h0s.08,0,.11,0A40.21,40.21,0,0,1,176,208Z"})})}),jsxRuntimeExports.jsx("p",{className:"text-[#0d151c] text-base font-normal leading-normal flex-1 truncate",children:"Contact Number"})]}),jsxRuntimeExports.jsx("div",{className:"shrink-0",children:jsxRuntimeExports.jsxs("p",{className:"text-[#0d151c] text-base font-normal leading-normal",children:["(+91) ",vt.phone]})})]}),jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-center px-4 pb-3 pt-5",children:[jsxRuntimeExports.jsx("h2",{className:"text-[#0d151c] text-[22px] font-bold leading-tight tracking-[-0.015em]",children:"Report History"}),jsxRuntimeExports.jsx("label",{htmlFor:"file-upload",className:`bg-blue-500 text-white px-4 py-2 rounded cursor-pointer ${xt.isDoctor?"hidden":""}`,children:"Upload Reports"}),jsxRuntimeExports.jsx("input",{id:"file-upload",type:"file",className:"hidden",onChange:Pt})]}),jsxRuntimeExports.jsx("div",{children:St.map((bt,Ft)=>jsxRuntimeExports.jsxs("div",{onClick:()=>{_e(bt.file)},className:"flex items-center gap-4 bg-slate-50 px-4 min-h-[72px] py-2 justify-between cursor-pointer hover:bg-slate-100 hover:scale-105 transition transform duration-300",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-4",children:[jsxRuntimeExports.jsx("div",{className:"text-[#0d151c] flex items-center justify-center rounded-lg bg-[#e7eef4] shrink-0 size-12","data-icon":"File","data-size":"24px","data-weight":"regular",children:jsxRuntimeExports.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24px",height:"24px",fill:"currentColor",viewBox:"0 0 256 256",children:jsxRuntimeExports.jsx("path",{d:"M213.66,82.34l-56-56A8,8,0,0,0,152,24H56A16,16,0,0,0,40,40V216a16,16,0,0,0,16,16H200a16,16,0,0,0,16-16V88A8,8,0,0,0,213.66,82.34ZM160,51.31,188.69,80H160ZM200,216H56V40h88V88a8,8,0,0,0,8,8h48V216Z"})})}),jsxRuntimeExports.jsxs("div",{className:"flex flex-col justify-center",children:[jsxRuntimeExports.jsx("p",{className:"text-[#0d151c] text-base font-medium leading-normal line-clamp-1",children:bt.date}),jsxRuntimeExports.jsx("p",{className:"text-[#49779c] text-sm font-normal leading-normal line-clamp-2",children:bt.specialistReq})]})]}),jsxRuntimeExports.jsx("div",{className:"shrink-0",children:jsxRuntimeExports.jsx("div",{className:"text-[#0d151c] flex size-7 items-center justify-center","data-icon":"CaretRight","data-size":"24px","data-weight":"regular",children:jsxRuntimeExports.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24px",height:"24px",fill:"currentColor",viewBox:"0 0 256 256",children:jsxRuntimeExports.jsx("path",{d:"M181.66,133.66l-80,80a8,8,0,0,1-11.32-11.32L164.69,128,90.34,53.66a8,8,0,0,1,11.32-11.32l80,80A8,8,0,0,1,181.66,133.66Z"})})})})]},Ft))})]})})}function Patient(xt){const{state:$}=useLocation(),{id:ht}=$;return jsxRuntimeExports.jsx("div",{className:"relative flex size-full min-h-screen flex-col bg-slate-50 group/design-root overflow-x-hidden",style:{fontFamily:'Manrope, "Noto Sans", sans-serif;'},children:jsxRuntimeExports.jsxs("div",{className:"layout-container flex h-full grow flex-col",children:[jsxRuntimeExports.jsx(Navbar,{patient:!0,isDoctor:xt.isDoctor}),jsxRuntimeExports.jsx(Profile,{isDoctor:xt.isDoctor,id:ht})]})})}function Signin(xt){const[$,ht]=reactExports.useState("");let vt=useNavigate();const At=Et=>{const Rt=Et.target.value;ht(Rt),Rt==="doctor"?xt.setIsDoctor(!0):Rt==="caretaker"&&xt.setIsDoctor(!1)},St=()=>{$?vt("/main"):alert("Please select a role before signing in.")},kt={"--checkbox-tick-svg":"url('data:image/svg+xml,%3csvg viewBox=%270 0 16 16%27 fill=%27rgb(248,250,252)%27 xmlns=%27http://www.w3.org/2000/svg%27%3e%3cpath d=%27M12.207 4.793a1 1 0 010 1.414l-5 5a1 1 0 01-1.414 0l-2-2a1 1 0 011.414-1.414L6.5 9.086l4.293-4.293a1 1 0 011.414 0z%27/%3e%3c/svg%3e')",fontFamily:"Manrope, 'Noto Sans', sans-serif"};return jsxRuntimeExports.jsxs("div",{className:"min-h-screen flex flex-col md:flex-row",children:[jsxRuntimeExports.jsx("div",{className:"flex flex-1 justify-center items-center bg-slate-50 p-10",style:kt,children:jsxRuntimeExports.jsxs("div",{className:"w-full max-w-md",children:[jsxRuntimeExports.jsx("h2",{className:"text-2xl font-bold text-center mb-4",children:"Welcome to HealthCo"}),jsxRuntimeExports.jsx("p",{className:"text-center mb-4",children:"Please select if you are a doctor or a caretaker."}),jsxRuntimeExports.jsx("div",{className:"mb-6",children:jsxRuntimeExports.jsxs("select",{className:"w-full p-3 border rounded-lg",value:$,onChange:At,children:[jsxRuntimeExports.jsx("option",{value:"",disabled:!0,children:"Select your role"}),jsxRuntimeExports.jsx("option",{value:"doctor",children:"Doctor"}),jsxRuntimeExports.jsx("option",{value:"caretaker",children:"Caretaker"})]})}),jsxRuntimeExports.jsx("button",{className:`w-full py-3 rounded-lg ${$?"bg-blue-500 text-white":"bg-gray-300 text-gray-500 cursor-not-allowed"}`,onClick:St,disabled:!$,children:"Sign in"})]})}),jsxRuntimeExports.jsx("div",{className:"flex flex-1 justify-center items-center bg-blue-100 p-10",children:jsxRuntimeExports.jsx("img",{src:"https://via.placeholder.com/400x300",alt:"Healthcare",className:"max-w-full h-auto"})})]})}const NewSignin=()=>{const[xt,$]=reactExports.useState(null),ht=vt=>{$(vt)};return jsxRuntimeExports.jsx("div",{className:"relative flex items-center justify-center min-h-screen bg-slate-50",children:jsxRuntimeExports.jsxs("div",{className:"layout-container flex flex-col max-w-[960px] w-full px-6",children:[jsxRuntimeExports.jsxs("header",{className:"flex items-center justify-between border-b border-solid border-b-[#e7edf3] px-4 py-3",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-4 text-[#0e141b]",children:[jsxRuntimeExports.jsx("div",{className:"size-4",children:jsxRuntimeExports.jsx("svg",{viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:jsxRuntimeExports.jsx("path",{d:"M4 42.4379C4 42.4379 14.0962 36.0744 24 41.1692C35.0664 46.8624 44 42.2078 44 42.2078L44 7.01134C44 7.01134 35.068 11.6577 24.0031 5.96913C14.0971 0.876274 4 7.27094 4 7.27094L4 42.4379Z",fill:"currentColor"})})}),jsxRuntimeExports.jsx("h2",{className:"text-[#0e141b] text-lg font-bold leading-tight tracking-[-0.015em]",children:"HealthCo"})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-8",children:[jsxRuntimeExports.jsx("button",{className:"text-[#1980e6] text-sm font-medium leading-normal",onClick:()=>alert("Link to professionals"),children:"For professionals"}),jsxRuntimeExports.jsx("button",{className:"text-[#1980e6] text-sm font-medium leading-normal",onClick:()=>alert("Link to caretakers"),children:"For caretakers"})]})]}),jsxRuntimeExports.jsxs("div",{className:"flex flex-col items-center justify-center flex-1",children:[jsxRuntimeExports.jsx("h2",{className:"text-[#0e141b] tracking-light text-[28px] font-bold leading-tight pb-3",children:"Welcome to HealthCo"}),jsxRuntimeExports.jsx("button",{className:"bg-[#1980e6] text-slate-50 text-base font-bold leading-normal tracking-[0.015em] py-3 px-8 rounded-lg mb-6",onClick:()=>alert("Display user selection"),children:"Select User"}),xt===null&&jsxRuntimeExports.jsxs("div",{className:"flex gap-6",children:[jsxRuntimeExports.jsx("button",{className:"flex items-center justify-center bg-[#1980e6] text-slate-50 text-base font-bold leading-normal tracking-[0.015em] py-3 px-8 rounded-lg",onClick:()=>ht("doctor"),children:"Doctor"}),jsxRuntimeExports.jsx("button",{className:"flex items-center justify-center bg-[#1980e6] text-slate-50 text-base font-bold leading-normal tracking-[0.015em] py-3 px-8 rounded-lg",onClick:()=>ht("caretaker"),children:"Caretaker"})]}),xt&&jsxRuntimeExports.jsxs("div",{className:"text-[#0e141b] text-base font-normal leading-normal mt-4",children:["You are signed in as ",jsxRuntimeExports.jsx("strong",{children:xt}),"."]})]}),jsxRuntimeExports.jsx("footer",{className:"flex justify-center py-3",children:jsxRuntimeExports.jsx("p",{className:"text-[#4e7397] text-sm font-normal leading-normal",children:"By continuing, you agree to our Terms of Use and Privacy Policy"})})]})})},scriptRel="modulepreload",assetsURL=function(xt){return"/"+xt},seen={},__vitePreload=function($,ht,vt){let At=Promise.resolve();if(ht&&ht.length>0){document.getElementsByTagName("link");const St=document.querySelector("meta[property=csp-nonce]"),kt=(St==null?void 0:St.nonce)||(St==null?void 0:St.getAttribute("nonce"));At=Promise.all(ht.map(Et=>{if(Et=assetsURL(Et),Et in seen)return;seen[Et]=!0;const Rt=Et.endsWith(".css"),wt=Rt?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${Et}"]${wt}`))return;const _t=document.createElement("link");if(_t.rel=Rt?"stylesheet":scriptRel,Rt||(_t.as="script",_t.crossOrigin=""),_t.href=Et,kt&&_t.setAttribute("nonce",kt),document.head.appendChild(_t),Rt)return new Promise((Pt,_e)=>{_t.addEventListener("load",Pt),_t.addEventListener("error",()=>_e(new Error(`Unable to preload CSS for ${Et}`)))})}))}return At.then(()=>$()).catch(St=>{const kt=new Event("vite:preloadError",{cancelable:!0});if(kt.payload=St,window.dispatchEvent(kt),!kt.defaultPrevented)throw St})};var __webpack_require__={};__webpack_require__.d=(xt,$)=>{for(var ht in $)__webpack_require__.o($,ht)&&!__webpack_require__.o(xt,ht)&&Object.defineProperty(xt,ht,{enumerable:!0,get:$[ht]})};__webpack_require__.o=(xt,$)=>Object.prototype.hasOwnProperty.call(xt,$);var __webpack_exports__=globalThis.pdfjsLib={};__webpack_require__.d(__webpack_exports__,{AbortException:()=>AbortException,AnnotationEditorLayer:()=>AnnotationEditorLayer,AnnotationEditorParamsType:()=>AnnotationEditorParamsType,AnnotationEditorType:()=>AnnotationEditorType,AnnotationEditorUIManager:()=>AnnotationEditorUIManager,AnnotationLayer:()=>AnnotationLayer,AnnotationMode:()=>AnnotationMode,CMapCompressionType:()=>CMapCompressionType,ColorPicker:()=>ColorPicker,DOMSVGFactory:()=>DOMSVGFactory,DrawLayer:()=>DrawLayer,FeatureTest:()=>util_FeatureTest,GlobalWorkerOptions:()=>GlobalWorkerOptions,ImageKind:()=>util_ImageKind,InvalidPDFException:()=>InvalidPDFException,MissingPDFException:()=>MissingPDFException,OPS:()=>OPS,Outliner:()=>Outliner,PDFDataRangeTransport:()=>PDFDataRangeTransport,PDFDateString:()=>PDFDateString,PDFWorker:()=>PDFWorker,PasswordResponses:()=>PasswordResponses,PermissionFlag:()=>PermissionFlag,PixelsPerInch:()=>PixelsPerInch,RenderingCancelledException:()=>RenderingCancelledException,TextLayer:()=>TextLayer,UnexpectedResponseException:()=>UnexpectedResponseException,Util:()=>Util,VerbosityLevel:()=>VerbosityLevel,XfaLayer:()=>XfaLayer,build:()=>build,createValidAbsoluteUrl:()=>createValidAbsoluteUrl,fetchData:()=>fetchData,getDocument:()=>getDocument,getFilenameFromUrl:()=>getFilenameFromUrl,getPdfFilenameFromUrl:()=>getPdfFilenameFromUrl,getXfaPageViewport:()=>getXfaPageViewport,isDataScheme:()=>isDataScheme,isPdfFile:()=>isPdfFile,noContextMenu:()=>noContextMenu,normalizeUnicode:()=>normalizeUnicode,renderTextLayer:()=>renderTextLayer,setLayerDimensions:()=>setLayerDimensions,shadow:()=>shadow,updateTextLayer:()=>updateTextLayer,version:()=>version});const isNodeJS=typeof process=="object"&&process+""=="[object process]"&&!process.versions.nw&&!(process.versions.electron&&process.type&&process.type!=="browser"),IDENTITY_MATRIX=[1,0,0,1,0,0],FONT_IDENTITY_MATRIX=[.001,0,0,.001,0,0],MAX_IMAGE_SIZE_TO_CACHE=1e7,LINE_FACTOR=1.35,RenderingIntentFlag={ANY:1,DISPLAY:2,PRINT:4,SAVE:8,ANNOTATIONS_FORMS:16,ANNOTATIONS_STORAGE:32,ANNOTATIONS_DISABLE:64,OPLIST:256},AnnotationMode={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3},AnnotationEditorPrefix="pdfjs_internal_editor_",AnnotationEditorType={DISABLE:-1,NONE:0,FREETEXT:3,HIGHLIGHT:9,STAMP:13,INK:15},AnnotationEditorParamsType={RESIZE:1,CREATE:2,FREETEXT_SIZE:11,FREETEXT_COLOR:12,FREETEXT_OPACITY:13,INK_COLOR:21,INK_THICKNESS:22,INK_OPACITY:23,HIGHLIGHT_COLOR:31,HIGHLIGHT_DEFAULT_COLOR:32,HIGHLIGHT_THICKNESS:33,HIGHLIGHT_FREE:34,HIGHLIGHT_SHOW_ALL:35},PermissionFlag={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048},TextRenderingMode={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_ADD_TO_PATH:4,STROKE_ADD_TO_PATH:5,FILL_STROKE_ADD_TO_PATH:6,ADD_TO_PATH:7,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4},util_ImageKind={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3},AnnotationType={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,SOUND:18,MOVIE:19,WIDGET:20,SCREEN:21,PRINTERMARK:22,TRAPNET:23,WATERMARK:24,THREED:25,REDACT:26},AnnotationBorderStyleType={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5},VerbosityLevel={ERRORS:0,WARNINGS:1,INFOS:5},CMapCompressionType={NONE:0,BINARY:1},OPS={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotation:80,endAnnotation:81,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91},PasswordResponses={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};let verbosity=VerbosityLevel.WARNINGS;function setVerbosityLevel(xt){Number.isInteger(xt)&&(verbosity=xt)}function getVerbosityLevel(){return verbosity}function info(xt){verbosity>=VerbosityLevel.INFOS&&console.log(`Info: ${xt}`)}function warn(xt){verbosity>=VerbosityLevel.WARNINGS&&console.log(`Warning: ${xt}`)}function unreachable(xt){throw new Error(xt)}function assert(xt,$){xt||unreachable($)}function _isValidProtocol(xt){switch(xt==null?void 0:xt.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}function createValidAbsoluteUrl(xt,$=null,ht=null){if(!xt)return null;try{if(ht&&typeof xt=="string"){if(ht.addDefaultProtocol&&xt.startsWith("www.")){const At=xt.match(/\./g);(At==null?void 0:At.length)>=2&&(xt=`http://${xt}`)}if(ht.tryConvertEncoding)try{xt=stringToUTF8String(xt)}catch{}}const vt=$?new URL(xt,$):new URL(xt);if(_isValidProtocol(vt))return vt}catch{}return null}function shadow(xt,$,ht,vt=!1){return Object.defineProperty(xt,$,{value:ht,enumerable:!vt,configurable:!0,writable:!1}),ht}const BaseException=function(){function $(ht,vt){this.constructor===$&&unreachable("Cannot initialize BaseException."),this.message=ht,this.name=vt}return $.prototype=new Error,$.constructor=$,$}();class PasswordException extends BaseException{constructor($,ht){super($,"PasswordException"),this.code=ht}}class UnknownErrorException extends BaseException{constructor($,ht){super($,"UnknownErrorException"),this.details=ht}}class InvalidPDFException extends BaseException{constructor($){super($,"InvalidPDFException")}}class MissingPDFException extends BaseException{constructor($){super($,"MissingPDFException")}}class UnexpectedResponseException extends BaseException{constructor($,ht){super($,"UnexpectedResponseException"),this.status=ht}}class FormatError extends BaseException{constructor($){super($,"FormatError")}}class AbortException extends BaseException{constructor($){super($,"AbortException")}}function bytesToString(xt){(typeof xt!="object"||(xt==null?void 0:xt.length)===void 0)&&unreachable("Invalid argument for bytesToString");const $=xt.length,ht=8192;if($<ht)return String.fromCharCode.apply(null,xt);const vt=[];for(let At=0;At<$;At+=ht){const St=Math.min(At+ht,$),kt=xt.subarray(At,St);vt.push(String.fromCharCode.apply(null,kt))}return vt.join("")}function stringToBytes(xt){typeof xt!="string"&&unreachable("Invalid argument for stringToBytes");const $=xt.length,ht=new Uint8Array($);for(let vt=0;vt<$;++vt)ht[vt]=xt.charCodeAt(vt)&255;return ht}function string32(xt){return String.fromCharCode(xt>>24&255,xt>>16&255,xt>>8&255,xt&255)}function objectFromMap(xt){const $=Object.create(null);for(const[ht,vt]of xt)$[ht]=vt;return $}function isLittleEndian(){const xt=new Uint8Array(4);return xt[0]=1,new Uint32Array(xt.buffer,0,1)[0]===1}function isEvalSupported(){try{return new Function(""),!0}catch{return!1}}class util_FeatureTest{static get isLittleEndian(){return shadow(this,"isLittleEndian",isLittleEndian())}static get isEvalSupported(){return shadow(this,"isEvalSupported",isEvalSupported())}static get isOffscreenCanvasSupported(){return shadow(this,"isOffscreenCanvasSupported",typeof OffscreenCanvas<"u")}static get platform(){return typeof navigator<"u"&&typeof(navigator==null?void 0:navigator.platform)=="string"?shadow(this,"platform",{isMac:navigator.platform.includes("Mac")}):shadow(this,"platform",{isMac:!1})}static get isCSSRoundSupported(){var $,ht;return shadow(this,"isCSSRoundSupported",(ht=($=globalThis.CSS)==null?void 0:$.supports)==null?void 0:ht.call($,"width: round(1.5px, 1px)"))}}const hexNumbers=Array.from(Array(256).keys(),xt=>xt.toString(16).padStart(2,"0"));var j0,Qx,p9;class Util{static makeHexColor($,ht,vt){return`#${hexNumbers[$]}${hexNumbers[ht]}${hexNumbers[vt]}`}static scaleMinMax($,ht){let vt;$[0]?($[0]<0&&(vt=ht[0],ht[0]=ht[2],ht[2]=vt),ht[0]*=$[0],ht[2]*=$[0],$[3]<0&&(vt=ht[1],ht[1]=ht[3],ht[3]=vt),ht[1]*=$[3],ht[3]*=$[3]):(vt=ht[0],ht[0]=ht[1],ht[1]=vt,vt=ht[2],ht[2]=ht[3],ht[3]=vt,$[1]<0&&(vt=ht[1],ht[1]=ht[3],ht[3]=vt),ht[1]*=$[1],ht[3]*=$[1],$[2]<0&&(vt=ht[0],ht[0]=ht[2],ht[2]=vt),ht[0]*=$[2],ht[2]*=$[2]),ht[0]+=$[4],ht[1]+=$[5],ht[2]+=$[4],ht[3]+=$[5]}static transform($,ht){return[$[0]*ht[0]+$[2]*ht[1],$[1]*ht[0]+$[3]*ht[1],$[0]*ht[2]+$[2]*ht[3],$[1]*ht[2]+$[3]*ht[3],$[0]*ht[4]+$[2]*ht[5]+$[4],$[1]*ht[4]+$[3]*ht[5]+$[5]]}static applyTransform($,ht){const vt=$[0]*ht[0]+$[1]*ht[2]+ht[4],At=$[0]*ht[1]+$[1]*ht[3]+ht[5];return[vt,At]}static applyInverseTransform($,ht){const vt=ht[0]*ht[3]-ht[1]*ht[2],At=($[0]*ht[3]-$[1]*ht[2]+ht[2]*ht[5]-ht[4]*ht[3])/vt,St=(-$[0]*ht[1]+$[1]*ht[0]+ht[4]*ht[1]-ht[5]*ht[0])/vt;return[At,St]}static getAxialAlignedBoundingBox($,ht){const vt=this.applyTransform($,ht),At=this.applyTransform($.slice(2,4),ht),St=this.applyTransform([$[0],$[3]],ht),kt=this.applyTransform([$[2],$[1]],ht);return[Math.min(vt[0],At[0],St[0],kt[0]),Math.min(vt[1],At[1],St[1],kt[1]),Math.max(vt[0],At[0],St[0],kt[0]),Math.max(vt[1],At[1],St[1],kt[1])]}static inverseTransform($){const ht=$[0]*$[3]-$[1]*$[2];return[$[3]/ht,-$[1]/ht,-$[2]/ht,$[0]/ht,($[2]*$[5]-$[4]*$[3])/ht,($[4]*$[1]-$[5]*$[0])/ht]}static singularValueDecompose2dScale($){const ht=[$[0],$[2],$[1],$[3]],vt=$[0]*ht[0]+$[1]*ht[2],At=$[0]*ht[1]+$[1]*ht[3],St=$[2]*ht[0]+$[3]*ht[2],kt=$[2]*ht[1]+$[3]*ht[3],Et=(vt+kt)/2,Rt=Math.sqrt((vt+kt)**2-4*(vt*kt-St*At))/2,wt=Et+Rt||1,_t=Et-Rt||1;return[Math.sqrt(wt),Math.sqrt(_t)]}static normalizeRect($){const ht=$.slice(0);return $[0]>$[2]&&(ht[0]=$[2],ht[2]=$[0]),$[1]>$[3]&&(ht[1]=$[3],ht[3]=$[1]),ht}static intersect($,ht){const vt=Math.max(Math.min($[0],$[2]),Math.min(ht[0],ht[2])),At=Math.min(Math.max($[0],$[2]),Math.max(ht[0],ht[2]));if(vt>At)return null;const St=Math.max(Math.min($[1],$[3]),Math.min(ht[1],ht[3])),kt=Math.min(Math.max($[1],$[3]),Math.max(ht[1],ht[3]));return St>kt?null:[vt,St,At,kt]}static bezierBoundingBox($,ht,vt,At,St,kt,Et,Rt,wt){return wt?(wt[0]=Math.min(wt[0],$,Et),wt[1]=Math.min(wt[1],ht,Rt),wt[2]=Math.max(wt[2],$,Et),wt[3]=Math.max(wt[3],ht,Rt)):wt=[Math.min($,Et),Math.min(ht,Rt),Math.max($,Et),Math.max(ht,Rt)],On(this,j0,p9).call(this,$,vt,St,Et,ht,At,kt,Rt,3*(-$+3*(vt-St)+Et),6*($-2*vt+St),3*(vt-$),wt),On(this,j0,p9).call(this,$,vt,St,Et,ht,At,kt,Rt,3*(-ht+3*(At-kt)+Rt),6*(ht-2*At+kt),3*(At-ht),wt),wt}}j0=new WeakSet,Qx=function($,ht,vt,At,St,kt,Et,Rt,wt,_t){if(wt<=0||wt>=1)return;const Pt=1-wt,_e=wt*wt,bt=_e*wt,Ft=Pt*(Pt*(Pt*$+3*wt*ht)+3*_e*vt)+bt*At,Xt=Pt*(Pt*(Pt*St+3*wt*kt)+3*_e*Et)+bt*Rt;_t[0]=Math.min(_t[0],Ft),_t[1]=Math.min(_t[1],Xt),_t[2]=Math.max(_t[2],Ft),_t[3]=Math.max(_t[3],Xt)},p9=function($,ht,vt,At,St,kt,Et,Rt,wt,_t,Pt,_e){if(Math.abs(wt)<1e-12){Math.abs(_t)>=1e-12&&On(this,j0,Qx).call(this,$,ht,vt,At,St,kt,Et,Rt,-Pt/_t,_e);return}const bt=_t**2-4*Pt*wt;if(bt<0)return;const Ft=Math.sqrt(bt),Xt=2*wt;On(this,j0,Qx).call(this,$,ht,vt,At,St,kt,Et,Rt,(-_t+Ft)/Xt,_e),On(this,j0,Qx).call(this,$,ht,vt,At,St,kt,Et,Rt,(-_t-Ft)/Xt,_e)},Nn(Util,j0);function stringToUTF8String(xt){return decodeURIComponent(escape(xt))}let NormalizeRegex=null,NormalizationMap=null;function normalizeUnicode(xt){return NormalizeRegex||(NormalizeRegex=/([\u00a0\u00b5\u037e\u0eb3\u2000-\u200a\u202f\u2126\ufb00-\ufb04\ufb06\ufb20-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufba1\ufba4-\ufba9\ufbae-\ufbb1\ufbd3-\ufbdc\ufbde-\ufbe7\ufbea-\ufbf8\ufbfc-\ufbfd\ufc00-\ufc5d\ufc64-\ufcf1\ufcf5-\ufd3d\ufd88\ufdf4\ufdfa-\ufdfb\ufe71\ufe77\ufe79\ufe7b\ufe7d]+)|(\ufb05+)/gu,NormalizationMap=new Map([["","t"]])),xt.replaceAll(NormalizeRegex,($,ht,vt)=>ht?ht.normalize("NFKC"):NormalizationMap.get(vt))}function getUuid(){if(typeof crypto<"u"&&typeof(crypto==null?void 0:crypto.randomUUID)=="function")return crypto.randomUUID();const xt=new Uint8Array(32);if(typeof crypto<"u"&&typeof(crypto==null?void 0:crypto.getRandomValues)=="function")crypto.getRandomValues(xt);else for(let $=0;$<32;$++)xt[$]=Math.floor(Math.random()*255);return bytesToString(xt)}const AnnotationPrefix="pdfjs_internal_id_",FontRenderOps={BEZIER_CURVE_TO:0,MOVE_TO:1,LINE_TO:2,QUADRATIC_CURVE_TO:3,RESTORE:4,SAVE:5,SCALE:6,TRANSFORM:7,TRANSLATE:8};class BaseFilterFactory{constructor(){this.constructor===BaseFilterFactory&&unreachable("Cannot initialize BaseFilterFactory.")}addFilter($){return"none"}addHCMFilter($,ht){return"none"}addAlphaFilter($){return"none"}addLuminosityFilter($){return"none"}addHighlightHCMFilter($,ht,vt,At,St){return"none"}destroy($=!1){}}class BaseCanvasFactory{constructor(){this.constructor===BaseCanvasFactory&&unreachable("Cannot initialize BaseCanvasFactory.")}create($,ht){if($<=0||ht<=0)throw new Error("Invalid canvas size");const vt=this._createCanvas($,ht);return{canvas:vt,context:vt.getContext("2d")}}reset($,ht,vt){if(!$.canvas)throw new Error("Canvas is not specified");if(ht<=0||vt<=0)throw new Error("Invalid canvas size");$.canvas.width=ht,$.canvas.height=vt}destroy($){if(!$.canvas)throw new Error("Canvas is not specified");$.canvas.width=0,$.canvas.height=0,$.canvas=null,$.context=null}_createCanvas($,ht){unreachable("Abstract method `_createCanvas` called.")}}class BaseCMapReaderFactory{constructor({baseUrl:$=null,isCompressed:ht=!0}){this.constructor===BaseCMapReaderFactory&&unreachable("Cannot initialize BaseCMapReaderFactory."),this.baseUrl=$,this.isCompressed=ht}async fetch({name:$}){if(!this.baseUrl)throw new Error('The CMap "baseUrl" parameter must be specified, ensure that the "cMapUrl" and "cMapPacked" API parameters are provided.');if(!$)throw new Error("CMap name must be specified.");const ht=this.baseUrl+$+(this.isCompressed?".bcmap":""),vt=this.isCompressed?CMapCompressionType.BINARY:CMapCompressionType.NONE;return this._fetchData(ht,vt).catch(At=>{throw new Error(`Unable to load ${this.isCompressed?"binary ":""}CMap at: ${ht}`)})}_fetchData($,ht){unreachable("Abstract method `_fetchData` called.")}}class BaseStandardFontDataFactory{constructor({baseUrl:$=null}){this.constructor===BaseStandardFontDataFactory&&unreachable("Cannot initialize BaseStandardFontDataFactory."),this.baseUrl=$}async fetch({filename:$}){if(!this.baseUrl)throw new Error('The standard font "baseUrl" parameter must be specified, ensure that the "standardFontDataUrl" API parameter is provided.');if(!$)throw new Error("Font filename must be specified.");const ht=`${this.baseUrl}${$}`;return this._fetchData(ht).catch(vt=>{throw new Error(`Unable to load font data at: ${ht}`)})}_fetchData($){unreachable("Abstract method `_fetchData` called.")}}class BaseSVGFactory{constructor(){this.constructor===BaseSVGFactory&&unreachable("Cannot initialize BaseSVGFactory.")}create($,ht,vt=!1){if($<=0||ht<=0)throw new Error("Invalid SVG dimensions");const At=this._createSVG("svg:svg");return At.setAttribute("version","1.1"),vt||(At.setAttribute("width",`${$}px`),At.setAttribute("height",`${ht}px`)),At.setAttribute("preserveAspectRatio","none"),At.setAttribute("viewBox",`0 0 ${$} ${ht}`),At}createElement($){if(typeof $!="string")throw new Error("Invalid SVG element type");return this._createSVG($)}_createSVG($){unreachable("Abstract method `_createSVG` called.")}}const SVG_NS="http://www.w3.org/2000/svg",Pu=class Pu{};Ur(Pu,"CSS",96),Ur(Pu,"PDF",72),Ur(Pu,"PDF_TO_CSS_UNITS",Pu.CSS/Pu.PDF);let PixelsPerInch=Pu;var Mu,Wl,g0,Uo,H2,Ou,cs,Io,D1,L1,e2,py,g9,N1,Yp,Zp,m9,Jp;class DOMFilterFactory extends BaseFilterFactory{constructor({docId:ht,ownerDocument:vt=globalThis.document}={}){super();Nn(this,cs);Nn(this,Mu);Nn(this,Wl);Nn(this,g0);Nn(this,Uo);Nn(this,H2);Nn(this,Ou,0);$n(this,g0,ht),$n(this,Uo,vt)}addFilter(ht){if(!ht)return"none";let vt=Mt(this,cs,Io).get(ht);if(vt)return vt;const[At,St,kt]=On(this,cs,e2).call(this,ht),Et=ht.length===1?At:`${At}${St}${kt}`;if(vt=Mt(this,cs,Io).get(Et),vt)return Mt(this,cs,Io).set(ht,vt),vt;const Rt=`g_${Mt(this,g0)}_transfer_map_${So(this,Ou)._++}`,wt=`url(#${Rt})`;Mt(this,cs,Io).set(ht,wt),Mt(this,cs,Io).set(Et,wt);const _t=On(this,cs,N1).call(this,Rt);return On(this,cs,Zp).call(this,At,St,kt,_t),wt}addHCMFilter(ht,vt){var Ft;const At=`${ht}-${vt}`,St="base";let kt=Mt(this,cs,D1).get(St);if((kt==null?void 0:kt.key)===At||(kt?((Ft=kt.filter)==null||Ft.remove(),kt.key=At,kt.url="none",kt.filter=null):(kt={key:At,url:"none",filter:null},Mt(this,cs,D1).set(St,kt)),!ht||!vt))return kt.url;const Et=On(this,cs,Jp).call(this,ht);ht=Util.makeHexColor(...Et);const Rt=On(this,cs,Jp).call(this,vt);if(vt=Util.makeHexColor(...Rt),Mt(this,cs,L1).style.color="",ht==="#000000"&&vt==="#ffffff"||ht===vt)return kt.url;const wt=new Array(256);for(let Xt=0;Xt<=255;Xt++){const Kt=Xt/255;wt[Xt]=Kt<=.03928?Kt/12.92:((Kt+.055)/1.055)**2.4}const _t=wt.join(","),Pt=`g_${Mt(this,g0)}_hcm_filter`,_e=kt.filter=On(this,cs,N1).call(this,Pt);On(this,cs,Zp).call(this,_t,_t,_t,_e),On(this,cs,g9).call(this,_e);const bt=(Xt,Kt)=>{const Nt=Et[Xt]/255,$t=Rt[Xt]/255,Dt=new Array(Kt+1);for(let jt=0;jt<=Kt;jt++)Dt[jt]=Nt+jt/Kt*($t-Nt);return Dt.join(",")};return On(this,cs,Zp).call(this,bt(0,5),bt(1,5),bt(2,5),_e),kt.url=`url(#${Pt})`,kt.url}addAlphaFilter(ht){let vt=Mt(this,cs,Io).get(ht);if(vt)return vt;const[At]=On(this,cs,e2).call(this,[ht]),St=`alpha_${At}`;if(vt=Mt(this,cs,Io).get(St),vt)return Mt(this,cs,Io).set(ht,vt),vt;const kt=`g_${Mt(this,g0)}_alpha_map_${So(this,Ou)._++}`,Et=`url(#${kt})`;Mt(this,cs,Io).set(ht,Et),Mt(this,cs,Io).set(St,Et);const Rt=On(this,cs,N1).call(this,kt);return On(this,cs,m9).call(this,At,Rt),Et}addLuminosityFilter(ht){let vt=Mt(this,cs,Io).get(ht||"luminosity");if(vt)return vt;let At,St;if(ht?([At]=On(this,cs,e2).call(this,[ht]),St=`luminosity_${At}`):St="luminosity",vt=Mt(this,cs,Io).get(St),vt)return Mt(this,cs,Io).set(ht,vt),vt;const kt=`g_${Mt(this,g0)}_luminosity_map_${So(this,Ou)._++}`,Et=`url(#${kt})`;Mt(this,cs,Io).set(ht,Et),Mt(this,cs,Io).set(St,Et);const Rt=On(this,cs,N1).call(this,kt);return On(this,cs,py).call(this,Rt),ht&&On(this,cs,m9).call(this,At,Rt),Et}addHighlightHCMFilter(ht,vt,At,St,kt){var $t;const Et=`${vt}-${At}-${St}-${kt}`;let Rt=Mt(this,cs,D1).get(ht);if((Rt==null?void 0:Rt.key)===Et||(Rt?(($t=Rt.filter)==null||$t.remove(),Rt.key=Et,Rt.url="none",Rt.filter=null):(Rt={key:Et,url:"none",filter:null},Mt(this,cs,D1).set(ht,Rt)),!vt||!At))return Rt.url;const[wt,_t]=[vt,At].map(On(this,cs,Jp).bind(this));let Pt=Math.round(.2126*wt[0]+.7152*wt[1]+.0722*wt[2]),_e=Math.round(.2126*_t[0]+.7152*_t[1]+.0722*_t[2]),[bt,Ft]=[St,kt].map(On(this,cs,Jp).bind(this));_e<Pt&&([Pt,_e,bt,Ft]=[_e,Pt,Ft,bt]),Mt(this,cs,L1).style.color="";const Xt=(Dt,jt,Ct)=>{const qt=new Array(256),Bt=(_e-Pt)/Ct,Gt=Dt/255,en=(jt-Dt)/(255*Ct);let dn=0;for(let Qt=0;Qt<=Ct;Qt++){const gn=Math.round(Pt+Qt*Bt),nn=Gt+Qt*en;for(let bn=dn;bn<=gn;bn++)qt[bn]=nn;dn=gn+1}for(let Qt=dn;Qt<256;Qt++)qt[Qt]=qt[dn-1];return qt.join(",")},Kt=`g_${Mt(this,g0)}_hcm_${ht}_filter`,Nt=Rt.filter=On(this,cs,N1).call(this,Kt);return On(this,cs,g9).call(this,Nt),On(this,cs,Zp).call(this,Xt(bt[0],Ft[0],5),Xt(bt[1],Ft[1],5),Xt(bt[2],Ft[2],5),Nt),Rt.url=`url(#${Kt})`,Rt.url}destroy(ht=!1){ht&&Mt(this,cs,D1).size!==0||(Mt(this,Wl)&&(Mt(this,Wl).parentNode.parentNode.remove(),$n(this,Wl,null)),Mt(this,Mu)&&(Mt(this,Mu).clear(),$n(this,Mu,null)),$n(this,Ou,0))}}Mu=new WeakMap,Wl=new WeakMap,g0=new WeakMap,Uo=new WeakMap,H2=new WeakMap,Ou=new WeakMap,cs=new WeakSet,Io=function(){return Mt(this,Mu)||$n(this,Mu,new Map)},D1=function(){return Mt(this,H2)||$n(this,H2,new Map)},L1=function(){if(!Mt(this,Wl)){const ht=Mt(this,Uo).createElement("div"),{style:vt}=ht;vt.visibility="hidden",vt.contain="strict",vt.width=vt.height=0,vt.position="absolute",vt.top=vt.left=0,vt.zIndex=-1;const At=Mt(this,Uo).createElementNS(SVG_NS,"svg");At.setAttribute("width",0),At.setAttribute("height",0),$n(this,Wl,Mt(this,Uo).createElementNS(SVG_NS,"defs")),ht.append(At),At.append(Mt(this,Wl)),Mt(this,Uo).body.append(ht)}return Mt(this,Wl)},e2=function(ht){if(ht.length===1){const wt=ht[0],_t=new Array(256);for(let _e=0;_e<256;_e++)_t[_e]=wt[_e]/255;const Pt=_t.join(",");return[Pt,Pt,Pt]}const[vt,At,St]=ht,kt=new Array(256),Et=new Array(256),Rt=new Array(256);for(let wt=0;wt<256;wt++)kt[wt]=vt[wt]/255,Et[wt]=At[wt]/255,Rt[wt]=St[wt]/255;return[kt.join(","),Et.join(","),Rt.join(",")]},py=function(ht){const vt=Mt(this,Uo).createElementNS(SVG_NS,"feColorMatrix");vt.setAttribute("type","matrix"),vt.setAttribute("values","0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.3 0.59 0.11 0 0"),ht.append(vt)},g9=function(ht){const vt=Mt(this,Uo).createElementNS(SVG_NS,"feColorMatrix");vt.setAttribute("type","matrix"),vt.setAttribute("values","0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0 0 0 1 0"),ht.append(vt)},N1=function(ht){const vt=Mt(this,Uo).createElementNS(SVG_NS,"filter");return vt.setAttribute("color-interpolation-filters","sRGB"),vt.setAttribute("id",ht),Mt(this,cs,L1).append(vt),vt},Yp=function(ht,vt,At){const St=Mt(this,Uo).createElementNS(SVG_NS,vt);St.setAttribute("type","discrete"),St.setAttribute("tableValues",At),ht.append(St)},Zp=function(ht,vt,At,St){const kt=Mt(this,Uo).createElementNS(SVG_NS,"feComponentTransfer");St.append(kt),On(this,cs,Yp).call(this,kt,"feFuncR",ht),On(this,cs,Yp).call(this,kt,"feFuncG",vt),On(this,cs,Yp).call(this,kt,"feFuncB",At)},m9=function(ht,vt){const At=Mt(this,Uo).createElementNS(SVG_NS,"feComponentTransfer");vt.append(At),On(this,cs,Yp).call(this,At,"feFuncA",ht)},Jp=function(ht){return Mt(this,cs,L1).style.color=ht,getRGB(getComputedStyle(Mt(this,cs,L1)).getPropertyValue("color"))};class DOMCanvasFactory extends BaseCanvasFactory{constructor({ownerDocument:$=globalThis.document}={}){super(),this._document=$}_createCanvas($,ht){const vt=this._document.createElement("canvas");return vt.width=$,vt.height=ht,vt}}async function fetchData(xt,$="text"){if(isValidFetchUrl(xt,document.baseURI)){const ht=await fetch(xt);if(!ht.ok)throw new Error(ht.statusText);switch($){case"arraybuffer":return ht.arrayBuffer();case"blob":return ht.blob();case"json":return ht.json()}return ht.text()}return new Promise((ht,vt)=>{const At=new XMLHttpRequest;At.open("GET",xt,!0),At.responseType=$,At.onreadystatechange=()=>{if(At.readyState===XMLHttpRequest.DONE){if(At.status===200||At.status===0){switch($){case"arraybuffer":case"blob":case"json":ht(At.response);return}ht(At.responseText);return}vt(new Error(At.statusText))}},At.send(null)})}class DOMCMapReaderFactory extends BaseCMapReaderFactory{_fetchData($,ht){return fetchData($,this.isCompressed?"arraybuffer":"text").then(vt=>({cMapData:vt instanceof ArrayBuffer?new Uint8Array(vt):stringToBytes(vt),compressionType:ht}))}}class DOMStandardFontDataFactory extends BaseStandardFontDataFactory{_fetchData($){return fetchData($,"arraybuffer").then(ht=>new Uint8Array(ht))}}class DOMSVGFactory extends BaseSVGFactory{_createSVG($){return document.createElementNS(SVG_NS,$)}}class PageViewport{constructor({viewBox:$,scale:ht,rotation:vt,offsetX:At=0,offsetY:St=0,dontFlip:kt=!1}){this.viewBox=$,this.scale=ht,this.rotation=vt,this.offsetX=At,this.offsetY=St;const Et=($[2]+$[0])/2,Rt=($[3]+$[1])/2;let wt,_t,Pt,_e;switch(vt%=360,vt<0&&(vt+=360),vt){case 180:wt=-1,_t=0,Pt=0,_e=1;break;case 90:wt=0,_t=1,Pt=1,_e=0;break;case 270:wt=0,_t=-1,Pt=-1,_e=0;break;case 0:wt=1,_t=0,Pt=0,_e=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}kt&&(Pt=-Pt,_e=-_e);let bt,Ft,Xt,Kt;wt===0?(bt=Math.abs(Rt-$[1])*ht+At,Ft=Math.abs(Et-$[0])*ht+St,Xt=($[3]-$[1])*ht,Kt=($[2]-$[0])*ht):(bt=Math.abs(Et-$[0])*ht+At,Ft=Math.abs(Rt-$[1])*ht+St,Xt=($[2]-$[0])*ht,Kt=($[3]-$[1])*ht),this.transform=[wt*ht,_t*ht,Pt*ht,_e*ht,bt-wt*ht*Et-Pt*ht*Rt,Ft-_t*ht*Et-_e*ht*Rt],this.width=Xt,this.height=Kt}get rawDims(){const{viewBox:$}=this;return shadow(this,"rawDims",{pageWidth:$[2]-$[0],pageHeight:$[3]-$[1],pageX:$[0],pageY:$[1]})}clone({scale:$=this.scale,rotation:ht=this.rotation,offsetX:vt=this.offsetX,offsetY:At=this.offsetY,dontFlip:St=!1}={}){return new PageViewport({viewBox:this.viewBox.slice(),scale:$,rotation:ht,offsetX:vt,offsetY:At,dontFlip:St})}convertToViewportPoint($,ht){return Util.applyTransform([$,ht],this.transform)}convertToViewportRectangle($){const ht=Util.applyTransform([$[0],$[1]],this.transform),vt=Util.applyTransform([$[2],$[3]],this.transform);return[ht[0],ht[1],vt[0],vt[1]]}convertToPdfPoint($,ht){return Util.applyInverseTransform([$,ht],this.transform)}}class RenderingCancelledException extends BaseException{constructor($,ht=0){super($,"RenderingCancelledException"),this.extraDelay=ht}}function isDataScheme(xt){const $=xt.length;let ht=0;for(;ht<$&&xt[ht].trim()==="";)ht++;return xt.substring(ht,ht+5).toLowerCase()==="data:"}function isPdfFile(xt){return typeof xt=="string"&&/\.pdf$/i.test(xt)}function getFilenameFromUrl(xt){return[xt]=xt.split(/[#?]/,1),xt.substring(xt.lastIndexOf("/")+1)}function getPdfFilenameFromUrl(xt,$="document.pdf"){if(typeof xt!="string")return $;if(isDataScheme(xt))return warn('getPdfFilenameFromUrl: ignore "data:"-URL for performance reasons.'),$;const ht=/^(?:(?:[^:]+:)?\/\/[^/]+)?([^?#]*)(\?[^#]*)?(#.*)?$/,vt=/[^/?#=]+\.pdf\b(?!.*\.pdf\b)/i,At=ht.exec(xt);let St=vt.exec(At[1])||vt.exec(At[2])||vt.exec(At[3]);if(St&&(St=St[0],St.includes("%")))try{St=vt.exec(decodeURIComponent(St))[0]}catch{}return St||$}class StatTimer{constructor(){Ur(this,"started",Object.create(null));Ur(this,"times",[])}time($){$ in this.started&&warn(`Timer is already running for ${$}`),this.started[$]=Date.now()}timeEnd($){$ in this.started||warn(`Timer has not been started for ${$}`),this.times.push({name:$,start:this.started[$],end:Date.now()}),delete this.started[$]}toString(){const $=[];let ht=0;for(const{name:vt}of this.times)ht=Math.max(vt.length,ht);for(const{name:vt,start:At,end:St}of this.times)$.push(`${vt.padEnd(ht)} ${St-At}ms
`);return $.join("")}}function isValidFetchUrl(xt,$){try{const{protocol:ht}=$?new URL(xt,$):new URL(xt);return ht==="http:"||ht==="https:"}catch{return!1}}function noContextMenu(xt){xt.preventDefault()}function deprecated(xt){console.log("Deprecated API usage: "+xt)}let pdfDateStringRegex;class PDFDateString{static toDateObject($){if(!$||typeof $!="string")return null;pdfDateStringRegex||(pdfDateStringRegex=new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?"));const ht=pdfDateStringRegex.exec($);if(!ht)return null;const vt=parseInt(ht[1],10);let At=parseInt(ht[2],10);At=At>=1&&At<=12?At-1:0;let St=parseInt(ht[3],10);St=St>=1&&St<=31?St:1;let kt=parseInt(ht[4],10);kt=kt>=0&&kt<=23?kt:0;let Et=parseInt(ht[5],10);Et=Et>=0&&Et<=59?Et:0;let Rt=parseInt(ht[6],10);Rt=Rt>=0&&Rt<=59?Rt:0;const wt=ht[7]||"Z";let _t=parseInt(ht[8],10);_t=_t>=0&&_t<=23?_t:0;let Pt=parseInt(ht[9],10)||0;return Pt=Pt>=0&&Pt<=59?Pt:0,wt==="-"?(kt+=_t,Et+=Pt):wt==="+"&&(kt-=_t,Et-=Pt),new Date(Date.UTC(vt,At,St,kt,Et,Rt))}}function getXfaPageViewport(xt,{scale:$=1,rotation:ht=0}){const{width:vt,height:At}=xt.attributes.style,St=[0,0,parseInt(vt),parseInt(At)];return new PageViewport({viewBox:St,scale:$,rotation:ht})}function getRGB(xt){if(xt.startsWith("#")){const $=parseInt(xt.slice(1),16);return[($&16711680)>>16,($&65280)>>8,$&255]}return xt.startsWith("rgb(")?xt.slice(4,-1).split(",").map($=>parseInt($)):xt.startsWith("rgba(")?xt.slice(5,-1).split(",").map($=>parseInt($)).slice(0,3):(warn(`Not a valid color format: "${xt}"`),[0,0,0])}function getColorValues(xt){const $=document.createElement("span");$.style.visibility="hidden",document.body.append($);for(const ht of xt.keys()){$.style.color=ht;const vt=window.getComputedStyle($).color;xt.set(ht,getRGB(vt))}$.remove()}function getCurrentTransform(xt){const{a:$,b:ht,c:vt,d:At,e:St,f:kt}=xt.getTransform();return[$,ht,vt,At,St,kt]}function getCurrentTransformInverse(xt){const{a:$,b:ht,c:vt,d:At,e:St,f:kt}=xt.getTransform().invertSelf();return[$,ht,vt,At,St,kt]}function setLayerDimensions(xt,$,ht=!1,vt=!0){if($ instanceof PageViewport){const{pageWidth:At,pageHeight:St}=$.rawDims,{style:kt}=xt,Et=util_FeatureTest.isCSSRoundSupported,Rt=`var(--scale-factor) * ${At}px`,wt=`var(--scale-factor) * ${St}px`,_t=Et?`round(${Rt}, 1px)`:`calc(${Rt})`,Pt=Et?`round(${wt}, 1px)`:`calc(${wt})`;!ht||$.rotation%180===0?(kt.width=_t,kt.height=Pt):(kt.width=Pt,kt.height=_t)}vt&&xt.setAttribute("data-main-rotation",$.rotation)}var Du,Lu,Vl,Nu,z2,gy,$o,my,xy,t2,by,x9;const X2=class X2{constructor($){Nn(this,$o);Nn(this,Du,null);Nn(this,Lu,null);Nn(this,Vl);Nn(this,Nu,null);$n(this,Vl,$)}render(){const $=$n(this,Du,document.createElement("div"));$.className="editToolbar",$.setAttribute("role","toolbar"),$.addEventListener("contextmenu",noContextMenu),$.addEventListener("pointerdown",On(X2,z2,gy));const ht=$n(this,Nu,document.createElement("div"));ht.className="buttons",$.append(ht);const vt=Mt(this,Vl).toolbarPosition;if(vt){const{style:At}=$,St=Mt(this,Vl)._uiManager.direction==="ltr"?1-vt[0]:vt[0];At.insetInlineEnd=`${100*St}%`,At.top=`calc(${100*vt[1]}% + var(--editor-toolbar-vert-offset))`}return On(this,$o,by).call(this),$}hide(){var $;Mt(this,Du).classList.add("hidden"),($=Mt(this,Lu))==null||$.hideDropdown()}show(){Mt(this,Du).classList.remove("hidden")}addAltTextButton($){On(this,$o,t2).call(this,$),Mt(this,Nu).prepend($,Mt(this,$o,x9))}addColorPicker($){$n(this,Lu,$);const ht=$.renderButton();On(this,$o,t2).call(this,ht),Mt(this,Nu).prepend(ht,Mt(this,$o,x9))}remove(){var $;Mt(this,Du).remove(),($=Mt(this,Lu))==null||$.destroy(),$n(this,Lu,null)}};Du=new WeakMap,Lu=new WeakMap,Vl=new WeakMap,Nu=new WeakMap,z2=new WeakSet,gy=function($){$.stopPropagation()},$o=new WeakSet,my=function($){Mt(this,Vl)._focusEventsAllowed=!1,$.preventDefault(),$.stopPropagation()},xy=function($){Mt(this,Vl)._focusEventsAllowed=!0,$.preventDefault(),$.stopPropagation()},t2=function($){$.addEventListener("focusin",On(this,$o,my).bind(this),{capture:!0}),$.addEventListener("focusout",On(this,$o,xy).bind(this),{capture:!0}),$.addEventListener("contextmenu",noContextMenu)},by=function(){const $=document.createElement("button");$.className="delete",$.tabIndex=0,$.setAttribute("data-l10n-id",`pdfjs-editor-remove-${Mt(this,Vl).editorType}-button`),On(this,$o,t2).call(this,$),$.addEventListener("click",ht=>{Mt(this,Vl)._uiManager.delete()}),Mt(this,Nu).append($)},x9=function(){const $=document.createElement("div");return $.className="divider",$},Nn(X2,z2);let EditorToolbar=X2;var mm,$u,xm,bu,yy,vy,wy;class HighlightToolbar{constructor($){Nn(this,bu);Nn(this,mm,null);Nn(this,$u,null);Nn(this,xm);$n(this,xm,$)}show($,ht,vt){const[At,St]=On(this,bu,vy).call(this,ht,vt),{style:kt}=Mt(this,$u)||$n(this,$u,On(this,bu,yy).call(this));$.append(Mt(this,$u)),kt.insetInlineEnd=`${100*At}%`,kt.top=`calc(${100*St}% + var(--editor-toolbar-vert-offset))`}hide(){Mt(this,$u).remove()}}mm=new WeakMap,$u=new WeakMap,xm=new WeakMap,bu=new WeakSet,yy=function(){const $=$n(this,$u,document.createElement("div"));$.className="editToolbar",$.setAttribute("role","toolbar"),$.addEventListener("contextmenu",noContextMenu);const ht=$n(this,mm,document.createElement("div"));return ht.className="buttons",$.append(ht),On(this,bu,wy).call(this),$},vy=function($,ht){let vt=0,At=0;for(const St of $){const kt=St.y+St.height;if(kt<vt)continue;const Et=St.x+(ht?St.width:0);if(kt>vt){At=Et,vt=kt;continue}ht?Et>At&&(At=Et):Et<At&&(At=Et)}return[ht?1-At:At,vt]},wy=function(){const $=document.createElement("button");$.className="highlightButton",$.tabIndex=0,$.setAttribute("data-l10n-id","pdfjs-highlight-floating-button1");const ht=document.createElement("span");$.append(ht),ht.className="visuallyHidden",ht.setAttribute("data-l10n-id","pdfjs-highlight-floating-button-label"),$.addEventListener("contextmenu",noContextMenu),$.addEventListener("click",()=>{Mt(this,xm).highlightSelection("floating_button")}),Mt(this,mm).append($)};function bindEvents(xt,$,ht){for(const vt of ht)$.addEventListener(vt,xt[vt].bind(xt))}function opacityToHex(xt){return Math.round(Math.min(255,Math.max(1,255*xt))).toString(16).padStart(2,"0")}var W2;class IdManager{constructor(){Nn(this,W2,0)}get id(){return`${AnnotationEditorPrefix}${So(this,W2)._++}`}}W2=new WeakMap;var bm,V2,yl,ym,b9;const ey=class ey{constructor(){Nn(this,ym);Nn(this,bm,getUuid());Nn(this,V2,0);Nn(this,yl,null)}static get _isSVGFittingCanvas(){const $='data:image/svg+xml;charset=UTF-8,<svg viewBox="0 0 1 1" width="1" height="1" xmlns="http://www.w3.org/2000/svg"><rect width="1" height="1" style="fill:red;"/></svg>',vt=new OffscreenCanvas(1,3).getContext("2d"),At=new Image;At.src=$;const St=At.decode().then(()=>(vt.drawImage(At,0,0,1,1,0,0,1,3),new Uint32Array(vt.getImageData(0,0,1,1).data.buffer)[0]===0));return shadow(this,"_isSVGFittingCanvas",St)}async getFromFile($){const{lastModified:ht,name:vt,size:At,type:St}=$;return On(this,ym,b9).call(this,`${ht}_${vt}_${At}_${St}`,$)}async getFromUrl($){return On(this,ym,b9).call(this,$,$)}async getFromId($){Mt(this,yl)||$n(this,yl,new Map);const ht=Mt(this,yl).get($);return ht?ht.bitmap?(ht.refCounter+=1,ht):ht.file?this.getFromFile(ht.file):this.getFromUrl(ht.url):null}getSvgUrl($){const ht=Mt(this,yl).get($);return ht!=null&&ht.isSvg?ht.svgUrl:null}deleteId($){Mt(this,yl)||$n(this,yl,new Map);const ht=Mt(this,yl).get($);ht&&(ht.refCounter-=1,ht.refCounter===0&&(ht.bitmap=null))}isValidId($){return $.startsWith(`image_${Mt(this,bm)}_`)}};bm=new WeakMap,V2=new WeakMap,yl=new WeakMap,ym=new WeakSet,b9=async function($,ht){Mt(this,yl)||$n(this,yl,new Map);let vt=Mt(this,yl).get($);if(vt===null)return null;if(vt!=null&&vt.bitmap)return vt.refCounter+=1,vt;try{vt||(vt={bitmap:null,id:`image_${Mt(this,bm)}_${So(this,V2)._++}`,refCounter:0,isSvg:!1});let At;if(typeof ht=="string"?(vt.url=ht,At=await fetchData(ht,"blob")):At=vt.file=ht,At.type==="image/svg+xml"){const St=ey._isSVGFittingCanvas,kt=new FileReader,Et=new Image,Rt=new Promise((wt,_t)=>{Et.onload=()=>{vt.bitmap=Et,vt.isSvg=!0,wt()},kt.onload=async()=>{const Pt=vt.svgUrl=kt.result;Et.src=await St?`${Pt}#svgView(preserveAspectRatio(none))`:Pt},Et.onerror=kt.onerror=_t});kt.readAsDataURL(At),await Rt}else vt.bitmap=await createImageBitmap(At);vt.refCounter=1}catch(At){console.error(At),vt=null}return Mt(this,yl).set($,vt),vt&&Mt(this,yl).set(vt.id,vt),vt};let ImageManager=ey;var yo,Z0,vm,vo;class CommandManager{constructor($=128){Nn(this,yo,[]);Nn(this,Z0,!1);Nn(this,vm);Nn(this,vo,-1);$n(this,vm,$)}add({cmd:$,undo:ht,post:vt,mustExec:At,type:St=NaN,overwriteIfSameType:kt=!1,keepUndo:Et=!1}){if(At&&$(),Mt(this,Z0))return;const Rt={cmd:$,undo:ht,post:vt,type:St};if(Mt(this,vo)===-1){Mt(this,yo).length>0&&(Mt(this,yo).length=0),$n(this,vo,0),Mt(this,yo).push(Rt);return}if(kt&&Mt(this,yo)[Mt(this,vo)].type===St){Et&&(Rt.undo=Mt(this,yo)[Mt(this,vo)].undo),Mt(this,yo)[Mt(this,vo)]=Rt;return}const wt=Mt(this,vo)+1;wt===Mt(this,vm)?Mt(this,yo).splice(0,1):($n(this,vo,wt),wt<Mt(this,yo).length&&Mt(this,yo).splice(wt)),Mt(this,yo).push(Rt)}undo(){if(Mt(this,vo)===-1)return;$n(this,Z0,!0);const{undo:$,post:ht}=Mt(this,yo)[Mt(this,vo)];$(),ht==null||ht(),$n(this,Z0,!1),$n(this,vo,Mt(this,vo)-1)}redo(){if(Mt(this,vo)<Mt(this,yo).length-1){$n(this,vo,Mt(this,vo)+1),$n(this,Z0,!0);const{cmd:$,post:ht}=Mt(this,yo)[Mt(this,vo)];$(),ht==null||ht(),$n(this,Z0,!1)}}hasSomethingToUndo(){return Mt(this,vo)!==-1}hasSomethingToRedo(){return Mt(this,vo)<Mt(this,yo).length-1}destroy(){$n(this,yo,null)}}yo=new WeakMap,Z0=new WeakMap,vm=new WeakMap,vo=new WeakMap;var G2,Ay;class KeyboardManager{constructor($){Nn(this,G2);this.buffer=[],this.callbacks=new Map,this.allKeys=new Set;const{isMac:ht}=util_FeatureTest.platform;for(const[vt,At,St={}]of $)for(const kt of vt){const Et=kt.startsWith("mac+");ht&&Et?(this.callbacks.set(kt.slice(4),{callback:At,options:St}),this.allKeys.add(kt.split("+").at(-1))):!ht&&!Et&&(this.callbacks.set(kt,{callback:At,options:St}),this.allKeys.add(kt.split("+").at(-1)))}}exec($,ht){if(!this.allKeys.has(ht.key))return;const vt=this.callbacks.get(On(this,G2,Ay).call(this,ht));if(!vt)return;const{callback:At,options:{bubbles:St=!1,args:kt=[],checker:Et=null}}=vt;Et&&!Et($,ht)||(At.bind($,...kt,ht)(),St||(ht.stopPropagation(),ht.preventDefault()))}}G2=new WeakSet,Ay=function($){$.altKey&&this.buffer.push("alt"),$.ctrlKey&&this.buffer.push("ctrl"),$.metaKey&&this.buffer.push("meta"),$.shiftKey&&this.buffer.push("shift"),this.buffer.push($.key);const ht=this.buffer.join("+");return this.buffer.length=0,ht};const q2=class q2{get _colors(){const $=new Map([["CanvasText",null],["Canvas",null]]);return getColorValues($),shadow(this,"_colors",$)}convert($){const ht=getRGB($);if(!window.matchMedia("(forced-colors: active)").matches)return ht;for(const[vt,At]of this._colors)if(At.every((St,kt)=>St===ht[kt]))return q2._colorsMapping.get(vt);return ht}getHexCode($){const ht=this._colors.get($);return ht?Util.makeHexColor(...ht):$}};Ur(q2,"_colorsMapping",new Map([["CanvasText",[0,0,0]],["Canvas",[255,255,255]]]));let ColorManager=q2;var Go,fo,Co,Y1,m0,Z1,Pl,J1,ju,Gl,x0,Bu,wm,Am,Kl,Q1,J0,Yl,K2,Q0,Sm,Uu,Em,ep,ko,Ks,b0,Hu,Cm,km,Tm,_m,Rm,Fm,Pm,Im,Mm,Om,Dm,Lm,Nm,$m,eu,Zl,y0,jm,Yr,n2,Sy,Ey,i2,Cy,ky,Ty,y9,v9,w9,A9,S9,Oo,K0,_y,Ry,E9,Fy,Qp,C9;const K1=class K1{constructor($,ht,vt,At,St,kt,Et,Rt,wt){Nn(this,Yr);Nn(this,Go,null);Nn(this,fo,new Map);Nn(this,Co,new Map);Nn(this,Y1,null);Nn(this,m0,null);Nn(this,Z1,null);Nn(this,Pl,new CommandManager);Nn(this,J1,0);Nn(this,ju,new Set);Nn(this,Gl,null);Nn(this,x0,null);Nn(this,Bu,new Set);Nn(this,wm,!1);Nn(this,Am,null);Nn(this,Kl,null);Nn(this,Q1,null);Nn(this,J0,!1);Nn(this,Yl,null);Nn(this,K2,new IdManager);Nn(this,Q0,!1);Nn(this,Sm,!1);Nn(this,Uu,null);Nn(this,Em,null);Nn(this,ep,null);Nn(this,ko,AnnotationEditorType.NONE);Nn(this,Ks,new Set);Nn(this,b0,null);Nn(this,Hu,null);Nn(this,Cm,null);Nn(this,km,this.blur.bind(this));Nn(this,Tm,this.focus.bind(this));Nn(this,_m,this.copy.bind(this));Nn(this,Rm,this.cut.bind(this));Nn(this,Fm,this.paste.bind(this));Nn(this,Pm,this.keydown.bind(this));Nn(this,Im,this.keyup.bind(this));Nn(this,Mm,this.onEditingAction.bind(this));Nn(this,Om,this.onPageChanging.bind(this));Nn(this,Dm,this.onScaleChanging.bind(this));Nn(this,Lm,On(this,Yr,Ey).bind(this));Nn(this,Nm,this.onRotationChanging.bind(this));Nn(this,$m,{isEditing:!1,isEmpty:!0,hasSomethingToUndo:!1,hasSomethingToRedo:!1,hasSelectedEditor:!1,hasSelectedText:!1});Nn(this,eu,[0,0]);Nn(this,Zl,null);Nn(this,y0,null);Nn(this,jm,null);$n(this,y0,$),$n(this,jm,ht),$n(this,Y1,vt),this._eventBus=At,this._eventBus._on("editingaction",Mt(this,Mm)),this._eventBus._on("pagechanging",Mt(this,Om)),this._eventBus._on("scalechanging",Mt(this,Dm)),this._eventBus._on("rotationchanging",Mt(this,Nm)),On(this,Yr,Cy).call(this),On(this,Yr,v9).call(this),$n(this,m0,St.annotationStorage),$n(this,Am,St.filterFactory),$n(this,Hu,kt),$n(this,Q1,Et||null),$n(this,wm,Rt),$n(this,ep,wt||null),this.viewParameters={realScale:PixelsPerInch.PDF_TO_CSS_UNITS,rotation:0},this.isShiftKeyDown=!1}static get _keyboardManager(){const $=K1.prototype,ht=kt=>Mt(kt,y0).contains(document.activeElement)&&document.activeElement.tagName!=="BUTTON"&&kt.hasSomethingToControl(),vt=(kt,{target:Et})=>{if(Et instanceof HTMLInputElement){const{type:Rt}=Et;return Rt!=="text"&&Rt!=="number"}return!0},At=this.TRANSLATE_SMALL,St=this.TRANSLATE_BIG;return shadow(this,"_keyboardManager",new KeyboardManager([[["ctrl+a","mac+meta+a"],$.selectAll,{checker:vt}],[["ctrl+z","mac+meta+z"],$.undo,{checker:vt}],[["ctrl+y","ctrl+shift+z","mac+meta+shift+z","ctrl+shift+Z","mac+meta+shift+Z"],$.redo,{checker:vt}],[["Backspace","alt+Backspace","ctrl+Backspace","shift+Backspace","mac+Backspace","mac+alt+Backspace","mac+ctrl+Backspace","Delete","ctrl+Delete","shift+Delete","mac+Delete"],$.delete,{checker:vt}],[["Enter","mac+Enter"],$.addNewEditorFromKeyboard,{checker:(kt,{target:Et})=>!(Et instanceof HTMLButtonElement)&&Mt(kt,y0).contains(Et)&&!kt.isEnterHandled}],[[" ","mac+ "],$.addNewEditorFromKeyboard,{checker:(kt,{target:Et})=>!(Et instanceof HTMLButtonElement)&&Mt(kt,y0).contains(document.activeElement)}],[["Escape","mac+Escape"],$.unselectAll],[["ArrowLeft","mac+ArrowLeft"],$.translateSelectedEditors,{args:[-At,0],checker:ht}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],$.translateSelectedEditors,{args:[-St,0],checker:ht}],[["ArrowRight","mac+ArrowRight"],$.translateSelectedEditors,{args:[At,0],checker:ht}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],$.translateSelectedEditors,{args:[St,0],checker:ht}],[["ArrowUp","mac+ArrowUp"],$.translateSelectedEditors,{args:[0,-At],checker:ht}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],$.translateSelectedEditors,{args:[0,-St],checker:ht}],[["ArrowDown","mac+ArrowDown"],$.translateSelectedEditors,{args:[0,At],checker:ht}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],$.translateSelectedEditors,{args:[0,St],checker:ht}]]))}destroy(){var $,ht;On(this,Yr,w9).call(this),On(this,Yr,y9).call(this),this._eventBus._off("editingaction",Mt(this,Mm)),this._eventBus._off("pagechanging",Mt(this,Om)),this._eventBus._off("scalechanging",Mt(this,Dm)),this._eventBus._off("rotationchanging",Mt(this,Nm));for(const vt of Mt(this,Co).values())vt.destroy();Mt(this,Co).clear(),Mt(this,fo).clear(),Mt(this,Bu).clear(),$n(this,Go,null),Mt(this,Ks).clear(),Mt(this,Pl).destroy(),($=Mt(this,Y1))==null||$.destroy(),(ht=Mt(this,Yl))==null||ht.hide(),$n(this,Yl,null),Mt(this,Kl)&&(clearTimeout(Mt(this,Kl)),$n(this,Kl,null)),Mt(this,Zl)&&(clearTimeout(Mt(this,Zl)),$n(this,Zl,null)),On(this,Yr,ky).call(this)}async mlGuess($){var ht;return((ht=Mt(this,ep))==null?void 0:ht.guess($))||null}get hasMLManager(){return!!Mt(this,ep)}get hcmFilter(){return shadow(this,"hcmFilter",Mt(this,Hu)?Mt(this,Am).addHCMFilter(Mt(this,Hu).foreground,Mt(this,Hu).background):"none")}get direction(){return shadow(this,"direction",getComputedStyle(Mt(this,y0)).direction)}get highlightColors(){return shadow(this,"highlightColors",Mt(this,Q1)?new Map(Mt(this,Q1).split(",").map($=>$.split("=").map(ht=>ht.trim()))):null)}get highlightColorNames(){return shadow(this,"highlightColorNames",this.highlightColors?new Map(Array.from(this.highlightColors,$=>$.reverse())):null)}setMainHighlightColorPicker($){$n(this,Em,$)}editAltText($){var ht;(ht=Mt(this,Y1))==null||ht.editAltText(this,$)}onPageChanging({pageNumber:$}){$n(this,J1,$-1)}focusMainContainer(){Mt(this,y0).focus()}findParent($,ht){for(const vt of Mt(this,Co).values()){const{x:At,y:St,width:kt,height:Et}=vt.div.getBoundingClientRect();if($>=At&&$<=At+kt&&ht>=St&&ht<=St+Et)return vt}return null}disableUserSelect($=!1){Mt(this,jm).classList.toggle("noUserSelect",$)}addShouldRescale($){Mt(this,Bu).add($)}removeShouldRescale($){Mt(this,Bu).delete($)}onScaleChanging({scale:$}){this.commitOrRemove(),this.viewParameters.realScale=$*PixelsPerInch.PDF_TO_CSS_UNITS;for(const ht of Mt(this,Bu))ht.onScaleChanging()}onRotationChanging({pagesRotation:$}){this.commitOrRemove(),this.viewParameters.rotation=$}highlightSelection($=""){const ht=document.getSelection();if(!ht||ht.isCollapsed)return;const{anchorNode:vt,anchorOffset:At,focusNode:St,focusOffset:kt}=ht,Et=ht.toString(),wt=On(this,Yr,n2).call(this,ht).closest(".textLayer"),_t=this.getSelectionBoxes(wt);if(_t){ht.empty(),Mt(this,ko)===AnnotationEditorType.NONE&&(this._eventBus.dispatch("showannotationeditorui",{source:this,mode:AnnotationEditorType.HIGHLIGHT}),this.showAllEditors("highlight",!0,!0));for(const Pt of Mt(this,Co).values())if(Pt.hasTextLayer(wt)){Pt.createAndAddNewEditor({x:0,y:0},!1,{methodOfCreation:$,boxes:_t,anchorNode:vt,anchorOffset:At,focusNode:St,focusOffset:kt,text:Et});break}}}addToAnnotationStorage($){!$.isEmpty()&&Mt(this,m0)&&!Mt(this,m0).has($.id)&&Mt(this,m0).setValue($.id,$)}blur(){if(this.isShiftKeyDown=!1,Mt(this,J0)&&($n(this,J0,!1),On(this,Yr,i2).call(this,"main_toolbar")),!this.hasSelection)return;const{activeElement:$}=document;for(const ht of Mt(this,Ks))if(ht.div.contains($)){$n(this,Uu,[ht,$]),ht._focusEventsAllowed=!1;break}}focus(){if(!Mt(this,Uu))return;const[$,ht]=Mt(this,Uu);$n(this,Uu,null),ht.addEventListener("focusin",()=>{$._focusEventsAllowed=!0},{once:!0}),ht.focus()}addEditListeners(){On(this,Yr,v9).call(this),On(this,Yr,A9).call(this)}removeEditListeners(){On(this,Yr,w9).call(this),On(this,Yr,S9).call(this)}copy($){var vt;if($.preventDefault(),(vt=Mt(this,Go))==null||vt.commitOrRemove(),!this.hasSelection)return;const ht=[];for(const At of Mt(this,Ks)){const St=At.serialize(!0);St&&ht.push(St)}ht.length!==0&&$.clipboardData.setData("application/pdfjs",JSON.stringify(ht))}cut($){this.copy($),this.delete()}paste($){$.preventDefault();const{clipboardData:ht}=$;for(const St of ht.items)for(const kt of Mt(this,x0))if(kt.isHandlingMimeForPasting(St.type)){kt.paste(St,this.currentLayer);return}let vt=ht.getData("application/pdfjs");if(!vt)return;try{vt=JSON.parse(vt)}catch(St){warn(`paste: "${St.message}".`);return}if(!Array.isArray(vt))return;this.unselectAll();const At=this.currentLayer;try{const St=[];for(const Rt of vt){const wt=At.deserialize(Rt);if(!wt)return;St.push(wt)}const kt=()=>{for(const Rt of St)On(this,Yr,E9).call(this,Rt);On(this,Yr,C9).call(this,St)},Et=()=>{for(const Rt of St)Rt.remove()};this.addCommands({cmd:kt,undo:Et,mustExec:!0})}catch(St){warn(`paste: "${St.message}".`)}}keydown($){!this.isShiftKeyDown&&$.key==="Shift"&&(this.isShiftKeyDown=!0),Mt(this,ko)!==AnnotationEditorType.NONE&&!this.isEditorHandlingKeyboard&&K1._keyboardManager.exec(this,$)}keyup($){this.isShiftKeyDown&&$.key==="Shift"&&(this.isShiftKeyDown=!1,Mt(this,J0)&&($n(this,J0,!1),On(this,Yr,i2).call(this,"main_toolbar")))}onEditingAction({name:$}){switch($){case"undo":case"redo":case"delete":case"selectAll":this[$]();break;case"highlightSelection":this.highlightSelection("context_menu");break}}setEditingState($){$?(On(this,Yr,Ty).call(this),On(this,Yr,A9).call(this),On(this,Yr,Oo).call(this,{isEditing:Mt(this,ko)!==AnnotationEditorType.NONE,isEmpty:On(this,Yr,Qp).call(this),hasSomethingToUndo:Mt(this,Pl).hasSomethingToUndo(),hasSomethingToRedo:Mt(this,Pl).hasSomethingToRedo(),hasSelectedEditor:!1})):(On(this,Yr,y9).call(this),On(this,Yr,S9).call(this),On(this,Yr,Oo).call(this,{isEditing:!1}),this.disableUserSelect(!1))}registerEditorTypes($){if(!Mt(this,x0)){$n(this,x0,$);for(const ht of Mt(this,x0))On(this,Yr,K0).call(this,ht.defaultPropertiesToUpdate)}}getId(){return Mt(this,K2).id}get currentLayer(){return Mt(this,Co).get(Mt(this,J1))}getLayer($){return Mt(this,Co).get($)}get currentPageIndex(){return Mt(this,J1)}addLayer($){Mt(this,Co).set($.pageIndex,$),Mt(this,Q0)?$.enable():$.disable()}removeLayer($){Mt(this,Co).delete($.pageIndex)}updateMode($,ht=null,vt=!1){if(Mt(this,ko)!==$){if($n(this,ko,$),$===AnnotationEditorType.NONE){this.setEditingState(!1),On(this,Yr,Ry).call(this);return}this.setEditingState(!0),On(this,Yr,_y).call(this),this.unselectAll();for(const At of Mt(this,Co).values())At.updateMode($);if(!ht&&vt){this.addNewEditorFromKeyboard();return}if(ht){for(const At of Mt(this,fo).values())if(At.annotationElementId===ht){this.setSelected(At),At.enterInEditMode();break}}}}addNewEditorFromKeyboard(){this.currentLayer.canCreateNewEmptyEditor()&&this.currentLayer.addNewEditor()}updateToolbar($){$!==Mt(this,ko)&&this._eventBus.dispatch("switchannotationeditormode",{source:this,mode:$})}updateParams($,ht){var vt;if(Mt(this,x0)){switch($){case AnnotationEditorParamsType.CREATE:this.currentLayer.addNewEditor();return;case AnnotationEditorParamsType.HIGHLIGHT_DEFAULT_COLOR:(vt=Mt(this,Em))==null||vt.updateColor(ht);break;case AnnotationEditorParamsType.HIGHLIGHT_SHOW_ALL:this._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:{type:"highlight",action:"toggle_visibility"}}}),(Mt(this,Cm)||$n(this,Cm,new Map)).set($,ht),this.showAllEditors("highlight",ht);break}for(const At of Mt(this,Ks))At.updateParams($,ht);for(const At of Mt(this,x0))At.updateDefaultParams($,ht)}}showAllEditors($,ht,vt=!1){var St;for(const kt of Mt(this,fo).values())kt.editorType===$&&kt.show(ht);(((St=Mt(this,Cm))==null?void 0:St.get(AnnotationEditorParamsType.HIGHLIGHT_SHOW_ALL))??!0)!==ht&&On(this,Yr,K0).call(this,[[AnnotationEditorParamsType.HIGHLIGHT_SHOW_ALL,ht]])}enableWaiting($=!1){if(Mt(this,Sm)!==$){$n(this,Sm,$);for(const ht of Mt(this,Co).values())$?ht.disableClick():ht.enableClick(),ht.div.classList.toggle("waiting",$)}}getEditors($){const ht=[];for(const vt of Mt(this,fo).values())vt.pageIndex===$&&ht.push(vt);return ht}getEditor($){return Mt(this,fo).get($)}addEditor($){Mt(this,fo).set($.id,$)}removeEditor($){var ht;$.div.contains(document.activeElement)&&(Mt(this,Kl)&&clearTimeout(Mt(this,Kl)),$n(this,Kl,setTimeout(()=>{this.focusMainContainer(),$n(this,Kl,null)},0))),Mt(this,fo).delete($.id),this.unselect($),(!$.annotationElementId||!Mt(this,ju).has($.annotationElementId))&&((ht=Mt(this,m0))==null||ht.remove($.id))}addDeletedAnnotationElement($){Mt(this,ju).add($.annotationElementId),this.addChangedExistingAnnotation($),$.deleted=!0}isDeletedAnnotationElement($){return Mt(this,ju).has($)}removeDeletedAnnotationElement($){Mt(this,ju).delete($.annotationElementId),this.removeChangedExistingAnnotation($),$.deleted=!1}setActiveEditor($){Mt(this,Go)!==$&&($n(this,Go,$),$&&On(this,Yr,K0).call(this,$.propertiesToUpdate))}updateUI($){Mt(this,Yr,Fy)===$&&On(this,Yr,K0).call(this,$.propertiesToUpdate)}toggleSelected($){if(Mt(this,Ks).has($)){Mt(this,Ks).delete($),$.unselect(),On(this,Yr,Oo).call(this,{hasSelectedEditor:this.hasSelection});return}Mt(this,Ks).add($),$.select(),On(this,Yr,K0).call(this,$.propertiesToUpdate),On(this,Yr,Oo).call(this,{hasSelectedEditor:!0})}setSelected($){for(const ht of Mt(this,Ks))ht!==$&&ht.unselect();Mt(this,Ks).clear(),Mt(this,Ks).add($),$.select(),On(this,Yr,K0).call(this,$.propertiesToUpdate),On(this,Yr,Oo).call(this,{hasSelectedEditor:!0})}isSelected($){return Mt(this,Ks).has($)}get firstSelectedEditor(){return Mt(this,Ks).values().next().value}unselect($){$.unselect(),Mt(this,Ks).delete($),On(this,Yr,Oo).call(this,{hasSelectedEditor:this.hasSelection})}get hasSelection(){return Mt(this,Ks).size!==0}get isEnterHandled(){return Mt(this,Ks).size===1&&this.firstSelectedEditor.isEnterHandled}undo(){Mt(this,Pl).undo(),On(this,Yr,Oo).call(this,{hasSomethingToUndo:Mt(this,Pl).hasSomethingToUndo(),hasSomethingToRedo:!0,isEmpty:On(this,Yr,Qp).call(this)})}redo(){Mt(this,Pl).redo(),On(this,Yr,Oo).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:Mt(this,Pl).hasSomethingToRedo(),isEmpty:On(this,Yr,Qp).call(this)})}addCommands($){Mt(this,Pl).add($),On(this,Yr,Oo).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:!1,isEmpty:On(this,Yr,Qp).call(this)})}delete(){if(this.commitOrRemove(),!this.hasSelection)return;const $=[...Mt(this,Ks)],ht=()=>{for(const At of $)At.remove()},vt=()=>{for(const At of $)On(this,Yr,E9).call(this,At)};this.addCommands({cmd:ht,undo:vt,mustExec:!0})}commitOrRemove(){var $;($=Mt(this,Go))==null||$.commitOrRemove()}hasSomethingToControl(){return Mt(this,Go)||this.hasSelection}selectAll(){for(const $ of Mt(this,Ks))$.commit();On(this,Yr,C9).call(this,Mt(this,fo).values())}unselectAll(){if(!(Mt(this,Go)&&(Mt(this,Go).commitOrRemove(),Mt(this,ko)!==AnnotationEditorType.NONE))&&this.hasSelection){for(const $ of Mt(this,Ks))$.unselect();Mt(this,Ks).clear(),On(this,Yr,Oo).call(this,{hasSelectedEditor:!1})}}translateSelectedEditors($,ht,vt=!1){if(vt||this.commitOrRemove(),!this.hasSelection)return;Mt(this,eu)[0]+=$,Mt(this,eu)[1]+=ht;const[At,St]=Mt(this,eu),kt=[...Mt(this,Ks)],Et=1e3;Mt(this,Zl)&&clearTimeout(Mt(this,Zl)),$n(this,Zl,setTimeout(()=>{$n(this,Zl,null),Mt(this,eu)[0]=Mt(this,eu)[1]=0,this.addCommands({cmd:()=>{for(const Rt of kt)Mt(this,fo).has(Rt.id)&&Rt.translateInPage(At,St)},undo:()=>{for(const Rt of kt)Mt(this,fo).has(Rt.id)&&Rt.translateInPage(-At,-St)},mustExec:!1})},Et));for(const Rt of kt)Rt.translateInPage($,ht)}setUpDragSession(){if(this.hasSelection){this.disableUserSelect(!0),$n(this,Gl,new Map);for(const $ of Mt(this,Ks))Mt(this,Gl).set($,{savedX:$.x,savedY:$.y,savedPageIndex:$.pageIndex,newX:0,newY:0,newPageIndex:-1})}}endDragSession(){if(!Mt(this,Gl))return!1;this.disableUserSelect(!1);const $=Mt(this,Gl);$n(this,Gl,null);let ht=!1;for(const[{x:At,y:St,pageIndex:kt},Et]of $)Et.newX=At,Et.newY=St,Et.newPageIndex=kt,ht||(ht=At!==Et.savedX||St!==Et.savedY||kt!==Et.savedPageIndex);if(!ht)return!1;const vt=(At,St,kt,Et)=>{if(Mt(this,fo).has(At.id)){const Rt=Mt(this,Co).get(Et);Rt?At._setParentAndPosition(Rt,St,kt):(At.pageIndex=Et,At.x=St,At.y=kt)}};return this.addCommands({cmd:()=>{for(const[At,{newX:St,newY:kt,newPageIndex:Et}]of $)vt(At,St,kt,Et)},undo:()=>{for(const[At,{savedX:St,savedY:kt,savedPageIndex:Et}]of $)vt(At,St,kt,Et)},mustExec:!0}),!0}dragSelectedEditors($,ht){if(Mt(this,Gl))for(const vt of Mt(this,Gl).keys())vt.drag($,ht)}rebuild($){if($.parent===null){const ht=this.getLayer($.pageIndex);ht?(ht.changeParent($),ht.addOrRebuild($)):(this.addEditor($),this.addToAnnotationStorage($),$.rebuild())}else $.parent.addOrRebuild($)}get isEditorHandlingKeyboard(){var $;return(($=this.getActive())==null?void 0:$.shouldGetKeyboardEvents())||Mt(this,Ks).size===1&&this.firstSelectedEditor.shouldGetKeyboardEvents()}isActive($){return Mt(this,Go)===$}getActive(){return Mt(this,Go)}getMode(){return Mt(this,ko)}get imageManager(){return shadow(this,"imageManager",new ImageManager)}getSelectionBoxes($){if(!$)return null;const ht=document.getSelection();for(let wt=0,_t=ht.rangeCount;wt<_t;wt++)if(!$.contains(ht.getRangeAt(wt).commonAncestorContainer))return null;const{x:vt,y:At,width:St,height:kt}=$.getBoundingClientRect();let Et;switch($.getAttribute("data-main-rotation")){case"90":Et=(wt,_t,Pt,_e)=>({x:(_t-At)/kt,y:1-(wt+Pt-vt)/St,width:_e/kt,height:Pt/St});break;case"180":Et=(wt,_t,Pt,_e)=>({x:1-(wt+Pt-vt)/St,y:1-(_t+_e-At)/kt,width:Pt/St,height:_e/kt});break;case"270":Et=(wt,_t,Pt,_e)=>({x:1-(_t+_e-At)/kt,y:(wt-vt)/St,width:_e/kt,height:Pt/St});break;default:Et=(wt,_t,Pt,_e)=>({x:(wt-vt)/St,y:(_t-At)/kt,width:Pt/St,height:_e/kt});break}const Rt=[];for(let wt=0,_t=ht.rangeCount;wt<_t;wt++){const Pt=ht.getRangeAt(wt);if(!Pt.collapsed)for(const{x:_e,y:bt,width:Ft,height:Xt}of Pt.getClientRects())Ft===0||Xt===0||Rt.push(Et(_e,bt,Ft,Xt))}return Rt.length===0?null:Rt}addChangedExistingAnnotation({annotationElementId:$,id:ht}){(Mt(this,Z1)||$n(this,Z1,new Map)).set($,ht)}removeChangedExistingAnnotation({annotationElementId:$}){var ht;(ht=Mt(this,Z1))==null||ht.delete($)}renderAnnotationElement($){var At;const ht=(At=Mt(this,Z1))==null?void 0:At.get($.data.id);if(!ht)return;const vt=Mt(this,m0).getRawValue(ht);vt&&(Mt(this,ko)===AnnotationEditorType.NONE&&!vt.hasBeenModified||vt.renderAnnotationElement($))}};Go=new WeakMap,fo=new WeakMap,Co=new WeakMap,Y1=new WeakMap,m0=new WeakMap,Z1=new WeakMap,Pl=new WeakMap,J1=new WeakMap,ju=new WeakMap,Gl=new WeakMap,x0=new WeakMap,Bu=new WeakMap,wm=new WeakMap,Am=new WeakMap,Kl=new WeakMap,Q1=new WeakMap,J0=new WeakMap,Yl=new WeakMap,K2=new WeakMap,Q0=new WeakMap,Sm=new WeakMap,Uu=new WeakMap,Em=new WeakMap,ep=new WeakMap,ko=new WeakMap,Ks=new WeakMap,b0=new WeakMap,Hu=new WeakMap,Cm=new WeakMap,km=new WeakMap,Tm=new WeakMap,_m=new WeakMap,Rm=new WeakMap,Fm=new WeakMap,Pm=new WeakMap,Im=new WeakMap,Mm=new WeakMap,Om=new WeakMap,Dm=new WeakMap,Lm=new WeakMap,Nm=new WeakMap,$m=new WeakMap,eu=new WeakMap,Zl=new WeakMap,y0=new WeakMap,jm=new WeakMap,Yr=new WeakSet,n2=function({anchorNode:$}){return $.nodeType===Node.TEXT_NODE?$.parentElement:$},Sy=function(){const $=document.getSelection();if(!$||$.isCollapsed)return;const vt=On(this,Yr,n2).call(this,$).closest(".textLayer"),At=this.getSelectionBoxes(vt);At&&(Mt(this,Yl)||$n(this,Yl,new HighlightToolbar(this)),Mt(this,Yl).show(vt,At,this.direction==="ltr"))},Ey=function(){var St,kt,Et;const $=document.getSelection();if(!$||$.isCollapsed){Mt(this,b0)&&((St=Mt(this,Yl))==null||St.hide(),$n(this,b0,null),On(this,Yr,Oo).call(this,{hasSelectedText:!1}));return}const{anchorNode:ht}=$;if(ht===Mt(this,b0))return;if(!On(this,Yr,n2).call(this,$).closest(".textLayer")){Mt(this,b0)&&((kt=Mt(this,Yl))==null||kt.hide(),$n(this,b0,null),On(this,Yr,Oo).call(this,{hasSelectedText:!1}));return}if((Et=Mt(this,Yl))==null||Et.hide(),$n(this,b0,ht),On(this,Yr,Oo).call(this,{hasSelectedText:!0}),!(Mt(this,ko)!==AnnotationEditorType.HIGHLIGHT&&Mt(this,ko)!==AnnotationEditorType.NONE)&&(Mt(this,ko)===AnnotationEditorType.HIGHLIGHT&&this.showAllEditors("highlight",!0,!0),$n(this,J0,this.isShiftKeyDown),!this.isShiftKeyDown)){const Rt=wt=>{wt.type==="pointerup"&&wt.button!==0||(window.removeEventListener("pointerup",Rt),window.removeEventListener("blur",Rt),wt.type==="pointerup"&&On(this,Yr,i2).call(this,"main_toolbar"))};window.addEventListener("pointerup",Rt),window.addEventListener("blur",Rt)}},i2=function($=""){Mt(this,ko)===AnnotationEditorType.HIGHLIGHT?this.highlightSelection($):Mt(this,wm)&&On(this,Yr,Sy).call(this)},Cy=function(){document.addEventListener("selectionchange",Mt(this,Lm))},ky=function(){document.removeEventListener("selectionchange",Mt(this,Lm))},Ty=function(){window.addEventListener("focus",Mt(this,Tm)),window.addEventListener("blur",Mt(this,km))},y9=function(){window.removeEventListener("focus",Mt(this,Tm)),window.removeEventListener("blur",Mt(this,km))},v9=function(){window.addEventListener("keydown",Mt(this,Pm)),window.addEventListener("keyup",Mt(this,Im))},w9=function(){window.removeEventListener("keydown",Mt(this,Pm)),window.removeEventListener("keyup",Mt(this,Im))},A9=function(){document.addEventListener("copy",Mt(this,_m)),document.addEventListener("cut",Mt(this,Rm)),document.addEventListener("paste",Mt(this,Fm))},S9=function(){document.removeEventListener("copy",Mt(this,_m)),document.removeEventListener("cut",Mt(this,Rm)),document.removeEventListener("paste",Mt(this,Fm))},Oo=function($){Object.entries($).some(([vt,At])=>Mt(this,$m)[vt]!==At)&&(this._eventBus.dispatch("annotationeditorstateschanged",{source:this,details:Object.assign(Mt(this,$m),$)}),Mt(this,ko)===AnnotationEditorType.HIGHLIGHT&&$.hasSelectedEditor===!1&&On(this,Yr,K0).call(this,[[AnnotationEditorParamsType.HIGHLIGHT_FREE,!0]]))},K0=function($){this._eventBus.dispatch("annotationeditorparamschanged",{source:this,details:$})},_y=function(){if(!Mt(this,Q0)){$n(this,Q0,!0);for(const $ of Mt(this,Co).values())$.enable();for(const $ of Mt(this,fo).values())$.enable()}},Ry=function(){if(this.unselectAll(),Mt(this,Q0)){$n(this,Q0,!1);for(const $ of Mt(this,Co).values())$.disable();for(const $ of Mt(this,fo).values())$.disable()}},E9=function($){const ht=Mt(this,Co).get($.pageIndex);ht?ht.addOrRebuild($):(this.addEditor($),this.addToAnnotationStorage($))},Fy=function(){let $=null;for($ of Mt(this,Ks));return $},Qp=function(){if(Mt(this,fo).size===0)return!0;if(Mt(this,fo).size===1)for(const $ of Mt(this,fo).values())return $.isEmpty();return!1},C9=function($){for(const ht of Mt(this,Ks))ht.unselect();Mt(this,Ks).clear();for(const ht of $)ht.isEmpty()||(Mt(this,Ks).add(ht),ht.select());On(this,Yr,Oo).call(this,{hasSelectedEditor:this.hasSelection})},Ur(K1,"TRANSLATE_SMALL",1),Ur(K1,"TRANSLATE_BIG",10);let AnnotationEditorUIManager=K1;var v0,w0,Il,A0,Ml,tp,S0,Bm,k9;const d0=class d0{constructor($){Nn(this,Bm);Nn(this,v0,"");Nn(this,w0,!1);Nn(this,Il,null);Nn(this,A0,null);Nn(this,Ml,null);Nn(this,tp,!1);Nn(this,S0,null);$n(this,S0,$)}static initialize($){d0._l10nPromise||(d0._l10nPromise=$)}async render(){const $=$n(this,Il,document.createElement("button"));$.className="altText";const ht=await d0._l10nPromise.get("pdfjs-editor-alt-text-button-label");$.textContent=ht,$.setAttribute("aria-label",ht),$.tabIndex="0",$.addEventListener("contextmenu",noContextMenu),$.addEventListener("pointerdown",At=>At.stopPropagation());const vt=At=>{At.preventDefault(),Mt(this,S0)._uiManager.editAltText(Mt(this,S0))};return $.addEventListener("click",vt,{capture:!0}),$.addEventListener("keydown",At=>{At.target===$&&At.key==="Enter"&&($n(this,tp,!0),vt(At))}),await On(this,Bm,k9).call(this),$}finish(){Mt(this,Il)&&(Mt(this,Il).focus({focusVisible:Mt(this,tp)}),$n(this,tp,!1))}isEmpty(){return!Mt(this,v0)&&!Mt(this,w0)}get data(){return{altText:Mt(this,v0),decorative:Mt(this,w0)}}set data({altText:$,decorative:ht}){Mt(this,v0)===$&&Mt(this,w0)===ht||($n(this,v0,$),$n(this,w0,ht),On(this,Bm,k9).call(this))}toggle($=!1){Mt(this,Il)&&(!$&&Mt(this,Ml)&&(clearTimeout(Mt(this,Ml)),$n(this,Ml,null)),Mt(this,Il).disabled=!$)}destroy(){var $;($=Mt(this,Il))==null||$.remove(),$n(this,Il,null),$n(this,A0,null)}};v0=new WeakMap,w0=new WeakMap,Il=new WeakMap,A0=new WeakMap,Ml=new WeakMap,tp=new WeakMap,S0=new WeakMap,Bm=new WeakSet,k9=async function(){var At;const $=Mt(this,Il);if(!$)return;if(!Mt(this,v0)&&!Mt(this,w0)){$.classList.remove("done"),(At=Mt(this,A0))==null||At.remove();return}$.classList.add("done"),d0._l10nPromise.get("pdfjs-editor-alt-text-edit-button-label").then(St=>{$.setAttribute("aria-label",St)});let ht=Mt(this,A0);if(!ht){$n(this,A0,ht=document.createElement("span")),ht.className="tooltip",ht.setAttribute("role","tooltip");const St=ht.id=`alt-text-tooltip-${Mt(this,S0).id}`;$.setAttribute("aria-describedby",St);const kt=100;$.addEventListener("mouseenter",()=>{$n(this,Ml,setTimeout(()=>{$n(this,Ml,null),Mt(this,A0).classList.add("show"),Mt(this,S0)._reportTelemetry({action:"alt_text_tooltip"})},kt))}),$.addEventListener("mouseleave",()=>{var Et;Mt(this,Ml)&&(clearTimeout(Mt(this,Ml)),$n(this,Ml,null)),(Et=Mt(this,A0))==null||Et.classList.remove("show")})}ht.innerText=Mt(this,w0)?await d0._l10nPromise.get("pdfjs-editor-alt-text-decorative-tooltip"):Mt(this,v0),ht.parentNode||$.append(ht);const vt=Mt(this,S0).getImageForAltText();vt==null||vt.setAttribute("aria-describedby",ht.id)},Ur(d0,"_l10nPromise",null);let AltText=d0;var Ol,Do,np,zu,To,Xu,ip,rp,Mo,Um,Wu,tu,Hm,Vu,E0,Jl,sp,ap,wl,zm,Y2,Ds,T9,Xm,_9,R9,Py,Iy,F9,P9,I9,My,Oy,Dy,Ly,M9,_g;const _a=class _a{constructor($){Nn(this,Ds);Nn(this,Ol,null);Nn(this,Do,null);Nn(this,np,!1);Nn(this,zu,!1);Nn(this,To,null);Nn(this,Xu,null);Nn(this,ip,this.focusin.bind(this));Nn(this,rp,this.focusout.bind(this));Nn(this,Mo,null);Nn(this,Um,"");Nn(this,Wu,!1);Nn(this,tu,null);Nn(this,Hm,!1);Nn(this,Vu,!1);Nn(this,E0,!1);Nn(this,Jl,null);Nn(this,sp,0);Nn(this,ap,0);Nn(this,wl,null);Ur(this,"_initialOptions",Object.create(null));Ur(this,"_isVisible",!0);Ur(this,"_uiManager",null);Ur(this,"_focusEventsAllowed",!0);Ur(this,"_l10nPromise",null);Nn(this,zm,!1);Nn(this,Y2,_a._zIndex++);this.constructor===_a&&unreachable("Cannot initialize AnnotationEditor."),this.parent=$.parent,this.id=$.id,this.width=this.height=null,this.pageIndex=$.parent.pageIndex,this.name=$.name,this.div=null,this._uiManager=$.uiManager,this.annotationElementId=null,this._willKeepAspectRatio=!1,this._initialOptions.isCentered=$.isCentered,this._structTreeParentId=null;const{rotation:ht,rawDims:{pageWidth:vt,pageHeight:At,pageX:St,pageY:kt}}=this.parent.viewport;this.rotation=ht,this.pageRotation=(360+ht-this._uiManager.viewParameters.rotation)%360,this.pageDimensions=[vt,At],this.pageTranslation=[St,kt];const[Et,Rt]=this.parentDimensions;this.x=$.x/Et,this.y=$.y/Rt,this.isAttachedToDOM=!1,this.deleted=!1}static get _resizerKeyboardManager(){const $=_a.prototype._resizeWithKeyboard,ht=AnnotationEditorUIManager.TRANSLATE_SMALL,vt=AnnotationEditorUIManager.TRANSLATE_BIG;return shadow(this,"_resizerKeyboardManager",new KeyboardManager([[["ArrowLeft","mac+ArrowLeft"],$,{args:[-ht,0]}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],$,{args:[-vt,0]}],[["ArrowRight","mac+ArrowRight"],$,{args:[ht,0]}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],$,{args:[vt,0]}],[["ArrowUp","mac+ArrowUp"],$,{args:[0,-ht]}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],$,{args:[0,-vt]}],[["ArrowDown","mac+ArrowDown"],$,{args:[0,ht]}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],$,{args:[0,vt]}],[["Escape","mac+Escape"],_a.prototype._stopResizingWithKeyboard]]))}get editorType(){return Object.getPrototypeOf(this).constructor._type}static get _defaultLineColor(){return shadow(this,"_defaultLineColor",this._colorManager.getHexCode("CanvasText"))}static deleteAnnotationElement($){const ht=new FakeEditor({id:$.parent.getNextId(),parent:$.parent,uiManager:$._uiManager});ht.annotationElementId=$.annotationElementId,ht.deleted=!0,ht._uiManager.addToAnnotationStorage(ht)}static initialize($,ht,vt){if(_a._l10nPromise||(_a._l10nPromise=new Map(["pdfjs-editor-alt-text-button-label","pdfjs-editor-alt-text-edit-button-label","pdfjs-editor-alt-text-decorative-tooltip","pdfjs-editor-resizer-label-topLeft","pdfjs-editor-resizer-label-topMiddle","pdfjs-editor-resizer-label-topRight","pdfjs-editor-resizer-label-middleRight","pdfjs-editor-resizer-label-bottomRight","pdfjs-editor-resizer-label-bottomMiddle","pdfjs-editor-resizer-label-bottomLeft","pdfjs-editor-resizer-label-middleLeft"].map(St=>[St,$.get(St.replaceAll(/([A-Z])/g,kt=>`-${kt.toLowerCase()}`))]))),vt!=null&&vt.strings)for(const St of vt.strings)_a._l10nPromise.set(St,$.get(St));if(_a._borderLineWidth!==-1)return;const At=getComputedStyle(document.documentElement);_a._borderLineWidth=parseFloat(At.getPropertyValue("--outline-width"))||0}static updateDefaultParams($,ht){}static get defaultPropertiesToUpdate(){return[]}static isHandlingMimeForPasting($){return!1}static paste($,ht){unreachable("Not implemented")}get propertiesToUpdate(){return[]}get _isDraggable(){return Mt(this,zm)}set _isDraggable($){var ht;$n(this,zm,$),(ht=this.div)==null||ht.classList.toggle("draggable",$)}get isEnterHandled(){return!0}center(){const[$,ht]=this.pageDimensions;switch(this.parentRotation){case 90:this.x-=this.height*ht/($*2),this.y+=this.width*$/(ht*2);break;case 180:this.x+=this.width/2,this.y+=this.height/2;break;case 270:this.x+=this.height*ht/($*2),this.y-=this.width*$/(ht*2);break;default:this.x-=this.width/2,this.y-=this.height/2;break}this.fixAndSetPosition()}addCommands($){this._uiManager.addCommands($)}get currentLayer(){return this._uiManager.currentLayer}setInBackground(){this.div.style.zIndex=0}setInForeground(){this.div.style.zIndex=Mt(this,Y2)}setParent($){$!==null?(this.pageIndex=$.pageIndex,this.pageDimensions=$.pageDimensions):On(this,Ds,_g).call(this),this.parent=$}focusin($){this._focusEventsAllowed&&(Mt(this,Wu)?$n(this,Wu,!1):this.parent.setSelected(this))}focusout($){var vt;if(!this._focusEventsAllowed||!this.isAttachedToDOM)return;const ht=$.relatedTarget;ht!=null&&ht.closest(`#${this.id}`)||($.preventDefault(),(vt=this.parent)!=null&&vt.isMultipleSelection||this.commitOrRemove())}commitOrRemove(){this.isEmpty()?this.remove():this.commit()}commit(){this.addToAnnotationStorage()}addToAnnotationStorage(){this._uiManager.addToAnnotationStorage(this)}setAt($,ht,vt,At){const[St,kt]=this.parentDimensions;[vt,At]=this.screenToPageTranslation(vt,At),this.x=($+vt)/St,this.y=(ht+At)/kt,this.fixAndSetPosition()}translate($,ht){On(this,Ds,T9).call(this,this.parentDimensions,$,ht)}translateInPage($,ht){Mt(this,tu)||$n(this,tu,[this.x,this.y]),On(this,Ds,T9).call(this,this.pageDimensions,$,ht),this.div.scrollIntoView({block:"nearest"})}drag($,ht){Mt(this,tu)||$n(this,tu,[this.x,this.y]);const[vt,At]=this.parentDimensions;if(this.x+=$/vt,this.y+=ht/At,this.parent&&(this.x<0||this.x>1||this.y<0||this.y>1)){const{x:wt,y:_t}=this.div.getBoundingClientRect();this.parent.findNewParent(this,wt,_t)&&(this.x-=Math.floor(this.x),this.y-=Math.floor(this.y))}let{x:St,y:kt}=this;const[Et,Rt]=this.getBaseTranslation();St+=Et,kt+=Rt,this.div.style.left=`${(100*St).toFixed(2)}%`,this.div.style.top=`${(100*kt).toFixed(2)}%`,this.div.scrollIntoView({block:"nearest"})}get _hasBeenMoved(){return!!Mt(this,tu)&&(Mt(this,tu)[0]!==this.x||Mt(this,tu)[1]!==this.y)}getBaseTranslation(){const[$,ht]=this.parentDimensions,{_borderLineWidth:vt}=_a,At=vt/$,St=vt/ht;switch(this.rotation){case 90:return[-At,St];case 180:return[At,St];case 270:return[At,-St];default:return[-At,-St]}}get _mustFixPosition(){return!0}fixAndSetPosition($=this.rotation){const[ht,vt]=this.pageDimensions;let{x:At,y:St,width:kt,height:Et}=this;if(kt*=ht,Et*=vt,At*=ht,St*=vt,this._mustFixPosition)switch($){case 0:At=Math.max(0,Math.min(ht-kt,At)),St=Math.max(0,Math.min(vt-Et,St));break;case 90:At=Math.max(0,Math.min(ht-Et,At)),St=Math.min(vt,Math.max(kt,St));break;case 180:At=Math.min(ht,Math.max(kt,At)),St=Math.min(vt,Math.max(Et,St));break;case 270:At=Math.min(ht,Math.max(Et,At)),St=Math.max(0,Math.min(vt-kt,St));break}this.x=At/=ht,this.y=St/=vt;const[Rt,wt]=this.getBaseTranslation();At+=Rt,St+=wt;const{style:_t}=this.div;_t.left=`${(100*At).toFixed(2)}%`,_t.top=`${(100*St).toFixed(2)}%`,this.moveInDOM()}screenToPageTranslation($,ht){var vt;return On(vt=_a,Xm,_9).call(vt,$,ht,this.parentRotation)}pageTranslationToScreen($,ht){var vt;return On(vt=_a,Xm,_9).call(vt,$,ht,360-this.parentRotation)}get parentScale(){return this._uiManager.viewParameters.realScale}get parentRotation(){return(this._uiManager.viewParameters.rotation+this.pageRotation)%360}get parentDimensions(){const{parentScale:$,pageDimensions:[ht,vt]}=this,At=ht*$,St=vt*$;return util_FeatureTest.isCSSRoundSupported?[Math.round(At),Math.round(St)]:[At,St]}setDims($,ht){const[vt,At]=this.parentDimensions;this.div.style.width=`${(100*$/vt).toFixed(2)}%`,Mt(this,zu)||(this.div.style.height=`${(100*ht/At).toFixed(2)}%`)}fixDims(){const{style:$}=this.div,{height:ht,width:vt}=$,At=vt.endsWith("%"),St=!Mt(this,zu)&&ht.endsWith("%");if(At&&St)return;const[kt,Et]=this.parentDimensions;At||($.width=`${(100*parseFloat(vt)/kt).toFixed(2)}%`),!Mt(this,zu)&&!St&&($.height=`${(100*parseFloat(ht)/Et).toFixed(2)}%`)}getInitialTranslation(){return[0,0]}altTextFinish(){var $;($=Mt(this,Do))==null||$.finish()}async addEditToolbar(){return Mt(this,Mo)||Mt(this,Vu)?Mt(this,Mo):($n(this,Mo,new EditorToolbar(this)),this.div.append(Mt(this,Mo).render()),Mt(this,Do)&&Mt(this,Mo).addAltTextButton(await Mt(this,Do).render()),Mt(this,Mo))}removeEditToolbar(){var $;Mt(this,Mo)&&(Mt(this,Mo).remove(),$n(this,Mo,null),($=Mt(this,Do))==null||$.destroy())}getClientDimensions(){return this.div.getBoundingClientRect()}async addAltTextButton(){Mt(this,Do)||(AltText.initialize(_a._l10nPromise),$n(this,Do,new AltText(this)),await this.addEditToolbar())}get altTextData(){var $;return($=Mt(this,Do))==null?void 0:$.data}set altTextData($){Mt(this,Do)&&(Mt(this,Do).data=$)}hasAltText(){var $;return!(($=Mt(this,Do))!=null&&$.isEmpty())}render(){this.div=document.createElement("div"),this.div.setAttribute("data-editor-rotation",(360-this.rotation)%360),this.div.className=this.name,this.div.setAttribute("id",this.id),this.div.tabIndex=Mt(this,np)?-1:0,this._isVisible||this.div.classList.add("hidden"),this.setInForeground(),this.div.addEventListener("focusin",Mt(this,ip)),this.div.addEventListener("focusout",Mt(this,rp));const[$,ht]=this.parentDimensions;this.parentRotation%180!==0&&(this.div.style.maxWidth=`${(100*ht/$).toFixed(2)}%`,this.div.style.maxHeight=`${(100*$/ht).toFixed(2)}%`);const[vt,At]=this.getInitialTranslation();return this.translate(vt,At),bindEvents(this,this.div,["pointerdown"]),this.div}pointerdown($){const{isMac:ht}=util_FeatureTest.platform;if($.button!==0||$.ctrlKey&&ht){$.preventDefault();return}if($n(this,Wu,!0),this._isDraggable){On(this,Ds,My).call(this,$);return}On(this,Ds,I9).call(this,$)}moveInDOM(){Mt(this,Jl)&&clearTimeout(Mt(this,Jl)),$n(this,Jl,setTimeout(()=>{var $;$n(this,Jl,null),($=this.parent)==null||$.moveEditorInDOM(this)},0))}_setParentAndPosition($,ht,vt){$.changeParent(this),this.x=ht,this.y=vt,this.fixAndSetPosition()}getRect($,ht,vt=this.rotation){const At=this.parentScale,[St,kt]=this.pageDimensions,[Et,Rt]=this.pageTranslation,wt=$/At,_t=ht/At,Pt=this.x*St,_e=this.y*kt,bt=this.width*St,Ft=this.height*kt;switch(vt){case 0:return[Pt+wt+Et,kt-_e-_t-Ft+Rt,Pt+wt+bt+Et,kt-_e-_t+Rt];case 90:return[Pt+_t+Et,kt-_e+wt+Rt,Pt+_t+Ft+Et,kt-_e+wt+bt+Rt];case 180:return[Pt-wt-bt+Et,kt-_e+_t+Rt,Pt-wt+Et,kt-_e+_t+Ft+Rt];case 270:return[Pt-_t-Ft+Et,kt-_e-wt-bt+Rt,Pt-_t+Et,kt-_e-wt+Rt];default:throw new Error("Invalid rotation")}}getRectInCurrentCoords($,ht){const[vt,At,St,kt]=$,Et=St-vt,Rt=kt-At;switch(this.rotation){case 0:return[vt,ht-kt,Et,Rt];case 90:return[vt,ht-At,Rt,Et];case 180:return[St,ht-At,Et,Rt];case 270:return[St,ht-kt,Rt,Et];default:throw new Error("Invalid rotation")}}onceAdded(){}isEmpty(){return!1}enableEditMode(){$n(this,Vu,!0)}disableEditMode(){$n(this,Vu,!1)}isInEditMode(){return Mt(this,Vu)}shouldGetKeyboardEvents(){return Mt(this,E0)}needsToBeRebuilt(){return this.div&&!this.isAttachedToDOM}rebuild(){var $,ht;($=this.div)==null||$.addEventListener("focusin",Mt(this,ip)),(ht=this.div)==null||ht.addEventListener("focusout",Mt(this,rp))}rotate($){}serialize($=!1,ht=null){unreachable("An editor must be serializable")}static deserialize($,ht,vt){const At=new this.prototype.constructor({parent:ht,id:ht.getNextId(),uiManager:vt});At.rotation=$.rotation;const[St,kt]=At.pageDimensions,[Et,Rt,wt,_t]=At.getRectInCurrentCoords($.rect,kt);return At.x=Et/St,At.y=Rt/kt,At.width=wt/St,At.height=_t/kt,At}get hasBeenModified(){return!!this.annotationElementId&&(this.deleted||this.serialize()!==null)}remove(){if(this.div.removeEventListener("focusin",Mt(this,ip)),this.div.removeEventListener("focusout",Mt(this,rp)),this.isEmpty()||this.commit(),this.parent?this.parent.remove(this):this._uiManager.removeEditor(this),Mt(this,Jl)&&(clearTimeout(Mt(this,Jl)),$n(this,Jl,null)),On(this,Ds,_g).call(this),this.removeEditToolbar(),Mt(this,wl)){for(const $ of Mt(this,wl).values())clearTimeout($);$n(this,wl,null)}this.parent=null}get isResizable(){return!1}makeResizable(){this.isResizable&&(On(this,Ds,Py).call(this),Mt(this,To).classList.remove("hidden"),bindEvents(this,this.div,["keydown"]))}get toolbarPosition(){return null}keydown($){if(!this.isResizable||$.target!==this.div||$.key!=="Enter")return;this._uiManager.setSelected(this),$n(this,Xu,{savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height});const ht=Mt(this,To).children;if(!Mt(this,Ol)){$n(this,Ol,Array.from(ht));const kt=On(this,Ds,Oy).bind(this),Et=On(this,Ds,Dy).bind(this);for(const Rt of Mt(this,Ol)){const wt=Rt.getAttribute("data-resizer-name");Rt.setAttribute("role","spinbutton"),Rt.addEventListener("keydown",kt),Rt.addEventListener("blur",Et),Rt.addEventListener("focus",On(this,Ds,Ly).bind(this,wt)),_a._l10nPromise.get(`pdfjs-editor-resizer-label-${wt}`).then(_t=>Rt.setAttribute("aria-label",_t))}}const vt=Mt(this,Ol)[0];let At=0;for(const kt of ht){if(kt===vt)break;At++}const St=(360-this.rotation+this.parentRotation)%360/90*(Mt(this,Ol).length/4);if(St!==At){if(St<At)for(let Et=0;Et<At-St;Et++)Mt(this,To).append(Mt(this,To).firstChild);else if(St>At)for(let Et=0;Et<St-At;Et++)Mt(this,To).firstChild.before(Mt(this,To).lastChild);let kt=0;for(const Et of ht){const wt=Mt(this,Ol)[kt++].getAttribute("data-resizer-name");_a._l10nPromise.get(`pdfjs-editor-resizer-label-${wt}`).then(_t=>Et.setAttribute("aria-label",_t))}}On(this,Ds,M9).call(this,0),$n(this,E0,!0),Mt(this,To).firstChild.focus({focusVisible:!0}),$.preventDefault(),$.stopImmediatePropagation()}_resizeWithKeyboard($,ht){Mt(this,E0)&&On(this,Ds,P9).call(this,Mt(this,Um),{movementX:$,movementY:ht})}_stopResizingWithKeyboard(){On(this,Ds,_g).call(this),this.div.focus()}select(){var $,ht;if(this.makeResizable(),($=this.div)==null||$.classList.add("selectedEditor"),!Mt(this,Mo)){this.addEditToolbar().then(()=>{var vt,At;(vt=this.div)!=null&&vt.classList.contains("selectedEditor")&&((At=Mt(this,Mo))==null||At.show())});return}(ht=Mt(this,Mo))==null||ht.show()}unselect(){var $,ht,vt,At;($=Mt(this,To))==null||$.classList.add("hidden"),(ht=this.div)==null||ht.classList.remove("selectedEditor"),(vt=this.div)!=null&&vt.contains(document.activeElement)&&this._uiManager.currentLayer.div.focus({preventScroll:!0}),(At=Mt(this,Mo))==null||At.hide()}updateParams($,ht){}disableEditing(){}enableEditing(){}enterInEditMode(){}getImageForAltText(){return null}get contentDiv(){return this.div}get isEditing(){return Mt(this,Hm)}set isEditing($){$n(this,Hm,$),this.parent&&($?(this.parent.setSelected(this),this.parent.setActiveEditor(this)):this.parent.setActiveEditor(null))}setAspectRatio($,ht){$n(this,zu,!0);const vt=$/ht,{style:At}=this.div;At.aspectRatio=vt,At.height="auto"}static get MIN_SIZE(){return 16}static canCreateNewEmptyEditor(){return!0}get telemetryInitialData(){return{action:"added"}}get telemetryFinalData(){return null}_reportTelemetry($,ht=!1){if(ht){Mt(this,wl)||$n(this,wl,new Map);const{action:vt}=$;let At=Mt(this,wl).get(vt);At&&clearTimeout(At),At=setTimeout(()=>{this._reportTelemetry($),Mt(this,wl).delete(vt),Mt(this,wl).size===0&&$n(this,wl,null)},_a._telemetryTimeout),Mt(this,wl).set(vt,At);return}$.type||($.type=this.editorType),this._uiManager._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:$}})}show($=this._isVisible){this.div.classList.toggle("hidden",!$),this._isVisible=$}enable(){this.div&&(this.div.tabIndex=0),$n(this,np,!1)}disable(){this.div&&(this.div.tabIndex=-1),$n(this,np,!0)}renderAnnotationElement($){let ht=$.container.querySelector(".annotationContent");if(!ht)ht=document.createElement("div"),ht.classList.add("annotationContent",this.editorType),$.container.prepend(ht);else if(ht.nodeName==="CANVAS"){const vt=ht;ht=document.createElement("div"),ht.classList.add("annotationContent",this.editorType),vt.before(ht)}return ht}resetAnnotationElement($){const{firstChild:ht}=$.container;ht.nodeName==="DIV"&&ht.classList.contains("annotationContent")&&ht.remove()}};Ol=new WeakMap,Do=new WeakMap,np=new WeakMap,zu=new WeakMap,To=new WeakMap,Xu=new WeakMap,ip=new WeakMap,rp=new WeakMap,Mo=new WeakMap,Um=new WeakMap,Wu=new WeakMap,tu=new WeakMap,Hm=new WeakMap,Vu=new WeakMap,E0=new WeakMap,Jl=new WeakMap,sp=new WeakMap,ap=new WeakMap,wl=new WeakMap,zm=new WeakMap,Y2=new WeakMap,Ds=new WeakSet,T9=function([$,ht],vt,At){[vt,At]=this.screenToPageTranslation(vt,At),this.x+=vt/$,this.y+=At/ht,this.fixAndSetPosition()},Xm=new WeakSet,_9=function($,ht,vt){switch(vt){case 90:return[ht,-$];case 180:return[-$,-ht];case 270:return[-ht,$];default:return[$,ht]}},R9=function($){switch($){case 90:{const[ht,vt]=this.pageDimensions;return[0,-ht/vt,vt/ht,0]}case 180:return[-1,0,0,-1];case 270:{const[ht,vt]=this.pageDimensions;return[0,ht/vt,-vt/ht,0]}default:return[1,0,0,1]}},Py=function(){if(Mt(this,To))return;$n(this,To,document.createElement("div")),Mt(this,To).classList.add("resizers");const $=this._willKeepAspectRatio?["topLeft","topRight","bottomRight","bottomLeft"]:["topLeft","topMiddle","topRight","middleRight","bottomRight","bottomMiddle","bottomLeft","middleLeft"];for(const ht of $){const vt=document.createElement("div");Mt(this,To).append(vt),vt.classList.add("resizer",ht),vt.setAttribute("data-resizer-name",ht),vt.addEventListener("pointerdown",On(this,Ds,Iy).bind(this,ht)),vt.addEventListener("contextmenu",noContextMenu),vt.tabIndex=-1}this.div.prepend(Mt(this,To))},Iy=function($,ht){var Ft;ht.preventDefault();const{isMac:vt}=util_FeatureTest.platform;if(ht.button!==0||ht.ctrlKey&&vt)return;(Ft=Mt(this,Do))==null||Ft.toggle(!1);const At=On(this,Ds,P9).bind(this,$),St=this._isDraggable;this._isDraggable=!1;const kt={passive:!0,capture:!0};this.parent.togglePointerEvents(!1),window.addEventListener("pointermove",At,kt),window.addEventListener("contextmenu",noContextMenu);const Et=this.x,Rt=this.y,wt=this.width,_t=this.height,Pt=this.parent.div.style.cursor,_e=this.div.style.cursor;this.div.style.cursor=this.parent.div.style.cursor=window.getComputedStyle(ht.target).cursor;const bt=()=>{var Xt;this.parent.togglePointerEvents(!0),(Xt=Mt(this,Do))==null||Xt.toggle(!0),this._isDraggable=St,window.removeEventListener("pointerup",bt),window.removeEventListener("blur",bt),window.removeEventListener("pointermove",At,kt),window.removeEventListener("contextmenu",noContextMenu),this.parent.div.style.cursor=Pt,this.div.style.cursor=_e,On(this,Ds,F9).call(this,Et,Rt,wt,_t)};window.addEventListener("pointerup",bt),window.addEventListener("blur",bt)},F9=function($,ht,vt,At){const St=this.x,kt=this.y,Et=this.width,Rt=this.height;St===$&&kt===ht&&Et===vt&&Rt===At||this.addCommands({cmd:()=>{this.width=Et,this.height=Rt,this.x=St,this.y=kt;const[wt,_t]=this.parentDimensions;this.setDims(wt*Et,_t*Rt),this.fixAndSetPosition()},undo:()=>{this.width=vt,this.height=At,this.x=$,this.y=ht;const[wt,_t]=this.parentDimensions;this.setDims(wt*vt,_t*At),this.fixAndSetPosition()},mustExec:!0})},P9=function($,ht){const[vt,At]=this.parentDimensions,St=this.x,kt=this.y,Et=this.width,Rt=this.height,wt=_a.MIN_SIZE/vt,_t=_a.MIN_SIZE/At,Pt=hn=>Math.round(hn*1e4)/1e4,_e=On(this,Ds,R9).call(this,this.rotation),bt=(hn,Ut)=>[_e[0]*hn+_e[2]*Ut,_e[1]*hn+_e[3]*Ut],Ft=On(this,Ds,R9).call(this,360-this.rotation),Xt=(hn,Ut)=>[Ft[0]*hn+Ft[2]*Ut,Ft[1]*hn+Ft[3]*Ut];let Kt,Nt,$t=!1,Dt=!1;switch($){case"topLeft":$t=!0,Kt=(hn,Ut)=>[0,0],Nt=(hn,Ut)=>[hn,Ut];break;case"topMiddle":Kt=(hn,Ut)=>[hn/2,0],Nt=(hn,Ut)=>[hn/2,Ut];break;case"topRight":$t=!0,Kt=(hn,Ut)=>[hn,0],Nt=(hn,Ut)=>[0,Ut];break;case"middleRight":Dt=!0,Kt=(hn,Ut)=>[hn,Ut/2],Nt=(hn,Ut)=>[0,Ut/2];break;case"bottomRight":$t=!0,Kt=(hn,Ut)=>[hn,Ut],Nt=(hn,Ut)=>[0,0];break;case"bottomMiddle":Kt=(hn,Ut)=>[hn/2,Ut],Nt=(hn,Ut)=>[hn/2,0];break;case"bottomLeft":$t=!0,Kt=(hn,Ut)=>[0,Ut],Nt=(hn,Ut)=>[hn,0];break;case"middleLeft":Dt=!0,Kt=(hn,Ut)=>[0,Ut/2],Nt=(hn,Ut)=>[hn,Ut/2];break}const jt=Kt(Et,Rt),Ct=Nt(Et,Rt);let qt=bt(...Ct);const Bt=Pt(St+qt[0]),Gt=Pt(kt+qt[1]);let en=1,dn=1,[Qt,gn]=this.screenToPageTranslation(ht.movementX,ht.movementY);if([Qt,gn]=Xt(Qt/vt,gn/At),$t){const hn=Math.hypot(Et,Rt);en=dn=Math.max(Math.min(Math.hypot(Ct[0]-jt[0]-Qt,Ct[1]-jt[1]-gn)/hn,1/Et,1/Rt),wt/Et,_t/Rt)}else Dt?en=Math.max(wt,Math.min(1,Math.abs(Ct[0]-jt[0]-Qt)))/Et:dn=Math.max(_t,Math.min(1,Math.abs(Ct[1]-jt[1]-gn)))/Rt;const nn=Pt(Et*en),bn=Pt(Rt*dn);qt=bt(...Nt(nn,bn));const Vt=Bt-qt[0],Yt=Gt-qt[1];this.width=nn,this.height=bn,this.x=Vt,this.y=Yt,this.setDims(vt*nn,At*bn),this.fixAndSetPosition()},I9=function($){const{isMac:ht}=util_FeatureTest.platform;$.ctrlKey&&!ht||$.shiftKey||$.metaKey&&ht?this.parent.toggleSelected(this):this.parent.setSelected(this)},My=function($){const ht=this._uiManager.isSelected(this);this._uiManager.setUpDragSession();let vt,At;ht&&(this.div.classList.add("moving"),vt={passive:!0,capture:!0},$n(this,sp,$.clientX),$n(this,ap,$.clientY),At=kt=>{const{clientX:Et,clientY:Rt}=kt,[wt,_t]=this.screenToPageTranslation(Et-Mt(this,sp),Rt-Mt(this,ap));$n(this,sp,Et),$n(this,ap,Rt),this._uiManager.dragSelectedEditors(wt,_t)},window.addEventListener("pointermove",At,vt));const St=()=>{window.removeEventListener("pointerup",St),window.removeEventListener("blur",St),ht&&(this.div.classList.remove("moving"),window.removeEventListener("pointermove",At,vt)),$n(this,Wu,!1),this._uiManager.endDragSession()||On(this,Ds,I9).call(this,$)};window.addEventListener("pointerup",St),window.addEventListener("blur",St)},Oy=function($){_a._resizerKeyboardManager.exec(this,$)},Dy=function($){var ht;Mt(this,E0)&&((ht=$.relatedTarget)==null?void 0:ht.parentNode)!==Mt(this,To)&&On(this,Ds,_g).call(this)},Ly=function($){$n(this,Um,Mt(this,E0)?$:"")},M9=function($){if(Mt(this,Ol))for(const ht of Mt(this,Ol))ht.tabIndex=$},_g=function(){if($n(this,E0,!1),On(this,Ds,M9).call(this,-1),Mt(this,Xu)){const{savedX:$,savedY:ht,savedWidth:vt,savedHeight:At}=Mt(this,Xu);On(this,Ds,F9).call(this,$,ht,vt,At),$n(this,Xu,null)}},Nn(_a,Xm),Ur(_a,"_borderLineWidth",-1),Ur(_a,"_colorManager",new ColorManager),Ur(_a,"_zIndex",1),Ur(_a,"_telemetryTimeout",1e3);let AnnotationEditor=_a;class FakeEditor extends AnnotationEditor{constructor($){super($),this.annotationElementId=$.annotationElementId,this.deleted=!0}serialize(){return{id:this.annotationElementId,deleted:!0,pageIndex:this.pageIndex}}}const SEED=3285377520,MASK_HIGH=4294901760,MASK_LOW=65535;class MurmurHash3_64{constructor($){this.h1=$?$&4294967295:SEED,this.h2=$?$&4294967295:SEED}update($){let ht,vt;if(typeof $=="string"){ht=new Uint8Array($.length*2),vt=0;for(let Xt=0,Kt=$.length;Xt<Kt;Xt++){const Nt=$.charCodeAt(Xt);Nt<=255?ht[vt++]=Nt:(ht[vt++]=Nt>>>8,ht[vt++]=Nt&255)}}else if(ArrayBuffer.isView($))ht=$.slice(),vt=ht.byteLength;else throw new Error("Invalid data format, must be a string or TypedArray.");const At=vt>>2,St=vt-At*4,kt=new Uint32Array(ht.buffer,0,At);let Et=0,Rt=0,wt=this.h1,_t=this.h2;const Pt=3432918353,_e=461845907,bt=Pt&MASK_LOW,Ft=_e&MASK_LOW;for(let Xt=0;Xt<At;Xt++)Xt&1?(Et=kt[Xt],Et=Et*Pt&MASK_HIGH|Et*bt&MASK_LOW,Et=Et<<15|Et>>>17,Et=Et*_e&MASK_HIGH|Et*Ft&MASK_LOW,wt^=Et,wt=wt<<13|wt>>>19,wt=wt*5+3864292196):(Rt=kt[Xt],Rt=Rt*Pt&MASK_HIGH|Rt*bt&MASK_LOW,Rt=Rt<<15|Rt>>>17,Rt=Rt*_e&MASK_HIGH|Rt*Ft&MASK_LOW,_t^=Rt,_t=_t<<13|_t>>>19,_t=_t*5+3864292196);switch(Et=0,St){case 3:Et^=ht[At*4+2]<<16;case 2:Et^=ht[At*4+1]<<8;case 1:Et^=ht[At*4],Et=Et*Pt&MASK_HIGH|Et*bt&MASK_LOW,Et=Et<<15|Et>>>17,Et=Et*_e&MASK_HIGH|Et*Ft&MASK_LOW,At&1?wt^=Et:_t^=Et}this.h1=wt,this.h2=_t}hexdigest(){let $=this.h1,ht=this.h2;return $^=ht>>>1,$=$*3981806797&MASK_HIGH|$*36045&MASK_LOW,ht=ht*4283543511&MASK_HIGH|((ht<<16|$>>>16)*2950163797&MASK_HIGH)>>>16,$^=ht>>>1,$=$*444984403&MASK_HIGH|$*60499&MASK_LOW,ht=ht*3301882366&MASK_HIGH|((ht<<16|$>>>16)*3120437893&MASK_HIGH)>>>16,$^=ht>>>1,($>>>0).toString(16).padStart(8,"0")+(ht>>>0).toString(16).padStart(8,"0")}}const SerializableEmpty=Object.freeze({map:null,hash:"",transfer:void 0});var Gu,_o,Z2,Ny;class AnnotationStorage{constructor(){Nn(this,Z2);Nn(this,Gu,!1);Nn(this,_o,new Map);this.onSetModified=null,this.onResetModified=null,this.onAnnotationEditor=null}getValue($,ht){const vt=Mt(this,_o).get($);return vt===void 0?ht:Object.assign(ht,vt)}getRawValue($){return Mt(this,_o).get($)}remove($){if(Mt(this,_o).delete($),Mt(this,_o).size===0&&this.resetModified(),typeof this.onAnnotationEditor=="function"){for(const ht of Mt(this,_o).values())if(ht instanceof AnnotationEditor)return;this.onAnnotationEditor(null)}}setValue($,ht){const vt=Mt(this,_o).get($);let At=!1;if(vt!==void 0)for(const[St,kt]of Object.entries(ht))vt[St]!==kt&&(At=!0,vt[St]=kt);else At=!0,Mt(this,_o).set($,ht);At&&On(this,Z2,Ny).call(this),ht instanceof AnnotationEditor&&typeof this.onAnnotationEditor=="function"&&this.onAnnotationEditor(ht.constructor._type)}has($){return Mt(this,_o).has($)}getAll(){return Mt(this,_o).size>0?objectFromMap(Mt(this,_o)):null}setAll($){for(const[ht,vt]of Object.entries($))this.setValue(ht,vt)}get size(){return Mt(this,_o).size}resetModified(){Mt(this,Gu)&&($n(this,Gu,!1),typeof this.onResetModified=="function"&&this.onResetModified())}get print(){return new PrintAnnotationStorage(this)}get serializable(){if(Mt(this,_o).size===0)return SerializableEmpty;const $=new Map,ht=new MurmurHash3_64,vt=[],At=Object.create(null);let St=!1;for(const[kt,Et]of Mt(this,_o)){const Rt=Et instanceof AnnotationEditor?Et.serialize(!1,At):Et;Rt&&($.set(kt,Rt),ht.update(`${kt}:${JSON.stringify(Rt)}`),St||(St=!!Rt.bitmap))}if(St)for(const kt of $.values())kt.bitmap&&vt.push(kt.bitmap);return $.size>0?{map:$,hash:ht.hexdigest(),transfer:vt}:SerializableEmpty}get editorStats(){let $=null;const ht=new Map;for(const vt of Mt(this,_o).values()){if(!(vt instanceof AnnotationEditor))continue;const At=vt.telemetryFinalData;if(!At)continue;const{type:St}=At;ht.has(St)||ht.set(St,Object.getPrototypeOf(vt).constructor),$||($=Object.create(null));const kt=$[St]||($[St]=new Map);for(const[Et,Rt]of Object.entries(At)){if(Et==="type")continue;let wt=kt.get(Et);wt||(wt=new Map,kt.set(Et,wt));const _t=wt.get(Rt)??0;wt.set(Rt,_t+1)}}for(const[vt,At]of ht)$[vt]=At.computeTelemetryFinalData($[vt]);return $}}Gu=new WeakMap,_o=new WeakMap,Z2=new WeakSet,Ny=function(){Mt(this,Gu)||($n(this,Gu,!0),typeof this.onSetModified=="function"&&this.onSetModified())};var Wm;class PrintAnnotationStorage extends AnnotationStorage{constructor(ht){super();Nn(this,Wm);const{map:vt,hash:At,transfer:St}=ht.serializable,kt=structuredClone(vt,St?{transfer:St}:null);$n(this,Wm,{map:kt,hash:At,transfer:St})}get print(){unreachable("Should not call PrintAnnotationStorage.print")}get serializable(){return Mt(this,Wm)}}Wm=new WeakMap;var op;class FontLoader{constructor({ownerDocument:$=globalThis.document,styleElement:ht=null}){Nn(this,op,new Set);this._document=$,this.nativeFontFaces=new Set,this.styleElement=null,this.loadingRequests=[],this.loadTestFontId=0}addNativeFontFace($){this.nativeFontFaces.add($),this._document.fonts.add($)}removeNativeFontFace($){this.nativeFontFaces.delete($),this._document.fonts.delete($)}insertRule($){this.styleElement||(this.styleElement=this._document.createElement("style"),this._document.documentElement.getElementsByTagName("head")[0].append(this.styleElement));const ht=this.styleElement.sheet;ht.insertRule($,ht.cssRules.length)}clear(){for(const $ of this.nativeFontFaces)this._document.fonts.delete($);this.nativeFontFaces.clear(),Mt(this,op).clear(),this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}async loadSystemFont({systemFontInfo:$,_inspectFont:ht}){if(!(!$||Mt(this,op).has($.loadedName))){if(assert(!this.disableFontFace,"loadSystemFont shouldn't be called when `disableFontFace` is set."),this.isFontLoadingAPISupported){const{loadedName:vt,src:At,style:St}=$,kt=new FontFace(vt,At,St);this.addNativeFontFace(kt);try{await kt.load(),Mt(this,op).add(vt),ht==null||ht($)}catch{warn(`Cannot load system font: ${$.baseFontName}, installing it could help to improve PDF rendering.`),this.removeNativeFontFace(kt)}return}unreachable("Not implemented: loadSystemFont without the Font Loading API.")}}async bind($){if($.attached||$.missingFile&&!$.systemFontInfo)return;if($.attached=!0,$.systemFontInfo){await this.loadSystemFont($);return}if(this.isFontLoadingAPISupported){const vt=$.createNativeFontFace();if(vt){this.addNativeFontFace(vt);try{await vt.loaded}catch(At){throw warn(`Failed to load font '${vt.family}': '${At}'.`),$.disableFontFace=!0,At}}return}const ht=$.createFontFaceRule();if(ht){if(this.insertRule(ht),this.isSyncFontLoadingSupported)return;await new Promise(vt=>{const At=this._queueLoadingCallback(vt);this._prepareFontLoadEvent($,At)})}}get isFontLoadingAPISupported(){var ht;const $=!!((ht=this._document)!=null&&ht.fonts);return shadow(this,"isFontLoadingAPISupported",$)}get isSyncFontLoadingSupported(){let $=!1;return(isNodeJS||typeof navigator<"u"&&typeof(navigator==null?void 0:navigator.userAgent)=="string"&&/Mozilla\/5.0.*?rv:\d+.*? Gecko/.test(navigator.userAgent))&&($=!0),shadow(this,"isSyncFontLoadingSupported",$)}_queueLoadingCallback($){function ht(){for(assert(!At.done,"completeRequest() cannot be called twice."),At.done=!0;vt.length>0&&vt[0].done;){const St=vt.shift();setTimeout(St.callback,0)}}const{loadingRequests:vt}=this,At={done:!1,complete:ht,callback:$};return vt.push(At),At}get _loadTestFont(){const $=atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA==");return shadow(this,"_loadTestFont",$)}_prepareFontLoadEvent($,ht){function vt(jt,Ct){return jt.charCodeAt(Ct)<<24|jt.charCodeAt(Ct+1)<<16|jt.charCodeAt(Ct+2)<<8|jt.charCodeAt(Ct+3)&255}function At(jt,Ct,qt,Bt){const Gt=jt.substring(0,Ct),en=jt.substring(Ct+qt);return Gt+Bt+en}let St,kt;const Et=this._document.createElement("canvas");Et.width=1,Et.height=1;const Rt=Et.getContext("2d");let wt=0;function _t(jt,Ct){if(++wt>30){warn("Load test font never loaded."),Ct();return}if(Rt.font="30px "+jt,Rt.fillText(".",0,20),Rt.getImageData(0,0,1,1).data[3]>0){Ct();return}setTimeout(_t.bind(null,jt,Ct))}const Pt=`lt${Date.now()}${this.loadTestFontId++}`;let _e=this._loadTestFont;_e=At(_e,976,Pt.length,Pt);const Ft=16,Xt=1482184792;let Kt=vt(_e,Ft);for(St=0,kt=Pt.length-3;St<kt;St+=4)Kt=Kt-Xt+vt(Pt,St)|0;St<Pt.length&&(Kt=Kt-Xt+vt(Pt+"XXX",St)|0),_e=At(_e,Ft,4,string32(Kt));const Nt=`url(data:font/opentype;base64,${btoa(_e)});`,$t=`@font-face {font-family:"${Pt}";src:${Nt}}`;this.insertRule($t);const Dt=this._document.createElement("div");Dt.style.visibility="hidden",Dt.style.width=Dt.style.height="10px",Dt.style.position="absolute",Dt.style.top=Dt.style.left="0px";for(const jt of[$.loadedName,Pt]){const Ct=this._document.createElement("span");Ct.textContent="Hi",Ct.style.fontFamily=jt,Dt.append(Ct)}this._document.body.append(Dt),_t(Pt,()=>{Dt.remove(),ht.complete()})}}op=new WeakMap;class FontFaceObject{constructor($,{disableFontFace:ht=!1,inspectFont:vt=null}){this.compiledGlyphs=Object.create(null);for(const At in $)this[At]=$[At];this.disableFontFace=ht===!0,this._inspectFont=vt}createNativeFontFace(){var ht;if(!this.data||this.disableFontFace)return null;let $;if(!this.cssFontInfo)$=new FontFace(this.loadedName,this.data,{});else{const vt={weight:this.cssFontInfo.fontWeight};this.cssFontInfo.italicAngle&&(vt.style=`oblique ${this.cssFontInfo.italicAngle}deg`),$=new FontFace(this.cssFontInfo.fontFamily,this.data,vt)}return(ht=this._inspectFont)==null||ht.call(this,this),$}createFontFaceRule(){var At;if(!this.data||this.disableFontFace)return null;const $=bytesToString(this.data),ht=`url(data:${this.mimetype};base64,${btoa($)});`;let vt;if(!this.cssFontInfo)vt=`@font-face {font-family:"${this.loadedName}";src:${ht}}`;else{let St=`font-weight: ${this.cssFontInfo.fontWeight};`;this.cssFontInfo.italicAngle&&(St+=`font-style: oblique ${this.cssFontInfo.italicAngle}deg;`),vt=`@font-face {font-family:"${this.cssFontInfo.fontFamily}";${St}src:${ht}}`}return(At=this._inspectFont)==null||At.call(this,this,ht),vt}getPathGenerator($,ht){if(this.compiledGlyphs[ht]!==void 0)return this.compiledGlyphs[ht];let vt;try{vt=$.get(this.loadedName+"_path_"+ht)}catch(St){warn(`getPathGenerator - ignoring character: "${St}".`)}if(!Array.isArray(vt)||vt.length===0)return this.compiledGlyphs[ht]=function(St,kt){};const At=[];for(let St=0,kt=vt.length;St<kt;)switch(vt[St++]){case FontRenderOps.BEZIER_CURVE_TO:{const[Et,Rt,wt,_t,Pt,_e]=vt.slice(St,St+6);At.push(bt=>bt.bezierCurveTo(Et,Rt,wt,_t,Pt,_e)),St+=6}break;case FontRenderOps.MOVE_TO:{const[Et,Rt]=vt.slice(St,St+2);At.push(wt=>wt.moveTo(Et,Rt)),St+=2}break;case FontRenderOps.LINE_TO:{const[Et,Rt]=vt.slice(St,St+2);At.push(wt=>wt.lineTo(Et,Rt)),St+=2}break;case FontRenderOps.QUADRATIC_CURVE_TO:{const[Et,Rt,wt,_t]=vt.slice(St,St+4);At.push(Pt=>Pt.quadraticCurveTo(Et,Rt,wt,_t)),St+=4}break;case FontRenderOps.RESTORE:At.push(Et=>Et.restore());break;case FontRenderOps.SAVE:At.push(Et=>Et.save());break;case FontRenderOps.SCALE:assert(At.length===2,"Scale command is only valid at the third position.");break;case FontRenderOps.TRANSFORM:{const[Et,Rt,wt,_t,Pt,_e]=vt.slice(St,St+6);At.push(bt=>bt.transform(Et,Rt,wt,_t,Pt,_e)),St+=6}break;case FontRenderOps.TRANSLATE:{const[Et,Rt]=vt.slice(St,St+2);At.push(wt=>wt.translate(Et,Rt)),St+=2}break}return this.compiledGlyphs[ht]=function(kt,Et){At[0](kt),At[1](kt),kt.scale(Et,-Et);for(let Rt=2,wt=At.length;Rt<wt;Rt++)At[Rt](kt)}}}if(isNodeJS){var packageCapability=Promise.withResolvers(),packageMap=null;(async()=>{const $=await __vitePreload(()=>Promise.resolve().then(()=>__viteBrowserExternal$1),[]),ht=await __vitePreload(()=>Promise.resolve().then(()=>__viteBrowserExternal$1),void 0),vt=await __vitePreload(()=>Promise.resolve().then(()=>__viteBrowserExternal$1),void 0),At=await __vitePreload(()=>Promise.resolve().then(()=>__viteBrowserExternal$1),void 0);let St,kt;return new Map(Object.entries({fs:$,http:ht,https:vt,url:At,canvas:St,path2d:kt}))})().then($=>{packageMap=$,packageCapability.resolve()},$=>{warn(`loadPackages: ${$}`),packageMap=new Map,packageCapability.resolve()})}class NodePackages{static get promise(){return packageCapability.promise}static get($){return packageMap==null?void 0:packageMap.get($)}}const node_utils_fetchData=function(xt){return NodePackages.get("fs").promises.readFile(xt).then(ht=>new Uint8Array(ht))};class NodeFilterFactory extends BaseFilterFactory{}class NodeCanvasFactory extends BaseCanvasFactory{_createCanvas($,ht){return NodePackages.get("canvas").createCanvas($,ht)}}class NodeCMapReaderFactory extends BaseCMapReaderFactory{_fetchData($,ht){return node_utils_fetchData($).then(vt=>({cMapData:vt,compressionType:ht}))}}class NodeStandardFontDataFactory extends BaseStandardFontDataFactory{_fetchData($){return node_utils_fetchData($)}}const PathType={FILL:"Fill",STROKE:"Stroke",SHADING:"Shading"};function applyBoundingBox(xt,$){if(!$)return;const ht=$[2]-$[0],vt=$[3]-$[1],At=new Path2D;At.rect($[0],$[1],ht,vt),xt.clip(At)}class BaseShadingPattern{constructor(){this.constructor===BaseShadingPattern&&unreachable("Cannot initialize BaseShadingPattern.")}getPattern(){unreachable("Abstract method `getPattern` called.")}}class RadialAxialShadingPattern extends BaseShadingPattern{constructor($){super(),this._type=$[1],this._bbox=$[2],this._colorStops=$[3],this._p0=$[4],this._p1=$[5],this._r0=$[6],this._r1=$[7],this.matrix=null}_createGradient($){let ht;this._type==="axial"?ht=$.createLinearGradient(this._p0[0],this._p0[1],this._p1[0],this._p1[1]):this._type==="radial"&&(ht=$.createRadialGradient(this._p0[0],this._p0[1],this._r0,this._p1[0],this._p1[1],this._r1));for(const vt of this._colorStops)ht.addColorStop(vt[0],vt[1]);return ht}getPattern($,ht,vt,At){let St;if(At===PathType.STROKE||At===PathType.FILL){const kt=ht.current.getClippedPathBoundingBox(At,getCurrentTransform($))||[0,0,0,0],Et=Math.ceil(kt[2]-kt[0])||1,Rt=Math.ceil(kt[3]-kt[1])||1,wt=ht.cachedCanvases.getCanvas("pattern",Et,Rt,!0),_t=wt.context;_t.clearRect(0,0,_t.canvas.width,_t.canvas.height),_t.beginPath(),_t.rect(0,0,_t.canvas.width,_t.canvas.height),_t.translate(-kt[0],-kt[1]),vt=Util.transform(vt,[1,0,0,1,kt[0],kt[1]]),_t.transform(...ht.baseTransform),this.matrix&&_t.transform(...this.matrix),applyBoundingBox(_t,this._bbox),_t.fillStyle=this._createGradient(_t),_t.fill(),St=$.createPattern(wt.canvas,"no-repeat");const Pt=new DOMMatrix(vt);St.setTransform(Pt)}else applyBoundingBox($,this._bbox),St=this._createGradient($);return St}}function drawTriangle(xt,$,ht,vt,At,St,kt,Et){const Rt=$.coords,wt=$.colors,_t=xt.data,Pt=xt.width*4;let _e;Rt[ht+1]>Rt[vt+1]&&(_e=ht,ht=vt,vt=_e,_e=St,St=kt,kt=_e),Rt[vt+1]>Rt[At+1]&&(_e=vt,vt=At,At=_e,_e=kt,kt=Et,Et=_e),Rt[ht+1]>Rt[vt+1]&&(_e=ht,ht=vt,vt=_e,_e=St,St=kt,kt=_e);const bt=(Rt[ht]+$.offsetX)*$.scaleX,Ft=(Rt[ht+1]+$.offsetY)*$.scaleY,Xt=(Rt[vt]+$.offsetX)*$.scaleX,Kt=(Rt[vt+1]+$.offsetY)*$.scaleY,Nt=(Rt[At]+$.offsetX)*$.scaleX,$t=(Rt[At+1]+$.offsetY)*$.scaleY;if(Ft>=$t)return;const Dt=wt[St],jt=wt[St+1],Ct=wt[St+2],qt=wt[kt],Bt=wt[kt+1],Gt=wt[kt+2],en=wt[Et],dn=wt[Et+1],Qt=wt[Et+2],gn=Math.round(Ft),nn=Math.round($t);let bn,Vt,Yt,hn,Ut,Ot,zt,an;for(let Ht=gn;Ht<=nn;Ht++){if(Ht<Kt){const cn=Ht<Ft?0:(Ft-Ht)/(Ft-Kt);bn=bt-(bt-Xt)*cn,Vt=Dt-(Dt-qt)*cn,Yt=jt-(jt-Bt)*cn,hn=Ct-(Ct-Gt)*cn}else{let cn;Ht>$t?cn=1:Kt===$t?cn=0:cn=(Kt-Ht)/(Kt-$t),bn=Xt-(Xt-Nt)*cn,Vt=qt-(qt-en)*cn,Yt=Bt-(Bt-dn)*cn,hn=Gt-(Gt-Qt)*cn}let Wt;Ht<Ft?Wt=0:Ht>$t?Wt=1:Wt=(Ft-Ht)/(Ft-$t),Ut=bt-(bt-Nt)*Wt,Ot=Dt-(Dt-en)*Wt,zt=jt-(jt-dn)*Wt,an=Ct-(Ct-Qt)*Wt;const tn=Math.round(Math.min(bn,Ut)),ln=Math.round(Math.max(bn,Ut));let on=Pt*Ht+tn*4;for(let cn=tn;cn<=ln;cn++)Wt=(bn-cn)/(bn-Ut),Wt<0?Wt=0:Wt>1&&(Wt=1),_t[on++]=Vt-(Vt-Ot)*Wt|0,_t[on++]=Yt-(Yt-zt)*Wt|0,_t[on++]=hn-(hn-an)*Wt|0,_t[on++]=255}}function drawFigure(xt,$,ht){const vt=$.coords,At=$.colors;let St,kt;switch($.type){case"lattice":const Et=$.verticesPerRow,Rt=Math.floor(vt.length/Et)-1,wt=Et-1;for(St=0;St<Rt;St++){let _t=St*Et;for(let Pt=0;Pt<wt;Pt++,_t++)drawTriangle(xt,ht,vt[_t],vt[_t+1],vt[_t+Et],At[_t],At[_t+1],At[_t+Et]),drawTriangle(xt,ht,vt[_t+Et+1],vt[_t+1],vt[_t+Et],At[_t+Et+1],At[_t+1],At[_t+Et])}break;case"triangles":for(St=0,kt=vt.length;St<kt;St+=3)drawTriangle(xt,ht,vt[St],vt[St+1],vt[St+2],At[St],At[St+1],At[St+2]);break;default:throw new Error("illegal figure")}}class MeshShadingPattern extends BaseShadingPattern{constructor($){super(),this._coords=$[2],this._colors=$[3],this._figures=$[4],this._bounds=$[5],this._bbox=$[7],this._background=$[8],this.matrix=null}_createMeshCanvas($,ht,vt){const Et=Math.floor(this._bounds[0]),Rt=Math.floor(this._bounds[1]),wt=Math.ceil(this._bounds[2])-Et,_t=Math.ceil(this._bounds[3])-Rt,Pt=Math.min(Math.ceil(Math.abs(wt*$[0]*1.1)),3e3),_e=Math.min(Math.ceil(Math.abs(_t*$[1]*1.1)),3e3),bt=wt/Pt,Ft=_t/_e,Xt={coords:this._coords,colors:this._colors,offsetX:-Et,offsetY:-Rt,scaleX:1/bt,scaleY:1/Ft},Kt=Pt+2*2,Nt=_e+2*2,$t=vt.getCanvas("mesh",Kt,Nt,!1),Dt=$t.context,jt=Dt.createImageData(Pt,_e);if(ht){const qt=jt.data;for(let Bt=0,Gt=qt.length;Bt<Gt;Bt+=4)qt[Bt]=ht[0],qt[Bt+1]=ht[1],qt[Bt+2]=ht[2],qt[Bt+3]=255}for(const qt of this._figures)drawFigure(jt,qt,Xt);return Dt.putImageData(jt,2,2),{canvas:$t.canvas,offsetX:Et-2*bt,offsetY:Rt-2*Ft,scaleX:bt,scaleY:Ft}}getPattern($,ht,vt,At){applyBoundingBox($,this._bbox);let St;if(At===PathType.SHADING)St=Util.singularValueDecompose2dScale(getCurrentTransform($));else if(St=Util.singularValueDecompose2dScale(ht.baseTransform),this.matrix){const Et=Util.singularValueDecompose2dScale(this.matrix);St=[St[0]*Et[0],St[1]*Et[1]]}const kt=this._createMeshCanvas(St,At===PathType.SHADING?null:this._background,ht.cachedCanvases);return At!==PathType.SHADING&&($.setTransform(...ht.baseTransform),this.matrix&&$.transform(...this.matrix)),$.translate(kt.offsetX,kt.offsetY),$.scale(kt.scaleX,kt.scaleY),$.createPattern(kt.canvas,"no-repeat")}}class DummyShadingPattern extends BaseShadingPattern{getPattern(){return"hotpink"}}function getShadingPattern(xt){switch(xt[0]){case"RadialAxial":return new RadialAxialShadingPattern(xt);case"Mesh":return new MeshShadingPattern(xt);case"Dummy":return new DummyShadingPattern}throw new Error(`Unknown IR type: ${xt[0]}`)}const PaintType={COLORED:1,UNCOLORED:2},J2=class J2{constructor($,ht,vt,At,St){this.operatorList=$[2],this.matrix=$[3],this.bbox=$[4],this.xstep=$[5],this.ystep=$[6],this.paintType=$[7],this.tilingType=$[8],this.color=ht,this.ctx=vt,this.canvasGraphicsFactory=At,this.baseTransform=St}createPatternCanvas($){const ht=this.operatorList,vt=this.bbox,At=this.xstep,St=this.ystep,kt=this.paintType,Et=this.tilingType,Rt=this.color,wt=this.canvasGraphicsFactory;info("TilingType: "+Et);const _t=vt[0],Pt=vt[1],_e=vt[2],bt=vt[3],Ft=Util.singularValueDecompose2dScale(this.matrix),Xt=Util.singularValueDecompose2dScale(this.baseTransform),Kt=[Ft[0]*Xt[0],Ft[1]*Xt[1]],Nt=this.getSizeAndScale(At,this.ctx.canvas.width,Kt[0]),$t=this.getSizeAndScale(St,this.ctx.canvas.height,Kt[1]),Dt=$.cachedCanvases.getCanvas("pattern",Nt.size,$t.size,!0),jt=Dt.context,Ct=wt.createCanvasGraphics(jt);Ct.groupLevel=$.groupLevel,this.setFillAndStrokeStyleToContext(Ct,kt,Rt);let qt=_t,Bt=Pt,Gt=_e,en=bt;return _t<0&&(qt=0,Gt+=Math.abs(_t)),Pt<0&&(Bt=0,en+=Math.abs(Pt)),jt.translate(-(Nt.scale*qt),-($t.scale*Bt)),Ct.transform(Nt.scale,0,0,$t.scale,0,0),jt.save(),this.clipBbox(Ct,qt,Bt,Gt,en),Ct.baseTransform=getCurrentTransform(Ct.ctx),Ct.executeOperatorList(ht),Ct.endDrawing(),{canvas:Dt.canvas,scaleX:Nt.scale,scaleY:$t.scale,offsetX:qt,offsetY:Bt}}getSizeAndScale($,ht,vt){$=Math.abs($);const At=Math.max(J2.MAX_PATTERN_SIZE,ht);let St=Math.ceil($*vt);return St>=At?St=At:vt=St/$,{scale:vt,size:St}}clipBbox($,ht,vt,At,St){const kt=At-ht,Et=St-vt;$.ctx.rect(ht,vt,kt,Et),$.current.updateRectMinMax(getCurrentTransform($.ctx),[ht,vt,At,St]),$.clip(),$.endPath()}setFillAndStrokeStyleToContext($,ht,vt){const At=$.ctx,St=$.current;switch(ht){case PaintType.COLORED:const kt=this.ctx;At.fillStyle=kt.fillStyle,At.strokeStyle=kt.strokeStyle,St.fillColor=kt.fillStyle,St.strokeColor=kt.strokeStyle;break;case PaintType.UNCOLORED:const Et=Util.makeHexColor(vt[0],vt[1],vt[2]);At.fillStyle=Et,At.strokeStyle=Et,St.fillColor=Et,St.strokeColor=Et;break;default:throw new FormatError(`Unsupported paint type: ${ht}`)}}getPattern($,ht,vt,At){let St=vt;At!==PathType.SHADING&&(St=Util.transform(St,ht.baseTransform),this.matrix&&(St=Util.transform(St,this.matrix)));const kt=this.createPatternCanvas(ht);let Et=new DOMMatrix(St);Et=Et.translate(kt.offsetX,kt.offsetY),Et=Et.scale(1/kt.scaleX,1/kt.scaleY);const Rt=$.createPattern(kt.canvas,"repeat");return Rt.setTransform(Et),Rt}};Ur(J2,"MAX_PATTERN_SIZE",3e3);let TilingPattern=J2;function convertBlackAndWhiteToRGBA({src:xt,srcPos:$=0,dest:ht,width:vt,height:At,nonBlackColor:St=4294967295,inverseDecode:kt=!1}){const Et=util_FeatureTest.isLittleEndian?4278190080:255,[Rt,wt]=kt?[St,Et]:[Et,St],_t=vt>>3,Pt=vt&7,_e=xt.length;ht=new Uint32Array(ht.buffer);let bt=0;for(let Ft=0;Ft<At;Ft++){for(const Kt=$+_t;$<Kt;$++){const Nt=$<_e?xt[$]:255;ht[bt++]=Nt&128?wt:Rt,ht[bt++]=Nt&64?wt:Rt,ht[bt++]=Nt&32?wt:Rt,ht[bt++]=Nt&16?wt:Rt,ht[bt++]=Nt&8?wt:Rt,ht[bt++]=Nt&4?wt:Rt,ht[bt++]=Nt&2?wt:Rt,ht[bt++]=Nt&1?wt:Rt}if(Pt===0)continue;const Xt=$<_e?xt[$++]:255;for(let Kt=0;Kt<Pt;Kt++)ht[bt++]=Xt&1<<7-Kt?wt:Rt}return{srcPos:$,destPos:bt}}const MIN_FONT_SIZE=16,MAX_FONT_SIZE=100,EXECUTION_TIME=15,EXECUTION_STEPS=10,MAX_SIZE_TO_COMPILE=1e3,FULL_CHUNK_HEIGHT=16;function mirrorContextOperations(xt,$){if(xt._removeMirroring)throw new Error("Context is already forwarding operations.");xt.__originalSave=xt.save,xt.__originalRestore=xt.restore,xt.__originalRotate=xt.rotate,xt.__originalScale=xt.scale,xt.__originalTranslate=xt.translate,xt.__originalTransform=xt.transform,xt.__originalSetTransform=xt.setTransform,xt.__originalResetTransform=xt.resetTransform,xt.__originalClip=xt.clip,xt.__originalMoveTo=xt.moveTo,xt.__originalLineTo=xt.lineTo,xt.__originalBezierCurveTo=xt.bezierCurveTo,xt.__originalRect=xt.rect,xt.__originalClosePath=xt.closePath,xt.__originalBeginPath=xt.beginPath,xt._removeMirroring=()=>{xt.save=xt.__originalSave,xt.restore=xt.__originalRestore,xt.rotate=xt.__originalRotate,xt.scale=xt.__originalScale,xt.translate=xt.__originalTranslate,xt.transform=xt.__originalTransform,xt.setTransform=xt.__originalSetTransform,xt.resetTransform=xt.__originalResetTransform,xt.clip=xt.__originalClip,xt.moveTo=xt.__originalMoveTo,xt.lineTo=xt.__originalLineTo,xt.bezierCurveTo=xt.__originalBezierCurveTo,xt.rect=xt.__originalRect,xt.closePath=xt.__originalClosePath,xt.beginPath=xt.__originalBeginPath,delete xt._removeMirroring},xt.save=function(){$.save(),this.__originalSave()},xt.restore=function(){$.restore(),this.__originalRestore()},xt.translate=function(vt,At){$.translate(vt,At),this.__originalTranslate(vt,At)},xt.scale=function(vt,At){$.scale(vt,At),this.__originalScale(vt,At)},xt.transform=function(vt,At,St,kt,Et,Rt){$.transform(vt,At,St,kt,Et,Rt),this.__originalTransform(vt,At,St,kt,Et,Rt)},xt.setTransform=function(vt,At,St,kt,Et,Rt){$.setTransform(vt,At,St,kt,Et,Rt),this.__originalSetTransform(vt,At,St,kt,Et,Rt)},xt.resetTransform=function(){$.resetTransform(),this.__originalResetTransform()},xt.rotate=function(vt){$.rotate(vt),this.__originalRotate(vt)},xt.clip=function(vt){$.clip(vt),this.__originalClip(vt)},xt.moveTo=function(ht,vt){$.moveTo(ht,vt),this.__originalMoveTo(ht,vt)},xt.lineTo=function(ht,vt){$.lineTo(ht,vt),this.__originalLineTo(ht,vt)},xt.bezierCurveTo=function(ht,vt,At,St,kt,Et){$.bezierCurveTo(ht,vt,At,St,kt,Et),this.__originalBezierCurveTo(ht,vt,At,St,kt,Et)},xt.rect=function(ht,vt,At,St){$.rect(ht,vt,At,St),this.__originalRect(ht,vt,At,St)},xt.closePath=function(){$.closePath(),this.__originalClosePath()},xt.beginPath=function(){$.beginPath(),this.__originalBeginPath()}}class CachedCanvases{constructor($){this.canvasFactory=$,this.cache=Object.create(null)}getCanvas($,ht,vt){let At;return this.cache[$]!==void 0?(At=this.cache[$],this.canvasFactory.reset(At,ht,vt)):(At=this.canvasFactory.create(ht,vt),this.cache[$]=At),At}delete($){delete this.cache[$]}clear(){for(const $ in this.cache){const ht=this.cache[$];this.canvasFactory.destroy(ht),delete this.cache[$]}}}function drawImageAtIntegerCoords(xt,$,ht,vt,At,St,kt,Et,Rt,wt){const[_t,Pt,_e,bt,Ft,Xt]=getCurrentTransform(xt);if(Pt===0&&_e===0){const $t=kt*_t+Ft,Dt=Math.round($t),jt=Et*bt+Xt,Ct=Math.round(jt),qt=(kt+Rt)*_t+Ft,Bt=Math.abs(Math.round(qt)-Dt)||1,Gt=(Et+wt)*bt+Xt,en=Math.abs(Math.round(Gt)-Ct)||1;return xt.setTransform(Math.sign(_t),0,0,Math.sign(bt),Dt,Ct),xt.drawImage($,ht,vt,At,St,0,0,Bt,en),xt.setTransform(_t,Pt,_e,bt,Ft,Xt),[Bt,en]}if(_t===0&&bt===0){const $t=Et*_e+Ft,Dt=Math.round($t),jt=kt*Pt+Xt,Ct=Math.round(jt),qt=(Et+wt)*_e+Ft,Bt=Math.abs(Math.round(qt)-Dt)||1,Gt=(kt+Rt)*Pt+Xt,en=Math.abs(Math.round(Gt)-Ct)||1;return xt.setTransform(0,Math.sign(Pt),Math.sign(_e),0,Dt,Ct),xt.drawImage($,ht,vt,At,St,0,0,en,Bt),xt.setTransform(_t,Pt,_e,bt,Ft,Xt),[en,Bt]}xt.drawImage($,ht,vt,At,St,kt,Et,Rt,wt);const Kt=Math.hypot(_t,Pt),Nt=Math.hypot(_e,bt);return[Kt*Rt,Nt*wt]}function compileType3Glyph(xt){const{width:$,height:ht}=xt;if($>MAX_SIZE_TO_COMPILE||ht>MAX_SIZE_TO_COMPILE)return null;const vt=1e3,At=new Uint8Array([0,2,4,0,1,0,5,4,8,10,0,8,0,2,1,0]),St=$+1;let kt=new Uint8Array(St*(ht+1)),Et,Rt,wt;const _t=$+7&-8;let Pt=new Uint8Array(_t*ht),_e=0;for(const Nt of xt.data){let $t=128;for(;$t>0;)Pt[_e++]=Nt&$t?0:255,$t>>=1}let bt=0;for(_e=0,Pt[_e]!==0&&(kt[0]=1,++bt),Rt=1;Rt<$;Rt++)Pt[_e]!==Pt[_e+1]&&(kt[Rt]=Pt[_e]?2:1,++bt),_e++;for(Pt[_e]!==0&&(kt[Rt]=2,++bt),Et=1;Et<ht;Et++){_e=Et*_t,wt=Et*St,Pt[_e-_t]!==Pt[_e]&&(kt[wt]=Pt[_e]?1:8,++bt);let Nt=(Pt[_e]?4:0)+(Pt[_e-_t]?8:0);for(Rt=1;Rt<$;Rt++)Nt=(Nt>>2)+(Pt[_e+1]?4:0)+(Pt[_e-_t+1]?8:0),At[Nt]&&(kt[wt+Rt]=At[Nt],++bt),_e++;if(Pt[_e-_t]!==Pt[_e]&&(kt[wt+Rt]=Pt[_e]?2:4,++bt),bt>vt)return null}for(_e=_t*(ht-1),wt=Et*St,Pt[_e]!==0&&(kt[wt]=8,++bt),Rt=1;Rt<$;Rt++)Pt[_e]!==Pt[_e+1]&&(kt[wt+Rt]=Pt[_e]?4:8,++bt),_e++;if(Pt[_e]!==0&&(kt[wt+Rt]=4,++bt),bt>vt)return null;const Ft=new Int32Array([0,St,-1,0,-St,0,0,0,1]),Xt=new Path2D;for(Et=0;bt&&Et<=ht;Et++){let Nt=Et*St;const $t=Nt+$;for(;Nt<$t&&!kt[Nt];)Nt++;if(Nt===$t)continue;Xt.moveTo(Nt%St,Et);const Dt=Nt;let jt=kt[Nt];do{const Ct=Ft[jt];do Nt+=Ct;while(!kt[Nt]);const qt=kt[Nt];qt!==5&&qt!==10?(jt=qt,kt[Nt]=0):(jt=qt&51*jt>>4,kt[Nt]&=jt>>2|jt<<2),Xt.lineTo(Nt%St,Nt/St|0),kt[Nt]||--bt}while(Dt!==Nt);--Et}return Pt=null,kt=null,function(Nt){Nt.save(),Nt.scale(1/$,-1/ht),Nt.translate(0,-ht),Nt.fill(Xt),Nt.beginPath(),Nt.restore()}}class CanvasExtraState{constructor($,ht){this.alphaIsShape=!1,this.fontSize=0,this.fontSizeScale=1,this.textMatrix=IDENTITY_MATRIX,this.textMatrixScale=1,this.fontMatrix=FONT_IDENTITY_MATRIX,this.leading=0,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRenderingMode=TextRenderingMode.FILL,this.textRise=0,this.fillColor="#000000",this.strokeColor="#000000",this.patternFill=!1,this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.activeSMask=null,this.transferMaps="none",this.startNewPathAndClipBox([0,0,$,ht])}clone(){const $=Object.create(this);return $.clipBox=this.clipBox.slice(),$}setCurrentPoint($,ht){this.x=$,this.y=ht}updatePathMinMax($,ht,vt){[ht,vt]=Util.applyTransform([ht,vt],$),this.minX=Math.min(this.minX,ht),this.minY=Math.min(this.minY,vt),this.maxX=Math.max(this.maxX,ht),this.maxY=Math.max(this.maxY,vt)}updateRectMinMax($,ht){const vt=Util.applyTransform(ht,$),At=Util.applyTransform(ht.slice(2),$),St=Util.applyTransform([ht[0],ht[3]],$),kt=Util.applyTransform([ht[2],ht[1]],$);this.minX=Math.min(this.minX,vt[0],At[0],St[0],kt[0]),this.minY=Math.min(this.minY,vt[1],At[1],St[1],kt[1]),this.maxX=Math.max(this.maxX,vt[0],At[0],St[0],kt[0]),this.maxY=Math.max(this.maxY,vt[1],At[1],St[1],kt[1])}updateScalingPathMinMax($,ht){Util.scaleMinMax($,ht),this.minX=Math.min(this.minX,ht[0]),this.minY=Math.min(this.minY,ht[1]),this.maxX=Math.max(this.maxX,ht[2]),this.maxY=Math.max(this.maxY,ht[3])}updateCurvePathMinMax($,ht,vt,At,St,kt,Et,Rt,wt,_t){const Pt=Util.bezierBoundingBox(ht,vt,At,St,kt,Et,Rt,wt,_t);_t||this.updateRectMinMax($,Pt)}getPathBoundingBox($=PathType.FILL,ht=null){const vt=[this.minX,this.minY,this.maxX,this.maxY];if($===PathType.STROKE){ht||unreachable("Stroke bounding box must include transform.");const At=Util.singularValueDecompose2dScale(ht),St=At[0]*this.lineWidth/2,kt=At[1]*this.lineWidth/2;vt[0]-=St,vt[1]-=kt,vt[2]+=St,vt[3]+=kt}return vt}updateClipFromPath(){const $=Util.intersect(this.clipBox,this.getPathBoundingBox());this.startNewPathAndClipBox($||[0,0,0,0])}isEmptyClip(){return this.minX===1/0}startNewPathAndClipBox($){this.clipBox=$,this.minX=1/0,this.minY=1/0,this.maxX=0,this.maxY=0}getClippedPathBoundingBox($=PathType.FILL,ht=null){return Util.intersect(this.clipBox,this.getPathBoundingBox($,ht))}}function putBinaryImageData(xt,$){if(typeof ImageData<"u"&&$ instanceof ImageData){xt.putImageData($,0,0);return}const ht=$.height,vt=$.width,At=ht%FULL_CHUNK_HEIGHT,St=(ht-At)/FULL_CHUNK_HEIGHT,kt=At===0?St:St+1,Et=xt.createImageData(vt,FULL_CHUNK_HEIGHT);let Rt=0,wt;const _t=$.data,Pt=Et.data;let _e,bt,Ft,Xt;if($.kind===util_ImageKind.GRAYSCALE_1BPP){const Kt=_t.byteLength,Nt=new Uint32Array(Pt.buffer,0,Pt.byteLength>>2),$t=Nt.length,Dt=vt+7>>3,jt=4294967295,Ct=util_FeatureTest.isLittleEndian?4278190080:255;for(_e=0;_e<kt;_e++){for(Ft=_e<St?FULL_CHUNK_HEIGHT:At,wt=0,bt=0;bt<Ft;bt++){const qt=Kt-Rt;let Bt=0;const Gt=qt>Dt?vt:qt*8-7,en=Gt&-8;let dn=0,Qt=0;for(;Bt<en;Bt+=8)Qt=_t[Rt++],Nt[wt++]=Qt&128?jt:Ct,Nt[wt++]=Qt&64?jt:Ct,Nt[wt++]=Qt&32?jt:Ct,Nt[wt++]=Qt&16?jt:Ct,Nt[wt++]=Qt&8?jt:Ct,Nt[wt++]=Qt&4?jt:Ct,Nt[wt++]=Qt&2?jt:Ct,Nt[wt++]=Qt&1?jt:Ct;for(;Bt<Gt;Bt++)dn===0&&(Qt=_t[Rt++],dn=128),Nt[wt++]=Qt&dn?jt:Ct,dn>>=1}for(;wt<$t;)Nt[wt++]=0;xt.putImageData(Et,0,_e*FULL_CHUNK_HEIGHT)}}else if($.kind===util_ImageKind.RGBA_32BPP){for(bt=0,Xt=vt*FULL_CHUNK_HEIGHT*4,_e=0;_e<St;_e++)Pt.set(_t.subarray(Rt,Rt+Xt)),Rt+=Xt,xt.putImageData(Et,0,bt),bt+=FULL_CHUNK_HEIGHT;_e<kt&&(Xt=vt*At*4,Pt.set(_t.subarray(Rt,Rt+Xt)),xt.putImageData(Et,0,bt))}else if($.kind===util_ImageKind.RGB_24BPP)for(Ft=FULL_CHUNK_HEIGHT,Xt=vt*Ft,_e=0;_e<kt;_e++){for(_e>=St&&(Ft=At,Xt=vt*Ft),wt=0,bt=Xt;bt--;)Pt[wt++]=_t[Rt++],Pt[wt++]=_t[Rt++],Pt[wt++]=_t[Rt++],Pt[wt++]=255;xt.putImageData(Et,0,_e*FULL_CHUNK_HEIGHT)}else throw new Error(`bad image kind: ${$.kind}`)}function putBinaryImageMask(xt,$){if($.bitmap){xt.drawImage($.bitmap,0,0);return}const ht=$.height,vt=$.width,At=ht%FULL_CHUNK_HEIGHT,St=(ht-At)/FULL_CHUNK_HEIGHT,kt=At===0?St:St+1,Et=xt.createImageData(vt,FULL_CHUNK_HEIGHT);let Rt=0;const wt=$.data,_t=Et.data;for(let Pt=0;Pt<kt;Pt++){const _e=Pt<St?FULL_CHUNK_HEIGHT:At;({srcPos:Rt}=convertBlackAndWhiteToRGBA({src:wt,srcPos:Rt,dest:_t,width:vt,height:_e,nonBlackColor:0})),xt.putImageData(Et,0,Pt*FULL_CHUNK_HEIGHT)}}function copyCtxState(xt,$){const ht=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font","filter"];for(const vt of ht)xt[vt]!==void 0&&($[vt]=xt[vt]);xt.setLineDash!==void 0&&($.setLineDash(xt.getLineDash()),$.lineDashOffset=xt.lineDashOffset)}function resetCtxToDefault(xt){if(xt.strokeStyle=xt.fillStyle="#000000",xt.fillRule="nonzero",xt.globalAlpha=1,xt.lineWidth=1,xt.lineCap="butt",xt.lineJoin="miter",xt.miterLimit=10,xt.globalCompositeOperation="source-over",xt.font="10px sans-serif",xt.setLineDash!==void 0&&(xt.setLineDash([]),xt.lineDashOffset=0),!isNodeJS){const{filter:$}=xt;$!=="none"&&$!==""&&(xt.filter="none")}}function getImageSmoothingEnabled(xt,$){if($)return!0;const ht=Util.singularValueDecompose2dScale(xt);ht[0]=Math.fround(ht[0]),ht[1]=Math.fround(ht[1]);const vt=Math.fround((globalThis.devicePixelRatio||1)*PixelsPerInch.PDF_TO_CSS_UNITS);return ht[0]<=vt&&ht[1]<=vt}const LINE_CAP_STYLES=["butt","round","square"],LINE_JOIN_STYLES=["miter","round","bevel"],NORMAL_CLIP={},EO_CLIP={};var yu,O9,D9;const ty=class ty{constructor($,ht,vt,At,St,{optionalContentConfig:kt,markedContentStack:Et=null},Rt,wt){Nn(this,yu);this.ctx=$,this.current=new CanvasExtraState(this.ctx.canvas.width,this.ctx.canvas.height),this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=ht,this.objs=vt,this.canvasFactory=At,this.filterFactory=St,this.groupStack=[],this.processingType3=null,this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.suspendedCtx=null,this.contentVisible=!0,this.markedContentStack=Et||[],this.optionalContentConfig=kt,this.cachedCanvases=new CachedCanvases(this.canvasFactory),this.cachedPatterns=new Map,this.annotationCanvasMap=Rt,this.viewportScale=1,this.outputScaleX=1,this.outputScaleY=1,this.pageColors=wt,this._cachedScaleForStroking=[-1,0],this._cachedGetSinglePixelWidth=null,this._cachedBitmapsMap=new Map}getObject($,ht=null){return typeof $=="string"?$.startsWith("g_")?this.commonObjs.get($):this.objs.get($):ht}beginDrawing({transform:$,viewport:ht,transparency:vt=!1,background:At=null}){const St=this.ctx.canvas.width,kt=this.ctx.canvas.height,Et=this.ctx.fillStyle;if(this.ctx.fillStyle=At||"#ffffff",this.ctx.fillRect(0,0,St,kt),this.ctx.fillStyle=Et,vt){const Rt=this.cachedCanvases.getCanvas("transparent",St,kt);this.compositeCtx=this.ctx,this.transparentCanvas=Rt.canvas,this.ctx=Rt.context,this.ctx.save(),this.ctx.transform(...getCurrentTransform(this.compositeCtx))}this.ctx.save(),resetCtxToDefault(this.ctx),$&&(this.ctx.transform(...$),this.outputScaleX=$[0],this.outputScaleY=$[0]),this.ctx.transform(...ht.transform),this.viewportScale=ht.scale,this.baseTransform=getCurrentTransform(this.ctx)}executeOperatorList($,ht,vt,At){const St=$.argsArray,kt=$.fnArray;let Et=ht||0;const Rt=St.length;if(Rt===Et)return Et;const wt=Rt-Et>EXECUTION_STEPS&&typeof vt=="function",_t=wt?Date.now()+EXECUTION_TIME:0;let Pt=0;const _e=this.commonObjs,bt=this.objs;let Ft;for(;;){if(At!==void 0&&Et===At.nextBreakPoint)return At.breakIt(Et,vt),Et;if(Ft=kt[Et],Ft!==OPS.dependency)this[Ft].apply(this,St[Et]);else for(const Xt of St[Et]){const Kt=Xt.startsWith("g_")?_e:bt;if(!Kt.has(Xt))return Kt.get(Xt,vt),Et}if(Et++,Et===Rt)return Et;if(wt&&++Pt>EXECUTION_STEPS){if(Date.now()>_t)return vt(),Et;Pt=0}}}endDrawing(){On(this,yu,O9).call(this),this.cachedCanvases.clear(),this.cachedPatterns.clear();for(const $ of this._cachedBitmapsMap.values()){for(const ht of $.values())typeof HTMLCanvasElement<"u"&&ht instanceof HTMLCanvasElement&&(ht.width=ht.height=0);$.clear()}this._cachedBitmapsMap.clear(),On(this,yu,D9).call(this)}_scaleImage($,ht){const vt=$.width,At=$.height;let St=Math.max(Math.hypot(ht[0],ht[1]),1),kt=Math.max(Math.hypot(ht[2],ht[3]),1),Et=vt,Rt=At,wt="prescale1",_t,Pt;for(;St>2&&Et>1||kt>2&&Rt>1;){let _e=Et,bt=Rt;St>2&&Et>1&&(_e=Et>=16384?Math.floor(Et/2)-1||1:Math.ceil(Et/2),St/=Et/_e),kt>2&&Rt>1&&(bt=Rt>=16384?Math.floor(Rt/2)-1||1:Math.ceil(Rt)/2,kt/=Rt/bt),_t=this.cachedCanvases.getCanvas(wt,_e,bt),Pt=_t.context,Pt.clearRect(0,0,_e,bt),Pt.drawImage($,0,0,Et,Rt,0,0,_e,bt),$=_t.canvas,Et=_e,Rt=bt,wt=wt==="prescale1"?"prescale2":"prescale1"}return{img:$,paintWidth:Et,paintHeight:Rt}}_createMaskCanvas($){const ht=this.ctx,{width:vt,height:At}=$,St=this.current.fillColor,kt=this.current.patternFill,Et=getCurrentTransform(ht);let Rt,wt,_t,Pt;if(($.bitmap||$.data)&&$.count>1){const Gt=$.bitmap||$.data.buffer;wt=JSON.stringify(kt?Et:[Et.slice(0,4),St]),Rt=this._cachedBitmapsMap.get(Gt),Rt||(Rt=new Map,this._cachedBitmapsMap.set(Gt,Rt));const en=Rt.get(wt);if(en&&!kt){const dn=Math.round(Math.min(Et[0],Et[2])+Et[4]),Qt=Math.round(Math.min(Et[1],Et[3])+Et[5]);return{canvas:en,offsetX:dn,offsetY:Qt}}_t=en}_t||(Pt=this.cachedCanvases.getCanvas("maskCanvas",vt,At),putBinaryImageMask(Pt.context,$));let _e=Util.transform(Et,[1/vt,0,0,-1/At,0,0]);_e=Util.transform(_e,[1,0,0,1,0,-At]);const[bt,Ft,Xt,Kt]=Util.getAxialAlignedBoundingBox([0,0,vt,At],_e),Nt=Math.round(Xt-bt)||1,$t=Math.round(Kt-Ft)||1,Dt=this.cachedCanvases.getCanvas("fillCanvas",Nt,$t),jt=Dt.context,Ct=bt,qt=Ft;jt.translate(-Ct,-qt),jt.transform(..._e),_t||(_t=this._scaleImage(Pt.canvas,getCurrentTransformInverse(jt)),_t=_t.img,Rt&&kt&&Rt.set(wt,_t)),jt.imageSmoothingEnabled=getImageSmoothingEnabled(getCurrentTransform(jt),$.interpolate),drawImageAtIntegerCoords(jt,_t,0,0,_t.width,_t.height,0,0,vt,At),jt.globalCompositeOperation="source-in";const Bt=Util.transform(getCurrentTransformInverse(jt),[1,0,0,1,-Ct,-qt]);return jt.fillStyle=kt?St.getPattern(ht,this,Bt,PathType.FILL):St,jt.fillRect(0,0,vt,At),Rt&&!kt&&(this.cachedCanvases.delete("fillCanvas"),Rt.set(wt,Dt.canvas)),{canvas:Dt.canvas,offsetX:Math.round(Ct),offsetY:Math.round(qt)}}setLineWidth($){$!==this.current.lineWidth&&(this._cachedScaleForStroking[0]=-1),this.current.lineWidth=$,this.ctx.lineWidth=$}setLineCap($){this.ctx.lineCap=LINE_CAP_STYLES[$]}setLineJoin($){this.ctx.lineJoin=LINE_JOIN_STYLES[$]}setMiterLimit($){this.ctx.miterLimit=$}setDash($,ht){const vt=this.ctx;vt.setLineDash!==void 0&&(vt.setLineDash($),vt.lineDashOffset=ht)}setRenderingIntent($){}setFlatness($){}setGState($){for(const[ht,vt]of $)switch(ht){case"LW":this.setLineWidth(vt);break;case"LC":this.setLineCap(vt);break;case"LJ":this.setLineJoin(vt);break;case"ML":this.setMiterLimit(vt);break;case"D":this.setDash(vt[0],vt[1]);break;case"RI":this.setRenderingIntent(vt);break;case"FL":this.setFlatness(vt);break;case"Font":this.setFont(vt[0],vt[1]);break;case"CA":this.current.strokeAlpha=vt;break;case"ca":this.current.fillAlpha=vt,this.ctx.globalAlpha=vt;break;case"BM":this.ctx.globalCompositeOperation=vt;break;case"SMask":this.current.activeSMask=vt?this.tempSMask:null,this.tempSMask=null,this.checkSMaskState();break;case"TR":this.ctx.filter=this.current.transferMaps=this.filterFactory.addFilter(vt);break}}get inSMaskMode(){return!!this.suspendedCtx}checkSMaskState(){const $=this.inSMaskMode;this.current.activeSMask&&!$?this.beginSMaskMode():!this.current.activeSMask&&$&&this.endSMaskMode()}beginSMaskMode(){if(this.inSMaskMode)throw new Error("beginSMaskMode called while already in smask mode");const $=this.ctx.canvas.width,ht=this.ctx.canvas.height,vt="smaskGroupAt"+this.groupLevel,At=this.cachedCanvases.getCanvas(vt,$,ht);this.suspendedCtx=this.ctx,this.ctx=At.context;const St=this.ctx;St.setTransform(...getCurrentTransform(this.suspendedCtx)),copyCtxState(this.suspendedCtx,St),mirrorContextOperations(St,this.suspendedCtx),this.setGState([["BM","source-over"],["ca",1],["CA",1]])}endSMaskMode(){if(!this.inSMaskMode)throw new Error("endSMaskMode called while not in smask mode");this.ctx._removeMirroring(),copyCtxState(this.ctx,this.suspendedCtx),this.ctx=this.suspendedCtx,this.suspendedCtx=null}compose($){if(!this.current.activeSMask)return;$?($[0]=Math.floor($[0]),$[1]=Math.floor($[1]),$[2]=Math.ceil($[2]),$[3]=Math.ceil($[3])):$=[0,0,this.ctx.canvas.width,this.ctx.canvas.height];const ht=this.current.activeSMask,vt=this.suspendedCtx;this.composeSMask(vt,ht,this.ctx,$),this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.restore()}composeSMask($,ht,vt,At){const St=At[0],kt=At[1],Et=At[2]-St,Rt=At[3]-kt;Et===0||Rt===0||(this.genericComposeSMask(ht.context,vt,Et,Rt,ht.subtype,ht.backdrop,ht.transferMap,St,kt,ht.offsetX,ht.offsetY),$.save(),$.globalAlpha=1,$.globalCompositeOperation="source-over",$.setTransform(1,0,0,1,0,0),$.drawImage(vt.canvas,0,0),$.restore())}genericComposeSMask($,ht,vt,At,St,kt,Et,Rt,wt,_t,Pt){let _e=$.canvas,bt=Rt-_t,Ft=wt-Pt;if(kt){if(bt<0||Ft<0||bt+vt>_e.width||Ft+At>_e.height){const Kt=this.cachedCanvases.getCanvas("maskExtension",vt,At),Nt=Kt.context;Nt.drawImage(_e,-bt,-Ft),kt.some($t=>$t!==0)&&(Nt.globalCompositeOperation="destination-atop",Nt.fillStyle=Util.makeHexColor(...kt),Nt.fillRect(0,0,vt,At),Nt.globalCompositeOperation="source-over"),_e=Kt.canvas,bt=Ft=0}else if(kt.some(Kt=>Kt!==0)){$.save(),$.globalAlpha=1,$.setTransform(1,0,0,1,0,0);const Kt=new Path2D;Kt.rect(bt,Ft,vt,At),$.clip(Kt),$.globalCompositeOperation="destination-atop",$.fillStyle=Util.makeHexColor(...kt),$.fillRect(bt,Ft,vt,At),$.restore()}}ht.save(),ht.globalAlpha=1,ht.setTransform(1,0,0,1,0,0),St==="Alpha"&&Et?ht.filter=this.filterFactory.addAlphaFilter(Et):St==="Luminosity"&&(ht.filter=this.filterFactory.addLuminosityFilter(Et));const Xt=new Path2D;Xt.rect(Rt,wt,vt,At),ht.clip(Xt),ht.globalCompositeOperation="destination-in",ht.drawImage(_e,bt,Ft,vt,At,Rt,wt,vt,At),ht.restore()}save(){this.inSMaskMode?(copyCtxState(this.ctx,this.suspendedCtx),this.suspendedCtx.save()):this.ctx.save();const $=this.current;this.stateStack.push($),this.current=$.clone()}restore(){this.stateStack.length===0&&this.inSMaskMode&&this.endSMaskMode(),this.stateStack.length!==0&&(this.current=this.stateStack.pop(),this.inSMaskMode?(this.suspendedCtx.restore(),copyCtxState(this.suspendedCtx,this.ctx)):this.ctx.restore(),this.checkSMaskState(),this.pendingClip=null,this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null)}transform($,ht,vt,At,St,kt){this.ctx.transform($,ht,vt,At,St,kt),this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}constructPath($,ht,vt){const At=this.ctx,St=this.current;let kt=St.x,Et=St.y,Rt,wt;const _t=getCurrentTransform(At),Pt=_t[0]===0&&_t[3]===0||_t[1]===0&&_t[2]===0,_e=Pt?vt.slice(0):null;for(let bt=0,Ft=0,Xt=$.length;bt<Xt;bt++)switch($[bt]|0){case OPS.rectangle:kt=ht[Ft++],Et=ht[Ft++];const Kt=ht[Ft++],Nt=ht[Ft++],$t=kt+Kt,Dt=Et+Nt;At.moveTo(kt,Et),Kt===0||Nt===0?At.lineTo($t,Dt):(At.lineTo($t,Et),At.lineTo($t,Dt),At.lineTo(kt,Dt)),Pt||St.updateRectMinMax(_t,[kt,Et,$t,Dt]),At.closePath();break;case OPS.moveTo:kt=ht[Ft++],Et=ht[Ft++],At.moveTo(kt,Et),Pt||St.updatePathMinMax(_t,kt,Et);break;case OPS.lineTo:kt=ht[Ft++],Et=ht[Ft++],At.lineTo(kt,Et),Pt||St.updatePathMinMax(_t,kt,Et);break;case OPS.curveTo:Rt=kt,wt=Et,kt=ht[Ft+4],Et=ht[Ft+5],At.bezierCurveTo(ht[Ft],ht[Ft+1],ht[Ft+2],ht[Ft+3],kt,Et),St.updateCurvePathMinMax(_t,Rt,wt,ht[Ft],ht[Ft+1],ht[Ft+2],ht[Ft+3],kt,Et,_e),Ft+=6;break;case OPS.curveTo2:Rt=kt,wt=Et,At.bezierCurveTo(kt,Et,ht[Ft],ht[Ft+1],ht[Ft+2],ht[Ft+3]),St.updateCurvePathMinMax(_t,Rt,wt,kt,Et,ht[Ft],ht[Ft+1],ht[Ft+2],ht[Ft+3],_e),kt=ht[Ft+2],Et=ht[Ft+3],Ft+=4;break;case OPS.curveTo3:Rt=kt,wt=Et,kt=ht[Ft+2],Et=ht[Ft+3],At.bezierCurveTo(ht[Ft],ht[Ft+1],kt,Et,kt,Et),St.updateCurvePathMinMax(_t,Rt,wt,ht[Ft],ht[Ft+1],kt,Et,kt,Et,_e),Ft+=4;break;case OPS.closePath:At.closePath();break}Pt&&St.updateScalingPathMinMax(_t,_e),St.setCurrentPoint(kt,Et)}closePath(){this.ctx.closePath()}stroke($=!0){const ht=this.ctx,vt=this.current.strokeColor;ht.globalAlpha=this.current.strokeAlpha,this.contentVisible&&(typeof vt=="object"&&(vt!=null&&vt.getPattern)?(ht.save(),ht.strokeStyle=vt.getPattern(ht,this,getCurrentTransformInverse(ht),PathType.STROKE),this.rescaleAndStroke(!1),ht.restore()):this.rescaleAndStroke(!0)),$&&this.consumePath(this.current.getClippedPathBoundingBox()),ht.globalAlpha=this.current.fillAlpha}closeStroke(){this.closePath(),this.stroke()}fill($=!0){const ht=this.ctx,vt=this.current.fillColor,At=this.current.patternFill;let St=!1;At&&(ht.save(),ht.fillStyle=vt.getPattern(ht,this,getCurrentTransformInverse(ht),PathType.FILL),St=!0);const kt=this.current.getClippedPathBoundingBox();this.contentVisible&&kt!==null&&(this.pendingEOFill?(ht.fill("evenodd"),this.pendingEOFill=!1):ht.fill()),St&&ht.restore(),$&&this.consumePath(kt)}eoFill(){this.pendingEOFill=!0,this.fill()}fillStroke(){this.fill(!1),this.stroke(!1),this.consumePath()}eoFillStroke(){this.pendingEOFill=!0,this.fillStroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.pendingEOFill=!0,this.closePath(),this.fillStroke()}endPath(){this.consumePath()}clip(){this.pendingClip=NORMAL_CLIP}eoClip(){this.pendingClip=EO_CLIP}beginText(){this.current.textMatrix=IDENTITY_MATRIX,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}endText(){const $=this.pendingTextPaths,ht=this.ctx;if($===void 0){ht.beginPath();return}ht.save(),ht.beginPath();for(const vt of $)ht.setTransform(...vt.transform),ht.translate(vt.x,vt.y),vt.addToPath(ht,vt.fontSize);ht.restore(),ht.clip(),ht.beginPath(),delete this.pendingTextPaths}setCharSpacing($){this.current.charSpacing=$}setWordSpacing($){this.current.wordSpacing=$}setHScale($){this.current.textHScale=$/100}setLeading($){this.current.leading=-$}setFont($,ht){var _t;const vt=this.commonObjs.get($),At=this.current;if(!vt)throw new Error(`Can't find font for ${$}`);if(At.fontMatrix=vt.fontMatrix||FONT_IDENTITY_MATRIX,(At.fontMatrix[0]===0||At.fontMatrix[3]===0)&&warn("Invalid font matrix for font "+$),ht<0?(ht=-ht,At.fontDirection=-1):At.fontDirection=1,this.current.font=vt,this.current.fontSize=ht,vt.isType3Font)return;const St=vt.loadedName||"sans-serif",kt=((_t=vt.systemFontInfo)==null?void 0:_t.css)||`"${St}", ${vt.fallbackName}`;let Et="normal";vt.black?Et="900":vt.bold&&(Et="bold");const Rt=vt.italic?"italic":"normal";let wt=ht;ht<MIN_FONT_SIZE?wt=MIN_FONT_SIZE:ht>MAX_FONT_SIZE&&(wt=MAX_FONT_SIZE),this.current.fontSizeScale=ht/wt,this.ctx.font=`${Rt} ${Et} ${wt}px ${kt}`}setTextRenderingMode($){this.current.textRenderingMode=$}setTextRise($){this.current.textRise=$}moveText($,ht){this.current.x=this.current.lineX+=$,this.current.y=this.current.lineY+=ht}setLeadingMoveText($,ht){this.setLeading(-ht),this.moveText($,ht)}setTextMatrix($,ht,vt,At,St,kt){this.current.textMatrix=[$,ht,vt,At,St,kt],this.current.textMatrixScale=Math.hypot($,ht),this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}nextLine(){this.moveText(0,this.current.leading)}paintChar($,ht,vt,At){const St=this.ctx,kt=this.current,Et=kt.font,Rt=kt.textRenderingMode,wt=kt.fontSize/kt.fontSizeScale,_t=Rt&TextRenderingMode.FILL_STROKE_MASK,Pt=!!(Rt&TextRenderingMode.ADD_TO_PATH_FLAG),_e=kt.patternFill&&!Et.missingFile;let bt;(Et.disableFontFace||Pt||_e)&&(bt=Et.getPathGenerator(this.commonObjs,$)),Et.disableFontFace||_e?(St.save(),St.translate(ht,vt),St.beginPath(),bt(St,wt),At&&St.setTransform(...At),(_t===TextRenderingMode.FILL||_t===TextRenderingMode.FILL_STROKE)&&St.fill(),(_t===TextRenderingMode.STROKE||_t===TextRenderingMode.FILL_STROKE)&&St.stroke(),St.restore()):((_t===TextRenderingMode.FILL||_t===TextRenderingMode.FILL_STROKE)&&St.fillText($,ht,vt),(_t===TextRenderingMode.STROKE||_t===TextRenderingMode.FILL_STROKE)&&St.strokeText($,ht,vt)),Pt&&(this.pendingTextPaths||(this.pendingTextPaths=[])).push({transform:getCurrentTransform(St),x:ht,y:vt,fontSize:wt,addToPath:bt})}get isFontSubpixelAAEnabled(){const{context:$}=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10);$.scale(1.5,1),$.fillText("I",0,10);const ht=$.getImageData(0,0,10,10).data;let vt=!1;for(let At=3;At<ht.length;At+=4)if(ht[At]>0&&ht[At]<255){vt=!0;break}return shadow(this,"isFontSubpixelAAEnabled",vt)}showText($){const ht=this.current,vt=ht.font;if(vt.isType3Font)return this.showType3Text($);const At=ht.fontSize;if(At===0)return;const St=this.ctx,kt=ht.fontSizeScale,Et=ht.charSpacing,Rt=ht.wordSpacing,wt=ht.fontDirection,_t=ht.textHScale*wt,Pt=$.length,_e=vt.vertical,bt=_e?1:-1,Ft=vt.defaultVMetrics,Xt=At*ht.fontMatrix[0],Kt=ht.textRenderingMode===TextRenderingMode.FILL&&!vt.disableFontFace&&!ht.patternFill;St.save(),St.transform(...ht.textMatrix),St.translate(ht.x,ht.y+ht.textRise),wt>0?St.scale(_t,-1):St.scale(_t,1);let Nt;if(ht.patternFill){St.save();const qt=ht.fillColor.getPattern(St,this,getCurrentTransformInverse(St),PathType.FILL);Nt=getCurrentTransform(St),St.restore(),St.fillStyle=qt}let $t=ht.lineWidth;const Dt=ht.textMatrixScale;if(Dt===0||$t===0){const qt=ht.textRenderingMode&TextRenderingMode.FILL_STROKE_MASK;(qt===TextRenderingMode.STROKE||qt===TextRenderingMode.FILL_STROKE)&&($t=this.getSinglePixelWidth())}else $t/=Dt;if(kt!==1&&(St.scale(kt,kt),$t/=kt),St.lineWidth=$t,vt.isInvalidPDFjsFont){const qt=[];let Bt=0;for(const Gt of $)qt.push(Gt.unicode),Bt+=Gt.width;St.fillText(qt.join(""),0,0),ht.x+=Bt*Xt*_t,St.restore(),this.compose();return}let jt=0,Ct;for(Ct=0;Ct<Pt;++Ct){const qt=$[Ct];if(typeof qt=="number"){jt+=bt*qt*At/1e3;continue}let Bt=!1;const Gt=(qt.isSpace?Rt:0)+Et,en=qt.fontChar,dn=qt.accent;let Qt,gn,nn=qt.width;if(_e){const Vt=qt.vmetric||Ft,Yt=-(qt.vmetric?Vt[1]:nn*.5)*Xt,hn=Vt[2]*Xt;nn=Vt?-Vt[0]:nn,Qt=Yt/kt,gn=(jt+hn)/kt}else Qt=jt/kt,gn=0;if(vt.remeasure&&nn>0){const Vt=St.measureText(en).width*1e3/At*kt;if(nn<Vt&&this.isFontSubpixelAAEnabled){const Yt=nn/Vt;Bt=!0,St.save(),St.scale(Yt,1),Qt/=Yt}else nn!==Vt&&(Qt+=(nn-Vt)/2e3*At/kt)}if(this.contentVisible&&(qt.isInFont||vt.missingFile)){if(Kt&&!dn)St.fillText(en,Qt,gn);else if(this.paintChar(en,Qt,gn,Nt),dn){const Vt=Qt+At*dn.offset.x/kt,Yt=gn-At*dn.offset.y/kt;this.paintChar(dn.fontChar,Vt,Yt,Nt)}}const bn=_e?nn*Xt-Gt*wt:nn*Xt+Gt*wt;jt+=bn,Bt&&St.restore()}_e?ht.y-=jt:ht.x+=jt*_t,St.restore(),this.compose()}showType3Text($){const ht=this.ctx,vt=this.current,At=vt.font,St=vt.fontSize,kt=vt.fontDirection,Et=At.vertical?1:-1,Rt=vt.charSpacing,wt=vt.wordSpacing,_t=vt.textHScale*kt,Pt=vt.fontMatrix||FONT_IDENTITY_MATRIX,_e=$.length,bt=vt.textRenderingMode===TextRenderingMode.INVISIBLE;let Ft,Xt,Kt,Nt;if(!(bt||St===0)){for(this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null,ht.save(),ht.transform(...vt.textMatrix),ht.translate(vt.x,vt.y),ht.scale(_t,kt),Ft=0;Ft<_e;++Ft){if(Xt=$[Ft],typeof Xt=="number"){Nt=Et*Xt*St/1e3,this.ctx.translate(Nt,0),vt.x+=Nt*_t;continue}const $t=(Xt.isSpace?wt:0)+Rt,Dt=At.charProcOperatorList[Xt.operatorListId];if(!Dt){warn(`Type3 character "${Xt.operatorListId}" is not available.`);continue}this.contentVisible&&(this.processingType3=Xt,this.save(),ht.scale(St,St),ht.transform(...Pt),this.executeOperatorList(Dt),this.restore()),Kt=Util.applyTransform([Xt.width,0],Pt)[0]*St+$t,ht.translate(Kt,0),vt.x+=Kt*_t}ht.restore(),this.processingType3=null}}setCharWidth($,ht){}setCharWidthAndBounds($,ht,vt,At,St,kt){this.ctx.rect(vt,At,St-vt,kt-At),this.ctx.clip(),this.endPath()}getColorN_Pattern($){let ht;if($[0]==="TilingPattern"){const vt=$[1],At=this.baseTransform||getCurrentTransform(this.ctx),St={createCanvasGraphics:kt=>new ty(kt,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:this.optionalContentConfig,markedContentStack:this.markedContentStack})};ht=new TilingPattern($,vt,this.ctx,St,At)}else ht=this._getPattern($[1],$[2]);return ht}setStrokeColorN(){this.current.strokeColor=this.getColorN_Pattern(arguments)}setFillColorN(){this.current.fillColor=this.getColorN_Pattern(arguments),this.current.patternFill=!0}setStrokeRGBColor($,ht,vt){const At=Util.makeHexColor($,ht,vt);this.ctx.strokeStyle=At,this.current.strokeColor=At}setFillRGBColor($,ht,vt){const At=Util.makeHexColor($,ht,vt);this.ctx.fillStyle=At,this.current.fillColor=At,this.current.patternFill=!1}_getPattern($,ht=null){let vt;return this.cachedPatterns.has($)?vt=this.cachedPatterns.get($):(vt=getShadingPattern(this.getObject($)),this.cachedPatterns.set($,vt)),ht&&(vt.matrix=ht),vt}shadingFill($){if(!this.contentVisible)return;const ht=this.ctx;this.save();const vt=this._getPattern($);ht.fillStyle=vt.getPattern(ht,this,getCurrentTransformInverse(ht),PathType.SHADING);const At=getCurrentTransformInverse(ht);if(At){const{width:St,height:kt}=ht.canvas,[Et,Rt,wt,_t]=Util.getAxialAlignedBoundingBox([0,0,St,kt],At);this.ctx.fillRect(Et,Rt,wt-Et,_t-Rt)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);this.compose(this.current.getClippedPathBoundingBox()),this.restore()}beginInlineImage(){unreachable("Should not call beginInlineImage")}beginImageData(){unreachable("Should not call beginImageData")}paintFormXObjectBegin($,ht){if(this.contentVisible&&(this.save(),this.baseTransformStack.push(this.baseTransform),$&&this.transform(...$),this.baseTransform=getCurrentTransform(this.ctx),ht)){const vt=ht[2]-ht[0],At=ht[3]-ht[1];this.ctx.rect(ht[0],ht[1],vt,At),this.current.updateRectMinMax(getCurrentTransform(this.ctx),ht),this.clip(),this.endPath()}}paintFormXObjectEnd(){this.contentVisible&&(this.restore(),this.baseTransform=this.baseTransformStack.pop())}beginGroup($){if(!this.contentVisible)return;this.save(),this.inSMaskMode&&(this.endSMaskMode(),this.current.activeSMask=null);const ht=this.ctx;$.isolated||info("TODO: Support non-isolated groups."),$.knockout&&warn("Knockout groups not supported.");const vt=getCurrentTransform(ht);if($.matrix&&ht.transform(...$.matrix),!$.bbox)throw new Error("Bounding box is required.");let At=Util.getAxialAlignedBoundingBox($.bbox,getCurrentTransform(ht));const St=[0,0,ht.canvas.width,ht.canvas.height];At=Util.intersect(At,St)||[0,0,0,0];const kt=Math.floor(At[0]),Et=Math.floor(At[1]),Rt=Math.max(Math.ceil(At[2])-kt,1),wt=Math.max(Math.ceil(At[3])-Et,1);this.current.startNewPathAndClipBox([0,0,Rt,wt]);let _t="groupAt"+this.groupLevel;$.smask&&(_t+="_smask_"+this.smaskCounter++%2);const Pt=this.cachedCanvases.getCanvas(_t,Rt,wt),_e=Pt.context;_e.translate(-kt,-Et),_e.transform(...vt),$.smask?this.smaskStack.push({canvas:Pt.canvas,context:_e,offsetX:kt,offsetY:Et,subtype:$.smask.subtype,backdrop:$.smask.backdrop,transferMap:$.smask.transferMap||null,startTransformInverse:null}):(ht.setTransform(1,0,0,1,0,0),ht.translate(kt,Et),ht.save()),copyCtxState(ht,_e),this.ctx=_e,this.setGState([["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(ht),this.groupLevel++}endGroup($){if(!this.contentVisible)return;this.groupLevel--;const ht=this.ctx,vt=this.groupStack.pop();if(this.ctx=vt,this.ctx.imageSmoothingEnabled=!1,$.smask)this.tempSMask=this.smaskStack.pop(),this.restore();else{this.ctx.restore();const At=getCurrentTransform(this.ctx);this.restore(),this.ctx.save(),this.ctx.setTransform(...At);const St=Util.getAxialAlignedBoundingBox([0,0,ht.canvas.width,ht.canvas.height],At);this.ctx.drawImage(ht.canvas,0,0),this.ctx.restore(),this.compose(St)}}beginAnnotation($,ht,vt,At,St){if(On(this,yu,O9).call(this),resetCtxToDefault(this.ctx),this.ctx.save(),this.save(),this.baseTransform&&this.ctx.setTransform(...this.baseTransform),ht){const kt=ht[2]-ht[0],Et=ht[3]-ht[1];if(St&&this.annotationCanvasMap){vt=vt.slice(),vt[4]-=ht[0],vt[5]-=ht[1],ht=ht.slice(),ht[0]=ht[1]=0,ht[2]=kt,ht[3]=Et;const[Rt,wt]=Util.singularValueDecompose2dScale(getCurrentTransform(this.ctx)),{viewportScale:_t}=this,Pt=Math.ceil(kt*this.outputScaleX*_t),_e=Math.ceil(Et*this.outputScaleY*_t);this.annotationCanvas=this.canvasFactory.create(Pt,_e);const{canvas:bt,context:Ft}=this.annotationCanvas;this.annotationCanvasMap.set($,bt),this.annotationCanvas.savedCtx=this.ctx,this.ctx=Ft,this.ctx.save(),this.ctx.setTransform(Rt,0,0,-wt,0,Et*wt),resetCtxToDefault(this.ctx)}else resetCtxToDefault(this.ctx),this.ctx.rect(ht[0],ht[1],kt,Et),this.ctx.clip(),this.endPath()}this.current=new CanvasExtraState(this.ctx.canvas.width,this.ctx.canvas.height),this.transform(...vt),this.transform(...At)}endAnnotation(){this.annotationCanvas&&(this.ctx.restore(),On(this,yu,D9).call(this),this.ctx=this.annotationCanvas.savedCtx,delete this.annotationCanvas.savedCtx,delete this.annotationCanvas)}paintImageMaskXObject($){if(!this.contentVisible)return;const ht=$.count;$=this.getObject($.data,$),$.count=ht;const vt=this.ctx,At=this.processingType3;if(At&&(At.compiled===void 0&&(At.compiled=compileType3Glyph($)),At.compiled)){At.compiled(vt);return}const St=this._createMaskCanvas($),kt=St.canvas;vt.save(),vt.setTransform(1,0,0,1,0,0),vt.drawImage(kt,St.offsetX,St.offsetY),vt.restore(),this.compose()}paintImageMaskXObjectRepeat($,ht,vt=0,At=0,St,kt){if(!this.contentVisible)return;$=this.getObject($.data,$);const Et=this.ctx;Et.save();const Rt=getCurrentTransform(Et);Et.transform(ht,vt,At,St,0,0);const wt=this._createMaskCanvas($);Et.setTransform(1,0,0,1,wt.offsetX-Rt[4],wt.offsetY-Rt[5]);for(let _t=0,Pt=kt.length;_t<Pt;_t+=2){const _e=Util.transform(Rt,[ht,vt,At,St,kt[_t],kt[_t+1]]),[bt,Ft]=Util.applyTransform([0,0],_e);Et.drawImage(wt.canvas,bt,Ft)}Et.restore(),this.compose()}paintImageMaskXObjectGroup($){if(!this.contentVisible)return;const ht=this.ctx,vt=this.current.fillColor,At=this.current.patternFill;for(const St of $){const{data:kt,width:Et,height:Rt,transform:wt}=St,_t=this.cachedCanvases.getCanvas("maskCanvas",Et,Rt),Pt=_t.context;Pt.save();const _e=this.getObject(kt,St);putBinaryImageMask(Pt,_e),Pt.globalCompositeOperation="source-in",Pt.fillStyle=At?vt.getPattern(Pt,this,getCurrentTransformInverse(ht),PathType.FILL):vt,Pt.fillRect(0,0,Et,Rt),Pt.restore(),ht.save(),ht.transform(...wt),ht.scale(1,-1),drawImageAtIntegerCoords(ht,_t.canvas,0,0,Et,Rt,0,-1,1,1),ht.restore()}this.compose()}paintImageXObject($){if(!this.contentVisible)return;const ht=this.getObject($);if(!ht){warn("Dependent image isn't ready yet");return}this.paintInlineImageXObject(ht)}paintImageXObjectRepeat($,ht,vt,At){if(!this.contentVisible)return;const St=this.getObject($);if(!St){warn("Dependent image isn't ready yet");return}const kt=St.width,Et=St.height,Rt=[];for(let wt=0,_t=At.length;wt<_t;wt+=2)Rt.push({transform:[ht,0,0,vt,At[wt],At[wt+1]],x:0,y:0,w:kt,h:Et});this.paintInlineImageXObjectGroup(St,Rt)}applyTransferMapsToCanvas($){return this.current.transferMaps!=="none"&&($.filter=this.current.transferMaps,$.drawImage($.canvas,0,0),$.filter="none"),$.canvas}applyTransferMapsToBitmap($){if(this.current.transferMaps==="none")return $.bitmap;const{bitmap:ht,width:vt,height:At}=$,St=this.cachedCanvases.getCanvas("inlineImage",vt,At),kt=St.context;return kt.filter=this.current.transferMaps,kt.drawImage(ht,0,0),kt.filter="none",St.canvas}paintInlineImageXObject($){if(!this.contentVisible)return;const ht=$.width,vt=$.height,At=this.ctx;if(this.save(),!isNodeJS){const{filter:Et}=At;Et!=="none"&&Et!==""&&(At.filter="none")}At.scale(1/ht,-1/vt);let St;if($.bitmap)St=this.applyTransferMapsToBitmap($);else if(typeof HTMLElement=="function"&&$ instanceof HTMLElement||!$.data)St=$;else{const Rt=this.cachedCanvases.getCanvas("inlineImage",ht,vt).context;putBinaryImageData(Rt,$),St=this.applyTransferMapsToCanvas(Rt)}const kt=this._scaleImage(St,getCurrentTransformInverse(At));At.imageSmoothingEnabled=getImageSmoothingEnabled(getCurrentTransform(At),$.interpolate),drawImageAtIntegerCoords(At,kt.img,0,0,kt.paintWidth,kt.paintHeight,0,-vt,ht,vt),this.compose(),this.restore()}paintInlineImageXObjectGroup($,ht){if(!this.contentVisible)return;const vt=this.ctx;let At;if($.bitmap)At=$.bitmap;else{const St=$.width,kt=$.height,Rt=this.cachedCanvases.getCanvas("inlineImage",St,kt).context;putBinaryImageData(Rt,$),At=this.applyTransferMapsToCanvas(Rt)}for(const St of ht)vt.save(),vt.transform(...St.transform),vt.scale(1,-1),drawImageAtIntegerCoords(vt,At,St.x,St.y,St.w,St.h,0,-1,1,1),vt.restore();this.compose()}paintSolidColorImageMask(){this.contentVisible&&(this.ctx.fillRect(0,0,1,1),this.compose())}markPoint($){}markPointProps($,ht){}beginMarkedContent($){this.markedContentStack.push({visible:!0})}beginMarkedContentProps($,ht){$==="OC"?this.markedContentStack.push({visible:this.optionalContentConfig.isVisible(ht)}):this.markedContentStack.push({visible:!0}),this.contentVisible=this.isContentVisible()}endMarkedContent(){this.markedContentStack.pop(),this.contentVisible=this.isContentVisible()}beginCompat(){}endCompat(){}consumePath($){const ht=this.current.isEmptyClip();this.pendingClip&&this.current.updateClipFromPath(),this.pendingClip||this.compose($);const vt=this.ctx;this.pendingClip&&(ht||(this.pendingClip===EO_CLIP?vt.clip("evenodd"):vt.clip()),this.pendingClip=null),this.current.startNewPathAndClipBox(this.current.clipBox),vt.beginPath()}getSinglePixelWidth(){if(!this._cachedGetSinglePixelWidth){const $=getCurrentTransform(this.ctx);if($[1]===0&&$[2]===0)this._cachedGetSinglePixelWidth=1/Math.min(Math.abs($[0]),Math.abs($[3]));else{const ht=Math.abs($[0]*$[3]-$[2]*$[1]),vt=Math.hypot($[0],$[2]),At=Math.hypot($[1],$[3]);this._cachedGetSinglePixelWidth=Math.max(vt,At)/ht}}return this._cachedGetSinglePixelWidth}getScaleForStroking(){if(this._cachedScaleForStroking[0]===-1){const{lineWidth:$}=this.current,{a:ht,b:vt,c:At,d:St}=this.ctx.getTransform();let kt,Et;if(vt===0&&At===0){const Rt=Math.abs(ht),wt=Math.abs(St);if(Rt===wt)if($===0)kt=Et=1/Rt;else{const _t=Rt*$;kt=Et=_t<1?1/_t:1}else if($===0)kt=1/Rt,Et=1/wt;else{const _t=Rt*$,Pt=wt*$;kt=_t<1?1/_t:1,Et=Pt<1?1/Pt:1}}else{const Rt=Math.abs(ht*St-vt*At),wt=Math.hypot(ht,vt),_t=Math.hypot(At,St);if($===0)kt=_t/Rt,Et=wt/Rt;else{const Pt=$*Rt;kt=_t>Pt?_t/Pt:1,Et=wt>Pt?wt/Pt:1}}this._cachedScaleForStroking[0]=kt,this._cachedScaleForStroking[1]=Et}return this._cachedScaleForStroking}rescaleAndStroke($){const{ctx:ht}=this,{lineWidth:vt}=this.current,[At,St]=this.getScaleForStroking();if(ht.lineWidth=vt||1,At===1&&St===1){ht.stroke();return}const kt=ht.getLineDash();if($&&ht.save(),ht.scale(At,St),kt.length>0){const Et=Math.max(At,St);ht.setLineDash(kt.map(Rt=>Rt/Et)),ht.lineDashOffset/=Et}ht.stroke(),$&&ht.restore()}isContentVisible(){for(let $=this.markedContentStack.length-1;$>=0;$--)if(!this.markedContentStack[$].visible)return!1;return!0}};yu=new WeakSet,O9=function(){for(;this.stateStack.length||this.inSMaskMode;)this.restore();this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null)},D9=function(){if(this.pageColors){const $=this.filterFactory.addHCMFilter(this.pageColors.foreground,this.pageColors.background);if($!=="none"){const ht=this.ctx.filter;this.ctx.filter=$,this.ctx.drawImage(this.ctx.canvas,0,0),this.ctx.filter=ht}}};let CanvasGraphics=ty;for(const xt in OPS)CanvasGraphics.prototype[xt]!==void 0&&(CanvasGraphics.prototype[OPS[xt]]=CanvasGraphics.prototype[xt]);var Vm,Gm;class GlobalWorkerOptions{static get workerPort(){return Mt(this,Vm)}static set workerPort($){if(!(typeof Worker<"u"&&$ instanceof Worker)&&$!==null)throw new Error("Invalid `workerPort` type.");$n(this,Vm,$)}static get workerSrc(){return Mt(this,Gm)}static set workerSrc($){if(typeof $!="string")throw new Error("Invalid `workerSrc` type.");$n(this,Gm,$)}}Vm=new WeakMap,Gm=new WeakMap,Nn(GlobalWorkerOptions,Vm,null),Nn(GlobalWorkerOptions,Gm,"");const CallbackKind={UNKNOWN:0,DATA:1,ERROR:2},StreamKind={UNKNOWN:0,CANCEL:1,CANCEL_COMPLETE:2,CLOSE:3,ENQUEUE:4,ERROR:5,PULL:6,PULL_COMPLETE:7,START_COMPLETE:8};function wrapReason(xt){switch(xt instanceof Error||typeof xt=="object"&&xt!==null||unreachable('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),xt.name){case"AbortException":return new AbortException(xt.message);case"MissingPDFException":return new MissingPDFException(xt.message);case"PasswordException":return new PasswordException(xt.message,xt.code);case"UnexpectedResponseException":return new UnexpectedResponseException(xt.message,xt.status);case"UnknownErrorException":return new UnknownErrorException(xt.message,xt.details);default:return new UnknownErrorException(xt.message,xt.toString())}}var l0,$y,jy,r2;class MessageHandler{constructor($,ht,vt){Nn(this,l0);this.sourceName=$,this.targetName=ht,this.comObj=vt,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),this._onComObjOnMessage=At=>{const St=At.data;if(St.targetName!==this.sourceName)return;if(St.stream){On(this,l0,jy).call(this,St);return}if(St.callback){const Et=St.callbackId,Rt=this.callbackCapabilities[Et];if(!Rt)throw new Error(`Cannot resolve callback ${Et}`);if(delete this.callbackCapabilities[Et],St.callback===CallbackKind.DATA)Rt.resolve(St.data);else if(St.callback===CallbackKind.ERROR)Rt.reject(wrapReason(St.reason));else throw new Error("Unexpected callback case");return}const kt=this.actionHandler[St.action];if(!kt)throw new Error(`Unknown action from worker: ${St.action}`);if(St.callbackId){const Et=this.sourceName,Rt=St.sourceName;new Promise(function(wt){wt(kt(St.data))}).then(function(wt){vt.postMessage({sourceName:Et,targetName:Rt,callback:CallbackKind.DATA,callbackId:St.callbackId,data:wt})},function(wt){vt.postMessage({sourceName:Et,targetName:Rt,callback:CallbackKind.ERROR,callbackId:St.callbackId,reason:wrapReason(wt)})});return}if(St.streamId){On(this,l0,$y).call(this,St);return}kt(St.data)},vt.addEventListener("message",this._onComObjOnMessage)}on($,ht){const vt=this.actionHandler;if(vt[$])throw new Error(`There is already an actionName called "${$}"`);vt[$]=ht}send($,ht,vt){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:$,data:ht},vt)}sendWithPromise($,ht,vt){const At=this.callbackId++,St=Promise.withResolvers();this.callbackCapabilities[At]=St;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:$,callbackId:At,data:ht},vt)}catch(kt){St.reject(kt)}return St.promise}sendWithStream($,ht,vt,At){const St=this.streamId++,kt=this.sourceName,Et=this.targetName,Rt=this.comObj;return new ReadableStream({start:wt=>{const _t=Promise.withResolvers();return this.streamControllers[St]={controller:wt,startCall:_t,pullCall:null,cancelCall:null,isClosed:!1},Rt.postMessage({sourceName:kt,targetName:Et,action:$,streamId:St,data:ht,desiredSize:wt.desiredSize},At),_t.promise},pull:wt=>{const _t=Promise.withResolvers();return this.streamControllers[St].pullCall=_t,Rt.postMessage({sourceName:kt,targetName:Et,stream:StreamKind.PULL,streamId:St,desiredSize:wt.desiredSize}),_t.promise},cancel:wt=>{assert(wt instanceof Error,"cancel must have a valid reason");const _t=Promise.withResolvers();return this.streamControllers[St].cancelCall=_t,this.streamControllers[St].isClosed=!0,Rt.postMessage({sourceName:kt,targetName:Et,stream:StreamKind.CANCEL,streamId:St,reason:wrapReason(wt)}),_t.promise}},vt)}destroy(){this.comObj.removeEventListener("message",this._onComObjOnMessage)}}l0=new WeakSet,$y=function($){const ht=$.streamId,vt=this.sourceName,At=$.sourceName,St=this.comObj,kt=this,Et=this.actionHandler[$.action],Rt={enqueue(wt,_t=1,Pt){if(this.isCancelled)return;const _e=this.desiredSize;this.desiredSize-=_t,_e>0&&this.desiredSize<=0&&(this.sinkCapability=Promise.withResolvers(),this.ready=this.sinkCapability.promise),St.postMessage({sourceName:vt,targetName:At,stream:StreamKind.ENQUEUE,streamId:ht,chunk:wt},Pt)},close(){this.isCancelled||(this.isCancelled=!0,St.postMessage({sourceName:vt,targetName:At,stream:StreamKind.CLOSE,streamId:ht}),delete kt.streamSinks[ht])},error(wt){assert(wt instanceof Error,"error must have a valid reason"),!this.isCancelled&&(this.isCancelled=!0,St.postMessage({sourceName:vt,targetName:At,stream:StreamKind.ERROR,streamId:ht,reason:wrapReason(wt)}))},sinkCapability:Promise.withResolvers(),onPull:null,onCancel:null,isCancelled:!1,desiredSize:$.desiredSize,ready:null};Rt.sinkCapability.resolve(),Rt.ready=Rt.sinkCapability.promise,this.streamSinks[ht]=Rt,new Promise(function(wt){wt(Et($.data,Rt))}).then(function(){St.postMessage({sourceName:vt,targetName:At,stream:StreamKind.START_COMPLETE,streamId:ht,success:!0})},function(wt){St.postMessage({sourceName:vt,targetName:At,stream:StreamKind.START_COMPLETE,streamId:ht,reason:wrapReason(wt)})})},jy=function($){const ht=$.streamId,vt=this.sourceName,At=$.sourceName,St=this.comObj,kt=this.streamControllers[ht],Et=this.streamSinks[ht];switch($.stream){case StreamKind.START_COMPLETE:$.success?kt.startCall.resolve():kt.startCall.reject(wrapReason($.reason));break;case StreamKind.PULL_COMPLETE:$.success?kt.pullCall.resolve():kt.pullCall.reject(wrapReason($.reason));break;case StreamKind.PULL:if(!Et){St.postMessage({sourceName:vt,targetName:At,stream:StreamKind.PULL_COMPLETE,streamId:ht,success:!0});break}Et.desiredSize<=0&&$.desiredSize>0&&Et.sinkCapability.resolve(),Et.desiredSize=$.desiredSize,new Promise(function(Rt){var wt;Rt((wt=Et.onPull)==null?void 0:wt.call(Et))}).then(function(){St.postMessage({sourceName:vt,targetName:At,stream:StreamKind.PULL_COMPLETE,streamId:ht,success:!0})},function(Rt){St.postMessage({sourceName:vt,targetName:At,stream:StreamKind.PULL_COMPLETE,streamId:ht,reason:wrapReason(Rt)})});break;case StreamKind.ENQUEUE:if(assert(kt,"enqueue should have stream controller"),kt.isClosed)break;kt.controller.enqueue($.chunk);break;case StreamKind.CLOSE:if(assert(kt,"close should have stream controller"),kt.isClosed)break;kt.isClosed=!0,kt.controller.close(),On(this,l0,r2).call(this,kt,ht);break;case StreamKind.ERROR:assert(kt,"error should have stream controller"),kt.controller.error(wrapReason($.reason)),On(this,l0,r2).call(this,kt,ht);break;case StreamKind.CANCEL_COMPLETE:$.success?kt.cancelCall.resolve():kt.cancelCall.reject(wrapReason($.reason)),On(this,l0,r2).call(this,kt,ht);break;case StreamKind.CANCEL:if(!Et)break;new Promise(function(Rt){var wt;Rt((wt=Et.onCancel)==null?void 0:wt.call(Et,wrapReason($.reason)))}).then(function(){St.postMessage({sourceName:vt,targetName:At,stream:StreamKind.CANCEL_COMPLETE,streamId:ht,success:!0})},function(Rt){St.postMessage({sourceName:vt,targetName:At,stream:StreamKind.CANCEL_COMPLETE,streamId:ht,reason:wrapReason(Rt)})}),Et.sinkCapability.reject(wrapReason($.reason)),Et.isCancelled=!0,delete this.streamSinks[ht];break;default:throw new Error("Unexpected stream case")}},r2=async function($,ht){var vt,At,St;await Promise.allSettled([(vt=$.startCall)==null?void 0:vt.promise,(At=$.pullCall)==null?void 0:At.promise,(St=$.cancelCall)==null?void 0:St.promise]),delete this.streamControllers[ht]};var qu,qm;class Metadata{constructor({parsedData:$,rawData:ht}){Nn(this,qu);Nn(this,qm);$n(this,qu,$),$n(this,qm,ht)}getRaw(){return Mt(this,qm)}get($){return Mt(this,qu).get($)??null}getAll(){return objectFromMap(Mt(this,qu))}has($){return Mt(this,qu).has($)}}qu=new WeakMap,qm=new WeakMap;const INTERNAL=Symbol("INTERNAL");var Km,Ym,Zm,lp;class OptionalContentGroup{constructor($,{name:ht,intent:vt,usage:At}){Nn(this,Km,!1);Nn(this,Ym,!1);Nn(this,Zm,!1);Nn(this,lp,!0);$n(this,Km,!!($&RenderingIntentFlag.DISPLAY)),$n(this,Ym,!!($&RenderingIntentFlag.PRINT)),this.name=ht,this.intent=vt,this.usage=At}get visible(){if(Mt(this,Zm))return Mt(this,lp);if(!Mt(this,lp))return!1;const{print:$,view:ht}=this.usage;return Mt(this,Km)?(ht==null?void 0:ht.viewState)!=="OFF":Mt(this,Ym)?($==null?void 0:$.printState)!=="OFF":!0}_setVisible($,ht,vt=!1){$!==INTERNAL&&unreachable("Internal method `_setVisible` called."),$n(this,Zm,vt),$n(this,lp,ht)}}Km=new WeakMap,Ym=new WeakMap,Zm=new WeakMap,lp=new WeakMap;var nu,ga,cp,up,Jm,L9;class OptionalContentConfig{constructor($,ht=RenderingIntentFlag.DISPLAY){Nn(this,Jm);Nn(this,nu,null);Nn(this,ga,new Map);Nn(this,cp,null);Nn(this,up,null);if(this.renderingIntent=ht,this.name=null,this.creator=null,$!==null){this.name=$.name,this.creator=$.creator,$n(this,up,$.order);for(const vt of $.groups)Mt(this,ga).set(vt.id,new OptionalContentGroup(ht,vt));if($.baseState==="OFF")for(const vt of Mt(this,ga).values())vt._setVisible(INTERNAL,!1);for(const vt of $.on)Mt(this,ga).get(vt)._setVisible(INTERNAL,!0);for(const vt of $.off)Mt(this,ga).get(vt)._setVisible(INTERNAL,!1);$n(this,cp,this.getHash())}}isVisible($){if(Mt(this,ga).size===0)return!0;if(!$)return info("Optional content group not defined."),!0;if($.type==="OCG")return Mt(this,ga).has($.id)?Mt(this,ga).get($.id).visible:(warn(`Optional content group not found: ${$.id}`),!0);if($.type==="OCMD"){if($.expression)return On(this,Jm,L9).call(this,$.expression);if(!$.policy||$.policy==="AnyOn"){for(const ht of $.ids){if(!Mt(this,ga).has(ht))return warn(`Optional content group not found: ${ht}`),!0;if(Mt(this,ga).get(ht).visible)return!0}return!1}else if($.policy==="AllOn"){for(const ht of $.ids){if(!Mt(this,ga).has(ht))return warn(`Optional content group not found: ${ht}`),!0;if(!Mt(this,ga).get(ht).visible)return!1}return!0}else if($.policy==="AnyOff"){for(const ht of $.ids){if(!Mt(this,ga).has(ht))return warn(`Optional content group not found: ${ht}`),!0;if(!Mt(this,ga).get(ht).visible)return!0}return!1}else if($.policy==="AllOff"){for(const ht of $.ids){if(!Mt(this,ga).has(ht))return warn(`Optional content group not found: ${ht}`),!0;if(Mt(this,ga).get(ht).visible)return!1}return!0}return warn(`Unknown optional content policy ${$.policy}.`),!0}return warn(`Unknown group type ${$.type}.`),!0}setVisibility($,ht=!0){const vt=Mt(this,ga).get($);if(!vt){warn(`Optional content group not found: ${$}`);return}vt._setVisible(INTERNAL,!!ht,!0),$n(this,nu,null)}setOCGState({state:$,preserveRB:ht}){let vt;for(const At of $){switch(At){case"ON":case"OFF":case"Toggle":vt=At;continue}const St=Mt(this,ga).get(At);if(St)switch(vt){case"ON":St._setVisible(INTERNAL,!0);break;case"OFF":St._setVisible(INTERNAL,!1);break;case"Toggle":St._setVisible(INTERNAL,!St.visible);break}}$n(this,nu,null)}get hasInitialVisibility(){return Mt(this,cp)===null||this.getHash()===Mt(this,cp)}getOrder(){return Mt(this,ga).size?Mt(this,up)?Mt(this,up).slice():[...Mt(this,ga).keys()]:null}getGroups(){return Mt(this,ga).size>0?objectFromMap(Mt(this,ga)):null}getGroup($){return Mt(this,ga).get($)||null}getHash(){if(Mt(this,nu)!==null)return Mt(this,nu);const $=new MurmurHash3_64;for(const[ht,vt]of Mt(this,ga))$.update(`${ht}:${vt.visible}`);return $n(this,nu,$.hexdigest())}}nu=new WeakMap,ga=new WeakMap,cp=new WeakMap,up=new WeakMap,Jm=new WeakSet,L9=function($){const ht=$.length;if(ht<2)return!0;const vt=$[0];for(let At=1;At<ht;At++){const St=$[At];let kt;if(Array.isArray(St))kt=On(this,Jm,L9).call(this,St);else if(Mt(this,ga).has(St))kt=Mt(this,ga).get(St).visible;else return warn(`Optional content group not found: ${St}`),!0;switch(vt){case"And":if(!kt)return!1;break;case"Or":if(kt)return!0;break;case"Not":return!kt;default:return!0}}return vt==="And"};class PDFDataTransportStream{constructor($,{disableRange:ht=!1,disableStream:vt=!1}){assert($,'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.');const{length:At,initialData:St,progressiveDone:kt,contentDispositionFilename:Et}=$;if(this._queuedChunks=[],this._progressiveDone=kt,this._contentDispositionFilename=Et,(St==null?void 0:St.length)>0){const Rt=St instanceof Uint8Array&&St.byteLength===St.buffer.byteLength?St.buffer:new Uint8Array(St).buffer;this._queuedChunks.push(Rt)}this._pdfDataRangeTransport=$,this._isStreamingSupported=!vt,this._isRangeSupported=!ht,this._contentLength=At,this._fullRequestReader=null,this._rangeReaders=[],$.addRangeListener((Rt,wt)=>{this._onReceiveData({begin:Rt,chunk:wt})}),$.addProgressListener((Rt,wt)=>{this._onProgress({loaded:Rt,total:wt})}),$.addProgressiveReadListener(Rt=>{this._onReceiveData({chunk:Rt})}),$.addProgressiveDoneListener(()=>{this._onProgressiveDone()}),$.transportReady()}_onReceiveData({begin:$,chunk:ht}){const vt=ht instanceof Uint8Array&&ht.byteLength===ht.buffer.byteLength?ht.buffer:new Uint8Array(ht).buffer;if($===void 0)this._fullRequestReader?this._fullRequestReader._enqueue(vt):this._queuedChunks.push(vt);else{const At=this._rangeReaders.some(function(St){return St._begin!==$?!1:(St._enqueue(vt),!0)});assert(At,"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.")}}get _progressiveDataLength(){var $;return(($=this._fullRequestReader)==null?void 0:$._loaded)??0}_onProgress($){var ht,vt,At,St;$.total===void 0?(vt=(ht=this._rangeReaders[0])==null?void 0:ht.onProgress)==null||vt.call(ht,{loaded:$.loaded}):(St=(At=this._fullRequestReader)==null?void 0:At.onProgress)==null||St.call(At,{loaded:$.loaded,total:$.total})}_onProgressiveDone(){var $;($=this._fullRequestReader)==null||$.progressiveDone(),this._progressiveDone=!0}_removeRangeReader($){const ht=this._rangeReaders.indexOf($);ht>=0&&this._rangeReaders.splice(ht,1)}getFullReader(){assert(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");const $=this._queuedChunks;return this._queuedChunks=null,new PDFDataTransportStreamReader(this,$,this._progressiveDone,this._contentDispositionFilename)}getRangeReader($,ht){if(ht<=this._progressiveDataLength)return null;const vt=new PDFDataTransportStreamRangeReader(this,$,ht);return this._pdfDataRangeTransport.requestDataRange($,ht),this._rangeReaders.push(vt),vt}cancelAllRequests($){var ht;(ht=this._fullRequestReader)==null||ht.cancel($);for(const vt of this._rangeReaders.slice(0))vt.cancel($);this._pdfDataRangeTransport.abort()}}class PDFDataTransportStreamReader{constructor($,ht,vt=!1,At=null){this._stream=$,this._done=vt||!1,this._filename=isPdfFile(At)?At:null,this._queuedChunks=ht||[],this._loaded=0;for(const St of this._queuedChunks)this._loaded+=St.byteLength;this._requests=[],this._headersReady=Promise.resolve(),$._fullRequestReader=this,this.onProgress=null}_enqueue($){this._done||(this._requests.length>0?this._requests.shift().resolve({value:$,done:!1}):this._queuedChunks.push($),this._loaded+=$.byteLength)}get headersReady(){return this._headersReady}get filename(){return this._filename}get isRangeSupported(){return this._stream._isRangeSupported}get isStreamingSupported(){return this._stream._isStreamingSupported}get contentLength(){return this._stream._contentLength}async read(){if(this._queuedChunks.length>0)return{value:this._queuedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const $=Promise.withResolvers();return this._requests.push($),$.promise}cancel($){this._done=!0;for(const ht of this._requests)ht.resolve({value:void 0,done:!0});this._requests.length=0}progressiveDone(){this._done||(this._done=!0)}}class PDFDataTransportStreamRangeReader{constructor($,ht,vt){this._stream=$,this._begin=ht,this._end=vt,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}_enqueue($){if(!this._done){if(this._requests.length===0)this._queuedChunk=$;else{this._requests.shift().resolve({value:$,done:!1});for(const vt of this._requests)vt.resolve({value:void 0,done:!0});this._requests.length=0}this._done=!0,this._stream._removeRangeReader(this)}}get isStreamingSupported(){return!1}async read(){if(this._queuedChunk){const ht=this._queuedChunk;return this._queuedChunk=null,{value:ht,done:!1}}if(this._done)return{value:void 0,done:!0};const $=Promise.withResolvers();return this._requests.push($),$.promise}cancel($){this._done=!0;for(const ht of this._requests)ht.resolve({value:void 0,done:!0});this._requests.length=0,this._stream._removeRangeReader(this)}}function getFilenameFromContentDispositionHeader(xt){let $=!0,ht=vt("filename\\*","i").exec(xt);if(ht){ht=ht[1];let _t=Et(ht);return _t=unescape(_t),_t=Rt(_t),_t=wt(_t),St(_t)}if(ht=kt(xt),ht){const _t=wt(ht);return St(_t)}if(ht=vt("filename","i").exec(xt),ht){ht=ht[1];let _t=Et(ht);return _t=wt(_t),St(_t)}function vt(_t,Pt){return new RegExp("(?:^|;)\\s*"+_t+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',Pt)}function At(_t,Pt){if(_t){if(!/^[\x00-\xFF]+$/.test(Pt))return Pt;try{const _e=new TextDecoder(_t,{fatal:!0}),bt=stringToBytes(Pt);Pt=_e.decode(bt),$=!1}catch{}}return Pt}function St(_t){return $&&/[\x80-\xff]/.test(_t)&&(_t=At("utf-8",_t),$&&(_t=At("iso-8859-1",_t))),_t}function kt(_t){const Pt=[];let _e;const bt=vt("filename\\*((?!0\\d)\\d+)(\\*?)","ig");for(;(_e=bt.exec(_t))!==null;){let[,Xt,Kt,Nt]=_e;if(Xt=parseInt(Xt,10),Xt in Pt){if(Xt===0)break;continue}Pt[Xt]=[Kt,Nt]}const Ft=[];for(let Xt=0;Xt<Pt.length&&Xt in Pt;++Xt){let[Kt,Nt]=Pt[Xt];Nt=Et(Nt),Kt&&(Nt=unescape(Nt),Xt===0&&(Nt=Rt(Nt))),Ft.push(Nt)}return Ft.join("")}function Et(_t){if(_t.startsWith('"')){const Pt=_t.slice(1).split('\\"');for(let _e=0;_e<Pt.length;++_e){const bt=Pt[_e].indexOf('"');bt!==-1&&(Pt[_e]=Pt[_e].slice(0,bt),Pt.length=_e+1),Pt[_e]=Pt[_e].replaceAll(/\\(.)/g,"$1")}_t=Pt.join('"')}return _t}function Rt(_t){const Pt=_t.indexOf("'");if(Pt===-1)return _t;const _e=_t.slice(0,Pt),Ft=_t.slice(Pt+1).replace(/^[^']*'/,"");return At(_e,Ft)}function wt(_t){return!_t.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(_t)?_t:_t.replaceAll(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,function(Pt,_e,bt,Ft){if(bt==="q"||bt==="Q")return Ft=Ft.replaceAll("_"," "),Ft=Ft.replaceAll(/=([0-9a-fA-F]{2})/g,function(Xt,Kt){return String.fromCharCode(parseInt(Kt,16))}),At(_e,Ft);try{Ft=atob(Ft)}catch{}return At(_e,Ft)})}return""}function validateRangeRequestCapabilities({getResponseHeader:xt,isHttp:$,rangeChunkSize:ht,disableRange:vt}){const At={allowRangeRequests:!1,suggestedLength:void 0},St=parseInt(xt("Content-Length"),10);return!Number.isInteger(St)||(At.suggestedLength=St,St<=2*ht)||vt||!$||xt("Accept-Ranges")!=="bytes"||(xt("Content-Encoding")||"identity")!=="identity"||(At.allowRangeRequests=!0),At}function extractFilenameFromHeader(xt){const $=xt("Content-Disposition");if($){let ht=getFilenameFromContentDispositionHeader($);if(ht.includes("%"))try{ht=decodeURIComponent(ht)}catch{}if(isPdfFile(ht))return ht}return null}function createResponseStatusError(xt,$){return xt===404||xt===0&&$.startsWith("file:")?new MissingPDFException('Missing PDF "'+$+'".'):new UnexpectedResponseException(`Unexpected server response (${xt}) while retrieving PDF "${$}".`,xt)}function validateResponseStatus(xt){return xt===200||xt===206}function createFetchOptions(xt,$,ht){return{method:"GET",headers:xt,signal:ht.signal,mode:"cors",credentials:$?"include":"same-origin",redirect:"follow"}}function createHeaders(xt){const $=new Headers;for(const ht in xt){const vt=xt[ht];vt!==void 0&&$.append(ht,vt)}return $}function getArrayBuffer(xt){return xt instanceof Uint8Array?xt.buffer:xt instanceof ArrayBuffer?xt:(warn(`getArrayBuffer - unexpected data format: ${xt}`),new Uint8Array(xt).buffer)}class PDFFetchStream{constructor($){this.source=$,this.isHttp=/^https?:/i.test($.url),this.httpHeaders=this.isHttp&&$.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var $;return(($=this._fullRequestReader)==null?void 0:$._loaded)??0}getFullReader(){return assert(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once."),this._fullRequestReader=new PDFFetchStreamReader(this),this._fullRequestReader}getRangeReader($,ht){if(ht<=this._progressiveDataLength)return null;const vt=new PDFFetchStreamRangeReader(this,$,ht);return this._rangeRequestReaders.push(vt),vt}cancelAllRequests($){var ht;(ht=this._fullRequestReader)==null||ht.cancel($);for(const vt of this._rangeRequestReaders.slice(0))vt.cancel($)}}class PDFFetchStreamReader{constructor($){this._stream=$,this._reader=null,this._loaded=0,this._filename=null;const ht=$.source;this._withCredentials=ht.withCredentials||!1,this._contentLength=ht.length,this._headersCapability=Promise.withResolvers(),this._disableRange=ht.disableRange||!1,this._rangeChunkSize=ht.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._abortController=new AbortController,this._isStreamingSupported=!ht.disableStream,this._isRangeSupported=!ht.disableRange,this._headers=createHeaders(this._stream.httpHeaders);const vt=ht.url;fetch(vt,createFetchOptions(this._headers,this._withCredentials,this._abortController)).then(At=>{if(!validateResponseStatus(At.status))throw createResponseStatusError(At.status,vt);this._reader=At.body.getReader(),this._headersCapability.resolve();const St=Rt=>At.headers.get(Rt),{allowRangeRequests:kt,suggestedLength:Et}=validateRangeRequestCapabilities({getResponseHeader:St,isHttp:this._stream.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=kt,this._contentLength=Et||this._contentLength,this._filename=extractFilenameFromHeader(St),!this._isStreamingSupported&&this._isRangeSupported&&this.cancel(new AbortException("Streaming is disabled."))}).catch(this._headersCapability.reject),this.onProgress=null}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var vt;await this._headersCapability.promise;const{value:$,done:ht}=await this._reader.read();return ht?{value:$,done:ht}:(this._loaded+=$.byteLength,(vt=this.onProgress)==null||vt.call(this,{loaded:this._loaded,total:this._contentLength}),{value:getArrayBuffer($),done:!1})}cancel($){var ht;(ht=this._reader)==null||ht.cancel($),this._abortController.abort()}}class PDFFetchStreamRangeReader{constructor($,ht,vt){this._stream=$,this._reader=null,this._loaded=0;const At=$.source;this._withCredentials=At.withCredentials||!1,this._readCapability=Promise.withResolvers(),this._isStreamingSupported=!At.disableStream,this._abortController=new AbortController,this._headers=createHeaders(this._stream.httpHeaders),this._headers.append("Range",`bytes=${ht}-${vt-1}`);const St=At.url;fetch(St,createFetchOptions(this._headers,this._withCredentials,this._abortController)).then(kt=>{if(!validateResponseStatus(kt.status))throw createResponseStatusError(kt.status,St);this._readCapability.resolve(),this._reader=kt.body.getReader()}).catch(this._readCapability.reject),this.onProgress=null}get isStreamingSupported(){return this._isStreamingSupported}async read(){var vt;await this._readCapability.promise;const{value:$,done:ht}=await this._reader.read();return ht?{value:$,done:ht}:(this._loaded+=$.byteLength,(vt=this.onProgress)==null||vt.call(this,{loaded:this._loaded}),{value:getArrayBuffer($),done:!1})}cancel($){var ht;(ht=this._reader)==null||ht.cancel($),this._abortController.abort()}}const OK_RESPONSE=200,PARTIAL_CONTENT_RESPONSE=206;function network_getArrayBuffer(xt){const $=xt.response;return typeof $!="string"?$:stringToBytes($).buffer}class NetworkManager{constructor($,ht={}){this.url=$,this.isHttp=/^https?:/i.test($),this.httpHeaders=this.isHttp&&ht.httpHeaders||Object.create(null),this.withCredentials=ht.withCredentials||!1,this.currXhrId=0,this.pendingRequests=Object.create(null)}requestRange($,ht,vt){const At={begin:$,end:ht};for(const St in vt)At[St]=vt[St];return this.request(At)}requestFull($){return this.request($)}request($){const ht=new XMLHttpRequest,vt=this.currXhrId++,At=this.pendingRequests[vt]={xhr:ht};ht.open("GET",this.url),ht.withCredentials=this.withCredentials;for(const St in this.httpHeaders){const kt=this.httpHeaders[St];kt!==void 0&&ht.setRequestHeader(St,kt)}return this.isHttp&&"begin"in $&&"end"in $?(ht.setRequestHeader("Range",`bytes=${$.begin}-${$.end-1}`),At.expectedStatus=PARTIAL_CONTENT_RESPONSE):At.expectedStatus=OK_RESPONSE,ht.responseType="arraybuffer",$.onError&&(ht.onerror=function(St){$.onError(ht.status)}),ht.onreadystatechange=this.onStateChange.bind(this,vt),ht.onprogress=this.onProgress.bind(this,vt),At.onHeadersReceived=$.onHeadersReceived,At.onDone=$.onDone,At.onError=$.onError,At.onProgress=$.onProgress,ht.send(null),vt}onProgress($,ht){var At;const vt=this.pendingRequests[$];vt&&((At=vt.onProgress)==null||At.call(vt,ht))}onStateChange($,ht){var Rt,wt,_t;const vt=this.pendingRequests[$];if(!vt)return;const At=vt.xhr;if(At.readyState>=2&&vt.onHeadersReceived&&(vt.onHeadersReceived(),delete vt.onHeadersReceived),At.readyState!==4||!($ in this.pendingRequests))return;if(delete this.pendingRequests[$],At.status===0&&this.isHttp){(Rt=vt.onError)==null||Rt.call(vt,At.status);return}const St=At.status||OK_RESPONSE;if(!(St===OK_RESPONSE&&vt.expectedStatus===PARTIAL_CONTENT_RESPONSE)&&St!==vt.expectedStatus){(wt=vt.onError)==null||wt.call(vt,At.status);return}const Et=network_getArrayBuffer(At);if(St===PARTIAL_CONTENT_RESPONSE){const Pt=At.getResponseHeader("Content-Range"),_e=/bytes (\d+)-(\d+)\/(\d+)/.exec(Pt);vt.onDone({begin:parseInt(_e[1],10),chunk:Et})}else Et?vt.onDone({begin:0,chunk:Et}):(_t=vt.onError)==null||_t.call(vt,At.status)}getRequestXhr($){return this.pendingRequests[$].xhr}isPendingRequest($){return $ in this.pendingRequests}abortRequest($){const ht=this.pendingRequests[$].xhr;delete this.pendingRequests[$],ht.abort()}}class PDFNetworkStream{constructor($){this._source=$,this._manager=new NetworkManager($.url,{httpHeaders:$.httpHeaders,withCredentials:$.withCredentials}),this._rangeChunkSize=$.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}_onRangeRequestReaderClosed($){const ht=this._rangeRequestReaders.indexOf($);ht>=0&&this._rangeRequestReaders.splice(ht,1)}getFullReader(){return assert(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once."),this._fullRequestReader=new PDFNetworkStreamFullRequestReader(this._manager,this._source),this._fullRequestReader}getRangeReader($,ht){const vt=new PDFNetworkStreamRangeRequestReader(this._manager,$,ht);return vt.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(vt),vt}cancelAllRequests($){var ht;(ht=this._fullRequestReader)==null||ht.cancel($);for(const vt of this._rangeRequestReaders.slice(0))vt.cancel($)}}class PDFNetworkStreamFullRequestReader{constructor($,ht){this._manager=$;const vt={onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=ht.url,this._fullRequestId=$.requestFull(vt),this._headersReceivedCapability=Promise.withResolvers(),this._disableRange=ht.disableRange||!1,this._contentLength=ht.length,this._rangeChunkSize=ht.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}_onHeadersReceived(){const $=this._fullRequestId,ht=this._manager.getRequestXhr($),vt=kt=>ht.getResponseHeader(kt),{allowRangeRequests:At,suggestedLength:St}=validateRangeRequestCapabilities({getResponseHeader:vt,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});At&&(this._isRangeSupported=!0),this._contentLength=St||this._contentLength,this._filename=extractFilenameFromHeader(vt),this._isRangeSupported&&this._manager.abortRequest($),this._headersReceivedCapability.resolve()}_onDone($){if($&&(this._requests.length>0?this._requests.shift().resolve({value:$.chunk,done:!1}):this._cachedChunks.push($.chunk)),this._done=!0,!(this._cachedChunks.length>0)){for(const ht of this._requests)ht.resolve({value:void 0,done:!0});this._requests.length=0}}_onError($){this._storedError=createResponseStatusError($,this._url),this._headersReceivedCapability.reject(this._storedError);for(const ht of this._requests)ht.reject(this._storedError);this._requests.length=0,this._cachedChunks.length=0}_onProgress($){var ht;(ht=this.onProgress)==null||ht.call(this,{loaded:$.loaded,total:$.lengthComputable?$.total:this._contentLength})}get filename(){return this._filename}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}get contentLength(){return this._contentLength}get headersReady(){return this._headersReceivedCapability.promise}async read(){if(this._storedError)throw this._storedError;if(this._cachedChunks.length>0)return{value:this._cachedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const $=Promise.withResolvers();return this._requests.push($),$.promise}cancel($){this._done=!0,this._headersReceivedCapability.reject($);for(const ht of this._requests)ht.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}}class PDFNetworkStreamRangeRequestReader{constructor($,ht,vt){this._manager=$;const At={onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=$.url,this._requestId=$.requestRange(ht,vt,At),this._requests=[],this._queuedChunk=null,this._done=!1,this._storedError=void 0,this.onProgress=null,this.onClosed=null}_close(){var $;($=this.onClosed)==null||$.call(this,this)}_onDone($){const ht=$.chunk;this._requests.length>0?this._requests.shift().resolve({value:ht,done:!1}):this._queuedChunk=ht,this._done=!0;for(const vt of this._requests)vt.resolve({value:void 0,done:!0});this._requests.length=0,this._close()}_onError($){this._storedError=createResponseStatusError($,this._url);for(const ht of this._requests)ht.reject(this._storedError);this._requests.length=0,this._queuedChunk=null}_onProgress($){var ht;this.isStreamingSupported||(ht=this.onProgress)==null||ht.call(this,{loaded:$.loaded})}get isStreamingSupported(){return!1}async read(){if(this._storedError)throw this._storedError;if(this._queuedChunk!==null){const ht=this._queuedChunk;return this._queuedChunk=null,{value:ht,done:!1}}if(this._done)return{value:void 0,done:!0};const $=Promise.withResolvers();return this._requests.push($),$.promise}cancel($){this._done=!0;for(const ht of this._requests)ht.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}}const fileUriRegex=/^file:\/\/\/[a-zA-Z]:\//;function parseUrl(xt){const $=NodePackages.get("url"),ht=$.parse(xt);return ht.protocol==="file:"||ht.host?ht:/^[a-z]:[/\\]/i.test(xt)?$.parse(`file:///${xt}`):(ht.host||(ht.protocol="file:"),ht)}class PDFNodeStream{constructor($){this.source=$,this.url=parseUrl($.url),this.isHttp=this.url.protocol==="http:"||this.url.protocol==="https:",this.isFsUrl=this.url.protocol==="file:",this.httpHeaders=this.isHttp&&$.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var $;return(($=this._fullRequestReader)==null?void 0:$._loaded)??0}getFullReader(){return assert(!this._fullRequestReader,"PDFNodeStream.getFullReader can only be called once."),this._fullRequestReader=this.isFsUrl?new PDFNodeStreamFsFullReader(this):new PDFNodeStreamFullReader(this),this._fullRequestReader}getRangeReader($,ht){if(ht<=this._progressiveDataLength)return null;const vt=this.isFsUrl?new PDFNodeStreamFsRangeReader(this,$,ht):new PDFNodeStreamRangeReader(this,$,ht);return this._rangeRequestReaders.push(vt),vt}cancelAllRequests($){var ht;(ht=this._fullRequestReader)==null||ht.cancel($);for(const vt of this._rangeRequestReaders.slice(0))vt.cancel($)}}class BaseFullReader{constructor($){this._url=$.url,this._done=!1,this._storedError=null,this.onProgress=null;const ht=$.source;this._contentLength=ht.length,this._loaded=0,this._filename=null,this._disableRange=ht.disableRange||!1,this._rangeChunkSize=ht.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!ht.disableStream,this._isRangeSupported=!ht.disableRange,this._readableStream=null,this._readCapability=Promise.withResolvers(),this._headersCapability=Promise.withResolvers()}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var vt;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const $=this._readableStream.read();return $===null?(this._readCapability=Promise.withResolvers(),this.read()):(this._loaded+=$.length,(vt=this.onProgress)==null||vt.call(this,{loaded:this._loaded,total:this._contentLength}),{value:new Uint8Array($).buffer,done:!1})}cancel($){if(!this._readableStream){this._error($);return}this._readableStream.destroy($)}_error($){this._storedError=$,this._readCapability.resolve()}_setReadableStream($){this._readableStream=$,$.on("readable",()=>{this._readCapability.resolve()}),$.on("end",()=>{$.destroy(),this._done=!0,this._readCapability.resolve()}),$.on("error",ht=>{this._error(ht)}),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new AbortException("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}}class BaseRangeReader{constructor($){this._url=$.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=Promise.withResolvers();const ht=$.source;this._isStreamingSupported=!ht.disableStream}get isStreamingSupported(){return this._isStreamingSupported}async read(){var vt;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const $=this._readableStream.read();return $===null?(this._readCapability=Promise.withResolvers(),this.read()):(this._loaded+=$.length,(vt=this.onProgress)==null||vt.call(this,{loaded:this._loaded}),{value:new Uint8Array($).buffer,done:!1})}cancel($){if(!this._readableStream){this._error($);return}this._readableStream.destroy($)}_error($){this._storedError=$,this._readCapability.resolve()}_setReadableStream($){this._readableStream=$,$.on("readable",()=>{this._readCapability.resolve()}),$.on("end",()=>{$.destroy(),this._done=!0,this._readCapability.resolve()}),$.on("error",ht=>{this._error(ht)}),this._storedError&&this._readableStream.destroy(this._storedError)}}function createRequestOptions(xt,$){return{protocol:xt.protocol,auth:xt.auth,host:xt.hostname,port:xt.port,path:xt.path,method:"GET",headers:$}}class PDFNodeStreamFullReader extends BaseFullReader{constructor($){super($);const ht=vt=>{if(vt.statusCode===404){const Et=new MissingPDFException(`Missing PDF "${this._url}".`);this._storedError=Et,this._headersCapability.reject(Et);return}this._headersCapability.resolve(),this._setReadableStream(vt);const At=Et=>this._readableStream.headers[Et.toLowerCase()],{allowRangeRequests:St,suggestedLength:kt}=validateRangeRequestCapabilities({getResponseHeader:At,isHttp:$.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=St,this._contentLength=kt||this._contentLength,this._filename=extractFilenameFromHeader(At)};if(this._request=null,this._url.protocol==="http:"){const vt=NodePackages.get("http");this._request=vt.request(createRequestOptions(this._url,$.httpHeaders),ht)}else{const vt=NodePackages.get("https");this._request=vt.request(createRequestOptions(this._url,$.httpHeaders),ht)}this._request.on("error",vt=>{this._storedError=vt,this._headersCapability.reject(vt)}),this._request.end()}}class PDFNodeStreamRangeReader extends BaseRangeReader{constructor($,ht,vt){super($),this._httpHeaders={};for(const St in $.httpHeaders){const kt=$.httpHeaders[St];kt!==void 0&&(this._httpHeaders[St]=kt)}this._httpHeaders.Range=`bytes=${ht}-${vt-1}`;const At=St=>{if(St.statusCode===404){const kt=new MissingPDFException(`Missing PDF "${this._url}".`);this._storedError=kt;return}this._setReadableStream(St)};if(this._request=null,this._url.protocol==="http:"){const St=NodePackages.get("http");this._request=St.request(createRequestOptions(this._url,this._httpHeaders),At)}else{const St=NodePackages.get("https");this._request=St.request(createRequestOptions(this._url,this._httpHeaders),At)}this._request.on("error",St=>{this._storedError=St}),this._request.end()}}class PDFNodeStreamFsFullReader extends BaseFullReader{constructor($){super($);let ht=decodeURIComponent(this._url.path);fileUriRegex.test(this._url.href)&&(ht=ht.replace(/^\//,""));const vt=NodePackages.get("fs");vt.promises.lstat(ht).then(At=>{this._contentLength=At.size,this._setReadableStream(vt.createReadStream(ht)),this._headersCapability.resolve()},At=>{At.code==="ENOENT"&&(At=new MissingPDFException(`Missing PDF "${ht}".`)),this._storedError=At,this._headersCapability.reject(At)})}}class PDFNodeStreamFsRangeReader extends BaseRangeReader{constructor($,ht,vt){super($);let At=decodeURIComponent(this._url.path);fileUriRegex.test(this._url.href)&&(At=At.replace(/^\//,""));const St=NodePackages.get("fs");this._setReadableStream(St.createReadStream(At,{start:ht,end:vt-1}))}}const MAX_TEXT_DIVS_TO_RENDER=1e5,DEFAULT_FONT_SIZE=30,DEFAULT_FONT_ASCENT=.8;var fy,iu,Ho,Qm,ex,Ku,C0,tx,nx,Yu,hp,dp,ru,fp,ix,pp,Zu,rx,sx,Ju,Qu,gp,U0,By,Uy,N9,xu,s2,Hy;const Rl=class Rl{constructor({textContentSource:$,container:ht,viewport:vt}){Nn(this,U0);Nn(this,iu,Promise.withResolvers());Nn(this,Ho,null);Nn(this,Qm,!1);Nn(this,ex,!!((fy=globalThis.FontInspector)!=null&&fy.enabled));Nn(this,Ku,null);Nn(this,C0,null);Nn(this,tx,0);Nn(this,nx,0);Nn(this,Yu,null);Nn(this,hp,null);Nn(this,dp,0);Nn(this,ru,0);Nn(this,fp,Object.create(null));Nn(this,ix,[]);Nn(this,pp,null);Nn(this,Zu,[]);Nn(this,rx,new WeakMap);Nn(this,sx,null);if($ instanceof ReadableStream)$n(this,pp,$);else if(typeof $=="object")$n(this,pp,new ReadableStream({start(Rt){Rt.enqueue($),Rt.close()}}));else throw new Error('No "textContentSource" parameter specified.');$n(this,Ho,$n(this,hp,ht)),$n(this,ru,vt.scale*(globalThis.devicePixelRatio||1)),$n(this,dp,vt.rotation),$n(this,C0,{prevFontSize:null,prevFontFamily:null,div:null,properties:null,ctx:null});const{pageWidth:At,pageHeight:St,pageX:kt,pageY:Et}=vt.rawDims;$n(this,sx,[1,0,0,-1,-kt,Et+St]),$n(this,nx,At),$n(this,tx,St),setLayerDimensions(ht,vt),Mt(this,iu).promise.catch(()=>{}).then(()=>{Mt(Rl,gp).delete(this),$n(this,C0,null),$n(this,fp,null)})}render(){const $=()=>{Mt(this,Yu).read().then(({value:ht,done:vt})=>{if(vt){Mt(this,iu).resolve();return}Mt(this,Ku)??$n(this,Ku,ht.lang),Object.assign(Mt(this,fp),ht.styles),On(this,U0,By).call(this,ht.items),$()},Mt(this,iu).reject)};return $n(this,Yu,Mt(this,pp).getReader()),Mt(Rl,gp).add(this),$(),Mt(this,iu).promise}update({viewport:$,onBefore:ht=null}){var St;const vt=$.scale*(globalThis.devicePixelRatio||1),At=$.rotation;if(At!==Mt(this,dp)&&(ht==null||ht(),$n(this,dp,At),setLayerDimensions(Mt(this,hp),{rotation:At})),vt!==Mt(this,ru)){ht==null||ht(),$n(this,ru,vt);const kt={prevFontSize:null,prevFontFamily:null,div:null,properties:null,ctx:On(St=Rl,xu,s2).call(St,Mt(this,Ku))};for(const Et of Mt(this,Zu))kt.properties=Mt(this,rx).get(Et),kt.div=Et,On(this,U0,N9).call(this,kt)}}cancel(){var ht;const $=new AbortException("TextLayer task cancelled.");(ht=Mt(this,Yu))==null||ht.cancel($).catch(()=>{}),$n(this,Yu,null),Mt(this,iu).reject($)}get textDivs(){return Mt(this,Zu)}get textContentItemsStr(){return Mt(this,ix)}static cleanup(){if(!(Mt(this,gp).size>0)){Mt(this,Ju).clear();for(const{canvas:$}of Mt(this,Qu).values())$.remove();Mt(this,Qu).clear()}}};iu=new WeakMap,Ho=new WeakMap,Qm=new WeakMap,ex=new WeakMap,Ku=new WeakMap,C0=new WeakMap,tx=new WeakMap,nx=new WeakMap,Yu=new WeakMap,hp=new WeakMap,dp=new WeakMap,ru=new WeakMap,fp=new WeakMap,ix=new WeakMap,pp=new WeakMap,Zu=new WeakMap,rx=new WeakMap,sx=new WeakMap,Ju=new WeakMap,Qu=new WeakMap,gp=new WeakMap,U0=new WeakSet,By=function($){var At,St;if(Mt(this,Qm))return;(St=Mt(this,C0)).ctx||(St.ctx=On(At=Rl,xu,s2).call(At,Mt(this,Ku)));const ht=Mt(this,Zu),vt=Mt(this,ix);for(const kt of $){if(ht.length>MAX_TEXT_DIVS_TO_RENDER){warn("Ignoring additional textDivs for performance reasons."),$n(this,Qm,!0);return}if(kt.str===void 0){if(kt.type==="beginMarkedContentProps"||kt.type==="beginMarkedContent"){const Et=Mt(this,Ho);$n(this,Ho,document.createElement("span")),Mt(this,Ho).classList.add("markedContent"),kt.id!==null&&Mt(this,Ho).setAttribute("id",`${kt.id}`),Et.append(Mt(this,Ho))}else kt.type==="endMarkedContent"&&$n(this,Ho,Mt(this,Ho).parentNode);continue}vt.push(kt.str),On(this,U0,Uy).call(this,kt)}},Uy=function($){var Xt;const ht=document.createElement("span"),vt={angle:0,canvasWidth:0,hasText:$.str!=="",hasEOL:$.hasEOL,fontSize:0};Mt(this,Zu).push(ht);const At=Util.transform(Mt(this,sx),$.transform);let St=Math.atan2(At[1],At[0]);const kt=Mt(this,fp)[$.fontName];kt.vertical&&(St+=Math.PI/2);const Et=Mt(this,ex)&&kt.fontSubstitution||kt.fontFamily,Rt=Math.hypot(At[2],At[3]),wt=Rt*On(Xt=Rl,xu,Hy).call(Xt,Et,Mt(this,Ku));let _t,Pt;St===0?(_t=At[4],Pt=At[5]-wt):(_t=At[4]+wt*Math.sin(St),Pt=At[5]-wt*Math.cos(St));const _e="calc(var(--scale-factor)*",bt=ht.style;Mt(this,Ho)===Mt(this,hp)?(bt.left=`${(100*_t/Mt(this,nx)).toFixed(2)}%`,bt.top=`${(100*Pt/Mt(this,tx)).toFixed(2)}%`):(bt.left=`${_e}${_t.toFixed(2)}px)`,bt.top=`${_e}${Pt.toFixed(2)}px)`),bt.fontSize=`${_e}${Rt.toFixed(2)}px)`,bt.fontFamily=Et,vt.fontSize=Rt,ht.setAttribute("role","presentation"),ht.textContent=$.str,ht.dir=$.dir,Mt(this,ex)&&(ht.dataset.fontName=kt.fontSubstitutionLoadedName||$.fontName),St!==0&&(vt.angle=St*(180/Math.PI));let Ft=!1;if($.str.length>1)Ft=!0;else if($.str!==" "&&$.transform[0]!==$.transform[3]){const Kt=Math.abs($.transform[0]),Nt=Math.abs($.transform[3]);Kt!==Nt&&Math.max(Kt,Nt)/Math.min(Kt,Nt)>1.5&&(Ft=!0)}if(Ft&&(vt.canvasWidth=kt.vertical?$.height:$.width),Mt(this,rx).set(ht,vt),Mt(this,C0).div=ht,Mt(this,C0).properties=vt,On(this,U0,N9).call(this,Mt(this,C0)),vt.hasText&&Mt(this,Ho).append(ht),vt.hasEOL){const Kt=document.createElement("br");Kt.setAttribute("role","presentation"),Mt(this,Ho).append(Kt)}},N9=function($){const{div:ht,properties:vt,ctx:At,prevFontSize:St,prevFontFamily:kt}=$,{style:Et}=ht;let Rt="";if(vt.canvasWidth!==0&&vt.hasText){const{fontFamily:wt}=Et,{canvasWidth:_t,fontSize:Pt}=vt;(St!==Pt||kt!==wt)&&(At.font=`${Pt*Mt(this,ru)}px ${wt}`,$.prevFontSize=Pt,$.prevFontFamily=wt);const{width:_e}=At.measureText(ht.textContent);_e>0&&(Rt=`scaleX(${_t*Mt(this,ru)/_e})`)}vt.angle!==0&&(Rt=`rotate(${vt.angle}deg) ${Rt}`),Rt.length>0&&(Et.transform=Rt)},xu=new WeakSet,s2=function($=null){let ht=Mt(this,Qu).get($||($=""));if(!ht){const vt=document.createElement("canvas");vt.className="hiddenCanvasElement",vt.lang=$,document.body.append(vt),ht=vt.getContext("2d",{alpha:!1}),Mt(this,Qu).set($,ht)}return ht},Hy=function($,ht){const vt=Mt(this,Ju).get($);if(vt)return vt;const At=On(this,xu,s2).call(this,ht),St=At.font;At.canvas.width=At.canvas.height=DEFAULT_FONT_SIZE,At.font=`${DEFAULT_FONT_SIZE}px ${$}`;const kt=At.measureText("");let Et=kt.fontBoundingBoxAscent,Rt=Math.abs(kt.fontBoundingBoxDescent);if(Et){const Pt=Et/(Et+Rt);return Mt(this,Ju).set($,Pt),At.canvas.width=At.canvas.height=0,At.font=St,Pt}At.strokeStyle="red",At.clearRect(0,0,DEFAULT_FONT_SIZE,DEFAULT_FONT_SIZE),At.strokeText("g",0,0);let wt=At.getImageData(0,0,DEFAULT_FONT_SIZE,DEFAULT_FONT_SIZE).data;Rt=0;for(let Pt=wt.length-1-3;Pt>=0;Pt-=4)if(wt[Pt]>0){Rt=Math.ceil(Pt/4/DEFAULT_FONT_SIZE);break}At.clearRect(0,0,DEFAULT_FONT_SIZE,DEFAULT_FONT_SIZE),At.strokeText("A",0,DEFAULT_FONT_SIZE),wt=At.getImageData(0,0,DEFAULT_FONT_SIZE,DEFAULT_FONT_SIZE).data,Et=0;for(let Pt=0,_e=wt.length;Pt<_e;Pt+=4)if(wt[Pt]>0){Et=DEFAULT_FONT_SIZE-Math.floor(Pt/4/DEFAULT_FONT_SIZE);break}At.canvas.width=At.canvas.height=0,At.font=St;const _t=Et?Et/(Et+Rt):DEFAULT_FONT_ASCENT;return Mt(this,Ju).set($,_t),_t},Nn(Rl,xu),Nn(Rl,Ju,new Map),Nn(Rl,Qu,new Map),Nn(Rl,gp,new Set);let TextLayer=Rl;function renderTextLayer(){deprecated("`renderTextLayer`, please use `TextLayer` instead.");const{textContentSource:xt,container:$,viewport:ht,...vt}=arguments[0],At=Object.keys(vt);At.length>0&&warn("Ignoring `renderTextLayer` parameters: "+At.join(", "));const St=new TextLayer({textContentSource:xt,container:$,viewport:ht}),{textDivs:kt,textContentItemsStr:Et}=St;return{promise:St.render(),textDivs:kt,textContentItemsStr:Et}}function updateTextLayer(){deprecated("`updateTextLayer`, please use `TextLayer` instead.")}class XfaText{static textContent($){const ht=[],vt={items:ht,styles:Object.create(null)};function At(St){var Rt;if(!St)return;let kt=null;const Et=St.name;if(Et==="#text")kt=St.value;else if(XfaText.shouldBuildText(Et))(Rt=St==null?void 0:St.attributes)!=null&&Rt.textContent?kt=St.attributes.textContent:St.value&&(kt=St.value);else return;if(kt!==null&&ht.push({str:kt}),!!St.children)for(const wt of St.children)At(wt)}return At($),vt}static shouldBuildText($){return!($==="textarea"||$==="input"||$==="option"||$==="select")}}const DEFAULT_RANGE_CHUNK_SIZE=65536,RENDERING_CANCELLED_TIMEOUT=100,DELAYED_CLEANUP_TIMEOUT=5e3,DefaultCanvasFactory=isNodeJS?NodeCanvasFactory:DOMCanvasFactory,DefaultCMapReaderFactory=isNodeJS?NodeCMapReaderFactory:DOMCMapReaderFactory,DefaultFilterFactory=isNodeJS?NodeFilterFactory:DOMFilterFactory,DefaultStandardFontDataFactory=isNodeJS?NodeStandardFontDataFactory:DOMStandardFontDataFactory;function getDocument(xt){if(typeof xt=="string"||xt instanceof URL?xt={url:xt}:(xt instanceof ArrayBuffer||ArrayBuffer.isView(xt))&&(xt={data:xt}),typeof xt!="object")throw new Error("Invalid parameter in getDocument, need parameter object.");if(!xt.url&&!xt.data&&!xt.range)throw new Error("Invalid parameter object: need either .data, .range or .url");const $=new PDFDocumentLoadingTask,{docId:ht}=$,vt=xt.url?getUrlProp(xt.url):null,At=xt.data?getDataProp(xt.data):null,St=xt.httpHeaders||null,kt=xt.withCredentials===!0,Et=xt.password??null,Rt=xt.range instanceof PDFDataRangeTransport?xt.range:null,wt=Number.isInteger(xt.rangeChunkSize)&&xt.rangeChunkSize>0?xt.rangeChunkSize:DEFAULT_RANGE_CHUNK_SIZE;let _t=xt.worker instanceof PDFWorker?xt.worker:null;const Pt=xt.verbosity,_e=typeof xt.docBaseUrl=="string"&&!isDataScheme(xt.docBaseUrl)?xt.docBaseUrl:null,bt=typeof xt.cMapUrl=="string"?xt.cMapUrl:null,Ft=xt.cMapPacked!==!1,Xt=xt.CMapReaderFactory||DefaultCMapReaderFactory,Kt=typeof xt.standardFontDataUrl=="string"?xt.standardFontDataUrl:null,Nt=xt.StandardFontDataFactory||DefaultStandardFontDataFactory,$t=xt.stopAtErrors!==!0,Dt=Number.isInteger(xt.maxImageSize)&&xt.maxImageSize>-1?xt.maxImageSize:-1,jt=xt.isEvalSupported!==!1,Ct=typeof xt.isOffscreenCanvasSupported=="boolean"?xt.isOffscreenCanvasSupported:!isNodeJS,qt=Number.isInteger(xt.canvasMaxAreaInBytes)?xt.canvasMaxAreaInBytes:-1,Bt=typeof xt.disableFontFace=="boolean"?xt.disableFontFace:isNodeJS,Gt=xt.fontExtraProperties===!0,en=xt.enableXfa===!0,dn=xt.ownerDocument||globalThis.document,Qt=xt.disableRange===!0,gn=xt.disableStream===!0,nn=xt.disableAutoFetch===!0,bn=xt.pdfBug===!0,Vt=Rt?Rt.length:xt.length??NaN,Yt=typeof xt.useSystemFonts=="boolean"?xt.useSystemFonts:!isNodeJS&&!Bt,hn=typeof xt.useWorkerFetch=="boolean"?xt.useWorkerFetch:Xt===DOMCMapReaderFactory&&Nt===DOMStandardFontDataFactory&&bt&&Kt&&isValidFetchUrl(bt,document.baseURI)&&isValidFetchUrl(Kt,document.baseURI),Ut=xt.canvasFactory||new DefaultCanvasFactory({ownerDocument:dn}),Ot=xt.filterFactory||new DefaultFilterFactory({docId:ht,ownerDocument:dn}),zt=null;setVerbosityLevel(Pt);const an={canvasFactory:Ut,filterFactory:Ot};if(hn||(an.cMapReaderFactory=new Xt({baseUrl:bt,isCompressed:Ft}),an.standardFontDataFactory=new Nt({baseUrl:Kt})),!_t){const tn={verbosity:Pt,port:GlobalWorkerOptions.workerPort};_t=tn.port?PDFWorker.fromPort(tn):new PDFWorker(tn),$._worker=_t}const Ht={docId:ht,apiVersion:"4.3.136",data:At,password:Et,disableAutoFetch:nn,rangeChunkSize:wt,length:Vt,docBaseUrl:_e,enableXfa:en,evaluatorOptions:{maxImageSize:Dt,disableFontFace:Bt,ignoreErrors:$t,isEvalSupported:jt,isOffscreenCanvasSupported:Ct,canvasMaxAreaInBytes:qt,fontExtraProperties:Gt,useSystemFonts:Yt,cMapUrl:hn?bt:null,standardFontDataUrl:hn?Kt:null}},Wt={disableFontFace:Bt,fontExtraProperties:Gt,ownerDocument:dn,pdfBug:bn,styleElement:zt,loadingParams:{disableAutoFetch:nn,enableXfa:en}};return _t.promise.then(function(){if($.destroyed)throw new Error("Loading aborted");if(_t.destroyed)throw new Error("Worker was destroyed");const tn=_t.messageHandler.sendWithPromise("GetDocRequest",Ht,At?[At.buffer]:null);let ln;return Rt?ln=new PDFDataTransportStream(Rt,{disableRange:Qt,disableStream:gn}):At||(ln=(cn=>isNodeJS?function(){return typeof fetch<"u"&&typeof Response<"u"&&"body"in Response.prototype}()&&isValidFetchUrl(cn.url)?new PDFFetchStream(cn):new PDFNodeStream(cn):isValidFetchUrl(cn.url)?new PDFFetchStream(cn):new PDFNetworkStream(cn))({url:vt,length:Vt,httpHeaders:St,withCredentials:kt,rangeChunkSize:wt,disableRange:Qt,disableStream:gn})),tn.then(on=>{if($.destroyed)throw new Error("Loading aborted");if(_t.destroyed)throw new Error("Worker was destroyed");const cn=new MessageHandler(ht,on,_t.port),sn=new WorkerTransport(cn,$,ln,Wt,an);$._transport=sn,cn.send("Ready",null)})}).catch($._capability.reject),$}function getUrlProp(xt){if(xt instanceof URL)return xt.href;try{return new URL(xt,window.location).href}catch{if(isNodeJS&&typeof xt=="string")return xt}throw new Error("Invalid PDF url data: either string or URL-object is expected in the url property.")}function getDataProp(xt){if(isNodeJS&&typeof Buffer<"u"&&xt instanceof Buffer)throw new Error("Please provide binary data as `Uint8Array`, rather than `Buffer`.");if(xt instanceof Uint8Array&&xt.byteLength===xt.buffer.byteLength)return xt;if(typeof xt=="string")return stringToBytes(xt);if(xt instanceof ArrayBuffer||ArrayBuffer.isView(xt)||typeof xt=="object"&&!isNaN(xt==null?void 0:xt.length))return new Uint8Array(xt);throw new Error("Invalid PDF binary data: either TypedArray, string, or array-like object is expected in the data property.")}function isRefProxy(xt){return typeof xt=="object"&&Number.isInteger(xt==null?void 0:xt.num)&&xt.num>=0&&Number.isInteger(xt==null?void 0:xt.gen)&&xt.gen>=0}var Q2;const _b=class _b{constructor(){this._capability=Promise.withResolvers(),this._transport=null,this._worker=null,this.docId=`d${So(_b,Q2)._++}`,this.destroyed=!1,this.onPassword=null,this.onProgress=null}get promise(){return this._capability.promise}async destroy(){var $,ht,vt;this.destroyed=!0;try{($=this._worker)!=null&&$.port&&(this._worker._pendingDestroy=!0),await((ht=this._transport)==null?void 0:ht.destroy())}catch(At){throw(vt=this._worker)!=null&&vt.port&&delete this._worker._pendingDestroy,At}this._transport=null,this._worker&&(this._worker.destroy(),this._worker=null)}};Q2=new WeakMap,Nn(_b,Q2,0);let PDFDocumentLoadingTask=_b;class PDFDataRangeTransport{constructor($,ht,vt=!1,At=null){this.length=$,this.initialData=ht,this.progressiveDone=vt,this.contentDispositionFilename=At,this._rangeListeners=[],this._progressListeners=[],this._progressiveReadListeners=[],this._progressiveDoneListeners=[],this._readyCapability=Promise.withResolvers()}addRangeListener($){this._rangeListeners.push($)}addProgressListener($){this._progressListeners.push($)}addProgressiveReadListener($){this._progressiveReadListeners.push($)}addProgressiveDoneListener($){this._progressiveDoneListeners.push($)}onDataRange($,ht){for(const vt of this._rangeListeners)vt($,ht)}onDataProgress($,ht){this._readyCapability.promise.then(()=>{for(const vt of this._progressListeners)vt($,ht)})}onDataProgressiveRead($){this._readyCapability.promise.then(()=>{for(const ht of this._progressiveReadListeners)ht($)})}onDataProgressiveDone(){this._readyCapability.promise.then(()=>{for(const $ of this._progressiveDoneListeners)$()})}transportReady(){this._readyCapability.resolve()}requestDataRange($,ht){unreachable("Abstract method PDFDataRangeTransport.requestDataRange")}abort(){}}class PDFDocumentProxy{constructor($,ht){this._pdfInfo=$,this._transport=ht}get annotationStorage(){return this._transport.annotationStorage}get filterFactory(){return this._transport.filterFactory}get numPages(){return this._pdfInfo.numPages}get fingerprints(){return this._pdfInfo.fingerprints}get isPureXfa(){return shadow(this,"isPureXfa",!!this._transport._htmlForXfa)}get allXfaHtml(){return this._transport._htmlForXfa}getPage($){return this._transport.getPage($)}getPageIndex($){return this._transport.getPageIndex($)}getDestinations(){return this._transport.getDestinations()}getDestination($){return this._transport.getDestination($)}getPageLabels(){return this._transport.getPageLabels()}getPageLayout(){return this._transport.getPageLayout()}getPageMode(){return this._transport.getPageMode()}getViewerPreferences(){return this._transport.getViewerPreferences()}getOpenAction(){return this._transport.getOpenAction()}getAttachments(){return this._transport.getAttachments()}getJSActions(){return this._transport.getDocJSActions()}getOutline(){return this._transport.getOutline()}getOptionalContentConfig({intent:$="display"}={}){const{renderingIntent:ht}=this._transport.getRenderingIntent($);return this._transport.getOptionalContentConfig(ht)}getPermissions(){return this._transport.getPermissions()}getMetadata(){return this._transport.getMetadata()}getMarkInfo(){return this._transport.getMarkInfo()}getData(){return this._transport.getData()}saveDocument(){return this._transport.saveDocument()}getDownloadInfo(){return this._transport.downloadInfoCapability.promise}cleanup($=!1){return this._transport.startCleanup($||this.isPureXfa)}destroy(){return this.loadingTask.destroy()}cachedPageNumber($){return this._transport.cachedPageNumber($)}get loadingParams(){return this._transport.loadingParams}get loadingTask(){return this._transport.loadingTask}getFieldObjects(){return this._transport.getFieldObjects()}hasJSActions(){return this._transport.hasJSActions()}getCalculationOrderIds(){return this._transport.getCalculationOrderIds()}}var su,k0,El,$1,a2;class PDFPageProxy{constructor($,ht,vt,At=!1){Nn(this,El);Nn(this,su,null);Nn(this,k0,!1);this._pageIndex=$,this._pageInfo=ht,this._transport=vt,this._stats=At?new StatTimer:null,this._pdfBug=At,this.commonObjs=vt.commonObjs,this.objs=new PDFObjects,this._maybeCleanupAfterRender=!1,this._intentStates=new Map,this.destroyed=!1}get pageNumber(){return this._pageIndex+1}get rotate(){return this._pageInfo.rotate}get ref(){return this._pageInfo.ref}get userUnit(){return this._pageInfo.userUnit}get view(){return this._pageInfo.view}getViewport({scale:$,rotation:ht=this.rotate,offsetX:vt=0,offsetY:At=0,dontFlip:St=!1}={}){return new PageViewport({viewBox:this.view,scale:$,rotation:ht,offsetX:vt,offsetY:At,dontFlip:St})}getAnnotations({intent:$="display"}={}){const{renderingIntent:ht}=this._transport.getRenderingIntent($);return this._transport.getAnnotations(this._pageIndex,ht)}getJSActions(){return this._transport.getPageJSActions(this._pageIndex)}get filterFactory(){return this._transport.filterFactory}get isPureXfa(){return shadow(this,"isPureXfa",!!this._transport._htmlForXfa)}async getXfa(){var $;return(($=this._transport._htmlForXfa)==null?void 0:$.children[this._pageIndex])||null}render({canvasContext:$,viewport:ht,intent:vt="display",annotationMode:At=AnnotationMode.ENABLE,transform:St=null,background:kt=null,optionalContentConfigPromise:Et=null,annotationCanvasMap:Rt=null,pageColors:wt=null,printAnnotationStorage:_t=null}){var Dt,jt;(Dt=this._stats)==null||Dt.time("Overall");const Pt=this._transport.getRenderingIntent(vt,At,_t),{renderingIntent:_e,cacheKey:bt}=Pt;$n(this,k0,!1),On(this,El,a2).call(this),Et||(Et=this._transport.getOptionalContentConfig(_e));let Ft=this._intentStates.get(bt);Ft||(Ft=Object.create(null),this._intentStates.set(bt,Ft)),Ft.streamReaderCancelTimeout&&(clearTimeout(Ft.streamReaderCancelTimeout),Ft.streamReaderCancelTimeout=null);const Xt=!!(_e&RenderingIntentFlag.PRINT);Ft.displayReadyCapability||(Ft.displayReadyCapability=Promise.withResolvers(),Ft.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(jt=this._stats)==null||jt.time("Page Request"),this._pumpOperatorList(Pt));const Kt=Ct=>{var qt;Ft.renderTasks.delete(Nt),(this._maybeCleanupAfterRender||Xt)&&$n(this,k0,!0),On(this,El,$1).call(this,!Xt),Ct?(Nt.capability.reject(Ct),this._abortOperatorList({intentState:Ft,reason:Ct instanceof Error?Ct:new Error(Ct)})):Nt.capability.resolve(),this._stats&&(this._stats.timeEnd("Rendering"),this._stats.timeEnd("Overall"),(qt=globalThis.Stats)!=null&&qt.enabled&&globalThis.Stats.add(this.pageNumber,this._stats))},Nt=new InternalRenderTask({callback:Kt,params:{canvasContext:$,viewport:ht,transform:St,background:kt},objs:this.objs,commonObjs:this.commonObjs,annotationCanvasMap:Rt,operatorList:Ft.operatorList,pageIndex:this._pageIndex,canvasFactory:this._transport.canvasFactory,filterFactory:this._transport.filterFactory,useRequestAnimationFrame:!Xt,pdfBug:this._pdfBug,pageColors:wt});(Ft.renderTasks||(Ft.renderTasks=new Set)).add(Nt);const $t=Nt.task;return Promise.all([Ft.displayReadyCapability.promise,Et]).then(([Ct,qt])=>{var Bt;if(this.destroyed){Kt();return}if((Bt=this._stats)==null||Bt.time("Rendering"),!(qt.renderingIntent&_e))throw new Error("Must use the same `intent`-argument when calling the `PDFPageProxy.render` and `PDFDocumentProxy.getOptionalContentConfig` methods.");Nt.initializeGraphics({transparency:Ct,optionalContentConfig:qt}),Nt.operatorListChanged()}).catch(Kt),$t}getOperatorList({intent:$="display",annotationMode:ht=AnnotationMode.ENABLE,printAnnotationStorage:vt=null}={}){var Rt;function At(){kt.operatorList.lastChunk&&(kt.opListReadCapability.resolve(kt.operatorList),kt.renderTasks.delete(Et))}const St=this._transport.getRenderingIntent($,ht,vt,!0);let kt=this._intentStates.get(St.cacheKey);kt||(kt=Object.create(null),this._intentStates.set(St.cacheKey,kt));let Et;return kt.opListReadCapability||(Et=Object.create(null),Et.operatorListChanged=At,kt.opListReadCapability=Promise.withResolvers(),(kt.renderTasks||(kt.renderTasks=new Set)).add(Et),kt.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(Rt=this._stats)==null||Rt.time("Page Request"),this._pumpOperatorList(St)),kt.opListReadCapability.promise}streamTextContent({includeMarkedContent:$=!1,disableNormalization:ht=!1}={}){return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,includeMarkedContent:$===!0,disableNormalization:ht===!0},{highWaterMark:100,size(At){return At.items.length}})}getTextContent($={}){if(this._transport._htmlForXfa)return this.getXfa().then(vt=>XfaText.textContent(vt));const ht=this.streamTextContent($);return new Promise(function(vt,At){function St(){kt.read().then(function({value:Rt,done:wt}){if(wt){vt(Et);return}Et.lang??(Et.lang=Rt.lang),Object.assign(Et.styles,Rt.styles),Et.items.push(...Rt.items),St()},At)}const kt=ht.getReader(),Et={items:[],styles:Object.create(null),lang:null};St()})}getStructTree(){return this._transport.getStructTree(this._pageIndex)}_destroy(){this.destroyed=!0;const $=[];for(const ht of this._intentStates.values())if(this._abortOperatorList({intentState:ht,reason:new Error("Page was destroyed."),force:!0}),!ht.opListReadCapability)for(const vt of ht.renderTasks)$.push(vt.completed),vt.cancel();return this.objs.clear(),$n(this,k0,!1),On(this,El,a2).call(this),Promise.all($)}cleanup($=!1){$n(this,k0,!0);const ht=On(this,El,$1).call(this,!1);return $&&ht&&this._stats&&(this._stats=new StatTimer),ht}_startRenderPage($,ht){var At,St;const vt=this._intentStates.get(ht);vt&&((At=this._stats)==null||At.timeEnd("Page Request"),(St=vt.displayReadyCapability)==null||St.resolve($))}_renderPageChunk($,ht){for(let vt=0,At=$.length;vt<At;vt++)ht.operatorList.fnArray.push($.fnArray[vt]),ht.operatorList.argsArray.push($.argsArray[vt]);ht.operatorList.lastChunk=$.lastChunk,ht.operatorList.separateAnnots=$.separateAnnots;for(const vt of ht.renderTasks)vt.operatorListChanged();$.lastChunk&&On(this,El,$1).call(this,!0)}_pumpOperatorList({renderingIntent:$,cacheKey:ht,annotationStorageSerializable:vt}){const{map:At,transfer:St}=vt,Et=this._transport.messageHandler.sendWithStream("GetOperatorList",{pageIndex:this._pageIndex,intent:$,cacheKey:ht,annotationStorage:At},St).getReader(),Rt=this._intentStates.get(ht);Rt.streamReader=Et;const wt=()=>{Et.read().then(({value:_t,done:Pt})=>{if(Pt){Rt.streamReader=null;return}this._transport.destroyed||(this._renderPageChunk(_t,Rt),wt())},_t=>{if(Rt.streamReader=null,!this._transport.destroyed){if(Rt.operatorList){Rt.operatorList.lastChunk=!0;for(const Pt of Rt.renderTasks)Pt.operatorListChanged();On(this,El,$1).call(this,!0)}if(Rt.displayReadyCapability)Rt.displayReadyCapability.reject(_t);else if(Rt.opListReadCapability)Rt.opListReadCapability.reject(_t);else throw _t}})};wt()}_abortOperatorList({intentState:$,reason:ht,force:vt=!1}){if($.streamReader){if($.streamReaderCancelTimeout&&(clearTimeout($.streamReaderCancelTimeout),$.streamReaderCancelTimeout=null),!vt){if($.renderTasks.size>0)return;if(ht instanceof RenderingCancelledException){let At=RENDERING_CANCELLED_TIMEOUT;ht.extraDelay>0&&ht.extraDelay<1e3&&(At+=ht.extraDelay),$.streamReaderCancelTimeout=setTimeout(()=>{$.streamReaderCancelTimeout=null,this._abortOperatorList({intentState:$,reason:ht,force:!0})},At);return}}if($.streamReader.cancel(new AbortException(ht.message)).catch(()=>{}),$.streamReader=null,!this._transport.destroyed){for(const[At,St]of this._intentStates)if(St===$){this._intentStates.delete(At);break}this.cleanup()}}}get stats(){return this._stats}}su=new WeakMap,k0=new WeakMap,El=new WeakSet,$1=function($=!1){if(On(this,El,a2).call(this),!Mt(this,k0)||this.destroyed)return!1;if($)return $n(this,su,setTimeout(()=>{$n(this,su,null),On(this,El,$1).call(this,!1)},DELAYED_CLEANUP_TIMEOUT)),!1;for(const{renderTasks:ht,operatorList:vt}of this._intentStates.values())if(ht.size>0||!vt.lastChunk)return!1;return this._intentStates.clear(),this.objs.clear(),$n(this,k0,!1),!0},a2=function(){Mt(this,su)&&(clearTimeout(Mt(this,su)),$n(this,su,null))};var _h,e9;class LoopbackPort{constructor(){Nn(this,_h,new Set);Nn(this,e9,Promise.resolve())}postMessage($,ht){const vt={data:structuredClone($,ht?{transfer:ht}:null)};Mt(this,e9).then(()=>{for(const At of Mt(this,_h))At.call(this,vt)})}addEventListener($,ht){Mt(this,_h).add(ht)}removeEventListener($,ht){Mt(this,_h).delete(ht)}terminate(){Mt(this,_h).clear()}}_h=new WeakMap,e9=new WeakMap;const PDFWorkerUtil={isWorkerDisabled:!1,fakeWorkerId:0};isNodeJS&&(PDFWorkerUtil.isWorkerDisabled=!0,GlobalWorkerOptions.workerSrc||(GlobalWorkerOptions.workerSrc="./pdf.worker.mjs")),PDFWorkerUtil.isSameOrigin=function(xt,$){let ht;try{if(ht=new URL(xt),!ht.origin||ht.origin==="null")return!1}catch{return!1}const vt=new URL($,ht);return ht.origin===vt.origin},PDFWorkerUtil.createCDNWrapper=function(xt){const $=`await import("${xt}");`;return URL.createObjectURL(new Blob([$],{type:"text/javascript"}))};var _d,mp,o2;const Vo=class Vo{constructor({name:$=null,port:ht=null,verbosity:vt=getVerbosityLevel()}={}){var At;if(this.name=$,this.destroyed=!1,this.verbosity=vt,this._readyCapability=Promise.withResolvers(),this._port=null,this._webWorker=null,this._messageHandler=null,ht){if((At=Mt(Vo,_d))!=null&&At.has(ht))throw new Error("Cannot use more than one PDFWorker per port.");(Mt(Vo,_d)||$n(Vo,_d,new WeakMap)).set(ht,this),this._initializeFromPort(ht);return}this._initialize()}get promise(){return isNodeJS?Promise.all([NodePackages.promise,this._readyCapability.promise]):this._readyCapability.promise}get port(){return this._port}get messageHandler(){return this._messageHandler}_initializeFromPort($){this._port=$,this._messageHandler=new MessageHandler("main","worker",$),this._messageHandler.on("ready",function(){}),this._readyCapability.resolve(),this._messageHandler.send("configure",{verbosity:this.verbosity})}_initialize(){if(!PDFWorkerUtil.isWorkerDisabled&&!Mt(Vo,mp,o2)){let{workerSrc:$}=Vo;try{PDFWorkerUtil.isSameOrigin(window.location.href,$)||($=PDFWorkerUtil.createCDNWrapper(new URL($,window.location).href));const ht=new Worker($,{type:"module"}),vt=new MessageHandler("main","worker",ht),At=()=>{ht.removeEventListener("error",St),vt.destroy(),ht.terminate(),this.destroyed?this._readyCapability.reject(new Error("Worker was destroyed")):this._setupFakeWorker()},St=()=>{this._webWorker||At()};ht.addEventListener("error",St),vt.on("test",Et=>{if(ht.removeEventListener("error",St),this.destroyed){At();return}Et?(this._messageHandler=vt,this._port=ht,this._webWorker=ht,this._readyCapability.resolve(),vt.send("configure",{verbosity:this.verbosity})):(this._setupFakeWorker(),vt.destroy(),ht.terminate())}),vt.on("ready",Et=>{if(ht.removeEventListener("error",St),this.destroyed){At();return}try{kt()}catch{this._setupFakeWorker()}});const kt=()=>{const Et=new Uint8Array;vt.send("test",Et,[Et.buffer])};kt();return}catch{info("The worker has been disabled.")}}this._setupFakeWorker()}_setupFakeWorker(){PDFWorkerUtil.isWorkerDisabled||(warn("Setting up fake worker."),PDFWorkerUtil.isWorkerDisabled=!0),Vo._setupFakeWorkerGlobal.then($=>{if(this.destroyed){this._readyCapability.reject(new Error("Worker was destroyed"));return}const ht=new LoopbackPort;this._port=ht;const vt=`fake${PDFWorkerUtil.fakeWorkerId++}`,At=new MessageHandler(vt+"_worker",vt,ht);$.setup(At,ht);const St=new MessageHandler(vt,vt+"_worker",ht);this._messageHandler=St,this._readyCapability.resolve(),St.send("configure",{verbosity:this.verbosity})}).catch($=>{this._readyCapability.reject(new Error(`Setting up fake worker failed: "${$.message}".`))})}destroy(){var $;this.destroyed=!0,this._webWorker&&(this._webWorker.terminate(),this._webWorker=null),($=Mt(Vo,_d))==null||$.delete(this._port),this._port=null,this._messageHandler&&(this._messageHandler.destroy(),this._messageHandler=null)}static fromPort($){var vt;if(!($!=null&&$.port))throw new Error("PDFWorker.fromPort - invalid method signature.");const ht=(vt=Mt(this,_d))==null?void 0:vt.get($.port);if(ht){if(ht._pendingDestroy)throw new Error("PDFWorker.fromPort - the worker is being destroyed.\nPlease remember to await `PDFDocumentLoadingTask.destroy()`-calls.");return ht}return new Vo($)}static get workerSrc(){if(GlobalWorkerOptions.workerSrc)return GlobalWorkerOptions.workerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}static get _setupFakeWorkerGlobal(){return shadow(this,"_setupFakeWorkerGlobal",(async()=>Mt(this,mp,o2)?Mt(this,mp,o2):(await import(this.workerSrc)).WorkerMessageHandler)())}};_d=new WeakMap,mp=new WeakSet,o2=function(){var $;try{return(($=globalThis.pdfjsWorker)==null?void 0:$.WorkerMessageHandler)||null}catch{return null}},Nn(Vo,mp),Nn(Vo,_d);let PDFWorker=Vo;var T0,Ql,xp,bp,_c,_f,em;class WorkerTransport{constructor($,ht,vt,At,St){Nn(this,_f);Nn(this,T0,new Map);Nn(this,Ql,new Map);Nn(this,xp,new Map);Nn(this,bp,new Map);Nn(this,_c,null);this.messageHandler=$,this.loadingTask=ht,this.commonObjs=new PDFObjects,this.fontLoader=new FontLoader({ownerDocument:At.ownerDocument,styleElement:At.styleElement}),this.loadingParams=At.loadingParams,this._params=At,this.canvasFactory=St.canvasFactory,this.filterFactory=St.filterFactory,this.cMapReaderFactory=St.cMapReaderFactory,this.standardFontDataFactory=St.standardFontDataFactory,this.destroyed=!1,this.destroyCapability=null,this._networkStream=vt,this._fullReader=null,this._lastProgress=null,this.downloadInfoCapability=Promise.withResolvers(),this.setupMessageHandler()}get annotationStorage(){return shadow(this,"annotationStorage",new AnnotationStorage)}getRenderingIntent($,ht=AnnotationMode.ENABLE,vt=null,At=!1){let St=RenderingIntentFlag.DISPLAY,kt=SerializableEmpty;switch($){case"any":St=RenderingIntentFlag.ANY;break;case"display":break;case"print":St=RenderingIntentFlag.PRINT;break;default:warn(`getRenderingIntent - invalid intent: ${$}`)}switch(ht){case AnnotationMode.DISABLE:St+=RenderingIntentFlag.ANNOTATIONS_DISABLE;break;case AnnotationMode.ENABLE:break;case AnnotationMode.ENABLE_FORMS:St+=RenderingIntentFlag.ANNOTATIONS_FORMS;break;case AnnotationMode.ENABLE_STORAGE:St+=RenderingIntentFlag.ANNOTATIONS_STORAGE,kt=(St&RenderingIntentFlag.PRINT&&vt instanceof PrintAnnotationStorage?vt:this.annotationStorage).serializable;break;default:warn(`getRenderingIntent - invalid annotationMode: ${ht}`)}return At&&(St+=RenderingIntentFlag.OPLIST),{renderingIntent:St,cacheKey:`${St}_${kt.hash}`,annotationStorageSerializable:kt}}destroy(){var vt;if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=Promise.withResolvers(),(vt=Mt(this,_c))==null||vt.reject(new Error("Worker was destroyed during onPassword callback"));const $=[];for(const At of Mt(this,Ql).values())$.push(At._destroy());Mt(this,Ql).clear(),Mt(this,xp).clear(),Mt(this,bp).clear(),this.hasOwnProperty("annotationStorage")&&this.annotationStorage.resetModified();const ht=this.messageHandler.sendWithPromise("Terminate",null);return $.push(ht),Promise.all($).then(()=>{var At;this.commonObjs.clear(),this.fontLoader.clear(),Mt(this,T0).clear(),this.filterFactory.destroy(),TextLayer.cleanup(),(At=this._networkStream)==null||At.cancelAllRequests(new AbortException("Worker was terminated.")),this.messageHandler&&(this.messageHandler.destroy(),this.messageHandler=null),this.destroyCapability.resolve()},this.destroyCapability.reject),this.destroyCapability.promise}setupMessageHandler(){const{messageHandler:$,loadingTask:ht}=this;$.on("GetReader",(vt,At)=>{assert(this._networkStream,"GetReader - no `IPDFStream` instance available."),this._fullReader=this._networkStream.getFullReader(),this._fullReader.onProgress=St=>{this._lastProgress={loaded:St.loaded,total:St.total}},At.onPull=()=>{this._fullReader.read().then(function({value:St,done:kt}){if(kt){At.close();return}assert(St instanceof ArrayBuffer,"GetReader - expected an ArrayBuffer."),At.enqueue(new Uint8Array(St),1,[St])}).catch(St=>{At.error(St)})},At.onCancel=St=>{this._fullReader.cancel(St),At.ready.catch(kt=>{if(!this.destroyed)throw kt})}}),$.on("ReaderHeadersReady",vt=>{const At=Promise.withResolvers(),St=this._fullReader;return St.headersReady.then(()=>{var kt;(!St.isStreamingSupported||!St.isRangeSupported)&&(this._lastProgress&&((kt=ht.onProgress)==null||kt.call(ht,this._lastProgress)),St.onProgress=Et=>{var Rt;(Rt=ht.onProgress)==null||Rt.call(ht,{loaded:Et.loaded,total:Et.total})}),At.resolve({isStreamingSupported:St.isStreamingSupported,isRangeSupported:St.isRangeSupported,contentLength:St.contentLength})},At.reject),At.promise}),$.on("GetRangeReader",(vt,At)=>{assert(this._networkStream,"GetRangeReader - no `IPDFStream` instance available.");const St=this._networkStream.getRangeReader(vt.begin,vt.end);if(!St){At.close();return}At.onPull=()=>{St.read().then(function({value:kt,done:Et}){if(Et){At.close();return}assert(kt instanceof ArrayBuffer,"GetRangeReader - expected an ArrayBuffer."),At.enqueue(new Uint8Array(kt),1,[kt])}).catch(kt=>{At.error(kt)})},At.onCancel=kt=>{St.cancel(kt),At.ready.catch(Et=>{if(!this.destroyed)throw Et})}}),$.on("GetDoc",({pdfInfo:vt})=>{this._numPages=vt.numPages,this._htmlForXfa=vt.htmlForXfa,delete vt.htmlForXfa,ht._capability.resolve(new PDFDocumentProxy(vt,this))}),$.on("DocException",function(vt){let At;switch(vt.name){case"PasswordException":At=new PasswordException(vt.message,vt.code);break;case"InvalidPDFException":At=new InvalidPDFException(vt.message);break;case"MissingPDFException":At=new MissingPDFException(vt.message);break;case"UnexpectedResponseException":At=new UnexpectedResponseException(vt.message,vt.status);break;case"UnknownErrorException":At=new UnknownErrorException(vt.message,vt.details);break;default:unreachable("DocException - expected a valid Error.")}ht._capability.reject(At)}),$.on("PasswordRequest",vt=>{if($n(this,_c,Promise.withResolvers()),ht.onPassword){const At=St=>{St instanceof Error?Mt(this,_c).reject(St):Mt(this,_c).resolve({password:St})};try{ht.onPassword(At,vt.code)}catch(St){Mt(this,_c).reject(St)}}else Mt(this,_c).reject(new PasswordException(vt.message,vt.code));return Mt(this,_c).promise}),$.on("DataLoaded",vt=>{var At;(At=ht.onProgress)==null||At.call(ht,{loaded:vt.length,total:vt.length}),this.downloadInfoCapability.resolve(vt)}),$.on("StartRenderPage",vt=>{if(this.destroyed)return;Mt(this,Ql).get(vt.pageIndex)._startRenderPage(vt.transparency,vt.cacheKey)}),$.on("commonobj",([vt,At,St])=>{var kt;if(this.destroyed||this.commonObjs.has(vt))return null;switch(At){case"Font":const{disableFontFace:Et,fontExtraProperties:Rt,pdfBug:wt}=this._params;if("error"in St){const bt=St.error;warn(`Error during font loading: ${bt}`),this.commonObjs.resolve(vt,bt);break}const _t=wt&&((kt=globalThis.FontInspector)!=null&&kt.enabled)?(bt,Ft)=>globalThis.FontInspector.fontAdded(bt,Ft):null,Pt=new FontFaceObject(St,{disableFontFace:Et,inspectFont:_t});this.fontLoader.bind(Pt).catch(()=>$.sendWithPromise("FontFallback",{id:vt})).finally(()=>{!Rt&&Pt.data&&(Pt.data=null),this.commonObjs.resolve(vt,Pt)});break;case"CopyLocalImage":const{imageRef:_e}=St;assert(_e,"The imageRef must be defined.");for(const bt of Mt(this,Ql).values())for(const[,Ft]of bt.objs)if((Ft==null?void 0:Ft.ref)===_e)return Ft.dataLen?(this.commonObjs.resolve(vt,structuredClone(Ft)),Ft.dataLen):null;break;case"FontPath":case"Image":case"Pattern":this.commonObjs.resolve(vt,St);break;default:throw new Error(`Got unknown common object type ${At}`)}return null}),$.on("obj",([vt,At,St,kt])=>{var Rt;if(this.destroyed)return;const Et=Mt(this,Ql).get(At);if(!Et.objs.has(vt)){if(Et._intentStates.size===0){(Rt=kt==null?void 0:kt.bitmap)==null||Rt.close();return}switch(St){case"Image":Et.objs.resolve(vt,kt),(kt==null?void 0:kt.dataLen)>MAX_IMAGE_SIZE_TO_CACHE&&(Et._maybeCleanupAfterRender=!0);break;case"Pattern":Et.objs.resolve(vt,kt);break;default:throw new Error(`Got unknown object type ${St}`)}}}),$.on("DocProgress",vt=>{var At;this.destroyed||(At=ht.onProgress)==null||At.call(ht,{loaded:vt.loaded,total:vt.total})}),$.on("FetchBuiltInCMap",vt=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.cMapReaderFactory?this.cMapReaderFactory.fetch(vt):Promise.reject(new Error("CMapReaderFactory not initialized, see the `useWorkerFetch` parameter."))),$.on("FetchStandardFontData",vt=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.standardFontDataFactory?this.standardFontDataFactory.fetch(vt):Promise.reject(new Error("StandardFontDataFactory not initialized, see the `useWorkerFetch` parameter.")))}getData(){return this.messageHandler.sendWithPromise("GetData",null)}saveDocument(){var vt;this.annotationStorage.size<=0&&warn("saveDocument called while `annotationStorage` is empty, please use the getData-method instead.");const{map:$,transfer:ht}=this.annotationStorage.serializable;return this.messageHandler.sendWithPromise("SaveDocument",{isPureXfa:!!this._htmlForXfa,numPages:this._numPages,annotationStorage:$,filename:((vt=this._fullReader)==null?void 0:vt.filename)??null},ht).finally(()=>{this.annotationStorage.resetModified()})}getPage($){if(!Number.isInteger($)||$<=0||$>this._numPages)return Promise.reject(new Error("Invalid page request."));const ht=$-1,vt=Mt(this,xp).get(ht);if(vt)return vt;const At=this.messageHandler.sendWithPromise("GetPage",{pageIndex:ht}).then(St=>{if(this.destroyed)throw new Error("Transport destroyed");St.refStr&&Mt(this,bp).set(St.refStr,$);const kt=new PDFPageProxy(ht,St,this,this._params.pdfBug);return Mt(this,Ql).set(ht,kt),kt});return Mt(this,xp).set(ht,At),At}getPageIndex($){return isRefProxy($)?this.messageHandler.sendWithPromise("GetPageIndex",{num:$.num,gen:$.gen}):Promise.reject(new Error("Invalid pageIndex request."))}getAnnotations($,ht){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:$,intent:ht})}getFieldObjects(){return On(this,_f,em).call(this,"GetFieldObjects")}hasJSActions(){return On(this,_f,em).call(this,"HasJSActions")}getCalculationOrderIds(){return this.messageHandler.sendWithPromise("GetCalculationOrderIds",null)}getDestinations(){return this.messageHandler.sendWithPromise("GetDestinations",null)}getDestination($){return typeof $!="string"?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:$})}getPageLabels(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}getPageLayout(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}getPageMode(){return this.messageHandler.sendWithPromise("GetPageMode",null)}getViewerPreferences(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}getOpenAction(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}getAttachments(){return this.messageHandler.sendWithPromise("GetAttachments",null)}getDocJSActions(){return On(this,_f,em).call(this,"GetDocJSActions")}getPageJSActions($){return this.messageHandler.sendWithPromise("GetPageJSActions",{pageIndex:$})}getStructTree($){return this.messageHandler.sendWithPromise("GetStructTree",{pageIndex:$})}getOutline(){return this.messageHandler.sendWithPromise("GetOutline",null)}getOptionalContentConfig($){return On(this,_f,em).call(this,"GetOptionalContentConfig").then(ht=>new OptionalContentConfig(ht,$))}getPermissions(){return this.messageHandler.sendWithPromise("GetPermissions",null)}getMetadata(){const $="GetMetadata",ht=Mt(this,T0).get($);if(ht)return ht;const vt=this.messageHandler.sendWithPromise($,null).then(At=>{var St,kt;return{info:At[0],metadata:At[1]?new Metadata(At[1]):null,contentDispositionFilename:((St=this._fullReader)==null?void 0:St.filename)??null,contentLength:((kt=this._fullReader)==null?void 0:kt.contentLength)??null}});return Mt(this,T0).set($,vt),vt}getMarkInfo(){return this.messageHandler.sendWithPromise("GetMarkInfo",null)}async startCleanup($=!1){if(!this.destroyed){await this.messageHandler.sendWithPromise("Cleanup",null);for(const ht of Mt(this,Ql).values())if(!ht.cleanup())throw new Error(`startCleanup: Page ${ht.pageNumber} is currently rendering.`);this.commonObjs.clear(),$||this.fontLoader.clear(),Mt(this,T0).clear(),this.filterFactory.destroy(!0),TextLayer.cleanup()}}cachedPageNumber($){if(!isRefProxy($))return null;const ht=$.gen===0?`${$.num}R`:`${$.num}R${$.gen}`;return Mt(this,bp).get(ht)??null}}T0=new WeakMap,Ql=new WeakMap,xp=new WeakMap,bp=new WeakMap,_c=new WeakMap,_f=new WeakSet,em=function($,ht=null){const vt=Mt(this,T0).get($);if(vt)return vt;const At=this.messageHandler.sendWithPromise($,ht);return Mt(this,T0).set($,At),At};const INITIAL_DATA=Symbol("INITIAL_DATA");var Dl,ax,$9;class PDFObjects{constructor(){Nn(this,ax);Nn(this,Dl,Object.create(null))}get($,ht=null){if(ht){const At=On(this,ax,$9).call(this,$);return At.promise.then(()=>ht(At.data)),null}const vt=Mt(this,Dl)[$];if(!vt||vt.data===INITIAL_DATA)throw new Error(`Requesting object that isn't resolved yet ${$}.`);return vt.data}has($){const ht=Mt(this,Dl)[$];return!!ht&&ht.data!==INITIAL_DATA}resolve($,ht=null){const vt=On(this,ax,$9).call(this,$);vt.data=ht,vt.resolve()}clear(){var $;for(const ht in Mt(this,Dl)){const{data:vt}=Mt(this,Dl)[ht];($=vt==null?void 0:vt.bitmap)==null||$.close()}$n(this,Dl,Object.create(null))}*[Symbol.iterator](){for(const $ in Mt(this,Dl)){const{data:ht}=Mt(this,Dl)[$];ht!==INITIAL_DATA&&(yield[$,ht])}}}Dl=new WeakMap,ax=new WeakSet,$9=function($){var ht;return(ht=Mt(this,Dl))[$]||(ht[$]={...Promise.withResolvers(),data:INITIAL_DATA})};var au;class RenderTask{constructor($){Nn(this,au,null);$n(this,au,$),this.onContinue=null}get promise(){return Mt(this,au).capability.promise}cancel($=0){Mt(this,au).cancel(null,$)}get separateAnnots(){const{separateAnnots:$}=Mt(this,au).operatorList;if(!$)return!1;const{annotationCanvasMap:ht}=Mt(this,au);return $.form||$.canvas&&(ht==null?void 0:ht.size)>0}}au=new WeakMap;var e1;const Iu=class Iu{constructor({callback:$,params:ht,objs:vt,commonObjs:At,annotationCanvasMap:St,operatorList:kt,pageIndex:Et,canvasFactory:Rt,filterFactory:wt,useRequestAnimationFrame:_t=!1,pdfBug:Pt=!1,pageColors:_e=null}){this.callback=$,this.params=ht,this.objs=vt,this.commonObjs=At,this.annotationCanvasMap=St,this.operatorListIdx=null,this.operatorList=kt,this._pageIndex=Et,this.canvasFactory=Rt,this.filterFactory=wt,this._pdfBug=Pt,this.pageColors=_e,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=_t===!0&&typeof window<"u",this.cancelled=!1,this.capability=Promise.withResolvers(),this.task=new RenderTask(this),this._cancelBound=this.cancel.bind(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=ht.canvasContext.canvas}get completed(){return this.capability.promise.catch(function(){})}initializeGraphics({transparency:$=!1,optionalContentConfig:ht}){var Et,Rt;if(this.cancelled)return;if(this._canvas){if(Mt(Iu,e1).has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");Mt(Iu,e1).add(this._canvas)}this._pdfBug&&((Et=globalThis.StepperManager)!=null&&Et.enabled)&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());const{canvasContext:vt,viewport:At,transform:St,background:kt}=this.params;this.gfx=new CanvasGraphics(vt,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:ht},this.annotationCanvasMap,this.pageColors),this.gfx.beginDrawing({transform:St,viewport:At,transparency:$,background:kt}),this.operatorListIdx=0,this.graphicsReady=!0,(Rt=this.graphicsReadyCallback)==null||Rt.call(this)}cancel($=null,ht=0){var vt;this.running=!1,this.cancelled=!0,(vt=this.gfx)==null||vt.endDrawing(),Mt(Iu,e1).delete(this._canvas),this.callback($||new RenderingCancelledException(`Rendering cancelled, page ${this._pageIndex+1}`,ht))}operatorListChanged(){var $;if(!this.graphicsReady){this.graphicsReadyCallback||(this.graphicsReadyCallback=this._continueBound);return}($=this.stepper)==null||$.updateOperatorList(this.operatorList),!this.running&&this._continue()}_continue(){this.running=!0,!this.cancelled&&(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}_scheduleNext(){this._useRequestAnimationFrame?window.requestAnimationFrame(()=>{this._nextBound().catch(this._cancelBound)}):Promise.resolve().then(this._nextBound).catch(this._cancelBound)}async _next(){this.cancelled||(this.operatorListIdx=this.gfx.executeOperatorList(this.operatorList,this.operatorListIdx,this._continueBound,this.stepper),this.operatorListIdx===this.operatorList.argsArray.length&&(this.running=!1,this.operatorList.lastChunk&&(this.gfx.endDrawing(),Mt(Iu,e1).delete(this._canvas),this.callback())))}};e1=new WeakMap,Nn(Iu,e1,new WeakSet);let InternalRenderTask=Iu;const version="4.3.136",build="0cec64437";function makeColorComp(xt){return Math.floor(Math.max(0,Math.min(1,xt))*255).toString(16).padStart(2,"0")}function scaleAndClamp(xt){return Math.max(0,Math.min(255,255*xt))}class ColorConverters{static CMYK_G([$,ht,vt,At]){return["G",1-Math.min(1,.3*$+.59*vt+.11*ht+At)]}static G_CMYK([$]){return["CMYK",0,0,0,1-$]}static G_RGB([$]){return["RGB",$,$,$]}static G_rgb([$]){return $=scaleAndClamp($),[$,$,$]}static G_HTML([$]){const ht=makeColorComp($);return`#${ht}${ht}${ht}`}static RGB_G([$,ht,vt]){return["G",.3*$+.59*ht+.11*vt]}static RGB_rgb($){return $.map(scaleAndClamp)}static RGB_HTML($){return`#${$.map(makeColorComp).join("")}`}static T_HTML(){return"#00000000"}static T_rgb(){return[null]}static CMYK_RGB([$,ht,vt,At]){return["RGB",1-Math.min(1,$+At),1-Math.min(1,vt+At),1-Math.min(1,ht+At)]}static CMYK_rgb([$,ht,vt,At]){return[scaleAndClamp(1-Math.min(1,$+At)),scaleAndClamp(1-Math.min(1,vt+At)),scaleAndClamp(1-Math.min(1,ht+At))]}static CMYK_HTML($){const ht=this.CMYK_RGB($).slice(1);return this.RGB_HTML(ht)}static RGB_CMYK([$,ht,vt]){const At=1-$,St=1-ht,kt=1-vt,Et=Math.min(At,St,kt);return["CMYK",At,St,kt,Et]}}class XfaLayer{static setupStorage($,ht,vt,At,St){const kt=At.getValue(ht,{value:null});switch(vt.name){case"textarea":if(kt.value!==null&&($.textContent=kt.value),St==="print")break;$.addEventListener("input",Et=>{At.setValue(ht,{value:Et.target.value})});break;case"input":if(vt.attributes.type==="radio"||vt.attributes.type==="checkbox"){if(kt.value===vt.attributes.xfaOn?$.setAttribute("checked",!0):kt.value===vt.attributes.xfaOff&&$.removeAttribute("checked"),St==="print")break;$.addEventListener("change",Et=>{At.setValue(ht,{value:Et.target.checked?Et.target.getAttribute("xfaOn"):Et.target.getAttribute("xfaOff")})})}else{if(kt.value!==null&&$.setAttribute("value",kt.value),St==="print")break;$.addEventListener("input",Et=>{At.setValue(ht,{value:Et.target.value})})}break;case"select":if(kt.value!==null){$.setAttribute("value",kt.value);for(const Et of vt.children)Et.attributes.value===kt.value?Et.attributes.selected=!0:Et.attributes.hasOwnProperty("selected")&&delete Et.attributes.selected}$.addEventListener("input",Et=>{const Rt=Et.target.options,wt=Rt.selectedIndex===-1?"":Rt[Rt.selectedIndex].value;At.setValue(ht,{value:wt})});break}}static setAttributes({html:$,element:ht,storage:vt=null,intent:At,linkService:St}){const{attributes:kt}=ht,Et=$ instanceof HTMLAnchorElement;kt.type==="radio"&&(kt.name=`${kt.name}-${At}`);for(const[Rt,wt]of Object.entries(kt))if(wt!=null)switch(Rt){case"class":wt.length&&$.setAttribute(Rt,wt.join(" "));break;case"dataId":break;case"id":$.setAttribute("data-element-id",wt);break;case"style":Object.assign($.style,wt);break;case"textContent":$.textContent=wt;break;default:(!Et||Rt!=="href"&&Rt!=="newWindow")&&$.setAttribute(Rt,wt)}Et&&St.addLinkAttributes($,kt.href,kt.newWindow),vt&&kt.dataId&&this.setupStorage($,kt.dataId,ht,vt)}static render($){var Pt,_e;const ht=$.annotationStorage,vt=$.linkService,At=$.xfaHtml,St=$.intent||"display",kt=document.createElement(At.name);At.attributes&&this.setAttributes({html:kt,element:At,intent:St,linkService:vt});const Et=St!=="richText",Rt=$.div;if(Rt.append(kt),$.viewport){const bt=`matrix(${$.viewport.transform.join(",")})`;Rt.style.transform=bt}Et&&Rt.setAttribute("class","xfaLayer xfaFont");const wt=[];if(At.children.length===0){if(At.value){const bt=document.createTextNode(At.value);kt.append(bt),Et&&XfaText.shouldBuildText(At.name)&&wt.push(bt)}return{textDivs:wt}}const _t=[[At,-1,kt]];for(;_t.length>0;){const[bt,Ft,Xt]=_t.at(-1);if(Ft+1===bt.children.length){_t.pop();continue}const Kt=bt.children[++_t.at(-1)[1]];if(Kt===null)continue;const{name:Nt}=Kt;if(Nt==="#text"){const Dt=document.createTextNode(Kt.value);wt.push(Dt),Xt.append(Dt);continue}const $t=(Pt=Kt==null?void 0:Kt.attributes)!=null&&Pt.xmlns?document.createElementNS(Kt.attributes.xmlns,Nt):document.createElement(Nt);if(Xt.append($t),Kt.attributes&&this.setAttributes({html:$t,element:Kt,storage:ht,intent:St,linkService:vt}),((_e=Kt.children)==null?void 0:_e.length)>0)_t.push([Kt,-1,$t]);else if(Kt.value){const Dt=document.createTextNode(Kt.value);Et&&XfaText.shouldBuildText(Nt)&&wt.push(Dt),$t.append(Dt)}}for(const bt of Rt.querySelectorAll(".xfaNonInteractive input, .xfaNonInteractive textarea"))bt.setAttribute("readOnly",!0);return{textDivs:wt}}static update($){const ht=`matrix(${$.viewport.transform.join(",")})`;$.div.style.transform=ht,$.div.hidden=!1}}const DEFAULT_TAB_INDEX=1e3,annotation_layer_DEFAULT_FONT_SIZE=9,GetElementsByNameSet=new WeakSet;function getRectDims(xt){return{width:xt[2]-xt[0],height:xt[3]-xt[1]}}class AnnotationElementFactory{static create($){switch($.data.annotationType){case AnnotationType.LINK:return new LinkAnnotationElement($);case AnnotationType.TEXT:return new TextAnnotationElement($);case AnnotationType.WIDGET:switch($.data.fieldType){case"Tx":return new TextWidgetAnnotationElement($);case"Btn":return $.data.radioButton?new RadioButtonWidgetAnnotationElement($):$.data.checkBox?new CheckboxWidgetAnnotationElement($):new PushButtonWidgetAnnotationElement($);case"Ch":return new ChoiceWidgetAnnotationElement($);case"Sig":return new SignatureWidgetAnnotationElement($)}return new WidgetAnnotationElement($);case AnnotationType.POPUP:return new PopupAnnotationElement($);case AnnotationType.FREETEXT:return new FreeTextAnnotationElement($);case AnnotationType.LINE:return new LineAnnotationElement($);case AnnotationType.SQUARE:return new SquareAnnotationElement($);case AnnotationType.CIRCLE:return new CircleAnnotationElement($);case AnnotationType.POLYLINE:return new PolylineAnnotationElement($);case AnnotationType.CARET:return new CaretAnnotationElement($);case AnnotationType.INK:return new InkAnnotationElement($);case AnnotationType.POLYGON:return new PolygonAnnotationElement($);case AnnotationType.HIGHLIGHT:return new HighlightAnnotationElement($);case AnnotationType.UNDERLINE:return new UnderlineAnnotationElement($);case AnnotationType.SQUIGGLY:return new SquigglyAnnotationElement($);case AnnotationType.STRIKEOUT:return new StrikeOutAnnotationElement($);case AnnotationType.STAMP:return new StampAnnotationElement($);case AnnotationType.FILEATTACHMENT:return new FileAttachmentAnnotationElement($);default:return new AnnotationElement($)}}}var t1,yp,vp,ox,j9;const ny=class ny{constructor($,{isRenderable:ht=!1,ignoreBorder:vt=!1,createQuadrilaterals:At=!1}={}){Nn(this,ox);Nn(this,t1,null);Nn(this,yp,!1);Nn(this,vp,null);this.isRenderable=ht,this.data=$.data,this.layer=$.layer,this.linkService=$.linkService,this.downloadManager=$.downloadManager,this.imageResourcesPath=$.imageResourcesPath,this.renderForms=$.renderForms,this.svgFactory=$.svgFactory,this.annotationStorage=$.annotationStorage,this.enableScripting=$.enableScripting,this.hasJSActions=$.hasJSActions,this._fieldObjects=$.fieldObjects,this.parent=$.parent,ht&&(this.container=this._createContainer(vt)),At&&this._createQuadrilaterals()}static _hasPopupData({titleObj:$,contentsObj:ht,richText:vt}){return!!($!=null&&$.str||ht!=null&&ht.str||vt!=null&&vt.str)}get hasPopupData(){return ny._hasPopupData(this.data)}updateEdited($){var vt;if(!this.container)return;Mt(this,t1)||$n(this,t1,{rect:this.data.rect.slice(0)});const{rect:ht}=$;ht&&On(this,ox,j9).call(this,ht),(vt=Mt(this,vp))==null||vt.popup.updateEdited($)}resetEdited(){var $;Mt(this,t1)&&(On(this,ox,j9).call(this,Mt(this,t1).rect),($=Mt(this,vp))==null||$.popup.resetEdited(),$n(this,t1,null))}_createContainer($){const{data:ht,parent:{page:vt,viewport:At}}=this,St=document.createElement("section");St.setAttribute("data-annotation-id",ht.id),this instanceof WidgetAnnotationElement||(St.tabIndex=DEFAULT_TAB_INDEX);const{style:kt}=St;if(kt.zIndex=this.parent.zIndex++,ht.popupRef&&St.setAttribute("aria-haspopup","dialog"),ht.alternativeText&&(St.title=ht.alternativeText),ht.noRotate&&St.classList.add("norotate"),!ht.rect||this instanceof PopupAnnotationElement){const{rotation:Xt}=ht;return!ht.hasOwnCanvas&&Xt!==0&&this.setRotation(Xt,St),St}const{width:Et,height:Rt}=getRectDims(ht.rect);if(!$&&ht.borderStyle.width>0){kt.borderWidth=`${ht.borderStyle.width}px`;const Xt=ht.borderStyle.horizontalCornerRadius,Kt=ht.borderStyle.verticalCornerRadius;if(Xt>0||Kt>0){const $t=`calc(${Xt}px * var(--scale-factor)) / calc(${Kt}px * var(--scale-factor))`;kt.borderRadius=$t}else if(this instanceof RadioButtonWidgetAnnotationElement){const $t=`calc(${Et}px * var(--scale-factor)) / calc(${Rt}px * var(--scale-factor))`;kt.borderRadius=$t}switch(ht.borderStyle.style){case AnnotationBorderStyleType.SOLID:kt.borderStyle="solid";break;case AnnotationBorderStyleType.DASHED:kt.borderStyle="dashed";break;case AnnotationBorderStyleType.BEVELED:warn("Unimplemented border style: beveled");break;case AnnotationBorderStyleType.INSET:warn("Unimplemented border style: inset");break;case AnnotationBorderStyleType.UNDERLINE:kt.borderBottomStyle="solid";break}const Nt=ht.borderColor||null;Nt?($n(this,yp,!0),kt.borderColor=Util.makeHexColor(Nt[0]|0,Nt[1]|0,Nt[2]|0)):kt.borderWidth=0}const wt=Util.normalizeRect([ht.rect[0],vt.view[3]-ht.rect[1]+vt.view[1],ht.rect[2],vt.view[3]-ht.rect[3]+vt.view[1]]),{pageWidth:_t,pageHeight:Pt,pageX:_e,pageY:bt}=At.rawDims;kt.left=`${100*(wt[0]-_e)/_t}%`,kt.top=`${100*(wt[1]-bt)/Pt}%`;const{rotation:Ft}=ht;return ht.hasOwnCanvas||Ft===0?(kt.width=`${100*Et/_t}%`,kt.height=`${100*Rt/Pt}%`):this.setRotation(Ft,St),St}setRotation($,ht=this.container){if(!this.data.rect)return;const{pageWidth:vt,pageHeight:At}=this.parent.viewport.rawDims,{width:St,height:kt}=getRectDims(this.data.rect);let Et,Rt;$%180===0?(Et=100*St/vt,Rt=100*kt/At):(Et=100*kt/vt,Rt=100*St/At),ht.style.width=`${Et}%`,ht.style.height=`${Rt}%`,ht.setAttribute("data-main-rotation",(360-$)%360)}get _commonActions(){const $=(ht,vt,At)=>{const St=At.detail[ht],kt=St[0],Et=St.slice(1);At.target.style[vt]=ColorConverters[`${kt}_HTML`](Et),this.annotationStorage.setValue(this.data.id,{[vt]:ColorConverters[`${kt}_rgb`](Et)})};return shadow(this,"_commonActions",{display:ht=>{const{display:vt}=ht.detail,At=vt%2===1;this.container.style.visibility=At?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noView:At,noPrint:vt===1||vt===2})},print:ht=>{this.annotationStorage.setValue(this.data.id,{noPrint:!ht.detail.print})},hidden:ht=>{const{hidden:vt}=ht.detail;this.container.style.visibility=vt?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noPrint:vt,noView:vt})},focus:ht=>{setTimeout(()=>ht.target.focus({preventScroll:!1}),0)},userName:ht=>{ht.target.title=ht.detail.userName},readonly:ht=>{ht.target.disabled=ht.detail.readonly},required:ht=>{this._setRequired(ht.target,ht.detail.required)},bgColor:ht=>{$("bgColor","backgroundColor",ht)},fillColor:ht=>{$("fillColor","backgroundColor",ht)},fgColor:ht=>{$("fgColor","color",ht)},textColor:ht=>{$("textColor","color",ht)},borderColor:ht=>{$("borderColor","borderColor",ht)},strokeColor:ht=>{$("strokeColor","borderColor",ht)},rotation:ht=>{const vt=ht.detail.rotation;this.setRotation(vt),this.annotationStorage.setValue(this.data.id,{rotation:vt})}})}_dispatchEventFromSandbox($,ht){const vt=this._commonActions;for(const At of Object.keys(ht.detail)){const St=$[At]||vt[At];St==null||St(ht)}}_setDefaultPropertiesFromJS($){if(!this.enableScripting)return;const ht=this.annotationStorage.getRawValue(this.data.id);if(!ht)return;const vt=this._commonActions;for(const[At,St]of Object.entries(ht)){const kt=vt[At];if(kt){const Et={detail:{[At]:St},target:$};kt(Et),delete ht[At]}}}_createQuadrilaterals(){if(!this.container)return;const{quadPoints:$}=this.data;if(!$)return;const[ht,vt,At,St]=this.data.rect;if($.length===1){const[,{x:Xt,y:Kt},{x:Nt,y:$t}]=$[0];if(At===Xt&&St===Kt&&ht===Nt&&vt===$t)return}const{style:kt}=this.container;let Et;if(Mt(this,yp)){const{borderColor:Xt,borderWidth:Kt}=kt;kt.borderWidth=0,Et=["url('data:image/svg+xml;utf8,",'<svg xmlns="http://www.w3.org/2000/svg"',' preserveAspectRatio="none" viewBox="0 0 1 1">',`<g fill="transparent" stroke="${Xt}" stroke-width="${Kt}">`],this.container.classList.add("hasBorder")}const Rt=At-ht,wt=St-vt,{svgFactory:_t}=this,Pt=_t.createElement("svg");Pt.classList.add("quadrilateralsContainer"),Pt.setAttribute("width",0),Pt.setAttribute("height",0);const _e=_t.createElement("defs");Pt.append(_e);const bt=_t.createElement("clipPath"),Ft=`clippath_${this.data.id}`;bt.setAttribute("id",Ft),bt.setAttribute("clipPathUnits","objectBoundingBox"),_e.append(bt);for(const[,{x:Xt,y:Kt},{x:Nt,y:$t}]of $){const Dt=_t.createElement("rect"),jt=(Nt-ht)/Rt,Ct=(St-Kt)/wt,qt=(Xt-Nt)/Rt,Bt=(Kt-$t)/wt;Dt.setAttribute("x",jt),Dt.setAttribute("y",Ct),Dt.setAttribute("width",qt),Dt.setAttribute("height",Bt),bt.append(Dt),Et==null||Et.push(`<rect vector-effect="non-scaling-stroke" x="${jt}" y="${Ct}" width="${qt}" height="${Bt}"/>`)}Mt(this,yp)&&(Et.push("</g></svg>')"),kt.backgroundImage=Et.join("")),this.container.append(Pt),this.container.style.clipPath=`url(#${Ft})`}_createPopup(){const{container:$,data:ht}=this;$.setAttribute("aria-haspopup","dialog");const vt=$n(this,vp,new PopupAnnotationElement({data:{color:ht.color,titleObj:ht.titleObj,modificationDate:ht.modificationDate,contentsObj:ht.contentsObj,richText:ht.richText,parentRect:ht.rect,borderStyle:0,id:`popup_${ht.id}`,rotation:ht.rotation},parent:this.parent,elements:[this]}));this.parent.div.append(vt.render())}render(){unreachable("Abstract method `AnnotationElement.render` called")}_getElementsByName($,ht=null){const vt=[];if(this._fieldObjects){const At=this._fieldObjects[$];if(At)for(const{page:St,id:kt,exportValues:Et}of At){if(St===-1||kt===ht)continue;const Rt=typeof Et=="string"?Et:null,wt=document.querySelector(`[data-element-id="${kt}"]`);if(wt&&!GetElementsByNameSet.has(wt)){warn(`_getElementsByName - element not allowed: ${kt}`);continue}vt.push({id:kt,exportValue:Rt,domElement:wt})}return vt}for(const At of document.getElementsByName($)){const{exportValue:St}=At,kt=At.getAttribute("data-element-id");kt!==ht&&GetElementsByNameSet.has(At)&&vt.push({id:kt,exportValue:St,domElement:At})}return vt}show(){var $;this.container&&(this.container.hidden=!1),($=this.popup)==null||$.maybeShow()}hide(){var $;this.container&&(this.container.hidden=!0),($=this.popup)==null||$.forceHide()}getElementsToTriggerPopup(){return this.container}addHighlightArea(){const $=this.getElementsToTriggerPopup();if(Array.isArray($))for(const ht of $)ht.classList.add("highlightArea");else $.classList.add("highlightArea")}get _isEditable(){return!1}_editOnDoubleClick(){if(!this._isEditable)return;const{annotationEditorType:$,data:{id:ht}}=this;this.container.addEventListener("dblclick",()=>{var vt;(vt=this.linkService.eventBus)==null||vt.dispatch("switchannotationeditormode",{source:this,mode:$,editId:ht})})}};t1=new WeakMap,yp=new WeakMap,vp=new WeakMap,ox=new WeakSet,j9=function($){const{container:{style:ht},data:{rect:vt,rotation:At},parent:{viewport:{rawDims:{pageWidth:St,pageHeight:kt,pageX:Et,pageY:Rt}}}}=this;vt==null||vt.splice(0,4,...$);const{width:wt,height:_t}=getRectDims($);ht.left=`${100*($[0]-Et)/St}%`,ht.top=`${100*(kt-$[3]+Rt)/kt}%`,At===0?(ht.width=`${100*wt/St}%`,ht.height=`${100*_t/kt}%`):this.setRotation(At)};let AnnotationElement=ny;var Qo,Tu,zy,Xy;class LinkAnnotationElement extends AnnotationElement{constructor(ht,vt=null){super(ht,{isRenderable:!0,ignoreBorder:!!(vt!=null&&vt.ignoreBorder),createQuadrilaterals:!0});Nn(this,Qo);this.isTooltipOnly=ht.data.isTooltipOnly}render(){const{data:ht,linkService:vt}=this,At=document.createElement("a");At.setAttribute("data-element-id",ht.id);let St=!1;return ht.url?(vt.addLinkAttributes(At,ht.url,ht.newWindow),St=!0):ht.action?(this._bindNamedAction(At,ht.action),St=!0):ht.attachment?(On(this,Qo,zy).call(this,At,ht.attachment,ht.attachmentDest),St=!0):ht.setOCGState?(On(this,Qo,Xy).call(this,At,ht.setOCGState),St=!0):ht.dest?(this._bindLink(At,ht.dest),St=!0):(ht.actions&&(ht.actions.Action||ht.actions["Mouse Up"]||ht.actions["Mouse Down"])&&this.enableScripting&&this.hasJSActions&&(this._bindJSAction(At,ht),St=!0),ht.resetForm?(this._bindResetFormAction(At,ht.resetForm),St=!0):this.isTooltipOnly&&!St&&(this._bindLink(At,""),St=!0)),this.container.classList.add("linkAnnotation"),St&&this.container.append(At),this.container}_bindLink(ht,vt){ht.href=this.linkService.getDestinationHash(vt),ht.onclick=()=>(vt&&this.linkService.goToDestination(vt),!1),(vt||vt==="")&&On(this,Qo,Tu).call(this)}_bindNamedAction(ht,vt){ht.href=this.linkService.getAnchorUrl(""),ht.onclick=()=>(this.linkService.executeNamedAction(vt),!1),On(this,Qo,Tu).call(this)}_bindJSAction(ht,vt){ht.href=this.linkService.getAnchorUrl("");const At=new Map([["Action","onclick"],["Mouse Up","onmouseup"],["Mouse Down","onmousedown"]]);for(const St of Object.keys(vt.actions)){const kt=At.get(St);kt&&(ht[kt]=()=>{var Et;return(Et=this.linkService.eventBus)==null||Et.dispatch("dispatcheventinsandbox",{source:this,detail:{id:vt.id,name:St}}),!1})}ht.onclick||(ht.onclick=()=>!1),On(this,Qo,Tu).call(this)}_bindResetFormAction(ht,vt){const At=ht.onclick;if(At||(ht.href=this.linkService.getAnchorUrl("")),On(this,Qo,Tu).call(this),!this._fieldObjects){warn('_bindResetFormAction - "resetForm" action not supported, ensure that the `fieldObjects` parameter is provided.'),At||(ht.onclick=()=>!1);return}ht.onclick=()=>{var Pt;At==null||At();const{fields:St,refs:kt,include:Et}=vt,Rt=[];if(St.length!==0||kt.length!==0){const _e=new Set(kt);for(const bt of St){const Ft=this._fieldObjects[bt]||[];for(const{id:Xt}of Ft)_e.add(Xt)}for(const bt of Object.values(this._fieldObjects))for(const Ft of bt)_e.has(Ft.id)===Et&&Rt.push(Ft)}else for(const _e of Object.values(this._fieldObjects))Rt.push(..._e);const wt=this.annotationStorage,_t=[];for(const _e of Rt){const{id:bt}=_e;switch(_t.push(bt),_e.type){case"text":{const Xt=_e.defaultValue||"";wt.setValue(bt,{value:Xt});break}case"checkbox":case"radiobutton":{const Xt=_e.defaultValue===_e.exportValues;wt.setValue(bt,{value:Xt});break}case"combobox":case"listbox":{const Xt=_e.defaultValue||"";wt.setValue(bt,{value:Xt});break}default:continue}const Ft=document.querySelector(`[data-element-id="${bt}"]`);if(Ft){if(!GetElementsByNameSet.has(Ft)){warn(`_bindResetFormAction - element not allowed: ${bt}`);continue}}else continue;Ft.dispatchEvent(new Event("resetform"))}return this.enableScripting&&((Pt=this.linkService.eventBus)==null||Pt.dispatch("dispatcheventinsandbox",{source:this,detail:{id:"app",ids:_t,name:"ResetForm"}})),!1}}}Qo=new WeakSet,Tu=function(){this.container.setAttribute("data-internal-link","")},zy=function(ht,vt,At=null){ht.href=this.linkService.getAnchorUrl(""),vt.description&&(ht.title=vt.description),ht.onclick=()=>{var St;return(St=this.downloadManager)==null||St.openOrDownloadData(vt.content,vt.filename,At),!1},On(this,Qo,Tu).call(this)},Xy=function(ht,vt){ht.href=this.linkService.getAnchorUrl(""),ht.onclick=()=>(this.linkService.executeSetOCGState(vt),!1),On(this,Qo,Tu).call(this)};class TextAnnotationElement extends AnnotationElement{constructor($){super($,{isRenderable:!0})}render(){this.container.classList.add("textAnnotation");const $=document.createElement("img");return $.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",$.setAttribute("data-l10n-id","pdfjs-text-annotation-type"),$.setAttribute("data-l10n-args",JSON.stringify({type:this.data.name})),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.append($),this.container}}class WidgetAnnotationElement extends AnnotationElement{render(){return this.container}showElementAndHideCanvas($){var ht;this.data.hasOwnCanvas&&(((ht=$.previousSibling)==null?void 0:ht.nodeName)==="CANVAS"&&($.previousSibling.hidden=!0),$.hidden=!1)}_getKeyModifier($){return util_FeatureTest.platform.isMac?$.metaKey:$.ctrlKey}_setEventListener($,ht,vt,At,St){vt.includes("mouse")?$.addEventListener(vt,kt=>{var Et;(Et=this.linkService.eventBus)==null||Et.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:At,value:St(kt),shift:kt.shiftKey,modifier:this._getKeyModifier(kt)}})}):$.addEventListener(vt,kt=>{var Et;if(vt==="blur"){if(!ht.focused||!kt.relatedTarget)return;ht.focused=!1}else if(vt==="focus"){if(ht.focused)return;ht.focused=!0}St&&((Et=this.linkService.eventBus)==null||Et.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:At,value:St(kt)}}))})}_setEventListeners($,ht,vt,At){var St,kt,Et;for(const[Rt,wt]of vt)(wt==="Action"||(St=this.data.actions)!=null&&St[wt])&&((wt==="Focus"||wt==="Blur")&&(ht||(ht={focused:!1})),this._setEventListener($,ht,Rt,wt,At),wt==="Focus"&&!((kt=this.data.actions)!=null&&kt.Blur)?this._setEventListener($,ht,"blur","Blur",null):wt==="Blur"&&!((Et=this.data.actions)!=null&&Et.Focus)&&this._setEventListener($,ht,"focus","Focus",null))}_setBackgroundColor($){const ht=this.data.backgroundColor||null;$.style.backgroundColor=ht===null?"transparent":Util.makeHexColor(ht[0],ht[1],ht[2])}_setTextStyle($){const ht=["left","center","right"],{fontColor:vt}=this.data.defaultAppearanceData,At=this.data.defaultAppearanceData.fontSize||annotation_layer_DEFAULT_FONT_SIZE,St=$.style;let kt;const Et=2,Rt=wt=>Math.round(10*wt)/10;if(this.data.multiLine){const wt=Math.abs(this.data.rect[3]-this.data.rect[1]-Et),_t=Math.round(wt/(LINE_FACTOR*At))||1,Pt=wt/_t;kt=Math.min(At,Rt(Pt/LINE_FACTOR))}else{const wt=Math.abs(this.data.rect[3]-this.data.rect[1]-Et);kt=Math.min(At,Rt(wt/LINE_FACTOR))}St.fontSize=`calc(${kt}px * var(--scale-factor))`,St.color=Util.makeHexColor(vt[0],vt[1],vt[2]),this.data.textAlignment!==null&&(St.textAlign=ht[this.data.textAlignment])}_setRequired($,ht){ht?$.setAttribute("required",!0):$.removeAttribute("required"),$.setAttribute("aria-required",ht)}}class TextWidgetAnnotationElement extends WidgetAnnotationElement{constructor($){const ht=$.renderForms||$.data.hasOwnCanvas||!$.data.hasAppearance&&!!$.data.fieldValue;super($,{isRenderable:ht})}setPropertyOnSiblings($,ht,vt,At){const St=this.annotationStorage;for(const kt of this._getElementsByName($.name,$.id))kt.domElement&&(kt.domElement[ht]=vt),St.setValue(kt.id,{[At]:vt})}render(){var At,St;const $=this.annotationStorage,ht=this.data.id;this.container.classList.add("textWidgetAnnotation");let vt=null;if(this.renderForms){const kt=$.getValue(ht,{value:this.data.fieldValue});let Et=kt.value||"";const Rt=$.getValue(ht,{charLimit:this.data.maxLen}).charLimit;Rt&&Et.length>Rt&&(Et=Et.slice(0,Rt));let wt=kt.formattedValue||((At=this.data.textContent)==null?void 0:At.join(`
`))||null;wt&&this.data.comb&&(wt=wt.replaceAll(/\s+/g,""));const _t={userValue:Et,formattedValue:wt,lastCommittedValue:null,commitKey:1,focused:!1};this.data.multiLine?(vt=document.createElement("textarea"),vt.textContent=wt??Et,this.data.doNotScroll&&(vt.style.overflowY="hidden")):(vt=document.createElement("input"),vt.type="text",vt.setAttribute("value",wt??Et),this.data.doNotScroll&&(vt.style.overflowX="hidden")),this.data.hasOwnCanvas&&(vt.hidden=!0),GetElementsByNameSet.add(vt),vt.setAttribute("data-element-id",ht),vt.disabled=this.data.readOnly,vt.name=this.data.fieldName,vt.tabIndex=DEFAULT_TAB_INDEX,this._setRequired(vt,this.data.required),Rt&&(vt.maxLength=Rt),vt.addEventListener("input",_e=>{$.setValue(ht,{value:_e.target.value}),this.setPropertyOnSiblings(vt,"value",_e.target.value,"value"),_t.formattedValue=null}),vt.addEventListener("resetform",_e=>{const bt=this.data.defaultFieldValue??"";vt.value=_t.userValue=bt,_t.formattedValue=null});let Pt=_e=>{const{formattedValue:bt}=_t;bt!=null&&(_e.target.value=bt),_e.target.scrollLeft=0};if(this.enableScripting&&this.hasJSActions){vt.addEventListener("focus",bt=>{var Xt;if(_t.focused)return;const{target:Ft}=bt;_t.userValue&&(Ft.value=_t.userValue),_t.lastCommittedValue=Ft.value,_t.commitKey=1,(Xt=this.data.actions)!=null&&Xt.Focus||(_t.focused=!0)}),vt.addEventListener("updatefromsandbox",bt=>{this.showElementAndHideCanvas(bt.target);const Ft={value(Xt){_t.userValue=Xt.detail.value??"",$.setValue(ht,{value:_t.userValue.toString()}),Xt.target.value=_t.userValue},formattedValue(Xt){const{formattedValue:Kt}=Xt.detail;_t.formattedValue=Kt,Kt!=null&&Xt.target!==document.activeElement&&(Xt.target.value=Kt),$.setValue(ht,{formattedValue:Kt})},selRange(Xt){Xt.target.setSelectionRange(...Xt.detail.selRange)},charLimit:Xt=>{var Dt;const{charLimit:Kt}=Xt.detail,{target:Nt}=Xt;if(Kt===0){Nt.removeAttribute("maxLength");return}Nt.setAttribute("maxLength",Kt);let $t=_t.userValue;!$t||$t.length<=Kt||($t=$t.slice(0,Kt),Nt.value=_t.userValue=$t,$.setValue(ht,{value:$t}),(Dt=this.linkService.eventBus)==null||Dt.dispatch("dispatcheventinsandbox",{source:this,detail:{id:ht,name:"Keystroke",value:$t,willCommit:!0,commitKey:1,selStart:Nt.selectionStart,selEnd:Nt.selectionEnd}}))}};this._dispatchEventFromSandbox(Ft,bt)}),vt.addEventListener("keydown",bt=>{var Kt;_t.commitKey=1;let Ft=-1;if(bt.key==="Escape"?Ft=0:bt.key==="Enter"&&!this.data.multiLine?Ft=2:bt.key==="Tab"&&(_t.commitKey=3),Ft===-1)return;const{value:Xt}=bt.target;_t.lastCommittedValue!==Xt&&(_t.lastCommittedValue=Xt,_t.userValue=Xt,(Kt=this.linkService.eventBus)==null||Kt.dispatch("dispatcheventinsandbox",{source:this,detail:{id:ht,name:"Keystroke",value:Xt,willCommit:!0,commitKey:Ft,selStart:bt.target.selectionStart,selEnd:bt.target.selectionEnd}}))});const _e=Pt;Pt=null,vt.addEventListener("blur",bt=>{var Xt,Kt;if(!_t.focused||!bt.relatedTarget)return;(Xt=this.data.actions)!=null&&Xt.Blur||(_t.focused=!1);const{value:Ft}=bt.target;_t.userValue=Ft,_t.lastCommittedValue!==Ft&&((Kt=this.linkService.eventBus)==null||Kt.dispatch("dispatcheventinsandbox",{source:this,detail:{id:ht,name:"Keystroke",value:Ft,willCommit:!0,commitKey:_t.commitKey,selStart:bt.target.selectionStart,selEnd:bt.target.selectionEnd}})),_e(bt)}),(St=this.data.actions)!=null&&St.Keystroke&&vt.addEventListener("beforeinput",bt=>{var Ct;_t.lastCommittedValue=null;const{data:Ft,target:Xt}=bt,{value:Kt,selectionStart:Nt,selectionEnd:$t}=Xt;let Dt=Nt,jt=$t;switch(bt.inputType){case"deleteWordBackward":{const qt=Kt.substring(0,Nt).match(/\w*[^\w]*$/);qt&&(Dt-=qt[0].length);break}case"deleteWordForward":{const qt=Kt.substring(Nt).match(/^[^\w]*\w*/);qt&&(jt+=qt[0].length);break}case"deleteContentBackward":Nt===$t&&(Dt-=1);break;case"deleteContentForward":Nt===$t&&(jt+=1);break}bt.preventDefault(),(Ct=this.linkService.eventBus)==null||Ct.dispatch("dispatcheventinsandbox",{source:this,detail:{id:ht,name:"Keystroke",value:Kt,change:Ft||"",willCommit:!1,selStart:Dt,selEnd:jt}})}),this._setEventListeners(vt,_t,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],bt=>bt.target.value)}if(Pt&&vt.addEventListener("blur",Pt),this.data.comb){const bt=(this.data.rect[2]-this.data.rect[0])/Rt;vt.classList.add("comb"),vt.style.letterSpacing=`calc(${bt}px * var(--scale-factor) - 1ch)`}}else vt=document.createElement("div"),vt.textContent=this.data.fieldValue,vt.style.verticalAlign="middle",vt.style.display="table-cell",this.data.hasOwnCanvas&&(vt.hidden=!0);return this._setTextStyle(vt),this._setBackgroundColor(vt),this._setDefaultPropertiesFromJS(vt),this.container.append(vt),this.container}}class SignatureWidgetAnnotationElement extends WidgetAnnotationElement{constructor($){super($,{isRenderable:!!$.data.hasOwnCanvas})}}class CheckboxWidgetAnnotationElement extends WidgetAnnotationElement{constructor($){super($,{isRenderable:$.renderForms})}render(){const $=this.annotationStorage,ht=this.data,vt=ht.id;let At=$.getValue(vt,{value:ht.exportValue===ht.fieldValue}).value;typeof At=="string"&&(At=At!=="Off",$.setValue(vt,{value:At})),this.container.classList.add("buttonWidgetAnnotation","checkBox");const St=document.createElement("input");return GetElementsByNameSet.add(St),St.setAttribute("data-element-id",vt),St.disabled=ht.readOnly,this._setRequired(St,this.data.required),St.type="checkbox",St.name=ht.fieldName,At&&St.setAttribute("checked",!0),St.setAttribute("exportValue",ht.exportValue),St.tabIndex=DEFAULT_TAB_INDEX,St.addEventListener("change",kt=>{const{name:Et,checked:Rt}=kt.target;for(const wt of this._getElementsByName(Et,vt)){const _t=Rt&&wt.exportValue===ht.exportValue;wt.domElement&&(wt.domElement.checked=_t),$.setValue(wt.id,{value:_t})}$.setValue(vt,{value:Rt})}),St.addEventListener("resetform",kt=>{const Et=ht.defaultFieldValue||"Off";kt.target.checked=Et===ht.exportValue}),this.enableScripting&&this.hasJSActions&&(St.addEventListener("updatefromsandbox",kt=>{const Et={value(Rt){Rt.target.checked=Rt.detail.value!=="Off",$.setValue(vt,{value:Rt.target.checked})}};this._dispatchEventFromSandbox(Et,kt)}),this._setEventListeners(St,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],kt=>kt.target.checked)),this._setBackgroundColor(St),this._setDefaultPropertiesFromJS(St),this.container.append(St),this.container}}class RadioButtonWidgetAnnotationElement extends WidgetAnnotationElement{constructor($){super($,{isRenderable:$.renderForms})}render(){this.container.classList.add("buttonWidgetAnnotation","radioButton");const $=this.annotationStorage,ht=this.data,vt=ht.id;let At=$.getValue(vt,{value:ht.fieldValue===ht.buttonValue}).value;if(typeof At=="string"&&(At=At!==ht.buttonValue,$.setValue(vt,{value:At})),At)for(const kt of this._getElementsByName(ht.fieldName,vt))$.setValue(kt.id,{value:!1});const St=document.createElement("input");if(GetElementsByNameSet.add(St),St.setAttribute("data-element-id",vt),St.disabled=ht.readOnly,this._setRequired(St,this.data.required),St.type="radio",St.name=ht.fieldName,At&&St.setAttribute("checked",!0),St.tabIndex=DEFAULT_TAB_INDEX,St.addEventListener("change",kt=>{const{name:Et,checked:Rt}=kt.target;for(const wt of this._getElementsByName(Et,vt))$.setValue(wt.id,{value:!1});$.setValue(vt,{value:Rt})}),St.addEventListener("resetform",kt=>{const Et=ht.defaultFieldValue;kt.target.checked=Et!=null&&Et===ht.buttonValue}),this.enableScripting&&this.hasJSActions){const kt=ht.buttonValue;St.addEventListener("updatefromsandbox",Et=>{const Rt={value:wt=>{const _t=kt===wt.detail.value;for(const Pt of this._getElementsByName(wt.target.name)){const _e=_t&&Pt.id===vt;Pt.domElement&&(Pt.domElement.checked=_e),$.setValue(Pt.id,{value:_e})}}};this._dispatchEventFromSandbox(Rt,Et)}),this._setEventListeners(St,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],Et=>Et.target.checked)}return this._setBackgroundColor(St),this._setDefaultPropertiesFromJS(St),this.container.append(St),this.container}}class PushButtonWidgetAnnotationElement extends LinkAnnotationElement{constructor($){super($,{ignoreBorder:$.data.hasAppearance})}render(){const $=super.render();$.classList.add("buttonWidgetAnnotation","pushButton");const ht=$.lastChild;return this.enableScripting&&this.hasJSActions&&ht&&(this._setDefaultPropertiesFromJS(ht),ht.addEventListener("updatefromsandbox",vt=>{this._dispatchEventFromSandbox({},vt)})),$}}class ChoiceWidgetAnnotationElement extends WidgetAnnotationElement{constructor($){super($,{isRenderable:$.renderForms})}render(){this.container.classList.add("choiceWidgetAnnotation");const $=this.annotationStorage,ht=this.data.id,vt=$.getValue(ht,{value:this.data.fieldValue}),At=document.createElement("select");GetElementsByNameSet.add(At),At.setAttribute("data-element-id",ht),At.disabled=this.data.readOnly,this._setRequired(At,this.data.required),At.name=this.data.fieldName,At.tabIndex=DEFAULT_TAB_INDEX;let St=this.data.combo&&this.data.options.length>0;this.data.combo||(At.size=this.data.options.length,this.data.multiSelect&&(At.multiple=!0)),At.addEventListener("resetform",_t=>{const Pt=this.data.defaultFieldValue;for(const _e of At.options)_e.selected=_e.value===Pt});for(const _t of this.data.options){const Pt=document.createElement("option");Pt.textContent=_t.displayValue,Pt.value=_t.exportValue,vt.value.includes(_t.exportValue)&&(Pt.setAttribute("selected",!0),St=!1),At.append(Pt)}let kt=null;if(St){const _t=document.createElement("option");_t.value=" ",_t.setAttribute("hidden",!0),_t.setAttribute("selected",!0),At.prepend(_t),kt=()=>{_t.remove(),At.removeEventListener("input",kt),kt=null},At.addEventListener("input",kt)}const Et=_t=>{const Pt=_t?"value":"textContent",{options:_e,multiple:bt}=At;return bt?Array.prototype.filter.call(_e,Ft=>Ft.selected).map(Ft=>Ft[Pt]):_e.selectedIndex===-1?null:_e[_e.selectedIndex][Pt]};let Rt=Et(!1);const wt=_t=>{const Pt=_t.target.options;return Array.prototype.map.call(Pt,_e=>({displayValue:_e.textContent,exportValue:_e.value}))};return this.enableScripting&&this.hasJSActions?(At.addEventListener("updatefromsandbox",_t=>{const Pt={value(_e){kt==null||kt();const bt=_e.detail.value,Ft=new Set(Array.isArray(bt)?bt:[bt]);for(const Xt of At.options)Xt.selected=Ft.has(Xt.value);$.setValue(ht,{value:Et(!0)}),Rt=Et(!1)},multipleSelection(_e){At.multiple=!0},remove(_e){const bt=At.options,Ft=_e.detail.remove;bt[Ft].selected=!1,At.remove(Ft),bt.length>0&&Array.prototype.findIndex.call(bt,Kt=>Kt.selected)===-1&&(bt[0].selected=!0),$.setValue(ht,{value:Et(!0),items:wt(_e)}),Rt=Et(!1)},clear(_e){for(;At.length!==0;)At.remove(0);$.setValue(ht,{value:null,items:[]}),Rt=Et(!1)},insert(_e){const{index:bt,displayValue:Ft,exportValue:Xt}=_e.detail.insert,Kt=At.children[bt],Nt=document.createElement("option");Nt.textContent=Ft,Nt.value=Xt,Kt?Kt.before(Nt):At.append(Nt),$.setValue(ht,{value:Et(!0),items:wt(_e)}),Rt=Et(!1)},items(_e){const{items:bt}=_e.detail;for(;At.length!==0;)At.remove(0);for(const Ft of bt){const{displayValue:Xt,exportValue:Kt}=Ft,Nt=document.createElement("option");Nt.textContent=Xt,Nt.value=Kt,At.append(Nt)}At.options.length>0&&(At.options[0].selected=!0),$.setValue(ht,{value:Et(!0),items:wt(_e)}),Rt=Et(!1)},indices(_e){const bt=new Set(_e.detail.indices);for(const Ft of _e.target.options)Ft.selected=bt.has(Ft.index);$.setValue(ht,{value:Et(!0)}),Rt=Et(!1)},editable(_e){_e.target.disabled=!_e.detail.editable}};this._dispatchEventFromSandbox(Pt,_t)}),At.addEventListener("input",_t=>{var bt;const Pt=Et(!0),_e=Et(!1);$.setValue(ht,{value:Pt}),_t.preventDefault(),(bt=this.linkService.eventBus)==null||bt.dispatch("dispatcheventinsandbox",{source:this,detail:{id:ht,name:"Keystroke",value:Rt,change:_e,changeEx:Pt,willCommit:!1,commitKey:1,keyDown:!1}})}),this._setEventListeners(At,null,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"],["input","Action"],["input","Validate"]],_t=>_t.target.value)):At.addEventListener("input",function(_t){$.setValue(ht,{value:Et(!0)})}),this.data.combo&&this._setTextStyle(At),this._setBackgroundColor(At),this._setDefaultPropertiesFromJS(At),this.container.append(At),this.container}}class PopupAnnotationElement extends AnnotationElement{constructor($){const{data:ht,elements:vt}=$;super($,{isRenderable:AnnotationElement._hasPopupData(ht)}),this.elements=vt,this.popup=null}render(){this.container.classList.add("popupAnnotation");const $=this.popup=new PopupElement({container:this.container,color:this.data.color,titleObj:this.data.titleObj,modificationDate:this.data.modificationDate,contentsObj:this.data.contentsObj,richText:this.data.richText,rect:this.data.rect,parentRect:this.data.parentRect||null,parent:this.parent,elements:this.elements,open:this.data.open}),ht=[];for(const vt of this.elements)vt.popup=$,ht.push(vt.data.id),vt.addHighlightArea();return this.container.setAttribute("aria-controls",ht.map(vt=>`${AnnotationPrefix}${vt}`).join(",")),this.container}}var wp,t9,n9,Ap,n1,ao,_0,i1,lx,cx,Sp,R0,Ll,F0,ux,P0,hx,r1,s1,xa,l2,B9,Wy,Vy,Gy,qy,c2,u2,U9;class PopupElement{constructor({container:$,color:ht,elements:vt,titleObj:At,modificationDate:St,contentsObj:kt,richText:Et,parent:Rt,rect:wt,parentRect:_t,open:Pt}){Nn(this,xa);Nn(this,wp,On(this,xa,Gy).bind(this));Nn(this,t9,On(this,xa,U9).bind(this));Nn(this,n9,On(this,xa,u2).bind(this));Nn(this,Ap,On(this,xa,c2).bind(this));Nn(this,n1,null);Nn(this,ao,null);Nn(this,_0,null);Nn(this,i1,null);Nn(this,lx,null);Nn(this,cx,null);Nn(this,Sp,null);Nn(this,R0,!1);Nn(this,Ll,null);Nn(this,F0,null);Nn(this,ux,null);Nn(this,P0,null);Nn(this,hx,null);Nn(this,r1,null);Nn(this,s1,!1);var _e;$n(this,ao,$),$n(this,hx,At),$n(this,_0,kt),$n(this,P0,Et),$n(this,cx,Rt),$n(this,n1,ht),$n(this,ux,wt),$n(this,Sp,_t),$n(this,lx,vt),$n(this,i1,PDFDateString.toDateObject(St)),this.trigger=vt.flatMap(bt=>bt.getElementsToTriggerPopup());for(const bt of this.trigger)bt.addEventListener("click",Mt(this,Ap)),bt.addEventListener("mouseenter",Mt(this,n9)),bt.addEventListener("mouseleave",Mt(this,t9)),bt.classList.add("popupTriggerArea");for(const bt of vt)(_e=bt.container)==null||_e.addEventListener("keydown",Mt(this,wp));Mt(this,ao).hidden=!0,Pt&&On(this,xa,c2).call(this)}render(){if(Mt(this,Ll))return;const $=$n(this,Ll,document.createElement("div"));if($.className="popup",Mt(this,n1)){const St=$.style.outlineColor=Util.makeHexColor(...Mt(this,n1));CSS.supports("background-color","color-mix(in srgb, red 30%, white)")?$.style.backgroundColor=`color-mix(in srgb, ${St} 30%, white)`:$.style.backgroundColor=Util.makeHexColor(...Mt(this,n1).map(Et=>Math.floor(.7*(255-Et)+Et)))}const ht=document.createElement("span");ht.className="header";const vt=document.createElement("h1");if(ht.append(vt),{dir:vt.dir,str:vt.textContent}=Mt(this,hx),$.append(ht),Mt(this,i1)){const St=document.createElement("span");St.classList.add("popupDate"),St.setAttribute("data-l10n-id","pdfjs-annotation-date-string"),St.setAttribute("data-l10n-args",JSON.stringify({date:Mt(this,i1).toLocaleDateString(),time:Mt(this,i1).toLocaleTimeString()})),ht.append(St)}const At=Mt(this,xa,l2);if(At)XfaLayer.render({xfaHtml:At,intent:"richText",div:$}),$.lastChild.classList.add("richText","popupContent");else{const St=this._formatContents(Mt(this,_0));$.append(St)}Mt(this,ao).append($)}_formatContents({str:$,dir:ht}){const vt=document.createElement("p");vt.classList.add("popupContent"),vt.dir=ht;const At=$.split(/(?:\r\n?|\n)/);for(let St=0,kt=At.length;St<kt;++St){const Et=At[St];vt.append(document.createTextNode(Et)),St<kt-1&&vt.append(document.createElement("br"))}return vt}updateEdited({rect:$,popupContent:ht}){var vt;Mt(this,r1)||$n(this,r1,{contentsObj:Mt(this,_0),richText:Mt(this,P0)}),$&&$n(this,F0,null),ht&&($n(this,P0,On(this,xa,Vy).call(this,ht)),$n(this,_0,null)),(vt=Mt(this,Ll))==null||vt.remove(),$n(this,Ll,null)}resetEdited(){var $;Mt(this,r1)&&({contentsObj:So(this,_0)._,richText:So(this,P0)._}=Mt(this,r1),$n(this,r1,null),($=Mt(this,Ll))==null||$.remove(),$n(this,Ll,null),$n(this,F0,null))}forceHide(){$n(this,s1,this.isVisible),Mt(this,s1)&&(Mt(this,ao).hidden=!0)}maybeShow(){Mt(this,s1)&&(Mt(this,Ll)||On(this,xa,u2).call(this),$n(this,s1,!1),Mt(this,ao).hidden=!1)}get isVisible(){return Mt(this,ao).hidden===!1}}wp=new WeakMap,t9=new WeakMap,n9=new WeakMap,Ap=new WeakMap,n1=new WeakMap,ao=new WeakMap,_0=new WeakMap,i1=new WeakMap,lx=new WeakMap,cx=new WeakMap,Sp=new WeakMap,R0=new WeakMap,Ll=new WeakMap,F0=new WeakMap,ux=new WeakMap,P0=new WeakMap,hx=new WeakMap,r1=new WeakMap,s1=new WeakMap,xa=new WeakSet,l2=function(){const $=Mt(this,P0),ht=Mt(this,_0);return $!=null&&$.str&&(!(ht!=null&&ht.str)||ht.str===$.str)&&Mt(this,P0).html||null},B9=function(){var $,ht,vt;return((vt=(ht=($=Mt(this,xa,l2))==null?void 0:$.attributes)==null?void 0:ht.style)==null?void 0:vt.fontSize)||0},Wy=function(){var $,ht,vt;return((vt=(ht=($=Mt(this,xa,l2))==null?void 0:$.attributes)==null?void 0:ht.style)==null?void 0:vt.color)||null},Vy=function($){const ht=[],vt={str:$,html:{name:"div",attributes:{dir:"auto"},children:[{name:"p",children:ht}]}},At={style:{color:Mt(this,xa,Wy),fontSize:Mt(this,xa,B9)?`calc(${Mt(this,xa,B9)}px * var(--scale-factor))`:""}};for(const St of $.split(`
`))ht.push({name:"span",value:St,attributes:At});return vt},Gy=function($){$.altKey||$.shiftKey||$.ctrlKey||$.metaKey||($.key==="Enter"||$.key==="Escape"&&Mt(this,R0))&&On(this,xa,c2).call(this)},qy=function(){if(Mt(this,F0)!==null)return;const{page:{view:$},viewport:{rawDims:{pageWidth:ht,pageHeight:vt,pageX:At,pageY:St}}}=Mt(this,cx);let kt=!!Mt(this,Sp),Et=kt?Mt(this,Sp):Mt(this,ux);for(const Ft of Mt(this,lx))if(!Et||Util.intersect(Ft.data.rect,Et)!==null){Et=Ft.data.rect,kt=!0;break}const Rt=Util.normalizeRect([Et[0],$[3]-Et[1]+$[1],Et[2],$[3]-Et[3]+$[1]]),_t=kt?Et[2]-Et[0]+5:0,Pt=Rt[0]+_t,_e=Rt[1];$n(this,F0,[100*(Pt-At)/ht,100*(_e-St)/vt]);const{style:bt}=Mt(this,ao);bt.left=`${Mt(this,F0)[0]}%`,bt.top=`${Mt(this,F0)[1]}%`},c2=function(){$n(this,R0,!Mt(this,R0)),Mt(this,R0)?(On(this,xa,u2).call(this),Mt(this,ao).addEventListener("click",Mt(this,Ap)),Mt(this,ao).addEventListener("keydown",Mt(this,wp))):(On(this,xa,U9).call(this),Mt(this,ao).removeEventListener("click",Mt(this,Ap)),Mt(this,ao).removeEventListener("keydown",Mt(this,wp)))},u2=function(){Mt(this,Ll)||this.render(),this.isVisible?Mt(this,R0)&&Mt(this,ao).classList.add("focused"):(On(this,xa,qy).call(this),Mt(this,ao).hidden=!1,Mt(this,ao).style.zIndex=parseInt(Mt(this,ao).style.zIndex)+1e3)},U9=function(){Mt(this,ao).classList.remove("focused"),!(Mt(this,R0)||!this.isVisible)&&(Mt(this,ao).hidden=!0,Mt(this,ao).style.zIndex=parseInt(Mt(this,ao).style.zIndex)-1e3)};class FreeTextAnnotationElement extends AnnotationElement{constructor($){super($,{isRenderable:!0,ignoreBorder:!0}),this.textContent=$.data.textContent,this.textPosition=$.data.textPosition,this.annotationEditorType=AnnotationEditorType.FREETEXT}render(){if(this.container.classList.add("freeTextAnnotation"),this.textContent){const $=document.createElement("div");$.classList.add("annotationTextContent"),$.setAttribute("role","comment");for(const ht of this.textContent){const vt=document.createElement("span");vt.textContent=ht,$.append(vt)}this.container.append($)}return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}get _isEditable(){return this.data.hasOwnCanvas}}var dx;class LineAnnotationElement extends AnnotationElement{constructor(ht){super(ht,{isRenderable:!0,ignoreBorder:!0});Nn(this,dx,null)}render(){this.container.classList.add("lineAnnotation");const ht=this.data,{width:vt,height:At}=getRectDims(ht.rect),St=this.svgFactory.create(vt,At,!0),kt=$n(this,dx,this.svgFactory.createElement("svg:line"));return kt.setAttribute("x1",ht.rect[2]-ht.lineCoordinates[0]),kt.setAttribute("y1",ht.rect[3]-ht.lineCoordinates[1]),kt.setAttribute("x2",ht.rect[2]-ht.lineCoordinates[2]),kt.setAttribute("y2",ht.rect[3]-ht.lineCoordinates[3]),kt.setAttribute("stroke-width",ht.borderStyle.width||1),kt.setAttribute("stroke","transparent"),kt.setAttribute("fill","transparent"),St.append(kt),this.container.append(St),!ht.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return Mt(this,dx)}addHighlightArea(){this.container.classList.add("highlightArea")}}dx=new WeakMap;var fx;class SquareAnnotationElement extends AnnotationElement{constructor(ht){super(ht,{isRenderable:!0,ignoreBorder:!0});Nn(this,fx,null)}render(){this.container.classList.add("squareAnnotation");const ht=this.data,{width:vt,height:At}=getRectDims(ht.rect),St=this.svgFactory.create(vt,At,!0),kt=ht.borderStyle.width,Et=$n(this,fx,this.svgFactory.createElement("svg:rect"));return Et.setAttribute("x",kt/2),Et.setAttribute("y",kt/2),Et.setAttribute("width",vt-kt),Et.setAttribute("height",At-kt),Et.setAttribute("stroke-width",kt||1),Et.setAttribute("stroke","transparent"),Et.setAttribute("fill","transparent"),St.append(Et),this.container.append(St),!ht.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return Mt(this,fx)}addHighlightArea(){this.container.classList.add("highlightArea")}}fx=new WeakMap;var px;class CircleAnnotationElement extends AnnotationElement{constructor(ht){super(ht,{isRenderable:!0,ignoreBorder:!0});Nn(this,px,null)}render(){this.container.classList.add("circleAnnotation");const ht=this.data,{width:vt,height:At}=getRectDims(ht.rect),St=this.svgFactory.create(vt,At,!0),kt=ht.borderStyle.width,Et=$n(this,px,this.svgFactory.createElement("svg:ellipse"));return Et.setAttribute("cx",vt/2),Et.setAttribute("cy",At/2),Et.setAttribute("rx",vt/2-kt/2),Et.setAttribute("ry",At/2-kt/2),Et.setAttribute("stroke-width",kt||1),Et.setAttribute("stroke","transparent"),Et.setAttribute("fill","transparent"),St.append(Et),this.container.append(St),!ht.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return Mt(this,px)}addHighlightArea(){this.container.classList.add("highlightArea")}}px=new WeakMap;var gx;class PolylineAnnotationElement extends AnnotationElement{constructor(ht){super(ht,{isRenderable:!0,ignoreBorder:!0});Nn(this,gx,null);this.containerClassName="polylineAnnotation",this.svgElementName="svg:polyline"}render(){this.container.classList.add(this.containerClassName);const ht=this.data,{width:vt,height:At}=getRectDims(ht.rect),St=this.svgFactory.create(vt,At,!0);let kt=[];for(const Rt of ht.vertices){const wt=Rt.x-ht.rect[0],_t=ht.rect[3]-Rt.y;kt.push(wt+","+_t)}kt=kt.join(" ");const Et=$n(this,gx,this.svgFactory.createElement(this.svgElementName));return Et.setAttribute("points",kt),Et.setAttribute("stroke-width",ht.borderStyle.width||1),Et.setAttribute("stroke","transparent"),Et.setAttribute("fill","transparent"),St.append(Et),this.container.append(St),!ht.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return Mt(this,gx)}addHighlightArea(){this.container.classList.add("highlightArea")}}gx=new WeakMap;class PolygonAnnotationElement extends PolylineAnnotationElement{constructor($){super($),this.containerClassName="polygonAnnotation",this.svgElementName="svg:polygon"}}class CaretAnnotationElement extends AnnotationElement{constructor($){super($,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("caretAnnotation"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container}}var mx;class InkAnnotationElement extends AnnotationElement{constructor(ht){super(ht,{isRenderable:!0,ignoreBorder:!0});Nn(this,mx,[]);this.containerClassName="inkAnnotation",this.svgElementName="svg:polyline",this.annotationEditorType=AnnotationEditorType.INK}render(){this.container.classList.add(this.containerClassName);const ht=this.data,{width:vt,height:At}=getRectDims(ht.rect),St=this.svgFactory.create(vt,At,!0);for(const kt of ht.inkLists){let Et=[];for(const wt of kt){const _t=wt.x-ht.rect[0],Pt=ht.rect[3]-wt.y;Et.push(`${_t},${Pt}`)}Et=Et.join(" ");const Rt=this.svgFactory.createElement(this.svgElementName);Mt(this,mx).push(Rt),Rt.setAttribute("points",Et),Rt.setAttribute("stroke-width",ht.borderStyle.width||1),Rt.setAttribute("stroke","transparent"),Rt.setAttribute("fill","transparent"),!ht.popupRef&&this.hasPopupData&&this._createPopup(),St.append(Rt)}return this.container.append(St),this.container}getElementsToTriggerPopup(){return Mt(this,mx)}addHighlightArea(){this.container.classList.add("highlightArea")}}mx=new WeakMap;class HighlightAnnotationElement extends AnnotationElement{constructor($){super($,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("highlightAnnotation"),this.container}}class UnderlineAnnotationElement extends AnnotationElement{constructor($){super($,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("underlineAnnotation"),this.container}}class SquigglyAnnotationElement extends AnnotationElement{constructor($){super($,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("squigglyAnnotation"),this.container}}class StrikeOutAnnotationElement extends AnnotationElement{constructor($){super($,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("strikeoutAnnotation"),this.container}}class StampAnnotationElement extends AnnotationElement{constructor($){super($,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("stampAnnotation"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container}}var xx,bx,H9;class FileAttachmentAnnotationElement extends AnnotationElement{constructor(ht){var At;super(ht,{isRenderable:!0});Nn(this,bx);Nn(this,xx,null);const{file:vt}=this.data;this.filename=vt.filename,this.content=vt.content,(At=this.linkService.eventBus)==null||At.dispatch("fileattachmentannotation",{source:this,...vt})}render(){this.container.classList.add("fileAttachmentAnnotation");const{container:ht,data:vt}=this;let At;vt.hasAppearance||vt.fillAlpha===0?At=document.createElement("div"):(At=document.createElement("img"),At.src=`${this.imageResourcesPath}annotation-${/paperclip/i.test(vt.name)?"paperclip":"pushpin"}.svg`,vt.fillAlpha&&vt.fillAlpha<1&&(At.style=`filter: opacity(${Math.round(vt.fillAlpha*100)}%);`)),At.addEventListener("dblclick",On(this,bx,H9).bind(this)),$n(this,xx,At);const{isMac:St}=util_FeatureTest.platform;return ht.addEventListener("keydown",kt=>{kt.key==="Enter"&&(St?kt.metaKey:kt.ctrlKey)&&On(this,bx,H9).call(this)}),!vt.popupRef&&this.hasPopupData?this._createPopup():At.classList.add("popupTriggerArea"),ht.append(At),ht}getElementsToTriggerPopup(){return Mt(this,xx)}addHighlightArea(){this.container.classList.add("highlightArea")}}xx=new WeakMap,bx=new WeakSet,H9=function(){var ht;(ht=this.downloadManager)==null||ht.openOrDownloadData(this.content,this.filename)};var yx,a1,Ep,C1,Ky,z9;class AnnotationLayer{constructor({div:$,accessibilityManager:ht,annotationCanvasMap:vt,annotationEditorUIManager:At,page:St,viewport:kt}){Nn(this,C1);Nn(this,yx,null);Nn(this,a1,null);Nn(this,Ep,new Map);this.div=$,$n(this,yx,ht),$n(this,a1,vt),this.page=St,this.viewport=kt,this.zIndex=0,this._annotationEditorUIManager=At}async render($){var kt;const{annotations:ht}=$,vt=this.div;setLayerDimensions(vt,this.viewport);const At=new Map,St={data:null,layer:vt,linkService:$.linkService,downloadManager:$.downloadManager,imageResourcesPath:$.imageResourcesPath||"",renderForms:$.renderForms!==!1,svgFactory:new DOMSVGFactory,annotationStorage:$.annotationStorage||new AnnotationStorage,enableScripting:$.enableScripting===!0,hasJSActions:$.hasJSActions,fieldObjects:$.fieldObjects,parent:this,elements:null};for(const Et of ht){if(Et.noHTML)continue;const Rt=Et.annotationType===AnnotationType.POPUP;if(Rt){const Pt=At.get(Et.id);if(!Pt)continue;St.elements=Pt}else{const{width:Pt,height:_e}=getRectDims(Et.rect);if(Pt<=0||_e<=0)continue}St.data=Et;const wt=AnnotationElementFactory.create(St);if(!wt.isRenderable)continue;if(!Rt&&Et.popupRef){const Pt=At.get(Et.popupRef);Pt?Pt.push(wt):At.set(Et.popupRef,[wt])}const _t=wt.render();Et.hidden&&(_t.style.visibility="hidden"),On(this,C1,Ky).call(this,_t,Et.id),wt.annotationEditorType>0&&(Mt(this,Ep).set(wt.data.id,wt),(kt=this._annotationEditorUIManager)==null||kt.renderAnnotationElement(wt))}On(this,C1,z9).call(this)}update({viewport:$}){const ht=this.div;this.viewport=$,setLayerDimensions(ht,{rotation:$.rotation}),On(this,C1,z9).call(this),ht.hidden=!1}getEditableAnnotations(){return Array.from(Mt(this,Ep).values())}getEditableAnnotation($){return Mt(this,Ep).get($)}}yx=new WeakMap,a1=new WeakMap,Ep=new WeakMap,C1=new WeakSet,Ky=function($,ht){var At;const vt=$.firstChild||$;vt.id=`${AnnotationPrefix}${ht}`,this.div.append($),(At=Mt(this,yx))==null||At.moveElementInDOM(this.div,$,vt,!1)},z9=function(){if(!Mt(this,a1))return;const $=this.div;for(const[ht,vt]of Mt(this,a1)){const At=$.querySelector(`[data-annotation-id="${ht}"]`);if(!At)continue;vt.className="annotationContent";const{firstChild:St}=At;St?St.nodeName==="CANVAS"?St.replaceWith(vt):St.classList.contains("annotationContent")?St.after(vt):St.before(vt):At.append(vt)}Mt(this,a1).clear()};const EOL_PATTERN=/\r\n?|\n/g;var vx,wx,Ax,Sx,Ex,Nl,qo,Cx,Ko,Cp,uo,Yy,Zy,Jy,h2,B0,d2,f2,Qy,X9,e8;const to=class to extends AnnotationEditor{constructor(ht){super({...ht,name:"freeTextEditor"});Nn(this,uo);Nn(this,vx,this.editorDivBlur.bind(this));Nn(this,wx,this.editorDivFocus.bind(this));Nn(this,Ax,this.editorDivInput.bind(this));Nn(this,Sx,this.editorDivKeydown.bind(this));Nn(this,Ex,this.editorDivPaste.bind(this));Nn(this,Nl);Nn(this,qo,"");Nn(this,Cx,`${this.id}-editor`);Nn(this,Ko);Nn(this,Cp,null);$n(this,Nl,ht.color||to._defaultColor||AnnotationEditor._defaultLineColor),$n(this,Ko,ht.fontSize||to._defaultFontSize)}static get _keyboardManager(){const ht=to.prototype,vt=kt=>kt.isEmpty(),At=AnnotationEditorUIManager.TRANSLATE_SMALL,St=AnnotationEditorUIManager.TRANSLATE_BIG;return shadow(this,"_keyboardManager",new KeyboardManager([[["ctrl+s","mac+meta+s","ctrl+p","mac+meta+p"],ht.commitOrRemove,{bubbles:!0}],[["ctrl+Enter","mac+meta+Enter","Escape","mac+Escape"],ht.commitOrRemove],[["ArrowLeft","mac+ArrowLeft"],ht._translateEmpty,{args:[-At,0],checker:vt}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],ht._translateEmpty,{args:[-St,0],checker:vt}],[["ArrowRight","mac+ArrowRight"],ht._translateEmpty,{args:[At,0],checker:vt}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],ht._translateEmpty,{args:[St,0],checker:vt}],[["ArrowUp","mac+ArrowUp"],ht._translateEmpty,{args:[0,-At],checker:vt}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],ht._translateEmpty,{args:[0,-St],checker:vt}],[["ArrowDown","mac+ArrowDown"],ht._translateEmpty,{args:[0,At],checker:vt}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],ht._translateEmpty,{args:[0,St],checker:vt}]]))}static initialize(ht,vt){AnnotationEditor.initialize(ht,vt,{strings:["pdfjs-free-text-default-content"]});const At=getComputedStyle(document.documentElement);this._internalPadding=parseFloat(At.getPropertyValue("--freetext-padding"))}static updateDefaultParams(ht,vt){switch(ht){case AnnotationEditorParamsType.FREETEXT_SIZE:to._defaultFontSize=vt;break;case AnnotationEditorParamsType.FREETEXT_COLOR:to._defaultColor=vt;break}}updateParams(ht,vt){switch(ht){case AnnotationEditorParamsType.FREETEXT_SIZE:On(this,uo,Yy).call(this,vt);break;case AnnotationEditorParamsType.FREETEXT_COLOR:On(this,uo,Zy).call(this,vt);break}}static get defaultPropertiesToUpdate(){return[[AnnotationEditorParamsType.FREETEXT_SIZE,to._defaultFontSize],[AnnotationEditorParamsType.FREETEXT_COLOR,to._defaultColor||AnnotationEditor._defaultLineColor]]}get propertiesToUpdate(){return[[AnnotationEditorParamsType.FREETEXT_SIZE,Mt(this,Ko)],[AnnotationEditorParamsType.FREETEXT_COLOR,Mt(this,Nl)]]}_translateEmpty(ht,vt){this._uiManager.translateSelectedEditors(ht,vt,!0)}getInitialTranslation(){const ht=this.parentScale;return[-to._internalPadding*ht,-(to._internalPadding+Mt(this,Ko))*ht]}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.isAttachedToDOM||this.parent.add(this)))}enableEditMode(){this.isInEditMode()||(this.parent.setEditingState(!1),this.parent.updateToolbar(AnnotationEditorType.FREETEXT),super.enableEditMode(),this.overlayDiv.classList.remove("enabled"),this.editorDiv.contentEditable=!0,this._isDraggable=!1,this.div.removeAttribute("aria-activedescendant"),this.editorDiv.addEventListener("keydown",Mt(this,Sx)),this.editorDiv.addEventListener("focus",Mt(this,wx)),this.editorDiv.addEventListener("blur",Mt(this,vx)),this.editorDiv.addEventListener("input",Mt(this,Ax)),this.editorDiv.addEventListener("paste",Mt(this,Ex)))}disableEditMode(){this.isInEditMode()&&(this.parent.setEditingState(!0),super.disableEditMode(),this.overlayDiv.classList.add("enabled"),this.editorDiv.contentEditable=!1,this.div.setAttribute("aria-activedescendant",Mt(this,Cx)),this._isDraggable=!0,this.editorDiv.removeEventListener("keydown",Mt(this,Sx)),this.editorDiv.removeEventListener("focus",Mt(this,wx)),this.editorDiv.removeEventListener("blur",Mt(this,vx)),this.editorDiv.removeEventListener("input",Mt(this,Ax)),this.editorDiv.removeEventListener("paste",Mt(this,Ex)),this.div.focus({preventScroll:!0}),this.isEditing=!1,this.parent.div.classList.add("freetextEditing"))}focusin(ht){this._focusEventsAllowed&&(super.focusin(ht),ht.target!==this.editorDiv&&this.editorDiv.focus())}onceAdded(){var ht;this.width||(this.enableEditMode(),this.editorDiv.focus(),(ht=this._initialOptions)!=null&&ht.isCentered&&this.center(),this._initialOptions=null)}isEmpty(){return!this.editorDiv||this.editorDiv.innerText.trim()===""}remove(){this.isEditing=!1,this.parent&&(this.parent.setEditingState(!0),this.parent.div.classList.add("freetextEditing")),super.remove()}commit(){if(!this.isInEditMode())return;super.commit(),this.disableEditMode();const ht=Mt(this,qo),vt=$n(this,qo,On(this,uo,Jy).call(this).trimEnd());if(ht===vt)return;const At=St=>{if($n(this,qo,St),!St){this.remove();return}On(this,uo,f2).call(this),this._uiManager.rebuild(this),On(this,uo,h2).call(this)};this.addCommands({cmd:()=>{At(vt)},undo:()=>{At(ht)},mustExec:!1}),On(this,uo,h2).call(this)}shouldGetKeyboardEvents(){return this.isInEditMode()}enterInEditMode(){this.enableEditMode(),this.editorDiv.focus()}dblclick(ht){this.enterInEditMode()}keydown(ht){ht.target===this.div&&ht.key==="Enter"&&(this.enterInEditMode(),ht.preventDefault())}editorDivKeydown(ht){to._keyboardManager.exec(this,ht)}editorDivFocus(ht){this.isEditing=!0}editorDivBlur(ht){this.isEditing=!1}editorDivInput(ht){this.parent.div.classList.toggle("freetextEditing",this.isEmpty())}disableEditing(){this.editorDiv.setAttribute("role","comment"),this.editorDiv.removeAttribute("aria-multiline")}enableEditing(){this.editorDiv.setAttribute("role","textbox"),this.editorDiv.setAttribute("aria-multiline",!0)}render(){if(this.div)return this.div;let ht,vt;this.width&&(ht=this.x,vt=this.y),super.render(),this.editorDiv=document.createElement("div"),this.editorDiv.className="internal",this.editorDiv.setAttribute("id",Mt(this,Cx)),this.editorDiv.setAttribute("data-l10n-id","pdfjs-free-text"),this.enableEditing(),AnnotationEditor._l10nPromise.get("pdfjs-free-text-default-content").then(St=>{var kt;return(kt=this.editorDiv)==null?void 0:kt.setAttribute("default-content",St)}),this.editorDiv.contentEditable=!0;const{style:At}=this.editorDiv;if(At.fontSize=`calc(${Mt(this,Ko)}px * var(--scale-factor))`,At.color=Mt(this,Nl),this.div.append(this.editorDiv),this.overlayDiv=document.createElement("div"),this.overlayDiv.classList.add("overlay","enabled"),this.div.append(this.overlayDiv),bindEvents(this,this.div,["dblclick","keydown"]),this.width){const[St,kt]=this.parentDimensions;if(this.annotationElementId){const{position:Et}=Mt(this,Cp);let[Rt,wt]=this.getInitialTranslation();[Rt,wt]=this.pageTranslationToScreen(Rt,wt);const[_t,Pt]=this.pageDimensions,[_e,bt]=this.pageTranslation;let Ft,Xt;switch(this.rotation){case 0:Ft=ht+(Et[0]-_e)/_t,Xt=vt+this.height-(Et[1]-bt)/Pt;break;case 90:Ft=ht+(Et[0]-_e)/_t,Xt=vt-(Et[1]-bt)/Pt,[Rt,wt]=[wt,-Rt];break;case 180:Ft=ht-this.width+(Et[0]-_e)/_t,Xt=vt-(Et[1]-bt)/Pt,[Rt,wt]=[-Rt,-wt];break;case 270:Ft=ht+(Et[0]-_e-this.height*Pt)/_t,Xt=vt+(Et[1]-bt-this.width*_t)/Pt,[Rt,wt]=[-wt,Rt];break}this.setAt(Ft*St,Xt*kt,Rt,wt)}else this.setAt(ht*St,vt*kt,this.width*St,this.height*kt);On(this,uo,f2).call(this),this._isDraggable=!0,this.editorDiv.contentEditable=!1}else this._isDraggable=!1,this.editorDiv.contentEditable=!0;return this.div}editorDivPaste(ht){var Ft,Xt,Kt;const vt=ht.clipboardData||window.clipboardData,{types:At}=vt;if(At.length===1&&At[0]==="text/plain")return;ht.preventDefault();const St=On(Ft=to,B0,X9).call(Ft,vt.getData("text")||"").replaceAll(EOL_PATTERN,`
`);if(!St)return;const kt=window.getSelection();if(!kt.rangeCount)return;this.editorDiv.normalize(),kt.deleteFromDocument();const Et=kt.getRangeAt(0);if(!St.includes(`
`)){Et.insertNode(document.createTextNode(St)),this.editorDiv.normalize(),kt.collapseToStart();return}const{startContainer:Rt,startOffset:wt}=Et,_t=[],Pt=[];if(Rt.nodeType===Node.TEXT_NODE){const Nt=Rt.parentElement;if(Pt.push(Rt.nodeValue.slice(wt).replaceAll(EOL_PATTERN,"")),Nt!==this.editorDiv){let $t=_t;for(const Dt of this.editorDiv.childNodes){if(Dt===Nt){$t=Pt;continue}$t.push(On(Xt=to,B0,d2).call(Xt,Dt))}}_t.push(Rt.nodeValue.slice(0,wt).replaceAll(EOL_PATTERN,""))}else if(Rt===this.editorDiv){let Nt=_t,$t=0;for(const Dt of this.editorDiv.childNodes)$t++===wt&&(Nt=Pt),Nt.push(On(Kt=to,B0,d2).call(Kt,Dt))}$n(this,qo,`${_t.join(`
`)}${St}${Pt.join(`
`)}`),On(this,uo,f2).call(this);const _e=new Range;let bt=_t.reduce((Nt,$t)=>Nt+$t.length,0);for(const{firstChild:Nt}of this.editorDiv.childNodes)if(Nt.nodeType===Node.TEXT_NODE){const $t=Nt.nodeValue.length;if(bt<=$t){_e.setStart(Nt,bt),_e.setEnd(Nt,bt);break}bt-=$t}kt.removeAllRanges(),kt.addRange(_e)}get contentDiv(){return this.editorDiv}static deserialize(ht,vt,At){var Et;let St=null;if(ht instanceof FreeTextAnnotationElement){const{data:{defaultAppearanceData:{fontSize:Rt,fontColor:wt},rect:_t,rotation:Pt,id:_e},textContent:bt,textPosition:Ft,parent:{page:{pageNumber:Xt}}}=ht;if(!bt||bt.length===0)return null;St=ht={annotationType:AnnotationEditorType.FREETEXT,color:Array.from(wt),fontSize:Rt,value:bt.join(`
`),position:Ft,pageIndex:Xt-1,rect:_t.slice(0),rotation:Pt,id:_e,deleted:!1}}const kt=super.deserialize(ht,vt,At);return $n(kt,Ko,ht.fontSize),$n(kt,Nl,Util.makeHexColor(...ht.color)),$n(kt,qo,On(Et=to,B0,X9).call(Et,ht.value)),kt.annotationElementId=ht.id||null,$n(kt,Cp,St),kt}serialize(ht=!1){if(this.isEmpty())return null;if(this.deleted)return{pageIndex:this.pageIndex,id:this.annotationElementId,deleted:!0};const vt=to._internalPadding*this.parentScale,At=this.getRect(vt,vt),St=AnnotationEditor._colorManager.convert(this.isAttachedToDOM?getComputedStyle(this.editorDiv).color:Mt(this,Nl)),kt={annotationType:AnnotationEditorType.FREETEXT,color:St,fontSize:Mt(this,Ko),value:On(this,uo,Qy).call(this),pageIndex:this.pageIndex,rect:At,rotation:this.rotation,structTreeParentId:this._structTreeParentId};return ht?kt:this.annotationElementId&&!On(this,uo,e8).call(this,kt)?null:(kt.id=this.annotationElementId,kt)}renderAnnotationElement(ht){const vt=super.renderAnnotationElement(ht);if(this.deleted)return vt;const{style:At}=vt;At.fontSize=`calc(${Mt(this,Ko)}px * var(--scale-factor))`,At.color=Mt(this,Nl),vt.replaceChildren();for(const kt of Mt(this,qo).split(`
`)){const Et=document.createElement("div");Et.append(kt?document.createTextNode(kt):document.createElement("br")),vt.append(Et)}const St=to._internalPadding*this.parentScale;return ht.updateEdited({rect:this.getRect(St,St),popupContent:Mt(this,qo)}),vt}resetAnnotationElement(ht){super.resetAnnotationElement(ht),ht.resetEdited()}};vx=new WeakMap,wx=new WeakMap,Ax=new WeakMap,Sx=new WeakMap,Ex=new WeakMap,Nl=new WeakMap,qo=new WeakMap,Cx=new WeakMap,Ko=new WeakMap,Cp=new WeakMap,uo=new WeakSet,Yy=function(ht){const vt=St=>{this.editorDiv.style.fontSize=`calc(${St}px * var(--scale-factor))`,this.translate(0,-(St-Mt(this,Ko))*this.parentScale),$n(this,Ko,St),On(this,uo,h2).call(this)},At=Mt(this,Ko);this.addCommands({cmd:vt.bind(this,ht),undo:vt.bind(this,At),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:AnnotationEditorParamsType.FREETEXT_SIZE,overwriteIfSameType:!0,keepUndo:!0})},Zy=function(ht){const vt=St=>{$n(this,Nl,this.editorDiv.style.color=St)},At=Mt(this,Nl);this.addCommands({cmd:vt.bind(this,ht),undo:vt.bind(this,At),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:AnnotationEditorParamsType.FREETEXT_COLOR,overwriteIfSameType:!0,keepUndo:!0})},Jy=function(){var vt;const ht=[];this.editorDiv.normalize();for(const At of this.editorDiv.childNodes)ht.push(On(vt=to,B0,d2).call(vt,At));return ht.join(`
`)},h2=function(){const[ht,vt]=this.parentDimensions;let At;if(this.isAttachedToDOM)At=this.div.getBoundingClientRect();else{const{currentLayer:St,div:kt}=this,Et=kt.style.display,Rt=kt.classList.contains("hidden");kt.classList.remove("hidden"),kt.style.display="hidden",St.div.append(this.div),At=kt.getBoundingClientRect(),kt.remove(),kt.style.display=Et,kt.classList.toggle("hidden",Rt)}this.rotation%180===this.parentRotation%180?(this.width=At.width/ht,this.height=At.height/vt):(this.width=At.height/ht,this.height=At.width/vt),this.fixAndSetPosition()},B0=new WeakSet,d2=function(ht){return(ht.nodeType===Node.TEXT_NODE?ht.nodeValue:ht.innerText).replaceAll(EOL_PATTERN,"")},f2=function(){if(this.editorDiv.replaceChildren(),!!Mt(this,qo))for(const ht of Mt(this,qo).split(`
`)){const vt=document.createElement("div");vt.append(ht?document.createTextNode(ht):document.createElement("br")),this.editorDiv.append(vt)}},Qy=function(){return Mt(this,qo).replaceAll(""," ")},X9=function(ht){return ht.replaceAll(" ","")},e8=function(ht){const{value:vt,fontSize:At,color:St,pageIndex:kt}=Mt(this,Cp);return this._hasBeenMoved||ht.value!==vt||ht.fontSize!==At||ht.color.some((Et,Rt)=>Et!==St[Rt])||ht.pageIndex!==kt},Nn(to,B0),Ur(to,"_freeTextDefaultContent",""),Ur(to,"_internalPadding",0),Ur(to,"_defaultColor",null),Ur(to,"_defaultFontSize",10),Ur(to,"_type","freetext"),Ur(to,"_editorType",AnnotationEditorType.FREETEXT);let FreeTextEditor=to;var kx,ou,$l,jo,t8,p2,n8,i8,W9;class Outliner{constructor($,ht=0,vt=0,At=!0){Nn(this,jo);Nn(this,kx);Nn(this,ou,[]);Nn(this,$l,[]);let St=1/0,kt=-1/0,Et=1/0,Rt=-1/0;const _t=10**-4;for(const{x:Nt,y:$t,width:Dt,height:jt}of $){const Ct=Math.floor((Nt-ht)/_t)*_t,qt=Math.ceil((Nt+Dt+ht)/_t)*_t,Bt=Math.floor(($t-ht)/_t)*_t,Gt=Math.ceil(($t+jt+ht)/_t)*_t,en=[Ct,Bt,Gt,!0],dn=[qt,Bt,Gt,!1];Mt(this,ou).push(en,dn),St=Math.min(St,Ct),kt=Math.max(kt,qt),Et=Math.min(Et,Bt),Rt=Math.max(Rt,Gt)}const Pt=kt-St+2*vt,_e=Rt-Et+2*vt,bt=St-vt,Ft=Et-vt,Xt=Mt(this,ou).at(At?-1:-2),Kt=[Xt[0],Xt[2]];for(const Nt of Mt(this,ou)){const[$t,Dt,jt]=Nt;Nt[0]=($t-bt)/Pt,Nt[1]=(Dt-Ft)/_e,Nt[2]=(jt-Ft)/_e}$n(this,kx,{x:bt,y:Ft,width:Pt,height:_e,lastPoint:Kt})}getOutlines(){Mt(this,ou).sort((ht,vt)=>ht[0]-vt[0]||ht[1]-vt[1]||ht[2]-vt[2]);const $=[];for(const ht of Mt(this,ou))ht[3]?($.push(...On(this,jo,W9).call(this,ht)),On(this,jo,n8).call(this,ht)):(On(this,jo,i8).call(this,ht),$.push(...On(this,jo,W9).call(this,ht)));return On(this,jo,t8).call(this,$)}}kx=new WeakMap,ou=new WeakMap,$l=new WeakMap,jo=new WeakSet,t8=function($){const ht=[],vt=new Set;for(const kt of $){const[Et,Rt,wt]=kt;ht.push([Et,Rt,kt],[Et,wt,kt])}ht.sort((kt,Et)=>kt[1]-Et[1]||kt[0]-Et[0]);for(let kt=0,Et=ht.length;kt<Et;kt+=2){const Rt=ht[kt][2],wt=ht[kt+1][2];Rt.push(wt),wt.push(Rt),vt.add(Rt),vt.add(wt)}const At=[];let St;for(;vt.size>0;){const kt=vt.values().next().value;let[Et,Rt,wt,_t,Pt]=kt;vt.delete(kt);let _e=Et,bt=Rt;for(St=[Et,wt],At.push(St);;){let Ft;if(vt.has(_t))Ft=_t;else if(vt.has(Pt))Ft=Pt;else break;vt.delete(Ft),[Et,Rt,wt,_t,Pt]=Ft,_e!==Et&&(St.push(_e,bt,Et,bt===Rt?Rt:wt),_e=Et),bt=bt===Rt?wt:Rt}St.push(_e,bt)}return new HighlightOutline(At,Mt(this,kx))},p2=function($){const ht=Mt(this,$l);let vt=0,At=ht.length-1;for(;vt<=At;){const St=vt+At>>1,kt=ht[St][0];if(kt===$)return St;kt<$?vt=St+1:At=St-1}return At+1},n8=function([,$,ht]){const vt=On(this,jo,p2).call(this,$);Mt(this,$l).splice(vt,0,[$,ht])},i8=function([,$,ht]){const vt=On(this,jo,p2).call(this,$);for(let At=vt;At<Mt(this,$l).length;At++){const[St,kt]=Mt(this,$l)[At];if(St!==$)break;if(St===$&&kt===ht){Mt(this,$l).splice(At,1);return}}for(let At=vt-1;At>=0;At--){const[St,kt]=Mt(this,$l)[At];if(St!==$)break;if(St===$&&kt===ht){Mt(this,$l).splice(At,1);return}}},W9=function($){const[ht,vt,At]=$,St=[[ht,vt,At]],kt=On(this,jo,p2).call(this,At);for(let Et=0;Et<kt;Et++){const[Rt,wt]=Mt(this,$l)[Et];for(let _t=0,Pt=St.length;_t<Pt;_t++){const[,_e,bt]=St[_t];if(!(wt<=_e||bt<=Rt)){if(_e>=Rt){if(bt>wt)St[_t][1]=wt;else{if(Pt===1)return[];St.splice(_t,1),_t--,Pt--}continue}St[_t][2]=Rt,bt>wt&&St.push([ht,wt,bt])}}}return St};class Outline{toSVGPath(){throw new Error("Abstract method `toSVGPath` must be implemented.")}get box(){throw new Error("Abstract getter `box` must be implemented.")}serialize($,ht){throw new Error("Abstract method `serialize` must be implemented.")}get free(){return this instanceof FreeHighlightOutline}}var Tx,kp;class HighlightOutline extends Outline{constructor(ht,vt){super();Nn(this,Tx);Nn(this,kp);$n(this,kp,ht),$n(this,Tx,vt)}toSVGPath(){const ht=[];for(const vt of Mt(this,kp)){let[At,St]=vt;ht.push(`M${At} ${St}`);for(let kt=2;kt<vt.length;kt+=2){const Et=vt[kt],Rt=vt[kt+1];Et===At?(ht.push(`V${Rt}`),St=Rt):Rt===St&&(ht.push(`H${Et}`),At=Et)}ht.push("Z")}return ht.join(" ")}serialize([ht,vt,At,St],kt){const Et=[],Rt=At-ht,wt=St-vt;for(const _t of Mt(this,kp)){const Pt=new Array(_t.length);for(let _e=0;_e<_t.length;_e+=2)Pt[_e]=ht+_t[_e]*Rt,Pt[_e+1]=St-_t[_e+1]*wt;Et.push(Pt)}return Et}get box(){return Mt(this,Tx)}}Tx=new WeakMap,kp=new WeakMap;var e0,I0,Tp,_p,t0,js,o1,l1,_x,Rx,Rp,Fp,lu,Fx,i9,r9,Px,V9;const f0=class f0{constructor({x:$,y:ht},vt,At,St,kt,Et=0){Nn(this,Px);Nn(this,e0);Nn(this,I0,[]);Nn(this,Tp);Nn(this,_p);Nn(this,t0,[]);Nn(this,js,new Float64Array(18));Nn(this,o1);Nn(this,l1);Nn(this,_x);Nn(this,Rx);Nn(this,Rp);Nn(this,Fp);Nn(this,lu,[]);$n(this,e0,vt),$n(this,Fp,St*At),$n(this,_p,kt),Mt(this,js).set([NaN,NaN,NaN,NaN,$,ht],6),$n(this,Tp,Et),$n(this,Rx,Mt(f0,Fx)*At),$n(this,_x,Mt(f0,r9)*At),$n(this,Rp,At),Mt(this,lu).push($,ht)}get free(){return!0}isEmpty(){return isNaN(Mt(this,js)[8])}add({x:$,y:ht}){var en;$n(this,o1,$),$n(this,l1,ht);const[vt,At,St,kt]=Mt(this,e0);let[Et,Rt,wt,_t]=Mt(this,js).subarray(8,12);const Pt=$-wt,_e=ht-_t,bt=Math.hypot(Pt,_e);if(bt<Mt(this,_x))return!1;const Ft=bt-Mt(this,Rx),Xt=Ft/bt,Kt=Xt*Pt,Nt=Xt*_e;let $t=Et,Dt=Rt;Et=wt,Rt=_t,wt+=Kt,_t+=Nt,(en=Mt(this,lu))==null||en.push($,ht);const jt=-Nt/Ft,Ct=Kt/Ft,qt=jt*Mt(this,Fp),Bt=Ct*Mt(this,Fp);return Mt(this,js).set(Mt(this,js).subarray(2,8),0),Mt(this,js).set([wt+qt,_t+Bt],4),Mt(this,js).set(Mt(this,js).subarray(14,18),12),Mt(this,js).set([wt-qt,_t-Bt],16),isNaN(Mt(this,js)[6])?(Mt(this,t0).length===0&&(Mt(this,js).set([Et+qt,Rt+Bt],2),Mt(this,t0).push(NaN,NaN,NaN,NaN,(Et+qt-vt)/St,(Rt+Bt-At)/kt),Mt(this,js).set([Et-qt,Rt-Bt],14),Mt(this,I0).push(NaN,NaN,NaN,NaN,(Et-qt-vt)/St,(Rt-Bt-At)/kt)),Mt(this,js).set([$t,Dt,Et,Rt,wt,_t],6),!this.isEmpty()):(Mt(this,js).set([$t,Dt,Et,Rt,wt,_t],6),Math.abs(Math.atan2(Dt-Rt,$t-Et)-Math.atan2(Nt,Kt))<Math.PI/2?([Et,Rt,wt,_t]=Mt(this,js).subarray(2,6),Mt(this,t0).push(NaN,NaN,NaN,NaN,((Et+wt)/2-vt)/St,((Rt+_t)/2-At)/kt),[Et,Rt,$t,Dt]=Mt(this,js).subarray(14,18),Mt(this,I0).push(NaN,NaN,NaN,NaN,(($t+Et)/2-vt)/St,((Dt+Rt)/2-At)/kt),!0):([$t,Dt,Et,Rt,wt,_t]=Mt(this,js).subarray(0,6),Mt(this,t0).push((($t+5*Et)/6-vt)/St,((Dt+5*Rt)/6-At)/kt,((5*Et+wt)/6-vt)/St,((5*Rt+_t)/6-At)/kt,((Et+wt)/2-vt)/St,((Rt+_t)/2-At)/kt),[wt,_t,Et,Rt,$t,Dt]=Mt(this,js).subarray(12,18),Mt(this,I0).push((($t+5*Et)/6-vt)/St,((Dt+5*Rt)/6-At)/kt,((5*Et+wt)/6-vt)/St,((5*Rt+_t)/6-At)/kt,((Et+wt)/2-vt)/St,((Rt+_t)/2-At)/kt),!0))}toSVGPath(){if(this.isEmpty())return"";const $=Mt(this,t0),ht=Mt(this,I0),vt=Mt(this,js).subarray(4,6),At=Mt(this,js).subarray(16,18),[St,kt,Et,Rt]=Mt(this,e0),[wt,_t,Pt,_e]=On(this,Px,V9).call(this);if(isNaN(Mt(this,js)[6])&&!this.isEmpty())return`M${(Mt(this,js)[2]-St)/Et} ${(Mt(this,js)[3]-kt)/Rt} L${(Mt(this,js)[4]-St)/Et} ${(Mt(this,js)[5]-kt)/Rt} L${wt} ${_t} L${Pt} ${_e} L${(Mt(this,js)[16]-St)/Et} ${(Mt(this,js)[17]-kt)/Rt} L${(Mt(this,js)[14]-St)/Et} ${(Mt(this,js)[15]-kt)/Rt} Z`;const bt=[];bt.push(`M${$[4]} ${$[5]}`);for(let Ft=6;Ft<$.length;Ft+=6)isNaN($[Ft])?bt.push(`L${$[Ft+4]} ${$[Ft+5]}`):bt.push(`C${$[Ft]} ${$[Ft+1]} ${$[Ft+2]} ${$[Ft+3]} ${$[Ft+4]} ${$[Ft+5]}`);bt.push(`L${(vt[0]-St)/Et} ${(vt[1]-kt)/Rt} L${wt} ${_t} L${Pt} ${_e} L${(At[0]-St)/Et} ${(At[1]-kt)/Rt}`);for(let Ft=ht.length-6;Ft>=6;Ft-=6)isNaN(ht[Ft])?bt.push(`L${ht[Ft+4]} ${ht[Ft+5]}`):bt.push(`C${ht[Ft]} ${ht[Ft+1]} ${ht[Ft+2]} ${ht[Ft+3]} ${ht[Ft+4]} ${ht[Ft+5]}`);return bt.push(`L${ht[4]} ${ht[5]} Z`),bt.join(" ")}getOutlines(){var Nt;const $=Mt(this,t0),ht=Mt(this,I0),vt=Mt(this,js),At=vt.subarray(4,6),St=vt.subarray(16,18),[kt,Et,Rt,wt]=Mt(this,e0),_t=new Float64Array((((Nt=Mt(this,lu))==null?void 0:Nt.length)??0)+2);for(let $t=0,Dt=_t.length-2;$t<Dt;$t+=2)_t[$t]=(Mt(this,lu)[$t]-kt)/Rt,_t[$t+1]=(Mt(this,lu)[$t+1]-Et)/wt;_t[_t.length-2]=(Mt(this,o1)-kt)/Rt,_t[_t.length-1]=(Mt(this,l1)-Et)/wt;const[Pt,_e,bt,Ft]=On(this,Px,V9).call(this);if(isNaN(vt[6])&&!this.isEmpty()){const $t=new Float64Array(36);return $t.set([NaN,NaN,NaN,NaN,(vt[2]-kt)/Rt,(vt[3]-Et)/wt,NaN,NaN,NaN,NaN,(vt[4]-kt)/Rt,(vt[5]-Et)/wt,NaN,NaN,NaN,NaN,Pt,_e,NaN,NaN,NaN,NaN,bt,Ft,NaN,NaN,NaN,NaN,(vt[16]-kt)/Rt,(vt[17]-Et)/wt,NaN,NaN,NaN,NaN,(vt[14]-kt)/Rt,(vt[15]-Et)/wt],0),new FreeHighlightOutline($t,_t,Mt(this,e0),Mt(this,Rp),Mt(this,Tp),Mt(this,_p))}const Xt=new Float64Array(Mt(this,t0).length+24+Mt(this,I0).length);let Kt=$.length;for(let $t=0;$t<Kt;$t+=2){if(isNaN($[$t])){Xt[$t]=Xt[$t+1]=NaN;continue}Xt[$t]=$[$t],Xt[$t+1]=$[$t+1]}Xt.set([NaN,NaN,NaN,NaN,(At[0]-kt)/Rt,(At[1]-Et)/wt,NaN,NaN,NaN,NaN,Pt,_e,NaN,NaN,NaN,NaN,bt,Ft,NaN,NaN,NaN,NaN,(St[0]-kt)/Rt,(St[1]-Et)/wt],Kt),Kt+=24;for(let $t=ht.length-6;$t>=6;$t-=6)for(let Dt=0;Dt<6;Dt+=2){if(isNaN(ht[$t+Dt])){Xt[Kt]=Xt[Kt+1]=NaN,Kt+=2;continue}Xt[Kt]=ht[$t+Dt],Xt[Kt+1]=ht[$t+Dt+1],Kt+=2}return Xt.set([NaN,NaN,NaN,NaN,ht[4],ht[5]],Kt),new FreeHighlightOutline(Xt,_t,Mt(this,e0),Mt(this,Rp),Mt(this,Tp),Mt(this,_p))}};e0=new WeakMap,I0=new WeakMap,Tp=new WeakMap,_p=new WeakMap,t0=new WeakMap,js=new WeakMap,o1=new WeakMap,l1=new WeakMap,_x=new WeakMap,Rx=new WeakMap,Rp=new WeakMap,Fp=new WeakMap,lu=new WeakMap,Fx=new WeakMap,i9=new WeakMap,r9=new WeakMap,Px=new WeakSet,V9=function(){const $=Mt(this,js).subarray(4,6),ht=Mt(this,js).subarray(16,18),[vt,At,St,kt]=Mt(this,e0);return[(Mt(this,o1)+($[0]-ht[0])/2-vt)/St,(Mt(this,l1)+($[1]-ht[1])/2-At)/kt,(Mt(this,o1)+(ht[0]-$[0])/2-vt)/St,(Mt(this,l1)+(ht[1]-$[1])/2-At)/kt]},Nn(f0,Fx,8),Nn(f0,i9,2),Nn(f0,r9,Mt(f0,Fx)+Mt(f0,i9));let FreeOutliner=f0;var Pp,c1,M0,Ix,Yo,Mx,oo,zo,tm,nm,r8;class FreeHighlightOutline extends Outline{constructor(ht,vt,At,St,kt,Et){super();Nn(this,zo);Nn(this,Pp);Nn(this,c1,null);Nn(this,M0);Nn(this,Ix);Nn(this,Yo);Nn(this,Mx);Nn(this,oo);$n(this,oo,ht),$n(this,Yo,vt),$n(this,Pp,At),$n(this,Mx,St),$n(this,M0,kt),$n(this,Ix,Et),On(this,zo,r8).call(this,Et);const{x:Rt,y:wt,width:_t,height:Pt}=Mt(this,c1);for(let _e=0,bt=ht.length;_e<bt;_e+=2)ht[_e]=(ht[_e]-Rt)/_t,ht[_e+1]=(ht[_e+1]-wt)/Pt;for(let _e=0,bt=vt.length;_e<bt;_e+=2)vt[_e]=(vt[_e]-Rt)/_t,vt[_e+1]=(vt[_e+1]-wt)/Pt}toSVGPath(){const ht=[`M${Mt(this,oo)[4]} ${Mt(this,oo)[5]}`];for(let vt=6,At=Mt(this,oo).length;vt<At;vt+=6){if(isNaN(Mt(this,oo)[vt])){ht.push(`L${Mt(this,oo)[vt+4]} ${Mt(this,oo)[vt+5]}`);continue}ht.push(`C${Mt(this,oo)[vt]} ${Mt(this,oo)[vt+1]} ${Mt(this,oo)[vt+2]} ${Mt(this,oo)[vt+3]} ${Mt(this,oo)[vt+4]} ${Mt(this,oo)[vt+5]}`)}return ht.push("Z"),ht.join(" ")}serialize([ht,vt,At,St],kt){const Et=At-ht,Rt=St-vt;let wt,_t;switch(kt){case 0:wt=On(this,zo,tm).call(this,Mt(this,oo),ht,St,Et,-Rt),_t=On(this,zo,tm).call(this,Mt(this,Yo),ht,St,Et,-Rt);break;case 90:wt=On(this,zo,nm).call(this,Mt(this,oo),ht,vt,Et,Rt),_t=On(this,zo,nm).call(this,Mt(this,Yo),ht,vt,Et,Rt);break;case 180:wt=On(this,zo,tm).call(this,Mt(this,oo),At,vt,-Et,Rt),_t=On(this,zo,tm).call(this,Mt(this,Yo),At,vt,-Et,Rt);break;case 270:wt=On(this,zo,nm).call(this,Mt(this,oo),At,St,-Et,-Rt),_t=On(this,zo,nm).call(this,Mt(this,Yo),At,St,-Et,-Rt);break}return{outline:Array.from(wt),points:[Array.from(_t)]}}get box(){return Mt(this,c1)}getNewOutline(ht,vt){const{x:At,y:St,width:kt,height:Et}=Mt(this,c1),[Rt,wt,_t,Pt]=Mt(this,Pp),_e=kt*_t,bt=Et*Pt,Ft=At*_t+Rt,Xt=St*Pt+wt,Kt=new FreeOutliner({x:Mt(this,Yo)[0]*_e+Ft,y:Mt(this,Yo)[1]*bt+Xt},Mt(this,Pp),Mt(this,Mx),ht,Mt(this,Ix),vt??Mt(this,M0));for(let Nt=2;Nt<Mt(this,Yo).length;Nt+=2)Kt.add({x:Mt(this,Yo)[Nt]*_e+Ft,y:Mt(this,Yo)[Nt+1]*bt+Xt});return Kt.getOutlines()}}Pp=new WeakMap,c1=new WeakMap,M0=new WeakMap,Ix=new WeakMap,Yo=new WeakMap,Mx=new WeakMap,oo=new WeakMap,zo=new WeakSet,tm=function(ht,vt,At,St,kt){const Et=new Float64Array(ht.length);for(let Rt=0,wt=ht.length;Rt<wt;Rt+=2)Et[Rt]=vt+ht[Rt]*St,Et[Rt+1]=At+ht[Rt+1]*kt;return Et},nm=function(ht,vt,At,St,kt){const Et=new Float64Array(ht.length);for(let Rt=0,wt=ht.length;Rt<wt;Rt+=2)Et[Rt]=vt+ht[Rt+1]*St,Et[Rt+1]=At+ht[Rt]*kt;return Et},r8=function(ht){const vt=Mt(this,oo);let At=vt[4],St=vt[5],kt=At,Et=St,Rt=At,wt=St,_t=At,Pt=St;const _e=ht?Math.max:Math.min;for(let Nt=6,$t=vt.length;Nt<$t;Nt+=6){if(isNaN(vt[Nt]))kt=Math.min(kt,vt[Nt+4]),Et=Math.min(Et,vt[Nt+5]),Rt=Math.max(Rt,vt[Nt+4]),wt=Math.max(wt,vt[Nt+5]),Pt<vt[Nt+5]?(_t=vt[Nt+4],Pt=vt[Nt+5]):Pt===vt[Nt+5]&&(_t=_e(_t,vt[Nt+4]));else{const Dt=Util.bezierBoundingBox(At,St,...vt.slice(Nt,Nt+6));kt=Math.min(kt,Dt[0]),Et=Math.min(Et,Dt[1]),Rt=Math.max(Rt,Dt[2]),wt=Math.max(wt,Dt[3]),Pt<Dt[3]?(_t=Dt[2],Pt=Dt[3]):Pt===Dt[3]&&(_t=_e(_t,Dt[2]))}At=vt[Nt+4],St=vt[Nt+5]}const bt=kt-Mt(this,M0),Ft=Et-Mt(this,M0),Xt=Rt-kt+2*Mt(this,M0),Kt=wt-Et+2*Mt(this,M0);$n(this,c1,{x:bt,y:Ft,width:Xt,height:Kt,lastPoint:[_t,Pt]})};var Ox,Dx,Bl,u1,Ip,po,Lx,Mp,Nx,$x,cu,Op,$a,G9,q9,s8,_u,a8,Y0;const p0=class p0{constructor({editor:$=null,uiManager:ht=null}){Nn(this,$a);Nn(this,Ox,On(this,$a,s8).bind(this));Nn(this,Dx,On(this,$a,a8).bind(this));Nn(this,Bl,null);Nn(this,u1,null);Nn(this,Ip);Nn(this,po,null);Nn(this,Lx,!1);Nn(this,Mp,!1);Nn(this,Nx,null);Nn(this,$x);Nn(this,cu,null);Nn(this,Op);var vt;$?($n(this,Mp,!1),$n(this,Op,AnnotationEditorParamsType.HIGHLIGHT_COLOR),$n(this,Nx,$)):($n(this,Mp,!0),$n(this,Op,AnnotationEditorParamsType.HIGHLIGHT_DEFAULT_COLOR)),$n(this,cu,($==null?void 0:$._uiManager)||ht),$n(this,$x,Mt(this,cu)._eventBus),$n(this,Ip,($==null?void 0:$.color)||((vt=Mt(this,cu))==null?void 0:vt.highlightColors.values().next().value)||"#FFFF98")}static get _keyboardManager(){return shadow(this,"_keyboardManager",new KeyboardManager([[["Escape","mac+Escape"],p0.prototype._hideDropdownFromKeyboard],[[" ","mac+ "],p0.prototype._colorSelectFromKeyboard],[["ArrowDown","ArrowRight","mac+ArrowDown","mac+ArrowRight"],p0.prototype._moveToNext],[["ArrowUp","ArrowLeft","mac+ArrowUp","mac+ArrowLeft"],p0.prototype._moveToPrevious],[["Home","mac+Home"],p0.prototype._moveToBeginning],[["End","mac+End"],p0.prototype._moveToEnd]]))}renderButton(){const $=$n(this,Bl,document.createElement("button"));$.className="colorPicker",$.tabIndex="0",$.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-button"),$.setAttribute("aria-haspopup",!0),$.addEventListener("click",On(this,$a,_u).bind(this)),$.addEventListener("keydown",Mt(this,Ox));const ht=$n(this,u1,document.createElement("span"));return ht.className="swatch",ht.setAttribute("aria-hidden",!0),ht.style.backgroundColor=Mt(this,Ip),$.append(ht),$}renderMainDropdown(){const $=$n(this,po,On(this,$a,G9).call(this));return $.setAttribute("aria-orientation","horizontal"),$.setAttribute("aria-labelledby","highlightColorPickerLabel"),$}_colorSelectFromKeyboard($){if($.target===Mt(this,Bl)){On(this,$a,_u).call(this,$);return}const ht=$.target.getAttribute("data-color");ht&&On(this,$a,q9).call(this,ht,$)}_moveToNext($){var ht,vt;if(!Mt(this,$a,Y0)){On(this,$a,_u).call(this,$);return}if($.target===Mt(this,Bl)){(ht=Mt(this,po).firstChild)==null||ht.focus();return}(vt=$.target.nextSibling)==null||vt.focus()}_moveToPrevious($){var ht,vt;if($.target===((ht=Mt(this,po))==null?void 0:ht.firstChild)||$.target===Mt(this,Bl)){Mt(this,$a,Y0)&&this._hideDropdownFromKeyboard();return}Mt(this,$a,Y0)||On(this,$a,_u).call(this,$),(vt=$.target.previousSibling)==null||vt.focus()}_moveToBeginning($){var ht;if(!Mt(this,$a,Y0)){On(this,$a,_u).call(this,$);return}(ht=Mt(this,po).firstChild)==null||ht.focus()}_moveToEnd($){var ht;if(!Mt(this,$a,Y0)){On(this,$a,_u).call(this,$);return}(ht=Mt(this,po).lastChild)==null||ht.focus()}hideDropdown(){var $;($=Mt(this,po))==null||$.classList.add("hidden"),window.removeEventListener("pointerdown",Mt(this,Dx))}_hideDropdownFromKeyboard(){var $;if(!Mt(this,Mp)){if(!Mt(this,$a,Y0)){($=Mt(this,Nx))==null||$.unselect();return}this.hideDropdown(),Mt(this,Bl).focus({preventScroll:!0,focusVisible:Mt(this,Lx)})}}updateColor($){if(Mt(this,u1)&&(Mt(this,u1).style.backgroundColor=$),!Mt(this,po))return;const ht=Mt(this,cu).highlightColors.values();for(const vt of Mt(this,po).children)vt.setAttribute("aria-selected",ht.next().value===$)}destroy(){var $,ht;($=Mt(this,Bl))==null||$.remove(),$n(this,Bl,null),$n(this,u1,null),(ht=Mt(this,po))==null||ht.remove(),$n(this,po,null)}};Ox=new WeakMap,Dx=new WeakMap,Bl=new WeakMap,u1=new WeakMap,Ip=new WeakMap,po=new WeakMap,Lx=new WeakMap,Mp=new WeakMap,Nx=new WeakMap,$x=new WeakMap,cu=new WeakMap,Op=new WeakMap,$a=new WeakSet,G9=function(){const $=document.createElement("div");$.addEventListener("contextmenu",noContextMenu),$.className="dropdown",$.role="listbox",$.setAttribute("aria-multiselectable",!1),$.setAttribute("aria-orientation","vertical"),$.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-dropdown");for(const[ht,vt]of Mt(this,cu).highlightColors){const At=document.createElement("button");At.tabIndex="0",At.role="option",At.setAttribute("data-color",vt),At.title=ht,At.setAttribute("data-l10n-id",`pdfjs-editor-colorpicker-${ht}`);const St=document.createElement("span");At.append(St),St.className="swatch",St.style.backgroundColor=vt,At.setAttribute("aria-selected",vt===Mt(this,Ip)),At.addEventListener("click",On(this,$a,q9).bind(this,vt)),$.append(At)}return $.addEventListener("keydown",Mt(this,Ox)),$},q9=function($,ht){ht.stopPropagation(),Mt(this,$x).dispatch("switchannotationeditorparams",{source:this,type:Mt(this,Op),value:$})},s8=function($){p0._keyboardManager.exec(this,$)},_u=function($){if(Mt(this,$a,Y0)){this.hideDropdown();return}if($n(this,Lx,$.detail===0),window.addEventListener("pointerdown",Mt(this,Dx)),Mt(this,po)){Mt(this,po).classList.remove("hidden");return}const ht=$n(this,po,On(this,$a,G9).call(this));Mt(this,Bl).append(ht)},a8=function($){var ht;(ht=Mt(this,po))!=null&&ht.contains($.target)||this.hideDropdown()},Y0=function(){return Mt(this,po)&&!Mt(this,po).classList.contains("hidden")};let ColorPicker=p0;var Dp,jx,uu,h1,Lp,Al,Bx,Ux,d1,Ul,Lo,Zo,s9,Np,f1,go,$p,n0,Hx,Ls,K9,Y9,o8,l8,c8,Z9,im,Cl,j1,u8,g2,rm,h8,d8,f8,p8;const Ws=class Ws extends AnnotationEditor{constructor(ht){super({...ht,name:"highlightEditor"});Nn(this,Ls);Nn(this,Dp,null);Nn(this,jx,0);Nn(this,uu);Nn(this,h1,null);Nn(this,Lp,null);Nn(this,Al,null);Nn(this,Bx,null);Nn(this,Ux,0);Nn(this,d1,null);Nn(this,Ul,null);Nn(this,Lo,null);Nn(this,Zo,!1);Nn(this,s9,On(this,Ls,u8).bind(this));Nn(this,Np,null);Nn(this,f1);Nn(this,go,null);Nn(this,$p,"");Nn(this,n0);Nn(this,Hx,"");this.color=ht.color||Ws._defaultColor,$n(this,n0,ht.thickness||Ws._defaultThickness),$n(this,f1,ht.opacity||Ws._defaultOpacity),$n(this,uu,ht.boxes||null),$n(this,Hx,ht.methodOfCreation||""),$n(this,$p,ht.text||""),this._isDraggable=!1,ht.highlightId>-1?($n(this,Zo,!0),On(this,Ls,Y9).call(this,ht),On(this,Ls,im).call(this)):($n(this,Dp,ht.anchorNode),$n(this,jx,ht.anchorOffset),$n(this,Bx,ht.focusNode),$n(this,Ux,ht.focusOffset),On(this,Ls,K9).call(this),On(this,Ls,im).call(this),this.rotate(this.rotation))}static get _keyboardManager(){const ht=Ws.prototype;return shadow(this,"_keyboardManager",new KeyboardManager([[["ArrowLeft","mac+ArrowLeft"],ht._moveCaret,{args:[0]}],[["ArrowRight","mac+ArrowRight"],ht._moveCaret,{args:[1]}],[["ArrowUp","mac+ArrowUp"],ht._moveCaret,{args:[2]}],[["ArrowDown","mac+ArrowDown"],ht._moveCaret,{args:[3]}]]))}get telemetryInitialData(){return{action:"added",type:Mt(this,Zo)?"free_highlight":"highlight",color:this._uiManager.highlightColorNames.get(this.color),thickness:Mt(this,n0),methodOfCreation:Mt(this,Hx)}}get telemetryFinalData(){return{type:"highlight",color:this._uiManager.highlightColorNames.get(this.color)}}static computeTelemetryFinalData(ht){return{numberOfColors:ht.get("color").size}}static initialize(ht,vt){var At;AnnotationEditor.initialize(ht,vt),Ws._defaultColor||(Ws._defaultColor=((At=vt.highlightColors)==null?void 0:At.values().next().value)||"#fff066")}static updateDefaultParams(ht,vt){switch(ht){case AnnotationEditorParamsType.HIGHLIGHT_DEFAULT_COLOR:Ws._defaultColor=vt;break;case AnnotationEditorParamsType.HIGHLIGHT_THICKNESS:Ws._defaultThickness=vt;break}}translateInPage(ht,vt){}get toolbarPosition(){return Mt(this,Np)}updateParams(ht,vt){switch(ht){case AnnotationEditorParamsType.HIGHLIGHT_COLOR:On(this,Ls,o8).call(this,vt);break;case AnnotationEditorParamsType.HIGHLIGHT_THICKNESS:On(this,Ls,l8).call(this,vt);break}}static get defaultPropertiesToUpdate(){return[[AnnotationEditorParamsType.HIGHLIGHT_DEFAULT_COLOR,Ws._defaultColor],[AnnotationEditorParamsType.HIGHLIGHT_THICKNESS,Ws._defaultThickness]]}get propertiesToUpdate(){return[[AnnotationEditorParamsType.HIGHLIGHT_COLOR,this.color||Ws._defaultColor],[AnnotationEditorParamsType.HIGHLIGHT_THICKNESS,Mt(this,n0)||Ws._defaultThickness],[AnnotationEditorParamsType.HIGHLIGHT_FREE,Mt(this,Zo)]]}async addEditToolbar(){const ht=await super.addEditToolbar();return ht?(this._uiManager.highlightColors&&($n(this,Lp,new ColorPicker({editor:this})),ht.addColorPicker(Mt(this,Lp))),ht):null}disableEditing(){super.disableEditing(),this.div.classList.toggle("disabled",!0)}enableEditing(){super.enableEditing(),this.div.classList.toggle("disabled",!1)}fixAndSetPosition(){return super.fixAndSetPosition(On(this,Ls,rm).call(this))}getBaseTranslation(){return[0,0]}getRect(ht,vt){return super.getRect(ht,vt,On(this,Ls,rm).call(this))}onceAdded(){this.parent.addUndoableEditor(this),this.div.focus()}remove(){On(this,Ls,Z9).call(this),this._reportTelemetry({action:"deleted"}),super.remove()}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(On(this,Ls,im).call(this),this.isAttachedToDOM||this.parent.add(this)))}setParent(ht){var At;let vt=!1;this.parent&&!ht?On(this,Ls,Z9).call(this):ht&&(On(this,Ls,im).call(this,ht),vt=!this.parent&&((At=this.div)==null?void 0:At.classList.contains("selectedEditor"))),super.setParent(ht),this.show(this._isVisible),vt&&this.select()}rotate(ht){var St,kt,Et;const{drawLayer:vt}=this.parent;let At;Mt(this,Zo)?(ht=(ht-this.rotation+360)%360,At=On(St=Ws,Cl,j1).call(St,Mt(this,Ul).box,ht)):At=On(kt=Ws,Cl,j1).call(kt,this,ht),vt.rotate(Mt(this,Lo),ht),vt.rotate(Mt(this,go),ht),vt.updateBox(Mt(this,Lo),At),vt.updateBox(Mt(this,go),On(Et=Ws,Cl,j1).call(Et,Mt(this,Al).box,ht))}render(){if(this.div)return this.div;const ht=super.render();Mt(this,$p)&&(ht.setAttribute("aria-label",Mt(this,$p)),ht.setAttribute("role","mark")),Mt(this,Zo)?ht.classList.add("free"):this.div.addEventListener("keydown",Mt(this,s9));const vt=$n(this,d1,document.createElement("div"));ht.append(vt),vt.setAttribute("aria-hidden","true"),vt.className="internal",vt.style.clipPath=Mt(this,h1);const[At,St]=this.parentDimensions;return this.setDims(this.width*At,this.height*St),bindEvents(this,Mt(this,d1),["pointerover","pointerleave"]),this.enableEditing(),ht}pointerover(){this.parent.drawLayer.addClass(Mt(this,go),"hovered")}pointerleave(){this.parent.drawLayer.removeClass(Mt(this,go),"hovered")}_moveCaret(ht){switch(this.parent.unselect(this),ht){case 0:case 2:On(this,Ls,g2).call(this,!0);break;case 1:case 3:On(this,Ls,g2).call(this,!1);break}}select(){var ht,vt;super.select(),Mt(this,go)&&((ht=this.parent)==null||ht.drawLayer.removeClass(Mt(this,go),"hovered"),(vt=this.parent)==null||vt.drawLayer.addClass(Mt(this,go),"selected"))}unselect(){var ht;super.unselect(),Mt(this,go)&&((ht=this.parent)==null||ht.drawLayer.removeClass(Mt(this,go),"selected"),Mt(this,Zo)||On(this,Ls,g2).call(this,!1))}get _mustFixPosition(){return!Mt(this,Zo)}show(ht=this._isVisible){super.show(ht),this.parent&&(this.parent.drawLayer.show(Mt(this,Lo),ht),this.parent.drawLayer.show(Mt(this,go),ht))}static startHighlighting(ht,vt,{target:At,x:St,y:kt}){const{x:Et,y:Rt,width:wt,height:_t}=At.getBoundingClientRect(),Pt=Xt=>{On(this,Cl,f8).call(this,ht,Xt)},_e={capture:!0,passive:!1},bt=Xt=>{Xt.preventDefault(),Xt.stopPropagation()},Ft=Xt=>{At.removeEventListener("pointermove",Pt),window.removeEventListener("blur",Ft),window.removeEventListener("pointerup",Ft),window.removeEventListener("pointerdown",bt,_e),window.removeEventListener("contextmenu",noContextMenu),On(this,Cl,p8).call(this,ht,Xt)};window.addEventListener("blur",Ft),window.addEventListener("pointerup",Ft),window.addEventListener("pointerdown",bt,_e),window.addEventListener("contextmenu",noContextMenu),At.addEventListener("pointermove",Pt),this._freeHighlight=new FreeOutliner({x:St,y:kt},[Et,Rt,wt,_t],ht.scale,this._defaultThickness/2,vt,.001),{id:this._freeHighlightId,clipPathId:this._freeHighlightClipId}=ht.drawLayer.highlight(this._freeHighlight,this._defaultColor,this._defaultOpacity,!0)}static deserialize(ht,vt,At){var Xt;const St=super.deserialize(ht,vt,At),{rect:[kt,Et,Rt,wt],color:_t,quadPoints:Pt}=ht;St.color=Util.makeHexColor(..._t),$n(St,f1,ht.opacity);const[_e,bt]=St.pageDimensions;St.width=(Rt-kt)/_e,St.height=(wt-Et)/bt;const Ft=$n(St,uu,[]);for(let Kt=0;Kt<Pt.length;Kt+=8)Ft.push({x:(Pt[4]-Rt)/_e,y:(wt-(1-Pt[Kt+5]))/bt,width:(Pt[Kt+2]-Pt[Kt])/_e,height:(Pt[Kt+5]-Pt[Kt+1])/bt});return On(Xt=St,Ls,K9).call(Xt),St}serialize(ht=!1){if(this.isEmpty()||ht)return null;const vt=this.getRect(0,0),At=AnnotationEditor._colorManager.convert(this.color);return{annotationType:AnnotationEditorType.HIGHLIGHT,color:At,opacity:Mt(this,f1),thickness:Mt(this,n0),quadPoints:On(this,Ls,h8).call(this),outlines:On(this,Ls,d8).call(this,vt),pageIndex:this.pageIndex,rect:vt,rotation:On(this,Ls,rm).call(this),structTreeParentId:this._structTreeParentId}}static canCreateNewEmptyEditor(){return!1}};Dp=new WeakMap,jx=new WeakMap,uu=new WeakMap,h1=new WeakMap,Lp=new WeakMap,Al=new WeakMap,Bx=new WeakMap,Ux=new WeakMap,d1=new WeakMap,Ul=new WeakMap,Lo=new WeakMap,Zo=new WeakMap,s9=new WeakMap,Np=new WeakMap,f1=new WeakMap,go=new WeakMap,$p=new WeakMap,n0=new WeakMap,Hx=new WeakMap,Ls=new WeakSet,K9=function(){const ht=new Outliner(Mt(this,uu),.001);$n(this,Ul,ht.getOutlines()),{x:this.x,y:this.y,width:this.width,height:this.height}=Mt(this,Ul).box;const vt=new Outliner(Mt(this,uu),.0025,.001,this._uiManager.direction==="ltr");$n(this,Al,vt.getOutlines());const{lastPoint:At}=Mt(this,Al).box;$n(this,Np,[(At[0]-this.x)/this.width,(At[1]-this.y)/this.height])},Y9=function({highlightOutlines:ht,highlightId:vt,clipPathId:At}){var Pt,_e;if($n(this,Ul,ht),$n(this,Al,ht.getNewOutline(Mt(this,n0)/2+1.5,.0025)),vt>=0)$n(this,Lo,vt),$n(this,h1,At),this.parent.drawLayer.finalizeLine(vt,ht),$n(this,go,this.parent.drawLayer.highlightOutline(Mt(this,Al)));else if(this.parent){const bt=this.parent.viewport.rotation;this.parent.drawLayer.updateLine(Mt(this,Lo),ht),this.parent.drawLayer.updateBox(Mt(this,Lo),On(Pt=Ws,Cl,j1).call(Pt,Mt(this,Ul).box,(bt-this.rotation+360)%360)),this.parent.drawLayer.updateLine(Mt(this,go),Mt(this,Al)),this.parent.drawLayer.updateBox(Mt(this,go),On(_e=Ws,Cl,j1).call(_e,Mt(this,Al).box,bt))}const{x:kt,y:Et,width:Rt,height:wt}=ht.box;switch(this.rotation){case 0:this.x=kt,this.y=Et,this.width=Rt,this.height=wt;break;case 90:{const[bt,Ft]=this.parentDimensions;this.x=Et,this.y=1-kt,this.width=Rt*Ft/bt,this.height=wt*bt/Ft;break}case 180:this.x=1-kt,this.y=1-Et,this.width=Rt,this.height=wt;break;case 270:{const[bt,Ft]=this.parentDimensions;this.x=1-Et,this.y=kt,this.width=Rt*Ft/bt,this.height=wt*bt/Ft;break}}const{lastPoint:_t}=Mt(this,Al).box;$n(this,Np,[(_t[0]-kt)/Rt,(_t[1]-Et)/wt])},o8=function(ht){const vt=St=>{var kt,Et;this.color=St,(kt=this.parent)==null||kt.drawLayer.changeColor(Mt(this,Lo),St),(Et=Mt(this,Lp))==null||Et.updateColor(St)},At=this.color;this.addCommands({cmd:vt.bind(this,ht),undo:vt.bind(this,At),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:AnnotationEditorParamsType.HIGHLIGHT_COLOR,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"color_changed",color:this._uiManager.highlightColorNames.get(ht)},!0)},l8=function(ht){const vt=Mt(this,n0),At=St=>{$n(this,n0,St),On(this,Ls,c8).call(this,St)};this.addCommands({cmd:At.bind(this,ht),undo:At.bind(this,vt),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:AnnotationEditorParamsType.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"thickness_changed",thickness:ht},!0)},c8=function(ht){if(!Mt(this,Zo))return;On(this,Ls,Y9).call(this,{highlightOutlines:Mt(this,Ul).getNewOutline(ht/2)}),this.fixAndSetPosition();const[vt,At]=this.parentDimensions;this.setDims(this.width*vt,this.height*At)},Z9=function(){Mt(this,Lo)===null||!this.parent||(this.parent.drawLayer.remove(Mt(this,Lo)),$n(this,Lo,null),this.parent.drawLayer.remove(Mt(this,go)),$n(this,go,null))},im=function(ht=this.parent){Mt(this,Lo)===null&&({id:So(this,Lo)._,clipPathId:So(this,h1)._}=ht.drawLayer.highlight(Mt(this,Ul),this.color,Mt(this,f1)),$n(this,go,ht.drawLayer.highlightOutline(Mt(this,Al))),Mt(this,d1)&&(Mt(this,d1).style.clipPath=Mt(this,h1)))},Cl=new WeakSet,j1=function({x:ht,y:vt,width:At,height:St},kt){switch(kt){case 90:return{x:1-vt-St,y:ht,width:St,height:At};case 180:return{x:1-ht-At,y:1-vt-St,width:At,height:St};case 270:return{x:vt,y:1-ht-At,width:St,height:At}}return{x:ht,y:vt,width:At,height:St}},u8=function(ht){Ws._keyboardManager.exec(this,ht)},g2=function(ht){if(!Mt(this,Dp))return;const vt=window.getSelection();ht?vt.setPosition(Mt(this,Dp),Mt(this,jx)):vt.setPosition(Mt(this,Bx),Mt(this,Ux))},rm=function(){return Mt(this,Zo)?this.rotation:0},h8=function(){if(Mt(this,Zo))return null;const[ht,vt]=this.pageDimensions,At=Mt(this,uu),St=new Array(At.length*8);let kt=0;for(const{x:Et,y:Rt,width:wt,height:_t}of At){const Pt=Et*ht,_e=(1-Rt-_t)*vt;St[kt]=St[kt+4]=Pt,St[kt+1]=St[kt+3]=_e,St[kt+2]=St[kt+6]=Pt+wt*ht,St[kt+5]=St[kt+7]=_e+_t*vt,kt+=8}return St},d8=function(ht){return Mt(this,Ul).serialize(ht,On(this,Ls,rm).call(this))},f8=function(ht,vt){this._freeHighlight.add(vt)&&ht.drawLayer.updatePath(this._freeHighlightId,this._freeHighlight)},p8=function(ht,vt){this._freeHighlight.isEmpty()?ht.drawLayer.removeFreeHighlight(this._freeHighlightId):ht.createAndAddNewEditor(vt,!1,{highlightId:this._freeHighlightId,highlightOutlines:this._freeHighlight.getOutlines(),clipPathId:this._freeHighlightClipId,methodOfCreation:"main_toolbar"}),this._freeHighlightId=-1,this._freeHighlight=null,this._freeHighlightClipId=""},Nn(Ws,Cl),Ur(Ws,"_defaultColor",null),Ur(Ws,"_defaultOpacity",1),Ur(Ws,"_defaultThickness",12),Ur(Ws,"_l10nPromise"),Ur(Ws,"_type","highlight"),Ur(Ws,"_editorType",AnnotationEditorType.HIGHLIGHT),Ur(Ws,"_freeHighlightId",-1),Ur(Ws,"_freeHighlight",null),Ur(Ws,"_freeHighlightClipId","");let HighlightEditor=Ws;var p1,g1,zx,Xx,Wx,m1,i0,O0,Sl,x1,b1,y1,v1,w1,hu,Zr,g8,m8,x8,b8,J9,y8,Q9,v8,w8,A8,S8,E8,Ru,e3,m2,x2,B1,t3,b2,H0,C8,n3,k8,T8,i3,y2,sm;const so=class so extends AnnotationEditor{constructor(ht){super({...ht,name:"inkEditor"});Nn(this,Zr);Nn(this,p1,0);Nn(this,g1,0);Nn(this,zx,this.canvasPointermove.bind(this));Nn(this,Xx,this.canvasPointerleave.bind(this));Nn(this,Wx,this.canvasPointerup.bind(this));Nn(this,m1,this.canvasPointerdown.bind(this));Nn(this,i0,null);Nn(this,O0,new Path2D);Nn(this,Sl,!1);Nn(this,x1,!1);Nn(this,b1,!1);Nn(this,y1,null);Nn(this,v1,0);Nn(this,w1,0);Nn(this,hu,null);this.color=ht.color||null,this.thickness=ht.thickness||null,this.opacity=ht.opacity||null,this.paths=[],this.bezierPath2D=[],this.allRawPaths=[],this.currentPath=[],this.scaleFactor=1,this.translationX=this.translationY=0,this.x=0,this.y=0,this._willKeepAspectRatio=!0}static initialize(ht,vt){AnnotationEditor.initialize(ht,vt)}static updateDefaultParams(ht,vt){switch(ht){case AnnotationEditorParamsType.INK_THICKNESS:so._defaultThickness=vt;break;case AnnotationEditorParamsType.INK_COLOR:so._defaultColor=vt;break;case AnnotationEditorParamsType.INK_OPACITY:so._defaultOpacity=vt/100;break}}updateParams(ht,vt){switch(ht){case AnnotationEditorParamsType.INK_THICKNESS:On(this,Zr,g8).call(this,vt);break;case AnnotationEditorParamsType.INK_COLOR:On(this,Zr,m8).call(this,vt);break;case AnnotationEditorParamsType.INK_OPACITY:On(this,Zr,x8).call(this,vt);break}}static get defaultPropertiesToUpdate(){return[[AnnotationEditorParamsType.INK_THICKNESS,so._defaultThickness],[AnnotationEditorParamsType.INK_COLOR,so._defaultColor||AnnotationEditor._defaultLineColor],[AnnotationEditorParamsType.INK_OPACITY,Math.round(so._defaultOpacity*100)]]}get propertiesToUpdate(){return[[AnnotationEditorParamsType.INK_THICKNESS,this.thickness||so._defaultThickness],[AnnotationEditorParamsType.INK_COLOR,this.color||so._defaultColor||AnnotationEditor._defaultLineColor],[AnnotationEditorParamsType.INK_OPACITY,Math.round(100*(this.opacity??so._defaultOpacity))]]}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.canvas||(On(this,Zr,m2).call(this),On(this,Zr,x2).call(this)),this.isAttachedToDOM||(this.parent.add(this),On(this,Zr,B1).call(this)),On(this,Zr,sm).call(this)))}remove(){this.canvas!==null&&(this.isEmpty()||this.commit(),this.canvas.width=this.canvas.height=0,this.canvas.remove(),this.canvas=null,Mt(this,i0)&&(clearTimeout(Mt(this,i0)),$n(this,i0,null)),Mt(this,y1).disconnect(),$n(this,y1,null),super.remove())}setParent(ht){!this.parent&&ht?this._uiManager.removeShouldRescale(this):this.parent&&ht===null&&this._uiManager.addShouldRescale(this),super.setParent(ht)}onScaleChanging(){const[ht,vt]=this.parentDimensions,At=this.width*ht,St=this.height*vt;this.setDimensions(At,St)}enableEditMode(){Mt(this,Sl)||this.canvas===null||(super.enableEditMode(),this._isDraggable=!1,this.canvas.addEventListener("pointerdown",Mt(this,m1)))}disableEditMode(){!this.isInEditMode()||this.canvas===null||(super.disableEditMode(),this._isDraggable=!this.isEmpty(),this.div.classList.remove("editing"),this.canvas.removeEventListener("pointerdown",Mt(this,m1)))}onceAdded(){this._isDraggable=!this.isEmpty()}isEmpty(){return this.paths.length===0||this.paths.length===1&&this.paths[0].length===0}commit(){Mt(this,Sl)||(super.commit(),this.isEditing=!1,this.disableEditMode(),this.setInForeground(),$n(this,Sl,!0),this.div.classList.add("disabled"),On(this,Zr,sm).call(this,!0),this.select(),this.parent.addInkEditorIfNeeded(!0),this.moveInDOM(),this.div.focus({preventScroll:!0}))}focusin(ht){this._focusEventsAllowed&&(super.focusin(ht),this.enableEditMode())}canvasPointerdown(ht){ht.button!==0||!this.isInEditMode()||Mt(this,Sl)||(this.setInForeground(),ht.preventDefault(),this.div.contains(document.activeElement)||this.div.focus({preventScroll:!0}),On(this,Zr,y8).call(this,ht.offsetX,ht.offsetY))}canvasPointermove(ht){ht.preventDefault(),On(this,Zr,Q9).call(this,ht.offsetX,ht.offsetY)}canvasPointerup(ht){ht.preventDefault(),On(this,Zr,e3).call(this,ht)}canvasPointerleave(ht){On(this,Zr,e3).call(this,ht)}get isResizable(){return!this.isEmpty()&&Mt(this,Sl)}render(){if(this.div)return this.div;let ht,vt;this.width&&(ht=this.x,vt=this.y),super.render(),this.div.setAttribute("data-l10n-id","pdfjs-ink");const[At,St,kt,Et]=On(this,Zr,b8).call(this);if(this.setAt(At,St,0,0),this.setDims(kt,Et),On(this,Zr,m2).call(this),this.width){const[Rt,wt]=this.parentDimensions;this.setAspectRatio(this.width*Rt,this.height*wt),this.setAt(ht*Rt,vt*wt,this.width*Rt,this.height*wt),$n(this,b1,!0),On(this,Zr,B1).call(this),this.setDims(this.width*Rt,this.height*wt),On(this,Zr,Ru).call(this),this.div.classList.add("disabled")}else this.div.classList.add("editing"),this.enableEditMode();return On(this,Zr,x2).call(this),this.div}setDimensions(ht,vt){const At=Math.round(ht),St=Math.round(vt);if(Mt(this,v1)===At&&Mt(this,w1)===St)return;$n(this,v1,At),$n(this,w1,St),this.canvas.style.visibility="hidden";const[kt,Et]=this.parentDimensions;this.width=ht/kt,this.height=vt/Et,this.fixAndSetPosition(),Mt(this,Sl)&&On(this,Zr,t3).call(this,ht,vt),On(this,Zr,B1).call(this),On(this,Zr,Ru).call(this),this.canvas.style.visibility="visible",this.fixDims()}static deserialize(ht,vt,At){var Kt,Nt,$t;if(ht instanceof InkAnnotationElement)return null;const St=super.deserialize(ht,vt,At);St.thickness=ht.thickness,St.color=Util.makeHexColor(...ht.color),St.opacity=ht.opacity;const[kt,Et]=St.pageDimensions,Rt=St.width*kt,wt=St.height*Et,_t=St.parentScale,Pt=ht.thickness/2;$n(St,Sl,!0),$n(St,v1,Math.round(Rt)),$n(St,w1,Math.round(wt));const{paths:_e,rect:bt,rotation:Ft}=ht;for(let{bezier:Dt}of _e){Dt=On(Kt=so,H0,k8).call(Kt,Dt,bt,Ft);const jt=[];St.paths.push(jt);let Ct=_t*(Dt[0]-Pt),qt=_t*(Dt[1]-Pt);for(let Gt=2,en=Dt.length;Gt<en;Gt+=6){const dn=_t*(Dt[Gt]-Pt),Qt=_t*(Dt[Gt+1]-Pt),gn=_t*(Dt[Gt+2]-Pt),nn=_t*(Dt[Gt+3]-Pt),bn=_t*(Dt[Gt+4]-Pt),Vt=_t*(Dt[Gt+5]-Pt);jt.push([[Ct,qt],[dn,Qt],[gn,nn],[bn,Vt]]),Ct=bn,qt=Vt}const Bt=On(this,H0,C8).call(this,jt);St.bezierPath2D.push(Bt)}const Xt=On(Nt=St,Zr,i3).call(Nt);return $n(St,g1,Math.max(AnnotationEditor.MIN_SIZE,Xt[2]-Xt[0])),$n(St,p1,Math.max(AnnotationEditor.MIN_SIZE,Xt[3]-Xt[1])),On($t=St,Zr,t3).call($t,Rt,wt),St}serialize(){if(this.isEmpty())return null;const ht=this.getRect(0,0),vt=AnnotationEditor._colorManager.convert(this.ctx.strokeStyle);return{annotationType:AnnotationEditorType.INK,color:vt,thickness:this.thickness,opacity:this.opacity,paths:On(this,Zr,T8).call(this,this.scaleFactor/this.parentScale,this.translationX,this.translationY,ht),pageIndex:this.pageIndex,rect:ht,rotation:this.rotation,structTreeParentId:this._structTreeParentId}}};p1=new WeakMap,g1=new WeakMap,zx=new WeakMap,Xx=new WeakMap,Wx=new WeakMap,m1=new WeakMap,i0=new WeakMap,O0=new WeakMap,Sl=new WeakMap,x1=new WeakMap,b1=new WeakMap,y1=new WeakMap,v1=new WeakMap,w1=new WeakMap,hu=new WeakMap,Zr=new WeakSet,g8=function(ht){const vt=St=>{this.thickness=St,On(this,Zr,sm).call(this)},At=this.thickness;this.addCommands({cmd:vt.bind(this,ht),undo:vt.bind(this,At),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:AnnotationEditorParamsType.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0})},m8=function(ht){const vt=St=>{this.color=St,On(this,Zr,Ru).call(this)},At=this.color;this.addCommands({cmd:vt.bind(this,ht),undo:vt.bind(this,At),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:AnnotationEditorParamsType.INK_COLOR,overwriteIfSameType:!0,keepUndo:!0})},x8=function(ht){const vt=St=>{this.opacity=St,On(this,Zr,Ru).call(this)};ht/=100;const At=this.opacity;this.addCommands({cmd:vt.bind(this,ht),undo:vt.bind(this,At),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:AnnotationEditorParamsType.INK_OPACITY,overwriteIfSameType:!0,keepUndo:!0})},b8=function(){const{parentRotation:ht,parentDimensions:[vt,At]}=this;switch(ht){case 90:return[0,At,At,vt];case 180:return[vt,At,vt,At];case 270:return[vt,0,At,vt];default:return[0,0,vt,At]}},J9=function(){const{ctx:ht,color:vt,opacity:At,thickness:St,parentScale:kt,scaleFactor:Et}=this;ht.lineWidth=St*kt/Et,ht.lineCap="round",ht.lineJoin="round",ht.miterLimit=10,ht.strokeStyle=`${vt}${opacityToHex(At)}`},y8=function(ht,vt){this.canvas.addEventListener("contextmenu",noContextMenu),this.canvas.addEventListener("pointerleave",Mt(this,Xx)),this.canvas.addEventListener("pointermove",Mt(this,zx)),this.canvas.addEventListener("pointerup",Mt(this,Wx)),this.canvas.removeEventListener("pointerdown",Mt(this,m1)),this.isEditing=!0,Mt(this,b1)||($n(this,b1,!0),On(this,Zr,B1).call(this),this.thickness||(this.thickness=so._defaultThickness),this.color||(this.color=so._defaultColor||AnnotationEditor._defaultLineColor),this.opacity??(this.opacity=so._defaultOpacity)),this.currentPath.push([ht,vt]),$n(this,x1,!1),On(this,Zr,J9).call(this),$n(this,hu,()=>{On(this,Zr,A8).call(this),Mt(this,hu)&&window.requestAnimationFrame(Mt(this,hu))}),window.requestAnimationFrame(Mt(this,hu))},Q9=function(ht,vt){const[At,St]=this.currentPath.at(-1);if(this.currentPath.length>1&&ht===At&&vt===St)return;const kt=this.currentPath;let Et=Mt(this,O0);if(kt.push([ht,vt]),$n(this,x1,!0),kt.length<=2){Et.moveTo(...kt[0]),Et.lineTo(ht,vt);return}kt.length===3&&($n(this,O0,Et=new Path2D),Et.moveTo(...kt[0])),On(this,Zr,S8).call(this,Et,...kt.at(-3),...kt.at(-2),ht,vt)},v8=function(){if(this.currentPath.length===0)return;const ht=this.currentPath.at(-1);Mt(this,O0).lineTo(...ht)},w8=function(ht,vt){$n(this,hu,null),ht=Math.min(Math.max(ht,0),this.canvas.width),vt=Math.min(Math.max(vt,0),this.canvas.height),On(this,Zr,Q9).call(this,ht,vt),On(this,Zr,v8).call(this);let At;if(this.currentPath.length!==1)At=On(this,Zr,E8).call(this);else{const wt=[ht,vt];At=[[wt,wt.slice(),wt.slice(),wt]]}const St=Mt(this,O0),kt=this.currentPath;this.currentPath=[],$n(this,O0,new Path2D);const Et=()=>{this.allRawPaths.push(kt),this.paths.push(At),this.bezierPath2D.push(St),this._uiManager.rebuild(this)},Rt=()=>{this.allRawPaths.pop(),this.paths.pop(),this.bezierPath2D.pop(),this.paths.length===0?this.remove():(this.canvas||(On(this,Zr,m2).call(this),On(this,Zr,x2).call(this)),On(this,Zr,sm).call(this))};this.addCommands({cmd:Et,undo:Rt,mustExec:!0})},A8=function(){if(!Mt(this,x1))return;$n(this,x1,!1);const ht=Math.ceil(this.thickness*this.parentScale),vt=this.currentPath.slice(-3),At=vt.map(Et=>Et[0]),St=vt.map(Et=>Et[1]);Math.min(...At)-ht,Math.max(...At)+ht,Math.min(...St)-ht,Math.max(...St)+ht;const{ctx:kt}=this;kt.save(),kt.clearRect(0,0,this.canvas.width,this.canvas.height);for(const Et of this.bezierPath2D)kt.stroke(Et);kt.stroke(Mt(this,O0)),kt.restore()},S8=function(ht,vt,At,St,kt,Et,Rt){const wt=(vt+St)/2,_t=(At+kt)/2,Pt=(St+Et)/2,_e=(kt+Rt)/2;ht.bezierCurveTo(wt+2*(St-wt)/3,_t+2*(kt-_t)/3,Pt+2*(St-Pt)/3,_e+2*(kt-_e)/3,Pt,_e)},E8=function(){const ht=this.currentPath;if(ht.length<=2)return[[ht[0],ht[0],ht.at(-1),ht.at(-1)]];const vt=[];let At,[St,kt]=ht[0];for(At=1;At<ht.length-2;At++){const[bt,Ft]=ht[At],[Xt,Kt]=ht[At+1],Nt=(bt+Xt)/2,$t=(Ft+Kt)/2,Dt=[St+2*(bt-St)/3,kt+2*(Ft-kt)/3],jt=[Nt+2*(bt-Nt)/3,$t+2*(Ft-$t)/3];vt.push([[St,kt],Dt,jt,[Nt,$t]]),[St,kt]=[Nt,$t]}const[Et,Rt]=ht[At],[wt,_t]=ht[At+1],Pt=[St+2*(Et-St)/3,kt+2*(Rt-kt)/3],_e=[wt+2*(Et-wt)/3,_t+2*(Rt-_t)/3];return vt.push([[St,kt],Pt,_e,[wt,_t]]),vt},Ru=function(){if(this.isEmpty()){On(this,Zr,b2).call(this);return}On(this,Zr,J9).call(this);const{canvas:ht,ctx:vt}=this;vt.setTransform(1,0,0,1,0,0),vt.clearRect(0,0,ht.width,ht.height),On(this,Zr,b2).call(this);for(const At of this.bezierPath2D)vt.stroke(At)},e3=function(ht){this.canvas.removeEventListener("pointerleave",Mt(this,Xx)),this.canvas.removeEventListener("pointermove",Mt(this,zx)),this.canvas.removeEventListener("pointerup",Mt(this,Wx)),this.canvas.addEventListener("pointerdown",Mt(this,m1)),Mt(this,i0)&&clearTimeout(Mt(this,i0)),$n(this,i0,setTimeout(()=>{$n(this,i0,null),this.canvas.removeEventListener("contextmenu",noContextMenu)},10)),On(this,Zr,w8).call(this,ht.offsetX,ht.offsetY),this.addToAnnotationStorage(),this.setInBackground()},m2=function(){this.canvas=document.createElement("canvas"),this.canvas.width=this.canvas.height=0,this.canvas.className="inkEditorCanvas",this.canvas.setAttribute("data-l10n-id","pdfjs-ink-canvas"),this.div.append(this.canvas),this.ctx=this.canvas.getContext("2d")},x2=function(){$n(this,y1,new ResizeObserver(ht=>{const vt=ht[0].contentRect;vt.width&&vt.height&&this.setDimensions(vt.width,vt.height)})),Mt(this,y1).observe(this.div)},B1=function(){if(!Mt(this,b1))return;const[ht,vt]=this.parentDimensions;this.canvas.width=Math.ceil(this.width*ht),this.canvas.height=Math.ceil(this.height*vt),On(this,Zr,b2).call(this)},t3=function(ht,vt){const At=On(this,Zr,y2).call(this),St=(ht-At)/Mt(this,g1),kt=(vt-At)/Mt(this,p1);this.scaleFactor=Math.min(St,kt)},b2=function(){const ht=On(this,Zr,y2).call(this)/2;this.ctx.setTransform(this.scaleFactor,0,0,this.scaleFactor,this.translationX*this.scaleFactor+ht,this.translationY*this.scaleFactor+ht)},H0=new WeakSet,C8=function(ht){const vt=new Path2D;for(let At=0,St=ht.length;At<St;At++){const[kt,Et,Rt,wt]=ht[At];At===0&&vt.moveTo(...kt),vt.bezierCurveTo(Et[0],Et[1],Rt[0],Rt[1],wt[0],wt[1])}return vt},n3=function(ht,vt,At){const[St,kt,Et,Rt]=vt;switch(At){case 0:for(let wt=0,_t=ht.length;wt<_t;wt+=2)ht[wt]+=St,ht[wt+1]=Rt-ht[wt+1];break;case 90:for(let wt=0,_t=ht.length;wt<_t;wt+=2){const Pt=ht[wt];ht[wt]=ht[wt+1]+St,ht[wt+1]=Pt+kt}break;case 180:for(let wt=0,_t=ht.length;wt<_t;wt+=2)ht[wt]=Et-ht[wt],ht[wt+1]+=kt;break;case 270:for(let wt=0,_t=ht.length;wt<_t;wt+=2){const Pt=ht[wt];ht[wt]=Et-ht[wt+1],ht[wt+1]=Rt-Pt}break;default:throw new Error("Invalid rotation")}return ht},k8=function(ht,vt,At){const[St,kt,Et,Rt]=vt;switch(At){case 0:for(let wt=0,_t=ht.length;wt<_t;wt+=2)ht[wt]-=St,ht[wt+1]=Rt-ht[wt+1];break;case 90:for(let wt=0,_t=ht.length;wt<_t;wt+=2){const Pt=ht[wt];ht[wt]=ht[wt+1]-kt,ht[wt+1]=Pt-St}break;case 180:for(let wt=0,_t=ht.length;wt<_t;wt+=2)ht[wt]=Et-ht[wt],ht[wt+1]-=kt;break;case 270:for(let wt=0,_t=ht.length;wt<_t;wt+=2){const Pt=ht[wt];ht[wt]=Rt-ht[wt+1],ht[wt+1]=Et-Pt}break;default:throw new Error("Invalid rotation")}return ht},T8=function(ht,vt,At,St){var _t,Pt;const kt=[],Et=this.thickness/2,Rt=ht*vt+Et,wt=ht*At+Et;for(const _e of this.paths){const bt=[],Ft=[];for(let Xt=0,Kt=_e.length;Xt<Kt;Xt++){const[Nt,$t,Dt,jt]=_e[Xt];if(Nt[0]===jt[0]&&Nt[1]===jt[1]&&Kt===1){const nn=ht*Nt[0]+Rt,bn=ht*Nt[1]+wt;bt.push(nn,bn),Ft.push(nn,bn);break}const Ct=ht*Nt[0]+Rt,qt=ht*Nt[1]+wt,Bt=ht*$t[0]+Rt,Gt=ht*$t[1]+wt,en=ht*Dt[0]+Rt,dn=ht*Dt[1]+wt,Qt=ht*jt[0]+Rt,gn=ht*jt[1]+wt;Xt===0&&(bt.push(Ct,qt),Ft.push(Ct,qt)),bt.push(Bt,Gt,en,dn,Qt,gn),Ft.push(Bt,Gt),Xt===Kt-1&&Ft.push(Qt,gn)}kt.push({bezier:On(_t=so,H0,n3).call(_t,bt,St,this.rotation),points:On(Pt=so,H0,n3).call(Pt,Ft,St,this.rotation)})}return kt},i3=function(){let ht=1/0,vt=-1/0,At=1/0,St=-1/0;for(const kt of this.paths)for(const[Et,Rt,wt,_t]of kt){const Pt=Util.bezierBoundingBox(...Et,...Rt,...wt,..._t);ht=Math.min(ht,Pt[0]),At=Math.min(At,Pt[1]),vt=Math.max(vt,Pt[2]),St=Math.max(St,Pt[3])}return[ht,At,vt,St]},y2=function(){return Mt(this,Sl)?Math.ceil(this.thickness*this.parentScale):0},sm=function(ht=!1){if(this.isEmpty())return;if(!Mt(this,Sl)){On(this,Zr,Ru).call(this);return}const vt=On(this,Zr,i3).call(this),At=On(this,Zr,y2).call(this);$n(this,g1,Math.max(AnnotationEditor.MIN_SIZE,vt[2]-vt[0])),$n(this,p1,Math.max(AnnotationEditor.MIN_SIZE,vt[3]-vt[1]));const St=Math.ceil(At+Mt(this,g1)*this.scaleFactor),kt=Math.ceil(At+Mt(this,p1)*this.scaleFactor),[Et,Rt]=this.parentDimensions;this.width=St/Et,this.height=kt/Rt,this.setAspectRatio(St,kt);const wt=this.translationX,_t=this.translationY;this.translationX=-vt[0],this.translationY=-vt[1],On(this,Zr,B1).call(this),On(this,Zr,Ru).call(this),$n(this,v1,St),$n(this,w1,kt),this.setDims(St,kt);const Pt=ht?At/this.scaleFactor/2:0;this.translate(wt-this.translationX-Pt,_t-this.translationY-Pt)},Nn(so,H0),Ur(so,"_defaultColor",null),Ur(so,"_defaultOpacity",1),Ur(so,"_defaultThickness",1),Ur(so,"_type","ink"),Ur(so,"_editorType",AnnotationEditorType.INK);let InkEditor=so;var Ro,Fo,du,D0,fu,jp,r0,A1,s0,Hl,Vx,zs,am,om,v2,r3,_8,R8,s3,w2,F8;const gm=class gm extends AnnotationEditor{constructor(ht){super({...ht,name:"stampEditor"});Nn(this,zs);Nn(this,Ro,null);Nn(this,Fo,null);Nn(this,du,null);Nn(this,D0,null);Nn(this,fu,null);Nn(this,jp,"");Nn(this,r0,null);Nn(this,A1,null);Nn(this,s0,null);Nn(this,Hl,!1);Nn(this,Vx,!1);$n(this,D0,ht.bitmapUrl),$n(this,fu,ht.bitmapFile)}static initialize(ht,vt){AnnotationEditor.initialize(ht,vt)}static get supportedTypes(){return shadow(this,"supportedTypes",["apng","avif","bmp","gif","jpeg","png","svg+xml","webp","x-icon"].map(vt=>`image/${vt}`))}static get supportedTypesStr(){return shadow(this,"supportedTypesStr",this.supportedTypes.join(","))}static isHandlingMimeForPasting(ht){return this.supportedTypes.includes(ht)}static paste(ht,vt){vt.pasteEditor(AnnotationEditorType.STAMP,{bitmapFile:ht.getAsFile()})}remove(){var ht,vt;Mt(this,Fo)&&($n(this,Ro,null),this._uiManager.imageManager.deleteId(Mt(this,Fo)),(ht=Mt(this,r0))==null||ht.remove(),$n(this,r0,null),(vt=Mt(this,A1))==null||vt.disconnect(),$n(this,A1,null),Mt(this,s0)&&(clearTimeout(Mt(this,s0)),$n(this,s0,null))),super.remove()}rebuild(){if(!this.parent){Mt(this,Fo)&&On(this,zs,v2).call(this);return}super.rebuild(),this.div!==null&&(Mt(this,Fo)&&Mt(this,r0)===null&&On(this,zs,v2).call(this),this.isAttachedToDOM||this.parent.add(this))}onceAdded(){this._isDraggable=!0,this.div.focus()}isEmpty(){return!(Mt(this,du)||Mt(this,Ro)||Mt(this,D0)||Mt(this,fu)||Mt(this,Fo))}get isResizable(){return!0}render(){if(this.div)return this.div;let ht,vt;if(this.width&&(ht=this.x,vt=this.y),super.render(),this.div.hidden=!0,this.addAltTextButton(),Mt(this,Ro)?On(this,zs,r3).call(this):On(this,zs,v2).call(this),this.width){const[At,St]=this.parentDimensions;this.setAt(ht*At,vt*St,this.width*At,this.height*St)}return this.div}getImageForAltText(){return Mt(this,r0)}static deserialize(ht,vt,At){if(ht instanceof StampAnnotationElement)return null;const St=super.deserialize(ht,vt,At),{rect:kt,bitmapUrl:Et,bitmapId:Rt,isSvg:wt,accessibilityData:_t}=ht;Rt&&At.imageManager.isValidId(Rt)?$n(St,Fo,Rt):$n(St,D0,Et),$n(St,Hl,wt);const[Pt,_e]=St.pageDimensions;return St.width=(kt[2]-kt[0])/Pt,St.height=(kt[3]-kt[1])/_e,_t&&(St.altTextData=_t),St}serialize(ht=!1,vt=null){if(this.isEmpty())return null;const At={annotationType:AnnotationEditorType.STAMP,bitmapId:Mt(this,Fo),pageIndex:this.pageIndex,rect:this.getRect(0,0),rotation:this.rotation,isSvg:Mt(this,Hl),structTreeParentId:this._structTreeParentId};if(ht)return At.bitmapUrl=On(this,zs,w2).call(this,!0),At.accessibilityData=this.altTextData,At;const{decorative:St,altText:kt}=this.altTextData;if(!St&&kt&&(At.accessibilityData={type:"Figure",alt:kt}),vt===null)return At;vt.stamps||(vt.stamps=new Map);const Et=Mt(this,Hl)?(At.rect[2]-At.rect[0])*(At.rect[3]-At.rect[1]):null;if(!vt.stamps.has(Mt(this,Fo)))vt.stamps.set(Mt(this,Fo),{area:Et,serialized:At}),At.bitmap=On(this,zs,w2).call(this,!1);else if(Mt(this,Hl)){const Rt=vt.stamps.get(Mt(this,Fo));Et>Rt.area&&(Rt.area=Et,Rt.serialized.bitmap.close(),Rt.serialized.bitmap=On(this,zs,w2).call(this,!1))}return At}};Ro=new WeakMap,Fo=new WeakMap,du=new WeakMap,D0=new WeakMap,fu=new WeakMap,jp=new WeakMap,r0=new WeakMap,A1=new WeakMap,s0=new WeakMap,Hl=new WeakMap,Vx=new WeakMap,zs=new WeakSet,am=function(ht,vt=!1){if(!ht){this.remove();return}$n(this,Ro,ht.bitmap),vt||($n(this,Fo,ht.id),$n(this,Hl,ht.isSvg)),ht.file&&$n(this,jp,ht.file.name),On(this,zs,r3).call(this)},om=function(){$n(this,du,null),this._uiManager.enableWaiting(!1),Mt(this,r0)&&this.div.focus()},v2=function(){if(Mt(this,Fo)){this._uiManager.enableWaiting(!0),this._uiManager.imageManager.getFromId(Mt(this,Fo)).then(vt=>On(this,zs,am).call(this,vt,!0)).finally(()=>On(this,zs,om).call(this));return}if(Mt(this,D0)){const vt=Mt(this,D0);$n(this,D0,null),this._uiManager.enableWaiting(!0),$n(this,du,this._uiManager.imageManager.getFromUrl(vt).then(At=>On(this,zs,am).call(this,At)).finally(()=>On(this,zs,om).call(this)));return}if(Mt(this,fu)){const vt=Mt(this,fu);$n(this,fu,null),this._uiManager.enableWaiting(!0),$n(this,du,this._uiManager.imageManager.getFromFile(vt).then(At=>On(this,zs,am).call(this,At)).finally(()=>On(this,zs,om).call(this)));return}const ht=document.createElement("input");ht.type="file",ht.accept=gm.supportedTypesStr,$n(this,du,new Promise(vt=>{ht.addEventListener("change",async()=>{if(!ht.files||ht.files.length===0)this.remove();else{this._uiManager.enableWaiting(!0);const At=await this._uiManager.imageManager.getFromFile(ht.files[0]);On(this,zs,am).call(this,At)}vt()}),ht.addEventListener("cancel",()=>{this.remove(),vt()})}).finally(()=>On(this,zs,om).call(this))),ht.click()},r3=function(){const{div:ht}=this;let{width:vt,height:At}=Mt(this,Ro);const[St,kt]=this.pageDimensions,Et=.75;if(this.width)vt=this.width*St,At=this.height*kt;else if(vt>Et*St||At>Et*kt){const Pt=Math.min(Et*St/vt,Et*kt/At);vt*=Pt,At*=Pt}const[Rt,wt]=this.parentDimensions;this.setDims(vt*Rt/St,At*wt/kt),this._uiManager.enableWaiting(!1);const _t=$n(this,r0,document.createElement("canvas"));ht.append(_t),ht.hidden=!1,On(this,zs,s3).call(this,vt,At),On(this,zs,F8).call(this),Mt(this,Vx)||(this.parent.addUndoableEditor(this),$n(this,Vx,!0)),this._reportTelemetry({action:"inserted_image"}),Mt(this,jp)&&_t.setAttribute("aria-label",Mt(this,jp))},_8=function(ht,vt){var Et;const[At,St]=this.parentDimensions;this.width=ht/At,this.height=vt/St,this.setDims(ht,vt),(Et=this._initialOptions)!=null&&Et.isCentered?this.center():this.fixAndSetPosition(),this._initialOptions=null,Mt(this,s0)!==null&&clearTimeout(Mt(this,s0)),$n(this,s0,setTimeout(()=>{$n(this,s0,null),On(this,zs,s3).call(this,ht,vt)},200))},R8=function(ht,vt){const{width:At,height:St}=Mt(this,Ro);let kt=At,Et=St,Rt=Mt(this,Ro);for(;kt>2*ht||Et>2*vt;){const wt=kt,_t=Et;kt>2*ht&&(kt=kt>=16384?Math.floor(kt/2)-1:Math.ceil(kt/2)),Et>2*vt&&(Et=Et>=16384?Math.floor(Et/2)-1:Math.ceil(Et/2));const Pt=new OffscreenCanvas(kt,Et);Pt.getContext("2d").drawImage(Rt,0,0,wt,_t,0,0,kt,Et),Rt=Pt.transferToImageBitmap()}return Rt},s3=function(ht,vt){ht=Math.ceil(ht),vt=Math.ceil(vt);const At=Mt(this,r0);if(!At||At.width===ht&&At.height===vt)return;At.width=ht,At.height=vt;const St=Mt(this,Hl)?Mt(this,Ro):On(this,zs,R8).call(this,ht,vt);if(this._uiManager.hasMLManager&&!this.hasAltText()){const Rt=new OffscreenCanvas(ht,vt).getContext("2d");Rt.drawImage(St,0,0,St.width,St.height,0,0,ht,vt),this._uiManager.mlGuess({service:"image-to-text",request:{data:Rt.getImageData(0,0,ht,vt).data,width:ht,height:vt,channels:4}}).then(wt=>{const _t=(wt==null?void 0:wt.output)||"";this.parent&&_t&&!this.hasAltText()&&(this.altTextData={altText:_t,decorative:!1})})}const kt=At.getContext("2d");kt.filter=this._uiManager.hcmFilter,kt.drawImage(St,0,0,St.width,St.height,0,0,ht,vt)},w2=function(ht){if(ht){if(Mt(this,Hl)){const St=this._uiManager.imageManager.getSvgUrl(Mt(this,Fo));if(St)return St}const vt=document.createElement("canvas");return{width:vt.width,height:vt.height}=Mt(this,Ro),vt.getContext("2d").drawImage(Mt(this,Ro),0,0),vt.toDataURL()}if(Mt(this,Hl)){const[vt,At]=this.pageDimensions,St=Math.round(this.width*vt*PixelsPerInch.PDF_TO_CSS_UNITS),kt=Math.round(this.height*At*PixelsPerInch.PDF_TO_CSS_UNITS),Et=new OffscreenCanvas(St,kt);return Et.getContext("2d").drawImage(Mt(this,Ro),0,0,Mt(this,Ro).width,Mt(this,Ro).height,0,0,St,kt),Et.transferToImageBitmap()}return structuredClone(Mt(this,Ro))},F8=function(){$n(this,A1,new ResizeObserver(ht=>{const vt=ht[0].contentRect;vt.width&&vt.height&&On(this,zs,_8).call(this,vt.width,vt.height)})),Mt(this,A1).observe(this.div)},Ur(gm,"_type","stamp"),Ur(gm,"_editorType",AnnotationEditorType.STAMP);let StampEditor=gm;var S1,Bp,a0,E1,L0,N0,$0,Jo,pu,Up,Hp,No,Ss,gu,Po,P8,a3,o3,l3,A2;const Fl=class Fl{constructor({uiManager:$,pageIndex:ht,div:vt,accessibilityManager:At,annotationLayer:St,drawLayer:kt,textLayer:Et,viewport:Rt,l10n:wt}){Nn(this,Po);Nn(this,S1);Nn(this,Bp,!1);Nn(this,a0,null);Nn(this,E1,null);Nn(this,L0,null);Nn(this,N0,null);Nn(this,$0,null);Nn(this,Jo,new Map);Nn(this,pu,!1);Nn(this,Up,!1);Nn(this,Hp,!1);Nn(this,No,null);Nn(this,Ss);const _t=[...Mt(Fl,gu).values()];if(!Fl._initialized){Fl._initialized=!0;for(const Pt of _t)Pt.initialize(wt,$)}$.registerEditorTypes(_t),$n(this,Ss,$),this.pageIndex=ht,this.div=vt,$n(this,S1,At),$n(this,a0,St),this.viewport=Rt,$n(this,No,Et),this.drawLayer=kt,Mt(this,Ss).addLayer(this)}get isEmpty(){return Mt(this,Jo).size===0}get isInvisible(){return this.isEmpty&&Mt(this,Ss).getMode()===AnnotationEditorType.NONE}updateToolbar($){Mt(this,Ss).updateToolbar($)}updateMode($=Mt(this,Ss).getMode()){switch(On(this,Po,A2).call(this),$){case AnnotationEditorType.NONE:this.disableTextSelection(),this.togglePointerEvents(!1),this.toggleAnnotationLayerPointerEvents(!0),this.disableClick();return;case AnnotationEditorType.INK:this.addInkEditorIfNeeded(!1),this.disableTextSelection(),this.togglePointerEvents(!0),this.disableClick();break;case AnnotationEditorType.HIGHLIGHT:this.enableTextSelection(),this.togglePointerEvents(!1),this.disableClick();break;default:this.disableTextSelection(),this.togglePointerEvents(!0),this.enableClick()}this.toggleAnnotationLayerPointerEvents(!1);const{classList:ht}=this.div;for(const vt of Mt(Fl,gu).values())ht.toggle(`${vt._type}Editing`,$===vt._editorType);this.div.hidden=!1}hasTextLayer($){var ht;return $===((ht=Mt(this,No))==null?void 0:ht.div)}addInkEditorIfNeeded($){if(Mt(this,Ss).getMode()!==AnnotationEditorType.INK)return;if(!$){for(const vt of Mt(this,Jo).values())if(vt.isEmpty()){vt.setInBackground();return}}this.createAndAddNewEditor({offsetX:0,offsetY:0},!1).setInBackground()}setEditingState($){Mt(this,Ss).setEditingState($)}addCommands($){Mt(this,Ss).addCommands($)}togglePointerEvents($=!1){this.div.classList.toggle("disabled",!$)}toggleAnnotationLayerPointerEvents($=!1){var ht;(ht=Mt(this,a0))==null||ht.div.classList.toggle("disabled",!$)}enable(){this.div.tabIndex=0,this.togglePointerEvents(!0);const $=new Set;for(const vt of Mt(this,Jo).values())vt.enableEditing(),vt.show(!0),vt.annotationElementId&&(Mt(this,Ss).removeChangedExistingAnnotation(vt),$.add(vt.annotationElementId));if(!Mt(this,a0))return;const ht=Mt(this,a0).getEditableAnnotations();for(const vt of ht){if(vt.hide(),Mt(this,Ss).isDeletedAnnotationElement(vt.data.id)||$.has(vt.data.id))continue;const At=this.deserialize(vt);At&&(this.addOrRebuild(At),At.enableEditing())}}disable(){var At;$n(this,Hp,!0),this.div.tabIndex=-1,this.togglePointerEvents(!1);const $=new Map,ht=new Map;for(const St of Mt(this,Jo).values())if(St.disableEditing(),!!St.annotationElementId){if(St.serialize()!==null){$.set(St.annotationElementId,St);continue}else ht.set(St.annotationElementId,St);(At=this.getEditableAnnotation(St.annotationElementId))==null||At.show(),St.remove()}if(Mt(this,a0)){const St=Mt(this,a0).getEditableAnnotations();for(const kt of St){const{id:Et}=kt.data;if(Mt(this,Ss).isDeletedAnnotationElement(Et))continue;let Rt=ht.get(Et);if(Rt){Rt.resetAnnotationElement(kt),Rt.show(!1),kt.show();continue}Rt=$.get(Et),Rt&&(Mt(this,Ss).addChangedExistingAnnotation(Rt),Rt.renderAnnotationElement(kt),Rt.show(!1)),kt.show()}}On(this,Po,A2).call(this),this.isEmpty&&(this.div.hidden=!0);const{classList:vt}=this.div;for(const St of Mt(Fl,gu).values())vt.remove(`${St._type}Editing`);this.disableTextSelection(),this.toggleAnnotationLayerPointerEvents(!0),$n(this,Hp,!1)}getEditableAnnotation($){var ht;return((ht=Mt(this,a0))==null?void 0:ht.getEditableAnnotation($))||null}setActiveEditor($){Mt(this,Ss).getActive()!==$&&Mt(this,Ss).setActiveEditor($)}enableTextSelection(){var $;this.div.tabIndex=-1,($=Mt(this,No))!=null&&$.div&&!Mt(this,N0)&&($n(this,N0,On(this,Po,P8).bind(this)),Mt(this,No).div.addEventListener("pointerdown",Mt(this,N0)),Mt(this,No).div.classList.add("highlighting"))}disableTextSelection(){var $;this.div.tabIndex=0,($=Mt(this,No))!=null&&$.div&&Mt(this,N0)&&(Mt(this,No).div.removeEventListener("pointerdown",Mt(this,N0)),$n(this,N0,null),Mt(this,No).div.classList.remove("highlighting"))}enableClick(){Mt(this,L0)||($n(this,L0,this.pointerdown.bind(this)),$n(this,E1,this.pointerup.bind(this)),this.div.addEventListener("pointerdown",Mt(this,L0)),this.div.addEventListener("pointerup",Mt(this,E1)))}disableClick(){Mt(this,L0)&&(this.div.removeEventListener("pointerdown",Mt(this,L0)),this.div.removeEventListener("pointerup",Mt(this,E1)),$n(this,L0,null),$n(this,E1,null))}attach($){Mt(this,Jo).set($.id,$);const{annotationElementId:ht}=$;ht&&Mt(this,Ss).isDeletedAnnotationElement(ht)&&Mt(this,Ss).removeDeletedAnnotationElement($)}detach($){var ht;Mt(this,Jo).delete($.id),(ht=Mt(this,S1))==null||ht.removePointerInTextLayer($.contentDiv),!Mt(this,Hp)&&$.annotationElementId&&Mt(this,Ss).addDeletedAnnotationElement($)}remove($){this.detach($),Mt(this,Ss).removeEditor($),$.div.remove(),$.isAttachedToDOM=!1,Mt(this,Up)||this.addInkEditorIfNeeded(!1)}changeParent($){var ht;$.parent!==this&&($.parent&&$.annotationElementId&&(Mt(this,Ss).addDeletedAnnotationElement($.annotationElementId),AnnotationEditor.deleteAnnotationElement($),$.annotationElementId=null),this.attach($),(ht=$.parent)==null||ht.detach($),$.setParent(this),$.div&&$.isAttachedToDOM&&($.div.remove(),this.div.append($.div)))}add($){if(!($.parent===this&&$.isAttachedToDOM)){if(this.changeParent($),Mt(this,Ss).addEditor($),this.attach($),!$.isAttachedToDOM){const ht=$.render();this.div.append(ht),$.isAttachedToDOM=!0}$.fixAndSetPosition(),$.onceAdded(),Mt(this,Ss).addToAnnotationStorage($),$._reportTelemetry($.telemetryInitialData)}}moveEditorInDOM($){var vt;if(!$.isAttachedToDOM)return;const{activeElement:ht}=document;$.div.contains(ht)&&!Mt(this,$0)&&($._focusEventsAllowed=!1,$n(this,$0,setTimeout(()=>{$n(this,$0,null),$.div.contains(document.activeElement)?$._focusEventsAllowed=!0:($.div.addEventListener("focusin",()=>{$._focusEventsAllowed=!0},{once:!0}),ht.focus())},0))),$._structTreeParentId=(vt=Mt(this,S1))==null?void 0:vt.moveElementInDOM(this.div,$.div,$.contentDiv,!0)}addOrRebuild($){$.needsToBeRebuilt()?($.parent||($.parent=this),$.rebuild(),$.show()):this.add($)}addUndoableEditor($){const ht=()=>$._uiManager.rebuild($),vt=()=>{$.remove()};this.addCommands({cmd:ht,undo:vt,mustExec:!1})}getNextId(){return Mt(this,Ss).getId()}canCreateNewEmptyEditor(){var $;return($=Mt(this,Po,a3))==null?void 0:$.canCreateNewEmptyEditor()}pasteEditor($,ht){Mt(this,Ss).updateToolbar($),Mt(this,Ss).updateMode($);const{offsetX:vt,offsetY:At}=On(this,Po,l3).call(this),St=this.getNextId(),kt=On(this,Po,o3).call(this,{parent:this,id:St,x:vt,y:At,uiManager:Mt(this,Ss),isCentered:!0,...ht});kt&&this.add(kt)}deserialize($){var ht;return((ht=Mt(Fl,gu).get($.annotationType??$.annotationEditorType))==null?void 0:ht.deserialize($,this,Mt(this,Ss)))||null}createAndAddNewEditor($,ht,vt={}){const At=this.getNextId(),St=On(this,Po,o3).call(this,{parent:this,id:At,x:$.offsetX,y:$.offsetY,uiManager:Mt(this,Ss),isCentered:ht,...vt});return St&&this.add(St),St}addNewEditor(){this.createAndAddNewEditor(On(this,Po,l3).call(this),!0)}setSelected($){Mt(this,Ss).setSelected($)}toggleSelected($){Mt(this,Ss).toggleSelected($)}isSelected($){return Mt(this,Ss).isSelected($)}unselect($){Mt(this,Ss).unselect($)}pointerup($){const{isMac:ht}=util_FeatureTest.platform;if(!($.button!==0||$.ctrlKey&&ht)&&$.target===this.div&&Mt(this,pu)){if($n(this,pu,!1),!Mt(this,Bp)){$n(this,Bp,!0);return}if(Mt(this,Ss).getMode()===AnnotationEditorType.STAMP){Mt(this,Ss).unselectAll();return}this.createAndAddNewEditor($,!1)}}pointerdown($){if(Mt(this,Ss).getMode()===AnnotationEditorType.HIGHLIGHT&&this.enableTextSelection(),Mt(this,pu)){$n(this,pu,!1);return}const{isMac:ht}=util_FeatureTest.platform;if($.button!==0||$.ctrlKey&&ht||$.target!==this.div)return;$n(this,pu,!0);const vt=Mt(this,Ss).getActive();$n(this,Bp,!vt||vt.isEmpty())}findNewParent($,ht,vt){const At=Mt(this,Ss).findParent(ht,vt);return At===null||At===this?!1:(At.changeParent($),!0)}destroy(){var $,ht;(($=Mt(this,Ss).getActive())==null?void 0:$.parent)===this&&(Mt(this,Ss).commitOrRemove(),Mt(this,Ss).setActiveEditor(null)),Mt(this,$0)&&(clearTimeout(Mt(this,$0)),$n(this,$0,null));for(const vt of Mt(this,Jo).values())(ht=Mt(this,S1))==null||ht.removePointerInTextLayer(vt.contentDiv),vt.setParent(null),vt.isAttachedToDOM=!1,vt.div.remove();this.div=null,Mt(this,Jo).clear(),Mt(this,Ss).removeLayer(this)}render({viewport:$}){this.viewport=$,setLayerDimensions(this.div,$);for(const ht of Mt(this,Ss).getEditors(this.pageIndex))this.add(ht),ht.rebuild();this.updateMode()}update({viewport:$}){Mt(this,Ss).commitOrRemove(),On(this,Po,A2).call(this);const ht=this.viewport.rotation,vt=$.rotation;if(this.viewport=$,setLayerDimensions(this.div,{rotation:vt}),ht!==vt)for(const At of Mt(this,Jo).values())At.rotate(vt);this.addInkEditorIfNeeded(!1)}get pageDimensions(){const{pageWidth:$,pageHeight:ht}=this.viewport.rawDims;return[$,ht]}get scale(){return Mt(this,Ss).viewParameters.realScale}};S1=new WeakMap,Bp=new WeakMap,a0=new WeakMap,E1=new WeakMap,L0=new WeakMap,N0=new WeakMap,$0=new WeakMap,Jo=new WeakMap,pu=new WeakMap,Up=new WeakMap,Hp=new WeakMap,No=new WeakMap,Ss=new WeakMap,gu=new WeakMap,Po=new WeakSet,P8=function($){if(Mt(this,Ss).unselectAll(),$.target===Mt(this,No).div){const{isMac:ht}=util_FeatureTest.platform;if($.button!==0||$.ctrlKey&&ht)return;Mt(this,Ss).showAllEditors("highlight",!0,!0),Mt(this,No).div.classList.add("free"),HighlightEditor.startHighlighting(this,Mt(this,Ss).direction==="ltr",$),Mt(this,No).div.addEventListener("pointerup",()=>{Mt(this,No).div.classList.remove("free")},{once:!0}),$.preventDefault()}},a3=function(){return Mt(Fl,gu).get(Mt(this,Ss).getMode())},o3=function($){const ht=Mt(this,Po,a3);return ht?new ht.prototype.constructor($):null},l3=function(){const{x:$,y:ht,width:vt,height:At}=this.div.getBoundingClientRect(),St=Math.max(0,$),kt=Math.max(0,ht),Et=Math.min(window.innerWidth,$+vt),Rt=Math.min(window.innerHeight,ht+At),wt=(St+Et)/2-$,_t=(kt+Rt)/2-ht,[Pt,_e]=this.viewport.rotation%180===0?[wt,_t]:[_t,wt];return{offsetX:Pt,offsetY:_e}},A2=function(){$n(this,Up,!0);for(const $ of Mt(this,Jo).values())$.isEmpty()&&$.remove();$n(this,Up,!1)},Ur(Fl,"_initialized",!1),Nn(Fl,gu,new Map([FreeTextEditor,InkEditor,StampEditor,HighlightEditor].map($=>[$._editorType,$])));let AnnotationEditorLayer=Fl;var o0,Gx,mo,mu,qx,c3,k1,u3,I8;const Eo=class Eo{constructor({pageIndex:$}){Nn(this,k1);Nn(this,o0,null);Nn(this,Gx,0);Nn(this,mo,new Map);Nn(this,mu,new Map);this.pageIndex=$}setParent($){if(!Mt(this,o0)){$n(this,o0,$);return}if(Mt(this,o0)!==$){if(Mt(this,mo).size>0)for(const ht of Mt(this,mo).values())ht.remove(),$.append(ht);$n(this,o0,$)}}static get _svgFactory(){return shadow(this,"_svgFactory",new DOMSVGFactory)}highlight($,ht,vt,At=!1){const St=So(this,Gx)._++,kt=On(this,k1,u3).call(this,$.box);kt.classList.add("highlight"),$.free&&kt.classList.add("free");const Et=Eo._svgFactory.createElement("defs");kt.append(Et);const Rt=Eo._svgFactory.createElement("path");Et.append(Rt);const wt=`path_p${this.pageIndex}_${St}`;Rt.setAttribute("id",wt),Rt.setAttribute("d",$.toSVGPath()),At&&Mt(this,mu).set(St,Rt);const _t=On(this,k1,I8).call(this,Et,wt),Pt=Eo._svgFactory.createElement("use");return kt.append(Pt),kt.setAttribute("fill",ht),kt.setAttribute("fill-opacity",vt),Pt.setAttribute("href",`#${wt}`),Mt(this,mo).set(St,kt),{id:St,clipPathId:`url(#${_t})`}}highlightOutline($){const ht=So(this,Gx)._++,vt=On(this,k1,u3).call(this,$.box);vt.classList.add("highlightOutline");const At=Eo._svgFactory.createElement("defs");vt.append(At);const St=Eo._svgFactory.createElement("path");At.append(St);const kt=`path_p${this.pageIndex}_${ht}`;St.setAttribute("id",kt),St.setAttribute("d",$.toSVGPath()),St.setAttribute("vector-effect","non-scaling-stroke");let Et;if($.free){vt.classList.add("free");const _t=Eo._svgFactory.createElement("mask");At.append(_t),Et=`mask_p${this.pageIndex}_${ht}`,_t.setAttribute("id",Et),_t.setAttribute("maskUnits","objectBoundingBox");const Pt=Eo._svgFactory.createElement("rect");_t.append(Pt),Pt.setAttribute("width","1"),Pt.setAttribute("height","1"),Pt.setAttribute("fill","white");const _e=Eo._svgFactory.createElement("use");_t.append(_e),_e.setAttribute("href",`#${kt}`),_e.setAttribute("stroke","none"),_e.setAttribute("fill","black"),_e.setAttribute("fill-rule","nonzero"),_e.classList.add("mask")}const Rt=Eo._svgFactory.createElement("use");vt.append(Rt),Rt.setAttribute("href",`#${kt}`),Et&&Rt.setAttribute("mask",`url(#${Et})`);const wt=Rt.cloneNode();return vt.append(wt),Rt.classList.add("mainOutline"),wt.classList.add("secondaryOutline"),Mt(this,mo).set(ht,vt),ht}finalizeLine($,ht){const vt=Mt(this,mu).get($);Mt(this,mu).delete($),this.updateBox($,ht.box),vt.setAttribute("d",ht.toSVGPath())}updateLine($,ht){Mt(this,mo).get($).firstChild.firstChild.setAttribute("d",ht.toSVGPath())}removeFreeHighlight($){this.remove($),Mt(this,mu).delete($)}updatePath($,ht){Mt(this,mu).get($).setAttribute("d",ht.toSVGPath())}updateBox($,ht){var vt;On(vt=Eo,qx,c3).call(vt,Mt(this,mo).get($),ht)}show($,ht){Mt(this,mo).get($).classList.toggle("hidden",!ht)}rotate($,ht){Mt(this,mo).get($).setAttribute("data-main-rotation",ht)}changeColor($,ht){Mt(this,mo).get($).setAttribute("fill",ht)}changeOpacity($,ht){Mt(this,mo).get($).setAttribute("fill-opacity",ht)}addClass($,ht){Mt(this,mo).get($).classList.add(ht)}removeClass($,ht){Mt(this,mo).get($).classList.remove(ht)}remove($){Mt(this,o0)!==null&&(Mt(this,mo).get($).remove(),Mt(this,mo).delete($))}destroy(){$n(this,o0,null);for(const $ of Mt(this,mo).values())$.remove();Mt(this,mo).clear()}};o0=new WeakMap,Gx=new WeakMap,mo=new WeakMap,mu=new WeakMap,qx=new WeakSet,c3=function($,{x:ht=0,y:vt=0,width:At=1,height:St=1}={}){const{style:kt}=$;kt.top=`${100*vt}%`,kt.left=`${100*ht}%`,kt.width=`${100*At}%`,kt.height=`${100*St}%`},k1=new WeakSet,u3=function($){var vt;const ht=Eo._svgFactory.create(1,1,!0);return Mt(this,o0).append(ht),ht.setAttribute("aria-hidden",!0),On(vt=Eo,qx,c3).call(vt,ht,$),ht},I8=function($,ht){const vt=Eo._svgFactory.createElement("clipPath");$.append(vt);const At=`clip_${ht}`;vt.setAttribute("id",At),vt.setAttribute("clipPathUnits","objectBoundingBox");const St=Eo._svgFactory.createElement("use");return vt.append(St),St.setAttribute("href",`#${ht}`),St.classList.add("clip"),At},Nn(Eo,qx);let DrawLayer=Eo;__webpack_exports__.AbortException;__webpack_exports__.AnnotationEditorLayer;__webpack_exports__.AnnotationEditorParamsType;__webpack_exports__.AnnotationEditorType;__webpack_exports__.AnnotationEditorUIManager;__webpack_exports__.AnnotationLayer;__webpack_exports__.AnnotationMode;__webpack_exports__.CMapCompressionType;__webpack_exports__.ColorPicker;__webpack_exports__.DOMSVGFactory;__webpack_exports__.DrawLayer;__webpack_exports__.FeatureTest;var __webpack_exports__GlobalWorkerOptions=__webpack_exports__.GlobalWorkerOptions;__webpack_exports__.ImageKind;__webpack_exports__.InvalidPDFException;__webpack_exports__.MissingPDFException;__webpack_exports__.OPS;__webpack_exports__.Outliner;__webpack_exports__.PDFDataRangeTransport;__webpack_exports__.PDFDateString;__webpack_exports__.PDFWorker;__webpack_exports__.PasswordResponses;__webpack_exports__.PermissionFlag;__webpack_exports__.PixelsPerInch;__webpack_exports__.RenderingCancelledException;__webpack_exports__.TextLayer;__webpack_exports__.UnexpectedResponseException;__webpack_exports__.Util;__webpack_exports__.VerbosityLevel;__webpack_exports__.XfaLayer;__webpack_exports__.build;__webpack_exports__.createValidAbsoluteUrl;__webpack_exports__.fetchData;__webpack_exports__.getDocument;__webpack_exports__.getFilenameFromUrl;__webpack_exports__.getPdfFilenameFromUrl;__webpack_exports__.getXfaPageViewport;__webpack_exports__.isDataScheme;__webpack_exports__.isPdfFile;__webpack_exports__.noContextMenu;__webpack_exports__.normalizeUnicode;__webpack_exports__.renderTextLayer;__webpack_exports__.setLayerDimensions;__webpack_exports__.shadow;__webpack_exports__.updateTextLayer;__webpack_exports__.version;__webpack_exports__GlobalWorkerOptions.workerSrc=new URL("/assets/pdf.worker.min-DKQKFyKK.js",import.meta.url).toString();function Upload(){const[xt,$]=reactExports.useState(""),[ht,vt]=reactExports.useState(""),[At,St]=reactExports.useState(null);reactExports.useState(null);const kt=async Et=>{Et.preventDefault();const Rt=new FormData;Rt.append("title",xt),Rt.append("file",ht),console.log(xt,ht);const wt=await axios.post("/en/uploadpdf",Rt,{headers:{"Content-Type":"multipart/form-data"}});console.log(wt),wt.data.status=="ok"&&(alert("Uploaded Successfully!!!"),getPdf())};return jsxRuntimeExports.jsxs("div",{className:"App",children:[jsxRuntimeExports.jsxs("form",{className:"formStyle",onSubmit:kt,children:[jsxRuntimeExports.jsx("h4",{children:"Upload Pdf in React"}),jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsx("input",{type:"text",className:"form-control",placeholder:"Title",required:!0,onChange:Et=>$(Et.target.value)}),jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsx("input",{type:"file",class:"form-control",accept:"application/pdf",required:!0,onChange:Et=>vt(Et.target.files[0])}),jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsx("button",{class:"btn btn-primary",type:"submit",children:"Submit"})]}),jsxRuntimeExports.jsxs("div",{className:"uploaded",children:[jsxRuntimeExports.jsx("h4",{children:"Uploaded PDF:"}),jsxRuntimeExports.jsx("div",{className:"output-div",children:At==null?"":At.map(Et=>jsxRuntimeExports.jsxs("div",{className:"inner-div",children:[jsxRuntimeExports.jsxs("h6",{children:["Title: ",Et.title]}),jsxRuntimeExports.jsx("button",{className:"btn btn-primary",onClick:()=>showPdf(Et.pdf),children:"Show Pdf"})]}))})]})]})}function commonjsRequire(xt){throw new Error('Could not dynamically require "'+xt+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var pdf={exports:{}};const __viteBrowserExternal={},__viteBrowserExternal$1=Object.freeze(Object.defineProperty({__proto__:null,default:__viteBrowserExternal},Symbol.toStringTag,{value:"Module"})),require$$5=getAugmentedNamespace(__viteBrowserExternal$1);(function(module,exports){(function($,ht){module.exports=$.pdfjsLib=ht()})(globalThis,()=>(()=>{var __webpack_modules__=[,(xt,$)=>{var er;Object.defineProperty($,"__esModule",{value:!0}),$.VerbosityLevel=$.Util=$.UnknownErrorException=$.UnexpectedResponseException=$.TextRenderingMode=$.RenderingIntentFlag=$.PromiseCapability=$.PermissionFlag=$.PasswordResponses=$.PasswordException=$.PageActionEventType=$.OPS=$.MissingPDFException=$.MAX_IMAGE_SIZE_TO_CACHE=$.LINE_FACTOR=$.LINE_DESCENT_FACTOR=$.InvalidPDFException=$.ImageKind=$.IDENTITY_MATRIX=$.FormatError=$.FeatureTest=$.FONT_IDENTITY_MATRIX=$.DocumentActionEventType=$.CMapCompressionType=$.BaseException=$.BASELINE_FACTOR=$.AnnotationType=$.AnnotationReplyType=$.AnnotationPrefix=$.AnnotationMode=$.AnnotationFlag=$.AnnotationFieldFlag=$.AnnotationEditorType=$.AnnotationEditorPrefix=$.AnnotationEditorParamsType=$.AnnotationBorderStyleType=$.AnnotationActionEventType=$.AbortException=void 0,$.assert=Ot,$.bytesToString=vn,$.createValidAbsoluteUrl=an,$.getModificationDate=_n,$.getUuid=Un,$.getVerbosityLevel=Vt,$.info=Yt,$.isArrayBuffer=Cn,$.isArrayEqual=An,$.isNodeJS=void 0,$.normalizeUnicode=Ln,$.objectFromMap=Tn,$.objectSize=Mn,$.setVerbosityLevel=bn,$.shadow=Ht,$.string32=Fn,$.stringToBytes=En,$.stringToPDFString=wn,$.stringToUTF8String=kn,$.unreachable=Ut,$.utf8StringToString=Rn,$.warn=hn;const ht=typeof process=="object"&&process+""=="[object process]"&&!process.versions.nw&&!(process.versions.electron&&process.type&&process.type!=="browser");$.isNodeJS=ht;const vt=[1,0,0,1,0,0];$.IDENTITY_MATRIX=vt;const At=[.001,0,0,.001,0,0];$.FONT_IDENTITY_MATRIX=At;const St=1e7;$.MAX_IMAGE_SIZE_TO_CACHE=St;const kt=1.35;$.LINE_FACTOR=kt;const Et=.35;$.LINE_DESCENT_FACTOR=Et;const Rt=Et/kt;$.BASELINE_FACTOR=Rt;const wt={ANY:1,DISPLAY:2,PRINT:4,SAVE:8,ANNOTATIONS_FORMS:16,ANNOTATIONS_STORAGE:32,ANNOTATIONS_DISABLE:64,OPLIST:256};$.RenderingIntentFlag=wt;const _t={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3};$.AnnotationMode=_t;const Pt="pdfjs_internal_editor_";$.AnnotationEditorPrefix=Pt;const _e={DISABLE:-1,NONE:0,FREETEXT:3,STAMP:13,INK:15};$.AnnotationEditorType=_e;const bt={RESIZE:1,CREATE:2,FREETEXT_SIZE:11,FREETEXT_COLOR:12,FREETEXT_OPACITY:13,INK_COLOR:21,INK_THICKNESS:22,INK_OPACITY:23};$.AnnotationEditorParamsType=bt;const Ft={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048};$.PermissionFlag=Ft;const Xt={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_ADD_TO_PATH:4,STROKE_ADD_TO_PATH:5,FILL_STROKE_ADD_TO_PATH:6,ADD_TO_PATH:7,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4};$.TextRenderingMode=Xt;const Kt={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3};$.ImageKind=Kt;const Nt={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,SOUND:18,MOVIE:19,WIDGET:20,SCREEN:21,PRINTERMARK:22,TRAPNET:23,WATERMARK:24,THREED:25,REDACT:26};$.AnnotationType=Nt;const $t={GROUP:"Group",REPLY:"R"};$.AnnotationReplyType=$t;const Dt={INVISIBLE:1,HIDDEN:2,PRINT:4,NOZOOM:8,NOROTATE:16,NOVIEW:32,READONLY:64,LOCKED:128,TOGGLENOVIEW:256,LOCKEDCONTENTS:512};$.AnnotationFlag=Dt;const jt={READONLY:1,REQUIRED:2,NOEXPORT:4,MULTILINE:4096,PASSWORD:8192,NOTOGGLETOOFF:16384,RADIO:32768,PUSHBUTTON:65536,COMBO:131072,EDIT:262144,SORT:524288,FILESELECT:1048576,MULTISELECT:2097152,DONOTSPELLCHECK:4194304,DONOTSCROLL:8388608,COMB:16777216,RICHTEXT:33554432,RADIOSINUNISON:33554432,COMMITONSELCHANGE:67108864};$.AnnotationFieldFlag=jt;const Ct={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5};$.AnnotationBorderStyleType=Ct;const qt={E:"Mouse Enter",X:"Mouse Exit",D:"Mouse Down",U:"Mouse Up",Fo:"Focus",Bl:"Blur",PO:"PageOpen",PC:"PageClose",PV:"PageVisible",PI:"PageInvisible",K:"Keystroke",F:"Format",V:"Validate",C:"Calculate"};$.AnnotationActionEventType=qt;const Bt={WC:"WillClose",WS:"WillSave",DS:"DidSave",WP:"WillPrint",DP:"DidPrint"};$.DocumentActionEventType=Bt;const Gt={O:"PageOpen",C:"PageClose"};$.PageActionEventType=Gt;const en={ERRORS:0,WARNINGS:1,INFOS:5};$.VerbosityLevel=en;const dn={NONE:0,BINARY:1};$.CMapCompressionType=dn;const Qt={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotation:80,endAnnotation:81,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91};$.OPS=Qt;const gn={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};$.PasswordResponses=gn;let nn=en.WARNINGS;function bn(Qn){Number.isInteger(Qn)&&(nn=Qn)}function Vt(){return nn}function Yt(Qn){nn>=en.INFOS&&console.log(`Info: ${Qn}`)}function hn(Qn){nn>=en.WARNINGS&&console.log(`Warning: ${Qn}`)}function Ut(Qn){throw new Error(Qn)}function Ot(Qn,Yn){Qn||Ut(Yn)}function zt(Qn){switch(Qn==null?void 0:Qn.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}function an(Qn,Yn=null,Xn=null){if(!Qn)return null;try{if(Xn&&typeof Qn=="string"){if(Xn.addDefaultProtocol&&Qn.startsWith("www.")){const lr=Qn.match(/\./g);(lr==null?void 0:lr.length)>=2&&(Qn=`http://${Qn}`)}if(Xn.tryConvertEncoding)try{Qn=kn(Qn)}catch{}}const nr=Yn?new URL(Qn,Yn):new URL(Qn);if(zt(nr))return nr}catch{}return null}function Ht(Qn,Yn,Xn,nr=!1){return Object.defineProperty(Qn,Yn,{value:Xn,enumerable:!nr,configurable:!0,writable:!1}),Xn}const Wt=function(){function Yn(Xn,nr){this.constructor===Yn&&Ut("Cannot initialize BaseException."),this.message=Xn,this.name=nr}return Yn.prototype=new Error,Yn.constructor=Yn,Yn}();$.BaseException=Wt;class tn extends Wt{constructor(Yn,Xn){super(Yn,"PasswordException"),this.code=Xn}}$.PasswordException=tn;class ln extends Wt{constructor(Yn,Xn){super(Yn,"UnknownErrorException"),this.details=Xn}}$.UnknownErrorException=ln;class on extends Wt{constructor(Yn){super(Yn,"InvalidPDFException")}}$.InvalidPDFException=on;class cn extends Wt{constructor(Yn){super(Yn,"MissingPDFException")}}$.MissingPDFException=cn;class sn extends Wt{constructor(Yn,Xn){super(Yn,"UnexpectedResponseException"),this.status=Xn}}$.UnexpectedResponseException=sn;class rn extends Wt{constructor(Yn){super(Yn,"FormatError")}}$.FormatError=rn;class xn extends Wt{constructor(Yn){super(Yn,"AbortException")}}$.AbortException=xn;function vn(Qn){(typeof Qn!="object"||(Qn==null?void 0:Qn.length)===void 0)&&Ut("Invalid argument for bytesToString");const Yn=Qn.length,Xn=8192;if(Yn<Xn)return String.fromCharCode.apply(null,Qn);const nr=[];for(let lr=0;lr<Yn;lr+=Xn){const dr=Math.min(lr+Xn,Yn),Bn=Qn.subarray(lr,dr);nr.push(String.fromCharCode.apply(null,Bn))}return nr.join("")}function En(Qn){typeof Qn!="string"&&Ut("Invalid argument for stringToBytes");const Yn=Qn.length,Xn=new Uint8Array(Yn);for(let nr=0;nr<Yn;++nr)Xn[nr]=Qn.charCodeAt(nr)&255;return Xn}function Fn(Qn){return String.fromCharCode(Qn>>24&255,Qn>>16&255,Qn>>8&255,Qn&255)}function Mn(Qn){return Object.keys(Qn).length}function Tn(Qn){const Yn=Object.create(null);for(const[Xn,nr]of Qn)Yn[Xn]=nr;return Yn}function Sn(){const Qn=new Uint8Array(4);return Qn[0]=1,new Uint32Array(Qn.buffer,0,1)[0]===1}function mn(){try{return new Function(""),!0}catch{return!1}}class fn{static get isLittleEndian(){return Ht(this,"isLittleEndian",Sn())}static get isEvalSupported(){return Ht(this,"isEvalSupported",mn())}static get isOffscreenCanvasSupported(){return Ht(this,"isOffscreenCanvasSupported",typeof OffscreenCanvas<"u")}static get platform(){return typeof navigator>"u"?Ht(this,"platform",{isWin:!1,isMac:!1}):Ht(this,"platform",{isWin:navigator.platform.includes("Win"),isMac:navigator.platform.includes("Mac")})}static get isCSSRoundSupported(){var Yn,Xn;return Ht(this,"isCSSRoundSupported",(Xn=(Yn=globalThis.CSS)==null?void 0:Yn.supports)==null?void 0:Xn.call(Yn,"width: round(1.5px, 1px)"))}}$.FeatureTest=fn;const Jt=[...Array(256).keys()].map(Qn=>Qn.toString(16).padStart(2,"0"));class un{static makeHexColor(Yn,Xn,nr){return`#${Jt[Yn]}${Jt[Xn]}${Jt[nr]}`}static scaleMinMax(Yn,Xn){let nr;Yn[0]?(Yn[0]<0&&(nr=Xn[0],Xn[0]=Xn[1],Xn[1]=nr),Xn[0]*=Yn[0],Xn[1]*=Yn[0],Yn[3]<0&&(nr=Xn[2],Xn[2]=Xn[3],Xn[3]=nr),Xn[2]*=Yn[3],Xn[3]*=Yn[3]):(nr=Xn[0],Xn[0]=Xn[2],Xn[2]=nr,nr=Xn[1],Xn[1]=Xn[3],Xn[3]=nr,Yn[1]<0&&(nr=Xn[2],Xn[2]=Xn[3],Xn[3]=nr),Xn[2]*=Yn[1],Xn[3]*=Yn[1],Yn[2]<0&&(nr=Xn[0],Xn[0]=Xn[1],Xn[1]=nr),Xn[0]*=Yn[2],Xn[1]*=Yn[2]),Xn[0]+=Yn[4],Xn[1]+=Yn[4],Xn[2]+=Yn[5],Xn[3]+=Yn[5]}static transform(Yn,Xn){return[Yn[0]*Xn[0]+Yn[2]*Xn[1],Yn[1]*Xn[0]+Yn[3]*Xn[1],Yn[0]*Xn[2]+Yn[2]*Xn[3],Yn[1]*Xn[2]+Yn[3]*Xn[3],Yn[0]*Xn[4]+Yn[2]*Xn[5]+Yn[4],Yn[1]*Xn[4]+Yn[3]*Xn[5]+Yn[5]]}static applyTransform(Yn,Xn){const nr=Yn[0]*Xn[0]+Yn[1]*Xn[2]+Xn[4],lr=Yn[0]*Xn[1]+Yn[1]*Xn[3]+Xn[5];return[nr,lr]}static applyInverseTransform(Yn,Xn){const nr=Xn[0]*Xn[3]-Xn[1]*Xn[2],lr=(Yn[0]*Xn[3]-Yn[1]*Xn[2]+Xn[2]*Xn[5]-Xn[4]*Xn[3])/nr,dr=(-Yn[0]*Xn[1]+Yn[1]*Xn[0]+Xn[4]*Xn[1]-Xn[5]*Xn[0])/nr;return[lr,dr]}static getAxialAlignedBoundingBox(Yn,Xn){const nr=this.applyTransform(Yn,Xn),lr=this.applyTransform(Yn.slice(2,4),Xn),dr=this.applyTransform([Yn[0],Yn[3]],Xn),Bn=this.applyTransform([Yn[2],Yn[1]],Xn);return[Math.min(nr[0],lr[0],dr[0],Bn[0]),Math.min(nr[1],lr[1],dr[1],Bn[1]),Math.max(nr[0],lr[0],dr[0],Bn[0]),Math.max(nr[1],lr[1],dr[1],Bn[1])]}static inverseTransform(Yn){const Xn=Yn[0]*Yn[3]-Yn[1]*Yn[2];return[Yn[3]/Xn,-Yn[1]/Xn,-Yn[2]/Xn,Yn[0]/Xn,(Yn[2]*Yn[5]-Yn[4]*Yn[3])/Xn,(Yn[4]*Yn[1]-Yn[5]*Yn[0])/Xn]}static singularValueDecompose2dScale(Yn){const Xn=[Yn[0],Yn[2],Yn[1],Yn[3]],nr=Yn[0]*Xn[0]+Yn[1]*Xn[2],lr=Yn[0]*Xn[1]+Yn[1]*Xn[3],dr=Yn[2]*Xn[0]+Yn[3]*Xn[2],Bn=Yn[2]*Xn[1]+Yn[3]*Xn[3],Hn=(nr+Bn)/2,Wn=Math.sqrt((nr+Bn)**2-4*(nr*Bn-dr*lr))/2,cr=Hn+Wn||1,sr=Hn-Wn||1;return[Math.sqrt(cr),Math.sqrt(sr)]}static normalizeRect(Yn){const Xn=Yn.slice(0);return Yn[0]>Yn[2]&&(Xn[0]=Yn[2],Xn[2]=Yn[0]),Yn[1]>Yn[3]&&(Xn[1]=Yn[3],Xn[3]=Yn[1]),Xn}static intersect(Yn,Xn){const nr=Math.max(Math.min(Yn[0],Yn[2]),Math.min(Xn[0],Xn[2])),lr=Math.min(Math.max(Yn[0],Yn[2]),Math.max(Xn[0],Xn[2]));if(nr>lr)return null;const dr=Math.max(Math.min(Yn[1],Yn[3]),Math.min(Xn[1],Xn[3])),Bn=Math.min(Math.max(Yn[1],Yn[3]),Math.max(Xn[1],Xn[3]));return dr>Bn?null:[nr,dr,lr,Bn]}static bezierBoundingBox(Yn,Xn,nr,lr,dr,Bn,Hn,Wn){const cr=[],sr=[[],[]];let xr,Jn,Vn,Zn,ur,hr,or,pr;for(let Lr=0;Lr<2;++Lr){if(Lr===0?(Jn=6*Yn-12*nr+6*dr,xr=-3*Yn+9*nr-9*dr+3*Hn,Vn=3*nr-3*Yn):(Jn=6*Xn-12*lr+6*Bn,xr=-3*Xn+9*lr-9*Bn+3*Wn,Vn=3*lr-3*Xn),Math.abs(xr)<1e-12){if(Math.abs(Jn)<1e-12)continue;Zn=-Vn/Jn,0<Zn&&Zn<1&&cr.push(Zn);continue}or=Jn*Jn-4*Vn*xr,pr=Math.sqrt(or),!(or<0)&&(ur=(-Jn+pr)/(2*xr),0<ur&&ur<1&&cr.push(ur),hr=(-Jn-pr)/(2*xr),0<hr&&hr<1&&cr.push(hr))}let wr=cr.length,fr;const Ar=wr;for(;wr--;)Zn=cr[wr],fr=1-Zn,sr[0][wr]=fr*fr*fr*Yn+3*fr*fr*Zn*nr+3*fr*Zn*Zn*dr+Zn*Zn*Zn*Hn,sr[1][wr]=fr*fr*fr*Xn+3*fr*fr*Zn*lr+3*fr*Zn*Zn*Bn+Zn*Zn*Zn*Wn;return sr[0][Ar]=Yn,sr[1][Ar]=Xn,sr[0][Ar+1]=Hn,sr[1][Ar+1]=Wn,sr[0].length=sr[1].length=Ar+2,[Math.min(...sr[0]),Math.min(...sr[1]),Math.max(...sr[0]),Math.max(...sr[1])]}}$.Util=un;const pn=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,728,711,710,729,733,731,730,732,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,8226,8224,8225,8230,8212,8211,402,8260,8249,8250,8722,8240,8222,8220,8221,8216,8217,8218,8482,64257,64258,321,338,352,376,381,305,322,339,353,382,0,8364];function wn(Qn){if(Qn[0]>=""){let Xn;if(Qn[0]===""&&Qn[1]===""?Xn="utf-16be":Qn[0]===""&&Qn[1]===""?Xn="utf-16le":Qn[0]===""&&Qn[1]===""&&Qn[2]===""&&(Xn="utf-8"),Xn)try{const nr=new TextDecoder(Xn,{fatal:!0}),lr=En(Qn);return nr.decode(lr)}catch(nr){hn(`stringToPDFString: "${nr}".`)}}const Yn=[];for(let Xn=0,nr=Qn.length;Xn<nr;Xn++){const lr=pn[Qn.charCodeAt(Xn)];Yn.push(lr?String.fromCharCode(lr):Qn.charAt(Xn))}return Yn.join("")}function kn(Qn){return decodeURIComponent(escape(Qn))}function Rn(Qn){return unescape(encodeURIComponent(Qn))}function Cn(Qn){return typeof Qn=="object"&&(Qn==null?void 0:Qn.byteLength)!==void 0}function An(Qn,Yn){if(Qn.length!==Yn.length)return!1;for(let Xn=0,nr=Qn.length;Xn<nr;Xn++)if(Qn[Xn]!==Yn[Xn])return!1;return!0}function _n(Qn=new Date){return[Qn.getUTCFullYear().toString(),(Qn.getUTCMonth()+1).toString().padStart(2,"0"),Qn.getUTCDate().toString().padStart(2,"0"),Qn.getUTCHours().toString().padStart(2,"0"),Qn.getUTCMinutes().toString().padStart(2,"0"),Qn.getUTCSeconds().toString().padStart(2,"0")].join("")}class In{constructor(){Nn(this,er,!1);this.promise=new Promise((Yn,Xn)=>{this.resolve=nr=>{$n(this,er,!0),Yn(nr)},this.reject=nr=>{$n(this,er,!0),Xn(nr)}})}get settled(){return Mt(this,er)}}er=new WeakMap,$.PromiseCapability=In;let Pn=null,Dn=null;function Ln(Qn){return Pn||(Pn=/([\u00a0\u00b5\u037e\u0eb3\u2000-\u200a\u202f\u2126\ufb00-\ufb04\ufb06\ufb20-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufba1\ufba4-\ufba9\ufbae-\ufbb1\ufbd3-\ufbdc\ufbde-\ufbe7\ufbea-\ufbf8\ufbfc-\ufbfd\ufc00-\ufc5d\ufc64-\ufcf1\ufcf5-\ufd3d\ufd88\ufdf4\ufdfa-\ufdfb\ufe71\ufe77\ufe79\ufe7b\ufe7d]+)|(\ufb05+)/gu,Dn=new Map([["","t"]])),Qn.replaceAll(Pn,(Yn,Xn,nr)=>Xn?Xn.normalize("NFKC"):Dn.get(nr))}function Un(){if(typeof crypto<"u"&&typeof(crypto==null?void 0:crypto.randomUUID)=="function")return crypto.randomUUID();const Qn=new Uint8Array(32);if(typeof crypto<"u"&&typeof(crypto==null?void 0:crypto.getRandomValues)=="function")crypto.getRandomValues(Qn);else for(let Yn=0;Yn<32;Yn++)Qn[Yn]=Math.floor(Math.random()*255);return vn(Qn)}const tr="pdfjs_internal_id_";$.AnnotationPrefix=tr},(__unused_webpack_module,exports,__w_pdfjs_require__)=>{var xt,ht,vt,At,U1,S2,Et,Rt,wt,_t,Pt,_e,bt,Ft,Xt,E2,Nt,$t,h3,jt,Ct;Object.defineProperty(exports,"__esModule",{value:!0}),exports.RenderTask=exports.PDFWorkerUtil=exports.PDFWorker=exports.PDFPageProxy=exports.PDFDocumentProxy=exports.PDFDocumentLoadingTask=exports.PDFDataRangeTransport=exports.LoopbackPort=exports.DefaultStandardFontDataFactory=exports.DefaultFilterFactory=exports.DefaultCanvasFactory=exports.DefaultCMapReaderFactory=void 0,Object.defineProperty(exports,"SVGGraphics",{enumerable:!0,get:function(){return _displaySvg.SVGGraphics}}),exports.build=void 0,exports.getDocument=getDocument,exports.version=void 0;var _util=__w_pdfjs_require__(1),_annotation_storage=__w_pdfjs_require__(3),_display_utils=__w_pdfjs_require__(6),_font_loader=__w_pdfjs_require__(9),_displayNode_utils=__w_pdfjs_require__(10),_canvas=__w_pdfjs_require__(11),_worker_options=__w_pdfjs_require__(14),_message_handler=__w_pdfjs_require__(15),_metadata=__w_pdfjs_require__(16),_optional_content_config=__w_pdfjs_require__(17),_transport_stream=__w_pdfjs_require__(18),_displayFetch_stream=__w_pdfjs_require__(19),_displayNetwork=__w_pdfjs_require__(22),_displayNode_stream=__w_pdfjs_require__(23),_displaySvg=__w_pdfjs_require__(24),_xfa_text=__w_pdfjs_require__(25);const DEFAULT_RANGE_CHUNK_SIZE=65536,RENDERING_CANCELLED_TIMEOUT=100,DELAYED_CLEANUP_TIMEOUT=5e3,DefaultCanvasFactory=_util.isNodeJS?_displayNode_utils.NodeCanvasFactory:_display_utils.DOMCanvasFactory;exports.DefaultCanvasFactory=DefaultCanvasFactory;const DefaultCMapReaderFactory=_util.isNodeJS?_displayNode_utils.NodeCMapReaderFactory:_display_utils.DOMCMapReaderFactory;exports.DefaultCMapReaderFactory=DefaultCMapReaderFactory;const DefaultFilterFactory=_util.isNodeJS?_displayNode_utils.NodeFilterFactory:_display_utils.DOMFilterFactory;exports.DefaultFilterFactory=DefaultFilterFactory;const DefaultStandardFontDataFactory=_util.isNodeJS?_displayNode_utils.NodeStandardFontDataFactory:_display_utils.DOMStandardFontDataFactory;exports.DefaultStandardFontDataFactory=DefaultStandardFontDataFactory;function getDocument(Bt){if(typeof Bt=="string"||Bt instanceof URL?Bt={url:Bt}:(0,_util.isArrayBuffer)(Bt)&&(Bt={data:Bt}),typeof Bt!="object")throw new Error("Invalid parameter in getDocument, need parameter object.");if(!Bt.url&&!Bt.data&&!Bt.range)throw new Error("Invalid parameter object: need either .data, .range or .url");const Gt=new PDFDocumentLoadingTask,{docId:en}=Gt,dn=Bt.url?getUrlProp(Bt.url):null,Qt=Bt.data?getDataProp(Bt.data):null,gn=Bt.httpHeaders||null,nn=Bt.withCredentials===!0,bn=Bt.password??null,Vt=Bt.range instanceof PDFDataRangeTransport?Bt.range:null,Yt=Number.isInteger(Bt.rangeChunkSize)&&Bt.rangeChunkSize>0?Bt.rangeChunkSize:DEFAULT_RANGE_CHUNK_SIZE;let hn=Bt.worker instanceof PDFWorker?Bt.worker:null;const Ut=Bt.verbosity,Ot=typeof Bt.docBaseUrl=="string"&&!(0,_display_utils.isDataScheme)(Bt.docBaseUrl)?Bt.docBaseUrl:null,zt=typeof Bt.cMapUrl=="string"?Bt.cMapUrl:null,an=Bt.cMapPacked!==!1,Ht=Bt.CMapReaderFactory||DefaultCMapReaderFactory,Wt=typeof Bt.standardFontDataUrl=="string"?Bt.standardFontDataUrl:null,tn=Bt.StandardFontDataFactory||DefaultStandardFontDataFactory,ln=Bt.stopAtErrors!==!0,on=Number.isInteger(Bt.maxImageSize)&&Bt.maxImageSize>-1?Bt.maxImageSize:-1,cn=Bt.isEvalSupported!==!1,sn=typeof Bt.isOffscreenCanvasSupported=="boolean"?Bt.isOffscreenCanvasSupported:!_util.isNodeJS,rn=Number.isInteger(Bt.canvasMaxAreaInBytes)?Bt.canvasMaxAreaInBytes:-1,xn=typeof Bt.disableFontFace=="boolean"?Bt.disableFontFace:_util.isNodeJS,vn=Bt.fontExtraProperties===!0,En=Bt.enableXfa===!0,Fn=Bt.ownerDocument||globalThis.document,Mn=Bt.disableRange===!0,Tn=Bt.disableStream===!0,Sn=Bt.disableAutoFetch===!0,mn=Bt.pdfBug===!0,fn=Vt?Vt.length:Bt.length??NaN,Jt=typeof Bt.useSystemFonts=="boolean"?Bt.useSystemFonts:!_util.isNodeJS&&!xn,un=typeof Bt.useWorkerFetch=="boolean"?Bt.useWorkerFetch:Ht===_display_utils.DOMCMapReaderFactory&&tn===_display_utils.DOMStandardFontDataFactory&&zt&&Wt&&(0,_display_utils.isValidFetchUrl)(zt,document.baseURI)&&(0,_display_utils.isValidFetchUrl)(Wt,document.baseURI),pn=Bt.canvasFactory||new DefaultCanvasFactory({ownerDocument:Fn}),wn=Bt.filterFactory||new DefaultFilterFactory({docId:en,ownerDocument:Fn}),kn=null;(0,_util.setVerbosityLevel)(Ut);const Rn={canvasFactory:pn,filterFactory:wn};if(un||(Rn.cMapReaderFactory=new Ht({baseUrl:zt,isCompressed:an}),Rn.standardFontDataFactory=new tn({baseUrl:Wt})),!hn){const _n={verbosity:Ut,port:_worker_options.GlobalWorkerOptions.workerPort};hn=_n.port?PDFWorker.fromPort(_n):new PDFWorker(_n),Gt._worker=hn}const Cn={docId:en,apiVersion:"3.11.174",data:Qt,password:bn,disableAutoFetch:Sn,rangeChunkSize:Yt,length:fn,docBaseUrl:Ot,enableXfa:En,evaluatorOptions:{maxImageSize:on,disableFontFace:xn,ignoreErrors:ln,isEvalSupported:cn,isOffscreenCanvasSupported:sn,canvasMaxAreaInBytes:rn,fontExtraProperties:vn,useSystemFonts:Jt,cMapUrl:un?zt:null,standardFontDataUrl:un?Wt:null}},An={ignoreErrors:ln,isEvalSupported:cn,disableFontFace:xn,fontExtraProperties:vn,enableXfa:En,ownerDocument:Fn,disableAutoFetch:Sn,pdfBug:mn,styleElement:kn};return hn.promise.then(function(){if(Gt.destroyed)throw new Error("Loading aborted");const _n=_fetchDocument(hn,Cn),In=new Promise(function(Pn){let Dn;Vt?Dn=new _transport_stream.PDFDataTransportStream({length:fn,initialData:Vt.initialData,progressiveDone:Vt.progressiveDone,contentDispositionFilename:Vt.contentDispositionFilename,disableRange:Mn,disableStream:Tn},Vt):Qt||(Dn=(Un=>_util.isNodeJS?new _displayNode_stream.PDFNodeStream(Un):(0,_display_utils.isValidFetchUrl)(Un.url)?new _displayFetch_stream.PDFFetchStream(Un):new _displayNetwork.PDFNetworkStream(Un))({url:dn,length:fn,httpHeaders:gn,withCredentials:nn,rangeChunkSize:Yt,disableRange:Mn,disableStream:Tn})),Pn(Dn)});return Promise.all([_n,In]).then(function([Pn,Dn]){if(Gt.destroyed)throw new Error("Loading aborted");const Ln=new _message_handler.MessageHandler(en,Pn,hn.port),Un=new WorkerTransport(Ln,Gt,Dn,An,Rn);Gt._transport=Un,Ln.send("Ready",null)})}).catch(Gt._capability.reject),Gt}async function _fetchDocument(Bt,Gt){if(Bt.destroyed)throw new Error("Worker was destroyed");const en=await Bt.messageHandler.sendWithPromise("GetDocRequest",Gt,Gt.data?[Gt.data.buffer]:null);if(Bt.destroyed)throw new Error("Worker was destroyed");return en}function getUrlProp(Bt){if(Bt instanceof URL)return Bt.href;try{return new URL(Bt,window.location).href}catch{if(_util.isNodeJS&&typeof Bt=="string")return Bt}throw new Error("Invalid PDF url data: either string or URL-object is expected in the url property.")}function getDataProp(Bt){if(_util.isNodeJS&&typeof Buffer<"u"&&Bt instanceof Buffer)throw new Error("Please provide binary data as `Uint8Array`, rather than `Buffer`.");if(Bt instanceof Uint8Array&&Bt.byteLength===Bt.buffer.byteLength)return Bt;if(typeof Bt=="string")return(0,_util.stringToBytes)(Bt);if(typeof Bt=="object"&&!isNaN(Bt==null?void 0:Bt.length)||(0,_util.isArrayBuffer)(Bt))return new Uint8Array(Bt);throw new Error("Invalid PDF binary data: either TypedArray, string, or array-like object is expected in the data property.")}const $=class ${constructor(){this._capability=new _util.PromiseCapability,this._transport=null,this._worker=null,this.docId=`d${So($,xt)._++}`,this.destroyed=!1,this.onPassword=null,this.onProgress=null}get promise(){return this._capability.promise}async destroy(){var Gt,en,dn;this.destroyed=!0;try{(Gt=this._worker)!=null&&Gt.port&&(this._worker._pendingDestroy=!0),await((en=this._transport)==null?void 0:en.destroy())}catch(Qt){throw(dn=this._worker)!=null&&dn.port&&delete this._worker._pendingDestroy,Qt}this._transport=null,this._worker&&(this._worker.destroy(),this._worker=null)}};xt=new WeakMap,Nn($,xt,0);let PDFDocumentLoadingTask=$;exports.PDFDocumentLoadingTask=PDFDocumentLoadingTask;class PDFDataRangeTransport{constructor(Gt,en,dn=!1,Qt=null){this.length=Gt,this.initialData=en,this.progressiveDone=dn,this.contentDispositionFilename=Qt,this._rangeListeners=[],this._progressListeners=[],this._progressiveReadListeners=[],this._progressiveDoneListeners=[],this._readyCapability=new _util.PromiseCapability}addRangeListener(Gt){this._rangeListeners.push(Gt)}addProgressListener(Gt){this._progressListeners.push(Gt)}addProgressiveReadListener(Gt){this._progressiveReadListeners.push(Gt)}addProgressiveDoneListener(Gt){this._progressiveDoneListeners.push(Gt)}onDataRange(Gt,en){for(const dn of this._rangeListeners)dn(Gt,en)}onDataProgress(Gt,en){this._readyCapability.promise.then(()=>{for(const dn of this._progressListeners)dn(Gt,en)})}onDataProgressiveRead(Gt){this._readyCapability.promise.then(()=>{for(const en of this._progressiveReadListeners)en(Gt)})}onDataProgressiveDone(){this._readyCapability.promise.then(()=>{for(const Gt of this._progressiveDoneListeners)Gt()})}transportReady(){this._readyCapability.resolve()}requestDataRange(Gt,en){(0,_util.unreachable)("Abstract method PDFDataRangeTransport.requestDataRange")}abort(){}}exports.PDFDataRangeTransport=PDFDataRangeTransport;class PDFDocumentProxy{constructor(Gt,en){this._pdfInfo=Gt,this._transport=en,Object.defineProperty(this,"getJavaScript",{value:()=>((0,_display_utils.deprecated)("`PDFDocumentProxy.getJavaScript`, please use `PDFDocumentProxy.getJSActions` instead."),this.getJSActions().then(dn=>{if(!dn)return dn;const Qt=[];for(const gn in dn)Qt.push(...dn[gn]);return Qt}))})}get annotationStorage(){return this._transport.annotationStorage}get filterFactory(){return this._transport.filterFactory}get numPages(){return this._pdfInfo.numPages}get fingerprints(){return this._pdfInfo.fingerprints}get isPureXfa(){return(0,_util.shadow)(this,"isPureXfa",!!this._transport._htmlForXfa)}get allXfaHtml(){return this._transport._htmlForXfa}getPage(Gt){return this._transport.getPage(Gt)}getPageIndex(Gt){return this._transport.getPageIndex(Gt)}getDestinations(){return this._transport.getDestinations()}getDestination(Gt){return this._transport.getDestination(Gt)}getPageLabels(){return this._transport.getPageLabels()}getPageLayout(){return this._transport.getPageLayout()}getPageMode(){return this._transport.getPageMode()}getViewerPreferences(){return this._transport.getViewerPreferences()}getOpenAction(){return this._transport.getOpenAction()}getAttachments(){return this._transport.getAttachments()}getJSActions(){return this._transport.getDocJSActions()}getOutline(){return this._transport.getOutline()}getOptionalContentConfig(){return this._transport.getOptionalContentConfig()}getPermissions(){return this._transport.getPermissions()}getMetadata(){return this._transport.getMetadata()}getMarkInfo(){return this._transport.getMarkInfo()}getData(){return this._transport.getData()}saveDocument(){return this._transport.saveDocument()}getDownloadInfo(){return this._transport.downloadInfoCapability.promise}cleanup(Gt=!1){return this._transport.startCleanup(Gt||this.isPureXfa)}destroy(){return this.loadingTask.destroy()}get loadingParams(){return this._transport.loadingParams}get loadingTask(){return this._transport.loadingTask}getFieldObjects(){return this._transport.getFieldObjects()}hasJSActions(){return this._transport.hasJSActions()}getCalculationOrderIds(){return this._transport.getCalculationOrderIds()}}exports.PDFDocumentProxy=PDFDocumentProxy;class PDFPageProxy{constructor(Gt,en,dn,Qt=!1){Nn(this,At);Nn(this,ht,null);Nn(this,vt,!1);this._pageIndex=Gt,this._pageInfo=en,this._transport=dn,this._stats=Qt?new _display_utils.StatTimer:null,this._pdfBug=Qt,this.commonObjs=dn.commonObjs,this.objs=new PDFObjects,this._maybeCleanupAfterRender=!1,this._intentStates=new Map,this.destroyed=!1}get pageNumber(){return this._pageIndex+1}get rotate(){return this._pageInfo.rotate}get ref(){return this._pageInfo.ref}get userUnit(){return this._pageInfo.userUnit}get view(){return this._pageInfo.view}getViewport({scale:Gt,rotation:en=this.rotate,offsetX:dn=0,offsetY:Qt=0,dontFlip:gn=!1}={}){return new _display_utils.PageViewport({viewBox:this.view,scale:Gt,rotation:en,offsetX:dn,offsetY:Qt,dontFlip:gn})}getAnnotations({intent:Gt="display"}={}){const en=this._transport.getRenderingIntent(Gt);return this._transport.getAnnotations(this._pageIndex,en.renderingIntent)}getJSActions(){return this._transport.getPageJSActions(this._pageIndex)}get filterFactory(){return this._transport.filterFactory}get isPureXfa(){return(0,_util.shadow)(this,"isPureXfa",!!this._transport._htmlForXfa)}async getXfa(){var Gt;return((Gt=this._transport._htmlForXfa)==null?void 0:Gt.children[this._pageIndex])||null}render({canvasContext:Gt,viewport:en,intent:dn="display",annotationMode:Qt=_util.AnnotationMode.ENABLE,transform:gn=null,background:nn=null,optionalContentConfigPromise:bn=null,annotationCanvasMap:Vt=null,pageColors:Yt=null,printAnnotationStorage:hn=null}){var tn,ln;(tn=this._stats)==null||tn.time("Overall");const Ut=this._transport.getRenderingIntent(dn,Qt,hn);$n(this,vt,!1),On(this,At,S2).call(this),bn||(bn=this._transport.getOptionalContentConfig());let Ot=this._intentStates.get(Ut.cacheKey);Ot||(Ot=Object.create(null),this._intentStates.set(Ut.cacheKey,Ot)),Ot.streamReaderCancelTimeout&&(clearTimeout(Ot.streamReaderCancelTimeout),Ot.streamReaderCancelTimeout=null);const zt=!!(Ut.renderingIntent&_util.RenderingIntentFlag.PRINT);Ot.displayReadyCapability||(Ot.displayReadyCapability=new _util.PromiseCapability,Ot.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(ln=this._stats)==null||ln.time("Page Request"),this._pumpOperatorList(Ut));const an=on=>{var cn,sn;Ot.renderTasks.delete(Ht),(this._maybeCleanupAfterRender||zt)&&$n(this,vt,!0),On(this,At,U1).call(this,!zt),on?(Ht.capability.reject(on),this._abortOperatorList({intentState:Ot,reason:on instanceof Error?on:new Error(on)})):Ht.capability.resolve(),(cn=this._stats)==null||cn.timeEnd("Rendering"),(sn=this._stats)==null||sn.timeEnd("Overall")},Ht=new InternalRenderTask({callback:an,params:{canvasContext:Gt,viewport:en,transform:gn,background:nn},objs:this.objs,commonObjs:this.commonObjs,annotationCanvasMap:Vt,operatorList:Ot.operatorList,pageIndex:this._pageIndex,canvasFactory:this._transport.canvasFactory,filterFactory:this._transport.filterFactory,useRequestAnimationFrame:!zt,pdfBug:this._pdfBug,pageColors:Yt});(Ot.renderTasks||(Ot.renderTasks=new Set)).add(Ht);const Wt=Ht.task;return Promise.all([Ot.displayReadyCapability.promise,bn]).then(([on,cn])=>{var sn;if(this.destroyed){an();return}(sn=this._stats)==null||sn.time("Rendering"),Ht.initializeGraphics({transparency:on,optionalContentConfig:cn}),Ht.operatorListChanged()}).catch(an),Wt}getOperatorList({intent:Gt="display",annotationMode:en=_util.AnnotationMode.ENABLE,printAnnotationStorage:dn=null}={}){var Vt;function Qt(){nn.operatorList.lastChunk&&(nn.opListReadCapability.resolve(nn.operatorList),nn.renderTasks.delete(bn))}const gn=this._transport.getRenderingIntent(Gt,en,dn,!0);let nn=this._intentStates.get(gn.cacheKey);nn||(nn=Object.create(null),this._intentStates.set(gn.cacheKey,nn));let bn;return nn.opListReadCapability||(bn=Object.create(null),bn.operatorListChanged=Qt,nn.opListReadCapability=new _util.PromiseCapability,(nn.renderTasks||(nn.renderTasks=new Set)).add(bn),nn.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(Vt=this._stats)==null||Vt.time("Page Request"),this._pumpOperatorList(gn)),nn.opListReadCapability.promise}streamTextContent({includeMarkedContent:Gt=!1,disableNormalization:en=!1}={}){return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,includeMarkedContent:Gt===!0,disableNormalization:en===!0},{highWaterMark:100,size(Qt){return Qt.items.length}})}getTextContent(Gt={}){if(this._transport._htmlForXfa)return this.getXfa().then(dn=>_xfa_text.XfaText.textContent(dn));const en=this.streamTextContent(Gt);return new Promise(function(dn,Qt){function gn(){nn.read().then(function({value:Vt,done:Yt}){if(Yt){dn(bn);return}Object.assign(bn.styles,Vt.styles),bn.items.push(...Vt.items),gn()},Qt)}const nn=en.getReader(),bn={items:[],styles:Object.create(null)};gn()})}getStructTree(){return this._transport.getStructTree(this._pageIndex)}_destroy(){this.destroyed=!0;const Gt=[];for(const en of this._intentStates.values())if(this._abortOperatorList({intentState:en,reason:new Error("Page was destroyed."),force:!0}),!en.opListReadCapability)for(const dn of en.renderTasks)Gt.push(dn.completed),dn.cancel();return this.objs.clear(),$n(this,vt,!1),On(this,At,S2).call(this),Promise.all(Gt)}cleanup(Gt=!1){$n(this,vt,!0);const en=On(this,At,U1).call(this,!1);return Gt&&en&&this._stats&&(this._stats=new _display_utils.StatTimer),en}_startRenderPage(Gt,en){var Qt,gn;const dn=this._intentStates.get(en);dn&&((Qt=this._stats)==null||Qt.timeEnd("Page Request"),(gn=dn.displayReadyCapability)==null||gn.resolve(Gt))}_renderPageChunk(Gt,en){for(let dn=0,Qt=Gt.length;dn<Qt;dn++)en.operatorList.fnArray.push(Gt.fnArray[dn]),en.operatorList.argsArray.push(Gt.argsArray[dn]);en.operatorList.lastChunk=Gt.lastChunk,en.operatorList.separateAnnots=Gt.separateAnnots;for(const dn of en.renderTasks)dn.operatorListChanged();Gt.lastChunk&&On(this,At,U1).call(this,!0)}_pumpOperatorList({renderingIntent:Gt,cacheKey:en,annotationStorageSerializable:dn}){const{map:Qt,transfers:gn}=dn,bn=this._transport.messageHandler.sendWithStream("GetOperatorList",{pageIndex:this._pageIndex,intent:Gt,cacheKey:en,annotationStorage:Qt},gn).getReader(),Vt=this._intentStates.get(en);Vt.streamReader=bn;const Yt=()=>{bn.read().then(({value:hn,done:Ut})=>{if(Ut){Vt.streamReader=null;return}this._transport.destroyed||(this._renderPageChunk(hn,Vt),Yt())},hn=>{if(Vt.streamReader=null,!this._transport.destroyed){if(Vt.operatorList){Vt.operatorList.lastChunk=!0;for(const Ut of Vt.renderTasks)Ut.operatorListChanged();On(this,At,U1).call(this,!0)}if(Vt.displayReadyCapability)Vt.displayReadyCapability.reject(hn);else if(Vt.opListReadCapability)Vt.opListReadCapability.reject(hn);else throw hn}})};Yt()}_abortOperatorList({intentState:Gt,reason:en,force:dn=!1}){if(Gt.streamReader){if(Gt.streamReaderCancelTimeout&&(clearTimeout(Gt.streamReaderCancelTimeout),Gt.streamReaderCancelTimeout=null),!dn){if(Gt.renderTasks.size>0)return;if(en instanceof _display_utils.RenderingCancelledException){let Qt=RENDERING_CANCELLED_TIMEOUT;en.extraDelay>0&&en.extraDelay<1e3&&(Qt+=en.extraDelay),Gt.streamReaderCancelTimeout=setTimeout(()=>{Gt.streamReaderCancelTimeout=null,this._abortOperatorList({intentState:Gt,reason:en,force:!0})},Qt);return}}if(Gt.streamReader.cancel(new _util.AbortException(en.message)).catch(()=>{}),Gt.streamReader=null,!this._transport.destroyed){for(const[Qt,gn]of this._intentStates)if(gn===Gt){this._intentStates.delete(Qt);break}this.cleanup()}}}get stats(){return this._stats}}ht=new WeakMap,vt=new WeakMap,At=new WeakSet,U1=function(Gt=!1){if(On(this,At,S2).call(this),!Mt(this,vt)||this.destroyed)return!1;if(Gt)return $n(this,ht,setTimeout(()=>{$n(this,ht,null),On(this,At,U1).call(this,!1)},DELAYED_CLEANUP_TIMEOUT)),!1;for(const{renderTasks:en,operatorList:dn}of this._intentStates.values())if(en.size>0||!dn.lastChunk)return!1;return this._intentStates.clear(),this.objs.clear(),$n(this,vt,!1),!0},S2=function(){Mt(this,ht)&&(clearTimeout(Mt(this,ht)),$n(this,ht,null))},exports.PDFPageProxy=PDFPageProxy;class LoopbackPort{constructor(){Nn(this,Et,new Set);Nn(this,Rt,Promise.resolve())}postMessage(Gt,en){const dn={data:structuredClone(Gt,en?{transfer:en}:null)};Mt(this,Rt).then(()=>{for(const Qt of Mt(this,Et))Qt.call(this,dn)})}addEventListener(Gt,en){Mt(this,Et).add(en)}removeEventListener(Gt,en){Mt(this,Et).delete(en)}terminate(){Mt(this,Et).clear()}}Et=new WeakMap,Rt=new WeakMap,exports.LoopbackPort=LoopbackPort;const PDFWorkerUtil={isWorkerDisabled:!1,fallbackWorkerSrc:null,fakeWorkerId:0};exports.PDFWorkerUtil=PDFWorkerUtil;{if(_util.isNodeJS&&typeof commonjsRequire=="function")PDFWorkerUtil.isWorkerDisabled=!0,PDFWorkerUtil.fallbackWorkerSrc="./pdf.worker.js";else if(typeof document=="object"){const Bt=(wt=document==null?void 0:document.currentScript)==null?void 0:wt.src;Bt&&(PDFWorkerUtil.fallbackWorkerSrc=Bt.replace(/(\.(?:min\.)?js)(\?.*)?$/i,".worker$1$2"))}PDFWorkerUtil.isSameOrigin=function(Bt,Gt){let en;try{if(en=new URL(Bt),!en.origin||en.origin==="null")return!1}catch{return!1}const dn=new URL(Gt,en);return en.origin===dn.origin},PDFWorkerUtil.createCDNWrapper=function(Bt){const Gt=`importScripts("${Bt}");`;return URL.createObjectURL(new Blob([Gt]))}}const _PDFWorker=class _PDFWorker{constructor({name:Bt=null,port:Gt=null,verbosity:en=(0,_util.getVerbosityLevel)()}={}){var dn;if(this.name=Bt,this.destroyed=!1,this.verbosity=en,this._readyCapability=new _util.PromiseCapability,this._port=null,this._webWorker=null,this._messageHandler=null,Gt){if((dn=Mt(_PDFWorker,_t))!=null&&dn.has(Gt))throw new Error("Cannot use more than one PDFWorker per port.");(Mt(_PDFWorker,_t)||$n(_PDFWorker,_t,new WeakMap)).set(Gt,this),this._initializeFromPort(Gt);return}this._initialize()}get promise(){return this._readyCapability.promise}get port(){return this._port}get messageHandler(){return this._messageHandler}_initializeFromPort(Bt){this._port=Bt,this._messageHandler=new _message_handler.MessageHandler("main","worker",Bt),this._messageHandler.on("ready",function(){}),this._readyCapability.resolve(),this._messageHandler.send("configure",{verbosity:this.verbosity})}_initialize(){if(!PDFWorkerUtil.isWorkerDisabled&&!_PDFWorker._mainThreadWorkerMessageHandler){let{workerSrc:Bt}=_PDFWorker;try{PDFWorkerUtil.isSameOrigin(window.location.href,Bt)||(Bt=PDFWorkerUtil.createCDNWrapper(new URL(Bt,window.location).href));const Gt=new Worker(Bt),en=new _message_handler.MessageHandler("main","worker",Gt),dn=()=>{Gt.removeEventListener("error",Qt),en.destroy(),Gt.terminate(),this.destroyed?this._readyCapability.reject(new Error("Worker was destroyed")):this._setupFakeWorker()},Qt=()=>{this._webWorker||dn()};Gt.addEventListener("error",Qt),en.on("test",nn=>{if(Gt.removeEventListener("error",Qt),this.destroyed){dn();return}nn?(this._messageHandler=en,this._port=Gt,this._webWorker=Gt,this._readyCapability.resolve(),en.send("configure",{verbosity:this.verbosity})):(this._setupFakeWorker(),en.destroy(),Gt.terminate())}),en.on("ready",nn=>{if(Gt.removeEventListener("error",Qt),this.destroyed){dn();return}try{gn()}catch{this._setupFakeWorker()}});const gn=()=>{const nn=new Uint8Array;en.send("test",nn,[nn.buffer])};gn();return}catch{(0,_util.info)("The worker has been disabled.")}}this._setupFakeWorker()}_setupFakeWorker(){PDFWorkerUtil.isWorkerDisabled||((0,_util.warn)("Setting up fake worker."),PDFWorkerUtil.isWorkerDisabled=!0),_PDFWorker._setupFakeWorkerGlobal.then(Bt=>{if(this.destroyed){this._readyCapability.reject(new Error("Worker was destroyed"));return}const Gt=new LoopbackPort;this._port=Gt;const en=`fake${PDFWorkerUtil.fakeWorkerId++}`,dn=new _message_handler.MessageHandler(en+"_worker",en,Gt);Bt.setup(dn,Gt);const Qt=new _message_handler.MessageHandler(en,en+"_worker",Gt);this._messageHandler=Qt,this._readyCapability.resolve(),Qt.send("configure",{verbosity:this.verbosity})}).catch(Bt=>{this._readyCapability.reject(new Error(`Setting up fake worker failed: "${Bt.message}".`))})}destroy(){var Bt;this.destroyed=!0,this._webWorker&&(this._webWorker.terminate(),this._webWorker=null),(Bt=Mt(_PDFWorker,_t))==null||Bt.delete(this._port),this._port=null,this._messageHandler&&(this._messageHandler.destroy(),this._messageHandler=null)}static fromPort(Bt){var en;if(!(Bt!=null&&Bt.port))throw new Error("PDFWorker.fromPort - invalid method signature.");const Gt=(en=Mt(this,_t))==null?void 0:en.get(Bt.port);if(Gt){if(Gt._pendingDestroy)throw new Error("PDFWorker.fromPort - the worker is being destroyed.\nPlease remember to await `PDFDocumentLoadingTask.destroy()`-calls.");return Gt}return new _PDFWorker(Bt)}static get workerSrc(){if(_worker_options.GlobalWorkerOptions.workerSrc)return _worker_options.GlobalWorkerOptions.workerSrc;if(PDFWorkerUtil.fallbackWorkerSrc!==null)return _util.isNodeJS||(0,_display_utils.deprecated)('No "GlobalWorkerOptions.workerSrc" specified.'),PDFWorkerUtil.fallbackWorkerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}static get _mainThreadWorkerMessageHandler(){var Bt;try{return((Bt=globalThis.pdfjsWorker)==null?void 0:Bt.WorkerMessageHandler)||null}catch{return null}}static get _setupFakeWorkerGlobal(){const loader=async()=>{const mainWorkerMessageHandler=this._mainThreadWorkerMessageHandler;if(mainWorkerMessageHandler)return mainWorkerMessageHandler;if(_util.isNodeJS&&typeof commonjsRequire=="function"){const worker=eval("require")(this.workerSrc);return worker.WorkerMessageHandler}return await(0,_display_utils.loadScript)(this.workerSrc),window.pdfjsWorker.WorkerMessageHandler};return(0,_util.shadow)(this,"_setupFakeWorkerGlobal",loader())}};_t=new WeakMap,Nn(_PDFWorker,_t);let PDFWorker=_PDFWorker;exports.PDFWorker=PDFWorker;class WorkerTransport{constructor(Gt,en,dn,Qt,gn){Nn(this,Xt);Nn(this,Pt,new Map);Nn(this,_e,new Map);Nn(this,bt,new Map);Nn(this,Ft,null);this.messageHandler=Gt,this.loadingTask=en,this.commonObjs=new PDFObjects,this.fontLoader=new _font_loader.FontLoader({ownerDocument:Qt.ownerDocument,styleElement:Qt.styleElement}),this._params=Qt,this.canvasFactory=gn.canvasFactory,this.filterFactory=gn.filterFactory,this.cMapReaderFactory=gn.cMapReaderFactory,this.standardFontDataFactory=gn.standardFontDataFactory,this.destroyed=!1,this.destroyCapability=null,this._networkStream=dn,this._fullReader=null,this._lastProgress=null,this.downloadInfoCapability=new _util.PromiseCapability,this.setupMessageHandler()}get annotationStorage(){return(0,_util.shadow)(this,"annotationStorage",new _annotation_storage.AnnotationStorage)}getRenderingIntent(Gt,en=_util.AnnotationMode.ENABLE,dn=null,Qt=!1){let gn=_util.RenderingIntentFlag.DISPLAY,nn=_annotation_storage.SerializableEmpty;switch(Gt){case"any":gn=_util.RenderingIntentFlag.ANY;break;case"display":break;case"print":gn=_util.RenderingIntentFlag.PRINT;break;default:(0,_util.warn)(`getRenderingIntent - invalid intent: ${Gt}`)}switch(en){case _util.AnnotationMode.DISABLE:gn+=_util.RenderingIntentFlag.ANNOTATIONS_DISABLE;break;case _util.AnnotationMode.ENABLE:break;case _util.AnnotationMode.ENABLE_FORMS:gn+=_util.RenderingIntentFlag.ANNOTATIONS_FORMS;break;case _util.AnnotationMode.ENABLE_STORAGE:gn+=_util.RenderingIntentFlag.ANNOTATIONS_STORAGE,nn=(gn&_util.RenderingIntentFlag.PRINT&&dn instanceof _annotation_storage.PrintAnnotationStorage?dn:this.annotationStorage).serializable;break;default:(0,_util.warn)(`getRenderingIntent - invalid annotationMode: ${en}`)}return Qt&&(gn+=_util.RenderingIntentFlag.OPLIST),{renderingIntent:gn,cacheKey:`${gn}_${nn.hash}`,annotationStorageSerializable:nn}}destroy(){var dn;if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=new _util.PromiseCapability,(dn=Mt(this,Ft))==null||dn.reject(new Error("Worker was destroyed during onPassword callback"));const Gt=[];for(const Qt of Mt(this,_e).values())Gt.push(Qt._destroy());Mt(this,_e).clear(),Mt(this,bt).clear(),this.hasOwnProperty("annotationStorage")&&this.annotationStorage.resetModified();const en=this.messageHandler.sendWithPromise("Terminate",null);return Gt.push(en),Promise.all(Gt).then(()=>{var Qt;this.commonObjs.clear(),this.fontLoader.clear(),Mt(this,Pt).clear(),this.filterFactory.destroy(),(Qt=this._networkStream)==null||Qt.cancelAllRequests(new _util.AbortException("Worker was terminated.")),this.messageHandler&&(this.messageHandler.destroy(),this.messageHandler=null),this.destroyCapability.resolve()},this.destroyCapability.reject),this.destroyCapability.promise}setupMessageHandler(){const{messageHandler:Gt,loadingTask:en}=this;Gt.on("GetReader",(dn,Qt)=>{(0,_util.assert)(this._networkStream,"GetReader - no `IPDFStream` instance available."),this._fullReader=this._networkStream.getFullReader(),this._fullReader.onProgress=gn=>{this._lastProgress={loaded:gn.loaded,total:gn.total}},Qt.onPull=()=>{this._fullReader.read().then(function({value:gn,done:nn}){if(nn){Qt.close();return}(0,_util.assert)(gn instanceof ArrayBuffer,"GetReader - expected an ArrayBuffer."),Qt.enqueue(new Uint8Array(gn),1,[gn])}).catch(gn=>{Qt.error(gn)})},Qt.onCancel=gn=>{this._fullReader.cancel(gn),Qt.ready.catch(nn=>{if(!this.destroyed)throw nn})}}),Gt.on("ReaderHeadersReady",dn=>{const Qt=new _util.PromiseCapability,gn=this._fullReader;return gn.headersReady.then(()=>{var nn;(!gn.isStreamingSupported||!gn.isRangeSupported)&&(this._lastProgress&&((nn=en.onProgress)==null||nn.call(en,this._lastProgress)),gn.onProgress=bn=>{var Vt;(Vt=en.onProgress)==null||Vt.call(en,{loaded:bn.loaded,total:bn.total})}),Qt.resolve({isStreamingSupported:gn.isStreamingSupported,isRangeSupported:gn.isRangeSupported,contentLength:gn.contentLength})},Qt.reject),Qt.promise}),Gt.on("GetRangeReader",(dn,Qt)=>{(0,_util.assert)(this._networkStream,"GetRangeReader - no `IPDFStream` instance available.");const gn=this._networkStream.getRangeReader(dn.begin,dn.end);if(!gn){Qt.close();return}Qt.onPull=()=>{gn.read().then(function({value:nn,done:bn}){if(bn){Qt.close();return}(0,_util.assert)(nn instanceof ArrayBuffer,"GetRangeReader - expected an ArrayBuffer."),Qt.enqueue(new Uint8Array(nn),1,[nn])}).catch(nn=>{Qt.error(nn)})},Qt.onCancel=nn=>{gn.cancel(nn),Qt.ready.catch(bn=>{if(!this.destroyed)throw bn})}}),Gt.on("GetDoc",({pdfInfo:dn})=>{this._numPages=dn.numPages,this._htmlForXfa=dn.htmlForXfa,delete dn.htmlForXfa,en._capability.resolve(new PDFDocumentProxy(dn,this))}),Gt.on("DocException",function(dn){let Qt;switch(dn.name){case"PasswordException":Qt=new _util.PasswordException(dn.message,dn.code);break;case"InvalidPDFException":Qt=new _util.InvalidPDFException(dn.message);break;case"MissingPDFException":Qt=new _util.MissingPDFException(dn.message);break;case"UnexpectedResponseException":Qt=new _util.UnexpectedResponseException(dn.message,dn.status);break;case"UnknownErrorException":Qt=new _util.UnknownErrorException(dn.message,dn.details);break;default:(0,_util.unreachable)("DocException - expected a valid Error.")}en._capability.reject(Qt)}),Gt.on("PasswordRequest",dn=>{if($n(this,Ft,new _util.PromiseCapability),en.onPassword){const Qt=gn=>{gn instanceof Error?Mt(this,Ft).reject(gn):Mt(this,Ft).resolve({password:gn})};try{en.onPassword(Qt,dn.code)}catch(gn){Mt(this,Ft).reject(gn)}}else Mt(this,Ft).reject(new _util.PasswordException(dn.message,dn.code));return Mt(this,Ft).promise}),Gt.on("DataLoaded",dn=>{var Qt;(Qt=en.onProgress)==null||Qt.call(en,{loaded:dn.length,total:dn.length}),this.downloadInfoCapability.resolve(dn)}),Gt.on("StartRenderPage",dn=>{if(this.destroyed)return;Mt(this,_e).get(dn.pageIndex)._startRenderPage(dn.transparency,dn.cacheKey)}),Gt.on("commonobj",([dn,Qt,gn])=>{var nn;if(!this.destroyed&&!this.commonObjs.has(dn))switch(Qt){case"Font":const bn=this._params;if("error"in gn){const hn=gn.error;(0,_util.warn)(`Error during font loading: ${hn}`),this.commonObjs.resolve(dn,hn);break}const Vt=bn.pdfBug&&((nn=globalThis.FontInspector)!=null&&nn.enabled)?(hn,Ut)=>globalThis.FontInspector.fontAdded(hn,Ut):null,Yt=new _font_loader.FontFaceObject(gn,{isEvalSupported:bn.isEvalSupported,disableFontFace:bn.disableFontFace,ignoreErrors:bn.ignoreErrors,inspectFont:Vt});this.fontLoader.bind(Yt).catch(hn=>Gt.sendWithPromise("FontFallback",{id:dn})).finally(()=>{!bn.fontExtraProperties&&Yt.data&&(Yt.data=null),this.commonObjs.resolve(dn,Yt)});break;case"FontPath":case"Image":case"Pattern":this.commonObjs.resolve(dn,gn);break;default:throw new Error(`Got unknown common object type ${Qt}`)}}),Gt.on("obj",([dn,Qt,gn,nn])=>{var Vt;if(this.destroyed)return;const bn=Mt(this,_e).get(Qt);if(!bn.objs.has(dn))switch(gn){case"Image":if(bn.objs.resolve(dn,nn),nn){let Yt;if(nn.bitmap){const{width:hn,height:Ut}=nn;Yt=hn*Ut*4}else Yt=((Vt=nn.data)==null?void 0:Vt.length)||0;Yt>_util.MAX_IMAGE_SIZE_TO_CACHE&&(bn._maybeCleanupAfterRender=!0)}break;case"Pattern":bn.objs.resolve(dn,nn);break;default:throw new Error(`Got unknown object type ${gn}`)}}),Gt.on("DocProgress",dn=>{var Qt;this.destroyed||(Qt=en.onProgress)==null||Qt.call(en,{loaded:dn.loaded,total:dn.total})}),Gt.on("FetchBuiltInCMap",dn=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.cMapReaderFactory?this.cMapReaderFactory.fetch(dn):Promise.reject(new Error("CMapReaderFactory not initialized, see the `useWorkerFetch` parameter."))),Gt.on("FetchStandardFontData",dn=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.standardFontDataFactory?this.standardFontDataFactory.fetch(dn):Promise.reject(new Error("StandardFontDataFactory not initialized, see the `useWorkerFetch` parameter.")))}getData(){return this.messageHandler.sendWithPromise("GetData",null)}saveDocument(){var dn;this.annotationStorage.size<=0&&(0,_util.warn)("saveDocument called while `annotationStorage` is empty, please use the getData-method instead.");const{map:Gt,transfers:en}=this.annotationStorage.serializable;return this.messageHandler.sendWithPromise("SaveDocument",{isPureXfa:!!this._htmlForXfa,numPages:this._numPages,annotationStorage:Gt,filename:((dn=this._fullReader)==null?void 0:dn.filename)??null},en).finally(()=>{this.annotationStorage.resetModified()})}getPage(Gt){if(!Number.isInteger(Gt)||Gt<=0||Gt>this._numPages)return Promise.reject(new Error("Invalid page request."));const en=Gt-1,dn=Mt(this,bt).get(en);if(dn)return dn;const Qt=this.messageHandler.sendWithPromise("GetPage",{pageIndex:en}).then(gn=>{if(this.destroyed)throw new Error("Transport destroyed");const nn=new PDFPageProxy(en,gn,this,this._params.pdfBug);return Mt(this,_e).set(en,nn),nn});return Mt(this,bt).set(en,Qt),Qt}getPageIndex(Gt){return typeof Gt!="object"||Gt===null||!Number.isInteger(Gt.num)||Gt.num<0||!Number.isInteger(Gt.gen)||Gt.gen<0?Promise.reject(new Error("Invalid pageIndex request.")):this.messageHandler.sendWithPromise("GetPageIndex",{num:Gt.num,gen:Gt.gen})}getAnnotations(Gt,en){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:Gt,intent:en})}getFieldObjects(){return On(this,Xt,E2).call(this,"GetFieldObjects")}hasJSActions(){return On(this,Xt,E2).call(this,"HasJSActions")}getCalculationOrderIds(){return this.messageHandler.sendWithPromise("GetCalculationOrderIds",null)}getDestinations(){return this.messageHandler.sendWithPromise("GetDestinations",null)}getDestination(Gt){return typeof Gt!="string"?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:Gt})}getPageLabels(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}getPageLayout(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}getPageMode(){return this.messageHandler.sendWithPromise("GetPageMode",null)}getViewerPreferences(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}getOpenAction(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}getAttachments(){return this.messageHandler.sendWithPromise("GetAttachments",null)}getDocJSActions(){return On(this,Xt,E2).call(this,"GetDocJSActions")}getPageJSActions(Gt){return this.messageHandler.sendWithPromise("GetPageJSActions",{pageIndex:Gt})}getStructTree(Gt){return this.messageHandler.sendWithPromise("GetStructTree",{pageIndex:Gt})}getOutline(){return this.messageHandler.sendWithPromise("GetOutline",null)}getOptionalContentConfig(){return this.messageHandler.sendWithPromise("GetOptionalContentConfig",null).then(Gt=>new _optional_content_config.OptionalContentConfig(Gt))}getPermissions(){return this.messageHandler.sendWithPromise("GetPermissions",null)}getMetadata(){const Gt="GetMetadata",en=Mt(this,Pt).get(Gt);if(en)return en;const dn=this.messageHandler.sendWithPromise(Gt,null).then(Qt=>{var gn,nn;return{info:Qt[0],metadata:Qt[1]?new _metadata.Metadata(Qt[1]):null,contentDispositionFilename:((gn=this._fullReader)==null?void 0:gn.filename)??null,contentLength:((nn=this._fullReader)==null?void 0:nn.contentLength)??null}});return Mt(this,Pt).set(Gt,dn),dn}getMarkInfo(){return this.messageHandler.sendWithPromise("GetMarkInfo",null)}async startCleanup(Gt=!1){if(!this.destroyed){await this.messageHandler.sendWithPromise("Cleanup",null);for(const en of Mt(this,_e).values())if(!en.cleanup())throw new Error(`startCleanup: Page ${en.pageNumber} is currently rendering.`);this.commonObjs.clear(),Gt||this.fontLoader.clear(),Mt(this,Pt).clear(),this.filterFactory.destroy(!0)}}get loadingParams(){const{disableAutoFetch:Gt,enableXfa:en}=this._params;return(0,_util.shadow)(this,"loadingParams",{disableAutoFetch:Gt,enableXfa:en})}}Pt=new WeakMap,_e=new WeakMap,bt=new WeakMap,Ft=new WeakMap,Xt=new WeakSet,E2=function(Gt,en=null){const dn=Mt(this,Pt).get(Gt);if(dn)return dn;const Qt=this.messageHandler.sendWithPromise(Gt,en);return Mt(this,Pt).set(Gt,Qt),Qt};class PDFObjects{constructor(){Nn(this,$t);Nn(this,Nt,Object.create(null))}get(Gt,en=null){if(en){const Qt=On(this,$t,h3).call(this,Gt);return Qt.capability.promise.then(()=>en(Qt.data)),null}const dn=Mt(this,Nt)[Gt];if(!(dn!=null&&dn.capability.settled))throw new Error(`Requesting object that isn't resolved yet ${Gt}.`);return dn.data}has(Gt){const en=Mt(this,Nt)[Gt];return(en==null?void 0:en.capability.settled)||!1}resolve(Gt,en=null){const dn=On(this,$t,h3).call(this,Gt);dn.data=en,dn.capability.resolve()}clear(){var Gt;for(const en in Mt(this,Nt)){const{data:dn}=Mt(this,Nt)[en];(Gt=dn==null?void 0:dn.bitmap)==null||Gt.close()}$n(this,Nt,Object.create(null))}}Nt=new WeakMap,$t=new WeakSet,h3=function(Gt){var en;return(en=Mt(this,Nt))[Gt]||(en[Gt]={capability:new _util.PromiseCapability,data:null})};class RenderTask{constructor(Gt){Nn(this,jt,null);$n(this,jt,Gt),this.onContinue=null}get promise(){return Mt(this,jt).capability.promise}cancel(Gt=0){Mt(this,jt).cancel(null,Gt)}get separateAnnots(){const{separateAnnots:Gt}=Mt(this,jt).operatorList;if(!Gt)return!1;const{annotationCanvasMap:en}=Mt(this,jt);return Gt.form||Gt.canvas&&(en==null?void 0:en.size)>0}}jt=new WeakMap,exports.RenderTask=RenderTask;const qt=class qt{constructor({callback:Gt,params:en,objs:dn,commonObjs:Qt,annotationCanvasMap:gn,operatorList:nn,pageIndex:bn,canvasFactory:Vt,filterFactory:Yt,useRequestAnimationFrame:hn=!1,pdfBug:Ut=!1,pageColors:Ot=null}){this.callback=Gt,this.params=en,this.objs=dn,this.commonObjs=Qt,this.annotationCanvasMap=gn,this.operatorListIdx=null,this.operatorList=nn,this._pageIndex=bn,this.canvasFactory=Vt,this.filterFactory=Yt,this._pdfBug=Ut,this.pageColors=Ot,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=hn===!0&&typeof window<"u",this.cancelled=!1,this.capability=new _util.PromiseCapability,this.task=new RenderTask(this),this._cancelBound=this.cancel.bind(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=en.canvasContext.canvas}get completed(){return this.capability.promise.catch(function(){})}initializeGraphics({transparency:Gt=!1,optionalContentConfig:en}){var bn,Vt;if(this.cancelled)return;if(this._canvas){if(Mt(qt,Ct).has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");Mt(qt,Ct).add(this._canvas)}this._pdfBug&&((bn=globalThis.StepperManager)!=null&&bn.enabled)&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());const{canvasContext:dn,viewport:Qt,transform:gn,background:nn}=this.params;this.gfx=new _canvas.CanvasGraphics(dn,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:en},this.annotationCanvasMap,this.pageColors),this.gfx.beginDrawing({transform:gn,viewport:Qt,transparency:Gt,background:nn}),this.operatorListIdx=0,this.graphicsReady=!0,(Vt=this.graphicsReadyCallback)==null||Vt.call(this)}cancel(Gt=null,en=0){var dn;this.running=!1,this.cancelled=!0,(dn=this.gfx)==null||dn.endDrawing(),Mt(qt,Ct).delete(this._canvas),this.callback(Gt||new _display_utils.RenderingCancelledException(`Rendering cancelled, page ${this._pageIndex+1}`,en))}operatorListChanged(){var Gt;if(!this.graphicsReady){this.graphicsReadyCallback||(this.graphicsReadyCallback=this._continueBound);return}(Gt=this.stepper)==null||Gt.updateOperatorList(this.operatorList),!this.running&&this._continue()}_continue(){this.running=!0,!this.cancelled&&(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}_scheduleNext(){this._useRequestAnimationFrame?window.requestAnimationFrame(()=>{this._nextBound().catch(this._cancelBound)}):Promise.resolve().then(this._nextBound).catch(this._cancelBound)}async _next(){this.cancelled||(this.operatorListIdx=this.gfx.executeOperatorList(this.operatorList,this.operatorListIdx,this._continueBound,this.stepper),this.operatorListIdx===this.operatorList.argsArray.length&&(this.running=!1,this.operatorList.lastChunk&&(this.gfx.endDrawing(),Mt(qt,Ct).delete(this._canvas),this.callback())))}};Ct=new WeakMap,Nn(qt,Ct,new WeakSet);let InternalRenderTask=qt;const version="3.11.174";exports.version=version;const build="ce8716743";exports.build=build},(xt,$,ht)=>{var wt,_t,Pt,M8,bt;Object.defineProperty($,"__esModule",{value:!0}),$.SerializableEmpty=$.PrintAnnotationStorage=$.AnnotationStorage=void 0;var vt=ht(1),At=ht(4),St=ht(8);const kt=Object.freeze({map:null,hash:"",transfers:void 0});$.SerializableEmpty=kt;class Et{constructor(){Nn(this,Pt);Nn(this,wt,!1);Nn(this,_t,new Map);this.onSetModified=null,this.onResetModified=null,this.onAnnotationEditor=null}getValue(Xt,Kt){const Nt=Mt(this,_t).get(Xt);return Nt===void 0?Kt:Object.assign(Kt,Nt)}getRawValue(Xt){return Mt(this,_t).get(Xt)}remove(Xt){if(Mt(this,_t).delete(Xt),Mt(this,_t).size===0&&this.resetModified(),typeof this.onAnnotationEditor=="function"){for(const Kt of Mt(this,_t).values())if(Kt instanceof At.AnnotationEditor)return;this.onAnnotationEditor(null)}}setValue(Xt,Kt){const Nt=Mt(this,_t).get(Xt);let $t=!1;if(Nt!==void 0)for(const[Dt,jt]of Object.entries(Kt))Nt[Dt]!==jt&&($t=!0,Nt[Dt]=jt);else $t=!0,Mt(this,_t).set(Xt,Kt);$t&&On(this,Pt,M8).call(this),Kt instanceof At.AnnotationEditor&&typeof this.onAnnotationEditor=="function"&&this.onAnnotationEditor(Kt.constructor._type)}has(Xt){return Mt(this,_t).has(Xt)}getAll(){return Mt(this,_t).size>0?(0,vt.objectFromMap)(Mt(this,_t)):null}setAll(Xt){for(const[Kt,Nt]of Object.entries(Xt))this.setValue(Kt,Nt)}get size(){return Mt(this,_t).size}resetModified(){Mt(this,wt)&&($n(this,wt,!1),typeof this.onResetModified=="function"&&this.onResetModified())}get print(){return new Rt(this)}get serializable(){if(Mt(this,_t).size===0)return kt;const Xt=new Map,Kt=new St.MurmurHash3_64,Nt=[],$t=Object.create(null);let Dt=!1;for(const[jt,Ct]of Mt(this,_t)){const qt=Ct instanceof At.AnnotationEditor?Ct.serialize(!1,$t):Ct;qt&&(Xt.set(jt,qt),Kt.update(`${jt}:${JSON.stringify(qt)}`),Dt||(Dt=!!qt.bitmap))}if(Dt)for(const jt of Xt.values())jt.bitmap&&Nt.push(jt.bitmap);return Xt.size>0?{map:Xt,hash:Kt.hexdigest(),transfers:Nt}:kt}}wt=new WeakMap,_t=new WeakMap,Pt=new WeakSet,M8=function(){Mt(this,wt)||($n(this,wt,!0),typeof this.onSetModified=="function"&&this.onSetModified())},$.AnnotationStorage=Et;class Rt extends Et{constructor(Kt){super();Nn(this,bt);const{map:Nt,hash:$t,transfers:Dt}=Kt.serializable,jt=structuredClone(Nt,Dt?{transfer:Dt}:null);$n(this,bt,{map:jt,hash:$t,transfers:Dt})}get print(){(0,vt.unreachable)("Should not call PrintAnnotationStorage.print")}get serializable(){return Mt(this,bt)}}bt=new WeakMap,$.PrintAnnotationStorage=Rt},(xt,$,ht)=>{var Rt,wt,_t,Pt,_e,bt,Ft,Xt,Kt,Nt,$t,Dt,jt,Ct,qt,d3,f3,en,p3,g3,O8,D8,L8,m3,N8;Object.defineProperty($,"__esModule",{value:!0}),$.AnnotationEditor=void 0;var vt=ht(5),At=ht(1),St=ht(6);const hn=class hn{constructor(Ot){Nn(this,qt);Nn(this,Rt,"");Nn(this,wt,!1);Nn(this,_t,null);Nn(this,Pt,null);Nn(this,_e,null);Nn(this,bt,!1);Nn(this,Ft,null);Nn(this,Xt,this.focusin.bind(this));Nn(this,Kt,this.focusout.bind(this));Nn(this,Nt,!1);Nn(this,$t,!1);Nn(this,Dt,!1);Ur(this,"_initialOptions",Object.create(null));Ur(this,"_uiManager",null);Ur(this,"_focusEventsAllowed",!0);Ur(this,"_l10nPromise",null);Nn(this,jt,!1);Nn(this,Ct,hn._zIndex++);this.constructor===hn&&(0,At.unreachable)("Cannot initialize AnnotationEditor."),this.parent=Ot.parent,this.id=Ot.id,this.width=this.height=null,this.pageIndex=Ot.parent.pageIndex,this.name=Ot.name,this.div=null,this._uiManager=Ot.uiManager,this.annotationElementId=null,this._willKeepAspectRatio=!1,this._initialOptions.isCentered=Ot.isCentered,this._structTreeParentId=null;const{rotation:zt,rawDims:{pageWidth:an,pageHeight:Ht,pageX:Wt,pageY:tn}}=this.parent.viewport;this.rotation=zt,this.pageRotation=(360+zt-this._uiManager.viewParameters.rotation)%360,this.pageDimensions=[an,Ht],this.pageTranslation=[Wt,tn];const[ln,on]=this.parentDimensions;this.x=Ot.x/ln,this.y=Ot.y/on,this.isAttachedToDOM=!1,this.deleted=!1}get editorType(){return Object.getPrototypeOf(this).constructor._type}static get _defaultLineColor(){return(0,At.shadow)(this,"_defaultLineColor",this._colorManager.getHexCode("CanvasText"))}static deleteAnnotationElement(Ot){const zt=new Et({id:Ot.parent.getNextId(),parent:Ot.parent,uiManager:Ot._uiManager});zt.annotationElementId=Ot.annotationElementId,zt.deleted=!0,zt._uiManager.addToAnnotationStorage(zt)}static initialize(Ot,zt=null){if(hn._l10nPromise||(hn._l10nPromise=new Map(["editor_alt_text_button_label","editor_alt_text_edit_button_label","editor_alt_text_decorative_tooltip"].map(Ht=>[Ht,Ot.get(Ht)]))),zt!=null&&zt.strings)for(const Ht of zt.strings)hn._l10nPromise.set(Ht,Ot.get(Ht));if(hn._borderLineWidth!==-1)return;const an=getComputedStyle(document.documentElement);hn._borderLineWidth=parseFloat(an.getPropertyValue("--outline-width"))||0}static updateDefaultParams(Ot,zt){}static get defaultPropertiesToUpdate(){return[]}static isHandlingMimeForPasting(Ot){return!1}static paste(Ot,zt){(0,At.unreachable)("Not implemented")}get propertiesToUpdate(){return[]}get _isDraggable(){return Mt(this,jt)}set _isDraggable(Ot){var zt;$n(this,jt,Ot),(zt=this.div)==null||zt.classList.toggle("draggable",Ot)}center(){const[Ot,zt]=this.pageDimensions;switch(this.parentRotation){case 90:this.x-=this.height*zt/(Ot*2),this.y+=this.width*Ot/(zt*2);break;case 180:this.x+=this.width/2,this.y+=this.height/2;break;case 270:this.x+=this.height*zt/(Ot*2),this.y-=this.width*Ot/(zt*2);break;default:this.x-=this.width/2,this.y-=this.height/2;break}this.fixAndSetPosition()}addCommands(Ot){this._uiManager.addCommands(Ot)}get currentLayer(){return this._uiManager.currentLayer}setInBackground(){this.div.style.zIndex=0}setInForeground(){this.div.style.zIndex=Mt(this,Ct)}setParent(Ot){Ot!==null&&(this.pageIndex=Ot.pageIndex,this.pageDimensions=Ot.pageDimensions),this.parent=Ot}focusin(Ot){this._focusEventsAllowed&&(Mt(this,Nt)?$n(this,Nt,!1):this.parent.setSelected(this))}focusout(Ot){var an;if(!this._focusEventsAllowed||!this.isAttachedToDOM)return;const zt=Ot.relatedTarget;zt!=null&&zt.closest(`#${this.id}`)||(Ot.preventDefault(),(an=this.parent)!=null&&an.isMultipleSelection||this.commitOrRemove())}commitOrRemove(){this.isEmpty()?this.remove():this.commit()}commit(){this.addToAnnotationStorage()}addToAnnotationStorage(){this._uiManager.addToAnnotationStorage(this)}setAt(Ot,zt,an,Ht){const[Wt,tn]=this.parentDimensions;[an,Ht]=this.screenToPageTranslation(an,Ht),this.x=(Ot+an)/Wt,this.y=(zt+Ht)/tn,this.fixAndSetPosition()}translate(Ot,zt){On(this,qt,d3).call(this,this.parentDimensions,Ot,zt)}translateInPage(Ot,zt){On(this,qt,d3).call(this,this.pageDimensions,Ot,zt),this.div.scrollIntoView({block:"nearest"})}drag(Ot,zt){const[an,Ht]=this.parentDimensions;if(this.x+=Ot/an,this.y+=zt/Ht,this.parent&&(this.x<0||this.x>1||this.y<0||this.y>1)){const{x:cn,y:sn}=this.div.getBoundingClientRect();this.parent.findNewParent(this,cn,sn)&&(this.x-=Math.floor(this.x),this.y-=Math.floor(this.y))}let{x:Wt,y:tn}=this;const[ln,on]=On(this,qt,f3).call(this);Wt+=ln,tn+=on,this.div.style.left=`${(100*Wt).toFixed(2)}%`,this.div.style.top=`${(100*tn).toFixed(2)}%`,this.div.scrollIntoView({block:"nearest"})}fixAndSetPosition(){const[Ot,zt]=this.pageDimensions;let{x:an,y:Ht,width:Wt,height:tn}=this;switch(Wt*=Ot,tn*=zt,an*=Ot,Ht*=zt,this.rotation){case 0:an=Math.max(0,Math.min(Ot-Wt,an)),Ht=Math.max(0,Math.min(zt-tn,Ht));break;case 90:an=Math.max(0,Math.min(Ot-tn,an)),Ht=Math.min(zt,Math.max(Wt,Ht));break;case 180:an=Math.min(Ot,Math.max(Wt,an)),Ht=Math.min(zt,Math.max(tn,Ht));break;case 270:an=Math.min(Ot,Math.max(tn,an)),Ht=Math.max(0,Math.min(zt-Wt,Ht));break}this.x=an/=Ot,this.y=Ht/=zt;const[ln,on]=On(this,qt,f3).call(this);an+=ln,Ht+=on;const{style:cn}=this.div;cn.left=`${(100*an).toFixed(2)}%`,cn.top=`${(100*Ht).toFixed(2)}%`,this.moveInDOM()}screenToPageTranslation(Ot,zt){var an;return On(an=hn,en,p3).call(an,Ot,zt,this.parentRotation)}pageTranslationToScreen(Ot,zt){var an;return On(an=hn,en,p3).call(an,Ot,zt,360-this.parentRotation)}get parentScale(){return this._uiManager.viewParameters.realScale}get parentRotation(){return(this._uiManager.viewParameters.rotation+this.pageRotation)%360}get parentDimensions(){const{parentScale:Ot,pageDimensions:[zt,an]}=this,Ht=zt*Ot,Wt=an*Ot;return At.FeatureTest.isCSSRoundSupported?[Math.round(Ht),Math.round(Wt)]:[Ht,Wt]}setDims(Ot,zt){var Wt;const[an,Ht]=this.parentDimensions;this.div.style.width=`${(100*Ot/an).toFixed(2)}%`,Mt(this,bt)||(this.div.style.height=`${(100*zt/Ht).toFixed(2)}%`),(Wt=Mt(this,_t))==null||Wt.classList.toggle("small",Ot<hn.SMALL_EDITOR_SIZE||zt<hn.SMALL_EDITOR_SIZE)}fixDims(){const{style:Ot}=this.div,{height:zt,width:an}=Ot,Ht=an.endsWith("%"),Wt=!Mt(this,bt)&&zt.endsWith("%");if(Ht&&Wt)return;const[tn,ln]=this.parentDimensions;Ht||(Ot.width=`${(100*parseFloat(an)/tn).toFixed(2)}%`),!Mt(this,bt)&&!Wt&&(Ot.height=`${(100*parseFloat(zt)/ln).toFixed(2)}%`)}getInitialTranslation(){return[0,0]}async addAltTextButton(){if(Mt(this,_t))return;const Ot=$n(this,_t,document.createElement("button"));Ot.className="altText";const zt=await hn._l10nPromise.get("editor_alt_text_button_label");Ot.textContent=zt,Ot.setAttribute("aria-label",zt),Ot.tabIndex="0",Ot.addEventListener("contextmenu",St.noContextMenu),Ot.addEventListener("pointerdown",an=>an.stopPropagation()),Ot.addEventListener("click",an=>{an.preventDefault(),this._uiManager.editAltText(this)},{capture:!0}),Ot.addEventListener("keydown",an=>{an.target===Ot&&an.key==="Enter"&&(an.preventDefault(),this._uiManager.editAltText(this))}),On(this,qt,m3).call(this),this.div.append(Ot),hn.SMALL_EDITOR_SIZE||(hn.SMALL_EDITOR_SIZE=Math.min(128,Math.round(Ot.getBoundingClientRect().width*1.4)))}getClientDimensions(){return this.div.getBoundingClientRect()}get altTextData(){return{altText:Mt(this,Rt),decorative:Mt(this,wt)}}set altTextData({altText:Ot,decorative:zt}){Mt(this,Rt)===Ot&&Mt(this,wt)===zt||($n(this,Rt,Ot),$n(this,wt,zt),On(this,qt,m3).call(this))}render(){this.div=document.createElement("div"),this.div.setAttribute("data-editor-rotation",(360-this.rotation)%360),this.div.className=this.name,this.div.setAttribute("id",this.id),this.div.setAttribute("tabIndex",0),this.setInForeground(),this.div.addEventListener("focusin",Mt(this,Xt)),this.div.addEventListener("focusout",Mt(this,Kt));const[Ot,zt]=this.parentDimensions;this.parentRotation%180!==0&&(this.div.style.maxWidth=`${(100*zt/Ot).toFixed(2)}%`,this.div.style.maxHeight=`${(100*Ot/zt).toFixed(2)}%`);const[an,Ht]=this.getInitialTranslation();return this.translate(an,Ht),(0,vt.bindEvents)(this,this.div,["pointerdown"]),this.div}pointerdown(Ot){const{isMac:zt}=At.FeatureTest.platform;if(Ot.button!==0||Ot.ctrlKey&&zt){Ot.preventDefault();return}$n(this,Nt,!0),On(this,qt,N8).call(this,Ot)}moveInDOM(){var Ot;(Ot=this.parent)==null||Ot.moveEditorInDOM(this)}_setParentAndPosition(Ot,zt,an){Ot.changeParent(this),this.x=zt,this.y=an,this.fixAndSetPosition()}getRect(Ot,zt){const an=this.parentScale,[Ht,Wt]=this.pageDimensions,[tn,ln]=this.pageTranslation,on=Ot/an,cn=zt/an,sn=this.x*Ht,rn=this.y*Wt,xn=this.width*Ht,vn=this.height*Wt;switch(this.rotation){case 0:return[sn+on+tn,Wt-rn-cn-vn+ln,sn+on+xn+tn,Wt-rn-cn+ln];case 90:return[sn+cn+tn,Wt-rn+on+ln,sn+cn+vn+tn,Wt-rn+on+xn+ln];case 180:return[sn-on-xn+tn,Wt-rn+cn+ln,sn-on+tn,Wt-rn+cn+vn+ln];case 270:return[sn-cn-vn+tn,Wt-rn-on-xn+ln,sn-cn+tn,Wt-rn-on+ln];default:throw new Error("Invalid rotation")}}getRectInCurrentCoords(Ot,zt){const[an,Ht,Wt,tn]=Ot,ln=Wt-an,on=tn-Ht;switch(this.rotation){case 0:return[an,zt-tn,ln,on];case 90:return[an,zt-Ht,on,ln];case 180:return[Wt,zt-Ht,ln,on];case 270:return[Wt,zt-tn,on,ln];default:throw new Error("Invalid rotation")}}onceAdded(){}isEmpty(){return!1}enableEditMode(){$n(this,Dt,!0)}disableEditMode(){$n(this,Dt,!1)}isInEditMode(){return Mt(this,Dt)}shouldGetKeyboardEvents(){return!1}needsToBeRebuilt(){return this.div&&!this.isAttachedToDOM}rebuild(){var Ot,zt;(Ot=this.div)==null||Ot.addEventListener("focusin",Mt(this,Xt)),(zt=this.div)==null||zt.addEventListener("focusout",Mt(this,Kt))}serialize(Ot=!1,zt=null){(0,At.unreachable)("An editor must be serializable")}static deserialize(Ot,zt,an){const Ht=new this.prototype.constructor({parent:zt,id:zt.getNextId(),uiManager:an});Ht.rotation=Ot.rotation;const[Wt,tn]=Ht.pageDimensions,[ln,on,cn,sn]=Ht.getRectInCurrentCoords(Ot.rect,tn);return Ht.x=ln/Wt,Ht.y=on/tn,Ht.width=cn/Wt,Ht.height=sn/tn,Ht}remove(){var Ot;this.div.removeEventListener("focusin",Mt(this,Xt)),this.div.removeEventListener("focusout",Mt(this,Kt)),this.isEmpty()||this.commit(),this.parent?this.parent.remove(this):this._uiManager.removeEditor(this),(Ot=Mt(this,_t))==null||Ot.remove(),$n(this,_t,null),$n(this,Pt,null)}get isResizable(){return!1}makeResizable(){this.isResizable&&(On(this,qt,O8).call(this),Mt(this,Ft).classList.remove("hidden"))}select(){var Ot;this.makeResizable(),(Ot=this.div)==null||Ot.classList.add("selectedEditor")}unselect(){var Ot,zt,an;(Ot=Mt(this,Ft))==null||Ot.classList.add("hidden"),(zt=this.div)==null||zt.classList.remove("selectedEditor"),(an=this.div)!=null&&an.contains(document.activeElement)&&this._uiManager.currentLayer.div.focus()}updateParams(Ot,zt){}disableEditing(){Mt(this,_t)&&(Mt(this,_t).hidden=!0)}enableEditing(){Mt(this,_t)&&(Mt(this,_t).hidden=!1)}enterInEditMode(){}get contentDiv(){return this.div}get isEditing(){return Mt(this,$t)}set isEditing(Ot){$n(this,$t,Ot),this.parent&&(Ot?(this.parent.setSelected(this),this.parent.setActiveEditor(this)):this.parent.setActiveEditor(null))}setAspectRatio(Ot,zt){$n(this,bt,!0);const an=Ot/zt,{style:Ht}=this.div;Ht.aspectRatio=an,Ht.height="auto"}static get MIN_SIZE(){return 16}};Rt=new WeakMap,wt=new WeakMap,_t=new WeakMap,Pt=new WeakMap,_e=new WeakMap,bt=new WeakMap,Ft=new WeakMap,Xt=new WeakMap,Kt=new WeakMap,Nt=new WeakMap,$t=new WeakMap,Dt=new WeakMap,jt=new WeakMap,Ct=new WeakMap,qt=new WeakSet,d3=function([Ot,zt],an,Ht){[an,Ht]=this.screenToPageTranslation(an,Ht),this.x+=an/Ot,this.y+=Ht/zt,this.fixAndSetPosition()},f3=function(){const[Ot,zt]=this.parentDimensions,{_borderLineWidth:an}=hn,Ht=an/Ot,Wt=an/zt;switch(this.rotation){case 90:return[-Ht,Wt];case 180:return[Ht,Wt];case 270:return[Ht,-Wt];default:return[-Ht,-Wt]}},en=new WeakSet,p3=function(Ot,zt,an){switch(an){case 90:return[zt,-Ot];case 180:return[-Ot,-zt];case 270:return[-zt,Ot];default:return[Ot,zt]}},g3=function(Ot){switch(Ot){case 90:{const[zt,an]=this.pageDimensions;return[0,-zt/an,an/zt,0]}case 180:return[-1,0,0,-1];case 270:{const[zt,an]=this.pageDimensions;return[0,zt/an,-an/zt,0]}default:return[1,0,0,1]}},O8=function(){if(Mt(this,Ft))return;$n(this,Ft,document.createElement("div")),Mt(this,Ft).classList.add("resizers");const Ot=["topLeft","topRight","bottomRight","bottomLeft"];this._willKeepAspectRatio||Ot.push("topMiddle","middleRight","bottomMiddle","middleLeft");for(const zt of Ot){const an=document.createElement("div");Mt(this,Ft).append(an),an.classList.add("resizer",zt),an.addEventListener("pointerdown",On(this,qt,D8).bind(this,zt)),an.addEventListener("contextmenu",St.noContextMenu)}this.div.prepend(Mt(this,Ft))},D8=function(Ot,zt){zt.preventDefault();const{isMac:an}=At.FeatureTest.platform;if(zt.button!==0||zt.ctrlKey&&an)return;const Ht=On(this,qt,L8).bind(this,Ot),Wt=this._isDraggable;this._isDraggable=!1;const tn={passive:!0,capture:!0};window.addEventListener("pointermove",Ht,tn);const ln=this.x,on=this.y,cn=this.width,sn=this.height,rn=this.parent.div.style.cursor,xn=this.div.style.cursor;this.div.style.cursor=this.parent.div.style.cursor=window.getComputedStyle(zt.target).cursor;const vn=()=>{this._isDraggable=Wt,window.removeEventListener("pointerup",vn),window.removeEventListener("blur",vn),window.removeEventListener("pointermove",Ht,tn),this.parent.div.style.cursor=rn,this.div.style.cursor=xn;const En=this.x,Fn=this.y,Mn=this.width,Tn=this.height;En===ln&&Fn===on&&Mn===cn&&Tn===sn||this.addCommands({cmd:()=>{this.width=Mn,this.height=Tn,this.x=En,this.y=Fn;const[Sn,mn]=this.parentDimensions;this.setDims(Sn*Mn,mn*Tn),this.fixAndSetPosition()},undo:()=>{this.width=cn,this.height=sn,this.x=ln,this.y=on;const[Sn,mn]=this.parentDimensions;this.setDims(Sn*cn,mn*sn),this.fixAndSetPosition()},mustExec:!0})};window.addEventListener("pointerup",vn),window.addEventListener("blur",vn)},L8=function(Ot,zt){const[an,Ht]=this.parentDimensions,Wt=this.x,tn=this.y,ln=this.width,on=this.height,cn=hn.MIN_SIZE/an,sn=hn.MIN_SIZE/Ht,rn=Ln=>Math.round(Ln*1e4)/1e4,xn=On(this,qt,g3).call(this,this.rotation),vn=(Ln,Un)=>[xn[0]*Ln+xn[2]*Un,xn[1]*Ln+xn[3]*Un],En=On(this,qt,g3).call(this,360-this.rotation),Fn=(Ln,Un)=>[En[0]*Ln+En[2]*Un,En[1]*Ln+En[3]*Un];let Mn,Tn,Sn=!1,mn=!1;switch(Ot){case"topLeft":Sn=!0,Mn=(Ln,Un)=>[0,0],Tn=(Ln,Un)=>[Ln,Un];break;case"topMiddle":Mn=(Ln,Un)=>[Ln/2,0],Tn=(Ln,Un)=>[Ln/2,Un];break;case"topRight":Sn=!0,Mn=(Ln,Un)=>[Ln,0],Tn=(Ln,Un)=>[0,Un];break;case"middleRight":mn=!0,Mn=(Ln,Un)=>[Ln,Un/2],Tn=(Ln,Un)=>[0,Un/2];break;case"bottomRight":Sn=!0,Mn=(Ln,Un)=>[Ln,Un],Tn=(Ln,Un)=>[0,0];break;case"bottomMiddle":Mn=(Ln,Un)=>[Ln/2,Un],Tn=(Ln,Un)=>[Ln/2,0];break;case"bottomLeft":Sn=!0,Mn=(Ln,Un)=>[0,Un],Tn=(Ln,Un)=>[Ln,0];break;case"middleLeft":mn=!0,Mn=(Ln,Un)=>[0,Un/2],Tn=(Ln,Un)=>[Ln,Un/2];break}const fn=Mn(ln,on),Jt=Tn(ln,on);let un=vn(...Jt);const pn=rn(Wt+un[0]),wn=rn(tn+un[1]);let kn=1,Rn=1,[Cn,An]=this.screenToPageTranslation(zt.movementX,zt.movementY);if([Cn,An]=Fn(Cn/an,An/Ht),Sn){const Ln=Math.hypot(ln,on);kn=Rn=Math.max(Math.min(Math.hypot(Jt[0]-fn[0]-Cn,Jt[1]-fn[1]-An)/Ln,1/ln,1/on),cn/ln,sn/on)}else mn?kn=Math.max(cn,Math.min(1,Math.abs(Jt[0]-fn[0]-Cn)))/ln:Rn=Math.max(sn,Math.min(1,Math.abs(Jt[1]-fn[1]-An)))/on;const _n=rn(ln*kn),In=rn(on*Rn);un=vn(...Tn(_n,In));const Pn=pn-un[0],Dn=wn-un[1];this.width=_n,this.height=In,this.x=Pn,this.y=Dn,this.setDims(an*_n,Ht*In),this.fixAndSetPosition()},m3=async function(){var an;const Ot=Mt(this,_t);if(!Ot)return;if(!Mt(this,Rt)&&!Mt(this,wt)){Ot.classList.remove("done"),(an=Mt(this,Pt))==null||an.remove();return}hn._l10nPromise.get("editor_alt_text_edit_button_label").then(Ht=>{Ot.setAttribute("aria-label",Ht)});let zt=Mt(this,Pt);if(!zt){$n(this,Pt,zt=document.createElement("span")),zt.className="tooltip",zt.setAttribute("role","tooltip");const Ht=zt.id=`alt-text-tooltip-${this.id}`;Ot.setAttribute("aria-describedby",Ht);const Wt=100;Ot.addEventListener("mouseenter",()=>{$n(this,_e,setTimeout(()=>{$n(this,_e,null),Mt(this,Pt).classList.add("show"),this._uiManager._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",subtype:this.editorType,data:{action:"alt_text_tooltip"}}})},Wt))}),Ot.addEventListener("mouseleave",()=>{var tn;clearTimeout(Mt(this,_e)),$n(this,_e,null),(tn=Mt(this,Pt))==null||tn.classList.remove("show")})}Ot.classList.add("done"),zt.innerText=Mt(this,wt)?await hn._l10nPromise.get("editor_alt_text_decorative_tooltip"):Mt(this,Rt),zt.parentNode||Ot.append(zt)},N8=function(Ot){if(!this._isDraggable)return;const zt=this._uiManager.isSelected(this);this._uiManager.setUpDragSession();let an,Ht;zt&&(an={passive:!0,capture:!0},Ht=tn=>{const[ln,on]=this.screenToPageTranslation(tn.movementX,tn.movementY);this._uiManager.dragSelectedEditors(ln,on)},window.addEventListener("pointermove",Ht,an));const Wt=()=>{if(window.removeEventListener("pointerup",Wt),window.removeEventListener("blur",Wt),zt&&window.removeEventListener("pointermove",Ht,an),$n(this,Nt,!1),!this._uiManager.endDragSession()){const{isMac:tn}=At.FeatureTest.platform;Ot.ctrlKey&&!tn||Ot.shiftKey||Ot.metaKey&&tn?this.parent.toggleSelected(this):this.parent.setSelected(this)}};window.addEventListener("pointerup",Wt),window.addEventListener("blur",Wt)},Nn(hn,en),Ur(hn,"_borderLineWidth",-1),Ur(hn,"_colorManager",new vt.ColorManager),Ur(hn,"_zIndex",1),Ur(hn,"SMALL_EDITOR_SIZE",0);let kt=hn;$.AnnotationEditor=kt;class Et extends kt{constructor(Ot){super(Ot),this.annotationElementId=Ot.annotationElementId,this.deleted=!0}serialize(){return{id:this.annotationElementId,deleted:!0,pageIndex:this.pageIndex}}}},(xt,$,ht)=>{var bt,Ft,Xt,Kt,Nt,x3,jt,Ct,qt,Bt,Gt,$8,Qt,gn,nn,bn,Vt,Yt,hn,Ut,Ot,zt,an,Ht,Wt,tn,ln,on,cn,sn,rn,xn,vn,En,Fn,Mn,Tn,Sn,mn,fn,Jt,un,pn,wn,kn,Rn,Cn,j8,b3,y3,C2,v3,w3,xl,lm,B8,U8,A3,cm,S3;Object.defineProperty($,"__esModule",{value:!0}),$.KeyboardManager=$.CommandManager=$.ColorManager=$.AnnotationEditorUIManager=void 0,$.bindEvents=St,$.opacityToHex=kt;var vt=ht(1),At=ht(6);function St(dr,Bn,Hn){for(const Wn of Hn)Bn.addEventListener(Wn,dr[Wn].bind(dr))}function kt(dr){return Math.round(Math.min(255,Math.max(1,255*dr))).toString(16).padStart(2,"0")}class Et{constructor(){Nn(this,bt,0)}getId(){return`${vt.AnnotationEditorPrefix}${So(this,bt)._++}`}}bt=new WeakMap;const Dt=class Dt{constructor(){Nn(this,Nt);Nn(this,Ft,(0,vt.getUuid)());Nn(this,Xt,0);Nn(this,Kt,null)}static get _isSVGFittingCanvas(){const Bn='data:image/svg+xml;charset=UTF-8,<svg viewBox="0 0 1 1" width="1" height="1" xmlns="http://www.w3.org/2000/svg"><rect width="1" height="1" style="fill:red;"/></svg>',Wn=new OffscreenCanvas(1,3).getContext("2d"),cr=new Image;cr.src=Bn;const sr=cr.decode().then(()=>(Wn.drawImage(cr,0,0,1,1,0,0,1,3),new Uint32Array(Wn.getImageData(0,0,1,1).data.buffer)[0]===0));return(0,vt.shadow)(this,"_isSVGFittingCanvas",sr)}async getFromFile(Bn){const{lastModified:Hn,name:Wn,size:cr,type:sr}=Bn;return On(this,Nt,x3).call(this,`${Hn}_${Wn}_${cr}_${sr}`,Bn)}async getFromUrl(Bn){return On(this,Nt,x3).call(this,Bn,Bn)}async getFromId(Bn){Mt(this,Kt)||$n(this,Kt,new Map);const Hn=Mt(this,Kt).get(Bn);return Hn?Hn.bitmap?(Hn.refCounter+=1,Hn):Hn.file?this.getFromFile(Hn.file):this.getFromUrl(Hn.url):null}getSvgUrl(Bn){const Hn=Mt(this,Kt).get(Bn);return Hn!=null&&Hn.isSvg?Hn.svgUrl:null}deleteId(Bn){Mt(this,Kt)||$n(this,Kt,new Map);const Hn=Mt(this,Kt).get(Bn);Hn&&(Hn.refCounter-=1,Hn.refCounter===0&&(Hn.bitmap=null))}isValidId(Bn){return Bn.startsWith(`image_${Mt(this,Ft)}_`)}};Ft=new WeakMap,Xt=new WeakMap,Kt=new WeakMap,Nt=new WeakSet,x3=async function(Bn,Hn){Mt(this,Kt)||$n(this,Kt,new Map);let Wn=Mt(this,Kt).get(Bn);if(Wn===null)return null;if(Wn!=null&&Wn.bitmap)return Wn.refCounter+=1,Wn;try{Wn||(Wn={bitmap:null,id:`image_${Mt(this,Ft)}_${So(this,Xt)._++}`,refCounter:0,isSvg:!1});let cr;if(typeof Hn=="string"){Wn.url=Hn;const sr=await fetch(Hn);if(!sr.ok)throw new Error(sr.statusText);cr=await sr.blob()}else cr=Wn.file=Hn;if(cr.type==="image/svg+xml"){const sr=Dt._isSVGFittingCanvas,xr=new FileReader,Jn=new Image,Vn=new Promise((Zn,ur)=>{Jn.onload=()=>{Wn.bitmap=Jn,Wn.isSvg=!0,Zn()},xr.onload=async()=>{const hr=Wn.svgUrl=xr.result;Jn.src=await sr?`${hr}#svgView(preserveAspectRatio(none))`:hr},Jn.onerror=xr.onerror=ur});xr.readAsDataURL(cr),await Vn}else Wn.bitmap=await createImageBitmap(cr);Wn.refCounter=1}catch(cr){console.error(cr),Wn=null}return Mt(this,Kt).set(Bn,Wn),Wn&&Mt(this,Kt).set(Wn.id,Wn),Wn};let Rt=Dt;class wt{constructor(Bn=128){Nn(this,jt,[]);Nn(this,Ct,!1);Nn(this,qt);Nn(this,Bt,-1);$n(this,qt,Bn)}add({cmd:Bn,undo:Hn,mustExec:Wn,type:cr=NaN,overwriteIfSameType:sr=!1,keepUndo:xr=!1}){if(Wn&&Bn(),Mt(this,Ct))return;const Jn={cmd:Bn,undo:Hn,type:cr};if(Mt(this,Bt)===-1){Mt(this,jt).length>0&&(Mt(this,jt).length=0),$n(this,Bt,0),Mt(this,jt).push(Jn);return}if(sr&&Mt(this,jt)[Mt(this,Bt)].type===cr){xr&&(Jn.undo=Mt(this,jt)[Mt(this,Bt)].undo),Mt(this,jt)[Mt(this,Bt)]=Jn;return}const Vn=Mt(this,Bt)+1;Vn===Mt(this,qt)?Mt(this,jt).splice(0,1):($n(this,Bt,Vn),Vn<Mt(this,jt).length&&Mt(this,jt).splice(Vn)),Mt(this,jt).push(Jn)}undo(){Mt(this,Bt)!==-1&&($n(this,Ct,!0),Mt(this,jt)[Mt(this,Bt)].undo(),$n(this,Ct,!1),$n(this,Bt,Mt(this,Bt)-1))}redo(){Mt(this,Bt)<Mt(this,jt).length-1&&($n(this,Bt,Mt(this,Bt)+1),$n(this,Ct,!0),Mt(this,jt)[Mt(this,Bt)].cmd(),$n(this,Ct,!1))}hasSomethingToUndo(){return Mt(this,Bt)!==-1}hasSomethingToRedo(){return Mt(this,Bt)<Mt(this,jt).length-1}destroy(){$n(this,jt,null)}}jt=new WeakMap,Ct=new WeakMap,qt=new WeakMap,Bt=new WeakMap,$.CommandManager=wt;class _t{constructor(Bn){Nn(this,Gt);this.buffer=[],this.callbacks=new Map,this.allKeys=new Set;const{isMac:Hn}=vt.FeatureTest.platform;for(const[Wn,cr,sr={}]of Bn)for(const xr of Wn){const Jn=xr.startsWith("mac+");Hn&&Jn?(this.callbacks.set(xr.slice(4),{callback:cr,options:sr}),this.allKeys.add(xr.split("+").at(-1))):!Hn&&!Jn&&(this.callbacks.set(xr,{callback:cr,options:sr}),this.allKeys.add(xr.split("+").at(-1)))}}exec(Bn,Hn){if(!this.allKeys.has(Hn.key))return;const Wn=this.callbacks.get(On(this,Gt,$8).call(this,Hn));if(!Wn)return;const{callback:cr,options:{bubbles:sr=!1,args:xr=[],checker:Jn=null}}=Wn;Jn&&!Jn(Bn,Hn)||(cr.bind(Bn,...xr)(),sr||(Hn.stopPropagation(),Hn.preventDefault()))}}Gt=new WeakSet,$8=function(Bn){Bn.altKey&&this.buffer.push("alt"),Bn.ctrlKey&&this.buffer.push("ctrl"),Bn.metaKey&&this.buffer.push("meta"),Bn.shiftKey&&this.buffer.push("shift"),this.buffer.push(Bn.key);const Hn=this.buffer.join("+");return this.buffer.length=0,Hn},$.KeyboardManager=_t;const dn=class dn{get _colors(){const Bn=new Map([["CanvasText",null],["Canvas",null]]);return(0,At.getColorValues)(Bn),(0,vt.shadow)(this,"_colors",Bn)}convert(Bn){const Hn=(0,At.getRGB)(Bn);if(!window.matchMedia("(forced-colors: active)").matches)return Hn;for(const[Wn,cr]of this._colors)if(cr.every((sr,xr)=>sr===Hn[xr]))return dn._colorsMapping.get(Wn);return Hn}getHexCode(Bn){const Hn=this._colors.get(Bn);return Hn?vt.Util.makeHexColor(...Hn):Bn}};Ur(dn,"_colorsMapping",new Map([["CanvasText",[0,0,0]],["Canvas",[255,255,255]]]));let Pt=dn;$.ColorManager=Pt;const lr=class lr{constructor(Bn,Hn,Wn,cr,sr,xr){Nn(this,Cn);Nn(this,Qt,null);Nn(this,gn,new Map);Nn(this,nn,new Map);Nn(this,bn,null);Nn(this,Vt,null);Nn(this,Yt,new wt);Nn(this,hn,0);Nn(this,Ut,new Set);Nn(this,Ot,null);Nn(this,zt,null);Nn(this,an,new Set);Nn(this,Ht,null);Nn(this,Wt,new Et);Nn(this,tn,!1);Nn(this,ln,!1);Nn(this,on,null);Nn(this,cn,vt.AnnotationEditorType.NONE);Nn(this,sn,new Set);Nn(this,rn,null);Nn(this,xn,this.blur.bind(this));Nn(this,vn,this.focus.bind(this));Nn(this,En,this.copy.bind(this));Nn(this,Fn,this.cut.bind(this));Nn(this,Mn,this.paste.bind(this));Nn(this,Tn,this.keydown.bind(this));Nn(this,Sn,this.onEditingAction.bind(this));Nn(this,mn,this.onPageChanging.bind(this));Nn(this,fn,this.onScaleChanging.bind(this));Nn(this,Jt,this.onRotationChanging.bind(this));Nn(this,un,{isEditing:!1,isEmpty:!0,hasSomethingToUndo:!1,hasSomethingToRedo:!1,hasSelectedEditor:!1});Nn(this,pn,[0,0]);Nn(this,wn,null);Nn(this,kn,null);Nn(this,Rn,null);$n(this,kn,Bn),$n(this,Rn,Hn),$n(this,bn,Wn),this._eventBus=cr,this._eventBus._on("editingaction",Mt(this,Sn)),this._eventBus._on("pagechanging",Mt(this,mn)),this._eventBus._on("scalechanging",Mt(this,fn)),this._eventBus._on("rotationchanging",Mt(this,Jt)),$n(this,Vt,sr.annotationStorage),$n(this,Ht,sr.filterFactory),$n(this,rn,xr),this.viewParameters={realScale:At.PixelsPerInch.PDF_TO_CSS_UNITS,rotation:0}}static get _keyboardManager(){const Bn=lr.prototype,Hn=sr=>{const{activeElement:xr}=document;return xr&&Mt(sr,kn).contains(xr)&&sr.hasSomethingToControl()},Wn=this.TRANSLATE_SMALL,cr=this.TRANSLATE_BIG;return(0,vt.shadow)(this,"_keyboardManager",new _t([[["ctrl+a","mac+meta+a"],Bn.selectAll],[["ctrl+z","mac+meta+z"],Bn.undo],[["ctrl+y","ctrl+shift+z","mac+meta+shift+z","ctrl+shift+Z","mac+meta+shift+Z"],Bn.redo],[["Backspace","alt+Backspace","ctrl+Backspace","shift+Backspace","mac+Backspace","mac+alt+Backspace","mac+ctrl+Backspace","Delete","ctrl+Delete","shift+Delete","mac+Delete"],Bn.delete],[["Escape","mac+Escape"],Bn.unselectAll],[["ArrowLeft","mac+ArrowLeft"],Bn.translateSelectedEditors,{args:[-Wn,0],checker:Hn}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],Bn.translateSelectedEditors,{args:[-cr,0],checker:Hn}],[["ArrowRight","mac+ArrowRight"],Bn.translateSelectedEditors,{args:[Wn,0],checker:Hn}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],Bn.translateSelectedEditors,{args:[cr,0],checker:Hn}],[["ArrowUp","mac+ArrowUp"],Bn.translateSelectedEditors,{args:[0,-Wn],checker:Hn}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],Bn.translateSelectedEditors,{args:[0,-cr],checker:Hn}],[["ArrowDown","mac+ArrowDown"],Bn.translateSelectedEditors,{args:[0,Wn],checker:Hn}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],Bn.translateSelectedEditors,{args:[0,cr],checker:Hn}]]))}destroy(){On(this,Cn,C2).call(this),On(this,Cn,b3).call(this),this._eventBus._off("editingaction",Mt(this,Sn)),this._eventBus._off("pagechanging",Mt(this,mn)),this._eventBus._off("scalechanging",Mt(this,fn)),this._eventBus._off("rotationchanging",Mt(this,Jt));for(const Bn of Mt(this,nn).values())Bn.destroy();Mt(this,nn).clear(),Mt(this,gn).clear(),Mt(this,an).clear(),$n(this,Qt,null),Mt(this,sn).clear(),Mt(this,Yt).destroy(),Mt(this,bn).destroy()}get hcmFilter(){return(0,vt.shadow)(this,"hcmFilter",Mt(this,rn)?Mt(this,Ht).addHCMFilter(Mt(this,rn).foreground,Mt(this,rn).background):"none")}get direction(){return(0,vt.shadow)(this,"direction",getComputedStyle(Mt(this,kn)).direction)}editAltText(Bn){var Hn;(Hn=Mt(this,bn))==null||Hn.editAltText(this,Bn)}onPageChanging({pageNumber:Bn}){$n(this,hn,Bn-1)}focusMainContainer(){Mt(this,kn).focus()}findParent(Bn,Hn){for(const Wn of Mt(this,nn).values()){const{x:cr,y:sr,width:xr,height:Jn}=Wn.div.getBoundingClientRect();if(Bn>=cr&&Bn<=cr+xr&&Hn>=sr&&Hn<=sr+Jn)return Wn}return null}disableUserSelect(Bn=!1){Mt(this,Rn).classList.toggle("noUserSelect",Bn)}addShouldRescale(Bn){Mt(this,an).add(Bn)}removeShouldRescale(Bn){Mt(this,an).delete(Bn)}onScaleChanging({scale:Bn}){this.commitOrRemove(),this.viewParameters.realScale=Bn*At.PixelsPerInch.PDF_TO_CSS_UNITS;for(const Hn of Mt(this,an))Hn.onScaleChanging()}onRotationChanging({pagesRotation:Bn}){this.commitOrRemove(),this.viewParameters.rotation=Bn}addToAnnotationStorage(Bn){!Bn.isEmpty()&&Mt(this,Vt)&&!Mt(this,Vt).has(Bn.id)&&Mt(this,Vt).setValue(Bn.id,Bn)}blur(){if(!this.hasSelection)return;const{activeElement:Bn}=document;for(const Hn of Mt(this,sn))if(Hn.div.contains(Bn)){$n(this,on,[Hn,Bn]),Hn._focusEventsAllowed=!1;break}}focus(){if(!Mt(this,on))return;const[Bn,Hn]=Mt(this,on);$n(this,on,null),Hn.addEventListener("focusin",()=>{Bn._focusEventsAllowed=!0},{once:!0}),Hn.focus()}addEditListeners(){On(this,Cn,y3).call(this),On(this,Cn,v3).call(this)}removeEditListeners(){On(this,Cn,C2).call(this),On(this,Cn,w3).call(this)}copy(Bn){var Wn;if(Bn.preventDefault(),(Wn=Mt(this,Qt))==null||Wn.commitOrRemove(),!this.hasSelection)return;const Hn=[];for(const cr of Mt(this,sn)){const sr=cr.serialize(!0);sr&&Hn.push(sr)}Hn.length!==0&&Bn.clipboardData.setData("application/pdfjs",JSON.stringify(Hn))}cut(Bn){this.copy(Bn),this.delete()}paste(Bn){Bn.preventDefault();const{clipboardData:Hn}=Bn;for(const sr of Hn.items)for(const xr of Mt(this,zt))if(xr.isHandlingMimeForPasting(sr.type)){xr.paste(sr,this.currentLayer);return}let Wn=Hn.getData("application/pdfjs");if(!Wn)return;try{Wn=JSON.parse(Wn)}catch(sr){(0,vt.warn)(`paste: "${sr.message}".`);return}if(!Array.isArray(Wn))return;this.unselectAll();const cr=this.currentLayer;try{const sr=[];for(const Vn of Wn){const Zn=cr.deserialize(Vn);if(!Zn)return;sr.push(Zn)}const xr=()=>{for(const Vn of sr)On(this,Cn,A3).call(this,Vn);On(this,Cn,S3).call(this,sr)},Jn=()=>{for(const Vn of sr)Vn.remove()};this.addCommands({cmd:xr,undo:Jn,mustExec:!0})}catch(sr){(0,vt.warn)(`paste: "${sr.message}".`)}}keydown(Bn){var Hn;(Hn=this.getActive())!=null&&Hn.shouldGetKeyboardEvents()||lr._keyboardManager.exec(this,Bn)}onEditingAction(Bn){["undo","redo","delete","selectAll"].includes(Bn.name)&&this[Bn.name]()}setEditingState(Bn){Bn?(On(this,Cn,j8).call(this),On(this,Cn,y3).call(this),On(this,Cn,v3).call(this),On(this,Cn,xl).call(this,{isEditing:Mt(this,cn)!==vt.AnnotationEditorType.NONE,isEmpty:On(this,Cn,cm).call(this),hasSomethingToUndo:Mt(this,Yt).hasSomethingToUndo(),hasSomethingToRedo:Mt(this,Yt).hasSomethingToRedo(),hasSelectedEditor:!1})):(On(this,Cn,b3).call(this),On(this,Cn,C2).call(this),On(this,Cn,w3).call(this),On(this,Cn,xl).call(this,{isEditing:!1}),this.disableUserSelect(!1))}registerEditorTypes(Bn){if(!Mt(this,zt)){$n(this,zt,Bn);for(const Hn of Mt(this,zt))On(this,Cn,lm).call(this,Hn.defaultPropertiesToUpdate)}}getId(){return Mt(this,Wt).getId()}get currentLayer(){return Mt(this,nn).get(Mt(this,hn))}getLayer(Bn){return Mt(this,nn).get(Bn)}get currentPageIndex(){return Mt(this,hn)}addLayer(Bn){Mt(this,nn).set(Bn.pageIndex,Bn),Mt(this,tn)?Bn.enable():Bn.disable()}removeLayer(Bn){Mt(this,nn).delete(Bn.pageIndex)}updateMode(Bn,Hn=null){if(Mt(this,cn)!==Bn){if($n(this,cn,Bn),Bn===vt.AnnotationEditorType.NONE){this.setEditingState(!1),On(this,Cn,U8).call(this);return}this.setEditingState(!0),On(this,Cn,B8).call(this),this.unselectAll();for(const Wn of Mt(this,nn).values())Wn.updateMode(Bn);if(Hn){for(const Wn of Mt(this,gn).values())if(Wn.annotationElementId===Hn){this.setSelected(Wn),Wn.enterInEditMode();break}}}}updateToolbar(Bn){Bn!==Mt(this,cn)&&this._eventBus.dispatch("switchannotationeditormode",{source:this,mode:Bn})}updateParams(Bn,Hn){if(Mt(this,zt)){if(Bn===vt.AnnotationEditorParamsType.CREATE){this.currentLayer.addNewEditor(Bn);return}for(const Wn of Mt(this,sn))Wn.updateParams(Bn,Hn);for(const Wn of Mt(this,zt))Wn.updateDefaultParams(Bn,Hn)}}enableWaiting(Bn=!1){if(Mt(this,ln)!==Bn){$n(this,ln,Bn);for(const Hn of Mt(this,nn).values())Bn?Hn.disableClick():Hn.enableClick(),Hn.div.classList.toggle("waiting",Bn)}}getEditors(Bn){const Hn=[];for(const Wn of Mt(this,gn).values())Wn.pageIndex===Bn&&Hn.push(Wn);return Hn}getEditor(Bn){return Mt(this,gn).get(Bn)}addEditor(Bn){Mt(this,gn).set(Bn.id,Bn)}removeEditor(Bn){var Hn;Mt(this,gn).delete(Bn.id),this.unselect(Bn),(!Bn.annotationElementId||!Mt(this,Ut).has(Bn.annotationElementId))&&((Hn=Mt(this,Vt))==null||Hn.remove(Bn.id))}addDeletedAnnotationElement(Bn){Mt(this,Ut).add(Bn.annotationElementId),Bn.deleted=!0}isDeletedAnnotationElement(Bn){return Mt(this,Ut).has(Bn)}removeDeletedAnnotationElement(Bn){Mt(this,Ut).delete(Bn.annotationElementId),Bn.deleted=!1}setActiveEditor(Bn){Mt(this,Qt)!==Bn&&($n(this,Qt,Bn),Bn&&On(this,Cn,lm).call(this,Bn.propertiesToUpdate))}toggleSelected(Bn){if(Mt(this,sn).has(Bn)){Mt(this,sn).delete(Bn),Bn.unselect(),On(this,Cn,xl).call(this,{hasSelectedEditor:this.hasSelection});return}Mt(this,sn).add(Bn),Bn.select(),On(this,Cn,lm).call(this,Bn.propertiesToUpdate),On(this,Cn,xl).call(this,{hasSelectedEditor:!0})}setSelected(Bn){for(const Hn of Mt(this,sn))Hn!==Bn&&Hn.unselect();Mt(this,sn).clear(),Mt(this,sn).add(Bn),Bn.select(),On(this,Cn,lm).call(this,Bn.propertiesToUpdate),On(this,Cn,xl).call(this,{hasSelectedEditor:!0})}isSelected(Bn){return Mt(this,sn).has(Bn)}unselect(Bn){Bn.unselect(),Mt(this,sn).delete(Bn),On(this,Cn,xl).call(this,{hasSelectedEditor:this.hasSelection})}get hasSelection(){return Mt(this,sn).size!==0}undo(){Mt(this,Yt).undo(),On(this,Cn,xl).call(this,{hasSomethingToUndo:Mt(this,Yt).hasSomethingToUndo(),hasSomethingToRedo:!0,isEmpty:On(this,Cn,cm).call(this)})}redo(){Mt(this,Yt).redo(),On(this,Cn,xl).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:Mt(this,Yt).hasSomethingToRedo(),isEmpty:On(this,Cn,cm).call(this)})}addCommands(Bn){Mt(this,Yt).add(Bn),On(this,Cn,xl).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:!1,isEmpty:On(this,Cn,cm).call(this)})}delete(){if(this.commitOrRemove(),!this.hasSelection)return;const Bn=[...Mt(this,sn)],Hn=()=>{for(const cr of Bn)cr.remove()},Wn=()=>{for(const cr of Bn)On(this,Cn,A3).call(this,cr)};this.addCommands({cmd:Hn,undo:Wn,mustExec:!0})}commitOrRemove(){var Bn;(Bn=Mt(this,Qt))==null||Bn.commitOrRemove()}hasSomethingToControl(){return Mt(this,Qt)||this.hasSelection}selectAll(){for(const Bn of Mt(this,sn))Bn.commit();On(this,Cn,S3).call(this,Mt(this,gn).values())}unselectAll(){if(Mt(this,Qt)){Mt(this,Qt).commitOrRemove();return}if(this.hasSelection){for(const Bn of Mt(this,sn))Bn.unselect();Mt(this,sn).clear(),On(this,Cn,xl).call(this,{hasSelectedEditor:!1})}}translateSelectedEditors(Bn,Hn,Wn=!1){if(Wn||this.commitOrRemove(),!this.hasSelection)return;Mt(this,pn)[0]+=Bn,Mt(this,pn)[1]+=Hn;const[cr,sr]=Mt(this,pn),xr=[...Mt(this,sn)],Jn=1e3;Mt(this,wn)&&clearTimeout(Mt(this,wn)),$n(this,wn,setTimeout(()=>{$n(this,wn,null),Mt(this,pn)[0]=Mt(this,pn)[1]=0,this.addCommands({cmd:()=>{for(const Vn of xr)Mt(this,gn).has(Vn.id)&&Vn.translateInPage(cr,sr)},undo:()=>{for(const Vn of xr)Mt(this,gn).has(Vn.id)&&Vn.translateInPage(-cr,-sr)},mustExec:!1})},Jn));for(const Vn of xr)Vn.translateInPage(Bn,Hn)}setUpDragSession(){if(this.hasSelection){this.disableUserSelect(!0),$n(this,Ot,new Map);for(const Bn of Mt(this,sn))Mt(this,Ot).set(Bn,{savedX:Bn.x,savedY:Bn.y,savedPageIndex:Bn.pageIndex,newX:0,newY:0,newPageIndex:-1})}}endDragSession(){if(!Mt(this,Ot))return!1;this.disableUserSelect(!1);const Bn=Mt(this,Ot);$n(this,Ot,null);let Hn=!1;for(const[{x:cr,y:sr,pageIndex:xr},Jn]of Bn)Jn.newX=cr,Jn.newY=sr,Jn.newPageIndex=xr,Hn||(Hn=cr!==Jn.savedX||sr!==Jn.savedY||xr!==Jn.savedPageIndex);if(!Hn)return!1;const Wn=(cr,sr,xr,Jn)=>{if(Mt(this,gn).has(cr.id)){const Vn=Mt(this,nn).get(Jn);Vn?cr._setParentAndPosition(Vn,sr,xr):(cr.pageIndex=Jn,cr.x=sr,cr.y=xr)}};return this.addCommands({cmd:()=>{for(const[cr,{newX:sr,newY:xr,newPageIndex:Jn}]of Bn)Wn(cr,sr,xr,Jn)},undo:()=>{for(const[cr,{savedX:sr,savedY:xr,savedPageIndex:Jn}]of Bn)Wn(cr,sr,xr,Jn)},mustExec:!0}),!0}dragSelectedEditors(Bn,Hn){if(Mt(this,Ot))for(const Wn of Mt(this,Ot).keys())Wn.drag(Bn,Hn)}rebuild(Bn){if(Bn.parent===null){const Hn=this.getLayer(Bn.pageIndex);Hn?(Hn.changeParent(Bn),Hn.addOrRebuild(Bn)):(this.addEditor(Bn),this.addToAnnotationStorage(Bn),Bn.rebuild())}else Bn.parent.addOrRebuild(Bn)}isActive(Bn){return Mt(this,Qt)===Bn}getActive(){return Mt(this,Qt)}getMode(){return Mt(this,cn)}get imageManager(){return(0,vt.shadow)(this,"imageManager",new Rt)}};Qt=new WeakMap,gn=new WeakMap,nn=new WeakMap,bn=new WeakMap,Vt=new WeakMap,Yt=new WeakMap,hn=new WeakMap,Ut=new WeakMap,Ot=new WeakMap,zt=new WeakMap,an=new WeakMap,Ht=new WeakMap,Wt=new WeakMap,tn=new WeakMap,ln=new WeakMap,on=new WeakMap,cn=new WeakMap,sn=new WeakMap,rn=new WeakMap,xn=new WeakMap,vn=new WeakMap,En=new WeakMap,Fn=new WeakMap,Mn=new WeakMap,Tn=new WeakMap,Sn=new WeakMap,mn=new WeakMap,fn=new WeakMap,Jt=new WeakMap,un=new WeakMap,pn=new WeakMap,wn=new WeakMap,kn=new WeakMap,Rn=new WeakMap,Cn=new WeakSet,j8=function(){window.addEventListener("focus",Mt(this,vn)),window.addEventListener("blur",Mt(this,xn))},b3=function(){window.removeEventListener("focus",Mt(this,vn)),window.removeEventListener("blur",Mt(this,xn))},y3=function(){window.addEventListener("keydown",Mt(this,Tn),{capture:!0})},C2=function(){window.removeEventListener("keydown",Mt(this,Tn),{capture:!0})},v3=function(){document.addEventListener("copy",Mt(this,En)),document.addEventListener("cut",Mt(this,Fn)),document.addEventListener("paste",Mt(this,Mn))},w3=function(){document.removeEventListener("copy",Mt(this,En)),document.removeEventListener("cut",Mt(this,Fn)),document.removeEventListener("paste",Mt(this,Mn))},xl=function(Bn){Object.entries(Bn).some(([Wn,cr])=>Mt(this,un)[Wn]!==cr)&&this._eventBus.dispatch("annotationeditorstateschanged",{source:this,details:Object.assign(Mt(this,un),Bn)})},lm=function(Bn){this._eventBus.dispatch("annotationeditorparamschanged",{source:this,details:Bn})},B8=function(){if(!Mt(this,tn)){$n(this,tn,!0);for(const Bn of Mt(this,nn).values())Bn.enable()}},U8=function(){if(this.unselectAll(),Mt(this,tn)){$n(this,tn,!1);for(const Bn of Mt(this,nn).values())Bn.disable()}},A3=function(Bn){const Hn=Mt(this,nn).get(Bn.pageIndex);Hn?Hn.addOrRebuild(Bn):this.addEditor(Bn)},cm=function(){if(Mt(this,gn).size===0)return!0;if(Mt(this,gn).size===1)for(const Bn of Mt(this,gn).values())return Bn.isEmpty();return!1},S3=function(Bn){Mt(this,sn).clear();for(const Hn of Bn)Hn.isEmpty()||(Mt(this,sn).add(Hn),Hn.select());On(this,Cn,xl).call(this,{hasSelectedEditor:!0})},Ur(lr,"TRANSLATE_SMALL",1),Ur(lr,"TRANSLATE_BIG",10);let _e=lr;$.AnnotationEditorUIManager=_e},(xt,$,ht)=>{var hn,Ut,Ot,zt,an,Ht,Wt,tn,ln,on,cn,sn,H1,z1,E3,k2,T2,um,hm;Object.defineProperty($,"__esModule",{value:!0}),$.StatTimer=$.RenderingCancelledException=$.PixelsPerInch=$.PageViewport=$.PDFDateString=$.DOMStandardFontDataFactory=$.DOMSVGFactory=$.DOMFilterFactory=$.DOMCanvasFactory=$.DOMCMapReaderFactory=void 0,$.deprecated=Bt,$.getColorValues=gn,$.getCurrentTransform=nn,$.getCurrentTransformInverse=bn,$.getFilenameFromUrl=Nt,$.getPdfFilenameFromUrl=$t,$.getRGB=Qt,$.getXfaPageViewport=dn,$.isDataScheme=Xt,$.isPdfFile=Kt,$.isValidFetchUrl=jt,$.loadScript=qt,$.noContextMenu=Ct,$.setLayerDimensions=Vt;var vt=ht(7),At=ht(1);const St="http://www.w3.org/2000/svg",Yt=class Yt{};Ur(Yt,"CSS",96),Ur(Yt,"PDF",72),Ur(Yt,"PDF_TO_CSS_UNITS",Yt.CSS/Yt.PDF);let kt=Yt;$.PixelsPerInch=kt;class Et extends vt.BaseFilterFactory{constructor({docId:fn,ownerDocument:Jt=globalThis.document}={}){super();Nn(this,sn);Nn(this,hn);Nn(this,Ut);Nn(this,Ot);Nn(this,zt);Nn(this,an);Nn(this,Ht);Nn(this,Wt);Nn(this,tn);Nn(this,ln);Nn(this,on);Nn(this,cn,0);$n(this,Ot,fn),$n(this,zt,Jt)}addFilter(fn){if(!fn)return"none";let Jt=Mt(this,sn,H1).get(fn);if(Jt)return Jt;let un,pn,wn,kn;if(fn.length===1){const _n=fn[0],In=new Array(256);for(let Pn=0;Pn<256;Pn++)In[Pn]=_n[Pn]/255;kn=un=pn=wn=In.join(",")}else{const[_n,In,Pn]=fn,Dn=new Array(256),Ln=new Array(256),Un=new Array(256);for(let tr=0;tr<256;tr++)Dn[tr]=_n[tr]/255,Ln[tr]=In[tr]/255,Un[tr]=Pn[tr]/255;un=Dn.join(","),pn=Ln.join(","),wn=Un.join(","),kn=`${un}${pn}${wn}`}if(Jt=Mt(this,sn,H1).get(kn),Jt)return Mt(this,sn,H1).set(fn,Jt),Jt;const Rn=`g_${Mt(this,Ot)}_transfer_map_${So(this,cn)._++}`,Cn=`url(#${Rn})`;Mt(this,sn,H1).set(fn,Cn),Mt(this,sn,H1).set(kn,Cn);const An=On(this,sn,k2).call(this,Rn);return On(this,sn,um).call(this,un,pn,wn,An),Cn}addHCMFilter(fn,Jt){var In;const un=`${fn}-${Jt}`;if(Mt(this,Ht)===un)return Mt(this,Wt);if($n(this,Ht,un),$n(this,Wt,"none"),(In=Mt(this,an))==null||In.remove(),!fn||!Jt)return Mt(this,Wt);const pn=On(this,sn,hm).call(this,fn);fn=At.Util.makeHexColor(...pn);const wn=On(this,sn,hm).call(this,Jt);if(Jt=At.Util.makeHexColor(...wn),Mt(this,sn,z1).style.color="",fn==="#000000"&&Jt==="#ffffff"||fn===Jt)return Mt(this,Wt);const kn=new Array(256);for(let Pn=0;Pn<=255;Pn++){const Dn=Pn/255;kn[Pn]=Dn<=.03928?Dn/12.92:((Dn+.055)/1.055)**2.4}const Rn=kn.join(","),Cn=`g_${Mt(this,Ot)}_hcm_filter`,An=$n(this,tn,On(this,sn,k2).call(this,Cn));On(this,sn,um).call(this,Rn,Rn,Rn,An),On(this,sn,E3).call(this,An);const _n=(Pn,Dn)=>{const Ln=pn[Pn]/255,Un=wn[Pn]/255,tr=new Array(Dn+1);for(let er=0;er<=Dn;er++)tr[er]=Ln+er/Dn*(Un-Ln);return tr.join(",")};return On(this,sn,um).call(this,_n(0,5),_n(1,5),_n(2,5),An),$n(this,Wt,`url(#${Cn})`),Mt(this,Wt)}addHighlightHCMFilter(fn,Jt,un,pn){var Un;const wn=`${fn}-${Jt}-${un}-${pn}`;if(Mt(this,ln)===wn)return Mt(this,on);if($n(this,ln,wn),$n(this,on,"none"),(Un=Mt(this,tn))==null||Un.remove(),!fn||!Jt)return Mt(this,on);const[kn,Rn]=[fn,Jt].map(On(this,sn,hm).bind(this));let Cn=Math.round(.2126*kn[0]+.7152*kn[1]+.0722*kn[2]),An=Math.round(.2126*Rn[0]+.7152*Rn[1]+.0722*Rn[2]),[_n,In]=[un,pn].map(On(this,sn,hm).bind(this));An<Cn&&([Cn,An,_n,In]=[An,Cn,In,_n]),Mt(this,sn,z1).style.color="";const Pn=(tr,er,Qn)=>{const Yn=new Array(256),Xn=(An-Cn)/Qn,nr=tr/255,lr=(er-tr)/(255*Qn);let dr=0;for(let Bn=0;Bn<=Qn;Bn++){const Hn=Math.round(Cn+Bn*Xn),Wn=nr+Bn*lr;for(let cr=dr;cr<=Hn;cr++)Yn[cr]=Wn;dr=Hn+1}for(let Bn=dr;Bn<256;Bn++)Yn[Bn]=Yn[dr-1];return Yn.join(",")},Dn=`g_${Mt(this,Ot)}_hcm_highlight_filter`,Ln=$n(this,tn,On(this,sn,k2).call(this,Dn));return On(this,sn,E3).call(this,Ln),On(this,sn,um).call(this,Pn(_n[0],In[0],5),Pn(_n[1],In[1],5),Pn(_n[2],In[2],5),Ln),$n(this,on,`url(#${Dn})`),Mt(this,on)}destroy(fn=!1){fn&&(Mt(this,Wt)||Mt(this,on))||(Mt(this,Ut)&&(Mt(this,Ut).parentNode.parentNode.remove(),$n(this,Ut,null)),Mt(this,hn)&&(Mt(this,hn).clear(),$n(this,hn,null)),$n(this,cn,0))}}hn=new WeakMap,Ut=new WeakMap,Ot=new WeakMap,zt=new WeakMap,an=new WeakMap,Ht=new WeakMap,Wt=new WeakMap,tn=new WeakMap,ln=new WeakMap,on=new WeakMap,cn=new WeakMap,sn=new WeakSet,H1=function(){return Mt(this,hn)||$n(this,hn,new Map)},z1=function(){if(!Mt(this,Ut)){const fn=Mt(this,zt).createElement("div"),{style:Jt}=fn;Jt.visibility="hidden",Jt.contain="strict",Jt.width=Jt.height=0,Jt.position="absolute",Jt.top=Jt.left=0,Jt.zIndex=-1;const un=Mt(this,zt).createElementNS(St,"svg");un.setAttribute("width",0),un.setAttribute("height",0),$n(this,Ut,Mt(this,zt).createElementNS(St,"defs")),fn.append(un),un.append(Mt(this,Ut)),Mt(this,zt).body.append(fn)}return Mt(this,Ut)},E3=function(fn){const Jt=Mt(this,zt).createElementNS(St,"feColorMatrix");Jt.setAttribute("type","matrix"),Jt.setAttribute("values","0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0 0 0 1 0"),fn.append(Jt)},k2=function(fn){const Jt=Mt(this,zt).createElementNS(St,"filter");return Jt.setAttribute("color-interpolation-filters","sRGB"),Jt.setAttribute("id",fn),Mt(this,sn,z1).append(Jt),Jt},T2=function(fn,Jt,un){const pn=Mt(this,zt).createElementNS(St,Jt);pn.setAttribute("type","discrete"),pn.setAttribute("tableValues",un),fn.append(pn)},um=function(fn,Jt,un,pn){const wn=Mt(this,zt).createElementNS(St,"feComponentTransfer");pn.append(wn),On(this,sn,T2).call(this,wn,"feFuncR",fn),On(this,sn,T2).call(this,wn,"feFuncG",Jt),On(this,sn,T2).call(this,wn,"feFuncB",un)},hm=function(fn){return Mt(this,sn,z1).style.color=fn,Qt(getComputedStyle(Mt(this,sn,z1)).getPropertyValue("color"))},$.DOMFilterFactory=Et;class Rt extends vt.BaseCanvasFactory{constructor({ownerDocument:mn=globalThis.document}={}){super(),this._document=mn}_createCanvas(mn,fn){const Jt=this._document.createElement("canvas");return Jt.width=mn,Jt.height=fn,Jt}}$.DOMCanvasFactory=Rt;async function wt(Sn,mn=!1){if(jt(Sn,document.baseURI)){const fn=await fetch(Sn);if(!fn.ok)throw new Error(fn.statusText);return mn?new Uint8Array(await fn.arrayBuffer()):(0,At.stringToBytes)(await fn.text())}return new Promise((fn,Jt)=>{const un=new XMLHttpRequest;un.open("GET",Sn,!0),mn&&(un.responseType="arraybuffer"),un.onreadystatechange=()=>{if(un.readyState===XMLHttpRequest.DONE){if(un.status===200||un.status===0){let pn;if(mn&&un.response?pn=new Uint8Array(un.response):!mn&&un.responseText&&(pn=(0,At.stringToBytes)(un.responseText)),pn){fn(pn);return}}Jt(new Error(un.statusText))}},un.send(null)})}class _t extends vt.BaseCMapReaderFactory{_fetchData(mn,fn){return wt(mn,this.isCompressed).then(Jt=>({cMapData:Jt,compressionType:fn}))}}$.DOMCMapReaderFactory=_t;class Pt extends vt.BaseStandardFontDataFactory{_fetchData(mn){return wt(mn,!0)}}$.DOMStandardFontDataFactory=Pt;class _e extends vt.BaseSVGFactory{_createSVG(mn){return document.createElementNS(St,mn)}}$.DOMSVGFactory=_e;class bt{constructor({viewBox:mn,scale:fn,rotation:Jt,offsetX:un=0,offsetY:pn=0,dontFlip:wn=!1}){this.viewBox=mn,this.scale=fn,this.rotation=Jt,this.offsetX=un,this.offsetY=pn;const kn=(mn[2]+mn[0])/2,Rn=(mn[3]+mn[1])/2;let Cn,An,_n,In;switch(Jt%=360,Jt<0&&(Jt+=360),Jt){case 180:Cn=-1,An=0,_n=0,In=1;break;case 90:Cn=0,An=1,_n=1,In=0;break;case 270:Cn=0,An=-1,_n=-1,In=0;break;case 0:Cn=1,An=0,_n=0,In=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}wn&&(_n=-_n,In=-In);let Pn,Dn,Ln,Un;Cn===0?(Pn=Math.abs(Rn-mn[1])*fn+un,Dn=Math.abs(kn-mn[0])*fn+pn,Ln=(mn[3]-mn[1])*fn,Un=(mn[2]-mn[0])*fn):(Pn=Math.abs(kn-mn[0])*fn+un,Dn=Math.abs(Rn-mn[1])*fn+pn,Ln=(mn[2]-mn[0])*fn,Un=(mn[3]-mn[1])*fn),this.transform=[Cn*fn,An*fn,_n*fn,In*fn,Pn-Cn*fn*kn-_n*fn*Rn,Dn-An*fn*kn-In*fn*Rn],this.width=Ln,this.height=Un}get rawDims(){const{viewBox:mn}=this;return(0,At.shadow)(this,"rawDims",{pageWidth:mn[2]-mn[0],pageHeight:mn[3]-mn[1],pageX:mn[0],pageY:mn[1]})}clone({scale:mn=this.scale,rotation:fn=this.rotation,offsetX:Jt=this.offsetX,offsetY:un=this.offsetY,dontFlip:pn=!1}={}){return new bt({viewBox:this.viewBox.slice(),scale:mn,rotation:fn,offsetX:Jt,offsetY:un,dontFlip:pn})}convertToViewportPoint(mn,fn){return At.Util.applyTransform([mn,fn],this.transform)}convertToViewportRectangle(mn){const fn=At.Util.applyTransform([mn[0],mn[1]],this.transform),Jt=At.Util.applyTransform([mn[2],mn[3]],this.transform);return[fn[0],fn[1],Jt[0],Jt[1]]}convertToPdfPoint(mn,fn){return At.Util.applyInverseTransform([mn,fn],this.transform)}}$.PageViewport=bt;class Ft extends At.BaseException{constructor(mn,fn=0){super(mn,"RenderingCancelledException"),this.extraDelay=fn}}$.RenderingCancelledException=Ft;function Xt(Sn){const mn=Sn.length;let fn=0;for(;fn<mn&&Sn[fn].trim()==="";)fn++;return Sn.substring(fn,fn+5).toLowerCase()==="data:"}function Kt(Sn){return typeof Sn=="string"&&/\.pdf$/i.test(Sn)}function Nt(Sn,mn=!1){return mn||([Sn]=Sn.split(/[#?]/,1)),Sn.substring(Sn.lastIndexOf("/")+1)}function $t(Sn,mn="document.pdf"){if(typeof Sn!="string")return mn;if(Xt(Sn))return(0,At.warn)('getPdfFilenameFromUrl: ignore "data:"-URL for performance reasons.'),mn;const fn=/^(?:(?:[^:]+:)?\/\/[^/]+)?([^?#]*)(\?[^#]*)?(#.*)?$/,Jt=/[^/?#=]+\.pdf\b(?!.*\.pdf\b)/i,un=fn.exec(Sn);let pn=Jt.exec(un[1])||Jt.exec(un[2])||Jt.exec(un[3]);if(pn&&(pn=pn[0],pn.includes("%")))try{pn=Jt.exec(decodeURIComponent(pn))[0]}catch{}return pn||mn}class Dt{constructor(){Ur(this,"started",Object.create(null));Ur(this,"times",[])}time(mn){mn in this.started&&(0,At.warn)(`Timer is already running for ${mn}`),this.started[mn]=Date.now()}timeEnd(mn){mn in this.started||(0,At.warn)(`Timer has not been started for ${mn}`),this.times.push({name:mn,start:this.started[mn],end:Date.now()}),delete this.started[mn]}toString(){const mn=[];let fn=0;for(const{name:Jt}of this.times)fn=Math.max(Jt.length,fn);for(const{name:Jt,start:un,end:pn}of this.times)mn.push(`${Jt.padEnd(fn)} ${pn-un}ms
`);return mn.join("")}}$.StatTimer=Dt;function jt(Sn,mn){try{const{protocol:fn}=mn?new URL(Sn,mn):new URL(Sn);return fn==="http:"||fn==="https:"}catch{return!1}}function Ct(Sn){Sn.preventDefault()}function qt(Sn,mn=!1){return new Promise((fn,Jt)=>{const un=document.createElement("script");un.src=Sn,un.onload=function(pn){mn&&un.remove(),fn(pn)},un.onerror=function(){Jt(new Error(`Cannot load script at: ${un.src}`))},(document.head||document.documentElement).append(un)})}function Bt(Sn){console.log("Deprecated API usage: "+Sn)}let Gt;class en{static toDateObject(mn){if(!mn||typeof mn!="string")return null;Gt||(Gt=new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?"));const fn=Gt.exec(mn);if(!fn)return null;const Jt=parseInt(fn[1],10);let un=parseInt(fn[2],10);un=un>=1&&un<=12?un-1:0;let pn=parseInt(fn[3],10);pn=pn>=1&&pn<=31?pn:1;let wn=parseInt(fn[4],10);wn=wn>=0&&wn<=23?wn:0;let kn=parseInt(fn[5],10);kn=kn>=0&&kn<=59?kn:0;let Rn=parseInt(fn[6],10);Rn=Rn>=0&&Rn<=59?Rn:0;const Cn=fn[7]||"Z";let An=parseInt(fn[8],10);An=An>=0&&An<=23?An:0;let _n=parseInt(fn[9],10)||0;return _n=_n>=0&&_n<=59?_n:0,Cn==="-"?(wn+=An,kn+=_n):Cn==="+"&&(wn-=An,kn-=_n),new Date(Date.UTC(Jt,un,pn,wn,kn,Rn))}}$.PDFDateString=en;function dn(Sn,{scale:mn=1,rotation:fn=0}){const{width:Jt,height:un}=Sn.attributes.style,pn=[0,0,parseInt(Jt),parseInt(un)];return new bt({viewBox:pn,scale:mn,rotation:fn})}function Qt(Sn){if(Sn.startsWith("#")){const mn=parseInt(Sn.slice(1),16);return[(mn&16711680)>>16,(mn&65280)>>8,mn&255]}return Sn.startsWith("rgb(")?Sn.slice(4,-1).split(",").map(mn=>parseInt(mn)):Sn.startsWith("rgba(")?Sn.slice(5,-1).split(",").map(mn=>parseInt(mn)).slice(0,3):((0,At.warn)(`Not a valid color format: "${Sn}"`),[0,0,0])}function gn(Sn){const mn=document.createElement("span");mn.style.visibility="hidden",document.body.append(mn);for(const fn of Sn.keys()){mn.style.color=fn;const Jt=window.getComputedStyle(mn).color;Sn.set(fn,Qt(Jt))}mn.remove()}function nn(Sn){const{a:mn,b:fn,c:Jt,d:un,e:pn,f:wn}=Sn.getTransform();return[mn,fn,Jt,un,pn,wn]}function bn(Sn){const{a:mn,b:fn,c:Jt,d:un,e:pn,f:wn}=Sn.getTransform().invertSelf();return[mn,fn,Jt,un,pn,wn]}function Vt(Sn,mn,fn=!1,Jt=!0){if(mn instanceof bt){const{pageWidth:un,pageHeight:pn}=mn.rawDims,{style:wn}=Sn,kn=At.FeatureTest.isCSSRoundSupported,Rn=`var(--scale-factor) * ${un}px`,Cn=`var(--scale-factor) * ${pn}px`,An=kn?`round(${Rn}, 1px)`:`calc(${Rn})`,_n=kn?`round(${Cn}, 1px)`:`calc(${Cn})`;!fn||mn.rotation%180===0?(wn.width=An,wn.height=_n):(wn.width=_n,wn.height=An)}Jt&&Sn.setAttribute("data-main-rotation",mn.rotation)}},(xt,$,ht)=>{Object.defineProperty($,"__esModule",{value:!0}),$.BaseStandardFontDataFactory=$.BaseSVGFactory=$.BaseFilterFactory=$.BaseCanvasFactory=$.BaseCMapReaderFactory=void 0;var vt=ht(1);class At{constructor(){this.constructor===At&&(0,vt.unreachable)("Cannot initialize BaseFilterFactory.")}addFilter(_t){return"none"}addHCMFilter(_t,Pt){return"none"}addHighlightHCMFilter(_t,Pt,_e,bt){return"none"}destroy(_t=!1){}}$.BaseFilterFactory=At;class St{constructor(){this.constructor===St&&(0,vt.unreachable)("Cannot initialize BaseCanvasFactory.")}create(_t,Pt){if(_t<=0||Pt<=0)throw new Error("Invalid canvas size");const _e=this._createCanvas(_t,Pt);return{canvas:_e,context:_e.getContext("2d")}}reset(_t,Pt,_e){if(!_t.canvas)throw new Error("Canvas is not specified");if(Pt<=0||_e<=0)throw new Error("Invalid canvas size");_t.canvas.width=Pt,_t.canvas.height=_e}destroy(_t){if(!_t.canvas)throw new Error("Canvas is not specified");_t.canvas.width=0,_t.canvas.height=0,_t.canvas=null,_t.context=null}_createCanvas(_t,Pt){(0,vt.unreachable)("Abstract method `_createCanvas` called.")}}$.BaseCanvasFactory=St;class kt{constructor({baseUrl:_t=null,isCompressed:Pt=!0}){this.constructor===kt&&(0,vt.unreachable)("Cannot initialize BaseCMapReaderFactory."),this.baseUrl=_t,this.isCompressed=Pt}async fetch({name:_t}){if(!this.baseUrl)throw new Error('The CMap "baseUrl" parameter must be specified, ensure that the "cMapUrl" and "cMapPacked" API parameters are provided.');if(!_t)throw new Error("CMap name must be specified.");const Pt=this.baseUrl+_t+(this.isCompressed?".bcmap":""),_e=this.isCompressed?vt.CMapCompressionType.BINARY:vt.CMapCompressionType.NONE;return this._fetchData(Pt,_e).catch(bt=>{throw new Error(`Unable to load ${this.isCompressed?"binary ":""}CMap at: ${Pt}`)})}_fetchData(_t,Pt){(0,vt.unreachable)("Abstract method `_fetchData` called.")}}$.BaseCMapReaderFactory=kt;class Et{constructor({baseUrl:_t=null}){this.constructor===Et&&(0,vt.unreachable)("Cannot initialize BaseStandardFontDataFactory."),this.baseUrl=_t}async fetch({filename:_t}){if(!this.baseUrl)throw new Error('The standard font "baseUrl" parameter must be specified, ensure that the "standardFontDataUrl" API parameter is provided.');if(!_t)throw new Error("Font filename must be specified.");const Pt=`${this.baseUrl}${_t}`;return this._fetchData(Pt).catch(_e=>{throw new Error(`Unable to load font data at: ${Pt}`)})}_fetchData(_t){(0,vt.unreachable)("Abstract method `_fetchData` called.")}}$.BaseStandardFontDataFactory=Et;class Rt{constructor(){this.constructor===Rt&&(0,vt.unreachable)("Cannot initialize BaseSVGFactory.")}create(_t,Pt,_e=!1){if(_t<=0||Pt<=0)throw new Error("Invalid SVG dimensions");const bt=this._createSVG("svg:svg");return bt.setAttribute("version","1.1"),_e||(bt.setAttribute("width",`${_t}px`),bt.setAttribute("height",`${Pt}px`)),bt.setAttribute("preserveAspectRatio","none"),bt.setAttribute("viewBox",`0 0 ${_t} ${Pt}`),bt}createElement(_t){if(typeof _t!="string")throw new Error("Invalid SVG element type");return this._createSVG(_t)}_createSVG(_t){(0,vt.unreachable)("Abstract method `_createSVG` called.")}}$.BaseSVGFactory=Rt},(xt,$,ht)=>{Object.defineProperty($,"__esModule",{value:!0}),$.MurmurHash3_64=void 0;var vt=ht(1);const At=3285377520,St=4294901760,kt=65535;class Et{constructor(wt){this.h1=wt?wt&4294967295:At,this.h2=wt?wt&4294967295:At}update(wt){let _t,Pt;if(typeof wt=="string"){_t=new Uint8Array(wt.length*2),Pt=0;for(let Bt=0,Gt=wt.length;Bt<Gt;Bt++){const en=wt.charCodeAt(Bt);en<=255?_t[Pt++]=en:(_t[Pt++]=en>>>8,_t[Pt++]=en&255)}}else if((0,vt.isArrayBuffer)(wt))_t=wt.slice(),Pt=_t.byteLength;else throw new Error("Wrong data format in MurmurHash3_64_update. Input must be a string or array.");const _e=Pt>>2,bt=Pt-_e*4,Ft=new Uint32Array(_t.buffer,0,_e);let Xt=0,Kt=0,Nt=this.h1,$t=this.h2;const Dt=3432918353,jt=461845907,Ct=Dt&kt,qt=jt&kt;for(let Bt=0;Bt<_e;Bt++)Bt&1?(Xt=Ft[Bt],Xt=Xt*Dt&St|Xt*Ct&kt,Xt=Xt<<15|Xt>>>17,Xt=Xt*jt&St|Xt*qt&kt,Nt^=Xt,Nt=Nt<<13|Nt>>>19,Nt=Nt*5+3864292196):(Kt=Ft[Bt],Kt=Kt*Dt&St|Kt*Ct&kt,Kt=Kt<<15|Kt>>>17,Kt=Kt*jt&St|Kt*qt&kt,$t^=Kt,$t=$t<<13|$t>>>19,$t=$t*5+3864292196);switch(Xt=0,bt){case 3:Xt^=_t[_e*4+2]<<16;case 2:Xt^=_t[_e*4+1]<<8;case 1:Xt^=_t[_e*4],Xt=Xt*Dt&St|Xt*Ct&kt,Xt=Xt<<15|Xt>>>17,Xt=Xt*jt&St|Xt*qt&kt,_e&1?Nt^=Xt:$t^=Xt}this.h1=Nt,this.h2=$t}hexdigest(){let wt=this.h1,_t=this.h2;return wt^=_t>>>1,wt=wt*3981806797&St|wt*36045&kt,_t=_t*4283543511&St|((_t<<16|wt>>>16)*2950163797&St)>>>16,wt^=_t>>>1,wt=wt*444984403&St|wt*60499&kt,_t=_t*3301882366&St|((_t<<16|wt>>>16)*3120437893&St)>>>16,wt^=_t>>>1,(wt>>>0).toString(16).padStart(8,"0")+(_t>>>0).toString(16).padStart(8,"0")}}$.MurmurHash3_64=Et},(xt,$,ht)=>{var kt;Object.defineProperty($,"__esModule",{value:!0}),$.FontLoader=$.FontFaceObject=void 0;var vt=ht(1);class At{constructor({ownerDocument:Rt=globalThis.document,styleElement:wt=null}){Nn(this,kt,new Set);this._document=Rt,this.nativeFontFaces=new Set,this.styleElement=null,this.loadingRequests=[],this.loadTestFontId=0}addNativeFontFace(Rt){this.nativeFontFaces.add(Rt),this._document.fonts.add(Rt)}removeNativeFontFace(Rt){this.nativeFontFaces.delete(Rt),this._document.fonts.delete(Rt)}insertRule(Rt){this.styleElement||(this.styleElement=this._document.createElement("style"),this._document.documentElement.getElementsByTagName("head")[0].append(this.styleElement));const wt=this.styleElement.sheet;wt.insertRule(Rt,wt.cssRules.length)}clear(){for(const Rt of this.nativeFontFaces)this._document.fonts.delete(Rt);this.nativeFontFaces.clear(),Mt(this,kt).clear(),this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}async loadSystemFont(Rt){if(!(!Rt||Mt(this,kt).has(Rt.loadedName))){if((0,vt.assert)(!this.disableFontFace,"loadSystemFont shouldn't be called when `disableFontFace` is set."),this.isFontLoadingAPISupported){const{loadedName:wt,src:_t,style:Pt}=Rt,_e=new FontFace(wt,_t,Pt);this.addNativeFontFace(_e);try{await _e.load(),Mt(this,kt).add(wt)}catch{(0,vt.warn)(`Cannot load system font: ${Rt.baseFontName}, installing it could help to improve PDF rendering.`),this.removeNativeFontFace(_e)}return}(0,vt.unreachable)("Not implemented: loadSystemFont without the Font Loading API.")}}async bind(Rt){if(Rt.attached||Rt.missingFile&&!Rt.systemFontInfo)return;if(Rt.attached=!0,Rt.systemFontInfo){await this.loadSystemFont(Rt.systemFontInfo);return}if(this.isFontLoadingAPISupported){const _t=Rt.createNativeFontFace();if(_t){this.addNativeFontFace(_t);try{await _t.loaded}catch(Pt){throw(0,vt.warn)(`Failed to load font '${_t.family}': '${Pt}'.`),Rt.disableFontFace=!0,Pt}}return}const wt=Rt.createFontFaceRule();if(wt){if(this.insertRule(wt),this.isSyncFontLoadingSupported)return;await new Promise(_t=>{const Pt=this._queueLoadingCallback(_t);this._prepareFontLoadEvent(Rt,Pt)})}}get isFontLoadingAPISupported(){var wt;const Rt=!!((wt=this._document)!=null&&wt.fonts);return(0,vt.shadow)(this,"isFontLoadingAPISupported",Rt)}get isSyncFontLoadingSupported(){let Rt=!1;return(vt.isNodeJS||typeof navigator<"u"&&/Mozilla\/5.0.*?rv:\d+.*? Gecko/.test(navigator.userAgent))&&(Rt=!0),(0,vt.shadow)(this,"isSyncFontLoadingSupported",Rt)}_queueLoadingCallback(Rt){function wt(){for((0,vt.assert)(!Pt.done,"completeRequest() cannot be called twice."),Pt.done=!0;_t.length>0&&_t[0].done;){const _e=_t.shift();setTimeout(_e.callback,0)}}const{loadingRequests:_t}=this,Pt={done:!1,complete:wt,callback:Rt};return _t.push(Pt),Pt}get _loadTestFont(){const Rt=atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA==");return(0,vt.shadow)(this,"_loadTestFont",Rt)}_prepareFontLoadEvent(Rt,wt){function _t(Qt,gn){return Qt.charCodeAt(gn)<<24|Qt.charCodeAt(gn+1)<<16|Qt.charCodeAt(gn+2)<<8|Qt.charCodeAt(gn+3)&255}function Pt(Qt,gn,nn,bn){const Vt=Qt.substring(0,gn),Yt=Qt.substring(gn+nn);return Vt+bn+Yt}let _e,bt;const Ft=this._document.createElement("canvas");Ft.width=1,Ft.height=1;const Xt=Ft.getContext("2d");let Kt=0;function Nt(Qt,gn){if(++Kt>30){(0,vt.warn)("Load test font never loaded."),gn();return}if(Xt.font="30px "+Qt,Xt.fillText(".",0,20),Xt.getImageData(0,0,1,1).data[3]>0){gn();return}setTimeout(Nt.bind(null,Qt,gn))}const $t=`lt${Date.now()}${this.loadTestFontId++}`;let Dt=this._loadTestFont;Dt=Pt(Dt,976,$t.length,$t);const Ct=16,qt=1482184792;let Bt=_t(Dt,Ct);for(_e=0,bt=$t.length-3;_e<bt;_e+=4)Bt=Bt-qt+_t($t,_e)|0;_e<$t.length&&(Bt=Bt-qt+_t($t+"XXX",_e)|0),Dt=Pt(Dt,Ct,4,(0,vt.string32)(Bt));const Gt=`url(data:font/opentype;base64,${btoa(Dt)});`,en=`@font-face {font-family:"${$t}";src:${Gt}}`;this.insertRule(en);const dn=this._document.createElement("div");dn.style.visibility="hidden",dn.style.width=dn.style.height="10px",dn.style.position="absolute",dn.style.top=dn.style.left="0px";for(const Qt of[Rt.loadedName,$t]){const gn=this._document.createElement("span");gn.textContent="Hi",gn.style.fontFamily=Qt,dn.append(gn)}this._document.body.append(dn),Nt($t,()=>{dn.remove(),wt.complete()})}}kt=new WeakMap,$.FontLoader=At;class St{constructor(Rt,{isEvalSupported:wt=!0,disableFontFace:_t=!1,ignoreErrors:Pt=!1,inspectFont:_e=null}){this.compiledGlyphs=Object.create(null);for(const bt in Rt)this[bt]=Rt[bt];this.isEvalSupported=wt!==!1,this.disableFontFace=_t===!0,this.ignoreErrors=Pt===!0,this._inspectFont=_e}createNativeFontFace(){var wt;if(!this.data||this.disableFontFace)return null;let Rt;if(!this.cssFontInfo)Rt=new FontFace(this.loadedName,this.data,{});else{const _t={weight:this.cssFontInfo.fontWeight};this.cssFontInfo.italicAngle&&(_t.style=`oblique ${this.cssFontInfo.italicAngle}deg`),Rt=new FontFace(this.cssFontInfo.fontFamily,this.data,_t)}return(wt=this._inspectFont)==null||wt.call(this,this),Rt}createFontFaceRule(){var Pt;if(!this.data||this.disableFontFace)return null;const Rt=(0,vt.bytesToString)(this.data),wt=`url(data:${this.mimetype};base64,${btoa(Rt)});`;let _t;if(!this.cssFontInfo)_t=`@font-face {font-family:"${this.loadedName}";src:${wt}}`;else{let _e=`font-weight: ${this.cssFontInfo.fontWeight};`;this.cssFontInfo.italicAngle&&(_e+=`font-style: oblique ${this.cssFontInfo.italicAngle}deg;`),_t=`@font-face {font-family:"${this.cssFontInfo.fontFamily}";${_e}src:${wt}}`}return(Pt=this._inspectFont)==null||Pt.call(this,this,wt),_t}getPathGenerator(Rt,wt){if(this.compiledGlyphs[wt]!==void 0)return this.compiledGlyphs[wt];let _t;try{_t=Rt.get(this.loadedName+"_path_"+wt)}catch(Pt){if(!this.ignoreErrors)throw Pt;return(0,vt.warn)(`getPathGenerator - ignoring character: "${Pt}".`),this.compiledGlyphs[wt]=function(_e,bt){}}if(this.isEvalSupported&&vt.FeatureTest.isEvalSupported){const Pt=[];for(const _e of _t){const bt=_e.args!==void 0?_e.args.join(","):"";Pt.push("c.",_e.cmd,"(",bt,`);
`)}return this.compiledGlyphs[wt]=new Function("c","size",Pt.join(""))}return this.compiledGlyphs[wt]=function(Pt,_e){for(const bt of _t)bt.cmd==="scale"&&(bt.args=[_e,-_e]),Pt[bt.cmd].apply(Pt,bt.args)}}}$.FontFaceObject=St},(xt,$,ht)=>{Object.defineProperty($,"__esModule",{value:!0}),$.NodeStandardFontDataFactory=$.NodeFilterFactory=$.NodeCanvasFactory=$.NodeCMapReaderFactory=void 0;var vt=ht(7);ht(1);const At=function(wt){return new Promise((_t,Pt)=>{require$$5.readFile(wt,(bt,Ft)=>{if(bt||!Ft){Pt(new Error(bt));return}_t(new Uint8Array(Ft))})})};class St extends vt.BaseFilterFactory{}$.NodeFilterFactory=St;class kt extends vt.BaseCanvasFactory{_createCanvas(_t,Pt){return require$$5.createCanvas(_t,Pt)}}$.NodeCanvasFactory=kt;class Et extends vt.BaseCMapReaderFactory{_fetchData(_t,Pt){return At(_t).then(_e=>({cMapData:_e,compressionType:Pt}))}}$.NodeCMapReaderFactory=Et;class Rt extends vt.BaseStandardFontDataFactory{_fetchData(_t){return At(_t)}}$.NodeStandardFontDataFactory=Rt},(xt,$,ht)=>{var Ut,C3,k3;Object.defineProperty($,"__esModule",{value:!0}),$.CanvasGraphics=void 0;var vt=ht(1),At=ht(6),St=ht(12),kt=ht(13);const Et=16,Rt=100,wt=4096,_t=15,Pt=10,_e=1e3,bt=16;function Ft(Ht,Wt){if(Ht._removeMirroring)throw new Error("Context is already forwarding operations.");Ht.__originalSave=Ht.save,Ht.__originalRestore=Ht.restore,Ht.__originalRotate=Ht.rotate,Ht.__originalScale=Ht.scale,Ht.__originalTranslate=Ht.translate,Ht.__originalTransform=Ht.transform,Ht.__originalSetTransform=Ht.setTransform,Ht.__originalResetTransform=Ht.resetTransform,Ht.__originalClip=Ht.clip,Ht.__originalMoveTo=Ht.moveTo,Ht.__originalLineTo=Ht.lineTo,Ht.__originalBezierCurveTo=Ht.bezierCurveTo,Ht.__originalRect=Ht.rect,Ht.__originalClosePath=Ht.closePath,Ht.__originalBeginPath=Ht.beginPath,Ht._removeMirroring=()=>{Ht.save=Ht.__originalSave,Ht.restore=Ht.__originalRestore,Ht.rotate=Ht.__originalRotate,Ht.scale=Ht.__originalScale,Ht.translate=Ht.__originalTranslate,Ht.transform=Ht.__originalTransform,Ht.setTransform=Ht.__originalSetTransform,Ht.resetTransform=Ht.__originalResetTransform,Ht.clip=Ht.__originalClip,Ht.moveTo=Ht.__originalMoveTo,Ht.lineTo=Ht.__originalLineTo,Ht.bezierCurveTo=Ht.__originalBezierCurveTo,Ht.rect=Ht.__originalRect,Ht.closePath=Ht.__originalClosePath,Ht.beginPath=Ht.__originalBeginPath,delete Ht._removeMirroring},Ht.save=function(){Wt.save(),this.__originalSave()},Ht.restore=function(){Wt.restore(),this.__originalRestore()},Ht.translate=function(ln,on){Wt.translate(ln,on),this.__originalTranslate(ln,on)},Ht.scale=function(ln,on){Wt.scale(ln,on),this.__originalScale(ln,on)},Ht.transform=function(ln,on,cn,sn,rn,xn){Wt.transform(ln,on,cn,sn,rn,xn),this.__originalTransform(ln,on,cn,sn,rn,xn)},Ht.setTransform=function(ln,on,cn,sn,rn,xn){Wt.setTransform(ln,on,cn,sn,rn,xn),this.__originalSetTransform(ln,on,cn,sn,rn,xn)},Ht.resetTransform=function(){Wt.resetTransform(),this.__originalResetTransform()},Ht.rotate=function(ln){Wt.rotate(ln),this.__originalRotate(ln)},Ht.clip=function(ln){Wt.clip(ln),this.__originalClip(ln)},Ht.moveTo=function(tn,ln){Wt.moveTo(tn,ln),this.__originalMoveTo(tn,ln)},Ht.lineTo=function(tn,ln){Wt.lineTo(tn,ln),this.__originalLineTo(tn,ln)},Ht.bezierCurveTo=function(tn,ln,on,cn,sn,rn){Wt.bezierCurveTo(tn,ln,on,cn,sn,rn),this.__originalBezierCurveTo(tn,ln,on,cn,sn,rn)},Ht.rect=function(tn,ln,on,cn){Wt.rect(tn,ln,on,cn),this.__originalRect(tn,ln,on,cn)},Ht.closePath=function(){Wt.closePath(),this.__originalClosePath()},Ht.beginPath=function(){Wt.beginPath(),this.__originalBeginPath()}}class Xt{constructor(Wt){this.canvasFactory=Wt,this.cache=Object.create(null)}getCanvas(Wt,tn,ln){let on;return this.cache[Wt]!==void 0?(on=this.cache[Wt],this.canvasFactory.reset(on,tn,ln)):(on=this.canvasFactory.create(tn,ln),this.cache[Wt]=on),on}delete(Wt){delete this.cache[Wt]}clear(){for(const Wt in this.cache){const tn=this.cache[Wt];this.canvasFactory.destroy(tn),delete this.cache[Wt]}}}function Kt(Ht,Wt,tn,ln,on,cn,sn,rn,xn,vn){const[En,Fn,Mn,Tn,Sn,mn]=(0,At.getCurrentTransform)(Ht);if(Fn===0&&Mn===0){const un=sn*En+Sn,pn=Math.round(un),wn=rn*Tn+mn,kn=Math.round(wn),Rn=(sn+xn)*En+Sn,Cn=Math.abs(Math.round(Rn)-pn)||1,An=(rn+vn)*Tn+mn,_n=Math.abs(Math.round(An)-kn)||1;return Ht.setTransform(Math.sign(En),0,0,Math.sign(Tn),pn,kn),Ht.drawImage(Wt,tn,ln,on,cn,0,0,Cn,_n),Ht.setTransform(En,Fn,Mn,Tn,Sn,mn),[Cn,_n]}if(En===0&&Tn===0){const un=rn*Mn+Sn,pn=Math.round(un),wn=sn*Fn+mn,kn=Math.round(wn),Rn=(rn+vn)*Mn+Sn,Cn=Math.abs(Math.round(Rn)-pn)||1,An=(sn+xn)*Fn+mn,_n=Math.abs(Math.round(An)-kn)||1;return Ht.setTransform(0,Math.sign(Fn),Math.sign(Mn),0,pn,kn),Ht.drawImage(Wt,tn,ln,on,cn,0,0,_n,Cn),Ht.setTransform(En,Fn,Mn,Tn,Sn,mn),[_n,Cn]}Ht.drawImage(Wt,tn,ln,on,cn,sn,rn,xn,vn);const fn=Math.hypot(En,Fn),Jt=Math.hypot(Mn,Tn);return[fn*xn,Jt*vn]}function Nt(Ht){const{width:Wt,height:tn}=Ht;if(Wt>_e||tn>_e)return null;const ln=1e3,on=new Uint8Array([0,2,4,0,1,0,5,4,8,10,0,8,0,2,1,0]),cn=Wt+1;let sn=new Uint8Array(cn*(tn+1)),rn,xn,vn;const En=Wt+7&-8;let Fn=new Uint8Array(En*tn),Mn=0;for(const Jt of Ht.data){let un=128;for(;un>0;)Fn[Mn++]=Jt&un?0:255,un>>=1}let Tn=0;for(Mn=0,Fn[Mn]!==0&&(sn[0]=1,++Tn),xn=1;xn<Wt;xn++)Fn[Mn]!==Fn[Mn+1]&&(sn[xn]=Fn[Mn]?2:1,++Tn),Mn++;for(Fn[Mn]!==0&&(sn[xn]=2,++Tn),rn=1;rn<tn;rn++){Mn=rn*En,vn=rn*cn,Fn[Mn-En]!==Fn[Mn]&&(sn[vn]=Fn[Mn]?1:8,++Tn);let Jt=(Fn[Mn]?4:0)+(Fn[Mn-En]?8:0);for(xn=1;xn<Wt;xn++)Jt=(Jt>>2)+(Fn[Mn+1]?4:0)+(Fn[Mn-En+1]?8:0),on[Jt]&&(sn[vn+xn]=on[Jt],++Tn),Mn++;if(Fn[Mn-En]!==Fn[Mn]&&(sn[vn+xn]=Fn[Mn]?2:4,++Tn),Tn>ln)return null}for(Mn=En*(tn-1),vn=rn*cn,Fn[Mn]!==0&&(sn[vn]=8,++Tn),xn=1;xn<Wt;xn++)Fn[Mn]!==Fn[Mn+1]&&(sn[vn+xn]=Fn[Mn]?4:8,++Tn),Mn++;if(Fn[Mn]!==0&&(sn[vn+xn]=4,++Tn),Tn>ln)return null;const Sn=new Int32Array([0,cn,-1,0,-cn,0,0,0,1]),mn=new Path2D;for(rn=0;Tn&&rn<=tn;rn++){let Jt=rn*cn;const un=Jt+Wt;for(;Jt<un&&!sn[Jt];)Jt++;if(Jt===un)continue;mn.moveTo(Jt%cn,rn);const pn=Jt;let wn=sn[Jt];do{const kn=Sn[wn];do Jt+=kn;while(!sn[Jt]);const Rn=sn[Jt];Rn!==5&&Rn!==10?(wn=Rn,sn[Jt]=0):(wn=Rn&51*wn>>4,sn[Jt]&=wn>>2|wn<<2),mn.lineTo(Jt%cn,Jt/cn|0),sn[Jt]||--Tn}while(pn!==Jt);--rn}return Fn=null,sn=null,function(Jt){Jt.save(),Jt.scale(1/Wt,-1/tn),Jt.translate(0,-tn),Jt.fill(mn),Jt.beginPath(),Jt.restore()}}class $t{constructor(Wt,tn){this.alphaIsShape=!1,this.fontSize=0,this.fontSizeScale=1,this.textMatrix=vt.IDENTITY_MATRIX,this.textMatrixScale=1,this.fontMatrix=vt.FONT_IDENTITY_MATRIX,this.leading=0,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRenderingMode=vt.TextRenderingMode.FILL,this.textRise=0,this.fillColor="#000000",this.strokeColor="#000000",this.patternFill=!1,this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.activeSMask=null,this.transferMaps="none",this.startNewPathAndClipBox([0,0,Wt,tn])}clone(){const Wt=Object.create(this);return Wt.clipBox=this.clipBox.slice(),Wt}setCurrentPoint(Wt,tn){this.x=Wt,this.y=tn}updatePathMinMax(Wt,tn,ln){[tn,ln]=vt.Util.applyTransform([tn,ln],Wt),this.minX=Math.min(this.minX,tn),this.minY=Math.min(this.minY,ln),this.maxX=Math.max(this.maxX,tn),this.maxY=Math.max(this.maxY,ln)}updateRectMinMax(Wt,tn){const ln=vt.Util.applyTransform(tn,Wt),on=vt.Util.applyTransform(tn.slice(2),Wt);this.minX=Math.min(this.minX,ln[0],on[0]),this.minY=Math.min(this.minY,ln[1],on[1]),this.maxX=Math.max(this.maxX,ln[0],on[0]),this.maxY=Math.max(this.maxY,ln[1],on[1])}updateScalingPathMinMax(Wt,tn){vt.Util.scaleMinMax(Wt,tn),this.minX=Math.min(this.minX,tn[0]),this.maxX=Math.max(this.maxX,tn[1]),this.minY=Math.min(this.minY,tn[2]),this.maxY=Math.max(this.maxY,tn[3])}updateCurvePathMinMax(Wt,tn,ln,on,cn,sn,rn,xn,vn,En){const Fn=vt.Util.bezierBoundingBox(tn,ln,on,cn,sn,rn,xn,vn);if(En){En[0]=Math.min(En[0],Fn[0],Fn[2]),En[1]=Math.max(En[1],Fn[0],Fn[2]),En[2]=Math.min(En[2],Fn[1],Fn[3]),En[3]=Math.max(En[3],Fn[1],Fn[3]);return}this.updateRectMinMax(Wt,Fn)}getPathBoundingBox(Wt=St.PathType.FILL,tn=null){const ln=[this.minX,this.minY,this.maxX,this.maxY];if(Wt===St.PathType.STROKE){tn||(0,vt.unreachable)("Stroke bounding box must include transform.");const on=vt.Util.singularValueDecompose2dScale(tn),cn=on[0]*this.lineWidth/2,sn=on[1]*this.lineWidth/2;ln[0]-=cn,ln[1]-=sn,ln[2]+=cn,ln[3]+=sn}return ln}updateClipFromPath(){const Wt=vt.Util.intersect(this.clipBox,this.getPathBoundingBox());this.startNewPathAndClipBox(Wt||[0,0,0,0])}isEmptyClip(){return this.minX===1/0}startNewPathAndClipBox(Wt){this.clipBox=Wt,this.minX=1/0,this.minY=1/0,this.maxX=0,this.maxY=0}getClippedPathBoundingBox(Wt=St.PathType.FILL,tn=null){return vt.Util.intersect(this.clipBox,this.getPathBoundingBox(Wt,tn))}}function Dt(Ht,Wt){if(typeof ImageData<"u"&&Wt instanceof ImageData){Ht.putImageData(Wt,0,0);return}const tn=Wt.height,ln=Wt.width,on=tn%bt,cn=(tn-on)/bt,sn=on===0?cn:cn+1,rn=Ht.createImageData(ln,bt);let xn=0,vn;const En=Wt.data,Fn=rn.data;let Mn,Tn,Sn,mn;if(Wt.kind===vt.ImageKind.GRAYSCALE_1BPP){const fn=En.byteLength,Jt=new Uint32Array(Fn.buffer,0,Fn.byteLength>>2),un=Jt.length,pn=ln+7>>3,wn=4294967295,kn=vt.FeatureTest.isLittleEndian?4278190080:255;for(Mn=0;Mn<sn;Mn++){for(Sn=Mn<cn?bt:on,vn=0,Tn=0;Tn<Sn;Tn++){const Rn=fn-xn;let Cn=0;const An=Rn>pn?ln:Rn*8-7,_n=An&-8;let In=0,Pn=0;for(;Cn<_n;Cn+=8)Pn=En[xn++],Jt[vn++]=Pn&128?wn:kn,Jt[vn++]=Pn&64?wn:kn,Jt[vn++]=Pn&32?wn:kn,Jt[vn++]=Pn&16?wn:kn,Jt[vn++]=Pn&8?wn:kn,Jt[vn++]=Pn&4?wn:kn,Jt[vn++]=Pn&2?wn:kn,Jt[vn++]=Pn&1?wn:kn;for(;Cn<An;Cn++)In===0&&(Pn=En[xn++],In=128),Jt[vn++]=Pn&In?wn:kn,In>>=1}for(;vn<un;)Jt[vn++]=0;Ht.putImageData(rn,0,Mn*bt)}}else if(Wt.kind===vt.ImageKind.RGBA_32BPP){for(Tn=0,mn=ln*bt*4,Mn=0;Mn<cn;Mn++)Fn.set(En.subarray(xn,xn+mn)),xn+=mn,Ht.putImageData(rn,0,Tn),Tn+=bt;Mn<sn&&(mn=ln*on*4,Fn.set(En.subarray(xn,xn+mn)),Ht.putImageData(rn,0,Tn))}else if(Wt.kind===vt.ImageKind.RGB_24BPP)for(Sn=bt,mn=ln*Sn,Mn=0;Mn<sn;Mn++){for(Mn>=cn&&(Sn=on,mn=ln*Sn),vn=0,Tn=mn;Tn--;)Fn[vn++]=En[xn++],Fn[vn++]=En[xn++],Fn[vn++]=En[xn++],Fn[vn++]=255;Ht.putImageData(rn,0,Mn*bt)}else throw new Error(`bad image kind: ${Wt.kind}`)}function jt(Ht,Wt){if(Wt.bitmap){Ht.drawImage(Wt.bitmap,0,0);return}const tn=Wt.height,ln=Wt.width,on=tn%bt,cn=(tn-on)/bt,sn=on===0?cn:cn+1,rn=Ht.createImageData(ln,bt);let xn=0;const vn=Wt.data,En=rn.data;for(let Fn=0;Fn<sn;Fn++){const Mn=Fn<cn?bt:on;({srcPos:xn}=(0,kt.convertBlackAndWhiteToRGBA)({src:vn,srcPos:xn,dest:En,width:ln,height:Mn,nonBlackColor:0})),Ht.putImageData(rn,0,Fn*bt)}}function Ct(Ht,Wt){const tn=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font","filter"];for(const ln of tn)Ht[ln]!==void 0&&(Wt[ln]=Ht[ln]);Ht.setLineDash!==void 0&&(Wt.setLineDash(Ht.getLineDash()),Wt.lineDashOffset=Ht.lineDashOffset)}function qt(Ht){if(Ht.strokeStyle=Ht.fillStyle="#000000",Ht.fillRule="nonzero",Ht.globalAlpha=1,Ht.lineWidth=1,Ht.lineCap="butt",Ht.lineJoin="miter",Ht.miterLimit=10,Ht.globalCompositeOperation="source-over",Ht.font="10px sans-serif",Ht.setLineDash!==void 0&&(Ht.setLineDash([]),Ht.lineDashOffset=0),!vt.isNodeJS){const{filter:Wt}=Ht;Wt!=="none"&&Wt!==""&&(Ht.filter="none")}}function Bt(Ht,Wt,tn,ln){const on=Ht.length;for(let cn=3;cn<on;cn+=4){const sn=Ht[cn];if(sn===0)Ht[cn-3]=Wt,Ht[cn-2]=tn,Ht[cn-1]=ln;else if(sn<255){const rn=255-sn;Ht[cn-3]=Ht[cn-3]*sn+Wt*rn>>8,Ht[cn-2]=Ht[cn-2]*sn+tn*rn>>8,Ht[cn-1]=Ht[cn-1]*sn+ln*rn>>8}}}function Gt(Ht,Wt,tn){const ln=Ht.length,on=1/255;for(let cn=3;cn<ln;cn+=4){const sn=tn?tn[Ht[cn]]:Ht[cn];Wt[cn]=Wt[cn]*sn*on|0}}function en(Ht,Wt,tn){const ln=Ht.length;for(let on=3;on<ln;on+=4){const cn=Ht[on-3]*77+Ht[on-2]*152+Ht[on-1]*28;Wt[on]=tn?Wt[on]*tn[cn>>8]>>8:Wt[on]*cn>>16}}function dn(Ht,Wt,tn,ln,on,cn,sn,rn,xn,vn,En){const Fn=!!cn,Mn=Fn?cn[0]:0,Tn=Fn?cn[1]:0,Sn=Fn?cn[2]:0,mn=on==="Luminosity"?en:Gt,Jt=Math.min(ln,Math.ceil(1048576/tn));for(let un=0;un<ln;un+=Jt){const pn=Math.min(Jt,ln-un),wn=Ht.getImageData(rn-vn,un+(xn-En),tn,pn),kn=Wt.getImageData(rn,un+xn,tn,pn);Fn&&Bt(wn.data,Mn,Tn,Sn),mn(wn.data,kn.data,sn),Wt.putImageData(kn,rn,un+xn)}}function Qt(Ht,Wt,tn,ln){const on=ln[0],cn=ln[1],sn=ln[2]-on,rn=ln[3]-cn;sn===0||rn===0||(dn(Wt.context,tn,sn,rn,Wt.subtype,Wt.backdrop,Wt.transferMap,on,cn,Wt.offsetX,Wt.offsetY),Ht.save(),Ht.globalAlpha=1,Ht.globalCompositeOperation="source-over",Ht.setTransform(1,0,0,1,0,0),Ht.drawImage(tn.canvas,0,0),Ht.restore())}function gn(Ht,Wt){const tn=vt.Util.singularValueDecompose2dScale(Ht);tn[0]=Math.fround(tn[0]),tn[1]=Math.fround(tn[1]);const ln=Math.fround((globalThis.devicePixelRatio||1)*At.PixelsPerInch.PDF_TO_CSS_UNITS);return Wt!==void 0?Wt:tn[0]<=ln||tn[1]<=ln}const nn=["butt","round","square"],bn=["miter","round","bevel"],Vt={},Yt={},an=class an{constructor(Wt,tn,ln,on,cn,{optionalContentConfig:sn,markedContentStack:rn=null},xn,vn){Nn(this,Ut);this.ctx=Wt,this.current=new $t(this.ctx.canvas.width,this.ctx.canvas.height),this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=tn,this.objs=ln,this.canvasFactory=on,this.filterFactory=cn,this.groupStack=[],this.processingType3=null,this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.suspendedCtx=null,this.contentVisible=!0,this.markedContentStack=rn||[],this.optionalContentConfig=sn,this.cachedCanvases=new Xt(this.canvasFactory),this.cachedPatterns=new Map,this.annotationCanvasMap=xn,this.viewportScale=1,this.outputScaleX=1,this.outputScaleY=1,this.pageColors=vn,this._cachedScaleForStroking=[-1,0],this._cachedGetSinglePixelWidth=null,this._cachedBitmapsMap=new Map}getObject(Wt,tn=null){return typeof Wt=="string"?Wt.startsWith("g_")?this.commonObjs.get(Wt):this.objs.get(Wt):tn}beginDrawing({transform:Wt,viewport:tn,transparency:ln=!1,background:on=null}){const cn=this.ctx.canvas.width,sn=this.ctx.canvas.height,rn=this.ctx.fillStyle;if(this.ctx.fillStyle=on||"#ffffff",this.ctx.fillRect(0,0,cn,sn),this.ctx.fillStyle=rn,ln){const xn=this.cachedCanvases.getCanvas("transparent",cn,sn);this.compositeCtx=this.ctx,this.transparentCanvas=xn.canvas,this.ctx=xn.context,this.ctx.save(),this.ctx.transform(...(0,At.getCurrentTransform)(this.compositeCtx))}this.ctx.save(),qt(this.ctx),Wt&&(this.ctx.transform(...Wt),this.outputScaleX=Wt[0],this.outputScaleY=Wt[0]),this.ctx.transform(...tn.transform),this.viewportScale=tn.scale,this.baseTransform=(0,At.getCurrentTransform)(this.ctx)}executeOperatorList(Wt,tn,ln,on){const cn=Wt.argsArray,sn=Wt.fnArray;let rn=tn||0;const xn=cn.length;if(xn===rn)return rn;const vn=xn-rn>Pt&&typeof ln=="function",En=vn?Date.now()+_t:0;let Fn=0;const Mn=this.commonObjs,Tn=this.objs;let Sn;for(;;){if(on!==void 0&&rn===on.nextBreakPoint)return on.breakIt(rn,ln),rn;if(Sn=sn[rn],Sn!==vt.OPS.dependency)this[Sn].apply(this,cn[rn]);else for(const mn of cn[rn]){const fn=mn.startsWith("g_")?Mn:Tn;if(!fn.has(mn))return fn.get(mn,ln),rn}if(rn++,rn===xn)return rn;if(vn&&++Fn>Pt){if(Date.now()>En)return ln(),rn;Fn=0}}}endDrawing(){On(this,Ut,C3).call(this),this.cachedCanvases.clear(),this.cachedPatterns.clear();for(const Wt of this._cachedBitmapsMap.values()){for(const tn of Wt.values())typeof HTMLCanvasElement<"u"&&tn instanceof HTMLCanvasElement&&(tn.width=tn.height=0);Wt.clear()}this._cachedBitmapsMap.clear(),On(this,Ut,k3).call(this)}_scaleImage(Wt,tn){const ln=Wt.width,on=Wt.height;let cn=Math.max(Math.hypot(tn[0],tn[1]),1),sn=Math.max(Math.hypot(tn[2],tn[3]),1),rn=ln,xn=on,vn="prescale1",En,Fn;for(;cn>2&&rn>1||sn>2&&xn>1;){let Mn=rn,Tn=xn;cn>2&&rn>1&&(Mn=rn>=16384?Math.floor(rn/2)-1||1:Math.ceil(rn/2),cn/=rn/Mn),sn>2&&xn>1&&(Tn=xn>=16384?Math.floor(xn/2)-1||1:Math.ceil(xn)/2,sn/=xn/Tn),En=this.cachedCanvases.getCanvas(vn,Mn,Tn),Fn=En.context,Fn.clearRect(0,0,Mn,Tn),Fn.drawImage(Wt,0,0,rn,xn,0,0,Mn,Tn),Wt=En.canvas,rn=Mn,xn=Tn,vn=vn==="prescale1"?"prescale2":"prescale1"}return{img:Wt,paintWidth:rn,paintHeight:xn}}_createMaskCanvas(Wt){const tn=this.ctx,{width:ln,height:on}=Wt,cn=this.current.fillColor,sn=this.current.patternFill,rn=(0,At.getCurrentTransform)(tn);let xn,vn,En,Fn;if((Wt.bitmap||Wt.data)&&Wt.count>1){const Cn=Wt.bitmap||Wt.data.buffer;vn=JSON.stringify(sn?rn:[rn.slice(0,4),cn]),xn=this._cachedBitmapsMap.get(Cn),xn||(xn=new Map,this._cachedBitmapsMap.set(Cn,xn));const An=xn.get(vn);if(An&&!sn){const _n=Math.round(Math.min(rn[0],rn[2])+rn[4]),In=Math.round(Math.min(rn[1],rn[3])+rn[5]);return{canvas:An,offsetX:_n,offsetY:In}}En=An}En||(Fn=this.cachedCanvases.getCanvas("maskCanvas",ln,on),jt(Fn.context,Wt));let Mn=vt.Util.transform(rn,[1/ln,0,0,-1/on,0,0]);Mn=vt.Util.transform(Mn,[1,0,0,1,0,-on]);const Tn=vt.Util.applyTransform([0,0],Mn),Sn=vt.Util.applyTransform([ln,on],Mn),mn=vt.Util.normalizeRect([Tn[0],Tn[1],Sn[0],Sn[1]]),fn=Math.round(mn[2]-mn[0])||1,Jt=Math.round(mn[3]-mn[1])||1,un=this.cachedCanvases.getCanvas("fillCanvas",fn,Jt),pn=un.context,wn=Math.min(Tn[0],Sn[0]),kn=Math.min(Tn[1],Sn[1]);pn.translate(-wn,-kn),pn.transform(...Mn),En||(En=this._scaleImage(Fn.canvas,(0,At.getCurrentTransformInverse)(pn)),En=En.img,xn&&sn&&xn.set(vn,En)),pn.imageSmoothingEnabled=gn((0,At.getCurrentTransform)(pn),Wt.interpolate),Kt(pn,En,0,0,En.width,En.height,0,0,ln,on),pn.globalCompositeOperation="source-in";const Rn=vt.Util.transform((0,At.getCurrentTransformInverse)(pn),[1,0,0,1,-wn,-kn]);return pn.fillStyle=sn?cn.getPattern(tn,this,Rn,St.PathType.FILL):cn,pn.fillRect(0,0,ln,on),xn&&!sn&&(this.cachedCanvases.delete("fillCanvas"),xn.set(vn,un.canvas)),{canvas:un.canvas,offsetX:Math.round(wn),offsetY:Math.round(kn)}}setLineWidth(Wt){Wt!==this.current.lineWidth&&(this._cachedScaleForStroking[0]=-1),this.current.lineWidth=Wt,this.ctx.lineWidth=Wt}setLineCap(Wt){this.ctx.lineCap=nn[Wt]}setLineJoin(Wt){this.ctx.lineJoin=bn[Wt]}setMiterLimit(Wt){this.ctx.miterLimit=Wt}setDash(Wt,tn){const ln=this.ctx;ln.setLineDash!==void 0&&(ln.setLineDash(Wt),ln.lineDashOffset=tn)}setRenderingIntent(Wt){}setFlatness(Wt){}setGState(Wt){for(const[tn,ln]of Wt)switch(tn){case"LW":this.setLineWidth(ln);break;case"LC":this.setLineCap(ln);break;case"LJ":this.setLineJoin(ln);break;case"ML":this.setMiterLimit(ln);break;case"D":this.setDash(ln[0],ln[1]);break;case"RI":this.setRenderingIntent(ln);break;case"FL":this.setFlatness(ln);break;case"Font":this.setFont(ln[0],ln[1]);break;case"CA":this.current.strokeAlpha=ln;break;case"ca":this.current.fillAlpha=ln,this.ctx.globalAlpha=ln;break;case"BM":this.ctx.globalCompositeOperation=ln;break;case"SMask":this.current.activeSMask=ln?this.tempSMask:null,this.tempSMask=null,this.checkSMaskState();break;case"TR":this.ctx.filter=this.current.transferMaps=this.filterFactory.addFilter(ln);break}}get inSMaskMode(){return!!this.suspendedCtx}checkSMaskState(){const Wt=this.inSMaskMode;this.current.activeSMask&&!Wt?this.beginSMaskMode():!this.current.activeSMask&&Wt&&this.endSMaskMode()}beginSMaskMode(){if(this.inSMaskMode)throw new Error("beginSMaskMode called while already in smask mode");const Wt=this.ctx.canvas.width,tn=this.ctx.canvas.height,ln="smaskGroupAt"+this.groupLevel,on=this.cachedCanvases.getCanvas(ln,Wt,tn);this.suspendedCtx=this.ctx,this.ctx=on.context;const cn=this.ctx;cn.setTransform(...(0,At.getCurrentTransform)(this.suspendedCtx)),Ct(this.suspendedCtx,cn),Ft(cn,this.suspendedCtx),this.setGState([["BM","source-over"],["ca",1],["CA",1]])}endSMaskMode(){if(!this.inSMaskMode)throw new Error("endSMaskMode called while not in smask mode");this.ctx._removeMirroring(),Ct(this.ctx,this.suspendedCtx),this.ctx=this.suspendedCtx,this.suspendedCtx=null}compose(Wt){if(!this.current.activeSMask)return;Wt?(Wt[0]=Math.floor(Wt[0]),Wt[1]=Math.floor(Wt[1]),Wt[2]=Math.ceil(Wt[2]),Wt[3]=Math.ceil(Wt[3])):Wt=[0,0,this.ctx.canvas.width,this.ctx.canvas.height];const tn=this.current.activeSMask,ln=this.suspendedCtx;Qt(ln,tn,this.ctx,Wt),this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.restore()}save(){this.inSMaskMode?(Ct(this.ctx,this.suspendedCtx),this.suspendedCtx.save()):this.ctx.save();const Wt=this.current;this.stateStack.push(Wt),this.current=Wt.clone()}restore(){this.stateStack.length===0&&this.inSMaskMode&&this.endSMaskMode(),this.stateStack.length!==0&&(this.current=this.stateStack.pop(),this.inSMaskMode?(this.suspendedCtx.restore(),Ct(this.suspendedCtx,this.ctx)):this.ctx.restore(),this.checkSMaskState(),this.pendingClip=null,this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null)}transform(Wt,tn,ln,on,cn,sn){this.ctx.transform(Wt,tn,ln,on,cn,sn),this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}constructPath(Wt,tn,ln){const on=this.ctx,cn=this.current;let sn=cn.x,rn=cn.y,xn,vn;const En=(0,At.getCurrentTransform)(on),Fn=En[0]===0&&En[3]===0||En[1]===0&&En[2]===0,Mn=Fn?ln.slice(0):null;for(let Tn=0,Sn=0,mn=Wt.length;Tn<mn;Tn++)switch(Wt[Tn]|0){case vt.OPS.rectangle:sn=tn[Sn++],rn=tn[Sn++];const fn=tn[Sn++],Jt=tn[Sn++],un=sn+fn,pn=rn+Jt;on.moveTo(sn,rn),fn===0||Jt===0?on.lineTo(un,pn):(on.lineTo(un,rn),on.lineTo(un,pn),on.lineTo(sn,pn)),Fn||cn.updateRectMinMax(En,[sn,rn,un,pn]),on.closePath();break;case vt.OPS.moveTo:sn=tn[Sn++],rn=tn[Sn++],on.moveTo(sn,rn),Fn||cn.updatePathMinMax(En,sn,rn);break;case vt.OPS.lineTo:sn=tn[Sn++],rn=tn[Sn++],on.lineTo(sn,rn),Fn||cn.updatePathMinMax(En,sn,rn);break;case vt.OPS.curveTo:xn=sn,vn=rn,sn=tn[Sn+4],rn=tn[Sn+5],on.bezierCurveTo(tn[Sn],tn[Sn+1],tn[Sn+2],tn[Sn+3],sn,rn),cn.updateCurvePathMinMax(En,xn,vn,tn[Sn],tn[Sn+1],tn[Sn+2],tn[Sn+3],sn,rn,Mn),Sn+=6;break;case vt.OPS.curveTo2:xn=sn,vn=rn,on.bezierCurveTo(sn,rn,tn[Sn],tn[Sn+1],tn[Sn+2],tn[Sn+3]),cn.updateCurvePathMinMax(En,xn,vn,sn,rn,tn[Sn],tn[Sn+1],tn[Sn+2],tn[Sn+3],Mn),sn=tn[Sn+2],rn=tn[Sn+3],Sn+=4;break;case vt.OPS.curveTo3:xn=sn,vn=rn,sn=tn[Sn+2],rn=tn[Sn+3],on.bezierCurveTo(tn[Sn],tn[Sn+1],sn,rn,sn,rn),cn.updateCurvePathMinMax(En,xn,vn,tn[Sn],tn[Sn+1],sn,rn,sn,rn,Mn),Sn+=4;break;case vt.OPS.closePath:on.closePath();break}Fn&&cn.updateScalingPathMinMax(En,Mn),cn.setCurrentPoint(sn,rn)}closePath(){this.ctx.closePath()}stroke(Wt=!0){const tn=this.ctx,ln=this.current.strokeColor;tn.globalAlpha=this.current.strokeAlpha,this.contentVisible&&(typeof ln=="object"&&(ln!=null&&ln.getPattern)?(tn.save(),tn.strokeStyle=ln.getPattern(tn,this,(0,At.getCurrentTransformInverse)(tn),St.PathType.STROKE),this.rescaleAndStroke(!1),tn.restore()):this.rescaleAndStroke(!0)),Wt&&this.consumePath(this.current.getClippedPathBoundingBox()),tn.globalAlpha=this.current.fillAlpha}closeStroke(){this.closePath(),this.stroke()}fill(Wt=!0){const tn=this.ctx,ln=this.current.fillColor,on=this.current.patternFill;let cn=!1;on&&(tn.save(),tn.fillStyle=ln.getPattern(tn,this,(0,At.getCurrentTransformInverse)(tn),St.PathType.FILL),cn=!0);const sn=this.current.getClippedPathBoundingBox();this.contentVisible&&sn!==null&&(this.pendingEOFill?(tn.fill("evenodd"),this.pendingEOFill=!1):tn.fill()),cn&&tn.restore(),Wt&&this.consumePath(sn)}eoFill(){this.pendingEOFill=!0,this.fill()}fillStroke(){this.fill(!1),this.stroke(!1),this.consumePath()}eoFillStroke(){this.pendingEOFill=!0,this.fillStroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.pendingEOFill=!0,this.closePath(),this.fillStroke()}endPath(){this.consumePath()}clip(){this.pendingClip=Vt}eoClip(){this.pendingClip=Yt}beginText(){this.current.textMatrix=vt.IDENTITY_MATRIX,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}endText(){const Wt=this.pendingTextPaths,tn=this.ctx;if(Wt===void 0){tn.beginPath();return}tn.save(),tn.beginPath();for(const ln of Wt)tn.setTransform(...ln.transform),tn.translate(ln.x,ln.y),ln.addToPath(tn,ln.fontSize);tn.restore(),tn.clip(),tn.beginPath(),delete this.pendingTextPaths}setCharSpacing(Wt){this.current.charSpacing=Wt}setWordSpacing(Wt){this.current.wordSpacing=Wt}setHScale(Wt){this.current.textHScale=Wt/100}setLeading(Wt){this.current.leading=-Wt}setFont(Wt,tn){var En;const ln=this.commonObjs.get(Wt),on=this.current;if(!ln)throw new Error(`Can't find font for ${Wt}`);if(on.fontMatrix=ln.fontMatrix||vt.FONT_IDENTITY_MATRIX,(on.fontMatrix[0]===0||on.fontMatrix[3]===0)&&(0,vt.warn)("Invalid font matrix for font "+Wt),tn<0?(tn=-tn,on.fontDirection=-1):on.fontDirection=1,this.current.font=ln,this.current.fontSize=tn,ln.isType3Font)return;const cn=ln.loadedName||"sans-serif",sn=((En=ln.systemFontInfo)==null?void 0:En.css)||`"${cn}", ${ln.fallbackName}`;let rn="normal";ln.black?rn="900":ln.bold&&(rn="bold");const xn=ln.italic?"italic":"normal";let vn=tn;tn<Et?vn=Et:tn>Rt&&(vn=Rt),this.current.fontSizeScale=tn/vn,this.ctx.font=`${xn} ${rn} ${vn}px ${sn}`}setTextRenderingMode(Wt){this.current.textRenderingMode=Wt}setTextRise(Wt){this.current.textRise=Wt}moveText(Wt,tn){this.current.x=this.current.lineX+=Wt,this.current.y=this.current.lineY+=tn}setLeadingMoveText(Wt,tn){this.setLeading(-tn),this.moveText(Wt,tn)}setTextMatrix(Wt,tn,ln,on,cn,sn){this.current.textMatrix=[Wt,tn,ln,on,cn,sn],this.current.textMatrixScale=Math.hypot(Wt,tn),this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}nextLine(){this.moveText(0,this.current.leading)}paintChar(Wt,tn,ln,on){const cn=this.ctx,sn=this.current,rn=sn.font,xn=sn.textRenderingMode,vn=sn.fontSize/sn.fontSizeScale,En=xn&vt.TextRenderingMode.FILL_STROKE_MASK,Fn=!!(xn&vt.TextRenderingMode.ADD_TO_PATH_FLAG),Mn=sn.patternFill&&!rn.missingFile;let Tn;(rn.disableFontFace||Fn||Mn)&&(Tn=rn.getPathGenerator(this.commonObjs,Wt)),rn.disableFontFace||Mn?(cn.save(),cn.translate(tn,ln),cn.beginPath(),Tn(cn,vn),on&&cn.setTransform(...on),(En===vt.TextRenderingMode.FILL||En===vt.TextRenderingMode.FILL_STROKE)&&cn.fill(),(En===vt.TextRenderingMode.STROKE||En===vt.TextRenderingMode.FILL_STROKE)&&cn.stroke(),cn.restore()):((En===vt.TextRenderingMode.FILL||En===vt.TextRenderingMode.FILL_STROKE)&&cn.fillText(Wt,tn,ln),(En===vt.TextRenderingMode.STROKE||En===vt.TextRenderingMode.FILL_STROKE)&&cn.strokeText(Wt,tn,ln)),Fn&&(this.pendingTextPaths||(this.pendingTextPaths=[])).push({transform:(0,At.getCurrentTransform)(cn),x:tn,y:ln,fontSize:vn,addToPath:Tn})}get isFontSubpixelAAEnabled(){const{context:Wt}=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10);Wt.scale(1.5,1),Wt.fillText("I",0,10);const tn=Wt.getImageData(0,0,10,10).data;let ln=!1;for(let on=3;on<tn.length;on+=4)if(tn[on]>0&&tn[on]<255){ln=!0;break}return(0,vt.shadow)(this,"isFontSubpixelAAEnabled",ln)}showText(Wt){const tn=this.current,ln=tn.font;if(ln.isType3Font)return this.showType3Text(Wt);const on=tn.fontSize;if(on===0)return;const cn=this.ctx,sn=tn.fontSizeScale,rn=tn.charSpacing,xn=tn.wordSpacing,vn=tn.fontDirection,En=tn.textHScale*vn,Fn=Wt.length,Mn=ln.vertical,Tn=Mn?1:-1,Sn=ln.defaultVMetrics,mn=on*tn.fontMatrix[0],fn=tn.textRenderingMode===vt.TextRenderingMode.FILL&&!ln.disableFontFace&&!tn.patternFill;cn.save(),cn.transform(...tn.textMatrix),cn.translate(tn.x,tn.y+tn.textRise),vn>0?cn.scale(En,-1):cn.scale(En,1);let Jt;if(tn.patternFill){cn.save();const Rn=tn.fillColor.getPattern(cn,this,(0,At.getCurrentTransformInverse)(cn),St.PathType.FILL);Jt=(0,At.getCurrentTransform)(cn),cn.restore(),cn.fillStyle=Rn}let un=tn.lineWidth;const pn=tn.textMatrixScale;if(pn===0||un===0){const Rn=tn.textRenderingMode&vt.TextRenderingMode.FILL_STROKE_MASK;(Rn===vt.TextRenderingMode.STROKE||Rn===vt.TextRenderingMode.FILL_STROKE)&&(un=this.getSinglePixelWidth())}else un/=pn;if(sn!==1&&(cn.scale(sn,sn),un/=sn),cn.lineWidth=un,ln.isInvalidPDFjsFont){const Rn=[];let Cn=0;for(const An of Wt)Rn.push(An.unicode),Cn+=An.width;cn.fillText(Rn.join(""),0,0),tn.x+=Cn*mn*En,cn.restore(),this.compose();return}let wn=0,kn;for(kn=0;kn<Fn;++kn){const Rn=Wt[kn];if(typeof Rn=="number"){wn+=Tn*Rn*on/1e3;continue}let Cn=!1;const An=(Rn.isSpace?xn:0)+rn,_n=Rn.fontChar,In=Rn.accent;let Pn,Dn,Ln=Rn.width;if(Mn){const tr=Rn.vmetric||Sn,er=-(Rn.vmetric?tr[1]:Ln*.5)*mn,Qn=tr[2]*mn;Ln=tr?-tr[0]:Ln,Pn=er/sn,Dn=(wn+Qn)/sn}else Pn=wn/sn,Dn=0;if(ln.remeasure&&Ln>0){const tr=cn.measureText(_n).width*1e3/on*sn;if(Ln<tr&&this.isFontSubpixelAAEnabled){const er=Ln/tr;Cn=!0,cn.save(),cn.scale(er,1),Pn/=er}else Ln!==tr&&(Pn+=(Ln-tr)/2e3*on/sn)}if(this.contentVisible&&(Rn.isInFont||ln.missingFile)){if(fn&&!In)cn.fillText(_n,Pn,Dn);else if(this.paintChar(_n,Pn,Dn,Jt),In){const tr=Pn+on*In.offset.x/sn,er=Dn-on*In.offset.y/sn;this.paintChar(In.fontChar,tr,er,Jt)}}const Un=Mn?Ln*mn-An*vn:Ln*mn+An*vn;wn+=Un,Cn&&cn.restore()}Mn?tn.y-=wn:tn.x+=wn*En,cn.restore(),this.compose()}showType3Text(Wt){const tn=this.ctx,ln=this.current,on=ln.font,cn=ln.fontSize,sn=ln.fontDirection,rn=on.vertical?1:-1,xn=ln.charSpacing,vn=ln.wordSpacing,En=ln.textHScale*sn,Fn=ln.fontMatrix||vt.FONT_IDENTITY_MATRIX,Mn=Wt.length,Tn=ln.textRenderingMode===vt.TextRenderingMode.INVISIBLE;let Sn,mn,fn,Jt;if(!(Tn||cn===0)){for(this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null,tn.save(),tn.transform(...ln.textMatrix),tn.translate(ln.x,ln.y),tn.scale(En,sn),Sn=0;Sn<Mn;++Sn){if(mn=Wt[Sn],typeof mn=="number"){Jt=rn*mn*cn/1e3,this.ctx.translate(Jt,0),ln.x+=Jt*En;continue}const un=(mn.isSpace?vn:0)+xn,pn=on.charProcOperatorList[mn.operatorListId];if(!pn){(0,vt.warn)(`Type3 character "${mn.operatorListId}" is not available.`);continue}this.contentVisible&&(this.processingType3=mn,this.save(),tn.scale(cn,cn),tn.transform(...Fn),this.executeOperatorList(pn),this.restore()),fn=vt.Util.applyTransform([mn.width,0],Fn)[0]*cn+un,tn.translate(fn,0),ln.x+=fn*En}tn.restore(),this.processingType3=null}}setCharWidth(Wt,tn){}setCharWidthAndBounds(Wt,tn,ln,on,cn,sn){this.ctx.rect(ln,on,cn-ln,sn-on),this.ctx.clip(),this.endPath()}getColorN_Pattern(Wt){let tn;if(Wt[0]==="TilingPattern"){const ln=Wt[1],on=this.baseTransform||(0,At.getCurrentTransform)(this.ctx),cn={createCanvasGraphics:sn=>new an(sn,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:this.optionalContentConfig,markedContentStack:this.markedContentStack})};tn=new St.TilingPattern(Wt,ln,this.ctx,cn,on)}else tn=this._getPattern(Wt[1],Wt[2]);return tn}setStrokeColorN(){this.current.strokeColor=this.getColorN_Pattern(arguments)}setFillColorN(){this.current.fillColor=this.getColorN_Pattern(arguments),this.current.patternFill=!0}setStrokeRGBColor(Wt,tn,ln){const on=vt.Util.makeHexColor(Wt,tn,ln);this.ctx.strokeStyle=on,this.current.strokeColor=on}setFillRGBColor(Wt,tn,ln){const on=vt.Util.makeHexColor(Wt,tn,ln);this.ctx.fillStyle=on,this.current.fillColor=on,this.current.patternFill=!1}_getPattern(Wt,tn=null){let ln;return this.cachedPatterns.has(Wt)?ln=this.cachedPatterns.get(Wt):(ln=(0,St.getShadingPattern)(this.getObject(Wt)),this.cachedPatterns.set(Wt,ln)),tn&&(ln.matrix=tn),ln}shadingFill(Wt){if(!this.contentVisible)return;const tn=this.ctx;this.save();const ln=this._getPattern(Wt);tn.fillStyle=ln.getPattern(tn,this,(0,At.getCurrentTransformInverse)(tn),St.PathType.SHADING);const on=(0,At.getCurrentTransformInverse)(tn);if(on){const{width:cn,height:sn}=tn.canvas,[rn,xn,vn,En]=vt.Util.getAxialAlignedBoundingBox([0,0,cn,sn],on);this.ctx.fillRect(rn,xn,vn-rn,En-xn)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);this.compose(this.current.getClippedPathBoundingBox()),this.restore()}beginInlineImage(){(0,vt.unreachable)("Should not call beginInlineImage")}beginImageData(){(0,vt.unreachable)("Should not call beginImageData")}paintFormXObjectBegin(Wt,tn){if(this.contentVisible&&(this.save(),this.baseTransformStack.push(this.baseTransform),Array.isArray(Wt)&&Wt.length===6&&this.transform(...Wt),this.baseTransform=(0,At.getCurrentTransform)(this.ctx),tn)){const ln=tn[2]-tn[0],on=tn[3]-tn[1];this.ctx.rect(tn[0],tn[1],ln,on),this.current.updateRectMinMax((0,At.getCurrentTransform)(this.ctx),tn),this.clip(),this.endPath()}}paintFormXObjectEnd(){this.contentVisible&&(this.restore(),this.baseTransform=this.baseTransformStack.pop())}beginGroup(Wt){if(!this.contentVisible)return;this.save(),this.inSMaskMode&&(this.endSMaskMode(),this.current.activeSMask=null);const tn=this.ctx;Wt.isolated||(0,vt.info)("TODO: Support non-isolated groups."),Wt.knockout&&(0,vt.warn)("Knockout groups not supported.");const ln=(0,At.getCurrentTransform)(tn);if(Wt.matrix&&tn.transform(...Wt.matrix),!Wt.bbox)throw new Error("Bounding box is required.");let on=vt.Util.getAxialAlignedBoundingBox(Wt.bbox,(0,At.getCurrentTransform)(tn));const cn=[0,0,tn.canvas.width,tn.canvas.height];on=vt.Util.intersect(on,cn)||[0,0,0,0];const sn=Math.floor(on[0]),rn=Math.floor(on[1]);let xn=Math.max(Math.ceil(on[2])-sn,1),vn=Math.max(Math.ceil(on[3])-rn,1),En=1,Fn=1;xn>wt&&(En=xn/wt,xn=wt),vn>wt&&(Fn=vn/wt,vn=wt),this.current.startNewPathAndClipBox([0,0,xn,vn]);let Mn="groupAt"+this.groupLevel;Wt.smask&&(Mn+="_smask_"+this.smaskCounter++%2);const Tn=this.cachedCanvases.getCanvas(Mn,xn,vn),Sn=Tn.context;Sn.scale(1/En,1/Fn),Sn.translate(-sn,-rn),Sn.transform(...ln),Wt.smask?this.smaskStack.push({canvas:Tn.canvas,context:Sn,offsetX:sn,offsetY:rn,scaleX:En,scaleY:Fn,subtype:Wt.smask.subtype,backdrop:Wt.smask.backdrop,transferMap:Wt.smask.transferMap||null,startTransformInverse:null}):(tn.setTransform(1,0,0,1,0,0),tn.translate(sn,rn),tn.scale(En,Fn),tn.save()),Ct(tn,Sn),this.ctx=Sn,this.setGState([["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(tn),this.groupLevel++}endGroup(Wt){if(!this.contentVisible)return;this.groupLevel--;const tn=this.ctx,ln=this.groupStack.pop();if(this.ctx=ln,this.ctx.imageSmoothingEnabled=!1,Wt.smask)this.tempSMask=this.smaskStack.pop(),this.restore();else{this.ctx.restore();const on=(0,At.getCurrentTransform)(this.ctx);this.restore(),this.ctx.save(),this.ctx.setTransform(...on);const cn=vt.Util.getAxialAlignedBoundingBox([0,0,tn.canvas.width,tn.canvas.height],on);this.ctx.drawImage(tn.canvas,0,0),this.ctx.restore(),this.compose(cn)}}beginAnnotation(Wt,tn,ln,on,cn){if(On(this,Ut,C3).call(this),qt(this.ctx),this.ctx.save(),this.save(),this.baseTransform&&this.ctx.setTransform(...this.baseTransform),Array.isArray(tn)&&tn.length===4){const sn=tn[2]-tn[0],rn=tn[3]-tn[1];if(cn&&this.annotationCanvasMap){ln=ln.slice(),ln[4]-=tn[0],ln[5]-=tn[1],tn=tn.slice(),tn[0]=tn[1]=0,tn[2]=sn,tn[3]=rn;const[xn,vn]=vt.Util.singularValueDecompose2dScale((0,At.getCurrentTransform)(this.ctx)),{viewportScale:En}=this,Fn=Math.ceil(sn*this.outputScaleX*En),Mn=Math.ceil(rn*this.outputScaleY*En);this.annotationCanvas=this.canvasFactory.create(Fn,Mn);const{canvas:Tn,context:Sn}=this.annotationCanvas;this.annotationCanvasMap.set(Wt,Tn),this.annotationCanvas.savedCtx=this.ctx,this.ctx=Sn,this.ctx.save(),this.ctx.setTransform(xn,0,0,-vn,0,rn*vn),qt(this.ctx)}else qt(this.ctx),this.ctx.rect(tn[0],tn[1],sn,rn),this.ctx.clip(),this.endPath()}this.current=new $t(this.ctx.canvas.width,this.ctx.canvas.height),this.transform(...ln),this.transform(...on)}endAnnotation(){this.annotationCanvas&&(this.ctx.restore(),On(this,Ut,k3).call(this),this.ctx=this.annotationCanvas.savedCtx,delete this.annotationCanvas.savedCtx,delete this.annotationCanvas)}paintImageMaskXObject(Wt){if(!this.contentVisible)return;const tn=Wt.count;Wt=this.getObject(Wt.data,Wt),Wt.count=tn;const ln=this.ctx,on=this.processingType3;if(on&&(on.compiled===void 0&&(on.compiled=Nt(Wt)),on.compiled)){on.compiled(ln);return}const cn=this._createMaskCanvas(Wt),sn=cn.canvas;ln.save(),ln.setTransform(1,0,0,1,0,0),ln.drawImage(sn,cn.offsetX,cn.offsetY),ln.restore(),this.compose()}paintImageMaskXObjectRepeat(Wt,tn,ln=0,on=0,cn,sn){if(!this.contentVisible)return;Wt=this.getObject(Wt.data,Wt);const rn=this.ctx;rn.save();const xn=(0,At.getCurrentTransform)(rn);rn.transform(tn,ln,on,cn,0,0);const vn=this._createMaskCanvas(Wt);rn.setTransform(1,0,0,1,vn.offsetX-xn[4],vn.offsetY-xn[5]);for(let En=0,Fn=sn.length;En<Fn;En+=2){const Mn=vt.Util.transform(xn,[tn,ln,on,cn,sn[En],sn[En+1]]),[Tn,Sn]=vt.Util.applyTransform([0,0],Mn);rn.drawImage(vn.canvas,Tn,Sn)}rn.restore(),this.compose()}paintImageMaskXObjectGroup(Wt){if(!this.contentVisible)return;const tn=this.ctx,ln=this.current.fillColor,on=this.current.patternFill;for(const cn of Wt){const{data:sn,width:rn,height:xn,transform:vn}=cn,En=this.cachedCanvases.getCanvas("maskCanvas",rn,xn),Fn=En.context;Fn.save();const Mn=this.getObject(sn,cn);jt(Fn,Mn),Fn.globalCompositeOperation="source-in",Fn.fillStyle=on?ln.getPattern(Fn,this,(0,At.getCurrentTransformInverse)(tn),St.PathType.FILL):ln,Fn.fillRect(0,0,rn,xn),Fn.restore(),tn.save(),tn.transform(...vn),tn.scale(1,-1),Kt(tn,En.canvas,0,0,rn,xn,0,-1,1,1),tn.restore()}this.compose()}paintImageXObject(Wt){if(!this.contentVisible)return;const tn=this.getObject(Wt);if(!tn){(0,vt.warn)("Dependent image isn't ready yet");return}this.paintInlineImageXObject(tn)}paintImageXObjectRepeat(Wt,tn,ln,on){if(!this.contentVisible)return;const cn=this.getObject(Wt);if(!cn){(0,vt.warn)("Dependent image isn't ready yet");return}const sn=cn.width,rn=cn.height,xn=[];for(let vn=0,En=on.length;vn<En;vn+=2)xn.push({transform:[tn,0,0,ln,on[vn],on[vn+1]],x:0,y:0,w:sn,h:rn});this.paintInlineImageXObjectGroup(cn,xn)}applyTransferMapsToCanvas(Wt){return this.current.transferMaps!=="none"&&(Wt.filter=this.current.transferMaps,Wt.drawImage(Wt.canvas,0,0),Wt.filter="none"),Wt.canvas}applyTransferMapsToBitmap(Wt){if(this.current.transferMaps==="none")return Wt.bitmap;const{bitmap:tn,width:ln,height:on}=Wt,cn=this.cachedCanvases.getCanvas("inlineImage",ln,on),sn=cn.context;return sn.filter=this.current.transferMaps,sn.drawImage(tn,0,0),sn.filter="none",cn.canvas}paintInlineImageXObject(Wt){if(!this.contentVisible)return;const tn=Wt.width,ln=Wt.height,on=this.ctx;if(this.save(),!vt.isNodeJS){const{filter:rn}=on;rn!=="none"&&rn!==""&&(on.filter="none")}on.scale(1/tn,-1/ln);let cn;if(Wt.bitmap)cn=this.applyTransferMapsToBitmap(Wt);else if(typeof HTMLElement=="function"&&Wt instanceof HTMLElement||!Wt.data)cn=Wt;else{const xn=this.cachedCanvases.getCanvas("inlineImage",tn,ln).context;Dt(xn,Wt),cn=this.applyTransferMapsToCanvas(xn)}const sn=this._scaleImage(cn,(0,At.getCurrentTransformInverse)(on));on.imageSmoothingEnabled=gn((0,At.getCurrentTransform)(on),Wt.interpolate),Kt(on,sn.img,0,0,sn.paintWidth,sn.paintHeight,0,-ln,tn,ln),this.compose(),this.restore()}paintInlineImageXObjectGroup(Wt,tn){if(!this.contentVisible)return;const ln=this.ctx;let on;if(Wt.bitmap)on=Wt.bitmap;else{const cn=Wt.width,sn=Wt.height,xn=this.cachedCanvases.getCanvas("inlineImage",cn,sn).context;Dt(xn,Wt),on=this.applyTransferMapsToCanvas(xn)}for(const cn of tn)ln.save(),ln.transform(...cn.transform),ln.scale(1,-1),Kt(ln,on,cn.x,cn.y,cn.w,cn.h,0,-1,1,1),ln.restore();this.compose()}paintSolidColorImageMask(){this.contentVisible&&(this.ctx.fillRect(0,0,1,1),this.compose())}markPoint(Wt){}markPointProps(Wt,tn){}beginMarkedContent(Wt){this.markedContentStack.push({visible:!0})}beginMarkedContentProps(Wt,tn){Wt==="OC"?this.markedContentStack.push({visible:this.optionalContentConfig.isVisible(tn)}):this.markedContentStack.push({visible:!0}),this.contentVisible=this.isContentVisible()}endMarkedContent(){this.markedContentStack.pop(),this.contentVisible=this.isContentVisible()}beginCompat(){}endCompat(){}consumePath(Wt){const tn=this.current.isEmptyClip();this.pendingClip&&this.current.updateClipFromPath(),this.pendingClip||this.compose(Wt);const ln=this.ctx;this.pendingClip&&(tn||(this.pendingClip===Yt?ln.clip("evenodd"):ln.clip()),this.pendingClip=null),this.current.startNewPathAndClipBox(this.current.clipBox),ln.beginPath()}getSinglePixelWidth(){if(!this._cachedGetSinglePixelWidth){const Wt=(0,At.getCurrentTransform)(this.ctx);if(Wt[1]===0&&Wt[2]===0)this._cachedGetSinglePixelWidth=1/Math.min(Math.abs(Wt[0]),Math.abs(Wt[3]));else{const tn=Math.abs(Wt[0]*Wt[3]-Wt[2]*Wt[1]),ln=Math.hypot(Wt[0],Wt[2]),on=Math.hypot(Wt[1],Wt[3]);this._cachedGetSinglePixelWidth=Math.max(ln,on)/tn}}return this._cachedGetSinglePixelWidth}getScaleForStroking(){if(this._cachedScaleForStroking[0]===-1){const{lineWidth:Wt}=this.current,{a:tn,b:ln,c:on,d:cn}=this.ctx.getTransform();let sn,rn;if(ln===0&&on===0){const xn=Math.abs(tn),vn=Math.abs(cn);if(xn===vn)if(Wt===0)sn=rn=1/xn;else{const En=xn*Wt;sn=rn=En<1?1/En:1}else if(Wt===0)sn=1/xn,rn=1/vn;else{const En=xn*Wt,Fn=vn*Wt;sn=En<1?1/En:1,rn=Fn<1?1/Fn:1}}else{const xn=Math.abs(tn*cn-ln*on),vn=Math.hypot(tn,ln),En=Math.hypot(on,cn);if(Wt===0)sn=En/xn,rn=vn/xn;else{const Fn=Wt*xn;sn=En>Fn?En/Fn:1,rn=vn>Fn?vn/Fn:1}}this._cachedScaleForStroking[0]=sn,this._cachedScaleForStroking[1]=rn}return this._cachedScaleForStroking}rescaleAndStroke(Wt){const{ctx:tn}=this,{lineWidth:ln}=this.current,[on,cn]=this.getScaleForStroking();if(tn.lineWidth=ln||1,on===1&&cn===1){tn.stroke();return}const sn=tn.getLineDash();if(Wt&&tn.save(),tn.scale(on,cn),sn.length>0){const rn=Math.max(on,cn);tn.setLineDash(sn.map(xn=>xn/rn)),tn.lineDashOffset/=rn}tn.stroke(),Wt&&tn.restore()}isContentVisible(){for(let Wt=this.markedContentStack.length-1;Wt>=0;Wt--)if(!this.markedContentStack[Wt].visible)return!1;return!0}};Ut=new WeakSet,C3=function(){for(;this.stateStack.length||this.inSMaskMode;)this.restore();this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null)},k3=function(){if(this.pageColors){const Wt=this.filterFactory.addHCMFilter(this.pageColors.foreground,this.pageColors.background);if(Wt!=="none"){const tn=this.ctx.filter;this.ctx.filter=Wt,this.ctx.drawImage(this.ctx.canvas,0,0),this.ctx.filter=tn}}};let hn=an;$.CanvasGraphics=hn;for(const Ht in vt.OPS)hn.prototype[Ht]!==void 0&&(hn.prototype[vt.OPS[Ht]]=hn.prototype[Ht])},(xt,$,ht)=>{Object.defineProperty($,"__esModule",{value:!0}),$.TilingPattern=$.PathType=void 0,$.getShadingPattern=bt;var vt=ht(1),At=ht(6);const St={FILL:"Fill",STROKE:"Stroke",SHADING:"Shading"};$.PathType=St;function kt(Nt,$t){if(!$t)return;const Dt=$t[2]-$t[0],jt=$t[3]-$t[1],Ct=new Path2D;Ct.rect($t[0],$t[1],Dt,jt),Nt.clip(Ct)}class Et{constructor(){this.constructor===Et&&(0,vt.unreachable)("Cannot initialize BaseShadingPattern.")}getPattern(){(0,vt.unreachable)("Abstract method `getPattern` called.")}}class Rt extends Et{constructor($t){super(),this._type=$t[1],this._bbox=$t[2],this._colorStops=$t[3],this._p0=$t[4],this._p1=$t[5],this._r0=$t[6],this._r1=$t[7],this.matrix=null}_createGradient($t){let Dt;this._type==="axial"?Dt=$t.createLinearGradient(this._p0[0],this._p0[1],this._p1[0],this._p1[1]):this._type==="radial"&&(Dt=$t.createRadialGradient(this._p0[0],this._p0[1],this._r0,this._p1[0],this._p1[1],this._r1));for(const jt of this._colorStops)Dt.addColorStop(jt[0],jt[1]);return Dt}getPattern($t,Dt,jt,Ct){let qt;if(Ct===St.STROKE||Ct===St.FILL){const Bt=Dt.current.getClippedPathBoundingBox(Ct,(0,At.getCurrentTransform)($t))||[0,0,0,0],Gt=Math.ceil(Bt[2]-Bt[0])||1,en=Math.ceil(Bt[3]-Bt[1])||1,dn=Dt.cachedCanvases.getCanvas("pattern",Gt,en,!0),Qt=dn.context;Qt.clearRect(0,0,Qt.canvas.width,Qt.canvas.height),Qt.beginPath(),Qt.rect(0,0,Qt.canvas.width,Qt.canvas.height),Qt.translate(-Bt[0],-Bt[1]),jt=vt.Util.transform(jt,[1,0,0,1,Bt[0],Bt[1]]),Qt.transform(...Dt.baseTransform),this.matrix&&Qt.transform(...this.matrix),kt(Qt,this._bbox),Qt.fillStyle=this._createGradient(Qt),Qt.fill(),qt=$t.createPattern(dn.canvas,"no-repeat");const gn=new DOMMatrix(jt);qt.setTransform(gn)}else kt($t,this._bbox),qt=this._createGradient($t);return qt}}function wt(Nt,$t,Dt,jt,Ct,qt,Bt,Gt){const en=$t.coords,dn=$t.colors,Qt=Nt.data,gn=Nt.width*4;let nn;en[Dt+1]>en[jt+1]&&(nn=Dt,Dt=jt,jt=nn,nn=qt,qt=Bt,Bt=nn),en[jt+1]>en[Ct+1]&&(nn=jt,jt=Ct,Ct=nn,nn=Bt,Bt=Gt,Gt=nn),en[Dt+1]>en[jt+1]&&(nn=Dt,Dt=jt,jt=nn,nn=qt,qt=Bt,Bt=nn);const bn=(en[Dt]+$t.offsetX)*$t.scaleX,Vt=(en[Dt+1]+$t.offsetY)*$t.scaleY,Yt=(en[jt]+$t.offsetX)*$t.scaleX,hn=(en[jt+1]+$t.offsetY)*$t.scaleY,Ut=(en[Ct]+$t.offsetX)*$t.scaleX,Ot=(en[Ct+1]+$t.offsetY)*$t.scaleY;if(Vt>=Ot)return;const zt=dn[qt],an=dn[qt+1],Ht=dn[qt+2],Wt=dn[Bt],tn=dn[Bt+1],ln=dn[Bt+2],on=dn[Gt],cn=dn[Gt+1],sn=dn[Gt+2],rn=Math.round(Vt),xn=Math.round(Ot);let vn,En,Fn,Mn,Tn,Sn,mn,fn;for(let Jt=rn;Jt<=xn;Jt++){if(Jt<hn){const Rn=Jt<Vt?0:(Vt-Jt)/(Vt-hn);vn=bn-(bn-Yt)*Rn,En=zt-(zt-Wt)*Rn,Fn=an-(an-tn)*Rn,Mn=Ht-(Ht-ln)*Rn}else{let Rn;Jt>Ot?Rn=1:hn===Ot?Rn=0:Rn=(hn-Jt)/(hn-Ot),vn=Yt-(Yt-Ut)*Rn,En=Wt-(Wt-on)*Rn,Fn=tn-(tn-cn)*Rn,Mn=ln-(ln-sn)*Rn}let un;Jt<Vt?un=0:Jt>Ot?un=1:un=(Vt-Jt)/(Vt-Ot),Tn=bn-(bn-Ut)*un,Sn=zt-(zt-on)*un,mn=an-(an-cn)*un,fn=Ht-(Ht-sn)*un;const pn=Math.round(Math.min(vn,Tn)),wn=Math.round(Math.max(vn,Tn));let kn=gn*Jt+pn*4;for(let Rn=pn;Rn<=wn;Rn++)un=(vn-Rn)/(vn-Tn),un<0?un=0:un>1&&(un=1),Qt[kn++]=En-(En-Sn)*un|0,Qt[kn++]=Fn-(Fn-mn)*un|0,Qt[kn++]=Mn-(Mn-fn)*un|0,Qt[kn++]=255}}function _t(Nt,$t,Dt){const jt=$t.coords,Ct=$t.colors;let qt,Bt;switch($t.type){case"lattice":const Gt=$t.verticesPerRow,en=Math.floor(jt.length/Gt)-1,dn=Gt-1;for(qt=0;qt<en;qt++){let Qt=qt*Gt;for(let gn=0;gn<dn;gn++,Qt++)wt(Nt,Dt,jt[Qt],jt[Qt+1],jt[Qt+Gt],Ct[Qt],Ct[Qt+1],Ct[Qt+Gt]),wt(Nt,Dt,jt[Qt+Gt+1],jt[Qt+1],jt[Qt+Gt],Ct[Qt+Gt+1],Ct[Qt+1],Ct[Qt+Gt])}break;case"triangles":for(qt=0,Bt=jt.length;qt<Bt;qt+=3)wt(Nt,Dt,jt[qt],jt[qt+1],jt[qt+2],Ct[qt],Ct[qt+1],Ct[qt+2]);break;default:throw new Error("illegal figure")}}class Pt extends Et{constructor($t){super(),this._coords=$t[2],this._colors=$t[3],this._figures=$t[4],this._bounds=$t[5],this._bbox=$t[7],this._background=$t[8],this.matrix=null}_createMeshCanvas($t,Dt,jt){const Gt=Math.floor(this._bounds[0]),en=Math.floor(this._bounds[1]),dn=Math.ceil(this._bounds[2])-Gt,Qt=Math.ceil(this._bounds[3])-en,gn=Math.min(Math.ceil(Math.abs(dn*$t[0]*1.1)),3e3),nn=Math.min(Math.ceil(Math.abs(Qt*$t[1]*1.1)),3e3),bn=dn/gn,Vt=Qt/nn,Yt={coords:this._coords,colors:this._colors,offsetX:-Gt,offsetY:-en,scaleX:1/bn,scaleY:1/Vt},hn=gn+2*2,Ut=nn+2*2,Ot=jt.getCanvas("mesh",hn,Ut,!1),zt=Ot.context,an=zt.createImageData(gn,nn);if(Dt){const Wt=an.data;for(let tn=0,ln=Wt.length;tn<ln;tn+=4)Wt[tn]=Dt[0],Wt[tn+1]=Dt[1],Wt[tn+2]=Dt[2],Wt[tn+3]=255}for(const Wt of this._figures)_t(an,Wt,Yt);return zt.putImageData(an,2,2),{canvas:Ot.canvas,offsetX:Gt-2*bn,offsetY:en-2*Vt,scaleX:bn,scaleY:Vt}}getPattern($t,Dt,jt,Ct){kt($t,this._bbox);let qt;if(Ct===St.SHADING)qt=vt.Util.singularValueDecompose2dScale((0,At.getCurrentTransform)($t));else if(qt=vt.Util.singularValueDecompose2dScale(Dt.baseTransform),this.matrix){const Gt=vt.Util.singularValueDecompose2dScale(this.matrix);qt=[qt[0]*Gt[0],qt[1]*Gt[1]]}const Bt=this._createMeshCanvas(qt,Ct===St.SHADING?null:this._background,Dt.cachedCanvases);return Ct!==St.SHADING&&($t.setTransform(...Dt.baseTransform),this.matrix&&$t.transform(...this.matrix)),$t.translate(Bt.offsetX,Bt.offsetY),$t.scale(Bt.scaleX,Bt.scaleY),$t.createPattern(Bt.canvas,"no-repeat")}}class _e extends Et{getPattern(){return"hotpink"}}function bt(Nt){switch(Nt[0]){case"RadialAxial":return new Rt(Nt);case"Mesh":return new Pt(Nt);case"Dummy":return new _e}throw new Error(`Unknown IR type: ${Nt[0]}`)}const Ft={COLORED:1,UNCOLORED:2},Kt=class Kt{constructor($t,Dt,jt,Ct,qt){this.operatorList=$t[2],this.matrix=$t[3]||[1,0,0,1,0,0],this.bbox=$t[4],this.xstep=$t[5],this.ystep=$t[6],this.paintType=$t[7],this.tilingType=$t[8],this.color=Dt,this.ctx=jt,this.canvasGraphicsFactory=Ct,this.baseTransform=qt}createPatternCanvas($t){const Dt=this.operatorList,jt=this.bbox,Ct=this.xstep,qt=this.ystep,Bt=this.paintType,Gt=this.tilingType,en=this.color,dn=this.canvasGraphicsFactory;(0,vt.info)("TilingType: "+Gt);const Qt=jt[0],gn=jt[1],nn=jt[2],bn=jt[3],Vt=vt.Util.singularValueDecompose2dScale(this.matrix),Yt=vt.Util.singularValueDecompose2dScale(this.baseTransform),hn=[Vt[0]*Yt[0],Vt[1]*Yt[1]],Ut=this.getSizeAndScale(Ct,this.ctx.canvas.width,hn[0]),Ot=this.getSizeAndScale(qt,this.ctx.canvas.height,hn[1]),zt=$t.cachedCanvases.getCanvas("pattern",Ut.size,Ot.size,!0),an=zt.context,Ht=dn.createCanvasGraphics(an);Ht.groupLevel=$t.groupLevel,this.setFillAndStrokeStyleToContext(Ht,Bt,en);let Wt=Qt,tn=gn,ln=nn,on=bn;return Qt<0&&(Wt=0,ln+=Math.abs(Qt)),gn<0&&(tn=0,on+=Math.abs(gn)),an.translate(-(Ut.scale*Wt),-(Ot.scale*tn)),Ht.transform(Ut.scale,0,0,Ot.scale,0,0),an.save(),this.clipBbox(Ht,Wt,tn,ln,on),Ht.baseTransform=(0,At.getCurrentTransform)(Ht.ctx),Ht.executeOperatorList(Dt),Ht.endDrawing(),{canvas:zt.canvas,scaleX:Ut.scale,scaleY:Ot.scale,offsetX:Wt,offsetY:tn}}getSizeAndScale($t,Dt,jt){$t=Math.abs($t);const Ct=Math.max(Kt.MAX_PATTERN_SIZE,Dt);let qt=Math.ceil($t*jt);return qt>=Ct?qt=Ct:jt=qt/$t,{scale:jt,size:qt}}clipBbox($t,Dt,jt,Ct,qt){const Bt=Ct-Dt,Gt=qt-jt;$t.ctx.rect(Dt,jt,Bt,Gt),$t.current.updateRectMinMax((0,At.getCurrentTransform)($t.ctx),[Dt,jt,Ct,qt]),$t.clip(),$t.endPath()}setFillAndStrokeStyleToContext($t,Dt,jt){const Ct=$t.ctx,qt=$t.current;switch(Dt){case Ft.COLORED:const Bt=this.ctx;Ct.fillStyle=Bt.fillStyle,Ct.strokeStyle=Bt.strokeStyle,qt.fillColor=Bt.fillStyle,qt.strokeColor=Bt.strokeStyle;break;case Ft.UNCOLORED:const Gt=vt.Util.makeHexColor(jt[0],jt[1],jt[2]);Ct.fillStyle=Gt,Ct.strokeStyle=Gt,qt.fillColor=Gt,qt.strokeColor=Gt;break;default:throw new vt.FormatError(`Unsupported paint type: ${Dt}`)}}getPattern($t,Dt,jt,Ct){let qt=jt;Ct!==St.SHADING&&(qt=vt.Util.transform(qt,Dt.baseTransform),this.matrix&&(qt=vt.Util.transform(qt,this.matrix)));const Bt=this.createPatternCanvas(Dt);let Gt=new DOMMatrix(qt);Gt=Gt.translate(Bt.offsetX,Bt.offsetY),Gt=Gt.scale(1/Bt.scaleX,1/Bt.scaleY);const en=$t.createPattern(Bt.canvas,"repeat");return en.setTransform(Gt),en}};Ur(Kt,"MAX_PATTERN_SIZE",3e3);let Xt=Kt;$.TilingPattern=Xt},(xt,$,ht)=>{Object.defineProperty($,"__esModule",{value:!0}),$.convertBlackAndWhiteToRGBA=St,$.convertToRGBA=At,$.grayToRGBA=Et;var vt=ht(1);function At(Rt){switch(Rt.kind){case vt.ImageKind.GRAYSCALE_1BPP:return St(Rt);case vt.ImageKind.RGB_24BPP:return kt(Rt)}return null}function St({src:Rt,srcPos:wt=0,dest:_t,width:Pt,height:_e,nonBlackColor:bt=4294967295,inverseDecode:Ft=!1}){const Xt=vt.FeatureTest.isLittleEndian?4278190080:255,[Kt,Nt]=Ft?[bt,Xt]:[Xt,bt],$t=Pt>>3,Dt=Pt&7,jt=Rt.length;_t=new Uint32Array(_t.buffer);let Ct=0;for(let qt=0;qt<_e;qt++){for(const Gt=wt+$t;wt<Gt;wt++){const en=wt<jt?Rt[wt]:255;_t[Ct++]=en&128?Nt:Kt,_t[Ct++]=en&64?Nt:Kt,_t[Ct++]=en&32?Nt:Kt,_t[Ct++]=en&16?Nt:Kt,_t[Ct++]=en&8?Nt:Kt,_t[Ct++]=en&4?Nt:Kt,_t[Ct++]=en&2?Nt:Kt,_t[Ct++]=en&1?Nt:Kt}if(Dt===0)continue;const Bt=wt<jt?Rt[wt++]:255;for(let Gt=0;Gt<Dt;Gt++)_t[Ct++]=Bt&1<<7-Gt?Nt:Kt}return{srcPos:wt,destPos:Ct}}function kt({src:Rt,srcPos:wt=0,dest:_t,destPos:Pt=0,width:_e,height:bt}){let Ft=0;const Xt=Rt.length>>2,Kt=new Uint32Array(Rt.buffer,wt,Xt);if(vt.FeatureTest.isLittleEndian){for(;Ft<Xt-2;Ft+=3,Pt+=4){const Nt=Kt[Ft],$t=Kt[Ft+1],Dt=Kt[Ft+2];_t[Pt]=Nt|4278190080,_t[Pt+1]=Nt>>>24|$t<<8|4278190080,_t[Pt+2]=$t>>>16|Dt<<16|4278190080,_t[Pt+3]=Dt>>>8|4278190080}for(let Nt=Ft*4,$t=Rt.length;Nt<$t;Nt+=3)_t[Pt++]=Rt[Nt]|Rt[Nt+1]<<8|Rt[Nt+2]<<16|4278190080}else{for(;Ft<Xt-2;Ft+=3,Pt+=4){const Nt=Kt[Ft],$t=Kt[Ft+1],Dt=Kt[Ft+2];_t[Pt]=Nt|255,_t[Pt+1]=Nt<<24|$t>>>8|255,_t[Pt+2]=$t<<16|Dt>>>16|255,_t[Pt+3]=Dt<<8|255}for(let Nt=Ft*4,$t=Rt.length;Nt<$t;Nt+=3)_t[Pt++]=Rt[Nt]<<24|Rt[Nt+1]<<16|Rt[Nt+2]<<8|255}return{srcPos:wt,destPos:Pt}}function Et(Rt,wt){if(vt.FeatureTest.isLittleEndian)for(let _t=0,Pt=Rt.length;_t<Pt;_t++)wt[_t]=Rt[_t]*65793|4278190080;else for(let _t=0,Pt=Rt.length;_t<Pt;_t++)wt[_t]=Rt[_t]*16843008|255}},(xt,$)=>{Object.defineProperty($,"__esModule",{value:!0}),$.GlobalWorkerOptions=void 0;const ht=Object.create(null);$.GlobalWorkerOptions=ht,ht.workerPort=null,ht.workerSrc=""},(xt,$,ht)=>{var Rt,H8,z8,_2;Object.defineProperty($,"__esModule",{value:!0}),$.MessageHandler=void 0;var vt=ht(1);const At={UNKNOWN:0,DATA:1,ERROR:2},St={UNKNOWN:0,CANCEL:1,CANCEL_COMPLETE:2,CLOSE:3,ENQUEUE:4,ERROR:5,PULL:6,PULL_COMPLETE:7,START_COMPLETE:8};function kt(_e){switch(_e instanceof Error||typeof _e=="object"&&_e!==null||(0,vt.unreachable)('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),_e.name){case"AbortException":return new vt.AbortException(_e.message);case"MissingPDFException":return new vt.MissingPDFException(_e.message);case"PasswordException":return new vt.PasswordException(_e.message,_e.code);case"UnexpectedResponseException":return new vt.UnexpectedResponseException(_e.message,_e.status);case"UnknownErrorException":return new vt.UnknownErrorException(_e.message,_e.details);default:return new vt.UnknownErrorException(_e.message,_e.toString())}}class Et{constructor(bt,Ft,Xt){Nn(this,Rt);this.sourceName=bt,this.targetName=Ft,this.comObj=Xt,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),this._onComObjOnMessage=Kt=>{const Nt=Kt.data;if(Nt.targetName!==this.sourceName)return;if(Nt.stream){On(this,Rt,z8).call(this,Nt);return}if(Nt.callback){const Dt=Nt.callbackId,jt=this.callbackCapabilities[Dt];if(!jt)throw new Error(`Cannot resolve callback ${Dt}`);if(delete this.callbackCapabilities[Dt],Nt.callback===At.DATA)jt.resolve(Nt.data);else if(Nt.callback===At.ERROR)jt.reject(kt(Nt.reason));else throw new Error("Unexpected callback case");return}const $t=this.actionHandler[Nt.action];if(!$t)throw new Error(`Unknown action from worker: ${Nt.action}`);if(Nt.callbackId){const Dt=this.sourceName,jt=Nt.sourceName;new Promise(function(Ct){Ct($t(Nt.data))}).then(function(Ct){Xt.postMessage({sourceName:Dt,targetName:jt,callback:At.DATA,callbackId:Nt.callbackId,data:Ct})},function(Ct){Xt.postMessage({sourceName:Dt,targetName:jt,callback:At.ERROR,callbackId:Nt.callbackId,reason:kt(Ct)})});return}if(Nt.streamId){On(this,Rt,H8).call(this,Nt);return}$t(Nt.data)},Xt.addEventListener("message",this._onComObjOnMessage)}on(bt,Ft){const Xt=this.actionHandler;if(Xt[bt])throw new Error(`There is already an actionName called "${bt}"`);Xt[bt]=Ft}send(bt,Ft,Xt){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:bt,data:Ft},Xt)}sendWithPromise(bt,Ft,Xt){const Kt=this.callbackId++,Nt=new vt.PromiseCapability;this.callbackCapabilities[Kt]=Nt;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:bt,callbackId:Kt,data:Ft},Xt)}catch($t){Nt.reject($t)}return Nt.promise}sendWithStream(bt,Ft,Xt,Kt){const Nt=this.streamId++,$t=this.sourceName,Dt=this.targetName,jt=this.comObj;return new ReadableStream({start:Ct=>{const qt=new vt.PromiseCapability;return this.streamControllers[Nt]={controller:Ct,startCall:qt,pullCall:null,cancelCall:null,isClosed:!1},jt.postMessage({sourceName:$t,targetName:Dt,action:bt,streamId:Nt,data:Ft,desiredSize:Ct.desiredSize},Kt),qt.promise},pull:Ct=>{const qt=new vt.PromiseCapability;return this.streamControllers[Nt].pullCall=qt,jt.postMessage({sourceName:$t,targetName:Dt,stream:St.PULL,streamId:Nt,desiredSize:Ct.desiredSize}),qt.promise},cancel:Ct=>{(0,vt.assert)(Ct instanceof Error,"cancel must have a valid reason");const qt=new vt.PromiseCapability;return this.streamControllers[Nt].cancelCall=qt,this.streamControllers[Nt].isClosed=!0,jt.postMessage({sourceName:$t,targetName:Dt,stream:St.CANCEL,streamId:Nt,reason:kt(Ct)}),qt.promise}},Xt)}destroy(){this.comObj.removeEventListener("message",this._onComObjOnMessage)}}Rt=new WeakSet,H8=function(bt){const Ft=bt.streamId,Xt=this.sourceName,Kt=bt.sourceName,Nt=this.comObj,$t=this,Dt=this.actionHandler[bt.action],jt={enqueue(Ct,qt=1,Bt){if(this.isCancelled)return;const Gt=this.desiredSize;this.desiredSize-=qt,Gt>0&&this.desiredSize<=0&&(this.sinkCapability=new vt.PromiseCapability,this.ready=this.sinkCapability.promise),Nt.postMessage({sourceName:Xt,targetName:Kt,stream:St.ENQUEUE,streamId:Ft,chunk:Ct},Bt)},close(){this.isCancelled||(this.isCancelled=!0,Nt.postMessage({sourceName:Xt,targetName:Kt,stream:St.CLOSE,streamId:Ft}),delete $t.streamSinks[Ft])},error(Ct){(0,vt.assert)(Ct instanceof Error,"error must have a valid reason"),!this.isCancelled&&(this.isCancelled=!0,Nt.postMessage({sourceName:Xt,targetName:Kt,stream:St.ERROR,streamId:Ft,reason:kt(Ct)}))},sinkCapability:new vt.PromiseCapability,onPull:null,onCancel:null,isCancelled:!1,desiredSize:bt.desiredSize,ready:null};jt.sinkCapability.resolve(),jt.ready=jt.sinkCapability.promise,this.streamSinks[Ft]=jt,new Promise(function(Ct){Ct(Dt(bt.data,jt))}).then(function(){Nt.postMessage({sourceName:Xt,targetName:Kt,stream:St.START_COMPLETE,streamId:Ft,success:!0})},function(Ct){Nt.postMessage({sourceName:Xt,targetName:Kt,stream:St.START_COMPLETE,streamId:Ft,reason:kt(Ct)})})},z8=function(bt){const Ft=bt.streamId,Xt=this.sourceName,Kt=bt.sourceName,Nt=this.comObj,$t=this.streamControllers[Ft],Dt=this.streamSinks[Ft];switch(bt.stream){case St.START_COMPLETE:bt.success?$t.startCall.resolve():$t.startCall.reject(kt(bt.reason));break;case St.PULL_COMPLETE:bt.success?$t.pullCall.resolve():$t.pullCall.reject(kt(bt.reason));break;case St.PULL:if(!Dt){Nt.postMessage({sourceName:Xt,targetName:Kt,stream:St.PULL_COMPLETE,streamId:Ft,success:!0});break}Dt.desiredSize<=0&&bt.desiredSize>0&&Dt.sinkCapability.resolve(),Dt.desiredSize=bt.desiredSize,new Promise(function(jt){var Ct;jt((Ct=Dt.onPull)==null?void 0:Ct.call(Dt))}).then(function(){Nt.postMessage({sourceName:Xt,targetName:Kt,stream:St.PULL_COMPLETE,streamId:Ft,success:!0})},function(jt){Nt.postMessage({sourceName:Xt,targetName:Kt,stream:St.PULL_COMPLETE,streamId:Ft,reason:kt(jt)})});break;case St.ENQUEUE:if((0,vt.assert)($t,"enqueue should have stream controller"),$t.isClosed)break;$t.controller.enqueue(bt.chunk);break;case St.CLOSE:if((0,vt.assert)($t,"close should have stream controller"),$t.isClosed)break;$t.isClosed=!0,$t.controller.close(),On(this,Rt,_2).call(this,$t,Ft);break;case St.ERROR:(0,vt.assert)($t,"error should have stream controller"),$t.controller.error(kt(bt.reason)),On(this,Rt,_2).call(this,$t,Ft);break;case St.CANCEL_COMPLETE:bt.success?$t.cancelCall.resolve():$t.cancelCall.reject(kt(bt.reason)),On(this,Rt,_2).call(this,$t,Ft);break;case St.CANCEL:if(!Dt)break;new Promise(function(jt){var Ct;jt((Ct=Dt.onCancel)==null?void 0:Ct.call(Dt,kt(bt.reason)))}).then(function(){Nt.postMessage({sourceName:Xt,targetName:Kt,stream:St.CANCEL_COMPLETE,streamId:Ft,success:!0})},function(jt){Nt.postMessage({sourceName:Xt,targetName:Kt,stream:St.CANCEL_COMPLETE,streamId:Ft,reason:kt(jt)})}),Dt.sinkCapability.reject(kt(bt.reason)),Dt.isCancelled=!0,delete this.streamSinks[Ft];break;default:throw new Error("Unexpected stream case")}},_2=async function(bt,Ft){var Xt,Kt,Nt;await Promise.allSettled([(Xt=bt.startCall)==null?void 0:Xt.promise,(Kt=bt.pullCall)==null?void 0:Kt.promise,(Nt=bt.cancelCall)==null?void 0:Nt.promise]),delete this.streamControllers[Ft]},$.MessageHandler=Et},(xt,$,ht)=>{var St,kt;Object.defineProperty($,"__esModule",{value:!0}),$.Metadata=void 0;var vt=ht(1);class At{constructor({parsedData:Rt,rawData:wt}){Nn(this,St);Nn(this,kt);$n(this,St,Rt),$n(this,kt,wt)}getRaw(){return Mt(this,kt)}get(Rt){return Mt(this,St).get(Rt)??null}getAll(){return(0,vt.objectFromMap)(Mt(this,St))}has(Rt){return Mt(this,St).has(Rt)}}St=new WeakMap,kt=new WeakMap,$.Metadata=At},(xt,$,ht)=>{var Rt,wt,_t,Pt,_e,bt,T3;Object.defineProperty($,"__esModule",{value:!0}),$.OptionalContentConfig=void 0;var vt=ht(1),At=ht(8);const St=Symbol("INTERNAL");class kt{constructor(Kt,Nt){Nn(this,Rt,!0);this.name=Kt,this.intent=Nt}get visible(){return Mt(this,Rt)}_setVisible(Kt,Nt){Kt!==St&&(0,vt.unreachable)("Internal method `_setVisible` called."),$n(this,Rt,Nt)}}Rt=new WeakMap;class Et{constructor(Kt){Nn(this,bt);Nn(this,wt,null);Nn(this,_t,new Map);Nn(this,Pt,null);Nn(this,_e,null);if(this.name=null,this.creator=null,Kt!==null){this.name=Kt.name,this.creator=Kt.creator,$n(this,_e,Kt.order);for(const Nt of Kt.groups)Mt(this,_t).set(Nt.id,new kt(Nt.name,Nt.intent));if(Kt.baseState==="OFF")for(const Nt of Mt(this,_t).values())Nt._setVisible(St,!1);for(const Nt of Kt.on)Mt(this,_t).get(Nt)._setVisible(St,!0);for(const Nt of Kt.off)Mt(this,_t).get(Nt)._setVisible(St,!1);$n(this,Pt,this.getHash())}}isVisible(Kt){if(Mt(this,_t).size===0)return!0;if(!Kt)return(0,vt.warn)("Optional content group not defined."),!0;if(Kt.type==="OCG")return Mt(this,_t).has(Kt.id)?Mt(this,_t).get(Kt.id).visible:((0,vt.warn)(`Optional content group not found: ${Kt.id}`),!0);if(Kt.type==="OCMD"){if(Kt.expression)return On(this,bt,T3).call(this,Kt.expression);if(!Kt.policy||Kt.policy==="AnyOn"){for(const Nt of Kt.ids){if(!Mt(this,_t).has(Nt))return(0,vt.warn)(`Optional content group not found: ${Nt}`),!0;if(Mt(this,_t).get(Nt).visible)return!0}return!1}else if(Kt.policy==="AllOn"){for(const Nt of Kt.ids){if(!Mt(this,_t).has(Nt))return(0,vt.warn)(`Optional content group not found: ${Nt}`),!0;if(!Mt(this,_t).get(Nt).visible)return!1}return!0}else if(Kt.policy==="AnyOff"){for(const Nt of Kt.ids){if(!Mt(this,_t).has(Nt))return(0,vt.warn)(`Optional content group not found: ${Nt}`),!0;if(!Mt(this,_t).get(Nt).visible)return!0}return!1}else if(Kt.policy==="AllOff"){for(const Nt of Kt.ids){if(!Mt(this,_t).has(Nt))return(0,vt.warn)(`Optional content group not found: ${Nt}`),!0;if(Mt(this,_t).get(Nt).visible)return!1}return!0}return(0,vt.warn)(`Unknown optional content policy ${Kt.policy}.`),!0}return(0,vt.warn)(`Unknown group type ${Kt.type}.`),!0}setVisibility(Kt,Nt=!0){if(!Mt(this,_t).has(Kt)){(0,vt.warn)(`Optional content group not found: ${Kt}`);return}Mt(this,_t).get(Kt)._setVisible(St,!!Nt),$n(this,wt,null)}get hasInitialVisibility(){return Mt(this,Pt)===null||this.getHash()===Mt(this,Pt)}getOrder(){return Mt(this,_t).size?Mt(this,_e)?Mt(this,_e).slice():[...Mt(this,_t).keys()]:null}getGroups(){return Mt(this,_t).size>0?(0,vt.objectFromMap)(Mt(this,_t)):null}getGroup(Kt){return Mt(this,_t).get(Kt)||null}getHash(){if(Mt(this,wt)!==null)return Mt(this,wt);const Kt=new At.MurmurHash3_64;for(const[Nt,$t]of Mt(this,_t))Kt.update(`${Nt}:${$t.visible}`);return $n(this,wt,Kt.hexdigest())}}wt=new WeakMap,_t=new WeakMap,Pt=new WeakMap,_e=new WeakMap,bt=new WeakSet,T3=function(Kt){const Nt=Kt.length;if(Nt<2)return!0;const $t=Kt[0];for(let Dt=1;Dt<Nt;Dt++){const jt=Kt[Dt];let Ct;if(Array.isArray(jt))Ct=On(this,bt,T3).call(this,jt);else if(Mt(this,_t).has(jt))Ct=Mt(this,_t).get(jt).visible;else return(0,vt.warn)(`Optional content group not found: ${jt}`),!0;switch($t){case"And":if(!Ct)return!1;break;case"Or":if(Ct)return!0;break;case"Not":return!Ct;default:return!0}}return $t==="And"},$.OptionalContentConfig=Et},(xt,$,ht)=>{Object.defineProperty($,"__esModule",{value:!0}),$.PDFDataTransportStream=void 0;var vt=ht(1),At=ht(6);class St{constructor({length:wt,initialData:_t,progressiveDone:Pt=!1,contentDispositionFilename:_e=null,disableRange:bt=!1,disableStream:Ft=!1},Xt){if((0,vt.assert)(Xt,'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.'),this._queuedChunks=[],this._progressiveDone=Pt,this._contentDispositionFilename=_e,(_t==null?void 0:_t.length)>0){const Kt=_t instanceof Uint8Array&&_t.byteLength===_t.buffer.byteLength?_t.buffer:new Uint8Array(_t).buffer;this._queuedChunks.push(Kt)}this._pdfDataRangeTransport=Xt,this._isStreamingSupported=!Ft,this._isRangeSupported=!bt,this._contentLength=wt,this._fullRequestReader=null,this._rangeReaders=[],this._pdfDataRangeTransport.addRangeListener((Kt,Nt)=>{this._onReceiveData({begin:Kt,chunk:Nt})}),this._pdfDataRangeTransport.addProgressListener((Kt,Nt)=>{this._onProgress({loaded:Kt,total:Nt})}),this._pdfDataRangeTransport.addProgressiveReadListener(Kt=>{this._onReceiveData({chunk:Kt})}),this._pdfDataRangeTransport.addProgressiveDoneListener(()=>{this._onProgressiveDone()}),this._pdfDataRangeTransport.transportReady()}_onReceiveData({begin:wt,chunk:_t}){const Pt=_t instanceof Uint8Array&&_t.byteLength===_t.buffer.byteLength?_t.buffer:new Uint8Array(_t).buffer;if(wt===void 0)this._fullRequestReader?this._fullRequestReader._enqueue(Pt):this._queuedChunks.push(Pt);else{const _e=this._rangeReaders.some(function(bt){return bt._begin!==wt?!1:(bt._enqueue(Pt),!0)});(0,vt.assert)(_e,"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.")}}get _progressiveDataLength(){var wt;return((wt=this._fullRequestReader)==null?void 0:wt._loaded)??0}_onProgress(wt){var _t,Pt,_e,bt;wt.total===void 0?(Pt=(_t=this._rangeReaders[0])==null?void 0:_t.onProgress)==null||Pt.call(_t,{loaded:wt.loaded}):(bt=(_e=this._fullRequestReader)==null?void 0:_e.onProgress)==null||bt.call(_e,{loaded:wt.loaded,total:wt.total})}_onProgressiveDone(){var wt;(wt=this._fullRequestReader)==null||wt.progressiveDone(),this._progressiveDone=!0}_removeRangeReader(wt){const _t=this._rangeReaders.indexOf(wt);_t>=0&&this._rangeReaders.splice(_t,1)}getFullReader(){(0,vt.assert)(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");const wt=this._queuedChunks;return this._queuedChunks=null,new kt(this,wt,this._progressiveDone,this._contentDispositionFilename)}getRangeReader(wt,_t){if(_t<=this._progressiveDataLength)return null;const Pt=new Et(this,wt,_t);return this._pdfDataRangeTransport.requestDataRange(wt,_t),this._rangeReaders.push(Pt),Pt}cancelAllRequests(wt){var _t;(_t=this._fullRequestReader)==null||_t.cancel(wt);for(const Pt of this._rangeReaders.slice(0))Pt.cancel(wt);this._pdfDataRangeTransport.abort()}}$.PDFDataTransportStream=St;class kt{constructor(wt,_t,Pt=!1,_e=null){this._stream=wt,this._done=Pt||!1,this._filename=(0,At.isPdfFile)(_e)?_e:null,this._queuedChunks=_t||[],this._loaded=0;for(const bt of this._queuedChunks)this._loaded+=bt.byteLength;this._requests=[],this._headersReady=Promise.resolve(),wt._fullRequestReader=this,this.onProgress=null}_enqueue(wt){this._done||(this._requests.length>0?this._requests.shift().resolve({value:wt,done:!1}):this._queuedChunks.push(wt),this._loaded+=wt.byteLength)}get headersReady(){return this._headersReady}get filename(){return this._filename}get isRangeSupported(){return this._stream._isRangeSupported}get isStreamingSupported(){return this._stream._isStreamingSupported}get contentLength(){return this._stream._contentLength}async read(){if(this._queuedChunks.length>0)return{value:this._queuedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const wt=new vt.PromiseCapability;return this._requests.push(wt),wt.promise}cancel(wt){this._done=!0;for(const _t of this._requests)_t.resolve({value:void 0,done:!0});this._requests.length=0}progressiveDone(){this._done||(this._done=!0)}}class Et{constructor(wt,_t,Pt){this._stream=wt,this._begin=_t,this._end=Pt,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}_enqueue(wt){if(!this._done){if(this._requests.length===0)this._queuedChunk=wt;else{this._requests.shift().resolve({value:wt,done:!1});for(const Pt of this._requests)Pt.resolve({value:void 0,done:!0});this._requests.length=0}this._done=!0,this._stream._removeRangeReader(this)}}get isStreamingSupported(){return!1}async read(){if(this._queuedChunk){const _t=this._queuedChunk;return this._queuedChunk=null,{value:_t,done:!1}}if(this._done)return{value:void 0,done:!0};const wt=new vt.PromiseCapability;return this._requests.push(wt),wt.promise}cancel(wt){this._done=!0;for(const _t of this._requests)_t.resolve({value:void 0,done:!0});this._requests.length=0,this._stream._removeRangeReader(this)}}},(xt,$,ht)=>{Object.defineProperty($,"__esModule",{value:!0}),$.PDFFetchStream=void 0;var vt=ht(1),At=ht(20);function St(Pt,_e,bt){return{method:"GET",headers:Pt,signal:bt.signal,mode:"cors",credentials:_e?"include":"same-origin",redirect:"follow"}}function kt(Pt){const _e=new Headers;for(const bt in Pt){const Ft=Pt[bt];Ft!==void 0&&_e.append(bt,Ft)}return _e}function Et(Pt){return Pt instanceof Uint8Array?Pt.buffer:Pt instanceof ArrayBuffer?Pt:((0,vt.warn)(`getArrayBuffer - unexpected data format: ${Pt}`),new Uint8Array(Pt).buffer)}class Rt{constructor(_e){this.source=_e,this.isHttp=/^https?:/i.test(_e.url),this.httpHeaders=this.isHttp&&_e.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var _e;return((_e=this._fullRequestReader)==null?void 0:_e._loaded)??0}getFullReader(){return(0,vt.assert)(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once."),this._fullRequestReader=new wt(this),this._fullRequestReader}getRangeReader(_e,bt){if(bt<=this._progressiveDataLength)return null;const Ft=new _t(this,_e,bt);return this._rangeRequestReaders.push(Ft),Ft}cancelAllRequests(_e){var bt;(bt=this._fullRequestReader)==null||bt.cancel(_e);for(const Ft of this._rangeRequestReaders.slice(0))Ft.cancel(_e)}}$.PDFFetchStream=Rt;class wt{constructor(_e){this._stream=_e,this._reader=null,this._loaded=0,this._filename=null;const bt=_e.source;this._withCredentials=bt.withCredentials||!1,this._contentLength=bt.length,this._headersCapability=new vt.PromiseCapability,this._disableRange=bt.disableRange||!1,this._rangeChunkSize=bt.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._abortController=new AbortController,this._isStreamingSupported=!bt.disableStream,this._isRangeSupported=!bt.disableRange,this._headers=kt(this._stream.httpHeaders);const Ft=bt.url;fetch(Ft,St(this._headers,this._withCredentials,this._abortController)).then(Xt=>{if(!(0,At.validateResponseStatus)(Xt.status))throw(0,At.createResponseStatusError)(Xt.status,Ft);this._reader=Xt.body.getReader(),this._headersCapability.resolve();const Kt=Dt=>Xt.headers.get(Dt),{allowRangeRequests:Nt,suggestedLength:$t}=(0,At.validateRangeRequestCapabilities)({getResponseHeader:Kt,isHttp:this._stream.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=Nt,this._contentLength=$t||this._contentLength,this._filename=(0,At.extractFilenameFromHeader)(Kt),!this._isStreamingSupported&&this._isRangeSupported&&this.cancel(new vt.AbortException("Streaming is disabled."))}).catch(this._headersCapability.reject),this.onProgress=null}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var Ft;await this._headersCapability.promise;const{value:_e,done:bt}=await this._reader.read();return bt?{value:_e,done:bt}:(this._loaded+=_e.byteLength,(Ft=this.onProgress)==null||Ft.call(this,{loaded:this._loaded,total:this._contentLength}),{value:Et(_e),done:!1})}cancel(_e){var bt;(bt=this._reader)==null||bt.cancel(_e),this._abortController.abort()}}class _t{constructor(_e,bt,Ft){this._stream=_e,this._reader=null,this._loaded=0;const Xt=_e.source;this._withCredentials=Xt.withCredentials||!1,this._readCapability=new vt.PromiseCapability,this._isStreamingSupported=!Xt.disableStream,this._abortController=new AbortController,this._headers=kt(this._stream.httpHeaders),this._headers.append("Range",`bytes=${bt}-${Ft-1}`);const Kt=Xt.url;fetch(Kt,St(this._headers,this._withCredentials,this._abortController)).then(Nt=>{if(!(0,At.validateResponseStatus)(Nt.status))throw(0,At.createResponseStatusError)(Nt.status,Kt);this._readCapability.resolve(),this._reader=Nt.body.getReader()}).catch(this._readCapability.reject),this.onProgress=null}get isStreamingSupported(){return this._isStreamingSupported}async read(){var Ft;await this._readCapability.promise;const{value:_e,done:bt}=await this._reader.read();return bt?{value:_e,done:bt}:(this._loaded+=_e.byteLength,(Ft=this.onProgress)==null||Ft.call(this,{loaded:this._loaded}),{value:Et(_e),done:!1})}cancel(_e){var bt;(bt=this._reader)==null||bt.cancel(_e),this._abortController.abort()}}},(xt,$,ht)=>{Object.defineProperty($,"__esModule",{value:!0}),$.createResponseStatusError=Rt,$.extractFilenameFromHeader=Et,$.validateRangeRequestCapabilities=kt,$.validateResponseStatus=wt;var vt=ht(1),At=ht(21),St=ht(6);function kt({getResponseHeader:_t,isHttp:Pt,rangeChunkSize:_e,disableRange:bt}){const Ft={allowRangeRequests:!1,suggestedLength:void 0},Xt=parseInt(_t("Content-Length"),10);return!Number.isInteger(Xt)||(Ft.suggestedLength=Xt,Xt<=2*_e)||bt||!Pt||_t("Accept-Ranges")!=="bytes"||(_t("Content-Encoding")||"identity")!=="identity"||(Ft.allowRangeRequests=!0),Ft}function Et(_t){const Pt=_t("Content-Disposition");if(Pt){let _e=(0,At.getFilenameFromContentDispositionHeader)(Pt);if(_e.includes("%"))try{_e=decodeURIComponent(_e)}catch{}if((0,St.isPdfFile)(_e))return _e}return null}function Rt(_t,Pt){return _t===404||_t===0&&Pt.startsWith("file:")?new vt.MissingPDFException('Missing PDF "'+Pt+'".'):new vt.UnexpectedResponseException(`Unexpected server response (${_t}) while retrieving PDF "${Pt}".`,_t)}function wt(_t){return _t===200||_t===206}},(xt,$,ht)=>{Object.defineProperty($,"__esModule",{value:!0}),$.getFilenameFromContentDispositionHeader=At;var vt=ht(1);function At(St){let kt=!0,Et=Rt("filename\\*","i").exec(St);if(Et){Et=Et[1];let Xt=_e(Et);return Xt=unescape(Xt),Xt=bt(Xt),Xt=Ft(Xt),_t(Xt)}if(Et=Pt(St),Et){const Xt=Ft(Et);return _t(Xt)}if(Et=Rt("filename","i").exec(St),Et){Et=Et[1];let Xt=_e(Et);return Xt=Ft(Xt),_t(Xt)}function Rt(Xt,Kt){return new RegExp("(?:^|;)\\s*"+Xt+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',Kt)}function wt(Xt,Kt){if(Xt){if(!/^[\x00-\xFF]+$/.test(Kt))return Kt;try{const Nt=new TextDecoder(Xt,{fatal:!0}),$t=(0,vt.stringToBytes)(Kt);Kt=Nt.decode($t),kt=!1}catch{}}return Kt}function _t(Xt){return kt&&/[\x80-\xff]/.test(Xt)&&(Xt=wt("utf-8",Xt),kt&&(Xt=wt("iso-8859-1",Xt))),Xt}function Pt(Xt){const Kt=[];let Nt;const $t=Rt("filename\\*((?!0\\d)\\d+)(\\*?)","ig");for(;(Nt=$t.exec(Xt))!==null;){let[,jt,Ct,qt]=Nt;if(jt=parseInt(jt,10),jt in Kt){if(jt===0)break;continue}Kt[jt]=[Ct,qt]}const Dt=[];for(let jt=0;jt<Kt.length&&jt in Kt;++jt){let[Ct,qt]=Kt[jt];qt=_e(qt),Ct&&(qt=unescape(qt),jt===0&&(qt=bt(qt))),Dt.push(qt)}return Dt.join("")}function _e(Xt){if(Xt.startsWith('"')){const Kt=Xt.slice(1).split('\\"');for(let Nt=0;Nt<Kt.length;++Nt){const $t=Kt[Nt].indexOf('"');$t!==-1&&(Kt[Nt]=Kt[Nt].slice(0,$t),Kt.length=Nt+1),Kt[Nt]=Kt[Nt].replaceAll(/\\(.)/g,"$1")}Xt=Kt.join('"')}return Xt}function bt(Xt){const Kt=Xt.indexOf("'");if(Kt===-1)return Xt;const Nt=Xt.slice(0,Kt),Dt=Xt.slice(Kt+1).replace(/^[^']*'/,"");return wt(Nt,Dt)}function Ft(Xt){return!Xt.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(Xt)?Xt:Xt.replaceAll(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,function(Kt,Nt,$t,Dt){if($t==="q"||$t==="Q")return Dt=Dt.replaceAll("_"," "),Dt=Dt.replaceAll(/=([0-9a-fA-F]{2})/g,function(jt,Ct){return String.fromCharCode(parseInt(Ct,16))}),wt(Nt,Dt);try{Dt=atob(Dt)}catch{}return wt(Nt,Dt)})}return""}},(xt,$,ht)=>{Object.defineProperty($,"__esModule",{value:!0}),$.PDFNetworkStream=void 0;var vt=ht(1),At=ht(20);const St=200,kt=206;function Et(_e){const bt=_e.response;return typeof bt!="string"?bt:(0,vt.stringToBytes)(bt).buffer}class Rt{constructor(bt,Ft={}){this.url=bt,this.isHttp=/^https?:/i.test(bt),this.httpHeaders=this.isHttp&&Ft.httpHeaders||Object.create(null),this.withCredentials=Ft.withCredentials||!1,this.currXhrId=0,this.pendingRequests=Object.create(null)}requestRange(bt,Ft,Xt){const Kt={begin:bt,end:Ft};for(const Nt in Xt)Kt[Nt]=Xt[Nt];return this.request(Kt)}requestFull(bt){return this.request(bt)}request(bt){const Ft=new XMLHttpRequest,Xt=this.currXhrId++,Kt=this.pendingRequests[Xt]={xhr:Ft};Ft.open("GET",this.url),Ft.withCredentials=this.withCredentials;for(const Nt in this.httpHeaders){const $t=this.httpHeaders[Nt];$t!==void 0&&Ft.setRequestHeader(Nt,$t)}return this.isHttp&&"begin"in bt&&"end"in bt?(Ft.setRequestHeader("Range",`bytes=${bt.begin}-${bt.end-1}`),Kt.expectedStatus=kt):Kt.expectedStatus=St,Ft.responseType="arraybuffer",bt.onError&&(Ft.onerror=function(Nt){bt.onError(Ft.status)}),Ft.onreadystatechange=this.onStateChange.bind(this,Xt),Ft.onprogress=this.onProgress.bind(this,Xt),Kt.onHeadersReceived=bt.onHeadersReceived,Kt.onDone=bt.onDone,Kt.onError=bt.onError,Kt.onProgress=bt.onProgress,Ft.send(null),Xt}onProgress(bt,Ft){var Kt;const Xt=this.pendingRequests[bt];Xt&&((Kt=Xt.onProgress)==null||Kt.call(Xt,Ft))}onStateChange(bt,Ft){var jt,Ct,qt;const Xt=this.pendingRequests[bt];if(!Xt)return;const Kt=Xt.xhr;if(Kt.readyState>=2&&Xt.onHeadersReceived&&(Xt.onHeadersReceived(),delete Xt.onHeadersReceived),Kt.readyState!==4||!(bt in this.pendingRequests))return;if(delete this.pendingRequests[bt],Kt.status===0&&this.isHttp){(jt=Xt.onError)==null||jt.call(Xt,Kt.status);return}const Nt=Kt.status||St;if(!(Nt===St&&Xt.expectedStatus===kt)&&Nt!==Xt.expectedStatus){(Ct=Xt.onError)==null||Ct.call(Xt,Kt.status);return}const Dt=Et(Kt);if(Nt===kt){const Bt=Kt.getResponseHeader("Content-Range"),Gt=/bytes (\d+)-(\d+)\/(\d+)/.exec(Bt);Xt.onDone({begin:parseInt(Gt[1],10),chunk:Dt})}else Dt?Xt.onDone({begin:0,chunk:Dt}):(qt=Xt.onError)==null||qt.call(Xt,Kt.status)}getRequestXhr(bt){return this.pendingRequests[bt].xhr}isPendingRequest(bt){return bt in this.pendingRequests}abortRequest(bt){const Ft=this.pendingRequests[bt].xhr;delete this.pendingRequests[bt],Ft.abort()}}class wt{constructor(bt){this._source=bt,this._manager=new Rt(bt.url,{httpHeaders:bt.httpHeaders,withCredentials:bt.withCredentials}),this._rangeChunkSize=bt.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}_onRangeRequestReaderClosed(bt){const Ft=this._rangeRequestReaders.indexOf(bt);Ft>=0&&this._rangeRequestReaders.splice(Ft,1)}getFullReader(){return(0,vt.assert)(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once."),this._fullRequestReader=new _t(this._manager,this._source),this._fullRequestReader}getRangeReader(bt,Ft){const Xt=new Pt(this._manager,bt,Ft);return Xt.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(Xt),Xt}cancelAllRequests(bt){var Ft;(Ft=this._fullRequestReader)==null||Ft.cancel(bt);for(const Xt of this._rangeRequestReaders.slice(0))Xt.cancel(bt)}}$.PDFNetworkStream=wt;class _t{constructor(bt,Ft){this._manager=bt;const Xt={onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=Ft.url,this._fullRequestId=bt.requestFull(Xt),this._headersReceivedCapability=new vt.PromiseCapability,this._disableRange=Ft.disableRange||!1,this._contentLength=Ft.length,this._rangeChunkSize=Ft.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}_onHeadersReceived(){const bt=this._fullRequestId,Ft=this._manager.getRequestXhr(bt),Xt=$t=>Ft.getResponseHeader($t),{allowRangeRequests:Kt,suggestedLength:Nt}=(0,At.validateRangeRequestCapabilities)({getResponseHeader:Xt,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});Kt&&(this._isRangeSupported=!0),this._contentLength=Nt||this._contentLength,this._filename=(0,At.extractFilenameFromHeader)(Xt),this._isRangeSupported&&this._manager.abortRequest(bt),this._headersReceivedCapability.resolve()}_onDone(bt){if(bt&&(this._requests.length>0?this._requests.shift().resolve({value:bt.chunk,done:!1}):this._cachedChunks.push(bt.chunk)),this._done=!0,!(this._cachedChunks.length>0)){for(const Ft of this._requests)Ft.resolve({value:void 0,done:!0});this._requests.length=0}}_onError(bt){this._storedError=(0,At.createResponseStatusError)(bt,this._url),this._headersReceivedCapability.reject(this._storedError);for(const Ft of this._requests)Ft.reject(this._storedError);this._requests.length=0,this._cachedChunks.length=0}_onProgress(bt){var Ft;(Ft=this.onProgress)==null||Ft.call(this,{loaded:bt.loaded,total:bt.lengthComputable?bt.total:this._contentLength})}get filename(){return this._filename}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}get contentLength(){return this._contentLength}get headersReady(){return this._headersReceivedCapability.promise}async read(){if(this._storedError)throw this._storedError;if(this._cachedChunks.length>0)return{value:this._cachedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const bt=new vt.PromiseCapability;return this._requests.push(bt),bt.promise}cancel(bt){this._done=!0,this._headersReceivedCapability.reject(bt);for(const Ft of this._requests)Ft.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}}class Pt{constructor(bt,Ft,Xt){this._manager=bt;const Kt={onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=bt.url,this._requestId=bt.requestRange(Ft,Xt,Kt),this._requests=[],this._queuedChunk=null,this._done=!1,this._storedError=void 0,this.onProgress=null,this.onClosed=null}_close(){var bt;(bt=this.onClosed)==null||bt.call(this,this)}_onDone(bt){const Ft=bt.chunk;this._requests.length>0?this._requests.shift().resolve({value:Ft,done:!1}):this._queuedChunk=Ft,this._done=!0;for(const Xt of this._requests)Xt.resolve({value:void 0,done:!0});this._requests.length=0,this._close()}_onError(bt){this._storedError=(0,At.createResponseStatusError)(bt,this._url);for(const Ft of this._requests)Ft.reject(this._storedError);this._requests.length=0,this._queuedChunk=null}_onProgress(bt){var Ft;this.isStreamingSupported||(Ft=this.onProgress)==null||Ft.call(this,{loaded:bt.loaded})}get isStreamingSupported(){return!1}async read(){if(this._storedError)throw this._storedError;if(this._queuedChunk!==null){const Ft=this._queuedChunk;return this._queuedChunk=null,{value:Ft,done:!1}}if(this._done)return{value:void 0,done:!0};const bt=new vt.PromiseCapability;return this._requests.push(bt),bt.promise}cancel(bt){this._done=!0;for(const Ft of this._requests)Ft.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}}},(xt,$,ht)=>{Object.defineProperty($,"__esModule",{value:!0}),$.PDFNodeStream=void 0;var vt=ht(1),At=ht(20);const St=/^file:\/\/\/[a-zA-Z]:\//;function kt(Xt){const Kt=require$$5,Nt=Kt.parse(Xt);return Nt.protocol==="file:"||Nt.host?Nt:/^[a-z]:[/\\]/i.test(Xt)?Kt.parse(`file:///${Xt}`):(Nt.host||(Nt.protocol="file:"),Nt)}class Et{constructor(Kt){this.source=Kt,this.url=kt(Kt.url),this.isHttp=this.url.protocol==="http:"||this.url.protocol==="https:",this.isFsUrl=this.url.protocol==="file:",this.httpHeaders=this.isHttp&&Kt.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var Kt;return((Kt=this._fullRequestReader)==null?void 0:Kt._loaded)??0}getFullReader(){return(0,vt.assert)(!this._fullRequestReader,"PDFNodeStream.getFullReader can only be called once."),this._fullRequestReader=this.isFsUrl?new bt(this):new Pt(this),this._fullRequestReader}getRangeReader(Kt,Nt){if(Nt<=this._progressiveDataLength)return null;const $t=this.isFsUrl?new Ft(this,Kt,Nt):new _e(this,Kt,Nt);return this._rangeRequestReaders.push($t),$t}cancelAllRequests(Kt){var Nt;(Nt=this._fullRequestReader)==null||Nt.cancel(Kt);for(const $t of this._rangeRequestReaders.slice(0))$t.cancel(Kt)}}$.PDFNodeStream=Et;class Rt{constructor(Kt){this._url=Kt.url,this._done=!1,this._storedError=null,this.onProgress=null;const Nt=Kt.source;this._contentLength=Nt.length,this._loaded=0,this._filename=null,this._disableRange=Nt.disableRange||!1,this._rangeChunkSize=Nt.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!Nt.disableStream,this._isRangeSupported=!Nt.disableRange,this._readableStream=null,this._readCapability=new vt.PromiseCapability,this._headersCapability=new vt.PromiseCapability}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var $t;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const Kt=this._readableStream.read();return Kt===null?(this._readCapability=new vt.PromiseCapability,this.read()):(this._loaded+=Kt.length,($t=this.onProgress)==null||$t.call(this,{loaded:this._loaded,total:this._contentLength}),{value:new Uint8Array(Kt).buffer,done:!1})}cancel(Kt){if(!this._readableStream){this._error(Kt);return}this._readableStream.destroy(Kt)}_error(Kt){this._storedError=Kt,this._readCapability.resolve()}_setReadableStream(Kt){this._readableStream=Kt,Kt.on("readable",()=>{this._readCapability.resolve()}),Kt.on("end",()=>{Kt.destroy(),this._done=!0,this._readCapability.resolve()}),Kt.on("error",Nt=>{this._error(Nt)}),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new vt.AbortException("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}}class wt{constructor(Kt){this._url=Kt.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=new vt.PromiseCapability;const Nt=Kt.source;this._isStreamingSupported=!Nt.disableStream}get isStreamingSupported(){return this._isStreamingSupported}async read(){var $t;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const Kt=this._readableStream.read();return Kt===null?(this._readCapability=new vt.PromiseCapability,this.read()):(this._loaded+=Kt.length,($t=this.onProgress)==null||$t.call(this,{loaded:this._loaded}),{value:new Uint8Array(Kt).buffer,done:!1})}cancel(Kt){if(!this._readableStream){this._error(Kt);return}this._readableStream.destroy(Kt)}_error(Kt){this._storedError=Kt,this._readCapability.resolve()}_setReadableStream(Kt){this._readableStream=Kt,Kt.on("readable",()=>{this._readCapability.resolve()}),Kt.on("end",()=>{Kt.destroy(),this._done=!0,this._readCapability.resolve()}),Kt.on("error",Nt=>{this._error(Nt)}),this._storedError&&this._readableStream.destroy(this._storedError)}}function _t(Xt,Kt){return{protocol:Xt.protocol,auth:Xt.auth,host:Xt.hostname,port:Xt.port,path:Xt.path,method:"GET",headers:Kt}}class Pt extends Rt{constructor(Kt){super(Kt);const Nt=$t=>{if($t.statusCode===404){const qt=new vt.MissingPDFException(`Missing PDF "${this._url}".`);this._storedError=qt,this._headersCapability.reject(qt);return}this._headersCapability.resolve(),this._setReadableStream($t);const Dt=qt=>this._readableStream.headers[qt.toLowerCase()],{allowRangeRequests:jt,suggestedLength:Ct}=(0,At.validateRangeRequestCapabilities)({getResponseHeader:Dt,isHttp:Kt.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=jt,this._contentLength=Ct||this._contentLength,this._filename=(0,At.extractFilenameFromHeader)(Dt)};if(this._request=null,this._url.protocol==="http:"){const $t=require$$5;this._request=$t.request(_t(this._url,Kt.httpHeaders),Nt)}else{const $t=require$$5;this._request=$t.request(_t(this._url,Kt.httpHeaders),Nt)}this._request.on("error",$t=>{this._storedError=$t,this._headersCapability.reject($t)}),this._request.end()}}class _e extends wt{constructor(Kt,Nt,$t){super(Kt),this._httpHeaders={};for(const jt in Kt.httpHeaders){const Ct=Kt.httpHeaders[jt];Ct!==void 0&&(this._httpHeaders[jt]=Ct)}this._httpHeaders.Range=`bytes=${Nt}-${$t-1}`;const Dt=jt=>{if(jt.statusCode===404){const Ct=new vt.MissingPDFException(`Missing PDF "${this._url}".`);this._storedError=Ct;return}this._setReadableStream(jt)};if(this._request=null,this._url.protocol==="http:"){const jt=require$$5;this._request=jt.request(_t(this._url,this._httpHeaders),Dt)}else{const jt=require$$5;this._request=jt.request(_t(this._url,this._httpHeaders),Dt)}this._request.on("error",jt=>{this._storedError=jt}),this._request.end()}}class bt extends Rt{constructor(Kt){super(Kt);let Nt=decodeURIComponent(this._url.path);St.test(this._url.href)&&(Nt=Nt.replace(/^\//,""));const $t=require$$5;$t.lstat(Nt,(Dt,jt)=>{if(Dt){Dt.code==="ENOENT"&&(Dt=new vt.MissingPDFException(`Missing PDF "${Nt}".`)),this._storedError=Dt,this._headersCapability.reject(Dt);return}this._contentLength=jt.size,this._setReadableStream($t.createReadStream(Nt)),this._headersCapability.resolve()})}}class Ft extends wt{constructor(Kt,Nt,$t){super(Kt);let Dt=decodeURIComponent(this._url.path);St.test(this._url.href)&&(Dt=Dt.replace(/^\//,""));const jt=require$$5;this._setReadableStream(jt.createReadStream(Dt,{start:Nt,end:$t-1}))}}},(xt,$,ht)=>{Object.defineProperty($,"__esModule",{value:!0}),$.SVGGraphics=void 0;var vt=ht(6),At=ht(1);const St={fontStyle:"normal",fontWeight:"normal",fillColor:"#000000"},kt="http://www.w3.org/XML/1998/namespace",Et="http://www.w3.org/1999/xlink",Rt=["butt","round","square"],wt=["miter","round","bevel"],_t=function(jt,Ct="",qt=!1){if(URL.createObjectURL&&typeof Blob<"u"&&!qt)return URL.createObjectURL(new Blob([jt],{type:Ct}));const Bt="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";let Gt=`data:${Ct};base64,`;for(let en=0,dn=jt.length;en<dn;en+=3){const Qt=jt[en]&255,gn=jt[en+1]&255,nn=jt[en+2]&255,bn=Qt>>2,Vt=(Qt&3)<<4|gn>>4,Yt=en+1<dn?(gn&15)<<2|nn>>6:64,hn=en+2<dn?nn&63:64;Gt+=Bt[bn]+Bt[Vt]+Bt[Yt]+Bt[hn]}return Gt},Pt=function(){const jt=new Uint8Array([137,80,78,71,13,10,26,10]),Ct=12,qt=new Int32Array(256);for(let nn=0;nn<256;nn++){let bn=nn;for(let Vt=0;Vt<8;Vt++)bn=bn&1?3988292384^bn>>1&2147483647:bn>>1&2147483647;qt[nn]=bn}function Bt(nn,bn,Vt){let Yt=-1;for(let hn=bn;hn<Vt;hn++){const Ut=(Yt^nn[hn])&255,Ot=qt[Ut];Yt=Yt>>>8^Ot}return Yt^-1}function Gt(nn,bn,Vt,Yt){let hn=Yt;const Ut=bn.length;Vt[hn]=Ut>>24&255,Vt[hn+1]=Ut>>16&255,Vt[hn+2]=Ut>>8&255,Vt[hn+3]=Ut&255,hn+=4,Vt[hn]=nn.charCodeAt(0)&255,Vt[hn+1]=nn.charCodeAt(1)&255,Vt[hn+2]=nn.charCodeAt(2)&255,Vt[hn+3]=nn.charCodeAt(3)&255,hn+=4,Vt.set(bn,hn),hn+=bn.length;const Ot=Bt(Vt,Yt+4,hn);Vt[hn]=Ot>>24&255,Vt[hn+1]=Ot>>16&255,Vt[hn+2]=Ot>>8&255,Vt[hn+3]=Ot&255}function en(nn,bn,Vt){let Yt=1,hn=0;for(let Ut=bn;Ut<Vt;++Ut)Yt=(Yt+(nn[Ut]&255))%65521,hn=(hn+Yt)%65521;return hn<<16|Yt}function dn(nn){if(!At.isNodeJS)return Qt(nn);try{const bn=parseInt(process.versions.node)>=8?nn:Buffer.from(nn),Vt=require$$5.deflateSync(bn,{level:9});return Vt instanceof Uint8Array?Vt:new Uint8Array(Vt)}catch(bn){(0,At.warn)("Not compressing PNG because zlib.deflateSync is unavailable: "+bn)}return Qt(nn)}function Qt(nn){let bn=nn.length;const Vt=65535,Yt=Math.ceil(bn/Vt),hn=new Uint8Array(2+bn+Yt*5+4);let Ut=0;hn[Ut++]=120,hn[Ut++]=156;let Ot=0;for(;bn>Vt;)hn[Ut++]=0,hn[Ut++]=255,hn[Ut++]=255,hn[Ut++]=0,hn[Ut++]=0,hn.set(nn.subarray(Ot,Ot+Vt),Ut),Ut+=Vt,Ot+=Vt,bn-=Vt;hn[Ut++]=1,hn[Ut++]=bn&255,hn[Ut++]=bn>>8&255,hn[Ut++]=~bn&65535&255,hn[Ut++]=(~bn&65535)>>8&255,hn.set(nn.subarray(Ot),Ut),Ut+=nn.length-Ot;const zt=en(nn,0,nn.length);return hn[Ut++]=zt>>24&255,hn[Ut++]=zt>>16&255,hn[Ut++]=zt>>8&255,hn[Ut++]=zt&255,hn}function gn(nn,bn,Vt,Yt){const hn=nn.width,Ut=nn.height;let Ot,zt,an;const Ht=nn.data;switch(bn){case At.ImageKind.GRAYSCALE_1BPP:zt=0,Ot=1,an=hn+7>>3;break;case At.ImageKind.RGB_24BPP:zt=2,Ot=8,an=hn*3;break;case At.ImageKind.RGBA_32BPP:zt=6,Ot=8,an=hn*4;break;default:throw new Error("invalid format")}const Wt=new Uint8Array((1+an)*Ut);let tn=0,ln=0;for(let vn=0;vn<Ut;++vn)Wt[tn++]=0,Wt.set(Ht.subarray(ln,ln+an),tn),ln+=an,tn+=an;if(bn===At.ImageKind.GRAYSCALE_1BPP&&Yt){tn=0;for(let vn=0;vn<Ut;vn++){tn++;for(let En=0;En<an;En++)Wt[tn++]^=255}}const on=new Uint8Array([hn>>24&255,hn>>16&255,hn>>8&255,hn&255,Ut>>24&255,Ut>>16&255,Ut>>8&255,Ut&255,Ot,zt,0,0,0]),cn=dn(Wt),sn=jt.length+Ct*3+on.length+cn.length,rn=new Uint8Array(sn);let xn=0;return rn.set(jt,xn),xn+=jt.length,Gt("IHDR",on,rn,xn),xn+=Ct+on.length,Gt("IDATA",cn,rn,xn),xn+=Ct+cn.length,Gt("IEND",new Uint8Array(0),rn,xn),_t(rn,"image/png",Vt)}return function(bn,Vt,Yt){const hn=bn.kind===void 0?At.ImageKind.GRAYSCALE_1BPP:bn.kind;return gn(bn,hn,Vt,Yt)}}();class _e{constructor(){this.fontSizeScale=1,this.fontWeight=St.fontWeight,this.fontSize=0,this.textMatrix=At.IDENTITY_MATRIX,this.fontMatrix=At.FONT_IDENTITY_MATRIX,this.leading=0,this.textRenderingMode=At.TextRenderingMode.FILL,this.textMatrixScale=1,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRise=0,this.fillColor=St.fillColor,this.strokeColor="#000000",this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.lineJoin="",this.lineCap="",this.miterLimit=0,this.dashArray=[],this.dashPhase=0,this.dependencies=[],this.activeClipUrl=null,this.clipGroup=null,this.maskId=""}clone(){return Object.create(this)}setCurrentPoint(Ct,qt){this.x=Ct,this.y=qt}}function bt(jt){let Ct=[];const qt=[];for(const Bt of jt){if(Bt.fn==="save"){Ct.push({fnId:92,fn:"group",items:[]}),qt.push(Ct),Ct=Ct.at(-1).items;continue}Bt.fn==="restore"?Ct=qt.pop():Ct.push(Bt)}return Ct}function Ft(jt){if(Number.isInteger(jt))return jt.toString();const Ct=jt.toFixed(10);let qt=Ct.length-1;if(Ct[qt]!=="0")return Ct;do qt--;while(Ct[qt]==="0");return Ct.substring(0,Ct[qt]==="."?qt:qt+1)}function Xt(jt){if(jt[4]===0&&jt[5]===0){if(jt[1]===0&&jt[2]===0)return jt[0]===1&&jt[3]===1?"":`scale(${Ft(jt[0])} ${Ft(jt[3])})`;if(jt[0]===jt[3]&&jt[1]===-jt[2]){const Ct=Math.acos(jt[0])*180/Math.PI;return`rotate(${Ft(Ct)})`}}else if(jt[0]===1&&jt[1]===0&&jt[2]===0&&jt[3]===1)return`translate(${Ft(jt[4])} ${Ft(jt[5])})`;return`matrix(${Ft(jt[0])} ${Ft(jt[1])} ${Ft(jt[2])} ${Ft(jt[3])} ${Ft(jt[4])} ${Ft(jt[5])})`}let Kt=0,Nt=0,$t=0;class Dt{constructor(Ct,qt,Bt=!1){(0,vt.deprecated)("The SVG back-end is no longer maintained and *may* be removed in the future."),this.svgFactory=new vt.DOMSVGFactory,this.current=new _e,this.transformMatrix=At.IDENTITY_MATRIX,this.transformStack=[],this.extraStack=[],this.commonObjs=Ct,this.objs=qt,this.pendingClip=null,this.pendingEOFill=!1,this.embedFonts=!1,this.embeddedFonts=Object.create(null),this.cssStyle=null,this.forceDataSchema=!!Bt,this._operatorIdMapping=[];for(const Gt in At.OPS)this._operatorIdMapping[At.OPS[Gt]]=Gt}getObject(Ct,qt=null){return typeof Ct=="string"?Ct.startsWith("g_")?this.commonObjs.get(Ct):this.objs.get(Ct):qt}save(){this.transformStack.push(this.transformMatrix);const Ct=this.current;this.extraStack.push(Ct),this.current=Ct.clone()}restore(){this.transformMatrix=this.transformStack.pop(),this.current=this.extraStack.pop(),this.pendingClip=null,this.tgrp=null}group(Ct){this.save(),this.executeOpTree(Ct),this.restore()}loadDependencies(Ct){const qt=Ct.fnArray,Bt=Ct.argsArray;for(let Gt=0,en=qt.length;Gt<en;Gt++)if(qt[Gt]===At.OPS.dependency)for(const dn of Bt[Gt]){const Qt=dn.startsWith("g_")?this.commonObjs:this.objs,gn=new Promise(nn=>{Qt.get(dn,nn)});this.current.dependencies.push(gn)}return Promise.all(this.current.dependencies)}transform(Ct,qt,Bt,Gt,en,dn){const Qt=[Ct,qt,Bt,Gt,en,dn];this.transformMatrix=At.Util.transform(this.transformMatrix,Qt),this.tgrp=null}getSVG(Ct,qt){this.viewport=qt;const Bt=this._initialize(qt);return this.loadDependencies(Ct).then(()=>(this.transformMatrix=At.IDENTITY_MATRIX,this.executeOpTree(this.convertOpList(Ct)),Bt))}convertOpList(Ct){const qt=this._operatorIdMapping,Bt=Ct.argsArray,Gt=Ct.fnArray,en=[];for(let dn=0,Qt=Gt.length;dn<Qt;dn++){const gn=Gt[dn];en.push({fnId:gn,fn:qt[gn],args:Bt[dn]})}return bt(en)}executeOpTree(Ct){for(const qt of Ct){const Bt=qt.fn,Gt=qt.fnId,en=qt.args;switch(Gt|0){case At.OPS.beginText:this.beginText();break;case At.OPS.dependency:break;case At.OPS.setLeading:this.setLeading(en);break;case At.OPS.setLeadingMoveText:this.setLeadingMoveText(en[0],en[1]);break;case At.OPS.setFont:this.setFont(en);break;case At.OPS.showText:this.showText(en[0]);break;case At.OPS.showSpacedText:this.showText(en[0]);break;case At.OPS.endText:this.endText();break;case At.OPS.moveText:this.moveText(en[0],en[1]);break;case At.OPS.setCharSpacing:this.setCharSpacing(en[0]);break;case At.OPS.setWordSpacing:this.setWordSpacing(en[0]);break;case At.OPS.setHScale:this.setHScale(en[0]);break;case At.OPS.setTextMatrix:this.setTextMatrix(en[0],en[1],en[2],en[3],en[4],en[5]);break;case At.OPS.setTextRise:this.setTextRise(en[0]);break;case At.OPS.setTextRenderingMode:this.setTextRenderingMode(en[0]);break;case At.OPS.setLineWidth:this.setLineWidth(en[0]);break;case At.OPS.setLineJoin:this.setLineJoin(en[0]);break;case At.OPS.setLineCap:this.setLineCap(en[0]);break;case At.OPS.setMiterLimit:this.setMiterLimit(en[0]);break;case At.OPS.setFillRGBColor:this.setFillRGBColor(en[0],en[1],en[2]);break;case At.OPS.setStrokeRGBColor:this.setStrokeRGBColor(en[0],en[1],en[2]);break;case At.OPS.setStrokeColorN:this.setStrokeColorN(en);break;case At.OPS.setFillColorN:this.setFillColorN(en);break;case At.OPS.shadingFill:this.shadingFill(en[0]);break;case At.OPS.setDash:this.setDash(en[0],en[1]);break;case At.OPS.setRenderingIntent:this.setRenderingIntent(en[0]);break;case At.OPS.setFlatness:this.setFlatness(en[0]);break;case At.OPS.setGState:this.setGState(en[0]);break;case At.OPS.fill:this.fill();break;case At.OPS.eoFill:this.eoFill();break;case At.OPS.stroke:this.stroke();break;case At.OPS.fillStroke:this.fillStroke();break;case At.OPS.eoFillStroke:this.eoFillStroke();break;case At.OPS.clip:this.clip("nonzero");break;case At.OPS.eoClip:this.clip("evenodd");break;case At.OPS.paintSolidColorImageMask:this.paintSolidColorImageMask();break;case At.OPS.paintImageXObject:this.paintImageXObject(en[0]);break;case At.OPS.paintInlineImageXObject:this.paintInlineImageXObject(en[0]);break;case At.OPS.paintImageMaskXObject:this.paintImageMaskXObject(en[0]);break;case At.OPS.paintFormXObjectBegin:this.paintFormXObjectBegin(en[0],en[1]);break;case At.OPS.paintFormXObjectEnd:this.paintFormXObjectEnd();break;case At.OPS.closePath:this.closePath();break;case At.OPS.closeStroke:this.closeStroke();break;case At.OPS.closeFillStroke:this.closeFillStroke();break;case At.OPS.closeEOFillStroke:this.closeEOFillStroke();break;case At.OPS.nextLine:this.nextLine();break;case At.OPS.transform:this.transform(en[0],en[1],en[2],en[3],en[4],en[5]);break;case At.OPS.constructPath:this.constructPath(en[0],en[1]);break;case At.OPS.endPath:this.endPath();break;case 92:this.group(qt.items);break;default:(0,At.warn)(`Unimplemented operator ${Bt}`);break}}}setWordSpacing(Ct){this.current.wordSpacing=Ct}setCharSpacing(Ct){this.current.charSpacing=Ct}nextLine(){this.moveText(0,this.current.leading)}setTextMatrix(Ct,qt,Bt,Gt,en,dn){const Qt=this.current;Qt.textMatrix=Qt.lineMatrix=[Ct,qt,Bt,Gt,en,dn],Qt.textMatrixScale=Math.hypot(Ct,qt),Qt.x=Qt.lineX=0,Qt.y=Qt.lineY=0,Qt.xcoords=[],Qt.ycoords=[],Qt.tspan=this.svgFactory.createElement("svg:tspan"),Qt.tspan.setAttributeNS(null,"font-family",Qt.fontFamily),Qt.tspan.setAttributeNS(null,"font-size",`${Ft(Qt.fontSize)}px`),Qt.tspan.setAttributeNS(null,"y",Ft(-Qt.y)),Qt.txtElement=this.svgFactory.createElement("svg:text"),Qt.txtElement.append(Qt.tspan)}beginText(){const Ct=this.current;Ct.x=Ct.lineX=0,Ct.y=Ct.lineY=0,Ct.textMatrix=At.IDENTITY_MATRIX,Ct.lineMatrix=At.IDENTITY_MATRIX,Ct.textMatrixScale=1,Ct.tspan=this.svgFactory.createElement("svg:tspan"),Ct.txtElement=this.svgFactory.createElement("svg:text"),Ct.txtgrp=this.svgFactory.createElement("svg:g"),Ct.xcoords=[],Ct.ycoords=[]}moveText(Ct,qt){const Bt=this.current;Bt.x=Bt.lineX+=Ct,Bt.y=Bt.lineY+=qt,Bt.xcoords=[],Bt.ycoords=[],Bt.tspan=this.svgFactory.createElement("svg:tspan"),Bt.tspan.setAttributeNS(null,"font-family",Bt.fontFamily),Bt.tspan.setAttributeNS(null,"font-size",`${Ft(Bt.fontSize)}px`),Bt.tspan.setAttributeNS(null,"y",Ft(-Bt.y))}showText(Ct){const qt=this.current,Bt=qt.font,Gt=qt.fontSize;if(Gt===0)return;const en=qt.fontSizeScale,dn=qt.charSpacing,Qt=qt.wordSpacing,gn=qt.fontDirection,nn=qt.textHScale*gn,bn=Bt.vertical,Vt=bn?1:-1,Yt=Bt.defaultVMetrics,hn=Gt*qt.fontMatrix[0];let Ut=0;for(const an of Ct){if(an===null){Ut+=gn*Qt;continue}else if(typeof an=="number"){Ut+=Vt*an*Gt/1e3;continue}const Ht=(an.isSpace?Qt:0)+dn,Wt=an.fontChar;let tn,ln,on=an.width;if(bn){let sn;const rn=an.vmetric||Yt;sn=an.vmetric?rn[1]:on*.5,sn=-sn*hn;const xn=rn[2]*hn;on=rn?-rn[0]:on,tn=sn/en,ln=(Ut+xn)/en}else tn=Ut/en,ln=0;(an.isInFont||Bt.missingFile)&&(qt.xcoords.push(qt.x+tn),bn&&qt.ycoords.push(-qt.y+ln),qt.tspan.textContent+=Wt);const cn=bn?on*hn-Ht*gn:on*hn+Ht*gn;Ut+=cn}qt.tspan.setAttributeNS(null,"x",qt.xcoords.map(Ft).join(" ")),bn?qt.tspan.setAttributeNS(null,"y",qt.ycoords.map(Ft).join(" ")):qt.tspan.setAttributeNS(null,"y",Ft(-qt.y)),bn?qt.y-=Ut:qt.x+=Ut*nn,qt.tspan.setAttributeNS(null,"font-family",qt.fontFamily),qt.tspan.setAttributeNS(null,"font-size",`${Ft(qt.fontSize)}px`),qt.fontStyle!==St.fontStyle&&qt.tspan.setAttributeNS(null,"font-style",qt.fontStyle),qt.fontWeight!==St.fontWeight&&qt.tspan.setAttributeNS(null,"font-weight",qt.fontWeight);const Ot=qt.textRenderingMode&At.TextRenderingMode.FILL_STROKE_MASK;if(Ot===At.TextRenderingMode.FILL||Ot===At.TextRenderingMode.FILL_STROKE?(qt.fillColor!==St.fillColor&&qt.tspan.setAttributeNS(null,"fill",qt.fillColor),qt.fillAlpha<1&&qt.tspan.setAttributeNS(null,"fill-opacity",qt.fillAlpha)):qt.textRenderingMode===At.TextRenderingMode.ADD_TO_PATH?qt.tspan.setAttributeNS(null,"fill","transparent"):qt.tspan.setAttributeNS(null,"fill","none"),Ot===At.TextRenderingMode.STROKE||Ot===At.TextRenderingMode.FILL_STROKE){const an=1/(qt.textMatrixScale||1);this._setStrokeAttributes(qt.tspan,an)}let zt=qt.textMatrix;qt.textRise!==0&&(zt=zt.slice(),zt[5]+=qt.textRise),qt.txtElement.setAttributeNS(null,"transform",`${Xt(zt)} scale(${Ft(nn)}, -1)`),qt.txtElement.setAttributeNS(kt,"xml:space","preserve"),qt.txtElement.append(qt.tspan),qt.txtgrp.append(qt.txtElement),this._ensureTransformGroup().append(qt.txtElement)}setLeadingMoveText(Ct,qt){this.setLeading(-qt),this.moveText(Ct,qt)}addFontStyle(Ct){if(!Ct.data)throw new Error('addFontStyle: No font data available, ensure that the "fontExtraProperties" API parameter is set.');this.cssStyle||(this.cssStyle=this.svgFactory.createElement("svg:style"),this.cssStyle.setAttributeNS(null,"type","text/css"),this.defs.append(this.cssStyle));const qt=_t(Ct.data,Ct.mimetype,this.forceDataSchema);this.cssStyle.textContent+=`@font-face { font-family: "${Ct.loadedName}"; src: url(${qt}); }
`}setFont(Ct){const qt=this.current,Bt=this.commonObjs.get(Ct[0]);let Gt=Ct[1];qt.font=Bt,this.embedFonts&&!Bt.missingFile&&!this.embeddedFonts[Bt.loadedName]&&(this.addFontStyle(Bt),this.embeddedFonts[Bt.loadedName]=Bt),qt.fontMatrix=Bt.fontMatrix||At.FONT_IDENTITY_MATRIX;let en="normal";Bt.black?en="900":Bt.bold&&(en="bold");const dn=Bt.italic?"italic":"normal";Gt<0?(Gt=-Gt,qt.fontDirection=-1):qt.fontDirection=1,qt.fontSize=Gt,qt.fontFamily=Bt.loadedName,qt.fontWeight=en,qt.fontStyle=dn,qt.tspan=this.svgFactory.createElement("svg:tspan"),qt.tspan.setAttributeNS(null,"y",Ft(-qt.y)),qt.xcoords=[],qt.ycoords=[]}endText(){var qt;const Ct=this.current;Ct.textRenderingMode&At.TextRenderingMode.ADD_TO_PATH_FLAG&&((qt=Ct.txtElement)!=null&&qt.hasChildNodes())&&(Ct.element=Ct.txtElement,this.clip("nonzero"),this.endPath())}setLineWidth(Ct){Ct>0&&(this.current.lineWidth=Ct)}setLineCap(Ct){this.current.lineCap=Rt[Ct]}setLineJoin(Ct){this.current.lineJoin=wt[Ct]}setMiterLimit(Ct){this.current.miterLimit=Ct}setStrokeAlpha(Ct){this.current.strokeAlpha=Ct}setStrokeRGBColor(Ct,qt,Bt){this.current.strokeColor=At.Util.makeHexColor(Ct,qt,Bt)}setFillAlpha(Ct){this.current.fillAlpha=Ct}setFillRGBColor(Ct,qt,Bt){this.current.fillColor=At.Util.makeHexColor(Ct,qt,Bt),this.current.tspan=this.svgFactory.createElement("svg:tspan"),this.current.xcoords=[],this.current.ycoords=[]}setStrokeColorN(Ct){this.current.strokeColor=this._makeColorN_Pattern(Ct)}setFillColorN(Ct){this.current.fillColor=this._makeColorN_Pattern(Ct)}shadingFill(Ct){const{width:qt,height:Bt}=this.viewport,Gt=At.Util.inverseTransform(this.transformMatrix),[en,dn,Qt,gn]=At.Util.getAxialAlignedBoundingBox([0,0,qt,Bt],Gt),nn=this.svgFactory.createElement("svg:rect");nn.setAttributeNS(null,"x",en),nn.setAttributeNS(null,"y",dn),nn.setAttributeNS(null,"width",Qt-en),nn.setAttributeNS(null,"height",gn-dn),nn.setAttributeNS(null,"fill",this._makeShadingPattern(Ct)),this.current.fillAlpha<1&&nn.setAttributeNS(null,"fill-opacity",this.current.fillAlpha),this._ensureTransformGroup().append(nn)}_makeColorN_Pattern(Ct){return Ct[0]==="TilingPattern"?this._makeTilingPattern(Ct):this._makeShadingPattern(Ct)}_makeTilingPattern(Ct){const qt=Ct[1],Bt=Ct[2],Gt=Ct[3]||At.IDENTITY_MATRIX,[en,dn,Qt,gn]=Ct[4],nn=Ct[5],bn=Ct[6],Vt=Ct[7],Yt=`shading${$t++}`,[hn,Ut,Ot,zt]=At.Util.normalizeRect([...At.Util.applyTransform([en,dn],Gt),...At.Util.applyTransform([Qt,gn],Gt)]),[an,Ht]=At.Util.singularValueDecompose2dScale(Gt),Wt=nn*an,tn=bn*Ht,ln=this.svgFactory.createElement("svg:pattern");ln.setAttributeNS(null,"id",Yt),ln.setAttributeNS(null,"patternUnits","userSpaceOnUse"),ln.setAttributeNS(null,"width",Wt),ln.setAttributeNS(null,"height",tn),ln.setAttributeNS(null,"x",`${hn}`),ln.setAttributeNS(null,"y",`${Ut}`);const on=this.svg,cn=this.transformMatrix,sn=this.current.fillColor,rn=this.current.strokeColor,xn=this.svgFactory.create(Ot-hn,zt-Ut);if(this.svg=xn,this.transformMatrix=Gt,Vt===2){const vn=At.Util.makeHexColor(...qt);this.current.fillColor=vn,this.current.strokeColor=vn}return this.executeOpTree(this.convertOpList(Bt)),this.svg=on,this.transformMatrix=cn,this.current.fillColor=sn,this.current.strokeColor=rn,ln.append(xn.childNodes[0]),this.defs.append(ln),`url(#${Yt})`}_makeShadingPattern(Ct){switch(typeof Ct=="string"&&(Ct=this.objs.get(Ct)),Ct[0]){case"RadialAxial":const qt=`shading${$t++}`,Bt=Ct[3];let Gt;switch(Ct[1]){case"axial":const en=Ct[4],dn=Ct[5];Gt=this.svgFactory.createElement("svg:linearGradient"),Gt.setAttributeNS(null,"id",qt),Gt.setAttributeNS(null,"gradientUnits","userSpaceOnUse"),Gt.setAttributeNS(null,"x1",en[0]),Gt.setAttributeNS(null,"y1",en[1]),Gt.setAttributeNS(null,"x2",dn[0]),Gt.setAttributeNS(null,"y2",dn[1]);break;case"radial":const Qt=Ct[4],gn=Ct[5],nn=Ct[6],bn=Ct[7];Gt=this.svgFactory.createElement("svg:radialGradient"),Gt.setAttributeNS(null,"id",qt),Gt.setAttributeNS(null,"gradientUnits","userSpaceOnUse"),Gt.setAttributeNS(null,"cx",gn[0]),Gt.setAttributeNS(null,"cy",gn[1]),Gt.setAttributeNS(null,"r",bn),Gt.setAttributeNS(null,"fx",Qt[0]),Gt.setAttributeNS(null,"fy",Qt[1]),Gt.setAttributeNS(null,"fr",nn);break;default:throw new Error(`Unknown RadialAxial type: ${Ct[1]}`)}for(const en of Bt){const dn=this.svgFactory.createElement("svg:stop");dn.setAttributeNS(null,"offset",en[0]),dn.setAttributeNS(null,"stop-color",en[1]),Gt.append(dn)}return this.defs.append(Gt),`url(#${qt})`;case"Mesh":return(0,At.warn)("Unimplemented pattern Mesh"),null;case"Dummy":return"hotpink";default:throw new Error(`Unknown IR type: ${Ct[0]}`)}}setDash(Ct,qt){this.current.dashArray=Ct,this.current.dashPhase=qt}constructPath(Ct,qt){const Bt=this.current;let Gt=Bt.x,en=Bt.y,dn=[],Qt=0;for(const gn of Ct)switch(gn|0){case At.OPS.rectangle:Gt=qt[Qt++],en=qt[Qt++];const nn=qt[Qt++],bn=qt[Qt++],Vt=Gt+nn,Yt=en+bn;dn.push("M",Ft(Gt),Ft(en),"L",Ft(Vt),Ft(en),"L",Ft(Vt),Ft(Yt),"L",Ft(Gt),Ft(Yt),"Z");break;case At.OPS.moveTo:Gt=qt[Qt++],en=qt[Qt++],dn.push("M",Ft(Gt),Ft(en));break;case At.OPS.lineTo:Gt=qt[Qt++],en=qt[Qt++],dn.push("L",Ft(Gt),Ft(en));break;case At.OPS.curveTo:Gt=qt[Qt+4],en=qt[Qt+5],dn.push("C",Ft(qt[Qt]),Ft(qt[Qt+1]),Ft(qt[Qt+2]),Ft(qt[Qt+3]),Ft(Gt),Ft(en)),Qt+=6;break;case At.OPS.curveTo2:dn.push("C",Ft(Gt),Ft(en),Ft(qt[Qt]),Ft(qt[Qt+1]),Ft(qt[Qt+2]),Ft(qt[Qt+3])),Gt=qt[Qt+2],en=qt[Qt+3],Qt+=4;break;case At.OPS.curveTo3:Gt=qt[Qt+2],en=qt[Qt+3],dn.push("C",Ft(qt[Qt]),Ft(qt[Qt+1]),Ft(Gt),Ft(en),Ft(Gt),Ft(en)),Qt+=4;break;case At.OPS.closePath:dn.push("Z");break}dn=dn.join(" "),Bt.path&&Ct.length>0&&Ct[0]!==At.OPS.rectangle&&Ct[0]!==At.OPS.moveTo?dn=Bt.path.getAttributeNS(null,"d")+dn:(Bt.path=this.svgFactory.createElement("svg:path"),this._ensureTransformGroup().append(Bt.path)),Bt.path.setAttributeNS(null,"d",dn),Bt.path.setAttributeNS(null,"fill","none"),Bt.element=Bt.path,Bt.setCurrentPoint(Gt,en)}endPath(){const Ct=this.current;if(Ct.path=null,!this.pendingClip)return;if(!Ct.element){this.pendingClip=null;return}const qt=`clippath${Kt++}`,Bt=this.svgFactory.createElement("svg:clipPath");Bt.setAttributeNS(null,"id",qt),Bt.setAttributeNS(null,"transform",Xt(this.transformMatrix));const Gt=Ct.element.cloneNode(!0);if(this.pendingClip==="evenodd"?Gt.setAttributeNS(null,"clip-rule","evenodd"):Gt.setAttributeNS(null,"clip-rule","nonzero"),this.pendingClip=null,Bt.append(Gt),this.defs.append(Bt),Ct.activeClipUrl){Ct.clipGroup=null;for(const en of this.extraStack)en.clipGroup=null;Bt.setAttributeNS(null,"clip-path",Ct.activeClipUrl)}Ct.activeClipUrl=`url(#${qt})`,this.tgrp=null}clip(Ct){this.pendingClip=Ct}closePath(){const Ct=this.current;if(Ct.path){const qt=`${Ct.path.getAttributeNS(null,"d")}Z`;Ct.path.setAttributeNS(null,"d",qt)}}setLeading(Ct){this.current.leading=-Ct}setTextRise(Ct){this.current.textRise=Ct}setTextRenderingMode(Ct){this.current.textRenderingMode=Ct}setHScale(Ct){this.current.textHScale=Ct/100}setRenderingIntent(Ct){}setFlatness(Ct){}setGState(Ct){for(const[qt,Bt]of Ct)switch(qt){case"LW":this.setLineWidth(Bt);break;case"LC":this.setLineCap(Bt);break;case"LJ":this.setLineJoin(Bt);break;case"ML":this.setMiterLimit(Bt);break;case"D":this.setDash(Bt[0],Bt[1]);break;case"RI":this.setRenderingIntent(Bt);break;case"FL":this.setFlatness(Bt);break;case"Font":this.setFont(Bt);break;case"CA":this.setStrokeAlpha(Bt);break;case"ca":this.setFillAlpha(Bt);break;default:(0,At.warn)(`Unimplemented graphic state operator ${qt}`);break}}fill(){const Ct=this.current;Ct.element&&(Ct.element.setAttributeNS(null,"fill",Ct.fillColor),Ct.element.setAttributeNS(null,"fill-opacity",Ct.fillAlpha),this.endPath())}stroke(){const Ct=this.current;Ct.element&&(this._setStrokeAttributes(Ct.element),Ct.element.setAttributeNS(null,"fill","none"),this.endPath())}_setStrokeAttributes(Ct,qt=1){const Bt=this.current;let Gt=Bt.dashArray;qt!==1&&Gt.length>0&&(Gt=Gt.map(function(en){return qt*en})),Ct.setAttributeNS(null,"stroke",Bt.strokeColor),Ct.setAttributeNS(null,"stroke-opacity",Bt.strokeAlpha),Ct.setAttributeNS(null,"stroke-miterlimit",Ft(Bt.miterLimit)),Ct.setAttributeNS(null,"stroke-linecap",Bt.lineCap),Ct.setAttributeNS(null,"stroke-linejoin",Bt.lineJoin),Ct.setAttributeNS(null,"stroke-width",Ft(qt*Bt.lineWidth)+"px"),Ct.setAttributeNS(null,"stroke-dasharray",Gt.map(Ft).join(" ")),Ct.setAttributeNS(null,"stroke-dashoffset",Ft(qt*Bt.dashPhase)+"px")}eoFill(){var Ct;(Ct=this.current.element)==null||Ct.setAttributeNS(null,"fill-rule","evenodd"),this.fill()}fillStroke(){this.stroke(),this.fill()}eoFillStroke(){var Ct;(Ct=this.current.element)==null||Ct.setAttributeNS(null,"fill-rule","evenodd"),this.fillStroke()}closeStroke(){this.closePath(),this.stroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.closePath(),this.eoFillStroke()}paintSolidColorImageMask(){const Ct=this.svgFactory.createElement("svg:rect");Ct.setAttributeNS(null,"x","0"),Ct.setAttributeNS(null,"y","0"),Ct.setAttributeNS(null,"width","1px"),Ct.setAttributeNS(null,"height","1px"),Ct.setAttributeNS(null,"fill",this.current.fillColor),this._ensureTransformGroup().append(Ct)}paintImageXObject(Ct){const qt=this.getObject(Ct);if(!qt){(0,At.warn)(`Dependent image with object ID ${Ct} is not ready yet`);return}this.paintInlineImageXObject(qt)}paintInlineImageXObject(Ct,qt){const Bt=Ct.width,Gt=Ct.height,en=Pt(Ct,this.forceDataSchema,!!qt),dn=this.svgFactory.createElement("svg:rect");dn.setAttributeNS(null,"x","0"),dn.setAttributeNS(null,"y","0"),dn.setAttributeNS(null,"width",Ft(Bt)),dn.setAttributeNS(null,"height",Ft(Gt)),this.current.element=dn,this.clip("nonzero");const Qt=this.svgFactory.createElement("svg:image");Qt.setAttributeNS(Et,"xlink:href",en),Qt.setAttributeNS(null,"x","0"),Qt.setAttributeNS(null,"y",Ft(-Gt)),Qt.setAttributeNS(null,"width",Ft(Bt)+"px"),Qt.setAttributeNS(null,"height",Ft(Gt)+"px"),Qt.setAttributeNS(null,"transform",`scale(${Ft(1/Bt)} ${Ft(-1/Gt)})`),qt?qt.append(Qt):this._ensureTransformGroup().append(Qt)}paintImageMaskXObject(Ct){const qt=this.getObject(Ct.data,Ct);if(qt.bitmap){(0,At.warn)("paintImageMaskXObject: ImageBitmap support is not implemented, ensure that the `isOffscreenCanvasSupported` API parameter is disabled.");return}const Bt=this.current,Gt=qt.width,en=qt.height,dn=Bt.fillColor;Bt.maskId=`mask${Nt++}`;const Qt=this.svgFactory.createElement("svg:mask");Qt.setAttributeNS(null,"id",Bt.maskId);const gn=this.svgFactory.createElement("svg:rect");gn.setAttributeNS(null,"x","0"),gn.setAttributeNS(null,"y","0"),gn.setAttributeNS(null,"width",Ft(Gt)),gn.setAttributeNS(null,"height",Ft(en)),gn.setAttributeNS(null,"fill",dn),gn.setAttributeNS(null,"mask",`url(#${Bt.maskId})`),this.defs.append(Qt),this._ensureTransformGroup().append(gn),this.paintInlineImageXObject(qt,Qt)}paintFormXObjectBegin(Ct,qt){if(Array.isArray(Ct)&&Ct.length===6&&this.transform(Ct[0],Ct[1],Ct[2],Ct[3],Ct[4],Ct[5]),qt){const Bt=qt[2]-qt[0],Gt=qt[3]-qt[1],en=this.svgFactory.createElement("svg:rect");en.setAttributeNS(null,"x",qt[0]),en.setAttributeNS(null,"y",qt[1]),en.setAttributeNS(null,"width",Ft(Bt)),en.setAttributeNS(null,"height",Ft(Gt)),this.current.element=en,this.clip("nonzero"),this.endPath()}}paintFormXObjectEnd(){}_initialize(Ct){const qt=this.svgFactory.create(Ct.width,Ct.height),Bt=this.svgFactory.createElement("svg:defs");qt.append(Bt),this.defs=Bt;const Gt=this.svgFactory.createElement("svg:g");return Gt.setAttributeNS(null,"transform",Xt(Ct.transform)),qt.append(Gt),this.svg=Gt,qt}_ensureClipGroup(){if(!this.current.clipGroup){const Ct=this.svgFactory.createElement("svg:g");Ct.setAttributeNS(null,"clip-path",this.current.activeClipUrl),this.svg.append(Ct),this.current.clipGroup=Ct}return this.current.clipGroup}_ensureTransformGroup(){return this.tgrp||(this.tgrp=this.svgFactory.createElement("svg:g"),this.tgrp.setAttributeNS(null,"transform",Xt(this.transformMatrix)),this.current.activeClipUrl?this._ensureClipGroup().append(this.tgrp):this.svg.append(this.tgrp)),this.tgrp}}$.SVGGraphics=Dt},(xt,$)=>{Object.defineProperty($,"__esModule",{value:!0}),$.XfaText=void 0;class ht{static textContent(At){const St=[],kt={items:St,styles:Object.create(null)};function Et(Rt){var Pt;if(!Rt)return;let wt=null;const _t=Rt.name;if(_t==="#text")wt=Rt.value;else if(ht.shouldBuildText(_t))(Pt=Rt==null?void 0:Rt.attributes)!=null&&Pt.textContent?wt=Rt.attributes.textContent:Rt.value&&(wt=Rt.value);else return;if(wt!==null&&St.push({str:wt}),!!Rt.children)for(const _e of Rt.children)Et(_e)}return Et(At),kt}static shouldBuildText(At){return!(At==="textarea"||At==="input"||At==="option"||At==="select")}}$.XfaText=ht},(xt,$,ht)=>{Object.defineProperty($,"__esModule",{value:!0}),$.TextLayerRenderTask=void 0,$.renderTextLayer=Xt,$.updateTextLayer=Kt;var vt=ht(1),At=ht(6);const St=1e5,kt=30,Et=.8,Rt=new Map;function wt(Nt,$t){let Dt;if($t&&vt.FeatureTest.isOffscreenCanvasSupported)Dt=new OffscreenCanvas(Nt,Nt).getContext("2d",{alpha:!1});else{const jt=document.createElement("canvas");jt.width=jt.height=Nt,Dt=jt.getContext("2d",{alpha:!1})}return Dt}function _t(Nt,$t){const Dt=Rt.get(Nt);if(Dt)return Dt;const jt=wt(kt,$t);jt.font=`${kt}px ${Nt}`;const Ct=jt.measureText("");let qt=Ct.fontBoundingBoxAscent,Bt=Math.abs(Ct.fontBoundingBoxDescent);if(qt){const en=qt/(qt+Bt);return Rt.set(Nt,en),jt.canvas.width=jt.canvas.height=0,en}jt.strokeStyle="red",jt.clearRect(0,0,kt,kt),jt.strokeText("g",0,0);let Gt=jt.getImageData(0,0,kt,kt).data;Bt=0;for(let en=Gt.length-1-3;en>=0;en-=4)if(Gt[en]>0){Bt=Math.ceil(en/4/kt);break}jt.clearRect(0,0,kt,kt),jt.strokeText("A",0,kt),Gt=jt.getImageData(0,0,kt,kt).data,qt=0;for(let en=0,dn=Gt.length;en<dn;en+=4)if(Gt[en]>0){qt=kt-Math.floor(en/4/kt);break}if(jt.canvas.width=jt.canvas.height=0,qt){const en=qt/(qt+Bt);return Rt.set(Nt,en),en}return Rt.set(Nt,Et),Et}function Pt(Nt,$t,Dt){const jt=document.createElement("span"),Ct={angle:0,canvasWidth:0,hasText:$t.str!=="",hasEOL:$t.hasEOL,fontSize:0};Nt._textDivs.push(jt);const qt=vt.Util.transform(Nt._transform,$t.transform);let Bt=Math.atan2(qt[1],qt[0]);const Gt=Dt[$t.fontName];Gt.vertical&&(Bt+=Math.PI/2);const en=Math.hypot(qt[2],qt[3]),dn=en*_t(Gt.fontFamily,Nt._isOffscreenCanvasSupported);let Qt,gn;Bt===0?(Qt=qt[4],gn=qt[5]-dn):(Qt=qt[4]+dn*Math.sin(Bt),gn=qt[5]-dn*Math.cos(Bt));const nn="calc(var(--scale-factor)*",bn=jt.style;Nt._container===Nt._rootContainer?(bn.left=`${(100*Qt/Nt._pageWidth).toFixed(2)}%`,bn.top=`${(100*gn/Nt._pageHeight).toFixed(2)}%`):(bn.left=`${nn}${Qt.toFixed(2)}px)`,bn.top=`${nn}${gn.toFixed(2)}px)`),bn.fontSize=`${nn}${en.toFixed(2)}px)`,bn.fontFamily=Gt.fontFamily,Ct.fontSize=en,jt.setAttribute("role","presentation"),jt.textContent=$t.str,jt.dir=$t.dir,Nt._fontInspectorEnabled&&(jt.dataset.fontName=$t.fontName),Bt!==0&&(Ct.angle=Bt*(180/Math.PI));let Vt=!1;if($t.str.length>1)Vt=!0;else if($t.str!==" "&&$t.transform[0]!==$t.transform[3]){const Yt=Math.abs($t.transform[0]),hn=Math.abs($t.transform[3]);Yt!==hn&&Math.max(Yt,hn)/Math.min(Yt,hn)>1.5&&(Vt=!0)}Vt&&(Ct.canvasWidth=Gt.vertical?$t.height:$t.width),Nt._textDivProperties.set(jt,Ct),Nt._isReadableStream&&Nt._layoutText(jt)}function _e(Nt){const{div:$t,scale:Dt,properties:jt,ctx:Ct,prevFontSize:qt,prevFontFamily:Bt}=Nt,{style:Gt}=$t;let en="";if(jt.canvasWidth!==0&&jt.hasText){const{fontFamily:dn}=Gt,{canvasWidth:Qt,fontSize:gn}=jt;(qt!==gn||Bt!==dn)&&(Ct.font=`${gn*Dt}px ${dn}`,Nt.prevFontSize=gn,Nt.prevFontFamily=dn);const{width:nn}=Ct.measureText($t.textContent);nn>0&&(en=`scaleX(${Qt*Dt/nn})`)}jt.angle!==0&&(en=`rotate(${jt.angle}deg) ${en}`),en.length>0&&(Gt.transform=en)}function bt(Nt){if(Nt._canceled)return;const $t=Nt._textDivs,Dt=Nt._capability;if($t.length>St){Dt.resolve();return}if(!Nt._isReadableStream)for(const Ct of $t)Nt._layoutText(Ct);Dt.resolve()}class Ft{constructor({textContentSource:$t,container:Dt,viewport:jt,textDivs:Ct,textDivProperties:qt,textContentItemsStr:Bt,isOffscreenCanvasSupported:Gt}){var nn;this._textContentSource=$t,this._isReadableStream=$t instanceof ReadableStream,this._container=this._rootContainer=Dt,this._textDivs=Ct||[],this._textContentItemsStr=Bt||[],this._isOffscreenCanvasSupported=Gt,this._fontInspectorEnabled=!!((nn=globalThis.FontInspector)!=null&&nn.enabled),this._reader=null,this._textDivProperties=qt||new WeakMap,this._canceled=!1,this._capability=new vt.PromiseCapability,this._layoutTextParams={prevFontSize:null,prevFontFamily:null,div:null,scale:jt.scale*(globalThis.devicePixelRatio||1),properties:null,ctx:wt(0,Gt)};const{pageWidth:en,pageHeight:dn,pageX:Qt,pageY:gn}=jt.rawDims;this._transform=[1,0,0,-1,-Qt,gn+dn],this._pageWidth=en,this._pageHeight=dn,(0,At.setLayerDimensions)(Dt,jt),this._capability.promise.finally(()=>{this._layoutTextParams=null}).catch(()=>{})}get promise(){return this._capability.promise}cancel(){this._canceled=!0,this._reader&&(this._reader.cancel(new vt.AbortException("TextLayer task cancelled.")).catch(()=>{}),this._reader=null),this._capability.reject(new vt.AbortException("TextLayer task cancelled."))}_processItems($t,Dt){for(const jt of $t){if(jt.str===void 0){if(jt.type==="beginMarkedContentProps"||jt.type==="beginMarkedContent"){const Ct=this._container;this._container=document.createElement("span"),this._container.classList.add("markedContent"),jt.id!==null&&this._container.setAttribute("id",`${jt.id}`),Ct.append(this._container)}else jt.type==="endMarkedContent"&&(this._container=this._container.parentNode);continue}this._textContentItemsStr.push(jt.str),Pt(this,jt,Dt)}}_layoutText($t){const Dt=this._layoutTextParams.properties=this._textDivProperties.get($t);if(this._layoutTextParams.div=$t,_e(this._layoutTextParams),Dt.hasText&&this._container.append($t),Dt.hasEOL){const jt=document.createElement("br");jt.setAttribute("role","presentation"),this._container.append(jt)}}_render(){const $t=new vt.PromiseCapability;let Dt=Object.create(null);if(this._isReadableStream){const jt=()=>{this._reader.read().then(({value:Ct,done:qt})=>{if(qt){$t.resolve();return}Object.assign(Dt,Ct.styles),this._processItems(Ct.items,Dt),jt()},$t.reject)};this._reader=this._textContentSource.getReader(),jt()}else if(this._textContentSource){const{items:jt,styles:Ct}=this._textContentSource;this._processItems(jt,Ct),$t.resolve()}else throw new Error('No "textContentSource" parameter specified.');$t.promise.then(()=>{Dt=null,bt(this)},this._capability.reject)}}$.TextLayerRenderTask=Ft;function Xt(Nt){!Nt.textContentSource&&(Nt.textContent||Nt.textContentStream)&&((0,At.deprecated)("The TextLayerRender `textContent`/`textContentStream` parameters will be removed in the future, please use `textContentSource` instead."),Nt.textContentSource=Nt.textContent||Nt.textContentStream);const{container:$t,viewport:Dt}=Nt,jt=getComputedStyle($t),Ct=jt.getPropertyValue("visibility"),qt=parseFloat(jt.getPropertyValue("--scale-factor"));Ct==="visible"&&(!qt||Math.abs(qt-Dt.scale)>1e-5)&&console.error("The `--scale-factor` CSS-variable must be set, to the same value as `viewport.scale`, either on the `container`-element itself or higher up in the DOM.");const Bt=new Ft(Nt);return Bt._render(),Bt}function Kt({container:Nt,viewport:$t,textDivs:Dt,textDivProperties:jt,isOffscreenCanvasSupported:Ct,mustRotate:qt=!0,mustRescale:Bt=!0}){if(qt&&(0,At.setLayerDimensions)(Nt,{rotation:$t.rotation}),Bt){const Gt=wt(0,Ct),dn={prevFontSize:null,prevFontFamily:null,div:null,scale:$t.scale*(globalThis.devicePixelRatio||1),properties:null,ctx:Gt};for(const Qt of Dt)dn.properties=jt.get(Qt),dn.div=Qt,_e(dn)}}},(xt,$,ht)=>{var _t,Pt,_e,bt,Ft,Xt,Kt,Nt,$t,Dt,jt,_3,R2,R3,F3;Object.defineProperty($,"__esModule",{value:!0}),$.AnnotationEditorLayer=void 0;var vt=ht(1),At=ht(4),St=ht(28),kt=ht(33),Et=ht(6),Rt=ht(34);const en=class en{constructor({uiManager:Qt,pageIndex:gn,div:nn,accessibilityManager:bn,annotationLayer:Vt,viewport:Yt,l10n:hn}){Nn(this,jt);Nn(this,_t);Nn(this,Pt,!1);Nn(this,_e,null);Nn(this,bt,this.pointerup.bind(this));Nn(this,Ft,this.pointerdown.bind(this));Nn(this,Xt,new Map);Nn(this,Kt,!1);Nn(this,Nt,!1);Nn(this,$t,!1);Nn(this,Dt);const Ut=[St.FreeTextEditor,kt.InkEditor,Rt.StampEditor];if(!en._initialized){en._initialized=!0;for(const Ot of Ut)Ot.initialize(hn)}Qt.registerEditorTypes(Ut),$n(this,Dt,Qt),this.pageIndex=gn,this.div=nn,$n(this,_t,bn),$n(this,_e,Vt),this.viewport=Yt,Mt(this,Dt).addLayer(this)}get isEmpty(){return Mt(this,Xt).size===0}updateToolbar(Qt){Mt(this,Dt).updateToolbar(Qt)}updateMode(Qt=Mt(this,Dt).getMode()){On(this,jt,F3).call(this),Qt===vt.AnnotationEditorType.INK?(this.addInkEditorIfNeeded(!1),this.disableClick()):this.enableClick(),Qt!==vt.AnnotationEditorType.NONE&&(this.div.classList.toggle("freeTextEditing",Qt===vt.AnnotationEditorType.FREETEXT),this.div.classList.toggle("inkEditing",Qt===vt.AnnotationEditorType.INK),this.div.classList.toggle("stampEditing",Qt===vt.AnnotationEditorType.STAMP),this.div.hidden=!1)}addInkEditorIfNeeded(Qt){if(!Qt&&Mt(this,Dt).getMode()!==vt.AnnotationEditorType.INK)return;if(!Qt){for(const nn of Mt(this,Xt).values())if(nn.isEmpty()){nn.setInBackground();return}}On(this,jt,R2).call(this,{offsetX:0,offsetY:0},!1).setInBackground()}setEditingState(Qt){Mt(this,Dt).setEditingState(Qt)}addCommands(Qt){Mt(this,Dt).addCommands(Qt)}enable(){this.div.style.pointerEvents="auto";const Qt=new Set;for(const nn of Mt(this,Xt).values())nn.enableEditing(),nn.annotationElementId&&Qt.add(nn.annotationElementId);if(!Mt(this,_e))return;const gn=Mt(this,_e).getEditableAnnotations();for(const nn of gn){if(nn.hide(),Mt(this,Dt).isDeletedAnnotationElement(nn.data.id)||Qt.has(nn.data.id))continue;const bn=this.deserialize(nn);bn&&(this.addOrRebuild(bn),bn.enableEditing())}}disable(){var gn;$n(this,$t,!0),this.div.style.pointerEvents="none";const Qt=new Set;for(const nn of Mt(this,Xt).values()){if(nn.disableEditing(),!nn.annotationElementId||nn.serialize()!==null){Qt.add(nn.annotationElementId);continue}(gn=this.getEditableAnnotation(nn.annotationElementId))==null||gn.show(),nn.remove()}if(Mt(this,_e)){const nn=Mt(this,_e).getEditableAnnotations();for(const bn of nn){const{id:Vt}=bn.data;Qt.has(Vt)||Mt(this,Dt).isDeletedAnnotationElement(Vt)||bn.show()}}On(this,jt,F3).call(this),this.isEmpty&&(this.div.hidden=!0),$n(this,$t,!1)}getEditableAnnotation(Qt){var gn;return((gn=Mt(this,_e))==null?void 0:gn.getEditableAnnotation(Qt))||null}setActiveEditor(Qt){Mt(this,Dt).getActive()!==Qt&&Mt(this,Dt).setActiveEditor(Qt)}enableClick(){this.div.addEventListener("pointerdown",Mt(this,Ft)),this.div.addEventListener("pointerup",Mt(this,bt))}disableClick(){this.div.removeEventListener("pointerdown",Mt(this,Ft)),this.div.removeEventListener("pointerup",Mt(this,bt))}attach(Qt){Mt(this,Xt).set(Qt.id,Qt);const{annotationElementId:gn}=Qt;gn&&Mt(this,Dt).isDeletedAnnotationElement(gn)&&Mt(this,Dt).removeDeletedAnnotationElement(Qt)}detach(Qt){var gn;Mt(this,Xt).delete(Qt.id),(gn=Mt(this,_t))==null||gn.removePointerInTextLayer(Qt.contentDiv),!Mt(this,$t)&&Qt.annotationElementId&&Mt(this,Dt).addDeletedAnnotationElement(Qt)}remove(Qt){this.detach(Qt),Mt(this,Dt).removeEditor(Qt),Qt.div.contains(document.activeElement)&&setTimeout(()=>{Mt(this,Dt).focusMainContainer()},0),Qt.div.remove(),Qt.isAttachedToDOM=!1,Mt(this,Nt)||this.addInkEditorIfNeeded(!1)}changeParent(Qt){var gn;Qt.parent!==this&&(Qt.annotationElementId&&(Mt(this,Dt).addDeletedAnnotationElement(Qt.annotationElementId),At.AnnotationEditor.deleteAnnotationElement(Qt),Qt.annotationElementId=null),this.attach(Qt),(gn=Qt.parent)==null||gn.detach(Qt),Qt.setParent(this),Qt.div&&Qt.isAttachedToDOM&&(Qt.div.remove(),this.div.append(Qt.div)))}add(Qt){if(this.changeParent(Qt),Mt(this,Dt).addEditor(Qt),this.attach(Qt),!Qt.isAttachedToDOM){const gn=Qt.render();this.div.append(gn),Qt.isAttachedToDOM=!0}Qt.fixAndSetPosition(),Qt.onceAdded(),Mt(this,Dt).addToAnnotationStorage(Qt)}moveEditorInDOM(Qt){var nn;if(!Qt.isAttachedToDOM)return;const{activeElement:gn}=document;Qt.div.contains(gn)&&(Qt._focusEventsAllowed=!1,setTimeout(()=>{Qt.div.contains(document.activeElement)?Qt._focusEventsAllowed=!0:(Qt.div.addEventListener("focusin",()=>{Qt._focusEventsAllowed=!0},{once:!0}),gn.focus())},0)),Qt._structTreeParentId=(nn=Mt(this,_t))==null?void 0:nn.moveElementInDOM(this.div,Qt.div,Qt.contentDiv,!0)}addOrRebuild(Qt){Qt.needsToBeRebuilt()?Qt.rebuild():this.add(Qt)}addUndoableEditor(Qt){const gn=()=>Qt._uiManager.rebuild(Qt),nn=()=>{Qt.remove()};this.addCommands({cmd:gn,undo:nn,mustExec:!1})}getNextId(){return Mt(this,Dt).getId()}pasteEditor(Qt,gn){Mt(this,Dt).updateToolbar(Qt),Mt(this,Dt).updateMode(Qt);const{offsetX:nn,offsetY:bn}=On(this,jt,R3).call(this),Vt=this.getNextId(),Yt=On(this,jt,_3).call(this,{parent:this,id:Vt,x:nn,y:bn,uiManager:Mt(this,Dt),isCentered:!0,...gn});Yt&&this.add(Yt)}deserialize(Qt){switch(Qt.annotationType??Qt.annotationEditorType){case vt.AnnotationEditorType.FREETEXT:return St.FreeTextEditor.deserialize(Qt,this,Mt(this,Dt));case vt.AnnotationEditorType.INK:return kt.InkEditor.deserialize(Qt,this,Mt(this,Dt));case vt.AnnotationEditorType.STAMP:return Rt.StampEditor.deserialize(Qt,this,Mt(this,Dt))}return null}addNewEditor(){On(this,jt,R2).call(this,On(this,jt,R3).call(this),!0)}setSelected(Qt){Mt(this,Dt).setSelected(Qt)}toggleSelected(Qt){Mt(this,Dt).toggleSelected(Qt)}isSelected(Qt){return Mt(this,Dt).isSelected(Qt)}unselect(Qt){Mt(this,Dt).unselect(Qt)}pointerup(Qt){const{isMac:gn}=vt.FeatureTest.platform;if(!(Qt.button!==0||Qt.ctrlKey&&gn)&&Qt.target===this.div&&Mt(this,Kt)){if($n(this,Kt,!1),!Mt(this,Pt)){$n(this,Pt,!0);return}if(Mt(this,Dt).getMode()===vt.AnnotationEditorType.STAMP){Mt(this,Dt).unselectAll();return}On(this,jt,R2).call(this,Qt,!1)}}pointerdown(Qt){if(Mt(this,Kt)){$n(this,Kt,!1);return}const{isMac:gn}=vt.FeatureTest.platform;if(Qt.button!==0||Qt.ctrlKey&&gn||Qt.target!==this.div)return;$n(this,Kt,!0);const nn=Mt(this,Dt).getActive();$n(this,Pt,!nn||nn.isEmpty())}findNewParent(Qt,gn,nn){const bn=Mt(this,Dt).findParent(gn,nn);return bn===null||bn===this?!1:(bn.changeParent(Qt),!0)}destroy(){var Qt,gn;((Qt=Mt(this,Dt).getActive())==null?void 0:Qt.parent)===this&&(Mt(this,Dt).commitOrRemove(),Mt(this,Dt).setActiveEditor(null));for(const nn of Mt(this,Xt).values())(gn=Mt(this,_t))==null||gn.removePointerInTextLayer(nn.contentDiv),nn.setParent(null),nn.isAttachedToDOM=!1,nn.div.remove();this.div=null,Mt(this,Xt).clear(),Mt(this,Dt).removeLayer(this)}render({viewport:Qt}){this.viewport=Qt,(0,Et.setLayerDimensions)(this.div,Qt);for(const gn of Mt(this,Dt).getEditors(this.pageIndex))this.add(gn);this.updateMode()}update({viewport:Qt}){Mt(this,Dt).commitOrRemove(),this.viewport=Qt,(0,Et.setLayerDimensions)(this.div,{rotation:Qt.rotation}),this.updateMode()}get pageDimensions(){const{pageWidth:Qt,pageHeight:gn}=this.viewport.rawDims;return[Qt,gn]}};_t=new WeakMap,Pt=new WeakMap,_e=new WeakMap,bt=new WeakMap,Ft=new WeakMap,Xt=new WeakMap,Kt=new WeakMap,Nt=new WeakMap,$t=new WeakMap,Dt=new WeakMap,jt=new WeakSet,_3=function(Qt){switch(Mt(this,Dt).getMode()){case vt.AnnotationEditorType.FREETEXT:return new St.FreeTextEditor(Qt);case vt.AnnotationEditorType.INK:return new kt.InkEditor(Qt);case vt.AnnotationEditorType.STAMP:return new Rt.StampEditor(Qt)}return null},R2=function(Qt,gn){const nn=this.getNextId(),bn=On(this,jt,_3).call(this,{parent:this,id:nn,x:Qt.offsetX,y:Qt.offsetY,uiManager:Mt(this,Dt),isCentered:gn});return bn&&this.add(bn),bn},R3=function(){const{x:Qt,y:gn,width:nn,height:bn}=this.div.getBoundingClientRect(),Vt=Math.max(0,Qt),Yt=Math.max(0,gn),hn=Math.min(window.innerWidth,Qt+nn),Ut=Math.min(window.innerHeight,gn+bn),Ot=(Vt+hn)/2-Qt,zt=(Yt+Ut)/2-gn,[an,Ht]=this.viewport.rotation%180===0?[Ot,zt]:[zt,Ot];return{offsetX:an,offsetY:Ht}},F3=function(){$n(this,Nt,!0);for(const Qt of Mt(this,Xt).values())Qt.isEmpty()&&Qt.remove();$n(this,Nt,!1)},Ur(en,"_initialized",!1);let wt=en;$.AnnotationEditorLayer=wt},(xt,$,ht)=>{var Rt,wt,_t,Pt,_e,bt,Ft,Xt,Kt,Nt,X8,W8,V8,dm,P3,G8,I3;Object.defineProperty($,"__esModule",{value:!0}),$.FreeTextEditor=void 0;var vt=ht(1),At=ht(5),St=ht(4),kt=ht(29);const en=class en extends St.AnnotationEditor{constructor(gn){super({...gn,name:"freeTextEditor"});Nn(this,Nt);Nn(this,Rt,this.editorDivBlur.bind(this));Nn(this,wt,this.editorDivFocus.bind(this));Nn(this,_t,this.editorDivInput.bind(this));Nn(this,Pt,this.editorDivKeydown.bind(this));Nn(this,_e);Nn(this,bt,"");Nn(this,Ft,`${this.id}-editor`);Nn(this,Xt);Nn(this,Kt,null);$n(this,_e,gn.color||en._defaultColor||St.AnnotationEditor._defaultLineColor),$n(this,Xt,gn.fontSize||en._defaultFontSize)}static get _keyboardManager(){const gn=en.prototype,nn=Yt=>Yt.isEmpty(),bn=At.AnnotationEditorUIManager.TRANSLATE_SMALL,Vt=At.AnnotationEditorUIManager.TRANSLATE_BIG;return(0,vt.shadow)(this,"_keyboardManager",new At.KeyboardManager([[["ctrl+s","mac+meta+s","ctrl+p","mac+meta+p"],gn.commitOrRemove,{bubbles:!0}],[["ctrl+Enter","mac+meta+Enter","Escape","mac+Escape"],gn.commitOrRemove],[["ArrowLeft","mac+ArrowLeft"],gn._translateEmpty,{args:[-bn,0],checker:nn}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],gn._translateEmpty,{args:[-Vt,0],checker:nn}],[["ArrowRight","mac+ArrowRight"],gn._translateEmpty,{args:[bn,0],checker:nn}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],gn._translateEmpty,{args:[Vt,0],checker:nn}],[["ArrowUp","mac+ArrowUp"],gn._translateEmpty,{args:[0,-bn],checker:nn}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],gn._translateEmpty,{args:[0,-Vt],checker:nn}],[["ArrowDown","mac+ArrowDown"],gn._translateEmpty,{args:[0,bn],checker:nn}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],gn._translateEmpty,{args:[0,Vt],checker:nn}]]))}static initialize(gn){St.AnnotationEditor.initialize(gn,{strings:["free_text2_default_content","editor_free_text2_aria_label"]});const nn=getComputedStyle(document.documentElement);this._internalPadding=parseFloat(nn.getPropertyValue("--freetext-padding"))}static updateDefaultParams(gn,nn){switch(gn){case vt.AnnotationEditorParamsType.FREETEXT_SIZE:en._defaultFontSize=nn;break;case vt.AnnotationEditorParamsType.FREETEXT_COLOR:en._defaultColor=nn;break}}updateParams(gn,nn){switch(gn){case vt.AnnotationEditorParamsType.FREETEXT_SIZE:On(this,Nt,X8).call(this,nn);break;case vt.AnnotationEditorParamsType.FREETEXT_COLOR:On(this,Nt,W8).call(this,nn);break}}static get defaultPropertiesToUpdate(){return[[vt.AnnotationEditorParamsType.FREETEXT_SIZE,en._defaultFontSize],[vt.AnnotationEditorParamsType.FREETEXT_COLOR,en._defaultColor||St.AnnotationEditor._defaultLineColor]]}get propertiesToUpdate(){return[[vt.AnnotationEditorParamsType.FREETEXT_SIZE,Mt(this,Xt)],[vt.AnnotationEditorParamsType.FREETEXT_COLOR,Mt(this,_e)]]}_translateEmpty(gn,nn){this._uiManager.translateSelectedEditors(gn,nn,!0)}getInitialTranslation(){const gn=this.parentScale;return[-en._internalPadding*gn,-(en._internalPadding+Mt(this,Xt))*gn]}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.isAttachedToDOM||this.parent.add(this)))}enableEditMode(){this.isInEditMode()||(this.parent.setEditingState(!1),this.parent.updateToolbar(vt.AnnotationEditorType.FREETEXT),super.enableEditMode(),this.overlayDiv.classList.remove("enabled"),this.editorDiv.contentEditable=!0,this._isDraggable=!1,this.div.removeAttribute("aria-activedescendant"),this.editorDiv.addEventListener("keydown",Mt(this,Pt)),this.editorDiv.addEventListener("focus",Mt(this,wt)),this.editorDiv.addEventListener("blur",Mt(this,Rt)),this.editorDiv.addEventListener("input",Mt(this,_t)))}disableEditMode(){this.isInEditMode()&&(this.parent.setEditingState(!0),super.disableEditMode(),this.overlayDiv.classList.add("enabled"),this.editorDiv.contentEditable=!1,this.div.setAttribute("aria-activedescendant",Mt(this,Ft)),this._isDraggable=!0,this.editorDiv.removeEventListener("keydown",Mt(this,Pt)),this.editorDiv.removeEventListener("focus",Mt(this,wt)),this.editorDiv.removeEventListener("blur",Mt(this,Rt)),this.editorDiv.removeEventListener("input",Mt(this,_t)),this.div.focus({preventScroll:!0}),this.isEditing=!1,this.parent.div.classList.add("freeTextEditing"))}focusin(gn){this._focusEventsAllowed&&(super.focusin(gn),gn.target!==this.editorDiv&&this.editorDiv.focus())}onceAdded(){var gn;if(this.width){On(this,Nt,I3).call(this);return}this.enableEditMode(),this.editorDiv.focus(),(gn=this._initialOptions)!=null&&gn.isCentered&&this.center(),this._initialOptions=null}isEmpty(){return!this.editorDiv||this.editorDiv.innerText.trim()===""}remove(){this.isEditing=!1,this.parent&&(this.parent.setEditingState(!0),this.parent.div.classList.add("freeTextEditing")),super.remove()}commit(){if(!this.isInEditMode())return;super.commit(),this.disableEditMode();const gn=Mt(this,bt),nn=$n(this,bt,On(this,Nt,V8).call(this).trimEnd());if(gn===nn)return;const bn=Vt=>{if($n(this,bt,Vt),!Vt){this.remove();return}On(this,Nt,P3).call(this),this._uiManager.rebuild(this),On(this,Nt,dm).call(this)};this.addCommands({cmd:()=>{bn(nn)},undo:()=>{bn(gn)},mustExec:!1}),On(this,Nt,dm).call(this)}shouldGetKeyboardEvents(){return this.isInEditMode()}enterInEditMode(){this.enableEditMode(),this.editorDiv.focus()}dblclick(gn){this.enterInEditMode()}keydown(gn){gn.target===this.div&&gn.key==="Enter"&&(this.enterInEditMode(),gn.preventDefault())}editorDivKeydown(gn){en._keyboardManager.exec(this,gn)}editorDivFocus(gn){this.isEditing=!0}editorDivBlur(gn){this.isEditing=!1}editorDivInput(gn){this.parent.div.classList.toggle("freeTextEditing",this.isEmpty())}disableEditing(){this.editorDiv.setAttribute("role","comment"),this.editorDiv.removeAttribute("aria-multiline")}enableEditing(){this.editorDiv.setAttribute("role","textbox"),this.editorDiv.setAttribute("aria-multiline",!0)}render(){if(this.div)return this.div;let gn,nn;this.width&&(gn=this.x,nn=this.y),super.render(),this.editorDiv=document.createElement("div"),this.editorDiv.className="internal",this.editorDiv.setAttribute("id",Mt(this,Ft)),this.enableEditing(),St.AnnotationEditor._l10nPromise.get("editor_free_text2_aria_label").then(Vt=>{var Yt;return(Yt=this.editorDiv)==null?void 0:Yt.setAttribute("aria-label",Vt)}),St.AnnotationEditor._l10nPromise.get("free_text2_default_content").then(Vt=>{var Yt;return(Yt=this.editorDiv)==null?void 0:Yt.setAttribute("default-content",Vt)}),this.editorDiv.contentEditable=!0;const{style:bn}=this.editorDiv;if(bn.fontSize=`calc(${Mt(this,Xt)}px * var(--scale-factor))`,bn.color=Mt(this,_e),this.div.append(this.editorDiv),this.overlayDiv=document.createElement("div"),this.overlayDiv.classList.add("overlay","enabled"),this.div.append(this.overlayDiv),(0,At.bindEvents)(this,this.div,["dblclick","keydown"]),this.width){const[Vt,Yt]=this.parentDimensions;if(this.annotationElementId){const{position:hn}=Mt(this,Kt);let[Ut,Ot]=this.getInitialTranslation();[Ut,Ot]=this.pageTranslationToScreen(Ut,Ot);const[zt,an]=this.pageDimensions,[Ht,Wt]=this.pageTranslation;let tn,ln;switch(this.rotation){case 0:tn=gn+(hn[0]-Ht)/zt,ln=nn+this.height-(hn[1]-Wt)/an;break;case 90:tn=gn+(hn[0]-Ht)/zt,ln=nn-(hn[1]-Wt)/an,[Ut,Ot]=[Ot,-Ut];break;case 180:tn=gn-this.width+(hn[0]-Ht)/zt,ln=nn-(hn[1]-Wt)/an,[Ut,Ot]=[-Ut,-Ot];break;case 270:tn=gn+(hn[0]-Ht-this.height*an)/zt,ln=nn+(hn[1]-Wt-this.width*zt)/an,[Ut,Ot]=[-Ot,Ut];break}this.setAt(tn*Vt,ln*Yt,Ut,Ot)}else this.setAt(gn*Vt,nn*Yt,this.width*Vt,this.height*Yt);On(this,Nt,P3).call(this),this._isDraggable=!0,this.editorDiv.contentEditable=!1}else this._isDraggable=!1,this.editorDiv.contentEditable=!0;return this.div}get contentDiv(){return this.editorDiv}static deserialize(gn,nn,bn){let Vt=null;if(gn instanceof kt.FreeTextAnnotationElement){const{data:{defaultAppearanceData:{fontSize:hn,fontColor:Ut},rect:Ot,rotation:zt,id:an},textContent:Ht,textPosition:Wt,parent:{page:{pageNumber:tn}}}=gn;if(!Ht||Ht.length===0)return null;Vt=gn={annotationType:vt.AnnotationEditorType.FREETEXT,color:Array.from(Ut),fontSize:hn,value:Ht.join(`
`),position:Wt,pageIndex:tn-1,rect:Ot,rotation:zt,id:an,deleted:!1}}const Yt=super.deserialize(gn,nn,bn);return $n(Yt,Xt,gn.fontSize),$n(Yt,_e,vt.Util.makeHexColor(...gn.color)),$n(Yt,bt,gn.value),Yt.annotationElementId=gn.id||null,$n(Yt,Kt,Vt),Yt}serialize(gn=!1){if(this.isEmpty())return null;if(this.deleted)return{pageIndex:this.pageIndex,id:this.annotationElementId,deleted:!0};const nn=en._internalPadding*this.parentScale,bn=this.getRect(nn,nn),Vt=St.AnnotationEditor._colorManager.convert(this.isAttachedToDOM?getComputedStyle(this.editorDiv).color:Mt(this,_e)),Yt={annotationType:vt.AnnotationEditorType.FREETEXT,color:Vt,fontSize:Mt(this,Xt),value:Mt(this,bt),pageIndex:this.pageIndex,rect:bn,rotation:this.rotation,structTreeParentId:this._structTreeParentId};return gn?Yt:this.annotationElementId&&!On(this,Nt,G8).call(this,Yt)?null:(Yt.id=this.annotationElementId,Yt)}};Rt=new WeakMap,wt=new WeakMap,_t=new WeakMap,Pt=new WeakMap,_e=new WeakMap,bt=new WeakMap,Ft=new WeakMap,Xt=new WeakMap,Kt=new WeakMap,Nt=new WeakSet,X8=function(gn){const nn=Vt=>{this.editorDiv.style.fontSize=`calc(${Vt}px * var(--scale-factor))`,this.translate(0,-(Vt-Mt(this,Xt))*this.parentScale),$n(this,Xt,Vt),On(this,Nt,dm).call(this)},bn=Mt(this,Xt);this.addCommands({cmd:()=>{nn(gn)},undo:()=>{nn(bn)},mustExec:!0,type:vt.AnnotationEditorParamsType.FREETEXT_SIZE,overwriteIfSameType:!0,keepUndo:!0})},W8=function(gn){const nn=Mt(this,_e);this.addCommands({cmd:()=>{$n(this,_e,this.editorDiv.style.color=gn)},undo:()=>{$n(this,_e,this.editorDiv.style.color=nn)},mustExec:!0,type:vt.AnnotationEditorParamsType.FREETEXT_COLOR,overwriteIfSameType:!0,keepUndo:!0})},V8=function(){const gn=this.editorDiv.getElementsByTagName("div");if(gn.length===0)return this.editorDiv.innerText;const nn=[];for(const bn of gn)nn.push(bn.innerText.replace(/\r\n?|\n/,""));return nn.join(`
`)},dm=function(){const[gn,nn]=this.parentDimensions;let bn;if(this.isAttachedToDOM)bn=this.div.getBoundingClientRect();else{const{currentLayer:Vt,div:Yt}=this,hn=Yt.style.display;Yt.style.display="hidden",Vt.div.append(this.div),bn=Yt.getBoundingClientRect(),Yt.remove(),Yt.style.display=hn}this.rotation%180===this.parentRotation%180?(this.width=bn.width/gn,this.height=bn.height/nn):(this.width=bn.height/gn,this.height=bn.width/nn),this.fixAndSetPosition()},P3=function(){if(this.editorDiv.replaceChildren(),!!Mt(this,bt))for(const gn of Mt(this,bt).split(`
`)){const nn=document.createElement("div");nn.append(gn?document.createTextNode(gn):document.createElement("br")),this.editorDiv.append(nn)}},G8=function(gn){const{value:nn,fontSize:bn,color:Vt,rect:Yt,pageIndex:hn}=Mt(this,Kt);return gn.value!==nn||gn.fontSize!==bn||gn.rect.some((Ut,Ot)=>Math.abs(Ut-Yt[Ot])>=1)||gn.color.some((Ut,Ot)=>Ut!==Vt[Ot])||gn.pageIndex!==hn},I3=function(gn=!1){if(!this.annotationElementId)return;if(On(this,Nt,dm).call(this),!gn&&(this.width===0||this.height===0)){setTimeout(()=>On(this,Nt,I3).call(this,!0),0);return}const nn=en._internalPadding*this.parentScale;Mt(this,Kt).rect=this.getRect(nn,nn)},Ur(en,"_freeTextDefaultContent",""),Ur(en,"_internalPadding",0),Ur(en,"_defaultColor",null),Ur(en,"_defaultFontSize",10),Ur(en,"_type","freetext");let Et=en;$.FreeTextEditor=Et},(xt,$,ht)=>{var ln,cn,Fu,q8,xn,vn,En,Fn,Mn,Tn,Sn,mn,fn,Jt,un,pn,wn,kn,Rn,Cn,An,_n,K8,F2,M3,O3,Un,tr,er,Qn,Yn,Xn,nr,D3,dr,Bn,Hn,Wn,Y8,L3;Object.defineProperty($,"__esModule",{value:!0}),$.StampAnnotationElement=$.InkAnnotationElement=$.FreeTextAnnotationElement=$.AnnotationLayer=void 0;var vt=ht(1),At=ht(6),St=ht(3),kt=ht(30),Et=ht(31),Rt=ht(32);const wt=1e3,_t=9,Pt=new WeakSet;function _e(xr){return{width:xr[2]-xr[0],height:xr[3]-xr[1]}}class bt{static create(Jn){switch(Jn.data.annotationType){case vt.AnnotationType.LINK:return new Xt(Jn);case vt.AnnotationType.TEXT:return new Kt(Jn);case vt.AnnotationType.WIDGET:switch(Jn.data.fieldType){case"Tx":return new $t(Jn);case"Btn":return Jn.data.radioButton?new Ct(Jn):Jn.data.checkBox?new jt(Jn):new qt(Jn);case"Ch":return new Bt(Jn);case"Sig":return new Dt(Jn)}return new Nt(Jn);case vt.AnnotationType.POPUP:return new Gt(Jn);case vt.AnnotationType.FREETEXT:return new dn(Jn);case vt.AnnotationType.LINE:return new Qt(Jn);case vt.AnnotationType.SQUARE:return new gn(Jn);case vt.AnnotationType.CIRCLE:return new nn(Jn);case vt.AnnotationType.POLYLINE:return new bn(Jn);case vt.AnnotationType.CARET:return new Yt(Jn);case vt.AnnotationType.INK:return new hn(Jn);case vt.AnnotationType.POLYGON:return new Vt(Jn);case vt.AnnotationType.HIGHLIGHT:return new Ut(Jn);case vt.AnnotationType.UNDERLINE:return new Ot(Jn);case vt.AnnotationType.SQUIGGLY:return new zt(Jn);case vt.AnnotationType.STRIKEOUT:return new an(Jn);case vt.AnnotationType.STAMP:return new Ht(Jn);case vt.AnnotationType.FILEATTACHMENT:return new Wt(Jn);default:return new Ft(Jn)}}}const on=class on{constructor(Jn,{isRenderable:Vn=!1,ignoreBorder:Zn=!1,createQuadrilaterals:ur=!1}={}){Nn(this,ln,!1);this.isRenderable=Vn,this.data=Jn.data,this.layer=Jn.layer,this.linkService=Jn.linkService,this.downloadManager=Jn.downloadManager,this.imageResourcesPath=Jn.imageResourcesPath,this.renderForms=Jn.renderForms,this.svgFactory=Jn.svgFactory,this.annotationStorage=Jn.annotationStorage,this.enableScripting=Jn.enableScripting,this.hasJSActions=Jn.hasJSActions,this._fieldObjects=Jn.fieldObjects,this.parent=Jn.parent,Vn&&(this.container=this._createContainer(Zn)),ur&&this._createQuadrilaterals()}static _hasPopupData({titleObj:Jn,contentsObj:Vn,richText:Zn}){return!!(Jn!=null&&Jn.str||Vn!=null&&Vn.str||Zn!=null&&Zn.str)}get hasPopupData(){return on._hasPopupData(this.data)}_createContainer(Jn){const{data:Vn,parent:{page:Zn,viewport:ur}}=this,hr=document.createElement("section");hr.setAttribute("data-annotation-id",Vn.id),this instanceof Nt||(hr.tabIndex=wt),hr.style.zIndex=this.parent.zIndex++,this.data.popupRef&&hr.setAttribute("aria-haspopup","dialog"),Vn.noRotate&&hr.classList.add("norotate");const{pageWidth:or,pageHeight:pr,pageX:wr,pageY:fr}=ur.rawDims;if(!Vn.rect||this instanceof Gt){const{rotation:Er}=Vn;return!Vn.hasOwnCanvas&&Er!==0&&this.setRotation(Er,hr),hr}const{width:Ar,height:Lr}=_e(Vn.rect),Fr=vt.Util.normalizeRect([Vn.rect[0],Zn.view[3]-Vn.rect[1]+Zn.view[1],Vn.rect[2],Zn.view[3]-Vn.rect[3]+Zn.view[1]]);if(!Jn&&Vn.borderStyle.width>0){hr.style.borderWidth=`${Vn.borderStyle.width}px`;const Er=Vn.borderStyle.horizontalCornerRadius,_r=Vn.borderStyle.verticalCornerRadius;if(Er>0||_r>0){const qr=`calc(${Er}px * var(--scale-factor)) / calc(${_r}px * var(--scale-factor))`;hr.style.borderRadius=qr}else if(this instanceof Ct){const qr=`calc(${Ar}px * var(--scale-factor)) / calc(${Lr}px * var(--scale-factor))`;hr.style.borderRadius=qr}switch(Vn.borderStyle.style){case vt.AnnotationBorderStyleType.SOLID:hr.style.borderStyle="solid";break;case vt.AnnotationBorderStyleType.DASHED:hr.style.borderStyle="dashed";break;case vt.AnnotationBorderStyleType.BEVELED:(0,vt.warn)("Unimplemented border style: beveled");break;case vt.AnnotationBorderStyleType.INSET:(0,vt.warn)("Unimplemented border style: inset");break;case vt.AnnotationBorderStyleType.UNDERLINE:hr.style.borderBottomStyle="solid";break}const Rr=Vn.borderColor||null;Rr?($n(this,ln,!0),hr.style.borderColor=vt.Util.makeHexColor(Rr[0]|0,Rr[1]|0,Rr[2]|0)):hr.style.borderWidth=0}hr.style.left=`${100*(Fr[0]-wr)/or}%`,hr.style.top=`${100*(Fr[1]-fr)/pr}%`;const{rotation:$r}=Vn;return Vn.hasOwnCanvas||$r===0?(hr.style.width=`${100*Ar/or}%`,hr.style.height=`${100*Lr/pr}%`):this.setRotation($r,hr),hr}setRotation(Jn,Vn=this.container){if(!this.data.rect)return;const{pageWidth:Zn,pageHeight:ur}=this.parent.viewport.rawDims,{width:hr,height:or}=_e(this.data.rect);let pr,wr;Jn%180===0?(pr=100*hr/Zn,wr=100*or/ur):(pr=100*or/Zn,wr=100*hr/ur),Vn.style.width=`${pr}%`,Vn.style.height=`${wr}%`,Vn.setAttribute("data-main-rotation",(360-Jn)%360)}get _commonActions(){const Jn=(Vn,Zn,ur)=>{const hr=ur.detail[Vn],or=hr[0],pr=hr.slice(1);ur.target.style[Zn]=kt.ColorConverters[`${or}_HTML`](pr),this.annotationStorage.setValue(this.data.id,{[Zn]:kt.ColorConverters[`${or}_rgb`](pr)})};return(0,vt.shadow)(this,"_commonActions",{display:Vn=>{const{display:Zn}=Vn.detail,ur=Zn%2===1;this.container.style.visibility=ur?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noView:ur,noPrint:Zn===1||Zn===2})},print:Vn=>{this.annotationStorage.setValue(this.data.id,{noPrint:!Vn.detail.print})},hidden:Vn=>{const{hidden:Zn}=Vn.detail;this.container.style.visibility=Zn?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noPrint:Zn,noView:Zn})},focus:Vn=>{setTimeout(()=>Vn.target.focus({preventScroll:!1}),0)},userName:Vn=>{Vn.target.title=Vn.detail.userName},readonly:Vn=>{Vn.target.disabled=Vn.detail.readonly},required:Vn=>{this._setRequired(Vn.target,Vn.detail.required)},bgColor:Vn=>{Jn("bgColor","backgroundColor",Vn)},fillColor:Vn=>{Jn("fillColor","backgroundColor",Vn)},fgColor:Vn=>{Jn("fgColor","color",Vn)},textColor:Vn=>{Jn("textColor","color",Vn)},borderColor:Vn=>{Jn("borderColor","borderColor",Vn)},strokeColor:Vn=>{Jn("strokeColor","borderColor",Vn)},rotation:Vn=>{const Zn=Vn.detail.rotation;this.setRotation(Zn),this.annotationStorage.setValue(this.data.id,{rotation:Zn})}})}_dispatchEventFromSandbox(Jn,Vn){const Zn=this._commonActions;for(const ur of Object.keys(Vn.detail)){const hr=Jn[ur]||Zn[ur];hr==null||hr(Vn)}}_setDefaultPropertiesFromJS(Jn){if(!this.enableScripting)return;const Vn=this.annotationStorage.getRawValue(this.data.id);if(!Vn)return;const Zn=this._commonActions;for(const[ur,hr]of Object.entries(Vn)){const or=Zn[ur];if(or){const pr={detail:{[ur]:hr},target:Jn};or(pr),delete Vn[ur]}}}_createQuadrilaterals(){if(!this.container)return;const{quadPoints:Jn}=this.data;if(!Jn)return;const[Vn,Zn,ur,hr]=this.data.rect;if(Jn.length===1){const[,{x:_r,y:Rr},{x:qr,y:vs}]=Jn[0];if(ur===_r&&hr===Rr&&Vn===qr&&Zn===vs)return}const{style:or}=this.container;let pr;if(Mt(this,ln)){const{borderColor:_r,borderWidth:Rr}=or;or.borderWidth=0,pr=["url('data:image/svg+xml;utf8,",'<svg xmlns="http://www.w3.org/2000/svg"',' preserveAspectRatio="none" viewBox="0 0 1 1">',`<g fill="transparent" stroke="${_r}" stroke-width="${Rr}">`],this.container.classList.add("hasBorder")}const wr=ur-Vn,fr=hr-Zn,{svgFactory:Ar}=this,Lr=Ar.createElement("svg");Lr.classList.add("quadrilateralsContainer"),Lr.setAttribute("width",0),Lr.setAttribute("height",0);const Fr=Ar.createElement("defs");Lr.append(Fr);const $r=Ar.createElement("clipPath"),Er=`clippath_${this.data.id}`;$r.setAttribute("id",Er),$r.setAttribute("clipPathUnits","objectBoundingBox"),Fr.append($r);for(const[,{x:_r,y:Rr},{x:qr,y:vs}]of Jn){const ls=Ar.createElement("rect"),ns=(qr-Vn)/wr,Ns=(hr-Rr)/fr,Gs=(_r-qr)/wr,vr=(Rr-vs)/fr;ls.setAttribute("x",ns),ls.setAttribute("y",Ns),ls.setAttribute("width",Gs),ls.setAttribute("height",vr),$r.append(ls),pr==null||pr.push(`<rect vector-effect="non-scaling-stroke" x="${ns}" y="${Ns}" width="${Gs}" height="${vr}"/>`)}Mt(this,ln)&&(pr.push("</g></svg>')"),or.backgroundImage=pr.join("")),this.container.append(Lr),this.container.style.clipPath=`url(#${Er})`}_createPopup(){const{container:Jn,data:Vn}=this;Jn.setAttribute("aria-haspopup","dialog");const Zn=new Gt({data:{color:Vn.color,titleObj:Vn.titleObj,modificationDate:Vn.modificationDate,contentsObj:Vn.contentsObj,richText:Vn.richText,parentRect:Vn.rect,borderStyle:0,id:`popup_${Vn.id}`,rotation:Vn.rotation},parent:this.parent,elements:[this]});this.parent.div.append(Zn.render())}render(){(0,vt.unreachable)("Abstract method `AnnotationElement.render` called")}_getElementsByName(Jn,Vn=null){const Zn=[];if(this._fieldObjects){const ur=this._fieldObjects[Jn];if(ur)for(const{page:hr,id:or,exportValues:pr}of ur){if(hr===-1||or===Vn)continue;const wr=typeof pr=="string"?pr:null,fr=document.querySelector(`[data-element-id="${or}"]`);if(fr&&!Pt.has(fr)){(0,vt.warn)(`_getElementsByName - element not allowed: ${or}`);continue}Zn.push({id:or,exportValue:wr,domElement:fr})}return Zn}for(const ur of document.getElementsByName(Jn)){const{exportValue:hr}=ur,or=ur.getAttribute("data-element-id");or!==Vn&&Pt.has(ur)&&Zn.push({id:or,exportValue:hr,domElement:ur})}return Zn}show(){var Jn;this.container&&(this.container.hidden=!1),(Jn=this.popup)==null||Jn.maybeShow()}hide(){var Jn;this.container&&(this.container.hidden=!0),(Jn=this.popup)==null||Jn.forceHide()}getElementsToTriggerPopup(){return this.container}addHighlightArea(){const Jn=this.getElementsToTriggerPopup();if(Array.isArray(Jn))for(const Vn of Jn)Vn.classList.add("highlightArea");else Jn.classList.add("highlightArea")}_editOnDoubleClick(){const{annotationEditorType:Jn,data:{id:Vn}}=this;this.container.addEventListener("dblclick",()=>{var Zn;(Zn=this.linkService.eventBus)==null||Zn.dispatch("switchannotationeditormode",{source:this,mode:Jn,editId:Vn})})}};ln=new WeakMap;let Ft=on;class Xt extends Ft{constructor(Vn,Zn=null){super(Vn,{isRenderable:!0,ignoreBorder:!!(Zn!=null&&Zn.ignoreBorder),createQuadrilaterals:!0});Nn(this,cn);this.isTooltipOnly=Vn.data.isTooltipOnly}render(){const{data:Vn,linkService:Zn}=this,ur=document.createElement("a");ur.setAttribute("data-element-id",Vn.id);let hr=!1;return Vn.url?(Zn.addLinkAttributes(ur,Vn.url,Vn.newWindow),hr=!0):Vn.action?(this._bindNamedAction(ur,Vn.action),hr=!0):Vn.attachment?(this._bindAttachment(ur,Vn.attachment),hr=!0):Vn.setOCGState?(On(this,cn,q8).call(this,ur,Vn.setOCGState),hr=!0):Vn.dest?(this._bindLink(ur,Vn.dest),hr=!0):(Vn.actions&&(Vn.actions.Action||Vn.actions["Mouse Up"]||Vn.actions["Mouse Down"])&&this.enableScripting&&this.hasJSActions&&(this._bindJSAction(ur,Vn),hr=!0),Vn.resetForm?(this._bindResetFormAction(ur,Vn.resetForm),hr=!0):this.isTooltipOnly&&!hr&&(this._bindLink(ur,""),hr=!0)),this.container.classList.add("linkAnnotation"),hr&&this.container.append(ur),this.container}_bindLink(Vn,Zn){Vn.href=this.linkService.getDestinationHash(Zn),Vn.onclick=()=>(Zn&&this.linkService.goToDestination(Zn),!1),(Zn||Zn==="")&&On(this,cn,Fu).call(this)}_bindNamedAction(Vn,Zn){Vn.href=this.linkService.getAnchorUrl(""),Vn.onclick=()=>(this.linkService.executeNamedAction(Zn),!1),On(this,cn,Fu).call(this)}_bindAttachment(Vn,Zn){Vn.href=this.linkService.getAnchorUrl(""),Vn.onclick=()=>{var ur;return(ur=this.downloadManager)==null||ur.openOrDownloadData(this.container,Zn.content,Zn.filename),!1},On(this,cn,Fu).call(this)}_bindJSAction(Vn,Zn){Vn.href=this.linkService.getAnchorUrl("");const ur=new Map([["Action","onclick"],["Mouse Up","onmouseup"],["Mouse Down","onmousedown"]]);for(const hr of Object.keys(Zn.actions)){const or=ur.get(hr);or&&(Vn[or]=()=>{var pr;return(pr=this.linkService.eventBus)==null||pr.dispatch("dispatcheventinsandbox",{source:this,detail:{id:Zn.id,name:hr}}),!1})}Vn.onclick||(Vn.onclick=()=>!1),On(this,cn,Fu).call(this)}_bindResetFormAction(Vn,Zn){const ur=Vn.onclick;if(ur||(Vn.href=this.linkService.getAnchorUrl("")),On(this,cn,Fu).call(this),!this._fieldObjects){(0,vt.warn)('_bindResetFormAction - "resetForm" action not supported, ensure that the `fieldObjects` parameter is provided.'),ur||(Vn.onclick=()=>!1);return}Vn.onclick=()=>{var Lr;ur==null||ur();const{fields:hr,refs:or,include:pr}=Zn,wr=[];if(hr.length!==0||or.length!==0){const Fr=new Set(or);for(const $r of hr){const Er=this._fieldObjects[$r]||[];for(const{id:_r}of Er)Fr.add(_r)}for(const $r of Object.values(this._fieldObjects))for(const Er of $r)Fr.has(Er.id)===pr&&wr.push(Er)}else for(const Fr of Object.values(this._fieldObjects))wr.push(...Fr);const fr=this.annotationStorage,Ar=[];for(const Fr of wr){const{id:$r}=Fr;switch(Ar.push($r),Fr.type){case"text":{const _r=Fr.defaultValue||"";fr.setValue($r,{value:_r});break}case"checkbox":case"radiobutton":{const _r=Fr.defaultValue===Fr.exportValues;fr.setValue($r,{value:_r});break}case"combobox":case"listbox":{const _r=Fr.defaultValue||"";fr.setValue($r,{value:_r});break}default:continue}const Er=document.querySelector(`[data-element-id="${$r}"]`);if(Er){if(!Pt.has(Er)){(0,vt.warn)(`_bindResetFormAction - element not allowed: ${$r}`);continue}}else continue;Er.dispatchEvent(new Event("resetform"))}return this.enableScripting&&((Lr=this.linkService.eventBus)==null||Lr.dispatch("dispatcheventinsandbox",{source:this,detail:{id:"app",ids:Ar,name:"ResetForm"}})),!1}}}cn=new WeakSet,Fu=function(){this.container.setAttribute("data-internal-link","")},q8=function(Vn,Zn){Vn.href=this.linkService.getAnchorUrl(""),Vn.onclick=()=>(this.linkService.executeSetOCGState(Zn),!1),On(this,cn,Fu).call(this)};class Kt extends Ft{constructor(Jn){super(Jn,{isRenderable:!0})}render(){this.container.classList.add("textAnnotation");const Jn=document.createElement("img");return Jn.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",Jn.alt="[{{type}} Annotation]",Jn.dataset.l10nId="text_annotation_type",Jn.dataset.l10nArgs=JSON.stringify({type:this.data.name}),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.append(Jn),this.container}}class Nt extends Ft{render(){return this.data.alternativeText&&(this.container.title=this.data.alternativeText),this.container}showElementAndHideCanvas(Jn){var Vn;this.data.hasOwnCanvas&&(((Vn=Jn.previousSibling)==null?void 0:Vn.nodeName)==="CANVAS"&&(Jn.previousSibling.hidden=!0),Jn.hidden=!1)}_getKeyModifier(Jn){const{isWin:Vn,isMac:Zn}=vt.FeatureTest.platform;return Vn&&Jn.ctrlKey||Zn&&Jn.metaKey}_setEventListener(Jn,Vn,Zn,ur,hr){Zn.includes("mouse")?Jn.addEventListener(Zn,or=>{var pr;(pr=this.linkService.eventBus)==null||pr.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:ur,value:hr(or),shift:or.shiftKey,modifier:this._getKeyModifier(or)}})}):Jn.addEventListener(Zn,or=>{var pr;if(Zn==="blur"){if(!Vn.focused||!or.relatedTarget)return;Vn.focused=!1}else if(Zn==="focus"){if(Vn.focused)return;Vn.focused=!0}hr&&((pr=this.linkService.eventBus)==null||pr.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:ur,value:hr(or)}}))})}_setEventListeners(Jn,Vn,Zn,ur){var hr,or,pr;for(const[wr,fr]of Zn)(fr==="Action"||(hr=this.data.actions)!=null&&hr[fr])&&((fr==="Focus"||fr==="Blur")&&(Vn||(Vn={focused:!1})),this._setEventListener(Jn,Vn,wr,fr,ur),fr==="Focus"&&!((or=this.data.actions)!=null&&or.Blur)?this._setEventListener(Jn,Vn,"blur","Blur",null):fr==="Blur"&&!((pr=this.data.actions)!=null&&pr.Focus)&&this._setEventListener(Jn,Vn,"focus","Focus",null))}_setBackgroundColor(Jn){const Vn=this.data.backgroundColor||null;Jn.style.backgroundColor=Vn===null?"transparent":vt.Util.makeHexColor(Vn[0],Vn[1],Vn[2])}_setTextStyle(Jn){const Vn=["left","center","right"],{fontColor:Zn}=this.data.defaultAppearanceData,ur=this.data.defaultAppearanceData.fontSize||_t,hr=Jn.style;let or;const pr=2,wr=fr=>Math.round(10*fr)/10;if(this.data.multiLine){const fr=Math.abs(this.data.rect[3]-this.data.rect[1]-pr),Ar=Math.round(fr/(vt.LINE_FACTOR*ur))||1,Lr=fr/Ar;or=Math.min(ur,wr(Lr/vt.LINE_FACTOR))}else{const fr=Math.abs(this.data.rect[3]-this.data.rect[1]-pr);or=Math.min(ur,wr(fr/vt.LINE_FACTOR))}hr.fontSize=`calc(${or}px * var(--scale-factor))`,hr.color=vt.Util.makeHexColor(Zn[0],Zn[1],Zn[2]),this.data.textAlignment!==null&&(hr.textAlign=Vn[this.data.textAlignment])}_setRequired(Jn,Vn){Vn?Jn.setAttribute("required",!0):Jn.removeAttribute("required"),Jn.setAttribute("aria-required",Vn)}}class $t extends Nt{constructor(Jn){const Vn=Jn.renderForms||!Jn.data.hasAppearance&&!!Jn.data.fieldValue;super(Jn,{isRenderable:Vn})}setPropertyOnSiblings(Jn,Vn,Zn,ur){const hr=this.annotationStorage;for(const or of this._getElementsByName(Jn.name,Jn.id))or.domElement&&(or.domElement[Vn]=Zn),hr.setValue(or.id,{[ur]:Zn})}render(){var ur,hr;const Jn=this.annotationStorage,Vn=this.data.id;this.container.classList.add("textWidgetAnnotation");let Zn=null;if(this.renderForms){const or=Jn.getValue(Vn,{value:this.data.fieldValue});let pr=or.value||"";const wr=Jn.getValue(Vn,{charLimit:this.data.maxLen}).charLimit;wr&&pr.length>wr&&(pr=pr.slice(0,wr));let fr=or.formattedValue||((ur=this.data.textContent)==null?void 0:ur.join(`
`))||null;fr&&this.data.comb&&(fr=fr.replaceAll(/\s+/g,""));const Ar={userValue:pr,formattedValue:fr,lastCommittedValue:null,commitKey:1,focused:!1};this.data.multiLine?(Zn=document.createElement("textarea"),Zn.textContent=fr??pr,this.data.doNotScroll&&(Zn.style.overflowY="hidden")):(Zn=document.createElement("input"),Zn.type="text",Zn.setAttribute("value",fr??pr),this.data.doNotScroll&&(Zn.style.overflowX="hidden")),this.data.hasOwnCanvas&&(Zn.hidden=!0),Pt.add(Zn),Zn.setAttribute("data-element-id",Vn),Zn.disabled=this.data.readOnly,Zn.name=this.data.fieldName,Zn.tabIndex=wt,this._setRequired(Zn,this.data.required),wr&&(Zn.maxLength=wr),Zn.addEventListener("input",Fr=>{Jn.setValue(Vn,{value:Fr.target.value}),this.setPropertyOnSiblings(Zn,"value",Fr.target.value,"value"),Ar.formattedValue=null}),Zn.addEventListener("resetform",Fr=>{const $r=this.data.defaultFieldValue??"";Zn.value=Ar.userValue=$r,Ar.formattedValue=null});let Lr=Fr=>{const{formattedValue:$r}=Ar;$r!=null&&(Fr.target.value=$r),Fr.target.scrollLeft=0};if(this.enableScripting&&this.hasJSActions){Zn.addEventListener("focus",$r=>{if(Ar.focused)return;const{target:Er}=$r;Ar.userValue&&(Er.value=Ar.userValue),Ar.lastCommittedValue=Er.value,Ar.commitKey=1,Ar.focused=!0}),Zn.addEventListener("updatefromsandbox",$r=>{this.showElementAndHideCanvas($r.target);const Er={value(_r){Ar.userValue=_r.detail.value??"",Jn.setValue(Vn,{value:Ar.userValue.toString()}),_r.target.value=Ar.userValue},formattedValue(_r){const{formattedValue:Rr}=_r.detail;Ar.formattedValue=Rr,Rr!=null&&_r.target!==document.activeElement&&(_r.target.value=Rr),Jn.setValue(Vn,{formattedValue:Rr})},selRange(_r){_r.target.setSelectionRange(..._r.detail.selRange)},charLimit:_r=>{var ls;const{charLimit:Rr}=_r.detail,{target:qr}=_r;if(Rr===0){qr.removeAttribute("maxLength");return}qr.setAttribute("maxLength",Rr);let vs=Ar.userValue;!vs||vs.length<=Rr||(vs=vs.slice(0,Rr),qr.value=Ar.userValue=vs,Jn.setValue(Vn,{value:vs}),(ls=this.linkService.eventBus)==null||ls.dispatch("dispatcheventinsandbox",{source:this,detail:{id:Vn,name:"Keystroke",value:vs,willCommit:!0,commitKey:1,selStart:qr.selectionStart,selEnd:qr.selectionEnd}}))}};this._dispatchEventFromSandbox(Er,$r)}),Zn.addEventListener("keydown",$r=>{var Rr;Ar.commitKey=1;let Er=-1;if($r.key==="Escape"?Er=0:$r.key==="Enter"&&!this.data.multiLine?Er=2:$r.key==="Tab"&&(Ar.commitKey=3),Er===-1)return;const{value:_r}=$r.target;Ar.lastCommittedValue!==_r&&(Ar.lastCommittedValue=_r,Ar.userValue=_r,(Rr=this.linkService.eventBus)==null||Rr.dispatch("dispatcheventinsandbox",{source:this,detail:{id:Vn,name:"Keystroke",value:_r,willCommit:!0,commitKey:Er,selStart:$r.target.selectionStart,selEnd:$r.target.selectionEnd}}))});const Fr=Lr;Lr=null,Zn.addEventListener("blur",$r=>{var _r;if(!Ar.focused||!$r.relatedTarget)return;Ar.focused=!1;const{value:Er}=$r.target;Ar.userValue=Er,Ar.lastCommittedValue!==Er&&((_r=this.linkService.eventBus)==null||_r.dispatch("dispatcheventinsandbox",{source:this,detail:{id:Vn,name:"Keystroke",value:Er,willCommit:!0,commitKey:Ar.commitKey,selStart:$r.target.selectionStart,selEnd:$r.target.selectionEnd}})),Fr($r)}),(hr=this.data.actions)!=null&&hr.Keystroke&&Zn.addEventListener("beforeinput",$r=>{var Ns;Ar.lastCommittedValue=null;const{data:Er,target:_r}=$r,{value:Rr,selectionStart:qr,selectionEnd:vs}=_r;let ls=qr,ns=vs;switch($r.inputType){case"deleteWordBackward":{const Gs=Rr.substring(0,qr).match(/\w*[^\w]*$/);Gs&&(ls-=Gs[0].length);break}case"deleteWordForward":{const Gs=Rr.substring(qr).match(/^[^\w]*\w*/);Gs&&(ns+=Gs[0].length);break}case"deleteContentBackward":qr===vs&&(ls-=1);break;case"deleteContentForward":qr===vs&&(ns+=1);break}$r.preventDefault(),(Ns=this.linkService.eventBus)==null||Ns.dispatch("dispatcheventinsandbox",{source:this,detail:{id:Vn,name:"Keystroke",value:Rr,change:Er||"",willCommit:!1,selStart:ls,selEnd:ns}})}),this._setEventListeners(Zn,Ar,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],$r=>$r.target.value)}if(Lr&&Zn.addEventListener("blur",Lr),this.data.comb){const $r=(this.data.rect[2]-this.data.rect[0])/wr;Zn.classList.add("comb"),Zn.style.letterSpacing=`calc(${$r}px * var(--scale-factor) - 1ch)`}}else Zn=document.createElement("div"),Zn.textContent=this.data.fieldValue,Zn.style.verticalAlign="middle",Zn.style.display="table-cell";return this._setTextStyle(Zn),this._setBackgroundColor(Zn),this._setDefaultPropertiesFromJS(Zn),this.container.append(Zn),this.container}}class Dt extends Nt{constructor(Jn){super(Jn,{isRenderable:!!Jn.data.hasOwnCanvas})}}class jt extends Nt{constructor(Jn){super(Jn,{isRenderable:Jn.renderForms})}render(){const Jn=this.annotationStorage,Vn=this.data,Zn=Vn.id;let ur=Jn.getValue(Zn,{value:Vn.exportValue===Vn.fieldValue}).value;typeof ur=="string"&&(ur=ur!=="Off",Jn.setValue(Zn,{value:ur})),this.container.classList.add("buttonWidgetAnnotation","checkBox");const hr=document.createElement("input");return Pt.add(hr),hr.setAttribute("data-element-id",Zn),hr.disabled=Vn.readOnly,this._setRequired(hr,this.data.required),hr.type="checkbox",hr.name=Vn.fieldName,ur&&hr.setAttribute("checked",!0),hr.setAttribute("exportValue",Vn.exportValue),hr.tabIndex=wt,hr.addEventListener("change",or=>{const{name:pr,checked:wr}=or.target;for(const fr of this._getElementsByName(pr,Zn)){const Ar=wr&&fr.exportValue===Vn.exportValue;fr.domElement&&(fr.domElement.checked=Ar),Jn.setValue(fr.id,{value:Ar})}Jn.setValue(Zn,{value:wr})}),hr.addEventListener("resetform",or=>{const pr=Vn.defaultFieldValue||"Off";or.target.checked=pr===Vn.exportValue}),this.enableScripting&&this.hasJSActions&&(hr.addEventListener("updatefromsandbox",or=>{const pr={value(wr){wr.target.checked=wr.detail.value!=="Off",Jn.setValue(Zn,{value:wr.target.checked})}};this._dispatchEventFromSandbox(pr,or)}),this._setEventListeners(hr,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],or=>or.target.checked)),this._setBackgroundColor(hr),this._setDefaultPropertiesFromJS(hr),this.container.append(hr),this.container}}class Ct extends Nt{constructor(Jn){super(Jn,{isRenderable:Jn.renderForms})}render(){this.container.classList.add("buttonWidgetAnnotation","radioButton");const Jn=this.annotationStorage,Vn=this.data,Zn=Vn.id;let ur=Jn.getValue(Zn,{value:Vn.fieldValue===Vn.buttonValue}).value;typeof ur=="string"&&(ur=ur!==Vn.buttonValue,Jn.setValue(Zn,{value:ur}));const hr=document.createElement("input");if(Pt.add(hr),hr.setAttribute("data-element-id",Zn),hr.disabled=Vn.readOnly,this._setRequired(hr,this.data.required),hr.type="radio",hr.name=Vn.fieldName,ur&&hr.setAttribute("checked",!0),hr.tabIndex=wt,hr.addEventListener("change",or=>{const{name:pr,checked:wr}=or.target;for(const fr of this._getElementsByName(pr,Zn))Jn.setValue(fr.id,{value:!1});Jn.setValue(Zn,{value:wr})}),hr.addEventListener("resetform",or=>{const pr=Vn.defaultFieldValue;or.target.checked=pr!=null&&pr===Vn.buttonValue}),this.enableScripting&&this.hasJSActions){const or=Vn.buttonValue;hr.addEventListener("updatefromsandbox",pr=>{const wr={value:fr=>{const Ar=or===fr.detail.value;for(const Lr of this._getElementsByName(fr.target.name)){const Fr=Ar&&Lr.id===Zn;Lr.domElement&&(Lr.domElement.checked=Fr),Jn.setValue(Lr.id,{value:Fr})}}};this._dispatchEventFromSandbox(wr,pr)}),this._setEventListeners(hr,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],pr=>pr.target.checked)}return this._setBackgroundColor(hr),this._setDefaultPropertiesFromJS(hr),this.container.append(hr),this.container}}class qt extends Xt{constructor(Jn){super(Jn,{ignoreBorder:Jn.data.hasAppearance})}render(){const Jn=super.render();Jn.classList.add("buttonWidgetAnnotation","pushButton"),this.data.alternativeText&&(Jn.title=this.data.alternativeText);const Vn=Jn.lastChild;return this.enableScripting&&this.hasJSActions&&Vn&&(this._setDefaultPropertiesFromJS(Vn),Vn.addEventListener("updatefromsandbox",Zn=>{this._dispatchEventFromSandbox({},Zn)})),Jn}}class Bt extends Nt{constructor(Jn){super(Jn,{isRenderable:Jn.renderForms})}render(){this.container.classList.add("choiceWidgetAnnotation");const Jn=this.annotationStorage,Vn=this.data.id,Zn=Jn.getValue(Vn,{value:this.data.fieldValue}),ur=document.createElement("select");Pt.add(ur),ur.setAttribute("data-element-id",Vn),ur.disabled=this.data.readOnly,this._setRequired(ur,this.data.required),ur.name=this.data.fieldName,ur.tabIndex=wt;let hr=this.data.combo&&this.data.options.length>0;this.data.combo||(ur.size=this.data.options.length,this.data.multiSelect&&(ur.multiple=!0)),ur.addEventListener("resetform",Ar=>{const Lr=this.data.defaultFieldValue;for(const Fr of ur.options)Fr.selected=Fr.value===Lr});for(const Ar of this.data.options){const Lr=document.createElement("option");Lr.textContent=Ar.displayValue,Lr.value=Ar.exportValue,Zn.value.includes(Ar.exportValue)&&(Lr.setAttribute("selected",!0),hr=!1),ur.append(Lr)}let or=null;if(hr){const Ar=document.createElement("option");Ar.value=" ",Ar.setAttribute("hidden",!0),Ar.setAttribute("selected",!0),ur.prepend(Ar),or=()=>{Ar.remove(),ur.removeEventListener("input",or),or=null},ur.addEventListener("input",or)}const pr=Ar=>{const Lr=Ar?"value":"textContent",{options:Fr,multiple:$r}=ur;return $r?Array.prototype.filter.call(Fr,Er=>Er.selected).map(Er=>Er[Lr]):Fr.selectedIndex===-1?null:Fr[Fr.selectedIndex][Lr]};let wr=pr(!1);const fr=Ar=>{const Lr=Ar.target.options;return Array.prototype.map.call(Lr,Fr=>({displayValue:Fr.textContent,exportValue:Fr.value}))};return this.enableScripting&&this.hasJSActions?(ur.addEventListener("updatefromsandbox",Ar=>{const Lr={value(Fr){or==null||or();const $r=Fr.detail.value,Er=new Set(Array.isArray($r)?$r:[$r]);for(const _r of ur.options)_r.selected=Er.has(_r.value);Jn.setValue(Vn,{value:pr(!0)}),wr=pr(!1)},multipleSelection(Fr){ur.multiple=!0},remove(Fr){const $r=ur.options,Er=Fr.detail.remove;$r[Er].selected=!1,ur.remove(Er),$r.length>0&&Array.prototype.findIndex.call($r,Rr=>Rr.selected)===-1&&($r[0].selected=!0),Jn.setValue(Vn,{value:pr(!0),items:fr(Fr)}),wr=pr(!1)},clear(Fr){for(;ur.length!==0;)ur.remove(0);Jn.setValue(Vn,{value:null,items:[]}),wr=pr(!1)},insert(Fr){const{index:$r,displayValue:Er,exportValue:_r}=Fr.detail.insert,Rr=ur.children[$r],qr=document.createElement("option");qr.textContent=Er,qr.value=_r,Rr?Rr.before(qr):ur.append(qr),Jn.setValue(Vn,{value:pr(!0),items:fr(Fr)}),wr=pr(!1)},items(Fr){const{items:$r}=Fr.detail;for(;ur.length!==0;)ur.remove(0);for(const Er of $r){const{displayValue:_r,exportValue:Rr}=Er,qr=document.createElement("option");qr.textContent=_r,qr.value=Rr,ur.append(qr)}ur.options.length>0&&(ur.options[0].selected=!0),Jn.setValue(Vn,{value:pr(!0),items:fr(Fr)}),wr=pr(!1)},indices(Fr){const $r=new Set(Fr.detail.indices);for(const Er of Fr.target.options)Er.selected=$r.has(Er.index);Jn.setValue(Vn,{value:pr(!0)}),wr=pr(!1)},editable(Fr){Fr.target.disabled=!Fr.detail.editable}};this._dispatchEventFromSandbox(Lr,Ar)}),ur.addEventListener("input",Ar=>{var Fr;const Lr=pr(!0);Jn.setValue(Vn,{value:Lr}),Ar.preventDefault(),(Fr=this.linkService.eventBus)==null||Fr.dispatch("dispatcheventinsandbox",{source:this,detail:{id:Vn,name:"Keystroke",value:wr,changeEx:Lr,willCommit:!1,commitKey:1,keyDown:!1}})}),this._setEventListeners(ur,null,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"],["input","Action"],["input","Validate"]],Ar=>Ar.target.value)):ur.addEventListener("input",function(Ar){Jn.setValue(Vn,{value:pr(!0)})}),this.data.combo&&this._setTextStyle(ur),this._setBackgroundColor(ur),this._setDefaultPropertiesFromJS(ur),this.container.append(ur),this.container}}class Gt extends Ft{constructor(Jn){const{data:Vn,elements:Zn}=Jn;super(Jn,{isRenderable:Ft._hasPopupData(Vn)}),this.elements=Zn}render(){this.container.classList.add("popupAnnotation");const Jn=new en({container:this.container,color:this.data.color,titleObj:this.data.titleObj,modificationDate:this.data.modificationDate,contentsObj:this.data.contentsObj,richText:this.data.richText,rect:this.data.rect,parentRect:this.data.parentRect||null,parent:this.parent,elements:this.elements,open:this.data.open}),Vn=[];for(const Zn of this.elements)Zn.popup=Jn,Vn.push(Zn.data.id),Zn.addHighlightArea();return this.container.setAttribute("aria-controls",Vn.map(Zn=>`${vt.AnnotationPrefix}${Zn}`).join(",")),this.container}}class en{constructor({container:Jn,color:Vn,elements:Zn,titleObj:ur,modificationDate:hr,contentsObj:or,richText:pr,parent:wr,rect:fr,parentRect:Ar,open:Lr}){Nn(this,_n);Nn(this,xn,null);Nn(this,vn,On(this,_n,K8).bind(this));Nn(this,En,On(this,_n,O3).bind(this));Nn(this,Fn,On(this,_n,M3).bind(this));Nn(this,Mn,On(this,_n,F2).bind(this));Nn(this,Tn,null);Nn(this,Sn,null);Nn(this,mn,null);Nn(this,fn,null);Nn(this,Jt,null);Nn(this,un,null);Nn(this,pn,!1);Nn(this,wn,null);Nn(this,kn,null);Nn(this,Rn,null);Nn(this,Cn,null);Nn(this,An,!1);var $r;$n(this,Sn,Jn),$n(this,Cn,ur),$n(this,mn,or),$n(this,Rn,pr),$n(this,Jt,wr),$n(this,Tn,Vn),$n(this,kn,fr),$n(this,un,Ar),$n(this,fn,Zn);const Fr=At.PDFDateString.toDateObject(hr);Fr&&$n(this,xn,wr.l10n.get("annotation_date_string",{date:Fr.toLocaleDateString(),time:Fr.toLocaleTimeString()})),this.trigger=Zn.flatMap(Er=>Er.getElementsToTriggerPopup());for(const Er of this.trigger)Er.addEventListener("click",Mt(this,Mn)),Er.addEventListener("mouseenter",Mt(this,Fn)),Er.addEventListener("mouseleave",Mt(this,En)),Er.classList.add("popupTriggerArea");for(const Er of Zn)($r=Er.container)==null||$r.addEventListener("keydown",Mt(this,vn));Mt(this,Sn).hidden=!0,Lr&&On(this,_n,F2).call(this)}render(){if(Mt(this,wn))return;const{page:{view:Jn},viewport:{rawDims:{pageWidth:Vn,pageHeight:Zn,pageX:ur,pageY:hr}}}=Mt(this,Jt),or=$n(this,wn,document.createElement("div"));if(or.className="popup",Mt(this,Tn)){const ls=or.style.outlineColor=vt.Util.makeHexColor(...Mt(this,Tn));CSS.supports("background-color","color-mix(in srgb, red 30%, white)")?or.style.backgroundColor=`color-mix(in srgb, ${ls} 30%, white)`:or.style.backgroundColor=vt.Util.makeHexColor(...Mt(this,Tn).map(Ns=>Math.floor(.7*(255-Ns)+Ns)))}const pr=document.createElement("span");pr.className="header";const wr=document.createElement("h1");if(pr.append(wr),{dir:wr.dir,str:wr.textContent}=Mt(this,Cn),or.append(pr),Mt(this,xn)){const ls=document.createElement("span");ls.classList.add("popupDate"),Mt(this,xn).then(ns=>{ls.textContent=ns}),pr.append(ls)}const fr=Mt(this,mn),Ar=Mt(this,Rn);if(Ar!=null&&Ar.str&&(!(fr!=null&&fr.str)||fr.str===Ar.str))Rt.XfaLayer.render({xfaHtml:Ar.html,intent:"richText",div:or}),or.lastChild.classList.add("richText","popupContent");else{const ls=this._formatContents(fr);or.append(ls)}let Lr=!!Mt(this,un),Fr=Lr?Mt(this,un):Mt(this,kn);for(const ls of Mt(this,fn))if(!Fr||vt.Util.intersect(ls.data.rect,Fr)!==null){Fr=ls.data.rect,Lr=!0;break}const $r=vt.Util.normalizeRect([Fr[0],Jn[3]-Fr[1]+Jn[1],Fr[2],Jn[3]-Fr[3]+Jn[1]]),_r=Lr?Fr[2]-Fr[0]+5:0,Rr=$r[0]+_r,qr=$r[1],{style:vs}=Mt(this,Sn);vs.left=`${100*(Rr-ur)/Vn}%`,vs.top=`${100*(qr-hr)/Zn}%`,Mt(this,Sn).append(or)}_formatContents({str:Jn,dir:Vn}){const Zn=document.createElement("p");Zn.classList.add("popupContent"),Zn.dir=Vn;const ur=Jn.split(/(?:\r\n?|\n)/);for(let hr=0,or=ur.length;hr<or;++hr){const pr=ur[hr];Zn.append(document.createTextNode(pr)),hr<or-1&&Zn.append(document.createElement("br"))}return Zn}forceHide(){$n(this,An,this.isVisible),Mt(this,An)&&(Mt(this,Sn).hidden=!0)}maybeShow(){Mt(this,An)&&($n(this,An,!1),Mt(this,Sn).hidden=!1)}get isVisible(){return Mt(this,Sn).hidden===!1}}xn=new WeakMap,vn=new WeakMap,En=new WeakMap,Fn=new WeakMap,Mn=new WeakMap,Tn=new WeakMap,Sn=new WeakMap,mn=new WeakMap,fn=new WeakMap,Jt=new WeakMap,un=new WeakMap,pn=new WeakMap,wn=new WeakMap,kn=new WeakMap,Rn=new WeakMap,Cn=new WeakMap,An=new WeakMap,_n=new WeakSet,K8=function(Jn){Jn.altKey||Jn.shiftKey||Jn.ctrlKey||Jn.metaKey||(Jn.key==="Enter"||Jn.key==="Escape"&&Mt(this,pn))&&On(this,_n,F2).call(this)},F2=function(){$n(this,pn,!Mt(this,pn)),Mt(this,pn)?(On(this,_n,M3).call(this),Mt(this,Sn).addEventListener("click",Mt(this,Mn)),Mt(this,Sn).addEventListener("keydown",Mt(this,vn))):(On(this,_n,O3).call(this),Mt(this,Sn).removeEventListener("click",Mt(this,Mn)),Mt(this,Sn).removeEventListener("keydown",Mt(this,vn)))},M3=function(){Mt(this,wn)||this.render(),this.isVisible?Mt(this,pn)&&Mt(this,Sn).classList.add("focused"):(Mt(this,Sn).hidden=!1,Mt(this,Sn).style.zIndex=parseInt(Mt(this,Sn).style.zIndex)+1e3)},O3=function(){Mt(this,Sn).classList.remove("focused"),!(Mt(this,pn)||!this.isVisible)&&(Mt(this,Sn).hidden=!0,Mt(this,Sn).style.zIndex=parseInt(Mt(this,Sn).style.zIndex)-1e3)};class dn extends Ft{constructor(Jn){super(Jn,{isRenderable:!0,ignoreBorder:!0}),this.textContent=Jn.data.textContent,this.textPosition=Jn.data.textPosition,this.annotationEditorType=vt.AnnotationEditorType.FREETEXT}render(){if(this.container.classList.add("freeTextAnnotation"),this.textContent){const Jn=document.createElement("div");Jn.classList.add("annotationTextContent"),Jn.setAttribute("role","comment");for(const Vn of this.textContent){const Zn=document.createElement("span");Zn.textContent=Vn,Jn.append(Zn)}this.container.append(Jn)}return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}}$.FreeTextAnnotationElement=dn;class Qt extends Ft{constructor(Vn){super(Vn,{isRenderable:!0,ignoreBorder:!0});Nn(this,Un,null)}render(){this.container.classList.add("lineAnnotation");const Vn=this.data,{width:Zn,height:ur}=_e(Vn.rect),hr=this.svgFactory.create(Zn,ur,!0),or=$n(this,Un,this.svgFactory.createElement("svg:line"));return or.setAttribute("x1",Vn.rect[2]-Vn.lineCoordinates[0]),or.setAttribute("y1",Vn.rect[3]-Vn.lineCoordinates[1]),or.setAttribute("x2",Vn.rect[2]-Vn.lineCoordinates[2]),or.setAttribute("y2",Vn.rect[3]-Vn.lineCoordinates[3]),or.setAttribute("stroke-width",Vn.borderStyle.width||1),or.setAttribute("stroke","transparent"),or.setAttribute("fill","transparent"),hr.append(or),this.container.append(hr),!Vn.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return Mt(this,Un)}addHighlightArea(){this.container.classList.add("highlightArea")}}Un=new WeakMap;class gn extends Ft{constructor(Vn){super(Vn,{isRenderable:!0,ignoreBorder:!0});Nn(this,tr,null)}render(){this.container.classList.add("squareAnnotation");const Vn=this.data,{width:Zn,height:ur}=_e(Vn.rect),hr=this.svgFactory.create(Zn,ur,!0),or=Vn.borderStyle.width,pr=$n(this,tr,this.svgFactory.createElement("svg:rect"));return pr.setAttribute("x",or/2),pr.setAttribute("y",or/2),pr.setAttribute("width",Zn-or),pr.setAttribute("height",ur-or),pr.setAttribute("stroke-width",or||1),pr.setAttribute("stroke","transparent"),pr.setAttribute("fill","transparent"),hr.append(pr),this.container.append(hr),!Vn.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return Mt(this,tr)}addHighlightArea(){this.container.classList.add("highlightArea")}}tr=new WeakMap;class nn extends Ft{constructor(Vn){super(Vn,{isRenderable:!0,ignoreBorder:!0});Nn(this,er,null)}render(){this.container.classList.add("circleAnnotation");const Vn=this.data,{width:Zn,height:ur}=_e(Vn.rect),hr=this.svgFactory.create(Zn,ur,!0),or=Vn.borderStyle.width,pr=$n(this,er,this.svgFactory.createElement("svg:ellipse"));return pr.setAttribute("cx",Zn/2),pr.setAttribute("cy",ur/2),pr.setAttribute("rx",Zn/2-or/2),pr.setAttribute("ry",ur/2-or/2),pr.setAttribute("stroke-width",or||1),pr.setAttribute("stroke","transparent"),pr.setAttribute("fill","transparent"),hr.append(pr),this.container.append(hr),!Vn.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return Mt(this,er)}addHighlightArea(){this.container.classList.add("highlightArea")}}er=new WeakMap;class bn extends Ft{constructor(Vn){super(Vn,{isRenderable:!0,ignoreBorder:!0});Nn(this,Qn,null);this.containerClassName="polylineAnnotation",this.svgElementName="svg:polyline"}render(){this.container.classList.add(this.containerClassName);const Vn=this.data,{width:Zn,height:ur}=_e(Vn.rect),hr=this.svgFactory.create(Zn,ur,!0);let or=[];for(const wr of Vn.vertices){const fr=wr.x-Vn.rect[0],Ar=Vn.rect[3]-wr.y;or.push(fr+","+Ar)}or=or.join(" ");const pr=$n(this,Qn,this.svgFactory.createElement(this.svgElementName));return pr.setAttribute("points",or),pr.setAttribute("stroke-width",Vn.borderStyle.width||1),pr.setAttribute("stroke","transparent"),pr.setAttribute("fill","transparent"),hr.append(pr),this.container.append(hr),!Vn.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return Mt(this,Qn)}addHighlightArea(){this.container.classList.add("highlightArea")}}Qn=new WeakMap;class Vt extends bn{constructor(Jn){super(Jn),this.containerClassName="polygonAnnotation",this.svgElementName="svg:polygon"}}class Yt extends Ft{constructor(Jn){super(Jn,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("caretAnnotation"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container}}class hn extends Ft{constructor(Vn){super(Vn,{isRenderable:!0,ignoreBorder:!0});Nn(this,Yn,[]);this.containerClassName="inkAnnotation",this.svgElementName="svg:polyline",this.annotationEditorType=vt.AnnotationEditorType.INK}render(){this.container.classList.add(this.containerClassName);const Vn=this.data,{width:Zn,height:ur}=_e(Vn.rect),hr=this.svgFactory.create(Zn,ur,!0);for(const or of Vn.inkLists){let pr=[];for(const fr of or){const Ar=fr.x-Vn.rect[0],Lr=Vn.rect[3]-fr.y;pr.push(`${Ar},${Lr}`)}pr=pr.join(" ");const wr=this.svgFactory.createElement(this.svgElementName);Mt(this,Yn).push(wr),wr.setAttribute("points",pr),wr.setAttribute("stroke-width",Vn.borderStyle.width||1),wr.setAttribute("stroke","transparent"),wr.setAttribute("fill","transparent"),!Vn.popupRef&&this.hasPopupData&&this._createPopup(),hr.append(wr)}return this.container.append(hr),this.container}getElementsToTriggerPopup(){return Mt(this,Yn)}addHighlightArea(){this.container.classList.add("highlightArea")}}Yn=new WeakMap,$.InkAnnotationElement=hn;class Ut extends Ft{constructor(Jn){super(Jn,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("highlightAnnotation"),this.container}}class Ot extends Ft{constructor(Jn){super(Jn,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("underlineAnnotation"),this.container}}class zt extends Ft{constructor(Jn){super(Jn,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("squigglyAnnotation"),this.container}}class an extends Ft{constructor(Jn){super(Jn,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("strikeoutAnnotation"),this.container}}class Ht extends Ft{constructor(Jn){super(Jn,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("stampAnnotation"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container}}$.StampAnnotationElement=Ht;class Wt extends Ft{constructor(Vn){var hr;super(Vn,{isRenderable:!0});Nn(this,nr);Nn(this,Xn,null);const{filename:Zn,content:ur}=this.data.file;this.filename=(0,At.getFilenameFromUrl)(Zn,!0),this.content=ur,(hr=this.linkService.eventBus)==null||hr.dispatch("fileattachmentannotation",{source:this,filename:Zn,content:ur})}render(){this.container.classList.add("fileAttachmentAnnotation");const{container:Vn,data:Zn}=this;let ur;Zn.hasAppearance||Zn.fillAlpha===0?ur=document.createElement("div"):(ur=document.createElement("img"),ur.src=`${this.imageResourcesPath}annotation-${/paperclip/i.test(Zn.name)?"paperclip":"pushpin"}.svg`,Zn.fillAlpha&&Zn.fillAlpha<1&&(ur.style=`filter: opacity(${Math.round(Zn.fillAlpha*100)}%);`)),ur.addEventListener("dblclick",On(this,nr,D3).bind(this)),$n(this,Xn,ur);const{isMac:hr}=vt.FeatureTest.platform;return Vn.addEventListener("keydown",or=>{or.key==="Enter"&&(hr?or.metaKey:or.ctrlKey)&&On(this,nr,D3).call(this)}),!Zn.popupRef&&this.hasPopupData?this._createPopup():ur.classList.add("popupTriggerArea"),Vn.append(ur),Vn}getElementsToTriggerPopup(){return Mt(this,Xn)}addHighlightArea(){this.container.classList.add("highlightArea")}}Xn=new WeakMap,nr=new WeakSet,D3=function(){var Vn;(Vn=this.downloadManager)==null||Vn.openOrDownloadData(this.container,this.content,this.filename)};class tn{constructor({div:Jn,accessibilityManager:Vn,annotationCanvasMap:Zn,l10n:ur,page:hr,viewport:or}){Nn(this,Wn);Nn(this,dr,null);Nn(this,Bn,null);Nn(this,Hn,new Map);this.div=Jn,$n(this,dr,Vn),$n(this,Bn,Zn),this.l10n=ur,this.page=hr,this.viewport=or,this.zIndex=0,this.l10n||(this.l10n=Et.NullL10n)}async render(Jn){const{annotations:Vn}=Jn,Zn=this.div;(0,At.setLayerDimensions)(Zn,this.viewport);const ur=new Map,hr={data:null,layer:Zn,linkService:Jn.linkService,downloadManager:Jn.downloadManager,imageResourcesPath:Jn.imageResourcesPath||"",renderForms:Jn.renderForms!==!1,svgFactory:new At.DOMSVGFactory,annotationStorage:Jn.annotationStorage||new St.AnnotationStorage,enableScripting:Jn.enableScripting===!0,hasJSActions:Jn.hasJSActions,fieldObjects:Jn.fieldObjects,parent:this,elements:null};for(const or of Vn){if(or.noHTML)continue;const pr=or.annotationType===vt.AnnotationType.POPUP;if(pr){const Ar=ur.get(or.id);if(!Ar)continue;hr.elements=Ar}else{const{width:Ar,height:Lr}=_e(or.rect);if(Ar<=0||Lr<=0)continue}hr.data=or;const wr=bt.create(hr);if(!wr.isRenderable)continue;if(!pr&&or.popupRef){const Ar=ur.get(or.popupRef);Ar?Ar.push(wr):ur.set(or.popupRef,[wr])}wr.annotationEditorType>0&&Mt(this,Hn).set(wr.data.id,wr);const fr=wr.render();or.hidden&&(fr.style.visibility="hidden"),On(this,Wn,Y8).call(this,fr,or.id)}On(this,Wn,L3).call(this),await this.l10n.translate(Zn)}update({viewport:Jn}){const Vn=this.div;this.viewport=Jn,(0,At.setLayerDimensions)(Vn,{rotation:Jn.rotation}),On(this,Wn,L3).call(this),Vn.hidden=!1}getEditableAnnotations(){return Array.from(Mt(this,Hn).values())}getEditableAnnotation(Jn){return Mt(this,Hn).get(Jn)}}dr=new WeakMap,Bn=new WeakMap,Hn=new WeakMap,Wn=new WeakSet,Y8=function(Jn,Vn){var ur;const Zn=Jn.firstChild||Jn;Zn.id=`${vt.AnnotationPrefix}${Vn}`,this.div.append(Jn),(ur=Mt(this,dr))==null||ur.moveElementInDOM(this.div,Jn,Zn,!1)},L3=function(){if(!Mt(this,Bn))return;const Jn=this.div;for(const[Vn,Zn]of Mt(this,Bn)){const ur=Jn.querySelector(`[data-annotation-id="${Vn}"]`);if(!ur)continue;const{firstChild:hr}=ur;hr?hr.nodeName==="CANVAS"?hr.replaceWith(Zn):hr.before(Zn):ur.append(Zn)}Mt(this,Bn).clear()},$.AnnotationLayer=tn},(xt,$)=>{Object.defineProperty($,"__esModule",{value:!0}),$.ColorConverters=void 0;function ht(St){return Math.floor(Math.max(0,Math.min(1,St))*255).toString(16).padStart(2,"0")}function vt(St){return Math.max(0,Math.min(255,255*St))}class At{static CMYK_G([kt,Et,Rt,wt]){return["G",1-Math.min(1,.3*kt+.59*Rt+.11*Et+wt)]}static G_CMYK([kt]){return["CMYK",0,0,0,1-kt]}static G_RGB([kt]){return["RGB",kt,kt,kt]}static G_rgb([kt]){return kt=vt(kt),[kt,kt,kt]}static G_HTML([kt]){const Et=ht(kt);return`#${Et}${Et}${Et}`}static RGB_G([kt,Et,Rt]){return["G",.3*kt+.59*Et+.11*Rt]}static RGB_rgb(kt){return kt.map(vt)}static RGB_HTML(kt){return`#${kt.map(ht).join("")}`}static T_HTML(){return"#00000000"}static T_rgb(){return[null]}static CMYK_RGB([kt,Et,Rt,wt]){return["RGB",1-Math.min(1,kt+wt),1-Math.min(1,Rt+wt),1-Math.min(1,Et+wt)]}static CMYK_rgb([kt,Et,Rt,wt]){return[vt(1-Math.min(1,kt+wt)),vt(1-Math.min(1,Rt+wt)),vt(1-Math.min(1,Et+wt))]}static CMYK_HTML(kt){const Et=this.CMYK_RGB(kt).slice(1);return this.RGB_HTML(Et)}static RGB_CMYK([kt,Et,Rt]){const wt=1-kt,_t=1-Et,Pt=1-Rt,_e=Math.min(wt,_t,Pt);return["CMYK",wt,_t,Pt,_e]}}$.ColorConverters=At},(xt,$)=>{Object.defineProperty($,"__esModule",{value:!0}),$.NullL10n=void 0,$.getL10nFallback=vt;const ht={of_pages:"of {{pagesCount}}",page_of_pages:"({{pageNumber}} of {{pagesCount}})",document_properties_kb:"{{size_kb}} KB ({{size_b}} bytes)",document_properties_mb:"{{size_mb}} MB ({{size_b}} bytes)",document_properties_date_string:"{{date}}, {{time}}",document_properties_page_size_unit_inches:"in",document_properties_page_size_unit_millimeters:"mm",document_properties_page_size_orientation_portrait:"portrait",document_properties_page_size_orientation_landscape:"landscape",document_properties_page_size_name_a3:"A3",document_properties_page_size_name_a4:"A4",document_properties_page_size_name_letter:"Letter",document_properties_page_size_name_legal:"Legal",document_properties_page_size_dimension_string:"{{width}}  {{height}} {{unit}} ({{orientation}})",document_properties_page_size_dimension_name_string:"{{width}}  {{height}} {{unit}} ({{name}}, {{orientation}})",document_properties_linearized_yes:"Yes",document_properties_linearized_no:"No",additional_layers:"Additional Layers",page_landmark:"Page {{page}}",thumb_page_title:"Page {{page}}",thumb_page_canvas:"Thumbnail of Page {{page}}",find_reached_top:"Reached top of document, continued from bottom",find_reached_bottom:"Reached end of document, continued from top","find_match_count[one]":"{{current}} of {{total}} match","find_match_count[other]":"{{current}} of {{total}} matches","find_match_count_limit[one]":"More than {{limit}} match","find_match_count_limit[other]":"More than {{limit}} matches",find_not_found:"Phrase not found",page_scale_width:"Page Width",page_scale_fit:"Page Fit",page_scale_auto:"Automatic Zoom",page_scale_actual:"Actual Size",page_scale_percent:"{{scale}}%",loading_error:"An error occurred while loading the PDF.",invalid_file_error:"Invalid or corrupted PDF file.",missing_file_error:"Missing PDF file.",unexpected_response_error:"Unexpected server response.",rendering_error:"An error occurred while rendering the page.",annotation_date_string:"{{date}}, {{time}}",printing_not_supported:"Warning: Printing is not fully supported by this browser.",printing_not_ready:"Warning: The PDF is not fully loaded for printing.",web_fonts_disabled:"Web fonts are disabled: unable to use embedded PDF fonts.",free_text2_default_content:"Start typing",editor_free_text2_aria_label:"Text Editor",editor_ink2_aria_label:"Draw Editor",editor_ink_canvas_aria_label:"User-created image",editor_alt_text_button_label:"Alt text",editor_alt_text_edit_button_label:"Edit alt text",editor_alt_text_decorative_tooltip:"Marked as decorative"};ht.print_progress_percent="{{progress}}%";function vt(kt,Et){switch(kt){case"find_match_count":kt=`find_match_count[${Et.total===1?"one":"other"}]`;break;case"find_match_count_limit":kt=`find_match_count_limit[${Et.limit===1?"one":"other"}]`;break}return ht[kt]||""}function At(kt,Et){return Et?kt.replaceAll(/\{\{\s*(\w+)\s*\}\}/g,(Rt,wt)=>wt in Et?Et[wt]:"{{"+wt+"}}"):kt}const St={async getLanguage(){return"en-us"},async getDirection(){return"ltr"},async get(kt,Et=null,Rt=vt(kt,Et)){return At(Rt,Et)},async translate(kt){}};$.NullL10n=St},(xt,$,ht)=>{Object.defineProperty($,"__esModule",{value:!0}),$.XfaLayer=void 0;var vt=ht(25);class At{static setupStorage(kt,Et,Rt,wt,_t){const Pt=wt.getValue(Et,{value:null});switch(Rt.name){case"textarea":if(Pt.value!==null&&(kt.textContent=Pt.value),_t==="print")break;kt.addEventListener("input",_e=>{wt.setValue(Et,{value:_e.target.value})});break;case"input":if(Rt.attributes.type==="radio"||Rt.attributes.type==="checkbox"){if(Pt.value===Rt.attributes.xfaOn?kt.setAttribute("checked",!0):Pt.value===Rt.attributes.xfaOff&&kt.removeAttribute("checked"),_t==="print")break;kt.addEventListener("change",_e=>{wt.setValue(Et,{value:_e.target.checked?_e.target.getAttribute("xfaOn"):_e.target.getAttribute("xfaOff")})})}else{if(Pt.value!==null&&kt.setAttribute("value",Pt.value),_t==="print")break;kt.addEventListener("input",_e=>{wt.setValue(Et,{value:_e.target.value})})}break;case"select":if(Pt.value!==null){kt.setAttribute("value",Pt.value);for(const _e of Rt.children)_e.attributes.value===Pt.value?_e.attributes.selected=!0:_e.attributes.hasOwnProperty("selected")&&delete _e.attributes.selected}kt.addEventListener("input",_e=>{const bt=_e.target.options,Ft=bt.selectedIndex===-1?"":bt[bt.selectedIndex].value;wt.setValue(Et,{value:Ft})});break}}static setAttributes({html:kt,element:Et,storage:Rt=null,intent:wt,linkService:_t}){const{attributes:Pt}=Et,_e=kt instanceof HTMLAnchorElement;Pt.type==="radio"&&(Pt.name=`${Pt.name}-${wt}`);for(const[bt,Ft]of Object.entries(Pt))if(Ft!=null)switch(bt){case"class":Ft.length&&kt.setAttribute(bt,Ft.join(" "));break;case"dataId":break;case"id":kt.setAttribute("data-element-id",Ft);break;case"style":Object.assign(kt.style,Ft);break;case"textContent":kt.textContent=Ft;break;default:(!_e||bt!=="href"&&bt!=="newWindow")&&kt.setAttribute(bt,Ft)}_e&&_t.addLinkAttributes(kt,Pt.href,Pt.newWindow),Rt&&Pt.dataId&&this.setupStorage(kt,Pt.dataId,Et,Rt)}static render(kt){var Xt;const Et=kt.annotationStorage,Rt=kt.linkService,wt=kt.xfaHtml,_t=kt.intent||"display",Pt=document.createElement(wt.name);wt.attributes&&this.setAttributes({html:Pt,element:wt,intent:_t,linkService:Rt});const _e=[[wt,-1,Pt]],bt=kt.div;if(bt.append(Pt),kt.viewport){const Kt=`matrix(${kt.viewport.transform.join(",")})`;bt.style.transform=Kt}_t!=="richText"&&bt.setAttribute("class","xfaLayer xfaFont");const Ft=[];for(;_e.length>0;){const[Kt,Nt,$t]=_e.at(-1);if(Nt+1===Kt.children.length){_e.pop();continue}const Dt=Kt.children[++_e.at(-1)[1]];if(Dt===null)continue;const{name:jt}=Dt;if(jt==="#text"){const qt=document.createTextNode(Dt.value);Ft.push(qt),$t.append(qt);continue}const Ct=(Xt=Dt==null?void 0:Dt.attributes)!=null&&Xt.xmlns?document.createElementNS(Dt.attributes.xmlns,jt):document.createElement(jt);if($t.append(Ct),Dt.attributes&&this.setAttributes({html:Ct,element:Dt,storage:Et,intent:_t,linkService:Rt}),Dt.children&&Dt.children.length>0)_e.push([Dt,-1,Ct]);else if(Dt.value){const qt=document.createTextNode(Dt.value);vt.XfaText.shouldBuildText(jt)&&Ft.push(qt),Ct.append(qt)}}for(const Kt of bt.querySelectorAll(".xfaNonInteractive input, .xfaNonInteractive textarea"))Kt.setAttribute("readOnly",!0);return{textDivs:Ft}}static update(kt){const Et=`matrix(${kt.viewport.transform.join(",")})`;kt.div.style.transform=Et,kt.div.hidden=!1}}$.XfaLayer=At},(xt,$,ht)=>{var wt,_t,Pt,_e,bt,Ft,Xt,Kt,Nt,$t,Dt,jt,Ct,qt,Bt,Z8,J8,Q8,e5,N3,t5,$3,n5,i5,r5,s5,a5,h0,j3,P2,I2,X1,B3,M2,cn,o5,U3,l5,c5,H3,O2,W1;Object.defineProperty($,"__esModule",{value:!0}),$.InkEditor=void 0;var vt=ht(1),At=ht(4),St=ht(29),kt=ht(6),Et=ht(5);const Tn=class Tn extends At.AnnotationEditor{constructor(fn){super({...fn,name:"inkEditor"});Nn(this,Bt);Nn(this,wt,0);Nn(this,_t,0);Nn(this,Pt,this.canvasPointermove.bind(this));Nn(this,_e,this.canvasPointerleave.bind(this));Nn(this,bt,this.canvasPointerup.bind(this));Nn(this,Ft,this.canvasPointerdown.bind(this));Nn(this,Xt,new Path2D);Nn(this,Kt,!1);Nn(this,Nt,!1);Nn(this,$t,!1);Nn(this,Dt,null);Nn(this,jt,0);Nn(this,Ct,0);Nn(this,qt,null);this.color=fn.color||null,this.thickness=fn.thickness||null,this.opacity=fn.opacity||null,this.paths=[],this.bezierPath2D=[],this.allRawPaths=[],this.currentPath=[],this.scaleFactor=1,this.translationX=this.translationY=0,this.x=0,this.y=0,this._willKeepAspectRatio=!0}static initialize(fn){At.AnnotationEditor.initialize(fn,{strings:["editor_ink_canvas_aria_label","editor_ink2_aria_label"]})}static updateDefaultParams(fn,Jt){switch(fn){case vt.AnnotationEditorParamsType.INK_THICKNESS:Tn._defaultThickness=Jt;break;case vt.AnnotationEditorParamsType.INK_COLOR:Tn._defaultColor=Jt;break;case vt.AnnotationEditorParamsType.INK_OPACITY:Tn._defaultOpacity=Jt/100;break}}updateParams(fn,Jt){switch(fn){case vt.AnnotationEditorParamsType.INK_THICKNESS:On(this,Bt,Z8).call(this,Jt);break;case vt.AnnotationEditorParamsType.INK_COLOR:On(this,Bt,J8).call(this,Jt);break;case vt.AnnotationEditorParamsType.INK_OPACITY:On(this,Bt,Q8).call(this,Jt);break}}static get defaultPropertiesToUpdate(){return[[vt.AnnotationEditorParamsType.INK_THICKNESS,Tn._defaultThickness],[vt.AnnotationEditorParamsType.INK_COLOR,Tn._defaultColor||At.AnnotationEditor._defaultLineColor],[vt.AnnotationEditorParamsType.INK_OPACITY,Math.round(Tn._defaultOpacity*100)]]}get propertiesToUpdate(){return[[vt.AnnotationEditorParamsType.INK_THICKNESS,this.thickness||Tn._defaultThickness],[vt.AnnotationEditorParamsType.INK_COLOR,this.color||Tn._defaultColor||At.AnnotationEditor._defaultLineColor],[vt.AnnotationEditorParamsType.INK_OPACITY,Math.round(100*(this.opacity??Tn._defaultOpacity))]]}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.canvas||(On(this,Bt,P2).call(this),On(this,Bt,I2).call(this)),this.isAttachedToDOM||(this.parent.add(this),On(this,Bt,X1).call(this)),On(this,Bt,W1).call(this)))}remove(){this.canvas!==null&&(this.isEmpty()||this.commit(),this.canvas.width=this.canvas.height=0,this.canvas.remove(),this.canvas=null,Mt(this,Dt).disconnect(),$n(this,Dt,null),super.remove())}setParent(fn){!this.parent&&fn?this._uiManager.removeShouldRescale(this):this.parent&&fn===null&&this._uiManager.addShouldRescale(this),super.setParent(fn)}onScaleChanging(){const[fn,Jt]=this.parentDimensions,un=this.width*fn,pn=this.height*Jt;this.setDimensions(un,pn)}enableEditMode(){Mt(this,Kt)||this.canvas===null||(super.enableEditMode(),this._isDraggable=!1,this.canvas.addEventListener("pointerdown",Mt(this,Ft)))}disableEditMode(){!this.isInEditMode()||this.canvas===null||(super.disableEditMode(),this._isDraggable=!this.isEmpty(),this.div.classList.remove("editing"),this.canvas.removeEventListener("pointerdown",Mt(this,Ft)))}onceAdded(){this._isDraggable=!this.isEmpty()}isEmpty(){return this.paths.length===0||this.paths.length===1&&this.paths[0].length===0}commit(){Mt(this,Kt)||(super.commit(),this.isEditing=!1,this.disableEditMode(),this.setInForeground(),$n(this,Kt,!0),this.div.classList.add("disabled"),On(this,Bt,W1).call(this,!0),this.makeResizable(),this.parent.addInkEditorIfNeeded(!0),this.moveInDOM(),this.div.focus({preventScroll:!0}))}focusin(fn){this._focusEventsAllowed&&(super.focusin(fn),this.enableEditMode())}canvasPointerdown(fn){fn.button!==0||!this.isInEditMode()||Mt(this,Kt)||(this.setInForeground(),fn.preventDefault(),fn.type!=="mouse"&&this.div.focus(),On(this,Bt,t5).call(this,fn.offsetX,fn.offsetY))}canvasPointermove(fn){fn.preventDefault(),On(this,Bt,$3).call(this,fn.offsetX,fn.offsetY)}canvasPointerup(fn){fn.preventDefault(),On(this,Bt,j3).call(this,fn)}canvasPointerleave(fn){On(this,Bt,j3).call(this,fn)}get isResizable(){return!this.isEmpty()&&Mt(this,Kt)}render(){if(this.div)return this.div;let fn,Jt;this.width&&(fn=this.x,Jt=this.y),super.render(),At.AnnotationEditor._l10nPromise.get("editor_ink2_aria_label").then(Rn=>{var Cn;return(Cn=this.div)==null?void 0:Cn.setAttribute("aria-label",Rn)});const[un,pn,wn,kn]=On(this,Bt,e5).call(this);if(this.setAt(un,pn,0,0),this.setDims(wn,kn),On(this,Bt,P2).call(this),this.width){const[Rn,Cn]=this.parentDimensions;this.setAspectRatio(this.width*Rn,this.height*Cn),this.setAt(fn*Rn,Jt*Cn,this.width*Rn,this.height*Cn),$n(this,$t,!0),On(this,Bt,X1).call(this),this.setDims(this.width*Rn,this.height*Cn),On(this,Bt,h0).call(this),this.div.classList.add("disabled")}else this.div.classList.add("editing"),this.enableEditMode();return On(this,Bt,I2).call(this),this.div}setDimensions(fn,Jt){const un=Math.round(fn),pn=Math.round(Jt);if(Mt(this,jt)===un&&Mt(this,Ct)===pn)return;$n(this,jt,un),$n(this,Ct,pn),this.canvas.style.visibility="hidden";const[wn,kn]=this.parentDimensions;this.width=fn/wn,this.height=Jt/kn,this.fixAndSetPosition(),Mt(this,Kt)&&On(this,Bt,B3).call(this,fn,Jt),On(this,Bt,X1).call(this),On(this,Bt,h0).call(this),this.canvas.style.visibility="visible",this.fixDims()}static deserialize(fn,Jt,un){var Un,tr,er;if(fn instanceof St.InkAnnotationElement)return null;const pn=super.deserialize(fn,Jt,un);pn.thickness=fn.thickness,pn.color=vt.Util.makeHexColor(...fn.color),pn.opacity=fn.opacity;const[wn,kn]=pn.pageDimensions,Rn=pn.width*wn,Cn=pn.height*kn,An=pn.parentScale,_n=fn.thickness/2;$n(pn,Kt,!0),$n(pn,jt,Math.round(Rn)),$n(pn,Ct,Math.round(Cn));const{paths:In,rect:Pn,rotation:Dn}=fn;for(let{bezier:Qn}of In){Qn=On(Un=Tn,cn,l5).call(Un,Qn,Pn,Dn);const Yn=[];pn.paths.push(Yn);let Xn=An*(Qn[0]-_n),nr=An*(Qn[1]-_n);for(let dr=2,Bn=Qn.length;dr<Bn;dr+=6){const Hn=An*(Qn[dr]-_n),Wn=An*(Qn[dr+1]-_n),cr=An*(Qn[dr+2]-_n),sr=An*(Qn[dr+3]-_n),xr=An*(Qn[dr+4]-_n),Jn=An*(Qn[dr+5]-_n);Yn.push([[Xn,nr],[Hn,Wn],[cr,sr],[xr,Jn]]),Xn=xr,nr=Jn}const lr=On(this,cn,o5).call(this,Yn);pn.bezierPath2D.push(lr)}const Ln=On(tr=pn,Bt,H3).call(tr);return $n(pn,_t,Math.max(At.AnnotationEditor.MIN_SIZE,Ln[2]-Ln[0])),$n(pn,wt,Math.max(At.AnnotationEditor.MIN_SIZE,Ln[3]-Ln[1])),On(er=pn,Bt,B3).call(er,Rn,Cn),pn}serialize(){if(this.isEmpty())return null;const fn=this.getRect(0,0),Jt=At.AnnotationEditor._colorManager.convert(this.ctx.strokeStyle);return{annotationType:vt.AnnotationEditorType.INK,color:Jt,thickness:this.thickness,opacity:this.opacity,paths:On(this,Bt,c5).call(this,this.scaleFactor/this.parentScale,this.translationX,this.translationY,fn),pageIndex:this.pageIndex,rect:fn,rotation:this.rotation,structTreeParentId:this._structTreeParentId}}};wt=new WeakMap,_t=new WeakMap,Pt=new WeakMap,_e=new WeakMap,bt=new WeakMap,Ft=new WeakMap,Xt=new WeakMap,Kt=new WeakMap,Nt=new WeakMap,$t=new WeakMap,Dt=new WeakMap,jt=new WeakMap,Ct=new WeakMap,qt=new WeakMap,Bt=new WeakSet,Z8=function(fn){const Jt=this.thickness;this.addCommands({cmd:()=>{this.thickness=fn,On(this,Bt,W1).call(this)},undo:()=>{this.thickness=Jt,On(this,Bt,W1).call(this)},mustExec:!0,type:vt.AnnotationEditorParamsType.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0})},J8=function(fn){const Jt=this.color;this.addCommands({cmd:()=>{this.color=fn,On(this,Bt,h0).call(this)},undo:()=>{this.color=Jt,On(this,Bt,h0).call(this)},mustExec:!0,type:vt.AnnotationEditorParamsType.INK_COLOR,overwriteIfSameType:!0,keepUndo:!0})},Q8=function(fn){fn/=100;const Jt=this.opacity;this.addCommands({cmd:()=>{this.opacity=fn,On(this,Bt,h0).call(this)},undo:()=>{this.opacity=Jt,On(this,Bt,h0).call(this)},mustExec:!0,type:vt.AnnotationEditorParamsType.INK_OPACITY,overwriteIfSameType:!0,keepUndo:!0})},e5=function(){const{parentRotation:fn,parentDimensions:[Jt,un]}=this;switch(fn){case 90:return[0,un,un,Jt];case 180:return[Jt,un,Jt,un];case 270:return[Jt,0,un,Jt];default:return[0,0,Jt,un]}},N3=function(){const{ctx:fn,color:Jt,opacity:un,thickness:pn,parentScale:wn,scaleFactor:kn}=this;fn.lineWidth=pn*wn/kn,fn.lineCap="round",fn.lineJoin="round",fn.miterLimit=10,fn.strokeStyle=`${Jt}${(0,Et.opacityToHex)(un)}`},t5=function(fn,Jt){this.canvas.addEventListener("contextmenu",kt.noContextMenu),this.canvas.addEventListener("pointerleave",Mt(this,_e)),this.canvas.addEventListener("pointermove",Mt(this,Pt)),this.canvas.addEventListener("pointerup",Mt(this,bt)),this.canvas.removeEventListener("pointerdown",Mt(this,Ft)),this.isEditing=!0,Mt(this,$t)||($n(this,$t,!0),On(this,Bt,X1).call(this),this.thickness||(this.thickness=Tn._defaultThickness),this.color||(this.color=Tn._defaultColor||At.AnnotationEditor._defaultLineColor),this.opacity??(this.opacity=Tn._defaultOpacity)),this.currentPath.push([fn,Jt]),$n(this,Nt,!1),On(this,Bt,N3).call(this),$n(this,qt,()=>{On(this,Bt,r5).call(this),Mt(this,qt)&&window.requestAnimationFrame(Mt(this,qt))}),window.requestAnimationFrame(Mt(this,qt))},$3=function(fn,Jt){const[un,pn]=this.currentPath.at(-1);if(this.currentPath.length>1&&fn===un&&Jt===pn)return;const wn=this.currentPath;let kn=Mt(this,Xt);if(wn.push([fn,Jt]),$n(this,Nt,!0),wn.length<=2){kn.moveTo(...wn[0]),kn.lineTo(fn,Jt);return}wn.length===3&&($n(this,Xt,kn=new Path2D),kn.moveTo(...wn[0])),On(this,Bt,s5).call(this,kn,...wn.at(-3),...wn.at(-2),fn,Jt)},n5=function(){if(this.currentPath.length===0)return;const fn=this.currentPath.at(-1);Mt(this,Xt).lineTo(...fn)},i5=function(fn,Jt){$n(this,qt,null),fn=Math.min(Math.max(fn,0),this.canvas.width),Jt=Math.min(Math.max(Jt,0),this.canvas.height),On(this,Bt,$3).call(this,fn,Jt),On(this,Bt,n5).call(this);let un;if(this.currentPath.length!==1)un=On(this,Bt,a5).call(this);else{const Cn=[fn,Jt];un=[[Cn,Cn.slice(),Cn.slice(),Cn]]}const pn=Mt(this,Xt),wn=this.currentPath;this.currentPath=[],$n(this,Xt,new Path2D);const kn=()=>{this.allRawPaths.push(wn),this.paths.push(un),this.bezierPath2D.push(pn),this.rebuild()},Rn=()=>{this.allRawPaths.pop(),this.paths.pop(),this.bezierPath2D.pop(),this.paths.length===0?this.remove():(this.canvas||(On(this,Bt,P2).call(this),On(this,Bt,I2).call(this)),On(this,Bt,W1).call(this))};this.addCommands({cmd:kn,undo:Rn,mustExec:!0})},r5=function(){if(!Mt(this,Nt))return;$n(this,Nt,!1);const fn=Math.ceil(this.thickness*this.parentScale),Jt=this.currentPath.slice(-3),un=Jt.map(kn=>kn[0]),pn=Jt.map(kn=>kn[1]);Math.min(...un)-fn,Math.max(...un)+fn,Math.min(...pn)-fn,Math.max(...pn)+fn;const{ctx:wn}=this;wn.save(),wn.clearRect(0,0,this.canvas.width,this.canvas.height);for(const kn of this.bezierPath2D)wn.stroke(kn);wn.stroke(Mt(this,Xt)),wn.restore()},s5=function(fn,Jt,un,pn,wn,kn,Rn){const Cn=(Jt+pn)/2,An=(un+wn)/2,_n=(pn+kn)/2,In=(wn+Rn)/2;fn.bezierCurveTo(Cn+2*(pn-Cn)/3,An+2*(wn-An)/3,_n+2*(pn-_n)/3,In+2*(wn-In)/3,_n,In)},a5=function(){const fn=this.currentPath;if(fn.length<=2)return[[fn[0],fn[0],fn.at(-1),fn.at(-1)]];const Jt=[];let un,[pn,wn]=fn[0];for(un=1;un<fn.length-2;un++){const[Pn,Dn]=fn[un],[Ln,Un]=fn[un+1],tr=(Pn+Ln)/2,er=(Dn+Un)/2,Qn=[pn+2*(Pn-pn)/3,wn+2*(Dn-wn)/3],Yn=[tr+2*(Pn-tr)/3,er+2*(Dn-er)/3];Jt.push([[pn,wn],Qn,Yn,[tr,er]]),[pn,wn]=[tr,er]}const[kn,Rn]=fn[un],[Cn,An]=fn[un+1],_n=[pn+2*(kn-pn)/3,wn+2*(Rn-wn)/3],In=[Cn+2*(kn-Cn)/3,An+2*(Rn-An)/3];return Jt.push([[pn,wn],_n,In,[Cn,An]]),Jt},h0=function(){if(this.isEmpty()){On(this,Bt,M2).call(this);return}On(this,Bt,N3).call(this);const{canvas:fn,ctx:Jt}=this;Jt.setTransform(1,0,0,1,0,0),Jt.clearRect(0,0,fn.width,fn.height),On(this,Bt,M2).call(this);for(const un of this.bezierPath2D)Jt.stroke(un)},j3=function(fn){this.canvas.removeEventListener("pointerleave",Mt(this,_e)),this.canvas.removeEventListener("pointermove",Mt(this,Pt)),this.canvas.removeEventListener("pointerup",Mt(this,bt)),this.canvas.addEventListener("pointerdown",Mt(this,Ft)),setTimeout(()=>{this.canvas.removeEventListener("contextmenu",kt.noContextMenu)},10),On(this,Bt,i5).call(this,fn.offsetX,fn.offsetY),this.addToAnnotationStorage(),this.setInBackground()},P2=function(){this.canvas=document.createElement("canvas"),this.canvas.width=this.canvas.height=0,this.canvas.className="inkEditorCanvas",At.AnnotationEditor._l10nPromise.get("editor_ink_canvas_aria_label").then(fn=>{var Jt;return(Jt=this.canvas)==null?void 0:Jt.setAttribute("aria-label",fn)}),this.div.append(this.canvas),this.ctx=this.canvas.getContext("2d")},I2=function(){$n(this,Dt,new ResizeObserver(fn=>{const Jt=fn[0].contentRect;Jt.width&&Jt.height&&this.setDimensions(Jt.width,Jt.height)})),Mt(this,Dt).observe(this.div)},X1=function(){if(!Mt(this,$t))return;const[fn,Jt]=this.parentDimensions;this.canvas.width=Math.ceil(this.width*fn),this.canvas.height=Math.ceil(this.height*Jt),On(this,Bt,M2).call(this)},B3=function(fn,Jt){const un=On(this,Bt,O2).call(this),pn=(fn-un)/Mt(this,_t),wn=(Jt-un)/Mt(this,wt);this.scaleFactor=Math.min(pn,wn)},M2=function(){const fn=On(this,Bt,O2).call(this)/2;this.ctx.setTransform(this.scaleFactor,0,0,this.scaleFactor,this.translationX*this.scaleFactor+fn,this.translationY*this.scaleFactor+fn)},cn=new WeakSet,o5=function(fn){const Jt=new Path2D;for(let un=0,pn=fn.length;un<pn;un++){const[wn,kn,Rn,Cn]=fn[un];un===0&&Jt.moveTo(...wn),Jt.bezierCurveTo(kn[0],kn[1],Rn[0],Rn[1],Cn[0],Cn[1])}return Jt},U3=function(fn,Jt,un){const[pn,wn,kn,Rn]=Jt;switch(un){case 0:for(let Cn=0,An=fn.length;Cn<An;Cn+=2)fn[Cn]+=pn,fn[Cn+1]=Rn-fn[Cn+1];break;case 90:for(let Cn=0,An=fn.length;Cn<An;Cn+=2){const _n=fn[Cn];fn[Cn]=fn[Cn+1]+pn,fn[Cn+1]=_n+wn}break;case 180:for(let Cn=0,An=fn.length;Cn<An;Cn+=2)fn[Cn]=kn-fn[Cn],fn[Cn+1]+=wn;break;case 270:for(let Cn=0,An=fn.length;Cn<An;Cn+=2){const _n=fn[Cn];fn[Cn]=kn-fn[Cn+1],fn[Cn+1]=Rn-_n}break;default:throw new Error("Invalid rotation")}return fn},l5=function(fn,Jt,un){const[pn,wn,kn,Rn]=Jt;switch(un){case 0:for(let Cn=0,An=fn.length;Cn<An;Cn+=2)fn[Cn]-=pn,fn[Cn+1]=Rn-fn[Cn+1];break;case 90:for(let Cn=0,An=fn.length;Cn<An;Cn+=2){const _n=fn[Cn];fn[Cn]=fn[Cn+1]-wn,fn[Cn+1]=_n-pn}break;case 180:for(let Cn=0,An=fn.length;Cn<An;Cn+=2)fn[Cn]=kn-fn[Cn],fn[Cn+1]-=wn;break;case 270:for(let Cn=0,An=fn.length;Cn<An;Cn+=2){const _n=fn[Cn];fn[Cn]=Rn-fn[Cn+1],fn[Cn+1]=kn-_n}break;default:throw new Error("Invalid rotation")}return fn},c5=function(fn,Jt,un,pn){var An,_n;const wn=[],kn=this.thickness/2,Rn=fn*Jt+kn,Cn=fn*un+kn;for(const In of this.paths){const Pn=[],Dn=[];for(let Ln=0,Un=In.length;Ln<Un;Ln++){const[tr,er,Qn,Yn]=In[Ln],Xn=fn*tr[0]+Rn,nr=fn*tr[1]+Cn,lr=fn*er[0]+Rn,dr=fn*er[1]+Cn,Bn=fn*Qn[0]+Rn,Hn=fn*Qn[1]+Cn,Wn=fn*Yn[0]+Rn,cr=fn*Yn[1]+Cn;Ln===0&&(Pn.push(Xn,nr),Dn.push(Xn,nr)),Pn.push(lr,dr,Bn,Hn,Wn,cr),Dn.push(lr,dr),Ln===Un-1&&Dn.push(Wn,cr)}wn.push({bezier:On(An=Tn,cn,U3).call(An,Pn,pn,this.rotation),points:On(_n=Tn,cn,U3).call(_n,Dn,pn,this.rotation)})}return wn},H3=function(){let fn=1/0,Jt=-1/0,un=1/0,pn=-1/0;for(const wn of this.paths)for(const[kn,Rn,Cn,An]of wn){const _n=vt.Util.bezierBoundingBox(...kn,...Rn,...Cn,...An);fn=Math.min(fn,_n[0]),un=Math.min(un,_n[1]),Jt=Math.max(Jt,_n[2]),pn=Math.max(pn,_n[3])}return[fn,un,Jt,pn]},O2=function(){return Mt(this,Kt)?Math.ceil(this.thickness*this.parentScale):0},W1=function(fn=!1){if(this.isEmpty())return;if(!Mt(this,Kt)){On(this,Bt,h0).call(this);return}const Jt=On(this,Bt,H3).call(this),un=On(this,Bt,O2).call(this);$n(this,_t,Math.max(At.AnnotationEditor.MIN_SIZE,Jt[2]-Jt[0])),$n(this,wt,Math.max(At.AnnotationEditor.MIN_SIZE,Jt[3]-Jt[1]));const pn=Math.ceil(un+Mt(this,_t)*this.scaleFactor),wn=Math.ceil(un+Mt(this,wt)*this.scaleFactor),[kn,Rn]=this.parentDimensions;this.width=pn/kn,this.height=wn/Rn,this.setAspectRatio(pn,wn);const Cn=this.translationX,An=this.translationY;this.translationX=-Jt[0],this.translationY=-Jt[1],On(this,Bt,X1).call(this),On(this,Bt,h0).call(this),$n(this,jt,pn),$n(this,Ct,wn),this.setDims(pn,wn);const _n=fn?un/this.scaleFactor/2:0;this.translate(Cn-this.translationX-_n,An-this.translationY-_n)},Nn(Tn,cn),Ur(Tn,"_defaultColor",null),Ur(Tn,"_defaultOpacity",1),Ur(Tn,"_defaultThickness",1),Ur(Tn,"_type","ink");let Rt=Tn;$.InkEditor=Rt},(xt,$,ht)=>{var Rt,wt,_t,Pt,_e,bt,Ft,Xt,Kt,Nt,$t,fm,pm,D2,z3,u5,h5,X3,L2,d5;Object.defineProperty($,"__esModule",{value:!0}),$.StampEditor=void 0;var vt=ht(1),At=ht(4),St=ht(6),kt=ht(29);const gn=class gn extends At.AnnotationEditor{constructor(Vt){super({...Vt,name:"stampEditor"});Nn(this,$t);Nn(this,Rt,null);Nn(this,wt,null);Nn(this,_t,null);Nn(this,Pt,null);Nn(this,_e,null);Nn(this,bt,null);Nn(this,Ft,null);Nn(this,Xt,null);Nn(this,Kt,!1);Nn(this,Nt,!1);$n(this,Pt,Vt.bitmapUrl),$n(this,_e,Vt.bitmapFile)}static initialize(Vt){At.AnnotationEditor.initialize(Vt)}static get supportedTypes(){const Vt=["apng","avif","bmp","gif","jpeg","png","svg+xml","webp","x-icon"];return(0,vt.shadow)(this,"supportedTypes",Vt.map(Yt=>`image/${Yt}`))}static get supportedTypesStr(){return(0,vt.shadow)(this,"supportedTypesStr",this.supportedTypes.join(","))}static isHandlingMimeForPasting(Vt){return this.supportedTypes.includes(Vt)}static paste(Vt,Yt){Yt.pasteEditor(vt.AnnotationEditorType.STAMP,{bitmapFile:Vt.getAsFile()})}remove(){var Vt,Yt;Mt(this,wt)&&($n(this,Rt,null),this._uiManager.imageManager.deleteId(Mt(this,wt)),(Vt=Mt(this,bt))==null||Vt.remove(),$n(this,bt,null),(Yt=Mt(this,Ft))==null||Yt.disconnect(),$n(this,Ft,null)),super.remove()}rebuild(){if(!this.parent){Mt(this,wt)&&On(this,$t,D2).call(this);return}super.rebuild(),this.div!==null&&(Mt(this,wt)&&On(this,$t,D2).call(this),this.isAttachedToDOM||this.parent.add(this))}onceAdded(){this._isDraggable=!0,this.div.focus()}isEmpty(){return!(Mt(this,_t)||Mt(this,Rt)||Mt(this,Pt)||Mt(this,_e))}get isResizable(){return!0}render(){if(this.div)return this.div;let Vt,Yt;if(this.width&&(Vt=this.x,Yt=this.y),super.render(),this.div.hidden=!0,Mt(this,Rt)?On(this,$t,z3).call(this):On(this,$t,D2).call(this),this.width){const[hn,Ut]=this.parentDimensions;this.setAt(Vt*hn,Yt*Ut,this.width*hn,this.height*Ut)}return this.div}static deserialize(Vt,Yt,hn){if(Vt instanceof kt.StampAnnotationElement)return null;const Ut=super.deserialize(Vt,Yt,hn),{rect:Ot,bitmapUrl:zt,bitmapId:an,isSvg:Ht,accessibilityData:Wt}=Vt;an&&hn.imageManager.isValidId(an)?$n(Ut,wt,an):$n(Ut,Pt,zt),$n(Ut,Kt,Ht);const[tn,ln]=Ut.pageDimensions;return Ut.width=(Ot[2]-Ot[0])/tn,Ut.height=(Ot[3]-Ot[1])/ln,Wt&&(Ut.altTextData=Wt),Ut}serialize(Vt=!1,Yt=null){if(this.isEmpty())return null;const hn={annotationType:vt.AnnotationEditorType.STAMP,bitmapId:Mt(this,wt),pageIndex:this.pageIndex,rect:this.getRect(0,0),rotation:this.rotation,isSvg:Mt(this,Kt),structTreeParentId:this._structTreeParentId};if(Vt)return hn.bitmapUrl=On(this,$t,L2).call(this,!0),hn.accessibilityData=this.altTextData,hn;const{decorative:Ut,altText:Ot}=this.altTextData;if(!Ut&&Ot&&(hn.accessibilityData={type:"Figure",alt:Ot}),Yt===null)return hn;Yt.stamps||(Yt.stamps=new Map);const zt=Mt(this,Kt)?(hn.rect[2]-hn.rect[0])*(hn.rect[3]-hn.rect[1]):null;if(!Yt.stamps.has(Mt(this,wt)))Yt.stamps.set(Mt(this,wt),{area:zt,serialized:hn}),hn.bitmap=On(this,$t,L2).call(this,!1);else if(Mt(this,Kt)){const an=Yt.stamps.get(Mt(this,wt));zt>an.area&&(an.area=zt,an.serialized.bitmap.close(),an.serialized.bitmap=On(this,$t,L2).call(this,!1))}return hn}};Rt=new WeakMap,wt=new WeakMap,_t=new WeakMap,Pt=new WeakMap,_e=new WeakMap,bt=new WeakMap,Ft=new WeakMap,Xt=new WeakMap,Kt=new WeakMap,Nt=new WeakMap,$t=new WeakSet,fm=function(Vt,Yt=!1){if(!Vt){this.remove();return}$n(this,Rt,Vt.bitmap),Yt||($n(this,wt,Vt.id),$n(this,Kt,Vt.isSvg)),On(this,$t,z3).call(this)},pm=function(){$n(this,_t,null),this._uiManager.enableWaiting(!1),Mt(this,bt)&&this.div.focus()},D2=function(){if(Mt(this,wt)){this._uiManager.enableWaiting(!0),this._uiManager.imageManager.getFromId(Mt(this,wt)).then(Yt=>On(this,$t,fm).call(this,Yt,!0)).finally(()=>On(this,$t,pm).call(this));return}if(Mt(this,Pt)){const Yt=Mt(this,Pt);$n(this,Pt,null),this._uiManager.enableWaiting(!0),$n(this,_t,this._uiManager.imageManager.getFromUrl(Yt).then(hn=>On(this,$t,fm).call(this,hn)).finally(()=>On(this,$t,pm).call(this)));return}if(Mt(this,_e)){const Yt=Mt(this,_e);$n(this,_e,null),this._uiManager.enableWaiting(!0),$n(this,_t,this._uiManager.imageManager.getFromFile(Yt).then(hn=>On(this,$t,fm).call(this,hn)).finally(()=>On(this,$t,pm).call(this)));return}const Vt=document.createElement("input");Vt.type="file",Vt.accept=gn.supportedTypesStr,$n(this,_t,new Promise(Yt=>{Vt.addEventListener("change",async()=>{if(!Vt.files||Vt.files.length===0)this.remove();else{this._uiManager.enableWaiting(!0);const hn=await this._uiManager.imageManager.getFromFile(Vt.files[0]);On(this,$t,fm).call(this,hn)}Yt()}),Vt.addEventListener("cancel",()=>{this.remove(),Yt()})}).finally(()=>On(this,$t,pm).call(this))),Vt.click()},z3=function(){const{div:Vt}=this;let{width:Yt,height:hn}=Mt(this,Rt);const[Ut,Ot]=this.pageDimensions,zt=.75;if(this.width)Yt=this.width*Ut,hn=this.height*Ot;else if(Yt>zt*Ut||hn>zt*Ot){const tn=Math.min(zt*Ut/Yt,zt*Ot/hn);Yt*=tn,hn*=tn}const[an,Ht]=this.parentDimensions;this.setDims(Yt*an/Ut,hn*Ht/Ot),this._uiManager.enableWaiting(!1);const Wt=$n(this,bt,document.createElement("canvas"));Vt.append(Wt),Vt.hidden=!1,On(this,$t,X3).call(this,Yt,hn),On(this,$t,d5).call(this),Mt(this,Nt)||(this.parent.addUndoableEditor(this),$n(this,Nt,!0)),this._uiManager._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",subtype:this.editorType,data:{action:"inserted_image"}}}),this.addAltTextButton()},u5=function(Vt,Yt){var zt;const[hn,Ut]=this.parentDimensions;this.width=Vt/hn,this.height=Yt/Ut,this.setDims(Vt,Yt),(zt=this._initialOptions)!=null&&zt.isCentered?this.center():this.fixAndSetPosition(),this._initialOptions=null,Mt(this,Xt)!==null&&clearTimeout(Mt(this,Xt)),$n(this,Xt,setTimeout(()=>{$n(this,Xt,null),On(this,$t,X3).call(this,Vt,Yt)},200))},h5=function(Vt,Yt){const{width:hn,height:Ut}=Mt(this,Rt);let Ot=hn,zt=Ut,an=Mt(this,Rt);for(;Ot>2*Vt||zt>2*Yt;){const Ht=Ot,Wt=zt;Ot>2*Vt&&(Ot=Ot>=16384?Math.floor(Ot/2)-1:Math.ceil(Ot/2)),zt>2*Yt&&(zt=zt>=16384?Math.floor(zt/2)-1:Math.ceil(zt/2));const tn=new OffscreenCanvas(Ot,zt);tn.getContext("2d").drawImage(an,0,0,Ht,Wt,0,0,Ot,zt),an=tn.transferToImageBitmap()}return an},X3=function(Vt,Yt){Vt=Math.ceil(Vt),Yt=Math.ceil(Yt);const hn=Mt(this,bt);if(!hn||hn.width===Vt&&hn.height===Yt)return;hn.width=Vt,hn.height=Yt;const Ut=Mt(this,Kt)?Mt(this,Rt):On(this,$t,h5).call(this,Vt,Yt),Ot=hn.getContext("2d");Ot.filter=this._uiManager.hcmFilter,Ot.drawImage(Ut,0,0,Ut.width,Ut.height,0,0,Vt,Yt)},L2=function(Vt){if(Vt){if(Mt(this,Kt)){const Ut=this._uiManager.imageManager.getSvgUrl(Mt(this,wt));if(Ut)return Ut}const Yt=document.createElement("canvas");return{width:Yt.width,height:Yt.height}=Mt(this,Rt),Yt.getContext("2d").drawImage(Mt(this,Rt),0,0),Yt.toDataURL()}if(Mt(this,Kt)){const[Yt,hn]=this.pageDimensions,Ut=Math.round(this.width*Yt*St.PixelsPerInch.PDF_TO_CSS_UNITS),Ot=Math.round(this.height*hn*St.PixelsPerInch.PDF_TO_CSS_UNITS),zt=new OffscreenCanvas(Ut,Ot);return zt.getContext("2d").drawImage(Mt(this,Rt),0,0,Mt(this,Rt).width,Mt(this,Rt).height,0,0,Ut,Ot),zt.transferToImageBitmap()}return structuredClone(Mt(this,Rt))},d5=function(){$n(this,Ft,new ResizeObserver(Vt=>{const Yt=Vt[0].contentRect;Yt.width&&Yt.height&&On(this,$t,u5).call(this,Yt.width,Yt.height)})),Mt(this,Ft).observe(this.div)},Ur(gn,"_type","stamp");let Et=gn;$.StampEditor=Et}],__webpack_module_cache__={};function __w_pdfjs_require__(xt){var $=__webpack_module_cache__[xt];if($!==void 0)return $.exports;var ht=__webpack_module_cache__[xt]={exports:{}};return __webpack_modules__[xt](ht,ht.exports,__w_pdfjs_require__),ht.exports}var __webpack_exports__={};return(()=>{var xt=__webpack_exports__;Object.defineProperty(xt,"__esModule",{value:!0}),Object.defineProperty(xt,"AbortException",{enumerable:!0,get:function(){return $.AbortException}}),Object.defineProperty(xt,"AnnotationEditorLayer",{enumerable:!0,get:function(){return St.AnnotationEditorLayer}}),Object.defineProperty(xt,"AnnotationEditorParamsType",{enumerable:!0,get:function(){return $.AnnotationEditorParamsType}}),Object.defineProperty(xt,"AnnotationEditorType",{enumerable:!0,get:function(){return $.AnnotationEditorType}}),Object.defineProperty(xt,"AnnotationEditorUIManager",{enumerable:!0,get:function(){return kt.AnnotationEditorUIManager}}),Object.defineProperty(xt,"AnnotationLayer",{enumerable:!0,get:function(){return Et.AnnotationLayer}}),Object.defineProperty(xt,"AnnotationMode",{enumerable:!0,get:function(){return $.AnnotationMode}}),Object.defineProperty(xt,"CMapCompressionType",{enumerable:!0,get:function(){return $.CMapCompressionType}}),Object.defineProperty(xt,"DOMSVGFactory",{enumerable:!0,get:function(){return vt.DOMSVGFactory}}),Object.defineProperty(xt,"FeatureTest",{enumerable:!0,get:function(){return $.FeatureTest}}),Object.defineProperty(xt,"GlobalWorkerOptions",{enumerable:!0,get:function(){return Rt.GlobalWorkerOptions}}),Object.defineProperty(xt,"ImageKind",{enumerable:!0,get:function(){return $.ImageKind}}),Object.defineProperty(xt,"InvalidPDFException",{enumerable:!0,get:function(){return $.InvalidPDFException}}),Object.defineProperty(xt,"MissingPDFException",{enumerable:!0,get:function(){return $.MissingPDFException}}),Object.defineProperty(xt,"OPS",{enumerable:!0,get:function(){return $.OPS}}),Object.defineProperty(xt,"PDFDataRangeTransport",{enumerable:!0,get:function(){return ht.PDFDataRangeTransport}}),Object.defineProperty(xt,"PDFDateString",{enumerable:!0,get:function(){return vt.PDFDateString}}),Object.defineProperty(xt,"PDFWorker",{enumerable:!0,get:function(){return ht.PDFWorker}}),Object.defineProperty(xt,"PasswordResponses",{enumerable:!0,get:function(){return $.PasswordResponses}}),Object.defineProperty(xt,"PermissionFlag",{enumerable:!0,get:function(){return $.PermissionFlag}}),Object.defineProperty(xt,"PixelsPerInch",{enumerable:!0,get:function(){return vt.PixelsPerInch}}),Object.defineProperty(xt,"PromiseCapability",{enumerable:!0,get:function(){return $.PromiseCapability}}),Object.defineProperty(xt,"RenderingCancelledException",{enumerable:!0,get:function(){return vt.RenderingCancelledException}}),Object.defineProperty(xt,"SVGGraphics",{enumerable:!0,get:function(){return ht.SVGGraphics}}),Object.defineProperty(xt,"UnexpectedResponseException",{enumerable:!0,get:function(){return $.UnexpectedResponseException}}),Object.defineProperty(xt,"Util",{enumerable:!0,get:function(){return $.Util}}),Object.defineProperty(xt,"VerbosityLevel",{enumerable:!0,get:function(){return $.VerbosityLevel}}),Object.defineProperty(xt,"XfaLayer",{enumerable:!0,get:function(){return wt.XfaLayer}}),Object.defineProperty(xt,"build",{enumerable:!0,get:function(){return ht.build}}),Object.defineProperty(xt,"createValidAbsoluteUrl",{enumerable:!0,get:function(){return $.createValidAbsoluteUrl}}),Object.defineProperty(xt,"getDocument",{enumerable:!0,get:function(){return ht.getDocument}}),Object.defineProperty(xt,"getFilenameFromUrl",{enumerable:!0,get:function(){return vt.getFilenameFromUrl}}),Object.defineProperty(xt,"getPdfFilenameFromUrl",{enumerable:!0,get:function(){return vt.getPdfFilenameFromUrl}}),Object.defineProperty(xt,"getXfaPageViewport",{enumerable:!0,get:function(){return vt.getXfaPageViewport}}),Object.defineProperty(xt,"isDataScheme",{enumerable:!0,get:function(){return vt.isDataScheme}}),Object.defineProperty(xt,"isPdfFile",{enumerable:!0,get:function(){return vt.isPdfFile}}),Object.defineProperty(xt,"loadScript",{enumerable:!0,get:function(){return vt.loadScript}}),Object.defineProperty(xt,"noContextMenu",{enumerable:!0,get:function(){return vt.noContextMenu}}),Object.defineProperty(xt,"normalizeUnicode",{enumerable:!0,get:function(){return $.normalizeUnicode}}),Object.defineProperty(xt,"renderTextLayer",{enumerable:!0,get:function(){return At.renderTextLayer}}),Object.defineProperty(xt,"setLayerDimensions",{enumerable:!0,get:function(){return vt.setLayerDimensions}}),Object.defineProperty(xt,"shadow",{enumerable:!0,get:function(){return $.shadow}}),Object.defineProperty(xt,"updateTextLayer",{enumerable:!0,get:function(){return At.updateTextLayer}}),Object.defineProperty(xt,"version",{enumerable:!0,get:function(){return ht.version}});var $=__w_pdfjs_require__(1),ht=__w_pdfjs_require__(2),vt=__w_pdfjs_require__(6),At=__w_pdfjs_require__(26),St=__w_pdfjs_require__(27),kt=__w_pdfjs_require__(5),Et=__w_pdfjs_require__(29),Rt=__w_pdfjs_require__(14),wt=__w_pdfjs_require__(32)})(),__webpack_exports__})())})(pdf);var pdfExports=pdf.exports;const pdfjs=getDefaultExportFromCjs(pdfExports);var pdf_worker_entry={},pdf_worker={exports:{}};(function(xt,$){(function(vt,At){xt.exports=vt.pdfjsWorker=At()})(globalThis,()=>(()=>{var ht=[,(kt,Et,Rt)=>{Object.defineProperty(Et,"__esModule",{value:!0}),Et.WorkerTask=Et.WorkerMessageHandler=void 0;var wt=Rt(2),_t=Rt(3),Pt=Rt(4),_e=Rt(6),bt=Rt(10),Ft=Rt(68),Xt=Rt(73),Kt=Rt(104),Nt=Rt(105),$t=Rt(72);class Dt{constructor(Bt){this.name=Bt,this.terminated=!1,this._capability=new wt.PromiseCapability}get finished(){return this._capability.promise}finish(){this._capability.resolve()}terminate(){this.terminated=!0}ensureNotTerminated(){if(this.terminated)throw new Error("Worker task was terminated")}}Et.WorkerTask=Dt;class jt{static setup(Bt,Gt){let en=!1;Bt.on("test",function(dn){en||(en=!0,Bt.send("test",dn instanceof Uint8Array))}),Bt.on("configure",function(dn){(0,wt.setVerbosityLevel)(dn.verbosity)}),Bt.on("GetDocRequest",function(dn){return jt.createDocumentHandler(dn,Gt)})}static createDocumentHandler(Bt,Gt){let en,dn=!1,Qt=null;const gn=new Set,nn=(0,wt.getVerbosityLevel)(),{docId:bn,apiVersion:Vt}=Bt,Yt="3.11.174";if(Vt!==Yt)throw new Error(`The API version "${Vt}" does not match the Worker version "${Yt}".`);const hn=[];for(const on in[])hn.push(on);if(hn.length)throw new Error("The `Array.prototype` contains unexpected enumerable properties: "+hn.join(", ")+"; thus breaking e.g. `for...in` iteration of `Array`s.");const Ut=bn+"_worker";let Ot=new Kt.MessageHandler(Ut,bn,Gt);function zt(){if(dn)throw new Error("Worker was terminated")}function an(on){gn.add(on)}function Ht(on){on.finish(),gn.delete(on)}async function Wt(on){await en.ensureDoc("checkHeader"),await en.ensureDoc("parseStartXRef"),await en.ensureDoc("parse",[on]),await en.ensureDoc("checkFirstPage",[on]),await en.ensureDoc("checkLastPage",[on]);const cn=await en.ensureDoc("isPureXfa");if(cn){const vn=new Dt("loadXfaFonts");an(vn),await Promise.all([en.loadXfaFonts(Ot,vn).catch(En=>{}).then(()=>Ht(vn)),en.loadXfaImages()])}const[sn,rn]=await Promise.all([en.ensureDoc("numPages"),en.ensureDoc("fingerprints")]),xn=cn?await en.ensureDoc("htmlForXfa"):null;return{numPages:sn,fingerprints:rn,htmlForXfa:xn}}function tn({data:on,password:cn,disableAutoFetch:sn,rangeChunkSize:rn,length:xn,docBaseUrl:vn,enableXfa:En,evaluatorOptions:Fn}){const Mn={source:null,disableAutoFetch:sn,docBaseUrl:vn,docId:bn,enableXfa:En,evaluatorOptions:Fn,handler:Ot,length:xn,password:cn,rangeChunkSize:rn},Tn=new wt.PromiseCapability;let Sn;if(on){try{Mn.source=on,Sn=new _e.LocalPdfManager(Mn),Tn.resolve(Sn)}catch(wn){Tn.reject(wn)}return Tn.promise}let mn,fn=[];try{mn=new Nt.PDFWorkerStream(Ot)}catch(wn){return Tn.reject(wn),Tn.promise}const Jt=mn.getFullReader();Jt.headersReady.then(function(){if(Jt.isRangeSupported){Mn.source=mn,Mn.length=Jt.contentLength,Mn.disableAutoFetch||(Mn.disableAutoFetch=Jt.isStreamingSupported),Sn=new _e.NetworkPdfManager(Mn);for(const wn of fn)Sn.sendProgressiveData(wn);fn=[],Tn.resolve(Sn),Qt=null}}).catch(function(wn){Tn.reject(wn),Qt=null});let un=0;const pn=function(){const wn=(0,_t.arrayBuffersToBytes)(fn);xn&&wn.length!==xn&&(0,wt.warn)("reported HTTP length is different from actual");try{Mn.source=wn,Sn=new _e.LocalPdfManager(Mn),Tn.resolve(Sn)}catch(kn){Tn.reject(kn)}fn=[]};return new Promise(function(wn,kn){const Rn=function({value:Cn,done:An}){try{if(zt(),An){Sn||pn(),Qt=null;return}un+=Cn.byteLength,Jt.isStreamingSupported||Ot.send("DocProgress",{loaded:un,total:Math.max(un,Jt.contentLength||0)}),Sn?Sn.sendProgressiveData(Cn):fn.push(Cn),Jt.read().then(Rn,kn)}catch(_n){kn(_n)}};Jt.read().then(Rn,kn)}).catch(function(wn){Tn.reject(wn),Qt=null}),Qt=function(wn){mn.cancelAllRequests(wn)},Tn.promise}function ln(on){function cn(xn){zt(),Ot.send("GetDoc",{pdfInfo:xn})}function sn(xn){if(zt(),xn instanceof wt.PasswordException){const vn=new Dt(`PasswordException: response ${xn.code}`);an(vn),Ot.sendWithPromise("PasswordRequest",xn).then(function({password:En}){Ht(vn),en.updatePassword(En),rn()}).catch(function(){Ht(vn),Ot.send("DocException",xn)})}else xn instanceof wt.InvalidPDFException||xn instanceof wt.MissingPDFException||xn instanceof wt.UnexpectedResponseException||xn instanceof wt.UnknownErrorException?Ot.send("DocException",xn):Ot.send("DocException",new wt.UnknownErrorException(xn.message,xn.toString()))}function rn(){zt(),Wt(!1).then(cn,function(xn){if(zt(),!(xn instanceof _t.XRefParseException)){sn(xn);return}en.requestLoadedStream().then(function(){zt(),Wt(!0).then(cn,sn)})})}zt(),tn(on).then(function(xn){if(dn)throw xn.terminate(new wt.AbortException("Worker was terminated.")),new Error("Worker was terminated");en=xn,en.requestLoadedStream(!0).then(vn=>{Ot.send("DataLoaded",{length:vn.bytes.byteLength})})}).then(rn,sn)}return Ot.on("GetPage",function(on){return en.getPage(on.pageIndex).then(function(cn){return Promise.all([en.ensure(cn,"rotate"),en.ensure(cn,"ref"),en.ensure(cn,"userUnit"),en.ensure(cn,"view")]).then(function([sn,rn,xn,vn]){return{rotate:sn,ref:rn,userUnit:xn,view:vn}})})}),Ot.on("GetPageIndex",function(on){const cn=Pt.Ref.get(on.num,on.gen);return en.ensureCatalog("getPageIndex",[cn])}),Ot.on("GetDestinations",function(on){return en.ensureCatalog("destinations")}),Ot.on("GetDestination",function(on){return en.ensureCatalog("getDestination",[on.id])}),Ot.on("GetPageLabels",function(on){return en.ensureCatalog("pageLabels")}),Ot.on("GetPageLayout",function(on){return en.ensureCatalog("pageLayout")}),Ot.on("GetPageMode",function(on){return en.ensureCatalog("pageMode")}),Ot.on("GetViewerPreferences",function(on){return en.ensureCatalog("viewerPreferences")}),Ot.on("GetOpenAction",function(on){return en.ensureCatalog("openAction")}),Ot.on("GetAttachments",function(on){return en.ensureCatalog("attachments")}),Ot.on("GetDocJSActions",function(on){return en.ensureCatalog("jsActions")}),Ot.on("GetPageJSActions",function({pageIndex:on}){return en.getPage(on).then(function(cn){return en.ensure(cn,"jsActions")})}),Ot.on("GetOutline",function(on){return en.ensureCatalog("documentOutline")}),Ot.on("GetOptionalContentConfig",function(on){return en.ensureCatalog("optionalContentConfig")}),Ot.on("GetPermissions",function(on){return en.ensureCatalog("permissions")}),Ot.on("GetMetadata",function(on){return Promise.all([en.ensureDoc("documentInfo"),en.ensureCatalog("metadata")])}),Ot.on("GetMarkInfo",function(on){return en.ensureCatalog("markInfo")}),Ot.on("GetData",function(on){return en.requestLoadedStream().then(function(cn){return cn.bytes})}),Ot.on("GetAnnotations",function({pageIndex:on,intent:cn}){return en.getPage(on).then(function(sn){const rn=new Dt(`GetAnnotations: page ${on}`);return an(rn),sn.getAnnotationsData(Ot,rn,cn).then(xn=>(Ht(rn),xn),xn=>{throw Ht(rn),xn})})}),Ot.on("GetFieldObjects",function(on){return en.ensureDoc("fieldObjects")}),Ot.on("HasJSActions",function(on){return en.ensureDoc("hasJSActions")}),Ot.on("GetCalculationOrderIds",function(on){return en.ensureDoc("calculationOrderIds")}),Ot.on("SaveDocument",async function({isPureXfa:on,numPages:cn,annotationStorage:sn,filename:rn}){const xn=[en.requestLoadedStream(),en.ensureCatalog("acroForm"),en.ensureCatalog("acroFormRef"),en.ensureDoc("startXRef"),en.ensureDoc("xref"),en.ensureDoc("linearization"),en.ensureCatalog("structTreeRoot")],vn=[],En=on?null:(0,_t.getNewAnnotationsMap)(sn),[Fn,Mn,Tn,Sn,mn,fn,Jt]=await Promise.all(xn),un=mn.trailer.getRaw("Root")||null;let pn;if(En){Jt?await Jt.canUpdateStructTree({pdfManager:en,newAnnotationsByPage:En})&&(pn=Jt):await $t.StructTreeRoot.canCreateStructureTree({catalogRef:un,pdfManager:en,newAnnotationsByPage:En})&&(pn=null);const Dn=bt.AnnotationFactory.generateImages(sn.values(),mn,en.evaluatorOptions.isOffscreenCanvasSupported),Ln=pn===void 0?vn:[];for(const[Un,tr]of En)Ln.push(en.getPage(Un).then(er=>{const Qn=new Dt(`Save (editor): page ${Un}`);return er.saveNewAnnotations(Ot,Qn,tr,Dn).finally(function(){Ht(Qn)})}));pn===null?vn.push(Promise.all(Ln).then(async Un=>(await $t.StructTreeRoot.createStructureTree({newAnnotationsByPage:En,xref:mn,catalogRef:un,pdfManager:en,newRefs:Un}),Un))):pn&&vn.push(Promise.all(Ln).then(async Un=>(await pn.updateStructureTree({newAnnotationsByPage:En,pdfManager:en,newRefs:Un}),Un)))}if(on)vn.push(en.serializeXfaData(sn));else for(let Dn=0;Dn<cn;Dn++)vn.push(en.getPage(Dn).then(function(Ln){const Un=new Dt(`Save: page ${Dn}`);return Ln.save(Ot,Un,sn).finally(function(){Ht(Un)})}));const wn=await Promise.all(vn);let kn=[],Rn=null;if(on){if(Rn=wn[0],!Rn)return Fn.bytes}else if(kn=wn.flat(2),kn.length===0)return Fn.bytes;const Cn=Tn&&Mn instanceof Pt.Dict&&kn.some(Dn=>Dn.needAppearances),An=Mn instanceof Pt.Dict&&Mn.get("XFA")||null;let _n=null,In=!1;if(Array.isArray(An)){for(let Dn=0,Ln=An.length;Dn<Ln;Dn+=2)An[Dn]==="datasets"&&(_n=An[Dn+1],In=!0);_n===null&&(_n=mn.getNewTemporaryRef())}else An&&(0,wt.warn)("Unsupported XFA type.");let Pn=Object.create(null);if(mn.trailer){const Dn=Object.create(null),Ln=mn.trailer.get("Info")||null;Ln instanceof Pt.Dict&&Ln.forEach((Un,tr)=>{typeof tr=="string"&&(Dn[Un]=(0,wt.stringToPDFString)(tr))}),Pn={rootRef:un,encryptRef:mn.trailer.getRaw("Encrypt")||null,newRef:mn.getNewTemporaryRef(),infoRef:mn.trailer.getRaw("Info")||null,info:Dn,fileIds:mn.trailer.get("ID")||null,startXRef:fn?Sn:mn.lastXRefStreamPos??Sn,filename:rn}}return(0,Xt.incrementalUpdate)({originalData:Fn.bytes,xrefInfo:Pn,newRefs:kn,xref:mn,hasXfa:!!An,xfaDatasetsRef:_n,hasXfaDatasetsEntry:In,needAppearances:Cn,acroFormRef:Tn,acroForm:Mn,xfaData:Rn}).finally(()=>{mn.resetNewTemporaryRef()})}),Ot.on("GetOperatorList",function(on,cn){const sn=on.pageIndex;en.getPage(sn).then(function(rn){const xn=new Dt(`GetOperatorList: page ${sn}`);an(xn);const vn=nn>=wt.VerbosityLevel.INFOS?Date.now():0;rn.getOperatorList({handler:Ot,sink:cn,task:xn,intent:on.intent,cacheKey:on.cacheKey,annotationStorage:on.annotationStorage}).then(function(En){Ht(xn),vn&&(0,wt.info)(`page=${sn+1} - getOperatorList: time=${Date.now()-vn}ms, len=${En.length}`),cn.close()},function(En){Ht(xn),!xn.terminated&&cn.error(En)})})}),Ot.on("GetTextContent",function(on,cn){const{pageIndex:sn,includeMarkedContent:rn,disableNormalization:xn}=on;en.getPage(sn).then(function(vn){const En=new Dt("GetTextContent: page "+sn);an(En);const Fn=nn>=wt.VerbosityLevel.INFOS?Date.now():0;vn.extractTextContent({handler:Ot,task:En,sink:cn,includeMarkedContent:rn,disableNormalization:xn}).then(function(){Ht(En),Fn&&(0,wt.info)(`page=${sn+1} - getTextContent: time=${Date.now()-Fn}ms`),cn.close()},function(Mn){Ht(En),!En.terminated&&cn.error(Mn)})})}),Ot.on("GetStructTree",function(on){return en.getPage(on.pageIndex).then(function(cn){return en.ensure(cn,"getStructTree")})}),Ot.on("FontFallback",function(on){return en.fontFallback(on.id,Ot)}),Ot.on("Cleanup",function(on){return en.cleanup(!0)}),Ot.on("Terminate",function(on){dn=!0;const cn=[];if(en){en.terminate(new wt.AbortException("Worker was terminated."));const sn=en.cleanup();cn.push(sn),en=null}else(0,Ft.clearGlobalCaches)();Qt&&Qt(new wt.AbortException("Worker was terminated."));for(const sn of gn)cn.push(sn.finished),sn.terminate();return Promise.all(cn).then(function(){Ot.destroy(),Ot=null})}),Ot.on("Ready",function(on){ln(Bt),Bt=null}),Ut}static initializeFromPort(Bt){const Gt=new Kt.MessageHandler("worker","main",Bt);jt.setup(Gt,Bt),Gt.send("ready",null)}}Et.WorkerMessageHandler=jt;function Ct(qt){return typeof qt.postMessage=="function"&&"onmessage"in qt}typeof window>"u"&&!wt.isNodeJS&&typeof self<"u"&&Ct(self)&&jt.initializeFromPort(self)},(kt,Et)=>{var dr;Object.defineProperty(Et,"__esModule",{value:!0}),Et.VerbosityLevel=Et.Util=Et.UnknownErrorException=Et.UnexpectedResponseException=Et.TextRenderingMode=Et.RenderingIntentFlag=Et.PromiseCapability=Et.PermissionFlag=Et.PasswordResponses=Et.PasswordException=Et.PageActionEventType=Et.OPS=Et.MissingPDFException=Et.MAX_IMAGE_SIZE_TO_CACHE=Et.LINE_FACTOR=Et.LINE_DESCENT_FACTOR=Et.InvalidPDFException=Et.ImageKind=Et.IDENTITY_MATRIX=Et.FormatError=Et.FeatureTest=Et.FONT_IDENTITY_MATRIX=Et.DocumentActionEventType=Et.CMapCompressionType=Et.BaseException=Et.BASELINE_FACTOR=Et.AnnotationType=Et.AnnotationReplyType=Et.AnnotationPrefix=Et.AnnotationMode=Et.AnnotationFlag=Et.AnnotationFieldFlag=Et.AnnotationEditorType=Et.AnnotationEditorPrefix=Et.AnnotationEditorParamsType=Et.AnnotationBorderStyleType=Et.AnnotationActionEventType=Et.AbortException=void 0,Et.assert=ln,Et.bytesToString=mn,Et.createValidAbsoluteUrl=cn,Et.getModificationDate=tr,Et.getUuid=nr,Et.getVerbosityLevel=an,Et.info=Ht,Et.isArrayBuffer=Ln,Et.isArrayEqual=Un,Et.isNodeJS=void 0,Et.normalizeUnicode=Xn,Et.objectFromMap=pn,Et.objectSize=un,Et.setVerbosityLevel=zt,Et.shadow=sn,Et.string32=Jt,Et.stringToBytes=fn,Et.stringToPDFString=In,Et.stringToUTF8String=Pn,Et.unreachable=tn,Et.utf8StringToString=Dn,Et.warn=Wt;const Rt=typeof process=="object"&&process+""=="[object process]"&&!process.versions.nw&&!(process.versions.electron&&process.type&&process.type!=="browser");Et.isNodeJS=Rt;const wt=[1,0,0,1,0,0];Et.IDENTITY_MATRIX=wt;const _t=[.001,0,0,.001,0,0];Et.FONT_IDENTITY_MATRIX=_t;const Pt=1e7;Et.MAX_IMAGE_SIZE_TO_CACHE=Pt;const _e=1.35;Et.LINE_FACTOR=_e;const bt=.35;Et.LINE_DESCENT_FACTOR=bt;const Ft=bt/_e;Et.BASELINE_FACTOR=Ft;const Xt={ANY:1,DISPLAY:2,PRINT:4,SAVE:8,ANNOTATIONS_FORMS:16,ANNOTATIONS_STORAGE:32,ANNOTATIONS_DISABLE:64,OPLIST:256};Et.RenderingIntentFlag=Xt;const Kt={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3};Et.AnnotationMode=Kt;const Nt="pdfjs_internal_editor_";Et.AnnotationEditorPrefix=Nt;const $t={DISABLE:-1,NONE:0,FREETEXT:3,STAMP:13,INK:15};Et.AnnotationEditorType=$t;const Dt={RESIZE:1,CREATE:2,FREETEXT_SIZE:11,FREETEXT_COLOR:12,FREETEXT_OPACITY:13,INK_COLOR:21,INK_THICKNESS:22,INK_OPACITY:23};Et.AnnotationEditorParamsType=Dt;const jt={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048};Et.PermissionFlag=jt;const Ct={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_ADD_TO_PATH:4,STROKE_ADD_TO_PATH:5,FILL_STROKE_ADD_TO_PATH:6,ADD_TO_PATH:7,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4};Et.TextRenderingMode=Ct;const qt={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3};Et.ImageKind=qt;const Bt={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,SOUND:18,MOVIE:19,WIDGET:20,SCREEN:21,PRINTERMARK:22,TRAPNET:23,WATERMARK:24,THREED:25,REDACT:26};Et.AnnotationType=Bt;const Gt={GROUP:"Group",REPLY:"R"};Et.AnnotationReplyType=Gt;const en={INVISIBLE:1,HIDDEN:2,PRINT:4,NOZOOM:8,NOROTATE:16,NOVIEW:32,READONLY:64,LOCKED:128,TOGGLENOVIEW:256,LOCKEDCONTENTS:512};Et.AnnotationFlag=en;const dn={READONLY:1,REQUIRED:2,NOEXPORT:4,MULTILINE:4096,PASSWORD:8192,NOTOGGLETOOFF:16384,RADIO:32768,PUSHBUTTON:65536,COMBO:131072,EDIT:262144,SORT:524288,FILESELECT:1048576,MULTISELECT:2097152,DONOTSPELLCHECK:4194304,DONOTSCROLL:8388608,COMB:16777216,RICHTEXT:33554432,RADIOSINUNISON:33554432,COMMITONSELCHANGE:67108864};Et.AnnotationFieldFlag=dn;const Qt={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5};Et.AnnotationBorderStyleType=Qt;const gn={E:"Mouse Enter",X:"Mouse Exit",D:"Mouse Down",U:"Mouse Up",Fo:"Focus",Bl:"Blur",PO:"PageOpen",PC:"PageClose",PV:"PageVisible",PI:"PageInvisible",K:"Keystroke",F:"Format",V:"Validate",C:"Calculate"};Et.AnnotationActionEventType=gn;const nn={WC:"WillClose",WS:"WillSave",DS:"DidSave",WP:"WillPrint",DP:"DidPrint"};Et.DocumentActionEventType=nn;const bn={O:"PageOpen",C:"PageClose"};Et.PageActionEventType=bn;const Vt={ERRORS:0,WARNINGS:1,INFOS:5};Et.VerbosityLevel=Vt;const Yt={NONE:0,BINARY:1};Et.CMapCompressionType=Yt;const hn={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotation:80,endAnnotation:81,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91};Et.OPS=hn;const Ut={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};Et.PasswordResponses=Ut;let Ot=Vt.WARNINGS;function zt(Bn){Number.isInteger(Bn)&&(Ot=Bn)}function an(){return Ot}function Ht(Bn){Ot>=Vt.INFOS&&console.log(`Info: ${Bn}`)}function Wt(Bn){Ot>=Vt.WARNINGS&&console.log(`Warning: ${Bn}`)}function tn(Bn){throw new Error(Bn)}function ln(Bn,Hn){Bn||tn(Hn)}function on(Bn){switch(Bn==null?void 0:Bn.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}function cn(Bn,Hn=null,Wn=null){if(!Bn)return null;try{if(Wn&&typeof Bn=="string"){if(Wn.addDefaultProtocol&&Bn.startsWith("www.")){const sr=Bn.match(/\./g);(sr==null?void 0:sr.length)>=2&&(Bn=`http://${Bn}`)}if(Wn.tryConvertEncoding)try{Bn=Pn(Bn)}catch{}}const cr=Hn?new URL(Bn,Hn):new URL(Bn);if(on(cr))return cr}catch{}return null}function sn(Bn,Hn,Wn,cr=!1){return Object.defineProperty(Bn,Hn,{value:Wn,enumerable:!cr,configurable:!0,writable:!1}),Wn}const rn=function(){function Hn(Wn,cr){this.constructor===Hn&&tn("Cannot initialize BaseException."),this.message=Wn,this.name=cr}return Hn.prototype=new Error,Hn.constructor=Hn,Hn}();Et.BaseException=rn;class xn extends rn{constructor(Hn,Wn){super(Hn,"PasswordException"),this.code=Wn}}Et.PasswordException=xn;class vn extends rn{constructor(Hn,Wn){super(Hn,"UnknownErrorException"),this.details=Wn}}Et.UnknownErrorException=vn;class En extends rn{constructor(Hn){super(Hn,"InvalidPDFException")}}Et.InvalidPDFException=En;class Fn extends rn{constructor(Hn){super(Hn,"MissingPDFException")}}Et.MissingPDFException=Fn;class Mn extends rn{constructor(Hn,Wn){super(Hn,"UnexpectedResponseException"),this.status=Wn}}Et.UnexpectedResponseException=Mn;class Tn extends rn{constructor(Hn){super(Hn,"FormatError")}}Et.FormatError=Tn;class Sn extends rn{constructor(Hn){super(Hn,"AbortException")}}Et.AbortException=Sn;function mn(Bn){(typeof Bn!="object"||(Bn==null?void 0:Bn.length)===void 0)&&tn("Invalid argument for bytesToString");const Hn=Bn.length,Wn=8192;if(Hn<Wn)return String.fromCharCode.apply(null,Bn);const cr=[];for(let sr=0;sr<Hn;sr+=Wn){const xr=Math.min(sr+Wn,Hn),Jn=Bn.subarray(sr,xr);cr.push(String.fromCharCode.apply(null,Jn))}return cr.join("")}function fn(Bn){typeof Bn!="string"&&tn("Invalid argument for stringToBytes");const Hn=Bn.length,Wn=new Uint8Array(Hn);for(let cr=0;cr<Hn;++cr)Wn[cr]=Bn.charCodeAt(cr)&255;return Wn}function Jt(Bn){return String.fromCharCode(Bn>>24&255,Bn>>16&255,Bn>>8&255,Bn&255)}function un(Bn){return Object.keys(Bn).length}function pn(Bn){const Hn=Object.create(null);for(const[Wn,cr]of Bn)Hn[Wn]=cr;return Hn}function wn(){const Bn=new Uint8Array(4);return Bn[0]=1,new Uint32Array(Bn.buffer,0,1)[0]===1}function kn(){try{return new Function(""),!0}catch{return!1}}class Rn{static get isLittleEndian(){return sn(this,"isLittleEndian",wn())}static get isEvalSupported(){return sn(this,"isEvalSupported",kn())}static get isOffscreenCanvasSupported(){return sn(this,"isOffscreenCanvasSupported",typeof OffscreenCanvas<"u")}static get platform(){return typeof navigator>"u"?sn(this,"platform",{isWin:!1,isMac:!1}):sn(this,"platform",{isWin:navigator.platform.includes("Win"),isMac:navigator.platform.includes("Mac")})}static get isCSSRoundSupported(){var Hn,Wn;return sn(this,"isCSSRoundSupported",(Wn=(Hn=globalThis.CSS)==null?void 0:Hn.supports)==null?void 0:Wn.call(Hn,"width: round(1.5px, 1px)"))}}Et.FeatureTest=Rn;const Cn=[...Array(256).keys()].map(Bn=>Bn.toString(16).padStart(2,"0"));class An{static makeHexColor(Hn,Wn,cr){return`#${Cn[Hn]}${Cn[Wn]}${Cn[cr]}`}static scaleMinMax(Hn,Wn){let cr;Hn[0]?(Hn[0]<0&&(cr=Wn[0],Wn[0]=Wn[1],Wn[1]=cr),Wn[0]*=Hn[0],Wn[1]*=Hn[0],Hn[3]<0&&(cr=Wn[2],Wn[2]=Wn[3],Wn[3]=cr),Wn[2]*=Hn[3],Wn[3]*=Hn[3]):(cr=Wn[0],Wn[0]=Wn[2],Wn[2]=cr,cr=Wn[1],Wn[1]=Wn[3],Wn[3]=cr,Hn[1]<0&&(cr=Wn[2],Wn[2]=Wn[3],Wn[3]=cr),Wn[2]*=Hn[1],Wn[3]*=Hn[1],Hn[2]<0&&(cr=Wn[0],Wn[0]=Wn[1],Wn[1]=cr),Wn[0]*=Hn[2],Wn[1]*=Hn[2]),Wn[0]+=Hn[4],Wn[1]+=Hn[4],Wn[2]+=Hn[5],Wn[3]+=Hn[5]}static transform(Hn,Wn){return[Hn[0]*Wn[0]+Hn[2]*Wn[1],Hn[1]*Wn[0]+Hn[3]*Wn[1],Hn[0]*Wn[2]+Hn[2]*Wn[3],Hn[1]*Wn[2]+Hn[3]*Wn[3],Hn[0]*Wn[4]+Hn[2]*Wn[5]+Hn[4],Hn[1]*Wn[4]+Hn[3]*Wn[5]+Hn[5]]}static applyTransform(Hn,Wn){const cr=Hn[0]*Wn[0]+Hn[1]*Wn[2]+Wn[4],sr=Hn[0]*Wn[1]+Hn[1]*Wn[3]+Wn[5];return[cr,sr]}static applyInverseTransform(Hn,Wn){const cr=Wn[0]*Wn[3]-Wn[1]*Wn[2],sr=(Hn[0]*Wn[3]-Hn[1]*Wn[2]+Wn[2]*Wn[5]-Wn[4]*Wn[3])/cr,xr=(-Hn[0]*Wn[1]+Hn[1]*Wn[0]+Wn[4]*Wn[1]-Wn[5]*Wn[0])/cr;return[sr,xr]}static getAxialAlignedBoundingBox(Hn,Wn){const cr=this.applyTransform(Hn,Wn),sr=this.applyTransform(Hn.slice(2,4),Wn),xr=this.applyTransform([Hn[0],Hn[3]],Wn),Jn=this.applyTransform([Hn[2],Hn[1]],Wn);return[Math.min(cr[0],sr[0],xr[0],Jn[0]),Math.min(cr[1],sr[1],xr[1],Jn[1]),Math.max(cr[0],sr[0],xr[0],Jn[0]),Math.max(cr[1],sr[1],xr[1],Jn[1])]}static inverseTransform(Hn){const Wn=Hn[0]*Hn[3]-Hn[1]*Hn[2];return[Hn[3]/Wn,-Hn[1]/Wn,-Hn[2]/Wn,Hn[0]/Wn,(Hn[2]*Hn[5]-Hn[4]*Hn[3])/Wn,(Hn[4]*Hn[1]-Hn[5]*Hn[0])/Wn]}static singularValueDecompose2dScale(Hn){const Wn=[Hn[0],Hn[2],Hn[1],Hn[3]],cr=Hn[0]*Wn[0]+Hn[1]*Wn[2],sr=Hn[0]*Wn[1]+Hn[1]*Wn[3],xr=Hn[2]*Wn[0]+Hn[3]*Wn[2],Jn=Hn[2]*Wn[1]+Hn[3]*Wn[3],Vn=(cr+Jn)/2,Zn=Math.sqrt((cr+Jn)**2-4*(cr*Jn-xr*sr))/2,ur=Vn+Zn||1,hr=Vn-Zn||1;return[Math.sqrt(ur),Math.sqrt(hr)]}static normalizeRect(Hn){const Wn=Hn.slice(0);return Hn[0]>Hn[2]&&(Wn[0]=Hn[2],Wn[2]=Hn[0]),Hn[1]>Hn[3]&&(Wn[1]=Hn[3],Wn[3]=Hn[1]),Wn}static intersect(Hn,Wn){const cr=Math.max(Math.min(Hn[0],Hn[2]),Math.min(Wn[0],Wn[2])),sr=Math.min(Math.max(Hn[0],Hn[2]),Math.max(Wn[0],Wn[2]));if(cr>sr)return null;const xr=Math.max(Math.min(Hn[1],Hn[3]),Math.min(Wn[1],Wn[3])),Jn=Math.min(Math.max(Hn[1],Hn[3]),Math.max(Wn[1],Wn[3]));return xr>Jn?null:[cr,xr,sr,Jn]}static bezierBoundingBox(Hn,Wn,cr,sr,xr,Jn,Vn,Zn){const ur=[],hr=[[],[]];let or,pr,wr,fr,Ar,Lr,Fr,$r;for(let qr=0;qr<2;++qr){if(qr===0?(pr=6*Hn-12*cr+6*xr,or=-3*Hn+9*cr-9*xr+3*Vn,wr=3*cr-3*Hn):(pr=6*Wn-12*sr+6*Jn,or=-3*Wn+9*sr-9*Jn+3*Zn,wr=3*sr-3*Wn),Math.abs(or)<1e-12){if(Math.abs(pr)<1e-12)continue;fr=-wr/pr,0<fr&&fr<1&&ur.push(fr);continue}Fr=pr*pr-4*wr*or,$r=Math.sqrt(Fr),!(Fr<0)&&(Ar=(-pr+$r)/(2*or),0<Ar&&Ar<1&&ur.push(Ar),Lr=(-pr-$r)/(2*or),0<Lr&&Lr<1&&ur.push(Lr))}let Er=ur.length,_r;const Rr=Er;for(;Er--;)fr=ur[Er],_r=1-fr,hr[0][Er]=_r*_r*_r*Hn+3*_r*_r*fr*cr+3*_r*fr*fr*xr+fr*fr*fr*Vn,hr[1][Er]=_r*_r*_r*Wn+3*_r*_r*fr*sr+3*_r*fr*fr*Jn+fr*fr*fr*Zn;return hr[0][Rr]=Hn,hr[1][Rr]=Wn,hr[0][Rr+1]=Vn,hr[1][Rr+1]=Zn,hr[0].length=hr[1].length=Rr+2,[Math.min(...hr[0]),Math.min(...hr[1]),Math.max(...hr[0]),Math.max(...hr[1])]}}Et.Util=An;const _n=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,728,711,710,729,733,731,730,732,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,8226,8224,8225,8230,8212,8211,402,8260,8249,8250,8722,8240,8222,8220,8221,8216,8217,8218,8482,64257,64258,321,338,352,376,381,305,322,339,353,382,0,8364];function In(Bn){if(Bn[0]>=""){let Wn;if(Bn[0]===""&&Bn[1]===""?Wn="utf-16be":Bn[0]===""&&Bn[1]===""?Wn="utf-16le":Bn[0]===""&&Bn[1]===""&&Bn[2]===""&&(Wn="utf-8"),Wn)try{const cr=new TextDecoder(Wn,{fatal:!0}),sr=fn(Bn);return cr.decode(sr)}catch(cr){Wt(`stringToPDFString: "${cr}".`)}}const Hn=[];for(let Wn=0,cr=Bn.length;Wn<cr;Wn++){const sr=_n[Bn.charCodeAt(Wn)];Hn.push(sr?String.fromCharCode(sr):Bn.charAt(Wn))}return Hn.join("")}function Pn(Bn){return decodeURIComponent(escape(Bn))}function Dn(Bn){return unescape(encodeURIComponent(Bn))}function Ln(Bn){return typeof Bn=="object"&&(Bn==null?void 0:Bn.byteLength)!==void 0}function Un(Bn,Hn){if(Bn.length!==Hn.length)return!1;for(let Wn=0,cr=Bn.length;Wn<cr;Wn++)if(Bn[Wn]!==Hn[Wn])return!1;return!0}function tr(Bn=new Date){return[Bn.getUTCFullYear().toString(),(Bn.getUTCMonth()+1).toString().padStart(2,"0"),Bn.getUTCDate().toString().padStart(2,"0"),Bn.getUTCHours().toString().padStart(2,"0"),Bn.getUTCMinutes().toString().padStart(2,"0"),Bn.getUTCSeconds().toString().padStart(2,"0")].join("")}class er{constructor(){Nn(this,dr,!1);this.promise=new Promise((Hn,Wn)=>{this.resolve=cr=>{$n(this,dr,!0),Hn(cr)},this.reject=cr=>{$n(this,dr,!0),Wn(cr)}})}get settled(){return Mt(this,dr)}}dr=new WeakMap,Et.PromiseCapability=er;let Qn=null,Yn=null;function Xn(Bn){return Qn||(Qn=/([\u00a0\u00b5\u037e\u0eb3\u2000-\u200a\u202f\u2126\ufb00-\ufb04\ufb06\ufb20-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufba1\ufba4-\ufba9\ufbae-\ufbb1\ufbd3-\ufbdc\ufbde-\ufbe7\ufbea-\ufbf8\ufbfc-\ufbfd\ufc00-\ufc5d\ufc64-\ufcf1\ufcf5-\ufd3d\ufd88\ufdf4\ufdfa-\ufdfb\ufe71\ufe77\ufe79\ufe7b\ufe7d]+)|(\ufb05+)/gu,Yn=new Map([["","t"]])),Bn.replaceAll(Qn,(Hn,Wn,cr)=>Wn?Wn.normalize("NFKC"):Yn.get(cr))}function nr(){if(typeof crypto<"u"&&typeof(crypto==null?void 0:crypto.randomUUID)=="function")return crypto.randomUUID();const Bn=new Uint8Array(32);if(typeof crypto<"u"&&typeof(crypto==null?void 0:crypto.getRandomValues)=="function")crypto.getRandomValues(Bn);else for(let Hn=0;Hn<32;Hn++)Bn[Hn]=Math.floor(Math.random()*255);return mn(Bn)}const lr="pdfjs_internal_id_";Et.AnnotationPrefix=lr},(kt,Et,Rt)=>{Object.defineProperty(Et,"__esModule",{value:!0}),Et.XRefParseException=Et.XRefEntryException=Et.ParserEOFException=Et.PDF_VERSION_REGEXP=Et.MissingDataException=void 0,Et.arrayBuffersToBytes=$t,Et.collectActions=Vt,Et.encodeToXmlString=hn,Et.escapePDFName=gn,Et.escapeString=nn,Et.getInheritableProperty=Dt,Et.getLookupTableFactory=bt,Et.getNewAnnotationsMap=Ht,Et.getRotationMatrix=on,Et.isAscii=Wt,Et.isWhiteSpace=dn,Et.log2=qt,Et.numberToString=an,Et.parseXFAPath=Qt,Et.readInt8=Bt,Et.readUint16=Gt,Et.readUint32=en,Et.recoverJsURL=zt,Et.stringToUTF16HexString=tn,Et.stringToUTF16String=ln,Et.toRomanNumerals=Ct,Et.validateCSSFont=Ot,Et.validateFontName=Ut;var wt=Rt(2),_t=Rt(4),Pt=Rt(5);const _e=/^[1-9]\.\d$/;Et.PDF_VERSION_REGEXP=_e;function bt(cn){let sn;return function(){return cn&&(sn=Object.create(null),cn(sn),cn=null),sn}}class Ft extends wt.BaseException{constructor(sn,rn){super(`Missing data [${sn}, ${rn})`,"MissingDataException"),this.begin=sn,this.end=rn}}Et.MissingDataException=Ft;class Xt extends wt.BaseException{constructor(sn){super(sn,"ParserEOFException")}}Et.ParserEOFException=Xt;class Kt extends wt.BaseException{constructor(sn){super(sn,"XRefEntryException")}}Et.XRefEntryException=Kt;class Nt extends wt.BaseException{constructor(sn){super(sn,"XRefParseException")}}Et.XRefParseException=Nt;function $t(cn){const sn=cn.length;if(sn===0)return new Uint8Array(0);if(sn===1)return new Uint8Array(cn[0]);let rn=0;for(let En=0;En<sn;En++)rn+=cn[En].byteLength;const xn=new Uint8Array(rn);let vn=0;for(let En=0;En<sn;En++){const Fn=new Uint8Array(cn[En]);xn.set(Fn,vn),vn+=Fn.byteLength}return xn}function Dt({dict:cn,key:sn,getArray:rn=!1,stopWhenFound:xn=!0}){let vn;const En=new _t.RefSet;for(;cn instanceof _t.Dict&&!(cn.objId&&En.has(cn.objId));){cn.objId&&En.put(cn.objId);const Fn=rn?cn.getArray(sn):cn.get(sn);if(Fn!==void 0){if(xn)return Fn;(vn||(vn=[])).push(Fn)}cn=cn.get("Parent")}return vn}const jt=["","C","CC","CCC","CD","D","DC","DCC","DCCC","CM","","X","XX","XXX","XL","L","LX","LXX","LXXX","XC","","I","II","III","IV","V","VI","VII","VIII","IX"];function Ct(cn,sn=!1){(0,wt.assert)(Number.isInteger(cn)&&cn>0,"The number should be a positive integer.");const rn=[];let xn;for(;cn>=1e3;)cn-=1e3,rn.push("M");xn=cn/100|0,cn%=100,rn.push(jt[xn]),xn=cn/10|0,cn%=10,rn.push(jt[10+xn]),rn.push(jt[20+cn]);const vn=rn.join("");return sn?vn.toLowerCase():vn}function qt(cn){return cn<=0?0:Math.ceil(Math.log2(cn))}function Bt(cn,sn){return cn[sn]<<24>>24}function Gt(cn,sn){return cn[sn]<<8|cn[sn+1]}function en(cn,sn){return(cn[sn]<<24|cn[sn+1]<<16|cn[sn+2]<<8|cn[sn+3])>>>0}function dn(cn){return cn===32||cn===9||cn===13||cn===10}function Qt(cn){const sn=/(.+)\[(\d+)\]$/;return cn.split(".").map(rn=>{const xn=rn.match(sn);return xn?{name:xn[1],pos:parseInt(xn[2],10)}:{name:rn,pos:0}})}function gn(cn){const sn=[];let rn=0;for(let xn=0,vn=cn.length;xn<vn;xn++){const En=cn.charCodeAt(xn);(En<33||En>126||En===35||En===40||En===41||En===60||En===62||En===91||En===93||En===123||En===125||En===47||En===37)&&(rn<xn&&sn.push(cn.substring(rn,xn)),sn.push(`#${En.toString(16)}`),rn=xn+1)}return sn.length===0?cn:(rn<cn.length&&sn.push(cn.substring(rn,cn.length)),sn.join(""))}function nn(cn){return cn.replaceAll(/([()\\\n\r])/g,sn=>sn===`
`?"\\n":sn==="\r"?"\\r":`\\${sn}`)}function bn(cn,sn,rn,xn){if(!cn)return;let vn=null;if(cn instanceof _t.Ref){if(xn.has(cn))return;vn=cn,xn.put(vn),cn=sn.fetch(cn)}if(Array.isArray(cn))for(const En of cn)bn(En,sn,rn,xn);else if(cn instanceof _t.Dict){if((0,_t.isName)(cn.get("S"),"JavaScript")){const En=cn.get("JS");let Fn;En instanceof Pt.BaseStream?Fn=En.getString():typeof En=="string"&&(Fn=En),Fn&&(Fn=(0,wt.stringToPDFString)(Fn).replaceAll("\0","")),Fn&&rn.push(Fn)}bn(cn.getRaw("Next"),sn,rn,xn)}vn&&xn.remove(vn)}function Vt(cn,sn,rn){const xn=Object.create(null),vn=Dt({dict:sn,key:"AA",stopWhenFound:!1});if(vn)for(let En=vn.length-1;En>=0;En--){const Fn=vn[En];if(Fn instanceof _t.Dict)for(const Mn of Fn.getKeys()){const Tn=rn[Mn];if(!Tn)continue;const Sn=Fn.getRaw(Mn),mn=new _t.RefSet,fn=[];bn(Sn,cn,fn,mn),fn.length>0&&(xn[Tn]=fn)}}if(sn.has("A")){const En=sn.get("A"),Fn=new _t.RefSet,Mn=[];bn(En,cn,Mn,Fn),Mn.length>0&&(xn.Action=Mn)}return(0,wt.objectSize)(xn)>0?xn:null}const Yt={60:"&lt;",62:"&gt;",38:"&amp;",34:"&quot;",39:"&apos;"};function hn(cn){const sn=[];let rn=0;for(let xn=0,vn=cn.length;xn<vn;xn++){const En=cn.codePointAt(xn);if(32<=En&&En<=126){const Fn=Yt[En];Fn&&(rn<xn&&sn.push(cn.substring(rn,xn)),sn.push(Fn),rn=xn+1)}else rn<xn&&sn.push(cn.substring(rn,xn)),sn.push(`&#x${En.toString(16).toUpperCase()};`),En>55295&&(En<57344||En>65533)&&xn++,rn=xn+1}return sn.length===0?cn:(rn<cn.length&&sn.push(cn.substring(rn,cn.length)),sn.join(""))}function Ut(cn,sn=!1){const rn=/^("|').*("|')$/.exec(cn);if(rn&&rn[1]===rn[2]){if(new RegExp(`[^\\\\]${rn[1]}`).test(cn.slice(1,-1)))return sn&&(0,wt.warn)(`FontFamily contains unescaped ${rn[1]}: ${cn}.`),!1}else for(const xn of cn.split(/[ \t]+/))if(/^(\d|(-(\d|-)))/.test(xn)||!/^[\w-\\]+$/.test(xn))return sn&&(0,wt.warn)(`FontFamily contains invalid <custom-ident>: ${cn}.`),!1;return!0}function Ot(cn){const sn="14",rn="400",xn=new Set(["100","200","300","400","500","600","700","800","900","1000","normal","bold","bolder","lighter"]),{fontFamily:vn,fontWeight:En,italicAngle:Fn}=cn;if(!Ut(vn,!0))return!1;const Mn=En?En.toString():"";cn.fontWeight=xn.has(Mn)?Mn:rn;const Tn=parseFloat(Fn);return cn.italicAngle=isNaN(Tn)||Tn<-90||Tn>90?sn:Fn.toString(),!0}function zt(cn){const sn=["app.launchURL","window.open","xfa.host.gotoURL"],xn=new RegExp("^\\s*("+sn.join("|").replaceAll(".","\\.")+`)\\((?:'|")([^'"]*)(?:'|")(?:,\\s*(\\w+)\\)|\\))`,"i").exec(cn);if(xn!=null&&xn[2]){const vn=xn[2];let En=!1;return xn[3]==="true"&&xn[1]==="app.launchURL"&&(En=!0),{url:vn,newWindow:En}}return null}function an(cn){if(Number.isInteger(cn))return cn.toString();const sn=Math.round(cn*100);return sn%100===0?(sn/100).toString():sn%10===0?cn.toFixed(1):cn.toFixed(2)}function Ht(cn){if(!cn)return null;const sn=new Map;for(const[rn,xn]of cn){if(!rn.startsWith(wt.AnnotationEditorPrefix))continue;let vn=sn.get(xn.pageIndex);vn||(vn=[],sn.set(xn.pageIndex,vn)),vn.push(xn)}return sn.size>0?sn:null}function Wt(cn){return/^[\x00-\x7F]*$/.test(cn)}function tn(cn){const sn=[];for(let rn=0,xn=cn.length;rn<xn;rn++){const vn=cn.charCodeAt(rn);sn.push((vn>>8&255).toString(16).padStart(2,"0"),(vn&255).toString(16).padStart(2,"0"))}return sn.join("")}function ln(cn,sn=!1){const rn=[];sn&&rn.push("");for(let xn=0,vn=cn.length;xn<vn;xn++){const En=cn.charCodeAt(xn);rn.push(String.fromCharCode(En>>8&255),String.fromCharCode(En&255))}return rn.join("")}function on(cn,sn,rn){switch(cn){case 90:return[0,1,-1,0,sn,0];case 180:return[-1,0,0,-1,sn,rn];case 270:return[0,-1,1,0,0,rn];default:throw new Error("Invalid rotation")}}},(kt,Et,Rt)=>{Object.defineProperty(Et,"__esModule",{value:!0}),Et.RefSetCache=Et.RefSet=Et.Ref=Et.Name=Et.EOF=Et.Dict=Et.Cmd=Et.CIRCULAR_REF=void 0,Et.clearPrimitiveCaches=Xt,Et.isCmd=Gt,Et.isDict=en,Et.isName=Bt,Et.isRefsEqual=dn;var wt=Rt(2);const _t=Symbol("CIRCULAR_REF");Et.CIRCULAR_REF=_t;const Pt=Symbol("EOF");Et.EOF=Pt;let _e=Object.create(null),bt=Object.create(null),Ft=Object.create(null);function Xt(){_e=Object.create(null),bt=Object.create(null),Ft=Object.create(null)}class Kt{constructor(gn){this.name=gn}static get(gn){return bt[gn]||(bt[gn]=new Kt(gn))}}Et.Name=Kt;class Nt{constructor(gn){this.cmd=gn}static get(gn){return _e[gn]||(_e[gn]=new Nt(gn))}}Et.Cmd=Nt;const $t=function(){return $t};class Dt{constructor(gn=null){this._map=Object.create(null),this.xref=gn,this.objId=null,this.suppressEncryption=!1,this.__nonSerializable__=$t}assignXref(gn){this.xref=gn}get size(){return Object.keys(this._map).length}get(gn,nn,bn){let Vt=this._map[gn];return Vt===void 0&&nn!==void 0&&(Vt=this._map[nn],Vt===void 0&&bn!==void 0&&(Vt=this._map[bn])),Vt instanceof jt&&this.xref?this.xref.fetch(Vt,this.suppressEncryption):Vt}async getAsync(gn,nn,bn){let Vt=this._map[gn];return Vt===void 0&&nn!==void 0&&(Vt=this._map[nn],Vt===void 0&&bn!==void 0&&(Vt=this._map[bn])),Vt instanceof jt&&this.xref?this.xref.fetchAsync(Vt,this.suppressEncryption):Vt}getArray(gn,nn,bn){let Vt=this._map[gn];if(Vt===void 0&&nn!==void 0&&(Vt=this._map[nn],Vt===void 0&&bn!==void 0&&(Vt=this._map[bn])),Vt instanceof jt&&this.xref&&(Vt=this.xref.fetch(Vt,this.suppressEncryption)),Array.isArray(Vt)){Vt=Vt.slice();for(let Yt=0,hn=Vt.length;Yt<hn;Yt++)Vt[Yt]instanceof jt&&this.xref&&(Vt[Yt]=this.xref.fetch(Vt[Yt],this.suppressEncryption))}return Vt}getRaw(gn){return this._map[gn]}getKeys(){return Object.keys(this._map)}getRawValues(){return Object.values(this._map)}set(gn,nn){this._map[gn]=nn}has(gn){return this._map[gn]!==void 0}forEach(gn){for(const nn in this._map)gn(nn,this.get(nn))}static get empty(){const gn=new Dt(null);return gn.set=(nn,bn)=>{(0,wt.unreachable)("Should not call `set` on the empty dictionary.")},(0,wt.shadow)(this,"empty",gn)}static merge({xref:gn,dictArray:nn,mergeSubDicts:bn=!1}){const Vt=new Dt(gn),Yt=new Map;for(const hn of nn)if(hn instanceof Dt)for(const[Ut,Ot]of Object.entries(hn._map)){let zt=Yt.get(Ut);if(zt===void 0)zt=[],Yt.set(Ut,zt);else if(!bn||!(Ot instanceof Dt))continue;zt.push(Ot)}for(const[hn,Ut]of Yt){if(Ut.length===1||!(Ut[0]instanceof Dt)){Vt._map[hn]=Ut[0];continue}const Ot=new Dt(gn);for(const zt of Ut)for(const[an,Ht]of Object.entries(zt._map))Ot._map[an]===void 0&&(Ot._map[an]=Ht);Ot.size>0&&(Vt._map[hn]=Ot)}return Yt.clear(),Vt.size>0?Vt:Dt.empty}clone(){const gn=new Dt(this.xref);for(const nn of this.getKeys())gn.set(nn,this.getRaw(nn));return gn}}Et.Dict=Dt;class jt{constructor(gn,nn){this.num=gn,this.gen=nn}toString(){return this.gen===0?`${this.num}R`:`${this.num}R${this.gen}`}static fromString(gn){const nn=Ft[gn];if(nn)return nn;const bn=/^(\d+)R(\d*)$/.exec(gn);return!bn||bn[1]==="0"?null:Ft[gn]=new jt(parseInt(bn[1]),bn[2]?parseInt(bn[2]):0)}static get(gn,nn){const bn=nn===0?`${gn}R`:`${gn}R${nn}`;return Ft[bn]||(Ft[bn]=new jt(gn,nn))}}Et.Ref=jt;class Ct{constructor(gn=null){this._set=new Set(gn==null?void 0:gn._set)}has(gn){return this._set.has(gn.toString())}put(gn){this._set.add(gn.toString())}remove(gn){this._set.delete(gn.toString())}[Symbol.iterator](){return this._set.values()}clear(){this._set.clear()}}Et.RefSet=Ct;class qt{constructor(){this._map=new Map}get size(){return this._map.size}get(gn){return this._map.get(gn.toString())}has(gn){return this._map.has(gn.toString())}put(gn,nn){this._map.set(gn.toString(),nn)}putAlias(gn,nn){this._map.set(gn.toString(),this.get(nn))}[Symbol.iterator](){return this._map.values()}clear(){this._map.clear()}}Et.RefSetCache=qt;function Bt(Qt,gn){return Qt instanceof Kt&&(gn===void 0||Qt.name===gn)}function Gt(Qt,gn){return Qt instanceof Nt&&(gn===void 0||Qt.cmd===gn)}function en(Qt,gn){return Qt instanceof Dt&&(gn===void 0||Bt(Qt.get("Type"),gn))}function dn(Qt,gn){return Qt.num===gn.num&&Qt.gen===gn.gen}},(kt,Et,Rt)=>{Object.defineProperty(Et,"__esModule",{value:!0}),Et.BaseStream=void 0;var wt=Rt(2);class _t{constructor(){this.constructor===_t&&(0,wt.unreachable)("Cannot initialize BaseStream.")}get length(){(0,wt.unreachable)("Abstract getter `length` accessed")}get isEmpty(){(0,wt.unreachable)("Abstract getter `isEmpty` accessed")}get isDataLoaded(){return(0,wt.shadow)(this,"isDataLoaded",!0)}getByte(){(0,wt.unreachable)("Abstract method `getByte` called")}getBytes(_e){(0,wt.unreachable)("Abstract method `getBytes` called")}peekByte(){const _e=this.getByte();return _e!==-1&&this.pos--,_e}peekBytes(_e){const bt=this.getBytes(_e);return this.pos-=bt.length,bt}getUint16(){const _e=this.getByte(),bt=this.getByte();return _e===-1||bt===-1?-1:(_e<<8)+bt}getInt32(){const _e=this.getByte(),bt=this.getByte(),Ft=this.getByte(),Xt=this.getByte();return(_e<<24)+(bt<<16)+(Ft<<8)+Xt}getByteRange(_e,bt){(0,wt.unreachable)("Abstract method `getByteRange` called")}getString(_e){return(0,wt.bytesToString)(this.getBytes(_e))}skip(_e){this.pos+=_e||1}reset(){(0,wt.unreachable)("Abstract method `reset` called")}moveStart(){(0,wt.unreachable)("Abstract method `moveStart` called")}makeSubStream(_e,bt,Ft=null){(0,wt.unreachable)("Abstract method `makeSubStream` called")}getBaseStreams(){return null}}Et.BaseStream=_t},(kt,Et,Rt)=>{Object.defineProperty(Et,"__esModule",{value:!0}),Et.NetworkPdfManager=Et.LocalPdfManager=void 0;var wt=Rt(2),_t=Rt(7),Pt=Rt(3),_e=Rt(9),bt=Rt(8);function Ft($t){if($t){const Dt=(0,wt.createValidAbsoluteUrl)($t);if(Dt)return Dt.href;(0,wt.warn)(`Invalid absolute docBaseUrl: "${$t}".`)}return null}class Xt{constructor(Dt){var jt;this.constructor===Xt&&(0,wt.unreachable)("Cannot initialize BasePdfManager."),this._docBaseUrl=Ft(Dt.docBaseUrl),this._docId=Dt.docId,this._password=Dt.password,this.enableXfa=Dt.enableXfa,(jt=Dt.evaluatorOptions).isOffscreenCanvasSupported&&(jt.isOffscreenCanvasSupported=wt.FeatureTest.isOffscreenCanvasSupported),this.evaluatorOptions=Dt.evaluatorOptions}get docId(){return this._docId}get password(){return this._password}get docBaseUrl(){return this._docBaseUrl}get catalog(){return this.pdfDocument.catalog}ensureDoc(Dt,jt){return this.ensure(this.pdfDocument,Dt,jt)}ensureXRef(Dt,jt){return this.ensure(this.pdfDocument.xref,Dt,jt)}ensureCatalog(Dt,jt){return this.ensure(this.pdfDocument.catalog,Dt,jt)}getPage(Dt){return this.pdfDocument.getPage(Dt)}fontFallback(Dt,jt){return this.pdfDocument.fontFallback(Dt,jt)}loadXfaFonts(Dt,jt){return this.pdfDocument.loadXfaFonts(Dt,jt)}loadXfaImages(){return this.pdfDocument.loadXfaImages()}serializeXfaData(Dt){return this.pdfDocument.serializeXfaData(Dt)}cleanup(Dt=!1){return this.pdfDocument.cleanup(Dt)}async ensure(Dt,jt,Ct){(0,wt.unreachable)("Abstract method `ensure` called")}requestRange(Dt,jt){(0,wt.unreachable)("Abstract method `requestRange` called")}requestLoadedStream(Dt=!1){(0,wt.unreachable)("Abstract method `requestLoadedStream` called")}sendProgressiveData(Dt){(0,wt.unreachable)("Abstract method `sendProgressiveData` called")}updatePassword(Dt){this._password=Dt}terminate(Dt){(0,wt.unreachable)("Abstract method `terminate` called")}}class Kt extends Xt{constructor(Dt){super(Dt);const jt=new bt.Stream(Dt.source);this.pdfDocument=new _e.PDFDocument(this,jt),this._loadedStreamPromise=Promise.resolve(jt)}async ensure(Dt,jt,Ct){const qt=Dt[jt];return typeof qt=="function"?qt.apply(Dt,Ct):qt}requestRange(Dt,jt){return Promise.resolve()}requestLoadedStream(Dt=!1){return this._loadedStreamPromise}terminate(Dt){}}Et.LocalPdfManager=Kt;class Nt extends Xt{constructor(Dt){super(Dt),this.streamManager=new _t.ChunkedStreamManager(Dt.source,{msgHandler:Dt.handler,length:Dt.length,disableAutoFetch:Dt.disableAutoFetch,rangeChunkSize:Dt.rangeChunkSize}),this.pdfDocument=new _e.PDFDocument(this,this.streamManager.getStream())}async ensure(Dt,jt,Ct){try{const qt=Dt[jt];return typeof qt=="function"?qt.apply(Dt,Ct):qt}catch(qt){if(!(qt instanceof Pt.MissingDataException))throw qt;return await this.requestRange(qt.begin,qt.end),this.ensure(Dt,jt,Ct)}}requestRange(Dt,jt){return this.streamManager.requestRange(Dt,jt)}requestLoadedStream(Dt=!1){return this.streamManager.requestAllChunks(Dt)}sendProgressiveData(Dt){this.streamManager.onReceiveData({chunk:Dt})}terminate(Dt){this.streamManager.abort(Dt)}}Et.NetworkPdfManager=Nt},(kt,Et,Rt)=>{Object.defineProperty(Et,"__esModule",{value:!0}),Et.ChunkedStreamManager=Et.ChunkedStream=void 0;var wt=Rt(3),_t=Rt(2),Pt=Rt(8);class _e extends Pt.Stream{constructor(Xt,Kt,Nt){super(new Uint8Array(Xt),0,Xt,null),this.chunkSize=Kt,this._loadedChunks=new Set,this.numChunks=Math.ceil(Xt/Kt),this.manager=Nt,this.progressiveDataLength=0,this.lastSuccessfulEnsureByteChunk=-1}getMissingChunks(){const Xt=[];for(let Kt=0,Nt=this.numChunks;Kt<Nt;++Kt)this._loadedChunks.has(Kt)||Xt.push(Kt);return Xt}get numChunksLoaded(){return this._loadedChunks.size}get isDataLoaded(){return this.numChunksLoaded===this.numChunks}onReceiveData(Xt,Kt){const Nt=this.chunkSize;if(Xt%Nt!==0)throw new Error(`Bad begin offset: ${Xt}`);const $t=Xt+Kt.byteLength;if($t%Nt!==0&&$t!==this.bytes.length)throw new Error(`Bad end offset: ${$t}`);this.bytes.set(new Uint8Array(Kt),Xt);const Dt=Math.floor(Xt/Nt),jt=Math.floor(($t-1)/Nt)+1;for(let Ct=Dt;Ct<jt;++Ct)this._loadedChunks.add(Ct)}onReceiveProgressiveData(Xt){let Kt=this.progressiveDataLength;const Nt=Math.floor(Kt/this.chunkSize);this.bytes.set(new Uint8Array(Xt),Kt),Kt+=Xt.byteLength,this.progressiveDataLength=Kt;const $t=Kt>=this.end?this.numChunks:Math.floor(Kt/this.chunkSize);for(let Dt=Nt;Dt<$t;++Dt)this._loadedChunks.add(Dt)}ensureByte(Xt){if(Xt<this.progressiveDataLength)return;const Kt=Math.floor(Xt/this.chunkSize);if(!(Kt>this.numChunks)&&Kt!==this.lastSuccessfulEnsureByteChunk){if(!this._loadedChunks.has(Kt))throw new wt.MissingDataException(Xt,Xt+1);this.lastSuccessfulEnsureByteChunk=Kt}}ensureRange(Xt,Kt){if(Xt>=Kt||Kt<=this.progressiveDataLength)return;const Nt=Math.floor(Xt/this.chunkSize);if(Nt>this.numChunks)return;const $t=Math.min(Math.floor((Kt-1)/this.chunkSize)+1,this.numChunks);for(let Dt=Nt;Dt<$t;++Dt)if(!this._loadedChunks.has(Dt))throw new wt.MissingDataException(Xt,Kt)}nextEmptyChunk(Xt){const Kt=this.numChunks;for(let Nt=0;Nt<Kt;++Nt){const $t=(Xt+Nt)%Kt;if(!this._loadedChunks.has($t))return $t}return null}hasChunk(Xt){return this._loadedChunks.has(Xt)}getByte(){const Xt=this.pos;return Xt>=this.end?-1:(Xt>=this.progressiveDataLength&&this.ensureByte(Xt),this.bytes[this.pos++])}getBytes(Xt){const Kt=this.bytes,Nt=this.pos,$t=this.end;if(!Xt)return $t>this.progressiveDataLength&&this.ensureRange(Nt,$t),Kt.subarray(Nt,$t);let Dt=Nt+Xt;return Dt>$t&&(Dt=$t),Dt>this.progressiveDataLength&&this.ensureRange(Nt,Dt),this.pos=Dt,Kt.subarray(Nt,Dt)}getByteRange(Xt,Kt){return Xt<0&&(Xt=0),Kt>this.end&&(Kt=this.end),Kt>this.progressiveDataLength&&this.ensureRange(Xt,Kt),this.bytes.subarray(Xt,Kt)}makeSubStream(Xt,Kt,Nt=null){Kt?Xt+Kt>this.progressiveDataLength&&this.ensureRange(Xt,Xt+Kt):Xt>=this.progressiveDataLength&&this.ensureByte(Xt);function $t(){}$t.prototype=Object.create(this),$t.prototype.getMissingChunks=function(){const jt=this.chunkSize,Ct=Math.floor(this.start/jt),qt=Math.floor((this.end-1)/jt)+1,Bt=[];for(let Gt=Ct;Gt<qt;++Gt)this._loadedChunks.has(Gt)||Bt.push(Gt);return Bt},Object.defineProperty($t.prototype,"isDataLoaded",{get(){return this.numChunksLoaded===this.numChunks?!0:this.getMissingChunks().length===0},configurable:!0});const Dt=new $t;return Dt.pos=Dt.start=Xt,Dt.end=Xt+Kt||this.end,Dt.dict=Nt,Dt}getBaseStreams(){return[this]}}Et.ChunkedStream=_e;class bt{constructor(Xt,Kt){this.length=Kt.length,this.chunkSize=Kt.rangeChunkSize,this.stream=new _e(this.length,this.chunkSize,this),this.pdfNetworkStream=Xt,this.disableAutoFetch=Kt.disableAutoFetch,this.msgHandler=Kt.msgHandler,this.currRequestId=0,this._chunksNeededByRequest=new Map,this._requestsByChunk=new Map,this._promisesByRequest=new Map,this.progressiveDataLength=0,this.aborted=!1,this._loadedStreamCapability=new _t.PromiseCapability}sendRequest(Xt,Kt){const Nt=this.pdfNetworkStream.getRangeReader(Xt,Kt);Nt.isStreamingSupported||(Nt.onProgress=this.onProgress.bind(this));let $t=[],Dt=0;return new Promise((jt,Ct)=>{const qt=({value:Bt,done:Gt})=>{try{if(Gt){const en=(0,wt.arrayBuffersToBytes)($t);$t=null,jt(en);return}Dt+=Bt.byteLength,Nt.isStreamingSupported&&this.onProgress({loaded:Dt}),$t.push(Bt),Nt.read().then(qt,Ct)}catch(en){Ct(en)}};Nt.read().then(qt,Ct)}).then(jt=>{this.aborted||this.onReceiveData({chunk:jt,begin:Xt})})}requestAllChunks(Xt=!1){if(!Xt){const Kt=this.stream.getMissingChunks();this._requestChunks(Kt)}return this._loadedStreamCapability.promise}_requestChunks(Xt){const Kt=this.currRequestId++,Nt=new Set;this._chunksNeededByRequest.set(Kt,Nt);for(const jt of Xt)this.stream.hasChunk(jt)||Nt.add(jt);if(Nt.size===0)return Promise.resolve();const $t=new _t.PromiseCapability;this._promisesByRequest.set(Kt,$t);const Dt=[];for(const jt of Nt){let Ct=this._requestsByChunk.get(jt);Ct||(Ct=[],this._requestsByChunk.set(jt,Ct),Dt.push(jt)),Ct.push(Kt)}if(Dt.length>0){const jt=this.groupChunks(Dt);for(const Ct of jt){const qt=Ct.beginChunk*this.chunkSize,Bt=Math.min(Ct.endChunk*this.chunkSize,this.length);this.sendRequest(qt,Bt).catch($t.reject)}}return $t.promise.catch(jt=>{if(!this.aborted)throw jt})}getStream(){return this.stream}requestRange(Xt,Kt){Kt=Math.min(Kt,this.length);const Nt=this.getBeginChunk(Xt),$t=this.getEndChunk(Kt),Dt=[];for(let jt=Nt;jt<$t;++jt)Dt.push(jt);return this._requestChunks(Dt)}requestRanges(Xt=[]){const Kt=[];for(const Nt of Xt){const $t=this.getBeginChunk(Nt.begin),Dt=this.getEndChunk(Nt.end);for(let jt=$t;jt<Dt;++jt)Kt.includes(jt)||Kt.push(jt)}return Kt.sort(function(Nt,$t){return Nt-$t}),this._requestChunks(Kt)}groupChunks(Xt){const Kt=[];let Nt=-1,$t=-1;for(let Dt=0,jt=Xt.length;Dt<jt;++Dt){const Ct=Xt[Dt];Nt<0&&(Nt=Ct),$t>=0&&$t+1!==Ct&&(Kt.push({beginChunk:Nt,endChunk:$t+1}),Nt=Ct),Dt+1===Xt.length&&Kt.push({beginChunk:Nt,endChunk:Ct+1}),$t=Ct}return Kt}onProgress(Xt){this.msgHandler.send("DocProgress",{loaded:this.stream.numChunksLoaded*this.chunkSize+Xt.loaded,total:this.length})}onReceiveData(Xt){const Kt=Xt.chunk,Nt=Xt.begin===void 0,$t=Nt?this.progressiveDataLength:Xt.begin,Dt=$t+Kt.byteLength,jt=Math.floor($t/this.chunkSize),Ct=Dt<this.length?Math.floor(Dt/this.chunkSize):Math.ceil(Dt/this.chunkSize);Nt?(this.stream.onReceiveProgressiveData(Kt),this.progressiveDataLength=Dt):this.stream.onReceiveData($t,Kt),this.stream.isDataLoaded&&this._loadedStreamCapability.resolve(this.stream);const qt=[];for(let Bt=jt;Bt<Ct;++Bt){const Gt=this._requestsByChunk.get(Bt);if(Gt){this._requestsByChunk.delete(Bt);for(const en of Gt){const dn=this._chunksNeededByRequest.get(en);dn.has(Bt)&&dn.delete(Bt),!(dn.size>0)&&qt.push(en)}}}if(!this.disableAutoFetch&&this._requestsByChunk.size===0){let Bt;if(this.stream.numChunksLoaded===1){const Gt=this.stream.numChunks-1;this.stream.hasChunk(Gt)||(Bt=Gt)}else Bt=this.stream.nextEmptyChunk(Ct);Number.isInteger(Bt)&&this._requestChunks([Bt])}for(const Bt of qt){const Gt=this._promisesByRequest.get(Bt);this._promisesByRequest.delete(Bt),Gt.resolve()}this.msgHandler.send("DocProgress",{loaded:this.stream.numChunksLoaded*this.chunkSize,total:this.length})}onError(Xt){this._loadedStreamCapability.reject(Xt)}getBeginChunk(Xt){return Math.floor(Xt/this.chunkSize)}getEndChunk(Xt){return Math.floor((Xt-1)/this.chunkSize)+1}abort(Xt){var Kt;this.aborted=!0,(Kt=this.pdfNetworkStream)==null||Kt.cancelAllRequests(Xt);for(const Nt of this._promisesByRequest.values())Nt.reject(Xt)}}Et.ChunkedStreamManager=bt},(kt,Et,Rt)=>{Object.defineProperty(Et,"__esModule",{value:!0}),Et.StringStream=Et.Stream=Et.NullStream=void 0;var wt=Rt(5),_t=Rt(2);class Pt extends wt.BaseStream{constructor(Xt,Kt,Nt,$t){super(),this.bytes=Xt instanceof Uint8Array?Xt:new Uint8Array(Xt),this.start=Kt||0,this.pos=this.start,this.end=Kt+Nt||this.bytes.length,this.dict=$t}get length(){return this.end-this.start}get isEmpty(){return this.length===0}getByte(){return this.pos>=this.end?-1:this.bytes[this.pos++]}getBytes(Xt){const Kt=this.bytes,Nt=this.pos,$t=this.end;if(!Xt)return Kt.subarray(Nt,$t);let Dt=Nt+Xt;return Dt>$t&&(Dt=$t),this.pos=Dt,Kt.subarray(Nt,Dt)}getByteRange(Xt,Kt){return Xt<0&&(Xt=0),Kt>this.end&&(Kt=this.end),this.bytes.subarray(Xt,Kt)}reset(){this.pos=this.start}moveStart(){this.start=this.pos}makeSubStream(Xt,Kt,Nt=null){return new Pt(this.bytes.buffer,Xt,Kt,Nt)}}Et.Stream=Pt;class _e extends Pt{constructor(Xt){super((0,_t.stringToBytes)(Xt))}}Et.StringStream=_e;class bt extends Pt{constructor(){super(new Uint8Array(0))}}Et.NullStream=bt},(kt,Et,Rt)=>{var Wt,W3,ln,V3;Object.defineProperty(Et,"__esModule",{value:!0}),Et.Page=Et.PDFDocument=void 0;var wt=Rt(2),_t=Rt(10),Pt=Rt(3),_e=Rt(4),bt=Rt(51),Ft=Rt(5),Xt=Rt(74),Kt=Rt(66),Nt=Rt(68),$t=Rt(102),Dt=Rt(16),jt=Rt(8),Ct=Rt(76),qt=Rt(64),Bt=Rt(13),Gt=Rt(18),en=Rt(72),dn=Rt(73),Qt=Rt(77),gn=Rt(103);const nn=1,bn=[0,0,612,792];class Vt{constructor({pdfManager:sn,xref:rn,pageIndex:xn,pageDict:vn,ref:En,globalIdFactory:Fn,fontCache:Mn,builtInCMapCache:Tn,standardFontDataCache:Sn,globalImageCache:mn,systemFontCache:fn,nonBlendModesSet:Jt,xfaFactory:un}){Nn(this,Wt);this.pdfManager=sn,this.pageIndex=xn,this.pageDict=vn,this.xref=rn,this.ref=En,this.fontCache=Mn,this.builtInCMapCache=Tn,this.standardFontDataCache=Sn,this.globalImageCache=mn,this.systemFontCache=fn,this.nonBlendModesSet=Jt,this.evaluatorOptions=sn.evaluatorOptions,this.resourcesPromise=null,this.xfaFactory=un;const pn={obj:0};this._localIdFactory=class extends Fn{static createObjId(){return`p${xn}_${++pn.obj}`}static getPageObjId(){return`p${En.toString()}`}}}_getInheritableProperty(sn,rn=!1){const xn=(0,Pt.getInheritableProperty)({dict:this.pageDict,key:sn,getArray:rn,stopWhenFound:!1});return Array.isArray(xn)?xn.length===1||!(xn[0]instanceof _e.Dict)?xn[0]:_e.Dict.merge({xref:this.xref,dictArray:xn}):xn}get content(){return this.pageDict.getArray("Contents")}get resources(){const sn=this._getInheritableProperty("Resources");return(0,wt.shadow)(this,"resources",sn instanceof _e.Dict?sn:_e.Dict.empty)}_getBoundingBox(sn){if(this.xfaData)return this.xfaData.bbox;let rn=this._getInheritableProperty(sn,!0);if(Array.isArray(rn)&&rn.length===4){if(rn=wt.Util.normalizeRect(rn),rn[2]-rn[0]>0&&rn[3]-rn[1]>0)return rn;(0,wt.warn)(`Empty, or invalid, /${sn} entry.`)}return null}get mediaBox(){return(0,wt.shadow)(this,"mediaBox",this._getBoundingBox("MediaBox")||bn)}get cropBox(){return(0,wt.shadow)(this,"cropBox",this._getBoundingBox("CropBox")||this.mediaBox)}get userUnit(){let sn=this.pageDict.get("UserUnit");return(typeof sn!="number"||sn<=0)&&(sn=nn),(0,wt.shadow)(this,"userUnit",sn)}get view(){const{cropBox:sn,mediaBox:rn}=this;if(sn!==rn&&!(0,wt.isArrayEqual)(sn,rn)){const xn=wt.Util.intersect(sn,rn);if(xn&&xn[2]-xn[0]>0&&xn[3]-xn[1]>0)return(0,wt.shadow)(this,"view",xn);(0,wt.warn)("Empty /CropBox and /MediaBox intersection.")}return(0,wt.shadow)(this,"view",rn)}get rotate(){let sn=this._getInheritableProperty("Rotate")||0;return sn%90!==0?sn=0:sn>=360?sn%=360:sn<0&&(sn=(sn%360+360)%360),(0,wt.shadow)(this,"rotate",sn)}_onSubStreamError(sn,rn){if(this.evaluatorOptions.ignoreErrors){(0,wt.warn)(`getContentStream - ignoring sub-stream (${rn}): "${sn}".`);return}throw sn}getContentStream(){return this.pdfManager.ensure(this,"content").then(sn=>sn instanceof Ft.BaseStream?sn:Array.isArray(sn)?new Gt.StreamsSequenceStream(sn,this._onSubStreamError.bind(this)):new jt.NullStream)}get xfaData(){return(0,wt.shadow)(this,"xfaData",this.xfaFactory?{bbox:this.xfaFactory.getBoundingBox(this.pageIndex)}:null)}async saveNewAnnotations(sn,rn,xn,vn){if(this.xfaFactory)throw new Error("XFA: Cannot save new annotations.");const En=new Bt.PartialEvaluator({xref:this.xref,handler:sn,pageIndex:this.pageIndex,idFactory:this._localIdFactory,fontCache:this.fontCache,builtInCMapCache:this.builtInCMapCache,standardFontDataCache:this.standardFontDataCache,globalImageCache:this.globalImageCache,systemFontCache:this.systemFontCache,options:this.evaluatorOptions}),Fn=new _e.RefSet,Mn=new _e.RefSet;On(this,Wt,W3).call(this,xn,Fn,Mn);const Tn=this.pageDict,Sn=this.annotations.filter(pn=>!(pn instanceof _e.Ref&&Fn.has(pn))),mn=await _t.AnnotationFactory.saveNewAnnotations(En,rn,xn,vn);for(const{ref:pn}of mn.annotations)pn instanceof _e.Ref&&!Mn.has(pn)&&Sn.push(pn);const fn=Tn.get("Annots");Tn.set("Annots",Sn);const Jt=[];await(0,dn.writeObject)(this.ref,Tn,Jt,this.xref),fn&&Tn.set("Annots",fn);const un=mn.dependencies;return un.push({ref:this.ref,data:Jt.join("")},...mn.annotations),un}save(sn,rn,xn){const vn=new Bt.PartialEvaluator({xref:this.xref,handler:sn,pageIndex:this.pageIndex,idFactory:this._localIdFactory,fontCache:this.fontCache,builtInCMapCache:this.builtInCMapCache,standardFontDataCache:this.standardFontDataCache,globalImageCache:this.globalImageCache,systemFontCache:this.systemFontCache,options:this.evaluatorOptions});return this._parsedAnnotations.then(function(En){const Fn=[];for(const Mn of En)Mn.mustBePrinted(xn)&&Fn.push(Mn.save(vn,rn,xn).catch(function(Tn){return(0,wt.warn)(`save - ignoring annotation data during "${rn.name}" task: "${Tn}".`),null}));return Promise.all(Fn).then(function(Mn){return Mn.filter(Tn=>!!Tn)})})}loadResources(sn){return this.resourcesPromise||(this.resourcesPromise=this.pdfManager.ensure(this,"resources")),this.resourcesPromise.then(()=>new Ct.ObjectLoader(this.resources,sn,this.xref).load())}getOperatorList({handler:sn,sink:rn,task:xn,intent:vn,cacheKey:En,annotationStorage:Fn=null}){const Mn=this.getContentStream(),Tn=this.loadResources(["ColorSpace","ExtGState","Font","Pattern","Properties","Shading","XObject"]),Sn=new Bt.PartialEvaluator({xref:this.xref,handler:sn,pageIndex:this.pageIndex,idFactory:this._localIdFactory,fontCache:this.fontCache,builtInCMapCache:this.builtInCMapCache,standardFontDataCache:this.standardFontDataCache,globalImageCache:this.globalImageCache,systemFontCache:this.systemFontCache,options:this.evaluatorOptions}),mn=this.xfaFactory?null:(0,Pt.getNewAnnotationsMap)(Fn);let fn=null,Jt=Promise.resolve(null);if(mn){const wn=mn.get(this.pageIndex);if(wn){const kn=this.pdfManager.ensureDoc("annotationGlobals");let Rn;const Cn=new Set;for(const{bitmapId:_n,bitmap:In}of wn)_n&&!In&&!Cn.has(_n)&&Cn.add(_n);const{isOffscreenCanvasSupported:An}=this.evaluatorOptions;if(Cn.size>0){const _n=wn.slice();for(const[In,Pn]of Fn)In.startsWith(wt.AnnotationEditorPrefix)&&Pn.bitmap&&Cn.has(Pn.bitmapId)&&_n.push(Pn);Rn=_t.AnnotationFactory.generateImages(_n,this.xref,An)}else Rn=_t.AnnotationFactory.generateImages(wn,this.xref,An);fn=new _e.RefSet,On(this,Wt,W3).call(this,wn,fn,null),Jt=kn.then(_n=>_n?_t.AnnotationFactory.printNewAnnotations(_n,Sn,xn,wn,Rn):null)}}const pn=Promise.all([Mn,Tn]).then(([wn])=>{const kn=new qt.OperatorList(vn,rn);return sn.send("StartRenderPage",{transparency:Sn.hasBlendModes(this.resources,this.nonBlendModesSet),pageIndex:this.pageIndex,cacheKey:En}),Sn.getOperatorList({stream:wn,task:xn,resources:this.resources,operatorList:kn}).then(function(){return kn})});return Promise.all([pn,this._parsedAnnotations,Jt]).then(function([wn,kn,Rn]){if(Rn){kn=kn.filter(Dn=>!(Dn.ref&&fn.has(Dn.ref)));for(let Dn=0,Ln=Rn.length;Dn<Ln;Dn++){const Un=Rn[Dn];if(Un.refToReplace){const tr=kn.findIndex(er=>er.ref&&(0,_e.isRefsEqual)(er.ref,Un.refToReplace));tr>=0&&(kn.splice(tr,1,Un),Rn.splice(Dn--,1),Ln--)}}kn=kn.concat(Rn)}if(kn.length===0||vn&wt.RenderingIntentFlag.ANNOTATIONS_DISABLE)return wn.flush(!0),{length:wn.totalLength};const Cn=!!(vn&wt.RenderingIntentFlag.ANNOTATIONS_FORMS),An=!!(vn&wt.RenderingIntentFlag.ANY),_n=!!(vn&wt.RenderingIntentFlag.DISPLAY),In=!!(vn&wt.RenderingIntentFlag.PRINT),Pn=[];for(const Dn of kn)(An||_n&&Dn.mustBeViewed(Fn,Cn)||In&&Dn.mustBePrinted(Fn))&&Pn.push(Dn.getOperatorList(Sn,xn,vn,Cn,Fn).catch(function(Ln){return(0,wt.warn)(`getOperatorList - ignoring annotation data during "${xn.name}" task: "${Ln}".`),{opList:null,separateForm:!1,separateCanvas:!1}}));return Promise.all(Pn).then(function(Dn){let Ln=!1,Un=!1;for(const{opList:tr,separateForm:er,separateCanvas:Qn}of Dn)wn.addOpList(tr),Ln||(Ln=er),Un||(Un=Qn);return wn.flush(!0,{form:Ln,canvas:Un}),{length:wn.totalLength}})})}extractTextContent({handler:sn,task:rn,includeMarkedContent:xn,disableNormalization:vn,sink:En}){const Fn=this.getContentStream(),Mn=this.loadResources(["ExtGState","Font","Properties","XObject"]);return Promise.all([Fn,Mn]).then(([Sn])=>new Bt.PartialEvaluator({xref:this.xref,handler:sn,pageIndex:this.pageIndex,idFactory:this._localIdFactory,fontCache:this.fontCache,builtInCMapCache:this.builtInCMapCache,standardFontDataCache:this.standardFontDataCache,globalImageCache:this.globalImageCache,systemFontCache:this.systemFontCache,options:this.evaluatorOptions}).getTextContent({stream:Sn,task:rn,resources:this.resources,includeMarkedContent:xn,disableNormalization:vn,sink:En,viewBox:this.view}))}async getStructTree(){const sn=await this.pdfManager.ensureCatalog("structTreeRoot");return sn?(await this._parsedAnnotations,(await this.pdfManager.ensure(this,"_parseStructTree",[sn])).serializable):null}_parseStructTree(sn){const rn=new en.StructTreePage(sn,this.pageDict);return rn.parse(this.ref),rn}async getAnnotationsData(sn,rn,xn){const vn=await this._parsedAnnotations;if(vn.length===0)return vn;const En=[],Fn=[];let Mn;const Tn=!!(xn&wt.RenderingIntentFlag.ANY),Sn=!!(xn&wt.RenderingIntentFlag.DISPLAY),mn=!!(xn&wt.RenderingIntentFlag.PRINT);for(const fn of vn){const Jt=Tn||Sn&&fn.viewable;(Jt||mn&&fn.printable)&&En.push(fn.data),fn.hasTextContent&&Jt&&(Mn||(Mn=new Bt.PartialEvaluator({xref:this.xref,handler:sn,pageIndex:this.pageIndex,idFactory:this._localIdFactory,fontCache:this.fontCache,builtInCMapCache:this.builtInCMapCache,standardFontDataCache:this.standardFontDataCache,globalImageCache:this.globalImageCache,systemFontCache:this.systemFontCache,options:this.evaluatorOptions})),Fn.push(fn.extractTextContent(Mn,rn,[-1/0,-1/0,1/0,1/0]).catch(function(un){(0,wt.warn)(`getAnnotationsData - ignoring textContent during "${rn.name}" task: "${un}".`)})))}return await Promise.all(Fn),En}get annotations(){const sn=this._getInheritableProperty("Annots");return(0,wt.shadow)(this,"annotations",Array.isArray(sn)?sn:[])}get _parsedAnnotations(){const sn=this.pdfManager.ensure(this,"annotations").then(async rn=>{if(rn.length===0)return rn;const xn=await this.pdfManager.ensureDoc("annotationGlobals");if(!xn)return[];const vn=[];for(const Mn of rn)vn.push(_t.AnnotationFactory.create(this.xref,Mn,xn,this._localIdFactory,!1,this.ref).catch(function(Tn){return(0,wt.warn)(`_parsedAnnotations: "${Tn}".`),null}));const En=[];let Fn;for(const Mn of await Promise.all(vn))if(Mn){if(Mn instanceof _t.PopupAnnotation){(Fn||(Fn=[])).push(Mn);continue}En.push(Mn)}return Fn&&En.push(...Fn),En});return(0,wt.shadow)(this,"_parsedAnnotations",sn)}get jsActions(){const sn=(0,Pt.collectActions)(this.xref,this.pageDict,wt.PageActionEventType);return(0,wt.shadow)(this,"jsActions",sn)}}Wt=new WeakSet,W3=function(sn,rn,xn){for(const vn of sn)if(vn.id){const En=_e.Ref.fromString(vn.id);if(!En){(0,wt.warn)(`A non-linked annotation cannot be modified: ${vn.id}`);continue}if(vn.deleted){rn.put(En);continue}xn==null||xn.put(En),vn.ref=En,delete vn.id}},Et.Page=Vt;const Yt=new Uint8Array([37,80,68,70,45]),hn=new Uint8Array([115,116,97,114,116,120,114,101,102]),Ut=new Uint8Array([101,110,100,111,98,106]),Ot=1024,zt="\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0";function an(cn,sn,rn=1024,xn=!1){const vn=sn.length,En=cn.peekBytes(rn),Fn=En.length-vn;if(Fn<=0)return!1;if(xn){const Mn=vn-1;let Tn=En.length-1;for(;Tn>=Mn;){let Sn=0;for(;Sn<vn&&En[Tn-Sn]===sn[Mn-Sn];)Sn++;if(Sn>=vn)return cn.pos+=Tn-Mn,!0;Tn--}}else{let Mn=0;for(;Mn<=Fn;){let Tn=0;for(;Tn<vn&&En[Mn+Tn]===sn[Tn];)Tn++;if(Tn>=vn)return cn.pos+=Mn,!0;Mn++}}return!1}class Ht{constructor(sn,rn){Nn(this,ln);if(rn.length<=0)throw new wt.InvalidPDFException("The PDF file is empty, i.e. its size is zero bytes.");this.pdfManager=sn,this.stream=rn,this.xref=new gn.XRef(rn,sn),this._pagePromises=new Map,this._version=null;const xn={font:0};this._globalIdFactory=class{static getDocId(){return`g_${sn.docId}`}static createFontId(){return`f${++xn.font}`}static createObjId(){(0,wt.unreachable)("Abstract method `createObjId` called.")}static getPageObjId(){(0,wt.unreachable)("Abstract method `getPageObjId` called.")}}}parse(sn){this.xref.parse(sn),this.catalog=new Kt.Catalog(this.pdfManager,this.xref)}get linearization(){let sn=null;try{sn=Dt.Linearization.create(this.stream)}catch(rn){if(rn instanceof Pt.MissingDataException)throw rn;(0,wt.info)(rn)}return(0,wt.shadow)(this,"linearization",sn)}get startXRef(){const sn=this.stream;let rn=0;if(this.linearization)sn.reset(),an(sn,Ut)&&(rn=sn.pos+6-sn.start);else{const vn=hn.length;let En=!1,Fn=sn.end;for(;!En&&Fn>0;)Fn-=1024-vn,Fn<0&&(Fn=0),sn.pos=Fn,En=an(sn,hn,1024,!0);if(En){sn.skip(9);let Mn;do Mn=sn.getByte();while((0,Pt.isWhiteSpace)(Mn));let Tn="";for(;Mn>=32&&Mn<=57;)Tn+=String.fromCharCode(Mn),Mn=sn.getByte();rn=parseInt(Tn,10),isNaN(rn)&&(rn=0)}}return(0,wt.shadow)(this,"startXRef",rn)}checkHeader(){const sn=this.stream;if(sn.reset(),!an(sn,Yt))return;sn.moveStart(),sn.skip(Yt.length);let rn="",xn;for(;(xn=sn.getByte())>32&&rn.length<7;)rn+=String.fromCharCode(xn);Pt.PDF_VERSION_REGEXP.test(rn)?this._version=rn:(0,wt.warn)(`Invalid PDF header version: ${rn}`)}parseStartXRef(){this.xref.setStartXRef(this.startXRef)}get numPages(){let sn=0;return this.catalog.hasActualNumPages?sn=this.catalog.numPages:this.xfaFactory?sn=this.xfaFactory.getNumPages():this.linearization?sn=this.linearization.numPages:sn=this.catalog.numPages,(0,wt.shadow)(this,"numPages",sn)}_hasOnlyDocumentSignatures(sn,rn=0){return Array.isArray(sn)?sn.every(vn=>{if(vn=this.xref.fetchIfRef(vn),!(vn instanceof _e.Dict))return!1;if(vn.has("Kids"))return++rn>10?((0,wt.warn)("_hasOnlyDocumentSignatures: maximum recursion depth reached"),!1):this._hasOnlyDocumentSignatures(vn.get("Kids"),rn);const En=(0,_e.isName)(vn.get("FT"),"Sig"),Fn=vn.get("Rect"),Mn=Array.isArray(Fn)&&Fn.every(Tn=>Tn===0);return En&&Mn}):!1}get _xfaStreams(){const sn=this.catalog.acroForm;if(!sn)return null;const rn=sn.get("XFA"),xn={"xdp:xdp":"",template:"",datasets:"",config:"",connectionSet:"",localeSet:"",stylesheet:"","/xdp:xdp":""};if(rn instanceof Ft.BaseStream&&!rn.isEmpty)return xn["xdp:xdp"]=rn,xn;if(!Array.isArray(rn)||rn.length===0)return null;for(let vn=0,En=rn.length;vn<En;vn+=2){let Fn;if(vn===0?Fn="xdp:xdp":vn===En-2?Fn="/xdp:xdp":Fn=rn[vn],!xn.hasOwnProperty(Fn))continue;const Mn=this.xref.fetchIfRef(rn[vn+1]);!(Mn instanceof Ft.BaseStream)||Mn.isEmpty||(xn[Fn]=Mn)}return xn}get xfaDatasets(){const sn=this._xfaStreams;if(!sn)return(0,wt.shadow)(this,"xfaDatasets",null);for(const rn of["datasets","xdp:xdp"]){const xn=sn[rn];if(xn)try{const vn=(0,wt.stringToUTF8String)(xn.getString()),En={[rn]:vn};return(0,wt.shadow)(this,"xfaDatasets",new $t.DatasetReader(En))}catch{(0,wt.warn)("XFA - Invalid utf-8 string.");break}}return(0,wt.shadow)(this,"xfaDatasets",null)}get xfaData(){const sn=this._xfaStreams;if(!sn)return null;const rn=Object.create(null);for(const[xn,vn]of Object.entries(sn))if(vn)try{rn[xn]=(0,wt.stringToUTF8String)(vn.getString())}catch{return(0,wt.warn)("XFA - Invalid utf-8 string."),null}return rn}get xfaFactory(){let sn;return this.pdfManager.enableXfa&&this.catalog.needsRendering&&this.formInfo.hasXfa&&!this.formInfo.hasAcroForm&&(sn=this.xfaData),(0,wt.shadow)(this,"xfaFactory",sn?new Qt.XFAFactory(sn):null)}get isPureXfa(){return this.xfaFactory?this.xfaFactory.isValid():!1}get htmlForXfa(){return this.xfaFactory?this.xfaFactory.getPages():null}async loadXfaImages(){const sn=await this.pdfManager.ensureCatalog("xfaImages");if(!sn)return;const rn=sn.getKeys();await new Ct.ObjectLoader(sn,rn,this.xref).load();const vn=new Map;for(const En of rn){const Fn=sn.get(En);Fn instanceof Ft.BaseStream&&vn.set(En,Fn.getBytes())}this.xfaFactory.setImages(vn)}async loadXfaFonts(sn,rn){const xn=await this.pdfManager.ensureCatalog("acroForm");if(!xn)return;const vn=await xn.getAsync("DR");if(!(vn instanceof _e.Dict))return;await new Ct.ObjectLoader(vn,["Font"],this.xref).load();const Fn=vn.get("Font");if(!(Fn instanceof _e.Dict))return;const Mn=Object.assign(Object.create(null),this.pdfManager.evaluatorOptions);Mn.useSystemFonts=!1;const Tn=new Bt.PartialEvaluator({xref:this.xref,handler:sn,pageIndex:-1,idFactory:this._globalIdFactory,fontCache:this.catalog.fontCache,builtInCMapCache:this.catalog.builtInCMapCache,standardFontDataCache:this.catalog.standardFontDataCache,options:Mn}),Sn=new qt.OperatorList,mn=[],fn={get font(){return mn.at(-1)},set font(kn){mn.push(kn)},clone(){return this}},Jt=new Map;Fn.forEach((kn,Rn)=>{Jt.set(kn,Rn)});const un=[];for(const[kn,Rn]of Jt){const Cn=Rn.get("FontDescriptor");if(!(Cn instanceof _e.Dict))continue;let An=Cn.get("FontFamily");An=An.replaceAll(/[ ]+(\d)/g,"$1");const _n=Cn.get("FontWeight"),In=-Cn.get("ItalicAngle"),Pn={fontFamily:An,fontWeight:_n,italicAngle:In};(0,Pt.validateCSSFont)(Pn)&&un.push(Tn.handleSetFont(vn,[_e.Name.get(kn),1],null,Sn,rn,fn,null,Pn).catch(function(Dn){return(0,wt.warn)(`loadXfaFonts: "${Dn}".`),null}))}await Promise.all(un);const pn=this.xfaFactory.setFonts(mn);if(!pn)return;Mn.ignoreErrors=!0,un.length=0,mn.length=0;const wn=new Set;for(const kn of pn)(0,bt.getXfaFontName)(`${kn}-Regular`)||wn.add(kn);wn.size&&pn.push("PdfJS-Fallback");for(const kn of pn)if(!wn.has(kn))for(const Rn of[{name:"Regular",fontWeight:400,italicAngle:0},{name:"Bold",fontWeight:700,italicAngle:0},{name:"Italic",fontWeight:400,italicAngle:12},{name:"BoldItalic",fontWeight:700,italicAngle:12}]){const Cn=`${kn}-${Rn.name}`,An=(0,bt.getXfaFontDict)(Cn);un.push(Tn.handleSetFont(vn,[_e.Name.get(Cn),1],null,Sn,rn,fn,An,{fontFamily:kn,fontWeight:Rn.fontWeight,italicAngle:Rn.italicAngle}).catch(function(_n){return(0,wt.warn)(`loadXfaFonts: "${_n}".`),null}))}await Promise.all(un),this.xfaFactory.appendFonts(mn,wn)}async serializeXfaData(sn){return this.xfaFactory?this.xfaFactory.serializeData(sn):null}get version(){return this.catalog.version||this._version}get formInfo(){const sn={hasFields:!1,hasAcroForm:!1,hasXfa:!1,hasSignatures:!1},rn=this.catalog.acroForm;if(!rn)return(0,wt.shadow)(this,"formInfo",sn);try{const xn=rn.get("Fields"),vn=Array.isArray(xn)&&xn.length>0;sn.hasFields=vn;const En=rn.get("XFA");sn.hasXfa=Array.isArray(En)&&En.length>0||En instanceof Ft.BaseStream&&!En.isEmpty;const Mn=!!(rn.get("SigFlags")&1),Tn=Mn&&this._hasOnlyDocumentSignatures(xn);sn.hasAcroForm=vn&&!Tn,sn.hasSignatures=Mn}catch(xn){if(xn instanceof Pt.MissingDataException)throw xn;(0,wt.warn)(`Cannot fetch form information: "${xn}".`)}return(0,wt.shadow)(this,"formInfo",sn)}get documentInfo(){const sn={PDFFormatVersion:this.version,Language:this.catalog.lang,EncryptFilterName:this.xref.encrypt?this.xref.encrypt.filterName:null,IsLinearized:!!this.linearization,IsAcroFormPresent:this.formInfo.hasAcroForm,IsXFAPresent:this.formInfo.hasXfa,IsCollectionPresent:!!this.catalog.collection,IsSignaturesPresent:this.formInfo.hasSignatures};let rn;try{rn=this.xref.trailer.get("Info")}catch(xn){if(xn instanceof Pt.MissingDataException)throw xn;(0,wt.info)("The document information dictionary is invalid.")}if(!(rn instanceof _e.Dict))return(0,wt.shadow)(this,"documentInfo",sn);for(const xn of rn.getKeys()){const vn=rn.get(xn);switch(xn){case"Title":case"Author":case"Subject":case"Keywords":case"Creator":case"Producer":case"CreationDate":case"ModDate":if(typeof vn=="string"){sn[xn]=(0,wt.stringToPDFString)(vn);continue}break;case"Trapped":if(vn instanceof _e.Name){sn[xn]=vn;continue}break;default:let En;switch(typeof vn){case"string":En=(0,wt.stringToPDFString)(vn);break;case"number":case"boolean":En=vn;break;default:vn instanceof _e.Name&&(En=vn);break}if(En===void 0){(0,wt.warn)(`Bad value, for custom key "${xn}", in Info: ${vn}.`);continue}sn.Custom||(sn.Custom=Object.create(null)),sn.Custom[xn]=En;continue}(0,wt.warn)(`Bad value, for key "${xn}", in Info: ${vn}.`)}return(0,wt.shadow)(this,"documentInfo",sn)}get fingerprints(){function sn(Fn){return typeof Fn=="string"&&Fn.length>0&&Fn!==zt}function rn(Fn){const Mn=[];for(const Tn of Fn){const Sn=Tn.toString(16);Mn.push(Sn.padStart(2,"0"))}return Mn.join("")}const xn=this.xref.trailer.get("ID");let vn,En;return Array.isArray(xn)&&sn(xn[0])?(vn=(0,wt.stringToBytes)(xn[0]),xn[1]!==xn[0]&&sn(xn[1])&&(En=(0,wt.stringToBytes)(xn[1]))):vn=(0,Xt.calculateMD5)(this.stream.getByteRange(0,Ot),0,Ot),(0,wt.shadow)(this,"fingerprints",[rn(vn),En?rn(En):null])}async _getLinearizationPage(sn){const{catalog:rn,linearization:xn,xref:vn}=this,En=_e.Ref.get(xn.objectNumberFirst,0);try{const Fn=await vn.fetchAsync(En);if(Fn instanceof _e.Dict){let Mn=Fn.getRaw("Type");if(Mn instanceof _e.Ref&&(Mn=await vn.fetchAsync(Mn)),(0,_e.isName)(Mn,"Page")||!Fn.has("Type")&&!Fn.has("Kids"))return rn.pageKidsCountCache.has(En)||rn.pageKidsCountCache.put(En,1),rn.pageIndexCache.has(En)||rn.pageIndexCache.put(En,0),[Fn,En]}throw new wt.FormatError("The Linearization dictionary doesn't point to a valid Page dictionary.")}catch(Fn){return(0,wt.warn)(`_getLinearizationPage: "${Fn.message}".`),rn.getPageDict(sn)}}getPage(sn){const rn=this._pagePromises.get(sn);if(rn)return rn;const{catalog:xn,linearization:vn,xfaFactory:En}=this;let Fn;return En?Fn=Promise.resolve([_e.Dict.empty,null]):(vn==null?void 0:vn.pageFirst)===sn?Fn=this._getLinearizationPage(sn):Fn=xn.getPageDict(sn),Fn=Fn.then(([Mn,Tn])=>new Vt({pdfManager:this.pdfManager,xref:this.xref,pageIndex:sn,pageDict:Mn,ref:Tn,globalIdFactory:this._globalIdFactory,fontCache:xn.fontCache,builtInCMapCache:xn.builtInCMapCache,standardFontDataCache:xn.standardFontDataCache,globalImageCache:xn.globalImageCache,systemFontCache:xn.systemFontCache,nonBlendModesSet:xn.nonBlendModesSet,xfaFactory:En})),this._pagePromises.set(sn,Fn),Fn}async checkFirstPage(sn=!1){if(!sn)try{await this.getPage(0)}catch(rn){if(rn instanceof Pt.XRefEntryException)throw this._pagePromises.delete(0),await this.cleanup(),new Pt.XRefParseException}}async checkLastPage(sn=!1){const{catalog:rn,pdfManager:xn}=this;rn.setActualNumPages();let vn;try{if(await Promise.all([xn.ensureDoc("xfaFactory"),xn.ensureDoc("linearization"),xn.ensureCatalog("numPages")]),this.xfaFactory)return;if(this.linearization?vn=this.linearization.numPages:vn=rn.numPages,Number.isInteger(vn)){if(vn<=1)return}else throw new wt.FormatError("Page count is not an integer.");await this.getPage(vn-1)}catch(En){if(this._pagePromises.delete(vn-1),await this.cleanup(),En instanceof Pt.XRefEntryException&&!sn)throw new Pt.XRefParseException;(0,wt.warn)(`checkLastPage - invalid /Pages tree /Count: ${vn}.`);let Fn;try{Fn=await rn.getAllPageDicts(sn)}catch(Mn){if(Mn instanceof Pt.XRefEntryException&&!sn)throw new Pt.XRefParseException;rn.setActualNumPages(1);return}for(const[Mn,[Tn,Sn]]of Fn){let mn;Tn instanceof Error?(mn=Promise.reject(Tn),mn.catch(()=>{})):mn=Promise.resolve(new Vt({pdfManager:xn,xref:this.xref,pageIndex:Mn,pageDict:Tn,ref:Sn,globalIdFactory:this._globalIdFactory,fontCache:rn.fontCache,builtInCMapCache:rn.builtInCMapCache,standardFontDataCache:rn.standardFontDataCache,globalImageCache:rn.globalImageCache,systemFontCache:rn.systemFontCache,nonBlendModesSet:rn.nonBlendModesSet,xfaFactory:null})),this._pagePromises.set(Mn,mn)}rn.setActualNumPages(Fn.size)}}fontFallback(sn,rn){return this.catalog.fontFallback(sn,rn)}async cleanup(sn=!1){return this.catalog?this.catalog.cleanup(sn):(0,Nt.clearGlobalCaches)()}get fieldObjects(){if(!this.formInfo.hasFields)return(0,wt.shadow)(this,"fieldObjects",Promise.resolve(null));const sn=this.pdfManager.ensureDoc("annotationGlobals").then(async rn=>{if(!rn)return null;const xn=Object.create(null),vn=new Map;for(const Fn of this.catalog.acroForm.get("Fields"))On(this,ln,V3).call(this,"",Fn,vn,rn);const En=[];for(const[Fn,Mn]of vn)En.push(Promise.all(Mn).then(Tn=>{Tn=Tn.filter(Sn=>!!Sn),Tn.length>0&&(xn[Fn]=Tn)}));return await Promise.all(En),xn});return(0,wt.shadow)(this,"fieldObjects",sn)}get hasJSActions(){const sn=this.pdfManager.ensureDoc("_parseHasJSActions");return(0,wt.shadow)(this,"hasJSActions",sn)}async _parseHasJSActions(){const[sn,rn]=await Promise.all([this.pdfManager.ensureCatalog("jsActions"),this.pdfManager.ensureDoc("fieldObjects")]);return sn?!0:rn?Object.values(rn).some(xn=>xn.some(vn=>vn.actions!==null)):!1}get calculationOrderIds(){const sn=this.catalog.acroForm;if(!(sn!=null&&sn.has("CO")))return(0,wt.shadow)(this,"calculationOrderIds",null);const rn=sn.get("CO");if(!Array.isArray(rn)||rn.length===0)return(0,wt.shadow)(this,"calculationOrderIds",null);const xn=[];for(const vn of rn)vn instanceof _e.Ref&&xn.push(vn.toString());return xn.length===0?(0,wt.shadow)(this,"calculationOrderIds",null):(0,wt.shadow)(this,"calculationOrderIds",xn)}get annotationGlobals(){return(0,wt.shadow)(this,"annotationGlobals",_t.AnnotationFactory.createGlobals(this.pdfManager))}}ln=new WeakSet,V3=function(sn,rn,xn,vn){const En=this.xref.fetchIfRef(rn);if(En.has("T")){const Fn=(0,wt.stringToPDFString)(En.get("T"));sn=sn===""?Fn:`${sn}.${Fn}`}if(xn.has(sn)||xn.set(sn,[]),xn.get(sn).push(_t.AnnotationFactory.create(this.xref,rn,vn,this._localIdFactory,!0,null).then(Fn=>Fn==null?void 0:Fn.getFieldObject()).catch(function(Fn){return(0,wt.warn)(`#collectFieldObjects: "${Fn}".`),null})),En.has("Kids"))for(const Fn of En.get("Kids"))On(this,ln,V3).call(this,sn,Fn,xn,vn)},Et.PDFDocument=Ht},(kt,Et,Rt)=>{Object.defineProperty(Et,"__esModule",{value:!0}),Et.PopupAnnotation=Et.MarkupAnnotation=Et.AnnotationFactory=Et.AnnotationBorderStyle=Et.Annotation=void 0,Et.getQuadPoints=Qt;var wt=Rt(2),_t=Rt(3),Pt=Rt(11),_e=Rt(4),bt=Rt(8),Ft=Rt(5),Xt=Rt(60),Kt=Rt(66),Nt=Rt(12),$t=Rt(69),Dt=Rt(26),jt=Rt(76),Ct=Rt(64),qt=Rt(73),Bt=Rt(77);class Gt{static createGlobals(Jt){return Promise.all([Jt.ensureCatalog("acroForm"),Jt.ensureDoc("xfaDatasets"),Jt.ensureCatalog("structTreeRoot"),Jt.ensureCatalog("baseUrl"),Jt.ensureCatalog("attachments")]).then(([un,pn,wn,kn,Rn])=>({pdfManager:Jt,acroForm:un instanceof _e.Dict?un:_e.Dict.empty,xfaDatasets:pn,structTreeRoot:wn,baseUrl:kn,attachments:Rn}),un=>((0,wt.warn)(`createGlobals: "${un}".`),null))}static async create(Jt,un,pn,wn,kn,Rn){const Cn=kn?await this._getPageIndex(Jt,un,pn.pdfManager):null;return pn.pdfManager.ensure(this,"_create",[Jt,un,pn,wn,kn,Cn,Rn])}static _create(Jt,un,pn,wn,kn=!1,Rn=null,Cn=null){const An=Jt.fetchIfRef(un);if(!(An instanceof _e.Dict))return;const{acroForm:_n,pdfManager:In}=pn,Pn=un instanceof _e.Ref?un.toString():`annot_${wn.createObjId()}`;let Dn=An.get("Subtype");Dn=Dn instanceof _e.Name?Dn.name:null;const Ln={xref:Jt,ref:un,dict:An,subtype:Dn,id:Pn,annotationGlobals:pn,collectFields:kn,needAppearances:!kn&&_n.get("NeedAppearances")===!0,pageIndex:Rn,evaluatorOptions:In.evaluatorOptions,pageRef:Cn};switch(Dn){case"Link":return new Ht(Ln);case"Text":return new an(Ln);case"Widget":let Un=(0,_t.getInheritableProperty)({dict:An,key:"FT"});switch(Un=Un instanceof _e.Name?Un.name:null,Un){case"Tx":return new hn(Ln);case"Btn":return new Ut(Ln);case"Ch":return new Ot(Ln);case"Sig":return new zt(Ln)}return(0,wt.warn)(`Unimplemented widget field type "${Un}", falling back to base field type.`),new Yt(Ln);case"Popup":return new Wt(Ln);case"FreeText":return new tn(Ln);case"Line":return new ln(Ln);case"Square":return new on(Ln);case"Circle":return new cn(Ln);case"PolyLine":return new sn(Ln);case"Polygon":return new rn(Ln);case"Caret":return new xn(Ln);case"Ink":return new vn(Ln);case"Highlight":return new En(Ln);case"Underline":return new Fn(Ln);case"Squiggly":return new Mn(Ln);case"StrikeOut":return new Tn(Ln);case"Stamp":return new Sn(Ln);case"FileAttachment":return new mn(Ln);default:return kn||(Dn?(0,wt.warn)(`Unimplemented annotation type "${Dn}", falling back to base annotation.`):(0,wt.warn)("Annotation is missing the required /Subtype.")),new nn(Ln)}}static async _getPageIndex(Jt,un,pn){try{const wn=await Jt.fetchIfRefAsync(un);if(!(wn instanceof _e.Dict))return-1;const kn=wn.getRaw("P");if(kn instanceof _e.Ref)try{return await pn.ensureCatalog("getPageIndex",[kn])}catch(Cn){(0,wt.info)(`_getPageIndex -- not a valid page reference: "${Cn}".`)}if(wn.has("Kids"))return-1;const Rn=await pn.ensureDoc("numPages");for(let Cn=0;Cn<Rn;Cn++){const An=await pn.getPage(Cn),_n=await pn.ensure(An,"annotations");for(const In of _n)if(In instanceof _e.Ref&&(0,_e.isRefsEqual)(In,un))return Cn}}catch(wn){(0,wt.warn)(`_getPageIndex: "${wn}".`)}return-1}static generateImages(Jt,un,pn){if(!pn)return(0,wt.warn)("generateImages: OffscreenCanvas is not supported, cannot save or print some annotations with images."),null;let wn;for(const{bitmapId:kn,bitmap:Rn}of Jt)Rn&&(wn||(wn=new Map),wn.set(kn,Sn.createImage(Rn,un)));return wn}static async saveNewAnnotations(Jt,un,pn,wn){const kn=Jt.xref;let Rn;const Cn=[],An=[],{isOffscreenCanvasSupported:_n}=Jt.options;for(const In of pn)if(!In.deleted)switch(In.annotationType){case wt.AnnotationEditorType.FREETEXT:if(!Rn){const Dn=new _e.Dict(kn);Dn.set("BaseFont",_e.Name.get("Helvetica")),Dn.set("Type",_e.Name.get("Font")),Dn.set("Subtype",_e.Name.get("Type1")),Dn.set("Encoding",_e.Name.get("WinAnsiEncoding"));const Ln=[];Rn=kn.getNewTemporaryRef(),await(0,qt.writeObject)(Rn,Dn,Ln,kn),Cn.push({ref:Rn,data:Ln.join("")})}An.push(tn.createNewAnnotation(kn,In,Cn,{evaluator:Jt,task:un,baseFontRef:Rn}));break;case wt.AnnotationEditorType.INK:An.push(vn.createNewAnnotation(kn,In,Cn));break;case wt.AnnotationEditorType.STAMP:if(!_n)break;const Pn=await wn.get(In.bitmapId);if(Pn.imageStream){const{imageStream:Dn,smaskStream:Ln}=Pn,Un=[];if(Ln){const er=kn.getNewTemporaryRef();await(0,qt.writeObject)(er,Ln,Un,kn),Cn.push({ref:er,data:Un.join("")}),Dn.dict.set("SMask",er),Un.length=0}const tr=Pn.imageRef=kn.getNewTemporaryRef();await(0,qt.writeObject)(tr,Dn,Un,kn),Cn.push({ref:tr,data:Un.join("")}),Pn.imageStream=Pn.smaskStream=null}An.push(Sn.createNewAnnotation(kn,In,Cn,{image:Pn}));break}return{annotations:await Promise.all(An),dependencies:Cn}}static async printNewAnnotations(Jt,un,pn,wn,kn){if(!wn)return null;const{options:Rn,xref:Cn}=un,An=[];for(const _n of wn)if(!_n.deleted)switch(_n.annotationType){case wt.AnnotationEditorType.FREETEXT:An.push(tn.createNewPrintAnnotation(Jt,Cn,_n,{evaluator:un,task:pn,evaluatorOptions:Rn}));break;case wt.AnnotationEditorType.INK:An.push(vn.createNewPrintAnnotation(Jt,Cn,_n,{evaluatorOptions:Rn}));break;case wt.AnnotationEditorType.STAMP:if(!Rn.isOffscreenCanvasSupported)break;const In=await kn.get(_n.bitmapId);if(In.imageStream){const{imageStream:Pn,smaskStream:Dn}=In;Dn&&Pn.dict.set("SMask",Dn),In.imageRef=new Dt.JpegStream(Pn,Pn.length),In.imageStream=In.smaskStream=null}An.push(Sn.createNewPrintAnnotation(Jt,Cn,_n,{image:In,evaluatorOptions:Rn}));break}return Promise.all(An)}}Et.AnnotationFactory=Gt;function en(fn,Jt=new Uint8ClampedArray(3)){if(!Array.isArray(fn))return Jt;const un=Jt||new Uint8ClampedArray(3);switch(fn.length){case 0:return null;case 1:return Nt.ColorSpace.singletons.gray.getRgbItem(fn,0,un,0),un;case 3:return Nt.ColorSpace.singletons.rgb.getRgbItem(fn,0,un,0),un;case 4:return Nt.ColorSpace.singletons.cmyk.getRgbItem(fn,0,un,0),un;default:return Jt}}function dn(fn){return Array.from(fn,Jt=>Jt/255)}function Qt(fn,Jt){const un=fn.getArray("QuadPoints");if(!Array.isArray(un)||un.length===0||un.length%8>0)return null;const pn=[];for(let wn=0,kn=un.length/8;wn<kn;wn++){let Rn=1/0,Cn=-1/0,An=1/0,_n=-1/0;for(let In=wn*8,Pn=wn*8+8;In<Pn;In+=2){const Dn=un[In],Ln=un[In+1];Rn=Math.min(Dn,Rn),Cn=Math.max(Dn,Cn),An=Math.min(Ln,An),_n=Math.max(Ln,_n)}if(Jt!==null&&(Rn<Jt[0]||Cn>Jt[2]||An<Jt[1]||_n>Jt[3]))return null;pn.push([{x:Rn,y:_n},{x:Cn,y:_n},{x:Rn,y:An},{x:Cn,y:An}])}return pn}function gn(fn,Jt,un){const[pn,wn,kn,Rn]=wt.Util.getAxialAlignedBoundingBox(Jt,un);if(pn===kn||wn===Rn)return[1,0,0,1,fn[0],fn[1]];const Cn=(fn[2]-fn[0])/(kn-pn),An=(fn[3]-fn[1])/(Rn-wn);return[Cn,0,0,An,fn[0]-pn*Cn,fn[1]-wn*An]}class nn{constructor(Jt){const{dict:un,xref:pn,annotationGlobals:wn}=Jt;this.setTitle(un.get("T")),this.setContents(un.get("Contents")),this.setModificationDate(un.get("M")),this.setFlags(un.get("F")),this.setRectangle(un.getArray("Rect")),this.setColor(un.getArray("C")),this.setBorderStyle(un),this.setAppearance(un),this.setOptionalContent(un);const kn=un.get("MK");this.setBorderAndBackgroundColors(kn),this.setRotation(kn,un),this.ref=Jt.ref instanceof _e.Ref?Jt.ref:null,this._streams=[],this.appearance&&this._streams.push(this.appearance);const Rn=!!(this.flags&wt.AnnotationFlag.LOCKED),Cn=!!(this.flags&wt.AnnotationFlag.LOCKEDCONTENTS);if(wn.structTreeRoot){let An=un.get("StructParent");An=Number.isInteger(An)&&An>=0?An:-1,wn.structTreeRoot.addAnnotationIdToPage(Jt.pageRef,An)}if(this.data={annotationFlags:this.flags,borderStyle:this.borderStyle,color:this.color,backgroundColor:this.backgroundColor,borderColor:this.borderColor,rotation:this.rotation,contentsObj:this._contents,hasAppearance:!!this.appearance,id:Jt.id,modificationDate:this.modificationDate,rect:this.rectangle,subtype:Jt.subtype,hasOwnCanvas:!1,noRotate:!!(this.flags&wt.AnnotationFlag.NOROTATE),noHTML:Rn&&Cn},Jt.collectFields){const An=un.get("Kids");if(Array.isArray(An)){const _n=[];for(const In of An)In instanceof _e.Ref&&_n.push(In.toString());_n.length!==0&&(this.data.kidIds=_n)}this.data.actions=(0,_t.collectActions)(pn,un,wt.AnnotationActionEventType),this.data.fieldName=this._constructFieldName(un),this.data.pageIndex=Jt.pageIndex}this._isOffscreenCanvasSupported=Jt.evaluatorOptions.isOffscreenCanvasSupported,this._fallbackFontDict=null,this._needAppearances=!1}_hasFlag(Jt,un){return!!(Jt&un)}_isViewable(Jt){return!this._hasFlag(Jt,wt.AnnotationFlag.INVISIBLE)&&!this._hasFlag(Jt,wt.AnnotationFlag.NOVIEW)}_isPrintable(Jt){return this._hasFlag(Jt,wt.AnnotationFlag.PRINT)&&!this._hasFlag(Jt,wt.AnnotationFlag.HIDDEN)&&!this._hasFlag(Jt,wt.AnnotationFlag.INVISIBLE)}mustBeViewed(Jt,un){var wn;const pn=(wn=Jt==null?void 0:Jt.get(this.data.id))==null?void 0:wn.noView;return pn!==void 0?!pn:this.viewable&&!this._hasFlag(this.flags,wt.AnnotationFlag.HIDDEN)}mustBePrinted(Jt){var pn;const un=(pn=Jt==null?void 0:Jt.get(this.data.id))==null?void 0:pn.noPrint;return un!==void 0?!un:this.printable}get viewable(){return this.data.quadPoints===null?!1:this.flags===0?!0:this._isViewable(this.flags)}get printable(){return this.data.quadPoints===null||this.flags===0?!1:this._isPrintable(this.flags)}_parseStringHelper(Jt){const un=typeof Jt=="string"?(0,wt.stringToPDFString)(Jt):"",pn=un&&(0,Xt.bidi)(un).dir==="rtl"?"rtl":"ltr";return{str:un,dir:pn}}setDefaultAppearance(Jt){const{dict:un,annotationGlobals:pn}=Jt,wn=(0,_t.getInheritableProperty)({dict:un,key:"DA"})||pn.acroForm.get("DA");this._defaultAppearance=typeof wn=="string"?wn:"",this.data.defaultAppearanceData=(0,Pt.parseDefaultAppearance)(this._defaultAppearance)}setTitle(Jt){this._title=this._parseStringHelper(Jt)}setContents(Jt){this._contents=this._parseStringHelper(Jt)}setModificationDate(Jt){this.modificationDate=typeof Jt=="string"?Jt:null}setFlags(Jt){this.flags=Number.isInteger(Jt)&&Jt>0?Jt:0}hasFlag(Jt){return this._hasFlag(this.flags,Jt)}setRectangle(Jt){this.rectangle=Array.isArray(Jt)&&Jt.length===4?wt.Util.normalizeRect(Jt):[0,0,0,0]}setColor(Jt){this.color=en(Jt)}setLineEndings(Jt){if(this.lineEndings=["None","None"],Array.isArray(Jt)&&Jt.length===2)for(let un=0;un<2;un++){const pn=Jt[un];if(pn instanceof _e.Name)switch(pn.name){case"None":continue;case"Square":case"Circle":case"Diamond":case"OpenArrow":case"ClosedArrow":case"Butt":case"ROpenArrow":case"RClosedArrow":case"Slash":this.lineEndings[un]=pn.name;continue}(0,wt.warn)(`Ignoring invalid lineEnding: ${pn}`)}}setRotation(Jt,un){this.rotation=0;let pn=Jt instanceof _e.Dict?Jt.get("R")||0:un.get("Rotate")||0;Number.isInteger(pn)&&pn!==0&&(pn%=360,pn<0&&(pn+=360),pn%90===0&&(this.rotation=pn))}setBorderAndBackgroundColors(Jt){Jt instanceof _e.Dict?(this.borderColor=en(Jt.getArray("BC"),null),this.backgroundColor=en(Jt.getArray("BG"),null)):this.borderColor=this.backgroundColor=null}setBorderStyle(Jt){if(this.borderStyle=new bn,Jt instanceof _e.Dict)if(Jt.has("BS")){const un=Jt.get("BS"),pn=un.get("Type");(!pn||(0,_e.isName)(pn,"Border"))&&(this.borderStyle.setWidth(un.get("W"),this.rectangle),this.borderStyle.setStyle(un.get("S")),this.borderStyle.setDashArray(un.getArray("D")))}else if(Jt.has("Border")){const un=Jt.getArray("Border");Array.isArray(un)&&un.length>=3&&(this.borderStyle.setHorizontalCornerRadius(un[0]),this.borderStyle.setVerticalCornerRadius(un[1]),this.borderStyle.setWidth(un[2],this.rectangle),un.length===4&&this.borderStyle.setDashArray(un[3],!0))}else this.borderStyle.setWidth(0)}setAppearance(Jt){this.appearance=null;const un=Jt.get("AP");if(!(un instanceof _e.Dict))return;const pn=un.get("N");if(pn instanceof Ft.BaseStream){this.appearance=pn;return}if(!(pn instanceof _e.Dict))return;const wn=Jt.get("AS");if(!(wn instanceof _e.Name)||!pn.has(wn.name))return;const kn=pn.get(wn.name);kn instanceof Ft.BaseStream&&(this.appearance=kn)}setOptionalContent(Jt){this.oc=null;const un=Jt.get("OC");un instanceof _e.Name?(0,wt.warn)("setOptionalContent: Support for /Name-entry is not implemented."):un instanceof _e.Dict&&(this.oc=un)}loadResources(Jt,un){return un.dict.getAsync("Resources").then(pn=>pn?new jt.ObjectLoader(pn,Jt,pn.xref).load().then(function(){return pn}):void 0)}async getOperatorList(Jt,un,pn,wn,kn){const Rn=this.data;let Cn=this.appearance;const An=!!(this.data.hasOwnCanvas&&pn&wt.RenderingIntentFlag.DISPLAY);if(!Cn){if(!An)return{opList:new Ct.OperatorList,separateForm:!1,separateCanvas:!1};Cn=new bt.StringStream(""),Cn.dict=new _e.Dict}const _n=Cn.dict,In=await this.loadResources(["ExtGState","ColorSpace","Pattern","Shading","XObject","Font"],Cn),Pn=_n.getArray("BBox")||[0,0,1,1],Dn=_n.getArray("Matrix")||[1,0,0,1,0,0],Ln=gn(Rn.rect,Pn,Dn),Un=new Ct.OperatorList;let tr;return this.oc&&(tr=await Jt.parseMarkedContentProps(this.oc,null)),tr!==void 0&&Un.addOp(wt.OPS.beginMarkedContentProps,["OC",tr]),Un.addOp(wt.OPS.beginAnnotation,[Rn.id,Rn.rect,Ln,Dn,An]),await Jt.getOperatorList({stream:Cn,task:un,resources:In,operatorList:Un,fallbackFontDict:this._fallbackFontDict}),Un.addOp(wt.OPS.endAnnotation,[]),tr!==void 0&&Un.addOp(wt.OPS.endMarkedContent,[]),this.reset(),{opList:Un,separateForm:!1,separateCanvas:An}}async save(Jt,un,pn){return null}get hasTextContent(){return!1}async extractTextContent(Jt,un,pn){if(!this.appearance)return;const wn=await this.loadResources(["ExtGState","Font","Properties","XObject"],this.appearance),kn=[],Rn=[];let Cn=null;const An={desiredSize:Math.Infinity,ready:!0,enqueue(_n,In){for(const Pn of _n.items)Pn.str!==void 0&&(Cn||(Cn=Pn.transform.slice(-2)),Rn.push(Pn.str),Pn.hasEOL&&(kn.push(Rn.join("")),Rn.length=0))}};if(await Jt.getTextContent({stream:this.appearance,task:un,resources:wn,includeMarkedContent:!0,sink:An,viewBox:pn}),this.reset(),Rn.length&&kn.push(Rn.join("")),kn.length>1||kn[0]){const _n=this.appearance.dict,In=_n.getArray("BBox")||[0,0,1,1],Pn=_n.getArray("Matrix")||[1,0,0,1,0,0],Dn=this.data.rect,Ln=gn(Dn,In,Pn);Ln[4]-=Dn[0],Ln[5]-=Dn[1],Cn=wt.Util.applyTransform(Cn,Ln),Cn=wt.Util.applyTransform(Cn,Pn),this.data.textPosition=Cn,this.data.textContent=kn}}getFieldObject(){return this.data.kidIds?{id:this.data.id,actions:this.data.actions,name:this.data.fieldName,strokeColor:this.data.borderColor,fillColor:this.data.backgroundColor,type:"",kidIds:this.data.kidIds,page:this.data.pageIndex,rotation:this.rotation}:null}reset(){for(const Jt of this._streams)Jt.reset()}_constructFieldName(Jt){if(!Jt.has("T")&&!Jt.has("Parent"))return(0,wt.warn)("Unknown field name, falling back to empty field name."),"";if(!Jt.has("Parent"))return(0,wt.stringToPDFString)(Jt.get("T"));const un=[];Jt.has("T")&&un.unshift((0,wt.stringToPDFString)(Jt.get("T")));let pn=Jt;const wn=new _e.RefSet;for(Jt.objId&&wn.put(Jt.objId);pn.has("Parent")&&(pn=pn.get("Parent"),!(!(pn instanceof _e.Dict)||pn.objId&&wn.has(pn.objId)));)pn.objId&&wn.put(pn.objId),pn.has("T")&&un.unshift((0,wt.stringToPDFString)(pn.get("T")));return un.join(".")}}Et.Annotation=nn;class bn{constructor(){this.width=1,this.style=wt.AnnotationBorderStyleType.SOLID,this.dashArray=[3],this.horizontalCornerRadius=0,this.verticalCornerRadius=0}setWidth(Jt,un=[0,0,0,0]){if(Jt instanceof _e.Name){this.width=0;return}if(typeof Jt=="number"){if(Jt>0){const pn=(un[2]-un[0])/2,wn=(un[3]-un[1])/2;pn>0&&wn>0&&(Jt>pn||Jt>wn)&&((0,wt.warn)(`AnnotationBorderStyle.setWidth - ignoring width: ${Jt}`),Jt=1)}this.width=Jt}}setStyle(Jt){if(Jt instanceof _e.Name)switch(Jt.name){case"S":this.style=wt.AnnotationBorderStyleType.SOLID;break;case"D":this.style=wt.AnnotationBorderStyleType.DASHED;break;case"B":this.style=wt.AnnotationBorderStyleType.BEVELED;break;case"I":this.style=wt.AnnotationBorderStyleType.INSET;break;case"U":this.style=wt.AnnotationBorderStyleType.UNDERLINE;break}}setDashArray(Jt,un=!1){if(Array.isArray(Jt)&&Jt.length>0){let pn=!0,wn=!0;for(const kn of Jt)if(+kn>=0)kn>0&&(wn=!1);else{pn=!1;break}pn&&!wn?(this.dashArray=Jt,un&&this.setStyle(_e.Name.get("D"))):this.width=0}else Jt&&(this.width=0)}setHorizontalCornerRadius(Jt){Number.isInteger(Jt)&&(this.horizontalCornerRadius=Jt)}setVerticalCornerRadius(Jt){Number.isInteger(Jt)&&(this.verticalCornerRadius=Jt)}}Et.AnnotationBorderStyle=bn;class Vt extends nn{constructor(Jt){super(Jt);const{dict:un}=Jt;if(un.has("IRT")){const wn=un.getRaw("IRT");this.data.inReplyTo=wn instanceof _e.Ref?wn.toString():null;const kn=un.get("RT");this.data.replyType=kn instanceof _e.Name?kn.name:wt.AnnotationReplyType.REPLY}let pn=null;if(this.data.replyType===wt.AnnotationReplyType.GROUP){const wn=un.get("IRT");this.setTitle(wn.get("T")),this.data.titleObj=this._title,this.setContents(wn.get("Contents")),this.data.contentsObj=this._contents,wn.has("CreationDate")?(this.setCreationDate(wn.get("CreationDate")),this.data.creationDate=this.creationDate):this.data.creationDate=null,wn.has("M")?(this.setModificationDate(wn.get("M")),this.data.modificationDate=this.modificationDate):this.data.modificationDate=null,pn=wn.getRaw("Popup"),wn.has("C")?(this.setColor(wn.getArray("C")),this.data.color=this.color):this.data.color=null}else this.data.titleObj=this._title,this.setCreationDate(un.get("CreationDate")),this.data.creationDate=this.creationDate,pn=un.getRaw("Popup"),un.has("C")||(this.data.color=null);this.data.popupRef=pn instanceof _e.Ref?pn.toString():null,un.has("RC")&&(this.data.richText=Bt.XFAFactory.getRichTextAsHtml(un.get("RC")))}setCreationDate(Jt){this.creationDate=typeof Jt=="string"?Jt:null}_setDefaultAppearance({xref:Jt,extra:un,strokeColor:pn,fillColor:wn,blendMode:kn,strokeAlpha:Rn,fillAlpha:Cn,pointsCallback:An}){let _n=Number.MAX_VALUE,In=Number.MAX_VALUE,Pn=Number.MIN_VALUE,Dn=Number.MIN_VALUE;const Ln=["q"];un&&Ln.push(un),pn&&Ln.push(`${pn[0]} ${pn[1]} ${pn[2]} RG`),wn&&Ln.push(`${wn[0]} ${wn[1]} ${wn[2]} rg`);let Un=this.data.quadPoints;Un||(Un=[[{x:this.rectangle[0],y:this.rectangle[3]},{x:this.rectangle[2],y:this.rectangle[3]},{x:this.rectangle[0],y:this.rectangle[1]},{x:this.rectangle[2],y:this.rectangle[1]}]]);for(const Bn of Un){const[Hn,Wn,cr,sr]=An(Ln,Bn);_n=Math.min(_n,Hn),Pn=Math.max(Pn,Wn),In=Math.min(In,cr),Dn=Math.max(Dn,sr)}Ln.push("Q");const tr=new _e.Dict(Jt),er=new _e.Dict(Jt);er.set("Subtype",_e.Name.get("Form"));const Qn=new bt.StringStream(Ln.join(" "));Qn.dict=er,tr.set("Fm0",Qn);const Yn=new _e.Dict(Jt);kn&&Yn.set("BM",_e.Name.get(kn)),typeof Rn=="number"&&Yn.set("CA",Rn),typeof Cn=="number"&&Yn.set("ca",Cn);const Xn=new _e.Dict(Jt);Xn.set("GS0",Yn);const nr=new _e.Dict(Jt);nr.set("ExtGState",Xn),nr.set("XObject",tr);const lr=new _e.Dict(Jt);lr.set("Resources",nr);const dr=this.data.rect=[_n,In,Pn,Dn];lr.set("BBox",dr),this.appearance=new bt.StringStream("/GS0 gs /Fm0 Do"),this.appearance.dict=lr,this._streams.push(this.appearance,Qn)}static async createNewAnnotation(Jt,un,pn,wn){const kn=un.ref||(un.ref=Jt.getNewTemporaryRef()),Rn=await this.createNewAppearanceStream(un,Jt,wn),Cn=[];let An;if(Rn){const _n=Jt.getNewTemporaryRef();An=this.createNewDict(un,Jt,{apRef:_n}),await(0,qt.writeObject)(_n,Rn,Cn,Jt),pn.push({ref:_n,data:Cn.join("")})}else An=this.createNewDict(un,Jt,{});return Number.isInteger(un.parentTreeId)&&An.set("StructParent",un.parentTreeId),Cn.length=0,await(0,qt.writeObject)(kn,An,Cn,Jt),{ref:kn,data:Cn.join("")}}static async createNewPrintAnnotation(Jt,un,pn,wn){const kn=await this.createNewAppearanceStream(pn,un,wn),Rn=this.createNewDict(pn,un,{ap:kn}),Cn=new this.prototype.constructor({dict:Rn,xref:un,annotationGlobals:Jt,evaluatorOptions:wn.evaluatorOptions});return pn.ref&&(Cn.ref=Cn.refToReplace=pn.ref),Cn}}Et.MarkupAnnotation=Vt;class Yt extends nn{constructor(Jt){var Dn;super(Jt);const{dict:un,xref:pn,annotationGlobals:wn}=Jt,kn=this.data;this._needAppearances=Jt.needAppearances,kn.annotationType=wt.AnnotationType.WIDGET,kn.fieldName===void 0&&(kn.fieldName=this._constructFieldName(un)),kn.actions===void 0&&(kn.actions=(0,_t.collectActions)(pn,un,wt.AnnotationActionEventType));let Rn=(0,_t.getInheritableProperty)({dict:un,key:"V",getArray:!0});kn.fieldValue=this._decodeFormValue(Rn);const Cn=(0,_t.getInheritableProperty)({dict:un,key:"DV",getArray:!0});if(kn.defaultFieldValue=this._decodeFormValue(Cn),Rn===void 0&&wn.xfaDatasets){const Ln=this._title.str;Ln&&(this._hasValueFromXFA=!0,kn.fieldValue=Rn=wn.xfaDatasets.getValue(Ln))}Rn===void 0&&kn.defaultFieldValue!==null&&(kn.fieldValue=kn.defaultFieldValue),kn.alternativeText=(0,wt.stringToPDFString)(un.get("TU")||""),this.setDefaultAppearance(Jt),kn.hasAppearance||(kn.hasAppearance=this._needAppearances&&kn.fieldValue!==void 0&&kn.fieldValue!==null);const An=(0,_t.getInheritableProperty)({dict:un,key:"FT"});kn.fieldType=An instanceof _e.Name?An.name:null;const _n=(0,_t.getInheritableProperty)({dict:un,key:"DR"}),In=wn.acroForm.get("DR"),Pn=(Dn=this.appearance)==null?void 0:Dn.dict.get("Resources");this._fieldResources={localResources:_n,acroFormResources:In,appearanceResources:Pn,mergedResources:_e.Dict.merge({xref:pn,dictArray:[_n,Pn,In],mergeSubDicts:!0})},kn.fieldFlags=(0,_t.getInheritableProperty)({dict:un,key:"Ff"}),(!Number.isInteger(kn.fieldFlags)||kn.fieldFlags<0)&&(kn.fieldFlags=0),kn.readOnly=this.hasFieldFlag(wt.AnnotationFieldFlag.READONLY),kn.required=this.hasFieldFlag(wt.AnnotationFieldFlag.REQUIRED),kn.hidden=this._hasFlag(kn.annotationFlags,wt.AnnotationFlag.HIDDEN)||this._hasFlag(kn.annotationFlags,wt.AnnotationFlag.NOVIEW)}_decodeFormValue(Jt){return Array.isArray(Jt)?Jt.filter(un=>typeof un=="string").map(un=>(0,wt.stringToPDFString)(un)):Jt instanceof _e.Name?(0,wt.stringToPDFString)(Jt.name):typeof Jt=="string"?(0,wt.stringToPDFString)(Jt):null}hasFieldFlag(Jt){return!!(this.data.fieldFlags&Jt)}_isViewable(Jt){return!this._hasFlag(Jt,wt.AnnotationFlag.INVISIBLE)}mustBeViewed(Jt,un){return un?this.viewable:super.mustBeViewed(Jt,un)&&!this._hasFlag(this.flags,wt.AnnotationFlag.NOVIEW)}getRotationMatrix(Jt){var kn;let un=(kn=Jt==null?void 0:Jt.get(this.data.id))==null?void 0:kn.rotation;if(un===void 0&&(un=this.rotation),un===0)return wt.IDENTITY_MATRIX;const pn=this.data.rect[2]-this.data.rect[0],wn=this.data.rect[3]-this.data.rect[1];return(0,_t.getRotationMatrix)(un,pn,wn)}getBorderAndBackgroundAppearances(Jt){var Cn;let un=(Cn=Jt==null?void 0:Jt.get(this.data.id))==null?void 0:Cn.rotation;if(un===void 0&&(un=this.rotation),!this.backgroundColor&&!this.borderColor)return"";const pn=this.data.rect[2]-this.data.rect[0],wn=this.data.rect[3]-this.data.rect[1],kn=un===0||un===180?`0 0 ${pn} ${wn} re`:`0 0 ${wn} ${pn} re`;let Rn="";if(this.backgroundColor&&(Rn=`${(0,Pt.getPdfColor)(this.backgroundColor,!0)} ${kn} f `),this.borderColor){const An=this.borderStyle.width||1;Rn+=`${An} w ${(0,Pt.getPdfColor)(this.borderColor,!1)} ${kn} S `}return Rn}async getOperatorList(Jt,un,pn,wn,kn){if(wn&&!(this instanceof zt)&&!this.data.noHTML&&!this.data.hasOwnCanvas)return{opList:new Ct.OperatorList,separateForm:!0,separateCanvas:!1};if(!this._hasText)return super.getOperatorList(Jt,un,pn,wn,kn);const Rn=await this._getAppearance(Jt,un,pn,kn);if(this.appearance&&Rn===null)return super.getOperatorList(Jt,un,pn,wn,kn);const Cn=new Ct.OperatorList;if(!this._defaultAppearance||Rn===null)return{opList:Cn,separateForm:!1,separateCanvas:!1};const An=!!(this.data.hasOwnCanvas&&pn&wt.RenderingIntentFlag.DISPLAY),_n=[1,0,0,1,0,0],In=[0,0,this.data.rect[2]-this.data.rect[0],this.data.rect[3]-this.data.rect[1]],Pn=gn(this.data.rect,In,_n);let Dn;this.oc&&(Dn=await Jt.parseMarkedContentProps(this.oc,null)),Dn!==void 0&&Cn.addOp(wt.OPS.beginMarkedContentProps,["OC",Dn]),Cn.addOp(wt.OPS.beginAnnotation,[this.data.id,this.data.rect,Pn,this.getRotationMatrix(kn),An]);const Ln=new bt.StringStream(Rn);return await Jt.getOperatorList({stream:Ln,task:un,resources:this._fieldResources.mergedResources,operatorList:Cn}),Cn.addOp(wt.OPS.endAnnotation,[]),Dn!==void 0&&Cn.addOp(wt.OPS.endMarkedContent,[]),{opList:Cn,separateForm:!1,separateCanvas:An}}_getMKDict(Jt){const un=new _e.Dict(null);return Jt&&un.set("R",Jt),this.borderColor&&un.set("BC",dn(this.borderColor)),this.backgroundColor&&un.set("BG",dn(this.backgroundColor)),un.size>0?un:null}amendSavedDict(Jt,un){}async save(Jt,un,pn){const wn=pn==null?void 0:pn.get(this.data.id);let kn=wn==null?void 0:wn.value,Rn=wn==null?void 0:wn.rotation;if(kn===this.data.fieldValue||kn===void 0){if(!this._hasValueFromXFA&&Rn===void 0)return null;kn||(kn=this.data.fieldValue)}if(Rn===void 0&&!this._hasValueFromXFA&&Array.isArray(kn)&&Array.isArray(this.data.fieldValue)&&kn.length===this.data.fieldValue.length&&kn.every((Qn,Yn)=>Qn===this.data.fieldValue[Yn]))return null;Rn===void 0&&(Rn=this.rotation);let Cn=null;if(!this._needAppearances&&(Cn=await this._getAppearance(Jt,un,wt.RenderingIntentFlag.SAVE,pn),Cn===null))return null;let An=!1;Cn!=null&&Cn.needAppearances&&(An=!0,Cn=null);const{xref:_n}=Jt,In=_n.fetchIfRef(this.ref);if(!(In instanceof _e.Dict))return null;const Pn=new _e.Dict(_n);for(const Qn of In.getKeys())Qn!=="AP"&&Pn.set(Qn,In.getRaw(Qn));const Dn={path:this.data.fieldName,value:kn},Ln=Qn=>(0,_t.isAscii)(Qn)?Qn:(0,_t.stringToUTF16String)(Qn,!0);Pn.set("V",Array.isArray(kn)?kn.map(Ln):Ln(kn)),this.amendSavedDict(pn,Pn);const Un=this._getMKDict(Rn);Un&&Pn.set("MK",Un);const tr=[],er=[{ref:this.ref,data:"",xfa:Dn,needAppearances:An}];if(Cn!==null){const Qn=_n.getNewTemporaryRef(),Yn=new _e.Dict(_n);Pn.set("AP",Yn),Yn.set("N",Qn);const Xn=this._getSaveFieldResources(_n),nr=new bt.StringStream(Cn),lr=nr.dict=new _e.Dict(_n);lr.set("Subtype",_e.Name.get("Form")),lr.set("Resources",Xn),lr.set("BBox",[0,0,this.data.rect[2]-this.data.rect[0],this.data.rect[3]-this.data.rect[1]]);const dr=this.getRotationMatrix(pn);dr!==wt.IDENTITY_MATRIX&&lr.set("Matrix",dr),await(0,qt.writeObject)(Qn,nr,tr,_n),er.push({ref:Qn,data:tr.join(""),xfa:null,needAppearances:!1}),tr.length=0}return Pn.set("M",`D:${(0,wt.getModificationDate)()}`),await(0,qt.writeObject)(this.ref,Pn,tr,_n),er[0].data=tr.join(""),er}async _getAppearance(Jt,un,pn,wn){if(this.hasFieldFlag(wt.AnnotationFieldFlag.PASSWORD))return null;const Rn=wn==null?void 0:wn.get(this.data.id);let Cn,An;if(Rn&&(Cn=Rn.formattedValue||Rn.value,An=Rn.rotation),An===void 0&&Cn===void 0&&!this._needAppearances&&(!this._hasValueFromXFA||this.appearance))return null;const _n=this.getBorderAndBackgroundAppearances(wn);if(Cn===void 0&&(Cn=this.data.fieldValue,!Cn))return`/Tx BMC q ${_n}Q EMC`;if(Array.isArray(Cn)&&Cn.length===1&&(Cn=Cn[0]),(0,wt.assert)(typeof Cn=="string","Expected `value` to be a string."),Cn=Cn.trim(),this.data.combo){const xr=this.data.options.find(({exportValue:Jn})=>Cn===Jn);Cn=(xr==null?void 0:xr.displayValue)||Cn}if(Cn==="")return`/Tx BMC q ${_n}Q EMC`;An===void 0&&(An=this.rotation);let In=-1,Pn;this.data.multiLine?(Pn=Cn.split(/\r\n?|\n/).map(xr=>xr.normalize("NFC")),In=Pn.length):Pn=[Cn.replace(/\r\n?|\n/,"").normalize("NFC")];const Dn=1,Ln=2;let Un=this.data.rect[3]-this.data.rect[1],tr=this.data.rect[2]-this.data.rect[0];(An===90||An===270)&&([tr,Un]=[Un,tr]),this._defaultAppearance||(this.data.defaultAppearanceData=(0,Pt.parseDefaultAppearance)(this._defaultAppearance="/Helvetica 0 Tf 0 g"));let er=await Yt._getFontData(Jt,un,this.data.defaultAppearanceData,this._fieldResources.mergedResources),Qn,Yn,Xn;const nr=[];let lr=!1;for(const xr of Pn){const Jn=er.encodeString(xr);Jn.length>1&&(lr=!0),nr.push(Jn.join(""))}if(lr&&pn&wt.RenderingIntentFlag.SAVE)return{needAppearances:!0};if(lr&&this._isOffscreenCanvasSupported){const xr=this.data.comb?"monospace":"sans-serif",Jn=new Pt.FakeUnicodeFont(Jt.xref,xr),Vn=Jn.createFontResources(Pn.join("")),Zn=Vn.getRaw("Font");if(this._fieldResources.mergedResources.has("Font")){const or=this._fieldResources.mergedResources.get("Font");for(const pr of Zn.getKeys())or.set(pr,Zn.getRaw(pr))}else this._fieldResources.mergedResources.set("Font",Zn);const ur=Jn.fontName.name;er=await Yt._getFontData(Jt,un,{fontName:ur,fontSize:0},Vn);for(let or=0,pr=nr.length;or<pr;or++)nr[or]=(0,_t.stringToUTF16String)(Pn[or]);const hr=Object.assign(Object.create(null),this.data.defaultAppearanceData);this.data.defaultAppearanceData.fontSize=0,this.data.defaultAppearanceData.fontName=ur,[Qn,Yn,Xn]=this._computeFontSize(Un-2*Dn,tr-2*Ln,Cn,er,In),this.data.defaultAppearanceData=hr}else this._isOffscreenCanvasSupported||(0,wt.warn)("_getAppearance: OffscreenCanvas is not supported, annotation may not render correctly."),[Qn,Yn,Xn]=this._computeFontSize(Un-2*Dn,tr-2*Ln,Cn,er,In);let dr=er.descent;isNaN(dr)?dr=wt.BASELINE_FACTOR*Xn:dr=Math.max(wt.BASELINE_FACTOR*Xn,Math.abs(dr)*Yn);const Bn=Math.min(Math.floor((Un-Yn)/2),Dn),Hn=this.data.textAlignment;if(this.data.multiLine)return this._getMultilineAppearance(Qn,nr,er,Yn,tr,Un,Hn,Ln,Bn,dr,Xn,wn);if(this.data.comb)return this._getCombAppearance(Qn,er,nr[0],Yn,tr,Un,Ln,Bn,dr,Xn,wn);const Wn=Bn+dr;if(Hn===0||Hn>2)return`/Tx BMC q ${_n}BT `+Qn+` 1 0 0 1 ${(0,_t.numberToString)(Ln)} ${(0,_t.numberToString)(Wn)} Tm (${(0,_t.escapeString)(nr[0])}) Tj ET Q EMC`;const cr={shift:0},sr=this._renderText(nr[0],er,Yn,tr,Hn,cr,Ln,Wn);return`/Tx BMC q ${_n}BT `+Qn+` 1 0 0 1 0 0 Tm ${sr} ET Q EMC`}static async _getFontData(Jt,un,pn,wn){const kn=new Ct.OperatorList,Rn={font:null,clone(){return this}},{fontName:Cn,fontSize:An}=pn;return await Jt.handleSetFont(wn,[Cn&&_e.Name.get(Cn),An],null,kn,un,Rn,null),Rn.font}_getTextWidth(Jt,un){return un.charsToGlyphs(Jt).reduce((pn,wn)=>pn+wn.width,0)/1e3}_computeFontSize(Jt,un,pn,wn,kn){let{fontSize:Rn}=this.data.defaultAppearanceData,Cn=(Rn||12)*wt.LINE_FACTOR,An=Math.round(Jt/Cn);if(!Rn){const _n=Dn=>Math.floor(Dn*100)/100;if(kn===-1){const Dn=this._getTextWidth(pn,wn);Rn=_n(Math.min(Jt/wt.LINE_FACTOR,Dn>un?un/Dn:1/0)),An=1}else{const Dn=pn.split(/\r\n?|\n/),Ln=[];for(const tr of Dn){const er=wn.encodeString(tr).join(""),Qn=wn.charsToGlyphs(er),Yn=wn.getCharPositions(er);Ln.push({line:er,glyphs:Qn,positions:Yn})}const Un=tr=>{let er=0;for(const Qn of Ln){const Yn=this._splitLine(null,wn,tr,un,Qn);if(er+=Yn.length*tr,er>Jt)return!0}return!1};for(An=Math.max(An,kn);;){if(Cn=Jt/An,Rn=_n(Cn/wt.LINE_FACTOR),Un(Rn)){An++;continue}break}}const{fontName:In,fontColor:Pn}=this.data.defaultAppearanceData;this._defaultAppearance=(0,Pt.createDefaultAppearance)({fontSize:Rn,fontName:In,fontColor:Pn})}return[this._defaultAppearance,Rn,Jt/An]}_renderText(Jt,un,pn,wn,kn,Rn,Cn,An){let _n;if(kn===1){const Pn=this._getTextWidth(Jt,un)*pn;_n=(wn-Pn)/2}else if(kn===2){const Pn=this._getTextWidth(Jt,un)*pn;_n=wn-Pn-Cn}else _n=Cn;const In=(0,_t.numberToString)(_n-Rn.shift);return Rn.shift=_n,An=(0,_t.numberToString)(An),`${In} ${An} Td (${(0,_t.escapeString)(Jt)}) Tj`}_getSaveFieldResources(Jt){var Rn;const{localResources:un,appearanceResources:pn,acroFormResources:wn}=this._fieldResources,kn=(Rn=this.data.defaultAppearanceData)==null?void 0:Rn.fontName;if(!kn)return un||_e.Dict.empty;for(const Cn of[un,pn])if(Cn instanceof _e.Dict){const An=Cn.get("Font");if(An instanceof _e.Dict&&An.has(kn))return Cn}if(wn instanceof _e.Dict){const Cn=wn.get("Font");if(Cn instanceof _e.Dict&&Cn.has(kn)){const An=new _e.Dict(Jt);An.set(kn,Cn.getRaw(kn));const _n=new _e.Dict(Jt);return _n.set("Font",An),_e.Dict.merge({xref:Jt,dictArray:[_n,un],mergeSubDicts:!0})}}return un||_e.Dict.empty}getFieldObject(){return null}}class hn extends Yt{constructor(Jt){super(Jt),this.data.hasOwnCanvas=this.data.readOnly&&!this.data.noHTML,this._hasText=!0;const un=Jt.dict;typeof this.data.fieldValue!="string"&&(this.data.fieldValue="");let pn=(0,_t.getInheritableProperty)({dict:un,key:"Q"});(!Number.isInteger(pn)||pn<0||pn>2)&&(pn=null),this.data.textAlignment=pn;let wn=(0,_t.getInheritableProperty)({dict:un,key:"MaxLen"});(!Number.isInteger(wn)||wn<0)&&(wn=0),this.data.maxLen=wn,this.data.multiLine=this.hasFieldFlag(wt.AnnotationFieldFlag.MULTILINE),this.data.comb=this.hasFieldFlag(wt.AnnotationFieldFlag.COMB)&&!this.hasFieldFlag(wt.AnnotationFieldFlag.MULTILINE)&&!this.hasFieldFlag(wt.AnnotationFieldFlag.PASSWORD)&&!this.hasFieldFlag(wt.AnnotationFieldFlag.FILESELECT)&&this.data.maxLen!==0,this.data.doNotScroll=this.hasFieldFlag(wt.AnnotationFieldFlag.DONOTSCROLL)}get hasTextContent(){return!!this.appearance&&!this._needAppearances}_getCombAppearance(Jt,un,pn,wn,kn,Rn,Cn,An,_n,In,Pn){const Dn=kn/this.data.maxLen,Ln=this.getBorderAndBackgroundAppearances(Pn),Un=[],tr=un.getCharPositions(pn);for(const[Qn,Yn]of tr)Un.push(`(${(0,_t.escapeString)(pn.substring(Qn,Yn))}) Tj`);const er=Un.join(` ${(0,_t.numberToString)(Dn)} 0 Td `);return`/Tx BMC q ${Ln}BT `+Jt+` 1 0 0 1 ${(0,_t.numberToString)(Cn)} ${(0,_t.numberToString)(An+_n)} Tm ${er} ET Q EMC`}_getMultilineAppearance(Jt,un,pn,wn,kn,Rn,Cn,An,_n,In,Pn,Dn){const Ln=[],Un=kn-2*An,tr={shift:0};for(let Yn=0,Xn=un.length;Yn<Xn;Yn++){const nr=un[Yn],lr=this._splitLine(nr,pn,wn,Un);for(let dr=0,Bn=lr.length;dr<Bn;dr++){const Hn=lr[dr],Wn=Yn===0&&dr===0?-_n-(Pn-In):-Pn;Ln.push(this._renderText(Hn,pn,wn,kn,Cn,tr,An,Wn))}}const er=this.getBorderAndBackgroundAppearances(Dn),Qn=Ln.join(`
`);return`/Tx BMC q ${er}BT `+Jt+` 1 0 0 1 0 ${(0,_t.numberToString)(Rn)} Tm ${Qn} ET Q EMC`}_splitLine(Jt,un,pn,wn,kn={}){Jt=kn.line||Jt;const Rn=kn.glyphs||un.charsToGlyphs(Jt);if(Rn.length<=1)return[Jt];const Cn=kn.positions||un.getCharPositions(Jt),An=pn/1e3,_n=[];let In=-1,Pn=-1,Dn=-1,Ln=0,Un=0;for(let tr=0,er=Rn.length;tr<er;tr++){const[Qn,Yn]=Cn[tr],Xn=Rn[tr],nr=Xn.width*An;Xn.unicode===" "?Un+nr>wn?(_n.push(Jt.substring(Ln,Qn)),Ln=Qn,Un=nr,In=-1,Dn=-1):(Un+=nr,In=Qn,Pn=Yn,Dn=tr):Un+nr>wn?In!==-1?(_n.push(Jt.substring(Ln,Pn)),Ln=Pn,tr=Dn+1,In=-1,Un=0):(_n.push(Jt.substring(Ln,Qn)),Ln=Qn,Un=nr):Un+=nr}return Ln<Jt.length&&_n.push(Jt.substring(Ln,Jt.length)),_n}getFieldObject(){return{id:this.data.id,value:this.data.fieldValue,defaultValue:this.data.defaultFieldValue||"",multiline:this.data.multiLine,password:this.hasFieldFlag(wt.AnnotationFieldFlag.PASSWORD),charLimit:this.data.maxLen,comb:this.data.comb,editable:!this.data.readOnly,hidden:this.data.hidden,name:this.data.fieldName,rect:this.data.rect,actions:this.data.actions,page:this.data.pageIndex,strokeColor:this.data.borderColor,fillColor:this.data.backgroundColor,rotation:this.rotation,type:"text"}}}class Ut extends Yt{constructor(Jt){super(Jt),this.checkedAppearance=null,this.uncheckedAppearance=null,this.data.checkBox=!this.hasFieldFlag(wt.AnnotationFieldFlag.RADIO)&&!this.hasFieldFlag(wt.AnnotationFieldFlag.PUSHBUTTON),this.data.radioButton=this.hasFieldFlag(wt.AnnotationFieldFlag.RADIO)&&!this.hasFieldFlag(wt.AnnotationFieldFlag.PUSHBUTTON),this.data.pushButton=this.hasFieldFlag(wt.AnnotationFieldFlag.PUSHBUTTON),this.data.isTooltipOnly=!1,this.data.checkBox?this._processCheckBox(Jt):this.data.radioButton?this._processRadioButton(Jt):this.data.pushButton?(this.data.hasOwnCanvas=!0,this._processPushButton(Jt)):(0,wt.warn)("Invalid field flags for button widget annotation")}async getOperatorList(Jt,un,pn,wn,kn){if(this.data.pushButton)return super.getOperatorList(Jt,un,pn,!1,kn);let Rn=null,Cn=null;if(kn){const _n=kn.get(this.data.id);Rn=_n?_n.value:null,Cn=_n?_n.rotation:null}if(Rn===null&&this.appearance)return super.getOperatorList(Jt,un,pn,wn,kn);Rn==null&&(Rn=this.data.checkBox?this.data.fieldValue===this.data.exportValue:this.data.fieldValue===this.data.buttonValue);const An=Rn?this.checkedAppearance:this.uncheckedAppearance;if(An){const _n=this.appearance,In=An.dict.getArray("Matrix")||wt.IDENTITY_MATRIX;Cn&&An.dict.set("Matrix",this.getRotationMatrix(kn)),this.appearance=An;const Pn=super.getOperatorList(Jt,un,pn,wn,kn);return this.appearance=_n,An.dict.set("Matrix",In),Pn}return{opList:new Ct.OperatorList,separateForm:!1,separateCanvas:!1}}async save(Jt,un,pn){return this.data.checkBox?this._saveCheckbox(Jt,un,pn):this.data.radioButton?this._saveRadioButton(Jt,un,pn):null}async _saveCheckbox(Jt,un,pn){if(!pn)return null;const wn=pn.get(this.data.id);let kn=wn==null?void 0:wn.rotation,Rn=wn==null?void 0:wn.value;if(kn===void 0&&(Rn===void 0||this.data.fieldValue===this.data.exportValue===Rn))return null;const Cn=Jt.xref.fetchIfRef(this.ref);if(!(Cn instanceof _e.Dict))return null;kn===void 0&&(kn=this.rotation),Rn===void 0&&(Rn=this.data.fieldValue===this.data.exportValue);const An={path:this.data.fieldName,value:Rn?this.data.exportValue:""},_n=_e.Name.get(Rn?this.data.exportValue:"Off");Cn.set("V",_n),Cn.set("AS",_n),Cn.set("M",`D:${(0,wt.getModificationDate)()}`);const In=this._getMKDict(kn);In&&Cn.set("MK",In);const Pn=[];return await(0,qt.writeObject)(this.ref,Cn,Pn,Jt.xref),[{ref:this.ref,data:Pn.join(""),xfa:An}]}async _saveRadioButton(Jt,un,pn){if(!pn)return null;const wn=pn.get(this.data.id);let kn=wn==null?void 0:wn.rotation,Rn=wn==null?void 0:wn.value;if(kn===void 0&&(Rn===void 0||this.data.fieldValue===this.data.buttonValue===Rn))return null;const Cn=Jt.xref.fetchIfRef(this.ref);if(!(Cn instanceof _e.Dict))return null;Rn===void 0&&(Rn=this.data.fieldValue===this.data.buttonValue),kn===void 0&&(kn=this.rotation);const An={path:this.data.fieldName,value:Rn?this.data.buttonValue:""},_n=_e.Name.get(Rn?this.data.buttonValue:"Off"),In=[];let Pn=null;if(Rn)if(this.parent instanceof _e.Ref){const Un=Jt.xref.fetch(this.parent);Un.set("V",_n),await(0,qt.writeObject)(this.parent,Un,In,Jt.xref),Pn=In.join(""),In.length=0}else this.parent instanceof _e.Dict&&this.parent.set("V",_n);Cn.set("AS",_n),Cn.set("M",`D:${(0,wt.getModificationDate)()}`);const Dn=this._getMKDict(kn);Dn&&Cn.set("MK",Dn),await(0,qt.writeObject)(this.ref,Cn,In,Jt.xref);const Ln=[{ref:this.ref,data:In.join(""),xfa:An}];return Pn&&Ln.push({ref:this.parent,data:Pn,xfa:null}),Ln}_getDefaultCheckedAppearance(Jt,un){const pn=this.data.rect[2]-this.data.rect[0],wn=this.data.rect[3]-this.data.rect[1],kn=[0,0,pn,wn],Cn=Math.min(pn,wn)*.8;let An,_n;un==="check"?(An={width:.755*Cn,height:.705*Cn},_n="3"):un==="disc"?(An={width:.791*Cn,height:.705*Cn},_n="l"):(0,wt.unreachable)(`_getDefaultCheckedAppearance - unsupported type: ${un}`);const In=(0,_t.numberToString)((pn-An.width)/2),Pn=(0,_t.numberToString)((wn-An.height)/2),Dn=`q BT /PdfJsZaDb ${Cn} Tf 0 g ${In} ${Pn} Td (${_n}) Tj ET Q`,Ln=new _e.Dict(Jt.xref);Ln.set("FormType",1),Ln.set("Subtype",_e.Name.get("Form")),Ln.set("Type",_e.Name.get("XObject")),Ln.set("BBox",kn),Ln.set("Matrix",[1,0,0,1,0,0]),Ln.set("Length",Dn.length);const Un=new _e.Dict(Jt.xref),tr=new _e.Dict(Jt.xref);tr.set("PdfJsZaDb",this.fallbackFontDict),Un.set("Font",tr),Ln.set("Resources",Un),this.checkedAppearance=new bt.StringStream(Dn),this.checkedAppearance.dict=Ln,this._streams.push(this.checkedAppearance)}_processCheckBox(Jt){const un=Jt.dict.get("AP");if(!(un instanceof _e.Dict))return;const pn=un.get("N");if(!(pn instanceof _e.Dict))return;const wn=this._decodeFormValue(Jt.dict.get("AS"));typeof wn=="string"&&(this.data.fieldValue=wn);const kn=this.data.fieldValue!==null&&this.data.fieldValue!=="Off"?this.data.fieldValue:"Yes",Rn=pn.getKeys();if(Rn.length===0)Rn.push("Off",kn);else if(Rn.length===1)Rn[0]==="Off"?Rn.push(kn):Rn.unshift("Off");else if(Rn.includes(kn))Rn.length=0,Rn.push("Off",kn);else{const _n=Rn.find(In=>In!=="Off");Rn.length=0,Rn.push("Off",_n)}Rn.includes(this.data.fieldValue)||(this.data.fieldValue="Off"),this.data.exportValue=Rn[1];const Cn=pn.get(this.data.exportValue);this.checkedAppearance=Cn instanceof Ft.BaseStream?Cn:null;const An=pn.get("Off");this.uncheckedAppearance=An instanceof Ft.BaseStream?An:null,this.checkedAppearance?this._streams.push(this.checkedAppearance):this._getDefaultCheckedAppearance(Jt,"check"),this.uncheckedAppearance&&this._streams.push(this.uncheckedAppearance),this._fallbackFontDict=this.fallbackFontDict,this.data.defaultFieldValue===null&&(this.data.defaultFieldValue="Off")}_processRadioButton(Jt){this.data.fieldValue=this.data.buttonValue=null;const un=Jt.dict.get("Parent");if(un instanceof _e.Dict){this.parent=Jt.dict.getRaw("Parent");const Cn=un.get("V");Cn instanceof _e.Name&&(this.data.fieldValue=this._decodeFormValue(Cn))}const pn=Jt.dict.get("AP");if(!(pn instanceof _e.Dict))return;const wn=pn.get("N");if(!(wn instanceof _e.Dict))return;for(const Cn of wn.getKeys())if(Cn!=="Off"){this.data.buttonValue=this._decodeFormValue(Cn);break}const kn=wn.get(this.data.buttonValue);this.checkedAppearance=kn instanceof Ft.BaseStream?kn:null;const Rn=wn.get("Off");this.uncheckedAppearance=Rn instanceof Ft.BaseStream?Rn:null,this.checkedAppearance?this._streams.push(this.checkedAppearance):this._getDefaultCheckedAppearance(Jt,"disc"),this.uncheckedAppearance&&this._streams.push(this.uncheckedAppearance),this._fallbackFontDict=this.fallbackFontDict,this.data.defaultFieldValue===null&&(this.data.defaultFieldValue="Off")}_processPushButton(Jt){const{dict:un,annotationGlobals:pn}=Jt;if(!un.has("A")&&!un.has("AA")&&!this.data.alternativeText){(0,wt.warn)("Push buttons without action dictionaries are not supported");return}this.data.isTooltipOnly=!un.has("A")&&!un.has("AA"),Kt.Catalog.parseDestDictionary({destDict:un,resultObj:this.data,docBaseUrl:pn.baseUrl,docAttachments:pn.attachments})}getFieldObject(){let Jt="button",un;return this.data.checkBox?(Jt="checkbox",un=this.data.exportValue):this.data.radioButton&&(Jt="radiobutton",un=this.data.buttonValue),{id:this.data.id,value:this.data.fieldValue||"Off",defaultValue:this.data.defaultFieldValue,exportValues:un,editable:!this.data.readOnly,name:this.data.fieldName,rect:this.data.rect,hidden:this.data.hidden,actions:this.data.actions,page:this.data.pageIndex,strokeColor:this.data.borderColor,fillColor:this.data.backgroundColor,rotation:this.rotation,type:Jt}}get fallbackFontDict(){const Jt=new _e.Dict;return Jt.set("BaseFont",_e.Name.get("ZapfDingbats")),Jt.set("Type",_e.Name.get("FallbackType")),Jt.set("Subtype",_e.Name.get("FallbackType")),Jt.set("Encoding",_e.Name.get("ZapfDingbatsEncoding")),(0,wt.shadow)(this,"fallbackFontDict",Jt)}}class Ot extends Yt{constructor(Jt){super(Jt);const{dict:un,xref:pn}=Jt;this.indices=un.getArray("I"),this.hasIndices=Array.isArray(this.indices)&&this.indices.length>0,this.data.options=[];const wn=(0,_t.getInheritableProperty)({dict:un,key:"Opt"});if(Array.isArray(wn))for(let kn=0,Rn=wn.length;kn<Rn;kn++){const Cn=pn.fetchIfRef(wn[kn]),An=Array.isArray(Cn);this.data.options[kn]={exportValue:this._decodeFormValue(An?pn.fetchIfRef(Cn[0]):Cn),displayValue:this._decodeFormValue(An?pn.fetchIfRef(Cn[1]):Cn)}}if(!this.hasIndices)typeof this.data.fieldValue=="string"?this.data.fieldValue=[this.data.fieldValue]:this.data.fieldValue||(this.data.fieldValue=[]);else{this.data.fieldValue=[];const kn=this.data.options.length;for(const Rn of this.indices)Number.isInteger(Rn)&&Rn>=0&&Rn<kn&&this.data.fieldValue.push(this.data.options[Rn].exportValue)}this.data.combo=this.hasFieldFlag(wt.AnnotationFieldFlag.COMBO),this.data.multiSelect=this.hasFieldFlag(wt.AnnotationFieldFlag.MULTISELECT),this._hasText=!0}getFieldObject(){const Jt=this.data.combo?"combobox":"listbox",un=this.data.fieldValue.length>0?this.data.fieldValue[0]:null;return{id:this.data.id,value:un,defaultValue:this.data.defaultFieldValue,editable:!this.data.readOnly,name:this.data.fieldName,rect:this.data.rect,numItems:this.data.fieldValue.length,multipleSelection:this.data.multiSelect,hidden:this.data.hidden,actions:this.data.actions,items:this.data.options,page:this.data.pageIndex,strokeColor:this.data.borderColor,fillColor:this.data.backgroundColor,rotation:this.rotation,type:Jt}}amendSavedDict(Jt,un){var Rn;if(!this.hasIndices)return;let pn=(Rn=Jt==null?void 0:Jt.get(this.data.id))==null?void 0:Rn.value;Array.isArray(pn)||(pn=[pn]);const wn=[],{options:kn}=this.data;for(let Cn=0,An=0,_n=kn.length;Cn<_n;Cn++)kn[Cn].exportValue===pn[An]&&(wn.push(Cn),An+=1);un.set("I",wn)}async _getAppearance(Jt,un,pn,wn){if(this.data.combo)return super._getAppearance(Jt,un,pn,wn);let kn,Rn;const Cn=wn==null?void 0:wn.get(this.data.id);if(Cn&&(Rn=Cn.rotation,kn=Cn.value),Rn===void 0&&kn===void 0&&!this._needAppearances)return null;kn===void 0?kn=this.data.fieldValue:Array.isArray(kn)||(kn=[kn]);const An=1,_n=2;let In=this.data.rect[3]-this.data.rect[1],Pn=this.data.rect[2]-this.data.rect[0];(Rn===90||Rn===270)&&([Pn,In]=[In,Pn]);const Dn=this.data.options.length,Ln=[];for(let Hn=0;Hn<Dn;Hn++){const{exportValue:Wn}=this.data.options[Hn];kn.includes(Wn)&&Ln.push(Hn)}this._defaultAppearance||(this.data.defaultAppearanceData=(0,Pt.parseDefaultAppearance)(this._defaultAppearance="/Helvetica 0 Tf 0 g"));const Un=await Yt._getFontData(Jt,un,this.data.defaultAppearanceData,this._fieldResources.mergedResources);let tr,{fontSize:er}=this.data.defaultAppearanceData;if(er)tr=this._defaultAppearance;else{const Hn=(In-An)/Dn;let Wn=-1,cr;for(const{displayValue:sr}of this.data.options){const xr=this._getTextWidth(sr,Un);xr>Wn&&(Wn=xr,cr=sr)}[tr,er]=this._computeFontSize(Hn,Pn-2*_n,cr,Un,-1)}const Qn=er*wt.LINE_FACTOR,Yn=(Qn-er)/2,Xn=Math.floor(In/Qn);let nr=0;if(Ln.length>0){const Hn=Math.min(...Ln),Wn=Math.max(...Ln);nr=Math.max(0,Wn-Xn+1),nr>Hn&&(nr=Hn)}const lr=Math.min(nr+Xn+1,Dn),dr=["/Tx BMC q",`1 1 ${Pn} ${In} re W n`];if(Ln.length){dr.push("0.600006 0.756866 0.854904 rg");for(const Hn of Ln)nr<=Hn&&Hn<lr&&dr.push(`1 ${In-(Hn-nr+1)*Qn} ${Pn} ${Qn} re f`)}dr.push("BT",tr,`1 0 0 1 0 ${In} Tm`);const Bn={shift:0};for(let Hn=nr;Hn<lr;Hn++){const{displayValue:Wn}=this.data.options[Hn],cr=Hn===nr?Yn:0;dr.push(this._renderText(Wn,Un,er,Pn,0,Bn,_n,-Qn+cr))}return dr.push("ET Q EMC"),dr.join(`
`)}}class zt extends Yt{constructor(Jt){super(Jt),this.data.fieldValue=null,this.data.hasOwnCanvas=this.data.noRotate}getFieldObject(){return{id:this.data.id,value:null,page:this.data.pageIndex,type:"signature"}}}class an extends Vt{constructor(Jt){super(Jt),this.data.noRotate=!0,this.data.hasOwnCanvas=this.data.noRotate;const{dict:pn}=Jt;this.data.annotationType=wt.AnnotationType.TEXT,this.data.hasAppearance?this.data.name="NoIcon":(this.data.rect[1]=this.data.rect[3]-22,this.data.rect[2]=this.data.rect[0]+22,this.data.name=pn.has("Name")?pn.get("Name").name:"Note"),pn.has("State")?(this.data.state=pn.get("State")||null,this.data.stateModel=pn.get("StateModel")||null):(this.data.state=null,this.data.stateModel=null)}}class Ht extends nn{constructor(Jt){var kn;super(Jt);const{dict:un,annotationGlobals:pn}=Jt;this.data.annotationType=wt.AnnotationType.LINK;const wn=Qt(un,this.rectangle);wn&&(this.data.quadPoints=wn),(kn=this.data).borderColor||(kn.borderColor=this.data.color),Kt.Catalog.parseDestDictionary({destDict:un,resultObj:this.data,docBaseUrl:pn.baseUrl,docAttachments:pn.attachments})}}class Wt extends nn{constructor(Jt){super(Jt);const{dict:un}=Jt;this.data.annotationType=wt.AnnotationType.POPUP,(this.data.rect[0]===this.data.rect[2]||this.data.rect[1]===this.data.rect[3])&&(this.data.rect=null);let pn=un.get("Parent");if(!pn){(0,wt.warn)("Popup annotation has a missing or invalid parent annotation.");return}const wn=pn.getArray("Rect");this.data.parentRect=Array.isArray(wn)&&wn.length===4?wt.Util.normalizeRect(wn):null;const kn=pn.get("RT");if((0,_e.isName)(kn,wt.AnnotationReplyType.GROUP)&&(pn=pn.get("IRT")),pn.has("M")?(this.setModificationDate(pn.get("M")),this.data.modificationDate=this.modificationDate):this.data.modificationDate=null,pn.has("C")?(this.setColor(pn.getArray("C")),this.data.color=this.color):this.data.color=null,!this.viewable){const Rn=pn.get("F");this._isViewable(Rn)&&this.setFlags(Rn)}this.setTitle(pn.get("T")),this.data.titleObj=this._title,this.setContents(pn.get("Contents")),this.data.contentsObj=this._contents,pn.has("RC")&&(this.data.richText=Bt.XFAFactory.getRichTextAsHtml(pn.get("RC"))),this.data.open=!!un.get("Open")}}Et.PopupAnnotation=Wt;class tn extends Vt{constructor(Jt){var wn;super(Jt),this.data.hasOwnCanvas=!0;const{evaluatorOptions:un,xref:pn}=Jt;if(this.data.annotationType=wt.AnnotationType.FREETEXT,this.setDefaultAppearance(Jt),this.appearance){const{fontColor:kn,fontSize:Rn}=(0,Pt.parseAppearanceStream)(this.appearance,un,pn);this.data.defaultAppearanceData.fontColor=kn,this.data.defaultAppearanceData.fontSize=Rn||10}else if(this._isOffscreenCanvasSupported){const kn=Jt.dict.get("CA"),Rn=new Pt.FakeUnicodeFont(pn,"sans-serif");(wn=this.data.defaultAppearanceData).fontSize||(wn.fontSize=10);const{fontColor:Cn,fontSize:An}=this.data.defaultAppearanceData;this.appearance=Rn.createAppearance(this._contents.str,this.rectangle,this.rotation,An,Cn,kn),this._streams.push(this.appearance,Pt.FakeUnicodeFont.toUnicodeStream)}else(0,wt.warn)("FreeTextAnnotation: OffscreenCanvas is not supported, annotation may not render correctly.")}get hasTextContent(){return!!this.appearance}static createNewDict(Jt,un,{apRef:pn,ap:wn}){const{color:kn,fontSize:Rn,rect:Cn,rotation:An,user:_n,value:In}=Jt,Pn=new _e.Dict(un);Pn.set("Type",_e.Name.get("Annot")),Pn.set("Subtype",_e.Name.get("FreeText")),Pn.set("CreationDate",`D:${(0,wt.getModificationDate)()}`),Pn.set("Rect",Cn);const Dn=`/Helv ${Rn} Tf ${(0,Pt.getPdfColor)(kn,!0)}`;if(Pn.set("DA",Dn),Pn.set("Contents",(0,_t.isAscii)(In)?In:(0,_t.stringToUTF16String)(In,!0)),Pn.set("F",4),Pn.set("Border",[0,0,0]),Pn.set("Rotate",An),_n&&Pn.set("T",(0,_t.isAscii)(_n)?_n:(0,_t.stringToUTF16String)(_n,!0)),pn||wn){const Ln=new _e.Dict(un);Pn.set("AP",Ln),pn?Ln.set("N",pn):Ln.set("N",wn)}return Pn}static async createNewAppearanceStream(Jt,un,pn){const{baseFontRef:wn,evaluator:kn,task:Rn}=pn,{color:Cn,fontSize:An,rect:_n,rotation:In,value:Pn}=Jt,Dn=new _e.Dict(un),Ln=new _e.Dict(un);if(wn)Ln.set("Helv",wn);else{const Fr=new _e.Dict(un);Fr.set("BaseFont",_e.Name.get("Helvetica")),Fr.set("Type",_e.Name.get("Font")),Fr.set("Subtype",_e.Name.get("Type1")),Fr.set("Encoding",_e.Name.get("WinAnsiEncoding")),Ln.set("Helv",Fr)}Dn.set("Font",Ln);const Un=await Yt._getFontData(kn,Rn,{fontName:"Helv",fontSize:An},Dn),[tr,er,Qn,Yn]=_n;let Xn=Qn-tr,nr=Yn-er;In%180!==0&&([Xn,nr]=[nr,Xn]);const lr=Pn.split(`
`),dr=An/1e3;let Bn=-1/0;const Hn=[];for(let Fr of lr){const $r=Un.encodeString(Fr);if($r.length>1)return null;Fr=$r.join(""),Hn.push(Fr);let Er=0;const _r=Un.charsToGlyphs(Fr);for(const Rr of _r)Er+=Rr.width*dr;Bn=Math.max(Bn,Er)}let Wn=1;Bn>Xn&&(Wn=Xn/Bn);let cr=1;const sr=wt.LINE_FACTOR*An,xr=(wt.LINE_FACTOR-wt.LINE_DESCENT_FACTOR)*An,Jn=sr*lr.length;Jn>nr&&(cr=nr/Jn);const Vn=Math.min(Wn,cr),Zn=An*Vn;let ur,hr,or;switch(In){case 0:or=[1,0,0,1],hr=[_n[0],_n[1],Xn,nr],ur=[_n[0],_n[3]-xr];break;case 90:or=[0,1,-1,0],hr=[_n[1],-_n[2],Xn,nr],ur=[_n[1],-_n[0]-xr];break;case 180:or=[-1,0,0,-1],hr=[-_n[2],-_n[3],Xn,nr],ur=[-_n[2],-_n[1]-xr];break;case 270:or=[0,-1,1,0],hr=[-_n[3],_n[0],Xn,nr],ur=[-_n[3],_n[2]-xr];break}const pr=["q",`${or.join(" ")} 0 0 cm`,`${hr.join(" ")} re W n`,"BT",`${(0,Pt.getPdfColor)(Cn,!0)}`,`0 Tc /Helv ${(0,_t.numberToString)(Zn)} Tf`];pr.push(`${ur.join(" ")} Td (${(0,_t.escapeString)(Hn[0])}) Tj`);const wr=(0,_t.numberToString)(sr);for(let Fr=1,$r=Hn.length;Fr<$r;Fr++){const Er=Hn[Fr];pr.push(`0 -${wr} Td (${(0,_t.escapeString)(Er)}) Tj`)}pr.push("ET","Q");const fr=pr.join(`
`),Ar=new _e.Dict(un);Ar.set("FormType",1),Ar.set("Subtype",_e.Name.get("Form")),Ar.set("Type",_e.Name.get("XObject")),Ar.set("BBox",_n),Ar.set("Resources",Dn),Ar.set("Matrix",[1,0,0,1,-_n[0],-_n[1]]);const Lr=new bt.StringStream(fr);return Lr.dict=Ar,Lr}}class ln extends Vt{constructor(Jt){super(Jt);const{dict:un,xref:pn}=Jt;this.data.annotationType=wt.AnnotationType.LINE,this.data.hasOwnCanvas=this.data.noRotate;const wn=un.getArray("L");if(this.data.lineCoordinates=wt.Util.normalizeRect(wn),this.setLineEndings(un.getArray("LE")),this.data.lineEndings=this.lineEndings,!this.appearance){const kn=this.color?dn(this.color):[0,0,0],Rn=un.get("CA"),Cn=en(un.getArray("IC"),null),An=Cn?dn(Cn):null,_n=An?Rn:null,In=this.borderStyle.width||1,Pn=2*In,Dn=[this.data.lineCoordinates[0]-Pn,this.data.lineCoordinates[1]-Pn,this.data.lineCoordinates[2]+Pn,this.data.lineCoordinates[3]+Pn];wt.Util.intersect(this.rectangle,Dn)||(this.rectangle=Dn),this._setDefaultAppearance({xref:pn,extra:`${In} w`,strokeColor:kn,fillColor:An,strokeAlpha:Rn,fillAlpha:_n,pointsCallback:(Ln,Un)=>(Ln.push(`${wn[0]} ${wn[1]} m`,`${wn[2]} ${wn[3]} l`,"S"),[Un[0].x-In,Un[1].x+In,Un[3].y-In,Un[1].y+In])})}}}class on extends Vt{constructor(Jt){super(Jt);const{dict:un,xref:pn}=Jt;if(this.data.annotationType=wt.AnnotationType.SQUARE,this.data.hasOwnCanvas=this.data.noRotate,!this.appearance){const wn=this.color?dn(this.color):[0,0,0],kn=un.get("CA"),Rn=en(un.getArray("IC"),null),Cn=Rn?dn(Rn):null,An=Cn?kn:null;if(this.borderStyle.width===0&&!Cn)return;this._setDefaultAppearance({xref:pn,extra:`${this.borderStyle.width} w`,strokeColor:wn,fillColor:Cn,strokeAlpha:kn,fillAlpha:An,pointsCallback:(_n,In)=>{const Pn=In[2].x+this.borderStyle.width/2,Dn=In[2].y+this.borderStyle.width/2,Ln=In[3].x-In[2].x-this.borderStyle.width,Un=In[1].y-In[3].y-this.borderStyle.width;return _n.push(`${Pn} ${Dn} ${Ln} ${Un} re`),Cn?_n.push("B"):_n.push("S"),[In[0].x,In[1].x,In[3].y,In[1].y]}})}}}class cn extends Vt{constructor(Jt){super(Jt);const{dict:un,xref:pn}=Jt;if(this.data.annotationType=wt.AnnotationType.CIRCLE,!this.appearance){const wn=this.color?dn(this.color):[0,0,0],kn=un.get("CA"),Rn=en(un.getArray("IC"),null),Cn=Rn?dn(Rn):null,An=Cn?kn:null;if(this.borderStyle.width===0&&!Cn)return;const _n=4/3*Math.tan(Math.PI/(2*4));this._setDefaultAppearance({xref:pn,extra:`${this.borderStyle.width} w`,strokeColor:wn,fillColor:Cn,strokeAlpha:kn,fillAlpha:An,pointsCallback:(In,Pn)=>{const Dn=Pn[0].x+this.borderStyle.width/2,Ln=Pn[0].y-this.borderStyle.width/2,Un=Pn[3].x-this.borderStyle.width/2,tr=Pn[3].y+this.borderStyle.width/2,er=Dn+(Un-Dn)/2,Qn=Ln+(tr-Ln)/2,Yn=(Un-Dn)/2*_n,Xn=(tr-Ln)/2*_n;return In.push(`${er} ${tr} m`,`${er+Yn} ${tr} ${Un} ${Qn+Xn} ${Un} ${Qn} c`,`${Un} ${Qn-Xn} ${er+Yn} ${Ln} ${er} ${Ln} c`,`${er-Yn} ${Ln} ${Dn} ${Qn-Xn} ${Dn} ${Qn} c`,`${Dn} ${Qn+Xn} ${er-Yn} ${tr} ${er} ${tr} c`,"h"),Cn?In.push("B"):In.push("S"),[Pn[0].x,Pn[1].x,Pn[3].y,Pn[1].y]}})}}}class sn extends Vt{constructor(Jt){super(Jt);const{dict:un,xref:pn}=Jt;this.data.annotationType=wt.AnnotationType.POLYLINE,this.data.hasOwnCanvas=this.data.noRotate,this.data.vertices=[],this instanceof rn||(this.setLineEndings(un.getArray("LE")),this.data.lineEndings=this.lineEndings);const wn=un.getArray("Vertices");if(Array.isArray(wn)){for(let kn=0,Rn=wn.length;kn<Rn;kn+=2)this.data.vertices.push({x:wn[kn],y:wn[kn+1]});if(!this.appearance){const kn=this.color?dn(this.color):[0,0,0],Rn=un.get("CA"),Cn=this.borderStyle.width||1,An=2*Cn,_n=[1/0,1/0,-1/0,-1/0];for(const In of this.data.vertices)_n[0]=Math.min(_n[0],In.x-An),_n[1]=Math.min(_n[1],In.y-An),_n[2]=Math.max(_n[2],In.x+An),_n[3]=Math.max(_n[3],In.y+An);wt.Util.intersect(this.rectangle,_n)||(this.rectangle=_n),this._setDefaultAppearance({xref:pn,extra:`${Cn} w`,strokeColor:kn,strokeAlpha:Rn,pointsCallback:(In,Pn)=>{const Dn=this.data.vertices;for(let Ln=0,Un=Dn.length;Ln<Un;Ln++)In.push(`${Dn[Ln].x} ${Dn[Ln].y} ${Ln===0?"m":"l"}`);return In.push("S"),[Pn[0].x,Pn[1].x,Pn[3].y,Pn[1].y]}})}}}}class rn extends sn{constructor(Jt){super(Jt),this.data.annotationType=wt.AnnotationType.POLYGON}}class xn extends Vt{constructor(Jt){super(Jt),this.data.annotationType=wt.AnnotationType.CARET}}class vn extends Vt{constructor(Jt){super(Jt),this.data.hasOwnCanvas=this.data.noRotate;const{dict:un,xref:pn}=Jt;this.data.annotationType=wt.AnnotationType.INK,this.data.inkLists=[];const wn=un.getArray("InkList");if(Array.isArray(wn)){for(let kn=0,Rn=wn.length;kn<Rn;++kn){this.data.inkLists.push([]);for(let Cn=0,An=wn[kn].length;Cn<An;Cn+=2)this.data.inkLists[kn].push({x:pn.fetchIfRef(wn[kn][Cn]),y:pn.fetchIfRef(wn[kn][Cn+1])})}if(!this.appearance){const kn=this.color?dn(this.color):[0,0,0],Rn=un.get("CA"),Cn=this.borderStyle.width||1,An=2*Cn,_n=[1/0,1/0,-1/0,-1/0];for(const In of this.data.inkLists)for(const Pn of In)_n[0]=Math.min(_n[0],Pn.x-An),_n[1]=Math.min(_n[1],Pn.y-An),_n[2]=Math.max(_n[2],Pn.x+An),_n[3]=Math.max(_n[3],Pn.y+An);wt.Util.intersect(this.rectangle,_n)||(this.rectangle=_n),this._setDefaultAppearance({xref:pn,extra:`${Cn} w`,strokeColor:kn,strokeAlpha:Rn,pointsCallback:(In,Pn)=>{for(const Dn of this.data.inkLists){for(let Ln=0,Un=Dn.length;Ln<Un;Ln++)In.push(`${Dn[Ln].x} ${Dn[Ln].y} ${Ln===0?"m":"l"}`);In.push("S")}return[Pn[0].x,Pn[1].x,Pn[3].y,Pn[1].y]}})}}}static createNewDict(Jt,un,{apRef:pn,ap:wn}){const{color:kn,opacity:Rn,paths:Cn,rect:An,rotation:_n,thickness:In}=Jt,Pn=new _e.Dict(un);Pn.set("Type",_e.Name.get("Annot")),Pn.set("Subtype",_e.Name.get("Ink")),Pn.set("CreationDate",`D:${(0,wt.getModificationDate)()}`),Pn.set("Rect",An),Pn.set("InkList",Cn.map(Un=>Un.points)),Pn.set("F",4),Pn.set("Rotate",_n);const Dn=new _e.Dict(un);Pn.set("BS",Dn),Dn.set("W",In),Pn.set("C",Array.from(kn,Un=>Un/255)),Pn.set("CA",Rn);const Ln=new _e.Dict(un);return Pn.set("AP",Ln),pn?Ln.set("N",pn):Ln.set("N",wn),Pn}static async createNewAppearanceStream(Jt,un,pn){const{color:wn,rect:kn,paths:Rn,thickness:Cn,opacity:An}=Jt,_n=[`${Cn} w 1 J 1 j`,`${(0,Pt.getPdfColor)(wn,!1)}`];An!==1&&_n.push("/R0 gs");const In=[];for(const{bezier:Un}of Rn){In.length=0,In.push(`${(0,_t.numberToString)(Un[0])} ${(0,_t.numberToString)(Un[1])} m`);for(let tr=2,er=Un.length;tr<er;tr+=6){const Qn=Un.slice(tr,tr+6).map(_t.numberToString).join(" ");In.push(`${Qn} c`)}In.push("S"),_n.push(In.join(`
`))}const Pn=_n.join(`
`),Dn=new _e.Dict(un);if(Dn.set("FormType",1),Dn.set("Subtype",_e.Name.get("Form")),Dn.set("Type",_e.Name.get("XObject")),Dn.set("BBox",kn),Dn.set("Length",Pn.length),An!==1){const Un=new _e.Dict(un),tr=new _e.Dict(un),er=new _e.Dict(un);er.set("CA",An),er.set("Type",_e.Name.get("ExtGState")),tr.set("R0",er),Un.set("ExtGState",tr),Dn.set("Resources",Un)}const Ln=new bt.StringStream(Pn);return Ln.dict=Dn,Ln}}class En extends Vt{constructor(Jt){var kn;super(Jt);const{dict:un,xref:pn}=Jt;if(this.data.annotationType=wt.AnnotationType.HIGHLIGHT,this.data.quadPoints=Qt(un,null)){const Rn=(kn=this.appearance)==null?void 0:kn.dict.get("Resources");if(!this.appearance||!(Rn!=null&&Rn.has("ExtGState"))){this.appearance&&(0,wt.warn)("HighlightAnnotation - ignoring built-in appearance stream.");const Cn=this.color?dn(this.color):[1,1,0],An=un.get("CA");this._setDefaultAppearance({xref:pn,fillColor:Cn,blendMode:"Multiply",fillAlpha:An,pointsCallback:(_n,In)=>(_n.push(`${In[0].x} ${In[0].y} m`,`${In[1].x} ${In[1].y} l`,`${In[3].x} ${In[3].y} l`,`${In[2].x} ${In[2].y} l`,"f"),[In[0].x,In[1].x,In[3].y,In[1].y])})}}else this.data.popupRef=null}}class Fn extends Vt{constructor(Jt){super(Jt);const{dict:un,xref:pn}=Jt;if(this.data.annotationType=wt.AnnotationType.UNDERLINE,this.data.quadPoints=Qt(un,null)){if(!this.appearance){const kn=this.color?dn(this.color):[0,0,0],Rn=un.get("CA");this._setDefaultAppearance({xref:pn,extra:"[] 0 d 0.571 w",strokeColor:kn,strokeAlpha:Rn,pointsCallback:(Cn,An)=>(Cn.push(`${An[2].x} ${An[2].y+1.3} m`,`${An[3].x} ${An[3].y+1.3} l`,"S"),[An[0].x,An[1].x,An[3].y,An[1].y])})}}else this.data.popupRef=null}}class Mn extends Vt{constructor(Jt){super(Jt);const{dict:un,xref:pn}=Jt;if(this.data.annotationType=wt.AnnotationType.SQUIGGLY,this.data.quadPoints=Qt(un,null)){if(!this.appearance){const kn=this.color?dn(this.color):[0,0,0],Rn=un.get("CA");this._setDefaultAppearance({xref:pn,extra:"[] 0 d 1 w",strokeColor:kn,strokeAlpha:Rn,pointsCallback:(Cn,An)=>{const _n=(An[0].y-An[2].y)/6;let In=_n,Pn=An[2].x;const Dn=An[2].y,Ln=An[3].x;Cn.push(`${Pn} ${Dn+In} m`);do Pn+=2,In=In===0?_n:0,Cn.push(`${Pn} ${Dn+In} l`);while(Pn<Ln);return Cn.push("S"),[An[2].x,Ln,Dn-2*_n,Dn+2*_n]}})}}else this.data.popupRef=null}}class Tn extends Vt{constructor(Jt){super(Jt);const{dict:un,xref:pn}=Jt;if(this.data.annotationType=wt.AnnotationType.STRIKEOUT,this.data.quadPoints=Qt(un,null)){if(!this.appearance){const kn=this.color?dn(this.color):[0,0,0],Rn=un.get("CA");this._setDefaultAppearance({xref:pn,extra:"[] 0 d 1 w",strokeColor:kn,strokeAlpha:Rn,pointsCallback:(Cn,An)=>(Cn.push(`${(An[0].x+An[2].x)/2} ${(An[0].y+An[2].y)/2} m`,`${(An[1].x+An[3].x)/2} ${(An[1].y+An[3].y)/2} l`,"S"),[An[0].x,An[1].x,An[3].y,An[1].y])})}}else this.data.popupRef=null}}class Sn extends Vt{constructor(Jt){super(Jt),this.data.annotationType=wt.AnnotationType.STAMP,this.data.hasOwnCanvas=this.data.noRotate}static async createImage(Jt,un){const{width:pn,height:wn}=Jt,kn=new OffscreenCanvas(pn,wn),Rn=kn.getContext("2d",{alpha:!0});Rn.drawImage(Jt,0,0);const Cn=Rn.getImageData(0,0,pn,wn).data,An=new Uint32Array(Cn.buffer),_n=An.some(wt.FeatureTest.isLittleEndian?er=>er>>>24!==255:er=>(er&255)!==255);_n&&(Rn.fillStyle="white",Rn.fillRect(0,0,pn,wn),Rn.drawImage(Jt,0,0));const In=kn.convertToBlob({type:"image/jpeg",quality:1}).then(er=>er.arrayBuffer()),Pn=_e.Name.get("XObject"),Dn=_e.Name.get("Image"),Ln=new _e.Dict(un);Ln.set("Type",Pn),Ln.set("Subtype",Dn),Ln.set("BitsPerComponent",8),Ln.set("ColorSpace",_e.Name.get("DeviceRGB")),Ln.set("Filter",_e.Name.get("DCTDecode")),Ln.set("BBox",[0,0,pn,wn]),Ln.set("Width",pn),Ln.set("Height",wn);let Un=null;if(_n){const er=new Uint8Array(An.length);if(wt.FeatureTest.isLittleEndian)for(let Yn=0,Xn=An.length;Yn<Xn;Yn++)er[Yn]=An[Yn]>>>24;else for(let Yn=0,Xn=An.length;Yn<Xn;Yn++)er[Yn]=An[Yn]&255;const Qn=new _e.Dict(un);Qn.set("Type",Pn),Qn.set("Subtype",Dn),Qn.set("BitsPerComponent",8),Qn.set("ColorSpace",_e.Name.get("DeviceGray")),Qn.set("Width",pn),Qn.set("Height",wn),Un=new bt.Stream(er,0,0,Qn)}return{imageStream:new bt.Stream(await In,0,0,Ln),smaskStream:Un,width:pn,height:wn}}static createNewDict(Jt,un,{apRef:pn,ap:wn}){const{rect:kn,rotation:Rn,user:Cn}=Jt,An=new _e.Dict(un);if(An.set("Type",_e.Name.get("Annot")),An.set("Subtype",_e.Name.get("Stamp")),An.set("CreationDate",`D:${(0,wt.getModificationDate)()}`),An.set("Rect",kn),An.set("F",4),An.set("Border",[0,0,0]),An.set("Rotate",Rn),Cn&&An.set("T",(0,_t.isAscii)(Cn)?Cn:(0,_t.stringToUTF16String)(Cn,!0)),pn||wn){const _n=new _e.Dict(un);An.set("AP",_n),pn?_n.set("N",pn):_n.set("N",wn)}return An}static async createNewAppearanceStream(Jt,un,pn){const{rotation:wn}=Jt,{imageRef:kn,width:Rn,height:Cn}=pn.image,An=new _e.Dict(un),_n=new _e.Dict(un);An.set("XObject",_n),_n.set("Im0",kn);const In=`q ${Rn} 0 0 ${Cn} 0 0 cm /Im0 Do Q`,Pn=new _e.Dict(un);if(Pn.set("FormType",1),Pn.set("Subtype",_e.Name.get("Form")),Pn.set("Type",_e.Name.get("XObject")),Pn.set("BBox",[0,0,Rn,Cn]),Pn.set("Resources",An),wn){const Ln=(0,_t.getRotationMatrix)(wn,Rn,Cn);Pn.set("Matrix",Ln)}const Dn=new bt.StringStream(In);return Dn.dict=Pn,Dn}}class mn extends Vt{constructor(Jt){super(Jt);const{dict:un,xref:pn}=Jt,wn=new $t.FileSpec(un.get("FS"),pn);this.data.annotationType=wt.AnnotationType.FILEATTACHMENT,this.data.hasOwnCanvas=this.data.noRotate,this.data.file=wn.serializable;const kn=un.get("Name");this.data.name=kn instanceof _e.Name?(0,wt.stringToPDFString)(kn.name):"PushPin";const Rn=un.get("ca");this.data.fillAlpha=typeof Rn=="number"&&Rn>=0&&Rn<=1?Rn:null}}},(kt,Et,Rt)=>{Object.defineProperty(Et,"__esModule",{value:!0}),Et.FakeUnicodeFont=void 0,Et.createDefaultAppearance=qt,Et.getPdfColor=Ct,Et.parseAppearanceStream=jt,Et.parseDefaultAppearance=$t;var wt=Rt(4),_t=Rt(3),Pt=Rt(2),_e=Rt(12),bt=Rt(13),Ft=Rt(59),Xt=Rt(57),Kt=Rt(8);class Nt extends bt.EvaluatorPreprocessor{constructor(en){super(new Kt.StringStream(en))}parse(){const en={fn:0,args:[]},dn={fontSize:0,fontName:"",fontColor:new Uint8ClampedArray(3)};try{for(;en.args.length=0,!!this.read(en);){if(this.savedStatesDepth!==0)continue;const{fn:Qt,args:gn}=en;switch(Qt|0){case Pt.OPS.setFont:const[nn,bn]=gn;nn instanceof wt.Name&&(dn.fontName=nn.name),typeof bn=="number"&&bn>0&&(dn.fontSize=bn);break;case Pt.OPS.setFillRGBColor:_e.ColorSpace.singletons.rgb.getRgbItem(gn,0,dn.fontColor,0);break;case Pt.OPS.setFillGray:_e.ColorSpace.singletons.gray.getRgbItem(gn,0,dn.fontColor,0);break;case Pt.OPS.setFillCMYKColor:_e.ColorSpace.singletons.cmyk.getRgbItem(gn,0,dn.fontColor,0);break}}}catch(Qt){(0,Pt.warn)(`parseDefaultAppearance - ignoring errors: "${Qt}".`)}return dn}}function $t(Gt){return new Nt(Gt).parse()}class Dt extends bt.EvaluatorPreprocessor{constructor(en,dn,Qt){var gn;super(en),this.stream=en,this.evaluatorOptions=dn,this.xref=Qt,this.resources=(gn=en.dict)==null?void 0:gn.get("Resources")}parse(){const en={fn:0,args:[]};let dn={scaleFactor:1,fontSize:0,fontName:"",fontColor:new Uint8ClampedArray(3),fillColorSpace:_e.ColorSpace.singletons.gray},Qt=!1;const gn=[];try{for(;en.args.length=0,!(Qt||!this.read(en));){const{fn:nn,args:bn}=en;switch(nn|0){case Pt.OPS.save:gn.push({scaleFactor:dn.scaleFactor,fontSize:dn.fontSize,fontName:dn.fontName,fontColor:dn.fontColor.slice(),fillColorSpace:dn.fillColorSpace});break;case Pt.OPS.restore:dn=gn.pop()||dn;break;case Pt.OPS.setTextMatrix:dn.scaleFactor*=Math.hypot(bn[0],bn[1]);break;case Pt.OPS.setFont:const[Vt,Yt]=bn;Vt instanceof wt.Name&&(dn.fontName=Vt.name),typeof Yt=="number"&&Yt>0&&(dn.fontSize=Yt*dn.scaleFactor);break;case Pt.OPS.setFillColorSpace:dn.fillColorSpace=_e.ColorSpace.parse({cs:bn[0],xref:this.xref,resources:this.resources,pdfFunctionFactory:this._pdfFunctionFactory,localColorSpaceCache:this._localColorSpaceCache});break;case Pt.OPS.setFillColor:dn.fillColorSpace.getRgbItem(bn,0,dn.fontColor,0);break;case Pt.OPS.setFillRGBColor:_e.ColorSpace.singletons.rgb.getRgbItem(bn,0,dn.fontColor,0);break;case Pt.OPS.setFillGray:_e.ColorSpace.singletons.gray.getRgbItem(bn,0,dn.fontColor,0);break;case Pt.OPS.setFillCMYKColor:_e.ColorSpace.singletons.cmyk.getRgbItem(bn,0,dn.fontColor,0);break;case Pt.OPS.showText:case Pt.OPS.showSpacedText:case Pt.OPS.nextLineShowText:case Pt.OPS.nextLineSetSpacingShowText:Qt=!0;break}}}catch(nn){(0,Pt.warn)(`parseAppearanceStream - ignoring errors: "${nn}".`)}return this.stream.reset(),delete dn.scaleFactor,delete dn.fillColorSpace,dn}get _localColorSpaceCache(){return(0,Pt.shadow)(this,"_localColorSpaceCache",new Ft.LocalColorSpaceCache)}get _pdfFunctionFactory(){const en=new Xt.PDFFunctionFactory({xref:this.xref,isEvalSupported:this.evaluatorOptions.isEvalSupported});return(0,Pt.shadow)(this,"_pdfFunctionFactory",en)}}function jt(Gt,en,dn){return new Dt(Gt,en,dn).parse()}function Ct(Gt,en){if(Gt[0]===Gt[1]&&Gt[1]===Gt[2]){const dn=Gt[0]/255;return`${(0,_t.numberToString)(dn)} ${en?"g":"G"}`}return Array.from(Gt,dn=>(0,_t.numberToString)(dn/255)).join(" ")+` ${en?"rg":"RG"}`}function qt({fontSize:Gt,fontName:en,fontColor:dn}){return`/${(0,_t.escapePDFName)(en)} ${Gt} Tf ${Ct(dn,!0)}`}class Bt{constructor(en,dn){this.xref=en,this.widths=null,this.firstChar=1/0,this.lastChar=-1/0,this.fontFamily=dn;const Qt=new OffscreenCanvas(1,1);this.ctxMeasure=Qt.getContext("2d"),Bt._fontNameId||(Bt._fontNameId=1),this.fontName=wt.Name.get(`InvalidPDFjsFont_${dn}_${Bt._fontNameId++}`)}get toUnicodeRef(){if(!Bt._toUnicodeRef){const en=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo
<< /Registry (Adobe)
/Ordering (UCS) /Supplement 0 >> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000> <FFFF>
endcodespacerange
1 beginbfrange
<0000> <FFFF> <0000>
endbfrange
endcmap CMapName currentdict /CMap defineresource pop end end`,dn=Bt.toUnicodeStream=new Kt.StringStream(en),Qt=new wt.Dict(this.xref);dn.dict=Qt,Qt.set("Length",en.length),Bt._toUnicodeRef=this.xref.getNewPersistentRef(dn)}return Bt._toUnicodeRef}get fontDescriptorRef(){if(!Bt._fontDescriptorRef){const en=new wt.Dict(this.xref);en.set("Type",wt.Name.get("FontDescriptor")),en.set("FontName",this.fontName),en.set("FontFamily","MyriadPro Regular"),en.set("FontBBox",[0,0,0,0]),en.set("FontStretch",wt.Name.get("Normal")),en.set("FontWeight",400),en.set("ItalicAngle",0),Bt._fontDescriptorRef=this.xref.getNewPersistentRef(en)}return Bt._fontDescriptorRef}get descendantFontRef(){const en=new wt.Dict(this.xref);en.set("BaseFont",this.fontName),en.set("Type",wt.Name.get("Font")),en.set("Subtype",wt.Name.get("CIDFontType0")),en.set("CIDToGIDMap",wt.Name.get("Identity")),en.set("FirstChar",this.firstChar),en.set("LastChar",this.lastChar),en.set("FontDescriptor",this.fontDescriptorRef),en.set("DW",1e3);const dn=[],Qt=[...this.widths.entries()].sort();let gn=null,nn=null;for(const[Vt,Yt]of Qt){if(!gn){gn=Vt,nn=[Yt];continue}Vt===gn+nn.length?nn.push(Yt):(dn.push(gn,nn),gn=Vt,nn=[Yt])}gn&&dn.push(gn,nn),en.set("W",dn);const bn=new wt.Dict(this.xref);return bn.set("Ordering","Identity"),bn.set("Registry","Adobe"),bn.set("Supplement",0),en.set("CIDSystemInfo",bn),this.xref.getNewPersistentRef(en)}get baseFontRef(){const en=new wt.Dict(this.xref);return en.set("BaseFont",this.fontName),en.set("Type",wt.Name.get("Font")),en.set("Subtype",wt.Name.get("Type0")),en.set("Encoding",wt.Name.get("Identity-H")),en.set("DescendantFonts",[this.descendantFontRef]),en.set("ToUnicode",this.toUnicodeRef),this.xref.getNewPersistentRef(en)}get resources(){const en=new wt.Dict(this.xref),dn=new wt.Dict(this.xref);return dn.set(this.fontName.name,this.baseFontRef),en.set("Font",dn),en}_createContext(){return this.widths=new Map,this.ctxMeasure.font=`1000px ${this.fontFamily}`,this.ctxMeasure}createFontResources(en){const dn=this._createContext();for(const Qt of en.split(/\r\n?|\n/))for(const gn of Qt.split("")){const nn=gn.charCodeAt(0);if(this.widths.has(nn))continue;const bn=dn.measureText(gn),Vt=Math.ceil(bn.width);this.widths.set(nn,Vt),this.firstChar=Math.min(nn,this.firstChar),this.lastChar=Math.max(nn,this.lastChar)}return this.resources}createAppearance(en,dn,Qt,gn,nn,bn){const Vt=this._createContext(),Yt=[];let hn=-1/0;for(const mn of en.split(/\r\n?|\n/)){Yt.push(mn);const fn=Vt.measureText(mn).width;hn=Math.max(hn,fn);for(const Jt of mn.split("")){const un=Jt.charCodeAt(0);let pn=this.widths.get(un);if(pn===void 0){const wn=Vt.measureText(Jt);pn=Math.ceil(wn.width),this.widths.set(un,pn),this.firstChar=Math.min(un,this.firstChar),this.lastChar=Math.max(un,this.lastChar)}}}hn*=gn/1e3;const[Ut,Ot,zt,an]=dn;let Ht=zt-Ut,Wt=an-Ot;Qt%180!==0&&([Ht,Wt]=[Wt,Ht]);let tn=1;hn>Ht&&(tn=Ht/hn);let ln=1;const on=Pt.LINE_FACTOR*gn,cn=Pt.LINE_DESCENT_FACTOR*gn,sn=on*Yt.length;sn>Wt&&(ln=Wt/sn);const rn=Math.min(tn,ln),xn=gn*rn,vn=["q",`0 0 ${(0,_t.numberToString)(Ht)} ${(0,_t.numberToString)(Wt)} re W n`,"BT",`1 0 0 1 0 ${(0,_t.numberToString)(Wt+cn)} Tm 0 Tc ${Ct(nn,!0)}`,`/${this.fontName.name} ${(0,_t.numberToString)(xn)} Tf`],{resources:En}=this;if(bn=typeof bn=="number"&&bn>=0&&bn<=1?bn:1,bn!==1){vn.push("/R0 gs");const mn=new wt.Dict(this.xref),fn=new wt.Dict(this.xref);fn.set("ca",bn),fn.set("CA",bn),fn.set("Type",wt.Name.get("ExtGState")),mn.set("R0",fn),En.set("ExtGState",mn)}const Fn=(0,_t.numberToString)(on);for(const mn of Yt)vn.push(`0 -${Fn} Td <${(0,_t.stringToUTF16HexString)(mn)}> Tj`);vn.push("ET","Q");const Mn=vn.join(`
`),Tn=new wt.Dict(this.xref);if(Tn.set("Subtype",wt.Name.get("Form")),Tn.set("Type",wt.Name.get("XObject")),Tn.set("BBox",[0,0,Ht,Wt]),Tn.set("Length",Mn.length),Tn.set("Resources",En),Qt){const mn=(0,_t.getRotationMatrix)(Qt,Ht,Wt);Tn.set("Matrix",mn)}const Sn=new Kt.StringStream(Mn);return Sn.dict=Tn,Sn}}Et.FakeUnicodeFont=Bt},(kt,Et,Rt)=>{var Gt,G3,dn,q3,gn,nn,bn,Vt,Yt,hn,Ut,Ot,zt,V1,f5,p5,N2,G1,q1,g5,m5,x5,K3,En,$2,j2,Y3;Object.defineProperty(Et,"__esModule",{value:!0}),Et.ColorSpace=void 0;var wt=Rt(2),_t=Rt(4),Pt=Rt(5),_e=Rt(3);function bt(Sn,mn,fn,Jt,un,pn,wn){wn=wn!==1?0:wn;const Rn=fn/un,Cn=Jt/pn;let An=0,_n;const In=new Uint16Array(un),Pn=fn*3;for(let Dn=0;Dn<un;Dn++)In[Dn]=Math.floor(Dn*Rn)*3;for(let Dn=0;Dn<pn;Dn++){const Ln=Math.floor(Dn*Cn)*Pn;for(let Un=0;Un<un;Un++)_n=Ln+In[Un],mn[An++]=Sn[_n++],mn[An++]=Sn[_n++],mn[An++]=Sn[_n++],An+=wn}}class Ft{constructor(mn,fn){this.constructor===Ft&&(0,wt.unreachable)("Cannot initialize ColorSpace."),this.name=mn,this.numComps=fn}getRgb(mn,fn){const Jt=new Uint8ClampedArray(3);return this.getRgbItem(mn,fn,Jt,0),Jt}getRgbItem(mn,fn,Jt,un){(0,wt.unreachable)("Should not call ColorSpace.getRgbItem")}getRgbBuffer(mn,fn,Jt,un,pn,wn,kn){(0,wt.unreachable)("Should not call ColorSpace.getRgbBuffer")}getOutputLength(mn,fn){(0,wt.unreachable)("Should not call ColorSpace.getOutputLength")}isPassthrough(mn){return!1}isDefaultDecode(mn,fn){return Ft.isDefaultDecode(mn,this.numComps)}fillRgb(mn,fn,Jt,un,pn,wn,kn,Rn,Cn){const An=fn*Jt;let _n=null;const In=1<<kn,Pn=Jt!==pn||fn!==un;if(this.isPassthrough(kn))_n=Rn;else if(this.numComps===1&&An>In&&this.name!=="DeviceGray"&&this.name!=="DeviceRGB"){const Dn=kn<=8?new Uint8Array(In):new Uint16Array(In);for(let Un=0;Un<In;Un++)Dn[Un]=Un;const Ln=new Uint8ClampedArray(In*3);if(this.getRgbBuffer(Dn,0,In,Ln,0,kn,0),Pn){_n=new Uint8Array(An*3);let Un=0;for(let tr=0;tr<An;++tr){const er=Rn[tr]*3;_n[Un++]=Ln[er],_n[Un++]=Ln[er+1],_n[Un++]=Ln[er+2]}}else{let Un=0;for(let tr=0;tr<An;++tr){const er=Rn[tr]*3;mn[Un++]=Ln[er],mn[Un++]=Ln[er+1],mn[Un++]=Ln[er+2],Un+=Cn}}}else Pn?(_n=new Uint8ClampedArray(An*3),this.getRgbBuffer(Rn,0,An,_n,0,kn,0)):this.getRgbBuffer(Rn,0,un*wn,mn,0,kn,Cn);if(_n)if(Pn)bt(_n,mn,fn,Jt,un,pn,Cn);else{let Dn=0,Ln=0;for(let Un=0,tr=un*wn;Un<tr;Un++)mn[Dn++]=_n[Ln++],mn[Dn++]=_n[Ln++],mn[Dn++]=_n[Ln++],Dn+=Cn}}get usesZeroToOneRange(){return(0,wt.shadow)(this,"usesZeroToOneRange",!0)}static _cache(mn,fn,Jt,un){if(!Jt)throw new Error('ColorSpace._cache - expected "localColorSpaceCache" argument.');if(!un)throw new Error('ColorSpace._cache - expected "parsedColorSpace" argument.');let pn,wn;mn instanceof _t.Ref&&(wn=mn,mn=fn.fetch(mn)),mn instanceof _t.Name&&(pn=mn.name),(pn||wn)&&Jt.set(pn,wn,un)}static getCached(mn,fn,Jt){if(!Jt)throw new Error('ColorSpace.getCached - expected "localColorSpaceCache" argument.');if(mn instanceof _t.Ref){const un=Jt.getByRef(mn);if(un)return un;try{mn=fn.fetch(mn)}catch(pn){if(pn instanceof _e.MissingDataException)throw pn}}if(mn instanceof _t.Name){const un=Jt.getByName(mn.name);if(un)return un}return null}static async parseAsync({cs:mn,xref:fn,resources:Jt=null,pdfFunctionFactory:un,localColorSpaceCache:pn}){const wn=this._parse(mn,fn,Jt,un);return this._cache(mn,fn,pn,wn),wn}static parse({cs:mn,xref:fn,resources:Jt=null,pdfFunctionFactory:un,localColorSpaceCache:pn}){const wn=this.getCached(mn,fn,pn);if(wn)return wn;const kn=this._parse(mn,fn,Jt,un);return this._cache(mn,fn,pn,kn),kn}static _parse(mn,fn,Jt=null,un){if(mn=fn.fetchIfRef(mn),mn instanceof _t.Name)switch(mn.name){case"G":case"DeviceGray":return this.singletons.gray;case"RGB":case"DeviceRGB":return this.singletons.rgb;case"CMYK":case"DeviceCMYK":return this.singletons.cmyk;case"Pattern":return new Kt(null);default:if(Jt instanceof _t.Dict){const pn=Jt.get("ColorSpace");if(pn instanceof _t.Dict){const wn=pn.get(mn.name);if(wn){if(wn instanceof _t.Name)return this._parse(wn,fn,Jt,un);mn=wn;break}}}throw new wt.FormatError(`Unrecognized ColorSpace: ${mn.name}`)}if(Array.isArray(mn)){const pn=fn.fetchIfRef(mn[0]).name;let wn,kn,Rn,Cn,An,_n;switch(pn){case"G":case"DeviceGray":return this.singletons.gray;case"RGB":case"DeviceRGB":return this.singletons.rgb;case"CMYK":case"DeviceCMYK":return this.singletons.cmyk;case"CalGray":return wn=fn.fetchIfRef(mn[1]),Cn=wn.getArray("WhitePoint"),An=wn.getArray("BlackPoint"),_n=wn.get("Gamma"),new Ct(Cn,An,_n);case"CalRGB":wn=fn.fetchIfRef(mn[1]),Cn=wn.getArray("WhitePoint"),An=wn.getArray("BlackPoint"),_n=wn.getArray("Gamma");const In=wn.getArray("Matrix");return new qt(Cn,An,_n,In);case"ICCBased":const Dn=fn.fetchIfRef(mn[1]).dict;kn=Dn.get("N");const Ln=Dn.get("Alternate");if(Ln){const Xn=this._parse(Ln,fn,Jt,un);if(Xn.numComps===kn)return Xn;(0,wt.warn)("ICCBased color space: Ignoring incorrect /Alternate entry.")}if(kn===1)return this.singletons.gray;if(kn===3)return this.singletons.rgb;if(kn===4)return this.singletons.cmyk;break;case"Pattern":return Rn=mn[1]||null,Rn&&(Rn=this._parse(Rn,fn,Jt,un)),new Kt(Rn);case"I":case"Indexed":Rn=this._parse(mn[1],fn,Jt,un);const Un=fn.fetchIfRef(mn[2])+1,tr=fn.fetchIfRef(mn[3]);return new Nt(Rn,Un,tr);case"Separation":case"DeviceN":const er=fn.fetchIfRef(mn[1]);kn=Array.isArray(er)?er.length:1,Rn=this._parse(mn[2],fn,Jt,un);const Qn=un.create(mn[3]);return new Xt(kn,Rn,Qn);case"Lab":wn=fn.fetchIfRef(mn[1]),Cn=wn.getArray("WhitePoint"),An=wn.getArray("BlackPoint");const Yn=wn.getArray("Range");return new Bt(Cn,An,Yn);default:throw new wt.FormatError(`Unimplemented ColorSpace object: ${pn}`)}}throw new wt.FormatError(`Unrecognized ColorSpace object: ${mn}`)}static isDefaultDecode(mn,fn){if(!Array.isArray(mn))return!0;if(fn*2!==mn.length)return(0,wt.warn)("The decode map is not the correct length"),!0;for(let Jt=0,un=mn.length;Jt<un;Jt+=2)if(mn[Jt]!==0||mn[Jt+1]!==1)return!1;return!0}static get singletons(){return(0,wt.shadow)(this,"singletons",{get gray(){return(0,wt.shadow)(this,"gray",new $t)},get rgb(){return(0,wt.shadow)(this,"rgb",new Dt)},get cmyk(){return(0,wt.shadow)(this,"cmyk",new jt)}})}}Et.ColorSpace=Ft;class Xt extends Ft{constructor(mn,fn,Jt){super("Alternate",mn),this.base=fn,this.tintFn=Jt,this.tmpBuf=new Float32Array(fn.numComps)}getRgbItem(mn,fn,Jt,un){const pn=this.tmpBuf;this.tintFn(mn,fn,pn,0),this.base.getRgbItem(pn,0,Jt,un)}getRgbBuffer(mn,fn,Jt,un,pn,wn,kn){const Rn=this.tintFn,Cn=this.base,An=1/((1<<wn)-1),_n=Cn.numComps,In=Cn.usesZeroToOneRange,Pn=(Cn.isPassthrough(8)||!In)&&kn===0;let Dn=Pn?pn:0;const Ln=Pn?un:new Uint8ClampedArray(_n*Jt),Un=this.numComps,tr=new Float32Array(Un),er=new Float32Array(_n);let Qn,Yn;for(Qn=0;Qn<Jt;Qn++){for(Yn=0;Yn<Un;Yn++)tr[Yn]=mn[fn++]*An;if(Rn(tr,0,er,0),In)for(Yn=0;Yn<_n;Yn++)Ln[Dn++]=er[Yn]*255;else Cn.getRgbItem(er,0,Ln,Dn),Dn+=_n}Pn||Cn.getRgbBuffer(Ln,0,Jt,un,pn,8,kn)}getOutputLength(mn,fn){return this.base.getOutputLength(mn*this.base.numComps/this.numComps,fn)}}class Kt extends Ft{constructor(mn){super("Pattern",null),this.base=mn}isDefaultDecode(mn,fn){(0,wt.unreachable)("Should not call PatternCS.isDefaultDecode")}}class Nt extends Ft{constructor(mn,fn,Jt){super("Indexed",1),this.base=mn,this.highVal=fn;const un=mn.numComps*fn;if(this.lookup=new Uint8Array(un),Jt instanceof Pt.BaseStream){const pn=Jt.getBytes(un);this.lookup.set(pn)}else if(typeof Jt=="string")for(let pn=0;pn<un;++pn)this.lookup[pn]=Jt.charCodeAt(pn)&255;else throw new wt.FormatError(`IndexedCS - unrecognized lookup table: ${Jt}`)}getRgbItem(mn,fn,Jt,un){const pn=this.base.numComps,wn=mn[fn]*pn;this.base.getRgbBuffer(this.lookup,wn,1,Jt,un,8,0)}getRgbBuffer(mn,fn,Jt,un,pn,wn,kn){const Rn=this.base,Cn=Rn.numComps,An=Rn.getOutputLength(Cn,kn),_n=this.lookup;for(let In=0;In<Jt;++In){const Pn=mn[fn++]*Cn;Rn.getRgbBuffer(_n,Pn,1,un,pn,8,kn),pn+=An}}getOutputLength(mn,fn){return this.base.getOutputLength(mn*this.base.numComps,fn)}isDefaultDecode(mn,fn){return Array.isArray(mn)?mn.length!==2?((0,wt.warn)("Decode map length is not correct"),!0):!Number.isInteger(fn)||fn<1?((0,wt.warn)("Bits per component is not correct"),!0):mn[0]===0&&mn[1]===(1<<fn)-1:!0}}class $t extends Ft{constructor(){super("DeviceGray",1)}getRgbItem(mn,fn,Jt,un){const pn=mn[fn]*255;Jt[un]=Jt[un+1]=Jt[un+2]=pn}getRgbBuffer(mn,fn,Jt,un,pn,wn,kn){const Rn=255/((1<<wn)-1);let Cn=fn,An=pn;for(let _n=0;_n<Jt;++_n){const In=Rn*mn[Cn++];un[An++]=In,un[An++]=In,un[An++]=In,An+=kn}}getOutputLength(mn,fn){return mn*(3+fn)}}class Dt extends Ft{constructor(){super("DeviceRGB",3)}getRgbItem(mn,fn,Jt,un){Jt[un]=mn[fn]*255,Jt[un+1]=mn[fn+1]*255,Jt[un+2]=mn[fn+2]*255}getRgbBuffer(mn,fn,Jt,un,pn,wn,kn){if(wn===8&&kn===0){un.set(mn.subarray(fn,fn+Jt*3),pn);return}const Rn=255/((1<<wn)-1);let Cn=fn,An=pn;for(let _n=0;_n<Jt;++_n)un[An++]=Rn*mn[Cn++],un[An++]=Rn*mn[Cn++],un[An++]=Rn*mn[Cn++],An+=kn}getOutputLength(mn,fn){return mn*(3+fn)/3|0}isPassthrough(mn){return mn===8}}class jt extends Ft{constructor(){super("DeviceCMYK",4);Nn(this,Gt)}getRgbItem(fn,Jt,un,pn){On(this,Gt,G3).call(this,fn,Jt,1,un,pn)}getRgbBuffer(fn,Jt,un,pn,wn,kn,Rn){const Cn=1/((1<<kn)-1);for(let An=0;An<un;An++)On(this,Gt,G3).call(this,fn,Jt,Cn,pn,wn),Jt+=4,wn+=3+Rn}getOutputLength(fn,Jt){return fn/4*(3+Jt)|0}}Gt=new WeakSet,G3=function(fn,Jt,un,pn,wn){const kn=fn[Jt]*un,Rn=fn[Jt+1]*un,Cn=fn[Jt+2]*un,An=fn[Jt+3]*un;pn[wn]=255+kn*(-4.387332384609988*kn+54.48615194189176*Rn+18.82290502165302*Cn+212.25662451639585*An+-285.2331026137004)+Rn*(1.7149763477362134*Rn-5.6096736904047315*Cn+-17.873870861415444*An-5.497006427196366)+Cn*(-2.5217340131683033*Cn-21.248923337353073*An+17.5119270841813)+An*(-21.86122147463605*An-189.48180835922747),pn[wn+1]=255+kn*(8.841041422036149*kn+60.118027045597366*Rn+6.871425592049007*Cn+31.159100130055922*An+-79.2970844816548)+Rn*(-15.310361306967817*Rn+17.575251261109482*Cn+131.35250912493976*An-190.9453302588951)+Cn*(4.444339102852739*Cn+9.8632861493405*An-24.86741582555878)+An*(-20.737325471181034*An-187.80453709719578),pn[wn+2]=255+kn*(.8842522430003296*kn+8.078677503112928*Rn+30.89978309703729*Cn-.23883238689178934*An+-14.183576799673286)+Rn*(10.49593273432072*Rn+63.02378494754052*Cn+50.606957656360734*An-112.23884253719248)+Cn*(.03296041114873217*Cn+115.60384449646641*An+-193.58209356861505)+An*(-22.33816807309886*An-180.12613974708367)};class Ct extends Ft{constructor(fn,Jt,un){super("CalGray",1);Nn(this,dn);if(!fn)throw new wt.FormatError("WhitePoint missing - required for color space CalGray");if([this.XW,this.YW,this.ZW]=fn,[this.XB,this.YB,this.ZB]=Jt||[0,0,0],this.G=un||1,this.XW<0||this.ZW<0||this.YW!==1)throw new wt.FormatError(`Invalid WhitePoint components for ${this.name}, no fallback available`);(this.XB<0||this.YB<0||this.ZB<0)&&((0,wt.info)(`Invalid BlackPoint for ${this.name}, falling back to default.`),this.XB=this.YB=this.ZB=0),(this.XB!==0||this.YB!==0||this.ZB!==0)&&(0,wt.warn)(`${this.name}, BlackPoint: XB: ${this.XB}, YB: ${this.YB}, ZB: ${this.ZB}, only default values are supported.`),this.G<1&&((0,wt.info)(`Invalid Gamma: ${this.G} for ${this.name}, falling back to default.`),this.G=1)}getRgbItem(fn,Jt,un,pn){On(this,dn,q3).call(this,fn,Jt,un,pn,1)}getRgbBuffer(fn,Jt,un,pn,wn,kn,Rn){const Cn=1/((1<<kn)-1);for(let An=0;An<un;++An)On(this,dn,q3).call(this,fn,Jt,pn,wn,Cn),Jt+=1,wn+=3+Rn}getOutputLength(fn,Jt){return fn*(3+Jt)}}dn=new WeakSet,q3=function(fn,Jt,un,pn,wn){const Rn=(fn[Jt]*wn)**this.G,Cn=this.YW*Rn,An=Math.max(295.8*Cn**.3333333333333333-40.8,0);un[pn]=An,un[pn+1]=An,un[pn+2]=An};const vn=class vn extends Ft{constructor(fn,Jt,un,pn){super("CalRGB",3);Nn(this,zt);if(!fn)throw new wt.FormatError("WhitePoint missing - required for color space CalRGB");const[wn,kn,Rn]=this.whitePoint=fn,[Cn,An,_n]=this.blackPoint=Jt||new Float32Array(3);if([this.GR,this.GG,this.GB]=un||new Float32Array([1,1,1]),[this.MXA,this.MYA,this.MZA,this.MXB,this.MYB,this.MZB,this.MXC,this.MYC,this.MZC]=pn||new Float32Array([1,0,0,0,1,0,0,0,1]),wn<0||Rn<0||kn!==1)throw new wt.FormatError(`Invalid WhitePoint components for ${this.name}, no fallback available`);(Cn<0||An<0||_n<0)&&((0,wt.info)(`Invalid BlackPoint for ${this.name} [${Cn}, ${An}, ${_n}], falling back to default.`),this.blackPoint=new Float32Array(3)),(this.GR<0||this.GG<0||this.GB<0)&&((0,wt.info)(`Invalid Gamma [${this.GR}, ${this.GG}, ${this.GB}] for ${this.name}, falling back to default.`),this.GR=this.GG=this.GB=1)}getRgbItem(fn,Jt,un,pn){On(this,zt,K3).call(this,fn,Jt,un,pn,1)}getRgbBuffer(fn,Jt,un,pn,wn,kn,Rn){const Cn=1/((1<<kn)-1);for(let An=0;An<un;++An)On(this,zt,K3).call(this,fn,Jt,pn,wn,Cn),Jt+=3,wn+=3+Rn}getOutputLength(fn,Jt){return fn*(3+Jt)/3|0}};gn=new WeakMap,nn=new WeakMap,bn=new WeakMap,Vt=new WeakMap,Yt=new WeakMap,hn=new WeakMap,Ut=new WeakMap,Ot=new WeakMap,zt=new WeakSet,V1=function(fn,Jt,un){un[0]=fn[0]*Jt[0]+fn[1]*Jt[1]+fn[2]*Jt[2],un[1]=fn[3]*Jt[0]+fn[4]*Jt[1]+fn[5]*Jt[2],un[2]=fn[6]*Jt[0]+fn[7]*Jt[1]+fn[8]*Jt[2]},f5=function(fn,Jt,un){un[0]=Jt[0]*1/fn[0],un[1]=Jt[1]*1/fn[1],un[2]=Jt[2]*1/fn[2]},p5=function(fn,Jt,un){un[0]=Jt[0]*.95047/fn[0],un[1]=Jt[1]*1/fn[1],un[2]=Jt[2]*1.08883/fn[2]},N2=function(fn){return fn<=.0031308?On(this,zt,G1).call(this,0,1,12.92*fn):fn>=.99554525?1:On(this,zt,G1).call(this,0,1,1.055*fn**.4166666666666667-.055)},G1=function(fn,Jt,un){return Math.max(fn,Math.min(Jt,un))},q1=function(fn){return fn<0?-On(this,zt,q1).call(this,-fn):fn>8?((fn+16)/116)**3:fn*Mt(vn,Ot)},g5=function(fn,Jt,un){if(fn[0]===0&&fn[1]===0&&fn[2]===0){un[0]=Jt[0],un[1]=Jt[1],un[2]=Jt[2];return}const pn=On(this,zt,q1).call(this,0),wn=pn,kn=On(this,zt,q1).call(this,fn[0]),Rn=pn,Cn=On(this,zt,q1).call(this,fn[1]),An=pn,_n=On(this,zt,q1).call(this,fn[2]),In=(1-wn)/(1-kn),Pn=1-In,Dn=(1-Rn)/(1-Cn),Ln=1-Dn,Un=(1-An)/(1-_n),tr=1-Un;un[0]=Jt[0]*In+Pn,un[1]=Jt[1]*Dn+Ln,un[2]=Jt[2]*Un+tr},m5=function(fn,Jt,un){if(fn[0]===1&&fn[2]===1){un[0]=Jt[0],un[1]=Jt[1],un[2]=Jt[2];return}const pn=un;On(this,zt,V1).call(this,Mt(vn,gn),Jt,pn);const wn=Mt(vn,Yt);On(this,zt,f5).call(this,fn,pn,wn),On(this,zt,V1).call(this,Mt(vn,nn),wn,un)},x5=function(fn,Jt,un){const pn=un;On(this,zt,V1).call(this,Mt(vn,gn),Jt,pn);const wn=Mt(vn,Yt);On(this,zt,p5).call(this,fn,pn,wn),On(this,zt,V1).call(this,Mt(vn,nn),wn,un)},K3=function(fn,Jt,un,pn,wn){const kn=On(this,zt,G1).call(this,0,1,fn[Jt]*wn),Rn=On(this,zt,G1).call(this,0,1,fn[Jt+1]*wn),Cn=On(this,zt,G1).call(this,0,1,fn[Jt+2]*wn),An=kn===1?1:kn**this.GR,_n=Rn===1?1:Rn**this.GG,In=Cn===1?1:Cn**this.GB,Pn=this.MXA*An+this.MXB*_n+this.MXC*In,Dn=this.MYA*An+this.MYB*_n+this.MYC*In,Ln=this.MZA*An+this.MZB*_n+this.MZC*In,Un=Mt(vn,hn);Un[0]=Pn,Un[1]=Dn,Un[2]=Ln;const tr=Mt(vn,Ut);On(this,zt,m5).call(this,this.whitePoint,Un,tr);const er=Mt(vn,hn);On(this,zt,g5).call(this,this.blackPoint,tr,er);const Qn=Mt(vn,Ut);On(this,zt,x5).call(this,Mt(vn,Vt),er,Qn);const Yn=Mt(vn,hn);On(this,zt,V1).call(this,Mt(vn,bn),Qn,Yn),un[pn]=On(this,zt,N2).call(this,Yn[0])*255,un[pn+1]=On(this,zt,N2).call(this,Yn[1])*255,un[pn+2]=On(this,zt,N2).call(this,Yn[2])*255},Nn(vn,gn,new Float32Array([.8951,.2664,-.1614,-.7502,1.7135,.0367,.0389,-.0685,1.0296])),Nn(vn,nn,new Float32Array([.9869929,-.1470543,.1599627,.4323053,.5183603,.0492912,-.0085287,.0400428,.9684867])),Nn(vn,bn,new Float32Array([3.2404542,-1.5371385,-.4985314,-.969266,1.8760108,.041556,.0556434,-.2040259,1.0572252])),Nn(vn,Vt,new Float32Array([1,1,1])),Nn(vn,Yt,new Float32Array(3)),Nn(vn,hn,new Float32Array(3)),Nn(vn,Ut,new Float32Array(3)),Nn(vn,Ot,.0011070564598794539);let qt=vn;class Bt extends Ft{constructor(fn,Jt,un){super("Lab",3);Nn(this,En);if(!fn)throw new wt.FormatError("WhitePoint missing - required for color space Lab");if([this.XW,this.YW,this.ZW]=fn,[this.amin,this.amax,this.bmin,this.bmax]=un||[-100,100,-100,100],[this.XB,this.YB,this.ZB]=Jt||[0,0,0],this.XW<0||this.ZW<0||this.YW!==1)throw new wt.FormatError("Invalid WhitePoint components, no fallback available");(this.XB<0||this.YB<0||this.ZB<0)&&((0,wt.info)("Invalid BlackPoint, falling back to default"),this.XB=this.YB=this.ZB=0),(this.amin>this.amax||this.bmin>this.bmax)&&((0,wt.info)("Invalid Range, falling back to defaults"),this.amin=-100,this.amax=100,this.bmin=-100,this.bmax=100)}getRgbItem(fn,Jt,un,pn){On(this,En,Y3).call(this,fn,Jt,!1,un,pn)}getRgbBuffer(fn,Jt,un,pn,wn,kn,Rn){const Cn=(1<<kn)-1;for(let An=0;An<un;An++)On(this,En,Y3).call(this,fn,Jt,Cn,pn,wn),Jt+=3,wn+=3+Rn}getOutputLength(fn,Jt){return fn*(3+Jt)/3|0}isDefaultDecode(fn,Jt){return!0}get usesZeroToOneRange(){return(0,wt.shadow)(this,"usesZeroToOneRange",!1)}}En=new WeakSet,$2=function(fn){return fn>=.20689655172413793?fn**3:.12841854934601665*(fn-.13793103448275862)},j2=function(fn,Jt,un,pn){return un+fn*(pn-un)/Jt},Y3=function(fn,Jt,un,pn,wn){let kn=fn[Jt],Rn=fn[Jt+1],Cn=fn[Jt+2];un!==!1&&(kn=On(this,En,j2).call(this,kn,un,0,100),Rn=On(this,En,j2).call(this,Rn,un,this.amin,this.amax),Cn=On(this,En,j2).call(this,Cn,un,this.bmin,this.bmax)),Rn>this.amax?Rn=this.amax:Rn<this.amin&&(Rn=this.amin),Cn>this.bmax?Cn=this.bmax:Cn<this.bmin&&(Cn=this.bmin);const An=(kn+16)/116,_n=An+Rn/500,In=An-Cn/200,Pn=this.XW*On(this,En,$2).call(this,_n),Dn=this.YW*On(this,En,$2).call(this,An),Ln=this.ZW*On(this,En,$2).call(this,In);let Un,tr,er;this.ZW<1?(Un=Pn*3.1339+Dn*-1.617+Ln*-.4906,tr=Pn*-.9785+Dn*1.916+Ln*.0333,er=Pn*.072+Dn*-.229+Ln*1.4057):(Un=Pn*3.2406+Dn*-1.5372+Ln*-.4986,tr=Pn*-.9689+Dn*1.8758+Ln*.0415,er=Pn*.0557+Dn*-.204+Ln*1.057),pn[wn]=Math.sqrt(Un)*255,pn[wn+1]=Math.sqrt(tr)*255,pn[wn+2]=Math.sqrt(er)*255}},(kt,Et,Rt)=>{Object.defineProperty(Et,"__esModule",{value:!0}),Et.PartialEvaluator=Et.EvaluatorPreprocessor=void 0;var wt=Rt(2),_t=Rt(14),Pt=Rt(4),_e=Rt(34),bt=Rt(37),Ft=Rt(41),Xt=Rt(50),Kt=Rt(51),Nt=Rt(42),$t=Rt(57),Dt=Rt(16),jt=Rt(59),Ct=Rt(8),qt=Rt(5),Bt=Rt(60),Gt=Rt(12),en=Rt(18),dn=Rt(38),Qt=Rt(61),gn=Rt(39),nn=Rt(45),bn=Rt(40),Vt=Rt(62),Yt=Rt(63),hn=Rt(64),Ut=Rt(65);const Ot=Object.freeze({maxImageSize:-1,disableFontFace:!1,ignoreErrors:!1,isEvalSupported:!0,isOffscreenCanvasSupported:!1,canvasMaxAreaInBytes:-1,fontExtraProperties:!1,useSystemFonts:!0,cMapUrl:null,standardFontDataUrl:null}),zt={TILING:1,SHADING:2},an=10,Ht=Promise.resolve();function Wt(Mn,Tn=!1){if(Array.isArray(Mn)){for(const Sn of Mn){const mn=Wt(Sn,!0);if(mn)return mn}return(0,wt.warn)(`Unsupported blend mode Array: ${Mn}`),"source-over"}if(!(Mn instanceof Pt.Name))return Tn?null:"source-over";switch(Mn.name){case"Normal":case"Compatible":return"source-over";case"Multiply":return"multiply";case"Screen":return"screen";case"Overlay":return"overlay";case"Darken":return"darken";case"Lighten":return"lighten";case"ColorDodge":return"color-dodge";case"ColorBurn":return"color-burn";case"HardLight":return"hard-light";case"SoftLight":return"soft-light";case"Difference":return"difference";case"Exclusion":return"exclusion";case"Hue":return"hue";case"Saturation":return"saturation";case"Color":return"color";case"Luminosity":return"luminosity"}return Tn?null:((0,wt.warn)(`Unsupported blend mode: ${Mn.name}`),"source-over")}function tn(Mn){var Tn;Mn.fn===wt.OPS.paintImageMaskXObject&&((Tn=Mn.args[0])==null?void 0:Tn.count)>0&&Mn.args[0].count++}const En=class En{constructor(){this.reset()}check(){return++this.checked<En.CHECK_TIME_EVERY?!1:(this.checked=0,this.endTime<=Date.now())}reset(){this.endTime=Date.now()+En.TIME_SLOT_DURATION_MS,this.checked=0}};Ur(En,"TIME_SLOT_DURATION_MS",20),Ur(En,"CHECK_TIME_EVERY",100);let ln=En;class on{constructor({xref:Tn,handler:Sn,pageIndex:mn,idFactory:fn,fontCache:Jt,builtInCMapCache:un,standardFontDataCache:pn,globalImageCache:wn,systemFontCache:kn,options:Rn=null}){this.xref=Tn,this.handler=Sn,this.pageIndex=mn,this.idFactory=fn,this.fontCache=Jt,this.builtInCMapCache=un,this.standardFontDataCache=pn,this.globalImageCache=wn,this.systemFontCache=kn,this.options=Rn||Ot,this.parsingType3Font=!1,this._regionalImageCache=new jt.RegionalImageCache,this._fetchBuiltInCMapBound=this.fetchBuiltInCMap.bind(this),Vt.ImageResizer.setMaxArea(this.options.canvasMaxAreaInBytes)}get _pdfFunctionFactory(){const Tn=new $t.PDFFunctionFactory({xref:this.xref,isEvalSupported:this.options.isEvalSupported});return(0,wt.shadow)(this,"_pdfFunctionFactory",Tn)}clone(Tn=null){const Sn=Object.create(this);return Sn.options=Object.assign(Object.create(null),this.options,Tn),Sn}hasBlendModes(Tn,Sn){if(!(Tn instanceof Pt.Dict)||Tn.objId&&Sn.has(Tn.objId))return!1;const mn=new Pt.RefSet(Sn);Tn.objId&&mn.put(Tn.objId);const fn=[Tn],Jt=this.xref;for(;fn.length;){const un=fn.shift(),pn=un.get("ExtGState");if(pn instanceof Pt.Dict)for(let kn of pn.getRawValues()){if(kn instanceof Pt.Ref){if(mn.has(kn))continue;try{kn=Jt.fetch(kn)}catch(Cn){mn.put(kn),(0,wt.info)(`hasBlendModes - ignoring ExtGState: "${Cn}".`);continue}}if(!(kn instanceof Pt.Dict))continue;kn.objId&&mn.put(kn.objId);const Rn=kn.get("BM");if(Rn instanceof Pt.Name){if(Rn.name!=="Normal")return!0;continue}if(Rn!==void 0&&Array.isArray(Rn)){for(const Cn of Rn)if(Cn instanceof Pt.Name&&Cn.name!=="Normal")return!0}}const wn=un.get("XObject");if(wn instanceof Pt.Dict)for(let kn of wn.getRawValues()){if(kn instanceof Pt.Ref){if(mn.has(kn))continue;try{kn=Jt.fetch(kn)}catch(Cn){mn.put(kn),(0,wt.info)(`hasBlendModes - ignoring XObject: "${Cn}".`);continue}}if(!(kn instanceof qt.BaseStream))continue;kn.dict.objId&&mn.put(kn.dict.objId);const Rn=kn.dict.get("Resources");Rn instanceof Pt.Dict&&(Rn.objId&&mn.has(Rn.objId)||(fn.push(Rn),Rn.objId&&mn.put(Rn.objId)))}}for(const un of mn)Sn.put(un);return!1}async fetchBuiltInCMap(Tn){const Sn=this.builtInCMapCache.get(Tn);if(Sn)return Sn;let mn;if(this.options.cMapUrl!==null){const fn=`${this.options.cMapUrl}${Tn}.bcmap`,Jt=await fetch(fn);if(!Jt.ok)throw new Error(`fetchBuiltInCMap: failed to fetch file "${fn}" with "${Jt.statusText}".`);mn={cMapData:new Uint8Array(await Jt.arrayBuffer()),compressionType:wt.CMapCompressionType.BINARY}}else mn=await this.handler.sendWithPromise("FetchBuiltInCMap",{name:Tn});return mn.compressionType!==wt.CMapCompressionType.NONE&&this.builtInCMapCache.set(Tn,mn),mn}async fetchStandardFontData(Tn){const Sn=this.standardFontDataCache.get(Tn);if(Sn)return new Ct.Stream(Sn);if(this.options.useSystemFonts&&Tn!=="Symbol"&&Tn!=="ZapfDingbats")return null;const mn=(0,Ft.getFontNameToFileMap)(),fn=mn[Tn];let Jt;if(this.options.standardFontDataUrl!==null){const un=`${this.options.standardFontDataUrl}${fn}`,pn=await fetch(un);pn.ok?Jt=await pn.arrayBuffer():(0,wt.warn)(`fetchStandardFontData: failed to fetch file "${un}" with "${pn.statusText}".`)}else try{Jt=await this.handler.sendWithPromise("FetchStandardFontData",{filename:fn})}catch(un){(0,wt.warn)(`fetchStandardFontData: failed to fetch file "${fn}" with "${un}".`)}return Jt?(this.standardFontDataCache.set(Tn,Jt),new Ct.Stream(Jt)):null}async buildFormXObject(Tn,Sn,mn,fn,Jt,un,pn){const wn=Sn.dict,kn=wn.getArray("Matrix");let Rn=wn.getArray("BBox");Rn=Array.isArray(Rn)&&Rn.length===4?wt.Util.normalizeRect(Rn):null;let Cn,An;wn.has("OC")&&(Cn=await this.parseMarkedContentProps(wn.get("OC"),Tn)),Cn!==void 0&&fn.addOp(wt.OPS.beginMarkedContentProps,["OC",Cn]);const _n=wn.get("Group");if(_n){An={matrix:kn,bbox:Rn,smask:mn,isolated:!1,knockout:!1};const Pn=_n.get("S");let Dn=null;if((0,Pt.isName)(Pn,"Transparency")&&(An.isolated=_n.get("I")||!1,An.knockout=_n.get("K")||!1,_n.has("CS"))){const Ln=_n.getRaw("CS"),Un=Gt.ColorSpace.getCached(Ln,this.xref,pn);Un?Dn=Un:Dn=await this.parseColorSpace({cs:Ln,resources:Tn,localColorSpaceCache:pn})}mn!=null&&mn.backdrop&&(Dn||(Dn=Gt.ColorSpace.singletons.rgb),mn.backdrop=Dn.getRgb(mn.backdrop,0)),fn.addOp(wt.OPS.beginGroup,[An])}const In=_n?[kn,null]:[kn,Rn];return fn.addOp(wt.OPS.paintFormXObjectBegin,In),this.getOperatorList({stream:Sn,task:Jt,resources:wn.get("Resources")||Tn,operatorList:fn,initialState:un}).then(function(){fn.addOp(wt.OPS.paintFormXObjectEnd,[]),_n&&fn.addOp(wt.OPS.endGroup,[An]),Cn!==void 0&&fn.addOp(wt.OPS.endMarkedContent,[])})}_sendImgData(Tn,Sn,mn=!1){const fn=Sn?[Sn.bitmap||Sn.data.buffer]:null;return this.parsingType3Font||mn?this.handler.send("commonobj",[Tn,"Image",Sn],fn):this.handler.send("obj",[Tn,this.pageIndex,"Image",Sn],fn)}async buildPaintImageXObject({resources:Tn,image:Sn,isInline:mn=!1,operatorList:fn,cacheKey:Jt,localImageCache:un,localColorSpaceCache:pn}){const wn=Sn.dict,kn=wn.objId,Rn=wn.get("W","Width"),Cn=wn.get("H","Height");if(!(Rn&&typeof Rn=="number")||!(Cn&&typeof Cn=="number")){(0,wt.warn)("Image dimensions are missing, or not numbers.");return}const An=this.options.maxImageSize;if(An!==-1&&Rn*Cn>An){const er="Image exceeded maximum allowed size and was removed.";if(this.options.ignoreErrors){(0,wt.warn)(er);return}throw new Error(er)}let _n;wn.has("OC")&&(_n=await this.parseMarkedContentProps(wn.get("OC"),Tn));const In=wn.get("IM","ImageMask")||!1;let Pn,Dn;if(In){const er=wn.get("I","Interpolate"),Qn=Rn+7>>3,Yn=Sn.getBytes(Qn*Cn),Xn=wn.getArray("D","Decode");if(this.parsingType3Font){if(Pn=Ut.PDFImage.createRawMask({imgArray:Yn,width:Rn,height:Cn,imageIsFromDecodeStream:Sn instanceof en.DecodeStream,inverseDecode:(Xn==null?void 0:Xn[0])>0,interpolate:er}),Pn.cached=!!Jt,Dn=[Pn],fn.addImageOps(wt.OPS.paintImageMaskXObject,Dn,_n),Jt){const lr={fn:wt.OPS.paintImageMaskXObject,args:Dn,optionalContent:_n};un.set(Jt,kn,lr),kn&&this._regionalImageCache.set(null,kn,lr)}return}if(Pn=await Ut.PDFImage.createMask({imgArray:Yn,width:Rn,height:Cn,imageIsFromDecodeStream:Sn instanceof en.DecodeStream,inverseDecode:(Xn==null?void 0:Xn[0])>0,interpolate:er,isOffscreenCanvasSupported:this.options.isOffscreenCanvasSupported}),Pn.isSingleOpaquePixel){if(fn.addImageOps(wt.OPS.paintSolidColorImageMask,[],_n),Jt){const lr={fn:wt.OPS.paintSolidColorImageMask,args:[],optionalContent:_n};un.set(Jt,kn,lr),kn&&this._regionalImageCache.set(null,kn,lr)}return}const nr=`mask_${this.idFactory.createObjId()}`;if(fn.addDependency(nr),this._sendImgData(nr,Pn),Dn=[{data:nr,width:Pn.width,height:Pn.height,interpolate:Pn.interpolate,count:1}],fn.addImageOps(wt.OPS.paintImageMaskXObject,Dn,_n),Jt){const lr={fn:wt.OPS.paintImageMaskXObject,args:Dn,optionalContent:_n};un.set(Jt,kn,lr),kn&&this._regionalImageCache.set(null,kn,lr)}return}if(mn&&!wn.has("SMask")&&!wn.has("Mask")&&Rn+Cn<200){Pn=await new Ut.PDFImage({xref:this.xref,res:Tn,image:Sn,isInline:mn,pdfFunctionFactory:this._pdfFunctionFactory,localColorSpaceCache:pn}).createImageData(!0,!1),fn.isOffscreenCanvasSupported=this.options.isOffscreenCanvasSupported,fn.addImageOps(wt.OPS.paintInlineImageXObject,[Pn],_n);return}let Un=`img_${this.idFactory.createObjId()}`,tr=!1;if(this.parsingType3Font?Un=`${this.idFactory.getDocId()}_type3_${Un}`:kn&&(tr=this.globalImageCache.shouldCache(kn,this.pageIndex),tr&&(Un=`${this.idFactory.getDocId()}_${Un}`)),fn.addDependency(Un),Dn=[Un,Rn,Cn],Ut.PDFImage.buildImage({xref:this.xref,res:Tn,image:Sn,isInline:mn,pdfFunctionFactory:this._pdfFunctionFactory,localColorSpaceCache:pn}).then(async er=>{if(Pn=await er.createImageData(!1,this.options.isOffscreenCanvasSupported),Jt&&kn&&tr){const Qn=Pn.bitmap?Pn.width*Pn.height*4:Pn.data.length;this.globalImageCache.addByteSize(kn,Qn)}return this._sendImgData(Un,Pn,tr)}).catch(er=>((0,wt.warn)(`Unable to decode image "${Un}": "${er}".`),this._sendImgData(Un,null,tr))),fn.addImageOps(wt.OPS.paintImageXObject,Dn,_n),Jt){const er={fn:wt.OPS.paintImageXObject,args:Dn,optionalContent:_n};un.set(Jt,kn,er),kn&&(this._regionalImageCache.set(null,kn,er),tr&&((0,wt.assert)(!mn,"Cannot cache an inline image globally."),this.globalImageCache.setData(kn,{objId:Un,fn:wt.OPS.paintImageXObject,args:Dn,optionalContent:_n,byteSize:0})))}}handleSMask(Tn,Sn,mn,fn,Jt,un){const pn=Tn.get("G"),wn={subtype:Tn.get("S").name,backdrop:Tn.get("BC")},kn=Tn.get("TR");if((0,$t.isPDFFunction)(kn)){const Rn=this._pdfFunctionFactory.create(kn),Cn=new Uint8Array(256),An=new Float32Array(1);for(let _n=0;_n<256;_n++)An[0]=_n/255,Rn(An,0,An,0),Cn[_n]=An[0]*255|0;wn.transferMap=Cn}return this.buildFormXObject(Sn,pn,wn,mn,fn,Jt.state.clone(),un)}handleTransferFunction(Tn){let Sn;if(Array.isArray(Tn))Sn=Tn;else if((0,$t.isPDFFunction)(Tn))Sn=[Tn];else return null;const mn=[];let fn=0,Jt=0;for(const un of Sn){const pn=this.xref.fetchIfRef(un);if(fn++,(0,Pt.isName)(pn,"Identity")){mn.push(null);continue}else if(!(0,$t.isPDFFunction)(pn))return null;const wn=this._pdfFunctionFactory.create(pn),kn=new Uint8Array(256),Rn=new Float32Array(1);for(let Cn=0;Cn<256;Cn++)Rn[0]=Cn/255,wn(Rn,0,Rn,0),kn[Cn]=Rn[0]*255|0;mn.push(kn),Jt++}return!(fn===1||fn===4)||Jt===0?null:mn}handleTilingType(Tn,Sn,mn,fn,Jt,un,pn,wn){const kn=new hn.OperatorList,Rn=Pt.Dict.merge({xref:this.xref,dictArray:[Jt.get("Resources"),mn]});return this.getOperatorList({stream:fn,task:pn,resources:Rn,operatorList:kn}).then(function(){const Cn=kn.getIR(),An=(0,Xt.getTilingPatternIR)(Cn,Jt,Sn);un.addDependencies(kn.dependencies),un.addOp(Tn,An),Jt.objId&&wn.set(null,Jt.objId,{operatorListIR:Cn,dict:Jt})}).catch(Cn=>{if(!(Cn instanceof wt.AbortException)){if(this.options.ignoreErrors){(0,wt.warn)(`handleTilingType - ignoring pattern: "${Cn}".`);return}throw Cn}})}handleSetFont(Tn,Sn,mn,fn,Jt,un,pn=null,wn=null){const kn=(Sn==null?void 0:Sn[0])instanceof Pt.Name?Sn[0].name:null;return this.loadFont(kn,mn,Tn,pn,wn).then(Rn=>Rn.font.isType3Font?Rn.loadType3Data(this,Tn,Jt).then(function(){return fn.addDependencies(Rn.type3Dependencies),Rn}).catch(Cn=>new cn({loadedName:"g_font_error",font:new _e.ErrorFont(`Type3 font load error: ${Cn}`),dict:Rn.font,evaluatorOptions:this.options})):Rn).then(Rn=>(un.font=Rn.font,Rn.send(this.handler),Rn.loadedName))}handleText(Tn,Sn){const mn=Sn.font,fn=mn.charsToGlyphs(Tn);return mn.data&&(Sn.textRenderingMode&wt.TextRenderingMode.ADD_TO_PATH_FLAG||Sn.fillColorSpace.name==="Pattern"||mn.disableFontFace||this.options.disableFontFace)&&on.buildFontPaths(mn,fn,this.handler,this.options),fn}ensureStateFont(Tn){if(Tn.font)return;const Sn=new wt.FormatError("Missing setFont (Tf) operator before text rendering operator.");if(this.options.ignoreErrors){(0,wt.warn)(`ensureStateFont: "${Sn}".`);return}throw Sn}async setGState({resources:Tn,gState:Sn,operatorList:mn,cacheKey:fn,task:Jt,stateManager:un,localGStateCache:pn,localColorSpaceCache:wn}){const kn=Sn.objId;let Rn=!0;const Cn=[];let An=Promise.resolve();for(const _n of Sn.getKeys()){const In=Sn.get(_n);switch(_n){case"Type":break;case"LW":case"LC":case"LJ":case"ML":case"D":case"RI":case"FL":case"CA":case"ca":Cn.push([_n,In]);break;case"Font":Rn=!1,An=An.then(()=>this.handleSetFont(Tn,null,In[0],mn,Jt,un.state).then(function(Dn){mn.addDependency(Dn),Cn.push([_n,[Dn,In[1]]])}));break;case"BM":Cn.push([_n,Wt(In)]);break;case"SMask":if((0,Pt.isName)(In,"None")){Cn.push([_n,!1]);break}In instanceof Pt.Dict?(Rn=!1,An=An.then(()=>this.handleSMask(In,Tn,mn,Jt,un,wn)),Cn.push([_n,!0])):(0,wt.warn)("Unsupported SMask type");break;case"TR":const Pn=this.handleTransferFunction(In);Cn.push([_n,Pn]);break;case"OP":case"op":case"OPM":case"BG":case"BG2":case"UCR":case"UCR2":case"TR2":case"HT":case"SM":case"SA":case"AIS":case"TK":(0,wt.info)("graphic state operator "+_n);break;default:(0,wt.info)("Unknown graphic state operator "+_n);break}}return An.then(function(){Cn.length>0&&mn.addOp(wt.OPS.setGState,[Cn]),Rn&&pn.set(fn,kn,Cn)})}loadFont(Tn,Sn,mn,fn=null,Jt=null){const un=async()=>new cn({loadedName:"g_font_error",font:new _e.ErrorFont(`Font "${Tn}" is not available.`),dict:Sn,evaluatorOptions:this.options});let pn;if(Sn)Sn instanceof Pt.Ref&&(pn=Sn);else{const In=mn.get("Font");In&&(pn=In.getRaw(Tn))}if(pn){if(this.parsingType3Font&&this.type3FontRefs.has(pn))return un();if(this.fontCache.has(pn))return this.fontCache.get(pn);Sn=this.xref.fetchIfRef(pn)}if(!(Sn instanceof Pt.Dict)){if(!this.options.ignoreErrors&&!this.parsingType3Font)return(0,wt.warn)(`Font "${Tn}" is not available.`),un();(0,wt.warn)(`Font "${Tn}" is not available -- attempting to fallback to a default font.`),Sn=fn||on.fallbackFontDict}if(Sn.cacheKey&&this.fontCache.has(Sn.cacheKey))return this.fontCache.get(Sn.cacheKey);const wn=new wt.PromiseCapability;let kn;try{kn=this.preEvaluateFont(Sn),kn.cssFontInfo=Jt}catch(In){return(0,wt.warn)(`loadFont - preEvaluateFont failed: "${In}".`),un()}const{descriptor:Rn,hash:Cn}=kn,An=pn instanceof Pt.Ref;let _n;if(Cn&&Rn instanceof Pt.Dict){const In=Rn.fontAliases||(Rn.fontAliases=Object.create(null));if(In[Cn]){const Pn=In[Cn].aliasRef;if(An&&Pn&&this.fontCache.has(Pn))return this.fontCache.putAlias(pn,Pn),this.fontCache.get(pn)}else In[Cn]={fontID:this.idFactory.createFontId()};An&&(In[Cn].aliasRef=pn),_n=In[Cn].fontID}else _n=this.idFactory.createFontId();return(0,wt.assert)(_n==null?void 0:_n.startsWith("f"),'The "fontID" must be (correctly) defined.'),An?this.fontCache.put(pn,wn.promise):(Sn.cacheKey=`cacheKey_${_n}`,this.fontCache.put(Sn.cacheKey,wn.promise)),Sn.loadedName=`${this.idFactory.getDocId()}_${_n}`,this.translateFont(kn).then(In=>{wn.resolve(new cn({loadedName:Sn.loadedName,font:In,dict:Sn,evaluatorOptions:this.options}))}).catch(In=>{(0,wt.warn)(`loadFont - translateFont failed: "${In}".`),wn.resolve(new cn({loadedName:Sn.loadedName,font:new _e.ErrorFont(In instanceof Error?In.message:In),dict:Sn,evaluatorOptions:this.options}))}),wn.promise}buildPath(Tn,Sn,mn,fn=!1){const Jt=Tn.length-1;if(mn||(mn=[]),Jt<0||Tn.fnArray[Jt]!==wt.OPS.constructPath){fn&&((0,wt.warn)(`Encountered path operator "${Sn}" inside of a text object.`),Tn.addOp(wt.OPS.save,null));let un;switch(Sn){case wt.OPS.rectangle:const pn=mn[0]+mn[2],wn=mn[1]+mn[3];un=[Math.min(mn[0],pn),Math.max(mn[0],pn),Math.min(mn[1],wn),Math.max(mn[1],wn)];break;case wt.OPS.moveTo:case wt.OPS.lineTo:un=[mn[0],mn[0],mn[1],mn[1]];break;default:un=[1/0,-1/0,1/0,-1/0];break}Tn.addOp(wt.OPS.constructPath,[[Sn],mn,un]),fn&&Tn.addOp(wt.OPS.restore,null)}else{const un=Tn.argsArray[Jt];un[0].push(Sn),un[1].push(...mn);const pn=un[2];switch(Sn){case wt.OPS.rectangle:const wn=mn[0]+mn[2],kn=mn[1]+mn[3];pn[0]=Math.min(pn[0],mn[0],wn),pn[1]=Math.max(pn[1],mn[0],wn),pn[2]=Math.min(pn[2],mn[1],kn),pn[3]=Math.max(pn[3],mn[1],kn);break;case wt.OPS.moveTo:case wt.OPS.lineTo:pn[0]=Math.min(pn[0],mn[0]),pn[1]=Math.max(pn[1],mn[0]),pn[2]=Math.min(pn[2],mn[1]),pn[3]=Math.max(pn[3],mn[1]);break}}}parseColorSpace({cs:Tn,resources:Sn,localColorSpaceCache:mn}){return Gt.ColorSpace.parseAsync({cs:Tn,xref:this.xref,resources:Sn,pdfFunctionFactory:this._pdfFunctionFactory,localColorSpaceCache:mn}).catch(fn=>{if(fn instanceof wt.AbortException)return null;if(this.options.ignoreErrors)return(0,wt.warn)(`parseColorSpace - ignoring ColorSpace: "${fn}".`),null;throw fn})}parseShading({shading:Tn,resources:Sn,localColorSpaceCache:mn,localShadingPatternCache:fn}){let Jt=fn.get(Tn);if(!Jt){var un=Xt.Pattern.parseShading(Tn,this.xref,Sn,this._pdfFunctionFactory,mn);const pn=un.getIR();Jt=`pattern_${this.idFactory.createObjId()}`,this.parsingType3Font&&(Jt=`${this.idFactory.getDocId()}_type3_${Jt}`),fn.set(Tn,Jt),this.parsingType3Font?this.handler.send("commonobj",[Jt,"Pattern",pn]):this.handler.send("obj",[Jt,this.pageIndex,"Pattern",pn])}return Jt}handleColorN(Tn,Sn,mn,fn,Jt,un,pn,wn,kn,Rn){const Cn=mn.pop();if(Cn instanceof Pt.Name){const An=Jt.getRaw(Cn.name),_n=An instanceof Pt.Ref&&kn.getByRef(An);if(_n)try{const Pn=fn.base?fn.base.getRgb(mn,0):null,Dn=(0,Xt.getTilingPatternIR)(_n.operatorListIR,_n.dict,Pn);Tn.addOp(Sn,Dn);return}catch{}const In=this.xref.fetchIfRef(An);if(In){const Pn=In instanceof qt.BaseStream?In.dict:In,Dn=Pn.get("PatternType");if(Dn===zt.TILING){const Ln=fn.base?fn.base.getRgb(mn,0):null;return this.handleTilingType(Sn,Ln,un,In,Pn,Tn,pn,kn)}else if(Dn===zt.SHADING){const Ln=Pn.get("Shading"),Un=Pn.getArray("Matrix"),tr=this.parseShading({shading:Ln,resources:un,localColorSpaceCache:wn,localShadingPatternCache:Rn});Tn.addOp(Sn,["Shading",tr,Un]);return}throw new wt.FormatError(`Unknown PatternType: ${Dn}`)}}throw new wt.FormatError(`Unknown PatternName: ${Cn}`)}_parseVisibilityExpression(Tn,Sn,mn){if(++Sn>10){(0,wt.warn)("Visibility expression is too deeply nested");return}const Jt=Tn.length,un=this.xref.fetchIfRef(Tn[0]);if(Jt<2||!(un instanceof Pt.Name)){(0,wt.warn)("Invalid visibility expression");return}switch(un.name){case"And":case"Or":case"Not":mn.push(un.name);break;default:(0,wt.warn)(`Invalid operator ${un.name} in visibility expression`);return}for(let pn=1;pn<Jt;pn++){const wn=Tn[pn],kn=this.xref.fetchIfRef(wn);if(Array.isArray(kn)){const Rn=[];mn.push(Rn),this._parseVisibilityExpression(kn,Sn,Rn)}else wn instanceof Pt.Ref&&mn.push(wn.toString())}}async parseMarkedContentProps(Tn,Sn){var Jt;let mn;if(Tn instanceof Pt.Name)mn=Sn.get("Properties").get(Tn.name);else if(Tn instanceof Pt.Dict)mn=Tn;else throw new wt.FormatError("Optional content properties malformed.");const fn=(Jt=mn.get("Type"))==null?void 0:Jt.name;if(fn==="OCG")return{type:fn,id:mn.objId};if(fn==="OCMD"){const un=mn.get("VE");if(Array.isArray(un)){const wn=[];if(this._parseVisibilityExpression(un,0,wn),wn.length>0)return{type:"OCMD",expression:wn}}const pn=mn.get("OCGs");if(Array.isArray(pn)||pn instanceof Pt.Dict){const wn=[];if(Array.isArray(pn))for(const kn of pn)wn.push(kn.toString());else wn.push(pn.objId);return{type:fn,ids:wn,policy:mn.get("P")instanceof Pt.Name?mn.get("P").name:null,expression:null}}else if(pn instanceof Pt.Ref)return{type:fn,id:pn.toString()}}return null}getOperatorList({stream:Tn,task:Sn,resources:mn,operatorList:fn,initialState:Jt=null,fallbackFontDict:un=null}){if(mn||(mn=Pt.Dict.empty),Jt||(Jt=new xn),!fn)throw new Error('getOperatorList: missing "operatorList" parameter');const pn=this,wn=this.xref;let kn=!1;const Rn=new jt.LocalImageCache,Cn=new jt.LocalColorSpaceCache,An=new jt.LocalGStateCache,_n=new jt.LocalTilingPatternCache,In=new Map,Pn=mn.get("XObject")||Pt.Dict.empty,Dn=mn.get("Pattern")||Pt.Dict.empty,Ln=new sn(Jt),Un=new vn(Tn,wn,Ln),tr=new ln;function er(Qn){for(let Yn=0,Xn=Un.savedStatesDepth;Yn<Xn;Yn++)fn.addOp(wt.OPS.restore,[])}return new Promise(function Qn(Yn,Xn){const nr=function(or){Promise.all([or,fn.ready]).then(function(){try{Qn(Yn,Xn)}catch(pr){Xn(pr)}},Xn)};Sn.ensureNotTerminated(),tr.reset();const lr={};let dr,Bn,Hn,Wn,cr,sr;for(;!(dr=tr.check())&&(lr.args=null,!!Un.read(lr));){let or=lr.args,pr=lr.fn;switch(pr|0){case wt.OPS.paintXObject:if(sr=or[0]instanceof Pt.Name,cr=or[0].name,sr){const fr=Rn.getByName(cr);if(fr){fn.addImageOps(fr.fn,fr.args,fr.optionalContent),tn(fr),or=null;continue}}nr(new Promise(function(fr,Ar){if(!sr)throw new wt.FormatError("XObject must be referred to by name.");let Lr=Pn.getRaw(cr);if(Lr instanceof Pt.Ref){const $r=Rn.getByRef(Lr)||pn._regionalImageCache.getByRef(Lr);if($r){fn.addImageOps($r.fn,$r.args,$r.optionalContent),tn($r),fr();return}const Er=pn.globalImageCache.getData(Lr,pn.pageIndex);if(Er){fn.addDependency(Er.objId),fn.addImageOps(Er.fn,Er.args,Er.optionalContent),fr();return}Lr=wn.fetch(Lr)}if(!(Lr instanceof qt.BaseStream))throw new wt.FormatError("XObject should be a stream");const Fr=Lr.dict.get("Subtype");if(!(Fr instanceof Pt.Name))throw new wt.FormatError("XObject should have a Name subtype");if(Fr.name==="Form"){Ln.save(),pn.buildFormXObject(mn,Lr,null,fn,Sn,Ln.state.clone(),Cn).then(function(){Ln.restore(),fr()},Ar);return}else if(Fr.name==="Image"){pn.buildPaintImageXObject({resources:mn,image:Lr,operatorList:fn,cacheKey:cr,localImageCache:Rn,localColorSpaceCache:Cn}).then(fr,Ar);return}else if(Fr.name==="PS")(0,wt.info)("Ignored XObject subtype PS");else throw new wt.FormatError(`Unhandled XObject subtype ${Fr.name}`);fr()}).catch(function(fr){if(!(fr instanceof wt.AbortException)){if(pn.options.ignoreErrors){(0,wt.warn)(`getOperatorList - ignoring XObject: "${fr}".`);return}throw fr}}));return;case wt.OPS.setFont:var xr=or[1];nr(pn.handleSetFont(mn,or,null,fn,Sn,Ln.state,un).then(function(fr){fn.addDependency(fr),fn.addOp(wt.OPS.setFont,[fr,xr])}));return;case wt.OPS.beginText:kn=!0;break;case wt.OPS.endText:kn=!1;break;case wt.OPS.endInlineImage:var Jn=or[0].cacheKey;if(Jn){const fr=Rn.getByName(Jn);if(fr){fn.addImageOps(fr.fn,fr.args,fr.optionalContent),tn(fr),or=null;continue}}nr(pn.buildPaintImageXObject({resources:mn,image:or[0],isInline:!0,operatorList:fn,cacheKey:Jn,localImageCache:Rn,localColorSpaceCache:Cn}));return;case wt.OPS.showText:if(!Ln.state.font){pn.ensureStateFont(Ln.state);continue}or[0]=pn.handleText(or[0],Ln.state);break;case wt.OPS.showSpacedText:if(!Ln.state.font){pn.ensureStateFont(Ln.state);continue}var Vn=[],Zn=Ln.state;for(const fr of or[0])typeof fr=="string"?Vn.push(...pn.handleText(fr,Zn)):typeof fr=="number"&&Vn.push(fr);or[0]=Vn,pr=wt.OPS.showText;break;case wt.OPS.nextLineShowText:if(!Ln.state.font){pn.ensureStateFont(Ln.state);continue}fn.addOp(wt.OPS.nextLine),or[0]=pn.handleText(or[0],Ln.state),pr=wt.OPS.showText;break;case wt.OPS.nextLineSetSpacingShowText:if(!Ln.state.font){pn.ensureStateFont(Ln.state);continue}fn.addOp(wt.OPS.nextLine),fn.addOp(wt.OPS.setWordSpacing,[or.shift()]),fn.addOp(wt.OPS.setCharSpacing,[or.shift()]),or[0]=pn.handleText(or[0],Ln.state),pr=wt.OPS.showText;break;case wt.OPS.setTextRenderingMode:Ln.state.textRenderingMode=or[0];break;case wt.OPS.setFillColorSpace:{const fr=Gt.ColorSpace.getCached(or[0],wn,Cn);if(fr){Ln.state.fillColorSpace=fr;continue}nr(pn.parseColorSpace({cs:or[0],resources:mn,localColorSpaceCache:Cn}).then(function(Ar){Ar&&(Ln.state.fillColorSpace=Ar)}));return}case wt.OPS.setStrokeColorSpace:{const fr=Gt.ColorSpace.getCached(or[0],wn,Cn);if(fr){Ln.state.strokeColorSpace=fr;continue}nr(pn.parseColorSpace({cs:or[0],resources:mn,localColorSpaceCache:Cn}).then(function(Ar){Ar&&(Ln.state.strokeColorSpace=Ar)}));return}case wt.OPS.setFillColor:Wn=Ln.state.fillColorSpace,or=Wn.getRgb(or,0),pr=wt.OPS.setFillRGBColor;break;case wt.OPS.setStrokeColor:Wn=Ln.state.strokeColorSpace,or=Wn.getRgb(or,0),pr=wt.OPS.setStrokeRGBColor;break;case wt.OPS.setFillGray:Ln.state.fillColorSpace=Gt.ColorSpace.singletons.gray,or=Gt.ColorSpace.singletons.gray.getRgb(or,0),pr=wt.OPS.setFillRGBColor;break;case wt.OPS.setStrokeGray:Ln.state.strokeColorSpace=Gt.ColorSpace.singletons.gray,or=Gt.ColorSpace.singletons.gray.getRgb(or,0),pr=wt.OPS.setStrokeRGBColor;break;case wt.OPS.setFillCMYKColor:Ln.state.fillColorSpace=Gt.ColorSpace.singletons.cmyk,or=Gt.ColorSpace.singletons.cmyk.getRgb(or,0),pr=wt.OPS.setFillRGBColor;break;case wt.OPS.setStrokeCMYKColor:Ln.state.strokeColorSpace=Gt.ColorSpace.singletons.cmyk,or=Gt.ColorSpace.singletons.cmyk.getRgb(or,0),pr=wt.OPS.setStrokeRGBColor;break;case wt.OPS.setFillRGBColor:Ln.state.fillColorSpace=Gt.ColorSpace.singletons.rgb,or=Gt.ColorSpace.singletons.rgb.getRgb(or,0);break;case wt.OPS.setStrokeRGBColor:Ln.state.strokeColorSpace=Gt.ColorSpace.singletons.rgb,or=Gt.ColorSpace.singletons.rgb.getRgb(or,0);break;case wt.OPS.setFillColorN:if(Wn=Ln.state.fillColorSpace,Wn.name==="Pattern"){nr(pn.handleColorN(fn,wt.OPS.setFillColorN,or,Wn,Dn,mn,Sn,Cn,_n,In));return}or=Wn.getRgb(or,0),pr=wt.OPS.setFillRGBColor;break;case wt.OPS.setStrokeColorN:if(Wn=Ln.state.strokeColorSpace,Wn.name==="Pattern"){nr(pn.handleColorN(fn,wt.OPS.setStrokeColorN,or,Wn,Dn,mn,Sn,Cn,_n,In));return}or=Wn.getRgb(or,0),pr=wt.OPS.setStrokeRGBColor;break;case wt.OPS.shadingFill:var ur=mn.get("Shading");if(!ur)throw new wt.FormatError("No shading resource found");var hr=ur.get(or[0].name);if(!hr)throw new wt.FormatError("No shading object found");or=[pn.parseShading({shading:hr,resources:mn,localColorSpaceCache:Cn,localShadingPatternCache:In})],pr=wt.OPS.shadingFill;break;case wt.OPS.setGState:if(sr=or[0]instanceof Pt.Name,cr=or[0].name,sr){const fr=An.getByName(cr);if(fr){fr.length>0&&fn.addOp(wt.OPS.setGState,[fr]),or=null;continue}}nr(new Promise(function(fr,Ar){if(!sr)throw new wt.FormatError("GState must be referred to by name.");const Lr=mn.get("ExtGState");if(!(Lr instanceof Pt.Dict))throw new wt.FormatError("ExtGState should be a dictionary.");const Fr=Lr.get(cr);if(!(Fr instanceof Pt.Dict))throw new wt.FormatError("GState should be a dictionary.");pn.setGState({resources:mn,gState:Fr,operatorList:fn,cacheKey:cr,task:Sn,stateManager:Ln,localGStateCache:An,localColorSpaceCache:Cn}).then(fr,Ar)}).catch(function(fr){if(!(fr instanceof wt.AbortException)){if(pn.options.ignoreErrors){(0,wt.warn)(`getOperatorList - ignoring ExtGState: "${fr}".`);return}throw fr}}));return;case wt.OPS.moveTo:case wt.OPS.lineTo:case wt.OPS.curveTo:case wt.OPS.curveTo2:case wt.OPS.curveTo3:case wt.OPS.closePath:case wt.OPS.rectangle:pn.buildPath(fn,pr,or,kn);continue;case wt.OPS.markPoint:case wt.OPS.markPointProps:case wt.OPS.beginCompat:case wt.OPS.endCompat:continue;case wt.OPS.beginMarkedContentProps:if(!(or[0]instanceof Pt.Name)){(0,wt.warn)(`Expected name for beginMarkedContentProps arg0=${or[0]}`);continue}if(or[0].name==="OC"){nr(pn.parseMarkedContentProps(or[1],mn).then(fr=>{fn.addOp(wt.OPS.beginMarkedContentProps,["OC",fr])}).catch(fr=>{if(!(fr instanceof wt.AbortException)){if(pn.options.ignoreErrors){(0,wt.warn)(`getOperatorList - ignoring beginMarkedContentProps: "${fr}".`);return}throw fr}}));return}or=[or[0].name,or[1]instanceof Pt.Dict?or[1].get("MCID"):null];break;case wt.OPS.beginMarkedContent:case wt.OPS.endMarkedContent:default:if(or!==null){for(Bn=0,Hn=or.length;Bn<Hn&&!(or[Bn]instanceof Pt.Dict);Bn++);if(Bn<Hn){(0,wt.warn)("getOperatorList - ignoring operator: "+pr);continue}}}fn.addOp(pr,or)}if(dr){nr(Ht);return}er(),Yn()}).catch(Qn=>{if(!(Qn instanceof wt.AbortException)){if(this.options.ignoreErrors){(0,wt.warn)(`getOperatorList - ignoring errors during "${Sn.name}" task: "${Qn}".`),er();return}throw Qn}})}getTextContent({stream:Tn,task:Sn,resources:mn,stateManager:fn=null,includeMarkedContent:Jt=!1,sink:un,seenStyles:pn=new Set,viewBox:wn,markedContentData:kn=null,disableNormalization:Rn=!1}){mn||(mn=Pt.Dict.empty),fn||(fn=new sn(new rn)),Jt&&(kn||(kn={level:0}));const Cn={items:[],styles:Object.create(null)},An={initialized:!1,str:[],totalWidth:0,totalHeight:0,width:0,height:0,vertical:!1,prevTransform:null,textAdvanceScale:0,spaceInFlowMin:0,spaceInFlowMax:0,trackingSpaceMin:1/0,negativeSpaceMax:-1/0,notASpace:-1/0,transform:null,fontName:null,hasEOL:!1},_n=[" "," "];let In=0;function Pn(Er){const _r=(In+1)%2,Rr=_n[In]!==" "&&_n[_r]===" ";return _n[In]=Er,In=_r,Rr}function Dn(){return _n[In]!==" "&&_n[(In+1)%2]===" "}function Ln(){_n[0]=_n[1]=" ",In=0}const Un=.102,tr=.03,er=-.2,Qn=.102,Yn=.6,Xn=.25,nr=this,lr=this.xref,dr=[];let Bn=null;const Hn=new jt.LocalImageCache,Wn=new jt.LocalGStateCache,cr=new vn(Tn,lr,fn);let sr;function xr({width:Er=0,height:_r=0,transform:Rr=An.prevTransform,fontName:qr=An.fontName}){Cn.items.push({str:" ",dir:"ltr",width:Er,height:_r,transform:Rr,fontName:qr,hasEOL:!1})}function Jn(){const Er=sr.font,_r=[sr.fontSize*sr.textHScale,0,0,sr.fontSize,0,sr.textRise];if(Er.isType3Font&&(sr.fontSize<=1||Er.isCharBBox)&&!(0,wt.isArrayEqual)(sr.fontMatrix,wt.FONT_IDENTITY_MATRIX)){const Rr=Er.bbox[3]-Er.bbox[1];Rr>0&&(_r[3]*=Rr*sr.fontMatrix[3])}return wt.Util.transform(sr.ctm,wt.Util.transform(sr.textMatrix,_r))}function Vn(){if(An.initialized)return An;const{font:Er,loadedName:_r}=sr;pn.has(_r)||(pn.add(_r),Cn.styles[_r]={fontFamily:Er.fallbackName,ascent:Er.ascent,descent:Er.descent,vertical:Er.vertical}),An.fontName=_r;const Rr=An.transform=Jn();Er.vertical?(An.width=An.totalWidth=Math.hypot(Rr[0],Rr[1]),An.height=An.totalHeight=0,An.vertical=!0):(An.width=An.totalWidth=0,An.height=An.totalHeight=Math.hypot(Rr[2],Rr[3]),An.vertical=!1);const qr=Math.hypot(sr.textLineMatrix[0],sr.textLineMatrix[1]),vs=Math.hypot(sr.ctm[0],sr.ctm[1]);An.textAdvanceScale=vs*qr;const{fontSize:ls}=sr;return An.trackingSpaceMin=ls*Un,An.notASpace=ls*tr,An.negativeSpaceMax=ls*er,An.spaceInFlowMin=ls*Qn,An.spaceInFlowMax=ls*Yn,An.hasEOL=!1,An.initialized=!0,An}function Zn(){if(!An.initialized)return;const Er=Math.hypot(sr.textLineMatrix[0],sr.textLineMatrix[1]),Rr=Math.hypot(sr.ctm[0],sr.ctm[1])*Er;Rr!==An.textAdvanceScale&&(An.vertical?(An.totalHeight+=An.height*An.textAdvanceScale,An.height=0):(An.totalWidth+=An.width*An.textAdvanceScale,An.width=0),An.textAdvanceScale=Rr)}function ur(Er){let _r=Er.str.join("");Rn||(_r=(0,wt.normalizeUnicode)(_r));const Rr=(0,Bt.bidi)(_r,-1,Er.vertical);return{str:Rr.str,dir:Rr.dir,width:Math.abs(Er.totalWidth),height:Math.abs(Er.totalHeight),transform:Er.transform,fontName:Er.fontName,hasEOL:Er.hasEOL}}function hr(Er,_r){return nr.loadFont(Er,_r,mn).then(function(Rr){return Rr.font.isType3Font?Rr.loadType3Data(nr,mn,Sn).catch(function(){}).then(function(){return Rr}):Rr}).then(function(Rr){sr.loadedName=Rr.loadedName,sr.font=Rr.font,sr.fontMatrix=Rr.font.fontMatrix||wt.FONT_IDENTITY_MATRIX})}function or(Er,_r,Rr){const qr=Math.hypot(Rr[0],Rr[1]);return[(Rr[0]*Er+Rr[1]*_r)/qr,(Rr[2]*Er+Rr[3]*_r)/qr]}function pr(Er){var yr;const _r=Jn();let Rr=_r[4],qr=_r[5];if((yr=sr.font)!=null&&yr.vertical){if(Rr<wn[0]||Rr>wn[2]||qr+Er<wn[1]||qr>wn[3])return!1}else if(Rr+Er<wn[0]||Rr>wn[2]||qr<wn[1]||qr>wn[3])return!1;if(!sr.font||!An.prevTransform)return!0;let vs=An.prevTransform[4],ls=An.prevTransform[5];if(vs===Rr&&ls===qr)return!0;let ns=-1;switch(_r[0]&&_r[1]===0&&_r[2]===0?ns=_r[0]>0?0:180:_r[1]&&_r[0]===0&&_r[3]===0&&(ns=_r[1]>0?90:270),ns){case 0:break;case 90:[Rr,qr]=[qr,Rr],[vs,ls]=[ls,vs];break;case 180:[Rr,qr,vs,ls]=[-Rr,-qr,-vs,-ls];break;case 270:[Rr,qr]=[-qr,-Rr],[vs,ls]=[-ls,-vs];break;default:[Rr,qr]=or(Rr,qr,_r),[vs,ls]=or(vs,ls,An.prevTransform)}if(sr.font.vertical){const Sr=(ls-qr)/An.textAdvanceScale,Pr=Rr-vs,jr=Math.sign(An.height);return Sr<jr*An.negativeSpaceMax?Math.abs(Pr)>.5*An.width?(fr(),!0):(Ln(),Lr(),!0):Math.abs(Pr)>An.width?(fr(),!0):(Sr<=jr*An.notASpace&&Ln(),Sr<=jr*An.trackingSpaceMin?Dn()?(Ln(),Lr(),xr({height:Math.abs(Sr)})):An.height+=Sr:Ar(Sr,An.prevTransform,jr)||(An.str.length===0?(Ln(),xr({height:Math.abs(Sr)})):An.height+=Sr),Math.abs(Pr)>An.width*Xn&&Lr(),!0)}const Ns=(Rr-vs)/An.textAdvanceScale,Gs=qr-ls,vr=Math.sign(An.width);return Ns<vr*An.negativeSpaceMax?Math.abs(Gs)>.5*An.height?(fr(),!0):(Ln(),Lr(),!0):Math.abs(Gs)>An.height?(fr(),!0):(Ns<=vr*An.notASpace&&Ln(),Ns<=vr*An.trackingSpaceMin?Dn()?(Ln(),Lr(),xr({width:Math.abs(Ns)})):An.width+=Ns:Ar(Ns,An.prevTransform,vr)||(An.str.length===0?(Ln(),xr({width:Math.abs(Ns)})):An.width+=Ns),Math.abs(Gs)>An.height*Xn&&Lr(),!0)}function wr({chars:Er,extraSpacing:_r}){const Rr=sr.font;if(!Er){const ls=sr.charSpacing+_r;ls&&(Rr.vertical?sr.translateTextMatrix(0,-ls):sr.translateTextMatrix(ls*sr.textHScale,0));return}const qr=Rr.charsToGlyphs(Er),vs=sr.fontMatrix[0]*sr.fontSize;for(let ls=0,ns=qr.length;ls<ns;ls++){const Ns=qr[ls],{category:Gs}=Ns;if(Gs.isInvisibleFormatMark)continue;let vr=sr.charSpacing+(ls+1===ns?_r:0),yr=Ns.width;Rr.vertical&&(yr=Ns.vmetric?Ns.vmetric[0]:-yr);let Sr=yr*vs;if(Gs.isWhitespace){Rr.vertical?(vr+=-Sr+sr.wordSpacing,sr.translateTextMatrix(0,-vr)):(vr+=Sr+sr.wordSpacing,sr.translateTextMatrix(vr*sr.textHScale,0)),Pn(" ");continue}if(!Gs.isZeroWidthDiacritic&&!pr(Sr)){Rr.vertical?sr.translateTextMatrix(0,Sr):sr.translateTextMatrix(Sr*sr.textHScale,0);continue}const Pr=Vn();Gs.isZeroWidthDiacritic&&(Sr=0),Rr.vertical?(sr.translateTextMatrix(0,Sr),Sr=Math.abs(Sr),Pr.height+=Sr):(Sr*=sr.textHScale,sr.translateTextMatrix(Sr,0),Pr.width+=Sr),Sr&&(Pr.prevTransform=Jn());const jr=Ns.unicode;Pn(jr)&&Pr.str.push(" "),Pr.str.push(jr),vr&&(Rr.vertical?sr.translateTextMatrix(0,-vr):sr.translateTextMatrix(vr*sr.textHScale,0))}}function fr(){Ln(),An.initialized?(An.hasEOL=!0,Lr()):Cn.items.push({str:"",dir:"ltr",width:0,height:0,transform:Jn(),fontName:sr.loadedName,hasEOL:!0})}function Ar(Er,_r,Rr){if(Rr*An.spaceInFlowMin<=Er&&Er<=Rr*An.spaceInFlowMax)return An.initialized&&(Ln(),An.str.push(" ")),!1;const qr=An.fontName;let vs=0;return An.vertical&&(vs=Er,Er=0),Lr(),Ln(),xr({width:Math.abs(Er),height:Math.abs(vs),transform:_r||Jn(),fontName:qr}),!0}function Lr(){!An.initialized||!An.str||(An.vertical?An.totalHeight+=An.height*An.textAdvanceScale:An.totalWidth+=An.width*An.textAdvanceScale,Cn.items.push(ur(An)),An.initialized=!1,An.str.length=0)}function Fr(Er=!1){const _r=Cn.items.length;_r!==0&&(Er&&_r<an||(un.enqueue(Cn,_r),Cn.items=[],Cn.styles=Object.create(null)))}const $r=new ln;return new Promise(function Er(_r,Rr){const qr=function(Sr){Fr(!0),Promise.all([Sr,un.ready]).then(function(){try{Er(_r,Rr)}catch(Pr){Rr(Pr)}},Rr)};Sn.ensureNotTerminated(),$r.reset();const vs={};let ls,ns=[];for(;!(ls=$r.check())&&(ns.length=0,vs.args=ns,!!cr.read(vs));){const Sr=sr;sr=fn.state;const Pr=vs.fn;switch(ns=vs.args,Pr|0){case wt.OPS.setFont:var Ns=ns[0].name,Gs=ns[1];if(sr.font&&Ns===sr.fontName&&Gs===sr.fontSize)break;Lr(),sr.fontName=Ns,sr.fontSize=Gs,qr(hr(Ns,null));return;case wt.OPS.setTextRise:sr.textRise=ns[0];break;case wt.OPS.setHScale:sr.textHScale=ns[0]/100;break;case wt.OPS.setLeading:sr.leading=ns[0];break;case wt.OPS.moveText:sr.translateTextLineMatrix(ns[0],ns[1]),sr.textMatrix=sr.textLineMatrix.slice();break;case wt.OPS.setLeadingMoveText:sr.leading=-ns[1],sr.translateTextLineMatrix(ns[0],ns[1]),sr.textMatrix=sr.textLineMatrix.slice();break;case wt.OPS.nextLine:sr.carriageReturn();break;case wt.OPS.setTextMatrix:sr.setTextMatrix(ns[0],ns[1],ns[2],ns[3],ns[4],ns[5]),sr.setTextLineMatrix(ns[0],ns[1],ns[2],ns[3],ns[4],ns[5]),Zn();break;case wt.OPS.setCharSpacing:sr.charSpacing=ns[0];break;case wt.OPS.setWordSpacing:sr.wordSpacing=ns[0];break;case wt.OPS.beginText:sr.textMatrix=wt.IDENTITY_MATRIX.slice(),sr.textLineMatrix=wt.IDENTITY_MATRIX.slice();break;case wt.OPS.showSpacedText:if(!fn.state.font){nr.ensureStateFont(fn.state);continue}const jr=(sr.font.vertical?1:-1)*sr.fontSize/1e3,es=ns[0];for(let Or=0,Tr=es.length;Or<Tr;Or++){const Vr=es[Or];if(typeof Vr=="string")dr.push(Vr);else if(typeof Vr=="number"&&Vr!==0){const us=dr.join("");dr.length=0,wr({chars:us,extraSpacing:Vr*jr})}}if(dr.length>0){const Or=dr.join("");dr.length=0,wr({chars:Or,extraSpacing:0})}break;case wt.OPS.showText:if(!fn.state.font){nr.ensureStateFont(fn.state);continue}wr({chars:ns[0],extraSpacing:0});break;case wt.OPS.nextLineShowText:if(!fn.state.font){nr.ensureStateFont(fn.state);continue}sr.carriageReturn(),wr({chars:ns[0],extraSpacing:0});break;case wt.OPS.nextLineSetSpacingShowText:if(!fn.state.font){nr.ensureStateFont(fn.state);continue}sr.wordSpacing=ns[0],sr.charSpacing=ns[1],sr.carriageReturn(),wr({chars:ns[2],extraSpacing:0});break;case wt.OPS.paintXObject:Lr(),Bn||(Bn=mn.get("XObject")||Pt.Dict.empty);var vr=ns[0]instanceof Pt.Name,yr=ns[0].name;if(vr&&Hn.getByName(yr))break;qr(new Promise(function(Or,Tr){if(!vr)throw new wt.FormatError("XObject must be referred to by name.");let Vr=Bn.getRaw(yr);if(Vr instanceof Pt.Ref){if(Hn.getByRef(Vr)){Or();return}if(nr.globalImageCache.getData(Vr,nr.pageIndex)){Or();return}Vr=lr.fetch(Vr)}if(!(Vr instanceof qt.BaseStream))throw new wt.FormatError("XObject should be a stream");const us=Vr.dict.get("Subtype");if(!(us instanceof Pt.Name))throw new wt.FormatError("XObject should have a Name subtype");if(us.name!=="Form"){Hn.set(yr,Vr.dict.objId,!0),Or();return}const bs=fn.state.clone(),Jr=new sn(bs),ss=Vr.dict.getArray("Matrix");Array.isArray(ss)&&ss.length===6&&Jr.transform(ss),Fr();const ms={enqueueInvoked:!1,enqueue(Wr,hs){this.enqueueInvoked=!0,un.enqueue(Wr,hs)},get desiredSize(){return un.desiredSize},get ready(){return un.ready}};nr.getTextContent({stream:Vr,task:Sn,resources:Vr.dict.get("Resources")||mn,stateManager:Jr,includeMarkedContent:Jt,sink:ms,seenStyles:pn,viewBox:wn,markedContentData:kn,disableNormalization:Rn}).then(function(){ms.enqueueInvoked||Hn.set(yr,Vr.dict.objId,!0),Or()},Tr)}).catch(function(Or){if(!(Or instanceof wt.AbortException)){if(nr.options.ignoreErrors){(0,wt.warn)(`getTextContent - ignoring XObject: "${Or}".`);return}throw Or}}));return;case wt.OPS.setGState:if(vr=ns[0]instanceof Pt.Name,yr=ns[0].name,vr&&Wn.getByName(yr))break;qr(new Promise(function(Or,Tr){if(!vr)throw new wt.FormatError("GState must be referred to by name.");const Vr=mn.get("ExtGState");if(!(Vr instanceof Pt.Dict))throw new wt.FormatError("ExtGState should be a dictionary.");const us=Vr.get(yr);if(!(us instanceof Pt.Dict))throw new wt.FormatError("GState should be a dictionary.");const bs=us.get("Font");if(!bs){Wn.set(yr,us.objId,!0),Or();return}Lr(),sr.fontName=null,sr.fontSize=bs[1],hr(null,bs[0]).then(Or,Tr)}).catch(function(Or){if(!(Or instanceof wt.AbortException)){if(nr.options.ignoreErrors){(0,wt.warn)(`getTextContent - ignoring ExtGState: "${Or}".`);return}throw Or}}));return;case wt.OPS.beginMarkedContent:Lr(),Jt&&(kn.level++,Cn.items.push({type:"beginMarkedContent",tag:ns[0]instanceof Pt.Name?ns[0].name:null}));break;case wt.OPS.beginMarkedContentProps:if(Lr(),Jt){kn.level++;let Or=null;ns[1]instanceof Pt.Dict&&(Or=ns[1].get("MCID")),Cn.items.push({type:"beginMarkedContentProps",id:Number.isInteger(Or)?`${nr.idFactory.getPageObjId()}_mc${Or}`:null,tag:ns[0]instanceof Pt.Name?ns[0].name:null})}break;case wt.OPS.endMarkedContent:if(Lr(),Jt){if(kn.level===0)break;kn.level--,Cn.items.push({type:"endMarkedContent"})}break;case wt.OPS.restore:Sr&&(Sr.font!==sr.font||Sr.fontSize!==sr.fontSize||Sr.fontName!==sr.fontName)&&Lr();break}if(Cn.items.length>=un.desiredSize){ls=!0;break}}if(ls){qr(Ht);return}Lr(),Fr(),_r()}).catch(Er=>{if(!(Er instanceof wt.AbortException)){if(this.options.ignoreErrors){(0,wt.warn)(`getTextContent - ignoring errors during "${Sn.name}" task: "${Er}".`),Lr(),Fr();return}throw Er}})}extractDataStructures(Tn,Sn,mn){const fn=this.xref;let Jt;const un=this.readToUnicode(mn.toUnicode||Tn.get("ToUnicode")||Sn.get("ToUnicode"));if(mn.composite){const An=Tn.get("CIDSystemInfo");An instanceof Pt.Dict&&(mn.cidSystemInfo={registry:(0,wt.stringToPDFString)(An.get("Registry")),ordering:(0,wt.stringToPDFString)(An.get("Ordering")),supplement:An.get("Supplement")});try{const _n=Tn.get("CIDToGIDMap");_n instanceof qt.BaseStream&&(Jt=_n.getBytes())}catch(_n){if(!this.options.ignoreErrors)throw _n;(0,wt.warn)(`extractDataStructures - ignoring CIDToGIDMap data: "${_n}".`)}}const pn=[];let wn=null,kn;if(Tn.has("Encoding")){if(kn=Tn.get("Encoding"),kn instanceof Pt.Dict){if(wn=kn.get("BaseEncoding"),wn=wn instanceof Pt.Name?wn.name:null,kn.has("Differences")){const An=kn.get("Differences");let _n=0;for(const In of An){const Pn=fn.fetchIfRef(In);if(typeof Pn=="number")_n=Pn;else if(Pn instanceof Pt.Name)pn[_n++]=Pn.name;else throw new wt.FormatError(`Invalid entry in 'Differences' array: ${Pn}`)}}}else if(kn instanceof Pt.Name)wn=kn.name;else{const An="Encoding is not a Name nor a Dict";if(!this.options.ignoreErrors)throw new wt.FormatError(An);(0,wt.warn)(An)}wn!=="MacRomanEncoding"&&wn!=="MacExpertEncoding"&&wn!=="WinAnsiEncoding"&&(wn=null)}const Rn=!mn.file||mn.isInternalFont,Cn=(0,Ft.getSymbolsFonts)()[mn.name];if(wn&&Rn&&Cn&&(wn=null),wn)mn.defaultEncoding=(0,bt.getEncoding)(wn);else{const An=!!(mn.flags&dn.FontFlags.Symbolic),_n=!!(mn.flags&dn.FontFlags.Nonsymbolic);kn=bt.StandardEncoding,mn.type==="TrueType"&&!_n&&(kn=bt.WinAnsiEncoding),(An||Cn)&&(kn=bt.MacRomanEncoding,Rn&&(/Symbol/i.test(mn.name)?kn=bt.SymbolSetEncoding:/Dingbats/i.test(mn.name)?kn=bt.ZapfDingbatsEncoding:/Wingdings/i.test(mn.name)&&(kn=bt.WinAnsiEncoding))),mn.defaultEncoding=kn}return mn.differences=pn,mn.baseEncodingName=wn,mn.hasEncoding=!!wn||pn.length>0,mn.dict=Tn,un.then(An=>(mn.toUnicode=An,this.buildToUnicode(mn))).then(An=>(mn.toUnicode=An,Jt&&(mn.cidToGidMap=this.readCidToGidMap(Jt,An)),mn))}_simpleFontToUnicode(Tn,Sn=!1){(0,wt.assert)(!Tn.composite,"Must be a simple font.");const mn=[],fn=Tn.defaultEncoding.slice(),Jt=Tn.baseEncodingName,un=Tn.differences;for(const wn in un){const kn=un[wn];kn!==".notdef"&&(fn[wn]=kn)}const pn=(0,gn.getGlyphsUnicode)();for(const wn in fn){let kn=fn[wn];if(kn==="")continue;let Rn=pn[kn];if(Rn!==void 0){mn[wn]=String.fromCharCode(Rn);continue}let Cn=0;switch(kn[0]){case"G":kn.length===3&&(Cn=parseInt(kn.substring(1),16));break;case"g":kn.length===5&&(Cn=parseInt(kn.substring(1),16));break;case"C":case"c":if(kn.length>=3&&kn.length<=4){const An=kn.substring(1);if(Sn){Cn=parseInt(An,16);break}if(Cn=+An,Number.isNaN(Cn)&&Number.isInteger(parseInt(An,16)))return this._simpleFontToUnicode(Tn,!0)}break;case"u":Rn=(0,bn.getUnicodeForGlyph)(kn,pn),Rn!==-1&&(Cn=Rn);break;default:switch(kn){case"f_h":case"f_t":case"T_h":mn[wn]=kn.replaceAll("_","");continue}break}if(Cn>0&&Cn<=1114111&&Number.isInteger(Cn)){if(Jt&&Cn===+wn){const An=(0,bt.getEncoding)(Jt);if(An&&(kn=An[wn])){mn[wn]=String.fromCharCode(pn[kn]);continue}}mn[wn]=String.fromCodePoint(Cn)}}return mn}async buildToUnicode(Tn){var Sn;if(Tn.hasIncludedToUnicodeMap=((Sn=Tn.toUnicode)==null?void 0:Sn.length)>0,Tn.hasIncludedToUnicodeMap)return!Tn.composite&&Tn.hasEncoding&&(Tn.fallbackToUnicode=this._simpleFontToUnicode(Tn)),Tn.toUnicode;if(!Tn.composite)return new Nt.ToUnicodeMap(this._simpleFontToUnicode(Tn));if(Tn.composite&&(Tn.cMap.builtInCMap&&!(Tn.cMap instanceof _t.IdentityCMap)||Tn.cidSystemInfo.registry==="Adobe"&&(Tn.cidSystemInfo.ordering==="GB1"||Tn.cidSystemInfo.ordering==="CNS1"||Tn.cidSystemInfo.ordering==="Japan1"||Tn.cidSystemInfo.ordering==="Korea1"))){const{registry:mn,ordering:fn}=Tn.cidSystemInfo,Jt=Pt.Name.get(`${mn}-${fn}-UCS2`),un=await _t.CMapFactory.create({encoding:Jt,fetchBuiltInCMap:this._fetchBuiltInCMapBound,useCMap:null}),pn=[],wn=[];return Tn.cMap.forEach(function(kn,Rn){if(Rn>65535)throw new wt.FormatError("Max size of CID is 65,535");const Cn=un.lookup(Rn);if(Cn){wn.length=0;for(let An=0,_n=Cn.length;An<_n;An+=2)wn.push((Cn.charCodeAt(An)<<8)+Cn.charCodeAt(An+1));pn[kn]=String.fromCharCode(...wn)}}),new Nt.ToUnicodeMap(pn)}return new Nt.IdentityToUnicodeMap(Tn.firstChar,Tn.lastChar)}readToUnicode(Tn){return Tn?Tn instanceof Pt.Name?_t.CMapFactory.create({encoding:Tn,fetchBuiltInCMap:this._fetchBuiltInCMapBound,useCMap:null}).then(function(Sn){return Sn instanceof _t.IdentityCMap?new Nt.IdentityToUnicodeMap(0,65535):new Nt.ToUnicodeMap(Sn.getMap())}):Tn instanceof qt.BaseStream?_t.CMapFactory.create({encoding:Tn,fetchBuiltInCMap:this._fetchBuiltInCMapBound,useCMap:null}).then(function(Sn){if(Sn instanceof _t.IdentityCMap)return new Nt.IdentityToUnicodeMap(0,65535);const mn=new Array(Sn.length);return Sn.forEach(function(fn,Jt){if(typeof Jt=="number"){mn[fn]=String.fromCodePoint(Jt);return}const un=[];for(let pn=0;pn<Jt.length;pn+=2){const wn=Jt.charCodeAt(pn)<<8|Jt.charCodeAt(pn+1);if((wn&63488)!==55296){un.push(wn);continue}pn+=2;const kn=Jt.charCodeAt(pn)<<8|Jt.charCodeAt(pn+1);un.push(((wn&1023)<<10)+(kn&1023)+65536)}mn[fn]=String.fromCodePoint(...un)}),new Nt.ToUnicodeMap(mn)},Sn=>{if(Sn instanceof wt.AbortException)return null;if(this.options.ignoreErrors)return(0,wt.warn)(`readToUnicode - ignoring ToUnicode data: "${Sn}".`),null;throw Sn}):Promise.resolve(null):Promise.resolve(null)}readCidToGidMap(Tn,Sn){const mn=[];for(let fn=0,Jt=Tn.length;fn<Jt;fn++){const un=Tn[fn++]<<8|Tn[fn],pn=fn>>1;un===0&&!Sn.has(pn)||(mn[pn]=un)}return mn}extractWidths(Tn,Sn,mn){const fn=this.xref;let Jt=[],un=0;const pn=[];let wn,kn,Rn,Cn,An,_n,In,Pn;if(mn.composite){if(un=Tn.has("DW")?Tn.get("DW"):1e3,Pn=Tn.get("W"),Pn)for(kn=0,Rn=Pn.length;kn<Rn;kn++)if(_n=fn.fetchIfRef(Pn[kn++]),In=fn.fetchIfRef(Pn[kn]),Array.isArray(In))for(Cn=0,An=In.length;Cn<An;Cn++)Jt[_n++]=fn.fetchIfRef(In[Cn]);else{const Un=fn.fetchIfRef(Pn[++kn]);for(Cn=_n;Cn<=In;Cn++)Jt[Cn]=Un}if(mn.vertical){let Un=Tn.getArray("DW2")||[880,-1e3];if(wn=[Un[1],un*.5,Un[0]],Un=Tn.get("W2"),Un)for(kn=0,Rn=Un.length;kn<Rn;kn++)if(_n=fn.fetchIfRef(Un[kn++]),In=fn.fetchIfRef(Un[kn]),Array.isArray(In))for(Cn=0,An=In.length;Cn<An;Cn++)pn[_n++]=[fn.fetchIfRef(In[Cn++]),fn.fetchIfRef(In[Cn++]),fn.fetchIfRef(In[Cn])];else{const tr=[fn.fetchIfRef(Un[++kn]),fn.fetchIfRef(Un[++kn]),fn.fetchIfRef(Un[++kn])];for(Cn=_n;Cn<=In;Cn++)pn[Cn]=tr}}}else{const Un=mn.firstChar;if(Pn=Tn.get("Widths"),Pn){for(Cn=Un,kn=0,Rn=Pn.length;kn<Rn;kn++)Jt[Cn++]=fn.fetchIfRef(Pn[kn]);un=parseFloat(Sn.get("MissingWidth"))||0}else{const tr=Tn.get("BaseFont");if(tr instanceof Pt.Name){const er=this.getBaseFontMetrics(tr.name);Jt=this.buildCharCodeToWidth(er.widths,mn),un=er.defaultWidth}}}let Dn=!0,Ln=un;for(const Un in Jt){const tr=Jt[Un];if(tr){if(!Ln){Ln=tr;continue}if(Ln!==tr){Dn=!1;break}}}Dn?mn.flags|=dn.FontFlags.FixedPitch:mn.flags&=~dn.FontFlags.FixedPitch,mn.defaultWidth=un,mn.widths=Jt,mn.defaultVMetrics=wn,mn.vmetrics=pn}isSerifFont(Tn){const Sn=Tn.split("-")[0];return Sn in(0,Ft.getSerifFonts)()||/serif/gi.test(Sn)}getBaseFontMetrics(Tn){let Sn=0,mn=Object.create(null),fn=!1,un=(0,Ft.getStdFontMap)()[Tn]||Tn;const pn=(0,nn.getMetrics)();un in pn||(un=this.isSerifFont(Tn)?"Times-Roman":"Helvetica");const wn=pn[un];return typeof wn=="number"?(Sn=wn,fn=!0):mn=wn(),{defaultWidth:Sn,monospace:fn,widths:mn}}buildCharCodeToWidth(Tn,Sn){const mn=Object.create(null),fn=Sn.differences,Jt=Sn.defaultEncoding;for(let un=0;un<256;un++){if(un in fn&&Tn[fn[un]]){mn[un]=Tn[fn[un]];continue}if(un in Jt&&Tn[Jt[un]]){mn[un]=Tn[Jt[un]];continue}}return mn}preEvaluateFont(Tn){const Sn=Tn;let mn=Tn.get("Subtype");if(!(mn instanceof Pt.Name))throw new wt.FormatError("invalid font Subtype");let fn=!1,Jt,un;if(mn.name==="Type0"){const Rn=Tn.get("DescendantFonts");if(!Rn)throw new wt.FormatError("Descendant fonts are not specified");if(Tn=Array.isArray(Rn)?this.xref.fetchIfRef(Rn[0]):Rn,!(Tn instanceof Pt.Dict))throw new wt.FormatError("Descendant font is not a dictionary.");if(mn=Tn.get("Subtype"),!(mn instanceof Pt.Name))throw new wt.FormatError("invalid font Subtype");fn=!0}const pn=Tn.get("FirstChar")||0,wn=Tn.get("LastChar")||(fn?65535:255),kn=Tn.get("FontDescriptor");if(kn){Jt=new Yt.MurmurHash3_64;const Rn=Sn.getRaw("Encoding");if(Rn instanceof Pt.Name)Jt.update(Rn.name);else if(Rn instanceof Pt.Ref)Jt.update(Rn.toString());else if(Rn instanceof Pt.Dict){for(const An of Rn.getRawValues())if(An instanceof Pt.Name)Jt.update(An.name);else if(An instanceof Pt.Ref)Jt.update(An.toString());else if(Array.isArray(An)){const _n=An.length,In=new Array(_n);for(let Pn=0;Pn<_n;Pn++){const Dn=An[Pn];Dn instanceof Pt.Name?In[Pn]=Dn.name:(typeof Dn=="number"||Dn instanceof Pt.Ref)&&(In[Pn]=Dn.toString())}Jt.update(In.join())}}if(Jt.update(`${pn}-${wn}`),un=Tn.get("ToUnicode")||Sn.get("ToUnicode"),un instanceof qt.BaseStream){const An=un.str||un,_n=An.buffer?new Uint8Array(An.buffer.buffer,0,An.bufferLength):new Uint8Array(An.bytes.buffer,An.start,An.end-An.start);Jt.update(_n)}else un instanceof Pt.Name&&Jt.update(un.name);const Cn=Tn.get("Widths")||Sn.get("Widths");if(Array.isArray(Cn)){const An=[];for(const _n of Cn)(typeof _n=="number"||_n instanceof Pt.Ref)&&An.push(_n.toString());Jt.update(An.join())}if(fn){Jt.update("compositeFont");const An=Tn.get("W")||Sn.get("W");if(Array.isArray(An)){const In=[];for(const Pn of An)if(typeof Pn=="number"||Pn instanceof Pt.Ref)In.push(Pn.toString());else if(Array.isArray(Pn)){const Dn=[];for(const Ln of Pn)(typeof Ln=="number"||Ln instanceof Pt.Ref)&&Dn.push(Ln.toString());In.push(`[${Dn.join()}]`)}Jt.update(In.join())}const _n=Tn.getRaw("CIDToGIDMap")||Sn.getRaw("CIDToGIDMap");_n instanceof Pt.Name?Jt.update(_n.name):_n instanceof Pt.Ref?Jt.update(_n.toString()):_n instanceof qt.BaseStream&&Jt.update(_n.peekBytes())}}return{descriptor:kn,dict:Tn,baseDict:Sn,composite:fn,type:mn.name,firstChar:pn,lastChar:wn,toUnicode:un,hash:Jt?Jt.hexdigest():""}}async translateFont({descriptor:Tn,dict:Sn,baseDict:mn,composite:fn,type:Jt,firstChar:un,lastChar:pn,toUnicode:wn,cssFontInfo:kn}){const Rn=Jt==="Type3";let Cn;if(!Tn)if(Rn)Tn=new Pt.Dict(null),Tn.set("FontName",Pt.Name.get(Jt)),Tn.set("FontBBox",Sn.getArray("FontBBox")||[0,0,0,0]);else{let nr=Sn.get("BaseFont");if(!(nr instanceof Pt.Name))throw new wt.FormatError("Base font is not specified");nr=nr.name.replaceAll(/[,_]/g,"-");const lr=this.getBaseFontMetrics(nr),dr=nr.split("-")[0],Bn=(this.isSerifFont(dr)?dn.FontFlags.Serif:0)|(lr.monospace?dn.FontFlags.FixedPitch:0)|((0,Ft.getSymbolsFonts)()[dr]?dn.FontFlags.Symbolic:dn.FontFlags.Nonsymbolic);Cn={type:Jt,name:nr,loadedName:mn.loadedName,systemFontInfo:null,widths:lr.widths,defaultWidth:lr.defaultWidth,isSimulatedFlags:!0,flags:Bn,firstChar:un,lastChar:pn,toUnicode:wn,xHeight:0,capHeight:0,italicAngle:0,isType3Font:Rn};const Hn=Sn.get("Widths"),Wn=(0,Ft.getStandardFontName)(nr);let cr=null;return Wn&&(cr=await this.fetchStandardFontData(Wn),Cn.isInternalFont=!!cr),!Cn.isInternalFont&&this.options.useSystemFonts&&(Cn.systemFontInfo=(0,Qt.getFontSubstitution)(this.systemFontCache,this.idFactory,this.options.standardFontDataUrl,nr,Wn)),this.extractDataStructures(Sn,Sn,Cn).then(sr=>{if(Hn){const xr=[];let Jn=un;for(const Vn of Hn)xr[Jn++]=this.xref.fetchIfRef(Vn);sr.widths=xr}else sr.widths=this.buildCharCodeToWidth(lr.widths,sr);return new _e.Font(nr,cr,sr)})}let An=Tn.get("FontName"),_n=Sn.get("BaseFont");typeof An=="string"&&(An=Pt.Name.get(An)),typeof _n=="string"&&(_n=Pt.Name.get(_n));const In=An==null?void 0:An.name,Pn=_n==null?void 0:_n.name;if(!Rn&&In!==Pn&&((0,wt.info)(`The FontDescriptor's FontName is "${In}" but should be the same as the Font's BaseFont "${Pn}".`),In&&Pn&&(Pn.startsWith(In)||!(0,Ft.isKnownFontName)(In)&&(0,Ft.isKnownFontName)(Pn))&&(An=null)),An||(An=_n),!(An instanceof Pt.Name))throw new wt.FormatError("invalid font name");let Dn,Ln,Un,tr,er;try{Dn=Tn.get("FontFile","FontFile2","FontFile3")}catch(nr){if(!this.options.ignoreErrors)throw nr;(0,wt.warn)(`translateFont - fetching "${An.name}" font file: "${nr}".`),Dn=new Ct.NullStream}let Qn=!1,Yn=null,Xn=null;if(Dn){if(Dn.dict){const nr=Dn.dict.get("Subtype");nr instanceof Pt.Name&&(Ln=nr.name),Un=Dn.dict.get("Length1"),tr=Dn.dict.get("Length2"),er=Dn.dict.get("Length3")}}else if(kn){const nr=(0,Kt.getXfaFontName)(An.name);nr&&(kn.fontFamily=`${kn.fontFamily}-PdfJS-XFA`,kn.metrics=nr.metrics||null,Yn=nr.factors||null,Dn=await this.fetchStandardFontData(nr.name),Qn=!!Dn,mn=Sn=(0,Kt.getXfaFontDict)(An.name),fn=!0)}else if(!Rn){const nr=(0,Ft.getStandardFontName)(An.name);nr&&(Dn=await this.fetchStandardFontData(nr),Qn=!!Dn),!Qn&&this.options.useSystemFonts&&(Xn=(0,Qt.getFontSubstitution)(this.systemFontCache,this.idFactory,this.options.standardFontDataUrl,An.name,nr))}if(Cn={type:Jt,name:An.name,subtype:Ln,file:Dn,length1:Un,length2:tr,length3:er,isInternalFont:Qn,loadedName:mn.loadedName,composite:fn,fixedPitch:!1,fontMatrix:Sn.getArray("FontMatrix")||wt.FONT_IDENTITY_MATRIX,firstChar:un,lastChar:pn,toUnicode:wn,bbox:Tn.getArray("FontBBox")||Sn.getArray("FontBBox"),ascent:Tn.get("Ascent"),descent:Tn.get("Descent"),xHeight:Tn.get("XHeight")||0,capHeight:Tn.get("CapHeight")||0,flags:Tn.get("Flags"),italicAngle:Tn.get("ItalicAngle")||0,isType3Font:Rn,cssFontInfo:kn,scaleFactors:Yn,systemFontInfo:Xn},fn){const nr=mn.get("Encoding");nr instanceof Pt.Name&&(Cn.cidEncoding=nr.name);const lr=await _t.CMapFactory.create({encoding:nr,fetchBuiltInCMap:this._fetchBuiltInCMapBound,useCMap:null});Cn.cMap=lr,Cn.vertical=Cn.cMap.vertical}return this.extractDataStructures(Sn,mn,Cn).then(nr=>(this.extractWidths(Sn,Tn,nr),new _e.Font(An.name,Dn,nr)))}static buildFontPaths(Tn,Sn,mn,fn){function Jt(un){const pn=`${Tn.loadedName}_path_${un}`;try{if(Tn.renderer.hasBuiltPath(un))return;mn.send("commonobj",[pn,"FontPath",Tn.renderer.getPathJs(un)])}catch(wn){if(fn.ignoreErrors){(0,wt.warn)(`buildFontPaths - ignoring ${pn} glyph: "${wn}".`);return}throw wn}}for(const un of Sn){Jt(un.fontChar);const pn=un.accent;pn!=null&&pn.fontChar&&Jt(pn.fontChar)}}static get fallbackFontDict(){const Tn=new Pt.Dict;return Tn.set("BaseFont",Pt.Name.get("Helvetica")),Tn.set("Type",Pt.Name.get("FallbackType")),Tn.set("Subtype",Pt.Name.get("FallbackType")),Tn.set("Encoding",Pt.Name.get("WinAnsiEncoding")),(0,wt.shadow)(this,"fallbackFontDict",Tn)}}Et.PartialEvaluator=on;class cn{constructor({loadedName:Tn,font:Sn,dict:mn,evaluatorOptions:fn}){this.loadedName=Tn,this.font=Sn,this.dict=mn,this._evaluatorOptions=fn||Ot,this.type3Loaded=null,this.type3Dependencies=Sn.isType3Font?new Set:null,this.sent=!1}send(Tn){this.sent||(this.sent=!0,Tn.send("commonobj",[this.loadedName,"Font",this.font.exportData(this._evaluatorOptions.fontExtraProperties)]))}fallback(Tn){this.font.data&&(this.font.disableFontFace=!0,on.buildFontPaths(this.font,this.font.glyphCacheValues,Tn,this._evaluatorOptions))}loadType3Data(Tn,Sn,mn){if(this.type3Loaded)return this.type3Loaded;if(!this.font.isType3Font)throw new Error("Must be a Type3 font.");const fn=Tn.clone({ignoreErrors:!1});fn.parsingType3Font=!0;const Jt=new Pt.RefSet(Tn.type3FontRefs);this.dict.objId&&!Jt.has(this.dict.objId)&&Jt.put(this.dict.objId),fn.type3FontRefs=Jt;const un=this.font,pn=this.type3Dependencies;let wn=Promise.resolve();const kn=this.dict.get("CharProcs"),Rn=this.dict.get("Resources")||Sn,Cn=Object.create(null),An=wt.Util.normalizeRect(un.bbox||[0,0,0,0]),_n=An[2]-An[0],In=An[3]-An[1],Pn=Math.hypot(_n,In);for(const Dn of kn.getKeys())wn=wn.then(()=>{const Ln=kn.get(Dn),Un=new hn.OperatorList;return fn.getOperatorList({stream:Ln,task:mn,resources:Rn,operatorList:Un}).then(()=>{Un.fnArray[0]===wt.OPS.setCharWidthAndBounds&&this._removeType3ColorOperators(Un,Pn),Cn[Dn]=Un.getIR();for(const tr of Un.dependencies)pn.add(tr)}).catch(function(tr){(0,wt.warn)(`Type3 font resource "${Dn}" is not available.`);const er=new hn.OperatorList;Cn[Dn]=er.getIR()})});return this.type3Loaded=wn.then(()=>{un.charProcOperatorList=Cn,this._bbox&&(un.isCharBBox=!0,un.bbox=this._bbox)}),this.type3Loaded}_removeType3ColorOperators(Tn,Sn=NaN){const mn=wt.Util.normalizeRect(Tn.argsArray[0].slice(2)),fn=mn[2]-mn[0],Jt=mn[3]-mn[1],un=Math.hypot(fn,Jt);fn===0||Jt===0?(Tn.fnArray.splice(0,1),Tn.argsArray.splice(0,1)):(Sn===0||Math.round(un/Sn)>=10)&&(this._bbox||(this._bbox=[1/0,1/0,-1/0,-1/0]),this._bbox[0]=Math.min(this._bbox[0],mn[0]),this._bbox[1]=Math.min(this._bbox[1],mn[1]),this._bbox[2]=Math.max(this._bbox[2],mn[2]),this._bbox[3]=Math.max(this._bbox[3],mn[3]));let pn=0,wn=Tn.length;for(;pn<wn;){switch(Tn.fnArray[pn]){case wt.OPS.setCharWidthAndBounds:break;case wt.OPS.setStrokeColorSpace:case wt.OPS.setFillColorSpace:case wt.OPS.setStrokeColor:case wt.OPS.setStrokeColorN:case wt.OPS.setFillColor:case wt.OPS.setFillColorN:case wt.OPS.setStrokeGray:case wt.OPS.setFillGray:case wt.OPS.setStrokeRGBColor:case wt.OPS.setFillRGBColor:case wt.OPS.setStrokeCMYKColor:case wt.OPS.setFillCMYKColor:case wt.OPS.shadingFill:case wt.OPS.setRenderingIntent:Tn.fnArray.splice(pn,1),Tn.argsArray.splice(pn,1),wn--;continue;case wt.OPS.setGState:const[kn]=Tn.argsArray[pn];let Rn=0,Cn=kn.length;for(;Rn<Cn;){const[An]=kn[Rn];switch(An){case"TR":case"TR2":case"HT":case"BG":case"BG2":case"UCR":case"UCR2":kn.splice(Rn,1),Cn--;continue}Rn++}break}pn++}}}class sn{constructor(Tn=new xn){this.state=Tn,this.stateStack=[]}save(){const Tn=this.state;this.stateStack.push(this.state),this.state=Tn.clone()}restore(){const Tn=this.stateStack.pop();Tn&&(this.state=Tn)}transform(Tn){this.state.ctm=wt.Util.transform(this.state.ctm,Tn)}}class rn{constructor(){this.ctm=new Float32Array(wt.IDENTITY_MATRIX),this.fontName=null,this.fontSize=0,this.loadedName=null,this.font=null,this.fontMatrix=wt.FONT_IDENTITY_MATRIX,this.textMatrix=wt.IDENTITY_MATRIX.slice(),this.textLineMatrix=wt.IDENTITY_MATRIX.slice(),this.charSpacing=0,this.wordSpacing=0,this.leading=0,this.textHScale=1,this.textRise=0}setTextMatrix(Tn,Sn,mn,fn,Jt,un){const pn=this.textMatrix;pn[0]=Tn,pn[1]=Sn,pn[2]=mn,pn[3]=fn,pn[4]=Jt,pn[5]=un}setTextLineMatrix(Tn,Sn,mn,fn,Jt,un){const pn=this.textLineMatrix;pn[0]=Tn,pn[1]=Sn,pn[2]=mn,pn[3]=fn,pn[4]=Jt,pn[5]=un}translateTextMatrix(Tn,Sn){const mn=this.textMatrix;mn[4]=mn[0]*Tn+mn[2]*Sn+mn[4],mn[5]=mn[1]*Tn+mn[3]*Sn+mn[5]}translateTextLineMatrix(Tn,Sn){const mn=this.textLineMatrix;mn[4]=mn[0]*Tn+mn[2]*Sn+mn[4],mn[5]=mn[1]*Tn+mn[3]*Sn+mn[5]}carriageReturn(){this.translateTextLineMatrix(0,-this.leading),this.textMatrix=this.textLineMatrix.slice()}clone(){const Tn=Object.create(this);return Tn.textMatrix=this.textMatrix.slice(),Tn.textLineMatrix=this.textLineMatrix.slice(),Tn.fontMatrix=this.fontMatrix.slice(),Tn}}class xn{constructor(){this.ctm=new Float32Array(wt.IDENTITY_MATRIX),this.font=null,this.textRenderingMode=wt.TextRenderingMode.FILL,this.fillColorSpace=Gt.ColorSpace.singletons.gray,this.strokeColorSpace=Gt.ColorSpace.singletons.gray}clone(){return Object.create(this)}}const Fn=class Fn{static get opMap(){return(0,wt.shadow)(this,"opMap",{w:{id:wt.OPS.setLineWidth,numArgs:1,variableArgs:!1},J:{id:wt.OPS.setLineCap,numArgs:1,variableArgs:!1},j:{id:wt.OPS.setLineJoin,numArgs:1,variableArgs:!1},M:{id:wt.OPS.setMiterLimit,numArgs:1,variableArgs:!1},d:{id:wt.OPS.setDash,numArgs:2,variableArgs:!1},ri:{id:wt.OPS.setRenderingIntent,numArgs:1,variableArgs:!1},i:{id:wt.OPS.setFlatness,numArgs:1,variableArgs:!1},gs:{id:wt.OPS.setGState,numArgs:1,variableArgs:!1},q:{id:wt.OPS.save,numArgs:0,variableArgs:!1},Q:{id:wt.OPS.restore,numArgs:0,variableArgs:!1},cm:{id:wt.OPS.transform,numArgs:6,variableArgs:!1},m:{id:wt.OPS.moveTo,numArgs:2,variableArgs:!1},l:{id:wt.OPS.lineTo,numArgs:2,variableArgs:!1},c:{id:wt.OPS.curveTo,numArgs:6,variableArgs:!1},v:{id:wt.OPS.curveTo2,numArgs:4,variableArgs:!1},y:{id:wt.OPS.curveTo3,numArgs:4,variableArgs:!1},h:{id:wt.OPS.closePath,numArgs:0,variableArgs:!1},re:{id:wt.OPS.rectangle,numArgs:4,variableArgs:!1},S:{id:wt.OPS.stroke,numArgs:0,variableArgs:!1},s:{id:wt.OPS.closeStroke,numArgs:0,variableArgs:!1},f:{id:wt.OPS.fill,numArgs:0,variableArgs:!1},F:{id:wt.OPS.fill,numArgs:0,variableArgs:!1},"f*":{id:wt.OPS.eoFill,numArgs:0,variableArgs:!1},B:{id:wt.OPS.fillStroke,numArgs:0,variableArgs:!1},"B*":{id:wt.OPS.eoFillStroke,numArgs:0,variableArgs:!1},b:{id:wt.OPS.closeFillStroke,numArgs:0,variableArgs:!1},"b*":{id:wt.OPS.closeEOFillStroke,numArgs:0,variableArgs:!1},n:{id:wt.OPS.endPath,numArgs:0,variableArgs:!1},W:{id:wt.OPS.clip,numArgs:0,variableArgs:!1},"W*":{id:wt.OPS.eoClip,numArgs:0,variableArgs:!1},BT:{id:wt.OPS.beginText,numArgs:0,variableArgs:!1},ET:{id:wt.OPS.endText,numArgs:0,variableArgs:!1},Tc:{id:wt.OPS.setCharSpacing,numArgs:1,variableArgs:!1},Tw:{id:wt.OPS.setWordSpacing,numArgs:1,variableArgs:!1},Tz:{id:wt.OPS.setHScale,numArgs:1,variableArgs:!1},TL:{id:wt.OPS.setLeading,numArgs:1,variableArgs:!1},Tf:{id:wt.OPS.setFont,numArgs:2,variableArgs:!1},Tr:{id:wt.OPS.setTextRenderingMode,numArgs:1,variableArgs:!1},Ts:{id:wt.OPS.setTextRise,numArgs:1,variableArgs:!1},Td:{id:wt.OPS.moveText,numArgs:2,variableArgs:!1},TD:{id:wt.OPS.setLeadingMoveText,numArgs:2,variableArgs:!1},Tm:{id:wt.OPS.setTextMatrix,numArgs:6,variableArgs:!1},"T*":{id:wt.OPS.nextLine,numArgs:0,variableArgs:!1},Tj:{id:wt.OPS.showText,numArgs:1,variableArgs:!1},TJ:{id:wt.OPS.showSpacedText,numArgs:1,variableArgs:!1},"'":{id:wt.OPS.nextLineShowText,numArgs:1,variableArgs:!1},'"':{id:wt.OPS.nextLineSetSpacingShowText,numArgs:3,variableArgs:!1},d0:{id:wt.OPS.setCharWidth,numArgs:2,variableArgs:!1},d1:{id:wt.OPS.setCharWidthAndBounds,numArgs:6,variableArgs:!1},CS:{id:wt.OPS.setStrokeColorSpace,numArgs:1,variableArgs:!1},cs:{id:wt.OPS.setFillColorSpace,numArgs:1,variableArgs:!1},SC:{id:wt.OPS.setStrokeColor,numArgs:4,variableArgs:!0},SCN:{id:wt.OPS.setStrokeColorN,numArgs:33,variableArgs:!0},sc:{id:wt.OPS.setFillColor,numArgs:4,variableArgs:!0},scn:{id:wt.OPS.setFillColorN,numArgs:33,variableArgs:!0},G:{id:wt.OPS.setStrokeGray,numArgs:1,variableArgs:!1},g:{id:wt.OPS.setFillGray,numArgs:1,variableArgs:!1},RG:{id:wt.OPS.setStrokeRGBColor,numArgs:3,variableArgs:!1},rg:{id:wt.OPS.setFillRGBColor,numArgs:3,variableArgs:!1},K:{id:wt.OPS.setStrokeCMYKColor,numArgs:4,variableArgs:!1},k:{id:wt.OPS.setFillCMYKColor,numArgs:4,variableArgs:!1},sh:{id:wt.OPS.shadingFill,numArgs:1,variableArgs:!1},BI:{id:wt.OPS.beginInlineImage,numArgs:0,variableArgs:!1},ID:{id:wt.OPS.beginImageData,numArgs:0,variableArgs:!1},EI:{id:wt.OPS.endInlineImage,numArgs:1,variableArgs:!1},Do:{id:wt.OPS.paintXObject,numArgs:1,variableArgs:!1},MP:{id:wt.OPS.markPoint,numArgs:1,variableArgs:!1},DP:{id:wt.OPS.markPointProps,numArgs:2,variableArgs:!1},BMC:{id:wt.OPS.beginMarkedContent,numArgs:1,variableArgs:!1},BDC:{id:wt.OPS.beginMarkedContentProps,numArgs:2,variableArgs:!1},EMC:{id:wt.OPS.endMarkedContent,numArgs:0,variableArgs:!1},BX:{id:wt.OPS.beginCompat,numArgs:0,variableArgs:!1},EX:{id:wt.OPS.endCompat,numArgs:0,variableArgs:!1},BM:null,BD:null,true:null,fa:null,fal:null,fals:null,false:null,nu:null,nul:null,null:null})}constructor(Tn,Sn,mn=new sn){this.parser=new Dt.Parser({lexer:new Dt.Lexer(Tn,Fn.opMap),xref:Sn}),this.stateManager=mn,this.nonProcessedArgs=[],this._isPathOp=!1,this._numInvalidPathOPS=0}get savedStatesDepth(){return this.stateManager.stateStack.length}read(Tn){let Sn=Tn.args;for(;;){const mn=this.parser.getObj();if(mn instanceof Pt.Cmd){const fn=mn.cmd,Jt=Fn.opMap[fn];if(!Jt){(0,wt.warn)(`Unknown command "${fn}".`);continue}const un=Jt.id,pn=Jt.numArgs;let wn=Sn!==null?Sn.length:0;if(this._isPathOp||(this._numInvalidPathOPS=0),this._isPathOp=un>=wt.OPS.moveTo&&un<=wt.OPS.endPath,Jt.variableArgs)wn>pn&&(0,wt.info)(`Command ${fn}: expected [0, ${pn}] args, but received ${wn} args.`);else{if(wn!==pn){const kn=this.nonProcessedArgs;for(;wn>pn;)kn.push(Sn.shift()),wn--;for(;wn<pn&&kn.length!==0;)Sn===null&&(Sn=[]),Sn.unshift(kn.pop()),wn++}if(wn<pn){const kn=`command ${fn}: expected ${pn} args, but received ${wn} args.`;if(this._isPathOp&&++this._numInvalidPathOPS>Fn.MAX_INVALID_PATH_OPS)throw new wt.FormatError(`Invalid ${kn}`);(0,wt.warn)(`Skipping ${kn}`),Sn!==null&&(Sn.length=0);continue}}return this.preprocessCommand(un,Sn),Tn.fn=un,Tn.args=Sn,!0}if(mn===Pt.EOF)return!1;if(mn!==null&&(Sn===null&&(Sn=[]),Sn.push(mn),Sn.length>33))throw new wt.FormatError("Too many arguments")}}preprocessCommand(Tn,Sn){switch(Tn|0){case wt.OPS.save:this.stateManager.save();break;case wt.OPS.restore:this.stateManager.restore();break;case wt.OPS.transform:this.stateManager.transform(Sn);break}}};Ur(Fn,"MAX_INVALID_PATH_OPS",10);let vn=Fn;Et.EvaluatorPreprocessor=vn},(kt,Et,Rt)=>{Object.defineProperty(Et,"__esModule",{value:!0}),Et.IdentityCMap=Et.CMapFactory=Et.CMap=void 0;var wt=Rt(2),_t=Rt(4),Pt=Rt(5),_e=Rt(15),bt=Rt(16),Ft=Rt(3),Xt=Rt(8);const Kt=["Adobe-GB1-UCS2","Adobe-CNS1-UCS2","Adobe-Japan1-UCS2","Adobe-Korea1-UCS2","78-EUC-H","78-EUC-V","78-H","78-RKSJ-H","78-RKSJ-V","78-V","78ms-RKSJ-H","78ms-RKSJ-V","83pv-RKSJ-H","90ms-RKSJ-H","90ms-RKSJ-V","90msp-RKSJ-H","90msp-RKSJ-V","90pv-RKSJ-H","90pv-RKSJ-V","Add-H","Add-RKSJ-H","Add-RKSJ-V","Add-V","Adobe-CNS1-0","Adobe-CNS1-1","Adobe-CNS1-2","Adobe-CNS1-3","Adobe-CNS1-4","Adobe-CNS1-5","Adobe-CNS1-6","Adobe-GB1-0","Adobe-GB1-1","Adobe-GB1-2","Adobe-GB1-3","Adobe-GB1-4","Adobe-GB1-5","Adobe-Japan1-0","Adobe-Japan1-1","Adobe-Japan1-2","Adobe-Japan1-3","Adobe-Japan1-4","Adobe-Japan1-5","Adobe-Japan1-6","Adobe-Korea1-0","Adobe-Korea1-1","Adobe-Korea1-2","B5-H","B5-V","B5pc-H","B5pc-V","CNS-EUC-H","CNS-EUC-V","CNS1-H","CNS1-V","CNS2-H","CNS2-V","ETHK-B5-H","ETHK-B5-V","ETen-B5-H","ETen-B5-V","ETenms-B5-H","ETenms-B5-V","EUC-H","EUC-V","Ext-H","Ext-RKSJ-H","Ext-RKSJ-V","Ext-V","GB-EUC-H","GB-EUC-V","GB-H","GB-V","GBK-EUC-H","GBK-EUC-V","GBK2K-H","GBK2K-V","GBKp-EUC-H","GBKp-EUC-V","GBT-EUC-H","GBT-EUC-V","GBT-H","GBT-V","GBTpc-EUC-H","GBTpc-EUC-V","GBpc-EUC-H","GBpc-EUC-V","H","HKdla-B5-H","HKdla-B5-V","HKdlb-B5-H","HKdlb-B5-V","HKgccs-B5-H","HKgccs-B5-V","HKm314-B5-H","HKm314-B5-V","HKm471-B5-H","HKm471-B5-V","HKscs-B5-H","HKscs-B5-V","Hankaku","Hiragana","KSC-EUC-H","KSC-EUC-V","KSC-H","KSC-Johab-H","KSC-Johab-V","KSC-V","KSCms-UHC-H","KSCms-UHC-HW-H","KSCms-UHC-HW-V","KSCms-UHC-V","KSCpc-EUC-H","KSCpc-EUC-V","Katakana","NWP-H","NWP-V","RKSJ-H","RKSJ-V","Roman","UniCNS-UCS2-H","UniCNS-UCS2-V","UniCNS-UTF16-H","UniCNS-UTF16-V","UniCNS-UTF32-H","UniCNS-UTF32-V","UniCNS-UTF8-H","UniCNS-UTF8-V","UniGB-UCS2-H","UniGB-UCS2-V","UniGB-UTF16-H","UniGB-UTF16-V","UniGB-UTF32-H","UniGB-UTF32-V","UniGB-UTF8-H","UniGB-UTF8-V","UniJIS-UCS2-H","UniJIS-UCS2-HW-H","UniJIS-UCS2-HW-V","UniJIS-UCS2-V","UniJIS-UTF16-H","UniJIS-UTF16-V","UniJIS-UTF32-H","UniJIS-UTF32-V","UniJIS-UTF8-H","UniJIS-UTF8-V","UniJIS2004-UTF16-H","UniJIS2004-UTF16-V","UniJIS2004-UTF32-H","UniJIS2004-UTF32-V","UniJIS2004-UTF8-H","UniJIS2004-UTF8-V","UniJISPro-UCS2-HW-V","UniJISPro-UCS2-V","UniJISPro-UTF8-V","UniJISX0213-UTF32-H","UniJISX0213-UTF32-V","UniJISX02132004-UTF32-H","UniJISX02132004-UTF32-V","UniKS-UCS2-H","UniKS-UCS2-V","UniKS-UTF16-H","UniKS-UTF16-V","UniKS-UTF32-H","UniKS-UTF32-V","UniKS-UTF8-H","UniKS-UTF8-V","V","WP-Symbol"],Nt=2**24-1;class $t{constructor(Ot=!1){this.codespaceRanges=[[],[],[],[]],this.numCodespaceRanges=0,this._map=[],this.name="",this.vertical=!1,this.useCMap=null,this.builtInCMap=Ot}addCodespaceRange(Ot,zt,an){this.codespaceRanges[Ot-1].push(zt,an),this.numCodespaceRanges++}mapCidRange(Ot,zt,an){if(zt-Ot>Nt)throw new Error("mapCidRange - ignoring data above MAX_MAP_RANGE.");for(;Ot<=zt;)this._map[Ot++]=an++}mapBfRange(Ot,zt,an){if(zt-Ot>Nt)throw new Error("mapBfRange - ignoring data above MAX_MAP_RANGE.");const Ht=an.length-1;for(;Ot<=zt;){this._map[Ot++]=an;const Wt=an.charCodeAt(Ht)+1;if(Wt>255){an=an.substring(0,Ht-1)+String.fromCharCode(an.charCodeAt(Ht-1)+1)+"\0";continue}an=an.substring(0,Ht)+String.fromCharCode(Wt)}}mapBfRangeToArray(Ot,zt,an){if(zt-Ot>Nt)throw new Error("mapBfRangeToArray - ignoring data above MAX_MAP_RANGE.");const Ht=an.length;let Wt=0;for(;Ot<=zt&&Wt<Ht;)this._map[Ot]=an[Wt++],++Ot}mapOne(Ot,zt){this._map[Ot]=zt}lookup(Ot){return this._map[Ot]}contains(Ot){return this._map[Ot]!==void 0}forEach(Ot){const zt=this._map,an=zt.length;if(an<=65536)for(let Ht=0;Ht<an;Ht++)zt[Ht]!==void 0&&Ot(Ht,zt[Ht]);else for(const Ht in zt)Ot(Ht,zt[Ht])}charCodeOf(Ot){const zt=this._map;if(zt.length<=65536)return zt.indexOf(Ot);for(const an in zt)if(zt[an]===Ot)return an|0;return-1}getMap(){return this._map}readCharCode(Ot,zt,an){let Ht=0;const Wt=this.codespaceRanges;for(let tn=0,ln=Wt.length;tn<ln;tn++){Ht=(Ht<<8|Ot.charCodeAt(zt+tn))>>>0;const on=Wt[tn];for(let cn=0,sn=on.length;cn<sn;){const rn=on[cn++],xn=on[cn++];if(Ht>=rn&&Ht<=xn){an.charcode=Ht,an.length=tn+1;return}}}an.charcode=0,an.length=1}getCharCodeLength(Ot){const zt=this.codespaceRanges;for(let an=0,Ht=zt.length;an<Ht;an++){const Wt=zt[an];for(let tn=0,ln=Wt.length;tn<ln;){const on=Wt[tn++],cn=Wt[tn++];if(Ot>=on&&Ot<=cn)return an+1}}return 1}get length(){return this._map.length}get isIdentityCMap(){if(!(this.name==="Identity-H"||this.name==="Identity-V")||this._map.length!==65536)return!1;for(let Ot=0;Ot<65536;Ot++)if(this._map[Ot]!==Ot)return!1;return!0}}Et.CMap=$t;class Dt extends $t{constructor(Ot,zt){super(),this.vertical=Ot,this.addCodespaceRange(zt,0,65535)}mapCidRange(Ot,zt,an){(0,wt.unreachable)("should not call mapCidRange")}mapBfRange(Ot,zt,an){(0,wt.unreachable)("should not call mapBfRange")}mapBfRangeToArray(Ot,zt,an){(0,wt.unreachable)("should not call mapBfRangeToArray")}mapOne(Ot,zt){(0,wt.unreachable)("should not call mapCidOne")}lookup(Ot){return Number.isInteger(Ot)&&Ot<=65535?Ot:void 0}contains(Ot){return Number.isInteger(Ot)&&Ot<=65535}forEach(Ot){for(let zt=0;zt<=65535;zt++)Ot(zt,zt)}charCodeOf(Ot){return Number.isInteger(Ot)&&Ot<=65535?Ot:-1}getMap(){const Ot=new Array(65536);for(let zt=0;zt<=65535;zt++)Ot[zt]=zt;return Ot}get length(){return 65536}get isIdentityCMap(){(0,wt.unreachable)("should not access .isIdentityCMap")}}Et.IdentityCMap=Dt;function jt(Ut){let Ot=0;for(let zt=0;zt<Ut.length;zt++)Ot=Ot<<8|Ut.charCodeAt(zt);return Ot>>>0}function Ct(Ut){if(typeof Ut!="string")throw new wt.FormatError("Malformed CMap: expected string.")}function qt(Ut){if(!Number.isInteger(Ut))throw new wt.FormatError("Malformed CMap: expected int.")}function Bt(Ut,Ot){for(;;){let zt=Ot.getObj();if(zt===_t.EOF)break;if((0,_t.isCmd)(zt,"endbfchar"))return;Ct(zt);const an=jt(zt);zt=Ot.getObj(),Ct(zt);const Ht=zt;Ut.mapOne(an,Ht)}}function Gt(Ut,Ot){for(;;){let zt=Ot.getObj();if(zt===_t.EOF)break;if((0,_t.isCmd)(zt,"endbfrange"))return;Ct(zt);const an=jt(zt);zt=Ot.getObj(),Ct(zt);const Ht=jt(zt);if(zt=Ot.getObj(),Number.isInteger(zt)||typeof zt=="string"){const Wt=Number.isInteger(zt)?String.fromCharCode(zt):zt;Ut.mapBfRange(an,Ht,Wt)}else if((0,_t.isCmd)(zt,"[")){zt=Ot.getObj();const Wt=[];for(;!(0,_t.isCmd)(zt,"]")&&zt!==_t.EOF;)Wt.push(zt),zt=Ot.getObj();Ut.mapBfRangeToArray(an,Ht,Wt)}else break}throw new wt.FormatError("Invalid bf range.")}function en(Ut,Ot){for(;;){let zt=Ot.getObj();if(zt===_t.EOF)break;if((0,_t.isCmd)(zt,"endcidchar"))return;Ct(zt);const an=jt(zt);zt=Ot.getObj(),qt(zt);const Ht=zt;Ut.mapOne(an,Ht)}}function dn(Ut,Ot){for(;;){let zt=Ot.getObj();if(zt===_t.EOF)break;if((0,_t.isCmd)(zt,"endcidrange"))return;Ct(zt);const an=jt(zt);zt=Ot.getObj(),Ct(zt);const Ht=jt(zt);zt=Ot.getObj(),qt(zt);const Wt=zt;Ut.mapCidRange(an,Ht,Wt)}}function Qt(Ut,Ot){for(;;){let zt=Ot.getObj();if(zt===_t.EOF)break;if((0,_t.isCmd)(zt,"endcodespacerange"))return;if(typeof zt!="string")break;const an=jt(zt);if(zt=Ot.getObj(),typeof zt!="string")break;const Ht=jt(zt);Ut.addCodespaceRange(zt.length,an,Ht)}throw new wt.FormatError("Invalid codespace range.")}function gn(Ut,Ot){const zt=Ot.getObj();Number.isInteger(zt)&&(Ut.vertical=!!zt)}function nn(Ut,Ot){const zt=Ot.getObj();zt instanceof _t.Name&&(Ut.name=zt.name)}async function bn(Ut,Ot,zt,an){let Ht,Wt;e:for(;;)try{const tn=Ot.getObj();if(tn===_t.EOF)break;if(tn instanceof _t.Name)tn.name==="WMode"?gn(Ut,Ot):tn.name==="CMapName"&&nn(Ut,Ot),Ht=tn;else if(tn instanceof _t.Cmd)switch(tn.cmd){case"endcmap":break e;case"usecmap":Ht instanceof _t.Name&&(Wt=Ht.name);break;case"begincodespacerange":Qt(Ut,Ot);break;case"beginbfchar":Bt(Ut,Ot);break;case"begincidchar":en(Ut,Ot);break;case"beginbfrange":Gt(Ut,Ot);break;case"begincidrange":dn(Ut,Ot);break}}catch(tn){if(tn instanceof Ft.MissingDataException)throw tn;(0,wt.warn)("Invalid cMap data: "+tn);continue}return!an&&Wt&&(an=Wt),an?Vt(Ut,zt,an):Ut}async function Vt(Ut,Ot,zt){if(Ut.useCMap=await Yt(zt,Ot),Ut.numCodespaceRanges===0){const an=Ut.useCMap.codespaceRanges;for(let Ht=0;Ht<an.length;Ht++)Ut.codespaceRanges[Ht]=an[Ht].slice();Ut.numCodespaceRanges=Ut.useCMap.numCodespaceRanges}return Ut.useCMap.forEach(function(an,Ht){Ut.contains(an)||Ut.mapOne(an,Ut.useCMap.lookup(an))}),Ut}async function Yt(Ut,Ot){if(Ut==="Identity-H")return new Dt(!1,2);if(Ut==="Identity-V")return new Dt(!0,2);if(!Kt.includes(Ut))throw new Error("Unknown CMap name: "+Ut);if(!Ot)throw new Error("Built-in CMap parameters are not provided.");const{cMapData:zt,compressionType:an}=await Ot(Ut),Ht=new $t(!0);if(an===wt.CMapCompressionType.BINARY)return new _e.BinaryCMapReader().process(zt,Ht,Wt=>Vt(Ht,Ot,Wt));if(an===wt.CMapCompressionType.NONE){const Wt=new bt.Lexer(new Xt.Stream(zt));return bn(Ht,Wt,Ot,null)}throw new Error(`Invalid CMap "compressionType" value: ${an}`)}class hn{static async create({encoding:Ot,fetchBuiltInCMap:zt,useCMap:an}){if(Ot instanceof _t.Name)return Yt(Ot.name,zt);if(Ot instanceof Pt.BaseStream){const Ht=await bn(new $t,new bt.Lexer(Ot),zt,an);return Ht.isIdentityCMap?Yt(Ht.name,zt):Ht}throw new Error("Encoding required.")}}Et.CMapFactory=hn},(kt,Et,Rt)=>{Object.defineProperty(Et,"__esModule",{value:!0}),Et.BinaryCMapReader=void 0;var wt=Rt(2);function _t($t,Dt){let jt=0;for(let Ct=0;Ct<=Dt;Ct++)jt=jt<<8|$t[Ct];return jt>>>0}function Pt($t,Dt){return Dt===1?String.fromCharCode($t[0],$t[1]):Dt===3?String.fromCharCode($t[0],$t[1],$t[2],$t[3]):String.fromCharCode(...$t.subarray(0,Dt+1))}function _e($t,Dt,jt){let Ct=0;for(let qt=jt;qt>=0;qt--)Ct+=$t[qt]+Dt[qt],$t[qt]=Ct&255,Ct>>=8}function bt($t,Dt){let jt=1;for(let Ct=Dt;Ct>=0&&jt>0;Ct--)jt+=$t[Ct],$t[Ct]=jt&255,jt>>=8}const Ft=16,Xt=19;class Kt{constructor(Dt){this.buffer=Dt,this.pos=0,this.end=Dt.length,this.tmpBuf=new Uint8Array(Xt)}readByte(){return this.pos>=this.end?-1:this.buffer[this.pos++]}readNumber(){let Dt=0,jt;do{const Ct=this.readByte();if(Ct<0)throw new wt.FormatError("unexpected EOF in bcmap");jt=!(Ct&128),Dt=Dt<<7|Ct&127}while(!jt);return Dt}readSigned(){const Dt=this.readNumber();return Dt&1?~(Dt>>>1):Dt>>>1}readHex(Dt,jt){Dt.set(this.buffer.subarray(this.pos,this.pos+jt+1)),this.pos+=jt+1}readHexNumber(Dt,jt){let Ct;const qt=this.tmpBuf;let Bt=0;do{const Qt=this.readByte();if(Qt<0)throw new wt.FormatError("unexpected EOF in bcmap");Ct=!(Qt&128),qt[Bt++]=Qt&127}while(!Ct);let Gt=jt,en=0,dn=0;for(;Gt>=0;){for(;dn<8&&qt.length>0;)en|=qt[--Bt]<<dn,dn+=7;Dt[Gt]=en&255,Gt--,en>>=8,dn-=8}}readHexSigned(Dt,jt){this.readHexNumber(Dt,jt);const Ct=Dt[jt]&1?255:0;let qt=0;for(let Bt=0;Bt<=jt;Bt++)qt=(qt&1)<<8|Dt[Bt],Dt[Bt]=qt>>1^Ct}readString(){const Dt=this.readNumber(),jt=new Array(Dt);for(let Ct=0;Ct<Dt;Ct++)jt[Ct]=this.readNumber();return String.fromCharCode(...jt)}}class Nt{async process(Dt,jt,Ct){const qt=new Kt(Dt),Bt=qt.readByte();jt.vertical=!!(Bt&1);let Gt=null;const en=new Uint8Array(Ft),dn=new Uint8Array(Ft),Qt=new Uint8Array(Ft),gn=new Uint8Array(Ft),nn=new Uint8Array(Ft);let bn,Vt;for(;(Vt=qt.readByte())>=0;){const Yt=Vt>>5;if(Yt===7){switch(Vt&31){case 0:qt.readString();break;case 1:Gt=qt.readString();break}continue}const hn=!!(Vt&16),Ut=Vt&15;if(Ut+1>Ft)throw new Error("BinaryCMapReader.process: Invalid dataSize.");const Ot=1,zt=qt.readNumber();switch(Yt){case 0:qt.readHex(en,Ut),qt.readHexNumber(dn,Ut),_e(dn,en,Ut),jt.addCodespaceRange(Ut+1,_t(en,Ut),_t(dn,Ut));for(let an=1;an<zt;an++)bt(dn,Ut),qt.readHexNumber(en,Ut),_e(en,dn,Ut),qt.readHexNumber(dn,Ut),_e(dn,en,Ut),jt.addCodespaceRange(Ut+1,_t(en,Ut),_t(dn,Ut));break;case 1:qt.readHex(en,Ut),qt.readHexNumber(dn,Ut),_e(dn,en,Ut),qt.readNumber();for(let an=1;an<zt;an++)bt(dn,Ut),qt.readHexNumber(en,Ut),_e(en,dn,Ut),qt.readHexNumber(dn,Ut),_e(dn,en,Ut),qt.readNumber();break;case 2:qt.readHex(Qt,Ut),bn=qt.readNumber(),jt.mapOne(_t(Qt,Ut),bn);for(let an=1;an<zt;an++)bt(Qt,Ut),hn||(qt.readHexNumber(nn,Ut),_e(Qt,nn,Ut)),bn=qt.readSigned()+(bn+1),jt.mapOne(_t(Qt,Ut),bn);break;case 3:qt.readHex(en,Ut),qt.readHexNumber(dn,Ut),_e(dn,en,Ut),bn=qt.readNumber(),jt.mapCidRange(_t(en,Ut),_t(dn,Ut),bn);for(let an=1;an<zt;an++)bt(dn,Ut),hn?en.set(dn):(qt.readHexNumber(en,Ut),_e(en,dn,Ut)),qt.readHexNumber(dn,Ut),_e(dn,en,Ut),bn=qt.readNumber(),jt.mapCidRange(_t(en,Ut),_t(dn,Ut),bn);break;case 4:qt.readHex(Qt,Ot),qt.readHex(gn,Ut),jt.mapOne(_t(Qt,Ot),Pt(gn,Ut));for(let an=1;an<zt;an++)bt(Qt,Ot),hn||(qt.readHexNumber(nn,Ot),_e(Qt,nn,Ot)),bt(gn,Ut),qt.readHexSigned(nn,Ut),_e(gn,nn,Ut),jt.mapOne(_t(Qt,Ot),Pt(gn,Ut));break;case 5:qt.readHex(en,Ot),qt.readHexNumber(dn,Ot),_e(dn,en,Ot),qt.readHex(gn,Ut),jt.mapBfRange(_t(en,Ot),_t(dn,Ot),Pt(gn,Ut));for(let an=1;an<zt;an++)bt(dn,Ot),hn?en.set(dn):(qt.readHexNumber(en,Ot),_e(en,dn,Ot)),qt.readHexNumber(dn,Ot),_e(dn,en,Ot),qt.readHex(gn,Ut),jt.mapBfRange(_t(en,Ot),_t(dn,Ot),Pt(gn,Ut));break;default:throw new Error(`BinaryCMapReader.process - unknown type: ${Yt}`)}}return Gt?Ct(Gt):jt}}Et.BinaryCMapReader=Nt},(kt,Et,Rt)=>{Object.defineProperty(Et,"__esModule",{value:!0}),Et.Parser=Et.Linearization=Et.Lexer=void 0;var wt=Rt(2),_t=Rt(4),Pt=Rt(3),_e=Rt(8),bt=Rt(17),Ft=Rt(19),Xt=Rt(20),Kt=Rt(22),Nt=Rt(23),$t=Rt(26),Dt=Rt(29),jt=Rt(31),Ct=Rt(32),qt=Rt(33);const Bt=1e3;function Gt(bn){const Vt=[],Yt=bn.length;let hn=0;for(;hn<Yt-1;)Vt.push(bn[hn++]<<8|bn[hn++]);return hn<Yt&&Vt.push(bn[hn]),Yt+"_"+String.fromCharCode.apply(null,Vt)}class en{constructor({lexer:Vt,xref:Yt,allowStreams:hn=!1,recoveryMode:Ut=!1}){this.lexer=Vt,this.xref=Yt,this.allowStreams=hn,this.recoveryMode=Ut,this.imageCache=Object.create(null),this._imageId=0,this.refill()}refill(){this.buf1=this.lexer.getObj(),this.buf2=this.lexer.getObj()}shift(){this.buf2 instanceof _t.Cmd&&this.buf2.cmd==="ID"?(this.buf1=this.buf2,this.buf2=null):(this.buf1=this.buf2,this.buf2=this.lexer.getObj())}tryShift(){try{return this.shift(),!0}catch(Vt){if(Vt instanceof Pt.MissingDataException)throw Vt;return!1}}getObj(Vt=null){const Yt=this.buf1;if(this.shift(),Yt instanceof _t.Cmd)switch(Yt.cmd){case"BI":return this.makeInlineImage(Vt);case"[":const hn=[];for(;!(0,_t.isCmd)(this.buf1,"]")&&this.buf1!==_t.EOF;)hn.push(this.getObj(Vt));if(this.buf1===_t.EOF){if(this.recoveryMode)return hn;throw new Pt.ParserEOFException("End of file inside array.")}return this.shift(),hn;case"<<":const Ut=new _t.Dict(this.xref);for(;!(0,_t.isCmd)(this.buf1,">>")&&this.buf1!==_t.EOF;){if(!(this.buf1 instanceof _t.Name)){(0,wt.info)("Malformed dictionary: key must be a name object"),this.shift();continue}const Ot=this.buf1.name;if(this.shift(),this.buf1===_t.EOF)break;Ut.set(Ot,this.getObj(Vt))}if(this.buf1===_t.EOF){if(this.recoveryMode)return Ut;throw new Pt.ParserEOFException("End of file inside dictionary.")}return(0,_t.isCmd)(this.buf2,"stream")?this.allowStreams?this.makeStream(Ut,Vt):Ut:(this.shift(),Ut);default:return Yt}if(Number.isInteger(Yt)){if(Number.isInteger(this.buf1)&&(0,_t.isCmd)(this.buf2,"R")){const hn=_t.Ref.get(Yt,this.buf1);return this.shift(),this.shift(),hn}return Yt}return typeof Yt=="string"&&Vt?Vt.decryptString(Yt):Yt}findDefaultInlineStreamEnd(Vt){const{knownCommands:Ht}=this.lexer,Wt=Vt.pos,tn=15;let ln=0,on,cn;for(;(on=Vt.getByte())!==-1;)if(ln===0)ln=on===69?1:0;else if(ln===1)ln=on===73?2:0;else if(on===32||on===10||on===13){cn=Vt.pos;const rn=Vt.peekBytes(tn),xn=rn.length;if(xn===0)break;for(let Fn=0;Fn<xn;Fn++)if(on=rn[Fn],!(on===0&&rn[Fn+1]!==0)&&on!==10&&on!==13&&(on<32||on>127)){ln=0;break}if(ln!==2)continue;if(!Ht){(0,wt.warn)("findDefaultInlineStreamEnd - `lexer.knownCommands` is undefined.");continue}const vn=new gn(new _e.Stream(rn.slice()),Ht);vn._hexStringWarn=()=>{};let En=0;for(;;){const Fn=vn.getObj();if(Fn===_t.EOF){ln=0;break}if(Fn instanceof _t.Cmd){const Mn=Ht[Fn.cmd];if(Mn){if(Mn.variableArgs?En<=Mn.numArgs:En===Mn.numArgs)break}else{ln=0;break}En=0;continue}En++}if(ln===2)break}else ln=0;on===-1&&((0,wt.warn)("findDefaultInlineStreamEnd: Reached the end of the stream without finding a valid EI marker"),cn&&((0,wt.warn)('... trying to recover by using the last "EI" occurrence.'),Vt.skip(-(Vt.pos-cn))));let sn=4;return Vt.skip(-sn),on=Vt.peekByte(),Vt.skip(sn),(0,Pt.isWhiteSpace)(on)||sn--,Vt.pos-sn-Wt}findDCTDecodeInlineStreamEnd(Vt){const Yt=Vt.pos;let hn=!1,Ut,Ot;for(;(Ut=Vt.getByte())!==-1;)if(Ut===255){switch(Vt.getByte()){case 0:break;case 255:Vt.skip(-1);break;case 217:hn=!0;break;case 192:case 193:case 194:case 195:case 197:case 198:case 199:case 201:case 202:case 203:case 205:case 206:case 207:case 196:case 204:case 218:case 219:case 220:case 221:case 222:case 223:case 224:case 225:case 226:case 227:case 228:case 229:case 230:case 231:case 232:case 233:case 234:case 235:case 236:case 237:case 238:case 239:case 254:Ot=Vt.getUint16(),Ot>2?Vt.skip(Ot-2):Vt.skip(-2);break}if(hn)break}const zt=Vt.pos-Yt;return Ut===-1?((0,wt.warn)("Inline DCTDecode image stream: EOI marker not found, searching for /EI/ instead."),Vt.skip(-zt),this.findDefaultInlineStreamEnd(Vt)):(this.inlineStreamSkipEI(Vt),zt)}findASCII85DecodeInlineStreamEnd(Vt){const Ut=Vt.pos;let Ot;for(;(Ot=Vt.getByte())!==-1;)if(Ot===126){const an=Vt.pos;for(Ot=Vt.peekByte();(0,Pt.isWhiteSpace)(Ot);)Vt.skip(),Ot=Vt.peekByte();if(Ot===62){Vt.skip();break}if(Vt.pos>an){const Ht=Vt.peekBytes(2);if(Ht[0]===69&&Ht[1]===73)break}}const zt=Vt.pos-Ut;return Ot===-1?((0,wt.warn)("Inline ASCII85Decode image stream: EOD marker not found, searching for /EI/ instead."),Vt.skip(-zt),this.findDefaultInlineStreamEnd(Vt)):(this.inlineStreamSkipEI(Vt),zt)}findASCIIHexDecodeInlineStreamEnd(Vt){const hn=Vt.pos;let Ut;for(;(Ut=Vt.getByte())!==-1&&Ut!==62;);const Ot=Vt.pos-hn;return Ut===-1?((0,wt.warn)("Inline ASCIIHexDecode image stream: EOD marker not found, searching for /EI/ instead."),Vt.skip(-Ot),this.findDefaultInlineStreamEnd(Vt)):(this.inlineStreamSkipEI(Vt),Ot)}inlineStreamSkipEI(Vt){let Ut=0,Ot;for(;(Ot=Vt.getByte())!==-1;)if(Ut===0)Ut=Ot===69?1:0;else if(Ut===1)Ut=Ot===73?2:0;else if(Ut===2)break}makeInlineImage(Vt){const Yt=this.lexer,hn=Yt.stream,Ut=Object.create(null);let Ot;for(;!(0,_t.isCmd)(this.buf1,"ID")&&this.buf1!==_t.EOF;){if(!(this.buf1 instanceof _t.Name))throw new wt.FormatError("Dictionary key must be a name object");const cn=this.buf1.name;if(this.shift(),this.buf1===_t.EOF)break;Ut[cn]=this.getObj(Vt)}Yt.beginInlineImagePos!==-1&&(Ot=hn.pos-Yt.beginInlineImagePos);const zt=this.xref.fetchIfRef(Ut.F||Ut.Filter);let an;if(zt instanceof _t.Name)an=zt.name;else if(Array.isArray(zt)){const cn=this.xref.fetchIfRef(zt[0]);cn instanceof _t.Name&&(an=cn.name)}const Ht=hn.pos;let Wt;switch(an){case"DCT":case"DCTDecode":Wt=this.findDCTDecodeInlineStreamEnd(hn);break;case"A85":case"ASCII85Decode":Wt=this.findASCII85DecodeInlineStreamEnd(hn);break;case"AHx":case"ASCIIHexDecode":Wt=this.findASCIIHexDecodeInlineStreamEnd(hn);break;default:Wt=this.findDefaultInlineStreamEnd(hn)}let tn;if(Wt<Bt&&Ot>0){const cn=hn.pos;hn.pos=Yt.beginInlineImagePos,tn=Gt(hn.getBytes(Ot+Wt)),hn.pos=cn;const sn=this.imageCache[tn];if(sn!==void 0)return this.buf2=_t.Cmd.get("EI"),this.shift(),sn.reset(),sn}const ln=new _t.Dict(this.xref);for(const cn in Ut)ln.set(cn,Ut[cn]);let on=hn.makeSubStream(Ht,Wt,ln);return Vt&&(on=Vt.createStream(on,Wt)),on=this.filter(on,ln,Wt),on.dict=ln,tn!==void 0&&(on.cacheKey=`inline_img_${++this._imageId}`,this.imageCache[tn]=on),this.buf2=_t.Cmd.get("EI"),this.shift(),on}_findStreamLength(Vt,Yt){const{stream:hn}=this.lexer;hn.pos=Vt;const Ut=2048,Ot=Yt.length;for(;hn.pos<hn.end;){const zt=hn.peekBytes(Ut),an=zt.length-Ot;if(an<=0)break;let Ht=0;for(;Ht<an;){let Wt=0;for(;Wt<Ot&&zt[Ht+Wt]===Yt[Wt];)Wt++;if(Wt>=Ot)return hn.pos+=Ht,hn.pos-Vt;Ht++}hn.pos+=an}return-1}makeStream(Vt,Yt){const hn=this.lexer;let Ut=hn.stream;hn.skipToNextLine();const Ot=Ut.pos-1;let zt=Vt.get("Length");if(Number.isInteger(zt)||((0,wt.info)(`Bad length "${zt&&zt.toString()}" in stream.`),zt=0),Ut.pos=Ot+zt,hn.nextChar(),this.tryShift()&&(0,_t.isCmd)(this.buf2,"endstream"))this.shift();else{const an=new Uint8Array([101,110,100,115,116,114,101,97,109]);let Ht=this._findStreamLength(Ot,an);if(Ht<0){for(let tn=1;tn<=1;tn++){const ln=an.length-tn,on=an.slice(0,ln),cn=this._findStreamLength(Ot,on);if(cn>=0){const sn=Ut.peekBytes(ln+1)[ln];if(!(0,Pt.isWhiteSpace)(sn))break;(0,wt.info)(`Found "${(0,wt.bytesToString)(on)}" when searching for endstream command.`),Ht=cn;break}}if(Ht<0)throw new wt.FormatError("Missing endstream command.")}zt=Ht,hn.nextChar(),this.shift(),this.shift()}return this.shift(),Ut=Ut.makeSubStream(Ot,zt,Vt),Yt&&(Ut=Yt.createStream(Ut,zt)),Ut=this.filter(Ut,Vt,zt),Ut.dict=Vt,Ut}filter(Vt,Yt,hn){let Ut=Yt.get("F","Filter"),Ot=Yt.get("DP","DecodeParms");if(Ut instanceof _t.Name)return Array.isArray(Ot)&&(0,wt.warn)("/DecodeParms should not be an Array, when /Filter is a Name."),this.makeFilter(Vt,Ut.name,hn,Ot);let zt=hn;if(Array.isArray(Ut)){const an=Ut,Ht=Ot;for(let Wt=0,tn=an.length;Wt<tn;++Wt){if(Ut=this.xref.fetchIfRef(an[Wt]),!(Ut instanceof _t.Name))throw new wt.FormatError(`Bad filter name "${Ut}"`);Ot=null,Array.isArray(Ht)&&Wt in Ht&&(Ot=this.xref.fetchIfRef(Ht[Wt])),Vt=this.makeFilter(Vt,Ut.name,zt,Ot),zt=null}}return Vt}makeFilter(Vt,Yt,hn,Ut){if(hn===0)return(0,wt.warn)(`Empty "${Yt}" stream.`),new _e.NullStream;try{switch(Yt){case"Fl":case"FlateDecode":return Ut?new Ct.PredictorStream(new Kt.FlateStream(Vt,hn),hn,Ut):new Kt.FlateStream(Vt,hn);case"LZW":case"LZWDecode":let Ot=1;return Ut?(Ut.has("EarlyChange")&&(Ot=Ut.get("EarlyChange")),new Ct.PredictorStream(new jt.LZWStream(Vt,hn,Ot),hn,Ut)):new jt.LZWStream(Vt,hn,Ot);case"DCT":case"DCTDecode":return new $t.JpegStream(Vt,hn,Ut);case"JPX":case"JPXDecode":return new Dt.JpxStream(Vt,hn,Ut);case"A85":case"ASCII85Decode":return new bt.Ascii85Stream(Vt,hn);case"AHx":case"ASCIIHexDecode":return new Ft.AsciiHexStream(Vt,hn);case"CCF":case"CCITTFaxDecode":return new Xt.CCITTFaxStream(Vt,hn,Ut);case"RL":case"RunLengthDecode":return new qt.RunLengthStream(Vt,hn);case"JBIG2Decode":return new Nt.Jbig2Stream(Vt,hn,Ut)}return(0,wt.warn)(`Filter "${Yt}" is not supported.`),Vt}catch(Ot){if(Ot instanceof Pt.MissingDataException)throw Ot;return(0,wt.warn)(`Invalid stream: "${Ot}"`),new _e.NullStream}}}Et.Parser=en;const dn=[1,0,0,0,0,0,0,0,0,1,1,0,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,2,0,0,2,2,0,0,0,0,0,2,0,0,0,0,0,0,0,0,0,0,0,0,2,0,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,0,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,0,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];function Qt(bn){return bn>=48&&bn<=57?bn&15:bn>=65&&bn<=70||bn>=97&&bn<=102?(bn&15)+9:-1}class gn{constructor(Vt,Yt=null){this.stream=Vt,this.nextChar(),this.strBuf=[],this.knownCommands=Yt,this._hexStringNumWarn=0,this.beginInlineImagePos=-1}nextChar(){return this.currentChar=this.stream.getByte()}peekChar(){return this.stream.peekByte()}getNumber(){let Vt=this.currentChar,Yt=!1,hn=0,Ut=1;if(Vt===45?(Ut=-1,Vt=this.nextChar(),Vt===45&&(Vt=this.nextChar())):Vt===43&&(Vt=this.nextChar()),Vt===10||Vt===13)do Vt=this.nextChar();while(Vt===10||Vt===13);if(Vt===46&&(hn=10,Vt=this.nextChar()),Vt<48||Vt>57){const Ht=`Invalid number: ${String.fromCharCode(Vt)} (charCode ${Vt})`;if((0,Pt.isWhiteSpace)(Vt)||Vt===-1)return(0,wt.info)(`Lexer.getNumber - "${Ht}".`),0;throw new wt.FormatError(Ht)}let Ot=Vt-48,zt=0,an=1;for(;(Vt=this.nextChar())>=0;)if(Vt>=48&&Vt<=57){const Ht=Vt-48;Yt?zt=zt*10+Ht:(hn!==0&&(hn*=10),Ot=Ot*10+Ht)}else if(Vt===46)if(hn===0)hn=1;else break;else if(Vt===45)(0,wt.warn)("Badly formatted number: minus sign in the middle");else if(Vt===69||Vt===101){if(Vt=this.peekChar(),Vt===43||Vt===45)an=Vt===45?-1:1,this.nextChar();else if(Vt<48||Vt>57)break;Yt=!0}else break;return hn!==0&&(Ot/=hn),Yt&&(Ot*=10**(an*zt)),Ut*Ot}getString(){let Vt=1,Yt=!1;const hn=this.strBuf;hn.length=0;let Ut=this.nextChar();for(;;){let Ot=!1;switch(Ut|0){case-1:(0,wt.warn)("Unterminated string"),Yt=!0;break;case 40:++Vt,hn.push("(");break;case 41:--Vt===0?(this.nextChar(),Yt=!0):hn.push(")");break;case 92:switch(Ut=this.nextChar(),Ut){case-1:(0,wt.warn)("Unterminated string"),Yt=!0;break;case 110:hn.push(`
`);break;case 114:hn.push("\r");break;case 116:hn.push("	");break;case 98:hn.push("\b");break;case 102:hn.push("\f");break;case 92:case 40:case 41:hn.push(String.fromCharCode(Ut));break;case 48:case 49:case 50:case 51:case 52:case 53:case 54:case 55:let zt=Ut&15;Ut=this.nextChar(),Ot=!0,Ut>=48&&Ut<=55&&(zt=(zt<<3)+(Ut&15),Ut=this.nextChar(),Ut>=48&&Ut<=55&&(Ot=!1,zt=(zt<<3)+(Ut&15))),hn.push(String.fromCharCode(zt));break;case 13:this.peekChar()===10&&this.nextChar();break;case 10:break;default:hn.push(String.fromCharCode(Ut));break}break;default:hn.push(String.fromCharCode(Ut));break}if(Yt)break;Ot||(Ut=this.nextChar())}return hn.join("")}getName(){let Vt,Yt;const hn=this.strBuf;for(hn.length=0;(Vt=this.nextChar())>=0&&!dn[Vt];)if(Vt===35){if(Vt=this.nextChar(),dn[Vt]){(0,wt.warn)("Lexer_getName: NUMBER SIGN (#) should be followed by a hexadecimal number."),hn.push("#");break}const Ut=Qt(Vt);if(Ut!==-1){Yt=Vt,Vt=this.nextChar();const Ot=Qt(Vt);if(Ot===-1){if((0,wt.warn)(`Lexer_getName: Illegal digit (${String.fromCharCode(Vt)}) in hexadecimal number.`),hn.push("#",String.fromCharCode(Yt)),dn[Vt])break;hn.push(String.fromCharCode(Vt));continue}hn.push(String.fromCharCode(Ut<<4|Ot))}else hn.push("#",String.fromCharCode(Vt))}else hn.push(String.fromCharCode(Vt));return hn.length>127&&(0,wt.warn)(`Name token is longer than allowed by the spec: ${hn.length}`),_t.Name.get(hn.join(""))}_hexStringWarn(Vt){if(this._hexStringNumWarn++===5){(0,wt.warn)("getHexString - ignoring additional invalid characters.");return}this._hexStringNumWarn>5||(0,wt.warn)(`getHexString - ignoring invalid character: ${Vt}`)}getHexString(){const Vt=this.strBuf;Vt.length=0;let Yt=this.currentChar,hn=!0,Ut,Ot;for(this._hexStringNumWarn=0;;)if(Yt<0){(0,wt.warn)("Unterminated hex string");break}else if(Yt===62){this.nextChar();break}else if(dn[Yt]===1){Yt=this.nextChar();continue}else{if(hn){if(Ut=Qt(Yt),Ut===-1){this._hexStringWarn(Yt),Yt=this.nextChar();continue}}else{if(Ot=Qt(Yt),Ot===-1){this._hexStringWarn(Yt),Yt=this.nextChar();continue}Vt.push(String.fromCharCode(Ut<<4|Ot))}hn=!hn,Yt=this.nextChar()}return Vt.join("")}getObj(){let Vt=!1,Yt=this.currentChar;for(;;){if(Yt<0)return _t.EOF;if(Vt)(Yt===10||Yt===13)&&(Vt=!1);else if(Yt===37)Vt=!0;else if(dn[Yt]!==1)break;Yt=this.nextChar()}switch(Yt|0){case 48:case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:case 43:case 45:case 46:return this.getNumber();case 40:return this.getString();case 47:return this.getName();case 91:return this.nextChar(),_t.Cmd.get("[");case 93:return this.nextChar(),_t.Cmd.get("]");case 60:return Yt=this.nextChar(),Yt===60?(this.nextChar(),_t.Cmd.get("<<")):this.getHexString();case 62:return Yt=this.nextChar(),Yt===62?(this.nextChar(),_t.Cmd.get(">>")):_t.Cmd.get(">");case 123:return this.nextChar(),_t.Cmd.get("{");case 125:return this.nextChar(),_t.Cmd.get("}");case 41:throw this.nextChar(),new wt.FormatError(`Illegal character: ${Yt}`)}let hn=String.fromCharCode(Yt);if(Yt<32||Yt>127){const zt=this.peekChar();if(zt>=32&&zt<=127)return this.nextChar(),_t.Cmd.get(hn)}const Ut=this.knownCommands;let Ot=(Ut==null?void 0:Ut[hn])!==void 0;for(;(Yt=this.nextChar())>=0&&!dn[Yt];){const zt=hn+String.fromCharCode(Yt);if(Ot&&Ut[zt]===void 0)break;if(hn.length===128)throw new wt.FormatError(`Command token too long: ${hn.length}`);hn=zt,Ot=(Ut==null?void 0:Ut[hn])!==void 0}return hn==="true"?!0:hn==="false"?!1:hn==="null"?null:(hn==="BI"&&(this.beginInlineImagePos=this.stream.pos),_t.Cmd.get(hn))}skipToNextLine(){let Vt=this.currentChar;for(;Vt>=0;){if(Vt===13){Vt=this.nextChar(),Vt===10&&this.nextChar();break}else if(Vt===10){this.nextChar();break}Vt=this.nextChar()}}}Et.Lexer=gn;class nn{static create(Vt){function Yt(ln,on,cn=!1){const sn=ln.get(on);if(Number.isInteger(sn)&&(cn?sn>=0:sn>0))return sn;throw new Error(`The "${on}" parameter in the linearization dictionary is invalid.`)}function hn(ln){const on=ln.get("H");let cn;if(Array.isArray(on)&&((cn=on.length)===2||cn===4)){for(let sn=0;sn<cn;sn++){const rn=on[sn];if(!(Number.isInteger(rn)&&rn>0))throw new Error(`Hint (${sn}) in the linearization dictionary is invalid.`)}return on}throw new Error("Hint array in the linearization dictionary is invalid.")}const Ut=new en({lexer:new gn(Vt),xref:null}),Ot=Ut.getObj(),zt=Ut.getObj(),an=Ut.getObj(),Ht=Ut.getObj();let Wt,tn;if(Number.isInteger(Ot)&&Number.isInteger(zt)&&(0,_t.isCmd)(an,"obj")&&Ht instanceof _t.Dict&&typeof(Wt=Ht.get("Linearized"))=="number"&&Wt>0){if((tn=Yt(Ht,"L"))!==Vt.length)throw new Error('The "L" parameter in the linearization dictionary does not equal the stream length.')}else return null;return{length:tn,hints:hn(Ht),objectNumberFirst:Yt(Ht,"O"),endFirst:Yt(Ht,"E"),numPages:Yt(Ht,"N"),mainXRefEntriesOffset:Yt(Ht,"T"),pageFirst:Ht.has("P")?Yt(Ht,"P",!0):0}}}Et.Linearization=nn},(kt,Et,Rt)=>{Object.defineProperty(Et,"__esModule",{value:!0}),Et.Ascii85Stream=void 0;var wt=Rt(18),_t=Rt(3);class Pt extends wt.DecodeStream{constructor(bt,Ft){Ft&&(Ft*=.8),super(Ft),this.str=bt,this.dict=bt.dict,this.input=new Uint8Array(5)}readBlock(){const Kt=this.str;let Nt=Kt.getByte();for(;(0,_t.isWhiteSpace)(Nt);)Nt=Kt.getByte();if(Nt===-1||Nt===126){this.eof=!0;return}const $t=this.bufferLength;let Dt,jt;if(Nt===122){for(Dt=this.ensureBuffer($t+4),jt=0;jt<4;++jt)Dt[$t+jt]=0;this.bufferLength+=4}else{const Ct=this.input;for(Ct[0]=Nt,jt=1;jt<5;++jt){for(Nt=Kt.getByte();(0,_t.isWhiteSpace)(Nt);)Nt=Kt.getByte();if(Ct[jt]=Nt,Nt===-1||Nt===126)break}if(Dt=this.ensureBuffer($t+jt-1),this.bufferLength+=jt-1,jt<5){for(;jt<5;++jt)Ct[jt]=117;this.eof=!0}let qt=0;for(jt=0;jt<5;++jt)qt=qt*85+(Ct[jt]-33);for(jt=3;jt>=0;--jt)Dt[$t+jt]=qt&255,qt>>=8}}}Et.Ascii85Stream=Pt},(kt,Et,Rt)=>{Object.defineProperty(Et,"__esModule",{value:!0}),Et.StreamsSequenceStream=Et.DecodeStream=void 0;var wt=Rt(5),_t=Rt(8);const Pt=new Uint8Array(0);class _e extends wt.BaseStream{constructor(Xt){if(super(),this._rawMinBufferLength=Xt||0,this.pos=0,this.bufferLength=0,this.eof=!1,this.buffer=Pt,this.minBufferLength=512,Xt)for(;this.minBufferLength<Xt;)this.minBufferLength*=2}get isEmpty(){for(;!this.eof&&this.bufferLength===0;)this.readBlock();return this.bufferLength===0}ensureBuffer(Xt){const Kt=this.buffer;if(Xt<=Kt.byteLength)return Kt;let Nt=this.minBufferLength;for(;Nt<Xt;)Nt*=2;const $t=new Uint8Array(Nt);return $t.set(Kt),this.buffer=$t}getByte(){const Xt=this.pos;for(;this.bufferLength<=Xt;){if(this.eof)return-1;this.readBlock()}return this.buffer[this.pos++]}getBytes(Xt){const Kt=this.pos;let Nt;if(Xt){for(this.ensureBuffer(Kt+Xt),Nt=Kt+Xt;!this.eof&&this.bufferLength<Nt;)this.readBlock();const $t=this.bufferLength;Nt>$t&&(Nt=$t)}else{for(;!this.eof;)this.readBlock();Nt=this.bufferLength}return this.pos=Nt,this.buffer.subarray(Kt,Nt)}reset(){this.pos=0}makeSubStream(Xt,Kt,Nt=null){if(Kt===void 0)for(;!this.eof;)this.readBlock();else{const $t=Xt+Kt;for(;this.bufferLength<=$t&&!this.eof;)this.readBlock()}return new _t.Stream(this.buffer,Xt,Kt,Nt)}getBaseStreams(){return this.str?this.str.getBaseStreams():null}}Et.DecodeStream=_e;class bt extends _e{constructor(Xt,Kt=null){let Nt=0;for(const $t of Xt)Nt+=$t instanceof _e?$t._rawMinBufferLength:$t.length;super(Nt),this.streams=Xt,this._onError=Kt}readBlock(){var Ct;const Xt=this.streams;if(Xt.length===0){this.eof=!0;return}const Kt=Xt.shift();let Nt;try{Nt=Kt.getBytes()}catch(qt){if(this._onError){this._onError(qt,(Ct=Kt.dict)==null?void 0:Ct.objId);return}throw qt}const $t=this.bufferLength,Dt=$t+Nt.length;this.ensureBuffer(Dt).set(Nt,$t),this.bufferLength=Dt}getBaseStreams(){const Xt=[];for(const Kt of this.streams){const Nt=Kt.getBaseStreams();Nt&&Xt.push(...Nt)}return Xt.length>0?Xt:null}}Et.StreamsSequenceStream=bt},(kt,Et,Rt)=>{Object.defineProperty(Et,"__esModule",{value:!0}),Et.AsciiHexStream=void 0;var wt=Rt(18);class _t extends wt.DecodeStream{constructor(_e,bt){bt&&(bt*=.5),super(bt),this.str=_e,this.dict=_e.dict,this.firstDigit=-1}readBlock(){const bt=this.str.getBytes(8e3);if(!bt.length){this.eof=!0;return}const Ft=bt.length+1>>1,Xt=this.ensureBuffer(this.bufferLength+Ft);let Kt=this.bufferLength,Nt=this.firstDigit;for(const $t of bt){let Dt;if($t>=48&&$t<=57)Dt=$t&15;else if($t>=65&&$t<=70||$t>=97&&$t<=102)Dt=($t&15)+9;else if($t===62){this.eof=!0;break}else continue;Nt<0?Nt=Dt:(Xt[Kt++]=Nt<<4|Dt,Nt=-1)}Nt>=0&&this.eof&&(Xt[Kt++]=Nt<<4,Nt=-1),this.firstDigit=Nt,this.bufferLength=Kt}}Et.AsciiHexStream=_t},(kt,Et,Rt)=>{Object.defineProperty(Et,"__esModule",{value:!0}),Et.CCITTFaxStream=void 0;var wt=Rt(21),_t=Rt(18),Pt=Rt(4);class _e extends _t.DecodeStream{constructor(Ft,Xt,Kt){super(Xt),this.str=Ft,this.dict=Ft.dict,Kt instanceof Pt.Dict||(Kt=Pt.Dict.empty);const Nt={next(){return Ft.getByte()}};this.ccittFaxDecoder=new wt.CCITTFaxDecoder(Nt,{K:Kt.get("K"),EndOfLine:Kt.get("EndOfLine"),EncodedByteAlign:Kt.get("EncodedByteAlign"),Columns:Kt.get("Columns"),Rows:Kt.get("Rows"),EndOfBlock:Kt.get("EndOfBlock"),BlackIs1:Kt.get("BlackIs1")})}readBlock(){for(;!this.eof;){const Ft=this.ccittFaxDecoder.readNextChar();if(Ft===-1){this.eof=!0;return}this.ensureBuffer(this.bufferLength+1),this.buffer[this.bufferLength++]=Ft}}}Et.CCITTFaxStream=_e},(kt,Et,Rt)=>{Object.defineProperty(Et,"__esModule",{value:!0}),Et.CCITTFaxDecoder=void 0;var wt=Rt(2);const _t=-2,Pt=-1,_e=0,bt=1,Ft=2,Xt=3,Kt=4,Nt=5,$t=6,Dt=7,jt=8,Ct=[[-1,-1],[-1,-1],[7,jt],[7,Dt],[6,$t],[6,$t],[6,Nt],[6,Nt],[4,_e],[4,_e],[4,_e],[4,_e],[4,_e],[4,_e],[4,_e],[4,_e],[3,bt],[3,bt],[3,bt],[3,bt],[3,bt],[3,bt],[3,bt],[3,bt],[3,bt],[3,bt],[3,bt],[3,bt],[3,bt],[3,bt],[3,bt],[3,bt],[3,Kt],[3,Kt],[3,Kt],[3,Kt],[3,Kt],[3,Kt],[3,Kt],[3,Kt],[3,Kt],[3,Kt],[3,Kt],[3,Kt],[3,Kt],[3,Kt],[3,Kt],[3,Kt],[3,Xt],[3,Xt],[3,Xt],[3,Xt],[3,Xt],[3,Xt],[3,Xt],[3,Xt],[3,Xt],[3,Xt],[3,Xt],[3,Xt],[3,Xt],[3,Xt],[3,Xt],[3,Xt],[1,Ft],[1,Ft],[1,Ft],[1,Ft],[1,Ft],[1,Ft],[1,Ft],[1,Ft],[1,Ft],[1,Ft],[1,Ft],[1,Ft],[1,Ft],[1,Ft],[1,Ft],[1,Ft],[1,Ft],[1,Ft],[1,Ft],[1,Ft],[1,Ft],[1,Ft],[1,Ft],[1,Ft],[1,Ft],[1,Ft],[1,Ft],[1,Ft],[1,Ft],[1,Ft],[1,Ft],[1,Ft],[1,Ft],[1,Ft],[1,Ft],[1,Ft],[1,Ft],[1,Ft],[1,Ft],[1,Ft],[1,Ft],[1,Ft],[1,Ft],[1,Ft],[1,Ft],[1,Ft],[1,Ft],[1,Ft],[1,Ft],[1,Ft],[1,Ft],[1,Ft],[1,Ft],[1,Ft],[1,Ft],[1,Ft],[1,Ft],[1,Ft],[1,Ft],[1,Ft],[1,Ft],[1,Ft],[1,Ft],[1,Ft]],qt=[[-1,-1],[12,_t],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[11,1792],[11,1792],[12,1984],[12,2048],[12,2112],[12,2176],[12,2240],[12,2304],[11,1856],[11,1856],[11,1920],[11,1920],[12,2368],[12,2432],[12,2496],[12,2560]],Bt=[[-1,-1],[-1,-1],[-1,-1],[-1,-1],[8,29],[8,29],[8,30],[8,30],[8,45],[8,45],[8,46],[8,46],[7,22],[7,22],[7,22],[7,22],[7,23],[7,23],[7,23],[7,23],[8,47],[8,47],[8,48],[8,48],[6,13],[6,13],[6,13],[6,13],[6,13],[6,13],[6,13],[6,13],[7,20],[7,20],[7,20],[7,20],[8,33],[8,33],[8,34],[8,34],[8,35],[8,35],[8,36],[8,36],[8,37],[8,37],[8,38],[8,38],[7,19],[7,19],[7,19],[7,19],[8,31],[8,31],[8,32],[8,32],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,12],[6,12],[6,12],[6,12],[6,12],[6,12],[6,12],[6,12],[8,53],[8,53],[8,54],[8,54],[7,26],[7,26],[7,26],[7,26],[8,39],[8,39],[8,40],[8,40],[8,41],[8,41],[8,42],[8,42],[8,43],[8,43],[8,44],[8,44],[7,21],[7,21],[7,21],[7,21],[7,28],[7,28],[7,28],[7,28],[8,61],[8,61],[8,62],[8,62],[8,63],[8,63],[8,0],[8,0],[8,320],[8,320],[8,384],[8,384],[5,10],[5,10],[5,10],[5,10],[5,10],[5,10],[5,10],[5,10],[5,10],[5,10],[5,10],[5,10],[5,10],[5,10],[5,10],[5,10],[5,11],[5,11],[5,11],[5,11],[5,11],[5,11],[5,11],[5,11],[5,11],[5,11],[5,11],[5,11],[5,11],[5,11],[5,11],[5,11],[7,27],[7,27],[7,27],[7,27],[8,59],[8,59],[8,60],[8,60],[9,1472],[9,1536],[9,1600],[9,1728],[7,18],[7,18],[7,18],[7,18],[7,24],[7,24],[7,24],[7,24],[8,49],[8,49],[8,50],[8,50],[8,51],[8,51],[8,52],[8,52],[7,25],[7,25],[7,25],[7,25],[8,55],[8,55],[8,56],[8,56],[8,57],[8,57],[8,58],[8,58],[6,192],[6,192],[6,192],[6,192],[6,192],[6,192],[6,192],[6,192],[6,1664],[6,1664],[6,1664],[6,1664],[6,1664],[6,1664],[6,1664],[6,1664],[8,448],[8,448],[8,512],[8,512],[9,704],[9,768],[8,640],[8,640],[8,576],[8,576],[9,832],[9,896],[9,960],[9,1024],[9,1088],[9,1152],[9,1216],[9,1280],[9,1344],[9,1408],[7,256],[7,256],[7,256],[7,256],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[5,128],[5,128],[5,128],[5,128],[5,128],[5,128],[5,128],[5,128],[5,128],[5,128],[5,128],[5,128],[5,128],[5,128],[5,128],[5,128],[5,8],[5,8],[5,8],[5,8],[5,8],[5,8],[5,8],[5,8],[5,8],[5,8],[5,8],[5,8],[5,8],[5,8],[5,8],[5,8],[5,9],[5,9],[5,9],[5,9],[5,9],[5,9],[5,9],[5,9],[5,9],[5,9],[5,9],[5,9],[5,9],[5,9],[5,9],[5,9],[6,16],[6,16],[6,16],[6,16],[6,16],[6,16],[6,16],[6,16],[6,17],[6,17],[6,17],[6,17],[6,17],[6,17],[6,17],[6,17],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[6,14],[6,14],[6,14],[6,14],[6,14],[6,14],[6,14],[6,14],[6,15],[6,15],[6,15],[6,15],[6,15],[6,15],[6,15],[6,15],[5,64],[5,64],[5,64],[5,64],[5,64],[5,64],[5,64],[5,64],[5,64],[5,64],[5,64],[5,64],[5,64],[5,64],[5,64],[5,64],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7]],Gt=[[-1,-1],[-1,-1],[12,_t],[12,_t],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[11,1792],[11,1792],[11,1792],[11,1792],[12,1984],[12,1984],[12,2048],[12,2048],[12,2112],[12,2112],[12,2176],[12,2176],[12,2240],[12,2240],[12,2304],[12,2304],[11,1856],[11,1856],[11,1856],[11,1856],[11,1920],[11,1920],[11,1920],[11,1920],[12,2368],[12,2368],[12,2432],[12,2432],[12,2496],[12,2496],[12,2560],[12,2560],[10,18],[10,18],[10,18],[10,18],[10,18],[10,18],[10,18],[10,18],[12,52],[12,52],[13,640],[13,704],[13,768],[13,832],[12,55],[12,55],[12,56],[12,56],[13,1280],[13,1344],[13,1408],[13,1472],[12,59],[12,59],[12,60],[12,60],[13,1536],[13,1600],[11,24],[11,24],[11,24],[11,24],[11,25],[11,25],[11,25],[11,25],[13,1664],[13,1728],[12,320],[12,320],[12,384],[12,384],[12,448],[12,448],[13,512],[13,576],[12,53],[12,53],[12,54],[12,54],[13,896],[13,960],[13,1024],[13,1088],[13,1152],[13,1216],[10,64],[10,64],[10,64],[10,64],[10,64],[10,64],[10,64],[10,64]],en=[[8,13],[8,13],[8,13],[8,13],[8,13],[8,13],[8,13],[8,13],[8,13],[8,13],[8,13],[8,13],[8,13],[8,13],[8,13],[8,13],[11,23],[11,23],[12,50],[12,51],[12,44],[12,45],[12,46],[12,47],[12,57],[12,58],[12,61],[12,256],[10,16],[10,16],[10,16],[10,16],[10,17],[10,17],[10,17],[10,17],[12,48],[12,49],[12,62],[12,63],[12,30],[12,31],[12,32],[12,33],[12,40],[12,41],[11,22],[11,22],[8,14],[8,14],[8,14],[8,14],[8,14],[8,14],[8,14],[8,14],[8,14],[8,14],[8,14],[8,14],[8,14],[8,14],[8,14],[8,14],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[9,15],[9,15],[9,15],[9,15],[9,15],[9,15],[9,15],[9,15],[12,128],[12,192],[12,26],[12,27],[12,28],[12,29],[11,19],[11,19],[11,20],[11,20],[12,34],[12,35],[12,36],[12,37],[12,38],[12,39],[11,21],[11,21],[12,42],[12,43],[10,0],[10,0],[10,0],[10,0],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12]],dn=[[-1,-1],[-1,-1],[-1,-1],[-1,-1],[6,9],[6,8],[5,7],[5,7],[4,6],[4,6],[4,6],[4,6],[4,5],[4,5],[4,5],[4,5],[3,1],[3,1],[3,1],[3,1],[3,1],[3,1],[3,1],[3,1],[3,4],[3,4],[3,4],[3,4],[3,4],[3,4],[3,4],[3,4],[2,3],[2,3],[2,3],[2,3],[2,3],[2,3],[2,3],[2,3],[2,3],[2,3],[2,3],[2,3],[2,3],[2,3],[2,3],[2,3],[2,2],[2,2],[2,2],[2,2],[2,2],[2,2],[2,2],[2,2],[2,2],[2,2],[2,2],[2,2],[2,2],[2,2],[2,2],[2,2]];class Qt{constructor(nn,bn={}){if(!nn||typeof nn.next!="function")throw new Error('CCITTFaxDecoder - invalid "source" parameter.');this.source=nn,this.eof=!1,this.encoding=bn.K||0,this.eoline=bn.EndOfLine||!1,this.byteAlign=bn.EncodedByteAlign||!1,this.columns=bn.Columns||1728,this.rows=bn.Rows||0,this.eoblock=bn.EndOfBlock??!0,this.black=bn.BlackIs1||!1,this.codingLine=new Uint32Array(this.columns+1),this.refLine=new Uint32Array(this.columns+2),this.codingLine[0]=this.columns,this.codingPos=0,this.row=0,this.nextLine2D=this.encoding<0,this.inputBits=0,this.inputBuf=0,this.outputBits=0,this.rowsDone=!1;let Vt;for(;(Vt=this._lookBits(12))===0;)this._eatBits(1);Vt===1&&this._eatBits(12),this.encoding>0&&(this.nextLine2D=!this._lookBits(1),this._eatBits(1))}readNextChar(){if(this.eof)return-1;const nn=this.refLine,bn=this.codingLine,Vt=this.columns;let Yt,hn,Ut,Ot;if(this.outputBits===0){if(this.rowsDone&&(this.eof=!0),this.eof)return-1;this.err=!1;let an,Ht,Wt;if(this.nextLine2D){for(Ot=0;bn[Ot]<Vt;++Ot)nn[Ot]=bn[Ot];for(nn[Ot++]=Vt,nn[Ot]=Vt,bn[0]=0,this.codingPos=0,Yt=0,hn=0;bn[this.codingPos]<Vt;)switch(an=this._getTwoDimCode(),an){case _e:this._addPixels(nn[Yt+1],hn),nn[Yt+1]<Vt&&(Yt+=2);break;case bt:if(an=Ht=0,hn){do an+=Wt=this._getBlackCode();while(Wt>=64);do Ht+=Wt=this._getWhiteCode();while(Wt>=64)}else{do an+=Wt=this._getWhiteCode();while(Wt>=64);do Ht+=Wt=this._getBlackCode();while(Wt>=64)}for(this._addPixels(bn[this.codingPos]+an,hn),bn[this.codingPos]<Vt&&this._addPixels(bn[this.codingPos]+Ht,hn^1);nn[Yt]<=bn[this.codingPos]&&nn[Yt]<Vt;)Yt+=2;break;case Dt:if(this._addPixels(nn[Yt]+3,hn),hn^=1,bn[this.codingPos]<Vt)for(++Yt;nn[Yt]<=bn[this.codingPos]&&nn[Yt]<Vt;)Yt+=2;break;case Nt:if(this._addPixels(nn[Yt]+2,hn),hn^=1,bn[this.codingPos]<Vt)for(++Yt;nn[Yt]<=bn[this.codingPos]&&nn[Yt]<Vt;)Yt+=2;break;case Xt:if(this._addPixels(nn[Yt]+1,hn),hn^=1,bn[this.codingPos]<Vt)for(++Yt;nn[Yt]<=bn[this.codingPos]&&nn[Yt]<Vt;)Yt+=2;break;case Ft:if(this._addPixels(nn[Yt],hn),hn^=1,bn[this.codingPos]<Vt)for(++Yt;nn[Yt]<=bn[this.codingPos]&&nn[Yt]<Vt;)Yt+=2;break;case jt:if(this._addPixelsNeg(nn[Yt]-3,hn),hn^=1,bn[this.codingPos]<Vt)for(Yt>0?--Yt:++Yt;nn[Yt]<=bn[this.codingPos]&&nn[Yt]<Vt;)Yt+=2;break;case $t:if(this._addPixelsNeg(nn[Yt]-2,hn),hn^=1,bn[this.codingPos]<Vt)for(Yt>0?--Yt:++Yt;nn[Yt]<=bn[this.codingPos]&&nn[Yt]<Vt;)Yt+=2;break;case Kt:if(this._addPixelsNeg(nn[Yt]-1,hn),hn^=1,bn[this.codingPos]<Vt)for(Yt>0?--Yt:++Yt;nn[Yt]<=bn[this.codingPos]&&nn[Yt]<Vt;)Yt+=2;break;case Pt:this._addPixels(Vt,0),this.eof=!0;break;default:(0,wt.info)("bad 2d code"),this._addPixels(Vt,0),this.err=!0}}else for(bn[0]=0,this.codingPos=0,hn=0;bn[this.codingPos]<Vt;){if(an=0,hn)do an+=Wt=this._getBlackCode();while(Wt>=64);else do an+=Wt=this._getWhiteCode();while(Wt>=64);this._addPixels(bn[this.codingPos]+an,hn),hn^=1}let tn=!1;if(this.byteAlign&&(this.inputBits&=-8),!this.eoblock&&this.row===this.rows-1)this.rowsDone=!0;else{if(an=this._lookBits(12),this.eoline)for(;an!==Pt&&an!==1;)this._eatBits(1),an=this._lookBits(12);else for(;an===0;)this._eatBits(1),an=this._lookBits(12);an===1?(this._eatBits(12),tn=!0):an===Pt&&(this.eof=!0)}if(!this.eof&&this.encoding>0&&!this.rowsDone&&(this.nextLine2D=!this._lookBits(1),this._eatBits(1)),this.eoblock&&tn&&this.byteAlign){if(an=this._lookBits(12),an===1){if(this._eatBits(12),this.encoding>0&&(this._lookBits(1),this._eatBits(1)),this.encoding>=0)for(Ot=0;Ot<4;++Ot)an=this._lookBits(12),an!==1&&(0,wt.info)("bad rtc code: "+an),this._eatBits(12),this.encoding>0&&(this._lookBits(1),this._eatBits(1));this.eof=!0}}else if(this.err&&this.eoline){for(;;){if(an=this._lookBits(13),an===Pt)return this.eof=!0,-1;if(an>>1===1)break;this._eatBits(1)}this._eatBits(12),this.encoding>0&&(this._eatBits(1),this.nextLine2D=!(an&1))}this.outputBits=bn[0]>0?bn[this.codingPos=0]:bn[this.codingPos=1],this.row++}let zt;if(this.outputBits>=8)zt=this.codingPos&1?0:255,this.outputBits-=8,this.outputBits===0&&bn[this.codingPos]<Vt&&(this.codingPos++,this.outputBits=bn[this.codingPos]-bn[this.codingPos-1]);else{Ut=8,zt=0;do{if(typeof this.outputBits!="number")throw new wt.FormatError('Invalid /CCITTFaxDecode data, "outputBits" must be a number.');this.outputBits>Ut?(zt<<=Ut,this.codingPos&1||(zt|=255>>8-Ut),this.outputBits-=Ut,Ut=0):(zt<<=this.outputBits,this.codingPos&1||(zt|=255>>8-this.outputBits),Ut-=this.outputBits,this.outputBits=0,bn[this.codingPos]<Vt?(this.codingPos++,this.outputBits=bn[this.codingPos]-bn[this.codingPos-1]):Ut>0&&(zt<<=Ut,Ut=0))}while(Ut)}return this.black&&(zt^=255),zt}_addPixels(nn,bn){const Vt=this.codingLine;let Yt=this.codingPos;nn>Vt[Yt]&&(nn>this.columns&&((0,wt.info)("row is wrong length"),this.err=!0,nn=this.columns),Yt&1^bn&&++Yt,Vt[Yt]=nn),this.codingPos=Yt}_addPixelsNeg(nn,bn){const Vt=this.codingLine;let Yt=this.codingPos;if(nn>Vt[Yt])nn>this.columns&&((0,wt.info)("row is wrong length"),this.err=!0,nn=this.columns),Yt&1^bn&&++Yt,Vt[Yt]=nn;else if(nn<Vt[Yt]){for(nn<0&&((0,wt.info)("invalid code"),this.err=!0,nn=0);Yt>0&&nn<Vt[Yt-1];)--Yt;Vt[Yt]=nn}this.codingPos=Yt}_findTableCode(nn,bn,Vt,Yt){const hn=Yt||0;for(let Ut=nn;Ut<=bn;++Ut){let Ot=this._lookBits(Ut);if(Ot===Pt)return[!0,1,!1];if(Ut<bn&&(Ot<<=bn-Ut),!hn||Ot>=hn){const zt=Vt[Ot-hn];if(zt[0]===Ut)return this._eatBits(Ut),[!0,zt[1],!0]}}return[!1,0,!1]}_getTwoDimCode(){let nn=0,bn;if(this.eoblock){if(nn=this._lookBits(7),bn=Ct[nn],(bn==null?void 0:bn[0])>0)return this._eatBits(bn[0]),bn[1]}else{const Vt=this._findTableCode(1,7,Ct);if(Vt[0]&&Vt[2])return Vt[1]}return(0,wt.info)("Bad two dim code"),Pt}_getWhiteCode(){let nn=0,bn;if(this.eoblock){if(nn=this._lookBits(12),nn===Pt)return 1;if(bn=nn>>5?Bt[nn>>3]:qt[nn],bn[0]>0)return this._eatBits(bn[0]),bn[1]}else{let Vt=this._findTableCode(1,9,Bt);if(Vt[0]||(Vt=this._findTableCode(11,12,qt),Vt[0]))return Vt[1]}return(0,wt.info)("bad white code"),this._eatBits(1),1}_getBlackCode(){let nn,bn;if(this.eoblock){if(nn=this._lookBits(13),nn===Pt)return 1;if(nn>>7?!(nn>>9)&&nn>>7?bn=en[(nn>>1)-64]:bn=dn[nn>>7]:bn=Gt[nn],bn[0]>0)return this._eatBits(bn[0]),bn[1]}else{let Vt=this._findTableCode(2,6,dn);if(Vt[0]||(Vt=this._findTableCode(7,12,en,64),Vt[0])||(Vt=this._findTableCode(10,13,Gt),Vt[0]))return Vt[1]}return(0,wt.info)("bad black code"),this._eatBits(1),1}_lookBits(nn){let bn;for(;this.inputBits<nn;){if((bn=this.source.next())===-1)return this.inputBits===0?Pt:this.inputBuf<<nn-this.inputBits&65535>>16-nn;this.inputBuf=this.inputBuf<<8|bn,this.inputBits+=8}return this.inputBuf>>this.inputBits-nn&65535>>16-nn}_eatBits(nn){(this.inputBits-=nn)<0&&(this.inputBits=0)}}Et.CCITTFaxDecoder=Qt},(kt,Et,Rt)=>{Object.defineProperty(Et,"__esModule",{value:!0}),Et.FlateStream=void 0;var wt=Rt(18),_t=Rt(2);const Pt=new Int32Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),_e=new Int32Array([3,4,5,6,7,8,9,10,65547,65549,65551,65553,131091,131095,131099,131103,196643,196651,196659,196667,262211,262227,262243,262259,327811,327843,327875,327907,258,258,258]),bt=new Int32Array([1,2,3,4,65541,65543,131081,131085,196625,196633,262177,262193,327745,327777,393345,393409,459009,459137,524801,525057,590849,591361,657409,658433,724993,727041,794625,798721,868353,876545]),Ft=[new Int32Array([459008,524368,524304,524568,459024,524400,524336,590016,459016,524384,524320,589984,524288,524416,524352,590048,459012,524376,524312,589968,459028,524408,524344,590032,459020,524392,524328,59e4,524296,524424,524360,590064,459010,524372,524308,524572,459026,524404,524340,590024,459018,524388,524324,589992,524292,524420,524356,590056,459014,524380,524316,589976,459030,524412,524348,590040,459022,524396,524332,590008,524300,524428,524364,590072,459009,524370,524306,524570,459025,524402,524338,590020,459017,524386,524322,589988,524290,524418,524354,590052,459013,524378,524314,589972,459029,524410,524346,590036,459021,524394,524330,590004,524298,524426,524362,590068,459011,524374,524310,524574,459027,524406,524342,590028,459019,524390,524326,589996,524294,524422,524358,590060,459015,524382,524318,589980,459031,524414,524350,590044,459023,524398,524334,590012,524302,524430,524366,590076,459008,524369,524305,524569,459024,524401,524337,590018,459016,524385,524321,589986,524289,524417,524353,590050,459012,524377,524313,589970,459028,524409,524345,590034,459020,524393,524329,590002,524297,524425,524361,590066,459010,524373,524309,524573,459026,524405,524341,590026,459018,524389,524325,589994,524293,524421,524357,590058,459014,524381,524317,589978,459030,524413,524349,590042,459022,524397,524333,590010,524301,524429,524365,590074,459009,524371,524307,524571,459025,524403,524339,590022,459017,524387,524323,589990,524291,524419,524355,590054,459013,524379,524315,589974,459029,524411,524347,590038,459021,524395,524331,590006,524299,524427,524363,590070,459011,524375,524311,524575,459027,524407,524343,590030,459019,524391,524327,589998,524295,524423,524359,590062,459015,524383,524319,589982,459031,524415,524351,590046,459023,524399,524335,590014,524303,524431,524367,590078,459008,524368,524304,524568,459024,524400,524336,590017,459016,524384,524320,589985,524288,524416,524352,590049,459012,524376,524312,589969,459028,524408,524344,590033,459020,524392,524328,590001,524296,524424,524360,590065,459010,524372,524308,524572,459026,524404,524340,590025,459018,524388,524324,589993,524292,524420,524356,590057,459014,524380,524316,589977,459030,524412,524348,590041,459022,524396,524332,590009,524300,524428,524364,590073,459009,524370,524306,524570,459025,524402,524338,590021,459017,524386,524322,589989,524290,524418,524354,590053,459013,524378,524314,589973,459029,524410,524346,590037,459021,524394,524330,590005,524298,524426,524362,590069,459011,524374,524310,524574,459027,524406,524342,590029,459019,524390,524326,589997,524294,524422,524358,590061,459015,524382,524318,589981,459031,524414,524350,590045,459023,524398,524334,590013,524302,524430,524366,590077,459008,524369,524305,524569,459024,524401,524337,590019,459016,524385,524321,589987,524289,524417,524353,590051,459012,524377,524313,589971,459028,524409,524345,590035,459020,524393,524329,590003,524297,524425,524361,590067,459010,524373,524309,524573,459026,524405,524341,590027,459018,524389,524325,589995,524293,524421,524357,590059,459014,524381,524317,589979,459030,524413,524349,590043,459022,524397,524333,590011,524301,524429,524365,590075,459009,524371,524307,524571,459025,524403,524339,590023,459017,524387,524323,589991,524291,524419,524355,590055,459013,524379,524315,589975,459029,524411,524347,590039,459021,524395,524331,590007,524299,524427,524363,590071,459011,524375,524311,524575,459027,524407,524343,590031,459019,524391,524327,589999,524295,524423,524359,590063,459015,524383,524319,589983,459031,524415,524351,590047,459023,524399,524335,590015,524303,524431,524367,590079]),9],Xt=[new Int32Array([327680,327696,327688,327704,327684,327700,327692,327708,327682,327698,327690,327706,327686,327702,327694,0,327681,327697,327689,327705,327685,327701,327693,327709,327683,327699,327691,327707,327687,327703,327695,0]),5];class Kt extends wt.DecodeStream{constructor($t,Dt){super(Dt),this.str=$t,this.dict=$t.dict;const jt=$t.getByte(),Ct=$t.getByte();if(jt===-1||Ct===-1)throw new _t.FormatError(`Invalid header in flate stream: ${jt}, ${Ct}`);if((jt&15)!==8)throw new _t.FormatError(`Unknown compression method in flate stream: ${jt}, ${Ct}`);if(((jt<<8)+Ct)%31!==0)throw new _t.FormatError(`Bad FCHECK in flate stream: ${jt}, ${Ct}`);if(Ct&32)throw new _t.FormatError(`FDICT bit set in flate stream: ${jt}, ${Ct}`);this.codeSize=0,this.codeBuf=0}getBits($t){const Dt=this.str;let jt=this.codeSize,Ct=this.codeBuf,qt;for(;jt<$t;){if((qt=Dt.getByte())===-1)throw new _t.FormatError("Bad encoding in flate stream");Ct|=qt<<jt,jt+=8}return qt=Ct&(1<<$t)-1,this.codeBuf=Ct>>$t,this.codeSize=jt-=$t,qt}getCode($t){const Dt=this.str,jt=$t[0],Ct=$t[1];let qt=this.codeSize,Bt=this.codeBuf,Gt;for(;qt<Ct&&(Gt=Dt.getByte())!==-1;)Bt|=Gt<<qt,qt+=8;const en=jt[Bt&(1<<Ct)-1],dn=en>>16,Qt=en&65535;if(dn<1||qt<dn)throw new _t.FormatError("Bad encoding in flate stream");return this.codeBuf=Bt>>dn,this.codeSize=qt-dn,Qt}generateHuffmanTable($t){const Dt=$t.length;let jt=0,Ct;for(Ct=0;Ct<Dt;++Ct)$t[Ct]>jt&&(jt=$t[Ct]);const qt=1<<jt,Bt=new Int32Array(qt);for(let Gt=1,en=0,dn=2;Gt<=jt;++Gt,en<<=1,dn<<=1)for(let Qt=0;Qt<Dt;++Qt)if($t[Qt]===Gt){let gn=0,nn=en;for(Ct=0;Ct<Gt;++Ct)gn=gn<<1|nn&1,nn>>=1;for(Ct=gn;Ct<qt;Ct+=dn)Bt[Ct]=Gt<<16|Qt;++en}return[Bt,jt]}readBlock(){let $t,Dt;const jt=this.str;let Ct=this.getBits(3);if(Ct&1&&(this.eof=!0),Ct>>=1,Ct===0){let dn;if((dn=jt.getByte())===-1)throw new _t.FormatError("Bad block header in flate stream");let Qt=dn;if((dn=jt.getByte())===-1)throw new _t.FormatError("Bad block header in flate stream");if(Qt|=dn<<8,(dn=jt.getByte())===-1)throw new _t.FormatError("Bad block header in flate stream");let gn=dn;if((dn=jt.getByte())===-1)throw new _t.FormatError("Bad block header in flate stream");if(gn|=dn<<8,gn!==(~Qt&65535)&&(Qt!==0||gn!==0))throw new _t.FormatError("Bad uncompressed block length in flate stream");this.codeBuf=0,this.codeSize=0;const nn=this.bufferLength,bn=nn+Qt;if($t=this.ensureBuffer(bn),this.bufferLength=bn,Qt===0)jt.peekByte()===-1&&(this.eof=!0);else{const Vt=jt.getBytes(Qt);$t.set(Vt,nn),Vt.length<Qt&&(this.eof=!0)}return}let qt,Bt;if(Ct===1)qt=Ft,Bt=Xt;else if(Ct===2){const dn=this.getBits(5)+257,Qt=this.getBits(5)+1,gn=this.getBits(4)+4,nn=new Uint8Array(Pt.length);let bn;for(bn=0;bn<gn;++bn)nn[Pt[bn]]=this.getBits(3);const Vt=this.generateHuffmanTable(nn);Dt=0,bn=0;const Yt=dn+Qt,hn=new Uint8Array(Yt);let Ut,Ot,zt;for(;bn<Yt;){const an=this.getCode(Vt);if(an===16)Ut=2,Ot=3,zt=Dt;else if(an===17)Ut=3,Ot=3,zt=Dt=0;else if(an===18)Ut=7,Ot=11,zt=Dt=0;else{hn[bn++]=Dt=an;continue}let Ht=this.getBits(Ut)+Ot;for(;Ht-- >0;)hn[bn++]=zt}qt=this.generateHuffmanTable(hn.subarray(0,dn)),Bt=this.generateHuffmanTable(hn.subarray(dn,Yt))}else throw new _t.FormatError("Unknown block type in flate stream");$t=this.buffer;let Gt=$t?$t.length:0,en=this.bufferLength;for(;;){let dn=this.getCode(qt);if(dn<256){en+1>=Gt&&($t=this.ensureBuffer(en+1),Gt=$t.length),$t[en++]=dn;continue}if(dn===256){this.bufferLength=en;return}dn-=257,dn=_e[dn];let Qt=dn>>16;Qt>0&&(Qt=this.getBits(Qt)),Dt=(dn&65535)+Qt,dn=this.getCode(Bt),dn=bt[dn],Qt=dn>>16,Qt>0&&(Qt=this.getBits(Qt));const gn=(dn&65535)+Qt;en+Dt>=Gt&&($t=this.ensureBuffer(en+Dt),Gt=$t.length);for(let nn=0;nn<Dt;++nn,++en)$t[en]=$t[en-gn]}}}Et.FlateStream=Kt},(kt,Et,Rt)=>{Object.defineProperty(Et,"__esModule",{value:!0}),Et.Jbig2Stream=void 0;var wt=Rt(5),_t=Rt(18),Pt=Rt(4),_e=Rt(24),bt=Rt(2);class Ft extends _t.DecodeStream{constructor(Kt,Nt,$t){super(Nt),this.stream=Kt,this.dict=Kt.dict,this.maybeLength=Nt,this.params=$t}get bytes(){return(0,bt.shadow)(this,"bytes",this.stream.getBytes(this.maybeLength))}ensureBuffer(Kt){}readBlock(){if(this.eof)return;const Kt=new _e.Jbig2Image,Nt=[];if(this.params instanceof Pt.Dict){const jt=this.params.get("JBIG2Globals");if(jt instanceof wt.BaseStream){const Ct=jt.getBytes();Nt.push({data:Ct,start:0,end:Ct.length})}}Nt.push({data:this.bytes,start:0,end:this.bytes.length});const $t=Kt.parseChunks(Nt),Dt=$t.length;for(let jt=0;jt<Dt;jt++)$t[jt]^=255;this.buffer=$t,this.bufferLength=Dt,this.eof=!0}}Et.Jbig2Stream=Ft},(kt,Et,Rt)=>{Object.defineProperty(Et,"__esModule",{value:!0}),Et.Jbig2Image=void 0;var wt=Rt(2),_t=Rt(3),Pt=Rt(25),_e=Rt(21);class bt extends wt.BaseException{constructor(mn){super(`JBIG2 error: ${mn}`,"Jbig2Error")}}class Ft{getContexts(mn){return mn in this?this[mn]:this[mn]=new Int8Array(65536)}}class Xt{constructor(mn,fn,Jt){this.data=mn,this.start=fn,this.end=Jt}get decoder(){const mn=new Pt.ArithmeticDecoder(this.data,this.start,this.end);return(0,wt.shadow)(this,"decoder",mn)}get contextCache(){const mn=new Ft;return(0,wt.shadow)(this,"contextCache",mn)}}const Kt=2**31-1,Nt=-(2**31);function $t(Sn,mn,fn){const Jt=Sn.getContexts(mn);let un=1;function pn(Cn){let An=0;for(let _n=0;_n<Cn;_n++){const In=fn.readBit(Jt,un);un=un<256?un<<1|In:(un<<1|In)&511|256,An=An<<1|In}return An>>>0}const wn=pn(1),kn=pn(1)?pn(1)?pn(1)?pn(1)?pn(1)?pn(32)+4436:pn(12)+340:pn(8)+84:pn(6)+20:pn(4)+4:pn(2);let Rn;return wn===0?Rn=kn:kn>0&&(Rn=-kn),Rn>=Nt&&Rn<=Kt?Rn:null}function Dt(Sn,mn,fn){const Jt=Sn.getContexts("IAID");let un=1;for(let pn=0;pn<fn;pn++){const wn=mn.readBit(Jt,un);un=un<<1|wn}return fn<31?un&(1<<fn)-1:un&2147483647}const jt=["SymbolDictionary",null,null,null,"IntermediateTextRegion",null,"ImmediateTextRegion","ImmediateLosslessTextRegion",null,null,null,null,null,null,null,null,"PatternDictionary",null,null,null,"IntermediateHalftoneRegion",null,"ImmediateHalftoneRegion","ImmediateLosslessHalftoneRegion",null,null,null,null,null,null,null,null,null,null,null,null,"IntermediateGenericRegion",null,"ImmediateGenericRegion","ImmediateLosslessGenericRegion","IntermediateGenericRefinementRegion",null,"ImmediateGenericRefinementRegion","ImmediateLosslessGenericRefinementRegion",null,null,null,null,"PageInformation","EndOfPage","EndOfStripe","EndOfFile","Profiles","Tables",null,null,null,null,null,null,null,null,"Extension"],Ct=[[{x:-1,y:-2},{x:0,y:-2},{x:1,y:-2},{x:-2,y:-1},{x:-1,y:-1},{x:0,y:-1},{x:1,y:-1},{x:2,y:-1},{x:-4,y:0},{x:-3,y:0},{x:-2,y:0},{x:-1,y:0}],[{x:-1,y:-2},{x:0,y:-2},{x:1,y:-2},{x:2,y:-2},{x:-2,y:-1},{x:-1,y:-1},{x:0,y:-1},{x:1,y:-1},{x:2,y:-1},{x:-3,y:0},{x:-2,y:0},{x:-1,y:0}],[{x:-1,y:-2},{x:0,y:-2},{x:1,y:-2},{x:-2,y:-1},{x:-1,y:-1},{x:0,y:-1},{x:1,y:-1},{x:-2,y:0},{x:-1,y:0}],[{x:-3,y:-1},{x:-2,y:-1},{x:-1,y:-1},{x:0,y:-1},{x:1,y:-1},{x:-4,y:0},{x:-3,y:0},{x:-2,y:0},{x:-1,y:0}]],qt=[{coding:[{x:0,y:-1},{x:1,y:-1},{x:-1,y:0}],reference:[{x:0,y:-1},{x:1,y:-1},{x:-1,y:0},{x:0,y:0},{x:1,y:0},{x:-1,y:1},{x:0,y:1},{x:1,y:1}]},{coding:[{x:-1,y:-1},{x:0,y:-1},{x:1,y:-1},{x:-1,y:0}],reference:[{x:0,y:-1},{x:-1,y:0},{x:0,y:0},{x:1,y:0},{x:0,y:1},{x:1,y:1}]}],Bt=[39717,1941,229,405];function Gt(Sn,mn,fn){const Jt=fn.decoder,un=fn.contextCache.getContexts("GB"),pn=[];let wn,kn,Rn,Cn,An,_n,In;const Pn=31735;for(kn=0;kn<mn;kn++)for(An=pn[kn]=new Uint8Array(Sn),_n=kn<1?An:pn[kn-1],In=kn<2?An:pn[kn-2],wn=In[0]<<13|In[1]<<12|In[2]<<11|_n[0]<<7|_n[1]<<6|_n[2]<<5|_n[3]<<4,Rn=0;Rn<Sn;Rn++)An[Rn]=Cn=Jt.readBit(un,wn),wn=(wn&Pn)<<1|(Rn+3<Sn?In[Rn+3]<<11:0)|(Rn+4<Sn?_n[Rn+4]<<4:0)|Cn;return pn}function en(Sn,mn,fn,Jt,un,pn,wn,kn){if(Sn){const wr=new rn(kn.data,kn.start,kn.end);return Mn(wr,mn,fn,!1)}if(Jt===0&&!pn&&!un&&wn.length===4&&wn[0].x===3&&wn[0].y===-1&&wn[1].x===-3&&wn[1].y===-1&&wn[2].x===2&&wn[2].y===-2&&wn[3].x===-2&&wn[3].y===-2)return Gt(mn,fn,kn);const Rn=Ct[Jt].concat(wn);Rn.sort(function(wr,fr){return wr.y-fr.y||wr.x-fr.x});const Cn=Rn.length,An=new Int8Array(Cn),_n=new Int8Array(Cn),In=[];let Pn=0,Dn=0,Ln=0,Un=0,tr,er;for(er=0;er<Cn;er++)An[er]=Rn[er].x,_n[er]=Rn[er].y,Dn=Math.min(Dn,Rn[er].x),Ln=Math.max(Ln,Rn[er].x),Un=Math.min(Un,Rn[er].y),er<Cn-1&&Rn[er].y===Rn[er+1].y&&Rn[er].x===Rn[er+1].x-1?Pn|=1<<Cn-1-er:In.push(er);const Qn=In.length,Yn=new Int8Array(Qn),Xn=new Int8Array(Qn),nr=new Uint16Array(Qn);for(tr=0;tr<Qn;tr++)er=In[tr],Yn[tr]=Rn[er].x,Xn[tr]=Rn[er].y,nr[tr]=1<<Cn-1-er;const lr=-Dn,dr=-Un,Bn=mn-Ln,Hn=Bt[Jt];let Wn=new Uint8Array(mn);const cr=[],sr=kn.decoder,xr=kn.contextCache.getContexts("GB");let Jn=0,Vn,Zn,ur,hr=0,or,pr;for(let wr=0;wr<fn;wr++){if(un){const fr=sr.readBit(xr,Hn);if(Jn^=fr,Jn){cr.push(Wn);continue}}for(Wn=new Uint8Array(Wn),cr.push(Wn),Vn=0;Vn<mn;Vn++){if(Vn>=lr&&Vn<Bn&&wr>=dr)for(hr=hr<<1&Pn,er=0;er<Qn;er++)Zn=wr+Xn[er],ur=Vn+Yn[er],or=cr[Zn][ur],or&&(or=nr[er],hr|=or);else for(hr=0,pr=Cn-1,er=0;er<Cn;er++,pr--)ur=Vn+An[er],ur>=0&&ur<mn&&(Zn=wr+_n[er],Zn>=0&&(or=cr[Zn][ur],or&&(hr|=or<<pr)));const fr=sr.readBit(xr,hr);Wn[Vn]=fr}}return cr}function dn(Sn,mn,fn,Jt,un,pn,wn,kn,Rn){let Cn=qt[fn].coding;fn===0&&(Cn=Cn.concat([kn[0]]));const An=Cn.length,_n=new Int32Array(An),In=new Int32Array(An);let Pn;for(Pn=0;Pn<An;Pn++)_n[Pn]=Cn[Pn].x,In[Pn]=Cn[Pn].y;let Dn=qt[fn].reference;fn===0&&(Dn=Dn.concat([kn[1]]));const Ln=Dn.length,Un=new Int32Array(Ln),tr=new Int32Array(Ln);for(Pn=0;Pn<Ln;Pn++)Un[Pn]=Dn[Pn].x,tr[Pn]=Dn[Pn].y;const er=Jt[0].length,Qn=Jt.length,Yn=[],Xn=Rn.decoder,nr=Rn.contextCache.getContexts("GR");for(let lr=0;lr<mn;lr++){const dr=new Uint8Array(Sn);Yn.push(dr);for(let Bn=0;Bn<Sn;Bn++){let Hn,Wn,cr=0;for(Pn=0;Pn<An;Pn++)Hn=lr+In[Pn],Wn=Bn+_n[Pn],Hn<0||Wn<0||Wn>=Sn?cr<<=1:cr=cr<<1|Yn[Hn][Wn];for(Pn=0;Pn<Ln;Pn++)Hn=lr+tr[Pn]-pn,Wn=Bn+Un[Pn]-un,Hn<0||Hn>=Qn||Wn<0||Wn>=er?cr<<=1:cr=cr<<1|Jt[Hn][Wn];const sr=Xn.readBit(nr,cr);dr[Bn]=sr}}return Yn}function Qt(Sn,mn,fn,Jt,un,pn,wn,kn,Rn,Cn,An,_n){if(Sn&&mn)throw new bt("symbol refinement with Huffman is not supported");const In=[];let Pn=0,Dn=(0,_t.log2)(fn.length+Jt);const Ln=An.decoder,Un=An.contextCache;let tr,er;for(Sn&&(tr=sn(1),er=[],Dn=Math.max(Dn,1));In.length<Jt;){const Bn=Sn?pn.tableDeltaHeight.decode(_n):$t(Un,"IADH",Ln);Pn+=Bn;let Hn=0,Wn=0;const cr=Sn?er.length:0;for(;;){const sr=Sn?pn.tableDeltaWidth.decode(_n):$t(Un,"IADW",Ln);if(sr===null)break;Hn+=sr,Wn+=Hn;let xr;if(mn){const Jn=$t(Un,"IAAI",Ln);if(Jn>1)xr=gn(Sn,mn,Hn,Pn,0,Jn,1,fn.concat(In),Dn,0,0,1,0,pn,Rn,Cn,An,0,_n);else{const Vn=Dt(Un,Ln,Dn),Zn=$t(Un,"IARDX",Ln),ur=$t(Un,"IARDY",Ln),hr=Vn<fn.length?fn[Vn]:In[Vn-fn.length];xr=dn(Hn,Pn,Rn,hr,Zn,ur,!1,Cn,An)}In.push(xr)}else Sn?er.push(Hn):(xr=en(!1,Hn,Pn,wn,!1,null,kn,An),In.push(xr))}if(Sn&&!mn){const sr=pn.tableBitmapSize.decode(_n);_n.byteAlign();let xr;if(sr===0)xr=Fn(_n,Wn,Pn);else{const Vn=_n.end,Zn=_n.position+sr;_n.end=Zn,xr=Mn(_n,Wn,Pn,!1),_n.end=Vn,_n.position=Zn}const Jn=er.length;if(cr===Jn-1)In.push(xr);else{let Vn,Zn,ur=0,hr,or,pr;for(Vn=cr;Vn<Jn;Vn++){for(or=er[Vn],hr=ur+or,pr=[],Zn=0;Zn<Pn;Zn++)pr.push(xr[Zn].subarray(ur,hr));In.push(pr),ur=hr}}}}const Qn=[],Yn=[];let Xn=!1,nr,lr;const dr=fn.length+Jt;for(;Yn.length<dr;){let Bn=Sn?tr.decode(_n):$t(Un,"IAEX",Ln);for(;Bn--;)Yn.push(Xn);Xn=!Xn}for(nr=0,lr=fn.length;nr<lr;nr++)Yn[nr]&&Qn.push(fn[nr]);for(let Bn=0;Bn<Jt;nr++,Bn++)Yn[nr]&&Qn.push(In[Bn]);return Qn}function gn(Sn,mn,fn,Jt,un,pn,wn,kn,Rn,Cn,An,_n,In,Pn,Dn,Ln,Un,tr,er){if(Sn&&mn)throw new bt("refinement with Huffman is not supported");const Qn=[];let Yn,Xn;for(Yn=0;Yn<Jt;Yn++){if(Xn=new Uint8Array(fn),un)for(let Hn=0;Hn<fn;Hn++)Xn[Hn]=un;Qn.push(Xn)}const nr=Un.decoder,lr=Un.contextCache;let dr=Sn?-Pn.tableDeltaT.decode(er):-$t(lr,"IADT",nr),Bn=0;for(Yn=0;Yn<pn;){const Hn=Sn?Pn.tableDeltaT.decode(er):$t(lr,"IADT",nr);dr+=Hn;const Wn=Sn?Pn.tableFirstS.decode(er):$t(lr,"IAFS",nr);Bn+=Wn;let cr=Bn;do{let sr=0;wn>1&&(sr=Sn?er.readBits(tr):$t(lr,"IAIT",nr));const xr=wn*dr+sr,Jn=Sn?Pn.symbolIDTable.decode(er):Dt(lr,nr,Rn),Vn=mn&&(Sn?er.readBit():$t(lr,"IARI",nr));let Zn=kn[Jn],ur=Zn[0].length,hr=Zn.length;if(Vn){const Fr=$t(lr,"IARDW",nr),$r=$t(lr,"IARDH",nr),Er=$t(lr,"IARDX",nr),_r=$t(lr,"IARDY",nr);ur+=Fr,hr+=$r,Zn=dn(ur,hr,Dn,Zn,(Fr>>1)+Er,($r>>1)+_r,!1,Ln,Un)}const or=xr-(_n&1?0:hr-1),pr=cr-(_n&2?ur-1:0);let wr,fr,Ar;if(Cn){for(wr=0;wr<hr;wr++){if(Xn=Qn[pr+wr],!Xn)continue;Ar=Zn[wr];const Fr=Math.min(fn-or,ur);switch(In){case 0:for(fr=0;fr<Fr;fr++)Xn[or+fr]|=Ar[fr];break;case 2:for(fr=0;fr<Fr;fr++)Xn[or+fr]^=Ar[fr];break;default:throw new bt(`operator ${In} is not supported`)}}cr+=hr-1}else{for(fr=0;fr<hr;fr++)if(Xn=Qn[or+fr],!!Xn)switch(Ar=Zn[fr],In){case 0:for(wr=0;wr<ur;wr++)Xn[pr+wr]|=Ar[wr];break;case 2:for(wr=0;wr<ur;wr++)Xn[pr+wr]^=Ar[wr];break;default:throw new bt(`operator ${In} is not supported`)}cr+=ur-1}Yn++;const Lr=Sn?Pn.tableDeltaS.decode(er):$t(lr,"IADS",nr);if(Lr===null)break;cr+=Lr+An}while(!0)}return Qn}function nn(Sn,mn,fn,Jt,un,pn){const wn=[];Sn||(wn.push({x:-mn,y:0}),un===0&&wn.push({x:-3,y:-1},{x:2,y:-2},{x:-2,y:-2}));const kn=(Jt+1)*mn,Rn=en(Sn,kn,fn,un,!1,null,wn,pn),Cn=[];for(let An=0;An<=Jt;An++){const _n=[],In=mn*An,Pn=In+mn;for(let Dn=0;Dn<fn;Dn++)_n.push(Rn[Dn].subarray(In,Pn));Cn.push(_n)}return Cn}function bn(Sn,mn,fn,Jt,un,pn,wn,kn,Rn,Cn,An,_n,In,Pn,Dn){if(wn)throw new bt("skip is not supported");if(kn!==0)throw new bt(`operator "${kn}" is not supported in halftone region`);const Un=[];let tr,er,Qn;for(tr=0;tr<un;tr++){if(Qn=new Uint8Array(Jt),pn)for(er=0;er<Jt;er++)Qn[er]=pn;Un.push(Qn)}const Yn=mn.length,Xn=mn[0],nr=Xn[0].length,lr=Xn.length,dr=(0,_t.log2)(Yn),Bn=[];Sn||(Bn.push({x:fn<=1?3:2,y:-1}),fn===0&&Bn.push({x:-3,y:-1},{x:2,y:-2},{x:-2,y:-2}));const Hn=[];let Wn,cr;for(Sn&&(Wn=new rn(Dn.data,Dn.start,Dn.end)),tr=dr-1;tr>=0;tr--)Sn?cr=Mn(Wn,Rn,Cn,!0):cr=en(!1,Rn,Cn,fn,!1,null,Bn,Dn),Hn[tr]=cr;let sr,xr,Jn,Vn,Zn,ur,hr,or,pr;for(sr=0;sr<Cn;sr++)for(xr=0;xr<Rn;xr++){for(Jn=0,Vn=0,er=dr-1;er>=0;er--)Jn^=Hn[er][sr][xr],Vn|=Jn<<er;if(Zn=mn[Vn],ur=An+sr*Pn+xr*In>>8,hr=_n+sr*In-xr*Pn>>8,ur>=0&&ur+nr<=Jt&&hr>=0&&hr+lr<=un)for(tr=0;tr<lr;tr++)for(pr=Un[hr+tr],or=Zn[tr],er=0;er<nr;er++)pr[ur+er]|=or[er];else{let wr,fr;for(tr=0;tr<lr;tr++)if(fr=hr+tr,!(fr<0||fr>=un))for(pr=Un[fr],or=Zn[tr],er=0;er<nr;er++)wr=ur+er,wr>=0&&wr<Jt&&(pr[wr]|=or[er])}}return Un}function Vt(Sn,mn){const fn={};fn.number=(0,_t.readUint32)(Sn,mn);const Jt=Sn[mn+4],un=Jt&63;if(!jt[un])throw new bt("invalid segment type: "+un);fn.type=un,fn.typeName=jt[un],fn.deferredNonRetain=!!(Jt&128);const pn=!!(Jt&64),wn=Sn[mn+5];let kn=wn>>5&7;const Rn=[wn&31];let Cn=mn+6;if(wn===7){kn=(0,_t.readUint32)(Sn,Cn-1)&536870911,Cn+=3;let Dn=kn+7>>3;for(Rn[0]=Sn[Cn++];--Dn>0;)Rn.push(Sn[Cn++])}else if(wn===5||wn===6)throw new bt("invalid referred-to flags");fn.retainBits=Rn;let An=4;fn.number<=256?An=1:fn.number<=65536&&(An=2);const _n=[];let In,Pn;for(In=0;In<kn;In++){let Dn;An===1?Dn=Sn[Cn]:An===2?Dn=(0,_t.readUint16)(Sn,Cn):Dn=(0,_t.readUint32)(Sn,Cn),_n.push(Dn),Cn+=An}if(fn.referredTo=_n,pn?(fn.pageAssociation=(0,_t.readUint32)(Sn,Cn),Cn+=4):fn.pageAssociation=Sn[Cn++],fn.length=(0,_t.readUint32)(Sn,Cn),Cn+=4,fn.length===4294967295)if(un===38){const Dn=hn(Sn,Cn),Un=!!(Sn[Cn+Ut]&1),tr=6,er=new Uint8Array(tr);for(Un||(er[0]=255,er[1]=172),er[2]=Dn.height>>>24&255,er[3]=Dn.height>>16&255,er[4]=Dn.height>>8&255,er[5]=Dn.height&255,In=Cn,Pn=Sn.length;In<Pn;In++){let Qn=0;for(;Qn<tr&&er[Qn]===Sn[In+Qn];)Qn++;if(Qn===tr){fn.length=In+tr;break}}if(fn.length===4294967295)throw new bt("segment end was not found")}else throw new bt("invalid unknown segment length");return fn.headerEnd=Cn,fn}function Yt(Sn,mn,fn,Jt){const un=[];let pn=fn;for(;pn<Jt;){const wn=Vt(mn,pn);pn=wn.headerEnd;const kn={header:wn,data:mn};if(Sn.randomAccess||(kn.start=pn,pn+=wn.length,kn.end=pn),un.push(kn),wn.type===51)break}if(Sn.randomAccess)for(let wn=0,kn=un.length;wn<kn;wn++)un[wn].start=pn,pn+=un[wn].header.length,un[wn].end=pn;return un}function hn(Sn,mn){return{width:(0,_t.readUint32)(Sn,mn),height:(0,_t.readUint32)(Sn,mn+4),x:(0,_t.readUint32)(Sn,mn+8),y:(0,_t.readUint32)(Sn,mn+12),combinationOperator:Sn[mn+16]&7}}const Ut=17;function Ot(Sn,mn){const fn=Sn.header,Jt=Sn.data,un=Sn.end;let pn=Sn.start,wn,kn,Rn,Cn;switch(fn.type){case 0:const _n={},In=(0,_t.readUint16)(Jt,pn);if(_n.huffman=!!(In&1),_n.refinement=!!(In&2),_n.huffmanDHSelector=In>>2&3,_n.huffmanDWSelector=In>>4&3,_n.bitmapSizeSelector=In>>6&1,_n.aggregationInstancesSelector=In>>7&1,_n.bitmapCodingContextUsed=!!(In&256),_n.bitmapCodingContextRetained=!!(In&512),_n.template=In>>10&3,_n.refinementTemplate=In>>12&1,pn+=2,!_n.huffman){for(Cn=_n.template===0?4:1,kn=[],Rn=0;Rn<Cn;Rn++)kn.push({x:(0,_t.readInt8)(Jt,pn),y:(0,_t.readInt8)(Jt,pn+1)}),pn+=2;_n.at=kn}if(_n.refinement&&!_n.refinementTemplate){for(kn=[],Rn=0;Rn<2;Rn++)kn.push({x:(0,_t.readInt8)(Jt,pn),y:(0,_t.readInt8)(Jt,pn+1)}),pn+=2;_n.refinementAt=kn}_n.numberOfExportedSymbols=(0,_t.readUint32)(Jt,pn),pn+=4,_n.numberOfNewSymbols=(0,_t.readUint32)(Jt,pn),pn+=4,wn=[_n,fn.number,fn.referredTo,Jt,pn,un];break;case 6:case 7:const Pn={};Pn.info=hn(Jt,pn),pn+=Ut;const Dn=(0,_t.readUint16)(Jt,pn);if(pn+=2,Pn.huffman=!!(Dn&1),Pn.refinement=!!(Dn&2),Pn.logStripSize=Dn>>2&3,Pn.stripSize=1<<Pn.logStripSize,Pn.referenceCorner=Dn>>4&3,Pn.transposed=!!(Dn&64),Pn.combinationOperator=Dn>>7&3,Pn.defaultPixelValue=Dn>>9&1,Pn.dsOffset=Dn<<17>>27,Pn.refinementTemplate=Dn>>15&1,Pn.huffman){const lr=(0,_t.readUint16)(Jt,pn);pn+=2,Pn.huffmanFS=lr&3,Pn.huffmanDS=lr>>2&3,Pn.huffmanDT=lr>>4&3,Pn.huffmanRefinementDW=lr>>6&3,Pn.huffmanRefinementDH=lr>>8&3,Pn.huffmanRefinementDX=lr>>10&3,Pn.huffmanRefinementDY=lr>>12&3,Pn.huffmanRefinementSizeSelector=!!(lr&16384)}if(Pn.refinement&&!Pn.refinementTemplate){for(kn=[],Rn=0;Rn<2;Rn++)kn.push({x:(0,_t.readInt8)(Jt,pn),y:(0,_t.readInt8)(Jt,pn+1)}),pn+=2;Pn.refinementAt=kn}Pn.numberOfSymbolInstances=(0,_t.readUint32)(Jt,pn),pn+=4,wn=[Pn,fn.referredTo,Jt,pn,un];break;case 16:const Ln={},Un=Jt[pn++];Ln.mmr=!!(Un&1),Ln.template=Un>>1&3,Ln.patternWidth=Jt[pn++],Ln.patternHeight=Jt[pn++],Ln.maxPatternIndex=(0,_t.readUint32)(Jt,pn),pn+=4,wn=[Ln,fn.number,Jt,pn,un];break;case 22:case 23:const tr={};tr.info=hn(Jt,pn),pn+=Ut;const er=Jt[pn++];tr.mmr=!!(er&1),tr.template=er>>1&3,tr.enableSkip=!!(er&8),tr.combinationOperator=er>>4&7,tr.defaultPixelValue=er>>7&1,tr.gridWidth=(0,_t.readUint32)(Jt,pn),pn+=4,tr.gridHeight=(0,_t.readUint32)(Jt,pn),pn+=4,tr.gridOffsetX=(0,_t.readUint32)(Jt,pn)&4294967295,pn+=4,tr.gridOffsetY=(0,_t.readUint32)(Jt,pn)&4294967295,pn+=4,tr.gridVectorX=(0,_t.readUint16)(Jt,pn),pn+=2,tr.gridVectorY=(0,_t.readUint16)(Jt,pn),pn+=2,wn=[tr,fn.referredTo,Jt,pn,un];break;case 38:case 39:const Qn={};Qn.info=hn(Jt,pn),pn+=Ut;const Yn=Jt[pn++];if(Qn.mmr=!!(Yn&1),Qn.template=Yn>>1&3,Qn.prediction=!!(Yn&8),!Qn.mmr){for(Cn=Qn.template===0?4:1,kn=[],Rn=0;Rn<Cn;Rn++)kn.push({x:(0,_t.readInt8)(Jt,pn),y:(0,_t.readInt8)(Jt,pn+1)}),pn+=2;Qn.at=kn}wn=[Qn,Jt,pn,un];break;case 48:const Xn={width:(0,_t.readUint32)(Jt,pn),height:(0,_t.readUint32)(Jt,pn+4),resolutionX:(0,_t.readUint32)(Jt,pn+8),resolutionY:(0,_t.readUint32)(Jt,pn+12)};Xn.height===4294967295&&delete Xn.height;const nr=Jt[pn+16];(0,_t.readUint16)(Jt,pn+17),Xn.lossless=!!(nr&1),Xn.refinement=!!(nr&2),Xn.defaultPixelValue=nr>>2&1,Xn.combinationOperator=nr>>3&3,Xn.requiresBuffer=!!(nr&32),Xn.combinationOperatorOverride=!!(nr&64),wn=[Xn];break;case 49:break;case 50:break;case 51:break;case 53:wn=[fn.number,Jt,pn,un];break;case 62:break;default:throw new bt(`segment type ${fn.typeName}(${fn.type}) is not implemented`)}const An="on"+fn.typeName;An in mn&&mn[An].apply(mn,wn)}function zt(Sn,mn){for(let fn=0,Jt=Sn.length;fn<Jt;fn++)Ot(Sn[fn],mn)}function an(Sn){const mn=new Ht;for(let fn=0,Jt=Sn.length;fn<Jt;fn++){const un=Sn[fn],pn=Yt({},un.data,un.start,un.end);zt(pn,mn)}return mn.buffer}class Ht{onPageInformation(mn){this.currentPageInfo=mn;const fn=mn.width+7>>3,Jt=new Uint8ClampedArray(fn*mn.height);mn.defaultPixelValue&&Jt.fill(255),this.buffer=Jt}drawBitmap(mn,fn){const Jt=this.currentPageInfo,un=mn.width,pn=mn.height,wn=Jt.width+7>>3,kn=Jt.combinationOperatorOverride?mn.combinationOperator:Jt.combinationOperator,Rn=this.buffer,Cn=128>>(mn.x&7);let An=mn.y*wn+(mn.x>>3),_n,In,Pn,Dn;switch(kn){case 0:for(_n=0;_n<pn;_n++){for(Pn=Cn,Dn=An,In=0;In<un;In++)fn[_n][In]&&(Rn[Dn]|=Pn),Pn>>=1,Pn||(Pn=128,Dn++);An+=wn}break;case 2:for(_n=0;_n<pn;_n++){for(Pn=Cn,Dn=An,In=0;In<un;In++)fn[_n][In]&&(Rn[Dn]^=Pn),Pn>>=1,Pn||(Pn=128,Dn++);An+=wn}break;default:throw new bt(`operator ${kn} is not supported`)}}onImmediateGenericRegion(mn,fn,Jt,un){const pn=mn.info,wn=new Xt(fn,Jt,un),kn=en(mn.mmr,pn.width,pn.height,mn.template,mn.prediction,null,mn.at,wn);this.drawBitmap(pn,kn)}onImmediateLosslessGenericRegion(){this.onImmediateGenericRegion(...arguments)}onSymbolDictionary(mn,fn,Jt,un,pn,wn){let kn,Rn;mn.huffman&&(kn=En(mn,Jt,this.customTables),Rn=new rn(un,pn,wn));let Cn=this.symbols;Cn||(this.symbols=Cn={});const An=[];for(const In of Jt){const Pn=Cn[In];Pn&&An.push(...Pn)}const _n=new Xt(un,pn,wn);Cn[fn]=Qt(mn.huffman,mn.refinement,An,mn.numberOfNewSymbols,mn.numberOfExportedSymbols,kn,mn.template,mn.at,mn.refinementTemplate,mn.refinementAt,_n,Rn)}onImmediateTextRegion(mn,fn,Jt,un,pn){const wn=mn.info;let kn,Rn;const Cn=this.symbols,An=[];for(const Dn of fn){const Ln=Cn[Dn];Ln&&An.push(...Ln)}const _n=(0,_t.log2)(An.length);mn.huffman&&(Rn=new rn(Jt,un,pn),kn=vn(mn,fn,this.customTables,An.length,Rn));const In=new Xt(Jt,un,pn),Pn=gn(mn.huffman,mn.refinement,wn.width,wn.height,mn.defaultPixelValue,mn.numberOfSymbolInstances,mn.stripSize,An,_n,mn.transposed,mn.dsOffset,mn.referenceCorner,mn.combinationOperator,kn,mn.refinementTemplate,mn.refinementAt,In,mn.logStripSize,Rn);this.drawBitmap(wn,Pn)}onImmediateLosslessTextRegion(){this.onImmediateTextRegion(...arguments)}onPatternDictionary(mn,fn,Jt,un,pn){let wn=this.patterns;wn||(this.patterns=wn={});const kn=new Xt(Jt,un,pn);wn[fn]=nn(mn.mmr,mn.patternWidth,mn.patternHeight,mn.maxPatternIndex,mn.template,kn)}onImmediateHalftoneRegion(mn,fn,Jt,un,pn){const wn=this.patterns[fn[0]],kn=mn.info,Rn=new Xt(Jt,un,pn),Cn=bn(mn.mmr,wn,mn.template,kn.width,kn.height,mn.defaultPixelValue,mn.enableSkip,mn.combinationOperator,mn.gridWidth,mn.gridHeight,mn.gridOffsetX,mn.gridOffsetY,mn.gridVectorX,mn.gridVectorY,Rn);this.drawBitmap(kn,Cn)}onImmediateLosslessHalftoneRegion(){this.onImmediateHalftoneRegion(...arguments)}onTables(mn,fn,Jt,un){let pn=this.customTables;pn||(this.customTables=pn={}),pn[mn]=on(fn,Jt,un)}}class Wt{constructor(mn){mn.length===2?(this.isOOB=!0,this.rangeLow=0,this.prefixLength=mn[0],this.rangeLength=0,this.prefixCode=mn[1],this.isLowerRange=!1):(this.isOOB=!1,this.rangeLow=mn[0],this.prefixLength=mn[1],this.rangeLength=mn[2],this.prefixCode=mn[3],this.isLowerRange=mn[4]==="lower")}}class tn{constructor(mn){this.children=[],mn?(this.isLeaf=!0,this.rangeLength=mn.rangeLength,this.rangeLow=mn.rangeLow,this.isLowerRange=mn.isLowerRange,this.isOOB=mn.isOOB):this.isLeaf=!1}buildTree(mn,fn){const Jt=mn.prefixCode>>fn&1;if(fn<=0)this.children[Jt]=new tn(mn);else{let un=this.children[Jt];un||(this.children[Jt]=un=new tn(null)),un.buildTree(mn,fn-1)}}decodeNode(mn){if(this.isLeaf){if(this.isOOB)return null;const Jt=mn.readBits(this.rangeLength);return this.rangeLow+(this.isLowerRange?-Jt:Jt)}const fn=this.children[mn.readBit()];if(!fn)throw new bt("invalid Huffman data");return fn.decodeNode(mn)}}class ln{constructor(mn,fn){fn||this.assignPrefixCodes(mn),this.rootNode=new tn(null);for(let Jt=0,un=mn.length;Jt<un;Jt++){const pn=mn[Jt];pn.prefixLength>0&&this.rootNode.buildTree(pn,pn.prefixLength-1)}}decode(mn){return this.rootNode.decodeNode(mn)}assignPrefixCodes(mn){const fn=mn.length;let Jt=0;for(let An=0;An<fn;An++)Jt=Math.max(Jt,mn[An].prefixLength);const un=new Uint32Array(Jt+1);for(let An=0;An<fn;An++)un[mn[An].prefixLength]++;let pn=1,wn=0,kn,Rn,Cn;for(un[0]=0;pn<=Jt;){for(wn=wn+un[pn-1]<<1,kn=wn,Rn=0;Rn<fn;)Cn=mn[Rn],Cn.prefixLength===pn&&(Cn.prefixCode=kn,kn++),Rn++;pn++}}}function on(Sn,mn,fn){const Jt=Sn[mn],un=(0,_t.readUint32)(Sn,mn+1)&4294967295,pn=(0,_t.readUint32)(Sn,mn+5)&4294967295,wn=new rn(Sn,mn+9,fn),kn=(Jt>>1&7)+1,Rn=(Jt>>4&7)+1,Cn=[];let An,_n,In=un;do An=wn.readBits(kn),_n=wn.readBits(Rn),Cn.push(new Wt([In,An,_n,0])),In+=1<<_n;while(In<pn);return An=wn.readBits(kn),Cn.push(new Wt([un-1,An,32,0,"lower"])),An=wn.readBits(kn),Cn.push(new Wt([pn,An,32,0])),Jt&1&&(An=wn.readBits(kn),Cn.push(new Wt([An,0]))),new ln(Cn,!1)}const cn={};function sn(Sn){let mn=cn[Sn];if(mn)return mn;let fn;switch(Sn){case 1:fn=[[0,1,4,0],[16,2,8,2],[272,3,16,6],[65808,3,32,7]];break;case 2:fn=[[0,1,0,0],[1,2,0,2],[2,3,0,6],[3,4,3,14],[11,5,6,30],[75,6,32,62],[6,63]];break;case 3:fn=[[-256,8,8,254],[0,1,0,0],[1,2,0,2],[2,3,0,6],[3,4,3,14],[11,5,6,30],[-257,8,32,255,"lower"],[75,7,32,126],[6,62]];break;case 4:fn=[[1,1,0,0],[2,2,0,2],[3,3,0,6],[4,4,3,14],[12,5,6,30],[76,5,32,31]];break;case 5:fn=[[-255,7,8,126],[1,1,0,0],[2,2,0,2],[3,3,0,6],[4,4,3,14],[12,5,6,30],[-256,7,32,127,"lower"],[76,6,32,62]];break;case 6:fn=[[-2048,5,10,28],[-1024,4,9,8],[-512,4,8,9],[-256,4,7,10],[-128,5,6,29],[-64,5,5,30],[-32,4,5,11],[0,2,7,0],[128,3,7,2],[256,3,8,3],[512,4,9,12],[1024,4,10,13],[-2049,6,32,62,"lower"],[2048,6,32,63]];break;case 7:fn=[[-1024,4,9,8],[-512,3,8,0],[-256,4,7,9],[-128,5,6,26],[-64,5,5,27],[-32,4,5,10],[0,4,5,11],[32,5,5,28],[64,5,6,29],[128,4,7,12],[256,3,8,1],[512,3,9,2],[1024,3,10,3],[-1025,5,32,30,"lower"],[2048,5,32,31]];break;case 8:fn=[[-15,8,3,252],[-7,9,1,508],[-5,8,1,253],[-3,9,0,509],[-2,7,0,124],[-1,4,0,10],[0,2,1,0],[2,5,0,26],[3,6,0,58],[4,3,4,4],[20,6,1,59],[22,4,4,11],[38,4,5,12],[70,5,6,27],[134,5,7,28],[262,6,7,60],[390,7,8,125],[646,6,10,61],[-16,9,32,510,"lower"],[1670,9,32,511],[2,1]];break;case 9:fn=[[-31,8,4,252],[-15,9,2,508],[-11,8,2,253],[-7,9,1,509],[-5,7,1,124],[-3,4,1,10],[-1,3,1,2],[1,3,1,3],[3,5,1,26],[5,6,1,58],[7,3,5,4],[39,6,2,59],[43,4,5,11],[75,4,6,12],[139,5,7,27],[267,5,8,28],[523,6,8,60],[779,7,9,125],[1291,6,11,61],[-32,9,32,510,"lower"],[3339,9,32,511],[2,0]];break;case 10:fn=[[-21,7,4,122],[-5,8,0,252],[-4,7,0,123],[-3,5,0,24],[-2,2,2,0],[2,5,0,25],[3,6,0,54],[4,7,0,124],[5,8,0,253],[6,2,6,1],[70,5,5,26],[102,6,5,55],[134,6,6,56],[198,6,7,57],[326,6,8,58],[582,6,9,59],[1094,6,10,60],[2118,7,11,125],[-22,8,32,254,"lower"],[4166,8,32,255],[2,2]];break;case 11:fn=[[1,1,0,0],[2,2,1,2],[4,4,0,12],[5,4,1,13],[7,5,1,28],[9,5,2,29],[13,6,2,60],[17,7,2,122],[21,7,3,123],[29,7,4,124],[45,7,5,125],[77,7,6,126],[141,7,32,127]];break;case 12:fn=[[1,1,0,0],[2,2,0,2],[3,3,1,6],[5,5,0,28],[6,5,1,29],[8,6,1,60],[10,7,0,122],[11,7,1,123],[13,7,2,124],[17,7,3,125],[25,7,4,126],[41,8,5,254],[73,8,32,255]];break;case 13:fn=[[1,1,0,0],[2,3,0,4],[3,4,0,12],[4,5,0,28],[5,4,1,13],[7,3,3,5],[15,6,1,58],[17,6,2,59],[21,6,3,60],[29,6,4,61],[45,6,5,62],[77,7,6,126],[141,7,32,127]];break;case 14:fn=[[-2,3,0,4],[-1,3,0,5],[0,1,0,0],[1,3,0,6],[2,3,0,7]];break;case 15:fn=[[-24,7,4,124],[-8,6,2,60],[-4,5,1,28],[-2,4,0,12],[-1,3,0,4],[0,1,0,0],[1,3,0,5],[2,4,0,13],[3,5,1,29],[5,6,2,61],[9,7,4,125],[-25,7,32,126,"lower"],[25,7,32,127]];break;default:throw new bt(`standard table B.${Sn} does not exist`)}for(let Jt=0,un=fn.length;Jt<un;Jt++)fn[Jt]=new Wt(fn[Jt]);return mn=new ln(fn,!0),cn[Sn]=mn,mn}class rn{constructor(mn,fn,Jt){this.data=mn,this.start=fn,this.end=Jt,this.position=fn,this.shift=-1,this.currentByte=0}readBit(){if(this.shift<0){if(this.position>=this.end)throw new bt("end of data while reading bit");this.currentByte=this.data[this.position++],this.shift=7}const mn=this.currentByte>>this.shift&1;return this.shift--,mn}readBits(mn){let fn=0,Jt;for(Jt=mn-1;Jt>=0;Jt--)fn|=this.readBit()<<Jt;return fn}byteAlign(){this.shift=-1}next(){return this.position>=this.end?-1:this.data[this.position++]}}function xn(Sn,mn,fn){let Jt=0;for(let un=0,pn=mn.length;un<pn;un++){const wn=fn[mn[un]];if(wn){if(Sn===Jt)return wn;Jt++}}throw new bt("can't find custom Huffman table")}function vn(Sn,mn,fn,Jt,un){const pn=[];for(let In=0;In<=34;In++){const Pn=un.readBits(4);pn.push(new Wt([In,Pn,0,0]))}const wn=new ln(pn,!1);pn.length=0;for(let In=0;In<Jt;){const Pn=wn.decode(un);if(Pn>=32){let Dn,Ln,Un;switch(Pn){case 32:if(In===0)throw new bt("no previous value in symbol ID table");Ln=un.readBits(2)+3,Dn=pn[In-1].prefixLength;break;case 33:Ln=un.readBits(3)+3,Dn=0;break;case 34:Ln=un.readBits(7)+11,Dn=0;break;default:throw new bt("invalid code length in symbol ID table")}for(Un=0;Un<Ln;Un++)pn.push(new Wt([In,Dn,0,0])),In++}else pn.push(new Wt([In,Pn,0,0])),In++}un.byteAlign();const kn=new ln(pn,!1);let Rn=0,Cn,An,_n;switch(Sn.huffmanFS){case 0:case 1:Cn=sn(Sn.huffmanFS+6);break;case 3:Cn=xn(Rn,mn,fn),Rn++;break;default:throw new bt("invalid Huffman FS selector")}switch(Sn.huffmanDS){case 0:case 1:case 2:An=sn(Sn.huffmanDS+8);break;case 3:An=xn(Rn,mn,fn),Rn++;break;default:throw new bt("invalid Huffman DS selector")}switch(Sn.huffmanDT){case 0:case 1:case 2:_n=sn(Sn.huffmanDT+11);break;case 3:_n=xn(Rn,mn,fn),Rn++;break;default:throw new bt("invalid Huffman DT selector")}if(Sn.refinement)throw new bt("refinement with Huffman is not supported");return{symbolIDTable:kn,tableFirstS:Cn,tableDeltaS:An,tableDeltaT:_n}}function En(Sn,mn,fn){let Jt=0,un,pn;switch(Sn.huffmanDHSelector){case 0:case 1:un=sn(Sn.huffmanDHSelector+4);break;case 3:un=xn(Jt,mn,fn),Jt++;break;default:throw new bt("invalid Huffman DH selector")}switch(Sn.huffmanDWSelector){case 0:case 1:pn=sn(Sn.huffmanDWSelector+2);break;case 3:pn=xn(Jt,mn,fn),Jt++;break;default:throw new bt("invalid Huffman DW selector")}let wn,kn;return Sn.bitmapSizeSelector?(wn=xn(Jt,mn,fn),Jt++):wn=sn(1),Sn.aggregationInstancesSelector?kn=xn(Jt,mn,fn):kn=sn(1),{tableDeltaHeight:un,tableDeltaWidth:pn,tableBitmapSize:wn,tableAggregateInstances:kn}}function Fn(Sn,mn,fn){const Jt=[];for(let un=0;un<fn;un++){const pn=new Uint8Array(mn);Jt.push(pn);for(let wn=0;wn<mn;wn++)pn[wn]=Sn.readBit();Sn.byteAlign()}return Jt}function Mn(Sn,mn,fn,Jt){const un={K:-1,Columns:mn,Rows:fn,BlackIs1:!0,EndOfBlock:Jt},pn=new _e.CCITTFaxDecoder(Sn,un),wn=[];let kn,Rn=!1;for(let Cn=0;Cn<fn;Cn++){const An=new Uint8Array(mn);wn.push(An);let _n=-1;for(let In=0;In<mn;In++)_n<0&&(kn=pn.readNextChar(),kn===-1&&(kn=0,Rn=!0),_n=7),An[In]=kn>>_n&1,_n--}if(Jt&&!Rn)for(let An=0;An<5&&pn.readNextChar()!==-1;An++);return wn}class Tn{parseChunks(mn){return an(mn)}parse(mn){throw new Error("Not implemented: Jbig2Image.parse")}}Et.Jbig2Image=Tn},(kt,Et)=>{Object.defineProperty(Et,"__esModule",{value:!0}),Et.ArithmeticDecoder=void 0;const Rt=[{qe:22017,nmps:1,nlps:1,switchFlag:1},{qe:13313,nmps:2,nlps:6,switchFlag:0},{qe:6145,nmps:3,nlps:9,switchFlag:0},{qe:2753,nmps:4,nlps:12,switchFlag:0},{qe:1313,nmps:5,nlps:29,switchFlag:0},{qe:545,nmps:38,nlps:33,switchFlag:0},{qe:22017,nmps:7,nlps:6,switchFlag:1},{qe:21505,nmps:8,nlps:14,switchFlag:0},{qe:18433,nmps:9,nlps:14,switchFlag:0},{qe:14337,nmps:10,nlps:14,switchFlag:0},{qe:12289,nmps:11,nlps:17,switchFlag:0},{qe:9217,nmps:12,nlps:18,switchFlag:0},{qe:7169,nmps:13,nlps:20,switchFlag:0},{qe:5633,nmps:29,nlps:21,switchFlag:0},{qe:22017,nmps:15,nlps:14,switchFlag:1},{qe:21505,nmps:16,nlps:14,switchFlag:0},{qe:20737,nmps:17,nlps:15,switchFlag:0},{qe:18433,nmps:18,nlps:16,switchFlag:0},{qe:14337,nmps:19,nlps:17,switchFlag:0},{qe:13313,nmps:20,nlps:18,switchFlag:0},{qe:12289,nmps:21,nlps:19,switchFlag:0},{qe:10241,nmps:22,nlps:19,switchFlag:0},{qe:9217,nmps:23,nlps:20,switchFlag:0},{qe:8705,nmps:24,nlps:21,switchFlag:0},{qe:7169,nmps:25,nlps:22,switchFlag:0},{qe:6145,nmps:26,nlps:23,switchFlag:0},{qe:5633,nmps:27,nlps:24,switchFlag:0},{qe:5121,nmps:28,nlps:25,switchFlag:0},{qe:4609,nmps:29,nlps:26,switchFlag:0},{qe:4353,nmps:30,nlps:27,switchFlag:0},{qe:2753,nmps:31,nlps:28,switchFlag:0},{qe:2497,nmps:32,nlps:29,switchFlag:0},{qe:2209,nmps:33,nlps:30,switchFlag:0},{qe:1313,nmps:34,nlps:31,switchFlag:0},{qe:1089,nmps:35,nlps:32,switchFlag:0},{qe:673,nmps:36,nlps:33,switchFlag:0},{qe:545,nmps:37,nlps:34,switchFlag:0},{qe:321,nmps:38,nlps:35,switchFlag:0},{qe:273,nmps:39,nlps:36,switchFlag:0},{qe:133,nmps:40,nlps:37,switchFlag:0},{qe:73,nmps:41,nlps:38,switchFlag:0},{qe:37,nmps:42,nlps:39,switchFlag:0},{qe:21,nmps:43,nlps:40,switchFlag:0},{qe:9,nmps:44,nlps:41,switchFlag:0},{qe:5,nmps:45,nlps:42,switchFlag:0},{qe:1,nmps:45,nlps:43,switchFlag:0},{qe:22017,nmps:46,nlps:46,switchFlag:0}];class wt{constructor(Pt,_e,bt){this.data=Pt,this.bp=_e,this.dataEnd=bt,this.chigh=Pt[_e],this.clow=0,this.byteIn(),this.chigh=this.chigh<<7&65535|this.clow>>9&127,this.clow=this.clow<<7&65535,this.ct-=7,this.a=32768}byteIn(){const Pt=this.data;let _e=this.bp;Pt[_e]===255?Pt[_e+1]>143?(this.clow+=65280,this.ct=8):(_e++,this.clow+=Pt[_e]<<9,this.ct=7,this.bp=_e):(_e++,this.clow+=_e<this.dataEnd?Pt[_e]<<8:65280,this.ct=8,this.bp=_e),this.clow>65535&&(this.chigh+=this.clow>>16,this.clow&=65535)}readBit(Pt,_e){let bt=Pt[_e]>>1,Ft=Pt[_e]&1;const Xt=Rt[bt],Kt=Xt.qe;let Nt,$t=this.a-Kt;if(this.chigh<Kt)$t<Kt?($t=Kt,Nt=Ft,bt=Xt.nmps):($t=Kt,Nt=1^Ft,Xt.switchFlag===1&&(Ft=Nt),bt=Xt.nlps);else{if(this.chigh-=Kt,$t&32768)return this.a=$t,Ft;$t<Kt?(Nt=1^Ft,Xt.switchFlag===1&&(Ft=Nt),bt=Xt.nlps):(Nt=Ft,bt=Xt.nmps)}do this.ct===0&&this.byteIn(),$t<<=1,this.chigh=this.chigh<<1&65535|this.clow>>15&1,this.clow=this.clow<<1&65535,this.ct--;while(!($t&32768));return this.a=$t,Pt[_e]=bt<<1|Ft,Nt}}Et.ArithmeticDecoder=wt},(kt,Et,Rt)=>{Object.defineProperty(Et,"__esModule",{value:!0}),Et.JpegStream=void 0;var wt=Rt(18),_t=Rt(4),Pt=Rt(27),_e=Rt(2);class bt extends wt.DecodeStream{constructor(Xt,Kt,Nt){let $t;for(;($t=Xt.getByte())!==-1;)if($t===255){Xt.skip(-1);break}super(Kt),this.stream=Xt,this.dict=Xt.dict,this.maybeLength=Kt,this.params=Nt}get bytes(){return(0,_e.shadow)(this,"bytes",this.stream.getBytes(this.maybeLength))}ensureBuffer(Xt){}readBlock(){if(this.eof)return;const Xt={decodeTransform:void 0,colorTransform:void 0},Kt=this.dict.getArray("D","Decode");if((this.forceRGBA||this.forceRGB)&&Array.isArray(Kt)){const Dt=this.dict.get("BPC","BitsPerComponent")||8,jt=Kt.length,Ct=new Int32Array(jt);let qt=!1;const Bt=(1<<Dt)-1;for(let Gt=0;Gt<jt;Gt+=2)Ct[Gt]=(Kt[Gt+1]-Kt[Gt])*256|0,Ct[Gt+1]=Kt[Gt]*Bt|0,(Ct[Gt]!==256||Ct[Gt+1]!==0)&&(qt=!0);qt&&(Xt.decodeTransform=Ct)}if(this.params instanceof _t.Dict){const Dt=this.params.get("ColorTransform");Number.isInteger(Dt)&&(Xt.colorTransform=Dt)}const Nt=new Pt.JpegImage(Xt);Nt.parse(this.bytes);const $t=Nt.getData({width:this.drawWidth,height:this.drawHeight,forceRGBA:this.forceRGBA,forceRGB:this.forceRGB,isSourcePDF:!0});this.buffer=$t,this.bufferLength=$t.length,this.eof=!0}}Et.JpegStream=bt},(kt,Et,Rt)=>{Object.defineProperty(Et,"__esModule",{value:!0}),Et.JpegImage=void 0;var wt=Rt(2),_t=Rt(28),Pt=Rt(3);class _e extends wt.BaseException{constructor(Yt){super(`JPEG error: ${Yt}`,"JpegError")}}class bt extends wt.BaseException{constructor(Yt,hn){super(Yt,"DNLMarkerError"),this.scanLines=hn}}class Ft extends wt.BaseException{constructor(Yt){super(Yt,"EOIMarkerError")}}const Xt=new Uint8Array([0,1,8,16,9,2,3,10,17,24,32,25,18,11,4,5,12,19,26,33,40,48,41,34,27,20,13,6,7,14,21,28,35,42,49,56,57,50,43,36,29,22,15,23,30,37,44,51,58,59,52,45,38,31,39,46,53,60,61,54,47,55,62,63]),Kt=4017,Nt=799,$t=3406,Dt=2276,jt=1567,Ct=3784,qt=5793,Bt=2896;function Gt(Vt,Yt){let hn=0,Ut,Ot,zt=16;for(;zt>0&&!Vt[zt-1];)zt--;const an=[{children:[],index:0}];let Ht=an[0],Wt;for(Ut=0;Ut<zt;Ut++){for(Ot=0;Ot<Vt[Ut];Ot++){for(Ht=an.pop(),Ht.children[Ht.index]=Yt[hn];Ht.index>0;)Ht=an.pop();for(Ht.index++,an.push(Ht);an.length<=Ut;)an.push(Wt={children:[],index:0}),Ht.children[Ht.index]=Wt.children,Ht=Wt;hn++}Ut+1<zt&&(an.push(Wt={children:[],index:0}),Ht.children[Ht.index]=Wt.children,Ht=Wt)}return an[0].children}function en(Vt,Yt,hn){return 64*((Vt.blocksPerLine+1)*Yt+hn)}function dn(Vt,Yt,hn,Ut,Ot,zt,an,Ht,Wt,tn=!1){const ln=hn.mcusPerLine,on=hn.progressive,cn=Yt;let sn=0,rn=0;function xn(){if(rn>0)return rn--,sn>>rn&1;if(sn=Vt[Yt++],sn===255){const Xn=Vt[Yt++];if(Xn){if(Xn===220&&tn){Yt+=2;const nr=(0,Pt.readUint16)(Vt,Yt);if(Yt+=2,nr>0&&nr!==hn.scanLines)throw new bt("Found DNL marker (0xFFDC) while parsing scan data",nr)}else if(Xn===217){if(tn){const nr=wn*(hn.precision===8?8:0);if(nr>0&&Math.round(hn.scanLines/nr)>=5)throw new bt("Found EOI marker (0xFFD9) while parsing scan data, possibly caused by incorrect `scanLines` parameter",nr)}throw new Ft("Found EOI marker (0xFFD9) while parsing scan data")}throw new _e(`unexpected marker ${(sn<<8|Xn).toString(16)}`)}}return rn=7,sn>>>7}function vn(Xn){let nr=Xn;for(;;){switch(nr=nr[xn()],typeof nr){case"number":return nr;case"object":continue}throw new _e("invalid huffman sequence")}}function En(Xn){let nr=0;for(;Xn>0;)nr=nr<<1|xn(),Xn--;return nr}function Fn(Xn){if(Xn===1)return xn()===1?1:-1;const nr=En(Xn);return nr>=1<<Xn-1?nr:nr+(-1<<Xn)+1}function Mn(Xn,nr){const lr=vn(Xn.huffmanTableDC),dr=lr===0?0:Fn(lr);Xn.blockData[nr]=Xn.pred+=dr;let Bn=1;for(;Bn<64;){const Hn=vn(Xn.huffmanTableAC),Wn=Hn&15,cr=Hn>>4;if(Wn===0){if(cr<15)break;Bn+=16;continue}Bn+=cr;const sr=Xt[Bn];Xn.blockData[nr+sr]=Fn(Wn),Bn++}}function Tn(Xn,nr){const lr=vn(Xn.huffmanTableDC),dr=lr===0?0:Fn(lr)<<Wt;Xn.blockData[nr]=Xn.pred+=dr}function Sn(Xn,nr){Xn.blockData[nr]|=xn()<<Wt}let mn=0;function fn(Xn,nr){if(mn>0){mn--;return}let lr=zt;const dr=an;for(;lr<=dr;){const Bn=vn(Xn.huffmanTableAC),Hn=Bn&15,Wn=Bn>>4;if(Hn===0){if(Wn<15){mn=En(Wn)+(1<<Wn)-1;break}lr+=16;continue}lr+=Wn;const cr=Xt[lr];Xn.blockData[nr+cr]=Fn(Hn)*(1<<Wt),lr++}}let Jt=0,un;function pn(Xn,nr){let lr=zt;const dr=an;let Bn=0,Hn,Wn;for(;lr<=dr;){const cr=nr+Xt[lr],sr=Xn.blockData[cr]<0?-1:1;switch(Jt){case 0:if(Wn=vn(Xn.huffmanTableAC),Hn=Wn&15,Bn=Wn>>4,Hn===0)Bn<15?(mn=En(Bn)+(1<<Bn),Jt=4):(Bn=16,Jt=1);else{if(Hn!==1)throw new _e("invalid ACn encoding");un=Fn(Hn),Jt=Bn?2:3}continue;case 1:case 2:Xn.blockData[cr]?Xn.blockData[cr]+=sr*(xn()<<Wt):(Bn--,Bn===0&&(Jt=Jt===2?3:0));break;case 3:Xn.blockData[cr]?Xn.blockData[cr]+=sr*(xn()<<Wt):(Xn.blockData[cr]=un<<Wt,Jt=0);break;case 4:Xn.blockData[cr]&&(Xn.blockData[cr]+=sr*(xn()<<Wt));break}lr++}Jt===4&&(mn--,mn===0&&(Jt=0))}let wn=0;function kn(Xn,nr,lr,dr,Bn){const Hn=lr/ln|0,Wn=lr%ln;wn=Hn*Xn.v+dr;const cr=Wn*Xn.h+Bn,sr=en(Xn,wn,cr);nr(Xn,sr)}function Rn(Xn,nr,lr){wn=lr/Xn.blocksPerLine|0;const dr=lr%Xn.blocksPerLine,Bn=en(Xn,wn,dr);nr(Xn,Bn)}const Cn=Ut.length;let An,_n,In,Pn,Dn,Ln;on?zt===0?Ln=Ht===0?Tn:Sn:Ln=Ht===0?fn:pn:Ln=Mn;let Un=0,tr;const er=Cn===1?Ut[0].blocksPerLine*Ut[0].blocksPerColumn:ln*hn.mcusPerColumn;let Qn,Yn;for(;Un<=er;){const Xn=Ot?Math.min(er-Un,Ot):er;if(Xn>0){for(_n=0;_n<Cn;_n++)Ut[_n].pred=0;if(mn=0,Cn===1)for(An=Ut[0],Dn=0;Dn<Xn;Dn++)Rn(An,Ln,Un),Un++;else for(Dn=0;Dn<Xn;Dn++){for(_n=0;_n<Cn;_n++)for(An=Ut[_n],Qn=An.h,Yn=An.v,In=0;In<Yn;In++)for(Pn=0;Pn<Qn;Pn++)kn(An,Ln,Un,In,Pn);Un++}}if(rn=0,tr=nn(Vt,Yt),!tr)break;if(tr.invalid){const nr=Xn>0?"unexpected":"excessive";(0,wt.warn)(`decodeScan - ${nr} MCU data, current marker is: ${tr.invalid}`),Yt=tr.offset}if(tr.marker>=65488&&tr.marker<=65495)Yt+=2;else break}return Yt-cn}function Qt(Vt,Yt,hn){const Ut=Vt.quantizationTable,Ot=Vt.blockData;let zt,an,Ht,Wt,tn,ln,on,cn,sn,rn,xn,vn,En,Fn,Mn,Tn,Sn;if(!Ut)throw new _e("missing required Quantization Table.");for(let mn=0;mn<64;mn+=8){if(sn=Ot[Yt+mn],rn=Ot[Yt+mn+1],xn=Ot[Yt+mn+2],vn=Ot[Yt+mn+3],En=Ot[Yt+mn+4],Fn=Ot[Yt+mn+5],Mn=Ot[Yt+mn+6],Tn=Ot[Yt+mn+7],sn*=Ut[mn],!(rn|xn|vn|En|Fn|Mn|Tn)){Sn=qt*sn+512>>10,hn[mn]=Sn,hn[mn+1]=Sn,hn[mn+2]=Sn,hn[mn+3]=Sn,hn[mn+4]=Sn,hn[mn+5]=Sn,hn[mn+6]=Sn,hn[mn+7]=Sn;continue}rn*=Ut[mn+1],xn*=Ut[mn+2],vn*=Ut[mn+3],En*=Ut[mn+4],Fn*=Ut[mn+5],Mn*=Ut[mn+6],Tn*=Ut[mn+7],zt=qt*sn+128>>8,an=qt*En+128>>8,Ht=xn,Wt=Mn,tn=Bt*(rn-Tn)+128>>8,cn=Bt*(rn+Tn)+128>>8,ln=vn<<4,on=Fn<<4,zt=zt+an+1>>1,an=zt-an,Sn=Ht*Ct+Wt*jt+128>>8,Ht=Ht*jt-Wt*Ct+128>>8,Wt=Sn,tn=tn+on+1>>1,on=tn-on,cn=cn+ln+1>>1,ln=cn-ln,zt=zt+Wt+1>>1,Wt=zt-Wt,an=an+Ht+1>>1,Ht=an-Ht,Sn=tn*Dt+cn*$t+2048>>12,tn=tn*$t-cn*Dt+2048>>12,cn=Sn,Sn=ln*Nt+on*Kt+2048>>12,ln=ln*Kt-on*Nt+2048>>12,on=Sn,hn[mn]=zt+cn,hn[mn+7]=zt-cn,hn[mn+1]=an+on,hn[mn+6]=an-on,hn[mn+2]=Ht+ln,hn[mn+5]=Ht-ln,hn[mn+3]=Wt+tn,hn[mn+4]=Wt-tn}for(let mn=0;mn<8;++mn){if(sn=hn[mn],rn=hn[mn+8],xn=hn[mn+16],vn=hn[mn+24],En=hn[mn+32],Fn=hn[mn+40],Mn=hn[mn+48],Tn=hn[mn+56],!(rn|xn|vn|En|Fn|Mn|Tn)){Sn=qt*sn+8192>>14,Sn<-2040?Sn=0:Sn>=2024?Sn=255:Sn=Sn+2056>>4,Ot[Yt+mn]=Sn,Ot[Yt+mn+8]=Sn,Ot[Yt+mn+16]=Sn,Ot[Yt+mn+24]=Sn,Ot[Yt+mn+32]=Sn,Ot[Yt+mn+40]=Sn,Ot[Yt+mn+48]=Sn,Ot[Yt+mn+56]=Sn;continue}zt=qt*sn+2048>>12,an=qt*En+2048>>12,Ht=xn,Wt=Mn,tn=Bt*(rn-Tn)+2048>>12,cn=Bt*(rn+Tn)+2048>>12,ln=vn,on=Fn,zt=(zt+an+1>>1)+4112,an=zt-an,Sn=Ht*Ct+Wt*jt+2048>>12,Ht=Ht*jt-Wt*Ct+2048>>12,Wt=Sn,tn=tn+on+1>>1,on=tn-on,cn=cn+ln+1>>1,ln=cn-ln,zt=zt+Wt+1>>1,Wt=zt-Wt,an=an+Ht+1>>1,Ht=an-Ht,Sn=tn*Dt+cn*$t+2048>>12,tn=tn*$t-cn*Dt+2048>>12,cn=Sn,Sn=ln*Nt+on*Kt+2048>>12,ln=ln*Kt-on*Nt+2048>>12,on=Sn,sn=zt+cn,Tn=zt-cn,rn=an+on,Mn=an-on,xn=Ht+ln,Fn=Ht-ln,vn=Wt+tn,En=Wt-tn,sn<16?sn=0:sn>=4080?sn=255:sn>>=4,rn<16?rn=0:rn>=4080?rn=255:rn>>=4,xn<16?xn=0:xn>=4080?xn=255:xn>>=4,vn<16?vn=0:vn>=4080?vn=255:vn>>=4,En<16?En=0:En>=4080?En=255:En>>=4,Fn<16?Fn=0:Fn>=4080?Fn=255:Fn>>=4,Mn<16?Mn=0:Mn>=4080?Mn=255:Mn>>=4,Tn<16?Tn=0:Tn>=4080?Tn=255:Tn>>=4,Ot[Yt+mn]=sn,Ot[Yt+mn+8]=rn,Ot[Yt+mn+16]=xn,Ot[Yt+mn+24]=vn,Ot[Yt+mn+32]=En,Ot[Yt+mn+40]=Fn,Ot[Yt+mn+48]=Mn,Ot[Yt+mn+56]=Tn}}function gn(Vt,Yt){const hn=Yt.blocksPerLine,Ut=Yt.blocksPerColumn,Ot=new Int16Array(64);for(let zt=0;zt<Ut;zt++)for(let an=0;an<hn;an++){const Ht=en(Yt,zt,an);Qt(Yt,Ht,Ot)}return Yt.blockData}function nn(Vt,Yt,hn=Yt){const Ut=Vt.length-1;let Ot=hn<Yt?hn:Yt;if(Yt>=Ut)return null;const zt=(0,Pt.readUint16)(Vt,Yt);if(zt>=65472&&zt<=65534)return{invalid:null,marker:zt,offset:Yt};let an=(0,Pt.readUint16)(Vt,Ot);for(;!(an>=65472&&an<=65534);){if(++Ot>=Ut)return null;an=(0,Pt.readUint16)(Vt,Ot)}return{invalid:zt.toString(16),marker:an,offset:Ot}}class bn{constructor({decodeTransform:Yt=null,colorTransform:hn=-1}={}){this._decodeTransform=Yt,this._colorTransform=hn}parse(Yt,{dnlScanLines:hn=null}={}){function Ut(){const xn=(0,Pt.readUint16)(Yt,zt);zt+=2;let vn=zt+xn-2;const En=nn(Yt,vn,zt);En!=null&&En.invalid&&((0,wt.warn)("readDataBlock - incorrect length, current marker is: "+En.invalid),vn=En.offset);const Fn=Yt.subarray(zt,vn);return zt+=Fn.length,Fn}function Ot(xn){const vn=Math.ceil(xn.samplesPerLine/8/xn.maxH),En=Math.ceil(xn.scanLines/8/xn.maxV);for(const Fn of xn.components){const Mn=Math.ceil(Math.ceil(xn.samplesPerLine/8)*Fn.h/xn.maxH),Tn=Math.ceil(Math.ceil(xn.scanLines/8)*Fn.v/xn.maxV),Sn=vn*Fn.h,fn=64*(En*Fn.v)*(Sn+1);Fn.blockData=new Int16Array(fn),Fn.blocksPerLine=Mn,Fn.blocksPerColumn=Tn}xn.mcusPerLine=vn,xn.mcusPerColumn=En}let zt=0,an=null,Ht=null,Wt,tn,ln=0;const on=[],cn=[],sn=[];let rn=(0,Pt.readUint16)(Yt,zt);if(zt+=2,rn!==65496)throw new _e("SOI not found");rn=(0,Pt.readUint16)(Yt,zt),zt+=2;e:for(;rn!==65497;){let xn,vn,En;switch(rn){case 65504:case 65505:case 65506:case 65507:case 65508:case 65509:case 65510:case 65511:case 65512:case 65513:case 65514:case 65515:case 65516:case 65517:case 65518:case 65519:case 65534:const Fn=Ut();rn===65504&&Fn[0]===74&&Fn[1]===70&&Fn[2]===73&&Fn[3]===70&&Fn[4]===0&&(an={version:{major:Fn[5],minor:Fn[6]},densityUnits:Fn[7],xDensity:Fn[8]<<8|Fn[9],yDensity:Fn[10]<<8|Fn[11],thumbWidth:Fn[12],thumbHeight:Fn[13],thumbData:Fn.subarray(14,14+3*Fn[12]*Fn[13])}),rn===65518&&Fn[0]===65&&Fn[1]===100&&Fn[2]===111&&Fn[3]===98&&Fn[4]===101&&(Ht={version:Fn[5]<<8|Fn[6],flags0:Fn[7]<<8|Fn[8],flags1:Fn[9]<<8|Fn[10],transformCode:Fn[11]});break;case 65499:const Mn=(0,Pt.readUint16)(Yt,zt);zt+=2;const Tn=Mn+zt-2;let Sn;for(;zt<Tn;){const Pn=Yt[zt++],Dn=new Uint16Array(64);if(Pn>>4)if(Pn>>4===1)for(vn=0;vn<64;vn++)Sn=Xt[vn],Dn[Sn]=(0,Pt.readUint16)(Yt,zt),zt+=2;else throw new _e("DQT - invalid table spec");else for(vn=0;vn<64;vn++)Sn=Xt[vn],Dn[Sn]=Yt[zt++];on[Pn&15]=Dn}break;case 65472:case 65473:case 65474:if(Wt)throw new _e("Only single frame JPEGs supported");zt+=2,Wt={},Wt.extended=rn===65473,Wt.progressive=rn===65474,Wt.precision=Yt[zt++];const mn=(0,Pt.readUint16)(Yt,zt);zt+=2,Wt.scanLines=hn||mn,Wt.samplesPerLine=(0,Pt.readUint16)(Yt,zt),zt+=2,Wt.components=[],Wt.componentIds={};const fn=Yt[zt++];let Jt=0,un=0;for(xn=0;xn<fn;xn++){const Pn=Yt[zt],Dn=Yt[zt+1]>>4,Ln=Yt[zt+1]&15;Jt<Dn&&(Jt=Dn),un<Ln&&(un=Ln);const Un=Yt[zt+2];En=Wt.components.push({h:Dn,v:Ln,quantizationId:Un,quantizationTable:null}),Wt.componentIds[Pn]=En-1,zt+=3}Wt.maxH=Jt,Wt.maxV=un,Ot(Wt);break;case 65476:const pn=(0,Pt.readUint16)(Yt,zt);for(zt+=2,xn=2;xn<pn;){const Pn=Yt[zt++],Dn=new Uint8Array(16);let Ln=0;for(vn=0;vn<16;vn++,zt++)Ln+=Dn[vn]=Yt[zt];const Un=new Uint8Array(Ln);for(vn=0;vn<Ln;vn++,zt++)Un[vn]=Yt[zt];xn+=17+Ln,(Pn>>4?cn:sn)[Pn&15]=Gt(Dn,Un)}break;case 65501:zt+=2,tn=(0,Pt.readUint16)(Yt,zt),zt+=2;break;case 65498:const wn=++ln===1&&!hn;zt+=2;const kn=Yt[zt++],Rn=[];for(xn=0;xn<kn;xn++){const Pn=Yt[zt++],Dn=Wt.componentIds[Pn],Ln=Wt.components[Dn];Ln.index=Pn;const Un=Yt[zt++];Ln.huffmanTableDC=sn[Un>>4],Ln.huffmanTableAC=cn[Un&15],Rn.push(Ln)}const Cn=Yt[zt++],An=Yt[zt++],_n=Yt[zt++];try{const Pn=dn(Yt,zt,Wt,Rn,tn,Cn,An,_n>>4,_n&15,wn);zt+=Pn}catch(Pn){if(Pn instanceof bt)return(0,wt.warn)(`${Pn.message} -- attempting to re-parse the JPEG image.`),this.parse(Yt,{dnlScanLines:Pn.scanLines});if(Pn instanceof Ft){(0,wt.warn)(`${Pn.message} -- ignoring the rest of the image data.`);break e}throw Pn}break;case 65500:zt+=4;break;case 65535:Yt[zt]!==255&&zt--;break;default:const In=nn(Yt,zt-2,zt-3);if(In!=null&&In.invalid){(0,wt.warn)("JpegImage.parse - unexpected data, current marker is: "+In.invalid),zt=In.offset;break}if(!In||zt>=Yt.length-1){(0,wt.warn)("JpegImage.parse - reached the end of the image data without finding an EOI marker (0xFFD9).");break e}throw new _e("JpegImage.parse - unknown marker: "+rn.toString(16))}rn=(0,Pt.readUint16)(Yt,zt),zt+=2}this.width=Wt.samplesPerLine,this.height=Wt.scanLines,this.jfif=an,this.adobe=Ht,this.components=[];for(const xn of Wt.components){const vn=on[xn.quantizationId];vn&&(xn.quantizationTable=vn),this.components.push({index:xn.index,output:gn(Wt,xn),scaleX:xn.h/Wt.maxH,scaleY:xn.v/Wt.maxV,blocksPerLine:xn.blocksPerLine,blocksPerColumn:xn.blocksPerColumn})}this.numComponents=this.components.length}_getLinearizedBlockData(Yt,hn,Ut=!1){const Ot=this.width/Yt,zt=this.height/hn;let an,Ht,Wt,tn,ln,on,cn,sn,rn,xn,vn=0,En;const Fn=this.components.length,Mn=Yt*hn*Fn,Tn=new Uint8ClampedArray(Mn),Sn=new Uint32Array(Yt),mn=4294967288;let fn;for(cn=0;cn<Fn;cn++){if(an=this.components[cn],Ht=an.scaleX*Ot,Wt=an.scaleY*zt,vn=cn,En=an.output,tn=an.blocksPerLine+1<<3,Ht!==fn){for(ln=0;ln<Yt;ln++)sn=0|ln*Ht,Sn[ln]=(sn&mn)<<3|sn&7;fn=Ht}for(on=0;on<hn;on++)for(sn=0|on*Wt,xn=tn*(sn&mn)|(sn&7)<<3,ln=0;ln<Yt;ln++)Tn[vn]=En[xn+Sn[ln]],vn+=Fn}let Jt=this._decodeTransform;if(!Ut&&Fn===4&&!Jt&&(Jt=new Int32Array([-256,255,-256,255,-256,255,-256,255])),Jt)for(cn=0;cn<Mn;)for(sn=0,rn=0;sn<Fn;sn++,cn++,rn+=2)Tn[cn]=(Tn[cn]*Jt[rn]>>8)+Jt[rn+1];return Tn}get _isColorConversionNeeded(){return this.adobe?!!this.adobe.transformCode:this.numComponents===3?this._colorTransform===0?!1:!(this.components[0].index===82&&this.components[1].index===71&&this.components[2].index===66):this._colorTransform===1}_convertYccToRgb(Yt){let hn,Ut,Ot;for(let zt=0,an=Yt.length;zt<an;zt+=3)hn=Yt[zt],Ut=Yt[zt+1],Ot=Yt[zt+2],Yt[zt]=hn-179.456+1.402*Ot,Yt[zt+1]=hn+135.459-.344*Ut-.714*Ot,Yt[zt+2]=hn-226.816+1.772*Ut;return Yt}_convertYccToRgba(Yt,hn){for(let Ut=0,Ot=0,zt=Yt.length;Ut<zt;Ut+=3,Ot+=4){const an=Yt[Ut],Ht=Yt[Ut+1],Wt=Yt[Ut+2];hn[Ot]=an-179.456+1.402*Wt,hn[Ot+1]=an+135.459-.344*Ht-.714*Wt,hn[Ot+2]=an-226.816+1.772*Ht,hn[Ot+3]=255}return hn}_convertYcckToRgb(Yt){let hn,Ut,Ot,zt,an=0;for(let Ht=0,Wt=Yt.length;Ht<Wt;Ht+=4)hn=Yt[Ht],Ut=Yt[Ht+1],Ot=Yt[Ht+2],zt=Yt[Ht+3],Yt[an++]=-122.67195406894+Ut*(-660635669420364e-19*Ut+.000437130475926232*Ot-54080610064599e-18*hn+.00048449797120281*zt-.154362151871126)+Ot*(-.000957964378445773*Ot+.000817076911346625*hn-.00477271405408747*zt+1.53380253221734)+hn*(.000961250184130688*hn-.00266257332283933*zt+.48357088451265)+zt*(-.000336197177618394*zt+.484791561490776),Yt[an++]=107.268039397724+Ut*(219927104525741e-19*Ut-.000640992018297945*Ot+.000659397001245577*hn+.000426105652938837*zt-.176491792462875)+Ot*(-.000778269941513683*Ot+.00130872261408275*hn+.000770482631801132*zt-.151051492775562)+hn*(.00126935368114843*hn-.00265090189010898*zt+.25802910206845)+zt*(-.000318913117588328*zt-.213742400323665),Yt[an++]=-20.810012546947+Ut*(-.000570115196973677*Ut-263409051004589e-19*Ot+.0020741088115012*hn-.00288260236853442*zt+.814272968359295)+Ot*(-153496057440975e-19*Ot-.000132689043961446*hn+.000560833691242812*zt-.195152027534049)+hn*(.00174418132927582*hn-.00255243321439347*zt+.116935020465145)+zt*(-.000343531996510555*zt+.24165260232407);return Yt.subarray(0,an)}_convertYcckToRgba(Yt){for(let hn=0,Ut=Yt.length;hn<Ut;hn+=4){const Ot=Yt[hn],zt=Yt[hn+1],an=Yt[hn+2],Ht=Yt[hn+3];Yt[hn]=-122.67195406894+zt*(-660635669420364e-19*zt+.000437130475926232*an-54080610064599e-18*Ot+.00048449797120281*Ht-.154362151871126)+an*(-.000957964378445773*an+.000817076911346625*Ot-.00477271405408747*Ht+1.53380253221734)+Ot*(.000961250184130688*Ot-.00266257332283933*Ht+.48357088451265)+Ht*(-.000336197177618394*Ht+.484791561490776),Yt[hn+1]=107.268039397724+zt*(219927104525741e-19*zt-.000640992018297945*an+.000659397001245577*Ot+.000426105652938837*Ht-.176491792462875)+an*(-.000778269941513683*an+.00130872261408275*Ot+.000770482631801132*Ht-.151051492775562)+Ot*(.00126935368114843*Ot-.00265090189010898*Ht+.25802910206845)+Ht*(-.000318913117588328*Ht-.213742400323665),Yt[hn+2]=-20.810012546947+zt*(-.000570115196973677*zt-263409051004589e-19*an+.0020741088115012*Ot-.00288260236853442*Ht+.814272968359295)+an*(-153496057440975e-19*an-.000132689043961446*Ot+.000560833691242812*Ht-.195152027534049)+Ot*(.00174418132927582*Ot-.00255243321439347*Ht+.116935020465145)+Ht*(-.000343531996510555*Ht+.24165260232407),Yt[hn+3]=255}return Yt}_convertYcckToCmyk(Yt){let hn,Ut,Ot;for(let zt=0,an=Yt.length;zt<an;zt+=4)hn=Yt[zt],Ut=Yt[zt+1],Ot=Yt[zt+2],Yt[zt]=434.456-hn-1.402*Ot,Yt[zt+1]=119.541-hn+.344*Ut+.714*Ot,Yt[zt+2]=481.816-hn-1.772*Ut;return Yt}_convertCmykToRgb(Yt){let hn,Ut,Ot,zt,an=0;for(let Ht=0,Wt=Yt.length;Ht<Wt;Ht+=4)hn=Yt[Ht],Ut=Yt[Ht+1],Ot=Yt[Ht+2],zt=Yt[Ht+3],Yt[an++]=255+hn*(-6747147073602441e-20*hn+.0008379262121013727*Ut+.0002894718188643294*Ot+.003264231057537806*zt-1.1185611867203937)+Ut*(26374107616089405e-21*Ut-8626949158638572e-20*Ot-.0002748769067499491*zt-.02155688794978967)+Ot*(-3878099212869363e-20*Ot-.0003267808279485286*zt+.0686742238595345)-zt*(.0003361971776183937*zt+.7430659151342254),Yt[an++]=255+hn*(.00013596372813588848*hn+.000924537132573585*Ut+.00010567359618683593*Ot+.0004791864687436512*zt-.3109689587515875)+Ut*(-.00023545346108370344*Ut+.0002702845253534714*Ot+.0020200308977307156*zt-.7488052167015494)+Ot*(6834815998235662e-20*Ot+.00015168452363460973*zt-.09751927774728933)-zt*(.0003189131175883281*zt+.7364883807733168),Yt[an++]=255+hn*(13598650411385307e-21*hn+.00012423956175490851*Ut+.0004751985097583589*Ot-36729317476630422e-22*zt-.05562186980264034)+Ut*(.00016141380598724676*Ut+.0009692239130725186*Ot+.0007782692450036253*zt-.44015232367526463)+Ot*(5068882914068769e-22*Ot+.0017778369011375071*zt-.7591454649749609)-zt*(.0003435319965105553*zt+.7063770186160144);return Yt.subarray(0,an)}_convertCmykToRgba(Yt){for(let hn=0,Ut=Yt.length;hn<Ut;hn+=4){const Ot=Yt[hn],zt=Yt[hn+1],an=Yt[hn+2],Ht=Yt[hn+3];Yt[hn]=255+Ot*(-6747147073602441e-20*Ot+.0008379262121013727*zt+.0002894718188643294*an+.003264231057537806*Ht-1.1185611867203937)+zt*(26374107616089405e-21*zt-8626949158638572e-20*an-.0002748769067499491*Ht-.02155688794978967)+an*(-3878099212869363e-20*an-.0003267808279485286*Ht+.0686742238595345)-Ht*(.0003361971776183937*Ht+.7430659151342254),Yt[hn+1]=255+Ot*(.00013596372813588848*Ot+.000924537132573585*zt+.00010567359618683593*an+.0004791864687436512*Ht-.3109689587515875)+zt*(-.00023545346108370344*zt+.0002702845253534714*an+.0020200308977307156*Ht-.7488052167015494)+an*(6834815998235662e-20*an+.00015168452363460973*Ht-.09751927774728933)-Ht*(.0003189131175883281*Ht+.7364883807733168),Yt[hn+2]=255+Ot*(13598650411385307e-21*Ot+.00012423956175490851*zt+.0004751985097583589*an-36729317476630422e-22*Ht-.05562186980264034)+zt*(.00016141380598724676*zt+.0009692239130725186*an+.0007782692450036253*Ht-.44015232367526463)+an*(5068882914068769e-22*an+.0017778369011375071*Ht-.7591454649749609)-Ht*(.0003435319965105553*Ht+.7063770186160144),Yt[hn+3]=255}return Yt}getData({width:Yt,height:hn,forceRGBA:Ut=!1,forceRGB:Ot=!1,isSourcePDF:zt=!1}){if(this.numComponents>4)throw new _e("Unsupported color mode");const an=this._getLinearizedBlockData(Yt,hn,zt);if(this.numComponents===1&&(Ut||Ot)){const Ht=an.length*(Ut?4:3),Wt=new Uint8ClampedArray(Ht);let tn=0;if(Ut)(0,_t.grayToRGBA)(an,new Uint32Array(Wt.buffer));else for(const ln of an)Wt[tn++]=ln,Wt[tn++]=ln,Wt[tn++]=ln;return Wt}else if(this.numComponents===3&&this._isColorConversionNeeded){if(Ut){const Ht=new Uint8ClampedArray(an.length/3*4);return this._convertYccToRgba(an,Ht)}return this._convertYccToRgb(an)}else if(this.numComponents===4){if(this._isColorConversionNeeded)return Ut?this._convertYcckToRgba(an):Ot?this._convertYcckToRgb(an):this._convertYcckToCmyk(an);if(Ut)return this._convertCmykToRgba(an);if(Ot)return this._convertCmykToRgb(an)}return an}}Et.JpegImage=bn},(kt,Et,Rt)=>{Object.defineProperty(Et,"__esModule",{value:!0}),Et.convertBlackAndWhiteToRGBA=Pt,Et.convertToRGBA=_t,Et.grayToRGBA=bt;var wt=Rt(2);function _t(Ft){switch(Ft.kind){case wt.ImageKind.GRAYSCALE_1BPP:return Pt(Ft);case wt.ImageKind.RGB_24BPP:return _e(Ft)}return null}function Pt({src:Ft,srcPos:Xt=0,dest:Kt,width:Nt,height:$t,nonBlackColor:Dt=4294967295,inverseDecode:jt=!1}){const Ct=wt.FeatureTest.isLittleEndian?4278190080:255,[qt,Bt]=jt?[Dt,Ct]:[Ct,Dt],Gt=Nt>>3,en=Nt&7,dn=Ft.length;Kt=new Uint32Array(Kt.buffer);let Qt=0;for(let gn=0;gn<$t;gn++){for(const bn=Xt+Gt;Xt<bn;Xt++){const Vt=Xt<dn?Ft[Xt]:255;Kt[Qt++]=Vt&128?Bt:qt,Kt[Qt++]=Vt&64?Bt:qt,Kt[Qt++]=Vt&32?Bt:qt,Kt[Qt++]=Vt&16?Bt:qt,Kt[Qt++]=Vt&8?Bt:qt,Kt[Qt++]=Vt&4?Bt:qt,Kt[Qt++]=Vt&2?Bt:qt,Kt[Qt++]=Vt&1?Bt:qt}if(en===0)continue;const nn=Xt<dn?Ft[Xt++]:255;for(let bn=0;bn<en;bn++)Kt[Qt++]=nn&1<<7-bn?Bt:qt}return{srcPos:Xt,destPos:Qt}}function _e({src:Ft,srcPos:Xt=0,dest:Kt,destPos:Nt=0,width:$t,height:Dt}){let jt=0;const Ct=Ft.length>>2,qt=new Uint32Array(Ft.buffer,Xt,Ct);if(wt.FeatureTest.isLittleEndian){for(;jt<Ct-2;jt+=3,Nt+=4){const Bt=qt[jt],Gt=qt[jt+1],en=qt[jt+2];Kt[Nt]=Bt|4278190080,Kt[Nt+1]=Bt>>>24|Gt<<8|4278190080,Kt[Nt+2]=Gt>>>16|en<<16|4278190080,Kt[Nt+3]=en>>>8|4278190080}for(let Bt=jt*4,Gt=Ft.length;Bt<Gt;Bt+=3)Kt[Nt++]=Ft[Bt]|Ft[Bt+1]<<8|Ft[Bt+2]<<16|4278190080}else{for(;jt<Ct-2;jt+=3,Nt+=4){const Bt=qt[jt],Gt=qt[jt+1],en=qt[jt+2];Kt[Nt]=Bt|255,Kt[Nt+1]=Bt<<24|Gt>>>8|255,Kt[Nt+2]=Gt<<16|en>>>16|255,Kt[Nt+3]=en<<8|255}for(let Bt=jt*4,Gt=Ft.length;Bt<Gt;Bt+=3)Kt[Nt++]=Ft[Bt]<<24|Ft[Bt+1]<<16|Ft[Bt+2]<<8|255}return{srcPos:Xt,destPos:Nt}}function bt(Ft,Xt){if(wt.FeatureTest.isLittleEndian)for(let Kt=0,Nt=Ft.length;Kt<Nt;Kt++)Xt[Kt]=Ft[Kt]*65793|4278190080;else for(let Kt=0,Nt=Ft.length;Kt<Nt;Kt++)Xt[Kt]=Ft[Kt]*16843008|255}},(kt,Et,Rt)=>{Object.defineProperty(Et,"__esModule",{value:!0}),Et.JpxStream=void 0;var wt=Rt(18),_t=Rt(30),Pt=Rt(2);class _e extends wt.DecodeStream{constructor(Ft,Xt,Kt){super(Xt),this.stream=Ft,this.dict=Ft.dict,this.maybeLength=Xt,this.params=Kt}get bytes(){return(0,Pt.shadow)(this,"bytes",this.stream.getBytes(this.maybeLength))}ensureBuffer(Ft){}readBlock(){if(this.eof)return;const Ft=new _t.JpxImage;Ft.parse(this.bytes);const Xt=Ft.width,Kt=Ft.height,Nt=Ft.componentsCount,$t=Ft.tiles.length;if($t===1)this.buffer=Ft.tiles[0].items;else{const Dt=new Uint8ClampedArray(Xt*Kt*Nt);for(let jt=0;jt<$t;jt++){const Ct=Ft.tiles[jt],qt=Ct.width,Bt=Ct.height,Gt=Ct.left,en=Ct.top,dn=Ct.items;let Qt=0,gn=(Xt*en+Gt)*Nt;const nn=Xt*Nt,bn=qt*Nt;for(let Vt=0;Vt<Bt;Vt++){const Yt=dn.subarray(Qt,Qt+bn);Dt.set(Yt,gn),Qt+=bn,gn+=nn}}this.buffer=Dt}this.bufferLength=this.buffer.length,this.eof=!0}}Et.JpxStream=_e},(kt,Et,Rt)=>{Object.defineProperty(Et,"__esModule",{value:!0}),Et.JpxImage=void 0;var wt=Rt(2),_t=Rt(3),Pt=Rt(25);class _e extends wt.BaseException{constructor(on){super(`JPX error: ${on}`,"JpxError")}}const bt={LL:0,LH:1,HL:1,HH:2};class Ft{constructor(){this.failOnCorruptedImage=!1}parse(on){if((0,_t.readUint16)(on,0)===65359){this.parseCodestream(on,0,on.length);return}const sn=on.length;let rn=0;for(;rn<sn;){let xn=8,vn=(0,_t.readUint32)(on,rn);const En=(0,_t.readUint32)(on,rn+4);if(rn+=xn,vn===1&&(vn=(0,_t.readUint32)(on,rn)*4294967296+(0,_t.readUint32)(on,rn+4),rn+=8,xn+=8),vn===0&&(vn=sn-rn+xn),vn<xn)throw new _e("Invalid box field size");const Fn=vn-xn;let Mn=!0;switch(En){case 1785737832:Mn=!1;break;case 1668246642:const Tn=on[rn];if(Tn===1){const mn=(0,_t.readUint32)(on,rn+3);switch(mn){case 16:case 17:case 18:break;default:(0,wt.warn)("Unknown colorspace "+mn);break}}else Tn===2&&(0,wt.info)("ICC profile not supported");break;case 1785737827:this.parseCodestream(on,rn,rn+Fn);break;case 1783636e3:(0,_t.readUint32)(on,rn)!==218793738&&(0,wt.warn)("Invalid JP2 signature");break;case 1783634458:case 1718909296:case 1920099697:case 1919251232:case 1768449138:break;default:const Sn=String.fromCharCode(En>>24&255,En>>16&255,En>>8&255,En&255);(0,wt.warn)(`Unsupported header type ${En} (${Sn}).`);break}Mn&&(rn+=Fn)}}parseImageProperties(on){let cn=on.getByte();for(;cn>=0;){const sn=cn;if(cn=on.getByte(),(sn<<8|cn)===65361){on.skip(4);const xn=on.getInt32()>>>0,vn=on.getInt32()>>>0,En=on.getInt32()>>>0,Fn=on.getInt32()>>>0;on.skip(16);const Mn=on.getUint16();this.width=xn-En,this.height=vn-Fn,this.componentsCount=Mn,this.bitsPerComponent=8;return}}throw new _e("No size marker found in JPX stream")}parseCodestream(on,cn,sn){const rn={};let xn=!1;try{let vn=cn;for(;vn+1<sn;){const En=(0,_t.readUint16)(on,vn);vn+=2;let Fn=0,Mn,Tn,Sn,mn,fn,Jt;switch(En){case 65359:rn.mainHeader=!0;break;case 65497:break;case 65361:Fn=(0,_t.readUint16)(on,vn);const un={};un.Xsiz=(0,_t.readUint32)(on,vn+4),un.Ysiz=(0,_t.readUint32)(on,vn+8),un.XOsiz=(0,_t.readUint32)(on,vn+12),un.YOsiz=(0,_t.readUint32)(on,vn+16),un.XTsiz=(0,_t.readUint32)(on,vn+20),un.YTsiz=(0,_t.readUint32)(on,vn+24),un.XTOsiz=(0,_t.readUint32)(on,vn+28),un.YTOsiz=(0,_t.readUint32)(on,vn+32);const pn=(0,_t.readUint16)(on,vn+36);un.Csiz=pn;const wn=[];Mn=vn+38;for(let Dn=0;Dn<pn;Dn++){const Ln={precision:(on[Mn]&127)+1,isSigned:!!(on[Mn]&128),XRsiz:on[Mn+1],YRsiz:on[Mn+2]};Mn+=3,Xt(Ln,un),wn.push(Ln)}rn.SIZ=un,rn.components=wn,Kt(rn,wn),rn.QCC=[],rn.COC=[];break;case 65372:Fn=(0,_t.readUint16)(on,vn);const kn={};switch(Mn=vn+2,Tn=on[Mn++],Tn&31){case 0:mn=8,fn=!0;break;case 1:mn=16,fn=!1;break;case 2:mn=16,fn=!0;break;default:throw new Error("Invalid SQcd value "+Tn)}for(kn.noQuantization=mn===8,kn.scalarExpounded=fn,kn.guardBits=Tn>>5,Sn=[];Mn<Fn+vn;){const Dn={};mn===8?(Dn.epsilon=on[Mn++]>>3,Dn.mu=0):(Dn.epsilon=on[Mn]>>3,Dn.mu=(on[Mn]&7)<<8|on[Mn+1],Mn+=2),Sn.push(Dn)}kn.SPqcds=Sn,rn.mainHeader?rn.QCD=kn:(rn.currentTile.QCD=kn,rn.currentTile.QCC=[]);break;case 65373:Fn=(0,_t.readUint16)(on,vn);const Rn={};Mn=vn+2;let Cn;switch(rn.SIZ.Csiz<257?Cn=on[Mn++]:(Cn=(0,_t.readUint16)(on,Mn),Mn+=2),Tn=on[Mn++],Tn&31){case 0:mn=8,fn=!0;break;case 1:mn=16,fn=!1;break;case 2:mn=16,fn=!0;break;default:throw new Error("Invalid SQcd value "+Tn)}for(Rn.noQuantization=mn===8,Rn.scalarExpounded=fn,Rn.guardBits=Tn>>5,Sn=[];Mn<Fn+vn;){const Dn={};mn===8?(Dn.epsilon=on[Mn++]>>3,Dn.mu=0):(Dn.epsilon=on[Mn]>>3,Dn.mu=(on[Mn]&7)<<8|on[Mn+1],Mn+=2),Sn.push(Dn)}Rn.SPqcds=Sn,rn.mainHeader?rn.QCC[Cn]=Rn:rn.currentTile.QCC[Cn]=Rn;break;case 65362:Fn=(0,_t.readUint16)(on,vn);const An={};Mn=vn+2;const _n=on[Mn++];An.entropyCoderWithCustomPrecincts=!!(_n&1),An.sopMarkerUsed=!!(_n&2),An.ephMarkerUsed=!!(_n&4),An.progressionOrder=on[Mn++],An.layersCount=(0,_t.readUint16)(on,Mn),Mn+=2,An.multipleComponentTransform=on[Mn++],An.decompositionLevelsCount=on[Mn++],An.xcb=(on[Mn++]&15)+2,An.ycb=(on[Mn++]&15)+2;const In=on[Mn++];if(An.selectiveArithmeticCodingBypass=!!(In&1),An.resetContextProbabilities=!!(In&2),An.terminationOnEachCodingPass=!!(In&4),An.verticallyStripe=!!(In&8),An.predictableTermination=!!(In&16),An.segmentationSymbolUsed=!!(In&32),An.reversibleTransformation=on[Mn++],An.entropyCoderWithCustomPrecincts){const Dn=[];for(;Mn<Fn+vn;){const Ln=on[Mn++];Dn.push({PPx:Ln&15,PPy:Ln>>4})}An.precinctsSizes=Dn}const Pn=[];An.selectiveArithmeticCodingBypass&&Pn.push("selectiveArithmeticCodingBypass"),An.terminationOnEachCodingPass&&Pn.push("terminationOnEachCodingPass"),An.verticallyStripe&&Pn.push("verticallyStripe"),An.predictableTermination&&Pn.push("predictableTermination"),Pn.length>0&&(xn=!0,(0,wt.warn)(`JPX: Unsupported COD options (${Pn.join(", ")}).`)),rn.mainHeader?rn.COD=An:(rn.currentTile.COD=An,rn.currentTile.COC=[]);break;case 65424:Fn=(0,_t.readUint16)(on,vn),Jt={},Jt.index=(0,_t.readUint16)(on,vn+2),Jt.length=(0,_t.readUint32)(on,vn+4),Jt.dataEnd=Jt.length+vn-2,Jt.partIndex=on[vn+8],Jt.partsCount=on[vn+9],rn.mainHeader=!1,Jt.partIndex===0&&(Jt.COD=rn.COD,Jt.COC=rn.COC.slice(0),Jt.QCD=rn.QCD,Jt.QCC=rn.QCC.slice(0)),rn.currentTile=Jt;break;case 65427:Jt=rn.currentTile,Jt.partIndex===0&&(hn(rn,Jt.index),gn(rn)),Fn=Jt.dataEnd-vn,nn(rn,on,vn,Fn);break;case 65363:(0,wt.warn)("JPX: Codestream code 0xFF53 (COC) is not implemented.");case 65365:case 65367:case 65368:case 65380:Fn=(0,_t.readUint16)(on,vn);break;default:throw new Error("Unknown codestream code: "+En.toString(16))}vn+=Fn}}catch(vn){if(xn||this.failOnCorruptedImage)throw new _e(vn.message);(0,wt.warn)(`JPX: Trying to recover from: "${vn.message}".`)}this.tiles=Yt(rn),this.width=rn.SIZ.Xsiz-rn.SIZ.XOsiz,this.height=rn.SIZ.Ysiz-rn.SIZ.YOsiz,this.componentsCount=rn.SIZ.Csiz}}Et.JpxImage=Ft;function Xt(ln,on){ln.x0=Math.ceil(on.XOsiz/ln.XRsiz),ln.x1=Math.ceil(on.Xsiz/ln.XRsiz),ln.y0=Math.ceil(on.YOsiz/ln.YRsiz),ln.y1=Math.ceil(on.Ysiz/ln.YRsiz),ln.width=ln.x1-ln.x0,ln.height=ln.y1-ln.y0}function Kt(ln,on){const cn=ln.SIZ,sn=[];let rn;const xn=Math.ceil((cn.Xsiz-cn.XTOsiz)/cn.XTsiz),vn=Math.ceil((cn.Ysiz-cn.YTOsiz)/cn.YTsiz);for(let Fn=0;Fn<vn;Fn++)for(let Mn=0;Mn<xn;Mn++)rn={},rn.tx0=Math.max(cn.XTOsiz+Mn*cn.XTsiz,cn.XOsiz),rn.ty0=Math.max(cn.YTOsiz+Fn*cn.YTsiz,cn.YOsiz),rn.tx1=Math.min(cn.XTOsiz+(Mn+1)*cn.XTsiz,cn.Xsiz),rn.ty1=Math.min(cn.YTOsiz+(Fn+1)*cn.YTsiz,cn.Ysiz),rn.width=rn.tx1-rn.tx0,rn.height=rn.ty1-rn.ty0,rn.components=[],sn.push(rn);ln.tiles=sn;const En=cn.Csiz;for(let Fn=0,Mn=En;Fn<Mn;Fn++){const Tn=on[Fn];for(let Sn=0,mn=sn.length;Sn<mn;Sn++){const fn={};rn=sn[Sn],fn.tcx0=Math.ceil(rn.tx0/Tn.XRsiz),fn.tcy0=Math.ceil(rn.ty0/Tn.YRsiz),fn.tcx1=Math.ceil(rn.tx1/Tn.XRsiz),fn.tcy1=Math.ceil(rn.ty1/Tn.YRsiz),fn.width=fn.tcx1-fn.tcx0,fn.height=fn.tcy1-fn.tcy0,rn.components[Fn]=fn}}}function Nt(ln,on,cn){const sn=on.codingStyleParameters,rn={};return sn.entropyCoderWithCustomPrecincts?(rn.PPx=sn.precinctsSizes[cn].PPx,rn.PPy=sn.precinctsSizes[cn].PPy):(rn.PPx=15,rn.PPy=15),rn.xcb_=cn>0?Math.min(sn.xcb,rn.PPx-1):Math.min(sn.xcb,rn.PPx),rn.ycb_=cn>0?Math.min(sn.ycb,rn.PPy-1):Math.min(sn.ycb,rn.PPy),rn}function $t(ln,on,cn){const sn=1<<cn.PPx,rn=1<<cn.PPy,xn=on.resLevel===0,vn=1<<cn.PPx+(xn?0:-1),En=1<<cn.PPy+(xn?0:-1),Fn=on.trx1>on.trx0?Math.ceil(on.trx1/sn)-Math.floor(on.trx0/sn):0,Mn=on.try1>on.try0?Math.ceil(on.try1/rn)-Math.floor(on.try0/rn):0,Tn=Fn*Mn;on.precinctParameters={precinctWidth:sn,precinctHeight:rn,numprecinctswide:Fn,numprecinctshigh:Mn,numprecincts:Tn,precinctWidthInSubband:vn,precinctHeightInSubband:En}}function Dt(ln,on,cn){const sn=cn.xcb_,rn=cn.ycb_,xn=1<<sn,vn=1<<rn,En=on.tbx0>>sn,Fn=on.tby0>>rn,Mn=on.tbx1+xn-1>>sn,Tn=on.tby1+vn-1>>rn,Sn=on.resolution.precinctParameters,mn=[],fn=[];let Jt,un,pn,wn;for(un=Fn;un<Tn;un++)for(Jt=En;Jt<Mn;Jt++){pn={cbx:Jt,cby:un,tbx0:xn*Jt,tby0:vn*un,tbx1:xn*(Jt+1),tby1:vn*(un+1)},pn.tbx0_=Math.max(on.tbx0,pn.tbx0),pn.tby0_=Math.max(on.tby0,pn.tby0),pn.tbx1_=Math.min(on.tbx1,pn.tbx1),pn.tby1_=Math.min(on.tby1,pn.tby1);const kn=Math.floor((pn.tbx0_-on.tbx0)/Sn.precinctWidthInSubband),Rn=Math.floor((pn.tby0_-on.tby0)/Sn.precinctHeightInSubband);if(wn=kn+Rn*Sn.numprecinctswide,pn.precinctNumber=wn,pn.subbandType=on.type,pn.Lblock=3,pn.tbx1_<=pn.tbx0_||pn.tby1_<=pn.tby0_)continue;mn.push(pn);let Cn=fn[wn];Cn!==void 0?(Jt<Cn.cbxMin?Cn.cbxMin=Jt:Jt>Cn.cbxMax&&(Cn.cbxMax=Jt),un<Cn.cbyMin?Cn.cbxMin=un:un>Cn.cbyMax&&(Cn.cbyMax=un)):fn[wn]=Cn={cbxMin:Jt,cbyMin:un,cbxMax:Jt,cbyMax:un},pn.precinct=Cn}on.codeblockParameters={codeblockWidth:sn,codeblockHeight:rn,numcodeblockwide:Mn-En+1,numcodeblockhigh:Tn-Fn+1},on.codeblocks=mn,on.precincts=fn}function jt(ln,on,cn){const sn=[],rn=ln.subbands;for(let xn=0,vn=rn.length;xn<vn;xn++){const Fn=rn[xn].codeblocks;for(let Mn=0,Tn=Fn.length;Mn<Tn;Mn++){const Sn=Fn[Mn];Sn.precinctNumber===on&&sn.push(Sn)}}return{layerNumber:cn,codeblocks:sn}}function Ct(ln){const on=ln.SIZ,cn=ln.currentTile.index,sn=ln.tiles[cn],rn=sn.codingStyleDefaultParameters.layersCount,xn=on.Csiz;let vn=0;for(let Sn=0;Sn<xn;Sn++)vn=Math.max(vn,sn.components[Sn].codingStyleParameters.decompositionLevelsCount);let En=0,Fn=0,Mn=0,Tn=0;this.nextPacket=function(){for(;En<rn;En++){for(;Fn<=vn;Fn++){for(;Mn<xn;Mn++){const mn=sn.components[Mn];if(Fn>mn.codingStyleParameters.decompositionLevelsCount)continue;const fn=mn.resolutions[Fn],Jt=fn.precinctParameters.numprecincts;for(;Tn<Jt;){const un=jt(fn,Tn,En);return Tn++,un}Tn=0}Mn=0}Fn=0}throw new _e("Out of packets")}}function qt(ln){const on=ln.SIZ,cn=ln.currentTile.index,sn=ln.tiles[cn],rn=sn.codingStyleDefaultParameters.layersCount,xn=on.Csiz;let vn=0;for(let Sn=0;Sn<xn;Sn++)vn=Math.max(vn,sn.components[Sn].codingStyleParameters.decompositionLevelsCount);let En=0,Fn=0,Mn=0,Tn=0;this.nextPacket=function(){for(;En<=vn;En++){for(;Fn<rn;Fn++){for(;Mn<xn;Mn++){const mn=sn.components[Mn];if(En>mn.codingStyleParameters.decompositionLevelsCount)continue;const fn=mn.resolutions[En],Jt=fn.precinctParameters.numprecincts;for(;Tn<Jt;){const un=jt(fn,Tn,Fn);return Tn++,un}Tn=0}Mn=0}Fn=0}throw new _e("Out of packets")}}function Bt(ln){const on=ln.SIZ,cn=ln.currentTile.index,sn=ln.tiles[cn],rn=sn.codingStyleDefaultParameters.layersCount,xn=on.Csiz;let vn,En,Fn,Mn,Tn=0;for(Fn=0;Fn<xn;Fn++){const mn=sn.components[Fn];Tn=Math.max(Tn,mn.codingStyleParameters.decompositionLevelsCount)}const Sn=new Int32Array(Tn+1);for(En=0;En<=Tn;++En){let mn=0;for(Fn=0;Fn<xn;++Fn){const fn=sn.components[Fn].resolutions;En<fn.length&&(mn=Math.max(mn,fn[En].precinctParameters.numprecincts))}Sn[En]=mn}vn=0,En=0,Fn=0,Mn=0,this.nextPacket=function(){for(;En<=Tn;En++){for(;Mn<Sn[En];Mn++){for(;Fn<xn;Fn++){const fn=sn.components[Fn];if(En>fn.codingStyleParameters.decompositionLevelsCount)continue;const Jt=fn.resolutions[En],un=Jt.precinctParameters.numprecincts;if(!(Mn>=un)){for(;vn<rn;){const pn=jt(Jt,Mn,vn);return vn++,pn}vn=0}}Fn=0}Mn=0}throw new _e("Out of packets")}}function Gt(ln){const on=ln.SIZ,cn=ln.currentTile.index,sn=ln.tiles[cn],rn=sn.codingStyleDefaultParameters.layersCount,xn=on.Csiz,vn=Qt(sn),En=vn;let Fn=0,Mn=0,Tn=0,Sn=0,mn=0;this.nextPacket=function(){for(;mn<En.maxNumHigh;mn++){for(;Sn<En.maxNumWide;Sn++){for(;Tn<xn;Tn++){const Jt=sn.components[Tn],un=Jt.codingStyleParameters.decompositionLevelsCount;for(;Mn<=un;Mn++){const pn=Jt.resolutions[Mn],wn=vn.components[Tn].resolutions[Mn],kn=dn(Sn,mn,wn,En,pn);if(kn!==null){for(;Fn<rn;){const Rn=jt(pn,kn,Fn);return Fn++,Rn}Fn=0}}Mn=0}Tn=0}Sn=0}throw new _e("Out of packets")}}function en(ln){const on=ln.SIZ,cn=ln.currentTile.index,sn=ln.tiles[cn],rn=sn.codingStyleDefaultParameters.layersCount,xn=on.Csiz,vn=Qt(sn);let En=0,Fn=0,Mn=0,Tn=0,Sn=0;this.nextPacket=function(){for(;Mn<xn;++Mn){const fn=sn.components[Mn],Jt=vn.components[Mn],un=fn.codingStyleParameters.decompositionLevelsCount;for(;Sn<Jt.maxNumHigh;Sn++){for(;Tn<Jt.maxNumWide;Tn++){for(;Fn<=un;Fn++){const pn=fn.resolutions[Fn],wn=Jt.resolutions[Fn],kn=dn(Tn,Sn,wn,Jt,pn);if(kn!==null){for(;En<rn;){const Rn=jt(pn,kn,En);return En++,Rn}En=0}}Fn=0}Tn=0}Sn=0}throw new _e("Out of packets")}}function dn(ln,on,cn,sn,rn){const xn=ln*sn.minWidth,vn=on*sn.minHeight;if(xn%cn.width!==0||vn%cn.height!==0)return null;const En=vn/cn.width*rn.precinctParameters.numprecinctswide;return xn/cn.height+En}function Qt(ln){const on=ln.components.length;let cn=Number.MAX_VALUE,sn=Number.MAX_VALUE,rn=0,xn=0;const vn=new Array(on);for(let En=0;En<on;En++){const Fn=ln.components[En],Mn=Fn.codingStyleParameters.decompositionLevelsCount,Tn=new Array(Mn+1);let Sn=Number.MAX_VALUE,mn=Number.MAX_VALUE,fn=0,Jt=0,un=1;for(let pn=Mn;pn>=0;--pn){const wn=Fn.resolutions[pn],kn=un*wn.precinctParameters.precinctWidth,Rn=un*wn.precinctParameters.precinctHeight;Sn=Math.min(Sn,kn),mn=Math.min(mn,Rn),fn=Math.max(fn,wn.precinctParameters.numprecinctswide),Jt=Math.max(Jt,wn.precinctParameters.numprecinctshigh),Tn[pn]={width:kn,height:Rn},un<<=1}cn=Math.min(cn,Sn),sn=Math.min(sn,mn),rn=Math.max(rn,fn),xn=Math.max(xn,Jt),vn[En]={resolutions:Tn,minWidth:Sn,minHeight:mn,maxNumWide:fn,maxNumHigh:Jt}}return{components:vn,minWidth:cn,minHeight:sn,maxNumWide:rn,maxNumHigh:xn}}function gn(ln){const on=ln.SIZ,cn=ln.currentTile.index,sn=ln.tiles[cn],rn=on.Csiz;for(let vn=0;vn<rn;vn++){const En=sn.components[vn],Fn=En.codingStyleParameters.decompositionLevelsCount,Mn=[],Tn=[];for(let Sn=0;Sn<=Fn;Sn++){const mn=Nt(ln,En,Sn),fn={},Jt=1<<Fn-Sn;fn.trx0=Math.ceil(En.tcx0/Jt),fn.try0=Math.ceil(En.tcy0/Jt),fn.trx1=Math.ceil(En.tcx1/Jt),fn.try1=Math.ceil(En.tcy1/Jt),fn.resLevel=Sn,$t(ln,fn,mn),Mn.push(fn);let un;if(Sn===0)un={},un.type="LL",un.tbx0=Math.ceil(En.tcx0/Jt),un.tby0=Math.ceil(En.tcy0/Jt),un.tbx1=Math.ceil(En.tcx1/Jt),un.tby1=Math.ceil(En.tcy1/Jt),un.resolution=fn,Dt(ln,un,mn),Tn.push(un),fn.subbands=[un];else{const pn=1<<Fn-Sn+1,wn=[];un={},un.type="HL",un.tbx0=Math.ceil(En.tcx0/pn-.5),un.tby0=Math.ceil(En.tcy0/pn),un.tbx1=Math.ceil(En.tcx1/pn-.5),un.tby1=Math.ceil(En.tcy1/pn),un.resolution=fn,Dt(ln,un,mn),Tn.push(un),wn.push(un),un={},un.type="LH",un.tbx0=Math.ceil(En.tcx0/pn),un.tby0=Math.ceil(En.tcy0/pn-.5),un.tbx1=Math.ceil(En.tcx1/pn),un.tby1=Math.ceil(En.tcy1/pn-.5),un.resolution=fn,Dt(ln,un,mn),Tn.push(un),wn.push(un),un={},un.type="HH",un.tbx0=Math.ceil(En.tcx0/pn-.5),un.tby0=Math.ceil(En.tcy0/pn-.5),un.tbx1=Math.ceil(En.tcx1/pn-.5),un.tby1=Math.ceil(En.tcy1/pn-.5),un.resolution=fn,Dt(ln,un,mn),Tn.push(un),wn.push(un),fn.subbands=wn}}En.resolutions=Mn,En.subbands=Tn}const xn=sn.codingStyleDefaultParameters.progressionOrder;switch(xn){case 0:sn.packetsIterator=new Ct(ln);break;case 1:sn.packetsIterator=new qt(ln);break;case 2:sn.packetsIterator=new Bt(ln);break;case 3:sn.packetsIterator=new Gt(ln);break;case 4:sn.packetsIterator=new en(ln);break;default:throw new _e(`Unsupported progression order ${xn}`)}}function nn(ln,on,cn,sn){let rn=0,xn,vn=0,En=!1;function Fn(kn){for(;vn<kn;){const Rn=on[cn+rn];rn++,En?(xn=xn<<7|Rn,vn+=7,En=!1):(xn=xn<<8|Rn,vn+=8),Rn===255&&(En=!0)}return vn-=kn,xn>>>vn&(1<<kn)-1}function Mn(kn){return on[cn+rn-1]===255&&on[cn+rn]===kn?(Tn(1),!0):on[cn+rn]===255&&on[cn+rn+1]===kn?(Tn(2),!0):!1}function Tn(kn){rn+=kn}function Sn(){vn=0,En&&(rn++,En=!1)}function mn(){if(Fn(1)===0)return 1;if(Fn(1)===0)return 2;let kn=Fn(2);return kn<3?kn+3:(kn=Fn(5),kn<31?kn+6:(kn=Fn(7),kn+37))}const fn=ln.currentTile.index,Jt=ln.tiles[fn],un=ln.COD.sopMarkerUsed,pn=ln.COD.ephMarkerUsed,wn=Jt.packetsIterator;for(;rn<sn;){Sn(),un&&Mn(145)&&Tn(4);const kn=wn.nextPacket();if(!Fn(1))continue;const Rn=kn.layerNumber,Cn=[];let An;for(let _n=0,In=kn.codeblocks.length;_n<In;_n++){An=kn.codeblocks[_n];let Pn=An.precinct;const Dn=An.cbx-Pn.cbxMin,Ln=An.cby-Pn.cbyMin;let Un=!1,tr=!1,er,Qn;if(An.included!==void 0)Un=!!Fn(1);else{Pn=An.precinct;let dr;if(Pn.inclusionTree!==void 0)dr=Pn.inclusionTree;else{const Bn=Pn.cbxMax-Pn.cbxMin+1,Hn=Pn.cbyMax-Pn.cbyMin+1;dr=new Ot(Bn,Hn,Rn),Qn=new Ut(Bn,Hn),Pn.inclusionTree=dr,Pn.zeroBitPlanesTree=Qn;for(let Wn=0;Wn<Rn;Wn++)if(Fn(1)!==0)throw new _e("Invalid tag tree")}if(dr.reset(Dn,Ln,Rn))for(;;)if(Fn(1)){if(er=!dr.nextLevel(),er){An.included=!0,Un=tr=!0;break}}else{dr.incrementValue(Rn);break}}if(!Un)continue;if(tr){for(Qn=Pn.zeroBitPlanesTree,Qn.reset(Dn,Ln);;)if(Fn(1)){if(er=!Qn.nextLevel(),er)break}else Qn.incrementValue();An.zeroBitPlanes=Qn.value}const Yn=mn();for(;Fn(1);)An.Lblock++;const Xn=(0,_t.log2)(Yn),nr=(Yn<1<<Xn?Xn-1:Xn)+An.Lblock,lr=Fn(nr);Cn.push({codeblock:An,codingpasses:Yn,dataLength:lr})}for(Sn(),pn&&Mn(146);Cn.length>0;){const _n=Cn.shift();An=_n.codeblock,An.data===void 0&&(An.data=[]),An.data.push({data:on,start:cn+rn,end:cn+rn+_n.dataLength,codingpasses:_n.codingpasses}),rn+=_n.dataLength}}return rn}function bn(ln,on,cn,sn,rn,xn,vn,En,Fn){const Mn=sn.tbx0,Tn=sn.tby0,Sn=sn.tbx1-sn.tbx0,mn=sn.codeblocks,fn=sn.type.charAt(0)==="H"?1:0,Jt=sn.type.charAt(1)==="H"?on:0;for(let un=0,pn=mn.length;un<pn;++un){const wn=mn[un],kn=wn.tbx1_-wn.tbx0_,Rn=wn.tby1_-wn.tby0_;if(kn===0||Rn===0||wn.data===void 0)continue;const Cn=new zt(kn,Rn,wn.subbandType,wn.zeroBitPlanes,xn);let An=2;const _n=wn.data;let In=0,Pn=0,Dn,Ln,Un;for(Dn=0,Ln=_n.length;Dn<Ln;Dn++)Un=_n[Dn],In+=Un.end-Un.start,Pn+=Un.codingpasses;const tr=new Uint8Array(In);let er=0;for(Dn=0,Ln=_n.length;Dn<Ln;Dn++){Un=_n[Dn];const sr=Un.data.subarray(Un.start,Un.end);tr.set(sr,er),er+=sr.length}const Qn=new Pt.ArithmeticDecoder(tr,0,In);for(Cn.setDecoder(Qn),Dn=0;Dn<Pn;Dn++){switch(An){case 0:Cn.runSignificancePropagationPass();break;case 1:Cn.runMagnitudeRefinementPass();break;case 2:Cn.runCleanupPass(),En&&Cn.checkSegmentationSymbol();break}Fn&&Cn.reset(),An=(An+1)%3}let Yn=wn.tbx0_-Mn+(wn.tby0_-Tn)*Sn;const Xn=Cn.coefficentsSign,nr=Cn.coefficentsMagnitude,lr=Cn.bitsDecoded,dr=vn?0:.5;let Bn,Hn,Wn;er=0;const cr=sn.type!=="LL";for(Dn=0;Dn<Rn;Dn++){const xr=2*(Yn/Sn|0)*(on-Sn)+fn+Jt;for(Bn=0;Bn<kn;Bn++){if(Hn=nr[er],Hn!==0){Hn=(Hn+dr)*rn,Xn[er]!==0&&(Hn=-Hn),Wn=lr[er];const Jn=cr?xr+(Yn<<1):Yn;ln[Jn]=vn&&Wn>=xn?Hn:Hn*(1<<xn-Wn)}Yn++,er++}Yn+=Sn-kn}}}function Vt(ln,on,cn){const sn=on.components[cn],rn=sn.codingStyleParameters,xn=sn.quantizationParameters,vn=rn.decompositionLevelsCount,En=xn.SPqcds,Fn=xn.scalarExpounded,Mn=xn.guardBits,Tn=rn.segmentationSymbolUsed,Sn=rn.resetContextProbabilities,mn=ln.components[cn].precision,fn=rn.reversibleTransformation,Jt=fn?new Wt:new Ht,un=[];let pn=0;for(let kn=0;kn<=vn;kn++){const Rn=sn.resolutions[kn],Cn=Rn.trx1-Rn.trx0,An=Rn.try1-Rn.try0,_n=new Float32Array(Cn*An);for(let In=0,Pn=Rn.subbands.length;In<Pn;In++){let Dn,Ln;Fn?(Dn=En[pn].mu,Ln=En[pn].epsilon,pn++):(Dn=En[0].mu,Ln=En[0].epsilon+(kn>0?1-kn:0));const Un=Rn.subbands[In],tr=bt[Un.type],er=fn?1:2**(mn+tr-Ln)*(1+Dn/2048),Qn=Mn+Ln-1;bn(_n,Cn,An,Un,er,Qn,fn,Tn,Sn)}un.push({width:Cn,height:An,items:_n})}const wn=Jt.calculate(un,sn.tcx0,sn.tcy0);return{left:sn.tcx0,top:sn.tcy0,width:wn.width,height:wn.height,items:wn.items}}function Yt(ln){const on=ln.SIZ,cn=ln.components,sn=on.Csiz,rn=[];for(let xn=0,vn=ln.tiles.length;xn<vn;xn++){const En=ln.tiles[xn],Fn=[];for(let Cn=0;Cn<sn;Cn++)Fn[Cn]=Vt(ln,En,Cn);const Mn=Fn[0],Tn=new Uint8ClampedArray(Mn.items.length*sn),Sn={left:Mn.left,top:Mn.top,width:Mn.width,height:Mn.height,items:Tn};let mn,fn,Jt=0,un,pn,wn,kn,Rn;if(En.codingStyleDefaultParameters.multipleComponentTransform){const Cn=sn===4,An=Fn[0].items,_n=Fn[1].items,In=Fn[2].items,Pn=Cn?Fn[3].items:null;mn=cn[0].precision-8,fn=(128<<mn)+.5;const Dn=En.components[0],Ln=sn-3;if(pn=An.length,Dn.codingStyleParameters.reversibleTransformation)for(un=0;un<pn;un++,Jt+=Ln){wn=An[un]+fn,kn=_n[un],Rn=In[un];const Un=wn-(Rn+kn>>2);Tn[Jt++]=Un+Rn>>mn,Tn[Jt++]=Un>>mn,Tn[Jt++]=Un+kn>>mn}else for(un=0;un<pn;un++,Jt+=Ln)wn=An[un]+fn,kn=_n[un],Rn=In[un],Tn[Jt++]=wn+1.402*Rn>>mn,Tn[Jt++]=wn-.34413*kn-.71414*Rn>>mn,Tn[Jt++]=wn+1.772*kn>>mn;if(Cn)for(un=0,Jt=3;un<pn;un++,Jt+=4)Tn[Jt]=Pn[un]+fn>>mn}else for(let Cn=0;Cn<sn;Cn++){const An=Fn[Cn].items;for(mn=cn[Cn].precision-8,fn=(128<<mn)+.5,Jt=Cn,un=0,pn=An.length;un<pn;un++)Tn[Jt]=An[un]+fn>>mn,Jt+=sn}rn.push(Sn)}return rn}function hn(ln,on){const sn=ln.SIZ.Csiz,rn=ln.tiles[on];for(let xn=0;xn<sn;xn++){const vn=rn.components[xn],En=ln.currentTile.QCC[xn]!==void 0?ln.currentTile.QCC[xn]:ln.currentTile.QCD;vn.quantizationParameters=En;const Fn=ln.currentTile.COC[xn]!==void 0?ln.currentTile.COC[xn]:ln.currentTile.COD;vn.codingStyleParameters=Fn}rn.codingStyleDefaultParameters=ln.currentTile.COD}class Ut{constructor(on,cn){const sn=(0,_t.log2)(Math.max(on,cn))+1;this.levels=[];for(let rn=0;rn<sn;rn++){const xn={width:on,height:cn,items:[]};this.levels.push(xn),on=Math.ceil(on/2),cn=Math.ceil(cn/2)}}reset(on,cn){let sn=0,rn=0,xn;for(;sn<this.levels.length;){xn=this.levels[sn];const vn=on+cn*xn.width;if(xn.items[vn]!==void 0){rn=xn.items[vn];break}xn.index=vn,on>>=1,cn>>=1,sn++}sn--,xn=this.levels[sn],xn.items[xn.index]=rn,this.currentLevel=sn,delete this.value}incrementValue(){const on=this.levels[this.currentLevel];on.items[on.index]++}nextLevel(){let on=this.currentLevel,cn=this.levels[on];const sn=cn.items[cn.index];return on--,on<0?(this.value=sn,!1):(this.currentLevel=on,cn=this.levels[on],cn.items[cn.index]=sn,!0)}}class Ot{constructor(on,cn,sn){const rn=(0,_t.log2)(Math.max(on,cn))+1;this.levels=[];for(let xn=0;xn<rn;xn++){const vn=new Uint8Array(on*cn);for(let Fn=0,Mn=vn.length;Fn<Mn;Fn++)vn[Fn]=sn;const En={width:on,height:cn,items:vn};this.levels.push(En),on=Math.ceil(on/2),cn=Math.ceil(cn/2)}}reset(on,cn,sn){let rn=0;for(;rn<this.levels.length;){const xn=this.levels[rn],vn=on+cn*xn.width;xn.index=vn;const En=xn.items[vn];if(En===255)break;if(En>sn)return this.currentLevel=rn,this.propagateValues(),!1;on>>=1,cn>>=1,rn++}return this.currentLevel=rn-1,!0}incrementValue(on){const cn=this.levels[this.currentLevel];cn.items[cn.index]=on+1,this.propagateValues()}propagateValues(){let on=this.currentLevel,cn=this.levels[on];const sn=cn.items[cn.index];for(;--on>=0;)cn=this.levels[on],cn.items[cn.index]=sn}nextLevel(){let on=this.currentLevel,cn=this.levels[on];const sn=cn.items[cn.index];return cn.items[cn.index]=255,on--,on<0?!1:(this.currentLevel=on,cn=this.levels[on],cn.items[cn.index]=sn,!0)}}const tn=class tn{constructor(on,cn,sn,rn,xn){this.width=on,this.height=cn;let vn;sn==="HH"?vn=tn.HHContextLabel:sn==="HL"?vn=tn.HLContextLabel:vn=tn.LLAndLHContextsLabel,this.contextLabelTable=vn;const En=on*cn;this.neighborsSignificance=new Uint8Array(En),this.coefficentsSign=new Uint8Array(En);let Fn;xn>14?Fn=new Uint32Array(En):xn>6?Fn=new Uint16Array(En):Fn=new Uint8Array(En),this.coefficentsMagnitude=Fn,this.processingFlags=new Uint8Array(En);const Mn=new Uint8Array(En);if(rn!==0)for(let Tn=0;Tn<En;Tn++)Mn[Tn]=rn;this.bitsDecoded=Mn,this.reset()}setDecoder(on){this.decoder=on}reset(){this.contexts=new Int8Array(19),this.contexts[0]=8,this.contexts[tn.UNIFORM_CONTEXT]=92,this.contexts[tn.RUNLENGTH_CONTEXT]=6}setNeighborsSignificance(on,cn,sn){const rn=this.neighborsSignificance,xn=this.width,vn=this.height,En=cn>0,Fn=cn+1<xn;let Mn;on>0&&(Mn=sn-xn,En&&(rn[Mn-1]+=16),Fn&&(rn[Mn+1]+=16),rn[Mn]+=4),on+1<vn&&(Mn=sn+xn,En&&(rn[Mn-1]+=16),Fn&&(rn[Mn+1]+=16),rn[Mn]+=4),En&&(rn[sn-1]+=1),Fn&&(rn[sn+1]+=1),rn[sn]|=128}runSignificancePropagationPass(){const on=this.decoder,cn=this.width,sn=this.height,rn=this.coefficentsMagnitude,xn=this.coefficentsSign,vn=this.neighborsSignificance,En=this.processingFlags,Fn=this.contexts,Mn=this.contextLabelTable,Tn=this.bitsDecoded,Sn=-2,mn=1,fn=2;for(let Jt=0;Jt<sn;Jt+=4)for(let un=0;un<cn;un++){let pn=Jt*cn+un;for(let wn=0;wn<4;wn++,pn+=cn){const kn=Jt+wn;if(kn>=sn)break;if(En[pn]&=Sn,rn[pn]||!vn[pn])continue;const Rn=Mn[vn[pn]];if(on.readBit(Fn,Rn)){const An=this.decodeSignBit(kn,un,pn);xn[pn]=An,rn[pn]=1,this.setNeighborsSignificance(kn,un,pn),En[pn]|=fn}Tn[pn]++,En[pn]|=mn}}}decodeSignBit(on,cn,sn){const rn=this.width,xn=this.height,vn=this.coefficentsMagnitude,En=this.coefficentsSign;let Fn,Mn,Tn,Sn,mn,fn;Sn=cn>0&&vn[sn-1]!==0,cn+1<rn&&vn[sn+1]!==0?(Tn=En[sn+1],Sn?(Mn=En[sn-1],Fn=1-Tn-Mn):Fn=1-Tn-Tn):Sn?(Mn=En[sn-1],Fn=1-Mn-Mn):Fn=0;const Jt=3*Fn;return Sn=on>0&&vn[sn-rn]!==0,on+1<xn&&vn[sn+rn]!==0?(Tn=En[sn+rn],Sn?(Mn=En[sn-rn],Fn=1-Tn-Mn+Jt):Fn=1-Tn-Tn+Jt):Sn?(Mn=En[sn-rn],Fn=1-Mn-Mn+Jt):Fn=Jt,Fn>=0?(mn=9+Fn,fn=this.decoder.readBit(this.contexts,mn)):(mn=9-Fn,fn=this.decoder.readBit(this.contexts,mn)^1),fn}runMagnitudeRefinementPass(){const on=this.decoder,cn=this.width,sn=this.height,rn=this.coefficentsMagnitude,xn=this.neighborsSignificance,vn=this.contexts,En=this.bitsDecoded,Fn=this.processingFlags,Mn=1,Tn=2,Sn=cn*sn,mn=cn*4;for(let fn=0,Jt;fn<Sn;fn=Jt){Jt=Math.min(Sn,fn+mn);for(let un=0;un<cn;un++)for(let pn=fn+un;pn<Jt;pn+=cn){if(!rn[pn]||Fn[pn]&Mn)continue;let wn=16;Fn[pn]&Tn&&(Fn[pn]^=Tn,wn=(xn[pn]&127)===0?15:14);const kn=on.readBit(vn,wn);rn[pn]=rn[pn]<<1|kn,En[pn]++,Fn[pn]|=Mn}}}runCleanupPass(){const on=this.decoder,cn=this.width,sn=this.height,rn=this.neighborsSignificance,xn=this.coefficentsMagnitude,vn=this.coefficentsSign,En=this.contexts,Fn=this.contextLabelTable,Mn=this.bitsDecoded,Tn=this.processingFlags,Sn=1,mn=2,fn=cn,Jt=cn*2,un=cn*3;let pn;for(let wn=0;wn<sn;wn=pn){pn=Math.min(wn+4,sn);const kn=wn*cn,Rn=wn+3<sn;for(let Cn=0;Cn<cn;Cn++){const An=kn+Cn,_n=Rn&&Tn[An]===0&&Tn[An+fn]===0&&Tn[An+Jt]===0&&Tn[An+un]===0&&rn[An]===0&&rn[An+fn]===0&&rn[An+Jt]===0&&rn[An+un]===0;let In=0,Pn=An,Dn=wn,Ln;if(_n){if(!on.readBit(En,tn.RUNLENGTH_CONTEXT)){Mn[An]++,Mn[An+fn]++,Mn[An+Jt]++,Mn[An+un]++;continue}In=on.readBit(En,tn.UNIFORM_CONTEXT)<<1|on.readBit(En,tn.UNIFORM_CONTEXT),In!==0&&(Dn=wn+In,Pn+=In*cn),Ln=this.decodeSignBit(Dn,Cn,Pn),vn[Pn]=Ln,xn[Pn]=1,this.setNeighborsSignificance(Dn,Cn,Pn),Tn[Pn]|=mn,Pn=An;for(let tr=wn;tr<=Dn;tr++,Pn+=cn)Mn[Pn]++;In++}for(Dn=wn+In;Dn<pn;Dn++,Pn+=cn){if(xn[Pn]||Tn[Pn]&Sn)continue;const Un=Fn[rn[Pn]];on.readBit(En,Un)===1&&(Ln=this.decodeSignBit(Dn,Cn,Pn),vn[Pn]=Ln,xn[Pn]=1,this.setNeighborsSignificance(Dn,Cn,Pn),Tn[Pn]|=mn),Mn[Pn]++}}}}checkSegmentationSymbol(){const on=this.decoder,cn=this.contexts;if((on.readBit(cn,tn.UNIFORM_CONTEXT)<<3|on.readBit(cn,tn.UNIFORM_CONTEXT)<<2|on.readBit(cn,tn.UNIFORM_CONTEXT)<<1|on.readBit(cn,tn.UNIFORM_CONTEXT))!==10)throw new _e("Invalid segmentation symbol")}};Ur(tn,"UNIFORM_CONTEXT",17),Ur(tn,"RUNLENGTH_CONTEXT",18),Ur(tn,"LLAndLHContextsLabel",new Uint8Array([0,5,8,0,3,7,8,0,4,7,8,0,0,0,0,0,1,6,8,0,3,7,8,0,4,7,8,0,0,0,0,0,2,6,8,0,3,7,8,0,4,7,8,0,0,0,0,0,2,6,8,0,3,7,8,0,4,7,8,0,0,0,0,0,2,6,8,0,3,7,8,0,4,7,8])),Ur(tn,"HLContextLabel",new Uint8Array([0,3,4,0,5,7,7,0,8,8,8,0,0,0,0,0,1,3,4,0,6,7,7,0,8,8,8,0,0,0,0,0,2,3,4,0,6,7,7,0,8,8,8,0,0,0,0,0,2,3,4,0,6,7,7,0,8,8,8,0,0,0,0,0,2,3,4,0,6,7,7,0,8,8,8])),Ur(tn,"HHContextLabel",new Uint8Array([0,1,2,0,1,2,2,0,2,2,2,0,0,0,0,0,3,4,5,0,4,5,5,0,5,5,5,0,0,0,0,0,6,7,7,0,7,7,7,0,7,7,7,0,0,0,0,0,8,8,8,0,8,8,8,0,8,8,8,0,0,0,0,0,8,8,8,0,8,8,8,0,8,8,8]));let zt=tn;class an{constructor(){this.constructor===an&&(0,wt.unreachable)("Cannot initialize Transform.")}calculate(on,cn,sn){let rn=on[0];for(let xn=1,vn=on.length;xn<vn;xn++)rn=this.iterate(rn,on[xn],cn,sn);return rn}extend(on,cn,sn){let rn=cn-1,xn=cn+1,vn=cn+sn-2,En=cn+sn;on[rn--]=on[xn++],on[En++]=on[vn--],on[rn--]=on[xn++],on[En++]=on[vn--],on[rn--]=on[xn++],on[En++]=on[vn--],on[rn]=on[xn],on[En]=on[vn]}filter(on,cn,sn){(0,wt.unreachable)("Abstract method `filter` called")}iterate(on,cn,sn,rn){const xn=on.width,vn=on.height;let En=on.items;const Fn=cn.width,Mn=cn.height,Tn=cn.items;let Sn,mn,fn,Jt,un,pn;for(fn=0,Sn=0;Sn<vn;Sn++)for(Jt=Sn*2*Fn,mn=0;mn<xn;mn++,fn++,Jt+=2)Tn[Jt]=En[fn];En=on.items=null;const wn=4,kn=new Float32Array(Fn+2*wn);if(Fn===1){if(sn&1)for(pn=0,fn=0;pn<Mn;pn++,fn+=Fn)Tn[fn]*=.5}else for(pn=0,fn=0;pn<Mn;pn++,fn+=Fn)kn.set(Tn.subarray(fn,fn+Fn),wn),this.extend(kn,wn,Fn),this.filter(kn,wn,Fn),Tn.set(kn.subarray(wn,wn+Fn),fn);let Rn=16;const Cn=[];for(Sn=0;Sn<Rn;Sn++)Cn.push(new Float32Array(Mn+2*wn));let An,_n=0;if(on=wn+Mn,Mn===1){if(rn&1)for(un=0;un<Fn;un++)Tn[un]*=.5}else for(un=0;un<Fn;un++){if(_n===0){for(Rn=Math.min(Fn-un,Rn),fn=un,Jt=wn;Jt<on;fn+=Fn,Jt++)for(An=0;An<Rn;An++)Cn[An][Jt]=Tn[fn+An];_n=Rn}_n--;const In=Cn[_n];if(this.extend(In,wn,Mn),this.filter(In,wn,Mn),_n===0)for(fn=un-Rn+1,Jt=wn;Jt<on;fn+=Fn,Jt++)for(An=0;An<Rn;An++)Tn[fn+An]=Cn[An][Jt]}return{width:Fn,height:Mn,items:Tn}}}class Ht extends an{filter(on,cn,sn){const rn=sn>>1;cn|=0;let xn,vn,En,Fn;const Mn=-1.586134342059924,Tn=-.052980118572961,Sn=.882911075530934,mn=.443506852043971,fn=1.230174104914001,Jt=1/fn;for(xn=cn-3,vn=rn+4;vn--;xn+=2)on[xn]*=Jt;for(xn=cn-2,En=mn*on[xn-1],vn=rn+3;vn--&&(Fn=mn*on[xn+1],on[xn]=fn*on[xn]-En-Fn,vn--);xn+=2)xn+=2,En=mn*on[xn+1],on[xn]=fn*on[xn]-En-Fn;for(xn=cn-1,En=Sn*on[xn-1],vn=rn+2;vn--&&(Fn=Sn*on[xn+1],on[xn]-=En+Fn,vn--);xn+=2)xn+=2,En=Sn*on[xn+1],on[xn]-=En+Fn;for(xn=cn,En=Tn*on[xn-1],vn=rn+1;vn--&&(Fn=Tn*on[xn+1],on[xn]-=En+Fn,vn--);xn+=2)xn+=2,En=Tn*on[xn+1],on[xn]-=En+Fn;if(rn!==0)for(xn=cn+1,En=Mn*on[xn-1],vn=rn;vn--&&(Fn=Mn*on[xn+1],on[xn]-=En+Fn,vn--);xn+=2)xn+=2,En=Mn*on[xn+1],on[xn]-=En+Fn}}class Wt extends an{filter(on,cn,sn){const rn=sn>>1;cn|=0;let xn,vn;for(xn=cn,vn=rn+1;vn--;xn+=2)on[xn]-=on[xn-1]+on[xn+1]+2>>2;for(xn=cn+1,vn=rn;vn--;xn+=2)on[xn]+=on[xn-1]+on[xn+1]>>1}}},(kt,Et,Rt)=>{Object.defineProperty(Et,"__esModule",{value:!0}),Et.LZWStream=void 0;var wt=Rt(18);class _t extends wt.DecodeStream{constructor(_e,bt,Ft){super(bt),this.str=_e,this.dict=_e.dict,this.cachedData=0,this.bitsCached=0;const Xt=4096,Kt={earlyChange:Ft,codeLength:9,nextCode:258,dictionaryValues:new Uint8Array(Xt),dictionaryLengths:new Uint16Array(Xt),dictionaryPrevCodes:new Uint16Array(Xt),currentSequence:new Uint8Array(Xt),currentSequenceLength:0};for(let Nt=0;Nt<256;++Nt)Kt.dictionaryValues[Nt]=Nt,Kt.dictionaryLengths[Nt]=1;this.lzwState=Kt}readBits(_e){let bt=this.bitsCached,Ft=this.cachedData;for(;bt<_e;){const Xt=this.str.getByte();if(Xt===-1)return this.eof=!0,null;Ft=Ft<<8|Xt,bt+=8}return this.bitsCached=bt-=_e,this.cachedData=Ft,this.lastCode=null,Ft>>>bt&(1<<_e)-1}readBlock(){let Ft=1024,Xt,Kt,Nt;const $t=this.lzwState;if(!$t)return;const Dt=$t.earlyChange;let jt=$t.nextCode;const Ct=$t.dictionaryValues,qt=$t.dictionaryLengths,Bt=$t.dictionaryPrevCodes;let Gt=$t.codeLength,en=$t.prevCode;const dn=$t.currentSequence;let Qt=$t.currentSequenceLength,gn=0,nn=this.bufferLength,bn=this.ensureBuffer(this.bufferLength+Ft);for(Xt=0;Xt<512;Xt++){const Vt=this.readBits(Gt),Yt=Qt>0;if(Vt<256)dn[0]=Vt,Qt=1;else if(Vt>=258)if(Vt<jt)for(Qt=qt[Vt],Kt=Qt-1,Nt=Vt;Kt>=0;Kt--)dn[Kt]=Ct[Nt],Nt=Bt[Nt];else dn[Qt++]=dn[0];else if(Vt===256){Gt=9,jt=258,Qt=0;continue}else{this.eof=!0,delete this.lzwState;break}if(Yt&&(Bt[jt]=en,qt[jt]=qt[en]+1,Ct[jt]=dn[0],jt++,Gt=jt+Dt&jt+Dt-1?Gt:Math.min(Math.log(jt+Dt)/.6931471805599453+1,12)|0),en=Vt,gn+=Qt,Ft<gn){do Ft+=512;while(Ft<gn);bn=this.ensureBuffer(this.bufferLength+Ft)}for(Kt=0;Kt<Qt;Kt++)bn[nn++]=dn[Kt]}$t.nextCode=jt,$t.codeLength=Gt,$t.prevCode=en,$t.currentSequenceLength=Qt,this.bufferLength=nn}}Et.LZWStream=_t},(kt,Et,Rt)=>{Object.defineProperty(Et,"__esModule",{value:!0}),Et.PredictorStream=void 0;var wt=Rt(18),_t=Rt(4),Pt=Rt(2);class _e extends wt.DecodeStream{constructor(Ft,Xt,Kt){if(super(Xt),!(Kt instanceof _t.Dict))return Ft;const Nt=this.predictor=Kt.get("Predictor")||1;if(Nt<=1)return Ft;if(Nt!==2&&(Nt<10||Nt>15))throw new Pt.FormatError(`Unsupported predictor: ${Nt}`);this.readBlock=Nt===2?this.readBlockTiff:this.readBlockPng,this.str=Ft,this.dict=Ft.dict;const $t=this.colors=Kt.get("Colors")||1,Dt=this.bits=Kt.get("BPC","BitsPerComponent")||8,jt=this.columns=Kt.get("Columns")||1;return this.pixBytes=$t*Dt+7>>3,this.rowBytes=jt*$t*Dt+7>>3,this}readBlockTiff(){const Ft=this.rowBytes,Xt=this.bufferLength,Kt=this.ensureBuffer(Xt+Ft),Nt=this.bits,$t=this.colors,Dt=this.str.getBytes(Ft);if(this.eof=!Dt.length,this.eof)return;let jt=0,Ct=0,qt=0,Bt=0,Gt=Xt,en;if(Nt===1&&$t===1)for(en=0;en<Ft;++en){let dn=Dt[en]^jt;dn^=dn>>1,dn^=dn>>2,dn^=dn>>4,jt=(dn&1)<<7,Kt[Gt++]=dn}else if(Nt===8){for(en=0;en<$t;++en)Kt[Gt++]=Dt[en];for(;en<Ft;++en)Kt[Gt]=Kt[Gt-$t]+Dt[en],Gt++}else if(Nt===16){const dn=$t*2;for(en=0;en<dn;++en)Kt[Gt++]=Dt[en];for(;en<Ft;en+=2){const Qt=((Dt[en]&255)<<8)+(Dt[en+1]&255)+((Kt[Gt-dn]&255)<<8)+(Kt[Gt-dn+1]&255);Kt[Gt++]=Qt>>8&255,Kt[Gt++]=Qt&255}}else{const dn=new Uint8Array($t+1),Qt=(1<<Nt)-1;let gn=0,nn=Xt;const bn=this.columns;for(en=0;en<bn;++en)for(let Vt=0;Vt<$t;++Vt)qt<Nt&&(jt=jt<<8|Dt[gn++]&255,qt+=8),dn[Vt]=dn[Vt]+(jt>>qt-Nt)&Qt,qt-=Nt,Ct=Ct<<Nt|dn[Vt],Bt+=Nt,Bt>=8&&(Kt[nn++]=Ct>>Bt-8&255,Bt-=8);Bt>0&&(Kt[nn++]=(Ct<<8-Bt)+(jt&(1<<8-Bt)-1))}this.bufferLength+=Ft}readBlockPng(){const Ft=this.rowBytes,Xt=this.pixBytes,Kt=this.str.getByte(),Nt=this.str.getBytes(Ft);if(this.eof=!Nt.length,this.eof)return;const $t=this.bufferLength,Dt=this.ensureBuffer($t+Ft);let jt=Dt.subarray($t-Ft,$t);jt.length===0&&(jt=new Uint8Array(Ft));let Ct,qt=$t,Bt,Gt;switch(Kt){case 0:for(Ct=0;Ct<Ft;++Ct)Dt[qt++]=Nt[Ct];break;case 1:for(Ct=0;Ct<Xt;++Ct)Dt[qt++]=Nt[Ct];for(;Ct<Ft;++Ct)Dt[qt]=Dt[qt-Xt]+Nt[Ct]&255,qt++;break;case 2:for(Ct=0;Ct<Ft;++Ct)Dt[qt++]=jt[Ct]+Nt[Ct]&255;break;case 3:for(Ct=0;Ct<Xt;++Ct)Dt[qt++]=(jt[Ct]>>1)+Nt[Ct];for(;Ct<Ft;++Ct)Dt[qt]=(jt[Ct]+Dt[qt-Xt]>>1)+Nt[Ct]&255,qt++;break;case 4:for(Ct=0;Ct<Xt;++Ct)Bt=jt[Ct],Gt=Nt[Ct],Dt[qt++]=Bt+Gt;for(;Ct<Ft;++Ct){Bt=jt[Ct];const en=jt[Ct-Xt],dn=Dt[qt-Xt],Qt=dn+Bt-en;let gn=Qt-dn;gn<0&&(gn=-gn);let nn=Qt-Bt;nn<0&&(nn=-nn);let bn=Qt-en;bn<0&&(bn=-bn),Gt=Nt[Ct],gn<=nn&&gn<=bn?Dt[qt++]=dn+Gt:nn<=bn?Dt[qt++]=Bt+Gt:Dt[qt++]=en+Gt}break;default:throw new Pt.FormatError(`Unsupported predictor: ${Kt}`)}this.bufferLength+=Ft}}Et.PredictorStream=_e},(kt,Et,Rt)=>{Object.defineProperty(Et,"__esModule",{value:!0}),Et.RunLengthStream=void 0;var wt=Rt(18);class _t extends wt.DecodeStream{constructor(_e,bt){super(bt),this.str=_e,this.dict=_e.dict}readBlock(){const _e=this.str.getBytes(2);if(!_e||_e.length<2||_e[0]===128){this.eof=!0;return}let bt,Ft=this.bufferLength,Xt=_e[0];if(Xt<128){if(bt=this.ensureBuffer(Ft+Xt+1),bt[Ft++]=_e[1],Xt>0){const Kt=this.str.getBytes(Xt);bt.set(Kt,Ft),Ft+=Xt}}else{Xt=257-Xt;const Kt=_e[1];bt=this.ensureBuffer(Ft+Xt+1);for(let Nt=0;Nt<Xt;Nt++)bt[Ft++]=Kt}this.bufferLength=Ft}}Et.RunLengthStream=_t},(kt,Et,Rt)=>{Object.defineProperty(Et,"__esModule",{value:!0}),Et.Font=Et.ErrorFont=void 0;var wt=Rt(2),_t=Rt(35),Pt=Rt(38),_e=Rt(40),bt=Rt(39),Ft=Rt(37),Xt=Rt(41),Kt=Rt(42),Nt=Rt(43),$t=Rt(44),Dt=Rt(45),jt=Rt(46),Ct=Rt(14),qt=Rt(47),Bt=Rt(3),Gt=Rt(8),en=Rt(48);const dn=[[57344,63743],[1048576,1114109]],Qt=1e3,gn=["ascent","bbox","black","bold","charProcOperatorList","composite","cssFontInfo","data","defaultVMetrics","defaultWidth","descent","fallbackName","fontMatrix","isInvalidPDFjsFont","isType3Font","italic","loadedName","mimetype","missingFile","name","remeasure","subtype","systemFontInfo","type","vertical"],nn=["cMap","defaultEncoding","differences","isMonospace","isSerifFont","isSymbolicFont","seacMap","toFontChar","toUnicode","vmetrics","widths"];function bn(An){if(!An.fontMatrix||An.fontMatrix[0]===wt.FONT_IDENTITY_MATRIX[0])return;const _n=.001/An.fontMatrix[0],In=An.widths;for(const Pn in In)In[Pn]*=_n;An.defaultWidth*=_n}function Vt(An,_n,In){if(An.isInternalFont||An.hasIncludedToUnicodeMap||An.hasEncoding||An.toUnicode instanceof Kt.IdentityToUnicodeMap||!_n||In.length===0||An.defaultEncoding===Ft.WinAnsiEncoding)return;for(const Un of In)if(!Mn(Un))return;const Pn=Ft.WinAnsiEncoding,Dn=[],Ln=(0,bt.getGlyphsUnicode)();for(const Un in Pn){const tr=Pn[Un];if(tr==="")continue;const er=Ln[tr];er!==void 0&&(Dn[Un]=String.fromCharCode(er))}Dn.length>0&&An.toUnicode.amend(Dn)}function Yt(An,_n){if(An.isInternalFont||An.hasIncludedToUnicodeMap||_n===An.defaultEncoding||An.toUnicode instanceof Kt.IdentityToUnicodeMap)return;const In=[],Pn=(0,bt.getGlyphsUnicode)();for(const Dn in _n){if(An.hasEncoding&&(An.baseEncodingName||An.differences[Dn]!==void 0))continue;const Ln=_n[Dn],Un=(0,_e.getUnicodeForGlyph)(Ln,Pn);Un!==-1&&(In[Dn]=String.fromCharCode(Un))}In.length>0&&An.toUnicode.amend(In)}function hn(An){if(!An.fallbackToUnicode||An.toUnicode instanceof Kt.IdentityToUnicodeMap)return;const _n=[];for(const In in An.fallbackToUnicode)An.toUnicode.has(In)||(_n[In]=An.fallbackToUnicode[In]);_n.length>0&&An.toUnicode.amend(_n)}class Ut{constructor(_n,In,Pn,Dn,Ln,Un,tr,er,Qn){this.originalCharCode=_n,this.fontChar=In,this.unicode=Pn,this.accent=Dn,this.width=Ln,this.vmetric=Un,this.operatorListId=tr,this.isSpace=er,this.isInFont=Qn}get category(){return(0,wt.shadow)(this,"category",(0,_e.getCharUnicodeCategory)(this.unicode),!0)}}function Ot(An,_n){return(An<<8)+_n}function zt(An,_n,In){An[_n+1]=In,An[_n]=In>>>8}function an(An,_n){const In=(An<<8)+_n;return In&32768?In-65536:In}function Ht(An,_n,In,Pn){return(An<<24)+(_n<<16)+(In<<8)+Pn}function Wt(An){return String.fromCharCode(An>>8&255,An&255)}function tn(An){return An>32767?An=32767:An<-32768&&(An=-32768),String.fromCharCode(An>>8&255,An&255)}function ln(An){const _n=An.peekBytes(4);return(0,Bt.readUint32)(_n,0)===65536||(0,wt.bytesToString)(_n)==="true"}function on(An){const _n=An.peekBytes(4);return(0,wt.bytesToString)(_n)==="ttcf"}function cn(An){const _n=An.peekBytes(4);return(0,wt.bytesToString)(_n)==="OTTO"}function sn(An){const _n=An.peekBytes(2);return _n[0]===37&&_n[1]===33||_n[0]===128&&_n[1]===1}function rn(An){const _n=An.peekBytes(4);return _n[0]>=1&&_n[3]>=1&&_n[3]<=4}function xn(An,{type:_n,subtype:In,composite:Pn}){let Dn,Ln;return ln(An)||on(An)?Dn=Pn?"CIDFontType2":"TrueType":cn(An)?Dn=Pn?"CIDFontType2":"OpenType":sn(An)?Pn?Dn="CIDFontType0":Dn=_n==="MMType1"?"MMType1":"Type1":rn(An)?Pn?(Dn="CIDFontType0",Ln="CIDFontType0C"):(Dn=_n==="MMType1"?"MMType1":"Type1",Ln="Type1C"):((0,wt.warn)("getFontFileType: Unable to detect correct font file Type/Subtype."),Dn=_n,Ln=In),[Dn,Ln]}function vn(An,_n){for(const In in _n)An[+In]=_n[In]}function En(An,_n,In){const Pn=[];let Dn;for(let Ln=0,Un=An.length;Ln<Un;Ln++)Dn=(0,_e.getUnicodeForGlyph)(An[Ln],_n),Dn!==-1&&(Pn[Ln]=Dn);for(const Ln in In)Dn=(0,_e.getUnicodeForGlyph)(In[Ln],_n),Dn!==-1&&(Pn[+Ln]=Dn);return Pn}function Fn(An){return An.platform===1&&An.encoding===0&&An.language===0}function Mn(An){return An.platform===3&&An.encoding===1&&An.language===1033}function Tn(An,_n,In=!1){switch(_n.length){case 1:return _n.charCodeAt(0);case 2:return _n.charCodeAt(0)<<8|_n.charCodeAt(1)}const Pn=`Unsupported CID string (charCode ${An}): "${_n}".`;if(In)throw new wt.FormatError(Pn);return(0,wt.warn)(Pn),_n}function Sn(An,_n,In,Pn){const Dn=Object.create(null),Ln=new Map,Un=[],tr=new Set;let er=0,Yn=dn[er][0],Xn=dn[er][1];const nr=lr=>dn[0][0]<=lr&&lr<=dn[0][1]||dn[1][0]<=lr&&lr<=dn[1][1];for(let lr in An){lr|=0;let dr=An[lr];if(!_n(dr))continue;if(Yn>Xn){if(er++,er>=dn.length){(0,wt.warn)("Ran out of space in font private use area.");break}Yn=dn[er][0],Xn=dn[er][1]}const Bn=Yn++;dr===0&&(dr=In);let Hn=Pn.get(lr);typeof Hn=="string"&&(Hn=Hn.codePointAt(0)),Hn&&!nr(Hn)&&!tr.has(dr)&&(Ln.set(Hn,dr),tr.add(dr)),Dn[Bn]=dr,Un[lr]=Bn}return{toFontChar:Un,charCodeToGlyphId:Dn,toUnicodeExtraMap:Ln,nextAvailableFontCharCode:Yn}}function mn(An,_n,In){const Pn=[];for(const Un in An)An[Un]>=In||Pn.push({fontCharCode:Un|0,glyphId:An[Un]});if(_n)for(const[Un,tr]of _n)tr>=In||Pn.push({fontCharCode:Un,glyphId:tr});Pn.length===0&&Pn.push({fontCharCode:0,glyphId:0}),Pn.sort(function(tr,er){return tr.fontCharCode-er.fontCharCode});const Dn=[],Ln=Pn.length;for(let Un=0;Un<Ln;){const tr=Pn[Un].fontCharCode,er=[Pn[Un].glyphId];++Un;let Qn=tr;for(;Un<Ln&&Qn+1===Pn[Un].fontCharCode&&(er.push(Pn[Un].glyphId),++Qn,++Un,Qn!==65535););Dn.push([tr,Qn,er])}return Dn}function fn(An,_n,In){const Pn=mn(An,_n,In),Dn=Pn.at(-1)[1]>65535?2:1;let Ln="\0\0"+Wt(Dn)+"\0\0"+(0,wt.string32)(4+Dn*8),Un,tr,er,Qn;for(Un=Pn.length-1;Un>=0&&!(Pn[Un][0]<=65535);--Un);const Yn=Un+1;Pn[Un][0]<65535&&Pn[Un][1]===65535&&(Pn[Un][1]=65534);const Xn=Pn[Un][1]<65535?1:0,nr=Yn+Xn,lr=qt.OpenTypeFileBuilder.getSearchParams(nr,2);let dr="",Bn="",Hn="",Wn="",cr="",sr=0,xr,Jn,Vn,Zn;for(Un=0,tr=Yn;Un<tr;Un++){xr=Pn[Un],Jn=xr[0],Vn=xr[1],dr+=Wt(Jn),Bn+=Wt(Vn),Zn=xr[2];let pr=!0;for(er=1,Qn=Zn.length;er<Qn;++er)if(Zn[er]!==Zn[er-1]+1){pr=!1;break}if(pr){const wr=Zn[0];Hn+=Wt(wr-Jn&65535),Wn+=Wt(0)}else{const wr=(nr-Un)*2+sr*2;for(sr+=Vn-Jn+1,Hn+=Wt(0),Wn+=Wt(wr),er=0,Qn=Zn.length;er<Qn;++er)cr+=Wt(Zn[er])}}Xn>0&&(Bn+="",dr+="",Hn+="\0",Wn+="\0\0");const ur="\0\0"+Wt(2*nr)+Wt(lr.range)+Wt(lr.entry)+Wt(lr.rangeShift)+Bn+"\0\0"+dr+Hn+Wn+cr;let hr="",or="";if(Dn>1){for(Ln+=`\0\0
`+(0,wt.string32)(4+Dn*8+4+ur.length),hr="",Un=0,tr=Pn.length;Un<tr;Un++){xr=Pn[Un],Jn=xr[0],Zn=xr[2];let pr=Zn[0];for(er=1,Qn=Zn.length;er<Qn;++er)Zn[er]!==Zn[er-1]+1&&(Vn=xr[0]+er-1,hr+=(0,wt.string32)(Jn)+(0,wt.string32)(Vn)+(0,wt.string32)(pr),Jn=Vn+1,pr=Zn[er]);hr+=(0,wt.string32)(Jn)+(0,wt.string32)(xr[1])+(0,wt.string32)(pr)}or="\0\f\0\0"+(0,wt.string32)(hr.length+16)+"\0\0\0\0"+(0,wt.string32)(hr.length/12)}return Ln+"\0"+Wt(ur.length+4)+ur+or+hr}function Jt(An,_n){_n.pos=(_n.start||0)+An.offset;const In=_n.getUint16();_n.skip(60);const Pn=_n.getUint16();if(In<4&&Pn&768)return!1;const Dn=_n.getUint16(),Ln=_n.getUint16();return Dn>Ln||(_n.skip(6),_n.getUint16()===0)?!1:(An.data[8]=An.data[9]=0,!0)}function un(An,_n,In){In||(In={unitsPerEm:0,yMax:0,yMin:0,ascent:0,descent:0});let Pn=0,Dn=0,Ln=0,Un=0,tr=null,er=0,Qn=-1;if(_n){for(let Wn in _n)if(Wn|=0,(tr>Wn||!tr)&&(tr=Wn),er<Wn&&(er=Wn),Qn=(0,_e.getUnicodeRangeFor)(Wn,Qn),Qn<32)Pn|=1<<Qn;else if(Qn<64)Dn|=1<<Qn-32;else if(Qn<96)Ln|=1<<Qn-64;else if(Qn<123)Un|=1<<Qn-96;else throw new wt.FormatError("Unicode ranges Bits > 123 are reserved for internal usage");er>65535&&(er=65535)}else tr=0,er=255;const Yn=An.bbox||[0,0,0,0],Xn=In.unitsPerEm||1/(An.fontMatrix||wt.FONT_IDENTITY_MATRIX)[0],nr=An.ascentScaled?1:Xn/Qt,lr=In.ascent||Math.round(nr*(An.ascent||Yn[3]));let dr=In.descent||Math.round(nr*(An.descent||Yn[1]));dr>0&&An.descent>0&&Yn[1]<0&&(dr=-dr);const Bn=In.yMax||lr,Hn=-In.yMin||-dr;return"\0$\0\0\0\0\0\0\0\0\x001\0\0\0\0"+String.fromCharCode(An.fixedPitch?9:0)+"\0\0\0\0\0\0"+(0,wt.string32)(Pn)+(0,wt.string32)(Dn)+(0,wt.string32)(Ln)+(0,wt.string32)(Un)+"*21*"+Wt(An.italicAngle?1:0)+Wt(tr||An.firstChar)+Wt(er||An.lastChar)+Wt(lr)+Wt(dr)+"\0d"+Wt(Bn)+Wt(Hn)+"\0\0\0\0\0\0\0\0"+Wt(An.xHeight)+Wt(An.capHeight)+Wt(0)+Wt(tr||An.firstChar)+"\0"}function pn(An){const _n=Math.floor(An.italicAngle*65536);return"\0\0\0"+(0,wt.string32)(_n)+"\0\0\0\0"+(0,wt.string32)(An.fixedPitch?1:0)+"\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0"}function wn(An){return An.replaceAll(/[^\x21-\x7E]|[[\](){}<>/%]/g,"").slice(0,63)}function kn(An,_n){_n||(_n=[[],[]]);const In=[_n[0][0]||"Original licence",_n[0][1]||An,_n[0][2]||"Unknown",_n[0][3]||"uniqueID",_n[0][4]||An,_n[0][5]||"Version 0.11",_n[0][6]||wn(An),_n[0][7]||"Unknown",_n[0][8]||"Unknown",_n[0][9]||"Unknown"],Pn=[];let Dn,Ln,Un,tr,er;for(Dn=0,Ln=In.length;Dn<Ln;Dn++){er=_n[1][Dn]||In[Dn];const Hn=[];for(Un=0,tr=er.length;Un<tr;Un++)Hn.push(Wt(er.charCodeAt(Un)));Pn.push(Hn.join(""))}const Qn=[In,Pn],Yn=["\0","\0"],Xn=["\0\0","\0"],nr=["\0\0","	"],lr=In.length*Yn.length;let dr="\0\0"+Wt(lr)+Wt(lr*12+6),Bn=0;for(Dn=0,Ln=Yn.length;Dn<Ln;Dn++){const Hn=Qn[Dn];for(Un=0,tr=Hn.length;Un<tr;Un++){er=Hn[Un];const Wn=Yn[Dn]+Xn[Dn]+nr[Dn]+Wt(Un)+Wt(er.length)+Wt(Bn);dr+=Wn,Bn+=er.length}}return dr+=In.join("")+Pn.join(""),dr}class Rn{constructor(_n,In,Pn){var Qn;this.name=_n,this.psName=null,this.mimetype=null,this.disableFontFace=!1,this.loadedName=Pn.loadedName,this.isType3Font=Pn.isType3Font,this.missingFile=!1,this.cssFontInfo=Pn.cssFontInfo,this._charsCache=Object.create(null),this._glyphCache=Object.create(null);let Dn=!!(Pn.flags&Pt.FontFlags.Serif);if(!Dn&&!Pn.isSimulatedFlags){const Yn=_n.replaceAll(/[,_]/g,"-").split("-")[0],Xn=(0,Xt.getSerifFonts)();for(const nr of Yn.split("+"))if(Xn[nr]){Dn=!0;break}}this.isSerifFont=Dn,this.isSymbolicFont=!!(Pn.flags&Pt.FontFlags.Symbolic),this.isMonospace=!!(Pn.flags&Pt.FontFlags.FixedPitch);let{type:Ln,subtype:Un}=Pn;this.type=Ln,this.subtype=Un,this.systemFontInfo=Pn.systemFontInfo;const tr=_n.match(/^InvalidPDFjsFont_(.*)_\d+$/);if(this.isInvalidPDFjsFont=!!tr,this.isInvalidPDFjsFont?this.fallbackName=tr[1]:this.isMonospace?this.fallbackName="monospace":this.isSerifFont?this.fallbackName="serif":this.fallbackName="sans-serif",(Qn=this.systemFontInfo)!=null&&Qn.guessFallback&&(this.systemFontInfo.guessFallback=!1,this.systemFontInfo.css+=`,${this.fallbackName}`),this.differences=Pn.differences,this.widths=Pn.widths,this.defaultWidth=Pn.defaultWidth,this.composite=Pn.composite,this.cMap=Pn.cMap,this.capHeight=Pn.capHeight/Qt,this.ascent=Pn.ascent/Qt,this.descent=Pn.descent/Qt,this.lineHeight=this.ascent-this.descent,this.fontMatrix=Pn.fontMatrix,this.bbox=Pn.bbox,this.defaultEncoding=Pn.defaultEncoding,this.toUnicode=Pn.toUnicode,this.toFontChar=[],Pn.type==="Type3"){for(let Yn=0;Yn<256;Yn++)this.toFontChar[Yn]=this.differences[Yn]||Pn.defaultEncoding[Yn];return}if(this.cidEncoding=Pn.cidEncoding||"",this.vertical=!!Pn.vertical,this.vertical&&(this.vmetrics=Pn.vmetrics,this.defaultVMetrics=Pn.defaultVMetrics),!In||In.isEmpty){In&&(0,wt.warn)('Font file is empty in "'+_n+'" ('+this.loadedName+")"),this.fallbackToSystemFont(Pn);return}[Ln,Un]=xn(In,Pn),(Ln!==this.type||Un!==this.subtype)&&(0,wt.info)(`Inconsistent font file Type/SubType, expected: ${this.type}/${this.subtype} but found: ${Ln}/${Un}.`);let er;try{switch(Ln){case"MMType1":(0,wt.info)("MMType1 font ("+_n+"), falling back to Type1.");case"Type1":case"CIDFontType0":this.mimetype="font/opentype";const Yn=Un==="Type1C"||Un==="CIDFontType0C"?new Nt.CFFFont(In,Pn):new en.Type1Font(_n,In,Pn);bn(Pn),er=this.convert(_n,Yn,Pn);break;case"OpenType":case"TrueType":case"CIDFontType2":this.mimetype="font/opentype",er=this.checkAndRepair(_n,In,Pn),this.isOpenType&&(bn(Pn),Ln="OpenType");break;default:throw new wt.FormatError(`Font ${Ln} is not supported`)}}catch(Yn){(0,wt.warn)(Yn),this.fallbackToSystemFont(Pn);return}hn(Pn),this.data=er,this.type=Ln,this.subtype=Un,this.fontMatrix=Pn.fontMatrix,this.widths=Pn.widths,this.defaultWidth=Pn.defaultWidth,this.toUnicode=Pn.toUnicode,this.seacMap=Pn.seacMap}get renderer(){const _n=$t.FontRendererFactory.create(this,Pt.SEAC_ANALYSIS_ENABLED);return(0,wt.shadow)(this,"renderer",_n)}exportData(_n=!1){const In=_n?[...gn,...nn]:gn,Pn=Object.create(null);let Dn,Ln;for(Dn of In)Ln=this[Dn],Ln!==void 0&&(Pn[Dn]=Ln);return Pn}fallbackToSystemFont(_n){this.missingFile=!0;const{name:In,type:Pn}=this;let Dn=(0,Pt.normalizeFontName)(In);const Ln=(0,Xt.getStdFontMap)(),Un=(0,Xt.getNonStdFontMap)(),tr=!!Ln[Dn],er=!!(Un[Dn]&&Ln[Un[Dn]]);Dn=Ln[Dn]||Un[Dn]||Dn;const Yn=(0,Dt.getFontBasicMetrics)()[Dn];Yn&&(isNaN(this.ascent)&&(this.ascent=Yn.ascent/Qt),isNaN(this.descent)&&(this.descent=Yn.descent/Qt),isNaN(this.capHeight)&&(this.capHeight=Yn.capHeight/Qt)),this.bold=/bold/gi.test(Dn),this.italic=/oblique|italic/gi.test(Dn),this.black=/Black/g.test(In);const Xn=/Narrow/g.test(In);if(this.remeasure=(!tr||Xn)&&Object.keys(this.widths).length>0,(tr||er)&&Pn==="CIDFontType2"&&this.cidEncoding.startsWith("Identity-")){const nr=_n.cidToGidMap,lr=[];if(vn(lr,(0,Xt.getGlyphMapForStandardFonts)()),/Arial-?Black/i.test(In)?vn(lr,(0,Xt.getSupplementalGlyphMapForArialBlack)()):/Calibri/i.test(In)&&vn(lr,(0,Xt.getSupplementalGlyphMapForCalibri)()),nr){for(const dr in lr){const Bn=lr[dr];nr[Bn]!==void 0&&(lr[+dr]=nr[Bn])}nr.length!==this.toUnicode.length&&_n.hasIncludedToUnicodeMap&&this.toUnicode instanceof Kt.IdentityToUnicodeMap&&this.toUnicode.forEach(function(dr,Bn){const Hn=lr[dr];nr[Hn]===void 0&&(lr[+dr]=Bn)})}this.toUnicode instanceof Kt.IdentityToUnicodeMap||this.toUnicode.forEach(function(dr,Bn){lr[+dr]=Bn}),this.toFontChar=lr,this.toUnicode=new Kt.ToUnicodeMap(lr)}else if(/Symbol/i.test(Dn))this.toFontChar=En(Ft.SymbolSetEncoding,(0,bt.getGlyphsUnicode)(),this.differences);else if(/Dingbats/i.test(Dn))this.toFontChar=En(Ft.ZapfDingbatsEncoding,(0,bt.getDingbatsGlyphsUnicode)(),this.differences);else if(tr){const nr=En(this.defaultEncoding,(0,bt.getGlyphsUnicode)(),this.differences);Pn==="CIDFontType2"&&!this.cidEncoding.startsWith("Identity-")&&!(this.toUnicode instanceof Kt.IdentityToUnicodeMap)&&this.toUnicode.forEach(function(lr,dr){nr[+lr]=dr}),this.toFontChar=nr}else{const nr=(0,bt.getGlyphsUnicode)(),lr=[];this.toUnicode.forEach((dr,Bn)=>{if(!this.composite){const Hn=this.differences[dr]||this.defaultEncoding[dr],Wn=(0,_e.getUnicodeForGlyph)(Hn,nr);Wn!==-1&&(Bn=Wn)}lr[+dr]=Bn}),this.composite&&this.toUnicode instanceof Kt.IdentityToUnicodeMap&&/Tahoma|Verdana/i.test(In)&&vn(lr,(0,Xt.getGlyphMapForStandardFonts)()),this.toFontChar=lr}hn(_n),this.loadedName=Dn.split("-")[0]}checkAndRepair(_n,In,Pn){var ns,Ns,Gs;const Dn=["OS/2","cmap","head","hhea","hmtx","maxp","name","post","loca","glyf","fpgm","prep","cvt ","CFF "];function Ln(vr,yr){const Sr=Object.create(null);Sr["OS/2"]=null,Sr.cmap=null,Sr.head=null,Sr.hhea=null,Sr.hmtx=null,Sr.maxp=null,Sr.name=null,Sr.post=null;for(let Pr=0;Pr<yr;Pr++){const jr=Un(vr);Dn.includes(jr.tag)&&jr.length!==0&&(Sr[jr.tag]=jr)}return Sr}function Un(vr){const yr=vr.getString(4),Sr=vr.getInt32()>>>0,Pr=vr.getInt32()>>>0,jr=vr.getInt32()>>>0,es=vr.pos;vr.pos=vr.start||0,vr.skip(Pr);const Or=vr.getBytes(jr);return vr.pos=es,yr==="head"&&(Or[8]=Or[9]=Or[10]=Or[11]=0,Or[17]|=32),{tag:yr,checksum:Sr,length:jr,offset:Pr,data:Or}}function tr(vr){return{version:vr.getString(4),numTables:vr.getUint16(),searchRange:vr.getUint16(),entrySelector:vr.getUint16(),rangeShift:vr.getUint16()}}function er(vr){const yr=vr.getString(4);(0,wt.assert)(yr==="ttcf","Must be a TrueType Collection font.");const Sr=vr.getUint16(),Pr=vr.getUint16(),jr=vr.getInt32()>>>0,es=[];for(let Tr=0;Tr<jr;Tr++)es.push(vr.getInt32()>>>0);const Or={ttcTag:yr,majorVersion:Sr,minorVersion:Pr,numFonts:jr,offsetTable:es};switch(Sr){case 1:return Or;case 2:return Or.dsigTag=vr.getInt32()>>>0,Or.dsigLength=vr.getInt32()>>>0,Or.dsigOffset=vr.getInt32()>>>0,Or}throw new wt.FormatError(`Invalid TrueType Collection majorVersion: ${Sr}.`)}function Qn(vr,yr){var Or;const{numFonts:Sr,offsetTable:Pr}=er(vr),jr=yr.split("+");let es;for(let Tr=0;Tr<Sr;Tr++){vr.pos=(vr.start||0)+Pr[Tr];const Vr=tr(vr),us=Ln(vr,Vr.numTables);if(!us.name)throw new wt.FormatError('TrueType Collection font must contain a "name" table.');const[bs]=Hn(us.name);for(let Jr=0,ss=bs.length;Jr<ss;Jr++)for(let ms=0,Wr=bs[Jr].length;ms<Wr;ms++){const hs=(Or=bs[Jr][ms])==null?void 0:Or.replaceAll(/\s/g,"");if(hs){if(hs===yr)return{header:Vr,tables:us};if(!(jr.length<2))for(const zr of jr)hs===zr&&(es={name:zr,header:Vr,tables:us})}}}if(es)return(0,wt.warn)(`TrueType Collection does not contain "${yr}" font, falling back to "${es.name}" font instead.`),{header:es.header,tables:es.tables};throw new wt.FormatError(`TrueType Collection does not contain "${yr}" font.`)}function Yn(vr,yr,Sr,Pr){if(!vr)return(0,wt.warn)("No cmap table available."),{platformId:-1,encodingId:-1,mappings:[],hasShortCmap:!1};let jr,es=(yr.start||0)+vr.offset;yr.pos=es,yr.skip(2);const Or=yr.getUint16();let Tr,Vr=!1;for(let Wr=0;Wr<Or;Wr++){const hs=yr.getUint16(),zr=yr.getUint16(),gs=yr.getInt32()>>>0;let ws=!1;if(!((Tr==null?void 0:Tr.platformId)===hs&&(Tr==null?void 0:Tr.encodingId)===zr)){if(hs===0&&(zr===0||zr===1||zr===3))ws=!0;else if(hs===1&&zr===0)ws=!0;else if(hs===3&&zr===1&&(Pr||!Tr))ws=!0,Sr||(Vr=!0);else if(Sr&&hs===3&&zr===0){ws=!0;let io=!0;if(Wr<Or-1){const ds=yr.peekBytes(2);Ot(ds[0],ds[1])<hs&&(io=!1)}io&&(Vr=!0)}if(ws&&(Tr={platformId:hs,encodingId:zr,offset:gs}),Vr)break}}if(Tr&&(yr.pos=es+Tr.offset),!Tr||yr.peekByte()===-1)return(0,wt.warn)("Could not find a preferred cmap table."),{platformId:-1,encodingId:-1,mappings:[],hasShortCmap:!1};const us=yr.getUint16();let bs=!1;const Jr=[];let ss,ms;if(us===0){for(yr.skip(4),ss=0;ss<256;ss++){const Wr=yr.getByte();Wr&&Jr.push({charCode:ss,glyphId:Wr})}bs=!0}else if(us===2){yr.skip(4);const Wr=[];let hs=0;for(let gs=0;gs<256;gs++){const ws=yr.getUint16()>>3;Wr.push(ws),hs=Math.max(ws,hs)}const zr=[];for(let gs=0;gs<=hs;gs++)zr.push({firstCode:yr.getUint16(),entryCount:yr.getUint16(),idDelta:an(yr.getByte(),yr.getByte()),idRangePos:yr.pos+yr.getUint16()});for(let gs=0;gs<256;gs++)if(Wr[gs]===0)yr.pos=zr[0].idRangePos+2*gs,ms=yr.getUint16(),Jr.push({charCode:gs,glyphId:ms});else{const ws=zr[Wr[gs]];for(ss=0;ss<ws.entryCount;ss++){const io=(gs<<8)+ss+ws.firstCode;yr.pos=ws.idRangePos+2*ss,ms=yr.getUint16(),ms!==0&&(ms=(ms+ws.idDelta)%65536),Jr.push({charCode:io,glyphId:ms})}}}else if(us===4){yr.skip(4);const Wr=yr.getUint16()>>1;yr.skip(6);const hs=[];let zr;for(zr=0;zr<Wr;zr++)hs.push({end:yr.getUint16()});for(yr.skip(2),zr=0;zr<Wr;zr++)hs[zr].start=yr.getUint16();for(zr=0;zr<Wr;zr++)hs[zr].delta=yr.getUint16();let gs=0,ws;for(zr=0;zr<Wr;zr++){jr=hs[zr];const ds=yr.getUint16();if(!ds){jr.offsetIndex=-1;continue}ws=(ds>>1)-(Wr-zr),jr.offsetIndex=ws,gs=Math.max(gs,ws+jr.end-jr.start+1)}const io=[];for(ss=0;ss<gs;ss++)io.push(yr.getUint16());for(zr=0;zr<Wr;zr++){jr=hs[zr],es=jr.start;const ds=jr.end,fs=jr.delta;for(ws=jr.offsetIndex,ss=es;ss<=ds;ss++)ss!==65535&&(ms=ws<0?ss:io[ws+ss-es],ms=ms+fs&65535,Jr.push({charCode:ss,glyphId:ms}))}}else if(us===6){yr.skip(4);const Wr=yr.getUint16(),hs=yr.getUint16();for(ss=0;ss<hs;ss++){ms=yr.getUint16();const zr=Wr+ss;Jr.push({charCode:zr,glyphId:ms})}}else if(us===12){yr.skip(10);const Wr=yr.getInt32()>>>0;for(ss=0;ss<Wr;ss++){const hs=yr.getInt32()>>>0,zr=yr.getInt32()>>>0;let gs=yr.getInt32()>>>0;for(let ws=hs;ws<=zr;ws++)Jr.push({charCode:ws,glyphId:gs++})}}else return(0,wt.warn)("cmap table has unsupported format: "+us),{platformId:-1,encodingId:-1,mappings:[],hasShortCmap:!1};Jr.sort(function(Wr,hs){return Wr.charCode-hs.charCode});for(let Wr=1;Wr<Jr.length;Wr++)Jr[Wr-1].charCode===Jr[Wr].charCode&&(Jr.splice(Wr,1),Wr--);return{platformId:Tr.platformId,encodingId:Tr.encodingId,mappings:Jr,hasShortCmap:bs}}function Xn(vr,yr,Sr,Pr,jr,es){if(!yr){Sr&&(Sr.data=null);return}vr.pos=(vr.start||0)+yr.offset,vr.pos+=4,vr.pos+=2,vr.pos+=2,vr.pos+=2,vr.pos+=2,vr.pos+=2,vr.pos+=2,vr.pos+=2,vr.pos+=2,vr.pos+=2;const Or=vr.getUint16();vr.pos+=8,vr.pos+=2;let Tr=vr.getUint16();Or!==0&&(Ot(Pr.data[44],Pr.data[45])&2||(yr.data[22]=0,yr.data[23]=0)),Tr>jr&&((0,wt.info)(`The numOfMetrics (${Tr}) should not be greater than the numGlyphs (${jr}).`),Tr=jr,yr.data[34]=(Tr&65280)>>8,yr.data[35]=Tr&255);const us=jr-Tr-(Sr.length-Tr*4>>1);if(us>0){const bs=new Uint8Array(Sr.length+us*2);bs.set(Sr.data),es&&(bs[Sr.length]=Sr.data[2],bs[Sr.length+1]=Sr.data[3]),Sr.data=bs}}function nr(vr,yr,Sr,Pr,jr,es){const Or={length:0,sizeOfInstructions:0};if(yr<0||yr>=vr.length||Sr>vr.length||Sr-yr<=12)return Or;const Tr=vr.subarray(yr,Sr),Vr=an(Tr[2],Tr[3]),us=an(Tr[4],Tr[5]),bs=an(Tr[6],Tr[7]),Jr=an(Tr[8],Tr[9]);Vr>bs&&(zt(Tr,2,bs),zt(Tr,6,Vr)),us>Jr&&(zt(Tr,4,Jr),zt(Tr,8,us));const ss=an(Tr[0],Tr[1]);if(ss<0)return ss<-1||(Pr.set(Tr,jr),Or.length=Tr.length),Or;let ms,Wr=10,hs=0;for(ms=0;ms<ss;ms++)hs=(Tr[Wr]<<8|Tr[Wr+1])+1,Wr+=2;const zr=Wr,gs=Tr[Wr]<<8|Tr[Wr+1];Or.sizeOfInstructions=gs,Wr+=2+gs;const ws=Wr;let io=0;for(ms=0;ms<hs;ms++){const fs=Tr[Wr++];fs&192&&(Tr[Wr-1]=fs&63);let $s=2;fs&2?$s=1:fs&16&&($s=0);let Ys=2;fs&4?Ys=1:fs&32&&(Ys=0);const wo=$s+Ys;if(io+=wo,fs&8){const Tl=Tr[Wr++];Tl===0&&(Tr[Wr-1]^=8),ms+=Tl,io+=Tl*wo}}if(io===0)return Or;let ds=Wr+io;return ds>Tr.length?Or:!es&&gs>0?(Pr.set(Tr.subarray(0,zr),jr),Pr.set([0,0],jr+zr),Pr.set(Tr.subarray(ws,ds),jr+zr+2),ds-=gs,Tr.length-ds>3&&(ds=ds+3&-4),Or.length=ds,Or):Tr.length-ds>3?(ds=ds+3&-4,Pr.set(Tr.subarray(0,ds),jr),Or.length=ds,Or):(Pr.set(Tr,jr),Or.length=Tr.length,Or)}function lr(vr,yr,Sr){const Pr=vr.data,jr=Ht(Pr[0],Pr[1],Pr[2],Pr[3]);jr>>16!==1&&((0,wt.info)("Attempting to fix invalid version in head table: "+jr),Pr[0]=0,Pr[1]=1,Pr[2]=0,Pr[3]=0);const es=Ot(Pr[50],Pr[51]);if(es<0||es>1){(0,wt.info)("Attempting to fix invalid indexToLocFormat in head table: "+es);const Or=yr+1;if(Sr===Or<<1)Pr[50]=0,Pr[51]=0;else if(Sr===Or<<2)Pr[50]=0,Pr[51]=1;else throw new wt.FormatError("Could not fix indexToLocFormat: "+es)}}function dr(vr,yr,Sr,Pr,jr,es,Or){let Tr,Vr,us;Pr?(Tr=4,Vr=function($s,Ys){return $s[Ys]<<24|$s[Ys+1]<<16|$s[Ys+2]<<8|$s[Ys+3]},us=function($s,Ys,wo){$s[Ys]=wo>>>24&255,$s[Ys+1]=wo>>16&255,$s[Ys+2]=wo>>8&255,$s[Ys+3]=wo&255}):(Tr=2,Vr=function($s,Ys){return $s[Ys]<<9|$s[Ys+1]<<1},us=function($s,Ys,wo){$s[Ys]=wo>>9&255,$s[Ys+1]=wo>>1&255});const bs=es?Sr+1:Sr,Jr=Tr*(1+bs),ss=new Uint8Array(Jr);ss.set(vr.data.subarray(0,Jr)),vr.data=ss;const ms=yr.data,Wr=ms.length,hs=new Uint8Array(Wr);let zr,gs;const ws=[];for(zr=0,gs=0;zr<Sr+1;zr++,gs+=Tr){let fs=Vr(ss,gs);fs>Wr&&(fs=Wr),ws.push({index:zr,offset:fs,endOffset:0})}for(ws.sort((fs,$s)=>fs.offset-$s.offset),zr=0;zr<Sr;zr++)ws[zr].endOffset=ws[zr+1].offset;for(ws.sort((fs,$s)=>fs.index-$s.index),zr=0;zr<Sr;zr++){const{offset:fs,endOffset:$s}=ws[zr];if(fs!==0||$s!==0)break;const Ys=ws[zr+1].offset;if(Ys!==0){ws[zr].endOffset=Ys;break}}const io=Object.create(null);let ds=0;for(us(ss,0,ds),zr=0,gs=Tr;zr<Sr;zr++,gs+=Tr){const fs=nr(ms,ws[zr].offset,ws[zr].endOffset,hs,ds,jr),$s=fs.length;$s===0&&(io[zr]=!0),fs.sizeOfInstructions>Or&&(Or=fs.sizeOfInstructions),ds+=$s,us(ss,gs,ds)}if(ds===0){const fs=new Uint8Array([0,1,0,0,0,0,0,0,0,0,0,0,0,0,49,0]);for(zr=0,gs=Tr;zr<bs;zr++,gs+=Tr)us(ss,gs,fs.length);yr.data=fs}else if(es){const fs=Vr(ss,Tr);hs.length>fs+ds?yr.data=hs.subarray(0,fs+ds):(yr.data=new Uint8Array(fs+ds),yr.data.set(hs.subarray(0,ds))),yr.data.set(hs.subarray(0,fs),ds),us(vr.data,ss.length-Tr,ds+fs)}else yr.data=hs.subarray(0,ds);return{missingGlyphs:io,maxSizeOfInstructions:Or}}function Bn(vr,yr,Sr){const Pr=(In.start||0)+vr.offset;In.pos=Pr;const jr=vr.length,es=Pr+jr,Or=In.getInt32();In.skip(28);let Tr,Vr=!0,us;switch(Or){case 65536:Tr=Pt.MacStandardGlyphOrdering;break;case 131072:const bs=In.getUint16();if(bs!==Sr){Vr=!1;break}const Jr=[];for(us=0;us<bs;++us){const Wr=In.getUint16();if(Wr>=32768){Vr=!1;break}Jr.push(Wr)}if(!Vr)break;const ss=[],ms=[];for(;In.pos<es;){const Wr=In.getByte();for(ms.length=Wr,us=0;us<Wr;++us)ms[us]=String.fromCharCode(In.getByte());ss.push(ms.join(""))}for(Tr=[],us=0;us<bs;++us){const Wr=Jr[us];if(Wr<258){Tr.push(Pt.MacStandardGlyphOrdering[Wr]);continue}Tr.push(ss[Wr-258])}break;case 196608:break;default:(0,wt.warn)("Unknown/unsupported post table version "+Or),Vr=!1,yr.defaultEncoding&&(Tr=yr.defaultEncoding);break}return yr.glyphNames=Tr,Vr}function Hn(vr){const yr=(In.start||0)+vr.offset;In.pos=yr;const Sr=[[],[]],Pr=[],jr=vr.length,es=yr+jr;if(In.getUint16()!==0||jr<6)return[Sr,Pr];const Vr=In.getUint16(),us=In.getUint16(),bs=12;let Jr,ss;for(Jr=0;Jr<Vr&&In.pos+bs<=es;Jr++){const ms={platform:In.getUint16(),encoding:In.getUint16(),language:In.getUint16(),name:In.getUint16(),length:In.getUint16(),offset:In.getUint16()};(Fn(ms)||Mn(ms))&&Pr.push(ms)}for(Jr=0,ss=Pr.length;Jr<ss;Jr++){const ms=Pr[Jr];if(ms.length<=0)continue;const Wr=yr+us+ms.offset;if(Wr+ms.length>es)continue;In.pos=Wr;const hs=ms.name;if(ms.encoding){let zr="";for(let gs=0,ws=ms.length;gs<ws;gs+=2)zr+=String.fromCharCode(In.getUint16());Sr[1][hs]=zr}else Sr[0][hs]=In.getString(ms.length)}return[Sr,Pr]}const Wn=[0,0,0,0,0,0,0,0,-2,-2,-2,-2,0,0,-2,-5,-1,-1,-1,-1,-1,-1,-1,-1,0,0,-1,0,-1,-1,-1,-1,1,-1,-999,0,1,0,-1,-2,0,-1,-2,-1,-1,0,-1,-1,0,0,-999,-999,-1,-1,-1,-1,-2,-999,-2,-2,-999,0,-2,-2,0,0,-2,0,-2,0,0,0,-2,-1,-1,1,1,0,0,-1,-1,-1,-1,-1,-1,-1,0,0,-1,0,-1,-1,0,-999,-1,-1,-1,-1,-1,-1,0,0,0,0,0,0,0,0,0,0,0,0,-2,-999,-999,-999,-999,-999,-1,-1,-2,-2,0,0,0,0,-1,-1,-999,-2,-2,0,0,-1,-2,-2,0,0,0,-1,-1,-1,-2];function cr(vr,yr){let Sr=vr.data,Pr=0,jr,es,Or,Tr,Vr,us=0,bs=0;const Jr=[],ss=[],ms=[];let Wr=yr.tooComplexToFollowFunctions,hs=!1,zr=0,gs=0;for(let io=Sr.length;Pr<io;){const ds=Sr[Pr++];if(ds===64)if(es=Sr[Pr++],hs||gs)Pr+=es;else for(jr=0;jr<es;jr++)Jr.push(Sr[Pr++]);else if(ds===65)if(es=Sr[Pr++],hs||gs)Pr+=es*2;else for(jr=0;jr<es;jr++)Or=Sr[Pr++],Jr.push(Or<<8|Sr[Pr++]);else if((ds&248)===176)if(es=ds-176+1,hs||gs)Pr+=es;else for(jr=0;jr<es;jr++)Jr.push(Sr[Pr++]);else if((ds&248)===184)if(es=ds-184+1,hs||gs)Pr+=es*2;else for(jr=0;jr<es;jr++)Or=Sr[Pr++],Jr.push(Or<<8|Sr[Pr++]);else if(ds===43&&!Wr){if(!hs&&!gs){if(Tr=Jr.at(-1),isNaN(Tr))(0,wt.info)("TT: CALL empty stack (or invalid entry).");else if(yr.functionsUsed[Tr]=!0,Tr in yr.functionsStackDeltas){const fs=Jr.length+yr.functionsStackDeltas[Tr];if(fs<0){(0,wt.warn)("TT: CALL invalid functions stack delta."),yr.hintsValid=!1;return}Jr.length=fs}else if(Tr in yr.functionsDefined&&!ms.includes(Tr)){if(ss.push({data:Sr,i:Pr,stackTop:Jr.length-1}),ms.push(Tr),Vr=yr.functionsDefined[Tr],!Vr){(0,wt.warn)("TT: CALL non-existent function"),yr.hintsValid=!1;return}Sr=Vr.data,Pr=Vr.i}}}else if(ds===44&&!Wr)(hs||gs)&&((0,wt.warn)("TT: nested FDEFs not allowed"),Wr=!0),hs=!0,bs=Pr,Tr=Jr.pop(),yr.functionsDefined[Tr]={data:Sr,i:Pr};else if(ds===45)if(hs)hs=!1,us=Pr;else{if(Vr=ss.pop(),!Vr){(0,wt.warn)("TT: ENDF bad stack"),yr.hintsValid=!1;return}Tr=ms.pop(),Sr=Vr.data,Pr=Vr.i,yr.functionsStackDeltas[Tr]=Jr.length-Vr.stackTop}else if(ds===137)(hs||gs)&&((0,wt.warn)("TT: nested IDEFs not allowed"),Wr=!0),hs=!0,bs=Pr;else if(ds===88)++zr;else if(ds===27)gs=zr;else if(ds===89)gs===zr&&(gs=0),--zr;else if(ds===28&&!hs&&!gs){const fs=Jr.at(-1);fs>0&&(Pr+=fs-1)}if(!hs&&!gs){let fs=0;for(ds<=142?fs=Wn[ds]:ds>=192&&ds<=223?fs=-1:ds>=224&&(fs=-2),ds>=113&&ds<=117&&(es=Jr.pop(),isNaN(es)||(fs=-es*2));fs<0&&Jr.length>0;)Jr.pop(),fs++;for(;fs>0;)Jr.push(NaN),fs--}}yr.tooComplexToFollowFunctions=Wr;const ws=[Sr];Pr>Sr.length&&ws.push(new Uint8Array(Pr-Sr.length)),bs>us&&((0,wt.warn)("TT: complementing a missing function tail"),ws.push(new Uint8Array([34,45]))),xr(vr,ws)}function sr(vr,yr){if(!vr.tooComplexToFollowFunctions){if(vr.functionsDefined.length>yr){(0,wt.warn)("TT: more functions defined than expected"),vr.hintsValid=!1;return}for(let Sr=0,Pr=vr.functionsUsed.length;Sr<Pr;Sr++){if(Sr>yr){(0,wt.warn)("TT: invalid function id: "+Sr),vr.hintsValid=!1;return}if(vr.functionsUsed[Sr]&&!vr.functionsDefined[Sr]){(0,wt.warn)("TT: undefined function: "+Sr),vr.hintsValid=!1;return}}}}function xr(vr,yr){if(yr.length>1){let Sr=0,Pr,jr;for(Pr=0,jr=yr.length;Pr<jr;Pr++)Sr+=yr[Pr].length;Sr=Sr+3&-4;const es=new Uint8Array(Sr);let Or=0;for(Pr=0,jr=yr.length;Pr<jr;Pr++)es.set(yr[Pr],Or),Or+=yr[Pr].length;vr.data=es,vr.length=Sr}}function Jn(vr,yr,Sr,Pr){const jr={functionsDefined:[],functionsUsed:[],functionsStackDeltas:[],tooComplexToFollowFunctions:!1,hintsValid:!0};if(vr&&cr(vr,jr),yr&&cr(yr,jr),vr&&sr(jr,Pr),Sr&&Sr.length&1){const es=new Uint8Array(Sr.length+1);es.set(Sr.data),Sr.data=es}return jr.hintsValid}In=new Gt.Stream(new Uint8Array(In.getBytes()));let Vn,Zn;if(on(In)){const vr=Qn(In,this.name);Vn=vr.header,Zn=vr.tables}else Vn=tr(In),Zn=Ln(In,Vn.numTables);let ur,hr;const or=!Zn["CFF "];if(or){if(!Zn.loca)throw new wt.FormatError('Required "loca" table is not found');Zn.glyf||((0,wt.warn)('Required "glyf" table is not found -- trying to recover.'),Zn.glyf={tag:"glyf",data:new Uint8Array(0)}),this.isOpenType=!1}else{const vr=Pn.composite&&(((ns=Pn.cidToGidMap)==null?void 0:ns.length)>0||!(Pn.cMap instanceof Ct.IdentityCMap));if(Vn.version==="OTTO"&&!vr||!Zn.head||!Zn.hhea||!Zn.maxp||!Zn.post)return hr=new Gt.Stream(Zn["CFF "].data),ur=new Nt.CFFFont(hr,Pn),bn(Pn),this.convert(_n,ur,Pn);delete Zn.glyf,delete Zn.loca,delete Zn.fpgm,delete Zn.prep,delete Zn["cvt "],this.isOpenType=!0}if(!Zn.maxp)throw new wt.FormatError('Required "maxp" table is not found');In.pos=(In.start||0)+Zn.maxp.offset;const pr=In.getInt32(),wr=In.getUint16();if(((Ns=Pn.scaleFactors)==null?void 0:Ns.length)===wr&&or){const{scaleFactors:vr}=Pn,yr=Ot(Zn.head.data[50],Zn.head.data[51]),Sr=new jt.GlyfTable({glyfTable:Zn.glyf.data,isGlyphLocationsLong:yr,locaTable:Zn.loca.data,numGlyphs:wr});Sr.scale(vr);const{glyf:Pr,loca:jr,isLocationLong:es}=Sr.write();Zn.glyf.data=Pr,Zn.loca.data=jr,es!==!!yr&&(Zn.head.data[50]=0,Zn.head.data[51]=es?1:0);const Or=Zn.hmtx.data;for(let Tr=0;Tr<wr;Tr++){const Vr=4*Tr,us=Math.round(vr[Tr]*Ot(Or[Vr],Or[Vr+1]));Or[Vr]=us>>8&255,Or[Vr+1]=us&255;const bs=Math.round(vr[Tr]*an(Or[Vr+2],Or[Vr+3]));zt(Or,Vr+2,bs)}}let fr=wr+1,Ar=!0;fr>65535&&(Ar=!1,fr=wr,(0,wt.warn)("Not enough space in glyfs to duplicate first glyph."));let Lr=0,Fr=0;pr>=65536&&Zn.maxp.length>=22&&(In.pos+=8,In.getUint16()>2&&(Zn.maxp.data[14]=0,Zn.maxp.data[15]=2),In.pos+=4,Lr=In.getUint16(),In.pos+=4,Fr=In.getUint16()),Zn.maxp.data[4]=fr>>8,Zn.maxp.data[5]=fr&255;const $r=Jn(Zn.fpgm,Zn.prep,Zn["cvt "],Lr);if($r||(delete Zn.fpgm,delete Zn.prep,delete Zn["cvt "]),Xn(In,Zn.hhea,Zn.hmtx,Zn.head,fr,Ar),!Zn.head)throw new wt.FormatError('Required "head" table is not found');lr(Zn.head,wr,or?Zn.loca.length:0);let Er=Object.create(null);if(or){const vr=Ot(Zn.head.data[50],Zn.head.data[51]),yr=dr(Zn.loca,Zn.glyf,wr,vr,$r,Ar,Fr);Er=yr.missingGlyphs,pr>=65536&&Zn.maxp.length>=22&&(Zn.maxp.data[26]=yr.maxSizeOfInstructions>>8,Zn.maxp.data[27]=yr.maxSizeOfInstructions&255)}if(!Zn.hhea)throw new wt.FormatError('Required "hhea" table is not found');Zn.hhea.data[10]===0&&Zn.hhea.data[11]===0&&(Zn.hhea.data[10]=255,Zn.hhea.data[11]=255);const _r={unitsPerEm:Ot(Zn.head.data[18],Zn.head.data[19]),yMax:an(Zn.head.data[42],Zn.head.data[43]),yMin:an(Zn.head.data[38],Zn.head.data[39]),ascent:an(Zn.hhea.data[4],Zn.hhea.data[5]),descent:an(Zn.hhea.data[6],Zn.hhea.data[7]),lineGap:an(Zn.hhea.data[8],Zn.hhea.data[9])};this.ascent=_r.ascent/_r.unitsPerEm,this.descent=_r.descent/_r.unitsPerEm,this.lineGap=_r.lineGap/_r.unitsPerEm,(Gs=this.cssFontInfo)!=null&&Gs.lineHeight?(this.lineHeight=this.cssFontInfo.metrics.lineHeight,this.lineGap=this.cssFontInfo.metrics.lineGap):this.lineHeight=this.ascent-this.descent+this.lineGap,Zn.post&&Bn(Zn.post,Pn,wr),Zn.post={tag:"post",data:pn(Pn)};const Rr=[];function qr(vr){return!Er[vr]}if(Pn.composite){const vr=Pn.cidToGidMap||[],yr=vr.length===0;Pn.cMap.forEach(function(Sr,Pr){if(typeof Pr=="string"&&(Pr=Tn(Sr,Pr,!0)),Pr>65535)throw new wt.FormatError("Max size of CID is 65,535");let jr=-1;yr?jr=Pr:vr[Pr]!==void 0&&(jr=vr[Pr]),jr>=0&&jr<wr&&qr(jr)&&(Rr[Sr]=jr)})}else{const vr=Yn(Zn.cmap,In,this.isSymbolicFont,Pn.hasEncoding),yr=vr.platformId,Sr=vr.encodingId,Pr=vr.mappings;let jr=[],es=!1;if(Pn.hasEncoding&&(Pn.baseEncodingName==="MacRomanEncoding"||Pn.baseEncodingName==="WinAnsiEncoding")&&(jr=(0,Ft.getEncoding)(Pn.baseEncodingName)),Pn.hasEncoding&&!this.isSymbolicFont&&(yr===3&&Sr===1||yr===1&&Sr===0)){const Or=(0,bt.getGlyphsUnicode)();for(let Tr=0;Tr<256;Tr++){let Vr;if(this.differences[Tr]!==void 0?Vr=this.differences[Tr]:jr.length&&jr[Tr]!==""?Vr=jr[Tr]:Vr=Ft.StandardEncoding[Tr],!Vr)continue;const us=(0,Pt.recoverGlyphName)(Vr,Or);let bs;if(yr===3&&Sr===1?bs=Or[us]:yr===1&&Sr===0&&(bs=Ft.MacRomanEncoding.indexOf(us)),bs===void 0){if(!Pn.glyphNames&&Pn.hasIncludedToUnicodeMap&&!(this.toUnicode instanceof Kt.IdentityToUnicodeMap)){const Jr=this.toUnicode.get(Tr);Jr&&(bs=Jr.codePointAt(0))}if(bs===void 0)continue}for(const Jr of Pr)if(Jr.charCode===bs){Rr[Tr]=Jr.glyphId;break}}}else if(yr===0){for(const Or of Pr)Rr[Or.charCode]=Or.glyphId;es=!0}else for(const Or of Pr){let Tr=Or.charCode;yr===3&&Tr>=61440&&Tr<=61695&&(Tr&=255),Rr[Tr]=Or.glyphId}if(Pn.glyphNames&&(jr.length||this.differences.length))for(let Or=0;Or<256;++Or){if(!es&&Rr[Or]!==void 0)continue;const Tr=this.differences[Or]||jr[Or];if(!Tr)continue;const Vr=Pn.glyphNames.indexOf(Tr);Vr>0&&qr(Vr)&&(Rr[Or]=Vr)}}Rr.length===0&&(Rr[0]=0);let vs=fr-1;if(Ar||(vs=0),!Pn.cssFontInfo){const vr=Sn(Rr,qr,vs,this.toUnicode);this.toFontChar=vr.toFontChar,Zn.cmap={tag:"cmap",data:fn(vr.charCodeToGlyphId,vr.toUnicodeExtraMap,fr)},(!Zn["OS/2"]||!Jt(Zn["OS/2"],In))&&(Zn["OS/2"]={tag:"OS/2",data:un(Pn,vr.charCodeToGlyphId,_r)})}if(!or)try{hr=new Gt.Stream(Zn["CFF "].data),ur=new _t.CFFParser(hr,Pn,Pt.SEAC_ANALYSIS_ENABLED).parse(),ur.duplicateFirstGlyph();const yr=new _t.CFFCompiler(ur);Zn["CFF "].data=yr.compile()}catch{(0,wt.warn)("Failed to compile font "+Pn.loadedName)}if(!Zn.name)Zn.name={tag:"name",data:kn(this.name)};else{const[vr,yr]=Hn(Zn.name);Zn.name.data=kn(_n,vr),this.psName=vr[0][6]||null,Pn.composite||Vt(Pn,this.isSymbolicFont,yr)}const ls=new qt.OpenTypeFileBuilder(Vn.version);for(const vr in Zn)ls.addTable(vr,Zn[vr].data);return ls.toArray()}convert(_n,In,Pn){Pn.fixedPitch=!1,Pn.builtInEncoding&&Yt(Pn,Pn.builtInEncoding);let Dn=1;In instanceof Nt.CFFFont&&(Dn=In.numGlyphs-1);const Ln=In.getGlyphMapping(Pn);let Un=null,tr=Ln,er=null;Pn.cssFontInfo||(Un=Sn(Ln,In.hasGlyphId.bind(In),Dn,this.toUnicode),this.toFontChar=Un.toFontChar,tr=Un.charCodeToGlyphId,er=Un.toUnicodeExtraMap);const Qn=In.numGlyphs;function Yn(Bn,Hn){let Wn=null;for(const cr in Bn)Hn===Bn[cr]&&(Wn||(Wn=[])).push(cr|0);return Wn}function Xn(Bn,Hn){for(const Wn in Bn)if(Hn===Bn[Wn])return Wn|0;return Un.charCodeToGlyphId[Un.nextAvailableFontCharCode]=Hn,Un.nextAvailableFontCharCode++}const nr=In.seacs;if(Un&&Pt.SEAC_ANALYSIS_ENABLED&&(nr!=null&&nr.length)){const Bn=Pn.fontMatrix||wt.FONT_IDENTITY_MATRIX,Hn=In.getCharset(),Wn=Object.create(null);for(let cr in nr){cr|=0;const sr=nr[cr],xr=Ft.StandardEncoding[sr[2]],Jn=Ft.StandardEncoding[sr[3]],Vn=Hn.indexOf(xr),Zn=Hn.indexOf(Jn);if(Vn<0||Zn<0)continue;const ur={x:sr[0]*Bn[0]+sr[1]*Bn[2]+Bn[4],y:sr[0]*Bn[1]+sr[1]*Bn[3]+Bn[5]},hr=Yn(Ln,cr);if(hr)for(const or of hr){const pr=Un.charCodeToGlyphId,wr=Xn(pr,Vn),fr=Xn(pr,Zn);Wn[or]={baseFontCharCode:wr,accentFontCharCode:fr,accentOffset:ur}}}Pn.seacMap=Wn}const lr=1/(Pn.fontMatrix||wt.FONT_IDENTITY_MATRIX)[0],dr=new qt.OpenTypeFileBuilder("OTTO");return dr.addTable("CFF ",In.data),dr.addTable("OS/2",un(Pn,tr)),dr.addTable("cmap",fn(tr,er,Qn)),dr.addTable("head","\0\0\0\0\0\0\0\0\0\0_<\0\0"+tn(lr)+"\0\0\0\0\v~'\0\0\0\0\v~'\0\0"+tn(Pn.descent)+""+tn(Pn.ascent)+Wt(Pn.italicAngle?2:0)+"\0\0\0\0\0\0\0"),dr.addTable("hhea","\0\0\0"+tn(Pn.ascent)+tn(Pn.descent)+"\0\0\0\0\0\0\0\0"+tn(Pn.capHeight)+tn(Math.tan(Pn.italicAngle)*Pn.xHeight)+"\0\0\0\0\0\0\0\0\0\0\0\0"+Wt(Qn)),dr.addTable("hmtx",function(){const Hn=In.charstrings,Wn=In.cff?In.cff.widths:null;let cr="\0\0\0\0";for(let sr=1,xr=Qn;sr<xr;sr++){let Jn=0;if(Hn){const Vn=Hn[sr-1];Jn="width"in Vn?Vn.width:0}else Wn&&(Jn=Math.ceil(Wn[sr]||0));cr+=Wt(Jn)+Wt(0)}return cr}()),dr.addTable("maxp","\0\0P\0"+Wt(Qn)),dr.addTable("name",kn(_n)),dr.addTable("post",pn(Pn)),dr.toArray()}get spaceWidth(){const _n=["space","minus","one","i","I"];let In;for(const Pn of _n){if(Pn in this.widths){In=this.widths[Pn];break}const Ln=(0,bt.getGlyphsUnicode)()[Pn];let Un=0;if(this.composite&&this.cMap.contains(Ln)&&(Un=this.cMap.lookup(Ln),typeof Un=="string"&&(Un=Tn(Ln,Un))),!Un&&this.toUnicode&&(Un=this.toUnicode.charCodeOf(Ln)),Un<=0&&(Un=Ln),In=this.widths[Un],In)break}return(0,wt.shadow)(this,"spaceWidth",In||this.defaultWidth)}_charToGlyph(_n,In=!1){var lr,dr,Bn;let Pn=this._glyphCache[_n];if((Pn==null?void 0:Pn.isSpace)===In)return Pn;let Dn,Ln,Un,tr=_n;(lr=this.cMap)!=null&&lr.contains(_n)&&(tr=this.cMap.lookup(_n),typeof tr=="string"&&(tr=Tn(_n,tr))),Ln=this.widths[tr],typeof Ln!="number"&&(Ln=this.defaultWidth);const er=(dr=this.vmetrics)==null?void 0:dr[tr];let Qn=this.toUnicode.get(_n)||_n;typeof Qn=="number"&&(Qn=String.fromCharCode(Qn));let Yn=this.toFontChar[_n]!==void 0;if(Dn=this.toFontChar[_n]||_n,this.missingFile){const Hn=this.differences[_n]||this.defaultEncoding[_n];(Hn===".notdef"||Hn==="")&&this.type==="Type1"&&(Dn=32),Dn=(0,_e.mapSpecialUnicodeValues)(Dn)}this.isType3Font&&(Un=Dn);let Xn=null;if((Bn=this.seacMap)!=null&&Bn[_n]){Yn=!0;const Hn=this.seacMap[_n];Dn=Hn.baseFontCharCode,Xn={fontChar:String.fromCodePoint(Hn.accentFontCharCode),offset:Hn.accentOffset}}let nr="";return typeof Dn=="number"&&(Dn<=1114111?nr=String.fromCodePoint(Dn):(0,wt.warn)(`charToGlyph - invalid fontCharCode: ${Dn}`)),Pn=new Ut(_n,nr,Qn,Xn,Ln,er,Un,In,Yn),this._glyphCache[_n]=Pn}charsToGlyphs(_n){let In=this._charsCache[_n];if(In)return In;if(In=[],this.cMap){const Pn=Object.create(null),Dn=_n.length;let Ln=0;for(;Ln<Dn;){this.cMap.readCharCode(_n,Ln,Pn);const{charcode:Un,length:tr}=Pn;Ln+=tr;const er=this._charToGlyph(Un,tr===1&&_n.charCodeAt(Ln-1)===32);In.push(er)}}else for(let Pn=0,Dn=_n.length;Pn<Dn;++Pn){const Ln=_n.charCodeAt(Pn),Un=this._charToGlyph(Ln,Ln===32);In.push(Un)}return this._charsCache[_n]=In}getCharPositions(_n){const In=[];if(this.cMap){const Pn=Object.create(null);let Dn=0;for(;Dn<_n.length;){this.cMap.readCharCode(_n,Dn,Pn);const Ln=Pn.length;In.push([Dn,Dn+Ln]),Dn+=Ln}}else for(let Pn=0,Dn=_n.length;Pn<Dn;++Pn)In.push([Pn,Pn+1]);return In}get glyphCacheValues(){return Object.values(this._glyphCache)}encodeString(_n){const In=[],Pn=[],Dn=()=>In.length%2===1,Ln=this.toUnicode instanceof Kt.IdentityToUnicodeMap?Un=>this.toUnicode.charCodeOf(Un):Un=>this.toUnicode.charCodeOf(String.fromCodePoint(Un));for(let Un=0,tr=_n.length;Un<tr;Un++){const er=_n.codePointAt(Un);if(er>55295&&(er<57344||er>65533)&&Un++,this.toUnicode){const Qn=Ln(er);if(Qn!==-1){Dn()&&(In.push(Pn.join("")),Pn.length=0);const Yn=this.cMap?this.cMap.getCharCodeLength(Qn):1;for(let Xn=Yn-1;Xn>=0;Xn--)Pn.push(String.fromCharCode(Qn>>8*Xn&255));continue}}Dn()||(In.push(Pn.join("")),Pn.length=0),Pn.push(String.fromCodePoint(er))}return In.push(Pn.join("")),In}}Et.Font=Rn;class Cn{constructor(_n){this.error=_n,this.loadedName="g_font_error",this.missingFile=!0}charsToGlyphs(){return[]}encodeString(_n){return[_n]}exportData(_n=!1){return{error:this.error}}}Et.ErrorFont=Cn},(kt,Et,Rt)=>{Object.defineProperty(Et,"__esModule",{value:!0}),Et.CFFTopDict=Et.CFFStrings=Et.CFFStandardStrings=Et.CFFPrivateDict=Et.CFFParser=Et.CFFIndex=Et.CFFHeader=Et.CFFFDSelect=Et.CFFCompiler=Et.CFFCharset=Et.CFF=void 0;var wt=Rt(2),_t=Rt(36),Pt=Rt(37);const _e=10,bt=[".notdef","space","exclam","quotedbl","numbersign","dollar","percent","ampersand","quoteright","parenleft","parenright","asterisk","plus","comma","hyphen","period","slash","zero","one","two","three","four","five","six","seven","eight","nine","colon","semicolon","less","equal","greater","question","at","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","bracketleft","backslash","bracketright","asciicircum","underscore","quoteleft","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","braceleft","bar","braceright","asciitilde","exclamdown","cent","sterling","fraction","yen","florin","section","currency","quotesingle","quotedblleft","guillemotleft","guilsinglleft","guilsinglright","fi","fl","endash","dagger","daggerdbl","periodcentered","paragraph","bullet","quotesinglbase","quotedblbase","quotedblright","guillemotright","ellipsis","perthousand","questiondown","grave","acute","circumflex","tilde","macron","breve","dotaccent","dieresis","ring","cedilla","hungarumlaut","ogonek","caron","emdash","AE","ordfeminine","Lslash","Oslash","OE","ordmasculine","ae","dotlessi","lslash","oslash","oe","germandbls","onesuperior","logicalnot","mu","trademark","Eth","onehalf","plusminus","Thorn","onequarter","divide","brokenbar","degree","thorn","threequarters","twosuperior","registered","minus","eth","multiply","threesuperior","copyright","Aacute","Acircumflex","Adieresis","Agrave","Aring","Atilde","Ccedilla","Eacute","Ecircumflex","Edieresis","Egrave","Iacute","Icircumflex","Idieresis","Igrave","Ntilde","Oacute","Ocircumflex","Odieresis","Ograve","Otilde","Scaron","Uacute","Ucircumflex","Udieresis","Ugrave","Yacute","Ydieresis","Zcaron","aacute","acircumflex","adieresis","agrave","aring","atilde","ccedilla","eacute","ecircumflex","edieresis","egrave","iacute","icircumflex","idieresis","igrave","ntilde","oacute","ocircumflex","odieresis","ograve","otilde","scaron","uacute","ucircumflex","udieresis","ugrave","yacute","ydieresis","zcaron","exclamsmall","Hungarumlautsmall","dollaroldstyle","dollarsuperior","ampersandsmall","Acutesmall","parenleftsuperior","parenrightsuperior","twodotenleader","onedotenleader","zerooldstyle","oneoldstyle","twooldstyle","threeoldstyle","fouroldstyle","fiveoldstyle","sixoldstyle","sevenoldstyle","eightoldstyle","nineoldstyle","commasuperior","threequartersemdash","periodsuperior","questionsmall","asuperior","bsuperior","centsuperior","dsuperior","esuperior","isuperior","lsuperior","msuperior","nsuperior","osuperior","rsuperior","ssuperior","tsuperior","ff","ffi","ffl","parenleftinferior","parenrightinferior","Circumflexsmall","hyphensuperior","Gravesmall","Asmall","Bsmall","Csmall","Dsmall","Esmall","Fsmall","Gsmall","Hsmall","Ismall","Jsmall","Ksmall","Lsmall","Msmall","Nsmall","Osmall","Psmall","Qsmall","Rsmall","Ssmall","Tsmall","Usmall","Vsmall","Wsmall","Xsmall","Ysmall","Zsmall","colonmonetary","onefitted","rupiah","Tildesmall","exclamdownsmall","centoldstyle","Lslashsmall","Scaronsmall","Zcaronsmall","Dieresissmall","Brevesmall","Caronsmall","Dotaccentsmall","Macronsmall","figuredash","hypheninferior","Ogoneksmall","Ringsmall","Cedillasmall","questiondownsmall","oneeighth","threeeighths","fiveeighths","seveneighths","onethird","twothirds","zerosuperior","foursuperior","fivesuperior","sixsuperior","sevensuperior","eightsuperior","ninesuperior","zeroinferior","oneinferior","twoinferior","threeinferior","fourinferior","fiveinferior","sixinferior","seveninferior","eightinferior","nineinferior","centinferior","dollarinferior","periodinferior","commainferior","Agravesmall","Aacutesmall","Acircumflexsmall","Atildesmall","Adieresissmall","Aringsmall","AEsmall","Ccedillasmall","Egravesmall","Eacutesmall","Ecircumflexsmall","Edieresissmall","Igravesmall","Iacutesmall","Icircumflexsmall","Idieresissmall","Ethsmall","Ntildesmall","Ogravesmall","Oacutesmall","Ocircumflexsmall","Otildesmall","Odieresissmall","OEsmall","Oslashsmall","Ugravesmall","Uacutesmall","Ucircumflexsmall","Udieresissmall","Yacutesmall","Thornsmall","Ydieresissmall","001.000","001.001","001.002","001.003","Black","Bold","Book","Light","Medium","Regular","Roman","Semibold"];Et.CFFStandardStrings=bt;const Ft=391,Xt=[null,{id:"hstem",min:2,stackClearing:!0,stem:!0},null,{id:"vstem",min:2,stackClearing:!0,stem:!0},{id:"vmoveto",min:1,stackClearing:!0},{id:"rlineto",min:2,resetStack:!0},{id:"hlineto",min:1,resetStack:!0},{id:"vlineto",min:1,resetStack:!0},{id:"rrcurveto",min:6,resetStack:!0},null,{id:"callsubr",min:1,undefStack:!0},{id:"return",min:0,undefStack:!0},null,null,{id:"endchar",min:0,stackClearing:!0},null,null,null,{id:"hstemhm",min:2,stackClearing:!0,stem:!0},{id:"hintmask",min:0,stackClearing:!0},{id:"cntrmask",min:0,stackClearing:!0},{id:"rmoveto",min:2,stackClearing:!0},{id:"hmoveto",min:1,stackClearing:!0},{id:"vstemhm",min:2,stackClearing:!0,stem:!0},{id:"rcurveline",min:8,resetStack:!0},{id:"rlinecurve",min:8,resetStack:!0},{id:"vvcurveto",min:4,resetStack:!0},{id:"hhcurveto",min:4,resetStack:!0},null,{id:"callgsubr",min:1,undefStack:!0},{id:"vhcurveto",min:4,resetStack:!0},{id:"hvcurveto",min:4,resetStack:!0}],Kt=[null,null,null,{id:"and",min:2,stackDelta:-1},{id:"or",min:2,stackDelta:-1},{id:"not",min:1,stackDelta:0},null,null,null,{id:"abs",min:1,stackDelta:0},{id:"add",min:2,stackDelta:-1,stackFn(hn,Ut){hn[Ut-2]=hn[Ut-2]+hn[Ut-1]}},{id:"sub",min:2,stackDelta:-1,stackFn(hn,Ut){hn[Ut-2]=hn[Ut-2]-hn[Ut-1]}},{id:"div",min:2,stackDelta:-1,stackFn(hn,Ut){hn[Ut-2]=hn[Ut-2]/hn[Ut-1]}},null,{id:"neg",min:1,stackDelta:0,stackFn(hn,Ut){hn[Ut-1]=-hn[Ut-1]}},{id:"eq",min:2,stackDelta:-1},null,null,{id:"drop",min:1,stackDelta:-1},null,{id:"put",min:2,stackDelta:-2},{id:"get",min:1,stackDelta:0},{id:"ifelse",min:4,stackDelta:-3},{id:"random",min:0,stackDelta:1},{id:"mul",min:2,stackDelta:-1,stackFn(hn,Ut){hn[Ut-2]=hn[Ut-2]*hn[Ut-1]}},null,{id:"sqrt",min:1,stackDelta:0},{id:"dup",min:1,stackDelta:1},{id:"exch",min:2,stackDelta:0},{id:"index",min:2,stackDelta:0},{id:"roll",min:3,stackDelta:-2},null,null,null,{id:"hflex",min:7,resetStack:!0},{id:"flex",min:13,resetStack:!0},{id:"hflex1",min:9,resetStack:!0},{id:"flex1",min:11,resetStack:!0}];class Nt{constructor(Ut,Ot,zt){this.bytes=Ut.getBytes(),this.properties=Ot,this.seacAnalysisEnabled=!!zt}parse(){const Ut=this.properties,Ot=new $t;this.cff=Ot;const zt=this.parseHeader(),an=this.parseIndex(zt.endPos),Ht=this.parseIndex(an.endPos),Wt=this.parseIndex(Ht.endPos),tn=this.parseIndex(Wt.endPos),ln=this.parseDict(Ht.obj.get(0)),on=this.createDict(Gt,ln,Ot.strings);Ot.header=zt.obj,Ot.names=this.parseNameIndex(an.obj),Ot.strings=this.parseStringIndex(Wt.obj),Ot.topDict=on,Ot.globalSubrIndex=tn.obj,this.parsePrivateDict(Ot.topDict),Ot.isCIDFont=on.hasName("ROS");const cn=on.getByName("CharStrings"),sn=this.parseIndex(cn).obj,rn=on.getByName("FontMatrix");rn&&(Ut.fontMatrix=rn);const xn=on.getByName("FontBBox");xn&&(Ut.ascent=Math.max(xn[3],xn[1]),Ut.descent=Math.min(xn[1],xn[3]),Ut.ascentScaled=!0);let vn,En;if(Ot.isCIDFont){const Mn=this.parseIndex(on.getByName("FDArray")).obj;for(let Tn=0,Sn=Mn.count;Tn<Sn;++Tn){const mn=Mn.get(Tn),fn=this.createDict(Gt,this.parseDict(mn),Ot.strings);this.parsePrivateDict(fn),Ot.fdArray.push(fn)}En=null,vn=this.parseCharsets(on.getByName("charset"),sn.count,Ot.strings,!0),Ot.fdSelect=this.parseFDSelect(on.getByName("FDSelect"),sn.count)}else vn=this.parseCharsets(on.getByName("charset"),sn.count,Ot.strings,!1),En=this.parseEncoding(on.getByName("Encoding"),Ut,Ot.strings,vn.charset);Ot.charset=vn,Ot.encoding=En;const Fn=this.parseCharStrings({charStrings:sn,localSubrIndex:on.privateDict.subrsIndex,globalSubrIndex:tn.obj,fdSelect:Ot.fdSelect,fdArray:Ot.fdArray,privateDict:on.privateDict});return Ot.charStrings=Fn.charStrings,Ot.seacs=Fn.seacs,Ot.widths=Fn.widths,Ot}parseHeader(){let Ut=this.bytes;const Ot=Ut.length;let zt=0;for(;zt<Ot&&Ut[zt]!==1;)++zt;if(zt>=Ot)throw new wt.FormatError("Invalid CFF header");zt!==0&&((0,wt.info)("cff data is shifted"),Ut=Ut.subarray(zt),this.bytes=Ut);const an=Ut[0],Ht=Ut[1],Wt=Ut[2],tn=Ut[3];return{obj:new Dt(an,Ht,Wt,tn),endPos:Wt}}parseDict(Ut){let Ot=0;function zt(){let ln=Ut[Ot++];return ln===30?an():ln===28?(ln=Ut[Ot++],ln=(ln<<24|Ut[Ot++]<<16)>>16,ln):ln===29?(ln=Ut[Ot++],ln=ln<<8|Ut[Ot++],ln=ln<<8|Ut[Ot++],ln=ln<<8|Ut[Ot++],ln):ln>=32&&ln<=246?ln-139:ln>=247&&ln<=250?(ln-247)*256+Ut[Ot++]+108:ln>=251&&ln<=254?-((ln-251)*256)-Ut[Ot++]-108:((0,wt.warn)('CFFParser_parseDict: "'+ln+'" is a reserved command.'),NaN)}function an(){let ln="";const cn=["0","1","2","3","4","5","6","7","8","9",".","E","E-",null,"-"],sn=Ut.length;for(;Ot<sn;){const rn=Ut[Ot++],xn=rn>>4,vn=rn&15;if(xn===15||(ln+=cn[xn],vn===15))break;ln+=cn[vn]}return parseFloat(ln)}let Ht=[];const Wt=[];Ot=0;const tn=Ut.length;for(;Ot<tn;){let ln=Ut[Ot];ln<=21?(ln===12&&(ln=ln<<8|Ut[++Ot]),Wt.push([ln,Ht]),Ht=[],++Ot):Ht.push(zt())}return Wt}parseIndex(Ut){const Ot=new Ct,zt=this.bytes,an=zt[Ut++]<<8|zt[Ut++],Ht=[];let Wt=Ut,tn,ln;if(an!==0){const on=zt[Ut++],cn=Ut+(an+1)*on-1;for(tn=0,ln=an+1;tn<ln;++tn){let sn=0;for(let rn=0;rn<on;++rn)sn<<=8,sn+=zt[Ut++];Ht.push(cn+sn)}Wt=Ht[an]}for(tn=0,ln=Ht.length-1;tn<ln;++tn){const on=Ht[tn],cn=Ht[tn+1];Ot.add(zt.subarray(on,cn))}return{obj:Ot,endPos:Wt}}parseNameIndex(Ut){const Ot=[];for(let zt=0,an=Ut.count;zt<an;++zt){const Ht=Ut.get(zt);Ot.push((0,wt.bytesToString)(Ht))}return Ot}parseStringIndex(Ut){const Ot=new jt;for(let zt=0,an=Ut.count;zt<an;++zt){const Ht=Ut.get(zt);Ot.add((0,wt.bytesToString)(Ht))}return Ot}createDict(Ut,Ot,zt){const an=new Ut(zt);for(const[Ht,Wt]of Ot)an.setByKey(Ht,Wt);return an}parseCharString(Ut,Ot,zt,an){if(!Ot||Ut.callDepth>_e)return!1;let Ht=Ut.stackSize;const Wt=Ut.stack;let tn=Ot.length;for(let ln=0;ln<tn;){const on=Ot[ln++];let cn=null;if(on===12){const sn=Ot[ln++];sn===0?(Ot[ln-2]=139,Ot[ln-1]=22,Ht=0):cn=Kt[sn]}else if(on===28)Wt[Ht]=(Ot[ln]<<24|Ot[ln+1]<<16)>>16,ln+=2,Ht++;else if(on===14){if(Ht>=4&&(Ht-=4,this.seacAnalysisEnabled))return Ut.seac=Wt.slice(Ht,Ht+4),!1;cn=Xt[on]}else if(on>=32&&on<=246)Wt[Ht]=on-139,Ht++;else if(on>=247&&on<=254)Wt[Ht]=on<251?(on-247<<8)+Ot[ln]+108:-(on-251<<8)-Ot[ln]-108,ln++,Ht++;else if(on===255)Wt[Ht]=(Ot[ln]<<24|Ot[ln+1]<<16|Ot[ln+2]<<8|Ot[ln+3])/65536,ln+=4,Ht++;else if(on===19||on===20){if(Ut.hints+=Ht>>1,Ut.hints===0){Ot.copyWithin(ln-1,ln,-1),ln-=1,tn-=1;continue}ln+=Ut.hints+7>>3,Ht%=2,cn=Xt[on]}else if(on===10||on===29){const sn=on===10?zt:an;if(!sn)return cn=Xt[on],(0,wt.warn)("Missing subrsIndex for "+cn.id),!1;let rn=32768;sn.count<1240?rn=107:sn.count<33900&&(rn=1131);const xn=Wt[--Ht]+rn;if(xn<0||xn>=sn.count||isNaN(xn))return cn=Xt[on],(0,wt.warn)("Out of bounds subrIndex for "+cn.id),!1;if(Ut.stackSize=Ht,Ut.callDepth++,!this.parseCharString(Ut,sn.get(xn),zt,an))return!1;Ut.callDepth--,Ht=Ut.stackSize;continue}else{if(on===11)return Ut.stackSize=Ht,!0;if(on===0&&ln===Ot.length)Ot[ln-1]=14,cn=Xt[14];else if(on===9){Ot.copyWithin(ln-1,ln,-1),ln-=1,tn-=1;continue}else cn=Xt[on]}if(cn){if(cn.stem&&(Ut.hints+=Ht>>1,on===3||on===23?Ut.hasVStems=!0:Ut.hasVStems&&(on===1||on===18)&&((0,wt.warn)("CFF stem hints are in wrong order"),Ot[ln-1]=on===1?3:23)),"min"in cn&&!Ut.undefStack&&Ht<cn.min)return(0,wt.warn)("Not enough parameters for "+cn.id+"; actual: "+Ht+", expected: "+cn.min),Ht===0?(Ot[ln-1]=14,!0):!1;Ut.firstStackClearing&&cn.stackClearing&&(Ut.firstStackClearing=!1,Ht-=cn.min,Ht>=2&&cn.stem?Ht%=2:Ht>1&&(0,wt.warn)("Found too many parameters for stack-clearing command"),Ht>0&&(Ut.width=Wt[Ht-1])),"stackDelta"in cn?("stackFn"in cn&&cn.stackFn(Wt,Ht),Ht+=cn.stackDelta):cn.stackClearing?Ht=0:cn.resetStack?(Ht=0,Ut.undefStack=!1):cn.undefStack&&(Ht=0,Ut.undefStack=!0,Ut.firstStackClearing=!1)}}return tn<Ot.length&&Ot.fill(14,tn),Ut.stackSize=Ht,!0}parseCharStrings({charStrings:Ut,localSubrIndex:Ot,globalSubrIndex:zt,fdSelect:an,fdArray:Ht,privateDict:Wt}){const tn=[],ln=[],on=Ut.count;for(let cn=0;cn<on;cn++){const sn=Ut.get(cn),rn={callDepth:0,stackSize:0,stack:[],undefStack:!0,hints:0,firstStackClearing:!0,seac:null,width:null,hasVStems:!1};let xn=!0,vn=null,En=Wt;if(an&&Ht.length){const Fn=an.getFDIndex(cn);Fn===-1&&((0,wt.warn)("Glyph index is not in fd select."),xn=!1),Fn>=Ht.length&&((0,wt.warn)("Invalid fd index for glyph index."),xn=!1),xn&&(En=Ht[Fn].privateDict,vn=En.subrsIndex)}else Ot&&(vn=Ot);if(xn&&(xn=this.parseCharString(rn,sn,vn,zt)),rn.width!==null){const Fn=En.getByName("nominalWidthX");ln[cn]=Fn+rn.width}else{const Fn=En.getByName("defaultWidthX");ln[cn]=Fn}rn.seac!==null&&(tn[cn]=rn.seac),xn||Ut.set(cn,new Uint8Array([14]))}return{charStrings:Ut,seacs:tn,widths:ln}}emptyPrivateDictionary(Ut){const Ot=this.createDict(dn,[],Ut.strings);Ut.setByKey(18,[0,0]),Ut.privateDict=Ot}parsePrivateDict(Ut){if(!Ut.hasName("Private")){this.emptyPrivateDictionary(Ut);return}const Ot=Ut.getByName("Private");if(!Array.isArray(Ot)||Ot.length!==2){Ut.removeByName("Private");return}const zt=Ot[0],an=Ot[1];if(zt===0||an>=this.bytes.length){this.emptyPrivateDictionary(Ut);return}const Ht=an+zt,Wt=this.bytes.subarray(an,Ht),tn=this.parseDict(Wt),ln=this.createDict(dn,tn,Ut.strings);if(Ut.privateDict=ln,ln.getByName("ExpansionFactor")===0&&ln.setByName("ExpansionFactor",.06),!ln.getByName("Subrs"))return;const on=ln.getByName("Subrs"),cn=an+on;if(on===0||cn>=this.bytes.length){this.emptyPrivateDictionary(Ut);return}const sn=this.parseIndex(cn);ln.subrsIndex=sn.obj}parseCharsets(Ut,Ot,zt,an){if(Ut===0)return new gn(!0,Qt.ISO_ADOBE,_t.ISOAdobeCharset);if(Ut===1)return new gn(!0,Qt.EXPERT,_t.ExpertCharset);if(Ut===2)return new gn(!0,Qt.EXPERT_SUBSET,_t.ExpertSubsetCharset);const Ht=this.bytes,Wt=Ut,tn=Ht[Ut++],ln=[an?0:".notdef"];let on,cn,sn;switch(Ot-=1,tn){case 0:for(sn=0;sn<Ot;sn++)on=Ht[Ut++]<<8|Ht[Ut++],ln.push(an?on:zt.get(on));break;case 1:for(;ln.length<=Ot;)for(on=Ht[Ut++]<<8|Ht[Ut++],cn=Ht[Ut++],sn=0;sn<=cn;sn++)ln.push(an?on++:zt.get(on++));break;case 2:for(;ln.length<=Ot;)for(on=Ht[Ut++]<<8|Ht[Ut++],cn=Ht[Ut++]<<8|Ht[Ut++],sn=0;sn<=cn;sn++)ln.push(an?on++:zt.get(on++));break;default:throw new wt.FormatError("Unknown charset format")}const rn=Ut,xn=Ht.subarray(Wt,rn);return new gn(!1,tn,ln,xn)}parseEncoding(Ut,Ot,zt,an){const Ht=Object.create(null),Wt=this.bytes;let tn=!1,ln,on,cn,sn=null;function rn(){const xn=Wt[Ut++];for(on=0;on<xn;on++){const vn=Wt[Ut++],En=(Wt[Ut++]<<8)+(Wt[Ut++]&255);Ht[vn]=an.indexOf(zt.get(En))}}if(Ut===0||Ut===1){tn=!0,ln=Ut;const xn=Ut?Pt.ExpertEncoding:Pt.StandardEncoding;for(on=0,cn=an.length;on<cn;on++){const vn=xn.indexOf(an[on]);vn!==-1&&(Ht[vn]=on)}}else{const xn=Ut;switch(ln=Wt[Ut++],ln&127){case 0:const En=Wt[Ut++];for(on=1;on<=En;on++)Ht[Wt[Ut++]]=on;break;case 1:const Fn=Wt[Ut++];let Mn=1;for(on=0;on<Fn;on++){const Tn=Wt[Ut++],Sn=Wt[Ut++];for(let mn=Tn;mn<=Tn+Sn;mn++)Ht[mn]=Mn++}break;default:throw new wt.FormatError(`Unknown encoding format: ${ln} in CFF`)}const vn=Ut;ln&128&&(Wt[xn]&=127,rn()),sn=Wt.subarray(xn,vn)}return ln&=127,new nn(tn,ln,Ht,sn)}parseFDSelect(Ut,Ot){const zt=this.bytes,an=zt[Ut++],Ht=[];let Wt;switch(an){case 0:for(Wt=0;Wt<Ot;++Wt){const ln=zt[Ut++];Ht.push(ln)}break;case 3:const tn=zt[Ut++]<<8|zt[Ut++];for(Wt=0;Wt<tn;++Wt){let ln=zt[Ut++]<<8|zt[Ut++];Wt===0&&ln!==0&&((0,wt.warn)("parseFDSelect: The first range must have a first GID of 0 -- trying to recover."),ln=0);const on=zt[Ut++],cn=zt[Ut]<<8|zt[Ut+1];for(let sn=ln;sn<cn;++sn)Ht.push(on)}Ut+=2;break;default:throw new wt.FormatError(`parseFDSelect: Unknown format "${an}".`)}if(Ht.length!==Ot)throw new wt.FormatError("parseFDSelect: Invalid font data.");return new bn(an,Ht)}}Et.CFFParser=Nt;class $t{constructor(){this.header=null,this.names=[],this.topDict=null,this.strings=new jt,this.globalSubrIndex=null,this.encoding=null,this.charset=null,this.charStrings=null,this.fdArray=[],this.fdSelect=null,this.isCIDFont=!1}duplicateFirstGlyph(){if(this.charStrings.count>=65535){(0,wt.warn)("Not enough space in charstrings to duplicate first glyph.");return}const Ut=this.charStrings.get(0);this.charStrings.add(Ut),this.isCIDFont&&this.fdSelect.fdSelect.push(this.fdSelect.fdSelect[0])}hasGlyphId(Ut){return Ut<0||Ut>=this.charStrings.count?!1:this.charStrings.get(Ut).length>0}}Et.CFF=$t;class Dt{constructor(Ut,Ot,zt,an){this.major=Ut,this.minor=Ot,this.hdrSize=zt,this.offSize=an}}Et.CFFHeader=Dt;class jt{constructor(){this.strings=[]}get(Ut){return Ut>=0&&Ut<=Ft-1?bt[Ut]:Ut-Ft<=this.strings.length?this.strings[Ut-Ft]:bt[0]}getSID(Ut){let Ot=bt.indexOf(Ut);return Ot!==-1?Ot:(Ot=this.strings.indexOf(Ut),Ot!==-1?Ot+Ft:-1)}add(Ut){this.strings.push(Ut)}get count(){return this.strings.length}}Et.CFFStrings=jt;class Ct{constructor(){this.objects=[],this.length=0}add(Ut){this.length+=Ut.length,this.objects.push(Ut)}set(Ut,Ot){this.length+=Ot.length-this.objects[Ut].length,this.objects[Ut]=Ot}get(Ut){return this.objects[Ut]}get count(){return this.objects.length}}Et.CFFIndex=Ct;class qt{constructor(Ut,Ot){this.keyToNameMap=Ut.keyToNameMap,this.nameToKeyMap=Ut.nameToKeyMap,this.defaults=Ut.defaults,this.types=Ut.types,this.opcodes=Ut.opcodes,this.order=Ut.order,this.strings=Ot,this.values=Object.create(null)}setByKey(Ut,Ot){if(!(Ut in this.keyToNameMap))return!1;if(Ot.length===0)return!0;for(const an of Ot)if(isNaN(an))return(0,wt.warn)(`Invalid CFFDict value: "${Ot}" for key "${Ut}".`),!0;const zt=this.types[Ut];return(zt==="num"||zt==="sid"||zt==="offset")&&(Ot=Ot[0]),this.values[Ut]=Ot,!0}setByName(Ut,Ot){if(!(Ut in this.nameToKeyMap))throw new wt.FormatError(`Invalid dictionary name "${Ut}"`);this.values[this.nameToKeyMap[Ut]]=Ot}hasName(Ut){return this.nameToKeyMap[Ut]in this.values}getByName(Ut){if(!(Ut in this.nameToKeyMap))throw new wt.FormatError(`Invalid dictionary name ${Ut}"`);const Ot=this.nameToKeyMap[Ut];return Ot in this.values?this.values[Ot]:this.defaults[Ot]}removeByName(Ut){delete this.values[this.nameToKeyMap[Ut]]}static createTables(Ut){const Ot={keyToNameMap:{},nameToKeyMap:{},defaults:{},types:{},opcodes:{},order:[]};for(const zt of Ut){const an=Array.isArray(zt[0])?(zt[0][0]<<8)+zt[0][1]:zt[0];Ot.keyToNameMap[an]=zt[1],Ot.nameToKeyMap[zt[1]]=an,Ot.types[an]=zt[2],Ot.defaults[an]=zt[3],Ot.opcodes[an]=Array.isArray(zt[0])?zt[0]:[zt[0]],Ot.order.push(an)}return Ot}}const Bt=[[[12,30],"ROS",["sid","sid","num"],null],[[12,20],"SyntheticBase","num",null],[0,"version","sid",null],[1,"Notice","sid",null],[[12,0],"Copyright","sid",null],[2,"FullName","sid",null],[3,"FamilyName","sid",null],[4,"Weight","sid",null],[[12,1],"isFixedPitch","num",0],[[12,2],"ItalicAngle","num",0],[[12,3],"UnderlinePosition","num",-100],[[12,4],"UnderlineThickness","num",50],[[12,5],"PaintType","num",0],[[12,6],"CharstringType","num",2],[[12,7],"FontMatrix",["num","num","num","num","num","num"],[.001,0,0,.001,0,0]],[13,"UniqueID","num",null],[5,"FontBBox",["num","num","num","num"],[0,0,0,0]],[[12,8],"StrokeWidth","num",0],[14,"XUID","array",null],[15,"charset","offset",0],[16,"Encoding","offset",0],[17,"CharStrings","offset",0],[18,"Private",["offset","offset"],null],[[12,21],"PostScript","sid",null],[[12,22],"BaseFontName","sid",null],[[12,23],"BaseFontBlend","delta",null],[[12,31],"CIDFontVersion","num",0],[[12,32],"CIDFontRevision","num",0],[[12,33],"CIDFontType","num",0],[[12,34],"CIDCount","num",8720],[[12,35],"UIDBase","num",null],[[12,37],"FDSelect","offset",null],[[12,36],"FDArray","offset",null],[[12,38],"FontName","sid",null]];class Gt extends qt{static get tables(){return(0,wt.shadow)(this,"tables",this.createTables(Bt))}constructor(Ut){super(Gt.tables,Ut),this.privateDict=null}}Et.CFFTopDict=Gt;const en=[[6,"BlueValues","delta",null],[7,"OtherBlues","delta",null],[8,"FamilyBlues","delta",null],[9,"FamilyOtherBlues","delta",null],[[12,9],"BlueScale","num",.039625],[[12,10],"BlueShift","num",7],[[12,11],"BlueFuzz","num",1],[10,"StdHW","num",null],[11,"StdVW","num",null],[[12,12],"StemSnapH","delta",null],[[12,13],"StemSnapV","delta",null],[[12,14],"ForceBold","num",0],[[12,17],"LanguageGroup","num",0],[[12,18],"ExpansionFactor","num",.06],[[12,19],"initialRandomSeed","num",0],[20,"defaultWidthX","num",0],[21,"nominalWidthX","num",0],[19,"Subrs","offset",null]];class dn extends qt{static get tables(){return(0,wt.shadow)(this,"tables",this.createTables(en))}constructor(Ut){super(dn.tables,Ut),this.subrsIndex=null}}Et.CFFPrivateDict=dn;const Qt={ISO_ADOBE:0,EXPERT:1,EXPERT_SUBSET:2};class gn{constructor(Ut,Ot,zt,an){this.predefined=Ut,this.format=Ot,this.charset=zt,this.raw=an}}Et.CFFCharset=gn;class nn{constructor(Ut,Ot,zt,an){this.predefined=Ut,this.format=Ot,this.encoding=zt,this.raw=an}}class bn{constructor(Ut,Ot){this.format=Ut,this.fdSelect=Ot}getFDIndex(Ut){return Ut<0||Ut>=this.fdSelect.length?-1:this.fdSelect[Ut]}}Et.CFFFDSelect=bn;class Vt{constructor(){this.offsets=Object.create(null)}isTracking(Ut){return Ut in this.offsets}track(Ut,Ot){if(Ut in this.offsets)throw new wt.FormatError(`Already tracking location of ${Ut}`);this.offsets[Ut]=Ot}offset(Ut){for(const Ot in this.offsets)this.offsets[Ot]+=Ut}setEntryLocation(Ut,Ot,zt){if(!(Ut in this.offsets))throw new wt.FormatError(`Not tracking location of ${Ut}`);const an=zt.data,Ht=this.offsets[Ut],Wt=5;for(let tn=0,ln=Ot.length;tn<ln;++tn){const on=tn*Wt+Ht,cn=on+1,sn=on+2,rn=on+3,xn=on+4;if(an[on]!==29||an[cn]!==0||an[sn]!==0||an[rn]!==0||an[xn]!==0)throw new wt.FormatError("writing to an offset that is not empty");const vn=Ot[tn];an[on]=29,an[cn]=vn>>24&255,an[sn]=vn>>16&255,an[rn]=vn>>8&255,an[xn]=vn&255}}}class Yt{constructor(Ut){this.cff=Ut}compile(){const Ut=this.cff,Ot={data:[],length:0,add(rn){try{this.data.push(...rn)}catch{this.data=this.data.concat(rn)}this.length=this.data.length}},zt=this.compileHeader(Ut.header);Ot.add(zt);const an=this.compileNameIndex(Ut.names);if(Ot.add(an),Ut.isCIDFont&&Ut.topDict.hasName("FontMatrix")){const rn=Ut.topDict.getByName("FontMatrix");Ut.topDict.removeByName("FontMatrix");for(const xn of Ut.fdArray){let vn=rn.slice(0);xn.hasName("FontMatrix")&&(vn=wt.Util.transform(vn,xn.getByName("FontMatrix"))),xn.setByName("FontMatrix",vn)}}const Ht=Ut.topDict.getByName("XUID");(Ht==null?void 0:Ht.length)>16&&Ut.topDict.removeByName("XUID"),Ut.topDict.setByName("charset",0);let Wt=this.compileTopDicts([Ut.topDict],Ot.length,Ut.isCIDFont);Ot.add(Wt.output);const tn=Wt.trackers[0],ln=this.compileStringIndex(Ut.strings.strings);Ot.add(ln);const on=this.compileIndex(Ut.globalSubrIndex);if(Ot.add(on),Ut.encoding&&Ut.topDict.hasName("Encoding"))if(Ut.encoding.predefined)tn.setEntryLocation("Encoding",[Ut.encoding.format],Ot);else{const rn=this.compileEncoding(Ut.encoding);tn.setEntryLocation("Encoding",[Ot.length],Ot),Ot.add(rn)}const cn=this.compileCharset(Ut.charset,Ut.charStrings.count,Ut.strings,Ut.isCIDFont);tn.setEntryLocation("charset",[Ot.length],Ot),Ot.add(cn);const sn=this.compileCharStrings(Ut.charStrings);if(tn.setEntryLocation("CharStrings",[Ot.length],Ot),Ot.add(sn),Ut.isCIDFont){tn.setEntryLocation("FDSelect",[Ot.length],Ot);const rn=this.compileFDSelect(Ut.fdSelect);Ot.add(rn),Wt=this.compileTopDicts(Ut.fdArray,Ot.length,!0),tn.setEntryLocation("FDArray",[Ot.length],Ot),Ot.add(Wt.output);const xn=Wt.trackers;this.compilePrivateDicts(Ut.fdArray,xn,Ot)}return this.compilePrivateDicts([Ut.topDict],[tn],Ot),Ot.add([0]),Ot.data}encodeNumber(Ut){return Number.isInteger(Ut)?this.encodeInteger(Ut):this.encodeFloat(Ut)}static get EncodeFloatRegExp(){return(0,wt.shadow)(this,"EncodeFloatRegExp",/\.(\d*?)(?:9{5,20}|0{5,20})\d{0,2}(?:e(.+)|$)/)}encodeFloat(Ut){let Ot=Ut.toString();const zt=Yt.EncodeFloatRegExp.exec(Ot);if(zt){const ln=parseFloat("1e"+((zt[2]?+zt[2]:0)+zt[1].length));Ot=(Math.round(Ut*ln)/ln).toString()}let an="",Ht,Wt;for(Ht=0,Wt=Ot.length;Ht<Wt;++Ht){const ln=Ot[Ht];ln==="e"?an+=Ot[++Ht]==="-"?"c":"b":ln==="."?an+="a":ln==="-"?an+="e":an+=ln}an+=an.length&1?"f":"ff";const tn=[30];for(Ht=0,Wt=an.length;Ht<Wt;Ht+=2)tn.push(parseInt(an.substring(Ht,Ht+2),16));return tn}encodeInteger(Ut){let Ot;return Ut>=-107&&Ut<=107?Ot=[Ut+139]:Ut>=108&&Ut<=1131?(Ut-=108,Ot=[(Ut>>8)+247,Ut&255]):Ut>=-1131&&Ut<=-108?(Ut=-Ut-108,Ot=[(Ut>>8)+251,Ut&255]):Ut>=-32768&&Ut<=32767?Ot=[28,Ut>>8&255,Ut&255]:Ot=[29,Ut>>24&255,Ut>>16&255,Ut>>8&255,Ut&255],Ot}compileHeader(Ut){return[Ut.major,Ut.minor,4,Ut.offSize]}compileNameIndex(Ut){const Ot=new Ct;for(const zt of Ut){const an=Math.min(zt.length,127);let Ht=new Array(an);for(let Wt=0;Wt<an;Wt++){let tn=zt[Wt];(tn<"!"||tn>"~"||tn==="["||tn==="]"||tn==="("||tn===")"||tn==="{"||tn==="}"||tn==="<"||tn===">"||tn==="/"||tn==="%")&&(tn="_"),Ht[Wt]=tn}Ht=Ht.join(""),Ht===""&&(Ht="Bad_Font_Name"),Ot.add((0,wt.stringToBytes)(Ht))}return this.compileIndex(Ot)}compileTopDicts(Ut,Ot,zt){const an=[];let Ht=new Ct;for(const Wt of Ut){zt&&(Wt.removeByName("CIDFontVersion"),Wt.removeByName("CIDFontRevision"),Wt.removeByName("CIDFontType"),Wt.removeByName("CIDCount"),Wt.removeByName("UIDBase"));const tn=new Vt,ln=this.compileDict(Wt,tn);an.push(tn),Ht.add(ln),tn.offset(Ot)}return Ht=this.compileIndex(Ht,an),{trackers:an,output:Ht}}compilePrivateDicts(Ut,Ot,zt){for(let an=0,Ht=Ut.length;an<Ht;++an){const Wt=Ut[an],tn=Wt.privateDict;if(!tn||!Wt.hasName("Private"))throw new wt.FormatError("There must be a private dictionary.");const ln=new Vt,on=this.compileDict(tn,ln);let cn=zt.length;if(ln.offset(cn),on.length||(cn=0),Ot[an].setEntryLocation("Private",[on.length,cn],zt),zt.add(on),tn.subrsIndex&&tn.hasName("Subrs")){const sn=this.compileIndex(tn.subrsIndex);ln.setEntryLocation("Subrs",[on.length],zt),zt.add(sn)}}}compileDict(Ut,Ot){const zt=[];for(const an of Ut.order){if(!(an in Ut.values))continue;let Ht=Ut.values[an],Wt=Ut.types[an];if(Array.isArray(Wt)||(Wt=[Wt]),Array.isArray(Ht)||(Ht=[Ht]),Ht.length!==0){for(let tn=0,ln=Wt.length;tn<ln;++tn){const on=Wt[tn],cn=Ht[tn];switch(on){case"num":case"sid":zt.push(...this.encodeNumber(cn));break;case"offset":const sn=Ut.keyToNameMap[an];Ot.isTracking(sn)||Ot.track(sn,zt.length),zt.push(29,0,0,0,0);break;case"array":case"delta":zt.push(...this.encodeNumber(cn));for(let rn=1,xn=Ht.length;rn<xn;++rn)zt.push(...this.encodeNumber(Ht[rn]));break;default:throw new wt.FormatError(`Unknown data type of ${on}`)}}zt.push(...Ut.opcodes[an])}}return zt}compileStringIndex(Ut){const Ot=new Ct;for(const zt of Ut)Ot.add((0,wt.stringToBytes)(zt));return this.compileIndex(Ot)}compileCharStrings(Ut){const Ot=new Ct;for(let zt=0;zt<Ut.count;zt++){const an=Ut.get(zt);if(an.length===0){Ot.add(new Uint8Array([139,14]));continue}Ot.add(an)}return this.compileIndex(Ot)}compileCharset(Ut,Ot,zt,an){let Ht;const Wt=Ot-1;if(an)Ht=new Uint8Array([2,0,0,Wt>>8&255,Wt&255]);else{const tn=1+Wt*2;Ht=new Uint8Array(tn),Ht[0]=0;let ln=0;const on=Ut.charset.length;let cn=!1;for(let sn=1;sn<Ht.length;sn+=2){let rn=0;if(ln<on){const xn=Ut.charset[ln++];rn=zt.getSID(xn),rn===-1&&(rn=0,cn||(cn=!0,(0,wt.warn)(`Couldn't find ${xn} in CFF strings`)))}Ht[sn]=rn>>8&255,Ht[sn+1]=rn&255}}return this.compileTypedArray(Ht)}compileEncoding(Ut){return this.compileTypedArray(Ut.raw)}compileFDSelect(Ut){const Ot=Ut.format;let zt,an;switch(Ot){case 0:for(zt=new Uint8Array(1+Ut.fdSelect.length),zt[0]=Ot,an=0;an<Ut.fdSelect.length;an++)zt[an+1]=Ut.fdSelect[an];break;case 3:const Ht=0;let Wt=Ut.fdSelect[0];const tn=[Ot,0,0,Ht>>8&255,Ht&255,Wt];for(an=1;an<Ut.fdSelect.length;an++){const on=Ut.fdSelect[an];on!==Wt&&(tn.push(an>>8&255,an&255,on),Wt=on)}const ln=(tn.length-3)/3;tn[1]=ln>>8&255,tn[2]=ln&255,tn.push(an>>8&255,an&255),zt=new Uint8Array(tn);break}return this.compileTypedArray(zt)}compileTypedArray(Ut){return Array.from(Ut)}compileIndex(Ut,Ot=[]){const zt=Ut.objects,an=zt.length;if(an===0)return[0,0];const Ht=[an>>8&255,an&255];let Wt=1,tn;for(tn=0;tn<an;++tn)Wt+=zt[tn].length;let ln;Wt<256?ln=1:Wt<65536?ln=2:Wt<16777216?ln=3:ln=4,Ht.push(ln);let on=1;for(tn=0;tn<an+1;tn++)ln===1?Ht.push(on&255):ln===2?Ht.push(on>>8&255,on&255):ln===3?Ht.push(on>>16&255,on>>8&255,on&255):Ht.push(on>>>24&255,on>>16&255,on>>8&255,on&255),zt[tn]&&(on+=zt[tn].length);for(tn=0;tn<an;tn++)Ot[tn]&&Ot[tn].offset(Ht.length),Ht.push(...zt[tn]);return Ht}}Et.CFFCompiler=Yt},(kt,Et)=>{Object.defineProperty(Et,"__esModule",{value:!0}),Et.ISOAdobeCharset=Et.ExpertSubsetCharset=Et.ExpertCharset=void 0;const Rt=[".notdef","space","exclam","quotedbl","numbersign","dollar","percent","ampersand","quoteright","parenleft","parenright","asterisk","plus","comma","hyphen","period","slash","zero","one","two","three","four","five","six","seven","eight","nine","colon","semicolon","less","equal","greater","question","at","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","bracketleft","backslash","bracketright","asciicircum","underscore","quoteleft","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","braceleft","bar","braceright","asciitilde","exclamdown","cent","sterling","fraction","yen","florin","section","currency","quotesingle","quotedblleft","guillemotleft","guilsinglleft","guilsinglright","fi","fl","endash","dagger","daggerdbl","periodcentered","paragraph","bullet","quotesinglbase","quotedblbase","quotedblright","guillemotright","ellipsis","perthousand","questiondown","grave","acute","circumflex","tilde","macron","breve","dotaccent","dieresis","ring","cedilla","hungarumlaut","ogonek","caron","emdash","AE","ordfeminine","Lslash","Oslash","OE","ordmasculine","ae","dotlessi","lslash","oslash","oe","germandbls","onesuperior","logicalnot","mu","trademark","Eth","onehalf","plusminus","Thorn","onequarter","divide","brokenbar","degree","thorn","threequarters","twosuperior","registered","minus","eth","multiply","threesuperior","copyright","Aacute","Acircumflex","Adieresis","Agrave","Aring","Atilde","Ccedilla","Eacute","Ecircumflex","Edieresis","Egrave","Iacute","Icircumflex","Idieresis","Igrave","Ntilde","Oacute","Ocircumflex","Odieresis","Ograve","Otilde","Scaron","Uacute","Ucircumflex","Udieresis","Ugrave","Yacute","Ydieresis","Zcaron","aacute","acircumflex","adieresis","agrave","aring","atilde","ccedilla","eacute","ecircumflex","edieresis","egrave","iacute","icircumflex","idieresis","igrave","ntilde","oacute","ocircumflex","odieresis","ograve","otilde","scaron","uacute","ucircumflex","udieresis","ugrave","yacute","ydieresis","zcaron"];Et.ISOAdobeCharset=Rt;const wt=[".notdef","space","exclamsmall","Hungarumlautsmall","dollaroldstyle","dollarsuperior","ampersandsmall","Acutesmall","parenleftsuperior","parenrightsuperior","twodotenleader","onedotenleader","comma","hyphen","period","fraction","zerooldstyle","oneoldstyle","twooldstyle","threeoldstyle","fouroldstyle","fiveoldstyle","sixoldstyle","sevenoldstyle","eightoldstyle","nineoldstyle","colon","semicolon","commasuperior","threequartersemdash","periodsuperior","questionsmall","asuperior","bsuperior","centsuperior","dsuperior","esuperior","isuperior","lsuperior","msuperior","nsuperior","osuperior","rsuperior","ssuperior","tsuperior","ff","fi","fl","ffi","ffl","parenleftinferior","parenrightinferior","Circumflexsmall","hyphensuperior","Gravesmall","Asmall","Bsmall","Csmall","Dsmall","Esmall","Fsmall","Gsmall","Hsmall","Ismall","Jsmall","Ksmall","Lsmall","Msmall","Nsmall","Osmall","Psmall","Qsmall","Rsmall","Ssmall","Tsmall","Usmall","Vsmall","Wsmall","Xsmall","Ysmall","Zsmall","colonmonetary","onefitted","rupiah","Tildesmall","exclamdownsmall","centoldstyle","Lslashsmall","Scaronsmall","Zcaronsmall","Dieresissmall","Brevesmall","Caronsmall","Dotaccentsmall","Macronsmall","figuredash","hypheninferior","Ogoneksmall","Ringsmall","Cedillasmall","onequarter","onehalf","threequarters","questiondownsmall","oneeighth","threeeighths","fiveeighths","seveneighths","onethird","twothirds","zerosuperior","onesuperior","twosuperior","threesuperior","foursuperior","fivesuperior","sixsuperior","sevensuperior","eightsuperior","ninesuperior","zeroinferior","oneinferior","twoinferior","threeinferior","fourinferior","fiveinferior","sixinferior","seveninferior","eightinferior","nineinferior","centinferior","dollarinferior","periodinferior","commainferior","Agravesmall","Aacutesmall","Acircumflexsmall","Atildesmall","Adieresissmall","Aringsmall","AEsmall","Ccedillasmall","Egravesmall","Eacutesmall","Ecircumflexsmall","Edieresissmall","Igravesmall","Iacutesmall","Icircumflexsmall","Idieresissmall","Ethsmall","Ntildesmall","Ogravesmall","Oacutesmall","Ocircumflexsmall","Otildesmall","Odieresissmall","OEsmall","Oslashsmall","Ugravesmall","Uacutesmall","Ucircumflexsmall","Udieresissmall","Yacutesmall","Thornsmall","Ydieresissmall"];Et.ExpertCharset=wt;const _t=[".notdef","space","dollaroldstyle","dollarsuperior","parenleftsuperior","parenrightsuperior","twodotenleader","onedotenleader","comma","hyphen","period","fraction","zerooldstyle","oneoldstyle","twooldstyle","threeoldstyle","fouroldstyle","fiveoldstyle","sixoldstyle","sevenoldstyle","eightoldstyle","nineoldstyle","colon","semicolon","commasuperior","threequartersemdash","periodsuperior","asuperior","bsuperior","centsuperior","dsuperior","esuperior","isuperior","lsuperior","msuperior","nsuperior","osuperior","rsuperior","ssuperior","tsuperior","ff","fi","fl","ffi","ffl","parenleftinferior","parenrightinferior","hyphensuperior","colonmonetary","onefitted","rupiah","centoldstyle","figuredash","hypheninferior","onequarter","onehalf","threequarters","oneeighth","threeeighths","fiveeighths","seveneighths","onethird","twothirds","zerosuperior","onesuperior","twosuperior","threesuperior","foursuperior","fivesuperior","sixsuperior","sevensuperior","eightsuperior","ninesuperior","zeroinferior","oneinferior","twoinferior","threeinferior","fourinferior","fiveinferior","sixinferior","seveninferior","eightinferior","nineinferior","centinferior","dollarinferior","periodinferior","commainferior"];Et.ExpertSubsetCharset=_t},(kt,Et)=>{Object.defineProperty(Et,"__esModule",{value:!0}),Et.ZapfDingbatsEncoding=Et.WinAnsiEncoding=Et.SymbolSetEncoding=Et.StandardEncoding=Et.MacRomanEncoding=Et.ExpertEncoding=void 0,Et.getEncoding=Xt;const Rt=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","space","exclamsmall","Hungarumlautsmall","","dollaroldstyle","dollarsuperior","ampersandsmall","Acutesmall","parenleftsuperior","parenrightsuperior","twodotenleader","onedotenleader","comma","hyphen","period","fraction","zerooldstyle","oneoldstyle","twooldstyle","threeoldstyle","fouroldstyle","fiveoldstyle","sixoldstyle","sevenoldstyle","eightoldstyle","nineoldstyle","colon","semicolon","commasuperior","threequartersemdash","periodsuperior","questionsmall","","asuperior","bsuperior","centsuperior","dsuperior","esuperior","","","","isuperior","","","lsuperior","msuperior","nsuperior","osuperior","","","rsuperior","ssuperior","tsuperior","","ff","fi","fl","ffi","ffl","parenleftinferior","","parenrightinferior","Circumflexsmall","hyphensuperior","Gravesmall","Asmall","Bsmall","Csmall","Dsmall","Esmall","Fsmall","Gsmall","Hsmall","Ismall","Jsmall","Ksmall","Lsmall","Msmall","Nsmall","Osmall","Psmall","Qsmall","Rsmall","Ssmall","Tsmall","Usmall","Vsmall","Wsmall","Xsmall","Ysmall","Zsmall","colonmonetary","onefitted","rupiah","Tildesmall","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","exclamdownsmall","centoldstyle","Lslashsmall","","","Scaronsmall","Zcaronsmall","Dieresissmall","Brevesmall","Caronsmall","","Dotaccentsmall","","","Macronsmall","","","figuredash","hypheninferior","","","Ogoneksmall","Ringsmall","Cedillasmall","","","","onequarter","onehalf","threequarters","questiondownsmall","oneeighth","threeeighths","fiveeighths","seveneighths","onethird","twothirds","","","zerosuperior","onesuperior","twosuperior","threesuperior","foursuperior","fivesuperior","sixsuperior","sevensuperior","eightsuperior","ninesuperior","zeroinferior","oneinferior","twoinferior","threeinferior","fourinferior","fiveinferior","sixinferior","seveninferior","eightinferior","nineinferior","centinferior","dollarinferior","periodinferior","commainferior","Agravesmall","Aacutesmall","Acircumflexsmall","Atildesmall","Adieresissmall","Aringsmall","AEsmall","Ccedillasmall","Egravesmall","Eacutesmall","Ecircumflexsmall","Edieresissmall","Igravesmall","Iacutesmall","Icircumflexsmall","Idieresissmall","Ethsmall","Ntildesmall","Ogravesmall","Oacutesmall","Ocircumflexsmall","Otildesmall","Odieresissmall","OEsmall","Oslashsmall","Ugravesmall","Uacutesmall","Ucircumflexsmall","Udieresissmall","Yacutesmall","Thornsmall","Ydieresissmall"];Et.ExpertEncoding=Rt;const wt=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","space","exclamsmall","Hungarumlautsmall","centoldstyle","dollaroldstyle","dollarsuperior","ampersandsmall","Acutesmall","parenleftsuperior","parenrightsuperior","twodotenleader","onedotenleader","comma","hyphen","period","fraction","zerooldstyle","oneoldstyle","twooldstyle","threeoldstyle","fouroldstyle","fiveoldstyle","sixoldstyle","sevenoldstyle","eightoldstyle","nineoldstyle","colon","semicolon","","threequartersemdash","","questionsmall","","","","","Ethsmall","","","onequarter","onehalf","threequarters","oneeighth","threeeighths","fiveeighths","seveneighths","onethird","twothirds","","","","","","","ff","fi","fl","ffi","ffl","parenleftinferior","","parenrightinferior","Circumflexsmall","hypheninferior","Gravesmall","Asmall","Bsmall","Csmall","Dsmall","Esmall","Fsmall","Gsmall","Hsmall","Ismall","Jsmall","Ksmall","Lsmall","Msmall","Nsmall","Osmall","Psmall","Qsmall","Rsmall","Ssmall","Tsmall","Usmall","Vsmall","Wsmall","Xsmall","Ysmall","Zsmall","colonmonetary","onefitted","rupiah","Tildesmall","","","asuperior","centsuperior","","","","","Aacutesmall","Agravesmall","Acircumflexsmall","Adieresissmall","Atildesmall","Aringsmall","Ccedillasmall","Eacutesmall","Egravesmall","Ecircumflexsmall","Edieresissmall","Iacutesmall","Igravesmall","Icircumflexsmall","Idieresissmall","Ntildesmall","Oacutesmall","Ogravesmall","Ocircumflexsmall","Odieresissmall","Otildesmall","Uacutesmall","Ugravesmall","Ucircumflexsmall","Udieresissmall","","eightsuperior","fourinferior","threeinferior","sixinferior","eightinferior","seveninferior","Scaronsmall","","centinferior","twoinferior","","Dieresissmall","","Caronsmall","osuperior","fiveinferior","","commainferior","periodinferior","Yacutesmall","","dollarinferior","","","Thornsmall","","nineinferior","zeroinferior","Zcaronsmall","AEsmall","Oslashsmall","questiondownsmall","oneinferior","Lslashsmall","","","","","","","Cedillasmall","","","","","","OEsmall","figuredash","hyphensuperior","","","","","exclamdownsmall","","Ydieresissmall","","onesuperior","twosuperior","threesuperior","foursuperior","fivesuperior","sixsuperior","sevensuperior","ninesuperior","zerosuperior","","esuperior","rsuperior","tsuperior","","","isuperior","ssuperior","dsuperior","","","","","","lsuperior","Ogoneksmall","Brevesmall","Macronsmall","bsuperior","nsuperior","msuperior","commasuperior","periodsuperior","Dotaccentsmall","Ringsmall","","","",""],_t=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","space","exclam","quotedbl","numbersign","dollar","percent","ampersand","quotesingle","parenleft","parenright","asterisk","plus","comma","hyphen","period","slash","zero","one","two","three","four","five","six","seven","eight","nine","colon","semicolon","less","equal","greater","question","at","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","bracketleft","backslash","bracketright","asciicircum","underscore","grave","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","braceleft","bar","braceright","asciitilde","","Adieresis","Aring","Ccedilla","Eacute","Ntilde","Odieresis","Udieresis","aacute","agrave","acircumflex","adieresis","atilde","aring","ccedilla","eacute","egrave","ecircumflex","edieresis","iacute","igrave","icircumflex","idieresis","ntilde","oacute","ograve","ocircumflex","odieresis","otilde","uacute","ugrave","ucircumflex","udieresis","dagger","degree","cent","sterling","section","bullet","paragraph","germandbls","registered","copyright","trademark","acute","dieresis","notequal","AE","Oslash","infinity","plusminus","lessequal","greaterequal","yen","mu","partialdiff","summation","product","pi","integral","ordfeminine","ordmasculine","Omega","ae","oslash","questiondown","exclamdown","logicalnot","radical","florin","approxequal","Delta","guillemotleft","guillemotright","ellipsis","space","Agrave","Atilde","Otilde","OE","oe","endash","emdash","quotedblleft","quotedblright","quoteleft","quoteright","divide","lozenge","ydieresis","Ydieresis","fraction","currency","guilsinglleft","guilsinglright","fi","fl","daggerdbl","periodcentered","quotesinglbase","quotedblbase","perthousand","Acircumflex","Ecircumflex","Aacute","Edieresis","Egrave","Iacute","Icircumflex","Idieresis","Igrave","Oacute","Ocircumflex","apple","Ograve","Uacute","Ucircumflex","Ugrave","dotlessi","circumflex","tilde","macron","breve","dotaccent","ring","cedilla","hungarumlaut","ogonek","caron"];Et.MacRomanEncoding=_t;const Pt=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","space","exclam","quotedbl","numbersign","dollar","percent","ampersand","quoteright","parenleft","parenright","asterisk","plus","comma","hyphen","period","slash","zero","one","two","three","four","five","six","seven","eight","nine","colon","semicolon","less","equal","greater","question","at","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","bracketleft","backslash","bracketright","asciicircum","underscore","quoteleft","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","braceleft","bar","braceright","asciitilde","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","exclamdown","cent","sterling","fraction","yen","florin","section","currency","quotesingle","quotedblleft","guillemotleft","guilsinglleft","guilsinglright","fi","fl","","endash","dagger","daggerdbl","periodcentered","","paragraph","bullet","quotesinglbase","quotedblbase","quotedblright","guillemotright","ellipsis","perthousand","","questiondown","","grave","acute","circumflex","tilde","macron","breve","dotaccent","dieresis","","ring","cedilla","","hungarumlaut","ogonek","caron","emdash","","","","","","","","","","","","","","","","","AE","","ordfeminine","","","","","Lslash","Oslash","OE","ordmasculine","","","","","","ae","","","","dotlessi","","","lslash","oslash","oe","germandbls","","","",""];Et.StandardEncoding=Pt;const _e=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","space","exclam","quotedbl","numbersign","dollar","percent","ampersand","quotesingle","parenleft","parenright","asterisk","plus","comma","hyphen","period","slash","zero","one","two","three","four","five","six","seven","eight","nine","colon","semicolon","less","equal","greater","question","at","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","bracketleft","backslash","bracketright","asciicircum","underscore","grave","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","braceleft","bar","braceright","asciitilde","bullet","Euro","bullet","quotesinglbase","florin","quotedblbase","ellipsis","dagger","daggerdbl","circumflex","perthousand","Scaron","guilsinglleft","OE","bullet","Zcaron","bullet","bullet","quoteleft","quoteright","quotedblleft","quotedblright","bullet","endash","emdash","tilde","trademark","scaron","guilsinglright","oe","bullet","zcaron","Ydieresis","space","exclamdown","cent","sterling","currency","yen","brokenbar","section","dieresis","copyright","ordfeminine","guillemotleft","logicalnot","hyphen","registered","macron","degree","plusminus","twosuperior","threesuperior","acute","mu","paragraph","periodcentered","cedilla","onesuperior","ordmasculine","guillemotright","onequarter","onehalf","threequarters","questiondown","Agrave","Aacute","Acircumflex","Atilde","Adieresis","Aring","AE","Ccedilla","Egrave","Eacute","Ecircumflex","Edieresis","Igrave","Iacute","Icircumflex","Idieresis","Eth","Ntilde","Ograve","Oacute","Ocircumflex","Otilde","Odieresis","multiply","Oslash","Ugrave","Uacute","Ucircumflex","Udieresis","Yacute","Thorn","germandbls","agrave","aacute","acircumflex","atilde","adieresis","aring","ae","ccedilla","egrave","eacute","ecircumflex","edieresis","igrave","iacute","icircumflex","idieresis","eth","ntilde","ograve","oacute","ocircumflex","otilde","odieresis","divide","oslash","ugrave","uacute","ucircumflex","udieresis","yacute","thorn","ydieresis"];Et.WinAnsiEncoding=_e;const bt=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","space","exclam","universal","numbersign","existential","percent","ampersand","suchthat","parenleft","parenright","asteriskmath","plus","comma","minus","period","slash","zero","one","two","three","four","five","six","seven","eight","nine","colon","semicolon","less","equal","greater","question","congruent","Alpha","Beta","Chi","Delta","Epsilon","Phi","Gamma","Eta","Iota","theta1","Kappa","Lambda","Mu","Nu","Omicron","Pi","Theta","Rho","Sigma","Tau","Upsilon","sigma1","Omega","Xi","Psi","Zeta","bracketleft","therefore","bracketright","perpendicular","underscore","radicalex","alpha","beta","chi","delta","epsilon","phi","gamma","eta","iota","phi1","kappa","lambda","mu","nu","omicron","pi","theta","rho","sigma","tau","upsilon","omega1","omega","xi","psi","zeta","braceleft","bar","braceright","similar","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","Euro","Upsilon1","minute","lessequal","fraction","infinity","florin","club","diamond","heart","spade","arrowboth","arrowleft","arrowup","arrowright","arrowdown","degree","plusminus","second","greaterequal","multiply","proportional","partialdiff","bullet","divide","notequal","equivalence","approxequal","ellipsis","arrowvertex","arrowhorizex","carriagereturn","aleph","Ifraktur","Rfraktur","weierstrass","circlemultiply","circleplus","emptyset","intersection","union","propersuperset","reflexsuperset","notsubset","propersubset","reflexsubset","element","notelement","angle","gradient","registerserif","copyrightserif","trademarkserif","product","radical","dotmath","logicalnot","logicaland","logicalor","arrowdblboth","arrowdblleft","arrowdblup","arrowdblright","arrowdbldown","lozenge","angleleft","registersans","copyrightsans","trademarksans","summation","parenlefttp","parenleftex","parenleftbt","bracketlefttp","bracketleftex","bracketleftbt","bracelefttp","braceleftmid","braceleftbt","braceex","","angleright","integral","integraltp","integralex","integralbt","parenrighttp","parenrightex","parenrightbt","bracketrighttp","bracketrightex","bracketrightbt","bracerighttp","bracerightmid","bracerightbt",""];Et.SymbolSetEncoding=bt;const Ft=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","space","a1","a2","a202","a3","a4","a5","a119","a118","a117","a11","a12","a13","a14","a15","a16","a105","a17","a18","a19","a20","a21","a22","a23","a24","a25","a26","a27","a28","a6","a7","a8","a9","a10","a29","a30","a31","a32","a33","a34","a35","a36","a37","a38","a39","a40","a41","a42","a43","a44","a45","a46","a47","a48","a49","a50","a51","a52","a53","a54","a55","a56","a57","a58","a59","a60","a61","a62","a63","a64","a65","a66","a67","a68","a69","a70","a71","a72","a73","a74","a203","a75","a204","a76","a77","a78","a79","a81","a82","a83","a84","a97","a98","a99","a100","","a89","a90","a93","a94","a91","a92","a205","a85","a206","a86","a87","a88","a95","a96","","","","","","","","","","","","","","","","","","","","a101","a102","a103","a104","a106","a107","a108","a112","a111","a110","a109","a120","a121","a122","a123","a124","a125","a126","a127","a128","a129","a130","a131","a132","a133","a134","a135","a136","a137","a138","a139","a140","a141","a142","a143","a144","a145","a146","a147","a148","a149","a150","a151","a152","a153","a154","a155","a156","a157","a158","a159","a160","a161","a163","a164","a196","a165","a192","a166","a167","a168","a169","a170","a171","a172","a173","a162","a174","a175","a176","a177","a178","a179","a193","a180","a199","a181","a200","a182","","a201","a183","a184","a197","a185","a194","a198","a186","a195","a187","a188","a189","a190","a191",""];Et.ZapfDingbatsEncoding=Ft;function Xt(Kt){switch(Kt){case"WinAnsiEncoding":return _e;case"StandardEncoding":return Pt;case"MacRomanEncoding":return _t;case"SymbolSetEncoding":return bt;case"ZapfDingbatsEncoding":return Ft;case"ExpertEncoding":return Rt;case"MacExpertEncoding":return wt;default:return null}}},(kt,Et,Rt)=>{Object.defineProperty(Et,"__esModule",{value:!0}),Et.SEAC_ANALYSIS_ENABLED=Et.MacStandardGlyphOrdering=Et.FontFlags=void 0,Et.normalizeFontName=$t,Et.recoverGlyphName=Kt,Et.type1FontGlyphMapping=Nt;var wt=Rt(37),_t=Rt(39),Pt=Rt(40),_e=Rt(2);const bt=!0;Et.SEAC_ANALYSIS_ENABLED=bt;const Ft={FixedPitch:1,Serif:2,Symbolic:4,Script:8,Nonsymbolic:32,Italic:64,AllCap:65536,SmallCap:131072,ForceBold:262144};Et.FontFlags=Ft;const Xt=[".notdef",".null","nonmarkingreturn","space","exclam","quotedbl","numbersign","dollar","percent","ampersand","quotesingle","parenleft","parenright","asterisk","plus","comma","hyphen","period","slash","zero","one","two","three","four","five","six","seven","eight","nine","colon","semicolon","less","equal","greater","question","at","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","bracketleft","backslash","bracketright","asciicircum","underscore","grave","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","braceleft","bar","braceright","asciitilde","Adieresis","Aring","Ccedilla","Eacute","Ntilde","Odieresis","Udieresis","aacute","agrave","acircumflex","adieresis","atilde","aring","ccedilla","eacute","egrave","ecircumflex","edieresis","iacute","igrave","icircumflex","idieresis","ntilde","oacute","ograve","ocircumflex","odieresis","otilde","uacute","ugrave","ucircumflex","udieresis","dagger","degree","cent","sterling","section","bullet","paragraph","germandbls","registered","copyright","trademark","acute","dieresis","notequal","AE","Oslash","infinity","plusminus","lessequal","greaterequal","yen","mu","partialdiff","summation","product","pi","integral","ordfeminine","ordmasculine","Omega","ae","oslash","questiondown","exclamdown","logicalnot","radical","florin","approxequal","Delta","guillemotleft","guillemotright","ellipsis","nonbreakingspace","Agrave","Atilde","Otilde","OE","oe","endash","emdash","quotedblleft","quotedblright","quoteleft","quoteright","divide","lozenge","ydieresis","Ydieresis","fraction","currency","guilsinglleft","guilsinglright","fi","fl","daggerdbl","periodcentered","quotesinglbase","quotedblbase","perthousand","Acircumflex","Ecircumflex","Aacute","Edieresis","Egrave","Iacute","Icircumflex","Idieresis","Igrave","Oacute","Ocircumflex","apple","Ograve","Uacute","Ucircumflex","Ugrave","dotlessi","circumflex","tilde","macron","breve","dotaccent","ring","cedilla","hungarumlaut","ogonek","caron","Lslash","lslash","Scaron","scaron","Zcaron","zcaron","brokenbar","Eth","eth","Yacute","yacute","Thorn","thorn","minus","multiply","onesuperior","twosuperior","threesuperior","onehalf","onequarter","threequarters","franc","Gbreve","gbreve","Idotaccent","Scedilla","scedilla","Cacute","cacute","Ccaron","ccaron","dcroat"];Et.MacStandardGlyphOrdering=Xt;function Kt(Dt,jt){if(jt[Dt]!==void 0)return Dt;const Ct=(0,Pt.getUnicodeForGlyph)(Dt,jt);if(Ct!==-1){for(const qt in jt)if(jt[qt]===Ct)return qt}return(0,_e.info)("Unable to recover a standard glyph name for: "+Dt),Dt}function Nt(Dt,jt,Ct){const qt=Object.create(null);let Bt,Gt,en;const dn=!!(Dt.flags&Ft.Symbolic);if(Dt.isInternalFont)for(en=jt,Gt=0;Gt<en.length;Gt++)Bt=Ct.indexOf(en[Gt]),qt[Gt]=Bt>=0?Bt:0;else if(Dt.baseEncodingName)for(en=(0,wt.getEncoding)(Dt.baseEncodingName),Gt=0;Gt<en.length;Gt++)Bt=Ct.indexOf(en[Gt]),qt[Gt]=Bt>=0?Bt:0;else if(dn)for(Gt in jt)qt[Gt]=jt[Gt];else for(en=wt.StandardEncoding,Gt=0;Gt<en.length;Gt++)Bt=Ct.indexOf(en[Gt]),qt[Gt]=Bt>=0?Bt:0;const Qt=Dt.differences;let gn;if(Qt)for(Gt in Qt){const nn=Qt[Gt];if(Bt=Ct.indexOf(nn),Bt===-1){gn||(gn=(0,_t.getGlyphsUnicode)());const bn=Kt(nn,gn);bn!==nn&&(Bt=Ct.indexOf(bn))}qt[Gt]=Bt>=0?Bt:0}return qt}function $t(Dt){return Dt.replaceAll(/[,_]/g,"-").replaceAll(/\s/g,"")}},(kt,Et,Rt)=>{Object.defineProperty(Et,"__esModule",{value:!0}),Et.getGlyphsUnicode=Et.getDingbatsGlyphsUnicode=void 0;var wt=Rt(3);const _t=(0,wt.getLookupTableFactory)(function(_e){_e.A=65,_e.AE=198,_e.AEacute=508,_e.AEmacron=482,_e.AEsmall=63462,_e.Aacute=193,_e.Aacutesmall=63457,_e.Abreve=258,_e.Abreveacute=7854,_e.Abrevecyrillic=1232,_e.Abrevedotbelow=7862,_e.Abrevegrave=7856,_e.Abrevehookabove=7858,_e.Abrevetilde=7860,_e.Acaron=461,_e.Acircle=9398,_e.Acircumflex=194,_e.Acircumflexacute=7844,_e.Acircumflexdotbelow=7852,_e.Acircumflexgrave=7846,_e.Acircumflexhookabove=7848,_e.Acircumflexsmall=63458,_e.Acircumflextilde=7850,_e.Acute=63177,_e.Acutesmall=63412,_e.Acyrillic=1040,_e.Adblgrave=512,_e.Adieresis=196,_e.Adieresiscyrillic=1234,_e.Adieresismacron=478,_e.Adieresissmall=63460,_e.Adotbelow=7840,_e.Adotmacron=480,_e.Agrave=192,_e.Agravesmall=63456,_e.Ahookabove=7842,_e.Aiecyrillic=1236,_e.Ainvertedbreve=514,_e.Alpha=913,_e.Alphatonos=902,_e.Amacron=256,_e.Amonospace=65313,_e.Aogonek=260,_e.Aring=197,_e.Aringacute=506,_e.Aringbelow=7680,_e.Aringsmall=63461,_e.Asmall=63329,_e.Atilde=195,_e.Atildesmall=63459,_e.Aybarmenian=1329,_e.B=66,_e.Bcircle=9399,_e.Bdotaccent=7682,_e.Bdotbelow=7684,_e.Becyrillic=1041,_e.Benarmenian=1330,_e.Beta=914,_e.Bhook=385,_e.Blinebelow=7686,_e.Bmonospace=65314,_e.Brevesmall=63220,_e.Bsmall=63330,_e.Btopbar=386,_e.C=67,_e.Caarmenian=1342,_e.Cacute=262,_e.Caron=63178,_e.Caronsmall=63221,_e.Ccaron=268,_e.Ccedilla=199,_e.Ccedillaacute=7688,_e.Ccedillasmall=63463,_e.Ccircle=9400,_e.Ccircumflex=264,_e.Cdot=266,_e.Cdotaccent=266,_e.Cedillasmall=63416,_e.Chaarmenian=1353,_e.Cheabkhasiancyrillic=1212,_e.Checyrillic=1063,_e.Chedescenderabkhasiancyrillic=1214,_e.Chedescendercyrillic=1206,_e.Chedieresiscyrillic=1268,_e.Cheharmenian=1347,_e.Chekhakassiancyrillic=1227,_e.Cheverticalstrokecyrillic=1208,_e.Chi=935,_e.Chook=391,_e.Circumflexsmall=63222,_e.Cmonospace=65315,_e.Coarmenian=1361,_e.Csmall=63331,_e.D=68,_e.DZ=497,_e.DZcaron=452,_e.Daarmenian=1332,_e.Dafrican=393,_e.Dcaron=270,_e.Dcedilla=7696,_e.Dcircle=9401,_e.Dcircumflexbelow=7698,_e.Dcroat=272,_e.Ddotaccent=7690,_e.Ddotbelow=7692,_e.Decyrillic=1044,_e.Deicoptic=1006,_e.Delta=8710,_e.Deltagreek=916,_e.Dhook=394,_e.Dieresis=63179,_e.DieresisAcute=63180,_e.DieresisGrave=63181,_e.Dieresissmall=63400,_e.Digammagreek=988,_e.Djecyrillic=1026,_e.Dlinebelow=7694,_e.Dmonospace=65316,_e.Dotaccentsmall=63223,_e.Dslash=272,_e.Dsmall=63332,_e.Dtopbar=395,_e.Dz=498,_e.Dzcaron=453,_e.Dzeabkhasiancyrillic=1248,_e.Dzecyrillic=1029,_e.Dzhecyrillic=1039,_e.E=69,_e.Eacute=201,_e.Eacutesmall=63465,_e.Ebreve=276,_e.Ecaron=282,_e.Ecedillabreve=7708,_e.Echarmenian=1333,_e.Ecircle=9402,_e.Ecircumflex=202,_e.Ecircumflexacute=7870,_e.Ecircumflexbelow=7704,_e.Ecircumflexdotbelow=7878,_e.Ecircumflexgrave=7872,_e.Ecircumflexhookabove=7874,_e.Ecircumflexsmall=63466,_e.Ecircumflextilde=7876,_e.Ecyrillic=1028,_e.Edblgrave=516,_e.Edieresis=203,_e.Edieresissmall=63467,_e.Edot=278,_e.Edotaccent=278,_e.Edotbelow=7864,_e.Efcyrillic=1060,_e.Egrave=200,_e.Egravesmall=63464,_e.Eharmenian=1335,_e.Ehookabove=7866,_e.Eightroman=8551,_e.Einvertedbreve=518,_e.Eiotifiedcyrillic=1124,_e.Elcyrillic=1051,_e.Elevenroman=8554,_e.Emacron=274,_e.Emacronacute=7702,_e.Emacrongrave=7700,_e.Emcyrillic=1052,_e.Emonospace=65317,_e.Encyrillic=1053,_e.Endescendercyrillic=1186,_e.Eng=330,_e.Enghecyrillic=1188,_e.Enhookcyrillic=1223,_e.Eogonek=280,_e.Eopen=400,_e.Epsilon=917,_e.Epsilontonos=904,_e.Ercyrillic=1056,_e.Ereversed=398,_e.Ereversedcyrillic=1069,_e.Escyrillic=1057,_e.Esdescendercyrillic=1194,_e.Esh=425,_e.Esmall=63333,_e.Eta=919,_e.Etarmenian=1336,_e.Etatonos=905,_e.Eth=208,_e.Ethsmall=63472,_e.Etilde=7868,_e.Etildebelow=7706,_e.Euro=8364,_e.Ezh=439,_e.Ezhcaron=494,_e.Ezhreversed=440,_e.F=70,_e.Fcircle=9403,_e.Fdotaccent=7710,_e.Feharmenian=1366,_e.Feicoptic=996,_e.Fhook=401,_e.Fitacyrillic=1138,_e.Fiveroman=8548,_e.Fmonospace=65318,_e.Fourroman=8547,_e.Fsmall=63334,_e.G=71,_e.GBsquare=13191,_e.Gacute=500,_e.Gamma=915,_e.Gammaafrican=404,_e.Gangiacoptic=1002,_e.Gbreve=286,_e.Gcaron=486,_e.Gcedilla=290,_e.Gcircle=9404,_e.Gcircumflex=284,_e.Gcommaaccent=290,_e.Gdot=288,_e.Gdotaccent=288,_e.Gecyrillic=1043,_e.Ghadarmenian=1346,_e.Ghemiddlehookcyrillic=1172,_e.Ghestrokecyrillic=1170,_e.Gheupturncyrillic=1168,_e.Ghook=403,_e.Gimarmenian=1331,_e.Gjecyrillic=1027,_e.Gmacron=7712,_e.Gmonospace=65319,_e.Grave=63182,_e.Gravesmall=63328,_e.Gsmall=63335,_e.Gsmallhook=667,_e.Gstroke=484,_e.H=72,_e.H18533=9679,_e.H18543=9642,_e.H18551=9643,_e.H22073=9633,_e.HPsquare=13259,_e.Haabkhasiancyrillic=1192,_e.Hadescendercyrillic=1202,_e.Hardsigncyrillic=1066,_e.Hbar=294,_e.Hbrevebelow=7722,_e.Hcedilla=7720,_e.Hcircle=9405,_e.Hcircumflex=292,_e.Hdieresis=7718,_e.Hdotaccent=7714,_e.Hdotbelow=7716,_e.Hmonospace=65320,_e.Hoarmenian=1344,_e.Horicoptic=1e3,_e.Hsmall=63336,_e.Hungarumlaut=63183,_e.Hungarumlautsmall=63224,_e.Hzsquare=13200,_e.I=73,_e.IAcyrillic=1071,_e.IJ=306,_e.IUcyrillic=1070,_e.Iacute=205,_e.Iacutesmall=63469,_e.Ibreve=300,_e.Icaron=463,_e.Icircle=9406,_e.Icircumflex=206,_e.Icircumflexsmall=63470,_e.Icyrillic=1030,_e.Idblgrave=520,_e.Idieresis=207,_e.Idieresisacute=7726,_e.Idieresiscyrillic=1252,_e.Idieresissmall=63471,_e.Idot=304,_e.Idotaccent=304,_e.Idotbelow=7882,_e.Iebrevecyrillic=1238,_e.Iecyrillic=1045,_e.Ifraktur=8465,_e.Igrave=204,_e.Igravesmall=63468,_e.Ihookabove=7880,_e.Iicyrillic=1048,_e.Iinvertedbreve=522,_e.Iishortcyrillic=1049,_e.Imacron=298,_e.Imacroncyrillic=1250,_e.Imonospace=65321,_e.Iniarmenian=1339,_e.Iocyrillic=1025,_e.Iogonek=302,_e.Iota=921,_e.Iotaafrican=406,_e.Iotadieresis=938,_e.Iotatonos=906,_e.Ismall=63337,_e.Istroke=407,_e.Itilde=296,_e.Itildebelow=7724,_e.Izhitsacyrillic=1140,_e.Izhitsadblgravecyrillic=1142,_e.J=74,_e.Jaarmenian=1345,_e.Jcircle=9407,_e.Jcircumflex=308,_e.Jecyrillic=1032,_e.Jheharmenian=1355,_e.Jmonospace=65322,_e.Jsmall=63338,_e.K=75,_e.KBsquare=13189,_e.KKsquare=13261,_e.Kabashkircyrillic=1184,_e.Kacute=7728,_e.Kacyrillic=1050,_e.Kadescendercyrillic=1178,_e.Kahookcyrillic=1219,_e.Kappa=922,_e.Kastrokecyrillic=1182,_e.Kaverticalstrokecyrillic=1180,_e.Kcaron=488,_e.Kcedilla=310,_e.Kcircle=9408,_e.Kcommaaccent=310,_e.Kdotbelow=7730,_e.Keharmenian=1364,_e.Kenarmenian=1343,_e.Khacyrillic=1061,_e.Kheicoptic=998,_e.Khook=408,_e.Kjecyrillic=1036,_e.Klinebelow=7732,_e.Kmonospace=65323,_e.Koppacyrillic=1152,_e.Koppagreek=990,_e.Ksicyrillic=1134,_e.Ksmall=63339,_e.L=76,_e.LJ=455,_e.LL=63167,_e.Lacute=313,_e.Lambda=923,_e.Lcaron=317,_e.Lcedilla=315,_e.Lcircle=9409,_e.Lcircumflexbelow=7740,_e.Lcommaaccent=315,_e.Ldot=319,_e.Ldotaccent=319,_e.Ldotbelow=7734,_e.Ldotbelowmacron=7736,_e.Liwnarmenian=1340,_e.Lj=456,_e.Ljecyrillic=1033,_e.Llinebelow=7738,_e.Lmonospace=65324,_e.Lslash=321,_e.Lslashsmall=63225,_e.Lsmall=63340,_e.M=77,_e.MBsquare=13190,_e.Macron=63184,_e.Macronsmall=63407,_e.Macute=7742,_e.Mcircle=9410,_e.Mdotaccent=7744,_e.Mdotbelow=7746,_e.Menarmenian=1348,_e.Mmonospace=65325,_e.Msmall=63341,_e.Mturned=412,_e.Mu=924,_e.N=78,_e.NJ=458,_e.Nacute=323,_e.Ncaron=327,_e.Ncedilla=325,_e.Ncircle=9411,_e.Ncircumflexbelow=7754,_e.Ncommaaccent=325,_e.Ndotaccent=7748,_e.Ndotbelow=7750,_e.Nhookleft=413,_e.Nineroman=8552,_e.Nj=459,_e.Njecyrillic=1034,_e.Nlinebelow=7752,_e.Nmonospace=65326,_e.Nowarmenian=1350,_e.Nsmall=63342,_e.Ntilde=209,_e.Ntildesmall=63473,_e.Nu=925,_e.O=79,_e.OE=338,_e.OEsmall=63226,_e.Oacute=211,_e.Oacutesmall=63475,_e.Obarredcyrillic=1256,_e.Obarreddieresiscyrillic=1258,_e.Obreve=334,_e.Ocaron=465,_e.Ocenteredtilde=415,_e.Ocircle=9412,_e.Ocircumflex=212,_e.Ocircumflexacute=7888,_e.Ocircumflexdotbelow=7896,_e.Ocircumflexgrave=7890,_e.Ocircumflexhookabove=7892,_e.Ocircumflexsmall=63476,_e.Ocircumflextilde=7894,_e.Ocyrillic=1054,_e.Odblacute=336,_e.Odblgrave=524,_e.Odieresis=214,_e.Odieresiscyrillic=1254,_e.Odieresissmall=63478,_e.Odotbelow=7884,_e.Ogoneksmall=63227,_e.Ograve=210,_e.Ogravesmall=63474,_e.Oharmenian=1365,_e.Ohm=8486,_e.Ohookabove=7886,_e.Ohorn=416,_e.Ohornacute=7898,_e.Ohorndotbelow=7906,_e.Ohorngrave=7900,_e.Ohornhookabove=7902,_e.Ohorntilde=7904,_e.Ohungarumlaut=336,_e.Oi=418,_e.Oinvertedbreve=526,_e.Omacron=332,_e.Omacronacute=7762,_e.Omacrongrave=7760,_e.Omega=8486,_e.Omegacyrillic=1120,_e.Omegagreek=937,_e.Omegaroundcyrillic=1146,_e.Omegatitlocyrillic=1148,_e.Omegatonos=911,_e.Omicron=927,_e.Omicrontonos=908,_e.Omonospace=65327,_e.Oneroman=8544,_e.Oogonek=490,_e.Oogonekmacron=492,_e.Oopen=390,_e.Oslash=216,_e.Oslashacute=510,_e.Oslashsmall=63480,_e.Osmall=63343,_e.Ostrokeacute=510,_e.Otcyrillic=1150,_e.Otilde=213,_e.Otildeacute=7756,_e.Otildedieresis=7758,_e.Otildesmall=63477,_e.P=80,_e.Pacute=7764,_e.Pcircle=9413,_e.Pdotaccent=7766,_e.Pecyrillic=1055,_e.Peharmenian=1354,_e.Pemiddlehookcyrillic=1190,_e.Phi=934,_e.Phook=420,_e.Pi=928,_e.Piwrarmenian=1363,_e.Pmonospace=65328,_e.Psi=936,_e.Psicyrillic=1136,_e.Psmall=63344,_e.Q=81,_e.Qcircle=9414,_e.Qmonospace=65329,_e.Qsmall=63345,_e.R=82,_e.Raarmenian=1356,_e.Racute=340,_e.Rcaron=344,_e.Rcedilla=342,_e.Rcircle=9415,_e.Rcommaaccent=342,_e.Rdblgrave=528,_e.Rdotaccent=7768,_e.Rdotbelow=7770,_e.Rdotbelowmacron=7772,_e.Reharmenian=1360,_e.Rfraktur=8476,_e.Rho=929,_e.Ringsmall=63228,_e.Rinvertedbreve=530,_e.Rlinebelow=7774,_e.Rmonospace=65330,_e.Rsmall=63346,_e.Rsmallinverted=641,_e.Rsmallinvertedsuperior=694,_e.S=83,_e.SF010000=9484,_e.SF020000=9492,_e.SF030000=9488,_e.SF040000=9496,_e.SF050000=9532,_e.SF060000=9516,_e.SF070000=9524,_e.SF080000=9500,_e.SF090000=9508,_e.SF100000=9472,_e.SF110000=9474,_e.SF190000=9569,_e.SF200000=9570,_e.SF210000=9558,_e.SF220000=9557,_e.SF230000=9571,_e.SF240000=9553,_e.SF250000=9559,_e.SF260000=9565,_e.SF270000=9564,_e.SF280000=9563,_e.SF360000=9566,_e.SF370000=9567,_e.SF380000=9562,_e.SF390000=9556,_e.SF400000=9577,_e.SF410000=9574,_e.SF420000=9568,_e.SF430000=9552,_e.SF440000=9580,_e.SF450000=9575,_e.SF460000=9576,_e.SF470000=9572,_e.SF480000=9573,_e.SF490000=9561,_e.SF500000=9560,_e.SF510000=9554,_e.SF520000=9555,_e.SF530000=9579,_e.SF540000=9578,_e.Sacute=346,_e.Sacutedotaccent=7780,_e.Sampigreek=992,_e.Scaron=352,_e.Scarondotaccent=7782,_e.Scaronsmall=63229,_e.Scedilla=350,_e.Schwa=399,_e.Schwacyrillic=1240,_e.Schwadieresiscyrillic=1242,_e.Scircle=9416,_e.Scircumflex=348,_e.Scommaaccent=536,_e.Sdotaccent=7776,_e.Sdotbelow=7778,_e.Sdotbelowdotaccent=7784,_e.Seharmenian=1357,_e.Sevenroman=8550,_e.Shaarmenian=1351,_e.Shacyrillic=1064,_e.Shchacyrillic=1065,_e.Sheicoptic=994,_e.Shhacyrillic=1210,_e.Shimacoptic=1004,_e.Sigma=931,_e.Sixroman=8549,_e.Smonospace=65331,_e.Softsigncyrillic=1068,_e.Ssmall=63347,_e.Stigmagreek=986,_e.T=84,_e.Tau=932,_e.Tbar=358,_e.Tcaron=356,_e.Tcedilla=354,_e.Tcircle=9417,_e.Tcircumflexbelow=7792,_e.Tcommaaccent=354,_e.Tdotaccent=7786,_e.Tdotbelow=7788,_e.Tecyrillic=1058,_e.Tedescendercyrillic=1196,_e.Tenroman=8553,_e.Tetsecyrillic=1204,_e.Theta=920,_e.Thook=428,_e.Thorn=222,_e.Thornsmall=63486,_e.Threeroman=8546,_e.Tildesmall=63230,_e.Tiwnarmenian=1359,_e.Tlinebelow=7790,_e.Tmonospace=65332,_e.Toarmenian=1337,_e.Tonefive=444,_e.Tonesix=388,_e.Tonetwo=423,_e.Tretroflexhook=430,_e.Tsecyrillic=1062,_e.Tshecyrillic=1035,_e.Tsmall=63348,_e.Twelveroman=8555,_e.Tworoman=8545,_e.U=85,_e.Uacute=218,_e.Uacutesmall=63482,_e.Ubreve=364,_e.Ucaron=467,_e.Ucircle=9418,_e.Ucircumflex=219,_e.Ucircumflexbelow=7798,_e.Ucircumflexsmall=63483,_e.Ucyrillic=1059,_e.Udblacute=368,_e.Udblgrave=532,_e.Udieresis=220,_e.Udieresisacute=471,_e.Udieresisbelow=7794,_e.Udieresiscaron=473,_e.Udieresiscyrillic=1264,_e.Udieresisgrave=475,_e.Udieresismacron=469,_e.Udieresissmall=63484,_e.Udotbelow=7908,_e.Ugrave=217,_e.Ugravesmall=63481,_e.Uhookabove=7910,_e.Uhorn=431,_e.Uhornacute=7912,_e.Uhorndotbelow=7920,_e.Uhorngrave=7914,_e.Uhornhookabove=7916,_e.Uhorntilde=7918,_e.Uhungarumlaut=368,_e.Uhungarumlautcyrillic=1266,_e.Uinvertedbreve=534,_e.Ukcyrillic=1144,_e.Umacron=362,_e.Umacroncyrillic=1262,_e.Umacrondieresis=7802,_e.Umonospace=65333,_e.Uogonek=370,_e.Upsilon=933,_e.Upsilon1=978,_e.Upsilonacutehooksymbolgreek=979,_e.Upsilonafrican=433,_e.Upsilondieresis=939,_e.Upsilondieresishooksymbolgreek=980,_e.Upsilonhooksymbol=978,_e.Upsilontonos=910,_e.Uring=366,_e.Ushortcyrillic=1038,_e.Usmall=63349,_e.Ustraightcyrillic=1198,_e.Ustraightstrokecyrillic=1200,_e.Utilde=360,_e.Utildeacute=7800,_e.Utildebelow=7796,_e.V=86,_e.Vcircle=9419,_e.Vdotbelow=7806,_e.Vecyrillic=1042,_e.Vewarmenian=1358,_e.Vhook=434,_e.Vmonospace=65334,_e.Voarmenian=1352,_e.Vsmall=63350,_e.Vtilde=7804,_e.W=87,_e.Wacute=7810,_e.Wcircle=9420,_e.Wcircumflex=372,_e.Wdieresis=7812,_e.Wdotaccent=7814,_e.Wdotbelow=7816,_e.Wgrave=7808,_e.Wmonospace=65335,_e.Wsmall=63351,_e.X=88,_e.Xcircle=9421,_e.Xdieresis=7820,_e.Xdotaccent=7818,_e.Xeharmenian=1341,_e.Xi=926,_e.Xmonospace=65336,_e.Xsmall=63352,_e.Y=89,_e.Yacute=221,_e.Yacutesmall=63485,_e.Yatcyrillic=1122,_e.Ycircle=9422,_e.Ycircumflex=374,_e.Ydieresis=376,_e.Ydieresissmall=63487,_e.Ydotaccent=7822,_e.Ydotbelow=7924,_e.Yericyrillic=1067,_e.Yerudieresiscyrillic=1272,_e.Ygrave=7922,_e.Yhook=435,_e.Yhookabove=7926,_e.Yiarmenian=1349,_e.Yicyrillic=1031,_e.Yiwnarmenian=1362,_e.Ymonospace=65337,_e.Ysmall=63353,_e.Ytilde=7928,_e.Yusbigcyrillic=1130,_e.Yusbigiotifiedcyrillic=1132,_e.Yuslittlecyrillic=1126,_e.Yuslittleiotifiedcyrillic=1128,_e.Z=90,_e.Zaarmenian=1334,_e.Zacute=377,_e.Zcaron=381,_e.Zcaronsmall=63231,_e.Zcircle=9423,_e.Zcircumflex=7824,_e.Zdot=379,_e.Zdotaccent=379,_e.Zdotbelow=7826,_e.Zecyrillic=1047,_e.Zedescendercyrillic=1176,_e.Zedieresiscyrillic=1246,_e.Zeta=918,_e.Zhearmenian=1338,_e.Zhebrevecyrillic=1217,_e.Zhecyrillic=1046,_e.Zhedescendercyrillic=1174,_e.Zhedieresiscyrillic=1244,_e.Zlinebelow=7828,_e.Zmonospace=65338,_e.Zsmall=63354,_e.Zstroke=437,_e.a=97,_e.aabengali=2438,_e.aacute=225,_e.aadeva=2310,_e.aagujarati=2694,_e.aagurmukhi=2566,_e.aamatragurmukhi=2622,_e.aarusquare=13059,_e.aavowelsignbengali=2494,_e.aavowelsigndeva=2366,_e.aavowelsigngujarati=2750,_e.abbreviationmarkarmenian=1375,_e.abbreviationsigndeva=2416,_e.abengali=2437,_e.abopomofo=12570,_e.abreve=259,_e.abreveacute=7855,_e.abrevecyrillic=1233,_e.abrevedotbelow=7863,_e.abrevegrave=7857,_e.abrevehookabove=7859,_e.abrevetilde=7861,_e.acaron=462,_e.acircle=9424,_e.acircumflex=226,_e.acircumflexacute=7845,_e.acircumflexdotbelow=7853,_e.acircumflexgrave=7847,_e.acircumflexhookabove=7849,_e.acircumflextilde=7851,_e.acute=180,_e.acutebelowcmb=791,_e.acutecmb=769,_e.acutecomb=769,_e.acutedeva=2388,_e.acutelowmod=719,_e.acutetonecmb=833,_e.acyrillic=1072,_e.adblgrave=513,_e.addakgurmukhi=2673,_e.adeva=2309,_e.adieresis=228,_e.adieresiscyrillic=1235,_e.adieresismacron=479,_e.adotbelow=7841,_e.adotmacron=481,_e.ae=230,_e.aeacute=509,_e.aekorean=12624,_e.aemacron=483,_e.afii00208=8213,_e.afii08941=8356,_e.afii10017=1040,_e.afii10018=1041,_e.afii10019=1042,_e.afii10020=1043,_e.afii10021=1044,_e.afii10022=1045,_e.afii10023=1025,_e.afii10024=1046,_e.afii10025=1047,_e.afii10026=1048,_e.afii10027=1049,_e.afii10028=1050,_e.afii10029=1051,_e.afii10030=1052,_e.afii10031=1053,_e.afii10032=1054,_e.afii10033=1055,_e.afii10034=1056,_e.afii10035=1057,_e.afii10036=1058,_e.afii10037=1059,_e.afii10038=1060,_e.afii10039=1061,_e.afii10040=1062,_e.afii10041=1063,_e.afii10042=1064,_e.afii10043=1065,_e.afii10044=1066,_e.afii10045=1067,_e.afii10046=1068,_e.afii10047=1069,_e.afii10048=1070,_e.afii10049=1071,_e.afii10050=1168,_e.afii10051=1026,_e.afii10052=1027,_e.afii10053=1028,_e.afii10054=1029,_e.afii10055=1030,_e.afii10056=1031,_e.afii10057=1032,_e.afii10058=1033,_e.afii10059=1034,_e.afii10060=1035,_e.afii10061=1036,_e.afii10062=1038,_e.afii10063=63172,_e.afii10064=63173,_e.afii10065=1072,_e.afii10066=1073,_e.afii10067=1074,_e.afii10068=1075,_e.afii10069=1076,_e.afii10070=1077,_e.afii10071=1105,_e.afii10072=1078,_e.afii10073=1079,_e.afii10074=1080,_e.afii10075=1081,_e.afii10076=1082,_e.afii10077=1083,_e.afii10078=1084,_e.afii10079=1085,_e.afii10080=1086,_e.afii10081=1087,_e.afii10082=1088,_e.afii10083=1089,_e.afii10084=1090,_e.afii10085=1091,_e.afii10086=1092,_e.afii10087=1093,_e.afii10088=1094,_e.afii10089=1095,_e.afii10090=1096,_e.afii10091=1097,_e.afii10092=1098,_e.afii10093=1099,_e.afii10094=1100,_e.afii10095=1101,_e.afii10096=1102,_e.afii10097=1103,_e.afii10098=1169,_e.afii10099=1106,_e.afii10100=1107,_e.afii10101=1108,_e.afii10102=1109,_e.afii10103=1110,_e.afii10104=1111,_e.afii10105=1112,_e.afii10106=1113,_e.afii10107=1114,_e.afii10108=1115,_e.afii10109=1116,_e.afii10110=1118,_e.afii10145=1039,_e.afii10146=1122,_e.afii10147=1138,_e.afii10148=1140,_e.afii10192=63174,_e.afii10193=1119,_e.afii10194=1123,_e.afii10195=1139,_e.afii10196=1141,_e.afii10831=63175,_e.afii10832=63176,_e.afii10846=1241,_e.afii299=8206,_e.afii300=8207,_e.afii301=8205,_e.afii57381=1642,_e.afii57388=1548,_e.afii57392=1632,_e.afii57393=1633,_e.afii57394=1634,_e.afii57395=1635,_e.afii57396=1636,_e.afii57397=1637,_e.afii57398=1638,_e.afii57399=1639,_e.afii57400=1640,_e.afii57401=1641,_e.afii57403=1563,_e.afii57407=1567,_e.afii57409=1569,_e.afii57410=1570,_e.afii57411=1571,_e.afii57412=1572,_e.afii57413=1573,_e.afii57414=1574,_e.afii57415=1575,_e.afii57416=1576,_e.afii57417=1577,_e.afii57418=1578,_e.afii57419=1579,_e.afii57420=1580,_e.afii57421=1581,_e.afii57422=1582,_e.afii57423=1583,_e.afii57424=1584,_e.afii57425=1585,_e.afii57426=1586,_e.afii57427=1587,_e.afii57428=1588,_e.afii57429=1589,_e.afii57430=1590,_e.afii57431=1591,_e.afii57432=1592,_e.afii57433=1593,_e.afii57434=1594,_e.afii57440=1600,_e.afii57441=1601,_e.afii57442=1602,_e.afii57443=1603,_e.afii57444=1604,_e.afii57445=1605,_e.afii57446=1606,_e.afii57448=1608,_e.afii57449=1609,_e.afii57450=1610,_e.afii57451=1611,_e.afii57452=1612,_e.afii57453=1613,_e.afii57454=1614,_e.afii57455=1615,_e.afii57456=1616,_e.afii57457=1617,_e.afii57458=1618,_e.afii57470=1607,_e.afii57505=1700,_e.afii57506=1662,_e.afii57507=1670,_e.afii57508=1688,_e.afii57509=1711,_e.afii57511=1657,_e.afii57512=1672,_e.afii57513=1681,_e.afii57514=1722,_e.afii57519=1746,_e.afii57534=1749,_e.afii57636=8362,_e.afii57645=1470,_e.afii57658=1475,_e.afii57664=1488,_e.afii57665=1489,_e.afii57666=1490,_e.afii57667=1491,_e.afii57668=1492,_e.afii57669=1493,_e.afii57670=1494,_e.afii57671=1495,_e.afii57672=1496,_e.afii57673=1497,_e.afii57674=1498,_e.afii57675=1499,_e.afii57676=1500,_e.afii57677=1501,_e.afii57678=1502,_e.afii57679=1503,_e.afii57680=1504,_e.afii57681=1505,_e.afii57682=1506,_e.afii57683=1507,_e.afii57684=1508,_e.afii57685=1509,_e.afii57686=1510,_e.afii57687=1511,_e.afii57688=1512,_e.afii57689=1513,_e.afii57690=1514,_e.afii57694=64298,_e.afii57695=64299,_e.afii57700=64331,_e.afii57705=64287,_e.afii57716=1520,_e.afii57717=1521,_e.afii57718=1522,_e.afii57723=64309,_e.afii57793=1460,_e.afii57794=1461,_e.afii57795=1462,_e.afii57796=1467,_e.afii57797=1464,_e.afii57798=1463,_e.afii57799=1456,_e.afii57800=1458,_e.afii57801=1457,_e.afii57802=1459,_e.afii57803=1474,_e.afii57804=1473,_e.afii57806=1465,_e.afii57807=1468,_e.afii57839=1469,_e.afii57841=1471,_e.afii57842=1472,_e.afii57929=700,_e.afii61248=8453,_e.afii61289=8467,_e.afii61352=8470,_e.afii61573=8236,_e.afii61574=8237,_e.afii61575=8238,_e.afii61664=8204,_e.afii63167=1645,_e.afii64937=701,_e.agrave=224,_e.agujarati=2693,_e.agurmukhi=2565,_e.ahiragana=12354,_e.ahookabove=7843,_e.aibengali=2448,_e.aibopomofo=12574,_e.aideva=2320,_e.aiecyrillic=1237,_e.aigujarati=2704,_e.aigurmukhi=2576,_e.aimatragurmukhi=2632,_e.ainarabic=1593,_e.ainfinalarabic=65226,_e.aininitialarabic=65227,_e.ainmedialarabic=65228,_e.ainvertedbreve=515,_e.aivowelsignbengali=2504,_e.aivowelsigndeva=2376,_e.aivowelsigngujarati=2760,_e.akatakana=12450,_e.akatakanahalfwidth=65393,_e.akorean=12623,_e.alef=1488,_e.alefarabic=1575,_e.alefdageshhebrew=64304,_e.aleffinalarabic=65166,_e.alefhamzaabovearabic=1571,_e.alefhamzaabovefinalarabic=65156,_e.alefhamzabelowarabic=1573,_e.alefhamzabelowfinalarabic=65160,_e.alefhebrew=1488,_e.aleflamedhebrew=64335,_e.alefmaddaabovearabic=1570,_e.alefmaddaabovefinalarabic=65154,_e.alefmaksuraarabic=1609,_e.alefmaksurafinalarabic=65264,_e.alefmaksurainitialarabic=65267,_e.alefmaksuramedialarabic=65268,_e.alefpatahhebrew=64302,_e.alefqamatshebrew=64303,_e.aleph=8501,_e.allequal=8780,_e.alpha=945,_e.alphatonos=940,_e.amacron=257,_e.amonospace=65345,_e.ampersand=38,_e.ampersandmonospace=65286,_e.ampersandsmall=63270,_e.amsquare=13250,_e.anbopomofo=12578,_e.angbopomofo=12580,_e.angbracketleft=12296,_e.angbracketright=12297,_e.angkhankhuthai=3674,_e.angle=8736,_e.anglebracketleft=12296,_e.anglebracketleftvertical=65087,_e.anglebracketright=12297,_e.anglebracketrightvertical=65088,_e.angleleft=9001,_e.angleright=9002,_e.angstrom=8491,_e.anoteleia=903,_e.anudattadeva=2386,_e.anusvarabengali=2434,_e.anusvaradeva=2306,_e.anusvaragujarati=2690,_e.aogonek=261,_e.apaatosquare=13056,_e.aparen=9372,_e.apostrophearmenian=1370,_e.apostrophemod=700,_e.apple=63743,_e.approaches=8784,_e.approxequal=8776,_e.approxequalorimage=8786,_e.approximatelyequal=8773,_e.araeaekorean=12686,_e.araeakorean=12685,_e.arc=8978,_e.arighthalfring=7834,_e.aring=229,_e.aringacute=507,_e.aringbelow=7681,_e.arrowboth=8596,_e.arrowdashdown=8675,_e.arrowdashleft=8672,_e.arrowdashright=8674,_e.arrowdashup=8673,_e.arrowdblboth=8660,_e.arrowdbldown=8659,_e.arrowdblleft=8656,_e.arrowdblright=8658,_e.arrowdblup=8657,_e.arrowdown=8595,_e.arrowdownleft=8601,_e.arrowdownright=8600,_e.arrowdownwhite=8681,_e.arrowheaddownmod=709,_e.arrowheadleftmod=706,_e.arrowheadrightmod=707,_e.arrowheadupmod=708,_e.arrowhorizex=63719,_e.arrowleft=8592,_e.arrowleftdbl=8656,_e.arrowleftdblstroke=8653,_e.arrowleftoverright=8646,_e.arrowleftwhite=8678,_e.arrowright=8594,_e.arrowrightdblstroke=8655,_e.arrowrightheavy=10142,_e.arrowrightoverleft=8644,_e.arrowrightwhite=8680,_e.arrowtableft=8676,_e.arrowtabright=8677,_e.arrowup=8593,_e.arrowupdn=8597,_e.arrowupdnbse=8616,_e.arrowupdownbase=8616,_e.arrowupleft=8598,_e.arrowupleftofdown=8645,_e.arrowupright=8599,_e.arrowupwhite=8679,_e.arrowvertex=63718,_e.asciicircum=94,_e.asciicircummonospace=65342,_e.asciitilde=126,_e.asciitildemonospace=65374,_e.ascript=593,_e.ascriptturned=594,_e.asmallhiragana=12353,_e.asmallkatakana=12449,_e.asmallkatakanahalfwidth=65383,_e.asterisk=42,_e.asteriskaltonearabic=1645,_e.asteriskarabic=1645,_e.asteriskmath=8727,_e.asteriskmonospace=65290,_e.asterisksmall=65121,_e.asterism=8258,_e.asuperior=63209,_e.asymptoticallyequal=8771,_e.at=64,_e.atilde=227,_e.atmonospace=65312,_e.atsmall=65131,_e.aturned=592,_e.aubengali=2452,_e.aubopomofo=12576,_e.audeva=2324,_e.augujarati=2708,_e.augurmukhi=2580,_e.aulengthmarkbengali=2519,_e.aumatragurmukhi=2636,_e.auvowelsignbengali=2508,_e.auvowelsigndeva=2380,_e.auvowelsigngujarati=2764,_e.avagrahadeva=2365,_e.aybarmenian=1377,_e.ayin=1506,_e.ayinaltonehebrew=64288,_e.ayinhebrew=1506,_e.b=98,_e.babengali=2476,_e.backslash=92,_e.backslashmonospace=65340,_e.badeva=2348,_e.bagujarati=2732,_e.bagurmukhi=2604,_e.bahiragana=12400,_e.bahtthai=3647,_e.bakatakana=12496,_e.bar=124,_e.barmonospace=65372,_e.bbopomofo=12549,_e.bcircle=9425,_e.bdotaccent=7683,_e.bdotbelow=7685,_e.beamedsixteenthnotes=9836,_e.because=8757,_e.becyrillic=1073,_e.beharabic=1576,_e.behfinalarabic=65168,_e.behinitialarabic=65169,_e.behiragana=12409,_e.behmedialarabic=65170,_e.behmeeminitialarabic=64671,_e.behmeemisolatedarabic=64520,_e.behnoonfinalarabic=64621,_e.bekatakana=12505,_e.benarmenian=1378,_e.bet=1489,_e.beta=946,_e.betasymbolgreek=976,_e.betdagesh=64305,_e.betdageshhebrew=64305,_e.bethebrew=1489,_e.betrafehebrew=64332,_e.bhabengali=2477,_e.bhadeva=2349,_e.bhagujarati=2733,_e.bhagurmukhi=2605,_e.bhook=595,_e.bihiragana=12403,_e.bikatakana=12499,_e.bilabialclick=664,_e.bindigurmukhi=2562,_e.birusquare=13105,_e.blackcircle=9679,_e.blackdiamond=9670,_e.blackdownpointingtriangle=9660,_e.blackleftpointingpointer=9668,_e.blackleftpointingtriangle=9664,_e.blacklenticularbracketleft=12304,_e.blacklenticularbracketleftvertical=65083,_e.blacklenticularbracketright=12305,_e.blacklenticularbracketrightvertical=65084,_e.blacklowerlefttriangle=9699,_e.blacklowerrighttriangle=9698,_e.blackrectangle=9644,_e.blackrightpointingpointer=9658,_e.blackrightpointingtriangle=9654,_e.blacksmallsquare=9642,_e.blacksmilingface=9787,_e.blacksquare=9632,_e.blackstar=9733,_e.blackupperlefttriangle=9700,_e.blackupperrighttriangle=9701,_e.blackuppointingsmalltriangle=9652,_e.blackuppointingtriangle=9650,_e.blank=9251,_e.blinebelow=7687,_e.block=9608,_e.bmonospace=65346,_e.bobaimaithai=3610,_e.bohiragana=12412,_e.bokatakana=12508,_e.bparen=9373,_e.bqsquare=13251,_e.braceex=63732,_e.braceleft=123,_e.braceleftbt=63731,_e.braceleftmid=63730,_e.braceleftmonospace=65371,_e.braceleftsmall=65115,_e.bracelefttp=63729,_e.braceleftvertical=65079,_e.braceright=125,_e.bracerightbt=63742,_e.bracerightmid=63741,_e.bracerightmonospace=65373,_e.bracerightsmall=65116,_e.bracerighttp=63740,_e.bracerightvertical=65080,_e.bracketleft=91,_e.bracketleftbt=63728,_e.bracketleftex=63727,_e.bracketleftmonospace=65339,_e.bracketlefttp=63726,_e.bracketright=93,_e.bracketrightbt=63739,_e.bracketrightex=63738,_e.bracketrightmonospace=65341,_e.bracketrighttp=63737,_e.breve=728,_e.brevebelowcmb=814,_e.brevecmb=774,_e.breveinvertedbelowcmb=815,_e.breveinvertedcmb=785,_e.breveinverteddoublecmb=865,_e.bridgebelowcmb=810,_e.bridgeinvertedbelowcmb=826,_e.brokenbar=166,_e.bstroke=384,_e.bsuperior=63210,_e.btopbar=387,_e.buhiragana=12406,_e.bukatakana=12502,_e.bullet=8226,_e.bulletinverse=9688,_e.bulletoperator=8729,_e.bullseye=9678,_e.c=99,_e.caarmenian=1390,_e.cabengali=2458,_e.cacute=263,_e.cadeva=2330,_e.cagujarati=2714,_e.cagurmukhi=2586,_e.calsquare=13192,_e.candrabindubengali=2433,_e.candrabinducmb=784,_e.candrabindudeva=2305,_e.candrabindugujarati=2689,_e.capslock=8682,_e.careof=8453,_e.caron=711,_e.caronbelowcmb=812,_e.caroncmb=780,_e.carriagereturn=8629,_e.cbopomofo=12568,_e.ccaron=269,_e.ccedilla=231,_e.ccedillaacute=7689,_e.ccircle=9426,_e.ccircumflex=265,_e.ccurl=597,_e.cdot=267,_e.cdotaccent=267,_e.cdsquare=13253,_e.cedilla=184,_e.cedillacmb=807,_e.cent=162,_e.centigrade=8451,_e.centinferior=63199,_e.centmonospace=65504,_e.centoldstyle=63394,_e.centsuperior=63200,_e.chaarmenian=1401,_e.chabengali=2459,_e.chadeva=2331,_e.chagujarati=2715,_e.chagurmukhi=2587,_e.chbopomofo=12564,_e.cheabkhasiancyrillic=1213,_e.checkmark=10003,_e.checyrillic=1095,_e.chedescenderabkhasiancyrillic=1215,_e.chedescendercyrillic=1207,_e.chedieresiscyrillic=1269,_e.cheharmenian=1395,_e.chekhakassiancyrillic=1228,_e.cheverticalstrokecyrillic=1209,_e.chi=967,_e.chieuchacirclekorean=12919,_e.chieuchaparenkorean=12823,_e.chieuchcirclekorean=12905,_e.chieuchkorean=12618,_e.chieuchparenkorean=12809,_e.chochangthai=3594,_e.chochanthai=3592,_e.chochingthai=3593,_e.chochoethai=3596,_e.chook=392,_e.cieucacirclekorean=12918,_e.cieucaparenkorean=12822,_e.cieuccirclekorean=12904,_e.cieuckorean=12616,_e.cieucparenkorean=12808,_e.cieucuparenkorean=12828,_e.circle=9675,_e.circlecopyrt=169,_e.circlemultiply=8855,_e.circleot=8857,_e.circleplus=8853,_e.circlepostalmark=12342,_e.circlewithlefthalfblack=9680,_e.circlewithrighthalfblack=9681,_e.circumflex=710,_e.circumflexbelowcmb=813,_e.circumflexcmb=770,_e.clear=8999,_e.clickalveolar=450,_e.clickdental=448,_e.clicklateral=449,_e.clickretroflex=451,_e.club=9827,_e.clubsuitblack=9827,_e.clubsuitwhite=9831,_e.cmcubedsquare=13220,_e.cmonospace=65347,_e.cmsquaredsquare=13216,_e.coarmenian=1409,_e.colon=58,_e.colonmonetary=8353,_e.colonmonospace=65306,_e.colonsign=8353,_e.colonsmall=65109,_e.colontriangularhalfmod=721,_e.colontriangularmod=720,_e.comma=44,_e.commaabovecmb=787,_e.commaaboverightcmb=789,_e.commaaccent=63171,_e.commaarabic=1548,_e.commaarmenian=1373,_e.commainferior=63201,_e.commamonospace=65292,_e.commareversedabovecmb=788,_e.commareversedmod=701,_e.commasmall=65104,_e.commasuperior=63202,_e.commaturnedabovecmb=786,_e.commaturnedmod=699,_e.compass=9788,_e.congruent=8773,_e.contourintegral=8750,_e.control=8963,_e.controlACK=6,_e.controlBEL=7,_e.controlBS=8,_e.controlCAN=24,_e.controlCR=13,_e.controlDC1=17,_e.controlDC2=18,_e.controlDC3=19,_e.controlDC4=20,_e.controlDEL=127,_e.controlDLE=16,_e.controlEM=25,_e.controlENQ=5,_e.controlEOT=4,_e.controlESC=27,_e.controlETB=23,_e.controlETX=3,_e.controlFF=12,_e.controlFS=28,_e.controlGS=29,_e.controlHT=9,_e.controlLF=10,_e.controlNAK=21,_e.controlNULL=0,_e.controlRS=30,_e.controlSI=15,_e.controlSO=14,_e.controlSOT=2,_e.controlSTX=1,_e.controlSUB=26,_e.controlSYN=22,_e.controlUS=31,_e.controlVT=11,_e.copyright=169,_e.copyrightsans=63721,_e.copyrightserif=63193,_e.cornerbracketleft=12300,_e.cornerbracketlefthalfwidth=65378,_e.cornerbracketleftvertical=65089,_e.cornerbracketright=12301,_e.cornerbracketrighthalfwidth=65379,_e.cornerbracketrightvertical=65090,_e.corporationsquare=13183,_e.cosquare=13255,_e.coverkgsquare=13254,_e.cparen=9374,_e.cruzeiro=8354,_e.cstretched=663,_e.curlyand=8911,_e.curlyor=8910,_e.currency=164,_e.cyrBreve=63185,_e.cyrFlex=63186,_e.cyrbreve=63188,_e.cyrflex=63189,_e.d=100,_e.daarmenian=1380,_e.dabengali=2470,_e.dadarabic=1590,_e.dadeva=2342,_e.dadfinalarabic=65214,_e.dadinitialarabic=65215,_e.dadmedialarabic=65216,_e.dagesh=1468,_e.dageshhebrew=1468,_e.dagger=8224,_e.daggerdbl=8225,_e.dagujarati=2726,_e.dagurmukhi=2598,_e.dahiragana=12384,_e.dakatakana=12480,_e.dalarabic=1583,_e.dalet=1491,_e.daletdagesh=64307,_e.daletdageshhebrew=64307,_e.dalethebrew=1491,_e.dalfinalarabic=65194,_e.dammaarabic=1615,_e.dammalowarabic=1615,_e.dammatanaltonearabic=1612,_e.dammatanarabic=1612,_e.danda=2404,_e.dargahebrew=1447,_e.dargalefthebrew=1447,_e.dasiapneumatacyrilliccmb=1157,_e.dblGrave=63187,_e.dblanglebracketleft=12298,_e.dblanglebracketleftvertical=65085,_e.dblanglebracketright=12299,_e.dblanglebracketrightvertical=65086,_e.dblarchinvertedbelowcmb=811,_e.dblarrowleft=8660,_e.dblarrowright=8658,_e.dbldanda=2405,_e.dblgrave=63190,_e.dblgravecmb=783,_e.dblintegral=8748,_e.dbllowline=8215,_e.dbllowlinecmb=819,_e.dbloverlinecmb=831,_e.dblprimemod=698,_e.dblverticalbar=8214,_e.dblverticallineabovecmb=782,_e.dbopomofo=12553,_e.dbsquare=13256,_e.dcaron=271,_e.dcedilla=7697,_e.dcircle=9427,_e.dcircumflexbelow=7699,_e.dcroat=273,_e.ddabengali=2465,_e.ddadeva=2337,_e.ddagujarati=2721,_e.ddagurmukhi=2593,_e.ddalarabic=1672,_e.ddalfinalarabic=64393,_e.dddhadeva=2396,_e.ddhabengali=2466,_e.ddhadeva=2338,_e.ddhagujarati=2722,_e.ddhagurmukhi=2594,_e.ddotaccent=7691,_e.ddotbelow=7693,_e.decimalseparatorarabic=1643,_e.decimalseparatorpersian=1643,_e.decyrillic=1076,_e.degree=176,_e.dehihebrew=1453,_e.dehiragana=12391,_e.deicoptic=1007,_e.dekatakana=12487,_e.deleteleft=9003,_e.deleteright=8998,_e.delta=948,_e.deltaturned=397,_e.denominatorminusonenumeratorbengali=2552,_e.dezh=676,_e.dhabengali=2471,_e.dhadeva=2343,_e.dhagujarati=2727,_e.dhagurmukhi=2599,_e.dhook=599,_e.dialytikatonos=901,_e.dialytikatonoscmb=836,_e.diamond=9830,_e.diamondsuitwhite=9826,_e.dieresis=168,_e.dieresisacute=63191,_e.dieresisbelowcmb=804,_e.dieresiscmb=776,_e.dieresisgrave=63192,_e.dieresistonos=901,_e.dihiragana=12386,_e.dikatakana=12482,_e.dittomark=12291,_e.divide=247,_e.divides=8739,_e.divisionslash=8725,_e.djecyrillic=1106,_e.dkshade=9619,_e.dlinebelow=7695,_e.dlsquare=13207,_e.dmacron=273,_e.dmonospace=65348,_e.dnblock=9604,_e.dochadathai=3598,_e.dodekthai=3604,_e.dohiragana=12393,_e.dokatakana=12489,_e.dollar=36,_e.dollarinferior=63203,_e.dollarmonospace=65284,_e.dollaroldstyle=63268,_e.dollarsmall=65129,_e.dollarsuperior=63204,_e.dong=8363,_e.dorusquare=13094,_e.dotaccent=729,_e.dotaccentcmb=775,_e.dotbelowcmb=803,_e.dotbelowcomb=803,_e.dotkatakana=12539,_e.dotlessi=305,_e.dotlessj=63166,_e.dotlessjstrokehook=644,_e.dotmath=8901,_e.dottedcircle=9676,_e.doubleyodpatah=64287,_e.doubleyodpatahhebrew=64287,_e.downtackbelowcmb=798,_e.downtackmod=725,_e.dparen=9375,_e.dsuperior=63211,_e.dtail=598,_e.dtopbar=396,_e.duhiragana=12389,_e.dukatakana=12485,_e.dz=499,_e.dzaltone=675,_e.dzcaron=454,_e.dzcurl=677,_e.dzeabkhasiancyrillic=1249,_e.dzecyrillic=1109,_e.dzhecyrillic=1119,_e.e=101,_e.eacute=233,_e.earth=9793,_e.ebengali=2447,_e.ebopomofo=12572,_e.ebreve=277,_e.ecandradeva=2317,_e.ecandragujarati=2701,_e.ecandravowelsigndeva=2373,_e.ecandravowelsigngujarati=2757,_e.ecaron=283,_e.ecedillabreve=7709,_e.echarmenian=1381,_e.echyiwnarmenian=1415,_e.ecircle=9428,_e.ecircumflex=234,_e.ecircumflexacute=7871,_e.ecircumflexbelow=7705,_e.ecircumflexdotbelow=7879,_e.ecircumflexgrave=7873,_e.ecircumflexhookabove=7875,_e.ecircumflextilde=7877,_e.ecyrillic=1108,_e.edblgrave=517,_e.edeva=2319,_e.edieresis=235,_e.edot=279,_e.edotaccent=279,_e.edotbelow=7865,_e.eegurmukhi=2575,_e.eematragurmukhi=2631,_e.efcyrillic=1092,_e.egrave=232,_e.egujarati=2703,_e.eharmenian=1383,_e.ehbopomofo=12573,_e.ehiragana=12360,_e.ehookabove=7867,_e.eibopomofo=12575,_e.eight=56,_e.eightarabic=1640,_e.eightbengali=2542,_e.eightcircle=9319,_e.eightcircleinversesansserif=10129,_e.eightdeva=2414,_e.eighteencircle=9329,_e.eighteenparen=9349,_e.eighteenperiod=9369,_e.eightgujarati=2798,_e.eightgurmukhi=2670,_e.eighthackarabic=1640,_e.eighthangzhou=12328,_e.eighthnotebeamed=9835,_e.eightideographicparen=12839,_e.eightinferior=8328,_e.eightmonospace=65304,_e.eightoldstyle=63288,_e.eightparen=9339,_e.eightperiod=9359,_e.eightpersian=1784,_e.eightroman=8567,_e.eightsuperior=8312,_e.eightthai=3672,_e.einvertedbreve=519,_e.eiotifiedcyrillic=1125,_e.ekatakana=12456,_e.ekatakanahalfwidth=65396,_e.ekonkargurmukhi=2676,_e.ekorean=12628,_e.elcyrillic=1083,_e.element=8712,_e.elevencircle=9322,_e.elevenparen=9342,_e.elevenperiod=9362,_e.elevenroman=8570,_e.ellipsis=8230,_e.ellipsisvertical=8942,_e.emacron=275,_e.emacronacute=7703,_e.emacrongrave=7701,_e.emcyrillic=1084,_e.emdash=8212,_e.emdashvertical=65073,_e.emonospace=65349,_e.emphasismarkarmenian=1371,_e.emptyset=8709,_e.enbopomofo=12579,_e.encyrillic=1085,_e.endash=8211,_e.endashvertical=65074,_e.endescendercyrillic=1187,_e.eng=331,_e.engbopomofo=12581,_e.enghecyrillic=1189,_e.enhookcyrillic=1224,_e.enspace=8194,_e.eogonek=281,_e.eokorean=12627,_e.eopen=603,_e.eopenclosed=666,_e.eopenreversed=604,_e.eopenreversedclosed=606,_e.eopenreversedhook=605,_e.eparen=9376,_e.epsilon=949,_e.epsilontonos=941,_e.equal=61,_e.equalmonospace=65309,_e.equalsmall=65126,_e.equalsuperior=8316,_e.equivalence=8801,_e.erbopomofo=12582,_e.ercyrillic=1088,_e.ereversed=600,_e.ereversedcyrillic=1101,_e.escyrillic=1089,_e.esdescendercyrillic=1195,_e.esh=643,_e.eshcurl=646,_e.eshortdeva=2318,_e.eshortvowelsigndeva=2374,_e.eshreversedloop=426,_e.eshsquatreversed=645,_e.esmallhiragana=12359,_e.esmallkatakana=12455,_e.esmallkatakanahalfwidth=65386,_e.estimated=8494,_e.esuperior=63212,_e.eta=951,_e.etarmenian=1384,_e.etatonos=942,_e.eth=240,_e.etilde=7869,_e.etildebelow=7707,_e.etnahtafoukhhebrew=1425,_e.etnahtafoukhlefthebrew=1425,_e.etnahtahebrew=1425,_e.etnahtalefthebrew=1425,_e.eturned=477,_e.eukorean=12641,_e.euro=8364,_e.evowelsignbengali=2503,_e.evowelsigndeva=2375,_e.evowelsigngujarati=2759,_e.exclam=33,_e.exclamarmenian=1372,_e.exclamdbl=8252,_e.exclamdown=161,_e.exclamdownsmall=63393,_e.exclammonospace=65281,_e.exclamsmall=63265,_e.existential=8707,_e.ezh=658,_e.ezhcaron=495,_e.ezhcurl=659,_e.ezhreversed=441,_e.ezhtail=442,_e.f=102,_e.fadeva=2398,_e.fagurmukhi=2654,_e.fahrenheit=8457,_e.fathaarabic=1614,_e.fathalowarabic=1614,_e.fathatanarabic=1611,_e.fbopomofo=12552,_e.fcircle=9429,_e.fdotaccent=7711,_e.feharabic=1601,_e.feharmenian=1414,_e.fehfinalarabic=65234,_e.fehinitialarabic=65235,_e.fehmedialarabic=65236,_e.feicoptic=997,_e.female=9792,_e.ff=64256,_e.f_f=64256,_e.ffi=64259,_e.f_f_i=64259,_e.ffl=64260,_e.f_f_l=64260,_e.fi=64257,_e.f_i=64257,_e.fifteencircle=9326,_e.fifteenparen=9346,_e.fifteenperiod=9366,_e.figuredash=8210,_e.filledbox=9632,_e.filledrect=9644,_e.finalkaf=1498,_e.finalkafdagesh=64314,_e.finalkafdageshhebrew=64314,_e.finalkafhebrew=1498,_e.finalmem=1501,_e.finalmemhebrew=1501,_e.finalnun=1503,_e.finalnunhebrew=1503,_e.finalpe=1507,_e.finalpehebrew=1507,_e.finaltsadi=1509,_e.finaltsadihebrew=1509,_e.firsttonechinese=713,_e.fisheye=9673,_e.fitacyrillic=1139,_e.five=53,_e.fivearabic=1637,_e.fivebengali=2539,_e.fivecircle=9316,_e.fivecircleinversesansserif=10126,_e.fivedeva=2411,_e.fiveeighths=8541,_e.fivegujarati=2795,_e.fivegurmukhi=2667,_e.fivehackarabic=1637,_e.fivehangzhou=12325,_e.fiveideographicparen=12836,_e.fiveinferior=8325,_e.fivemonospace=65301,_e.fiveoldstyle=63285,_e.fiveparen=9336,_e.fiveperiod=9356,_e.fivepersian=1781,_e.fiveroman=8564,_e.fivesuperior=8309,_e.fivethai=3669,_e.fl=64258,_e.f_l=64258,_e.florin=402,_e.fmonospace=65350,_e.fmsquare=13209,_e.fofanthai=3615,_e.fofathai=3613,_e.fongmanthai=3663,_e.forall=8704,_e.four=52,_e.fourarabic=1636,_e.fourbengali=2538,_e.fourcircle=9315,_e.fourcircleinversesansserif=10125,_e.fourdeva=2410,_e.fourgujarati=2794,_e.fourgurmukhi=2666,_e.fourhackarabic=1636,_e.fourhangzhou=12324,_e.fourideographicparen=12835,_e.fourinferior=8324,_e.fourmonospace=65300,_e.fournumeratorbengali=2551,_e.fouroldstyle=63284,_e.fourparen=9335,_e.fourperiod=9355,_e.fourpersian=1780,_e.fourroman=8563,_e.foursuperior=8308,_e.fourteencircle=9325,_e.fourteenparen=9345,_e.fourteenperiod=9365,_e.fourthai=3668,_e.fourthtonechinese=715,_e.fparen=9377,_e.fraction=8260,_e.franc=8355,_e.g=103,_e.gabengali=2455,_e.gacute=501,_e.gadeva=2327,_e.gafarabic=1711,_e.gaffinalarabic=64403,_e.gafinitialarabic=64404,_e.gafmedialarabic=64405,_e.gagujarati=2711,_e.gagurmukhi=2583,_e.gahiragana=12364,_e.gakatakana=12460,_e.gamma=947,_e.gammalatinsmall=611,_e.gammasuperior=736,_e.gangiacoptic=1003,_e.gbopomofo=12557,_e.gbreve=287,_e.gcaron=487,_e.gcedilla=291,_e.gcircle=9430,_e.gcircumflex=285,_e.gcommaaccent=291,_e.gdot=289,_e.gdotaccent=289,_e.gecyrillic=1075,_e.gehiragana=12370,_e.gekatakana=12466,_e.geometricallyequal=8785,_e.gereshaccenthebrew=1436,_e.gereshhebrew=1523,_e.gereshmuqdamhebrew=1437,_e.germandbls=223,_e.gershayimaccenthebrew=1438,_e.gershayimhebrew=1524,_e.getamark=12307,_e.ghabengali=2456,_e.ghadarmenian=1394,_e.ghadeva=2328,_e.ghagujarati=2712,_e.ghagurmukhi=2584,_e.ghainarabic=1594,_e.ghainfinalarabic=65230,_e.ghaininitialarabic=65231,_e.ghainmedialarabic=65232,_e.ghemiddlehookcyrillic=1173,_e.ghestrokecyrillic=1171,_e.gheupturncyrillic=1169,_e.ghhadeva=2394,_e.ghhagurmukhi=2650,_e.ghook=608,_e.ghzsquare=13203,_e.gihiragana=12366,_e.gikatakana=12462,_e.gimarmenian=1379,_e.gimel=1490,_e.gimeldagesh=64306,_e.gimeldageshhebrew=64306,_e.gimelhebrew=1490,_e.gjecyrillic=1107,_e.glottalinvertedstroke=446,_e.glottalstop=660,_e.glottalstopinverted=662,_e.glottalstopmod=704,_e.glottalstopreversed=661,_e.glottalstopreversedmod=705,_e.glottalstopreversedsuperior=740,_e.glottalstopstroke=673,_e.glottalstopstrokereversed=674,_e.gmacron=7713,_e.gmonospace=65351,_e.gohiragana=12372,_e.gokatakana=12468,_e.gparen=9378,_e.gpasquare=13228,_e.gradient=8711,_e.grave=96,_e.gravebelowcmb=790,_e.gravecmb=768,_e.gravecomb=768,_e.gravedeva=2387,_e.gravelowmod=718,_e.gravemonospace=65344,_e.gravetonecmb=832,_e.greater=62,_e.greaterequal=8805,_e.greaterequalorless=8923,_e.greatermonospace=65310,_e.greaterorequivalent=8819,_e.greaterorless=8823,_e.greateroverequal=8807,_e.greatersmall=65125,_e.gscript=609,_e.gstroke=485,_e.guhiragana=12368,_e.guillemotleft=171,_e.guillemotright=187,_e.guilsinglleft=8249,_e.guilsinglright=8250,_e.gukatakana=12464,_e.guramusquare=13080,_e.gysquare=13257,_e.h=104,_e.haabkhasiancyrillic=1193,_e.haaltonearabic=1729,_e.habengali=2489,_e.hadescendercyrillic=1203,_e.hadeva=2361,_e.hagujarati=2745,_e.hagurmukhi=2617,_e.haharabic=1581,_e.hahfinalarabic=65186,_e.hahinitialarabic=65187,_e.hahiragana=12399,_e.hahmedialarabic=65188,_e.haitusquare=13098,_e.hakatakana=12495,_e.hakatakanahalfwidth=65418,_e.halantgurmukhi=2637,_e.hamzaarabic=1569,_e.hamzalowarabic=1569,_e.hangulfiller=12644,_e.hardsigncyrillic=1098,_e.harpoonleftbarbup=8636,_e.harpoonrightbarbup=8640,_e.hasquare=13258,_e.hatafpatah=1458,_e.hatafpatah16=1458,_e.hatafpatah23=1458,_e.hatafpatah2f=1458,_e.hatafpatahhebrew=1458,_e.hatafpatahnarrowhebrew=1458,_e.hatafpatahquarterhebrew=1458,_e.hatafpatahwidehebrew=1458,_e.hatafqamats=1459,_e.hatafqamats1b=1459,_e.hatafqamats28=1459,_e.hatafqamats34=1459,_e.hatafqamatshebrew=1459,_e.hatafqamatsnarrowhebrew=1459,_e.hatafqamatsquarterhebrew=1459,_e.hatafqamatswidehebrew=1459,_e.hatafsegol=1457,_e.hatafsegol17=1457,_e.hatafsegol24=1457,_e.hatafsegol30=1457,_e.hatafsegolhebrew=1457,_e.hatafsegolnarrowhebrew=1457,_e.hatafsegolquarterhebrew=1457,_e.hatafsegolwidehebrew=1457,_e.hbar=295,_e.hbopomofo=12559,_e.hbrevebelow=7723,_e.hcedilla=7721,_e.hcircle=9431,_e.hcircumflex=293,_e.hdieresis=7719,_e.hdotaccent=7715,_e.hdotbelow=7717,_e.he=1492,_e.heart=9829,_e.heartsuitblack=9829,_e.heartsuitwhite=9825,_e.hedagesh=64308,_e.hedageshhebrew=64308,_e.hehaltonearabic=1729,_e.heharabic=1607,_e.hehebrew=1492,_e.hehfinalaltonearabic=64423,_e.hehfinalalttwoarabic=65258,_e.hehfinalarabic=65258,_e.hehhamzaabovefinalarabic=64421,_e.hehhamzaaboveisolatedarabic=64420,_e.hehinitialaltonearabic=64424,_e.hehinitialarabic=65259,_e.hehiragana=12408,_e.hehmedialaltonearabic=64425,_e.hehmedialarabic=65260,_e.heiseierasquare=13179,_e.hekatakana=12504,_e.hekatakanahalfwidth=65421,_e.hekutaarusquare=13110,_e.henghook=615,_e.herutusquare=13113,_e.het=1495,_e.hethebrew=1495,_e.hhook=614,_e.hhooksuperior=689,_e.hieuhacirclekorean=12923,_e.hieuhaparenkorean=12827,_e.hieuhcirclekorean=12909,_e.hieuhkorean=12622,_e.hieuhparenkorean=12813,_e.hihiragana=12402,_e.hikatakana=12498,_e.hikatakanahalfwidth=65419,_e.hiriq=1460,_e.hiriq14=1460,_e.hiriq21=1460,_e.hiriq2d=1460,_e.hiriqhebrew=1460,_e.hiriqnarrowhebrew=1460,_e.hiriqquarterhebrew=1460,_e.hiriqwidehebrew=1460,_e.hlinebelow=7830,_e.hmonospace=65352,_e.hoarmenian=1392,_e.hohipthai=3627,_e.hohiragana=12411,_e.hokatakana=12507,_e.hokatakanahalfwidth=65422,_e.holam=1465,_e.holam19=1465,_e.holam26=1465,_e.holam32=1465,_e.holamhebrew=1465,_e.holamnarrowhebrew=1465,_e.holamquarterhebrew=1465,_e.holamwidehebrew=1465,_e.honokhukthai=3630,_e.hookabovecomb=777,_e.hookcmb=777,_e.hookpalatalizedbelowcmb=801,_e.hookretroflexbelowcmb=802,_e.hoonsquare=13122,_e.horicoptic=1001,_e.horizontalbar=8213,_e.horncmb=795,_e.hotsprings=9832,_e.house=8962,_e.hparen=9379,_e.hsuperior=688,_e.hturned=613,_e.huhiragana=12405,_e.huiitosquare=13107,_e.hukatakana=12501,_e.hukatakanahalfwidth=65420,_e.hungarumlaut=733,_e.hungarumlautcmb=779,_e.hv=405,_e.hyphen=45,_e.hypheninferior=63205,_e.hyphenmonospace=65293,_e.hyphensmall=65123,_e.hyphensuperior=63206,_e.hyphentwo=8208,_e.i=105,_e.iacute=237,_e.iacyrillic=1103,_e.ibengali=2439,_e.ibopomofo=12583,_e.ibreve=301,_e.icaron=464,_e.icircle=9432,_e.icircumflex=238,_e.icyrillic=1110,_e.idblgrave=521,_e.ideographearthcircle=12943,_e.ideographfirecircle=12939,_e.ideographicallianceparen=12863,_e.ideographiccallparen=12858,_e.ideographiccentrecircle=12965,_e.ideographicclose=12294,_e.ideographiccomma=12289,_e.ideographiccommaleft=65380,_e.ideographiccongratulationparen=12855,_e.ideographiccorrectcircle=12963,_e.ideographicearthparen=12847,_e.ideographicenterpriseparen=12861,_e.ideographicexcellentcircle=12957,_e.ideographicfestivalparen=12864,_e.ideographicfinancialcircle=12950,_e.ideographicfinancialparen=12854,_e.ideographicfireparen=12843,_e.ideographichaveparen=12850,_e.ideographichighcircle=12964,_e.ideographiciterationmark=12293,_e.ideographiclaborcircle=12952,_e.ideographiclaborparen=12856,_e.ideographicleftcircle=12967,_e.ideographiclowcircle=12966,_e.ideographicmedicinecircle=12969,_e.ideographicmetalparen=12846,_e.ideographicmoonparen=12842,_e.ideographicnameparen=12852,_e.ideographicperiod=12290,_e.ideographicprintcircle=12958,_e.ideographicreachparen=12867,_e.ideographicrepresentparen=12857,_e.ideographicresourceparen=12862,_e.ideographicrightcircle=12968,_e.ideographicsecretcircle=12953,_e.ideographicselfparen=12866,_e.ideographicsocietyparen=12851,_e.ideographicspace=12288,_e.ideographicspecialparen=12853,_e.ideographicstockparen=12849,_e.ideographicstudyparen=12859,_e.ideographicsunparen=12848,_e.ideographicsuperviseparen=12860,_e.ideographicwaterparen=12844,_e.ideographicwoodparen=12845,_e.ideographiczero=12295,_e.ideographmetalcircle=12942,_e.ideographmooncircle=12938,_e.ideographnamecircle=12948,_e.ideographsuncircle=12944,_e.ideographwatercircle=12940,_e.ideographwoodcircle=12941,_e.ideva=2311,_e.idieresis=239,_e.idieresisacute=7727,_e.idieresiscyrillic=1253,_e.idotbelow=7883,_e.iebrevecyrillic=1239,_e.iecyrillic=1077,_e.ieungacirclekorean=12917,_e.ieungaparenkorean=12821,_e.ieungcirclekorean=12903,_e.ieungkorean=12615,_e.ieungparenkorean=12807,_e.igrave=236,_e.igujarati=2695,_e.igurmukhi=2567,_e.ihiragana=12356,_e.ihookabove=7881,_e.iibengali=2440,_e.iicyrillic=1080,_e.iideva=2312,_e.iigujarati=2696,_e.iigurmukhi=2568,_e.iimatragurmukhi=2624,_e.iinvertedbreve=523,_e.iishortcyrillic=1081,_e.iivowelsignbengali=2496,_e.iivowelsigndeva=2368,_e.iivowelsigngujarati=2752,_e.ij=307,_e.ikatakana=12452,_e.ikatakanahalfwidth=65394,_e.ikorean=12643,_e.ilde=732,_e.iluyhebrew=1452,_e.imacron=299,_e.imacroncyrillic=1251,_e.imageorapproximatelyequal=8787,_e.imatragurmukhi=2623,_e.imonospace=65353,_e.increment=8710,_e.infinity=8734,_e.iniarmenian=1387,_e.integral=8747,_e.integralbottom=8993,_e.integralbt=8993,_e.integralex=63733,_e.integraltop=8992,_e.integraltp=8992,_e.intersection=8745,_e.intisquare=13061,_e.invbullet=9688,_e.invcircle=9689,_e.invsmileface=9787,_e.iocyrillic=1105,_e.iogonek=303,_e.iota=953,_e.iotadieresis=970,_e.iotadieresistonos=912,_e.iotalatin=617,_e.iotatonos=943,_e.iparen=9380,_e.irigurmukhi=2674,_e.ismallhiragana=12355,_e.ismallkatakana=12451,_e.ismallkatakanahalfwidth=65384,_e.issharbengali=2554,_e.istroke=616,_e.isuperior=63213,_e.iterationhiragana=12445,_e.iterationkatakana=12541,_e.itilde=297,_e.itildebelow=7725,_e.iubopomofo=12585,_e.iucyrillic=1102,_e.ivowelsignbengali=2495,_e.ivowelsigndeva=2367,_e.ivowelsigngujarati=2751,_e.izhitsacyrillic=1141,_e.izhitsadblgravecyrillic=1143,_e.j=106,_e.jaarmenian=1393,_e.jabengali=2460,_e.jadeva=2332,_e.jagujarati=2716,_e.jagurmukhi=2588,_e.jbopomofo=12560,_e.jcaron=496,_e.jcircle=9433,_e.jcircumflex=309,_e.jcrossedtail=669,_e.jdotlessstroke=607,_e.jecyrillic=1112,_e.jeemarabic=1580,_e.jeemfinalarabic=65182,_e.jeeminitialarabic=65183,_e.jeemmedialarabic=65184,_e.jeharabic=1688,_e.jehfinalarabic=64395,_e.jhabengali=2461,_e.jhadeva=2333,_e.jhagujarati=2717,_e.jhagurmukhi=2589,_e.jheharmenian=1403,_e.jis=12292,_e.jmonospace=65354,_e.jparen=9381,_e.jsuperior=690,_e.k=107,_e.kabashkircyrillic=1185,_e.kabengali=2453,_e.kacute=7729,_e.kacyrillic=1082,_e.kadescendercyrillic=1179,_e.kadeva=2325,_e.kaf=1499,_e.kafarabic=1603,_e.kafdagesh=64315,_e.kafdageshhebrew=64315,_e.kaffinalarabic=65242,_e.kafhebrew=1499,_e.kafinitialarabic=65243,_e.kafmedialarabic=65244,_e.kafrafehebrew=64333,_e.kagujarati=2709,_e.kagurmukhi=2581,_e.kahiragana=12363,_e.kahookcyrillic=1220,_e.kakatakana=12459,_e.kakatakanahalfwidth=65398,_e.kappa=954,_e.kappasymbolgreek=1008,_e.kapyeounmieumkorean=12657,_e.kapyeounphieuphkorean=12676,_e.kapyeounpieupkorean=12664,_e.kapyeounssangpieupkorean=12665,_e.karoriisquare=13069,_e.kashidaautoarabic=1600,_e.kashidaautonosidebearingarabic=1600,_e.kasmallkatakana=12533,_e.kasquare=13188,_e.kasraarabic=1616,_e.kasratanarabic=1613,_e.kastrokecyrillic=1183,_e.katahiraprolongmarkhalfwidth=65392,_e.kaverticalstrokecyrillic=1181,_e.kbopomofo=12558,_e.kcalsquare=13193,_e.kcaron=489,_e.kcedilla=311,_e.kcircle=9434,_e.kcommaaccent=311,_e.kdotbelow=7731,_e.keharmenian=1412,_e.kehiragana=12369,_e.kekatakana=12465,_e.kekatakanahalfwidth=65401,_e.kenarmenian=1391,_e.kesmallkatakana=12534,_e.kgreenlandic=312,_e.khabengali=2454,_e.khacyrillic=1093,_e.khadeva=2326,_e.khagujarati=2710,_e.khagurmukhi=2582,_e.khaharabic=1582,_e.khahfinalarabic=65190,_e.khahinitialarabic=65191,_e.khahmedialarabic=65192,_e.kheicoptic=999,_e.khhadeva=2393,_e.khhagurmukhi=2649,_e.khieukhacirclekorean=12920,_e.khieukhaparenkorean=12824,_e.khieukhcirclekorean=12906,_e.khieukhkorean=12619,_e.khieukhparenkorean=12810,_e.khokhaithai=3586,_e.khokhonthai=3589,_e.khokhuatthai=3587,_e.khokhwaithai=3588,_e.khomutthai=3675,_e.khook=409,_e.khorakhangthai=3590,_e.khzsquare=13201,_e.kihiragana=12365,_e.kikatakana=12461,_e.kikatakanahalfwidth=65399,_e.kiroguramusquare=13077,_e.kiromeetorusquare=13078,_e.kirosquare=13076,_e.kiyeokacirclekorean=12910,_e.kiyeokaparenkorean=12814,_e.kiyeokcirclekorean=12896,_e.kiyeokkorean=12593,_e.kiyeokparenkorean=12800,_e.kiyeoksioskorean=12595,_e.kjecyrillic=1116,_e.klinebelow=7733,_e.klsquare=13208,_e.kmcubedsquare=13222,_e.kmonospace=65355,_e.kmsquaredsquare=13218,_e.kohiragana=12371,_e.kohmsquare=13248,_e.kokaithai=3585,_e.kokatakana=12467,_e.kokatakanahalfwidth=65402,_e.kooposquare=13086,_e.koppacyrillic=1153,_e.koreanstandardsymbol=12927,_e.koroniscmb=835,_e.kparen=9382,_e.kpasquare=13226,_e.ksicyrillic=1135,_e.ktsquare=13263,_e.kturned=670,_e.kuhiragana=12367,_e.kukatakana=12463,_e.kukatakanahalfwidth=65400,_e.kvsquare=13240,_e.kwsquare=13246,_e.l=108,_e.labengali=2482,_e.lacute=314,_e.ladeva=2354,_e.lagujarati=2738,_e.lagurmukhi=2610,_e.lakkhangyaothai=3653,_e.lamaleffinalarabic=65276,_e.lamalefhamzaabovefinalarabic=65272,_e.lamalefhamzaaboveisolatedarabic=65271,_e.lamalefhamzabelowfinalarabic=65274,_e.lamalefhamzabelowisolatedarabic=65273,_e.lamalefisolatedarabic=65275,_e.lamalefmaddaabovefinalarabic=65270,_e.lamalefmaddaaboveisolatedarabic=65269,_e.lamarabic=1604,_e.lambda=955,_e.lambdastroke=411,_e.lamed=1500,_e.lameddagesh=64316,_e.lameddageshhebrew=64316,_e.lamedhebrew=1500,_e.lamfinalarabic=65246,_e.lamhahinitialarabic=64714,_e.laminitialarabic=65247,_e.lamjeeminitialarabic=64713,_e.lamkhahinitialarabic=64715,_e.lamlamhehisolatedarabic=65010,_e.lammedialarabic=65248,_e.lammeemhahinitialarabic=64904,_e.lammeeminitialarabic=64716,_e.largecircle=9711,_e.lbar=410,_e.lbelt=620,_e.lbopomofo=12556,_e.lcaron=318,_e.lcedilla=316,_e.lcircle=9435,_e.lcircumflexbelow=7741,_e.lcommaaccent=316,_e.ldot=320,_e.ldotaccent=320,_e.ldotbelow=7735,_e.ldotbelowmacron=7737,_e.leftangleabovecmb=794,_e.lefttackbelowcmb=792,_e.less=60,_e.lessequal=8804,_e.lessequalorgreater=8922,_e.lessmonospace=65308,_e.lessorequivalent=8818,_e.lessorgreater=8822,_e.lessoverequal=8806,_e.lesssmall=65124,_e.lezh=622,_e.lfblock=9612,_e.lhookretroflex=621,_e.lira=8356,_e.liwnarmenian=1388,_e.lj=457,_e.ljecyrillic=1113,_e.ll=63168,_e.lladeva=2355,_e.llagujarati=2739,_e.llinebelow=7739,_e.llladeva=2356,_e.llvocalicbengali=2529,_e.llvocalicdeva=2401,_e.llvocalicvowelsignbengali=2531,_e.llvocalicvowelsigndeva=2403,_e.lmiddletilde=619,_e.lmonospace=65356,_e.lmsquare=13264,_e.lochulathai=3628,_e.logicaland=8743,_e.logicalnot=172,_e.logicalnotreversed=8976,_e.logicalor=8744,_e.lolingthai=3621,_e.longs=383,_e.lowlinecenterline=65102,_e.lowlinecmb=818,_e.lowlinedashed=65101,_e.lozenge=9674,_e.lparen=9383,_e.lslash=322,_e.lsquare=8467,_e.lsuperior=63214,_e.ltshade=9617,_e.luthai=3622,_e.lvocalicbengali=2444,_e.lvocalicdeva=2316,_e.lvocalicvowelsignbengali=2530,_e.lvocalicvowelsigndeva=2402,_e.lxsquare=13267,_e.m=109,_e.mabengali=2478,_e.macron=175,_e.macronbelowcmb=817,_e.macroncmb=772,_e.macronlowmod=717,_e.macronmonospace=65507,_e.macute=7743,_e.madeva=2350,_e.magujarati=2734,_e.magurmukhi=2606,_e.mahapakhhebrew=1444,_e.mahapakhlefthebrew=1444,_e.mahiragana=12414,_e.maichattawalowleftthai=63637,_e.maichattawalowrightthai=63636,_e.maichattawathai=3659,_e.maichattawaupperleftthai=63635,_e.maieklowleftthai=63628,_e.maieklowrightthai=63627,_e.maiekthai=3656,_e.maiekupperleftthai=63626,_e.maihanakatleftthai=63620,_e.maihanakatthai=3633,_e.maitaikhuleftthai=63625,_e.maitaikhuthai=3655,_e.maitholowleftthai=63631,_e.maitholowrightthai=63630,_e.maithothai=3657,_e.maithoupperleftthai=63629,_e.maitrilowleftthai=63634,_e.maitrilowrightthai=63633,_e.maitrithai=3658,_e.maitriupperleftthai=63632,_e.maiyamokthai=3654,_e.makatakana=12510,_e.makatakanahalfwidth=65423,_e.male=9794,_e.mansyonsquare=13127,_e.maqafhebrew=1470,_e.mars=9794,_e.masoracirclehebrew=1455,_e.masquare=13187,_e.mbopomofo=12551,_e.mbsquare=13268,_e.mcircle=9436,_e.mcubedsquare=13221,_e.mdotaccent=7745,_e.mdotbelow=7747,_e.meemarabic=1605,_e.meemfinalarabic=65250,_e.meeminitialarabic=65251,_e.meemmedialarabic=65252,_e.meemmeeminitialarabic=64721,_e.meemmeemisolatedarabic=64584,_e.meetorusquare=13133,_e.mehiragana=12417,_e.meizierasquare=13182,_e.mekatakana=12513,_e.mekatakanahalfwidth=65426,_e.mem=1502,_e.memdagesh=64318,_e.memdageshhebrew=64318,_e.memhebrew=1502,_e.menarmenian=1396,_e.merkhahebrew=1445,_e.merkhakefulahebrew=1446,_e.merkhakefulalefthebrew=1446,_e.merkhalefthebrew=1445,_e.mhook=625,_e.mhzsquare=13202,_e.middledotkatakanahalfwidth=65381,_e.middot=183,_e.mieumacirclekorean=12914,_e.mieumaparenkorean=12818,_e.mieumcirclekorean=12900,_e.mieumkorean=12609,_e.mieumpansioskorean=12656,_e.mieumparenkorean=12804,_e.mieumpieupkorean=12654,_e.mieumsioskorean=12655,_e.mihiragana=12415,_e.mikatakana=12511,_e.mikatakanahalfwidth=65424,_e.minus=8722,_e.minusbelowcmb=800,_e.minuscircle=8854,_e.minusmod=727,_e.minusplus=8723,_e.minute=8242,_e.miribaarusquare=13130,_e.mirisquare=13129,_e.mlonglegturned=624,_e.mlsquare=13206,_e.mmcubedsquare=13219,_e.mmonospace=65357,_e.mmsquaredsquare=13215,_e.mohiragana=12418,_e.mohmsquare=13249,_e.mokatakana=12514,_e.mokatakanahalfwidth=65427,_e.molsquare=13270,_e.momathai=3617,_e.moverssquare=13223,_e.moverssquaredsquare=13224,_e.mparen=9384,_e.mpasquare=13227,_e.mssquare=13235,_e.msuperior=63215,_e.mturned=623,_e.mu=181,_e.mu1=181,_e.muasquare=13186,_e.muchgreater=8811,_e.muchless=8810,_e.mufsquare=13196,_e.mugreek=956,_e.mugsquare=13197,_e.muhiragana=12416,_e.mukatakana=12512,_e.mukatakanahalfwidth=65425,_e.mulsquare=13205,_e.multiply=215,_e.mumsquare=13211,_e.munahhebrew=1443,_e.munahlefthebrew=1443,_e.musicalnote=9834,_e.musicalnotedbl=9835,_e.musicflatsign=9837,_e.musicsharpsign=9839,_e.mussquare=13234,_e.muvsquare=13238,_e.muwsquare=13244,_e.mvmegasquare=13241,_e.mvsquare=13239,_e.mwmegasquare=13247,_e.mwsquare=13245,_e.n=110,_e.nabengali=2472,_e.nabla=8711,_e.nacute=324,_e.nadeva=2344,_e.nagujarati=2728,_e.nagurmukhi=2600,_e.nahiragana=12394,_e.nakatakana=12490,_e.nakatakanahalfwidth=65413,_e.napostrophe=329,_e.nasquare=13185,_e.nbopomofo=12555,_e.nbspace=160,_e.ncaron=328,_e.ncedilla=326,_e.ncircle=9437,_e.ncircumflexbelow=7755,_e.ncommaaccent=326,_e.ndotaccent=7749,_e.ndotbelow=7751,_e.nehiragana=12397,_e.nekatakana=12493,_e.nekatakanahalfwidth=65416,_e.newsheqelsign=8362,_e.nfsquare=13195,_e.ngabengali=2457,_e.ngadeva=2329,_e.ngagujarati=2713,_e.ngagurmukhi=2585,_e.ngonguthai=3591,_e.nhiragana=12435,_e.nhookleft=626,_e.nhookretroflex=627,_e.nieunacirclekorean=12911,_e.nieunaparenkorean=12815,_e.nieuncieuckorean=12597,_e.nieuncirclekorean=12897,_e.nieunhieuhkorean=12598,_e.nieunkorean=12596,_e.nieunpansioskorean=12648,_e.nieunparenkorean=12801,_e.nieunsioskorean=12647,_e.nieuntikeutkorean=12646,_e.nihiragana=12395,_e.nikatakana=12491,_e.nikatakanahalfwidth=65414,_e.nikhahitleftthai=63641,_e.nikhahitthai=3661,_e.nine=57,_e.ninearabic=1641,_e.ninebengali=2543,_e.ninecircle=9320,_e.ninecircleinversesansserif=10130,_e.ninedeva=2415,_e.ninegujarati=2799,_e.ninegurmukhi=2671,_e.ninehackarabic=1641,_e.ninehangzhou=12329,_e.nineideographicparen=12840,_e.nineinferior=8329,_e.ninemonospace=65305,_e.nineoldstyle=63289,_e.nineparen=9340,_e.nineperiod=9360,_e.ninepersian=1785,_e.nineroman=8568,_e.ninesuperior=8313,_e.nineteencircle=9330,_e.nineteenparen=9350,_e.nineteenperiod=9370,_e.ninethai=3673,_e.nj=460,_e.njecyrillic=1114,_e.nkatakana=12531,_e.nkatakanahalfwidth=65437,_e.nlegrightlong=414,_e.nlinebelow=7753,_e.nmonospace=65358,_e.nmsquare=13210,_e.nnabengali=2467,_e.nnadeva=2339,_e.nnagujarati=2723,_e.nnagurmukhi=2595,_e.nnnadeva=2345,_e.nohiragana=12398,_e.nokatakana=12494,_e.nokatakanahalfwidth=65417,_e.nonbreakingspace=160,_e.nonenthai=3603,_e.nonuthai=3609,_e.noonarabic=1606,_e.noonfinalarabic=65254,_e.noonghunnaarabic=1722,_e.noonghunnafinalarabic=64415,_e.nooninitialarabic=65255,_e.noonjeeminitialarabic=64722,_e.noonjeemisolatedarabic=64587,_e.noonmedialarabic=65256,_e.noonmeeminitialarabic=64725,_e.noonmeemisolatedarabic=64590,_e.noonnoonfinalarabic=64653,_e.notcontains=8716,_e.notelement=8713,_e.notelementof=8713,_e.notequal=8800,_e.notgreater=8815,_e.notgreaternorequal=8817,_e.notgreaternorless=8825,_e.notidentical=8802,_e.notless=8814,_e.notlessnorequal=8816,_e.notparallel=8742,_e.notprecedes=8832,_e.notsubset=8836,_e.notsucceeds=8833,_e.notsuperset=8837,_e.nowarmenian=1398,_e.nparen=9385,_e.nssquare=13233,_e.nsuperior=8319,_e.ntilde=241,_e.nu=957,_e.nuhiragana=12396,_e.nukatakana=12492,_e.nukatakanahalfwidth=65415,_e.nuktabengali=2492,_e.nuktadeva=2364,_e.nuktagujarati=2748,_e.nuktagurmukhi=2620,_e.numbersign=35,_e.numbersignmonospace=65283,_e.numbersignsmall=65119,_e.numeralsigngreek=884,_e.numeralsignlowergreek=885,_e.numero=8470,_e.nun=1504,_e.nundagesh=64320,_e.nundageshhebrew=64320,_e.nunhebrew=1504,_e.nvsquare=13237,_e.nwsquare=13243,_e.nyabengali=2462,_e.nyadeva=2334,_e.nyagujarati=2718,_e.nyagurmukhi=2590,_e.o=111,_e.oacute=243,_e.oangthai=3629,_e.obarred=629,_e.obarredcyrillic=1257,_e.obarreddieresiscyrillic=1259,_e.obengali=2451,_e.obopomofo=12571,_e.obreve=335,_e.ocandradeva=2321,_e.ocandragujarati=2705,_e.ocandravowelsigndeva=2377,_e.ocandravowelsigngujarati=2761,_e.ocaron=466,_e.ocircle=9438,_e.ocircumflex=244,_e.ocircumflexacute=7889,_e.ocircumflexdotbelow=7897,_e.ocircumflexgrave=7891,_e.ocircumflexhookabove=7893,_e.ocircumflextilde=7895,_e.ocyrillic=1086,_e.odblacute=337,_e.odblgrave=525,_e.odeva=2323,_e.odieresis=246,_e.odieresiscyrillic=1255,_e.odotbelow=7885,_e.oe=339,_e.oekorean=12634,_e.ogonek=731,_e.ogonekcmb=808,_e.ograve=242,_e.ogujarati=2707,_e.oharmenian=1413,_e.ohiragana=12362,_e.ohookabove=7887,_e.ohorn=417,_e.ohornacute=7899,_e.ohorndotbelow=7907,_e.ohorngrave=7901,_e.ohornhookabove=7903,_e.ohorntilde=7905,_e.ohungarumlaut=337,_e.oi=419,_e.oinvertedbreve=527,_e.okatakana=12458,_e.okatakanahalfwidth=65397,_e.okorean=12631,_e.olehebrew=1451,_e.omacron=333,_e.omacronacute=7763,_e.omacrongrave=7761,_e.omdeva=2384,_e.omega=969,_e.omega1=982,_e.omegacyrillic=1121,_e.omegalatinclosed=631,_e.omegaroundcyrillic=1147,_e.omegatitlocyrillic=1149,_e.omegatonos=974,_e.omgujarati=2768,_e.omicron=959,_e.omicrontonos=972,_e.omonospace=65359,_e.one=49,_e.onearabic=1633,_e.onebengali=2535,_e.onecircle=9312,_e.onecircleinversesansserif=10122,_e.onedeva=2407,_e.onedotenleader=8228,_e.oneeighth=8539,_e.onefitted=63196,_e.onegujarati=2791,_e.onegurmukhi=2663,_e.onehackarabic=1633,_e.onehalf=189,_e.onehangzhou=12321,_e.oneideographicparen=12832,_e.oneinferior=8321,_e.onemonospace=65297,_e.onenumeratorbengali=2548,_e.oneoldstyle=63281,_e.oneparen=9332,_e.oneperiod=9352,_e.onepersian=1777,_e.onequarter=188,_e.oneroman=8560,_e.onesuperior=185,_e.onethai=3665,_e.onethird=8531,_e.oogonek=491,_e.oogonekmacron=493,_e.oogurmukhi=2579,_e.oomatragurmukhi=2635,_e.oopen=596,_e.oparen=9386,_e.openbullet=9702,_e.option=8997,_e.ordfeminine=170,_e.ordmasculine=186,_e.orthogonal=8735,_e.oshortdeva=2322,_e.oshortvowelsigndeva=2378,_e.oslash=248,_e.oslashacute=511,_e.osmallhiragana=12361,_e.osmallkatakana=12457,_e.osmallkatakanahalfwidth=65387,_e.ostrokeacute=511,_e.osuperior=63216,_e.otcyrillic=1151,_e.otilde=245,_e.otildeacute=7757,_e.otildedieresis=7759,_e.oubopomofo=12577,_e.overline=8254,_e.overlinecenterline=65098,_e.overlinecmb=773,_e.overlinedashed=65097,_e.overlinedblwavy=65100,_e.overlinewavy=65099,_e.overscore=175,_e.ovowelsignbengali=2507,_e.ovowelsigndeva=2379,_e.ovowelsigngujarati=2763,_e.p=112,_e.paampssquare=13184,_e.paasentosquare=13099,_e.pabengali=2474,_e.pacute=7765,_e.padeva=2346,_e.pagedown=8671,_e.pageup=8670,_e.pagujarati=2730,_e.pagurmukhi=2602,_e.pahiragana=12401,_e.paiyannoithai=3631,_e.pakatakana=12497,_e.palatalizationcyrilliccmb=1156,_e.palochkacyrillic=1216,_e.pansioskorean=12671,_e.paragraph=182,_e.parallel=8741,_e.parenleft=40,_e.parenleftaltonearabic=64830,_e.parenleftbt=63725,_e.parenleftex=63724,_e.parenleftinferior=8333,_e.parenleftmonospace=65288,_e.parenleftsmall=65113,_e.parenleftsuperior=8317,_e.parenlefttp=63723,_e.parenleftvertical=65077,_e.parenright=41,_e.parenrightaltonearabic=64831,_e.parenrightbt=63736,_e.parenrightex=63735,_e.parenrightinferior=8334,_e.parenrightmonospace=65289,_e.parenrightsmall=65114,_e.parenrightsuperior=8318,_e.parenrighttp=63734,_e.parenrightvertical=65078,_e.partialdiff=8706,_e.paseqhebrew=1472,_e.pashtahebrew=1433,_e.pasquare=13225,_e.patah=1463,_e.patah11=1463,_e.patah1d=1463,_e.patah2a=1463,_e.patahhebrew=1463,_e.patahnarrowhebrew=1463,_e.patahquarterhebrew=1463,_e.patahwidehebrew=1463,_e.pazerhebrew=1441,_e.pbopomofo=12550,_e.pcircle=9439,_e.pdotaccent=7767,_e.pe=1508,_e.pecyrillic=1087,_e.pedagesh=64324,_e.pedageshhebrew=64324,_e.peezisquare=13115,_e.pefinaldageshhebrew=64323,_e.peharabic=1662,_e.peharmenian=1402,_e.pehebrew=1508,_e.pehfinalarabic=64343,_e.pehinitialarabic=64344,_e.pehiragana=12410,_e.pehmedialarabic=64345,_e.pekatakana=12506,_e.pemiddlehookcyrillic=1191,_e.perafehebrew=64334,_e.percent=37,_e.percentarabic=1642,_e.percentmonospace=65285,_e.percentsmall=65130,_e.period=46,_e.periodarmenian=1417,_e.periodcentered=183,_e.periodhalfwidth=65377,_e.periodinferior=63207,_e.periodmonospace=65294,_e.periodsmall=65106,_e.periodsuperior=63208,_e.perispomenigreekcmb=834,_e.perpendicular=8869,_e.perthousand=8240,_e.peseta=8359,_e.pfsquare=13194,_e.phabengali=2475,_e.phadeva=2347,_e.phagujarati=2731,_e.phagurmukhi=2603,_e.phi=966,_e.phi1=981,_e.phieuphacirclekorean=12922,_e.phieuphaparenkorean=12826,_e.phieuphcirclekorean=12908,_e.phieuphkorean=12621,_e.phieuphparenkorean=12812,_e.philatin=632,_e.phinthuthai=3642,_e.phisymbolgreek=981,_e.phook=421,_e.phophanthai=3614,_e.phophungthai=3612,_e.phosamphaothai=3616,_e.pi=960,_e.pieupacirclekorean=12915,_e.pieupaparenkorean=12819,_e.pieupcieuckorean=12662,_e.pieupcirclekorean=12901,_e.pieupkiyeokkorean=12658,_e.pieupkorean=12610,_e.pieupparenkorean=12805,_e.pieupsioskiyeokkorean=12660,_e.pieupsioskorean=12612,_e.pieupsiostikeutkorean=12661,_e.pieupthieuthkorean=12663,_e.pieuptikeutkorean=12659,_e.pihiragana=12404,_e.pikatakana=12500,_e.pisymbolgreek=982,_e.piwrarmenian=1411,_e.planckover2pi=8463,_e.planckover2pi1=8463,_e.plus=43,_e.plusbelowcmb=799,_e.pluscircle=8853,_e.plusminus=177,_e.plusmod=726,_e.plusmonospace=65291,_e.plussmall=65122,_e.plussuperior=8314,_e.pmonospace=65360,_e.pmsquare=13272,_e.pohiragana=12413,_e.pointingindexdownwhite=9759,_e.pointingindexleftwhite=9756,_e.pointingindexrightwhite=9758,_e.pointingindexupwhite=9757,_e.pokatakana=12509,_e.poplathai=3611,_e.postalmark=12306,_e.postalmarkface=12320,_e.pparen=9387,_e.precedes=8826,_e.prescription=8478,_e.primemod=697,_e.primereversed=8245,_e.product=8719,_e.projective=8965,_e.prolongedkana=12540,_e.propellor=8984,_e.propersubset=8834,_e.propersuperset=8835,_e.proportion=8759,_e.proportional=8733,_e.psi=968,_e.psicyrillic=1137,_e.psilipneumatacyrilliccmb=1158,_e.pssquare=13232,_e.puhiragana=12407,_e.pukatakana=12503,_e.pvsquare=13236,_e.pwsquare=13242,_e.q=113,_e.qadeva=2392,_e.qadmahebrew=1448,_e.qafarabic=1602,_e.qaffinalarabic=65238,_e.qafinitialarabic=65239,_e.qafmedialarabic=65240,_e.qamats=1464,_e.qamats10=1464,_e.qamats1a=1464,_e.qamats1c=1464,_e.qamats27=1464,_e.qamats29=1464,_e.qamats33=1464,_e.qamatsde=1464,_e.qamatshebrew=1464,_e.qamatsnarrowhebrew=1464,_e.qamatsqatanhebrew=1464,_e.qamatsqatannarrowhebrew=1464,_e.qamatsqatanquarterhebrew=1464,_e.qamatsqatanwidehebrew=1464,_e.qamatsquarterhebrew=1464,_e.qamatswidehebrew=1464,_e.qarneyparahebrew=1439,_e.qbopomofo=12561,_e.qcircle=9440,_e.qhook=672,_e.qmonospace=65361,_e.qof=1511,_e.qofdagesh=64327,_e.qofdageshhebrew=64327,_e.qofhebrew=1511,_e.qparen=9388,_e.quarternote=9833,_e.qubuts=1467,_e.qubuts18=1467,_e.qubuts25=1467,_e.qubuts31=1467,_e.qubutshebrew=1467,_e.qubutsnarrowhebrew=1467,_e.qubutsquarterhebrew=1467,_e.qubutswidehebrew=1467,_e.question=63,_e.questionarabic=1567,_e.questionarmenian=1374,_e.questiondown=191,_e.questiondownsmall=63423,_e.questiongreek=894,_e.questionmonospace=65311,_e.questionsmall=63295,_e.quotedbl=34,_e.quotedblbase=8222,_e.quotedblleft=8220,_e.quotedblmonospace=65282,_e.quotedblprime=12318,_e.quotedblprimereversed=12317,_e.quotedblright=8221,_e.quoteleft=8216,_e.quoteleftreversed=8219,_e.quotereversed=8219,_e.quoteright=8217,_e.quoterightn=329,_e.quotesinglbase=8218,_e.quotesingle=39,_e.quotesinglemonospace=65287,_e.r=114,_e.raarmenian=1404,_e.rabengali=2480,_e.racute=341,_e.radeva=2352,_e.radical=8730,_e.radicalex=63717,_e.radoverssquare=13230,_e.radoverssquaredsquare=13231,_e.radsquare=13229,_e.rafe=1471,_e.rafehebrew=1471,_e.ragujarati=2736,_e.ragurmukhi=2608,_e.rahiragana=12425,_e.rakatakana=12521,_e.rakatakanahalfwidth=65431,_e.ralowerdiagonalbengali=2545,_e.ramiddlediagonalbengali=2544,_e.ramshorn=612,_e.ratio=8758,_e.rbopomofo=12566,_e.rcaron=345,_e.rcedilla=343,_e.rcircle=9441,_e.rcommaaccent=343,_e.rdblgrave=529,_e.rdotaccent=7769,_e.rdotbelow=7771,_e.rdotbelowmacron=7773,_e.referencemark=8251,_e.reflexsubset=8838,_e.reflexsuperset=8839,_e.registered=174,_e.registersans=63720,_e.registerserif=63194,_e.reharabic=1585,_e.reharmenian=1408,_e.rehfinalarabic=65198,_e.rehiragana=12428,_e.rekatakana=12524,_e.rekatakanahalfwidth=65434,_e.resh=1512,_e.reshdageshhebrew=64328,_e.reshhebrew=1512,_e.reversedtilde=8765,_e.reviahebrew=1431,_e.reviamugrashhebrew=1431,_e.revlogicalnot=8976,_e.rfishhook=638,_e.rfishhookreversed=639,_e.rhabengali=2525,_e.rhadeva=2397,_e.rho=961,_e.rhook=637,_e.rhookturned=635,_e.rhookturnedsuperior=693,_e.rhosymbolgreek=1009,_e.rhotichookmod=734,_e.rieulacirclekorean=12913,_e.rieulaparenkorean=12817,_e.rieulcirclekorean=12899,_e.rieulhieuhkorean=12608,_e.rieulkiyeokkorean=12602,_e.rieulkiyeoksioskorean=12649,_e.rieulkorean=12601,_e.rieulmieumkorean=12603,_e.rieulpansioskorean=12652,_e.rieulparenkorean=12803,_e.rieulphieuphkorean=12607,_e.rieulpieupkorean=12604,_e.rieulpieupsioskorean=12651,_e.rieulsioskorean=12605,_e.rieulthieuthkorean=12606,_e.rieultikeutkorean=12650,_e.rieulyeorinhieuhkorean=12653,_e.rightangle=8735,_e.righttackbelowcmb=793,_e.righttriangle=8895,_e.rihiragana=12426,_e.rikatakana=12522,_e.rikatakanahalfwidth=65432,_e.ring=730,_e.ringbelowcmb=805,_e.ringcmb=778,_e.ringhalfleft=703,_e.ringhalfleftarmenian=1369,_e.ringhalfleftbelowcmb=796,_e.ringhalfleftcentered=723,_e.ringhalfright=702,_e.ringhalfrightbelowcmb=825,_e.ringhalfrightcentered=722,_e.rinvertedbreve=531,_e.rittorusquare=13137,_e.rlinebelow=7775,_e.rlongleg=636,_e.rlonglegturned=634,_e.rmonospace=65362,_e.rohiragana=12429,_e.rokatakana=12525,_e.rokatakanahalfwidth=65435,_e.roruathai=3619,_e.rparen=9389,_e.rrabengali=2524,_e.rradeva=2353,_e.rragurmukhi=2652,_e.rreharabic=1681,_e.rrehfinalarabic=64397,_e.rrvocalicbengali=2528,_e.rrvocalicdeva=2400,_e.rrvocalicgujarati=2784,_e.rrvocalicvowelsignbengali=2500,_e.rrvocalicvowelsigndeva=2372,_e.rrvocalicvowelsigngujarati=2756,_e.rsuperior=63217,_e.rtblock=9616,_e.rturned=633,_e.rturnedsuperior=692,_e.ruhiragana=12427,_e.rukatakana=12523,_e.rukatakanahalfwidth=65433,_e.rupeemarkbengali=2546,_e.rupeesignbengali=2547,_e.rupiah=63197,_e.ruthai=3620,_e.rvocalicbengali=2443,_e.rvocalicdeva=2315,_e.rvocalicgujarati=2699,_e.rvocalicvowelsignbengali=2499,_e.rvocalicvowelsigndeva=2371,_e.rvocalicvowelsigngujarati=2755,_e.s=115,_e.sabengali=2488,_e.sacute=347,_e.sacutedotaccent=7781,_e.sadarabic=1589,_e.sadeva=2360,_e.sadfinalarabic=65210,_e.sadinitialarabic=65211,_e.sadmedialarabic=65212,_e.sagujarati=2744,_e.sagurmukhi=2616,_e.sahiragana=12373,_e.sakatakana=12469,_e.sakatakanahalfwidth=65403,_e.sallallahoualayhewasallamarabic=65018,_e.samekh=1505,_e.samekhdagesh=64321,_e.samekhdageshhebrew=64321,_e.samekhhebrew=1505,_e.saraaathai=3634,_e.saraaethai=3649,_e.saraaimaimalaithai=3652,_e.saraaimaimuanthai=3651,_e.saraamthai=3635,_e.saraathai=3632,_e.saraethai=3648,_e.saraiileftthai=63622,_e.saraiithai=3637,_e.saraileftthai=63621,_e.saraithai=3636,_e.saraothai=3650,_e.saraueeleftthai=63624,_e.saraueethai=3639,_e.saraueleftthai=63623,_e.sarauethai=3638,_e.sarauthai=3640,_e.sarauuthai=3641,_e.sbopomofo=12569,_e.scaron=353,_e.scarondotaccent=7783,_e.scedilla=351,_e.schwa=601,_e.schwacyrillic=1241,_e.schwadieresiscyrillic=1243,_e.schwahook=602,_e.scircle=9442,_e.scircumflex=349,_e.scommaaccent=537,_e.sdotaccent=7777,_e.sdotbelow=7779,_e.sdotbelowdotaccent=7785,_e.seagullbelowcmb=828,_e.second=8243,_e.secondtonechinese=714,_e.section=167,_e.seenarabic=1587,_e.seenfinalarabic=65202,_e.seeninitialarabic=65203,_e.seenmedialarabic=65204,_e.segol=1462,_e.segol13=1462,_e.segol1f=1462,_e.segol2c=1462,_e.segolhebrew=1462,_e.segolnarrowhebrew=1462,_e.segolquarterhebrew=1462,_e.segoltahebrew=1426,_e.segolwidehebrew=1462,_e.seharmenian=1405,_e.sehiragana=12379,_e.sekatakana=12475,_e.sekatakanahalfwidth=65406,_e.semicolon=59,_e.semicolonarabic=1563,_e.semicolonmonospace=65307,_e.semicolonsmall=65108,_e.semivoicedmarkkana=12444,_e.semivoicedmarkkanahalfwidth=65439,_e.sentisquare=13090,_e.sentosquare=13091,_e.seven=55,_e.sevenarabic=1639,_e.sevenbengali=2541,_e.sevencircle=9318,_e.sevencircleinversesansserif=10128,_e.sevendeva=2413,_e.seveneighths=8542,_e.sevengujarati=2797,_e.sevengurmukhi=2669,_e.sevenhackarabic=1639,_e.sevenhangzhou=12327,_e.sevenideographicparen=12838,_e.seveninferior=8327,_e.sevenmonospace=65303,_e.sevenoldstyle=63287,_e.sevenparen=9338,_e.sevenperiod=9358,_e.sevenpersian=1783,_e.sevenroman=8566,_e.sevensuperior=8311,_e.seventeencircle=9328,_e.seventeenparen=9348,_e.seventeenperiod=9368,_e.seventhai=3671,_e.sfthyphen=173,_e.shaarmenian=1399,_e.shabengali=2486,_e.shacyrillic=1096,_e.shaddaarabic=1617,_e.shaddadammaarabic=64609,_e.shaddadammatanarabic=64606,_e.shaddafathaarabic=64608,_e.shaddakasraarabic=64610,_e.shaddakasratanarabic=64607,_e.shade=9618,_e.shadedark=9619,_e.shadelight=9617,_e.shademedium=9618,_e.shadeva=2358,_e.shagujarati=2742,_e.shagurmukhi=2614,_e.shalshelethebrew=1427,_e.shbopomofo=12565,_e.shchacyrillic=1097,_e.sheenarabic=1588,_e.sheenfinalarabic=65206,_e.sheeninitialarabic=65207,_e.sheenmedialarabic=65208,_e.sheicoptic=995,_e.sheqel=8362,_e.sheqelhebrew=8362,_e.sheva=1456,_e.sheva115=1456,_e.sheva15=1456,_e.sheva22=1456,_e.sheva2e=1456,_e.shevahebrew=1456,_e.shevanarrowhebrew=1456,_e.shevaquarterhebrew=1456,_e.shevawidehebrew=1456,_e.shhacyrillic=1211,_e.shimacoptic=1005,_e.shin=1513,_e.shindagesh=64329,_e.shindageshhebrew=64329,_e.shindageshshindot=64300,_e.shindageshshindothebrew=64300,_e.shindageshsindot=64301,_e.shindageshsindothebrew=64301,_e.shindothebrew=1473,_e.shinhebrew=1513,_e.shinshindot=64298,_e.shinshindothebrew=64298,_e.shinsindot=64299,_e.shinsindothebrew=64299,_e.shook=642,_e.sigma=963,_e.sigma1=962,_e.sigmafinal=962,_e.sigmalunatesymbolgreek=1010,_e.sihiragana=12375,_e.sikatakana=12471,_e.sikatakanahalfwidth=65404,_e.siluqhebrew=1469,_e.siluqlefthebrew=1469,_e.similar=8764,_e.sindothebrew=1474,_e.siosacirclekorean=12916,_e.siosaparenkorean=12820,_e.sioscieuckorean=12670,_e.sioscirclekorean=12902,_e.sioskiyeokkorean=12666,_e.sioskorean=12613,_e.siosnieunkorean=12667,_e.siosparenkorean=12806,_e.siospieupkorean=12669,_e.siostikeutkorean=12668,_e.six=54,_e.sixarabic=1638,_e.sixbengali=2540,_e.sixcircle=9317,_e.sixcircleinversesansserif=10127,_e.sixdeva=2412,_e.sixgujarati=2796,_e.sixgurmukhi=2668,_e.sixhackarabic=1638,_e.sixhangzhou=12326,_e.sixideographicparen=12837,_e.sixinferior=8326,_e.sixmonospace=65302,_e.sixoldstyle=63286,_e.sixparen=9337,_e.sixperiod=9357,_e.sixpersian=1782,_e.sixroman=8565,_e.sixsuperior=8310,_e.sixteencircle=9327,_e.sixteencurrencydenominatorbengali=2553,_e.sixteenparen=9347,_e.sixteenperiod=9367,_e.sixthai=3670,_e.slash=47,_e.slashmonospace=65295,_e.slong=383,_e.slongdotaccent=7835,_e.smileface=9786,_e.smonospace=65363,_e.sofpasuqhebrew=1475,_e.softhyphen=173,_e.softsigncyrillic=1100,_e.sohiragana=12381,_e.sokatakana=12477,_e.sokatakanahalfwidth=65407,_e.soliduslongoverlaycmb=824,_e.solidusshortoverlaycmb=823,_e.sorusithai=3625,_e.sosalathai=3624,_e.sosothai=3595,_e.sosuathai=3626,_e.space=32,_e.spacehackarabic=32,_e.spade=9824,_e.spadesuitblack=9824,_e.spadesuitwhite=9828,_e.sparen=9390,_e.squarebelowcmb=827,_e.squarecc=13252,_e.squarecm=13213,_e.squarediagonalcrosshatchfill=9641,_e.squarehorizontalfill=9636,_e.squarekg=13199,_e.squarekm=13214,_e.squarekmcapital=13262,_e.squareln=13265,_e.squarelog=13266,_e.squaremg=13198,_e.squaremil=13269,_e.squaremm=13212,_e.squaremsquared=13217,_e.squareorthogonalcrosshatchfill=9638,_e.squareupperlefttolowerrightfill=9639,_e.squareupperrighttolowerleftfill=9640,_e.squareverticalfill=9637,_e.squarewhitewithsmallblack=9635,_e.srsquare=13275,_e.ssabengali=2487,_e.ssadeva=2359,_e.ssagujarati=2743,_e.ssangcieuckorean=12617,_e.ssanghieuhkorean=12677,_e.ssangieungkorean=12672,_e.ssangkiyeokkorean=12594,_e.ssangnieunkorean=12645,_e.ssangpieupkorean=12611,_e.ssangsioskorean=12614,_e.ssangtikeutkorean=12600,_e.ssuperior=63218,_e.sterling=163,_e.sterlingmonospace=65505,_e.strokelongoverlaycmb=822,_e.strokeshortoverlaycmb=821,_e.subset=8834,_e.subsetnotequal=8842,_e.subsetorequal=8838,_e.succeeds=8827,_e.suchthat=8715,_e.suhiragana=12377,_e.sukatakana=12473,_e.sukatakanahalfwidth=65405,_e.sukunarabic=1618,_e.summation=8721,_e.sun=9788,_e.superset=8835,_e.supersetnotequal=8843,_e.supersetorequal=8839,_e.svsquare=13276,_e.syouwaerasquare=13180,_e.t=116,_e.tabengali=2468,_e.tackdown=8868,_e.tackleft=8867,_e.tadeva=2340,_e.tagujarati=2724,_e.tagurmukhi=2596,_e.taharabic=1591,_e.tahfinalarabic=65218,_e.tahinitialarabic=65219,_e.tahiragana=12383,_e.tahmedialarabic=65220,_e.taisyouerasquare=13181,_e.takatakana=12479,_e.takatakanahalfwidth=65408,_e.tatweelarabic=1600,_e.tau=964,_e.tav=1514,_e.tavdages=64330,_e.tavdagesh=64330,_e.tavdageshhebrew=64330,_e.tavhebrew=1514,_e.tbar=359,_e.tbopomofo=12554,_e.tcaron=357,_e.tccurl=680,_e.tcedilla=355,_e.tcheharabic=1670,_e.tchehfinalarabic=64379,_e.tchehinitialarabic=64380,_e.tchehmedialarabic=64381,_e.tcircle=9443,_e.tcircumflexbelow=7793,_e.tcommaaccent=355,_e.tdieresis=7831,_e.tdotaccent=7787,_e.tdotbelow=7789,_e.tecyrillic=1090,_e.tedescendercyrillic=1197,_e.teharabic=1578,_e.tehfinalarabic=65174,_e.tehhahinitialarabic=64674,_e.tehhahisolatedarabic=64524,_e.tehinitialarabic=65175,_e.tehiragana=12390,_e.tehjeeminitialarabic=64673,_e.tehjeemisolatedarabic=64523,_e.tehmarbutaarabic=1577,_e.tehmarbutafinalarabic=65172,_e.tehmedialarabic=65176,_e.tehmeeminitialarabic=64676,_e.tehmeemisolatedarabic=64526,_e.tehnoonfinalarabic=64627,_e.tekatakana=12486,_e.tekatakanahalfwidth=65411,_e.telephone=8481,_e.telephoneblack=9742,_e.telishagedolahebrew=1440,_e.telishaqetanahebrew=1449,_e.tencircle=9321,_e.tenideographicparen=12841,_e.tenparen=9341,_e.tenperiod=9361,_e.tenroman=8569,_e.tesh=679,_e.tet=1496,_e.tetdagesh=64312,_e.tetdageshhebrew=64312,_e.tethebrew=1496,_e.tetsecyrillic=1205,_e.tevirhebrew=1435,_e.tevirlefthebrew=1435,_e.thabengali=2469,_e.thadeva=2341,_e.thagujarati=2725,_e.thagurmukhi=2597,_e.thalarabic=1584,_e.thalfinalarabic=65196,_e.thanthakhatlowleftthai=63640,_e.thanthakhatlowrightthai=63639,_e.thanthakhatthai=3660,_e.thanthakhatupperleftthai=63638,_e.theharabic=1579,_e.thehfinalarabic=65178,_e.thehinitialarabic=65179,_e.thehmedialarabic=65180,_e.thereexists=8707,_e.therefore=8756,_e.theta=952,_e.theta1=977,_e.thetasymbolgreek=977,_e.thieuthacirclekorean=12921,_e.thieuthaparenkorean=12825,_e.thieuthcirclekorean=12907,_e.thieuthkorean=12620,_e.thieuthparenkorean=12811,_e.thirteencircle=9324,_e.thirteenparen=9344,_e.thirteenperiod=9364,_e.thonangmonthothai=3601,_e.thook=429,_e.thophuthaothai=3602,_e.thorn=254,_e.thothahanthai=3607,_e.thothanthai=3600,_e.thothongthai=3608,_e.thothungthai=3606,_e.thousandcyrillic=1154,_e.thousandsseparatorarabic=1644,_e.thousandsseparatorpersian=1644,_e.three=51,_e.threearabic=1635,_e.threebengali=2537,_e.threecircle=9314,_e.threecircleinversesansserif=10124,_e.threedeva=2409,_e.threeeighths=8540,_e.threegujarati=2793,_e.threegurmukhi=2665,_e.threehackarabic=1635,_e.threehangzhou=12323,_e.threeideographicparen=12834,_e.threeinferior=8323,_e.threemonospace=65299,_e.threenumeratorbengali=2550,_e.threeoldstyle=63283,_e.threeparen=9334,_e.threeperiod=9354,_e.threepersian=1779,_e.threequarters=190,_e.threequartersemdash=63198,_e.threeroman=8562,_e.threesuperior=179,_e.threethai=3667,_e.thzsquare=13204,_e.tihiragana=12385,_e.tikatakana=12481,_e.tikatakanahalfwidth=65409,_e.tikeutacirclekorean=12912,_e.tikeutaparenkorean=12816,_e.tikeutcirclekorean=12898,_e.tikeutkorean=12599,_e.tikeutparenkorean=12802,_e.tilde=732,_e.tildebelowcmb=816,_e.tildecmb=771,_e.tildecomb=771,_e.tildedoublecmb=864,_e.tildeoperator=8764,_e.tildeoverlaycmb=820,_e.tildeverticalcmb=830,_e.timescircle=8855,_e.tipehahebrew=1430,_e.tipehalefthebrew=1430,_e.tippigurmukhi=2672,_e.titlocyrilliccmb=1155,_e.tiwnarmenian=1407,_e.tlinebelow=7791,_e.tmonospace=65364,_e.toarmenian=1385,_e.tohiragana=12392,_e.tokatakana=12488,_e.tokatakanahalfwidth=65412,_e.tonebarextrahighmod=741,_e.tonebarextralowmod=745,_e.tonebarhighmod=742,_e.tonebarlowmod=744,_e.tonebarmidmod=743,_e.tonefive=445,_e.tonesix=389,_e.tonetwo=424,_e.tonos=900,_e.tonsquare=13095,_e.topatakthai=3599,_e.tortoiseshellbracketleft=12308,_e.tortoiseshellbracketleftsmall=65117,_e.tortoiseshellbracketleftvertical=65081,_e.tortoiseshellbracketright=12309,_e.tortoiseshellbracketrightsmall=65118,_e.tortoiseshellbracketrightvertical=65082,_e.totaothai=3605,_e.tpalatalhook=427,_e.tparen=9391,_e.trademark=8482,_e.trademarksans=63722,_e.trademarkserif=63195,_e.tretroflexhook=648,_e.triagdn=9660,_e.triaglf=9668,_e.triagrt=9658,_e.triagup=9650,_e.ts=678,_e.tsadi=1510,_e.tsadidagesh=64326,_e.tsadidageshhebrew=64326,_e.tsadihebrew=1510,_e.tsecyrillic=1094,_e.tsere=1461,_e.tsere12=1461,_e.tsere1e=1461,_e.tsere2b=1461,_e.tserehebrew=1461,_e.tserenarrowhebrew=1461,_e.tserequarterhebrew=1461,_e.tserewidehebrew=1461,_e.tshecyrillic=1115,_e.tsuperior=63219,_e.ttabengali=2463,_e.ttadeva=2335,_e.ttagujarati=2719,_e.ttagurmukhi=2591,_e.tteharabic=1657,_e.ttehfinalarabic=64359,_e.ttehinitialarabic=64360,_e.ttehmedialarabic=64361,_e.tthabengali=2464,_e.tthadeva=2336,_e.tthagujarati=2720,_e.tthagurmukhi=2592,_e.tturned=647,_e.tuhiragana=12388,_e.tukatakana=12484,_e.tukatakanahalfwidth=65410,_e.tusmallhiragana=12387,_e.tusmallkatakana=12483,_e.tusmallkatakanahalfwidth=65391,_e.twelvecircle=9323,_e.twelveparen=9343,_e.twelveperiod=9363,_e.twelveroman=8571,_e.twentycircle=9331,_e.twentyhangzhou=21316,_e.twentyparen=9351,_e.twentyperiod=9371,_e.two=50,_e.twoarabic=1634,_e.twobengali=2536,_e.twocircle=9313,_e.twocircleinversesansserif=10123,_e.twodeva=2408,_e.twodotenleader=8229,_e.twodotleader=8229,_e.twodotleadervertical=65072,_e.twogujarati=2792,_e.twogurmukhi=2664,_e.twohackarabic=1634,_e.twohangzhou=12322,_e.twoideographicparen=12833,_e.twoinferior=8322,_e.twomonospace=65298,_e.twonumeratorbengali=2549,_e.twooldstyle=63282,_e.twoparen=9333,_e.twoperiod=9353,_e.twopersian=1778,_e.tworoman=8561,_e.twostroke=443,_e.twosuperior=178,_e.twothai=3666,_e.twothirds=8532,_e.u=117,_e.uacute=250,_e.ubar=649,_e.ubengali=2441,_e.ubopomofo=12584,_e.ubreve=365,_e.ucaron=468,_e.ucircle=9444,_e.ucircumflex=251,_e.ucircumflexbelow=7799,_e.ucyrillic=1091,_e.udattadeva=2385,_e.udblacute=369,_e.udblgrave=533,_e.udeva=2313,_e.udieresis=252,_e.udieresisacute=472,_e.udieresisbelow=7795,_e.udieresiscaron=474,_e.udieresiscyrillic=1265,_e.udieresisgrave=476,_e.udieresismacron=470,_e.udotbelow=7909,_e.ugrave=249,_e.ugujarati=2697,_e.ugurmukhi=2569,_e.uhiragana=12358,_e.uhookabove=7911,_e.uhorn=432,_e.uhornacute=7913,_e.uhorndotbelow=7921,_e.uhorngrave=7915,_e.uhornhookabove=7917,_e.uhorntilde=7919,_e.uhungarumlaut=369,_e.uhungarumlautcyrillic=1267,_e.uinvertedbreve=535,_e.ukatakana=12454,_e.ukatakanahalfwidth=65395,_e.ukcyrillic=1145,_e.ukorean=12636,_e.umacron=363,_e.umacroncyrillic=1263,_e.umacrondieresis=7803,_e.umatragurmukhi=2625,_e.umonospace=65365,_e.underscore=95,_e.underscoredbl=8215,_e.underscoremonospace=65343,_e.underscorevertical=65075,_e.underscorewavy=65103,_e.union=8746,_e.universal=8704,_e.uogonek=371,_e.uparen=9392,_e.upblock=9600,_e.upperdothebrew=1476,_e.upsilon=965,_e.upsilondieresis=971,_e.upsilondieresistonos=944,_e.upsilonlatin=650,_e.upsilontonos=973,_e.uptackbelowcmb=797,_e.uptackmod=724,_e.uragurmukhi=2675,_e.uring=367,_e.ushortcyrillic=1118,_e.usmallhiragana=12357,_e.usmallkatakana=12453,_e.usmallkatakanahalfwidth=65385,_e.ustraightcyrillic=1199,_e.ustraightstrokecyrillic=1201,_e.utilde=361,_e.utildeacute=7801,_e.utildebelow=7797,_e.uubengali=2442,_e.uudeva=2314,_e.uugujarati=2698,_e.uugurmukhi=2570,_e.uumatragurmukhi=2626,_e.uuvowelsignbengali=2498,_e.uuvowelsigndeva=2370,_e.uuvowelsigngujarati=2754,_e.uvowelsignbengali=2497,_e.uvowelsigndeva=2369,_e.uvowelsigngujarati=2753,_e.v=118,_e.vadeva=2357,_e.vagujarati=2741,_e.vagurmukhi=2613,_e.vakatakana=12535,_e.vav=1493,_e.vavdagesh=64309,_e.vavdagesh65=64309,_e.vavdageshhebrew=64309,_e.vavhebrew=1493,_e.vavholam=64331,_e.vavholamhebrew=64331,_e.vavvavhebrew=1520,_e.vavyodhebrew=1521,_e.vcircle=9445,_e.vdotbelow=7807,_e.vecyrillic=1074,_e.veharabic=1700,_e.vehfinalarabic=64363,_e.vehinitialarabic=64364,_e.vehmedialarabic=64365,_e.vekatakana=12537,_e.venus=9792,_e.verticalbar=124,_e.verticallineabovecmb=781,_e.verticallinebelowcmb=809,_e.verticallinelowmod=716,_e.verticallinemod=712,_e.vewarmenian=1406,_e.vhook=651,_e.vikatakana=12536,_e.viramabengali=2509,_e.viramadeva=2381,_e.viramagujarati=2765,_e.visargabengali=2435,_e.visargadeva=2307,_e.visargagujarati=2691,_e.vmonospace=65366,_e.voarmenian=1400,_e.voicediterationhiragana=12446,_e.voicediterationkatakana=12542,_e.voicedmarkkana=12443,_e.voicedmarkkanahalfwidth=65438,_e.vokatakana=12538,_e.vparen=9393,_e.vtilde=7805,_e.vturned=652,_e.vuhiragana=12436,_e.vukatakana=12532,_e.w=119,_e.wacute=7811,_e.waekorean=12633,_e.wahiragana=12431,_e.wakatakana=12527,_e.wakatakanahalfwidth=65436,_e.wakorean=12632,_e.wasmallhiragana=12430,_e.wasmallkatakana=12526,_e.wattosquare=13143,_e.wavedash=12316,_e.wavyunderscorevertical=65076,_e.wawarabic=1608,_e.wawfinalarabic=65262,_e.wawhamzaabovearabic=1572,_e.wawhamzaabovefinalarabic=65158,_e.wbsquare=13277,_e.wcircle=9446,_e.wcircumflex=373,_e.wdieresis=7813,_e.wdotaccent=7815,_e.wdotbelow=7817,_e.wehiragana=12433,_e.weierstrass=8472,_e.wekatakana=12529,_e.wekorean=12638,_e.weokorean=12637,_e.wgrave=7809,_e.whitebullet=9702,_e.whitecircle=9675,_e.whitecircleinverse=9689,_e.whitecornerbracketleft=12302,_e.whitecornerbracketleftvertical=65091,_e.whitecornerbracketright=12303,_e.whitecornerbracketrightvertical=65092,_e.whitediamond=9671,_e.whitediamondcontainingblacksmalldiamond=9672,_e.whitedownpointingsmalltriangle=9663,_e.whitedownpointingtriangle=9661,_e.whiteleftpointingsmalltriangle=9667,_e.whiteleftpointingtriangle=9665,_e.whitelenticularbracketleft=12310,_e.whitelenticularbracketright=12311,_e.whiterightpointingsmalltriangle=9657,_e.whiterightpointingtriangle=9655,_e.whitesmallsquare=9643,_e.whitesmilingface=9786,_e.whitesquare=9633,_e.whitestar=9734,_e.whitetelephone=9743,_e.whitetortoiseshellbracketleft=12312,_e.whitetortoiseshellbracketright=12313,_e.whiteuppointingsmalltriangle=9653,_e.whiteuppointingtriangle=9651,_e.wihiragana=12432,_e.wikatakana=12528,_e.wikorean=12639,_e.wmonospace=65367,_e.wohiragana=12434,_e.wokatakana=12530,_e.wokatakanahalfwidth=65382,_e.won=8361,_e.wonmonospace=65510,_e.wowaenthai=3623,_e.wparen=9394,_e.wring=7832,_e.wsuperior=695,_e.wturned=653,_e.wynn=447,_e.x=120,_e.xabovecmb=829,_e.xbopomofo=12562,_e.xcircle=9447,_e.xdieresis=7821,_e.xdotaccent=7819,_e.xeharmenian=1389,_e.xi=958,_e.xmonospace=65368,_e.xparen=9395,_e.xsuperior=739,_e.y=121,_e.yaadosquare=13134,_e.yabengali=2479,_e.yacute=253,_e.yadeva=2351,_e.yaekorean=12626,_e.yagujarati=2735,_e.yagurmukhi=2607,_e.yahiragana=12420,_e.yakatakana=12516,_e.yakatakanahalfwidth=65428,_e.yakorean=12625,_e.yamakkanthai=3662,_e.yasmallhiragana=12419,_e.yasmallkatakana=12515,_e.yasmallkatakanahalfwidth=65388,_e.yatcyrillic=1123,_e.ycircle=9448,_e.ycircumflex=375,_e.ydieresis=255,_e.ydotaccent=7823,_e.ydotbelow=7925,_e.yeharabic=1610,_e.yehbarreearabic=1746,_e.yehbarreefinalarabic=64431,_e.yehfinalarabic=65266,_e.yehhamzaabovearabic=1574,_e.yehhamzaabovefinalarabic=65162,_e.yehhamzaaboveinitialarabic=65163,_e.yehhamzaabovemedialarabic=65164,_e.yehinitialarabic=65267,_e.yehmedialarabic=65268,_e.yehmeeminitialarabic=64733,_e.yehmeemisolatedarabic=64600,_e.yehnoonfinalarabic=64660,_e.yehthreedotsbelowarabic=1745,_e.yekorean=12630,_e.yen=165,_e.yenmonospace=65509,_e.yeokorean=12629,_e.yeorinhieuhkorean=12678,_e.yerahbenyomohebrew=1450,_e.yerahbenyomolefthebrew=1450,_e.yericyrillic=1099,_e.yerudieresiscyrillic=1273,_e.yesieungkorean=12673,_e.yesieungpansioskorean=12675,_e.yesieungsioskorean=12674,_e.yetivhebrew=1434,_e.ygrave=7923,_e.yhook=436,_e.yhookabove=7927,_e.yiarmenian=1397,_e.yicyrillic=1111,_e.yikorean=12642,_e.yinyang=9775,_e.yiwnarmenian=1410,_e.ymonospace=65369,_e.yod=1497,_e.yoddagesh=64313,_e.yoddageshhebrew=64313,_e.yodhebrew=1497,_e.yodyodhebrew=1522,_e.yodyodpatahhebrew=64287,_e.yohiragana=12424,_e.yoikorean=12681,_e.yokatakana=12520,_e.yokatakanahalfwidth=65430,_e.yokorean=12635,_e.yosmallhiragana=12423,_e.yosmallkatakana=12519,_e.yosmallkatakanahalfwidth=65390,_e.yotgreek=1011,_e.yoyaekorean=12680,_e.yoyakorean=12679,_e.yoyakthai=3618,_e.yoyingthai=3597,_e.yparen=9396,_e.ypogegrammeni=890,_e.ypogegrammenigreekcmb=837,_e.yr=422,_e.yring=7833,_e.ysuperior=696,_e.ytilde=7929,_e.yturned=654,_e.yuhiragana=12422,_e.yuikorean=12684,_e.yukatakana=12518,_e.yukatakanahalfwidth=65429,_e.yukorean=12640,_e.yusbigcyrillic=1131,_e.yusbigiotifiedcyrillic=1133,_e.yuslittlecyrillic=1127,_e.yuslittleiotifiedcyrillic=1129,_e.yusmallhiragana=12421,_e.yusmallkatakana=12517,_e.yusmallkatakanahalfwidth=65389,_e.yuyekorean=12683,_e.yuyeokorean=12682,_e.yyabengali=2527,_e.yyadeva=2399,_e.z=122,_e.zaarmenian=1382,_e.zacute=378,_e.zadeva=2395,_e.zagurmukhi=2651,_e.zaharabic=1592,_e.zahfinalarabic=65222,_e.zahinitialarabic=65223,_e.zahiragana=12374,_e.zahmedialarabic=65224,_e.zainarabic=1586,_e.zainfinalarabic=65200,_e.zakatakana=12470,_e.zaqefgadolhebrew=1429,_e.zaqefqatanhebrew=1428,_e.zarqahebrew=1432,_e.zayin=1494,_e.zayindagesh=64310,_e.zayindageshhebrew=64310,_e.zayinhebrew=1494,_e.zbopomofo=12567,_e.zcaron=382,_e.zcircle=9449,_e.zcircumflex=7825,_e.zcurl=657,_e.zdot=380,_e.zdotaccent=380,_e.zdotbelow=7827,_e.zecyrillic=1079,_e.zedescendercyrillic=1177,_e.zedieresiscyrillic=1247,_e.zehiragana=12380,_e.zekatakana=12476,_e.zero=48,_e.zeroarabic=1632,_e.zerobengali=2534,_e.zerodeva=2406,_e.zerogujarati=2790,_e.zerogurmukhi=2662,_e.zerohackarabic=1632,_e.zeroinferior=8320,_e.zeromonospace=65296,_e.zerooldstyle=63280,_e.zeropersian=1776,_e.zerosuperior=8304,_e.zerothai=3664,_e.zerowidthjoiner=65279,_e.zerowidthnonjoiner=8204,_e.zerowidthspace=8203,_e.zeta=950,_e.zhbopomofo=12563,_e.zhearmenian=1386,_e.zhebrevecyrillic=1218,_e.zhecyrillic=1078,_e.zhedescendercyrillic=1175,_e.zhedieresiscyrillic=1245,_e.zihiragana=12376,_e.zikatakana=12472,_e.zinorhebrew=1454,_e.zlinebelow=7829,_e.zmonospace=65370,_e.zohiragana=12382,_e.zokatakana=12478,_e.zparen=9397,_e.zretroflexhook=656,_e.zstroke=438,_e.zuhiragana=12378,_e.zukatakana=12474,_e[".notdef"]=0,_e.angbracketleftbig=9001,_e.angbracketleftBig=9001,_e.angbracketleftbigg=9001,_e.angbracketleftBigg=9001,_e.angbracketrightBig=9002,_e.angbracketrightbig=9002,_e.angbracketrightBigg=9002,_e.angbracketrightbigg=9002,_e.arrowhookleft=8618,_e.arrowhookright=8617,_e.arrowlefttophalf=8636,_e.arrowleftbothalf=8637,_e.arrownortheast=8599,_e.arrownorthwest=8598,_e.arrowrighttophalf=8640,_e.arrowrightbothalf=8641,_e.arrowsoutheast=8600,_e.arrowsouthwest=8601,_e.backslashbig=8726,_e.backslashBig=8726,_e.backslashBigg=8726,_e.backslashbigg=8726,_e.bardbl=8214,_e.bracehtipdownleft=65079,_e.bracehtipdownright=65079,_e.bracehtipupleft=65080,_e.bracehtipupright=65080,_e.braceleftBig=123,_e.braceleftbig=123,_e.braceleftbigg=123,_e.braceleftBigg=123,_e.bracerightBig=125,_e.bracerightbig=125,_e.bracerightbigg=125,_e.bracerightBigg=125,_e.bracketleftbig=91,_e.bracketleftBig=91,_e.bracketleftbigg=91,_e.bracketleftBigg=91,_e.bracketrightBig=93,_e.bracketrightbig=93,_e.bracketrightbigg=93,_e.bracketrightBigg=93,_e.ceilingleftbig=8968,_e.ceilingleftBig=8968,_e.ceilingleftBigg=8968,_e.ceilingleftbigg=8968,_e.ceilingrightbig=8969,_e.ceilingrightBig=8969,_e.ceilingrightbigg=8969,_e.ceilingrightBigg=8969,_e.circledotdisplay=8857,_e.circledottext=8857,_e.circlemultiplydisplay=8855,_e.circlemultiplytext=8855,_e.circleplusdisplay=8853,_e.circleplustext=8853,_e.contintegraldisplay=8750,_e.contintegraltext=8750,_e.coproductdisplay=8720,_e.coproducttext=8720,_e.floorleftBig=8970,_e.floorleftbig=8970,_e.floorleftbigg=8970,_e.floorleftBigg=8970,_e.floorrightbig=8971,_e.floorrightBig=8971,_e.floorrightBigg=8971,_e.floorrightbigg=8971,_e.hatwide=770,_e.hatwider=770,_e.hatwidest=770,_e.intercal=7488,_e.integraldisplay=8747,_e.integraltext=8747,_e.intersectiondisplay=8898,_e.intersectiontext=8898,_e.logicalanddisplay=8743,_e.logicalandtext=8743,_e.logicalordisplay=8744,_e.logicalortext=8744,_e.parenleftBig=40,_e.parenleftbig=40,_e.parenleftBigg=40,_e.parenleftbigg=40,_e.parenrightBig=41,_e.parenrightbig=41,_e.parenrightBigg=41,_e.parenrightbigg=41,_e.prime=8242,_e.productdisplay=8719,_e.producttext=8719,_e.radicalbig=8730,_e.radicalBig=8730,_e.radicalBigg=8730,_e.radicalbigg=8730,_e.radicalbt=8730,_e.radicaltp=8730,_e.radicalvertex=8730,_e.slashbig=47,_e.slashBig=47,_e.slashBigg=47,_e.slashbigg=47,_e.summationdisplay=8721,_e.summationtext=8721,_e.tildewide=732,_e.tildewider=732,_e.tildewidest=732,_e.uniondisplay=8899,_e.unionmultidisplay=8846,_e.unionmultitext=8846,_e.unionsqdisplay=8852,_e.unionsqtext=8852,_e.uniontext=8899,_e.vextenddouble=8741,_e.vextendsingle=8739});Et.getGlyphsUnicode=_t;const Pt=(0,wt.getLookupTableFactory)(function(_e){_e.space=32,_e.a1=9985,_e.a2=9986,_e.a202=9987,_e.a3=9988,_e.a4=9742,_e.a5=9990,_e.a119=9991,_e.a118=9992,_e.a117=9993,_e.a11=9755,_e.a12=9758,_e.a13=9996,_e.a14=9997,_e.a15=9998,_e.a16=9999,_e.a105=1e4,_e.a17=10001,_e.a18=10002,_e.a19=10003,_e.a20=10004,_e.a21=10005,_e.a22=10006,_e.a23=10007,_e.a24=10008,_e.a25=10009,_e.a26=10010,_e.a27=10011,_e.a28=10012,_e.a6=10013,_e.a7=10014,_e.a8=10015,_e.a9=10016,_e.a10=10017,_e.a29=10018,_e.a30=10019,_e.a31=10020,_e.a32=10021,_e.a33=10022,_e.a34=10023,_e.a35=9733,_e.a36=10025,_e.a37=10026,_e.a38=10027,_e.a39=10028,_e.a40=10029,_e.a41=10030,_e.a42=10031,_e.a43=10032,_e.a44=10033,_e.a45=10034,_e.a46=10035,_e.a47=10036,_e.a48=10037,_e.a49=10038,_e.a50=10039,_e.a51=10040,_e.a52=10041,_e.a53=10042,_e.a54=10043,_e.a55=10044,_e.a56=10045,_e.a57=10046,_e.a58=10047,_e.a59=10048,_e.a60=10049,_e.a61=10050,_e.a62=10051,_e.a63=10052,_e.a64=10053,_e.a65=10054,_e.a66=10055,_e.a67=10056,_e.a68=10057,_e.a69=10058,_e.a70=10059,_e.a71=9679,_e.a72=10061,_e.a73=9632,_e.a74=10063,_e.a203=10064,_e.a75=10065,_e.a204=10066,_e.a76=9650,_e.a77=9660,_e.a78=9670,_e.a79=10070,_e.a81=9687,_e.a82=10072,_e.a83=10073,_e.a84=10074,_e.a97=10075,_e.a98=10076,_e.a99=10077,_e.a100=10078,_e.a101=10081,_e.a102=10082,_e.a103=10083,_e.a104=10084,_e.a106=10085,_e.a107=10086,_e.a108=10087,_e.a112=9827,_e.a111=9830,_e.a110=9829,_e.a109=9824,_e.a120=9312,_e.a121=9313,_e.a122=9314,_e.a123=9315,_e.a124=9316,_e.a125=9317,_e.a126=9318,_e.a127=9319,_e.a128=9320,_e.a129=9321,_e.a130=10102,_e.a131=10103,_e.a132=10104,_e.a133=10105,_e.a134=10106,_e.a135=10107,_e.a136=10108,_e.a137=10109,_e.a138=10110,_e.a139=10111,_e.a140=10112,_e.a141=10113,_e.a142=10114,_e.a143=10115,_e.a144=10116,_e.a145=10117,_e.a146=10118,_e.a147=10119,_e.a148=10120,_e.a149=10121,_e.a150=10122,_e.a151=10123,_e.a152=10124,_e.a153=10125,_e.a154=10126,_e.a155=10127,_e.a156=10128,_e.a157=10129,_e.a158=10130,_e.a159=10131,_e.a160=10132,_e.a161=8594,_e.a163=8596,_e.a164=8597,_e.a196=10136,_e.a165=10137,_e.a192=10138,_e.a166=10139,_e.a167=10140,_e.a168=10141,_e.a169=10142,_e.a170=10143,_e.a171=10144,_e.a172=10145,_e.a173=10146,_e.a162=10147,_e.a174=10148,_e.a175=10149,_e.a176=10150,_e.a177=10151,_e.a178=10152,_e.a179=10153,_e.a193=10154,_e.a180=10155,_e.a199=10156,_e.a181=10157,_e.a200=10158,_e.a182=10159,_e.a201=10161,_e.a183=10162,_e.a184=10163,_e.a197=10164,_e.a185=10165,_e.a194=10166,_e.a198=10167,_e.a186=10168,_e.a195=10169,_e.a187=10170,_e.a188=10171,_e.a189=10172,_e.a190=10173,_e.a191=10174,_e.a89=10088,_e.a90=10089,_e.a93=10090,_e.a94=10091,_e.a91=10092,_e.a92=10093,_e.a205=10094,_e.a85=10095,_e.a206=10096,_e.a86=10097,_e.a87=10098,_e.a88=10099,_e.a95=10100,_e.a96=10101,_e[".notdef"]=0});Et.getDingbatsGlyphsUnicode=Pt},(kt,Et,Rt)=>{Object.defineProperty(Et,"__esModule",{value:!0}),Et.clearUnicodeCaches=$t,Et.getCharUnicodeCategory=Nt,Et.getUnicodeForGlyph=_e,Et.getUnicodeRangeFor=Ft,Et.mapSpecialUnicodeValues=Pt;var wt=Rt(3);const _t=(0,wt.getLookupTableFactory)(function(Dt){Dt[63721]=169,Dt[63193]=169,Dt[63720]=174,Dt[63194]=174,Dt[63722]=8482,Dt[63195]=8482,Dt[63729]=9127,Dt[63730]=9128,Dt[63731]=9129,Dt[63740]=9131,Dt[63741]=9132,Dt[63742]=9133,Dt[63726]=9121,Dt[63727]=9122,Dt[63728]=9123,Dt[63737]=9124,Dt[63738]=9125,Dt[63739]=9126,Dt[63723]=9115,Dt[63724]=9116,Dt[63725]=9117,Dt[63734]=9118,Dt[63735]=9119,Dt[63736]=9120});function Pt(Dt){return Dt>=65520&&Dt<=65535?0:Dt>=62976&&Dt<=63743?_t()[Dt]||Dt:Dt===173?45:Dt}function _e(Dt,jt){let Ct=jt[Dt];if(Ct!==void 0)return Ct;if(!Dt)return-1;if(Dt[0]==="u"){const qt=Dt.length;let Bt;if(qt===7&&Dt[1]==="n"&&Dt[2]==="i")Bt=Dt.substring(3);else if(qt>=5&&qt<=7)Bt=Dt.substring(1);else return-1;if(Bt===Bt.toUpperCase()&&(Ct=parseInt(Bt,16),Ct>=0))return Ct}return-1}const bt=[[0,127],[128,255],[256,383],[384,591],[592,687,7424,7551,7552,7615],[688,767,42752,42783],[768,879,7616,7679],[880,1023],[11392,11519],[1024,1279,1280,1327,11744,11775,42560,42655],[1328,1423],[1424,1535],[42240,42559],[1536,1791,1872,1919],[1984,2047],[2304,2431],[2432,2559],[2560,2687],[2688,2815],[2816,2943],[2944,3071],[3072,3199],[3200,3327],[3328,3455],[3584,3711],[3712,3839],[4256,4351,11520,11567],[6912,7039],[4352,4607],[7680,7935,11360,11391,42784,43007],[7936,8191],[8192,8303,11776,11903],[8304,8351],[8352,8399],[8400,8447],[8448,8527],[8528,8591],[8592,8703,10224,10239,10496,10623,11008,11263],[8704,8959,10752,11007,10176,10223,10624,10751],[8960,9215],[9216,9279],[9280,9311],[9312,9471],[9472,9599],[9600,9631],[9632,9727],[9728,9983],[9984,10175],[12288,12351],[12352,12447],[12448,12543,12784,12799],[12544,12591,12704,12735],[12592,12687],[43072,43135],[12800,13055],[13056,13311],[44032,55215],[55296,57343],[67840,67871],[19968,40959,11904,12031,12032,12255,12272,12287,13312,19903,131072,173791,12688,12703],[57344,63743],[12736,12783,63744,64255,194560,195103],[64256,64335],[64336,65023],[65056,65071],[65040,65055],[65104,65135],[65136,65279],[65280,65519],[65520,65535],[3840,4095],[1792,1871],[1920,1983],[3456,3583],[4096,4255],[4608,4991,4992,5023,11648,11743],[5024,5119],[5120,5759],[5760,5791],[5792,5887],[6016,6143],[6144,6319],[10240,10495],[40960,42127],[5888,5919,5920,5951,5952,5983,5984,6015],[66304,66351],[66352,66383],[66560,66639],[118784,119039,119040,119295,119296,119375],[119808,120831],[1044480,1048573],[65024,65039,917760,917999],[917504,917631],[6400,6479],[6480,6527],[6528,6623],[6656,6687],[11264,11359],[11568,11647],[19904,19967],[43008,43055],[65536,65663,65664,65791,65792,65855],[65856,65935],[66432,66463],[66464,66527],[66640,66687],[66688,66735],[67584,67647],[68096,68191],[119552,119647],[73728,74751,74752,74879],[119648,119679],[7040,7103],[7168,7247],[7248,7295],[43136,43231],[43264,43311],[43312,43359],[43520,43615],[65936,65999],[66e3,66047],[66208,66271,66176,66207,67872,67903],[127024,127135,126976,127023]];function Ft(Dt,jt=-1){if(jt!==-1){const Ct=bt[jt];for(let qt=0,Bt=Ct.length;qt<Bt;qt+=2)if(Dt>=Ct[qt]&&Dt<=Ct[qt+1])return jt}for(let Ct=0,qt=bt.length;Ct<qt;Ct++){const Bt=bt[Ct];for(let Gt=0,en=Bt.length;Gt<en;Gt+=2)if(Dt>=Bt[Gt]&&Dt<=Bt[Gt+1])return Ct}return-1}const Xt=new RegExp("^(\\s)|(\\p{Mn})|(\\p{Cf})$","u"),Kt=new Map;function Nt(Dt){const jt=Kt.get(Dt);if(jt)return jt;const Ct=Dt.match(Xt),qt={isWhitespace:!!(Ct!=null&&Ct[1]),isZeroWidthDiacritic:!!(Ct!=null&&Ct[2]),isInvisibleFormatMark:!!(Ct!=null&&Ct[3])};return Kt.set(Dt,qt),qt}function $t(){Kt.clear()}},(kt,Et,Rt)=>{Object.defineProperty(Et,"__esModule",{value:!0}),Et.getSerifFonts=Et.getNonStdFontMap=Et.getGlyphMapForStandardFonts=Et.getFontNameToFileMap=void 0,Et.getStandardFontName=Dt,Et.getSymbolsFonts=Et.getSupplementalGlyphMapForCalibri=Et.getSupplementalGlyphMapForArialBlack=Et.getStdFontMap=void 0,Et.isKnownFontName=jt;var wt=Rt(3),_t=Rt(38);const Pt=(0,wt.getLookupTableFactory)(function(Ct){Ct["Times-Roman"]="Times-Roman",Ct.Helvetica="Helvetica",Ct.Courier="Courier",Ct.Symbol="Symbol",Ct["Times-Bold"]="Times-Bold",Ct["Helvetica-Bold"]="Helvetica-Bold",Ct["Courier-Bold"]="Courier-Bold",Ct.ZapfDingbats="ZapfDingbats",Ct["Times-Italic"]="Times-Italic",Ct["Helvetica-Oblique"]="Helvetica-Oblique",Ct["Courier-Oblique"]="Courier-Oblique",Ct["Times-BoldItalic"]="Times-BoldItalic",Ct["Helvetica-BoldOblique"]="Helvetica-BoldOblique",Ct["Courier-BoldOblique"]="Courier-BoldOblique",Ct.ArialNarrow="Helvetica",Ct["ArialNarrow-Bold"]="Helvetica-Bold",Ct["ArialNarrow-BoldItalic"]="Helvetica-BoldOblique",Ct["ArialNarrow-Italic"]="Helvetica-Oblique",Ct.ArialBlack="Helvetica",Ct["ArialBlack-Bold"]="Helvetica-Bold",Ct["ArialBlack-BoldItalic"]="Helvetica-BoldOblique",Ct["ArialBlack-Italic"]="Helvetica-Oblique",Ct["Arial-Black"]="Helvetica",Ct["Arial-Black-Bold"]="Helvetica-Bold",Ct["Arial-Black-BoldItalic"]="Helvetica-BoldOblique",Ct["Arial-Black-Italic"]="Helvetica-Oblique",Ct.Arial="Helvetica",Ct["Arial-Bold"]="Helvetica-Bold",Ct["Arial-BoldItalic"]="Helvetica-BoldOblique",Ct["Arial-Italic"]="Helvetica-Oblique",Ct.ArialMT="Helvetica",Ct["Arial-BoldItalicMT"]="Helvetica-BoldOblique",Ct["Arial-BoldMT"]="Helvetica-Bold",Ct["Arial-ItalicMT"]="Helvetica-Oblique",Ct["Arial-BoldItalicMT-BoldItalic"]="Helvetica-BoldOblique",Ct["Arial-BoldMT-Bold"]="Helvetica-Bold",Ct["Arial-ItalicMT-Italic"]="Helvetica-Oblique",Ct.ArialUnicodeMS="Helvetica",Ct["ArialUnicodeMS-Bold"]="Helvetica-Bold",Ct["ArialUnicodeMS-BoldItalic"]="Helvetica-BoldOblique",Ct["ArialUnicodeMS-Italic"]="Helvetica-Oblique",Ct["Courier-BoldItalic"]="Courier-BoldOblique",Ct["Courier-Italic"]="Courier-Oblique",Ct.CourierNew="Courier",Ct["CourierNew-Bold"]="Courier-Bold",Ct["CourierNew-BoldItalic"]="Courier-BoldOblique",Ct["CourierNew-Italic"]="Courier-Oblique",Ct["CourierNewPS-BoldItalicMT"]="Courier-BoldOblique",Ct["CourierNewPS-BoldMT"]="Courier-Bold",Ct["CourierNewPS-ItalicMT"]="Courier-Oblique",Ct.CourierNewPSMT="Courier",Ct["Helvetica-BoldItalic"]="Helvetica-BoldOblique",Ct["Helvetica-Italic"]="Helvetica-Oblique",Ct["Symbol-Bold"]="Symbol",Ct["Symbol-BoldItalic"]="Symbol",Ct["Symbol-Italic"]="Symbol",Ct.TimesNewRoman="Times-Roman",Ct["TimesNewRoman-Bold"]="Times-Bold",Ct["TimesNewRoman-BoldItalic"]="Times-BoldItalic",Ct["TimesNewRoman-Italic"]="Times-Italic",Ct.TimesNewRomanPS="Times-Roman",Ct["TimesNewRomanPS-Bold"]="Times-Bold",Ct["TimesNewRomanPS-BoldItalic"]="Times-BoldItalic",Ct["TimesNewRomanPS-BoldItalicMT"]="Times-BoldItalic",Ct["TimesNewRomanPS-BoldMT"]="Times-Bold",Ct["TimesNewRomanPS-Italic"]="Times-Italic",Ct["TimesNewRomanPS-ItalicMT"]="Times-Italic",Ct.TimesNewRomanPSMT="Times-Roman",Ct["TimesNewRomanPSMT-Bold"]="Times-Bold",Ct["TimesNewRomanPSMT-BoldItalic"]="Times-BoldItalic",Ct["TimesNewRomanPSMT-Italic"]="Times-Italic"});Et.getStdFontMap=Pt;const _e=(0,wt.getLookupTableFactory)(function(Ct){Ct.Courier="FoxitFixed.pfb",Ct["Courier-Bold"]="FoxitFixedBold.pfb",Ct["Courier-BoldOblique"]="FoxitFixedBoldItalic.pfb",Ct["Courier-Oblique"]="FoxitFixedItalic.pfb",Ct.Helvetica="LiberationSans-Regular.ttf",Ct["Helvetica-Bold"]="LiberationSans-Bold.ttf",Ct["Helvetica-BoldOblique"]="LiberationSans-BoldItalic.ttf",Ct["Helvetica-Oblique"]="LiberationSans-Italic.ttf",Ct["Times-Roman"]="FoxitSerif.pfb",Ct["Times-Bold"]="FoxitSerifBold.pfb",Ct["Times-BoldItalic"]="FoxitSerifBoldItalic.pfb",Ct["Times-Italic"]="FoxitSerifItalic.pfb",Ct.Symbol="FoxitSymbol.pfb",Ct.ZapfDingbats="FoxitDingbats.pfb",Ct["LiberationSans-Regular"]="LiberationSans-Regular.ttf",Ct["LiberationSans-Bold"]="LiberationSans-Bold.ttf",Ct["LiberationSans-Italic"]="LiberationSans-Italic.ttf",Ct["LiberationSans-BoldItalic"]="LiberationSans-BoldItalic.ttf"});Et.getFontNameToFileMap=_e;const bt=(0,wt.getLookupTableFactory)(function(Ct){Ct.Calibri="Helvetica",Ct["Calibri-Bold"]="Helvetica-Bold",Ct["Calibri-BoldItalic"]="Helvetica-BoldOblique",Ct["Calibri-Italic"]="Helvetica-Oblique",Ct.CenturyGothic="Helvetica",Ct["CenturyGothic-Bold"]="Helvetica-Bold",Ct["CenturyGothic-BoldItalic"]="Helvetica-BoldOblique",Ct["CenturyGothic-Italic"]="Helvetica-Oblique",Ct.ComicSansMS="Comic Sans MS",Ct["ComicSansMS-Bold"]="Comic Sans MS-Bold",Ct["ComicSansMS-BoldItalic"]="Comic Sans MS-BoldItalic",Ct["ComicSansMS-Italic"]="Comic Sans MS-Italic",Ct.Impact="Helvetica",Ct["ItcSymbol-Bold"]="Helvetica-Bold",Ct["ItcSymbol-BoldItalic"]="Helvetica-BoldOblique",Ct["ItcSymbol-Book"]="Helvetica",Ct["ItcSymbol-BookItalic"]="Helvetica-Oblique",Ct["ItcSymbol-Medium"]="Helvetica",Ct["ItcSymbol-MediumItalic"]="Helvetica-Oblique",Ct.LucidaConsole="Courier",Ct["LucidaConsole-Bold"]="Courier-Bold",Ct["LucidaConsole-BoldItalic"]="Courier-BoldOblique",Ct["LucidaConsole-Italic"]="Courier-Oblique",Ct["LucidaSans-Demi"]="Helvetica-Bold",Ct["MS-Gothic"]="MS Gothic",Ct["MS-Gothic-Bold"]="MS Gothic-Bold",Ct["MS-Gothic-BoldItalic"]="MS Gothic-BoldItalic",Ct["MS-Gothic-Italic"]="MS Gothic-Italic",Ct["MS-Mincho"]="MS Mincho",Ct["MS-Mincho-Bold"]="MS Mincho-Bold",Ct["MS-Mincho-BoldItalic"]="MS Mincho-BoldItalic",Ct["MS-Mincho-Italic"]="MS Mincho-Italic",Ct["MS-PGothic"]="MS PGothic",Ct["MS-PGothic-Bold"]="MS PGothic-Bold",Ct["MS-PGothic-BoldItalic"]="MS PGothic-BoldItalic",Ct["MS-PGothic-Italic"]="MS PGothic-Italic",Ct["MS-PMincho"]="MS PMincho",Ct["MS-PMincho-Bold"]="MS PMincho-Bold",Ct["MS-PMincho-BoldItalic"]="MS PMincho-BoldItalic",Ct["MS-PMincho-Italic"]="MS PMincho-Italic",Ct.NuptialScript="Times-Italic",Ct.SegoeUISymbol="Helvetica"});Et.getNonStdFontMap=bt;const Ft=(0,wt.getLookupTableFactory)(function(Ct){Ct["Adobe Jenson"]=!0,Ct["Adobe Text"]=!0,Ct.Albertus=!0,Ct.Aldus=!0,Ct.Alexandria=!0,Ct.Algerian=!0,Ct["American Typewriter"]=!0,Ct.Antiqua=!0,Ct.Apex=!0,Ct.Arno=!0,Ct.Aster=!0,Ct.Aurora=!0,Ct.Baskerville=!0,Ct.Bell=!0,Ct.Bembo=!0,Ct["Bembo Schoolbook"]=!0,Ct.Benguiat=!0,Ct["Berkeley Old Style"]=!0,Ct["Bernhard Modern"]=!0,Ct["Berthold City"]=!0,Ct.Bodoni=!0,Ct["Bauer Bodoni"]=!0,Ct["Book Antiqua"]=!0,Ct.Bookman=!0,Ct["Bordeaux Roman"]=!0,Ct["Californian FB"]=!0,Ct.Calisto=!0,Ct.Calvert=!0,Ct.Capitals=!0,Ct.Cambria=!0,Ct.Cartier=!0,Ct.Caslon=!0,Ct.Catull=!0,Ct.Centaur=!0,Ct["Century Old Style"]=!0,Ct["Century Schoolbook"]=!0,Ct.Chaparral=!0,Ct["Charis SIL"]=!0,Ct.Cheltenham=!0,Ct["Cholla Slab"]=!0,Ct.Clarendon=!0,Ct.Clearface=!0,Ct.Cochin=!0,Ct.Colonna=!0,Ct["Computer Modern"]=!0,Ct["Concrete Roman"]=!0,Ct.Constantia=!0,Ct["Cooper Black"]=!0,Ct.Corona=!0,Ct.Ecotype=!0,Ct.Egyptienne=!0,Ct.Elephant=!0,Ct.Excelsior=!0,Ct.Fairfield=!0,Ct["FF Scala"]=!0,Ct.Folkard=!0,Ct.Footlight=!0,Ct.FreeSerif=!0,Ct["Friz Quadrata"]=!0,Ct.Garamond=!0,Ct.Gentium=!0,Ct.Georgia=!0,Ct.Gloucester=!0,Ct["Goudy Old Style"]=!0,Ct["Goudy Schoolbook"]=!0,Ct["Goudy Pro Font"]=!0,Ct.Granjon=!0,Ct["Guardian Egyptian"]=!0,Ct.Heather=!0,Ct.Hercules=!0,Ct["High Tower Text"]=!0,Ct.Hiroshige=!0,Ct["Hoefler Text"]=!0,Ct["Humana Serif"]=!0,Ct.Imprint=!0,Ct["Ionic No. 5"]=!0,Ct.Janson=!0,Ct.Joanna=!0,Ct.Korinna=!0,Ct.Lexicon=!0,Ct.LiberationSerif=!0,Ct["Liberation Serif"]=!0,Ct["Linux Libertine"]=!0,Ct.Literaturnaya=!0,Ct.Lucida=!0,Ct["Lucida Bright"]=!0,Ct.Melior=!0,Ct.Memphis=!0,Ct.Miller=!0,Ct.Minion=!0,Ct.Modern=!0,Ct["Mona Lisa"]=!0,Ct["Mrs Eaves"]=!0,Ct["MS Serif"]=!0,Ct["Museo Slab"]=!0,Ct["New York"]=!0,Ct["Nimbus Roman"]=!0,Ct["NPS Rawlinson Roadway"]=!0,Ct.NuptialScript=!0,Ct.Palatino=!0,Ct.Perpetua=!0,Ct.Plantin=!0,Ct["Plantin Schoolbook"]=!0,Ct.Playbill=!0,Ct["Poor Richard"]=!0,Ct["Rawlinson Roadway"]=!0,Ct.Renault=!0,Ct.Requiem=!0,Ct.Rockwell=!0,Ct.Roman=!0,Ct["Rotis Serif"]=!0,Ct.Sabon=!0,Ct.Scala=!0,Ct.Seagull=!0,Ct.Sistina=!0,Ct.Souvenir=!0,Ct.STIX=!0,Ct["Stone Informal"]=!0,Ct["Stone Serif"]=!0,Ct.Sylfaen=!0,Ct.Times=!0,Ct.Trajan=!0,Ct.Trinit=!0,Ct["Trump Mediaeval"]=!0,Ct.Utopia=!0,Ct["Vale Type"]=!0,Ct["Bitstream Vera"]=!0,Ct["Vera Serif"]=!0,Ct.Versailles=!0,Ct.Wanted=!0,Ct.Weiss=!0,Ct["Wide Latin"]=!0,Ct.Windsor=!0,Ct.XITS=!0});Et.getSerifFonts=Ft;const Xt=(0,wt.getLookupTableFactory)(function(Ct){Ct.Dingbats=!0,Ct.Symbol=!0,Ct.ZapfDingbats=!0,Ct.Wingdings=!0,Ct["Wingdings-Bold"]=!0,Ct["Wingdings-Regular"]=!0});Et.getSymbolsFonts=Xt;const Kt=(0,wt.getLookupTableFactory)(function(Ct){Ct[2]=10,Ct[3]=32,Ct[4]=33,Ct[5]=34,Ct[6]=35,Ct[7]=36,Ct[8]=37,Ct[9]=38,Ct[10]=39,Ct[11]=40,Ct[12]=41,Ct[13]=42,Ct[14]=43,Ct[15]=44,Ct[16]=45,Ct[17]=46,Ct[18]=47,Ct[19]=48,Ct[20]=49,Ct[21]=50,Ct[22]=51,Ct[23]=52,Ct[24]=53,Ct[25]=54,Ct[26]=55,Ct[27]=56,Ct[28]=57,Ct[29]=58,Ct[30]=894,Ct[31]=60,Ct[32]=61,Ct[33]=62,Ct[34]=63,Ct[35]=64,Ct[36]=65,Ct[37]=66,Ct[38]=67,Ct[39]=68,Ct[40]=69,Ct[41]=70,Ct[42]=71,Ct[43]=72,Ct[44]=73,Ct[45]=74,Ct[46]=75,Ct[47]=76,Ct[48]=77,Ct[49]=78,Ct[50]=79,Ct[51]=80,Ct[52]=81,Ct[53]=82,Ct[54]=83,Ct[55]=84,Ct[56]=85,Ct[57]=86,Ct[58]=87,Ct[59]=88,Ct[60]=89,Ct[61]=90,Ct[62]=91,Ct[63]=92,Ct[64]=93,Ct[65]=94,Ct[66]=95,Ct[67]=96,Ct[68]=97,Ct[69]=98,Ct[70]=99,Ct[71]=100,Ct[72]=101,Ct[73]=102,Ct[74]=103,Ct[75]=104,Ct[76]=105,Ct[77]=106,Ct[78]=107,Ct[79]=108,Ct[80]=109,Ct[81]=110,Ct[82]=111,Ct[83]=112,Ct[84]=113,Ct[85]=114,Ct[86]=115,Ct[87]=116,Ct[88]=117,Ct[89]=118,Ct[90]=119,Ct[91]=120,Ct[92]=121,Ct[93]=122,Ct[94]=123,Ct[95]=124,Ct[96]=125,Ct[97]=126,Ct[98]=196,Ct[99]=197,Ct[100]=199,Ct[101]=201,Ct[102]=209,Ct[103]=214,Ct[104]=220,Ct[105]=225,Ct[106]=224,Ct[107]=226,Ct[108]=228,Ct[109]=227,Ct[110]=229,Ct[111]=231,Ct[112]=233,Ct[113]=232,Ct[114]=234,Ct[115]=235,Ct[116]=237,Ct[117]=236,Ct[118]=238,Ct[119]=239,Ct[120]=241,Ct[121]=243,Ct[122]=242,Ct[123]=244,Ct[124]=246,Ct[125]=245,Ct[126]=250,Ct[127]=249,Ct[128]=251,Ct[129]=252,Ct[130]=8224,Ct[131]=176,Ct[132]=162,Ct[133]=163,Ct[134]=167,Ct[135]=8226,Ct[136]=182,Ct[137]=223,Ct[138]=174,Ct[139]=169,Ct[140]=8482,Ct[141]=180,Ct[142]=168,Ct[143]=8800,Ct[144]=198,Ct[145]=216,Ct[146]=8734,Ct[147]=177,Ct[148]=8804,Ct[149]=8805,Ct[150]=165,Ct[151]=181,Ct[152]=8706,Ct[153]=8721,Ct[154]=8719,Ct[156]=8747,Ct[157]=170,Ct[158]=186,Ct[159]=8486,Ct[160]=230,Ct[161]=248,Ct[162]=191,Ct[163]=161,Ct[164]=172,Ct[165]=8730,Ct[166]=402,Ct[167]=8776,Ct[168]=8710,Ct[169]=171,Ct[170]=187,Ct[171]=8230,Ct[179]=8220,Ct[180]=8221,Ct[181]=8216,Ct[182]=8217,Ct[200]=193,Ct[203]=205,Ct[207]=211,Ct[210]=218,Ct[223]=711,Ct[224]=321,Ct[225]=322,Ct[226]=352,Ct[227]=353,Ct[228]=381,Ct[229]=382,Ct[233]=221,Ct[234]=253,Ct[252]=263,Ct[253]=268,Ct[254]=269,Ct[258]=258,Ct[260]=260,Ct[261]=261,Ct[265]=280,Ct[266]=281,Ct[267]=282,Ct[268]=283,Ct[269]=313,Ct[275]=323,Ct[276]=324,Ct[278]=328,Ct[283]=344,Ct[284]=345,Ct[285]=346,Ct[286]=347,Ct[292]=367,Ct[295]=377,Ct[296]=378,Ct[298]=380,Ct[305]=963,Ct[306]=964,Ct[307]=966,Ct[308]=8215,Ct[309]=8252,Ct[310]=8319,Ct[311]=8359,Ct[312]=8592,Ct[313]=8593,Ct[337]=9552,Ct[493]=1039,Ct[494]=1040,Ct[672]=1488,Ct[673]=1489,Ct[674]=1490,Ct[675]=1491,Ct[676]=1492,Ct[677]=1493,Ct[678]=1494,Ct[679]=1495,Ct[680]=1496,Ct[681]=1497,Ct[682]=1498,Ct[683]=1499,Ct[684]=1500,Ct[685]=1501,Ct[686]=1502,Ct[687]=1503,Ct[688]=1504,Ct[689]=1505,Ct[690]=1506,Ct[691]=1507,Ct[692]=1508,Ct[693]=1509,Ct[694]=1510,Ct[695]=1511,Ct[696]=1512,Ct[697]=1513,Ct[698]=1514,Ct[705]=1524,Ct[706]=8362,Ct[710]=64288,Ct[711]=64298,Ct[759]=1617,Ct[761]=1776,Ct[763]=1778,Ct[775]=1652,Ct[777]=1764,Ct[778]=1780,Ct[779]=1781,Ct[780]=1782,Ct[782]=771,Ct[783]=64726,Ct[786]=8363,Ct[788]=8532,Ct[790]=768,Ct[791]=769,Ct[792]=768,Ct[795]=803,Ct[797]=64336,Ct[798]=64337,Ct[799]=64342,Ct[800]=64343,Ct[801]=64344,Ct[802]=64345,Ct[803]=64362,Ct[804]=64363,Ct[805]=64364,Ct[2424]=7821,Ct[2425]=7822,Ct[2426]=7823,Ct[2427]=7824,Ct[2428]=7825,Ct[2429]=7826,Ct[2430]=7827,Ct[2433]=7682,Ct[2678]=8045,Ct[2679]=8046,Ct[2830]=1552,Ct[2838]=686,Ct[2840]=751,Ct[2842]=753,Ct[2843]=754,Ct[2844]=755,Ct[2846]=757,Ct[2856]=767,Ct[2857]=848,Ct[2858]=849,Ct[2862]=853,Ct[2863]=854,Ct[2864]=855,Ct[2865]=861,Ct[2866]=862,Ct[2906]=7460,Ct[2908]=7462,Ct[2909]=7463,Ct[2910]=7464,Ct[2912]=7466,Ct[2913]=7467,Ct[2914]=7468,Ct[2916]=7470,Ct[2917]=7471,Ct[2918]=7472,Ct[2920]=7474,Ct[2921]=7475,Ct[2922]=7476,Ct[2924]=7478,Ct[2925]=7479,Ct[2926]=7480,Ct[2928]=7482,Ct[2929]=7483,Ct[2930]=7484,Ct[2932]=7486,Ct[2933]=7487,Ct[2934]=7488,Ct[2936]=7490,Ct[2937]=7491,Ct[2938]=7492,Ct[2940]=7494,Ct[2941]=7495,Ct[2942]=7496,Ct[2944]=7498,Ct[2946]=7500,Ct[2948]=7502,Ct[2950]=7504,Ct[2951]=7505,Ct[2952]=7506,Ct[2954]=7508,Ct[2955]=7509,Ct[2956]=7510,Ct[2958]=7512,Ct[2959]=7513,Ct[2960]=7514,Ct[2962]=7516,Ct[2963]=7517,Ct[2964]=7518,Ct[2966]=7520,Ct[2967]=7521,Ct[2968]=7522,Ct[2970]=7524,Ct[2971]=7525,Ct[2972]=7526,Ct[2974]=7528,Ct[2975]=7529,Ct[2976]=7530,Ct[2978]=1537,Ct[2979]=1538,Ct[2980]=1539,Ct[2982]=1549,Ct[2983]=1551,Ct[2984]=1552,Ct[2986]=1554,Ct[2987]=1555,Ct[2988]=1556,Ct[2990]=1623,Ct[2991]=1624,Ct[2995]=1775,Ct[2999]=1791,Ct[3002]=64290,Ct[3003]=64291,Ct[3004]=64292,Ct[3006]=64294,Ct[3007]=64295,Ct[3008]=64296,Ct[3011]=1900,Ct[3014]=8223,Ct[3015]=8244,Ct[3017]=7532,Ct[3018]=7533,Ct[3019]=7534,Ct[3075]=7590,Ct[3076]=7591,Ct[3079]=7594,Ct[3080]=7595,Ct[3083]=7598,Ct[3084]=7599,Ct[3087]=7602,Ct[3088]=7603,Ct[3091]=7606,Ct[3092]=7607,Ct[3095]=7610,Ct[3096]=7611,Ct[3099]=7614,Ct[3100]=7615,Ct[3103]=7618,Ct[3104]=7619,Ct[3107]=8337,Ct[3108]=8338,Ct[3116]=1884,Ct[3119]=1885,Ct[3120]=1885,Ct[3123]=1886,Ct[3124]=1886,Ct[3127]=1887,Ct[3128]=1887,Ct[3131]=1888,Ct[3132]=1888,Ct[3135]=1889,Ct[3136]=1889,Ct[3139]=1890,Ct[3140]=1890,Ct[3143]=1891,Ct[3144]=1891,Ct[3147]=1892,Ct[3148]=1892,Ct[3153]=580,Ct[3154]=581,Ct[3157]=584,Ct[3158]=585,Ct[3161]=588,Ct[3162]=589,Ct[3165]=891,Ct[3166]=892,Ct[3169]=1274,Ct[3170]=1275,Ct[3173]=1278,Ct[3174]=1279,Ct[3181]=7622,Ct[3182]=7623,Ct[3282]=11799,Ct[3316]=578,Ct[3379]=42785,Ct[3393]=1159,Ct[3416]=8377});Et.getGlyphMapForStandardFonts=Kt;const Nt=(0,wt.getLookupTableFactory)(function(Ct){Ct[227]=322,Ct[264]=261,Ct[291]=346});Et.getSupplementalGlyphMapForArialBlack=Nt;const $t=(0,wt.getLookupTableFactory)(function(Ct){Ct[1]=32,Ct[4]=65,Ct[5]=192,Ct[6]=193,Ct[9]=196,Ct[17]=66,Ct[18]=67,Ct[21]=268,Ct[24]=68,Ct[28]=69,Ct[29]=200,Ct[30]=201,Ct[32]=282,Ct[38]=70,Ct[39]=71,Ct[44]=72,Ct[47]=73,Ct[48]=204,Ct[49]=205,Ct[58]=74,Ct[60]=75,Ct[62]=76,Ct[68]=77,Ct[69]=78,Ct[75]=79,Ct[76]=210,Ct[80]=214,Ct[87]=80,Ct[89]=81,Ct[90]=82,Ct[92]=344,Ct[94]=83,Ct[97]=352,Ct[100]=84,Ct[104]=85,Ct[109]=220,Ct[115]=86,Ct[116]=87,Ct[121]=88,Ct[122]=89,Ct[124]=221,Ct[127]=90,Ct[129]=381,Ct[258]=97,Ct[259]=224,Ct[260]=225,Ct[263]=228,Ct[268]=261,Ct[271]=98,Ct[272]=99,Ct[273]=263,Ct[275]=269,Ct[282]=100,Ct[286]=101,Ct[287]=232,Ct[288]=233,Ct[290]=283,Ct[295]=281,Ct[296]=102,Ct[336]=103,Ct[346]=104,Ct[349]=105,Ct[350]=236,Ct[351]=237,Ct[361]=106,Ct[364]=107,Ct[367]=108,Ct[371]=322,Ct[373]=109,Ct[374]=110,Ct[381]=111,Ct[382]=242,Ct[383]=243,Ct[386]=246,Ct[393]=112,Ct[395]=113,Ct[396]=114,Ct[398]=345,Ct[400]=115,Ct[401]=347,Ct[403]=353,Ct[410]=116,Ct[437]=117,Ct[442]=252,Ct[448]=118,Ct[449]=119,Ct[454]=120,Ct[455]=121,Ct[457]=253,Ct[460]=122,Ct[462]=382,Ct[463]=380,Ct[853]=44,Ct[855]=58,Ct[856]=46,Ct[876]=47,Ct[878]=45,Ct[882]=45,Ct[894]=40,Ct[895]=41,Ct[896]=91,Ct[897]=93,Ct[923]=64,Ct[1004]=48,Ct[1005]=49,Ct[1006]=50,Ct[1007]=51,Ct[1008]=52,Ct[1009]=53,Ct[1010]=54,Ct[1011]=55,Ct[1012]=56,Ct[1013]=57,Ct[1081]=37,Ct[1085]=43,Ct[1086]=45});Et.getSupplementalGlyphMapForCalibri=$t;function Dt(Ct){const qt=(0,_t.normalizeFontName)(Ct);return Pt()[qt]}function jt(Ct){const qt=(0,_t.normalizeFontName)(Ct);return!!(Pt()[qt]||bt()[qt]||Ft()[qt]||Xt()[qt])}},(kt,Et,Rt)=>{Object.defineProperty(Et,"__esModule",{value:!0}),Et.ToUnicodeMap=Et.IdentityToUnicodeMap=void 0;var wt=Rt(2);class _t{constructor(bt=[]){this._map=bt}get length(){return this._map.length}forEach(bt){for(const Ft in this._map)bt(Ft,this._map[Ft].charCodeAt(0))}has(bt){return this._map[bt]!==void 0}get(bt){return this._map[bt]}charCodeOf(bt){const Ft=this._map;if(Ft.length<=65536)return Ft.indexOf(bt);for(const Xt in Ft)if(Ft[Xt]===bt)return Xt|0;return-1}amend(bt){for(const Ft in bt)this._map[Ft]=bt[Ft]}}Et.ToUnicodeMap=_t;class Pt{constructor(bt,Ft){this.firstChar=bt,this.lastChar=Ft}get length(){return this.lastChar+1-this.firstChar}forEach(bt){for(let Ft=this.firstChar,Xt=this.lastChar;Ft<=Xt;Ft++)bt(Ft,Ft)}has(bt){return this.firstChar<=bt&&bt<=this.lastChar}get(bt){if(this.firstChar<=bt&&bt<=this.lastChar)return String.fromCharCode(bt)}charCodeOf(bt){return Number.isInteger(bt)&&bt>=this.firstChar&&bt<=this.lastChar?bt:-1}amend(bt){(0,wt.unreachable)("Should not call amend()")}}Et.IdentityToUnicodeMap=Pt},(kt,Et,Rt)=>{Object.defineProperty(Et,"__esModule",{value:!0}),Et.CFFFont=void 0;var wt=Rt(35),_t=Rt(38),Pt=Rt(2);class _e{constructor(Ft,Xt){this.properties=Xt;const Kt=new wt.CFFParser(Ft,Xt,_t.SEAC_ANALYSIS_ENABLED);this.cff=Kt.parse(),this.cff.duplicateFirstGlyph();const Nt=new wt.CFFCompiler(this.cff);this.seacs=this.cff.seacs;try{this.data=Nt.compile()}catch{(0,Pt.warn)("Failed to compile font "+Xt.loadedName),this.data=Ft}this._createBuiltInEncoding()}get numGlyphs(){return this.cff.charStrings.count}getCharset(){return this.cff.charset.charset}getGlyphMapping(){const Ft=this.cff,Xt=this.properties,{cidToGidMap:Kt,cMap:Nt}=Xt,$t=Ft.charset.charset;let Dt,jt;if(Xt.composite){let qt;if((Kt==null?void 0:Kt.length)>0){qt=Object.create(null);for(let Gt=0,en=Kt.length;Gt<en;Gt++){const dn=Kt[Gt];dn!==void 0&&(qt[dn]=Gt)}}Dt=Object.create(null);let Bt;if(Ft.isCIDFont)for(jt=0;jt<$t.length;jt++){const Gt=$t[jt];Bt=Nt.charCodeOf(Gt),(qt==null?void 0:qt[Bt])!==void 0&&(Bt=qt[Bt]),Dt[Bt]=jt}else for(jt=0;jt<Ft.charStrings.count;jt++)Bt=Nt.charCodeOf(jt),Dt[Bt]=jt;return Dt}let Ct=Ft.encoding?Ft.encoding.encoding:null;return Xt.isInternalFont&&(Ct=Xt.defaultEncoding),Dt=(0,_t.type1FontGlyphMapping)(Xt,Ct,$t),Dt}hasGlyphId(Ft){return this.cff.hasGlyphId(Ft)}_createBuiltInEncoding(){const{charset:Ft,encoding:Xt}=this.cff;if(!Ft||!Xt)return;const Kt=Ft.charset,Nt=Xt.encoding,$t=[];for(const Dt in Nt){const jt=Nt[Dt];if(jt>=0){const Ct=Kt[jt];Ct&&($t[Dt]=Ct)}}$t.length>0&&(this.properties.builtInEncoding=$t)}}Et.CFFFont=_e},(kt,Et,Rt)=>{Object.defineProperty(Et,"__esModule",{value:!0}),Et.FontRendererFactory=void 0;var wt=Rt(2),_t=Rt(35),Pt=Rt(39),_e=Rt(37),bt=Rt(8);function Ft(Vt,Yt){return(Vt[Yt]<<24|Vt[Yt+1]<<16|Vt[Yt+2]<<8|Vt[Yt+3])>>>0}function Xt(Vt,Yt){return Vt[Yt]<<8|Vt[Yt+1]}function Kt(Vt,Yt){return(Vt[Yt]<<24|Vt[Yt+1]<<16)>>16}function Nt(Vt,Yt){return Vt[Yt]<<24>>24}function $t(Vt,Yt){return Kt(Vt,Yt)/16384}function Dt(Vt){const Yt=Vt.length;let hn=32768;return Yt<1240?hn=107:Yt<33900&&(hn=1131),hn}function jt(Vt,Yt,hn){const Ut=Xt(Vt,Yt+2)===1?Ft(Vt,Yt+8):Ft(Vt,Yt+16),Ot=Xt(Vt,Yt+Ut);let zt,an,Ht;if(Ot===4){Xt(Vt,Yt+Ut+2);const Wt=Xt(Vt,Yt+Ut+6)>>1;for(an=Yt+Ut+14,zt=[],Ht=0;Ht<Wt;Ht++,an+=2)zt[Ht]={end:Xt(Vt,an)};for(an+=2,Ht=0;Ht<Wt;Ht++,an+=2)zt[Ht].start=Xt(Vt,an);for(Ht=0;Ht<Wt;Ht++,an+=2)zt[Ht].idDelta=Xt(Vt,an);for(Ht=0;Ht<Wt;Ht++,an+=2){let tn=Xt(Vt,an);if(tn!==0){zt[Ht].ids=[];for(let ln=0,on=zt[Ht].end-zt[Ht].start+1;ln<on;ln++)zt[Ht].ids[ln]=Xt(Vt,an+tn),tn+=2}}return zt}else if(Ot===12){const Wt=Ft(Vt,Yt+Ut+12);for(an=Yt+Ut+16,zt=[],Ht=0;Ht<Wt;Ht++)Yt=Ft(Vt,an),zt.push({start:Yt,end:Ft(Vt,an+4),idDelta:Ft(Vt,an+8)-Yt}),an+=12;return zt}throw new wt.FormatError(`unsupported cmap: ${Ot}`)}function Ct(Vt,Yt,hn,Ut){var Ht,Wt,tn;const Ot={},an=new _t.CFFParser(new bt.Stream(Vt,Yt,hn-Yt),Ot,Ut).parse();return{glyphs:an.charStrings.objects,subrs:(Wt=(Ht=an.topDict.privateDict)==null?void 0:Ht.subrsIndex)==null?void 0:Wt.objects,gsubrs:(tn=an.globalSubrIndex)==null?void 0:tn.objects,isCFFCIDFont:an.isCIDFont,fdSelect:an.fdSelect,fdArray:an.fdArray}}function qt(Vt,Yt,hn){let Ut,Ot;hn?(Ut=4,Ot=Ft):(Ut=2,Ot=(Ht,Wt)=>2*Xt(Ht,Wt));const zt=[];let an=Ot(Yt,0);for(let Ht=Ut;Ht<Yt.length;Ht+=Ut){const Wt=Ot(Yt,Ht);zt.push(Vt.subarray(an,Wt)),an=Wt}return zt}function Bt(Vt,Yt){const hn=Yt.codePointAt(0);let Ut=0,Ot=0,zt=Vt.length-1;for(;Ot<zt;){const an=Ot+zt+1>>1;hn<Vt[an].start?zt=an-1:Ot=an}return Vt[Ot].start<=hn&&hn<=Vt[Ot].end&&(Ut=Vt[Ot].idDelta+(Vt[Ot].ids?Vt[Ot].ids[hn-Vt[Ot].start]:hn)&65535),{charCode:hn,glyphId:Ut}}function Gt(Vt,Yt,hn){function Ut(on,cn){Yt.push({cmd:"moveTo",args:[on,cn]})}function Ot(on,cn){Yt.push({cmd:"lineTo",args:[on,cn]})}function zt(on,cn,sn,rn){Yt.push({cmd:"quadraticCurveTo",args:[on,cn,sn,rn]})}let an=0;const Ht=Kt(Vt,an);let Wt,tn=0,ln=0;if(an+=10,Ht<0)do{Wt=Xt(Vt,an);const on=Xt(Vt,an+2);an+=4;let cn,sn;Wt&1?(Wt&2?(cn=Kt(Vt,an),sn=Kt(Vt,an+2)):(cn=Xt(Vt,an),sn=Xt(Vt,an+2)),an+=4):Wt&2?(cn=Nt(Vt,an++),sn=Nt(Vt,an++)):(cn=Vt[an++],sn=Vt[an++]),Wt&2?(tn=cn,ln=sn):(tn=0,ln=0);let rn=1,xn=1,vn=0,En=0;Wt&8?(rn=xn=$t(Vt,an),an+=2):Wt&64?(rn=$t(Vt,an),xn=$t(Vt,an+2),an+=4):Wt&128&&(rn=$t(Vt,an),vn=$t(Vt,an+2),En=$t(Vt,an+4),xn=$t(Vt,an+6),an+=8);const Fn=hn.glyphs[on];Fn&&(Yt.push({cmd:"save"},{cmd:"transform",args:[rn,vn,En,xn,tn,ln]}),Gt(Fn,Yt,hn),Yt.push({cmd:"restore"}))}while(Wt&32);else{const on=[];let cn,sn;for(cn=0;cn<Ht;cn++)on.push(Xt(Vt,an)),an+=2;const rn=Xt(Vt,an);an+=2+rn;const xn=on.at(-1)+1,vn=[];for(;vn.length<xn;){Wt=Vt[an++];let Fn=1;for(Wt&8&&(Fn+=Vt[an++]);Fn-- >0;)vn.push({flags:Wt})}for(cn=0;cn<xn;cn++){switch(vn[cn].flags&18){case 0:tn+=Kt(Vt,an),an+=2;break;case 2:tn-=Vt[an++];break;case 18:tn+=Vt[an++];break}vn[cn].x=tn}for(cn=0;cn<xn;cn++){switch(vn[cn].flags&36){case 0:ln+=Kt(Vt,an),an+=2;break;case 4:ln-=Vt[an++];break;case 36:ln+=Vt[an++];break}vn[cn].y=ln}let En=0;for(an=0;an<Ht;an++){const Fn=on[an],Mn=vn.slice(En,Fn+1);if(Mn[0].flags&1)Mn.push(Mn[0]);else if(Mn.at(-1).flags&1)Mn.unshift(Mn.at(-1));else{const Tn={flags:1,x:(Mn[0].x+Mn.at(-1).x)/2,y:(Mn[0].y+Mn.at(-1).y)/2};Mn.unshift(Tn),Mn.push(Tn)}for(Ut(Mn[0].x,Mn[0].y),cn=1,sn=Mn.length;cn<sn;cn++)Mn[cn].flags&1?Ot(Mn[cn].x,Mn[cn].y):Mn[cn+1].flags&1?(zt(Mn[cn].x,Mn[cn].y,Mn[cn+1].x,Mn[cn+1].y),cn++):zt(Mn[cn].x,Mn[cn].y,(Mn[cn].x+Mn[cn+1].x)/2,(Mn[cn].y+Mn[cn+1].y)/2);En=Fn+1}}}function en(Vt,Yt,hn,Ut){function Ot(cn,sn){Yt.push({cmd:"moveTo",args:[cn,sn]})}function zt(cn,sn){Yt.push({cmd:"lineTo",args:[cn,sn]})}function an(cn,sn,rn,xn,vn,En){Yt.push({cmd:"bezierCurveTo",args:[cn,sn,rn,xn,vn,En]})}const Ht=[];let Wt=0,tn=0,ln=0;function on(cn){var rn;let sn=0;for(;sn<cn.length;){let xn=!1,vn=cn[sn++],En,Fn,Mn,Tn,Sn,mn,fn,Jt,un;switch(vn){case 1:ln+=Ht.length>>1,xn=!0;break;case 3:ln+=Ht.length>>1,xn=!0;break;case 4:tn+=Ht.pop(),Ot(Wt,tn),xn=!0;break;case 5:for(;Ht.length>0;)Wt+=Ht.shift(),tn+=Ht.shift(),zt(Wt,tn);break;case 6:for(;Ht.length>0&&(Wt+=Ht.shift(),zt(Wt,tn),Ht.length!==0);)tn+=Ht.shift(),zt(Wt,tn);break;case 7:for(;Ht.length>0&&(tn+=Ht.shift(),zt(Wt,tn),Ht.length!==0);)Wt+=Ht.shift(),zt(Wt,tn);break;case 8:for(;Ht.length>0;)En=Wt+Ht.shift(),Mn=tn+Ht.shift(),Fn=En+Ht.shift(),Tn=Mn+Ht.shift(),Wt=Fn+Ht.shift(),tn=Tn+Ht.shift(),an(En,Mn,Fn,Tn,Wt,tn);break;case 10:if(Jt=Ht.pop(),un=null,hn.isCFFCIDFont){const pn=hn.fdSelect.getFDIndex(Ut);if(pn>=0&&pn<hn.fdArray.length){const wn=hn.fdArray[pn];let kn;(rn=wn.privateDict)!=null&&rn.subrsIndex&&(kn=wn.privateDict.subrsIndex.objects),kn&&(Jt+=Dt(kn),un=kn[Jt])}else(0,wt.warn)("Invalid fd index for glyph index.")}else un=hn.subrs[Jt+hn.subrsBias];un&&on(un);break;case 11:return;case 12:switch(vn=cn[sn++],vn){case 34:En=Wt+Ht.shift(),Fn=En+Ht.shift(),Sn=tn+Ht.shift(),Wt=Fn+Ht.shift(),an(En,tn,Fn,Sn,Wt,Sn),En=Wt+Ht.shift(),Fn=En+Ht.shift(),Wt=Fn+Ht.shift(),an(En,Sn,Fn,tn,Wt,tn);break;case 35:En=Wt+Ht.shift(),Mn=tn+Ht.shift(),Fn=En+Ht.shift(),Tn=Mn+Ht.shift(),Wt=Fn+Ht.shift(),tn=Tn+Ht.shift(),an(En,Mn,Fn,Tn,Wt,tn),En=Wt+Ht.shift(),Mn=tn+Ht.shift(),Fn=En+Ht.shift(),Tn=Mn+Ht.shift(),Wt=Fn+Ht.shift(),tn=Tn+Ht.shift(),an(En,Mn,Fn,Tn,Wt,tn),Ht.pop();break;case 36:En=Wt+Ht.shift(),Sn=tn+Ht.shift(),Fn=En+Ht.shift(),mn=Sn+Ht.shift(),Wt=Fn+Ht.shift(),an(En,Sn,Fn,mn,Wt,mn),En=Wt+Ht.shift(),Fn=En+Ht.shift(),fn=mn+Ht.shift(),Wt=Fn+Ht.shift(),an(En,mn,Fn,fn,Wt,tn);break;case 37:const pn=Wt,wn=tn;En=Wt+Ht.shift(),Mn=tn+Ht.shift(),Fn=En+Ht.shift(),Tn=Mn+Ht.shift(),Wt=Fn+Ht.shift(),tn=Tn+Ht.shift(),an(En,Mn,Fn,Tn,Wt,tn),En=Wt+Ht.shift(),Mn=tn+Ht.shift(),Fn=En+Ht.shift(),Tn=Mn+Ht.shift(),Wt=Fn,tn=Tn,Math.abs(Wt-pn)>Math.abs(tn-wn)?Wt+=Ht.shift():tn+=Ht.shift(),an(En,Mn,Fn,Tn,Wt,tn);break;default:throw new wt.FormatError(`unknown operator: 12 ${vn}`)}break;case 14:if(Ht.length>=4){const pn=Ht.pop(),wn=Ht.pop();tn=Ht.pop(),Wt=Ht.pop(),Yt.push({cmd:"save"},{cmd:"translate",args:[Wt,tn]});let kn=Bt(hn.cmap,String.fromCharCode(hn.glyphNameMap[_e.StandardEncoding[pn]]));en(hn.glyphs[kn.glyphId],Yt,hn,kn.glyphId),Yt.push({cmd:"restore"}),kn=Bt(hn.cmap,String.fromCharCode(hn.glyphNameMap[_e.StandardEncoding[wn]])),en(hn.glyphs[kn.glyphId],Yt,hn,kn.glyphId)}return;case 18:ln+=Ht.length>>1,xn=!0;break;case 19:ln+=Ht.length>>1,sn+=ln+7>>3,xn=!0;break;case 20:ln+=Ht.length>>1,sn+=ln+7>>3,xn=!0;break;case 21:tn+=Ht.pop(),Wt+=Ht.pop(),Ot(Wt,tn),xn=!0;break;case 22:Wt+=Ht.pop(),Ot(Wt,tn),xn=!0;break;case 23:ln+=Ht.length>>1,xn=!0;break;case 24:for(;Ht.length>2;)En=Wt+Ht.shift(),Mn=tn+Ht.shift(),Fn=En+Ht.shift(),Tn=Mn+Ht.shift(),Wt=Fn+Ht.shift(),tn=Tn+Ht.shift(),an(En,Mn,Fn,Tn,Wt,tn);Wt+=Ht.shift(),tn+=Ht.shift(),zt(Wt,tn);break;case 25:for(;Ht.length>6;)Wt+=Ht.shift(),tn+=Ht.shift(),zt(Wt,tn);En=Wt+Ht.shift(),Mn=tn+Ht.shift(),Fn=En+Ht.shift(),Tn=Mn+Ht.shift(),Wt=Fn+Ht.shift(),tn=Tn+Ht.shift(),an(En,Mn,Fn,Tn,Wt,tn);break;case 26:for(Ht.length%2&&(Wt+=Ht.shift());Ht.length>0;)En=Wt,Mn=tn+Ht.shift(),Fn=En+Ht.shift(),Tn=Mn+Ht.shift(),Wt=Fn,tn=Tn+Ht.shift(),an(En,Mn,Fn,Tn,Wt,tn);break;case 27:for(Ht.length%2&&(tn+=Ht.shift());Ht.length>0;)En=Wt+Ht.shift(),Mn=tn,Fn=En+Ht.shift(),Tn=Mn+Ht.shift(),Wt=Fn+Ht.shift(),tn=Tn,an(En,Mn,Fn,Tn,Wt,tn);break;case 28:Ht.push((cn[sn]<<24|cn[sn+1]<<16)>>16),sn+=2;break;case 29:Jt=Ht.pop()+hn.gsubrsBias,un=hn.gsubrs[Jt],un&&on(un);break;case 30:for(;Ht.length>0&&(En=Wt,Mn=tn+Ht.shift(),Fn=En+Ht.shift(),Tn=Mn+Ht.shift(),Wt=Fn+Ht.shift(),tn=Tn+(Ht.length===1?Ht.shift():0),an(En,Mn,Fn,Tn,Wt,tn),Ht.length!==0);)En=Wt+Ht.shift(),Mn=tn,Fn=En+Ht.shift(),Tn=Mn+Ht.shift(),tn=Tn+Ht.shift(),Wt=Fn+(Ht.length===1?Ht.shift():0),an(En,Mn,Fn,Tn,Wt,tn);break;case 31:for(;Ht.length>0&&(En=Wt+Ht.shift(),Mn=tn,Fn=En+Ht.shift(),Tn=Mn+Ht.shift(),tn=Tn+Ht.shift(),Wt=Fn+(Ht.length===1?Ht.shift():0),an(En,Mn,Fn,Tn,Wt,tn),Ht.length!==0);)En=Wt,Mn=tn+Ht.shift(),Fn=En+Ht.shift(),Tn=Mn+Ht.shift(),Wt=Fn+Ht.shift(),tn=Tn+(Ht.length===1?Ht.shift():0),an(En,Mn,Fn,Tn,Wt,tn);break;default:if(vn<32)throw new wt.FormatError(`unknown operator: ${vn}`);vn<247?Ht.push(vn-139):vn<251?Ht.push((vn-247)*256+cn[sn++]+108):vn<255?Ht.push(-(vn-251)*256-cn[sn++]-108):(Ht.push((cn[sn]<<24|cn[sn+1]<<16|cn[sn+2]<<8|cn[sn+3])/65536),sn+=4);break}xn&&(Ht.length=0)}}on(Vt)}const dn=[];class Qt{constructor(Yt){this.constructor===Qt&&(0,wt.unreachable)("Cannot initialize CompiledFont."),this.fontMatrix=Yt,this.compiledGlyphs=Object.create(null),this.compiledCharCodeToGlyphId=Object.create(null)}getPathJs(Yt){const{charCode:hn,glyphId:Ut}=Bt(this.cmap,Yt);let Ot=this.compiledGlyphs[Ut];if(!Ot)try{Ot=this.compileGlyph(this.glyphs[Ut],Ut),this.compiledGlyphs[Ut]=Ot}catch(zt){throw this.compiledGlyphs[Ut]=dn,this.compiledCharCodeToGlyphId[hn]===void 0&&(this.compiledCharCodeToGlyphId[hn]=Ut),zt}return this.compiledCharCodeToGlyphId[hn]===void 0&&(this.compiledCharCodeToGlyphId[hn]=Ut),Ot}compileGlyph(Yt,hn){if(!Yt||Yt.length===0||Yt[0]===14)return dn;let Ut=this.fontMatrix;if(this.isCFFCIDFont){const zt=this.fdSelect.getFDIndex(hn);zt>=0&&zt<this.fdArray.length?Ut=this.fdArray[zt].getByName("FontMatrix")||wt.FONT_IDENTITY_MATRIX:(0,wt.warn)("Invalid fd index for glyph index.")}const Ot=[{cmd:"save"},{cmd:"transform",args:Ut.slice()},{cmd:"scale",args:["size","-size"]}];return this.compileGlyphImpl(Yt,Ot,hn),Ot.push({cmd:"restore"}),Ot}compileGlyphImpl(){(0,wt.unreachable)("Children classes should implement this.")}hasBuiltPath(Yt){const{charCode:hn,glyphId:Ut}=Bt(this.cmap,Yt);return this.compiledGlyphs[Ut]!==void 0&&this.compiledCharCodeToGlyphId[hn]!==void 0}}class gn extends Qt{constructor(Yt,hn,Ut){super(Ut||[488e-6,0,0,488e-6,0,0]),this.glyphs=Yt,this.cmap=hn}compileGlyphImpl(Yt,hn){Gt(Yt,hn,this)}}class nn extends Qt{constructor(Yt,hn,Ut,Ot){super(Ut||[.001,0,0,.001,0,0]),this.glyphs=Yt.glyphs,this.gsubrs=Yt.gsubrs||[],this.subrs=Yt.subrs||[],this.cmap=hn,this.glyphNameMap=Ot||(0,Pt.getGlyphsUnicode)(),this.gsubrsBias=Dt(this.gsubrs),this.subrsBias=Dt(this.subrs),this.isCFFCIDFont=Yt.isCFFCIDFont,this.fdSelect=Yt.fdSelect,this.fdArray=Yt.fdArray}compileGlyphImpl(Yt,hn,Ut){en(Yt,hn,this,Ut)}}class bn{static create(Yt,hn){const Ut=new Uint8Array(Yt.data);let Ot,zt,an,Ht,Wt,tn;const ln=Xt(Ut,4);for(let on=0,cn=12;on<ln;on++,cn+=16){const sn=(0,wt.bytesToString)(Ut.subarray(cn,cn+4)),rn=Ft(Ut,cn+8),xn=Ft(Ut,cn+12);switch(sn){case"cmap":Ot=jt(Ut,rn);break;case"glyf":zt=Ut.subarray(rn,rn+xn);break;case"loca":an=Ut.subarray(rn,rn+xn);break;case"head":tn=Xt(Ut,rn+18),Wt=Xt(Ut,rn+50);break;case"CFF ":Ht=Ct(Ut,rn,rn+xn,hn);break}}if(zt){const on=tn?[1/tn,0,0,1/tn,0,0]:Yt.fontMatrix;return new gn(qt(zt,an,Wt),Ot,on)}return new nn(Ht,Ot,Yt.fontMatrix,Yt.glyphNameMap)}}Et.FontRendererFactory=bn},(kt,Et,Rt)=>{Object.defineProperty(Et,"__esModule",{value:!0}),Et.getMetrics=Et.getFontBasicMetrics=void 0;var wt=Rt(3);const _t=(0,wt.getLookupTableFactory)(function(_e){_e.Courier=600,_e["Courier-Bold"]=600,_e["Courier-BoldOblique"]=600,_e["Courier-Oblique"]=600,_e.Helvetica=(0,wt.getLookupTableFactory)(function(bt){bt.space=278,bt.exclam=278,bt.quotedbl=355,bt.numbersign=556,bt.dollar=556,bt.percent=889,bt.ampersand=667,bt.quoteright=222,bt.parenleft=333,bt.parenright=333,bt.asterisk=389,bt.plus=584,bt.comma=278,bt.hyphen=333,bt.period=278,bt.slash=278,bt.zero=556,bt.one=556,bt.two=556,bt.three=556,bt.four=556,bt.five=556,bt.six=556,bt.seven=556,bt.eight=556,bt.nine=556,bt.colon=278,bt.semicolon=278,bt.less=584,bt.equal=584,bt.greater=584,bt.question=556,bt.at=1015,bt.A=667,bt.B=667,bt.C=722,bt.D=722,bt.E=667,bt.F=611,bt.G=778,bt.H=722,bt.I=278,bt.J=500,bt.K=667,bt.L=556,bt.M=833,bt.N=722,bt.O=778,bt.P=667,bt.Q=778,bt.R=722,bt.S=667,bt.T=611,bt.U=722,bt.V=667,bt.W=944,bt.X=667,bt.Y=667,bt.Z=611,bt.bracketleft=278,bt.backslash=278,bt.bracketright=278,bt.asciicircum=469,bt.underscore=556,bt.quoteleft=222,bt.a=556,bt.b=556,bt.c=500,bt.d=556,bt.e=556,bt.f=278,bt.g=556,bt.h=556,bt.i=222,bt.j=222,bt.k=500,bt.l=222,bt.m=833,bt.n=556,bt.o=556,bt.p=556,bt.q=556,bt.r=333,bt.s=500,bt.t=278,bt.u=556,bt.v=500,bt.w=722,bt.x=500,bt.y=500,bt.z=500,bt.braceleft=334,bt.bar=260,bt.braceright=334,bt.asciitilde=584,bt.exclamdown=333,bt.cent=556,bt.sterling=556,bt.fraction=167,bt.yen=556,bt.florin=556,bt.section=556,bt.currency=556,bt.quotesingle=191,bt.quotedblleft=333,bt.guillemotleft=556,bt.guilsinglleft=333,bt.guilsinglright=333,bt.fi=500,bt.fl=500,bt.endash=556,bt.dagger=556,bt.daggerdbl=556,bt.periodcentered=278,bt.paragraph=537,bt.bullet=350,bt.quotesinglbase=222,bt.quotedblbase=333,bt.quotedblright=333,bt.guillemotright=556,bt.ellipsis=1e3,bt.perthousand=1e3,bt.questiondown=611,bt.grave=333,bt.acute=333,bt.circumflex=333,bt.tilde=333,bt.macron=333,bt.breve=333,bt.dotaccent=333,bt.dieresis=333,bt.ring=333,bt.cedilla=333,bt.hungarumlaut=333,bt.ogonek=333,bt.caron=333,bt.emdash=1e3,bt.AE=1e3,bt.ordfeminine=370,bt.Lslash=556,bt.Oslash=778,bt.OE=1e3,bt.ordmasculine=365,bt.ae=889,bt.dotlessi=278,bt.lslash=222,bt.oslash=611,bt.oe=944,bt.germandbls=611,bt.Idieresis=278,bt.eacute=556,bt.abreve=556,bt.uhungarumlaut=556,bt.ecaron=556,bt.Ydieresis=667,bt.divide=584,bt.Yacute=667,bt.Acircumflex=667,bt.aacute=556,bt.Ucircumflex=722,bt.yacute=500,bt.scommaaccent=500,bt.ecircumflex=556,bt.Uring=722,bt.Udieresis=722,bt.aogonek=556,bt.Uacute=722,bt.uogonek=556,bt.Edieresis=667,bt.Dcroat=722,bt.commaaccent=250,bt.copyright=737,bt.Emacron=667,bt.ccaron=500,bt.aring=556,bt.Ncommaaccent=722,bt.lacute=222,bt.agrave=556,bt.Tcommaaccent=611,bt.Cacute=722,bt.atilde=556,bt.Edotaccent=667,bt.scaron=500,bt.scedilla=500,bt.iacute=278,bt.lozenge=471,bt.Rcaron=722,bt.Gcommaaccent=778,bt.ucircumflex=556,bt.acircumflex=556,bt.Amacron=667,bt.rcaron=333,bt.ccedilla=500,bt.Zdotaccent=611,bt.Thorn=667,bt.Omacron=778,bt.Racute=722,bt.Sacute=667,bt.dcaron=643,bt.Umacron=722,bt.uring=556,bt.threesuperior=333,bt.Ograve=778,bt.Agrave=667,bt.Abreve=667,bt.multiply=584,bt.uacute=556,bt.Tcaron=611,bt.partialdiff=476,bt.ydieresis=500,bt.Nacute=722,bt.icircumflex=278,bt.Ecircumflex=667,bt.adieresis=556,bt.edieresis=556,bt.cacute=500,bt.nacute=556,bt.umacron=556,bt.Ncaron=722,bt.Iacute=278,bt.plusminus=584,bt.brokenbar=260,bt.registered=737,bt.Gbreve=778,bt.Idotaccent=278,bt.summation=600,bt.Egrave=667,bt.racute=333,bt.omacron=556,bt.Zacute=611,bt.Zcaron=611,bt.greaterequal=549,bt.Eth=722,bt.Ccedilla=722,bt.lcommaaccent=222,bt.tcaron=317,bt.eogonek=556,bt.Uogonek=722,bt.Aacute=667,bt.Adieresis=667,bt.egrave=556,bt.zacute=500,bt.iogonek=222,bt.Oacute=778,bt.oacute=556,bt.amacron=556,bt.sacute=500,bt.idieresis=278,bt.Ocircumflex=778,bt.Ugrave=722,bt.Delta=612,bt.thorn=556,bt.twosuperior=333,bt.Odieresis=778,bt.mu=556,bt.igrave=278,bt.ohungarumlaut=556,bt.Eogonek=667,bt.dcroat=556,bt.threequarters=834,bt.Scedilla=667,bt.lcaron=299,bt.Kcommaaccent=667,bt.Lacute=556,bt.trademark=1e3,bt.edotaccent=556,bt.Igrave=278,bt.Imacron=278,bt.Lcaron=556,bt.onehalf=834,bt.lessequal=549,bt.ocircumflex=556,bt.ntilde=556,bt.Uhungarumlaut=722,bt.Eacute=667,bt.emacron=556,bt.gbreve=556,bt.onequarter=834,bt.Scaron=667,bt.Scommaaccent=667,bt.Ohungarumlaut=778,bt.degree=400,bt.ograve=556,bt.Ccaron=722,bt.ugrave=556,bt.radical=453,bt.Dcaron=722,bt.rcommaaccent=333,bt.Ntilde=722,bt.otilde=556,bt.Rcommaaccent=722,bt.Lcommaaccent=556,bt.Atilde=667,bt.Aogonek=667,bt.Aring=667,bt.Otilde=778,bt.zdotaccent=500,bt.Ecaron=667,bt.Iogonek=278,bt.kcommaaccent=500,bt.minus=584,bt.Icircumflex=278,bt.ncaron=556,bt.tcommaaccent=278,bt.logicalnot=584,bt.odieresis=556,bt.udieresis=556,bt.notequal=549,bt.gcommaaccent=556,bt.eth=556,bt.zcaron=500,bt.ncommaaccent=556,bt.onesuperior=333,bt.imacron=278,bt.Euro=556}),_e["Helvetica-Bold"]=(0,wt.getLookupTableFactory)(function(bt){bt.space=278,bt.exclam=333,bt.quotedbl=474,bt.numbersign=556,bt.dollar=556,bt.percent=889,bt.ampersand=722,bt.quoteright=278,bt.parenleft=333,bt.parenright=333,bt.asterisk=389,bt.plus=584,bt.comma=278,bt.hyphen=333,bt.period=278,bt.slash=278,bt.zero=556,bt.one=556,bt.two=556,bt.three=556,bt.four=556,bt.five=556,bt.six=556,bt.seven=556,bt.eight=556,bt.nine=556,bt.colon=333,bt.semicolon=333,bt.less=584,bt.equal=584,bt.greater=584,bt.question=611,bt.at=975,bt.A=722,bt.B=722,bt.C=722,bt.D=722,bt.E=667,bt.F=611,bt.G=778,bt.H=722,bt.I=278,bt.J=556,bt.K=722,bt.L=611,bt.M=833,bt.N=722,bt.O=778,bt.P=667,bt.Q=778,bt.R=722,bt.S=667,bt.T=611,bt.U=722,bt.V=667,bt.W=944,bt.X=667,bt.Y=667,bt.Z=611,bt.bracketleft=333,bt.backslash=278,bt.bracketright=333,bt.asciicircum=584,bt.underscore=556,bt.quoteleft=278,bt.a=556,bt.b=611,bt.c=556,bt.d=611,bt.e=556,bt.f=333,bt.g=611,bt.h=611,bt.i=278,bt.j=278,bt.k=556,bt.l=278,bt.m=889,bt.n=611,bt.o=611,bt.p=611,bt.q=611,bt.r=389,bt.s=556,bt.t=333,bt.u=611,bt.v=556,bt.w=778,bt.x=556,bt.y=556,bt.z=500,bt.braceleft=389,bt.bar=280,bt.braceright=389,bt.asciitilde=584,bt.exclamdown=333,bt.cent=556,bt.sterling=556,bt.fraction=167,bt.yen=556,bt.florin=556,bt.section=556,bt.currency=556,bt.quotesingle=238,bt.quotedblleft=500,bt.guillemotleft=556,bt.guilsinglleft=333,bt.guilsinglright=333,bt.fi=611,bt.fl=611,bt.endash=556,bt.dagger=556,bt.daggerdbl=556,bt.periodcentered=278,bt.paragraph=556,bt.bullet=350,bt.quotesinglbase=278,bt.quotedblbase=500,bt.quotedblright=500,bt.guillemotright=556,bt.ellipsis=1e3,bt.perthousand=1e3,bt.questiondown=611,bt.grave=333,bt.acute=333,bt.circumflex=333,bt.tilde=333,bt.macron=333,bt.breve=333,bt.dotaccent=333,bt.dieresis=333,bt.ring=333,bt.cedilla=333,bt.hungarumlaut=333,bt.ogonek=333,bt.caron=333,bt.emdash=1e3,bt.AE=1e3,bt.ordfeminine=370,bt.Lslash=611,bt.Oslash=778,bt.OE=1e3,bt.ordmasculine=365,bt.ae=889,bt.dotlessi=278,bt.lslash=278,bt.oslash=611,bt.oe=944,bt.germandbls=611,bt.Idieresis=278,bt.eacute=556,bt.abreve=556,bt.uhungarumlaut=611,bt.ecaron=556,bt.Ydieresis=667,bt.divide=584,bt.Yacute=667,bt.Acircumflex=722,bt.aacute=556,bt.Ucircumflex=722,bt.yacute=556,bt.scommaaccent=556,bt.ecircumflex=556,bt.Uring=722,bt.Udieresis=722,bt.aogonek=556,bt.Uacute=722,bt.uogonek=611,bt.Edieresis=667,bt.Dcroat=722,bt.commaaccent=250,bt.copyright=737,bt.Emacron=667,bt.ccaron=556,bt.aring=556,bt.Ncommaaccent=722,bt.lacute=278,bt.agrave=556,bt.Tcommaaccent=611,bt.Cacute=722,bt.atilde=556,bt.Edotaccent=667,bt.scaron=556,bt.scedilla=556,bt.iacute=278,bt.lozenge=494,bt.Rcaron=722,bt.Gcommaaccent=778,bt.ucircumflex=611,bt.acircumflex=556,bt.Amacron=722,bt.rcaron=389,bt.ccedilla=556,bt.Zdotaccent=611,bt.Thorn=667,bt.Omacron=778,bt.Racute=722,bt.Sacute=667,bt.dcaron=743,bt.Umacron=722,bt.uring=611,bt.threesuperior=333,bt.Ograve=778,bt.Agrave=722,bt.Abreve=722,bt.multiply=584,bt.uacute=611,bt.Tcaron=611,bt.partialdiff=494,bt.ydieresis=556,bt.Nacute=722,bt.icircumflex=278,bt.Ecircumflex=667,bt.adieresis=556,bt.edieresis=556,bt.cacute=556,bt.nacute=611,bt.umacron=611,bt.Ncaron=722,bt.Iacute=278,bt.plusminus=584,bt.brokenbar=280,bt.registered=737,bt.Gbreve=778,bt.Idotaccent=278,bt.summation=600,bt.Egrave=667,bt.racute=389,bt.omacron=611,bt.Zacute=611,bt.Zcaron=611,bt.greaterequal=549,bt.Eth=722,bt.Ccedilla=722,bt.lcommaaccent=278,bt.tcaron=389,bt.eogonek=556,bt.Uogonek=722,bt.Aacute=722,bt.Adieresis=722,bt.egrave=556,bt.zacute=500,bt.iogonek=278,bt.Oacute=778,bt.oacute=611,bt.amacron=556,bt.sacute=556,bt.idieresis=278,bt.Ocircumflex=778,bt.Ugrave=722,bt.Delta=612,bt.thorn=611,bt.twosuperior=333,bt.Odieresis=778,bt.mu=611,bt.igrave=278,bt.ohungarumlaut=611,bt.Eogonek=667,bt.dcroat=611,bt.threequarters=834,bt.Scedilla=667,bt.lcaron=400,bt.Kcommaaccent=722,bt.Lacute=611,bt.trademark=1e3,bt.edotaccent=556,bt.Igrave=278,bt.Imacron=278,bt.Lcaron=611,bt.onehalf=834,bt.lessequal=549,bt.ocircumflex=611,bt.ntilde=611,bt.Uhungarumlaut=722,bt.Eacute=667,bt.emacron=556,bt.gbreve=611,bt.onequarter=834,bt.Scaron=667,bt.Scommaaccent=667,bt.Ohungarumlaut=778,bt.degree=400,bt.ograve=611,bt.Ccaron=722,bt.ugrave=611,bt.radical=549,bt.Dcaron=722,bt.rcommaaccent=389,bt.Ntilde=722,bt.otilde=611,bt.Rcommaaccent=722,bt.Lcommaaccent=611,bt.Atilde=722,bt.Aogonek=722,bt.Aring=722,bt.Otilde=778,bt.zdotaccent=500,bt.Ecaron=667,bt.Iogonek=278,bt.kcommaaccent=556,bt.minus=584,bt.Icircumflex=278,bt.ncaron=611,bt.tcommaaccent=333,bt.logicalnot=584,bt.odieresis=611,bt.udieresis=611,bt.notequal=549,bt.gcommaaccent=611,bt.eth=611,bt.zcaron=500,bt.ncommaaccent=611,bt.onesuperior=333,bt.imacron=278,bt.Euro=556}),_e["Helvetica-BoldOblique"]=(0,wt.getLookupTableFactory)(function(bt){bt.space=278,bt.exclam=333,bt.quotedbl=474,bt.numbersign=556,bt.dollar=556,bt.percent=889,bt.ampersand=722,bt.quoteright=278,bt.parenleft=333,bt.parenright=333,bt.asterisk=389,bt.plus=584,bt.comma=278,bt.hyphen=333,bt.period=278,bt.slash=278,bt.zero=556,bt.one=556,bt.two=556,bt.three=556,bt.four=556,bt.five=556,bt.six=556,bt.seven=556,bt.eight=556,bt.nine=556,bt.colon=333,bt.semicolon=333,bt.less=584,bt.equal=584,bt.greater=584,bt.question=611,bt.at=975,bt.A=722,bt.B=722,bt.C=722,bt.D=722,bt.E=667,bt.F=611,bt.G=778,bt.H=722,bt.I=278,bt.J=556,bt.K=722,bt.L=611,bt.M=833,bt.N=722,bt.O=778,bt.P=667,bt.Q=778,bt.R=722,bt.S=667,bt.T=611,bt.U=722,bt.V=667,bt.W=944,bt.X=667,bt.Y=667,bt.Z=611,bt.bracketleft=333,bt.backslash=278,bt.bracketright=333,bt.asciicircum=584,bt.underscore=556,bt.quoteleft=278,bt.a=556,bt.b=611,bt.c=556,bt.d=611,bt.e=556,bt.f=333,bt.g=611,bt.h=611,bt.i=278,bt.j=278,bt.k=556,bt.l=278,bt.m=889,bt.n=611,bt.o=611,bt.p=611,bt.q=611,bt.r=389,bt.s=556,bt.t=333,bt.u=611,bt.v=556,bt.w=778,bt.x=556,bt.y=556,bt.z=500,bt.braceleft=389,bt.bar=280,bt.braceright=389,bt.asciitilde=584,bt.exclamdown=333,bt.cent=556,bt.sterling=556,bt.fraction=167,bt.yen=556,bt.florin=556,bt.section=556,bt.currency=556,bt.quotesingle=238,bt.quotedblleft=500,bt.guillemotleft=556,bt.guilsinglleft=333,bt.guilsinglright=333,bt.fi=611,bt.fl=611,bt.endash=556,bt.dagger=556,bt.daggerdbl=556,bt.periodcentered=278,bt.paragraph=556,bt.bullet=350,bt.quotesinglbase=278,bt.quotedblbase=500,bt.quotedblright=500,bt.guillemotright=556,bt.ellipsis=1e3,bt.perthousand=1e3,bt.questiondown=611,bt.grave=333,bt.acute=333,bt.circumflex=333,bt.tilde=333,bt.macron=333,bt.breve=333,bt.dotaccent=333,bt.dieresis=333,bt.ring=333,bt.cedilla=333,bt.hungarumlaut=333,bt.ogonek=333,bt.caron=333,bt.emdash=1e3,bt.AE=1e3,bt.ordfeminine=370,bt.Lslash=611,bt.Oslash=778,bt.OE=1e3,bt.ordmasculine=365,bt.ae=889,bt.dotlessi=278,bt.lslash=278,bt.oslash=611,bt.oe=944,bt.germandbls=611,bt.Idieresis=278,bt.eacute=556,bt.abreve=556,bt.uhungarumlaut=611,bt.ecaron=556,bt.Ydieresis=667,bt.divide=584,bt.Yacute=667,bt.Acircumflex=722,bt.aacute=556,bt.Ucircumflex=722,bt.yacute=556,bt.scommaaccent=556,bt.ecircumflex=556,bt.Uring=722,bt.Udieresis=722,bt.aogonek=556,bt.Uacute=722,bt.uogonek=611,bt.Edieresis=667,bt.Dcroat=722,bt.commaaccent=250,bt.copyright=737,bt.Emacron=667,bt.ccaron=556,bt.aring=556,bt.Ncommaaccent=722,bt.lacute=278,bt.agrave=556,bt.Tcommaaccent=611,bt.Cacute=722,bt.atilde=556,bt.Edotaccent=667,bt.scaron=556,bt.scedilla=556,bt.iacute=278,bt.lozenge=494,bt.Rcaron=722,bt.Gcommaaccent=778,bt.ucircumflex=611,bt.acircumflex=556,bt.Amacron=722,bt.rcaron=389,bt.ccedilla=556,bt.Zdotaccent=611,bt.Thorn=667,bt.Omacron=778,bt.Racute=722,bt.Sacute=667,bt.dcaron=743,bt.Umacron=722,bt.uring=611,bt.threesuperior=333,bt.Ograve=778,bt.Agrave=722,bt.Abreve=722,bt.multiply=584,bt.uacute=611,bt.Tcaron=611,bt.partialdiff=494,bt.ydieresis=556,bt.Nacute=722,bt.icircumflex=278,bt.Ecircumflex=667,bt.adieresis=556,bt.edieresis=556,bt.cacute=556,bt.nacute=611,bt.umacron=611,bt.Ncaron=722,bt.Iacute=278,bt.plusminus=584,bt.brokenbar=280,bt.registered=737,bt.Gbreve=778,bt.Idotaccent=278,bt.summation=600,bt.Egrave=667,bt.racute=389,bt.omacron=611,bt.Zacute=611,bt.Zcaron=611,bt.greaterequal=549,bt.Eth=722,bt.Ccedilla=722,bt.lcommaaccent=278,bt.tcaron=389,bt.eogonek=556,bt.Uogonek=722,bt.Aacute=722,bt.Adieresis=722,bt.egrave=556,bt.zacute=500,bt.iogonek=278,bt.Oacute=778,bt.oacute=611,bt.amacron=556,bt.sacute=556,bt.idieresis=278,bt.Ocircumflex=778,bt.Ugrave=722,bt.Delta=612,bt.thorn=611,bt.twosuperior=333,bt.Odieresis=778,bt.mu=611,bt.igrave=278,bt.ohungarumlaut=611,bt.Eogonek=667,bt.dcroat=611,bt.threequarters=834,bt.Scedilla=667,bt.lcaron=400,bt.Kcommaaccent=722,bt.Lacute=611,bt.trademark=1e3,bt.edotaccent=556,bt.Igrave=278,bt.Imacron=278,bt.Lcaron=611,bt.onehalf=834,bt.lessequal=549,bt.ocircumflex=611,bt.ntilde=611,bt.Uhungarumlaut=722,bt.Eacute=667,bt.emacron=556,bt.gbreve=611,bt.onequarter=834,bt.Scaron=667,bt.Scommaaccent=667,bt.Ohungarumlaut=778,bt.degree=400,bt.ograve=611,bt.Ccaron=722,bt.ugrave=611,bt.radical=549,bt.Dcaron=722,bt.rcommaaccent=389,bt.Ntilde=722,bt.otilde=611,bt.Rcommaaccent=722,bt.Lcommaaccent=611,bt.Atilde=722,bt.Aogonek=722,bt.Aring=722,bt.Otilde=778,bt.zdotaccent=500,bt.Ecaron=667,bt.Iogonek=278,bt.kcommaaccent=556,bt.minus=584,bt.Icircumflex=278,bt.ncaron=611,bt.tcommaaccent=333,bt.logicalnot=584,bt.odieresis=611,bt.udieresis=611,bt.notequal=549,bt.gcommaaccent=611,bt.eth=611,bt.zcaron=500,bt.ncommaaccent=611,bt.onesuperior=333,bt.imacron=278,bt.Euro=556}),_e["Helvetica-Oblique"]=(0,wt.getLookupTableFactory)(function(bt){bt.space=278,bt.exclam=278,bt.quotedbl=355,bt.numbersign=556,bt.dollar=556,bt.percent=889,bt.ampersand=667,bt.quoteright=222,bt.parenleft=333,bt.parenright=333,bt.asterisk=389,bt.plus=584,bt.comma=278,bt.hyphen=333,bt.period=278,bt.slash=278,bt.zero=556,bt.one=556,bt.two=556,bt.three=556,bt.four=556,bt.five=556,bt.six=556,bt.seven=556,bt.eight=556,bt.nine=556,bt.colon=278,bt.semicolon=278,bt.less=584,bt.equal=584,bt.greater=584,bt.question=556,bt.at=1015,bt.A=667,bt.B=667,bt.C=722,bt.D=722,bt.E=667,bt.F=611,bt.G=778,bt.H=722,bt.I=278,bt.J=500,bt.K=667,bt.L=556,bt.M=833,bt.N=722,bt.O=778,bt.P=667,bt.Q=778,bt.R=722,bt.S=667,bt.T=611,bt.U=722,bt.V=667,bt.W=944,bt.X=667,bt.Y=667,bt.Z=611,bt.bracketleft=278,bt.backslash=278,bt.bracketright=278,bt.asciicircum=469,bt.underscore=556,bt.quoteleft=222,bt.a=556,bt.b=556,bt.c=500,bt.d=556,bt.e=556,bt.f=278,bt.g=556,bt.h=556,bt.i=222,bt.j=222,bt.k=500,bt.l=222,bt.m=833,bt.n=556,bt.o=556,bt.p=556,bt.q=556,bt.r=333,bt.s=500,bt.t=278,bt.u=556,bt.v=500,bt.w=722,bt.x=500,bt.y=500,bt.z=500,bt.braceleft=334,bt.bar=260,bt.braceright=334,bt.asciitilde=584,bt.exclamdown=333,bt.cent=556,bt.sterling=556,bt.fraction=167,bt.yen=556,bt.florin=556,bt.section=556,bt.currency=556,bt.quotesingle=191,bt.quotedblleft=333,bt.guillemotleft=556,bt.guilsinglleft=333,bt.guilsinglright=333,bt.fi=500,bt.fl=500,bt.endash=556,bt.dagger=556,bt.daggerdbl=556,bt.periodcentered=278,bt.paragraph=537,bt.bullet=350,bt.quotesinglbase=222,bt.quotedblbase=333,bt.quotedblright=333,bt.guillemotright=556,bt.ellipsis=1e3,bt.perthousand=1e3,bt.questiondown=611,bt.grave=333,bt.acute=333,bt.circumflex=333,bt.tilde=333,bt.macron=333,bt.breve=333,bt.dotaccent=333,bt.dieresis=333,bt.ring=333,bt.cedilla=333,bt.hungarumlaut=333,bt.ogonek=333,bt.caron=333,bt.emdash=1e3,bt.AE=1e3,bt.ordfeminine=370,bt.Lslash=556,bt.Oslash=778,bt.OE=1e3,bt.ordmasculine=365,bt.ae=889,bt.dotlessi=278,bt.lslash=222,bt.oslash=611,bt.oe=944,bt.germandbls=611,bt.Idieresis=278,bt.eacute=556,bt.abreve=556,bt.uhungarumlaut=556,bt.ecaron=556,bt.Ydieresis=667,bt.divide=584,bt.Yacute=667,bt.Acircumflex=667,bt.aacute=556,bt.Ucircumflex=722,bt.yacute=500,bt.scommaaccent=500,bt.ecircumflex=556,bt.Uring=722,bt.Udieresis=722,bt.aogonek=556,bt.Uacute=722,bt.uogonek=556,bt.Edieresis=667,bt.Dcroat=722,bt.commaaccent=250,bt.copyright=737,bt.Emacron=667,bt.ccaron=500,bt.aring=556,bt.Ncommaaccent=722,bt.lacute=222,bt.agrave=556,bt.Tcommaaccent=611,bt.Cacute=722,bt.atilde=556,bt.Edotaccent=667,bt.scaron=500,bt.scedilla=500,bt.iacute=278,bt.lozenge=471,bt.Rcaron=722,bt.Gcommaaccent=778,bt.ucircumflex=556,bt.acircumflex=556,bt.Amacron=667,bt.rcaron=333,bt.ccedilla=500,bt.Zdotaccent=611,bt.Thorn=667,bt.Omacron=778,bt.Racute=722,bt.Sacute=667,bt.dcaron=643,bt.Umacron=722,bt.uring=556,bt.threesuperior=333,bt.Ograve=778,bt.Agrave=667,bt.Abreve=667,bt.multiply=584,bt.uacute=556,bt.Tcaron=611,bt.partialdiff=476,bt.ydieresis=500,bt.Nacute=722,bt.icircumflex=278,bt.Ecircumflex=667,bt.adieresis=556,bt.edieresis=556,bt.cacute=500,bt.nacute=556,bt.umacron=556,bt.Ncaron=722,bt.Iacute=278,bt.plusminus=584,bt.brokenbar=260,bt.registered=737,bt.Gbreve=778,bt.Idotaccent=278,bt.summation=600,bt.Egrave=667,bt.racute=333,bt.omacron=556,bt.Zacute=611,bt.Zcaron=611,bt.greaterequal=549,bt.Eth=722,bt.Ccedilla=722,bt.lcommaaccent=222,bt.tcaron=317,bt.eogonek=556,bt.Uogonek=722,bt.Aacute=667,bt.Adieresis=667,bt.egrave=556,bt.zacute=500,bt.iogonek=222,bt.Oacute=778,bt.oacute=556,bt.amacron=556,bt.sacute=500,bt.idieresis=278,bt.Ocircumflex=778,bt.Ugrave=722,bt.Delta=612,bt.thorn=556,bt.twosuperior=333,bt.Odieresis=778,bt.mu=556,bt.igrave=278,bt.ohungarumlaut=556,bt.Eogonek=667,bt.dcroat=556,bt.threequarters=834,bt.Scedilla=667,bt.lcaron=299,bt.Kcommaaccent=667,bt.Lacute=556,bt.trademark=1e3,bt.edotaccent=556,bt.Igrave=278,bt.Imacron=278,bt.Lcaron=556,bt.onehalf=834,bt.lessequal=549,bt.ocircumflex=556,bt.ntilde=556,bt.Uhungarumlaut=722,bt.Eacute=667,bt.emacron=556,bt.gbreve=556,bt.onequarter=834,bt.Scaron=667,bt.Scommaaccent=667,bt.Ohungarumlaut=778,bt.degree=400,bt.ograve=556,bt.Ccaron=722,bt.ugrave=556,bt.radical=453,bt.Dcaron=722,bt.rcommaaccent=333,bt.Ntilde=722,bt.otilde=556,bt.Rcommaaccent=722,bt.Lcommaaccent=556,bt.Atilde=667,bt.Aogonek=667,bt.Aring=667,bt.Otilde=778,bt.zdotaccent=500,bt.Ecaron=667,bt.Iogonek=278,bt.kcommaaccent=500,bt.minus=584,bt.Icircumflex=278,bt.ncaron=556,bt.tcommaaccent=278,bt.logicalnot=584,bt.odieresis=556,bt.udieresis=556,bt.notequal=549,bt.gcommaaccent=556,bt.eth=556,bt.zcaron=500,bt.ncommaaccent=556,bt.onesuperior=333,bt.imacron=278,bt.Euro=556}),_e.Symbol=(0,wt.getLookupTableFactory)(function(bt){bt.space=250,bt.exclam=333,bt.universal=713,bt.numbersign=500,bt.existential=549,bt.percent=833,bt.ampersand=778,bt.suchthat=439,bt.parenleft=333,bt.parenright=333,bt.asteriskmath=500,bt.plus=549,bt.comma=250,bt.minus=549,bt.period=250,bt.slash=278,bt.zero=500,bt.one=500,bt.two=500,bt.three=500,bt.four=500,bt.five=500,bt.six=500,bt.seven=500,bt.eight=500,bt.nine=500,bt.colon=278,bt.semicolon=278,bt.less=549,bt.equal=549,bt.greater=549,bt.question=444,bt.congruent=549,bt.Alpha=722,bt.Beta=667,bt.Chi=722,bt.Delta=612,bt.Epsilon=611,bt.Phi=763,bt.Gamma=603,bt.Eta=722,bt.Iota=333,bt.theta1=631,bt.Kappa=722,bt.Lambda=686,bt.Mu=889,bt.Nu=722,bt.Omicron=722,bt.Pi=768,bt.Theta=741,bt.Rho=556,bt.Sigma=592,bt.Tau=611,bt.Upsilon=690,bt.sigma1=439,bt.Omega=768,bt.Xi=645,bt.Psi=795,bt.Zeta=611,bt.bracketleft=333,bt.therefore=863,bt.bracketright=333,bt.perpendicular=658,bt.underscore=500,bt.radicalex=500,bt.alpha=631,bt.beta=549,bt.chi=549,bt.delta=494,bt.epsilon=439,bt.phi=521,bt.gamma=411,bt.eta=603,bt.iota=329,bt.phi1=603,bt.kappa=549,bt.lambda=549,bt.mu=576,bt.nu=521,bt.omicron=549,bt.pi=549,bt.theta=521,bt.rho=549,bt.sigma=603,bt.tau=439,bt.upsilon=576,bt.omega1=713,bt.omega=686,bt.xi=493,bt.psi=686,bt.zeta=494,bt.braceleft=480,bt.bar=200,bt.braceright=480,bt.similar=549,bt.Euro=750,bt.Upsilon1=620,bt.minute=247,bt.lessequal=549,bt.fraction=167,bt.infinity=713,bt.florin=500,bt.club=753,bt.diamond=753,bt.heart=753,bt.spade=753,bt.arrowboth=1042,bt.arrowleft=987,bt.arrowup=603,bt.arrowright=987,bt.arrowdown=603,bt.degree=400,bt.plusminus=549,bt.second=411,bt.greaterequal=549,bt.multiply=549,bt.proportional=713,bt.partialdiff=494,bt.bullet=460,bt.divide=549,bt.notequal=549,bt.equivalence=549,bt.approxequal=549,bt.ellipsis=1e3,bt.arrowvertex=603,bt.arrowhorizex=1e3,bt.carriagereturn=658,bt.aleph=823,bt.Ifraktur=686,bt.Rfraktur=795,bt.weierstrass=987,bt.circlemultiply=768,bt.circleplus=768,bt.emptyset=823,bt.intersection=768,bt.union=768,bt.propersuperset=713,bt.reflexsuperset=713,bt.notsubset=713,bt.propersubset=713,bt.reflexsubset=713,bt.element=713,bt.notelement=713,bt.angle=768,bt.gradient=713,bt.registerserif=790,bt.copyrightserif=790,bt.trademarkserif=890,bt.product=823,bt.radical=549,bt.dotmath=250,bt.logicalnot=713,bt.logicaland=603,bt.logicalor=603,bt.arrowdblboth=1042,bt.arrowdblleft=987,bt.arrowdblup=603,bt.arrowdblright=987,bt.arrowdbldown=603,bt.lozenge=494,bt.angleleft=329,bt.registersans=790,bt.copyrightsans=790,bt.trademarksans=786,bt.summation=713,bt.parenlefttp=384,bt.parenleftex=384,bt.parenleftbt=384,bt.bracketlefttp=384,bt.bracketleftex=384,bt.bracketleftbt=384,bt.bracelefttp=494,bt.braceleftmid=494,bt.braceleftbt=494,bt.braceex=494,bt.angleright=329,bt.integral=274,bt.integraltp=686,bt.integralex=686,bt.integralbt=686,bt.parenrighttp=384,bt.parenrightex=384,bt.parenrightbt=384,bt.bracketrighttp=384,bt.bracketrightex=384,bt.bracketrightbt=384,bt.bracerighttp=494,bt.bracerightmid=494,bt.bracerightbt=494,bt.apple=790}),_e["Times-Roman"]=(0,wt.getLookupTableFactory)(function(bt){bt.space=250,bt.exclam=333,bt.quotedbl=408,bt.numbersign=500,bt.dollar=500,bt.percent=833,bt.ampersand=778,bt.quoteright=333,bt.parenleft=333,bt.parenright=333,bt.asterisk=500,bt.plus=564,bt.comma=250,bt.hyphen=333,bt.period=250,bt.slash=278,bt.zero=500,bt.one=500,bt.two=500,bt.three=500,bt.four=500,bt.five=500,bt.six=500,bt.seven=500,bt.eight=500,bt.nine=500,bt.colon=278,bt.semicolon=278,bt.less=564,bt.equal=564,bt.greater=564,bt.question=444,bt.at=921,bt.A=722,bt.B=667,bt.C=667,bt.D=722,bt.E=611,bt.F=556,bt.G=722,bt.H=722,bt.I=333,bt.J=389,bt.K=722,bt.L=611,bt.M=889,bt.N=722,bt.O=722,bt.P=556,bt.Q=722,bt.R=667,bt.S=556,bt.T=611,bt.U=722,bt.V=722,bt.W=944,bt.X=722,bt.Y=722,bt.Z=611,bt.bracketleft=333,bt.backslash=278,bt.bracketright=333,bt.asciicircum=469,bt.underscore=500,bt.quoteleft=333,bt.a=444,bt.b=500,bt.c=444,bt.d=500,bt.e=444,bt.f=333,bt.g=500,bt.h=500,bt.i=278,bt.j=278,bt.k=500,bt.l=278,bt.m=778,bt.n=500,bt.o=500,bt.p=500,bt.q=500,bt.r=333,bt.s=389,bt.t=278,bt.u=500,bt.v=500,bt.w=722,bt.x=500,bt.y=500,bt.z=444,bt.braceleft=480,bt.bar=200,bt.braceright=480,bt.asciitilde=541,bt.exclamdown=333,bt.cent=500,bt.sterling=500,bt.fraction=167,bt.yen=500,bt.florin=500,bt.section=500,bt.currency=500,bt.quotesingle=180,bt.quotedblleft=444,bt.guillemotleft=500,bt.guilsinglleft=333,bt.guilsinglright=333,bt.fi=556,bt.fl=556,bt.endash=500,bt.dagger=500,bt.daggerdbl=500,bt.periodcentered=250,bt.paragraph=453,bt.bullet=350,bt.quotesinglbase=333,bt.quotedblbase=444,bt.quotedblright=444,bt.guillemotright=500,bt.ellipsis=1e3,bt.perthousand=1e3,bt.questiondown=444,bt.grave=333,bt.acute=333,bt.circumflex=333,bt.tilde=333,bt.macron=333,bt.breve=333,bt.dotaccent=333,bt.dieresis=333,bt.ring=333,bt.cedilla=333,bt.hungarumlaut=333,bt.ogonek=333,bt.caron=333,bt.emdash=1e3,bt.AE=889,bt.ordfeminine=276,bt.Lslash=611,bt.Oslash=722,bt.OE=889,bt.ordmasculine=310,bt.ae=667,bt.dotlessi=278,bt.lslash=278,bt.oslash=500,bt.oe=722,bt.germandbls=500,bt.Idieresis=333,bt.eacute=444,bt.abreve=444,bt.uhungarumlaut=500,bt.ecaron=444,bt.Ydieresis=722,bt.divide=564,bt.Yacute=722,bt.Acircumflex=722,bt.aacute=444,bt.Ucircumflex=722,bt.yacute=500,bt.scommaaccent=389,bt.ecircumflex=444,bt.Uring=722,bt.Udieresis=722,bt.aogonek=444,bt.Uacute=722,bt.uogonek=500,bt.Edieresis=611,bt.Dcroat=722,bt.commaaccent=250,bt.copyright=760,bt.Emacron=611,bt.ccaron=444,bt.aring=444,bt.Ncommaaccent=722,bt.lacute=278,bt.agrave=444,bt.Tcommaaccent=611,bt.Cacute=667,bt.atilde=444,bt.Edotaccent=611,bt.scaron=389,bt.scedilla=389,bt.iacute=278,bt.lozenge=471,bt.Rcaron=667,bt.Gcommaaccent=722,bt.ucircumflex=500,bt.acircumflex=444,bt.Amacron=722,bt.rcaron=333,bt.ccedilla=444,bt.Zdotaccent=611,bt.Thorn=556,bt.Omacron=722,bt.Racute=667,bt.Sacute=556,bt.dcaron=588,bt.Umacron=722,bt.uring=500,bt.threesuperior=300,bt.Ograve=722,bt.Agrave=722,bt.Abreve=722,bt.multiply=564,bt.uacute=500,bt.Tcaron=611,bt.partialdiff=476,bt.ydieresis=500,bt.Nacute=722,bt.icircumflex=278,bt.Ecircumflex=611,bt.adieresis=444,bt.edieresis=444,bt.cacute=444,bt.nacute=500,bt.umacron=500,bt.Ncaron=722,bt.Iacute=333,bt.plusminus=564,bt.brokenbar=200,bt.registered=760,bt.Gbreve=722,bt.Idotaccent=333,bt.summation=600,bt.Egrave=611,bt.racute=333,bt.omacron=500,bt.Zacute=611,bt.Zcaron=611,bt.greaterequal=549,bt.Eth=722,bt.Ccedilla=667,bt.lcommaaccent=278,bt.tcaron=326,bt.eogonek=444,bt.Uogonek=722,bt.Aacute=722,bt.Adieresis=722,bt.egrave=444,bt.zacute=444,bt.iogonek=278,bt.Oacute=722,bt.oacute=500,bt.amacron=444,bt.sacute=389,bt.idieresis=278,bt.Ocircumflex=722,bt.Ugrave=722,bt.Delta=612,bt.thorn=500,bt.twosuperior=300,bt.Odieresis=722,bt.mu=500,bt.igrave=278,bt.ohungarumlaut=500,bt.Eogonek=611,bt.dcroat=500,bt.threequarters=750,bt.Scedilla=556,bt.lcaron=344,bt.Kcommaaccent=722,bt.Lacute=611,bt.trademark=980,bt.edotaccent=444,bt.Igrave=333,bt.Imacron=333,bt.Lcaron=611,bt.onehalf=750,bt.lessequal=549,bt.ocircumflex=500,bt.ntilde=500,bt.Uhungarumlaut=722,bt.Eacute=611,bt.emacron=444,bt.gbreve=500,bt.onequarter=750,bt.Scaron=556,bt.Scommaaccent=556,bt.Ohungarumlaut=722,bt.degree=400,bt.ograve=500,bt.Ccaron=667,bt.ugrave=500,bt.radical=453,bt.Dcaron=722,bt.rcommaaccent=333,bt.Ntilde=722,bt.otilde=500,bt.Rcommaaccent=667,bt.Lcommaaccent=611,bt.Atilde=722,bt.Aogonek=722,bt.Aring=722,bt.Otilde=722,bt.zdotaccent=444,bt.Ecaron=611,bt.Iogonek=333,bt.kcommaaccent=500,bt.minus=564,bt.Icircumflex=333,bt.ncaron=500,bt.tcommaaccent=278,bt.logicalnot=564,bt.odieresis=500,bt.udieresis=500,bt.notequal=549,bt.gcommaaccent=500,bt.eth=500,bt.zcaron=444,bt.ncommaaccent=500,bt.onesuperior=300,bt.imacron=278,bt.Euro=500}),_e["Times-Bold"]=(0,wt.getLookupTableFactory)(function(bt){bt.space=250,bt.exclam=333,bt.quotedbl=555,bt.numbersign=500,bt.dollar=500,bt.percent=1e3,bt.ampersand=833,bt.quoteright=333,bt.parenleft=333,bt.parenright=333,bt.asterisk=500,bt.plus=570,bt.comma=250,bt.hyphen=333,bt.period=250,bt.slash=278,bt.zero=500,bt.one=500,bt.two=500,bt.three=500,bt.four=500,bt.five=500,bt.six=500,bt.seven=500,bt.eight=500,bt.nine=500,bt.colon=333,bt.semicolon=333,bt.less=570,bt.equal=570,bt.greater=570,bt.question=500,bt.at=930,bt.A=722,bt.B=667,bt.C=722,bt.D=722,bt.E=667,bt.F=611,bt.G=778,bt.H=778,bt.I=389,bt.J=500,bt.K=778,bt.L=667,bt.M=944,bt.N=722,bt.O=778,bt.P=611,bt.Q=778,bt.R=722,bt.S=556,bt.T=667,bt.U=722,bt.V=722,bt.W=1e3,bt.X=722,bt.Y=722,bt.Z=667,bt.bracketleft=333,bt.backslash=278,bt.bracketright=333,bt.asciicircum=581,bt.underscore=500,bt.quoteleft=333,bt.a=500,bt.b=556,bt.c=444,bt.d=556,bt.e=444,bt.f=333,bt.g=500,bt.h=556,bt.i=278,bt.j=333,bt.k=556,bt.l=278,bt.m=833,bt.n=556,bt.o=500,bt.p=556,bt.q=556,bt.r=444,bt.s=389,bt.t=333,bt.u=556,bt.v=500,bt.w=722,bt.x=500,bt.y=500,bt.z=444,bt.braceleft=394,bt.bar=220,bt.braceright=394,bt.asciitilde=520,bt.exclamdown=333,bt.cent=500,bt.sterling=500,bt.fraction=167,bt.yen=500,bt.florin=500,bt.section=500,bt.currency=500,bt.quotesingle=278,bt.quotedblleft=500,bt.guillemotleft=500,bt.guilsinglleft=333,bt.guilsinglright=333,bt.fi=556,bt.fl=556,bt.endash=500,bt.dagger=500,bt.daggerdbl=500,bt.periodcentered=250,bt.paragraph=540,bt.bullet=350,bt.quotesinglbase=333,bt.quotedblbase=500,bt.quotedblright=500,bt.guillemotright=500,bt.ellipsis=1e3,bt.perthousand=1e3,bt.questiondown=500,bt.grave=333,bt.acute=333,bt.circumflex=333,bt.tilde=333,bt.macron=333,bt.breve=333,bt.dotaccent=333,bt.dieresis=333,bt.ring=333,bt.cedilla=333,bt.hungarumlaut=333,bt.ogonek=333,bt.caron=333,bt.emdash=1e3,bt.AE=1e3,bt.ordfeminine=300,bt.Lslash=667,bt.Oslash=778,bt.OE=1e3,bt.ordmasculine=330,bt.ae=722,bt.dotlessi=278,bt.lslash=278,bt.oslash=500,bt.oe=722,bt.germandbls=556,bt.Idieresis=389,bt.eacute=444,bt.abreve=500,bt.uhungarumlaut=556,bt.ecaron=444,bt.Ydieresis=722,bt.divide=570,bt.Yacute=722,bt.Acircumflex=722,bt.aacute=500,bt.Ucircumflex=722,bt.yacute=500,bt.scommaaccent=389,bt.ecircumflex=444,bt.Uring=722,bt.Udieresis=722,bt.aogonek=500,bt.Uacute=722,bt.uogonek=556,bt.Edieresis=667,bt.Dcroat=722,bt.commaaccent=250,bt.copyright=747,bt.Emacron=667,bt.ccaron=444,bt.aring=500,bt.Ncommaaccent=722,bt.lacute=278,bt.agrave=500,bt.Tcommaaccent=667,bt.Cacute=722,bt.atilde=500,bt.Edotaccent=667,bt.scaron=389,bt.scedilla=389,bt.iacute=278,bt.lozenge=494,bt.Rcaron=722,bt.Gcommaaccent=778,bt.ucircumflex=556,bt.acircumflex=500,bt.Amacron=722,bt.rcaron=444,bt.ccedilla=444,bt.Zdotaccent=667,bt.Thorn=611,bt.Omacron=778,bt.Racute=722,bt.Sacute=556,bt.dcaron=672,bt.Umacron=722,bt.uring=556,bt.threesuperior=300,bt.Ograve=778,bt.Agrave=722,bt.Abreve=722,bt.multiply=570,bt.uacute=556,bt.Tcaron=667,bt.partialdiff=494,bt.ydieresis=500,bt.Nacute=722,bt.icircumflex=278,bt.Ecircumflex=667,bt.adieresis=500,bt.edieresis=444,bt.cacute=444,bt.nacute=556,bt.umacron=556,bt.Ncaron=722,bt.Iacute=389,bt.plusminus=570,bt.brokenbar=220,bt.registered=747,bt.Gbreve=778,bt.Idotaccent=389,bt.summation=600,bt.Egrave=667,bt.racute=444,bt.omacron=500,bt.Zacute=667,bt.Zcaron=667,bt.greaterequal=549,bt.Eth=722,bt.Ccedilla=722,bt.lcommaaccent=278,bt.tcaron=416,bt.eogonek=444,bt.Uogonek=722,bt.Aacute=722,bt.Adieresis=722,bt.egrave=444,bt.zacute=444,bt.iogonek=278,bt.Oacute=778,bt.oacute=500,bt.amacron=500,bt.sacute=389,bt.idieresis=278,bt.Ocircumflex=778,bt.Ugrave=722,bt.Delta=612,bt.thorn=556,bt.twosuperior=300,bt.Odieresis=778,bt.mu=556,bt.igrave=278,bt.ohungarumlaut=500,bt.Eogonek=667,bt.dcroat=556,bt.threequarters=750,bt.Scedilla=556,bt.lcaron=394,bt.Kcommaaccent=778,bt.Lacute=667,bt.trademark=1e3,bt.edotaccent=444,bt.Igrave=389,bt.Imacron=389,bt.Lcaron=667,bt.onehalf=750,bt.lessequal=549,bt.ocircumflex=500,bt.ntilde=556,bt.Uhungarumlaut=722,bt.Eacute=667,bt.emacron=444,bt.gbreve=500,bt.onequarter=750,bt.Scaron=556,bt.Scommaaccent=556,bt.Ohungarumlaut=778,bt.degree=400,bt.ograve=500,bt.Ccaron=722,bt.ugrave=556,bt.radical=549,bt.Dcaron=722,bt.rcommaaccent=444,bt.Ntilde=722,bt.otilde=500,bt.Rcommaaccent=722,bt.Lcommaaccent=667,bt.Atilde=722,bt.Aogonek=722,bt.Aring=722,bt.Otilde=778,bt.zdotaccent=444,bt.Ecaron=667,bt.Iogonek=389,bt.kcommaaccent=556,bt.minus=570,bt.Icircumflex=389,bt.ncaron=556,bt.tcommaaccent=333,bt.logicalnot=570,bt.odieresis=500,bt.udieresis=556,bt.notequal=549,bt.gcommaaccent=500,bt.eth=500,bt.zcaron=444,bt.ncommaaccent=556,bt.onesuperior=300,bt.imacron=278,bt.Euro=500}),_e["Times-BoldItalic"]=(0,wt.getLookupTableFactory)(function(bt){bt.space=250,bt.exclam=389,bt.quotedbl=555,bt.numbersign=500,bt.dollar=500,bt.percent=833,bt.ampersand=778,bt.quoteright=333,bt.parenleft=333,bt.parenright=333,bt.asterisk=500,bt.plus=570,bt.comma=250,bt.hyphen=333,bt.period=250,bt.slash=278,bt.zero=500,bt.one=500,bt.two=500,bt.three=500,bt.four=500,bt.five=500,bt.six=500,bt.seven=500,bt.eight=500,bt.nine=500,bt.colon=333,bt.semicolon=333,bt.less=570,bt.equal=570,bt.greater=570,bt.question=500,bt.at=832,bt.A=667,bt.B=667,bt.C=667,bt.D=722,bt.E=667,bt.F=667,bt.G=722,bt.H=778,bt.I=389,bt.J=500,bt.K=667,bt.L=611,bt.M=889,bt.N=722,bt.O=722,bt.P=611,bt.Q=722,bt.R=667,bt.S=556,bt.T=611,bt.U=722,bt.V=667,bt.W=889,bt.X=667,bt.Y=611,bt.Z=611,bt.bracketleft=333,bt.backslash=278,bt.bracketright=333,bt.asciicircum=570,bt.underscore=500,bt.quoteleft=333,bt.a=500,bt.b=500,bt.c=444,bt.d=500,bt.e=444,bt.f=333,bt.g=500,bt.h=556,bt.i=278,bt.j=278,bt.k=500,bt.l=278,bt.m=778,bt.n=556,bt.o=500,bt.p=500,bt.q=500,bt.r=389,bt.s=389,bt.t=278,bt.u=556,bt.v=444,bt.w=667,bt.x=500,bt.y=444,bt.z=389,bt.braceleft=348,bt.bar=220,bt.braceright=348,bt.asciitilde=570,bt.exclamdown=389,bt.cent=500,bt.sterling=500,bt.fraction=167,bt.yen=500,bt.florin=500,bt.section=500,bt.currency=500,bt.quotesingle=278,bt.quotedblleft=500,bt.guillemotleft=500,bt.guilsinglleft=333,bt.guilsinglright=333,bt.fi=556,bt.fl=556,bt.endash=500,bt.dagger=500,bt.daggerdbl=500,bt.periodcentered=250,bt.paragraph=500,bt.bullet=350,bt.quotesinglbase=333,bt.quotedblbase=500,bt.quotedblright=500,bt.guillemotright=500,bt.ellipsis=1e3,bt.perthousand=1e3,bt.questiondown=500,bt.grave=333,bt.acute=333,bt.circumflex=333,bt.tilde=333,bt.macron=333,bt.breve=333,bt.dotaccent=333,bt.dieresis=333,bt.ring=333,bt.cedilla=333,bt.hungarumlaut=333,bt.ogonek=333,bt.caron=333,bt.emdash=1e3,bt.AE=944,bt.ordfeminine=266,bt.Lslash=611,bt.Oslash=722,bt.OE=944,bt.ordmasculine=300,bt.ae=722,bt.dotlessi=278,bt.lslash=278,bt.oslash=500,bt.oe=722,bt.germandbls=500,bt.Idieresis=389,bt.eacute=444,bt.abreve=500,bt.uhungarumlaut=556,bt.ecaron=444,bt.Ydieresis=611,bt.divide=570,bt.Yacute=611,bt.Acircumflex=667,bt.aacute=500,bt.Ucircumflex=722,bt.yacute=444,bt.scommaaccent=389,bt.ecircumflex=444,bt.Uring=722,bt.Udieresis=722,bt.aogonek=500,bt.Uacute=722,bt.uogonek=556,bt.Edieresis=667,bt.Dcroat=722,bt.commaaccent=250,bt.copyright=747,bt.Emacron=667,bt.ccaron=444,bt.aring=500,bt.Ncommaaccent=722,bt.lacute=278,bt.agrave=500,bt.Tcommaaccent=611,bt.Cacute=667,bt.atilde=500,bt.Edotaccent=667,bt.scaron=389,bt.scedilla=389,bt.iacute=278,bt.lozenge=494,bt.Rcaron=667,bt.Gcommaaccent=722,bt.ucircumflex=556,bt.acircumflex=500,bt.Amacron=667,bt.rcaron=389,bt.ccedilla=444,bt.Zdotaccent=611,bt.Thorn=611,bt.Omacron=722,bt.Racute=667,bt.Sacute=556,bt.dcaron=608,bt.Umacron=722,bt.uring=556,bt.threesuperior=300,bt.Ograve=722,bt.Agrave=667,bt.Abreve=667,bt.multiply=570,bt.uacute=556,bt.Tcaron=611,bt.partialdiff=494,bt.ydieresis=444,bt.Nacute=722,bt.icircumflex=278,bt.Ecircumflex=667,bt.adieresis=500,bt.edieresis=444,bt.cacute=444,bt.nacute=556,bt.umacron=556,bt.Ncaron=722,bt.Iacute=389,bt.plusminus=570,bt.brokenbar=220,bt.registered=747,bt.Gbreve=722,bt.Idotaccent=389,bt.summation=600,bt.Egrave=667,bt.racute=389,bt.omacron=500,bt.Zacute=611,bt.Zcaron=611,bt.greaterequal=549,bt.Eth=722,bt.Ccedilla=667,bt.lcommaaccent=278,bt.tcaron=366,bt.eogonek=444,bt.Uogonek=722,bt.Aacute=667,bt.Adieresis=667,bt.egrave=444,bt.zacute=389,bt.iogonek=278,bt.Oacute=722,bt.oacute=500,bt.amacron=500,bt.sacute=389,bt.idieresis=278,bt.Ocircumflex=722,bt.Ugrave=722,bt.Delta=612,bt.thorn=500,bt.twosuperior=300,bt.Odieresis=722,bt.mu=576,bt.igrave=278,bt.ohungarumlaut=500,bt.Eogonek=667,bt.dcroat=500,bt.threequarters=750,bt.Scedilla=556,bt.lcaron=382,bt.Kcommaaccent=667,bt.Lacute=611,bt.trademark=1e3,bt.edotaccent=444,bt.Igrave=389,bt.Imacron=389,bt.Lcaron=611,bt.onehalf=750,bt.lessequal=549,bt.ocircumflex=500,bt.ntilde=556,bt.Uhungarumlaut=722,bt.Eacute=667,bt.emacron=444,bt.gbreve=500,bt.onequarter=750,bt.Scaron=556,bt.Scommaaccent=556,bt.Ohungarumlaut=722,bt.degree=400,bt.ograve=500,bt.Ccaron=667,bt.ugrave=556,bt.radical=549,bt.Dcaron=722,bt.rcommaaccent=389,bt.Ntilde=722,bt.otilde=500,bt.Rcommaaccent=667,bt.Lcommaaccent=611,bt.Atilde=667,bt.Aogonek=667,bt.Aring=667,bt.Otilde=722,bt.zdotaccent=389,bt.Ecaron=667,bt.Iogonek=389,bt.kcommaaccent=500,bt.minus=606,bt.Icircumflex=389,bt.ncaron=556,bt.tcommaaccent=278,bt.logicalnot=606,bt.odieresis=500,bt.udieresis=556,bt.notequal=549,bt.gcommaaccent=500,bt.eth=500,bt.zcaron=389,bt.ncommaaccent=556,bt.onesuperior=300,bt.imacron=278,bt.Euro=500}),_e["Times-Italic"]=(0,wt.getLookupTableFactory)(function(bt){bt.space=250,bt.exclam=333,bt.quotedbl=420,bt.numbersign=500,bt.dollar=500,bt.percent=833,bt.ampersand=778,bt.quoteright=333,bt.parenleft=333,bt.parenright=333,bt.asterisk=500,bt.plus=675,bt.comma=250,bt.hyphen=333,bt.period=250,bt.slash=278,bt.zero=500,bt.one=500,bt.two=500,bt.three=500,bt.four=500,bt.five=500,bt.six=500,bt.seven=500,bt.eight=500,bt.nine=500,bt.colon=333,bt.semicolon=333,bt.less=675,bt.equal=675,bt.greater=675,bt.question=500,bt.at=920,bt.A=611,bt.B=611,bt.C=667,bt.D=722,bt.E=611,bt.F=611,bt.G=722,bt.H=722,bt.I=333,bt.J=444,bt.K=667,bt.L=556,bt.M=833,bt.N=667,bt.O=722,bt.P=611,bt.Q=722,bt.R=611,bt.S=500,bt.T=556,bt.U=722,bt.V=611,bt.W=833,bt.X=611,bt.Y=556,bt.Z=556,bt.bracketleft=389,bt.backslash=278,bt.bracketright=389,bt.asciicircum=422,bt.underscore=500,bt.quoteleft=333,bt.a=500,bt.b=500,bt.c=444,bt.d=500,bt.e=444,bt.f=278,bt.g=500,bt.h=500,bt.i=278,bt.j=278,bt.k=444,bt.l=278,bt.m=722,bt.n=500,bt.o=500,bt.p=500,bt.q=500,bt.r=389,bt.s=389,bt.t=278,bt.u=500,bt.v=444,bt.w=667,bt.x=444,bt.y=444,bt.z=389,bt.braceleft=400,bt.bar=275,bt.braceright=400,bt.asciitilde=541,bt.exclamdown=389,bt.cent=500,bt.sterling=500,bt.fraction=167,bt.yen=500,bt.florin=500,bt.section=500,bt.currency=500,bt.quotesingle=214,bt.quotedblleft=556,bt.guillemotleft=500,bt.guilsinglleft=333,bt.guilsinglright=333,bt.fi=500,bt.fl=500,bt.endash=500,bt.dagger=500,bt.daggerdbl=500,bt.periodcentered=250,bt.paragraph=523,bt.bullet=350,bt.quotesinglbase=333,bt.quotedblbase=556,bt.quotedblright=556,bt.guillemotright=500,bt.ellipsis=889,bt.perthousand=1e3,bt.questiondown=500,bt.grave=333,bt.acute=333,bt.circumflex=333,bt.tilde=333,bt.macron=333,bt.breve=333,bt.dotaccent=333,bt.dieresis=333,bt.ring=333,bt.cedilla=333,bt.hungarumlaut=333,bt.ogonek=333,bt.caron=333,bt.emdash=889,bt.AE=889,bt.ordfeminine=276,bt.Lslash=556,bt.Oslash=722,bt.OE=944,bt.ordmasculine=310,bt.ae=667,bt.dotlessi=278,bt.lslash=278,bt.oslash=500,bt.oe=667,bt.germandbls=500,bt.Idieresis=333,bt.eacute=444,bt.abreve=500,bt.uhungarumlaut=500,bt.ecaron=444,bt.Ydieresis=556,bt.divide=675,bt.Yacute=556,bt.Acircumflex=611,bt.aacute=500,bt.Ucircumflex=722,bt.yacute=444,bt.scommaaccent=389,bt.ecircumflex=444,bt.Uring=722,bt.Udieresis=722,bt.aogonek=500,bt.Uacute=722,bt.uogonek=500,bt.Edieresis=611,bt.Dcroat=722,bt.commaaccent=250,bt.copyright=760,bt.Emacron=611,bt.ccaron=444,bt.aring=500,bt.Ncommaaccent=667,bt.lacute=278,bt.agrave=500,bt.Tcommaaccent=556,bt.Cacute=667,bt.atilde=500,bt.Edotaccent=611,bt.scaron=389,bt.scedilla=389,bt.iacute=278,bt.lozenge=471,bt.Rcaron=611,bt.Gcommaaccent=722,bt.ucircumflex=500,bt.acircumflex=500,bt.Amacron=611,bt.rcaron=389,bt.ccedilla=444,bt.Zdotaccent=556,bt.Thorn=611,bt.Omacron=722,bt.Racute=611,bt.Sacute=500,bt.dcaron=544,bt.Umacron=722,bt.uring=500,bt.threesuperior=300,bt.Ograve=722,bt.Agrave=611,bt.Abreve=611,bt.multiply=675,bt.uacute=500,bt.Tcaron=556,bt.partialdiff=476,bt.ydieresis=444,bt.Nacute=667,bt.icircumflex=278,bt.Ecircumflex=611,bt.adieresis=500,bt.edieresis=444,bt.cacute=444,bt.nacute=500,bt.umacron=500,bt.Ncaron=667,bt.Iacute=333,bt.plusminus=675,bt.brokenbar=275,bt.registered=760,bt.Gbreve=722,bt.Idotaccent=333,bt.summation=600,bt.Egrave=611,bt.racute=389,bt.omacron=500,bt.Zacute=556,bt.Zcaron=556,bt.greaterequal=549,bt.Eth=722,bt.Ccedilla=667,bt.lcommaaccent=278,bt.tcaron=300,bt.eogonek=444,bt.Uogonek=722,bt.Aacute=611,bt.Adieresis=611,bt.egrave=444,bt.zacute=389,bt.iogonek=278,bt.Oacute=722,bt.oacute=500,bt.amacron=500,bt.sacute=389,bt.idieresis=278,bt.Ocircumflex=722,bt.Ugrave=722,bt.Delta=612,bt.thorn=500,bt.twosuperior=300,bt.Odieresis=722,bt.mu=500,bt.igrave=278,bt.ohungarumlaut=500,bt.Eogonek=611,bt.dcroat=500,bt.threequarters=750,bt.Scedilla=500,bt.lcaron=300,bt.Kcommaaccent=667,bt.Lacute=556,bt.trademark=980,bt.edotaccent=444,bt.Igrave=333,bt.Imacron=333,bt.Lcaron=611,bt.onehalf=750,bt.lessequal=549,bt.ocircumflex=500,bt.ntilde=500,bt.Uhungarumlaut=722,bt.Eacute=611,bt.emacron=444,bt.gbreve=500,bt.onequarter=750,bt.Scaron=500,bt.Scommaaccent=500,bt.Ohungarumlaut=722,bt.degree=400,bt.ograve=500,bt.Ccaron=667,bt.ugrave=500,bt.radical=453,bt.Dcaron=722,bt.rcommaaccent=389,bt.Ntilde=667,bt.otilde=500,bt.Rcommaaccent=611,bt.Lcommaaccent=556,bt.Atilde=611,bt.Aogonek=611,bt.Aring=611,bt.Otilde=722,bt.zdotaccent=389,bt.Ecaron=611,bt.Iogonek=333,bt.kcommaaccent=444,bt.minus=675,bt.Icircumflex=333,bt.ncaron=500,bt.tcommaaccent=278,bt.logicalnot=675,bt.odieresis=500,bt.udieresis=500,bt.notequal=549,bt.gcommaaccent=500,bt.eth=500,bt.zcaron=389,bt.ncommaaccent=500,bt.onesuperior=300,bt.imacron=278,bt.Euro=500}),_e.ZapfDingbats=(0,wt.getLookupTableFactory)(function(bt){bt.space=278,bt.a1=974,bt.a2=961,bt.a202=974,bt.a3=980,bt.a4=719,bt.a5=789,bt.a119=790,bt.a118=791,bt.a117=690,bt.a11=960,bt.a12=939,bt.a13=549,bt.a14=855,bt.a15=911,bt.a16=933,bt.a105=911,bt.a17=945,bt.a18=974,bt.a19=755,bt.a20=846,bt.a21=762,bt.a22=761,bt.a23=571,bt.a24=677,bt.a25=763,bt.a26=760,bt.a27=759,bt.a28=754,bt.a6=494,bt.a7=552,bt.a8=537,bt.a9=577,bt.a10=692,bt.a29=786,bt.a30=788,bt.a31=788,bt.a32=790,bt.a33=793,bt.a34=794,bt.a35=816,bt.a36=823,bt.a37=789,bt.a38=841,bt.a39=823,bt.a40=833,bt.a41=816,bt.a42=831,bt.a43=923,bt.a44=744,bt.a45=723,bt.a46=749,bt.a47=790,bt.a48=792,bt.a49=695,bt.a50=776,bt.a51=768,bt.a52=792,bt.a53=759,bt.a54=707,bt.a55=708,bt.a56=682,bt.a57=701,bt.a58=826,bt.a59=815,bt.a60=789,bt.a61=789,bt.a62=707,bt.a63=687,bt.a64=696,bt.a65=689,bt.a66=786,bt.a67=787,bt.a68=713,bt.a69=791,bt.a70=785,bt.a71=791,bt.a72=873,bt.a73=761,bt.a74=762,bt.a203=762,bt.a75=759,bt.a204=759,bt.a76=892,bt.a77=892,bt.a78=788,bt.a79=784,bt.a81=438,bt.a82=138,bt.a83=277,bt.a84=415,bt.a97=392,bt.a98=392,bt.a99=668,bt.a100=668,bt.a89=390,bt.a90=390,bt.a93=317,bt.a94=317,bt.a91=276,bt.a92=276,bt.a205=509,bt.a85=509,bt.a206=410,bt.a86=410,bt.a87=234,bt.a88=234,bt.a95=334,bt.a96=334,bt.a101=732,bt.a102=544,bt.a103=544,bt.a104=910,bt.a106=667,bt.a107=760,bt.a108=760,bt.a112=776,bt.a111=595,bt.a110=694,bt.a109=626,bt.a120=788,bt.a121=788,bt.a122=788,bt.a123=788,bt.a124=788,bt.a125=788,bt.a126=788,bt.a127=788,bt.a128=788,bt.a129=788,bt.a130=788,bt.a131=788,bt.a132=788,bt.a133=788,bt.a134=788,bt.a135=788,bt.a136=788,bt.a137=788,bt.a138=788,bt.a139=788,bt.a140=788,bt.a141=788,bt.a142=788,bt.a143=788,bt.a144=788,bt.a145=788,bt.a146=788,bt.a147=788,bt.a148=788,bt.a149=788,bt.a150=788,bt.a151=788,bt.a152=788,bt.a153=788,bt.a154=788,bt.a155=788,bt.a156=788,bt.a157=788,bt.a158=788,bt.a159=788,bt.a160=894,bt.a161=838,bt.a163=1016,bt.a164=458,bt.a196=748,bt.a165=924,bt.a192=748,bt.a166=918,bt.a167=927,bt.a168=928,bt.a169=928,bt.a170=834,bt.a171=873,bt.a172=828,bt.a173=924,bt.a162=924,bt.a174=917,bt.a175=930,bt.a176=931,bt.a177=463,bt.a178=883,bt.a179=836,bt.a193=836,bt.a180=867,bt.a199=867,bt.a181=696,bt.a200=696,bt.a182=874,bt.a201=874,bt.a183=760,bt.a184=946,bt.a197=771,bt.a185=865,bt.a194=771,bt.a198=888,bt.a186=967,bt.a195=888,bt.a187=831,bt.a188=873,bt.a189=927,bt.a190=970,bt.a191=918})});Et.getMetrics=_t;const Pt=(0,wt.getLookupTableFactory)(function(_e){_e.Courier={ascent:629,descent:-157,capHeight:562,xHeight:-426},_e["Courier-Bold"]={ascent:629,descent:-157,capHeight:562,xHeight:439},_e["Courier-Oblique"]={ascent:629,descent:-157,capHeight:562,xHeight:426},_e["Courier-BoldOblique"]={ascent:629,descent:-157,capHeight:562,xHeight:426},_e.Helvetica={ascent:718,descent:-207,capHeight:718,xHeight:523},_e["Helvetica-Bold"]={ascent:718,descent:-207,capHeight:718,xHeight:532},_e["Helvetica-Oblique"]={ascent:718,descent:-207,capHeight:718,xHeight:523},_e["Helvetica-BoldOblique"]={ascent:718,descent:-207,capHeight:718,xHeight:532},_e["Times-Roman"]={ascent:683,descent:-217,capHeight:662,xHeight:450},_e["Times-Bold"]={ascent:683,descent:-217,capHeight:676,xHeight:461},_e["Times-Italic"]={ascent:683,descent:-217,capHeight:653,xHeight:441},_e["Times-BoldItalic"]={ascent:683,descent:-217,capHeight:669,xHeight:462},_e.Symbol={ascent:Math.NaN,descent:Math.NaN,capHeight:Math.NaN,xHeight:Math.NaN},_e.ZapfDingbats={ascent:Math.NaN,descent:Math.NaN,capHeight:Math.NaN,xHeight:Math.NaN}});Et.getFontBasicMetrics=Pt},(kt,Et)=>{Object.defineProperty(Et,"__esModule",{value:!0}),Et.GlyfTable=void 0;const Rt=1,wt=2,_t=4,Pt=8,_e=16,bt=32,Ft=64,Xt=1,Kt=2,Nt=8,$t=32,Dt=64,jt=128,Ct=256;class qt{constructor({glyfTable:nn,isGlyphLocationsLong:bn,locaTable:Vt,numGlyphs:Yt}){this.glyphs=[];const hn=new DataView(Vt.buffer,Vt.byteOffset,Vt.byteLength),Ut=new DataView(nn.buffer,nn.byteOffset,nn.byteLength),Ot=bn?4:2;let zt=bn?hn.getUint32(0):2*hn.getUint16(0),an=0;for(let Ht=0;Ht<Yt;Ht++){an+=Ot;const Wt=bn?hn.getUint32(an):2*hn.getUint16(an);if(Wt===zt){this.glyphs.push(new Bt({}));continue}const tn=Bt.parse(zt,Ut);this.glyphs.push(tn),zt=Wt}}getSize(){return this.glyphs.reduce((nn,bn)=>{const Vt=bn.getSize();return nn+(Vt+3&-4)},0)}write(){const nn=this.getSize(),bn=new DataView(new ArrayBuffer(nn)),Vt=nn>131070,Yt=Vt?4:2,hn=new DataView(new ArrayBuffer((this.glyphs.length+1)*Yt));Vt?hn.setUint32(0,0):hn.setUint16(0,0);let Ut=0,Ot=0;for(const zt of this.glyphs)Ut+=zt.write(Ut,bn),Ut=Ut+3&-4,Ot+=Yt,Vt?hn.setUint32(Ot,Ut):hn.setUint16(Ot,Ut>>1);return{isLocationLong:Vt,loca:new Uint8Array(hn.buffer),glyf:new Uint8Array(bn.buffer)}}scale(nn){for(let bn=0,Vt=this.glyphs.length;bn<Vt;bn++)this.glyphs[bn].scale(nn[bn])}}Et.GlyfTable=qt;class Bt{constructor({header:nn=null,simple:bn=null,composites:Vt=null}){this.header=nn,this.simple=bn,this.composites=Vt}static parse(nn,bn){const[Vt,Yt]=Gt.parse(nn,bn);if(nn+=Vt,Yt.numberOfContours<0){const Ut=[];for(;;){const[Ot,zt]=Qt.parse(nn,bn);if(nn+=Ot,Ut.push(zt),!(zt.flags&$t))break}return new Bt({header:Yt,composites:Ut})}const hn=dn.parse(nn,bn,Yt.numberOfContours);return new Bt({header:Yt,simple:hn})}getSize(){if(!this.header)return 0;const nn=this.simple?this.simple.getSize():this.composites.reduce((bn,Vt)=>bn+Vt.getSize(),0);return this.header.getSize()+nn}write(nn,bn){if(!this.header)return 0;const Vt=nn;if(nn+=this.header.write(nn,bn),this.simple)nn+=this.simple.write(nn,bn);else for(const Yt of this.composites)nn+=Yt.write(nn,bn);return nn-Vt}scale(nn){if(!this.header)return;const bn=(this.header.xMin+this.header.xMax)/2;if(this.header.scale(bn,nn),this.simple)this.simple.scale(bn,nn);else for(const Vt of this.composites)Vt.scale(bn,nn)}}class Gt{constructor({numberOfContours:nn,xMin:bn,yMin:Vt,xMax:Yt,yMax:hn}){this.numberOfContours=nn,this.xMin=bn,this.yMin=Vt,this.xMax=Yt,this.yMax=hn}static parse(nn,bn){return[10,new Gt({numberOfContours:bn.getInt16(nn),xMin:bn.getInt16(nn+2),yMin:bn.getInt16(nn+4),xMax:bn.getInt16(nn+6),yMax:bn.getInt16(nn+8)})]}getSize(){return 10}write(nn,bn){return bn.setInt16(nn,this.numberOfContours),bn.setInt16(nn+2,this.xMin),bn.setInt16(nn+4,this.yMin),bn.setInt16(nn+6,this.xMax),bn.setInt16(nn+8,this.yMax),10}scale(nn,bn){this.xMin=Math.round(nn+(this.xMin-nn)*bn),this.xMax=Math.round(nn+(this.xMax-nn)*bn)}}class en{constructor({flags:nn,xCoordinates:bn,yCoordinates:Vt}){this.xCoordinates=bn,this.yCoordinates=Vt,this.flags=nn}}class dn{constructor({contours:nn,instructions:bn}){this.contours=nn,this.instructions=bn}static parse(nn,bn,Vt){const Yt=[];for(let sn=0;sn<Vt;sn++){const rn=bn.getUint16(nn);nn+=2,Yt.push(rn)}const hn=Yt[Vt-1]+1,Ut=bn.getUint16(nn);nn+=2;const Ot=new Uint8Array(bn).slice(nn,nn+Ut);nn+=Ut;const zt=[];for(let sn=0;sn<hn;nn++,sn++){let rn=bn.getUint8(nn);if(zt.push(rn),rn&Pt){const xn=bn.getUint8(++nn);rn^=Pt;for(let vn=0;vn<xn;vn++)zt.push(rn);sn+=xn}}const an=[];let Ht=[],Wt=[],tn=[];const ln=[];let on=0,cn=0;for(let sn=0;sn<hn;sn++){const rn=zt[sn];if(rn&wt){const xn=bn.getUint8(nn++);cn+=rn&_e?xn:-xn,Ht.push(cn)}else rn&_e||(cn+=bn.getInt16(nn),nn+=2),Ht.push(cn);Yt[on]===sn&&(on++,an.push(Ht),Ht=[])}cn=0,on=0;for(let sn=0;sn<hn;sn++){const rn=zt[sn];if(rn&_t){const xn=bn.getUint8(nn++);cn+=rn&bt?xn:-xn,Wt.push(cn)}else rn&bt||(cn+=bn.getInt16(nn),nn+=2),Wt.push(cn);tn.push(rn&Rt|rn&Ft),Yt[on]===sn&&(Ht=an[on],on++,ln.push(new en({flags:tn,xCoordinates:Ht,yCoordinates:Wt})),Wt=[],tn=[])}return new dn({contours:ln,instructions:Ot})}getSize(){let nn=this.contours.length*2+2+this.instructions.length,bn=0,Vt=0;for(const Yt of this.contours){nn+=Yt.flags.length;for(let hn=0,Ut=Yt.xCoordinates.length;hn<Ut;hn++){const Ot=Yt.xCoordinates[hn],zt=Yt.yCoordinates[hn];let an=Math.abs(Ot-bn);an>255?nn+=2:an>0&&(nn+=1),bn=Ot,an=Math.abs(zt-Vt),an>255?nn+=2:an>0&&(nn+=1),Vt=zt}}return nn}write(nn,bn){const Vt=nn,Yt=[],hn=[],Ut=[];let Ot=0,zt=0;for(const an of this.contours){for(let Ht=0,Wt=an.xCoordinates.length;Ht<Wt;Ht++){let tn=an.flags[Ht];const ln=an.xCoordinates[Ht];let on=ln-Ot;if(on===0)tn|=_e,Yt.push(0);else{const sn=Math.abs(on);sn<=255?(tn|=on>=0?wt|_e:wt,Yt.push(sn)):Yt.push(on)}Ot=ln;const cn=an.yCoordinates[Ht];if(on=cn-zt,on===0)tn|=bt,hn.push(0);else{const sn=Math.abs(on);sn<=255?(tn|=on>=0?_t|bt:_t,hn.push(sn)):hn.push(on)}zt=cn,Ut.push(tn)}bn.setUint16(nn,Yt.length-1),nn+=2}bn.setUint16(nn,this.instructions.length),nn+=2,this.instructions.length&&(new Uint8Array(bn.buffer,0,bn.buffer.byteLength).set(this.instructions,nn),nn+=this.instructions.length);for(const an of Ut)bn.setUint8(nn++,an);for(let an=0,Ht=Yt.length;an<Ht;an++){const Wt=Yt[an],tn=Ut[an];tn&wt?bn.setUint8(nn++,Wt):tn&_e||(bn.setInt16(nn,Wt),nn+=2)}for(let an=0,Ht=hn.length;an<Ht;an++){const Wt=hn[an],tn=Ut[an];tn&_t?bn.setUint8(nn++,Wt):tn&bt||(bn.setInt16(nn,Wt),nn+=2)}return nn-Vt}scale(nn,bn){for(const Vt of this.contours)if(Vt.xCoordinates.length!==0)for(let Yt=0,hn=Vt.xCoordinates.length;Yt<hn;Yt++)Vt.xCoordinates[Yt]=Math.round(nn+(Vt.xCoordinates[Yt]-nn)*bn)}}class Qt{constructor({flags:nn,glyphIndex:bn,argument1:Vt,argument2:Yt,transf:hn,instructions:Ut}){this.flags=nn,this.glyphIndex=bn,this.argument1=Vt,this.argument2=Yt,this.transf=hn,this.instructions=Ut}static parse(nn,bn){const Vt=nn,Yt=[];let hn=bn.getUint16(nn);const Ut=bn.getUint16(nn+2);nn+=4;let Ot,zt;hn&Xt?(hn&Kt?(Ot=bn.getInt16(nn),zt=bn.getInt16(nn+2)):(Ot=bn.getUint16(nn),zt=bn.getUint16(nn+2)),nn+=4,hn^=Xt):(hn&Kt?(Ot=bn.getInt8(nn),zt=bn.getInt8(nn+1)):(Ot=bn.getUint8(nn),zt=bn.getUint8(nn+1)),nn+=2),hn&Nt?(Yt.push(bn.getUint16(nn)),nn+=2):hn&Dt?(Yt.push(bn.getUint16(nn),bn.getUint16(nn+2)),nn+=4):hn&jt&&(Yt.push(bn.getUint16(nn),bn.getUint16(nn+2),bn.getUint16(nn+4),bn.getUint16(nn+6)),nn+=8);let an=null;if(hn&Ct){const Ht=bn.getUint16(nn);nn+=2,an=new Uint8Array(bn).slice(nn,nn+Ht),nn+=Ht}return[nn-Vt,new Qt({flags:hn,glyphIndex:Ut,argument1:Ot,argument2:zt,transf:Yt,instructions:an})]}getSize(){let nn=4+this.transf.length*2;return this.flags&Ct&&(nn+=2+this.instructions.length),nn+=2,this.flags&2?this.argument1>=-128&&this.argument1<=127&&this.argument2>=-128&&this.argument2<=127||(nn+=2):this.argument1>=0&&this.argument1<=255&&this.argument2>=0&&this.argument2<=255||(nn+=2),nn}write(nn,bn){const Vt=nn;return this.flags&Kt?this.argument1>=-128&&this.argument1<=127&&this.argument2>=-128&&this.argument2<=127||(this.flags|=Xt):this.argument1>=0&&this.argument1<=255&&this.argument2>=0&&this.argument2<=255||(this.flags|=Xt),bn.setUint16(nn,this.flags),bn.setUint16(nn+2,this.glyphIndex),nn+=4,this.flags&Xt?(this.flags&Kt?(bn.setInt16(nn,this.argument1),bn.setInt16(nn+2,this.argument2)):(bn.setUint16(nn,this.argument1),bn.setUint16(nn+2,this.argument2)),nn+=4):(bn.setUint8(nn,this.argument1),bn.setUint8(nn+1,this.argument2),nn+=2),this.flags&Ct&&(bn.setUint16(nn,this.instructions.length),nn+=2,this.instructions.length&&(new Uint8Array(bn.buffer,0,bn.buffer.byteLength).set(this.instructions,nn),nn+=this.instructions.length)),nn-Vt}scale(nn,bn){}}},(kt,Et,Rt)=>{Object.defineProperty(Et,"__esModule",{value:!0}),Et.OpenTypeFileBuilder=void 0;var wt=Rt(3),_t=Rt(2);function Pt(Nt,$t,Dt){Nt[$t]=Dt>>8&255,Nt[$t+1]=Dt&255}function _e(Nt,$t,Dt){Nt[$t]=Dt>>24&255,Nt[$t+1]=Dt>>16&255,Nt[$t+2]=Dt>>8&255,Nt[$t+3]=Dt&255}function bt(Nt,$t,Dt){if(Dt instanceof Uint8Array)Nt.set(Dt,$t);else if(typeof Dt=="string")for(let jt=0,Ct=Dt.length;jt<Ct;jt++)Nt[$t++]=Dt.charCodeAt(jt)&255;else for(const jt of Dt)Nt[$t++]=jt&255}const Ft=12,Xt=16;class Kt{constructor($t){this.sfnt=$t,this.tables=Object.create(null)}static getSearchParams($t,Dt){let jt=1,Ct=0;for(;(jt^$t)>jt;)jt<<=1,Ct++;const qt=jt*Dt;return{range:qt,entry:Ct,rangeShift:Dt*$t-qt}}toArray(){let $t=this.sfnt;const Dt=this.tables,jt=Object.keys(Dt);jt.sort();const Ct=jt.length;let qt,Bt,Gt,en,dn,Qt=Ft+Ct*Xt;const gn=[Qt];for(qt=0;qt<Ct;qt++){en=Dt[jt[qt]];const Vt=(en.length+3&-4)>>>0;Qt+=Vt,gn.push(Qt)}const nn=new Uint8Array(Qt);for(qt=0;qt<Ct;qt++)en=Dt[jt[qt]],bt(nn,gn[qt],en);$t==="true"&&($t=(0,_t.string32)(65536)),nn[0]=$t.charCodeAt(0)&255,nn[1]=$t.charCodeAt(1)&255,nn[2]=$t.charCodeAt(2)&255,nn[3]=$t.charCodeAt(3)&255,Pt(nn,4,Ct);const bn=Kt.getSearchParams(Ct,16);for(Pt(nn,6,bn.range),Pt(nn,8,bn.entry),Pt(nn,10,bn.rangeShift),Qt=Ft,qt=0;qt<Ct;qt++){dn=jt[qt],nn[Qt]=dn.charCodeAt(0)&255,nn[Qt+1]=dn.charCodeAt(1)&255,nn[Qt+2]=dn.charCodeAt(2)&255,nn[Qt+3]=dn.charCodeAt(3)&255;let Vt=0;for(Bt=gn[qt],Gt=gn[qt+1];Bt<Gt;Bt+=4){const Yt=(0,wt.readUint32)(nn,Bt);Vt=Vt+Yt>>>0}_e(nn,Qt+4,Vt),_e(nn,Qt+8,gn[qt]),_e(nn,Qt+12,Dt[dn].length),Qt+=Xt}return nn}addTable($t,Dt){if($t in this.tables)throw new Error("Table "+$t+" already exists");this.tables[$t]=Dt}}Et.OpenTypeFileBuilder=Kt},(kt,Et,Rt)=>{Object.defineProperty(Et,"__esModule",{value:!0}),Et.Type1Font=void 0;var wt=Rt(35),_t=Rt(2),Pt=Rt(38),_e=Rt(3),bt=Rt(8),Ft=Rt(49);function Xt(Dt,jt,Ct){const qt=Dt.length,Bt=jt.length,Gt=qt-Bt;let en=Ct,dn=!1;for(;en<Gt;){let Qt=0;for(;Qt<Bt&&Dt[en+Qt]===jt[Qt];)Qt++;if(Qt>=Bt){for(en+=Qt;en<qt&&(0,_e.isWhiteSpace)(Dt[en]);)en++;dn=!0;break}en++}return{found:dn,length:en}}function Kt(Dt,jt){const Ct=[101,101,120,101,99],qt=Dt.pos;let Bt,Gt,en;try{Bt=Dt.getBytes(jt),Gt=Bt.length}catch{}if(Gt===jt&&(en=Xt(Bt,Ct,jt-2*Ct.length),en.found&&en.length===jt))return{stream:new bt.Stream(Bt),length:jt};(0,_t.warn)('Invalid "Length1" property in Type1 font -- trying to recover.'),Dt.pos=qt;const dn=2048;let Qt;for(;;){const gn=Dt.peekBytes(dn);if(en=Xt(gn,Ct,0),en.length===0)break;if(Dt.pos+=en.length,en.found){Qt=Dt.pos-qt;break}}return Dt.pos=qt,Qt?{stream:new bt.Stream(Dt.getBytes(Qt)),length:Qt}:((0,_t.warn)('Unable to recover "Length1" property in Type1 font -- using as is.'),{stream:new bt.Stream(Dt.getBytes(jt)),length:jt})}function Nt(Dt,jt){const Ct=Dt.getBytes();if(Ct.length===0)throw new _t.FormatError("getEexecBlock - no font program found.");return{stream:new bt.Stream(Ct),length:Ct.length}}class $t{constructor(jt,Ct,qt){let Gt=qt.length1;qt.length2;let en=Ct.peekBytes(6);const dn=en[0]===128&&en[1]===1;dn&&(Ct.skip(6),Gt=en[5]<<24|en[4]<<16|en[3]<<8|en[2]);const Qt=Kt(Ct,Gt);new Ft.Type1Parser(Qt.stream,!1,Pt.SEAC_ANALYSIS_ENABLED).extractFontHeader(qt),dn&&(en=Ct.getBytes(6),en[5]<<24|en[4]<<16|en[3]<<8|en[2]);const nn=Nt(Ct),Vt=new Ft.Type1Parser(nn.stream,!0,Pt.SEAC_ANALYSIS_ENABLED).extractFontProgram(qt);for(const Ot in Vt.properties)qt[Ot]=Vt.properties[Ot];const Yt=Vt.charstrings,hn=this.getType2Charstrings(Yt),Ut=this.getType2Subrs(Vt.subrs);this.charstrings=Yt,this.data=this.wrap(jt,hn,this.charstrings,Ut,qt),this.seacs=this.getSeacs(Vt.charstrings)}get numGlyphs(){return this.charstrings.length+1}getCharset(){const jt=[".notdef"];for(const{glyphName:Ct}of this.charstrings)jt.push(Ct);return jt}getGlyphMapping(jt){const Ct=this.charstrings;if(jt.composite){const dn=Object.create(null);for(let Qt=0,gn=Ct.length;Qt<gn;Qt++){const nn=jt.cMap.charCodeOf(Qt);dn[nn]=Qt+1}return dn}const qt=[".notdef"];let Bt,Gt;for(Gt=0;Gt<Ct.length;Gt++)qt.push(Ct[Gt].glyphName);const en=jt.builtInEncoding;if(en){Bt=Object.create(null);for(const dn in en)Gt=qt.indexOf(en[dn]),Gt>=0&&(Bt[dn]=Gt)}return(0,Pt.type1FontGlyphMapping)(jt,Bt,qt)}hasGlyphId(jt){return jt<0||jt>=this.numGlyphs?!1:jt===0?!0:this.charstrings[jt-1].charstring.length>0}getSeacs(jt){const Ct=[];for(let qt=0,Bt=jt.length;qt<Bt;qt++){const Gt=jt[qt];Gt.seac&&(Ct[qt+1]=Gt.seac)}return Ct}getType2Charstrings(jt){const Ct=[];for(const qt of jt)Ct.push(qt.charstring);return Ct}getType2Subrs(jt){let Ct=0;const qt=jt.length;qt<1133?Ct=107:qt<33769?Ct=1131:Ct=32768;const Bt=[];let Gt;for(Gt=0;Gt<Ct;Gt++)Bt.push([11]);for(Gt=0;Gt<qt;Gt++)Bt.push(jt[Gt]);return Bt}wrap(jt,Ct,qt,Bt,Gt){const en=new wt.CFF;en.header=new wt.CFFHeader(1,0,4,4),en.names=[jt];const dn=new wt.CFFTopDict;dn.setByName("version",391),dn.setByName("Notice",392),dn.setByName("FullName",393),dn.setByName("FamilyName",394),dn.setByName("Weight",395),dn.setByName("Encoding",null),dn.setByName("FontMatrix",Gt.fontMatrix),dn.setByName("FontBBox",Gt.bbox),dn.setByName("charset",null),dn.setByName("CharStrings",null),dn.setByName("Private",null),en.topDict=dn;const Qt=new wt.CFFStrings;Qt.add("Version 0.11"),Qt.add("See original notice"),Qt.add(jt),Qt.add(jt),Qt.add("Medium"),en.strings=Qt,en.globalSubrIndex=new wt.CFFIndex;const gn=Ct.length,nn=[".notdef"];let bn,Vt;for(bn=0;bn<gn;bn++){const an=qt[bn].glyphName;wt.CFFStandardStrings.indexOf(an)===-1&&Qt.add(an),nn.push(an)}en.charset=new wt.CFFCharset(!1,0,nn);const Yt=new wt.CFFIndex;for(Yt.add([139,14]),bn=0;bn<gn;bn++)Yt.add(Ct[bn]);en.charStrings=Yt;const hn=new wt.CFFPrivateDict;hn.setByName("Subrs",null);const Ut=["BlueValues","OtherBlues","FamilyBlues","FamilyOtherBlues","StemSnapH","StemSnapV","BlueShift","BlueFuzz","BlueScale","LanguageGroup","ExpansionFactor","ForceBold","StdHW","StdVW"];for(bn=0,Vt=Ut.length;bn<Vt;bn++){const an=Ut[bn];if(!(an in Gt.privateData))continue;const Ht=Gt.privateData[an];if(Array.isArray(Ht))for(let Wt=Ht.length-1;Wt>0;Wt--)Ht[Wt]-=Ht[Wt-1];hn.setByName(an,Ht)}en.topDict.privateDict=hn;const Ot=new wt.CFFIndex;for(bn=0,Vt=Bt.length;bn<Vt;bn++)Ot.add(Bt[bn]);return hn.subrsIndex=Ot,new wt.CFFCompiler(en).compile()}}Et.Type1Font=$t},(kt,Et,Rt)=>{Object.defineProperty(Et,"__esModule",{value:!0}),Et.Type1Parser=void 0;var wt=Rt(37),_t=Rt(3),Pt=Rt(8),_e=Rt(2);const bt=!1,Ft={hstem:[1],vstem:[3],vmoveto:[4],rlineto:[5],hlineto:[6],vlineto:[7],rrcurveto:[8],callsubr:[10],flex:[12,35],drop:[12,18],endchar:[14],rmoveto:[21],hmoveto:[22],vhcurveto:[30],hvcurveto:[31]};class Xt{constructor(){this.width=0,this.lsb=0,this.flexing=!1,this.output=[],this.stack=[]}convert(Gt,en,dn){const Qt=Gt.length;let gn=!1,nn,bn,Vt;for(let Yt=0;Yt<Qt;Yt++){let hn=Gt[Yt];if(hn<32){switch(hn===12&&(hn=(hn<<8)+Gt[++Yt]),hn){case 1:{this.stack=[];break}case 3:{this.stack=[];break}case 4:if(this.flexing){if(this.stack.length<1){gn=!0;break}const Ht=this.stack.pop();this.stack.push(0,Ht);break}gn=this.executeCommand(1,Ft.vmoveto);break;case 5:gn=this.executeCommand(2,Ft.rlineto);break;case 6:gn=this.executeCommand(1,Ft.hlineto);break;case 7:gn=this.executeCommand(1,Ft.vlineto);break;case 8:gn=this.executeCommand(6,Ft.rrcurveto);break;case 9:this.stack=[];break;case 10:if(this.stack.length<1){gn=!0;break}if(Vt=this.stack.pop(),!en[Vt]){gn=!0;break}gn=this.convert(en[Vt],en,dn);break;case 11:return gn;case 13:if(this.stack.length<2){gn=!0;break}nn=this.stack.pop(),bn=this.stack.pop(),this.lsb=bn,this.width=nn,this.stack.push(nn,bn),gn=this.executeCommand(2,Ft.hmoveto);break;case 14:this.output.push(Ft.endchar[0]);break;case 21:if(this.flexing)break;gn=this.executeCommand(2,Ft.rmoveto);break;case 22:if(this.flexing){this.stack.push(0);break}gn=this.executeCommand(1,Ft.hmoveto);break;case 30:gn=this.executeCommand(4,Ft.vhcurveto);break;case 31:gn=this.executeCommand(4,Ft.hvcurveto);break;case 3072:this.stack=[];break;case 3073:{this.stack=[];break}case 3074:{this.stack=[];break}case 3078:if(dn){const Ht=this.stack.at(-5);this.seac=this.stack.splice(-4,4),this.seac[0]+=this.lsb-Ht,gn=this.executeCommand(0,Ft.endchar)}else gn=this.executeCommand(4,Ft.endchar);break;case 3079:if(this.stack.length<4){gn=!0;break}this.stack.pop(),nn=this.stack.pop();const Ut=this.stack.pop();bn=this.stack.pop(),this.lsb=bn,this.width=nn,this.stack.push(nn,bn,Ut),gn=this.executeCommand(3,Ft.rmoveto);break;case 3084:if(this.stack.length<2){gn=!0;break}const Ot=this.stack.pop(),zt=this.stack.pop();this.stack.push(zt/Ot);break;case 3088:if(this.stack.length<2){gn=!0;break}Vt=this.stack.pop();const an=this.stack.pop();if(Vt===0&&an===3){const Ht=this.stack.splice(-17,17);this.stack.push(Ht[2]+Ht[0],Ht[3]+Ht[1],Ht[4],Ht[5],Ht[6],Ht[7],Ht[8],Ht[9],Ht[10],Ht[11],Ht[12],Ht[13],Ht[14]),gn=this.executeCommand(13,Ft.flex,!0),this.flexing=!1,this.stack.push(Ht[15],Ht[16])}else Vt===1&&an===0&&(this.flexing=!0);break;case 3089:break;case 3105:this.stack=[];break;default:(0,_e.warn)('Unknown type 1 charstring command of "'+hn+'"');break}if(gn)break;continue}else hn<=246?hn-=139:hn<=250?hn=(hn-247)*256+Gt[++Yt]+108:hn<=254?hn=-((hn-251)*256)-Gt[++Yt]-108:hn=(Gt[++Yt]&255)<<24|(Gt[++Yt]&255)<<16|(Gt[++Yt]&255)<<8|(Gt[++Yt]&255)<<0;this.stack.push(hn)}return gn}executeCommand(Gt,en,dn){const Qt=this.stack.length;if(Gt>Qt)return!0;const gn=Qt-Gt;for(let nn=gn;nn<Qt;nn++){let bn=this.stack[nn];Number.isInteger(bn)?this.output.push(28,bn>>8&255,bn&255):(bn=65536*bn|0,this.output.push(255,bn>>24&255,bn>>16&255,bn>>8&255,bn&255))}return this.output.push(...en),dn?this.stack.splice(gn,Gt):this.stack.length=0,!1}}const Kt=55665,Nt=4330;function $t(Bt){return Bt>=48&&Bt<=57||Bt>=65&&Bt<=70||Bt>=97&&Bt<=102}function Dt(Bt,Gt,en){if(en>=Bt.length)return new Uint8Array(0);const dn=52845,Qt=22719;let gn=Gt|0,nn,bn;for(nn=0;nn<en;nn++)gn=(Bt[nn]+gn)*dn+Qt&65535;const Vt=Bt.length-en,Yt=new Uint8Array(Vt);for(nn=en,bn=0;bn<Vt;nn++,bn++){const hn=Bt[nn];Yt[bn]=hn^gn>>8,gn=(hn+gn)*dn+Qt&65535}return Yt}function jt(Bt,Gt,en){let gn=Gt|0;const nn=Bt.length,bn=nn>>>1,Vt=new Uint8Array(bn);let Yt,hn;for(Yt=0,hn=0;Yt<nn;Yt++){const Ut=Bt[Yt];if(!$t(Ut))continue;Yt++;let Ot;for(;Yt<nn&&!$t(Ot=Bt[Yt]);)Yt++;if(Yt<nn){const zt=parseInt(String.fromCharCode(Ut,Ot),16);Vt[hn++]=zt^gn>>8,gn=(zt+gn)*52845+22719&65535}}return Vt.slice(en,hn)}function Ct(Bt){return Bt===47||Bt===91||Bt===93||Bt===123||Bt===125||Bt===40||Bt===41}class qt{constructor(Gt,en,dn){if(en){const Qt=Gt.getBytes(),gn=!(($t(Qt[0])||(0,_t.isWhiteSpace)(Qt[0]))&&$t(Qt[1])&&$t(Qt[2])&&$t(Qt[3])&&$t(Qt[4])&&$t(Qt[5])&&$t(Qt[6])&&$t(Qt[7]));Gt=new Pt.Stream(gn?Dt(Qt,Kt,4):jt(Qt,Kt,4))}this.seacAnalysisEnabled=!!dn,this.stream=Gt,this.nextChar()}readNumberArray(){this.getToken();const Gt=[];for(;;){const en=this.getToken();if(en===null||en==="]"||en==="}")break;Gt.push(parseFloat(en||0))}return Gt}readNumber(){const Gt=this.getToken();return parseFloat(Gt||0)}readInt(){const Gt=this.getToken();return parseInt(Gt||0,10)|0}readBoolean(){return this.getToken()==="true"?1:0}nextChar(){return this.currentChar=this.stream.getByte()}prevChar(){return this.stream.skip(-2),this.currentChar=this.stream.getByte()}getToken(){let Gt=!1,en=this.currentChar;for(;;){if(en===-1)return null;if(Gt)(en===10||en===13)&&(Gt=!1);else if(en===37)Gt=!0;else if(!(0,_t.isWhiteSpace)(en))break;en=this.nextChar()}if(Ct(en))return this.nextChar(),String.fromCharCode(en);let dn="";do dn+=String.fromCharCode(en),en=this.nextChar();while(en>=0&&!(0,_t.isWhiteSpace)(en)&&!Ct(en));return dn}readCharStrings(Gt,en){return en===-1?Gt:Dt(Gt,Nt,en)}extractFontProgram(Gt){const en=this.stream,dn=[],Qt=[],gn=Object.create(null);gn.lenIV=4;const nn={subrs:[],charstrings:[],properties:{privateData:gn}};let bn,Vt,Yt,hn;for(;(bn=this.getToken())!==null;)if(bn==="/")switch(bn=this.getToken(),bn){case"CharStrings":for(this.getToken(),this.getToken(),this.getToken(),this.getToken();bn=this.getToken(),!(bn===null||bn==="end");){if(bn!=="/")continue;const Ot=this.getToken();Vt=this.readInt(),this.getToken(),Yt=Vt>0?en.getBytes(Vt):new Uint8Array(0),hn=nn.properties.privateData.lenIV;const zt=this.readCharStrings(Yt,hn);this.nextChar(),bn=this.getToken(),bn==="noaccess"?this.getToken():bn==="/"&&this.prevChar(),Qt.push({glyph:Ot,encoded:zt})}break;case"Subrs":for(this.readInt(),this.getToken();this.getToken()==="dup";){const Ot=this.readInt();Vt=this.readInt(),this.getToken(),Yt=Vt>0?en.getBytes(Vt):new Uint8Array(0),hn=nn.properties.privateData.lenIV;const zt=this.readCharStrings(Yt,hn);this.nextChar(),bn=this.getToken(),bn==="noaccess"&&this.getToken(),dn[Ot]=zt}break;case"BlueValues":case"OtherBlues":case"FamilyBlues":case"FamilyOtherBlues":const Ut=this.readNumberArray();Ut.length>0&&Ut.length%2===0&&bt&&(nn.properties.privateData[bn]=Ut);break;case"StemSnapH":case"StemSnapV":nn.properties.privateData[bn]=this.readNumberArray();break;case"StdHW":case"StdVW":nn.properties.privateData[bn]=this.readNumberArray()[0];break;case"BlueShift":case"lenIV":case"BlueFuzz":case"BlueScale":case"LanguageGroup":nn.properties.privateData[bn]=this.readNumber();break;case"ExpansionFactor":nn.properties.privateData[bn]=this.readNumber()||.06;break;case"ForceBold":nn.properties.privateData[bn]=this.readBoolean();break}for(const{encoded:Ut,glyph:Ot}of Qt){const zt=new Xt,an=zt.convert(Ut,dn,this.seacAnalysisEnabled);let Ht=zt.output;an&&(Ht=[14]);const Wt={glyphName:Ot,charstring:Ht,width:zt.width,lsb:zt.lsb,seac:zt.seac};if(Ot===".notdef"?nn.charstrings.unshift(Wt):nn.charstrings.push(Wt),Gt.builtInEncoding){const tn=Gt.builtInEncoding.indexOf(Ot);tn>-1&&Gt.widths[tn]===void 0&&tn>=Gt.firstChar&&tn<=Gt.lastChar&&(Gt.widths[tn]=zt.width)}}return nn}extractFontHeader(Gt){let en;for(;(en=this.getToken())!==null;)if(en==="/")switch(en=this.getToken(),en){case"FontMatrix":const dn=this.readNumberArray();Gt.fontMatrix=dn;break;case"Encoding":const Qt=this.getToken();let gn;if(!/^\d+$/.test(Qt))gn=(0,wt.getEncoding)(Qt);else{gn=[];const bn=parseInt(Qt,10)|0;this.getToken();for(let Vt=0;Vt<bn;Vt++){for(en=this.getToken();en!=="dup"&&en!=="def";)if(en=this.getToken(),en===null)return;if(en==="def")break;const Yt=this.readInt();this.getToken();const hn=this.getToken();gn[Yt]=hn,this.getToken()}}Gt.builtInEncoding=gn;break;case"FontBBox":const nn=this.readNumberArray();Gt.ascent=Math.max(nn[3],nn[1]),Gt.descent=Math.min(nn[1],nn[3]),Gt.ascentScaled=!0;break}}}Et.Type1Parser=qt},(kt,Et,Rt)=>{Object.defineProperty(Et,"__esModule",{value:!0}),Et.Pattern=void 0,Et.clearPatternCaches=Ct,Et.getTilingPatternIR=Gt;var wt=Rt(2),_t=Rt(5),Pt=Rt(12),_e=Rt(3);const bt={FUNCTION_BASED:1,AXIAL:2,RADIAL:3,FREE_FORM_MESH:4,LATTICE_FORM_MESH:5,COONS_PATCH_MESH:6,TENSOR_PATCH_MESH:7};class Ft{constructor(){(0,wt.unreachable)("Cannot initialize Pattern.")}static parseShading(gn,nn,bn,Vt,Yt){const hn=gn instanceof _t.BaseStream?gn.dict:gn,Ut=hn.get("ShadingType");try{switch(Ut){case bt.AXIAL:case bt.RADIAL:return new Kt(hn,nn,bn,Vt,Yt);case bt.FREE_FORM_MESH:case bt.LATTICE_FORM_MESH:case bt.COONS_PATCH_MESH:case bt.TENSOR_PATCH_MESH:return new qt(gn,nn,bn,Vt,Yt);default:throw new wt.FormatError("Unsupported ShadingType: "+Ut)}}catch(Ot){if(Ot instanceof _e.MissingDataException)throw Ot;return(0,wt.warn)(Ot),new Bt}}}Et.Pattern=Ft;const en=class en{constructor(){this.constructor===en&&(0,wt.unreachable)("Cannot initialize BaseShading.")}getIR(){(0,wt.unreachable)("Abstract method `getIR` called.")}};Ur(en,"SMALL_NUMBER",1e-6);let Xt=en;class Kt extends Xt{constructor(gn,nn,bn,Vt,Yt){super(),this.coordsArr=gn.getArray("Coords"),this.shadingType=gn.get("ShadingType");const hn=Pt.ColorSpace.parse({cs:gn.getRaw("CS")||gn.getRaw("ColorSpace"),xref:nn,resources:bn,pdfFunctionFactory:Vt,localColorSpaceCache:Yt}),Ut=gn.getArray("BBox");this.bbox=Array.isArray(Ut)&&Ut.length===4?wt.Util.normalizeRect(Ut):null;let Ot=0,zt=1;if(gn.has("Domain")){const Rn=gn.getArray("Domain");Ot=Rn[0],zt=Rn[1]}let an=!1,Ht=!1;if(gn.has("Extend")){const Rn=gn.getArray("Extend");an=Rn[0],Ht=Rn[1]}if(this.shadingType===bt.RADIAL&&(!an||!Ht)){const[Rn,Cn,An,_n,In,Pn]=this.coordsArr,Dn=Math.hypot(Rn-_n,Cn-In);An<=Pn+Dn&&Pn<=An+Dn&&(0,wt.warn)("Unsupported radial gradient.")}this.extendStart=an,this.extendEnd=Ht;const Wt=gn.getRaw("Function"),tn=Vt.createFromArray(Wt),ln=840,on=(zt-Ot)/ln,cn=this.colorStops=[];if(Ot>=zt||on<=0){(0,wt.info)("Bad shading domain.");return}const sn=new Float32Array(hn.numComps),rn=new Float32Array(1);let xn,vn=0;rn[0]=Ot,tn(rn,0,sn,0);let En=hn.getRgb(sn,0);const Fn=wt.Util.makeHexColor(En[0],En[1],En[2]);cn.push([0,Fn]);let Mn=1;rn[0]=Ot+on,tn(rn,0,sn,0);let Tn=hn.getRgb(sn,0),Sn=Tn[0]-En[0]+1,mn=Tn[1]-En[1]+1,fn=Tn[2]-En[2]+1,Jt=Tn[0]-En[0]-1,un=Tn[1]-En[1]-1,pn=Tn[2]-En[2]-1;for(let Rn=2;Rn<ln;Rn++){rn[0]=Ot+Rn*on,tn(rn,0,sn,0),xn=hn.getRgb(sn,0);const Cn=Rn-vn;if(Sn=Math.min(Sn,(xn[0]-En[0]+1)/Cn),mn=Math.min(mn,(xn[1]-En[1]+1)/Cn),fn=Math.min(fn,(xn[2]-En[2]+1)/Cn),Jt=Math.max(Jt,(xn[0]-En[0]-1)/Cn),un=Math.max(un,(xn[1]-En[1]-1)/Cn),pn=Math.max(pn,(xn[2]-En[2]-1)/Cn),!(Jt<=Sn&&un<=mn&&pn<=fn)){const _n=wt.Util.makeHexColor(Tn[0],Tn[1],Tn[2]);cn.push([Mn/ln,_n]),Sn=xn[0]-Tn[0]+1,mn=xn[1]-Tn[1]+1,fn=xn[2]-Tn[2]+1,Jt=xn[0]-Tn[0]-1,un=xn[1]-Tn[1]-1,pn=xn[2]-Tn[2]-1,vn=Mn,En=Tn}Mn=Rn,Tn=xn}const wn=wt.Util.makeHexColor(Tn[0],Tn[1],Tn[2]);cn.push([1,wn]);let kn="transparent";gn.has("Background")&&(xn=hn.getRgb(gn.get("Background"),0),kn=wt.Util.makeHexColor(xn[0],xn[1],xn[2])),an||(cn.unshift([0,kn]),cn[1][0]+=Xt.SMALL_NUMBER),Ht||(cn.at(-1)[0]-=Xt.SMALL_NUMBER,cn.push([1,kn])),this.colorStops=cn}getIR(){const gn=this.coordsArr,nn=this.shadingType;let bn,Vt,Yt,hn,Ut;return nn===bt.AXIAL?(Vt=[gn[0],gn[1]],Yt=[gn[2],gn[3]],hn=null,Ut=null,bn="axial"):nn===bt.RADIAL?(Vt=[gn[0],gn[1]],Yt=[gn[3],gn[4]],hn=gn[2],Ut=gn[5],bn="radial"):(0,wt.unreachable)(`getPattern type unknown: ${nn}`),["RadialAxial",bn,this.bbox,this.colorStops,Vt,Yt,hn,Ut]}}class Nt{constructor(gn,nn){this.stream=gn,this.context=nn,this.buffer=0,this.bufferLength=0;const bn=nn.numComps;this.tmpCompsBuf=new Float32Array(bn);const Vt=nn.colorSpace.numComps;this.tmpCsCompsBuf=nn.colorFn?new Float32Array(Vt):this.tmpCompsBuf}get hasData(){if(this.stream.end)return this.stream.pos<this.stream.end;if(this.bufferLength>0)return!0;const gn=this.stream.getByte();return gn<0?!1:(this.buffer=gn,this.bufferLength=8,!0)}readBits(gn){let nn=this.buffer,bn=this.bufferLength;if(gn===32){if(bn===0)return(this.stream.getByte()<<24|this.stream.getByte()<<16|this.stream.getByte()<<8|this.stream.getByte())>>>0;nn=nn<<24|this.stream.getByte()<<16|this.stream.getByte()<<8|this.stream.getByte();const Vt=this.stream.getByte();return this.buffer=Vt&(1<<bn)-1,(nn<<8-bn|(Vt&255)>>bn)>>>0}if(gn===8&&bn===0)return this.stream.getByte();for(;bn<gn;)nn=nn<<8|this.stream.getByte(),bn+=8;return bn-=gn,this.bufferLength=bn,this.buffer=nn&(1<<bn)-1,nn>>bn}align(){this.buffer=0,this.bufferLength=0}readFlag(){return this.readBits(this.context.bitsPerFlag)}readCoordinate(){const gn=this.context.bitsPerCoordinate,nn=this.readBits(gn),bn=this.readBits(gn),Vt=this.context.decode,Yt=gn<32?1/((1<<gn)-1):23283064365386963e-26;return[nn*Yt*(Vt[1]-Vt[0])+Vt[0],bn*Yt*(Vt[3]-Vt[2])+Vt[2]]}readComponents(){const gn=this.context.numComps,nn=this.context.bitsPerComponent,bn=nn<32?1/((1<<nn)-1):23283064365386963e-26,Vt=this.context.decode,Yt=this.tmpCompsBuf;for(let Ut=0,Ot=4;Ut<gn;Ut++,Ot+=2){const zt=this.readBits(nn);Yt[Ut]=zt*bn*(Vt[Ot+1]-Vt[Ot])+Vt[Ot]}const hn=this.tmpCsCompsBuf;return this.context.colorFn&&this.context.colorFn(Yt,0,hn,0),this.context.colorSpace.getRgb(hn,0)}}let $t=Object.create(null);function Dt(Qt){const gn=[];for(let nn=0;nn<=Qt;nn++){const bn=nn/Qt,Vt=1-bn;gn.push(new Float32Array([Vt**3,3*bn*Vt**2,3*bn**2*Vt,bn**3]))}return gn}function jt(Qt){return $t[Qt]||($t[Qt]=Dt(Qt))}function Ct(){$t=Object.create(null)}const dn=class dn extends Xt{constructor(gn,nn,bn,Vt,Yt){if(super(),!(gn instanceof _t.BaseStream))throw new wt.FormatError("Mesh data is not a stream");const hn=gn.dict;this.shadingType=hn.get("ShadingType");const Ut=hn.getArray("BBox");this.bbox=Array.isArray(Ut)&&Ut.length===4?wt.Util.normalizeRect(Ut):null;const Ot=Pt.ColorSpace.parse({cs:hn.getRaw("CS")||hn.getRaw("ColorSpace"),xref:nn,resources:bn,pdfFunctionFactory:Vt,localColorSpaceCache:Yt});this.background=hn.has("Background")?Ot.getRgb(hn.get("Background"),0):null;const zt=hn.getRaw("Function"),an=zt?Vt.createFromArray(zt):null;this.coords=[],this.colors=[],this.figures=[];const Ht={bitsPerCoordinate:hn.get("BitsPerCoordinate"),bitsPerComponent:hn.get("BitsPerComponent"),bitsPerFlag:hn.get("BitsPerFlag"),decode:hn.getArray("Decode"),colorFn:an,colorSpace:Ot,numComps:an?1:Ot.numComps},Wt=new Nt(gn,Ht);let tn=!1;switch(this.shadingType){case bt.FREE_FORM_MESH:this._decodeType4Shading(Wt);break;case bt.LATTICE_FORM_MESH:const ln=hn.get("VerticesPerRow")|0;if(ln<2)throw new wt.FormatError("Invalid VerticesPerRow");this._decodeType5Shading(Wt,ln);break;case bt.COONS_PATCH_MESH:this._decodeType6Shading(Wt),tn=!0;break;case bt.TENSOR_PATCH_MESH:this._decodeType7Shading(Wt),tn=!0;break;default:(0,wt.unreachable)("Unsupported mesh type.");break}if(tn){this._updateBounds();for(let ln=0,on=this.figures.length;ln<on;ln++)this._buildFigureFromPatch(ln)}this._updateBounds(),this._packData()}_decodeType4Shading(gn){const nn=this.coords,bn=this.colors,Vt=[];let Yt=0;for(;gn.hasData;){const hn=gn.readFlag(),Ut=gn.readCoordinate(),Ot=gn.readComponents();if(Yt===0){if(!(0<=hn&&hn<=2))throw new wt.FormatError("Unknown type4 flag");switch(hn){case 0:Yt=3;break;case 1:Vt.push(Vt.at(-2),Vt.at(-1)),Yt=1;break;case 2:Vt.push(Vt.at(-3),Vt.at(-1)),Yt=1;break}}Vt.push(nn.length),nn.push(Ut),bn.push(Ot),Yt--,gn.align()}this.figures.push({type:"triangles",coords:new Int32Array(Vt),colors:new Int32Array(Vt)})}_decodeType5Shading(gn,nn){const bn=this.coords,Vt=this.colors,Yt=[];for(;gn.hasData;){const hn=gn.readCoordinate(),Ut=gn.readComponents();Yt.push(bn.length),bn.push(hn),Vt.push(Ut)}this.figures.push({type:"lattice",coords:new Int32Array(Yt),colors:new Int32Array(Yt),verticesPerRow:nn})}_decodeType6Shading(gn){const nn=this.coords,bn=this.colors,Vt=new Int32Array(16),Yt=new Int32Array(4);for(;gn.hasData;){const hn=gn.readFlag();if(!(0<=hn&&hn<=3))throw new wt.FormatError("Unknown type6 flag");const Ut=nn.length;for(let tn=0,ln=hn!==0?8:12;tn<ln;tn++)nn.push(gn.readCoordinate());const Ot=bn.length;for(let tn=0,ln=hn!==0?2:4;tn<ln;tn++)bn.push(gn.readComponents());let zt,an,Ht,Wt;switch(hn){case 0:Vt[12]=Ut+3,Vt[13]=Ut+4,Vt[14]=Ut+5,Vt[15]=Ut+6,Vt[8]=Ut+2,Vt[11]=Ut+7,Vt[4]=Ut+1,Vt[7]=Ut+8,Vt[0]=Ut,Vt[1]=Ut+11,Vt[2]=Ut+10,Vt[3]=Ut+9,Yt[2]=Ot+1,Yt[3]=Ot+2,Yt[0]=Ot,Yt[1]=Ot+3;break;case 1:zt=Vt[12],an=Vt[13],Ht=Vt[14],Wt=Vt[15],Vt[12]=Wt,Vt[13]=Ut+0,Vt[14]=Ut+1,Vt[15]=Ut+2,Vt[8]=Ht,Vt[11]=Ut+3,Vt[4]=an,Vt[7]=Ut+4,Vt[0]=zt,Vt[1]=Ut+7,Vt[2]=Ut+6,Vt[3]=Ut+5,zt=Yt[2],an=Yt[3],Yt[2]=an,Yt[3]=Ot,Yt[0]=zt,Yt[1]=Ot+1;break;case 2:zt=Vt[15],an=Vt[11],Vt[12]=Vt[3],Vt[13]=Ut+0,Vt[14]=Ut+1,Vt[15]=Ut+2,Vt[8]=Vt[7],Vt[11]=Ut+3,Vt[4]=an,Vt[7]=Ut+4,Vt[0]=zt,Vt[1]=Ut+7,Vt[2]=Ut+6,Vt[3]=Ut+5,zt=Yt[3],Yt[2]=Yt[1],Yt[3]=Ot,Yt[0]=zt,Yt[1]=Ot+1;break;case 3:Vt[12]=Vt[0],Vt[13]=Ut+0,Vt[14]=Ut+1,Vt[15]=Ut+2,Vt[8]=Vt[1],Vt[11]=Ut+3,Vt[4]=Vt[2],Vt[7]=Ut+4,Vt[0]=Vt[3],Vt[1]=Ut+7,Vt[2]=Ut+6,Vt[3]=Ut+5,Yt[2]=Yt[0],Yt[3]=Ot,Yt[0]=Yt[1],Yt[1]=Ot+1;break}Vt[5]=nn.length,nn.push([(-4*nn[Vt[0]][0]-nn[Vt[15]][0]+6*(nn[Vt[4]][0]+nn[Vt[1]][0])-2*(nn[Vt[12]][0]+nn[Vt[3]][0])+3*(nn[Vt[13]][0]+nn[Vt[7]][0]))/9,(-4*nn[Vt[0]][1]-nn[Vt[15]][1]+6*(nn[Vt[4]][1]+nn[Vt[1]][1])-2*(nn[Vt[12]][1]+nn[Vt[3]][1])+3*(nn[Vt[13]][1]+nn[Vt[7]][1]))/9]),Vt[6]=nn.length,nn.push([(-4*nn[Vt[3]][0]-nn[Vt[12]][0]+6*(nn[Vt[2]][0]+nn[Vt[7]][0])-2*(nn[Vt[0]][0]+nn[Vt[15]][0])+3*(nn[Vt[4]][0]+nn[Vt[14]][0]))/9,(-4*nn[Vt[3]][1]-nn[Vt[12]][1]+6*(nn[Vt[2]][1]+nn[Vt[7]][1])-2*(nn[Vt[0]][1]+nn[Vt[15]][1])+3*(nn[Vt[4]][1]+nn[Vt[14]][1]))/9]),Vt[9]=nn.length,nn.push([(-4*nn[Vt[12]][0]-nn[Vt[3]][0]+6*(nn[Vt[8]][0]+nn[Vt[13]][0])-2*(nn[Vt[0]][0]+nn[Vt[15]][0])+3*(nn[Vt[11]][0]+nn[Vt[1]][0]))/9,(-4*nn[Vt[12]][1]-nn[Vt[3]][1]+6*(nn[Vt[8]][1]+nn[Vt[13]][1])-2*(nn[Vt[0]][1]+nn[Vt[15]][1])+3*(nn[Vt[11]][1]+nn[Vt[1]][1]))/9]),Vt[10]=nn.length,nn.push([(-4*nn[Vt[15]][0]-nn[Vt[0]][0]+6*(nn[Vt[11]][0]+nn[Vt[14]][0])-2*(nn[Vt[12]][0]+nn[Vt[3]][0])+3*(nn[Vt[2]][0]+nn[Vt[8]][0]))/9,(-4*nn[Vt[15]][1]-nn[Vt[0]][1]+6*(nn[Vt[11]][1]+nn[Vt[14]][1])-2*(nn[Vt[12]][1]+nn[Vt[3]][1])+3*(nn[Vt[2]][1]+nn[Vt[8]][1]))/9]),this.figures.push({type:"patch",coords:new Int32Array(Vt),colors:new Int32Array(Yt)})}}_decodeType7Shading(gn){const nn=this.coords,bn=this.colors,Vt=new Int32Array(16),Yt=new Int32Array(4);for(;gn.hasData;){const hn=gn.readFlag();if(!(0<=hn&&hn<=3))throw new wt.FormatError("Unknown type7 flag");const Ut=nn.length;for(let tn=0,ln=hn!==0?12:16;tn<ln;tn++)nn.push(gn.readCoordinate());const Ot=bn.length;for(let tn=0,ln=hn!==0?2:4;tn<ln;tn++)bn.push(gn.readComponents());let zt,an,Ht,Wt;switch(hn){case 0:Vt[12]=Ut+3,Vt[13]=Ut+4,Vt[14]=Ut+5,Vt[15]=Ut+6,Vt[8]=Ut+2,Vt[9]=Ut+13,Vt[10]=Ut+14,Vt[11]=Ut+7,Vt[4]=Ut+1,Vt[5]=Ut+12,Vt[6]=Ut+15,Vt[7]=Ut+8,Vt[0]=Ut,Vt[1]=Ut+11,Vt[2]=Ut+10,Vt[3]=Ut+9,Yt[2]=Ot+1,Yt[3]=Ot+2,Yt[0]=Ot,Yt[1]=Ot+3;break;case 1:zt=Vt[12],an=Vt[13],Ht=Vt[14],Wt=Vt[15],Vt[12]=Wt,Vt[13]=Ut+0,Vt[14]=Ut+1,Vt[15]=Ut+2,Vt[8]=Ht,Vt[9]=Ut+9,Vt[10]=Ut+10,Vt[11]=Ut+3,Vt[4]=an,Vt[5]=Ut+8,Vt[6]=Ut+11,Vt[7]=Ut+4,Vt[0]=zt,Vt[1]=Ut+7,Vt[2]=Ut+6,Vt[3]=Ut+5,zt=Yt[2],an=Yt[3],Yt[2]=an,Yt[3]=Ot,Yt[0]=zt,Yt[1]=Ot+1;break;case 2:zt=Vt[15],an=Vt[11],Vt[12]=Vt[3],Vt[13]=Ut+0,Vt[14]=Ut+1,Vt[15]=Ut+2,Vt[8]=Vt[7],Vt[9]=Ut+9,Vt[10]=Ut+10,Vt[11]=Ut+3,Vt[4]=an,Vt[5]=Ut+8,Vt[6]=Ut+11,Vt[7]=Ut+4,Vt[0]=zt,Vt[1]=Ut+7,Vt[2]=Ut+6,Vt[3]=Ut+5,zt=Yt[3],Yt[2]=Yt[1],Yt[3]=Ot,Yt[0]=zt,Yt[1]=Ot+1;break;case 3:Vt[12]=Vt[0],Vt[13]=Ut+0,Vt[14]=Ut+1,Vt[15]=Ut+2,Vt[8]=Vt[1],Vt[9]=Ut+9,Vt[10]=Ut+10,Vt[11]=Ut+3,Vt[4]=Vt[2],Vt[5]=Ut+8,Vt[6]=Ut+11,Vt[7]=Ut+4,Vt[0]=Vt[3],Vt[1]=Ut+7,Vt[2]=Ut+6,Vt[3]=Ut+5,Yt[2]=Yt[0],Yt[3]=Ot,Yt[0]=Yt[1],Yt[1]=Ot+1;break}this.figures.push({type:"patch",coords:new Int32Array(Vt),colors:new Int32Array(Yt)})}}_buildFigureFromPatch(gn){const nn=this.figures[gn];(0,wt.assert)(nn.type==="patch","Unexpected patch mesh figure");const bn=this.coords,Vt=this.colors,Yt=nn.coords,hn=nn.colors,Ut=Math.min(bn[Yt[0]][0],bn[Yt[3]][0],bn[Yt[12]][0],bn[Yt[15]][0]),Ot=Math.min(bn[Yt[0]][1],bn[Yt[3]][1],bn[Yt[12]][1],bn[Yt[15]][1]),zt=Math.max(bn[Yt[0]][0],bn[Yt[3]][0],bn[Yt[12]][0],bn[Yt[15]][0]),an=Math.max(bn[Yt[0]][1],bn[Yt[3]][1],bn[Yt[12]][1],bn[Yt[15]][1]);let Ht=Math.ceil((zt-Ut)*dn.TRIANGLE_DENSITY/(this.bounds[2]-this.bounds[0]));Ht=Math.max(dn.MIN_SPLIT_PATCH_CHUNKS_AMOUNT,Math.min(dn.MAX_SPLIT_PATCH_CHUNKS_AMOUNT,Ht));let Wt=Math.ceil((an-Ot)*dn.TRIANGLE_DENSITY/(this.bounds[3]-this.bounds[1]));Wt=Math.max(dn.MIN_SPLIT_PATCH_CHUNKS_AMOUNT,Math.min(dn.MAX_SPLIT_PATCH_CHUNKS_AMOUNT,Wt));const tn=Ht+1,ln=new Int32Array((Wt+1)*tn),on=new Int32Array((Wt+1)*tn);let cn=0;const sn=new Uint8Array(3),rn=new Uint8Array(3),xn=Vt[hn[0]],vn=Vt[hn[1]],En=Vt[hn[2]],Fn=Vt[hn[3]],Mn=jt(Wt),Tn=jt(Ht);for(let Sn=0;Sn<=Wt;Sn++){sn[0]=(xn[0]*(Wt-Sn)+En[0]*Sn)/Wt|0,sn[1]=(xn[1]*(Wt-Sn)+En[1]*Sn)/Wt|0,sn[2]=(xn[2]*(Wt-Sn)+En[2]*Sn)/Wt|0,rn[0]=(vn[0]*(Wt-Sn)+Fn[0]*Sn)/Wt|0,rn[1]=(vn[1]*(Wt-Sn)+Fn[1]*Sn)/Wt|0,rn[2]=(vn[2]*(Wt-Sn)+Fn[2]*Sn)/Wt|0;for(let mn=0;mn<=Ht;mn++,cn++){if((Sn===0||Sn===Wt)&&(mn===0||mn===Ht))continue;let fn=0,Jt=0,un=0;for(let wn=0;wn<=3;wn++)for(let kn=0;kn<=3;kn++,un++){const Rn=Mn[Sn][wn]*Tn[mn][kn];fn+=bn[Yt[un]][0]*Rn,Jt+=bn[Yt[un]][1]*Rn}ln[cn]=bn.length,bn.push([fn,Jt]),on[cn]=Vt.length;const pn=new Uint8Array(3);pn[0]=(sn[0]*(Ht-mn)+rn[0]*mn)/Ht|0,pn[1]=(sn[1]*(Ht-mn)+rn[1]*mn)/Ht|0,pn[2]=(sn[2]*(Ht-mn)+rn[2]*mn)/Ht|0,Vt.push(pn)}}ln[0]=Yt[0],on[0]=hn[0],ln[Ht]=Yt[3],on[Ht]=hn[1],ln[tn*Wt]=Yt[12],on[tn*Wt]=hn[2],ln[tn*Wt+Ht]=Yt[15],on[tn*Wt+Ht]=hn[3],this.figures[gn]={type:"lattice",coords:ln,colors:on,verticesPerRow:tn}}_updateBounds(){let gn=this.coords[0][0],nn=this.coords[0][1],bn=gn,Vt=nn;for(let Yt=1,hn=this.coords.length;Yt<hn;Yt++){const Ut=this.coords[Yt][0],Ot=this.coords[Yt][1];gn=gn>Ut?Ut:gn,nn=nn>Ot?Ot:nn,bn=bn<Ut?Ut:bn,Vt=Vt<Ot?Ot:Vt}this.bounds=[gn,nn,bn,Vt]}_packData(){let gn,nn,bn,Vt;const Yt=this.coords,hn=new Float32Array(Yt.length*2);for(gn=0,bn=0,nn=Yt.length;gn<nn;gn++){const an=Yt[gn];hn[bn++]=an[0],hn[bn++]=an[1]}this.coords=hn;const Ut=this.colors,Ot=new Uint8Array(Ut.length*3);for(gn=0,bn=0,nn=Ut.length;gn<nn;gn++){const an=Ut[gn];Ot[bn++]=an[0],Ot[bn++]=an[1],Ot[bn++]=an[2]}this.colors=Ot;const zt=this.figures;for(gn=0,nn=zt.length;gn<nn;gn++){const an=zt[gn],Ht=an.coords,Wt=an.colors;for(bn=0,Vt=Ht.length;bn<Vt;bn++)Ht[bn]*=2,Wt[bn]*=3}}getIR(){return["Mesh",this.shadingType,this.coords,this.colors,this.figures,this.bounds,this.bbox,this.background]}};Ur(dn,"MIN_SPLIT_PATCH_CHUNKS_AMOUNT",3),Ur(dn,"MAX_SPLIT_PATCH_CHUNKS_AMOUNT",20),Ur(dn,"TRIANGLE_DENSITY",20);let qt=dn;class Bt extends Xt{getIR(){return["Dummy"]}}function Gt(Qt,gn,nn){const bn=gn.getArray("Matrix"),Vt=wt.Util.normalizeRect(gn.getArray("BBox")),Yt=gn.get("XStep"),hn=gn.get("YStep"),Ut=gn.get("PaintType"),Ot=gn.get("TilingType");if(Vt[2]-Vt[0]===0||Vt[3]-Vt[1]===0)throw new wt.FormatError(`Invalid getTilingPatternIR /BBox array: [${Vt}].`);return["TilingPattern",nn,Qt,bn,Vt,Yt,hn,Ut,Ot]}},(kt,Et,Rt)=>{Object.defineProperty(Et,"__esModule",{value:!0}),Et.getXfaFontDict=jt,Et.getXfaFontName=$t;var wt=Rt(52),_t=Rt(4),Pt=Rt(53),_e=Rt(54),bt=Rt(55),Ft=Rt(56),Xt=Rt(3),Kt=Rt(38);const Nt=(0,Xt.getLookupTableFactory)(function(Ct){Ct["MyriadPro-Regular"]=Ct["PdfJS-Fallback-Regular"]={name:"LiberationSans-Regular",factors:bt.MyriadProRegularFactors,baseWidths:_e.LiberationSansRegularWidths,baseMapping:_e.LiberationSansRegularMapping,metrics:bt.MyriadProRegularMetrics},Ct["MyriadPro-Bold"]=Ct["PdfJS-Fallback-Bold"]={name:"LiberationSans-Bold",factors:bt.MyriadProBoldFactors,baseWidths:_e.LiberationSansBoldWidths,baseMapping:_e.LiberationSansBoldMapping,metrics:bt.MyriadProBoldMetrics},Ct["MyriadPro-It"]=Ct["MyriadPro-Italic"]=Ct["PdfJS-Fallback-Italic"]={name:"LiberationSans-Italic",factors:bt.MyriadProItalicFactors,baseWidths:_e.LiberationSansItalicWidths,baseMapping:_e.LiberationSansItalicMapping,metrics:bt.MyriadProItalicMetrics},Ct["MyriadPro-BoldIt"]=Ct["MyriadPro-BoldItalic"]=Ct["PdfJS-Fallback-BoldItalic"]={name:"LiberationSans-BoldItalic",factors:bt.MyriadProBoldItalicFactors,baseWidths:_e.LiberationSansBoldItalicWidths,baseMapping:_e.LiberationSansBoldItalicMapping,metrics:bt.MyriadProBoldItalicMetrics},Ct.ArialMT=Ct.Arial=Ct["Arial-Regular"]={name:"LiberationSans-Regular",baseWidths:_e.LiberationSansRegularWidths,baseMapping:_e.LiberationSansRegularMapping},Ct["Arial-BoldMT"]=Ct["Arial-Bold"]={name:"LiberationSans-Bold",baseWidths:_e.LiberationSansBoldWidths,baseMapping:_e.LiberationSansBoldMapping},Ct["Arial-ItalicMT"]=Ct["Arial-Italic"]={name:"LiberationSans-Italic",baseWidths:_e.LiberationSansItalicWidths,baseMapping:_e.LiberationSansItalicMapping},Ct["Arial-BoldItalicMT"]=Ct["Arial-BoldItalic"]={name:"LiberationSans-BoldItalic",baseWidths:_e.LiberationSansBoldItalicWidths,baseMapping:_e.LiberationSansBoldItalicMapping},Ct["Calibri-Regular"]={name:"LiberationSans-Regular",factors:wt.CalibriRegularFactors,baseWidths:_e.LiberationSansRegularWidths,baseMapping:_e.LiberationSansRegularMapping,metrics:wt.CalibriRegularMetrics},Ct["Calibri-Bold"]={name:"LiberationSans-Bold",factors:wt.CalibriBoldFactors,baseWidths:_e.LiberationSansBoldWidths,baseMapping:_e.LiberationSansBoldMapping,metrics:wt.CalibriBoldMetrics},Ct["Calibri-Italic"]={name:"LiberationSans-Italic",factors:wt.CalibriItalicFactors,baseWidths:_e.LiberationSansItalicWidths,baseMapping:_e.LiberationSansItalicMapping,metrics:wt.CalibriItalicMetrics},Ct["Calibri-BoldItalic"]={name:"LiberationSans-BoldItalic",factors:wt.CalibriBoldItalicFactors,baseWidths:_e.LiberationSansBoldItalicWidths,baseMapping:_e.LiberationSansBoldItalicMapping,metrics:wt.CalibriBoldItalicMetrics},Ct["Segoeui-Regular"]={name:"LiberationSans-Regular",factors:Ft.SegoeuiRegularFactors,baseWidths:_e.LiberationSansRegularWidths,baseMapping:_e.LiberationSansRegularMapping,metrics:Ft.SegoeuiRegularMetrics},Ct["Segoeui-Bold"]={name:"LiberationSans-Bold",factors:Ft.SegoeuiBoldFactors,baseWidths:_e.LiberationSansBoldWidths,baseMapping:_e.LiberationSansBoldMapping,metrics:Ft.SegoeuiBoldMetrics},Ct["Segoeui-Italic"]={name:"LiberationSans-Italic",factors:Ft.SegoeuiItalicFactors,baseWidths:_e.LiberationSansItalicWidths,baseMapping:_e.LiberationSansItalicMapping,metrics:Ft.SegoeuiItalicMetrics},Ct["Segoeui-BoldItalic"]={name:"LiberationSans-BoldItalic",factors:Ft.SegoeuiBoldItalicFactors,baseWidths:_e.LiberationSansBoldItalicWidths,baseMapping:_e.LiberationSansBoldItalicMapping,metrics:Ft.SegoeuiBoldItalicMetrics},Ct["Helvetica-Regular"]=Ct.Helvetica={name:"LiberationSans-Regular",factors:Pt.HelveticaRegularFactors,baseWidths:_e.LiberationSansRegularWidths,baseMapping:_e.LiberationSansRegularMapping,metrics:Pt.HelveticaRegularMetrics},Ct["Helvetica-Bold"]={name:"LiberationSans-Bold",factors:Pt.HelveticaBoldFactors,baseWidths:_e.LiberationSansBoldWidths,baseMapping:_e.LiberationSansBoldMapping,metrics:Pt.HelveticaBoldMetrics},Ct["Helvetica-Italic"]={name:"LiberationSans-Italic",factors:Pt.HelveticaItalicFactors,baseWidths:_e.LiberationSansItalicWidths,baseMapping:_e.LiberationSansItalicMapping,metrics:Pt.HelveticaItalicMetrics},Ct["Helvetica-BoldItalic"]={name:"LiberationSans-BoldItalic",factors:Pt.HelveticaBoldItalicFactors,baseWidths:_e.LiberationSansBoldItalicWidths,baseMapping:_e.LiberationSansBoldItalicMapping,metrics:Pt.HelveticaBoldItalicMetrics}});function $t(Ct){const qt=(0,Kt.normalizeFontName)(Ct);return Nt()[qt]}function Dt(Ct){const qt=$t(Ct);if(!qt)return null;const{baseWidths:Bt,baseMapping:Gt,factors:en}=qt,dn=en?Bt.map((bn,Vt)=>bn*en[Vt]):Bt;let Qt=-2,gn;const nn=[];for(const[bn,Vt]of Gt.map((Yt,hn)=>[Yt,hn]).sort(([Yt],[hn])=>Yt-hn))bn!==-1&&(bn===Qt+1?(gn.push(dn[Vt]),Qt+=1):(Qt=bn,gn=[dn[Vt]],nn.push(bn,gn)));return nn}function jt(Ct){const qt=Dt(Ct),Bt=new _t.Dict(null);Bt.set("BaseFont",_t.Name.get(Ct)),Bt.set("Type",_t.Name.get("Font")),Bt.set("Subtype",_t.Name.get("CIDFontType2")),Bt.set("Encoding",_t.Name.get("Identity-H")),Bt.set("CIDToGIDMap",_t.Name.get("Identity")),Bt.set("W",qt),Bt.set("FirstChar",qt[0]),Bt.set("LastChar",qt.at(-2)+qt.at(-1).length-1);const Gt=new _t.Dict(null);Bt.set("FontDescriptor",Gt);const en=new _t.Dict(null);return en.set("Ordering","Identity"),en.set("Registry","Adobe"),en.set("Supplement",0),Bt.set("CIDSystemInfo",en),Bt}},(kt,Et)=>{Object.defineProperty(Et,"__esModule",{value:!0}),Et.CalibriRegularMetrics=Et.CalibriRegularFactors=Et.CalibriItalicMetrics=Et.CalibriItalicFactors=Et.CalibriBoldMetrics=Et.CalibriBoldItalicMetrics=Et.CalibriBoldItalicFactors=Et.CalibriBoldFactors=void 0;const Rt=[1.3877,1,1,1,.97801,.92482,.89552,.91133,.81988,.97566,.98152,.93548,.93548,1.2798,.85284,.92794,1,.96134,1.54657,.91133,.91133,.91133,.91133,.91133,.91133,.91133,.91133,.91133,.91133,.82845,.82845,.85284,.85284,.85284,.75859,.92138,.83908,.7762,.73293,.87289,.73133,.7514,.81921,.87356,.95958,.59526,.75727,.69225,1.04924,.9121,.86943,.79795,.88198,.77958,.70864,.81055,.90399,.88653,.96017,.82577,.77892,.78257,.97507,1.54657,.97507,.85284,.89552,.90176,.88762,.8785,.75241,.8785,.90518,.95015,.77618,.8785,.88401,.91916,.86304,.88401,.91488,.8785,.8801,.8785,.8785,.91343,.7173,1.04106,.8785,.85075,.95794,.82616,.85162,.79492,.88331,1.69808,.88331,.85284,.97801,.89552,.91133,.89552,.91133,1.7801,.89552,1.24487,1.13254,1.12401,.96839,.85284,.68787,.70645,.85592,.90747,1.01466,1.0088,.90323,1,1.07463,1,.91056,.75806,1.19118,.96839,.78864,.82845,.84133,.75859,.83908,.83908,.83908,.83908,.83908,.83908,.77539,.73293,.73133,.73133,.73133,.73133,.95958,.95958,.95958,.95958,.88506,.9121,.86943,.86943,.86943,.86943,.86943,.85284,.87508,.90399,.90399,.90399,.90399,.77892,.79795,.90807,.88762,.88762,.88762,.88762,.88762,.88762,.8715,.75241,.90518,.90518,.90518,.90518,.88401,.88401,.88401,.88401,.8785,.8785,.8801,.8801,.8801,.8801,.8801,.90747,.89049,.8785,.8785,.8785,.8785,.85162,.8785,.85162,.83908,.88762,.83908,.88762,.83908,.88762,.73293,.75241,.73293,.75241,.73293,.75241,.73293,.75241,.87289,.83016,.88506,.93125,.73133,.90518,.73133,.90518,.73133,.90518,.73133,.90518,.73133,.90518,.81921,.77618,.81921,.77618,.81921,.77618,1,1,.87356,.8785,.91075,.89608,.95958,.88401,.95958,.88401,.95958,.88401,.95958,.88401,.95958,.88401,.76229,.90167,.59526,.91916,1,1,.86304,.69225,.88401,1,1,.70424,.79468,.91926,.88175,.70823,.94903,.9121,.8785,1,1,.9121,.8785,.87802,.88656,.8785,.86943,.8801,.86943,.8801,.86943,.8801,.87402,.89291,.77958,.91343,1,1,.77958,.91343,.70864,.7173,.70864,.7173,.70864,.7173,.70864,.7173,1,1,.81055,.75841,.81055,1.06452,.90399,.8785,.90399,.8785,.90399,.8785,.90399,.8785,.90399,.8785,.90399,.8785,.96017,.95794,.77892,.85162,.77892,.78257,.79492,.78257,.79492,.78257,.79492,.9297,.56892,.83908,.88762,.77539,.8715,.87508,.89049,1,1,.81055,1.04106,1.20528,1.20528,1,1.15543,.70674,.98387,.94721,1.33431,1.45894,.95161,1.06303,.83908,.80352,.57184,.6965,.56289,.82001,.56029,.81235,1.02988,.83908,.7762,.68156,.80367,.73133,.78257,.87356,.86943,.95958,.75727,.89019,1.04924,.9121,.7648,.86943,.87356,.79795,.78275,.81055,.77892,.9762,.82577,.99819,.84896,.95958,.77892,.96108,1.01407,.89049,1.02988,.94211,.96108,.8936,.84021,.87842,.96399,.79109,.89049,1.00813,1.02988,.86077,.87445,.92099,.84723,.86513,.8801,.75638,.85714,.78216,.79586,.87965,.94211,.97747,.78287,.97926,.84971,1.02988,.94211,.8801,.94211,.84971,.73133,1,1,1,1,1,1,1,1,1,1,1,1,.90264,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,.90518,1,1,1,1,1,1,1,1,1,1,1,1,.90548,1,1,1,1,1,1,.96017,.95794,.96017,.95794,.96017,.95794,.77892,.85162,1,1,.89552,.90527,1,.90363,.92794,.92794,.92794,.92794,.87012,.87012,.87012,.89552,.89552,1.42259,.71143,1.06152,1,1,1.03372,1.03372,.97171,1.4956,2.2807,.93835,.83406,.91133,.84107,.91133,1,1,1,.72021,1,1.23108,.83489,.88525,.88525,.81499,.90527,1.81055,.90527,1.81055,1.31006,1.53711,.94434,1.08696,1,.95018,.77192,.85284,.90747,1.17534,.69825,.9716,1.37077,.90747,.90747,.85356,.90747,.90747,1.44947,.85284,.8941,.8941,.70572,.8,.70572,.70572,.70572,.70572,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,.99862,.99862,1,1,1,1,1,1.08004,.91027,1,1,1,.99862,1,1,1,1,1,1,1,1,1,1,1,1,.90727,.90727,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1];Et.CalibriBoldFactors=Rt;const wt={lineHeight:1.2207,lineGap:.2207};Et.CalibriBoldMetrics=wt;const _t=[1.3877,1,1,1,.97801,.92482,.89552,.91133,.81988,.97566,.98152,.93548,.93548,1.2798,.85284,.92794,1,.96134,1.56239,.91133,.91133,.91133,.91133,.91133,.91133,.91133,.91133,.91133,.91133,.82845,.82845,.85284,.85284,.85284,.75859,.92138,.83908,.7762,.71805,.87289,.73133,.7514,.81921,.87356,.95958,.59526,.75727,.69225,1.04924,.90872,.85938,.79795,.87068,.77958,.69766,.81055,.90399,.88653,.96068,.82577,.77892,.78257,.97507,1.529,.97507,.85284,.89552,.90176,.94908,.86411,.74012,.86411,.88323,.95015,.86411,.86331,.88401,.91916,.86304,.88401,.9039,.86331,.86331,.86411,.86411,.90464,.70852,1.04106,.86331,.84372,.95794,.82616,.84548,.79492,.88331,1.69808,.88331,.85284,.97801,.89552,.91133,.89552,.91133,1.7801,.89552,1.24487,1.13254,1.19129,.96839,.85284,.68787,.70645,.85592,.90747,1.01466,1.0088,.90323,1,1.07463,1,.91056,.75806,1.19118,.96839,.78864,.82845,.84133,.75859,.83908,.83908,.83908,.83908,.83908,.83908,.77539,.71805,.73133,.73133,.73133,.73133,.95958,.95958,.95958,.95958,.88506,.90872,.85938,.85938,.85938,.85938,.85938,.85284,.87068,.90399,.90399,.90399,.90399,.77892,.79795,.90807,.94908,.94908,.94908,.94908,.94908,.94908,.85887,.74012,.88323,.88323,.88323,.88323,.88401,.88401,.88401,.88401,.8785,.86331,.86331,.86331,.86331,.86331,.86331,.90747,.89049,.86331,.86331,.86331,.86331,.84548,.86411,.84548,.83908,.94908,.83908,.94908,.83908,.94908,.71805,.74012,.71805,.74012,.71805,.74012,.71805,.74012,.87289,.79538,.88506,.92726,.73133,.88323,.73133,.88323,.73133,.88323,.73133,.88323,.73133,.88323,.81921,.86411,.81921,.86411,.81921,.86411,1,1,.87356,.86331,.91075,.8777,.95958,.88401,.95958,.88401,.95958,.88401,.95958,.88401,.95958,.88401,.76467,.90167,.59526,.91916,1,1,.86304,.69225,.88401,1,1,.70424,.77312,.91926,.88175,.70823,.94903,.90872,.86331,1,1,.90872,.86331,.86906,.88116,.86331,.85938,.86331,.85938,.86331,.85938,.86331,.87402,.86549,.77958,.90464,1,1,.77958,.90464,.69766,.70852,.69766,.70852,.69766,.70852,.69766,.70852,1,1,.81055,.75841,.81055,1.06452,.90399,.86331,.90399,.86331,.90399,.86331,.90399,.86331,.90399,.86331,.90399,.86331,.96068,.95794,.77892,.84548,.77892,.78257,.79492,.78257,.79492,.78257,.79492,.9297,.56892,.83908,.94908,.77539,.85887,.87068,.89049,1,1,.81055,1.04106,1.20528,1.20528,1,1.15543,.70088,.98387,.94721,1.33431,1.45894,.95161,1.48387,.83908,.80352,.57118,.6965,.56347,.79179,.55853,.80346,1.02988,.83908,.7762,.67174,.86036,.73133,.78257,.87356,.86441,.95958,.75727,.89019,1.04924,.90872,.74889,.85938,.87891,.79795,.7957,.81055,.77892,.97447,.82577,.97466,.87179,.95958,.77892,.94252,.95612,.8753,1.02988,.92733,.94252,.87411,.84021,.8728,.95612,.74081,.8753,1.02189,1.02988,.84814,.87445,.91822,.84723,.85668,.86331,.81344,.87581,.76422,.82046,.96057,.92733,.99375,.78022,.95452,.86015,1.02988,.92733,.86331,.92733,.86015,.73133,1,1,1,1,1,1,1,1,1,1,1,1,.90631,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,.88323,1,1,1,1,1,1,1,1,1,1,1,1,.85174,1,1,1,1,1,1,.96068,.95794,.96068,.95794,.96068,.95794,.77892,.84548,1,1,.89552,.90527,1,.90363,.92794,.92794,.92794,.89807,.87012,.87012,.87012,.89552,.89552,1.42259,.71094,1.06152,1,1,1.03372,1.03372,.97171,1.4956,2.2807,.92972,.83406,.91133,.83326,.91133,1,1,1,.72021,1,1.23108,.83489,.88525,.88525,.81499,.90616,1.81055,.90527,1.81055,1.3107,1.53711,.94434,1.08696,1,.95018,.77192,.85284,.90747,1.17534,.69825,.9716,1.37077,.90747,.90747,.85356,.90747,.90747,1.44947,.85284,.8941,.8941,.70572,.8,.70572,.70572,.70572,.70572,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,.99862,.99862,1,1,1,1,1,1.08004,.91027,1,1,1,.99862,1,1,1,1,1,1,1,1,1,1,1,1,.90727,.90727,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1];Et.CalibriBoldItalicFactors=_t;const Pt={lineHeight:1.2207,lineGap:.2207};Et.CalibriBoldItalicMetrics=Pt;const _e=[1.3877,1,1,1,1.17223,1.1293,.89552,.91133,.80395,1.02269,1.15601,.91056,.91056,1.2798,.85284,.89807,1,.90861,1.39543,.91133,.91133,.91133,.91133,.91133,.91133,.91133,.91133,.91133,.91133,.96309,.96309,.85284,.85284,.85284,.83319,.88071,.8675,.81552,.72346,.85193,.73206,.7522,.81105,.86275,.90685,.6377,.77892,.75593,1.02638,.89249,.84118,.77452,.85374,.75186,.67789,.79776,.88844,.85066,.94309,.77818,.7306,.76659,1.10369,1.38313,1.10369,1.06139,.89552,.8739,.9245,.9245,.83203,.9245,.85865,1.09842,.9245,.9245,1.03297,1.07692,.90918,1.03297,.94959,.9245,.92274,.9245,.9245,1.02933,.77832,1.20562,.9245,.8916,.98986,.86621,.89453,.79004,.94152,1.77256,.94152,.85284,.97801,.89552,.91133,.89552,.91133,1.91729,.89552,1.17889,1.13254,1.16359,.92098,.85284,.68787,.71353,.84737,.90747,1.0088,1.0044,.87683,1,1.09091,1,.92229,.739,1.15642,.92098,.76288,.80504,.80972,.75859,.8675,.8675,.8675,.8675,.8675,.8675,.76318,.72346,.73206,.73206,.73206,.73206,.90685,.90685,.90685,.90685,.86477,.89249,.84118,.84118,.84118,.84118,.84118,.85284,.84557,.88844,.88844,.88844,.88844,.7306,.77452,.86331,.9245,.9245,.9245,.9245,.9245,.9245,.84843,.83203,.85865,.85865,.85865,.85865,.82601,.82601,.82601,.82601,.94469,.9245,.92274,.92274,.92274,.92274,.92274,.90747,.86651,.9245,.9245,.9245,.9245,.89453,.9245,.89453,.8675,.9245,.8675,.9245,.8675,.9245,.72346,.83203,.72346,.83203,.72346,.83203,.72346,.83203,.85193,.8875,.86477,.99034,.73206,.85865,.73206,.85865,.73206,.85865,.73206,.85865,.73206,.85865,.81105,.9245,.81105,.9245,.81105,.9245,1,1,.86275,.9245,.90872,.93591,.90685,.82601,.90685,.82601,.90685,.82601,.90685,1.03297,.90685,.82601,.77896,1.05611,.6377,1.07692,1,1,.90918,.75593,1.03297,1,1,.76032,.9375,.98156,.93407,.77261,1.11429,.89249,.9245,1,1,.89249,.9245,.92534,.86698,.9245,.84118,.92274,.84118,.92274,.84118,.92274,.8667,.86291,.75186,1.02933,1,1,.75186,1.02933,.67789,.77832,.67789,.77832,.67789,.77832,.67789,.77832,1,1,.79776,.97655,.79776,1.23023,.88844,.9245,.88844,.9245,.88844,.9245,.88844,.9245,.88844,.9245,.88844,.9245,.94309,.98986,.7306,.89453,.7306,.76659,.79004,.76659,.79004,.76659,.79004,1.09231,.54873,.8675,.9245,.76318,.84843,.84557,.86651,1,1,.79776,1.20562,1.18622,1.18622,1,1.1437,.67009,.96334,.93695,1.35191,1.40909,.95161,1.48387,.8675,.90861,.6192,.7363,.64824,.82411,.56321,.85696,1.23516,.8675,.81552,.7286,.84134,.73206,.76659,.86275,.84369,.90685,.77892,.85871,1.02638,.89249,.75828,.84118,.85984,.77452,.76466,.79776,.7306,.90782,.77818,.903,.87291,.90685,.7306,.99058,1.03667,.94635,1.23516,.9849,.99058,.92393,.8916,.942,1.03667,.75026,.94635,1.0297,1.23516,.90918,.94048,.98217,.89746,.84153,.92274,.82507,.88832,.84438,.88178,1.03525,.9849,1.00225,.78086,.97248,.89404,1.23516,.9849,.92274,.9849,.89404,.73206,1,1,1,1,1,1,1,1,1,1,1,1,.89693,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,.85865,1,1,1,1,1,1,1,1,1,1,1,1,.90933,1,1,1,1,1,1,.94309,.98986,.94309,.98986,.94309,.98986,.7306,.89453,1,1,.89552,.90527,1,.90186,1.12308,1.12308,1.12308,1.12308,1.2566,1.2566,1.2566,.89552,.89552,1.42259,.68994,1.03809,1,1,1.0176,1.0176,1.11523,1.4956,2.01462,.97858,.82616,.91133,.83437,.91133,1,1,1,.70508,1,1.23108,.79801,.84426,.84426,.774,.90572,1.81055,.90749,1.81055,1.28809,1.55469,.94434,1.07806,1,.97094,.7589,.85284,.90747,1.19658,.69825,.97622,1.33512,.90747,.90747,.85284,.90747,.90747,1.44947,.85284,.8941,.8941,.70572,.8,.70572,.70572,.70572,.70572,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,.99862,.99862,1,1,1,1,1,1.0336,.91027,1,1,1,.99862,1,1,1,1,1,1,1,1,1,1,1,1,1.05859,1.05859,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1];Et.CalibriItalicFactors=_e;const bt={lineHeight:1.2207,lineGap:.2207};Et.CalibriItalicMetrics=bt;const Ft=[1.3877,1,1,1,1.17223,1.1293,.89552,.91133,.80395,1.02269,1.15601,.91056,.91056,1.2798,.85284,.89807,1,.90861,1.39016,.91133,.91133,.91133,.91133,.91133,.91133,.91133,.91133,.91133,.91133,.96309,.96309,.85284,.85284,.85284,.83319,.88071,.8675,.81552,.73834,.85193,.73206,.7522,.81105,.86275,.90685,.6377,.77892,.75593,1.02638,.89385,.85122,.77452,.86503,.75186,.68887,.79776,.88844,.85066,.94258,.77818,.7306,.76659,1.10369,1.39016,1.10369,1.06139,.89552,.8739,.86128,.94469,.8457,.94469,.89464,1.09842,.84636,.94469,1.03297,1.07692,.90918,1.03297,.95897,.94469,.9482,.94469,.94469,1.04692,.78223,1.20562,.94469,.90332,.98986,.86621,.90527,.79004,.94152,1.77256,.94152,.85284,.97801,.89552,.91133,.89552,.91133,1.91729,.89552,1.17889,1.13254,1.08707,.92098,.85284,.68787,.71353,.84737,.90747,1.0088,1.0044,.87683,1,1.09091,1,.92229,.739,1.15642,.92098,.76288,.80504,.80972,.75859,.8675,.8675,.8675,.8675,.8675,.8675,.76318,.73834,.73206,.73206,.73206,.73206,.90685,.90685,.90685,.90685,.86477,.89385,.85122,.85122,.85122,.85122,.85122,.85284,.85311,.88844,.88844,.88844,.88844,.7306,.77452,.86331,.86128,.86128,.86128,.86128,.86128,.86128,.8693,.8457,.89464,.89464,.89464,.89464,.82601,.82601,.82601,.82601,.94469,.94469,.9482,.9482,.9482,.9482,.9482,.90747,.86651,.94469,.94469,.94469,.94469,.90527,.94469,.90527,.8675,.86128,.8675,.86128,.8675,.86128,.73834,.8457,.73834,.8457,.73834,.8457,.73834,.8457,.85193,.92454,.86477,.9921,.73206,.89464,.73206,.89464,.73206,.89464,.73206,.89464,.73206,.89464,.81105,.84636,.81105,.84636,.81105,.84636,1,1,.86275,.94469,.90872,.95786,.90685,.82601,.90685,.82601,.90685,.82601,.90685,1.03297,.90685,.82601,.77741,1.05611,.6377,1.07692,1,1,.90918,.75593,1.03297,1,1,.76032,.90452,.98156,1.11842,.77261,1.11429,.89385,.94469,1,1,.89385,.94469,.95877,.86901,.94469,.85122,.9482,.85122,.9482,.85122,.9482,.8667,.90016,.75186,1.04692,1,1,.75186,1.04692,.68887,.78223,.68887,.78223,.68887,.78223,.68887,.78223,1,1,.79776,.92188,.79776,1.23023,.88844,.94469,.88844,.94469,.88844,.94469,.88844,.94469,.88844,.94469,.88844,.94469,.94258,.98986,.7306,.90527,.7306,.76659,.79004,.76659,.79004,.76659,.79004,1.09231,.54873,.8675,.86128,.76318,.8693,.85311,.86651,1,1,.79776,1.20562,1.18622,1.18622,1,1.1437,.67742,.96334,.93695,1.35191,1.40909,.95161,1.48387,.86686,.90861,.62267,.74359,.65649,.85498,.56963,.88254,1.23516,.8675,.81552,.75443,.84503,.73206,.76659,.86275,.85122,.90685,.77892,.85746,1.02638,.89385,.75657,.85122,.86275,.77452,.74171,.79776,.7306,.95165,.77818,.89772,.88831,.90685,.7306,.98142,1.02191,.96576,1.23516,.99018,.98142,.9236,.89258,.94035,1.02191,.78848,.96576,.9561,1.23516,.90918,.92578,.95424,.89746,.83969,.9482,.80113,.89442,.85208,.86155,.98022,.99018,1.00452,.81209,.99247,.89181,1.23516,.99018,.9482,.99018,.89181,.73206,1,1,1,1,1,1,1,1,1,1,1,1,.88844,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,.89464,1,1,1,1,1,1,1,1,1,1,1,1,.96766,1,1,1,1,1,1,.94258,.98986,.94258,.98986,.94258,.98986,.7306,.90527,1,1,.89552,.90527,1,.90186,1.12308,1.12308,1.12308,1.12308,1.2566,1.2566,1.2566,.89552,.89552,1.42259,.69043,1.03809,1,1,1.0176,1.0176,1.11523,1.4956,2.01462,.99331,.82616,.91133,.84286,.91133,1,1,1,.70508,1,1.23108,.79801,.84426,.84426,.774,.90527,1.81055,.90527,1.81055,1.28809,1.55469,.94434,1.07806,1,.97094,.7589,.85284,.90747,1.19658,.69825,.97622,1.33512,.90747,.90747,.85356,.90747,.90747,1.44947,.85284,.8941,.8941,.70572,.8,.70572,.70572,.70572,.70572,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,.99862,.99862,1,1,1,1,1,1.0336,.91027,1,1,1,.99862,1,1,1,1,1,1,1,1,1,1,1,1,1.05859,1.05859,1,1,1,1.07185,.99413,.96334,1.08065,1,1,1,1,1,1,1,1,1,1,1];Et.CalibriRegularFactors=Ft;const Xt={lineHeight:1.2207,lineGap:.2207};Et.CalibriRegularMetrics=Xt},(kt,Et)=>{Object.defineProperty(Et,"__esModule",{value:!0}),Et.HelveticaRegularMetrics=Et.HelveticaRegularFactors=Et.HelveticaItalicMetrics=Et.HelveticaItalicFactors=Et.HelveticaBoldMetrics=Et.HelveticaBoldItalicMetrics=Et.HelveticaBoldItalicFactors=Et.HelveticaBoldFactors=void 0;const Rt=[.76116,1,1,1.0006,.99998,.99974,.99973,.99973,.99982,.99977,1.00087,.99998,.99998,.99959,1.00003,1.0006,.99998,1.0006,1.0006,.99973,.99973,.99973,.99973,.99973,.99973,.99973,.99973,.99973,.99973,.99998,1,1.00003,1.00003,1.00003,1.00026,.9999,.99977,.99977,.99977,.99977,1.00001,1.00026,1.00022,.99977,1.0006,.99973,.99977,1.00026,.99999,.99977,1.00022,1.00001,1.00022,.99977,1.00001,1.00026,.99977,1.00001,1.00016,1.00001,1.00001,1.00026,.99998,1.0006,.99998,1.00003,.99973,.99998,.99973,1.00026,.99973,1.00026,.99973,.99998,1.00026,1.00026,1.0006,1.0006,.99973,1.0006,.99982,1.00026,1.00026,1.00026,1.00026,.99959,.99973,.99998,1.00026,.99973,1.00022,.99973,.99973,1,.99959,1.00077,.99959,1.00003,.99998,.99973,.99973,.99973,.99973,1.00077,.99973,.99998,1.00025,.99968,.99973,1.00003,1.00025,.60299,1.00024,1.06409,1,1,.99998,1,.99973,1.0006,.99998,1,.99936,.99973,1.00002,1.00002,1.00002,1.00026,.99977,.99977,.99977,.99977,.99977,.99977,1,.99977,1.00001,1.00001,1.00001,1.00001,1.0006,1.0006,1.0006,1.0006,.99977,.99977,1.00022,1.00022,1.00022,1.00022,1.00022,1.00003,1.00022,.99977,.99977,.99977,.99977,1.00001,1.00001,1.00026,.99973,.99973,.99973,.99973,.99973,.99973,.99982,.99973,.99973,.99973,.99973,.99973,1.0006,1.0006,1.0006,1.0006,1.00026,1.00026,1.00026,1.00026,1.00026,1.00026,1.00026,1.06409,1.00026,1.00026,1.00026,1.00026,1.00026,.99973,1.00026,.99973,.99977,.99973,.99977,.99973,.99977,.99973,.99977,.99973,.99977,.99973,.99977,.99973,.99977,.99973,.99977,1.03374,.99977,1.00026,1.00001,.99973,1.00001,.99973,1.00001,.99973,1.00001,.99973,1.00001,.99973,1.00022,1.00026,1.00022,1.00026,1.00022,1.00026,1.00022,1.00026,.99977,1.00026,.99977,1.00026,1.0006,1.0006,1.0006,1.0006,1.0006,1.0006,1.0006,1.0006,1.0006,1.0006,1.00042,.99973,.99973,1.0006,.99977,.99973,.99973,1.00026,1.0006,1.00026,1.0006,1.00026,1.03828,1.00026,.99999,1.00026,1.0006,.99977,1.00026,.99977,1.00026,.99977,1.00026,.9993,.9998,1.00026,1.00022,1.00026,1.00022,1.00026,1.00022,1.00026,1,1.00016,.99977,.99959,.99977,.99959,.99977,.99959,1.00001,.99973,1.00001,.99973,1.00001,.99973,1.00001,.99973,1.00026,.99998,1.00026,.8121,1.00026,.99998,.99977,1.00026,.99977,1.00026,.99977,1.00026,.99977,1.00026,.99977,1.00026,.99977,1.00026,1.00016,1.00022,1.00001,.99973,1.00001,1.00026,1,1.00026,1,1.00026,1,1.0006,.99973,.99977,.99973,1,.99982,1.00022,1.00026,1.00001,.99973,1.00026,.99998,.99998,.99998,.99998,.99998,.99998,.99998,.99998,.99998,.99998,.99998,1.00034,.99977,1,.99997,1.00026,1.00078,1.00036,.99973,1.00013,1.0006,.99977,.99977,.99988,.85148,1.00001,1.00026,.99977,1.00022,1.0006,.99977,1.00001,.99999,.99977,1.00069,1.00022,.99977,1.00001,.99984,1.00026,1.00001,1.00024,1.00001,.9999,1,1.0006,1.00001,1.00041,.99962,1.00026,1.0006,.99995,1.00041,.99942,.99973,.99927,1.00082,.99902,1.00026,1.00087,1.0006,1.00069,.99973,.99867,.99973,.9993,1.00026,1.00049,1.00056,1,.99988,.99935,.99995,.99954,1.00055,.99945,1.00032,1.0006,.99995,1.00026,.99995,1.00032,1.00001,1.00008,.99971,1.00019,.9994,1.00001,1.0006,1.00044,.99973,1.00023,1.00047,1,.99942,.99561,.99989,1.00035,.99977,1.00035,.99977,1.00019,.99944,1.00001,1.00021,.99926,1.00035,1.00035,.99942,1.00048,.99999,.99977,1.00022,1.00035,1.00001,.99977,1.00026,.99989,1.00057,1.00001,.99936,1.00052,1.00012,.99996,1.00043,1,1.00035,.9994,.99976,1.00035,.99973,1.00052,1.00041,1.00119,1.00037,.99973,1.00002,.99986,1.00041,1.00041,.99902,.9996,1.00034,.99999,1.00026,.99999,1.00026,.99973,1.00052,.99973,1,.99973,1.00041,1.00075,.9994,1.0003,.99999,1,1.00041,.99955,1,.99915,.99973,.99973,1.00026,1.00119,.99955,.99973,1.0006,.99911,1.0006,1.00026,.99972,1.00026,.99902,1.00041,.99973,.99999,1,1,1.00038,1.0005,1.00016,1.00022,1.00016,1.00022,1.00016,1.00022,1.00001,.99973,1,1,.99973,1,1,.99955,1.0006,1.0006,1.0006,1.0006,1,1,1,.99973,.99973,.99972,1,1,1.00106,.99999,.99998,.99998,.99999,.99998,1.66475,1,.99973,.99973,1.00023,.99973,.99971,1.00047,1.00023,1,.99991,.99984,1.00002,1.00002,1.00002,1.00002,1,1,1,1,1,1,1,.99972,1,1.20985,1.39713,1.00003,1.00031,1.00015,1,.99561,1.00027,1.00031,1.00031,.99915,1.00031,1.00031,.99999,1.00003,.99999,.99999,1.41144,1.6,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.40579,1.40579,1.36625,.99999,1,.99861,.99861,1,1.00026,1.00026,1.00026,1.00026,.99972,.99999,.99999,.99999,.99999,1.40483,1,.99977,1.00054,1,1,.99953,.99962,1.00042,.9995,1,1,1,1,1,1,1,1,.99998,.99998,.99998,.99998,1,1,1,1,1,1,1,1,1,1,1];Et.HelveticaBoldFactors=Rt;const wt={lineHeight:1.2,lineGap:.2};Et.HelveticaBoldMetrics=wt;const _t=[.76116,1,1,1.0006,.99998,.99974,.99973,.99973,.99982,.99977,1.00087,.99998,.99998,.99959,1.00003,1.0006,.99998,1.0006,1.0006,.99973,.99973,.99973,.99973,.99973,.99973,.99973,.99973,.99973,.99973,.99998,1,1.00003,1.00003,1.00003,1.00026,.9999,.99977,.99977,.99977,.99977,1.00001,1.00026,1.00022,.99977,1.0006,.99973,.99977,1.00026,.99999,.99977,1.00022,1.00001,1.00022,.99977,1.00001,1.00026,.99977,1.00001,1.00016,1.00001,1.00001,1.00026,.99998,1.0006,.99998,1.00003,.99973,.99998,.99973,1.00026,.99973,1.00026,.99973,.99998,1.00026,1.00026,1.0006,1.0006,.99973,1.0006,.99982,1.00026,1.00026,1.00026,1.00026,.99959,.99973,.99998,1.00026,.99973,1.00022,.99973,.99973,1,.99959,1.00077,.99959,1.00003,.99998,.99973,.99973,.99973,.99973,1.00077,.99973,.99998,1.00025,.99968,.99973,1.00003,1.00025,.60299,1.00024,1.06409,1,1,.99998,1,.99973,1.0006,.99998,1,.99936,.99973,1.00002,1.00002,1.00002,1.00026,.99977,.99977,.99977,.99977,.99977,.99977,1,.99977,1.00001,1.00001,1.00001,1.00001,1.0006,1.0006,1.0006,1.0006,.99977,.99977,1.00022,1.00022,1.00022,1.00022,1.00022,1.00003,1.00022,.99977,.99977,.99977,.99977,1.00001,1.00001,1.00026,.99973,.99973,.99973,.99973,.99973,.99973,.99982,.99973,.99973,.99973,.99973,.99973,1.0006,1.0006,1.0006,1.0006,1.00026,1.00026,1.00026,1.00026,1.00026,1.00026,1.00026,1.06409,1.00026,1.00026,1.00026,1.00026,1.00026,.99973,1.00026,.99973,.99977,.99973,.99977,.99973,.99977,.99973,.99977,.99973,.99977,.99973,.99977,.99973,.99977,.99973,.99977,1.0044,.99977,1.00026,1.00001,.99973,1.00001,.99973,1.00001,.99973,1.00001,.99973,1.00001,.99973,1.00022,1.00026,1.00022,1.00026,1.00022,1.00026,1.00022,1.00026,.99977,1.00026,.99977,1.00026,1.0006,1.0006,1.0006,1.0006,1.0006,1.0006,1.0006,1.0006,1.0006,1.0006,.99971,.99973,.99973,1.0006,.99977,.99973,.99973,1.00026,1.0006,1.00026,1.0006,1.00026,1.01011,1.00026,.99999,1.00026,1.0006,.99977,1.00026,.99977,1.00026,.99977,1.00026,.9993,.9998,1.00026,1.00022,1.00026,1.00022,1.00026,1.00022,1.00026,1,1.00016,.99977,.99959,.99977,.99959,.99977,.99959,1.00001,.99973,1.00001,.99973,1.00001,.99973,1.00001,.99973,1.00026,.99998,1.00026,.8121,1.00026,.99998,.99977,1.00026,.99977,1.00026,.99977,1.00026,.99977,1.00026,.99977,1.00026,.99977,1.00026,1.00016,1.00022,1.00001,.99973,1.00001,1.00026,1,1.00026,1,1.00026,1,1.0006,.99973,.99977,.99973,1,.99982,1.00022,1.00026,1.00001,.99973,1.00026,.99998,.99998,.99998,.99998,.99998,.99998,.99998,.99998,.99998,.99998,.99998,.99998,.99977,1,1,1.00026,.99969,.99972,.99981,.9998,1.0006,.99977,.99977,1.00022,.91155,1.00001,1.00026,.99977,1.00022,1.0006,.99977,1.00001,.99999,.99977,.99966,1.00022,1.00032,1.00001,.99944,1.00026,1.00001,.99968,1.00001,1.00047,1,1.0006,1.00001,.99981,1.00101,1.00026,1.0006,.99948,.99981,1.00064,.99973,.99942,1.00101,1.00061,1.00026,1.00069,1.0006,1.00014,.99973,1.01322,.99973,1.00065,1.00026,1.00012,.99923,1,1.00064,1.00076,.99948,1.00055,1.00063,1.00007,.99943,1.0006,.99948,1.00026,.99948,.99943,1.00001,1.00001,1.00029,1.00038,1.00035,1.00001,1.0006,1.0006,.99973,.99978,1.00001,1.00057,.99989,.99967,.99964,.99967,.99977,.99999,.99977,1.00038,.99977,1.00001,.99973,1.00066,.99967,.99967,1.00041,.99998,.99999,.99977,1.00022,.99967,1.00001,.99977,1.00026,.99964,1.00031,1.00001,.99999,.99999,1,1.00023,1,1,.99999,1.00035,1.00001,.99999,.99973,.99977,.99999,1.00058,.99973,.99973,.99955,.9995,1.00026,1.00026,1.00032,.99989,1.00034,.99999,1.00026,1.00026,1.00026,.99973,.45998,.99973,1.00026,.99973,1.00001,.99999,.99982,.99994,.99996,1,1.00042,1.00044,1.00029,1.00023,.99973,.99973,1.00026,.99949,1.00002,.99973,1.0006,1.0006,1.0006,.99975,1.00026,1.00026,1.00032,.98685,.99973,1.00026,1,1,.99966,1.00044,1.00016,1.00022,1.00016,1.00022,1.00016,1.00022,1.00001,.99973,1,1,.99973,1,1,.99955,1.0006,1.0006,1.0006,1.0006,1,1,1,.99973,.99973,.99972,1,1,1.00106,.99999,.99998,.99998,.99999,.99998,1.66475,1,.99973,.99973,1,.99973,.99971,.99978,1,1,.99991,.99984,1.00002,1.00002,1.00002,1.00002,1.00098,1,1,1,1.00049,1,1,.99972,1,1.20985,1.39713,1.00003,1.00031,1.00015,1,.99561,1.00027,1.00031,1.00031,.99915,1.00031,1.00031,.99999,1.00003,.99999,.99999,1.41144,1.6,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.40579,1.40579,1.36625,.99999,1,.99861,.99861,1,1.00026,1.00026,1.00026,1.00026,.99972,.99999,.99999,.99999,.99999,1.40483,1,.99977,1.00054,1,1,.99953,.99962,1.00042,.9995,1,1,1,1,1,1,1,1,.99998,.99998,.99998,.99998,1,1,1,1,1,1,1,1,1,1,1];Et.HelveticaBoldItalicFactors=_t;const Pt={lineHeight:1.35,lineGap:.2};Et.HelveticaBoldItalicMetrics=Pt;const _e=[.76116,1,1,1.0006,1.0006,1.00006,.99973,.99973,.99982,1.00001,1.00043,.99998,.99998,.99959,1.00003,1.0006,.99998,1.0006,1.0006,.99973,.99973,.99973,.99973,.99973,.99973,.99973,.99973,.99973,.99973,1.0006,1,1.00003,1.00003,1.00003,.99973,.99987,1.00001,1.00001,.99977,.99977,1.00001,1.00026,1.00022,.99977,1.0006,1,1.00001,.99973,.99999,.99977,1.00022,1.00001,1.00022,.99977,1.00001,1.00026,.99977,1.00001,1.00016,1.00001,1.00001,1.00026,1.0006,1.0006,1.0006,.99949,.99973,.99998,.99973,.99973,1,.99973,.99973,1.0006,.99973,.99973,.99924,.99924,1,.99924,.99999,.99973,.99973,.99973,.99973,.99998,1,1.0006,.99973,1,.99977,1,1,1,1.00005,1.0009,1.00005,1.00003,.99998,.99973,.99973,.99973,.99973,1.0009,.99973,.99998,1.00025,.99968,.99973,1.00003,1.00025,.60299,1.00024,1.06409,1,1,.99998,1,.9998,1.0006,.99998,1,.99936,.99973,1.00002,1.00002,1.00002,1.00026,1.00001,1.00001,1.00001,1.00001,1.00001,1.00001,1,.99977,1.00001,1.00001,1.00001,1.00001,1.0006,1.0006,1.0006,1.0006,.99977,.99977,1.00022,1.00022,1.00022,1.00022,1.00022,1.00003,1.00022,.99977,.99977,.99977,.99977,1.00001,1.00001,1.00026,.99973,.99973,.99973,.99973,.99973,.99973,.99982,1,.99973,.99973,.99973,.99973,1.0006,1.0006,1.0006,1.0006,.99973,.99973,.99973,.99973,.99973,.99973,.99973,1.06409,1.00026,.99973,.99973,.99973,.99973,1,.99973,1,1.00001,.99973,1.00001,.99973,1.00001,.99973,.99977,1,.99977,1,.99977,1,.99977,1,.99977,1.0288,.99977,.99973,1.00001,.99973,1.00001,.99973,1.00001,.99973,1.00001,.99973,1.00001,.99973,1.00022,.99973,1.00022,.99973,1.00022,.99973,1.00022,.99973,.99977,.99973,.99977,.99973,1.0006,1.0006,1.0006,1.0006,1.0006,1.0006,1.0006,.99924,1.0006,1.0006,.99946,1.00034,1,.99924,1.00001,1,1,.99973,.99924,.99973,.99924,.99973,1.06311,.99973,1.00024,.99973,.99924,.99977,.99973,.99977,.99973,.99977,.99973,1.00041,.9998,.99973,1.00022,.99973,1.00022,.99973,1.00022,.99973,1,1.00016,.99977,.99998,.99977,.99998,.99977,.99998,1.00001,1,1.00001,1,1.00001,1,1.00001,1,1.00026,1.0006,1.00026,.89547,1.00026,1.0006,.99977,.99973,.99977,.99973,.99977,.99973,.99977,.99973,.99977,.99973,.99977,.99973,1.00016,.99977,1.00001,1,1.00001,1.00026,1,1.00026,1,1.00026,1,.99924,.99973,1.00001,.99973,1,.99982,1.00022,1.00026,1.00001,1,1.00026,1.0006,.99998,.99998,.99998,.99998,.99998,.99998,.99998,.99998,.99998,.99998,.99998,1.00001,1,1.00054,.99977,1.00084,1.00007,.99973,1.00013,.99924,1.00001,1.00001,.99945,.91221,1.00001,1.00026,.99977,1.00022,1.0006,1.00001,1.00001,.99999,.99977,.99933,1.00022,1.00054,1.00001,1.00065,1.00026,1.00001,1.0001,1.00001,1.00052,1,1.0006,1.00001,.99945,.99897,.99968,.99924,1.00036,.99945,.99949,1,1.0006,.99897,.99918,.99968,.99911,.99924,1,.99962,1.01487,1,1.0005,.99973,1.00012,1.00043,1,.99995,.99994,1.00036,.99947,1.00019,1.00063,1.00025,.99924,1.00036,.99973,1.00036,1.00025,1.00001,1.00001,1.00027,1.0001,1.00068,1.00001,1.0006,1.0006,1,1.00008,.99957,.99972,.9994,.99954,.99975,1.00051,1.00001,1.00019,1.00001,1.0001,.99986,1.00001,1.00001,1.00038,.99954,.99954,.9994,1.00066,.99999,.99977,1.00022,1.00054,1.00001,.99977,1.00026,.99975,1.0001,1.00001,.99993,.9995,.99955,1.00016,.99978,.99974,1.00019,1.00022,.99955,1.00053,.99973,1.00089,1.00005,.99967,1.00048,.99973,1.00002,1.00034,.99973,.99973,.99964,1.00006,1.00066,.99947,.99973,.98894,.99973,1,.44898,1,.99946,1,1.00039,1.00082,.99991,.99991,.99985,1.00022,1.00023,1.00061,1.00006,.99966,.99973,.99973,.99973,1.00019,1.0008,1,.99924,.99924,.99924,.99983,1.00044,.99973,.99964,.98332,1,.99973,1,1,.99962,.99895,1.00016,.99977,1.00016,.99977,1.00016,.99977,1.00001,1,1,1,.99973,1,1,.99955,.99924,.99924,.99924,.99924,.99998,.99998,.99998,.99973,.99973,.99972,1,1,1.00267,.99999,.99998,.99998,1,.99998,1.66475,1,.99973,.99973,1.00023,.99973,1.00423,.99925,.99999,1,.99991,.99984,1.00002,1.00002,1.00002,1.00002,1.00049,1,1.00245,1,1,1,1,.96329,1,1.20985,1.39713,1.00003,.8254,1.00015,1,1.00035,1.00027,1.00031,1.00031,1.00003,1.00031,1.00031,.99999,1.00003,.99999,.99999,1.41144,1.6,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.40579,1.40579,1.36625,.99999,1,.99861,.99861,1,1.00026,1.00026,1.00026,1.00026,.95317,.99999,.99999,.99999,.99999,1.40483,1,.99977,1.00054,1,1,.99953,.99962,1.00042,.9995,1,1,1,1,1,1,1,1,.99998,.99998,.99998,.99998,1,1,1,1,1,1,1,1,1,1,1];Et.HelveticaItalicFactors=_e;const bt={lineHeight:1.35,lineGap:.2};Et.HelveticaItalicMetrics=bt;const Ft=[.76116,1,1,1.0006,1.0006,1.00006,.99973,.99973,.99982,1.00001,1.00043,.99998,.99998,.99959,1.00003,1.0006,.99998,1.0006,1.0006,.99973,.99973,.99973,.99973,.99973,.99973,.99973,.99973,.99973,.99973,1.0006,1,1.00003,1.00003,1.00003,.99973,.99987,1.00001,1.00001,.99977,.99977,1.00001,1.00026,1.00022,.99977,1.0006,1,1.00001,.99973,.99999,.99977,1.00022,1.00001,1.00022,.99977,1.00001,1.00026,.99977,1.00001,1.00016,1.00001,1.00001,1.00026,1.0006,1.0006,1.0006,.99949,.99973,.99998,.99973,.99973,1,.99973,.99973,1.0006,.99973,.99973,.99924,.99924,1,.99924,.99999,.99973,.99973,.99973,.99973,.99998,1,1.0006,.99973,1,.99977,1,1,1,1.00005,1.0009,1.00005,1.00003,.99998,.99973,.99973,.99973,.99973,1.0009,.99973,.99998,1.00025,.99968,.99973,1.00003,1.00025,.60299,1.00024,1.06409,1,1,.99998,1,.9998,1.0006,.99998,1,.99936,.99973,1.00002,1.00002,1.00002,1.00026,1.00001,1.00001,1.00001,1.00001,1.00001,1.00001,1,.99977,1.00001,1.00001,1.00001,1.00001,1.0006,1.0006,1.0006,1.0006,.99977,.99977,1.00022,1.00022,1.00022,1.00022,1.00022,1.00003,1.00022,.99977,.99977,.99977,.99977,1.00001,1.00001,1.00026,.99973,.99973,.99973,.99973,.99973,.99973,.99982,1,.99973,.99973,.99973,.99973,1.0006,1.0006,1.0006,1.0006,.99973,.99973,.99973,.99973,.99973,.99973,.99973,1.06409,1.00026,.99973,.99973,.99973,.99973,1,.99973,1,1.00001,.99973,1.00001,.99973,1.00001,.99973,.99977,1,.99977,1,.99977,1,.99977,1,.99977,1.04596,.99977,.99973,1.00001,.99973,1.00001,.99973,1.00001,.99973,1.00001,.99973,1.00001,.99973,1.00022,.99973,1.00022,.99973,1.00022,.99973,1.00022,.99973,.99977,.99973,.99977,.99973,1.0006,1.0006,1.0006,1.0006,1.0006,1.0006,1.0006,.99924,1.0006,1.0006,1.00019,1.00034,1,.99924,1.00001,1,1,.99973,.99924,.99973,.99924,.99973,1.02572,.99973,1.00005,.99973,.99924,.99977,.99973,.99977,.99973,.99977,.99973,.99999,.9998,.99973,1.00022,.99973,1.00022,.99973,1.00022,.99973,1,1.00016,.99977,.99998,.99977,.99998,.99977,.99998,1.00001,1,1.00001,1,1.00001,1,1.00001,1,1.00026,1.0006,1.00026,.84533,1.00026,1.0006,.99977,.99973,.99977,.99973,.99977,.99973,.99977,.99973,.99977,.99973,.99977,.99973,1.00016,.99977,1.00001,1,1.00001,1.00026,1,1.00026,1,1.00026,1,.99924,.99973,1.00001,.99973,1,.99982,1.00022,1.00026,1.00001,1,1.00026,1.0006,.99998,.99998,.99998,.99998,.99998,.99998,.99998,.99998,.99998,.99998,.99998,.99928,1,.99977,1.00013,1.00055,.99947,.99945,.99941,.99924,1.00001,1.00001,1.0004,.91621,1.00001,1.00026,.99977,1.00022,1.0006,1.00001,1.00005,.99999,.99977,1.00015,1.00022,.99977,1.00001,.99973,1.00026,1.00001,1.00019,1.00001,.99946,1,1.0006,1.00001,.99978,1.00045,.99973,.99924,1.00023,.99978,.99966,1,1.00065,1.00045,1.00019,.99973,.99973,.99924,1,1,.96499,1,1.00055,.99973,1.00008,1.00027,1,.9997,.99995,1.00023,.99933,1.00019,1.00015,1.00031,.99924,1.00023,.99973,1.00023,1.00031,1.00001,.99928,1.00029,1.00092,1.00035,1.00001,1.0006,1.0006,1,.99988,.99975,1,1.00082,.99561,.9996,1.00035,1.00001,.99962,1.00001,1.00092,.99964,1.00001,.99963,.99999,1.00035,1.00035,1.00082,.99962,.99999,.99977,1.00022,1.00035,1.00001,.99977,1.00026,.9996,.99967,1.00001,1.00034,1.00074,1.00054,1.00053,1.00063,.99971,.99962,1.00035,.99975,.99977,.99973,1.00043,.99953,1.0007,.99915,.99973,1.00008,.99892,1.00073,1.00073,1.00114,.99915,1.00073,.99955,.99973,1.00092,.99973,1,.99998,1,1.0003,1,1.00043,1.00001,.99969,1.0003,1,1.00035,1.00001,.9995,1,1.00092,.99973,.99973,.99973,1.0007,.9995,1,.99924,1.0006,.99924,.99972,1.00062,.99973,1.00114,1.00073,1,.99955,1,1,1.00047,.99968,1.00016,.99977,1.00016,.99977,1.00016,.99977,1.00001,1,1,1,.99973,1,1,.99955,.99924,.99924,.99924,.99924,.99998,.99998,.99998,.99973,.99973,.99972,1,1,1.00267,.99999,.99998,.99998,1,.99998,1.66475,1,.99973,.99973,1.00023,.99973,.99971,.99925,1.00023,1,.99991,.99984,1.00002,1.00002,1.00002,1.00002,1,1,1,1,1,1,1,.96329,1,1.20985,1.39713,1.00003,.8254,1.00015,1,1.00035,1.00027,1.00031,1.00031,.99915,1.00031,1.00031,.99999,1.00003,.99999,.99999,1.41144,1.6,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.40579,1.40579,1.36625,.99999,1,.99861,.99861,1,1.00026,1.00026,1.00026,1.00026,.95317,.99999,.99999,.99999,.99999,1.40483,1,.99977,1.00054,1,1,.99953,.99962,1.00042,.9995,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1];Et.HelveticaRegularFactors=Ft;const Xt={lineHeight:1.2,lineGap:.2};Et.HelveticaRegularMetrics=Xt},(kt,Et)=>{Object.defineProperty(Et,"__esModule",{value:!0}),Et.LiberationSansRegularWidths=Et.LiberationSansRegularMapping=Et.LiberationSansItalicWidths=Et.LiberationSansItalicMapping=Et.LiberationSansBoldWidths=Et.LiberationSansBoldMapping=Et.LiberationSansBoldItalicWidths=Et.LiberationSansBoldItalicMapping=void 0;const Rt=[365,0,333,278,333,474,556,556,889,722,238,333,333,389,584,278,333,278,278,556,556,556,556,556,556,556,556,556,556,333,333,584,584,584,611,975,722,722,722,722,667,611,778,722,278,556,722,611,833,722,778,667,778,722,667,611,722,667,944,667,667,611,333,278,333,584,556,333,556,611,556,611,556,333,611,611,278,278,556,278,889,611,611,611,611,389,556,333,611,556,778,556,556,500,389,280,389,584,333,556,556,556,556,280,556,333,737,370,556,584,737,552,400,549,333,333,333,576,556,278,333,333,365,556,834,834,834,611,722,722,722,722,722,722,1e3,722,667,667,667,667,278,278,278,278,722,722,778,778,778,778,778,584,778,722,722,722,722,667,667,611,556,556,556,556,556,556,889,556,556,556,556,556,278,278,278,278,611,611,611,611,611,611,611,549,611,611,611,611,611,556,611,556,722,556,722,556,722,556,722,556,722,556,722,556,722,556,722,719,722,611,667,556,667,556,667,556,667,556,667,556,778,611,778,611,778,611,778,611,722,611,722,611,278,278,278,278,278,278,278,278,278,278,785,556,556,278,722,556,556,611,278,611,278,611,385,611,479,611,278,722,611,722,611,722,611,708,723,611,778,611,778,611,778,611,1e3,944,722,389,722,389,722,389,667,556,667,556,667,556,667,556,611,333,611,479,611,333,722,611,722,611,722,611,722,611,722,611,722,611,944,778,667,556,667,611,500,611,500,611,500,278,556,722,556,1e3,889,778,611,667,556,611,333,333,333,333,333,333,333,333,333,333,333,465,722,333,853,906,474,825,927,838,278,722,722,601,719,667,611,722,778,278,722,667,833,722,644,778,722,667,600,611,667,821,667,809,802,278,667,615,451,611,278,582,615,610,556,606,475,460,611,541,278,558,556,612,556,445,611,766,619,520,684,446,582,715,576,753,845,278,582,611,582,845,667,669,885,567,711,667,278,276,556,1094,1062,875,610,722,622,719,722,719,722,567,712,667,904,626,719,719,610,702,833,722,778,719,667,722,611,622,854,667,730,703,1005,1019,870,979,719,711,1031,719,556,618,615,417,635,556,709,497,615,615,500,635,740,604,611,604,611,556,490,556,875,556,615,581,833,844,729,854,615,552,854,583,556,556,611,417,552,556,278,281,278,969,906,611,500,615,556,604,778,611,487,447,944,778,944,778,944,778,667,556,333,333,556,1e3,1e3,552,278,278,278,278,500,500,500,556,556,350,1e3,1e3,240,479,333,333,604,333,167,396,556,556,1094,556,885,489,1115,1e3,768,600,834,834,834,834,1e3,500,1e3,500,1e3,500,500,494,612,823,713,584,549,713,979,722,274,549,549,583,549,549,604,584,604,604,708,625,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,729,604,604,354,354,1e3,990,990,990,990,494,604,604,604,604,354,1021,1052,917,750,750,531,656,594,510,500,750,750,611,611,333,333,333,333,333,333,333,333,222,222,333,333,333,333,333,333,333,333];Et.LiberationSansBoldWidths=Rt;const wt=[-1,-1,-1,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,96,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,123,124,125,126,161,162,163,164,165,166,167,168,169,170,171,172,174,175,176,177,178,179,180,181,182,183,184,185,186,187,188,189,190,191,192,193,194,195,196,197,198,199,200,201,202,203,204,205,206,207,208,209,210,211,212,213,214,215,216,217,218,219,220,221,222,223,224,225,226,227,228,229,230,231,232,233,234,235,236,237,238,239,240,241,242,243,244,245,246,247,248,249,250,251,252,253,254,255,256,257,258,259,260,261,262,263,264,265,266,267,268,269,270,271,272,273,274,275,276,277,278,279,280,281,282,283,284,285,286,287,288,289,290,291,292,293,294,295,296,297,298,299,300,301,302,303,304,305,306,307,308,309,310,311,312,313,314,315,316,317,318,319,320,321,322,323,324,325,326,327,328,329,330,331,332,333,334,335,336,337,338,339,340,341,342,343,344,345,346,347,348,349,350,351,352,353,354,355,356,357,358,359,360,361,362,363,364,365,366,367,368,369,370,371,372,373,374,375,376,377,378,379,380,381,382,383,402,506,507,508,509,510,511,536,537,538,539,710,711,713,728,729,730,731,732,733,900,901,902,903,904,905,906,908,910,911,912,913,914,915,916,917,918,919,920,921,922,923,924,925,926,927,928,929,931,932,933,934,935,936,937,938,939,940,941,942,943,944,945,946,947,948,949,950,951,952,953,954,955,956,957,958,959,960,961,962,963,964,965,966,967,968,969,970,971,972,973,974,1024,1025,1026,1027,1028,1029,1030,1031,1032,1033,1034,1035,1036,1037,1038,1039,1040,1041,1042,1043,1044,1045,1046,1047,1048,1049,1050,1051,1052,1053,1054,1055,1056,1057,1058,1059,1060,1061,1062,1063,1064,1065,1066,1067,1068,1069,1070,1071,1072,1073,1074,1075,1076,1077,1078,1079,1080,1081,1082,1083,1084,1085,1086,1087,1088,1089,1090,1091,1092,1093,1094,1095,1096,1097,1098,1099,1100,1101,1102,1103,1104,1105,1106,1107,1108,1109,1110,1111,1112,1113,1114,1115,1116,1117,1118,1119,1138,1139,1168,1169,7808,7809,7810,7811,7812,7813,7922,7923,8208,8209,8211,8212,8213,8215,8216,8217,8218,8219,8220,8221,8222,8224,8225,8226,8230,8240,8242,8243,8249,8250,8252,8254,8260,8319,8355,8356,8359,8364,8453,8467,8470,8482,8486,8494,8539,8540,8541,8542,8592,8593,8594,8595,8596,8597,8616,8706,8710,8719,8721,8722,8730,8734,8735,8745,8747,8776,8800,8801,8804,8805,8962,8976,8992,8993,9472,9474,9484,9488,9492,9496,9500,9508,9516,9524,9532,9552,9553,9554,9555,9556,9557,9558,9559,9560,9561,9562,9563,9564,9565,9566,9567,9568,9569,9570,9571,9572,9573,9574,9575,9576,9577,9578,9579,9580,9600,9604,9608,9612,9616,9617,9618,9619,9632,9633,9642,9643,9644,9650,9658,9660,9668,9674,9675,9679,9688,9689,9702,9786,9787,9788,9792,9794,9824,9827,9829,9830,9834,9835,9836,61441,61442,61445,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1];Et.LiberationSansBoldMapping=wt;const _t=[365,0,333,278,333,474,556,556,889,722,238,333,333,389,584,278,333,278,278,556,556,556,556,556,556,556,556,556,556,333,333,584,584,584,611,975,722,722,722,722,667,611,778,722,278,556,722,611,833,722,778,667,778,722,667,611,722,667,944,667,667,611,333,278,333,584,556,333,556,611,556,611,556,333,611,611,278,278,556,278,889,611,611,611,611,389,556,333,611,556,778,556,556,500,389,280,389,584,333,556,556,556,556,280,556,333,737,370,556,584,737,552,400,549,333,333,333,576,556,278,333,333,365,556,834,834,834,611,722,722,722,722,722,722,1e3,722,667,667,667,667,278,278,278,278,722,722,778,778,778,778,778,584,778,722,722,722,722,667,667,611,556,556,556,556,556,556,889,556,556,556,556,556,278,278,278,278,611,611,611,611,611,611,611,549,611,611,611,611,611,556,611,556,722,556,722,556,722,556,722,556,722,556,722,556,722,556,722,740,722,611,667,556,667,556,667,556,667,556,667,556,778,611,778,611,778,611,778,611,722,611,722,611,278,278,278,278,278,278,278,278,278,278,782,556,556,278,722,556,556,611,278,611,278,611,396,611,479,611,278,722,611,722,611,722,611,708,723,611,778,611,778,611,778,611,1e3,944,722,389,722,389,722,389,667,556,667,556,667,556,667,556,611,333,611,479,611,333,722,611,722,611,722,611,722,611,722,611,722,611,944,778,667,556,667,611,500,611,500,611,500,278,556,722,556,1e3,889,778,611,667,556,611,333,333,333,333,333,333,333,333,333,333,333,333,722,333,854,906,473,844,930,847,278,722,722,610,671,667,611,722,778,278,722,667,833,722,657,778,718,667,590,611,667,822,667,829,781,278,667,620,479,611,278,591,620,621,556,610,479,492,611,558,278,566,556,603,556,450,611,712,605,532,664,409,591,704,578,773,834,278,591,611,591,834,667,667,886,614,719,667,278,278,556,1094,1042,854,622,719,677,719,722,708,722,614,722,667,927,643,719,719,615,687,833,722,778,719,667,722,611,677,781,667,729,708,979,989,854,1e3,708,719,1042,729,556,619,604,534,618,556,736,510,611,611,507,622,740,604,611,611,611,556,889,556,885,556,646,583,889,935,707,854,594,552,865,589,556,556,611,469,563,556,278,278,278,969,906,611,507,619,556,611,778,611,575,467,944,778,944,778,944,778,667,556,333,333,556,1e3,1e3,552,278,278,278,278,500,500,500,556,556,350,1e3,1e3,240,479,333,333,604,333,167,396,556,556,1104,556,885,516,1146,1e3,768,600,834,834,834,834,999,500,1e3,500,1e3,500,500,494,612,823,713,584,549,713,979,722,274,549,549,583,549,549,604,584,604,604,708,625,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,729,604,604,354,354,1e3,990,990,990,990,494,604,604,604,604,354,1021,1052,917,750,750,531,656,594,510,500,750,750,611,611,333,333,333,333,333,333,333,333,222,222,333,333,333,333,333,333,333,333];Et.LiberationSansBoldItalicWidths=_t;const Pt=[-1,-1,-1,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,96,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,123,124,125,126,161,162,163,164,165,166,167,168,169,170,171,172,174,175,176,177,178,179,180,181,182,183,184,185,186,187,188,189,190,191,192,193,194,195,196,197,198,199,200,201,202,203,204,205,206,207,208,209,210,211,212,213,214,215,216,217,218,219,220,221,222,223,224,225,226,227,228,229,230,231,232,233,234,235,236,237,238,239,240,241,242,243,244,245,246,247,248,249,250,251,252,253,254,255,256,257,258,259,260,261,262,263,264,265,266,267,268,269,270,271,272,273,274,275,276,277,278,279,280,281,282,283,284,285,286,287,288,289,290,291,292,293,294,295,296,297,298,299,300,301,302,303,304,305,306,307,308,309,310,311,312,313,314,315,316,317,318,319,320,321,322,323,324,325,326,327,328,329,330,331,332,333,334,335,336,337,338,339,340,341,342,343,344,345,346,347,348,349,350,351,352,353,354,355,356,357,358,359,360,361,362,363,364,365,366,367,368,369,370,371,372,373,374,375,376,377,378,379,380,381,382,383,402,506,507,508,509,510,511,536,537,538,539,710,711,713,728,729,730,731,732,733,900,901,902,903,904,905,906,908,910,911,912,913,914,915,916,917,918,919,920,921,922,923,924,925,926,927,928,929,931,932,933,934,935,936,937,938,939,940,941,942,943,944,945,946,947,948,949,950,951,952,953,954,955,956,957,958,959,960,961,962,963,964,965,966,967,968,969,970,971,972,973,974,1024,1025,1026,1027,1028,1029,1030,1031,1032,1033,1034,1035,1036,1037,1038,1039,1040,1041,1042,1043,1044,1045,1046,1047,1048,1049,1050,1051,1052,1053,1054,1055,1056,1057,1058,1059,1060,1061,1062,1063,1064,1065,1066,1067,1068,1069,1070,1071,1072,1073,1074,1075,1076,1077,1078,1079,1080,1081,1082,1083,1084,1085,1086,1087,1088,1089,1090,1091,1092,1093,1094,1095,1096,1097,1098,1099,1100,1101,1102,1103,1104,1105,1106,1107,1108,1109,1110,1111,1112,1113,1114,1115,1116,1117,1118,1119,1138,1139,1168,1169,7808,7809,7810,7811,7812,7813,7922,7923,8208,8209,8211,8212,8213,8215,8216,8217,8218,8219,8220,8221,8222,8224,8225,8226,8230,8240,8242,8243,8249,8250,8252,8254,8260,8319,8355,8356,8359,8364,8453,8467,8470,8482,8486,8494,8539,8540,8541,8542,8592,8593,8594,8595,8596,8597,8616,8706,8710,8719,8721,8722,8730,8734,8735,8745,8747,8776,8800,8801,8804,8805,8962,8976,8992,8993,9472,9474,9484,9488,9492,9496,9500,9508,9516,9524,9532,9552,9553,9554,9555,9556,9557,9558,9559,9560,9561,9562,9563,9564,9565,9566,9567,9568,9569,9570,9571,9572,9573,9574,9575,9576,9577,9578,9579,9580,9600,9604,9608,9612,9616,9617,9618,9619,9632,9633,9642,9643,9644,9650,9658,9660,9668,9674,9675,9679,9688,9689,9702,9786,9787,9788,9792,9794,9824,9827,9829,9830,9834,9835,9836,61441,61442,61445,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1];Et.LiberationSansBoldItalicMapping=Pt;const _e=[365,0,333,278,278,355,556,556,889,667,191,333,333,389,584,278,333,278,278,556,556,556,556,556,556,556,556,556,556,278,278,584,584,584,556,1015,667,667,722,722,667,611,778,722,278,500,667,556,833,722,778,667,778,722,667,611,722,667,944,667,667,611,278,278,278,469,556,333,556,556,500,556,556,278,556,556,222,222,500,222,833,556,556,556,556,333,500,278,556,500,722,500,500,500,334,260,334,584,333,556,556,556,556,260,556,333,737,370,556,584,737,552,400,549,333,333,333,576,537,278,333,333,365,556,834,834,834,611,667,667,667,667,667,667,1e3,722,667,667,667,667,278,278,278,278,722,722,778,778,778,778,778,584,778,722,722,722,722,667,667,611,556,556,556,556,556,556,889,500,556,556,556,556,278,278,278,278,556,556,556,556,556,556,556,549,611,556,556,556,556,500,556,500,667,556,667,556,667,556,722,500,722,500,722,500,722,500,722,625,722,556,667,556,667,556,667,556,667,556,667,556,778,556,778,556,778,556,778,556,722,556,722,556,278,278,278,278,278,278,278,222,278,278,733,444,500,222,667,500,500,556,222,556,222,556,281,556,400,556,222,722,556,722,556,722,556,615,723,556,778,556,778,556,778,556,1e3,944,722,333,722,333,722,333,667,500,667,500,667,500,667,500,611,278,611,354,611,278,722,556,722,556,722,556,722,556,722,556,722,556,944,722,667,500,667,611,500,611,500,611,500,222,556,667,556,1e3,889,778,611,667,500,611,278,333,333,333,333,333,333,333,333,333,333,333,667,278,789,846,389,794,865,775,222,667,667,570,671,667,611,722,778,278,667,667,833,722,648,778,725,667,600,611,667,837,667,831,761,278,667,570,439,555,222,550,570,571,500,556,439,463,555,542,222,500,492,548,500,447,556,670,573,486,603,374,550,652,546,728,779,222,550,556,550,779,667,667,843,544,708,667,278,278,500,1066,982,844,589,715,639,724,667,651,667,544,704,667,917,614,715,715,589,686,833,722,778,725,667,722,611,639,795,667,727,673,920,923,805,886,651,694,1022,682,556,562,522,493,553,556,688,465,556,556,472,564,686,550,556,556,556,500,833,500,835,500,572,518,830,851,621,736,526,492,752,534,556,556,556,378,496,500,222,222,222,910,828,556,472,565,500,556,778,556,492,339,944,722,944,722,944,722,667,500,333,333,556,1e3,1e3,552,222,222,222,222,333,333,333,556,556,350,1e3,1e3,188,354,333,333,500,333,167,365,556,556,1094,556,885,323,1083,1e3,768,600,834,834,834,834,1e3,500,998,500,1e3,500,500,494,612,823,713,584,549,713,979,719,274,549,549,584,549,549,604,584,604,604,708,625,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,729,604,604,354,354,1e3,990,990,990,990,494,604,604,604,604,354,1021,1052,917,750,750,531,656,594,510,500,750,750,500,500,333,333,333,333,333,333,333,333,222,222,294,294,324,324,316,328,398,285];Et.LiberationSansItalicWidths=_e;const bt=[-1,-1,-1,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,96,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,123,124,125,126,161,162,163,164,165,166,167,168,169,170,171,172,174,175,176,177,178,179,180,181,182,183,184,185,186,187,188,189,190,191,192,193,194,195,196,197,198,199,200,201,202,203,204,205,206,207,208,209,210,211,212,213,214,215,216,217,218,219,220,221,222,223,224,225,226,227,228,229,230,231,232,233,234,235,236,237,238,239,240,241,242,243,244,245,246,247,248,249,250,251,252,253,254,255,256,257,258,259,260,261,262,263,264,265,266,267,268,269,270,271,272,273,274,275,276,277,278,279,280,281,282,283,284,285,286,287,288,289,290,291,292,293,294,295,296,297,298,299,300,301,302,303,304,305,306,307,308,309,310,311,312,313,314,315,316,317,318,319,320,321,322,323,324,325,326,327,328,329,330,331,332,333,334,335,336,337,338,339,340,341,342,343,344,345,346,347,348,349,350,351,352,353,354,355,356,357,358,359,360,361,362,363,364,365,366,367,368,369,370,371,372,373,374,375,376,377,378,379,380,381,382,383,402,506,507,508,509,510,511,536,537,538,539,710,711,713,728,729,730,731,732,733,900,901,902,903,904,905,906,908,910,911,912,913,914,915,916,917,918,919,920,921,922,923,924,925,926,927,928,929,931,932,933,934,935,936,937,938,939,940,941,942,943,944,945,946,947,948,949,950,951,952,953,954,955,956,957,958,959,960,961,962,963,964,965,966,967,968,969,970,971,972,973,974,1024,1025,1026,1027,1028,1029,1030,1031,1032,1033,1034,1035,1036,1037,1038,1039,1040,1041,1042,1043,1044,1045,1046,1047,1048,1049,1050,1051,1052,1053,1054,1055,1056,1057,1058,1059,1060,1061,1062,1063,1064,1065,1066,1067,1068,1069,1070,1071,1072,1073,1074,1075,1076,1077,1078,1079,1080,1081,1082,1083,1084,1085,1086,1087,1088,1089,1090,1091,1092,1093,1094,1095,1096,1097,1098,1099,1100,1101,1102,1103,1104,1105,1106,1107,1108,1109,1110,1111,1112,1113,1114,1115,1116,1117,1118,1119,1138,1139,1168,1169,7808,7809,7810,7811,7812,7813,7922,7923,8208,8209,8211,8212,8213,8215,8216,8217,8218,8219,8220,8221,8222,8224,8225,8226,8230,8240,8242,8243,8249,8250,8252,8254,8260,8319,8355,8356,8359,8364,8453,8467,8470,8482,8486,8494,8539,8540,8541,8542,8592,8593,8594,8595,8596,8597,8616,8706,8710,8719,8721,8722,8730,8734,8735,8745,8747,8776,8800,8801,8804,8805,8962,8976,8992,8993,9472,9474,9484,9488,9492,9496,9500,9508,9516,9524,9532,9552,9553,9554,9555,9556,9557,9558,9559,9560,9561,9562,9563,9564,9565,9566,9567,9568,9569,9570,9571,9572,9573,9574,9575,9576,9577,9578,9579,9580,9600,9604,9608,9612,9616,9617,9618,9619,9632,9633,9642,9643,9644,9650,9658,9660,9668,9674,9675,9679,9688,9689,9702,9786,9787,9788,9792,9794,9824,9827,9829,9830,9834,9835,9836,61441,61442,61445,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1];Et.LiberationSansItalicMapping=bt;const Ft=[365,0,333,278,278,355,556,556,889,667,191,333,333,389,584,278,333,278,278,556,556,556,556,556,556,556,556,556,556,278,278,584,584,584,556,1015,667,667,722,722,667,611,778,722,278,500,667,556,833,722,778,667,778,722,667,611,722,667,944,667,667,611,278,278,278,469,556,333,556,556,500,556,556,278,556,556,222,222,500,222,833,556,556,556,556,333,500,278,556,500,722,500,500,500,334,260,334,584,333,556,556,556,556,260,556,333,737,370,556,584,737,552,400,549,333,333,333,576,537,278,333,333,365,556,834,834,834,611,667,667,667,667,667,667,1e3,722,667,667,667,667,278,278,278,278,722,722,778,778,778,778,778,584,778,722,722,722,722,667,667,611,556,556,556,556,556,556,889,500,556,556,556,556,278,278,278,278,556,556,556,556,556,556,556,549,611,556,556,556,556,500,556,500,667,556,667,556,667,556,722,500,722,500,722,500,722,500,722,615,722,556,667,556,667,556,667,556,667,556,667,556,778,556,778,556,778,556,778,556,722,556,722,556,278,278,278,278,278,278,278,222,278,278,735,444,500,222,667,500,500,556,222,556,222,556,292,556,334,556,222,722,556,722,556,722,556,604,723,556,778,556,778,556,778,556,1e3,944,722,333,722,333,722,333,667,500,667,500,667,500,667,500,611,278,611,375,611,278,722,556,722,556,722,556,722,556,722,556,722,556,944,722,667,500,667,611,500,611,500,611,500,222,556,667,556,1e3,889,778,611,667,500,611,278,333,333,333,333,333,333,333,333,333,333,333,667,278,784,838,384,774,855,752,222,667,667,551,668,667,611,722,778,278,667,668,833,722,650,778,722,667,618,611,667,798,667,835,748,278,667,578,446,556,222,547,578,575,500,557,446,441,556,556,222,500,500,576,500,448,556,690,569,482,617,395,547,648,525,713,781,222,547,556,547,781,667,667,865,542,719,667,278,278,500,1057,1010,854,583,722,635,719,667,656,667,542,677,667,923,604,719,719,583,656,833,722,778,719,667,722,611,635,760,667,740,667,917,938,792,885,656,719,1010,722,556,573,531,365,583,556,669,458,559,559,438,583,688,552,556,542,556,500,458,500,823,500,573,521,802,823,625,719,521,510,750,542,556,556,556,365,510,500,222,278,222,906,812,556,438,559,500,552,778,556,489,411,944,722,944,722,944,722,667,500,333,333,556,1e3,1e3,552,222,222,222,222,333,333,333,556,556,350,1e3,1e3,188,354,333,333,500,333,167,365,556,556,1094,556,885,323,1073,1e3,768,600,834,834,834,834,1e3,500,1e3,500,1e3,500,500,494,612,823,713,584,549,713,979,719,274,549,549,583,549,549,604,584,604,604,708,625,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,729,604,604,354,354,1e3,990,990,990,990,494,604,604,604,604,354,1021,1052,917,750,750,531,656,594,510,500,750,750,500,500,333,333,333,333,333,333,333,333,222,222,294,294,324,324,316,328,398,285];Et.LiberationSansRegularWidths=Ft;const Xt=[-1,-1,-1,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,96,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,123,124,125,126,161,162,163,164,165,166,167,168,169,170,171,172,174,175,176,177,178,179,180,181,182,183,184,185,186,187,188,189,190,191,192,193,194,195,196,197,198,199,200,201,202,203,204,205,206,207,208,209,210,211,212,213,214,215,216,217,218,219,220,221,222,223,224,225,226,227,228,229,230,231,232,233,234,235,236,237,238,239,240,241,242,243,244,245,246,247,248,249,250,251,252,253,254,255,256,257,258,259,260,261,262,263,264,265,266,267,268,269,270,271,272,273,274,275,276,277,278,279,280,281,282,283,284,285,286,287,288,289,290,291,292,293,294,295,296,297,298,299,300,301,302,303,304,305,306,307,308,309,310,311,312,313,314,315,316,317,318,319,320,321,322,323,324,325,326,327,328,329,330,331,332,333,334,335,336,337,338,339,340,341,342,343,344,345,346,347,348,349,350,351,352,353,354,355,356,357,358,359,360,361,362,363,364,365,366,367,368,369,370,371,372,373,374,375,376,377,378,379,380,381,382,383,402,506,507,508,509,510,511,536,537,538,539,710,711,713,728,729,730,731,732,733,900,901,902,903,904,905,906,908,910,911,912,913,914,915,916,917,918,919,920,921,922,923,924,925,926,927,928,929,931,932,933,934,935,936,937,938,939,940,941,942,943,944,945,946,947,948,949,950,951,952,953,954,955,956,957,958,959,960,961,962,963,964,965,966,967,968,969,970,971,972,973,974,1024,1025,1026,1027,1028,1029,1030,1031,1032,1033,1034,1035,1036,1037,1038,1039,1040,1041,1042,1043,1044,1045,1046,1047,1048,1049,1050,1051,1052,1053,1054,1055,1056,1057,1058,1059,1060,1061,1062,1063,1064,1065,1066,1067,1068,1069,1070,1071,1072,1073,1074,1075,1076,1077,1078,1079,1080,1081,1082,1083,1084,1085,1086,1087,1088,1089,1090,1091,1092,1093,1094,1095,1096,1097,1098,1099,1100,1101,1102,1103,1104,1105,1106,1107,1108,1109,1110,1111,1112,1113,1114,1115,1116,1117,1118,1119,1138,1139,1168,1169,7808,7809,7810,7811,7812,7813,7922,7923,8208,8209,8211,8212,8213,8215,8216,8217,8218,8219,8220,8221,8222,8224,8225,8226,8230,8240,8242,8243,8249,8250,8252,8254,8260,8319,8355,8356,8359,8364,8453,8467,8470,8482,8486,8494,8539,8540,8541,8542,8592,8593,8594,8595,8596,8597,8616,8706,8710,8719,8721,8722,8730,8734,8735,8745,8747,8776,8800,8801,8804,8805,8962,8976,8992,8993,9472,9474,9484,9488,9492,9496,9500,9508,9516,9524,9532,9552,9553,9554,9555,9556,9557,9558,9559,9560,9561,9562,9563,9564,9565,9566,9567,9568,9569,9570,9571,9572,9573,9574,9575,9576,9577,9578,9579,9580,9600,9604,9608,9612,9616,9617,9618,9619,9632,9633,9642,9643,9644,9650,9658,9660,9668,9674,9675,9679,9688,9689,9702,9786,9787,9788,9792,9794,9824,9827,9829,9830,9834,9835,9836,61441,61442,61445,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1];Et.LiberationSansRegularMapping=Xt},(kt,Et)=>{Object.defineProperty(Et,"__esModule",{value:!0}),Et.MyriadProRegularMetrics=Et.MyriadProRegularFactors=Et.MyriadProItalicMetrics=Et.MyriadProItalicFactors=Et.MyriadProBoldMetrics=Et.MyriadProBoldItalicMetrics=Et.MyriadProBoldItalicFactors=Et.MyriadProBoldFactors=void 0;const Rt=[1.36898,1,1,.72706,.80479,.83734,.98894,.99793,.9897,.93884,.86209,.94292,.94292,1.16661,1.02058,.93582,.96694,.93582,1.19137,.99793,.99793,.99793,.99793,.99793,.99793,.99793,.99793,.99793,.99793,.78076,.78076,1.02058,1.02058,1.02058,.72851,.78966,.90838,.83637,.82391,.96376,.80061,.86275,.8768,.95407,1.0258,.73901,.85022,.83655,1.0156,.95546,.92179,.87107,.92179,.82114,.8096,.89713,.94438,.95353,.94083,.91905,.90406,.9446,.94292,1.18777,.94292,1.02058,.89903,.90088,.94938,.97898,.81093,.97571,.94938,1.024,.9577,.95933,.98621,1.0474,.97455,.98981,.9672,.95933,.9446,.97898,.97407,.97646,.78036,1.10208,.95442,.95298,.97579,.9332,.94039,.938,.80687,1.01149,.80687,1.02058,.80479,.99793,.99793,.99793,.99793,1.01149,1.00872,.90088,.91882,1.0213,.8361,1.02058,.62295,.54324,.89022,1.08595,1,1,.90088,1,.97455,.93582,.90088,1,1.05686,.8361,.99642,.99642,.99642,.72851,.90838,.90838,.90838,.90838,.90838,.90838,.868,.82391,.80061,.80061,.80061,.80061,1.0258,1.0258,1.0258,1.0258,.97484,.95546,.92179,.92179,.92179,.92179,.92179,1.02058,.92179,.94438,.94438,.94438,.94438,.90406,.86958,.98225,.94938,.94938,.94938,.94938,.94938,.94938,.9031,.81093,.94938,.94938,.94938,.94938,.98621,.98621,.98621,.98621,.93969,.95933,.9446,.9446,.9446,.9446,.9446,1.08595,.9446,.95442,.95442,.95442,.95442,.94039,.97898,.94039,.90838,.94938,.90838,.94938,.90838,.94938,.82391,.81093,.82391,.81093,.82391,.81093,.82391,.81093,.96376,.84313,.97484,.97571,.80061,.94938,.80061,.94938,.80061,.94938,.80061,.94938,.80061,.94938,.8768,.9577,.8768,.9577,.8768,.9577,1,1,.95407,.95933,.97069,.95933,1.0258,.98621,1.0258,.98621,1.0258,.98621,1.0258,.98621,1.0258,.98621,.887,1.01591,.73901,1.0474,1,1,.97455,.83655,.98981,1,1,.83655,.73977,.83655,.73903,.84638,1.033,.95546,.95933,1,1,.95546,.95933,.8271,.95417,.95933,.92179,.9446,.92179,.9446,.92179,.9446,.936,.91964,.82114,.97646,1,1,.82114,.97646,.8096,.78036,.8096,.78036,1,1,.8096,.78036,1,1,.89713,.77452,.89713,1.10208,.94438,.95442,.94438,.95442,.94438,.95442,.94438,.95442,.94438,.95442,.94438,.95442,.94083,.97579,.90406,.94039,.90406,.9446,.938,.9446,.938,.9446,.938,1,.99793,.90838,.94938,.868,.9031,.92179,.9446,1,1,.89713,1.10208,.90088,.90088,.90088,.90088,.90088,.90088,.90088,.90088,.90088,.90989,.9358,.91945,.83181,.75261,.87992,.82976,.96034,.83689,.97268,1.0078,.90838,.83637,.8019,.90157,.80061,.9446,.95407,.92436,1.0258,.85022,.97153,1.0156,.95546,.89192,.92179,.92361,.87107,.96318,.89713,.93704,.95638,.91905,.91709,.92796,1.0258,.93704,.94836,1.0373,.95933,1.0078,.95871,.94836,.96174,.92601,.9498,.98607,.95776,.95933,1.05453,1.0078,.98275,.9314,.95617,.91701,1.05993,.9446,.78367,.9553,1,.86832,1.0128,.95871,.99394,.87548,.96361,.86774,1.0078,.95871,.9446,.95871,.86774,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,.94083,.97579,.94083,.97579,.94083,.97579,.90406,.94039,.96694,1,.89903,1,1,1,.93582,.93582,.93582,1,.908,.908,.918,.94219,.94219,.96544,1,1.285,1,1,.81079,.81079,1,1,.74854,1,1,1,1,.99793,1,1,1,.65,1,1.36145,1,1,1,1,1,1,1,1,1,1,1,1.17173,1,.80535,.76169,1.02058,1.0732,1.05486,1,1,1.30692,1.08595,1.08595,1,1.08595,1.08595,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1.16161,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1];Et.MyriadProBoldFactors=Rt;const wt={lineHeight:1.2,lineGap:.2};Et.MyriadProBoldMetrics=wt;const _t=[1.36898,1,1,.66227,.80779,.81625,.97276,.97276,.97733,.92222,.83266,.94292,.94292,1.16148,1.02058,.93582,.96694,.93582,1.17337,.97276,.97276,.97276,.97276,.97276,.97276,.97276,.97276,.97276,.97276,.78076,.78076,1.02058,1.02058,1.02058,.71541,.76813,.85576,.80591,.80729,.94299,.77512,.83655,.86523,.92222,.98621,.71743,.81698,.79726,.98558,.92222,.90637,.83809,.90637,.80729,.76463,.86275,.90699,.91605,.9154,.85308,.85458,.90531,.94292,1.21296,.94292,1.02058,.89903,1.18616,.99613,.91677,.78216,.91677,.90083,.98796,.9135,.92168,.95381,.98981,.95298,.95381,.93459,.92168,.91513,.92004,.91677,.95077,.748,1.04502,.91677,.92061,.94236,.89544,.89364,.9,.80687,.8578,.80687,1.02058,.80779,.97276,.97276,.97276,.97276,.8578,.99973,1.18616,.91339,1.08074,.82891,1.02058,.55509,.71526,.89022,1.08595,1,1,1.18616,1,.96736,.93582,1.18616,1,1.04864,.82711,.99043,.99043,.99043,.71541,.85576,.85576,.85576,.85576,.85576,.85576,.845,.80729,.77512,.77512,.77512,.77512,.98621,.98621,.98621,.98621,.95961,.92222,.90637,.90637,.90637,.90637,.90637,1.02058,.90251,.90699,.90699,.90699,.90699,.85458,.83659,.94951,.99613,.99613,.99613,.99613,.99613,.99613,.85811,.78216,.90083,.90083,.90083,.90083,.95381,.95381,.95381,.95381,.9135,.92168,.91513,.91513,.91513,.91513,.91513,1.08595,.91677,.91677,.91677,.91677,.91677,.89364,.92332,.89364,.85576,.99613,.85576,.99613,.85576,.99613,.80729,.78216,.80729,.78216,.80729,.78216,.80729,.78216,.94299,.76783,.95961,.91677,.77512,.90083,.77512,.90083,.77512,.90083,.77512,.90083,.77512,.90083,.86523,.9135,.86523,.9135,.86523,.9135,1,1,.92222,.92168,.92222,.92168,.98621,.95381,.98621,.95381,.98621,.95381,.98621,.95381,.98621,.95381,.86036,.97096,.71743,.98981,1,1,.95298,.79726,.95381,1,1,.79726,.6894,.79726,.74321,.81691,1.0006,.92222,.92168,1,1,.92222,.92168,.79464,.92098,.92168,.90637,.91513,.90637,.91513,.90637,.91513,.909,.87514,.80729,.95077,1,1,.80729,.95077,.76463,.748,.76463,.748,1,1,.76463,.748,1,1,.86275,.72651,.86275,1.04502,.90699,.91677,.90699,.91677,.90699,.91677,.90699,.91677,.90699,.91677,.90699,.91677,.9154,.94236,.85458,.89364,.85458,.90531,.9,.90531,.9,.90531,.9,1,.97276,.85576,.99613,.845,.85811,.90251,.91677,1,1,.86275,1.04502,1.18616,1.18616,1.18616,1.18616,1.18616,1.18616,1.18616,1.18616,1.18616,1.00899,1.30628,.85576,.80178,.66862,.7927,.69323,.88127,.72459,.89711,.95381,.85576,.80591,.7805,.94729,.77512,.90531,.92222,.90637,.98621,.81698,.92655,.98558,.92222,.85359,.90637,.90976,.83809,.94523,.86275,.83509,.93157,.85308,.83392,.92346,.98621,.83509,.92886,.91324,.92168,.95381,.90646,.92886,.90557,.86847,.90276,.91324,.86842,.92168,.99531,.95381,.9224,.85408,.92699,.86847,1.0051,.91513,.80487,.93481,1,.88159,1.05214,.90646,.97355,.81539,.89398,.85923,.95381,.90646,.91513,.90646,.85923,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,.9154,.94236,.9154,.94236,.9154,.94236,.85458,.89364,.96694,1,.89903,1,1,1,.91782,.91782,.91782,1,.896,.896,.896,.9332,.9332,.95973,1,1.26,1,1,.80479,.80178,1,1,.85633,1,1,1,1,.97276,1,1,1,.698,1,1.36145,1,1,1,1,1,1,1,1,1,1,1,1.14542,1,.79199,.78694,1.02058,1.03493,1.05486,1,1,1.23026,1.08595,1.08595,1,1.08595,1.08595,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1.20006,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1];Et.MyriadProBoldItalicFactors=_t;const Pt={lineHeight:1.2,lineGap:.2};Et.MyriadProBoldItalicMetrics=Pt;const _e=[1.36898,1,1,.65507,.84943,.85639,.88465,.88465,.86936,.88307,.86948,.85283,.85283,1.06383,1.02058,.75945,.9219,.75945,1.17337,.88465,.88465,.88465,.88465,.88465,.88465,.88465,.88465,.88465,.88465,.75945,.75945,1.02058,1.02058,1.02058,.69046,.70926,.85158,.77812,.76852,.89591,.70466,.76125,.80094,.86822,.83864,.728,.77212,.79475,.93637,.87514,.8588,.76013,.8588,.72421,.69866,.77598,.85991,.80811,.87832,.78112,.77512,.8562,1.0222,1.18417,1.0222,1.27014,.89903,1.15012,.93859,.94399,.846,.94399,.81453,1.0186,.94219,.96017,1.03075,1.02175,.912,1.03075,.96998,.96017,.93859,.94399,.94399,.95493,.746,1.12658,.94578,.91,.979,.882,.882,.83,.85034,.83537,.85034,1.02058,.70869,.88465,.88465,.88465,.88465,.83537,.90083,1.15012,.9161,.94565,.73541,1.02058,.53609,.69353,.79519,1.08595,1,1,1.15012,1,.91974,.75945,1.15012,1,.9446,.73361,.9005,.9005,.9005,.62864,.85158,.85158,.85158,.85158,.85158,.85158,.773,.76852,.70466,.70466,.70466,.70466,.83864,.83864,.83864,.83864,.90561,.87514,.8588,.8588,.8588,.8588,.8588,1.02058,.85751,.85991,.85991,.85991,.85991,.77512,.76013,.88075,.93859,.93859,.93859,.93859,.93859,.93859,.8075,.846,.81453,.81453,.81453,.81453,.82424,.82424,.82424,.82424,.9278,.96017,.93859,.93859,.93859,.93859,.93859,1.08595,.8562,.94578,.94578,.94578,.94578,.882,.94578,.882,.85158,.93859,.85158,.93859,.85158,.93859,.76852,.846,.76852,.846,.76852,.846,.76852,.846,.89591,.8544,.90561,.94399,.70466,.81453,.70466,.81453,.70466,.81453,.70466,.81453,.70466,.81453,.80094,.94219,.80094,.94219,.80094,.94219,1,1,.86822,.96017,.86822,.96017,.83864,.82424,.83864,.82424,.83864,.82424,.83864,1.03075,.83864,.82424,.81402,1.02738,.728,1.02175,1,1,.912,.79475,1.03075,1,1,.79475,.83911,.79475,.66266,.80553,1.06676,.87514,.96017,1,1,.87514,.96017,.86865,.87396,.96017,.8588,.93859,.8588,.93859,.8588,.93859,.867,.84759,.72421,.95493,1,1,.72421,.95493,.69866,.746,.69866,.746,1,1,.69866,.746,1,1,.77598,.88417,.77598,1.12658,.85991,.94578,.85991,.94578,.85991,.94578,.85991,.94578,.85991,.94578,.85991,.94578,.87832,.979,.77512,.882,.77512,.8562,.83,.8562,.83,.8562,.83,1,.88465,.85158,.93859,.773,.8075,.85751,.8562,1,1,.77598,1.12658,1.15012,1.15012,1.15012,1.15012,1.15012,1.15313,1.15012,1.15012,1.15012,1.08106,1.03901,.85158,.77025,.62264,.7646,.65351,.86026,.69461,.89947,1.03075,.85158,.77812,.76449,.88836,.70466,.8562,.86822,.8588,.83864,.77212,.85308,.93637,.87514,.82352,.8588,.85701,.76013,.89058,.77598,.8156,.82565,.78112,.77899,.89386,.83864,.8156,.9486,.92388,.96186,1.03075,.91123,.9486,.93298,.878,.93942,.92388,.84596,.96186,.95119,1.03075,.922,.88787,.95829,.88,.93559,.93859,.78815,.93758,1,.89217,1.03737,.91123,.93969,.77487,.85769,.86799,1.03075,.91123,.93859,.91123,.86799,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,.87832,.979,.87832,.979,.87832,.979,.77512,.882,.9219,1,.89903,1,1,1,.87321,.87321,.87321,1,1.027,1.027,1.027,.86847,.86847,.79121,1,1.124,1,1,.73572,.73572,1,1,.85034,1,1,1,1,.88465,1,1,1,.669,1,1.36145,1,1,1,1,1,1,1,1,1,1,1,1.04828,1,.74948,.75187,1.02058,.98391,1.02119,1,1,1.06233,1.08595,1.08595,1,1.08595,1.08595,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1.05233,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1];Et.MyriadProItalicFactors=_e;const bt={lineHeight:1.2,lineGap:.2};Et.MyriadProItalicMetrics=bt;const Ft=[1.36898,1,1,.76305,.82784,.94935,.89364,.92241,.89073,.90706,.98472,.85283,.85283,1.0664,1.02058,.74505,.9219,.74505,1.23456,.92241,.92241,.92241,.92241,.92241,.92241,.92241,.92241,.92241,.92241,.74505,.74505,1.02058,1.02058,1.02058,.73002,.72601,.91755,.8126,.80314,.92222,.73764,.79726,.83051,.90284,.86023,.74,.8126,.84869,.96518,.91115,.8858,.79761,.8858,.74498,.73914,.81363,.89591,.83659,.89633,.85608,.8111,.90531,1.0222,1.22736,1.0222,1.27014,.89903,.90088,.86667,1.0231,.896,1.01411,.90083,1.05099,1.00512,.99793,1.05326,1.09377,.938,1.06226,1.00119,.99793,.98714,1.0231,1.01231,.98196,.792,1.19137,.99074,.962,1.01915,.926,.942,.856,.85034,.92006,.85034,1.02058,.69067,.92241,.92241,.92241,.92241,.92006,.9332,.90088,.91882,.93484,.75339,1.02058,.56866,.54324,.79519,1.08595,1,1,.90088,1,.95325,.74505,.90088,1,.97198,.75339,.91009,.91009,.91009,.66466,.91755,.91755,.91755,.91755,.91755,.91755,.788,.80314,.73764,.73764,.73764,.73764,.86023,.86023,.86023,.86023,.92915,.91115,.8858,.8858,.8858,.8858,.8858,1.02058,.8858,.89591,.89591,.89591,.89591,.8111,.79611,.89713,.86667,.86667,.86667,.86667,.86667,.86667,.86936,.896,.90083,.90083,.90083,.90083,.84224,.84224,.84224,.84224,.97276,.99793,.98714,.98714,.98714,.98714,.98714,1.08595,.89876,.99074,.99074,.99074,.99074,.942,1.0231,.942,.91755,.86667,.91755,.86667,.91755,.86667,.80314,.896,.80314,.896,.80314,.896,.80314,.896,.92222,.93372,.92915,1.01411,.73764,.90083,.73764,.90083,.73764,.90083,.73764,.90083,.73764,.90083,.83051,1.00512,.83051,1.00512,.83051,1.00512,1,1,.90284,.99793,.90976,.99793,.86023,.84224,.86023,.84224,.86023,.84224,.86023,1.05326,.86023,.84224,.82873,1.07469,.74,1.09377,1,1,.938,.84869,1.06226,1,1,.84869,.83704,.84869,.81441,.85588,1.08927,.91115,.99793,1,1,.91115,.99793,.91887,.90991,.99793,.8858,.98714,.8858,.98714,.8858,.98714,.894,.91434,.74498,.98196,1,1,.74498,.98196,.73914,.792,.73914,.792,1,1,.73914,.792,1,1,.81363,.904,.81363,1.19137,.89591,.99074,.89591,.99074,.89591,.99074,.89591,.99074,.89591,.99074,.89591,.99074,.89633,1.01915,.8111,.942,.8111,.90531,.856,.90531,.856,.90531,.856,1,.92241,.91755,.86667,.788,.86936,.8858,.89876,1,1,.81363,1.19137,.90088,.90088,.90088,.90088,.90088,.90088,.90088,.90088,.90088,.90388,1.03901,.92138,.78105,.7154,.86169,.80513,.94007,.82528,.98612,1.06226,.91755,.8126,.81884,.92819,.73764,.90531,.90284,.8858,.86023,.8126,.91172,.96518,.91115,.83089,.8858,.87791,.79761,.89297,.81363,.88157,.89992,.85608,.81992,.94307,.86023,.88157,.95308,.98699,.99793,1.06226,.95817,.95308,.97358,.928,.98088,.98699,.92761,.99793,.96017,1.06226,.986,.944,.95978,.938,.96705,.98714,.80442,.98972,1,.89762,1.04552,.95817,.99007,.87064,.91879,.88888,1.06226,.95817,.98714,.95817,.88888,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,.89633,1.01915,.89633,1.01915,.89633,1.01915,.8111,.942,.9219,1,.89903,1,1,1,.93173,.93173,.93173,1,1.06304,1.06304,1.06904,.89903,.89903,.80549,1,1.156,1,1,.76575,.76575,1,1,.72458,1,1,1,1,.92241,1,1,1,.619,1,1.36145,1,1,1,1,1,1,1,1,1,1,1,1.07257,1,.74705,.71119,1.02058,1.024,1.02119,1,1,1.1536,1.08595,1.08595,1,1.08595,1.08595,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1.05638,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1];Et.MyriadProRegularFactors=Ft;const Xt={lineHeight:1.2,lineGap:.2};Et.MyriadProRegularMetrics=Xt},(kt,Et)=>{Object.defineProperty(Et,"__esModule",{value:!0}),Et.SegoeuiRegularMetrics=Et.SegoeuiRegularFactors=Et.SegoeuiItalicMetrics=Et.SegoeuiItalicFactors=Et.SegoeuiBoldMetrics=Et.SegoeuiBoldItalicMetrics=Et.SegoeuiBoldItalicFactors=Et.SegoeuiBoldFactors=void 0;const Rt=[1.76738,1,1,.99297,.9824,1.04016,1.06497,1.03424,.97529,1.17647,1.23203,1.1085,1.1085,1.16939,1.2107,.9754,1.21408,.9754,1.59578,1.03424,1.03424,1.03424,1.03424,1.03424,1.03424,1.03424,1.03424,1.03424,1.03424,.81378,.81378,1.2107,1.2107,1.2107,.71703,.97847,.97363,.88776,.8641,1.02096,.79795,.85132,.914,1.06085,1.1406,.8007,.89858,.83693,1.14889,1.09398,.97489,.92094,.97489,.90399,.84041,.95923,1.00135,1,1.06467,.98243,.90996,.99361,1.1085,1.56942,1.1085,1.2107,.74627,.94282,.96752,1.01519,.86304,1.01359,.97278,1.15103,1.01359,.98561,1.02285,1.02285,1.00527,1.02285,1.0302,.99041,1.0008,1.01519,1.01359,1.02258,.79104,1.16862,.99041,.97454,1.02511,.99298,.96752,.95801,.94856,1.16579,.94856,1.2107,.9824,1.03424,1.03424,1,1.03424,1.16579,.8727,1.3871,1.18622,1.10818,1.04478,1.2107,1.18622,.75155,.94994,1.28826,1.21408,1.21408,.91056,1,.91572,.9754,.64663,1.18328,1.24866,1.04478,1.14169,1.15749,1.17389,.71703,.97363,.97363,.97363,.97363,.97363,.97363,.93506,.8641,.79795,.79795,.79795,.79795,1.1406,1.1406,1.1406,1.1406,1.02096,1.09398,.97426,.97426,.97426,.97426,.97426,1.2107,.97489,1.00135,1.00135,1.00135,1.00135,.90996,.92094,1.02798,.96752,.96752,.96752,.96752,.96752,.96752,.93136,.86304,.97278,.97278,.97278,.97278,1.02285,1.02285,1.02285,1.02285,.97122,.99041,1,1,1,1,1,1.28826,1.0008,.99041,.99041,.99041,.99041,.96752,1.01519,.96752,.97363,.96752,.97363,.96752,.97363,.96752,.8641,.86304,.8641,.86304,.8641,.86304,.8641,.86304,1.02096,1.03057,1.02096,1.03517,.79795,.97278,.79795,.97278,.79795,.97278,.79795,.97278,.79795,.97278,.914,1.01359,.914,1.01359,.914,1.01359,1,1,1.06085,.98561,1.06085,1.00879,1.1406,1.02285,1.1406,1.02285,1.1406,1.02285,1.1406,1.02285,1.1406,1.02285,.97138,1.08692,.8007,1.02285,1,1,1.00527,.83693,1.02285,1,1,.83693,.9455,.83693,.90418,.83693,1.13005,1.09398,.99041,1,1,1.09398,.99041,.96692,1.09251,.99041,.97489,1.0008,.97489,1.0008,.97489,1.0008,.93994,.97931,.90399,1.02258,1,1,.90399,1.02258,.84041,.79104,.84041,.79104,.84041,.79104,.84041,.79104,1,1,.95923,1.07034,.95923,1.16862,1.00135,.99041,1.00135,.99041,1.00135,.99041,1.00135,.99041,1.00135,.99041,1.00135,.99041,1.06467,1.02511,.90996,.96752,.90996,.99361,.95801,.99361,.95801,.99361,.95801,1.07733,1.03424,.97363,.96752,.93506,.93136,.97489,1.0008,1,1,.95923,1.16862,1.15103,1.15103,1.01173,1.03959,.75953,.81378,.79912,1.15103,1.21994,.95161,.87815,1.01149,.81525,.7676,.98167,1.01134,1.02546,.84097,1.03089,1.18102,.97363,.88776,.85134,.97826,.79795,.99361,1.06085,.97489,1.1406,.89858,1.0388,1.14889,1.09398,.86039,.97489,1.0595,.92094,.94793,.95923,.90996,.99346,.98243,1.02112,.95493,1.1406,.90996,1.03574,1.02597,1.0008,1.18102,1.06628,1.03574,1.0192,1.01932,1.00886,.97531,1.0106,1.0008,1.13189,1.18102,1.02277,.98683,1.0016,.99561,1.07237,1.0008,.90434,.99921,.93803,.8965,1.23085,1.06628,1.04983,.96268,1.0499,.98439,1.18102,1.06628,1.0008,1.06628,.98439,.79795,1,1,1,1,1,1,1,1,1,1,1,1,1.09466,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,.97278,1,1,1,1,1,1,1,1,1,1,1,1,1.02065,1,1,1,1,1,1,1.06467,1.02511,1.06467,1.02511,1.06467,1.02511,.90996,.96752,1,1.21408,.89903,1,1,.75155,1.04394,1.04394,1.04394,1.04394,.98633,.98633,.98633,.73047,.73047,1.20642,.91211,1.25635,1.222,1.02956,1.03372,1.03372,.96039,1.24633,1,1.12454,.93503,1.03424,1.19687,1.03424,1,1,1,.771,1,1,1.15749,1.15749,1.15749,1.10948,.86279,.94434,.86279,.94434,.86182,1,1,1.16897,1,.96085,.90137,1.2107,1.18416,1.13973,.69825,.9716,2.10339,1.29004,1.29004,1.21172,1.29004,1.29004,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1.42603,1,.99862,.99862,1,.87025,.87025,.87025,.87025,1.18874,1.42603,1,1.42603,1.42603,.99862,1,1,1,1,1,1.2886,1.04315,1.15296,1.34163,1,1,1,1.09193,1.09193,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1];Et.SegoeuiBoldFactors=Rt;const wt={lineHeight:1.33008,lineGap:0};Et.SegoeuiBoldMetrics=wt;const _t=[1.76738,1,1,.98946,1.03959,1.04016,1.02809,1.036,.97639,1.10953,1.23203,1.11144,1.11144,1.16939,1.21237,.9754,1.21261,.9754,1.59754,1.036,1.036,1.036,1.036,1.036,1.036,1.036,1.036,1.036,1.036,.81378,.81378,1.21237,1.21237,1.21237,.73541,.97847,.97363,.89723,.87897,1.0426,.79429,.85292,.91149,1.05815,1.1406,.79631,.90128,.83853,1.04396,1.10615,.97552,.94436,.97552,.88641,.80527,.96083,1.00135,1,1.06777,.9817,.91142,.99361,1.11144,1.57293,1.11144,1.21237,.74627,1.31818,1.06585,.97042,.83055,.97042,.93503,1.1261,.97042,.97922,1.14236,.94552,1.01054,1.14236,1.02471,.97922,.94165,.97042,.97042,1.0276,.78929,1.1261,.97922,.95874,1.02197,.98507,.96752,.97168,.95107,1.16579,.95107,1.21237,1.03959,1.036,1.036,1,1.036,1.16579,.87357,1.31818,1.18754,1.26781,1.05356,1.21237,1.18622,.79487,.94994,1.29004,1.24047,1.24047,1.31818,1,.91484,.9754,1.31818,1.1349,1.24866,1.05356,1.13934,1.15574,1.17389,.73541,.97363,.97363,.97363,.97363,.97363,.97363,.94385,.87897,.79429,.79429,.79429,.79429,1.1406,1.1406,1.1406,1.1406,1.0426,1.10615,.97552,.97552,.97552,.97552,.97552,1.21237,.97552,1.00135,1.00135,1.00135,1.00135,.91142,.94436,.98721,1.06585,1.06585,1.06585,1.06585,1.06585,1.06585,.96705,.83055,.93503,.93503,.93503,.93503,1.14236,1.14236,1.14236,1.14236,.93125,.97922,.94165,.94165,.94165,.94165,.94165,1.29004,.94165,.97922,.97922,.97922,.97922,.96752,.97042,.96752,.97363,1.06585,.97363,1.06585,.97363,1.06585,.87897,.83055,.87897,.83055,.87897,.83055,.87897,.83055,1.0426,1.0033,1.0426,.97042,.79429,.93503,.79429,.93503,.79429,.93503,.79429,.93503,.79429,.93503,.91149,.97042,.91149,.97042,.91149,.97042,1,1,1.05815,.97922,1.05815,.97922,1.1406,1.14236,1.1406,1.14236,1.1406,1.14236,1.1406,1.14236,1.1406,1.14236,.97441,1.04302,.79631,1.01582,1,1,1.01054,.83853,1.14236,1,1,.83853,1.09125,.83853,.90418,.83853,1.19508,1.10615,.97922,1,1,1.10615,.97922,1.01034,1.10466,.97922,.97552,.94165,.97552,.94165,.97552,.94165,.91602,.91981,.88641,1.0276,1,1,.88641,1.0276,.80527,.78929,.80527,.78929,.80527,.78929,.80527,.78929,1,1,.96083,1.05403,.95923,1.16862,1.00135,.97922,1.00135,.97922,1.00135,.97922,1.00135,.97922,1.00135,.97922,1.00135,.97922,1.06777,1.02197,.91142,.96752,.91142,.99361,.97168,.99361,.97168,.99361,.97168,1.23199,1.036,.97363,1.06585,.94385,.96705,.97552,.94165,1,1,.96083,1.1261,1.31818,1.31818,1.31818,1.31818,1.31818,1.31818,1.31818,1.31818,1.31818,.95161,1.27126,1.00811,.83284,.77702,.99137,.95253,1.0347,.86142,1.07205,1.14236,.97363,.89723,.86869,1.09818,.79429,.99361,1.05815,.97552,1.1406,.90128,1.06662,1.04396,1.10615,.84918,.97552,1.04694,.94436,.98015,.96083,.91142,1.00356,.9817,1.01945,.98999,1.1406,.91142,1.04961,.9898,1.00639,1.14236,1.07514,1.04961,.99607,1.02897,1.008,.9898,.95134,1.00639,1.11121,1.14236,1.00518,.97981,1.02186,1,1.08578,.94165,.99314,.98387,.93028,.93377,1.35125,1.07514,1.10687,.93491,1.04232,1.00351,1.14236,1.07514,.94165,1.07514,1.00351,.79429,1,1,1,1,1,1,1,1,1,1,1,1,1.09097,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,.93503,1,1,1,1,1,1,1,1,1,1,1,1,.96609,1,1,1,1,1,1,1.06777,1.02197,1.06777,1.02197,1.06777,1.02197,.91142,.96752,1,1.21261,.89903,1,1,.75155,1.04745,1.04745,1.04745,1.04394,.98633,.98633,.98633,.72959,.72959,1.20502,.91406,1.26514,1.222,1.02956,1.03372,1.03372,.96039,1.24633,1,1.09125,.93327,1.03336,1.16541,1.036,1,1,1,.771,1,1,1.15574,1.15574,1.15574,1.15574,.86364,.94434,.86279,.94434,.86224,1,1,1.16798,1,.96085,.90068,1.21237,1.18416,1.13904,.69825,.9716,2.10339,1.29004,1.29004,1.21339,1.29004,1.29004,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1.42603,1,.99862,.99862,1,.87025,.87025,.87025,.87025,1.18775,1.42603,1,1.42603,1.42603,.99862,1,1,1,1,1,1.2886,1.04315,1.15296,1.34163,1,1,1,1.13269,1.13269,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1];Et.SegoeuiBoldItalicFactors=_t;const Pt={lineHeight:1.33008,lineGap:0};Et.SegoeuiBoldItalicMetrics=Pt;const _e=[1.76738,1,1,.98946,1.14763,1.05365,1.06234,.96927,.92586,1.15373,1.18414,.91349,.91349,1.07403,1.17308,.78383,1.20088,.78383,1.42531,.96927,.96927,.96927,.96927,.96927,.96927,.96927,.96927,.96927,.96927,.78383,.78383,1.17308,1.17308,1.17308,.77349,.94565,.94729,.85944,.88506,.9858,.74817,.80016,.88449,.98039,.95782,.69238,.89898,.83231,.98183,1.03989,.96924,.86237,.96924,.80595,.74524,.86091,.95402,.94143,.98448,.8858,.83089,.93285,1.0949,1.39016,1.0949,1.45994,.74627,1.04839,.97454,.97454,.87207,.97454,.87533,1.06151,.97454,1.00176,1.16484,1.08132,.98047,1.16484,1.02989,1.01054,.96225,.97454,.97454,1.06598,.79004,1.16344,1.00351,.94629,.9973,.91016,.96777,.9043,.91082,.92481,.91082,1.17308,.95748,.96927,.96927,1,.96927,.92481,.80597,1.04839,1.23393,1.1781,.9245,1.17308,1.20808,.63218,.94261,1.24822,1.09971,1.09971,1.04839,1,.85273,.78032,1.04839,1.09971,1.22326,.9245,1.09836,1.13525,1.15222,.70424,.94729,.94729,.94729,.94729,.94729,.94729,.85498,.88506,.74817,.74817,.74817,.74817,.95782,.95782,.95782,.95782,.9858,1.03989,.96924,.96924,.96924,.96924,.96924,1.17308,.96924,.95402,.95402,.95402,.95402,.83089,.86237,.88409,.97454,.97454,.97454,.97454,.97454,.97454,.92916,.87207,.87533,.87533,.87533,.87533,.93146,.93146,.93146,.93146,.93854,1.01054,.96225,.96225,.96225,.96225,.96225,1.24822,.8761,1.00351,1.00351,1.00351,1.00351,.96777,.97454,.96777,.94729,.97454,.94729,.97454,.94729,.97454,.88506,.87207,.88506,.87207,.88506,.87207,.88506,.87207,.9858,.95391,.9858,.97454,.74817,.87533,.74817,.87533,.74817,.87533,.74817,.87533,.74817,.87533,.88449,.97454,.88449,.97454,.88449,.97454,1,1,.98039,1.00176,.98039,1.00176,.95782,.93146,.95782,.93146,.95782,.93146,.95782,1.16484,.95782,.93146,.84421,1.12761,.69238,1.08132,1,1,.98047,.83231,1.16484,1,1,.84723,1.04861,.84723,.78755,.83231,1.23736,1.03989,1.01054,1,1,1.03989,1.01054,.9857,1.03849,1.01054,.96924,.96225,.96924,.96225,.96924,.96225,.92383,.90171,.80595,1.06598,1,1,.80595,1.06598,.74524,.79004,.74524,.79004,.74524,.79004,.74524,.79004,1,1,.86091,1.02759,.85771,1.16344,.95402,1.00351,.95402,1.00351,.95402,1.00351,.95402,1.00351,.95402,1.00351,.95402,1.00351,.98448,.9973,.83089,.96777,.83089,.93285,.9043,.93285,.9043,.93285,.9043,1.31868,.96927,.94729,.97454,.85498,.92916,.96924,.8761,1,1,.86091,1.16344,1.04839,1.04839,1.04839,1.04839,1.04839,1.04839,1.04839,1.04839,1.04839,.81965,.81965,.94729,.78032,.71022,.90883,.84171,.99877,.77596,1.05734,1.2,.94729,.85944,.82791,.9607,.74817,.93285,.98039,.96924,.95782,.89898,.98316,.98183,1.03989,.78614,.96924,.97642,.86237,.86075,.86091,.83089,.90082,.8858,.97296,1.01284,.95782,.83089,1.0976,1.04,1.03342,1.2,1.0675,1.0976,.98205,1.03809,1.05097,1.04,.95364,1.03342,1.05401,1.2,1.02148,1.0119,1.04724,1.0127,1.02732,.96225,.8965,.97783,.93574,.94818,1.30679,1.0675,1.11826,.99821,1.0557,1.0326,1.2,1.0675,.96225,1.0675,1.0326,.74817,1,1,1,1,1,1,1,1,1,1,1,1,1.03754,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,.87533,1,1,1,1,1,1,1,1,1,1,1,1,.98705,1,1,1,1,1,1,.98448,.9973,.98448,.9973,.98448,.9973,.83089,.96777,1,1.20088,.89903,1,1,.75155,.94945,.94945,.94945,.94945,1.12317,1.12317,1.12317,.67603,.67603,1.15621,.73584,1.21191,1.22135,1.06483,.94868,.94868,.95996,1.24633,1,1.07497,.87709,.96927,1.01473,.96927,1,1,1,.77295,1,1,1.09836,1.09836,1.09836,1.01522,.86321,.94434,.8649,.94434,.86182,1,1,1.083,1,.91578,.86438,1.17308,1.18416,1.14589,.69825,.97622,1.96791,1.24822,1.24822,1.17308,1.24822,1.24822,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1.42603,1,.99862,.99862,1,.87025,.87025,.87025,.87025,1.17984,1.42603,1,1.42603,1.42603,.99862,1,1,1,1,1,1.2886,1.04315,1.15296,1.34163,1,1,1,1.10742,1.10742,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1];Et.SegoeuiItalicFactors=_e;const bt={lineHeight:1.33008,lineGap:0};Et.SegoeuiItalicMetrics=bt;const Ft=[1.76738,1,1,.98594,1.02285,1.10454,1.06234,.96927,.92037,1.19985,1.2046,.90616,.90616,1.07152,1.1714,.78032,1.20088,.78032,1.40246,.96927,.96927,.96927,.96927,.96927,.96927,.96927,.96927,.96927,.96927,.78032,.78032,1.1714,1.1714,1.1714,.80597,.94084,.96706,.85944,.85734,.97093,.75842,.79936,.88198,.9831,.95782,.71387,.86969,.84636,1.07796,1.03584,.96924,.83968,.96924,.82826,.79649,.85771,.95132,.93119,.98965,.88433,.8287,.93365,1.08612,1.3638,1.08612,1.45786,.74627,.80499,.91484,1.05707,.92383,1.05882,.9403,1.12654,1.05882,1.01756,1.09011,1.09011,.99414,1.09011,1.034,1.01756,1.05356,1.05707,1.05882,1.04399,.84863,1.21968,1.01756,.95801,1.00068,.91797,.96777,.9043,.90351,.92105,.90351,1.1714,.85337,.96927,.96927,.99912,.96927,.92105,.80597,1.2434,1.20808,1.05937,.90957,1.1714,1.20808,.75155,.94261,1.24644,1.09971,1.09971,.84751,1,.85273,.78032,.61584,1.05425,1.17914,.90957,1.08665,1.11593,1.14169,.73381,.96706,.96706,.96706,.96706,.96706,.96706,.86035,.85734,.75842,.75842,.75842,.75842,.95782,.95782,.95782,.95782,.97093,1.03584,.96924,.96924,.96924,.96924,.96924,1.1714,.96924,.95132,.95132,.95132,.95132,.8287,.83968,.89049,.91484,.91484,.91484,.91484,.91484,.91484,.93575,.92383,.9403,.9403,.9403,.9403,.8717,.8717,.8717,.8717,1.00527,1.01756,1.05356,1.05356,1.05356,1.05356,1.05356,1.24644,.95923,1.01756,1.01756,1.01756,1.01756,.96777,1.05707,.96777,.96706,.91484,.96706,.91484,.96706,.91484,.85734,.92383,.85734,.92383,.85734,.92383,.85734,.92383,.97093,1.0969,.97093,1.05882,.75842,.9403,.75842,.9403,.75842,.9403,.75842,.9403,.75842,.9403,.88198,1.05882,.88198,1.05882,.88198,1.05882,1,1,.9831,1.01756,.9831,1.01756,.95782,.8717,.95782,.8717,.95782,.8717,.95782,1.09011,.95782,.8717,.84784,1.11551,.71387,1.09011,1,1,.99414,.84636,1.09011,1,1,.84636,1.0536,.84636,.94298,.84636,1.23297,1.03584,1.01756,1,1,1.03584,1.01756,1.00323,1.03444,1.01756,.96924,1.05356,.96924,1.05356,.96924,1.05356,.93066,.98293,.82826,1.04399,1,1,.82826,1.04399,.79649,.84863,.79649,.84863,.79649,.84863,.79649,.84863,1,1,.85771,1.17318,.85771,1.21968,.95132,1.01756,.95132,1.01756,.95132,1.01756,.95132,1.01756,.95132,1.01756,.95132,1.01756,.98965,1.00068,.8287,.96777,.8287,.93365,.9043,.93365,.9043,.93365,.9043,1.08571,.96927,.96706,.91484,.86035,.93575,.96924,.95923,1,1,.85771,1.21968,1.11437,1.11437,.93109,.91202,.60411,.84164,.55572,1.01173,.97361,.81818,.81818,.96635,.78032,.72727,.92366,.98601,1.03405,.77968,1.09799,1.2,.96706,.85944,.85638,.96491,.75842,.93365,.9831,.96924,.95782,.86969,.94152,1.07796,1.03584,.78437,.96924,.98715,.83968,.83491,.85771,.8287,.94492,.88433,.9287,1.0098,.95782,.8287,1.0625,.98248,1.03424,1.2,1.01071,1.0625,.95246,1.03809,1.04912,.98248,1.00221,1.03424,1.05443,1.2,1.04785,.99609,1.00169,1.05176,.99346,1.05356,.9087,1.03004,.95542,.93117,1.23362,1.01071,1.07831,1.02512,1.05205,1.03502,1.2,1.01071,1.05356,1.01071,1.03502,.75842,1,1,1,1,1,1,1,1,1,1,1,1,1.03719,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,.9403,1,1,1,1,1,1,1,1,1,1,1,1,1.04021,1,1,1,1,1,1,.98965,1.00068,.98965,1.00068,.98965,1.00068,.8287,.96777,1,1.20088,.89903,1,1,.75155,1.03077,1.03077,1.03077,1.03077,1.13196,1.13196,1.13196,.67428,.67428,1.16039,.73291,1.20996,1.22135,1.06483,.94868,.94868,.95996,1.24633,1,1.07497,.87796,.96927,1.01518,.96927,1,1,1,.77295,1,1,1.10539,1.10539,1.11358,1.06967,.86279,.94434,.86279,.94434,.86182,1,1,1.083,1,.91578,.86507,1.1714,1.18416,1.14589,.69825,.97622,1.9697,1.24822,1.24822,1.17238,1.24822,1.24822,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1.42603,1,.99862,.99862,1,.87025,.87025,.87025,.87025,1.18083,1.42603,1,1.42603,1.42603,.99862,1,1,1,1,1,1.2886,1.04315,1.15296,1.34163,1,1,1,1.10938,1.10938,1,1,1,1.05425,1.09971,1.09971,1.09971,1,1,1,1,1,1,1,1,1,1,1];Et.SegoeuiRegularFactors=Ft;const Xt={lineHeight:1.33008,lineGap:0};Et.SegoeuiRegularMetrics=Xt},(kt,Et,Rt)=>{Object.defineProperty(Et,"__esModule",{value:!0}),Et.PostScriptEvaluator=Et.PostScriptCompiler=Et.PDFFunctionFactory=void 0,Et.isPDFFunction=Nt;var wt=Rt(4),_t=Rt(2),Pt=Rt(58),_e=Rt(5),bt=Rt(59);class Ft{constructor({xref:Ot,isEvalSupported:zt=!0}){this.xref=Ot,this.isEvalSupported=zt!==!1}create(Ot){const zt=this.getCached(Ot);if(zt)return zt;const an=Kt.parse({xref:this.xref,isEvalSupported:this.isEvalSupported,fn:Ot instanceof wt.Ref?this.xref.fetch(Ot):Ot});return this._cache(Ot,an),an}createFromArray(Ot){const zt=this.getCached(Ot);if(zt)return zt;const an=Kt.parseArray({xref:this.xref,isEvalSupported:this.isEvalSupported,fnObj:Ot instanceof wt.Ref?this.xref.fetch(Ot):Ot});return this._cache(Ot,an),an}getCached(Ot){var an;let zt;if(Ot instanceof wt.Ref?zt=Ot:Ot instanceof wt.Dict?zt=Ot.objId:Ot instanceof _e.BaseStream&&(zt=(an=Ot.dict)==null?void 0:an.objId),zt){const Ht=this._localFunctionCache.getByRef(zt);if(Ht)return Ht}return null}_cache(Ot,zt){var Ht;if(!zt)throw new Error('PDFFunctionFactory._cache - expected "parsedFunction" argument.');let an;Ot instanceof wt.Ref?an=Ot:Ot instanceof wt.Dict?an=Ot.objId:Ot instanceof _e.BaseStream&&(an=(Ht=Ot.dict)==null?void 0:Ht.objId),an&&this._localFunctionCache.set(null,an,zt)}get _localFunctionCache(){return(0,_t.shadow)(this,"_localFunctionCache",new bt.LocalFunctionCache)}}Et.PDFFunctionFactory=Ft;function Xt(Ut){if(!Array.isArray(Ut))return null;const Ot=Ut.length;for(let zt=0;zt<Ot;zt++)if(typeof Ut[zt]!="number"){const an=new Array(Ot);for(let Ht=0;Ht<Ot;Ht++)an[Ht]=+Ut[Ht];return an}return Ut}class Kt{static getSampleArray(Ot,zt,an,Ht){let Wt,tn,ln=1;for(Wt=0,tn=Ot.length;Wt<tn;Wt++)ln*=Ot[Wt];ln*=zt;const on=new Array(ln);let cn=0,sn=0;const rn=1/(2**an-1),xn=Ht.getBytes((ln*an+7)/8);let vn=0;for(Wt=0;Wt<ln;Wt++){for(;cn<an;)sn<<=8,sn|=xn[vn++],cn+=8;cn-=an,on[Wt]=(sn>>cn)*rn,sn&=(1<<cn)-1}return on}static parse({xref:Ot,isEvalSupported:zt,fn:an}){const Ht=an.dict||an;switch(Ht.get("FunctionType")){case 0:return this.constructSampled({xref:Ot,isEvalSupported:zt,fn:an,dict:Ht});case 1:break;case 2:return this.constructInterpolated({xref:Ot,isEvalSupported:zt,dict:Ht});case 3:return this.constructStiched({xref:Ot,isEvalSupported:zt,dict:Ht});case 4:return this.constructPostScript({xref:Ot,isEvalSupported:zt,fn:an,dict:Ht})}throw new _t.FormatError("Unknown type of function")}static parseArray({xref:Ot,isEvalSupported:zt,fnObj:an}){if(!Array.isArray(an))return this.parse({xref:Ot,isEvalSupported:zt,fn:an});const Ht=[];for(const Wt of an)Ht.push(this.parse({xref:Ot,isEvalSupported:zt,fn:Ot.fetchIfRef(Wt)}));return function(Wt,tn,ln,on){for(let cn=0,sn=Ht.length;cn<sn;cn++)Ht[cn](Wt,tn,ln,on+cn)}}static constructSampled({xref:Ot,isEvalSupported:zt,fn:an,dict:Ht}){function Wt(Tn){const Sn=Tn.length,mn=[];let fn=0;for(let Jt=0;Jt<Sn;Jt+=2)mn[fn++]=[Tn[Jt],Tn[Jt+1]];return mn}function tn(Tn,Sn,mn,fn,Jt){return fn+(Tn-Sn)*((Jt-fn)/(mn-Sn))}let ln=Xt(Ht.getArray("Domain")),on=Xt(Ht.getArray("Range"));if(!ln||!on)throw new _t.FormatError("No domain or range");const cn=ln.length/2,sn=on.length/2;ln=Wt(ln),on=Wt(on);const rn=Xt(Ht.getArray("Size")),xn=Ht.get("BitsPerSample"),vn=Ht.get("Order")||1;vn!==1&&(0,_t.info)("No support for cubic spline interpolation: "+vn);let En=Xt(Ht.getArray("Encode"));if(En)En=Wt(En);else{En=[];for(let Tn=0;Tn<cn;++Tn)En.push([0,rn[Tn]-1])}let Fn=Xt(Ht.getArray("Decode"));Fn=Fn?Wt(Fn):on;const Mn=this.getSampleArray(rn,sn,xn,an);return function(Sn,mn,fn,Jt){const un=1<<cn,pn=new Float64Array(un),wn=new Uint32Array(un);let kn,Rn;for(Rn=0;Rn<un;Rn++)pn[Rn]=1;let Cn=sn,An=1;for(kn=0;kn<cn;++kn){const _n=ln[kn][0],In=ln[kn][1],Pn=Math.min(Math.max(Sn[mn+kn],_n),In);let Dn=tn(Pn,_n,In,En[kn][0],En[kn][1]);const Ln=rn[kn];Dn=Math.min(Math.max(Dn,0),Ln-1);const Un=Dn<Ln-1?Math.floor(Dn):Dn-1,tr=Un+1-Dn,er=Dn-Un,Qn=Un*Cn,Yn=Qn+Cn;for(Rn=0;Rn<un;Rn++)Rn&An?(pn[Rn]*=er,wn[Rn]+=Yn):(pn[Rn]*=tr,wn[Rn]+=Qn);Cn*=Ln,An<<=1}for(Rn=0;Rn<sn;++Rn){let _n=0;for(kn=0;kn<un;kn++)_n+=Mn[wn[kn]+Rn]*pn[kn];_n=tn(_n,0,1,Fn[Rn][0],Fn[Rn][1]),fn[Jt+Rn]=Math.min(Math.max(_n,on[Rn][0]),on[Rn][1])}}}static constructInterpolated({xref:Ot,isEvalSupported:zt,dict:an}){const Ht=Xt(an.getArray("C0"))||[0],Wt=Xt(an.getArray("C1"))||[1],tn=an.get("N"),ln=[];for(let cn=0,sn=Ht.length;cn<sn;++cn)ln.push(Wt[cn]-Ht[cn]);const on=ln.length;return function(sn,rn,xn,vn){const En=tn===1?sn[rn]:sn[rn]**tn;for(let Fn=0;Fn<on;++Fn)xn[vn+Fn]=Ht[Fn]+En*ln[Fn]}}static constructStiched({xref:Ot,isEvalSupported:zt,dict:an}){const Ht=Xt(an.getArray("Domain"));if(!Ht)throw new _t.FormatError("No domain");if(Ht.length/2!==1)throw new _t.FormatError("Bad domain for stiched function");const tn=[];for(const sn of an.get("Functions"))tn.push(this.parse({xref:Ot,isEvalSupported:zt,fn:Ot.fetchIfRef(sn)}));const ln=Xt(an.getArray("Bounds")),on=Xt(an.getArray("Encode")),cn=new Float32Array(1);return function(rn,xn,vn,En){const Mn=function(wn,kn,Rn){return wn>Rn?wn=Rn:wn<kn&&(wn=kn),wn}(rn[xn],Ht[0],Ht[1]),Tn=ln.length;let Sn;for(Sn=0;Sn<Tn&&!(Mn<ln[Sn]);++Sn);let mn=Ht[0];Sn>0&&(mn=ln[Sn-1]);let fn=Ht[1];Sn<ln.length&&(fn=ln[Sn]);const Jt=on[2*Sn],un=on[2*Sn+1];cn[0]=mn===fn?Jt:Jt+(Mn-mn)*(un-Jt)/(fn-mn),tn[Sn](cn,0,vn,En)}}static constructPostScript({xref:Ot,isEvalSupported:zt,fn:an,dict:Ht}){const Wt=Xt(Ht.getArray("Domain")),tn=Xt(Ht.getArray("Range"));if(!Wt)throw new _t.FormatError("No domain.");if(!tn)throw new _t.FormatError("No range.");const ln=new Pt.PostScriptLexer(an),cn=new Pt.PostScriptParser(ln).parse();if(zt&&_t.FeatureTest.isEvalSupported){const Tn=new Yt().compile(cn,Wt,tn);if(Tn)return new Function("src","srcOffset","dest","destOffset",Tn)}(0,_t.info)("Unable to compile PS function");const sn=tn.length>>1,rn=Wt.length>>1,xn=new Dt(cn),vn=Object.create(null);let Fn=2048*4;const Mn=new Float32Array(rn);return function(Sn,mn,fn,Jt){let un,pn,wn="";const kn=Mn;for(un=0;un<rn;un++)pn=Sn[mn+un],kn[un]=pn,wn+=pn+"_";const Rn=vn[wn];if(Rn!==void 0){fn.set(Rn,Jt);return}const Cn=new Float32Array(sn),An=xn.execute(kn),_n=An.length-sn;for(un=0;un<sn;un++){pn=An[_n+un];let In=tn[un*2];pn<In?pn=In:(In=tn[un*2+1],pn>In&&(pn=In)),Cn[un]=pn}Fn>0&&(Fn--,vn[wn]=Cn),fn.set(Cn,Jt)}}}function Nt(Ut){let Ot;if(Ut instanceof wt.Dict)Ot=Ut;else if(Ut instanceof _e.BaseStream)Ot=Ut.dict;else return!1;return Ot.has("FunctionType")}const hn=class hn{constructor(Ot){this.stack=Ot?Array.from(Ot):[]}push(Ot){if(this.stack.length>=hn.MAX_STACK_SIZE)throw new Error("PostScript function stack overflow.");this.stack.push(Ot)}pop(){if(this.stack.length<=0)throw new Error("PostScript function stack underflow.");return this.stack.pop()}copy(Ot){if(this.stack.length+Ot>=hn.MAX_STACK_SIZE)throw new Error("PostScript function stack overflow.");const zt=this.stack;for(let an=zt.length-Ot,Ht=Ot-1;Ht>=0;Ht--,an++)zt.push(zt[an])}index(Ot){this.push(this.stack[this.stack.length-Ot-1])}roll(Ot,zt){const an=this.stack,Ht=an.length-Ot,Wt=an.length-1,tn=Ht+(zt-Math.floor(zt/Ot)*Ot);for(let ln=Ht,on=Wt;ln<on;ln++,on--){const cn=an[ln];an[ln]=an[on],an[on]=cn}for(let ln=Ht,on=tn-1;ln<on;ln++,on--){const cn=an[ln];an[ln]=an[on],an[on]=cn}for(let ln=tn,on=Wt;ln<on;ln++,on--){const cn=an[ln];an[ln]=an[on],an[on]=cn}}};Ur(hn,"MAX_STACK_SIZE",100);let $t=hn;class Dt{constructor(Ot){this.operators=Ot}execute(Ot){const zt=new $t(Ot);let an=0;const Ht=this.operators,Wt=Ht.length;let tn,ln,on;for(;an<Wt;){if(tn=Ht[an++],typeof tn=="number"){zt.push(tn);continue}switch(tn){case"jz":on=zt.pop(),ln=zt.pop(),ln||(an=on);break;case"j":ln=zt.pop(),an=ln;break;case"abs":ln=zt.pop(),zt.push(Math.abs(ln));break;case"add":on=zt.pop(),ln=zt.pop(),zt.push(ln+on);break;case"and":on=zt.pop(),ln=zt.pop(),typeof ln=="boolean"&&typeof on=="boolean"?zt.push(ln&&on):zt.push(ln&on);break;case"atan":on=zt.pop(),ln=zt.pop(),ln=Math.atan2(ln,on)/Math.PI*180,ln<0&&(ln+=360),zt.push(ln);break;case"bitshift":on=zt.pop(),ln=zt.pop(),ln>0?zt.push(ln<<on):zt.push(ln>>on);break;case"ceiling":ln=zt.pop(),zt.push(Math.ceil(ln));break;case"copy":ln=zt.pop(),zt.copy(ln);break;case"cos":ln=zt.pop(),zt.push(Math.cos(ln%360/180*Math.PI));break;case"cvi":ln=zt.pop()|0,zt.push(ln);break;case"cvr":break;case"div":on=zt.pop(),ln=zt.pop(),zt.push(ln/on);break;case"dup":zt.copy(1);break;case"eq":on=zt.pop(),ln=zt.pop(),zt.push(ln===on);break;case"exch":zt.roll(2,1);break;case"exp":on=zt.pop(),ln=zt.pop(),zt.push(ln**on);break;case"false":zt.push(!1);break;case"floor":ln=zt.pop(),zt.push(Math.floor(ln));break;case"ge":on=zt.pop(),ln=zt.pop(),zt.push(ln>=on);break;case"gt":on=zt.pop(),ln=zt.pop(),zt.push(ln>on);break;case"idiv":on=zt.pop(),ln=zt.pop(),zt.push(ln/on|0);break;case"index":ln=zt.pop(),zt.index(ln);break;case"le":on=zt.pop(),ln=zt.pop(),zt.push(ln<=on);break;case"ln":ln=zt.pop(),zt.push(Math.log(ln));break;case"log":ln=zt.pop(),zt.push(Math.log10(ln));break;case"lt":on=zt.pop(),ln=zt.pop(),zt.push(ln<on);break;case"mod":on=zt.pop(),ln=zt.pop(),zt.push(ln%on);break;case"mul":on=zt.pop(),ln=zt.pop(),zt.push(ln*on);break;case"ne":on=zt.pop(),ln=zt.pop(),zt.push(ln!==on);break;case"neg":ln=zt.pop(),zt.push(-ln);break;case"not":ln=zt.pop(),typeof ln=="boolean"?zt.push(!ln):zt.push(~ln);break;case"or":on=zt.pop(),ln=zt.pop(),typeof ln=="boolean"&&typeof on=="boolean"?zt.push(ln||on):zt.push(ln|on);break;case"pop":zt.pop();break;case"roll":on=zt.pop(),ln=zt.pop(),zt.roll(ln,on);break;case"round":ln=zt.pop(),zt.push(Math.round(ln));break;case"sin":ln=zt.pop(),zt.push(Math.sin(ln%360/180*Math.PI));break;case"sqrt":ln=zt.pop(),zt.push(Math.sqrt(ln));break;case"sub":on=zt.pop(),ln=zt.pop(),zt.push(ln-on);break;case"true":zt.push(!0);break;case"truncate":ln=zt.pop(),ln=ln<0?Math.ceil(ln):Math.floor(ln),zt.push(ln);break;case"xor":on=zt.pop(),ln=zt.pop(),typeof ln=="boolean"&&typeof on=="boolean"?zt.push(ln!==on):zt.push(ln^on);break;default:throw new _t.FormatError(`Unknown operator ${tn}`)}}return zt.stack}}Et.PostScriptEvaluator=Dt;class jt{constructor(Ot){this.type=Ot}visit(Ot){(0,_t.unreachable)("abstract method")}}class Ct extends jt{constructor(Ot,zt,an){super("args"),this.index=Ot,this.min=zt,this.max=an}visit(Ot){Ot.visitArgument(this)}}class qt extends jt{constructor(Ot){super("literal"),this.number=Ot,this.min=Ot,this.max=Ot}visit(Ot){Ot.visitLiteral(this)}}class Bt extends jt{constructor(Ot,zt,an,Ht,Wt){super("binary"),this.op=Ot,this.arg1=zt,this.arg2=an,this.min=Ht,this.max=Wt}visit(Ot){Ot.visitBinaryOperation(this)}}class Gt extends jt{constructor(Ot,zt){super("max"),this.arg=Ot,this.min=Ot.min,this.max=zt}visit(Ot){Ot.visitMin(this)}}class en extends jt{constructor(Ot,zt,an){super("var"),this.index=Ot,this.min=zt,this.max=an}visit(Ot){Ot.visitVariable(this)}}class dn extends jt{constructor(Ot,zt){super("definition"),this.variable=Ot,this.arg=zt}visit(Ot){Ot.visitVariableDefinition(this)}}class Qt{constructor(){this.parts=[]}visitArgument(Ot){this.parts.push("Math.max(",Ot.min,", Math.min(",Ot.max,", src[srcOffset + ",Ot.index,"]))")}visitVariable(Ot){this.parts.push("v",Ot.index)}visitLiteral(Ot){this.parts.push(Ot.number)}visitBinaryOperation(Ot){this.parts.push("("),Ot.arg1.visit(this),this.parts.push(" ",Ot.op," "),Ot.arg2.visit(this),this.parts.push(")")}visitVariableDefinition(Ot){this.parts.push("var "),Ot.variable.visit(this),this.parts.push(" = "),Ot.arg.visit(this),this.parts.push(";")}visitMin(Ot){this.parts.push("Math.min("),Ot.arg.visit(this),this.parts.push(", ",Ot.max,")")}toString(){return this.parts.join("")}}function gn(Ut,Ot){return Ot.type==="literal"&&Ot.number===0?Ut:Ut.type==="literal"&&Ut.number===0?Ot:Ot.type==="literal"&&Ut.type==="literal"?new qt(Ut.number+Ot.number):new Bt("+",Ut,Ot,Ut.min+Ot.min,Ut.max+Ot.max)}function nn(Ut,Ot){if(Ot.type==="literal"){if(Ot.number===0)return new qt(0);if(Ot.number===1)return Ut;if(Ut.type==="literal")return new qt(Ut.number*Ot.number)}if(Ut.type==="literal"){if(Ut.number===0)return new qt(0);if(Ut.number===1)return Ot}const zt=Math.min(Ut.min*Ot.min,Ut.min*Ot.max,Ut.max*Ot.min,Ut.max*Ot.max),an=Math.max(Ut.min*Ot.min,Ut.min*Ot.max,Ut.max*Ot.min,Ut.max*Ot.max);return new Bt("*",Ut,Ot,zt,an)}function bn(Ut,Ot){if(Ot.type==="literal"){if(Ot.number===0)return Ut;if(Ut.type==="literal")return new qt(Ut.number-Ot.number)}return Ot.type==="binary"&&Ot.op==="-"&&Ut.type==="literal"&&Ut.number===1&&Ot.arg1.type==="literal"&&Ot.arg1.number===1?Ot.arg2:new Bt("-",Ut,Ot,Ut.min-Ot.max,Ut.max-Ot.min)}function Vt(Ut,Ot){return Ut.min>=Ot?new qt(Ot):Ut.max<=Ot?Ut:new Gt(Ut,Ot)}class Yt{compile(Ot,zt,an){const Ht=[],Wt=[],tn=zt.length>>1,ln=an.length>>1;let on=0,cn,sn,rn,xn,vn,En,Fn,Mn;for(let Sn=0;Sn<tn;Sn++)Ht.push(new Ct(Sn,zt[Sn*2],zt[Sn*2+1]));for(let Sn=0,mn=Ot.length;Sn<mn;Sn++){if(Mn=Ot[Sn],typeof Mn=="number"){Ht.push(new qt(Mn));continue}switch(Mn){case"add":if(Ht.length<2)return null;xn=Ht.pop(),rn=Ht.pop(),Ht.push(gn(rn,xn));break;case"cvr":if(Ht.length<1)return null;break;case"mul":if(Ht.length<2)return null;xn=Ht.pop(),rn=Ht.pop(),Ht.push(nn(rn,xn));break;case"sub":if(Ht.length<2)return null;xn=Ht.pop(),rn=Ht.pop(),Ht.push(bn(rn,xn));break;case"exch":if(Ht.length<2)return null;vn=Ht.pop(),En=Ht.pop(),Ht.push(vn,En);break;case"pop":if(Ht.length<1)return null;Ht.pop();break;case"index":if(Ht.length<1||(rn=Ht.pop(),rn.type!=="literal")||(cn=rn.number,cn<0||!Number.isInteger(cn)||Ht.length<cn))return null;if(vn=Ht[Ht.length-cn-1],vn.type==="literal"||vn.type==="var"){Ht.push(vn);break}Fn=new en(on++,vn.min,vn.max),Ht[Ht.length-cn-1]=Fn,Ht.push(Fn),Wt.push(new dn(Fn,vn));break;case"dup":if(Ht.length<1)return null;if(typeof Ot[Sn+1]=="number"&&Ot[Sn+2]==="gt"&&Ot[Sn+3]===Sn+7&&Ot[Sn+4]==="jz"&&Ot[Sn+5]==="pop"&&Ot[Sn+6]===Ot[Sn+1]){rn=Ht.pop(),Ht.push(Vt(rn,Ot[Sn+1])),Sn+=6;break}if(vn=Ht.at(-1),vn.type==="literal"||vn.type==="var"){Ht.push(vn);break}Fn=new en(on++,vn.min,vn.max),Ht[Ht.length-1]=Fn,Ht.push(Fn),Wt.push(new dn(Fn,vn));break;case"roll":if(Ht.length<2||(xn=Ht.pop(),rn=Ht.pop(),xn.type!=="literal"||rn.type!=="literal")||(sn=xn.number,cn=rn.number,cn<=0||!Number.isInteger(cn)||!Number.isInteger(sn)||Ht.length<cn))return null;if(sn=(sn%cn+cn)%cn,sn===0)break;Ht.push(...Ht.splice(Ht.length-cn,cn-sn));break;default:return null}}if(Ht.length!==ln)return null;const Tn=[];for(const Sn of Wt){const mn=new Qt;Sn.visit(mn),Tn.push(mn.toString())}for(let Sn=0,mn=Ht.length;Sn<mn;Sn++){const fn=Ht[Sn],Jt=new Qt;fn.visit(Jt);const un=an[Sn*2],pn=an[Sn*2+1],wn=[Jt.toString()];un>fn.min&&(wn.unshift("Math.max(",un,", "),wn.push(")")),pn<fn.max&&(wn.unshift("Math.min(",pn,", "),wn.push(")")),wn.unshift("dest[destOffset + ",Sn,"] = "),wn.push(";"),Tn.push(wn.join(""))}return Tn.join(`
`)}}Et.PostScriptCompiler=Yt},(kt,Et,Rt)=>{Object.defineProperty(Et,"__esModule",{value:!0}),Et.PostScriptParser=Et.PostScriptLexer=void 0;var wt=Rt(2),_t=Rt(4),Pt=Rt(3);class _e{constructor(Nt){this.lexer=Nt,this.operators=[],this.token=null,this.prev=null}nextToken(){this.prev=this.token,this.token=this.lexer.getToken()}accept(Nt){return this.token.type===Nt?(this.nextToken(),!0):!1}expect(Nt){if(this.accept(Nt))return!0;throw new wt.FormatError(`Unexpected symbol: found ${this.token.type} expected ${Nt}.`)}parse(){return this.nextToken(),this.expect(bt.LBRACE),this.parseBlock(),this.expect(bt.RBRACE),this.operators}parseBlock(){for(;;)if(this.accept(bt.NUMBER))this.operators.push(this.prev.value);else if(this.accept(bt.OPERATOR))this.operators.push(this.prev.value);else if(this.accept(bt.LBRACE))this.parseCondition();else return}parseCondition(){const Nt=this.operators.length;if(this.operators.push(null,null),this.parseBlock(),this.expect(bt.RBRACE),this.accept(bt.IF))this.operators[Nt]=this.operators.length,this.operators[Nt+1]="jz";else if(this.accept(bt.LBRACE)){const $t=this.operators.length;this.operators.push(null,null);const Dt=this.operators.length;this.parseBlock(),this.expect(bt.RBRACE),this.expect(bt.IFELSE),this.operators[$t]=this.operators.length,this.operators[$t+1]="j",this.operators[Nt]=Dt,this.operators[Nt+1]="jz"}else throw new wt.FormatError("PS Function: error parsing conditional.")}}Et.PostScriptParser=_e;const bt={LBRACE:0,RBRACE:1,NUMBER:2,OPERATOR:3,IF:4,IFELSE:5};class Ft{static get opCache(){return(0,wt.shadow)(this,"opCache",Object.create(null))}constructor(Nt,$t){this.type=Nt,this.value=$t}static getOperator(Nt){var $t;return($t=Ft.opCache)[Nt]||($t[Nt]=new Ft(bt.OPERATOR,Nt))}static get LBRACE(){return(0,wt.shadow)(this,"LBRACE",new Ft(bt.LBRACE,"{"))}static get RBRACE(){return(0,wt.shadow)(this,"RBRACE",new Ft(bt.RBRACE,"}"))}static get IF(){return(0,wt.shadow)(this,"IF",new Ft(bt.IF,"IF"))}static get IFELSE(){return(0,wt.shadow)(this,"IFELSE",new Ft(bt.IFELSE,"IFELSE"))}}class Xt{constructor(Nt){this.stream=Nt,this.nextChar(),this.strBuf=[]}nextChar(){return this.currentChar=this.stream.getByte()}getToken(){let Nt=!1,$t=this.currentChar;for(;;){if($t<0)return _t.EOF;if(Nt)($t===10||$t===13)&&(Nt=!1);else if($t===37)Nt=!0;else if(!(0,Pt.isWhiteSpace)($t))break;$t=this.nextChar()}switch($t|0){case 48:case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:case 43:case 45:case 46:return new Ft(bt.NUMBER,this.getNumber());case 123:return this.nextChar(),Ft.LBRACE;case 125:return this.nextChar(),Ft.RBRACE}const Dt=this.strBuf;for(Dt.length=0,Dt[0]=String.fromCharCode($t);($t=this.nextChar())>=0&&($t>=65&&$t<=90||$t>=97&&$t<=122);)Dt.push(String.fromCharCode($t));const jt=Dt.join("");switch(jt.toLowerCase()){case"if":return Ft.IF;case"ifelse":return Ft.IFELSE;default:return Ft.getOperator(jt)}}getNumber(){let Nt=this.currentChar;const $t=this.strBuf;for($t.length=0,$t[0]=String.fromCharCode(Nt);(Nt=this.nextChar())>=0&&(Nt>=48&&Nt<=57||Nt===45||Nt===46);)$t.push(String.fromCharCode(Nt));const Dt=parseFloat($t.join(""));if(isNaN(Dt))throw new wt.FormatError(`Invalid floating point number: ${Dt}`);return Dt}}Et.PostScriptLexer=Xt},(kt,Et,Rt)=>{Object.defineProperty(Et,"__esModule",{value:!0}),Et.RegionalImageCache=Et.LocalTilingPatternCache=Et.LocalImageCache=Et.LocalGStateCache=Et.LocalFunctionCache=Et.LocalColorSpaceCache=Et.GlobalImageCache=void 0;var wt=Rt(2),_t=Rt(4);class Pt{constructor(Ct){this.constructor===Pt&&(0,wt.unreachable)("Cannot initialize BaseLocalCache."),this._onlyRefs=(Ct==null?void 0:Ct.onlyRefs)===!0,this._onlyRefs||(this._nameRefMap=new Map,this._imageMap=new Map),this._imageCache=new _t.RefSetCache}getByName(Ct){this._onlyRefs&&(0,wt.unreachable)("Should not call `getByName` method.");const qt=this._nameRefMap.get(Ct);return qt?this.getByRef(qt):this._imageMap.get(Ct)||null}getByRef(Ct){return this._imageCache.get(Ct)||null}set(Ct,qt,Bt){(0,wt.unreachable)("Abstract method `set` called.")}}class _e extends Pt{set(Ct,qt=null,Bt){if(typeof Ct!="string")throw new Error('LocalImageCache.set - expected "name" argument.');if(qt){if(this._imageCache.has(qt))return;this._nameRefMap.set(Ct,qt),this._imageCache.put(qt,Bt);return}this._imageMap.has(Ct)||this._imageMap.set(Ct,Bt)}}Et.LocalImageCache=_e;class bt extends Pt{set(Ct=null,qt=null,Bt){if(typeof Ct!="string"&&!qt)throw new Error('LocalColorSpaceCache.set - expected "name" and/or "ref" argument.');if(qt){if(this._imageCache.has(qt))return;Ct!==null&&this._nameRefMap.set(Ct,qt),this._imageCache.put(qt,Bt);return}this._imageMap.has(Ct)||this._imageMap.set(Ct,Bt)}}Et.LocalColorSpaceCache=bt;class Ft extends Pt{constructor(Ct){super({onlyRefs:!0})}set(Ct=null,qt,Bt){if(!qt)throw new Error('LocalFunctionCache.set - expected "ref" argument.');this._imageCache.has(qt)||this._imageCache.put(qt,Bt)}}Et.LocalFunctionCache=Ft;class Xt extends Pt{set(Ct,qt=null,Bt){if(typeof Ct!="string")throw new Error('LocalGStateCache.set - expected "name" argument.');if(qt){if(this._imageCache.has(qt))return;this._nameRefMap.set(Ct,qt),this._imageCache.put(qt,Bt);return}this._imageMap.has(Ct)||this._imageMap.set(Ct,Bt)}}Et.LocalGStateCache=Xt;class Kt extends Pt{constructor(Ct){super({onlyRefs:!0})}set(Ct=null,qt,Bt){if(!qt)throw new Error('LocalTilingPatternCache.set - expected "ref" argument.');this._imageCache.has(qt)||this._imageCache.put(qt,Bt)}}Et.LocalTilingPatternCache=Kt;class Nt extends Pt{constructor(Ct){super({onlyRefs:!0})}set(Ct=null,qt,Bt){if(!qt)throw new Error('RegionalImageCache.set - expected "ref" argument.');this._imageCache.has(qt)||this._imageCache.put(qt,Bt)}}Et.RegionalImageCache=Nt;const Dt=class Dt{constructor(){this._refCache=new _t.RefSetCache,this._imageCache=new _t.RefSetCache}get _byteSize(){let Ct=0;for(const qt of this._imageCache)Ct+=qt.byteSize;return Ct}get _cacheLimitReached(){return!(this._imageCache.size<Dt.MIN_IMAGES_TO_CACHE||this._byteSize<Dt.MAX_BYTE_SIZE)}shouldCache(Ct,qt){let Bt=this._refCache.get(Ct);return Bt||(Bt=new Set,this._refCache.put(Ct,Bt)),Bt.add(qt),!(Bt.size<Dt.NUM_PAGES_THRESHOLD||!this._imageCache.has(Ct)&&this._cacheLimitReached)}addByteSize(Ct,qt){const Bt=this._imageCache.get(Ct);Bt&&(Bt.byteSize||(Bt.byteSize=qt))}getData(Ct,qt){const Bt=this._refCache.get(Ct);if(!Bt||Bt.size<Dt.NUM_PAGES_THRESHOLD)return null;const Gt=this._imageCache.get(Ct);return Gt?(Bt.add(qt),Gt):null}setData(Ct,qt){if(!this._refCache.has(Ct))throw new Error('GlobalImageCache.setData - expected "shouldCache" to have been called.');if(!this._imageCache.has(Ct)){if(this._cacheLimitReached){(0,wt.warn)("GlobalImageCache.setData - cache limit reached.");return}this._imageCache.put(Ct,qt)}}clear(Ct=!1){Ct||this._refCache.clear(),this._imageCache.clear()}};Ur(Dt,"NUM_PAGES_THRESHOLD",2),Ur(Dt,"MIN_IMAGES_TO_CACHE",10),Ur(Dt,"MAX_BYTE_SIZE",5*wt.MAX_IMAGE_SIZE_TO_CACHE);let $t=Dt;Et.GlobalImageCache=$t},(kt,Et,Rt)=>{Object.defineProperty(Et,"__esModule",{value:!0}),Et.bidi=jt;var wt=Rt(2);const _t=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","ON","ON","ET","ET","ET","ON","ON","ON","ON","ON","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","ON","ON","ON","ON","ON","ON","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","ON","ON","ON","ON","ON","ON","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","ON","ON","ON","ON","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","ON","ET","ET","ET","ET","ON","ON","ON","ON","L","ON","ON","BN","ON","ON","ET","ET","EN","EN","ON","L","ON","ON","ON","EN","L","ON","ON","ON","ON","ON","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","ON","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","ON","L","L","L","L","L","L","L","L"],Pt=["AN","AN","AN","AN","AN","AN","ON","ON","AL","ET","ET","AL","CS","AL","ON","ON","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","ON","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","ON","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL"];function _e(Ct){return(Ct&1)!==0}function bt(Ct){return(Ct&1)===0}function Ft(Ct,qt,Bt){let Gt,en;for(Gt=qt,en=Ct.length;Gt<en;++Gt)if(Ct[Gt]!==Bt)return Gt;return Gt}function Xt(Ct,qt,Bt,Gt){for(let en=qt;en<Bt;++en)Ct[en]=Gt}function Kt(Ct,qt,Bt){for(let Gt=qt,en=Bt-1;Gt<en;++Gt,--en){const dn=Ct[Gt];Ct[Gt]=Ct[en],Ct[en]=dn}}function Nt(Ct,qt,Bt=!1){let Gt="ltr";return Bt?Gt="ttb":qt||(Gt="rtl"),{str:Ct,dir:Gt}}const $t=[],Dt=[];function jt(Ct,qt=-1,Bt=!1){let Gt=!0;const en=Ct.length;if(en===0||Bt)return Nt(Ct,Gt,Bt);$t.length=en,Dt.length=en;let dn=0,Qt,gn;for(Qt=0;Qt<en;++Qt){$t[Qt]=Ct.charAt(Qt);const Ht=Ct.charCodeAt(Qt);let Wt="L";Ht<=255?Wt=_t[Ht]:1424<=Ht&&Ht<=1524?Wt="R":1536<=Ht&&Ht<=1791?(Wt=Pt[Ht&255],Wt||(0,wt.warn)("Bidi: invalid Unicode character "+Ht.toString(16))):(1792<=Ht&&Ht<=2220||64336<=Ht&&Ht<=65023||65136<=Ht&&Ht<=65279)&&(Wt="AL"),(Wt==="R"||Wt==="AL"||Wt==="AN")&&dn++,Dt[Qt]=Wt}if(dn===0)return Gt=!0,Nt(Ct,Gt);qt===-1&&(dn/en<.3&&en>4?(Gt=!0,qt=0):(Gt=!1,qt=1));const nn=[];for(Qt=0;Qt<en;++Qt)nn[Qt]=qt;const bn=_e(qt)?"R":"L",Vt=bn,Yt=Vt;let hn=Vt;for(Qt=0;Qt<en;++Qt)Dt[Qt]==="NSM"?Dt[Qt]=hn:hn=Dt[Qt];hn=Vt;let Ut;for(Qt=0;Qt<en;++Qt)Ut=Dt[Qt],Ut==="EN"?Dt[Qt]=hn==="AL"?"AN":"EN":(Ut==="R"||Ut==="L"||Ut==="AL")&&(hn=Ut);for(Qt=0;Qt<en;++Qt)Ut=Dt[Qt],Ut==="AL"&&(Dt[Qt]="R");for(Qt=1;Qt<en-1;++Qt)Dt[Qt]==="ES"&&Dt[Qt-1]==="EN"&&Dt[Qt+1]==="EN"&&(Dt[Qt]="EN"),Dt[Qt]==="CS"&&(Dt[Qt-1]==="EN"||Dt[Qt-1]==="AN")&&Dt[Qt+1]===Dt[Qt-1]&&(Dt[Qt]=Dt[Qt-1]);for(Qt=0;Qt<en;++Qt)if(Dt[Qt]==="EN"){for(let Ht=Qt-1;Ht>=0&&Dt[Ht]==="ET";--Ht)Dt[Ht]="EN";for(let Ht=Qt+1;Ht<en&&Dt[Ht]==="ET";++Ht)Dt[Ht]="EN"}for(Qt=0;Qt<en;++Qt)Ut=Dt[Qt],(Ut==="WS"||Ut==="ES"||Ut==="ET"||Ut==="CS")&&(Dt[Qt]="ON");for(hn=Vt,Qt=0;Qt<en;++Qt)Ut=Dt[Qt],Ut==="EN"?Dt[Qt]=hn==="L"?"L":"EN":(Ut==="R"||Ut==="L")&&(hn=Ut);for(Qt=0;Qt<en;++Qt)if(Dt[Qt]==="ON"){const Ht=Ft(Dt,Qt+1,"ON");let Wt=Vt;Qt>0&&(Wt=Dt[Qt-1]);let tn=Yt;Ht+1<en&&(tn=Dt[Ht+1]),Wt!=="L"&&(Wt="R"),tn!=="L"&&(tn="R"),Wt===tn&&Xt(Dt,Qt,Ht,Wt),Qt=Ht-1}for(Qt=0;Qt<en;++Qt)Dt[Qt]==="ON"&&(Dt[Qt]=bn);for(Qt=0;Qt<en;++Qt)Ut=Dt[Qt],bt(nn[Qt])?Ut==="R"?nn[Qt]+=1:(Ut==="AN"||Ut==="EN")&&(nn[Qt]+=2):(Ut==="L"||Ut==="AN"||Ut==="EN")&&(nn[Qt]+=1);let Ot=-1,zt=99,an;for(Qt=0,gn=nn.length;Qt<gn;++Qt)an=nn[Qt],Ot<an&&(Ot=an),zt>an&&_e(an)&&(zt=an);for(an=Ot;an>=zt;--an){let Ht=-1;for(Qt=0,gn=nn.length;Qt<gn;++Qt)nn[Qt]<an?Ht>=0&&(Kt($t,Ht,Qt),Ht=-1):Ht<0&&(Ht=Qt);Ht>=0&&Kt($t,Ht,nn.length)}for(Qt=0,gn=$t.length;Qt<gn;++Qt){const Ht=$t[Qt];(Ht==="<"||Ht===">")&&($t[Qt]="")}return Nt($t.join(""),Gt)}},(kt,Et,Rt)=>{Object.defineProperty(Et,"__esModule",{value:!0}),Et.getFontSubstitution=Dt;var wt=Rt(38),_t=Rt(3);const Pt={style:"normal",weight:"normal"},_e={style:"normal",weight:"bold"},bt={style:"italic",weight:"normal"},Ft={style:"italic",weight:"bold"},Xt=new Map([["Times-Roman",{local:["Times New Roman","Times-Roman","Times","Liberation Serif","Nimbus Roman","Nimbus Roman L","Tinos","Thorndale","TeX Gyre Termes","FreeSerif","DejaVu Serif","Bitstream Vera Serif","Ubuntu"],style:Pt,ultimate:"serif"}],["Times-Bold",{alias:"Times-Roman",style:_e,ultimate:"serif"}],["Times-Italic",{alias:"Times-Roman",style:bt,ultimate:"serif"}],["Times-BoldItalic",{alias:"Times-Roman",style:Ft,ultimate:"serif"}],["Helvetica",{local:["Helvetica","Helvetica Neue","Arial","Arial Nova","Liberation Sans","Arimo","Nimbus Sans","Nimbus Sans L","A030","TeX Gyre Heros","FreeSans","DejaVu Sans","Albany","Bitstream Vera Sans","Arial Unicode MS","Microsoft Sans Serif","Apple Symbols","Cantarell"],path:"LiberationSans-Regular.ttf",style:Pt,ultimate:"sans-serif"}],["Helvetica-Bold",{alias:"Helvetica",path:"LiberationSans-Bold.ttf",style:_e,ultimate:"sans-serif"}],["Helvetica-Oblique",{alias:"Helvetica",path:"LiberationSans-Italic.ttf",style:bt,ultimate:"sans-serif"}],["Helvetica-BoldOblique",{alias:"Helvetica",path:"LiberationSans-BoldItalic.ttf",style:Ft,ultimate:"sans-serif"}],["Courier",{local:["Courier","Courier New","Liberation Mono","Nimbus Mono","Nimbus Mono L","Cousine","Cumberland","TeX Gyre Cursor","FreeMono"],style:Pt,ultimate:"monospace"}],["Courier-Bold",{alias:"Courier",style:_e,ultimate:"monospace"}],["Courier-Oblique",{alias:"Courier",style:bt,ultimate:"monospace"}],["Courier-BoldOblique",{alias:"Courier",style:Ft,ultimate:"monospace"}],["ArialBlack",{local:["Arial Black"],style:{style:"normal",weight:"900"},fallback:"Helvetica-Bold"}],["ArialBlack-Bold",{alias:"ArialBlack"}],["ArialBlack-Italic",{alias:"ArialBlack",style:{style:"italic",weight:"900"},fallback:"Helvetica-BoldOblique"}],["ArialBlack-BoldItalic",{alias:"ArialBlack-Italic"}],["ArialNarrow",{local:["Arial Narrow","Liberation Sans Narrow","Helvetica Condensed","Nimbus Sans Narrow","TeX Gyre Heros Cn"],style:Pt,fallback:"Helvetica"}],["ArialNarrow-Bold",{alias:"ArialNarrow",style:_e,fallback:"Helvetica-Bold"}],["ArialNarrow-Italic",{alias:"ArialNarrow",style:bt,fallback:"Helvetica-Oblique"}],["ArialNarrow-BoldItalic",{alias:"ArialNarrow",style:Ft,fallback:"Helvetica-BoldOblique"}],["Calibri",{local:["Calibri","Carlito"],style:Pt,fallback:"Helvetica"}],["Calibri-Bold",{alias:"Calibri",style:_e,fallback:"Helvetica-Bold"}],["Calibri-Italic",{alias:"Calibri",style:bt,fallback:"Helvetica-Oblique"}],["Calibri-BoldItalic",{alias:"Calibri",style:Ft,fallback:"Helvetica-BoldOblique"}],["Wingdings",{local:["Wingdings","URW Dingbats"],style:Pt}],["Wingdings-Regular",{alias:"Wingdings"}],["Wingdings-Bold",{alias:"Wingdings"}]]),Kt=new Map([["Arial-Black","ArialBlack"]]);function Nt(jt){switch(jt){case _e:return"Bold";case bt:return"Italic";case Ft:return"Bold Italic";default:if((jt==null?void 0:jt.weight)==="bold")return"Bold";if((jt==null?void 0:jt.style)==="italic")return"Italic"}return""}function $t({alias:jt,local:Ct,path:qt,fallback:Bt,style:Gt,ultimate:en},dn,Qt,gn=!0,nn=!0,bn=""){const Vt={style:null,ultimate:null};if(Ct){const Yt=bn?` ${bn}`:"";for(const hn of Ct)dn.push(`local(${hn}${Yt})`)}if(jt){const Yt=Xt.get(jt),hn=bn||Nt(Gt);Object.assign(Vt,$t(Yt,dn,Qt,gn&&!Bt,nn&&!qt,hn))}if(Gt&&(Vt.style=Gt),en&&(Vt.ultimate=en),gn&&Bt){const Yt=Xt.get(Bt),{ultimate:hn}=$t(Yt,dn,Qt,gn,nn&&!qt,bn);Vt.ultimate||(Vt.ultimate=hn)}return nn&&qt&&Qt&&dn.push(`url(${Qt}${qt})`),Vt}function Dt(jt,Ct,qt,Bt,Gt){Bt=(0,wt.normalizeFontName)(Bt);const en=Bt;let dn=jt.get(en);if(dn)return dn;let Qt=Xt.get(Bt);if(!Qt){for(const[Ot,zt]of Kt)if(Bt.startsWith(Ot)){Bt=`${zt}${Bt.substring(Ot.length)}`,Qt=Xt.get(Bt);break}}let gn=!1;Qt||(Qt=Xt.get(Gt),gn=!0);const nn=`${Ct.getDocId()}_s${Ct.createFontId()}`;if(!Qt){if(!(0,_t.validateFontName)(Bt))return jt.set(en,null),null;const Ot=/bold/gi.test(Bt),zt=/oblique|italic/gi.test(Bt),an=Ot&&zt&&Ft||Ot&&_e||zt&&bt||Pt;return dn={css:nn,guessFallback:!0,loadedName:nn,baseFontName:Bt,src:`local(${Bt})`,style:an},jt.set(en,dn),dn}const bn=[];gn&&(0,_t.validateFontName)(Bt)&&bn.push(`local(${Bt})`);const{style:Vt,ultimate:Yt}=$t(Qt,bn,qt),hn=Yt===null,Ut=hn?"":`,${Yt}`;return dn={css:`${nn}${Ut}`,guessFallback:hn,loadedName:nn,baseFontName:Bt,src:bn.join(","),style:Vt},jt.set(en,dn),dn}},(kt,Et,Rt)=>{Object.defineProperty(Et,"__esModule",{value:!0}),Et.ImageResizer=void 0;var wt=Rt(2);const _t=2048,Pt=65537,_e=128;class bt{constructor(Xt,Kt){this._imgData=Xt,this._isMask=Kt}static needsToBeResized(Xt,Kt){if(Xt<=this._goodSquareLength&&Kt<=this._goodSquareLength)return!1;const{MAX_DIM:Nt}=this;if(Xt>Nt||Kt>Nt)return!0;const $t=Xt*Kt;if(this._hasMaxArea)return $t>this.MAX_AREA;if($t<this._goodSquareLength**2)return!1;if(this._areGoodDims(Xt,Kt))return this._goodSquareLength=Math.max(this._goodSquareLength,Math.floor(Math.sqrt(Xt*Kt))),!1;this._goodSquareLength=this._guessMax(this._goodSquareLength,Nt,_e,0);const Dt=this.MAX_AREA=this._goodSquareLength**2;return $t>Dt}static get MAX_DIM(){return(0,wt.shadow)(this,"MAX_DIM",this._guessMax(_t,Pt,0,1))}static get MAX_AREA(){return this._hasMaxArea=!0,(0,wt.shadow)(this,"MAX_AREA",this._guessMax(bt._goodSquareLength,this.MAX_DIM,_e,0)**2)}static set MAX_AREA(Xt){Xt>=0&&(this._hasMaxArea=!0,(0,wt.shadow)(this,"MAX_AREA",Xt))}static setMaxArea(Xt){this._hasMaxArea||(this.MAX_AREA=Xt>>2)}static _areGoodDims(Xt,Kt){try{const Nt=new OffscreenCanvas(Xt,Kt),$t=Nt.getContext("2d");$t.fillRect(0,0,1,1);const Dt=$t.getImageData(0,0,1,1).data[3];return Nt.width=Nt.height=1,Dt!==0}catch{return!1}}static _guessMax(Xt,Kt,Nt,$t){for(;Xt+Nt+1<Kt;){const Dt=Math.floor((Xt+Kt)/2),jt=$t||Dt;this._areGoodDims(Dt,jt)?Xt=Dt:Kt=Dt}return Xt}static async createImage(Xt,Kt=!1){return new bt(Xt,Kt)._createImage()}async _createImage(){const Xt=this._encodeBMP(),Kt=new Blob([Xt.buffer],{type:"image/bmp"}),Nt=createImageBitmap(Kt),{MAX_AREA:$t,MAX_DIM:Dt}=bt,{_imgData:jt}=this,{width:Ct,height:qt}=jt,Bt=Math.max(Ct/Dt,qt/Dt,Math.sqrt(Ct*qt/$t)),Gt=Math.max(Bt,2),en=Math.round(10*(Bt+1.25))/10/Gt,dn=Math.floor(Math.log2(en)),Qt=new Array(dn+2).fill(2);Qt[0]=Gt,Qt.splice(-1,1,en/(1<<dn));let gn=Ct,nn=qt,bn=await Nt;for(const Vt of Qt){const Yt=gn,hn=nn;gn=Math.floor(gn/Vt)-1,nn=Math.floor(nn/Vt)-1;const Ut=new OffscreenCanvas(gn,nn);Ut.getContext("2d").drawImage(bn,0,0,Yt,hn,0,0,gn,nn),bn=Ut.transferToImageBitmap()}return jt.data=null,jt.bitmap=bn,jt.width=gn,jt.height=nn,jt}_encodeBMP(){const{width:Xt,height:Kt,kind:Nt}=this._imgData;let $t=this._imgData.data,Dt,jt=new Uint8Array(0),Ct=jt,qt=0;switch(Nt){case wt.ImageKind.GRAYSCALE_1BPP:{Dt=1,jt=new Uint8Array(this._isMask?[255,255,255,255,0,0,0,0]:[0,0,0,0,255,255,255,255]);const nn=Xt+7>>3,bn=nn+3&-4;if(nn!==bn){const Vt=new Uint8Array(bn*Kt);let Yt=0;for(let hn=0,Ut=Kt*nn;hn<Ut;hn+=nn,Yt+=bn)Vt.set($t.subarray(hn,hn+nn),Yt);$t=Vt}break}case wt.ImageKind.RGB_24BPP:{if(Dt=24,Xt&3){const nn=3*Xt,bn=nn+3&-4,Vt=bn-nn,Yt=new Uint8Array(bn*Kt);let hn=0;for(let Ut=0,Ot=Kt*nn;Ut<Ot;Ut+=nn){const zt=$t.subarray(Ut,Ut+nn);for(let an=0;an<nn;an+=3)Yt[hn++]=zt[an+2],Yt[hn++]=zt[an+1],Yt[hn++]=zt[an];hn+=Vt}$t=Yt}else for(let nn=0,bn=$t.length;nn<bn;nn+=3){const Vt=$t[nn];$t[nn]=$t[nn+2],$t[nn+2]=Vt}break}case wt.ImageKind.RGBA_32BPP:Dt=32,qt=3,Ct=new Uint8Array(68);const gn=new DataView(Ct.buffer);wt.FeatureTest.isLittleEndian?(gn.setUint32(0,255,!0),gn.setUint32(4,65280,!0),gn.setUint32(8,16711680,!0),gn.setUint32(12,4278190080,!0)):(gn.setUint32(0,4278190080,!0),gn.setUint32(4,16711680,!0),gn.setUint32(8,65280,!0),gn.setUint32(12,255,!0));break;default:throw new Error("invalid format")}let Bt=0;const Gt=40+Ct.length,en=14+Gt+jt.length+$t.length,dn=new Uint8Array(en),Qt=new DataView(dn.buffer);return Qt.setUint16(Bt,19778,!0),Bt+=2,Qt.setUint32(Bt,en,!0),Bt+=4,Qt.setUint32(Bt,0,!0),Bt+=4,Qt.setUint32(Bt,14+Gt+jt.length,!0),Bt+=4,Qt.setUint32(Bt,Gt,!0),Bt+=4,Qt.setInt32(Bt,Xt,!0),Bt+=4,Qt.setInt32(Bt,-Kt,!0),Bt+=4,Qt.setUint16(Bt,1,!0),Bt+=2,Qt.setUint16(Bt,Dt,!0),Bt+=2,Qt.setUint32(Bt,qt,!0),Bt+=4,Qt.setUint32(Bt,0,!0),Bt+=4,Qt.setInt32(Bt,0,!0),Bt+=4,Qt.setInt32(Bt,0,!0),Bt+=4,Qt.setUint32(Bt,jt.length/4,!0),Bt+=4,Qt.setUint32(Bt,0,!0),Bt+=4,dn.set(Ct,Bt),Bt+=Ct.length,dn.set(jt,Bt),Bt+=jt.length,dn.set($t,Bt),dn}}Et.ImageResizer=bt,bt._goodSquareLength=_t},(kt,Et,Rt)=>{Object.defineProperty(Et,"__esModule",{value:!0}),Et.MurmurHash3_64=void 0;var wt=Rt(2);const _t=3285377520,Pt=4294901760,_e=65535;class bt{constructor(Xt){this.h1=Xt?Xt&4294967295:_t,this.h2=Xt?Xt&4294967295:_t}update(Xt){let Kt,Nt;if(typeof Xt=="string"){Kt=new Uint8Array(Xt.length*2),Nt=0;for(let nn=0,bn=Xt.length;nn<bn;nn++){const Vt=Xt.charCodeAt(nn);Vt<=255?Kt[Nt++]=Vt:(Kt[Nt++]=Vt>>>8,Kt[Nt++]=Vt&255)}}else if((0,wt.isArrayBuffer)(Xt))Kt=Xt.slice(),Nt=Kt.byteLength;else throw new Error("Wrong data format in MurmurHash3_64_update. Input must be a string or array.");const $t=Nt>>2,Dt=Nt-$t*4,jt=new Uint32Array(Kt.buffer,0,$t);let Ct=0,qt=0,Bt=this.h1,Gt=this.h2;const en=3432918353,dn=461845907,Qt=en&_e,gn=dn&_e;for(let nn=0;nn<$t;nn++)nn&1?(Ct=jt[nn],Ct=Ct*en&Pt|Ct*Qt&_e,Ct=Ct<<15|Ct>>>17,Ct=Ct*dn&Pt|Ct*gn&_e,Bt^=Ct,Bt=Bt<<13|Bt>>>19,Bt=Bt*5+3864292196):(qt=jt[nn],qt=qt*en&Pt|qt*Qt&_e,qt=qt<<15|qt>>>17,qt=qt*dn&Pt|qt*gn&_e,Gt^=qt,Gt=Gt<<13|Gt>>>19,Gt=Gt*5+3864292196);switch(Ct=0,Dt){case 3:Ct^=Kt[$t*4+2]<<16;case 2:Ct^=Kt[$t*4+1]<<8;case 1:Ct^=Kt[$t*4],Ct=Ct*en&Pt|Ct*Qt&_e,Ct=Ct<<15|Ct>>>17,Ct=Ct*dn&Pt|Ct*gn&_e,$t&1?Bt^=Ct:Gt^=Ct}this.h1=Bt,this.h2=Gt}hexdigest(){let Xt=this.h1,Kt=this.h2;return Xt^=Kt>>>1,Xt=Xt*3981806797&Pt|Xt*36045&_e,Kt=Kt*4283543511&Pt|((Kt<<16|Xt>>>16)*2950163797&Pt)>>>16,Xt^=Kt>>>1,Xt=Xt*444984403&Pt|Xt*60499&_e,Kt=Kt*3301882366&Pt|((Kt<<16|Xt>>>16)*3120437893&Pt)>>>16,Xt^=Kt>>>1,(Xt>>>0).toString(16).padStart(8,"0")+(Kt>>>0).toString(16).padStart(8,"0")}}Et.MurmurHash3_64=bt},(kt,Et,Rt)=>{Object.defineProperty(Et,"__esModule",{value:!0}),Et.OperatorList=void 0;var wt=Rt(2);function _t(Kt,Nt,$t,Dt,jt){let Ct=Kt;for(let qt=0,Bt=Nt.length-1;qt<Bt;qt++){const Gt=Nt[qt];Ct=Ct[Gt]||(Ct[Gt]=[])}Ct[Nt.at(-1)]={checkFn:$t,iterateFn:Dt,processFn:jt}}const Pt=[];_t(Pt,[wt.OPS.save,wt.OPS.transform,wt.OPS.paintInlineImageXObject,wt.OPS.restore],null,function(Nt,$t){const Dt=Nt.fnArray,jt=Nt.iCurr-3,Ct=($t-jt)%4;switch(Ct){case 0:return Dt[$t]===wt.OPS.save;case 1:return Dt[$t]===wt.OPS.transform;case 2:return Dt[$t]===wt.OPS.paintInlineImageXObject;case 3:return Dt[$t]===wt.OPS.restore}throw new Error(`iterateInlineImageGroup - invalid pos: ${Ct}`)},function(Nt,$t){const Bt=Nt.fnArray,Gt=Nt.argsArray,en=Nt.iCurr,dn=en-3,Qt=en-2,gn=en-1,nn=Math.min(Math.floor(($t-dn)/4),200);if(nn<10)return $t-($t-dn)%4;let bn=0;const Vt=[];let Yt=0,hn=1,Ut=1;for(let tn=0;tn<nn;tn++){const ln=Gt[Qt+(tn<<2)],on=Gt[gn+(tn<<2)][0];hn+on.width>1e3&&(bn=Math.max(bn,hn),Ut+=Yt+2,hn=0,Yt=0),Vt.push({transform:ln,x:hn,y:Ut,w:on.width,h:on.height}),hn+=on.width+2,Yt=Math.max(Yt,on.height)}const Ot=Math.max(bn,hn)+1,zt=Ut+Yt+1,an=new Uint8Array(Ot*zt*4),Ht=Ot<<2;for(let tn=0;tn<nn;tn++){const ln=Gt[gn+(tn<<2)][0].data,on=Vt[tn].w<<2;let cn=0,sn=Vt[tn].x+Vt[tn].y*Ot<<2;an.set(ln.subarray(0,on),sn-Ht);for(let rn=0,xn=Vt[tn].h;rn<xn;rn++)an.set(ln.subarray(cn,cn+on),sn),cn+=on,sn+=Ht;for(an.set(ln.subarray(cn-on,cn),sn);sn>=0;)ln[sn-4]=ln[sn],ln[sn-3]=ln[sn+1],ln[sn-2]=ln[sn+2],ln[sn-1]=ln[sn+3],ln[sn+on]=ln[sn+on-4],ln[sn+on+1]=ln[sn+on-3],ln[sn+on+2]=ln[sn+on-2],ln[sn+on+3]=ln[sn+on-1],sn-=Ht}const Wt={width:Ot,height:zt};if(Nt.isOffscreenCanvasSupported){const tn=new OffscreenCanvas(Ot,zt);tn.getContext("2d").putImageData(new ImageData(new Uint8ClampedArray(an.buffer),Ot,zt),0,0),Wt.bitmap=tn.transferToImageBitmap(),Wt.data=null}else Wt.kind=wt.ImageKind.RGBA_32BPP,Wt.data=an;return Bt.splice(dn,nn*4,wt.OPS.paintInlineImageXObjectGroup),Gt.splice(dn,nn*4,[Wt,Vt]),dn+1}),_t(Pt,[wt.OPS.save,wt.OPS.transform,wt.OPS.paintImageMaskXObject,wt.OPS.restore],null,function(Nt,$t){const Dt=Nt.fnArray,jt=Nt.iCurr-3,Ct=($t-jt)%4;switch(Ct){case 0:return Dt[$t]===wt.OPS.save;case 1:return Dt[$t]===wt.OPS.transform;case 2:return Dt[$t]===wt.OPS.paintImageMaskXObject;case 3:return Dt[$t]===wt.OPS.restore}throw new Error(`iterateImageMaskGroup - invalid pos: ${Ct}`)},function(Nt,$t){const qt=Nt.fnArray,Bt=Nt.argsArray,Gt=Nt.iCurr,en=Gt-3,dn=Gt-2,Qt=Gt-1;let gn=Math.floor(($t-en)/4);if(gn<10)return $t-($t-en)%4;let nn=!1,bn,Vt;const Yt=Bt[Qt][0],hn=Bt[dn][0],Ut=Bt[dn][1],Ot=Bt[dn][2],zt=Bt[dn][3];if(Ut===Ot){nn=!0,bn=dn+4;let an=Qt+4;for(let Ht=1;Ht<gn;Ht++,bn+=4,an+=4)if(Vt=Bt[bn],Bt[an][0]!==Yt||Vt[0]!==hn||Vt[1]!==Ut||Vt[2]!==Ot||Vt[3]!==zt){Ht<10?nn=!1:gn=Ht;break}}if(nn){gn=Math.min(gn,1e3);const an=new Float32Array(gn*2);bn=dn;for(let Ht=0;Ht<gn;Ht++,bn+=4)Vt=Bt[bn],an[Ht<<1]=Vt[4],an[(Ht<<1)+1]=Vt[5];qt.splice(en,gn*4,wt.OPS.paintImageMaskXObjectRepeat),Bt.splice(en,gn*4,[Yt,hn,Ut,Ot,zt,an])}else{gn=Math.min(gn,100);const an=[];for(let Ht=0;Ht<gn;Ht++){Vt=Bt[dn+(Ht<<2)];const Wt=Bt[Qt+(Ht<<2)][0];an.push({data:Wt.data,width:Wt.width,height:Wt.height,interpolate:Wt.interpolate,count:Wt.count,transform:Vt})}qt.splice(en,gn*4,wt.OPS.paintImageMaskXObjectGroup),Bt.splice(en,gn*4,[an])}return en+1}),_t(Pt,[wt.OPS.save,wt.OPS.transform,wt.OPS.paintImageXObject,wt.OPS.restore],function(Kt){const Nt=Kt.argsArray,$t=Kt.iCurr-2;return Nt[$t][1]===0&&Nt[$t][2]===0},function(Nt,$t){const Dt=Nt.fnArray,jt=Nt.argsArray,Ct=Nt.iCurr-3,qt=($t-Ct)%4;switch(qt){case 0:return Dt[$t]===wt.OPS.save;case 1:if(Dt[$t]!==wt.OPS.transform)return!1;const Bt=Nt.iCurr-2,Gt=jt[Bt][0],en=jt[Bt][3];return!(jt[$t][0]!==Gt||jt[$t][1]!==0||jt[$t][2]!==0||jt[$t][3]!==en);case 2:if(Dt[$t]!==wt.OPS.paintImageXObject)return!1;const dn=Nt.iCurr-1,Qt=jt[dn][0];return jt[$t][0]===Qt;case 3:return Dt[$t]===wt.OPS.restore}throw new Error(`iterateImageGroup - invalid pos: ${qt}`)},function(Kt,Nt){const jt=Kt.fnArray,Ct=Kt.argsArray,qt=Kt.iCurr,Bt=qt-3,Gt=qt-2,en=qt-1,dn=Ct[en][0],Qt=Ct[Gt][0],gn=Ct[Gt][3],nn=Math.min(Math.floor((Nt-Bt)/4),1e3);if(nn<3)return Nt-(Nt-Bt)%4;const bn=new Float32Array(nn*2);let Vt=Gt;for(let hn=0;hn<nn;hn++,Vt+=4){const Ut=Ct[Vt];bn[hn<<1]=Ut[4],bn[(hn<<1)+1]=Ut[5]}const Yt=[dn,Qt,gn,bn];return jt.splice(Bt,nn*4,wt.OPS.paintImageXObjectRepeat),Ct.splice(Bt,nn*4,Yt),Bt+1}),_t(Pt,[wt.OPS.beginText,wt.OPS.setFont,wt.OPS.setTextMatrix,wt.OPS.showText,wt.OPS.endText],null,function(Nt,$t){const Dt=Nt.fnArray,jt=Nt.argsArray,Ct=Nt.iCurr-4,qt=($t-Ct)%5;switch(qt){case 0:return Dt[$t]===wt.OPS.beginText;case 1:return Dt[$t]===wt.OPS.setFont;case 2:return Dt[$t]===wt.OPS.setTextMatrix;case 3:if(Dt[$t]!==wt.OPS.showText)return!1;const Bt=Nt.iCurr-3,Gt=jt[Bt][0],en=jt[Bt][1];return!(jt[$t][0]!==Gt||jt[$t][1]!==en);case 4:return Dt[$t]===wt.OPS.endText}throw new Error(`iterateShowTextGroup - invalid pos: ${qt}`)},function(Kt,Nt){const jt=Kt.fnArray,Ct=Kt.argsArray,qt=Kt.iCurr,Bt=qt-4,Gt=qt-3,en=qt-2,dn=qt-1,Qt=qt,gn=Ct[Gt][0],nn=Ct[Gt][1];let bn=Math.min(Math.floor((Nt-Bt)/5),1e3);if(bn<3)return Nt-(Nt-Bt)%5;let Vt=Bt;Bt>=4&&jt[Bt-4]===jt[Gt]&&jt[Bt-3]===jt[en]&&jt[Bt-2]===jt[dn]&&jt[Bt-1]===jt[Qt]&&Ct[Bt-4][0]===gn&&Ct[Bt-4][1]===nn&&(bn++,Vt-=5);let Yt=Vt+4;for(let hn=1;hn<bn;hn++)jt.splice(Yt,3),Ct.splice(Yt,3),Yt+=2;return Yt+1});class _e{constructor(Nt){this.queue=Nt}_optimize(){}push(Nt,$t){this.queue.fnArray.push(Nt),this.queue.argsArray.push($t),this._optimize()}flush(){}reset(){}}class bt extends _e{constructor(Nt){super(Nt),this.state=null,this.context={iCurr:0,fnArray:Nt.fnArray,argsArray:Nt.argsArray,isOffscreenCanvasSupported:!1},this.match=null,this.lastProcessed=0}set isOffscreenCanvasSupported(Nt){this.context.isOffscreenCanvasSupported=Nt}_optimize(){const Nt=this.queue.fnArray;let $t=this.lastProcessed,Dt=Nt.length,jt=this.state,Ct=this.match;if(!jt&&!Ct&&$t+1===Dt&&!Pt[Nt[$t]]){this.lastProcessed=Dt;return}const qt=this.context;for(;$t<Dt;){if(Ct){if((0,Ct.iterateFn)(qt,$t)){$t++;continue}if($t=(0,Ct.processFn)(qt,$t+1),Dt=Nt.length,Ct=null,jt=null,$t>=Dt)break}if(jt=(jt||Pt)[Nt[$t]],!jt||Array.isArray(jt)){$t++;continue}if(qt.iCurr=$t,$t++,jt.checkFn&&!(0,jt.checkFn)(qt)){jt=null;continue}Ct=jt,jt=null}this.state=jt,this.match=Ct,this.lastProcessed=$t}flush(){for(;this.match;){const Nt=this.queue.fnArray.length;this.lastProcessed=(0,this.match.processFn)(this.context,Nt),this.match=null,this.state=null,this._optimize()}}reset(){this.state=null,this.match=null,this.lastProcessed=0}}const Xt=class Xt{constructor(Nt=0,$t){this._streamSink=$t,this.fnArray=[],this.argsArray=[],this.optimizer=$t&&!(Nt&wt.RenderingIntentFlag.OPLIST)?new bt(this):new _e(this),this.dependencies=new Set,this._totalLength=0,this.weight=0,this._resolved=$t?null:Promise.resolve()}set isOffscreenCanvasSupported(Nt){this.optimizer.isOffscreenCanvasSupported=Nt}get length(){return this.argsArray.length}get ready(){return this._resolved||this._streamSink.ready}get totalLength(){return this._totalLength+this.length}addOp(Nt,$t){this.optimizer.push(Nt,$t),this.weight++,this._streamSink&&(this.weight>=Xt.CHUNK_SIZE?this.flush():this.weight>=Xt.CHUNK_SIZE_ABOUT&&(Nt===wt.OPS.restore||Nt===wt.OPS.endText)&&this.flush())}addImageOps(Nt,$t,Dt){Dt!==void 0&&this.addOp(wt.OPS.beginMarkedContentProps,["OC",Dt]),this.addOp(Nt,$t),Dt!==void 0&&this.addOp(wt.OPS.endMarkedContent,[])}addDependency(Nt){this.dependencies.has(Nt)||(this.dependencies.add(Nt),this.addOp(wt.OPS.dependency,[Nt]))}addDependencies(Nt){for(const $t of Nt)this.addDependency($t)}addOpList(Nt){if(!(Nt instanceof Xt)){(0,wt.warn)('addOpList - ignoring invalid "opList" parameter.');return}for(const $t of Nt.dependencies)this.dependencies.add($t);for(let $t=0,Dt=Nt.length;$t<Dt;$t++)this.addOp(Nt.fnArray[$t],Nt.argsArray[$t])}getIR(){return{fnArray:this.fnArray,argsArray:this.argsArray,length:this.length}}get _transfers(){var Ct;const Nt=[],{fnArray:$t,argsArray:Dt,length:jt}=this;for(let qt=0;qt<jt;qt++)switch($t[qt]){case wt.OPS.paintInlineImageXObject:case wt.OPS.paintInlineImageXObjectGroup:case wt.OPS.paintImageMaskXObject:const Bt=Dt[qt][0];!Bt.cached&&((Ct=Bt.data)==null?void 0:Ct.buffer)instanceof ArrayBuffer&&Nt.push(Bt.data.buffer);break}return Nt}flush(Nt=!1,$t=null){this.optimizer.flush();const Dt=this.length;this._totalLength+=Dt,this._streamSink.enqueue({fnArray:this.fnArray,argsArray:this.argsArray,lastChunk:Nt,separateAnnots:$t,length:Dt},1,this._transfers),this.dependencies.clear(),this.fnArray.length=0,this.argsArray.length=0,this.weight=0,this.optimizer.reset()}};Ur(Xt,"CHUNK_SIZE",1e3),Ur(Xt,"CHUNK_SIZE_ABOUT",Xt.CHUNK_SIZE-5);let Ft=Xt;Et.OperatorList=Ft},(kt,Et,Rt)=>{Object.defineProperty(Et,"__esModule",{value:!0}),Et.PDFImage=void 0;var wt=Rt(2),_t=Rt(28),Pt=Rt(5),_e=Rt(12),bt=Rt(18),Ft=Rt(62),Xt=Rt(26),Kt=Rt(30),Nt=Rt(4);function $t(Ct,qt,Bt,Gt){return Ct=qt+Ct*Bt,Ct<0?Ct=0:Ct>Gt&&(Ct=Gt),Ct}function Dt(Ct,qt,Bt,Gt,en,dn){const Qt=en*dn;let gn;qt<=8?gn=new Uint8Array(Qt):qt<=16?gn=new Uint16Array(Qt):gn=new Uint32Array(Qt);const nn=Bt/en,bn=Gt/dn;let Vt,Yt,hn,Ut=0,Ot;const zt=new Uint16Array(en),an=Bt;for(Vt=0;Vt<en;Vt++)zt[Vt]=Math.floor(Vt*nn);for(Vt=0;Vt<dn;Vt++)for(hn=Math.floor(Vt*bn)*an,Yt=0;Yt<en;Yt++)Ot=hn+zt[Yt],gn[Ut++]=Ct[Ot];return gn}class jt{constructor({xref:qt,res:Bt,image:Gt,isInline:en=!1,smask:dn=null,mask:Qt=null,isMask:gn=!1,pdfFunctionFactory:nn,localColorSpaceCache:bn}){var an;this.image=Gt;const Vt=Gt.dict,Yt=Vt.get("F","Filter");let hn;if(Yt instanceof Nt.Name)hn=Yt.name;else if(Array.isArray(Yt)){const Ht=qt.fetchIfRef(Yt[0]);Ht instanceof Nt.Name&&(hn=Ht.name)}switch(hn){case"JPXDecode":const Ht=new Kt.JpxImage;Ht.parseImageProperties(Gt.stream),Gt.stream.reset(),Gt.width=Ht.width,Gt.height=Ht.height,Gt.bitsPerComponent=Ht.bitsPerComponent,Gt.numComps=Ht.componentsCount;break;case"JBIG2Decode":Gt.bitsPerComponent=1,Gt.numComps=1;break}let Ut=Vt.get("W","Width"),Ot=Vt.get("H","Height");if(Number.isInteger(Gt.width)&&Gt.width>0&&Number.isInteger(Gt.height)&&Gt.height>0&&(Gt.width!==Ut||Gt.height!==Ot)&&((0,wt.warn)("PDFImage - using the Width/Height of the image data, rather than the image dictionary."),Ut=Gt.width,Ot=Gt.height),Ut<1||Ot<1)throw new wt.FormatError(`Invalid image width: ${Ut} or height: ${Ot}`);this.width=Ut,this.height=Ot,this.interpolate=Vt.get("I","Interpolate"),this.imageMask=Vt.get("IM","ImageMask")||!1,this.matte=Vt.get("Matte")||!1;let zt=Gt.bitsPerComponent;if(!zt&&(zt=Vt.get("BPC","BitsPerComponent"),!zt))if(this.imageMask)zt=1;else throw new wt.FormatError(`Bits per component missing in image: ${this.imageMask}`);if(this.bpc=zt,!this.imageMask){let Ht=Vt.getRaw("CS")||Vt.getRaw("ColorSpace");if(!Ht)switch((0,wt.info)("JPX images (which do not require color spaces)"),Gt.numComps){case 1:Ht=Nt.Name.get("DeviceGray");break;case 3:Ht=Nt.Name.get("DeviceRGB");break;case 4:Ht=Nt.Name.get("DeviceCMYK");break;default:throw new Error(`JPX images with ${Gt.numComps} color components not supported.`)}this.colorSpace=_e.ColorSpace.parse({cs:Ht,xref:qt,resources:en?Bt:null,pdfFunctionFactory:nn,localColorSpaceCache:bn}),this.numComps=this.colorSpace.numComps}if(this.decode=Vt.getArray("D","Decode"),this.needsDecode=!1,this.decode&&(this.colorSpace&&!this.colorSpace.isDefaultDecode(this.decode,zt)||gn&&!_e.ColorSpace.isDefaultDecode(this.decode,1))){this.needsDecode=!0;const Ht=(1<<zt)-1;this.decodeCoefficients=[],this.decodeAddends=[];const Wt=((an=this.colorSpace)==null?void 0:an.name)==="Indexed";for(let tn=0,ln=0;tn<this.decode.length;tn+=2,++ln){const on=this.decode[tn],cn=this.decode[tn+1];this.decodeCoefficients[ln]=Wt?(cn-on)/Ht:cn-on,this.decodeAddends[ln]=Wt?on:Ht*on}}dn?this.smask=new jt({xref:qt,res:Bt,image:dn,isInline:en,pdfFunctionFactory:nn,localColorSpaceCache:bn}):Qt&&(Qt instanceof Pt.BaseStream?Qt.dict.get("IM","ImageMask")?this.mask=new jt({xref:qt,res:Bt,image:Qt,isInline:en,isMask:!0,pdfFunctionFactory:nn,localColorSpaceCache:bn}):(0,wt.warn)("Ignoring /Mask in image without /ImageMask."):this.mask=Qt)}static async buildImage({xref:qt,res:Bt,image:Gt,isInline:en=!1,pdfFunctionFactory:dn,localColorSpaceCache:Qt}){const gn=Gt;let nn=null,bn=null;const Vt=Gt.dict.get("SMask"),Yt=Gt.dict.get("Mask");return Vt?Vt instanceof Pt.BaseStream?nn=Vt:(0,wt.warn)("Unsupported /SMask format."):Yt&&(Yt instanceof Pt.BaseStream||Array.isArray(Yt)?bn=Yt:(0,wt.warn)("Unsupported /Mask format.")),new jt({xref:qt,res:Bt,image:gn,isInline:en,smask:nn,mask:bn,pdfFunctionFactory:dn,localColorSpaceCache:Qt})}static createRawMask({imgArray:qt,width:Bt,height:Gt,imageIsFromDecodeStream:en,inverseDecode:dn,interpolate:Qt}){const gn=(Bt+7>>3)*Gt,nn=qt.byteLength,bn=gn===nn;let Vt,Yt;if(en&&(!dn||bn)?Vt=qt:dn?(Vt=new Uint8Array(gn),Vt.set(qt),Vt.fill(255,nn)):Vt=new Uint8Array(qt),dn)for(Yt=0;Yt<nn;Yt++)Vt[Yt]^=255;return{data:Vt,width:Bt,height:Gt,interpolate:Qt}}static async createMask({imgArray:qt,width:Bt,height:Gt,imageIsFromDecodeStream:en,inverseDecode:dn,interpolate:Qt,isOffscreenCanvasSupported:gn=!1}){const nn=Bt===1&&Gt===1&&dn===(qt.length===0||!!(qt[0]&128));if(nn)return{isSingleOpaquePixel:nn};if(gn){if(Ft.ImageResizer.needsToBeResized(Bt,Gt)){const Ut=new Uint8ClampedArray(Bt*Gt*4);return(0,_t.convertBlackAndWhiteToRGBA)({src:qt,dest:Ut,width:Bt,height:Gt,nonBlackColor:0,inverseDecode:dn}),Ft.ImageResizer.createImage({kind:wt.ImageKind.RGBA_32BPP,data:Ut,width:Bt,height:Gt,interpolate:Qt})}const bn=new OffscreenCanvas(Bt,Gt),Vt=bn.getContext("2d"),Yt=Vt.createImageData(Bt,Gt);(0,_t.convertBlackAndWhiteToRGBA)({src:qt,dest:Yt.data,width:Bt,height:Gt,nonBlackColor:0,inverseDecode:dn}),Vt.putImageData(Yt,0,0);const hn=bn.transferToImageBitmap();return{data:null,width:Bt,height:Gt,interpolate:Qt,bitmap:hn}}return this.createRawMask({imgArray:qt,width:Bt,height:Gt,inverseDecode:dn,imageIsFromDecodeStream:en,interpolate:Qt})}get drawWidth(){var qt,Bt;return Math.max(this.width,((qt=this.smask)==null?void 0:qt.width)||0,((Bt=this.mask)==null?void 0:Bt.width)||0)}get drawHeight(){var qt,Bt;return Math.max(this.height,((qt=this.smask)==null?void 0:qt.height)||0,((Bt=this.mask)==null?void 0:Bt.height)||0)}decodeBuffer(qt){const Bt=this.bpc,Gt=this.numComps,en=this.decodeAddends,dn=this.decodeCoefficients,Qt=(1<<Bt)-1;let gn,nn;if(Bt===1){for(gn=0,nn=qt.length;gn<nn;gn++)qt[gn]=+!qt[gn];return}let bn=0;for(gn=0,nn=this.width*this.height;gn<nn;gn++)for(let Vt=0;Vt<Gt;Vt++)qt[bn]=$t(qt[bn],en[Vt],dn[Vt],Qt),bn++}getComponents(qt){const Bt=this.bpc;if(Bt===8)return qt;const Gt=this.width,en=this.height,dn=this.numComps,Qt=Gt*en*dn;let gn=0,nn;Bt<=8?nn=new Uint8Array(Qt):Bt<=16?nn=new Uint16Array(Qt):nn=new Uint32Array(Qt);const bn=Gt*dn,Vt=(1<<Bt)-1;let Yt=0,hn,Ut;if(Bt===1){let Ot,zt,an;for(let Ht=0;Ht<en;Ht++){for(zt=Yt+(bn&-8),an=Yt+bn;Yt<zt;)Ut=qt[gn++],nn[Yt]=Ut>>7&1,nn[Yt+1]=Ut>>6&1,nn[Yt+2]=Ut>>5&1,nn[Yt+3]=Ut>>4&1,nn[Yt+4]=Ut>>3&1,nn[Yt+5]=Ut>>2&1,nn[Yt+6]=Ut>>1&1,nn[Yt+7]=Ut&1,Yt+=8;if(Yt<an)for(Ut=qt[gn++],Ot=128;Yt<an;)nn[Yt++]=+!!(Ut&Ot),Ot>>=1}}else{let Ot=0;for(Ut=0,Yt=0,hn=Qt;Yt<hn;++Yt){for(Yt%bn===0&&(Ut=0,Ot=0);Ot<Bt;)Ut=Ut<<8|qt[gn++],Ot+=8;const zt=Ot-Bt;let an=Ut>>zt;an<0?an=0:an>Vt&&(an=Vt),nn[Yt]=an,Ut&=(1<<zt)-1,Ot=zt}}return nn}fillOpacity(qt,Bt,Gt,en,dn){const Qt=this.smask,gn=this.mask;let nn,bn,Vt,Yt,hn,Ut;if(Qt)bn=Qt.width,Vt=Qt.height,nn=new Uint8ClampedArray(bn*Vt),Qt.fillGrayBuffer(nn),(bn!==Bt||Vt!==Gt)&&(nn=Dt(nn,Qt.bpc,bn,Vt,Bt,Gt));else if(gn)if(gn instanceof jt){for(bn=gn.width,Vt=gn.height,nn=new Uint8ClampedArray(bn*Vt),gn.numComps=1,gn.fillGrayBuffer(nn),Yt=0,hn=bn*Vt;Yt<hn;++Yt)nn[Yt]=255-nn[Yt];(bn!==Bt||Vt!==Gt)&&(nn=Dt(nn,gn.bpc,bn,Vt,Bt,Gt))}else if(Array.isArray(gn)){nn=new Uint8ClampedArray(Bt*Gt);const Ot=this.numComps;for(Yt=0,hn=Bt*Gt;Yt<hn;++Yt){let zt=0;const an=Yt*Ot;for(Ut=0;Ut<Ot;++Ut){const Ht=dn[an+Ut],Wt=Ut*2;if(Ht<gn[Wt]||Ht>gn[Wt+1]){zt=255;break}}nn[Yt]=zt}}else throw new wt.FormatError("Unknown mask format.");if(nn)for(Yt=0,Ut=3,hn=Bt*en;Yt<hn;++Yt,Ut+=4)qt[Ut]=nn[Yt];else for(Yt=0,Ut=3,hn=Bt*en;Yt<hn;++Yt,Ut+=4)qt[Ut]=255}undoPreblend(qt,Bt,Gt){var Vt;const en=(Vt=this.smask)==null?void 0:Vt.matte;if(!en)return;const dn=this.colorSpace.getRgb(en,0),Qt=dn[0],gn=dn[1],nn=dn[2],bn=Bt*Gt*4;for(let Yt=0;Yt<bn;Yt+=4){const hn=qt[Yt+3];if(hn===0){qt[Yt]=255,qt[Yt+1]=255,qt[Yt+2]=255;continue}const Ut=255/hn;qt[Yt]=(qt[Yt]-Qt)*Ut+Qt,qt[Yt+1]=(qt[Yt+1]-gn)*Ut+gn,qt[Yt+2]=(qt[Yt+2]-nn)*Ut+nn}}async createImageData(qt=!1,Bt=!1){const Gt=this.drawWidth,en=this.drawHeight,dn={width:Gt,height:en,interpolate:this.interpolate,kind:0,data:null},Qt=this.numComps,gn=this.width,nn=this.height,bn=this.bpc,Vt=gn*Qt*bn+7>>3,Yt=Bt&&Ft.ImageResizer.needsToBeResized(Gt,en);if(!qt){let on;if(this.colorSpace.name==="DeviceGray"&&bn===1?on=wt.ImageKind.GRAYSCALE_1BPP:this.colorSpace.name==="DeviceRGB"&&bn===8&&!this.needsDecode&&(on=wt.ImageKind.RGB_24BPP),on&&!this.smask&&!this.mask&&Gt===gn&&en===nn){const cn=this.getImageBytes(nn*Vt,{});if(Bt)return Yt?Ft.ImageResizer.createImage({data:cn,kind:on,width:Gt,height:en,interpolate:this.interpolate},this.needsDecode):this.createBitmap(on,gn,nn,cn);if(dn.kind=on,dn.data=cn,this.needsDecode){(0,wt.assert)(on===wt.ImageKind.GRAYSCALE_1BPP,"PDFImage.createImageData: The image must be grayscale.");const sn=dn.data;for(let rn=0,xn=sn.length;rn<xn;rn++)sn[rn]^=255}return dn}if(this.image instanceof Xt.JpegStream&&!this.smask&&!this.mask&&!this.needsDecode){let cn=nn*Vt;if(Bt&&!Yt){let sn=!1;switch(this.colorSpace.name){case"DeviceGray":cn*=4,sn=!0;break;case"DeviceRGB":cn=cn/3*4,sn=!0;break;case"DeviceCMYK":sn=!0;break}if(sn){const rn=this.getImageBytes(cn,{drawWidth:Gt,drawHeight:en,forceRGBA:!0});return this.createBitmap(wt.ImageKind.RGBA_32BPP,Gt,en,rn)}}else switch(this.colorSpace.name){case"DeviceGray":cn*=3;case"DeviceRGB":case"DeviceCMYK":return dn.kind=wt.ImageKind.RGB_24BPP,dn.data=this.getImageBytes(cn,{drawWidth:Gt,drawHeight:en,forceRGB:!0}),Yt?Ft.ImageResizer.createImage(dn):dn}}}const hn=this.getImageBytes(nn*Vt,{internal:!0}),Ut=0|hn.length/Vt*en/nn,Ot=this.getComponents(hn);let zt,an,Ht,Wt,tn,ln;if(Bt&&!Yt&&(Ht=new OffscreenCanvas(Gt,en),Wt=Ht.getContext("2d"),tn=Wt.createImageData(Gt,en),ln=tn.data),dn.kind=wt.ImageKind.RGBA_32BPP,!qt&&!this.smask&&!this.mask?(!Bt||Yt?(dn.kind=wt.ImageKind.RGB_24BPP,ln=new Uint8ClampedArray(Gt*en*3),zt=0):(new Uint32Array(ln.buffer).fill(wt.FeatureTest.isLittleEndian?4278190080:255),zt=1),an=!1):((!Bt||Yt)&&(ln=new Uint8ClampedArray(Gt*en*4)),zt=1,an=!0,this.fillOpacity(ln,Gt,en,Ut,Ot)),this.needsDecode&&this.decodeBuffer(Ot),this.colorSpace.fillRgb(ln,gn,nn,Gt,en,Ut,bn,Ot,zt),an&&this.undoPreblend(ln,Gt,Ut),Bt&&!Yt){Wt.putImageData(tn,0,0);const on=Ht.transferToImageBitmap();return{data:null,width:Gt,height:en,bitmap:on,interpolate:this.interpolate}}return dn.data=ln,Yt?Ft.ImageResizer.createImage(dn):dn}fillGrayBuffer(qt){const Bt=this.numComps;if(Bt!==1)throw new wt.FormatError(`Reading gray scale from a color image: ${Bt}`);const Gt=this.width,en=this.height,dn=this.bpc,Qt=Gt*Bt*dn+7>>3,gn=this.getImageBytes(en*Qt,{internal:!0}),nn=this.getComponents(gn);let bn,Vt;if(dn===1){if(Vt=Gt*en,this.needsDecode)for(bn=0;bn<Vt;++bn)qt[bn]=nn[bn]-1&255;else for(bn=0;bn<Vt;++bn)qt[bn]=-nn[bn]&255;return}this.needsDecode&&this.decodeBuffer(nn),Vt=Gt*en;const Yt=255/((1<<dn)-1);for(bn=0;bn<Vt;++bn)qt[bn]=Yt*nn[bn]}createBitmap(qt,Bt,Gt,en){const dn=new OffscreenCanvas(Bt,Gt),Qt=dn.getContext("2d");let gn;qt===wt.ImageKind.RGBA_32BPP?gn=new ImageData(en,Bt,Gt):(gn=Qt.createImageData(Bt,Gt),(0,_t.convertToRGBA)({kind:qt,src:en,dest:new Uint32Array(gn.data.buffer),width:Bt,height:Gt,inverseDecode:this.needsDecode})),Qt.putImageData(gn,0,0);const nn=dn.transferToImageBitmap();return{data:null,width:Bt,height:Gt,bitmap:nn,interpolate:this.interpolate}}getImageBytes(qt,{drawWidth:Bt,drawHeight:Gt,forceRGBA:en=!1,forceRGB:dn=!1,internal:Qt=!1}){this.image.reset(),this.image.drawWidth=Bt||this.width,this.image.drawHeight=Gt||this.height,this.image.forceRGBA=!!en,this.image.forceRGB=!!dn;const gn=this.image.getBytes(qt);return Qt||this.image instanceof bt.DecodeStream?gn:((0,wt.assert)(gn instanceof Uint8Array,'PDFImage.getImageBytes: Unsupported "imageBytes" type.'),new Uint8Array(gn))}}Et.PDFImage=jt},(kt,Et,Rt)=>{Object.defineProperty(Et,"__esModule",{value:!0}),Et.Catalog=void 0;var wt=Rt(3),_t=Rt(2),Pt=Rt(4),_e=Rt(67),bt=Rt(5),Ft=Rt(68),Xt=Rt(12),Kt=Rt(69),Nt=Rt(59),$t=Rt(70),Dt=Rt(72);function jt(qt){return qt instanceof Pt.Dict&&(qt=qt.get("D")),Array.isArray(qt)?qt:null}class Ct{constructor(Bt,Gt){if(this.pdfManager=Bt,this.xref=Gt,this._catDict=Gt.getCatalogObj(),!(this._catDict instanceof Pt.Dict))throw new _t.FormatError("Catalog object is not a dictionary.");this.toplevelPagesDict,this._actualNumPages=null,this.fontCache=new Pt.RefSetCache,this.builtInCMapCache=new Map,this.standardFontDataCache=new Map,this.globalImageCache=new Nt.GlobalImageCache,this.pageKidsCountCache=new Pt.RefSetCache,this.pageIndexCache=new Pt.RefSetCache,this.nonBlendModesSet=new Pt.RefSet,this.systemFontCache=new Map}cloneDict(){return this._catDict.clone()}get version(){const Bt=this._catDict.get("Version");if(Bt instanceof Pt.Name){if(wt.PDF_VERSION_REGEXP.test(Bt.name))return(0,_t.shadow)(this,"version",Bt.name);(0,_t.warn)(`Invalid PDF catalog version: ${Bt.name}`)}return(0,_t.shadow)(this,"version",null)}get lang(){const Bt=this._catDict.get("Lang");return(0,_t.shadow)(this,"lang",typeof Bt=="string"?(0,_t.stringToPDFString)(Bt):null)}get needsRendering(){const Bt=this._catDict.get("NeedsRendering");return(0,_t.shadow)(this,"needsRendering",typeof Bt=="boolean"?Bt:!1)}get collection(){let Bt=null;try{const Gt=this._catDict.get("Collection");Gt instanceof Pt.Dict&&Gt.size>0&&(Bt=Gt)}catch(Gt){if(Gt instanceof wt.MissingDataException)throw Gt;(0,_t.info)("Cannot fetch Collection entry; assuming no collection is present.")}return(0,_t.shadow)(this,"collection",Bt)}get acroForm(){let Bt=null;try{const Gt=this._catDict.get("AcroForm");Gt instanceof Pt.Dict&&Gt.size>0&&(Bt=Gt)}catch(Gt){if(Gt instanceof wt.MissingDataException)throw Gt;(0,_t.info)("Cannot fetch AcroForm entry; assuming no forms are present.")}return(0,_t.shadow)(this,"acroForm",Bt)}get acroFormRef(){const Bt=this._catDict.getRaw("AcroForm");return(0,_t.shadow)(this,"acroFormRef",Bt instanceof Pt.Ref?Bt:null)}get metadata(){var en;const Bt=this._catDict.getRaw("Metadata");if(!(Bt instanceof Pt.Ref))return(0,_t.shadow)(this,"metadata",null);let Gt=null;try{const dn=this.xref.fetch(Bt,!((en=this.xref.encrypt)!=null&&en.encryptMetadata));if(dn instanceof bt.BaseStream&&dn.dict instanceof Pt.Dict){const Qt=dn.dict.get("Type"),gn=dn.dict.get("Subtype");if((0,Pt.isName)(Qt,"Metadata")&&(0,Pt.isName)(gn,"XML")){const nn=(0,_t.stringToUTF8String)(dn.getString());nn&&(Gt=new $t.MetadataParser(nn).serializable)}}}catch(dn){if(dn instanceof wt.MissingDataException)throw dn;(0,_t.info)(`Skipping invalid Metadata: "${dn}".`)}return(0,_t.shadow)(this,"metadata",Gt)}get markInfo(){let Bt=null;try{Bt=this._readMarkInfo()}catch(Gt){if(Gt instanceof wt.MissingDataException)throw Gt;(0,_t.warn)("Unable to read mark info.")}return(0,_t.shadow)(this,"markInfo",Bt)}_readMarkInfo(){const Bt=this._catDict.get("MarkInfo");if(!(Bt instanceof Pt.Dict))return null;const Gt={Marked:!1,UserProperties:!1,Suspects:!1};for(const en in Gt){const dn=Bt.get(en);typeof dn=="boolean"&&(Gt[en]=dn)}return Gt}get structTreeRoot(){let Bt=null;try{Bt=this._readStructTreeRoot()}catch(Gt){if(Gt instanceof wt.MissingDataException)throw Gt;(0,_t.warn)("Unable read to structTreeRoot info.")}return(0,_t.shadow)(this,"structTreeRoot",Bt)}_readStructTreeRoot(){const Bt=this._catDict.getRaw("StructTreeRoot"),Gt=this.xref.fetchIfRef(Bt);if(!(Gt instanceof Pt.Dict))return null;const en=new Dt.StructTreeRoot(Gt,Bt);return en.init(),en}get toplevelPagesDict(){const Bt=this._catDict.get("Pages");if(!(Bt instanceof Pt.Dict))throw new _t.FormatError("Invalid top-level pages dictionary.");return(0,_t.shadow)(this,"toplevelPagesDict",Bt)}get documentOutline(){let Bt=null;try{Bt=this._readDocumentOutline()}catch(Gt){if(Gt instanceof wt.MissingDataException)throw Gt;(0,_t.warn)("Unable to read document outline.")}return(0,_t.shadow)(this,"documentOutline",Bt)}_readDocumentOutline(){let Bt=this._catDict.get("Outlines");if(!(Bt instanceof Pt.Dict)||(Bt=Bt.getRaw("First"),!(Bt instanceof Pt.Ref)))return null;const Gt={items:[]},en=[{obj:Bt,parent:Gt}],dn=new Pt.RefSet;dn.put(Bt);const Qt=this.xref,gn=new Uint8ClampedArray(3);for(;en.length>0;){const nn=en.shift(),bn=Qt.fetchIfRef(nn.obj);if(bn===null)continue;if(!bn.has("Title"))throw new _t.FormatError("Invalid outline item encountered.");const Vt={url:null,dest:null,action:null};Ct.parseDestDictionary({destDict:bn,resultObj:Vt,docBaseUrl:this.baseUrl,docAttachments:this.attachments});const Yt=bn.get("Title"),hn=bn.get("F")||0,Ut=bn.getArray("C"),Ot=bn.get("Count");let zt=gn;Array.isArray(Ut)&&Ut.length===3&&(Ut[0]!==0||Ut[1]!==0||Ut[2]!==0)&&(zt=Xt.ColorSpace.singletons.rgb.getRgb(Ut,0));const an={action:Vt.action,attachment:Vt.attachment,dest:Vt.dest,url:Vt.url,unsafeUrl:Vt.unsafeUrl,newWindow:Vt.newWindow,setOCGState:Vt.setOCGState,title:(0,_t.stringToPDFString)(Yt),color:zt,count:Number.isInteger(Ot)?Ot:void 0,bold:!!(hn&2),italic:!!(hn&1),items:[]};nn.parent.items.push(an),Bt=bn.getRaw("First"),Bt instanceof Pt.Ref&&!dn.has(Bt)&&(en.push({obj:Bt,parent:an}),dn.put(Bt)),Bt=bn.getRaw("Next"),Bt instanceof Pt.Ref&&!dn.has(Bt)&&(en.push({obj:Bt,parent:nn.parent}),dn.put(Bt))}return Gt.items.length>0?Gt.items:null}get permissions(){let Bt=null;try{Bt=this._readPermissions()}catch(Gt){if(Gt instanceof wt.MissingDataException)throw Gt;(0,_t.warn)("Unable to read permissions.")}return(0,_t.shadow)(this,"permissions",Bt)}_readPermissions(){const Bt=this.xref.trailer.get("Encrypt");if(!(Bt instanceof Pt.Dict))return null;let Gt=Bt.get("P");if(typeof Gt!="number")return null;Gt+=4294967296;const en=[];for(const dn in _t.PermissionFlag){const Qt=_t.PermissionFlag[dn];Gt&Qt&&en.push(Qt)}return en}get optionalContentConfig(){let Bt=null;try{const Gt=this._catDict.get("OCProperties");if(!Gt)return(0,_t.shadow)(this,"optionalContentConfig",null);const en=Gt.get("D");if(!en)return(0,_t.shadow)(this,"optionalContentConfig",null);const dn=Gt.get("OCGs");if(!Array.isArray(dn))return(0,_t.shadow)(this,"optionalContentConfig",null);const Qt=[],gn=[];for(const nn of dn){if(!(nn instanceof Pt.Ref))continue;gn.push(nn);const bn=this.xref.fetchIfRef(nn);Qt.push({id:nn.toString(),name:typeof bn.get("Name")=="string"?(0,_t.stringToPDFString)(bn.get("Name")):null,intent:typeof bn.get("Intent")=="string"?(0,_t.stringToPDFString)(bn.get("Intent")):null})}Bt=this._readOptionalContentConfig(en,gn),Bt.groups=Qt}catch(Gt){if(Gt instanceof wt.MissingDataException)throw Gt;(0,_t.warn)(`Unable to read optional content config: ${Gt}`)}return(0,_t.shadow)(this,"optionalContentConfig",Bt)}_readOptionalContentConfig(Bt,Gt){function en(Vt){const Yt=[];if(Array.isArray(Vt))for(const hn of Vt)hn instanceof Pt.Ref&&Gt.includes(hn)&&Yt.push(hn.toString());return Yt}function dn(Vt,Yt=0){if(!Array.isArray(Vt))return null;const hn=[];for(const Ot of Vt){if(Ot instanceof Pt.Ref&&Gt.includes(Ot)){nn.put(Ot),hn.push(Ot.toString());continue}const zt=Qt(Ot,Yt);zt&&hn.push(zt)}if(Yt>0)return hn;const Ut=[];for(const Ot of Gt)nn.has(Ot)||Ut.push(Ot.toString());return Ut.length&&hn.push({name:null,order:Ut}),hn}function Qt(Vt,Yt){if(++Yt>bn)return(0,_t.warn)("parseNestedOrder - reached MAX_NESTED_LEVELS."),null;const hn=gn.fetchIfRef(Vt);if(!Array.isArray(hn))return null;const Ut=gn.fetchIfRef(hn[0]);if(typeof Ut!="string")return null;const Ot=dn(hn.slice(1),Yt);return!Ot||!Ot.length?null:{name:(0,_t.stringToPDFString)(Ut),order:Ot}}const gn=this.xref,nn=new Pt.RefSet,bn=10;return{name:typeof Bt.get("Name")=="string"?(0,_t.stringToPDFString)(Bt.get("Name")):null,creator:typeof Bt.get("Creator")=="string"?(0,_t.stringToPDFString)(Bt.get("Creator")):null,baseState:Bt.get("BaseState")instanceof Pt.Name?Bt.get("BaseState").name:null,on:en(Bt.get("ON")),off:en(Bt.get("OFF")),order:dn(Bt.get("Order")),groups:null}}setActualNumPages(Bt=null){this._actualNumPages=Bt}get hasActualNumPages(){return this._actualNumPages!==null}get _pagesCount(){const Bt=this.toplevelPagesDict.get("Count");if(!Number.isInteger(Bt))throw new _t.FormatError("Page count in top-level pages dictionary is not an integer.");return(0,_t.shadow)(this,"_pagesCount",Bt)}get numPages(){return this.hasActualNumPages?this._actualNumPages:this._pagesCount}get destinations(){const Bt=this._readDests(),Gt=Object.create(null);if(Bt instanceof _e.NameTree)for(const[en,dn]of Bt.getAll()){const Qt=jt(dn);Qt&&(Gt[(0,_t.stringToPDFString)(en)]=Qt)}else Bt instanceof Pt.Dict&&Bt.forEach(function(en,dn){const Qt=jt(dn);Qt&&(Gt[en]=Qt)});return(0,_t.shadow)(this,"destinations",Gt)}getDestination(Bt){const Gt=this._readDests();if(Gt instanceof _e.NameTree){const en=jt(Gt.get(Bt));if(en)return en;const dn=this.destinations[Bt];if(dn)return(0,_t.warn)(`Found "${Bt}" at an incorrect position in the NameTree.`),dn}else if(Gt instanceof Pt.Dict){const en=jt(Gt.get(Bt));if(en)return en}return null}_readDests(){const Bt=this._catDict.get("Names");if(Bt!=null&&Bt.has("Dests"))return new _e.NameTree(Bt.getRaw("Dests"),this.xref);if(this._catDict.has("Dests"))return this._catDict.get("Dests")}get pageLabels(){let Bt=null;try{Bt=this._readPageLabels()}catch(Gt){if(Gt instanceof wt.MissingDataException)throw Gt;(0,_t.warn)("Unable to read page labels.")}return(0,_t.shadow)(this,"pageLabels",Bt)}_readPageLabels(){const Bt=this._catDict.getRaw("PageLabels");if(!Bt)return null;const Gt=new Array(this.numPages);let en=null,dn="";const gn=new _e.NumberTree(Bt,this.xref).getAll();let nn="",bn=1;for(let Vt=0,Yt=this.numPages;Vt<Yt;Vt++){const hn=gn.get(Vt);if(hn!==void 0){if(!(hn instanceof Pt.Dict))throw new _t.FormatError("PageLabel is not a dictionary.");if(hn.has("Type")&&!(0,Pt.isName)(hn.get("Type"),"PageLabel"))throw new _t.FormatError("Invalid type in PageLabel dictionary.");if(hn.has("S")){const Ut=hn.get("S");if(!(Ut instanceof Pt.Name))throw new _t.FormatError("Invalid style in PageLabel dictionary.");en=Ut.name}else en=null;if(hn.has("P")){const Ut=hn.get("P");if(typeof Ut!="string")throw new _t.FormatError("Invalid prefix in PageLabel dictionary.");dn=(0,_t.stringToPDFString)(Ut)}else dn="";if(hn.has("St")){const Ut=hn.get("St");if(!(Number.isInteger(Ut)&&Ut>=1))throw new _t.FormatError("Invalid start in PageLabel dictionary.");bn=Ut}else bn=1}switch(en){case"D":nn=bn;break;case"R":case"r":nn=(0,wt.toRomanNumerals)(bn,en==="r");break;case"A":case"a":const Ut=26,an=en==="a"?97:65,Ht=bn-1;nn=String.fromCharCode(an+Ht%Ut).repeat(Math.floor(Ht/Ut)+1);break;default:if(en)throw new _t.FormatError(`Invalid style "${en}" in PageLabel dictionary.`);nn=""}Gt[Vt]=dn+nn,bn++}return Gt}get pageLayout(){const Bt=this._catDict.get("PageLayout");let Gt="";if(Bt instanceof Pt.Name)switch(Bt.name){case"SinglePage":case"OneColumn":case"TwoColumnLeft":case"TwoColumnRight":case"TwoPageLeft":case"TwoPageRight":Gt=Bt.name}return(0,_t.shadow)(this,"pageLayout",Gt)}get pageMode(){const Bt=this._catDict.get("PageMode");let Gt="UseNone";if(Bt instanceof Pt.Name)switch(Bt.name){case"UseNone":case"UseOutlines":case"UseThumbs":case"FullScreen":case"UseOC":case"UseAttachments":Gt=Bt.name}return(0,_t.shadow)(this,"pageMode",Gt)}get viewerPreferences(){const Bt=this._catDict.get("ViewerPreferences");if(!(Bt instanceof Pt.Dict))return(0,_t.shadow)(this,"viewerPreferences",null);let Gt=null;for(const en of Bt.getKeys()){const dn=Bt.get(en);let Qt;switch(en){case"HideToolbar":case"HideMenubar":case"HideWindowUI":case"FitWindow":case"CenterWindow":case"DisplayDocTitle":case"PickTrayByPDFSize":typeof dn=="boolean"&&(Qt=dn);break;case"NonFullScreenPageMode":if(dn instanceof Pt.Name)switch(dn.name){case"UseNone":case"UseOutlines":case"UseThumbs":case"UseOC":Qt=dn.name;break;default:Qt="UseNone"}break;case"Direction":if(dn instanceof Pt.Name)switch(dn.name){case"L2R":case"R2L":Qt=dn.name;break;default:Qt="L2R"}break;case"ViewArea":case"ViewClip":case"PrintArea":case"PrintClip":if(dn instanceof Pt.Name)switch(dn.name){case"MediaBox":case"CropBox":case"BleedBox":case"TrimBox":case"ArtBox":Qt=dn.name;break;default:Qt="CropBox"}break;case"PrintScaling":if(dn instanceof Pt.Name)switch(dn.name){case"None":case"AppDefault":Qt=dn.name;break;default:Qt="AppDefault"}break;case"Duplex":if(dn instanceof Pt.Name)switch(dn.name){case"Simplex":case"DuplexFlipShortEdge":case"DuplexFlipLongEdge":Qt=dn.name;break;default:Qt="None"}break;case"PrintPageRange":Array.isArray(dn)&&dn.length%2===0&&dn.every((nn,bn,Vt)=>Number.isInteger(nn)&&nn>0&&(bn===0||nn>=Vt[bn-1])&&nn<=this.numPages)&&(Qt=dn);break;case"NumCopies":Number.isInteger(dn)&&dn>0&&(Qt=dn);break;default:(0,_t.warn)(`Ignoring non-standard key in ViewerPreferences: ${en}.`);continue}if(Qt===void 0){(0,_t.warn)(`Bad value, for key "${en}", in ViewerPreferences: ${dn}.`);continue}Gt||(Gt=Object.create(null)),Gt[en]=Qt}return(0,_t.shadow)(this,"viewerPreferences",Gt)}get openAction(){const Bt=this._catDict.get("OpenAction"),Gt=Object.create(null);if(Bt instanceof Pt.Dict){const en=new Pt.Dict(this.xref);en.set("A",Bt);const dn={url:null,dest:null,action:null};Ct.parseDestDictionary({destDict:en,resultObj:dn}),Array.isArray(dn.dest)?Gt.dest=dn.dest:dn.action&&(Gt.action=dn.action)}else Array.isArray(Bt)&&(Gt.dest=Bt);return(0,_t.shadow)(this,"openAction",(0,_t.objectSize)(Gt)>0?Gt:null)}get attachments(){const Bt=this._catDict.get("Names");let Gt=null;if(Bt instanceof Pt.Dict&&Bt.has("EmbeddedFiles")){const en=new _e.NameTree(Bt.getRaw("EmbeddedFiles"),this.xref);for(const[dn,Qt]of en.getAll()){const gn=new Kt.FileSpec(Qt,this.xref);Gt||(Gt=Object.create(null)),Gt[(0,_t.stringToPDFString)(dn)]=gn.serializable}}return(0,_t.shadow)(this,"attachments",Gt)}get xfaImages(){const Bt=this._catDict.get("Names");let Gt=null;if(Bt instanceof Pt.Dict&&Bt.has("XFAImages")){const en=new _e.NameTree(Bt.getRaw("XFAImages"),this.xref);for(const[dn,Qt]of en.getAll())Gt||(Gt=new Pt.Dict(this.xref)),Gt.set((0,_t.stringToPDFString)(dn),Qt)}return(0,_t.shadow)(this,"xfaImages",Gt)}_collectJavaScript(){const Bt=this._catDict.get("Names");let Gt=null;function en(Qt,gn){if(!(gn instanceof Pt.Dict)||!(0,Pt.isName)(gn.get("S"),"JavaScript"))return;let nn=gn.get("JS");if(nn instanceof bt.BaseStream)nn=nn.getString();else if(typeof nn!="string")return;nn=(0,_t.stringToPDFString)(nn).replaceAll("\0",""),nn&&(Gt||(Gt=new Map)).set(Qt,nn)}if(Bt instanceof Pt.Dict&&Bt.has("JavaScript")){const Qt=new _e.NameTree(Bt.getRaw("JavaScript"),this.xref);for(const[gn,nn]of Qt.getAll())en((0,_t.stringToPDFString)(gn),nn)}const dn=this._catDict.get("OpenAction");return dn&&en("OpenAction",dn),Gt}get jsActions(){const Bt=this._collectJavaScript();let Gt=(0,wt.collectActions)(this.xref,this._catDict,_t.DocumentActionEventType);if(Bt){Gt||(Gt=Object.create(null));for(const[en,dn]of Bt)en in Gt?Gt[en].push(dn):Gt[en]=[dn]}return(0,_t.shadow)(this,"jsActions",Gt)}async fontFallback(Bt,Gt){const en=await Promise.all(this.fontCache);for(const dn of en)if(dn.loadedName===Bt){dn.fallback(Gt);return}}async cleanup(Bt=!1){(0,Ft.clearGlobalCaches)(),this.globalImageCache.clear(Bt),this.pageKidsCountCache.clear(),this.pageIndexCache.clear(),this.nonBlendModesSet.clear();const Gt=await Promise.all(this.fontCache);for(const{dict:en}of Gt)delete en.cacheKey;this.fontCache.clear(),this.builtInCMapCache.clear(),this.standardFontDataCache.clear(),this.systemFontCache.clear()}async getPageDict(Bt){const Gt=[this.toplevelPagesDict],en=new Pt.RefSet,dn=this._catDict.getRaw("Pages");dn instanceof Pt.Ref&&en.put(dn);const Qt=this.xref,gn=this.pageKidsCountCache,nn=this.pageIndexCache;let bn=0;for(;Gt.length;){const Vt=Gt.pop();if(Vt instanceof Pt.Ref){const Ot=gn.get(Vt);if(Ot>=0&&bn+Ot<=Bt){bn+=Ot;continue}if(en.has(Vt))throw new _t.FormatError("Pages tree contains circular reference.");en.put(Vt);const zt=await Qt.fetchAsync(Vt);if(zt instanceof Pt.Dict){let an=zt.getRaw("Type");if(an instanceof Pt.Ref&&(an=await Qt.fetchAsync(an)),(0,Pt.isName)(an,"Page")||!zt.has("Kids")){if(gn.has(Vt)||gn.put(Vt,1),nn.has(Vt)||nn.put(Vt,bn),bn===Bt)return[zt,Vt];bn++;continue}}Gt.push(zt);continue}if(!(Vt instanceof Pt.Dict))throw new _t.FormatError("Page dictionary kid reference points to wrong type of object.");const{objId:Yt}=Vt;let hn=Vt.getRaw("Count");if(hn instanceof Pt.Ref&&(hn=await Qt.fetchAsync(hn)),Number.isInteger(hn)&&hn>=0&&(Yt&&!gn.has(Yt)&&gn.put(Yt,hn),bn+hn<=Bt)){bn+=hn;continue}let Ut=Vt.getRaw("Kids");if(Ut instanceof Pt.Ref&&(Ut=await Qt.fetchAsync(Ut)),!Array.isArray(Ut)){let Ot=Vt.getRaw("Type");if(Ot instanceof Pt.Ref&&(Ot=await Qt.fetchAsync(Ot)),(0,Pt.isName)(Ot,"Page")||!Vt.has("Kids")){if(bn===Bt)return[Vt,null];bn++;continue}throw new _t.FormatError("Page dictionary kids object is not an array.")}for(let Ot=Ut.length-1;Ot>=0;Ot--)Gt.push(Ut[Ot])}throw new Error(`Page index ${Bt} not found.`)}async getAllPageDicts(Bt=!1){const{ignoreErrors:Gt}=this.pdfManager.evaluatorOptions,en=[{currentNode:this.toplevelPagesDict,posInKids:0}],dn=new Pt.RefSet,Qt=this._catDict.getRaw("Pages");Qt instanceof Pt.Ref&&dn.put(Qt);const gn=new Map,nn=this.xref,bn=this.pageIndexCache;let Vt=0;function Yt(Ut,Ot){Ot&&!bn.has(Ot)&&bn.put(Ot,Vt),gn.set(Vt++,[Ut,Ot])}function hn(Ut){if(Ut instanceof wt.XRefEntryException&&!Bt)throw Ut;Bt&&Gt&&Vt===0&&((0,_t.warn)(`getAllPageDicts - Skipping invalid first page: "${Ut}".`),Ut=Pt.Dict.empty),gn.set(Vt++,[Ut,null])}for(;en.length>0;){const Ut=en.at(-1),{currentNode:Ot,posInKids:zt}=Ut;let an=Ot.getRaw("Kids");if(an instanceof Pt.Ref)try{an=await nn.fetchAsync(an)}catch(ln){hn(ln);break}if(!Array.isArray(an)){hn(new _t.FormatError("Page dictionary kids object is not an array."));break}if(zt>=an.length){en.pop();continue}const Ht=an[zt];let Wt;if(Ht instanceof Pt.Ref){if(dn.has(Ht)){hn(new _t.FormatError("Pages tree contains circular reference."));break}dn.put(Ht);try{Wt=await nn.fetchAsync(Ht)}catch(ln){hn(ln);break}}else Wt=Ht;if(!(Wt instanceof Pt.Dict)){hn(new _t.FormatError("Page dictionary kid reference points to wrong type of object."));break}let tn=Wt.getRaw("Type");if(tn instanceof Pt.Ref)try{tn=await nn.fetchAsync(tn)}catch(ln){hn(ln);break}(0,Pt.isName)(tn,"Page")||!Wt.has("Kids")?Yt(Wt,Ht instanceof Pt.Ref?Ht:null):en.push({currentNode:Wt,posInKids:0}),Ut.posInKids++}return gn}getPageIndex(Bt){const Gt=this.pageIndexCache.get(Bt);if(Gt!==void 0)return Promise.resolve(Gt);const en=this.xref;function dn(nn){let bn=0,Vt;return en.fetchAsync(nn).then(function(Yt){if((0,Pt.isRefsEqual)(nn,Bt)&&!(0,Pt.isDict)(Yt,"Page")&&!(Yt instanceof Pt.Dict&&!Yt.has("Type")&&Yt.has("Contents")))throw new _t.FormatError("The reference does not point to a /Page dictionary.");if(!Yt)return null;if(!(Yt instanceof Pt.Dict))throw new _t.FormatError("Node must be a dictionary.");return Vt=Yt.getRaw("Parent"),Yt.getAsync("Parent")}).then(function(Yt){if(!Yt)return null;if(!(Yt instanceof Pt.Dict))throw new _t.FormatError("Parent must be a dictionary.");return Yt.getAsync("Kids")}).then(function(Yt){if(!Yt)return null;const hn=[];let Ut=!1;for(const Ot of Yt){if(!(Ot instanceof Pt.Ref))throw new _t.FormatError("Kid must be a reference.");if((0,Pt.isRefsEqual)(Ot,nn)){Ut=!0;break}hn.push(en.fetchAsync(Ot).then(function(zt){if(!(zt instanceof Pt.Dict))throw new _t.FormatError("Kid node must be a dictionary.");zt.has("Count")?bn+=zt.get("Count"):bn++}))}if(!Ut)throw new _t.FormatError("Kid reference not found in parent's kids.");return Promise.all(hn).then(function(){return[bn,Vt]})})}let Qt=0;const gn=nn=>dn(nn).then(bn=>{if(!bn)return this.pageIndexCache.put(Bt,Qt),Qt;const[Vt,Yt]=bn;return Qt+=Vt,gn(Yt)});return gn(Bt)}get baseUrl(){const Bt=this._catDict.get("URI");if(Bt instanceof Pt.Dict){const Gt=Bt.get("Base");if(typeof Gt=="string"){const en=(0,_t.createValidAbsoluteUrl)(Gt,null,{tryConvertEncoding:!0});if(en)return(0,_t.shadow)(this,"baseUrl",en.href)}}return(0,_t.shadow)(this,"baseUrl",this.pdfManager.docBaseUrl)}static parseDestDictionary({destDict:Bt,resultObj:Gt,docBaseUrl:en=null,docAttachments:dn=null}){if(!(Bt instanceof Pt.Dict)){(0,_t.warn)("parseDestDictionary: `destDict` must be a dictionary.");return}let Qt=Bt.get("A"),gn,nn;if(Qt instanceof Pt.Dict||(Bt.has("Dest")?Qt=Bt.get("Dest"):(Qt=Bt.get("AA"),Qt instanceof Pt.Dict&&(Qt.has("D")?Qt=Qt.get("D"):Qt.has("U")&&(Qt=Qt.get("U"))))),Qt instanceof Pt.Dict){const bn=Qt.get("S");if(!(bn instanceof Pt.Name)){(0,_t.warn)("parseDestDictionary: Invalid type in Action dictionary.");return}const Vt=bn.name;switch(Vt){case"ResetForm":const Yt=Qt.get("Flags"),hn=((typeof Yt=="number"?Yt:0)&1)===0,Ut=[],Ot=[];for(const En of Qt.get("Fields")||[])En instanceof Pt.Ref?Ot.push(En.toString()):typeof En=="string"&&Ut.push((0,_t.stringToPDFString)(En));Gt.resetForm={fields:Ut,refs:Ot,include:hn};break;case"URI":gn=Qt.get("URI"),gn instanceof Pt.Name&&(gn="/"+gn.name);break;case"GoTo":nn=Qt.get("D");break;case"Launch":case"GoToR":const zt=Qt.get("F");zt instanceof Pt.Dict?gn=zt.get("F")||null:typeof zt=="string"&&(gn=zt);let an=Qt.get("D");if(an&&(an instanceof Pt.Name&&(an=an.name),typeof gn=="string")){const En=gn.split("#")[0];typeof an=="string"?gn=En+"#"+an:Array.isArray(an)&&(gn=En+"#"+JSON.stringify(an))}const Ht=Qt.get("NewWindow");typeof Ht=="boolean"&&(Gt.newWindow=Ht);break;case"GoToE":const Wt=Qt.get("T");let tn;if(dn&&Wt instanceof Pt.Dict){const En=Wt.get("R"),Fn=Wt.get("N");(0,Pt.isName)(En,"C")&&typeof Fn=="string"&&(tn=dn[(0,_t.stringToPDFString)(Fn)])}tn?Gt.attachment=tn:(0,_t.warn)('parseDestDictionary - unimplemented "GoToE" action.');break;case"Named":const ln=Qt.get("N");ln instanceof Pt.Name&&(Gt.action=ln.name);break;case"SetOCGState":const on=Qt.get("State"),cn=Qt.get("PreserveRB");if(!Array.isArray(on)||on.length===0)break;const sn=[];for(const En of on)if(En instanceof Pt.Name)switch(En.name){case"ON":case"OFF":case"Toggle":sn.push(En.name);break}else En instanceof Pt.Ref&&sn.push(En.toString());if(sn.length!==on.length)break;Gt.setOCGState={state:sn,preserveRB:typeof cn=="boolean"?cn:!0};break;case"JavaScript":const rn=Qt.get("JS");let xn;rn instanceof bt.BaseStream?xn=rn.getString():typeof rn=="string"&&(xn=rn);const vn=xn&&(0,wt.recoverJsURL)((0,_t.stringToPDFString)(xn));if(vn){gn=vn.url,Gt.newWindow=vn.newWindow;break}default:if(Vt==="JavaScript"||Vt==="SubmitForm")break;(0,_t.warn)(`parseDestDictionary - unsupported action: "${Vt}".`);break}}else Bt.has("Dest")&&(nn=Bt.get("Dest"));if(typeof gn=="string"){const bn=(0,_t.createValidAbsoluteUrl)(gn,en,{addDefaultProtocol:!0,tryConvertEncoding:!0});bn&&(Gt.url=bn.href),Gt.unsafeUrl=gn}nn&&(nn instanceof Pt.Name&&(nn=nn.name),typeof nn=="string"?Gt.dest=(0,_t.stringToPDFString)(nn):Array.isArray(nn)&&(Gt.dest=nn))}}Et.Catalog=Ct},(kt,Et,Rt)=>{Object.defineProperty(Et,"__esModule",{value:!0}),Et.NumberTree=Et.NameTree=void 0;var wt=Rt(4),_t=Rt(2);class Pt{constructor(Xt,Kt,Nt){this.constructor===Pt&&(0,_t.unreachable)("Cannot initialize NameOrNumberTree."),this.root=Xt,this.xref=Kt,this._type=Nt}getAll(){const Xt=new Map;if(!this.root)return Xt;const Kt=this.xref,Nt=new wt.RefSet;Nt.put(this.root);const $t=[this.root];for(;$t.length>0;){const Dt=Kt.fetchIfRef($t.shift());if(!(Dt instanceof wt.Dict))continue;if(Dt.has("Kids")){const Ct=Dt.get("Kids");if(!Array.isArray(Ct))continue;for(const qt of Ct){if(Nt.has(qt))throw new _t.FormatError(`Duplicate entry in "${this._type}" tree.`);$t.push(qt),Nt.put(qt)}continue}const jt=Dt.get(this._type);if(Array.isArray(jt))for(let Ct=0,qt=jt.length;Ct<qt;Ct+=2)Xt.set(Kt.fetchIfRef(jt[Ct]),Kt.fetchIfRef(jt[Ct+1]))}return Xt}get(Xt){if(!this.root)return null;const Kt=this.xref;let Nt=Kt.fetchIfRef(this.root),$t=0;const Dt=10;for(;Nt.has("Kids");){if(++$t>Dt)return(0,_t.warn)(`Search depth limit reached for "${this._type}" tree.`),null;const Ct=Nt.get("Kids");if(!Array.isArray(Ct))return null;let qt=0,Bt=Ct.length-1;for(;qt<=Bt;){const Gt=qt+Bt>>1,en=Kt.fetchIfRef(Ct[Gt]),dn=en.get("Limits");if(Xt<Kt.fetchIfRef(dn[0]))Bt=Gt-1;else if(Xt>Kt.fetchIfRef(dn[1]))qt=Gt+1;else{Nt=en;break}}if(qt>Bt)return null}const jt=Nt.get(this._type);if(Array.isArray(jt)){let Ct=0,qt=jt.length-2;for(;Ct<=qt;){const Bt=Ct+qt>>1,Gt=Bt+(Bt&1),en=Kt.fetchIfRef(jt[Gt]);if(Xt<en)qt=Gt-2;else if(Xt>en)Ct=Gt+2;else return Kt.fetchIfRef(jt[Gt+1])}}return null}}class _e extends Pt{constructor(Xt,Kt){super(Xt,Kt,"Names")}}Et.NameTree=_e;class bt extends Pt{constructor(Xt,Kt){super(Xt,Kt,"Nums")}}Et.NumberTree=bt},(kt,Et,Rt)=>{Object.defineProperty(Et,"__esModule",{value:!0}),Et.clearGlobalCaches=_e;var wt=Rt(50),_t=Rt(4),Pt=Rt(40);function _e(){(0,wt.clearPatternCaches)(),(0,_t.clearPrimitiveCaches)(),(0,Pt.clearUnicodeCaches)()}},(kt,Et,Rt)=>{Object.defineProperty(Et,"__esModule",{value:!0}),Et.FileSpec=void 0;var wt=Rt(2),_t=Rt(5),Pt=Rt(4);function _e(Ft){return Ft.has("UF")?Ft.get("UF"):Ft.has("F")?Ft.get("F"):Ft.has("Unix")?Ft.get("Unix"):Ft.has("Mac")?Ft.get("Mac"):Ft.has("DOS")?Ft.get("DOS"):null}class bt{constructor(Xt,Kt){Xt instanceof Pt.Dict&&(this.xref=Kt,this.root=Xt,Xt.has("FS")&&(this.fs=Xt.get("FS")),this.description=Xt.has("Desc")?(0,wt.stringToPDFString)(Xt.get("Desc")):"",Xt.has("RF")&&(0,wt.warn)("Related file specifications are not supported"),this.contentAvailable=!0,Xt.has("EF")||(this.contentAvailable=!1,(0,wt.warn)("Non-embedded file specifications are not supported")))}get filename(){if(!this._filename&&this.root){const Xt=_e(this.root)||"unnamed";this._filename=(0,wt.stringToPDFString)(Xt).replaceAll("\\\\","\\").replaceAll("\\/","/").replaceAll("\\","/")}return this._filename}get content(){if(!this.contentAvailable)return null;!this.contentRef&&this.root&&(this.contentRef=_e(this.root.get("EF")));let Xt=null;if(this.contentRef){const Kt=this.xref.fetchIfRef(this.contentRef);Kt instanceof _t.BaseStream?Xt=Kt.getBytes():(0,wt.warn)("Embedded file specification points to non-existing/invalid content")}else(0,wt.warn)("Embedded file specification does not have a content");return Xt}get serializable(){return{filename:this.filename,content:this.content}}}Et.FileSpec=bt},(kt,Et,Rt)=>{Object.defineProperty(Et,"__esModule",{value:!0}),Et.MetadataParser=void 0;var wt=Rt(71);class _t{constructor(_e){_e=this._repair(_e);const Ft=new wt.SimpleXMLParser({lowerCaseName:!0}).parseFromString(_e);this._metadataMap=new Map,this._data=_e,Ft&&this._parse(Ft)}_repair(_e){return _e.replace(/^[^<]+/,"").replaceAll(/>\\376\\377([^<]+)/g,function(bt,Ft){const Xt=Ft.replaceAll(/\\([0-3])([0-7])([0-7])/g,function(Nt,$t,Dt,jt){return String.fromCharCode($t*64+Dt*8+jt*1)}).replaceAll(/&(amp|apos|gt|lt|quot);/g,function(Nt,$t){switch($t){case"amp":return"&";case"apos":return"'";case"gt":return">";case"lt":return"<";case"quot":return'"'}throw new Error(`_repair: ${$t} isn't defined.`)}),Kt=[">"];for(let Nt=0,$t=Xt.length;Nt<$t;Nt+=2){const Dt=Xt.charCodeAt(Nt)*256+Xt.charCodeAt(Nt+1);Dt>=32&&Dt<127&&Dt!==60&&Dt!==62&&Dt!==38?Kt.push(String.fromCharCode(Dt)):Kt.push("&#x"+(65536+Dt).toString(16).substring(1)+";")}return Kt.join("")})}_getSequence(_e){const bt=_e.nodeName;return bt!=="rdf:bag"&&bt!=="rdf:seq"&&bt!=="rdf:alt"?null:_e.childNodes.filter(Ft=>Ft.nodeName==="rdf:li")}_parseArray(_e){if(!_e.hasChildNodes())return;const[bt]=_e.childNodes,Ft=this._getSequence(bt)||[];this._metadataMap.set(_e.nodeName,Ft.map(Xt=>Xt.textContent.trim()))}_parse(_e){let bt=_e.documentElement;if(bt.nodeName!=="rdf:rdf")for(bt=bt.firstChild;bt&&bt.nodeName!=="rdf:rdf";)bt=bt.nextSibling;if(!(!bt||bt.nodeName!=="rdf:rdf"||!bt.hasChildNodes())){for(const Ft of bt.childNodes)if(Ft.nodeName==="rdf:description")for(const Xt of Ft.childNodes){const Kt=Xt.nodeName;switch(Kt){case"#text":continue;case"dc:creator":case"dc:subject":this._parseArray(Xt);continue}this._metadataMap.set(Kt,Xt.textContent.trim())}}}get serializable(){return{parsedData:this._metadataMap,rawData:this._data}}}Et.MetadataParser=_t},(kt,Et,Rt)=>{Object.defineProperty(Et,"__esModule",{value:!0}),Et.XMLParserErrorCode=Et.XMLParserBase=Et.SimpleXMLParser=Et.SimpleDOMNode=void 0;var wt=Rt(3);const _t={NoError:0,EndOfDocument:-1,UnterminatedCdat:-2,UnterminatedXmlDeclaration:-3,UnterminatedDoctypeDeclaration:-4,UnterminatedComment:-5,MalformedElement:-6,OutOfMemory:-7,UnterminatedAttributeValue:-8,UnterminatedElement:-9,ElementNeverBegun:-10};Et.XMLParserErrorCode=_t;function Pt(Kt,Nt){const $t=Kt[Nt];return $t===" "||$t===`
`||$t==="\r"||$t==="	"}function _e(Kt){for(let Nt=0,$t=Kt.length;Nt<$t;Nt++)if(!Pt(Kt,Nt))return!1;return!0}class bt{_resolveEntities(Nt){return Nt.replaceAll(/&([^;]+);/g,($t,Dt)=>{if(Dt.substring(0,2)==="#x")return String.fromCodePoint(parseInt(Dt.substring(2),16));if(Dt.substring(0,1)==="#")return String.fromCodePoint(parseInt(Dt.substring(1),10));switch(Dt){case"lt":return"<";case"gt":return">";case"amp":return"&";case"quot":return'"';case"apos":return"'"}return this.onResolveEntity(Dt)})}_parseContent(Nt,$t){const Dt=[];let jt=$t;function Ct(){for(;jt<Nt.length&&Pt(Nt,jt);)++jt}for(;jt<Nt.length&&!Pt(Nt,jt)&&Nt[jt]!==">"&&Nt[jt]!=="/";)++jt;const qt=Nt.substring($t,jt);for(Ct();jt<Nt.length&&Nt[jt]!==">"&&Nt[jt]!=="/"&&Nt[jt]!=="?";){Ct();let Bt="",Gt="";for(;jt<Nt.length&&!Pt(Nt,jt)&&Nt[jt]!=="=";)Bt+=Nt[jt],++jt;if(Ct(),Nt[jt]!=="=")return null;++jt,Ct();const en=Nt[jt];if(en!=='"'&&en!=="'")return null;const dn=Nt.indexOf(en,++jt);if(dn<0)return null;Gt=Nt.substring(jt,dn),Dt.push({name:Bt,value:this._resolveEntities(Gt)}),jt=dn+1,Ct()}return{name:qt,attributes:Dt,parsed:jt-$t}}_parseProcessingInstruction(Nt,$t){let Dt=$t;function jt(){for(;Dt<Nt.length&&Pt(Nt,Dt);)++Dt}for(;Dt<Nt.length&&!Pt(Nt,Dt)&&Nt[Dt]!==">"&&Nt[Dt]!=="?"&&Nt[Dt]!=="/";)++Dt;const Ct=Nt.substring($t,Dt);jt();const qt=Dt;for(;Dt<Nt.length&&(Nt[Dt]!=="?"||Nt[Dt+1]!==">");)++Dt;const Bt=Nt.substring(qt,Dt);return{name:Ct,value:Bt,parsed:Dt-$t}}parseXml(Nt){let $t=0;for(;$t<Nt.length;){const Dt=Nt[$t];let jt=$t;if(Dt==="<"){++jt;const Ct=Nt[jt];let qt;switch(Ct){case"/":if(++jt,qt=Nt.indexOf(">",jt),qt<0){this.onError(_t.UnterminatedElement);return}this.onEndElement(Nt.substring(jt,qt)),jt=qt+1;break;case"?":++jt;const Bt=this._parseProcessingInstruction(Nt,jt);if(Nt.substring(jt+Bt.parsed,jt+Bt.parsed+2)!=="?>"){this.onError(_t.UnterminatedXmlDeclaration);return}this.onPi(Bt.name,Bt.value),jt+=Bt.parsed+2;break;case"!":if(Nt.substring(jt+1,jt+3)==="--"){if(qt=Nt.indexOf("-->",jt+3),qt<0){this.onError(_t.UnterminatedComment);return}this.onComment(Nt.substring(jt+3,qt)),jt=qt+3}else if(Nt.substring(jt+1,jt+8)==="[CDATA["){if(qt=Nt.indexOf("]]>",jt+8),qt<0){this.onError(_t.UnterminatedCdat);return}this.onCdata(Nt.substring(jt+8,qt)),jt=qt+3}else if(Nt.substring(jt+1,jt+8)==="DOCTYPE"){const dn=Nt.indexOf("[",jt+8);let Qt=!1;if(qt=Nt.indexOf(">",jt+8),qt<0){this.onError(_t.UnterminatedDoctypeDeclaration);return}if(dn>0&&qt>dn){if(qt=Nt.indexOf("]>",jt+8),qt<0){this.onError(_t.UnterminatedDoctypeDeclaration);return}Qt=!0}const gn=Nt.substring(jt+8,qt+(Qt?1:0));this.onDoctype(gn),jt=qt+(Qt?2:1)}else{this.onError(_t.MalformedElement);return}break;default:const Gt=this._parseContent(Nt,jt);if(Gt===null){this.onError(_t.MalformedElement);return}let en=!1;if(Nt.substring(jt+Gt.parsed,jt+Gt.parsed+2)==="/>")en=!0;else if(Nt.substring(jt+Gt.parsed,jt+Gt.parsed+1)!==">"){this.onError(_t.UnterminatedElement);return}this.onBeginElement(Gt.name,Gt.attributes,en),jt+=Gt.parsed+(en?2:1);break}}else{for(;jt<Nt.length&&Nt[jt]!=="<";)jt++;const Ct=Nt.substring($t,jt);this.onText(this._resolveEntities(Ct))}$t=jt}}onResolveEntity(Nt){return`&${Nt};`}onPi(Nt,$t){}onComment(Nt){}onCdata(Nt){}onDoctype(Nt){}onText(Nt){}onBeginElement(Nt,$t,Dt){}onEndElement(Nt){}onError(Nt){}}Et.XMLParserBase=bt;class Ft{constructor(Nt,$t){this.nodeName=Nt,this.nodeValue=$t,Object.defineProperty(this,"parentNode",{value:null,writable:!0})}get firstChild(){var Nt;return(Nt=this.childNodes)==null?void 0:Nt[0]}get nextSibling(){const Nt=this.parentNode.childNodes;if(!Nt)return;const $t=Nt.indexOf(this);if($t!==-1)return Nt[$t+1]}get textContent(){return this.childNodes?this.childNodes.map(function(Nt){return Nt.textContent}).join(""):this.nodeValue||""}get children(){return this.childNodes||[]}hasChildNodes(){var Nt;return((Nt=this.childNodes)==null?void 0:Nt.length)>0}searchNode(Nt,$t){var qt;if($t>=Nt.length)return this;const Dt=Nt[$t];if(Dt.name.startsWith("#")&&$t<Nt.length-1)return this.searchNode(Nt,$t+1);const jt=[];let Ct=this;for(;;){if(Dt.name===Ct.nodeName)if(Dt.pos===0){const Bt=Ct.searchNode(Nt,$t+1);if(Bt!==null)return Bt}else{if(jt.length===0)return null;{const[Bt]=jt.pop();let Gt=0;for(const en of Bt.childNodes)if(Dt.name===en.nodeName){if(Gt===Dt.pos)return en.searchNode(Nt,$t+1);Gt++}return Ct.searchNode(Nt,$t+1)}}if(((qt=Ct.childNodes)==null?void 0:qt.length)>0)jt.push([Ct,0]),Ct=Ct.childNodes[0];else{if(jt.length===0)return null;for(;jt.length!==0;){const[Bt,Gt]=jt.pop(),en=Gt+1;if(en<Bt.childNodes.length){jt.push([Bt,en]),Ct=Bt.childNodes[en];break}}if(jt.length===0)return null}}}dump(Nt){if(this.nodeName==="#text"){Nt.push((0,wt.encodeToXmlString)(this.nodeValue));return}if(Nt.push(`<${this.nodeName}`),this.attributes)for(const $t of this.attributes)Nt.push(` ${$t.name}="${(0,wt.encodeToXmlString)($t.value)}"`);if(this.hasChildNodes()){Nt.push(">");for(const $t of this.childNodes)$t.dump(Nt);Nt.push(`</${this.nodeName}>`)}else this.nodeValue?Nt.push(`>${(0,wt.encodeToXmlString)(this.nodeValue)}</${this.nodeName}>`):Nt.push("/>")}}Et.SimpleDOMNode=Ft;class Xt extends bt{constructor({hasAttributes:Nt=!1,lowerCaseName:$t=!1}){super(),this._currentFragment=null,this._stack=null,this._errorCode=_t.NoError,this._hasAttributes=Nt,this._lowerCaseName=$t}parseFromString(Nt){if(this._currentFragment=[],this._stack=[],this._errorCode=_t.NoError,this.parseXml(Nt),this._errorCode!==_t.NoError)return;const[$t]=this._currentFragment;if($t)return{documentElement:$t}}onText(Nt){if(_e(Nt))return;const $t=new Ft("#text",Nt);this._currentFragment.push($t)}onCdata(Nt){const $t=new Ft("#text",Nt);this._currentFragment.push($t)}onBeginElement(Nt,$t,Dt){this._lowerCaseName&&(Nt=Nt.toLowerCase());const jt=new Ft(Nt);jt.childNodes=[],this._hasAttributes&&(jt.attributes=$t),this._currentFragment.push(jt),!Dt&&(this._stack.push(this._currentFragment),this._currentFragment=jt.childNodes)}onEndElement(Nt){this._currentFragment=this._stack.pop()||[];const $t=this._currentFragment.at(-1);if(!$t)return null;for(const Dt of $t.childNodes)Dt.parentNode=$t;return $t}onError(Nt){this._errorCode=Nt}}Et.SimpleXMLParser=Xt},(kt,Et,Rt)=>{var Dt,b5,Ct,Z3,y5,v5;Object.defineProperty(Et,"__esModule",{value:!0}),Et.StructTreeRoot=Et.StructTreePage=void 0;var wt=Rt(2),_t=Rt(4),Pt=Rt(67),_e=Rt(73);const bt=40,Ft={PAGE_CONTENT:1,STREAM_CONTENT:2,OBJECT:3,ANNOTATION:4,ELEMENT:5},en=class en{constructor(Qt,gn){Nn(this,Dt);this.dict=Qt,this.ref=gn instanceof _t.Ref?gn:null,this.roleMap=new Map,this.structParentIds=null}init(){this.readRoleMap()}addAnnotationIdToPage(Qt,gn){On(this,Dt,b5).call(this,Qt,gn,Ft.ANNOTATION)}readRoleMap(){const Qt=this.dict.get("RoleMap");Qt instanceof _t.Dict&&Qt.forEach((gn,nn)=>{nn instanceof _t.Name&&this.roleMap.set(gn,nn.name)})}static async canCreateStructureTree({catalogRef:Qt,pdfManager:gn,newAnnotationsByPage:nn}){var Yt;if(!(Qt instanceof _t.Ref))return(0,wt.warn)("Cannot save the struct tree: no catalog reference."),!1;let bn=0,Vt=!0;for(const[hn,Ut]of nn){const{ref:Ot}=await gn.getPage(hn);if(!(Ot instanceof _t.Ref)){(0,wt.warn)(`Cannot save the struct tree: page ${hn} has no ref.`),Vt=!0;break}for(const zt of Ut)(Yt=zt.accessibilityData)!=null&&Yt.type&&(zt.parentTreeId=bn++,Vt=!1)}if(Vt){for(const hn of nn.values())for(const Ut of hn)delete Ut.parentTreeId;return!1}return!0}static async createStructureTree({newAnnotationsByPage:Qt,xref:gn,catalogRef:nn,pdfManager:bn,newRefs:Vt}){const Yt=bn.catalog.cloneDict(),hn=gn.getNewTemporaryRef();Yt.set("StructTreeRoot",hn);const Ut=[];await(0,_e.writeObject)(nn,Yt,Ut,gn),Vt.push({ref:nn,data:Ut.join("")});const Ot=new _t.Dict(gn);Ot.set("Type",_t.Name.get("StructTreeRoot"));const zt=gn.getNewTemporaryRef();Ot.set("ParentTree",zt);const an=[];Ot.set("K",an);const Ht=new _t.Dict(gn),Wt=[];Ht.set("Nums",Wt);const tn=await On(this,Ct,Z3).call(this,{newAnnotationsByPage:Qt,structTreeRootRef:hn,kids:an,nums:Wt,xref:gn,pdfManager:bn,newRefs:Vt,buffer:Ut});Ot.set("ParentTreeNextKey",tn),Ut.length=0,await(0,_e.writeObject)(zt,Ht,Ut,gn),Vt.push({ref:zt,data:Ut.join("")}),Ut.length=0,await(0,_e.writeObject)(hn,Ot,Ut,gn),Vt.push({ref:hn,data:Ut.join("")})}async canUpdateStructTree({pdfManager:Qt,newAnnotationsByPage:gn}){var Ut,Ot;if(!this.ref)return(0,wt.warn)("Cannot update the struct tree: no root reference."),!1;let nn=this.dict.get("ParentTreeNextKey");if(!Number.isInteger(nn)||nn<0)return(0,wt.warn)("Cannot update the struct tree: invalid next key."),!1;const bn=this.dict.get("ParentTree");if(!(bn instanceof _t.Dict))return(0,wt.warn)("Cannot update the struct tree: ParentTree isn't a dict."),!1;const Vt=bn.get("Nums");if(!Array.isArray(Vt))return(0,wt.warn)("Cannot update the struct tree: nums isn't an array."),!1;const{numPages:Yt}=Qt.catalog;for(const zt of gn.keys()){const{pageDict:an,ref:Ht}=await Qt.getPage(zt);if(!(Ht instanceof _t.Ref))return(0,wt.warn)(`Cannot save the struct tree: page ${zt} has no ref.`),!1;const Wt=an.get("StructParents");if(!Number.isInteger(Wt)||Wt<0||Wt>=Yt)return(0,wt.warn)(`Cannot save the struct tree: page ${zt} has no id.`),!1}let hn=!0;for(const[zt,an]of gn){const{pageDict:Ht}=await Qt.getPage(zt);On(Ut=en,Ct,y5).call(Ut,{elements:an,xref:this.dict.xref,pageDict:Ht,parentTree:bn});for(const Wt of an)(Ot=Wt.accessibilityData)!=null&&Ot.type&&(Wt.parentTreeId=nn++,hn=!1)}if(hn){for(const zt of gn.values())for(const an of zt)delete an.parentTreeId,delete an.structTreeParent;return!1}return!0}async updateStructureTree({newAnnotationsByPage:Qt,pdfManager:gn,newRefs:nn}){var ln;const bn=this.dict.xref,Vt=this.dict.clone(),Yt=this.ref;let hn=Vt.getRaw("ParentTree"),Ut;hn instanceof _t.Ref?Ut=bn.fetch(hn):(Ut=hn,hn=bn.getNewTemporaryRef(),Vt.set("ParentTree",hn)),Ut=Ut.clone();let Ot=Ut.getRaw("Nums"),zt=null;Ot instanceof _t.Ref&&(zt=Ot,Ot=bn.fetch(zt)),Ot=Ot.slice(),zt||Ut.set("Nums",Ot);let an=Vt.getRaw("K"),Ht=null;an instanceof _t.Ref?(Ht=an,an=bn.fetch(Ht)):(Ht=bn.getNewTemporaryRef(),Vt.set("K",Ht)),an=Array.isArray(an)?an.slice():[an];const Wt=[],tn=await On(ln=en,Ct,Z3).call(ln,{newAnnotationsByPage:Qt,structTreeRootRef:Yt,kids:an,nums:Ot,xref:bn,pdfManager:gn,newRefs:nn,buffer:Wt});Vt.set("ParentTreeNextKey",tn),Wt.length=0,await(0,_e.writeObject)(Ht,an,Wt,bn),nn.push({ref:Ht,data:Wt.join("")}),zt&&(Wt.length=0,await(0,_e.writeObject)(zt,Ot,Wt,bn),nn.push({ref:zt,data:Wt.join("")})),Wt.length=0,await(0,_e.writeObject)(hn,Ut,Wt,bn),nn.push({ref:hn,data:Wt.join("")}),Wt.length=0,await(0,_e.writeObject)(Yt,Vt,Wt,bn),nn.push({ref:Yt,data:Wt.join("")})}};Dt=new WeakSet,b5=function(Qt,gn,nn){if(!(Qt instanceof _t.Ref)||gn<0)return;this.structParentIds||(this.structParentIds=new _t.RefSetCache);let bn=this.structParentIds.get(Qt);bn||(bn=[],this.structParentIds.put(Qt,bn)),bn.push([gn,nn])},Ct=new WeakSet,Z3=async function({newAnnotationsByPage:Qt,structTreeRootRef:gn,kids:nn,nums:bn,xref:Vt,pdfManager:Yt,newRefs:hn,buffer:Ut}){const Ot=_t.Name.get("OBJR");let zt=-1/0;for(const[an,Ht]of Qt){const{ref:Wt}=await Yt.getPage(an);for(const{accessibilityData:{type:tn,title:ln,lang:on,alt:cn,expanded:sn,actualText:rn},ref:xn,parentTreeId:vn,structTreeParent:En}of Ht){zt=Math.max(zt,vn);const Fn=Vt.getNewTemporaryRef(),Mn=new _t.Dict(Vt);Mn.set("S",_t.Name.get(tn)),ln&&Mn.set("T",ln),on&&Mn.set("Lang",on),cn&&Mn.set("Alt",cn),sn&&Mn.set("E",sn),rn&&Mn.set("ActualText",rn),En?await On(this,Ct,v5).call(this,{structTreeParent:En,tagDict:Mn,newTagRef:Fn,fallbackRef:gn,xref:Vt,newRefs:hn,buffer:Ut}):Mn.set("P",gn);const Tn=new _t.Dict(Vt);Mn.set("K",Tn),Tn.set("Type",Ot),Tn.set("Pg",Wt),Tn.set("Obj",xn),Ut.length=0,await(0,_e.writeObject)(Fn,Mn,Ut,Vt),hn.push({ref:Fn,data:Ut.join("")}),bn.push(vn,Fn),nn.push(Fn)}}return zt+1},y5=function({elements:Qt,xref:gn,pageDict:nn,parentTree:bn}){const Vt=new Map;for(const zt of Qt)if(zt.structTreeParentId){const an=parseInt(zt.structTreeParentId.split("_mc")[1],10);Vt.set(an,zt)}const Yt=nn.get("StructParents"),Ut=new Pt.NumberTree(bn,gn).get(Yt);if(!Array.isArray(Ut))return;const Ot=(zt,an,Ht)=>{const Wt=Vt.get(zt);if(Wt){const tn=an.getRaw("P"),ln=gn.fetchIfRef(tn);return tn instanceof _t.Ref&&ln instanceof _t.Dict&&(Wt.structTreeParent={ref:Ht,dict:an}),!0}return!1};for(const zt of Ut){if(!(zt instanceof _t.Ref))continue;const an=gn.fetch(zt),Ht=an.get("K");if(Number.isInteger(Ht)){Ot(Ht,an,zt);continue}if(Array.isArray(Ht)){for(let Wt of Ht)if(Wt=gn.fetchIfRef(Wt),Number.isInteger(Wt)&&Ot(Wt,an,zt))break}}},v5=async function({structTreeParent:{ref:Qt,dict:gn},tagDict:nn,newTagRef:bn,fallbackRef:Vt,xref:Yt,newRefs:hn,buffer:Ut}){const Ot=gn.getRaw("P");let zt=Yt.fetchIfRef(Ot);nn.set("P",Ot);let an=!1,Ht,Wt=zt.getRaw("K");if(Wt instanceof _t.Ref?Ht=Yt.fetch(Wt):(Ht=Wt,Wt=Yt.getNewTemporaryRef(),zt=zt.clone(),zt.set("K",Wt),an=!0),Array.isArray(Ht)){const tn=Ht.indexOf(Qt);if(tn>=0)Ht=Ht.slice(),Ht.splice(tn+1,0,bn);else{(0,wt.warn)("Cannot update the struct tree: parent kid not found."),nn.set("P",Vt);return}}else Ht instanceof _t.Dict&&(Ht=[Wt,bn],Wt=Yt.getNewTemporaryRef(),zt.set("K",Wt),an=!0);Ut.length=0,await(0,_e.writeObject)(Wt,Ht,Ut,Yt),hn.push({ref:Wt,data:Ut.join("")}),an&&(Ut.length=0,await(0,_e.writeObject)(Ot,zt,Ut,Yt),hn.push({ref:Ot,data:Ut.join("")}))},Nn(en,Ct);let Xt=en;Et.StructTreeRoot=Xt;class Kt{constructor(Qt,gn){this.tree=Qt,this.dict=gn,this.kids=[],this.parseKids()}get role(){const Qt=this.dict.get("S"),gn=Qt instanceof _t.Name?Qt.name:"",{root:nn}=this.tree;return nn.roleMap.has(gn)?nn.roleMap.get(gn):gn}parseKids(){let Qt=null;const gn=this.dict.getRaw("Pg");gn instanceof _t.Ref&&(Qt=gn.toString());const nn=this.dict.get("K");if(Array.isArray(nn))for(const bn of nn){const Vt=this.parseKid(Qt,bn);Vt&&this.kids.push(Vt)}else{const bn=this.parseKid(Qt,nn);bn&&this.kids.push(bn)}}parseKid(Qt,gn){if(Number.isInteger(gn))return this.tree.pageDict.objId!==Qt?null:new Nt({type:Ft.PAGE_CONTENT,mcid:gn,pageObjId:Qt});let nn=null;if(gn instanceof _t.Ref?nn=this.dict.xref.fetch(gn):gn instanceof _t.Dict&&(nn=gn),!nn)return null;const bn=nn.getRaw("Pg");bn instanceof _t.Ref&&(Qt=bn.toString());const Vt=nn.get("Type")instanceof _t.Name?nn.get("Type").name:null;if(Vt==="MCR"){if(this.tree.pageDict.objId!==Qt)return null;const Yt=nn.getRaw("Stm");return new Nt({type:Ft.STREAM_CONTENT,refObjId:Yt instanceof _t.Ref?Yt.toString():null,pageObjId:Qt,mcid:nn.get("MCID")})}if(Vt==="OBJR"){if(this.tree.pageDict.objId!==Qt)return null;const Yt=nn.getRaw("Obj");return new Nt({type:Ft.OBJECT,refObjId:Yt instanceof _t.Ref?Yt.toString():null,pageObjId:Qt})}return new Nt({type:Ft.ELEMENT,dict:nn})}}class Nt{constructor({type:Qt,dict:gn=null,mcid:nn=null,pageObjId:bn=null,refObjId:Vt=null}){this.type=Qt,this.dict=gn,this.mcid=nn,this.pageObjId=bn,this.refObjId=Vt,this.parentNode=null}}class $t{constructor(Qt,gn){this.root=Qt,this.rootDict=Qt?Qt.dict:null,this.pageDict=gn,this.nodes=[]}parse(Qt){var hn,Ut;if(!this.root||!this.rootDict)return;const gn=this.rootDict.get("ParentTree");if(!gn)return;const nn=this.pageDict.get("StructParents"),bn=Qt instanceof _t.Ref&&((hn=this.root.structParentIds)==null?void 0:hn.get(Qt));if(!Number.isInteger(nn)&&!bn)return;const Vt=new Map,Yt=new Pt.NumberTree(gn,this.rootDict.xref);if(Number.isInteger(nn)){const Ot=Yt.get(nn);if(Array.isArray(Ot))for(const zt of Ot)zt instanceof _t.Ref&&this.addNode(this.rootDict.xref.fetch(zt),Vt)}if(bn)for(const[Ot,zt]of bn){const an=Yt.get(Ot);if(an){const Ht=this.addNode(this.rootDict.xref.fetchIfRef(an),Vt);((Ut=Ht==null?void 0:Ht.kids)==null?void 0:Ut.length)===1&&Ht.kids[0].type===Ft.OBJECT&&(Ht.kids[0].type=zt)}}}addNode(Qt,gn,nn=0){if(nn>bt)return(0,wt.warn)("StructTree MAX_DEPTH reached."),null;if(gn.has(Qt))return gn.get(Qt);const bn=new Kt(this,Qt);gn.set(Qt,bn);const Vt=Qt.get("P");if(!Vt||(0,_t.isName)(Vt.get("Type"),"StructTreeRoot"))return this.addTopLevelNode(Qt,bn)||gn.delete(Qt),bn;const Yt=this.addNode(Vt,gn,nn+1);if(!Yt)return bn;let hn=!1;for(const Ut of Yt.kids)Ut.type===Ft.ELEMENT&&Ut.dict===Qt&&(Ut.parentNode=bn,hn=!0);return hn||gn.delete(Qt),bn}addTopLevelNode(Qt,gn){const nn=this.rootDict.get("K");if(!nn)return!1;if(nn instanceof _t.Dict)return nn.objId!==Qt.objId?!1:(this.nodes[0]=gn,!0);if(!Array.isArray(nn))return!0;let bn=!1;for(let Vt=0;Vt<nn.length;Vt++){const Yt=nn[Vt];(Yt==null?void 0:Yt.toString())===Qt.objId&&(this.nodes[Vt]=gn,bn=!0)}return bn}get serializable(){function Qt(nn,bn,Vt=0){if(Vt>bt){(0,wt.warn)("StructTree too deep to be fully serialized.");return}const Yt=Object.create(null);Yt.role=nn.role,Yt.children=[],bn.children.push(Yt);const hn=nn.dict.get("Alt");typeof hn=="string"&&(Yt.alt=(0,wt.stringToPDFString)(hn));const Ut=nn.dict.get("Lang");typeof Ut=="string"&&(Yt.lang=(0,wt.stringToPDFString)(Ut));for(const Ot of nn.kids){const zt=Ot.type===Ft.ELEMENT?Ot.parentNode:null;if(zt){Qt(zt,Yt,Vt+1);continue}else Ot.type===Ft.PAGE_CONTENT||Ot.type===Ft.STREAM_CONTENT?Yt.children.push({type:"content",id:`p${Ot.pageObjId}_mc${Ot.mcid}`}):Ot.type===Ft.OBJECT?Yt.children.push({type:"object",id:Ot.refObjId}):Ot.type===Ft.ANNOTATION&&Yt.children.push({type:"annotation",id:`${wt.AnnotationPrefix}${Ot.refObjId}`})}}const gn=Object.create(null);gn.children=[],gn.role="Root";for(const nn of this.nodes)nn&&Qt(nn,gn);return gn}}Et.StructTreePage=$t},(kt,Et,Rt)=>{Object.defineProperty(Et,"__esModule",{value:!0}),Et.incrementalUpdate=dn,Et.writeDict=Kt,Et.writeObject=Xt;var wt=Rt(2),_t=Rt(4),Pt=Rt(3),_e=Rt(71),bt=Rt(5),Ft=Rt(74);async function Xt(Qt,gn,nn,{encrypt:bn=null}){const Vt=bn==null?void 0:bn.createCipherTransform(Qt.num,Qt.gen);nn.push(`${Qt.num} ${Qt.gen} obj
`),gn instanceof _t.Dict?await Kt(gn,nn,Vt):gn instanceof bt.BaseStream?await Nt(gn,nn,Vt):Array.isArray(gn)&&await $t(gn,nn,Vt),nn.push(`
endobj
`)}async function Kt(Qt,gn,nn){gn.push("<<");for(const bn of Qt.getKeys())gn.push(` /${(0,Pt.escapePDFName)(bn)} `),await Dt(Qt.getRaw(bn),gn,nn);gn.push(">>")}async function Nt(Qt,gn,nn){let bn=Qt.getString();const{dict:Vt}=Qt,[Yt,hn]=await Promise.all([Vt.getAsync("Filter"),Vt.getAsync("DecodeParms")]),Ut=Array.isArray(Yt)?await Vt.xref.fetchIfRefAsync(Yt[0]):Yt,Ot=(0,_t.isName)(Ut,"FlateDecode");if(typeof CompressionStream<"u"&&(bn.length>=256||Ot))try{const an=(0,wt.stringToBytes)(bn),Ht=new CompressionStream("deflate"),Wt=Ht.writable.getWriter();Wt.write(an),Wt.close();const tn=await new Response(Ht.readable).arrayBuffer();bn=(0,wt.bytesToString)(new Uint8Array(tn));let ln,on;Yt?Ot||(ln=Array.isArray(Yt)?[_t.Name.get("FlateDecode"),...Yt]:[_t.Name.get("FlateDecode"),Yt],hn&&(on=Array.isArray(hn)?[null,...hn]:[null,hn])):ln=_t.Name.get("FlateDecode"),ln&&Vt.set("Filter",ln),on&&Vt.set("DecodeParms",on)}catch(an){(0,wt.info)(`writeStream - cannot compress data: "${an}".`)}nn&&(bn=nn.encryptString(bn)),Vt.set("Length",bn.length),await Kt(Vt,gn,nn),gn.push(` stream
`,bn,`
endstream`)}async function $t(Qt,gn,nn){gn.push("[");let bn=!0;for(const Vt of Qt)bn?bn=!1:gn.push(" "),await Dt(Vt,gn,nn);gn.push("]")}async function Dt(Qt,gn,nn){Qt instanceof _t.Name?gn.push(`/${(0,Pt.escapePDFName)(Qt.name)}`):Qt instanceof _t.Ref?gn.push(`${Qt.num} ${Qt.gen} R`):Array.isArray(Qt)?await $t(Qt,gn,nn):typeof Qt=="string"?(nn&&(Qt=nn.encryptString(Qt)),gn.push(`(${(0,Pt.escapeString)(Qt)})`)):typeof Qt=="number"?gn.push((0,Pt.numberToString)(Qt)):typeof Qt=="boolean"?gn.push(Qt.toString()):Qt instanceof _t.Dict?await Kt(Qt,gn,nn):Qt instanceof bt.BaseStream?await Nt(Qt,gn,nn):Qt===null?gn.push("null"):(0,wt.warn)(`Unhandled value in writer: ${typeof Qt}, please file a bug.`)}function jt(Qt,gn,nn,bn){for(let Vt=gn+nn-1;Vt>nn-1;Vt--)bn[Vt]=Qt&255,Qt>>=8;return nn+gn}function Ct(Qt,gn,nn){for(let bn=0,Vt=Qt.length;bn<Vt;bn++)nn[gn+bn]=Qt.charCodeAt(bn)&255}function qt(Qt,gn){const nn=Math.floor(Date.now()/1e3),bn=gn.filename||"",Vt=[nn.toString(),bn,Qt.toString()];let Yt=Vt.reduce((Ot,zt)=>Ot+zt.length,0);for(const Ot of Object.values(gn.info))Vt.push(Ot),Yt+=Ot.length;const hn=new Uint8Array(Yt);let Ut=0;for(const Ot of Vt)Ct(Ot,Ut,hn),Ut+=Ot.length;return(0,wt.bytesToString)((0,Ft.calculateMD5)(hn))}function Bt(Qt,gn){const nn=new _e.SimpleXMLParser({hasAttributes:!0}).parseFromString(Qt);for(const{xfa:Vt}of gn){if(!Vt)continue;const{path:Yt,value:hn}=Vt;if(!Yt)continue;const Ut=(0,Pt.parseXFAPath)(Yt);let Ot=nn.documentElement.searchNode(Ut,0);!Ot&&Ut.length>1&&(Ot=nn.documentElement.searchNode([Ut.at(-1)],0)),Ot?Ot.childNodes=Array.isArray(hn)?hn.map(zt=>new _e.SimpleDOMNode("value",zt)):[new _e.SimpleDOMNode("#text",hn)]:(0,wt.warn)(`Node not found for path: ${Yt}`)}const bn=[];return nn.documentElement.dump(bn),bn.join("")}async function Gt({xref:Qt,acroForm:gn,acroFormRef:nn,hasXfa:bn,hasXfaDatasetsEntry:Vt,xfaDatasetsRef:Yt,needAppearances:hn,newRefs:Ut}){if(bn&&!Vt&&!Yt&&(0,wt.warn)("XFA - Cannot save it"),!hn&&(!bn||!Yt||Vt))return;const Ot=gn.clone();if(bn&&!Vt){const an=gn.get("XFA").slice();an.splice(2,0,"datasets"),an.splice(3,0,Yt),Ot.set("XFA",an)}hn&&Ot.set("NeedAppearances",!0);const zt=[];await Xt(nn,Ot,zt,Qt),Ut.push({ref:nn,data:zt.join("")})}function en({xfaData:Qt,xfaDatasetsRef:gn,newRefs:nn,xref:bn}){if(Qt===null){const hn=bn.fetchIfRef(gn);Qt=Bt(hn.getString(),nn)}const Vt=bn.encrypt;Vt&&(Qt=Vt.createCipherTransform(gn.num,gn.gen).encryptString(Qt));const Yt=`${gn.num} ${gn.gen} obj
<< /Type /EmbeddedFile /Length ${Qt.length}>>
stream
`+Qt+`
endstream
endobj
`;nn.push({ref:gn,data:Yt})}async function dn({originalData:Qt,xrefInfo:gn,newRefs:nn,xref:bn=null,hasXfa:Vt=!1,xfaDatasetsRef:Yt=null,hasXfaDatasetsEntry:hn=!1,needAppearances:Ut,acroFormRef:Ot=null,acroForm:zt=null,xfaData:an=null}){await Gt({xref:bn,acroForm:zt,acroFormRef:Ot,hasXfa:Vt,hasXfaDatasetsEntry:hn,xfaDatasetsRef:Yt,needAppearances:Ut,newRefs:nn}),Vt&&en({xfaData:an,xfaDatasetsRef:Yt,newRefs:nn,xref:bn});const Ht=new _t.Dict(null),Wt=gn.newRef;let tn,ln;const on=Qt.at(-1);on===10||on===13?(tn=[],ln=Qt.length):(tn=[`
`],ln=Qt.length+1),Ht.set("Size",Wt.num+1),Ht.set("Prev",gn.startXRef),Ht.set("Type",_t.Name.get("XRef")),gn.rootRef!==null&&Ht.set("Root",gn.rootRef),gn.infoRef!==null&&Ht.set("Info",gn.infoRef),gn.encryptRef!==null&&Ht.set("Encrypt",gn.encryptRef),nn.push({ref:Wt,data:""}),nn=nn.sort((fn,Jt)=>fn.ref.num-Jt.ref.num);const cn=[[0,1,65535]],sn=[0,1];let rn=0;for(const{ref:fn,data:Jt}of nn)rn=Math.max(rn,ln),cn.push([1,ln,Math.min(fn.gen,65535)]),ln+=Jt.length,sn.push(fn.num,1),tn.push(Jt);if(Ht.set("Index",sn),Array.isArray(gn.fileIds)&&gn.fileIds.length>0){const fn=qt(ln,gn);Ht.set("ID",[gn.fileIds[0],fn])}const vn=[1,Math.ceil(Math.log2(rn)/8),2],Fn=(vn[0]+vn[1]+vn[2])*cn.length;Ht.set("W",vn),Ht.set("Length",Fn),tn.push(`${Wt.num} ${Wt.gen} obj
`),await Kt(Ht,tn,null),tn.push(` stream
`);const Mn=tn.reduce((fn,Jt)=>fn+Jt.length,0),Tn=`
endstream
endobj
startxref
${ln}
%%EOF
`,Sn=new Uint8Array(Qt.length+Mn+Fn+Tn.length);Sn.set(Qt);let mn=Qt.length;for(const fn of tn)Ct(fn,mn,Sn),mn+=fn.length;for(const[fn,Jt,un]of cn)mn=jt(fn,vn[0],mn,Sn),mn=jt(Jt,vn[1],mn,Sn),mn=jt(un,vn[2],mn,Sn);return Ct(Tn,mn,Sn),Sn}},(kt,Et,Rt)=>{var dn,Qt,w5,J3,A5,B2,Q3;Object.defineProperty(Et,"__esModule",{value:!0}),Et.calculateSHA256=Et.calculateMD5=Et.PDF20=Et.PDF17=Et.CipherTransformFactory=Et.ARCFourCipher=Et.AES256Cipher=Et.AES128Cipher=void 0,Et.calculateSHA384=Nt,Et.calculateSHA512=void 0;var wt=Rt(2),_t=Rt(4),Pt=Rt(75);class _e{constructor(Ot){this.a=0,this.b=0;const zt=new Uint8Array(256),an=Ot.length;for(let Ht=0;Ht<256;++Ht)zt[Ht]=Ht;for(let Ht=0,Wt=0;Ht<256;++Ht){const tn=zt[Ht];Wt=Wt+tn+Ot[Ht%an]&255,zt[Ht]=zt[Wt],zt[Wt]=tn}this.s=zt}encryptBlock(Ot){let zt=this.a,an=this.b;const Ht=this.s,Wt=Ot.length,tn=new Uint8Array(Wt);for(let ln=0;ln<Wt;++ln){zt=zt+1&255;const on=Ht[zt];an=an+on&255;const cn=Ht[an];Ht[zt]=cn,Ht[an]=on,tn[ln]=Ot[ln]^Ht[on+cn&255]}return this.a=zt,this.b=an,tn}decryptBlock(Ot){return this.encryptBlock(Ot)}encrypt(Ot){return this.encryptBlock(Ot)}}Et.ARCFourCipher=_e;const bt=function(){const Ot=new Uint8Array([7,12,17,22,7,12,17,22,7,12,17,22,7,12,17,22,5,9,14,20,5,9,14,20,5,9,14,20,5,9,14,20,4,11,16,23,4,11,16,23,4,11,16,23,4,11,16,23,6,10,15,21,6,10,15,21,6,10,15,21,6,10,15,21]),zt=new Int32Array([-680876936,-389564586,606105819,-1044525330,-176418897,1200080426,-1473231341,-45705983,1770035416,-1958414417,-42063,-1990404162,1804603682,-40341101,-1502002290,1236535329,-165796510,-1069501632,643717713,-373897302,-701558691,38016083,-660478335,-405537848,568446438,-1019803690,-187363961,1163531501,-1444681467,-51403784,1735328473,-1926607734,-378558,-2022574463,1839030562,-35309556,-1530992060,1272893353,-155497632,-1094730640,681279174,-358537222,-722521979,76029189,-640364487,-421815835,530742520,-995338651,-198630844,1126891415,-1416354905,-57434055,1700485571,-1894986606,-1051523,-2054922799,1873313359,-30611744,-1560198380,1309151649,-145523070,-1120210379,718787259,-343485551]);function an(Ht,Wt,tn){let ln=1732584193,on=-271733879,cn=-1732584194,sn=271733878;const rn=tn+72&-64,xn=new Uint8Array(rn);let vn,En;for(vn=0;vn<tn;++vn)xn[vn]=Ht[Wt++];xn[vn++]=128;const Fn=rn-8;for(;vn<Fn;)xn[vn++]=0;xn[vn++]=tn<<3&255,xn[vn++]=tn>>5&255,xn[vn++]=tn>>13&255,xn[vn++]=tn>>21&255,xn[vn++]=tn>>>29&255,xn[vn++]=0,xn[vn++]=0,xn[vn++]=0;const Mn=new Int32Array(16);for(vn=0;vn<rn;){for(En=0;En<16;++En,vn+=4)Mn[En]=xn[vn]|xn[vn+1]<<8|xn[vn+2]<<16|xn[vn+3]<<24;let Tn=ln,Sn=on,mn=cn,fn=sn,Jt,un;for(En=0;En<64;++En){En<16?(Jt=Sn&mn|~Sn&fn,un=En):En<32?(Jt=fn&Sn|~fn&mn,un=5*En+1&15):En<48?(Jt=Sn^mn^fn,un=3*En+5&15):(Jt=mn^(Sn|~fn),un=7*En&15);const pn=fn,wn=Tn+Jt+zt[En]+Mn[un]|0,kn=Ot[En];fn=mn,mn=Sn,Sn=Sn+(wn<<kn|wn>>>32-kn)|0,Tn=pn}ln=ln+Tn|0,on=on+Sn|0,cn=cn+mn|0,sn=sn+fn|0}return new Uint8Array([ln&255,ln>>8&255,ln>>16&255,ln>>>24&255,on&255,on>>8&255,on>>16&255,on>>>24&255,cn&255,cn>>8&255,cn>>16&255,cn>>>24&255,sn&255,sn>>8&255,sn>>16&255,sn>>>24&255])}return an}();Et.calculateMD5=bt;class Ft{constructor(Ot,zt){this.high=Ot|0,this.low=zt|0}and(Ot){this.high&=Ot.high,this.low&=Ot.low}xor(Ot){this.high^=Ot.high,this.low^=Ot.low}or(Ot){this.high|=Ot.high,this.low|=Ot.low}shiftRight(Ot){Ot>=32?(this.low=this.high>>>Ot-32|0,this.high=0):(this.low=this.low>>>Ot|this.high<<32-Ot,this.high=this.high>>>Ot|0)}shiftLeft(Ot){Ot>=32?(this.high=this.low<<Ot-32,this.low=0):(this.high=this.high<<Ot|this.low>>>32-Ot,this.low<<=Ot)}rotateRight(Ot){let zt,an;Ot&32?(an=this.low,zt=this.high):(zt=this.low,an=this.high),Ot&=31,this.low=zt>>>Ot|an<<32-Ot,this.high=an>>>Ot|zt<<32-Ot}not(){this.high=~this.high,this.low=~this.low}add(Ot){const zt=(this.low>>>0)+(Ot.low>>>0);let an=(this.high>>>0)+(Ot.high>>>0);zt>4294967295&&(an+=1),this.low=zt|0,this.high=an|0}copyTo(Ot,zt){Ot[zt]=this.high>>>24&255,Ot[zt+1]=this.high>>16&255,Ot[zt+2]=this.high>>8&255,Ot[zt+3]=this.high&255,Ot[zt+4]=this.low>>>24&255,Ot[zt+5]=this.low>>16&255,Ot[zt+6]=this.low>>8&255,Ot[zt+7]=this.low&255}assign(Ot){this.high=Ot.high,this.low=Ot.low}}const Xt=function(){function Ot(sn,rn){return sn>>>rn|sn<<32-rn}function zt(sn,rn,xn){return sn&rn^~sn&xn}function an(sn,rn,xn){return sn&rn^sn&xn^rn&xn}function Ht(sn){return Ot(sn,2)^Ot(sn,13)^Ot(sn,22)}function Wt(sn){return Ot(sn,6)^Ot(sn,11)^Ot(sn,25)}function tn(sn){return Ot(sn,7)^Ot(sn,18)^sn>>>3}function ln(sn){return Ot(sn,17)^Ot(sn,19)^sn>>>10}const on=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function cn(sn,rn,xn){let vn=1779033703,En=3144134277,Fn=1013904242,Mn=2773480762,Tn=1359893119,Sn=2600822924,mn=528734635,fn=1541459225;const Jt=Math.ceil((xn+9)/64)*64,un=new Uint8Array(Jt);let pn,wn;for(pn=0;pn<xn;++pn)un[pn]=sn[rn++];un[pn++]=128;const kn=Jt-8;for(;pn<kn;)un[pn++]=0;un[pn++]=0,un[pn++]=0,un[pn++]=0,un[pn++]=xn>>>29&255,un[pn++]=xn>>21&255,un[pn++]=xn>>13&255,un[pn++]=xn>>5&255,un[pn++]=xn<<3&255;const Rn=new Uint32Array(64);for(pn=0;pn<Jt;){for(wn=0;wn<16;++wn)Rn[wn]=un[pn]<<24|un[pn+1]<<16|un[pn+2]<<8|un[pn+3],pn+=4;for(wn=16;wn<64;++wn)Rn[wn]=ln(Rn[wn-2])+Rn[wn-7]+tn(Rn[wn-15])+Rn[wn-16]|0;let Cn=vn,An=En,_n=Fn,In=Mn,Pn=Tn,Dn=Sn,Ln=mn,Un=fn,tr,er;for(wn=0;wn<64;++wn)tr=Un+Wt(Pn)+zt(Pn,Dn,Ln)+on[wn]+Rn[wn],er=Ht(Cn)+an(Cn,An,_n),Un=Ln,Ln=Dn,Dn=Pn,Pn=In+tr|0,In=_n,_n=An,An=Cn,Cn=tr+er|0;vn=vn+Cn|0,En=En+An|0,Fn=Fn+_n|0,Mn=Mn+In|0,Tn=Tn+Pn|0,Sn=Sn+Dn|0,mn=mn+Ln|0,fn=fn+Un|0}return new Uint8Array([vn>>24&255,vn>>16&255,vn>>8&255,vn&255,En>>24&255,En>>16&255,En>>8&255,En&255,Fn>>24&255,Fn>>16&255,Fn>>8&255,Fn&255,Mn>>24&255,Mn>>16&255,Mn>>8&255,Mn&255,Tn>>24&255,Tn>>16&255,Tn>>8&255,Tn&255,Sn>>24&255,Sn>>16&255,Sn>>8&255,Sn&255,mn>>24&255,mn>>16&255,mn>>8&255,mn&255,fn>>24&255,fn>>16&255,fn>>8&255,fn&255])}return cn}();Et.calculateSHA256=Xt;const Kt=function(){function Ot(cn,sn,rn,xn,vn){cn.assign(sn),cn.and(rn),vn.assign(sn),vn.not(),vn.and(xn),cn.xor(vn)}function zt(cn,sn,rn,xn,vn){cn.assign(sn),cn.and(rn),vn.assign(sn),vn.and(xn),cn.xor(vn),vn.assign(rn),vn.and(xn),cn.xor(vn)}function an(cn,sn,rn){cn.assign(sn),cn.rotateRight(28),rn.assign(sn),rn.rotateRight(34),cn.xor(rn),rn.assign(sn),rn.rotateRight(39),cn.xor(rn)}function Ht(cn,sn,rn){cn.assign(sn),cn.rotateRight(14),rn.assign(sn),rn.rotateRight(18),cn.xor(rn),rn.assign(sn),rn.rotateRight(41),cn.xor(rn)}function Wt(cn,sn,rn){cn.assign(sn),cn.rotateRight(1),rn.assign(sn),rn.rotateRight(8),cn.xor(rn),rn.assign(sn),rn.shiftRight(7),cn.xor(rn)}function tn(cn,sn,rn){cn.assign(sn),cn.rotateRight(19),rn.assign(sn),rn.rotateRight(61),cn.xor(rn),rn.assign(sn),rn.shiftRight(6),cn.xor(rn)}const ln=[new Ft(1116352408,3609767458),new Ft(1899447441,602891725),new Ft(3049323471,3964484399),new Ft(3921009573,2173295548),new Ft(961987163,4081628472),new Ft(1508970993,3053834265),new Ft(2453635748,2937671579),new Ft(2870763221,3664609560),new Ft(3624381080,2734883394),new Ft(310598401,1164996542),new Ft(607225278,1323610764),new Ft(1426881987,3590304994),new Ft(1925078388,4068182383),new Ft(2162078206,991336113),new Ft(2614888103,633803317),new Ft(3248222580,3479774868),new Ft(3835390401,2666613458),new Ft(4022224774,944711139),new Ft(264347078,2341262773),new Ft(604807628,2007800933),new Ft(770255983,1495990901),new Ft(1249150122,1856431235),new Ft(1555081692,3175218132),new Ft(1996064986,2198950837),new Ft(2554220882,3999719339),new Ft(2821834349,766784016),new Ft(2952996808,2566594879),new Ft(3210313671,3203337956),new Ft(3336571891,1034457026),new Ft(3584528711,2466948901),new Ft(113926993,3758326383),new Ft(338241895,168717936),new Ft(666307205,1188179964),new Ft(773529912,1546045734),new Ft(1294757372,1522805485),new Ft(1396182291,2643833823),new Ft(1695183700,2343527390),new Ft(1986661051,1014477480),new Ft(2177026350,1206759142),new Ft(2456956037,344077627),new Ft(2730485921,1290863460),new Ft(2820302411,3158454273),new Ft(3259730800,3505952657),new Ft(3345764771,106217008),new Ft(3516065817,3606008344),new Ft(3600352804,1432725776),new Ft(4094571909,1467031594),new Ft(275423344,851169720),new Ft(430227734,3100823752),new Ft(506948616,1363258195),new Ft(659060556,3750685593),new Ft(883997877,3785050280),new Ft(958139571,3318307427),new Ft(1322822218,3812723403),new Ft(1537002063,2003034995),new Ft(1747873779,3602036899),new Ft(1955562222,1575990012),new Ft(2024104815,1125592928),new Ft(2227730452,2716904306),new Ft(2361852424,442776044),new Ft(2428436474,593698344),new Ft(2756734187,3733110249),new Ft(3204031479,2999351573),new Ft(3329325298,3815920427),new Ft(3391569614,3928383900),new Ft(3515267271,566280711),new Ft(3940187606,3454069534),new Ft(4118630271,4000239992),new Ft(116418474,1914138554),new Ft(174292421,2731055270),new Ft(289380356,3203993006),new Ft(460393269,320620315),new Ft(685471733,587496836),new Ft(852142971,1086792851),new Ft(1017036298,365543100),new Ft(1126000580,2618297676),new Ft(1288033470,3409855158),new Ft(1501505948,4234509866),new Ft(1607167915,987167468),new Ft(1816402316,1246189591)];function on(cn,sn,rn,xn=!1){let vn,En,Fn,Mn,Tn,Sn,mn,fn;xn?(vn=new Ft(3418070365,3238371032),En=new Ft(1654270250,914150663),Fn=new Ft(2438529370,812702999),Mn=new Ft(355462360,4144912697),Tn=new Ft(1731405415,4290775857),Sn=new Ft(2394180231,1750603025),mn=new Ft(3675008525,1694076839),fn=new Ft(1203062813,3204075428)):(vn=new Ft(1779033703,4089235720),En=new Ft(3144134277,2227873595),Fn=new Ft(1013904242,4271175723),Mn=new Ft(2773480762,1595750129),Tn=new Ft(1359893119,2917565137),Sn=new Ft(2600822924,725511199),mn=new Ft(528734635,4215389547),fn=new Ft(1541459225,327033209));const Jt=Math.ceil((rn+17)/128)*128,un=new Uint8Array(Jt);let pn,wn;for(pn=0;pn<rn;++pn)un[pn]=cn[sn++];un[pn++]=128;const kn=Jt-16;for(;pn<kn;)un[pn++]=0;un[pn++]=0,un[pn++]=0,un[pn++]=0,un[pn++]=0,un[pn++]=0,un[pn++]=0,un[pn++]=0,un[pn++]=0,un[pn++]=0,un[pn++]=0,un[pn++]=0,un[pn++]=rn>>>29&255,un[pn++]=rn>>21&255,un[pn++]=rn>>13&255,un[pn++]=rn>>5&255,un[pn++]=rn<<3&255;const Rn=new Array(80);for(pn=0;pn<80;pn++)Rn[pn]=new Ft(0,0);let Cn=new Ft(0,0),An=new Ft(0,0),_n=new Ft(0,0),In=new Ft(0,0),Pn=new Ft(0,0),Dn=new Ft(0,0),Ln=new Ft(0,0),Un=new Ft(0,0);const tr=new Ft(0,0),er=new Ft(0,0),Qn=new Ft(0,0),Yn=new Ft(0,0);let Xn;for(pn=0;pn<Jt;){for(wn=0;wn<16;++wn)Rn[wn].high=un[pn]<<24|un[pn+1]<<16|un[pn+2]<<8|un[pn+3],Rn[wn].low=un[pn+4]<<24|un[pn+5]<<16|un[pn+6]<<8|un[pn+7],pn+=8;for(wn=16;wn<80;++wn)Xn=Rn[wn],tn(Xn,Rn[wn-2],Yn),Xn.add(Rn[wn-7]),Wt(Qn,Rn[wn-15],Yn),Xn.add(Qn),Xn.add(Rn[wn-16]);for(Cn.assign(vn),An.assign(En),_n.assign(Fn),In.assign(Mn),Pn.assign(Tn),Dn.assign(Sn),Ln.assign(mn),Un.assign(fn),wn=0;wn<80;++wn)tr.assign(Un),Ht(Qn,Pn,Yn),tr.add(Qn),Ot(Qn,Pn,Dn,Ln,Yn),tr.add(Qn),tr.add(ln[wn]),tr.add(Rn[wn]),an(er,Cn,Yn),zt(Qn,Cn,An,_n,Yn),er.add(Qn),Xn=Un,Un=Ln,Ln=Dn,Dn=Pn,In.add(tr),Pn=In,In=_n,_n=An,An=Cn,Xn.assign(tr),Xn.add(er),Cn=Xn;vn.add(Cn),En.add(An),Fn.add(_n),Mn.add(In),Tn.add(Pn),Sn.add(Dn),mn.add(Ln),fn.add(Un)}let nr;return xn?(nr=new Uint8Array(48),vn.copyTo(nr,0),En.copyTo(nr,8),Fn.copyTo(nr,16),Mn.copyTo(nr,24),Tn.copyTo(nr,32),Sn.copyTo(nr,40)):(nr=new Uint8Array(64),vn.copyTo(nr,0),En.copyTo(nr,8),Fn.copyTo(nr,16),Mn.copyTo(nr,24),Tn.copyTo(nr,32),Sn.copyTo(nr,40),mn.copyTo(nr,48),fn.copyTo(nr,56)),nr}return on}();Et.calculateSHA512=Kt;function Nt(Ut,Ot,zt){return Kt(Ut,Ot,zt,!0)}class $t{decryptBlock(Ot){return Ot}encrypt(Ot){return Ot}}class Dt{constructor(){this.constructor===Dt&&(0,wt.unreachable)("Cannot initialize AESBaseCipher."),this._s=new Uint8Array([99,124,119,123,242,107,111,197,48,1,103,43,254,215,171,118,202,130,201,125,250,89,71,240,173,212,162,175,156,164,114,192,183,253,147,38,54,63,247,204,52,165,229,241,113,216,49,21,4,199,35,195,24,150,5,154,7,18,128,226,235,39,178,117,9,131,44,26,27,110,90,160,82,59,214,179,41,227,47,132,83,209,0,237,32,252,177,91,106,203,190,57,74,76,88,207,208,239,170,251,67,77,51,133,69,249,2,127,80,60,159,168,81,163,64,143,146,157,56,245,188,182,218,33,16,255,243,210,205,12,19,236,95,151,68,23,196,167,126,61,100,93,25,115,96,129,79,220,34,42,144,136,70,238,184,20,222,94,11,219,224,50,58,10,73,6,36,92,194,211,172,98,145,149,228,121,231,200,55,109,141,213,78,169,108,86,244,234,101,122,174,8,186,120,37,46,28,166,180,198,232,221,116,31,75,189,139,138,112,62,181,102,72,3,246,14,97,53,87,185,134,193,29,158,225,248,152,17,105,217,142,148,155,30,135,233,206,85,40,223,140,161,137,13,191,230,66,104,65,153,45,15,176,84,187,22]),this._inv_s=new Uint8Array([82,9,106,213,48,54,165,56,191,64,163,158,129,243,215,251,124,227,57,130,155,47,255,135,52,142,67,68,196,222,233,203,84,123,148,50,166,194,35,61,238,76,149,11,66,250,195,78,8,46,161,102,40,217,36,178,118,91,162,73,109,139,209,37,114,248,246,100,134,104,152,22,212,164,92,204,93,101,182,146,108,112,72,80,253,237,185,218,94,21,70,87,167,141,157,132,144,216,171,0,140,188,211,10,247,228,88,5,184,179,69,6,208,44,30,143,202,63,15,2,193,175,189,3,1,19,138,107,58,145,17,65,79,103,220,234,151,242,207,206,240,180,230,115,150,172,116,34,231,173,53,133,226,249,55,232,28,117,223,110,71,241,26,113,29,41,197,137,111,183,98,14,170,24,190,27,252,86,62,75,198,210,121,32,154,219,192,254,120,205,90,244,31,221,168,51,136,7,199,49,177,18,16,89,39,128,236,95,96,81,127,169,25,181,74,13,45,229,122,159,147,201,156,239,160,224,59,77,174,42,245,176,200,235,187,60,131,83,153,97,23,43,4,126,186,119,214,38,225,105,20,99,85,33,12,125]),this._mix=new Uint32Array([0,235474187,470948374,303765277,941896748,908933415,607530554,708780849,1883793496,2118214995,1817866830,1649639237,1215061108,1181045119,1417561698,1517767529,3767586992,4003061179,4236429990,4069246893,3635733660,3602770327,3299278474,3400528769,2430122216,2664543715,2362090238,2193862645,2835123396,2801107407,3035535058,3135740889,3678124923,3576870512,3341394285,3374361702,3810496343,3977675356,4279080257,4043610186,2876494627,2776292904,3076639029,3110650942,2472011535,2640243204,2403728665,2169303058,1001089995,899835584,666464733,699432150,59727847,226906860,530400753,294930682,1273168787,1172967064,1475418501,1509430414,1942435775,2110667444,1876241833,1641816226,2910219766,2743034109,2976151520,3211623147,2505202138,2606453969,2302690252,2269728455,3711829422,3543599269,3240894392,3475313331,3843699074,3943906441,4178062228,4144047775,1306967366,1139781709,1374988112,1610459739,1975683434,2076935265,1775276924,1742315127,1034867998,866637845,566021896,800440835,92987698,193195065,429456164,395441711,1984812685,2017778566,1784663195,1683407248,1315562145,1080094634,1383856311,1551037884,101039829,135050206,437757123,337553864,1042385657,807962610,573804783,742039012,2531067453,2564033334,2328828971,2227573024,2935566865,2700099354,3001755655,3168937228,3868552805,3902563182,4203181171,4102977912,3736164937,3501741890,3265478751,3433712980,1106041591,1340463100,1576976609,1408749034,2043211483,2009195472,1708848333,1809054150,832877231,1068351396,766945465,599762354,159417987,126454664,361929877,463180190,2709260871,2943682380,3178106961,3009879386,2572697195,2538681184,2236228733,2336434550,3509871135,3745345300,3441850377,3274667266,3910161971,3877198648,4110568485,4211818798,2597806476,2497604743,2261089178,2295101073,2733856160,2902087851,3202437046,2968011453,3936291284,3835036895,4136440770,4169408201,3535486456,3702665459,3467192302,3231722213,2051518780,1951317047,1716890410,1750902305,1113818384,1282050075,1584504582,1350078989,168810852,67556463,371049330,404016761,841739592,1008918595,775550814,540080725,3969562369,3801332234,4035489047,4269907996,3569255213,3669462566,3366754619,3332740144,2631065433,2463879762,2160117071,2395588676,2767645557,2868897406,3102011747,3069049960,202008497,33778362,270040487,504459436,875451293,975658646,675039627,641025152,2084704233,1917518562,1615861247,1851332852,1147550661,1248802510,1484005843,1451044056,933301370,967311729,733156972,632953703,260388950,25965917,328671808,496906059,1206477858,1239443753,1543208500,1441952575,2144161806,1908694277,1675577880,1842759443,3610369226,3644379585,3408119516,3307916247,4011190502,3776767469,4077384432,4245618683,2809771154,2842737049,3144396420,3043140495,2673705150,2438237621,2203032232,2370213795]),this._mixCol=new Uint8Array(256);for(let Ot=0;Ot<256;Ot++)this._mixCol[Ot]=Ot<128?Ot<<1:Ot<<1^27;this.buffer=new Uint8Array(16),this.bufferPosition=0}_expandKey(Ot){(0,wt.unreachable)("Cannot call `_expandKey` on the base class")}_decrypt(Ot,zt){let an,Ht,Wt;const tn=new Uint8Array(16);tn.set(Ot);for(let ln=0,on=this._keySize;ln<16;++ln,++on)tn[ln]^=zt[on];for(let ln=this._cyclesOfRepetition-1;ln>=1;--ln){an=tn[13],tn[13]=tn[9],tn[9]=tn[5],tn[5]=tn[1],tn[1]=an,an=tn[14],Ht=tn[10],tn[14]=tn[6],tn[10]=tn[2],tn[6]=an,tn[2]=Ht,an=tn[15],Ht=tn[11],Wt=tn[7],tn[15]=tn[3],tn[11]=an,tn[7]=Ht,tn[3]=Wt;for(let on=0;on<16;++on)tn[on]=this._inv_s[tn[on]];for(let on=0,cn=ln*16;on<16;++on,++cn)tn[on]^=zt[cn];for(let on=0;on<16;on+=4){const cn=this._mix[tn[on]],sn=this._mix[tn[on+1]],rn=this._mix[tn[on+2]],xn=this._mix[tn[on+3]];an=cn^sn>>>8^sn<<24^rn>>>16^rn<<16^xn>>>24^xn<<8,tn[on]=an>>>24&255,tn[on+1]=an>>16&255,tn[on+2]=an>>8&255,tn[on+3]=an&255}}an=tn[13],tn[13]=tn[9],tn[9]=tn[5],tn[5]=tn[1],tn[1]=an,an=tn[14],Ht=tn[10],tn[14]=tn[6],tn[10]=tn[2],tn[6]=an,tn[2]=Ht,an=tn[15],Ht=tn[11],Wt=tn[7],tn[15]=tn[3],tn[11]=an,tn[7]=Ht,tn[3]=Wt;for(let ln=0;ln<16;++ln)tn[ln]=this._inv_s[tn[ln]],tn[ln]^=zt[ln];return tn}_encrypt(Ot,zt){const an=this._s;let Ht,Wt,tn;const ln=new Uint8Array(16);ln.set(Ot);for(let on=0;on<16;++on)ln[on]^=zt[on];for(let on=1;on<this._cyclesOfRepetition;on++){for(let cn=0;cn<16;++cn)ln[cn]=an[ln[cn]];tn=ln[1],ln[1]=ln[5],ln[5]=ln[9],ln[9]=ln[13],ln[13]=tn,tn=ln[2],Wt=ln[6],ln[2]=ln[10],ln[6]=ln[14],ln[10]=tn,ln[14]=Wt,tn=ln[3],Wt=ln[7],Ht=ln[11],ln[3]=ln[15],ln[7]=tn,ln[11]=Wt,ln[15]=Ht;for(let cn=0;cn<16;cn+=4){const sn=ln[cn+0],rn=ln[cn+1],xn=ln[cn+2],vn=ln[cn+3];Ht=sn^rn^xn^vn,ln[cn+0]^=Ht^this._mixCol[sn^rn],ln[cn+1]^=Ht^this._mixCol[rn^xn],ln[cn+2]^=Ht^this._mixCol[xn^vn],ln[cn+3]^=Ht^this._mixCol[vn^sn]}for(let cn=0,sn=on*16;cn<16;++cn,++sn)ln[cn]^=zt[sn]}for(let on=0;on<16;++on)ln[on]=an[ln[on]];tn=ln[1],ln[1]=ln[5],ln[5]=ln[9],ln[9]=ln[13],ln[13]=tn,tn=ln[2],Wt=ln[6],ln[2]=ln[10],ln[6]=ln[14],ln[10]=tn,ln[14]=Wt,tn=ln[3],Wt=ln[7],Ht=ln[11],ln[3]=ln[15],ln[7]=tn,ln[11]=Wt,ln[15]=Ht;for(let on=0,cn=this._keySize;on<16;++on,++cn)ln[on]^=zt[cn];return ln}_decryptBlock2(Ot,zt){const an=Ot.length;let Ht=this.buffer,Wt=this.bufferPosition;const tn=[];let ln=this.iv;for(let sn=0;sn<an;++sn){if(Ht[Wt]=Ot[sn],++Wt,Wt<16)continue;const rn=this._decrypt(Ht,this._key);for(let xn=0;xn<16;++xn)rn[xn]^=ln[xn];ln=Ht,tn.push(rn),Ht=new Uint8Array(16),Wt=0}if(this.buffer=Ht,this.bufferLength=Wt,this.iv=ln,tn.length===0)return new Uint8Array(0);let on=16*tn.length;if(zt){const sn=tn.at(-1);let rn=sn[15];if(rn<=16){for(let xn=15,vn=16-rn;xn>=vn;--xn)if(sn[xn]!==rn){rn=0;break}on-=rn,tn[tn.length-1]=sn.subarray(0,16-rn)}}const cn=new Uint8Array(on);for(let sn=0,rn=0,xn=tn.length;sn<xn;++sn,rn+=16)cn.set(tn[sn],rn);return cn}decryptBlock(Ot,zt,an=null){const Ht=Ot.length,Wt=this.buffer;let tn=this.bufferPosition;if(an)this.iv=an;else{for(let ln=0;tn<16&&ln<Ht;++ln,++tn)Wt[tn]=Ot[ln];if(tn<16)return this.bufferLength=tn,new Uint8Array(0);this.iv=Wt,Ot=Ot.subarray(16)}return this.buffer=new Uint8Array(16),this.bufferLength=0,this.decryptBlock=this._decryptBlock2,this.decryptBlock(Ot,zt)}encrypt(Ot,zt){const an=Ot.length;let Ht=this.buffer,Wt=this.bufferPosition;const tn=[];zt||(zt=new Uint8Array(16));for(let cn=0;cn<an;++cn){if(Ht[Wt]=Ot[cn],++Wt,Wt<16)continue;for(let rn=0;rn<16;++rn)Ht[rn]^=zt[rn];const sn=this._encrypt(Ht,this._key);zt=sn,tn.push(sn),Ht=new Uint8Array(16),Wt=0}if(this.buffer=Ht,this.bufferLength=Wt,this.iv=zt,tn.length===0)return new Uint8Array(0);const ln=16*tn.length,on=new Uint8Array(ln);for(let cn=0,sn=0,rn=tn.length;cn<rn;++cn,sn+=16)on.set(tn[cn],sn);return on}}class jt extends Dt{constructor(Ot){super(),this._cyclesOfRepetition=10,this._keySize=160,this._rcon=new Uint8Array([141,1,2,4,8,16,32,64,128,27,54,108,216,171,77,154,47,94,188,99,198,151,53,106,212,179,125,250,239,197,145,57,114,228,211,189,97,194,159,37,74,148,51,102,204,131,29,58,116,232,203,141,1,2,4,8,16,32,64,128,27,54,108,216,171,77,154,47,94,188,99,198,151,53,106,212,179,125,250,239,197,145,57,114,228,211,189,97,194,159,37,74,148,51,102,204,131,29,58,116,232,203,141,1,2,4,8,16,32,64,128,27,54,108,216,171,77,154,47,94,188,99,198,151,53,106,212,179,125,250,239,197,145,57,114,228,211,189,97,194,159,37,74,148,51,102,204,131,29,58,116,232,203,141,1,2,4,8,16,32,64,128,27,54,108,216,171,77,154,47,94,188,99,198,151,53,106,212,179,125,250,239,197,145,57,114,228,211,189,97,194,159,37,74,148,51,102,204,131,29,58,116,232,203,141,1,2,4,8,16,32,64,128,27,54,108,216,171,77,154,47,94,188,99,198,151,53,106,212,179,125,250,239,197,145,57,114,228,211,189,97,194,159,37,74,148,51,102,204,131,29,58,116,232,203,141]),this._key=this._expandKey(Ot)}_expandKey(Ot){const an=this._s,Ht=this._rcon,Wt=new Uint8Array(176);Wt.set(Ot);for(let tn=16,ln=1;tn<176;++ln){let on=Wt[tn-3],cn=Wt[tn-2],sn=Wt[tn-1],rn=Wt[tn-4];on=an[on],cn=an[cn],sn=an[sn],rn=an[rn],on^=Ht[ln];for(let xn=0;xn<4;++xn)Wt[tn]=on^=Wt[tn-16],tn++,Wt[tn]=cn^=Wt[tn-16],tn++,Wt[tn]=sn^=Wt[tn-16],tn++,Wt[tn]=rn^=Wt[tn-16],tn++}return Wt}}Et.AES128Cipher=jt;class Ct extends Dt{constructor(Ot){super(),this._cyclesOfRepetition=14,this._keySize=224,this._key=this._expandKey(Ot)}_expandKey(Ot){const an=this._s,Ht=new Uint8Array(240);Ht.set(Ot);let Wt=1,tn,ln,on,cn;for(let sn=32,rn=1;sn<240;++rn){sn%32===16?(tn=an[tn],ln=an[ln],on=an[on],cn=an[cn]):sn%32===0&&(tn=Ht[sn-3],ln=Ht[sn-2],on=Ht[sn-1],cn=Ht[sn-4],tn=an[tn],ln=an[ln],on=an[on],cn=an[cn],tn^=Wt,(Wt<<=1)>=256&&(Wt=(Wt^27)&255));for(let xn=0;xn<4;++xn)Ht[sn]=tn^=Ht[sn-32],sn++,Ht[sn]=ln^=Ht[sn-32],sn++,Ht[sn]=on^=Ht[sn-32],sn++,Ht[sn]=cn^=Ht[sn-32],sn++}return Ht}}Et.AES256Cipher=Ct;class qt{checkOwnerPassword(Ot,zt,an,Ht){const Wt=new Uint8Array(Ot.length+56);Wt.set(Ot,0),Wt.set(zt,Ot.length),Wt.set(an,Ot.length+zt.length);const tn=Xt(Wt,0,Wt.length);return(0,wt.isArrayEqual)(tn,Ht)}checkUserPassword(Ot,zt,an){const Ht=new Uint8Array(Ot.length+8);Ht.set(Ot,0),Ht.set(zt,Ot.length);const Wt=Xt(Ht,0,Ht.length);return(0,wt.isArrayEqual)(Wt,an)}getOwnerKey(Ot,zt,an,Ht){const Wt=new Uint8Array(Ot.length+56);Wt.set(Ot,0),Wt.set(zt,Ot.length),Wt.set(an,Ot.length+zt.length);const tn=Xt(Wt,0,Wt.length);return new Ct(tn).decryptBlock(Ht,!1,new Uint8Array(16))}getUserKey(Ot,zt,an){const Ht=new Uint8Array(Ot.length+8);Ht.set(Ot,0),Ht.set(zt,Ot.length);const Wt=Xt(Ht,0,Ht.length);return new Ct(Wt).decryptBlock(an,!1,new Uint8Array(16))}}Et.PDF17=qt;class Bt{_hash(Ot,zt,an){let Ht=Xt(zt,0,zt.length).subarray(0,32),Wt=[0],tn=0;for(;tn<64||Wt.at(-1)>tn-32;){const ln=Ot.length+Ht.length+an.length,on=new Uint8Array(ln);let cn=0;on.set(Ot,cn),cn+=Ot.length,on.set(Ht,cn),cn+=Ht.length,on.set(an,cn);const sn=new Uint8Array(ln*64);for(let vn=0,En=0;vn<64;vn++,En+=ln)sn.set(on,En);Wt=new jt(Ht.subarray(0,16)).encrypt(sn,Ht.subarray(16,32));const xn=Wt.slice(0,16).reduce((vn,En)=>vn+En,0)%3;xn===0?Ht=Xt(Wt,0,Wt.length):xn===1?Ht=Nt(Wt,0,Wt.length):xn===2&&(Ht=Kt(Wt,0,Wt.length)),tn++}return Ht.subarray(0,32)}checkOwnerPassword(Ot,zt,an,Ht){const Wt=new Uint8Array(Ot.length+56);Wt.set(Ot,0),Wt.set(zt,Ot.length),Wt.set(an,Ot.length+zt.length);const tn=this._hash(Ot,Wt,an);return(0,wt.isArrayEqual)(tn,Ht)}checkUserPassword(Ot,zt,an){const Ht=new Uint8Array(Ot.length+8);Ht.set(Ot,0),Ht.set(zt,Ot.length);const Wt=this._hash(Ot,Ht,[]);return(0,wt.isArrayEqual)(Wt,an)}getOwnerKey(Ot,zt,an,Ht){const Wt=new Uint8Array(Ot.length+56);Wt.set(Ot,0),Wt.set(zt,Ot.length),Wt.set(an,Ot.length+zt.length);const tn=this._hash(Ot,Wt,an);return new Ct(tn).decryptBlock(Ht,!1,new Uint8Array(16))}getUserKey(Ot,zt,an){const Ht=new Uint8Array(Ot.length+8);Ht.set(Ot,0),Ht.set(zt,Ot.length);const Wt=this._hash(Ot,Ht,[]);return new Ct(Wt).decryptBlock(an,!1,new Uint8Array(16))}}Et.PDF20=Bt;class Gt{constructor(Ot,zt){this.StringCipherConstructor=Ot,this.StreamCipherConstructor=zt}createStream(Ot,zt){const an=new this.StreamCipherConstructor;return new Pt.DecryptStream(Ot,zt,function(Wt,tn){return an.decryptBlock(Wt,tn)})}decryptString(Ot){const zt=new this.StringCipherConstructor;let an=(0,wt.stringToBytes)(Ot);return an=zt.decryptBlock(an,!0),(0,wt.bytesToString)(an)}encryptString(Ot){const zt=new this.StringCipherConstructor;if(zt instanceof Dt){const Wt=16-Ot.length%16;Ot+=String.fromCharCode(Wt).repeat(Wt);const tn=new Uint8Array(16);if(typeof crypto<"u")crypto.getRandomValues(tn);else for(let cn=0;cn<16;cn++)tn[cn]=Math.floor(256*Math.random());let ln=(0,wt.stringToBytes)(Ot);ln=zt.encrypt(ln,tn);const on=new Uint8Array(16+ln.length);return on.set(tn),on.set(ln,16),(0,wt.bytesToString)(on)}let an=(0,wt.stringToBytes)(Ot);return an=zt.encrypt(an),(0,wt.bytesToString)(an)}}const hn=class hn{constructor(Ot,zt,an){Nn(this,Qt);const Ht=Ot.get("Filter");if(!(0,_t.isName)(Ht,"Standard"))throw new wt.FormatError("unknown encryption method");this.filterName=Ht.name,this.dict=Ot;const Wt=Ot.get("V");if(!Number.isInteger(Wt)||Wt!==1&&Wt!==2&&Wt!==4&&Wt!==5)throw new wt.FormatError("unsupported encryption algorithm");this.algorithm=Wt;let tn=Ot.get("Length");if(!tn)if(Wt<=3)tn=40;else{const Tn=Ot.get("CF"),Sn=Ot.get("StmF");if(Tn instanceof _t.Dict&&Sn instanceof _t.Name){Tn.suppressEncryption=!0;const mn=Tn.get(Sn.name);tn=(mn==null?void 0:mn.get("Length"))||128,tn<40&&(tn<<=3)}}if(!Number.isInteger(tn)||tn<40||tn%8!==0)throw new wt.FormatError("invalid key length");const ln=(0,wt.stringToBytes)(Ot.get("O")),on=(0,wt.stringToBytes)(Ot.get("U")),cn=ln.subarray(0,32),sn=on.subarray(0,32),rn=Ot.get("P"),xn=Ot.get("R"),vn=(Wt===4||Wt===5)&&Ot.get("EncryptMetadata")!==!1;this.encryptMetadata=vn;const En=(0,wt.stringToBytes)(zt);let Fn;if(an){if(xn===6)try{an=(0,wt.utf8StringToString)(an)}catch{(0,wt.warn)("CipherTransformFactory: Unable to convert UTF8 encoded password.")}Fn=(0,wt.stringToBytes)(an)}let Mn;if(Wt!==5)Mn=On(this,Qt,J3).call(this,En,Fn,cn,sn,rn,xn,tn,vn);else{const Tn=ln.subarray(32,40),Sn=ln.subarray(40,48),mn=on.subarray(0,48),fn=on.subarray(32,40),Jt=on.subarray(40,48),un=(0,wt.stringToBytes)(Ot.get("OE")),pn=(0,wt.stringToBytes)(Ot.get("UE")),wn=(0,wt.stringToBytes)(Ot.get("Perms"));Mn=On(this,Qt,w5).call(this,xn,Fn,cn,Tn,Sn,mn,sn,fn,Jt,un,pn,wn)}if(!Mn&&!an)throw new wt.PasswordException("No password given",wt.PasswordResponses.NEED_PASSWORD);if(!Mn&&an){const Tn=On(this,Qt,A5).call(this,Fn,cn,xn,tn);Mn=On(this,Qt,J3).call(this,En,Tn,cn,sn,rn,xn,tn,vn)}if(!Mn)throw new wt.PasswordException("Incorrect Password",wt.PasswordResponses.INCORRECT_PASSWORD);if(this.encryptionKey=Mn,Wt>=4){const Tn=Ot.get("CF");Tn instanceof _t.Dict&&(Tn.suppressEncryption=!0),this.cf=Tn,this.stmf=Ot.get("StmF")||_t.Name.get("Identity"),this.strf=Ot.get("StrF")||_t.Name.get("Identity"),this.eff=Ot.get("EFF")||this.stmf}}createCipherTransform(Ot,zt){if(this.algorithm===4||this.algorithm===5)return new Gt(On(this,Qt,Q3).call(this,this.cf,this.strf,Ot,zt,this.encryptionKey),On(this,Qt,Q3).call(this,this.cf,this.stmf,Ot,zt,this.encryptionKey));const an=On(this,Qt,B2).call(this,Ot,zt,this.encryptionKey,!1),Ht=function(){return new _e(an)};return new Gt(Ht,Ht)}};dn=new WeakMap,Qt=new WeakSet,w5=function(Ot,zt,an,Ht,Wt,tn,ln,on,cn,sn,rn,xn){if(zt){const En=Math.min(127,zt.length);zt=zt.subarray(0,En)}else zt=[];const vn=Ot===6?new Bt:new qt;return vn.checkUserPassword(zt,on,ln)?vn.getUserKey(zt,cn,rn):zt.length&&vn.checkOwnerPassword(zt,Ht,tn,an)?vn.getOwnerKey(zt,Wt,tn,sn):null},J3=function(Ot,zt,an,Ht,Wt,tn,ln,on){const cn=40+an.length+Ot.length,sn=new Uint8Array(cn);let rn=0,xn,vn;if(zt)for(vn=Math.min(32,zt.length);rn<vn;++rn)sn[rn]=zt[rn];for(xn=0;rn<32;)sn[rn++]=Mt(hn,dn)[xn++];for(xn=0,vn=an.length;xn<vn;++xn)sn[rn++]=an[xn];for(sn[rn++]=Wt&255,sn[rn++]=Wt>>8&255,sn[rn++]=Wt>>16&255,sn[rn++]=Wt>>>24&255,xn=0,vn=Ot.length;xn<vn;++xn)sn[rn++]=Ot[xn];tn>=4&&!on&&(sn[rn++]=255,sn[rn++]=255,sn[rn++]=255,sn[rn++]=255);let En=bt(sn,0,rn);const Fn=ln>>3;if(tn>=3)for(xn=0;xn<50;++xn)En=bt(En,0,Fn);const Mn=En.subarray(0,Fn);let Tn,Sn;if(tn>=3){for(rn=0;rn<32;++rn)sn[rn]=Mt(hn,dn)[rn];for(xn=0,vn=Ot.length;xn<vn;++xn)sn[rn++]=Ot[xn];Tn=new _e(Mn),Sn=Tn.encryptBlock(bt(sn,0,rn)),vn=Mn.length;const mn=new Uint8Array(vn);for(xn=1;xn<=19;++xn){for(let fn=0;fn<vn;++fn)mn[fn]=Mn[fn]^xn;Tn=new _e(mn),Sn=Tn.encryptBlock(Sn)}for(xn=0,vn=Sn.length;xn<vn;++xn)if(Ht[xn]!==Sn[xn])return null}else for(Tn=new _e(Mn),Sn=Tn.encryptBlock(Mt(hn,dn)),xn=0,vn=Sn.length;xn<vn;++xn)if(Ht[xn]!==Sn[xn])return null;return Mn},A5=function(Ot,zt,an,Ht){const Wt=new Uint8Array(32);let tn=0;const ln=Math.min(32,Ot.length);for(;tn<ln;++tn)Wt[tn]=Ot[tn];let on=0;for(;tn<32;)Wt[tn++]=Mt(hn,dn)[on++];let cn=bt(Wt,0,tn);const sn=Ht>>3;if(an>=3)for(on=0;on<50;++on)cn=bt(cn,0,cn.length);let rn,xn;if(an>=3){xn=zt;const vn=new Uint8Array(sn);for(on=19;on>=0;on--){for(let En=0;En<sn;++En)vn[En]=cn[En]^on;rn=new _e(vn),xn=rn.encryptBlock(xn)}}else rn=new _e(cn.subarray(0,sn)),xn=rn.encryptBlock(zt);return xn},B2=function(Ot,zt,an,Ht=!1){const Wt=new Uint8Array(an.length+9),tn=an.length;let ln;for(ln=0;ln<tn;++ln)Wt[ln]=an[ln];return Wt[ln++]=Ot&255,Wt[ln++]=Ot>>8&255,Wt[ln++]=Ot>>16&255,Wt[ln++]=zt&255,Wt[ln++]=zt>>8&255,Ht&&(Wt[ln++]=115,Wt[ln++]=65,Wt[ln++]=108,Wt[ln++]=84),bt(Wt,0,ln).subarray(0,Math.min(an.length+5,16))},Q3=function(Ot,zt,an,Ht,Wt){if(!(zt instanceof _t.Name))throw new wt.FormatError("Invalid crypt filter name.");const tn=this,ln=Ot.get(zt.name),on=ln==null?void 0:ln.get("CFM");if(!on||on.name==="None")return function(){return new $t};if(on.name==="V2")return function(){var cn;return new _e(On(cn=tn,Qt,B2).call(cn,an,Ht,Wt,!1))};if(on.name==="AESV2")return function(){var cn;return new jt(On(cn=tn,Qt,B2).call(cn,an,Ht,Wt,!0))};if(on.name==="AESV3")return function(){return new Ct(Wt)};throw new wt.FormatError("Unknown crypto method")},Nn(hn,dn,new Uint8Array([40,191,78,94,78,117,138,65,100,0,78,86,255,250,1,8,46,46,0,182,208,104,62,128,47,12,169,254,100,83,105,122]));let en=hn;Et.CipherTransformFactory=en},(kt,Et,Rt)=>{Object.defineProperty(Et,"__esModule",{value:!0}),Et.DecryptStream=void 0;var wt=Rt(18);const _t=512;class Pt extends wt.DecodeStream{constructor(bt,Ft,Xt){super(Ft),this.str=bt,this.dict=bt.dict,this.decrypt=Xt,this.nextChunk=null,this.initialized=!1}readBlock(){var Dt;let bt;if(this.initialized?bt=this.nextChunk:(bt=this.str.getBytes(_t),this.initialized=!0),!bt||bt.length===0){this.eof=!0;return}this.nextChunk=this.str.getBytes(_t);const Ft=((Dt=this.nextChunk)==null?void 0:Dt.length)>0,Xt=this.decrypt;bt=Xt(bt,!Ft);const Kt=this.bufferLength,Nt=Kt+bt.length;this.ensureBuffer(Nt).set(bt,Kt),this.bufferLength=Nt}}Et.DecryptStream=Pt},(kt,Et,Rt)=>{Object.defineProperty(Et,"__esModule",{value:!0}),Et.ObjectLoader=void 0;var wt=Rt(4),_t=Rt(5),Pt=Rt(3),_e=Rt(2);function bt(Kt){return Kt instanceof wt.Ref||Kt instanceof wt.Dict||Kt instanceof _t.BaseStream||Array.isArray(Kt)}function Ft(Kt,Nt){if(Kt instanceof wt.Dict)Kt=Kt.getRawValues();else if(Kt instanceof _t.BaseStream)Kt=Kt.dict.getRawValues();else if(!Array.isArray(Kt))return;for(const $t of Kt)bt($t)&&Nt.push($t)}class Xt{constructor(Nt,$t,Dt){this.dict=Nt,this.keys=$t,this.xref=Dt,this.refSet=null}async load(){if(this.xref.stream.isDataLoaded)return;const{keys:Nt,dict:$t}=this;this.refSet=new wt.RefSet;const Dt=[];for(const jt of Nt){const Ct=$t.getRaw(jt);Ct!==void 0&&Dt.push(Ct)}return this._walk(Dt)}async _walk(Nt){const $t=[],Dt=[];for(;Nt.length;){let jt=Nt.pop();if(jt instanceof wt.Ref){if(this.refSet.has(jt))continue;try{this.refSet.put(jt),jt=this.xref.fetch(jt)}catch(Ct){if(!(Ct instanceof Pt.MissingDataException)){(0,_e.warn)(`ObjectLoader._walk - requesting all data: "${Ct}".`),this.refSet=null;const{manager:qt}=this.xref.stream;return qt.requestAllChunks()}$t.push(jt),Dt.push({begin:Ct.begin,end:Ct.end})}}if(jt instanceof _t.BaseStream){const Ct=jt.getBaseStreams();if(Ct){let qt=!1;for(const Bt of Ct)Bt.isDataLoaded||(qt=!0,Dt.push({begin:Bt.start,end:Bt.end}));qt&&$t.push(jt)}}Ft(jt,Nt)}if(Dt.length){await this.xref.stream.manager.requestRanges(Dt);for(const jt of $t)jt instanceof wt.Ref&&this.refSet.remove(jt);return this._walk($t)}this.refSet=null}}Et.ObjectLoader=Xt},(kt,Et,Rt)=>{Object.defineProperty(Et,"__esModule",{value:!0}),Et.XFAFactory=void 0;var wt=Rt(78),_t=Rt(79),Pt=Rt(89),_e=Rt(85),bt=Rt(84),Ft=Rt(2),Xt=Rt(90),Kt=Rt(100);class Nt{constructor(Dt){try{this.root=new Xt.XFAParser().parse(Nt._createDocument(Dt));const jt=new _t.Binder(this.root);this.form=jt.bind(),this.dataHandler=new Pt.DataHandler(this.root,jt.getData()),this.form[wt.$globalData].template=this.form}catch(jt){(0,Ft.warn)(`XFA - an error occurred during parsing and binding: ${jt}`)}}isValid(){return this.root&&this.form}_createPagesHelper(){const Dt=this.form[wt.$toPages]();return new Promise((jt,Ct)=>{const qt=()=>{try{const Bt=Dt.next();Bt.done?jt(Bt.value):setTimeout(qt,0)}catch(Bt){Ct(Bt)}};setTimeout(qt,0)})}async _createPages(){try{this.pages=await this._createPagesHelper(),this.dims=this.pages.children.map(Dt=>{const{width:jt,height:Ct}=Dt.attributes.style;return[0,0,parseInt(jt),parseInt(Ct)]})}catch(Dt){(0,Ft.warn)(`XFA - an error occurred during layout: ${Dt}`)}}getBoundingBox(Dt){return this.dims[Dt]}async getNumPages(){return this.pages||await this._createPages(),this.dims.length}setImages(Dt){this.form[wt.$globalData].images=Dt}setFonts(Dt){this.form[wt.$globalData].fontFinder=new _e.FontFinder(Dt);const jt=[];for(let Ct of this.form[wt.$globalData].usedTypefaces)Ct=(0,bt.stripQuotes)(Ct),this.form[wt.$globalData].fontFinder.find(Ct)||jt.push(Ct);return jt.length>0?jt:null}appendFonts(Dt,jt){this.form[wt.$globalData].fontFinder.add(Dt,jt)}async getPages(){this.pages||await this._createPages();const Dt=this.pages;return this.pages=null,Dt}serializeData(Dt){return this.dataHandler.serialize(Dt)}static _createDocument(Dt){return Dt["/xdp:xdp"]?Object.values(Dt).join(""):Dt["xdp:xdp"]}static getRichTextAsHtml(Dt){if(!Dt||typeof Dt!="string")return null;try{let jt=new Xt.XFAParser(Kt.XhtmlNamespace,!0).parse(Dt);if(!["body","xhtml"].includes(jt[wt.$nodeName])){const Gt=Kt.XhtmlNamespace.body({});Gt[wt.$appendChild](jt),jt=Gt}const Ct=jt[wt.$toHTML]();if(!Ct.success)return null;const{html:qt}=Ct,{attributes:Bt}=qt;return Bt&&(Bt.class&&(Bt.class=Bt.class.filter(Gt=>!Gt.startsWith("xfa"))),Bt.dir="auto"),{html:qt,str:jt[wt.$text]()}}catch(jt){(0,Ft.warn)(`XFA - an error occurred during parsing of rich text: ${jt}`)}return null}}Et.XFAFactory=Nt},(kt,Et)=>{Object.defineProperty(Et,"__esModule",{value:!0}),Et.$uid=Et.$toStyle=Et.$toString=Et.$toPages=Et.$toHTML=Et.$text=Et.$tabIndex=Et.$setValue=Et.$setSetAttributes=Et.$setId=Et.$searchNode=Et.$root=Et.$resolvePrototypes=Et.$removeChild=Et.$pushPara=Et.$pushGlyphs=Et.$popPara=Et.$onText=Et.$onChildCheck=Et.$onChild=Et.$nsAttributes=Et.$nodeName=Et.$namespaceId=Et.$lastAttribute=Et.$isUsable=Et.$isTransparent=Et.$isThereMoreWidth=Et.$isSplittable=Et.$isNsAgnostic=Et.$isDescendent=Et.$isDataValue=Et.$isCDATAXml=Et.$isBindable=Et.$insertAt=Et.$indexOf=Et.$ids=Et.$hasSettableValue=Et.$globalData=Et.$getTemplateRoot=Et.$getSubformParent=Et.$getRealChildrenByNameIt=Et.$getParent=Et.$getNextPage=Et.$getExtra=Et.$getDataValue=Et.$getContainedChildren=Et.$getChildrenByNameIt=Et.$getChildrenByName=Et.$getChildrenByClass=Et.$getChildren=Et.$getAvailableSpace=Et.$getAttributes=Et.$getAttributeIt=Et.$flushHTML=Et.$finalize=Et.$extra=Et.$dump=Et.$data=Et.$content=Et.$consumed=Et.$clone=Et.$cleanup=Et.$cleanPage=Et.$clean=Et.$childrenToHTML=Et.$appendChild=Et.$addHTML=Et.$acceptWhitespace=void 0;const Rt=Symbol();Et.$acceptWhitespace=Rt;const wt=Symbol();Et.$addHTML=wt;const _t=Symbol();Et.$appendChild=_t;const Pt=Symbol();Et.$childrenToHTML=Pt;const _e=Symbol();Et.$clean=_e;const bt=Symbol();Et.$cleanPage=bt;const Ft=Symbol();Et.$cleanup=Ft;const Xt=Symbol();Et.$clone=Xt;const Kt=Symbol();Et.$consumed=Kt;const Nt=Symbol("content");Et.$content=Nt;const $t=Symbol("data");Et.$data=$t;const Dt=Symbol();Et.$dump=Dt;const jt=Symbol("extra");Et.$extra=jt;const Ct=Symbol();Et.$finalize=Ct;const qt=Symbol();Et.$flushHTML=qt;const Bt=Symbol();Et.$getAttributeIt=Bt;const Gt=Symbol();Et.$getAttributes=Gt;const en=Symbol();Et.$getAvailableSpace=en;const dn=Symbol();Et.$getChildrenByClass=dn;const Qt=Symbol();Et.$getChildrenByName=Qt;const gn=Symbol();Et.$getChildrenByNameIt=gn;const nn=Symbol();Et.$getDataValue=nn;const bn=Symbol();Et.$getExtra=bn;const Vt=Symbol();Et.$getRealChildrenByNameIt=Vt;const Yt=Symbol();Et.$getChildren=Yt;const hn=Symbol();Et.$getContainedChildren=hn;const Ut=Symbol();Et.$getNextPage=Ut;const Ot=Symbol();Et.$getSubformParent=Ot;const zt=Symbol();Et.$getParent=zt;const an=Symbol();Et.$getTemplateRoot=an;const Ht=Symbol();Et.$globalData=Ht;const Wt=Symbol();Et.$hasSettableValue=Wt;const tn=Symbol();Et.$ids=tn;const ln=Symbol();Et.$indexOf=ln;const on=Symbol();Et.$insertAt=on;const cn=Symbol();Et.$isCDATAXml=cn;const sn=Symbol();Et.$isBindable=sn;const rn=Symbol();Et.$isDataValue=rn;const xn=Symbol();Et.$isDescendent=xn;const vn=Symbol();Et.$isNsAgnostic=vn;const En=Symbol();Et.$isSplittable=En;const Fn=Symbol();Et.$isThereMoreWidth=Fn;const Mn=Symbol();Et.$isTransparent=Mn;const Tn=Symbol();Et.$isUsable=Tn;const Sn=Symbol();Et.$lastAttribute=Sn;const mn=Symbol("namespaceId");Et.$namespaceId=mn;const fn=Symbol("nodeName");Et.$nodeName=fn;const Jt=Symbol();Et.$nsAttributes=Jt;const un=Symbol();Et.$onChild=un;const pn=Symbol();Et.$onChildCheck=pn;const wn=Symbol();Et.$onText=wn;const kn=Symbol();Et.$pushGlyphs=kn;const Rn=Symbol();Et.$popPara=Rn;const Cn=Symbol();Et.$pushPara=Cn;const An=Symbol();Et.$removeChild=An;const _n=Symbol("root");Et.$root=_n;const In=Symbol();Et.$resolvePrototypes=In;const Pn=Symbol();Et.$searchNode=Pn;const Dn=Symbol();Et.$setId=Dn;const Ln=Symbol();Et.$setSetAttributes=Ln;const Un=Symbol();Et.$setValue=Un;const tr=Symbol();Et.$tabIndex=tr;const er=Symbol();Et.$text=er;const Qn=Symbol();Et.$toPages=Qn;const Yn=Symbol();Et.$toHTML=Yn;const Xn=Symbol();Et.$toString=Xn;const nr=Symbol();Et.$toStyle=nr;const lr=Symbol("uid");Et.$uid=lr},(kt,Et,Rt)=>{Object.defineProperty(Et,"__esModule",{value:!0}),Et.Binder=void 0;var wt=Rt(78),_t=Rt(80),Pt=Rt(88),_e=Rt(87),bt=Rt(81),Ft=Rt(2);const Xt=bt.NamespaceIds.datasets.id;function Kt($t){const Dt=new _t.Text({});return Dt[wt.$content]=$t,Dt}class Nt{constructor(Dt){var jt;this.root=Dt,this.datasets=Dt.datasets,this.data=((jt=Dt.datasets)==null?void 0:jt.data)||new _e.XmlObject(bt.NamespaceIds.datasets.id,"data"),this.emptyMerge=this.data[wt.$getChildren]().length===0,this.root.form=this.form=Dt.template[wt.$clone]()}_isConsumeData(){return!this.emptyMerge&&this._mergeMode}_isMatchTemplate(){return!this._isConsumeData()}bind(){return this._bindElement(this.form,this.data),this.form}getData(){return this.data}_bindValue(Dt,jt,Ct){var qt,Bt;if(Dt[wt.$data]=jt,Dt[wt.$hasSettableValue]())if(jt[wt.$isDataValue]()){const Gt=jt[wt.$getDataValue]();Dt[wt.$setValue](Kt(Gt))}else if(Dt instanceof _t.Field&&((Bt=(qt=Dt.ui)==null?void 0:qt.choiceList)==null?void 0:Bt.open)==="multiSelect"){const Gt=jt[wt.$getChildren]().map(en=>en[wt.$content].trim()).join(`
`);Dt[wt.$setValue](Kt(Gt))}else this._isConsumeData()&&(0,Ft.warn)("XFA - Nodes haven't the same type.");else!jt[wt.$isDataValue]()||this._isMatchTemplate()?this._bindElement(Dt,jt):(0,Ft.warn)("XFA - Nodes haven't the same type.")}_findDataByNameToConsume(Dt,jt,Ct,qt){if(!Dt)return null;let Bt,Gt;for(let en=0;en<3;en++){for(Bt=Ct[wt.$getRealChildrenByNameIt](Dt,!1,!0);Gt=Bt.next().value,!!Gt;)if(jt===Gt[wt.$isDataValue]())return Gt;if(Ct[wt.$namespaceId]===bt.NamespaceIds.datasets.id&&Ct[wt.$nodeName]==="data")break;Ct=Ct[wt.$getParent]()}return qt?(Bt=this.data[wt.$getRealChildrenByNameIt](Dt,!0,!1),Gt=Bt.next().value,Gt||(Bt=this.data[wt.$getAttributeIt](Dt,!0),Gt=Bt.next().value,Gt!=null&&Gt[wt.$isDataValue]())?Gt:null):null}_setProperties(Dt,jt){if(Dt.hasOwnProperty("setProperty"))for(const{ref:Ct,target:qt,connection:Bt}of Dt.setProperty.children){if(Bt||!Ct)continue;const Gt=(0,Pt.searchNode)(this.root,jt,Ct,!1,!1);if(!Gt){(0,Ft.warn)(`XFA - Invalid reference: ${Ct}.`);continue}const[en]=Gt;if(!en[wt.$isDescendent](this.data)){(0,Ft.warn)("XFA - Invalid node: must be a data node.");continue}const dn=(0,Pt.searchNode)(this.root,Dt,qt,!1,!1);if(!dn){(0,Ft.warn)(`XFA - Invalid target: ${qt}.`);continue}const[Qt]=dn;if(!Qt[wt.$isDescendent](Dt)){(0,Ft.warn)("XFA - Invalid target: must be a property or subproperty.");continue}const gn=Qt[wt.$getParent]();if(Qt instanceof _t.SetProperty||gn instanceof _t.SetProperty){(0,Ft.warn)("XFA - Invalid target: cannot be a setProperty or one of its properties.");continue}if(Qt instanceof _t.BindItems||gn instanceof _t.BindItems){(0,Ft.warn)("XFA - Invalid target: cannot be a bindItems or one of its properties.");continue}const nn=en[wt.$text](),bn=Qt[wt.$nodeName];if(Qt instanceof _e.XFAAttribute){const Vt=Object.create(null);Vt[bn]=nn;const Yt=Reflect.construct(Object.getPrototypeOf(gn).constructor,[Vt]);gn[bn]=Yt[bn];continue}if(!Qt.hasOwnProperty(wt.$content)){(0,Ft.warn)("XFA - Invalid node to use in setProperty");continue}Qt[wt.$data]=en,Qt[wt.$content]=nn,Qt[wt.$finalize]()}}_bindItems(Dt,jt){if(!Dt.hasOwnProperty("items")||!Dt.hasOwnProperty("bindItems")||Dt.bindItems.isEmpty())return;for(const Bt of Dt.items.children)Dt[wt.$removeChild](Bt);Dt.items.clear();const Ct=new _t.Items({}),qt=new _t.Items({});Dt[wt.$appendChild](Ct),Dt.items.push(Ct),Dt[wt.$appendChild](qt),Dt.items.push(qt);for(const{ref:Bt,labelRef:Gt,valueRef:en,connection:dn}of Dt.bindItems.children){if(dn||!Bt)continue;const Qt=(0,Pt.searchNode)(this.root,jt,Bt,!1,!1);if(!Qt){(0,Ft.warn)(`XFA - Invalid reference: ${Bt}.`);continue}for(const gn of Qt){if(!gn[wt.$isDescendent](this.datasets)){(0,Ft.warn)(`XFA - Invalid ref (${Bt}): must be a datasets child.`);continue}const nn=(0,Pt.searchNode)(this.root,gn,Gt,!0,!1);if(!nn){(0,Ft.warn)(`XFA - Invalid label: ${Gt}.`);continue}const[bn]=nn;if(!bn[wt.$isDescendent](this.datasets)){(0,Ft.warn)("XFA - Invalid label: must be a datasets child.");continue}const Vt=(0,Pt.searchNode)(this.root,gn,en,!0,!1);if(!Vt){(0,Ft.warn)(`XFA - Invalid value: ${en}.`);continue}const[Yt]=Vt;if(!Yt[wt.$isDescendent](this.datasets)){(0,Ft.warn)("XFA - Invalid value: must be a datasets child.");continue}const hn=Kt(bn[wt.$text]()),Ut=Kt(Yt[wt.$text]());Ct[wt.$appendChild](hn),Ct.text.push(hn),qt[wt.$appendChild](Ut),qt.text.push(Ut)}}}_bindOccurrences(Dt,jt,Ct){let qt;if(jt.length>1&&(qt=Dt[wt.$clone](),qt[wt.$removeChild](qt.occur),qt.occur=null),this._bindValue(Dt,jt[0],Ct),this._setProperties(Dt,jt[0]),this._bindItems(Dt,jt[0]),jt.length===1)return;const Bt=Dt[wt.$getParent](),Gt=Dt[wt.$nodeName],en=Bt[wt.$indexOf](Dt);for(let dn=1,Qt=jt.length;dn<Qt;dn++){const gn=jt[dn],nn=qt[wt.$clone]();Bt[Gt].push(nn),Bt[wt.$insertAt](en+dn,nn),this._bindValue(nn,gn,Ct),this._setProperties(nn,gn),this._bindItems(nn,gn)}}_createOccurrences(Dt){if(!this.emptyMerge)return;const{occur:jt}=Dt;if(!jt||jt.initial<=1)return;const Ct=Dt[wt.$getParent](),qt=Dt[wt.$nodeName];if(!(Ct[qt]instanceof _e.XFAObjectArray))return;let Bt;Dt.name?Bt=Ct[qt].children.filter(dn=>dn.name===Dt.name).length:Bt=Ct[qt].children.length;const Gt=Ct[wt.$indexOf](Dt)+1,en=jt.initial-Bt;if(en){const dn=Dt[wt.$clone]();dn[wt.$removeChild](dn.occur),dn.occur=null,Ct[qt].push(dn),Ct[wt.$insertAt](Gt,dn);for(let Qt=1;Qt<en;Qt++){const gn=dn[wt.$clone]();Ct[qt].push(gn),Ct[wt.$insertAt](Gt+Qt,gn)}}}_getOccurInfo(Dt){const{name:jt,occur:Ct}=Dt;if(!Ct||!jt)return[1,1];const qt=Ct.max===-1?1/0:Ct.max;return[Ct.min,qt]}_setAndBind(Dt,jt){this._setProperties(Dt,jt),this._bindItems(Dt,jt),this._bindElement(Dt,jt)}_bindElement(Dt,jt){const Ct=[];this._createOccurrences(Dt);for(const qt of Dt[wt.$getChildren]()){if(qt[wt.$data])continue;if(this._mergeMode===void 0&&qt[wt.$nodeName]==="subform"){this._mergeMode=qt.mergeMode==="consumeData";const nn=jt[wt.$getChildren]();if(nn.length>0)this._bindOccurrences(qt,[nn[0]],null);else if(this.emptyMerge){const bn=jt[wt.$namespaceId]===Xt?-1:jt[wt.$namespaceId],Vt=qt[wt.$data]=new _e.XmlObject(bn,qt.name||"root");jt[wt.$appendChild](Vt),this._bindElement(qt,Vt)}continue}if(!qt[wt.$isBindable]())continue;let Bt=!1,Gt=null,en=null,dn=null;if(qt.bind){switch(qt.bind.match){case"none":this._setAndBind(qt,jt);continue;case"global":Bt=!0;break;case"dataRef":if(!qt.bind.ref){(0,Ft.warn)(`XFA - ref is empty in node ${qt[wt.$nodeName]}.`),this._setAndBind(qt,jt);continue}en=qt.bind.ref;break}qt.bind.picture&&(Gt=qt.bind.picture[wt.$content])}const[Qt,gn]=this._getOccurInfo(qt);if(en)if(dn=(0,Pt.searchNode)(this.root,jt,en,!0,!1),dn===null){if(dn=(0,Pt.createDataNode)(this.data,jt,en),!dn)continue;this._isConsumeData()&&(dn[wt.$consumed]=!0),this._setAndBind(qt,dn);continue}else this._isConsumeData()&&(dn=dn.filter(nn=>!nn[wt.$consumed])),dn.length>gn?dn=dn.slice(0,gn):dn.length===0&&(dn=null),dn&&this._isConsumeData()&&dn.forEach(nn=>{nn[wt.$consumed]=!0});else{if(!qt.name){this._setAndBind(qt,jt);continue}if(this._isConsumeData()){const nn=[];for(;nn.length<gn;){const bn=this._findDataByNameToConsume(qt.name,qt[wt.$hasSettableValue](),jt,Bt);if(!bn)break;bn[wt.$consumed]=!0,nn.push(bn)}dn=nn.length>0?nn:null}else{if(dn=jt[wt.$getRealChildrenByNameIt](qt.name,!1,this.emptyMerge).next().value,!dn){if(Qt===0){Ct.push(qt);continue}const nn=jt[wt.$namespaceId]===Xt?-1:jt[wt.$namespaceId];dn=qt[wt.$data]=new _e.XmlObject(nn,qt.name),this.emptyMerge&&(dn[wt.$consumed]=!0),jt[wt.$appendChild](dn),this._setAndBind(qt,dn);continue}this.emptyMerge&&(dn[wt.$consumed]=!0),dn=[dn]}}dn?this._bindOccurrences(qt,dn,Gt):Qt>0?this._setAndBind(qt,jt):Ct.push(qt)}Ct.forEach(qt=>qt[wt.$getParent]()[wt.$removeChild](qt))}}Et.Binder=Nt},(kt,Et,Rt)=>{Object.defineProperty(Et,"__esModule",{value:!0}),Et.Value=Et.Text=Et.TemplateNamespace=Et.Template=Et.SetProperty=Et.Items=Et.Field=Et.BindItems=void 0;var wt=Rt(78),_t=Rt(81),Pt=Rt(82),_e=Rt(83),bt=Rt(87),Ft=Rt(84),Xt=Rt(2),Kt=Rt(85),Nt=Rt(3),$t=Rt(88);const Dt=_t.NamespaceIds.template.id,jt="http://www.w3.org/2000/svg",Ct=2,qt=3,Bt=5e3,Gt=/^H(\d+)$/,en=new Set(["image/gif","image/jpeg","image/jpg","image/pjpeg","image/png","image/apng","image/x-png","image/bmp","image/x-ms-bmp","image/tiff","image/tif","application/octet-stream"]),dn=[[[66,77],"image/bmp"],[[255,216,255],"image/jpeg"],[[73,73,42,0],"image/tiff"],[[77,77,0,42],"image/tiff"],[[71,73,70,56,57,97],"image/gif"],[[137,80,78,71,13,10,26,10],"image/png"]];function Qt(zn){if(!zn||!zn.border)return{w:0,h:0};const Lt=zn.border[wt.$getExtra]();return Lt?{w:Lt.widths[0]+Lt.widths[2]+Lt.insets[0]+Lt.insets[2],h:Lt.widths[1]+Lt.widths[3]+Lt.insets[1]+Lt.insets[3]}:{w:0,h:0}}function gn(zn){return zn.margin&&(zn.margin.topInset||zn.margin.rightInset||zn.margin.bottomInset||zn.margin.leftInset)}function nn(zn,Lt){if(!zn.value){const yn=new jn({});zn[wt.$appendChild](yn),zn.value=yn}zn.value[wt.$setValue](Lt)}function*bn(zn){for(const Lt of zn[wt.$getChildren]()){if(Lt instanceof wu){yield*Lt[wt.$getContainedChildren]();continue}yield Lt}}function Vt(zn){var Lt;return((Lt=zn.validate)==null?void 0:Lt.nullTest)==="error"}function Yt(zn){for(;zn;){if(!zn.traversal){zn[wt.$tabIndex]=zn[wt.$getParent]()[wt.$tabIndex];return}if(zn[wt.$tabIndex])return;let Lt=null;for(const _i of zn.traversal[wt.$getChildren]())if(_i.operation==="next"){Lt=_i;break}if(!Lt||!Lt.ref){zn[wt.$tabIndex]=zn[wt.$getParent]()[wt.$tabIndex];return}const yn=zn[wt.$getTemplateRoot]();zn[wt.$tabIndex]=++yn[wt.$tabIndex];const qn=yn[wt.$searchNode](Lt.ref,zn);if(!qn)return;zn=qn[0]}}function hn(zn,Lt){var qn;const yn=zn.assist;if(yn){const _i=yn[wt.$toHTML]();_i&&(Lt.title=_i);const ir=yn.role.match(Gt);if(ir){const ar="heading",gr=ir[1];Lt.role=ar,Lt["aria-level"]=gr}}if(zn.layout==="table")Lt.role="table";else if(zn.layout==="row")Lt.role="row";else{const _i=zn[wt.$getParent]();_i.layout==="row"&&(Lt.role=((qn=_i.assist)==null?void 0:qn.role)==="TH"?"columnheader":"cell")}}function Ut(zn){if(!zn.assist)return null;const Lt=zn.assist;return Lt.speak&&Lt.speak[wt.$content]!==""?Lt.speak[wt.$content]:Lt.toolTip?Lt.toolTip[wt.$content]:null}function Ot(zn){return Ft.HTMLResult.success({name:"div",attributes:{class:["xfaRich"],style:Object.create(null)},children:[{name:"span",attributes:{style:Object.create(null)},value:zn}]})}function zt(zn){const Lt=zn[wt.$getTemplateRoot]();Lt[wt.$extra].firstUnsplittable===null&&(Lt[wt.$extra].firstUnsplittable=zn,Lt[wt.$extra].noLayoutFailure=!0)}function an(zn){const Lt=zn[wt.$getTemplateRoot]();Lt[wt.$extra].firstUnsplittable===zn&&(Lt[wt.$extra].noLayoutFailure=!1)}function Ht(zn){if(zn[wt.$extra]||(zn[wt.$extra]=Object.create(null),zn.targetType==="auto"))return!1;const Lt=zn[wt.$getTemplateRoot]();let yn=null;if(zn.target){if(yn=Lt[wt.$searchNode](zn.target,zn[wt.$getParent]()),!yn)return!1;yn=yn[0]}const{currentPageArea:qn,currentContentArea:_i}=Lt[wt.$extra];if(zn.targetType==="pageArea")return yn instanceof Jr||(yn=null),zn.startNew?(zn[wt.$extra].target=yn||qn,!0):yn&&yn!==qn?(zn[wt.$extra].target=yn,!0):!1;yn instanceof _n||(yn=null);const Kn=yn&&yn[wt.$getParent]();let ir,ar=Kn;if(zn.startNew)if(yn){const gr=Kn.contentArea.children,mr=gr.indexOf(_i),br=gr.indexOf(yn);mr!==-1&&mr<br&&(ar=null),ir=br-1}else ir=qn.contentArea.children.indexOf(_i);else if(yn&&yn!==_i)ir=Kn.contentArea.children.indexOf(yn)-1,ar=Kn===qn?null:Kn;else return!1;return zn[wt.$extra].target=ar,zn[wt.$extra].index=ir,!0}function Wt(zn,Lt,yn){const qn=zn[wt.$getTemplateRoot](),_i=qn[wt.$extra].noLayoutFailure,Kn=Lt[wt.$getSubformParent];Lt[wt.$getSubformParent]=()=>zn,qn[wt.$extra].noLayoutFailure=!0;const ir=Lt[wt.$toHTML](yn);zn[wt.$addHTML](ir.html,ir.bbox),qn[wt.$extra].noLayoutFailure=_i,Lt[wt.$getSubformParent]=Kn}class tn extends bt.StringObject{constructor(Lt){super(Dt,"appearanceFilter"),this.id=Lt.id||"",this.type=(0,Ft.getStringOption)(Lt.type,["optional","required"]),this.use=Lt.use||"",this.usehref=Lt.usehref||""}}class ln extends bt.XFAObject{constructor(Lt){super(Dt,"arc",!0),this.circular=(0,Ft.getInteger)({data:Lt.circular,defaultValue:0,validate:yn=>yn===1}),this.hand=(0,Ft.getStringOption)(Lt.hand,["even","left","right"]),this.id=Lt.id||"",this.startAngle=(0,Ft.getFloat)({data:Lt.startAngle,defaultValue:0,validate:yn=>!0}),this.sweepAngle=(0,Ft.getFloat)({data:Lt.sweepAngle,defaultValue:360,validate:yn=>!0}),this.use=Lt.use||"",this.usehref=Lt.usehref||"",this.edge=null,this.fill=null}[wt.$toHTML](){var gr;const Lt=this.edge||new nr({}),yn=Lt[wt.$toStyle](),qn=Object.create(null);((gr=this.fill)==null?void 0:gr.presence)==="visible"?Object.assign(qn,this.fill[wt.$toStyle]()):qn.fill="transparent",qn.strokeWidth=(0,_e.measureToString)(Lt.presence==="visible"?Lt.thickness:0),qn.stroke=yn.color;let _i;const Kn={xmlns:jt,style:{width:"100%",height:"100%",overflow:"visible"}};if(this.sweepAngle===360)_i={name:"ellipse",attributes:{xmlns:jt,cx:"50%",cy:"50%",rx:"50%",ry:"50%",style:qn}};else{const mr=this.startAngle*Math.PI/180,br=this.sweepAngle*Math.PI/180,Ir=this.sweepAngle>180?1:0,[Cr,kr,ts,Mr]=[50*(1+Math.cos(mr)),50*(1-Math.sin(mr)),50*(1+Math.cos(mr+br)),50*(1-Math.sin(mr+br))];_i={name:"path",attributes:{xmlns:jt,d:`M ${Cr} ${kr} A 50 50 0 ${Ir} 0 ${ts} ${Mr}`,vectorEffect:"non-scaling-stroke",style:qn}},Object.assign(Kn,{viewBox:"0 0 100 100",preserveAspectRatio:"none"})}const ir={name:"svg",children:[_i],attributes:Kn},ar=this[wt.$getParent]()[wt.$getParent]();return gn(ar)?Ft.HTMLResult.success({name:"div",attributes:{style:{display:"inline",width:"100%",height:"100%"}},children:[ir]}):(ir.attributes.style.position="absolute",Ft.HTMLResult.success(ir))}}class on extends bt.XFAObject{constructor(Lt){super(Dt,"area",!0),this.colSpan=(0,Ft.getInteger)({data:Lt.colSpan,defaultValue:1,validate:yn=>yn>=1||yn===-1}),this.id=Lt.id||"",this.name=Lt.name||"",this.relevant=(0,Ft.getRelevant)(Lt.relevant),this.use=Lt.use||"",this.usehref=Lt.usehref||"",this.x=(0,Ft.getMeasurement)(Lt.x,"0pt"),this.y=(0,Ft.getMeasurement)(Lt.y,"0pt"),this.desc=null,this.extras=null,this.area=new bt.XFAObjectArray,this.draw=new bt.XFAObjectArray,this.exObject=new bt.XFAObjectArray,this.exclGroup=new bt.XFAObjectArray,this.field=new bt.XFAObjectArray,this.subform=new bt.XFAObjectArray,this.subformSet=new bt.XFAObjectArray}*[wt.$getContainedChildren](){yield*bn(this)}[wt.$isTransparent](){return!0}[wt.$isBindable](){return!0}[wt.$addHTML](Lt,yn){const[qn,_i,Kn,ir]=yn;this[wt.$extra].width=Math.max(this[wt.$extra].width,qn+Kn),this[wt.$extra].height=Math.max(this[wt.$extra].height,_i+ir),this[wt.$extra].children.push(Lt)}[wt.$getAvailableSpace](){return this[wt.$extra].availableSpace}[wt.$toHTML](Lt){const yn=(0,_e.toStyle)(this,"position"),qn={style:yn,id:this[wt.$uid],class:["xfaArea"]};(0,_e.isPrintOnly)(this)&&qn.class.push("xfaPrintOnly"),this.name&&(qn.xfaName=this.name);const _i=[];this[wt.$extra]={children:_i,width:0,height:0,availableSpace:Lt};const Kn=this[wt.$childrenToHTML]({filter:new Set(["area","draw","field","exclGroup","subform","subformSet"]),include:!0});if(!Kn.success)return Kn.isBreak()?Kn:(delete this[wt.$extra],Ft.HTMLResult.FAILURE);yn.width=(0,_e.measureToString)(this[wt.$extra].width),yn.height=(0,_e.measureToString)(this[wt.$extra].height);const ir={name:"div",attributes:qn,children:_i},ar=[this.x,this.y,this[wt.$extra].width,this[wt.$extra].height];return delete this[wt.$extra],Ft.HTMLResult.success(ir,ar)}}class cn extends bt.XFAObject{constructor(Lt){super(Dt,"assist",!0),this.id=Lt.id||"",this.role=Lt.role||"",this.use=Lt.use||"",this.usehref=Lt.usehref||"",this.speak=null,this.toolTip=null}[wt.$toHTML](){var Lt;return((Lt=this.toolTip)==null?void 0:Lt[wt.$content])||null}}class sn extends bt.XFAObject{constructor(Lt){super(Dt,"barcode",!0),this.charEncoding=(0,Ft.getKeyword)({data:Lt.charEncoding?Lt.charEncoding.toLowerCase():"",defaultValue:"",validate:yn=>["utf-8","big-five","fontspecific","gbk","gb-18030","gb-2312","ksc-5601","none","shift-jis","ucs-2","utf-16"].includes(yn)||yn.match(/iso-8859-\d{2}/)}),this.checksum=(0,Ft.getStringOption)(Lt.checksum,["none","1mod10","1mod10_1mod11","2mod10","auto"]),this.dataColumnCount=(0,Ft.getInteger)({data:Lt.dataColumnCount,defaultValue:-1,validate:yn=>yn>=0}),this.dataLength=(0,Ft.getInteger)({data:Lt.dataLength,defaultValue:-1,validate:yn=>yn>=0}),this.dataPrep=(0,Ft.getStringOption)(Lt.dataPrep,["none","flateCompress"]),this.dataRowCount=(0,Ft.getInteger)({data:Lt.dataRowCount,defaultValue:-1,validate:yn=>yn>=0}),this.endChar=Lt.endChar||"",this.errorCorrectionLevel=(0,Ft.getInteger)({data:Lt.errorCorrectionLevel,defaultValue:-1,validate:yn=>yn>=0&&yn<=8}),this.id=Lt.id||"",this.moduleHeight=(0,Ft.getMeasurement)(Lt.moduleHeight,"5mm"),this.moduleWidth=(0,Ft.getMeasurement)(Lt.moduleWidth,"0.25mm"),this.printCheckDigit=(0,Ft.getInteger)({data:Lt.printCheckDigit,defaultValue:0,validate:yn=>yn===1}),this.rowColumnRatio=(0,Ft.getRatio)(Lt.rowColumnRatio),this.startChar=Lt.startChar||"",this.textLocation=(0,Ft.getStringOption)(Lt.textLocation,["below","above","aboveEmbedded","belowEmbedded","none"]),this.truncate=(0,Ft.getInteger)({data:Lt.truncate,defaultValue:0,validate:yn=>yn===1}),this.type=(0,Ft.getStringOption)(Lt.type?Lt.type.toLowerCase():"",["aztec","codabar","code2of5industrial","code2of5interleaved","code2of5matrix","code2of5standard","code3of9","code3of9extended","code11","code49","code93","code128","code128a","code128b","code128c","code128sscc","datamatrix","ean8","ean8add2","ean8add5","ean13","ean13add2","ean13add5","ean13pwcd","fim","logmars","maxicode","msi","pdf417","pdf417macro","plessey","postauscust2","postauscust3","postausreplypaid","postausstandard","postukrm4scc","postusdpbc","postusimb","postusstandard","postus5zip","qrcode","rfid","rss14","rss14expanded","rss14limited","rss14stacked","rss14stackedomni","rss14truncated","telepen","ucc128","ucc128random","ucc128sscc","upca","upcaadd2","upcaadd5","upcapwcd","upce","upceadd2","upceadd5","upcean2","upcean5","upsmaxicode"]),this.upsMode=(0,Ft.getStringOption)(Lt.upsMode,["usCarrier","internationalCarrier","secureSymbol","standardSymbol"]),this.use=Lt.use||"",this.usehref=Lt.usehref||"",this.wideNarrowRatio=(0,Ft.getRatio)(Lt.wideNarrowRatio),this.encrypt=null,this.extras=null}}class rn extends bt.XFAObject{constructor(Lt){super(Dt,"bind",!0),this.match=(0,Ft.getStringOption)(Lt.match,["once","dataRef","global","none"]),this.ref=Lt.ref||"",this.picture=null}}class xn extends bt.XFAObject{constructor(Lt){super(Dt,"bindItems"),this.connection=Lt.connection||"",this.labelRef=Lt.labelRef||"",this.ref=Lt.ref||"",this.valueRef=Lt.valueRef||""}}Et.BindItems=xn;class vn extends bt.XFAObject{constructor(Lt){super(Dt,"bookend"),this.id=Lt.id||"",this.leader=Lt.leader||"",this.trailer=Lt.trailer||"",this.use=Lt.use||"",this.usehref=Lt.usehref||""}}class En extends bt.Option01{constructor(Lt){super(Dt,"boolean"),this.id=Lt.id||"",this.name=Lt.name||"",this.use=Lt.use||"",this.usehref=Lt.usehref||""}[wt.$toHTML](Lt){return Ot(this[wt.$content]===1?"1":"0")}}class Fn extends bt.XFAObject{constructor(Lt){super(Dt,"border",!0),this.break=(0,Ft.getStringOption)(Lt.break,["close","open"]),this.hand=(0,Ft.getStringOption)(Lt.hand,["even","left","right"]),this.id=Lt.id||"",this.presence=(0,Ft.getStringOption)(Lt.presence,["visible","hidden","inactive","invisible"]),this.relevant=(0,Ft.getRelevant)(Lt.relevant),this.use=Lt.use||"",this.usehref=Lt.usehref||"",this.corner=new bt.XFAObjectArray(4),this.edge=new bt.XFAObjectArray(4),this.extras=null,this.fill=null,this.margin=null}[wt.$getExtra](){if(!this[wt.$extra]){const Lt=this.edge.children.slice();if(Lt.length<4){const _i=Lt.at(-1)||new nr({});for(let Kn=Lt.length;Kn<4;Kn++)Lt.push(_i)}const yn=Lt.map(_i=>_i.thickness),qn=[0,0,0,0];this.margin&&(qn[0]=this.margin.topInset,qn[1]=this.margin.rightInset,qn[2]=this.margin.bottomInset,qn[3]=this.margin.leftInset),this[wt.$extra]={widths:yn,insets:qn,edges:Lt}}return this[wt.$extra]}[wt.$toStyle](){var _i;const{edges:Lt}=this[wt.$getExtra](),yn=Lt.map(Kn=>{const ir=Kn[wt.$toStyle]();return ir.color||(ir.color="#000000"),ir}),qn=Object.create(null);if(this.margin&&Object.assign(qn,this.margin[wt.$toStyle]()),((_i=this.fill)==null?void 0:_i.presence)==="visible"&&Object.assign(qn,this.fill[wt.$toStyle]()),this.corner.children.some(Kn=>Kn.radius!==0)){const Kn=this.corner.children.map(ir=>ir[wt.$toStyle]());if(Kn.length===2||Kn.length===3){const ir=Kn.at(-1);for(let ar=Kn.length;ar<4;ar++)Kn.push(ir)}qn.borderRadius=Kn.map(ir=>ir.radius).join(" ")}switch(this.presence){case"invisible":case"hidden":qn.borderStyle="";break;case"inactive":qn.borderStyle="none";break;default:qn.borderStyle=yn.map(Kn=>Kn.style).join(" ");break}return qn.borderWidth=yn.map(Kn=>Kn.width).join(" "),qn.borderColor=yn.map(Kn=>Kn.color).join(" "),qn}}class Mn extends bt.XFAObject{constructor(Lt){super(Dt,"break",!0),this.after=(0,Ft.getStringOption)(Lt.after,["auto","contentArea","pageArea","pageEven","pageOdd"]),this.afterTarget=Lt.afterTarget||"",this.before=(0,Ft.getStringOption)(Lt.before,["auto","contentArea","pageArea","pageEven","pageOdd"]),this.beforeTarget=Lt.beforeTarget||"",this.bookendLeader=Lt.bookendLeader||"",this.bookendTrailer=Lt.bookendTrailer||"",this.id=Lt.id||"",this.overflowLeader=Lt.overflowLeader||"",this.overflowTarget=Lt.overflowTarget||"",this.overflowTrailer=Lt.overflowTrailer||"",this.startNew=(0,Ft.getInteger)({data:Lt.startNew,defaultValue:0,validate:yn=>yn===1}),this.use=Lt.use||"",this.usehref=Lt.usehref||"",this.extras=null}}class Tn extends bt.XFAObject{constructor(Lt){super(Dt,"breakAfter",!0),this.id=Lt.id||"",this.leader=Lt.leader||"",this.startNew=(0,Ft.getInteger)({data:Lt.startNew,defaultValue:0,validate:yn=>yn===1}),this.target=Lt.target||"",this.targetType=(0,Ft.getStringOption)(Lt.targetType,["auto","contentArea","pageArea"]),this.trailer=Lt.trailer||"",this.use=Lt.use||"",this.usehref=Lt.usehref||"",this.script=null}}class Sn extends bt.XFAObject{constructor(Lt){super(Dt,"breakBefore",!0),this.id=Lt.id||"",this.leader=Lt.leader||"",this.startNew=(0,Ft.getInteger)({data:Lt.startNew,defaultValue:0,validate:yn=>yn===1}),this.target=Lt.target||"",this.targetType=(0,Ft.getStringOption)(Lt.targetType,["auto","contentArea","pageArea"]),this.trailer=Lt.trailer||"",this.use=Lt.use||"",this.usehref=Lt.usehref||"",this.script=null}[wt.$toHTML](Lt){return this[wt.$extra]={},Ft.HTMLResult.FAILURE}}class mn extends bt.XFAObject{constructor(Lt){super(Dt,"button",!0),this.highlight=(0,Ft.getStringOption)(Lt.highlight,["inverted","none","outline","push"]),this.id=Lt.id||"",this.use=Lt.use||"",this.usehref=Lt.usehref||"",this.extras=null}[wt.$toHTML](Lt){const qn=this[wt.$getParent]()[wt.$getParent](),_i={name:"button",attributes:{id:this[wt.$uid],class:["xfaButton"],style:{}},children:[]};for(const Kn of qn.event.children){if(Kn.activity!=="click"||!Kn.script)continue;const ir=(0,Nt.recoverJsURL)(Kn.script[wt.$content]);if(!ir)continue;const ar=(0,_e.fixURL)(ir.url);ar&&_i.children.push({name:"a",attributes:{id:"link"+this[wt.$uid],href:ar,newWindow:ir.newWindow,class:["xfaLink"],style:{}},children:[]})}return Ft.HTMLResult.success(_i)}}class fn extends bt.XFAObject{constructor(Lt){super(Dt,"calculate",!0),this.id=Lt.id||"",this.override=(0,Ft.getStringOption)(Lt.override,["disabled","error","ignore","warning"]),this.use=Lt.use||"",this.usehref=Lt.usehref||"",this.extras=null,this.message=null,this.script=null}}class Jt extends bt.XFAObject{constructor(Lt){super(Dt,"caption",!0),this.id=Lt.id||"",this.placement=(0,Ft.getStringOption)(Lt.placement,["left","bottom","inline","right","top"]),this.presence=(0,Ft.getStringOption)(Lt.presence,["visible","hidden","inactive","invisible"]),this.reserve=Math.ceil((0,Ft.getMeasurement)(Lt.reserve)),this.use=Lt.use||"",this.usehref=Lt.usehref||"",this.extras=null,this.font=null,this.margin=null,this.para=null,this.value=null}[wt.$setValue](Lt){nn(this,Lt)}[wt.$getExtra](Lt){if(!this[wt.$extra]){let{width:yn,height:qn}=Lt;switch(this.placement){case"left":case"right":case"inline":yn=this.reserve<=0?yn:this.reserve;break;case"top":case"bottom":qn=this.reserve<=0?qn:this.reserve;break}this[wt.$extra]=(0,_e.layoutNode)(this,{width:yn,height:qn})}return this[wt.$extra]}[wt.$toHTML](Lt){if(!this.value)return Ft.HTMLResult.EMPTY;this[wt.$pushPara]();const yn=this.value[wt.$toHTML](Lt).html;if(!yn)return this[wt.$popPara](),Ft.HTMLResult.EMPTY;const qn=this.reserve;if(this.reserve<=0){const{w:ir,h:ar}=this[wt.$getExtra](Lt);switch(this.placement){case"left":case"right":case"inline":this.reserve=ir;break;case"top":case"bottom":this.reserve=ar;break}}const _i=[];typeof yn=="string"?_i.push({name:"#text",value:yn}):_i.push(yn);const Kn=(0,_e.toStyle)(this,"font","margin","visibility");switch(this.placement){case"left":case"right":this.reserve>0&&(Kn.width=(0,_e.measureToString)(this.reserve));break;case"top":case"bottom":this.reserve>0&&(Kn.height=(0,_e.measureToString)(this.reserve));break}return(0,_e.setPara)(this,null,yn),this[wt.$popPara](),this.reserve=qn,Ft.HTMLResult.success({name:"div",attributes:{style:Kn,class:["xfaCaption"]},children:_i})}}class un extends bt.StringObject{constructor(Lt){super(Dt,"certificate"),this.id=Lt.id||"",this.name=Lt.name||"",this.use=Lt.use||"",this.usehref=Lt.usehref||""}}class pn extends bt.XFAObject{constructor(Lt){super(Dt,"certificates",!0),this.credentialServerPolicy=(0,Ft.getStringOption)(Lt.credentialServerPolicy,["optional","required"]),this.id=Lt.id||"",this.url=Lt.url||"",this.urlPolicy=Lt.urlPolicy||"",this.use=Lt.use||"",this.usehref=Lt.usehref||"",this.encryption=null,this.issuers=null,this.keyUsage=null,this.oids=null,this.signing=null,this.subjectDNs=null}}class wn extends bt.XFAObject{constructor(Lt){super(Dt,"checkButton",!0),this.id=Lt.id||"",this.mark=(0,Ft.getStringOption)(Lt.mark,["default","check","circle","cross","diamond","square","star"]),this.shape=(0,Ft.getStringOption)(Lt.shape,["square","round"]),this.size=(0,Ft.getMeasurement)(Lt.size,"10pt"),this.use=Lt.use||"",this.usehref=Lt.usehref||"",this.border=null,this.extras=null,this.margin=null}[wt.$toHTML](Lt){var Gr,Xr,Hr;const yn=(0,_e.toStyle)("margin"),qn=(0,_e.measureToString)(this.size);yn.width=yn.height=qn;let _i,Kn,ir;const ar=this[wt.$getParent]()[wt.$getParent](),gr=ar.items.children.length&&ar.items.children[0][wt.$toHTML]().html||[],mr={on:(gr[0]!==void 0?gr[0]:"on").toString(),off:(gr[1]!==void 0?gr[1]:"off").toString()},Ir=(((Gr=ar.value)==null?void 0:Gr[wt.$text]())||"off")===mr.on||void 0,Cr=ar[wt.$getSubformParent](),kr=ar[wt.$uid];let ts;Cr instanceof Zn?(ir=Cr[wt.$uid],_i="radio",Kn="xfaRadio",ts=((Xr=Cr[wt.$data])==null?void 0:Xr[wt.$uid])||Cr[wt.$uid]):(_i="checkbox",Kn="xfaCheckbox",ts=((Hr=ar[wt.$data])==null?void 0:Hr[wt.$uid])||ar[wt.$uid]);const Mr={name:"input",attributes:{class:[Kn],style:yn,fieldId:kr,dataId:ts,type:_i,checked:Ir,xfaOn:mr.on,xfaOff:mr.off,"aria-label":Ut(ar),"aria-required":!1}};return ir&&(Mr.attributes.name=ir),Vt(ar)&&(Mr.attributes["aria-required"]=!0,Mr.attributes.required=!0),Ft.HTMLResult.success({name:"label",attributes:{class:["xfaLabel"]},children:[Mr]})}}class kn extends bt.XFAObject{constructor(Lt){super(Dt,"choiceList",!0),this.commitOn=(0,Ft.getStringOption)(Lt.commitOn,["select","exit"]),this.id=Lt.id||"",this.open=(0,Ft.getStringOption)(Lt.open,["userControl","always","multiSelect","onEntry"]),this.textEntry=(0,Ft.getInteger)({data:Lt.textEntry,defaultValue:0,validate:yn=>yn===1}),this.use=Lt.use||"",this.usehref=Lt.usehref||"",this.border=null,this.extras=null,this.margin=null}[wt.$toHTML](Lt){var mr,br,Ir;const yn=(0,_e.toStyle)(this,"border","margin"),_i=this[wt.$getParent]()[wt.$getParent](),ir={fontSize:`calc(${((mr=_i.font)==null?void 0:mr.size)||10}px * var(--scale-factor))`},ar=[];if(_i.items.children.length>0){const Cr=_i.items;let kr=0,ts=0;Cr.children.length===2&&(kr=Cr.children[0].save,ts=1-kr);const Mr=Cr.children[kr][wt.$toHTML]().html,Gr=Cr.children[ts][wt.$toHTML]().html;let Xr=!1;const Hr=((br=_i.value)==null?void 0:br[wt.$text]())||"";for(let Qr=0,Br=Mr.length;Qr<Br;Qr++){const Nr={name:"option",attributes:{value:Gr[Qr]||Mr[Qr],style:ir},value:Mr[Qr]};Gr[Qr]===Hr&&(Nr.attributes.selected=Xr=!0),ar.push(Nr)}Xr||ar.splice(0,0,{name:"option",attributes:{hidden:!0,selected:!0},value:" "})}const gr={class:["xfaSelect"],fieldId:_i[wt.$uid],dataId:((Ir=_i[wt.$data])==null?void 0:Ir[wt.$uid])||_i[wt.$uid],style:yn,"aria-label":Ut(_i),"aria-required":!1};return Vt(_i)&&(gr["aria-required"]=!0,gr.required=!0),this.open==="multiSelect"&&(gr.multiple=!0),Ft.HTMLResult.success({name:"label",attributes:{class:["xfaLabel"]},children:[{name:"select",children:ar,attributes:gr}]})}}class Rn extends bt.XFAObject{constructor(Lt){super(Dt,"color",!0),this.cSpace=(0,Ft.getStringOption)(Lt.cSpace,["SRGB"]),this.id=Lt.id||"",this.use=Lt.use||"",this.usehref=Lt.usehref||"",this.value=Lt.value?(0,Ft.getColor)(Lt.value):"",this.extras=null}[wt.$hasSettableValue](){return!1}[wt.$toStyle](){return this.value?Xt.Util.makeHexColor(this.value.r,this.value.g,this.value.b):null}}class Cn extends bt.XFAObject{constructor(Lt){super(Dt,"comb"),this.id=Lt.id||"",this.numberOfCells=(0,Ft.getInteger)({data:Lt.numberOfCells,defaultValue:0,validate:yn=>yn>=0}),this.use=Lt.use||"",this.usehref=Lt.usehref||""}}class An extends bt.XFAObject{constructor(Lt){super(Dt,"connect",!0),this.connection=Lt.connection||"",this.id=Lt.id||"",this.ref=Lt.ref||"",this.usage=(0,Ft.getStringOption)(Lt.usage,["exportAndImport","exportOnly","importOnly"]),this.use=Lt.use||"",this.usehref=Lt.usehref||"",this.picture=null}}class _n extends bt.XFAObject{constructor(Lt){super(Dt,"contentArea",!0),this.h=(0,Ft.getMeasurement)(Lt.h),this.id=Lt.id||"",this.name=Lt.name||"",this.relevant=(0,Ft.getRelevant)(Lt.relevant),this.use=Lt.use||"",this.usehref=Lt.usehref||"",this.w=(0,Ft.getMeasurement)(Lt.w),this.x=(0,Ft.getMeasurement)(Lt.x,"0pt"),this.y=(0,Ft.getMeasurement)(Lt.y,"0pt"),this.desc=null,this.extras=null}[wt.$toHTML](Lt){const yn=(0,_e.measureToString)(this.x),qn=(0,_e.measureToString)(this.y),_i={left:yn,top:qn,width:(0,_e.measureToString)(this.w),height:(0,_e.measureToString)(this.h)},Kn=["xfaContentarea"];return(0,_e.isPrintOnly)(this)&&Kn.push("xfaPrintOnly"),Ft.HTMLResult.success({name:"div",children:[],attributes:{style:_i,class:Kn,id:this[wt.$uid]}})}}class In extends bt.XFAObject{constructor(Lt){super(Dt,"corner",!0),this.id=Lt.id||"",this.inverted=(0,Ft.getInteger)({data:Lt.inverted,defaultValue:0,validate:yn=>yn===1}),this.join=(0,Ft.getStringOption)(Lt.join,["square","round"]),this.presence=(0,Ft.getStringOption)(Lt.presence,["visible","hidden","inactive","invisible"]),this.radius=(0,Ft.getMeasurement)(Lt.radius),this.stroke=(0,Ft.getStringOption)(Lt.stroke,["solid","dashDot","dashDotDot","dashed","dotted","embossed","etched","lowered","raised"]),this.thickness=(0,Ft.getMeasurement)(Lt.thickness,"0.5pt"),this.use=Lt.use||"",this.usehref=Lt.usehref||"",this.color=null,this.extras=null}[wt.$toStyle](){const Lt=(0,_e.toStyle)(this,"visibility");return Lt.radius=(0,_e.measureToString)(this.join==="square"?0:this.radius),Lt}}class Pn extends bt.ContentObject{constructor(Lt){super(Dt,"date"),this.id=Lt.id||"",this.name=Lt.name||"",this.use=Lt.use||"",this.usehref=Lt.usehref||""}[wt.$finalize](){const Lt=this[wt.$content].trim();this[wt.$content]=Lt?new Date(Lt):null}[wt.$toHTML](Lt){return Ot(this[wt.$content]?this[wt.$content].toString():"")}}class Dn extends bt.ContentObject{constructor(Lt){super(Dt,"dateTime"),this.id=Lt.id||"",this.name=Lt.name||"",this.use=Lt.use||"",this.usehref=Lt.usehref||""}[wt.$finalize](){const Lt=this[wt.$content].trim();this[wt.$content]=Lt?new Date(Lt):null}[wt.$toHTML](Lt){return Ot(this[wt.$content]?this[wt.$content].toString():"")}}class Ln extends bt.XFAObject{constructor(Lt){super(Dt,"dateTimeEdit",!0),this.hScrollPolicy=(0,Ft.getStringOption)(Lt.hScrollPolicy,["auto","off","on"]),this.id=Lt.id||"",this.picker=(0,Ft.getStringOption)(Lt.picker,["host","none"]),this.use=Lt.use||"",this.usehref=Lt.usehref||"",this.border=null,this.comb=null,this.extras=null,this.margin=null}[wt.$toHTML](Lt){var Kn;const yn=(0,_e.toStyle)(this,"border","font","margin"),qn=this[wt.$getParent]()[wt.$getParent](),_i={name:"input",attributes:{type:"text",fieldId:qn[wt.$uid],dataId:((Kn=qn[wt.$data])==null?void 0:Kn[wt.$uid])||qn[wt.$uid],class:["xfaTextfield"],style:yn,"aria-label":Ut(qn),"aria-required":!1}};return Vt(qn)&&(_i.attributes["aria-required"]=!0,_i.attributes.required=!0),Ft.HTMLResult.success({name:"label",attributes:{class:["xfaLabel"]},children:[_i]})}}class Un extends bt.ContentObject{constructor(Lt){super(Dt,"decimal"),this.fracDigits=(0,Ft.getInteger)({data:Lt.fracDigits,defaultValue:2,validate:yn=>!0}),this.id=Lt.id||"",this.leadDigits=(0,Ft.getInteger)({data:Lt.leadDigits,defaultValue:-1,validate:yn=>!0}),this.name=Lt.name||"",this.use=Lt.use||"",this.usehref=Lt.usehref||""}[wt.$finalize](){const Lt=parseFloat(this[wt.$content].trim());this[wt.$content]=isNaN(Lt)?null:Lt}[wt.$toHTML](Lt){return Ot(this[wt.$content]!==null?this[wt.$content].toString():"")}}class tr extends bt.XFAObject{constructor(Lt){super(Dt,"defaultUi",!0),this.id=Lt.id||"",this.use=Lt.use||"",this.usehref=Lt.usehref||"",this.extras=null}}class er extends bt.XFAObject{constructor(Lt){super(Dt,"desc",!0),this.id=Lt.id||"",this.use=Lt.use||"",this.usehref=Lt.usehref||"",this.boolean=new bt.XFAObjectArray,this.date=new bt.XFAObjectArray,this.dateTime=new bt.XFAObjectArray,this.decimal=new bt.XFAObjectArray,this.exData=new bt.XFAObjectArray,this.float=new bt.XFAObjectArray,this.image=new bt.XFAObjectArray,this.integer=new bt.XFAObjectArray,this.text=new bt.XFAObjectArray,this.time=new bt.XFAObjectArray}}class Qn extends bt.OptionObject{constructor(Lt){super(Dt,"digestMethod",["","SHA1","SHA256","SHA512","RIPEMD160"]),this.id=Lt.id||"",this.use=Lt.use||"",this.usehref=Lt.usehref||""}}class Yn extends bt.XFAObject{constructor(Lt){super(Dt,"digestMethods",!0),this.id=Lt.id||"",this.type=(0,Ft.getStringOption)(Lt.type,["optional","required"]),this.use=Lt.use||"",this.usehref=Lt.usehref||"",this.digestMethod=new bt.XFAObjectArray}}class Xn extends bt.XFAObject{constructor(Lt){super(Dt,"draw",!0),this.anchorType=(0,Ft.getStringOption)(Lt.anchorType,["topLeft","bottomCenter","bottomLeft","bottomRight","middleCenter","middleLeft","middleRight","topCenter","topRight"]),this.colSpan=(0,Ft.getInteger)({data:Lt.colSpan,defaultValue:1,validate:yn=>yn>=1||yn===-1}),this.h=Lt.h?(0,Ft.getMeasurement)(Lt.h):"",this.hAlign=(0,Ft.getStringOption)(Lt.hAlign,["left","center","justify","justifyAll","radix","right"]),this.id=Lt.id||"",this.locale=Lt.locale||"",this.maxH=(0,Ft.getMeasurement)(Lt.maxH,"0pt"),this.maxW=(0,Ft.getMeasurement)(Lt.maxW,"0pt"),this.minH=(0,Ft.getMeasurement)(Lt.minH,"0pt"),this.minW=(0,Ft.getMeasurement)(Lt.minW,"0pt"),this.name=Lt.name||"",this.presence=(0,Ft.getStringOption)(Lt.presence,["visible","hidden","inactive","invisible"]),this.relevant=(0,Ft.getRelevant)(Lt.relevant),this.rotate=(0,Ft.getInteger)({data:Lt.rotate,defaultValue:0,validate:yn=>yn%90===0}),this.use=Lt.use||"",this.usehref=Lt.usehref||"",this.w=Lt.w?(0,Ft.getMeasurement)(Lt.w):"",this.x=(0,Ft.getMeasurement)(Lt.x,"0pt"),this.y=(0,Ft.getMeasurement)(Lt.y,"0pt"),this.assist=null,this.border=null,this.caption=null,this.desc=null,this.extras=null,this.font=null,this.keep=null,this.margin=null,this.para=null,this.traversal=null,this.ui=null,this.value=null,this.setProperty=new bt.XFAObjectArray}[wt.$setValue](Lt){nn(this,Lt)}[wt.$toHTML](Lt){if(Yt(this),this.presence==="hidden"||this.presence==="inactive")return Ft.HTMLResult.EMPTY;(0,_e.fixDimensions)(this),this[wt.$pushPara]();const yn=this.w,qn=this.h,{w:_i,h:Kn,isBroken:ir}=(0,_e.layoutNode)(this,Lt);if(_i&&this.w===""){if(ir&&this[wt.$getSubformParent]()[wt.$isThereMoreWidth]())return this[wt.$popPara](),Ft.HTMLResult.FAILURE;this.w=_i}if(Kn&&this.h===""&&(this.h=Kn),zt(this),!(0,Pt.checkDimensions)(this,Lt))return this.w=yn,this.h=qn,this[wt.$popPara](),Ft.HTMLResult.FAILURE;an(this);const ar=(0,_e.toStyle)(this,"font","hAlign","dimensions","position","presence","rotate","anchorType","border","margin");(0,_e.setMinMaxDimensions)(this,ar),ar.margin&&(ar.padding=ar.margin,delete ar.margin);const gr=["xfaDraw"];this.font&&gr.push("xfaFont"),(0,_e.isPrintOnly)(this)&&gr.push("xfaPrintOnly");const mr={style:ar,id:this[wt.$uid],class:gr};this.name&&(mr.xfaName=this.name);const br={name:"div",attributes:mr,children:[]};hn(this,mr);const Ir=(0,_e.computeBbox)(this,br,Lt),Cr=this.value?this.value[wt.$toHTML](Lt).html:null;return Cr===null?(this.w=yn,this.h=qn,this[wt.$popPara](),Ft.HTMLResult.success((0,_e.createWrapper)(this,br),Ir)):(br.children.push(Cr),(0,_e.setPara)(this,ar,Cr),this.w=yn,this.h=qn,this[wt.$popPara](),Ft.HTMLResult.success((0,_e.createWrapper)(this,br),Ir))}}class nr extends bt.XFAObject{constructor(Lt){super(Dt,"edge",!0),this.cap=(0,Ft.getStringOption)(Lt.cap,["square","butt","round"]),this.id=Lt.id||"",this.presence=(0,Ft.getStringOption)(Lt.presence,["visible","hidden","inactive","invisible"]),this.stroke=(0,Ft.getStringOption)(Lt.stroke,["solid","dashDot","dashDotDot","dashed","dotted","embossed","etched","lowered","raised"]),this.thickness=(0,Ft.getMeasurement)(Lt.thickness,"0.5pt"),this.use=Lt.use||"",this.usehref=Lt.usehref||"",this.color=null,this.extras=null}[wt.$toStyle](){const Lt=(0,_e.toStyle)(this,"visibility");if(Object.assign(Lt,{linecap:this.cap,width:(0,_e.measureToString)(this.thickness),color:this.color?this.color[wt.$toStyle]():"#000000",style:""}),this.presence!=="visible")Lt.style="none";else switch(this.stroke){case"solid":Lt.style="solid";break;case"dashDot":Lt.style="dashed";break;case"dashDotDot":Lt.style="dashed";break;case"dashed":Lt.style="dashed";break;case"dotted":Lt.style="dotted";break;case"embossed":Lt.style="ridge";break;case"etched":Lt.style="groove";break;case"lowered":Lt.style="inset";break;case"raised":Lt.style="outset";break}return Lt}}class lr extends bt.OptionObject{constructor(Lt){super(Dt,"encoding",["adbe.x509.rsa_sha1","adbe.pkcs7.detached","adbe.pkcs7.sha1"]),this.id=Lt.id||"",this.use=Lt.use||"",this.usehref=Lt.usehref||""}}class dr extends bt.XFAObject{constructor(Lt){super(Dt,"encodings",!0),this.id=Lt.id||"",this.type=(0,Ft.getStringOption)(Lt.type,["optional","required"]),this.use=Lt.use||"",this.usehref=Lt.usehref||"",this.encoding=new bt.XFAObjectArray}}class Bn extends bt.XFAObject{constructor(Lt){super(Dt,"encrypt",!0),this.id=Lt.id||"",this.use=Lt.use||"",this.usehref=Lt.usehref||"",this.certificate=null}}class Hn extends bt.XFAObject{constructor(Lt){super(Dt,"encryptData",!0),this.id=Lt.id||"",this.operation=(0,Ft.getStringOption)(Lt.operation,["encrypt","decrypt"]),this.target=Lt.target||"",this.use=Lt.use||"",this.usehref=Lt.usehref||"",this.filter=null,this.manifest=null}}class Wn extends bt.XFAObject{constructor(Lt){super(Dt,"encryption",!0),this.id=Lt.id||"",this.type=(0,Ft.getStringOption)(Lt.type,["optional","required"]),this.use=Lt.use||"",this.usehref=Lt.usehref||"",this.certificate=new bt.XFAObjectArray}}class cr extends bt.OptionObject{constructor(Lt){super(Dt,"encryptionMethod",["","AES256-CBC","TRIPLEDES-CBC","AES128-CBC","AES192-CBC"]),this.id=Lt.id||"",this.use=Lt.use||"",this.usehref=Lt.usehref||""}}class sr extends bt.XFAObject{constructor(Lt){super(Dt,"encryptionMethods",!0),this.id=Lt.id||"",this.type=(0,Ft.getStringOption)(Lt.type,["optional","required"]),this.use=Lt.use||"",this.usehref=Lt.usehref||"",this.encryptionMethod=new bt.XFAObjectArray}}class xr extends bt.XFAObject{constructor(Lt){super(Dt,"event",!0),this.activity=(0,Ft.getStringOption)(Lt.activity,["click","change","docClose","docReady","enter","exit","full","indexChange","initialize","mouseDown","mouseEnter","mouseExit","mouseUp","postExecute","postOpen","postPrint","postSave","postSign","postSubmit","preExecute","preOpen","prePrint","preSave","preSign","preSubmit","ready","validationState"]),this.id=Lt.id||"",this.listen=(0,Ft.getStringOption)(Lt.listen,["refOnly","refAndDescendents"]),this.name=Lt.name||"",this.ref=Lt.ref||"",this.use=Lt.use||"",this.usehref=Lt.usehref||"",this.extras=null,this.encryptData=null,this.execute=null,this.script=null,this.signData=null,this.submit=null}}class Jn extends bt.ContentObject{constructor(Lt){super(Dt,"exData"),this.contentType=Lt.contentType||"",this.href=Lt.href||"",this.id=Lt.id||"",this.maxLength=(0,Ft.getInteger)({data:Lt.maxLength,defaultValue:-1,validate:yn=>yn>=-1}),this.name=Lt.name||"",this.rid=Lt.rid||"",this.transferEncoding=(0,Ft.getStringOption)(Lt.transferEncoding,["none","base64","package"]),this.use=Lt.use||"",this.usehref=Lt.usehref||""}[wt.$isCDATAXml](){return this.contentType==="text/html"}[wt.$onChild](Lt){return this.contentType==="text/html"&&Lt[wt.$namespaceId]===_t.NamespaceIds.xhtml.id?(this[wt.$content]=Lt,!0):this.contentType==="text/xml"?(this[wt.$content]=Lt,!0):!1}[wt.$toHTML](Lt){return this.contentType!=="text/html"||!this[wt.$content]?Ft.HTMLResult.EMPTY:this[wt.$content][wt.$toHTML](Lt)}}class Vn extends bt.XFAObject{constructor(Lt){super(Dt,"exObject",!0),this.archive=Lt.archive||"",this.classId=Lt.classId||"",this.codeBase=Lt.codeBase||"",this.codeType=Lt.codeType||"",this.id=Lt.id||"",this.name=Lt.name||"",this.use=Lt.use||"",this.usehref=Lt.usehref||"",this.extras=null,this.boolean=new bt.XFAObjectArray,this.date=new bt.XFAObjectArray,this.dateTime=new bt.XFAObjectArray,this.decimal=new bt.XFAObjectArray,this.exData=new bt.XFAObjectArray,this.exObject=new bt.XFAObjectArray,this.float=new bt.XFAObjectArray,this.image=new bt.XFAObjectArray,this.integer=new bt.XFAObjectArray,this.text=new bt.XFAObjectArray,this.time=new bt.XFAObjectArray}}class Zn extends bt.XFAObject{constructor(Lt){super(Dt,"exclGroup",!0),this.access=(0,Ft.getStringOption)(Lt.access,["open","nonInteractive","protected","readOnly"]),this.accessKey=Lt.accessKey||"",this.anchorType=(0,Ft.getStringOption)(Lt.anchorType,["topLeft","bottomCenter","bottomLeft","bottomRight","middleCenter","middleLeft","middleRight","topCenter","topRight"]),this.colSpan=(0,Ft.getInteger)({data:Lt.colSpan,defaultValue:1,validate:yn=>yn>=1||yn===-1}),this.h=Lt.h?(0,Ft.getMeasurement)(Lt.h):"",this.hAlign=(0,Ft.getStringOption)(Lt.hAlign,["left","center","justify","justifyAll","radix","right"]),this.id=Lt.id||"",this.layout=(0,Ft.getStringOption)(Lt.layout,["position","lr-tb","rl-row","rl-tb","row","table","tb"]),this.maxH=(0,Ft.getMeasurement)(Lt.maxH,"0pt"),this.maxW=(0,Ft.getMeasurement)(Lt.maxW,"0pt"),this.minH=(0,Ft.getMeasurement)(Lt.minH,"0pt"),this.minW=(0,Ft.getMeasurement)(Lt.minW,"0pt"),this.name=Lt.name||"",this.presence=(0,Ft.getStringOption)(Lt.presence,["visible","hidden","inactive","invisible"]),this.relevant=(0,Ft.getRelevant)(Lt.relevant),this.use=Lt.use||"",this.usehref=Lt.usehref||"",this.w=Lt.w?(0,Ft.getMeasurement)(Lt.w):"",this.x=(0,Ft.getMeasurement)(Lt.x,"0pt"),this.y=(0,Ft.getMeasurement)(Lt.y,"0pt"),this.assist=null,this.bind=null,this.border=null,this.calculate=null,this.caption=null,this.desc=null,this.extras=null,this.margin=null,this.para=null,this.traversal=null,this.validate=null,this.connect=new bt.XFAObjectArray,this.event=new bt.XFAObjectArray,this.field=new bt.XFAObjectArray,this.setProperty=new bt.XFAObjectArray}[wt.$isBindable](){return!0}[wt.$hasSettableValue](){return!0}[wt.$setValue](Lt){for(const yn of this.field.children){if(!yn.value){const qn=new jn({});yn[wt.$appendChild](qn),yn.value=qn}yn.value[wt.$setValue](Lt)}}[wt.$isThereMoreWidth](){return this.layout.endsWith("-tb")&&this[wt.$extra].attempt===0&&this[wt.$extra].numberInLine>0||this[wt.$getParent]()[wt.$isThereMoreWidth]()}[wt.$isSplittable](){var yn;const Lt=this[wt.$getSubformParent]();return Lt[wt.$isSplittable]()?this[wt.$extra]._isSplittable!==void 0?this[wt.$extra]._isSplittable:this.layout==="position"||this.layout.includes("row")?(this[wt.$extra]._isSplittable=!1,!1):(yn=Lt.layout)!=null&&yn.endsWith("-tb")&&Lt[wt.$extra].numberInLine!==0?!1:(this[wt.$extra]._isSplittable=!0,!0):!1}[wt.$flushHTML](){return(0,Pt.flushHTML)(this)}[wt.$addHTML](Lt,yn){(0,Pt.addHTML)(this,Lt,yn)}[wt.$getAvailableSpace](){return(0,Pt.getAvailableSpace)(this)}[wt.$toHTML](Lt){if(Yt(this),this.presence==="hidden"||this.presence==="inactive"||this.h===0||this.w===0)return Ft.HTMLResult.EMPTY;(0,_e.fixDimensions)(this);const yn=[],qn={id:this[wt.$uid],class:[]};(0,_e.setAccess)(this,qn.class),this[wt.$extra]||(this[wt.$extra]=Object.create(null)),Object.assign(this[wt.$extra],{children:yn,attributes:qn,attempt:0,line:null,numberInLine:0,availableSpace:{width:Math.min(this.w||1/0,Lt.width),height:Math.min(this.h||1/0,Lt.height)},width:0,height:0,prevHeight:0,currentWidth:0});const _i=this[wt.$isSplittable]();if(_i||zt(this),!(0,Pt.checkDimensions)(this,Lt))return Ft.HTMLResult.FAILURE;const Kn=new Set(["field"]);if(this.layout.includes("row")){const Xr=this[wt.$getSubformParent]().columnWidths;Array.isArray(Xr)&&Xr.length>0&&(this[wt.$extra].columnWidths=Xr,this[wt.$extra].currentColumn=0)}const ir=(0,_e.toStyle)(this,"anchorType","dimensions","position","presence","border","margin","hAlign"),ar=["xfaExclgroup"],gr=(0,_e.layoutClass)(this);gr&&ar.push(gr),(0,_e.isPrintOnly)(this)&&ar.push("xfaPrintOnly"),qn.style=ir,qn.class=ar,this.name&&(qn.xfaName=this.name),this[wt.$pushPara]();const mr=this.layout==="lr-tb"||this.layout==="rl-tb",br=mr?Ct:1;for(;this[wt.$extra].attempt<br;this[wt.$extra].attempt++){mr&&this[wt.$extra].attempt===Ct-1&&(this[wt.$extra].numberInLine=0);const Xr=this[wt.$childrenToHTML]({filter:Kn,include:!0});if(Xr.success)break;if(Xr.isBreak())return this[wt.$popPara](),Xr;if(mr&&this[wt.$extra].attempt===0&&this[wt.$extra].numberInLine===0&&!this[wt.$getTemplateRoot]()[wt.$extra].noLayoutFailure){this[wt.$extra].attempt=br;break}}if(this[wt.$popPara](),_i||an(this),this[wt.$extra].attempt===br)return _i||delete this[wt.$extra],Ft.HTMLResult.FAILURE;let Ir=0,Cr=0;this.margin&&(Ir=this.margin.leftInset+this.margin.rightInset,Cr=this.margin.topInset+this.margin.bottomInset);const kr=Math.max(this[wt.$extra].width+Ir,this.w||0),ts=Math.max(this[wt.$extra].height+Cr,this.h||0),Mr=[this.x,this.y,kr,ts];this.w===""&&(ir.width=(0,_e.measureToString)(kr)),this.h===""&&(ir.height=(0,_e.measureToString)(ts));const Gr={name:"div",attributes:qn,children:yn};return hn(this,qn),delete this[wt.$extra],Ft.HTMLResult.success((0,_e.createWrapper)(this,Gr),Mr)}}class ur extends bt.XFAObject{constructor(Lt){super(Dt,"execute"),this.connection=Lt.connection||"",this.executeType=(0,Ft.getStringOption)(Lt.executeType,["import","remerge"]),this.id=Lt.id||"",this.runAt=(0,Ft.getStringOption)(Lt.runAt,["client","both","server"]),this.use=Lt.use||"",this.usehref=Lt.usehref||""}}class hr extends bt.XFAObject{constructor(Lt){super(Dt,"extras",!0),this.id=Lt.id||"",this.name=Lt.name||"",this.use=Lt.use||"",this.usehref=Lt.usehref||"",this.boolean=new bt.XFAObjectArray,this.date=new bt.XFAObjectArray,this.dateTime=new bt.XFAObjectArray,this.decimal=new bt.XFAObjectArray,this.exData=new bt.XFAObjectArray,this.extras=new bt.XFAObjectArray,this.float=new bt.XFAObjectArray,this.image=new bt.XFAObjectArray,this.integer=new bt.XFAObjectArray,this.text=new bt.XFAObjectArray,this.time=new bt.XFAObjectArray}}class or extends bt.XFAObject{constructor(Lt){super(Dt,"field",!0),this.access=(0,Ft.getStringOption)(Lt.access,["open","nonInteractive","protected","readOnly"]),this.accessKey=Lt.accessKey||"",this.anchorType=(0,Ft.getStringOption)(Lt.anchorType,["topLeft","bottomCenter","bottomLeft","bottomRight","middleCenter","middleLeft","middleRight","topCenter","topRight"]),this.colSpan=(0,Ft.getInteger)({data:Lt.colSpan,defaultValue:1,validate:yn=>yn>=1||yn===-1}),this.h=Lt.h?(0,Ft.getMeasurement)(Lt.h):"",this.hAlign=(0,Ft.getStringOption)(Lt.hAlign,["left","center","justify","justifyAll","radix","right"]),this.id=Lt.id||"",this.locale=Lt.locale||"",this.maxH=(0,Ft.getMeasurement)(Lt.maxH,"0pt"),this.maxW=(0,Ft.getMeasurement)(Lt.maxW,"0pt"),this.minH=(0,Ft.getMeasurement)(Lt.minH,"0pt"),this.minW=(0,Ft.getMeasurement)(Lt.minW,"0pt"),this.name=Lt.name||"",this.presence=(0,Ft.getStringOption)(Lt.presence,["visible","hidden","inactive","invisible"]),this.relevant=(0,Ft.getRelevant)(Lt.relevant),this.rotate=(0,Ft.getInteger)({data:Lt.rotate,defaultValue:0,validate:yn=>yn%90===0}),this.use=Lt.use||"",this.usehref=Lt.usehref||"",this.w=Lt.w?(0,Ft.getMeasurement)(Lt.w):"",this.x=(0,Ft.getMeasurement)(Lt.x,"0pt"),this.y=(0,Ft.getMeasurement)(Lt.y,"0pt"),this.assist=null,this.bind=null,this.border=null,this.calculate=null,this.caption=null,this.desc=null,this.extras=null,this.font=null,this.format=null,this.items=new bt.XFAObjectArray(2),this.keep=null,this.margin=null,this.para=null,this.traversal=null,this.ui=null,this.validate=null,this.value=null,this.bindItems=new bt.XFAObjectArray,this.connect=new bt.XFAObjectArray,this.event=new bt.XFAObjectArray,this.setProperty=new bt.XFAObjectArray}[wt.$isBindable](){return!0}[wt.$setValue](Lt){nn(this,Lt)}[wt.$toHTML](Lt){var Xr,Hr,Qr;if(Yt(this),!this.ui){this.ui=new Eu({}),this.ui[wt.$globalData]=this[wt.$globalData],this[wt.$appendChild](this.ui);let Br;switch(this.items.children.length){case 0:Br=new z0({}),this.ui.textEdit=Br;break;case 1:Br=new wn({}),this.ui.checkButton=Br;break;case 2:Br=new kn({}),this.ui.choiceList=Br;break}this.ui[wt.$appendChild](Br)}if(!this.ui||this.presence==="hidden"||this.presence==="inactive"||this.h===0||this.w===0)return Ft.HTMLResult.EMPTY;this.caption&&delete this.caption[wt.$extra],this[wt.$pushPara]();const yn=this.caption?this.caption[wt.$toHTML](Lt).html:null,qn=this.w,_i=this.h;let Kn=0,ir=0;this.margin&&(Kn=this.margin.leftInset+this.margin.rightInset,ir=this.margin.topInset+this.margin.bottomInset);let ar=null;if(this.w===""||this.h===""){let Br=null,Nr=null,Es=0,ks=0;if(this.ui.checkButton)Es=ks=this.ui.checkButton.size;else{const{w:Fs,h:Rs}=(0,_e.layoutNode)(this,Lt);Fs!==null?(Es=Fs,ks=Rs):ks=(0,Kt.getMetrics)(this.font,!0).lineNoGap}if(ar=Qt(this.ui[wt.$getExtra]()),Es+=ar.w,ks+=ar.h,this.caption){const{w:Fs,h:Rs,isBroken:Is}=this.caption[wt.$getExtra](Lt);if(Is&&this[wt.$getSubformParent]()[wt.$isThereMoreWidth]())return this[wt.$popPara](),Ft.HTMLResult.FAILURE;switch(Br=Fs,Nr=Rs,this.caption.placement){case"left":case"right":case"inline":Br+=Es;break;case"top":case"bottom":Nr+=ks;break}}else Br=Es,Nr=ks;Br&&this.w===""&&(Br+=Kn,this.w=Math.min(this.maxW<=0?1/0:this.maxW,this.minW+1<Br?Br:this.minW)),Nr&&this.h===""&&(Nr+=ir,this.h=Math.min(this.maxH<=0?1/0:this.maxH,this.minH+1<Nr?Nr:this.minH))}if(this[wt.$popPara](),(0,_e.fixDimensions)(this),zt(this),!(0,Pt.checkDimensions)(this,Lt))return this.w=qn,this.h=_i,this[wt.$popPara](),Ft.HTMLResult.FAILURE;an(this);const gr=(0,_e.toStyle)(this,"font","dimensions","position","rotate","anchorType","presence","margin","hAlign");(0,_e.setMinMaxDimensions)(this,gr);const mr=["xfaField"];this.font&&mr.push("xfaFont"),(0,_e.isPrintOnly)(this)&&mr.push("xfaPrintOnly");const br={style:gr,id:this[wt.$uid],class:mr};gr.margin&&(gr.padding=gr.margin,delete gr.margin),(0,_e.setAccess)(this,mr),this.name&&(br.xfaName=this.name);const Ir=[],Cr={name:"div",attributes:br,children:Ir};hn(this,br);const kr=this.border?this.border[wt.$toStyle]():null,ts=(0,_e.computeBbox)(this,Cr,Lt),Mr=this.ui[wt.$toHTML]().html;if(!Mr)return Object.assign(gr,kr),Ft.HTMLResult.success((0,_e.createWrapper)(this,Cr),ts);this[wt.$tabIndex]&&((Xr=Mr.children)!=null&&Xr[0]?Mr.children[0].attributes.tabindex=this[wt.$tabIndex]:Mr.attributes.tabindex=this[wt.$tabIndex]),Mr.attributes.style||(Mr.attributes.style=Object.create(null));let Gr=null;if(this.ui.button?(Mr.children.length===1&&([Gr]=Mr.children.splice(0,1)),Object.assign(Mr.attributes.style,kr)):Object.assign(gr,kr),Ir.push(Mr),this.value){if(this.ui.imageEdit)Mr.children.push(this.value[wt.$toHTML]().html);else if(!this.ui.button){let Br="";if(this.value.exData)Br=this.value.exData[wt.$text]();else if(this.value.text)Br=this.value.text[wt.$getExtra]();else{const Nr=this.value[wt.$toHTML]().html;Nr!==null&&(Br=Nr.children[0].value)}this.ui.textEdit&&((Hr=this.value.text)!=null&&Hr.maxChars)&&(Mr.children[0].attributes.maxLength=this.value.text.maxChars),Br&&(this.ui.numericEdit&&(Br=parseFloat(Br),Br=isNaN(Br)?"":Br.toString()),Mr.children[0].name==="textarea"?Mr.children[0].attributes.textContent=Br:Mr.children[0].attributes.value=Br)}}if(!this.ui.imageEdit&&((Qr=Mr.children)!=null&&Qr[0])&&this.h){ar=ar||Qt(this.ui[wt.$getExtra]());let Br=0;if(this.caption&&["top","bottom"].includes(this.caption.placement)){Br=this.caption.reserve,Br<=0&&(Br=this.caption[wt.$getExtra](Lt).h);const Nr=this.h-Br-ir-ar.h;Mr.children[0].attributes.style.height=(0,_e.measureToString)(Nr)}else Mr.children[0].attributes.style.height="100%"}if(Gr&&Mr.children.push(Gr),!yn)return Mr.attributes.class&&Mr.attributes.class.push("xfaLeft"),this.w=qn,this.h=_i,Ft.HTMLResult.success((0,_e.createWrapper)(this,Cr),ts);if(this.ui.button)return gr.padding&&delete gr.padding,yn.name==="div"&&(yn.name="span"),Mr.children.push(yn),Ft.HTMLResult.success(Cr,ts);switch(this.ui.checkButton&&(yn.attributes.class[0]="xfaCaptionForCheckButton"),Mr.attributes.class||(Mr.attributes.class=[]),Mr.children.splice(0,0,yn),this.caption.placement){case"left":Mr.attributes.class.push("xfaLeft");break;case"right":Mr.attributes.class.push("xfaRight");break;case"top":Mr.attributes.class.push("xfaTop");break;case"bottom":Mr.attributes.class.push("xfaBottom");break;case"inline":Mr.attributes.class.push("xfaLeft");break}return this.w=qn,this.h=_i,Ft.HTMLResult.success((0,_e.createWrapper)(this,Cr),ts)}}Et.Field=or;class pr extends bt.XFAObject{constructor(Lt){super(Dt,"fill",!0),this.id=Lt.id||"",this.presence=(0,Ft.getStringOption)(Lt.presence,["visible","hidden","inactive","invisible"]),this.use=Lt.use||"",this.usehref=Lt.usehref||"",this.color=null,this.extras=null,this.linear=null,this.pattern=null,this.radial=null,this.solid=null,this.stipple=null}[wt.$toStyle](){var ar;const Lt=this[wt.$getParent](),qn=Lt[wt.$getParent]()[wt.$getParent](),_i=Object.create(null);let Kn="color",ir=Kn;Lt instanceof Fn&&(Kn="background-color",ir="background",qn instanceof Eu&&(_i.backgroundColor="white")),(Lt instanceof fs||Lt instanceof ln)&&(Kn=ir="fill",_i.fill="white");for(const gr of Object.getOwnPropertyNames(this)){if(gr==="extras"||gr==="color")continue;const mr=this[gr];if(!(mr instanceof bt.XFAObject))continue;const br=mr[wt.$toStyle](this.color);return br&&(_i[br.startsWith("#")?Kn:ir]=br),_i}if((ar=this.color)!=null&&ar.value){const gr=this.color[wt.$toStyle]();_i[gr.startsWith("#")?Kn:ir]=gr}return _i}}class wr extends bt.XFAObject{constructor(Lt){super(Dt,"filter",!0),this.addRevocationInfo=(0,Ft.getStringOption)(Lt.addRevocationInfo,["","required","optional","none"]),this.id=Lt.id||"",this.name=Lt.name||"",this.use=Lt.use||"",this.usehref=Lt.usehref||"",this.version=(0,Ft.getInteger)({data:this.version,defaultValue:5,validate:yn=>yn>=1&&yn<=5}),this.appearanceFilter=null,this.certificates=null,this.digestMethods=null,this.encodings=null,this.encryptionMethods=null,this.handler=null,this.lockDocument=null,this.mdp=null,this.reasons=null,this.timeStamp=null}}class fr extends bt.ContentObject{constructor(Lt){super(Dt,"float"),this.id=Lt.id||"",this.name=Lt.name||"",this.use=Lt.use||"",this.usehref=Lt.usehref||""}[wt.$finalize](){const Lt=parseFloat(this[wt.$content].trim());this[wt.$content]=isNaN(Lt)?null:Lt}[wt.$toHTML](Lt){return Ot(this[wt.$content]!==null?this[wt.$content].toString():"")}}class Ar extends bt.XFAObject{constructor(Lt){super(Dt,"font",!0),this.baselineShift=(0,Ft.getMeasurement)(Lt.baselineShift),this.fontHorizontalScale=(0,Ft.getFloat)({data:Lt.fontHorizontalScale,defaultValue:100,validate:yn=>yn>=0}),this.fontVerticalScale=(0,Ft.getFloat)({data:Lt.fontVerticalScale,defaultValue:100,validate:yn=>yn>=0}),this.id=Lt.id||"",this.kerningMode=(0,Ft.getStringOption)(Lt.kerningMode,["none","pair"]),this.letterSpacing=(0,Ft.getMeasurement)(Lt.letterSpacing,"0"),this.lineThrough=(0,Ft.getInteger)({data:Lt.lineThrough,defaultValue:0,validate:yn=>yn===1||yn===2}),this.lineThroughPeriod=(0,Ft.getStringOption)(Lt.lineThroughPeriod,["all","word"]),this.overline=(0,Ft.getInteger)({data:Lt.overline,defaultValue:0,validate:yn=>yn===1||yn===2}),this.overlinePeriod=(0,Ft.getStringOption)(Lt.overlinePeriod,["all","word"]),this.posture=(0,Ft.getStringOption)(Lt.posture,["normal","italic"]),this.size=(0,Ft.getMeasurement)(Lt.size,"10pt"),this.typeface=Lt.typeface||"Courier",this.underline=(0,Ft.getInteger)({data:Lt.underline,defaultValue:0,validate:yn=>yn===1||yn===2}),this.underlinePeriod=(0,Ft.getStringOption)(Lt.underlinePeriod,["all","word"]),this.use=Lt.use||"",this.usehref=Lt.usehref||"",this.weight=(0,Ft.getStringOption)(Lt.weight,["normal","bold"]),this.extras=null,this.fill=null}[wt.$clean](Lt){super[wt.$clean](Lt),this[wt.$globalData].usedTypefaces.add(this.typeface)}[wt.$toStyle](){const Lt=(0,_e.toStyle)(this,"fill"),yn=Lt.color;return yn&&(yn==="#000000"?delete Lt.color:yn.startsWith("#")||(Lt.background=yn,Lt.backgroundClip="text",Lt.color="transparent")),this.baselineShift&&(Lt.verticalAlign=(0,_e.measureToString)(this.baselineShift)),Lt.fontKerning=this.kerningMode==="none"?"none":"normal",Lt.letterSpacing=(0,_e.measureToString)(this.letterSpacing),this.lineThrough!==0&&(Lt.textDecoration="line-through",this.lineThrough===2&&(Lt.textDecorationStyle="double")),this.overline!==0&&(Lt.textDecoration="overline",this.overline===2&&(Lt.textDecorationStyle="double")),Lt.fontStyle=this.posture,Lt.fontSize=(0,_e.measureToString)(.99*this.size),(0,_e.setFontFamily)(this,this,this[wt.$globalData].fontFinder,Lt),this.underline!==0&&(Lt.textDecoration="underline",this.underline===2&&(Lt.textDecorationStyle="double")),Lt.fontWeight=this.weight,Lt}}class Lr extends bt.XFAObject{constructor(Lt){super(Dt,"format",!0),this.id=Lt.id||"",this.use=Lt.use||"",this.usehref=Lt.usehref||"",this.extras=null,this.picture=null}}class Fr extends bt.StringObject{constructor(Lt){super(Dt,"handler"),this.id=Lt.id||"",this.type=(0,Ft.getStringOption)(Lt.type,["optional","required"]),this.use=Lt.use||"",this.usehref=Lt.usehref||""}}class $r extends bt.XFAObject{constructor(Lt){super(Dt,"hyphenation"),this.excludeAllCaps=(0,Ft.getInteger)({data:Lt.excludeAllCaps,defaultValue:0,validate:yn=>yn===1}),this.excludeInitialCap=(0,Ft.getInteger)({data:Lt.excludeInitialCap,defaultValue:0,validate:yn=>yn===1}),this.hyphenate=(0,Ft.getInteger)({data:Lt.hyphenate,defaultValue:0,validate:yn=>yn===1}),this.id=Lt.id||"",this.pushCharacterCount=(0,Ft.getInteger)({data:Lt.pushCharacterCount,defaultValue:3,validate:yn=>yn>=0}),this.remainCharacterCount=(0,Ft.getInteger)({data:Lt.remainCharacterCount,defaultValue:3,validate:yn=>yn>=0}),this.use=Lt.use||"",this.usehref=Lt.usehref||"",this.wordCharacterCount=(0,Ft.getInteger)({data:Lt.wordCharacterCount,defaultValue:7,validate:yn=>yn>=0})}}class Er extends bt.StringObject{constructor(Lt){super(Dt,"image"),this.aspect=(0,Ft.getStringOption)(Lt.aspect,["fit","actual","height","none","width"]),this.contentType=Lt.contentType||"",this.href=Lt.href||"",this.id=Lt.id||"",this.name=Lt.name||"",this.transferEncoding=(0,Ft.getStringOption)(Lt.transferEncoding,["base64","none","package"]),this.use=Lt.use||"",this.usehref=Lt.usehref||""}[wt.$toHTML](){if(this.contentType&&!en.has(this.contentType.toLowerCase()))return Ft.HTMLResult.EMPTY;let Lt=this[wt.$globalData].images&&this[wt.$globalData].images.get(this.href);if(!Lt&&(this.href||!this[wt.$content])||(!Lt&&this.transferEncoding==="base64"&&(Lt=(0,Xt.stringToBytes)(atob(this[wt.$content]))),!Lt))return Ft.HTMLResult.EMPTY;if(!this.contentType){for(const[Kn,ir]of dn)if(Lt.length>Kn.length&&Kn.every((ar,gr)=>ar===Lt[gr])){this.contentType=ir;break}if(!this.contentType)return Ft.HTMLResult.EMPTY}const yn=new Blob([Lt],{type:this.contentType});let qn;switch(this.aspect){case"fit":case"actual":break;case"height":qn={height:"100%",objectFit:"fill"};break;case"none":qn={width:"100%",height:"100%",objectFit:"fill"};break;case"width":qn={width:"100%",objectFit:"fill"};break}const _i=this[wt.$getParent]();return Ft.HTMLResult.success({name:"img",attributes:{class:["xfaImage"],style:qn,src:URL.createObjectURL(yn),alt:_i?Ut(_i[wt.$getParent]()):null}})}}class _r extends bt.XFAObject{constructor(Lt){super(Dt,"imageEdit",!0),this.data=(0,Ft.getStringOption)(Lt.data,["link","embed"]),this.id=Lt.id||"",this.use=Lt.use||"",this.usehref=Lt.usehref||"",this.border=null,this.extras=null,this.margin=null}[wt.$toHTML](Lt){return this.data==="embed"?Ft.HTMLResult.success({name:"div",children:[],attributes:{}}):Ft.HTMLResult.EMPTY}}class Rr extends bt.ContentObject{constructor(Lt){super(Dt,"integer"),this.id=Lt.id||"",this.name=Lt.name||"",this.use=Lt.use||"",this.usehref=Lt.usehref||""}[wt.$finalize](){const Lt=parseInt(this[wt.$content].trim(),10);this[wt.$content]=isNaN(Lt)?null:Lt}[wt.$toHTML](Lt){return Ot(this[wt.$content]!==null?this[wt.$content].toString():"")}}class qr extends bt.XFAObject{constructor(Lt){super(Dt,"issuers",!0),this.id=Lt.id||"",this.type=(0,Ft.getStringOption)(Lt.type,["optional","required"]),this.use=Lt.use||"",this.usehref=Lt.usehref||"",this.certificate=new bt.XFAObjectArray}}class vs extends bt.XFAObject{constructor(Lt){super(Dt,"items",!0),this.id=Lt.id||"",this.name=Lt.name||"",this.presence=(0,Ft.getStringOption)(Lt.presence,["visible","hidden","inactive","invisible"]),this.ref=Lt.ref||"",this.save=(0,Ft.getInteger)({data:Lt.save,defaultValue:0,validate:yn=>yn===1}),this.use=Lt.use||"",this.usehref=Lt.usehref||"",this.boolean=new bt.XFAObjectArray,this.date=new bt.XFAObjectArray,this.dateTime=new bt.XFAObjectArray,this.decimal=new bt.XFAObjectArray,this.exData=new bt.XFAObjectArray,this.float=new bt.XFAObjectArray,this.image=new bt.XFAObjectArray,this.integer=new bt.XFAObjectArray,this.text=new bt.XFAObjectArray,this.time=new bt.XFAObjectArray}[wt.$toHTML](){const Lt=[];for(const yn of this[wt.$getChildren]())Lt.push(yn[wt.$text]());return Ft.HTMLResult.success(Lt)}}Et.Items=vs;class ls extends bt.XFAObject{constructor(Lt){super(Dt,"keep",!0),this.id=Lt.id||"";const yn=["none","contentArea","pageArea"];this.intact=(0,Ft.getStringOption)(Lt.intact,yn),this.next=(0,Ft.getStringOption)(Lt.next,yn),this.previous=(0,Ft.getStringOption)(Lt.previous,yn),this.use=Lt.use||"",this.usehref=Lt.usehref||"",this.extras=null}}class ns extends bt.XFAObject{constructor(Lt){super(Dt,"keyUsage");const yn=["","yes","no"];this.crlSign=(0,Ft.getStringOption)(Lt.crlSign,yn),this.dataEncipherment=(0,Ft.getStringOption)(Lt.dataEncipherment,yn),this.decipherOnly=(0,Ft.getStringOption)(Lt.decipherOnly,yn),this.digitalSignature=(0,Ft.getStringOption)(Lt.digitalSignature,yn),this.encipherOnly=(0,Ft.getStringOption)(Lt.encipherOnly,yn),this.id=Lt.id||"",this.keyAgreement=(0,Ft.getStringOption)(Lt.keyAgreement,yn),this.keyCertSign=(0,Ft.getStringOption)(Lt.keyCertSign,yn),this.keyEncipherment=(0,Ft.getStringOption)(Lt.keyEncipherment,yn),this.nonRepudiation=(0,Ft.getStringOption)(Lt.nonRepudiation,yn),this.type=(0,Ft.getStringOption)(Lt.type,["optional","required"]),this.use=Lt.use||"",this.usehref=Lt.usehref||""}}class Ns extends bt.XFAObject{constructor(Lt){super(Dt,"line",!0),this.hand=(0,Ft.getStringOption)(Lt.hand,["even","left","right"]),this.id=Lt.id||"",this.slope=(0,Ft.getStringOption)(Lt.slope,["\\","/"]),this.use=Lt.use||"",this.usehref=Lt.usehref||"",this.edge=null}[wt.$toHTML](){const Lt=this[wt.$getParent]()[wt.$getParent](),yn=this.edge||new nr({}),qn=yn[wt.$toStyle](),_i=Object.create(null),Kn=yn.presence==="visible"?yn.thickness:0;_i.strokeWidth=(0,_e.measureToString)(Kn),_i.stroke=qn.color;let ir,ar,gr,mr,br="100%",Ir="100%";Lt.w<=Kn?([ir,ar,gr,mr]=["50%",0,"50%","100%"],br=_i.strokeWidth):Lt.h<=Kn?([ir,ar,gr,mr]=[0,"50%","100%","50%"],Ir=_i.strokeWidth):this.slope==="\\"?[ir,ar,gr,mr]=[0,0,"100%","100%"]:[ir,ar,gr,mr]=[0,"100%","100%",0];const kr={name:"svg",children:[{name:"line",attributes:{xmlns:jt,x1:ir,y1:ar,x2:gr,y2:mr,style:_i}}],attributes:{xmlns:jt,width:br,height:Ir,style:{overflow:"visible"}}};return gn(Lt)?Ft.HTMLResult.success({name:"div",attributes:{style:{display:"inline",width:"100%",height:"100%"}},children:[kr]}):(kr.attributes.style.position="absolute",Ft.HTMLResult.success(kr))}}class Gs extends bt.XFAObject{constructor(Lt){super(Dt,"linear",!0),this.id=Lt.id||"",this.type=(0,Ft.getStringOption)(Lt.type,["toRight","toBottom","toLeft","toTop"]),this.use=Lt.use||"",this.usehref=Lt.usehref||"",this.color=null,this.extras=null}[wt.$toStyle](Lt){Lt=Lt?Lt[wt.$toStyle]():"#FFFFFF";const yn=this.type.replace(/([RBLT])/," $1").toLowerCase(),qn=this.color?this.color[wt.$toStyle]():"#000000";return`linear-gradient(${yn}, ${Lt}, ${qn})`}}class vr extends bt.ContentObject{constructor(Lt){super(Dt,"lockDocument"),this.id=Lt.id||"",this.type=(0,Ft.getStringOption)(Lt.type,["optional","required"]),this.use=Lt.use||"",this.usehref=Lt.usehref||""}[wt.$finalize](){this[wt.$content]=(0,Ft.getStringOption)(this[wt.$content],["auto","0","1"])}}class yr extends bt.XFAObject{constructor(Lt){super(Dt,"manifest",!0),this.action=(0,Ft.getStringOption)(Lt.action,["include","all","exclude"]),this.id=Lt.id||"",this.name=Lt.name||"",this.use=Lt.use||"",this.usehref=Lt.usehref||"",this.extras=null,this.ref=new bt.XFAObjectArray}}class Sr extends bt.XFAObject{constructor(Lt){super(Dt,"margin",!0),this.bottomInset=(0,Ft.getMeasurement)(Lt.bottomInset,"0"),this.id=Lt.id||"",this.leftInset=(0,Ft.getMeasurement)(Lt.leftInset,"0"),this.rightInset=(0,Ft.getMeasurement)(Lt.rightInset,"0"),this.topInset=(0,Ft.getMeasurement)(Lt.topInset,"0"),this.use=Lt.use||"",this.usehref=Lt.usehref||"",this.extras=null}[wt.$toStyle](){return{margin:(0,_e.measureToString)(this.topInset)+" "+(0,_e.measureToString)(this.rightInset)+" "+(0,_e.measureToString)(this.bottomInset)+" "+(0,_e.measureToString)(this.leftInset)}}}class Pr extends bt.XFAObject{constructor(Lt){super(Dt,"mdp"),this.id=Lt.id||"",this.permissions=(0,Ft.getInteger)({data:Lt.permissions,defaultValue:2,validate:yn=>yn===1||yn===3}),this.signatureType=(0,Ft.getStringOption)(Lt.signatureType,["filler","author"]),this.use=Lt.use||"",this.usehref=Lt.usehref||""}}class jr extends bt.XFAObject{constructor(Lt){super(Dt,"medium"),this.id=Lt.id||"",this.imagingBBox=(0,Ft.getBBox)(Lt.imagingBBox),this.long=(0,Ft.getMeasurement)(Lt.long),this.orientation=(0,Ft.getStringOption)(Lt.orientation,["portrait","landscape"]),this.short=(0,Ft.getMeasurement)(Lt.short),this.stock=Lt.stock||"",this.trayIn=(0,Ft.getStringOption)(Lt.trayIn,["auto","delegate","pageFront"]),this.trayOut=(0,Ft.getStringOption)(Lt.trayOut,["auto","delegate"]),this.use=Lt.use||"",this.usehref=Lt.usehref||""}}class es extends bt.XFAObject{constructor(Lt){super(Dt,"message",!0),this.id=Lt.id||"",this.use=Lt.use||"",this.usehref=Lt.usehref||"",this.text=new bt.XFAObjectArray}}class Or extends bt.XFAObject{constructor(Lt){super(Dt,"numericEdit",!0),this.hScrollPolicy=(0,Ft.getStringOption)(Lt.hScrollPolicy,["auto","off","on"]),this.id=Lt.id||"",this.use=Lt.use||"",this.usehref=Lt.usehref||"",this.border=null,this.comb=null,this.extras=null,this.margin=null}[wt.$toHTML](Lt){var Kn;const yn=(0,_e.toStyle)(this,"border","font","margin"),qn=this[wt.$getParent]()[wt.$getParent](),_i={name:"input",attributes:{type:"text",fieldId:qn[wt.$uid],dataId:((Kn=qn[wt.$data])==null?void 0:Kn[wt.$uid])||qn[wt.$uid],class:["xfaTextfield"],style:yn,"aria-label":Ut(qn),"aria-required":!1}};return Vt(qn)&&(_i.attributes["aria-required"]=!0,_i.attributes.required=!0),Ft.HTMLResult.success({name:"label",attributes:{class:["xfaLabel"]},children:[_i]})}}class Tr extends bt.XFAObject{constructor(Lt){super(Dt,"occur",!0),this.id=Lt.id||"",this.initial=Lt.initial!==""?(0,Ft.getInteger)({data:Lt.initial,defaultValue:"",validate:yn=>!0}):"",this.max=Lt.max!==""?(0,Ft.getInteger)({data:Lt.max,defaultValue:1,validate:yn=>!0}):"",this.min=Lt.min!==""?(0,Ft.getInteger)({data:Lt.min,defaultValue:1,validate:yn=>!0}):"",this.use=Lt.use||"",this.usehref=Lt.usehref||"",this.extras=null}[wt.$clean](){const Lt=this[wt.$getParent](),yn=this.min;this.min===""&&(this.min=Lt instanceof Jr||Lt instanceof ss?0:1),this.max===""&&(yn===""?this.max=Lt instanceof Jr||Lt instanceof ss?-1:1:this.max=this.min),this.max!==-1&&this.max<this.min&&(this.max=this.min),this.initial===""&&(this.initial=Lt instanceof Au?1:this.min)}}class Vr extends bt.StringObject{constructor(Lt){super(Dt,"oid"),this.id=Lt.id||"",this.name=Lt.name||"",this.use=Lt.use||"",this.usehref=Lt.usehref||""}}class us extends bt.XFAObject{constructor(Lt){super(Dt,"oids",!0),this.id=Lt.id||"",this.type=(0,Ft.getStringOption)(Lt.type,["optional","required"]),this.use=Lt.use||"",this.usehref=Lt.usehref||"",this.oid=new bt.XFAObjectArray}}class bs extends bt.XFAObject{constructor(Lt){super(Dt,"overflow"),this.id=Lt.id||"",this.leader=Lt.leader||"",this.target=Lt.target||"",this.trailer=Lt.trailer||"",this.use=Lt.use||"",this.usehref=Lt.usehref||""}[wt.$getExtra](){if(!this[wt.$extra]){const Lt=this[wt.$getParent](),yn=this[wt.$getTemplateRoot](),qn=yn[wt.$searchNode](this.target,Lt),_i=yn[wt.$searchNode](this.leader,Lt),Kn=yn[wt.$searchNode](this.trailer,Lt);this[wt.$extra]={target:(qn==null?void 0:qn[0])||null,leader:(_i==null?void 0:_i[0])||null,trailer:(Kn==null?void 0:Kn[0])||null,addLeader:!1,addTrailer:!1}}return this[wt.$extra]}}class Jr extends bt.XFAObject{constructor(Lt){super(Dt,"pageArea",!0),this.blankOrNotBlank=(0,Ft.getStringOption)(Lt.blankOrNotBlank,["any","blank","notBlank"]),this.id=Lt.id||"",this.initialNumber=(0,Ft.getInteger)({data:Lt.initialNumber,defaultValue:1,validate:yn=>!0}),this.name=Lt.name||"",this.numbered=(0,Ft.getInteger)({data:Lt.numbered,defaultValue:1,validate:yn=>!0}),this.oddOrEven=(0,Ft.getStringOption)(Lt.oddOrEven,["any","even","odd"]),this.pagePosition=(0,Ft.getStringOption)(Lt.pagePosition,["any","first","last","only","rest"]),this.relevant=(0,Ft.getRelevant)(Lt.relevant),this.use=Lt.use||"",this.usehref=Lt.usehref||"",this.desc=null,this.extras=null,this.medium=null,this.occur=null,this.area=new bt.XFAObjectArray,this.contentArea=new bt.XFAObjectArray,this.draw=new bt.XFAObjectArray,this.exclGroup=new bt.XFAObjectArray,this.field=new bt.XFAObjectArray,this.subform=new bt.XFAObjectArray}[wt.$isUsable](){return this[wt.$extra]?!this.occur||this.occur.max===-1||this[wt.$extra].numberOfUse<this.occur.max:(this[wt.$extra]={numberOfUse:0},!0)}[wt.$cleanPage](){delete this[wt.$extra]}[wt.$getNextPage](){this[wt.$extra]||(this[wt.$extra]={numberOfUse:0});const Lt=this[wt.$getParent]();return Lt.relation==="orderedOccurrence"&&this[wt.$isUsable]()?(this[wt.$extra].numberOfUse+=1,this):Lt[wt.$getNextPage]()}[wt.$getAvailableSpace](){return this[wt.$extra].space||{width:0,height:0}}[wt.$toHTML](){this[wt.$extra]||(this[wt.$extra]={numberOfUse:1});const Lt=[];this[wt.$extra].children=Lt;const yn=Object.create(null);if(this.medium&&this.medium.short&&this.medium.long){if(yn.width=(0,_e.measureToString)(this.medium.short),yn.height=(0,_e.measureToString)(this.medium.long),this[wt.$extra].space={width:this.medium.short,height:this.medium.long},this.medium.orientation==="landscape"){const qn=yn.width;yn.width=yn.height,yn.height=qn,this[wt.$extra].space={width:this.medium.long,height:this.medium.short}}}else(0,Xt.warn)("XFA - No medium specified in pageArea: please file a bug.");return this[wt.$childrenToHTML]({filter:new Set(["area","draw","field","subform"]),include:!0}),this[wt.$childrenToHTML]({filter:new Set(["contentArea"]),include:!0}),Ft.HTMLResult.success({name:"div",children:Lt,attributes:{class:["xfaPage"],id:this[wt.$uid],style:yn,xfaName:this.name}})}}class ss extends bt.XFAObject{constructor(Lt){super(Dt,"pageSet",!0),this.duplexImposition=(0,Ft.getStringOption)(Lt.duplexImposition,["longEdge","shortEdge"]),this.id=Lt.id||"",this.name=Lt.name||"",this.relation=(0,Ft.getStringOption)(Lt.relation,["orderedOccurrence","duplexPaginated","simplexPaginated"]),this.relevant=(0,Ft.getRelevant)(Lt.relevant),this.use=Lt.use||"",this.usehref=Lt.usehref||"",this.extras=null,this.occur=null,this.pageArea=new bt.XFAObjectArray,this.pageSet=new bt.XFAObjectArray}[wt.$cleanPage](){for(const Lt of this.pageArea.children)Lt[wt.$cleanPage]();for(const Lt of this.pageSet.children)Lt[wt.$cleanPage]()}[wt.$isUsable](){return!this.occur||this.occur.max===-1||this[wt.$extra].numberOfUse<this.occur.max}[wt.$getNextPage](){if(this[wt.$extra]||(this[wt.$extra]={numberOfUse:1,pageIndex:-1,pageSetIndex:-1}),this.relation==="orderedOccurrence"){if(this[wt.$extra].pageIndex+1<this.pageArea.children.length)return this[wt.$extra].pageIndex+=1,this.pageArea.children[this[wt.$extra].pageIndex][wt.$getNextPage]();if(this[wt.$extra].pageSetIndex+1<this.pageSet.children.length)return this[wt.$extra].pageSetIndex+=1,this.pageSet.children[this[wt.$extra].pageSetIndex][wt.$getNextPage]();if(this[wt.$isUsable]())return this[wt.$extra].numberOfUse+=1,this[wt.$extra].pageIndex=-1,this[wt.$extra].pageSetIndex=-1,this[wt.$getNextPage]();const Kn=this[wt.$getParent]();return Kn instanceof ss?Kn[wt.$getNextPage]():(this[wt.$cleanPage](),this[wt.$getNextPage]())}const Lt=this[wt.$getTemplateRoot]()[wt.$extra].pageNumber,yn=Lt%2===0?"even":"odd",qn=Lt===0?"first":"rest";let _i=this.pageArea.children.find(Kn=>Kn.oddOrEven===yn&&Kn.pagePosition===qn);return _i||(_i=this.pageArea.children.find(Kn=>Kn.oddOrEven==="any"&&Kn.pagePosition===qn),_i)||(_i=this.pageArea.children.find(Kn=>Kn.oddOrEven==="any"&&Kn.pagePosition==="any"),_i)?_i:this.pageArea.children[0]}}class ms extends bt.XFAObject{constructor(Lt){super(Dt,"para",!0),this.hAlign=(0,Ft.getStringOption)(Lt.hAlign,["left","center","justify","justifyAll","radix","right"]),this.id=Lt.id||"",this.lineHeight=Lt.lineHeight?(0,Ft.getMeasurement)(Lt.lineHeight,"0pt"):"",this.marginLeft=Lt.marginLeft?(0,Ft.getMeasurement)(Lt.marginLeft,"0pt"):"",this.marginRight=Lt.marginRight?(0,Ft.getMeasurement)(Lt.marginRight,"0pt"):"",this.orphans=(0,Ft.getInteger)({data:Lt.orphans,defaultValue:0,validate:yn=>yn>=0}),this.preserve=Lt.preserve||"",this.radixOffset=Lt.radixOffset?(0,Ft.getMeasurement)(Lt.radixOffset,"0pt"):"",this.spaceAbove=Lt.spaceAbove?(0,Ft.getMeasurement)(Lt.spaceAbove,"0pt"):"",this.spaceBelow=Lt.spaceBelow?(0,Ft.getMeasurement)(Lt.spaceBelow,"0pt"):"",this.tabDefault=Lt.tabDefault?(0,Ft.getMeasurement)(this.tabDefault):"",this.tabStops=(Lt.tabStops||"").trim().split(/\s+/).map((yn,qn)=>qn%2===1?(0,Ft.getMeasurement)(yn):yn),this.textIndent=Lt.textIndent?(0,Ft.getMeasurement)(Lt.textIndent,"0pt"):"",this.use=Lt.use||"",this.usehref=Lt.usehref||"",this.vAlign=(0,Ft.getStringOption)(Lt.vAlign,["top","bottom","middle"]),this.widows=(0,Ft.getInteger)({data:Lt.widows,defaultValue:0,validate:yn=>yn>=0}),this.hyphenation=null}[wt.$toStyle](){const Lt=(0,_e.toStyle)(this,"hAlign");return this.marginLeft!==""&&(Lt.paddingLeft=(0,_e.measureToString)(this.marginLeft)),this.marginRight!==""&&(Lt.paddingight=(0,_e.measureToString)(this.marginRight)),this.spaceAbove!==""&&(Lt.paddingTop=(0,_e.measureToString)(this.spaceAbove)),this.spaceBelow!==""&&(Lt.paddingBottom=(0,_e.measureToString)(this.spaceBelow)),this.textIndent!==""&&(Lt.textIndent=(0,_e.measureToString)(this.textIndent),(0,_e.fixTextIndent)(Lt)),this.lineHeight>0&&(Lt.lineHeight=(0,_e.measureToString)(this.lineHeight)),this.tabDefault!==""&&(Lt.tabSize=(0,_e.measureToString)(this.tabDefault)),this.tabStops.length>0,this.hyphenatation&&Object.assign(Lt,this.hyphenatation[wt.$toStyle]()),Lt}}class Wr extends bt.XFAObject{constructor(Lt){super(Dt,"passwordEdit",!0),this.hScrollPolicy=(0,Ft.getStringOption)(Lt.hScrollPolicy,["auto","off","on"]),this.id=Lt.id||"",this.passwordChar=Lt.passwordChar||"*",this.use=Lt.use||"",this.usehref=Lt.usehref||"",this.border=null,this.extras=null,this.margin=null}}class hs extends bt.XFAObject{constructor(Lt){super(Dt,"pattern",!0),this.id=Lt.id||"",this.type=(0,Ft.getStringOption)(Lt.type,["crossHatch","crossDiagonal","diagonalLeft","diagonalRight","horizontal","vertical"]),this.use=Lt.use||"",this.usehref=Lt.usehref||"",this.color=null,this.extras=null}[wt.$toStyle](Lt){Lt=Lt?Lt[wt.$toStyle]():"#FFFFFF";const yn=this.color?this.color[wt.$toStyle]():"#000000",qn=5,_i="repeating-linear-gradient",Kn=`${Lt},${Lt} ${qn}px,${yn} ${qn}px,${yn} ${2*qn}px`;switch(this.type){case"crossHatch":return`${_i}(to top,${Kn}) ${_i}(to right,${Kn})`;case"crossDiagonal":return`${_i}(45deg,${Kn}) ${_i}(-45deg,${Kn})`;case"diagonalLeft":return`${_i}(45deg,${Kn})`;case"diagonalRight":return`${_i}(-45deg,${Kn})`;case"horizontal":return`${_i}(to top,${Kn})`;case"vertical":return`${_i}(to right,${Kn})`}return""}}class zr extends bt.StringObject{constructor(Lt){super(Dt,"picture"),this.id=Lt.id||"",this.use=Lt.use||"",this.usehref=Lt.usehref||""}}class gs extends bt.XFAObject{constructor(Lt){super(Dt,"proto",!0),this.appearanceFilter=new bt.XFAObjectArray,this.arc=new bt.XFAObjectArray,this.area=new bt.XFAObjectArray,this.assist=new bt.XFAObjectArray,this.barcode=new bt.XFAObjectArray,this.bindItems=new bt.XFAObjectArray,this.bookend=new bt.XFAObjectArray,this.boolean=new bt.XFAObjectArray,this.border=new bt.XFAObjectArray,this.break=new bt.XFAObjectArray,this.breakAfter=new bt.XFAObjectArray,this.breakBefore=new bt.XFAObjectArray,this.button=new bt.XFAObjectArray,this.calculate=new bt.XFAObjectArray,this.caption=new bt.XFAObjectArray,this.certificate=new bt.XFAObjectArray,this.certificates=new bt.XFAObjectArray,this.checkButton=new bt.XFAObjectArray,this.choiceList=new bt.XFAObjectArray,this.color=new bt.XFAObjectArray,this.comb=new bt.XFAObjectArray,this.connect=new bt.XFAObjectArray,this.contentArea=new bt.XFAObjectArray,this.corner=new bt.XFAObjectArray,this.date=new bt.XFAObjectArray,this.dateTime=new bt.XFAObjectArray,this.dateTimeEdit=new bt.XFAObjectArray,this.decimal=new bt.XFAObjectArray,this.defaultUi=new bt.XFAObjectArray,this.desc=new bt.XFAObjectArray,this.digestMethod=new bt.XFAObjectArray,this.digestMethods=new bt.XFAObjectArray,this.draw=new bt.XFAObjectArray,this.edge=new bt.XFAObjectArray,this.encoding=new bt.XFAObjectArray,this.encodings=new bt.XFAObjectArray,this.encrypt=new bt.XFAObjectArray,this.encryptData=new bt.XFAObjectArray,this.encryption=new bt.XFAObjectArray,this.encryptionMethod=new bt.XFAObjectArray,this.encryptionMethods=new bt.XFAObjectArray,this.event=new bt.XFAObjectArray,this.exData=new bt.XFAObjectArray,this.exObject=new bt.XFAObjectArray,this.exclGroup=new bt.XFAObjectArray,this.execute=new bt.XFAObjectArray,this.extras=new bt.XFAObjectArray,this.field=new bt.XFAObjectArray,this.fill=new bt.XFAObjectArray,this.filter=new bt.XFAObjectArray,this.float=new bt.XFAObjectArray,this.font=new bt.XFAObjectArray,this.format=new bt.XFAObjectArray,this.handler=new bt.XFAObjectArray,this.hyphenation=new bt.XFAObjectArray,this.image=new bt.XFAObjectArray,this.imageEdit=new bt.XFAObjectArray,this.integer=new bt.XFAObjectArray,this.issuers=new bt.XFAObjectArray,this.items=new bt.XFAObjectArray,this.keep=new bt.XFAObjectArray,this.keyUsage=new bt.XFAObjectArray,this.line=new bt.XFAObjectArray,this.linear=new bt.XFAObjectArray,this.lockDocument=new bt.XFAObjectArray,this.manifest=new bt.XFAObjectArray,this.margin=new bt.XFAObjectArray,this.mdp=new bt.XFAObjectArray,this.medium=new bt.XFAObjectArray,this.message=new bt.XFAObjectArray,this.numericEdit=new bt.XFAObjectArray,this.occur=new bt.XFAObjectArray,this.oid=new bt.XFAObjectArray,this.oids=new bt.XFAObjectArray,this.overflow=new bt.XFAObjectArray,this.pageArea=new bt.XFAObjectArray,this.pageSet=new bt.XFAObjectArray,this.para=new bt.XFAObjectArray,this.passwordEdit=new bt.XFAObjectArray,this.pattern=new bt.XFAObjectArray,this.picture=new bt.XFAObjectArray,this.radial=new bt.XFAObjectArray,this.reason=new bt.XFAObjectArray,this.reasons=new bt.XFAObjectArray,this.rectangle=new bt.XFAObjectArray,this.ref=new bt.XFAObjectArray,this.script=new bt.XFAObjectArray,this.setProperty=new bt.XFAObjectArray,this.signData=new bt.XFAObjectArray,this.signature=new bt.XFAObjectArray,this.signing=new bt.XFAObjectArray,this.solid=new bt.XFAObjectArray,this.speak=new bt.XFAObjectArray,this.stipple=new bt.XFAObjectArray,this.subform=new bt.XFAObjectArray,this.subformSet=new bt.XFAObjectArray,this.subjectDN=new bt.XFAObjectArray,this.subjectDNs=new bt.XFAObjectArray,this.submit=new bt.XFAObjectArray,this.text=new bt.XFAObjectArray,this.textEdit=new bt.XFAObjectArray,this.time=new bt.XFAObjectArray,this.timeStamp=new bt.XFAObjectArray,this.toolTip=new bt.XFAObjectArray,this.traversal=new bt.XFAObjectArray,this.traverse=new bt.XFAObjectArray,this.ui=new bt.XFAObjectArray,this.validate=new bt.XFAObjectArray,this.value=new bt.XFAObjectArray,this.variables=new bt.XFAObjectArray}}class ws extends bt.XFAObject{constructor(Lt){super(Dt,"radial",!0),this.id=Lt.id||"",this.type=(0,Ft.getStringOption)(Lt.type,["toEdge","toCenter"]),this.use=Lt.use||"",this.usehref=Lt.usehref||"",this.color=null,this.extras=null}[wt.$toStyle](Lt){Lt=Lt?Lt[wt.$toStyle]():"#FFFFFF";const yn=this.color?this.color[wt.$toStyle]():"#000000";return`radial-gradient(circle at center, ${this.type==="toEdge"?`${Lt},${yn}`:`${yn},${Lt}`})`}}class io extends bt.StringObject{constructor(Lt){super(Dt,"reason"),this.id=Lt.id||"",this.name=Lt.name||"",this.use=Lt.use||"",this.usehref=Lt.usehref||""}}class ds extends bt.XFAObject{constructor(Lt){super(Dt,"reasons",!0),this.id=Lt.id||"",this.type=(0,Ft.getStringOption)(Lt.type,["optional","required"]),this.use=Lt.use||"",this.usehref=Lt.usehref||"",this.reason=new bt.XFAObjectArray}}class fs extends bt.XFAObject{constructor(Lt){super(Dt,"rectangle",!0),this.hand=(0,Ft.getStringOption)(Lt.hand,["even","left","right"]),this.id=Lt.id||"",this.use=Lt.use||"",this.usehref=Lt.usehref||"",this.corner=new bt.XFAObjectArray(4),this.edge=new bt.XFAObjectArray(4),this.fill=null}[wt.$toHTML](){var mr;const Lt=this.edge.children.length?this.edge.children[0]:new nr({}),yn=Lt[wt.$toStyle](),qn=Object.create(null);((mr=this.fill)==null?void 0:mr.presence)==="visible"?Object.assign(qn,this.fill[wt.$toStyle]()):qn.fill="transparent",qn.strokeWidth=(0,_e.measureToString)(Lt.presence==="visible"?Lt.thickness:0),qn.stroke=yn.color;const Kn=(this.corner.children.length?this.corner.children[0]:new In({}))[wt.$toStyle](),ar={name:"svg",children:[{name:"rect",attributes:{xmlns:jt,width:"100%",height:"100%",x:0,y:0,rx:Kn.radius,ry:Kn.radius,style:qn}}],attributes:{xmlns:jt,style:{overflow:"visible"},width:"100%",height:"100%"}},gr=this[wt.$getParent]()[wt.$getParent]();return gn(gr)?Ft.HTMLResult.success({name:"div",attributes:{style:{display:"inline",width:"100%",height:"100%"}},children:[ar]}):(ar.attributes.style.position="absolute",Ft.HTMLResult.success(ar))}}class $s extends bt.StringObject{constructor(Lt){super(Dt,"ref"),this.id=Lt.id||"",this.use=Lt.use||"",this.usehref=Lt.usehref||""}}class Ys extends bt.StringObject{constructor(Lt){super(Dt,"script"),this.binding=Lt.binding||"",this.contentType=Lt.contentType||"",this.id=Lt.id||"",this.name=Lt.name||"",this.runAt=(0,Ft.getStringOption)(Lt.runAt,["client","both","server"]),this.use=Lt.use||"",this.usehref=Lt.usehref||""}}class wo extends bt.XFAObject{constructor(Lt){super(Dt,"setProperty"),this.connection=Lt.connection||"",this.ref=Lt.ref||"",this.target=Lt.target||""}}Et.SetProperty=wo;class Tl extends bt.XFAObject{constructor(Lt){super(Dt,"signData",!0),this.id=Lt.id||"",this.operation=(0,Ft.getStringOption)(Lt.operation,["sign","clear","verify"]),this.ref=Lt.ref||"",this.target=Lt.target||"",this.use=Lt.use||"",this.usehref=Lt.usehref||"",this.filter=null,this.manifest=null}}class zp extends bt.XFAObject{constructor(Lt){super(Dt,"signature",!0),this.id=Lt.id||"",this.type=(0,Ft.getStringOption)(Lt.type,["PDF1.3","PDF1.6"]),this.use=Lt.use||"",this.usehref=Lt.usehref||"",this.border=null,this.extras=null,this.filter=null,this.manifest=null,this.margin=null}}class T1 extends bt.XFAObject{constructor(Lt){super(Dt,"signing",!0),this.id=Lt.id||"",this.type=(0,Ft.getStringOption)(Lt.type,["optional","required"]),this.use=Lt.use||"",this.usehref=Lt.usehref||"",this.certificate=new bt.XFAObjectArray}}class _1 extends bt.XFAObject{constructor(Lt){super(Dt,"solid",!0),this.id=Lt.id||"",this.use=Lt.use||"",this.usehref=Lt.usehref||"",this.extras=null}[wt.$toStyle](Lt){return Lt?Lt[wt.$toStyle]():"#FFFFFF"}}class Xp extends bt.StringObject{constructor(Lt){super(Dt,"speak"),this.disable=(0,Ft.getInteger)({data:Lt.disable,defaultValue:0,validate:yn=>yn===1}),this.id=Lt.id||"",this.priority=(0,Ft.getStringOption)(Lt.priority,["custom","caption","name","toolTip"]),this.rid=Lt.rid||"",this.use=Lt.use||"",this.usehref=Lt.usehref||""}}class vu extends bt.XFAObject{constructor(Lt){super(Dt,"stipple",!0),this.id=Lt.id||"",this.rate=(0,Ft.getInteger)({data:Lt.rate,defaultValue:50,validate:yn=>yn>=0&&yn<=100}),this.use=Lt.use||"",this.usehref=Lt.usehref||"",this.color=null,this.extras=null}[wt.$toStyle](Lt){const yn=this.rate/100;return Xt.Util.makeHexColor(Math.round(Lt.value.r*(1-yn)+this.value.r*yn),Math.round(Lt.value.g*(1-yn)+this.value.g*yn),Math.round(Lt.value.b*(1-yn)+this.value.b*yn))}}class R1 extends bt.XFAObject{constructor(Lt){super(Dt,"subform",!0),this.access=(0,Ft.getStringOption)(Lt.access,["open","nonInteractive","protected","readOnly"]),this.allowMacro=(0,Ft.getInteger)({data:Lt.allowMacro,defaultValue:0,validate:yn=>yn===1}),this.anchorType=(0,Ft.getStringOption)(Lt.anchorType,["topLeft","bottomCenter","bottomLeft","bottomRight","middleCenter","middleLeft","middleRight","topCenter","topRight"]),this.colSpan=(0,Ft.getInteger)({data:Lt.colSpan,defaultValue:1,validate:yn=>yn>=1||yn===-1}),this.columnWidths=(Lt.columnWidths||"").trim().split(/\s+/).map(yn=>yn==="-1"?-1:(0,Ft.getMeasurement)(yn)),this.h=Lt.h?(0,Ft.getMeasurement)(Lt.h):"",this.hAlign=(0,Ft.getStringOption)(Lt.hAlign,["left","center","justify","justifyAll","radix","right"]),this.id=Lt.id||"",this.layout=(0,Ft.getStringOption)(Lt.layout,["position","lr-tb","rl-row","rl-tb","row","table","tb"]),this.locale=Lt.locale||"",this.maxH=(0,Ft.getMeasurement)(Lt.maxH,"0pt"),this.maxW=(0,Ft.getMeasurement)(Lt.maxW,"0pt"),this.mergeMode=(0,Ft.getStringOption)(Lt.mergeMode,["consumeData","matchTemplate"]),this.minH=(0,Ft.getMeasurement)(Lt.minH,"0pt"),this.minW=(0,Ft.getMeasurement)(Lt.minW,"0pt"),this.name=Lt.name||"",this.presence=(0,Ft.getStringOption)(Lt.presence,["visible","hidden","inactive","invisible"]),this.relevant=(0,Ft.getRelevant)(Lt.relevant),this.restoreState=(0,Ft.getStringOption)(Lt.restoreState,["manual","auto"]),this.scope=(0,Ft.getStringOption)(Lt.scope,["name","none"]),this.use=Lt.use||"",this.usehref=Lt.usehref||"",this.w=Lt.w?(0,Ft.getMeasurement)(Lt.w):"",this.x=(0,Ft.getMeasurement)(Lt.x,"0pt"),this.y=(0,Ft.getMeasurement)(Lt.y,"0pt"),this.assist=null,this.bind=null,this.bookend=null,this.border=null,this.break=null,this.calculate=null,this.desc=null,this.extras=null,this.keep=null,this.margin=null,this.occur=null,this.overflow=null,this.pageSet=null,this.para=null,this.traversal=null,this.validate=null,this.variables=null,this.area=new bt.XFAObjectArray,this.breakAfter=new bt.XFAObjectArray,this.breakBefore=new bt.XFAObjectArray,this.connect=new bt.XFAObjectArray,this.draw=new bt.XFAObjectArray,this.event=new bt.XFAObjectArray,this.exObject=new bt.XFAObjectArray,this.exclGroup=new bt.XFAObjectArray,this.field=new bt.XFAObjectArray,this.proto=new bt.XFAObjectArray,this.setProperty=new bt.XFAObjectArray,this.subform=new bt.XFAObjectArray,this.subformSet=new bt.XFAObjectArray}[wt.$getSubformParent](){const Lt=this[wt.$getParent]();return Lt instanceof wu?Lt[wt.$getSubformParent]():Lt}[wt.$isBindable](){return!0}[wt.$isThereMoreWidth](){return this.layout.endsWith("-tb")&&this[wt.$extra].attempt===0&&this[wt.$extra].numberInLine>0||this[wt.$getParent]()[wt.$isThereMoreWidth]()}*[wt.$getContainedChildren](){yield*bn(this)}[wt.$flushHTML](){return(0,Pt.flushHTML)(this)}[wt.$addHTML](Lt,yn){(0,Pt.addHTML)(this,Lt,yn)}[wt.$getAvailableSpace](){return(0,Pt.getAvailableSpace)(this)}[wt.$isSplittable](){var yn;const Lt=this[wt.$getSubformParent]();return Lt[wt.$isSplittable]()?this[wt.$extra]._isSplittable!==void 0?this[wt.$extra]._isSplittable:this.layout==="position"||this.layout.includes("row")?(this[wt.$extra]._isSplittable=!1,!1):this.keep&&this.keep.intact!=="none"?(this[wt.$extra]._isSplittable=!1,!1):(yn=Lt.layout)!=null&&yn.endsWith("-tb")&&Lt[wt.$extra].numberInLine!==0?!1:(this[wt.$extra]._isSplittable=!0,!0):!1}[wt.$toHTML](Lt){var Br;if(Yt(this),this.break){if(this.break.after!=="auto"||this.break.afterTarget!==""){const Nr=new Tn({targetType:this.break.after,target:this.break.afterTarget,startNew:this.break.startNew.toString()});Nr[wt.$globalData]=this[wt.$globalData],this[wt.$appendChild](Nr),this.breakAfter.push(Nr)}if(this.break.before!=="auto"||this.break.beforeTarget!==""){const Nr=new Sn({targetType:this.break.before,target:this.break.beforeTarget,startNew:this.break.startNew.toString()});Nr[wt.$globalData]=this[wt.$globalData],this[wt.$appendChild](Nr),this.breakBefore.push(Nr)}if(this.break.overflowTarget!==""){const Nr=new bs({target:this.break.overflowTarget,leader:this.break.overflowLeader,trailer:this.break.overflowTrailer});Nr[wt.$globalData]=this[wt.$globalData],this[wt.$appendChild](Nr),this.overflow.push(Nr)}this[wt.$removeChild](this.break),this.break=null}if(this.presence==="hidden"||this.presence==="inactive")return Ft.HTMLResult.EMPTY;if((this.breakBefore.children.length>1||this.breakAfter.children.length>1)&&(0,Xt.warn)("XFA - Several breakBefore or breakAfter in subforms: please file a bug."),this.breakBefore.children.length>=1){const Nr=this.breakBefore.children[0];if(Ht(Nr))return Ft.HTMLResult.breakNode(Nr)}if((Br=this[wt.$extra])!=null&&Br.afterBreakAfter)return Ft.HTMLResult.EMPTY;(0,_e.fixDimensions)(this);const yn=[],qn={id:this[wt.$uid],class:[]};(0,_e.setAccess)(this,qn.class),this[wt.$extra]||(this[wt.$extra]=Object.create(null)),Object.assign(this[wt.$extra],{children:yn,line:null,attributes:qn,attempt:0,numberInLine:0,availableSpace:{width:Math.min(this.w||1/0,Lt.width),height:Math.min(this.h||1/0,Lt.height)},width:0,height:0,prevHeight:0,currentWidth:0});const _i=this[wt.$getTemplateRoot](),Kn=_i[wt.$extra].noLayoutFailure,ir=this[wt.$isSplittable]();if(ir||zt(this),!(0,Pt.checkDimensions)(this,Lt))return Ft.HTMLResult.FAILURE;const ar=new Set(["area","draw","exclGroup","field","subform","subformSet"]);if(this.layout.includes("row")){const Nr=this[wt.$getSubformParent]().columnWidths;Array.isArray(Nr)&&Nr.length>0&&(this[wt.$extra].columnWidths=Nr,this[wt.$extra].currentColumn=0)}const gr=(0,_e.toStyle)(this,"anchorType","dimensions","position","presence","border","margin","hAlign"),mr=["xfaSubform"],br=(0,_e.layoutClass)(this);if(br&&mr.push(br),qn.style=gr,qn.class=mr,this.name&&(qn.xfaName=this.name),this.overflow){const Nr=this.overflow[wt.$getExtra]();Nr.addLeader&&(Nr.addLeader=!1,Wt(this,Nr.leader,Lt))}this[wt.$pushPara]();const Ir=this.layout==="lr-tb"||this.layout==="rl-tb",Cr=Ir?Ct:1;for(;this[wt.$extra].attempt<Cr;this[wt.$extra].attempt++){Ir&&this[wt.$extra].attempt===Ct-1&&(this[wt.$extra].numberInLine=0);const Nr=this[wt.$childrenToHTML]({filter:ar,include:!0});if(Nr.success)break;if(Nr.isBreak())return this[wt.$popPara](),Nr;if(Ir&&this[wt.$extra].attempt===0&&this[wt.$extra].numberInLine===0&&!_i[wt.$extra].noLayoutFailure){this[wt.$extra].attempt=Cr;break}}if(this[wt.$popPara](),ir||an(this),_i[wt.$extra].noLayoutFailure=Kn,this[wt.$extra].attempt===Cr)return this.overflow&&(this[wt.$getTemplateRoot]()[wt.$extra].overflowNode=this.overflow),ir||delete this[wt.$extra],Ft.HTMLResult.FAILURE;if(this.overflow){const Nr=this.overflow[wt.$getExtra]();Nr.addTrailer&&(Nr.addTrailer=!1,Wt(this,Nr.trailer,Lt))}let kr=0,ts=0;this.margin&&(kr=this.margin.leftInset+this.margin.rightInset,ts=this.margin.topInset+this.margin.bottomInset);const Mr=Math.max(this[wt.$extra].width+kr,this.w||0),Gr=Math.max(this[wt.$extra].height+ts,this.h||0),Xr=[this.x,this.y,Mr,Gr];if(this.w===""&&(gr.width=(0,_e.measureToString)(Mr)),this.h===""&&(gr.height=(0,_e.measureToString)(Gr)),(gr.width==="0px"||gr.height==="0px")&&yn.length===0)return Ft.HTMLResult.EMPTY;const Hr={name:"div",attributes:qn,children:yn};hn(this,qn);const Qr=Ft.HTMLResult.success((0,_e.createWrapper)(this,Hr),Xr);if(this.breakAfter.children.length>=1){const Nr=this.breakAfter.children[0];if(Ht(Nr))return this[wt.$extra].afterBreakAfter=Qr,Ft.HTMLResult.breakNode(Nr)}return delete this[wt.$extra],Qr}}class wu extends bt.XFAObject{constructor(Lt){super(Dt,"subformSet",!0),this.id=Lt.id||"",this.name=Lt.name||"",this.relation=(0,Ft.getStringOption)(Lt.relation,["ordered","choice","unordered"]),this.relevant=(0,Ft.getRelevant)(Lt.relevant),this.use=Lt.use||"",this.usehref=Lt.usehref||"",this.bookend=null,this.break=null,this.desc=null,this.extras=null,this.occur=null,this.overflow=null,this.breakAfter=new bt.XFAObjectArray,this.breakBefore=new bt.XFAObjectArray,this.subform=new bt.XFAObjectArray,this.subformSet=new bt.XFAObjectArray}*[wt.$getContainedChildren](){yield*bn(this)}[wt.$getSubformParent](){let Lt=this[wt.$getParent]();for(;!(Lt instanceof R1);)Lt=Lt[wt.$getParent]();return Lt}[wt.$isBindable](){return!0}}class zl extends bt.ContentObject{constructor(Lt){super(Dt,"subjectDN"),this.delimiter=Lt.delimiter||",",this.id=Lt.id||"",this.name=Lt.name||"",this.use=Lt.use||"",this.usehref=Lt.usehref||""}[wt.$finalize](){this[wt.$content]=new Map(this[wt.$content].split(this.delimiter).map(Lt=>(Lt=Lt.split("=",2),Lt[0]=Lt[0].trim(),Lt)))}}class Wp extends bt.XFAObject{constructor(Lt){super(Dt,"subjectDNs",!0),this.id=Lt.id||"",this.type=(0,Ft.getStringOption)(Lt.type,["optional","required"]),this.use=Lt.use||"",this.usehref=Lt.usehref||"",this.subjectDN=new bt.XFAObjectArray}}class F1 extends bt.XFAObject{constructor(Lt){super(Dt,"submit",!0),this.embedPDF=(0,Ft.getInteger)({data:Lt.embedPDF,defaultValue:0,validate:yn=>yn===1}),this.format=(0,Ft.getStringOption)(Lt.format,["xdp","formdata","pdf","urlencoded","xfd","xml"]),this.id=Lt.id||"",this.target=Lt.target||"",this.textEncoding=(0,Ft.getKeyword)({data:Lt.textEncoding?Lt.textEncoding.toLowerCase():"",defaultValue:"",validate:yn=>["utf-8","big-five","fontspecific","gbk","gb-18030","gb-2312","ksc-5601","none","shift-jis","ucs-2","utf-16"].includes(yn)||yn.match(/iso-8859-\d{2}/)}),this.use=Lt.use||"",this.usehref=Lt.usehref||"",this.xdpContent=Lt.xdpContent||"",this.encrypt=null,this.encryptData=new bt.XFAObjectArray,this.signData=new bt.XFAObjectArray}}class Au extends bt.XFAObject{constructor(Lt){super(Dt,"template",!0),this.baseProfile=(0,Ft.getStringOption)(Lt.baseProfile,["full","interactiveForms"]),this.extras=null,this.subform=new bt.XFAObjectArray}[wt.$finalize](){this.subform.children.length===0&&(0,Xt.warn)("XFA - No subforms in template node."),this.subform.children.length>=2&&(0,Xt.warn)("XFA - Several subforms in template node: please file a bug."),this[wt.$tabIndex]=Bt}[wt.$isSplittable](){return!0}[wt.$searchNode](Lt,yn){return Lt.startsWith("#")?[this[wt.$ids].get(Lt.slice(1))]:(0,$t.searchNode)(this,yn,Lt,!0,!0)}*[wt.$toPages](){var ts,Mr,Gr;if(!this.subform.children.length)return Ft.HTMLResult.success({name:"div",children:[]});this[wt.$extra]={overflowNode:null,firstUnsplittable:null,currentContentArea:null,currentPageArea:null,noLayoutFailure:!1,pageNumber:1,pagePosition:"first",oddOrEven:"odd",blankOrNotBlank:"nonBlank",paraStack:[]};const Lt=this.subform.children[0];Lt.pageSet[wt.$cleanPage]();const yn=Lt.pageSet.pageArea.children,qn={name:"div",children:[]};let _i=null,Kn=null,ir=null;if(Lt.breakBefore.children.length>=1?(Kn=Lt.breakBefore.children[0],ir=Kn.target):Lt.subform.children.length>=1&&Lt.subform.children[0].breakBefore.children.length>=1?(Kn=Lt.subform.children[0].breakBefore.children[0],ir=Kn.target):(ts=Lt.break)!=null&&ts.beforeTarget?(Kn=Lt.break,ir=Kn.beforeTarget):Lt.subform.children.length>=1&&((Mr=Lt.subform.children[0].break)!=null&&Mr.beforeTarget)&&(Kn=Lt.subform.children[0].break,ir=Kn.beforeTarget),Kn){const Xr=this[wt.$searchNode](ir,Kn[wt.$getParent]());Xr instanceof Jr&&(_i=Xr,Kn[wt.$extra]={})}_i||(_i=yn[0]),_i[wt.$extra]={numberOfUse:1};const ar=_i[wt.$getParent]();ar[wt.$extra]={numberOfUse:1,pageIndex:ar.pageArea.children.indexOf(_i),pageSetIndex:0};let gr,mr=null,br=null,Ir=!0,Cr=0,kr=0;for(;;){if(Ir)Cr=0;else if(qn.children.pop(),++Cr===qt)return(0,Xt.warn)("XFA - Something goes wrong: please file a bug."),qn;gr=null,this[wt.$extra].currentPageArea=_i;const Xr=_i[wt.$toHTML]().html;qn.children.push(Xr),mr&&(this[wt.$extra].noLayoutFailure=!0,Xr.children.push(mr[wt.$toHTML](_i[wt.$extra].space).html),mr=null),br&&(this[wt.$extra].noLayoutFailure=!0,Xr.children.push(br[wt.$toHTML](_i[wt.$extra].space).html),br=null);const Hr=_i.contentArea.children,Qr=Xr.children.filter(Nr=>Nr.attributes.class.includes("xfaContentarea"));Ir=!1,this[wt.$extra].firstUnsplittable=null,this[wt.$extra].noLayoutFailure=!1;const Br=Nr=>{var ks;const Es=Lt[wt.$flushHTML]();Es&&(Ir||(Ir=((ks=Es.children)==null?void 0:ks.length)>0),Qr[Nr].children.push(Es))};for(let Nr=kr,Es=Hr.length;Nr<Es;Nr++){const ks=this[wt.$extra].currentContentArea=Hr[Nr],Fs={width:ks.w,height:ks.h};kr=0,mr&&(Qr[Nr].children.push(mr[wt.$toHTML](Fs).html),mr=null),br&&(Qr[Nr].children.push(br[wt.$toHTML](Fs).html),br=null);const Rs=Lt[wt.$toHTML](Fs);if(Rs.success)return Rs.html?(Ir||(Ir=((Gr=Rs.html.children)==null?void 0:Gr.length)>0),Qr[Nr].children.push(Rs.html)):!Ir&&qn.children.length>1&&qn.children.pop(),qn;if(Rs.isBreak()){const Is=Rs.breakNode;if(Br(Nr),Is.targetType==="auto")continue;Is.leader&&(mr=this[wt.$searchNode](Is.leader,Is[wt.$getParent]()),mr=mr?mr[0]:null),Is.trailer&&(br=this[wt.$searchNode](Is.trailer,Is[wt.$getParent]()),br=br?br[0]:null),Is.targetType==="pageArea"?(gr=Is[wt.$extra].target,Nr=1/0):Is[wt.$extra].target?(gr=Is[wt.$extra].target,kr=Is[wt.$extra].index+1,Nr=1/0):Nr=Is[wt.$extra].index;continue}if(this[wt.$extra].overflowNode){const Is=this[wt.$extra].overflowNode;this[wt.$extra].overflowNode=null;const Us=Is[wt.$getExtra](),Zs=Us.target;Us.addLeader=Us.leader!==null,Us.addTrailer=Us.trailer!==null,Br(Nr);const eo=Nr;if(Nr=1/0,Zs instanceof Jr)gr=Zs;else if(Zs instanceof _n){const Js=Hr.indexOf(Zs);Js!==-1?Js>eo?Nr=Js-1:kr=Js:(gr=Zs[wt.$getParent](),kr=gr.contentArea.children.indexOf(Zs))}continue}Br(Nr)}this[wt.$extra].pageNumber+=1,gr&&(gr[wt.$isUsable]()?gr[wt.$extra].numberOfUse+=1:gr=null),_i=gr||_i[wt.$getNextPage](),yield null}}}Et.Template=Au;class c0 extends bt.ContentObject{constructor(Lt){super(Dt,"text"),this.id=Lt.id||"",this.maxChars=(0,Ft.getInteger)({data:Lt.maxChars,defaultValue:0,validate:yn=>yn>=0}),this.name=Lt.name||"",this.rid=Lt.rid||"",this.use=Lt.use||"",this.usehref=Lt.usehref||""}[wt.$acceptWhitespace](){return!0}[wt.$onChild](Lt){return Lt[wt.$namespaceId]===_t.NamespaceIds.xhtml.id?(this[wt.$content]=Lt,!0):((0,Xt.warn)(`XFA - Invalid content in Text: ${Lt[wt.$nodeName]}.`),!1)}[wt.$onText](Lt){this[wt.$content]instanceof bt.XFAObject||super[wt.$onText](Lt)}[wt.$finalize](){typeof this[wt.$content]=="string"&&(this[wt.$content]=this[wt.$content].replaceAll(`\r
`,`
`))}[wt.$getExtra](){return typeof this[wt.$content]=="string"?this[wt.$content].split(/[\u2029\u2028\n]/).reduce((Lt,yn)=>(yn&&Lt.push(yn),Lt),[]).join(`
`):this[wt.$content][wt.$text]()}[wt.$toHTML](Lt){if(typeof this[wt.$content]=="string"){const yn=Ot(this[wt.$content]).html;return this[wt.$content].includes("\u2029")?(yn.name="div",yn.children=[],this[wt.$content].split("\u2029").map(qn=>qn.split(/[\u2028\n]/).reduce((_i,Kn)=>(_i.push({name:"span",value:Kn},{name:"br"}),_i),[])).forEach(qn=>{yn.children.push({name:"p",children:qn})})):/[\u2028\n]/.test(this[wt.$content])&&(yn.name="div",yn.children=[],this[wt.$content].split(/[\u2028\n]/).forEach(qn=>{yn.children.push({name:"span",value:qn},{name:"br"})})),Ft.HTMLResult.success(yn)}return this[wt.$content][wt.$toHTML](Lt)}}Et.Text=c0;class z0 extends bt.XFAObject{constructor(Lt){super(Dt,"textEdit",!0),this.allowRichText=(0,Ft.getInteger)({data:Lt.allowRichText,defaultValue:0,validate:yn=>yn===1}),this.hScrollPolicy=(0,Ft.getStringOption)(Lt.hScrollPolicy,["auto","off","on"]),this.id=Lt.id||"",this.multiLine=(0,Ft.getInteger)({data:Lt.multiLine,defaultValue:"",validate:yn=>yn===0||yn===1}),this.use=Lt.use||"",this.usehref=Lt.usehref||"",this.vScrollPolicy=(0,Ft.getStringOption)(Lt.vScrollPolicy,["auto","off","on"]),this.border=null,this.comb=null,this.extras=null,this.margin=null}[wt.$toHTML](Lt){var Kn,ir;const yn=(0,_e.toStyle)(this,"border","font","margin");let qn;const _i=this[wt.$getParent]()[wt.$getParent]();return this.multiLine===""&&(this.multiLine=_i instanceof Xn?1:0),this.multiLine===1?qn={name:"textarea",attributes:{dataId:((Kn=_i[wt.$data])==null?void 0:Kn[wt.$uid])||_i[wt.$uid],fieldId:_i[wt.$uid],class:["xfaTextfield"],style:yn,"aria-label":Ut(_i),"aria-required":!1}}:qn={name:"input",attributes:{type:"text",dataId:((ir=_i[wt.$data])==null?void 0:ir[wt.$uid])||_i[wt.$uid],fieldId:_i[wt.$uid],class:["xfaTextfield"],style:yn,"aria-label":Ut(_i),"aria-required":!1}},Vt(_i)&&(qn.attributes["aria-required"]=!0,qn.attributes.required=!0),Ft.HTMLResult.success({name:"label",attributes:{class:["xfaLabel"]},children:[qn]})}}class Vp extends bt.StringObject{constructor(Lt){super(Dt,"time"),this.id=Lt.id||"",this.name=Lt.name||"",this.use=Lt.use||"",this.usehref=Lt.usehref||""}[wt.$finalize](){const Lt=this[wt.$content].trim();this[wt.$content]=Lt?new Date(Lt):null}[wt.$toHTML](Lt){return Ot(this[wt.$content]?this[wt.$content].toString():"")}}class P1 extends bt.XFAObject{constructor(Lt){super(Dt,"timeStamp"),this.id=Lt.id||"",this.server=Lt.server||"",this.type=(0,Ft.getStringOption)(Lt.type,["optional","required"]),this.use=Lt.use||"",this.usehref=Lt.usehref||""}}class I1 extends bt.StringObject{constructor(Lt){super(Dt,"toolTip"),this.id=Lt.id||"",this.rid=Lt.rid||"",this.use=Lt.use||"",this.usehref=Lt.usehref||""}}class Su extends bt.XFAObject{constructor(Lt){super(Dt,"traversal",!0),this.id=Lt.id||"",this.use=Lt.use||"",this.usehref=Lt.usehref||"",this.extras=null,this.traverse=new bt.XFAObjectArray}}class Gp extends bt.XFAObject{constructor(Lt){super(Dt,"traverse",!0),this.id=Lt.id||"",this.operation=(0,Ft.getStringOption)(Lt.operation,["next","back","down","first","left","right","up"]),this.ref=Lt.ref||"",this.use=Lt.use||"",this.usehref=Lt.usehref||"",this.extras=null,this.script=null}get name(){return this.operation}[wt.$isTransparent](){return!1}}class Eu extends bt.XFAObject{constructor(Lt){super(Dt,"ui",!0),this.id=Lt.id||"",this.use=Lt.use||"",this.usehref=Lt.usehref||"",this.extras=null,this.picture=null,this.barcode=null,this.button=null,this.checkButton=null,this.choiceList=null,this.dateTimeEdit=null,this.defaultUi=null,this.imageEdit=null,this.numericEdit=null,this.passwordEdit=null,this.signature=null,this.textEdit=null}[wt.$getExtra](){if(this[wt.$extra]===void 0){for(const Lt of Object.getOwnPropertyNames(this)){if(Lt==="extras"||Lt==="picture")continue;const yn=this[Lt];if(yn instanceof bt.XFAObject)return this[wt.$extra]=yn,yn}this[wt.$extra]=null}return this[wt.$extra]}[wt.$toHTML](Lt){const yn=this[wt.$getExtra]();return yn?yn[wt.$toHTML](Lt):Ft.HTMLResult.EMPTY}}class qp extends bt.XFAObject{constructor(Lt){super(Dt,"validate",!0),this.formatTest=(0,Ft.getStringOption)(Lt.formatTest,["warning","disabled","error"]),this.id=Lt.id||"",this.nullTest=(0,Ft.getStringOption)(Lt.nullTest,["disabled","error","warning"]),this.scriptTest=(0,Ft.getStringOption)(Lt.scriptTest,["error","disabled","warning"]),this.use=Lt.use||"",this.usehref=Lt.usehref||"",this.extras=null,this.message=null,this.picture=null,this.script=null}}class jn extends bt.XFAObject{constructor(Lt){super(Dt,"value",!0),this.id=Lt.id||"",this.override=(0,Ft.getInteger)({data:Lt.override,defaultValue:0,validate:yn=>yn===1}),this.relevant=(0,Ft.getRelevant)(Lt.relevant),this.use=Lt.use||"",this.usehref=Lt.usehref||"",this.arc=null,this.boolean=null,this.date=null,this.dateTime=null,this.decimal=null,this.exData=null,this.float=null,this.image=null,this.integer=null,this.line=null,this.rectangle=null,this.text=null,this.time=null}[wt.$setValue](Lt){var _i;const yn=this[wt.$getParent]();if(yn instanceof or&&(_i=yn.ui)!=null&&_i.imageEdit){this.image||(this.image=new Er({}),this[wt.$appendChild](this.image)),this.image[wt.$content]=Lt[wt.$content];return}const qn=Lt[wt.$nodeName];if(this[qn]!==null){this[qn][wt.$content]=Lt[wt.$content];return}for(const Kn of Object.getOwnPropertyNames(this)){const ir=this[Kn];ir instanceof bt.XFAObject&&(this[Kn]=null,this[wt.$removeChild](ir))}this[Lt[wt.$nodeName]]=Lt,this[wt.$appendChild](Lt)}[wt.$text](){if(this.exData)return typeof this.exData[wt.$content]=="string"?this.exData[wt.$content].trim():this.exData[wt.$content][wt.$text]().trim();for(const Lt of Object.getOwnPropertyNames(this)){if(Lt==="image")continue;const yn=this[Lt];if(yn instanceof bt.XFAObject)return(yn[wt.$content]||"").toString().trim()}return null}[wt.$toHTML](Lt){for(const yn of Object.getOwnPropertyNames(this)){const qn=this[yn];if(qn instanceof bt.XFAObject)return qn[wt.$toHTML](Lt)}return Ft.HTMLResult.EMPTY}}Et.Value=jn;class Gn extends bt.XFAObject{constructor(Lt){super(Dt,"variables",!0),this.id=Lt.id||"",this.use=Lt.use||"",this.usehref=Lt.usehref||"",this.boolean=new bt.XFAObjectArray,this.date=new bt.XFAObjectArray,this.dateTime=new bt.XFAObjectArray,this.decimal=new bt.XFAObjectArray,this.exData=new bt.XFAObjectArray,this.float=new bt.XFAObjectArray,this.image=new bt.XFAObjectArray,this.integer=new bt.XFAObjectArray,this.manifest=new bt.XFAObjectArray,this.script=new bt.XFAObjectArray,this.text=new bt.XFAObjectArray,this.time=new bt.XFAObjectArray}[wt.$isTransparent](){return!0}}class rr{static[_t.$buildXFAObject](Lt,yn){if(rr.hasOwnProperty(Lt)){const qn=rr[Lt](yn);return qn[wt.$setSetAttributes](yn),qn}}static appearanceFilter(Lt){return new tn(Lt)}static arc(Lt){return new ln(Lt)}static area(Lt){return new on(Lt)}static assist(Lt){return new cn(Lt)}static barcode(Lt){return new sn(Lt)}static bind(Lt){return new rn(Lt)}static bindItems(Lt){return new xn(Lt)}static bookend(Lt){return new vn(Lt)}static boolean(Lt){return new En(Lt)}static border(Lt){return new Fn(Lt)}static break(Lt){return new Mn(Lt)}static breakAfter(Lt){return new Tn(Lt)}static breakBefore(Lt){return new Sn(Lt)}static button(Lt){return new mn(Lt)}static calculate(Lt){return new fn(Lt)}static caption(Lt){return new Jt(Lt)}static certificate(Lt){return new un(Lt)}static certificates(Lt){return new pn(Lt)}static checkButton(Lt){return new wn(Lt)}static choiceList(Lt){return new kn(Lt)}static color(Lt){return new Rn(Lt)}static comb(Lt){return new Cn(Lt)}static connect(Lt){return new An(Lt)}static contentArea(Lt){return new _n(Lt)}static corner(Lt){return new In(Lt)}static date(Lt){return new Pn(Lt)}static dateTime(Lt){return new Dn(Lt)}static dateTimeEdit(Lt){return new Ln(Lt)}static decimal(Lt){return new Un(Lt)}static defaultUi(Lt){return new tr(Lt)}static desc(Lt){return new er(Lt)}static digestMethod(Lt){return new Qn(Lt)}static digestMethods(Lt){return new Yn(Lt)}static draw(Lt){return new Xn(Lt)}static edge(Lt){return new nr(Lt)}static encoding(Lt){return new lr(Lt)}static encodings(Lt){return new dr(Lt)}static encrypt(Lt){return new Bn(Lt)}static encryptData(Lt){return new Hn(Lt)}static encryption(Lt){return new Wn(Lt)}static encryptionMethod(Lt){return new cr(Lt)}static encryptionMethods(Lt){return new sr(Lt)}static event(Lt){return new xr(Lt)}static exData(Lt){return new Jn(Lt)}static exObject(Lt){return new Vn(Lt)}static exclGroup(Lt){return new Zn(Lt)}static execute(Lt){return new ur(Lt)}static extras(Lt){return new hr(Lt)}static field(Lt){return new or(Lt)}static fill(Lt){return new pr(Lt)}static filter(Lt){return new wr(Lt)}static float(Lt){return new fr(Lt)}static font(Lt){return new Ar(Lt)}static format(Lt){return new Lr(Lt)}static handler(Lt){return new Fr(Lt)}static hyphenation(Lt){return new $r(Lt)}static image(Lt){return new Er(Lt)}static imageEdit(Lt){return new _r(Lt)}static integer(Lt){return new Rr(Lt)}static issuers(Lt){return new qr(Lt)}static items(Lt){return new vs(Lt)}static keep(Lt){return new ls(Lt)}static keyUsage(Lt){return new ns(Lt)}static line(Lt){return new Ns(Lt)}static linear(Lt){return new Gs(Lt)}static lockDocument(Lt){return new vr(Lt)}static manifest(Lt){return new yr(Lt)}static margin(Lt){return new Sr(Lt)}static mdp(Lt){return new Pr(Lt)}static medium(Lt){return new jr(Lt)}static message(Lt){return new es(Lt)}static numericEdit(Lt){return new Or(Lt)}static occur(Lt){return new Tr(Lt)}static oid(Lt){return new Vr(Lt)}static oids(Lt){return new us(Lt)}static overflow(Lt){return new bs(Lt)}static pageArea(Lt){return new Jr(Lt)}static pageSet(Lt){return new ss(Lt)}static para(Lt){return new ms(Lt)}static passwordEdit(Lt){return new Wr(Lt)}static pattern(Lt){return new hs(Lt)}static picture(Lt){return new zr(Lt)}static proto(Lt){return new gs(Lt)}static radial(Lt){return new ws(Lt)}static reason(Lt){return new io(Lt)}static reasons(Lt){return new ds(Lt)}static rectangle(Lt){return new fs(Lt)}static ref(Lt){return new $s(Lt)}static script(Lt){return new Ys(Lt)}static setProperty(Lt){return new wo(Lt)}static signData(Lt){return new Tl(Lt)}static signature(Lt){return new zp(Lt)}static signing(Lt){return new T1(Lt)}static solid(Lt){return new _1(Lt)}static speak(Lt){return new Xp(Lt)}static stipple(Lt){return new vu(Lt)}static subform(Lt){return new R1(Lt)}static subformSet(Lt){return new wu(Lt)}static subjectDN(Lt){return new zl(Lt)}static subjectDNs(Lt){return new Wp(Lt)}static submit(Lt){return new F1(Lt)}static template(Lt){return new Au(Lt)}static text(Lt){return new c0(Lt)}static textEdit(Lt){return new z0(Lt)}static time(Lt){return new Vp(Lt)}static timeStamp(Lt){return new P1(Lt)}static toolTip(Lt){return new I1(Lt)}static traversal(Lt){return new Su(Lt)}static traverse(Lt){return new Gp(Lt)}static ui(Lt){return new Eu(Lt)}static validate(Lt){return new qp(Lt)}static value(Lt){return new jn(Lt)}static variables(Lt){return new Gn(Lt)}}Et.TemplateNamespace=rr},(kt,Et)=>{Object.defineProperty(Et,"__esModule",{value:!0}),Et.NamespaceIds=Et.$buildXFAObject=void 0;const Rt=Symbol();Et.$buildXFAObject=Rt;const wt={config:{id:0,check:_t=>_t.startsWith("http://www.xfa.org/schema/xci/")},connectionSet:{id:1,check:_t=>_t.startsWith("http://www.xfa.org/schema/xfa-connection-set/")},datasets:{id:2,check:_t=>_t.startsWith("http://www.xfa.org/schema/xfa-data/")},form:{id:3,check:_t=>_t.startsWith("http://www.xfa.org/schema/xfa-form/")},localeSet:{id:4,check:_t=>_t.startsWith("http://www.xfa.org/schema/xfa-locale-set/")},pdf:{id:5,check:_t=>_t==="http://ns.adobe.com/xdp/pdf/"},signature:{id:6,check:_t=>_t==="http://www.w3.org/2000/09/xmldsig#"},sourceSet:{id:7,check:_t=>_t.startsWith("http://www.xfa.org/schema/xfa-source-set/")},stylesheet:{id:8,check:_t=>_t==="http://www.w3.org/1999/XSL/Transform"},template:{id:9,check:_t=>_t.startsWith("http://www.xfa.org/schema/xfa-template/")},xdc:{id:10,check:_t=>_t.startsWith("http://www.xfa.org/schema/xdc/")},xdp:{id:11,check:_t=>_t==="http://ns.adobe.com/xdp/"},xfdf:{id:12,check:_t=>_t==="http://ns.adobe.com/xfdf/"},xhtml:{id:13,check:_t=>_t==="http://www.w3.org/1999/xhtml"},xmpmeta:{id:14,check:_t=>_t==="http://ns.adobe.com/xmpmeta/"}};Et.NamespaceIds=wt},(kt,Et,Rt)=>{Object.defineProperty(Et,"__esModule",{value:!0}),Et.addHTML=bt,Et.checkDimensions=Kt,Et.flushHTML=_e,Et.getAvailableSpace=Ft;var wt=Rt(78),_t=Rt(83);function Pt(Nt,$t){return{name:"div",attributes:{class:[Nt.layout==="lr-tb"?"xfaLr":"xfaRl"]},children:$t}}function _e(Nt){if(!Nt[wt.$extra])return null;const Dt={name:"div",attributes:Nt[wt.$extra].attributes,children:Nt[wt.$extra].children};if(Nt[wt.$extra].failingNode){const jt=Nt[wt.$extra].failingNode[wt.$flushHTML]();jt&&(Nt.layout.endsWith("-tb")?Dt.children.push(Pt(Nt,[jt])):Dt.children.push(jt))}return Dt.children.length===0?null:Dt}function bt(Nt,$t,Dt){const jt=Nt[wt.$extra],Ct=jt.availableSpace,[qt,Bt,Gt,en]=Dt;switch(Nt.layout){case"position":{jt.width=Math.max(jt.width,qt+Gt),jt.height=Math.max(jt.height,Bt+en),jt.children.push($t);break}case"lr-tb":case"rl-tb":(!jt.line||jt.attempt===1)&&(jt.line=Pt(Nt,[]),jt.children.push(jt.line),jt.numberInLine=0),jt.numberInLine+=1,jt.line.children.push($t),jt.attempt===0?(jt.currentWidth+=Gt,jt.height=Math.max(jt.height,jt.prevHeight+en)):(jt.currentWidth=Gt,jt.prevHeight=jt.height,jt.height+=en,jt.attempt=0),jt.width=Math.max(jt.width,jt.currentWidth);break;case"rl-row":case"row":{jt.children.push($t),jt.width+=Gt,jt.height=Math.max(jt.height,en);const dn=(0,_t.measureToString)(jt.height);for(const Qt of jt.children)Qt.attributes.style.height=dn;break}case"table":{jt.width=Math.min(Ct.width,Math.max(jt.width,Gt)),jt.height+=en,jt.children.push($t);break}case"tb":{jt.width=Math.min(Ct.width,Math.max(jt.width,Gt)),jt.height+=en,jt.children.push($t);break}}}function Ft(Nt){const $t=Nt[wt.$extra].availableSpace,Dt=Nt.margin?Nt.margin.topInset+Nt.margin.bottomInset:0,jt=Nt.margin?Nt.margin.leftInset+Nt.margin.rightInset:0;switch(Nt.layout){case"lr-tb":case"rl-tb":return Nt[wt.$extra].attempt===0?{width:$t.width-jt-Nt[wt.$extra].currentWidth,height:$t.height-Dt-Nt[wt.$extra].prevHeight}:{width:$t.width-jt,height:$t.height-Dt-Nt[wt.$extra].height};case"rl-row":case"row":return{width:Nt[wt.$extra].columnWidths.slice(Nt[wt.$extra].currentColumn).reduce((qt,Bt)=>qt+Bt),height:$t.height-jt};case"table":case"tb":return{width:$t.width-jt,height:$t.height-Dt-Nt[wt.$extra].height};case"position":default:return $t}}function Xt(Nt){let $t=Nt.w===""?NaN:Nt.w,Dt=Nt.h===""?NaN:Nt.h,[jt,Ct]=[0,0];switch(Nt.anchorType||""){case"bottomCenter":[jt,Ct]=[$t/2,Dt];break;case"bottomLeft":[jt,Ct]=[0,Dt];break;case"bottomRight":[jt,Ct]=[$t,Dt];break;case"middleCenter":[jt,Ct]=[$t/2,Dt/2];break;case"middleLeft":[jt,Ct]=[0,Dt/2];break;case"middleRight":[jt,Ct]=[$t,Dt/2];break;case"topCenter":[jt,Ct]=[$t/2,0];break;case"topRight":[jt,Ct]=[$t,0];break}let qt,Bt;switch(Nt.rotate||0){case 0:[qt,Bt]=[-jt,-Ct];break;case 90:[qt,Bt]=[-Ct,jt],[$t,Dt]=[Dt,-$t];break;case 180:[qt,Bt]=[jt,Ct],[$t,Dt]=[-$t,-Dt];break;case 270:[qt,Bt]=[Ct,-jt],[$t,Dt]=[-Dt,$t];break}return[Nt.x+qt+Math.min(0,$t),Nt.y+Bt+Math.min(0,Dt),Math.abs($t),Math.abs(Dt)]}function Kt(Nt,$t){var en;if(Nt[wt.$getTemplateRoot]()[wt.$extra].firstUnsplittable===null||Nt.w===0||Nt.h===0)return!0;const Dt=2,jt=Nt[wt.$getSubformParent](),Ct=((en=jt[wt.$extra])==null?void 0:en.attempt)||0,[,qt,Bt,Gt]=Xt(Nt);switch(jt.layout){case"lr-tb":case"rl-tb":return Ct===0?Nt[wt.$getTemplateRoot]()[wt.$extra].noLayoutFailure?Nt.w!==""?Math.round(Bt-$t.width)<=Dt:$t.width>Dt:Nt.h!==""&&Math.round(Gt-$t.height)>Dt?!1:Nt.w!==""?Math.round(Bt-$t.width)<=Dt?!0:jt[wt.$extra].numberInLine===0?$t.height>Dt:!1:$t.width>Dt:Nt[wt.$getTemplateRoot]()[wt.$extra].noLayoutFailure?!0:Nt.h!==""&&Math.round(Gt-$t.height)>Dt?!1:Nt.w===""||Math.round(Bt-$t.width)<=Dt?$t.height>Dt:jt[wt.$isThereMoreWidth]()?!1:$t.height>Dt;case"table":case"tb":return Nt[wt.$getTemplateRoot]()[wt.$extra].noLayoutFailure?!0:Nt.h!==""&&!Nt[wt.$isSplittable]()?Math.round(Gt-$t.height)<=Dt:Nt.w===""||Math.round(Bt-$t.width)<=Dt?$t.height>Dt:jt[wt.$isThereMoreWidth]()?!1:$t.height>Dt;case"position":if(Nt[wt.$getTemplateRoot]()[wt.$extra].noLayoutFailure||Nt.h===""||Math.round(Gt+qt-$t.height)<=Dt)return!0;const dn=Nt[wt.$getTemplateRoot]()[wt.$extra].currentContentArea;return Gt+qt>dn.h;case"rl-row":case"row":return Nt[wt.$getTemplateRoot]()[wt.$extra].noLayoutFailure?!0:Nt.h!==""?Math.round(Gt-$t.height)<=Dt:!0;default:return!0}}},(kt,Et,Rt)=>{Object.defineProperty(Et,"__esModule",{value:!0}),Et.computeBbox=jt,Et.createWrapper=Gt,Et.fixDimensions=Ct,Et.fixTextIndent=en,Et.fixURL=Vt,Et.isPrintOnly=Qt,Et.layoutClass=qt,Et.layoutNode=Dt,Et.measureToString=Xt,Et.setAccess=dn,Et.setFontFamily=bn,Et.setMinMaxDimensions=Nt,Et.setPara=nn,Et.toStyle=Bt;var wt=Rt(78),_t=Rt(2),Pt=Rt(84),_e=Rt(85),bt=Rt(86),Ft=Rt(87);function Xt(Yt){return typeof Yt=="string"?"0px":Number.isInteger(Yt)?`${Yt}px`:`${Yt.toFixed(2)}px`}const Kt={anchorType(Yt,hn){const Ut=Yt[wt.$getSubformParent]();if(!(!Ut||Ut.layout&&Ut.layout!=="position"))switch("transform"in hn||(hn.transform=""),Yt.anchorType){case"bottomCenter":hn.transform+="translate(-50%, -100%)";break;case"bottomLeft":hn.transform+="translate(0,-100%)";break;case"bottomRight":hn.transform+="translate(-100%,-100%)";break;case"middleCenter":hn.transform+="translate(-50%,-50%)";break;case"middleLeft":hn.transform+="translate(0,-50%)";break;case"middleRight":hn.transform+="translate(-100%,-50%)";break;case"topCenter":hn.transform+="translate(-50%,0)";break;case"topRight":hn.transform+="translate(-100%,0)";break}},dimensions(Yt,hn){var an;const Ut=Yt[wt.$getSubformParent]();let Ot=Yt.w;const zt=Yt.h;if((an=Ut.layout)!=null&&an.includes("row")){const Ht=Ut[wt.$extra],Wt=Yt.colSpan;let tn;Wt===-1?(tn=Ht.columnWidths.slice(Ht.currentColumn).reduce((ln,on)=>ln+on,0),Ht.currentColumn=0):(tn=Ht.columnWidths.slice(Ht.currentColumn,Ht.currentColumn+Wt).reduce((ln,on)=>ln+on,0),Ht.currentColumn=(Ht.currentColumn+Yt.colSpan)%Ht.columnWidths.length),isNaN(tn)||(Ot=Yt.w=tn)}hn.width=Ot!==""?Xt(Ot):"auto",hn.height=zt!==""?Xt(zt):"auto"},position(Yt,hn){const Ut=Yt[wt.$getSubformParent]();Ut!=null&&Ut.layout&&Ut.layout!=="position"||(hn.position="absolute",hn.left=Xt(Yt.x),hn.top=Xt(Yt.y))},rotate(Yt,hn){Yt.rotate&&("transform"in hn||(hn.transform=""),hn.transform+=`rotate(-${Yt.rotate}deg)`,hn.transformOrigin="top left")},presence(Yt,hn){switch(Yt.presence){case"invisible":hn.visibility="hidden";break;case"hidden":case"inactive":hn.display="none";break}},hAlign(Yt,hn){if(Yt[wt.$nodeName]==="para")switch(Yt.hAlign){case"justifyAll":hn.textAlign="justify-all";break;case"radix":hn.textAlign="left";break;default:hn.textAlign=Yt.hAlign}else switch(Yt.hAlign){case"left":hn.alignSelf="start";break;case"center":hn.alignSelf="center";break;case"right":hn.alignSelf="end";break}},margin(Yt,hn){Yt.margin&&(hn.margin=Yt.margin[wt.$toStyle]().margin)}};function Nt(Yt,hn){Yt[wt.$getSubformParent]().layout==="position"&&(Yt.minW>0&&(hn.minWidth=Xt(Yt.minW)),Yt.maxW>0&&(hn.maxWidth=Xt(Yt.maxW)),Yt.minH>0&&(hn.minHeight=Xt(Yt.minH)),Yt.maxH>0&&(hn.maxHeight=Xt(Yt.maxH)))}function $t(Yt,hn,Ut,Ot,zt,an){const Ht=new bt.TextMeasure(hn,Ut,Ot,zt);return typeof Yt=="string"?Ht.addString(Yt):Yt[wt.$pushGlyphs](Ht),Ht.compute(an)}function Dt(Yt,hn){let Ut=null,Ot=null,zt=!1;if((!Yt.w||!Yt.h)&&Yt.value){let an=0,Ht=0;Yt.margin&&(an=Yt.margin.leftInset+Yt.margin.rightInset,Ht=Yt.margin.topInset+Yt.margin.bottomInset);let Wt=null,tn=null;Yt.para&&(tn=Object.create(null),Wt=Yt.para.lineHeight===""?null:Yt.para.lineHeight,tn.top=Yt.para.spaceAbove===""?0:Yt.para.spaceAbove,tn.bottom=Yt.para.spaceBelow===""?0:Yt.para.spaceBelow,tn.left=Yt.para.marginLeft===""?0:Yt.para.marginLeft,tn.right=Yt.para.marginRight===""?0:Yt.para.marginRight);let ln=Yt.font;if(!ln){const sn=Yt[wt.$getTemplateRoot]();let rn=Yt[wt.$getParent]();for(;rn&&rn!==sn;){if(rn.font){ln=rn.font;break}rn=rn[wt.$getParent]()}}const on=(Yt.w||hn.width)-an,cn=Yt[wt.$globalData].fontFinder;if(Yt.value.exData&&Yt.value.exData[wt.$content]&&Yt.value.exData.contentType==="text/html"){const sn=$t(Yt.value.exData[wt.$content],ln,tn,Wt,cn,on);Ot=sn.width,Ut=sn.height,zt=sn.isBroken}else{const sn=Yt.value[wt.$text]();if(sn){const rn=$t(sn,ln,tn,Wt,cn,on);Ot=rn.width,Ut=rn.height,zt=rn.isBroken}}Ot!==null&&!Yt.w&&(Ot+=an),Ut!==null&&!Yt.h&&(Ut+=Ht)}return{w:Ot,h:Ut,isBroken:zt}}function jt(Yt,hn,Ut){let Ot;if(Yt.w!==""&&Yt.h!=="")Ot=[Yt.x,Yt.y,Yt.w,Yt.h];else{if(!Ut)return null;let zt=Yt.w;if(zt===""){if(Yt.maxW===0){const Ht=Yt[wt.$getSubformParent]();zt=Ht.layout==="position"&&Ht.w!==""?0:Yt.minW}else zt=Math.min(Yt.maxW,Ut.width);hn.attributes.style.width=Xt(zt)}let an=Yt.h;if(an===""){if(Yt.maxH===0){const Ht=Yt[wt.$getSubformParent]();an=Ht.layout==="position"&&Ht.h!==""?0:Yt.minH}else an=Math.min(Yt.maxH,Ut.height);hn.attributes.style.height=Xt(an)}Ot=[Yt.x,Yt.y,zt,an]}return Ot}function Ct(Yt){var Ut;const hn=Yt[wt.$getSubformParent]();if((Ut=hn.layout)!=null&&Ut.includes("row")){const Ot=hn[wt.$extra],zt=Yt.colSpan;let an;zt===-1?an=Ot.columnWidths.slice(Ot.currentColumn).reduce((Ht,Wt)=>Ht+Wt,0):an=Ot.columnWidths.slice(Ot.currentColumn,Ot.currentColumn+zt).reduce((Ht,Wt)=>Ht+Wt,0),isNaN(an)||(Yt.w=an)}hn.layout&&hn.layout!=="position"&&(Yt.x=Yt.y=0),Yt.layout==="table"&&Yt.w===""&&Array.isArray(Yt.columnWidths)&&(Yt.w=Yt.columnWidths.reduce((Ot,zt)=>Ot+zt,0))}function qt(Yt){switch(Yt.layout){case"position":return"xfaPosition";case"lr-tb":return"xfaLrTb";case"rl-row":return"xfaRlRow";case"rl-tb":return"xfaRlTb";case"row":return"xfaRow";case"table":return"xfaTable";case"tb":return"xfaTb";default:return"xfaPosition"}}function Bt(Yt,...hn){const Ut=Object.create(null);for(const Ot of hn){const zt=Yt[Ot];if(zt!==null){if(Kt.hasOwnProperty(Ot)){Kt[Ot](Yt,Ut);continue}if(zt instanceof Ft.XFAObject){const an=zt[wt.$toStyle]();an?Object.assign(Ut,an):(0,_t.warn)(`(DEBUG) - XFA - style for ${Ot} not implemented yet`)}}}return Ut}function Gt(Yt,hn){const{attributes:Ut}=hn,{style:Ot}=Ut,zt={name:"div",attributes:{class:["xfaWrapper"],style:Object.create(null)},children:[]};if(Ut.class.push("xfaWrapped"),Yt.border){const{widths:an,insets:Ht}=Yt.border[wt.$extra];let Wt,tn,ln=Ht[0],on=Ht[3];const cn=Ht[0]+Ht[2],sn=Ht[1]+Ht[3];switch(Yt.border.hand){case"even":ln-=an[0]/2,on-=an[3]/2,Wt=`calc(100% + ${(an[1]+an[3])/2-sn}px)`,tn=`calc(100% + ${(an[0]+an[2])/2-cn}px)`;break;case"left":ln-=an[0],on-=an[3],Wt=`calc(100% + ${an[1]+an[3]-sn}px)`,tn=`calc(100% + ${an[0]+an[2]-cn}px)`;break;case"right":Wt=sn?`calc(100% - ${sn}px)`:"100%",tn=cn?`calc(100% - ${cn}px)`:"100%";break}const rn=["xfaBorder"];Qt(Yt.border)&&rn.push("xfaPrintOnly");const xn={name:"div",attributes:{class:rn,style:{top:`${ln}px`,left:`${on}px`,width:Wt,height:tn}},children:[]};for(const vn of["border","borderWidth","borderColor","borderRadius","borderStyle"])Ot[vn]!==void 0&&(xn.attributes.style[vn]=Ot[vn],delete Ot[vn]);zt.children.push(xn,hn)}else zt.children.push(hn);for(const an of["background","backgroundClip","top","left","width","height","minWidth","minHeight","maxWidth","maxHeight","transform","transformOrigin","visibility"])Ot[an]!==void 0&&(zt.attributes.style[an]=Ot[an],delete Ot[an]);return zt.attributes.style.position=Ot.position==="absolute"?"absolute":"relative",delete Ot.position,Ot.alignSelf&&(zt.attributes.style.alignSelf=Ot.alignSelf,delete Ot.alignSelf),zt}function en(Yt){const hn=(0,Pt.getMeasurement)(Yt.textIndent,"0px");if(hn>=0)return;const Ot="padding"+((Yt.textAlign==="right"?"right":"left")==="left"?"Left":"Right"),zt=(0,Pt.getMeasurement)(Yt[Ot],"0px");Yt[Ot]=`${zt-hn}px`}function dn(Yt,hn){switch(Yt.access){case"nonInteractive":hn.push("xfaNonInteractive");break;case"readOnly":hn.push("xfaReadOnly");break;case"protected":hn.push("xfaDisabled");break}}function Qt(Yt){return Yt.relevant.length>0&&!Yt.relevant[0].excluded&&Yt.relevant[0].viewname==="print"}function gn(Yt){const hn=Yt[wt.$getTemplateRoot]()[wt.$extra].paraStack;return hn.length?hn.at(-1):null}function nn(Yt,hn,Ut){var Ot;if((Ot=Ut.attributes.class)!=null&&Ot.includes("xfaRich")){hn&&(Yt.h===""&&(hn.height="auto"),Yt.w===""&&(hn.width="auto"));const zt=gn(Yt);if(zt){const an=Ut.attributes.style;switch(an.display="flex",an.flexDirection="column",zt.vAlign){case"top":an.justifyContent="start";break;case"bottom":an.justifyContent="end";break;case"middle":an.justifyContent="center";break}const Ht=zt[wt.$toStyle]();for(const[Wt,tn]of Object.entries(Ht))Wt in an||(an[Wt]=tn)}}}function bn(Yt,hn,Ut,Ot){if(!Ut){delete Ot.fontFamily;return}const zt=(0,Pt.stripQuotes)(Yt.typeface);Ot.fontFamily=`"${zt}"`;const an=Ut.find(zt);if(an){const{fontFamily:Ht}=an.regular.cssFontInfo;Ht!==zt&&(Ot.fontFamily=`"${Ht}"`);const Wt=gn(hn);if(Wt&&Wt.lineHeight!==""||Ot.lineHeight)return;const tn=(0,_e.selectFont)(Yt,an);tn&&(Ot.lineHeight=Math.max(1.2,tn.lineHeight))}}function Vt(Yt){const hn=(0,_t.createValidAbsoluteUrl)(Yt,null,{addDefaultProtocol:!0,tryConvertEncoding:!0});return hn?hn.href:null}},(kt,Et,Rt)=>{Object.defineProperty(Et,"__esModule",{value:!0}),Et.HTMLResult=void 0,Et.getBBox=Ct,Et.getColor=jt,Et.getFloat=Ft,Et.getInteger=bt,Et.getKeyword=Xt,Et.getMeasurement=Nt,Et.getRatio=$t,Et.getRelevant=Dt,Et.getStringOption=Kt,Et.stripQuotes=_e;var wt=Rt(2);const _t={pt:Bt=>Bt,cm:Bt=>Bt/2.54*72,mm:Bt=>Bt/(10*2.54)*72,in:Bt=>Bt*72,px:Bt=>Bt},Pt=/([+-]?\d+\.?\d*)(.*)/;function _e(Bt){return Bt.startsWith("'")||Bt.startsWith('"')?Bt.slice(1,-1):Bt}function bt({data:Bt,defaultValue:Gt,validate:en}){if(!Bt)return Gt;Bt=Bt.trim();const dn=parseInt(Bt,10);return!isNaN(dn)&&en(dn)?dn:Gt}function Ft({data:Bt,defaultValue:Gt,validate:en}){if(!Bt)return Gt;Bt=Bt.trim();const dn=parseFloat(Bt);return!isNaN(dn)&&en(dn)?dn:Gt}function Xt({data:Bt,defaultValue:Gt,validate:en}){return Bt?(Bt=Bt.trim(),en(Bt)?Bt:Gt):Gt}function Kt(Bt,Gt){return Xt({data:Bt,defaultValue:Gt[0],validate:en=>Gt.includes(en)})}function Nt(Bt,Gt="0"){if(Gt||(Gt="0"),!Bt)return Nt(Gt);const en=Bt.trim().match(Pt);if(!en)return Nt(Gt);const[,dn,Qt]=en,gn=parseFloat(dn);if(isNaN(gn))return Nt(Gt);if(gn===0)return 0;const nn=_t[Qt];return nn?nn(gn):gn}function $t(Bt){if(!Bt)return{num:1,den:1};const Gt=Bt.trim().split(/\s*:\s*/).map(Qt=>parseFloat(Qt)).filter(Qt=>!isNaN(Qt));if(Gt.length===1&&Gt.push(1),Gt.length===0)return{num:1,den:1};const[en,dn]=Gt;return{num:en,den:dn}}function Dt(Bt){return Bt?Bt.trim().split(/\s+/).map(Gt=>({excluded:Gt[0]==="-",viewname:Gt.substring(1)})):[]}function jt(Bt,Gt=[0,0,0]){let[en,dn,Qt]=Gt;if(!Bt)return{r:en,g:dn,b:Qt};const gn=Bt.trim().split(/\s*,\s*/).map(nn=>Math.min(Math.max(0,parseInt(nn.trim(),10)),255)).map(nn=>isNaN(nn)?0:nn);return gn.length<3?{r:en,g:dn,b:Qt}:([en,dn,Qt]=gn,{r:en,g:dn,b:Qt})}function Ct(Bt){if(!Bt)return{x:-1,y:-1,width:-1,height:-1};const en=Bt.trim().split(/\s*,\s*/).map(bn=>Nt(bn,"-1"));if(en.length<4||en[2]<0||en[3]<0)return{x:-1,y:-1,width:-1,height:-1};const[dn,Qt,gn,nn]=en;return{x:dn,y:Qt,width:gn,height:nn}}class qt{static get FAILURE(){return(0,wt.shadow)(this,"FAILURE",new qt(!1,null,null,null))}static get EMPTY(){return(0,wt.shadow)(this,"EMPTY",new qt(!0,null,null,null))}constructor(Gt,en,dn,Qt){this.success=Gt,this.html=en,this.bbox=dn,this.breakNode=Qt}isBreak(){return!!this.breakNode}static breakNode(Gt){return new qt(!1,null,null,Gt)}static success(Gt,en=null){return new qt(!0,Gt,en,null)}}Et.HTMLResult=qt},(kt,Et,Rt)=>{Object.defineProperty(Et,"__esModule",{value:!0}),Et.FontFinder=void 0,Et.getMetrics=Ft,Et.selectFont=bt;var wt=Rt(78),_t=Rt(84),Pt=Rt(2);class _e{constructor(Kt){this.fonts=new Map,this.cache=new Map,this.warned=new Set,this.defaultFont=null,this.add(Kt)}add(Kt,Nt=null){for(const Dt of Kt)this.addPdfFont(Dt);for(const Dt of this.fonts.values())Dt.regular||(Dt.regular=Dt.italic||Dt.bold||Dt.bolditalic);if(!Nt||Nt.size===0)return;const $t=this.fonts.get("PdfJS-Fallback-PdfJS-XFA");for(const Dt of Nt)this.fonts.set(Dt,$t)}addPdfFont(Kt){var qt,Bt,Gt;const Nt=Kt.cssFontInfo,$t=Nt.fontFamily;let Dt=this.fonts.get($t);Dt||(Dt=Object.create(null),this.fonts.set($t,Dt),this.defaultFont||(this.defaultFont=Dt));let jt="";const Ct=parseFloat(Nt.fontWeight);parseFloat(Nt.italicAngle)!==0?jt=Ct>=700?"bolditalic":"italic":Ct>=700&&(jt="bold"),jt||((Kt.name.includes("Bold")||(qt=Kt.psName)!=null&&qt.includes("Bold"))&&(jt="bold"),(Kt.name.includes("Italic")||Kt.name.endsWith("It")||(Bt=Kt.psName)!=null&&Bt.includes("Italic")||(Gt=Kt.psName)!=null&&Gt.endsWith("It"))&&(jt+="italic")),jt||(jt="regular"),Dt[jt]=Kt}getDefault(){return this.defaultFont}find(Kt,Nt=!0){var qt,Bt;let $t=this.fonts.get(Kt)||this.cache.get(Kt);if($t)return $t;const Dt=/,|-|_| |bolditalic|bold|italic|regular|it/gi;let jt=Kt.replaceAll(Dt,"");if($t=this.fonts.get(jt),$t)return this.cache.set(Kt,$t),$t;jt=jt.toLowerCase();const Ct=[];for(const[Gt,en]of this.fonts.entries())Gt.replaceAll(Dt,"").toLowerCase().startsWith(jt)&&Ct.push(en);if(Ct.length===0)for(const[,Gt]of this.fonts.entries())(qt=Gt.regular.name)!=null&&qt.replaceAll(Dt,"").toLowerCase().startsWith(jt)&&Ct.push(Gt);if(Ct.length===0){jt=jt.replaceAll(/psmt|mt/gi,"");for(const[Gt,en]of this.fonts.entries())Gt.replaceAll(Dt,"").toLowerCase().startsWith(jt)&&Ct.push(en)}if(Ct.length===0)for(const Gt of this.fonts.values())(Bt=Gt.regular.name)!=null&&Bt.replaceAll(Dt,"").toLowerCase().startsWith(jt)&&Ct.push(Gt);return Ct.length>=1?(Ct.length!==1&&Nt&&(0,Pt.warn)(`XFA - Too many choices to guess the correct font: ${Kt}`),this.cache.set(Kt,Ct[0]),Ct[0]):(Nt&&!this.warned.has(Kt)&&(this.warned.add(Kt),(0,Pt.warn)(`XFA - Cannot find the font: ${Kt}`)),null)}}Et.FontFinder=_e;function bt(Xt,Kt){return Xt.posture==="italic"?Xt.weight==="bold"?Kt.bolditalic:Kt.italic:Xt.weight==="bold"?Kt.bold:Kt.regular}function Ft(Xt,Kt=!1){let Nt=null;if(Xt){const Ct=(0,_t.stripQuotes)(Xt.typeface),qt=Xt[wt.$globalData].fontFinder.find(Ct);Nt=bt(Xt,qt)}if(!Nt)return{lineHeight:12,lineGap:2,lineNoGap:10};const $t=Xt.size||10,Dt=Nt.lineHeight?Math.max(Kt?0:1.2,Nt.lineHeight):1.2,jt=Nt.lineGap===void 0?.2:Nt.lineGap;return{lineHeight:Dt*$t,lineGap:jt*$t,lineNoGap:Math.max(1,Dt-jt)*$t}}},(kt,Et,Rt)=>{Object.defineProperty(Et,"__esModule",{value:!0}),Et.TextMeasure=void 0;var wt=Rt(85);const _t=1.02;class Pt{constructor(Xt,Kt,Nt,$t){if(this.lineHeight=Nt,this.paraMargin=Kt||{top:0,bottom:0,left:0,right:0},!Xt){[this.pdfFont,this.xfaFont]=this.defaultFont($t);return}this.xfaFont={typeface:Xt.typeface,posture:Xt.posture,weight:Xt.weight,size:Xt.size,letterSpacing:Xt.letterSpacing};const Dt=$t.find(Xt.typeface);if(!Dt){[this.pdfFont,this.xfaFont]=this.defaultFont($t);return}this.pdfFont=(0,wt.selectFont)(Xt,Dt),this.pdfFont||([this.pdfFont,this.xfaFont]=this.defaultFont($t))}defaultFont(Xt){const Kt=Xt.find("Helvetica",!1)||Xt.find("Myriad Pro",!1)||Xt.find("Arial",!1)||Xt.getDefault();if(Kt!=null&&Kt.regular){const $t=Kt.regular,jt={typeface:$t.cssFontInfo.fontFamily,posture:"normal",weight:"normal",size:10,letterSpacing:0};return[$t,jt]}return[null,{typeface:"Courier",posture:"normal",weight:"normal",size:10,letterSpacing:0}]}}class _e{constructor(Xt,Kt,Nt,$t){this.fontFinder=$t,this.stack=[new Pt(Xt,Kt,Nt,$t)]}pushData(Xt,Kt,Nt){const $t=this.stack.at(-1);for(const jt of["typeface","posture","weight","size","letterSpacing"])Xt[jt]||(Xt[jt]=$t.xfaFont[jt]);for(const jt of["top","bottom","left","right"])isNaN(Kt[jt])&&(Kt[jt]=$t.paraMargin[jt]);const Dt=new Pt(Xt,Kt,Nt||$t.lineHeight,this.fontFinder);Dt.pdfFont||(Dt.pdfFont=$t.pdfFont),this.stack.push(Dt)}popFont(){this.stack.pop()}topFont(){return this.stack.at(-1)}}class bt{constructor(Xt,Kt,Nt,$t){this.glyphs=[],this.fontSelector=new _e(Xt,Kt,Nt,$t),this.extraHeight=0}pushData(Xt,Kt,Nt){this.fontSelector.pushData(Xt,Kt,Nt)}popFont(Xt){return this.fontSelector.popFont()}addPara(){const Xt=this.fontSelector.topFont();this.extraHeight+=Xt.paraMargin.top+Xt.paraMargin.bottom}addString(Xt){if(!Xt)return;const Kt=this.fontSelector.topFont(),Nt=Kt.xfaFont.size;if(Kt.pdfFont){const $t=Kt.xfaFont.letterSpacing,Dt=Kt.pdfFont,jt=Dt.lineHeight||1.2,Ct=Kt.lineHeight||Math.max(1.2,jt)*Nt,qt=Dt.lineGap===void 0?.2:Dt.lineGap,Bt=jt-qt,Gt=Math.max(1,Bt)*Nt,en=Nt/1e3,dn=Dt.defaultWidth||Dt.charsToGlyphs(" ")[0].width;for(const Qt of Xt.split(/[\u2029\n]/)){const gn=Dt.encodeString(Qt).join(""),nn=Dt.charsToGlyphs(gn);for(const bn of nn){const Vt=bn.width||dn;this.glyphs.push([Vt*en+$t,Ct,Gt,bn.unicode,!1])}this.glyphs.push([0,0,0,`
`,!0])}this.glyphs.pop();return}for(const $t of Xt.split(/[\u2029\n]/)){for(const Dt of $t.split(""))this.glyphs.push([Nt,1.2*Nt,Nt,Dt,!1]);this.glyphs.push([0,0,0,`
`,!0])}this.glyphs.pop()}compute(Xt){let Kt=-1,Nt=0,$t=0,Dt=0,jt=0,Ct=0,qt=!1,Bt=!0;for(let Gt=0,en=this.glyphs.length;Gt<en;Gt++){const[dn,Qt,gn,nn,bn]=this.glyphs[Gt],Vt=nn===" ",Yt=Bt?gn:Qt;if(bn){$t=Math.max($t,jt),jt=0,Dt+=Ct,Ct=Yt,Kt=-1,Nt=0,Bt=!1;continue}if(Vt){jt+dn>Xt?($t=Math.max($t,jt),jt=0,Dt+=Ct,Ct=Yt,Kt=-1,Nt=0,qt=!0,Bt=!1):(Ct=Math.max(Yt,Ct),Nt=jt,jt+=dn,Kt=Gt);continue}if(jt+dn>Xt){Dt+=Ct,Ct=Yt,Kt!==-1?(Gt=Kt,$t=Math.max($t,Nt),jt=0,Kt=-1,Nt=0):($t=Math.max($t,jt),jt=dn),qt=!0,Bt=!1;continue}jt+=dn,Ct=Math.max(Yt,Ct)}return $t=Math.max($t,jt),Dt+=Ct+this.extraHeight,{width:_t*$t,height:Dt,isBroken:qt}}}Et.TextMeasure=bt},(kt,Et,Rt)=>{Object.defineProperty(Et,"__esModule",{value:!0}),Et.XmlObject=Et.XFAObjectArray=Et.XFAObject=Et.XFAAttribute=Et.StringObject=Et.OptionObject=Et.Option10=Et.Option01=Et.IntegerObject=Et.ContentObject=void 0;var wt=Rt(78),_t=Rt(84),Pt=Rt(2),_e=Rt(3),bt=Rt(81),Ft=Rt(88);const Xt=Symbol(),Kt=Symbol(),Nt=Symbol(),$t=Symbol("_children"),Dt=Symbol(),jt=Symbol(),Ct=Symbol(),qt=Symbol(),Bt=Symbol(),Gt=Symbol(),en=Symbol(),dn=Symbol(),Qt=Symbol(),gn=Symbol("parent"),nn=Symbol(),bn=Symbol(),Vt=Symbol();let Yt=0;const hn=bt.NamespaceIds.datasets.id;class Ut{constructor(rn,xn,vn=!1){this[wt.$namespaceId]=rn,this[wt.$nodeName]=xn,this[en]=vn,this[gn]=null,this[$t]=[],this[wt.$uid]=`${xn}${Yt++}`,this[wt.$globalData]=null}get isXFAObject(){return!0}get isXFAObjectArray(){return!1}createNodes(rn){let xn=this,vn=null;for(const{name:En,index:Fn}of rn){for(let Mn=0,Tn=isFinite(Fn)?Fn:0;Mn<=Tn;Mn++){const Sn=xn[wt.$namespaceId]===hn?-1:xn[wt.$namespaceId];vn=new an(Sn,En),xn[wt.$appendChild](vn)}xn=vn}return vn}[wt.$onChild](rn){if(!this[en]||!this[wt.$onChildCheck](rn))return!1;const xn=rn[wt.$nodeName],vn=this[xn];if(vn instanceof Ot){if(vn.push(rn))return this[wt.$appendChild](rn),!0}else return vn!==null&&this[wt.$removeChild](vn),this[xn]=rn,this[wt.$appendChild](rn),!0;let En="";return this.id?En=` (id: ${this.id})`:this.name&&(En=` (name: ${this.name} ${this.h.value})`),(0,Pt.warn)(`XFA - node "${this[wt.$nodeName]}"${En} has already enough "${xn}"!`),!1}[wt.$onChildCheck](rn){return this.hasOwnProperty(rn[wt.$nodeName])&&rn[wt.$namespaceId]===this[wt.$namespaceId]}[wt.$isNsAgnostic](){return!1}[wt.$acceptWhitespace](){return!1}[wt.$isCDATAXml](){return!1}[wt.$isBindable](){return!1}[wt.$popPara](){this.para&&this[wt.$getTemplateRoot]()[wt.$extra].paraStack.pop()}[wt.$pushPara](){this[wt.$getTemplateRoot]()[wt.$extra].paraStack.push(this.para)}[wt.$setId](rn){this.id&&this[wt.$namespaceId]===bt.NamespaceIds.template.id&&rn.set(this.id,this)}[wt.$getTemplateRoot](){return this[wt.$globalData].template}[wt.$isSplittable](){return!1}[wt.$isThereMoreWidth](){return!1}[wt.$appendChild](rn){rn[gn]=this,this[$t].push(rn),!rn[wt.$globalData]&&this[wt.$globalData]&&(rn[wt.$globalData]=this[wt.$globalData])}[wt.$removeChild](rn){const xn=this[$t].indexOf(rn);this[$t].splice(xn,1)}[wt.$hasSettableValue](){return this.hasOwnProperty("value")}[wt.$setValue](rn){}[wt.$onText](rn){}[wt.$finalize](){}[wt.$clean](rn){delete this[en],this[wt.$cleanup]&&(rn.clean(this[wt.$cleanup]),delete this[wt.$cleanup])}[wt.$indexOf](rn){return this[$t].indexOf(rn)}[wt.$insertAt](rn,xn){xn[gn]=this,this[$t].splice(rn,0,xn),!xn[wt.$globalData]&&this[wt.$globalData]&&(xn[wt.$globalData]=this[wt.$globalData])}[wt.$isTransparent](){return!this.name}[wt.$lastAttribute](){return""}[wt.$text](){return this[$t].length===0?this[wt.$content]:this[$t].map(rn=>rn[wt.$text]()).join("")}get[Nt](){const rn=Object.getPrototypeOf(this);if(!rn._attributes){const xn=rn._attributes=new Set;for(const vn of Object.getOwnPropertyNames(this)){if(this[vn]===null||this[vn]instanceof Ut||this[vn]instanceof Ot)break;xn.add(vn)}}return(0,Pt.shadow)(this,Nt,rn._attributes)}[wt.$isDescendent](rn){let xn=this;for(;xn;){if(xn===rn)return!0;xn=xn[wt.$getParent]()}return!1}[wt.$getParent](){return this[gn]}[wt.$getSubformParent](){return this[wt.$getParent]()}[wt.$getChildren](rn=null){return rn?this[rn]:this[$t]}[wt.$dump](){const rn=Object.create(null);this[wt.$content]&&(rn.$content=this[wt.$content]);for(const xn of Object.getOwnPropertyNames(this)){const vn=this[xn];vn!==null&&(vn instanceof Ut?rn[xn]=vn[wt.$dump]():vn instanceof Ot?vn.isEmpty()||(rn[xn]=vn.dump()):rn[xn]=vn)}return rn}[wt.$toStyle](){return null}[wt.$toHTML](){return _t.HTMLResult.EMPTY}*[wt.$getContainedChildren](){for(const rn of this[wt.$getChildren]())yield rn}*[qt](rn,xn){for(const vn of this[wt.$getContainedChildren]())if(!rn||xn===rn.has(vn[wt.$nodeName])){const En=this[wt.$getAvailableSpace](),Fn=vn[wt.$toHTML](En);Fn.success||(this[wt.$extra].failingNode=vn),yield Fn}}[wt.$flushHTML](){return null}[wt.$addHTML](rn,xn){this[wt.$extra].children.push(rn)}[wt.$getAvailableSpace](){}[wt.$childrenToHTML]({filter:rn=null,include:xn=!0}){if(!this[wt.$extra].generator)this[wt.$extra].generator=this[qt](rn,xn);else{const vn=this[wt.$getAvailableSpace](),En=this[wt.$extra].failingNode[wt.$toHTML](vn);if(!En.success)return En;En.html&&this[wt.$addHTML](En.html,En.bbox),delete this[wt.$extra].failingNode}for(;;){const vn=this[wt.$extra].generator.next();if(vn.done)break;const En=vn.value;if(!En.success)return En;En.html&&this[wt.$addHTML](En.html,En.bbox)}return this[wt.$extra].generator=null,_t.HTMLResult.EMPTY}[wt.$setSetAttributes](rn){this[bn]=new Set(Object.keys(rn))}[Gt](rn){const xn=this[Nt],vn=this[bn];return[...rn].filter(En=>xn.has(En)&&!vn.has(En))}[wt.$resolvePrototypes](rn,xn=new Set){for(const vn of this[$t])vn[nn](rn,xn)}[nn](rn,xn){const vn=this[Bt](rn,xn);vn?this[Xt](vn,rn,xn):this[wt.$resolvePrototypes](rn,xn)}[Bt](rn,xn){const{use:vn,usehref:En}=this;if(!vn&&!En)return null;let Fn=null,Mn=null,Tn=null,Sn=vn;if(En?(Sn=En,En.startsWith("#som(")&&En.endsWith(")")?Mn=En.slice(5,-1):En.startsWith(".#som(")&&En.endsWith(")")?Mn=En.slice(6,-1):En.startsWith("#")?Tn=En.slice(1):En.startsWith(".#")&&(Tn=En.slice(2))):vn.startsWith("#")?Tn=vn.slice(1):Mn=vn,this.use=this.usehref="",Tn?Fn=rn.get(Tn):(Fn=(0,Ft.searchNode)(rn.get(wt.$root),this,Mn,!0,!1),Fn&&(Fn=Fn[0])),!Fn)return(0,Pt.warn)(`XFA - Invalid prototype reference: ${Sn}.`),null;if(Fn[wt.$nodeName]!==this[wt.$nodeName])return(0,Pt.warn)(`XFA - Incompatible prototype: ${Fn[wt.$nodeName]} !== ${this[wt.$nodeName]}.`),null;if(xn.has(Fn))return(0,Pt.warn)("XFA - Cycle detected in prototypes use."),null;xn.add(Fn);const mn=Fn[Bt](rn,xn);return mn&&Fn[Xt](mn,rn,xn),Fn[wt.$resolvePrototypes](rn,xn),xn.delete(Fn),Fn}[Xt](rn,xn,vn){if(vn.has(rn)){(0,Pt.warn)("XFA - Cycle detected in prototypes use.");return}!this[wt.$content]&&rn[wt.$content]&&(this[wt.$content]=rn[wt.$content]),new Set(vn).add(rn);for(const Fn of this[Gt](rn[bn]))this[Fn]=rn[Fn],this[bn]&&this[bn].add(Fn);for(const Fn of Object.getOwnPropertyNames(this)){if(this[Nt].has(Fn))continue;const Mn=this[Fn],Tn=rn[Fn];if(Mn instanceof Ot){for(const Sn of Mn[$t])Sn[nn](xn,vn);for(let Sn=Mn[$t].length,mn=Tn[$t].length;Sn<mn;Sn++){const fn=rn[$t][Sn][wt.$clone]();if(Mn.push(fn))fn[gn]=this,this[$t].push(fn),fn[nn](xn,vn);else break}continue}if(Mn!==null){Mn[wt.$resolvePrototypes](xn,vn),Tn&&Mn[Xt](Tn,xn,vn);continue}if(Tn!==null){const Sn=Tn[wt.$clone]();Sn[gn]=this,this[Fn]=Sn,this[$t].push(Sn),Sn[nn](xn,vn)}}}static[Dt](rn){return Array.isArray(rn)?rn.map(xn=>Ut[Dt](xn)):typeof rn=="object"&&rn!==null?Object.assign({},rn):rn}[wt.$clone](){const rn=Object.create(Object.getPrototypeOf(this));for(const xn of Object.getOwnPropertySymbols(this))try{rn[xn]=this[xn]}catch{(0,Pt.shadow)(rn,xn,this[xn])}rn[wt.$uid]=`${rn[wt.$nodeName]}${Yt++}`,rn[$t]=[];for(const xn of Object.getOwnPropertyNames(this)){if(this[Nt].has(xn)){rn[xn]=Ut[Dt](this[xn]);continue}const vn=this[xn];rn[xn]=vn instanceof Ot?new Ot(vn[dn]):null}for(const xn of this[$t]){const vn=xn[wt.$nodeName],En=xn[wt.$clone]();rn[$t].push(En),En[gn]=rn,rn[vn]===null?rn[vn]=En:rn[vn][$t].push(En)}return rn}[wt.$getChildren](rn=null){return rn?this[$t].filter(xn=>xn[wt.$nodeName]===rn):this[$t]}[wt.$getChildrenByClass](rn){return this[rn]}[wt.$getChildrenByName](rn,xn,vn=!0){return Array.from(this[wt.$getChildrenByNameIt](rn,xn,vn))}*[wt.$getChildrenByNameIt](rn,xn,vn=!0){if(rn==="parent"){yield this[gn];return}for(const En of this[$t])En[wt.$nodeName]===rn&&(yield En),En.name===rn&&(yield En),(xn||En[wt.$isTransparent]())&&(yield*En[wt.$getChildrenByNameIt](rn,xn,!1));vn&&this[Nt].has(rn)&&(yield new zt(this,rn,this[rn]))}}Et.XFAObject=Ut;class Ot{constructor(rn=1/0){this[dn]=rn,this[$t]=[]}get isXFAObject(){return!1}get isXFAObjectArray(){return!0}push(rn){return this[$t].length<=this[dn]?(this[$t].push(rn),!0):((0,Pt.warn)(`XFA - node "${rn[wt.$nodeName]}" accepts no more than ${this[dn]} children`),!1)}isEmpty(){return this[$t].length===0}dump(){return this[$t].length===1?this[$t][0][wt.$dump]():this[$t].map(rn=>rn[wt.$dump]())}[wt.$clone](){const rn=new Ot(this[dn]);return rn[$t]=this[$t].map(xn=>xn[wt.$clone]()),rn}get children(){return this[$t]}clear(){this[$t].length=0}}Et.XFAObjectArray=Ot;class zt{constructor(rn,xn,vn){this[gn]=rn,this[wt.$nodeName]=xn,this[wt.$content]=vn,this[wt.$consumed]=!1,this[wt.$uid]=`attribute${Yt++}`}[wt.$getParent](){return this[gn]}[wt.$isDataValue](){return!0}[wt.$getDataValue](){return this[wt.$content].trim()}[wt.$setValue](rn){rn=rn.value||"",this[wt.$content]=rn.toString()}[wt.$text](){return this[wt.$content]}[wt.$isDescendent](rn){return this[gn]===rn||this[gn][wt.$isDescendent](rn)}}Et.XFAAttribute=zt;class an extends Ut{constructor(rn,xn,vn={}){if(super(rn,xn),this[wt.$content]="",this[jt]=null,xn!=="#text"){const En=new Map;this[Kt]=En;for(const[Fn,Mn]of Object.entries(vn))En.set(Fn,new zt(this,Fn,Mn));if(vn.hasOwnProperty(wt.$nsAttributes)){const Fn=vn[wt.$nsAttributes].xfa.dataNode;Fn!==void 0&&(Fn==="dataGroup"?this[jt]=!1:Fn==="dataValue"&&(this[jt]=!0))}}this[wt.$consumed]=!1}[wt.$toString](rn){const xn=this[wt.$nodeName];if(xn==="#text"){rn.push((0,_e.encodeToXmlString)(this[wt.$content]));return}const vn=(0,Pt.utf8StringToString)(xn),En=this[wt.$namespaceId]===hn?"xfa:":"";rn.push(`<${En}${vn}`);for(const[Fn,Mn]of this[Kt].entries()){const Tn=(0,Pt.utf8StringToString)(Fn);rn.push(` ${Tn}="${(0,_e.encodeToXmlString)(Mn[wt.$content])}"`)}if(this[jt]!==null&&(this[jt]?rn.push(' xfa:dataNode="dataValue"'):rn.push(' xfa:dataNode="dataGroup"')),!this[wt.$content]&&this[$t].length===0){rn.push("/>");return}if(rn.push(">"),this[wt.$content])typeof this[wt.$content]=="string"?rn.push((0,_e.encodeToXmlString)(this[wt.$content])):this[wt.$content][wt.$toString](rn);else for(const Fn of this[$t])Fn[wt.$toString](rn);rn.push(`</${En}${vn}>`)}[wt.$onChild](rn){if(this[wt.$content]){const xn=new an(this[wt.$namespaceId],"#text");this[wt.$appendChild](xn),xn[wt.$content]=this[wt.$content],this[wt.$content]=""}return this[wt.$appendChild](rn),!0}[wt.$onText](rn){this[wt.$content]+=rn}[wt.$finalize](){if(this[wt.$content]&&this[$t].length>0){const rn=new an(this[wt.$namespaceId],"#text");this[wt.$appendChild](rn),rn[wt.$content]=this[wt.$content],delete this[wt.$content]}}[wt.$toHTML](){return this[wt.$nodeName]==="#text"?_t.HTMLResult.success({name:"#text",value:this[wt.$content]}):_t.HTMLResult.EMPTY}[wt.$getChildren](rn=null){return rn?this[$t].filter(xn=>xn[wt.$nodeName]===rn):this[$t]}[wt.$getAttributes](){return this[Kt]}[wt.$getChildrenByClass](rn){const xn=this[Kt].get(rn);return xn!==void 0?xn:this[wt.$getChildren](rn)}*[wt.$getChildrenByNameIt](rn,xn){const vn=this[Kt].get(rn);vn&&(yield vn);for(const En of this[$t])En[wt.$nodeName]===rn&&(yield En),xn&&(yield*En[wt.$getChildrenByNameIt](rn,xn))}*[wt.$getAttributeIt](rn,xn){const vn=this[Kt].get(rn);vn&&(!xn||!vn[wt.$consumed])&&(yield vn);for(const En of this[$t])yield*En[wt.$getAttributeIt](rn,xn)}*[wt.$getRealChildrenByNameIt](rn,xn,vn){for(const En of this[$t])En[wt.$nodeName]===rn&&(!vn||!En[wt.$consumed])&&(yield En),xn&&(yield*En[wt.$getRealChildrenByNameIt](rn,xn,vn))}[wt.$isDataValue](){return this[jt]===null?this[$t].length===0||this[$t][0][wt.$namespaceId]===bt.NamespaceIds.xhtml.id:this[jt]}[wt.$getDataValue](){return this[jt]===null?this[$t].length===0?this[wt.$content].trim():this[$t][0][wt.$namespaceId]===bt.NamespaceIds.xhtml.id?this[$t][0][wt.$text]().trim():null:this[wt.$content].trim()}[wt.$setValue](rn){rn=rn.value||"",this[wt.$content]=rn.toString()}[wt.$dump](rn=!1){const xn=Object.create(null);rn&&(xn.$ns=this[wt.$namespaceId]),this[wt.$content]&&(xn.$content=this[wt.$content]),xn.$name=this[wt.$nodeName],xn.children=[];for(const vn of this[$t])xn.children.push(vn[wt.$dump](rn));xn.attributes=Object.create(null);for(const[vn,En]of this[Kt])xn.attributes[vn]=En[wt.$content];return xn}}Et.XmlObject=an;class Ht extends Ut{constructor(rn,xn){super(rn,xn),this[wt.$content]=""}[wt.$onText](rn){this[wt.$content]+=rn}[wt.$finalize](){}}Et.ContentObject=Ht;class Wt extends Ht{constructor(rn,xn,vn){super(rn,xn),this[Qt]=vn}[wt.$finalize](){this[wt.$content]=(0,_t.getKeyword)({data:this[wt.$content],defaultValue:this[Qt][0],validate:rn=>this[Qt].includes(rn)})}[wt.$clean](rn){super[wt.$clean](rn),delete this[Qt]}}Et.OptionObject=Wt;class tn extends Ht{[wt.$finalize](){this[wt.$content]=this[wt.$content].trim()}}Et.StringObject=tn;class ln extends Ht{constructor(rn,xn,vn,En){super(rn,xn),this[Ct]=vn,this[Vt]=En}[wt.$finalize](){this[wt.$content]=(0,_t.getInteger)({data:this[wt.$content],defaultValue:this[Ct],validate:this[Vt]})}[wt.$clean](rn){super[wt.$clean](rn),delete this[Ct],delete this[Vt]}}Et.IntegerObject=ln;class on extends ln{constructor(rn,xn){super(rn,xn,0,vn=>vn===1)}}Et.Option01=on;class cn extends ln{constructor(rn,xn){super(rn,xn,1,vn=>vn===0)}}Et.Option10=cn},(kt,Et,Rt)=>{Object.defineProperty(Et,"__esModule",{value:!0}),Et.createDataNode=Dt,Et.searchNode=$t;var wt=Rt(78),_t=Rt(2);const Pt=/^[^.[]+/,_e=/^[^\]]+/,bt={dot:0,dotDot:1,dotHash:2,dotBracket:3,dotParen:4},Ft=new Map([["$data",(jt,Ct)=>jt.datasets?jt.datasets.data:jt],["$record",(jt,Ct)=>(jt.datasets?jt.datasets.data:jt)[wt.$getChildren]()[0]],["$template",(jt,Ct)=>jt.template],["$connectionSet",(jt,Ct)=>jt.connectionSet],["$form",(jt,Ct)=>jt.form],["$layout",(jt,Ct)=>jt.layout],["$host",(jt,Ct)=>jt.host],["$dataWindow",(jt,Ct)=>jt.dataWindow],["$event",(jt,Ct)=>jt.event],["!",(jt,Ct)=>jt.datasets],["$xfa",(jt,Ct)=>jt],["xfa",(jt,Ct)=>jt],["$",(jt,Ct)=>Ct]]),Xt=new WeakMap;function Kt(jt){return jt=jt.trim(),jt==="*"?1/0:parseInt(jt,10)||0}function Nt(jt,Ct,qt=!0){let Bt=jt.match(Pt);if(!Bt)return null;let[Gt]=Bt;const en=[{name:Gt,cacheName:"."+Gt,index:0,js:null,formCalc:null,operator:bt.dot}];let dn=Gt.length;for(;dn<jt.length;){const Qt=dn;if(jt.charAt(dn++)==="["){if(Bt=jt.slice(dn).match(_e),!Bt)return(0,_t.warn)("XFA - Invalid index in SOM expression"),null;en.at(-1).index=Kt(Bt[0]),dn+=Bt[0].length+1;continue}let nn;switch(jt.charAt(dn)){case".":if(!Ct)return null;dn++,nn=bt.dotDot;break;case"#":dn++,nn=bt.dotHash;break;case"[":if(qt)return(0,_t.warn)("XFA - SOM expression contains a FormCalc subexpression which is not supported for now."),null;nn=bt.dotBracket;break;case"(":if(qt)return(0,_t.warn)("XFA - SOM expression contains a JavaScript subexpression which is not supported for now."),null;nn=bt.dotParen;break;default:nn=bt.dot;break}if(Bt=jt.slice(dn).match(Pt),!Bt)break;[Gt]=Bt,dn+=Gt.length,en.push({name:Gt,cacheName:jt.slice(Qt,dn),operator:nn,index:0,js:null,formCalc:null})}return en}function $t(jt,Ct,qt,Bt=!0,Gt=!0){const en=Nt(qt,Bt);if(!en)return null;const dn=Ft.get(en[0].name);let Qt=0,gn;dn?(gn=!0,jt=[dn(jt,Ct)],Qt=1):(gn=Ct===null,jt=[Ct||jt]);for(let nn=en.length;Qt<nn;Qt++){const{name:bn,cacheName:Vt,operator:Yt,index:hn}=en[Qt],Ut=[];for(const Ot of jt){if(!Ot.isXFAObject)continue;let zt,an;if(Gt&&(an=Xt.get(Ot),an||(an=new Map,Xt.set(Ot,an)),zt=an.get(Vt)),!zt){switch(Yt){case bt.dot:zt=Ot[wt.$getChildrenByName](bn,!1);break;case bt.dotDot:zt=Ot[wt.$getChildrenByName](bn,!0);break;case bt.dotHash:zt=Ot[wt.$getChildrenByClass](bn),zt=zt.isXFAObjectArray?zt.children:[zt];break}Gt&&an.set(Vt,zt)}zt.length>0&&Ut.push(zt)}if(Ut.length===0&&!gn&&Qt===0){if(Ct=Ct[wt.$getParent](),!Ct)return null;Qt=-1,jt=[Ct];continue}jt=isFinite(hn)?Ut.filter(Ot=>hn<Ot.length).map(Ot=>Ot[hn]):Ut.flat()}return jt.length===0?null:jt}function Dt(jt,Ct,qt){const Bt=Nt(qt);if(!Bt||Bt.some(dn=>dn.operator===bt.dotDot))return null;const Gt=Ft.get(Bt[0].name);let en=0;Gt?(jt=Gt(jt,Ct),en=1):jt=Ct||jt;for(let dn=Bt.length;en<dn;en++){const{name:Qt,operator:gn,index:nn}=Bt[en];if(!isFinite(nn))return Bt[en].index=0,jt.createNodes(Bt.slice(en));let bn;switch(gn){case bt.dot:bn=jt[wt.$getChildrenByName](Qt,!1);break;case bt.dotDot:bn=jt[wt.$getChildrenByName](Qt,!0);break;case bt.dotHash:bn=jt[wt.$getChildrenByClass](Qt),bn=bn.isXFAObjectArray?bn.children:[bn];break}if(bn.length===0)return jt.createNodes(Bt.slice(en));if(nn<bn.length){const Vt=bn[nn];if(!Vt.isXFAObject)return(0,_t.warn)("XFA - Cannot create a node."),null;jt=Vt}else return Bt[en].index=nn-bn.length,jt.createNodes(Bt.slice(en))}return null}},(kt,Et,Rt)=>{Object.defineProperty(Et,"__esModule",{value:!0}),Et.DataHandler=void 0;var wt=Rt(78);class _t{constructor(_e,bt){this.data=bt,this.dataset=_e.datasets||null}serialize(_e){const bt=[[-1,this.data[wt.$getChildren]()]];for(;bt.length>0;){const Xt=bt.at(-1),[Kt,Nt]=Xt;if(Kt+1===Nt.length){bt.pop();continue}const $t=Nt[++Xt[0]],Dt=_e.get($t[wt.$uid]);if(Dt)$t[wt.$setValue](Dt);else{const Ct=$t[wt.$getAttributes]();for(const qt of Ct.values()){const Bt=_e.get(qt[wt.$uid]);if(Bt){qt[wt.$setValue](Bt);break}}}const jt=$t[wt.$getChildren]();jt.length>0&&bt.push([-1,jt])}const Ft=['<xfa:datasets xmlns:xfa="http://www.xfa.org/schema/xfa-data/1.0/">'];if(this.dataset)for(const Xt of this.dataset[wt.$getChildren]())Xt[wt.$nodeName]!=="data"&&Xt[wt.$toString](Ft);return this.data[wt.$toString](Ft),Ft.push("</xfa:datasets>"),Ft.join("")}}Et.DataHandler=_t},(kt,Et,Rt)=>{Object.defineProperty(Et,"__esModule",{value:!0}),Et.XFAParser=void 0;var wt=Rt(78),_t=Rt(71),Pt=Rt(91),_e=Rt(2);class bt extends _t.XMLParserBase{constructor(Xt=null,Kt=!1){super(),this._builder=new Pt.Builder(Xt),this._stack=[],this._globalData={usedTypefaces:new Set},this._ids=new Map,this._current=this._builder.buildRoot(this._ids),this._errorCode=_t.XMLParserErrorCode.NoError,this._whiteRegex=/^\s+$/,this._nbsps=/\xa0+/g,this._richText=Kt}parse(Xt){if(this.parseXml(Xt),this._errorCode===_t.XMLParserErrorCode.NoError)return this._current[wt.$finalize](),this._current.element}onText(Xt){if(Xt=Xt.replace(this._nbsps,Kt=>Kt.slice(1)+" "),this._richText||this._current[wt.$acceptWhitespace]()){this._current[wt.$onText](Xt,this._richText);return}this._whiteRegex.test(Xt)||this._current[wt.$onText](Xt.trim())}onCdata(Xt){this._current[wt.$onText](Xt)}_mkAttributes(Xt,Kt){let Nt=null,$t=null;const Dt=Object.create({});for(const{name:jt,value:Ct}of Xt)if(jt==="xmlns")Nt?(0,_e.warn)(`XFA - multiple namespace definition in <${Kt}>`):Nt=Ct;else if(jt.startsWith("xmlns:")){const qt=jt.substring(6);$t||($t=[]),$t.push({prefix:qt,value:Ct})}else{const qt=jt.indexOf(":");if(qt===-1)Dt[jt]=Ct;else{let Bt=Dt[wt.$nsAttributes];Bt||(Bt=Dt[wt.$nsAttributes]=Object.create(null));const[Gt,en]=[jt.slice(0,qt),jt.slice(qt+1)],dn=Bt[Gt]||(Bt[Gt]=Object.create(null));dn[en]=Ct}}return[Nt,$t,Dt]}_getNameAndPrefix(Xt,Kt){const Nt=Xt.indexOf(":");return Nt===-1?[Xt,null]:[Xt.substring(Nt+1),Kt?"":Xt.substring(0,Nt)]}onBeginElement(Xt,Kt,Nt){const[$t,Dt,jt]=this._mkAttributes(Kt,Xt),[Ct,qt]=this._getNameAndPrefix(Xt,this._builder.isNsAgnostic()),Bt=this._builder.build({nsPrefix:qt,name:Ct,attributes:jt,namespace:$t,prefixes:Dt});if(Bt[wt.$globalData]=this._globalData,Nt){Bt[wt.$finalize](),this._current[wt.$onChild](Bt)&&Bt[wt.$setId](this._ids),Bt[wt.$clean](this._builder);return}this._stack.push(this._current),this._current=Bt}onEndElement(Xt){const Kt=this._current;if(Kt[wt.$isCDATAXml]()&&typeof Kt[wt.$content]=="string"){const Nt=new bt;Nt._globalData=this._globalData;const $t=Nt.parse(Kt[wt.$content]);Kt[wt.$content]=null,Kt[wt.$onChild]($t)}Kt[wt.$finalize](),this._current=this._stack.pop(),this._current[wt.$onChild](Kt)&&Kt[wt.$setId](this._ids),Kt[wt.$clean](this._builder)}onError(Xt){this._errorCode=Xt}}Et.XFAParser=bt},(kt,Et,Rt)=>{Object.defineProperty(Et,"__esModule",{value:!0}),Et.Builder=void 0;var wt=Rt(81),_t=Rt(78),Pt=Rt(92),_e=Rt(80),bt=Rt(101),Ft=Rt(2),Xt=Rt(87);class Kt extends Xt.XFAObject{constructor(jt){super(-1,"root",Object.create(null)),this.element=null,this[_t.$ids]=jt}[_t.$onChild](jt){return this.element=jt,!0}[_t.$finalize](){super[_t.$finalize](),this.element.template instanceof _e.Template&&(this[_t.$ids].set(_t.$root,this.element),this.element.template[_t.$resolvePrototypes](this[_t.$ids]),this.element.template[_t.$ids]=this[_t.$ids])}}class Nt extends Xt.XFAObject{constructor(){super(-1,"",Object.create(null))}[_t.$onChild](jt){return!1}}class $t{constructor(jt=null){this._namespaceStack=[],this._nsAgnosticLevel=0,this._namespacePrefixes=new Map,this._namespaces=new Map,this._nextNsId=Math.max(...Object.values(wt.NamespaceIds).map(({id:Ct})=>Ct)),this._currentNamespace=jt||new bt.UnknownNamespace(++this._nextNsId)}buildRoot(jt){return new Kt(jt)}build({nsPrefix:jt,name:Ct,attributes:qt,namespace:Bt,prefixes:Gt}){const en=Bt!==null;if(en&&(this._namespaceStack.push(this._currentNamespace),this._currentNamespace=this._searchNamespace(Bt)),Gt&&this._addNamespacePrefix(Gt),qt.hasOwnProperty(_t.$nsAttributes)){const gn=Pt.NamespaceSetUp.datasets,nn=qt[_t.$nsAttributes];let bn=null;for(const[Vt,Yt]of Object.entries(nn))if(this._getNamespaceToUse(Vt)===gn){bn={xfa:Yt};break}bn?qt[_t.$nsAttributes]=bn:delete qt[_t.$nsAttributes]}const dn=this._getNamespaceToUse(jt),Qt=(dn==null?void 0:dn[wt.$buildXFAObject](Ct,qt))||new Nt;return Qt[_t.$isNsAgnostic]()&&this._nsAgnosticLevel++,(en||Gt||Qt[_t.$isNsAgnostic]())&&(Qt[_t.$cleanup]={hasNamespace:en,prefixes:Gt,nsAgnostic:Qt[_t.$isNsAgnostic]()}),Qt}isNsAgnostic(){return this._nsAgnosticLevel>0}_searchNamespace(jt){let Ct=this._namespaces.get(jt);if(Ct)return Ct;for(const[qt,{check:Bt}]of Object.entries(wt.NamespaceIds))if(Bt(jt)){if(Ct=Pt.NamespaceSetUp[qt],Ct)return this._namespaces.set(jt,Ct),Ct;break}return Ct=new bt.UnknownNamespace(++this._nextNsId),this._namespaces.set(jt,Ct),Ct}_addNamespacePrefix(jt){for(const{prefix:Ct,value:qt}of jt){const Bt=this._searchNamespace(qt);let Gt=this._namespacePrefixes.get(Ct);Gt||(Gt=[],this._namespacePrefixes.set(Ct,Gt)),Gt.push(Bt)}}_getNamespaceToUse(jt){if(!jt)return this._currentNamespace;const Ct=this._namespacePrefixes.get(jt);return(Ct==null?void 0:Ct.length)>0?Ct.at(-1):((0,Ft.warn)(`Unknown namespace prefix: ${jt}.`),null)}clean(jt){const{hasNamespace:Ct,prefixes:qt,nsAgnostic:Bt}=jt;Ct&&(this._currentNamespace=this._namespaceStack.pop()),qt&&qt.forEach(({prefix:Gt})=>{this._namespacePrefixes.get(Gt).pop()}),Bt&&this._nsAgnosticLevel--}}Et.Builder=$t},(kt,Et,Rt)=>{Object.defineProperty(Et,"__esModule",{value:!0}),Et.NamespaceSetUp=void 0;var wt=Rt(93),_t=Rt(94),Pt=Rt(95),_e=Rt(96),bt=Rt(97),Ft=Rt(98),Xt=Rt(80),Kt=Rt(99),Nt=Rt(100);const $t={config:wt.ConfigNamespace,connection:_t.ConnectionSetNamespace,datasets:Pt.DatasetsNamespace,localeSet:_e.LocaleSetNamespace,signature:bt.SignatureNamespace,stylesheet:Ft.StylesheetNamespace,template:Xt.TemplateNamespace,xdp:Kt.XdpNamespace,xhtml:Nt.XhtmlNamespace};Et.NamespaceSetUp=$t},(kt,Et,Rt)=>{Object.defineProperty(Et,"__esModule",{value:!0}),Et.ConfigNamespace=void 0;var wt=Rt(81),_t=Rt(78),Pt=Rt(87),_e=Rt(84),bt=Rt(2);const Ft=wt.NamespaceIds.config.id;class Xt extends Pt.XFAObject{constructor(yn){super(Ft,"acrobat",!0),this.acrobat7=null,this.autoSave=null,this.common=null,this.validate=null,this.validateApprovalSignatures=null,this.submitUrl=new Pt.XFAObjectArray}}class Kt extends Pt.XFAObject{constructor(yn){super(Ft,"acrobat7",!0),this.dynamicRender=null}}class Nt extends Pt.OptionObject{constructor(yn){super(Ft,"ADBE_JSConsole",["delegate","Enable","Disable"])}}class $t extends Pt.OptionObject{constructor(yn){super(Ft,"ADBE_JSDebugger",["delegate","Enable","Disable"])}}class Dt extends Pt.Option01{constructor(yn){super(Ft,"addSilentPrint")}}class jt extends Pt.Option01{constructor(yn){super(Ft,"addViewerPreferences")}}class Ct extends Pt.Option10{constructor(yn){super(Ft,"adjustData")}}class qt extends Pt.IntegerObject{constructor(yn){super(Ft,"adobeExtensionLevel",0,qn=>qn>=1&&qn<=8)}}class Bt extends Pt.XFAObject{constructor(yn){super(Ft,"agent",!0),this.name=yn.name?yn.name.trim():"",this.common=new Pt.XFAObjectArray}}class Gt extends Pt.ContentObject{constructor(yn){super(Ft,"alwaysEmbed")}}class en extends Pt.StringObject{constructor(yn){super(Ft,"amd")}}class dn extends Pt.XFAObject{constructor(yn){super(Ft,"area"),this.level=(0,_e.getInteger)({data:yn.level,defaultValue:0,validate:qn=>qn>=1&&qn<=3}),this.name=(0,_e.getStringOption)(yn.name,["","barcode","coreinit","deviceDriver","font","general","layout","merge","script","signature","sourceSet","templateCache"])}}class Qt extends Pt.OptionObject{constructor(yn){super(Ft,"attributes",["preserve","delegate","ignore"])}}class gn extends Pt.OptionObject{constructor(yn){super(Ft,"autoSave",["disabled","enabled"])}}class nn extends Pt.StringObject{constructor(yn){super(Ft,"base")}}class bn extends Pt.XFAObject{constructor(yn){super(Ft,"batchOutput"),this.format=(0,_e.getStringOption)(yn.format,["none","concat","zip","zipCompress"])}}class Vt extends Pt.ContentObject{constructor(yn){super(Ft,"behaviorOverride")}[_t.$finalize](){this[_t.$content]=new Map(this[_t.$content].trim().split(/\s+/).filter(yn=>yn.includes(":")).map(yn=>yn.split(":",2)))}}class Yt extends Pt.XFAObject{constructor(yn){super(Ft,"cache",!0),this.templateCache=null}}class hn extends Pt.Option01{constructor(yn){super(Ft,"change")}}class Ut extends Pt.XFAObject{constructor(yn){super(Ft,"common",!0),this.data=null,this.locale=null,this.localeSet=null,this.messaging=null,this.suppressBanner=null,this.template=null,this.validationMessaging=null,this.versionControl=null,this.log=new Pt.XFAObjectArray}}class Ot extends Pt.XFAObject{constructor(yn){super(Ft,"compress"),this.scope=(0,_e.getStringOption)(yn.scope,["imageOnly","document"])}}class zt extends Pt.Option01{constructor(yn){super(Ft,"compressLogicalStructure")}}class an extends Pt.Option10{constructor(yn){super(Ft,"compressObjectStream")}}class Ht extends Pt.XFAObject{constructor(yn){super(Ft,"compression",!0),this.compressLogicalStructure=null,this.compressObjectStream=null,this.level=null,this.type=null}}class Wt extends Pt.XFAObject{constructor(yn){super(Ft,"config",!0),this.acrobat=null,this.present=null,this.trace=null,this.agent=new Pt.XFAObjectArray}}class tn extends Pt.OptionObject{constructor(yn){super(Ft,"conformance",["A","B"])}}class ln extends Pt.Option01{constructor(yn){super(Ft,"contentCopy")}}class on extends Pt.IntegerObject{constructor(yn){super(Ft,"copies",1,qn=>qn>=1)}}class cn extends Pt.StringObject{constructor(yn){super(Ft,"creator")}}class sn extends Pt.IntegerObject{constructor(yn){super(Ft,"currentPage",0,qn=>qn>=0)}}class rn extends Pt.XFAObject{constructor(yn){super(Ft,"data",!0),this.adjustData=null,this.attributes=null,this.incrementalLoad=null,this.outputXSL=null,this.range=null,this.record=null,this.startNode=null,this.uri=null,this.window=null,this.xsl=null,this.excludeNS=new Pt.XFAObjectArray,this.transform=new Pt.XFAObjectArray}}class xn extends Pt.XFAObject{constructor(yn){super(Ft,"debug",!0),this.uri=null}}class vn extends Pt.ContentObject{constructor(yn){super(Ft,"defaultTypeface"),this.writingScript=(0,_e.getStringOption)(yn.writingScript,["*","Arabic","Cyrillic","EastEuropeanRoman","Greek","Hebrew","Japanese","Korean","Roman","SimplifiedChinese","Thai","TraditionalChinese","Vietnamese"])}}class En extends Pt.OptionObject{constructor(yn){super(Ft,"destination",["pdf","pcl","ps","webClient","zpl"])}}class Fn extends Pt.Option01{constructor(yn){super(Ft,"documentAssembly")}}class Mn extends Pt.XFAObject{constructor(yn){super(Ft,"driver",!0),this.name=yn.name?yn.name.trim():"",this.fontInfo=null,this.xdc=null}}class Tn extends Pt.OptionObject{constructor(yn){super(Ft,"duplexOption",["simplex","duplexFlipLongEdge","duplexFlipShortEdge"])}}class Sn extends Pt.OptionObject{constructor(yn){super(Ft,"dynamicRender",["forbidden","required"])}}class mn extends Pt.Option01{constructor(yn){super(Ft,"embed")}}class fn extends Pt.Option01{constructor(yn){super(Ft,"encrypt")}}class Jt extends Pt.XFAObject{constructor(yn){super(Ft,"encryption",!0),this.encrypt=null,this.encryptionLevel=null,this.permissions=null}}class un extends Pt.OptionObject{constructor(yn){super(Ft,"encryptionLevel",["40bit","128bit"])}}class pn extends Pt.StringObject{constructor(yn){super(Ft,"enforce")}}class wn extends Pt.XFAObject{constructor(yn){super(Ft,"equate"),this.force=(0,_e.getInteger)({data:yn.force,defaultValue:1,validate:qn=>qn===0}),this.from=yn.from||"",this.to=yn.to||""}}class kn extends Pt.XFAObject{constructor(yn){super(Ft,"equateRange"),this.from=yn.from||"",this.to=yn.to||"",this._unicodeRange=yn.unicodeRange||""}get unicodeRange(){const yn=[],qn=/U\+([0-9a-fA-F]+)/,_i=this._unicodeRange;for(let Kn of _i.split(",").map(ir=>ir.trim()).filter(ir=>!!ir))Kn=Kn.split("-",2).map(ir=>{const ar=ir.match(qn);return ar?parseInt(ar[1],16):0}),Kn.length===1&&Kn.push(Kn[0]),yn.push(Kn);return(0,bt.shadow)(this,"unicodeRange",yn)}}class Rn extends Pt.ContentObject{constructor(yn){super(Ft,"exclude")}[_t.$finalize](){this[_t.$content]=this[_t.$content].trim().split(/\s+/).filter(yn=>yn&&["calculate","close","enter","exit","initialize","ready","validate"].includes(yn))}}class Cn extends Pt.StringObject{constructor(yn){super(Ft,"excludeNS")}}class An extends Pt.OptionObject{constructor(yn){super(Ft,"flipLabel",["usePrinterSetting","on","off"])}}class _n extends Pt.XFAObject{constructor(yn){super(Ft,"fontInfo",!0),this.embed=null,this.map=null,this.subsetBelow=null,this.alwaysEmbed=new Pt.XFAObjectArray,this.defaultTypeface=new Pt.XFAObjectArray,this.neverEmbed=new Pt.XFAObjectArray}}class In extends Pt.Option01{constructor(yn){super(Ft,"formFieldFilling")}}class Pn extends Pt.StringObject{constructor(yn){super(Ft,"groupParent")}}class Dn extends Pt.OptionObject{constructor(yn){super(Ft,"ifEmpty",["dataValue","dataGroup","ignore","remove"])}}class Ln extends Pt.StringObject{constructor(yn){super(Ft,"includeXDPContent")}}class Un extends Pt.OptionObject{constructor(yn){super(Ft,"incrementalLoad",["none","forwardOnly"])}}class tr extends Pt.Option01{constructor(yn){super(Ft,"incrementalMerge")}}class er extends Pt.Option01{constructor(yn){super(Ft,"interactive")}}class Qn extends Pt.OptionObject{constructor(yn){super(Ft,"jog",["usePrinterSetting","none","pageSet"])}}class Yn extends Pt.XFAObject{constructor(yn){super(Ft,"labelPrinter",!0),this.name=(0,_e.getStringOption)(yn.name,["zpl","dpl","ipl","tcpl"]),this.batchOutput=null,this.flipLabel=null,this.fontInfo=null,this.xdc=null}}class Xn extends Pt.OptionObject{constructor(yn){super(Ft,"layout",["paginate","panel"])}}class nr extends Pt.IntegerObject{constructor(yn){super(Ft,"level",0,qn=>qn>0)}}class lr extends Pt.Option01{constructor(yn){super(Ft,"linearized")}}class dr extends Pt.StringObject{constructor(yn){super(Ft,"locale")}}class Bn extends Pt.StringObject{constructor(yn){super(Ft,"localeSet")}}class Hn extends Pt.XFAObject{constructor(yn){super(Ft,"log",!0),this.mode=null,this.threshold=null,this.to=null,this.uri=null}}class Wn extends Pt.XFAObject{constructor(yn){super(Ft,"map",!0),this.equate=new Pt.XFAObjectArray,this.equateRange=new Pt.XFAObjectArray}}class cr extends Pt.XFAObject{constructor(yn){super(Ft,"mediumInfo",!0),this.map=null}}class sr extends Pt.XFAObject{constructor(yn){super(Ft,"message",!0),this.msgId=null,this.severity=null}}class xr extends Pt.XFAObject{constructor(yn){super(Ft,"messaging",!0),this.message=new Pt.XFAObjectArray}}class Jn extends Pt.OptionObject{constructor(yn){super(Ft,"mode",["append","overwrite"])}}class Vn extends Pt.Option01{constructor(yn){super(Ft,"modifyAnnots")}}class Zn extends Pt.IntegerObject{constructor(yn){super(Ft,"msgId",1,qn=>qn>=1)}}class ur extends Pt.StringObject{constructor(yn){super(Ft,"nameAttr")}}class hr extends Pt.ContentObject{constructor(yn){super(Ft,"neverEmbed")}}class or extends Pt.IntegerObject{constructor(yn){super(Ft,"numberOfCopies",null,qn=>qn>=2&&qn<=5)}}class pr extends Pt.XFAObject{constructor(yn){super(Ft,"openAction",!0),this.destination=null}}class wr extends Pt.XFAObject{constructor(yn){super(Ft,"output",!0),this.to=null,this.type=null,this.uri=null}}class fr extends Pt.StringObject{constructor(yn){super(Ft,"outputBin")}}class Ar extends Pt.XFAObject{constructor(yn){super(Ft,"outputXSL",!0),this.uri=null}}class Lr extends Pt.OptionObject{constructor(yn){super(Ft,"overprint",["none","both","draw","field"])}}class Fr extends Pt.StringObject{constructor(yn){super(Ft,"packets")}[_t.$finalize](){this[_t.$content]!=="*"&&(this[_t.$content]=this[_t.$content].trim().split(/\s+/).filter(yn=>["config","datasets","template","xfdf","xslt"].includes(yn)))}}class $r extends Pt.XFAObject{constructor(yn){super(Ft,"pageOffset"),this.x=(0,_e.getInteger)({data:yn.x,defaultValue:"useXDCSetting",validate:qn=>!0}),this.y=(0,_e.getInteger)({data:yn.y,defaultValue:"useXDCSetting",validate:qn=>!0})}}class Er extends Pt.StringObject{constructor(yn){super(Ft,"pageRange")}[_t.$finalize](){const yn=this[_t.$content].trim().split(/\s+/).map(_i=>parseInt(_i,10)),qn=[];for(let _i=0,Kn=yn.length;_i<Kn;_i+=2)qn.push(yn.slice(_i,_i+2));this[_t.$content]=qn}}class _r extends Pt.OptionObject{constructor(yn){super(Ft,"pagination",["simplex","duplexShortEdge","duplexLongEdge"])}}class Rr extends Pt.OptionObject{constructor(yn){super(Ft,"paginationOverride",["none","forceDuplex","forceDuplexLongEdge","forceDuplexShortEdge","forceSimplex"])}}class qr extends Pt.IntegerObject{constructor(yn){super(Ft,"part",1,qn=>!1)}}class vs extends Pt.XFAObject{constructor(yn){super(Ft,"pcl",!0),this.name=yn.name||"",this.batchOutput=null,this.fontInfo=null,this.jog=null,this.mediumInfo=null,this.outputBin=null,this.pageOffset=null,this.staple=null,this.xdc=null}}class ls extends Pt.XFAObject{constructor(yn){super(Ft,"pdf",!0),this.name=yn.name||"",this.adobeExtensionLevel=null,this.batchOutput=null,this.compression=null,this.creator=null,this.encryption=null,this.fontInfo=null,this.interactive=null,this.linearized=null,this.openAction=null,this.pdfa=null,this.producer=null,this.renderPolicy=null,this.scriptModel=null,this.silentPrint=null,this.submitFormat=null,this.tagged=null,this.version=null,this.viewerPreferences=null,this.xdc=null}}class ns extends Pt.XFAObject{constructor(yn){super(Ft,"pdfa",!0),this.amd=null,this.conformance=null,this.includeXDPContent=null,this.part=null}}class Ns extends Pt.XFAObject{constructor(yn){super(Ft,"permissions",!0),this.accessibleContent=null,this.change=null,this.contentCopy=null,this.documentAssembly=null,this.formFieldFilling=null,this.modifyAnnots=null,this.plaintextMetadata=null,this.print=null,this.printHighQuality=null}}class Gs extends Pt.Option01{constructor(yn){super(Ft,"pickTrayByPDFSize")}}class vr extends Pt.StringObject{constructor(yn){super(Ft,"picture")}}class yr extends Pt.Option01{constructor(yn){super(Ft,"plaintextMetadata")}}class Sr extends Pt.OptionObject{constructor(yn){super(Ft,"presence",["preserve","dissolve","dissolveStructure","ignore","remove"])}}class Pr extends Pt.XFAObject{constructor(yn){super(Ft,"present",!0),this.behaviorOverride=null,this.cache=null,this.common=null,this.copies=null,this.destination=null,this.incrementalMerge=null,this.layout=null,this.output=null,this.overprint=null,this.pagination=null,this.paginationOverride=null,this.script=null,this.validate=null,this.xdp=null,this.driver=new Pt.XFAObjectArray,this.labelPrinter=new Pt.XFAObjectArray,this.pcl=new Pt.XFAObjectArray,this.pdf=new Pt.XFAObjectArray,this.ps=new Pt.XFAObjectArray,this.submitUrl=new Pt.XFAObjectArray,this.webClient=new Pt.XFAObjectArray,this.zpl=new Pt.XFAObjectArray}}class jr extends Pt.Option01{constructor(yn){super(Ft,"print")}}class es extends Pt.Option01{constructor(yn){super(Ft,"printHighQuality")}}class Or extends Pt.OptionObject{constructor(yn){super(Ft,"printScaling",["appdefault","noScaling"])}}class Tr extends Pt.StringObject{constructor(yn){super(Ft,"printerName")}}class Vr extends Pt.StringObject{constructor(yn){super(Ft,"producer")}}class us extends Pt.XFAObject{constructor(yn){super(Ft,"ps",!0),this.name=yn.name||"",this.batchOutput=null,this.fontInfo=null,this.jog=null,this.mediumInfo=null,this.outputBin=null,this.staple=null,this.xdc=null}}class bs extends Pt.ContentObject{constructor(yn){super(Ft,"range")}[_t.$finalize](){this[_t.$content]=this[_t.$content].trim().split(/\s*,\s*/,2).map(yn=>yn.split("-").map(qn=>parseInt(qn.trim(),10))).filter(yn=>yn.every(qn=>!isNaN(qn))).map(yn=>(yn.length===1&&yn.push(yn[0]),yn))}}class Jr extends Pt.ContentObject{constructor(yn){super(Ft,"record")}[_t.$finalize](){this[_t.$content]=this[_t.$content].trim();const yn=parseInt(this[_t.$content],10);!isNaN(yn)&&yn>=0&&(this[_t.$content]=yn)}}class ss extends Pt.ContentObject{constructor(yn){super(Ft,"relevant")}[_t.$finalize](){this[_t.$content]=this[_t.$content].trim().split(/\s+/)}}class ms extends Pt.ContentObject{constructor(yn){super(Ft,"rename")}[_t.$finalize](){this[_t.$content]=this[_t.$content].trim(),(this[_t.$content].toLowerCase().startsWith("xml")||new RegExp("[\\p{L}_][\\p{L}\\d._\\p{M}-]*","u").test(this[_t.$content]))&&(0,bt.warn)("XFA - Rename: invalid XFA name")}}class Wr extends Pt.OptionObject{constructor(yn){super(Ft,"renderPolicy",["server","client"])}}class hs extends Pt.OptionObject{constructor(yn){super(Ft,"runScripts",["both","client","none","server"])}}class zr extends Pt.XFAObject{constructor(yn){super(Ft,"script",!0),this.currentPage=null,this.exclude=null,this.runScripts=null}}class gs extends Pt.OptionObject{constructor(yn){super(Ft,"scriptModel",["XFA","none"])}}class ws extends Pt.OptionObject{constructor(yn){super(Ft,"severity",["ignore","error","information","trace","warning"])}}class io extends Pt.XFAObject{constructor(yn){super(Ft,"silentPrint",!0),this.addSilentPrint=null,this.printerName=null}}class ds extends Pt.XFAObject{constructor(yn){super(Ft,"staple"),this.mode=(0,_e.getStringOption)(yn.mode,["usePrinterSetting","on","off"])}}class fs extends Pt.StringObject{constructor(yn){super(Ft,"startNode")}}class $s extends Pt.IntegerObject{constructor(yn){super(Ft,"startPage",0,qn=>!0)}}class Ys extends Pt.OptionObject{constructor(yn){super(Ft,"submitFormat",["html","delegate","fdf","xml","pdf"])}}class wo extends Pt.StringObject{constructor(yn){super(Ft,"submitUrl")}}class Tl extends Pt.IntegerObject{constructor(yn){super(Ft,"subsetBelow",100,qn=>qn>=0&&qn<=100)}}class zp extends Pt.Option01{constructor(yn){super(Ft,"suppressBanner")}}class T1 extends Pt.Option01{constructor(yn){super(Ft,"tagged")}}class _1 extends Pt.XFAObject{constructor(yn){super(Ft,"template",!0),this.base=null,this.relevant=null,this.startPage=null,this.uri=null,this.xsl=null}}class Xp extends Pt.OptionObject{constructor(yn){super(Ft,"threshold",["trace","error","information","warning"])}}class vu extends Pt.OptionObject{constructor(yn){super(Ft,"to",["null","memory","stderr","stdout","system","uri"])}}class R1 extends Pt.XFAObject{constructor(yn){super(Ft,"templateCache"),this.maxEntries=(0,_e.getInteger)({data:yn.maxEntries,defaultValue:5,validate:qn=>qn>=0})}}class wu extends Pt.XFAObject{constructor(yn){super(Ft,"trace",!0),this.area=new Pt.XFAObjectArray}}class zl extends Pt.XFAObject{constructor(yn){super(Ft,"transform",!0),this.groupParent=null,this.ifEmpty=null,this.nameAttr=null,this.picture=null,this.presence=null,this.rename=null,this.whitespace=null}}class Wp extends Pt.OptionObject{constructor(yn){super(Ft,"type",["none","ascii85","asciiHex","ccittfax","flate","lzw","runLength","native","xdp","mergedXDP"])}}class F1 extends Pt.StringObject{constructor(yn){super(Ft,"uri")}}class Au extends Pt.OptionObject{constructor(yn){super(Ft,"validate",["preSubmit","prePrint","preExecute","preSave"])}}class c0 extends Pt.ContentObject{constructor(yn){super(Ft,"validateApprovalSignatures")}[_t.$finalize](){this[_t.$content]=this[_t.$content].trim().split(/\s+/).filter(yn=>["docReady","postSign"].includes(yn))}}class z0 extends Pt.OptionObject{constructor(yn){super(Ft,"validationMessaging",["allMessagesIndividually","allMessagesTogether","firstMessageOnly","noMessages"])}}class Vp extends Pt.OptionObject{constructor(yn){super(Ft,"version",["1.7","1.6","1.5","1.4","1.3","1.2"])}}class P1 extends Pt.XFAObject{constructor(yn){super(Ft,"VersionControl"),this.outputBelow=(0,_e.getStringOption)(yn.outputBelow,["warn","error","update"]),this.sourceAbove=(0,_e.getStringOption)(yn.sourceAbove,["warn","error"]),this.sourceBelow=(0,_e.getStringOption)(yn.sourceBelow,["update","maintain"])}}class I1 extends Pt.XFAObject{constructor(yn){super(Ft,"viewerPreferences",!0),this.ADBE_JSConsole=null,this.ADBE_JSDebugger=null,this.addViewerPreferences=null,this.duplexOption=null,this.enforce=null,this.numberOfCopies=null,this.pageRange=null,this.pickTrayByPDFSize=null,this.printScaling=null}}class Su extends Pt.XFAObject{constructor(yn){super(Ft,"webClient",!0),this.name=yn.name?yn.name.trim():"",this.fontInfo=null,this.xdc=null}}class Gp extends Pt.OptionObject{constructor(yn){super(Ft,"whitespace",["preserve","ltrim","normalize","rtrim","trim"])}}class Eu extends Pt.ContentObject{constructor(yn){super(Ft,"window")}[_t.$finalize](){const yn=this[_t.$content].trim().split(/\s*,\s*/,2).map(qn=>parseInt(qn,10));if(yn.some(qn=>isNaN(qn))){this[_t.$content]=[0,0];return}yn.length===1&&yn.push(yn[0]),this[_t.$content]=yn}}class qp extends Pt.XFAObject{constructor(yn){super(Ft,"xdc",!0),this.uri=new Pt.XFAObjectArray,this.xsl=new Pt.XFAObjectArray}}class jn extends Pt.XFAObject{constructor(yn){super(Ft,"xdp",!0),this.packets=null}}class Gn extends Pt.XFAObject{constructor(yn){super(Ft,"xsl",!0),this.debug=null,this.uri=null}}class rr extends Pt.XFAObject{constructor(yn){super(Ft,"zpl",!0),this.name=yn.name?yn.name.trim():"",this.batchOutput=null,this.flipLabel=null,this.fontInfo=null,this.xdc=null}}class zn{static[wt.$buildXFAObject](yn,qn){if(zn.hasOwnProperty(yn))return zn[yn](qn)}static acrobat(yn){return new Xt(yn)}static acrobat7(yn){return new Kt(yn)}static ADBE_JSConsole(yn){return new Nt(yn)}static ADBE_JSDebugger(yn){return new $t(yn)}static addSilentPrint(yn){return new Dt(yn)}static addViewerPreferences(yn){return new jt(yn)}static adjustData(yn){return new Ct(yn)}static adobeExtensionLevel(yn){return new qt(yn)}static agent(yn){return new Bt(yn)}static alwaysEmbed(yn){return new Gt(yn)}static amd(yn){return new en(yn)}static area(yn){return new dn(yn)}static attributes(yn){return new Qt(yn)}static autoSave(yn){return new gn(yn)}static base(yn){return new nn(yn)}static batchOutput(yn){return new bn(yn)}static behaviorOverride(yn){return new Vt(yn)}static cache(yn){return new Yt(yn)}static change(yn){return new hn(yn)}static common(yn){return new Ut(yn)}static compress(yn){return new Ot(yn)}static compressLogicalStructure(yn){return new zt(yn)}static compressObjectStream(yn){return new an(yn)}static compression(yn){return new Ht(yn)}static config(yn){return new Wt(yn)}static conformance(yn){return new tn(yn)}static contentCopy(yn){return new ln(yn)}static copies(yn){return new on(yn)}static creator(yn){return new cn(yn)}static currentPage(yn){return new sn(yn)}static data(yn){return new rn(yn)}static debug(yn){return new xn(yn)}static defaultTypeface(yn){return new vn(yn)}static destination(yn){return new En(yn)}static documentAssembly(yn){return new Fn(yn)}static driver(yn){return new Mn(yn)}static duplexOption(yn){return new Tn(yn)}static dynamicRender(yn){return new Sn(yn)}static embed(yn){return new mn(yn)}static encrypt(yn){return new fn(yn)}static encryption(yn){return new Jt(yn)}static encryptionLevel(yn){return new un(yn)}static enforce(yn){return new pn(yn)}static equate(yn){return new wn(yn)}static equateRange(yn){return new kn(yn)}static exclude(yn){return new Rn(yn)}static excludeNS(yn){return new Cn(yn)}static flipLabel(yn){return new An(yn)}static fontInfo(yn){return new _n(yn)}static formFieldFilling(yn){return new In(yn)}static groupParent(yn){return new Pn(yn)}static ifEmpty(yn){return new Dn(yn)}static includeXDPContent(yn){return new Ln(yn)}static incrementalLoad(yn){return new Un(yn)}static incrementalMerge(yn){return new tr(yn)}static interactive(yn){return new er(yn)}static jog(yn){return new Qn(yn)}static labelPrinter(yn){return new Yn(yn)}static layout(yn){return new Xn(yn)}static level(yn){return new nr(yn)}static linearized(yn){return new lr(yn)}static locale(yn){return new dr(yn)}static localeSet(yn){return new Bn(yn)}static log(yn){return new Hn(yn)}static map(yn){return new Wn(yn)}static mediumInfo(yn){return new cr(yn)}static message(yn){return new sr(yn)}static messaging(yn){return new xr(yn)}static mode(yn){return new Jn(yn)}static modifyAnnots(yn){return new Vn(yn)}static msgId(yn){return new Zn(yn)}static nameAttr(yn){return new ur(yn)}static neverEmbed(yn){return new hr(yn)}static numberOfCopies(yn){return new or(yn)}static openAction(yn){return new pr(yn)}static output(yn){return new wr(yn)}static outputBin(yn){return new fr(yn)}static outputXSL(yn){return new Ar(yn)}static overprint(yn){return new Lr(yn)}static packets(yn){return new Fr(yn)}static pageOffset(yn){return new $r(yn)}static pageRange(yn){return new Er(yn)}static pagination(yn){return new _r(yn)}static paginationOverride(yn){return new Rr(yn)}static part(yn){return new qr(yn)}static pcl(yn){return new vs(yn)}static pdf(yn){return new ls(yn)}static pdfa(yn){return new ns(yn)}static permissions(yn){return new Ns(yn)}static pickTrayByPDFSize(yn){return new Gs(yn)}static picture(yn){return new vr(yn)}static plaintextMetadata(yn){return new yr(yn)}static presence(yn){return new Sr(yn)}static present(yn){return new Pr(yn)}static print(yn){return new jr(yn)}static printHighQuality(yn){return new es(yn)}static printScaling(yn){return new Or(yn)}static printerName(yn){return new Tr(yn)}static producer(yn){return new Vr(yn)}static ps(yn){return new us(yn)}static range(yn){return new bs(yn)}static record(yn){return new Jr(yn)}static relevant(yn){return new ss(yn)}static rename(yn){return new ms(yn)}static renderPolicy(yn){return new Wr(yn)}static runScripts(yn){return new hs(yn)}static script(yn){return new zr(yn)}static scriptModel(yn){return new gs(yn)}static severity(yn){return new ws(yn)}static silentPrint(yn){return new io(yn)}static staple(yn){return new ds(yn)}static startNode(yn){return new fs(yn)}static startPage(yn){return new $s(yn)}static submitFormat(yn){return new Ys(yn)}static submitUrl(yn){return new wo(yn)}static subsetBelow(yn){return new Tl(yn)}static suppressBanner(yn){return new zp(yn)}static tagged(yn){return new T1(yn)}static template(yn){return new _1(yn)}static templateCache(yn){return new R1(yn)}static threshold(yn){return new Xp(yn)}static to(yn){return new vu(yn)}static trace(yn){return new wu(yn)}static transform(yn){return new zl(yn)}static type(yn){return new Wp(yn)}static uri(yn){return new F1(yn)}static validate(yn){return new Au(yn)}static validateApprovalSignatures(yn){return new c0(yn)}static validationMessaging(yn){return new z0(yn)}static version(yn){return new Vp(yn)}static versionControl(yn){return new P1(yn)}static viewerPreferences(yn){return new I1(yn)}static webClient(yn){return new Su(yn)}static whitespace(yn){return new Gp(yn)}static window(yn){return new Eu(yn)}static xdc(yn){return new qp(yn)}static xdp(yn){return new jn(yn)}static xsl(yn){return new Gn(yn)}static zpl(yn){return new rr(yn)}}Et.ConfigNamespace=zn},(kt,Et,Rt)=>{Object.defineProperty(Et,"__esModule",{value:!0}),Et.ConnectionSetNamespace=void 0;var wt=Rt(81),_t=Rt(87);const Pt=wt.NamespaceIds.connectionSet.id;class _e extends _t.XFAObject{constructor(dn){super(Pt,"connectionSet",!0),this.wsdlConnection=new _t.XFAObjectArray,this.xmlConnection=new _t.XFAObjectArray,this.xsdConnection=new _t.XFAObjectArray}}class bt extends _t.XFAObject{constructor(dn){super(Pt,"effectiveInputPolicy"),this.id=dn.id||"",this.name=dn.name||"",this.use=dn.use||"",this.usehref=dn.usehref||""}}class Ft extends _t.XFAObject{constructor(dn){super(Pt,"effectiveOutputPolicy"),this.id=dn.id||"",this.name=dn.name||"",this.use=dn.use||"",this.usehref=dn.usehref||""}}class Xt extends _t.StringObject{constructor(dn){super(Pt,"operation"),this.id=dn.id||"",this.input=dn.input||"",this.name=dn.name||"",this.output=dn.output||"",this.use=dn.use||"",this.usehref=dn.usehref||""}}class Kt extends _t.StringObject{constructor(dn){super(Pt,"rootElement"),this.id=dn.id||"",this.name=dn.name||"",this.use=dn.use||"",this.usehref=dn.usehref||""}}class Nt extends _t.StringObject{constructor(dn){super(Pt,"soapAction"),this.id=dn.id||"",this.name=dn.name||"",this.use=dn.use||"",this.usehref=dn.usehref||""}}class $t extends _t.StringObject{constructor(dn){super(Pt,"soapAddress"),this.id=dn.id||"",this.name=dn.name||"",this.use=dn.use||"",this.usehref=dn.usehref||""}}class Dt extends _t.StringObject{constructor(dn){super(Pt,"uri"),this.id=dn.id||"",this.name=dn.name||"",this.use=dn.use||"",this.usehref=dn.usehref||""}}class jt extends _t.StringObject{constructor(dn){super(Pt,"wsdlAddress"),this.id=dn.id||"",this.name=dn.name||"",this.use=dn.use||"",this.usehref=dn.usehref||""}}class Ct extends _t.XFAObject{constructor(dn){super(Pt,"wsdlConnection",!0),this.dataDescription=dn.dataDescription||"",this.name=dn.name||"",this.effectiveInputPolicy=null,this.effectiveOutputPolicy=null,this.operation=null,this.soapAction=null,this.soapAddress=null,this.wsdlAddress=null}}class qt extends _t.XFAObject{constructor(dn){super(Pt,"xmlConnection",!0),this.dataDescription=dn.dataDescription||"",this.name=dn.name||"",this.uri=null}}class Bt extends _t.XFAObject{constructor(dn){super(Pt,"xsdConnection",!0),this.dataDescription=dn.dataDescription||"",this.name=dn.name||"",this.rootElement=null,this.uri=null}}class Gt{static[wt.$buildXFAObject](dn,Qt){if(Gt.hasOwnProperty(dn))return Gt[dn](Qt)}static connectionSet(dn){return new _e(dn)}static effectiveInputPolicy(dn){return new bt(dn)}static effectiveOutputPolicy(dn){return new Ft(dn)}static operation(dn){return new Xt(dn)}static rootElement(dn){return new Kt(dn)}static soapAction(dn){return new Nt(dn)}static soapAddress(dn){return new $t(dn)}static uri(dn){return new Dt(dn)}static wsdlAddress(dn){return new jt(dn)}static wsdlConnection(dn){return new Ct(dn)}static xmlConnection(dn){return new qt(dn)}static xsdConnection(dn){return new Bt(dn)}}Et.ConnectionSetNamespace=Gt},(kt,Et,Rt)=>{Object.defineProperty(Et,"__esModule",{value:!0}),Et.DatasetsNamespace=void 0;var wt=Rt(78),_t=Rt(81),Pt=Rt(87);const _e=_t.NamespaceIds.datasets.id;class bt extends Pt.XmlObject{constructor(Nt){super(_e,"data",Nt)}[wt.$isNsAgnostic](){return!0}}class Ft extends Pt.XFAObject{constructor(Nt){super(_e,"datasets",!0),this.data=null,this.Signature=null}[wt.$onChild](Nt){const $t=Nt[wt.$nodeName];($t==="data"&&Nt[wt.$namespaceId]===_e||$t==="Signature"&&Nt[wt.$namespaceId]===_t.NamespaceIds.signature.id)&&(this[$t]=Nt),this[wt.$appendChild](Nt)}}class Xt{static[_t.$buildXFAObject](Nt,$t){if(Xt.hasOwnProperty(Nt))return Xt[Nt]($t)}static datasets(Nt){return new Ft(Nt)}static data(Nt){return new bt(Nt)}}Et.DatasetsNamespace=Xt},(kt,Et,Rt)=>{Object.defineProperty(Et,"__esModule",{value:!0}),Et.LocaleSetNamespace=void 0;var wt=Rt(81),_t=Rt(87),Pt=Rt(84);const _e=wt.NamespaceIds.localeSet.id;class bt extends _t.XFAObject{constructor(Wt){super(_e,"calendarSymbols",!0),this.name="gregorian",this.dayNames=new _t.XFAObjectArray(2),this.eraNames=null,this.meridiemNames=null,this.monthNames=new _t.XFAObjectArray(2)}}class Ft extends _t.StringObject{constructor(Wt){super(_e,"currencySymbol"),this.name=(0,Pt.getStringOption)(Wt.name,["symbol","isoname","decimal"])}}class Xt extends _t.XFAObject{constructor(Wt){super(_e,"currencySymbols",!0),this.currencySymbol=new _t.XFAObjectArray(3)}}class Kt extends _t.StringObject{constructor(Wt){super(_e,"datePattern"),this.name=(0,Pt.getStringOption)(Wt.name,["full","long","med","short"])}}class Nt extends _t.XFAObject{constructor(Wt){super(_e,"datePatterns",!0),this.datePattern=new _t.XFAObjectArray(4)}}class $t extends _t.ContentObject{constructor(Wt){super(_e,"dateTimeSymbols")}}class Dt extends _t.StringObject{constructor(Wt){super(_e,"day")}}class jt extends _t.XFAObject{constructor(Wt){super(_e,"dayNames",!0),this.abbr=(0,Pt.getInteger)({data:Wt.abbr,defaultValue:0,validate:tn=>tn===1}),this.day=new _t.XFAObjectArray(7)}}class Ct extends _t.StringObject{constructor(Wt){super(_e,"era")}}class qt extends _t.XFAObject{constructor(Wt){super(_e,"eraNames",!0),this.era=new _t.XFAObjectArray(2)}}class Bt extends _t.XFAObject{constructor(Wt){super(_e,"locale",!0),this.desc=Wt.desc||"",this.name="isoname",this.calendarSymbols=null,this.currencySymbols=null,this.datePatterns=null,this.dateTimeSymbols=null,this.numberPatterns=null,this.numberSymbols=null,this.timePatterns=null,this.typeFaces=null}}class Gt extends _t.XFAObject{constructor(Wt){super(_e,"localeSet",!0),this.locale=new _t.XFAObjectArray}}class en extends _t.StringObject{constructor(Wt){super(_e,"meridiem")}}class dn extends _t.XFAObject{constructor(Wt){super(_e,"meridiemNames",!0),this.meridiem=new _t.XFAObjectArray(2)}}class Qt extends _t.StringObject{constructor(Wt){super(_e,"month")}}class gn extends _t.XFAObject{constructor(Wt){super(_e,"monthNames",!0),this.abbr=(0,Pt.getInteger)({data:Wt.abbr,defaultValue:0,validate:tn=>tn===1}),this.month=new _t.XFAObjectArray(12)}}class nn extends _t.StringObject{constructor(Wt){super(_e,"numberPattern"),this.name=(0,Pt.getStringOption)(Wt.name,["full","long","med","short"])}}class bn extends _t.XFAObject{constructor(Wt){super(_e,"numberPatterns",!0),this.numberPattern=new _t.XFAObjectArray(4)}}class Vt extends _t.StringObject{constructor(Wt){super(_e,"numberSymbol"),this.name=(0,Pt.getStringOption)(Wt.name,["decimal","grouping","percent","minus","zero"])}}class Yt extends _t.XFAObject{constructor(Wt){super(_e,"numberSymbols",!0),this.numberSymbol=new _t.XFAObjectArray(5)}}class hn extends _t.StringObject{constructor(Wt){super(_e,"timePattern"),this.name=(0,Pt.getStringOption)(Wt.name,["full","long","med","short"])}}class Ut extends _t.XFAObject{constructor(Wt){super(_e,"timePatterns",!0),this.timePattern=new _t.XFAObjectArray(4)}}class Ot extends _t.XFAObject{constructor(Wt){super(_e,"typeFace",!0),this.name=Wt.name|""}}class zt extends _t.XFAObject{constructor(Wt){super(_e,"typeFaces",!0),this.typeFace=new _t.XFAObjectArray}}class an{static[wt.$buildXFAObject](Wt,tn){if(an.hasOwnProperty(Wt))return an[Wt](tn)}static calendarSymbols(Wt){return new bt(Wt)}static currencySymbol(Wt){return new Ft(Wt)}static currencySymbols(Wt){return new Xt(Wt)}static datePattern(Wt){return new Kt(Wt)}static datePatterns(Wt){return new Nt(Wt)}static dateTimeSymbols(Wt){return new $t(Wt)}static day(Wt){return new Dt(Wt)}static dayNames(Wt){return new jt(Wt)}static era(Wt){return new Ct(Wt)}static eraNames(Wt){return new qt(Wt)}static locale(Wt){return new Bt(Wt)}static localeSet(Wt){return new Gt(Wt)}static meridiem(Wt){return new en(Wt)}static meridiemNames(Wt){return new dn(Wt)}static month(Wt){return new Qt(Wt)}static monthNames(Wt){return new gn(Wt)}static numberPattern(Wt){return new nn(Wt)}static numberPatterns(Wt){return new bn(Wt)}static numberSymbol(Wt){return new Vt(Wt)}static numberSymbols(Wt){return new Yt(Wt)}static timePattern(Wt){return new hn(Wt)}static timePatterns(Wt){return new Ut(Wt)}static typeFace(Wt){return new Ot(Wt)}static typeFaces(Wt){return new zt(Wt)}}Et.LocaleSetNamespace=an},(kt,Et,Rt)=>{Object.defineProperty(Et,"__esModule",{value:!0}),Et.SignatureNamespace=void 0;var wt=Rt(81),_t=Rt(87);const Pt=wt.NamespaceIds.signature.id;class _e extends _t.XFAObject{constructor(Xt){super(Pt,"signature",!0)}}class bt{static[wt.$buildXFAObject](Xt,Kt){if(bt.hasOwnProperty(Xt))return bt[Xt](Kt)}static signature(Xt){return new _e(Xt)}}Et.SignatureNamespace=bt},(kt,Et,Rt)=>{Object.defineProperty(Et,"__esModule",{value:!0}),Et.StylesheetNamespace=void 0;var wt=Rt(81),_t=Rt(87);const Pt=wt.NamespaceIds.stylesheet.id;class _e extends _t.XFAObject{constructor(Xt){super(Pt,"stylesheet",!0)}}class bt{static[wt.$buildXFAObject](Xt,Kt){if(bt.hasOwnProperty(Xt))return bt[Xt](Kt)}static stylesheet(Xt){return new _e(Xt)}}Et.StylesheetNamespace=bt},(kt,Et,Rt)=>{Object.defineProperty(Et,"__esModule",{value:!0}),Et.XdpNamespace=void 0;var wt=Rt(81),_t=Rt(78),Pt=Rt(87);const _e=wt.NamespaceIds.xdp.id;class bt extends Pt.XFAObject{constructor(Kt){super(_e,"xdp",!0),this.uuid=Kt.uuid||"",this.timeStamp=Kt.timeStamp||"",this.config=null,this.connectionSet=null,this.datasets=null,this.localeSet=null,this.stylesheet=new Pt.XFAObjectArray,this.template=null}[_t.$onChildCheck](Kt){const Nt=wt.NamespaceIds[Kt[_t.$nodeName]];return Nt&&Kt[_t.$namespaceId]===Nt.id}}class Ft{static[wt.$buildXFAObject](Kt,Nt){if(Ft.hasOwnProperty(Kt))return Ft[Kt](Nt)}static xdp(Kt){return new bt(Kt)}}Et.XdpNamespace=Ft},(kt,Et,Rt)=>{Object.defineProperty(Et,"__esModule",{value:!0}),Et.XhtmlNamespace=void 0;var wt=Rt(78),_t=Rt(81),Pt=Rt(83),_e=Rt(84),bt=Rt(87);const Ft=_t.NamespaceIds.xhtml.id,Xt=Symbol(),Kt=new Set(["color","font","font-family","font-size","font-stretch","font-style","font-weight","margin","margin-bottom","margin-left","margin-right","margin-top","letter-spacing","line-height","orphans","page-break-after","page-break-before","page-break-inside","tab-interval","tab-stop","text-align","text-decoration","text-indent","vertical-align","widows","kerning-mode","xfa-font-horizontal-scale","xfa-font-vertical-scale","xfa-spacerun","xfa-tab-stops"]),Nt=new Map([["page-break-after","breakAfter"],["page-break-before","breakBefore"],["page-break-inside","breakInside"],["kerning-mode",Wt=>Wt==="none"?"none":"normal"],["xfa-font-horizontal-scale",Wt=>`scaleX(${Math.max(0,Math.min(parseInt(Wt)/100)).toFixed(2)})`],["xfa-font-vertical-scale",Wt=>`scaleY(${Math.max(0,Math.min(parseInt(Wt)/100)).toFixed(2)})`],["xfa-spacerun",""],["xfa-tab-stops",""],["font-size",(Wt,tn)=>(Wt=tn.fontSize=(0,_e.getMeasurement)(Wt),(0,Pt.measureToString)(.99*Wt))],["letter-spacing",Wt=>(0,Pt.measureToString)((0,_e.getMeasurement)(Wt))],["line-height",Wt=>(0,Pt.measureToString)((0,_e.getMeasurement)(Wt))],["margin",Wt=>(0,Pt.measureToString)((0,_e.getMeasurement)(Wt))],["margin-bottom",Wt=>(0,Pt.measureToString)((0,_e.getMeasurement)(Wt))],["margin-left",Wt=>(0,Pt.measureToString)((0,_e.getMeasurement)(Wt))],["margin-right",Wt=>(0,Pt.measureToString)((0,_e.getMeasurement)(Wt))],["margin-top",Wt=>(0,Pt.measureToString)((0,_e.getMeasurement)(Wt))],["text-indent",Wt=>(0,Pt.measureToString)((0,_e.getMeasurement)(Wt))],["font-family",Wt=>Wt],["vertical-align",Wt=>(0,Pt.measureToString)((0,_e.getMeasurement)(Wt))]]),$t=/\s+/g,Dt=/[\r\n]+/g,jt=/\r\n?/g;function Ct(Wt,tn,ln){const on=Object.create(null);if(!Wt)return on;const cn=Object.create(null);for(const[sn,rn]of Wt.split(";").map(xn=>xn.split(":",2))){const xn=Nt.get(sn);if(xn==="")continue;let vn=rn;xn&&(vn=typeof xn=="string"?xn:xn(rn,cn)),sn.endsWith("scale")?on.transform=on.transform?`${on[sn]} ${vn}`:vn:on[sn.replaceAll(/-([a-zA-Z])/g,(En,Fn)=>Fn.toUpperCase())]=vn}if(on.fontFamily&&(0,Pt.setFontFamily)({typeface:on.fontFamily,weight:on.fontWeight||"normal",posture:on.fontStyle||"normal",size:cn.fontSize||0},tn,tn[wt.$globalData].fontFinder,on),ln&&on.verticalAlign&&on.verticalAlign!=="0px"&&on.fontSize){const xn=(0,_e.getMeasurement)(on.fontSize);on.fontSize=(0,Pt.measureToString)(xn*.583),on.verticalAlign=(0,Pt.measureToString)(Math.sign((0,_e.getMeasurement)(on.verticalAlign))*xn*.333)}return ln&&on.fontSize&&(on.fontSize=`calc(${on.fontSize} * var(--scale-factor))`),(0,Pt.fixTextIndent)(on),on}function qt(Wt){return Wt.style?Wt.style.trim().split(/\s*;\s*/).filter(tn=>!!tn).map(tn=>tn.split(/\s*:\s*/,2)).filter(([tn,ln])=>(tn==="font-family"&&Wt[wt.$globalData].usedTypefaces.add(ln),Kt.has(tn))).map(tn=>tn.join(":")).join(";"):""}const Bt=new Set(["body","html"]);class Gt extends bt.XmlObject{constructor(tn,ln){super(Ft,ln),this[Xt]=!1,this.style=tn.style||""}[wt.$clean](tn){super[wt.$clean](tn),this.style=qt(this)}[wt.$acceptWhitespace](){return!Bt.has(this[wt.$nodeName])}[wt.$onText](tn,ln=!1){ln?this[Xt]=!0:(tn=tn.replaceAll(Dt,""),this.style.includes("xfa-spacerun:yes")||(tn=tn.replaceAll($t," "))),tn&&(this[wt.$content]+=tn)}[wt.$pushGlyphs](tn,ln=!0){const on=Object.create(null),cn={top:NaN,bottom:NaN,left:NaN,right:NaN};let sn=null;for(const[rn,xn]of this.style.split(";").map(vn=>vn.split(":",2)))switch(rn){case"font-family":on.typeface=(0,_e.stripQuotes)(xn);break;case"font-size":on.size=(0,_e.getMeasurement)(xn);break;case"font-weight":on.weight=xn;break;case"font-style":on.posture=xn;break;case"letter-spacing":on.letterSpacing=(0,_e.getMeasurement)(xn);break;case"margin":const vn=xn.split(/ \t/).map(En=>(0,_e.getMeasurement)(En));switch(vn.length){case 1:cn.top=cn.bottom=cn.left=cn.right=vn[0];break;case 2:cn.top=cn.bottom=vn[0],cn.left=cn.right=vn[1];break;case 3:cn.top=vn[0],cn.bottom=vn[2],cn.left=cn.right=vn[1];break;case 4:cn.top=vn[0],cn.left=vn[1],cn.bottom=vn[2],cn.right=vn[3];break}break;case"margin-top":cn.top=(0,_e.getMeasurement)(xn);break;case"margin-bottom":cn.bottom=(0,_e.getMeasurement)(xn);break;case"margin-left":cn.left=(0,_e.getMeasurement)(xn);break;case"margin-right":cn.right=(0,_e.getMeasurement)(xn);break;case"line-height":sn=(0,_e.getMeasurement)(xn);break}if(tn.pushData(on,cn,sn),this[wt.$content])tn.addString(this[wt.$content]);else for(const rn of this[wt.$getChildren]()){if(rn[wt.$nodeName]==="#text"){tn.addString(rn[wt.$content]);continue}rn[wt.$pushGlyphs](tn)}ln&&tn.popFont()}[wt.$toHTML](tn){const ln=[];if(this[wt.$extra]={children:ln},this[wt.$childrenToHTML]({}),ln.length===0&&!this[wt.$content])return _e.HTMLResult.EMPTY;let on;return this[Xt]?on=this[wt.$content]?this[wt.$content].replaceAll(jt,`
`):void 0:on=this[wt.$content]||void 0,_e.HTMLResult.success({name:this[wt.$nodeName],attributes:{href:this.href,style:Ct(this.style,this,this[Xt])},children:ln,value:on})}}class en extends Gt{constructor(tn){super(tn,"a"),this.href=(0,Pt.fixURL)(tn.href)||""}}class dn extends Gt{constructor(tn){super(tn,"b")}[wt.$pushGlyphs](tn){tn.pushFont({weight:"bold"}),super[wt.$pushGlyphs](tn),tn.popFont()}}class Qt extends Gt{constructor(tn){super(tn,"body")}[wt.$toHTML](tn){const ln=super[wt.$toHTML](tn),{html:on}=ln;return on?(on.name="div",on.attributes.class=["xfaRich"],ln):_e.HTMLResult.EMPTY}}class gn extends Gt{constructor(tn){super(tn,"br")}[wt.$text](){return`
`}[wt.$pushGlyphs](tn){tn.addString(`
`)}[wt.$toHTML](tn){return _e.HTMLResult.success({name:"br"})}}class nn extends Gt{constructor(tn){super(tn,"html")}[wt.$toHTML](tn){var on;const ln=[];if(this[wt.$extra]={children:ln},this[wt.$childrenToHTML]({}),ln.length===0)return _e.HTMLResult.success({name:"div",attributes:{class:["xfaRich"],style:{}},value:this[wt.$content]||""});if(ln.length===1){const cn=ln[0];if((on=cn.attributes)!=null&&on.class.includes("xfaRich"))return _e.HTMLResult.success(cn)}return _e.HTMLResult.success({name:"div",attributes:{class:["xfaRich"],style:{}},children:ln})}}class bn extends Gt{constructor(tn){super(tn,"i")}[wt.$pushGlyphs](tn){tn.pushFont({posture:"italic"}),super[wt.$pushGlyphs](tn),tn.popFont()}}class Vt extends Gt{constructor(tn){super(tn,"li")}}class Yt extends Gt{constructor(tn){super(tn,"ol")}}class hn extends Gt{constructor(tn){super(tn,"p")}[wt.$pushGlyphs](tn){super[wt.$pushGlyphs](tn,!1),tn.addString(`
`),tn.addPara(),tn.popFont()}[wt.$text](){return this[wt.$getParent]()[wt.$getChildren]().at(-1)===this?super[wt.$text]():super[wt.$text]()+`
`}}class Ut extends Gt{constructor(tn){super(tn,"span")}}class Ot extends Gt{constructor(tn){super(tn,"sub")}}class zt extends Gt{constructor(tn){super(tn,"sup")}}class an extends Gt{constructor(tn){super(tn,"ul")}}class Ht{static[_t.$buildXFAObject](tn,ln){if(Ht.hasOwnProperty(tn))return Ht[tn](ln)}static a(tn){return new en(tn)}static b(tn){return new dn(tn)}static body(tn){return new Qt(tn)}static br(tn){return new gn(tn)}static html(tn){return new nn(tn)}static i(tn){return new bn(tn)}static li(tn){return new Vt(tn)}static ol(tn){return new Yt(tn)}static p(tn){return new hn(tn)}static span(tn){return new Ut(tn)}static sub(tn){return new Ot(tn)}static sup(tn){return new zt(tn)}static ul(tn){return new an(tn)}}Et.XhtmlNamespace=Ht},(kt,Et,Rt)=>{Object.defineProperty(Et,"__esModule",{value:!0}),Et.UnknownNamespace=void 0;var wt=Rt(81),_t=Rt(87);class Pt{constructor(bt){this.namespaceId=bt}[wt.$buildXFAObject](bt,Ft){return new _t.XmlObject(this.namespaceId,bt,Ft)}}Et.UnknownNamespace=Pt},(kt,Et,Rt)=>{Object.defineProperty(Et,"__esModule",{value:!0}),Et.DatasetReader=void 0;var wt=Rt(2),_t=Rt(3),Pt=Rt(71);function _e(Xt){try{return(0,wt.stringToUTF8String)(Xt)}catch(Kt){return(0,wt.warn)(`UTF-8 decoding failed: "${Kt}".`),Xt}}class bt extends Pt.SimpleXMLParser{constructor(Kt){super(Kt),this.node=null}onEndElement(Kt){const Nt=super.onEndElement(Kt);if(Nt&&Kt==="xfa:datasets")throw this.node=Nt,new Error("Aborting DatasetXMLParser.")}}class Ft{constructor(Kt){if(Kt.datasets)this.node=new Pt.SimpleXMLParser({hasAttributes:!0}).parseFromString(Kt.datasets).documentElement;else{const Nt=new bt({hasAttributes:!0});try{Nt.parseFromString(Kt["xdp:xdp"])}catch{}this.node=Nt.node}}getValue(Kt){if(!this.node||!Kt)return"";const Nt=this.node.searchNode((0,_t.parseXFAPath)(Kt),0);if(!Nt)return"";const $t=Nt.firstChild;return($t==null?void 0:$t.nodeName)==="value"?Nt.children.map(Dt=>_e(Dt.textContent)):_e(Nt.textContent)}}Et.DatasetReader=Ft},(kt,Et,Rt)=>{var Kt;Object.defineProperty(Et,"__esModule",{value:!0}),Et.XRef=void 0;var wt=Rt(2),_t=Rt(4),Pt=Rt(16),_e=Rt(3),bt=Rt(5),Ft=Rt(74);class Xt{constructor($t,Dt){Nn(this,Kt,null);this.stream=$t,this.pdfManager=Dt,this.entries=[],this._xrefStms=new Set,this._cacheMap=new Map,this._pendingRefs=new _t.RefSet,this._newPersistentRefNum=null,this._newTemporaryRefNum=null}getNewPersistentRef($t){this._newPersistentRefNum===null&&(this._newPersistentRefNum=this.entries.length||1);const Dt=this._newPersistentRefNum++;return this._cacheMap.set(Dt,$t),_t.Ref.get(Dt,0)}getNewTemporaryRef(){return this._newTemporaryRefNum===null&&(this._newTemporaryRefNum=this.entries.length||1),_t.Ref.get(this._newTemporaryRefNum++,0)}resetNewTemporaryRef(){this._newTemporaryRefNum=null}setStartXRef($t){this.startXRefQueue=[$t]}parse($t=!1){let Dt;$t?((0,wt.warn)("Indexing all PDF objects"),Dt=this.indexObjects()):Dt=this.readXRef(),Dt.assignXref(this),this.trailer=Dt;let jt;try{jt=Dt.get("Encrypt")}catch(qt){if(qt instanceof _e.MissingDataException)throw qt;(0,wt.warn)(`XRef.parse - Invalid "Encrypt" reference: "${qt}".`)}if(jt instanceof _t.Dict){const qt=Dt.get("ID"),Bt=qt!=null&&qt.length?qt[0]:"";jt.suppressEncryption=!0,this.encrypt=new Ft.CipherTransformFactory(jt,Bt,this.pdfManager.password)}let Ct;try{Ct=Dt.get("Root")}catch(qt){if(qt instanceof _e.MissingDataException)throw qt;(0,wt.warn)(`XRef.parse - Invalid "Root" reference: "${qt}".`)}if(Ct instanceof _t.Dict)try{if(Ct.get("Pages")instanceof _t.Dict){this.root=Ct;return}}catch(qt){if(qt instanceof _e.MissingDataException)throw qt;(0,wt.warn)(`XRef.parse - Invalid "Pages" reference: "${qt}".`)}throw $t?new wt.InvalidPDFException("Invalid Root reference."):new _e.XRefParseException}processXRefTable($t){"tableState"in this||(this.tableState={entryNum:0,streamPos:$t.lexer.stream.pos,parserBuf1:$t.buf1,parserBuf2:$t.buf2});const Dt=this.readXRefTable($t);if(!(0,_t.isCmd)(Dt,"trailer"))throw new wt.FormatError("Invalid XRef table: could not find trailer dictionary");let jt=$t.getObj();if(!(jt instanceof _t.Dict)&&jt.dict&&(jt=jt.dict),!(jt instanceof _t.Dict))throw new wt.FormatError("Invalid XRef table: could not parse trailer dictionary");return delete this.tableState,jt}readXRefTable($t){const Dt=$t.lexer.stream,jt=this.tableState;Dt.pos=jt.streamPos,$t.buf1=jt.parserBuf1,$t.buf2=jt.parserBuf2;let Ct;for(;;){if(!("firstEntryNum"in jt)||!("entryCount"in jt)){if((0,_t.isCmd)(Ct=$t.getObj(),"trailer"))break;jt.firstEntryNum=Ct,jt.entryCount=$t.getObj()}let qt=jt.firstEntryNum;const Bt=jt.entryCount;if(!Number.isInteger(qt)||!Number.isInteger(Bt))throw new wt.FormatError("Invalid XRef table: wrong types in subsection header");for(let Gt=jt.entryNum;Gt<Bt;Gt++){jt.streamPos=Dt.pos,jt.entryNum=Gt,jt.parserBuf1=$t.buf1,jt.parserBuf2=$t.buf2;const en={};en.offset=$t.getObj(),en.gen=$t.getObj();const dn=$t.getObj();if(dn instanceof _t.Cmd)switch(dn.cmd){case"f":en.free=!0;break;case"n":en.uncompressed=!0;break}if(!Number.isInteger(en.offset)||!Number.isInteger(en.gen)||!(en.free||en.uncompressed))throw new wt.FormatError(`Invalid entry in XRef subsection: ${qt}, ${Bt}`);Gt===0&&en.free&&qt===1&&(qt=0),this.entries[Gt+qt]||(this.entries[Gt+qt]=en)}jt.entryNum=0,jt.streamPos=Dt.pos,jt.parserBuf1=$t.buf1,jt.parserBuf2=$t.buf2,delete jt.firstEntryNum,delete jt.entryCount}if(this.entries[0]&&!this.entries[0].free)throw new wt.FormatError("Invalid XRef table: unexpected first object");return Ct}processXRefStream($t){if(!("streamState"in this)){const Dt=$t.dict,jt=Dt.get("W");let Ct=Dt.get("Index");Ct||(Ct=[0,Dt.get("Size")]),this.streamState={entryRanges:Ct,byteWidths:jt,entryNum:0,streamPos:$t.pos}}return this.readXRefStream($t),delete this.streamState,$t.dict}readXRefStream($t){const Dt=this.streamState;$t.pos=Dt.streamPos;const[jt,Ct,qt]=Dt.byteWidths,Bt=Dt.entryRanges;for(;Bt.length>0;){const[Gt,en]=Bt;if(!Number.isInteger(Gt)||!Number.isInteger(en))throw new wt.FormatError(`Invalid XRef range fields: ${Gt}, ${en}`);if(!Number.isInteger(jt)||!Number.isInteger(Ct)||!Number.isInteger(qt))throw new wt.FormatError(`Invalid XRef entry fields length: ${Gt}, ${en}`);for(let dn=Dt.entryNum;dn<en;++dn){Dt.entryNum=dn,Dt.streamPos=$t.pos;let Qt=0,gn=0,nn=0;for(let Vt=0;Vt<jt;++Vt){const Yt=$t.getByte();if(Yt===-1)throw new wt.FormatError("Invalid XRef byteWidths 'type'.");Qt=Qt<<8|Yt}jt===0&&(Qt=1);for(let Vt=0;Vt<Ct;++Vt){const Yt=$t.getByte();if(Yt===-1)throw new wt.FormatError("Invalid XRef byteWidths 'offset'.");gn=gn<<8|Yt}for(let Vt=0;Vt<qt;++Vt){const Yt=$t.getByte();if(Yt===-1)throw new wt.FormatError("Invalid XRef byteWidths 'generation'.");nn=nn<<8|Yt}const bn={};switch(bn.offset=gn,bn.gen=nn,Qt){case 0:bn.free=!0;break;case 1:bn.uncompressed=!0;break;case 2:break;default:throw new wt.FormatError(`Invalid XRef entry type: ${Qt}`)}this.entries[Gt+dn]||(this.entries[Gt+dn]=bn)}Dt.entryNum=0,Dt.streamPos=$t.pos,Bt.splice(0,2)}}indexObjects(){function Gt(cn,sn){let rn="",xn=cn[sn];for(;xn!==10&&xn!==13&&xn!==60&&!(++sn>=cn.length);)rn+=String.fromCharCode(xn),xn=cn[sn];return rn}function en(cn,sn,rn){const xn=rn.length,vn=cn.length;let En=0;for(;sn<vn;){let Fn=0;for(;Fn<xn&&cn[sn+Fn]===rn[Fn];)++Fn;if(Fn>=xn)break;sn++,En++}return En}const dn=/\b(endobj|\d+\s+\d+\s+obj|xref|trailer\s*<<)\b/g,Qt=/\b(startxref|\d+\s+\d+\s+obj)\b/g,gn=/^(\d+)\s+(\d+)\s+obj\b/,nn=new Uint8Array([116,114,97,105,108,101,114]),bn=new Uint8Array([115,116,97,114,116,120,114,101,102]),Vt=new Uint8Array([47,88,82,101,102]);this.entries.length=0,this._cacheMap.clear();const Yt=this.stream;Yt.pos=0;const hn=Yt.getBytes(),Ut=(0,wt.bytesToString)(hn),Ot=hn.length;let zt=Yt.start;const an=[],Ht=[];for(;zt<Ot;){let cn=hn[zt];if(cn===9||cn===10||cn===13||cn===32){++zt;continue}if(cn===37){do{if(++zt,zt>=Ot)break;cn=hn[zt]}while(cn!==10&&cn!==13);continue}const sn=Gt(hn,zt);let rn;if(sn.startsWith("xref")&&(sn.length===4||/\s/.test(sn[4])))zt+=en(hn,zt,nn),an.push(zt),zt+=en(hn,zt,bn);else if(rn=gn.exec(sn)){const xn=rn[1]|0,vn=rn[2]|0,En=zt+sn.length;let Fn,Mn=!1;if(!this.entries[xn])Mn=!0;else if(this.entries[xn].gen===vn)try{new Pt.Parser({lexer:new Pt.Lexer(Yt.makeSubStream(En))}).getObj(),Mn=!0}catch(fn){fn instanceof _e.ParserEOFException?(0,wt.warn)(`indexObjects -- checking object (${sn}): "${fn}".`):Mn=!0}Mn&&(this.entries[xn]={offset:zt-Yt.start,gen:vn,uncompressed:!0}),dn.lastIndex=En;const Tn=dn.exec(Ut);Tn?(Fn=dn.lastIndex+1-zt,Tn[1]!=="endobj"&&((0,wt.warn)(`indexObjects: Found "${Tn[1]}" inside of another "obj", caused by missing "endobj" -- trying to recover.`),Fn-=Tn[1].length+1)):Fn=Ot-zt;const Sn=hn.subarray(zt,zt+Fn),mn=en(Sn,0,Vt);mn<Fn&&Sn[mn+5]<64&&(Ht.push(zt-Yt.start),this._xrefStms.add(zt-Yt.start)),zt+=Fn}else if(sn.startsWith("trailer")&&(sn.length===7||/\s/.test(sn[7]))){an.push(zt);const xn=zt+sn.length;let vn;Qt.lastIndex=xn;const En=Qt.exec(Ut);En?(vn=Qt.lastIndex+1-zt,En[1]!=="startxref"&&((0,wt.warn)(`indexObjects: Found "${En[1]}" after "trailer", caused by missing "startxref" -- trying to recover.`),vn-=En[1].length+1)):vn=Ot-zt,zt+=vn}else zt+=sn.length+1}for(const cn of Ht)this.startXRefQueue.push(cn),this.readXRef(!0);const Wt=[];let tn=!1;for(const cn of an){Yt.pos=cn;const sn=new Pt.Parser({lexer:new Pt.Lexer(Yt),xref:this,allowStreams:!0,recoveryMode:!0}),rn=sn.getObj();if(!(0,_t.isCmd)(rn,"trailer"))continue;const xn=sn.getObj();xn instanceof _t.Dict&&(Wt.push(xn),xn.has("Encrypt")&&(tn=!0))}let ln,on;for(const cn of[...Wt,"genFallback",...Wt]){if(cn==="genFallback"){if(!on)break;this._generationFallback=!0;continue}let sn=!1;try{const rn=cn.get("Root");if(!(rn instanceof _t.Dict))continue;const xn=rn.get("Pages");if(!(xn instanceof _t.Dict))continue;const vn=xn.get("Count");Number.isInteger(vn)&&(sn=!0)}catch(rn){on=rn;continue}if(sn&&(!tn||cn.has("Encrypt"))&&cn.has("ID"))return cn;ln=cn}if(ln)return ln;if(this.topDict)return this.topDict;throw new wt.InvalidPDFException("Invalid PDF structure.")}readXRef($t=!1){const Dt=this.stream,jt=new Set;for(;this.startXRefQueue.length;){try{const Ct=this.startXRefQueue[0];if(jt.has(Ct)){(0,wt.warn)("readXRef - skipping XRef table since it was already parsed."),this.startXRefQueue.shift();continue}jt.add(Ct),Dt.pos=Ct+Dt.start;const qt=new Pt.Parser({lexer:new Pt.Lexer(Dt),xref:this,allowStreams:!0});let Bt=qt.getObj(),Gt;if((0,_t.isCmd)(Bt,"xref"))Gt=this.processXRefTable(qt),this.topDict||(this.topDict=Gt),Bt=Gt.get("XRefStm"),Number.isInteger(Bt)&&!this._xrefStms.has(Bt)&&(this._xrefStms.add(Bt),this.startXRefQueue.push(Bt),Mt(this,Kt)??$n(this,Kt,Bt));else if(Number.isInteger(Bt)){if(!Number.isInteger(qt.getObj())||!(0,_t.isCmd)(qt.getObj(),"obj")||!((Bt=qt.getObj())instanceof bt.BaseStream))throw new wt.FormatError("Invalid XRef stream");if(Gt=this.processXRefStream(Bt),this.topDict||(this.topDict=Gt),!Gt)throw new wt.FormatError("Failed to read XRef stream")}else throw new wt.FormatError("Invalid XRef stream header");Bt=Gt.get("Prev"),Number.isInteger(Bt)?this.startXRefQueue.push(Bt):Bt instanceof _t.Ref&&this.startXRefQueue.push(Bt.num)}catch(Ct){if(Ct instanceof _e.MissingDataException)throw Ct;(0,wt.info)("(while reading XRef): "+Ct)}this.startXRefQueue.shift()}if(this.topDict)return this.topDict;if(!$t)throw new _e.XRefParseException}get lastXRefStreamPos(){return Mt(this,Kt)??(this._xrefStms.size>0?Math.max(...this._xrefStms):null)}getEntry($t){const Dt=this.entries[$t];return Dt&&!Dt.free&&Dt.offset?Dt:null}fetchIfRef($t,Dt=!1){return $t instanceof _t.Ref?this.fetch($t,Dt):$t}fetch($t,Dt=!1){if(!($t instanceof _t.Ref))throw new Error("ref object is not a reference");const jt=$t.num,Ct=this._cacheMap.get(jt);if(Ct!==void 0)return Ct instanceof _t.Dict&&!Ct.objId&&(Ct.objId=$t.toString()),Ct;let qt=this.getEntry(jt);if(qt===null)return this._cacheMap.set(jt,qt),qt;if(this._pendingRefs.has($t))return this._pendingRefs.remove($t),(0,wt.warn)(`Ignoring circular reference: ${$t}.`),_t.CIRCULAR_REF;this._pendingRefs.put($t);try{qt=qt.uncompressed?this.fetchUncompressed($t,qt,Dt):this.fetchCompressed($t,qt,Dt),this._pendingRefs.remove($t)}catch(Bt){throw this._pendingRefs.remove($t),Bt}return qt instanceof _t.Dict?qt.objId=$t.toString():qt instanceof bt.BaseStream&&(qt.dict.objId=$t.toString()),qt}fetchUncompressed($t,Dt,jt=!1){const Ct=$t.gen;let qt=$t.num;if(Dt.gen!==Ct){const gn=`Inconsistent generation in XRef: ${$t}`;if(this._generationFallback&&Dt.gen<Ct)return(0,wt.warn)(gn),this.fetchUncompressed(_t.Ref.get(qt,Dt.gen),Dt,jt);throw new _e.XRefEntryException(gn)}const Bt=this.stream.makeSubStream(Dt.offset+this.stream.start),Gt=new Pt.Parser({lexer:new Pt.Lexer(Bt),xref:this,allowStreams:!0}),en=Gt.getObj(),dn=Gt.getObj(),Qt=Gt.getObj();if(en!==qt||dn!==Ct||!(Qt instanceof _t.Cmd))throw new _e.XRefEntryException(`Bad (uncompressed) XRef entry: ${$t}`);if(Qt.cmd!=="obj"){if(Qt.cmd.startsWith("obj")&&(qt=parseInt(Qt.cmd.substring(3),10),!Number.isNaN(qt)))return qt;throw new _e.XRefEntryException(`Bad (uncompressed) XRef entry: ${$t}`)}return Dt=this.encrypt&&!jt?Gt.getObj(this.encrypt.createCipherTransform(qt,Ct)):Gt.getObj(),Dt instanceof bt.BaseStream||this._cacheMap.set(qt,Dt),Dt}fetchCompressed($t,Dt,jt=!1){const Ct=Dt.offset,qt=this.fetch(_t.Ref.get(Ct,0));if(!(qt instanceof bt.BaseStream))throw new wt.FormatError("bad ObjStm stream");const Bt=qt.dict.get("First"),Gt=qt.dict.get("N");if(!Number.isInteger(Bt)||!Number.isInteger(Gt))throw new wt.FormatError("invalid first and n parameters for ObjStm stream");let en=new Pt.Parser({lexer:new Pt.Lexer(qt),xref:this,allowStreams:!0});const dn=new Array(Gt),Qt=new Array(Gt);for(let bn=0;bn<Gt;++bn){const Vt=en.getObj();if(!Number.isInteger(Vt))throw new wt.FormatError(`invalid object number in the ObjStm stream: ${Vt}`);const Yt=en.getObj();if(!Number.isInteger(Yt))throw new wt.FormatError(`invalid object offset in the ObjStm stream: ${Yt}`);dn[bn]=Vt,Qt[bn]=Yt}const gn=(qt.start||0)+Bt,nn=new Array(Gt);for(let bn=0;bn<Gt;++bn){const Vt=bn<Gt-1?Qt[bn+1]-Qt[bn]:void 0;if(Vt<0)throw new wt.FormatError("Invalid offset in the ObjStm stream.");en=new Pt.Parser({lexer:new Pt.Lexer(qt.makeSubStream(gn+Qt[bn],Vt,qt.dict)),xref:this,allowStreams:!0});const Yt=en.getObj();if(nn[bn]=Yt,Yt instanceof bt.BaseStream)continue;const hn=dn[bn],Ut=this.entries[hn];Ut&&Ut.offset===Ct&&Ut.gen===bn&&this._cacheMap.set(hn,Yt)}if(Dt=nn[Dt.gen],Dt===void 0)throw new _e.XRefEntryException(`Bad (compressed) XRef entry: ${$t}`);return Dt}async fetchIfRefAsync($t,Dt){return $t instanceof _t.Ref?this.fetchAsync($t,Dt):$t}async fetchAsync($t,Dt){try{return this.fetch($t,Dt)}catch(jt){if(!(jt instanceof _e.MissingDataException))throw jt;return await this.pdfManager.requestRange(jt.begin,jt.end),this.fetchAsync($t,Dt)}}getCatalogObj(){return this.root}}Kt=new WeakMap,Et.XRef=Xt},(kt,Et,Rt)=>{var Ft,S5,E5,U2;Object.defineProperty(Et,"__esModule",{value:!0}),Et.MessageHandler=void 0;var wt=Rt(2);const _t={UNKNOWN:0,DATA:1,ERROR:2},Pt={UNKNOWN:0,CANCEL:1,CANCEL_COMPLETE:2,CLOSE:3,ENQUEUE:4,ERROR:5,PULL:6,PULL_COMPLETE:7,START_COMPLETE:8};function _e($t){switch($t instanceof Error||typeof $t=="object"&&$t!==null||(0,wt.unreachable)('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),$t.name){case"AbortException":return new wt.AbortException($t.message);case"MissingPDFException":return new wt.MissingPDFException($t.message);case"PasswordException":return new wt.PasswordException($t.message,$t.code);case"UnexpectedResponseException":return new wt.UnexpectedResponseException($t.message,$t.status);case"UnknownErrorException":return new wt.UnknownErrorException($t.message,$t.details);default:return new wt.UnknownErrorException($t.message,$t.toString())}}class bt{constructor(Dt,jt,Ct){Nn(this,Ft);this.sourceName=Dt,this.targetName=jt,this.comObj=Ct,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),this._onComObjOnMessage=qt=>{const Bt=qt.data;if(Bt.targetName!==this.sourceName)return;if(Bt.stream){On(this,Ft,E5).call(this,Bt);return}if(Bt.callback){const en=Bt.callbackId,dn=this.callbackCapabilities[en];if(!dn)throw new Error(`Cannot resolve callback ${en}`);if(delete this.callbackCapabilities[en],Bt.callback===_t.DATA)dn.resolve(Bt.data);else if(Bt.callback===_t.ERROR)dn.reject(_e(Bt.reason));else throw new Error("Unexpected callback case");return}const Gt=this.actionHandler[Bt.action];if(!Gt)throw new Error(`Unknown action from worker: ${Bt.action}`);if(Bt.callbackId){const en=this.sourceName,dn=Bt.sourceName;new Promise(function(Qt){Qt(Gt(Bt.data))}).then(function(Qt){Ct.postMessage({sourceName:en,targetName:dn,callback:_t.DATA,callbackId:Bt.callbackId,data:Qt})},function(Qt){Ct.postMessage({sourceName:en,targetName:dn,callback:_t.ERROR,callbackId:Bt.callbackId,reason:_e(Qt)})});return}if(Bt.streamId){On(this,Ft,S5).call(this,Bt);return}Gt(Bt.data)},Ct.addEventListener("message",this._onComObjOnMessage)}on(Dt,jt){const Ct=this.actionHandler;if(Ct[Dt])throw new Error(`There is already an actionName called "${Dt}"`);Ct[Dt]=jt}send(Dt,jt,Ct){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:Dt,data:jt},Ct)}sendWithPromise(Dt,jt,Ct){const qt=this.callbackId++,Bt=new wt.PromiseCapability;this.callbackCapabilities[qt]=Bt;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:Dt,callbackId:qt,data:jt},Ct)}catch(Gt){Bt.reject(Gt)}return Bt.promise}sendWithStream(Dt,jt,Ct,qt){const Bt=this.streamId++,Gt=this.sourceName,en=this.targetName,dn=this.comObj;return new ReadableStream({start:Qt=>{const gn=new wt.PromiseCapability;return this.streamControllers[Bt]={controller:Qt,startCall:gn,pullCall:null,cancelCall:null,isClosed:!1},dn.postMessage({sourceName:Gt,targetName:en,action:Dt,streamId:Bt,data:jt,desiredSize:Qt.desiredSize},qt),gn.promise},pull:Qt=>{const gn=new wt.PromiseCapability;return this.streamControllers[Bt].pullCall=gn,dn.postMessage({sourceName:Gt,targetName:en,stream:Pt.PULL,streamId:Bt,desiredSize:Qt.desiredSize}),gn.promise},cancel:Qt=>{(0,wt.assert)(Qt instanceof Error,"cancel must have a valid reason");const gn=new wt.PromiseCapability;return this.streamControllers[Bt].cancelCall=gn,this.streamControllers[Bt].isClosed=!0,dn.postMessage({sourceName:Gt,targetName:en,stream:Pt.CANCEL,streamId:Bt,reason:_e(Qt)}),gn.promise}},Ct)}destroy(){this.comObj.removeEventListener("message",this._onComObjOnMessage)}}Ft=new WeakSet,S5=function(Dt){const jt=Dt.streamId,Ct=this.sourceName,qt=Dt.sourceName,Bt=this.comObj,Gt=this,en=this.actionHandler[Dt.action],dn={enqueue(Qt,gn=1,nn){if(this.isCancelled)return;const bn=this.desiredSize;this.desiredSize-=gn,bn>0&&this.desiredSize<=0&&(this.sinkCapability=new wt.PromiseCapability,this.ready=this.sinkCapability.promise),Bt.postMessage({sourceName:Ct,targetName:qt,stream:Pt.ENQUEUE,streamId:jt,chunk:Qt},nn)},close(){this.isCancelled||(this.isCancelled=!0,Bt.postMessage({sourceName:Ct,targetName:qt,stream:Pt.CLOSE,streamId:jt}),delete Gt.streamSinks[jt])},error(Qt){(0,wt.assert)(Qt instanceof Error,"error must have a valid reason"),!this.isCancelled&&(this.isCancelled=!0,Bt.postMessage({sourceName:Ct,targetName:qt,stream:Pt.ERROR,streamId:jt,reason:_e(Qt)}))},sinkCapability:new wt.PromiseCapability,onPull:null,onCancel:null,isCancelled:!1,desiredSize:Dt.desiredSize,ready:null};dn.sinkCapability.resolve(),dn.ready=dn.sinkCapability.promise,this.streamSinks[jt]=dn,new Promise(function(Qt){Qt(en(Dt.data,dn))}).then(function(){Bt.postMessage({sourceName:Ct,targetName:qt,stream:Pt.START_COMPLETE,streamId:jt,success:!0})},function(Qt){Bt.postMessage({sourceName:Ct,targetName:qt,stream:Pt.START_COMPLETE,streamId:jt,reason:_e(Qt)})})},E5=function(Dt){const jt=Dt.streamId,Ct=this.sourceName,qt=Dt.sourceName,Bt=this.comObj,Gt=this.streamControllers[jt],en=this.streamSinks[jt];switch(Dt.stream){case Pt.START_COMPLETE:Dt.success?Gt.startCall.resolve():Gt.startCall.reject(_e(Dt.reason));break;case Pt.PULL_COMPLETE:Dt.success?Gt.pullCall.resolve():Gt.pullCall.reject(_e(Dt.reason));break;case Pt.PULL:if(!en){Bt.postMessage({sourceName:Ct,targetName:qt,stream:Pt.PULL_COMPLETE,streamId:jt,success:!0});break}en.desiredSize<=0&&Dt.desiredSize>0&&en.sinkCapability.resolve(),en.desiredSize=Dt.desiredSize,new Promise(function(dn){var Qt;dn((Qt=en.onPull)==null?void 0:Qt.call(en))}).then(function(){Bt.postMessage({sourceName:Ct,targetName:qt,stream:Pt.PULL_COMPLETE,streamId:jt,success:!0})},function(dn){Bt.postMessage({sourceName:Ct,targetName:qt,stream:Pt.PULL_COMPLETE,streamId:jt,reason:_e(dn)})});break;case Pt.ENQUEUE:if((0,wt.assert)(Gt,"enqueue should have stream controller"),Gt.isClosed)break;Gt.controller.enqueue(Dt.chunk);break;case Pt.CLOSE:if((0,wt.assert)(Gt,"close should have stream controller"),Gt.isClosed)break;Gt.isClosed=!0,Gt.controller.close(),On(this,Ft,U2).call(this,Gt,jt);break;case Pt.ERROR:(0,wt.assert)(Gt,"error should have stream controller"),Gt.controller.error(_e(Dt.reason)),On(this,Ft,U2).call(this,Gt,jt);break;case Pt.CANCEL_COMPLETE:Dt.success?Gt.cancelCall.resolve():Gt.cancelCall.reject(_e(Dt.reason)),On(this,Ft,U2).call(this,Gt,jt);break;case Pt.CANCEL:if(!en)break;new Promise(function(dn){var Qt;dn((Qt=en.onCancel)==null?void 0:Qt.call(en,_e(Dt.reason)))}).then(function(){Bt.postMessage({sourceName:Ct,targetName:qt,stream:Pt.CANCEL_COMPLETE,streamId:jt,success:!0})},function(dn){Bt.postMessage({sourceName:Ct,targetName:qt,stream:Pt.CANCEL_COMPLETE,streamId:jt,reason:_e(dn)})}),en.sinkCapability.reject(_e(Dt.reason)),en.isCancelled=!0,delete this.streamSinks[jt];break;default:throw new Error("Unexpected stream case")}},U2=async function(Dt,jt){var Ct,qt,Bt;await Promise.allSettled([(Ct=Dt.startCall)==null?void 0:Ct.promise,(qt=Dt.pullCall)==null?void 0:qt.promise,(Bt=Dt.cancelCall)==null?void 0:Bt.promise]),delete this.streamControllers[jt]},Et.MessageHandler=bt},(kt,Et,Rt)=>{Object.defineProperty(Et,"__esModule",{value:!0}),Et.PDFWorkerStream=void 0;var wt=Rt(2);class _t{constructor(Ft){this._msgHandler=Ft,this._contentLength=null,this._fullRequestReader=null,this._rangeRequestReaders=[]}getFullReader(){return(0,wt.assert)(!this._fullRequestReader,"PDFWorkerStream.getFullReader can only be called once."),this._fullRequestReader=new Pt(this._msgHandler),this._fullRequestReader}getRangeReader(Ft,Xt){const Kt=new _e(Ft,Xt,this._msgHandler);return this._rangeRequestReaders.push(Kt),Kt}cancelAllRequests(Ft){var Xt;(Xt=this._fullRequestReader)==null||Xt.cancel(Ft);for(const Kt of this._rangeRequestReaders.slice(0))Kt.cancel(Ft)}}Et.PDFWorkerStream=_t;class Pt{constructor(Ft){this._msgHandler=Ft,this.onProgress=null,this._contentLength=null,this._isRangeSupported=!1,this._isStreamingSupported=!1;const Xt=this._msgHandler.sendWithStream("GetReader");this._reader=Xt.getReader(),this._headersReady=this._msgHandler.sendWithPromise("ReaderHeadersReady").then(Kt=>{this._isStreamingSupported=Kt.isStreamingSupported,this._isRangeSupported=Kt.isRangeSupported,this._contentLength=Kt.contentLength})}get headersReady(){return this._headersReady}get contentLength(){return this._contentLength}get isStreamingSupported(){return this._isStreamingSupported}get isRangeSupported(){return this._isRangeSupported}async read(){const{value:Ft,done:Xt}=await this._reader.read();return Xt?{value:void 0,done:!0}:{value:Ft.buffer,done:!1}}cancel(Ft){this._reader.cancel(Ft)}}class _e{constructor(Ft,Xt,Kt){this._msgHandler=Kt,this.onProgress=null;const Nt=this._msgHandler.sendWithStream("GetRangeReader",{begin:Ft,end:Xt});this._reader=Nt.getReader()}get isStreamingSupported(){return!1}async read(){const{value:Ft,done:Xt}=await this._reader.read();return Xt?{value:void 0,done:!0}:{value:Ft.buffer,done:!1}}cancel(Ft){this._reader.cancel(Ft)}}}],vt={};function At(kt){var Et=vt[kt];if(Et!==void 0)return Et.exports;var Rt=vt[kt]={exports:{}};return ht[kt](Rt,Rt.exports,At),Rt.exports}var St={};return(()=>{var kt=St;Object.defineProperty(kt,"__esModule",{value:!0}),Object.defineProperty(kt,"WorkerMessageHandler",{enumerable:!0,get:function(){return Et.WorkerMessageHandler}});var Et=At(1)})(),St})())})(pdf_worker);var pdf_workerExports=pdf_worker.exports;(typeof window<"u"?window:{}).pdfjsWorker=pdf_workerExports;pdfjs.GlobalWorkerOptions.workerSrc=pdf_worker_entry;function PdfShow(){const{state:xt}=useLocation(),{url:$}=xt,[ht,vt]=reactExports.useState(!1),[At,St]=reactExports.useState(null),[kt,Et]=reactExports.useState(1),Rt=reactExports.useRef(null),wt=reactExports.useRef(null),_t=reactExports.useRef(null);reactExports.useEffect(()=>{(async()=>{try{const Nt=await fetch($).then(Dt=>Dt.arrayBuffer()),$t=await pdfjs.getDocument({data:Nt}).promise;St($t),_e($t,1,Rt.current,1)}catch(Nt){console.error("Error loading PDF:",Nt)}})()},[$]),reactExports.useEffect(()=>{const Kt=()=>{_t.current&&ht&&At&&Pt()};return window.addEventListener("resize",Kt),()=>window.removeEventListener("resize",Kt)},[ht,At]);const Pt=async()=>{if(!At||!_t.current)return;const Nt=(await At.getPage(1)).getViewport({scale:1}),$t=_t.current.clientWidth,Dt=_t.current.clientHeight,jt=$t/Nt.width,Ct=Dt/Nt.height,qt=Math.min(jt,Ct)*2;Et(qt),bt(qt)},_e=async(Kt,Nt,$t,Dt)=>{const jt=await Kt.getPage(Nt),Ct=jt.getViewport({scale:Dt});$t.height=Ct.height*2,$t.width=Ct.width*2;const qt=$t.getContext("2d");qt.scale(2,2),await jt.render({canvasContext:qt,viewport:Ct,renderInteractiveForms:!0,canvasFactory:{create:function(Bt,Gt){const en=document.createElement("canvas");return en.width=Bt*2,en.height=Gt*2,en},reset:function(Bt,Gt,en){Bt.canvas.width=Gt*2,Bt.canvas.height=en*2},destroy:function(Bt){}}})},bt=async Kt=>{if(!(!At||!wt.current)){wt.current.innerHTML="";for(let Nt=1;Nt<=At.numPages;Nt++){const $t=document.createElement("canvas");$t.style.width="100%",$t.style.height="auto",$t.style.marginBottom="10px",await _e(At,Nt,$t,Kt),wt.current.appendChild($t)}}},Ft=async()=>{vt(!0),setTimeout(Pt,0)},Xt=()=>{vt(!1),wt.current&&(wt.current.innerHTML="")};return jsxRuntimeExports.jsxs("div",{className:"relative",children:[jsxRuntimeExports.jsx("button",{onClick:Ft,className:"mt-4 px-4 py-2 bg-blue-500 text-white rounded",children:"View Full PDF"}),ht&&jsxRuntimeExports.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:jsxRuntimeExports.jsxs("div",{ref:_t,className:"bg-white rounded-lg w-3/4 max-w-4xl h-5/6 flex flex-col",children:[jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-center p-4",children:[jsxRuntimeExports.jsx("h2",{className:"text-xl font-bold",children:"PDF Viewer"}),jsxRuntimeExports.jsx("button",{onClick:Xt,className:"px-4 py-2 bg-red-500 text-white rounded",children:"Close"})]}),jsxRuntimeExports.jsx("div",{ref:wt,className:"flex-grow overflow-y-auto scrollbar-hide p-4",style:{msOverflowStyle:"none",scrollbarWidth:"none"}})]})})]})}function Editsvg(){return jsxRuntimeExports.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:"size-6 ",children:[jsxRuntimeExports.jsx("path",{d:"M21.731 2.269a2.625 2.625 0 0 0-3.712 0l-1.157 1.157 3.712 3.712 1.157-1.157a2.625 2.625 0 0 0 0-3.712ZM19.513 8.199l-3.712-3.712-8.4 8.4a5.25 5.25 0 0 0-1.32 2.214l-.8 2.685a.75.75 0 0 0 .933.933l2.685-.8a5.25 5.25 0 0 0 2.214-1.32l8.4-8.4Z"}),jsxRuntimeExports.jsx("path",{d:"M5.25 5.25a3 3 0 0 0-3 3v10.5a3 3 0 0 0 3 3h10.5a3 3 0 0 0 3-3V13.5a.75.75 0 0 0-1.5 0v5.25a1.5 1.5 0 0 1-1.5 1.5H5.25a1.5 1.5 0 0 1-1.5-1.5V8.25a1.5 1.5 0 0 1 1.5-1.5h5.25a.75.75 0 0 0 0-1.5H5.25Z"})]})}pdfjs.GlobalWorkerOptions.workerSrc=pdf_worker_entry;function Doctoranalysis(){const xt=reactExports.useRef(null),[$,ht]=reactExports.useState(0),vt=useLocation(),At=useNavigate(),[St,kt]=reactExports.useState(null),[Et,Rt]=reactExports.useState(null),[wt,_t]=reactExports.useState(null),[Pt,_e]=reactExports.useState(null),[bt,Ft]=reactExports.useState(null),[Xt,Kt]=reactExports.useState(!1),[Nt,$t]=reactExports.useState([]),[Dt,jt]=reactExports.useState(!1),[Ct,qt]=reactExports.useState(""),[Bt,Gt]=reactExports.useState(null),[en,dn]=reactExports.useState(null),[Qt,gn]=reactExports.useState(!1),[nn,bn]=reactExports.useState(null),[Vt,Yt]=reactExports.useState(1),hn=reactExports.useRef(null),Ut=reactExports.useRef(null),Ot=reactExports.useRef(null);reactExports.useEffect(()=>{(async()=>{if(en)try{const Fn=await fetch(en).then(Tn=>Tn.arrayBuffer()),Mn=await pdfjs.getDocument({data:Fn}).promise;bn(Mn),an(Mn,1,hn.current,1)}catch(Fn){console.error("Error loading PDF:",Fn)}})()},[en]),reactExports.useEffect(()=>{const En=()=>{Ot.current&&Qt&&nn&&zt()};return window.addEventListener("resize",En),()=>window.removeEventListener("resize",En)},[Qt,nn]);const zt=async()=>{if(!nn||!Ot.current)return;const Fn=(await nn.getPage(1)).getViewport({scale:1}),Mn=Ot.current.clientWidth,Tn=Ot.current.clientHeight,Sn=Mn/Fn.width,mn=Tn/Fn.height,fn=Math.min(Sn,mn)*2;Yt(fn),Ht(fn)},an=async(En,Fn,Mn,Tn)=>{const Sn=await En.getPage(Fn),mn=Sn.getViewport({scale:Tn});Mn.height=mn.height*2,Mn.width=mn.width*2;const fn=Mn.getContext("2d");fn.scale(2,2),await Sn.render({canvasContext:fn,viewport:mn,renderInteractiveForms:!0,canvasFactory:{create:function(Jt,un){const pn=document.createElement("canvas");return pn.width=Jt*2,pn.height=un*2,pn},reset:function(Jt,un,pn){Jt.canvas.width=un*2,Jt.canvas.height=pn*2},destroy:function(Jt){}}})},Ht=async En=>{if(!(!nn||!Ut.current)){Ut.current.innerHTML="";for(let Fn=1;Fn<=nn.numPages;Fn++){const Mn=document.createElement("canvas");Mn.style.width="100%",Mn.style.height="auto",Mn.style.marginBottom="10px",await an(nn,Fn,Mn,En),Ut.current.appendChild(Mn)}}};reactExports.useEffect(()=>{if(vt.state){const{id:En,pid:Fn,isDoctor:Mn,patientData:Tn}=vt.state;kt(Fn),Rt(En),_t(Mn),_e(Tn)}},[vt]),reactExports.useEffect(()=>{(async()=>{if(Et&&St)try{await on(),await cn()}catch(Fn){console.error("Error fetching data:",Fn)}})()},[Et,St]),reactExports.useEffect(()=>{(async()=>{if(bt)try{await ln()}catch(Fn){console.error("Error getting URL:",Fn)}})()},[bt]);const Wt=async()=>{gn(!0),setTimeout(zt,0)},tn=()=>{gn(!1),Ut.current&&(Ut.current.innerHTML="")};async function ln(){try{const En=await axios.get(`/en/pdfid/${bt.file}`,{responseType:"arraybuffer"}),Fn=new Uint8Array(En.data),Mn=new Blob([Fn],{type:"application/pdf"});let Tn=window.URL.createObjectURL(Mn);dn(Tn)}catch(En){console.error("Error fetching report:",En)}}async function on(){try{const En=await axios.get(`/en/getreport/${Et}`);Ft(En.data),$t(En.data.precautions),jt(En.data.isVerified),qt(En.data.doctorNotes||"")}catch(En){console.error("Error fetching report:",En)}}async function cn(){try{const En=await axios.post("/en/getprevreports",{patientId:St,reportId:Et});Gt(En.data)}catch(En){console.error("Error fetching dates:",En)}}const sn=()=>{Kt(!Xt),setTimeout(()=>{var En;(En=textareaRef.current)==null||En.focus()},0)},rn=En=>{const Fn=new Date,Mn=new Date(En);let Tn=Fn.getFullYear()-Mn.getFullYear();const Sn=Fn.getMonth()-Mn.getMonth();return(Sn<0||Sn===0&&Fn.getDate()<Mn.getDate())&&Tn--,Tn},xn=async()=>{try{jt(!0);const En={...bt,doctorNotes:Ct};Ft(En);const Fn=await axios.post("/en/saveprecautions",{reportId:Et,precautions:Nt,doctorNotes:Ct});console.log(Fn)}catch(En){console.error("Error verifying report:",En)}},vn=En=>{At("/doctoranalysis",{replace:!0,state:{id:En,pid:St,isDoctor:wt,patientData:Pt}}),window.scrollTo(0,0)};return!bt||!Bt||!Pt?jsxRuntimeExports.jsx("div",{children:"Loading..."}):bt&&Bt&&Pt&&en&&jsxRuntimeExports.jsx("div",{className:"relative flex size-full min-h-screen flex-col bg-white group/design-root overflow-x-hidden ",style:{fontFamily:'Manrope, "Noto Sans", sans-serif'},children:jsxRuntimeExports.jsxs("div",{className:"layout-container flex h-full grow flex-col",children:[jsxRuntimeExports.jsxs("header",{className:"flex items-center justify-between whitespace-nowrap border-b border-solid border-b-[#f0f2f4] px-10 py-3",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-4 text-[#111418]",children:[jsxRuntimeExports.jsx("div",{className:"size-4",children:jsxRuntimeExports.jsx("svg",{viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:jsxRuntimeExports.jsx("path",{d:"M4 4H17.3334V17.3334H30.6666V30.6666H44V44H4V4Z",fill:"currentColor"})})}),jsxRuntimeExports.jsx("h2",{className:"text-[#111418] text-lg font-bold leading-tight tracking-[-0.015em]",children:"Saanjh sahayak"})]}),jsxRuntimeExports.jsxs("div",{className:"flex flex-1 justify-end gap-8",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-9",children:[jsxRuntimeExports.jsx("a",{className:"text-[#111418] text-sm font-medium leading-normal",href:"#",children:"Patients"}),jsxRuntimeExports.jsx("a",{className:"text-[#111418] text-sm font-medium leading-normal",href:"#",children:"Reports"})]}),jsxRuntimeExports.jsxs("div",{className:"flex gap-2",children:[jsxRuntimeExports.jsx("button",{className:"flex max-w-[480px] cursor-pointer items-center justify-center overflow-hidden rounded-xl h-10 bg-[#f0f2f4] text-[#111418] gap-2 text-sm font-bold leading-normal tracking-[0.015em] min-w-0 px-2.5",children:jsxRuntimeExports.jsx("div",{className:"text-[#111418]","data-icon":"MagnifyingGlass","data-size":"20px","data-weight":"regular",children:jsxRuntimeExports.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20px",height:"20px",fill:"currentColor",viewBox:"0 0 256 256",children:jsxRuntimeExports.jsx("path",{d:"M229.66,218.34l-50.07-50.06a88.11,88.11,0,1,0-11.31,11.31l50.06,50.07a8,8,0,0,0,11.32-11.32ZM40,112a72,72,0,1,1,72,72A72.08,72.08,0,0,1,40,112Z"})})})}),jsxRuntimeExports.jsx("button",{className:"flex max-w-[480px] cursor-pointer items-center justify-center overflow-hidden rounded-xl h-10 bg-[#f0f2f4] text-[#111418] gap-2 text-sm font-bold leading-normal tracking-[0.015em] min-w-0 px-2.5",children:jsxRuntimeExports.jsx("div",{className:"text-[#111418]","data-icon":"Bell","data-size":"20px","data-weight":"regular",children:jsxRuntimeExports.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20px",height:"20px",fill:"currentColor",viewBox:"0 0 256 256",children:jsxRuntimeExports.jsx("path",{d:"M221.8,175.94C216.25,166.38,208,139.33,208,104a80,80,0,1,0-160,0c0,35.34-8.26,62.38-13.81,71.94A16,16,0,0,0,48,200H88.81a40,40,0,0,0,78.38,0H208a16,16,0,0,0,13.8-24.06ZM128,216a24,24,0,0,1-22.62-16h45.24A24,24,0,0,1,128,216ZM48,184c7.7-13.24,16-43.92,16-80a64,64,0,1,1,128,0c0,36.05,8.28,66.73,16,80Z"})})})}),jsxRuntimeExports.jsx("button",{className:"flex max-w-[480px] cursor-pointer items-center justify-center overflow-hidden rounded-xl h-10 bg-[#f0f2f4] text-[#111418] gap-2 text-sm font-bold leading-normal tracking-[0.015em] min-w-0 px-2.5",children:jsxRuntimeExports.jsx("div",{className:"text-[#111418]","data-icon":"ChatCircleDots","data-size":"20px","data-weight":"regular",children:jsxRuntimeExports.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20px",height:"20px",fill:"currentColor",viewBox:"0 0 256 256",children:jsxRuntimeExports.jsx("path",{d:"M140,128a12,12,0,1,1-12-12A12,12,0,0,1,140,128ZM84,116a12,12,0,1,0,12,12A12,12,0,0,0,84,116Zm88,0a12,12,0,1,0,12,12A12,12,0,0,0,172,116Zm60,12A104,104,0,0,1,79.12,219.82L45.07,231.17a16,16,0,0,1-20.24-20.24l11.35-34.05A104,104,0,1,1,232,128Zm-16,0A88,88,0,1,0,51.81,172.06a8,8,0,0,1,.66,6.54L40,216,77.4,203.53a7.85,7.85,0,0,1,2.53-.42,8,8,0,0,1,4,1.08A88,88,0,0,0,216,128Z"})})})})]}),jsxRuntimeExports.jsx("div",{className:"bg-center bg-no-repeat aspect-square bg-cover rounded-full size-10",style:{backgroundImage:'url("https://cdn.usegalileo.ai/stability/1c59f8b8-2f0d-4280-9e6d-75d6c0cee0d6.png")'}})]})]}),jsxRuntimeExports.jsx("div",{className:"px-40 flex flex-1 justify-center py-5",children:jsxRuntimeExports.jsxs("div",{className:"layout-content-container flex flex-col max-w-[960px] flex-1",children:[jsxRuntimeExports.jsx("div",{className:"flex flex-wrap justify-between gap-3 p-4",children:jsxRuntimeExports.jsx("p",{className:"text-[#111418] text-4xl font-black leading-tight tracking-[-0.033em] min-w-72 content-center",children:"Patient Information"})}),jsxRuntimeExports.jsx("div",{className:"flex p-4 @container",children:jsxRuntimeExports.jsx("div",{className:"flex w-full flex-col gap-4 @[520px]:flex-row @[520px]:justify-between @[520px]:items-start",children:jsxRuntimeExports.jsxs("div",{className:"flex gap-4",children:[jsxRuntimeExports.jsx("div",{className:"bg-center bg-no-repeat aspect-square bg-cover rounded-full min-h-32 w-32",style:{backgroundImage:'url("https://cdn.usegalileo.ai/stability/82b7a4d5-f5b9-4dd7-9c3a-8650f6ea64f0.png")'}}),jsxRuntimeExports.jsxs("div",{className:"flex flex-col justify-center",children:[jsxRuntimeExports.jsx("p",{className:"text-[#111418] text-[22px] font-bold leading-tight tracking-[-0.015em]",children:Pt.name}),jsxRuntimeExports.jsxs("p",{className:"text-[#637588] text-base font-normal leading-normal",children:[Pt.gender,", Age ",rn(Pt.DOB)]}),jsxRuntimeExports.jsxs("p",{className:"text-[#637588] text-base font-normal leading-normal",children:[" Blood Group: ",Pt.bloodGroup]})]})]})})}),jsxRuntimeExports.jsx("h3",{className:"text-[#111418] text-lg font-bold leading-tight tracking-[-0.015em] px-4 pb-2 pt-4",children:"Known Conditions"}),jsxRuntimeExports.jsx("div",{className:"flex gap-3 p-3 flex-wrap pr-4",children:Pt.chronics.map((En,Fn)=>jsxRuntimeExports.jsx("div",{className:"flex h-8 shrink-0 items-center justify-center gap-x-2 rounded-xl bg-[#f0f2f4] pl-4 pr-4",children:jsxRuntimeExports.jsx("p",{className:"text-[#111418] text-sm font-medium leading-normal",children:En})},Fn))}),jsxRuntimeExports.jsx("h3",{className:"text-[#111418] text-lg font-bold leading-tight tracking-[-0.015em] px-4 pb-2 pt-4",children:"Current Report"}),Qt&&jsxRuntimeExports.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:jsxRuntimeExports.jsxs("div",{ref:Ot,className:"bg-white rounded-lg w-3/4 max-w-4xl h-5/6 flex flex-col",children:[jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-center p-4",children:[jsxRuntimeExports.jsx("h2",{className:"text-xl font-bold",children:"PDF Viewer"}),jsxRuntimeExports.jsx("button",{onClick:tn,className:"px-4 py-2 bg-red-500 text-white rounded",children:"Close"})]}),jsxRuntimeExports.jsx("div",{ref:Ut,className:"flex-grow overflow-y-auto scrollbar-hide p-4",style:{msOverflowStyle:"none",scrollbarWidth:"none"}})]})}),jsxRuntimeExports.jsxs("div",{onClick:Wt,className:"flex items-center gap-4 bg-white px-4 min-h-[72px] py-2 justify-between hover:bg-slate-100 hover:scale-105 transition transform duration-300",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-4",children:[jsxRuntimeExports.jsx("div",{className:"text-[#111418] flex items-center justify-center rounded-lg bg-[#f0f2f4] shrink-0 size-12","data-icon":"File","data-size":"24px","data-weight":"regular",children:jsxRuntimeExports.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24px",height:"24px",fill:"currentColor",viewBox:"0 0 256 256",children:jsxRuntimeExports.jsx("path",{d:"M213.66,82.34l-56-56A8,8,0,0,0,152,24H56A16,16,0,0,0,40,40V216a16,16,0,0,0,16,16H200a16,16,0,0,0,16-16V88A8,8,0,0,0,213.66,82.34ZM160,51.31,188.69,80H160ZM200,216H56V40h88V88a8,8,0,0,0,8,8h48V216Z"})})}),jsxRuntimeExports.jsxs("div",{className:"flex flex-col justify-center",children:[jsxRuntimeExports.jsx("p",{className:"text-[#111418] text-base font-medium leading-normal line-clamp-1",children:"Test Report"}),jsxRuntimeExports.jsx("p",{className:"text-[#637588] text-sm font-normal leading-normal line-clamp-2",children:"Report from 27 June 2024"})]})]}),jsxRuntimeExports.jsx("div",{className:"shrink-0",children:jsxRuntimeExports.jsx("div",{className:"text-[#111418] flex size-7 items-center justify-center","data-icon":"CaretRight","data-size":"24px","data-weight":"regular",children:jsxRuntimeExports.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24px",height:"24px",fill:"currentColor",viewBox:"0 0 256 256",children:jsxRuntimeExports.jsx("path",{d:"M181.66,133.66l-80,80a8,8,0,0,1-11.32-11.32L164.69,128,90.34,53.66a8,8,0,0,1,11.32-11.32l80,80A8,8,0,0,1,181.66,133.66Z"})})})})]}),jsxRuntimeExports.jsx("h3",{className:"text-[#111418] text-lg font-bold leading-tight tracking-[-0.015em] px-4 pb-2 pt-4",children:"Analysis"}),jsxRuntimeExports.jsx("div",{className:"text-lg   tracking-[-0.020em] ",children:jsxRuntimeExports.jsx("p",{className:"px-4 pb-2 pt-4",children:bt.summary})}),jsxRuntimeExports.jsx("h3",{className:"text-[#111418] text-lg font-bold leading-tight tracking-[-0.015em] px-4 pb-2 pt-4",children:"Precautions"}),jsxRuntimeExports.jsx("div",{className:"p-4 @container",children:jsxRuntimeExports.jsxs("div",{className:"flex flex-1 items-start justify-between gap-4 rounded-xl border border-[#dce0e5] bg-white p-5 @[480px]:flex-row @[480px]:items-center",style:{height:$?`${$+20}px`:"auto"},children:[jsxRuntimeExports.jsx("div",{className:"flex flex-col gap-1 flex-1",children:Xt?jsxRuntimeExports.jsx("textarea",{defaultValue:Nt.join(`
`),className:"border border-[#dce0e5] rounded-xl p-2 flex-1",onChange:En=>$t(En.target.value.split(`
`))}):jsxRuntimeExports.jsx("ul",{className:"text-[#637588] text-base font-normal leading-normal flex-1",ref:xt,children:Nt.map((En,Fn)=>jsxRuntimeExports.jsx("li",{children:En},Fn))})}),jsxRuntimeExports.jsx("button",{onClick:sn,className:` ${Dt?"hidden":""}  flex min-w-[60px] max-w-[480px] cursor-pointer items-center justify-center overflow-hidden rounded-xl h-10 px-4 bg-[#1b7ada] text-white text-sm font-medium leading-normal`,children:Xt?jsxRuntimeExports.jsx("span",{className:"truncate",children:"Save"}):jsxRuntimeExports.jsx(Editsvg,{})})]})}),jsxRuntimeExports.jsx("h3",{className:"text-[#111418] text-lg font-bold leading-tight tracking-[-0.015em] px-4 pb-2 pt-4",children:"Predictions"}),jsxRuntimeExports.jsx("div",{className:"p-4 @container",children:jsxRuntimeExports.jsx("div",{className:"flex flex-1  items-start justify-between gap-4 rounded-xl border border-[#dce0e5] bg-white p-5 @[480px]:flex-row @[480px]:items-center",children:jsxRuntimeExports.jsx("div",{className:"flex flex-col gap-1 flex-1",children:jsxRuntimeExports.jsx("ul",{className:"text-[#637588] text-base font-normal leading-normal flex-1",ref:xt,children:bt.possibleDiseases.map((En,Fn)=>jsxRuntimeExports.jsx("li",{children:En},Fn))})})})}),jsxRuntimeExports.jsx("h3",{className:"text-[#111418] text-lg font-bold leading-tight tracking-[-0.015em] px-4 pb-2 pt-4",children:"Doctor's Advice"}),jsxRuntimeExports.jsx("div",{className:"flex max-w-[480px] flex-1 flex-wrap items-end gap-4 px-4 py-3",children:jsxRuntimeExports.jsx("label",{className:"flex flex-col min-w-40 flex-1",children:bt.doctorNotes===""?jsxRuntimeExports.jsx("textarea",{defaultValue:bt.doctorNotes,className:"border border-[#dce0e5] rounded-xl p-2 flex-1",onChange:En=>qt(En.target.value)}):jsxRuntimeExports.jsx("div",{className:"text-[#637588] text-base font-normal leading-normal flex-1",ref:xt,children:bt.doctorNotes})})}),jsxRuntimeExports.jsx("div",{className:"flex px-4 py-3 justify-end",children:jsxRuntimeExports.jsx("button",{onClick:xn,className:`${Dt?"hidden":""} flex min-w-[84px] max-w-[480px] cursor-pointer items-center justify-center overflow-hidden rounded-xl h-10 px-4 bg-[#1b7ada] text-white text-sm font-bold leading-normal tracking-[0.015em]`,children:jsxRuntimeExports.jsx("span",{className:"truncate",children:"verify"})})}),jsxRuntimeExports.jsx("h3",{className:"text-[#111418] text-lg font-bold leading-tight tracking-[-0.015em] px-4 pb-2 pt-4",children:"Previous Reports"}),jsxRuntimeExports.jsx("div",{children:Bt.map((En,Fn)=>jsxRuntimeExports.jsxs("div",{onClick:()=>{vn(En.file)},className:"flex items-center gap-4  px-4 min-h-[72px] py-2 justify-between cursor-pointer hover:bg-slate-100 hover:scale-105 transition transform duration-300",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-4",children:[jsxRuntimeExports.jsx("div",{className:"text-[#0d151c] flex items-center justify-center rounded-lg bg-[#e7eef4] shrink-0 size-12","data-icon":"File","data-size":"24px","data-weight":"regular",children:jsxRuntimeExports.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24px",height:"24px",fill:"currentColor",viewBox:"0 0 256 256",children:jsxRuntimeExports.jsx("path",{d:"M213.66,82.34l-56-56A8,8,0,0,0,152,24H56A16,16,0,0,0,40,40V216a16,16,0,0,0,16,16H200a16,16,0,0,0,16-16V88A8,8,0,0,0,213.66,82.34ZM160,51.31,188.69,80H160ZM200,216H56V40h88V88a8,8,0,0,0,8,8h48V216Z"})})}),jsxRuntimeExports.jsxs("div",{className:"flex flex-col justify-center",children:[jsxRuntimeExports.jsx("p",{className:"text-[#0d151c] text-base font-medium leading-normal line-clamp-1",children:En.date}),jsxRuntimeExports.jsx("p",{className:"text-[#49779c] text-sm font-normal leading-normal line-clamp-2",children:En.specialistReq})]})]}),jsxRuntimeExports.jsx("div",{className:"shrink-0",children:jsxRuntimeExports.jsx("div",{className:"text-[#0d151c] flex size-7 items-center justify-center","data-icon":"CaretRight","data-size":"24px","data-weight":"regular",children:jsxRuntimeExports.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24px",height:"24px",fill:"currentColor",viewBox:"0 0 256 256",children:jsxRuntimeExports.jsx("path",{d:"M181.66,133.66l-80,80a8,8,0,0,1-11.32-11.32L164.69,128,90.34,53.66a8,8,0,0,1,11.32-11.32l80,80A8,8,0,0,1,181.66,133.66Z"})})})})]},Fn))})]})})]})})}function Dummy(){const xt=useNavigate(),$=async ht=>{console.log("lol");try{console.log("hi");const vt=await axios.get("/en/pdfid/6687c7725a4889e9aac64ec2",{responseType:"arraybuffer"}),At=new Uint8Array(vt.data),St=new Blob([At],{type:"application/pdf"});let kt=window.URL.createObjectURL(St);xt("/pdfShow",{state:{url:kt}})}catch(vt){console.log("Error uploading details:",vt),alert("File size too large")}};return jsxRuntimeExports.jsx("button",{onClick:$,children:"show pdf"})}var core_min={};(function(xt){var $=reactExports,ht=pdfExports;function vt(jn){var Gn=Object.create(null);return jn&&Object.keys(jn).forEach(function(rr){if(rr!=="default"){var zn=Object.getOwnPropertyDescriptor(jn,rr);Object.defineProperty(Gn,rr,zn.get?zn:{enumerable:!0,get:function(){return jn[rr]}})}}),Gn.default=jn,Object.freeze(Gn)}var At,St=vt($),kt=vt(ht);xt.AnnotationType=void 0,(At=xt.AnnotationType||(xt.AnnotationType={}))[At.Text=1]="Text",At[At.Link=2]="Link",At[At.FreeText=3]="FreeText",At[At.Line=4]="Line",At[At.Square=5]="Square",At[At.Circle=6]="Circle",At[At.Polygon=7]="Polygon",At[At.Polyline=8]="Polyline",At[At.Highlight=9]="Highlight",At[At.Underline=10]="Underline",At[At.Squiggly=11]="Squiggly",At[At.StrikeOut=12]="StrikeOut",At[At.Stamp=13]="Stamp",At[At.Caret=14]="Caret",At[At.Ink=15]="Ink",At[At.Popup=16]="Popup",At[At.FileAttachment=17]="FileAttachment";var Et=function(jn,Gn){return Et=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(rr,zn){rr.__proto__=zn}||function(rr,zn){for(var Lt in zn)Object.prototype.hasOwnProperty.call(zn,Lt)&&(rr[Lt]=zn[Lt])},Et(jn,Gn)};function Rt(jn,Gn){if(typeof Gn!="function"&&Gn!==null)throw new TypeError("Class extends value "+String(Gn)+" is not a constructor or null");function rr(){this.constructor=jn}Et(jn,Gn),jn.prototype=Gn===null?Object.create(Gn):(rr.prototype=Gn.prototype,new rr)}var wt,_t=function(){return _t=Object.assign||function(jn){for(var Gn,rr=1,zn=arguments.length;rr<zn;rr++)for(var Lt in Gn=arguments[rr])Object.prototype.hasOwnProperty.call(Gn,Lt)&&(jn[Lt]=Gn[Lt]);return jn},_t.apply(this,arguments)};xt.TextDirection=void 0,(wt=xt.TextDirection||(xt.TextDirection={})).RightToLeft="RTL",wt.LeftToRight="LTR";var Pt,_e=St.createContext({currentTheme:"light",direction:xt.TextDirection.LeftToRight,setCurrentTheme:function(){}}),bt=function(jn){var Gn=[];return Object.keys(jn).forEach(function(rr){rr&&jn[rr]&&Gn.push(rr)}),Gn.join(" ")},Ft=typeof window<"u"?St.useLayoutEffect:St.useEffect,Xt=function(jn){var Gn=St.useRef(null),rr=jn.once,zn=jn.threshold,Lt=jn.onVisibilityChanged;return Ft(function(){var yn=Gn.current;if(yn){var qn=new IntersectionObserver(function(_i){_i.forEach(function(Kn){var ir=Kn.isIntersecting,ar=Kn.intersectionRatio;Lt({isVisible:ir,ratio:ar}),ir&&rr&&(qn.unobserve(yn),qn.disconnect())})},{threshold:zn||0});return qn.observe(yn),function(){qn.unobserve(yn),qn.disconnect()}}},[]),Gn},Kt=function(jn){var Gn=jn.children,rr=jn.ignoreDirection,zn=rr!==void 0&&rr,Lt=jn.size,yn=Lt===void 0?24:Lt,qn=St.useContext(_e).direction,_i=!zn&&qn===xt.TextDirection.RightToLeft,Kn="".concat(yn||24,"px");return St.createElement("svg",{"aria-hidden":"true",className:bt({"rpv-core__icon":!0,"rpv-core__icon--rtl":_i}),focusable:"false",height:Kn,viewBox:"0 0 24 24",width:Kn},Gn)},Nt=function(){return St.createElement(Kt,{size:16},St.createElement("path",{d:"M23.5,0.499l-16.5,23l-6.5-6.5"}))},$t=function(jn){var Gn=jn.children,rr=jn.testId,zn=jn.onClick,Lt=St.useContext(_e).direction===xt.TextDirection.RightToLeft,yn=rr?{"data-testid":rr}:{};return St.createElement("button",_t({className:bt({"rpv-core__primary-button":!0,"rpv-core__primary-button--rtl":Lt}),type:"button",onClick:zn},yn),Gn)},Dt=function(jn){var Gn=jn.size,rr=Gn===void 0?"4rem":Gn,zn=jn.testId,Lt=St.useState(!1),yn=Lt[0],qn=Lt[1],_i=zn?{"data-testid":zn}:{},Kn=Xt({onVisibilityChanged:function(ir){qn(ir.isVisible)}});return St.createElement("div",_t({},_i,{className:bt({"rpv-core__spinner":!0,"rpv-core__spinner--animating":yn}),ref:Kn,style:{height:rr,width:rr}}))},jt=function(jn){var Gn=jn.ariaLabel,rr=Gn===void 0?"":Gn,zn=jn.autoFocus,Lt=zn!==void 0&&zn,yn=jn.placeholder,qn=yn===void 0?"":yn,_i=jn.testId,Kn=jn.type,ir=Kn===void 0?"text":Kn,ar=jn.value,gr=ar===void 0?"":ar,mr=jn.onChange,br=jn.onKeyDown,Ir=br===void 0?function(){}:br,Cr=St.useContext(_e).direction,kr=St.useRef(),ts=Cr===xt.TextDirection.RightToLeft,Mr={ref:kr,"data-testid":"","aria-label":rr,className:bt({"rpv-core__textbox":!0,"rpv-core__textbox--rtl":ts}),placeholder:qn,value:gr,onChange:function(Gr){return mr(Gr.target.value)},onKeyDown:Ir};return _i&&(Mr["data-testid"]=_i),Ft(function(){if(Lt){var Gr=kr.current;if(Gr){var Xr=window.scrollX,Hr=window.scrollY;Gr.focus(),window.scrollTo(Xr,Hr)}}},[]),ir==="text"?St.createElement("input",_t({type:"text"},Mr)):St.createElement("input",_t({type:"password"},Mr))};(function(jn){jn[jn.ExitFullScreen=0]="ExitFullScreen",jn[jn.FullScreenChange=1]="FullScreenChange",jn[jn.FullScreenElement=2]="FullScreenElement",jn[jn.FullScreenEnabled=3]="FullScreenEnabled",jn[jn.RequestFullScreen=4]="RequestFullScreen"})(Pt||(Pt={}));var Ct,qt={ExitFullScreen:"exitFullscreen",FullScreenChange:"fullscreenchange",FullScreenElement:"fullscreenElement",FullScreenEnabled:"fullscreenEnabled",RequestFullScreen:"requestFullscreen"},Bt={ExitFullScreen:"webkitExitFullscreen",FullScreenChange:"webkitfullscreenchange",FullScreenElement:"webkitFullscreenElement",FullScreenEnabled:"webkitFullscreenEnabled",RequestFullScreen:"webkitRequestFullscreen"},Gt={ExitFullScreen:"msExitFullscreen",FullScreenChange:"msFullscreenChange",FullScreenElement:"msFullscreenElement",FullScreenEnabled:"msFullscreenEnabled",RequestFullScreen:"msRequestFullscreen"},en=typeof window<"u",dn=en&&(Pt.FullScreenEnabled in document&&qt||Bt.FullScreenEnabled in document&&Bt||Gt.FullScreenEnabled in document&&Gt)||qt,Qt=function(){return en&&dn.FullScreenEnabled in document&&document[dn.FullScreenEnabled]===!0},gn=function(jn){return en?jn[dn.ExitFullScreen]():Promise.resolve({})},nn=function(){return en?document[dn.FullScreenElement]:null},bn=function(jn,Gn){var rr=St.useRef(),zn=function(){rr.current&&clearTimeout(rr.current)};return St.useEffect(function(){return function(){return zn()}},[]),St.useCallback(function(){for(var Lt=[],yn=0;yn<arguments.length;yn++)Lt[yn]=arguments[yn];zn(),rr.current=setTimeout(function(){jn.apply(void 0,Lt)},Gn)},[jn,Gn])},Vt=function(){var jn=St.useRef(!1);return St.useEffect(function(){return jn.current=!0,function(){jn.current=!1}},[]),jn},Yt=function(jn){var Gn=St.useRef(jn);return St.useEffect(function(){Gn.current=jn},[jn]),Gn.current};(function(jn){jn.NotRenderedYet="NotRenderedYet",jn.Rendering="Rendering",jn.Rendered="Rendered"})(Ct||(Ct={}));var hn,Ut=-9999,Ot=function(jn){var Gn=jn.doc,rr=Gn.numPages,zn=Gn.loadingTask.docId,Lt=St.useMemo(function(){return Array(rr).fill(null).map(function(_i,Kn){return{pageIndex:Kn,renderStatus:Ct.NotRenderedYet,visibility:Ut}})},[zn]),yn=St.useRef({currentRenderingPage:-1,startRange:0,endRange:rr-1,visibilities:Lt}),qn=function(_i,Kn){yn.current.visibilities[_i].visibility=Kn};return{getHighestPriorityPage:function(){var _i=yn.current.visibilities.slice(yn.current.startRange,yn.current.endRange+1).filter(function(mr){return mr.visibility>Ut});if(!_i.length)return-1;for(var Kn=_i[0].pageIndex,ir=_i[_i.length-1].pageIndex,ar=_i.length,gr=0;gr<ar;gr++){if(_i[gr].renderStatus===Ct.Rendering)return-1;if(_i[gr].renderStatus===Ct.NotRenderedYet)return _i[gr].pageIndex}return ir+1<rr&&yn.current.visibilities[ir+1].renderStatus!==Ct.Rendered?ir+1:Kn-1>=0&&yn.current.visibilities[Kn-1].renderStatus!==Ct.Rendered?Kn-1:-1},isInRange:function(_i){return _i>=yn.current.startRange&&_i<=yn.current.endRange},markNotRendered:function(){for(var _i=0;_i<rr;_i++)yn.current.visibilities[_i].renderStatus=Ct.NotRenderedYet},markRendered:function(_i){yn.current.visibilities[_i].renderStatus=Ct.Rendered},markRendering:function(_i){yn.current.currentRenderingPage!==-1&&yn.current.currentRenderingPage!==_i&&yn.current.visibilities[yn.current.currentRenderingPage].renderStatus===Ct.Rendering&&(yn.current.visibilities[yn.current.currentRenderingPage].renderStatus=Ct.NotRenderedYet),yn.current.visibilities[_i].renderStatus=Ct.Rendering,yn.current.currentRenderingPage=_i},setOutOfRange:function(_i){qn(_i,Ut)},setRange:function(_i,Kn){yn.current.startRange=_i,yn.current.endRange=Kn;for(var ir=0;ir<rr;ir++)(ir<_i||ir>Kn)&&(yn.current.visibilities[ir].visibility=Ut,yn.current.visibilities[ir].renderStatus=Ct.NotRenderedYet)},setVisibility:qn}},zt={core:{askingPassword:{requirePasswordToOpen:"This document requires a password to open",submit:"Submit"},wrongPassword:{tryAgain:"The password is wrong. Please try again"},pageLabel:"Page {{pageIndex}}"}},an=St.createContext({l10n:zt,setL10n:function(){}}),Ht=0,Wt=function(){return Ht++},tn=function(jn,Gn,rr){var zn=function(Lt){var yn=Gn.current;if(yn){var qn=Lt.target;if(qn instanceof Element&&qn.shadowRoot){var _i=Lt.composedPath();_i.length>0&&!yn.contains(_i[0])&&rr()}else yn.contains(qn)||rr()}};St.useEffect(function(){if(jn){var Lt={capture:!0};return document.addEventListener("click",zn,Lt),function(){document.removeEventListener("click",zn,Lt)}}},[])},ln=function(jn){var Gn=function(rr){rr.key==="Escape"&&jn()};St.useEffect(function(){return document.addEventListener("keyup",Gn),function(){document.removeEventListener("keyup",Gn)}},[])},on=function(jn){var Gn=jn.ariaControlsSuffix,rr=jn.children,zn=jn.closeOnClickOutside,Lt=jn.closeOnEscape,yn=jn.onToggle,qn=St.useRef(),_i=St.useContext(_e).direction===xt.TextDirection.RightToLeft;return St.useEffect(function(){var Kn=window.getComputedStyle(document.body).overflow;return document.body.style.overflow="hidden",function(){document.body.style.overflow=Kn}},[]),ln(function(){qn.current&&Lt&&yn()}),tn(zn,qn,yn),Ft(function(){var Kn=qn.current;if(Kn){var ir=.75*document.body.clientHeight;Kn.getBoundingClientRect().height>=ir&&(Kn.style.overflow="auto",Kn.style.maxHeight="".concat(ir,"px"))}},[]),St.createElement("div",{"aria-modal":"true",className:bt({"rpv-core__modal-body":!0,"rpv-core__modal-body--rtl":_i}),id:"rpv-core__modal-body-".concat(Gn),ref:qn,role:"dialog",tabIndex:-1},rr)},cn=function(jn){var Gn=jn.children;return St.createElement("div",{className:"rpv-core__modal-overlay"},Gn)};xt.ToggleStatus=void 0,(hn=xt.ToggleStatus||(xt.ToggleStatus={})).Close="Close",hn.Open="Open",hn.Toggle="Toggle";var sn,rn=function(jn){var Gn=St.useState(jn),rr=Gn[0],zn=Gn[1];return{opened:rr,toggle:function(Lt){switch(Lt){case xt.ToggleStatus.Close:zn(!1);break;case xt.ToggleStatus.Open:zn(!0);break;case xt.ToggleStatus.Toggle:default:zn(function(yn){return!yn})}}}},xn=function(jn){var Gn=jn.content,rr=jn.isOpened,zn=rr!==void 0&&rr,Lt=jn.target,yn=rn(zn),qn=yn.opened,_i=yn.toggle;return St.createElement(St.Fragment,null,Lt&&Lt(_i,qn),qn&&Gn(_i))};xt.Position=void 0,(sn=xt.Position||(xt.Position={})).TopLeft="TOP_LEFT",sn.TopCenter="TOP_CENTER",sn.TopRight="TOP_RIGHT",sn.RightTop="RIGHT_TOP",sn.RightCenter="RIGHT_CENTER",sn.RightBottom="RIGHT_BOTTOM",sn.BottomLeft="BOTTOM_LEFT",sn.BottomCenter="BOTTOM_CENTER",sn.BottomRight="BOTTOM_RIGHT",sn.LeftTop="LEFT_TOP",sn.LeftCenter="LEFT_CENTER",sn.LeftBottom="LEFT_BOTTOM";var vn,En,Fn,Mn,Tn,Sn,mn,fn,Jt=function(jn,Gn,rr,zn,Lt){Ft(function(){var yn=Gn.current,qn=jn.current,_i=rr.current;if(qn&&yn&&_i){var Kn=_i.getBoundingClientRect(),ir=function(mr,br,Ir,Cr){var kr=br.getBoundingClientRect(),ts=mr.getBoundingClientRect(),Mr=ts.height,Gr=ts.width,Xr=0,Hr=0;switch(Ir){case xt.Position.TopLeft:Xr=kr.top-Mr,Hr=kr.left;break;case xt.Position.TopCenter:Xr=kr.top-Mr,Hr=kr.left+kr.width/2-Gr/2;break;case xt.Position.TopRight:Xr=kr.top-Mr,Hr=kr.left+kr.width-Gr;break;case xt.Position.RightTop:Xr=kr.top,Hr=kr.left+kr.width;break;case xt.Position.RightCenter:Xr=kr.top+kr.height/2-Mr/2,Hr=kr.left+kr.width;break;case xt.Position.RightBottom:Xr=kr.top+kr.height-Mr,Hr=kr.left+kr.width;break;case xt.Position.BottomLeft:Xr=kr.top+kr.height,Hr=kr.left;break;case xt.Position.BottomCenter:Xr=kr.top+kr.height,Hr=kr.left+kr.width/2-Gr/2;break;case xt.Position.BottomRight:Xr=kr.top+kr.height,Hr=kr.left+kr.width-Gr;break;case xt.Position.LeftTop:Xr=kr.top,Hr=kr.left-Gr;break;case xt.Position.LeftCenter:Xr=kr.top+kr.height/2-Mr/2,Hr=kr.left-Gr;break;case xt.Position.LeftBottom:Xr=kr.top+kr.height-Mr,Hr=kr.left-Gr}return{left:Hr+(Cr.left||0),top:Xr+(Cr.top||0)}}(qn,yn,zn,Lt),ar=ir.top,gr=ir.left;qn.style.top="".concat(ar-Kn.top,"px"),qn.style.left="".concat(gr-Kn.left,"px")}},[])},un=function(jn){var Gn,rr=jn.customClassName,zn=jn.position;return St.createElement("div",{className:bt((Gn={"rpv-core__arrow":!0,"rpv-core__arrow--tl":zn===xt.Position.TopLeft,"rpv-core__arrow--tc":zn===xt.Position.TopCenter,"rpv-core__arrow--tr":zn===xt.Position.TopRight,"rpv-core__arrow--rt":zn===xt.Position.RightTop,"rpv-core__arrow--rc":zn===xt.Position.RightCenter,"rpv-core__arrow--rb":zn===xt.Position.RightBottom,"rpv-core__arrow--bl":zn===xt.Position.BottomLeft,"rpv-core__arrow--bc":zn===xt.Position.BottomCenter,"rpv-core__arrow--br":zn===xt.Position.BottomRight,"rpv-core__arrow--lt":zn===xt.Position.LeftTop,"rpv-core__arrow--lc":zn===xt.Position.LeftCenter,"rpv-core__arrow--lb":zn===xt.Position.LeftBottom},Gn["".concat(rr)]=rr!=="",Gn))})},pn=function(jn){var Gn=jn.ariaControlsSuffix,rr=jn.children,zn=jn.closeOnClickOutside,Lt=jn.offset,yn=jn.position,qn=jn.targetRef,_i=jn.onClose,Kn=St.useRef(),ir=St.useRef(),ar=St.useRef(),gr=St.useContext(_e).direction===xt.TextDirection.RightToLeft;tn(zn,Kn,_i),Jt(Kn,qn,ar,yn,Lt),Ft(function(){var br=ir.current;if(br){var Ir=.75*document.body.clientHeight;br.getBoundingClientRect().height>=Ir&&(br.style.overflow="auto",br.style.maxHeight="".concat(Ir,"px"))}},[]);var mr="rpv-core__popover-body-inner-".concat(Gn);return St.createElement(St.Fragment,null,St.createElement("div",{ref:ar,style:{left:0,position:"absolute",top:0}}),St.createElement("div",{"aria-describedby":mr,className:bt({"rpv-core__popover-body":!0,"rpv-core__popover-body--rtl":gr}),id:"rpv-core__popover-body-".concat(Gn),ref:Kn,role:"dialog",tabIndex:-1},St.createElement(un,{customClassName:"rpv-core__popover-body-arrow",position:yn}),St.createElement("div",{id:mr,ref:ir},rr)))},wn=function(jn){var Gn=jn.closeOnEscape,rr=jn.onClose,zn=St.useRef();return ln(function(){zn.current&&Gn&&rr()}),St.createElement("div",{className:"rpv-core__popover-overlay",ref:zn})},kn=function(jn){var Gn=jn.ariaControlsSuffix,rr=jn.children,zn=jn.contentRef,Lt=jn.offset,yn=jn.position,qn=jn.targetRef,_i=St.useRef(),Kn=St.useContext(_e).direction===xt.TextDirection.RightToLeft;return Jt(zn,qn,_i,yn,Lt),St.createElement(St.Fragment,null,St.createElement("div",{ref:_i,style:{left:0,position:"absolute",top:0}}),St.createElement("div",{className:bt({"rpv-core__tooltip-body":!0,"rpv-core__tooltip-body--rtl":Kn}),id:"rpv-core__tooltip-body-".concat(Gn),ref:zn,role:"tooltip"},St.createElement(un,{customClassName:"rpv-core__tooltip-body-arrow",position:yn}),St.createElement("div",{className:"rpv-core__tooltip-body-content"},rr)))};xt.FullScreenMode=void 0,(vn=xt.FullScreenMode||(xt.FullScreenMode={})).Normal="Normal",vn.Entering="Entering",vn.Entered="Entered",vn.EnteredCompletely="EnteredCompletely",vn.Exitting="Exitting",vn.Exited="Exited",xt.LayerRenderStatus=void 0,(En=xt.LayerRenderStatus||(xt.LayerRenderStatus={}))[En.PreRender=0]="PreRender",En[En.DidRender=1]="DidRender",xt.PageMode=void 0,(Fn=xt.PageMode||(xt.PageMode={})).Attachments="UseAttachments",Fn.Bookmarks="UseOutlines",Fn.ContentGroup="UseOC",Fn.Default="UserNone",Fn.FullScreen="FullScreen",Fn.Thumbnails="UseThumbs",xt.PasswordStatus=void 0,(Mn=xt.PasswordStatus||(xt.PasswordStatus={})).RequiredPassword="RequiredPassword",Mn.WrongPassword="WrongPassword",xt.RotateDirection=void 0,(Tn=xt.RotateDirection||(xt.RotateDirection={})).Backward="Backward",Tn.Forward="Forward",xt.ScrollMode=void 0,(Sn=xt.ScrollMode||(xt.ScrollMode={})).Page="Page",Sn.Horizontal="Horizontal",Sn.Vertical="Vertical",Sn.Wrapped="Wrapped",xt.SpecialZoomLevel=void 0,(mn=xt.SpecialZoomLevel||(xt.SpecialZoomLevel={})).ActualSize="ActualSize",mn.PageFit="PageFit",mn.PageWidth="PageWidth",xt.ViewMode=void 0,(fn=xt.ViewMode||(xt.ViewMode={})).DualPage="DualPage",fn.DualPageWithCover="DualPageWithCover",fn.SinglePage="SinglePage";var Rn,Cn=function(jn,Gn){return jn.reduce(function(rr,zn,Lt){return Lt%Gn?rr[rr.length-1].push(zn):rr.push([zn]),rr},[])},An=function(jn,Gn){switch(Gn[1].name){case"XYZ":return{bottomOffset:function(rr,zn){return Gn[3]===null?zn:Gn[3]},leftOffset:function(rr,zn){return Gn[2]===null?0:Gn[2]},pageIndex:jn,scaleTo:Gn[4]};case"Fit":case"FitB":return{bottomOffset:0,leftOffset:0,pageIndex:jn,scaleTo:xt.SpecialZoomLevel.PageFit};case"FitH":case"FitBH":return{bottomOffset:Gn[2],leftOffset:0,pageIndex:jn,scaleTo:xt.SpecialZoomLevel.PageWidth};default:return{bottomOffset:0,leftOffset:0,pageIndex:jn,scaleTo:1}}},_n=new Map,In=new Map,Pn=function(jn,Gn){return"".concat(jn.loadingTask.docId,"___").concat(Gn.num,"R").concat(Gn.gen===0?"":Gn.gen)},Dn=function(jn,Gn,rr){_n.set(Pn(jn,Gn),rr)},Ln=function(jn,Gn){if(!jn)return Promise.reject("The document is not loaded yet");var rr="".concat(jn.loadingTask.docId,"___").concat(Gn),zn=In.get(rr);return zn?Promise.resolve(zn):new Promise(function(Lt,yn){jn.getPage(Gn+1).then(function(qn){In.set(rr,qn),qn.ref&&Dn(jn,qn.ref,Gn),Lt(qn)})})},Un=function(jn,Gn){return new Promise(function(rr){new Promise(function(zn){typeof Gn=="string"?jn.getDestination(Gn).then(function(Lt){zn(Lt)}):zn(Gn)}).then(function(zn){if(typeof zn[0]=="object"&&zn[0]!==null){var Lt=zn[0],yn=function(_i,Kn){var ir=Pn(_i,Kn);return _n.has(ir)?_n.get(ir):null}(jn,Lt);yn===null?jn.getPageIndex(Lt).then(function(_i){Dn(jn,Lt,_i),Un(jn,Gn).then(function(Kn){return rr(Kn)})}):rr(An(yn,zn))}else{var qn=An(zn[0],zn);rr(qn)}})})};(function(jn){jn[jn.Solid=1]="Solid",jn[jn.Dashed=2]="Dashed",jn[jn.Beveled=3]="Beveled",jn[jn.Inset=4]="Inset",jn[jn.Underline=5]="Underline"})(Rn||(Rn={}));var tr,er=new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?"),Qn=function(jn,Gn,rr,zn){var Lt=parseInt(jn,10);return Lt>=Gn&&Lt<=rr?Lt:zn},Yn=function(jn){return jn.contentsObj?jn.contentsObj.str:jn.contents||""},Xn=function(jn){return jn.titleObj?jn.titleObj.str:jn.title||""},nr=function(jn){var Gn=jn.annotation,rr=St.useContext(_e).direction,zn=Xn(Gn),Lt=Yn(Gn),yn=rr===xt.TextDirection.RightToLeft,qn=St.useRef(),_i="";if(Gn.modificationDate){var Kn=function(ir){var ar=er.exec(ir);if(!ar)return null;var gr=parseInt(ar[1],10),mr=Qn(ar[2],1,12,1)-1,br=Qn(ar[3],1,31,1),Ir=Qn(ar[4],0,23,0),Cr=Qn(ar[5],0,59,0),kr=Qn(ar[6],0,59,0),ts=ar[7]||"Z",Mr=Qn(ar[8],0,23,0),Gr=Qn(ar[9],0,59,0);switch(ts){case"-":Ir+=Mr,Cr+=Gr;break;case"+":Ir-=Mr,Cr-=Gr}return new Date(Date.UTC(gr,mr,br,Ir,Cr,kr))}(Gn.modificationDate);_i=Kn?"".concat(Kn.toLocaleDateString(),", ").concat(Kn.toLocaleTimeString()):""}return St.useLayoutEffect(function(){if(qn.current){var ir=document.querySelector('[data-annotation-id="'.concat(Gn.id,'"]'));if(ir){var ar=ir;return ar.style.zIndex+=1,function(){ar.style.zIndex="".concat(parseInt(ar.style.zIndex,10)-1)}}}},[]),St.createElement("div",{ref:qn,className:bt({"rpv-core__annotation-popup-wrapper":!0,"rpv-core__annotation-popup-wrapper--rtl":yn}),style:{top:Gn.annotationType===xt.AnnotationType.Popup?"":"100%"}},zn&&St.createElement(St.Fragment,null,St.createElement("div",{className:bt({"rpv-core__annotation-popup-title":!0,"rpv-core__annotation-popup-title--ltr":!yn,"rpv-core__annotation-popup-title--rtl":yn})},zn),St.createElement("div",{className:"rpv-core__annotation-popup-date"},_i)),Lt&&St.createElement("div",{className:"rpv-core__annotation-popup-content"},Lt.split(`
`).map(function(ir,ar){return St.createElement(St.Fragment,{key:ar},ir,St.createElement("br",null))})))};(function(jn){jn.Click="Click",jn.Hover="Hover"})(tr||(tr={}));var lr,dr=function(jn){var Gn,rr=jn.annotation,zn=jn.children,Lt=jn.ignoreBorder,yn=jn.hasPopup,qn=jn.isRenderable,_i=jn.page,Kn=jn.viewport,ir=rr.rect,ar=function(){var Br=rn(!1),Nr=Br.opened,Es=Br.toggle,ks=St.useState(tr.Hover),Fs=ks[0],Rs=ks[1];return{opened:Nr,closeOnHover:function(){Fs===tr.Hover&&Es(xt.ToggleStatus.Close)},openOnHover:function(){Fs===tr.Hover&&Es(xt.ToggleStatus.Open)},toggleOnClick:function(){switch(Fs){case tr.Click:Nr&&Rs(tr.Hover),Es(xt.ToggleStatus.Toggle);break;case tr.Hover:Rs(tr.Click),Es(xt.ToggleStatus.Open)}}}}(),gr=ar.closeOnHover,mr=ar.opened,br=ar.openOnHover,Ir=ar.toggleOnClick,Cr=(Gn=[ir[0],_i.view[3]+_i.view[1]-ir[1],ir[2],_i.view[3]+_i.view[1]-ir[3]],[Math.min(Gn[0],Gn[2]),Math.min(Gn[1],Gn[3]),Math.max(Gn[0],Gn[2]),Math.max(Gn[1],Gn[3])]),kr=ir[2]-ir[0],ts=ir[3]-ir[1],Mr={borderColor:"",borderRadius:"",borderStyle:"",borderWidth:""};if(!Lt&&rr.borderStyle.width>0){switch(rr.borderStyle.style){case Rn.Dashed:Mr.borderStyle="dashed";break;case Rn.Solid:Mr.borderStyle="solid";break;case Rn.Underline:Mr=Object.assign({borderBottomStyle:"solid"},Mr);case Rn.Beveled:case Rn.Inset:}var Gr=rr.borderStyle.width;Mr.borderWidth="".concat(Gr,"px"),rr.borderStyle.style!==Rn.Underline&&(kr-=2*Gr,ts-=2*Gr);var Xr=rr.borderStyle,Hr=Xr.horizontalCornerRadius,Qr=Xr.verticalCornerRadius;(Hr>0||Qr>0)&&(Mr.borderRadius="".concat(Hr,"px / ").concat(Qr,"px")),rr.color?Mr.borderColor="rgb(".concat(0|rr.color[0],", ").concat(0|rr.color[1],", ").concat(0|rr.color[2],")"):Mr.borderWidth="0"}return St.createElement(St.Fragment,null,qn&&zn({popup:{opened:mr,closeOnHover:gr,openOnHover:br,toggleOnClick:Ir},slot:{attrs:{style:Object.assign({height:"".concat(ts,"px"),left:"".concat(Cr[0],"px"),top:"".concat(Cr[1],"px"),transform:"matrix(".concat(Kn.transform.join(","),")"),transformOrigin:"-".concat(Cr[0],"px -").concat(Cr[1],"px"),width:"".concat(kr,"px")},Mr)},children:St.createElement(St.Fragment,null,yn&&mr&&St.createElement(nr,{annotation:rr}))}}))},Bn=function(jn){var Gn=jn.annotation,rr=jn.page,zn=jn.viewport,Lt=Gn.hasPopup===!1,yn=Xn(Gn),qn=Yn(Gn),_i=!!(Gn.hasPopup||yn||qn);return St.createElement(dr,{annotation:Gn,hasPopup:Lt,ignoreBorder:!0,isRenderable:_i,page:rr,viewport:zn},function(Kn){return St.createElement("div",_t({},Kn.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--caret","data-annotation-id":Gn.id,onClick:Kn.popup.toggleOnClick,onMouseEnter:Kn.popup.openOnHover,onMouseLeave:Kn.popup.closeOnHover}),Kn.slot.children)})},Hn=function(jn){var Gn=jn.annotation,rr=jn.page,zn=jn.viewport,Lt=Gn.hasPopup===!1,yn=Xn(Gn),qn=Yn(Gn),_i=!!(Gn.hasPopup||yn||qn),Kn=Gn.rect,ir=Kn[2]-Kn[0],ar=Kn[3]-Kn[1],gr=Gn.borderStyle.width;return St.createElement(dr,{annotation:Gn,hasPopup:Lt,ignoreBorder:!0,isRenderable:_i,page:rr,viewport:zn},function(mr){return St.createElement("div",_t({},mr.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--circle","data-annotation-id":Gn.id,onClick:mr.popup.toggleOnClick,onMouseEnter:mr.popup.openOnHover,onMouseLeave:mr.popup.closeOnHover}),St.createElement("svg",{height:"".concat(ar,"px"),preserveAspectRatio:"none",version:"1.1",viewBox:"0 0 ".concat(ir," ").concat(ar),width:"".concat(ir,"px")},St.createElement("circle",{cy:ar/2,fill:"none",rx:ir/2-gr/2,ry:ar/2-gr/2,stroke:"transparent",strokeWidth:gr||1})),mr.slot.children)})},Wn=function(jn){var Gn=jn.annotation,rr=jn.page,zn=jn.viewport,Lt=Xn(Gn),yn=Yn(Gn),qn=!(Gn.hasPopup!==!1||!Lt&&!yn),_i=function(){var Kn,ir,ar,gr,mr=Gn.file;mr&&(Kn=mr.filename,ir=mr.content,ar=typeof ir=="string"?"":URL.createObjectURL(new Blob([ir],{type:""})),(gr=document.createElement("a")).style.display="none",gr.href=ar||Kn,gr.setAttribute("download",function(br){var Ir=br.split("/").pop();return Ir?Ir.split("#")[0].split("?")[0]:br}(Kn)),document.body.appendChild(gr),gr.click(),document.body.removeChild(gr),ar&&URL.revokeObjectURL(ar))};return St.createElement(dr,{annotation:Gn,hasPopup:qn,ignoreBorder:!0,isRenderable:!0,page:rr,viewport:zn},function(Kn){return St.createElement("div",_t({},Kn.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--file-attachment","data-annotation-id":Gn.id,onClick:Kn.popup.toggleOnClick,onDoubleClick:_i,onMouseEnter:Kn.popup.openOnHover,onMouseLeave:Kn.popup.closeOnHover}),Kn.slot.children)})},cr=function(jn){var Gn=jn.annotation,rr=jn.page,zn=jn.viewport,Lt=Gn.hasPopup===!1,yn=Xn(Gn),qn=Yn(Gn),_i=!!(Gn.hasPopup||yn||qn);return St.createElement(dr,{annotation:Gn,hasPopup:Lt,ignoreBorder:!0,isRenderable:_i,page:rr,viewport:zn},function(Kn){return St.createElement("div",_t({},Kn.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--free-text","data-annotation-id":Gn.id,onClick:Kn.popup.toggleOnClick,onMouseEnter:Kn.popup.openOnHover,onMouseLeave:Kn.popup.closeOnHover}),Kn.slot.children)})},sr=function(jn){var Gn=jn.annotation,rr=jn.page,zn=jn.viewport,Lt=Xn(Gn),yn=Yn(Gn),qn=!(!Lt&&!yn),_i=!Gn.parentType||["Circle","Ink","Line","Polygon","PolyLine","Square"].indexOf(Gn.parentType)!==-1;return Ft(function(){if(Gn.parentId){var Kn=document.querySelector('[data-annotation-id="'.concat(Gn.parentId,'"]')),ir=document.querySelector('[data-annotation-id="'.concat(Gn.id,'"]'));if(Kn&&ir){var ar=parseFloat(Kn.style.left),gr=parseFloat(Kn.style.top)+parseFloat(Kn.style.height);ir.style.left="".concat(ar,"px"),ir.style.top="".concat(gr,"px"),ir.style.transformOrigin="-".concat(ar,"px -").concat(gr,"px")}}},[]),St.createElement(dr,{annotation:Gn,hasPopup:_i,ignoreBorder:!1,isRenderable:qn,page:rr,viewport:zn},function(Kn){return St.createElement("div",_t({},Kn.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--popup","data-annotation-id":Gn.id}),St.createElement(nr,{annotation:Gn}))})},xr=function(jn){var Gn=jn.annotation,rr=jn.childAnnotation,zn=jn.page,Lt=jn.viewport,yn=Gn.hasPopup===!1,qn=Xn(Gn),_i=Yn(Gn),Kn=!!(Gn.hasPopup||qn||_i);if(Gn.quadPoints&&Gn.quadPoints.length>0){var ir=Gn.quadPoints.map(function(ar){return Object.assign({},Gn,{rect:[ar[2].x,ar[2].y,ar[1].x,ar[1].y],quadPoints:[]})});return St.createElement(St.Fragment,null,ir.map(function(ar,gr){return St.createElement(xr,{key:gr,annotation:ar,childAnnotation:rr,page:zn,viewport:Lt})}))}return St.createElement(dr,{annotation:Gn,hasPopup:yn,ignoreBorder:!0,isRenderable:Kn,page:zn,viewport:Lt},function(ar){return St.createElement(St.Fragment,null,St.createElement("div",_t({},ar.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--highlight","data-annotation-id":Gn.id,onClick:ar.popup.toggleOnClick,onMouseEnter:ar.popup.openOnHover,onMouseLeave:ar.popup.closeOnHover}),ar.slot.children),rr&&rr.annotationType===xt.AnnotationType.Popup&&ar.popup.opened&&St.createElement(sr,{annotation:rr,page:zn,viewport:Lt}))})},Jn=function(jn){var Gn=jn.annotation,rr=jn.page,zn=jn.viewport,Lt=Gn.hasPopup===!1,yn=Xn(Gn),qn=Yn(Gn),_i=!!(Gn.hasPopup||yn||qn),Kn=Gn.rect,ir=Kn[2]-Kn[0],ar=Kn[3]-Kn[1],gr=Gn.borderStyle.width;return St.createElement(dr,{annotation:Gn,hasPopup:Lt,ignoreBorder:!0,isRenderable:_i,page:rr,viewport:zn},function(mr){return St.createElement("div",_t({},mr.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--ink","data-annotation-id":Gn.id,onClick:mr.popup.toggleOnClick,onMouseEnter:mr.popup.openOnHover,onMouseLeave:mr.popup.closeOnHover}),Gn.inkLists&&Gn.inkLists.length&&St.createElement("svg",{height:"".concat(ar,"px"),preserveAspectRatio:"none",version:"1.1",viewBox:"0 0 ".concat(ir," ").concat(ar),width:"".concat(ir,"px")},Gn.inkLists.map(function(br,Ir){return St.createElement("polyline",{key:Ir,fill:"none",stroke:"transparent",strokeWidth:gr||1,points:br.map(function(Cr){return"".concat(Cr.x-Kn[0],",").concat(Kn[3]-Cr.y)}).join(" ")})})),mr.slot.children)})},Vn=function(jn){var Gn=jn.annotation,rr=jn.page,zn=jn.viewport,Lt=Gn.hasPopup===!1,yn=Xn(Gn),qn=Yn(Gn),_i=!!(Gn.hasPopup||yn||qn),Kn=Gn.rect,ir=Kn[2]-Kn[0],ar=Kn[3]-Kn[1],gr=Gn.borderStyle.width;return St.createElement(dr,{annotation:Gn,hasPopup:Lt,ignoreBorder:!0,isRenderable:_i,page:rr,viewport:zn},function(mr){return St.createElement("div",_t({},mr.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--line","data-annotation-id":Gn.id,onClick:mr.popup.toggleOnClick,onMouseEnter:mr.popup.openOnHover,onMouseLeave:mr.popup.closeOnHover}),St.createElement("svg",{height:"".concat(ar,"px"),preserveAspectRatio:"none",version:"1.1",viewBox:"0 0 ".concat(ir," ").concat(ar),width:"".concat(ir,"px")},St.createElement("line",{stroke:"transparent",strokeWidth:gr||1,x1:Kn[2]-Gn.lineCoordinates[0],x2:Kn[2]-Gn.lineCoordinates[2],y1:Kn[3]-Gn.lineCoordinates[1],y2:Kn[3]-Gn.lineCoordinates[3]})),mr.slot.children)})},Zn=/^([^\w]*)(javascript|data|vbscript)/im,ur=/&#(\w+)(^\w|;)?/g,hr=/[\u0000-\u001F\u007F-\u009F\u2000-\u200D\uFEFF]/gim,or=/^([^:]+):/gm,pr=function(jn,Gn){var rr,zn=(rr=jn||"",rr.replace(ur,function(_i,Kn){return String.fromCharCode(Kn)})).replace(hr,"").trim();if(!zn)return Gn;var Lt=zn[0];if(Lt==="."||Lt==="/")return zn;var yn=zn.match(or);if(!yn)return zn;var qn=yn[0];return Zn.test(qn)?Gn:zn},wr=function(jn){var Gn,rr=jn.annotation,zn=jn.annotationContainerRef,Lt=jn.doc,yn=jn.outlines,qn=jn.page,_i=jn.pageIndex,Kn=jn.scale,ir=jn.viewport,ar=jn.onExecuteNamedAction,gr=jn.onJumpFromLinkAnnotation,mr=jn.onJumpToDest,br=St.useRef(),Ir=yn&&yn.length&&rr.dest&&typeof rr.dest=="string"?(Gn=yn.find(function(Mr){return Mr.dest===rr.dest}))===null||Gn===void 0?void 0:Gn.title:"",Cr=!!(rr.url||rr.dest||rr.action||rr.unsafeUrl),kr={};if(rr.url||rr.unsafeUrl){var ts=pr(rr.url||rr.unsafeUrl,"");ts?kr={"data-target":"external",href:ts,rel:"noopener noreferrer nofollow",target:rr.newWindow?"_blank":"",title:ts}:Cr=!1}else kr={href:"","data-annotation-link":rr.id,onClick:function(Mr){Mr.preventDefault(),rr.action?ar(rr.action):Un(Lt,rr.dest).then(function(Gr){var Xr=br.current,Hr=zn.current;if(Xr&&Hr){var Qr=Xr.getBoundingClientRect();Hr.style.setProperty("height","100%"),Hr.style.setProperty("width","100%");var Br=Hr.getBoundingClientRect();Hr.style.removeProperty("height"),Hr.style.removeProperty("width");var Nr=(Qr.left-Br.left)/Kn,Es=(Br.bottom-Qr.bottom+Qr.height)/Kn;gr({bottomOffset:Es,label:Ir,leftOffset:Nr,pageIndex:_i})}mr(Gr)})}};return Ir&&(kr=Object.assign({},kr,{title:Ir,"aria-label":Ir})),St.createElement(dr,{annotation:rr,hasPopup:!1,ignoreBorder:!1,isRenderable:Cr,page:qn,viewport:ir},function(Mr){return St.createElement("div",_t({},Mr.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--link","data-annotation-id":rr.id,"data-testid":"core__annotation--link-".concat(rr.id)}),St.createElement("a",_t({ref:br},kr)))})},fr=function(jn){var Gn=jn.annotation,rr=jn.page,zn=jn.viewport,Lt=Gn.hasPopup===!1,yn=Xn(Gn),qn=Yn(Gn),_i=!!(Gn.hasPopup||yn||qn),Kn=Gn.rect,ir=Kn[2]-Kn[0],ar=Kn[3]-Kn[1],gr=Gn.borderStyle.width;return St.createElement(dr,{annotation:Gn,hasPopup:Lt,ignoreBorder:!0,isRenderable:_i,page:rr,viewport:zn},function(mr){return St.createElement("div",_t({},mr.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--polygon","data-annotation-id":Gn.id,onClick:mr.popup.toggleOnClick,onMouseEnter:mr.popup.openOnHover,onMouseLeave:mr.popup.closeOnHover}),Gn.vertices&&Gn.vertices.length&&St.createElement("svg",{height:"".concat(ar,"px"),preserveAspectRatio:"none",version:"1.1",viewBox:"0 0 ".concat(ir," ").concat(ar),width:"".concat(ir,"px")},St.createElement("polygon",{fill:"none",stroke:"transparent",strokeWidth:gr||1,points:Gn.vertices.map(function(br){return"".concat(br.x-Kn[0],",").concat(Kn[3]-br.y)}).join(" ")})),mr.slot.children)})},Ar=function(jn){var Gn=jn.annotation,rr=jn.page,zn=jn.viewport,Lt=Gn.hasPopup===!1,yn=Xn(Gn),qn=Yn(Gn),_i=!!(Gn.hasPopup||yn||qn),Kn=Gn.rect,ir=Kn[2]-Kn[0],ar=Kn[3]-Kn[1],gr=Gn.borderStyle.width;return St.createElement(dr,{annotation:Gn,hasPopup:Lt,ignoreBorder:!0,isRenderable:_i,page:rr,viewport:zn},function(mr){return St.createElement("div",_t({},mr.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--polyline","data-annotation-id":Gn.id,onClick:mr.popup.toggleOnClick,onMouseEnter:mr.popup.openOnHover,onMouseLeave:mr.popup.closeOnHover}),Gn.vertices&&Gn.vertices.length&&St.createElement("svg",{height:"".concat(ar,"px"),preserveAspectRatio:"none",version:"1.1",viewBox:"0 0 ".concat(ir," ").concat(ar),width:"".concat(ir,"px")},St.createElement("polyline",{fill:"none",stroke:"transparent",strokeWidth:gr||1,points:Gn.vertices.map(function(br){return"".concat(br.x-Kn[0],",").concat(Kn[3]-br.y)}).join(" ")})),mr.slot.children)})},Lr=function(jn){var Gn=jn.annotation,rr=jn.page,zn=jn.viewport,Lt=Gn.hasPopup===!1,yn=Xn(Gn),qn=Yn(Gn),_i=!!(Gn.hasPopup||yn||qn),Kn=Gn.rect,ir=Kn[2]-Kn[0],ar=Kn[3]-Kn[1],gr=Gn.borderStyle.width;return St.createElement(dr,{annotation:Gn,hasPopup:Lt,ignoreBorder:!0,isRenderable:_i,page:rr,viewport:zn},function(mr){return St.createElement("div",_t({},mr.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--square","data-annotation-id":Gn.id,onClick:mr.popup.toggleOnClick,onMouseEnter:mr.popup.openOnHover,onMouseLeave:mr.popup.closeOnHover}),St.createElement("svg",{height:"".concat(ar,"px"),preserveAspectRatio:"none",version:"1.1",viewBox:"0 0 ".concat(ir," ").concat(ar),width:"".concat(ir,"px")},St.createElement("rect",{height:ar-gr,fill:"none",stroke:"transparent",strokeWidth:gr||1,x:gr/2,y:gr/2,width:ir-gr})),mr.slot.children)})},Fr=function(jn){var Gn=jn.annotation,rr=jn.page,zn=jn.viewport,Lt=Gn.hasPopup===!1,yn=Xn(Gn),qn=Yn(Gn),_i=!!(Gn.hasPopup||yn||qn);return St.createElement(dr,{annotation:Gn,hasPopup:Lt,ignoreBorder:!0,isRenderable:_i,page:rr,viewport:zn},function(Kn){return St.createElement("div",_t({},Kn.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--squiggly","data-annotation-id":Gn.id,onClick:Kn.popup.toggleOnClick,onMouseEnter:Kn.popup.openOnHover,onMouseLeave:Kn.popup.closeOnHover}),Kn.slot.children)})},$r=function(jn){var Gn=jn.annotation,rr=jn.page,zn=jn.viewport,Lt=Gn.hasPopup===!1,yn=Xn(Gn),qn=Yn(Gn),_i=!!(Gn.hasPopup||yn||qn);return St.createElement(dr,{annotation:Gn,hasPopup:Lt,ignoreBorder:!0,isRenderable:_i,page:rr,viewport:zn},function(Kn){return St.createElement("div",_t({},Kn.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--stamp","data-annotation-id":Gn.id,onClick:Kn.popup.toggleOnClick,onMouseEnter:Kn.popup.openOnHover,onMouseLeave:Kn.popup.closeOnHover}),Kn.slot.children)})},Er=function(jn){var Gn=jn.annotation,rr=jn.page,zn=jn.viewport,Lt=Gn.hasPopup===!1,yn=Xn(Gn),qn=Yn(Gn),_i=!!(Gn.hasPopup||yn||qn);return St.createElement(dr,{annotation:Gn,hasPopup:Lt,ignoreBorder:!0,isRenderable:_i,page:rr,viewport:zn},function(Kn){return St.createElement("div",_t({},Kn.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--strike-out","data-annotation-id":Gn.id,onClick:Kn.popup.toggleOnClick,onMouseEnter:Kn.popup.openOnHover,onMouseLeave:Kn.popup.closeOnHover}),Kn.slot.children)})},_r=function(){return St.createElement(Kt,{size:16},St.createElement("path",{d:"M.5,16.5a1,1,0,0,0,1,1h2v4l4-4h15a1,1,0,0,0,1-1V3.5a1,1,0,0,0-1-1H1.5a1,1,0,0,0-1,1Z"}),St.createElement("path",{d:"M7.25,9.75A.25.25,0,1,1,7,10a.25.25,0,0,1,.25-.25"}),St.createElement("path",{d:"M12,9.75a.25.25,0,1,1-.25.25A.25.25,0,0,1,12,9.75"}),St.createElement("path",{d:"M16.75,9.75a.25.25,0,1,1-.25.25.25.25,0,0,1,.25-.25"}))},Rr=function(){return St.createElement(Kt,{size:16},St.createElement("path",{d:"M0.500 12.001 A11.500 11.500 0 1 0 23.500 12.001 A11.500 11.500 0 1 0 0.500 12.001 Z"}),St.createElement("path",{d:"M6.000 12.001 A6.000 6.000 0 1 0 18.000 12.001 A6.000 6.000 0 1 0 6.000 12.001 Z"}),St.createElement("path",{d:"M21.423 5.406L17.415 9.414"}),St.createElement("path",{d:"M14.587 6.585L18.607 2.565"}),St.createElement("path",{d:"M5.405 21.424L9.413 17.416"}),St.createElement("path",{d:"M6.585 14.588L2.577 18.596"}),St.createElement("path",{d:"M18.602 21.419L14.595 17.412"}),St.createElement("path",{d:"M17.419 14.58L21.428 18.589"}),St.createElement("path",{d:"M2.582 5.399L6.588 9.406"}),St.createElement("path",{d:"M9.421 6.581L5.412 2.572"}))},qr=function(){return St.createElement(Kt,{size:16},St.createElement("path",{d:"M4.000 18.500 A1.500 1.500 0 1 0 7.000 18.500 A1.500 1.500 0 1 0 4.000 18.500 Z"}),St.createElement("path",{d:"M20.5.5l-9.782,9.783a7,7,0,1,0,3,3L17,10h1.5V8.5L19,8h1.5V6.5L21,6h1.5V4.5l1-1V.5Z"}))},vs=function(){return St.createElement(Kt,{size:16},St.createElement("path",{d:"M2.000 2.500 L22.000 2.500 L22.000 23.500 L2.000 23.500 Z"}),St.createElement("path",{d:"M6 4.5L6 0.5"}),St.createElement("path",{d:"M18 4.5L18 0.5"}),St.createElement("path",{d:"M10 4.5L10 0.5"}),St.createElement("path",{d:"M14 4.5L14 0.5"}))},ls=function(){return St.createElement(Kt,{size:16},St.createElement("path",{d:"M17.5 0.498L17.5 23.498"}),St.createElement("path",{d:"M10.5 0.498L10.5 23.498"}),St.createElement("path",{d:"M23.5.5H6.5a6,6,0,0,0,0,12h4"}))},ns=function(){return St.createElement(Kt,{size:16},St.createElement("path",{d:"M2.5 22.995L12 6.005 21.5 22.995 2.5 22.995z"}))},Ns=function(jn){var Gn=jn.annotation,rr=jn.childAnnotation,zn=jn.page,Lt=jn.viewport,yn=Gn.hasPopup===!1,qn=Xn(Gn),_i=Yn(Gn),Kn=!!(Gn.hasPopup||qn||_i),ir=Gn.name?Gn.name.toLowerCase():"";return St.createElement(dr,{annotation:Gn,hasPopup:yn,ignoreBorder:!1,isRenderable:Kn,page:zn,viewport:Lt},function(ar){return St.createElement(St.Fragment,null,St.createElement("div",_t({},ar.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--text","data-annotation-id":Gn.id,onClick:ar.popup.toggleOnClick,onMouseEnter:ar.popup.openOnHover,onMouseLeave:ar.popup.closeOnHover}),ir&&St.createElement("div",{className:"rpv-core__annotation-text-icon"},ir==="check"&&St.createElement(Nt,null),ir==="comment"&&St.createElement(_r,null),ir==="help"&&St.createElement(Rr,null),ir==="insert"&&St.createElement(ns,null),ir==="key"&&St.createElement(qr,null),ir==="note"&&St.createElement(vs,null),(ir==="newparagraph"||ir==="paragraph")&&St.createElement(ls,null)),ar.slot.children),rr&&rr.annotationType===xt.AnnotationType.Popup&&ar.popup.opened&&St.createElement(sr,{annotation:rr,page:zn,viewport:Lt}))})},Gs=function(jn){var Gn=jn.annotation,rr=jn.page,zn=jn.viewport,Lt=Gn.hasPopup===!1,yn=Xn(Gn),qn=Yn(Gn),_i=!!(Gn.hasPopup||yn||qn);return St.createElement(dr,{annotation:Gn,hasPopup:Lt,ignoreBorder:!0,isRenderable:_i,page:rr,viewport:zn},function(Kn){return St.createElement("div",_t({},Kn.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--underline","data-annotation-id":Gn.id,onClick:Kn.popup.toggleOnClick,onMouseEnter:Kn.popup.openOnHover,onMouseLeave:Kn.popup.closeOnHover}),Kn.slot.children)})},vr=function(jn){var Gn=jn.annotations,rr=jn.doc,zn=jn.outlines,Lt=jn.page,yn=jn.pageIndex,qn=jn.plugins,_i=jn.rotation,Kn=jn.scale,ir=jn.onExecuteNamedAction,ar=jn.onJumpFromLinkAnnotation,gr=jn.onJumpToDest,mr=St.useRef(),br=Lt.getViewport({rotation:_i,scale:Kn}).clone({dontFlip:!0}),Ir=Gn.filter(function(Cr){return!Cr.parentId});return Ft(function(){var Cr=mr.current;Cr&&qn.forEach(function(kr){kr.onAnnotationLayerRender&&kr.onAnnotationLayerRender({annotations:Ir,container:Cr,pageIndex:yn,rotation:_i,scale:Kn})})},[]),St.createElement("div",{ref:mr,className:"rpv-core__annotation-layer","data-testid":"core__annotation-layer-".concat(yn)},Ir.map(function(Cr){var kr=Gn.find(function(ts){return ts.parentId===Cr.id});switch(Cr.annotationType){case xt.AnnotationType.Caret:return St.createElement(Bn,{key:Cr.id,annotation:Cr,page:Lt,viewport:br});case xt.AnnotationType.Circle:return St.createElement(Hn,{key:Cr.id,annotation:Cr,page:Lt,viewport:br});case xt.AnnotationType.FileAttachment:return St.createElement(Wn,{key:Cr.id,annotation:Cr,page:Lt,viewport:br});case xt.AnnotationType.FreeText:return St.createElement(cr,{key:Cr.id,annotation:Cr,page:Lt,viewport:br});case xt.AnnotationType.Highlight:return St.createElement(xr,{key:Cr.id,annotation:Cr,childAnnotation:kr,page:Lt,viewport:br});case xt.AnnotationType.Ink:return St.createElement(Jn,{key:Cr.id,annotation:Cr,page:Lt,viewport:br});case xt.AnnotationType.Line:return St.createElement(Vn,{key:Cr.id,annotation:Cr,page:Lt,viewport:br});case xt.AnnotationType.Link:return St.createElement(wr,{key:Cr.id,annotation:Cr,annotationContainerRef:mr,doc:rr,outlines:zn,page:Lt,pageIndex:yn,scale:Kn,viewport:br,onExecuteNamedAction:ir,onJumpFromLinkAnnotation:ar,onJumpToDest:gr});case xt.AnnotationType.Polygon:return St.createElement(fr,{key:Cr.id,annotation:Cr,page:Lt,viewport:br});case xt.AnnotationType.Polyline:return St.createElement(Ar,{key:Cr.id,annotation:Cr,page:Lt,viewport:br});case xt.AnnotationType.Popup:return St.createElement(sr,{key:Cr.id,annotation:Cr,page:Lt,viewport:br});case xt.AnnotationType.Square:return St.createElement(Lr,{key:Cr.id,annotation:Cr,page:Lt,viewport:br});case xt.AnnotationType.Squiggly:return St.createElement(Fr,{key:Cr.id,annotation:Cr,page:Lt,viewport:br});case xt.AnnotationType.Stamp:return St.createElement($r,{key:Cr.id,annotation:Cr,page:Lt,viewport:br});case xt.AnnotationType.StrikeOut:return St.createElement(Er,{key:Cr.id,annotation:Cr,page:Lt,viewport:br});case xt.AnnotationType.Text:return St.createElement(Ns,{key:Cr.id,annotation:Cr,childAnnotation:kr,page:Lt,viewport:br});case xt.AnnotationType.Underline:return St.createElement(Gs,{key:Cr.id,annotation:Cr,page:Lt,viewport:br});default:return St.createElement(St.Fragment,{key:Cr.id})}}))},yr=function(jn){var Gn=jn.page,rr=jn.renderAnnotations,zn=Vt(),Lt=St.useState({loading:!0,annotations:[]}),yn=Lt[0],qn=Lt[1];return St.useEffect(function(){Gn.getAnnotations({intent:"display"}).then(function(_i){zn.current&&qn({loading:!1,annotations:_i})})},[]),yn.loading?St.createElement(St.Fragment,null):rr(yn.annotations)},Sr=function(jn){var Gn=jn.doc,rr=jn.outlines,zn=jn.page,Lt=jn.pageIndex,yn=jn.plugins,qn=jn.rotation,_i=jn.scale,Kn=jn.onExecuteNamedAction,ir=jn.onJumpFromLinkAnnotation,ar=jn.onJumpToDest;return St.createElement(yr,{page:zn,renderAnnotations:function(gr){return St.createElement(vr,{annotations:gr,doc:Gn,outlines:rr,page:zn,pageIndex:Lt,plugins:yn,rotation:qn,scale:_i,onExecuteNamedAction:Kn,onJumpFromLinkAnnotation:ir,onJumpToDest:ar})}})},Pr=function(jn,Gn){var rr=jn%Gn;return rr===0?jn:Math.floor(jn-rr)},jr=function(jn){var Gn=jn.canvasLayerRef,rr=jn.height,zn=jn.page,Lt=jn.pageIndex,yn=jn.plugins,qn=jn.rotation,_i=jn.scale,Kn=jn.width,ir=jn.onRenderCanvasCompleted,ar=St.useRef();return Ft(function(){var gr=ar.current;gr&&gr.cancel();var mr=Gn.current;mr.removeAttribute("data-testid"),yn.forEach(function(Br){Br.onCanvasLayerRender&&Br.onCanvasLayerRender({ele:mr,pageIndex:Lt,rotation:qn,scale:_i,status:xt.LayerRenderStatus.PreRender})});var br=zn.getViewport({rotation:qn,scale:_i}),Ir=window.devicePixelRatio||1,Cr=Math.sqrt(16777216/(br.width*br.height)),kr=Ir>Cr;kr?mr.style.transform="scale(1, 1)":mr.style.removeProperty("transform");var ts=Math.min(Cr,Ir),Mr=function(Br,Nr){var Es,ks;if(Math.floor(Br)===Br)return[Br,1];var Fs=1/Br;if(Fs>Nr)return[1,Nr];if(Math.floor(Fs)===Fs)return[1,Fs];for(var Rs=Br>1?Fs:Br,Is=0,Us=1,Zs=1,eo=1;;){var Js=Is+Zs,ro=Us+eo;if(ro>Nr)break;Rs<=Js/ro?(Zs=(Es=[Js,ro])[0],eo=Es[1]):(Is=(ks=[Js,ro])[0],Us=ks[1])}return Rs<(Is/Us+Zs/eo)/2?Rs===Br?[Is,Us]:[Us,Is]:Rs===Br?[Zs,eo]:[eo,Zs]}(ts,8),Gr=Mr[0],Xr=Mr[1];mr.width=Pr(br.width*ts,Gr),mr.height=Pr(br.height*ts,Gr),mr.style.width="".concat(Pr(br.width,Xr),"px"),mr.style.height="".concat(Pr(br.height,Xr),"px"),mr.hidden=!0;var Hr=mr.getContext("2d",{alpha:!1}),Qr=kr||Ir!==1?[ts,0,0,ts,0,0]:null;return ar.current=zn.render({canvasContext:Hr,transform:Qr,viewport:br}),ar.current.promise.then(function(){mr.hidden=!1,mr.setAttribute("data-testid","core__canvas-layer-".concat(Lt)),yn.forEach(function(Br){Br.onCanvasLayerRender&&Br.onCanvasLayerRender({ele:mr,pageIndex:Lt,rotation:qn,scale:_i,status:xt.LayerRenderStatus.DidRender})}),ir()},function(){ir()}),function(){mr&&(mr.width=0,mr.height=0)}},[]),St.createElement("div",{className:"rpv-core__canvas-layer",style:{height:"".concat(rr,"px"),width:"".concat(Kn,"px")}},St.createElement("canvas",{ref:Gn}))},es=function(jn){var Gn=jn.height,rr=jn.page,zn=jn.rotation,Lt=jn.scale,yn=jn.width,qn=St.useRef();return Ft(function(){var _i=qn.current,Kn=rr.getViewport({rotation:zn,scale:Lt});rr.getOperatorList().then(function(ir){(function(){var ar=qn.current;ar&&(ar.innerHTML="")})(),new kt.SVGGraphics(rr.commonObjs,rr.objs).getSVG(ir,Kn).then(function(ar){ar.style.height="".concat(Gn,"px"),ar.style.width="".concat(yn,"px"),_i.appendChild(ar)})})},[]),St.createElement("div",{className:"rpv-core__svg-layer",ref:qn})},Or=function(jn){var Gn=jn.containerRef,rr=jn.page,zn=jn.pageIndex,Lt=jn.plugins,yn=jn.rotation,qn=jn.scale,_i=jn.onRenderTextCompleted,Kn=St.useRef(),ir=function(){var ar=Gn.current;ar&&([].slice.call(ar.querySelectorAll(".rpv-core__text-layer-text")).forEach(function(gr){return ar.removeChild(gr)}),[].slice.call(ar.querySelectorAll('br[role="presentation"]')).forEach(function(gr){return ar.removeChild(gr)}))};return Ft(function(){var ar=Kn.current;ar&&ar.cancel();var gr=Gn.current;if(gr){gr.removeAttribute("data-testid");var mr=rr.getViewport({rotation:yn,scale:qn});return Lt.forEach(function(br){br.onTextLayerRender&&br.onTextLayerRender({ele:gr,pageIndex:zn,scale:qn,status:xt.LayerRenderStatus.PreRender})}),rr.getTextContent().then(function(br){ir(),Kn.current=kt.renderTextLayer({container:gr,textContent:br,textContentSource:br,viewport:mr}),Kn.current.promise.then(function(){gr.setAttribute("data-testid","core__text-layer-".concat(zn)),[].slice.call(gr.children).forEach(function(Ir){Ir.classList.contains("rpv-core__text-layer-text--not")||Ir.classList.add("rpv-core__text-layer-text")}),Lt.forEach(function(Ir){Ir.onTextLayerRender&&Ir.onTextLayerRender({ele:gr,pageIndex:zn,scale:qn,status:xt.LayerRenderStatus.DidRender})}),_i()},function(){gr.removeAttribute("data-testid"),_i()})}),function(){var br;ir(),(br=Kn.current)===null||br===void 0||br.cancel()}}},[]),St.createElement("div",{className:"rpv-core__text-layer",ref:Gn})},Tr=function(jn){var Gn=jn.doc,rr=jn.measureRef,zn=jn.outlines,Lt=jn.pageIndex,yn=jn.pageRotation,qn=jn.pageSize,_i=jn.plugins,Kn=jn.renderPage,ir=jn.renderQueueKey,ar=jn.rotation,gr=jn.scale,mr=jn.shouldRender,br=jn.viewMode,Ir=jn.onExecuteNamedAction,Cr=jn.onJumpFromLinkAnnotation,kr=jn.onJumpToDest,ts=jn.onRenderCompleted,Mr=jn.onRotatePage,Gr=Vt(),Xr=St.useState(null),Hr=Xr[0],Qr=Xr[1],Br=St.useState(!1),Nr=Br[0],Es=Br[1],ks=St.useState(!1),Fs=ks[0],Rs=ks[1],Is=St.useRef(),Us=St.useRef(),Zs=Math.abs(ar+yn)%180==0,eo=qn.pageWidth*gr,Js=qn.pageHeight*gr,ro=Zs?eo:Js,no=Zs?Js:eo,Ao=(qn.rotation+ar+yn)%360,Xl=St.useRef(0),_l=Kn||function(ho){return St.createElement(St.Fragment,null,ho.canvasLayer.children,ho.textLayer.children,ho.annotationLayer.children)};return St.useEffect(function(){Qr(null),Es(!1),Rs(!1)},[yn,ar,gr]),St.useEffect(function(){mr&&Gr.current&&!Hr&&Ln(Gn,Lt).then(function(ho){Gr.current&&(Xl.current=ir,Qr(ho))})},[mr,Hr]),St.useEffect(function(){Nr&&Fs&&(ir!==Xl.current?(Qr(null),Es(!1),Rs(!1)):ts(Lt))},[Nr,Fs]),St.createElement("div",{className:bt({"rpv-core__page-layer":!0,"rpv-core__page-layer--dual":br===xt.ViewMode.DualPage,"rpv-core__page-layer--dual-cover":br===xt.ViewMode.DualPageWithCover,"rpv-core__page-layer--single":br===xt.ViewMode.SinglePage}),"data-testid":"core__page-layer-".concat(Lt),ref:rr,style:{height:"".concat(no,"px"),width:"".concat(ro,"px")}},Hr?St.createElement(St.Fragment,null,_l({annotationLayer:{attrs:{},children:St.createElement(Sr,{doc:Gn,outlines:zn,page:Hr,pageIndex:Lt,plugins:_i,rotation:Ao,scale:gr,onExecuteNamedAction:Ir,onJumpFromLinkAnnotation:Cr,onJumpToDest:kr})},canvasLayer:{attrs:{},children:St.createElement(jr,{canvasLayerRef:Is,height:no,page:Hr,pageIndex:Lt,plugins:_i,rotation:Ao,scale:gr,width:ro,onRenderCanvasCompleted:function(){Gr.current&&Es(!0)}})},canvasLayerRendered:Nr,doc:Gn,height:no,pageIndex:Lt,rotation:Ao,scale:gr,svgLayer:{attrs:{},children:St.createElement(es,{height:no,page:Hr,rotation:Ao,scale:gr,width:ro})},textLayer:{attrs:{},children:St.createElement(Or,{containerRef:Us,page:Hr,pageIndex:Lt,plugins:_i,rotation:Ao,scale:gr,onRenderTextCompleted:function(){Gr.current&&Rs(!0)}})},textLayerRendered:Fs,width:ro,markRendered:ts,onRotatePage:function(ho){return Mr(Lt,ho)}}),_i.map(function(ho,Bo){return ho.renderPageLayer?St.createElement(St.Fragment,{key:Bo},ho.renderPageLayer({canvasLayerRef:Is,canvasLayerRendered:Nr,doc:Gn,height:no,pageIndex:Lt,rotation:Ao,scale:gr,textLayerRef:Us,textLayerRendered:Fs,width:ro})):St.createElement(St.Fragment,{key:Bo})})):St.createElement(Dt,{testId:"core__page-layer-loading-".concat(Lt)}))},Vr=function(jn,Gn){var rr=Gn.rect;return jn.height!==rr.height||jn.width!==rr.width?rr:jn};(function(jn){jn.Horizontal="Horizontal",jn.Vertical="Vertical",jn.Both="Both"})(lr||(lr={}));var us=function(jn){return 1-Math.pow(1-jn,4)},bs=1e-4,Jr={left:0,top:0},ss={capture:!1,passive:!0},ms=function(jn){var Gn=jn.elementRef,rr=jn.enableSmoothScroll,zn=jn.isRtl,Lt=jn.scrollDirection,yn=jn.onSmoothScroll,qn=St.useState(Jr),_i=qn[0],Kn=qn[1],ir=St.useState(Gn.current),ar=ir[0],gr=ir[1],mr=zn?-1:1,br=St.useRef(Lt);br.current=Lt;var Ir=St.useRef(Jr),Cr=St.useRef(!0),kr=St.useCallback(function(){Cr.current=!0,rr&&Kn(Ir.current),yn(!1)},[]),ts=St.useCallback(function(){if(ar){switch(br.current){case lr.Horizontal:Ir.current={left:mr*ar.scrollLeft,top:0};break;case lr.Both:Ir.current={left:mr*ar.scrollLeft,top:ar.scrollTop};break;case lr.Vertical:default:Ir.current={left:0,top:ar.scrollTop}}rr&&!Cr.current||Kn(Ir.current)}},[ar]);Ft(function(){gr(Gn.current)}),Ft(function(){if(ar)return ar.addEventListener("scroll",ts,ss),function(){ar.removeEventListener("scroll",ts,ss)}},[ar]);var Mr=St.useCallback(function(Gr,Xr){var Hr=Gn.current;if(!Hr)return Promise.resolve();var Qr={left:0,top:0};switch(br.current){case lr.Horizontal:Qr.left=mr*Gr.left;break;case lr.Both:Qr.left=mr*Gr.left,Qr.top=Gr.top;break;case lr.Vertical:default:Qr.top=Gr.top}return Xr?(Cr.current=!1,yn(!0),new Promise(function(Br,Nr){(function(Es,ks,Fs,Rs,Is,Us){Is===void 0&&(Is=function(Bo){return Bo}),Us===void 0&&(Us=function(){});var Zs=0,eo=0,Js=!1;switch(ks){case lr.Horizontal:eo=Es.scrollLeft,Zs=0;case lr.Both:eo=Es.scrollLeft,Zs=Es.scrollTop;break;case lr.Vertical:default:eo=0,Zs=Es.scrollTop}var ro=function(){Js||(Js=!0,Es.scrollLeft=Fs.left,Es.scrollTop=Fs.top,Us())};if(Math.abs(Zs-Fs.top)<=bs&&ks===lr.Vertical)ro();else if(Math.abs(eo-Fs.left)<=bs&&ks===lr.Horizontal)ro();else{var no,Ao=-1,Xl=eo-Fs.left,_l=Zs-Fs.top,ho=function(Bo){Ao===-1&&(Ao=Bo);var u0=Bo-Ao,xs=Math.min(u0/Rs,1),ps=Is(xs),is={left:eo-Xl*ps,top:Zs-_l*ps};switch(ks){case lr.Horizontal:Es.scrollLeft=is.left;break;case lr.Both:Es.scrollLeft=is.left,Es.scrollTop=is.top;break;case lr.Vertical:default:Es.scrollTop=is.top}Math.abs(is.top-Fs.top)<=bs&&Math.abs(is.left-Fs.left)<=bs&&!Js&&(window.cancelAnimationFrame(no),ro()),u0<Rs?no=window.requestAnimationFrame(ho):window.cancelAnimationFrame(no)};no=window.requestAnimationFrame(ho)}})(Hr,br.current,Qr,400,us,function(){kr(),Br()})})):new Promise(function(Br,Nr){switch(br.current){case lr.Horizontal:Hr.scrollLeft=Qr.left;break;case lr.Both:Hr.scrollLeft=Qr.left,Hr.scrollTop=Qr.top;break;case lr.Vertical:default:Hr.scrollTop=Qr.top}Br()})},[Gn]);return{scrollOffset:_i,scrollTo:Mr}},Wr=function(jn,Gn,rr){return Math.max(jn,Math.min(rr,Gn))},hs=function(jn,Gn){if(Gn!==xt.ViewMode.DualPageWithCover)return 0;if(!function(Lt){var yn=Lt.length;if(yn===1)return!1;for(var qn=1;qn<yn;qn++)if(Lt[qn].height!==Lt[0].height||Lt[qn].width!==Lt[0].width)return!0;return!1}(jn))return 2*jn[0].width;var rr=Cn(jn.slice(1),2).map(function(Lt){return Lt.length===2?Lt[0].width+Lt[1].width:Lt[0].width}),zn=[jn[0].width].concat(rr);return Math.max.apply(Math,zn)},zr={left:0,top:0},gs={left:0,top:0},ws={left:0,top:0},io={left:0,top:0},ds={height:0,width:0},fs={left:0,top:0},$s="data-virtual-index",Ys=[0,.1,.2,.3,.4,.5,.6,.7,.8,.9,1],wo=function(jn){var Gn=jn.enableSmoothScroll,rr=jn.isRtl,zn=jn.numberOfItems,Lt=jn.parentRef,yn=jn.setRenderRange,qn=jn.sizes,_i=jn.scrollMode,Kn=jn.viewMode,ir=St.useState(!1),ar=ir[0],gr=ir[1],mr=St.useCallback(function(xs){return gr(xs)},[]),br=St.useRef(_i);br.current=_i;var Ir=St.useRef(Kn);Ir.current=Kn;var Cr=_i===xt.ScrollMode.Wrapped||Kn===xt.ViewMode.DualPageWithCover||Kn===xt.ViewMode.DualPage?lr.Both:_i===xt.ScrollMode.Horizontal?lr.Horizontal:lr.Vertical,kr=ms({elementRef:Lt,enableSmoothScroll:Gn,isRtl:rr,scrollDirection:Cr,onSmoothScroll:mr}),ts=kr.scrollOffset,Mr=kr.scrollTo,Gr=function(xs){var ps=xs.elementRef,is=St.useState(ps.current),as=is[0],rs=is[1],ys=St.useRef(!1),As=St.useReducer(Vr,{height:0,width:0}),os=As[0],Kr=As[1];return Ft(function(){ps.current!==as&&rs(ps.current)}),Ft(function(){if(as&&!ys.current){ys.current=!0;var Ts=as.getBoundingClientRect(),Ps=Ts.height,Qs=Ts.width;Kr({rect:{height:Ps,width:Qs}})}},[as]),St.useEffect(function(){if(as){var Ts=new ResizeObserver(function(Ps,Qs){Ps.forEach(function(Vs){if(Vs.target===as){var xo=Vs.contentRect,Xo=xo.height,_s=xo.width;Kr({rect:{height:Xo,width:_s}})}})});return Ts.observe(as),function(){Ts.unobserve(as)}}},[as]),os}({elementRef:Lt}),Xr=St.useRef({scrollOffset:fs,measurements:[]});Xr.current.scrollOffset=ts;var Hr=St.useMemo(function(){return Array(zn).fill(-1)},[]),Qr=St.useState(Hr),Br=Qr[0],Nr=Qr[1],Es=St.useMemo(function(){var xs=new IntersectionObserver(function(ps){ps.forEach(function(is){var as=is.isIntersecting?is.intersectionRatio:-1,rs=is.target.getAttribute($s);if(rs){var ys=parseInt(rs,10);0<=ys&&ys<zn&&Nr(function(As){return As[ys]=as,function(os,Kr,Ts){for(var Ps,Qs=0,Vs=Kr.length;Qs<Vs;Qs++)!Ps&&Qs in Kr||(Ps||(Ps=Array.prototype.slice.call(Kr,0,Qs)),Ps[Qs]=Kr[Qs]);return os.concat(Ps||Array.prototype.slice.call(Kr))}([],As)})}})},{threshold:Ys});return xs},[]),ks=St.useMemo(function(){return _i===xt.ScrollMode.Page&&Kn===xt.ViewMode.SinglePage?function(xs,ps,is){for(var as=[],rs=0;rs<xs;rs++){var ys={height:Math.max(ps.height,is[rs].height),width:Math.max(ps.width,is[rs].width)},As=rs===0?io:as[rs-1].end,os={left:As.left+ys.width,top:As.top+ys.height};as[rs]={index:rs,start:As,size:ys,end:os,visibility:-1}}return as}(zn,Gr,qn):Kn===xt.ViewMode.DualPageWithCover?function(xs,ps,is,as){for(var rs=[],ys=0,As=0,os=ws,Kr=0;Kr<xs;Kr++){var Ts=Kr===0?{height:as===xt.ScrollMode.Page?Math.max(ps.height,is[Kr].height):is[Kr].height,width:as===xt.ScrollMode.Page?Math.max(ps.width,is[Kr].width):is[Kr].width}:{height:as===xt.ScrollMode.Page?Math.max(ps.height,is[Kr].height):is[Kr].height,width:Math.max(ps.width/2,is[Kr].width)};as===xt.ScrollMode.Page?os=Kr===0?ws:{left:Kr%2==0?Ts.width:0,top:Math.floor((Kr-1)/2)*Ts.height+rs[0].end.top}:Kr===0?(os=ws,ys=is[0].height,As=0):Kr%2==1?(os={left:0,top:ys+=As},As=Kr===xs-1?is[Kr].height:Math.max(is[Kr].height,is[Kr+1].height)):os={left:rs[Kr-1].end.left,top:ys};var Ps={left:os.left+Ts.width,top:os.top+Ts.height};rs[Kr]={index:Kr,start:os,size:Ts,end:Ps,visibility:-1}}return rs}(zn,Gr,qn,_i):Kn===xt.ViewMode.DualPage?function(xs,ps,is,as){for(var rs=[],ys=0,As=0,os=gs,Kr=0;Kr<xs;Kr++){var Ts={height:as===xt.ScrollMode.Page?Math.max(ps.height,is[Kr].height):is[Kr].height,width:Math.max(ps.width/2,is[Kr].width)};as===xt.ScrollMode.Page?os={left:Kr%2==0?0:Ts.width,top:Math.floor(Kr/2)*Ts.height}:Kr%2==0?(os={left:0,top:ys+=As},As=Kr===xs-1?is[Kr].height:Math.max(is[Kr].height,is[Kr+1].height)):os={left:rs[Kr-1].end.left,top:ys};var Ps={left:os.left+Ts.width,top:os.top+Ts.height};rs[Kr]={index:Kr,start:os,size:Ts,end:Ps,visibility:-1}}return rs}(zn,Gr,qn,_i):function(xs,ps,is,as){for(var rs=[],ys=0,As={left:0,top:0},os=0,Kr=zr,Ts=0;Ts<xs;Ts++){var Ps=is[Ts];if(Ts===0)ys=Ps.width,As={left:0,top:0},os=Ps.height;else switch(as){case xt.ScrollMode.Wrapped:(ys+=Ps.width)<ps.width?(Kr={left:rs[Ts-1].end.left,top:As.top},os=Math.max(os,Ps.height)):(ys=Ps.width,As={left:(Kr={left:As.left,top:As.top+os}).left,top:Kr.top},os=Ps.height);break;case xt.ScrollMode.Horizontal:case xt.ScrollMode.Vertical:default:Kr=rs[Ts-1].end}var Qs={left:Kr.left+Ps.width,top:Kr.top+Ps.height};rs[Ts]={index:Ts,start:Kr,size:Ps,end:Qs,visibility:-1}}return rs}(zn,Gr,qn,_i)},[_i,qn,Kn,Gr]),Fs=ks[zn-1]?{height:ks[zn-1].end.top,width:ks[zn-1].end.left}:ds;Xr.current.measurements=ks;var Rs=St.useMemo(function(){var xs=function(Ts,Ps,Qs,Vs){var xo=0;switch(Ts){case lr.Horizontal:xo=Vs.left;break;case lr.Vertical:default:xo=Vs.top}var Xo=Ps.length-1,_s=function(Xs,X0,M1,Kx){for(;Xs<=X0;){var Cu=(Xs+X0)/2|0,Kp=Kx(Cu);if(Kp<M1)Xs=Cu+1;else{if(!(Kp>M1))return Cu;X0=Cu-1}}return Xs>0?Xs-1:0}(0,Xo,xo,function(Xs){switch(Ts){case lr.Horizontal:return Ps[Xs].start.left;case lr.Both:case lr.Vertical:default:return Ps[Xs].start.top}});if(Ts===lr.Both)for(var bo=Ps[_s].start.top;_s-1>=0&&Ps[_s-1].start.top===bo&&Ps[_s-1].start.left>=Vs.left;)_s--;for(var na=_s;na<=Xo;){var ba={top:Ps[na].start.top-Vs.top,left:Ps[na].start.left-Vs.left},lo={height:Qs.height-ba.top,width:Qs.width-ba.left};if(Ts===lr.Horizontal&&lo.width<0||Ts===lr.Vertical&&lo.height<0||Ts===lr.Both&&(lo.width<0||lo.height<0))break;na++}return{start:_s,end:na}}(Cr,ks,Gr,ts),ps=xs.start,is=xs.end,as=Br.slice(Wr(0,zn,ps),Wr(0,zn,is)),rs=ps+as.reduce(function(Ts,Ps,Qs,Vs){return Ps>Vs[Ts]?Qs:Ts},0),ys=rs=Wr(0,zn-1,rs),As=yn({endPage:is,numPages:zn,startPage:ps}),os=As.startPage,Kr=As.endPage;switch(os=Math.max(os,0),Kr=Math.min(Kr,zn-1),Kn){case xt.ViewMode.DualPageWithCover:rs>0&&(ys=rs%2==1?rs:rs-1),os=os===0?0:os%2==1?os:os-1,zn-(Kr=Kr%2==1?Kr-1:Kr)<=2&&(Kr=zn-1);break;case xt.ViewMode.DualPage:ys=rs%2==0?rs:rs-1,os=os%2==0?os:os-1,Kr=Kr%2==1?Kr:Kr-1;break;case xt.ViewMode.SinglePage:default:ys=rs}return{startPage:os,endPage:Kr,maxVisbilityIndex:ys}},[ks,Gr,ts,Kn,Br]),Is=Rs.startPage,Us=Rs.endPage,Zs=Rs.maxVisbilityIndex,eo=St.useMemo(function(){for(var xs=[],ps=function(as){var rs=ks[as],ys=_t(_t({},rs),{visibility:Br[as]!==void 0?Br[as]:-1,measureRef:function(As){As&&(As.setAttribute($s,"".concat(as)),Es.observe(As))}});xs.push(ys)},is=Is;is<=Us;is++)ps(is);return xs},[Is,Us,Br,ks]),Js=St.useCallback(function(xs,ps){var is=Xr.current.measurements[Wr(0,zn-1,xs)],as=br.current===xt.ScrollMode.Page?fs:ps;return is?Mr({left:as.left+is.start.left,top:as.top+is.start.top},Gn):Promise.resolve()},[Mr,Gn]),ro=St.useCallback(function(xs,ps){var is=Xr.current.measurements,as=is[xs].start,rs=is.find(function(As){return As.start.top-as.top>1e-12});if(!rs)return Promise.resolve();var ys=rs.index;switch(Ir.current){case xt.ViewMode.DualPage:ys=ys%2==0?ys:ys+1;break;case xt.ViewMode.DualPageWithCover:ys=ys%2==1?ys:ys+1}return Js(ys,ps)},[]),no=St.useCallback(function(xs,ps){for(var is=Xr.current.measurements,as=is[xs].start,rs=xs,ys=!1,As=zn-1;As>=0;As--)if(as.top-is[As].start.top>1e-12){ys=!0,rs=is[As].index;break}if(!ys)return Promise.resolve();switch(Ir.current){case xt.ViewMode.DualPage:rs=rs%2==0?rs:rs-1;break;case xt.ViewMode.DualPageWithCover:rs=rs%2==0?rs-1:rs}return rs===xs&&(rs=xs-1),Js(rs,ps)},[]),Ao=St.useCallback(function(xs,ps){if(Ir.current===xt.ViewMode.DualPageWithCover||Ir.current===xt.ViewMode.DualPage)return ro(xs,ps);switch(br.current){case xt.ScrollMode.Wrapped:return ro(xs,ps);case xt.ScrollMode.Horizontal:case xt.ScrollMode.Vertical:default:return Js(xs+1,ps)}},[]),Xl=St.useCallback(function(xs,ps){if(Ir.current===xt.ViewMode.DualPageWithCover||Ir.current===xt.ViewMode.DualPage)return no(xs,ps);switch(br.current){case xt.ScrollMode.Wrapped:return no(xs,ps);case xt.ScrollMode.Horizontal:case xt.ScrollMode.Vertical:default:return Js(xs-1,ps)}},[]),_l=St.useCallback(function(){return function(xs,ps){switch(ps){case xt.ScrollMode.Horizontal:return{position:"relative",height:"100%",width:"".concat(xs.width,"px")};case xt.ScrollMode.Vertical:default:return{position:"relative",height:"".concat(xs.height,"px"),width:"100%"}}}(Fs,br.current)},[Fs]),ho=St.useCallback(function(xs){return function(ps,is,as){return as!==xt.ScrollMode.Page?{}:{height:"".concat(is.height,"px"),width:"100%",position:"absolute",top:0,transform:"translateY(".concat(ps.start.top,"px)")}}(xs,Gr,br.current)},[Gr]),Bo=St.useCallback(function(xs){return function(ps,is,as,rs,ys){var As,os,Kr,Ts,Ps,Qs,Vs,xo=is?"right":"left",Xo=is?-1:1,_s=as.length,bo=ps.start.left*Xo,na=ps.size,ba=na.height,lo=na.width;if(rs===xt.ViewMode.DualPageWithCover){var Xs=ys===xt.ScrollMode.Page?0:ps.start.top;return ps.index===0||_s%2==0&&ps.index===_s-1?((As={height:"".concat(ba,"px"),minWidth:"".concat(hs(as,rs),"px"),width:"100%"})[xo]=0,As.position="absolute",As.top=0,As.transform="translate(".concat(bo,"px, ").concat(Xs,"px)"),As):((os={height:"".concat(ba,"px"),width:"".concat(lo,"px")})[xo]=0,os.position="absolute",os.top=0,os.transform="translate(".concat(bo,"px, ").concat(Xs,"px)"),os)}if(rs===xt.ViewMode.DualPage)return(Kr={height:"".concat(ba,"px"),width:"".concat(lo,"px")})[xo]=0,Kr.position="absolute",Kr.top=0,Kr.transform="translate(".concat(bo,"px, ").concat(ys===xt.ScrollMode.Page?0:ps.start.top,"px)"),Kr;switch(ys){case xt.ScrollMode.Horizontal:return(Ts={height:"100%",width:"".concat(lo,"px")})[xo]=0,Ts.position="absolute",Ts.top=0,Ts.transform="translateX(".concat(bo,"px)"),Ts;case xt.ScrollMode.Page:return(Ps={height:"".concat(ba,"px"),width:"".concat(lo,"px")})[xo]=0,Ps.position="absolute",Ps.top=0,Ps;case xt.ScrollMode.Wrapped:return(Qs={height:"".concat(ba,"px"),width:"".concat(lo,"px")})[xo]=0,Qs.position="absolute",Qs.top=0,Qs.transform="translate(".concat(bo,"px, ").concat(ps.start.top,"px)"),Qs;case xt.ScrollMode.Vertical:default:return(Vs={height:"".concat(ba,"px"),width:"100%"})[xo]=0,Vs.position="absolute",Vs.top=0,Vs.transform="translateY(".concat(ps.start.top,"px)"),Vs}}(xs,rr,qn,Ir.current,br.current)},[rr,qn]),u0=St.useCallback(function(xs,ps){var is=Xr.current,as=is.measurements,rs=is.scrollOffset,ys=as[Wr(0,zn-1,ps)];if(ys){var As=br.current===xt.ScrollMode.Page?{left:ys.start.left,top:ys.start.top}:{left:rs.left*xs,top:rs.top*xs};return Mr(As,!1)}return Promise.resolve()},[]);return St.useEffect(function(){return function(){Es.disconnect()}},[]),{boundingClientRect:Gr,isSmoothScrolling:ar,startPage:Is,endPage:Us,maxVisbilityIndex:Zs,virtualItems:eo,getContainerStyles:_l,getItemContainerStyles:ho,getItemStyles:Bo,scrollToItem:Js,scrollToNextItem:Ao,scrollToPreviousItem:Xl,zoom:u0}},Tl=function(jn,Gn,rr,zn,Lt,yn){var qn=rr;switch(!0){case(Lt===xt.ViewMode.DualPageWithCover&&yn>=3):case(Lt===xt.ViewMode.DualPage&&yn>=3):qn=2*rr;break;default:qn=rr}switch(zn){case xt.SpecialZoomLevel.ActualSize:return 1;case xt.SpecialZoomLevel.PageFit:return Math.min((jn.clientWidth-17)/qn,(jn.clientHeight-16)/Gn);case xt.SpecialZoomLevel.PageWidth:return(jn.clientWidth-17)/qn}},zp=function(jn){var Gn,rr,zn=jn.getCurrentPage,Lt=(Gn=50,rr=St.useRef([]),St.useEffect(function(){return function(){rr.current=[]}},[]),{push:function(ir){var ar=rr.current;ar.length+1>Gn&&ar.shift(),ar.push(ir),rr.current=ar},map:function(ir){return rr.current.map(function(ar){return ir(ar)})},pop:function(){var ir=rr.current;if(ir.length===0)return null;var ar=ir.pop();return rr.current=ir,ar}}),yn=function(ir){var ar=St.useRef([]);return St.useEffect(function(){return function(){ar.current=[]}},[]),{dequeue:function(){var gr=ar.current;if(gr.length===0)return null;var mr=gr.shift();return ar.current=gr,mr||null},enqueue:function(gr){var mr=ar.current;mr.length+1>ir&&mr.pop(),ar.current=[gr].concat(mr)},map:function(gr){return ar.current.map(function(mr){return gr(mr)})}}}(50),qn=function(){var ir=yn.dequeue();return ir&&Lt.push(ir),ir&&ir.pageIndex===zn()?qn():ir},_i=function(){var ir=Lt.pop();return ir&&yn.enqueue(ir),ir&&ir.pageIndex===zn()?_i():ir},Kn=St.useCallback(function(ir){Lt.push(ir)},[]);return{getNextDestination:qn,getPreviousDestination:_i,markVisitedDestination:Kn}},T1=function(jn){var Gn=[];return jn.map(function(rr){Gn=Gn.concat(rr).concat(function(zn){var Lt=[];return zn.items&&zn.items.length>0&&(Lt=Lt.concat(T1(zn.items))),Lt}(rr))}),Gn},_1={capture:!1,passive:!0},Xp={height:0,width:0},vu={height:0,width:0},R1=function(jn){var Gn=jn.getCurrentPage,rr=jn.getCurrentScrollMode,zn=jn.jumpToPage,Lt=jn.targetRef,yn=St.useState(xt.FullScreenMode.Normal),qn=yn[0],_i=yn[1],Kn=function(){var Br=St.useState(Xp),Nr=Br[0],Es=Br[1],ks=bn(function(){Es({height:window.innerHeight,width:window.innerWidth})},100);return Ft(function(){return window.addEventListener("resize",ks,_1),function(){window.removeEventListener("resize",ks,_1)}},[]),Nr}(),ir=St.useState(vu),ar=ir[0],gr=ir[1],mr=St.useRef(vu),br=St.useRef(Gn()),Ir=St.useRef(vu),Cr=St.useState(Lt.current),kr=Cr[0],ts=Cr[1],Mr=St.useRef();Ft(function(){Lt.current!==kr&&ts(Lt.current)},[]),Ft(function(){if(kr){var Br=new ResizeObserver(function(Nr){Nr.forEach(function(Es){var ks=Es.target.getBoundingClientRect(),Fs=ks.height,Rs=ks.width;gr({height:Fs,width:Rs})})});return Br.observe(kr),function(){Br.unobserve(kr),Br.disconnect()}}},[kr]);var Gr=St.useCallback(function(Br){var Nr=nn();return Nr&&Nr!==Br?(_i(xt.FullScreenMode.Normal),gn(Nr)):Promise.resolve()},[]),Xr=St.useCallback(function(Br){Br&&Qt()&&(ts(Br),Gr(Br).then(function(){Mr.current=Br,_i(xt.FullScreenMode.Entering),function(Nr){en&&Nr[dn.RequestFullScreen]()}(Br)}))},[]),Hr=St.useCallback(function(){nn()&&(_i(xt.FullScreenMode.Exitting),gn(document))},[]),Qr=St.useCallback(function(){kr&&nn()!==kr&&_i(xt.FullScreenMode.Exitting)},[kr]);return St.useEffect(function(){switch(qn){case xt.FullScreenMode.Entering:Mr.current&&(Mr.current.style.backgroundColor="var(--rpv-core__full-screen-target-background-color)"),br.current=Gn(),mr.current={height:window.innerHeight,width:window.innerWidth};break;case xt.FullScreenMode.Entered:rr()===xt.ScrollMode.Page?zn(br.current).then(function(){_i(xt.FullScreenMode.EnteredCompletely)}):_i(xt.FullScreenMode.EnteredCompletely);break;case xt.FullScreenMode.Exitting:Mr.current&&(Mr.current.style.backgroundColor="",Mr.current=null),br.current=Gn();break;case xt.FullScreenMode.Exited:_i(xt.FullScreenMode.Normal),rr()===xt.ScrollMode.Page&&zn(br.current)}},[qn]),St.useEffect(function(){if(qn!==xt.FullScreenMode.Normal)return qn===xt.FullScreenMode.Entering&&Kn.height===ar.height&&Kn.width===ar.width&&Kn.height>0&&Kn.width>0&&(Ir.current.height===0||Kn.height==Ir.current.height)?(Ir.current={height:window.innerHeight,width:window.innerWidth},void _i(xt.FullScreenMode.Entered)):void(qn===xt.FullScreenMode.Exitting&&mr.current.height===Kn.height&&mr.current.width===Kn.width&&Kn.height>0&&Kn.width>0&&_i(xt.FullScreenMode.Exited))},[qn,Kn,ar]),St.useEffect(function(){var Br;return Br=Qr,en&&document.addEventListener(dn.FullScreenChange,Br),function(){(function(Nr){en&&document.removeEventListener(dn.FullScreenChange,Nr)})(Qr)}},[kr]),{enterFullScreenMode:Xr,exitFullScreenMode:Hr,fullScreenMode:qn}},wu={buildPageStyles:function(){return{}},transformSize:function(jn){return jn.size}},zl={left:0,top:0},Wp=function(jn){var Gn=jn.currentFile,rr=jn.defaultScale,zn=jn.doc,Lt=jn.enableSmoothScroll,yn=jn.initialPage,qn=jn.initialRotation,_i=jn.initialScale,Kn=jn.pageLayout,ir=jn.pageSizes,ar=jn.plugins,gr=jn.renderPage,mr=jn.scrollMode,br=jn.setRenderRange,Ir=jn.viewMode,Cr=jn.viewerState,kr=jn.onDocumentLoad,ts=jn.onOpenFile,Mr=jn.onPageChange,Gr=jn.onRotate,Xr=jn.onRotatePage,Hr=jn.onZoom,Qr=zn.numPages,Br=zn.loadingTask.docId,Nr=St.useContext(an).l10n,Es=St.useContext(_e),ks=Es.direction===xt.TextDirection.RightToLeft,Fs=St.useRef(),Rs=St.useRef(),Is=St.useState(yn),Us=Is[0],Zs=Is[1],eo=St.useRef(null),Js=zp({getCurrentPage:function(){return _s.current.pageIndex}}),ro=St.useState(qn),no=ro[0],Ao=ro[1],Xl=Yt(no),_l=St.useState(!1),ho=_l[0],Bo=_l[1],u0=St.useState(new Map),xs=u0[0],ps=u0[1],is=St.useState(mr),as=is[0],rs=is[1],ys=Yt(as),As=St.useState(Ir),os=As[0],Kr=As[1],Ts=Yt(os),Ps=function(Dr){var Cs=Vt(),Ms=St.useState([]),Hs=Ms[0],Bs=Ms[1];return St.useEffect(function(){Dr.getOutline().then(function(Os){if(Cs.current&&Os!==null){var co=T1(Os);Bs(co)}})},[]),Hs}(zn),Qs=St.useState(_i),Vs=Qs[0],xo=Qs[1],Xo=Yt(Vs),_s=St.useRef(Cr),bo=St.useRef(typeof rr=="string"?rr:null),na=St.useRef(-1),ba=St.useRef(-1),lo=St.useRef(yn),Xs=R1({getCurrentPage:function(){return _s.current.pageIndex},getCurrentScrollMode:function(){return _s.current.scrollMode},jumpToPage:function(Dr){return V0(Dr)},targetRef:Rs}),X0=St.useState(-1),M1=X0[0],Kx=X0[1],Cu=St.useState(0),Kp=Cu[0],C5=Cu[1],Wo=Ot({doc:zn});St.useEffect(function(){return function(){_n.clear(),In.clear()}},[Br]);var iy=St.useMemo(function(){return Object.assign({},wu,Kn)},[]),k5=St.useMemo(function(){return Array(Qr).fill(0).map(function(Dr,Cs){var Ms=[ir[Cs].pageHeight,ir[Cs].pageWidth],Hs=Math.abs(no)%180==0?{height:Ms[0],width:Ms[1]}:{height:Ms[1],width:Ms[0]},Bs={height:Hs.height*Vs,width:Hs.width*Vs};return iy.transformSize({numPages:Qr,pageIndex:Cs,size:Bs})})},[no,Vs]),qs=wo({enableSmoothScroll:Lt,isRtl:ks,numberOfItems:Qr,parentRef:Rs,scrollMode:as,setRenderRange:br,sizes:k5,viewMode:os}),T5=bn(function(){!bo.current||_s.current.fullScreenMode!==xt.FullScreenMode.Normal||yn>0&&lo.current===yn||ku(bo.current)},200);(function(Dr){var Cs=Dr.targetRef,Ms=Dr.onResize;Ft(function(){var Hs=new ResizeObserver(function(Os){Os.forEach(function(co){Ms(co.target)})}),Bs=Cs.current;if(Bs)return Hs.observe(Bs),function(){Hs.unobserve(Bs)}},[])})({targetRef:Rs,onResize:T5});var W0=function(Dr){var Cs=Dr;ar.forEach(function(Ms){Ms.onViewerStateChange&&(Cs=Ms.onViewerStateChange(Cs))}),_s.current=Cs},_5=function(){return Rs.current},R5=function(){return _s.current},F5=St.useCallback(function(Dr){Js.markVisitedDestination(Dr)},[]),a9=St.useCallback(function(Dr){var Cs=Dr.pageIndex,Ms=Dr.bottomOffset,Hs=Dr.leftOffset,Bs=Dr.scaleTo,Os=Rs.current,co=_s.current;return Os&&co?new Promise(function(G0,d9){Ln(zn,Cs).then(function(Yx){var q0=Yx.getViewport({scale:1}),Zx=0,hy=(typeof Ms=="function"?Ms(q0.width,q0.height):Ms)||0,Jx=(typeof Hs=="function"?Hs(q0.width,q0.height):Hs)||0,O1=co.scale;switch(Bs){case xt.SpecialZoomLevel.PageFit:Zx=0,Jx=0,ku(xt.SpecialZoomLevel.PageFit);break;case xt.SpecialZoomLevel.PageWidth:O1=Tl(Os,ir[Cs].pageHeight,ir[Cs].pageWidth,xt.SpecialZoomLevel.PageWidth,Ir,Qr),Zx=(q0.height-hy)*O1,Jx*=O1,ku(O1);break;default:Zx=(q0.height-hy)*O1,Jx*=O1}switch(co.scrollMode){case xt.ScrollMode.Horizontal:qs.scrollToItem(Cs,{left:Jx,top:0}).then(function(){G0()});break;case xt.ScrollMode.Vertical:default:qs.scrollToItem(Cs,{left:0,top:Zx}).then(function(){G0()})}})}):Promise.resolve()},[]),ry=St.useCallback(function(Dr){return Js.markVisitedDestination(Dr),a9(Dr)},[]),P5=St.useCallback(function(){var Dr=Js.getNextDestination();return Dr?a9(Dr):Promise.resolve()},[]),I5=St.useCallback(function(){var Dr=Js.getPreviousDestination();return Dr?a9(Dr):Promise.resolve()},[]),M5=St.useCallback(function(){return qs.scrollToNextItem(_s.current.pageIndex,zl)},[]),V0=St.useCallback(function(Dr){return 0<=Dr&&Dr<Qr?qs.scrollToItem(Dr,zl):Promise.resolve()},[]),O5=St.useCallback(function(){return qs.scrollToPreviousItem(_s.current.pageIndex,zl)},[]),sy=St.useCallback(function(Dr){var Cs,Ms;(Cs=Dr.name,Ms=Cs.split(/\./).pop(),Ms?Ms.toLowerCase():"").toLowerCase()==="pdf"&&new Promise(function(Hs){var Bs=new FileReader;Bs.readAsArrayBuffer(Dr),Bs.onload=function(){var Os=new Uint8Array(Bs.result);Hs(Os)}}).then(function(Hs){ts(Dr.name,Hs)})},[ts]),ay=St.useCallback(function(Dr){var Cs=Dr===xt.RotateDirection.Backward?-90:90,Ms=_s.current.rotation,Hs=Ms===360||Ms===-360?Cs:Ms+Cs;Wo.markNotRendered(),Ao(Hs),W0(_t(_t({},_s.current),{rotation:Hs})),Gr({direction:Dr,doc:zn,rotation:Hs})},[]),o9=St.useCallback(function(Dr,Cs){var Ms=Cs===xt.RotateDirection.Backward?-90:90,Hs=_s.current.pagesRotation,Bs=(Hs.has(Dr)?Hs.get(Dr):qn)+Ms,Os=Hs.set(Dr,Bs);ps(Os),Bo(function(co){return!co}),W0(_t(_t({},_s.current),{pagesRotation:Os,rotatedPage:Dr})),Xr({direction:Cs,doc:zn,pageIndex:Dr,rotation:Bs}),Wo.markRendering(Dr),Kx(Dr)},[]),oy=St.useCallback(function(Dr){W0(_t(_t({},_s.current),{scrollMode:Dr})),rs(Dr)},[]),ly=St.useCallback(function(Dr){W0(_t(_t({},_s.current),{viewMode:Dr})),Kr(Dr)},[]),ku=St.useCallback(function(Dr){var Cs=Rs.current,Ms=_s.current.pageIndex;if(!(Ms<0||Ms>=Qr)){var Hs=ir[Ms].pageHeight,Bs=ir[Ms].pageWidth,Os=Cs?typeof Dr=="string"?Tl(Cs,Hs,Bs,Dr,_s.current.viewMode,Qr):Dr:1;bo.current=typeof Dr=="string"?Dr:null,Os!==_s.current.scale&&(C5(function(co){return co+1}),Wo.markNotRendered(),xo(Os),Hr({doc:zn,scale:Os}),W0(_t(_t({},_s.current),{scale:Os})))}},[]),D5=St.useCallback(function(Dr){Xs.enterFullScreenMode(Dr)},[]),L5=St.useCallback(function(){Xs.exitFullScreenMode()},[]);St.useEffect(function(){W0(_t(_t({},_s.current),{fullScreenMode:Xs.fullScreenMode}))},[Xs.fullScreenMode]),St.useEffect(function(){var Dr={enterFullScreenMode:D5,exitFullScreenMode:L5,getPagesContainer:_5,getViewerState:R5,jumpToDestination:ry,jumpToNextDestination:P5,jumpToPreviousDestination:I5,jumpToNextPage:M5,jumpToPreviousPage:O5,jumpToPage:V0,openFile:sy,rotate:ay,rotatePage:o9,setViewerState:W0,switchScrollMode:oy,switchViewMode:ly,zoom:ku};return ar.forEach(function(Cs){Cs.install&&Cs.install(Dr)}),function(){ar.forEach(function(Cs){Cs.uninstall&&Cs.uninstall(Dr)})}},[Br]),St.useEffect(function(){kr({doc:zn,file:Gn}),ar.forEach(function(Dr){Dr.onDocumentLoad&&Dr.onDocumentLoad({doc:zn,file:Gn})})},[Br]);var l9,c9,u9,cy=qs.boundingClientRect;l9=function(){yn&&V0(yn)},c9=cy.height>0&&cy.width>0,u9=St.useRef(!1),Ft(function(){c9&&!u9.current&&(u9.current=!0,l9())},[l9,c9]),Ft(function(){var Dr=_s.current.pageIndex;Dr>-1&&ys!==as&&qs.scrollToItem(Dr,zl).then(function(){Xs.fullScreenMode===xt.FullScreenMode.EnteredCompletely&&(Lt||Wo.markNotRendered(),na.current=-1)})},[as]),Ft(function(){var Dr=_s.current.pageIndex;Dr>-1&&Xl!==no&&qs.scrollToItem(Dr,zl)},[no]),Ft(function(){Xo!=0&&Xo!=_s.current.scale&&qs.zoom(_s.current.scale/Xo,_s.current.pageIndex).then(function(){Xs.fullScreenMode===xt.FullScreenMode.EnteredCompletely&&(ba.current=-1)})},[Vs]),Ft(function(){if(Ts!==_s.current.viewMode){var Dr=qs.startPage,Cs=qs.endPage,Ms=qs.virtualItems;Wo.markNotRendered(),Wo.setRange(Dr,Cs);for(var Hs=function(Os){var co=Ms.find(function(G0){return G0.index===Os});co&&Wo.setVisibility(Os,co.visibility)},Bs=Dr;Bs<=Cs;Bs++)Hs(Bs);h9()}},[os]),Ft(function(){var Dr=_s.current.pageIndex;Dr>-1&&Ts!==os&&qs.scrollToItem(Dr,zl)},[os]),Ft(function(){var Dr=_s.current.pageIndex;Dr>0&&Dr===yn&&lo.current===yn&&bo.current&&(lo.current=-1,ku(bo.current))},[Us]),St.useEffect(function(){qs.isSmoothScrolling||eo.current!==null&&eo.current===Us||(eo.current=Us,Mr({currentPage:Us,doc:zn}))},[Us,qs.isSmoothScrolling]),St.useEffect(function(){Xs.fullScreenMode===xt.FullScreenMode.Entering&&_s.current.scrollMode===xt.ScrollMode.Page&&(na.current=_s.current.pageIndex),Xs.fullScreenMode===xt.FullScreenMode.EnteredCompletely&&_s.current.scrollMode===xt.ScrollMode.Page&&Lt&&(na.current=-1),Xs.fullScreenMode===xt.FullScreenMode.EnteredCompletely&&bo.current&&(ba.current=_s.current.pageIndex,ku(bo.current))},[Xs.fullScreenMode]),St.useEffect(function(){if(Xs.fullScreenMode!==xt.FullScreenMode.Entering&&Xs.fullScreenMode!==xt.FullScreenMode.Exitting&&!qs.isSmoothScrolling){var Dr=qs.startPage,Cs=qs.endPage,Ms=qs.maxVisbilityIndex,Hs=qs.virtualItems,Bs=Ms,Os=Xs.fullScreenMode===xt.FullScreenMode.Entered||Xs.fullScreenMode===xt.FullScreenMode.EnteredCompletely;if(!(Os&&Bs!==na.current&&na.current>-1||Os&&Bs!==ba.current&&ba.current>-1)){Zs(Bs),W0(_t(_t({},_s.current),{pageIndex:Bs})),Wo.setRange(Dr,Cs);for(var co=function(d9){var Yx=Hs.find(function(q0){return q0.index===d9});Yx&&Wo.setVisibility(d9,Yx.visibility)},G0=Dr;G0<=Cs;G0++)co(G0);h9()}}},[qs.startPage,qs.endPage,qs.isSmoothScrolling,qs.maxVisbilityIndex,Xs.fullScreenMode,ho,no,Vs]);var N5=St.useCallback(function(Dr){Wo.markRendered(Dr),h9()},[Kp]),h9=function(){var Dr=Wo.getHighestPriorityPage();Dr>-1&&Wo.isInRange(Dr)&&(Wo.markRendering(Dr),Kx(Dr))},$5=function(Dr){var Cs=Us-1,Ms=Us+1;switch(Dr){case"FirstPage":V0(0);break;case"LastPage":V0(Qr-1);break;case"NextPage":Ms<Qr&&V0(Ms);break;case"PrevPage":Cs>=0&&V0(Cs)}},j5=St.useCallback(function(){var Dr=qs.virtualItems,Cs=[];switch(os){case xt.ViewMode.DualPage:Cs=Cn(Dr,2);break;case xt.ViewMode.DualPageWithCover:Dr.length&&(Cs=Dr[0].index===0?[[Dr[0]]].concat(Cn(Dr.slice(1),2)):Cn(Dr,2));break;case xt.ViewMode.SinglePage:default:Cs=Cn(Dr,1)}var Ms=Nr&&Nr.core?Nr.core.pageLabel:"Page {{pageIndex}}",Hs={attrs:{className:"rpv-core__inner-container","data-testid":"core__inner-container",ref:Fs,style:{height:"100%"}},children:St.createElement(St.Fragment,null),subSlot:{attrs:{"data-testid":"core__inner-pages",className:bt({"rpv-core__inner-pages":!0,"rpv-core__inner-pages--horizontal":as===xt.ScrollMode.Horizontal,"rpv-core__inner-pages--rtl":ks,"rpv-core__inner-pages--single":as===xt.ScrollMode.Page,"rpv-core__inner-pages--vertical":as===xt.ScrollMode.Vertical,"rpv-core__inner-pages--wrapped":as===xt.ScrollMode.Wrapped}),ref:Rs,style:{height:"100%",position:"relative"}},children:St.createElement("div",{"data-testid":"core__inner-current-page-".concat(Us),style:Object.assign({"--scale-factor":Vs},qs.getContainerStyles())},Cs.map(function(Bs){return St.createElement("div",{className:bt({"rpv-core__inner-page-container":!0,"rpv-core__inner-page-container--single":as===xt.ScrollMode.Page}),style:qs.getItemContainerStyles(Bs[0]),key:"".concat(Bs[0].index,"-").concat(os)},Bs.map(function(Os){var co=os===xt.ViewMode.DualPageWithCover&&(Os.index===0||Qr%2==0&&Os.index===Qr-1);return St.createElement("div",{"aria-label":Ms.replace("{{pageIndex}}","".concat(Os.index+1)),className:bt({"rpv-core__inner-page":!0,"rpv-core__inner-page--dual-even":os===xt.ViewMode.DualPage&&Os.index%2==0,"rpv-core__inner-page--dual-odd":os===xt.ViewMode.DualPage&&Os.index%2==1,"rpv-core__inner-page--dual-cover":co,"rpv-core__inner-page--dual-cover-even":os===xt.ViewMode.DualPageWithCover&&!co&&Os.index%2==0,"rpv-core__inner-page--dual-cover-odd":os===xt.ViewMode.DualPageWithCover&&!co&&Os.index%2==1,"rpv-core__inner-page--single":os===xt.ViewMode.SinglePage&&as===xt.ScrollMode.Page}),role:"region",key:"".concat(Os.index,"-").concat(os),style:Object.assign({},qs.getItemStyles(Os),iy.buildPageStyles({numPages:Qr,pageIndex:Os.index,scrollMode:as,viewMode:os}))},St.createElement(Tr,{doc:zn,measureRef:Os.measureRef,outlines:Ps,pageIndex:Os.index,pageRotation:xs.has(Os.index)?xs.get(Os.index):0,pageSize:ir[Os.index],plugins:ar,renderPage:gr,renderQueueKey:Kp,rotation:no,scale:Vs,shouldRender:M1===Os.index,viewMode:os,onExecuteNamedAction:$5,onJumpFromLinkAnnotation:F5,onJumpToDest:ry,onRenderCompleted:N5,onRotatePage:o9}))}))}))}};return ar.forEach(function(Bs){Bs.renderViewer&&(Hs=Bs.renderViewer({containerRef:Fs,doc:zn,pagesContainerRef:Rs,pagesRotation:xs,pageSizes:ir,rotation:no,slot:Hs,themeContext:Es,jumpToPage:V0,openFile:sy,rotate:ay,rotatePage:o9,switchScrollMode:oy,switchViewMode:ly,zoom:ku}))}),Hs},[ar,qs]),uy=St.useCallback(function(Dr){return St.createElement("div",_t({},Dr.attrs,{style:Dr.attrs&&Dr.attrs.style?Dr.attrs.style:{}}),Dr.children,Dr.subSlot&&uy(Dr.subSlot))},[]);return uy(j5())},F1=[.1,.2,.3,.4,.5,.6,.7,.8,.9,1,1.1,1.3,1.5,1.7,1.9,2.1,2.4,2.7,3,3.3,3.7,4.1,4.6,5.1,5.7,6.3,7,7.7,8.5,9.4,10],Au=function(jn){var Gn=jn.defaultScale,rr=jn.doc,zn=jn.render,Lt=jn.scrollMode,yn=jn.viewMode,qn=St.useRef(),_i=St.useState({pageSizes:[],scale:0}),Kn=_i[0],ir=_i[1];return St.useLayoutEffect(function(){var ar=Array(rr.numPages).fill(0).map(function(gr,mr){return new Promise(function(br,Ir){Ln(rr,mr).then(function(Cr){var kr=Cr.getViewport({scale:1});br({pageHeight:kr.height,pageWidth:kr.width,rotation:kr.rotation})})})});Promise.all(ar).then(function(gr){var mr=qn.current;if(mr&&gr.length!==0){var br=gr[0].pageWidth,Ir=gr[0].pageHeight,Cr=mr.parentElement,kr=(Cr.clientWidth-45)/br,ts=(Cr.clientHeight-45)/Ir,Mr=kr;switch(Lt){case xt.ScrollMode.Horizontal:Mr=Math.min(kr,ts);break;case xt.ScrollMode.Vertical:default:Mr=kr}var Gr,Xr,Hr=Gn?typeof Gn=="string"?Tl(Cr,Ir,br,Gn,yn,rr.numPages):Gn:(Gr=Mr,(Xr=F1.findIndex(function(Qr){return Qr>=Gr}))===-1||Xr===0?Gr:F1[Xr-1]);ir({pageSizes:gr,scale:Hr})}})},[rr.loadingTask.docId]),Kn.pageSizes.length===0||Kn.scale===0?St.createElement("div",{className:"rpv-core__page-size-calculator","data-testid":"core__page-size-calculating",ref:qn},St.createElement(Dt,null)):zn(Kn.pageSizes,Kn.scale)},c0=function(){},z0=function(jn){function Gn(rr,zn){var Lt=jn.call(this)||this;return Lt.verifyPassword=rr,Lt.passwordStatus=zn,Lt}return Rt(Gn,jn),Gn}(c0),Vp=function(jn){var Gn=jn.passwordStatus,rr=jn.renderProtectedView,zn=jn.verifyPassword,Lt=jn.onDocumentAskPassword,yn=St.useContext(an).l10n,qn=St.useState(""),_i=qn[0],Kn=qn[1],ir=St.useContext(_e).direction===xt.TextDirection.RightToLeft,ar=function(){return zn(_i)};return St.useEffect(function(){Lt&&Lt({verifyPassword:zn})},[]),rr?rr({passwordStatus:Gn,verifyPassword:zn}):St.createElement("div",{className:"rpv-core__asking-password-wrapper"},St.createElement("div",{className:bt({"rpv-core__asking-password":!0,"rpv-core__asking-password--rtl":ir})},St.createElement("div",{className:"rpv-core__asking-password-message"},Gn===xt.PasswordStatus.RequiredPassword&&yn.core.askingPassword.requirePasswordToOpen,Gn===xt.PasswordStatus.WrongPassword&&yn.core.wrongPassword.tryAgain),St.createElement("div",{className:"rpv-core__asking-password-body"},St.createElement("div",{className:bt({"rpv-core__asking-password-input":!0,"rpv-core__asking-password-input--ltr":!ir,"rpv-core__asking-password-input--rtl":ir})},St.createElement(jt,{testId:"core__asking-password-input",type:"password",value:_i,onChange:Kn,onKeyDown:function(gr){gr.key==="Enter"&&ar()}})),St.createElement($t,{onClick:ar},yn.core.askingPassword.submit))))},P1=function(jn){function Gn(rr){var zn=jn.call(this)||this;return zn.doc=rr,zn}return Rt(Gn,jn),Gn}(c0),I1=function(jn){function Gn(rr){var zn=jn.call(this)||this;return zn.error=rr,zn}return Rt(Gn,jn),Gn}(c0),Su=function(jn){function Gn(rr){var zn=jn.call(this)||this;return zn.percentages=rr,zn}return Rt(Gn,jn),Gn}(c0),Gp=function(jn){var Gn=jn.characterMap,rr=jn.file,zn=jn.httpHeaders,Lt=jn.render,yn=jn.renderError,qn=jn.renderLoader,_i=jn.renderProtectedView,Kn=jn.transformGetDocumentParams,ir=jn.withCredentials,ar=jn.onDocumentAskPassword,gr=St.useContext(_e).direction===xt.TextDirection.RightToLeft,mr=St.useState(new Su(0)),br=mr[0],Ir=mr[1],Cr=St.useRef(""),kr=Vt();return St.useEffect(function(){Cr.current="",Ir(new Su(0));var ts=new kt.PDFWorker({name:"PDFWorker_".concat(Date.now())}),Mr=Object.assign({httpHeaders:zn,withCredentials:ir,worker:ts},typeof rr=="string"?{url:rr}:{data:rr},Gn?{cMapUrl:Gn.url,cMapPacked:Gn.isCompressed}:{}),Gr=Kn?Kn(Mr):Mr,Xr=kt.getDocument(Gr);return Xr.onPassword=function(Hr,Qr){switch(Qr){case kt.PasswordResponses.NEED_PASSWORD:kr.current&&Ir(new z0(Hr,xt.PasswordStatus.RequiredPassword));break;case kt.PasswordResponses.INCORRECT_PASSWORD:kr.current&&Ir(new z0(Hr,xt.PasswordStatus.WrongPassword))}},Xr.onProgress=function(Hr){var Qr=Hr.total>0?Math.min(100,100*Hr.loaded/Hr.total):100;kr.current&&Cr.current===""&&Ir(new Su(Qr))},Xr.promise.then(function(Hr){Cr.current=Hr.loadingTask.docId,kr.current&&Ir(new P1(Hr))},function(Hr){return kr.current&&!ts.destroyed&&Ir(new I1({message:Hr.message||"Cannot load document",name:Hr.name}))}),function(){Xr.destroy(),ts.destroy()}},[rr]),br instanceof z0?St.createElement(Vp,{passwordStatus:br.passwordStatus,renderProtectedView:_i,verifyPassword:br.verifyPassword,onDocumentAskPassword:ar}):br instanceof P1?Lt(br.doc):br instanceof I1?yn?yn(br.error):St.createElement("div",{className:bt({"rpv-core__doc-error":!0,"rpv-core__doc-error--rtl":gr})},St.createElement("div",{className:"rpv-core__doc-error-text"},br.error.message)):St.createElement("div",{"data-testid":"core__doc-loading",className:bt({"rpv-core__doc-loading":!0,"rpv-core__doc-loading--rtl":gr})},qn?qn(br.percentages):St.createElement(Dt,null))},Eu=function(jn,Gn){var rr=St.useMemo(function(){return jn==="auto"?typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light":jn},[]),zn=St.useState(rr),Lt=zn[0],yn=zn[1],qn=Yt(Lt);return St.useEffect(function(){if(jn==="auto"){var _i=window.matchMedia("(prefers-color-scheme: dark)"),Kn=function(ir){yn(ir.matches?"dark":"light")};return _i.addEventListener("change",Kn),function(){return _i.removeEventListener("change",Kn)}}},[]),St.useEffect(function(){Lt!==qn&&Gn&&Gn(Lt)},[Lt]),St.useEffect(function(){jn!==Lt&&yn(jn)},[jn]),{currentTheme:Lt,setCurrentTheme:yn}},qp=function(jn){return{startPage:jn.startPage-3,endPage:jn.endPage+3}};xt.Button=function(jn){var Gn=jn.children,rr=jn.testId,zn=jn.onClick,Lt=St.useContext(_e).direction===xt.TextDirection.RightToLeft,yn=rr?{"data-testid":rr}:{};return St.createElement("button",_t({className:bt({"rpv-core__button":!0,"rpv-core__button--rtl":Lt}),type:"button",onClick:zn},yn),Gn)},xt.Icon=Kt,xt.LazyRender=function(jn){var Gn=jn.attrs,rr=jn.children,zn=jn.testId,Lt=St.useState(!1),yn=Lt[0],qn=Lt[1],_i=zn?_t(_t({},Gn),{"data-testid":zn}):Gn,Kn=Xt({once:!0,onVisibilityChanged:function(ir){ir.isVisible&&qn(!0)}});return St.createElement("div",_t({ref:Kn},_i),yn&&rr)},xt.LocalizationContext=an,xt.Menu=function(jn){var Gn=jn.children,rr=St.useRef(),zn=St.useRef([]),Lt=St.useContext(_e).direction===xt.TextDirection.RightToLeft,yn=function(_i){if(rr.current)switch(_i.key){case"Tab":_i.preventDefault();break;case"ArrowDown":_i.preventDefault(),qn(function(Kn,ir){return ir+1});break;case"ArrowUp":_i.preventDefault(),qn(function(Kn,ir){return ir-1});break;case"End":_i.preventDefault(),qn(function(Kn,ir){return Kn.length-1});break;case"Home":_i.preventDefault(),qn(function(Kn,ir){return 0})}},qn=function(_i){if(rr.current){var Kn=zn.current,ir=Kn.findIndex(function(gr){return gr.getAttribute("tabindex")==="0"}),ar=Math.min(Kn.length-1,Math.max(0,_i(Kn,ir)));ir>=0&&ir<=Kn.length-1&&Kn[ir].setAttribute("tabindex","-1"),Kn[ar].setAttribute("tabindex","0"),Kn[ar].focus()}};return Ft(function(){var _i=rr.current;if(_i){var Kn=function(ir){var ar=[];return ir.querySelectorAll('.rpv-core__menu-item[role="menuitem"]').forEach(function(gr){if(gr instanceof HTMLElement){var mr=gr.parentElement;(mr===ir||window.getComputedStyle(mr).display!=="none")&&ar.push(gr)}}),ar}(_i);zn.current=Kn}},[]),Ft(function(){return document.addEventListener("keydown",yn),function(){document.removeEventListener("keydown",yn)}},[]),St.createElement("div",{ref:rr,"aria-orientation":"vertical",className:bt({"rpv-core__menu":!0,"rpv-core__menu--rtl":Lt}),role:"menu",tabIndex:0},Gn)},xt.MenuDivider=function(){return St.createElement("div",{"aria-orientation":"horizontal",className:"rpv-core__menu-divider",role:"separator"})},xt.MenuItem=function(jn){var Gn=jn.checked,rr=Gn!==void 0&&Gn,zn=jn.children,Lt=jn.icon,yn=Lt===void 0?null:Lt,qn=jn.isDisabled,_i=qn!==void 0&&qn,Kn=jn.testId,ir=jn.onClick,ar=St.useContext(_e).direction===xt.TextDirection.RightToLeft,gr=Kn?{"data-testid":Kn}:{};return St.createElement("button",_t({className:bt({"rpv-core__menu-item":!0,"rpv-core__menu-item--disabled":_i,"rpv-core__menu-item--ltr":!ar,"rpv-core__menu-item--rtl":ar}),role:"menuitem",tabIndex:-1,type:"button",onClick:ir},gr),St.createElement("div",{className:bt({"rpv-core__menu-item-icon":!0,"rpv-core__menu-item-icon--ltr":!ar,"rpv-core__menu-item-icon--rtl":ar})},yn),St.createElement("div",{className:bt({"rpv-core__menu-item-label":!0,"rpv-core__menu-item-label--ltr":!ar,"rpv-core__menu-item-label--rtl":ar})},zn),St.createElement("div",{className:bt({"rpv-core__menu-item-check":!0,"rpv-core__menu-item-check--ltr":!ar,"rpv-core__menu-item-check--rtl":ar})},rr&&St.createElement(Nt,null)))},xt.MinimalButton=function(jn){var Gn=jn.ariaLabel,rr=Gn===void 0?"":Gn,zn=jn.ariaKeyShortcuts,Lt=zn===void 0?"":zn,yn=jn.children,qn=jn.isDisabled,_i=qn!==void 0&&qn,Kn=jn.isSelected,ir=Kn!==void 0&&Kn,ar=jn.testId,gr=jn.onClick,mr=St.useContext(_e).direction===xt.TextDirection.RightToLeft,br=ar?{"data-testid":ar}:{};return St.createElement("button",_t({"aria-label":rr},Lt&&{"aria-keyshortcuts":Lt},_i&&{"aria-disabled":!0},{className:bt({"rpv-core__minimal-button":!0,"rpv-core__minimal-button--disabled":_i,"rpv-core__minimal-button--rtl":mr,"rpv-core__minimal-button--selected":ir}),type:"button",onClick:gr},br),yn)},xt.Modal=function(jn){var Gn=jn.ariaControlsSuffix,rr=jn.closeOnClickOutside,zn=jn.closeOnEscape,Lt=jn.content,yn=jn.isOpened,qn=yn!==void 0&&yn,_i=jn.target,Kn=Gn||"".concat(Wt());return St.createElement(xn,{target:_i?function(ir,ar){return St.createElement("div",{"aria-expanded":ar?"true":"false","aria-haspopup":"dialog","aria-controls":"rpv-core__modal-body-".concat(Kn)},_i(ir,ar))}:null,content:function(ir){return St.createElement(cn,null,St.createElement(on,{ariaControlsSuffix:Kn,closeOnClickOutside:rr,closeOnEscape:zn,onToggle:ir},Lt(ir)))},isOpened:qn})},xt.Popover=function(jn){var Gn=jn.ariaHasPopup,rr=Gn===void 0?"dialog":Gn,zn=jn.ariaControlsSuffix,Lt=jn.closeOnClickOutside,yn=jn.closeOnEscape,qn=jn.content,_i=jn.lockScroll,Kn=_i===void 0||_i,ir=jn.offset,ar=jn.position,gr=jn.target,mr=rn(!1),br=mr.opened,Ir=mr.toggle,Cr=St.useRef(),kr=St.useMemo(function(){return zn||"".concat(Wt())},[]);return St.createElement("div",{ref:Cr,"aria-expanded":br?"true":"false","aria-haspopup":rr,"aria-controls":"rpv-core__popver-body-".concat(kr)},gr(Ir,br),br&&St.createElement(St.Fragment,null,Kn&&St.createElement(wn,{closeOnEscape:yn,onClose:Ir}),St.createElement(pn,{ariaControlsSuffix:kr,closeOnClickOutside:Lt,offset:ir,position:ar,targetRef:Cr,onClose:Ir},qn(Ir))))},xt.PrimaryButton=$t,xt.ProgressBar=function(jn){var Gn=jn.progress,rr=St.useContext(_e).direction===xt.TextDirection.RightToLeft;return St.createElement("div",{className:bt({"rpv-core__progress-bar":!0,"rpv-core__progress-bar--rtl":rr})},St.createElement("div",{className:"rpv-core__progress-bar-progress",style:{width:"".concat(Gn,"%")}},Gn,"%"))},xt.Separator=function(){return St.createElement("div",{className:"rpv-core__separator"})},xt.Spinner=Dt,xt.Splitter=function(jn){var Gn=jn.constrain,rr=St.useContext(_e).direction===xt.TextDirection.RightToLeft,zn=St.useRef(),Lt=St.useRef(),yn=St.useRef(),qn=St.useRef(0),_i=St.useRef(0),Kn=St.useRef(0),ir=St.useRef(0),ar={capture:!0},gr=function(br){var Ir=zn.current,Cr=Lt.current,kr=yn.current;if(Ir&&Cr&&kr){var ts=ir.current,Mr=br.clientX-qn.current,Gr=Kn.current+(rr?-Mr:Mr),Xr=Ir.parentElement.getBoundingClientRect().width,Hr=100*Gr/Xr;if(Ir.classList.add("rpv-core__splitter--resizing"),Gn){var Qr=Xr-Gr-ts;if(!Gn({firstHalfPercentage:Hr,firstHalfSize:Gr,secondHalfPercentage:100*Qr/Xr,secondHalfSize:Qr}))return}Cr.style.width="".concat(Hr,"%"),document.body.classList.add("rpv-core__splitter-body--resizing"),Cr.classList.add("rpv-core__splitter-sibling--resizing"),kr.classList.add("rpv-core__splitter-sibling--resizing")}},mr=function(br){var Ir=zn.current,Cr=Lt.current,kr=yn.current;Ir&&Cr&&kr&&(document.body.classList.remove("rpv-core__splitter-body--resizing"),Ir.classList.remove("rpv-core__splitter--resizing"),Cr.classList.remove("rpv-core__splitter-sibling--resizing"),kr.classList.remove("rpv-core__splitter-sibling--resizing"),document.removeEventListener("mousemove",gr,ar),document.removeEventListener("mouseup",mr,ar))};return St.useEffect(function(){var br=zn.current;br&&(ir.current=br.getBoundingClientRect().width,Lt.current=br.previousElementSibling,yn.current=br.nextElementSibling)},[]),St.createElement("div",{ref:zn,className:"rpv-core__splitter",onMouseDown:function(br){var Ir=Lt.current;Ir&&(qn.current=br.clientX,_i.current=br.clientY,Kn.current=Ir.getBoundingClientRect().width,document.addEventListener("mousemove",gr,ar),document.addEventListener("mouseup",mr,ar))}})},xt.TextBox=jt,xt.ThemeContext=_e,xt.Tooltip=function(jn){var Gn=jn.ariaControlsSuffix,rr=jn.content,zn=jn.offset,Lt=jn.position,yn=jn.target,qn=rn(!1),_i=qn.opened,Kn=qn.toggle,ir=St.useRef(),ar=St.useRef(),gr=St.useMemo(function(){return Gn||"".concat(Wt())},[]);ln(function(){ir.current&&document.activeElement&&ir.current.contains(document.activeElement)&&br()});var mr=function(){Kn(xt.ToggleStatus.Open)},br=function(){Kn(xt.ToggleStatus.Close)};return St.createElement(St.Fragment,null,St.createElement("div",{ref:ir,"aria-describedby":"rpv-core__tooltip-body-".concat(gr),onBlur:function(Ir){Ir.relatedTarget instanceof HTMLElement&&Ir.currentTarget.parentElement&&Ir.currentTarget.parentElement.contains(Ir.relatedTarget)?ar.current&&(ar.current.style.display="none"):br()},onFocus:mr,onMouseEnter:mr,onMouseLeave:br},yn),_i&&St.createElement(kn,{ariaControlsSuffix:gr,contentRef:ar,offset:zn,position:Lt,targetRef:ir},rr()))},xt.Viewer=function(jn){var Gn=jn.characterMap,rr=jn.defaultScale,zn=jn.enableSmoothScroll,Lt=zn===void 0||zn,yn=jn.fileUrl,qn=jn.httpHeaders,_i=qn===void 0?{}:qn,Kn=jn.initialPage,ir=Kn===void 0?0:Kn,ar=jn.pageLayout,gr=jn.initialRotation,mr=gr===void 0?0:gr,br=jn.localization,Ir=jn.plugins,Cr=Ir===void 0?[]:Ir,kr=jn.renderError,ts=jn.renderLoader,Mr=jn.renderPage,Gr=jn.renderProtectedView,Xr=jn.scrollMode,Hr=Xr===void 0?xt.ScrollMode.Vertical:Xr,Qr=jn.setRenderRange,Br=Qr===void 0?qp:Qr,Nr=jn.transformGetDocumentParams,Es=jn.theme,ks=Es===void 0?{direction:xt.TextDirection.LeftToRight,theme:"light"}:Es,Fs=jn.viewMode,Rs=Fs===void 0?xt.ViewMode.SinglePage:Fs,Is=jn.withCredentials,Us=Is!==void 0&&Is,Zs=jn.onDocumentAskPassword,eo=jn.onDocumentLoad,Js=eo===void 0?function(){}:eo,ro=jn.onPageChange,no=ro===void 0?function(){}:ro,Ao=jn.onRotate,Xl=Ao===void 0?function(){}:Ao,_l=jn.onRotatePage,ho=_l===void 0?function(){}:_l,Bo=jn.onSwitchTheme,u0=Bo===void 0?function(){}:Bo,xs=jn.onZoom,ps=xs===void 0?function(){}:xs,is=St.useState({data:yn,name:typeof yn=="string"?yn:"",shouldLoad:!1}),as=is[0],rs=is[1],ys=function(na,ba){rs({data:ba,name:na,shouldLoad:!0})},As=St.useState(!1),os=As[0],Kr=As[1],Ts=Yt(as);St.useEffect(function(){var na,ba,lo,Xs;na=Ts.data,Xs=typeof(ba=yn),(lo=typeof na)=="string"&&Xs==="string"&&na===ba||lo==="object"&&Xs==="object"&&na.length===ba.length&&na.every(function(X0,M1){return X0===ba[M1]})||rs({data:yn,name:typeof yn=="string"?yn:"",shouldLoad:os})},[yn,os]);var Ps=Xt({onVisibilityChanged:function(na){Kr(na.isVisible),na.isVisible&&rs(function(ba){return Object.assign({},ba,{shouldLoad:!0})})}}),Qs=typeof ks=="string"?{direction:xt.TextDirection.LeftToRight,theme:ks}:ks,Vs=St.useState(br||zt),xo=Vs[0],Xo=Vs[1],_s={l10n:xo,setL10n:Xo},bo=Object.assign({},{direction:Qs.direction},Eu(Qs.theme||"light",u0));return St.useEffect(function(){br&&Xo(br)},[br]),St.createElement(an.Provider,{value:_s},St.createElement(_e.Provider,{value:bo},St.createElement("div",{ref:Ps,className:"rpv-core__viewer rpv-core__viewer--".concat(bo.currentTheme),"data-testid":"core__viewer",style:{height:"100%",width:"100%"}},as.shouldLoad&&St.createElement(Gp,{characterMap:Gn,file:as.data,httpHeaders:_i,render:function(na){return St.createElement(Au,{defaultScale:rr,doc:na,render:function(ba,lo){return St.createElement(Wp,{currentFile:{data:as.data,name:as.name},defaultScale:rr,doc:na,enableSmoothScroll:Lt,initialPage:ir,initialRotation:mr,initialScale:lo,pageLayout:ar,pageSizes:ba,plugins:Cr,renderPage:Mr,scrollMode:Hr,setRenderRange:Br,viewMode:Rs,viewerState:{file:as,fullScreenMode:xt.FullScreenMode.Normal,pageIndex:-1,pageHeight:ba[0].pageHeight,pageWidth:ba[0].pageWidth,pagesRotation:new Map,rotation:mr,scale:lo,scrollMode:Hr,viewMode:Rs},onDocumentLoad:Js,onOpenFile:ys,onPageChange:no,onRotate:Xl,onRotatePage:ho,onZoom:ps})},scrollMode:Hr,viewMode:Rs})},renderError:kr,renderLoader:ts,renderProtectedView:Gr,transformGetDocumentParams:Nr,withCredentials:Us,onDocumentAskPassword:Zs}))))},xt.Worker=function(jn){var Gn=jn.children,rr=jn.workerUrl;return kt.GlobalWorkerOptions.workerSrc=rr,St.createElement(St.Fragment,null,Gn)},xt.chunk=Cn,xt.classNames=bt,xt.createStore=function(jn){var Gn=jn||{},rr={},zn=function(yn,qn){var _i;Gn=_t(_t({},Gn),((_i={})[yn]=qn,_i)),(rr[yn]||[]).forEach(function(Kn){return Kn(Gn[yn])})},Lt=function(yn){return Gn[yn]};return{subscribe:function(yn,qn){rr[yn]=(rr[yn]||[]).concat(qn)},unsubscribe:function(yn,qn){rr[yn]=(rr[yn]||[]).filter(function(_i){return _i!==qn})},update:function(yn,qn){zn(yn,qn)},updateCurrentValue:function(yn,qn){var _i=Lt(yn);_i!==void 0&&zn(yn,qn(_i))},get:function(yn){return Lt(yn)}}},xt.getDestination=Un,xt.getPage=Ln,xt.isFullScreenEnabled=Qt,xt.isMac=function(){return typeof window<"u"&&/(Mac|iPhone|iPod|iPad)/i.test(navigator.platform)},xt.useDebounceCallback=bn,xt.useIntersectionObserver=Xt,xt.useIsMounted=Vt,xt.useIsomorphicLayoutEffect=Ft,xt.usePrevious=Yt,xt.useRenderQueue=Ot})(core_min);const Load=()=>{const[xt,$]=reactExports.useState(""),[ht,vt]=reactExports.useState(null),[At,St]=reactExports.useState(null),[kt,Et]=reactExports.useState(null);function Rt(Pt){const _e=Pt.target.files[0];if(Et(_e.size/(1024*1024)),_e){const bt=new FileReader;bt.onloadend=()=>{vt(bt.result.split(",")[1])},bt.readAsDataURL(_e);const Ft=Pt.target.value.replace("C:\\fakepath\\","");$(Ft)}else alert("No file selected")}const wt=async Pt=>{Pt.preventDefault();try{await axios.post("/en/uploadpdf",{file:ht,filename:xt}),console.log("Successfully uploaded.")}catch(_e){console.log("Error uploading details:",_e),alert("File size too large")}},_t=async Pt=>{Pt.preventDefault();try{console.log("hi");const _e=await axios.get("/en/pdfid/66813196189877e17f54a9e0",{responseType:"arraybuffer"}),bt=new Uint8Array(_e.data),Ft=new Blob([bt],{type:"application/pdf"});let Xt=window.URL.createObjectURL(Ft);St(Xt)}catch(_e){console.log("Error uploading details:",_e),alert("File size too large")}};return jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs("form",{onSubmit:wt,children:[jsxRuntimeExports.jsx("input",{type:"file",onChange:Rt,accept:"application/pdf"}),jsxRuntimeExports.jsx("button",{type:"submit",children:"Upload"})]}),jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsx("button",{onClick:_t,children:"show pdf"}),At&&jsxRuntimeExports.jsx("embed",{src:At,type:"application/pdf",width:"100%",height:"600px"})]})};pdfjs.GlobalWorkerOptions.workerSrc=pdf_worker_entry;function CaretakerAnalysis(){const xt=reactExports.useRef(null),[$,ht]=reactExports.useState(0),vt=useLocation(),At=useNavigate(),[St,kt]=reactExports.useState(null),[Et,Rt]=reactExports.useState(null),[wt,_t]=reactExports.useState(null),[Pt,_e]=reactExports.useState(null),[bt,Ft]=reactExports.useState([]);reactExports.useState(!1);const[Xt,Kt]=reactExports.useState(null),[Nt,$t]=reactExports.useState(null),[Dt,jt]=reactExports.useState(!1),[Ct,qt]=reactExports.useState(null),[Bt,Gt]=reactExports.useState(1),en=reactExports.useRef(null),dn=reactExports.useRef(null),Qt=reactExports.useRef(null);reactExports.useEffect(()=>{(async()=>{if(Nt)try{const Wt=await fetch(Nt).then(ln=>ln.arrayBuffer()),tn=await pdfjs.getDocument({data:Wt}).promise;qt(tn),nn(tn,1,en.current,1)}catch(Wt){console.error("Error loading PDF:",Wt)}})()},[Nt]),reactExports.useEffect(()=>{const Ht=()=>{Qt.current&&Dt&&Ct&&gn()};return window.addEventListener("resize",Ht),()=>window.removeEventListener("resize",Ht)},[Dt,Ct]);const gn=async()=>{if(!Ct||!Qt.current)return;const Wt=(await Ct.getPage(1)).getViewport({scale:1}),tn=Qt.current.clientWidth,ln=Qt.current.clientHeight,on=tn/Wt.width,cn=ln/Wt.height,sn=Math.min(on,cn)*2;Gt(sn),bn(sn)},nn=async(Ht,Wt,tn,ln)=>{const on=await Ht.getPage(Wt),cn=on.getViewport({scale:ln});tn.height=cn.height*2,tn.width=cn.width*2;const sn=tn.getContext("2d");sn.scale(2,2),await on.render({canvasContext:sn,viewport:cn,renderInteractiveForms:!0,canvasFactory:{create:function(rn,xn){const vn=document.createElement("canvas");return vn.width=rn*2,vn.height=xn*2,vn},reset:function(rn,xn,vn){rn.canvas.width=xn*2,rn.canvas.height=vn*2},destroy:function(rn){}}})},bn=async Ht=>{if(!(!Ct||!dn.current)){dn.current.innerHTML="";for(let Wt=1;Wt<=Ct.numPages;Wt++){const tn=document.createElement("canvas");tn.style.width="100%",tn.style.height="auto",tn.style.marginBottom="10px",await nn(Ct,Wt,tn,Ht),dn.current.appendChild(tn)}}};reactExports.useEffect(()=>{if(vt.state){const{id:Ht,pid:Wt,isDoctor:tn,patientData:ln}=vt.state;kt(Wt),Rt(Ht),_t(ln)}},[vt]),reactExports.useEffect(()=>{(async()=>{if(Et&&St)try{await Ut(),await Ot()}catch(Wt){console.error("Error fetching data:",Wt)}})()},[Et,St]),reactExports.useEffect(()=>{(async()=>{if(Pt)try{await hn()}catch(Wt){console.error("Error getting URL:",Wt)}})()},[Pt]);const Vt=async()=>{jt(!0),setTimeout(gn,0)},Yt=()=>{jt(!1),dn.current&&(dn.current.innerHTML="")};async function hn(){try{const Ht=await axios.get(`/en/pdfid/${Pt.file}`,{responseType:"arraybuffer"}),Wt=new Uint8Array(Ht.data),tn=new Blob([Wt],{type:"application/pdf"});let ln=window.URL.createObjectURL(tn);$t(ln)}catch(Ht){console.error("Error fetching report:",Ht)}}async function Ut(){try{const Ht=await axios.get(`/en/getreport/${Et}`);_e(Ht.data),Ft(Ht.data.precautions)}catch(Ht){console.error("Error fetching report:",Ht)}}async function Ot(){try{const Ht=await axios.post("/en/getprevreports",{patientId:St,reportId:Et});Kt(Ht.data)}catch(Ht){console.error("Error fetching dates:",Ht)}}const zt=Ht=>{const Wt=new Date,tn=new Date(Ht);let ln=Wt.getFullYear()-tn.getFullYear();const on=Wt.getMonth()-tn.getMonth();return(on<0||on===0&&Wt.getDate()<tn.getDate())&&ln--,ln},an=Ht=>{At("/doctoranalysis",{replace:!0,state:{id:Ht,pid:St,isDoctor:doctor,patientData:wt}}),window.scrollTo(0,0)};return!Pt||!Xt||!wt?jsxRuntimeExports.jsx("div",{children:"Loading..."}):Pt&&Xt&&wt&&Nt&&jsxRuntimeExports.jsx("div",{className:"relative flex size-full min-h-screen flex-col bg-white group/design-root overflow-x-hidden ",style:{fontFamily:'Manrope, "Noto Sans", sans-serif'},children:jsxRuntimeExports.jsxs("div",{className:"layout-container flex h-full grow flex-col",children:[jsxRuntimeExports.jsxs("header",{className:"flex items-center justify-between whitespace-nowrap border-b border-solid border-b-[#f0f2f4] px-10 py-3",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-4 text-[#111418]",children:[jsxRuntimeExports.jsx("div",{className:"size-4",children:jsxRuntimeExports.jsx("svg",{viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:jsxRuntimeExports.jsx("path",{d:"M4 4H17.3334V17.3334H30.6666V30.6666H44V44H4V4Z",fill:"currentColor"})})}),jsxRuntimeExports.jsx("h2",{className:"text-[#111418] text-lg font-bold leading-tight tracking-[-0.015em]",children:"Saanjh sahayak"})]}),jsxRuntimeExports.jsxs("div",{className:"flex flex-1 justify-end gap-8",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-9",children:[jsxRuntimeExports.jsx("a",{className:"text-[#111418] text-sm font-medium leading-normal",href:"#",children:"Patients"}),jsxRuntimeExports.jsx("a",{className:"text-[#111418] text-sm font-medium leading-normal",href:"#",children:"Reports"})]}),jsxRuntimeExports.jsxs("div",{className:"flex gap-2",children:[jsxRuntimeExports.jsx("button",{className:"flex max-w-[480px] cursor-pointer items-center justify-center overflow-hidden rounded-xl h-10 bg-[#f0f2f4] text-[#111418] gap-2 text-sm font-bold leading-normal tracking-[0.015em] min-w-0 px-2.5",children:jsxRuntimeExports.jsx("div",{className:"text-[#111418]","data-icon":"MagnifyingGlass","data-size":"20px","data-weight":"regular",children:jsxRuntimeExports.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20px",height:"20px",fill:"currentColor",viewBox:"0 0 256 256",children:jsxRuntimeExports.jsx("path",{d:"M229.66,218.34l-50.07-50.06a88.11,88.11,0,1,0-11.31,11.31l50.06,50.07a8,8,0,0,0,11.32-11.32ZM40,112a72,72,0,1,1,72,72A72.08,72.08,0,0,1,40,112Z"})})})}),jsxRuntimeExports.jsx("button",{className:"flex max-w-[480px] cursor-pointer items-center justify-center overflow-hidden rounded-xl h-10 bg-[#f0f2f4] text-[#111418] gap-2 text-sm font-bold leading-normal tracking-[0.015em] min-w-0 px-2.5",children:jsxRuntimeExports.jsx("div",{className:"text-[#111418]","data-icon":"Bell","data-size":"20px","data-weight":"regular",children:jsxRuntimeExports.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20px",height:"20px",fill:"currentColor",viewBox:"0 0 256 256",children:jsxRuntimeExports.jsx("path",{d:"M221.8,175.94C216.25,166.38,208,139.33,208,104a80,80,0,1,0-160,0c0,35.34-8.26,62.38-13.81,71.94A16,16,0,0,0,48,200H88.81a40,40,0,0,0,78.38,0H208a16,16,0,0,0,13.8-24.06ZM128,216a24,24,0,0,1-22.62-16h45.24A24,24,0,0,1,128,216ZM48,184c7.7-13.24,16-43.92,16-80a64,64,0,1,1,128,0c0,36.05,8.28,66.73,16,80Z"})})})}),jsxRuntimeExports.jsx("button",{className:"flex max-w-[480px] cursor-pointer items-center justify-center overflow-hidden rounded-xl h-10 bg-[#f0f2f4] text-[#111418] gap-2 text-sm font-bold leading-normal tracking-[0.015em] min-w-0 px-2.5",children:jsxRuntimeExports.jsx("div",{className:"text-[#111418]","data-icon":"ChatCircleDots","data-size":"20px","data-weight":"regular",children:jsxRuntimeExports.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20px",height:"20px",fill:"currentColor",viewBox:"0 0 256 256",children:jsxRuntimeExports.jsx("path",{d:"M140,128a12,12,0,1,1-12-12A12,12,0,0,1,140,128ZM84,116a12,12,0,1,0,12,12A12,12,0,0,0,84,116Zm88,0a12,12,0,1,0,12,12A12,12,0,0,0,172,116Zm60,12A104,104,0,0,1,79.12,219.82L45.07,231.17a16,16,0,0,1-20.24-20.24l11.35-34.05A104,104,0,1,1,232,128Zm-16,0A88,88,0,1,0,51.81,172.06a8,8,0,0,1,.66,6.54L40,216,77.4,203.53a7.85,7.85,0,0,1,2.53-.42,8,8,0,0,1,4,1.08A88,88,0,0,0,216,128Z"})})})})]}),jsxRuntimeExports.jsx("div",{className:"bg-center bg-no-repeat aspect-square bg-cover rounded-full size-10",style:{backgroundImage:'url("https://cdn.usegalileo.ai/stability/1c59f8b8-2f0d-4280-9e6d-75d6c0cee0d6.png")'}})]})]}),jsxRuntimeExports.jsx("div",{className:"px-40 flex flex-1 justify-center py-5",children:jsxRuntimeExports.jsxs("div",{className:"layout-content-container flex flex-col max-w-[960px] flex-1",children:[jsxRuntimeExports.jsx("div",{className:"flex flex-wrap justify-between gap-3 p-4",children:jsxRuntimeExports.jsx("p",{className:"text-[#111418] text-4xl font-black leading-tight tracking-[-0.033em] min-w-72 content-center",children:"Patient Information"})}),jsxRuntimeExports.jsx("div",{className:"flex p-4 @container",children:jsxRuntimeExports.jsx("div",{className:"flex w-full flex-col gap-4 @[520px]:flex-row @[520px]:justify-between @[520px]:items-start",children:jsxRuntimeExports.jsxs("div",{className:"flex gap-4",children:[jsxRuntimeExports.jsx("div",{className:"bg-center bg-no-repeat aspect-square bg-cover rounded-full min-h-32 w-32",style:{backgroundImage:'url("https://cdn.usegalileo.ai/stability/82b7a4d5-f5b9-4dd7-9c3a-8650f6ea64f0.png")'}}),jsxRuntimeExports.jsxs("div",{className:"flex flex-col justify-center",children:[jsxRuntimeExports.jsx("p",{className:"text-[#111418] text-[22px] font-bold leading-tight tracking-[-0.015em]",children:wt.name}),jsxRuntimeExports.jsxs("p",{className:"text-[#637588] text-base font-normal leading-normal",children:[wt.gender,", Age ",zt(wt.DOB)]}),jsxRuntimeExports.jsxs("p",{className:"text-[#637588] text-base font-normal leading-normal",children:[" Blood Group: ",wt.bloodGroup]})]})]})})}),jsxRuntimeExports.jsx("h3",{className:"text-[#111418] text-lg font-bold leading-tight tracking-[-0.015em] px-4 pb-2 pt-4",children:"Known Conditions"}),jsxRuntimeExports.jsx("div",{className:"flex gap-3 p-3 flex-wrap pr-4",children:wt.chronics.map((Ht,Wt)=>jsxRuntimeExports.jsx("div",{className:"flex h-8 shrink-0 items-center justify-center gap-x-2 rounded-xl bg-[#f0f2f4] pl-4 pr-4",children:jsxRuntimeExports.jsx("p",{className:"text-[#111418] text-sm font-medium leading-normal",children:Ht})},Wt))}),jsxRuntimeExports.jsx("h3",{className:"text-[#111418] text-lg font-bold leading-tight tracking-[-0.015em] px-4 pb-2 pt-4",children:"Current Report"}),Dt&&jsxRuntimeExports.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:jsxRuntimeExports.jsxs("div",{ref:Qt,className:"bg-white rounded-lg w-3/4 max-w-4xl h-5/6 flex flex-col",children:[jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-center p-4",children:[jsxRuntimeExports.jsx("h2",{className:"text-xl font-bold",children:"PDF Viewer"}),jsxRuntimeExports.jsx("button",{onClick:Yt,className:"px-4 py-2 bg-red-500 text-white rounded",children:"Close"})]}),jsxRuntimeExports.jsx("div",{ref:dn,className:"flex-grow overflow-y-auto scrollbar-hide p-4",style:{msOverflowStyle:"none",scrollbarWidth:"none"}})]})}),jsxRuntimeExports.jsxs("div",{onClick:Vt,className:"flex items-center gap-4 bg-white px-4 min-h-[72px] py-2 justify-between hover:bg-slate-100 hover:scale-105 transition transform duration-300",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-4",children:[jsxRuntimeExports.jsx("div",{className:"text-[#111418] flex items-center justify-center rounded-lg bg-[#f0f2f4] shrink-0 size-12","data-icon":"File","data-size":"24px","data-weight":"regular",children:jsxRuntimeExports.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24px",height:"24px",fill:"currentColor",viewBox:"0 0 256 256",children:jsxRuntimeExports.jsx("path",{d:"M213.66,82.34l-56-56A8,8,0,0,0,152,24H56A16,16,0,0,0,40,40V216a16,16,0,0,0,16,16H200a16,16,0,0,0,16-16V88A8,8,0,0,0,213.66,82.34ZM160,51.31,188.69,80H160ZM200,216H56V40h88V88a8,8,0,0,0,8,8h48V216Z"})})}),jsxRuntimeExports.jsxs("div",{className:"flex flex-col justify-center",children:[jsxRuntimeExports.jsx("p",{className:"text-[#111418] text-base font-medium leading-normal line-clamp-1",children:"Test Report"}),jsxRuntimeExports.jsx("p",{className:"text-[#637588] text-sm font-normal leading-normal line-clamp-2",children:"Report from 27 June 2024"})]})]}),jsxRuntimeExports.jsx("div",{className:"shrink-0",children:jsxRuntimeExports.jsx("div",{className:"text-[#111418] flex size-7 items-center justify-center","data-icon":"CaretRight","data-size":"24px","data-weight":"regular",children:jsxRuntimeExports.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24px",height:"24px",fill:"currentColor",viewBox:"0 0 256 256",children:jsxRuntimeExports.jsx("path",{d:"M181.66,133.66l-80,80a8,8,0,0,1-11.32-11.32L164.69,128,90.34,53.66a8,8,0,0,1,11.32-11.32l80,80A8,8,0,0,1,181.66,133.66Z"})})})})]}),jsxRuntimeExports.jsx("h3",{className:"text-[#111418] text-lg font-bold leading-tight tracking-[-0.015em] px-4 pb-2 pt-4",children:"Analysis"}),jsxRuntimeExports.jsx("div",{className:"text-lg   tracking-[-0.020em] ",children:jsxRuntimeExports.jsx("p",{className:"px-4 pb-2 pt-4",children:Pt.summary})}),jsxRuntimeExports.jsx("h3",{className:"text-[#111418] text-lg font-bold leading-tight tracking-[-0.015em] px-4 pb-2 pt-4",children:"Precautions"}),jsxRuntimeExports.jsx("div",{className:"p-4 @container",children:jsxRuntimeExports.jsx("div",{className:"flex flex-1 items-start justify-between gap-4 rounded-xl border border-[#dce0e5] bg-white p-5 @[480px]:flex-row @[480px]:items-center",style:{height:$?`${$+20}px`:"auto"},children:jsxRuntimeExports.jsx("div",{className:"flex flex-col gap-1 flex-1",children:jsxRuntimeExports.jsx("ul",{className:"text-[#637588] text-base font-normal leading-normal flex-1",ref:xt,children:bt.map((Ht,Wt)=>jsxRuntimeExports.jsx("li",{children:Ht},Wt))})})})}),jsxRuntimeExports.jsx("h3",{className:"text-[#111418] text-lg font-bold leading-tight tracking-[-0.015em] px-4 pb-2 pt-4",children:"Doctor's Advice"}),jsxRuntimeExports.jsx("div",{className:"flex max-w-[480px] flex-1 flex-wrap items-end gap-4 px-4 py-3",children:jsxRuntimeExports.jsx("label",{className:"flex flex-col min-w-40 flex-1",children:Pt.doctorNotes===""?jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{}):jsxRuntimeExports.jsx("div",{className:"text-[#637588] text-base font-normal leading-normal flex-1",ref:xt,children:Pt.doctorNotes})})}),jsxRuntimeExports.jsx("div",{className:"flex px-4 py-3 justify-end"}),jsxRuntimeExports.jsx("h3",{className:"text-[#111418] text-lg font-bold leading-tight tracking-[-0.015em] px-4 pb-2 pt-4",children:"Previous Reports"}),jsxRuntimeExports.jsx("div",{children:Xt.map((Ht,Wt)=>jsxRuntimeExports.jsxs("div",{onClick:()=>{an(Ht.file)},className:"flex items-center gap-4  px-4 min-h-[72px] py-2 justify-between cursor-pointer hover:bg-slate-100 hover:scale-105 transition transform duration-300",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-4",children:[jsxRuntimeExports.jsx("div",{className:"text-[#0d151c] flex items-center justify-center rounded-lg bg-[#e7eef4] shrink-0 size-12","data-icon":"File","data-size":"24px","data-weight":"regular",children:jsxRuntimeExports.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24px",height:"24px",fill:"currentColor",viewBox:"0 0 256 256",children:jsxRuntimeExports.jsx("path",{d:"M213.66,82.34l-56-56A8,8,0,0,0,152,24H56A16,16,0,0,0,40,40V216a16,16,0,0,0,16,16H200a16,16,0,0,0,16-16V88A8,8,0,0,0,213.66,82.34ZM160,51.31,188.69,80H160ZM200,216H56V40h88V88a8,8,0,0,0,8,8h48V216Z"})})}),jsxRuntimeExports.jsxs("div",{className:"flex flex-col justify-center",children:[jsxRuntimeExports.jsx("p",{className:"text-[#0d151c] text-base font-medium leading-normal line-clamp-1",children:Ht.date}),jsxRuntimeExports.jsx("p",{className:"text-[#49779c] text-sm font-normal leading-normal line-clamp-2",children:Ht.specialistReq})]})]}),jsxRuntimeExports.jsx("div",{className:"shrink-0",children:jsxRuntimeExports.jsx("div",{className:"text-[#0d151c] flex size-7 items-center justify-center","data-icon":"CaretRight","data-size":"24px","data-weight":"regular",children:jsxRuntimeExports.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24px",height:"24px",fill:"currentColor",viewBox:"0 0 256 256",children:jsxRuntimeExports.jsx("path",{d:"M181.66,133.66l-80,80a8,8,0,0,1-11.32-11.32L164.69,128,90.34,53.66a8,8,0,0,1,11.32-11.32l80,80A8,8,0,0,1,181.66,133.66Z"})})})})]},Wt))})]})})]})})}function App(){const[xt,$]=reactExports.useState(()=>{const ht=localStorage.getItem("isDoctor");return ht!==null?JSON.parse(ht):!0});return reactExports.useEffect(()=>{localStorage.setItem("isDoctor",JSON.stringify(xt))},[xt]),jsxRuntimeExports.jsx("div",{className:"App",children:jsxRuntimeExports.jsx(BrowserRouter,{children:jsxRuntimeExports.jsxs(Routes,{children:[jsxRuntimeExports.jsx(Route,{path:"/",element:jsxRuntimeExports.jsx(LandingPage,{})}),jsxRuntimeExports.jsx(Route,{path:"/main",element:jsxRuntimeExports.jsx(Main,{isDoctor:xt,setIsDoctor:$})}),jsxRuntimeExports.jsx(Route,{path:"/form",element:jsxRuntimeExports.jsx(Form,{})}),jsxRuntimeExports.jsx(Route,{path:"/patient",element:jsxRuntimeExports.jsx(Patient,{isDoctor:xt})}),jsxRuntimeExports.jsx(Route,{path:"/signin",element:jsxRuntimeExports.jsx(Signin,{setIsDoctor:$,isDoctor:xt})}),jsxRuntimeExports.jsx(Route,{path:"/newSignin",element:jsxRuntimeExports.jsx(NewSignin,{})}),jsxRuntimeExports.jsx(Route,{path:"/upload",element:jsxRuntimeExports.jsx(Upload,{})}),jsxRuntimeExports.jsx(Route,{path:"/load",element:jsxRuntimeExports.jsx(Load,{})}),jsxRuntimeExports.jsx(Route,{path:"/pdfShow",element:jsxRuntimeExports.jsx(PdfShow,{})}),jsxRuntimeExports.jsx(Route,{path:"/doctoranalysis",element:jsxRuntimeExports.jsx(Doctoranalysis,{})}),jsxRuntimeExports.jsx(Route,{path:"/caretakeranalysis",element:jsxRuntimeExports.jsx(CaretakerAnalysis,{})}),jsxRuntimeExports.jsx(Route,{path:"/dummy",element:jsxRuntimeExports.jsx(Dummy,{})})]})})})}client.createRoot(document.getElementById("root")).render(jsxRuntimeExports.jsx(React.StrictMode,{children:jsxRuntimeExports.jsx(App,{})}));
