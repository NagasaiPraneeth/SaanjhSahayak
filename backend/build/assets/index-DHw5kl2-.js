import{u as T,j as e,r as t,a as M,Z as pe,c as ge,F as je,f as be,T as ce,X as we,L as ve,S as ye,M as Ne,m as $,b as Ce,d as ke,e as De,g as Se,A as Pe,C as Ae,h as Fe,i as Re,U as xe,k as ae,_ as Me,p as Le,l as ne,n as me,B as Ve,R as He,o as O,q as ze,s as Be}from"./vendor-CObISVLl.js";(function(){const a=document.createElement("link").relList;if(a&&a.supports&&a.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const d of i)if(d.type==="childList")for(const N of d.addedNodes)N.tagName==="LINK"&&N.rel==="modulepreload"&&n(N)}).observe(document,{childList:!0,subtree:!0});function h(i){const d={};return i.integrity&&(d.integrity=i.integrity),i.referrerPolicy&&(d.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?d.credentials="include":i.crossOrigin==="anonymous"?d.credentials="omit":d.credentials="same-origin",d}function n(i){if(i.ep)return;i.ep=!0;const d=h(i);fetch(i.href,d)}})();const re=s=>{console.log(s);const a=T();return e.jsxs("div",{className:"flex items-center justify-between whitespace-nowrap border-b border-solid border-b-[#e7eef4] px-10 py-3",children:[e.jsxs("div",{className:"flex items-center gap-4 text-[#0d151c]",children:[e.jsx("div",{className:"size-4",children:e.jsx("svg",{viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:e.jsx("path",{d:"M36.7273 44C33.9891 44 31.6043 39.8386 30.3636 33.69C29.123 39.8386 26.7382 44 24 44C21.2618 44 18.877 39.8386 17.6364 33.69C16.3957 39.8386 14.0109 44 11.2727 44C7.25611 44 4 35.0457 4 24C4 12.9543 7.25611 4 11.2727 4C14.0109 4 16.3957 8.16144 17.6364 14.31C18.877 8.16144 21.2618 4 24 4C26.7382 4 29.123 8.16144 30.3636 14.31C31.6043 8.16144 33.9891 4 36.7273 4C40.7439 4 44 12.9543 44 24C44 35.0457 40.7439 44 36.7273 44Z",fill:"currentColor"})})}),e.jsx("h2",{className:"text-[#0d151c] text-lg font-bold leading-tight tracking-[-0.015em]",children:"Sanjh Sahayak"})]}),e.jsxs("div",{className:"flex flex-1 justify-end gap-8",children:[e.jsxs("div",{className:"flex items-center gap-9",children:[e.jsx("a",{className:"text-[#0d151c] text-sm font-medium leading-normal cursor-pointer",onClick:()=>a("/"),children:"Home"}),e.jsx("a",{className:`text-[#0d151c] text-sm font-medium leading-normal cursor-pointer ${s.patient?"":"hidden"}`,onClick:()=>a("/main"),children:"Patients"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("button",{className:"flex max-w-[480px] cursor-pointer items-center justify-center overflow-hidden rounded-xl h-10 bg-[#e7eef4] text-[#0d151c] gap-2 text-sm font-bold leading-normal tracking-[0.015em] min-w-0 px-2.5",children:e.jsx("div",{className:"text-[#0d151c]","data-icon":"MagnifyingGlass","data-size":"20px","data-weight":"regular",children:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20px",height:"20px",fill:"currentColor",viewBox:"0 0 256 256",children:e.jsx("path",{d:"M229.66,218.34l-50.07-50.06a88.11,88.11,0,1,0-11.31,11.31l50.06,50.07a8,8,0,0,0,11.32-11.32ZM40,112a72,72,0,1,1,72,72A72.08,72.08,0,0,1,40,112Z"})})})}),e.jsx("button",{className:"flex max-w-[480px] cursor-pointer items-center justify-center overflow-hidden rounded-xl h-10 bg-[#e7eef4] text-[#0d151c] gap-2 text-sm font-bold leading-normal tracking-[0.015em] min-w-0 px-2.5",children:e.jsx("div",{className:"text-[#0d151c]","data-icon":"ChatCircleDots","data-size":"20px","data-weight":"regular",children:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20px",height:"20px",fill:"currentColor",viewBox:"0 0 256 256",children:e.jsx("path",{d:"M140,128a12,12,0,1,1-12-12A12,12,0,0,1,140,128ZM84,116a12,12,0,1,0,12,12A12,12,0,0,0,84,116Zm88,0a12,12,0,1,0,12,12A12,12,0,0,0,172,116Zm60,12A104,104,0,0,1,79.12,219.82L45.07,231.17a16,16,0,0,1-20.24-20.24l11.35-34.05A104,104,0,1,1,232,128Zm-16,0A88,88,0,1,0,51.81,172.06a8,8,0,0,1,.66,6.54L40,216,77.4,203.53a7.85,7.85,0,0,1,2.53-.42,8,8,0,0,1,4,1.08A88,88,0,0,0,216,128Z"})})})}),e.jsx("button",{className:"flex max-w-[480px] cursor-pointer items-center justify-center overflow-hidden rounded-xl h-10 bg-[#e7eef4] text-[#0d151c] gap-2 text-sm font-bold leading-normal tracking-[0.015em] min-w-0 px-2.5",children:e.jsx("div",{className:"text-[#0d151c]","data-icon":"Bell","data-size":"20px","data-weight":"regular",children:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20px",height:"20px",fill:"currentColor",viewBox:"0 0 256 256",children:e.jsx("path",{d:"M221.8,175.94C216.25,166.38,208,139.33,208,104a80,80,0,1,0-160,0c0,35.34-8.26,62.38-13.81,71.94A16,16,0,0,0,48,200H88.81a40,40,0,0,0,78.38,0H208a16,16,0,0,0,13.8-24.06ZM128,216a24,24,0,0,1-22.62-16h45.24A24,24,0,0,1,128,216ZM48,184c7.7-13.24,16-43.92,16-80a64,64,0,1,1,128,0c0,36.05,8.28,66.73,16,80Z"})})})})]}),e.jsx("div",{className:"flex items-center justify-center gap-2",children:e.jsx("div",{className:"text-[#0d151c] font-medium text-sm leading-normal",children:s.isDoctor?"Doctor":"Care taker"})}),e.jsx("div",{className:"bg-center bg-no-repeat aspect-square bg-cover rounded-full size-10",style:{backgroundImage:'url("https://cdn.usegalileo.ai/stability/62891830-57f4-4b6d-ab96-97aa59242b87.png")'}})]})]})};function Ze(){const[s,a]=t.useState(""),h=T(),[n,i]=t.useState({firstName:"",lastName:"",dateOfBirth:"",gender:"",bloodGroup:"",phoneNumber:"",chronics:[]}),d=c=>{const{name:v,value:u}=c.target;i(f=>({...f,[v]:u}))},N=()=>{s.trim()!==""&&(i(c=>({...c,chronics:[...c.chronics,s.trim()]})),a(""))},x=c=>{i(v=>({...v,chronics:v.chronics.filter((u,f)=>f!==c)}))},j=async c=>{c.preventDefault(),console.log("Form submitted:",n);const v={...n,dateOfBirth:n.dateOfBirth?new Date(n.dateOfBirth).toISOString():null},u=await M.post("http://localhost:5173/en/setPatient",v);console.log(u.data.data),i({firstName:"",lastName:"",dateOfBirth:null,gender:"",bloodGroup:"",phoneNumber:"",chronics:[]}),alert("Form data submitted successfully!"),h(-1)};return e.jsxs("div",{className:"flex flex-col min-h-screen bg-gray-100",children:[e.jsx(re,{}),e.jsx("div",{className:"flex-grow flex items-center justify-center px-4 py-12",children:e.jsx("div",{className:"w-full max-w-4xl bg-white shadow-2xl rounded-3xl overflow-hidden",children:e.jsxs("div",{className:"md:flex",children:[e.jsx("div",{className:"md:flex-shrink-0 bg-blue-600 md:w-48 flex items-center justify-center",children:e.jsx("svg",{className:"h-20 w-20 text-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-3 7h3m-3 4h3m-6-4h.01M9 16h.01"})})}),e.jsxs("div",{className:"p-8 md:flex-grow",children:[e.jsx("h2",{className:"text-3xl font-bold text-gray-800 mb-2",children:"Add a New Patient"}),e.jsx("p",{className:"text-gray-600 mb-8",children:"Please enter the patient's details below"}),e.jsxs("form",{onSubmit:j,className:"space-y-6",children:[e.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"First Name"}),e.jsx("input",{required:!0,type:"text",name:"firstName",value:n.firstName,onChange:d,className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm",placeholder:"First name"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Last Name"}),e.jsx("input",{type:"text",name:"lastName",value:n.lastName,onChange:d,className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm",placeholder:"Last name"})]})]}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Date of Birth"}),e.jsx("input",{type:"date",name:"dateOfBirth",value:n.dateOfBirth,onChange:d,className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Gender"}),e.jsxs("select",{name:"gender",value:n.gender,onChange:d,className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm",children:[e.jsx("option",{value:"",children:"Select gender"}),e.jsx("option",{value:"male",children:"Male"}),e.jsx("option",{value:"female",children:"Female"}),e.jsx("option",{value:"other",children:"Other"})]})]})]}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Blood Group"}),e.jsx("input",{type:"text",name:"bloodGroup",value:n.bloodGroup,onChange:d,className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm",placeholder:"Blood group"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Phone Number"}),e.jsx("input",{type:"tel",name:"phoneNumber",value:n.phoneNumber,onChange:d,className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm",placeholder:"Phone number"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Current Chronic Conditions"}),e.jsxs("div",{className:"mt-1 flex rounded-md shadow-sm",children:[e.jsx("input",{type:"text",value:s,onChange:c=>a(c.target.value),className:"flex-1 min-w-0 block w-full px-3 py-2 rounded-none rounded-l-md focus:ring-blue-500 focus:border-blue-500 sm:text-sm border-gray-300",placeholder:"Enter a chronic condition"}),e.jsx("button",{type:"button",onClick:N,className:"inline-flex items-center px-3 rounded-r-md border border-l-0 border-gray-300 bg-gray-50 text-gray-500 text-sm",children:"Add"})]}),e.jsx("div",{className:"mt-2 space-y-2",children:n.chronics.map((c,v)=>e.jsxs("div",{className:"flex items-center justify-between bg-gray-100 p-2 rounded",children:[e.jsx("span",{children:c}),e.jsx("button",{type:"button",onClick:()=>x(v),className:"text-red-500 hover:text-red-700",children:"Remove"})]},v))})]}),e.jsxs("div",{className:"flex justify-end space-x-4",children:[e.jsx("button",{type:"button",className:"px-4 py-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:"Cancel"}),e.jsx("button",{type:"submit",className:"px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:"Create Patient"})]})]})]})]})})})]})}function de(...s){return s.filter(Boolean).join(" ")}function Ee(s){function a(){s.setEditPatients(!s.editPatients),s.setDeletePatients(!1),console.log("edit d",s.editPatients),console.log("delete d",s.deletePatients)}function h(){s.setDeletePatients(!s.deletePatients),s.setEditPatients(!1),console.log("edit d",s.editPatients),console.log("delete d",s.deletePatients)}const n=T();return e.jsxs(pe,{as:"div",className:"relative inline-block text-left",children:[e.jsx("div",{children:e.jsxs(ge,{className:"inline-flex w-full justify-center gap-x-1.5 rounded-md bg-white px-3 py-2 text-sm font-semibold text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 hover:bg-gray-50",children:["Manage patients",e.jsx(je,{className:"-mr-1 h-5 w-5 text-gray-400","aria-hidden":"true"})]})}),e.jsx(be,{transition:!0,className:"absolute right-0 z-10 mt-2 w-56 origin-top-right rounded-md bg-white shadow-lg ring-1 ring-black ring-opacity-5 transition focus:outline-none data-[closed]:scale-95 data-[closed]:transform data-[closed]:opacity-0 data-[enter]:duration-100 data-[leave]:duration-75 data-[enter]:ease-out data-[leave]:ease-in",children:e.jsxs("div",{className:"py-1",children:[e.jsx(ce,{children:({focus:i})=>e.jsx("a",{onClick:()=>n("/form"),className:de(i?"bg-gray-100 text-gray-900":"text-gray-700","block px-4 py-2 text-sm"),children:"Add Patient"})}),e.jsx(ce,{children:({focus:i})=>e.jsx("a",{onClick:a,className:de(i?"bg-gray-100 text-gray-900":"text-gray-700","block px-4 py-2 text-sm"),children:"Edit Patient"})}),e.jsx(ce,{children:({focus:i})=>e.jsx("a",{onClick:h,className:de(i?"bg-gray-100 text-gray-900":"text-gray-700","block px-4 py-2 text-sm"),children:"Remove Patient"})})]})})]})}function Oe(s){const[a,h]=t.useState(!1),[n,i]=t.useState(!1),d=T(),[N,x]=t.useState([]),[j,c]=t.useState([]),[v,u]=t.useState(s.isDoctor),[f,r]=t.useState(!0),[b,P]=t.useState(!0),[y,C]=t.useState([]),[k,V]=t.useState(""),[E,g]=t.useState(!1),[D,A]=t.useState([]),L=l=>{const p=new Date,z=new Date(l);let G=p.getFullYear()-z.getFullYear();const Y=p.getMonth()-z.getMonth();return(Y<0||Y===0&&p.getDate()<z.getDate())&&G--,G};async function F(){const l=await M.get("http://localhost:5173/en/getpatients");x(l.data),s.setNoofPatients(l.data.length)}async function q(){const l=await M.get("http://localhost:5173/en/getreports");c(l.data)}async function H(){const l=N.map(p=>({_id:p._id,name:p.name}));C(l)}t.useEffect(()=>{if(k){const l=y.filter(p=>p.name&&p.name.toLowerCase().includes(k.toLowerCase())||p.specialistReq&&p.specialistReq.toLowerCase().includes(k.toLowerCase()));A(l),g(l.length>0)}else g(!1)},[k,y]);const U=l=>{(l.name||l.specialistReq)&&X(l._id)(),V(""),g(!1)};t.useEffect(()=>{async function l(){await F(),await q()}l()},[]),t.useEffect(()=>{N.length>0&&j.length>0&&H()},[N,j]);function J(l){const p=new Date(l),z=String(p.getDate()).padStart(2,"0"),G=String(p.getMonth()+1).padStart(2,"0"),Y=p.getFullYear();return`${z}/${G}/${Y}`}const ee=(l,p)=>async()=>{try{const z=await M.get(`http://localhost:5173/en/getpatient/${p}`);s.isDoctor?d("/doctoranalysis",{state:{id:l,pid:p,isDoctor:s.isDoctor,patientData:z.data}}):d("/caretakeranalysis",{state:{id:l,pid:p,isDoctor:s.isDoctor,patientData:z.data}})}catch(z){console.error("Error in handlePatient:",z)}},X=l=>async()=>{try{console.log(l);const p=await M.get(`http://localhost:5173/en/getpatient/${l}`);if(console.log("editPatients",a),console.log("deletePatients",n),!a&&!n)try{d("/patient",{state:{id:l}})}catch(z){console.log(z)}else a&&!n&&d("/edit",{state:{patientData:p.data}})}catch(p){Console.log("hiioiiii"),console.error("Error in handlePatient:",p)}},te=b?j.filter(l=>l.isVerified):j.filter(l=>!l.isVerified);return j&&N&&y&&e.jsxs("div",{className:"layout-content-container flex flex-col max-w-[920px] flex-1 bg-[#f8fafb]",children:[e.jsx("div",{className:"flex flex-wrap justify-between gap-3 p-4",children:e.jsxs("div",{className:"flex flex-col w-full",children:[e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsxs("div",{className:"flex space-x-4",children:[e.jsx("button",{onClick:()=>r(!0),className:`text-lg font-semibold px-4 py-2 focus:outline-none transition-all duration-300 ${f?"text-[#0e141b] border-b-2 border-[#0e141b]":"text-[#4f7396] hover:text-[#0e141b]"}`,children:"Patients"}),e.jsx("button",{onClick:()=>r(!1),className:`text-lg font-semibold px-4 py-2 focus:outline-none transition-all duration-300 ${f?"text-[#4f7396] hover:text-[#0e141b]":"text-[#0e141b] border-b-2 border-[#0e141b]"}`,children:"Reports"})]}),e.jsxs("div",{className:"flex items-center space-x-4",children:[!f&&e.jsx("button",{onClick:()=>P(!b),className:"px-4 py-2 bg-[#e8edf3] text-[#4f7396] rounded-md transition-all duration-300 hover:bg-[#d1d8e0] focus:outline-none focus:ring-2 focus:ring-[#4f7396] focus:ring-opacity-50",children:b?"Show Unverified":"Show Verified"}),e.jsx("div",{className:`${v?"hidden":"flex"}`,children:e.jsx(Ee,{editPatients:a,setEditPatients:h,deletePatients:n,setDeletePatients:i})})]})]}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{placeholder:f?"Search patients":"Search reports",className:"w-full px-4 py-2 pl-10 pr-4 text-[#0e141b] bg-[#e8edf3] border border-[#e8edf3] rounded-xl focus:outline-none focus:ring-2 focus:ring-[#4f7396] focus:border-transparent",value:k,onChange:l=>V(l.target.value)}),e.jsx("div",{className:"absolute inset-y-0 left-0 flex items-center pl-3",children:e.jsx("svg",{className:"w-5 h-5 text-[#4f7396]",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})}),E&&e.jsx("div",{className:"absolute z-10 w-full mt-1 bg-white border border-gray-300 rounded-md shadow-lg",children:D.map((l,p)=>e.jsx("div",{className:"px-4 py-2 cursor-pointer hover:bg-gray-100",onClick:()=>U(l),children:l.name?l.name:l.specialistReq},p))})]})]})}),e.jsx("div",{className:"flex-grow p-4",children:f?N.map((l,p)=>e.jsxs("div",{className:"flex items-center gap-4 bg-[#f8fafb] px-4 min-h-[72px] py-2 mb-3 transition-all duration-300 ease-in-out hover:bg-[#e8edf3] cursor-pointer rounded-xl",onClick:X(l._id),children:[e.jsx("div",{className:"bg-[#e8edf3] text-[#4f7396] font-bold rounded-full h-14 w-14 flex items-center justify-center",children:l.name.charAt(0).toUpperCase()}),e.jsxs("div",{className:"flex flex-col justify-center flex-grow",children:[e.jsx("p",{className:"text-[#0e141b] text-base font-medium leading-normal line-clamp-1",children:l.name}),e.jsxs("p",{className:"text-[#4f7396] text-sm font-normal leading-normal line-clamp-2",children:["Age: ",L(l.DOB),", Gender: ",l.gender]})]}),e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:`w-6 h-6 text-[#4f7396] ${a?"block":"hidden"} `,children:[e.jsx("path",{d:"M21.731 2.269a2.625 2.625 0 0 0-3.712 0l-1.157 1.157 3.712 3.712 1.157-1.157a2.625 2.625 0 0 0 0-3.712ZM19.513 8.199l-3.712-3.712-8.4 8.4a5.25 5.25 0 0 0-1.32 2.214l-.8 2.685a.75.75 0 0 0 .933.933l2.685-.8a5.25 5.25 0 0 0 2.214-1.32l8.4-8.4Z"}),e.jsx("path",{d:"M5.25 5.25a3 3 0 0 0-3 3v10.5a3 3 0 0 0 3 3h10.5a3 3 0 0 0 3-3V13.5a.75.75 0 0 0-1.5 0v5.25a1.5 1.5 0 0 1-1.5 1.5H5.25a1.5 1.5 0 0 1-1.5-1.5V8.25a1.5 1.5 0 0 1 1.5-1.5h5.25a.75.75 0 0 0 0-1.5H5.25Z"})]}),e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"currentColor",className:`w-6 h-6 text-[#4f7396] ${n?"block":"hidden"}`,children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m14.74 9-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 0 1-2.244 2.077H8.084a2.25 2.25 0 0 1-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 0 0-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 0 1 3.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 0 0-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 0 0-7.5 0"})})]},p)):te.map((l,p)=>e.jsxs("div",{className:"flex items-center gap-4 bg-[#f8fafb] px-4 min-h-[72px] py-2 mb-3 transition-all duration-300 ease-in-out hover:bg-[#e8edf3] cursor-pointer rounded-xl",onClick:ee(l._id,l.patientId),children:[e.jsx("div",{className:"bg-[#e8edf3] text-[#4f7396] font-bold rounded-full h-14 w-14 flex items-center justify-center",children:"R"}),e.jsxs("div",{className:"flex flex-col justify-center flex-grow",children:[e.jsx("p",{className:"text-[#0e141b] text-base font-medium leading-normal line-clamp-1",children:l.specialistReq}),e.jsxs("p",{className:"text-[#4f7396] text-sm font-normal leading-normal line-clamp-2",children:["Patient: ",l.patient,", Date: ",J(l.dateOfReport)]})]}),e.jsx("span",{className:`px-2 py-1 rounded-full text-xs ${l.isVerified?"bg-green-200 text-green-800":"bg-yellow-200 text-yellow-800"}`,children:l.isVerified?"Verified":"Unverified"})]},p))})]})}function Ie(s){return e.jsxs("div",{className:"layout-content-container flex flex-col w-[360px]",children:[e.jsx("h3",{className:"text-[#0e141b] text-lg font-bold leading-tight tracking-[-0.015em] px-4 pb-2 pt-4",children:"Analytics"}),e.jsxs("div",{className:"flex flex-wrap gap-4 p-4",children:[e.jsxs("div",{className:"flex min-w-[158px] flex-1 flex-col gap-2 rounded-xl p-6 border border-[#d0dbe6]",children:[e.jsx("p",{className:"text-[#0e141b] text-base font-medium leading-normal",children:"Total Patients"}),e.jsx("p",{className:"text-[#0e141b] tracking-light text-2xl font-bold leading-tight",children:s.noofPatients}),e.jsx("p",{className:"text-[#078838] text-base font-medium leading-normal",children:"+5%"})]}),e.jsxs("div",{className:"flex min-w-[158px] flex-1 flex-col gap-2 rounded-xl p-6 border border-[#d0dbe6]",children:[e.jsx("p",{className:"text-[#0e141b] text-base font-medium leading-normal",children:"Average Age"}),e.jsx("p",{className:"text-[#0e141b] tracking-light text-2xl font-bold leading-tight",children:"44"}),e.jsx("p",{className:"text-[#e73908] text-base font-medium leading-normal",children:"-2%"})]})]})]})}const he=()=>{const[s,a]=t.useState([]),[h,n]=t.useState(""),[i,d]=t.useState(!1),[N,x]=t.useState(!1),j=t.useRef(null),c=()=>{var f;(f=j.current)==null||f.scrollIntoView({behavior:"smooth"})};t.useEffect(c,[s]);const v=async f=>{if(f.preventDefault(),!h.trim())return;const r={text:h,sender:"user"};a(y=>[...y,r]),n(""),d(!0),await new Promise(y=>setTimeout(y,1e3));const b=await M.post("http://localhost:5173/en/chatbot",{input:h});console.log(b.data);let P;P={text:b.data,sender:"bot"},a(y=>[...y,P]),d(!1)},u=()=>{x(!N)};return e.jsx(e.Fragment,{children:N?e.jsxs("div",{className:"fixed bottom-4 right-4 flex flex-col h-[500px] w-[350px] border border-gray-300 rounded-lg overflow-hidden shadow-lg bg-white",children:[e.jsxs("div",{className:"bg-[#e8edf3] text-black p-4 font-bold flex justify-between items-center",children:[e.jsx("span",{children:"Medical Chatbot"}),e.jsx("button",{onClick:u,className:"text-black hover:text-gray-950 focus:outline-none",children:e.jsx(we,{size:20})})]}),e.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-4",children:[s.map((f,r)=>e.jsx("div",{className:`flex ${f.sender==="user"?"justify-end":"justify-start"}`,children:e.jsx("div",{className:`max-w-[70%] p-3 rounded-lg ${f.sender==="user"?"bg-blue-500 text-white":"bg-gray-200 text-gray-800"}`,children:f.text})},r)),e.jsx("div",{ref:j})]}),e.jsxs("form",{onSubmit:v,className:"p-4 border-t border-gray-300 flex",children:[e.jsx("input",{type:"text",value:h,onChange:f=>n(f.target.value),placeholder:"Type your medical query...",className:"flex-1 p-2 border border-gray-300 rounded-l-md focus:outline-none focus:border-blue-500"}),e.jsx("button",{type:"submit",className:"bg-blue-600 text-white p-2 rounded-r-md hover:bg-blue-700 focus:outline-none",disabled:i,children:i?e.jsx(ve,{className:"animate-spin"}):e.jsx(ye,{})})]})]}):e.jsx("button",{onClick:u,className:"fixed bottom-4 right-4 bg-blue-600 text-white p-4 rounded-full shadow-lg hover:bg-blue-700 focus:outline-none",children:e.jsx(Ne,{size:24})})})};function $e(s){const[a,h]=t.useState(0);return T(),e.jsxs("div",{className:"relative flex size-full min-h-screen flex-col bg-[#f8fafb] group/design-root overflow-x-hidden",style:{fontFamily:'Inter, "Noto Sans", sans-serif'},children:[e.jsxs("div",{className:"layout-container flex h-full grow flex-col",children:[e.jsx(re,{isDoctor:s.isDoctor}),e.jsxs("div",{className:"gap-1 px-6 flex flex-1 justify-center py-5",children:[e.jsx(Oe,{isDoctor:s.isDoctor,setNoofPatients:h,noofPatients:a}),e.jsx(Ie,{noofPatients:a})]})]}),e.jsx(he,{})]})}const Te=()=>{const s=t.useRef(null),a=()=>{s.current.scrollIntoView({behavior:"smooth"})};let h=T();return e.jsx("div",{className:"relative flex size-full min-h-screen flex-col bg-[#F9FAFA] group/design-root overflow-x-hidden",style:{fontFamily:'Epilogue, "Noto Sans", sans-serif'},children:e.jsxs("div",{className:"layout-container flex h-full grow flex-col",children:[e.jsxs("header",{className:"flex items-center justify-between whitespace-nowrap border-b border-solid border-b-[#EEEFF2] px-10 py-3",children:[e.jsxs("div",{className:"flex items-center gap-4 text-[#1C1D22]",children:[e.jsx("div",{className:"size-4",children:e.jsxs("svg",{viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[e.jsxs("g",{clipPath:"url(#clip0_6_543)",children:[e.jsx("path",{d:"M42.1739 20.1739L27.8261 5.82609C29.1366 7.13663 28.3989 10.1876 26.2002 13.7654C24.8538 15.9564 22.9595 18.3449 20.6522 20.6522C18.3449 22.9595 15.9564 24.8538 13.7654 26.2002C10.1876 28.3989 7.13663 29.1366 5.82609 27.8261L20.1739 42.1739C21.4845 43.4845 24.5355 42.7467 28.1133 40.548C30.3042 39.2016 32.6927 37.3073 35 35C37.3073 32.6927 39.2016 30.3042 40.548 28.1133C42.7467 24.5355 43.4845 21.4845 42.1739 20.1739Z",fill:"currentColor"}),e.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M7.24189 26.4066C7.31369 26.4411 7.64204 26.5637 8.52504 26.3738C9.59462 26.1438 11.0343 25.5311 12.7183 24.4963C14.7583 23.2426 17.0256 21.4503 19.238 19.238C21.4503 17.0256 23.2426 14.7583 24.4963 12.7183C25.5311 11.0343 26.1438 9.59463 26.3738 8.52504C26.5637 7.64204 26.4411 7.31369 26.4066 7.24189C26.345 7.21246 26.143 7.14535 25.6664 7.1918C24.9745 7.25925 23.9954 7.5498 22.7699 8.14278C20.3369 9.32007 17.3369 11.4915 14.4142 14.4142C11.4915 17.3369 9.32007 20.3369 8.14278 22.7699C7.5498 23.9954 7.25925 24.9745 7.1918 25.6664C7.14534 26.143 7.21246 26.345 7.24189 26.4066ZM29.9001 10.7285C29.4519 12.0322 28.7617 13.4172 27.9042 14.8126C26.465 17.1544 24.4686 19.6641 22.0664 22.0664C19.6641 24.4686 17.1544 26.465 14.8126 27.9042C13.4172 28.7617 12.0322 29.4519 10.7285 29.9001L21.5754 40.747C21.6001 40.7606 21.8995 40.931 22.8729 40.7217C23.9424 40.4916 25.3821 39.879 27.0661 38.8441C29.1062 37.5904 31.3734 35.7982 33.5858 33.5858C35.7982 31.3734 37.5904 29.1062 38.8441 27.0661C39.879 25.3821 40.4916 23.9425 40.7216 22.8729C40.931 21.8995 40.7606 21.6001 40.747 21.5754L29.9001 10.7285ZM29.2403 4.41187L43.5881 18.7597C44.9757 20.1473 44.9743 22.1235 44.6322 23.7139C44.2714 25.3919 43.4158 27.2666 42.252 29.1604C40.8128 31.5022 38.8165 34.012 36.4142 36.4142C34.012 38.8165 31.5022 40.8128 29.1604 42.252C27.2666 43.4158 25.3919 44.2714 23.7139 44.6322C22.1235 44.9743 20.1473 44.9757 18.7597 43.5881L4.41187 29.2403C3.29027 28.1187 3.08209 26.5973 3.21067 25.2783C3.34099 23.9415 3.8369 22.4852 4.54214 21.0277C5.96129 18.0948 8.43335 14.7382 11.5858 11.5858C14.7382 8.43335 18.0948 5.9613 21.0277 4.54214C22.4852 3.8369 23.9415 3.34099 25.2783 3.21067C26.5973 3.08209 28.1187 3.29028 29.2403 4.41187Z",fill:"currentColor"})]}),e.jsx("defs",{children:e.jsx("clipPath",{id:"clip0_6_543",children:e.jsx("rect",{width:"48",height:"48",fill:"white"})})})]})}),e.jsx("h2",{className:"text-[#1C1D22] text-lg font-bold leading-tight tracking-[-0.015em]",children:"Saanjh Sahayak"})]}),e.jsxs("div",{className:"flex flex-1 justify-end gap-8",children:[e.jsx("div",{className:"flex items-center gap-9",children:e.jsx("a",{className:"text-[#1C1D22] text-sm font-medium leading-normal cursor-pointer",onClick:a,children:"Features"})}),e.jsx("div",{className:"flex gap-2",children:e.jsx("button",{className:"flex min-w-[84px] max-w-[480px] cursor-pointer items-center justify-center overflow-hidden rounded-full h-10 px-4 bg-[#607AFB] text-[#F9FAFA] text-sm font-bold leading-normal tracking-[0.015em]",onClick:()=>h("/signin"),children:e.jsx("span",{className:"truncate",children:"Login"})})})]})]}),e.jsx("div",{className:"px-40 flex flex-1 justify-center py-5",children:e.jsxs("div",{className:"layout-content-container flex flex-col max-w-[960px] flex-1",children:[e.jsx("div",{className:"@container",children:e.jsx("div",{className:"@[480px]:p-4",children:e.jsxs("div",{className:"flex min-h-[480px] flex-col gap-6 bg-cover bg-center bg-no-repeat @[480px]:gap-8 @[480px]:rounded-xl items-start justify-end px-4 pb-10 @[480px]:px-10",style:{backgroundImage:'linear-gradient(rgba(0, 0, 0, 0.1) 0%, rgba(0, 0, 0, 0.4) 100%), url("https://cdn.usegalileo.ai/sdxl10/d0342d60-6ca8-4000-abde-e44f0d824c83.png")'},children:[e.jsxs("div",{className:"flex flex-col gap-2 text-left",children:[e.jsx("h1",{className:"text-white text-4xl font-black leading-tight tracking-[-0.033em] @[480px]:text-5xl @[480px]:font-black @[480px]:leading-tight @[480px]:tracking-[-0.033em]",children:"Saanjh Sahayak, better care for our elders"}),e.jsx("h2",{className:"text-white text-sm font-normal leading-normal @[480px]:text-base @[480px]:font-normal @[480px]:leading-normal",children:"We are here to provide comprehensive and compassionate care to the elderly in old age homes."})]}),e.jsx("label",{className:"flex flex-col min-w-40 h-14 w-full max-w-[480px] @[480px]:h-16"})]})})}),e.jsxs("div",{className:"flex flex-col gap-10 px-4 py-10 @container",ref:s,children:[e.jsx("h1",{className:"text-[#1C1D22] tracking-light text-[32px] font-bold leading-tight @[480px]:text-4xl @[480px]:font-black @[480px]:leading-tight @[480px]:tracking-[-0.033em] max-w-[720px]",children:"For Caretakers"}),e.jsxs("div",{className:"grid grid-cols-[repeat(auto-fit,minmax(158px,1fr))] gap-3 p-0",children:[e.jsxs("div",{className:"flex flex-1 gap-3 rounded-lg border border-[#D5D6DD] bg-[#FFFFFF] p-4 flex-col",children:[e.jsx("div",{className:"text-[#1C1D22]","data-icon":"FirstAid","data-size":"24px","data-weight":"regular",children:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24px",height:"24px",fill:"currentColor",viewBox:"0 0 256 256",children:e.jsx("path",{d:"M216,88H168V40a16,16,0,0,0-16-16H104A16,16,0,0,0,88,40V88H40a16,16,0,0,0-16,16v48a16,16,0,0,0,16,16H88v48a16,16,0,0,0,16,16h48a16,16,0,0,0,16-16V168h48a16,16,0,0,0,16-16V104A16,16,0,0,0,216,88Zm0,64H160a8,8,0,0,0-8,8v56H104V160a8,8,0,0,0-8-8H40V104H96a8,8,0,0,0,8-8V40h48V96a8,8,0,0,0,8,8h56Z"})})}),e.jsxs("div",{className:"flex flex-col gap-1",children:[e.jsx("h2",{className:"text-[#1C1D22] text-base font-bold leading-tight",children:"Upload and Monitor Patient Reports"}),e.jsx("p",{className:"text-[#3C3F4A] text-sm font-normal leading-normal",children:"Easily upload and monitor patient reports. Our system is designed to handle a variety of formats, ensuring a seamless experience."})]})]}),e.jsxs("div",{className:"flex flex-1 gap-3 rounded-lg border border-[#D5D6DD] bg-[#FFFFFF] p-4 flex-col",children:[e.jsx("div",{className:"text-[#1C1D22]","data-icon":"Notification","data-size":"24px","data-weight":"regular",children:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24px",height:"24px",fill:"currentColor",viewBox:"0 0 256 256",children:e.jsx("path",{d:"M216,128v80a16,16,0,0,1-16,16H48a16,16,0,0,1-16-16V56A16,16,0,0,1,48,40h80a8,8,0,0,1,0,16H48V208H200V128a8,8,0,0,1,16,0Zm16-68a36,36,0,1,1-36-36A36,36,0,0,1,232,60Zm-16,0a20,20,0,1,0-20,20A20,20,0,0,0,216,60Z"})})}),e.jsxs("div",{className:"flex flex-col gap-1",children:[e.jsx("h2",{className:"text-[#1C1D22] text-base font-bold leading-tight",children:"Receive Alerts and Reminders"}),e.jsx("p",{className:"text-[#3C3F4A] text-sm font-normal leading-normal",children:"Get instant alerts and reminders for medication, doctor's appointments, and more. Stay on top of your loved one's care."})]})]})]})]}),e.jsxs("div",{className:"flex flex-col gap-10 px-4 py-10 @container",children:[e.jsx("h1",{className:"text-[#1C1D22] tracking-light text-[32px] font-bold leading-tight @[480px]:text-4xl @[480px]:font-black @[480px]:leading-tight @[480px]:tracking-[-0.033em] max-w-[720px]",children:"For Doctors"}),e.jsxs("div",{className:"grid grid-cols-[repeat(auto-fit,minmax(158px,1fr))] gap-3 p-0",children:[e.jsxs("div",{className:"flex flex-1 gap-3 rounded-lg border border-[#D5D6DD] bg-[#FFFFFF] p-4 flex-col",children:[e.jsx("div",{className:"text-[#1C1D22]","data-icon":"FirstAid","data-size":"24px","data-weight":"regular",children:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24px",height:"24px",fill:"currentColor",viewBox:"0 0 256 256",children:e.jsx("path",{d:"M216,88H168V40a16,16,0,0,0-16-16H104A16,16,0,0,0,88,40V88H40a16,16,0,0,0-16,16v48a16,16,0,0,0,16,16H88v48a16,16,0,0,0,16,16h48a16,16,0,0,0,16-16V168h48a16,16,0,0,0,16-16V104A16,16,0,0,0,216,88Zm0,64H160a8,8,0,0,0-8,8v56H104V160a8,8,0,0,0-8-8H40V104H96a8,8,0,0,0,8-8V40h48V96a8,8,0,0,0,8,8h56Z"})})}),e.jsxs("div",{className:"flex flex-col gap-1",children:[e.jsx("h2",{className:"text-[#1C1D22] text-base font-bold leading-tight",children:"Verify Patient Information"}),e.jsx("p",{className:"text-[#3C3F4A] text-sm font-normal leading-normal",children:"Quickly and securely verify patient information. Our platform is designed to ensure compliance with privacy and data protection regulations."})]})]}),e.jsxs("div",{className:"flex flex-1 gap-3 rounded-lg border border-[#D5D6DD] bg-[#FFFFFF] p-4 flex-col",children:[e.jsx("div",{className:"text-[#1C1D22]","data-icon":"Translate","data-size":"24px","data-weight":"regular",children:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24px",height:"24px",fill:"currentColor",viewBox:"0 0 256 256",children:e.jsx("path",{d:"M239.15,212.42l-56-112a8,8,0,0,0-14.31,0l-21.71,43.43A88,88,0,0,1,100,126.93,103.65,103.65,0,0,0,127.69,64H152a8,8,0,0,0,0-16H96V32a8,8,0,0,0-16,0V48H24a8,8,0,0,0,0,16h87.63A87.76,87.76,0,0,1,88,116.35a87.74,87.74,0,0,1-19-31,8,8,0,1,0-15.08,5.34A103.63,103.63,0,0,0,76,127a87.55,87.55,0,0,1-52,17,8,8,0,0,0,0,16,103.46,103.46,0,0,0,64-22.08,104.18,104.18,0,0,0,51.44,21.31l-26.6,53.19a8,8,0,0,0,14.31,7.16L140.94,192h70.11l13.79,27.58A8,8,0,0,0,232,224a8,8,0,0,0,7.15-11.58ZM148.94,176,176,121.89,203.05,176Z"})})}),e.jsxs("div",{className:"flex flex-col gap-1",children:[e.jsx("h2",{className:"text-[#1C1D22] text-base font-bold leading-tight",children:"Analyze with Large Language Model"}),e.jsx("p",{className:"text-[#3C3F4A] text-sm font-normal leading-normal",children:"Utilize our powerful Large Language Model for in-depth patient analysis. Get insights and recommendations based on the latest medical research."})]})]})]})]}),e.jsxs("div",{className:"grid grid-cols-[repeat(auto-fit,minmax(158px,1fr))] gap-3 p-4",children:[e.jsxs("div",{className:"flex flex-col gap-3 pb-3",children:[e.jsx("div",{className:"w-full bg-center bg-no-repeat aspect-video bg-cover rounded-xl",style:{backgroundImage:'url("https://cdn.usegalileo.ai/stability/fb823941-87a6-47fb-998f-c8224ea8c6db.png")'}}),e.jsxs("div",{children:[e.jsx("p",{className:"text-[#1C1D22] text-base font-medium leading-normal",children:"Get help from experts"}),e.jsx("p",{className:"text-[#3C3F4A] text-sm font-normal leading-normal",children:"Our team of geriatricians and nurse practitioners are here to help."})]})]}),e.jsxs("div",{className:"flex flex-col gap-3 pb-3",children:[e.jsx("div",{className:"w-full bg-center bg-no-repeat aspect-video bg-cover rounded-xl",style:{backgroundImage:'url("https://cdn.usegalileo.ai/stability/b543c2c9-c73f-4636-8737-59e6d3f7a20e.png")'}}),e.jsxs("div",{children:[e.jsx("p",{className:"text-[#1C1D22] text-base font-medium leading-normal",children:"Stay connected"}),e.jsx("p",{className:"text-[#3C3F4A] text-sm font-normal leading-normal",children:"Easily communicate with our team via video calls, phone calls, or chat."})]})]}),e.jsxs("div",{className:"flex flex-col gap-3 pb-3",children:[e.jsx("div",{className:"w-full bg-center bg-no-repeat aspect-video bg-cover rounded-xl",style:{backgroundImage:'url("https://cdn.usegalileo.ai/sdxl10/8329d0d0-4083-4c19-89c0-de0625991c40.png")'}}),e.jsxs("div",{children:[e.jsx("p",{className:"text-[#1C1D22] text-base font-medium leading-normal",children:"Get reminders"}),e.jsx("p",{className:"text-[#3C3F4A] text-sm font-normal leading-normal",children:"Set up medication reminders and get alerts when it's time to take a dose."})]})]})]})]})})]})})},Ue=s=>s.isOpen?e.jsx($.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50 backdrop-blur-sm",children:e.jsxs($.div,{initial:{scale:.9,y:20},animate:{scale:1,y:0},className:"bg-white rounded-lg shadow-2xl p-8 w-96 max-w-full",children:[e.jsx($.div,{animate:{rotate:360},transition:{duration:2,repeat:1/0,ease:"linear"},className:"w-20 h-20 mx-auto mb-6",children:e.jsx(Ce,{className:"w-full h-full text-blue-500"})}),e.jsx("h2",{className:"text-2xl font-bold text-center mb-4",children:"Processing PDF"}),e.jsx("p",{className:"text-gray-600 text-center mb-6",children:"Please wait while we analyze your test report PDF."}),e.jsxs("div",{className:"flex justify-around mb-6",children:[e.jsxs($.div,{whileHover:{scale:1.1},className:"flex flex-col items-center",children:[e.jsx(ke,{className:"w-8 h-8 text-blue-500 mb-2"}),e.jsx("span",{className:"text-sm",children:"Analyzing"})]}),e.jsxs($.div,{whileHover:{scale:1.1},className:"flex flex-col items-center",children:[e.jsx(De,{className:"w-8 h-8 text-yellow-500 mb-2"}),e.jsx("span",{className:"text-sm",children:"Precautions"})]}),e.jsxs($.div,{whileHover:{scale:1.1},className:"flex flex-col items-center",children:[e.jsx(Se,{className:"w-8 h-8 text-green-500 mb-2"}),e.jsx("span",{className:"text-sm",children:"Predictions"})]})]}),e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2.5 dark:bg-gray-700",children:e.jsx($.div,{className:"bg-blue-600 h-2.5 rounded-full",initial:{width:"0%"},animate:{width:"100%"},transition:{duration:3,repeat:1/0}})})]})}):null,fe=s=>{const a=()=>{s.setOpenResult(!1)};return e.jsx(Pe,{children:s.openResult&&e.jsx($.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50 backdrop-blur-sm",children:e.jsxs($.div,{initial:{scale:.9,y:20},animate:{scale:1,y:0},exit:{scale:.9,y:20},className:"bg-white rounded-lg shadow-2xl p-8 w-96 max-w-full",children:[e.jsx($.div,{initial:{scale:0},animate:{scale:1},transition:{type:"spring",stiffness:260,damping:20},className:"w-24 h-24 mx-auto mb-6",children:s.isValid?e.jsx(Fe,{className:"w-full h-full text-red-500"}):e.jsx(Ae,{className:"w-full h-full text-green-500"})}),e.jsx("h2",{className:"text-2xl font-bold text-center mb-4",children:s.isValid?"Invalid PDF":"Upload Successful!"}),e.jsx("p",{className:"text-gray-600 text-center mb-6",children:s.isValid?"The file you uploaded is not a valid PDF. Please try again with a valid PDF file.":"Your report has been successfully uploaded and processed."}),e.jsx("div",{className:"flex justify-center space-x-4",children:e.jsx($.button,{whileHover:{scale:1.05},whileTap:{scale:.95},className:"flex items-center px-4 py-2 bg-gray-300 text-gray-700 rounded-full shadow-lg hover:bg-gray-400 transition-colors duration-300",onClick:a,children:"Close"})})]})})})};function Ge(s){const[a,h]=t.useState(s.id),[n,i]=t.useState();t.useState(""),t.useState(null),t.useState(0),t.useState(null),t.useState(null),t.useState(null);const[d,N]=t.useState(null),[x,j]=t.useState(!1),[c,v]=t.useState(!1),[u,f]=t.useState(null),r=T();async function b(){console.log("patient id is : "+a);const g=await M.get(`http://localhost:5173/en/getpatient/${a}`);console.log(g.data),i(g.data)}async function P(){console.log("hi");const g=await M.get(`http://localhost:5173/en/getdates/${a}`);N(g.data)}t.useEffect(()=>{b(),P()},[a]);const y=g=>{const D=new Date,A=new Date(g);let L=D.getFullYear()-A.getFullYear();const F=D.getMonth()-A.getMonth();return(F<0||F===0&&D.getDate()<A.getDate())&&L--,L},C=()=>{r("/edit",{state:{patientData:n}})},k=async g=>{j(!0);const D=g.target.files[0];if(D){const A=new FileReader;A.onloadend=async()=>{const L=A.result.split(",")[1],F=g.target.value.replace("C:\\fakepath\\",""),q=await V(D);console.log("base64File",q);try{console.log("hi"),(await M.post("http://localhost:5173/en/uploadpdf",{file:L,filename:F,patientId:a,name:n.name,base64File:q})).data.data===!1?(j(!1),f(!0),v(!0)):(j(!1),f(!1),v(!0))}catch(H){console.log("Error uploading details:",H),j(!1),alert("File size too large or other issues.")}},A.readAsDataURL(D)}else console.log("No input file")},V=g=>new Promise((D,A)=>{const L=new FileReader;L.readAsDataURL(g),L.onload=()=>D(L.result),L.onerror=F=>A(F)}),E=async g=>{try{s.isDoctor?r("/doctoranalysis",{state:{id:g,pid:a,isDoctor:s.isDoctor,patientData:n}}):r("/caretakeranalysis",{state:{id:g,pid:a,isDoctor:s.isDoctor,patientData:n}})}catch{}};return n&&d&&e.jsxs("div",{className:"px-40 flex flex-1 justify-center py-5",children:[e.jsxs("div",{className:"layout-content-container flex flex-col max-w-[960px] flex-1",children:[e.jsxs("div",{className:"relative flex p-4 @container",children:[e.jsx("div",{className:`absolute top-2 right-2 ${s.isDoctor?"hidden":""}`,children:e.jsx("button",{className:"text-blue-500 hover:text-blue-700",onClick:C,children:e.jsx(Re,{size:20})})}),e.jsx("div",{className:"flex w-full flex-col gap-4 @[520px]:flex-row @[520px]:justify-between @[520px]:items-center",children:e.jsxs("div",{className:"flex gap-4 self-start",children:[e.jsx("div",{className:"bg-gray-200 rounded-full w-32 h-32 flex items-center justify-center",children:e.jsx(xe,{className:"text-gray-500 w-20 h-20"})}),e.jsxs("div",{className:"flex flex-col justify-center",children:[e.jsx("p",{className:"text-[#0d151c] text-[22px] font-bold leading-tight tracking-[-0.015em]",children:n.name}),e.jsxs("p",{className:"text-[#49779c] text-base font-normal leading-normal",children:["Age ",y(n.DOB),", ",n.gender,", Blood type: ",n.bloodGroup]})]})]})})]}),e.jsxs("div",{className:"flex gap-4 bg-slate-50 px-4 py-3",children:[e.jsx("div",{className:"text-[#0d151c] flex items-center justify-center rounded-lg bg-[#e7eef4] shrink-0 size-12","data-icon":"User","data-size":"24px","data-weight":"regular",children:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24px",height:"24px",fill:"currentColor",viewBox:"0 0 256 256",children:e.jsx("path",{d:"M230.92,212c-15.23-26.33-38.7-45.21-66.09-54.16a72,72,0,1,0-73.66,0C63.78,166.78,40.31,185.66,25.08,212a8,8,0,1,0,13.85,8c18.84-32.56,52.14-52,89.07-52s70.23,19.44,89.07,52a8,8,0,1,0,13.85-8ZM72,96a56,56,0,1,1,56,56A56.06,56.06,0,0,1,72,96Z"})})}),e.jsxs("div",{className:"flex flex-1 flex-col justify-center",children:[e.jsx("p",{className:"text-[#0d151c] text-base font-medium leading-normal",children:"Patient Information"}),e.jsxs("p",{className:"text-[#49779c] text-sm font-normal leading-normal",children:["Previous test reports: ",n.reportsList.length]}),e.jsxs("div",{className:"flex flex-col",children:[e.jsx("p",{className:"text-[#49779c] text-sm font-medium leading-normal mb-2",children:"Known health conditions:"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:n.chronics.map((g,D)=>e.jsx("span",{className:"px-2 py-1 bg-blue-100 text-blue-800 text-xs font-medium rounded-full",children:g},D))})]})]})]}),e.jsxs("div",{className:"flex items-center gap-4 bg-slate-50 px-4 min-h-14 justify-between",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"text-[#0d151c] flex items-center justify-center rounded-lg bg-[#e7eef4] shrink-0 size-10","data-icon":"Phone","data-size":"24px","data-weight":"regular",children:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24px",height:"24px",fill:"currentColor",viewBox:"0 0 256 256",children:e.jsx("path",{d:"M222.37,158.46l-47.11-21.11-.13-.06a16,16,0,0,0-15.17,1.4,8.12,8.12,0,0,0-.75.56L134.87,160c-15.42-7.49-31.34-23.29-38.83-38.51l20.78-24.71c.2-.25.39-.5.57-.77a16,16,0,0,0,1.32-15.06l0-.12L97.54,33.64a16,16,0,0,0-16.62-9.52A56.26,56.26,0,0,0,32,80c0,79.4,64.6,144,144,144a56.26,56.26,0,0,0,55.88-48.92A16,16,0,0,0,222.37,158.46ZM176,208A128.14,128.14,0,0,1,48,80,40.2,40.2,0,0,1,82.87,40a.61.61,0,0,0,0,.12l21,47L83.2,111.86a6.13,6.13,0,0,0-.57.77,16,16,0,0,0-1,15.7c9.06,18.53,27.73,37.06,46.46,46.11a16,16,0,0,0,15.75-1.14,8.44,8.44,0,0,0,.74-.56L168.89,152l47,21.05h0s.08,0,.11,0A40.21,40.21,0,0,1,176,208Z"})})}),e.jsx("p",{className:"text-[#0d151c] text-base font-normal leading-normal flex-1 truncate",children:"Contact Number"})]}),e.jsx("div",{className:"shrink-0",children:e.jsxs("p",{className:"text-[#0d151c] text-base font-normal leading-normal",children:["(+91) ",n.phone]})})]}),e.jsxs("div",{className:"flex justify-between items-center px-4 pb-3 pt-5",children:[e.jsx("h2",{className:"text-[#0d151c] text-[22px] font-bold leading-tight tracking-[-0.015em]",children:"Report History"}),e.jsx("label",{htmlFor:"file-upload",className:`bg-blue-500 text-white px-4 py-2 rounded cursor-pointer ${s.isDoctor?"hidden":""}`,children:"Upload Reports"}),e.jsx("input",{id:"file-upload",type:"file",className:"hidden",accept:".pdf",onChange:k})]}),e.jsx("div",{children:d.map((g,D)=>e.jsxs("div",{onClick:()=>{E(g.file)},className:"flex items-center gap-4 bg-slate-50 px-4 min-h-[72px] py-2 justify-between cursor-pointer hover:bg-slate-100 hover:scale-105 transition transform duration-300",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"text-[#0d151c] flex items-center justify-center rounded-lg bg-[#e7eef4] shrink-0 size-12","data-icon":"File","data-size":"24px","data-weight":"regular",children:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24px",height:"24px",fill:"currentColor",viewBox:"0 0 256 256",children:e.jsx("path",{d:"M213.66,82.34l-56-56A8,8,0,0,0,152,24H56A16,16,0,0,0,40,40V216a16,16,0,0,0,16,16H200a16,16,0,0,0,16-16V88A8,8,0,0,0,213.66,82.34ZM160,51.31,188.69,80H160ZM200,216H56V40h88V88a8,8,0,0,0,8,8h48V216Z"})})}),e.jsxs("div",{className:"flex flex-col justify-center",children:[e.jsx("p",{className:"text-[#0d151c] text-base font-medium leading-normal line-clamp-1",children:g.date}),e.jsx("p",{className:"text-[#49779c] text-sm font-normal leading-normal line-clamp-2",children:g.specialistReq})]})]}),e.jsx("div",{className:"shrink-0",children:e.jsx("div",{className:"text-[#0d151c] flex size-7 items-center justify-center","data-icon":"CaretRight","data-size":"24px","data-weight":"regular",children:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24px",height:"24px",fill:"currentColor",viewBox:"0 0 256 256",children:e.jsx("path",{d:"M181.66,133.66l-80,80a8,8,0,0,1-11.32-11.32L164.69,128,90.34,53.66a8,8,0,0,1,11.32-11.32l80,80A8,8,0,0,1,181.66,133.66Z"})})})})]},D))})]}),x&&e.jsx(Ue,{isOpen:x}),c&&e.jsx(fe,{openResult:c,setOpenResult:v,isValid:u})]})}function We(s){const{state:a}=ae(),{id:h}=a;return e.jsx("div",{className:"relative flex size-full min-h-screen flex-col bg-slate-50 group/design-root overflow-x-hidden",style:{fontFamily:'Manrope, "Noto Sans", sans-serif'},children:e.jsxs("div",{className:"layout-container flex h-full grow flex-col",children:[e.jsx(re,{patient:!0,isDoctor:s.isDoctor}),e.jsx(Ge,{isDoctor:s.isDoctor,id:h})]})})}const _e=({setIsDoctor:s})=>{const[a,h]=t.useState(""),n=T(),i=N=>{const x=N.target.value;h(x),s(x==="doctor")},d=()=>{a?n("/main"):alert("Please select a role before signing in.")};return e.jsx("div",{className:"flex items-center justify-center min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100",children:e.jsxs("div",{className:"flex w-full max-w-4xl h-[80vh] bg-white rounded-xl shadow-2xl overflow-hidden",children:[e.jsxs("div",{className:"w-1/2 p-8 flex flex-col justify-center",children:[e.jsx("h2",{className:"text-3xl font-bold text-center text-gray-800 mb-6",children:"Welcome to Saanjh Sahayak"}),e.jsx("p",{className:"text-center text-gray-600 mb-8",children:"Please select if you are a doctor or a caretaker."}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("select",{className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all",value:a,onChange:i,children:[e.jsx("option",{value:"",disabled:!0,children:"Select your role"}),e.jsx("option",{value:"doctor",children:"Doctor"}),e.jsx("option",{value:"caretaker",children:"Caretaker"})]}),e.jsx("button",{className:`w-full py-3 rounded-lg transition-all ${a?"bg-blue-600 hover:bg-blue-700 text-white":"bg-gray-300 text-gray-500 cursor-not-allowed"}`,onClick:d,disabled:!a,children:"Sign in"})]})]}),e.jsxs("div",{className:"w-1/2 bg-gradient-to-br from-blue-400 to-indigo-600 flex flex-col items-center justify-center p-8 relative overflow-hidden",children:[e.jsx("div",{className:"text-4xl font-bold text-white mb-4 z-10",children:"Saanjh Sahayak"}),e.jsx("p",{className:"text-xl text-blue-100 text-center mb-8 z-10",children:"Your Healthcare Companion"}),e.jsxs("div",{className:"absolute top-0 left-0 w-full h-full",children:[e.jsx("div",{className:"absolute w-48 h-48 bg-white opacity-10 rounded-full -top-12 -left-12 animate-pulse"}),e.jsx("div",{className:"absolute w-72 h-72 bg-white opacity-10 rounded-full -bottom-16 -right-16 animate-pulse delay-1000"})]}),e.jsx("svg",{className:"w-32 h-32 text-white animate-float z-10",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z"})})]})]})})},qe=()=>{const[s,a]=t.useState(null),h=n=>{a(n)};return e.jsx("div",{className:"relative flex items-center justify-center min-h-screen bg-slate-50",children:e.jsxs("div",{className:"layout-container flex flex-col max-w-[960px] w-full px-6",children:[e.jsxs("header",{className:"flex items-center justify-between border-b border-solid border-b-[#e7edf3] px-4 py-3",children:[e.jsxs("div",{className:"flex items-center gap-4 text-[#0e141b]",children:[e.jsx("div",{className:"size-4",children:e.jsx("svg",{viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:e.jsx("path",{d:"M4 42.4379C4 42.4379 14.0962 36.0744 24 41.1692C35.0664 46.8624 44 42.2078 44 42.2078L44 7.01134C44 7.01134 35.068 11.6577 24.0031 5.96913C14.0971 0.876274 4 7.27094 4 7.27094L4 42.4379Z",fill:"currentColor"})})}),e.jsx("h2",{className:"text-[#0e141b] text-lg font-bold leading-tight tracking-[-0.015em]",children:"HealthCo"})]}),e.jsxs("div",{className:"flex items-center gap-8",children:[e.jsx("button",{className:"text-[#1980e6] text-sm font-medium leading-normal",onClick:()=>alert("Link to professionals"),children:"For professionals"}),e.jsx("button",{className:"text-[#1980e6] text-sm font-medium leading-normal",onClick:()=>alert("Link to caretakers"),children:"For caretakers"})]})]}),e.jsxs("div",{className:"flex flex-col items-center justify-center flex-1",children:[e.jsx("h2",{className:"text-[#0e141b] tracking-light text-[28px] font-bold leading-tight pb-3",children:"Welcome to HealthCo"}),e.jsx("button",{className:"bg-[#1980e6] text-slate-50 text-base font-bold leading-normal tracking-[0.015em] py-3 px-8 rounded-lg mb-6",onClick:()=>alert("Display user selection"),children:"Select User"}),s===null&&e.jsxs("div",{className:"flex gap-6",children:[e.jsx("button",{className:"flex items-center justify-center bg-[#1980e6] text-slate-50 text-base font-bold leading-normal tracking-[0.015em] py-3 px-8 rounded-lg",onClick:()=>h("doctor"),children:"Doctor"}),e.jsx("button",{className:"flex items-center justify-center bg-[#1980e6] text-slate-50 text-base font-bold leading-normal tracking-[0.015em] py-3 px-8 rounded-lg",onClick:()=>h("caretaker"),children:"Caretaker"})]}),s&&e.jsxs("div",{className:"text-[#0e141b] text-base font-normal leading-normal mt-4",children:["You are signed in as ",e.jsx("strong",{children:s}),"."]})]}),e.jsx("footer",{className:"flex justify-center py-3",children:e.jsx("p",{className:"text-[#4e7397] text-sm font-normal leading-normal",children:"By continuing, you agree to our Terms of Use and Privacy Policy"})})]})})};Me.workerSrc=new URL("/assets/pdf.worker.min-BHSKYoqd.js",import.meta.url).toString();function Ye(){const[s,a]=t.useState(""),[h,n]=t.useState(""),[i,d]=t.useState(null);t.useState(null);const N=async x=>{x.preventDefault();const j=new FormData;j.append("title",s),j.append("file",h),console.log(s,h);const c=await M.post("http://localhost:5173/en/uploadpdf",j,{headers:{"Content-Type":"multipart/form-data"}});console.log(c),c.data.status=="ok"&&(alert("Uploaded Successfully!!!"),getPdf())};return e.jsxs("div",{className:"App",children:[e.jsxs("form",{className:"formStyle",onSubmit:N,children:[e.jsx("h4",{children:"Upload Pdf in React"}),e.jsx("br",{}),e.jsx("input",{type:"text",className:"form-control",placeholder:"Title",required:!0,onChange:x=>a(x.target.value)}),e.jsx("br",{}),e.jsx("input",{type:"file",class:"form-control",accept:"application/pdf",required:!0,onChange:x=>n(x.target.files[0])}),e.jsx("br",{}),e.jsx("button",{class:"btn btn-primary",type:"submit",children:"Submit"})]}),e.jsxs("div",{className:"uploaded",children:[e.jsx("h4",{children:"Uploaded PDF:"}),e.jsx("div",{className:"output-div",children:i==null?"":i.map(x=>e.jsxs("div",{className:"inner-div",children:[e.jsxs("h6",{children:["Title: ",x.title]}),e.jsx("button",{className:"btn btn-primary",onClick:()=>showPdf(x.pdf),children:"Show Pdf"})]}))})]})]})}function Ke(){const{state:s}=ae(),{url:a}=s,[h,n]=t.useState(!1),[i,d]=t.useState(null),[N,x]=t.useState(1),j=t.useRef(null),c=t.useRef(null),v=t.useRef(null);t.useEffect(()=>{(async()=>{try{const C=await fetch(a).then(V=>V.arrayBuffer()),k=await Le.getDocument({data:C}).promise;d(k),f(k,1,j.current,1)}catch(C){console.error("Error loading PDF:",C)}})()},[a]),t.useEffect(()=>{const y=()=>{v.current&&h&&i&&u()};return window.addEventListener("resize",y),()=>window.removeEventListener("resize",y)},[h,i]);const u=async()=>{if(!i||!v.current)return;const C=(await i.getPage(1)).getViewport({scale:1}),k=v.current.clientWidth,V=v.current.clientHeight,E=k/C.width,g=V/C.height,D=Math.min(E,g)*2;x(D),r(D)},f=async(y,C,k,V)=>{const E=await y.getPage(C),g=E.getViewport({scale:V});k.height=g.height*2,k.width=g.width*2;const D=k.getContext("2d");D.scale(2,2),await E.render({canvasContext:D,viewport:g,renderInteractiveForms:!0,canvasFactory:{create:function(A,L){const F=document.createElement("canvas");return F.width=A*2,F.height=L*2,F},reset:function(A,L,F){A.canvas.width=L*2,A.canvas.height=F*2},destroy:function(A){}}})},r=async y=>{if(!(!i||!c.current)){c.current.innerHTML="";for(let C=1;C<=i.numPages;C++){const k=document.createElement("canvas");k.style.width="100%",k.style.height="auto",k.style.marginBottom="10px",await f(i,C,k,y),c.current.appendChild(k)}}},b=async()=>{n(!0),setTimeout(u,0)},P=()=>{n(!1),c.current&&(c.current.innerHTML="")};return e.jsxs("div",{className:"relative",children:[e.jsx("button",{onClick:b,className:"mt-4 px-4 py-2 bg-blue-500 text-white rounded",children:"View Full PDF"}),h&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:e.jsxs("div",{ref:v,className:"bg-white rounded-lg w-3/4 max-w-4xl h-5/6 flex flex-col",children:[e.jsxs("div",{className:"flex justify-between items-center p-4",children:[e.jsx("h2",{className:"text-xl font-bold",children:"PDF Viewer"}),e.jsx("button",{onClick:P,className:"px-4 py-2 bg-red-500 text-white rounded",children:"Close"})]}),e.jsx("div",{ref:c,className:"flex-grow overflow-y-auto scrollbar-hide p-4",style:{msOverflowStyle:"none",scrollbarWidth:"none"}})]})})]})}function Je(){return e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:"size-6 ",children:[e.jsx("path",{d:"M21.731 2.269a2.625 2.625 0 0 0-3.712 0l-1.157 1.157 3.712 3.712 1.157-1.157a2.625 2.625 0 0 0 0-3.712ZM19.513 8.199l-3.712-3.712-8.4 8.4a5.25 5.25 0 0 0-1.32 2.214l-.8 2.685a.75.75 0 0 0 .933.933l2.685-.8a5.25 5.25 0 0 0 2.214-1.32l8.4-8.4Z"}),e.jsx("path",{d:"M5.25 5.25a3 3 0 0 0-3 3v10.5a3 3 0 0 0 3 3h10.5a3 3 0 0 0 3-3V13.5a.75.75 0 0 0-1.5 0v5.25a1.5 1.5 0 0 1-1.5 1.5H5.25a1.5 1.5 0 0 1-1.5-1.5V8.25a1.5 1.5 0 0 1 1.5-1.5h5.25a.75.75 0 0 0 0-1.5H5.25Z"})]})}ne.GlobalWorkerOptions.workerSrc=me;function Xe(){const s=t.useRef(null),[a,h]=t.useState(0),n=ae(),i=T(),[d,N]=t.useState(null),[x,j]=t.useState(null),[c,v]=t.useState(null),[u,f]=t.useState(null),[r,b]=t.useState(null),[P,y]=t.useState(!1),[C,k]=t.useState([]),[V,E]=t.useState(!1),[g,D]=t.useState(""),[A,L]=t.useState(null),[F,q]=t.useState(null),[H,U]=t.useState(!1),[J,ee]=t.useState(null),[X,te]=t.useState(1);t.useRef(null);const l=t.useRef(null),p=t.useRef(null);t.useEffect(()=>{F&&H&&z()},[F,H]);const z=async()=>{if(F)try{const w=await ne.getDocument(F).promise;ee(w),le(w)}catch(o){console.error("Error loading PDF:",o)}};t.useEffect(()=>{const o=()=>{p.current&&H&&J&&G()};return window.addEventListener("resize",o),()=>window.removeEventListener("resize",o)},[H,J]);const G=()=>{if(!p.current)return;const w=(p.current.clientWidth-40)/595;te(w),le(J,w)},Y=async(o,w,Z,I)=>{const se=await o.getPage(w),oe=se.getViewport({scale:I});Z.height=oe.height,Z.width=oe.width;const ue=Z.getContext("2d");await se.render({canvasContext:ue,viewport:oe})},le=async(o,w=X)=>{if(!(!o||!l.current)){l.current.innerHTML="";for(let Z=1;Z<=o.numPages;Z++){const I=document.createElement("canvas");I.style.width="100%",I.style.marginBottom="10px",await Y(o,Z,I,w),l.current.appendChild(I)}}};t.useEffect(()=>{if(n.state){const{id:o,pid:w,isDoctor:Z,patientData:I}=n.state;N(w),j(o),v(Z),f(I)}},[n]),t.useEffect(()=>{(async()=>{if(x&&d)try{await R(),await B()}catch(w){console.error("Error fetching data:",w)}})()},[x,d]),t.useEffect(()=>{(async()=>{if(r)try{await S()}catch(w){console.error("Error getting URL:",w)}})()},[r]);const ie=async()=>{U(!0),setTimeout(G,0)},m=()=>{U(!1),l.current&&(l.current.innerHTML="")};async function S(){try{const o=await M.get(`http://localhost:5173/en/pdfid/${r.file}`,{responseType:"arraybuffer"}),w=new Uint8Array(o.data),Z=new Blob([w],{type:"application/pdf"});let I=window.URL.createObjectURL(Z);q(I)}catch(o){console.error("Error fetching report:",o)}}async function R(){try{const o=await M.get(`http://localhost:5173/en/getreport/${x}`);b(o.data),k(o.data.precautions),E(o.data.isVerified),D(o.data.doctorNotes||"")}catch(o){console.error("Error fetching report:",o)}}async function B(){try{const o=await M.post("http://localhost:5173/en/getprevreports",{patientId:d,reportId:x});L(o.data)}catch(o){console.error("Error fetching dates:",o)}}const W=()=>{y(!P),setTimeout(()=>{var o;(o=textareaRef.current)==null||o.focus()},0)},_=o=>{const w=new Date,Z=new Date(o);let I=w.getFullYear()-Z.getFullYear();const se=w.getMonth()-Z.getMonth();return(se<0||se===0&&w.getDate()<Z.getDate())&&I--,I},K=async()=>{try{E(!0);const o={...r,isVerified:!0},w=await M.post("http://localhost:5173/en/saveprecautions",{reportId:x,precautions:C,doctorNotes:g});b(w.data),console.log(w)}catch(o){console.error("Error verifying report:",o)}},Q=o=>{i("/doctoranalysis",{replace:!0,state:{id:o,pid:d,isDoctor:c,patientData:u}}),window.scrollTo(0,0)};return!r||!A||!u?e.jsx("div",{children:"Loading..."}):r&&A&&u&&F&&e.jsx("div",{className:"relative flex size-full min-h-screen flex-col bg-white group/design-root overflow-x-hidden ",style:{fontFamily:'Manrope, "Noto Sans", sans-serif'},children:e.jsxs("div",{className:"layout-container flex h-full grow flex-col",children:[e.jsxs("header",{className:"flex items-center justify-between whitespace-nowrap border-b border-solid border-b-[#f0f2f4] px-10 py-3",children:[e.jsxs("div",{className:"flex items-center gap-4 text-[#111418]",children:[e.jsx("div",{className:"size-4",children:e.jsx("svg",{viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:e.jsx("path",{d:"M4 4H17.3334V17.3334H30.6666V30.6666H44V44H4V4Z",fill:"currentColor"})})}),e.jsx("h2",{className:"text-[#111418] text-lg font-bold leading-tight tracking-[-0.015em]",children:"Saanjh sahayak"})]}),e.jsxs("div",{className:"flex flex-1 justify-end gap-8",children:[e.jsxs("div",{className:"flex items-center gap-9",children:[e.jsx("a",{className:"text-[#111418] text-sm font-medium leading-normal",href:"#",children:"Patients"}),e.jsx("a",{className:"text-[#111418] text-sm font-medium leading-normal",href:"#",children:"Reports"})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{className:"flex max-w-[480px] cursor-pointer items-center justify-center overflow-hidden rounded-xl h-10 bg-[#f0f2f4] text-[#111418] gap-2 text-sm font-bold leading-normal tracking-[0.015em] min-w-0 px-2.5",children:e.jsx("div",{className:"text-[#111418]","data-icon":"MagnifyingGlass","data-size":"20px","data-weight":"regular",children:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20px",height:"20px",fill:"currentColor",viewBox:"0 0 256 256",children:e.jsx("path",{d:"M229.66,218.34l-50.07-50.06a88.11,88.11,0,1,0-11.31,11.31l50.06,50.07a8,8,0,0,0,11.32-11.32ZM40,112a72,72,0,1,1,72,72A72.08,72.08,0,0,1,40,112Z"})})})}),e.jsx("button",{className:"flex max-w-[480px] cursor-pointer items-center justify-center overflow-hidden rounded-xl h-10 bg-[#f0f2f4] text-[#111418] gap-2 text-sm font-bold leading-normal tracking-[0.015em] min-w-0 px-2.5",children:e.jsx("div",{className:"text-[#111418]","data-icon":"Bell","data-size":"20px","data-weight":"regular",children:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20px",height:"20px",fill:"currentColor",viewBox:"0 0 256 256",children:e.jsx("path",{d:"M221.8,175.94C216.25,166.38,208,139.33,208,104a80,80,0,1,0-160,0c0,35.34-8.26,62.38-13.81,71.94A16,16,0,0,0,48,200H88.81a40,40,0,0,0,78.38,0H208a16,16,0,0,0,13.8-24.06ZM128,216a24,24,0,0,1-22.62-16h45.24A24,24,0,0,1,128,216ZM48,184c7.7-13.24,16-43.92,16-80a64,64,0,1,1,128,0c0,36.05,8.28,66.73,16,80Z"})})})}),e.jsx("button",{className:"flex max-w-[480px] cursor-pointer items-center justify-center overflow-hidden rounded-xl h-10 bg-[#f0f2f4] text-[#111418] gap-2 text-sm font-bold leading-normal tracking-[0.015em] min-w-0 px-2.5",children:e.jsx("div",{className:"text-[#111418]","data-icon":"ChatCircleDots","data-size":"20px","data-weight":"regular",children:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20px",height:"20px",fill:"currentColor",viewBox:"0 0 256 256",children:e.jsx("path",{d:"M140,128a12,12,0,1,1-12-12A12,12,0,0,1,140,128ZM84,116a12,12,0,1,0,12,12A12,12,0,0,0,84,116Zm88,0a12,12,0,1,0,12,12A12,12,0,0,0,172,116Zm60,12A104,104,0,0,1,79.12,219.82L45.07,231.17a16,16,0,0,1-20.24-20.24l11.35-34.05A104,104,0,1,1,232,128Zm-16,0A88,88,0,1,0,51.81,172.06a8,8,0,0,1,.66,6.54L40,216,77.4,203.53a7.85,7.85,0,0,1,2.53-.42,8,8,0,0,1,4,1.08A88,88,0,0,0,216,128Z"})})})})]}),e.jsx("div",{className:"bg-center bg-no-repeat aspect-square bg-cover rounded-full size-10",style:{backgroundImage:'url("https://cdn.usegalileo.ai/stability/1c59f8b8-2f0d-4280-9e6d-75d6c0cee0d6.png")'}})]})]}),e.jsx("div",{className:"px-40 flex flex-1 justify-center py-5",children:e.jsxs("div",{className:"layout-content-container flex flex-col max-w-[960px] flex-1",children:[e.jsx("div",{className:"flex flex-wrap justify-between gap-3 p-4",children:e.jsx("p",{className:"text-[#111418] text-4xl font-black leading-tight tracking-[-0.033em] min-w-72 content-center",children:"Patient Information"})}),e.jsx("div",{className:"flex p-4 @container",children:e.jsx("div",{className:"flex w-full flex-col gap-4 @[520px]:flex-row @[520px]:justify-between @[520px]:items-start",children:e.jsxs("div",{className:"flex gap-4",children:[e.jsx("div",{className:"bg-gray-200 rounded-full w-32 h-32 flex items-center justify-center",children:e.jsx(xe,{className:"text-gray-500 w-20 h-20"})}),e.jsxs("div",{className:"flex flex-col justify-center",children:[e.jsx("p",{className:"text-[#111418] text-[22px] font-bold leading-tight tracking-[-0.015em]",children:u.name}),e.jsxs("p",{className:"text-[#637588] text-base font-normal leading-normal",children:[u.gender,", Age ",_(u.DOB)]}),e.jsxs("p",{className:"text-[#637588] text-base font-normal leading-normal",children:[" Blood Group: ",u.bloodGroup]})]})]})})}),e.jsx("h3",{className:"text-[#111418] text-lg font-bold leading-tight tracking-[-0.015em] px-4 pb-2 pt-4",children:"Known Conditions"}),e.jsx("div",{className:"flex gap-3 p-3 flex-wrap pr-4",children:u.chronics.map((o,w)=>e.jsx("div",{className:"flex h-8 shrink-0 items-center justify-center gap-x-2 rounded-xl bg-[#f0f2f4] pl-4 pr-4",children:e.jsx("p",{className:"text-[#111418] text-sm font-medium leading-normal",children:o})},w))}),e.jsx("h3",{className:"text-[#111418] text-lg font-bold leading-tight tracking-[-0.015em] px-4 pb-2 pt-4",children:"Current Report"}),H&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:e.jsxs("div",{ref:p,className:"bg-white rounded-lg w-3/4 max-w-4xl h-5/6 flex flex-col",children:[e.jsxs("div",{className:"flex justify-between items-center p-4",children:[e.jsx("h2",{className:"text-xl font-bold",children:"PDF Viewer"}),e.jsx("button",{onClick:m,className:"px-4 py-2 bg-red-500 text-white rounded",children:"Close"})]}),e.jsx("div",{ref:l,className:"flex-grow overflow-y-auto scrollbar-hide p-4",style:{msOverflowStyle:"none",scrollbarWidth:"none"}})]})}),e.jsxs("div",{onClick:ie,className:"flex items-center gap-4 bg-white px-4 min-h-[72px] py-2 justify-between hover:bg-slate-100 hover:scale-105 transition transform duration-300",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"text-[#111418] flex items-center justify-center rounded-lg bg-[#f0f2f4] shrink-0 size-12","data-icon":"File","data-size":"24px","data-weight":"regular",children:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24px",height:"24px",fill:"currentColor",viewBox:"0 0 256 256",children:e.jsx("path",{d:"M213.66,82.34l-56-56A8,8,0,0,0,152,24H56A16,16,0,0,0,40,40V216a16,16,0,0,0,16,16H200a16,16,0,0,0,16-16V88A8,8,0,0,0,213.66,82.34ZM160,51.31,188.69,80H160ZM200,216H56V40h88V88a8,8,0,0,0,8,8h48V216Z"})})}),e.jsxs("div",{className:"flex flex-col justify-center",children:[e.jsx("p",{className:"text-[#111418] text-base font-medium leading-normal line-clamp-1",children:"Test Report"}),e.jsx("p",{className:"text-[#637588] text-sm font-normal leading-normal line-clamp-2",children:"Report from 27 June 2024"})]})]}),e.jsx("div",{className:"shrink-0",children:e.jsx("div",{className:"text-[#111418] flex size-7 items-center justify-center","data-icon":"CaretRight","data-size":"24px","data-weight":"regular",children:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24px",height:"24px",fill:"currentColor",viewBox:"0 0 256 256",children:e.jsx("path",{d:"M181.66,133.66l-80,80a8,8,0,0,1-11.32-11.32L164.69,128,90.34,53.66a8,8,0,0,1,11.32-11.32l80,80A8,8,0,0,1,181.66,133.66Z"})})})})]}),e.jsx("h3",{className:"text-[#111418] text-lg font-bold leading-tight tracking-[-0.015em] px-4 pb-2 pt-4",children:"Analysis"}),e.jsx("div",{className:"text-lg   tracking-[-0.020em] ",children:e.jsx("p",{className:"px-4 pb-2 pt-4",children:r.summary})}),e.jsx("h3",{className:"text-[#111418] text-lg font-bold leading-tight tracking-[-0.015em] px-4 pb-2 pt-4",children:"Precautions"}),e.jsx("div",{className:"p-4 @container",children:e.jsxs("div",{className:"flex flex-1 items-start justify-between gap-4 rounded-xl border border-[#dce0e5] bg-white p-5 @[480px]:flex-row @[480px]:items-center",style:{height:a?`${a+20}px`:"auto"},children:[e.jsx("div",{className:"flex flex-col gap-1 flex-1",children:P&&!r.isVerified?e.jsx("textarea",{defaultValue:C.join(`
`),className:"border border-[#dce0e5] rounded-xl p-2 flex-1",onChange:o=>k(o.target.value.split(`
`))}):e.jsx("ul",{className:"text-[#637588] text-base font-normal leading-normal flex-1",ref:s,children:C.map((o,w)=>e.jsx("li",{children:o},w))})}),e.jsx("button",{onClick:W,className:` ${V?"hidden":""}  flex min-w-[60px] max-w-[480px] cursor-pointer items-center justify-center overflow-hidden rounded-xl h-10 px-4 bg-[#1b7ada] text-white text-sm font-medium leading-normal`,children:P?e.jsx("span",{className:"truncate",children:"Save"}):e.jsx(Je,{})})]})}),e.jsx("h3",{className:"text-[#111418] text-lg font-bold leading-tight tracking-[-0.015em] px-4 pb-2 pt-4",children:"Predictions"}),e.jsx("div",{className:"p-4 @container",children:e.jsx("div",{className:"flex flex-1  items-start justify-between gap-4 rounded-xl border border-[#dce0e5] bg-white p-5 @[480px]:flex-row @[480px]:items-center",children:e.jsx("div",{className:"flex flex-col gap-1 flex-1",children:e.jsx("ul",{className:"text-[#637588] text-base font-normal leading-normal flex-1",ref:s,children:r.possibleDiseases.map((o,w)=>e.jsx("li",{children:o},w))})})})}),e.jsx("h3",{className:"text-[#111418] text-lg font-bold leading-tight tracking-[-0.015em] px-4 pb-2 pt-4",children:"Doctor's Advice"}),e.jsx("div",{className:"flex max-w-[480px] flex-1 flex-wrap items-end gap-4 px-4 py-3",children:e.jsx("label",{className:"flex flex-col min-w-40 flex-1",children:r.isVerified?e.jsx("div",{className:"text-[#637588] text-base font-normal leading-normal flex-1",ref:s,children:r.doctorNotes}):e.jsx("textarea",{defaultValue:r.doctorNotes,className:"border border-[#dce0e5] rounded-xl p-2 flex-1",onChange:o=>D(o.target.value)})})}),e.jsx("div",{className:"flex px-4 py-3 justify-end",children:e.jsx("button",{onClick:K,className:`${r.isVerified?"hidden":""} flex min-w-[84px] max-w-[480px] cursor-pointer items-center justify-center overflow-hidden rounded-xl h-10 px-4 bg-[#1b7ada] text-white text-sm font-bold leading-normal tracking-[0.015em]`,children:e.jsx("span",{className:"truncate",children:"verify"})})}),e.jsx("h3",{className:"text-[#111418] text-lg font-bold leading-tight tracking-[-0.015em] px-4 pb-2 pt-4",children:"Previous Reports"}),e.jsx("div",{children:A.map((o,w)=>e.jsxs("div",{onClick:()=>{Q(o.file)},className:"flex items-center gap-4  px-4 min-h-[72px] py-2 justify-between cursor-pointer hover:bg-slate-100 hover:scale-105 transition transform duration-300",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"text-[#0d151c] flex items-center justify-center rounded-lg bg-[#e7eef4] shrink-0 size-12","data-icon":"File","data-size":"24px","data-weight":"regular",children:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24px",height:"24px",fill:"currentColor",viewBox:"0 0 256 256",children:e.jsx("path",{d:"M213.66,82.34l-56-56A8,8,0,0,0,152,24H56A16,16,0,0,0,40,40V216a16,16,0,0,0,16,16H200a16,16,0,0,0,16-16V88A8,8,0,0,0,213.66,82.34ZM160,51.31,188.69,80H160ZM200,216H56V40h88V88a8,8,0,0,0,8,8h48V216Z"})})}),e.jsxs("div",{className:"flex flex-col justify-center",children:[e.jsx("p",{className:"text-[#0d151c] text-base font-medium leading-normal line-clamp-1",children:o.date}),e.jsx("p",{className:"text-[#49779c] text-sm font-normal leading-normal line-clamp-2",children:o.specialistReq})]})]}),e.jsx("div",{className:"shrink-0",children:e.jsx("div",{className:"text-[#0d151c] flex size-7 items-center justify-center","data-icon":"CaretRight","data-size":"24px","data-weight":"regular",children:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24px",height:"24px",fill:"currentColor",viewBox:"0 0 256 256",children:e.jsx("path",{d:"M181.66,133.66l-80,80a8,8,0,0,1-11.32-11.32L164.69,128,90.34,53.66a8,8,0,0,1,11.32-11.32l80,80A8,8,0,0,1,181.66,133.66Z"})})})})]},w))})]})})]})})}const Qe=()=>{const[s,a]=t.useState(""),[h,n]=t.useState(null),[i,d]=t.useState(null),[N,x]=t.useState(null);function j(u){const f=u.target.files[0];if(x(f.size/(1024*1024)),f){const r=new FileReader;r.onloadend=()=>{n(r.result.split(",")[1])},r.readAsDataURL(f);const b=u.target.value.replace("C:\\fakepath\\","");a(b)}else alert("No file selected")}const c=async u=>{u.preventDefault();try{await M.post("http://localhost:5173/en/uploadpdf",{file:h,filename:s}),console.log("Successfully uploaded.")}catch(f){console.log("Error uploading details:",f),alert("File size too large")}},v=async u=>{u.preventDefault();try{console.log("hi");const f=await M.get("http://localhost:5173/en/pdfid/66813196189877e17f54a9e0",{responseType:"arraybuffer"}),r=new Uint8Array(f.data),b=new Blob([r],{type:"application/pdf"});let P=window.URL.createObjectURL(b);d(P)}catch(f){console.log("Error uploading details:",f),alert("File size too large")}};return e.jsxs("div",{children:[e.jsxs("form",{onSubmit:c,children:[e.jsx("input",{type:"file",onChange:j,accept:"application/pdf"}),e.jsx("button",{type:"submit",children:"Upload"})]}),e.jsx("br",{}),e.jsx("br",{}),e.jsx("br",{}),e.jsx("button",{onClick:v,children:"show pdf"}),i&&e.jsx("embed",{src:i,type:"application/pdf",width:"100%",height:"600px"})]})};ne.GlobalWorkerOptions.workerSrc=me;function et(){const s=t.useRef(null),[a,h]=t.useState(0),n=ae(),i=T(),[d,N]=t.useState(null),[x,j]=t.useState(null),[c,v]=t.useState(null),[u,f]=t.useState(null),[r,b]=t.useState([]);t.useState(!1);const[P,y]=t.useState(null),[C,k]=t.useState(null),[V,E]=t.useState(!1),[g,D]=t.useState(null),[A,L]=t.useState(null),[F,q]=t.useState(1);t.useRef(null);const H=t.useRef(null),U=t.useRef(null);t.useEffect(()=>{C&&V&&J()},[C,V]);const J=async()=>{if(C)try{const S=await ne.getDocument(C).promise;D(S),te(S)}catch(m){console.error("Error loading PDF:",m)}};t.useEffect(()=>{const m=()=>{U.current&&V&&g&&ee()};return window.addEventListener("resize",m),()=>window.removeEventListener("resize",m)},[V,g]);const ee=async m=>{if(!U.current||!m)return;const R=(await m.getPage(1)).getViewport({scale:1}),B=U.current.clientWidth-40,W=U.current.clientHeight-100,_=B/R.width,K=W/R.height,Q=Math.min(_,K,2);q(Q),te(m,Q)},X=async(m,S,R,B)=>{const W=await m.getPage(S),_=W.getViewport({scale:B}),K=window.devicePixelRatio||1;R.width=_.width*K,R.height=_.height*K,R.style.width=`${_.width}px`,R.style.height=`${_.height}px`;const Q=R.getContext("2d");Q.scale(K,K),await W.render({canvasContext:Q,viewport:_})},te=async(m,S=F)=>{if(!(!m||!H.current)){H.current.innerHTML="";for(let R=1;R<=m.numPages;R++){const B=document.createElement("canvas");B.style.marginBottom="10px",await X(m,R,B,S),H.current.appendChild(B)}}};t.useEffect(()=>{if(n.state){const{id:m,pid:S,isDoctor:R,patientData:B}=n.state;N(S),j(m),v(B),L(R)}},[n]),t.useEffect(()=>{(async()=>{if(x&&d)try{await G(),await Y()}catch(S){console.error("Error fetching data:",S)}})()},[x,d]),t.useEffect(()=>{(async()=>{if(u)try{await z()}catch(S){console.error("Error getting URL:",S)}})()},[u]);const l=()=>{E(!0),setTimeout(ee,0)},p=()=>{E(!1),H.current&&(H.current.innerHTML="")};async function z(){try{const m=await M.get(`http://localhost:5173/en/pdfid/${u.file}`,{responseType:"arraybuffer"}),S=new Uint8Array(m.data),R=new Blob([S],{type:"application/pdf"});let B=window.URL.createObjectURL(R);k(B)}catch(m){console.error("Error fetching report:",m)}}async function G(){try{const m=await M.get(`http://localhost:5173/en/getreport/${x}`);f(m.data),b(m.data.precautions)}catch(m){console.error("Error fetching report:",m)}}async function Y(){try{const m=await M.post("http://localhost:5173/en/getprevreports",{patientId:d,reportId:x});y(m.data)}catch(m){console.error("Error fetching dates:",m)}}const le=m=>{const S=new Date,R=new Date(m);let B=S.getFullYear()-R.getFullYear();const W=S.getMonth()-R.getMonth();return(W<0||W===0&&S.getDate()<R.getDate())&&B--,B},ie=m=>{i("/caretakeranalysis",{replace:!0,state:{id:m,pid:d,isDoctor:A,patientData:c}}),window.scrollTo(0,0)};return!u||!P||!c?e.jsx("div",{children:"Loading..."}):u&&P&&c&&C&&e.jsx("div",{className:"relative flex size-full min-h-screen flex-col bg-white group/design-root overflow-x-hidden ",style:{fontFamily:'Manrope, "Noto Sans", sans-serif'},children:e.jsxs("div",{className:"layout-container flex h-full grow flex-col",children:[e.jsxs("header",{className:"flex items-center justify-between whitespace-nowrap border-b border-solid border-b-[#f0f2f4] px-10 py-3",children:[e.jsxs("div",{className:"flex items-center gap-4 text-[#111418]",children:[e.jsx("div",{className:"size-4",children:e.jsx("svg",{viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:e.jsx("path",{d:"M4 4H17.3334V17.3334H30.6666V30.6666H44V44H4V4Z",fill:"currentColor"})})}),e.jsx("h2",{className:"text-[#111418] text-lg font-bold leading-tight tracking-[-0.015em]",children:"Saanjh sahayak"})]}),e.jsxs("div",{className:"flex flex-1 justify-end gap-8",children:[e.jsxs("div",{className:"flex items-center gap-9",children:[e.jsx("a",{className:"text-[#111418] text-sm font-medium leading-normal",href:"#",children:"Patients"}),e.jsx("a",{className:"text-[#111418] text-sm font-medium leading-normal",href:"#",children:"Reports"})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{className:"flex max-w-[480px] cursor-pointer items-center justify-center overflow-hidden rounded-xl h-10 bg-[#f0f2f4] text-[#111418] gap-2 text-sm font-bold leading-normal tracking-[0.015em] min-w-0 px-2.5",children:e.jsx("div",{className:"text-[#111418]","data-icon":"MagnifyingGlass","data-size":"20px","data-weight":"regular",children:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20px",height:"20px",fill:"currentColor",viewBox:"0 0 256 256",children:e.jsx("path",{d:"M229.66,218.34l-50.07-50.06a88.11,88.11,0,1,0-11.31,11.31l50.06,50.07a8,8,0,0,0,11.32-11.32ZM40,112a72,72,0,1,1,72,72A72.08,72.08,0,0,1,40,112Z"})})})}),e.jsx("button",{className:"flex max-w-[480px] cursor-pointer items-center justify-center overflow-hidden rounded-xl h-10 bg-[#f0f2f4] text-[#111418] gap-2 text-sm font-bold leading-normal tracking-[0.015em] min-w-0 px-2.5",children:e.jsx("div",{className:"text-[#111418]","data-icon":"Bell","data-size":"20px","data-weight":"regular",children:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20px",height:"20px",fill:"currentColor",viewBox:"0 0 256 256",children:e.jsx("path",{d:"M221.8,175.94C216.25,166.38,208,139.33,208,104a80,80,0,1,0-160,0c0,35.34-8.26,62.38-13.81,71.94A16,16,0,0,0,48,200H88.81a40,40,0,0,0,78.38,0H208a16,16,0,0,0,13.8-24.06ZM128,216a24,24,0,0,1-22.62-16h45.24A24,24,0,0,1,128,216ZM48,184c7.7-13.24,16-43.92,16-80a64,64,0,1,1,128,0c0,36.05,8.28,66.73,16,80Z"})})})}),e.jsx("button",{className:"flex max-w-[480px] cursor-pointer items-center justify-center overflow-hidden rounded-xl h-10 bg-[#f0f2f4] text-[#111418] gap-2 text-sm font-bold leading-normal tracking-[0.015em] min-w-0 px-2.5",children:e.jsx("div",{className:"text-[#111418]","data-icon":"ChatCircleDots","data-size":"20px","data-weight":"regular",children:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20px",height:"20px",fill:"currentColor",viewBox:"0 0 256 256",children:e.jsx("path",{d:"M140,128a12,12,0,1,1-12-12A12,12,0,0,1,140,128ZM84,116a12,12,0,1,0,12,12A12,12,0,0,0,84,116Zm88,0a12,12,0,1,0,12,12A12,12,0,0,0,172,116Zm60,12A104,104,0,0,1,79.12,219.82L45.07,231.17a16,16,0,0,1-20.24-20.24l11.35-34.05A104,104,0,1,1,232,128Zm-16,0A88,88,0,1,0,51.81,172.06a8,8,0,0,1,.66,6.54L40,216,77.4,203.53a7.85,7.85,0,0,1,2.53-.42,8,8,0,0,1,4,1.08A88,88,0,0,0,216,128Z"})})})})]}),e.jsx("div",{className:"bg-center bg-no-repeat aspect-square bg-cover rounded-full size-10",style:{backgroundImage:'url("https://cdn.usegalileo.ai/stability/1c59f8b8-2f0d-4280-9e6d-75d6c0cee0d6.png")'}})]})]}),e.jsx("div",{className:"px-40 flex flex-1 justify-center py-5",children:e.jsxs("div",{className:"layout-content-container flex flex-col max-w-[960px] flex-1",children:[e.jsx("div",{className:"flex flex-wrap justify-between gap-3 p-4",children:e.jsx("p",{className:"text-[#111418] text-4xl font-black leading-tight tracking-[-0.033em] min-w-72 content-center",children:"Patient Information"})}),e.jsx("div",{className:"flex p-4 @container",children:e.jsx("div",{className:"flex w-full flex-col gap-4 @[520px]:flex-row @[520px]:justify-between @[520px]:items-start",children:e.jsxs("div",{className:"flex gap-4",children:[e.jsx("div",{className:"bg-gray-200 rounded-full w-32 h-32 flex items-center justify-center",children:e.jsx(xe,{className:"text-gray-500 w-20 h-20"})}),e.jsxs("div",{className:"flex flex-col justify-center",children:[e.jsx("p",{className:"text-[#111418] text-[22px] font-bold leading-tight tracking-[-0.015em]",children:c.name}),e.jsxs("p",{className:"text-[#637588] text-base font-normal leading-normal",children:[c.gender,", Age ",le(c.DOB)]}),e.jsxs("p",{className:"text-[#637588] text-base font-normal leading-normal",children:[" Blood Group: ",c.bloodGroup]})]})]})})}),e.jsx("h3",{className:"text-[#111418] text-lg font-bold leading-tight tracking-[-0.015em] px-4 pb-2 pt-4",children:"Known Conditions"}),e.jsx("div",{className:"flex gap-3 p-3 flex-wrap pr-4",children:c.chronics.map((m,S)=>e.jsx("div",{className:"flex h-8 shrink-0 items-center justify-center gap-x-2 rounded-xl bg-[#f0f2f4] pl-4 pr-4",children:e.jsx("p",{className:"text-[#111418] text-sm font-medium leading-normal",children:m})},S))}),e.jsx("h3",{className:"text-[#111418] text-lg font-bold leading-tight tracking-[-0.015em] px-4 pb-2 pt-4",children:"Current Report"}),V&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:e.jsxs("div",{ref:U,className:"bg-white rounded-lg w-3/4 max-w-4xl h-5/6 flex flex-col",children:[e.jsxs("div",{className:"flex justify-between items-center p-4",children:[e.jsx("h2",{className:"text-xl font-bold",children:"PDF Viewer"}),e.jsx("button",{onClick:p,className:"px-4 py-2 bg-red-500 text-white rounded",children:"Close"})]}),e.jsx("div",{ref:H,className:"flex-grow overflow-y-auto scrollbar-hide p-4",style:{msOverflowStyle:"none",scrollbarWidth:"none"}})]})}),e.jsxs("div",{onClick:l,className:"flex items-center gap-4 bg-white px-4 min-h-[72px] py-2 justify-between hover:bg-slate-100 hover:scale-105 transition transform duration-300",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"text-[#111418] flex items-center justify-center rounded-lg bg-[#f0f2f4] shrink-0 size-12","data-icon":"File","data-size":"24px","data-weight":"regular",children:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24px",height:"24px",fill:"currentColor",viewBox:"0 0 256 256",children:e.jsx("path",{d:"M213.66,82.34l-56-56A8,8,0,0,0,152,24H56A16,16,0,0,0,40,40V216a16,16,0,0,0,16,16H200a16,16,0,0,0,16-16V88A8,8,0,0,0,213.66,82.34ZM160,51.31,188.69,80H160ZM200,216H56V40h88V88a8,8,0,0,0,8,8h48V216Z"})})}),e.jsxs("div",{className:"flex flex-col justify-center",children:[e.jsx("p",{className:"text-[#111418] text-base font-medium leading-normal line-clamp-1",children:"Test Report"}),e.jsx("p",{className:"text-[#637588] text-sm font-normal leading-normal line-clamp-2",children:"Report from 27 June 2024"})]})]}),e.jsx("div",{className:"shrink-0",children:e.jsx("div",{className:"text-[#111418] flex size-7 items-center justify-center","data-icon":"CaretRight","data-size":"24px","data-weight":"regular",children:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24px",height:"24px",fill:"currentColor",viewBox:"0 0 256 256",children:e.jsx("path",{d:"M181.66,133.66l-80,80a8,8,0,0,1-11.32-11.32L164.69,128,90.34,53.66a8,8,0,0,1,11.32-11.32l80,80A8,8,0,0,1,181.66,133.66Z"})})})})]}),e.jsx("h3",{className:"text-[#111418] text-lg font-bold leading-tight tracking-[-0.015em] px-4 pb-2 pt-4",children:"Analysis"}),e.jsx("div",{className:"text-lg   tracking-[-0.020em] ",children:e.jsx("p",{className:"px-4 pb-2 pt-4",children:u.summary})}),e.jsx("h3",{className:"text-[#111418] text-lg font-bold leading-tight tracking-[-0.015em] px-4 pb-2 pt-4",children:"Precautions"}),e.jsx("div",{className:"p-4 @container",children:e.jsx("div",{className:"flex flex-1 items-start justify-between gap-4 rounded-xl border border-[#dce0e5] bg-white p-5 @[480px]:flex-row @[480px]:items-center",style:{height:a?`${a+20}px`:"auto"},children:e.jsx("div",{className:"flex flex-col gap-1 flex-1",children:e.jsx("ul",{className:"text-[#637588] text-base font-normal leading-normal flex-1",ref:s,children:r.map((m,S)=>e.jsx("li",{children:m},S))})})})}),e.jsx("h3",{className:"text-[#111418] text-lg font-bold leading-tight tracking-[-0.015em] px-4 pb-2 pt-4",children:"Doctor's Advice"}),e.jsx("div",{className:"flex max-w-[480px] flex-1 flex-wrap items-end gap-4 px-4 py-3",children:e.jsx("label",{className:"flex flex-col min-w-40 flex-1",children:u.doctorNotes===""?e.jsx(e.Fragment,{}):e.jsx("div",{className:"text-[#637588] text-base font-normal leading-normal flex-1",ref:s,children:u.doctorNotes})})}),e.jsx("div",{className:"flex px-4 py-3 justify-end"}),e.jsx("h3",{className:"text-[#111418] text-lg font-bold leading-tight tracking-[-0.015em] px-4 pb-2 pt-4",children:"Previous Reports"}),e.jsx("div",{children:P.map((m,S)=>e.jsxs("div",{onClick:()=>{ie(m.file)},className:"flex items-center gap-4  px-4 min-h-[72px] py-2 justify-between cursor-pointer hover:bg-slate-100 hover:scale-105 transition transform duration-300",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"text-[#0d151c] flex items-center justify-center rounded-lg bg-[#e7eef4] shrink-0 size-12","data-icon":"File","data-size":"24px","data-weight":"regular",children:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24px",height:"24px",fill:"currentColor",viewBox:"0 0 256 256",children:e.jsx("path",{d:"M213.66,82.34l-56-56A8,8,0,0,0,152,24H56A16,16,0,0,0,40,40V216a16,16,0,0,0,16,16H200a16,16,0,0,0,16-16V88A8,8,0,0,0,213.66,82.34ZM160,51.31,188.69,80H160ZM200,216H56V40h88V88a8,8,0,0,0,8,8h48V216Z"})})}),e.jsxs("div",{className:"flex flex-col justify-center",children:[e.jsx("p",{className:"text-[#0d151c] text-base font-medium leading-normal line-clamp-1",children:m.date}),e.jsx("p",{className:"text-[#49779c] text-sm font-normal leading-normal line-clamp-2",children:m.specialistReq})]})]}),e.jsx("div",{className:"shrink-0",children:e.jsx("div",{className:"text-[#0d151c] flex size-7 items-center justify-center","data-icon":"CaretRight","data-size":"24px","data-weight":"regular",children:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24px",height:"24px",fill:"currentColor",viewBox:"0 0 256 256",children:e.jsx("path",{d:"M181.66,133.66l-80,80a8,8,0,0,1-11.32-11.32L164.69,128,90.34,53.66a8,8,0,0,1,11.32-11.32l80,80A8,8,0,0,1,181.66,133.66Z"})})})})]},S))})]})})]})})}function tt(){const[s,a]=t.useState(""),h=ae(),n=T(),[i,d]=t.useState(null);t.useEffect(()=>{if(h.state){const{patientData:r}=h.state;d(r),j({firstName:r.name,lastName:"",dateOfBirth:N(r.DOB),gender:r.gender,bloodGroup:r.bloodGroup,phoneNumber:r.phone,chronics:r.chronics})}},[h]);function N(r){const b=new Date(r),P=String(b.getDate()).padStart(2,"0"),y=String(b.getMonth()+1).padStart(2,"0"),C=b.getFullYear();return`${P}/${y}/${C}`}const[x,j]=t.useState({firstName:"",lastName:"",dateOfBirth:"",gender:"",bloodGroup:"",phoneNumber:"",chronics:""}),c=r=>{const{name:b,value:P}=r.target;j(y=>({...y,[b]:P}))},v=()=>{s.trim()!==""&&(j(r=>({...r,chronics:[...r.chronics,s.trim()]})),a(""))},u=r=>{j(b=>({...b,chronics:b.chronics.filter((P,y)=>y!==r)}))},f=async r=>{r.preventDefault(),console.log("Form submitted:",x);const b={...x,dateOfBirth:x.dateOfBirth?new Date(x.dateOfBirth).toISOString():null},P=await M.post("http://localhost:5173/en/editPatient",{formDataToSend:b,patientId:i._id});console.log(P.data.data),j({firstName:"",lastName:"",dateOfBirth:null,gender:"",bloodGroup:"",phoneNumber:"",chronics:[]}),alert("Form data submitted successfully!"),n(-1)};return i&&e.jsxs("div",{className:"flex flex-col min-h-screen bg-gray-100",children:[e.jsx(re,{}),e.jsx("div",{className:"flex-grow flex items-center justify-center px-4 py-12",children:e.jsx("div",{className:"w-full max-w-4xl bg-white shadow-2xl rounded-3xl overflow-hidden",children:e.jsxs("div",{className:"md:flex",children:[e.jsx("div",{className:"md:flex-shrink-0 bg-blue-600 md:w-48 flex items-center justify-center",children:e.jsx("svg",{className:"h-20 w-20 text-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-3 7h3m-3 4h3m-6-4h.01M9 16h.01"})})}),e.jsxs("div",{className:"p-8 md:flex-grow",children:[e.jsx("h2",{className:"text-3xl font-bold text-gray-800 mb-2",children:"Edit Patient"}),e.jsx("p",{className:"text-gray-600 mb-8",children:"Please enter the patient's details below"}),e.jsxs("form",{onSubmit:f,className:"space-y-6",children:[e.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"First Name"}),e.jsx("input",{required:!0,type:"text",name:"firstName",value:x.firstName,onChange:c,className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm",placeholder:"First name"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Last Name"}),e.jsx("input",{type:"text",name:"lastName",value:x.lastName,onChange:c,className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm",placeholder:"Last name"})]})]}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Date of Birth"}),e.jsx("input",{type:"date",name:"dateOfBirth",value:x.dateOfBirth,onChange:c,className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Gender"}),e.jsxs("select",{name:"gender",value:x.gender,onChange:c,className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm",children:[e.jsx("option",{value:"",children:"Select gender"}),e.jsx("option",{value:"male",children:"Male"}),e.jsx("option",{value:"female",children:"Female"}),e.jsx("option",{value:"other",children:"Other"})]})]})]}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Blood Group"}),e.jsx("input",{type:"text",name:"bloodGroup",value:x.bloodGroup,onChange:c,className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm",placeholder:"Blood group"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Phone Number"}),e.jsx("input",{type:"tel",name:"phoneNumber",value:x.phoneNumber,onChange:c,className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm",placeholder:"Phone number"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Current Chronic Conditions"}),e.jsxs("div",{className:"mt-1 flex rounded-md shadow-sm",children:[e.jsx("input",{type:"text",value:s,onChange:r=>a(r.target.value),className:"flex-1 min-w-0 block w-full px-3 py-2 rounded-none rounded-l-md focus:ring-blue-500 focus:border-blue-500 sm:text-sm border-gray-300",placeholder:"Enter a chronic condition"}),e.jsx("button",{type:"button",onClick:v,className:"inline-flex items-center px-3 rounded-r-md border border-l-0 border-gray-300 bg-gray-50 text-gray-500 text-sm",children:"Add"})]}),e.jsx("div",{className:"mt-2 space-y-2",children:x.chronics.map((r,b)=>e.jsxs("div",{className:"flex items-center justify-between bg-gray-100 p-2 rounded",children:[e.jsx("span",{children:r}),e.jsx("button",{type:"button",onClick:()=>u(b),className:"text-red-500 hover:text-red-700",children:"Remove"})]},b))})]}),e.jsxs("div",{className:"flex justify-end space-x-4",children:[e.jsx("button",{type:"button",className:"px-4 py-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:"Cancel"}),e.jsx("button",{type:"submit",className:"px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:"Save"})]})]})]})]})})})]})}function st(){const[s,a]=t.useState(()=>{const h=localStorage.getItem("isDoctor");return h!==null?JSON.parse(h):!0});return t.useEffect(()=>{localStorage.setItem("isDoctor",JSON.stringify(s))},[s]),e.jsx("div",{className:"App",children:e.jsx(Ve,{children:e.jsxs(He,{children:[e.jsx(O,{path:"/",element:e.jsx(Te,{})}),e.jsx(O,{path:"/main",element:e.jsx($e,{isDoctor:s,setIsDoctor:a})}),e.jsx(O,{path:"/form",element:e.jsx(Ze,{})}),e.jsx(O,{path:"/patient",element:e.jsx(We,{isDoctor:s})}),e.jsx(O,{path:"/signin",element:e.jsx(_e,{setIsDoctor:a,isDoctor:s})}),e.jsx(O,{path:"/newSignin",element:e.jsx(qe,{})}),e.jsx(O,{path:"/upload",element:e.jsx(Ye,{})}),e.jsx(O,{path:"/load",element:e.jsx(Qe,{})}),e.jsx(O,{path:"/pdfShow",element:e.jsx(Ke,{})}),e.jsx(O,{path:"/doctoranalysis",element:e.jsx(Xe,{})}),e.jsx(O,{path:"/caretakeranalysis",element:e.jsx(et,{})}),e.jsx(O,{path:"/edit",element:e.jsx(tt,{})}),e.jsx(O,{path:"/result",element:e.jsx(fe,{})}),e.jsx(O,{path:"/chatbot",element:e.jsx(he,{})})]})})})}ze.createRoot(document.getElementById("root")).render(e.jsx(Be.StrictMode,{children:e.jsx(st,{})}));
