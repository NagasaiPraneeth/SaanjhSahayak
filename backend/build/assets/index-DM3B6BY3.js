var cC=Object.defineProperty;var my=n=>{throw TypeError(n)};var uC=(n,e,t)=>e in n?cC(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t;var Z=(n,e,t)=>uC(n,typeof e!="symbol"?e+"":e,t),vm=(n,e,t)=>e.has(n)||my("Cannot "+t);var c=(n,e,t)=>(vm(n,e,"read from private field"),t?t.call(n):e.get(n)),S=(n,e,t)=>e.has(n)?my("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(n):e.set(n,t),E=(n,e,t,i)=>(vm(n,e,"write to private field"),i?i.call(n,t):e.set(n,t),t),A=(n,e,t)=>(vm(n,e,"access private method"),t);var Zt=(n,e,t,i)=>({set _(r){E(n,e,r,t)},get _(){return c(n,e,i)}});function dC(n,e){for(var t=0;t<e.length;t++){const i=e[t];if(typeof i!="string"&&!Array.isArray(i)){for(const r in i)if(r!=="default"&&!(r in n)){const s=Object.getOwnPropertyDescriptor(i,r);s&&Object.defineProperty(n,r,s.get?s:{enumerable:!0,get:()=>i[r]})}}}return Object.freeze(Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))i(r);new MutationObserver(r=>{for(const s of r)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&i(o)}).observe(document,{childList:!0,subtree:!0});function t(r){const s={};return r.integrity&&(s.integrity=r.integrity),r.referrerPolicy&&(s.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?s.credentials="include":r.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function i(r){if(r.ep)return;r.ep=!0;const s=t(r);fetch(r.href,s)}})();function hC(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var Iw={exports:{}},Pp={},Ow={exports:{}},ie={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Gd=Symbol.for("react.element"),fC=Symbol.for("react.portal"),pC=Symbol.for("react.fragment"),mC=Symbol.for("react.strict_mode"),gC=Symbol.for("react.profiler"),vC=Symbol.for("react.provider"),yC=Symbol.for("react.context"),xC=Symbol.for("react.forward_ref"),wC=Symbol.for("react.suspense"),bC=Symbol.for("react.memo"),EC=Symbol.for("react.lazy"),gy=Symbol.iterator;function AC(n){return n===null||typeof n!="object"?null:(n=gy&&n[gy]||n["@@iterator"],typeof n=="function"?n:null)}var jw={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},$w=Object.assign,Hw={};function Bl(n,e,t){this.props=n,this.context=e,this.refs=Hw,this.updater=t||jw}Bl.prototype.isReactComponent={};Bl.prototype.setState=function(n,e){if(typeof n!="object"&&typeof n!="function"&&n!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,n,e,"setState")};Bl.prototype.forceUpdate=function(n){this.updater.enqueueForceUpdate(this,n,"forceUpdate")};function Bw(){}Bw.prototype=Bl.prototype;function Bv(n,e,t){this.props=n,this.context=e,this.refs=Hw,this.updater=t||jw}var zv=Bv.prototype=new Bw;zv.constructor=Bv;$w(zv,Bl.prototype);zv.isPureReactComponent=!0;var vy=Array.isArray,zw=Object.prototype.hasOwnProperty,Uv={current:null},Uw={key:!0,ref:!0,__self:!0,__source:!0};function Vw(n,e,t){var i,r={},s=null,o=null;if(e!=null)for(i in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)zw.call(e,i)&&!Uw.hasOwnProperty(i)&&(r[i]=e[i]);var a=arguments.length-2;if(a===1)r.children=t;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];r.children=l}if(n&&n.defaultProps)for(i in a=n.defaultProps,a)r[i]===void 0&&(r[i]=a[i]);return{$$typeof:Gd,type:n,key:s,ref:o,props:r,_owner:Uv.current}}function SC(n,e){return{$$typeof:Gd,type:n.type,key:e,ref:n.ref,props:n.props,_owner:n._owner}}function Vv(n){return typeof n=="object"&&n!==null&&n.$$typeof===Gd}function CC(n){var e={"=":"=0",":":"=2"};return"$"+n.replace(/[=:]/g,function(t){return e[t]})}var yy=/\/+/g;function ym(n,e){return typeof n=="object"&&n!==null&&n.key!=null?CC(""+n.key):e.toString(36)}function Dh(n,e,t,i,r){var s=typeof n;(s==="undefined"||s==="boolean")&&(n=null);var o=!1;if(n===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(n.$$typeof){case Gd:case fC:o=!0}}if(o)return o=n,r=r(o),n=i===""?"."+ym(o,0):i,vy(r)?(t="",n!=null&&(t=n.replace(yy,"$&/")+"/"),Dh(r,e,t,"",function(u){return u})):r!=null&&(Vv(r)&&(r=SC(r,t+(!r.key||o&&o.key===r.key?"":(""+r.key).replace(yy,"$&/")+"/")+n)),e.push(r)),1;if(o=0,i=i===""?".":i+":",vy(n))for(var a=0;a<n.length;a++){s=n[a];var l=i+ym(s,a);o+=Dh(s,e,t,l,r)}else if(l=AC(n),typeof l=="function")for(n=l.call(n),a=0;!(s=n.next()).done;)s=s.value,l=i+ym(s,a++),o+=Dh(s,e,t,l,r);else if(s==="object")throw e=String(n),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function uh(n,e,t){if(n==null)return n;var i=[],r=0;return Dh(n,i,"","",function(s){return e.call(t,s,r++)}),i}function _C(n){if(n._status===-1){var e=n._result;e=e(),e.then(function(t){(n._status===0||n._status===-1)&&(n._status=1,n._result=t)},function(t){(n._status===0||n._status===-1)&&(n._status=2,n._result=t)}),n._status===-1&&(n._status=0,n._result=e)}if(n._status===1)return n._result.default;throw n._result}var It={current:null},Ih={transition:null},kC={ReactCurrentDispatcher:It,ReactCurrentBatchConfig:Ih,ReactCurrentOwner:Uv};function Ww(){throw Error("act(...) is not supported in production builds of React.")}ie.Children={map:uh,forEach:function(n,e,t){uh(n,function(){e.apply(this,arguments)},t)},count:function(n){var e=0;return uh(n,function(){e++}),e},toArray:function(n){return uh(n,function(e){return e})||[]},only:function(n){if(!Vv(n))throw Error("React.Children.only expected to receive a single React element child.");return n}};ie.Component=Bl;ie.Fragment=pC;ie.Profiler=gC;ie.PureComponent=Bv;ie.StrictMode=mC;ie.Suspense=wC;ie.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=kC;ie.act=Ww;ie.cloneElement=function(n,e,t){if(n==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+n+".");var i=$w({},n.props),r=n.key,s=n.ref,o=n._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=Uv.current),e.key!==void 0&&(r=""+e.key),n.type&&n.type.defaultProps)var a=n.type.defaultProps;for(l in e)zw.call(e,l)&&!Uw.hasOwnProperty(l)&&(i[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)i.children=t;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];i.children=a}return{$$typeof:Gd,type:n.type,key:r,ref:s,props:i,_owner:o}};ie.createContext=function(n){return n={$$typeof:yC,_currentValue:n,_currentValue2:n,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},n.Provider={$$typeof:vC,_context:n},n.Consumer=n};ie.createElement=Vw;ie.createFactory=function(n){var e=Vw.bind(null,n);return e.type=n,e};ie.createRef=function(){return{current:null}};ie.forwardRef=function(n){return{$$typeof:xC,render:n}};ie.isValidElement=Vv;ie.lazy=function(n){return{$$typeof:EC,_payload:{_status:-1,_result:n},_init:_C}};ie.memo=function(n,e){return{$$typeof:bC,type:n,compare:e===void 0?null:e}};ie.startTransition=function(n){var e=Ih.transition;Ih.transition={};try{n()}finally{Ih.transition=e}};ie.unstable_act=Ww;ie.useCallback=function(n,e){return It.current.useCallback(n,e)};ie.useContext=function(n){return It.current.useContext(n)};ie.useDebugValue=function(){};ie.useDeferredValue=function(n){return It.current.useDeferredValue(n)};ie.useEffect=function(n,e){return It.current.useEffect(n,e)};ie.useId=function(){return It.current.useId()};ie.useImperativeHandle=function(n,e,t){return It.current.useImperativeHandle(n,e,t)};ie.useInsertionEffect=function(n,e){return It.current.useInsertionEffect(n,e)};ie.useLayoutEffect=function(n,e){return It.current.useLayoutEffect(n,e)};ie.useMemo=function(n,e){return It.current.useMemo(n,e)};ie.useReducer=function(n,e,t){return It.current.useReducer(n,e,t)};ie.useRef=function(n){return It.current.useRef(n)};ie.useState=function(n){return It.current.useState(n)};ie.useSyncExternalStore=function(n,e,t){return It.current.useSyncExternalStore(n,e,t)};ie.useTransition=function(){return It.current.useTransition()};ie.version="18.3.1";Ow.exports=ie;var C=Ow.exports;const Me=hC(C),Af=dC({__proto__:null,default:Me},[C]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var TC=C,RC=Symbol.for("react.element"),PC=Symbol.for("react.fragment"),LC=Object.prototype.hasOwnProperty,NC=TC.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,MC={key:!0,ref:!0,__self:!0,__source:!0};function Gw(n,e,t){var i,r={},s=null,o=null;t!==void 0&&(s=""+t),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(i in e)LC.call(e,i)&&!MC.hasOwnProperty(i)&&(r[i]=e[i]);if(n&&n.defaultProps)for(i in e=n.defaultProps,e)r[i]===void 0&&(r[i]=e[i]);return{$$typeof:RC,type:n,key:s,ref:o,props:r,_owner:NC.current}}Pp.Fragment=PC;Pp.jsx=Gw;Pp.jsxs=Gw;Iw.exports=Pp;var w=Iw.exports,dg={},qw={exports:{}},mn={},Xw={exports:{}},Kw={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(n){function e(N,B){var W=N.length;N.push(B);e:for(;0<W;){var de=W-1>>>1,re=N[de];if(0<r(re,B))N[de]=B,N[W]=re,W=de;else break e}}function t(N){return N.length===0?null:N[0]}function i(N){if(N.length===0)return null;var B=N[0],W=N.pop();if(W!==B){N[0]=W;e:for(var de=0,re=N.length,Se=re>>>1;de<Se;){var gt=2*(de+1)-1,Mi=N[gt],_t=gt+1,he=N[_t];if(0>r(Mi,W))_t<re&&0>r(he,Mi)?(N[de]=he,N[_t]=W,de=_t):(N[de]=Mi,N[gt]=W,de=gt);else if(_t<re&&0>r(he,W))N[de]=he,N[_t]=W,de=_t;else break e}}return B}function r(N,B){var W=N.sortIndex-B.sortIndex;return W!==0?W:N.id-B.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;n.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();n.unstable_now=function(){return o.now()-a}}var l=[],u=[],d=1,h=null,f=3,p=!1,m=!1,v=!1,b=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,y=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function x(N){for(var B=t(u);B!==null;){if(B.callback===null)i(u);else if(B.startTime<=N)i(u),B.sortIndex=B.expirationTime,e(l,B);else break;B=t(u)}}function _(N){if(v=!1,x(N),!m)if(t(l)!==null)m=!0,se(k);else{var B=t(u);B!==null&&I(_,B.startTime-N)}}function k(N,B){m=!1,v&&(v=!1,g(L),L=-1),p=!0;var W=f;try{for(x(B),h=t(l);h!==null&&(!(h.expirationTime>B)||N&&!O());){var de=h.callback;if(typeof de=="function"){h.callback=null,f=h.priorityLevel;var re=de(h.expirationTime<=B);B=n.unstable_now(),typeof re=="function"?h.callback=re:h===t(l)&&i(l),x(B)}else i(l);h=t(l)}if(h!==null)var Se=!0;else{var gt=t(u);gt!==null&&I(_,gt.startTime-B),Se=!1}return Se}finally{h=null,f=W,p=!1}}var T=!1,R=null,L=-1,D=5,F=-1;function O(){return!(n.unstable_now()-F<D)}function Y(){if(R!==null){var N=n.unstable_now();F=N;var B=!0;try{B=R(!0,N)}finally{B?X():(T=!1,R=null)}}else T=!1}var X;if(typeof y=="function")X=function(){y(Y)};else if(typeof MessageChannel<"u"){var K=new MessageChannel,$=K.port2;K.port1.onmessage=Y,X=function(){$.postMessage(null)}}else X=function(){b(Y,0)};function se(N){R=N,T||(T=!0,X())}function I(N,B){L=b(function(){N(n.unstable_now())},B)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(N){N.callback=null},n.unstable_continueExecution=function(){m||p||(m=!0,se(k))},n.unstable_forceFrameRate=function(N){0>N||125<N?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):D=0<N?Math.floor(1e3/N):5},n.unstable_getCurrentPriorityLevel=function(){return f},n.unstable_getFirstCallbackNode=function(){return t(l)},n.unstable_next=function(N){switch(f){case 1:case 2:case 3:var B=3;break;default:B=f}var W=f;f=B;try{return N()}finally{f=W}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(N,B){switch(N){case 1:case 2:case 3:case 4:case 5:break;default:N=3}var W=f;f=N;try{return B()}finally{f=W}},n.unstable_scheduleCallback=function(N,B,W){var de=n.unstable_now();switch(typeof W=="object"&&W!==null?(W=W.delay,W=typeof W=="number"&&0<W?de+W:de):W=de,N){case 1:var re=-1;break;case 2:re=250;break;case 5:re=1073741823;break;case 4:re=1e4;break;default:re=5e3}return re=W+re,N={id:d++,callback:B,priorityLevel:N,startTime:W,expirationTime:re,sortIndex:-1},W>de?(N.sortIndex=W,e(u,N),t(l)===null&&N===t(u)&&(v?(g(L),L=-1):v=!0,I(_,W-de))):(N.sortIndex=re,e(l,N),m||p||(m=!0,se(k))),N},n.unstable_shouldYield=O,n.unstable_wrapCallback=function(N){var B=f;return function(){var W=f;f=B;try{return N.apply(this,arguments)}finally{f=W}}}})(Kw);Xw.exports=Kw;var FC=Xw.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var DC=C,pn=FC;function M(n){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+n,t=1;t<arguments.length;t++)e+="&args[]="+encodeURIComponent(arguments[t]);return"Minified React error #"+n+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Yw=new Set,Vc={};function ra(n,e){Nl(n,e),Nl(n+"Capture",e)}function Nl(n,e){for(Vc[n]=e,n=0;n<e.length;n++)Yw.add(e[n])}var br=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),hg=Object.prototype.hasOwnProperty,IC=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,xy={},wy={};function OC(n){return hg.call(wy,n)?!0:hg.call(xy,n)?!1:IC.test(n)?wy[n]=!0:(xy[n]=!0,!1)}function jC(n,e,t,i){if(t!==null&&t.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return i?!1:t!==null?!t.acceptsBooleans:(n=n.toLowerCase().slice(0,5),n!=="data-"&&n!=="aria-");default:return!1}}function $C(n,e,t,i){if(e===null||typeof e>"u"||jC(n,e,t,i))return!0;if(i)return!1;if(t!==null)switch(t.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Ot(n,e,t,i,r,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=i,this.attributeNamespace=r,this.mustUseProperty=t,this.propertyName=n,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var mt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(n){mt[n]=new Ot(n,0,!1,n,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(n){var e=n[0];mt[e]=new Ot(e,1,!1,n[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(n){mt[n]=new Ot(n,2,!1,n.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(n){mt[n]=new Ot(n,2,!1,n,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(n){mt[n]=new Ot(n,3,!1,n.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(n){mt[n]=new Ot(n,3,!0,n,null,!1,!1)});["capture","download"].forEach(function(n){mt[n]=new Ot(n,4,!1,n,null,!1,!1)});["cols","rows","size","span"].forEach(function(n){mt[n]=new Ot(n,6,!1,n,null,!1,!1)});["rowSpan","start"].forEach(function(n){mt[n]=new Ot(n,5,!1,n.toLowerCase(),null,!1,!1)});var Wv=/[\-:]([a-z])/g;function Gv(n){return n[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(n){var e=n.replace(Wv,Gv);mt[e]=new Ot(e,1,!1,n,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(n){var e=n.replace(Wv,Gv);mt[e]=new Ot(e,1,!1,n,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(n){var e=n.replace(Wv,Gv);mt[e]=new Ot(e,1,!1,n,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(n){mt[n]=new Ot(n,1,!1,n.toLowerCase(),null,!1,!1)});mt.xlinkHref=new Ot("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(n){mt[n]=new Ot(n,1,!1,n.toLowerCase(),null,!0,!0)});function qv(n,e,t,i){var r=mt.hasOwnProperty(e)?mt[e]:null;(r!==null?r.type!==0:i||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&($C(e,t,r,i)&&(t=null),i||r===null?OC(e)&&(t===null?n.removeAttribute(e):n.setAttribute(e,""+t)):r.mustUseProperty?n[r.propertyName]=t===null?r.type===3?!1:"":t:(e=r.attributeName,i=r.attributeNamespace,t===null?n.removeAttribute(e):(r=r.type,t=r===3||r===4&&t===!0?"":""+t,i?n.setAttributeNS(i,e,t):n.setAttribute(e,t))))}var kr=DC.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,dh=Symbol.for("react.element"),va=Symbol.for("react.portal"),ya=Symbol.for("react.fragment"),Xv=Symbol.for("react.strict_mode"),fg=Symbol.for("react.profiler"),Qw=Symbol.for("react.provider"),Zw=Symbol.for("react.context"),Kv=Symbol.for("react.forward_ref"),pg=Symbol.for("react.suspense"),mg=Symbol.for("react.suspense_list"),Yv=Symbol.for("react.memo"),Dr=Symbol.for("react.lazy"),Jw=Symbol.for("react.offscreen"),by=Symbol.iterator;function Zl(n){return n===null||typeof n!="object"?null:(n=by&&n[by]||n["@@iterator"],typeof n=="function"?n:null)}var De=Object.assign,xm;function dc(n){if(xm===void 0)try{throw Error()}catch(t){var e=t.stack.trim().match(/\n( *(at )?)/);xm=e&&e[1]||""}return`
`+xm+n}var wm=!1;function bm(n,e){if(!n||wm)return"";wm=!0;var t=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var i=u}Reflect.construct(n,[],e)}else{try{e.call()}catch(u){i=u}n.call(e.prototype)}else{try{throw Error()}catch(u){i=u}n()}}catch(u){if(u&&i&&typeof u.stack=="string"){for(var r=u.stack.split(`
`),s=i.stack.split(`
`),o=r.length-1,a=s.length-1;1<=o&&0<=a&&r[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(r[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||r[o]!==s[a]){var l=`
`+r[o].replace(" at new "," at ");return n.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",n.displayName)),l}while(1<=o&&0<=a);break}}}finally{wm=!1,Error.prepareStackTrace=t}return(n=n?n.displayName||n.name:"")?dc(n):""}function HC(n){switch(n.tag){case 5:return dc(n.type);case 16:return dc("Lazy");case 13:return dc("Suspense");case 19:return dc("SuspenseList");case 0:case 2:case 15:return n=bm(n.type,!1),n;case 11:return n=bm(n.type.render,!1),n;case 1:return n=bm(n.type,!0),n;default:return""}}function gg(n){if(n==null)return null;if(typeof n=="function")return n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case ya:return"Fragment";case va:return"Portal";case fg:return"Profiler";case Xv:return"StrictMode";case pg:return"Suspense";case mg:return"SuspenseList"}if(typeof n=="object")switch(n.$$typeof){case Zw:return(n.displayName||"Context")+".Consumer";case Qw:return(n._context.displayName||"Context")+".Provider";case Kv:var e=n.render;return n=n.displayName,n||(n=e.displayName||e.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case Yv:return e=n.displayName||null,e!==null?e:gg(n.type)||"Memo";case Dr:e=n._payload,n=n._init;try{return gg(n(e))}catch{}}return null}function BC(n){var e=n.type;switch(n.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return n=e.render,n=n.displayName||n.name||"",e.displayName||(n!==""?"ForwardRef("+n+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return gg(e);case 8:return e===Xv?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function xs(n){switch(typeof n){case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function eb(n){var e=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function zC(n){var e=eb(n)?"checked":"value",t=Object.getOwnPropertyDescriptor(n.constructor.prototype,e),i=""+n[e];if(!n.hasOwnProperty(e)&&typeof t<"u"&&typeof t.get=="function"&&typeof t.set=="function"){var r=t.get,s=t.set;return Object.defineProperty(n,e,{configurable:!0,get:function(){return r.call(this)},set:function(o){i=""+o,s.call(this,o)}}),Object.defineProperty(n,e,{enumerable:t.enumerable}),{getValue:function(){return i},setValue:function(o){i=""+o},stopTracking:function(){n._valueTracker=null,delete n[e]}}}}function hh(n){n._valueTracker||(n._valueTracker=zC(n))}function tb(n){if(!n)return!1;var e=n._valueTracker;if(!e)return!0;var t=e.getValue(),i="";return n&&(i=eb(n)?n.checked?"true":"false":n.value),n=i,n!==t?(e.setValue(n),!0):!1}function Sf(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}function vg(n,e){var t=e.checked;return De({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:t??n._wrapperState.initialChecked})}function Ey(n,e){var t=e.defaultValue==null?"":e.defaultValue,i=e.checked!=null?e.checked:e.defaultChecked;t=xs(e.value!=null?e.value:t),n._wrapperState={initialChecked:i,initialValue:t,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function nb(n,e){e=e.checked,e!=null&&qv(n,"checked",e,!1)}function yg(n,e){nb(n,e);var t=xs(e.value),i=e.type;if(t!=null)i==="number"?(t===0&&n.value===""||n.value!=t)&&(n.value=""+t):n.value!==""+t&&(n.value=""+t);else if(i==="submit"||i==="reset"){n.removeAttribute("value");return}e.hasOwnProperty("value")?xg(n,e.type,t):e.hasOwnProperty("defaultValue")&&xg(n,e.type,xs(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(n.defaultChecked=!!e.defaultChecked)}function Ay(n,e,t){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var i=e.type;if(!(i!=="submit"&&i!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+n._wrapperState.initialValue,t||e===n.value||(n.value=e),n.defaultValue=e}t=n.name,t!==""&&(n.name=""),n.defaultChecked=!!n._wrapperState.initialChecked,t!==""&&(n.name=t)}function xg(n,e,t){(e!=="number"||Sf(n.ownerDocument)!==n)&&(t==null?n.defaultValue=""+n._wrapperState.initialValue:n.defaultValue!==""+t&&(n.defaultValue=""+t))}var hc=Array.isArray;function Pa(n,e,t,i){if(n=n.options,e){e={};for(var r=0;r<t.length;r++)e["$"+t[r]]=!0;for(t=0;t<n.length;t++)r=e.hasOwnProperty("$"+n[t].value),n[t].selected!==r&&(n[t].selected=r),r&&i&&(n[t].defaultSelected=!0)}else{for(t=""+xs(t),e=null,r=0;r<n.length;r++){if(n[r].value===t){n[r].selected=!0,i&&(n[r].defaultSelected=!0);return}e!==null||n[r].disabled||(e=n[r])}e!==null&&(e.selected=!0)}}function wg(n,e){if(e.dangerouslySetInnerHTML!=null)throw Error(M(91));return De({},e,{value:void 0,defaultValue:void 0,children:""+n._wrapperState.initialValue})}function Sy(n,e){var t=e.value;if(t==null){if(t=e.children,e=e.defaultValue,t!=null){if(e!=null)throw Error(M(92));if(hc(t)){if(1<t.length)throw Error(M(93));t=t[0]}e=t}e==null&&(e=""),t=e}n._wrapperState={initialValue:xs(t)}}function ib(n,e){var t=xs(e.value),i=xs(e.defaultValue);t!=null&&(t=""+t,t!==n.value&&(n.value=t),e.defaultValue==null&&n.defaultValue!==t&&(n.defaultValue=t)),i!=null&&(n.defaultValue=""+i)}function Cy(n){var e=n.textContent;e===n._wrapperState.initialValue&&e!==""&&e!==null&&(n.value=e)}function rb(n){switch(n){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function bg(n,e){return n==null||n==="http://www.w3.org/1999/xhtml"?rb(e):n==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":n}var fh,sb=function(n){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,t,i,r){MSApp.execUnsafeLocalFunction(function(){return n(e,t,i,r)})}:n}(function(n,e){if(n.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in n)n.innerHTML=e;else{for(fh=fh||document.createElement("div"),fh.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=fh.firstChild;n.firstChild;)n.removeChild(n.firstChild);for(;e.firstChild;)n.appendChild(e.firstChild)}});function Wc(n,e){if(e){var t=n.firstChild;if(t&&t===n.lastChild&&t.nodeType===3){t.nodeValue=e;return}}n.textContent=e}var Pc={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},UC=["Webkit","ms","Moz","O"];Object.keys(Pc).forEach(function(n){UC.forEach(function(e){e=e+n.charAt(0).toUpperCase()+n.substring(1),Pc[e]=Pc[n]})});function ob(n,e,t){return e==null||typeof e=="boolean"||e===""?"":t||typeof e!="number"||e===0||Pc.hasOwnProperty(n)&&Pc[n]?(""+e).trim():e+"px"}function ab(n,e){n=n.style;for(var t in e)if(e.hasOwnProperty(t)){var i=t.indexOf("--")===0,r=ob(t,e[t],i);t==="float"&&(t="cssFloat"),i?n.setProperty(t,r):n[t]=r}}var VC=De({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Eg(n,e){if(e){if(VC[n]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(M(137,n));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(M(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(M(61))}if(e.style!=null&&typeof e.style!="object")throw Error(M(62))}}function Ag(n,e){if(n.indexOf("-")===-1)return typeof e.is=="string";switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Sg=null;function Qv(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var Cg=null,La=null,Na=null;function _y(n){if(n=Kd(n)){if(typeof Cg!="function")throw Error(M(280));var e=n.stateNode;e&&(e=Dp(e),Cg(n.stateNode,n.type,e))}}function lb(n){La?Na?Na.push(n):Na=[n]:La=n}function cb(){if(La){var n=La,e=Na;if(Na=La=null,_y(n),e)for(n=0;n<e.length;n++)_y(e[n])}}function ub(n,e){return n(e)}function db(){}var Em=!1;function hb(n,e,t){if(Em)return n(e,t);Em=!0;try{return ub(n,e,t)}finally{Em=!1,(La!==null||Na!==null)&&(db(),cb())}}function Gc(n,e){var t=n.stateNode;if(t===null)return null;var i=Dp(t);if(i===null)return null;t=i[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(n=n.type,i=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!i;break e;default:n=!1}if(n)return null;if(t&&typeof t!="function")throw Error(M(231,e,typeof t));return t}var _g=!1;if(br)try{var Jl={};Object.defineProperty(Jl,"passive",{get:function(){_g=!0}}),window.addEventListener("test",Jl,Jl),window.removeEventListener("test",Jl,Jl)}catch{_g=!1}function WC(n,e,t,i,r,s,o,a,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(t,u)}catch(d){this.onError(d)}}var Lc=!1,Cf=null,_f=!1,kg=null,GC={onError:function(n){Lc=!0,Cf=n}};function qC(n,e,t,i,r,s,o,a,l){Lc=!1,Cf=null,WC.apply(GC,arguments)}function XC(n,e,t,i,r,s,o,a,l){if(qC.apply(this,arguments),Lc){if(Lc){var u=Cf;Lc=!1,Cf=null}else throw Error(M(198));_f||(_f=!0,kg=u)}}function sa(n){var e=n,t=n;if(n.alternate)for(;e.return;)e=e.return;else{n=e;do e=n,e.flags&4098&&(t=e.return),n=e.return;while(n)}return e.tag===3?t:null}function fb(n){if(n.tag===13){var e=n.memoizedState;if(e===null&&(n=n.alternate,n!==null&&(e=n.memoizedState)),e!==null)return e.dehydrated}return null}function ky(n){if(sa(n)!==n)throw Error(M(188))}function KC(n){var e=n.alternate;if(!e){if(e=sa(n),e===null)throw Error(M(188));return e!==n?null:n}for(var t=n,i=e;;){var r=t.return;if(r===null)break;var s=r.alternate;if(s===null){if(i=r.return,i!==null){t=i;continue}break}if(r.child===s.child){for(s=r.child;s;){if(s===t)return ky(r),n;if(s===i)return ky(r),e;s=s.sibling}throw Error(M(188))}if(t.return!==i.return)t=r,i=s;else{for(var o=!1,a=r.child;a;){if(a===t){o=!0,t=r,i=s;break}if(a===i){o=!0,i=r,t=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===t){o=!0,t=s,i=r;break}if(a===i){o=!0,i=s,t=r;break}a=a.sibling}if(!o)throw Error(M(189))}}if(t.alternate!==i)throw Error(M(190))}if(t.tag!==3)throw Error(M(188));return t.stateNode.current===t?n:e}function pb(n){return n=KC(n),n!==null?mb(n):null}function mb(n){if(n.tag===5||n.tag===6)return n;for(n=n.child;n!==null;){var e=mb(n);if(e!==null)return e;n=n.sibling}return null}var gb=pn.unstable_scheduleCallback,Ty=pn.unstable_cancelCallback,YC=pn.unstable_shouldYield,QC=pn.unstable_requestPaint,He=pn.unstable_now,ZC=pn.unstable_getCurrentPriorityLevel,Zv=pn.unstable_ImmediatePriority,vb=pn.unstable_UserBlockingPriority,kf=pn.unstable_NormalPriority,JC=pn.unstable_LowPriority,yb=pn.unstable_IdlePriority,Lp=null,ki=null;function e_(n){if(ki&&typeof ki.onCommitFiberRoot=="function")try{ki.onCommitFiberRoot(Lp,n,void 0,(n.current.flags&128)===128)}catch{}}var ei=Math.clz32?Math.clz32:i_,t_=Math.log,n_=Math.LN2;function i_(n){return n>>>=0,n===0?32:31-(t_(n)/n_|0)|0}var ph=64,mh=4194304;function fc(n){switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return n&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return n}}function Tf(n,e){var t=n.pendingLanes;if(t===0)return 0;var i=0,r=n.suspendedLanes,s=n.pingedLanes,o=t&268435455;if(o!==0){var a=o&~r;a!==0?i=fc(a):(s&=o,s!==0&&(i=fc(s)))}else o=t&~r,o!==0?i=fc(o):s!==0&&(i=fc(s));if(i===0)return 0;if(e!==0&&e!==i&&!(e&r)&&(r=i&-i,s=e&-e,r>=s||r===16&&(s&4194240)!==0))return e;if(i&4&&(i|=t&16),e=n.entangledLanes,e!==0)for(n=n.entanglements,e&=i;0<e;)t=31-ei(e),r=1<<t,i|=n[t],e&=~r;return i}function r_(n,e){switch(n){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function s_(n,e){for(var t=n.suspendedLanes,i=n.pingedLanes,r=n.expirationTimes,s=n.pendingLanes;0<s;){var o=31-ei(s),a=1<<o,l=r[o];l===-1?(!(a&t)||a&i)&&(r[o]=r_(a,e)):l<=e&&(n.expiredLanes|=a),s&=~a}}function Tg(n){return n=n.pendingLanes&-1073741825,n!==0?n:n&1073741824?1073741824:0}function xb(){var n=ph;return ph<<=1,!(ph&4194240)&&(ph=64),n}function Am(n){for(var e=[],t=0;31>t;t++)e.push(n);return e}function qd(n,e,t){n.pendingLanes|=e,e!==536870912&&(n.suspendedLanes=0,n.pingedLanes=0),n=n.eventTimes,e=31-ei(e),n[e]=t}function o_(n,e){var t=n.pendingLanes&~e;n.pendingLanes=e,n.suspendedLanes=0,n.pingedLanes=0,n.expiredLanes&=e,n.mutableReadLanes&=e,n.entangledLanes&=e,e=n.entanglements;var i=n.eventTimes;for(n=n.expirationTimes;0<t;){var r=31-ei(t),s=1<<r;e[r]=0,i[r]=-1,n[r]=-1,t&=~s}}function Jv(n,e){var t=n.entangledLanes|=e;for(n=n.entanglements;t;){var i=31-ei(t),r=1<<i;r&e|n[i]&e&&(n[i]|=e),t&=~r}}var ge=0;function wb(n){return n&=-n,1<n?4<n?n&268435455?16:536870912:4:1}var bb,e1,Eb,Ab,Sb,Rg=!1,gh=[],us=null,ds=null,hs=null,qc=new Map,Xc=new Map,Or=[],a_="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Ry(n,e){switch(n){case"focusin":case"focusout":us=null;break;case"dragenter":case"dragleave":ds=null;break;case"mouseover":case"mouseout":hs=null;break;case"pointerover":case"pointerout":qc.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Xc.delete(e.pointerId)}}function ec(n,e,t,i,r,s){return n===null||n.nativeEvent!==s?(n={blockedOn:e,domEventName:t,eventSystemFlags:i,nativeEvent:s,targetContainers:[r]},e!==null&&(e=Kd(e),e!==null&&e1(e)),n):(n.eventSystemFlags|=i,e=n.targetContainers,r!==null&&e.indexOf(r)===-1&&e.push(r),n)}function l_(n,e,t,i,r){switch(e){case"focusin":return us=ec(us,n,e,t,i,r),!0;case"dragenter":return ds=ec(ds,n,e,t,i,r),!0;case"mouseover":return hs=ec(hs,n,e,t,i,r),!0;case"pointerover":var s=r.pointerId;return qc.set(s,ec(qc.get(s)||null,n,e,t,i,r)),!0;case"gotpointercapture":return s=r.pointerId,Xc.set(s,ec(Xc.get(s)||null,n,e,t,i,r)),!0}return!1}function Cb(n){var e=js(n.target);if(e!==null){var t=sa(e);if(t!==null){if(e=t.tag,e===13){if(e=fb(t),e!==null){n.blockedOn=e,Sb(n.priority,function(){Eb(t)});return}}else if(e===3&&t.stateNode.current.memoizedState.isDehydrated){n.blockedOn=t.tag===3?t.stateNode.containerInfo:null;return}}}n.blockedOn=null}function Oh(n){if(n.blockedOn!==null)return!1;for(var e=n.targetContainers;0<e.length;){var t=Pg(n.domEventName,n.eventSystemFlags,e[0],n.nativeEvent);if(t===null){t=n.nativeEvent;var i=new t.constructor(t.type,t);Sg=i,t.target.dispatchEvent(i),Sg=null}else return e=Kd(t),e!==null&&e1(e),n.blockedOn=t,!1;e.shift()}return!0}function Py(n,e,t){Oh(n)&&t.delete(e)}function c_(){Rg=!1,us!==null&&Oh(us)&&(us=null),ds!==null&&Oh(ds)&&(ds=null),hs!==null&&Oh(hs)&&(hs=null),qc.forEach(Py),Xc.forEach(Py)}function tc(n,e){n.blockedOn===e&&(n.blockedOn=null,Rg||(Rg=!0,pn.unstable_scheduleCallback(pn.unstable_NormalPriority,c_)))}function Kc(n){function e(r){return tc(r,n)}if(0<gh.length){tc(gh[0],n);for(var t=1;t<gh.length;t++){var i=gh[t];i.blockedOn===n&&(i.blockedOn=null)}}for(us!==null&&tc(us,n),ds!==null&&tc(ds,n),hs!==null&&tc(hs,n),qc.forEach(e),Xc.forEach(e),t=0;t<Or.length;t++)i=Or[t],i.blockedOn===n&&(i.blockedOn=null);for(;0<Or.length&&(t=Or[0],t.blockedOn===null);)Cb(t),t.blockedOn===null&&Or.shift()}var Ma=kr.ReactCurrentBatchConfig,Rf=!0;function u_(n,e,t,i){var r=ge,s=Ma.transition;Ma.transition=null;try{ge=1,t1(n,e,t,i)}finally{ge=r,Ma.transition=s}}function d_(n,e,t,i){var r=ge,s=Ma.transition;Ma.transition=null;try{ge=4,t1(n,e,t,i)}finally{ge=r,Ma.transition=s}}function t1(n,e,t,i){if(Rf){var r=Pg(n,e,t,i);if(r===null)Mm(n,e,i,Pf,t),Ry(n,i);else if(l_(r,n,e,t,i))i.stopPropagation();else if(Ry(n,i),e&4&&-1<a_.indexOf(n)){for(;r!==null;){var s=Kd(r);if(s!==null&&bb(s),s=Pg(n,e,t,i),s===null&&Mm(n,e,i,Pf,t),s===r)break;r=s}r!==null&&i.stopPropagation()}else Mm(n,e,i,null,t)}}var Pf=null;function Pg(n,e,t,i){if(Pf=null,n=Qv(i),n=js(n),n!==null)if(e=sa(n),e===null)n=null;else if(t=e.tag,t===13){if(n=fb(e),n!==null)return n;n=null}else if(t===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;n=null}else e!==n&&(n=null);return Pf=n,null}function _b(n){switch(n){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(ZC()){case Zv:return 1;case vb:return 4;case kf:case JC:return 16;case yb:return 536870912;default:return 16}default:return 16}}var os=null,n1=null,jh=null;function kb(){if(jh)return jh;var n,e=n1,t=e.length,i,r="value"in os?os.value:os.textContent,s=r.length;for(n=0;n<t&&e[n]===r[n];n++);var o=t-n;for(i=1;i<=o&&e[t-i]===r[s-i];i++);return jh=r.slice(n,1<i?1-i:void 0)}function $h(n){var e=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&e===13&&(n=13)):n=e,n===10&&(n=13),32<=n||n===13?n:0}function vh(){return!0}function Ly(){return!1}function gn(n){function e(t,i,r,s,o){this._reactName=t,this._targetInst=r,this.type=i,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in n)n.hasOwnProperty(a)&&(t=n[a],this[a]=t?t(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?vh:Ly,this.isPropagationStopped=Ly,this}return De(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var t=this.nativeEvent;t&&(t.preventDefault?t.preventDefault():typeof t.returnValue!="unknown"&&(t.returnValue=!1),this.isDefaultPrevented=vh)},stopPropagation:function(){var t=this.nativeEvent;t&&(t.stopPropagation?t.stopPropagation():typeof t.cancelBubble!="unknown"&&(t.cancelBubble=!0),this.isPropagationStopped=vh)},persist:function(){},isPersistent:vh}),e}var zl={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},i1=gn(zl),Xd=De({},zl,{view:0,detail:0}),h_=gn(Xd),Sm,Cm,nc,Np=De({},Xd,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:r1,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==nc&&(nc&&n.type==="mousemove"?(Sm=n.screenX-nc.screenX,Cm=n.screenY-nc.screenY):Cm=Sm=0,nc=n),Sm)},movementY:function(n){return"movementY"in n?n.movementY:Cm}}),Ny=gn(Np),f_=De({},Np,{dataTransfer:0}),p_=gn(f_),m_=De({},Xd,{relatedTarget:0}),_m=gn(m_),g_=De({},zl,{animationName:0,elapsedTime:0,pseudoElement:0}),v_=gn(g_),y_=De({},zl,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),x_=gn(y_),w_=De({},zl,{data:0}),My=gn(w_),b_={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},E_={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},A_={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function S_(n){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(n):(n=A_[n])?!!e[n]:!1}function r1(){return S_}var C_=De({},Xd,{key:function(n){if(n.key){var e=b_[n.key]||n.key;if(e!=="Unidentified")return e}return n.type==="keypress"?(n=$h(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?E_[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:r1,charCode:function(n){return n.type==="keypress"?$h(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?$h(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),__=gn(C_),k_=De({},Np,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Fy=gn(k_),T_=De({},Xd,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:r1}),R_=gn(T_),P_=De({},zl,{propertyName:0,elapsedTime:0,pseudoElement:0}),L_=gn(P_),N_=De({},Np,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),M_=gn(N_),F_=[9,13,27,32],s1=br&&"CompositionEvent"in window,Nc=null;br&&"documentMode"in document&&(Nc=document.documentMode);var D_=br&&"TextEvent"in window&&!Nc,Tb=br&&(!s1||Nc&&8<Nc&&11>=Nc),Dy=" ",Iy=!1;function Rb(n,e){switch(n){case"keyup":return F_.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Pb(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var xa=!1;function I_(n,e){switch(n){case"compositionend":return Pb(e);case"keypress":return e.which!==32?null:(Iy=!0,Dy);case"textInput":return n=e.data,n===Dy&&Iy?null:n;default:return null}}function O_(n,e){if(xa)return n==="compositionend"||!s1&&Rb(n,e)?(n=kb(),jh=n1=os=null,xa=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return Tb&&e.locale!=="ko"?null:e.data;default:return null}}var j_={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Oy(n){var e=n&&n.nodeName&&n.nodeName.toLowerCase();return e==="input"?!!j_[n.type]:e==="textarea"}function Lb(n,e,t,i){lb(i),e=Lf(e,"onChange"),0<e.length&&(t=new i1("onChange","change",null,t,i),n.push({event:t,listeners:e}))}var Mc=null,Yc=null;function $_(n){zb(n,0)}function Mp(n){var e=Ea(n);if(tb(e))return n}function H_(n,e){if(n==="change")return e}var Nb=!1;if(br){var km;if(br){var Tm="oninput"in document;if(!Tm){var jy=document.createElement("div");jy.setAttribute("oninput","return;"),Tm=typeof jy.oninput=="function"}km=Tm}else km=!1;Nb=km&&(!document.documentMode||9<document.documentMode)}function $y(){Mc&&(Mc.detachEvent("onpropertychange",Mb),Yc=Mc=null)}function Mb(n){if(n.propertyName==="value"&&Mp(Yc)){var e=[];Lb(e,Yc,n,Qv(n)),hb($_,e)}}function B_(n,e,t){n==="focusin"?($y(),Mc=e,Yc=t,Mc.attachEvent("onpropertychange",Mb)):n==="focusout"&&$y()}function z_(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return Mp(Yc)}function U_(n,e){if(n==="click")return Mp(e)}function V_(n,e){if(n==="input"||n==="change")return Mp(e)}function W_(n,e){return n===e&&(n!==0||1/n===1/e)||n!==n&&e!==e}var ii=typeof Object.is=="function"?Object.is:W_;function Qc(n,e){if(ii(n,e))return!0;if(typeof n!="object"||n===null||typeof e!="object"||e===null)return!1;var t=Object.keys(n),i=Object.keys(e);if(t.length!==i.length)return!1;for(i=0;i<t.length;i++){var r=t[i];if(!hg.call(e,r)||!ii(n[r],e[r]))return!1}return!0}function Hy(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function By(n,e){var t=Hy(n);n=0;for(var i;t;){if(t.nodeType===3){if(i=n+t.textContent.length,n<=e&&i>=e)return{node:t,offset:e-n};n=i}e:{for(;t;){if(t.nextSibling){t=t.nextSibling;break e}t=t.parentNode}t=void 0}t=Hy(t)}}function Fb(n,e){return n&&e?n===e?!0:n&&n.nodeType===3?!1:e&&e.nodeType===3?Fb(n,e.parentNode):"contains"in n?n.contains(e):n.compareDocumentPosition?!!(n.compareDocumentPosition(e)&16):!1:!1}function Db(){for(var n=window,e=Sf();e instanceof n.HTMLIFrameElement;){try{var t=typeof e.contentWindow.location.href=="string"}catch{t=!1}if(t)n=e.contentWindow;else break;e=Sf(n.document)}return e}function o1(n){var e=n&&n.nodeName&&n.nodeName.toLowerCase();return e&&(e==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||e==="textarea"||n.contentEditable==="true")}function G_(n){var e=Db(),t=n.focusedElem,i=n.selectionRange;if(e!==t&&t&&t.ownerDocument&&Fb(t.ownerDocument.documentElement,t)){if(i!==null&&o1(t)){if(e=i.start,n=i.end,n===void 0&&(n=e),"selectionStart"in t)t.selectionStart=e,t.selectionEnd=Math.min(n,t.value.length);else if(n=(e=t.ownerDocument||document)&&e.defaultView||window,n.getSelection){n=n.getSelection();var r=t.textContent.length,s=Math.min(i.start,r);i=i.end===void 0?s:Math.min(i.end,r),!n.extend&&s>i&&(r=i,i=s,s=r),r=By(t,s);var o=By(t,i);r&&o&&(n.rangeCount!==1||n.anchorNode!==r.node||n.anchorOffset!==r.offset||n.focusNode!==o.node||n.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(r.node,r.offset),n.removeAllRanges(),s>i?(n.addRange(e),n.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),n.addRange(e)))}}for(e=[],n=t;n=n.parentNode;)n.nodeType===1&&e.push({element:n,left:n.scrollLeft,top:n.scrollTop});for(typeof t.focus=="function"&&t.focus(),t=0;t<e.length;t++)n=e[t],n.element.scrollLeft=n.left,n.element.scrollTop=n.top}}var q_=br&&"documentMode"in document&&11>=document.documentMode,wa=null,Lg=null,Fc=null,Ng=!1;function zy(n,e,t){var i=t.window===t?t.document:t.nodeType===9?t:t.ownerDocument;Ng||wa==null||wa!==Sf(i)||(i=wa,"selectionStart"in i&&o1(i)?i={start:i.selectionStart,end:i.selectionEnd}:(i=(i.ownerDocument&&i.ownerDocument.defaultView||window).getSelection(),i={anchorNode:i.anchorNode,anchorOffset:i.anchorOffset,focusNode:i.focusNode,focusOffset:i.focusOffset}),Fc&&Qc(Fc,i)||(Fc=i,i=Lf(Lg,"onSelect"),0<i.length&&(e=new i1("onSelect","select",null,e,t),n.push({event:e,listeners:i}),e.target=wa)))}function yh(n,e){var t={};return t[n.toLowerCase()]=e.toLowerCase(),t["Webkit"+n]="webkit"+e,t["Moz"+n]="moz"+e,t}var ba={animationend:yh("Animation","AnimationEnd"),animationiteration:yh("Animation","AnimationIteration"),animationstart:yh("Animation","AnimationStart"),transitionend:yh("Transition","TransitionEnd")},Rm={},Ib={};br&&(Ib=document.createElement("div").style,"AnimationEvent"in window||(delete ba.animationend.animation,delete ba.animationiteration.animation,delete ba.animationstart.animation),"TransitionEvent"in window||delete ba.transitionend.transition);function Fp(n){if(Rm[n])return Rm[n];if(!ba[n])return n;var e=ba[n],t;for(t in e)if(e.hasOwnProperty(t)&&t in Ib)return Rm[n]=e[t];return n}var Ob=Fp("animationend"),jb=Fp("animationiteration"),$b=Fp("animationstart"),Hb=Fp("transitionend"),Bb=new Map,Uy="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ks(n,e){Bb.set(n,e),ra(e,[n])}for(var Pm=0;Pm<Uy.length;Pm++){var Lm=Uy[Pm],X_=Lm.toLowerCase(),K_=Lm[0].toUpperCase()+Lm.slice(1);ks(X_,"on"+K_)}ks(Ob,"onAnimationEnd");ks(jb,"onAnimationIteration");ks($b,"onAnimationStart");ks("dblclick","onDoubleClick");ks("focusin","onFocus");ks("focusout","onBlur");ks(Hb,"onTransitionEnd");Nl("onMouseEnter",["mouseout","mouseover"]);Nl("onMouseLeave",["mouseout","mouseover"]);Nl("onPointerEnter",["pointerout","pointerover"]);Nl("onPointerLeave",["pointerout","pointerover"]);ra("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));ra("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));ra("onBeforeInput",["compositionend","keypress","textInput","paste"]);ra("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));ra("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));ra("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var pc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Y_=new Set("cancel close invalid load scroll toggle".split(" ").concat(pc));function Vy(n,e,t){var i=n.type||"unknown-event";n.currentTarget=t,XC(i,e,void 0,n),n.currentTarget=null}function zb(n,e){e=(e&4)!==0;for(var t=0;t<n.length;t++){var i=n[t],r=i.event;i=i.listeners;e:{var s=void 0;if(e)for(var o=i.length-1;0<=o;o--){var a=i[o],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==s&&r.isPropagationStopped())break e;Vy(r,a,u),s=l}else for(o=0;o<i.length;o++){if(a=i[o],l=a.instance,u=a.currentTarget,a=a.listener,l!==s&&r.isPropagationStopped())break e;Vy(r,a,u),s=l}}}if(_f)throw n=kg,_f=!1,kg=null,n}function Ce(n,e){var t=e[Og];t===void 0&&(t=e[Og]=new Set);var i=n+"__bubble";t.has(i)||(Ub(e,n,2,!1),t.add(i))}function Nm(n,e,t){var i=0;e&&(i|=4),Ub(t,n,i,e)}var xh="_reactListening"+Math.random().toString(36).slice(2);function Zc(n){if(!n[xh]){n[xh]=!0,Yw.forEach(function(t){t!=="selectionchange"&&(Y_.has(t)||Nm(t,!1,n),Nm(t,!0,n))});var e=n.nodeType===9?n:n.ownerDocument;e===null||e[xh]||(e[xh]=!0,Nm("selectionchange",!1,e))}}function Ub(n,e,t,i){switch(_b(e)){case 1:var r=u_;break;case 4:r=d_;break;default:r=t1}t=r.bind(null,e,t,n),r=void 0,!_g||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(r=!0),i?r!==void 0?n.addEventListener(e,t,{capture:!0,passive:r}):n.addEventListener(e,t,!0):r!==void 0?n.addEventListener(e,t,{passive:r}):n.addEventListener(e,t,!1)}function Mm(n,e,t,i,r){var s=i;if(!(e&1)&&!(e&2)&&i!==null)e:for(;;){if(i===null)return;var o=i.tag;if(o===3||o===4){var a=i.stateNode.containerInfo;if(a===r||a.nodeType===8&&a.parentNode===r)break;if(o===4)for(o=i.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===r||l.nodeType===8&&l.parentNode===r))return;o=o.return}for(;a!==null;){if(o=js(a),o===null)return;if(l=o.tag,l===5||l===6){i=s=o;continue e}a=a.parentNode}}i=i.return}hb(function(){var u=s,d=Qv(t),h=[];e:{var f=Bb.get(n);if(f!==void 0){var p=i1,m=n;switch(n){case"keypress":if($h(t)===0)break e;case"keydown":case"keyup":p=__;break;case"focusin":m="focus",p=_m;break;case"focusout":m="blur",p=_m;break;case"beforeblur":case"afterblur":p=_m;break;case"click":if(t.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=Ny;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=p_;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=R_;break;case Ob:case jb:case $b:p=v_;break;case Hb:p=L_;break;case"scroll":p=h_;break;case"wheel":p=M_;break;case"copy":case"cut":case"paste":p=x_;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=Fy}var v=(e&4)!==0,b=!v&&n==="scroll",g=v?f!==null?f+"Capture":null:f;v=[];for(var y=u,x;y!==null;){x=y;var _=x.stateNode;if(x.tag===5&&_!==null&&(x=_,g!==null&&(_=Gc(y,g),_!=null&&v.push(Jc(y,_,x)))),b)break;y=y.return}0<v.length&&(f=new p(f,m,null,t,d),h.push({event:f,listeners:v}))}}if(!(e&7)){e:{if(f=n==="mouseover"||n==="pointerover",p=n==="mouseout"||n==="pointerout",f&&t!==Sg&&(m=t.relatedTarget||t.fromElement)&&(js(m)||m[Er]))break e;if((p||f)&&(f=d.window===d?d:(f=d.ownerDocument)?f.defaultView||f.parentWindow:window,p?(m=t.relatedTarget||t.toElement,p=u,m=m?js(m):null,m!==null&&(b=sa(m),m!==b||m.tag!==5&&m.tag!==6)&&(m=null)):(p=null,m=u),p!==m)){if(v=Ny,_="onMouseLeave",g="onMouseEnter",y="mouse",(n==="pointerout"||n==="pointerover")&&(v=Fy,_="onPointerLeave",g="onPointerEnter",y="pointer"),b=p==null?f:Ea(p),x=m==null?f:Ea(m),f=new v(_,y+"leave",p,t,d),f.target=b,f.relatedTarget=x,_=null,js(d)===u&&(v=new v(g,y+"enter",m,t,d),v.target=x,v.relatedTarget=b,_=v),b=_,p&&m)t:{for(v=p,g=m,y=0,x=v;x;x=ca(x))y++;for(x=0,_=g;_;_=ca(_))x++;for(;0<y-x;)v=ca(v),y--;for(;0<x-y;)g=ca(g),x--;for(;y--;){if(v===g||g!==null&&v===g.alternate)break t;v=ca(v),g=ca(g)}v=null}else v=null;p!==null&&Wy(h,f,p,v,!1),m!==null&&b!==null&&Wy(h,b,m,v,!0)}}e:{if(f=u?Ea(u):window,p=f.nodeName&&f.nodeName.toLowerCase(),p==="select"||p==="input"&&f.type==="file")var k=H_;else if(Oy(f))if(Nb)k=V_;else{k=z_;var T=B_}else(p=f.nodeName)&&p.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(k=U_);if(k&&(k=k(n,u))){Lb(h,k,t,d);break e}T&&T(n,f,u),n==="focusout"&&(T=f._wrapperState)&&T.controlled&&f.type==="number"&&xg(f,"number",f.value)}switch(T=u?Ea(u):window,n){case"focusin":(Oy(T)||T.contentEditable==="true")&&(wa=T,Lg=u,Fc=null);break;case"focusout":Fc=Lg=wa=null;break;case"mousedown":Ng=!0;break;case"contextmenu":case"mouseup":case"dragend":Ng=!1,zy(h,t,d);break;case"selectionchange":if(q_)break;case"keydown":case"keyup":zy(h,t,d)}var R;if(s1)e:{switch(n){case"compositionstart":var L="onCompositionStart";break e;case"compositionend":L="onCompositionEnd";break e;case"compositionupdate":L="onCompositionUpdate";break e}L=void 0}else xa?Rb(n,t)&&(L="onCompositionEnd"):n==="keydown"&&t.keyCode===229&&(L="onCompositionStart");L&&(Tb&&t.locale!=="ko"&&(xa||L!=="onCompositionStart"?L==="onCompositionEnd"&&xa&&(R=kb()):(os=d,n1="value"in os?os.value:os.textContent,xa=!0)),T=Lf(u,L),0<T.length&&(L=new My(L,n,null,t,d),h.push({event:L,listeners:T}),R?L.data=R:(R=Pb(t),R!==null&&(L.data=R)))),(R=D_?I_(n,t):O_(n,t))&&(u=Lf(u,"onBeforeInput"),0<u.length&&(d=new My("onBeforeInput","beforeinput",null,t,d),h.push({event:d,listeners:u}),d.data=R))}zb(h,e)})}function Jc(n,e,t){return{instance:n,listener:e,currentTarget:t}}function Lf(n,e){for(var t=e+"Capture",i=[];n!==null;){var r=n,s=r.stateNode;r.tag===5&&s!==null&&(r=s,s=Gc(n,t),s!=null&&i.unshift(Jc(n,s,r)),s=Gc(n,e),s!=null&&i.push(Jc(n,s,r))),n=n.return}return i}function ca(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5);return n||null}function Wy(n,e,t,i,r){for(var s=e._reactName,o=[];t!==null&&t!==i;){var a=t,l=a.alternate,u=a.stateNode;if(l!==null&&l===i)break;a.tag===5&&u!==null&&(a=u,r?(l=Gc(t,s),l!=null&&o.unshift(Jc(t,l,a))):r||(l=Gc(t,s),l!=null&&o.push(Jc(t,l,a)))),t=t.return}o.length!==0&&n.push({event:e,listeners:o})}var Q_=/\r\n?/g,Z_=/\u0000|\uFFFD/g;function Gy(n){return(typeof n=="string"?n:""+n).replace(Q_,`
`).replace(Z_,"")}function wh(n,e,t){if(e=Gy(e),Gy(n)!==e&&t)throw Error(M(425))}function Nf(){}var Mg=null,Fg=null;function Dg(n,e){return n==="textarea"||n==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Ig=typeof setTimeout=="function"?setTimeout:void 0,J_=typeof clearTimeout=="function"?clearTimeout:void 0,qy=typeof Promise=="function"?Promise:void 0,ek=typeof queueMicrotask=="function"?queueMicrotask:typeof qy<"u"?function(n){return qy.resolve(null).then(n).catch(tk)}:Ig;function tk(n){setTimeout(function(){throw n})}function Fm(n,e){var t=e,i=0;do{var r=t.nextSibling;if(n.removeChild(t),r&&r.nodeType===8)if(t=r.data,t==="/$"){if(i===0){n.removeChild(r),Kc(e);return}i--}else t!=="$"&&t!=="$?"&&t!=="$!"||i++;t=r}while(t);Kc(e)}function fs(n){for(;n!=null;n=n.nextSibling){var e=n.nodeType;if(e===1||e===3)break;if(e===8){if(e=n.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return n}function Xy(n){n=n.previousSibling;for(var e=0;n;){if(n.nodeType===8){var t=n.data;if(t==="$"||t==="$!"||t==="$?"){if(e===0)return n;e--}else t==="/$"&&e++}n=n.previousSibling}return null}var Ul=Math.random().toString(36).slice(2),_i="__reactFiber$"+Ul,eu="__reactProps$"+Ul,Er="__reactContainer$"+Ul,Og="__reactEvents$"+Ul,nk="__reactListeners$"+Ul,ik="__reactHandles$"+Ul;function js(n){var e=n[_i];if(e)return e;for(var t=n.parentNode;t;){if(e=t[Er]||t[_i]){if(t=e.alternate,e.child!==null||t!==null&&t.child!==null)for(n=Xy(n);n!==null;){if(t=n[_i])return t;n=Xy(n)}return e}n=t,t=n.parentNode}return null}function Kd(n){return n=n[_i]||n[Er],!n||n.tag!==5&&n.tag!==6&&n.tag!==13&&n.tag!==3?null:n}function Ea(n){if(n.tag===5||n.tag===6)return n.stateNode;throw Error(M(33))}function Dp(n){return n[eu]||null}var jg=[],Aa=-1;function Ts(n){return{current:n}}function _e(n){0>Aa||(n.current=jg[Aa],jg[Aa]=null,Aa--)}function Ae(n,e){Aa++,jg[Aa]=n.current,n.current=e}var ws={},Ct=Ts(ws),qt=Ts(!1),Vo=ws;function Ml(n,e){var t=n.type.contextTypes;if(!t)return ws;var i=n.stateNode;if(i&&i.__reactInternalMemoizedUnmaskedChildContext===e)return i.__reactInternalMemoizedMaskedChildContext;var r={},s;for(s in t)r[s]=e[s];return i&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=e,n.__reactInternalMemoizedMaskedChildContext=r),r}function Xt(n){return n=n.childContextTypes,n!=null}function Mf(){_e(qt),_e(Ct)}function Ky(n,e,t){if(Ct.current!==ws)throw Error(M(168));Ae(Ct,e),Ae(qt,t)}function Vb(n,e,t){var i=n.stateNode;if(e=e.childContextTypes,typeof i.getChildContext!="function")return t;i=i.getChildContext();for(var r in i)if(!(r in e))throw Error(M(108,BC(n)||"Unknown",r));return De({},t,i)}function Ff(n){return n=(n=n.stateNode)&&n.__reactInternalMemoizedMergedChildContext||ws,Vo=Ct.current,Ae(Ct,n),Ae(qt,qt.current),!0}function Yy(n,e,t){var i=n.stateNode;if(!i)throw Error(M(169));t?(n=Vb(n,e,Vo),i.__reactInternalMemoizedMergedChildContext=n,_e(qt),_e(Ct),Ae(Ct,n)):_e(qt),Ae(qt,t)}var zi=null,Ip=!1,Dm=!1;function Wb(n){zi===null?zi=[n]:zi.push(n)}function rk(n){Ip=!0,Wb(n)}function Rs(){if(!Dm&&zi!==null){Dm=!0;var n=0,e=ge;try{var t=zi;for(ge=1;n<t.length;n++){var i=t[n];do i=i(!0);while(i!==null)}zi=null,Ip=!1}catch(r){throw zi!==null&&(zi=zi.slice(n+1)),gb(Zv,Rs),r}finally{ge=e,Dm=!1}}return null}var Sa=[],Ca=0,Df=null,If=0,An=[],Sn=0,Wo=null,pr=1,mr="";function Ls(n,e){Sa[Ca++]=If,Sa[Ca++]=Df,Df=n,If=e}function Gb(n,e,t){An[Sn++]=pr,An[Sn++]=mr,An[Sn++]=Wo,Wo=n;var i=pr;n=mr;var r=32-ei(i)-1;i&=~(1<<r),t+=1;var s=32-ei(e)+r;if(30<s){var o=r-r%5;s=(i&(1<<o)-1).toString(32),i>>=o,r-=o,pr=1<<32-ei(e)+r|t<<r|i,mr=s+n}else pr=1<<s|t<<r|i,mr=n}function a1(n){n.return!==null&&(Ls(n,1),Gb(n,1,0))}function l1(n){for(;n===Df;)Df=Sa[--Ca],Sa[Ca]=null,If=Sa[--Ca],Sa[Ca]=null;for(;n===Wo;)Wo=An[--Sn],An[Sn]=null,mr=An[--Sn],An[Sn]=null,pr=An[--Sn],An[Sn]=null}var hn=null,dn=null,ke=!1,Jn=null;function qb(n,e){var t=Tn(5,null,null,0);t.elementType="DELETED",t.stateNode=e,t.return=n,e=n.deletions,e===null?(n.deletions=[t],n.flags|=16):e.push(t)}function Qy(n,e){switch(n.tag){case 5:var t=n.type;return e=e.nodeType!==1||t.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(n.stateNode=e,hn=n,dn=fs(e.firstChild),!0):!1;case 6:return e=n.pendingProps===""||e.nodeType!==3?null:e,e!==null?(n.stateNode=e,hn=n,dn=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(t=Wo!==null?{id:pr,overflow:mr}:null,n.memoizedState={dehydrated:e,treeContext:t,retryLane:1073741824},t=Tn(18,null,null,0),t.stateNode=e,t.return=n,n.child=t,hn=n,dn=null,!0):!1;default:return!1}}function $g(n){return(n.mode&1)!==0&&(n.flags&128)===0}function Hg(n){if(ke){var e=dn;if(e){var t=e;if(!Qy(n,e)){if($g(n))throw Error(M(418));e=fs(t.nextSibling);var i=hn;e&&Qy(n,e)?qb(i,t):(n.flags=n.flags&-4097|2,ke=!1,hn=n)}}else{if($g(n))throw Error(M(418));n.flags=n.flags&-4097|2,ke=!1,hn=n}}}function Zy(n){for(n=n.return;n!==null&&n.tag!==5&&n.tag!==3&&n.tag!==13;)n=n.return;hn=n}function bh(n){if(n!==hn)return!1;if(!ke)return Zy(n),ke=!0,!1;var e;if((e=n.tag!==3)&&!(e=n.tag!==5)&&(e=n.type,e=e!=="head"&&e!=="body"&&!Dg(n.type,n.memoizedProps)),e&&(e=dn)){if($g(n))throw Xb(),Error(M(418));for(;e;)qb(n,e),e=fs(e.nextSibling)}if(Zy(n),n.tag===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(M(317));e:{for(n=n.nextSibling,e=0;n;){if(n.nodeType===8){var t=n.data;if(t==="/$"){if(e===0){dn=fs(n.nextSibling);break e}e--}else t!=="$"&&t!=="$!"&&t!=="$?"||e++}n=n.nextSibling}dn=null}}else dn=hn?fs(n.stateNode.nextSibling):null;return!0}function Xb(){for(var n=dn;n;)n=fs(n.nextSibling)}function Fl(){dn=hn=null,ke=!1}function c1(n){Jn===null?Jn=[n]:Jn.push(n)}var sk=kr.ReactCurrentBatchConfig;function ic(n,e,t){if(n=t.ref,n!==null&&typeof n!="function"&&typeof n!="object"){if(t._owner){if(t=t._owner,t){if(t.tag!==1)throw Error(M(309));var i=t.stateNode}if(!i)throw Error(M(147,n));var r=i,s=""+n;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var a=r.refs;o===null?delete a[s]:a[s]=o},e._stringRef=s,e)}if(typeof n!="string")throw Error(M(284));if(!t._owner)throw Error(M(290,n))}return n}function Eh(n,e){throw n=Object.prototype.toString.call(e),Error(M(31,n==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":n))}function Jy(n){var e=n._init;return e(n._payload)}function Kb(n){function e(g,y){if(n){var x=g.deletions;x===null?(g.deletions=[y],g.flags|=16):x.push(y)}}function t(g,y){if(!n)return null;for(;y!==null;)e(g,y),y=y.sibling;return null}function i(g,y){for(g=new Map;y!==null;)y.key!==null?g.set(y.key,y):g.set(y.index,y),y=y.sibling;return g}function r(g,y){return g=vs(g,y),g.index=0,g.sibling=null,g}function s(g,y,x){return g.index=x,n?(x=g.alternate,x!==null?(x=x.index,x<y?(g.flags|=2,y):x):(g.flags|=2,y)):(g.flags|=1048576,y)}function o(g){return n&&g.alternate===null&&(g.flags|=2),g}function a(g,y,x,_){return y===null||y.tag!==6?(y=zm(x,g.mode,_),y.return=g,y):(y=r(y,x),y.return=g,y)}function l(g,y,x,_){var k=x.type;return k===ya?d(g,y,x.props.children,_,x.key):y!==null&&(y.elementType===k||typeof k=="object"&&k!==null&&k.$$typeof===Dr&&Jy(k)===y.type)?(_=r(y,x.props),_.ref=ic(g,y,x),_.return=g,_):(_=Gh(x.type,x.key,x.props,null,g.mode,_),_.ref=ic(g,y,x),_.return=g,_)}function u(g,y,x,_){return y===null||y.tag!==4||y.stateNode.containerInfo!==x.containerInfo||y.stateNode.implementation!==x.implementation?(y=Um(x,g.mode,_),y.return=g,y):(y=r(y,x.children||[]),y.return=g,y)}function d(g,y,x,_,k){return y===null||y.tag!==7?(y=Ho(x,g.mode,_,k),y.return=g,y):(y=r(y,x),y.return=g,y)}function h(g,y,x){if(typeof y=="string"&&y!==""||typeof y=="number")return y=zm(""+y,g.mode,x),y.return=g,y;if(typeof y=="object"&&y!==null){switch(y.$$typeof){case dh:return x=Gh(y.type,y.key,y.props,null,g.mode,x),x.ref=ic(g,null,y),x.return=g,x;case va:return y=Um(y,g.mode,x),y.return=g,y;case Dr:var _=y._init;return h(g,_(y._payload),x)}if(hc(y)||Zl(y))return y=Ho(y,g.mode,x,null),y.return=g,y;Eh(g,y)}return null}function f(g,y,x,_){var k=y!==null?y.key:null;if(typeof x=="string"&&x!==""||typeof x=="number")return k!==null?null:a(g,y,""+x,_);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case dh:return x.key===k?l(g,y,x,_):null;case va:return x.key===k?u(g,y,x,_):null;case Dr:return k=x._init,f(g,y,k(x._payload),_)}if(hc(x)||Zl(x))return k!==null?null:d(g,y,x,_,null);Eh(g,x)}return null}function p(g,y,x,_,k){if(typeof _=="string"&&_!==""||typeof _=="number")return g=g.get(x)||null,a(y,g,""+_,k);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case dh:return g=g.get(_.key===null?x:_.key)||null,l(y,g,_,k);case va:return g=g.get(_.key===null?x:_.key)||null,u(y,g,_,k);case Dr:var T=_._init;return p(g,y,x,T(_._payload),k)}if(hc(_)||Zl(_))return g=g.get(x)||null,d(y,g,_,k,null);Eh(y,_)}return null}function m(g,y,x,_){for(var k=null,T=null,R=y,L=y=0,D=null;R!==null&&L<x.length;L++){R.index>L?(D=R,R=null):D=R.sibling;var F=f(g,R,x[L],_);if(F===null){R===null&&(R=D);break}n&&R&&F.alternate===null&&e(g,R),y=s(F,y,L),T===null?k=F:T.sibling=F,T=F,R=D}if(L===x.length)return t(g,R),ke&&Ls(g,L),k;if(R===null){for(;L<x.length;L++)R=h(g,x[L],_),R!==null&&(y=s(R,y,L),T===null?k=R:T.sibling=R,T=R);return ke&&Ls(g,L),k}for(R=i(g,R);L<x.length;L++)D=p(R,g,L,x[L],_),D!==null&&(n&&D.alternate!==null&&R.delete(D.key===null?L:D.key),y=s(D,y,L),T===null?k=D:T.sibling=D,T=D);return n&&R.forEach(function(O){return e(g,O)}),ke&&Ls(g,L),k}function v(g,y,x,_){var k=Zl(x);if(typeof k!="function")throw Error(M(150));if(x=k.call(x),x==null)throw Error(M(151));for(var T=k=null,R=y,L=y=0,D=null,F=x.next();R!==null&&!F.done;L++,F=x.next()){R.index>L?(D=R,R=null):D=R.sibling;var O=f(g,R,F.value,_);if(O===null){R===null&&(R=D);break}n&&R&&O.alternate===null&&e(g,R),y=s(O,y,L),T===null?k=O:T.sibling=O,T=O,R=D}if(F.done)return t(g,R),ke&&Ls(g,L),k;if(R===null){for(;!F.done;L++,F=x.next())F=h(g,F.value,_),F!==null&&(y=s(F,y,L),T===null?k=F:T.sibling=F,T=F);return ke&&Ls(g,L),k}for(R=i(g,R);!F.done;L++,F=x.next())F=p(R,g,L,F.value,_),F!==null&&(n&&F.alternate!==null&&R.delete(F.key===null?L:F.key),y=s(F,y,L),T===null?k=F:T.sibling=F,T=F);return n&&R.forEach(function(Y){return e(g,Y)}),ke&&Ls(g,L),k}function b(g,y,x,_){if(typeof x=="object"&&x!==null&&x.type===ya&&x.key===null&&(x=x.props.children),typeof x=="object"&&x!==null){switch(x.$$typeof){case dh:e:{for(var k=x.key,T=y;T!==null;){if(T.key===k){if(k=x.type,k===ya){if(T.tag===7){t(g,T.sibling),y=r(T,x.props.children),y.return=g,g=y;break e}}else if(T.elementType===k||typeof k=="object"&&k!==null&&k.$$typeof===Dr&&Jy(k)===T.type){t(g,T.sibling),y=r(T,x.props),y.ref=ic(g,T,x),y.return=g,g=y;break e}t(g,T);break}else e(g,T);T=T.sibling}x.type===ya?(y=Ho(x.props.children,g.mode,_,x.key),y.return=g,g=y):(_=Gh(x.type,x.key,x.props,null,g.mode,_),_.ref=ic(g,y,x),_.return=g,g=_)}return o(g);case va:e:{for(T=x.key;y!==null;){if(y.key===T)if(y.tag===4&&y.stateNode.containerInfo===x.containerInfo&&y.stateNode.implementation===x.implementation){t(g,y.sibling),y=r(y,x.children||[]),y.return=g,g=y;break e}else{t(g,y);break}else e(g,y);y=y.sibling}y=Um(x,g.mode,_),y.return=g,g=y}return o(g);case Dr:return T=x._init,b(g,y,T(x._payload),_)}if(hc(x))return m(g,y,x,_);if(Zl(x))return v(g,y,x,_);Eh(g,x)}return typeof x=="string"&&x!==""||typeof x=="number"?(x=""+x,y!==null&&y.tag===6?(t(g,y.sibling),y=r(y,x),y.return=g,g=y):(t(g,y),y=zm(x,g.mode,_),y.return=g,g=y),o(g)):t(g,y)}return b}var Dl=Kb(!0),Yb=Kb(!1),Of=Ts(null),jf=null,_a=null,u1=null;function d1(){u1=_a=jf=null}function h1(n){var e=Of.current;_e(Of),n._currentValue=e}function Bg(n,e,t){for(;n!==null;){var i=n.alternate;if((n.childLanes&e)!==e?(n.childLanes|=e,i!==null&&(i.childLanes|=e)):i!==null&&(i.childLanes&e)!==e&&(i.childLanes|=e),n===t)break;n=n.return}}function Fa(n,e){jf=n,u1=_a=null,n=n.dependencies,n!==null&&n.firstContext!==null&&(n.lanes&e&&(Ut=!0),n.firstContext=null)}function Nn(n){var e=n._currentValue;if(u1!==n)if(n={context:n,memoizedValue:e,next:null},_a===null){if(jf===null)throw Error(M(308));_a=n,jf.dependencies={lanes:0,firstContext:n}}else _a=_a.next=n;return e}var $s=null;function f1(n){$s===null?$s=[n]:$s.push(n)}function Qb(n,e,t,i){var r=e.interleaved;return r===null?(t.next=t,f1(e)):(t.next=r.next,r.next=t),e.interleaved=t,Ar(n,i)}function Ar(n,e){n.lanes|=e;var t=n.alternate;for(t!==null&&(t.lanes|=e),t=n,n=n.return;n!==null;)n.childLanes|=e,t=n.alternate,t!==null&&(t.childLanes|=e),t=n,n=n.return;return t.tag===3?t.stateNode:null}var Ir=!1;function p1(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Zb(n,e){n=n.updateQueue,e.updateQueue===n&&(e.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,effects:n.effects})}function gr(n,e){return{eventTime:n,lane:e,tag:0,payload:null,callback:null,next:null}}function ps(n,e,t){var i=n.updateQueue;if(i===null)return null;if(i=i.shared,ce&2){var r=i.pending;return r===null?e.next=e:(e.next=r.next,r.next=e),i.pending=e,Ar(n,t)}return r=i.interleaved,r===null?(e.next=e,f1(i)):(e.next=r.next,r.next=e),i.interleaved=e,Ar(n,t)}function Hh(n,e,t){if(e=e.updateQueue,e!==null&&(e=e.shared,(t&4194240)!==0)){var i=e.lanes;i&=n.pendingLanes,t|=i,e.lanes=t,Jv(n,t)}}function ex(n,e){var t=n.updateQueue,i=n.alternate;if(i!==null&&(i=i.updateQueue,t===i)){var r=null,s=null;if(t=t.firstBaseUpdate,t!==null){do{var o={eventTime:t.eventTime,lane:t.lane,tag:t.tag,payload:t.payload,callback:t.callback,next:null};s===null?r=s=o:s=s.next=o,t=t.next}while(t!==null);s===null?r=s=e:s=s.next=e}else r=s=e;t={baseState:i.baseState,firstBaseUpdate:r,lastBaseUpdate:s,shared:i.shared,effects:i.effects},n.updateQueue=t;return}n=t.lastBaseUpdate,n===null?t.firstBaseUpdate=e:n.next=e,t.lastBaseUpdate=e}function $f(n,e,t,i){var r=n.updateQueue;Ir=!1;var s=r.firstBaseUpdate,o=r.lastBaseUpdate,a=r.shared.pending;if(a!==null){r.shared.pending=null;var l=a,u=l.next;l.next=null,o===null?s=u:o.next=u,o=l;var d=n.alternate;d!==null&&(d=d.updateQueue,a=d.lastBaseUpdate,a!==o&&(a===null?d.firstBaseUpdate=u:a.next=u,d.lastBaseUpdate=l))}if(s!==null){var h=r.baseState;o=0,d=u=l=null,a=s;do{var f=a.lane,p=a.eventTime;if((i&f)===f){d!==null&&(d=d.next={eventTime:p,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var m=n,v=a;switch(f=e,p=t,v.tag){case 1:if(m=v.payload,typeof m=="function"){h=m.call(p,h,f);break e}h=m;break e;case 3:m.flags=m.flags&-65537|128;case 0:if(m=v.payload,f=typeof m=="function"?m.call(p,h,f):m,f==null)break e;h=De({},h,f);break e;case 2:Ir=!0}}a.callback!==null&&a.lane!==0&&(n.flags|=64,f=r.effects,f===null?r.effects=[a]:f.push(a))}else p={eventTime:p,lane:f,tag:a.tag,payload:a.payload,callback:a.callback,next:null},d===null?(u=d=p,l=h):d=d.next=p,o|=f;if(a=a.next,a===null){if(a=r.shared.pending,a===null)break;f=a,a=f.next,f.next=null,r.lastBaseUpdate=f,r.shared.pending=null}}while(!0);if(d===null&&(l=h),r.baseState=l,r.firstBaseUpdate=u,r.lastBaseUpdate=d,e=r.shared.interleaved,e!==null){r=e;do o|=r.lane,r=r.next;while(r!==e)}else s===null&&(r.shared.lanes=0);qo|=o,n.lanes=o,n.memoizedState=h}}function tx(n,e,t){if(n=e.effects,e.effects=null,n!==null)for(e=0;e<n.length;e++){var i=n[e],r=i.callback;if(r!==null){if(i.callback=null,i=t,typeof r!="function")throw Error(M(191,r));r.call(i)}}}var Yd={},Ti=Ts(Yd),tu=Ts(Yd),nu=Ts(Yd);function Hs(n){if(n===Yd)throw Error(M(174));return n}function m1(n,e){switch(Ae(nu,e),Ae(tu,n),Ae(Ti,Yd),n=e.nodeType,n){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:bg(null,"");break;default:n=n===8?e.parentNode:e,e=n.namespaceURI||null,n=n.tagName,e=bg(e,n)}_e(Ti),Ae(Ti,e)}function Il(){_e(Ti),_e(tu),_e(nu)}function Jb(n){Hs(nu.current);var e=Hs(Ti.current),t=bg(e,n.type);e!==t&&(Ae(tu,n),Ae(Ti,t))}function g1(n){tu.current===n&&(_e(Ti),_e(tu))}var Le=Ts(0);function Hf(n){for(var e=n;e!==null;){if(e.tag===13){var t=e.memoizedState;if(t!==null&&(t=t.dehydrated,t===null||t.data==="$?"||t.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break;for(;e.sibling===null;){if(e.return===null||e.return===n)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Im=[];function v1(){for(var n=0;n<Im.length;n++)Im[n]._workInProgressVersionPrimary=null;Im.length=0}var Bh=kr.ReactCurrentDispatcher,Om=kr.ReactCurrentBatchConfig,Go=0,Fe=null,Ye=null,nt=null,Bf=!1,Dc=!1,iu=0,ok=0;function vt(){throw Error(M(321))}function y1(n,e){if(e===null)return!1;for(var t=0;t<e.length&&t<n.length;t++)if(!ii(n[t],e[t]))return!1;return!0}function x1(n,e,t,i,r,s){if(Go=s,Fe=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Bh.current=n===null||n.memoizedState===null?uk:dk,n=t(i,r),Dc){s=0;do{if(Dc=!1,iu=0,25<=s)throw Error(M(301));s+=1,nt=Ye=null,e.updateQueue=null,Bh.current=hk,n=t(i,r)}while(Dc)}if(Bh.current=zf,e=Ye!==null&&Ye.next!==null,Go=0,nt=Ye=Fe=null,Bf=!1,e)throw Error(M(300));return n}function w1(){var n=iu!==0;return iu=0,n}function li(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return nt===null?Fe.memoizedState=nt=n:nt=nt.next=n,nt}function Mn(){if(Ye===null){var n=Fe.alternate;n=n!==null?n.memoizedState:null}else n=Ye.next;var e=nt===null?Fe.memoizedState:nt.next;if(e!==null)nt=e,Ye=n;else{if(n===null)throw Error(M(310));Ye=n,n={memoizedState:Ye.memoizedState,baseState:Ye.baseState,baseQueue:Ye.baseQueue,queue:Ye.queue,next:null},nt===null?Fe.memoizedState=nt=n:nt=nt.next=n}return nt}function ru(n,e){return typeof e=="function"?e(n):e}function jm(n){var e=Mn(),t=e.queue;if(t===null)throw Error(M(311));t.lastRenderedReducer=n;var i=Ye,r=i.baseQueue,s=t.pending;if(s!==null){if(r!==null){var o=r.next;r.next=s.next,s.next=o}i.baseQueue=r=s,t.pending=null}if(r!==null){s=r.next,i=i.baseState;var a=o=null,l=null,u=s;do{var d=u.lane;if((Go&d)===d)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),i=u.hasEagerState?u.eagerState:n(i,u.action);else{var h={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(a=l=h,o=i):l=l.next=h,Fe.lanes|=d,qo|=d}u=u.next}while(u!==null&&u!==s);l===null?o=i:l.next=a,ii(i,e.memoizedState)||(Ut=!0),e.memoizedState=i,e.baseState=o,e.baseQueue=l,t.lastRenderedState=i}if(n=t.interleaved,n!==null){r=n;do s=r.lane,Fe.lanes|=s,qo|=s,r=r.next;while(r!==n)}else r===null&&(t.lanes=0);return[e.memoizedState,t.dispatch]}function $m(n){var e=Mn(),t=e.queue;if(t===null)throw Error(M(311));t.lastRenderedReducer=n;var i=t.dispatch,r=t.pending,s=e.memoizedState;if(r!==null){t.pending=null;var o=r=r.next;do s=n(s,o.action),o=o.next;while(o!==r);ii(s,e.memoizedState)||(Ut=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),t.lastRenderedState=s}return[s,i]}function eE(){}function tE(n,e){var t=Fe,i=Mn(),r=e(),s=!ii(i.memoizedState,r);if(s&&(i.memoizedState=r,Ut=!0),i=i.queue,b1(rE.bind(null,t,i,n),[n]),i.getSnapshot!==e||s||nt!==null&&nt.memoizedState.tag&1){if(t.flags|=2048,su(9,iE.bind(null,t,i,r,e),void 0,null),it===null)throw Error(M(349));Go&30||nE(t,e,r)}return r}function nE(n,e,t){n.flags|=16384,n={getSnapshot:e,value:t},e=Fe.updateQueue,e===null?(e={lastEffect:null,stores:null},Fe.updateQueue=e,e.stores=[n]):(t=e.stores,t===null?e.stores=[n]:t.push(n))}function iE(n,e,t,i){e.value=t,e.getSnapshot=i,sE(e)&&oE(n)}function rE(n,e,t){return t(function(){sE(e)&&oE(n)})}function sE(n){var e=n.getSnapshot;n=n.value;try{var t=e();return!ii(n,t)}catch{return!0}}function oE(n){var e=Ar(n,1);e!==null&&ti(e,n,1,-1)}function nx(n){var e=li();return typeof n=="function"&&(n=n()),e.memoizedState=e.baseState=n,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ru,lastRenderedState:n},e.queue=n,n=n.dispatch=ck.bind(null,Fe,n),[e.memoizedState,n]}function su(n,e,t,i){return n={tag:n,create:e,destroy:t,deps:i,next:null},e=Fe.updateQueue,e===null?(e={lastEffect:null,stores:null},Fe.updateQueue=e,e.lastEffect=n.next=n):(t=e.lastEffect,t===null?e.lastEffect=n.next=n:(i=t.next,t.next=n,n.next=i,e.lastEffect=n)),n}function aE(){return Mn().memoizedState}function zh(n,e,t,i){var r=li();Fe.flags|=n,r.memoizedState=su(1|e,t,void 0,i===void 0?null:i)}function Op(n,e,t,i){var r=Mn();i=i===void 0?null:i;var s=void 0;if(Ye!==null){var o=Ye.memoizedState;if(s=o.destroy,i!==null&&y1(i,o.deps)){r.memoizedState=su(e,t,s,i);return}}Fe.flags|=n,r.memoizedState=su(1|e,t,s,i)}function ix(n,e){return zh(8390656,8,n,e)}function b1(n,e){return Op(2048,8,n,e)}function lE(n,e){return Op(4,2,n,e)}function cE(n,e){return Op(4,4,n,e)}function uE(n,e){if(typeof e=="function")return n=n(),e(n),function(){e(null)};if(e!=null)return n=n(),e.current=n,function(){e.current=null}}function dE(n,e,t){return t=t!=null?t.concat([n]):null,Op(4,4,uE.bind(null,e,n),t)}function E1(){}function hE(n,e){var t=Mn();e=e===void 0?null:e;var i=t.memoizedState;return i!==null&&e!==null&&y1(e,i[1])?i[0]:(t.memoizedState=[n,e],n)}function fE(n,e){var t=Mn();e=e===void 0?null:e;var i=t.memoizedState;return i!==null&&e!==null&&y1(e,i[1])?i[0]:(n=n(),t.memoizedState=[n,e],n)}function pE(n,e,t){return Go&21?(ii(t,e)||(t=xb(),Fe.lanes|=t,qo|=t,n.baseState=!0),e):(n.baseState&&(n.baseState=!1,Ut=!0),n.memoizedState=t)}function ak(n,e){var t=ge;ge=t!==0&&4>t?t:4,n(!0);var i=Om.transition;Om.transition={};try{n(!1),e()}finally{ge=t,Om.transition=i}}function mE(){return Mn().memoizedState}function lk(n,e,t){var i=gs(n);if(t={lane:i,action:t,hasEagerState:!1,eagerState:null,next:null},gE(n))vE(e,t);else if(t=Qb(n,e,t,i),t!==null){var r=Mt();ti(t,n,i,r),yE(t,e,i)}}function ck(n,e,t){var i=gs(n),r={lane:i,action:t,hasEagerState:!1,eagerState:null,next:null};if(gE(n))vE(e,r);else{var s=n.alternate;if(n.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,a=s(o,t);if(r.hasEagerState=!0,r.eagerState=a,ii(a,o)){var l=e.interleaved;l===null?(r.next=r,f1(e)):(r.next=l.next,l.next=r),e.interleaved=r;return}}catch{}finally{}t=Qb(n,e,r,i),t!==null&&(r=Mt(),ti(t,n,i,r),yE(t,e,i))}}function gE(n){var e=n.alternate;return n===Fe||e!==null&&e===Fe}function vE(n,e){Dc=Bf=!0;var t=n.pending;t===null?e.next=e:(e.next=t.next,t.next=e),n.pending=e}function yE(n,e,t){if(t&4194240){var i=e.lanes;i&=n.pendingLanes,t|=i,e.lanes=t,Jv(n,t)}}var zf={readContext:Nn,useCallback:vt,useContext:vt,useEffect:vt,useImperativeHandle:vt,useInsertionEffect:vt,useLayoutEffect:vt,useMemo:vt,useReducer:vt,useRef:vt,useState:vt,useDebugValue:vt,useDeferredValue:vt,useTransition:vt,useMutableSource:vt,useSyncExternalStore:vt,useId:vt,unstable_isNewReconciler:!1},uk={readContext:Nn,useCallback:function(n,e){return li().memoizedState=[n,e===void 0?null:e],n},useContext:Nn,useEffect:ix,useImperativeHandle:function(n,e,t){return t=t!=null?t.concat([n]):null,zh(4194308,4,uE.bind(null,e,n),t)},useLayoutEffect:function(n,e){return zh(4194308,4,n,e)},useInsertionEffect:function(n,e){return zh(4,2,n,e)},useMemo:function(n,e){var t=li();return e=e===void 0?null:e,n=n(),t.memoizedState=[n,e],n},useReducer:function(n,e,t){var i=li();return e=t!==void 0?t(e):e,i.memoizedState=i.baseState=e,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:e},i.queue=n,n=n.dispatch=lk.bind(null,Fe,n),[i.memoizedState,n]},useRef:function(n){var e=li();return n={current:n},e.memoizedState=n},useState:nx,useDebugValue:E1,useDeferredValue:function(n){return li().memoizedState=n},useTransition:function(){var n=nx(!1),e=n[0];return n=ak.bind(null,n[1]),li().memoizedState=n,[e,n]},useMutableSource:function(){},useSyncExternalStore:function(n,e,t){var i=Fe,r=li();if(ke){if(t===void 0)throw Error(M(407));t=t()}else{if(t=e(),it===null)throw Error(M(349));Go&30||nE(i,e,t)}r.memoizedState=t;var s={value:t,getSnapshot:e};return r.queue=s,ix(rE.bind(null,i,s,n),[n]),i.flags|=2048,su(9,iE.bind(null,i,s,t,e),void 0,null),t},useId:function(){var n=li(),e=it.identifierPrefix;if(ke){var t=mr,i=pr;t=(i&~(1<<32-ei(i)-1)).toString(32)+t,e=":"+e+"R"+t,t=iu++,0<t&&(e+="H"+t.toString(32)),e+=":"}else t=ok++,e=":"+e+"r"+t.toString(32)+":";return n.memoizedState=e},unstable_isNewReconciler:!1},dk={readContext:Nn,useCallback:hE,useContext:Nn,useEffect:b1,useImperativeHandle:dE,useInsertionEffect:lE,useLayoutEffect:cE,useMemo:fE,useReducer:jm,useRef:aE,useState:function(){return jm(ru)},useDebugValue:E1,useDeferredValue:function(n){var e=Mn();return pE(e,Ye.memoizedState,n)},useTransition:function(){var n=jm(ru)[0],e=Mn().memoizedState;return[n,e]},useMutableSource:eE,useSyncExternalStore:tE,useId:mE,unstable_isNewReconciler:!1},hk={readContext:Nn,useCallback:hE,useContext:Nn,useEffect:b1,useImperativeHandle:dE,useInsertionEffect:lE,useLayoutEffect:cE,useMemo:fE,useReducer:$m,useRef:aE,useState:function(){return $m(ru)},useDebugValue:E1,useDeferredValue:function(n){var e=Mn();return Ye===null?e.memoizedState=n:pE(e,Ye.memoizedState,n)},useTransition:function(){var n=$m(ru)[0],e=Mn().memoizedState;return[n,e]},useMutableSource:eE,useSyncExternalStore:tE,useId:mE,unstable_isNewReconciler:!1};function $n(n,e){if(n&&n.defaultProps){e=De({},e),n=n.defaultProps;for(var t in n)e[t]===void 0&&(e[t]=n[t]);return e}return e}function zg(n,e,t,i){e=n.memoizedState,t=t(i,e),t=t==null?e:De({},e,t),n.memoizedState=t,n.lanes===0&&(n.updateQueue.baseState=t)}var jp={isMounted:function(n){return(n=n._reactInternals)?sa(n)===n:!1},enqueueSetState:function(n,e,t){n=n._reactInternals;var i=Mt(),r=gs(n),s=gr(i,r);s.payload=e,t!=null&&(s.callback=t),e=ps(n,s,r),e!==null&&(ti(e,n,r,i),Hh(e,n,r))},enqueueReplaceState:function(n,e,t){n=n._reactInternals;var i=Mt(),r=gs(n),s=gr(i,r);s.tag=1,s.payload=e,t!=null&&(s.callback=t),e=ps(n,s,r),e!==null&&(ti(e,n,r,i),Hh(e,n,r))},enqueueForceUpdate:function(n,e){n=n._reactInternals;var t=Mt(),i=gs(n),r=gr(t,i);r.tag=2,e!=null&&(r.callback=e),e=ps(n,r,i),e!==null&&(ti(e,n,i,t),Hh(e,n,i))}};function rx(n,e,t,i,r,s,o){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(i,s,o):e.prototype&&e.prototype.isPureReactComponent?!Qc(t,i)||!Qc(r,s):!0}function xE(n,e,t){var i=!1,r=ws,s=e.contextType;return typeof s=="object"&&s!==null?s=Nn(s):(r=Xt(e)?Vo:Ct.current,i=e.contextTypes,s=(i=i!=null)?Ml(n,r):ws),e=new e(t,s),n.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=jp,n.stateNode=e,e._reactInternals=n,i&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=r,n.__reactInternalMemoizedMaskedChildContext=s),e}function sx(n,e,t,i){n=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(t,i),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(t,i),e.state!==n&&jp.enqueueReplaceState(e,e.state,null)}function Ug(n,e,t,i){var r=n.stateNode;r.props=t,r.state=n.memoizedState,r.refs={},p1(n);var s=e.contextType;typeof s=="object"&&s!==null?r.context=Nn(s):(s=Xt(e)?Vo:Ct.current,r.context=Ml(n,s)),r.state=n.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(zg(n,e,s,t),r.state=n.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof r.getSnapshotBeforeUpdate=="function"||typeof r.UNSAFE_componentWillMount!="function"&&typeof r.componentWillMount!="function"||(e=r.state,typeof r.componentWillMount=="function"&&r.componentWillMount(),typeof r.UNSAFE_componentWillMount=="function"&&r.UNSAFE_componentWillMount(),e!==r.state&&jp.enqueueReplaceState(r,r.state,null),$f(n,t,r,i),r.state=n.memoizedState),typeof r.componentDidMount=="function"&&(n.flags|=4194308)}function Ol(n,e){try{var t="",i=e;do t+=HC(i),i=i.return;while(i);var r=t}catch(s){r=`
Error generating stack: `+s.message+`
`+s.stack}return{value:n,source:e,stack:r,digest:null}}function Hm(n,e,t){return{value:n,source:null,stack:t??null,digest:e??null}}function Vg(n,e){try{console.error(e.value)}catch(t){setTimeout(function(){throw t})}}var fk=typeof WeakMap=="function"?WeakMap:Map;function wE(n,e,t){t=gr(-1,t),t.tag=3,t.payload={element:null};var i=e.value;return t.callback=function(){Vf||(Vf=!0,e0=i),Vg(n,e)},t}function bE(n,e,t){t=gr(-1,t),t.tag=3;var i=n.type.getDerivedStateFromError;if(typeof i=="function"){var r=e.value;t.payload=function(){return i(r)},t.callback=function(){Vg(n,e)}}var s=n.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(t.callback=function(){Vg(n,e),typeof i!="function"&&(ms===null?ms=new Set([this]):ms.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),t}function ox(n,e,t){var i=n.pingCache;if(i===null){i=n.pingCache=new fk;var r=new Set;i.set(e,r)}else r=i.get(e),r===void 0&&(r=new Set,i.set(e,r));r.has(t)||(r.add(t),n=kk.bind(null,n,e,t),e.then(n,n))}function ax(n){do{var e;if((e=n.tag===13)&&(e=n.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return n;n=n.return}while(n!==null);return null}function lx(n,e,t,i,r){return n.mode&1?(n.flags|=65536,n.lanes=r,n):(n===e?n.flags|=65536:(n.flags|=128,t.flags|=131072,t.flags&=-52805,t.tag===1&&(t.alternate===null?t.tag=17:(e=gr(-1,1),e.tag=2,ps(t,e,1))),t.lanes|=1),n)}var pk=kr.ReactCurrentOwner,Ut=!1;function Lt(n,e,t,i){e.child=n===null?Yb(e,null,t,i):Dl(e,n.child,t,i)}function cx(n,e,t,i,r){t=t.render;var s=e.ref;return Fa(e,r),i=x1(n,e,t,i,s,r),t=w1(),n!==null&&!Ut?(e.updateQueue=n.updateQueue,e.flags&=-2053,n.lanes&=~r,Sr(n,e,r)):(ke&&t&&a1(e),e.flags|=1,Lt(n,e,i,r),e.child)}function ux(n,e,t,i,r){if(n===null){var s=t.type;return typeof s=="function"&&!P1(s)&&s.defaultProps===void 0&&t.compare===null&&t.defaultProps===void 0?(e.tag=15,e.type=s,EE(n,e,s,i,r)):(n=Gh(t.type,null,i,e,e.mode,r),n.ref=e.ref,n.return=e,e.child=n)}if(s=n.child,!(n.lanes&r)){var o=s.memoizedProps;if(t=t.compare,t=t!==null?t:Qc,t(o,i)&&n.ref===e.ref)return Sr(n,e,r)}return e.flags|=1,n=vs(s,i),n.ref=e.ref,n.return=e,e.child=n}function EE(n,e,t,i,r){if(n!==null){var s=n.memoizedProps;if(Qc(s,i)&&n.ref===e.ref)if(Ut=!1,e.pendingProps=i=s,(n.lanes&r)!==0)n.flags&131072&&(Ut=!0);else return e.lanes=n.lanes,Sr(n,e,r)}return Wg(n,e,t,i,r)}function AE(n,e,t){var i=e.pendingProps,r=i.children,s=n!==null?n.memoizedState:null;if(i.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ae(Ta,ln),ln|=t;else{if(!(t&1073741824))return n=s!==null?s.baseLanes|t:t,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:n,cachePool:null,transitions:null},e.updateQueue=null,Ae(Ta,ln),ln|=n,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},i=s!==null?s.baseLanes:t,Ae(Ta,ln),ln|=i}else s!==null?(i=s.baseLanes|t,e.memoizedState=null):i=t,Ae(Ta,ln),ln|=i;return Lt(n,e,r,t),e.child}function SE(n,e){var t=e.ref;(n===null&&t!==null||n!==null&&n.ref!==t)&&(e.flags|=512,e.flags|=2097152)}function Wg(n,e,t,i,r){var s=Xt(t)?Vo:Ct.current;return s=Ml(e,s),Fa(e,r),t=x1(n,e,t,i,s,r),i=w1(),n!==null&&!Ut?(e.updateQueue=n.updateQueue,e.flags&=-2053,n.lanes&=~r,Sr(n,e,r)):(ke&&i&&a1(e),e.flags|=1,Lt(n,e,t,r),e.child)}function dx(n,e,t,i,r){if(Xt(t)){var s=!0;Ff(e)}else s=!1;if(Fa(e,r),e.stateNode===null)Uh(n,e),xE(e,t,i),Ug(e,t,i,r),i=!0;else if(n===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,u=t.contextType;typeof u=="object"&&u!==null?u=Nn(u):(u=Xt(t)?Vo:Ct.current,u=Ml(e,u));var d=t.getDerivedStateFromProps,h=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==i||l!==u)&&sx(e,o,i,u),Ir=!1;var f=e.memoizedState;o.state=f,$f(e,i,o,r),l=e.memoizedState,a!==i||f!==l||qt.current||Ir?(typeof d=="function"&&(zg(e,t,d,i),l=e.memoizedState),(a=Ir||rx(e,t,a,i,f,l,u))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=i,e.memoizedState=l),o.props=i,o.state=l,o.context=u,i=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),i=!1)}else{o=e.stateNode,Zb(n,e),a=e.memoizedProps,u=e.type===e.elementType?a:$n(e.type,a),o.props=u,h=e.pendingProps,f=o.context,l=t.contextType,typeof l=="object"&&l!==null?l=Nn(l):(l=Xt(t)?Vo:Ct.current,l=Ml(e,l));var p=t.getDerivedStateFromProps;(d=typeof p=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==h||f!==l)&&sx(e,o,i,l),Ir=!1,f=e.memoizedState,o.state=f,$f(e,i,o,r);var m=e.memoizedState;a!==h||f!==m||qt.current||Ir?(typeof p=="function"&&(zg(e,t,p,i),m=e.memoizedState),(u=Ir||rx(e,t,u,i,f,m,l)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(i,m,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(i,m,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===n.memoizedProps&&f===n.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===n.memoizedProps&&f===n.memoizedState||(e.flags|=1024),e.memoizedProps=i,e.memoizedState=m),o.props=i,o.state=m,o.context=l,i=u):(typeof o.componentDidUpdate!="function"||a===n.memoizedProps&&f===n.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===n.memoizedProps&&f===n.memoizedState||(e.flags|=1024),i=!1)}return Gg(n,e,t,i,s,r)}function Gg(n,e,t,i,r,s){SE(n,e);var o=(e.flags&128)!==0;if(!i&&!o)return r&&Yy(e,t,!1),Sr(n,e,s);i=e.stateNode,pk.current=e;var a=o&&typeof t.getDerivedStateFromError!="function"?null:i.render();return e.flags|=1,n!==null&&o?(e.child=Dl(e,n.child,null,s),e.child=Dl(e,null,a,s)):Lt(n,e,a,s),e.memoizedState=i.state,r&&Yy(e,t,!0),e.child}function CE(n){var e=n.stateNode;e.pendingContext?Ky(n,e.pendingContext,e.pendingContext!==e.context):e.context&&Ky(n,e.context,!1),m1(n,e.containerInfo)}function hx(n,e,t,i,r){return Fl(),c1(r),e.flags|=256,Lt(n,e,t,i),e.child}var qg={dehydrated:null,treeContext:null,retryLane:0};function Xg(n){return{baseLanes:n,cachePool:null,transitions:null}}function _E(n,e,t){var i=e.pendingProps,r=Le.current,s=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=n!==null&&n.memoizedState===null?!1:(r&2)!==0),a?(s=!0,e.flags&=-129):(n===null||n.memoizedState!==null)&&(r|=1),Ae(Le,r&1),n===null)return Hg(e),n=e.memoizedState,n!==null&&(n=n.dehydrated,n!==null)?(e.mode&1?n.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=i.children,n=i.fallback,s?(i=e.mode,s=e.child,o={mode:"hidden",children:o},!(i&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=Bp(o,i,0,null),n=Ho(n,i,t,null),s.return=e,n.return=e,s.sibling=n,e.child=s,e.child.memoizedState=Xg(t),e.memoizedState=qg,n):A1(e,o));if(r=n.memoizedState,r!==null&&(a=r.dehydrated,a!==null))return mk(n,e,o,i,a,r,t);if(s){s=i.fallback,o=e.mode,r=n.child,a=r.sibling;var l={mode:"hidden",children:i.children};return!(o&1)&&e.child!==r?(i=e.child,i.childLanes=0,i.pendingProps=l,e.deletions=null):(i=vs(r,l),i.subtreeFlags=r.subtreeFlags&14680064),a!==null?s=vs(a,s):(s=Ho(s,o,t,null),s.flags|=2),s.return=e,i.return=e,i.sibling=s,e.child=i,i=s,s=e.child,o=n.child.memoizedState,o=o===null?Xg(t):{baseLanes:o.baseLanes|t,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=n.childLanes&~t,e.memoizedState=qg,i}return s=n.child,n=s.sibling,i=vs(s,{mode:"visible",children:i.children}),!(e.mode&1)&&(i.lanes=t),i.return=e,i.sibling=null,n!==null&&(t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)),e.child=i,e.memoizedState=null,i}function A1(n,e){return e=Bp({mode:"visible",children:e},n.mode,0,null),e.return=n,n.child=e}function Ah(n,e,t,i){return i!==null&&c1(i),Dl(e,n.child,null,t),n=A1(e,e.pendingProps.children),n.flags|=2,e.memoizedState=null,n}function mk(n,e,t,i,r,s,o){if(t)return e.flags&256?(e.flags&=-257,i=Hm(Error(M(422))),Ah(n,e,o,i)):e.memoizedState!==null?(e.child=n.child,e.flags|=128,null):(s=i.fallback,r=e.mode,i=Bp({mode:"visible",children:i.children},r,0,null),s=Ho(s,r,o,null),s.flags|=2,i.return=e,s.return=e,i.sibling=s,e.child=i,e.mode&1&&Dl(e,n.child,null,o),e.child.memoizedState=Xg(o),e.memoizedState=qg,s);if(!(e.mode&1))return Ah(n,e,o,null);if(r.data==="$!"){if(i=r.nextSibling&&r.nextSibling.dataset,i)var a=i.dgst;return i=a,s=Error(M(419)),i=Hm(s,i,void 0),Ah(n,e,o,i)}if(a=(o&n.childLanes)!==0,Ut||a){if(i=it,i!==null){switch(o&-o){case 4:r=2;break;case 16:r=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:r=32;break;case 536870912:r=268435456;break;default:r=0}r=r&(i.suspendedLanes|o)?0:r,r!==0&&r!==s.retryLane&&(s.retryLane=r,Ar(n,r),ti(i,n,r,-1))}return R1(),i=Hm(Error(M(421))),Ah(n,e,o,i)}return r.data==="$?"?(e.flags|=128,e.child=n.child,e=Tk.bind(null,n),r._reactRetry=e,null):(n=s.treeContext,dn=fs(r.nextSibling),hn=e,ke=!0,Jn=null,n!==null&&(An[Sn++]=pr,An[Sn++]=mr,An[Sn++]=Wo,pr=n.id,mr=n.overflow,Wo=e),e=A1(e,i.children),e.flags|=4096,e)}function fx(n,e,t){n.lanes|=e;var i=n.alternate;i!==null&&(i.lanes|=e),Bg(n.return,e,t)}function Bm(n,e,t,i,r){var s=n.memoizedState;s===null?n.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:i,tail:t,tailMode:r}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=i,s.tail=t,s.tailMode=r)}function kE(n,e,t){var i=e.pendingProps,r=i.revealOrder,s=i.tail;if(Lt(n,e,i.children,t),i=Le.current,i&2)i=i&1|2,e.flags|=128;else{if(n!==null&&n.flags&128)e:for(n=e.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&fx(n,t,e);else if(n.tag===19)fx(n,t,e);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break e;for(;n.sibling===null;){if(n.return===null||n.return===e)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}i&=1}if(Ae(Le,i),!(e.mode&1))e.memoizedState=null;else switch(r){case"forwards":for(t=e.child,r=null;t!==null;)n=t.alternate,n!==null&&Hf(n)===null&&(r=t),t=t.sibling;t=r,t===null?(r=e.child,e.child=null):(r=t.sibling,t.sibling=null),Bm(e,!1,r,t,s);break;case"backwards":for(t=null,r=e.child,e.child=null;r!==null;){if(n=r.alternate,n!==null&&Hf(n)===null){e.child=r;break}n=r.sibling,r.sibling=t,t=r,r=n}Bm(e,!0,t,null,s);break;case"together":Bm(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Uh(n,e){!(e.mode&1)&&n!==null&&(n.alternate=null,e.alternate=null,e.flags|=2)}function Sr(n,e,t){if(n!==null&&(e.dependencies=n.dependencies),qo|=e.lanes,!(t&e.childLanes))return null;if(n!==null&&e.child!==n.child)throw Error(M(153));if(e.child!==null){for(n=e.child,t=vs(n,n.pendingProps),e.child=t,t.return=e;n.sibling!==null;)n=n.sibling,t=t.sibling=vs(n,n.pendingProps),t.return=e;t.sibling=null}return e.child}function gk(n,e,t){switch(e.tag){case 3:CE(e),Fl();break;case 5:Jb(e);break;case 1:Xt(e.type)&&Ff(e);break;case 4:m1(e,e.stateNode.containerInfo);break;case 10:var i=e.type._context,r=e.memoizedProps.value;Ae(Of,i._currentValue),i._currentValue=r;break;case 13:if(i=e.memoizedState,i!==null)return i.dehydrated!==null?(Ae(Le,Le.current&1),e.flags|=128,null):t&e.child.childLanes?_E(n,e,t):(Ae(Le,Le.current&1),n=Sr(n,e,t),n!==null?n.sibling:null);Ae(Le,Le.current&1);break;case 19:if(i=(t&e.childLanes)!==0,n.flags&128){if(i)return kE(n,e,t);e.flags|=128}if(r=e.memoizedState,r!==null&&(r.rendering=null,r.tail=null,r.lastEffect=null),Ae(Le,Le.current),i)break;return null;case 22:case 23:return e.lanes=0,AE(n,e,t)}return Sr(n,e,t)}var TE,Kg,RE,PE;TE=function(n,e){for(var t=e.child;t!==null;){if(t.tag===5||t.tag===6)n.appendChild(t.stateNode);else if(t.tag!==4&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return;t=t.return}t.sibling.return=t.return,t=t.sibling}};Kg=function(){};RE=function(n,e,t,i){var r=n.memoizedProps;if(r!==i){n=e.stateNode,Hs(Ti.current);var s=null;switch(t){case"input":r=vg(n,r),i=vg(n,i),s=[];break;case"select":r=De({},r,{value:void 0}),i=De({},i,{value:void 0}),s=[];break;case"textarea":r=wg(n,r),i=wg(n,i),s=[];break;default:typeof r.onClick!="function"&&typeof i.onClick=="function"&&(n.onclick=Nf)}Eg(t,i);var o;t=null;for(u in r)if(!i.hasOwnProperty(u)&&r.hasOwnProperty(u)&&r[u]!=null)if(u==="style"){var a=r[u];for(o in a)a.hasOwnProperty(o)&&(t||(t={}),t[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Vc.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in i){var l=i[u];if(a=r!=null?r[u]:void 0,i.hasOwnProperty(u)&&l!==a&&(l!=null||a!=null))if(u==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(t||(t={}),t[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(t||(t={}),t[o]=l[o])}else t||(s||(s=[]),s.push(u,t)),t=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Vc.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&Ce("scroll",n),s||a===l||(s=[])):(s=s||[]).push(u,l))}t&&(s=s||[]).push("style",t);var u=s;(e.updateQueue=u)&&(e.flags|=4)}};PE=function(n,e,t,i){t!==i&&(e.flags|=4)};function rc(n,e){if(!ke)switch(n.tailMode){case"hidden":e=n.tail;for(var t=null;e!==null;)e.alternate!==null&&(t=e),e=e.sibling;t===null?n.tail=null:t.sibling=null;break;case"collapsed":t=n.tail;for(var i=null;t!==null;)t.alternate!==null&&(i=t),t=t.sibling;i===null?e||n.tail===null?n.tail=null:n.tail.sibling=null:i.sibling=null}}function yt(n){var e=n.alternate!==null&&n.alternate.child===n.child,t=0,i=0;if(e)for(var r=n.child;r!==null;)t|=r.lanes|r.childLanes,i|=r.subtreeFlags&14680064,i|=r.flags&14680064,r.return=n,r=r.sibling;else for(r=n.child;r!==null;)t|=r.lanes|r.childLanes,i|=r.subtreeFlags,i|=r.flags,r.return=n,r=r.sibling;return n.subtreeFlags|=i,n.childLanes=t,e}function vk(n,e,t){var i=e.pendingProps;switch(l1(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return yt(e),null;case 1:return Xt(e.type)&&Mf(),yt(e),null;case 3:return i=e.stateNode,Il(),_e(qt),_e(Ct),v1(),i.pendingContext&&(i.context=i.pendingContext,i.pendingContext=null),(n===null||n.child===null)&&(bh(e)?e.flags|=4:n===null||n.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Jn!==null&&(i0(Jn),Jn=null))),Kg(n,e),yt(e),null;case 5:g1(e);var r=Hs(nu.current);if(t=e.type,n!==null&&e.stateNode!=null)RE(n,e,t,i,r),n.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!i){if(e.stateNode===null)throw Error(M(166));return yt(e),null}if(n=Hs(Ti.current),bh(e)){i=e.stateNode,t=e.type;var s=e.memoizedProps;switch(i[_i]=e,i[eu]=s,n=(e.mode&1)!==0,t){case"dialog":Ce("cancel",i),Ce("close",i);break;case"iframe":case"object":case"embed":Ce("load",i);break;case"video":case"audio":for(r=0;r<pc.length;r++)Ce(pc[r],i);break;case"source":Ce("error",i);break;case"img":case"image":case"link":Ce("error",i),Ce("load",i);break;case"details":Ce("toggle",i);break;case"input":Ey(i,s),Ce("invalid",i);break;case"select":i._wrapperState={wasMultiple:!!s.multiple},Ce("invalid",i);break;case"textarea":Sy(i,s),Ce("invalid",i)}Eg(t,s),r=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?i.textContent!==a&&(s.suppressHydrationWarning!==!0&&wh(i.textContent,a,n),r=["children",a]):typeof a=="number"&&i.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&wh(i.textContent,a,n),r=["children",""+a]):Vc.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&Ce("scroll",i)}switch(t){case"input":hh(i),Ay(i,s,!0);break;case"textarea":hh(i),Cy(i);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(i.onclick=Nf)}i=r,e.updateQueue=i,i!==null&&(e.flags|=4)}else{o=r.nodeType===9?r:r.ownerDocument,n==="http://www.w3.org/1999/xhtml"&&(n=rb(t)),n==="http://www.w3.org/1999/xhtml"?t==="script"?(n=o.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild)):typeof i.is=="string"?n=o.createElement(t,{is:i.is}):(n=o.createElement(t),t==="select"&&(o=n,i.multiple?o.multiple=!0:i.size&&(o.size=i.size))):n=o.createElementNS(n,t),n[_i]=e,n[eu]=i,TE(n,e,!1,!1),e.stateNode=n;e:{switch(o=Ag(t,i),t){case"dialog":Ce("cancel",n),Ce("close",n),r=i;break;case"iframe":case"object":case"embed":Ce("load",n),r=i;break;case"video":case"audio":for(r=0;r<pc.length;r++)Ce(pc[r],n);r=i;break;case"source":Ce("error",n),r=i;break;case"img":case"image":case"link":Ce("error",n),Ce("load",n),r=i;break;case"details":Ce("toggle",n),r=i;break;case"input":Ey(n,i),r=vg(n,i),Ce("invalid",n);break;case"option":r=i;break;case"select":n._wrapperState={wasMultiple:!!i.multiple},r=De({},i,{value:void 0}),Ce("invalid",n);break;case"textarea":Sy(n,i),r=wg(n,i),Ce("invalid",n);break;default:r=i}Eg(t,r),a=r;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?ab(n,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&sb(n,l)):s==="children"?typeof l=="string"?(t!=="textarea"||l!=="")&&Wc(n,l):typeof l=="number"&&Wc(n,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(Vc.hasOwnProperty(s)?l!=null&&s==="onScroll"&&Ce("scroll",n):l!=null&&qv(n,s,l,o))}switch(t){case"input":hh(n),Ay(n,i,!1);break;case"textarea":hh(n),Cy(n);break;case"option":i.value!=null&&n.setAttribute("value",""+xs(i.value));break;case"select":n.multiple=!!i.multiple,s=i.value,s!=null?Pa(n,!!i.multiple,s,!1):i.defaultValue!=null&&Pa(n,!!i.multiple,i.defaultValue,!0);break;default:typeof r.onClick=="function"&&(n.onclick=Nf)}switch(t){case"button":case"input":case"select":case"textarea":i=!!i.autoFocus;break e;case"img":i=!0;break e;default:i=!1}}i&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return yt(e),null;case 6:if(n&&e.stateNode!=null)PE(n,e,n.memoizedProps,i);else{if(typeof i!="string"&&e.stateNode===null)throw Error(M(166));if(t=Hs(nu.current),Hs(Ti.current),bh(e)){if(i=e.stateNode,t=e.memoizedProps,i[_i]=e,(s=i.nodeValue!==t)&&(n=hn,n!==null))switch(n.tag){case 3:wh(i.nodeValue,t,(n.mode&1)!==0);break;case 5:n.memoizedProps.suppressHydrationWarning!==!0&&wh(i.nodeValue,t,(n.mode&1)!==0)}s&&(e.flags|=4)}else i=(t.nodeType===9?t:t.ownerDocument).createTextNode(i),i[_i]=e,e.stateNode=i}return yt(e),null;case 13:if(_e(Le),i=e.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(ke&&dn!==null&&e.mode&1&&!(e.flags&128))Xb(),Fl(),e.flags|=98560,s=!1;else if(s=bh(e),i!==null&&i.dehydrated!==null){if(n===null){if(!s)throw Error(M(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(M(317));s[_i]=e}else Fl(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;yt(e),s=!1}else Jn!==null&&(i0(Jn),Jn=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=t,e):(i=i!==null,i!==(n!==null&&n.memoizedState!==null)&&i&&(e.child.flags|=8192,e.mode&1&&(n===null||Le.current&1?Ze===0&&(Ze=3):R1())),e.updateQueue!==null&&(e.flags|=4),yt(e),null);case 4:return Il(),Kg(n,e),n===null&&Zc(e.stateNode.containerInfo),yt(e),null;case 10:return h1(e.type._context),yt(e),null;case 17:return Xt(e.type)&&Mf(),yt(e),null;case 19:if(_e(Le),s=e.memoizedState,s===null)return yt(e),null;if(i=(e.flags&128)!==0,o=s.rendering,o===null)if(i)rc(s,!1);else{if(Ze!==0||n!==null&&n.flags&128)for(n=e.child;n!==null;){if(o=Hf(n),o!==null){for(e.flags|=128,rc(s,!1),i=o.updateQueue,i!==null&&(e.updateQueue=i,e.flags|=4),e.subtreeFlags=0,i=t,t=e.child;t!==null;)s=t,n=i,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=n,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,n=o.dependencies,s.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t=t.sibling;return Ae(Le,Le.current&1|2),e.child}n=n.sibling}s.tail!==null&&He()>jl&&(e.flags|=128,i=!0,rc(s,!1),e.lanes=4194304)}else{if(!i)if(n=Hf(o),n!==null){if(e.flags|=128,i=!0,t=n.updateQueue,t!==null&&(e.updateQueue=t,e.flags|=4),rc(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!ke)return yt(e),null}else 2*He()-s.renderingStartTime>jl&&t!==1073741824&&(e.flags|=128,i=!0,rc(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(t=s.last,t!==null?t.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=He(),e.sibling=null,t=Le.current,Ae(Le,i?t&1|2:t&1),e):(yt(e),null);case 22:case 23:return T1(),i=e.memoizedState!==null,n!==null&&n.memoizedState!==null!==i&&(e.flags|=8192),i&&e.mode&1?ln&1073741824&&(yt(e),e.subtreeFlags&6&&(e.flags|=8192)):yt(e),null;case 24:return null;case 25:return null}throw Error(M(156,e.tag))}function yk(n,e){switch(l1(e),e.tag){case 1:return Xt(e.type)&&Mf(),n=e.flags,n&65536?(e.flags=n&-65537|128,e):null;case 3:return Il(),_e(qt),_e(Ct),v1(),n=e.flags,n&65536&&!(n&128)?(e.flags=n&-65537|128,e):null;case 5:return g1(e),null;case 13:if(_e(Le),n=e.memoizedState,n!==null&&n.dehydrated!==null){if(e.alternate===null)throw Error(M(340));Fl()}return n=e.flags,n&65536?(e.flags=n&-65537|128,e):null;case 19:return _e(Le),null;case 4:return Il(),null;case 10:return h1(e.type._context),null;case 22:case 23:return T1(),null;case 24:return null;default:return null}}var Sh=!1,Et=!1,xk=typeof WeakSet=="function"?WeakSet:Set,z=null;function ka(n,e){var t=n.ref;if(t!==null)if(typeof t=="function")try{t(null)}catch(i){Oe(n,e,i)}else t.current=null}function Yg(n,e,t){try{t()}catch(i){Oe(n,e,i)}}var px=!1;function wk(n,e){if(Mg=Rf,n=Db(),o1(n)){if("selectionStart"in n)var t={start:n.selectionStart,end:n.selectionEnd};else e:{t=(t=n.ownerDocument)&&t.defaultView||window;var i=t.getSelection&&t.getSelection();if(i&&i.rangeCount!==0){t=i.anchorNode;var r=i.anchorOffset,s=i.focusNode;i=i.focusOffset;try{t.nodeType,s.nodeType}catch{t=null;break e}var o=0,a=-1,l=-1,u=0,d=0,h=n,f=null;t:for(;;){for(var p;h!==t||r!==0&&h.nodeType!==3||(a=o+r),h!==s||i!==0&&h.nodeType!==3||(l=o+i),h.nodeType===3&&(o+=h.nodeValue.length),(p=h.firstChild)!==null;)f=h,h=p;for(;;){if(h===n)break t;if(f===t&&++u===r&&(a=o),f===s&&++d===i&&(l=o),(p=h.nextSibling)!==null)break;h=f,f=h.parentNode}h=p}t=a===-1||l===-1?null:{start:a,end:l}}else t=null}t=t||{start:0,end:0}}else t=null;for(Fg={focusedElem:n,selectionRange:t},Rf=!1,z=e;z!==null;)if(e=z,n=e.child,(e.subtreeFlags&1028)!==0&&n!==null)n.return=e,z=n;else for(;z!==null;){e=z;try{var m=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(m!==null){var v=m.memoizedProps,b=m.memoizedState,g=e.stateNode,y=g.getSnapshotBeforeUpdate(e.elementType===e.type?v:$n(e.type,v),b);g.__reactInternalSnapshotBeforeUpdate=y}break;case 3:var x=e.stateNode.containerInfo;x.nodeType===1?x.textContent="":x.nodeType===9&&x.documentElement&&x.removeChild(x.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(M(163))}}catch(_){Oe(e,e.return,_)}if(n=e.sibling,n!==null){n.return=e.return,z=n;break}z=e.return}return m=px,px=!1,m}function Ic(n,e,t){var i=e.updateQueue;if(i=i!==null?i.lastEffect:null,i!==null){var r=i=i.next;do{if((r.tag&n)===n){var s=r.destroy;r.destroy=void 0,s!==void 0&&Yg(e,t,s)}r=r.next}while(r!==i)}}function $p(n,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var t=e=e.next;do{if((t.tag&n)===n){var i=t.create;t.destroy=i()}t=t.next}while(t!==e)}}function Qg(n){var e=n.ref;if(e!==null){var t=n.stateNode;switch(n.tag){case 5:n=t;break;default:n=t}typeof e=="function"?e(n):e.current=n}}function LE(n){var e=n.alternate;e!==null&&(n.alternate=null,LE(e)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(e=n.stateNode,e!==null&&(delete e[_i],delete e[eu],delete e[Og],delete e[nk],delete e[ik])),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}function NE(n){return n.tag===5||n.tag===3||n.tag===4}function mx(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||NE(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function Zg(n,e,t){var i=n.tag;if(i===5||i===6)n=n.stateNode,e?t.nodeType===8?t.parentNode.insertBefore(n,e):t.insertBefore(n,e):(t.nodeType===8?(e=t.parentNode,e.insertBefore(n,t)):(e=t,e.appendChild(n)),t=t._reactRootContainer,t!=null||e.onclick!==null||(e.onclick=Nf));else if(i!==4&&(n=n.child,n!==null))for(Zg(n,e,t),n=n.sibling;n!==null;)Zg(n,e,t),n=n.sibling}function Jg(n,e,t){var i=n.tag;if(i===5||i===6)n=n.stateNode,e?t.insertBefore(n,e):t.appendChild(n);else if(i!==4&&(n=n.child,n!==null))for(Jg(n,e,t),n=n.sibling;n!==null;)Jg(n,e,t),n=n.sibling}var dt=null,Zn=!1;function Pr(n,e,t){for(t=t.child;t!==null;)ME(n,e,t),t=t.sibling}function ME(n,e,t){if(ki&&typeof ki.onCommitFiberUnmount=="function")try{ki.onCommitFiberUnmount(Lp,t)}catch{}switch(t.tag){case 5:Et||ka(t,e);case 6:var i=dt,r=Zn;dt=null,Pr(n,e,t),dt=i,Zn=r,dt!==null&&(Zn?(n=dt,t=t.stateNode,n.nodeType===8?n.parentNode.removeChild(t):n.removeChild(t)):dt.removeChild(t.stateNode));break;case 18:dt!==null&&(Zn?(n=dt,t=t.stateNode,n.nodeType===8?Fm(n.parentNode,t):n.nodeType===1&&Fm(n,t),Kc(n)):Fm(dt,t.stateNode));break;case 4:i=dt,r=Zn,dt=t.stateNode.containerInfo,Zn=!0,Pr(n,e,t),dt=i,Zn=r;break;case 0:case 11:case 14:case 15:if(!Et&&(i=t.updateQueue,i!==null&&(i=i.lastEffect,i!==null))){r=i=i.next;do{var s=r,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&Yg(t,e,o),r=r.next}while(r!==i)}Pr(n,e,t);break;case 1:if(!Et&&(ka(t,e),i=t.stateNode,typeof i.componentWillUnmount=="function"))try{i.props=t.memoizedProps,i.state=t.memoizedState,i.componentWillUnmount()}catch(a){Oe(t,e,a)}Pr(n,e,t);break;case 21:Pr(n,e,t);break;case 22:t.mode&1?(Et=(i=Et)||t.memoizedState!==null,Pr(n,e,t),Et=i):Pr(n,e,t);break;default:Pr(n,e,t)}}function gx(n){var e=n.updateQueue;if(e!==null){n.updateQueue=null;var t=n.stateNode;t===null&&(t=n.stateNode=new xk),e.forEach(function(i){var r=Rk.bind(null,n,i);t.has(i)||(t.add(i),i.then(r,r))})}}function In(n,e){var t=e.deletions;if(t!==null)for(var i=0;i<t.length;i++){var r=t[i];try{var s=n,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:dt=a.stateNode,Zn=!1;break e;case 3:dt=a.stateNode.containerInfo,Zn=!0;break e;case 4:dt=a.stateNode.containerInfo,Zn=!0;break e}a=a.return}if(dt===null)throw Error(M(160));ME(s,o,r),dt=null,Zn=!1;var l=r.alternate;l!==null&&(l.return=null),r.return=null}catch(u){Oe(r,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)FE(e,n),e=e.sibling}function FE(n,e){var t=n.alternate,i=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:if(In(e,n),oi(n),i&4){try{Ic(3,n,n.return),$p(3,n)}catch(v){Oe(n,n.return,v)}try{Ic(5,n,n.return)}catch(v){Oe(n,n.return,v)}}break;case 1:In(e,n),oi(n),i&512&&t!==null&&ka(t,t.return);break;case 5:if(In(e,n),oi(n),i&512&&t!==null&&ka(t,t.return),n.flags&32){var r=n.stateNode;try{Wc(r,"")}catch(v){Oe(n,n.return,v)}}if(i&4&&(r=n.stateNode,r!=null)){var s=n.memoizedProps,o=t!==null?t.memoizedProps:s,a=n.type,l=n.updateQueue;if(n.updateQueue=null,l!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&nb(r,s),Ag(a,o);var u=Ag(a,s);for(o=0;o<l.length;o+=2){var d=l[o],h=l[o+1];d==="style"?ab(r,h):d==="dangerouslySetInnerHTML"?sb(r,h):d==="children"?Wc(r,h):qv(r,d,h,u)}switch(a){case"input":yg(r,s);break;case"textarea":ib(r,s);break;case"select":var f=r._wrapperState.wasMultiple;r._wrapperState.wasMultiple=!!s.multiple;var p=s.value;p!=null?Pa(r,!!s.multiple,p,!1):f!==!!s.multiple&&(s.defaultValue!=null?Pa(r,!!s.multiple,s.defaultValue,!0):Pa(r,!!s.multiple,s.multiple?[]:"",!1))}r[eu]=s}catch(v){Oe(n,n.return,v)}}break;case 6:if(In(e,n),oi(n),i&4){if(n.stateNode===null)throw Error(M(162));r=n.stateNode,s=n.memoizedProps;try{r.nodeValue=s}catch(v){Oe(n,n.return,v)}}break;case 3:if(In(e,n),oi(n),i&4&&t!==null&&t.memoizedState.isDehydrated)try{Kc(e.containerInfo)}catch(v){Oe(n,n.return,v)}break;case 4:In(e,n),oi(n);break;case 13:In(e,n),oi(n),r=n.child,r.flags&8192&&(s=r.memoizedState!==null,r.stateNode.isHidden=s,!s||r.alternate!==null&&r.alternate.memoizedState!==null||(_1=He())),i&4&&gx(n);break;case 22:if(d=t!==null&&t.memoizedState!==null,n.mode&1?(Et=(u=Et)||d,In(e,n),Et=u):In(e,n),oi(n),i&8192){if(u=n.memoizedState!==null,(n.stateNode.isHidden=u)&&!d&&n.mode&1)for(z=n,d=n.child;d!==null;){for(h=z=d;z!==null;){switch(f=z,p=f.child,f.tag){case 0:case 11:case 14:case 15:Ic(4,f,f.return);break;case 1:ka(f,f.return);var m=f.stateNode;if(typeof m.componentWillUnmount=="function"){i=f,t=f.return;try{e=i,m.props=e.memoizedProps,m.state=e.memoizedState,m.componentWillUnmount()}catch(v){Oe(i,t,v)}}break;case 5:ka(f,f.return);break;case 22:if(f.memoizedState!==null){yx(h);continue}}p!==null?(p.return=f,z=p):yx(h)}d=d.sibling}e:for(d=null,h=n;;){if(h.tag===5){if(d===null){d=h;try{r=h.stateNode,u?(s=r.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=h.stateNode,l=h.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=ob("display",o))}catch(v){Oe(n,n.return,v)}}}else if(h.tag===6){if(d===null)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(v){Oe(n,n.return,v)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===n)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===n)break e;for(;h.sibling===null;){if(h.return===null||h.return===n)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:In(e,n),oi(n),i&4&&gx(n);break;case 21:break;default:In(e,n),oi(n)}}function oi(n){var e=n.flags;if(e&2){try{e:{for(var t=n.return;t!==null;){if(NE(t)){var i=t;break e}t=t.return}throw Error(M(160))}switch(i.tag){case 5:var r=i.stateNode;i.flags&32&&(Wc(r,""),i.flags&=-33);var s=mx(n);Jg(n,s,r);break;case 3:case 4:var o=i.stateNode.containerInfo,a=mx(n);Zg(n,a,o);break;default:throw Error(M(161))}}catch(l){Oe(n,n.return,l)}n.flags&=-3}e&4096&&(n.flags&=-4097)}function bk(n,e,t){z=n,DE(n)}function DE(n,e,t){for(var i=(n.mode&1)!==0;z!==null;){var r=z,s=r.child;if(r.tag===22&&i){var o=r.memoizedState!==null||Sh;if(!o){var a=r.alternate,l=a!==null&&a.memoizedState!==null||Et;a=Sh;var u=Et;if(Sh=o,(Et=l)&&!u)for(z=r;z!==null;)o=z,l=o.child,o.tag===22&&o.memoizedState!==null?xx(r):l!==null?(l.return=o,z=l):xx(r);for(;s!==null;)z=s,DE(s),s=s.sibling;z=r,Sh=a,Et=u}vx(n)}else r.subtreeFlags&8772&&s!==null?(s.return=r,z=s):vx(n)}}function vx(n){for(;z!==null;){var e=z;if(e.flags&8772){var t=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Et||$p(5,e);break;case 1:var i=e.stateNode;if(e.flags&4&&!Et)if(t===null)i.componentDidMount();else{var r=e.elementType===e.type?t.memoizedProps:$n(e.type,t.memoizedProps);i.componentDidUpdate(r,t.memoizedState,i.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&tx(e,s,i);break;case 3:var o=e.updateQueue;if(o!==null){if(t=null,e.child!==null)switch(e.child.tag){case 5:t=e.child.stateNode;break;case 1:t=e.child.stateNode}tx(e,o,t)}break;case 5:var a=e.stateNode;if(t===null&&e.flags&4){t=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&t.focus();break;case"img":l.src&&(t.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var h=d.dehydrated;h!==null&&Kc(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(M(163))}Et||e.flags&512&&Qg(e)}catch(f){Oe(e,e.return,f)}}if(e===n){z=null;break}if(t=e.sibling,t!==null){t.return=e.return,z=t;break}z=e.return}}function yx(n){for(;z!==null;){var e=z;if(e===n){z=null;break}var t=e.sibling;if(t!==null){t.return=e.return,z=t;break}z=e.return}}function xx(n){for(;z!==null;){var e=z;try{switch(e.tag){case 0:case 11:case 15:var t=e.return;try{$p(4,e)}catch(l){Oe(e,t,l)}break;case 1:var i=e.stateNode;if(typeof i.componentDidMount=="function"){var r=e.return;try{i.componentDidMount()}catch(l){Oe(e,r,l)}}var s=e.return;try{Qg(e)}catch(l){Oe(e,s,l)}break;case 5:var o=e.return;try{Qg(e)}catch(l){Oe(e,o,l)}}}catch(l){Oe(e,e.return,l)}if(e===n){z=null;break}var a=e.sibling;if(a!==null){a.return=e.return,z=a;break}z=e.return}}var Ek=Math.ceil,Uf=kr.ReactCurrentDispatcher,S1=kr.ReactCurrentOwner,Rn=kr.ReactCurrentBatchConfig,ce=0,it=null,Ue=null,ft=0,ln=0,Ta=Ts(0),Ze=0,ou=null,qo=0,Hp=0,C1=0,Oc=null,zt=null,_1=0,jl=1/0,ji=null,Vf=!1,e0=null,ms=null,Ch=!1,as=null,Wf=0,jc=0,t0=null,Vh=-1,Wh=0;function Mt(){return ce&6?He():Vh!==-1?Vh:Vh=He()}function gs(n){return n.mode&1?ce&2&&ft!==0?ft&-ft:sk.transition!==null?(Wh===0&&(Wh=xb()),Wh):(n=ge,n!==0||(n=window.event,n=n===void 0?16:_b(n.type)),n):1}function ti(n,e,t,i){if(50<jc)throw jc=0,t0=null,Error(M(185));qd(n,t,i),(!(ce&2)||n!==it)&&(n===it&&(!(ce&2)&&(Hp|=t),Ze===4&&jr(n,ft)),Kt(n,i),t===1&&ce===0&&!(e.mode&1)&&(jl=He()+500,Ip&&Rs()))}function Kt(n,e){var t=n.callbackNode;s_(n,e);var i=Tf(n,n===it?ft:0);if(i===0)t!==null&&Ty(t),n.callbackNode=null,n.callbackPriority=0;else if(e=i&-i,n.callbackPriority!==e){if(t!=null&&Ty(t),e===1)n.tag===0?rk(wx.bind(null,n)):Wb(wx.bind(null,n)),ek(function(){!(ce&6)&&Rs()}),t=null;else{switch(wb(i)){case 1:t=Zv;break;case 4:t=vb;break;case 16:t=kf;break;case 536870912:t=yb;break;default:t=kf}t=UE(t,IE.bind(null,n))}n.callbackPriority=e,n.callbackNode=t}}function IE(n,e){if(Vh=-1,Wh=0,ce&6)throw Error(M(327));var t=n.callbackNode;if(Da()&&n.callbackNode!==t)return null;var i=Tf(n,n===it?ft:0);if(i===0)return null;if(i&30||i&n.expiredLanes||e)e=Gf(n,i);else{e=i;var r=ce;ce|=2;var s=jE();(it!==n||ft!==e)&&(ji=null,jl=He()+500,$o(n,e));do try{Ck();break}catch(a){OE(n,a)}while(!0);d1(),Uf.current=s,ce=r,Ue!==null?e=0:(it=null,ft=0,e=Ze)}if(e!==0){if(e===2&&(r=Tg(n),r!==0&&(i=r,e=n0(n,r))),e===1)throw t=ou,$o(n,0),jr(n,i),Kt(n,He()),t;if(e===6)jr(n,i);else{if(r=n.current.alternate,!(i&30)&&!Ak(r)&&(e=Gf(n,i),e===2&&(s=Tg(n),s!==0&&(i=s,e=n0(n,s))),e===1))throw t=ou,$o(n,0),jr(n,i),Kt(n,He()),t;switch(n.finishedWork=r,n.finishedLanes=i,e){case 0:case 1:throw Error(M(345));case 2:Ns(n,zt,ji);break;case 3:if(jr(n,i),(i&130023424)===i&&(e=_1+500-He(),10<e)){if(Tf(n,0)!==0)break;if(r=n.suspendedLanes,(r&i)!==i){Mt(),n.pingedLanes|=n.suspendedLanes&r;break}n.timeoutHandle=Ig(Ns.bind(null,n,zt,ji),e);break}Ns(n,zt,ji);break;case 4:if(jr(n,i),(i&4194240)===i)break;for(e=n.eventTimes,r=-1;0<i;){var o=31-ei(i);s=1<<o,o=e[o],o>r&&(r=o),i&=~s}if(i=r,i=He()-i,i=(120>i?120:480>i?480:1080>i?1080:1920>i?1920:3e3>i?3e3:4320>i?4320:1960*Ek(i/1960))-i,10<i){n.timeoutHandle=Ig(Ns.bind(null,n,zt,ji),i);break}Ns(n,zt,ji);break;case 5:Ns(n,zt,ji);break;default:throw Error(M(329))}}}return Kt(n,He()),n.callbackNode===t?IE.bind(null,n):null}function n0(n,e){var t=Oc;return n.current.memoizedState.isDehydrated&&($o(n,e).flags|=256),n=Gf(n,e),n!==2&&(e=zt,zt=t,e!==null&&i0(e)),n}function i0(n){zt===null?zt=n:zt.push.apply(zt,n)}function Ak(n){for(var e=n;;){if(e.flags&16384){var t=e.updateQueue;if(t!==null&&(t=t.stores,t!==null))for(var i=0;i<t.length;i++){var r=t[i],s=r.getSnapshot;r=r.value;try{if(!ii(s(),r))return!1}catch{return!1}}}if(t=e.child,e.subtreeFlags&16384&&t!==null)t.return=e,e=t;else{if(e===n)break;for(;e.sibling===null;){if(e.return===null||e.return===n)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function jr(n,e){for(e&=~C1,e&=~Hp,n.suspendedLanes|=e,n.pingedLanes&=~e,n=n.expirationTimes;0<e;){var t=31-ei(e),i=1<<t;n[t]=-1,e&=~i}}function wx(n){if(ce&6)throw Error(M(327));Da();var e=Tf(n,0);if(!(e&1))return Kt(n,He()),null;var t=Gf(n,e);if(n.tag!==0&&t===2){var i=Tg(n);i!==0&&(e=i,t=n0(n,i))}if(t===1)throw t=ou,$o(n,0),jr(n,e),Kt(n,He()),t;if(t===6)throw Error(M(345));return n.finishedWork=n.current.alternate,n.finishedLanes=e,Ns(n,zt,ji),Kt(n,He()),null}function k1(n,e){var t=ce;ce|=1;try{return n(e)}finally{ce=t,ce===0&&(jl=He()+500,Ip&&Rs())}}function Xo(n){as!==null&&as.tag===0&&!(ce&6)&&Da();var e=ce;ce|=1;var t=Rn.transition,i=ge;try{if(Rn.transition=null,ge=1,n)return n()}finally{ge=i,Rn.transition=t,ce=e,!(ce&6)&&Rs()}}function T1(){ln=Ta.current,_e(Ta)}function $o(n,e){n.finishedWork=null,n.finishedLanes=0;var t=n.timeoutHandle;if(t!==-1&&(n.timeoutHandle=-1,J_(t)),Ue!==null)for(t=Ue.return;t!==null;){var i=t;switch(l1(i),i.tag){case 1:i=i.type.childContextTypes,i!=null&&Mf();break;case 3:Il(),_e(qt),_e(Ct),v1();break;case 5:g1(i);break;case 4:Il();break;case 13:_e(Le);break;case 19:_e(Le);break;case 10:h1(i.type._context);break;case 22:case 23:T1()}t=t.return}if(it=n,Ue=n=vs(n.current,null),ft=ln=e,Ze=0,ou=null,C1=Hp=qo=0,zt=Oc=null,$s!==null){for(e=0;e<$s.length;e++)if(t=$s[e],i=t.interleaved,i!==null){t.interleaved=null;var r=i.next,s=t.pending;if(s!==null){var o=s.next;s.next=r,i.next=o}t.pending=i}$s=null}return n}function OE(n,e){do{var t=Ue;try{if(d1(),Bh.current=zf,Bf){for(var i=Fe.memoizedState;i!==null;){var r=i.queue;r!==null&&(r.pending=null),i=i.next}Bf=!1}if(Go=0,nt=Ye=Fe=null,Dc=!1,iu=0,S1.current=null,t===null||t.return===null){Ze=1,ou=e,Ue=null;break}e:{var s=n,o=t.return,a=t,l=e;if(e=ft,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,d=a,h=d.tag;if(!(d.mode&1)&&(h===0||h===11||h===15)){var f=d.alternate;f?(d.updateQueue=f.updateQueue,d.memoizedState=f.memoizedState,d.lanes=f.lanes):(d.updateQueue=null,d.memoizedState=null)}var p=ax(o);if(p!==null){p.flags&=-257,lx(p,o,a,s,e),p.mode&1&&ox(s,u,e),e=p,l=u;var m=e.updateQueue;if(m===null){var v=new Set;v.add(l),e.updateQueue=v}else m.add(l);break e}else{if(!(e&1)){ox(s,u,e),R1();break e}l=Error(M(426))}}else if(ke&&a.mode&1){var b=ax(o);if(b!==null){!(b.flags&65536)&&(b.flags|=256),lx(b,o,a,s,e),c1(Ol(l,a));break e}}s=l=Ol(l,a),Ze!==4&&(Ze=2),Oc===null?Oc=[s]:Oc.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var g=wE(s,l,e);ex(s,g);break e;case 1:a=l;var y=s.type,x=s.stateNode;if(!(s.flags&128)&&(typeof y.getDerivedStateFromError=="function"||x!==null&&typeof x.componentDidCatch=="function"&&(ms===null||!ms.has(x)))){s.flags|=65536,e&=-e,s.lanes|=e;var _=bE(s,a,e);ex(s,_);break e}}s=s.return}while(s!==null)}HE(t)}catch(k){e=k,Ue===t&&t!==null&&(Ue=t=t.return);continue}break}while(!0)}function jE(){var n=Uf.current;return Uf.current=zf,n===null?zf:n}function R1(){(Ze===0||Ze===3||Ze===2)&&(Ze=4),it===null||!(qo&268435455)&&!(Hp&268435455)||jr(it,ft)}function Gf(n,e){var t=ce;ce|=2;var i=jE();(it!==n||ft!==e)&&(ji=null,$o(n,e));do try{Sk();break}catch(r){OE(n,r)}while(!0);if(d1(),ce=t,Uf.current=i,Ue!==null)throw Error(M(261));return it=null,ft=0,Ze}function Sk(){for(;Ue!==null;)$E(Ue)}function Ck(){for(;Ue!==null&&!YC();)$E(Ue)}function $E(n){var e=zE(n.alternate,n,ln);n.memoizedProps=n.pendingProps,e===null?HE(n):Ue=e,S1.current=null}function HE(n){var e=n;do{var t=e.alternate;if(n=e.return,e.flags&32768){if(t=yk(t,e),t!==null){t.flags&=32767,Ue=t;return}if(n!==null)n.flags|=32768,n.subtreeFlags=0,n.deletions=null;else{Ze=6,Ue=null;return}}else if(t=vk(t,e,ln),t!==null){Ue=t;return}if(e=e.sibling,e!==null){Ue=e;return}Ue=e=n}while(e!==null);Ze===0&&(Ze=5)}function Ns(n,e,t){var i=ge,r=Rn.transition;try{Rn.transition=null,ge=1,_k(n,e,t,i)}finally{Rn.transition=r,ge=i}return null}function _k(n,e,t,i){do Da();while(as!==null);if(ce&6)throw Error(M(327));t=n.finishedWork;var r=n.finishedLanes;if(t===null)return null;if(n.finishedWork=null,n.finishedLanes=0,t===n.current)throw Error(M(177));n.callbackNode=null,n.callbackPriority=0;var s=t.lanes|t.childLanes;if(o_(n,s),n===it&&(Ue=it=null,ft=0),!(t.subtreeFlags&2064)&&!(t.flags&2064)||Ch||(Ch=!0,UE(kf,function(){return Da(),null})),s=(t.flags&15990)!==0,t.subtreeFlags&15990||s){s=Rn.transition,Rn.transition=null;var o=ge;ge=1;var a=ce;ce|=4,S1.current=null,wk(n,t),FE(t,n),G_(Fg),Rf=!!Mg,Fg=Mg=null,n.current=t,bk(t),QC(),ce=a,ge=o,Rn.transition=s}else n.current=t;if(Ch&&(Ch=!1,as=n,Wf=r),s=n.pendingLanes,s===0&&(ms=null),e_(t.stateNode),Kt(n,He()),e!==null)for(i=n.onRecoverableError,t=0;t<e.length;t++)r=e[t],i(r.value,{componentStack:r.stack,digest:r.digest});if(Vf)throw Vf=!1,n=e0,e0=null,n;return Wf&1&&n.tag!==0&&Da(),s=n.pendingLanes,s&1?n===t0?jc++:(jc=0,t0=n):jc=0,Rs(),null}function Da(){if(as!==null){var n=wb(Wf),e=Rn.transition,t=ge;try{if(Rn.transition=null,ge=16>n?16:n,as===null)var i=!1;else{if(n=as,as=null,Wf=0,ce&6)throw Error(M(331));var r=ce;for(ce|=4,z=n.current;z!==null;){var s=z,o=s.child;if(z.flags&16){var a=s.deletions;if(a!==null){for(var l=0;l<a.length;l++){var u=a[l];for(z=u;z!==null;){var d=z;switch(d.tag){case 0:case 11:case 15:Ic(8,d,s)}var h=d.child;if(h!==null)h.return=d,z=h;else for(;z!==null;){d=z;var f=d.sibling,p=d.return;if(LE(d),d===u){z=null;break}if(f!==null){f.return=p,z=f;break}z=p}}}var m=s.alternate;if(m!==null){var v=m.child;if(v!==null){m.child=null;do{var b=v.sibling;v.sibling=null,v=b}while(v!==null)}}z=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,z=o;else e:for(;z!==null;){if(s=z,s.flags&2048)switch(s.tag){case 0:case 11:case 15:Ic(9,s,s.return)}var g=s.sibling;if(g!==null){g.return=s.return,z=g;break e}z=s.return}}var y=n.current;for(z=y;z!==null;){o=z;var x=o.child;if(o.subtreeFlags&2064&&x!==null)x.return=o,z=x;else e:for(o=y;z!==null;){if(a=z,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:$p(9,a)}}catch(k){Oe(a,a.return,k)}if(a===o){z=null;break e}var _=a.sibling;if(_!==null){_.return=a.return,z=_;break e}z=a.return}}if(ce=r,Rs(),ki&&typeof ki.onPostCommitFiberRoot=="function")try{ki.onPostCommitFiberRoot(Lp,n)}catch{}i=!0}return i}finally{ge=t,Rn.transition=e}}return!1}function bx(n,e,t){e=Ol(t,e),e=wE(n,e,1),n=ps(n,e,1),e=Mt(),n!==null&&(qd(n,1,e),Kt(n,e))}function Oe(n,e,t){if(n.tag===3)bx(n,n,t);else for(;e!==null;){if(e.tag===3){bx(e,n,t);break}else if(e.tag===1){var i=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof i.componentDidCatch=="function"&&(ms===null||!ms.has(i))){n=Ol(t,n),n=bE(e,n,1),e=ps(e,n,1),n=Mt(),e!==null&&(qd(e,1,n),Kt(e,n));break}}e=e.return}}function kk(n,e,t){var i=n.pingCache;i!==null&&i.delete(e),e=Mt(),n.pingedLanes|=n.suspendedLanes&t,it===n&&(ft&t)===t&&(Ze===4||Ze===3&&(ft&130023424)===ft&&500>He()-_1?$o(n,0):C1|=t),Kt(n,e)}function BE(n,e){e===0&&(n.mode&1?(e=mh,mh<<=1,!(mh&130023424)&&(mh=4194304)):e=1);var t=Mt();n=Ar(n,e),n!==null&&(qd(n,e,t),Kt(n,t))}function Tk(n){var e=n.memoizedState,t=0;e!==null&&(t=e.retryLane),BE(n,t)}function Rk(n,e){var t=0;switch(n.tag){case 13:var i=n.stateNode,r=n.memoizedState;r!==null&&(t=r.retryLane);break;case 19:i=n.stateNode;break;default:throw Error(M(314))}i!==null&&i.delete(e),BE(n,t)}var zE;zE=function(n,e,t){if(n!==null)if(n.memoizedProps!==e.pendingProps||qt.current)Ut=!0;else{if(!(n.lanes&t)&&!(e.flags&128))return Ut=!1,gk(n,e,t);Ut=!!(n.flags&131072)}else Ut=!1,ke&&e.flags&1048576&&Gb(e,If,e.index);switch(e.lanes=0,e.tag){case 2:var i=e.type;Uh(n,e),n=e.pendingProps;var r=Ml(e,Ct.current);Fa(e,t),r=x1(null,e,i,n,r,t);var s=w1();return e.flags|=1,typeof r=="object"&&r!==null&&typeof r.render=="function"&&r.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Xt(i)?(s=!0,Ff(e)):s=!1,e.memoizedState=r.state!==null&&r.state!==void 0?r.state:null,p1(e),r.updater=jp,e.stateNode=r,r._reactInternals=e,Ug(e,i,n,t),e=Gg(null,e,i,!0,s,t)):(e.tag=0,ke&&s&&a1(e),Lt(null,e,r,t),e=e.child),e;case 16:i=e.elementType;e:{switch(Uh(n,e),n=e.pendingProps,r=i._init,i=r(i._payload),e.type=i,r=e.tag=Lk(i),n=$n(i,n),r){case 0:e=Wg(null,e,i,n,t);break e;case 1:e=dx(null,e,i,n,t);break e;case 11:e=cx(null,e,i,n,t);break e;case 14:e=ux(null,e,i,$n(i.type,n),t);break e}throw Error(M(306,i,""))}return e;case 0:return i=e.type,r=e.pendingProps,r=e.elementType===i?r:$n(i,r),Wg(n,e,i,r,t);case 1:return i=e.type,r=e.pendingProps,r=e.elementType===i?r:$n(i,r),dx(n,e,i,r,t);case 3:e:{if(CE(e),n===null)throw Error(M(387));i=e.pendingProps,s=e.memoizedState,r=s.element,Zb(n,e),$f(e,i,null,t);var o=e.memoizedState;if(i=o.element,s.isDehydrated)if(s={element:i,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){r=Ol(Error(M(423)),e),e=hx(n,e,i,t,r);break e}else if(i!==r){r=Ol(Error(M(424)),e),e=hx(n,e,i,t,r);break e}else for(dn=fs(e.stateNode.containerInfo.firstChild),hn=e,ke=!0,Jn=null,t=Yb(e,null,i,t),e.child=t;t;)t.flags=t.flags&-3|4096,t=t.sibling;else{if(Fl(),i===r){e=Sr(n,e,t);break e}Lt(n,e,i,t)}e=e.child}return e;case 5:return Jb(e),n===null&&Hg(e),i=e.type,r=e.pendingProps,s=n!==null?n.memoizedProps:null,o=r.children,Dg(i,r)?o=null:s!==null&&Dg(i,s)&&(e.flags|=32),SE(n,e),Lt(n,e,o,t),e.child;case 6:return n===null&&Hg(e),null;case 13:return _E(n,e,t);case 4:return m1(e,e.stateNode.containerInfo),i=e.pendingProps,n===null?e.child=Dl(e,null,i,t):Lt(n,e,i,t),e.child;case 11:return i=e.type,r=e.pendingProps,r=e.elementType===i?r:$n(i,r),cx(n,e,i,r,t);case 7:return Lt(n,e,e.pendingProps,t),e.child;case 8:return Lt(n,e,e.pendingProps.children,t),e.child;case 12:return Lt(n,e,e.pendingProps.children,t),e.child;case 10:e:{if(i=e.type._context,r=e.pendingProps,s=e.memoizedProps,o=r.value,Ae(Of,i._currentValue),i._currentValue=o,s!==null)if(ii(s.value,o)){if(s.children===r.children&&!qt.current){e=Sr(n,e,t);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var l=a.firstContext;l!==null;){if(l.context===i){if(s.tag===1){l=gr(-1,t&-t),l.tag=2;var u=s.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?l.next=l:(l.next=d.next,d.next=l),u.pending=l}}s.lanes|=t,l=s.alternate,l!==null&&(l.lanes|=t),Bg(s.return,t,e),a.lanes|=t;break}l=l.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(M(341));o.lanes|=t,a=o.alternate,a!==null&&(a.lanes|=t),Bg(o,t,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}Lt(n,e,r.children,t),e=e.child}return e;case 9:return r=e.type,i=e.pendingProps.children,Fa(e,t),r=Nn(r),i=i(r),e.flags|=1,Lt(n,e,i,t),e.child;case 14:return i=e.type,r=$n(i,e.pendingProps),r=$n(i.type,r),ux(n,e,i,r,t);case 15:return EE(n,e,e.type,e.pendingProps,t);case 17:return i=e.type,r=e.pendingProps,r=e.elementType===i?r:$n(i,r),Uh(n,e),e.tag=1,Xt(i)?(n=!0,Ff(e)):n=!1,Fa(e,t),xE(e,i,r),Ug(e,i,r,t),Gg(null,e,i,!0,n,t);case 19:return kE(n,e,t);case 22:return AE(n,e,t)}throw Error(M(156,e.tag))};function UE(n,e){return gb(n,e)}function Pk(n,e,t,i){this.tag=n,this.key=t,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Tn(n,e,t,i){return new Pk(n,e,t,i)}function P1(n){return n=n.prototype,!(!n||!n.isReactComponent)}function Lk(n){if(typeof n=="function")return P1(n)?1:0;if(n!=null){if(n=n.$$typeof,n===Kv)return 11;if(n===Yv)return 14}return 2}function vs(n,e){var t=n.alternate;return t===null?(t=Tn(n.tag,e,n.key,n.mode),t.elementType=n.elementType,t.type=n.type,t.stateNode=n.stateNode,t.alternate=n,n.alternate=t):(t.pendingProps=e,t.type=n.type,t.flags=0,t.subtreeFlags=0,t.deletions=null),t.flags=n.flags&14680064,t.childLanes=n.childLanes,t.lanes=n.lanes,t.child=n.child,t.memoizedProps=n.memoizedProps,t.memoizedState=n.memoizedState,t.updateQueue=n.updateQueue,e=n.dependencies,t.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},t.sibling=n.sibling,t.index=n.index,t.ref=n.ref,t}function Gh(n,e,t,i,r,s){var o=2;if(i=n,typeof n=="function")P1(n)&&(o=1);else if(typeof n=="string")o=5;else e:switch(n){case ya:return Ho(t.children,r,s,e);case Xv:o=8,r|=8;break;case fg:return n=Tn(12,t,e,r|2),n.elementType=fg,n.lanes=s,n;case pg:return n=Tn(13,t,e,r),n.elementType=pg,n.lanes=s,n;case mg:return n=Tn(19,t,e,r),n.elementType=mg,n.lanes=s,n;case Jw:return Bp(t,r,s,e);default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case Qw:o=10;break e;case Zw:o=9;break e;case Kv:o=11;break e;case Yv:o=14;break e;case Dr:o=16,i=null;break e}throw Error(M(130,n==null?n:typeof n,""))}return e=Tn(o,t,e,r),e.elementType=n,e.type=i,e.lanes=s,e}function Ho(n,e,t,i){return n=Tn(7,n,i,e),n.lanes=t,n}function Bp(n,e,t,i){return n=Tn(22,n,i,e),n.elementType=Jw,n.lanes=t,n.stateNode={isHidden:!1},n}function zm(n,e,t){return n=Tn(6,n,null,e),n.lanes=t,n}function Um(n,e,t){return e=Tn(4,n.children!==null?n.children:[],n.key,e),e.lanes=t,e.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},e}function Nk(n,e,t,i,r){this.tag=e,this.containerInfo=n,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Am(0),this.expirationTimes=Am(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Am(0),this.identifierPrefix=i,this.onRecoverableError=r,this.mutableSourceEagerHydrationData=null}function L1(n,e,t,i,r,s,o,a,l){return n=new Nk(n,e,t,a,l),e===1?(e=1,s===!0&&(e|=8)):e=0,s=Tn(3,null,null,e),n.current=s,s.stateNode=n,s.memoizedState={element:i,isDehydrated:t,cache:null,transitions:null,pendingSuspenseBoundaries:null},p1(s),n}function Mk(n,e,t){var i=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:va,key:i==null?null:""+i,children:n,containerInfo:e,implementation:t}}function VE(n){if(!n)return ws;n=n._reactInternals;e:{if(sa(n)!==n||n.tag!==1)throw Error(M(170));var e=n;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Xt(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(M(171))}if(n.tag===1){var t=n.type;if(Xt(t))return Vb(n,t,e)}return e}function WE(n,e,t,i,r,s,o,a,l){return n=L1(t,i,!0,n,r,s,o,a,l),n.context=VE(null),t=n.current,i=Mt(),r=gs(t),s=gr(i,r),s.callback=e??null,ps(t,s,r),n.current.lanes=r,qd(n,r,i),Kt(n,i),n}function zp(n,e,t,i){var r=e.current,s=Mt(),o=gs(r);return t=VE(t),e.context===null?e.context=t:e.pendingContext=t,e=gr(s,o),e.payload={element:n},i=i===void 0?null:i,i!==null&&(e.callback=i),n=ps(r,e,o),n!==null&&(ti(n,r,o,s),Hh(n,r,o)),o}function qf(n){if(n=n.current,!n.child)return null;switch(n.child.tag){case 5:return n.child.stateNode;default:return n.child.stateNode}}function Ex(n,e){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var t=n.retryLane;n.retryLane=t!==0&&t<e?t:e}}function N1(n,e){Ex(n,e),(n=n.alternate)&&Ex(n,e)}function Fk(){return null}var GE=typeof reportError=="function"?reportError:function(n){console.error(n)};function M1(n){this._internalRoot=n}Up.prototype.render=M1.prototype.render=function(n){var e=this._internalRoot;if(e===null)throw Error(M(409));zp(n,e,null,null)};Up.prototype.unmount=M1.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var e=n.containerInfo;Xo(function(){zp(null,n,null,null)}),e[Er]=null}};function Up(n){this._internalRoot=n}Up.prototype.unstable_scheduleHydration=function(n){if(n){var e=Ab();n={blockedOn:null,target:n,priority:e};for(var t=0;t<Or.length&&e!==0&&e<Or[t].priority;t++);Or.splice(t,0,n),t===0&&Cb(n)}};function F1(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function Vp(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11&&(n.nodeType!==8||n.nodeValue!==" react-mount-point-unstable "))}function Ax(){}function Dk(n,e,t,i,r){if(r){if(typeof i=="function"){var s=i;i=function(){var u=qf(o);s.call(u)}}var o=WE(e,i,n,0,null,!1,!1,"",Ax);return n._reactRootContainer=o,n[Er]=o.current,Zc(n.nodeType===8?n.parentNode:n),Xo(),o}for(;r=n.lastChild;)n.removeChild(r);if(typeof i=="function"){var a=i;i=function(){var u=qf(l);a.call(u)}}var l=L1(n,0,!1,null,null,!1,!1,"",Ax);return n._reactRootContainer=l,n[Er]=l.current,Zc(n.nodeType===8?n.parentNode:n),Xo(function(){zp(e,l,t,i)}),l}function Wp(n,e,t,i,r){var s=t._reactRootContainer;if(s){var o=s;if(typeof r=="function"){var a=r;r=function(){var l=qf(o);a.call(l)}}zp(e,o,n,r)}else o=Dk(t,e,n,r,i);return qf(o)}bb=function(n){switch(n.tag){case 3:var e=n.stateNode;if(e.current.memoizedState.isDehydrated){var t=fc(e.pendingLanes);t!==0&&(Jv(e,t|1),Kt(e,He()),!(ce&6)&&(jl=He()+500,Rs()))}break;case 13:Xo(function(){var i=Ar(n,1);if(i!==null){var r=Mt();ti(i,n,1,r)}}),N1(n,1)}};e1=function(n){if(n.tag===13){var e=Ar(n,134217728);if(e!==null){var t=Mt();ti(e,n,134217728,t)}N1(n,134217728)}};Eb=function(n){if(n.tag===13){var e=gs(n),t=Ar(n,e);if(t!==null){var i=Mt();ti(t,n,e,i)}N1(n,e)}};Ab=function(){return ge};Sb=function(n,e){var t=ge;try{return ge=n,e()}finally{ge=t}};Cg=function(n,e,t){switch(e){case"input":if(yg(n,t),e=t.name,t.type==="radio"&&e!=null){for(t=n;t.parentNode;)t=t.parentNode;for(t=t.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<t.length;e++){var i=t[e];if(i!==n&&i.form===n.form){var r=Dp(i);if(!r)throw Error(M(90));tb(i),yg(i,r)}}}break;case"textarea":ib(n,t);break;case"select":e=t.value,e!=null&&Pa(n,!!t.multiple,e,!1)}};ub=k1;db=Xo;var Ik={usingClientEntryPoint:!1,Events:[Kd,Ea,Dp,lb,cb,k1]},sc={findFiberByHostInstance:js,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Ok={bundleType:sc.bundleType,version:sc.version,rendererPackageName:sc.rendererPackageName,rendererConfig:sc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:kr.ReactCurrentDispatcher,findHostInstanceByFiber:function(n){return n=pb(n),n===null?null:n.stateNode},findFiberByHostInstance:sc.findFiberByHostInstance||Fk,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var _h=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!_h.isDisabled&&_h.supportsFiber)try{Lp=_h.inject(Ok),ki=_h}catch{}}mn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Ik;mn.createPortal=function(n,e){var t=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!F1(e))throw Error(M(200));return Mk(n,e,null,t)};mn.createRoot=function(n,e){if(!F1(n))throw Error(M(299));var t=!1,i="",r=GE;return e!=null&&(e.unstable_strictMode===!0&&(t=!0),e.identifierPrefix!==void 0&&(i=e.identifierPrefix),e.onRecoverableError!==void 0&&(r=e.onRecoverableError)),e=L1(n,1,!1,null,null,t,!1,i,r),n[Er]=e.current,Zc(n.nodeType===8?n.parentNode:n),new M1(e)};mn.findDOMNode=function(n){if(n==null)return null;if(n.nodeType===1)return n;var e=n._reactInternals;if(e===void 0)throw typeof n.render=="function"?Error(M(188)):(n=Object.keys(n).join(","),Error(M(268,n)));return n=pb(e),n=n===null?null:n.stateNode,n};mn.flushSync=function(n){return Xo(n)};mn.hydrate=function(n,e,t){if(!Vp(e))throw Error(M(200));return Wp(null,n,e,!0,t)};mn.hydrateRoot=function(n,e,t){if(!F1(n))throw Error(M(405));var i=t!=null&&t.hydratedSources||null,r=!1,s="",o=GE;if(t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(s=t.identifierPrefix),t.onRecoverableError!==void 0&&(o=t.onRecoverableError)),e=WE(e,null,n,1,t??null,r,!1,s,o),n[Er]=e.current,Zc(n),i)for(n=0;n<i.length;n++)t=i[n],r=t._getVersion,r=r(t._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[t,r]:e.mutableSourceEagerHydrationData.push(t,r);return new Up(e)};mn.render=function(n,e,t){if(!Vp(e))throw Error(M(200));return Wp(null,n,e,!1,t)};mn.unmountComponentAtNode=function(n){if(!Vp(n))throw Error(M(40));return n._reactRootContainer?(Xo(function(){Wp(null,null,n,!1,function(){n._reactRootContainer=null,n[Er]=null})}),!0):!1};mn.unstable_batchedUpdates=k1;mn.unstable_renderSubtreeIntoContainer=function(n,e,t,i){if(!Vp(t))throw Error(M(200));if(n==null||n._reactInternals===void 0)throw Error(M(38));return Wp(n,e,t,!1,i)};mn.version="18.3.1-next-f1338f8080-20240426";function qE(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(qE)}catch(n){console.error(n)}}qE(),qw.exports=mn;var Pn=qw.exports,Sx=Pn;dg.createRoot=Sx.createRoot,dg.hydrateRoot=Sx.hydrateRoot;/**
 * @remix-run/router v1.16.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function au(){return au=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},au.apply(this,arguments)}var ls;(function(n){n.Pop="POP",n.Push="PUSH",n.Replace="REPLACE"})(ls||(ls={}));const Cx="popstate";function jk(n){n===void 0&&(n={});function e(i,r){let{pathname:s,search:o,hash:a}=i.location;return r0("",{pathname:s,search:o,hash:a},r.state&&r.state.usr||null,r.state&&r.state.key||"default")}function t(i,r){return typeof r=="string"?r:KE(r)}return Hk(e,t,null,n)}function Je(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function XE(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function $k(){return Math.random().toString(36).substr(2,8)}function _x(n,e){return{usr:n.state,key:n.key,idx:e}}function r0(n,e,t,i){return t===void 0&&(t=null),au({pathname:typeof n=="string"?n:n.pathname,search:"",hash:""},typeof e=="string"?Vl(e):e,{state:t,key:e&&e.key||i||$k()})}function KE(n){let{pathname:e="/",search:t="",hash:i=""}=n;return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),i&&i!=="#"&&(e+=i.charAt(0)==="#"?i:"#"+i),e}function Vl(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substr(t),n=n.substr(0,t));let i=n.indexOf("?");i>=0&&(e.search=n.substr(i),n=n.substr(0,i)),n&&(e.pathname=n)}return e}function Hk(n,e,t,i){i===void 0&&(i={});let{window:r=document.defaultView,v5Compat:s=!1}=i,o=r.history,a=ls.Pop,l=null,u=d();u==null&&(u=0,o.replaceState(au({},o.state,{idx:u}),""));function d(){return(o.state||{idx:null}).idx}function h(){a=ls.Pop;let b=d(),g=b==null?null:b-u;u=b,l&&l({action:a,location:v.location,delta:g})}function f(b,g){a=ls.Push;let y=r0(v.location,b,g);u=d()+1;let x=_x(y,u),_=v.createHref(y);try{o.pushState(x,"",_)}catch(k){if(k instanceof DOMException&&k.name==="DataCloneError")throw k;r.location.assign(_)}s&&l&&l({action:a,location:v.location,delta:1})}function p(b,g){a=ls.Replace;let y=r0(v.location,b,g);u=d();let x=_x(y,u),_=v.createHref(y);o.replaceState(x,"",_),s&&l&&l({action:a,location:v.location,delta:0})}function m(b){let g=r.location.origin!=="null"?r.location.origin:r.location.href,y=typeof b=="string"?b:KE(b);return y=y.replace(/ $/,"%20"),Je(g,"No window.location.(origin|href) available to create URL for href: "+y),new URL(y,g)}let v={get action(){return a},get location(){return n(r,o)},listen(b){if(l)throw new Error("A history only accepts one active listener");return r.addEventListener(Cx,h),l=b,()=>{r.removeEventListener(Cx,h),l=null}},createHref(b){return e(r,b)},createURL:m,encodeLocation(b){let g=m(b);return{pathname:g.pathname,search:g.search,hash:g.hash}},push:f,replace:p,go(b){return o.go(b)}};return v}var kx;(function(n){n.data="data",n.deferred="deferred",n.redirect="redirect",n.error="error"})(kx||(kx={}));function Bk(n,e,t){t===void 0&&(t="/");let i=typeof e=="string"?Vl(e):e,r=ZE(i.pathname||"/",t);if(r==null)return null;let s=YE(n);zk(s);let o=null;for(let a=0;o==null&&a<s.length;++a){let l=eT(r);o=Qk(s[a],l)}return o}function YE(n,e,t,i){e===void 0&&(e=[]),t===void 0&&(t=[]),i===void 0&&(i="");let r=(s,o,a)=>{let l={relativePath:a===void 0?s.path||"":a,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};l.relativePath.startsWith("/")&&(Je(l.relativePath.startsWith(i),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+i+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(i.length));let u=Bo([i,l.relativePath]),d=t.concat(l);s.children&&s.children.length>0&&(Je(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),YE(s.children,e,d,u)),!(s.path==null&&!s.index)&&e.push({path:u,score:Kk(u,s.index),routesMeta:d})};return n.forEach((s,o)=>{var a;if(s.path===""||!((a=s.path)!=null&&a.includes("?")))r(s,o);else for(let l of QE(s.path))r(s,o,l)}),e}function QE(n){let e=n.split("/");if(e.length===0)return[];let[t,...i]=e,r=t.endsWith("?"),s=t.replace(/\?$/,"");if(i.length===0)return r?[s,""]:[s];let o=QE(i.join("/")),a=[];return a.push(...o.map(l=>l===""?s:[s,l].join("/"))),r&&a.push(...o),a.map(l=>n.startsWith("/")&&l===""?"/":l)}function zk(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:Yk(e.routesMeta.map(i=>i.childrenIndex),t.routesMeta.map(i=>i.childrenIndex)))}const Uk=/^:[\w-]+$/,Vk=3,Wk=2,Gk=1,qk=10,Xk=-2,Tx=n=>n==="*";function Kk(n,e){let t=n.split("/"),i=t.length;return t.some(Tx)&&(i+=Xk),e&&(i+=Wk),t.filter(r=>!Tx(r)).reduce((r,s)=>r+(Uk.test(s)?Vk:s===""?Gk:qk),i)}function Yk(n,e){return n.length===e.length&&n.slice(0,-1).every((i,r)=>i===e[r])?n[n.length-1]-e[e.length-1]:0}function Qk(n,e){let{routesMeta:t}=n,i={},r="/",s=[];for(let o=0;o<t.length;++o){let a=t[o],l=o===t.length-1,u=r==="/"?e:e.slice(r.length)||"/",d=Zk({path:a.relativePath,caseSensitive:a.caseSensitive,end:l},u);if(!d)return null;Object.assign(i,d.params);let h=a.route;s.push({params:i,pathname:Bo([r,d.pathname]),pathnameBase:oT(Bo([r,d.pathnameBase])),route:h}),d.pathnameBase!=="/"&&(r=Bo([r,d.pathnameBase]))}return s}function Zk(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,i]=Jk(n.path,n.caseSensitive,n.end),r=e.match(t);if(!r)return null;let s=r[0],o=s.replace(/(.)\/+$/,"$1"),a=r.slice(1);return{params:i.reduce((u,d,h)=>{let{paramName:f,isOptional:p}=d;if(f==="*"){let v=a[h]||"";o=s.slice(0,s.length-v.length).replace(/(.)\/+$/,"$1")}const m=a[h];return p&&!m?u[f]=void 0:u[f]=(m||"").replace(/%2F/g,"/"),u},{}),pathname:s,pathnameBase:o,pattern:n}}function Jk(n,e,t){e===void 0&&(e=!1),t===void 0&&(t=!0),XE(n==="*"||!n.endsWith("*")||n.endsWith("/*"),'Route path "'+n+'" will be treated as if it were '+('"'+n.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+n.replace(/\*$/,"/*")+'".'));let i=[],r="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,l)=>(i.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return n.endsWith("*")?(i.push({paramName:"*"}),r+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?r+="\\/*$":n!==""&&n!=="/"&&(r+="(?:(?=\\/|$))"),[new RegExp(r,e?void 0:"i"),i]}function eT(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return XE(!1,'The URL path "'+n+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),n}}function ZE(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,i=n.charAt(t);return i&&i!=="/"?null:n.slice(t)||"/"}function tT(n,e){e===void 0&&(e="/");let{pathname:t,search:i="",hash:r=""}=typeof n=="string"?Vl(n):n;return{pathname:t?t.startsWith("/")?t:nT(t,e):e,search:aT(i),hash:lT(r)}}function nT(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(r=>{r===".."?t.length>1&&t.pop():r!=="."&&t.push(r)}),t.length>1?t.join("/"):"/"}function Vm(n,e,t,i){return"Cannot include a '"+n+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(i)+"].  Please separate it out to the ")+("`to."+t+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function iT(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function rT(n,e){let t=iT(n);return e?t.map((i,r)=>r===n.length-1?i.pathname:i.pathnameBase):t.map(i=>i.pathnameBase)}function sT(n,e,t,i){i===void 0&&(i=!1);let r;typeof n=="string"?r=Vl(n):(r=au({},n),Je(!r.pathname||!r.pathname.includes("?"),Vm("?","pathname","search",r)),Je(!r.pathname||!r.pathname.includes("#"),Vm("#","pathname","hash",r)),Je(!r.search||!r.search.includes("#"),Vm("#","search","hash",r)));let s=n===""||r.pathname==="",o=s?"/":r.pathname,a;if(o==null)a=t;else{let h=e.length-1;if(!i&&o.startsWith("..")){let f=o.split("/");for(;f[0]==="..";)f.shift(),h-=1;r.pathname=f.join("/")}a=h>=0?e[h]:"/"}let l=tT(r,a),u=o&&o!=="/"&&o.endsWith("/"),d=(s||o===".")&&t.endsWith("/");return!l.pathname.endsWith("/")&&(u||d)&&(l.pathname+="/"),l}const Bo=n=>n.join("/").replace(/\/\/+/g,"/"),oT=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),aT=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,lT=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function cT(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}const JE=["post","put","patch","delete"];new Set(JE);const uT=["get",...JE];new Set(uT);/**
 * React Router v6.23.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function lu(){return lu=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},lu.apply(this,arguments)}const D1=C.createContext(null),dT=C.createContext(null),Gp=C.createContext(null),qp=C.createContext(null),Wl=C.createContext({outlet:null,matches:[],isDataRoute:!1}),eA=C.createContext(null);function Xp(){return C.useContext(qp)!=null}function I1(){return Xp()||Je(!1),C.useContext(qp).location}function tA(n){C.useContext(Gp).static||C.useLayoutEffect(n)}function Qd(){let{isDataRoute:n}=C.useContext(Wl);return n?ST():hT()}function hT(){Xp()||Je(!1);let n=C.useContext(D1),{basename:e,future:t,navigator:i}=C.useContext(Gp),{matches:r}=C.useContext(Wl),{pathname:s}=I1(),o=JSON.stringify(rT(r,t.v7_relativeSplatPath)),a=C.useRef(!1);return tA(()=>{a.current=!0}),C.useCallback(function(u,d){if(d===void 0&&(d={}),!a.current)return;if(typeof u=="number"){i.go(u);return}let h=sT(u,JSON.parse(o),s,d.relative==="path");n==null&&e!=="/"&&(h.pathname=h.pathname==="/"?e:Bo([e,h.pathname])),(d.replace?i.replace:i.push)(h,d.state,d)},[e,i,o,s,n])}function fT(n,e){return pT(n,e)}function pT(n,e,t,i){Xp()||Je(!1);let{navigator:r}=C.useContext(Gp),{matches:s}=C.useContext(Wl),o=s[s.length-1],a=o?o.params:{};o&&o.pathname;let l=o?o.pathnameBase:"/";o&&o.route;let u=I1(),d;if(e){var h;let b=typeof e=="string"?Vl(e):e;l==="/"||(h=b.pathname)!=null&&h.startsWith(l)||Je(!1),d=b}else d=u;let f=d.pathname||"/",p=f;if(l!=="/"){let b=l.replace(/^\//,"").split("/");p="/"+f.replace(/^\//,"").split("/").slice(b.length).join("/")}let m=Bk(n,{pathname:p}),v=xT(m&&m.map(b=>Object.assign({},b,{params:Object.assign({},a,b.params),pathname:Bo([l,r.encodeLocation?r.encodeLocation(b.pathname).pathname:b.pathname]),pathnameBase:b.pathnameBase==="/"?l:Bo([l,r.encodeLocation?r.encodeLocation(b.pathnameBase).pathname:b.pathnameBase])})),s,t,i);return e&&v?C.createElement(qp.Provider,{value:{location:lu({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:ls.Pop}},v):v}function mT(){let n=AT(),e=cT(n)?n.status+" "+n.statusText:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,r={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return C.createElement(C.Fragment,null,C.createElement("h2",null,"Unexpected Application Error!"),C.createElement("h3",{style:{fontStyle:"italic"}},e),t?C.createElement("pre",{style:r},t):null,null)}const gT=C.createElement(mT,null);class vT extends C.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return this.state.error!==void 0?C.createElement(Wl.Provider,{value:this.props.routeContext},C.createElement(eA.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function yT(n){let{routeContext:e,match:t,children:i}=n,r=C.useContext(D1);return r&&r.static&&r.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=t.route.id),C.createElement(Wl.Provider,{value:e},i)}function xT(n,e,t,i){var r;if(e===void 0&&(e=[]),t===void 0&&(t=null),i===void 0&&(i=null),n==null){var s;if((s=t)!=null&&s.errors)n=t.matches;else return null}let o=n,a=(r=t)==null?void 0:r.errors;if(a!=null){let d=o.findIndex(h=>h.route.id&&(a==null?void 0:a[h.route.id])!==void 0);d>=0||Je(!1),o=o.slice(0,Math.min(o.length,d+1))}let l=!1,u=-1;if(t&&i&&i.v7_partialHydration)for(let d=0;d<o.length;d++){let h=o[d];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(u=d),h.route.id){let{loaderData:f,errors:p}=t,m=h.route.loader&&f[h.route.id]===void 0&&(!p||p[h.route.id]===void 0);if(h.route.lazy||m){l=!0,u>=0?o=o.slice(0,u+1):o=[o[0]];break}}}return o.reduceRight((d,h,f)=>{let p,m=!1,v=null,b=null;t&&(p=a&&h.route.id?a[h.route.id]:void 0,v=h.route.errorElement||gT,l&&(u<0&&f===0?(m=!0,b=null):u===f&&(m=!0,b=h.route.hydrateFallbackElement||null)));let g=e.concat(o.slice(0,f+1)),y=()=>{let x;return p?x=v:m?x=b:h.route.Component?x=C.createElement(h.route.Component,null):h.route.element?x=h.route.element:x=d,C.createElement(yT,{match:h,routeContext:{outlet:d,matches:g,isDataRoute:t!=null},children:x})};return t&&(h.route.ErrorBoundary||h.route.errorElement||f===0)?C.createElement(vT,{location:t.location,revalidation:t.revalidation,component:v,error:p,children:y(),routeContext:{outlet:null,matches:g,isDataRoute:!0}}):y()},null)}var nA=function(n){return n.UseBlocker="useBlocker",n.UseRevalidator="useRevalidator",n.UseNavigateStable="useNavigate",n}(nA||{}),Xf=function(n){return n.UseBlocker="useBlocker",n.UseLoaderData="useLoaderData",n.UseActionData="useActionData",n.UseRouteError="useRouteError",n.UseNavigation="useNavigation",n.UseRouteLoaderData="useRouteLoaderData",n.UseMatches="useMatches",n.UseRevalidator="useRevalidator",n.UseNavigateStable="useNavigate",n.UseRouteId="useRouteId",n}(Xf||{});function wT(n){let e=C.useContext(D1);return e||Je(!1),e}function bT(n){let e=C.useContext(dT);return e||Je(!1),e}function ET(n){let e=C.useContext(Wl);return e||Je(!1),e}function iA(n){let e=ET(),t=e.matches[e.matches.length-1];return t.route.id||Je(!1),t.route.id}function AT(){var n;let e=C.useContext(eA),t=bT(Xf.UseRouteError),i=iA(Xf.UseRouteError);return e!==void 0?e:(n=t.errors)==null?void 0:n[i]}function ST(){let{router:n}=wT(nA.UseNavigateStable),e=iA(Xf.UseNavigateStable),t=C.useRef(!1);return tA(()=>{t.current=!0}),C.useCallback(function(r,s){s===void 0&&(s={}),t.current&&(typeof r=="number"?n.navigate(r):n.navigate(r,lu({fromRouteId:e},s)))},[n,e])}function Ii(n){Je(!1)}function CT(n){let{basename:e="/",children:t=null,location:i,navigationType:r=ls.Pop,navigator:s,static:o=!1,future:a}=n;Xp()&&Je(!1);let l=e.replace(/^\/*/,"/"),u=C.useMemo(()=>({basename:l,navigator:s,static:o,future:lu({v7_relativeSplatPath:!1},a)}),[l,a,s,o]);typeof i=="string"&&(i=Vl(i));let{pathname:d="/",search:h="",hash:f="",state:p=null,key:m="default"}=i,v=C.useMemo(()=>{let b=ZE(d,l);return b==null?null:{location:{pathname:b,search:h,hash:f,state:p,key:m},navigationType:r}},[l,d,h,f,p,m,r]);return v==null?null:C.createElement(Gp.Provider,{value:u},C.createElement(qp.Provider,{children:t,value:v}))}function _T(n){let{children:e,location:t}=n;return fT(s0(e),t)}new Promise(()=>{});function s0(n,e){e===void 0&&(e=[]);let t=[];return C.Children.forEach(n,(i,r)=>{if(!C.isValidElement(i))return;let s=[...e,r];if(i.type===C.Fragment){t.push.apply(t,s0(i.props.children,s));return}i.type!==Ii&&Je(!1),!i.props.index||!i.props.children||Je(!1);let o={id:i.props.id||s.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,loader:i.props.loader,action:i.props.action,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(o.children=s0(i.props.children,s)),t.push(o)}),t}/**
 * React Router DOM v6.23.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */const kT="6";try{window.__reactRouterVersion=kT}catch{}const TT="startTransition",Rx=Af[TT];function RT(n){let{basename:e,children:t,future:i,window:r}=n,s=C.useRef();s.current==null&&(s.current=jk({window:r,v5Compat:!0}));let o=s.current,[a,l]=C.useState({action:o.action,location:o.location}),{v7_startTransition:u}=i||{},d=C.useCallback(h=>{u&&Rx?Rx(()=>l(h)):l(h)},[l,u]);return C.useLayoutEffect(()=>o.listen(d),[o,d]),C.createElement(CT,{basename:e,children:t,location:a.location,navigationType:a.action,navigator:o,future:i})}var Px;(function(n){n.UseScrollRestoration="useScrollRestoration",n.UseSubmit="useSubmit",n.UseSubmitFetcher="useSubmitFetcher",n.UseFetcher="useFetcher",n.useViewTransitionState="useViewTransitionState"})(Px||(Px={}));var Lx;(function(n){n.UseFetcher="useFetcher",n.UseFetchers="useFetchers",n.UseScrollRestoration="useScrollRestoration"})(Lx||(Lx={}));const rA=typeof document<"u"?Me.useLayoutEffect:()=>{};function PT(n){const e=C.useRef(null);return rA(()=>{e.current=n},[n]),C.useCallback((...t)=>{const i=e.current;return i==null?void 0:i(...t)},[])}const Zd=n=>{var e;return(e=n==null?void 0:n.ownerDocument)!==null&&e!==void 0?e:document},Bs=n=>n&&"window"in n&&n.window===n?n:Zd(n).defaultView||window;function LT(n){var e;return typeof window>"u"||window.navigator==null?!1:((e=window.navigator.userAgentData)===null||e===void 0?void 0:e.brands.some(t=>n.test(t.brand)))||n.test(window.navigator.userAgent)}function NT(n){var e;return typeof window<"u"&&window.navigator!=null?n.test(((e=window.navigator.userAgentData)===null||e===void 0?void 0:e.platform)||window.navigator.platform):!1}function MT(){return NT(/^Mac/i)}function FT(){return LT(/Android/i)}function DT(n){return n.mozInputSource===0&&n.isTrusted?!0:FT()&&n.pointerType?n.type==="click"&&n.buttons===1:n.detail===0&&!n.pointerType}class IT{isDefaultPrevented(){return this.nativeEvent.defaultPrevented}preventDefault(){this.defaultPrevented=!0,this.nativeEvent.preventDefault()}stopPropagation(){this.nativeEvent.stopPropagation(),this.isPropagationStopped=()=>!0}isPropagationStopped(){return!1}persist(){}constructor(e,t){this.nativeEvent=t,this.target=t.target,this.currentTarget=t.currentTarget,this.relatedTarget=t.relatedTarget,this.bubbles=t.bubbles,this.cancelable=t.cancelable,this.defaultPrevented=t.defaultPrevented,this.eventPhase=t.eventPhase,this.isTrusted=t.isTrusted,this.timeStamp=t.timeStamp,this.type=e}}function sA(n){let e=C.useRef({isFocused:!1,observer:null});rA(()=>{const i=e.current;return()=>{i.observer&&(i.observer.disconnect(),i.observer=null)}},[]);let t=PT(i=>{n==null||n(i)});return C.useCallback(i=>{if(i.target instanceof HTMLButtonElement||i.target instanceof HTMLInputElement||i.target instanceof HTMLTextAreaElement||i.target instanceof HTMLSelectElement){e.current.isFocused=!0;let r=i.target,s=o=>{e.current.isFocused=!1,r.disabled&&t(new IT("blur",o)),e.current.observer&&(e.current.observer.disconnect(),e.current.observer=null)};r.addEventListener("focusout",s,{once:!0}),e.current.observer=new MutationObserver(()=>{if(e.current.isFocused&&r.disabled){var o;(o=e.current.observer)===null||o===void 0||o.disconnect();let a=r===document.activeElement?null:document.activeElement;r.dispatchEvent(new FocusEvent("blur",{relatedTarget:a})),r.dispatchEvent(new FocusEvent("focusout",{bubbles:!0,relatedTarget:a}))}}),e.current.observer.observe(r,{attributes:!0,attributeFilter:["disabled"]})}},[t])}function OT(n){let{isDisabled:e,onFocus:t,onBlur:i,onFocusChange:r}=n;const s=C.useCallback(l=>{if(l.target===l.currentTarget)return i&&i(l),r&&r(!1),!0},[i,r]),o=sA(s),a=C.useCallback(l=>{const u=Zd(l.target);l.target===l.currentTarget&&u.activeElement===l.target&&(t&&t(l),r&&r(!0),o(l))},[r,t,o]);return{focusProps:{onFocus:!e&&(t||r||i)?a:void 0,onBlur:!e&&(i||r)?s:void 0}}}let Jd=null,o0=new Set,$c=new Map,Ko=!1,a0=!1;const jT={Tab:!0,Escape:!0};function O1(n,e){for(let t of o0)t(n,e)}function $T(n){return!(n.metaKey||!MT()&&n.altKey||n.ctrlKey||n.key==="Control"||n.key==="Shift"||n.key==="Meta")}function Kf(n){Ko=!0,$T(n)&&(Jd="keyboard",O1("keyboard",n))}function Cn(n){Jd="pointer",(n.type==="mousedown"||n.type==="pointerdown")&&(Ko=!0,O1("pointer",n))}function oA(n){DT(n)&&(Ko=!0,Jd="virtual")}function aA(n){n.target===window||n.target===document||(!Ko&&!a0&&(Jd="virtual",O1("virtual",n)),Ko=!1,a0=!1)}function lA(){Ko=!1,a0=!0}function l0(n){if(typeof window>"u"||$c.get(Bs(n)))return;const e=Bs(n),t=Zd(n);let i=e.HTMLElement.prototype.focus;e.HTMLElement.prototype.focus=function(){Ko=!0,i.apply(this,arguments)},t.addEventListener("keydown",Kf,!0),t.addEventListener("keyup",Kf,!0),t.addEventListener("click",oA,!0),e.addEventListener("focus",aA,!0),e.addEventListener("blur",lA,!1),typeof PointerEvent<"u"?(t.addEventListener("pointerdown",Cn,!0),t.addEventListener("pointermove",Cn,!0),t.addEventListener("pointerup",Cn,!0)):(t.addEventListener("mousedown",Cn,!0),t.addEventListener("mousemove",Cn,!0),t.addEventListener("mouseup",Cn,!0)),e.addEventListener("beforeunload",()=>{cA(n)},{once:!0}),$c.set(e,{focus:i})}const cA=(n,e)=>{const t=Bs(n),i=Zd(n);e&&i.removeEventListener("DOMContentLoaded",e),$c.has(t)&&(t.HTMLElement.prototype.focus=$c.get(t).focus,i.removeEventListener("keydown",Kf,!0),i.removeEventListener("keyup",Kf,!0),i.removeEventListener("click",oA,!0),t.removeEventListener("focus",aA,!0),t.removeEventListener("blur",lA,!1),typeof PointerEvent<"u"?(i.removeEventListener("pointerdown",Cn,!0),i.removeEventListener("pointermove",Cn,!0),i.removeEventListener("pointerup",Cn,!0)):(i.removeEventListener("mousedown",Cn,!0),i.removeEventListener("mousemove",Cn,!0),i.removeEventListener("mouseup",Cn,!0)),$c.delete(t))};function HT(n){const e=Zd(n);let t;return e.readyState!=="loading"?l0(n):(t=()=>{l0(n)},e.addEventListener("DOMContentLoaded",t)),()=>cA(n,t)}typeof document<"u"&&HT();function uA(){return Jd!=="pointer"}const BT=new Set(["checkbox","radio","range","color","file","image","button","submit","reset"]);function zT(n,e,t){var i;const r=typeof window<"u"?Bs(t==null?void 0:t.target).HTMLInputElement:HTMLInputElement,s=typeof window<"u"?Bs(t==null?void 0:t.target).HTMLTextAreaElement:HTMLTextAreaElement,o=typeof window<"u"?Bs(t==null?void 0:t.target).HTMLElement:HTMLElement,a=typeof window<"u"?Bs(t==null?void 0:t.target).KeyboardEvent:KeyboardEvent;return n=n||(t==null?void 0:t.target)instanceof r&&!BT.has(t==null||(i=t.target)===null||i===void 0?void 0:i.type)||(t==null?void 0:t.target)instanceof s||(t==null?void 0:t.target)instanceof o&&(t==null?void 0:t.target.isContentEditable),!(n&&e==="keyboard"&&t instanceof a&&!jT[t.key])}function UT(n,e,t){l0(),C.useEffect(()=>{let i=(r,s)=>{zT(!!(t!=null&&t.isTextInput),r,s)&&n(uA())};return o0.add(i),()=>{o0.delete(i)}},e)}function VT(n){let{isDisabled:e,onBlurWithin:t,onFocusWithin:i,onFocusWithinChange:r}=n,s=C.useRef({isFocusWithin:!1}),o=C.useCallback(u=>{s.current.isFocusWithin&&!u.currentTarget.contains(u.relatedTarget)&&(s.current.isFocusWithin=!1,t&&t(u),r&&r(!1))},[t,r,s]),a=sA(o),l=C.useCallback(u=>{!s.current.isFocusWithin&&document.activeElement===u.target&&(i&&i(u),r&&r(!0),s.current.isFocusWithin=!0,a(u))},[i,r,a]);return e?{focusWithinProps:{onFocus:void 0,onBlur:void 0}}:{focusWithinProps:{onFocus:l,onBlur:o}}}let Yf=!1,Wm=0;function c0(){Yf=!0,setTimeout(()=>{Yf=!1},50)}function Nx(n){n.pointerType==="touch"&&c0()}function WT(){if(!(typeof document>"u"))return typeof PointerEvent<"u"?document.addEventListener("pointerup",Nx):document.addEventListener("touchend",c0),Wm++,()=>{Wm--,!(Wm>0)&&(typeof PointerEvent<"u"?document.removeEventListener("pointerup",Nx):document.removeEventListener("touchend",c0))}}function GT(n){let{onHoverStart:e,onHoverChange:t,onHoverEnd:i,isDisabled:r}=n,[s,o]=C.useState(!1),a=C.useRef({isHovered:!1,ignoreEmulatedMouseEvents:!1,pointerType:"",target:null}).current;C.useEffect(WT,[]);let{hoverProps:l,triggerHoverEnd:u}=C.useMemo(()=>{let d=(p,m)=>{if(a.pointerType=m,r||m==="touch"||a.isHovered||!p.currentTarget.contains(p.target))return;a.isHovered=!0;let v=p.currentTarget;a.target=v,e&&e({type:"hoverstart",target:v,pointerType:m}),t&&t(!0),o(!0)},h=(p,m)=>{if(a.pointerType="",a.target=null,m==="touch"||!a.isHovered)return;a.isHovered=!1;let v=p.currentTarget;i&&i({type:"hoverend",target:v,pointerType:m}),t&&t(!1),o(!1)},f={};return typeof PointerEvent<"u"?(f.onPointerEnter=p=>{Yf&&p.pointerType==="mouse"||d(p,p.pointerType)},f.onPointerLeave=p=>{!r&&p.currentTarget.contains(p.target)&&h(p,p.pointerType)}):(f.onTouchStart=()=>{a.ignoreEmulatedMouseEvents=!0},f.onMouseEnter=p=>{!a.ignoreEmulatedMouseEvents&&!Yf&&d(p,"mouse"),a.ignoreEmulatedMouseEvents=!1},f.onMouseLeave=p=>{!r&&p.currentTarget.contains(p.target)&&h(p,"mouse")}),{hoverProps:f,triggerHoverEnd:h}},[e,t,i,r,a]);return C.useEffect(()=>{r&&u({currentTarget:a.target},a.pointerType)},[r]),{hoverProps:l,isHovered:s}}function qT(n={}){let{autoFocus:e=!1,isTextInput:t,within:i}=n,r=C.useRef({isFocused:!1,isFocusVisible:e||uA()}),[s,o]=C.useState(!1),[a,l]=C.useState(()=>r.current.isFocused&&r.current.isFocusVisible),u=C.useCallback(()=>l(r.current.isFocused&&r.current.isFocusVisible),[]),d=C.useCallback(p=>{r.current.isFocused=p,o(p),u()},[u]);UT(p=>{r.current.isFocusVisible=p,u()},[],{isTextInput:t});let{focusProps:h}=OT({isDisabled:i,onFocusChange:d}),{focusWithinProps:f}=VT({isDisabled:!i,onFocusWithinChange:d});return{isFocused:s,isFocusVisible:a,focusProps:i?f:h}}var XT=Object.defineProperty,KT=(n,e,t)=>e in n?XT(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,Gm=(n,e,t)=>(KT(n,typeof e!="symbol"?e+"":e,t),t);let YT=class{constructor(){Gm(this,"current",this.detect()),Gm(this,"handoffState","pending"),Gm(this,"currentId",0)}set(e){this.current!==e&&(this.handoffState="pending",this.currentId=0,this.current=e)}reset(){this.set(this.detect())}nextId(){return++this.currentId}get isServer(){return this.current==="server"}get isClient(){return this.current==="client"}detect(){return typeof window>"u"||typeof document>"u"?"server":"client"}handoff(){this.handoffState==="pending"&&(this.handoffState="complete")}get isHandoffComplete(){return this.handoffState==="complete"}},zo=new YT;function Gl(n){return zo.isServer?null:n instanceof Node?n.ownerDocument:n!=null&&n.hasOwnProperty("current")&&n.current instanceof Node?n.current.ownerDocument:document}function dA(n){typeof queueMicrotask=="function"?queueMicrotask(n):Promise.resolve().then(n).catch(e=>setTimeout(()=>{throw e}))}function Ni(){let n=[],e={addEventListener(t,i,r,s){return t.addEventListener(i,r,s),e.add(()=>t.removeEventListener(i,r,s))},requestAnimationFrame(...t){let i=requestAnimationFrame(...t);return e.add(()=>cancelAnimationFrame(i))},nextFrame(...t){return e.requestAnimationFrame(()=>e.requestAnimationFrame(...t))},setTimeout(...t){let i=setTimeout(...t);return e.add(()=>clearTimeout(i))},microTask(...t){let i={current:!0};return dA(()=>{i.current&&t[0]()}),e.add(()=>{i.current=!1})},style(t,i,r){let s=t.style.getPropertyValue(i);return Object.assign(t.style,{[i]:r}),this.add(()=>{Object.assign(t.style,{[i]:s})})},group(t){let i=Ni();return t(i),this.add(()=>i.dispose())},add(t){return n.includes(t)||n.push(t),()=>{let i=n.indexOf(t);if(i>=0)for(let r of n.splice(i,1))r()}},dispose(){for(let t of n.splice(0))t()}};return e}function Kp(){let[n]=C.useState(Ni);return C.useEffect(()=>()=>n.dispose(),[n]),n}let je=(n,e)=>{zo.isServer?C.useEffect(n,e):C.useLayoutEffect(n,e)};function eh(n){let e=C.useRef(n);return je(()=>{e.current=n},[n]),e}let Ne=function(n){let e=eh(n);return Me.useCallback((...t)=>e.current(...t),[e])};function QT(n){let e=n.width/2,t=n.height/2;return{top:n.clientY-t,right:n.clientX+e,bottom:n.clientY+t,left:n.clientX-e}}function ZT(n,e){return!(!n||!e||n.right<e.left||n.left>e.right||n.bottom<e.top||n.top>e.bottom)}function JT({disabled:n=!1}={}){let e=C.useRef(null),[t,i]=C.useState(!1),r=Kp(),s=Ne(()=>{e.current=null,i(!1),r.dispose()}),o=Ne(a=>{if(r.dispose(),e.current===null){e.current=a.currentTarget,i(!0);{let l=Gl(a.currentTarget);r.addEventListener(l,"pointerup",s,!1),r.addEventListener(l,"pointermove",u=>{if(e.current){let d=QT(u);i(ZT(d,e.current.getBoundingClientRect()))}},!1),r.addEventListener(l,"pointercancel",s,!1)}}});return{pressed:t,pressProps:n?{}:{onPointerDown:o,onPointerUp:s,onClick:s}}}let eR=C.createContext(void 0);function hA(){return C.useContext(eR)}function Mx(...n){return Array.from(new Set(n.flatMap(e=>typeof e=="string"?e.split(" "):[]))).filter(Boolean).join(" ")}function th(n,e,...t){if(n in e){let r=e[n];return typeof r=="function"?r(...t):r}let i=new Error(`Tried to handle "${n}" but there is no handler defined. Only defined handlers are: ${Object.keys(e).map(r=>`"${r}"`).join(", ")}.`);throw Error.captureStackTrace&&Error.captureStackTrace(i,th),i}var u0=(n=>(n[n.None=0]="None",n[n.RenderStrategy=1]="RenderStrategy",n[n.Static=2]="Static",n))(u0||{}),tR=(n=>(n[n.Unmount=0]="Unmount",n[n.Hidden=1]="Hidden",n))(tR||{});function Fn({ourProps:n,theirProps:e,slot:t,defaultTag:i,features:r,visible:s=!0,name:o,mergeRefs:a}){a=a??nR;let l=fA(e,n);if(s)return kh(l,t,i,o,a);let u=r??0;if(u&2){let{static:d=!1,...h}=l;if(d)return kh(h,t,i,o,a)}if(u&1){let{unmount:d=!0,...h}=l;return th(d?0:1,{0(){return null},1(){return kh({...h,hidden:!0,style:{display:"none"}},t,i,o,a)}})}return kh(l,t,i,o,a)}function kh(n,e={},t,i,r){let{as:s=t,children:o,refName:a="ref",...l}=qm(n,["unmount","static"]),u=n.ref!==void 0?{[a]:n.ref}:{},d=typeof o=="function"?o(e):o;"className"in l&&l.className&&typeof l.className=="function"&&(l.className=l.className(e)),l["aria-labelledby"]&&l["aria-labelledby"]===l.id&&(l["aria-labelledby"]=void 0);let h={};if(e){let f=!1,p=[];for(let[m,v]of Object.entries(e))typeof v=="boolean"&&(f=!0),v===!0&&p.push(m.replace(/([A-Z])/g,b=>`-${b.toLowerCase()}`));if(f){h["data-headlessui-state"]=p.join(" ");for(let m of p)h[`data-${m}`]=""}}if(s===C.Fragment&&(Object.keys(ua(l)).length>0||Object.keys(ua(h)).length>0))if(!C.isValidElement(d)||Array.isArray(d)&&d.length>1){if(Object.keys(ua(l)).length>0)throw new Error(['Passing props on "Fragment"!',"",`The current component <${i} /> is rendering a "Fragment".`,"However we need to passthrough the following props:",Object.keys(ua(l)).concat(Object.keys(ua(h))).map(f=>`  - ${f}`).join(`
`),"","You can apply a few solutions:",['Add an `as="..."` prop, to ensure that we render an actual element instead of a "Fragment".',"Render a single element as the child so that we can forward the props onto that element."].map(f=>`  - ${f}`).join(`
`)].join(`
`))}else{let f=d.props,p=f==null?void 0:f.className,m=typeof p=="function"?(...g)=>Mx(p(...g),l.className):Mx(p,l.className),v=m?{className:m}:{},b=fA(d.props,ua(qm(l,["ref"])));for(let g in h)g in b&&delete h[g];return C.cloneElement(d,Object.assign({},b,h,u,{ref:r(d.ref,u.ref)},v))}return C.createElement(s,Object.assign({},qm(l,["ref"]),s!==C.Fragment&&u,s!==C.Fragment&&h),d)}function nR(...n){return n.every(e=>e==null)?void 0:e=>{for(let t of n)t!=null&&(typeof t=="function"?t(e):t.current=e)}}function fA(...n){if(n.length===0)return{};if(n.length===1)return n[0];let e={},t={};for(let i of n)for(let r in i)r.startsWith("on")&&typeof i[r]=="function"?(t[r]!=null||(t[r]=[]),t[r].push(i[r])):e[r]=i[r];if(e.disabled||e["aria-disabled"])for(let i in t)/^(on(?:Click|Pointer|Mouse|Key)(?:Down|Up|Press)?)$/.test(i)&&(t[i]=[r=>{var s;return(s=r==null?void 0:r.preventDefault)==null?void 0:s.call(r)}]);for(let i in t)Object.assign(e,{[i](r,...s){let o=t[i];for(let a of o){if((r instanceof Event||(r==null?void 0:r.nativeEvent)instanceof Event)&&r.defaultPrevented)return;a(r,...s)}}});return e}function pA(...n){if(n.length===0)return{};if(n.length===1)return n[0];let e={},t={};for(let i of n)for(let r in i)r.startsWith("on")&&typeof i[r]=="function"?(t[r]!=null||(t[r]=[]),t[r].push(i[r])):e[r]=i[r];for(let i in t)Object.assign(e,{[i](...r){let s=t[i];for(let o of s)o==null||o(...r)}});return e}function Dn(n){var e;return Object.assign(C.forwardRef(n),{displayName:(e=n.displayName)!=null?e:n.name})}function ua(n){let e=Object.assign({},n);for(let t in e)e[t]===void 0&&delete e[t];return e}function qm(n,e=[]){let t=Object.assign({},n);for(let i of e)i in t&&delete t[i];return t}let iR=C.createContext(void 0);function rR(){return C.useContext(iR)}function sR(n){let e=n.parentElement,t=null;for(;e&&!(e instanceof HTMLFieldSetElement);)e instanceof HTMLLegendElement&&(t=e),e=e.parentElement;let i=(e==null?void 0:e.getAttribute("disabled"))==="";return i&&oR(t)?!1:i}function oR(n){if(!n)return!1;let e=n.previousElementSibling;for(;e!==null;){if(e instanceof HTMLLegendElement)return!1;e=e.previousElementSibling}return!0}let mA=Symbol();function aR(n,e=!0){return Object.assign(n,{[mA]:e})}function Tr(...n){let e=C.useRef(n);C.useEffect(()=>{e.current=n},[n]);let t=Ne(i=>{for(let r of e.current)r!=null&&(typeof r=="function"?r(i):r.current=i)});return n.every(i=>i==null||(i==null?void 0:i[mA]))?void 0:t}let j1=C.createContext(null);j1.displayName="DescriptionContext";function gA(){let n=C.useContext(j1);if(n===null){let e=new Error("You used a <Description /> component, but it is not inside a relevant parent.");throw Error.captureStackTrace&&Error.captureStackTrace(e,gA),e}return n}function lR(){let[n,e]=C.useState([]);return[n.length>0?n.join(" "):void 0,C.useMemo(()=>function(t){let i=Ne(s=>(e(o=>[...o,s]),()=>e(o=>{let a=o.slice(),l=a.indexOf(s);return l!==-1&&a.splice(l,1),a}))),r=C.useMemo(()=>({register:i,slot:t.slot,name:t.name,props:t.props,value:t.value}),[i,t.slot,t.name,t.props,t.value]);return Me.createElement(j1.Provider,{value:r},t.children)},[e])]}let cR="p";function uR(n,e){let t=C.useId(),i=hA(),{id:r=`headlessui-description-${t}`,...s}=n,o=gA(),a=Tr(e);je(()=>o.register(r),[r,o.register]);let l=i||!1,u=C.useMemo(()=>({...o.slot,disabled:l}),[o.slot,l]),d={ref:a,...o.props,id:r};return Fn({ourProps:d,theirProps:s,slot:u,defaultTag:cR,name:o.name||"Description"})}let dR=Dn(uR);Object.assign(dR,{});var ht=(n=>(n.Space=" ",n.Enter="Enter",n.Escape="Escape",n.Backspace="Backspace",n.Delete="Delete",n.ArrowLeft="ArrowLeft",n.ArrowUp="ArrowUp",n.ArrowRight="ArrowRight",n.ArrowDown="ArrowDown",n.Home="Home",n.End="End",n.PageUp="PageUp",n.PageDown="PageDown",n.Tab="Tab",n))(ht||{});let Yp=C.createContext(null);Yp.displayName="LabelContext";function $1(){let n=C.useContext(Yp);if(n===null){let e=new Error("You used a <Label /> component, but it is not inside a relevant parent.");throw Error.captureStackTrace&&Error.captureStackTrace(e,$1),e}return n}function hR(n){var e,t,i;let r=(t=(e=C.useContext(Yp))==null?void 0:e.value)!=null?t:void 0;return((i=void 0)!=null?i:0)>0?[r,...n].filter(Boolean).join(" "):r}function vA({inherit:n=!1}={}){let e=hR(),[t,i]=C.useState([]),r=n?[e,...t].filter(Boolean):t;return[r.length>0?r.join(" "):void 0,C.useMemo(()=>function(s){let o=Ne(l=>(i(u=>[...u,l]),()=>i(u=>{let d=u.slice(),h=d.indexOf(l);return h!==-1&&d.splice(h,1),d}))),a=C.useMemo(()=>({register:o,slot:s.slot,name:s.name,props:s.props,value:s.value}),[o,s.slot,s.name,s.props,s.value]);return Me.createElement(Yp.Provider,{value:a},s.children)},[i])]}let fR="label";function pR(n,e){var t;let i=C.useId(),r=$1(),s=rR(),o=hA(),{id:a=`headlessui-label-${i}`,htmlFor:l=s??((t=r.props)==null?void 0:t.htmlFor),passive:u=!1,...d}=n,h=Tr(e);je(()=>r.register(a),[a,r.register]);let f=Ne(b=>{let g=b.currentTarget;if(g instanceof HTMLLabelElement&&b.preventDefault(),r.props&&"onClick"in r.props&&typeof r.props.onClick=="function"&&r.props.onClick(b),g instanceof HTMLLabelElement){let y=document.getElementById(g.htmlFor);if(y){let x=y.getAttribute("disabled");if(x==="true"||x==="")return;let _=y.getAttribute("aria-disabled");if(_==="true"||_==="")return;(y instanceof HTMLInputElement&&(y.type==="radio"||y.type==="checkbox")||y.role==="radio"||y.role==="checkbox"||y.role==="switch")&&y.click(),y.focus({preventScroll:!0})}}}),p=o||!1,m=C.useMemo(()=>({...r.slot,disabled:p}),[r.slot,p]),v={ref:h,...r.props,id:a,htmlFor:l,onClick:f};return u&&("onClick"in v&&(delete v.htmlFor,delete v.onClick),"onClick"in d&&delete d.onClick),Fn({ourProps:v,theirProps:d,slot:m,defaultTag:l?fR:"div",name:r.name||"Label"})}let mR=Dn(pR);Object.assign(mR,{});function gR(n){if(n===null)return{width:0,height:0};let{width:e,height:t}=n.getBoundingClientRect();return{width:e,height:t}}function vR(n,e=!1){let t=n===null?null:"current"in n?n.current:n,[i,r]=C.useReducer(()=>({}),{}),s=C.useMemo(()=>gR(t),[t,i]);return je(()=>{if(!t)return;let o=new ResizeObserver(r);return o.observe(t),()=>{o.disconnect()}},[t]),e?{width:`${s.width}px`,height:`${s.height}px`}:s}let yR=class extends Map{constructor(e){super(),this.factory=e}get(e){let t=super.get(e);return t===void 0&&(t=this.factory(e),this.set(e,t)),t}};function yA(n,e){let t=n(),i=new Set;return{getSnapshot(){return t},subscribe(r){return i.add(r),()=>i.delete(r)},dispatch(r,...s){let o=e[r].call(t,...s);o&&(t=o,i.forEach(a=>a()))}}}function xA(n){return C.useSyncExternalStore(n.subscribe,n.getSnapshot,n.getSnapshot)}let xR=new yR(()=>yA(()=>[],{ADD(n){return this.includes(n)?this:[...this,n]},REMOVE(n){let e=this.indexOf(n);if(e===-1)return this;let t=this.slice();return t.splice(e,1),t}}));function H1(n,e){let t=xR.get(e),i=C.useId(),r=xA(t);if(je(()=>{if(n)return t.dispatch("ADD",i),()=>t.dispatch("REMOVE",i)},[t,n]),!n)return!1;let s=r.indexOf(i),o=r.length;return s===-1&&(s=o,o+=1),s===o-1}let d0=new Map,Hc=new Map;function Fx(n){var e;let t=(e=Hc.get(n))!=null?e:0;return Hc.set(n,t+1),t!==0?()=>Dx(n):(d0.set(n,{"aria-hidden":n.getAttribute("aria-hidden"),inert:n.inert}),n.setAttribute("aria-hidden","true"),n.inert=!0,()=>Dx(n))}function Dx(n){var e;let t=(e=Hc.get(n))!=null?e:1;if(t===1?Hc.delete(n):Hc.set(n,t-1),t!==1)return;let i=d0.get(n);i&&(i["aria-hidden"]===null?n.removeAttribute("aria-hidden"):n.setAttribute("aria-hidden",i["aria-hidden"]),n.inert=i.inert,d0.delete(n))}function wR(n,{allowed:e,disallowed:t}={}){let i=H1(n,"inert-others");je(()=>{var r,s;if(!i)return;let o=Ni();for(let l of(r=t==null?void 0:t())!=null?r:[])l&&o.add(Fx(l));let a=(s=e==null?void 0:e())!=null?s:[];for(let l of a){if(!l)continue;let u=Gl(l);if(!u)continue;let d=l.parentElement;for(;d&&d!==u.body;){for(let h of d.children)a.some(f=>h.contains(f))||o.add(Fx(h));d=d.parentElement}}return o.dispose},[i,e,t])}function bR(n,e,t){let i=eh(r=>{let s=r.getBoundingClientRect();s.x===0&&s.y===0&&s.width===0&&s.height===0&&t()});C.useEffect(()=>{if(!n)return;let r=e===null?null:e instanceof HTMLElement?e:e.current;if(!r)return;let s=Ni();if(typeof ResizeObserver<"u"){let o=new ResizeObserver(()=>i.current(r));o.observe(r),s.add(()=>o.disconnect())}if(typeof IntersectionObserver<"u"){let o=new IntersectionObserver(()=>i.current(r));o.observe(r),s.add(()=>o.disconnect())}return()=>s.dispose()},[e,i,n])}let h0=["[contentEditable=true]","[tabindex]","a[href]","area[href]","button:not([disabled])","iframe","input:not([disabled])","select:not([disabled])","textarea:not([disabled])"].map(n=>`${n}:not([tabindex='-1'])`).join(","),ER=["[data-autofocus]"].map(n=>`${n}:not([tabindex='-1'])`).join(",");var f0=(n=>(n[n.First=1]="First",n[n.Previous=2]="Previous",n[n.Next=4]="Next",n[n.Last=8]="Last",n[n.WrapAround=16]="WrapAround",n[n.NoScroll=32]="NoScroll",n[n.AutoFocus=64]="AutoFocus",n))(f0||{}),AR=(n=>(n[n.Error=0]="Error",n[n.Overflow=1]="Overflow",n[n.Success=2]="Success",n[n.Underflow=3]="Underflow",n))(AR||{}),SR=(n=>(n[n.Previous=-1]="Previous",n[n.Next=1]="Next",n))(SR||{});function wA(n=document.body){return n==null?[]:Array.from(n.querySelectorAll(h0)).sort((e,t)=>Math.sign((e.tabIndex||Number.MAX_SAFE_INTEGER)-(t.tabIndex||Number.MAX_SAFE_INTEGER)))}function CR(n=document.body){return n==null?[]:Array.from(n.querySelectorAll(ER)).sort((e,t)=>Math.sign((e.tabIndex||Number.MAX_SAFE_INTEGER)-(t.tabIndex||Number.MAX_SAFE_INTEGER)))}var B1=(n=>(n[n.Strict=0]="Strict",n[n.Loose=1]="Loose",n))(B1||{});function z1(n,e=0){var t;return n===((t=Gl(n))==null?void 0:t.body)?!1:th(e,{0(){return n.matches(h0)},1(){let i=n;for(;i!==null;){if(i.matches(h0))return!0;i=i.parentElement}return!1}})}function bA(n){let e=Gl(n);Ni().nextFrame(()=>{e&&!z1(e.activeElement,0)&&kR(n)})}var _R=(n=>(n[n.Keyboard=0]="Keyboard",n[n.Mouse=1]="Mouse",n))(_R||{});typeof window<"u"&&typeof document<"u"&&(document.addEventListener("keydown",n=>{n.metaKey||n.altKey||n.ctrlKey||(document.documentElement.dataset.headlessuiFocusVisible="")},!0),document.addEventListener("click",n=>{n.detail===1?delete document.documentElement.dataset.headlessuiFocusVisible:n.detail===0&&(document.documentElement.dataset.headlessuiFocusVisible="")},!0));function kR(n){n==null||n.focus({preventScroll:!0})}let TR=["textarea","input"].join(",");function RR(n){var e,t;return(t=(e=n==null?void 0:n.matches)==null?void 0:e.call(n,TR))!=null?t:!1}function EA(n,e=t=>t){return n.slice().sort((t,i)=>{let r=e(t),s=e(i);if(r===null||s===null)return 0;let o=r.compareDocumentPosition(s);return o&Node.DOCUMENT_POSITION_FOLLOWING?-1:o&Node.DOCUMENT_POSITION_PRECEDING?1:0})}function PR(n,e){return LR(wA(),e,{relativeTo:n})}function LR(n,e,{sorted:t=!0,relativeTo:i=null,skipElements:r=[]}={}){let s=Array.isArray(n)?n.length>0?n[0].ownerDocument:document:n.ownerDocument,o=Array.isArray(n)?t?EA(n):n:e&64?CR(n):wA(n);r.length>0&&o.length>1&&(o=o.filter(p=>!r.some(m=>m!=null&&"current"in m?(m==null?void 0:m.current)===p:m===p))),i=i??s.activeElement;let a=(()=>{if(e&5)return 1;if(e&10)return-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),l=(()=>{if(e&1)return 0;if(e&2)return Math.max(0,o.indexOf(i))-1;if(e&4)return Math.max(0,o.indexOf(i))+1;if(e&8)return o.length-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),u=e&32?{preventScroll:!0}:{},d=0,h=o.length,f;do{if(d>=h||d+h<=0)return 0;let p=l+d;if(e&16)p=(p+h)%h;else{if(p<0)return 3;if(p>=h)return 1}f=o[p],f==null||f.focus(u),d+=a}while(f!==s.activeElement);return e&6&&RR(f)&&f.select(),2}function AA(){return/iPhone/gi.test(window.navigator.platform)||/Mac/gi.test(window.navigator.platform)&&window.navigator.maxTouchPoints>0}function NR(){return/Android/gi.test(window.navigator.userAgent)}function MR(){return AA()||NR()}function oc(n,e,t,i){let r=eh(t);C.useEffect(()=>{if(!n)return;function s(o){r.current(o)}return document.addEventListener(e,s,i),()=>document.removeEventListener(e,s,i)},[n,e,i])}function FR(n,e,t,i){let r=eh(t);C.useEffect(()=>{if(!n)return;function s(o){r.current(o)}return window.addEventListener(e,s,i),()=>window.removeEventListener(e,s,i)},[n,e,i])}const Ix=30;function DR(n,e,t){let i=H1(n,"outside-click"),r=eh(t),s=C.useCallback(function(l,u){if(l.defaultPrevented)return;let d=u(l);if(d===null||!d.getRootNode().contains(d)||!d.isConnected)return;let h=function f(p){return typeof p=="function"?f(p()):Array.isArray(p)||p instanceof Set?p:[p]}(e);for(let f of h){if(f===null)continue;let p=f instanceof HTMLElement?f:f.current;if(p!=null&&p.contains(d)||l.composed&&l.composedPath().includes(p))return}return!z1(d,B1.Loose)&&d.tabIndex!==-1&&l.preventDefault(),r.current(l,d)},[r]),o=C.useRef(null);oc(i,"pointerdown",l=>{var u,d;o.current=((d=(u=l.composedPath)==null?void 0:u.call(l))==null?void 0:d[0])||l.target},!0),oc(i,"mousedown",l=>{var u,d;o.current=((d=(u=l.composedPath)==null?void 0:u.call(l))==null?void 0:d[0])||l.target},!0),oc(i,"click",l=>{MR()||o.current&&(s(l,()=>o.current),o.current=null)},!0);let a=C.useRef({x:0,y:0});oc(i,"touchstart",l=>{a.current.x=l.touches[0].clientX,a.current.y=l.touches[0].clientY},!0),oc(i,"touchend",l=>{let u={x:l.changedTouches[0].clientX,y:l.changedTouches[0].clientY};if(!(Math.abs(u.x-a.current.x)>=Ix||Math.abs(u.y-a.current.y)>=Ix))return s(l,()=>l.target instanceof HTMLElement?l.target:null)},!0),FR(i,"blur",l=>s(l,()=>window.document.activeElement instanceof HTMLIFrameElement?window.document.activeElement:null),!0)}function U1(...n){return C.useMemo(()=>Gl(...n),[...n])}function Ox(n){var e;if(n.type)return n.type;let t=(e=n.as)!=null?e:"button";if(typeof t=="string"&&t.toLowerCase()==="button")return"button"}function IR(n,e){let[t,i]=C.useState(()=>Ox(n));return je(()=>{i(Ox(n))},[n.type,n.as]),je(()=>{t||e.current&&e.current instanceof HTMLButtonElement&&!e.current.hasAttribute("type")&&i("button")},[t,e]),t}function OR(){let n;return{before({doc:e}){var t;let i=e.documentElement,r=(t=e.defaultView)!=null?t:window;n=Math.max(0,r.innerWidth-i.clientWidth)},after({doc:e,d:t}){let i=e.documentElement,r=Math.max(0,i.clientWidth-i.offsetWidth),s=Math.max(0,n-r);t.style(i,"paddingRight",`${s}px`)}}}function jR(){return AA()?{before({doc:n,d:e,meta:t}){function i(r){return t.containers.flatMap(s=>s()).some(s=>s.contains(r))}e.microTask(()=>{var r;if(window.getComputedStyle(n.documentElement).scrollBehavior!=="auto"){let a=Ni();a.style(n.documentElement,"scrollBehavior","auto"),e.add(()=>e.microTask(()=>a.dispose()))}let s=(r=window.scrollY)!=null?r:window.pageYOffset,o=null;e.addEventListener(n,"click",a=>{if(a.target instanceof HTMLElement)try{let l=a.target.closest("a");if(!l)return;let{hash:u}=new URL(l.href),d=n.querySelector(u);d&&!i(d)&&(o=d)}catch{}},!0),e.addEventListener(n,"touchstart",a=>{if(a.target instanceof HTMLElement)if(i(a.target)){let l=a.target;for(;l.parentElement&&i(l.parentElement);)l=l.parentElement;e.style(l,"overscrollBehavior","contain")}else e.style(a.target,"touchAction","none")}),e.addEventListener(n,"touchmove",a=>{if(a.target instanceof HTMLElement){if(a.target.tagName==="INPUT")return;if(i(a.target)){let l=a.target;for(;l.parentElement&&l.dataset.headlessuiPortal!==""&&!(l.scrollHeight>l.clientHeight||l.scrollWidth>l.clientWidth);)l=l.parentElement;l.dataset.headlessuiPortal===""&&a.preventDefault()}else a.preventDefault()}},{passive:!1}),e.add(()=>{var a;let l=(a=window.scrollY)!=null?a:window.pageYOffset;s!==l&&window.scrollTo(0,s),o&&o.isConnected&&(o.scrollIntoView({block:"nearest"}),o=null)})})}}:{}}function $R(){return{before({doc:n,d:e}){e.style(n.documentElement,"overflow","hidden")}}}function HR(n){let e={};for(let t of n)Object.assign(e,t(e));return e}let zs=yA(()=>new Map,{PUSH(n,e){var t;let i=(t=this.get(n))!=null?t:{doc:n,count:0,d:Ni(),meta:new Set};return i.count++,i.meta.add(e),this.set(n,i),this},POP(n,e){let t=this.get(n);return t&&(t.count--,t.meta.delete(e)),this},SCROLL_PREVENT({doc:n,d:e,meta:t}){let i={doc:n,d:e,meta:HR(t)},r=[jR(),OR(),$R()];r.forEach(({before:s})=>s==null?void 0:s(i)),r.forEach(({after:s})=>s==null?void 0:s(i))},SCROLL_ALLOW({d:n}){n.dispose()},TEARDOWN({doc:n}){this.delete(n)}});zs.subscribe(()=>{let n=zs.getSnapshot(),e=new Map;for(let[t]of n)e.set(t,t.documentElement.style.overflow);for(let t of n.values()){let i=e.get(t.doc)==="hidden",r=t.count!==0;(r&&!i||!r&&i)&&zs.dispatch(t.count>0?"SCROLL_PREVENT":"SCROLL_ALLOW",t),t.count===0&&zs.dispatch("TEARDOWN",t)}});function BR(n,e,t=()=>({containers:[]})){let i=xA(zs),r=e?i.get(e):void 0,s=r?r.count>0:!1;return je(()=>{if(!(!e||!n))return zs.dispatch("PUSH",e,t),()=>zs.dispatch("POP",e,t)},[n,e]),s}function zR(n,e,t=()=>[document.body]){let i=H1(n,"scroll-lock");BR(i,e,r=>{var s;return{containers:[...(s=r.containers)!=null?s:[],t]}})}function jx(n){return[n.screenX,n.screenY]}function UR(){let n=C.useRef([-1,-1]);return{wasMoved(e){let t=jx(e);return n.current[0]===t[0]&&n.current[1]===t[1]?!1:(n.current=t,!0)},update(e){n.current=jx(e)}}}function VR(n){let e={called:!1};return(...t)=>{if(!e.called)return e.called=!0,n(...t)}}function WR(n=0){let[e,t]=C.useState(n),i=C.useCallback(l=>t(l),[e]),r=C.useCallback(l=>t(u=>u|l),[e]),s=C.useCallback(l=>(e&l)===l,[e]),o=C.useCallback(l=>t(u=>u&~l),[t]),a=C.useCallback(l=>t(u=>u^l),[t]);return{flags:e,setFlag:i,addFlag:r,hasFlag:s,removeFlag:o,toggleFlag:a}}var GR=(n=>(n[n.None=0]="None",n[n.Closed=1]="Closed",n[n.Enter=2]="Enter",n[n.Leave=4]="Leave",n))(GR||{});function qR(n){let e={};for(let t in n)n[t]===!0&&(e[`data-${t}`]="");return e}function XR(n,e,t,i){let[r,s]=C.useState(t),{hasFlag:o,addFlag:a,removeFlag:l}=WR(n&&r?3:0),u=C.useRef(!1),d=C.useRef(!1),h=Kp();return je(function f(){var p;if(!n)return;t&&s(!0);let m=e.current;return m?((p=void 0)==null||p.call(i,t),KR(m,{inFlight:u,prepare(){d.current?d.current=!1:d.current=u.current,u.current=!0,!d.current&&(t?(a(3),l(4)):(a(4),l(2)))},run(){d.current?t?(l(3),a(4)):(l(4),a(3)):t?l(1):a(1)},done(){var v;d.current&&typeof m.getAnimations=="function"&&m.getAnimations().length>0||(u.current=!1,l(7),t||s(!1),(v=void 0)==null||v.call(i,t))}})):t?(a(3),h.nextFrame(()=>f())):void 0},[n,t,e,h]),n?[r,{closed:o(1),enter:o(2),leave:o(4),transition:o(2)||o(4)}]:[t,{closed:void 0,enter:void 0,leave:void 0,transition:void 0}]}function KR(n,{prepare:e,run:t,done:i,inFlight:r}){let s=Ni();return QR(n,{prepare:e,inFlight:r}),s.nextFrame(()=>{s.add(YR(n,i)),t()}),s.dispose}function YR(n,e){let t=VR(e),i=Ni();if(!n)return i.dispose;let{transitionDuration:r,transitionDelay:s}=getComputedStyle(n),[o,a]=[r,s].map(u=>{let[d=0]=u.split(",").filter(Boolean).map(h=>h.includes("ms")?parseFloat(h):parseFloat(h)*1e3).sort((h,f)=>f-h);return d}),l=o+a;if(l!==0){let u=i.group(d=>{let h=d.setTimeout(()=>{t(),d.dispose()},l);d.addEventListener(n,"transitionrun",f=>{f.target===f.currentTarget&&(h(),d.addEventListener(n,"transitioncancel",p=>{p.target===p.currentTarget&&(t(),u())}))})});i.addEventListener(n,"transitionend",d=>{d.target===d.currentTarget&&(t(),i.dispose())})}else t();return i.dispose}function QR(n,{inFlight:e,prepare:t}){if(e!=null&&e.current){t();return}let i=n.style.transition;n.style.transition="none",t(),n.offsetHeight,n.style.transition=i}function ZR(n,{container:e,accept:t,walk:i}){let r=C.useRef(t),s=C.useRef(i);C.useEffect(()=>{r.current=t,s.current=i},[t,i]),je(()=>{if(!e||!n)return;let o=Gl(e);if(!o)return;let a=r.current,l=s.current,u=Object.assign(h=>a(h),{acceptNode:a}),d=o.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,u,!1);for(;d.nextNode();)l(d.currentNode)},[e,n,r,s])}function ql(n){return SA(n)?(n.nodeName||"").toLowerCase():"#document"}function fn(n){var e;return(n==null||(e=n.ownerDocument)==null?void 0:e.defaultView)||window}function Rr(n){var e;return(e=(SA(n)?n.ownerDocument:n.document)||window.document)==null?void 0:e.documentElement}function SA(n){return n instanceof Node||n instanceof fn(n).Node}function Vt(n){return n instanceof Element||n instanceof fn(n).Element}function Pi(n){return n instanceof HTMLElement||n instanceof fn(n).HTMLElement}function $x(n){return typeof ShadowRoot>"u"?!1:n instanceof ShadowRoot||n instanceof fn(n).ShadowRoot}function nh(n){const{overflow:e,overflowX:t,overflowY:i,display:r}=ri(n);return/auto|scroll|overlay|hidden|clip/.test(e+i+t)&&!["inline","contents"].includes(r)}function JR(n){return["table","td","th"].includes(ql(n))}function Qp(n){return[":popover-open",":modal"].some(e=>{try{return n.matches(e)}catch{return!1}})}function V1(n){const e=W1(),t=ri(n);return t.transform!=="none"||t.perspective!=="none"||(t.containerType?t.containerType!=="normal":!1)||!e&&(t.backdropFilter?t.backdropFilter!=="none":!1)||!e&&(t.filter?t.filter!=="none":!1)||["transform","perspective","filter"].some(i=>(t.willChange||"").includes(i))||["paint","layout","strict","content"].some(i=>(t.contain||"").includes(i))}function eP(n){let e=bs(n);for(;Pi(e)&&!$l(e);){if(Qp(e))return null;if(V1(e))return e;e=bs(e)}return null}function W1(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function $l(n){return["html","body","#document"].includes(ql(n))}function ri(n){return fn(n).getComputedStyle(n)}function Zp(n){return Vt(n)?{scrollLeft:n.scrollLeft,scrollTop:n.scrollTop}:{scrollLeft:n.pageXOffset,scrollTop:n.pageYOffset}}function bs(n){if(ql(n)==="html")return n;const e=n.assignedSlot||n.parentNode||$x(n)&&n.host||Rr(n);return $x(e)?e.host:e}function CA(n){const e=bs(n);return $l(e)?n.ownerDocument?n.ownerDocument.body:n.body:Pi(e)&&nh(e)?e:CA(e)}function cu(n,e,t){var i;e===void 0&&(e=[]),t===void 0&&(t=!0);const r=CA(n),s=r===((i=n.ownerDocument)==null?void 0:i.body),o=fn(r);return s?e.concat(o,o.visualViewport||[],nh(r)?r:[],o.frameElement&&t?cu(o.frameElement):[]):e.concat(r,cu(r,[],t))}function tP(){const n=navigator.userAgentData;return n&&Array.isArray(n.brands)?n.brands.map(e=>{let{brand:t,version:i}=e;return t+"/"+i}).join(" "):navigator.userAgent}const cs=Math.min,cn=Math.max,Qf=Math.round,Th=Math.floor,Es=n=>({x:n,y:n}),nP={left:"right",right:"left",bottom:"top",top:"bottom"},iP={start:"end",end:"start"};function Hx(n,e,t){return cn(n,cs(e,t))}function Xl(n,e){return typeof n=="function"?n(e):n}function As(n){return n.split("-")[0]}function ih(n){return n.split("-")[1]}function _A(n){return n==="x"?"y":"x"}function kA(n){return n==="y"?"height":"width"}function Yo(n){return["top","bottom"].includes(As(n))?"y":"x"}function TA(n){return _A(Yo(n))}function rP(n,e,t){t===void 0&&(t=!1);const i=ih(n),r=TA(n),s=kA(r);let o=r==="x"?i===(t?"end":"start")?"right":"left":i==="start"?"bottom":"top";return e.reference[s]>e.floating[s]&&(o=Zf(o)),[o,Zf(o)]}function sP(n){const e=Zf(n);return[p0(n),e,p0(e)]}function p0(n){return n.replace(/start|end/g,e=>iP[e])}function oP(n,e,t){const i=["left","right"],r=["right","left"],s=["top","bottom"],o=["bottom","top"];switch(n){case"top":case"bottom":return t?e?r:i:e?i:r;case"left":case"right":return e?s:o;default:return[]}}function aP(n,e,t,i){const r=ih(n);let s=oP(As(n),t==="start",i);return r&&(s=s.map(o=>o+"-"+r),e&&(s=s.concat(s.map(p0)))),s}function Zf(n){return n.replace(/left|right|bottom|top/g,e=>nP[e])}function lP(n){return{top:0,right:0,bottom:0,left:0,...n}}function cP(n){return typeof n!="number"?lP(n):{top:n,right:n,bottom:n,left:n}}function Jf(n){const{x:e,y:t,width:i,height:r}=n;return{width:i,height:r,top:t,left:e,right:e+i,bottom:t+r,x:e,y:t}}function Bx(n,e,t){let{reference:i,floating:r}=n;const s=Yo(e),o=TA(e),a=kA(o),l=As(e),u=s==="y",d=i.x+i.width/2-r.width/2,h=i.y+i.height/2-r.height/2,f=i[a]/2-r[a]/2;let p;switch(l){case"top":p={x:d,y:i.y-r.height};break;case"bottom":p={x:d,y:i.y+i.height};break;case"right":p={x:i.x+i.width,y:h};break;case"left":p={x:i.x-r.width,y:h};break;default:p={x:i.x,y:i.y}}switch(ih(e)){case"start":p[o]-=f*(t&&u?-1:1);break;case"end":p[o]+=f*(t&&u?-1:1);break}return p}const uP=async(n,e,t)=>{const{placement:i="bottom",strategy:r="absolute",middleware:s=[],platform:o}=t,a=s.filter(Boolean),l=await(o.isRTL==null?void 0:o.isRTL(e));let u=await o.getElementRects({reference:n,floating:e,strategy:r}),{x:d,y:h}=Bx(u,i,l),f=i,p={},m=0;for(let v=0;v<a.length;v++){const{name:b,fn:g}=a[v],{x:y,y:x,data:_,reset:k}=await g({x:d,y:h,initialPlacement:i,placement:f,strategy:r,middlewareData:p,rects:u,platform:o,elements:{reference:n,floating:e}});d=y??d,h=x??h,p={...p,[b]:{...p[b],..._}},k&&m<=50&&(m++,typeof k=="object"&&(k.placement&&(f=k.placement),k.rects&&(u=k.rects===!0?await o.getElementRects({reference:n,floating:e,strategy:r}):k.rects),{x:d,y:h}=Bx(u,f,l)),v=-1)}return{x:d,y:h,placement:f,strategy:r,middlewareData:p}};async function Jp(n,e){var t;e===void 0&&(e={});const{x:i,y:r,platform:s,rects:o,elements:a,strategy:l}=n,{boundary:u="clippingAncestors",rootBoundary:d="viewport",elementContext:h="floating",altBoundary:f=!1,padding:p=0}=Xl(e,n),m=cP(p),b=a[f?h==="floating"?"reference":"floating":h],g=Jf(await s.getClippingRect({element:(t=await(s.isElement==null?void 0:s.isElement(b)))==null||t?b:b.contextElement||await(s.getDocumentElement==null?void 0:s.getDocumentElement(a.floating)),boundary:u,rootBoundary:d,strategy:l})),y=h==="floating"?{x:i,y:r,width:o.floating.width,height:o.floating.height}:o.reference,x=await(s.getOffsetParent==null?void 0:s.getOffsetParent(a.floating)),_=await(s.isElement==null?void 0:s.isElement(x))?await(s.getScale==null?void 0:s.getScale(x))||{x:1,y:1}:{x:1,y:1},k=Jf(s.convertOffsetParentRelativeRectToViewportRelativeRect?await s.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:y,offsetParent:x,strategy:l}):y);return{top:(g.top-k.top+m.top)/_.y,bottom:(k.bottom-g.bottom+m.bottom)/_.y,left:(g.left-k.left+m.left)/_.x,right:(k.right-g.right+m.right)/_.x}}const dP=function(n){return n===void 0&&(n={}),{name:"flip",options:n,async fn(e){var t,i;const{placement:r,middlewareData:s,rects:o,initialPlacement:a,platform:l,elements:u}=e,{mainAxis:d=!0,crossAxis:h=!0,fallbackPlacements:f,fallbackStrategy:p="bestFit",fallbackAxisSideDirection:m="none",flipAlignment:v=!0,...b}=Xl(n,e);if((t=s.arrow)!=null&&t.alignmentOffset)return{};const g=As(r),y=Yo(a),x=As(a)===a,_=await(l.isRTL==null?void 0:l.isRTL(u.floating)),k=f||(x||!v?[Zf(a)]:sP(a)),T=m!=="none";!f&&T&&k.push(...aP(a,v,m,_));const R=[a,...k],L=await Jp(e,b),D=[];let F=((i=s.flip)==null?void 0:i.overflows)||[];if(d&&D.push(L[g]),h){const K=rP(r,o,_);D.push(L[K[0]],L[K[1]])}if(F=[...F,{placement:r,overflows:D}],!D.every(K=>K<=0)){var O,Y;const K=(((O=s.flip)==null?void 0:O.index)||0)+1,$=R[K];if($)return{data:{index:K,overflows:F},reset:{placement:$}};let se=(Y=F.filter(I=>I.overflows[0]<=0).sort((I,N)=>I.overflows[1]-N.overflows[1])[0])==null?void 0:Y.placement;if(!se)switch(p){case"bestFit":{var X;const I=(X=F.filter(N=>{if(T){const B=Yo(N.placement);return B===y||B==="y"}return!0}).map(N=>[N.placement,N.overflows.filter(B=>B>0).reduce((B,W)=>B+W,0)]).sort((N,B)=>N[1]-B[1])[0])==null?void 0:X[0];I&&(se=I);break}case"initialPlacement":se=a;break}if(r!==se)return{reset:{placement:se}}}return{}}}};async function hP(n,e){const{placement:t,platform:i,elements:r}=n,s=await(i.isRTL==null?void 0:i.isRTL(r.floating)),o=As(t),a=ih(t),l=Yo(t)==="y",u=["left","top"].includes(o)?-1:1,d=s&&l?-1:1,h=Xl(e,n);let{mainAxis:f,crossAxis:p,alignmentAxis:m}=typeof h=="number"?{mainAxis:h,crossAxis:0,alignmentAxis:null}:{mainAxis:0,crossAxis:0,alignmentAxis:null,...h};return a&&typeof m=="number"&&(p=a==="end"?m*-1:m),l?{x:p*d,y:f*u}:{x:f*u,y:p*d}}const fP=function(n){return n===void 0&&(n=0),{name:"offset",options:n,async fn(e){var t,i;const{x:r,y:s,placement:o,middlewareData:a}=e,l=await hP(e,n);return o===((t=a.offset)==null?void 0:t.placement)&&(i=a.arrow)!=null&&i.alignmentOffset?{}:{x:r+l.x,y:s+l.y,data:{...l,placement:o}}}}},pP=function(n){return n===void 0&&(n={}),{name:"shift",options:n,async fn(e){const{x:t,y:i,placement:r}=e,{mainAxis:s=!0,crossAxis:o=!1,limiter:a={fn:b=>{let{x:g,y}=b;return{x:g,y}}},...l}=Xl(n,e),u={x:t,y:i},d=await Jp(e,l),h=Yo(As(r)),f=_A(h);let p=u[f],m=u[h];if(s){const b=f==="y"?"top":"left",g=f==="y"?"bottom":"right",y=p+d[b],x=p-d[g];p=Hx(y,p,x)}if(o){const b=h==="y"?"top":"left",g=h==="y"?"bottom":"right",y=m+d[b],x=m-d[g];m=Hx(y,m,x)}const v=a.fn({...e,[f]:p,[h]:m});return{...v,data:{x:v.x-t,y:v.y-i}}}}},mP=function(n){return n===void 0&&(n={}),{name:"size",options:n,async fn(e){const{placement:t,rects:i,platform:r,elements:s}=e,{apply:o=()=>{},...a}=Xl(n,e),l=await Jp(e,a),u=As(t),d=ih(t),h=Yo(t)==="y",{width:f,height:p}=i.floating;let m,v;u==="top"||u==="bottom"?(m=u,v=d===(await(r.isRTL==null?void 0:r.isRTL(s.floating))?"start":"end")?"left":"right"):(v=u,m=d==="end"?"top":"bottom");const b=p-l.top-l.bottom,g=f-l.left-l.right,y=cs(p-l[m],b),x=cs(f-l[v],g),_=!e.middlewareData.shift;let k=y,T=x;if(h?T=d||_?cs(x,g):g:k=d||_?cs(y,b):b,_&&!d){const L=cn(l.left,0),D=cn(l.right,0),F=cn(l.top,0),O=cn(l.bottom,0);h?T=f-2*(L!==0||D!==0?L+D:cn(l.left,l.right)):k=p-2*(F!==0||O!==0?F+O:cn(l.top,l.bottom))}await o({...e,availableWidth:T,availableHeight:k});const R=await r.getDimensions(s.floating);return f!==R.width||p!==R.height?{reset:{rects:!0}}:{}}}};function RA(n){const e=ri(n);let t=parseFloat(e.width)||0,i=parseFloat(e.height)||0;const r=Pi(n),s=r?n.offsetWidth:t,o=r?n.offsetHeight:i,a=Qf(t)!==s||Qf(i)!==o;return a&&(t=s,i=o),{width:t,height:i,$:a}}function G1(n){return Vt(n)?n:n.contextElement}function Ia(n){const e=G1(n);if(!Pi(e))return Es(1);const t=e.getBoundingClientRect(),{width:i,height:r,$:s}=RA(e);let o=(s?Qf(t.width):t.width)/i,a=(s?Qf(t.height):t.height)/r;return(!o||!Number.isFinite(o))&&(o=1),(!a||!Number.isFinite(a))&&(a=1),{x:o,y:a}}const gP=Es(0);function PA(n){const e=fn(n);return!W1()||!e.visualViewport?gP:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function vP(n,e,t){return e===void 0&&(e=!1),!t||e&&t!==fn(n)?!1:e}function Qo(n,e,t,i){e===void 0&&(e=!1),t===void 0&&(t=!1);const r=n.getBoundingClientRect(),s=G1(n);let o=Es(1);e&&(i?Vt(i)&&(o=Ia(i)):o=Ia(n));const a=vP(s,t,i)?PA(s):Es(0);let l=(r.left+a.x)/o.x,u=(r.top+a.y)/o.y,d=r.width/o.x,h=r.height/o.y;if(s){const f=fn(s),p=i&&Vt(i)?fn(i):i;let m=f,v=m.frameElement;for(;v&&i&&p!==m;){const b=Ia(v),g=v.getBoundingClientRect(),y=ri(v),x=g.left+(v.clientLeft+parseFloat(y.paddingLeft))*b.x,_=g.top+(v.clientTop+parseFloat(y.paddingTop))*b.y;l*=b.x,u*=b.y,d*=b.x,h*=b.y,l+=x,u+=_,m=fn(v),v=m.frameElement}}return Jf({width:d,height:h,x:l,y:u})}function yP(n){let{elements:e,rect:t,offsetParent:i,strategy:r}=n;const s=r==="fixed",o=Rr(i),a=e?Qp(e.floating):!1;if(i===o||a&&s)return t;let l={scrollLeft:0,scrollTop:0},u=Es(1);const d=Es(0),h=Pi(i);if((h||!h&&!s)&&((ql(i)!=="body"||nh(o))&&(l=Zp(i)),Pi(i))){const f=Qo(i);u=Ia(i),d.x=f.x+i.clientLeft,d.y=f.y+i.clientTop}return{width:t.width*u.x,height:t.height*u.y,x:t.x*u.x-l.scrollLeft*u.x+d.x,y:t.y*u.y-l.scrollTop*u.y+d.y}}function xP(n){return Array.from(n.getClientRects())}function LA(n){return Qo(Rr(n)).left+Zp(n).scrollLeft}function wP(n){const e=Rr(n),t=Zp(n),i=n.ownerDocument.body,r=cn(e.scrollWidth,e.clientWidth,i.scrollWidth,i.clientWidth),s=cn(e.scrollHeight,e.clientHeight,i.scrollHeight,i.clientHeight);let o=-t.scrollLeft+LA(n);const a=-t.scrollTop;return ri(i).direction==="rtl"&&(o+=cn(e.clientWidth,i.clientWidth)-r),{width:r,height:s,x:o,y:a}}function bP(n,e){const t=fn(n),i=Rr(n),r=t.visualViewport;let s=i.clientWidth,o=i.clientHeight,a=0,l=0;if(r){s=r.width,o=r.height;const u=W1();(!u||u&&e==="fixed")&&(a=r.offsetLeft,l=r.offsetTop)}return{width:s,height:o,x:a,y:l}}function EP(n,e){const t=Qo(n,!0,e==="fixed"),i=t.top+n.clientTop,r=t.left+n.clientLeft,s=Pi(n)?Ia(n):Es(1),o=n.clientWidth*s.x,a=n.clientHeight*s.y,l=r*s.x,u=i*s.y;return{width:o,height:a,x:l,y:u}}function zx(n,e,t){let i;if(e==="viewport")i=bP(n,t);else if(e==="document")i=wP(Rr(n));else if(Vt(e))i=EP(e,t);else{const r=PA(n);i={...e,x:e.x-r.x,y:e.y-r.y}}return Jf(i)}function NA(n,e){const t=bs(n);return t===e||!Vt(t)||$l(t)?!1:ri(t).position==="fixed"||NA(t,e)}function AP(n,e){const t=e.get(n);if(t)return t;let i=cu(n,[],!1).filter(a=>Vt(a)&&ql(a)!=="body"),r=null;const s=ri(n).position==="fixed";let o=s?bs(n):n;for(;Vt(o)&&!$l(o);){const a=ri(o),l=V1(o);!l&&a.position==="fixed"&&(r=null),(s?!l&&!r:!l&&a.position==="static"&&!!r&&["absolute","fixed"].includes(r.position)||nh(o)&&!l&&NA(n,o))?i=i.filter(d=>d!==o):r=a,o=bs(o)}return e.set(n,i),i}function SP(n){let{element:e,boundary:t,rootBoundary:i,strategy:r}=n;const o=[...t==="clippingAncestors"?Qp(e)?[]:AP(e,this._c):[].concat(t),i],a=o[0],l=o.reduce((u,d)=>{const h=zx(e,d,r);return u.top=cn(h.top,u.top),u.right=cs(h.right,u.right),u.bottom=cs(h.bottom,u.bottom),u.left=cn(h.left,u.left),u},zx(e,a,r));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function CP(n){const{width:e,height:t}=RA(n);return{width:e,height:t}}function _P(n,e,t){const i=Pi(e),r=Rr(e),s=t==="fixed",o=Qo(n,!0,s,e);let a={scrollLeft:0,scrollTop:0};const l=Es(0);if(i||!i&&!s)if((ql(e)!=="body"||nh(r))&&(a=Zp(e)),i){const h=Qo(e,!0,s,e);l.x=h.x+e.clientLeft,l.y=h.y+e.clientTop}else r&&(l.x=LA(r));const u=o.left+a.scrollLeft-l.x,d=o.top+a.scrollTop-l.y;return{x:u,y:d,width:o.width,height:o.height}}function Xm(n){return ri(n).position==="static"}function Ux(n,e){return!Pi(n)||ri(n).position==="fixed"?null:e?e(n):n.offsetParent}function MA(n,e){const t=fn(n);if(Qp(n))return t;if(!Pi(n)){let r=bs(n);for(;r&&!$l(r);){if(Vt(r)&&!Xm(r))return r;r=bs(r)}return t}let i=Ux(n,e);for(;i&&JR(i)&&Xm(i);)i=Ux(i,e);return i&&$l(i)&&Xm(i)&&!V1(i)?t:i||eP(n)||t}const kP=async function(n){const e=this.getOffsetParent||MA,t=this.getDimensions,i=await t(n.floating);return{reference:_P(n.reference,await e(n.floating),n.strategy),floating:{x:0,y:0,width:i.width,height:i.height}}};function TP(n){return ri(n).direction==="rtl"}const RP={convertOffsetParentRelativeRectToViewportRelativeRect:yP,getDocumentElement:Rr,getClippingRect:SP,getOffsetParent:MA,getElementRects:kP,getClientRects:xP,getDimensions:CP,getScale:Ia,isElement:Vt,isRTL:TP};function PP(n,e){let t=null,i;const r=Rr(n);function s(){var a;clearTimeout(i),(a=t)==null||a.disconnect(),t=null}function o(a,l){a===void 0&&(a=!1),l===void 0&&(l=1),s();const{left:u,top:d,width:h,height:f}=n.getBoundingClientRect();if(a||e(),!h||!f)return;const p=Th(d),m=Th(r.clientWidth-(u+h)),v=Th(r.clientHeight-(d+f)),b=Th(u),y={rootMargin:-p+"px "+-m+"px "+-v+"px "+-b+"px",threshold:cn(0,cs(1,l))||1};let x=!0;function _(k){const T=k[0].intersectionRatio;if(T!==l){if(!x)return o();T?o(!1,T):i=setTimeout(()=>{o(!1,1e-7)},1e3)}x=!1}try{t=new IntersectionObserver(_,{...y,root:r.ownerDocument})}catch{t=new IntersectionObserver(_,y)}t.observe(n)}return o(!0),s}function LP(n,e,t,i){i===void 0&&(i={});const{ancestorScroll:r=!0,ancestorResize:s=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:l=!1}=i,u=G1(n),d=r||s?[...u?cu(u):[],...cu(e)]:[];d.forEach(g=>{r&&g.addEventListener("scroll",t,{passive:!0}),s&&g.addEventListener("resize",t)});const h=u&&a?PP(u,t):null;let f=-1,p=null;o&&(p=new ResizeObserver(g=>{let[y]=g;y&&y.target===u&&p&&(p.unobserve(e),cancelAnimationFrame(f),f=requestAnimationFrame(()=>{var x;(x=p)==null||x.observe(e)})),t()}),u&&!l&&p.observe(u),p.observe(e));let m,v=l?Qo(n):null;l&&b();function b(){const g=Qo(n);v&&(g.x!==v.x||g.y!==v.y||g.width!==v.width||g.height!==v.height)&&t(),v=g,m=requestAnimationFrame(b)}return t(),()=>{var g;d.forEach(y=>{r&&y.removeEventListener("scroll",t),s&&y.removeEventListener("resize",t)}),h==null||h(),(g=p)==null||g.disconnect(),p=null,l&&cancelAnimationFrame(m)}}const Km=Jp,NP=fP,MP=pP,FP=dP,DP=mP,IP=(n,e,t)=>{const i=new Map,r={platform:RP,...t},s={...r.platform,_c:i};return uP(n,e,{...r,platform:s})};var qh=typeof document<"u"?C.useLayoutEffect:C.useEffect;function ep(n,e){if(n===e)return!0;if(typeof n!=typeof e)return!1;if(typeof n=="function"&&n.toString()===e.toString())return!0;let t,i,r;if(n&&e&&typeof n=="object"){if(Array.isArray(n)){if(t=n.length,t!==e.length)return!1;for(i=t;i--!==0;)if(!ep(n[i],e[i]))return!1;return!0}if(r=Object.keys(n),t=r.length,t!==Object.keys(e).length)return!1;for(i=t;i--!==0;)if(!{}.hasOwnProperty.call(e,r[i]))return!1;for(i=t;i--!==0;){const s=r[i];if(!(s==="_owner"&&n.$$typeof)&&!ep(n[s],e[s]))return!1}return!0}return n!==n&&e!==e}function FA(n){return typeof window>"u"?1:(n.ownerDocument.defaultView||window).devicePixelRatio||1}function Vx(n,e){const t=FA(n);return Math.round(e*t)/t}function Wx(n){const e=C.useRef(n);return qh(()=>{e.current=n}),e}function OP(n){n===void 0&&(n={});const{placement:e="bottom",strategy:t="absolute",middleware:i=[],platform:r,elements:{reference:s,floating:o}={},transform:a=!0,whileElementsMounted:l,open:u}=n,[d,h]=C.useState({x:0,y:0,strategy:t,placement:e,middlewareData:{},isPositioned:!1}),[f,p]=C.useState(i);ep(f,i)||p(i);const[m,v]=C.useState(null),[b,g]=C.useState(null),y=C.useCallback(I=>{I!==T.current&&(T.current=I,v(I))},[]),x=C.useCallback(I=>{I!==R.current&&(R.current=I,g(I))},[]),_=s||m,k=o||b,T=C.useRef(null),R=C.useRef(null),L=C.useRef(d),D=l!=null,F=Wx(l),O=Wx(r),Y=C.useCallback(()=>{if(!T.current||!R.current)return;const I={placement:e,strategy:t,middleware:f};O.current&&(I.platform=O.current),IP(T.current,R.current,I).then(N=>{const B={...N,isPositioned:!0};X.current&&!ep(L.current,B)&&(L.current=B,Pn.flushSync(()=>{h(B)}))})},[f,e,t,O]);qh(()=>{u===!1&&L.current.isPositioned&&(L.current.isPositioned=!1,h(I=>({...I,isPositioned:!1})))},[u]);const X=C.useRef(!1);qh(()=>(X.current=!0,()=>{X.current=!1}),[]),qh(()=>{if(_&&(T.current=_),k&&(R.current=k),_&&k){if(F.current)return F.current(_,k,Y);Y()}},[_,k,Y,F,D]);const K=C.useMemo(()=>({reference:T,floating:R,setReference:y,setFloating:x}),[y,x]),$=C.useMemo(()=>({reference:_,floating:k}),[_,k]),se=C.useMemo(()=>{const I={position:t,left:0,top:0};if(!$.floating)return I;const N=Vx($.floating,d.x),B=Vx($.floating,d.y);return a?{...I,transform:"translate("+N+"px, "+B+"px)",...FA($.floating)>=1.5&&{willChange:"transform"}}:{position:t,left:N,top:B}},[t,a,$.floating,d.x,d.y]);return C.useMemo(()=>({...d,update:Y,refs:K,elements:$,floatingStyles:se}),[d,Y,K,$,se])}const DA=(n,e)=>({...NP(n),options:[n,e]}),jP=(n,e)=>({...MP(n),options:[n,e]}),$P=(n,e)=>({...FP(n),options:[n,e]}),HP=(n,e)=>({...DP(n),options:[n,e]}),IA={...Af},BP=IA.useInsertionEffect,zP=BP||(n=>n());function OA(n){const e=C.useRef(()=>{});return zP(()=>{e.current=n}),C.useCallback(function(){for(var t=arguments.length,i=new Array(t),r=0;r<t;r++)i[r]=arguments[r];return e.current==null?void 0:e.current(...i)},[])}var m0=typeof document<"u"?C.useLayoutEffect:C.useEffect;let Gx=!1,UP=0;const qx=()=>"floating-ui-"+Math.random().toString(36).slice(2,6)+UP++;function VP(){const[n,e]=C.useState(()=>Gx?qx():void 0);return m0(()=>{n==null&&e(qx())},[]),C.useEffect(()=>{Gx=!0},[]),n}const WP=IA.useId,GP=WP||VP;function qP(){const n=new Map;return{emit(e,t){var i;(i=n.get(e))==null||i.forEach(r=>r(t))},on(e,t){n.set(e,[...n.get(e)||[],t])},off(e,t){var i;n.set(e,((i=n.get(e))==null?void 0:i.filter(r=>r!==t))||[])}}}const XP=C.createContext(null),KP=C.createContext(null),YP=()=>{var n;return((n=C.useContext(XP))==null?void 0:n.id)||null},QP=()=>C.useContext(KP);function ZP(n){const{open:e=!1,onOpenChange:t,elements:i}=n,r=GP(),s=C.useRef({}),[o]=C.useState(()=>qP()),a=YP()!=null,[l,u]=C.useState(i.reference),d=OA((p,m,v)=>{s.current.openEvent=p?m:void 0,o.emit("openchange",{open:p,event:m,reason:v,nested:a}),t==null||t(p,m,v)}),h=C.useMemo(()=>({setPositionReference:u}),[]),f=C.useMemo(()=>({reference:l||i.reference||null,floating:i.floating||null,domReference:i.reference}),[l,i.reference,i.floating]);return C.useMemo(()=>({dataRef:s,open:e,onOpenChange:d,elements:f,events:o,floatingId:r,refs:h}),[e,d,f,o,r,h])}function JP(n){n===void 0&&(n={});const{nodeId:e}=n,t=ZP({...n,elements:{reference:null,floating:null,...n.elements}}),i=n.rootContext||t,r=i.elements,[s,o]=C.useState(null),[a,l]=C.useState(null),d=(r==null?void 0:r.reference)||s,h=C.useRef(null),f=QP();m0(()=>{d&&(h.current=d)},[d]);const p=OP({...n,elements:{...r,...a&&{reference:a}}}),m=C.useCallback(x=>{const _=Vt(x)?{getBoundingClientRect:()=>x.getBoundingClientRect(),contextElement:x}:x;l(_),p.refs.setReference(_)},[p.refs]),v=C.useCallback(x=>{(Vt(x)||x===null)&&(h.current=x,o(x)),(Vt(p.refs.reference.current)||p.refs.reference.current===null||x!==null&&!Vt(x))&&p.refs.setReference(x)},[p.refs]),b=C.useMemo(()=>({...p.refs,setReference:v,setPositionReference:m,domReference:h}),[p.refs,v,m]),g=C.useMemo(()=>({...p.elements,domReference:d}),[p.elements,d]),y=C.useMemo(()=>({...p,...i,refs:b,elements:g,nodeId:e}),[p,b,g,e,i]);return m0(()=>{i.dataRef.current.floatingContext=y;const x=f==null?void 0:f.nodesRef.current.find(_=>_.id===e);x&&(x.context=y)}),C.useMemo(()=>({...p,context:y,refs:b,elements:g}),[p,b,g,y])}const Xx="active",Kx="selected";function Ym(n,e,t){const i=new Map,r=t==="item";let s=n;if(r&&n){const{[Xx]:o,[Kx]:a,...l}=n;s=l}return{...t==="floating"&&{tabIndex:-1},...s,...e.map(o=>{const a=o?o[t]:null;return typeof a=="function"?n?a(n):null:a}).concat(n).reduce((o,a)=>(a&&Object.entries(a).forEach(l=>{let[u,d]=l;if(!(r&&[Xx,Kx].includes(u)))if(u.indexOf("on")===0){if(i.has(u)||i.set(u,[]),typeof d=="function"){var h;(h=i.get(u))==null||h.push(d),o[u]=function(){for(var f,p=arguments.length,m=new Array(p),v=0;v<p;v++)m[v]=arguments[v];return(f=i.get(u))==null?void 0:f.map(b=>b(...m)).find(b=>b!==void 0)}}}else o[u]=d}),o),{})}}function eL(n){n===void 0&&(n=[]);const e=n.map(a=>a==null?void 0:a.reference),t=n.map(a=>a==null?void 0:a.floating),i=n.map(a=>a==null?void 0:a.item),r=C.useCallback(a=>Ym(a,n,"reference"),e),s=C.useCallback(a=>Ym(a,n,"floating"),t),o=C.useCallback(a=>Ym(a,n,"item"),i);return C.useMemo(()=>({getReferenceProps:r,getFloatingProps:s,getItemProps:o}),[r,s,o])}function Yx(n,e){return{...n,rects:{...n.rects,floating:{...n.rects.floating,height:e}}}}const tL=n=>({name:"inner",options:n,async fn(e){const{listRef:t,overflowRef:i,onFallbackChange:r,offset:s=0,index:o=0,minItemsVisible:a=4,referenceOverflowThreshold:l=0,scrollRef:u,...d}=Xl(n,e),{rects:h,elements:{floating:f}}=e,p=t.current[o];if(!p)return{};const m={...e,...await DA(-p.offsetTop-f.clientTop-h.reference.height/2-p.offsetHeight/2-s).fn(e)},v=(u==null?void 0:u.current)||f,b=await Km(Yx(m,v.scrollHeight),d),g=await Km(m,{...d,elementContext:"reference"}),y=Math.max(0,b.top),x=m.y+y,_=Math.max(0,v.scrollHeight-y-Math.max(0,b.bottom));return v.style.maxHeight=_+"px",v.scrollTop=y,r&&(v.offsetHeight<p.offsetHeight*Math.min(a,t.current.length-1)-1||g.top>=-l||g.bottom>=-l?Pn.flushSync(()=>r(!0)):Pn.flushSync(()=>r(!1))),i&&(i.current=await Km(Yx({...m,y:x},v.offsetHeight),d)),{y:x}}});function nL(n,e){const{open:t,elements:i}=n,{enabled:r=!0,overflowRef:s,scrollRef:o,onChange:a}=e,l=OA(a),u=C.useRef(!1),d=C.useRef(null),h=C.useRef(null);C.useEffect(()=>{if(!r)return;function p(v){if(v.ctrlKey||!m||s.current==null)return;const b=v.deltaY,g=s.current.top>=-.5,y=s.current.bottom>=-.5,x=m.scrollHeight-m.clientHeight,_=b<0?-1:1,k=b<0?"max":"min";m.scrollHeight<=m.clientHeight||(!g&&b>0||!y&&b<0?(v.preventDefault(),Pn.flushSync(()=>{l(T=>T+Math[k](b,x*_))})):/firefox/i.test(tP())&&(m.scrollTop+=b))}const m=(o==null?void 0:o.current)||i.floating;if(t&&m)return m.addEventListener("wheel",p),requestAnimationFrame(()=>{d.current=m.scrollTop,s.current!=null&&(h.current={...s.current})}),()=>{d.current=null,h.current=null,m.removeEventListener("wheel",p)}},[r,t,i.floating,s,o,l]);const f=C.useMemo(()=>({onKeyDown(){u.current=!0},onWheel(){u.current=!1},onPointerMove(){u.current=!1},onScroll(){const p=(o==null?void 0:o.current)||i.floating;if(!(!s.current||!p||!u.current)){if(d.current!==null){const m=p.scrollTop-d.current;(s.current.bottom<-.5&&m<-1||s.current.top<-.5&&m>1)&&Pn.flushSync(()=>l(v=>v+m))}requestAnimationFrame(()=>{d.current=p.scrollTop})}}}),[i.floating,l,s,o]);return C.useMemo(()=>r?{floating:f}:{},[r,f])}let Kl=C.createContext({styles:void 0,setReference:()=>{},setFloating:()=>{},getReferenceProps:()=>({}),getFloatingProps:()=>({}),slot:{}});Kl.displayName="FloatingContext";let q1=C.createContext(null);q1.displayName="PlacementContext";function iL(n){return C.useMemo(()=>n?typeof n=="string"?{to:n}:n:null,[n])}function rL(){return C.useContext(Kl).setReference}function sL(){return C.useContext(Kl).getReferenceProps}function oL(){let{getFloatingProps:n,slot:e}=C.useContext(Kl);return C.useCallback((...t)=>Object.assign({},n(...t),{"data-anchor":e.anchor}),[n,e])}function aL(n=null){n===!1&&(n=null),typeof n=="string"&&(n={to:n});let e=C.useContext(q1),t=C.useMemo(()=>n,[JSON.stringify(n,typeof HTMLElement<"u"?(r,s)=>s instanceof HTMLElement?s.outerHTML:s:void 0)]);je(()=>{e==null||e(t??null)},[e,t]);let i=C.useContext(Kl);return C.useMemo(()=>[i.setFloating,n?i.styles:{}],[i.setFloating,n,i.styles])}let Qx=4;function lL({children:n,enabled:e=!0}){let[t,i]=C.useState(null),[r,s]=C.useState(0),o=C.useRef(null),[a,l]=C.useState(null);cL(a);let u=e&&t!==null&&a!==null,{to:d="bottom",gap:h=0,offset:f=0,padding:p=0,inner:m}=uL(t,a),[v,b="center"]=d.split(" ");je(()=>{u&&s(0)},[u]);let{refs:g,floatingStyles:y,context:x}=JP({open:u,placement:v==="selection"?b==="center"?"bottom":`bottom-${b}`:b==="center"?`${v}`:`${v}-${b}`,strategy:"absolute",transform:!1,middleware:[DA({mainAxis:v==="selection"?0:h,crossAxis:f}),jP({padding:p}),v!=="selection"&&$P({padding:p}),v==="selection"&&m?tL({...m,padding:p,overflowRef:o,offset:r,minItemsVisible:Qx,referenceOverflowThreshold:p,onFallbackChange(O){var Y,X;if(!O)return;let K=x.elements.floating;if(!K)return;let $=parseFloat(getComputedStyle(K).scrollPaddingBottom)||0,se=Math.min(Qx,K.childElementCount),I=0,N=0;for(let B of(X=(Y=x.elements.floating)==null?void 0:Y.childNodes)!=null?X:[])if(B instanceof HTMLElement){let W=B.offsetTop,de=W+B.clientHeight+$,re=K.scrollTop,Se=re+K.clientHeight;if(W>=re&&de<=Se)se--;else{N=Math.max(0,Math.min(de,Se)-Math.max(W,re)),I=B.clientHeight;break}}se>=1&&s(B=>{let W=I*se-N+$;return B>=W?B:W})}}):null,HP({padding:p,apply({availableWidth:O,availableHeight:Y,elements:X}){Object.assign(X.floating.style,{overflow:"auto",maxWidth:`${O}px`,maxHeight:`min(var(--anchor-max-height, 100vh), ${Y}px)`})}})].filter(Boolean),whileElementsMounted:LP}),[_=v,k=b]=x.placement.split("-");v==="selection"&&(_="selection");let T=C.useMemo(()=>({anchor:[_,k].filter(Boolean).join(" ")}),[_,k]),R=nL(x,{overflowRef:o,onChange:s}),{getReferenceProps:L,getFloatingProps:D}=eL([R]),F=Ne(O=>{l(O),g.setFloating(O)});return C.createElement(q1.Provider,{value:i},C.createElement(Kl.Provider,{value:{setFloating:F,setReference:g.setReference,styles:y,getReferenceProps:L,getFloatingProps:D,slot:T}},n))}function cL(n){je(()=>{if(!n)return;let e=new MutationObserver(()=>{let t=n.style.maxHeight;parseFloat(t)!==parseInt(t)&&(n.style.maxHeight=`${Math.ceil(parseFloat(t))}px`)});return e.observe(n,{attributes:!0,attributeFilter:["style"]}),()=>{e.disconnect()}},[n])}function uL(n,e){var t,i,r;let s=Qm((t=n==null?void 0:n.gap)!=null?t:"var(--anchor-gap, 0)",e),o=Qm((i=n==null?void 0:n.offset)!=null?i:"var(--anchor-offset, 0)",e),a=Qm((r=n==null?void 0:n.padding)!=null?r:"var(--anchor-padding, 0)",e);return{...n,gap:s,offset:o,padding:a}}function Qm(n,e,t=void 0){let i=Kp(),r=Ne((l,u)=>{if(l==null)return[t,null];if(typeof l=="number")return[l,null];if(typeof l=="string"){if(!u)return[t,null];let d=Zx(l,u);return[d,h=>{let f=jA(l);{let p=f.map(m=>window.getComputedStyle(u).getPropertyValue(m));i.requestAnimationFrame(function m(){i.nextFrame(m);let v=!1;for(let[g,y]of f.entries()){let x=window.getComputedStyle(u).getPropertyValue(y);if(p[g]!==x){p[g]=x,v=!0;break}}if(!v)return;let b=Zx(l,u);d!==b&&(h(b),d=b)})}return i.dispose}]}return[t,null]}),s=C.useMemo(()=>r(n,e)[0],[n,e]),[o=s,a]=C.useState();return je(()=>{let[l,u]=r(n,e);if(a(l),!!u)return u(a)},[n,e]),o}function jA(n){let e=/var\((.*)\)/.exec(n);if(e){let t=e[1].indexOf(",");if(t===-1)return[e[1]];let i=e[1].slice(0,t).trim(),r=e[1].slice(t+1).trim();return r?[i,...jA(r)]:[i]}return[]}function Zx(n,e){let t=document.createElement("div");e.appendChild(t),t.style.setProperty("margin-top","0px","important"),t.style.setProperty("margin-top",n,"important");let i=parseFloat(window.getComputedStyle(t).marginTop)||0;return e.removeChild(t),i}let X1=C.createContext(null);X1.displayName="OpenClosedContext";var uu=(n=>(n[n.Open=1]="Open",n[n.Closed=2]="Closed",n[n.Closing=4]="Closing",n[n.Opening=8]="Opening",n))(uu||{});function dL(){return C.useContext(X1)}function hL({value:n,children:e}){return Me.createElement(X1.Provider,{value:n},e)}function fL(n){throw new Error("Unexpected object: "+n)}var At=(n=>(n[n.First=0]="First",n[n.Previous=1]="Previous",n[n.Next=2]="Next",n[n.Last=3]="Last",n[n.Specific=4]="Specific",n[n.Nothing=5]="Nothing",n))(At||{});function Zm(n,e){let t=e.resolveItems();if(t.length<=0)return null;let i=e.resolveActiveIndex(),r=i??-1;switch(n.focus){case 0:{for(let s=0;s<t.length;++s)if(!e.resolveDisabled(t[s],s,t))return s;return i}case 1:{r===-1&&(r=t.length);for(let s=r-1;s>=0;--s)if(!e.resolveDisabled(t[s],s,t))return s;return i}case 2:{for(let s=r+1;s<t.length;++s)if(!e.resolveDisabled(t[s],s,t))return s;return i}case 3:{for(let s=t.length-1;s>=0;--s)if(!e.resolveDisabled(t[s],s,t))return s;return i}case 4:{for(let s=0;s<t.length;++s)if(e.resolveId(t[s],s,t)===n.id)return s;return i}case 5:return null;default:fL(n)}}function pL(n){let e=Ne(n),t=C.useRef(!1);C.useEffect(()=>(t.current=!1,()=>{t.current=!0,dA(()=>{t.current&&e()})}),[e])}function mL(){let n=typeof document>"u";return"useSyncExternalStore"in Af?(e=>e.useSyncExternalStore)(Af)(()=>()=>{},()=>!1,()=>!n):!1}function gL(){let n=mL(),[e,t]=C.useState(zo.isHandoffComplete);return e&&zo.isHandoffComplete===!1&&t(!1),C.useEffect(()=>{e!==!0&&t(!0)},[e]),C.useEffect(()=>zo.handoff(),[]),n?!1:e}let vL=C.createContext(!1);function yL(){return C.useContext(vL)}function xL(n){let e=yL(),t=C.useContext(HA),i=U1(n),[r,s]=C.useState(()=>{var o;if(!e&&t!==null)return(o=t.current)!=null?o:null;if(zo.isServer)return null;let a=i==null?void 0:i.getElementById("headlessui-portal-root");if(a)return a;if(i===null)return null;let l=i.createElement("div");return l.setAttribute("id","headlessui-portal-root"),i.body.appendChild(l)});return C.useEffect(()=>{r!==null&&(i!=null&&i.body.contains(r)||i==null||i.body.appendChild(r))},[r,i]),C.useEffect(()=>{e||t!==null&&s(t.current)},[t,s,e]),r}let $A=C.Fragment,wL=Dn(function(n,e){let t=n,i=C.useRef(null),r=Tr(aR(d=>{i.current=d}),e),s=U1(i),o=xL(i),[a]=C.useState(()=>{var d;return zo.isServer?null:(d=s==null?void 0:s.createElement("div"))!=null?d:null}),l=C.useContext(SL),u=gL();return je(()=>{!o||!a||o.contains(a)||(a.setAttribute("data-headlessui-portal",""),o.appendChild(a))},[o,a]),je(()=>{if(a&&l)return l.register(a)},[l,a]),pL(()=>{var d;!o||!a||(a instanceof Node&&o.contains(a)&&o.removeChild(a),o.childNodes.length<=0&&((d=o.parentElement)==null||d.removeChild(o)))}),u?!o||!a?null:Pn.createPortal(Fn({ourProps:{ref:r},theirProps:t,slot:{},defaultTag:$A,name:"Portal"}),a):null});function bL(n,e){let t=Tr(e),{enabled:i=!0,...r}=n;return i?Me.createElement(wL,{...r,ref:t}):Fn({ourProps:{ref:t},theirProps:r,slot:{},defaultTag:$A,name:"Portal"})}let EL=C.Fragment,HA=C.createContext(null);function AL(n,e){let{target:t,...i}=n,r={ref:Tr(e)};return Me.createElement(HA.Provider,{value:t},Fn({ourProps:r,theirProps:i,defaultTag:EL,name:"Popover.Group"}))}let SL=C.createContext(null),CL=Dn(bL),_L=Dn(AL),kL=Object.assign(CL,{Group:_L});function TL(n,e){let t=C.useRef({left:0,top:0});if(je(()=>{let r=e.current;if(!r)return;let s=r.getBoundingClientRect();s&&(t.current=s)},[n]),e.current==null||!n||e.current===document.activeElement)return!1;let i=e.current.getBoundingClientRect();return i.top!==t.current.top||i.left!==t.current.left}let Jx=/([\u2700-\u27BF]|[\uE000-\uF8FF]|\uD83C[\uDC00-\uDFFF]|\uD83D[\uDC00-\uDFFF]|[\u2011-\u26FF]|\uD83E[\uDD10-\uDDFF])/g;function ew(n){var e,t;let i=(e=n.innerText)!=null?e:"",r=n.cloneNode(!0);if(!(r instanceof HTMLElement))return i;let s=!1;for(let a of r.querySelectorAll('[hidden],[aria-hidden],[role="img"]'))a.remove(),s=!0;let o=s?(t=r.innerText)!=null?t:"":i;return Jx.test(o)&&(o=o.replace(Jx,"")),o}function RL(n){let e=n.getAttribute("aria-label");if(typeof e=="string")return e.trim();let t=n.getAttribute("aria-labelledby");if(t){let i=t.split(" ").map(r=>{let s=document.getElementById(r);if(s){let o=s.getAttribute("aria-label");return typeof o=="string"?o.trim():ew(s).trim()}return null}).filter(Boolean);if(i.length>0)return i.join(", ")}return ew(n).trim()}function PL(n){let e=C.useRef(""),t=C.useRef("");return Ne(()=>{let i=n.current;if(!i)return"";let r=i.innerText;if(e.current===r)return t.current;let s=RL(i).trim().toLowerCase();return e.current=r,t.current=s,s})}var LL=(n=>(n[n.Open=0]="Open",n[n.Closed=1]="Closed",n))(LL||{}),NL=(n=>(n[n.Pointer=0]="Pointer",n[n.Other=1]="Other",n))(NL||{}),ML=(n=>(n[n.OpenMenu=0]="OpenMenu",n[n.CloseMenu=1]="CloseMenu",n[n.GoToItem=2]="GoToItem",n[n.Search=3]="Search",n[n.ClearSearch=4]="ClearSearch",n[n.RegisterItem=5]="RegisterItem",n[n.UnregisterItem=6]="UnregisterItem",n))(ML||{});function Jm(n,e=t=>t){let t=n.activeItemIndex!==null?n.items[n.activeItemIndex]:null,i=EA(e(n.items.slice()),s=>s.dataRef.current.domRef.current),r=t?i.indexOf(t):null;return r===-1&&(r=null),{items:i,activeItemIndex:r}}let FL={1(n){return n.menuState===1?n:{...n,activeItemIndex:null,menuState:1}},0(n){return n.menuState===0?n:{...n,__demoMode:!1,menuState:0}},2:(n,e)=>{var t,i,r,s,o;if(n.menuState===1)return n;let a={...n,searchQuery:"",activationTrigger:(t=e.trigger)!=null?t:1,__demoMode:!1};if(e.focus===At.Nothing)return{...a,activeItemIndex:null};if(e.focus===At.Specific)return{...a,activeItemIndex:n.items.findIndex(d=>d.id===e.id)};if(e.focus===At.Previous){let d=n.activeItemIndex;if(d!==null){let h=n.items[d].dataRef.current.domRef,f=Zm(e,{resolveItems:()=>n.items,resolveActiveIndex:()=>n.activeItemIndex,resolveId:p=>p.id,resolveDisabled:p=>p.dataRef.current.disabled});if(f!==null){let p=n.items[f].dataRef.current.domRef;if(((i=h.current)==null?void 0:i.previousElementSibling)===p.current||((r=p.current)==null?void 0:r.previousElementSibling)===null)return{...a,activeItemIndex:f}}}}else if(e.focus===At.Next){let d=n.activeItemIndex;if(d!==null){let h=n.items[d].dataRef.current.domRef,f=Zm(e,{resolveItems:()=>n.items,resolveActiveIndex:()=>n.activeItemIndex,resolveId:p=>p.id,resolveDisabled:p=>p.dataRef.current.disabled});if(f!==null){let p=n.items[f].dataRef.current.domRef;if(((s=h.current)==null?void 0:s.nextElementSibling)===p.current||((o=p.current)==null?void 0:o.nextElementSibling)===null)return{...a,activeItemIndex:f}}}}let l=Jm(n),u=Zm(e,{resolveItems:()=>l.items,resolveActiveIndex:()=>l.activeItemIndex,resolveId:d=>d.id,resolveDisabled:d=>d.dataRef.current.disabled});return{...a,...l,activeItemIndex:u}},3:(n,e)=>{let t=n.searchQuery!==""?0:1,i=n.searchQuery+e.value.toLowerCase(),r=(n.activeItemIndex!==null?n.items.slice(n.activeItemIndex+t).concat(n.items.slice(0,n.activeItemIndex+t)):n.items).find(o=>{var a;return((a=o.dataRef.current.textValue)==null?void 0:a.startsWith(i))&&!o.dataRef.current.disabled}),s=r?n.items.indexOf(r):-1;return s===-1||s===n.activeItemIndex?{...n,searchQuery:i}:{...n,searchQuery:i,activeItemIndex:s,activationTrigger:1}},4(n){return n.searchQuery===""?n:{...n,searchQuery:"",searchActiveItemIndex:null}},5:(n,e)=>{let t=Jm(n,i=>[...i,{id:e.id,dataRef:e.dataRef}]);return{...n,...t}},6:(n,e)=>{let t=Jm(n,i=>{let r=i.findIndex(s=>s.id===e.id);return r!==-1&&i.splice(r,1),i});return{...n,...t,activationTrigger:1}}},K1=C.createContext(null);K1.displayName="MenuContext";function em(n){let e=C.useContext(K1);if(e===null){let t=new Error(`<${n} /> is missing a parent <Menu /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(t,em),t}return e}function DL(n,e){return th(e.type,FL,n,e)}let IL=C.Fragment;function OL(n,e){let{__demoMode:t=!1,...i}=n,r=C.useReducer(DL,{__demoMode:t,menuState:t?0:1,buttonRef:C.createRef(),itemsRef:C.createRef(),items:[],searchQuery:"",activeItemIndex:null,activationTrigger:1}),[{menuState:s,itemsRef:o,buttonRef:a},l]=r,u=Tr(e);DR(s===0,[a,o],(p,m)=>{var v;l({type:1}),z1(m,B1.Loose)||(p.preventDefault(),(v=a.current)==null||v.focus())});let d=Ne(()=>{l({type:1})}),h=C.useMemo(()=>({open:s===0,close:d}),[s,d]),f={ref:u};return Me.createElement(lL,null,Me.createElement(K1.Provider,{value:r},Me.createElement(hL,{value:th(s,{0:uu.Open,1:uu.Closed})},Fn({ourProps:f,theirProps:i,slot:h,defaultTag:IL,name:"Menu"}))))}let jL="button";function $L(n,e){var t;let i=C.useId(),{id:r=`headlessui-menu-button-${i}`,disabled:s=!1,autoFocus:o=!1,...a}=n,[l,u]=em("Menu.Button"),d=sL(),h=Tr(l.buttonRef,e,rL()),f=Ne(R=>{switch(R.key){case ht.Space:case ht.Enter:case ht.ArrowDown:R.preventDefault(),R.stopPropagation(),Pn.flushSync(()=>u({type:0})),u({type:2,focus:At.First});break;case ht.ArrowUp:R.preventDefault(),R.stopPropagation(),Pn.flushSync(()=>u({type:0})),u({type:2,focus:At.Last});break}}),p=Ne(R=>{switch(R.key){case ht.Space:R.preventDefault();break}}),m=Ne(R=>{var L;if(sR(R.currentTarget))return R.preventDefault();s||(l.menuState===0?(Pn.flushSync(()=>u({type:1})),(L=l.buttonRef.current)==null||L.focus({preventScroll:!0})):(R.preventDefault(),u({type:0})))}),{isFocusVisible:v,focusProps:b}=qT({autoFocus:o}),{isHovered:g,hoverProps:y}=GT({isDisabled:s}),{pressed:x,pressProps:_}=JT({disabled:s}),k=C.useMemo(()=>({open:l.menuState===0,active:x||l.menuState===0,disabled:s,hover:g,focus:v,autofocus:o}),[l,g,v,x,s,o]),T=pA(d(),{ref:h,id:r,type:IR(n,l.buttonRef),"aria-haspopup":"menu","aria-controls":(t=l.itemsRef.current)==null?void 0:t.id,"aria-expanded":l.menuState===0,disabled:s||void 0,autoFocus:o,onKeyDown:f,onKeyUp:p,onClick:m},b,y,_);return Fn({ourProps:T,theirProps:a,slot:k,defaultTag:jL,name:"Menu.Button"})}let HL="div",BL=u0.RenderStrategy|u0.Static;function zL(n,e){var t,i;let r=C.useId(),{id:s=`headlessui-menu-items-${r}`,anchor:o,portal:a=!1,modal:l=!0,transition:u=!1,...d}=n,h=iL(o),[f,p]=em("Menu.Items"),[m,v]=aL(h),b=oL(),g=Tr(f.itemsRef,e,h?m:null),y=U1(f.itemsRef);h&&(a=!0);let x=dL(),[_,k]=XR(u,f.itemsRef,x!==null?(x&uu.Open)===uu.Open:f.menuState===0);bR(_,f.buttonRef,()=>{p({type:1})});let T=f.__demoMode?!1:l&&f.menuState===0;zR(T,y);let R=f.__demoMode?!1:l&&f.menuState===0;wR(R,{allowed:Ne(()=>[f.buttonRef.current,f.itemsRef.current])});let L=f.menuState!==0,D=TL(L,f.buttonRef)?!1:_;C.useEffect(()=>{let $=f.itemsRef.current;$&&f.menuState===0&&$!==(y==null?void 0:y.activeElement)&&$.focus({preventScroll:!0})},[f.menuState,f.itemsRef,y,f.itemsRef.current]),ZR(f.menuState===0,{container:f.itemsRef.current,accept($){return $.getAttribute("role")==="menuitem"?NodeFilter.FILTER_REJECT:$.hasAttribute("role")?NodeFilter.FILTER_SKIP:NodeFilter.FILTER_ACCEPT},walk($){$.setAttribute("role","none")}});let F=Kp(),O=Ne($=>{var se,I,N;switch(F.dispose(),$.key){case ht.Space:if(f.searchQuery!=="")return $.preventDefault(),$.stopPropagation(),p({type:3,value:$.key});case ht.Enter:if($.preventDefault(),$.stopPropagation(),p({type:1}),f.activeItemIndex!==null){let{dataRef:B}=f.items[f.activeItemIndex];(I=(se=B.current)==null?void 0:se.domRef.current)==null||I.click()}bA(f.buttonRef.current);break;case ht.ArrowDown:return $.preventDefault(),$.stopPropagation(),p({type:2,focus:At.Next});case ht.ArrowUp:return $.preventDefault(),$.stopPropagation(),p({type:2,focus:At.Previous});case ht.Home:case ht.PageUp:return $.preventDefault(),$.stopPropagation(),p({type:2,focus:At.First});case ht.End:case ht.PageDown:return $.preventDefault(),$.stopPropagation(),p({type:2,focus:At.Last});case ht.Escape:$.preventDefault(),$.stopPropagation(),Pn.flushSync(()=>p({type:1})),(N=f.buttonRef.current)==null||N.focus({preventScroll:!0});break;case ht.Tab:$.preventDefault(),$.stopPropagation(),Pn.flushSync(()=>p({type:1})),PR(f.buttonRef.current,$.shiftKey?f0.Previous:f0.Next);break;default:$.key.length===1&&(p({type:3,value:$.key}),F.setTimeout(()=>p({type:4}),350));break}}),Y=Ne($=>{switch($.key){case ht.Space:$.preventDefault();break}}),X=C.useMemo(()=>({open:f.menuState===0}),[f.menuState]),K=pA(h?b():{},{"aria-activedescendant":f.activeItemIndex===null||(t=f.items[f.activeItemIndex])==null?void 0:t.id,"aria-labelledby":(i=f.buttonRef.current)==null?void 0:i.id,id:s,onKeyDown:O,onKeyUp:Y,role:"menu",tabIndex:f.menuState===0?0:void 0,ref:g,style:{...d.style,...v,"--button-width":vR(f.buttonRef,!0).width},...qR(k)});return Me.createElement(kL,{enabled:a?n.static||_:!1},Fn({ourProps:K,theirProps:d,slot:X,defaultTag:HL,features:BL,visible:D,name:"Menu.Items"}))}let UL=C.Fragment;function VL(n,e){let t=C.useId(),{id:i=`headlessui-menu-item-${t}`,disabled:r=!1,...s}=n,[o,a]=em("Menu.Item"),l=o.activeItemIndex!==null?o.items[o.activeItemIndex].id===i:!1,u=C.useRef(null),d=Tr(e,u);je(()=>{if(!o.__demoMode&&o.menuState===0&&l&&o.activationTrigger!==0)return Ni().requestAnimationFrame(()=>{var D,F;(F=(D=u.current)==null?void 0:D.scrollIntoView)==null||F.call(D,{block:"nearest"})})},[o.__demoMode,u,l,o.menuState,o.activationTrigger,o.activeItemIndex]);let h=PL(u),f=C.useRef({disabled:r,domRef:u,get textValue(){return h()}});je(()=>{f.current.disabled=r},[f,r]),je(()=>(a({type:5,id:i,dataRef:f}),()=>a({type:6,id:i})),[f,i]);let p=Ne(()=>{a({type:1})}),m=Ne(D=>{if(r)return D.preventDefault();a({type:1}),bA(o.buttonRef.current)}),v=Ne(()=>{if(r)return a({type:2,focus:At.Nothing});a({type:2,focus:At.Specific,id:i})}),b=UR(),g=Ne(D=>{b.update(D),!r&&(l||a({type:2,focus:At.Specific,id:i,trigger:0}))}),y=Ne(D=>{b.wasMoved(D)&&(r||l||a({type:2,focus:At.Specific,id:i,trigger:0}))}),x=Ne(D=>{b.wasMoved(D)&&(r||l&&a({type:2,focus:At.Nothing}))}),[_,k]=vA(),[T,R]=lR(),L=C.useMemo(()=>({active:l,focus:l,disabled:r,close:p}),[l,r,p]);return Me.createElement(k,null,Me.createElement(R,null,Fn({ourProps:{id:i,ref:d,role:"menuitem",tabIndex:r===!0?void 0:-1,"aria-disabled":r===!0?!0:void 0,"aria-labelledby":_,"aria-describedby":T,disabled:void 0,onClick:m,onFocus:v,onPointerEnter:g,onMouseEnter:g,onPointerMove:y,onMouseMove:y,onPointerLeave:x,onMouseLeave:x},theirProps:s,slot:L,defaultTag:UL,name:"Menu.Item"})))}let WL="div";function GL(n,e){let[t,i]=vA();return Me.createElement(i,null,Fn({ourProps:{ref:e,"aria-labelledby":t,role:"group"},theirProps:n,slot:{},defaultTag:WL,name:"Menu.Section"}))}let qL="header";function XL(n,e){let t=C.useId(),{id:i=`headlessui-menu-heading-${t}`,...r}=n,s=$1();je(()=>s.register(i),[i,s.register]);let o={id:i,ref:e,role:"presentation",...s.props};return Fn({ourProps:o,theirProps:r,slot:{},defaultTag:qL,name:"Menu.Heading"})}let KL="div";function YL(n,e){return Fn({ourProps:{ref:e,role:"separator"},theirProps:n,slot:{},defaultTag:KL,name:"Menu.Separator"})}let QL=Dn(OL),BA=Dn($L),zA=Dn(zL),Xh=Dn(VL),ZL=Dn(GL),JL=Dn(XL),e4=Dn(YL),t4=Object.assign(QL,{Button:BA,Items:zA,Item:Xh,Section:ZL,Heading:JL,Separator:e4});function n4({title:n,titleId:e,...t},i){return C.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":e},t),n?C.createElement("title",{id:e},n):null,C.createElement("path",{fillRule:"evenodd",d:"M5.22 8.22a.75.75 0 0 1 1.06 0L10 11.94l3.72-3.72a.75.75 0 1 1 1.06 1.06l-4.25 4.25a.75.75 0 0 1-1.06 0L5.22 9.28a.75.75 0 0 1 0-1.06Z",clipRule:"evenodd"}))}const i4=C.forwardRef(n4);function r4(){return w.jsx("div",{className:"relative flex size-full min-h-screen flex-col bg-[#F9FAFA] group/design-root overflow-x-hidden",style:{"--checkbox-tick-svg":"url('data:image/svg+xml,%3csvg viewBox=%270 0 16 16%27 fill=%27rgb(249,250,250)%27 xmlns=%27http://www.w3.org/2000/svg%27%3e%3cpath d=%27M12.207 4.793a1 1 0 010 1.414l-5 5a1 1 0 01-1.414 0l-2-2a1 1 0 011.414-1.414L6.5 9.086l4.293-4.293a1 1 0 011.414 0z%27/%3e%3c/svg%3e')",fontFamily:'"Public Sans", "Noto Sans", sans-serif'},children:w.jsxs("div",{className:"layout-container flex h-full grow flex-col",children:[w.jsxs("header",{className:"flex items-center justify-between whitespace-nowrap border-b border-solid border-b-[#EEEFF2] px-10 py-3",children:[w.jsx("div",{className:"flex items-center gap-4 text-[#1C1D22]",children:w.jsx("h2",{className:"text-[#1C1D22] text-lg font-bold leading-tight tracking-[-0.015em]",children:"Healthcare"})}),w.jsxs("div",{className:"flex flex-1 justify-end gap-8",children:[w.jsxs("div",{className:"flex items-center gap-9",children:[w.jsx("a",{className:"text-[#1C1D22] text-sm font-medium leading-normal",href:"#",children:"Dashboard"}),w.jsx("a",{className:"text-[#1C1D22] text-sm font-medium leading-normal",href:"#",children:"Patients"}),w.jsx("a",{className:"text-[#1C1D22] text-sm font-medium leading-normal",href:"#",children:"Appointments"}),w.jsx("a",{className:"text-[#1C1D22] text-sm font-medium leading-normal",href:"#",children:"More"})]}),w.jsxs("div",{className:"flex gap-2",children:[w.jsx("button",{className:"flex max-w-[480px] cursor-pointer items-center justify-center overflow-hidden rounded-xl h-10 bg-[#EEEFF2] text-[#1C1D22] gap-2 text-sm font-bold leading-normal tracking-[0.015em] min-w-0 px-2.5",children:w.jsx("div",{className:"text-[#1C1D22]","data-icon":"MagnifyingGlass","data-size":"20px","data-weight":"regular",children:w.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20px",height:"20px",fill:"currentColor",viewBox:"0 0 256 256",children:w.jsx("path",{d:"M229.66,218.34l-50.07-50.06a88.11,88.11,0,1,0-11.31,11.31l50.06,50.07a8,8,0,0,0,11.32-11.32ZM40,112a72,72,0,1,1,72,72A72.08,72.08,0,0,1,40,112Z"})})})}),w.jsx("button",{className:"flex max-w-[480px] cursor-pointer items-center justify-center overflow-hidden rounded-xl h-10 bg-[#EEEFF2] text-[#1C1D22] gap-2 text-sm font-bold leading-normal tracking-[0.015em] min-w-0 px-2.5",children:w.jsx("div",{className:"text-[#1C1D22]","data-icon":"Bell","data-size":"20px","data-weight":"regular",children:w.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20px",height:"20px",fill:"currentColor",viewBox:"0 0 256 256",children:w.jsx("path",{d:"M221.8,175.94C216.25,166.38,208,139.33,208,104a80,80,0,1,0-160,0c0,35.34-8.26,62.38-13.81,71.94A16,16,0,0,0,48,200H88.81a40,40,0,0,0,78.38,0H208a16,16,0,0,0,13.8-24.06ZM128,216a24,24,0,0,1-22.62-16h45.24A24,24,0,0,1,128,216ZM48,184c7.7-13.24,16-43.92,16-80a64,64,0,1,1,128,0c0,36.05,8.28,66.73,16,80Z"})})})})]}),w.jsx("div",{className:"bg-center bg-no-repeat aspect-square bg-cover rounded-full size-10",style:{backgroundImage:'url("https://cdn.usegalileo.ai/stability/3ff28297-380f-4f51-aac1-1fcac1b0d3bb.png")'}})]})]}),w.jsx("div",{className:"px-40 flex flex-1 justify-center py-5",children:w.jsxs("div",{className:"layout-content-container flex flex-col w-[512px] max-w-[512px] py-5 max-w-[960px] flex-1",children:[w.jsx("h3",{className:"text-[#1C1D22] tracking-light text-2xl font-bold leading-tight px-4 text-left pb-2 pt-5",children:"Add a new patient"}),w.jsx("p",{className:"text-[#1C1D22] text-base font-normal leading-normal pb-3 pt-1 px-4",children:"Enter the details of the patient you'd like to add to your practice"}),w.jsx("div",{className:"flex max-w-[480px] flex-1 flex-wrap items-end gap-4 px-4 py-3",children:w.jsxs("label",{className:"flex flex-col min-w-40 flex-1",children:[w.jsx("p",{className:"text-[#1C1D22] text-base font-medium leading-normal pb-2",children:"First name"}),w.jsx("input",{placeholder:"Type first name",className:"form-input flex w-full min-w-0 flex-1 resize-none overflow-hidden rounded-xl text-[#1C1D22] focus:outline-0 focus:ring-0 border border-[#D5D6DD] bg-[#FFFFFF] focus:border-[#D5D6DD] h-14 placeholder:text-[#3C3F4A] p-[15px] text-base font-normal leading-normal",value:""})]})}),w.jsx("div",{className:"flex max-w-[480px] flex-1 flex-wrap items-end gap-4 px-4 py-3",children:w.jsxs("label",{className:"flex flex-col min-w-40 flex-1",children:[w.jsx("p",{className:"text-[#1C1D22] text-base font-medium leading-normal pb-2",children:"Last name"}),w.jsx("input",{placeholder:"Type last name",className:"form-input flex w-full min-w-0 flex-1 resize-none overflow-hidden rounded-xl text-[#1C1D22] focus:outline-0 focus:ring-0 border border-[#D5D6DD] bg-[#FFFFFF] focus:border-[#D5D6DD] h-14 placeholder:text-[#3C3F4A] p-[15px] text-base font-normal leading-normal",value:""})]})}),w.jsx("div",{className:"flex max-w-[480px] flex-1 flex-wrap items-end gap-4 px-4 py-3",children:w.jsxs("label",{className:"flex flex-col min-w-40 flex-1",children:[w.jsx("p",{className:"text-[#1C1D22] text-base font-medium leading-normal pb-2",children:"Date of birth"}),w.jsx("input",{placeholder:"MM / DD / YYYY",className:"form-input flex w-full min-w-0 flex-1 resize-none overflow-hidden rounded-xl text-[#1C1D22] focus:outline-0 focus:ring-0 border border-[#D5D6DD] bg-[#FFFFFF] focus:border-[#D5D6DD] h-14 placeholder:text-[#3C3F4A] p-[15px] text-base font-normal leading-normal",value:""})]})}),w.jsx("div",{className:"flex max-w-[480px] flex-1 flex-wrap items-end gap-4 px-4 py-3",children:w.jsxs("label",{className:"flex flex-col min-w-40 flex-1",children:[w.jsx("p",{className:"text-[#1C1D22] text-base font-medium leading-normal pb-2",children:"Gender"}),w.jsxs("div",{className:"flex w-full flex-1 items-stretch rounded-xl",children:[w.jsx("input",{placeholder:"Select gender",className:"form-input flex w-full min-w-0 flex-1 resize-none overflow-hidden rounded-xl text-[#1C1D22] focus:outline-0 focus:ring-0 border border-[#D5D6DD] bg-[#FFFFFF] focus:border-[#D5D6DD] h-14 placeholder:text-[#3C3F4A] p-[15px] rounded-r-none border-r-0 pr-2 text-base font-normal leading-normal",value:""}),w.jsx("div",{className:"text-[#3C3F4A] flex border border-[#D5D6DD] bg-[#FFFFFF] items-center justify-center pr-[15px] rounded-r-xl border-l-0","data-icon":"CaretUpDown","data-size":"24px","data-weight":"regular",children:w.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24px",height:"24px",fill:"currentColor",viewBox:"0 0 256 256",children:w.jsx("path",{d:"M181.66,170.34a8,8,0,0,1,0,11.32l-48,48a8,8,0,0,1-11.32,0l-48-48a8,8,0,0,1,11.32-11.32L128,212.69l42.34-42.35A8,8,0,0,1,181.66,170.34Zm-96-84.68L128,43.31l42.34,42.35a8,8,0,0,0,11.32-11.32l-48-48a8,8,0,0,0-11.32,0l-48,48A8,8,0,0,0,85.66,85.66Z"})})})]})]})}),w.jsx("div",{className:"flex max-w-[480px] flex-1 flex-wrap items-end gap-4 px-4 py-3",children:w.jsxs("label",{className:"flex flex-col min-w-40 flex-1",children:[w.jsx("p",{className:"text-[#1C1D22] text-base font-medium leading-normal pb-2",children:"Weight (lbs)"}),w.jsx("input",{placeholder:"Type weight",className:"form-input flex w-full min-w-0 flex-1 resize-none overflow-hidden rounded-xl text-[#1C1D22] focus:outline-0 focus:ring-0 border border-[#D5D6DD] bg-[#FFFFFF] focus:border-[#D5D6DD] h-14 placeholder:text-[#3C3F4A] p-[15px] text-base font-normal leading-normal",value:""})]})}),w.jsx("div",{className:"flex max-w-[480px] flex-1 flex-wrap items-end gap-4 px-4 py-3",children:w.jsxs("label",{className:"flex flex-col min-w-40 flex-1",children:[w.jsx("p",{className:"text-[#1C1D22] text-base font-medium leading-normal pb-2",children:"Phone number"}),w.jsx("input",{placeholder:"(555) 555-5555",className:"form-input flex w-full min-w-0 flex-1 resize-none overflow-hidden rounded-xl text-[#1C1D22] focus:outline-0 focus:ring-0 border border-[#D5D6DD] bg-[#FFFFFF] focus:border-[#D5D6DD] h-14 placeholder:text-[#3C3F4A] p-[15px] text-base font-normal leading-normal",value:""})]})}),w.jsx("div",{className:"px-4",children:w.jsxs("label",{className:"flex gap-x-3 py-3 flex-row",children:[w.jsx("input",{type:"checkbox",className:"h-5 w-5 rounded border-[#D5D6DD] border-2 bg-transparent text-[#607AFB] checked:bg-[#607AFB] checked:border-[#607AFB] focus:ring-0 focus:ring-offset-0 focus:border-[#D5D6DD] focus:outline-none",defaultChecked:!0}),w.jsx("p",{className:"text-[#1C1D22] text-base font-normal leading-normal",children:"Patient has an email address"})]})}),w.jsx("div",{className:"flex px-4 py-3",children:w.jsx("button",{className:"flex min-w-[84px] max-w-[480px] cursor-pointer items-center justify-center overflow-hidden rounded-xl h-12 px-5 flex-1 bg-[#607AFB] text-[#F9FAFA] text-base font-bold leading-normal tracking-[0.015em]",children:w.jsx("span",{className:"truncate",children:"Save patient"})})})]})})]})})}function eg(...n){return n.filter(Boolean).join(" ")}function s4(n){function e(){n.setEditPatients(!n.editPatients),n.setDeletePatients(!1)}function t(){n.setDeletePatients(!n.deletePatients),n.setEditPatients(!1)}const i=Qd();return w.jsxs(t4,{as:"div",className:"relative inline-block text-left",children:[w.jsx("div",{children:w.jsxs(BA,{className:"inline-flex w-full justify-center gap-x-1.5 rounded-md bg-white px-3 py-2 text-sm font-semibold text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 hover:bg-gray-50",children:["Manage patients",w.jsx(i4,{className:"-mr-1 h-5 w-5 text-gray-400","aria-hidden":"true"})]})}),w.jsx(zA,{transition:!0,className:"absolute right-0 z-10 mt-2 w-56 origin-top-right rounded-md bg-white shadow-lg ring-1 ring-black ring-opacity-5 transition focus:outline-none data-[closed]:scale-95 data-[closed]:transform data-[closed]:opacity-0 data-[enter]:duration-100 data-[leave]:duration-75 data-[enter]:ease-out data-[leave]:ease-in",children:w.jsxs("div",{className:"py-1",children:[w.jsx(Xh,{children:({focus:r})=>w.jsx("a",{onClick:()=>i("/form"),className:eg(r?"bg-gray-100 text-gray-900":"text-gray-700","block px-4 py-2 text-sm"),children:"Add Patient"})}),w.jsx(Xh,{children:({focus:r})=>w.jsx("a",{onClick:e,className:eg(r?"bg-gray-100 text-gray-900":"text-gray-700","block px-4 py-2 text-sm"),children:"Edit Patient"})}),w.jsx(Xh,{children:({focus:r})=>w.jsx("a",{onClick:t,className:eg(r?"bg-gray-100 text-gray-900":"text-gray-700","block px-4 py-2 text-sm"),children:"Remove Patient"})})]})})]})}function UA(n,e){return function(){return n.apply(e,arguments)}}const{toString:o4}=Object.prototype,{getPrototypeOf:Y1}=Object,tm=(n=>e=>{const t=o4.call(e);return n[t]||(n[t]=t.slice(8,-1).toLowerCase())})(Object.create(null)),si=n=>(n=n.toLowerCase(),e=>tm(e)===n),nm=n=>e=>typeof e===n,{isArray:Yl}=Array,du=nm("undefined");function a4(n){return n!==null&&!du(n)&&n.constructor!==null&&!du(n.constructor)&&Ln(n.constructor.isBuffer)&&n.constructor.isBuffer(n)}const VA=si("ArrayBuffer");function l4(n){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(n):e=n&&n.buffer&&VA(n.buffer),e}const c4=nm("string"),Ln=nm("function"),WA=nm("number"),im=n=>n!==null&&typeof n=="object",u4=n=>n===!0||n===!1,Kh=n=>{if(tm(n)!=="object")return!1;const e=Y1(n);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in n)&&!(Symbol.iterator in n)},d4=si("Date"),h4=si("File"),f4=si("Blob"),p4=si("FileList"),m4=n=>im(n)&&Ln(n.pipe),g4=n=>{let e;return n&&(typeof FormData=="function"&&n instanceof FormData||Ln(n.append)&&((e=tm(n))==="formdata"||e==="object"&&Ln(n.toString)&&n.toString()==="[object FormData]"))},v4=si("URLSearchParams"),[y4,x4,w4,b4]=["ReadableStream","Request","Response","Headers"].map(si),E4=n=>n.trim?n.trim():n.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function rh(n,e,{allOwnKeys:t=!1}={}){if(n===null||typeof n>"u")return;let i,r;if(typeof n!="object"&&(n=[n]),Yl(n))for(i=0,r=n.length;i<r;i++)e.call(null,n[i],i,n);else{const s=t?Object.getOwnPropertyNames(n):Object.keys(n),o=s.length;let a;for(i=0;i<o;i++)a=s[i],e.call(null,n[a],a,n)}}function GA(n,e){e=e.toLowerCase();const t=Object.keys(n);let i=t.length,r;for(;i-- >0;)if(r=t[i],e===r.toLowerCase())return r;return null}const qA=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,XA=n=>!du(n)&&n!==qA;function g0(){const{caseless:n}=XA(this)&&this||{},e={},t=(i,r)=>{const s=n&&GA(e,r)||r;Kh(e[s])&&Kh(i)?e[s]=g0(e[s],i):Kh(i)?e[s]=g0({},i):Yl(i)?e[s]=i.slice():e[s]=i};for(let i=0,r=arguments.length;i<r;i++)arguments[i]&&rh(arguments[i],t);return e}const A4=(n,e,t,{allOwnKeys:i}={})=>(rh(e,(r,s)=>{t&&Ln(r)?n[s]=UA(r,t):n[s]=r},{allOwnKeys:i}),n),S4=n=>(n.charCodeAt(0)===65279&&(n=n.slice(1)),n),C4=(n,e,t,i)=>{n.prototype=Object.create(e.prototype,i),n.prototype.constructor=n,Object.defineProperty(n,"super",{value:e.prototype}),t&&Object.assign(n.prototype,t)},_4=(n,e,t,i)=>{let r,s,o;const a={};if(e=e||{},n==null)return e;do{for(r=Object.getOwnPropertyNames(n),s=r.length;s-- >0;)o=r[s],(!i||i(o,n,e))&&!a[o]&&(e[o]=n[o],a[o]=!0);n=t!==!1&&Y1(n)}while(n&&(!t||t(n,e))&&n!==Object.prototype);return e},k4=(n,e,t)=>{n=String(n),(t===void 0||t>n.length)&&(t=n.length),t-=e.length;const i=n.indexOf(e,t);return i!==-1&&i===t},T4=n=>{if(!n)return null;if(Yl(n))return n;let e=n.length;if(!WA(e))return null;const t=new Array(e);for(;e-- >0;)t[e]=n[e];return t},R4=(n=>e=>n&&e instanceof n)(typeof Uint8Array<"u"&&Y1(Uint8Array)),P4=(n,e)=>{const i=(n&&n[Symbol.iterator]).call(n);let r;for(;(r=i.next())&&!r.done;){const s=r.value;e.call(n,s[0],s[1])}},L4=(n,e)=>{let t;const i=[];for(;(t=n.exec(e))!==null;)i.push(t);return i},N4=si("HTMLFormElement"),M4=n=>n.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(t,i,r){return i.toUpperCase()+r}),tw=(({hasOwnProperty:n})=>(e,t)=>n.call(e,t))(Object.prototype),F4=si("RegExp"),KA=(n,e)=>{const t=Object.getOwnPropertyDescriptors(n),i={};rh(t,(r,s)=>{let o;(o=e(r,s,n))!==!1&&(i[s]=o||r)}),Object.defineProperties(n,i)},D4=n=>{KA(n,(e,t)=>{if(Ln(n)&&["arguments","caller","callee"].indexOf(t)!==-1)return!1;const i=n[t];if(Ln(i)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+t+"'")})}})},I4=(n,e)=>{const t={},i=r=>{r.forEach(s=>{t[s]=!0})};return Yl(n)?i(n):i(String(n).split(e)),t},O4=()=>{},j4=(n,e)=>n!=null&&Number.isFinite(n=+n)?n:e,tg="abcdefghijklmnopqrstuvwxyz",nw="0123456789",YA={DIGIT:nw,ALPHA:tg,ALPHA_DIGIT:tg+tg.toUpperCase()+nw},$4=(n=16,e=YA.ALPHA_DIGIT)=>{let t="";const{length:i}=e;for(;n--;)t+=e[Math.random()*i|0];return t};function H4(n){return!!(n&&Ln(n.append)&&n[Symbol.toStringTag]==="FormData"&&n[Symbol.iterator])}const B4=n=>{const e=new Array(10),t=(i,r)=>{if(im(i)){if(e.indexOf(i)>=0)return;if(!("toJSON"in i)){e[r]=i;const s=Yl(i)?[]:{};return rh(i,(o,a)=>{const l=t(o,r+1);!du(l)&&(s[a]=l)}),e[r]=void 0,s}}return i};return t(n,0)},z4=si("AsyncFunction"),U4=n=>n&&(im(n)||Ln(n))&&Ln(n.then)&&Ln(n.catch),P={isArray:Yl,isArrayBuffer:VA,isBuffer:a4,isFormData:g4,isArrayBufferView:l4,isString:c4,isNumber:WA,isBoolean:u4,isObject:im,isPlainObject:Kh,isReadableStream:y4,isRequest:x4,isResponse:w4,isHeaders:b4,isUndefined:du,isDate:d4,isFile:h4,isBlob:f4,isRegExp:F4,isFunction:Ln,isStream:m4,isURLSearchParams:v4,isTypedArray:R4,isFileList:p4,forEach:rh,merge:g0,extend:A4,trim:E4,stripBOM:S4,inherits:C4,toFlatObject:_4,kindOf:tm,kindOfTest:si,endsWith:k4,toArray:T4,forEachEntry:P4,matchAll:L4,isHTMLForm:N4,hasOwnProperty:tw,hasOwnProp:tw,reduceDescriptors:KA,freezeMethods:D4,toObjectSet:I4,toCamelCase:M4,noop:O4,toFiniteNumber:j4,findKey:GA,global:qA,isContextDefined:XA,ALPHABET:YA,generateString:$4,isSpecCompliantForm:H4,toJSONObject:B4,isAsyncFn:z4,isThenable:U4};function J(n,e,t,i,r){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=n,this.name="AxiosError",e&&(this.code=e),t&&(this.config=t),i&&(this.request=i),r&&(this.response=r)}P.inherits(J,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:P.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});const QA=J.prototype,ZA={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(n=>{ZA[n]={value:n}});Object.defineProperties(J,ZA);Object.defineProperty(QA,"isAxiosError",{value:!0});J.from=(n,e,t,i,r,s)=>{const o=Object.create(QA);return P.toFlatObject(n,o,function(l){return l!==Error.prototype},a=>a!=="isAxiosError"),J.call(o,n.message,e,t,i,r),o.cause=n,o.name=n.name,s&&Object.assign(o,s),o};const V4=null;function v0(n){return P.isPlainObject(n)||P.isArray(n)}function JA(n){return P.endsWith(n,"[]")?n.slice(0,-2):n}function iw(n,e,t){return n?n.concat(e).map(function(r,s){return r=JA(r),!t&&s?"["+r+"]":r}).join(t?".":""):e}function W4(n){return P.isArray(n)&&!n.some(v0)}const G4=P.toFlatObject(P,{},null,function(e){return/^is[A-Z]/.test(e)});function rm(n,e,t){if(!P.isObject(n))throw new TypeError("target must be an object");e=e||new FormData,t=P.toFlatObject(t,{metaTokens:!0,dots:!1,indexes:!1},!1,function(v,b){return!P.isUndefined(b[v])});const i=t.metaTokens,r=t.visitor||d,s=t.dots,o=t.indexes,l=(t.Blob||typeof Blob<"u"&&Blob)&&P.isSpecCompliantForm(e);if(!P.isFunction(r))throw new TypeError("visitor must be a function");function u(m){if(m===null)return"";if(P.isDate(m))return m.toISOString();if(!l&&P.isBlob(m))throw new J("Blob is not supported. Use a Buffer instead.");return P.isArrayBuffer(m)||P.isTypedArray(m)?l&&typeof Blob=="function"?new Blob([m]):Buffer.from(m):m}function d(m,v,b){let g=m;if(m&&!b&&typeof m=="object"){if(P.endsWith(v,"{}"))v=i?v:v.slice(0,-2),m=JSON.stringify(m);else if(P.isArray(m)&&W4(m)||(P.isFileList(m)||P.endsWith(v,"[]"))&&(g=P.toArray(m)))return v=JA(v),g.forEach(function(x,_){!(P.isUndefined(x)||x===null)&&e.append(o===!0?iw([v],_,s):o===null?v:v+"[]",u(x))}),!1}return v0(m)?!0:(e.append(iw(b,v,s),u(m)),!1)}const h=[],f=Object.assign(G4,{defaultVisitor:d,convertValue:u,isVisitable:v0});function p(m,v){if(!P.isUndefined(m)){if(h.indexOf(m)!==-1)throw Error("Circular reference detected in "+v.join("."));h.push(m),P.forEach(m,function(g,y){(!(P.isUndefined(g)||g===null)&&r.call(e,g,P.isString(y)?y.trim():y,v,f))===!0&&p(g,v?v.concat(y):[y])}),h.pop()}}if(!P.isObject(n))throw new TypeError("data must be an object");return p(n),e}function rw(n){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(n).replace(/[!'()~]|%20|%00/g,function(i){return e[i]})}function Q1(n,e){this._pairs=[],n&&rm(n,this,e)}const eS=Q1.prototype;eS.append=function(e,t){this._pairs.push([e,t])};eS.toString=function(e){const t=e?function(i){return e.call(this,i,rw)}:rw;return this._pairs.map(function(r){return t(r[0])+"="+t(r[1])},"").join("&")};function q4(n){return encodeURIComponent(n).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function tS(n,e,t){if(!e)return n;const i=t&&t.encode||q4,r=t&&t.serialize;let s;if(r?s=r(e,t):s=P.isURLSearchParams(e)?e.toString():new Q1(e,t).toString(i),s){const o=n.indexOf("#");o!==-1&&(n=n.slice(0,o)),n+=(n.indexOf("?")===-1?"?":"&")+s}return n}class sw{constructor(){this.handlers=[]}use(e,t,i){return this.handlers.push({fulfilled:e,rejected:t,synchronous:i?i.synchronous:!1,runWhen:i?i.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){P.forEach(this.handlers,function(i){i!==null&&e(i)})}}const nS={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},X4=typeof URLSearchParams<"u"?URLSearchParams:Q1,K4=typeof FormData<"u"?FormData:null,Y4=typeof Blob<"u"?Blob:null,Q4={isBrowser:!0,classes:{URLSearchParams:X4,FormData:K4,Blob:Y4},protocols:["http","https","file","blob","url","data"]},Z1=typeof window<"u"&&typeof document<"u",Z4=(n=>Z1&&["ReactNative","NativeScript","NS"].indexOf(n)<0)(typeof navigator<"u"&&navigator.product),J4=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",eN=Z1&&window.location.href||"http://localhost",tN=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:Z1,hasStandardBrowserEnv:Z4,hasStandardBrowserWebWorkerEnv:J4,origin:eN},Symbol.toStringTag,{value:"Module"})),ni={...tN,...Q4};function nN(n,e){return rm(n,new ni.classes.URLSearchParams,Object.assign({visitor:function(t,i,r,s){return ni.isNode&&P.isBuffer(t)?(this.append(i,t.toString("base64")),!1):s.defaultVisitor.apply(this,arguments)}},e))}function iN(n){return P.matchAll(/\w+|\[(\w*)]/g,n).map(e=>e[0]==="[]"?"":e[1]||e[0])}function rN(n){const e={},t=Object.keys(n);let i;const r=t.length;let s;for(i=0;i<r;i++)s=t[i],e[s]=n[s];return e}function iS(n){function e(t,i,r,s){let o=t[s++];if(o==="__proto__")return!0;const a=Number.isFinite(+o),l=s>=t.length;return o=!o&&P.isArray(r)?r.length:o,l?(P.hasOwnProp(r,o)?r[o]=[r[o],i]:r[o]=i,!a):((!r[o]||!P.isObject(r[o]))&&(r[o]=[]),e(t,i,r[o],s)&&P.isArray(r[o])&&(r[o]=rN(r[o])),!a)}if(P.isFormData(n)&&P.isFunction(n.entries)){const t={};return P.forEachEntry(n,(i,r)=>{e(iN(i),r,t,0)}),t}return null}function sN(n,e,t){if(P.isString(n))try{return(e||JSON.parse)(n),P.trim(n)}catch(i){if(i.name!=="SyntaxError")throw i}return(t||JSON.stringify)(n)}const sh={transitional:nS,adapter:["xhr","http","fetch"],transformRequest:[function(e,t){const i=t.getContentType()||"",r=i.indexOf("application/json")>-1,s=P.isObject(e);if(s&&P.isHTMLForm(e)&&(e=new FormData(e)),P.isFormData(e))return r?JSON.stringify(iS(e)):e;if(P.isArrayBuffer(e)||P.isBuffer(e)||P.isStream(e)||P.isFile(e)||P.isBlob(e)||P.isReadableStream(e))return e;if(P.isArrayBufferView(e))return e.buffer;if(P.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let a;if(s){if(i.indexOf("application/x-www-form-urlencoded")>-1)return nN(e,this.formSerializer).toString();if((a=P.isFileList(e))||i.indexOf("multipart/form-data")>-1){const l=this.env&&this.env.FormData;return rm(a?{"files[]":e}:e,l&&new l,this.formSerializer)}}return s||r?(t.setContentType("application/json",!1),sN(e)):e}],transformResponse:[function(e){const t=this.transitional||sh.transitional,i=t&&t.forcedJSONParsing,r=this.responseType==="json";if(P.isResponse(e)||P.isReadableStream(e))return e;if(e&&P.isString(e)&&(i&&!this.responseType||r)){const o=!(t&&t.silentJSONParsing)&&r;try{return JSON.parse(e)}catch(a){if(o)throw a.name==="SyntaxError"?J.from(a,J.ERR_BAD_RESPONSE,this,null,this.response):a}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:ni.classes.FormData,Blob:ni.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};P.forEach(["delete","get","head","post","put","patch"],n=>{sh.headers[n]={}});const oN=P.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),aN=n=>{const e={};let t,i,r;return n&&n.split(`
`).forEach(function(o){r=o.indexOf(":"),t=o.substring(0,r).trim().toLowerCase(),i=o.substring(r+1).trim(),!(!t||e[t]&&oN[t])&&(t==="set-cookie"?e[t]?e[t].push(i):e[t]=[i]:e[t]=e[t]?e[t]+", "+i:i)}),e},ow=Symbol("internals");function ac(n){return n&&String(n).trim().toLowerCase()}function Yh(n){return n===!1||n==null?n:P.isArray(n)?n.map(Yh):String(n)}function lN(n){const e=Object.create(null),t=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let i;for(;i=t.exec(n);)e[i[1]]=i[2];return e}const cN=n=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(n.trim());function ng(n,e,t,i,r){if(P.isFunction(i))return i.call(this,e,t);if(r&&(e=t),!!P.isString(e)){if(P.isString(i))return e.indexOf(i)!==-1;if(P.isRegExp(i))return i.test(e)}}function uN(n){return n.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,t,i)=>t.toUpperCase()+i)}function dN(n,e){const t=P.toCamelCase(" "+e);["get","set","has"].forEach(i=>{Object.defineProperty(n,i+t,{value:function(r,s,o){return this[i].call(this,e,r,s,o)},configurable:!0})})}class Yt{constructor(e){e&&this.set(e)}set(e,t,i){const r=this;function s(a,l,u){const d=ac(l);if(!d)throw new Error("header name must be a non-empty string");const h=P.findKey(r,d);(!h||r[h]===void 0||u===!0||u===void 0&&r[h]!==!1)&&(r[h||l]=Yh(a))}const o=(a,l)=>P.forEach(a,(u,d)=>s(u,d,l));if(P.isPlainObject(e)||e instanceof this.constructor)o(e,t);else if(P.isString(e)&&(e=e.trim())&&!cN(e))o(aN(e),t);else if(P.isHeaders(e))for(const[a,l]of e.entries())s(l,a,i);else e!=null&&s(t,e,i);return this}get(e,t){if(e=ac(e),e){const i=P.findKey(this,e);if(i){const r=this[i];if(!t)return r;if(t===!0)return lN(r);if(P.isFunction(t))return t.call(this,r,i);if(P.isRegExp(t))return t.exec(r);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,t){if(e=ac(e),e){const i=P.findKey(this,e);return!!(i&&this[i]!==void 0&&(!t||ng(this,this[i],i,t)))}return!1}delete(e,t){const i=this;let r=!1;function s(o){if(o=ac(o),o){const a=P.findKey(i,o);a&&(!t||ng(i,i[a],a,t))&&(delete i[a],r=!0)}}return P.isArray(e)?e.forEach(s):s(e),r}clear(e){const t=Object.keys(this);let i=t.length,r=!1;for(;i--;){const s=t[i];(!e||ng(this,this[s],s,e,!0))&&(delete this[s],r=!0)}return r}normalize(e){const t=this,i={};return P.forEach(this,(r,s)=>{const o=P.findKey(i,s);if(o){t[o]=Yh(r),delete t[s];return}const a=e?uN(s):String(s).trim();a!==s&&delete t[s],t[a]=Yh(r),i[a]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const t=Object.create(null);return P.forEach(this,(i,r)=>{i!=null&&i!==!1&&(t[r]=e&&P.isArray(i)?i.join(", "):i)}),t}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,t])=>e+": "+t).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...t){const i=new this(e);return t.forEach(r=>i.set(r)),i}static accessor(e){const i=(this[ow]=this[ow]={accessors:{}}).accessors,r=this.prototype;function s(o){const a=ac(o);i[a]||(dN(r,o),i[a]=!0)}return P.isArray(e)?e.forEach(s):s(e),this}}Yt.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);P.reduceDescriptors(Yt.prototype,({value:n},e)=>{let t=e[0].toUpperCase()+e.slice(1);return{get:()=>n,set(i){this[t]=i}}});P.freezeMethods(Yt);function ig(n,e){const t=this||sh,i=e||t,r=Yt.from(i.headers);let s=i.data;return P.forEach(n,function(a){s=a.call(t,s,r.normalize(),e?e.status:void 0)}),r.normalize(),s}function rS(n){return!!(n&&n.__CANCEL__)}function Ql(n,e,t){J.call(this,n??"canceled",J.ERR_CANCELED,e,t),this.name="CanceledError"}P.inherits(Ql,J,{__CANCEL__:!0});function sS(n,e,t){const i=t.config.validateStatus;!t.status||!i||i(t.status)?n(t):e(new J("Request failed with status code "+t.status,[J.ERR_BAD_REQUEST,J.ERR_BAD_RESPONSE][Math.floor(t.status/100)-4],t.config,t.request,t))}function hN(n){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(n);return e&&e[1]||""}function fN(n,e){n=n||10;const t=new Array(n),i=new Array(n);let r=0,s=0,o;return e=e!==void 0?e:1e3,function(l){const u=Date.now(),d=i[s];o||(o=u),t[r]=l,i[r]=u;let h=s,f=0;for(;h!==r;)f+=t[h++],h=h%n;if(r=(r+1)%n,r===s&&(s=(s+1)%n),u-o<e)return;const p=d&&u-d;return p?Math.round(f*1e3/p):void 0}}function pN(n,e){let t=0;const i=1e3/e;let r=null;return function(){const o=this===!0,a=Date.now();if(o||a-t>i)return r&&(clearTimeout(r),r=null),t=a,n.apply(null,arguments);r||(r=setTimeout(()=>(r=null,t=Date.now(),n.apply(null,arguments)),i-(a-t)))}}const tp=(n,e,t=3)=>{let i=0;const r=fN(50,250);return pN(s=>{const o=s.loaded,a=s.lengthComputable?s.total:void 0,l=o-i,u=r(l),d=o<=a;i=o;const h={loaded:o,total:a,progress:a?o/a:void 0,bytes:l,rate:u||void 0,estimated:u&&a&&d?(a-o)/u:void 0,event:s,lengthComputable:a!=null};h[e?"download":"upload"]=!0,n(h)},t)},mN=ni.hasStandardBrowserEnv?function(){const e=/(msie|trident)/i.test(navigator.userAgent),t=document.createElement("a");let i;function r(s){let o=s;return e&&(t.setAttribute("href",o),o=t.href),t.setAttribute("href",o),{href:t.href,protocol:t.protocol?t.protocol.replace(/:$/,""):"",host:t.host,search:t.search?t.search.replace(/^\?/,""):"",hash:t.hash?t.hash.replace(/^#/,""):"",hostname:t.hostname,port:t.port,pathname:t.pathname.charAt(0)==="/"?t.pathname:"/"+t.pathname}}return i=r(window.location.href),function(o){const a=P.isString(o)?r(o):o;return a.protocol===i.protocol&&a.host===i.host}}():function(){return function(){return!0}}(),gN=ni.hasStandardBrowserEnv?{write(n,e,t,i,r,s){const o=[n+"="+encodeURIComponent(e)];P.isNumber(t)&&o.push("expires="+new Date(t).toGMTString()),P.isString(i)&&o.push("path="+i),P.isString(r)&&o.push("domain="+r),s===!0&&o.push("secure"),document.cookie=o.join("; ")},read(n){const e=document.cookie.match(new RegExp("(^|;\\s*)("+n+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(n){this.write(n,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function vN(n){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(n)}function yN(n,e){return e?n.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):n}function oS(n,e){return n&&!vN(e)?yN(n,e):e}const aw=n=>n instanceof Yt?{...n}:n;function Zo(n,e){e=e||{};const t={};function i(u,d,h){return P.isPlainObject(u)&&P.isPlainObject(d)?P.merge.call({caseless:h},u,d):P.isPlainObject(d)?P.merge({},d):P.isArray(d)?d.slice():d}function r(u,d,h){if(P.isUndefined(d)){if(!P.isUndefined(u))return i(void 0,u,h)}else return i(u,d,h)}function s(u,d){if(!P.isUndefined(d))return i(void 0,d)}function o(u,d){if(P.isUndefined(d)){if(!P.isUndefined(u))return i(void 0,u)}else return i(void 0,d)}function a(u,d,h){if(h in e)return i(u,d);if(h in n)return i(void 0,u)}const l={url:s,method:s,data:s,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,withXSRFToken:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:a,headers:(u,d)=>r(aw(u),aw(d),!0)};return P.forEach(Object.keys(Object.assign({},n,e)),function(d){const h=l[d]||r,f=h(n[d],e[d],d);P.isUndefined(f)&&h!==a||(t[d]=f)}),t}const aS=n=>{const e=Zo({},n);let{data:t,withXSRFToken:i,xsrfHeaderName:r,xsrfCookieName:s,headers:o,auth:a}=e;e.headers=o=Yt.from(o),e.url=tS(oS(e.baseURL,e.url),n.params,n.paramsSerializer),a&&o.set("Authorization","Basic "+btoa((a.username||"")+":"+(a.password?unescape(encodeURIComponent(a.password)):"")));let l;if(P.isFormData(t)){if(ni.hasStandardBrowserEnv||ni.hasStandardBrowserWebWorkerEnv)o.setContentType(void 0);else if((l=o.getContentType())!==!1){const[u,...d]=l?l.split(";").map(h=>h.trim()).filter(Boolean):[];o.setContentType([u||"multipart/form-data",...d].join("; "))}}if(ni.hasStandardBrowserEnv&&(i&&P.isFunction(i)&&(i=i(e)),i||i!==!1&&mN(e.url))){const u=r&&s&&gN.read(s);u&&o.set(r,u)}return e},xN=typeof XMLHttpRequest<"u",wN=xN&&function(n){return new Promise(function(t,i){const r=aS(n);let s=r.data;const o=Yt.from(r.headers).normalize();let{responseType:a}=r,l;function u(){r.cancelToken&&r.cancelToken.unsubscribe(l),r.signal&&r.signal.removeEventListener("abort",l)}let d=new XMLHttpRequest;d.open(r.method.toUpperCase(),r.url,!0),d.timeout=r.timeout;function h(){if(!d)return;const p=Yt.from("getAllResponseHeaders"in d&&d.getAllResponseHeaders()),v={data:!a||a==="text"||a==="json"?d.responseText:d.response,status:d.status,statusText:d.statusText,headers:p,config:n,request:d};sS(function(g){t(g),u()},function(g){i(g),u()},v),d=null}"onloadend"in d?d.onloadend=h:d.onreadystatechange=function(){!d||d.readyState!==4||d.status===0&&!(d.responseURL&&d.responseURL.indexOf("file:")===0)||setTimeout(h)},d.onabort=function(){d&&(i(new J("Request aborted",J.ECONNABORTED,r,d)),d=null)},d.onerror=function(){i(new J("Network Error",J.ERR_NETWORK,r,d)),d=null},d.ontimeout=function(){let m=r.timeout?"timeout of "+r.timeout+"ms exceeded":"timeout exceeded";const v=r.transitional||nS;r.timeoutErrorMessage&&(m=r.timeoutErrorMessage),i(new J(m,v.clarifyTimeoutError?J.ETIMEDOUT:J.ECONNABORTED,r,d)),d=null},s===void 0&&o.setContentType(null),"setRequestHeader"in d&&P.forEach(o.toJSON(),function(m,v){d.setRequestHeader(v,m)}),P.isUndefined(r.withCredentials)||(d.withCredentials=!!r.withCredentials),a&&a!=="json"&&(d.responseType=r.responseType),typeof r.onDownloadProgress=="function"&&d.addEventListener("progress",tp(r.onDownloadProgress,!0)),typeof r.onUploadProgress=="function"&&d.upload&&d.upload.addEventListener("progress",tp(r.onUploadProgress)),(r.cancelToken||r.signal)&&(l=p=>{d&&(i(!p||p.type?new Ql(null,n,d):p),d.abort(),d=null)},r.cancelToken&&r.cancelToken.subscribe(l),r.signal&&(r.signal.aborted?l():r.signal.addEventListener("abort",l)));const f=hN(r.url);if(f&&ni.protocols.indexOf(f)===-1){i(new J("Unsupported protocol "+f+":",J.ERR_BAD_REQUEST,n));return}d.send(s||null)})},bN=(n,e)=>{let t=new AbortController,i;const r=function(l){if(!i){i=!0,o();const u=l instanceof Error?l:this.reason;t.abort(u instanceof J?u:new Ql(u instanceof Error?u.message:u))}};let s=e&&setTimeout(()=>{r(new J(`timeout ${e} of ms exceeded`,J.ETIMEDOUT))},e);const o=()=>{n&&(s&&clearTimeout(s),s=null,n.forEach(l=>{l&&(l.removeEventListener?l.removeEventListener("abort",r):l.unsubscribe(r))}),n=null)};n.forEach(l=>l&&l.addEventListener&&l.addEventListener("abort",r));const{signal:a}=t;return a.unsubscribe=o,[a,()=>{s&&clearTimeout(s),s=null}]},EN=function*(n,e){let t=n.byteLength;if(!e||t<e){yield n;return}let i=0,r;for(;i<t;)r=i+e,yield n.slice(i,r),i=r},AN=async function*(n,e,t){for await(const i of n)yield*EN(ArrayBuffer.isView(i)?i:await t(String(i)),e)},lw=(n,e,t,i,r)=>{const s=AN(n,e,r);let o=0;return new ReadableStream({type:"bytes",async pull(a){const{done:l,value:u}=await s.next();if(l){a.close(),i();return}let d=u.byteLength;t&&t(o+=d),a.enqueue(new Uint8Array(u))},cancel(a){return i(a),s.return()}},{highWaterMark:2})},cw=(n,e)=>{const t=n!=null;return i=>setTimeout(()=>e({lengthComputable:t,total:n,loaded:i}))},sm=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",lS=sm&&typeof ReadableStream=="function",y0=sm&&(typeof TextEncoder=="function"?(n=>e=>n.encode(e))(new TextEncoder):async n=>new Uint8Array(await new Response(n).arrayBuffer())),SN=lS&&(()=>{let n=!1;const e=new Request(ni.origin,{body:new ReadableStream,method:"POST",get duplex(){return n=!0,"half"}}).headers.has("Content-Type");return n&&!e})(),uw=64*1024,x0=lS&&!!(()=>{try{return P.isReadableStream(new Response("").body)}catch{}})(),np={stream:x0&&(n=>n.body)};sm&&(n=>{["text","arrayBuffer","blob","formData","stream"].forEach(e=>{!np[e]&&(np[e]=P.isFunction(n[e])?t=>t[e]():(t,i)=>{throw new J(`Response type '${e}' is not supported`,J.ERR_NOT_SUPPORT,i)})})})(new Response);const CN=async n=>{if(n==null)return 0;if(P.isBlob(n))return n.size;if(P.isSpecCompliantForm(n))return(await new Request(n).arrayBuffer()).byteLength;if(P.isArrayBufferView(n))return n.byteLength;if(P.isURLSearchParams(n)&&(n=n+""),P.isString(n))return(await y0(n)).byteLength},_N=async(n,e)=>{const t=P.toFiniteNumber(n.getContentLength());return t??CN(e)},kN=sm&&(async n=>{let{url:e,method:t,data:i,signal:r,cancelToken:s,timeout:o,onDownloadProgress:a,onUploadProgress:l,responseType:u,headers:d,withCredentials:h="same-origin",fetchOptions:f}=aS(n);u=u?(u+"").toLowerCase():"text";let[p,m]=r||s||o?bN([r,s],o):[],v,b;const g=()=>{!v&&setTimeout(()=>{p&&p.unsubscribe()}),v=!0};let y;try{if(l&&SN&&t!=="get"&&t!=="head"&&(y=await _N(d,i))!==0){let T=new Request(e,{method:"POST",body:i,duplex:"half"}),R;P.isFormData(i)&&(R=T.headers.get("content-type"))&&d.setContentType(R),T.body&&(i=lw(T.body,uw,cw(y,tp(l)),null,y0))}P.isString(h)||(h=h?"cors":"omit"),b=new Request(e,{...f,signal:p,method:t.toUpperCase(),headers:d.normalize().toJSON(),body:i,duplex:"half",withCredentials:h});let x=await fetch(b);const _=x0&&(u==="stream"||u==="response");if(x0&&(a||_)){const T={};["status","statusText","headers"].forEach(L=>{T[L]=x[L]});const R=P.toFiniteNumber(x.headers.get("content-length"));x=new Response(lw(x.body,uw,a&&cw(R,tp(a,!0)),_&&g,y0),T)}u=u||"text";let k=await np[P.findKey(np,u)||"text"](x,n);return!_&&g(),m&&m(),await new Promise((T,R)=>{sS(T,R,{data:k,headers:Yt.from(x.headers),status:x.status,statusText:x.statusText,config:n,request:b})})}catch(x){throw g(),x&&x.name==="TypeError"&&/fetch/i.test(x.message)?Object.assign(new J("Network Error",J.ERR_NETWORK,n,b),{cause:x.cause||x}):J.from(x,x&&x.code,n,b)}}),w0={http:V4,xhr:wN,fetch:kN};P.forEach(w0,(n,e)=>{if(n){try{Object.defineProperty(n,"name",{value:e})}catch{}Object.defineProperty(n,"adapterName",{value:e})}});const dw=n=>`- ${n}`,TN=n=>P.isFunction(n)||n===null||n===!1,cS={getAdapter:n=>{n=P.isArray(n)?n:[n];const{length:e}=n;let t,i;const r={};for(let s=0;s<e;s++){t=n[s];let o;if(i=t,!TN(t)&&(i=w0[(o=String(t)).toLowerCase()],i===void 0))throw new J(`Unknown adapter '${o}'`);if(i)break;r[o||"#"+s]=i}if(!i){const s=Object.entries(r).map(([a,l])=>`adapter ${a} `+(l===!1?"is not supported by the environment":"is not available in the build"));let o=e?s.length>1?`since :
`+s.map(dw).join(`
`):" "+dw(s[0]):"as no adapter specified";throw new J("There is no suitable adapter to dispatch the request "+o,"ERR_NOT_SUPPORT")}return i},adapters:w0};function rg(n){if(n.cancelToken&&n.cancelToken.throwIfRequested(),n.signal&&n.signal.aborted)throw new Ql(null,n)}function hw(n){return rg(n),n.headers=Yt.from(n.headers),n.data=ig.call(n,n.transformRequest),["post","put","patch"].indexOf(n.method)!==-1&&n.headers.setContentType("application/x-www-form-urlencoded",!1),cS.getAdapter(n.adapter||sh.adapter)(n).then(function(i){return rg(n),i.data=ig.call(n,n.transformResponse,i),i.headers=Yt.from(i.headers),i},function(i){return rS(i)||(rg(n),i&&i.response&&(i.response.data=ig.call(n,n.transformResponse,i.response),i.response.headers=Yt.from(i.response.headers))),Promise.reject(i)})}const uS="1.7.2",J1={};["object","boolean","number","function","string","symbol"].forEach((n,e)=>{J1[n]=function(i){return typeof i===n||"a"+(e<1?"n ":" ")+n}});const fw={};J1.transitional=function(e,t,i){function r(s,o){return"[Axios v"+uS+"] Transitional option '"+s+"'"+o+(i?". "+i:"")}return(s,o,a)=>{if(e===!1)throw new J(r(o," has been removed"+(t?" in "+t:"")),J.ERR_DEPRECATED);return t&&!fw[o]&&(fw[o]=!0,console.warn(r(o," has been deprecated since v"+t+" and will be removed in the near future"))),e?e(s,o,a):!0}};function RN(n,e,t){if(typeof n!="object")throw new J("options must be an object",J.ERR_BAD_OPTION_VALUE);const i=Object.keys(n);let r=i.length;for(;r-- >0;){const s=i[r],o=e[s];if(o){const a=n[s],l=a===void 0||o(a,s,n);if(l!==!0)throw new J("option "+s+" must be "+l,J.ERR_BAD_OPTION_VALUE);continue}if(t!==!0)throw new J("Unknown option "+s,J.ERR_BAD_OPTION)}}const b0={assertOptions:RN,validators:J1},Lr=b0.validators;class Uo{constructor(e){this.defaults=e,this.interceptors={request:new sw,response:new sw}}async request(e,t){try{return await this._request(e,t)}catch(i){if(i instanceof Error){let r;Error.captureStackTrace?Error.captureStackTrace(r={}):r=new Error;const s=r.stack?r.stack.replace(/^.+\n/,""):"";try{i.stack?s&&!String(i.stack).endsWith(s.replace(/^.+\n.+\n/,""))&&(i.stack+=`
`+s):i.stack=s}catch{}}throw i}}_request(e,t){typeof e=="string"?(t=t||{},t.url=e):t=e||{},t=Zo(this.defaults,t);const{transitional:i,paramsSerializer:r,headers:s}=t;i!==void 0&&b0.assertOptions(i,{silentJSONParsing:Lr.transitional(Lr.boolean),forcedJSONParsing:Lr.transitional(Lr.boolean),clarifyTimeoutError:Lr.transitional(Lr.boolean)},!1),r!=null&&(P.isFunction(r)?t.paramsSerializer={serialize:r}:b0.assertOptions(r,{encode:Lr.function,serialize:Lr.function},!0)),t.method=(t.method||this.defaults.method||"get").toLowerCase();let o=s&&P.merge(s.common,s[t.method]);s&&P.forEach(["delete","get","head","post","put","patch","common"],m=>{delete s[m]}),t.headers=Yt.concat(o,s);const a=[];let l=!0;this.interceptors.request.forEach(function(v){typeof v.runWhen=="function"&&v.runWhen(t)===!1||(l=l&&v.synchronous,a.unshift(v.fulfilled,v.rejected))});const u=[];this.interceptors.response.forEach(function(v){u.push(v.fulfilled,v.rejected)});let d,h=0,f;if(!l){const m=[hw.bind(this),void 0];for(m.unshift.apply(m,a),m.push.apply(m,u),f=m.length,d=Promise.resolve(t);h<f;)d=d.then(m[h++],m[h++]);return d}f=a.length;let p=t;for(h=0;h<f;){const m=a[h++],v=a[h++];try{p=m(p)}catch(b){v.call(this,b);break}}try{d=hw.call(this,p)}catch(m){return Promise.reject(m)}for(h=0,f=u.length;h<f;)d=d.then(u[h++],u[h++]);return d}getUri(e){e=Zo(this.defaults,e);const t=oS(e.baseURL,e.url);return tS(t,e.params,e.paramsSerializer)}}P.forEach(["delete","get","head","options"],function(e){Uo.prototype[e]=function(t,i){return this.request(Zo(i||{},{method:e,url:t,data:(i||{}).data}))}});P.forEach(["post","put","patch"],function(e){function t(i){return function(s,o,a){return this.request(Zo(a||{},{method:e,headers:i?{"Content-Type":"multipart/form-data"}:{},url:s,data:o}))}}Uo.prototype[e]=t(),Uo.prototype[e+"Form"]=t(!0)});class ey{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let t;this.promise=new Promise(function(s){t=s});const i=this;this.promise.then(r=>{if(!i._listeners)return;let s=i._listeners.length;for(;s-- >0;)i._listeners[s](r);i._listeners=null}),this.promise.then=r=>{let s;const o=new Promise(a=>{i.subscribe(a),s=a}).then(r);return o.cancel=function(){i.unsubscribe(s)},o},e(function(s,o,a){i.reason||(i.reason=new Ql(s,o,a),t(i.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const t=this._listeners.indexOf(e);t!==-1&&this._listeners.splice(t,1)}static source(){let e;return{token:new ey(function(r){e=r}),cancel:e}}}function PN(n){return function(t){return n.apply(null,t)}}function LN(n){return P.isObject(n)&&n.isAxiosError===!0}const E0={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(E0).forEach(([n,e])=>{E0[e]=n});function dS(n){const e=new Uo(n),t=UA(Uo.prototype.request,e);return P.extend(t,Uo.prototype,e,{allOwnKeys:!0}),P.extend(t,e,null,{allOwnKeys:!0}),t.create=function(r){return dS(Zo(n,r))},t}const Te=dS(sh);Te.Axios=Uo;Te.CanceledError=Ql;Te.CancelToken=ey;Te.isCancel=rS;Te.VERSION=uS;Te.toFormData=rm;Te.AxiosError=J;Te.Cancel=Te.CanceledError;Te.all=function(e){return Promise.all(e)};Te.spread=PN;Te.isAxiosError=LN;Te.mergeConfig=Zo;Te.AxiosHeaders=Yt;Te.formToJSON=n=>iS(P.isHTMLForm(n)?new FormData(n):n);Te.getAdapter=cS.getAdapter;Te.HttpStatusCode=E0;Te.default=Te;function NN(n){const[e,t]=C.useState(!1),[i,r]=C.useState(!1),s=Qd(),[o,a]=C.useState([]),l=d=>{const h=new Date,f=new Date(d);let p=h.getFullYear()-f.getFullYear();const m=h.getMonth()-f.getMonth();return(m<0||m===0&&h.getDate()<f.getDate())&&p--,p};async function u(){const d=await Te.get("en/getpatients");a(d.data),n.setNoofPatients(d.data.length)}return C.useEffect(()=>{u()},[]),l("2004-06-05T18:30:00.000Z"),w.jsxs("div",{className:"layout-content-container flex flex-col max-w-[920px] flex-1",children:[w.jsx("div",{className:"flex flex-wrap justify-between gap-3 p-4",children:w.jsxs("div",{className:"flex justify-between items-end w-full",children:[w.jsx("p",{className:"text-[#0e141b] tracking-light text-[32px] font-bold leading-tight min-w-72",children:"Patients"}),w.jsx("div",{className:`${n.isDoctor?"hidden":"flex"}`,children:w.jsx(s4,{editPatients:e,setEditPatients:t,deletePatients:i,setDeletePatients:r})})]})}),w.jsx("div",{className:"px-4 py-3",children:w.jsx("label",{className:"flex flex-col min-w-40 h-12 w-full",children:w.jsxs("div",{className:"flex w-full flex-1 items-stretch rounded-xl h-full",children:[w.jsx("div",{className:"text-[#4f7396] flex border-none bg-[#e8edf3] items-center justify-center pl-4 rounded-l-xl border-r-0","data-icon":"MagnifyingGlass","data-size":"24px","data-weight":"regular",children:w.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24px",height:"24px",fill:"currentColor",viewBox:"0 0 256 256",children:w.jsx("path",{d:"M229.66,218.34l-50.07-50.06a88.11,88.11,0,1,0-11.31,11.31l50.06,50.07a8,8,0,0,0,11.32-11.32ZM40,112a72,72,0,1,1,72,72A72.08,72.08,0,0,1,40,112Z"})})}),w.jsx("input",{placeholder:"Search patients",className:"form-input flex w-full min-w-0 flex-1 resize-none overflow-hidden rounded-xl text-[#0e141b] focus:outline-0 focus:ring-0 border-none bg-[#e8edf3] focus:border-none h-full placeholder:text-[#4f7396] px-4 rounded-l-none border-l-0 pl-2 text-base font-normal leading-normal"})]})})}),o.map((d,h)=>w.jsxs("div",{className:"flex items-center gap-4 bg-[#f8fafb] px-4 min-h-[72px] py-2 transition-all duration-300 ease-in-out hover:bg-[#e2e8f0] cursor-pointer rounded-xl ",onClick:()=>s("/patient",{state:{id:d._id}}),children:[w.jsx("div",{className:"bg-center bg-no-repeat aspect-square bg-cover rounded-full h-14 w-fit transform",style:{backgroundImage:""}}),w.jsxs("div",{className:"flex flex-col justify-center",children:[w.jsx("p",{className:"text-[#0e141b] text-base font-medium leading-normal line-clamp-1",children:d.name}),w.jsxs("p",{className:"text-[#4f7396] text-sm font-normal leading-normal line-clamp-2",children:["Age: ",l(d.DOB),", Gender: ",d.gender]})]}),w.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:`size-6 self-start mt-4 ml-auto mb-2 ${e?"block":"hidden"} `,children:[w.jsx("path",{d:"M21.731 2.269a2.625 2.625 0 0 0-3.712 0l-1.157 1.157 3.712 3.712 1.157-1.157a2.625 2.625 0 0 0 0-3.712ZM19.513 8.199l-3.712-3.712-8.4 8.4a5.25 5.25 0 0 0-1.32 2.214l-.8 2.685a.75.75 0 0 0 .933.933l2.685-.8a5.25 5.25 0 0 0 2.214-1.32l8.4-8.4Z"}),w.jsx("path",{d:"M5.25 5.25a3 3 0 0 0-3 3v10.5a3 3 0 0 0 3 3h10.5a3 3 0 0 0 3-3V13.5a.75.75 0 0 0-1.5 0v5.25a1.5 1.5 0 0 1-1.5 1.5H5.25a1.5 1.5 0 0 1-1.5-1.5V8.25a1.5 1.5 0 0 1 1.5-1.5h5.25a.75.75 0 0 0 0-1.5H5.25Z"})]}),w.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:`size-6 self-start mt-4 ml-auto mb-2 ${i?"block":"hidden"}`,children:w.jsx("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"m14.74 9-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 0 1-2.244 2.077H8.084a2.25 2.25 0 0 1-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 0 0-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 0 1 3.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 0 0-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 0 0-7.5 0"})})]},h))]})}function MN(n){return w.jsxs("div",{className:"layout-content-container flex flex-col w-[360px]",children:[w.jsx("h3",{className:"text-[#0e141b] text-lg font-bold leading-tight tracking-[-0.015em] px-4 pb-2 pt-4",children:"Analytics"}),w.jsxs("div",{className:"flex flex-wrap gap-4 p-4",children:[w.jsxs("div",{className:"flex min-w-[158px] flex-1 flex-col gap-2 rounded-xl p-6 border border-[#d0dbe6]",children:[w.jsx("p",{className:"text-[#0e141b] text-base font-medium leading-normal",children:"Total Patients"}),w.jsx("p",{className:"text-[#0e141b] tracking-light text-2xl font-bold leading-tight",children:n.noofPatients}),w.jsx("p",{className:"text-[#078838] text-base font-medium leading-normal",children:"+5%"})]}),w.jsxs("div",{className:"flex min-w-[158px] flex-1 flex-col gap-2 rounded-xl p-6 border border-[#d0dbe6]",children:[w.jsx("p",{className:"text-[#0e141b] text-base font-medium leading-normal",children:"Average Age"}),w.jsx("p",{className:"text-[#0e141b] tracking-light text-2xl font-bold leading-tight",children:"44"}),w.jsx("p",{className:"text-[#e73908] text-base font-medium leading-normal",children:"-2%"})]})]})]})}const hS=n=>{console.log(n);const e=Qd();return w.jsxs("div",{className:"flex items-center justify-between whitespace-nowrap border-b border-solid border-b-[#e7eef4] px-10 py-3",children:[w.jsxs("div",{className:"flex items-center gap-4 text-[#0d151c]",children:[w.jsx("div",{className:"size-4",children:w.jsx("svg",{viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:w.jsx("path",{d:"M36.7273 44C33.9891 44 31.6043 39.8386 30.3636 33.69C29.123 39.8386 26.7382 44 24 44C21.2618 44 18.877 39.8386 17.6364 33.69C16.3957 39.8386 14.0109 44 11.2727 44C7.25611 44 4 35.0457 4 24C4 12.9543 7.25611 4 11.2727 4C14.0109 4 16.3957 8.16144 17.6364 14.31C18.877 8.16144 21.2618 4 24 4C26.7382 4 29.123 8.16144 30.3636 14.31C31.6043 8.16144 33.9891 4 36.7273 4C40.7439 4 44 12.9543 44 24C44 35.0457 40.7439 44 36.7273 44Z",fill:"currentColor"})})}),w.jsx("h2",{className:"text-[#0d151c] text-lg font-bold leading-tight tracking-[-0.015em]",children:"Sanjh Sahayak"})]}),w.jsxs("div",{className:"flex flex-1 justify-end gap-8",children:[w.jsxs("div",{className:"flex items-center gap-9",children:[w.jsx("a",{className:"text-[#0d151c] text-sm font-medium leading-normal cursor-pointer",onClick:()=>e("/"),children:"Home"}),w.jsx("a",{className:`text-[#0d151c] text-sm font-medium leading-normal cursor-pointer ${n.patient?"":"hidden"}`,onClick:()=>e("/main"),children:"Patients"})]}),w.jsxs("div",{className:"flex items-center gap-2",children:[w.jsx("button",{className:"flex max-w-[480px] cursor-pointer items-center justify-center overflow-hidden rounded-xl h-10 bg-[#e7eef4] text-[#0d151c] gap-2 text-sm font-bold leading-normal tracking-[0.015em] min-w-0 px-2.5",children:w.jsx("div",{className:"text-[#0d151c]","data-icon":"MagnifyingGlass","data-size":"20px","data-weight":"regular",children:w.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20px",height:"20px",fill:"currentColor",viewBox:"0 0 256 256",children:w.jsx("path",{d:"M229.66,218.34l-50.07-50.06a88.11,88.11,0,1,0-11.31,11.31l50.06,50.07a8,8,0,0,0,11.32-11.32ZM40,112a72,72,0,1,1,72,72A72.08,72.08,0,0,1,40,112Z"})})})}),w.jsx("button",{className:"flex max-w-[480px] cursor-pointer items-center justify-center overflow-hidden rounded-xl h-10 bg-[#e7eef4] text-[#0d151c] gap-2 text-sm font-bold leading-normal tracking-[0.015em] min-w-0 px-2.5",children:w.jsx("div",{className:"text-[#0d151c]","data-icon":"ChatCircleDots","data-size":"20px","data-weight":"regular",children:w.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20px",height:"20px",fill:"currentColor",viewBox:"0 0 256 256",children:w.jsx("path",{d:"M140,128a12,12,0,1,1-12-12A12,12,0,0,1,140,128ZM84,116a12,12,0,1,0,12,12A12,12,0,0,0,84,116Zm88,0a12,12,0,1,0,12,12A12,12,0,0,0,172,116Zm60,12A104,104,0,0,1,79.12,219.82L45.07,231.17a16,16,0,0,1-20.24-20.24l11.35-34.05A104,104,0,1,1,232,128Zm-16,0A88,88,0,1,0,51.81,172.06a8,8,0,0,1,.66,6.54L40,216,77.4,203.53a7.85,7.85,0,0,1,2.53-.42,8,8,0,0,1,4,1.08A88,88,0,0,0,216,128Z"})})})}),w.jsx("button",{className:"flex max-w-[480px] cursor-pointer items-center justify-center overflow-hidden rounded-xl h-10 bg-[#e7eef4] text-[#0d151c] gap-2 text-sm font-bold leading-normal tracking-[0.015em] min-w-0 px-2.5",children:w.jsx("div",{className:"text-[#0d151c]","data-icon":"Bell","data-size":"20px","data-weight":"regular",children:w.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20px",height:"20px",fill:"currentColor",viewBox:"0 0 256 256",children:w.jsx("path",{d:"M221.8,175.94C216.25,166.38,208,139.33,208,104a80,80,0,1,0-160,0c0,35.34-8.26,62.38-13.81,71.94A16,16,0,0,0,48,200H88.81a40,40,0,0,0,78.38,0H208a16,16,0,0,0,13.8-24.06ZM128,216a24,24,0,0,1-22.62-16h45.24A24,24,0,0,1,128,216ZM48,184c7.7-13.24,16-43.92,16-80a64,64,0,1,1,128,0c0,36.05,8.28,66.73,16,80Z"})})})})]}),w.jsx("div",{className:"flex items-center justify-center gap-2",children:w.jsx("div",{className:"text-[#0d151c] font-medium text-sm leading-normal",children:n.isDoctor?"Doctor":"Care taker"})}),w.jsx("div",{className:"bg-center bg-no-repeat aspect-square bg-cover rounded-full size-10",style:{backgroundImage:'url("https://cdn.usegalileo.ai/stability/62891830-57f4-4b6d-ab96-97aa59242b87.png")'}})]})]})};function FN(n){const[e,t]=C.useState(0);return w.jsx("div",{className:"relative flex size-full min-h-screen flex-col bg-[#f8fafb] group/design-root overflow-x-hidden",style:{fontFamily:'Inter, "Noto Sans", sans-serif'},children:w.jsxs("div",{className:"layout-container flex h-full grow flex-col",children:[w.jsx(hS,{isDoctor:n.isDoctor}),w.jsxs("div",{className:"gap-1 px-6 flex flex-1 justify-center py-5",children:[w.jsx(NN,{isDoctor:n.isDoctor,setNoofPatients:t,noofPatients:e}),w.jsx(MN,{noofPatients:e})]})]})})}const DN=()=>{const n=C.useRef(null),e=()=>{n.current.scrollIntoView({behavior:"smooth"})};let t=Qd();return w.jsx("div",{className:"relative flex size-full min-h-screen flex-col bg-[#F9FAFA] group/design-root overflow-x-hidden",style:{fontFamily:'Epilogue, "Noto Sans", sans-serif'},children:w.jsxs("div",{className:"layout-container flex h-full grow flex-col",children:[w.jsxs("header",{className:"flex items-center justify-between whitespace-nowrap border-b border-solid border-b-[#EEEFF2] px-10 py-3",children:[w.jsxs("div",{className:"flex items-center gap-4 text-[#1C1D22]",children:[w.jsx("div",{className:"size-4",children:w.jsxs("svg",{viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[w.jsxs("g",{clipPath:"url(#clip0_6_543)",children:[w.jsx("path",{d:"M42.1739 20.1739L27.8261 5.82609C29.1366 7.13663 28.3989 10.1876 26.2002 13.7654C24.8538 15.9564 22.9595 18.3449 20.6522 20.6522C18.3449 22.9595 15.9564 24.8538 13.7654 26.2002C10.1876 28.3989 7.13663 29.1366 5.82609 27.8261L20.1739 42.1739C21.4845 43.4845 24.5355 42.7467 28.1133 40.548C30.3042 39.2016 32.6927 37.3073 35 35C37.3073 32.6927 39.2016 30.3042 40.548 28.1133C42.7467 24.5355 43.4845 21.4845 42.1739 20.1739Z",fill:"currentColor"}),w.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M7.24189 26.4066C7.31369 26.4411 7.64204 26.5637 8.52504 26.3738C9.59462 26.1438 11.0343 25.5311 12.7183 24.4963C14.7583 23.2426 17.0256 21.4503 19.238 19.238C21.4503 17.0256 23.2426 14.7583 24.4963 12.7183C25.5311 11.0343 26.1438 9.59463 26.3738 8.52504C26.5637 7.64204 26.4411 7.31369 26.4066 7.24189C26.345 7.21246 26.143 7.14535 25.6664 7.1918C24.9745 7.25925 23.9954 7.5498 22.7699 8.14278C20.3369 9.32007 17.3369 11.4915 14.4142 14.4142C11.4915 17.3369 9.32007 20.3369 8.14278 22.7699C7.5498 23.9954 7.25925 24.9745 7.1918 25.6664C7.14534 26.143 7.21246 26.345 7.24189 26.4066ZM29.9001 10.7285C29.4519 12.0322 28.7617 13.4172 27.9042 14.8126C26.465 17.1544 24.4686 19.6641 22.0664 22.0664C19.6641 24.4686 17.1544 26.465 14.8126 27.9042C13.4172 28.7617 12.0322 29.4519 10.7285 29.9001L21.5754 40.747C21.6001 40.7606 21.8995 40.931 22.8729 40.7217C23.9424 40.4916 25.3821 39.879 27.0661 38.8441C29.1062 37.5904 31.3734 35.7982 33.5858 33.5858C35.7982 31.3734 37.5904 29.1062 38.8441 27.0661C39.879 25.3821 40.4916 23.9425 40.7216 22.8729C40.931 21.8995 40.7606 21.6001 40.747 21.5754L29.9001 10.7285ZM29.2403 4.41187L43.5881 18.7597C44.9757 20.1473 44.9743 22.1235 44.6322 23.7139C44.2714 25.3919 43.4158 27.2666 42.252 29.1604C40.8128 31.5022 38.8165 34.012 36.4142 36.4142C34.012 38.8165 31.5022 40.8128 29.1604 42.252C27.2666 43.4158 25.3919 44.2714 23.7139 44.6322C22.1235 44.9743 20.1473 44.9757 18.7597 43.5881L4.41187 29.2403C3.29027 28.1187 3.08209 26.5973 3.21067 25.2783C3.34099 23.9415 3.8369 22.4852 4.54214 21.0277C5.96129 18.0948 8.43335 14.7382 11.5858 11.5858C14.7382 8.43335 18.0948 5.9613 21.0277 4.54214C22.4852 3.8369 23.9415 3.34099 25.2783 3.21067C26.5973 3.08209 28.1187 3.29028 29.2403 4.41187Z",fill:"currentColor"})]}),w.jsx("defs",{children:w.jsx("clipPath",{id:"clip0_6_543",children:w.jsx("rect",{width:"48",height:"48",fill:"white"})})})]})}),w.jsx("h2",{className:"text-[#1C1D22] text-lg font-bold leading-tight tracking-[-0.015em]",children:"Saanjh Sahayak"})]}),w.jsxs("div",{className:"flex flex-1 justify-end gap-8",children:[w.jsx("div",{className:"flex items-center gap-9",children:w.jsx("a",{className:"text-[#1C1D22] text-sm font-medium leading-normal cursor-pointer",onClick:e,children:"Features"})}),w.jsx("div",{className:"flex gap-2",children:w.jsx("button",{className:"flex min-w-[84px] max-w-[480px] cursor-pointer items-center justify-center overflow-hidden rounded-full h-10 px-4 bg-[#607AFB] text-[#F9FAFA] text-sm font-bold leading-normal tracking-[0.015em]",onClick:()=>t("/signin"),children:w.jsx("span",{className:"truncate",children:"Login"})})})]})]}),w.jsx("div",{className:"px-40 flex flex-1 justify-center py-5",children:w.jsxs("div",{className:"layout-content-container flex flex-col max-w-[960px] flex-1",children:[w.jsx("div",{className:"@container",children:w.jsx("div",{className:"@[480px]:p-4",children:w.jsxs("div",{className:"flex min-h-[480px] flex-col gap-6 bg-cover bg-center bg-no-repeat @[480px]:gap-8 @[480px]:rounded-xl items-start justify-end px-4 pb-10 @[480px]:px-10",style:{backgroundImage:'linear-gradient(rgba(0, 0, 0, 0.1) 0%, rgba(0, 0, 0, 0.4) 100%), url("https://cdn.usegalileo.ai/sdxl10/d0342d60-6ca8-4000-abde-e44f0d824c83.png")'},children:[w.jsxs("div",{className:"flex flex-col gap-2 text-left",children:[w.jsx("h1",{className:"text-white text-4xl font-black leading-tight tracking-[-0.033em] @[480px]:text-5xl @[480px]:font-black @[480px]:leading-tight @[480px]:tracking-[-0.033em]",children:"Saanjh Sahayak, better care for our elders"}),w.jsx("h2",{className:"text-white text-sm font-normal leading-normal @[480px]:text-base @[480px]:font-normal @[480px]:leading-normal",children:"We are here to provide comprehensive and compassionate care to the elderly in old age homes."})]}),w.jsx("label",{className:"flex flex-col min-w-40 h-14 w-full max-w-[480px] @[480px]:h-16"})]})})}),w.jsxs("div",{className:"flex flex-col gap-10 px-4 py-10 @container",ref:n,children:[w.jsx("h1",{className:"text-[#1C1D22] tracking-light text-[32px] font-bold leading-tight @[480px]:text-4xl @[480px]:font-black @[480px]:leading-tight @[480px]:tracking-[-0.033em] max-w-[720px]",children:"For Caretakers"}),w.jsxs("div",{className:"grid grid-cols-[repeat(auto-fit,minmax(158px,1fr))] gap-3 p-0",children:[w.jsxs("div",{className:"flex flex-1 gap-3 rounded-lg border border-[#D5D6DD] bg-[#FFFFFF] p-4 flex-col",children:[w.jsx("div",{className:"text-[#1C1D22]","data-icon":"FirstAid","data-size":"24px","data-weight":"regular",children:w.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24px",height:"24px",fill:"currentColor",viewBox:"0 0 256 256",children:w.jsx("path",{d:"M216,88H168V40a16,16,0,0,0-16-16H104A16,16,0,0,0,88,40V88H40a16,16,0,0,0-16,16v48a16,16,0,0,0,16,16H88v48a16,16,0,0,0,16,16h48a16,16,0,0,0,16-16V168h48a16,16,0,0,0,16-16V104A16,16,0,0,0,216,88Zm0,64H160a8,8,0,0,0-8,8v56H104V160a8,8,0,0,0-8-8H40V104H96a8,8,0,0,0,8-8V40h48V96a8,8,0,0,0,8,8h56Z"})})}),w.jsxs("div",{className:"flex flex-col gap-1",children:[w.jsx("h2",{className:"text-[#1C1D22] text-base font-bold leading-tight",children:"Upload and Monitor Patient Reports"}),w.jsx("p",{className:"text-[#3C3F4A] text-sm font-normal leading-normal",children:"Easily upload and monitor patient reports. Our system is designed to handle a variety of formats, ensuring a seamless experience."})]})]}),w.jsxs("div",{className:"flex flex-1 gap-3 rounded-lg border border-[#D5D6DD] bg-[#FFFFFF] p-4 flex-col",children:[w.jsx("div",{className:"text-[#1C1D22]","data-icon":"Notification","data-size":"24px","data-weight":"regular",children:w.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24px",height:"24px",fill:"currentColor",viewBox:"0 0 256 256",children:w.jsx("path",{d:"M216,128v80a16,16,0,0,1-16,16H48a16,16,0,0,1-16-16V56A16,16,0,0,1,48,40h80a8,8,0,0,1,0,16H48V208H200V128a8,8,0,0,1,16,0Zm16-68a36,36,0,1,1-36-36A36,36,0,0,1,232,60Zm-16,0a20,20,0,1,0-20,20A20,20,0,0,0,216,60Z"})})}),w.jsxs("div",{className:"flex flex-col gap-1",children:[w.jsx("h2",{className:"text-[#1C1D22] text-base font-bold leading-tight",children:"Receive Alerts and Reminders"}),w.jsx("p",{className:"text-[#3C3F4A] text-sm font-normal leading-normal",children:"Get instant alerts and reminders for medication, doctor's appointments, and more. Stay on top of your loved one's care."})]})]})]})]}),w.jsxs("div",{className:"flex flex-col gap-10 px-4 py-10 @container",children:[w.jsx("h1",{className:"text-[#1C1D22] tracking-light text-[32px] font-bold leading-tight @[480px]:text-4xl @[480px]:font-black @[480px]:leading-tight @[480px]:tracking-[-0.033em] max-w-[720px]",children:"For Doctors"}),w.jsxs("div",{className:"grid grid-cols-[repeat(auto-fit,minmax(158px,1fr))] gap-3 p-0",children:[w.jsxs("div",{className:"flex flex-1 gap-3 rounded-lg border border-[#D5D6DD] bg-[#FFFFFF] p-4 flex-col",children:[w.jsx("div",{className:"text-[#1C1D22]","data-icon":"FirstAid","data-size":"24px","data-weight":"regular",children:w.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24px",height:"24px",fill:"currentColor",viewBox:"0 0 256 256",children:w.jsx("path",{d:"M216,88H168V40a16,16,0,0,0-16-16H104A16,16,0,0,0,88,40V88H40a16,16,0,0,0-16,16v48a16,16,0,0,0,16,16H88v48a16,16,0,0,0,16,16h48a16,16,0,0,0,16-16V168h48a16,16,0,0,0,16-16V104A16,16,0,0,0,216,88Zm0,64H160a8,8,0,0,0-8,8v56H104V160a8,8,0,0,0-8-8H40V104H96a8,8,0,0,0,8-8V40h48V96a8,8,0,0,0,8,8h56Z"})})}),w.jsxs("div",{className:"flex flex-col gap-1",children:[w.jsx("h2",{className:"text-[#1C1D22] text-base font-bold leading-tight",children:"Verify Patient Information"}),w.jsx("p",{className:"text-[#3C3F4A] text-sm font-normal leading-normal",children:"Quickly and securely verify patient information. Our platform is designed to ensure compliance with privacy and data protection regulations."})]})]}),w.jsxs("div",{className:"flex flex-1 gap-3 rounded-lg border border-[#D5D6DD] bg-[#FFFFFF] p-4 flex-col",children:[w.jsx("div",{className:"text-[#1C1D22]","data-icon":"Translate","data-size":"24px","data-weight":"regular",children:w.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24px",height:"24px",fill:"currentColor",viewBox:"0 0 256 256",children:w.jsx("path",{d:"M239.15,212.42l-56-112a8,8,0,0,0-14.31,0l-21.71,43.43A88,88,0,0,1,100,126.93,103.65,103.65,0,0,0,127.69,64H152a8,8,0,0,0,0-16H96V32a8,8,0,0,0-16,0V48H24a8,8,0,0,0,0,16h87.63A87.76,87.76,0,0,1,88,116.35a87.74,87.74,0,0,1-19-31,8,8,0,1,0-15.08,5.34A103.63,103.63,0,0,0,76,127a87.55,87.55,0,0,1-52,17,8,8,0,0,0,0,16,103.46,103.46,0,0,0,64-22.08,104.18,104.18,0,0,0,51.44,21.31l-26.6,53.19a8,8,0,0,0,14.31,7.16L140.94,192h70.11l13.79,27.58A8,8,0,0,0,232,224a8,8,0,0,0,7.15-11.58ZM148.94,176,176,121.89,203.05,176Z"})})}),w.jsxs("div",{className:"flex flex-col gap-1",children:[w.jsx("h2",{className:"text-[#1C1D22] text-base font-bold leading-tight",children:"Analyze with Large Language Model"}),w.jsx("p",{className:"text-[#3C3F4A] text-sm font-normal leading-normal",children:"Utilize our powerful Large Language Model for in-depth patient analysis. Get insights and recommendations based on the latest medical research."})]})]})]})]}),w.jsxs("div",{className:"grid grid-cols-[repeat(auto-fit,minmax(158px,1fr))] gap-3 p-4",children:[w.jsxs("div",{className:"flex flex-col gap-3 pb-3",children:[w.jsx("div",{className:"w-full bg-center bg-no-repeat aspect-video bg-cover rounded-xl",style:{backgroundImage:'url("https://cdn.usegalileo.ai/stability/fb823941-87a6-47fb-998f-c8224ea8c6db.png")'}}),w.jsxs("div",{children:[w.jsx("p",{className:"text-[#1C1D22] text-base font-medium leading-normal",children:"Get help from experts"}),w.jsx("p",{className:"text-[#3C3F4A] text-sm font-normal leading-normal",children:"Our team of geriatricians and nurse practitioners are here to help."})]})]}),w.jsxs("div",{className:"flex flex-col gap-3 pb-3",children:[w.jsx("div",{className:"w-full bg-center bg-no-repeat aspect-video bg-cover rounded-xl",style:{backgroundImage:'url("https://cdn.usegalileo.ai/stability/b543c2c9-c73f-4636-8737-59e6d3f7a20e.png")'}}),w.jsxs("div",{children:[w.jsx("p",{className:"text-[#1C1D22] text-base font-medium leading-normal",children:"Stay connected"}),w.jsx("p",{className:"text-[#3C3F4A] text-sm font-normal leading-normal",children:"Easily communicate with our team via video calls, phone calls, or chat."})]})]}),w.jsxs("div",{className:"flex flex-col gap-3 pb-3",children:[w.jsx("div",{className:"w-full bg-center bg-no-repeat aspect-video bg-cover rounded-xl",style:{backgroundImage:'url("https://cdn.usegalileo.ai/sdxl10/8329d0d0-4083-4c19-89c0-de0625991c40.png")'}}),w.jsxs("div",{children:[w.jsx("p",{className:"text-[#1C1D22] text-base font-medium leading-normal",children:"Get reminders"}),w.jsx("p",{className:"text-[#3C3F4A] text-sm font-normal leading-normal",children:"Set up medication reminders and get alerts when it's time to take a dose."})]})]})]})]})})]})})};var fS={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},pw=Me.createContext&&Me.createContext(fS),IN=["attr","size","title"];function ON(n,e){if(n==null)return{};var t=jN(n,e),i,r;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);for(r=0;r<s.length;r++)i=s[r],!(e.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(n,i)&&(t[i]=n[i])}return t}function jN(n,e){if(n==null)return{};var t={};for(var i in n)if(Object.prototype.hasOwnProperty.call(n,i)){if(e.indexOf(i)>=0)continue;t[i]=n[i]}return t}function ip(){return ip=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},ip.apply(this,arguments)}function mw(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function rp(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?mw(Object(t),!0).forEach(function(i){$N(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):mw(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function $N(n,e,t){return e=HN(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function HN(n){var e=BN(n,"string");return typeof e=="symbol"?e:e+""}function BN(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e||"default");if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function pS(n){return n&&n.map((e,t)=>Me.createElement(e.tag,rp({key:t},e.attr),pS(e.child)))}function zN(n){return e=>Me.createElement(UN,ip({attr:rp({},n.attr)},e),pS(n.child))}function UN(n){var e=t=>{var{attr:i,size:r,title:s}=n,o=ON(n,IN),a=r||t.size||"1em",l;return t.className&&(l=t.className),n.className&&(l=(l?l+" ":"")+n.className),Me.createElement("svg",ip({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,i,o,{className:l,style:rp(rp({color:n.color||t.color},t.style),n.style),height:a,width:a,xmlns:"http://www.w3.org/2000/svg"}),s&&Me.createElement("title",null,s),n.children)};return pw!==void 0?Me.createElement(pw.Consumer,null,t=>e(t)):e(fS)}function VN(n){return zN({tag:"svg",attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M402.6 83.2l90.2 90.2c3.8 3.8 3.8 10 0 13.8L274.4 405.6l-92.8 10.3c-12.4 1.4-22.9-9.1-21.5-21.5l10.3-92.8L388.8 83.2c3.8-3.8 10-3.8 13.8 0zm162-22.9l-48.8-48.8c-15.2-15.2-39.9-15.2-55.2 0l-35.4 35.4c-3.8 3.8-3.8 10 0 13.8l90.2 90.2c3.8 3.8 10 3.8 13.8 0l35.4-35.4c15.2-15.3 15.2-40 0-55.2zM384 346.2V448H64V128h229.8c3.2 0 6.2-1.3 8.5-3.5l40-40c7.6-7.6 2.2-20.5-8.5-20.5H48C21.5 64 0 85.5 0 112v352c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V306.2c0-10.7-12.9-16-20.5-8.5l-40 40c-2.2 2.3-3.5 5.3-3.5 8.5z"},child:[]}]})(n)}function WN(n){const[e,t]=C.useState(n.id),[i,r]=C.useState();async function s(){const l=await Te.get(`/en/getpatient/${e}`);r(l.data)}C.useEffect(()=>{s()},[e]);const o=l=>{const u=new Date,d=new Date(l);let h=u.getFullYear()-d.getFullYear();const f=u.getMonth()-d.getMonth();return(f<0||f===0&&u.getDate()<d.getDate())&&h--,h},a=[{date:"July 15, 2022",report:"Blood Test"},{date:"June 12, 2022",report:"X-ray"},{date:"March 22, 2022",report:"Blood Test"}];return i&&w.jsx("div",{className:"px-40 flex flex-1 justify-center py-5",children:w.jsxs("div",{className:"layout-content-container flex flex-col max-w-[960px] flex-1",children:[w.jsxs("div",{className:"relative flex p-4 @container",children:[w.jsx("div",{className:`absolute top-2 right-2 ${n.isDoctor?"hidden":""}`,children:w.jsx("button",{className:"text-blue-500 hover:text-blue-700",children:w.jsx(VN,{size:20})})}),w.jsx("div",{className:"flex w-full flex-col gap-4 @[520px]:flex-row @[520px]:justify-between @[520px]:items-center",children:w.jsxs("div",{className:"flex gap-4 self-start",children:[w.jsx("div",{className:"bg-center bg-no-repeat aspect-square bg-cover rounded-full min-h-32 w-32",style:{backgroundImage:'url("https://cdn.usegalileo.ai/stability/4085b1e6-79ae-4450-b2e6-2a0385966715.png")'}}),w.jsxs("div",{className:"flex flex-col justify-center",children:[w.jsx("p",{className:"text-[#0d151c] text-[22px] font-bold leading-tight tracking-[-0.015em]",children:i.name}),w.jsxs("p",{className:"text-[#49779c] text-base font-normal leading-normal",children:["Age ",o(i.DOB),", ",i.gender,", Blood type: ",i.bloodGroup]})]})]})})]}),w.jsxs("div",{className:"flex gap-4 bg-slate-50 px-4 py-3",children:[w.jsx("div",{className:"text-[#0d151c] flex items-center justify-center rounded-lg bg-[#e7eef4] shrink-0 size-12","data-icon":"User","data-size":"24px","data-weight":"regular",children:w.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24px",height:"24px",fill:"currentColor",viewBox:"0 0 256 256",children:w.jsx("path",{d:"M230.92,212c-15.23-26.33-38.7-45.21-66.09-54.16a72,72,0,1,0-73.66,0C63.78,166.78,40.31,185.66,25.08,212a8,8,0,1,0,13.85,8c18.84-32.56,52.14-52,89.07-52s70.23,19.44,89.07,52a8,8,0,1,0,13.85-8ZM72,96a56,56,0,1,1,56,56A56.06,56.06,0,0,1,72,96Z"})})}),w.jsxs("div",{className:"flex flex-1 flex-col justify-center",children:[w.jsx("p",{className:"text-[#0d151c] text-base font-medium leading-normal",children:"Patient Information"}),w.jsxs("p",{className:"text-[#49779c] text-sm font-normal leading-normal",children:["Previous test reports: ",i.reportsList.length]}),w.jsx("p",{className:"text-[#49779c] text-sm font-normal leading-normal",children:"Known health conditions: Asthma, Allergies"})]})]}),w.jsxs("div",{className:"flex items-center gap-4 bg-slate-50 px-4 min-h-14 justify-between",children:[w.jsxs("div",{className:"flex items-center gap-4",children:[w.jsx("div",{className:"text-[#0d151c] flex items-center justify-center rounded-lg bg-[#e7eef4] shrink-0 size-10","data-icon":"Phone","data-size":"24px","data-weight":"regular",children:w.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24px",height:"24px",fill:"currentColor",viewBox:"0 0 256 256",children:w.jsx("path",{d:"M222.37,158.46l-47.11-21.11-.13-.06a16,16,0,0,0-15.17,1.4,8.12,8.12,0,0,0-.75.56L134.87,160c-15.42-7.49-31.34-23.29-38.83-38.51l20.78-24.71c.2-.25.39-.5.57-.77a16,16,0,0,0,1.32-15.06l0-.12L97.54,33.64a16,16,0,0,0-16.62-9.52A56.26,56.26,0,0,0,32,80c0,79.4,64.6,144,144,144a56.26,56.26,0,0,0,55.88-48.92A16,16,0,0,0,222.37,158.46ZM176,208A128.14,128.14,0,0,1,48,80,40.2,40.2,0,0,1,82.87,40a.61.61,0,0,0,0,.12l21,47L83.2,111.86a6.13,6.13,0,0,0-.57.77,16,16,0,0,0-1,15.7c9.06,18.53,27.73,37.06,46.46,46.11a16,16,0,0,0,15.75-1.14,8.44,8.44,0,0,0,.74-.56L168.89,152l47,21.05h0s.08,0,.11,0A40.21,40.21,0,0,1,176,208Z"})})}),w.jsx("p",{className:"text-[#0d151c] text-base font-normal leading-normal flex-1 truncate",children:"Contact Number"})]}),w.jsx("div",{className:"shrink-0",children:w.jsxs("p",{className:"text-[#0d151c] text-base font-normal leading-normal",children:["(+91) ",i.phone]})})]}),w.jsxs("div",{className:"flex justify-between items-center px-4 pb-3 pt-5",children:[w.jsx("h2",{className:"text-[#0d151c] text-[22px] font-bold leading-tight tracking-[-0.015em]",children:"Report History"}),w.jsx("button",{className:`bg-blue-500 text-white px-4 py-2 rounded ${n.isDoctor?"hidden":""}`,children:"Upload Reports"})]}),w.jsx("div",{children:a.map((l,u)=>w.jsxs("div",{className:"flex items-center gap-4 bg-slate-50 px-4 min-h-[72px] py-2 justify-between",children:[w.jsxs("div",{className:"flex items-center gap-4",children:[w.jsx("div",{className:"text-[#0d151c] flex items-center justify-center rounded-lg bg-[#e7eef4] shrink-0 size-12","data-icon":"File","data-size":"24px","data-weight":"regular",children:w.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24px",height:"24px",fill:"currentColor",viewBox:"0 0 256 256",children:w.jsx("path",{d:"M213.66,82.34l-56-56A8,8,0,0,0,152,24H56A16,16,0,0,0,40,40V216a16,16,0,0,0,16,16H200a16,16,0,0,0,16-16V88A8,8,0,0,0,213.66,82.34ZM160,51.31,188.69,80H160ZM200,216H56V40h88V88a8,8,0,0,0,8,8h48V216Z"})})}),w.jsxs("div",{className:"flex flex-col justify-center",children:[w.jsx("p",{className:"text-[#0d151c] text-base font-medium leading-normal line-clamp-1",children:l.date}),w.jsx("p",{className:"text-[#49779c] text-sm font-normal leading-normal line-clamp-2",children:l.report})]})]}),w.jsx("div",{className:"shrink-0",children:w.jsx("div",{className:"text-[#0d151c] flex size-7 items-center justify-center","data-icon":"CaretRight","data-size":"24px","data-weight":"regular",children:w.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24px",height:"24px",fill:"currentColor",viewBox:"0 0 256 256",children:w.jsx("path",{d:"M181.66,133.66l-80,80a8,8,0,0,1-11.32-11.32L164.69,128,90.34,53.66a8,8,0,0,1,11.32-11.32l80,80A8,8,0,0,1,181.66,133.66Z"})})})})]},u))})]})})}function GN(n){const{state:e}=I1(),{id:t}=e;return w.jsx("div",{className:"relative flex size-full min-h-screen flex-col bg-slate-50 group/design-root overflow-x-hidden",style:{fontFamily:'Manrope, "Noto Sans", sans-serif;'},children:w.jsxs("div",{className:"layout-container flex h-full grow flex-col",children:[w.jsx(hS,{patient:!0,isDoctor:n.isDoctor}),w.jsx(WN,{isDoctor:n.isDoctor,id:t})]})})}function qN(n){const[e,t]=C.useState(""),[i,r]=C.useState(""),[s,o]=C.useState(!1);let a=Qd();const l=()=>{o(!s)},u={"--checkbox-tick-svg":"url('data:image/svg+xml,%3csvg viewBox=%270 0 16 16%27 fill=%27rgb(248,250,252)%27 xmlns=%27http://www.w3.org/2000/svg%27%3e%3cpath d=%27M12.207 4.793a1 1 0 010 1.414l-5 5a1 1 0 01-1.414 0l-2-2a1 1 0 011.414-1.414L6.5 9.086l4.293-4.293a1 1 0 011.414 0z%27/%3e%3c/svg%3e')",fontFamily:"Manrope, 'Noto Sans', sans-serif"};return w.jsx("div",{className:"relative flex size-full min-h-screen flex-col bg-slate-50 group/design-root overflow-x-hidden",style:u,children:w.jsxs("div",{className:"layout-container flex h-full grow flex-col",children:[w.jsx("header",{className:"flex items-center justify-between whitespace-nowrap border-b border-solid border-b-[#e7edf3] px-10 py-3",children:w.jsxs("div",{className:"flex items-center gap-4 text-[#0e141b]",children:[w.jsx("div",{className:"size-4",children:w.jsx("svg",{viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:w.jsx("path",{d:"M4 42.4379C4 42.4379 14.0962 36.0744 24 41.1692C35.0664 46.8624 44 42.2078 44 42.2078L44 7.01134C44 7.01134 35.068 11.6577 24.0031 5.96913C14.0971 0.876274 4 7.27094 4 7.27094L4 42.4379Z",fill:"currentColor",ō:!0})})}),w.jsx("h2",{className:"text-[#0e141b] text-lg font-bold leading-tight tracking-[-0.015em]",children:"HealthCo"})]})}),w.jsx("div",{className:"px-40 flex flex-1 justify-center py-5",children:w.jsxs("div",{className:"layout-content-container flex flex-col w-[512px] max-w-[512px] py-5 max-w-[960px] flex-1",children:[w.jsx("h2",{className:"text-[#0e141b] tracking-light text-[28px] font-bold leading-tight px-4 text-center pb-3 pt-5",children:"Welcome to HealthCo"}),w.jsx("p",{className:"text-[#0e141b] text-base font-normal leading-normal pb-3 pt-1 px-4 text-center",children:"Please select if you are a doctor or a caretaker."}),w.jsx("div",{className:"flex justify-stretch",children:w.jsxs("div",{className:"flex flex-1 gap-3 flex-wrap px-4 py-3 justify-center ",children:[w.jsx("button",{className:`flex min-w-[84px] max-w-[480px] cursor-pointer items-center justify-center overflow-hidden rounded-xl h-10 px-4 ${n.isDoctor?" bg-[#1980e6] text-slate-50":"bg-[#e7edf3]  text-[#0e141b]"} text-sm font-bold leading-normal tracking-[0.015em]`,onClick:()=>n.setIsDoctor(!0),children:w.jsx("span",{className:"truncate",children:"Doctor"})}),w.jsx("button",{className:`flex min-w-[84px] max-w-[480px] cursor-pointer items-center justify-center overflow-hidden rounded-xl h-10 px-4 ${n.isDoctor?"bg-[#e7edf3]  text-[#0e141b]":" bg-[#1980e6] text-slate-50"} text-sm font-bold leading-normal tracking-[0.015em]`,onClick:()=>n.setIsDoctor(!1),children:w.jsx("span",{className:"truncate",children:"Caretaker"})})]})}),w.jsx("div",{className:"flex max-w-[480px] flex-1 flex-wrap items-end gap-4 px-4 py-3 self-center",children:w.jsxs("label",{className:"flex flex-col min-w-96 flex-1",children:[w.jsx("p",{className:"text-[#0e141b] text-base font-medium leading-normal pb-2",children:"ID"}),w.jsx("input",{placeholder:"Enter your ID",className:"form-input flex w-full min-w-0 flex-1 resize-none overflow-hidden rounded-xl text-[#0e141b] focus:outline-0 focus:ring-0 border-none bg-[#e7edf3] focus:border-none h-14 placeholder:text-[#4e7397] p-4 text-base font-normal leading-normal",value:e,onChange:d=>t(d.target.value)})]})}),w.jsx("div",{className:"flex max-w-[480px] flex-1 flex-wrap items-end gap-4 px-4 py-3 self-center",children:w.jsxs("label",{className:"flex flex-col min-w-96 flex-1",children:[w.jsx("p",{className:"text-[#0e141b] text-base font-medium leading-normal pb-2",children:"Password"}),w.jsxs("div",{className:"relative",children:[w.jsx("input",{placeholder:"Enter your password",className:"form-input flex w-full min-w-0 flex-1 resize-none overflow-hidden rounded-xl text-[#0e141b] focus:outline-0 focus:ring-0 border-none bg-[#e7edf3] focus:border-none h-14 placeholder:text-[#4e7397] p-4 text-base font-normal leading-normal",value:i,onChange:d=>r(d.target.value),type:s?"text":"password"}),w.jsx("button",{type:"button",className:"absolute right-4 top-1/2 transform -translate-y-1/2 text-sm text-gray-600",onClick:l,children:s?w.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-5 h-5",children:[w.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.036 12.322a1.012 1.012 0 010-.639C3.423 7.51 7.36 4.5 12 4.5c4.638 0 8.573 3.007 9.963 7.178.07.207.07.431 0 .639C20.577 16.49 16.64 19.5 12 19.5c-4.638 0-8.573-3.007-9.963-7.178z"}),w.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})]}):w.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-5 h-5",children:w.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.98 8.223A10.477 10.477 0 001.934 12C3.226 16.338 7.244 19.5 12 19.5c.993 0 1.953-.138 2.863-.395M6.228 6.228A10.45 10.45 0 0112 4.5c4.756 0 8.773 3.162 10.065 7.498a10.523 10.523 0 01-4.293 5.774M6.228 6.228L3 3m3.228 3.228l3.65 3.65m7.894 7.894L21 21m-3.228-3.228l-3.65-3.65m0 0a3 3 0 10-4.243-4.243m4.242 4.242L9.88 9.88"})})})]})]})}),w.jsx("div",{className:"px-4 self-center"})]})}),w.jsx("footer",{className:"flex justify-center",children:w.jsxs("div",{className:"flex max-w-[960px] flex-1 flex-col",children:[w.jsx("p",{className:"text-[#4e7397] text-sm font-normal leading-normal pb-3 pt-1 px-4 text-center",children:"By continuing, you agree to our Terms of Use and Privacy Policy"}),w.jsx("div",{className:"flex px-4 py-3 justify-center",children:w.jsx("button",{className:"flex min-w-[84px] max-w-[143px] cursor-pointer items-center justify-center overflow-hidden rounded-xl h-10 px-4 flex-1 bg-[#1980e6] text-slate-50 text-sm font-bold leading-normal tracking-[0.015em]",onClick:()=>a("/main"),children:w.jsx("span",{className:"truncate",children:"Sign in"})})})]})})]})})}const XN=()=>{const[n,e]=C.useState(null),t=i=>{e(i)};return w.jsx("div",{className:"relative flex items-center justify-center min-h-screen bg-slate-50",children:w.jsxs("div",{className:"layout-container flex flex-col max-w-[960px] w-full px-6",children:[w.jsxs("header",{className:"flex items-center justify-between border-b border-solid border-b-[#e7edf3] px-4 py-3",children:[w.jsxs("div",{className:"flex items-center gap-4 text-[#0e141b]",children:[w.jsx("div",{className:"size-4",children:w.jsx("svg",{viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:w.jsx("path",{d:"M4 42.4379C4 42.4379 14.0962 36.0744 24 41.1692C35.0664 46.8624 44 42.2078 44 42.2078L44 7.01134C44 7.01134 35.068 11.6577 24.0031 5.96913C14.0971 0.876274 4 7.27094 4 7.27094L4 42.4379Z",fill:"currentColor"})})}),w.jsx("h2",{className:"text-[#0e141b] text-lg font-bold leading-tight tracking-[-0.015em]",children:"HealthCo"})]}),w.jsxs("div",{className:"flex items-center gap-8",children:[w.jsx("button",{className:"text-[#1980e6] text-sm font-medium leading-normal",onClick:()=>alert("Link to professionals"),children:"For professionals"}),w.jsx("button",{className:"text-[#1980e6] text-sm font-medium leading-normal",onClick:()=>alert("Link to caretakers"),children:"For caretakers"})]})]}),w.jsxs("div",{className:"flex flex-col items-center justify-center flex-1",children:[w.jsx("h2",{className:"text-[#0e141b] tracking-light text-[28px] font-bold leading-tight pb-3",children:"Welcome to HealthCo"}),w.jsx("button",{className:"bg-[#1980e6] text-slate-50 text-base font-bold leading-normal tracking-[0.015em] py-3 px-8 rounded-lg mb-6",onClick:()=>alert("Display user selection"),children:"Select User"}),n===null&&w.jsxs("div",{className:"flex gap-6",children:[w.jsx("button",{className:"flex items-center justify-center bg-[#1980e6] text-slate-50 text-base font-bold leading-normal tracking-[0.015em] py-3 px-8 rounded-lg",onClick:()=>t("doctor"),children:"Doctor"}),w.jsx("button",{className:"flex items-center justify-center bg-[#1980e6] text-slate-50 text-base font-bold leading-normal tracking-[0.015em] py-3 px-8 rounded-lg",onClick:()=>t("caretaker"),children:"Caretaker"})]}),n&&w.jsxs("div",{className:"text-[#0e141b] text-base font-normal leading-normal mt-4",children:["You are signed in as ",w.jsx("strong",{children:n}),"."]})]}),w.jsx("footer",{className:"flex justify-center py-3",children:w.jsx("p",{className:"text-[#4e7397] text-sm font-normal leading-normal",children:"By continuing, you agree to our Terms of Use and Privacy Policy"})})]})})},KN="modulepreload",YN=function(n){return"/"+n},gw={},Rh=function(e,t,i){let r=Promise.resolve();if(t&&t.length>0){document.getElementsByTagName("link");const s=document.querySelector("meta[property=csp-nonce]"),o=(s==null?void 0:s.nonce)||(s==null?void 0:s.getAttribute("nonce"));r=Promise.all(t.map(a=>{if(a=YN(a),a in gw)return;gw[a]=!0;const l=a.endsWith(".css"),u=l?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${a}"]${u}`))return;const d=document.createElement("link");if(d.rel=l?"stylesheet":KN,l||(d.as="script",d.crossOrigin=""),d.href=a,o&&d.setAttribute("nonce",o),document.head.appendChild(d),l)return new Promise((h,f)=>{d.addEventListener("load",h),d.addEventListener("error",()=>f(new Error(`Unable to preload CSS for ${a}`)))})}))}return r.then(()=>e()).catch(s=>{const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=s,window.dispatchEvent(o),!o.defaultPrevented)throw s})};var Bc={};Bc.d=(n,e)=>{for(var t in e)Bc.o(e,t)&&!Bc.o(n,t)&&Object.defineProperty(n,t,{enumerable:!0,get:e[t]})};Bc.o=(n,e)=>Object.prototype.hasOwnProperty.call(n,e);var q=globalThis.pdfjsLib={};Bc.d(q,{AbortException:()=>aa,AnnotationEditorLayer:()=>Fv,AnnotationEditorParamsType:()=>Q,AnnotationEditorType:()=>ae,AnnotationEditorUIManager:()=>ea,AnnotationLayer:()=>XF,AnnotationMode:()=>$r,CMapCompressionType:()=>S0,ColorPicker:()=>cp,DOMSVGFactory:()=>iy,DrawLayer:()=>jv,FeatureTest:()=>Wt,GlobalWorkerOptions:()=>vr,ImageKind:()=>Qh,InvalidPDFException:()=>gS,MissingPDFException:()=>oa,OPS:()=>Hn,Outliner:()=>mv,PDFDataRangeTransport:()=>l2,PDFDateString:()=>AS,PDFWorker:()=>ja,PasswordResponses:()=>eM,PermissionFlag:()=>JN,PixelsPerInch:()=>Ss,RenderingCancelledException:()=>ry,TextLayer:()=>Hl,UnexpectedResponseException:()=>cm,Util:()=>V,VerbosityLevel:()=>om,XfaLayer:()=>u2,build:()=>TF,createValidAbsoluteUrl:()=>rM,fetchData:()=>mm,getDocument:()=>xF,getFilenameFromUrl:()=>pM,getPdfFilenameFromUrl:()=>mM,getXfaPageViewport:()=>gM,isDataScheme:()=>sy,isPdfFile:()=>oy,noContextMenu:()=>Qt,normalizeUnicode:()=>uM,renderTextLayer:()=>uF,setLayerDimensions:()=>Jo,shadow:()=>le,updateTextLayer:()=>dF,version:()=>kF});const St=typeof process=="object"&&process+""=="[object process]"&&!process.versions.nw&&!(process.versions.electron&&process.type&&process.type!=="browser"),mS=[1,0,0,1,0,0],A0=[.001,0,0,.001,0,0],QN=1e7,sg=1.35,En={ANY:1,DISPLAY:2,PRINT:4,SAVE:8,ANNOTATIONS_FORMS:16,ANNOTATIONS_STORAGE:32,ANNOTATIONS_DISABLE:64,OPLIST:256},$r={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3},ZN="pdfjs_internal_editor_",ae={DISABLE:-1,NONE:0,FREETEXT:3,HIGHLIGHT:9,STAMP:13,INK:15},Q={RESIZE:1,CREATE:2,FREETEXT_SIZE:11,FREETEXT_COLOR:12,FREETEXT_OPACITY:13,INK_COLOR:21,INK_THICKNESS:22,INK_OPACITY:23,HIGHLIGHT_COLOR:31,HIGHLIGHT_DEFAULT_COLOR:32,HIGHLIGHT_THICKNESS:33,HIGHLIGHT_FREE:34,HIGHLIGHT_SHOW_ALL:35},JN={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048},xt={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_ADD_TO_PATH:4,STROKE_ADD_TO_PATH:5,FILL_STROKE_ADD_TO_PATH:6,ADD_TO_PATH:7,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4},Qh={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3},We={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,SOUND:18,MOVIE:19,WIDGET:20,SCREEN:21,PRINTERMARK:22,TRAPNET:23,WATERMARK:24,THREED:25,REDACT:26},lc={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5},om={ERRORS:0,WARNINGS:1,INFOS:5},S0={NONE:0,BINARY:1},Hn={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotation:80,endAnnotation:81,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91},eM={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};let am=om.WARNINGS;function tM(n){Number.isInteger(n)&&(am=n)}function nM(){return am}function lm(n){am>=om.INFOS&&console.log(`Info: ${n}`)}function ee(n){am>=om.WARNINGS&&console.log(`Warning: ${n}`)}function ye(n){throw new Error(n)}function Qe(n,e){n||ye(e)}function iM(n){switch(n==null?void 0:n.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}function rM(n,e=null,t=null){if(!n)return null;try{if(t&&typeof n=="string"){if(t.addDefaultProtocol&&n.startsWith("www.")){const r=n.match(/\./g);(r==null?void 0:r.length)>=2&&(n=`http://${n}`)}if(t.tryConvertEncoding)try{n=cM(n)}catch{}}const i=e?new URL(n,e):new URL(n);if(iM(i))return i}catch{}return null}function le(n,e,t,i=!1){return Object.defineProperty(n,e,{value:t,enumerable:!i,configurable:!0,writable:!1}),t}const Ps=function(){function e(t,i){this.constructor===e&&ye("Cannot initialize BaseException."),this.message=t,this.name=i}return e.prototype=new Error,e.constructor=e,e}();class C0 extends Ps{constructor(e,t){super(e,"PasswordException"),this.code=t}}class _0 extends Ps{constructor(e,t){super(e,"UnknownErrorException"),this.details=t}}class gS extends Ps{constructor(e){super(e,"InvalidPDFException")}}class oa extends Ps{constructor(e){super(e,"MissingPDFException")}}class cm extends Ps{constructor(e,t){super(e,"UnexpectedResponseException"),this.status=t}}class sM extends Ps{constructor(e){super(e,"FormatError")}}class aa extends Ps{constructor(e){super(e,"AbortException")}}function vS(n){(typeof n!="object"||(n==null?void 0:n.length)===void 0)&&ye("Invalid argument for bytesToString");const e=n.length,t=8192;if(e<t)return String.fromCharCode.apply(null,n);const i=[];for(let r=0;r<e;r+=t){const s=Math.min(r+t,e),o=n.subarray(r,s);i.push(String.fromCharCode.apply(null,o))}return i.join("")}function um(n){typeof n!="string"&&ye("Invalid argument for stringToBytes");const e=n.length,t=new Uint8Array(e);for(let i=0;i<e;++i)t[i]=n.charCodeAt(i)&255;return t}function oM(n){return String.fromCharCode(n>>24&255,n>>16&255,n>>8&255,n&255)}function ty(n){const e=Object.create(null);for(const[t,i]of n)e[t]=i;return e}function aM(){const n=new Uint8Array(4);return n[0]=1,new Uint32Array(n.buffer,0,1)[0]===1}function lM(){try{return new Function(""),!0}catch{return!1}}class Wt{static get isLittleEndian(){return le(this,"isLittleEndian",aM())}static get isEvalSupported(){return le(this,"isEvalSupported",lM())}static get isOffscreenCanvasSupported(){return le(this,"isOffscreenCanvasSupported",typeof OffscreenCanvas<"u")}static get platform(){return typeof navigator<"u"&&typeof(navigator==null?void 0:navigator.platform)=="string"?le(this,"platform",{isMac:navigator.platform.includes("Mac")}):le(this,"platform",{isMac:!1})}static get isCSSRoundSupported(){var e,t;return le(this,"isCSSRoundSupported",(t=(e=globalThis.CSS)==null?void 0:e.supports)==null?void 0:t.call(e,"width: round(1.5px, 1px)"))}}const og=Array.from(Array(256).keys(),n=>n.toString(16).padStart(2,"0"));var xr,Zh,k0;class V{static makeHexColor(e,t,i){return`#${og[e]}${og[t]}${og[i]}`}static scaleMinMax(e,t){let i;e[0]?(e[0]<0&&(i=t[0],t[0]=t[2],t[2]=i),t[0]*=e[0],t[2]*=e[0],e[3]<0&&(i=t[1],t[1]=t[3],t[3]=i),t[1]*=e[3],t[3]*=e[3]):(i=t[0],t[0]=t[1],t[1]=i,i=t[2],t[2]=t[3],t[3]=i,e[1]<0&&(i=t[1],t[1]=t[3],t[3]=i),t[1]*=e[1],t[3]*=e[1],e[2]<0&&(i=t[0],t[0]=t[2],t[2]=i),t[0]*=e[2],t[2]*=e[2]),t[0]+=e[4],t[1]+=e[5],t[2]+=e[4],t[3]+=e[5]}static transform(e,t){return[e[0]*t[0]+e[2]*t[1],e[1]*t[0]+e[3]*t[1],e[0]*t[2]+e[2]*t[3],e[1]*t[2]+e[3]*t[3],e[0]*t[4]+e[2]*t[5]+e[4],e[1]*t[4]+e[3]*t[5]+e[5]]}static applyTransform(e,t){const i=e[0]*t[0]+e[1]*t[2]+t[4],r=e[0]*t[1]+e[1]*t[3]+t[5];return[i,r]}static applyInverseTransform(e,t){const i=t[0]*t[3]-t[1]*t[2],r=(e[0]*t[3]-e[1]*t[2]+t[2]*t[5]-t[4]*t[3])/i,s=(-e[0]*t[1]+e[1]*t[0]+t[4]*t[1]-t[5]*t[0])/i;return[r,s]}static getAxialAlignedBoundingBox(e,t){const i=this.applyTransform(e,t),r=this.applyTransform(e.slice(2,4),t),s=this.applyTransform([e[0],e[3]],t),o=this.applyTransform([e[2],e[1]],t);return[Math.min(i[0],r[0],s[0],o[0]),Math.min(i[1],r[1],s[1],o[1]),Math.max(i[0],r[0],s[0],o[0]),Math.max(i[1],r[1],s[1],o[1])]}static inverseTransform(e){const t=e[0]*e[3]-e[1]*e[2];return[e[3]/t,-e[1]/t,-e[2]/t,e[0]/t,(e[2]*e[5]-e[4]*e[3])/t,(e[4]*e[1]-e[5]*e[0])/t]}static singularValueDecompose2dScale(e){const t=[e[0],e[2],e[1],e[3]],i=e[0]*t[0]+e[1]*t[2],r=e[0]*t[1]+e[1]*t[3],s=e[2]*t[0]+e[3]*t[2],o=e[2]*t[1]+e[3]*t[3],a=(i+o)/2,l=Math.sqrt((i+o)**2-4*(i*o-s*r))/2,u=a+l||1,d=a-l||1;return[Math.sqrt(u),Math.sqrt(d)]}static normalizeRect(e){const t=e.slice(0);return e[0]>e[2]&&(t[0]=e[2],t[2]=e[0]),e[1]>e[3]&&(t[1]=e[3],t[3]=e[1]),t}static intersect(e,t){const i=Math.max(Math.min(e[0],e[2]),Math.min(t[0],t[2])),r=Math.min(Math.max(e[0],e[2]),Math.max(t[0],t[2]));if(i>r)return null;const s=Math.max(Math.min(e[1],e[3]),Math.min(t[1],t[3])),o=Math.min(Math.max(e[1],e[3]),Math.max(t[1],t[3]));return s>o?null:[i,s,r,o]}static bezierBoundingBox(e,t,i,r,s,o,a,l,u){return u?(u[0]=Math.min(u[0],e,a),u[1]=Math.min(u[1],t,l),u[2]=Math.max(u[2],e,a),u[3]=Math.max(u[3],t,l)):u=[Math.min(e,a),Math.min(t,l),Math.max(e,a),Math.max(t,l)],A(this,xr,k0).call(this,e,i,s,a,t,r,o,l,3*(-e+3*(i-s)+a),6*(e-2*i+s),3*(i-e),u),A(this,xr,k0).call(this,e,i,s,a,t,r,o,l,3*(-t+3*(r-o)+l),6*(t-2*r+o),3*(r-t),u),u}}xr=new WeakSet,Zh=function(e,t,i,r,s,o,a,l,u,d){if(u<=0||u>=1)return;const h=1-u,f=u*u,p=f*u,m=h*(h*(h*e+3*u*t)+3*f*i)+p*r,v=h*(h*(h*s+3*u*o)+3*f*a)+p*l;d[0]=Math.min(d[0],m),d[1]=Math.min(d[1],v),d[2]=Math.max(d[2],m),d[3]=Math.max(d[3],v)},k0=function(e,t,i,r,s,o,a,l,u,d,h,f){if(Math.abs(u)<1e-12){Math.abs(d)>=1e-12&&A(this,xr,Zh).call(this,e,t,i,r,s,o,a,l,-h/d,f);return}const p=d**2-4*h*u;if(p<0)return;const m=Math.sqrt(p),v=2*u;A(this,xr,Zh).call(this,e,t,i,r,s,o,a,l,(-d+m)/v,f),A(this,xr,Zh).call(this,e,t,i,r,s,o,a,l,(-d-m)/v,f)},S(V,xr);function cM(n){return decodeURIComponent(escape(n))}let ag=null,vw=null;function uM(n){return ag||(ag=/([\u00a0\u00b5\u037e\u0eb3\u2000-\u200a\u202f\u2126\ufb00-\ufb04\ufb06\ufb20-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufba1\ufba4-\ufba9\ufbae-\ufbb1\ufbd3-\ufbdc\ufbde-\ufbe7\ufbea-\ufbf8\ufbfc-\ufbfd\ufc00-\ufc5d\ufc64-\ufcf1\ufcf5-\ufd3d\ufd88\ufdf4\ufdfa-\ufdfb\ufe71\ufe77\ufe79\ufe7b\ufe7d]+)|(\ufb05+)/gu,vw=new Map([["ﬅ","ſt"]])),n.replaceAll(ag,(e,t,i)=>t?t.normalize("NFKC"):vw.get(i))}function dM(){if(typeof crypto<"u"&&typeof(crypto==null?void 0:crypto.randomUUID)=="function")return crypto.randomUUID();const n=new Uint8Array(32);if(typeof crypto<"u"&&typeof(crypto==null?void 0:crypto.getRandomValues)=="function")crypto.getRandomValues(n);else for(let e=0;e<32;e++)n[e]=Math.floor(Math.random()*255);return vS(n)}const yS="pdfjs_internal_id_",Fi={BEZIER_CURVE_TO:0,MOVE_TO:1,LINE_TO:2,QUADRATIC_CURVE_TO:3,RESTORE:4,SAVE:5,SCALE:6,TRANSFORM:7,TRANSLATE:8};class dm{constructor(){this.constructor===dm&&ye("Cannot initialize BaseFilterFactory.")}addFilter(e){return"none"}addHCMFilter(e,t){return"none"}addAlphaFilter(e){return"none"}addLuminosityFilter(e){return"none"}addHighlightHCMFilter(e,t,i,r,s){return"none"}destroy(e=!1){}}class hm{constructor(){this.constructor===hm&&ye("Cannot initialize BaseCanvasFactory.")}create(e,t){if(e<=0||t<=0)throw new Error("Invalid canvas size");const i=this._createCanvas(e,t);return{canvas:i,context:i.getContext("2d")}}reset(e,t,i){if(!e.canvas)throw new Error("Canvas is not specified");if(t<=0||i<=0)throw new Error("Invalid canvas size");e.canvas.width=t,e.canvas.height=i}destroy(e){if(!e.canvas)throw new Error("Canvas is not specified");e.canvas.width=0,e.canvas.height=0,e.canvas=null,e.context=null}_createCanvas(e,t){ye("Abstract method `_createCanvas` called.")}}class fm{constructor({baseUrl:e=null,isCompressed:t=!0}){this.constructor===fm&&ye("Cannot initialize BaseCMapReaderFactory."),this.baseUrl=e,this.isCompressed=t}async fetch({name:e}){if(!this.baseUrl)throw new Error('The CMap "baseUrl" parameter must be specified, ensure that the "cMapUrl" and "cMapPacked" API parameters are provided.');if(!e)throw new Error("CMap name must be specified.");const t=this.baseUrl+e+(this.isCompressed?".bcmap":""),i=this.isCompressed?S0.BINARY:S0.NONE;return this._fetchData(t,i).catch(r=>{throw new Error(`Unable to load ${this.isCompressed?"binary ":""}CMap at: ${t}`)})}_fetchData(e,t){ye("Abstract method `_fetchData` called.")}}class pm{constructor({baseUrl:e=null}){this.constructor===pm&&ye("Cannot initialize BaseStandardFontDataFactory."),this.baseUrl=e}async fetch({filename:e}){if(!this.baseUrl)throw new Error('The standard font "baseUrl" parameter must be specified, ensure that the "standardFontDataUrl" API parameter is provided.');if(!e)throw new Error("Font filename must be specified.");const t=`${this.baseUrl}${e}`;return this._fetchData(t).catch(i=>{throw new Error(`Unable to load font data at: ${t}`)})}_fetchData(e){ye("Abstract method `_fetchData` called.")}}class ny{constructor(){this.constructor===ny&&ye("Cannot initialize BaseSVGFactory.")}create(e,t,i=!1){if(e<=0||t<=0)throw new Error("Invalid SVG dimensions");const r=this._createSVG("svg:svg");return r.setAttribute("version","1.1"),i||(r.setAttribute("width",`${e}px`),r.setAttribute("height",`${t}px`)),r.setAttribute("preserveAspectRatio","none"),r.setAttribute("viewBox",`0 0 ${e} ${t}`),r}createElement(e){if(typeof e!="string")throw new Error("Invalid SVG element type");return this._createSVG(e)}_createSVG(e){ye("Abstract method `_createSVG` called.")}}const Oi="http://www.w3.org/2000/svg",Is=class Is{};Z(Is,"CSS",96),Z(Is,"PDF",72),Z(Is,"PDF_TO_CSS_UNITS",Is.CSS/Is.PDF);let Ss=Is;var Us,ci,Vi,$t,dp,Vs,U,wt,da,ha,Jh,xS,T0,fa,mc,gc,R0,vc;class hM extends dm{constructor({docId:t,ownerDocument:i=globalThis.document}={}){super();S(this,U);S(this,Us);S(this,ci);S(this,Vi);S(this,$t);S(this,dp);S(this,Vs,0);E(this,Vi,t),E(this,$t,i)}addFilter(t){if(!t)return"none";let i=c(this,U,wt).get(t);if(i)return i;const[r,s,o]=A(this,U,Jh).call(this,t),a=t.length===1?r:`${r}${s}${o}`;if(i=c(this,U,wt).get(a),i)return c(this,U,wt).set(t,i),i;const l=`g_${c(this,Vi)}_transfer_map_${Zt(this,Vs)._++}`,u=`url(#${l})`;c(this,U,wt).set(t,u),c(this,U,wt).set(a,u);const d=A(this,U,fa).call(this,l);return A(this,U,gc).call(this,r,s,o,d),u}addHCMFilter(t,i){var m;const r=`${t}-${i}`,s="base";let o=c(this,U,da).get(s);if((o==null?void 0:o.key)===r||(o?((m=o.filter)==null||m.remove(),o.key=r,o.url="none",o.filter=null):(o={key:r,url:"none",filter:null},c(this,U,da).set(s,o)),!t||!i))return o.url;const a=A(this,U,vc).call(this,t);t=V.makeHexColor(...a);const l=A(this,U,vc).call(this,i);if(i=V.makeHexColor(...l),c(this,U,ha).style.color="",t==="#000000"&&i==="#ffffff"||t===i)return o.url;const u=new Array(256);for(let v=0;v<=255;v++){const b=v/255;u[v]=b<=.03928?b/12.92:((b+.055)/1.055)**2.4}const d=u.join(","),h=`g_${c(this,Vi)}_hcm_filter`,f=o.filter=A(this,U,fa).call(this,h);A(this,U,gc).call(this,d,d,d,f),A(this,U,T0).call(this,f);const p=(v,b)=>{const g=a[v]/255,y=l[v]/255,x=new Array(b+1);for(let _=0;_<=b;_++)x[_]=g+_/b*(y-g);return x.join(",")};return A(this,U,gc).call(this,p(0,5),p(1,5),p(2,5),f),o.url=`url(#${h})`,o.url}addAlphaFilter(t){let i=c(this,U,wt).get(t);if(i)return i;const[r]=A(this,U,Jh).call(this,[t]),s=`alpha_${r}`;if(i=c(this,U,wt).get(s),i)return c(this,U,wt).set(t,i),i;const o=`g_${c(this,Vi)}_alpha_map_${Zt(this,Vs)._++}`,a=`url(#${o})`;c(this,U,wt).set(t,a),c(this,U,wt).set(s,a);const l=A(this,U,fa).call(this,o);return A(this,U,R0).call(this,r,l),a}addLuminosityFilter(t){let i=c(this,U,wt).get(t||"luminosity");if(i)return i;let r,s;if(t?([r]=A(this,U,Jh).call(this,[t]),s=`luminosity_${r}`):s="luminosity",i=c(this,U,wt).get(s),i)return c(this,U,wt).set(t,i),i;const o=`g_${c(this,Vi)}_luminosity_map_${Zt(this,Vs)._++}`,a=`url(#${o})`;c(this,U,wt).set(t,a),c(this,U,wt).set(s,a);const l=A(this,U,fa).call(this,o);return A(this,U,xS).call(this,l),t&&A(this,U,R0).call(this,r,l),a}addHighlightHCMFilter(t,i,r,s,o){var y;const a=`${i}-${r}-${s}-${o}`;let l=c(this,U,da).get(t);if((l==null?void 0:l.key)===a||(l?((y=l.filter)==null||y.remove(),l.key=a,l.url="none",l.filter=null):(l={key:a,url:"none",filter:null},c(this,U,da).set(t,l)),!i||!r))return l.url;const[u,d]=[i,r].map(A(this,U,vc).bind(this));let h=Math.round(.2126*u[0]+.7152*u[1]+.0722*u[2]),f=Math.round(.2126*d[0]+.7152*d[1]+.0722*d[2]),[p,m]=[s,o].map(A(this,U,vc).bind(this));f<h&&([h,f,p,m]=[f,h,m,p]),c(this,U,ha).style.color="";const v=(x,_,k)=>{const T=new Array(256),R=(f-h)/k,L=x/255,D=(_-x)/(255*k);let F=0;for(let O=0;O<=k;O++){const Y=Math.round(h+O*R),X=L+O*D;for(let K=F;K<=Y;K++)T[K]=X;F=Y+1}for(let O=F;O<256;O++)T[O]=T[F-1];return T.join(",")},b=`g_${c(this,Vi)}_hcm_${t}_filter`,g=l.filter=A(this,U,fa).call(this,b);return A(this,U,T0).call(this,g),A(this,U,gc).call(this,v(p[0],m[0],5),v(p[1],m[1],5),v(p[2],m[2],5),g),l.url=`url(#${b})`,l.url}destroy(t=!1){t&&c(this,U,da).size!==0||(c(this,ci)&&(c(this,ci).parentNode.parentNode.remove(),E(this,ci,null)),c(this,Us)&&(c(this,Us).clear(),E(this,Us,null)),E(this,Vs,0))}}Us=new WeakMap,ci=new WeakMap,Vi=new WeakMap,$t=new WeakMap,dp=new WeakMap,Vs=new WeakMap,U=new WeakSet,wt=function(){return c(this,Us)||E(this,Us,new Map)},da=function(){return c(this,dp)||E(this,dp,new Map)},ha=function(){if(!c(this,ci)){const t=c(this,$t).createElement("div"),{style:i}=t;i.visibility="hidden",i.contain="strict",i.width=i.height=0,i.position="absolute",i.top=i.left=0,i.zIndex=-1;const r=c(this,$t).createElementNS(Oi,"svg");r.setAttribute("width",0),r.setAttribute("height",0),E(this,ci,c(this,$t).createElementNS(Oi,"defs")),t.append(r),r.append(c(this,ci)),c(this,$t).body.append(t)}return c(this,ci)},Jh=function(t){if(t.length===1){const u=t[0],d=new Array(256);for(let f=0;f<256;f++)d[f]=u[f]/255;const h=d.join(",");return[h,h,h]}const[i,r,s]=t,o=new Array(256),a=new Array(256),l=new Array(256);for(let u=0;u<256;u++)o[u]=i[u]/255,a[u]=r[u]/255,l[u]=s[u]/255;return[o.join(","),a.join(","),l.join(",")]},xS=function(t){const i=c(this,$t).createElementNS(Oi,"feColorMatrix");i.setAttribute("type","matrix"),i.setAttribute("values","0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.3 0.59 0.11 0 0"),t.append(i)},T0=function(t){const i=c(this,$t).createElementNS(Oi,"feColorMatrix");i.setAttribute("type","matrix"),i.setAttribute("values","0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0 0 0 1 0"),t.append(i)},fa=function(t){const i=c(this,$t).createElementNS(Oi,"filter");return i.setAttribute("color-interpolation-filters","sRGB"),i.setAttribute("id",t),c(this,U,ha).append(i),i},mc=function(t,i,r){const s=c(this,$t).createElementNS(Oi,i);s.setAttribute("type","discrete"),s.setAttribute("tableValues",r),t.append(s)},gc=function(t,i,r,s){const o=c(this,$t).createElementNS(Oi,"feComponentTransfer");s.append(o),A(this,U,mc).call(this,o,"feFuncR",t),A(this,U,mc).call(this,o,"feFuncG",i),A(this,U,mc).call(this,o,"feFuncB",r)},R0=function(t,i){const r=c(this,$t).createElementNS(Oi,"feComponentTransfer");i.append(r),A(this,U,mc).call(this,r,"feFuncA",t)},vc=function(t){return c(this,U,ha).style.color=t,ay(getComputedStyle(c(this,U,ha)).getPropertyValue("color"))};class fM extends hm{constructor({ownerDocument:e=globalThis.document}={}){super(),this._document=e}_createCanvas(e,t){const i=this._document.createElement("canvas");return i.width=e,i.height=t,i}}async function mm(n,e="text"){if(yc(n,document.baseURI)){const t=await fetch(n);if(!t.ok)throw new Error(t.statusText);switch(e){case"arraybuffer":return t.arrayBuffer();case"blob":return t.blob();case"json":return t.json()}return t.text()}return new Promise((t,i)=>{const r=new XMLHttpRequest;r.open("GET",n,!0),r.responseType=e,r.onreadystatechange=()=>{if(r.readyState===XMLHttpRequest.DONE){if(r.status===200||r.status===0){switch(e){case"arraybuffer":case"blob":case"json":t(r.response);return}t(r.responseText);return}i(new Error(r.statusText))}},r.send(null)})}class wS extends fm{_fetchData(e,t){return mm(e,this.isCompressed?"arraybuffer":"text").then(i=>({cMapData:i instanceof ArrayBuffer?new Uint8Array(i):um(i),compressionType:t}))}}class bS extends pm{_fetchData(e){return mm(e,"arraybuffer").then(t=>new Uint8Array(t))}}class iy extends ny{_createSVG(e){return document.createElementNS(Oi,e)}}class oh{constructor({viewBox:e,scale:t,rotation:i,offsetX:r=0,offsetY:s=0,dontFlip:o=!1}){this.viewBox=e,this.scale=t,this.rotation=i,this.offsetX=r,this.offsetY=s;const a=(e[2]+e[0])/2,l=(e[3]+e[1])/2;let u,d,h,f;switch(i%=360,i<0&&(i+=360),i){case 180:u=-1,d=0,h=0,f=1;break;case 90:u=0,d=1,h=1,f=0;break;case 270:u=0,d=-1,h=-1,f=0;break;case 0:u=1,d=0,h=0,f=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}o&&(h=-h,f=-f);let p,m,v,b;u===0?(p=Math.abs(l-e[1])*t+r,m=Math.abs(a-e[0])*t+s,v=(e[3]-e[1])*t,b=(e[2]-e[0])*t):(p=Math.abs(a-e[0])*t+r,m=Math.abs(l-e[1])*t+s,v=(e[2]-e[0])*t,b=(e[3]-e[1])*t),this.transform=[u*t,d*t,h*t,f*t,p-u*t*a-h*t*l,m-d*t*a-f*t*l],this.width=v,this.height=b}get rawDims(){const{viewBox:e}=this;return le(this,"rawDims",{pageWidth:e[2]-e[0],pageHeight:e[3]-e[1],pageX:e[0],pageY:e[1]})}clone({scale:e=this.scale,rotation:t=this.rotation,offsetX:i=this.offsetX,offsetY:r=this.offsetY,dontFlip:s=!1}={}){return new oh({viewBox:this.viewBox.slice(),scale:e,rotation:t,offsetX:i,offsetY:r,dontFlip:s})}convertToViewportPoint(e,t){return V.applyTransform([e,t],this.transform)}convertToViewportRectangle(e){const t=V.applyTransform([e[0],e[1]],this.transform),i=V.applyTransform([e[2],e[3]],this.transform);return[t[0],t[1],i[0],i[1]]}convertToPdfPoint(e,t){return V.applyInverseTransform([e,t],this.transform)}}class ry extends Ps{constructor(e,t=0){super(e,"RenderingCancelledException"),this.extraDelay=t}}function sy(n){const e=n.length;let t=0;for(;t<e&&n[t].trim()==="";)t++;return n.substring(t,t+5).toLowerCase()==="data:"}function oy(n){return typeof n=="string"&&/\.pdf$/i.test(n)}function pM(n){return[n]=n.split(/[#?]/,1),n.substring(n.lastIndexOf("/")+1)}function mM(n,e="document.pdf"){if(typeof n!="string")return e;if(sy(n))return ee('getPdfFilenameFromUrl: ignore "data:"-URL for performance reasons.'),e;const t=/^(?:(?:[^:]+:)?\/\/[^/]+)?([^?#]*)(\?[^#]*)?(#.*)?$/,i=/[^/?#=]+\.pdf\b(?!.*\.pdf\b)/i,r=t.exec(n);let s=i.exec(r[1])||i.exec(r[2])||i.exec(r[3]);if(s&&(s=s[0],s.includes("%")))try{s=i.exec(decodeURIComponent(s))[0]}catch{}return s||e}class yw{constructor(){Z(this,"started",Object.create(null));Z(this,"times",[])}time(e){e in this.started&&ee(`Timer is already running for ${e}`),this.started[e]=Date.now()}timeEnd(e){e in this.started||ee(`Timer has not been started for ${e}`),this.times.push({name:e,start:this.started[e],end:Date.now()}),delete this.started[e]}toString(){const e=[];let t=0;for(const{name:i}of this.times)t=Math.max(i.length,t);for(const{name:i,start:r,end:s}of this.times)e.push(`${i.padEnd(t)} ${s-r}ms
`);return e.join("")}}function yc(n,e){try{const{protocol:t}=e?new URL(n,e):new URL(n);return t==="http:"||t==="https:"}catch{return!1}}function Qt(n){n.preventDefault()}function ES(n){console.log("Deprecated API usage: "+n)}let xw;class AS{static toDateObject(e){if(!e||typeof e!="string")return null;xw||(xw=new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?"));const t=xw.exec(e);if(!t)return null;const i=parseInt(t[1],10);let r=parseInt(t[2],10);r=r>=1&&r<=12?r-1:0;let s=parseInt(t[3],10);s=s>=1&&s<=31?s:1;let o=parseInt(t[4],10);o=o>=0&&o<=23?o:0;let a=parseInt(t[5],10);a=a>=0&&a<=59?a:0;let l=parseInt(t[6],10);l=l>=0&&l<=59?l:0;const u=t[7]||"Z";let d=parseInt(t[8],10);d=d>=0&&d<=23?d:0;let h=parseInt(t[9],10)||0;return h=h>=0&&h<=59?h:0,u==="-"?(o+=d,a+=h):u==="+"&&(o-=d,a-=h),new Date(Date.UTC(i,r,s,o,a,l))}}function gM(n,{scale:e=1,rotation:t=0}){const{width:i,height:r}=n.attributes.style,s=[0,0,parseInt(i),parseInt(r)];return new oh({viewBox:s,scale:e,rotation:t})}function ay(n){if(n.startsWith("#")){const e=parseInt(n.slice(1),16);return[(e&16711680)>>16,(e&65280)>>8,e&255]}return n.startsWith("rgb(")?n.slice(4,-1).split(",").map(e=>parseInt(e)):n.startsWith("rgba(")?n.slice(5,-1).split(",").map(e=>parseInt(e)).slice(0,3):(ee(`Not a valid color format: "${n}"`),[0,0,0])}function vM(n){const e=document.createElement("span");e.style.visibility="hidden",document.body.append(e);for(const t of n.keys()){e.style.color=t;const i=window.getComputedStyle(e).color;n.set(t,ay(i))}e.remove()}function Pe(n){const{a:e,b:t,c:i,d:r,e:s,f:o}=n.getTransform();return[e,t,i,r,s,o]}function Di(n){const{a:e,b:t,c:i,d:r,e:s,f:o}=n.getTransform().invertSelf();return[e,t,i,r,s,o]}function Jo(n,e,t=!1,i=!0){if(e instanceof oh){const{pageWidth:r,pageHeight:s}=e.rawDims,{style:o}=n,a=Wt.isCSSRoundSupported,l=`var(--scale-factor) * ${r}px`,u=`var(--scale-factor) * ${s}px`,d=a?`round(${l}, 1px)`:`calc(${l})`,h=a?`round(${u}, 1px)`:`calc(${u})`;!t||e.rotation%180===0?(o.width=d,o.height=h):(o.width=h,o.height=d)}i&&n.setAttribute("data-main-rotation",e.rotation)}var Ws,Gs,ui,qs,hp,SS,Ft,CS,_S,ef,kS,L0;const fp=class fp{constructor(e){S(this,Ft);S(this,Ws,null);S(this,Gs,null);S(this,ui);S(this,qs,null);E(this,ui,e)}render(){const e=E(this,Ws,document.createElement("div"));e.className="editToolbar",e.setAttribute("role","toolbar"),e.addEventListener("contextmenu",Qt),e.addEventListener("pointerdown",A(fp,hp,SS));const t=E(this,qs,document.createElement("div"));t.className="buttons",e.append(t);const i=c(this,ui).toolbarPosition;if(i){const{style:r}=e,s=c(this,ui)._uiManager.direction==="ltr"?1-i[0]:i[0];r.insetInlineEnd=`${100*s}%`,r.top=`calc(${100*i[1]}% + var(--editor-toolbar-vert-offset))`}return A(this,Ft,kS).call(this),e}hide(){var e;c(this,Ws).classList.add("hidden"),(e=c(this,Gs))==null||e.hideDropdown()}show(){c(this,Ws).classList.remove("hidden")}addAltTextButton(e){A(this,Ft,ef).call(this,e),c(this,qs).prepend(e,c(this,Ft,L0))}addColorPicker(e){E(this,Gs,e);const t=e.renderButton();A(this,Ft,ef).call(this,t),c(this,qs).prepend(t,c(this,Ft,L0))}remove(){var e;c(this,Ws).remove(),(e=c(this,Gs))==null||e.destroy(),E(this,Gs,null)}};Ws=new WeakMap,Gs=new WeakMap,ui=new WeakMap,qs=new WeakMap,hp=new WeakSet,SS=function(e){e.stopPropagation()},Ft=new WeakSet,CS=function(e){c(this,ui)._focusEventsAllowed=!1,e.preventDefault(),e.stopPropagation()},_S=function(e){c(this,ui)._focusEventsAllowed=!0,e.preventDefault(),e.stopPropagation()},ef=function(e){e.addEventListener("focusin",A(this,Ft,CS).bind(this),{capture:!0}),e.addEventListener("focusout",A(this,Ft,_S).bind(this),{capture:!0}),e.addEventListener("contextmenu",Qt)},kS=function(){const e=document.createElement("button");e.className="delete",e.tabIndex=0,e.setAttribute("data-l10n-id",`pdfjs-editor-remove-${c(this,ui).editorType}-button`),A(this,Ft,ef).call(this,e),e.addEventListener("click",t=>{c(this,ui)._uiManager.delete()}),c(this,qs).append(e)},L0=function(){const e=document.createElement("div");return e.className="divider",e},S(fp,hp);let P0=fp;var fu,Xs,pu,Cs,TS,RS,PS;class yM{constructor(e){S(this,Cs);S(this,fu,null);S(this,Xs,null);S(this,pu);E(this,pu,e)}show(e,t,i){const[r,s]=A(this,Cs,RS).call(this,t,i),{style:o}=c(this,Xs)||E(this,Xs,A(this,Cs,TS).call(this));e.append(c(this,Xs)),o.insetInlineEnd=`${100*r}%`,o.top=`calc(${100*s}% + var(--editor-toolbar-vert-offset))`}hide(){c(this,Xs).remove()}}fu=new WeakMap,Xs=new WeakMap,pu=new WeakMap,Cs=new WeakSet,TS=function(){const e=E(this,Xs,document.createElement("div"));e.className="editToolbar",e.setAttribute("role","toolbar"),e.addEventListener("contextmenu",Qt);const t=E(this,fu,document.createElement("div"));return t.className="buttons",e.append(t),A(this,Cs,PS).call(this),e},RS=function(e,t){let i=0,r=0;for(const s of e){const o=s.y+s.height;if(o<i)continue;const a=s.x+(t?s.width:0);if(o>i){r=a,i=o;continue}t?a>r&&(r=a):a<r&&(r=a)}return[t?1-r:r,i]},PS=function(){const e=document.createElement("button");e.className="highlightButton",e.tabIndex=0,e.setAttribute("data-l10n-id","pdfjs-highlight-floating-button1");const t=document.createElement("span");e.append(t),t.className="visuallyHidden",t.setAttribute("data-l10n-id","pdfjs-highlight-floating-button-label"),e.addEventListener("contextmenu",Qt),e.addEventListener("click",()=>{c(this,pu).highlightSelection("floating_button")}),c(this,fu).append(e)};function sp(n,e,t){for(const i of t)e.addEventListener(i,n[i].bind(n))}function xM(n){return Math.round(Math.min(255,Math.max(1,255*n))).toString(16).padStart(2,"0")}var pp;class wM{constructor(){S(this,pp,0)}get id(){return`${ZN}${Zt(this,pp)._++}`}}pp=new WeakMap;var mu,mp,yn,gu,M0;const dy=class dy{constructor(){S(this,gu);S(this,mu,dM());S(this,mp,0);S(this,yn,null)}static get _isSVGFittingCanvas(){const e='data:image/svg+xml;charset=UTF-8,<svg viewBox="0 0 1 1" width="1" height="1" xmlns="http://www.w3.org/2000/svg"><rect width="1" height="1" style="fill:red;"/></svg>',i=new OffscreenCanvas(1,3).getContext("2d"),r=new Image;r.src=e;const s=r.decode().then(()=>(i.drawImage(r,0,0,1,1,0,0,1,3),new Uint32Array(i.getImageData(0,0,1,1).data.buffer)[0]===0));return le(this,"_isSVGFittingCanvas",s)}async getFromFile(e){const{lastModified:t,name:i,size:r,type:s}=e;return A(this,gu,M0).call(this,`${t}_${i}_${r}_${s}`,e)}async getFromUrl(e){return A(this,gu,M0).call(this,e,e)}async getFromId(e){c(this,yn)||E(this,yn,new Map);const t=c(this,yn).get(e);return t?t.bitmap?(t.refCounter+=1,t):t.file?this.getFromFile(t.file):this.getFromUrl(t.url):null}getSvgUrl(e){const t=c(this,yn).get(e);return t!=null&&t.isSvg?t.svgUrl:null}deleteId(e){c(this,yn)||E(this,yn,new Map);const t=c(this,yn).get(e);t&&(t.refCounter-=1,t.refCounter===0&&(t.bitmap=null))}isValidId(e){return e.startsWith(`image_${c(this,mu)}_`)}};mu=new WeakMap,mp=new WeakMap,yn=new WeakMap,gu=new WeakSet,M0=async function(e,t){c(this,yn)||E(this,yn,new Map);let i=c(this,yn).get(e);if(i===null)return null;if(i!=null&&i.bitmap)return i.refCounter+=1,i;try{i||(i={bitmap:null,id:`image_${c(this,mu)}_${Zt(this,mp)._++}`,refCounter:0,isSvg:!1});let r;if(typeof t=="string"?(i.url=t,r=await mm(t,"blob")):r=i.file=t,r.type==="image/svg+xml"){const s=dy._isSVGFittingCanvas,o=new FileReader,a=new Image,l=new Promise((u,d)=>{a.onload=()=>{i.bitmap=a,i.isSvg=!0,u()},o.onload=async()=>{const h=i.svgUrl=o.result;a.src=await s?`${h}#svgView(preserveAspectRatio(none))`:h},a.onerror=o.onerror=d});o.readAsDataURL(r),await l}else i.bitmap=await createImageBitmap(r);i.refCounter=1}catch(r){console.error(r),i=null}return c(this,yn).set(e,i),i&&c(this,yn).set(i.id,i),i};let N0=dy;var et,Hr,vu,tt;class bM{constructor(e=128){S(this,et,[]);S(this,Hr,!1);S(this,vu);S(this,tt,-1);E(this,vu,e)}add({cmd:e,undo:t,post:i,mustExec:r,type:s=NaN,overwriteIfSameType:o=!1,keepUndo:a=!1}){if(r&&e(),c(this,Hr))return;const l={cmd:e,undo:t,post:i,type:s};if(c(this,tt)===-1){c(this,et).length>0&&(c(this,et).length=0),E(this,tt,0),c(this,et).push(l);return}if(o&&c(this,et)[c(this,tt)].type===s){a&&(l.undo=c(this,et)[c(this,tt)].undo),c(this,et)[c(this,tt)]=l;return}const u=c(this,tt)+1;u===c(this,vu)?c(this,et).splice(0,1):(E(this,tt,u),u<c(this,et).length&&c(this,et).splice(u)),c(this,et).push(l)}undo(){if(c(this,tt)===-1)return;E(this,Hr,!0);const{undo:e,post:t}=c(this,et)[c(this,tt)];e(),t==null||t(),E(this,Hr,!1),E(this,tt,c(this,tt)-1)}redo(){if(c(this,tt)<c(this,et).length-1){E(this,tt,c(this,tt)+1),E(this,Hr,!0);const{cmd:e,post:t}=c(this,et)[c(this,tt)];e(),t==null||t(),E(this,Hr,!1)}}hasSomethingToUndo(){return c(this,tt)!==-1}hasSomethingToRedo(){return c(this,tt)<c(this,et).length-1}destroy(){E(this,et,null)}}et=new WeakMap,Hr=new WeakMap,vu=new WeakMap,tt=new WeakMap;var gp,LS;class ah{constructor(e){S(this,gp);this.buffer=[],this.callbacks=new Map,this.allKeys=new Set;const{isMac:t}=Wt.platform;for(const[i,r,s={}]of e)for(const o of i){const a=o.startsWith("mac+");t&&a?(this.callbacks.set(o.slice(4),{callback:r,options:s}),this.allKeys.add(o.split("+").at(-1))):!t&&!a&&(this.callbacks.set(o,{callback:r,options:s}),this.allKeys.add(o.split("+").at(-1)))}}exec(e,t){if(!this.allKeys.has(t.key))return;const i=this.callbacks.get(A(this,gp,LS).call(this,t));if(!i)return;const{callback:r,options:{bubbles:s=!1,args:o=[],checker:a=null}}=i;a&&!a(e,t)||(r.bind(e,...o,t)(),s||(t.stopPropagation(),t.preventDefault()))}}gp=new WeakSet,LS=function(e){e.altKey&&this.buffer.push("alt"),e.ctrlKey&&this.buffer.push("ctrl"),e.metaKey&&this.buffer.push("meta"),e.shiftKey&&this.buffer.push("shift"),this.buffer.push(e.key);const t=this.buffer.join("+");return this.buffer.length=0,t};const vp=class vp{get _colors(){const e=new Map([["CanvasText",null],["Canvas",null]]);return vM(e),le(this,"_colors",e)}convert(e){const t=ay(e);if(!window.matchMedia("(forced-colors: active)").matches)return t;for(const[i,r]of this._colors)if(r.every((s,o)=>s===t[o]))return vp._colorsMapping.get(i);return t}getHexCode(e){const t=this._colors.get(e);return t?V.makeHexColor(...t):e}};Z(vp,"_colorsMapping",new Map([["CanvasText",[0,0,0]],["Canvas",[255,255,255]]]));let F0=vp;var tn,Ge,st,$a,Wi,Ha,Bn,Ba,Ks,di,Gi,Ys,yu,xu,hi,za,Br,fi,yp,zr,wu,Qs,bu,Ua,ot,pe,qi,Zs,Eu,Au,Su,Cu,_u,ku,Tu,Ru,Pu,Lu,Nu,Mu,Fu,Du,Ur,pi,Xi,Iu,j,tf,NS,MS,nf,FS,DS,IS,D0,I0,O0,j0,$0,kt,Nr,OS,jS,H0,$S,xc,B0;const Ra=class Ra{constructor(e,t,i,r,s,o,a,l,u){S(this,j);S(this,tn,null);S(this,Ge,new Map);S(this,st,new Map);S(this,$a,null);S(this,Wi,null);S(this,Ha,null);S(this,Bn,new bM);S(this,Ba,0);S(this,Ks,new Set);S(this,di,null);S(this,Gi,null);S(this,Ys,new Set);S(this,yu,!1);S(this,xu,null);S(this,hi,null);S(this,za,null);S(this,Br,!1);S(this,fi,null);S(this,yp,new wM);S(this,zr,!1);S(this,wu,!1);S(this,Qs,null);S(this,bu,null);S(this,Ua,null);S(this,ot,ae.NONE);S(this,pe,new Set);S(this,qi,null);S(this,Zs,null);S(this,Eu,null);S(this,Au,this.blur.bind(this));S(this,Su,this.focus.bind(this));S(this,Cu,this.copy.bind(this));S(this,_u,this.cut.bind(this));S(this,ku,this.paste.bind(this));S(this,Tu,this.keydown.bind(this));S(this,Ru,this.keyup.bind(this));S(this,Pu,this.onEditingAction.bind(this));S(this,Lu,this.onPageChanging.bind(this));S(this,Nu,this.onScaleChanging.bind(this));S(this,Mu,A(this,j,MS).bind(this));S(this,Fu,this.onRotationChanging.bind(this));S(this,Du,{isEditing:!1,isEmpty:!0,hasSomethingToUndo:!1,hasSomethingToRedo:!1,hasSelectedEditor:!1,hasSelectedText:!1});S(this,Ur,[0,0]);S(this,pi,null);S(this,Xi,null);S(this,Iu,null);E(this,Xi,e),E(this,Iu,t),E(this,$a,i),this._eventBus=r,this._eventBus._on("editingaction",c(this,Pu)),this._eventBus._on("pagechanging",c(this,Lu)),this._eventBus._on("scalechanging",c(this,Nu)),this._eventBus._on("rotationchanging",c(this,Fu)),A(this,j,FS).call(this),A(this,j,I0).call(this),E(this,Wi,s.annotationStorage),E(this,xu,s.filterFactory),E(this,Zs,o),E(this,za,a||null),E(this,yu,l),E(this,Ua,u||null),this.viewParameters={realScale:Ss.PDF_TO_CSS_UNITS,rotation:0},this.isShiftKeyDown=!1}static get _keyboardManager(){const e=Ra.prototype,t=o=>c(o,Xi).contains(document.activeElement)&&document.activeElement.tagName!=="BUTTON"&&o.hasSomethingToControl(),i=(o,{target:a})=>{if(a instanceof HTMLInputElement){const{type:l}=a;return l!=="text"&&l!=="number"}return!0},r=this.TRANSLATE_SMALL,s=this.TRANSLATE_BIG;return le(this,"_keyboardManager",new ah([[["ctrl+a","mac+meta+a"],e.selectAll,{checker:i}],[["ctrl+z","mac+meta+z"],e.undo,{checker:i}],[["ctrl+y","ctrl+shift+z","mac+meta+shift+z","ctrl+shift+Z","mac+meta+shift+Z"],e.redo,{checker:i}],[["Backspace","alt+Backspace","ctrl+Backspace","shift+Backspace","mac+Backspace","mac+alt+Backspace","mac+ctrl+Backspace","Delete","ctrl+Delete","shift+Delete","mac+Delete"],e.delete,{checker:i}],[["Enter","mac+Enter"],e.addNewEditorFromKeyboard,{checker:(o,{target:a})=>!(a instanceof HTMLButtonElement)&&c(o,Xi).contains(a)&&!o.isEnterHandled}],[[" ","mac+ "],e.addNewEditorFromKeyboard,{checker:(o,{target:a})=>!(a instanceof HTMLButtonElement)&&c(o,Xi).contains(document.activeElement)}],[["Escape","mac+Escape"],e.unselectAll],[["ArrowLeft","mac+ArrowLeft"],e.translateSelectedEditors,{args:[-r,0],checker:t}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],e.translateSelectedEditors,{args:[-s,0],checker:t}],[["ArrowRight","mac+ArrowRight"],e.translateSelectedEditors,{args:[r,0],checker:t}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],e.translateSelectedEditors,{args:[s,0],checker:t}],[["ArrowUp","mac+ArrowUp"],e.translateSelectedEditors,{args:[0,-r],checker:t}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],e.translateSelectedEditors,{args:[0,-s],checker:t}],[["ArrowDown","mac+ArrowDown"],e.translateSelectedEditors,{args:[0,r],checker:t}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],e.translateSelectedEditors,{args:[0,s],checker:t}]]))}destroy(){var e,t;A(this,j,O0).call(this),A(this,j,D0).call(this),this._eventBus._off("editingaction",c(this,Pu)),this._eventBus._off("pagechanging",c(this,Lu)),this._eventBus._off("scalechanging",c(this,Nu)),this._eventBus._off("rotationchanging",c(this,Fu));for(const i of c(this,st).values())i.destroy();c(this,st).clear(),c(this,Ge).clear(),c(this,Ys).clear(),E(this,tn,null),c(this,pe).clear(),c(this,Bn).destroy(),(e=c(this,$a))==null||e.destroy(),(t=c(this,fi))==null||t.hide(),E(this,fi,null),c(this,hi)&&(clearTimeout(c(this,hi)),E(this,hi,null)),c(this,pi)&&(clearTimeout(c(this,pi)),E(this,pi,null)),A(this,j,DS).call(this)}async mlGuess(e){var t;return((t=c(this,Ua))==null?void 0:t.guess(e))||null}get hasMLManager(){return!!c(this,Ua)}get hcmFilter(){return le(this,"hcmFilter",c(this,Zs)?c(this,xu).addHCMFilter(c(this,Zs).foreground,c(this,Zs).background):"none")}get direction(){return le(this,"direction",getComputedStyle(c(this,Xi)).direction)}get highlightColors(){return le(this,"highlightColors",c(this,za)?new Map(c(this,za).split(",").map(e=>e.split("=").map(t=>t.trim()))):null)}get highlightColorNames(){return le(this,"highlightColorNames",this.highlightColors?new Map(Array.from(this.highlightColors,e=>e.reverse())):null)}setMainHighlightColorPicker(e){E(this,bu,e)}editAltText(e){var t;(t=c(this,$a))==null||t.editAltText(this,e)}onPageChanging({pageNumber:e}){E(this,Ba,e-1)}focusMainContainer(){c(this,Xi).focus()}findParent(e,t){for(const i of c(this,st).values()){const{x:r,y:s,width:o,height:a}=i.div.getBoundingClientRect();if(e>=r&&e<=r+o&&t>=s&&t<=s+a)return i}return null}disableUserSelect(e=!1){c(this,Iu).classList.toggle("noUserSelect",e)}addShouldRescale(e){c(this,Ys).add(e)}removeShouldRescale(e){c(this,Ys).delete(e)}onScaleChanging({scale:e}){this.commitOrRemove(),this.viewParameters.realScale=e*Ss.PDF_TO_CSS_UNITS;for(const t of c(this,Ys))t.onScaleChanging()}onRotationChanging({pagesRotation:e}){this.commitOrRemove(),this.viewParameters.rotation=e}highlightSelection(e=""){const t=document.getSelection();if(!t||t.isCollapsed)return;const{anchorNode:i,anchorOffset:r,focusNode:s,focusOffset:o}=t,a=t.toString(),u=A(this,j,tf).call(this,t).closest(".textLayer"),d=this.getSelectionBoxes(u);if(d){t.empty(),c(this,ot)===ae.NONE&&(this._eventBus.dispatch("showannotationeditorui",{source:this,mode:ae.HIGHLIGHT}),this.showAllEditors("highlight",!0,!0));for(const h of c(this,st).values())if(h.hasTextLayer(u)){h.createAndAddNewEditor({x:0,y:0},!1,{methodOfCreation:e,boxes:d,anchorNode:i,anchorOffset:r,focusNode:s,focusOffset:o,text:a});break}}}addToAnnotationStorage(e){!e.isEmpty()&&c(this,Wi)&&!c(this,Wi).has(e.id)&&c(this,Wi).setValue(e.id,e)}blur(){if(this.isShiftKeyDown=!1,c(this,Br)&&(E(this,Br,!1),A(this,j,nf).call(this,"main_toolbar")),!this.hasSelection)return;const{activeElement:e}=document;for(const t of c(this,pe))if(t.div.contains(e)){E(this,Qs,[t,e]),t._focusEventsAllowed=!1;break}}focus(){if(!c(this,Qs))return;const[e,t]=c(this,Qs);E(this,Qs,null),t.addEventListener("focusin",()=>{e._focusEventsAllowed=!0},{once:!0}),t.focus()}addEditListeners(){A(this,j,I0).call(this),A(this,j,j0).call(this)}removeEditListeners(){A(this,j,O0).call(this),A(this,j,$0).call(this)}copy(e){var i;if(e.preventDefault(),(i=c(this,tn))==null||i.commitOrRemove(),!this.hasSelection)return;const t=[];for(const r of c(this,pe)){const s=r.serialize(!0);s&&t.push(s)}t.length!==0&&e.clipboardData.setData("application/pdfjs",JSON.stringify(t))}cut(e){this.copy(e),this.delete()}paste(e){e.preventDefault();const{clipboardData:t}=e;for(const s of t.items)for(const o of c(this,Gi))if(o.isHandlingMimeForPasting(s.type)){o.paste(s,this.currentLayer);return}let i=t.getData("application/pdfjs");if(!i)return;try{i=JSON.parse(i)}catch(s){ee(`paste: "${s.message}".`);return}if(!Array.isArray(i))return;this.unselectAll();const r=this.currentLayer;try{const s=[];for(const l of i){const u=r.deserialize(l);if(!u)return;s.push(u)}const o=()=>{for(const l of s)A(this,j,H0).call(this,l);A(this,j,B0).call(this,s)},a=()=>{for(const l of s)l.remove()};this.addCommands({cmd:o,undo:a,mustExec:!0})}catch(s){ee(`paste: "${s.message}".`)}}keydown(e){!this.isShiftKeyDown&&e.key==="Shift"&&(this.isShiftKeyDown=!0),c(this,ot)!==ae.NONE&&!this.isEditorHandlingKeyboard&&Ra._keyboardManager.exec(this,e)}keyup(e){this.isShiftKeyDown&&e.key==="Shift"&&(this.isShiftKeyDown=!1,c(this,Br)&&(E(this,Br,!1),A(this,j,nf).call(this,"main_toolbar")))}onEditingAction({name:e}){switch(e){case"undo":case"redo":case"delete":case"selectAll":this[e]();break;case"highlightSelection":this.highlightSelection("context_menu");break}}setEditingState(e){e?(A(this,j,IS).call(this),A(this,j,j0).call(this),A(this,j,kt).call(this,{isEditing:c(this,ot)!==ae.NONE,isEmpty:A(this,j,xc).call(this),hasSomethingToUndo:c(this,Bn).hasSomethingToUndo(),hasSomethingToRedo:c(this,Bn).hasSomethingToRedo(),hasSelectedEditor:!1})):(A(this,j,D0).call(this),A(this,j,$0).call(this),A(this,j,kt).call(this,{isEditing:!1}),this.disableUserSelect(!1))}registerEditorTypes(e){if(!c(this,Gi)){E(this,Gi,e);for(const t of c(this,Gi))A(this,j,Nr).call(this,t.defaultPropertiesToUpdate)}}getId(){return c(this,yp).id}get currentLayer(){return c(this,st).get(c(this,Ba))}getLayer(e){return c(this,st).get(e)}get currentPageIndex(){return c(this,Ba)}addLayer(e){c(this,st).set(e.pageIndex,e),c(this,zr)?e.enable():e.disable()}removeLayer(e){c(this,st).delete(e.pageIndex)}updateMode(e,t=null,i=!1){if(c(this,ot)!==e){if(E(this,ot,e),e===ae.NONE){this.setEditingState(!1),A(this,j,jS).call(this);return}this.setEditingState(!0),A(this,j,OS).call(this),this.unselectAll();for(const r of c(this,st).values())r.updateMode(e);if(!t&&i){this.addNewEditorFromKeyboard();return}if(t){for(const r of c(this,Ge).values())if(r.annotationElementId===t){this.setSelected(r),r.enterInEditMode();break}}}}addNewEditorFromKeyboard(){this.currentLayer.canCreateNewEmptyEditor()&&this.currentLayer.addNewEditor()}updateToolbar(e){e!==c(this,ot)&&this._eventBus.dispatch("switchannotationeditormode",{source:this,mode:e})}updateParams(e,t){var i;if(c(this,Gi)){switch(e){case Q.CREATE:this.currentLayer.addNewEditor();return;case Q.HIGHLIGHT_DEFAULT_COLOR:(i=c(this,bu))==null||i.updateColor(t);break;case Q.HIGHLIGHT_SHOW_ALL:this._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:{type:"highlight",action:"toggle_visibility"}}}),(c(this,Eu)||E(this,Eu,new Map)).set(e,t),this.showAllEditors("highlight",t);break}for(const r of c(this,pe))r.updateParams(e,t);for(const r of c(this,Gi))r.updateDefaultParams(e,t)}}showAllEditors(e,t,i=!1){var s;for(const o of c(this,Ge).values())o.editorType===e&&o.show(t);(((s=c(this,Eu))==null?void 0:s.get(Q.HIGHLIGHT_SHOW_ALL))??!0)!==t&&A(this,j,Nr).call(this,[[Q.HIGHLIGHT_SHOW_ALL,t]])}enableWaiting(e=!1){if(c(this,wu)!==e){E(this,wu,e);for(const t of c(this,st).values())e?t.disableClick():t.enableClick(),t.div.classList.toggle("waiting",e)}}getEditors(e){const t=[];for(const i of c(this,Ge).values())i.pageIndex===e&&t.push(i);return t}getEditor(e){return c(this,Ge).get(e)}addEditor(e){c(this,Ge).set(e.id,e)}removeEditor(e){var t;e.div.contains(document.activeElement)&&(c(this,hi)&&clearTimeout(c(this,hi)),E(this,hi,setTimeout(()=>{this.focusMainContainer(),E(this,hi,null)},0))),c(this,Ge).delete(e.id),this.unselect(e),(!e.annotationElementId||!c(this,Ks).has(e.annotationElementId))&&((t=c(this,Wi))==null||t.remove(e.id))}addDeletedAnnotationElement(e){c(this,Ks).add(e.annotationElementId),this.addChangedExistingAnnotation(e),e.deleted=!0}isDeletedAnnotationElement(e){return c(this,Ks).has(e)}removeDeletedAnnotationElement(e){c(this,Ks).delete(e.annotationElementId),this.removeChangedExistingAnnotation(e),e.deleted=!1}setActiveEditor(e){c(this,tn)!==e&&(E(this,tn,e),e&&A(this,j,Nr).call(this,e.propertiesToUpdate))}updateUI(e){c(this,j,$S)===e&&A(this,j,Nr).call(this,e.propertiesToUpdate)}toggleSelected(e){if(c(this,pe).has(e)){c(this,pe).delete(e),e.unselect(),A(this,j,kt).call(this,{hasSelectedEditor:this.hasSelection});return}c(this,pe).add(e),e.select(),A(this,j,Nr).call(this,e.propertiesToUpdate),A(this,j,kt).call(this,{hasSelectedEditor:!0})}setSelected(e){for(const t of c(this,pe))t!==e&&t.unselect();c(this,pe).clear(),c(this,pe).add(e),e.select(),A(this,j,Nr).call(this,e.propertiesToUpdate),A(this,j,kt).call(this,{hasSelectedEditor:!0})}isSelected(e){return c(this,pe).has(e)}get firstSelectedEditor(){return c(this,pe).values().next().value}unselect(e){e.unselect(),c(this,pe).delete(e),A(this,j,kt).call(this,{hasSelectedEditor:this.hasSelection})}get hasSelection(){return c(this,pe).size!==0}get isEnterHandled(){return c(this,pe).size===1&&this.firstSelectedEditor.isEnterHandled}undo(){c(this,Bn).undo(),A(this,j,kt).call(this,{hasSomethingToUndo:c(this,Bn).hasSomethingToUndo(),hasSomethingToRedo:!0,isEmpty:A(this,j,xc).call(this)})}redo(){c(this,Bn).redo(),A(this,j,kt).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:c(this,Bn).hasSomethingToRedo(),isEmpty:A(this,j,xc).call(this)})}addCommands(e){c(this,Bn).add(e),A(this,j,kt).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:!1,isEmpty:A(this,j,xc).call(this)})}delete(){if(this.commitOrRemove(),!this.hasSelection)return;const e=[...c(this,pe)],t=()=>{for(const r of e)r.remove()},i=()=>{for(const r of e)A(this,j,H0).call(this,r)};this.addCommands({cmd:t,undo:i,mustExec:!0})}commitOrRemove(){var e;(e=c(this,tn))==null||e.commitOrRemove()}hasSomethingToControl(){return c(this,tn)||this.hasSelection}selectAll(){for(const e of c(this,pe))e.commit();A(this,j,B0).call(this,c(this,Ge).values())}unselectAll(){if(!(c(this,tn)&&(c(this,tn).commitOrRemove(),c(this,ot)!==ae.NONE))&&this.hasSelection){for(const e of c(this,pe))e.unselect();c(this,pe).clear(),A(this,j,kt).call(this,{hasSelectedEditor:!1})}}translateSelectedEditors(e,t,i=!1){if(i||this.commitOrRemove(),!this.hasSelection)return;c(this,Ur)[0]+=e,c(this,Ur)[1]+=t;const[r,s]=c(this,Ur),o=[...c(this,pe)],a=1e3;c(this,pi)&&clearTimeout(c(this,pi)),E(this,pi,setTimeout(()=>{E(this,pi,null),c(this,Ur)[0]=c(this,Ur)[1]=0,this.addCommands({cmd:()=>{for(const l of o)c(this,Ge).has(l.id)&&l.translateInPage(r,s)},undo:()=>{for(const l of o)c(this,Ge).has(l.id)&&l.translateInPage(-r,-s)},mustExec:!1})},a));for(const l of o)l.translateInPage(e,t)}setUpDragSession(){if(this.hasSelection){this.disableUserSelect(!0),E(this,di,new Map);for(const e of c(this,pe))c(this,di).set(e,{savedX:e.x,savedY:e.y,savedPageIndex:e.pageIndex,newX:0,newY:0,newPageIndex:-1})}}endDragSession(){if(!c(this,di))return!1;this.disableUserSelect(!1);const e=c(this,di);E(this,di,null);let t=!1;for(const[{x:r,y:s,pageIndex:o},a]of e)a.newX=r,a.newY=s,a.newPageIndex=o,t||(t=r!==a.savedX||s!==a.savedY||o!==a.savedPageIndex);if(!t)return!1;const i=(r,s,o,a)=>{if(c(this,Ge).has(r.id)){const l=c(this,st).get(a);l?r._setParentAndPosition(l,s,o):(r.pageIndex=a,r.x=s,r.y=o)}};return this.addCommands({cmd:()=>{for(const[r,{newX:s,newY:o,newPageIndex:a}]of e)i(r,s,o,a)},undo:()=>{for(const[r,{savedX:s,savedY:o,savedPageIndex:a}]of e)i(r,s,o,a)},mustExec:!0}),!0}dragSelectedEditors(e,t){if(c(this,di))for(const i of c(this,di).keys())i.drag(e,t)}rebuild(e){if(e.parent===null){const t=this.getLayer(e.pageIndex);t?(t.changeParent(e),t.addOrRebuild(e)):(this.addEditor(e),this.addToAnnotationStorage(e),e.rebuild())}else e.parent.addOrRebuild(e)}get isEditorHandlingKeyboard(){var e;return((e=this.getActive())==null?void 0:e.shouldGetKeyboardEvents())||c(this,pe).size===1&&this.firstSelectedEditor.shouldGetKeyboardEvents()}isActive(e){return c(this,tn)===e}getActive(){return c(this,tn)}getMode(){return c(this,ot)}get imageManager(){return le(this,"imageManager",new N0)}getSelectionBoxes(e){if(!e)return null;const t=document.getSelection();for(let u=0,d=t.rangeCount;u<d;u++)if(!e.contains(t.getRangeAt(u).commonAncestorContainer))return null;const{x:i,y:r,width:s,height:o}=e.getBoundingClientRect();let a;switch(e.getAttribute("data-main-rotation")){case"90":a=(u,d,h,f)=>({x:(d-r)/o,y:1-(u+h-i)/s,width:f/o,height:h/s});break;case"180":a=(u,d,h,f)=>({x:1-(u+h-i)/s,y:1-(d+f-r)/o,width:h/s,height:f/o});break;case"270":a=(u,d,h,f)=>({x:1-(d+f-r)/o,y:(u-i)/s,width:f/o,height:h/s});break;default:a=(u,d,h,f)=>({x:(u-i)/s,y:(d-r)/o,width:h/s,height:f/o});break}const l=[];for(let u=0,d=t.rangeCount;u<d;u++){const h=t.getRangeAt(u);if(!h.collapsed)for(const{x:f,y:p,width:m,height:v}of h.getClientRects())m===0||v===0||l.push(a(f,p,m,v))}return l.length===0?null:l}addChangedExistingAnnotation({annotationElementId:e,id:t}){(c(this,Ha)||E(this,Ha,new Map)).set(e,t)}removeChangedExistingAnnotation({annotationElementId:e}){var t;(t=c(this,Ha))==null||t.delete(e)}renderAnnotationElement(e){var r;const t=(r=c(this,Ha))==null?void 0:r.get(e.data.id);if(!t)return;const i=c(this,Wi).getRawValue(t);i&&(c(this,ot)===ae.NONE&&!i.hasBeenModified||i.renderAnnotationElement(e))}};tn=new WeakMap,Ge=new WeakMap,st=new WeakMap,$a=new WeakMap,Wi=new WeakMap,Ha=new WeakMap,Bn=new WeakMap,Ba=new WeakMap,Ks=new WeakMap,di=new WeakMap,Gi=new WeakMap,Ys=new WeakMap,yu=new WeakMap,xu=new WeakMap,hi=new WeakMap,za=new WeakMap,Br=new WeakMap,fi=new WeakMap,yp=new WeakMap,zr=new WeakMap,wu=new WeakMap,Qs=new WeakMap,bu=new WeakMap,Ua=new WeakMap,ot=new WeakMap,pe=new WeakMap,qi=new WeakMap,Zs=new WeakMap,Eu=new WeakMap,Au=new WeakMap,Su=new WeakMap,Cu=new WeakMap,_u=new WeakMap,ku=new WeakMap,Tu=new WeakMap,Ru=new WeakMap,Pu=new WeakMap,Lu=new WeakMap,Nu=new WeakMap,Mu=new WeakMap,Fu=new WeakMap,Du=new WeakMap,Ur=new WeakMap,pi=new WeakMap,Xi=new WeakMap,Iu=new WeakMap,j=new WeakSet,tf=function({anchorNode:e}){return e.nodeType===Node.TEXT_NODE?e.parentElement:e},NS=function(){const e=document.getSelection();if(!e||e.isCollapsed)return;const i=A(this,j,tf).call(this,e).closest(".textLayer"),r=this.getSelectionBoxes(i);r&&(c(this,fi)||E(this,fi,new yM(this)),c(this,fi).show(i,r,this.direction==="ltr"))},MS=function(){var s,o,a;const e=document.getSelection();if(!e||e.isCollapsed){c(this,qi)&&((s=c(this,fi))==null||s.hide(),E(this,qi,null),A(this,j,kt).call(this,{hasSelectedText:!1}));return}const{anchorNode:t}=e;if(t===c(this,qi))return;if(!A(this,j,tf).call(this,e).closest(".textLayer")){c(this,qi)&&((o=c(this,fi))==null||o.hide(),E(this,qi,null),A(this,j,kt).call(this,{hasSelectedText:!1}));return}if((a=c(this,fi))==null||a.hide(),E(this,qi,t),A(this,j,kt).call(this,{hasSelectedText:!0}),!(c(this,ot)!==ae.HIGHLIGHT&&c(this,ot)!==ae.NONE)&&(c(this,ot)===ae.HIGHLIGHT&&this.showAllEditors("highlight",!0,!0),E(this,Br,this.isShiftKeyDown),!this.isShiftKeyDown)){const l=u=>{u.type==="pointerup"&&u.button!==0||(window.removeEventListener("pointerup",l),window.removeEventListener("blur",l),u.type==="pointerup"&&A(this,j,nf).call(this,"main_toolbar"))};window.addEventListener("pointerup",l),window.addEventListener("blur",l)}},nf=function(e=""){c(this,ot)===ae.HIGHLIGHT?this.highlightSelection(e):c(this,yu)&&A(this,j,NS).call(this)},FS=function(){document.addEventListener("selectionchange",c(this,Mu))},DS=function(){document.removeEventListener("selectionchange",c(this,Mu))},IS=function(){window.addEventListener("focus",c(this,Su)),window.addEventListener("blur",c(this,Au))},D0=function(){window.removeEventListener("focus",c(this,Su)),window.removeEventListener("blur",c(this,Au))},I0=function(){window.addEventListener("keydown",c(this,Tu)),window.addEventListener("keyup",c(this,Ru))},O0=function(){window.removeEventListener("keydown",c(this,Tu)),window.removeEventListener("keyup",c(this,Ru))},j0=function(){document.addEventListener("copy",c(this,Cu)),document.addEventListener("cut",c(this,_u)),document.addEventListener("paste",c(this,ku))},$0=function(){document.removeEventListener("copy",c(this,Cu)),document.removeEventListener("cut",c(this,_u)),document.removeEventListener("paste",c(this,ku))},kt=function(e){Object.entries(e).some(([i,r])=>c(this,Du)[i]!==r)&&(this._eventBus.dispatch("annotationeditorstateschanged",{source:this,details:Object.assign(c(this,Du),e)}),c(this,ot)===ae.HIGHLIGHT&&e.hasSelectedEditor===!1&&A(this,j,Nr).call(this,[[Q.HIGHLIGHT_FREE,!0]]))},Nr=function(e){this._eventBus.dispatch("annotationeditorparamschanged",{source:this,details:e})},OS=function(){if(!c(this,zr)){E(this,zr,!0);for(const e of c(this,st).values())e.enable();for(const e of c(this,Ge).values())e.enable()}},jS=function(){if(this.unselectAll(),c(this,zr)){E(this,zr,!1);for(const e of c(this,st).values())e.disable();for(const e of c(this,Ge).values())e.disable()}},H0=function(e){const t=c(this,st).get(e.pageIndex);t?t.addOrRebuild(e):(this.addEditor(e),this.addToAnnotationStorage(e))},$S=function(){let e=null;for(e of c(this,pe));return e},xc=function(){if(c(this,Ge).size===0)return!0;if(c(this,Ge).size===1)for(const e of c(this,Ge).values())return e.isEmpty();return!1},B0=function(e){for(const t of c(this,pe))t.unselect();c(this,pe).clear();for(const t of e)t.isEmpty()||(c(this,pe).add(t),t.select());A(this,j,kt).call(this,{hasSelectedEditor:this.hasSelection})},Z(Ra,"TRANSLATE_SMALL",1),Z(Ra,"TRANSLATE_BIG",10);let ea=Ra;var Ki,Yi,zn,Qi,Un,Va,Zi,Ou,z0;const $i=class $i{constructor(e){S(this,Ou);S(this,Ki,"");S(this,Yi,!1);S(this,zn,null);S(this,Qi,null);S(this,Un,null);S(this,Va,!1);S(this,Zi,null);E(this,Zi,e)}static initialize(e){$i._l10nPromise||($i._l10nPromise=e)}async render(){const e=E(this,zn,document.createElement("button"));e.className="altText";const t=await $i._l10nPromise.get("pdfjs-editor-alt-text-button-label");e.textContent=t,e.setAttribute("aria-label",t),e.tabIndex="0",e.addEventListener("contextmenu",Qt),e.addEventListener("pointerdown",r=>r.stopPropagation());const i=r=>{r.preventDefault(),c(this,Zi)._uiManager.editAltText(c(this,Zi))};return e.addEventListener("click",i,{capture:!0}),e.addEventListener("keydown",r=>{r.target===e&&r.key==="Enter"&&(E(this,Va,!0),i(r))}),await A(this,Ou,z0).call(this),e}finish(){c(this,zn)&&(c(this,zn).focus({focusVisible:c(this,Va)}),E(this,Va,!1))}isEmpty(){return!c(this,Ki)&&!c(this,Yi)}get data(){return{altText:c(this,Ki),decorative:c(this,Yi)}}set data({altText:e,decorative:t}){c(this,Ki)===e&&c(this,Yi)===t||(E(this,Ki,e),E(this,Yi,t),A(this,Ou,z0).call(this))}toggle(e=!1){c(this,zn)&&(!e&&c(this,Un)&&(clearTimeout(c(this,Un)),E(this,Un,null)),c(this,zn).disabled=!e)}destroy(){var e;(e=c(this,zn))==null||e.remove(),E(this,zn,null),E(this,Qi,null)}};Ki=new WeakMap,Yi=new WeakMap,zn=new WeakMap,Qi=new WeakMap,Un=new WeakMap,Va=new WeakMap,Zi=new WeakMap,Ou=new WeakSet,z0=async function(){var r;const e=c(this,zn);if(!e)return;if(!c(this,Ki)&&!c(this,Yi)){e.classList.remove("done"),(r=c(this,Qi))==null||r.remove();return}e.classList.add("done"),$i._l10nPromise.get("pdfjs-editor-alt-text-edit-button-label").then(s=>{e.setAttribute("aria-label",s)});let t=c(this,Qi);if(!t){E(this,Qi,t=document.createElement("span")),t.className="tooltip",t.setAttribute("role","tooltip");const s=t.id=`alt-text-tooltip-${c(this,Zi).id}`;e.setAttribute("aria-describedby",s);const o=100;e.addEventListener("mouseenter",()=>{E(this,Un,setTimeout(()=>{E(this,Un,null),c(this,Qi).classList.add("show"),c(this,Zi)._reportTelemetry({action:"alt_text_tooltip"})},o))}),e.addEventListener("mouseleave",()=>{var a;c(this,Un)&&(clearTimeout(c(this,Un)),E(this,Un,null)),(a=c(this,Qi))==null||a.classList.remove("show")})}t.innerText=c(this,Yi)?await $i._l10nPromise.get("pdfjs-editor-alt-text-decorative-tooltip"):c(this,Ki),t.parentNode||e.append(t);const i=c(this,Zi).getImageForAltText();i==null||i.setAttribute("aria-describedby",t.id)},Z($i,"_l10nPromise",null);let op=$i;var Vn,Tt,Wa,Js,at,eo,Ga,qa,bt,ju,to,Vr,$u,no,Ji,mi,Xa,Ka,xn,Hu,xp,te,U0,Bu,V0,W0,HS,BS,G0,q0,X0,zS,US,VS,WS,K0,wc;const we=class we{constructor(e){S(this,te);S(this,Vn,null);S(this,Tt,null);S(this,Wa,!1);S(this,Js,!1);S(this,at,null);S(this,eo,null);S(this,Ga,this.focusin.bind(this));S(this,qa,this.focusout.bind(this));S(this,bt,null);S(this,ju,"");S(this,to,!1);S(this,Vr,null);S(this,$u,!1);S(this,no,!1);S(this,Ji,!1);S(this,mi,null);S(this,Xa,0);S(this,Ka,0);S(this,xn,null);Z(this,"_initialOptions",Object.create(null));Z(this,"_isVisible",!0);Z(this,"_uiManager",null);Z(this,"_focusEventsAllowed",!0);Z(this,"_l10nPromise",null);S(this,Hu,!1);S(this,xp,we._zIndex++);this.constructor===we&&ye("Cannot initialize AnnotationEditor."),this.parent=e.parent,this.id=e.id,this.width=this.height=null,this.pageIndex=e.parent.pageIndex,this.name=e.name,this.div=null,this._uiManager=e.uiManager,this.annotationElementId=null,this._willKeepAspectRatio=!1,this._initialOptions.isCentered=e.isCentered,this._structTreeParentId=null;const{rotation:t,rawDims:{pageWidth:i,pageHeight:r,pageX:s,pageY:o}}=this.parent.viewport;this.rotation=t,this.pageRotation=(360+t-this._uiManager.viewParameters.rotation)%360,this.pageDimensions=[i,r],this.pageTranslation=[s,o];const[a,l]=this.parentDimensions;this.x=e.x/a,this.y=e.y/l,this.isAttachedToDOM=!1,this.deleted=!1}static get _resizerKeyboardManager(){const e=we.prototype._resizeWithKeyboard,t=ea.TRANSLATE_SMALL,i=ea.TRANSLATE_BIG;return le(this,"_resizerKeyboardManager",new ah([[["ArrowLeft","mac+ArrowLeft"],e,{args:[-t,0]}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],e,{args:[-i,0]}],[["ArrowRight","mac+ArrowRight"],e,{args:[t,0]}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],e,{args:[i,0]}],[["ArrowUp","mac+ArrowUp"],e,{args:[0,-t]}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],e,{args:[0,-i]}],[["ArrowDown","mac+ArrowDown"],e,{args:[0,t]}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],e,{args:[0,i]}],[["Escape","mac+Escape"],we.prototype._stopResizingWithKeyboard]]))}get editorType(){return Object.getPrototypeOf(this).constructor._type}static get _defaultLineColor(){return le(this,"_defaultLineColor",this._colorManager.getHexCode("CanvasText"))}static deleteAnnotationElement(e){const t=new EM({id:e.parent.getNextId(),parent:e.parent,uiManager:e._uiManager});t.annotationElementId=e.annotationElementId,t.deleted=!0,t._uiManager.addToAnnotationStorage(t)}static initialize(e,t,i){if(we._l10nPromise||(we._l10nPromise=new Map(["pdfjs-editor-alt-text-button-label","pdfjs-editor-alt-text-edit-button-label","pdfjs-editor-alt-text-decorative-tooltip","pdfjs-editor-resizer-label-topLeft","pdfjs-editor-resizer-label-topMiddle","pdfjs-editor-resizer-label-topRight","pdfjs-editor-resizer-label-middleRight","pdfjs-editor-resizer-label-bottomRight","pdfjs-editor-resizer-label-bottomMiddle","pdfjs-editor-resizer-label-bottomLeft","pdfjs-editor-resizer-label-middleLeft"].map(s=>[s,e.get(s.replaceAll(/([A-Z])/g,o=>`-${o.toLowerCase()}`))]))),i!=null&&i.strings)for(const s of i.strings)we._l10nPromise.set(s,e.get(s));if(we._borderLineWidth!==-1)return;const r=getComputedStyle(document.documentElement);we._borderLineWidth=parseFloat(r.getPropertyValue("--outline-width"))||0}static updateDefaultParams(e,t){}static get defaultPropertiesToUpdate(){return[]}static isHandlingMimeForPasting(e){return!1}static paste(e,t){ye("Not implemented")}get propertiesToUpdate(){return[]}get _isDraggable(){return c(this,Hu)}set _isDraggable(e){var t;E(this,Hu,e),(t=this.div)==null||t.classList.toggle("draggable",e)}get isEnterHandled(){return!0}center(){const[e,t]=this.pageDimensions;switch(this.parentRotation){case 90:this.x-=this.height*t/(e*2),this.y+=this.width*e/(t*2);break;case 180:this.x+=this.width/2,this.y+=this.height/2;break;case 270:this.x+=this.height*t/(e*2),this.y-=this.width*e/(t*2);break;default:this.x-=this.width/2,this.y-=this.height/2;break}this.fixAndSetPosition()}addCommands(e){this._uiManager.addCommands(e)}get currentLayer(){return this._uiManager.currentLayer}setInBackground(){this.div.style.zIndex=0}setInForeground(){this.div.style.zIndex=c(this,xp)}setParent(e){e!==null?(this.pageIndex=e.pageIndex,this.pageDimensions=e.pageDimensions):A(this,te,wc).call(this),this.parent=e}focusin(e){this._focusEventsAllowed&&(c(this,to)?E(this,to,!1):this.parent.setSelected(this))}focusout(e){var i;if(!this._focusEventsAllowed||!this.isAttachedToDOM)return;const t=e.relatedTarget;t!=null&&t.closest(`#${this.id}`)||(e.preventDefault(),(i=this.parent)!=null&&i.isMultipleSelection||this.commitOrRemove())}commitOrRemove(){this.isEmpty()?this.remove():this.commit()}commit(){this.addToAnnotationStorage()}addToAnnotationStorage(){this._uiManager.addToAnnotationStorage(this)}setAt(e,t,i,r){const[s,o]=this.parentDimensions;[i,r]=this.screenToPageTranslation(i,r),this.x=(e+i)/s,this.y=(t+r)/o,this.fixAndSetPosition()}translate(e,t){A(this,te,U0).call(this,this.parentDimensions,e,t)}translateInPage(e,t){c(this,Vr)||E(this,Vr,[this.x,this.y]),A(this,te,U0).call(this,this.pageDimensions,e,t),this.div.scrollIntoView({block:"nearest"})}drag(e,t){c(this,Vr)||E(this,Vr,[this.x,this.y]);const[i,r]=this.parentDimensions;if(this.x+=e/i,this.y+=t/r,this.parent&&(this.x<0||this.x>1||this.y<0||this.y>1)){const{x:u,y:d}=this.div.getBoundingClientRect();this.parent.findNewParent(this,u,d)&&(this.x-=Math.floor(this.x),this.y-=Math.floor(this.y))}let{x:s,y:o}=this;const[a,l]=this.getBaseTranslation();s+=a,o+=l,this.div.style.left=`${(100*s).toFixed(2)}%`,this.div.style.top=`${(100*o).toFixed(2)}%`,this.div.scrollIntoView({block:"nearest"})}get _hasBeenMoved(){return!!c(this,Vr)&&(c(this,Vr)[0]!==this.x||c(this,Vr)[1]!==this.y)}getBaseTranslation(){const[e,t]=this.parentDimensions,{_borderLineWidth:i}=we,r=i/e,s=i/t;switch(this.rotation){case 90:return[-r,s];case 180:return[r,s];case 270:return[r,-s];default:return[-r,-s]}}get _mustFixPosition(){return!0}fixAndSetPosition(e=this.rotation){const[t,i]=this.pageDimensions;let{x:r,y:s,width:o,height:a}=this;if(o*=t,a*=i,r*=t,s*=i,this._mustFixPosition)switch(e){case 0:r=Math.max(0,Math.min(t-o,r)),s=Math.max(0,Math.min(i-a,s));break;case 90:r=Math.max(0,Math.min(t-a,r)),s=Math.min(i,Math.max(o,s));break;case 180:r=Math.min(t,Math.max(o,r)),s=Math.min(i,Math.max(a,s));break;case 270:r=Math.min(t,Math.max(a,r)),s=Math.max(0,Math.min(i-o,s));break}this.x=r/=t,this.y=s/=i;const[l,u]=this.getBaseTranslation();r+=l,s+=u;const{style:d}=this.div;d.left=`${(100*r).toFixed(2)}%`,d.top=`${(100*s).toFixed(2)}%`,this.moveInDOM()}screenToPageTranslation(e,t){var i;return A(i=we,Bu,V0).call(i,e,t,this.parentRotation)}pageTranslationToScreen(e,t){var i;return A(i=we,Bu,V0).call(i,e,t,360-this.parentRotation)}get parentScale(){return this._uiManager.viewParameters.realScale}get parentRotation(){return(this._uiManager.viewParameters.rotation+this.pageRotation)%360}get parentDimensions(){const{parentScale:e,pageDimensions:[t,i]}=this,r=t*e,s=i*e;return Wt.isCSSRoundSupported?[Math.round(r),Math.round(s)]:[r,s]}setDims(e,t){const[i,r]=this.parentDimensions;this.div.style.width=`${(100*e/i).toFixed(2)}%`,c(this,Js)||(this.div.style.height=`${(100*t/r).toFixed(2)}%`)}fixDims(){const{style:e}=this.div,{height:t,width:i}=e,r=i.endsWith("%"),s=!c(this,Js)&&t.endsWith("%");if(r&&s)return;const[o,a]=this.parentDimensions;r||(e.width=`${(100*parseFloat(i)/o).toFixed(2)}%`),!c(this,Js)&&!s&&(e.height=`${(100*parseFloat(t)/a).toFixed(2)}%`)}getInitialTranslation(){return[0,0]}altTextFinish(){var e;(e=c(this,Tt))==null||e.finish()}async addEditToolbar(){return c(this,bt)||c(this,no)?c(this,bt):(E(this,bt,new P0(this)),this.div.append(c(this,bt).render()),c(this,Tt)&&c(this,bt).addAltTextButton(await c(this,Tt).render()),c(this,bt))}removeEditToolbar(){var e;c(this,bt)&&(c(this,bt).remove(),E(this,bt,null),(e=c(this,Tt))==null||e.destroy())}getClientDimensions(){return this.div.getBoundingClientRect()}async addAltTextButton(){c(this,Tt)||(op.initialize(we._l10nPromise),E(this,Tt,new op(this)),await this.addEditToolbar())}get altTextData(){var e;return(e=c(this,Tt))==null?void 0:e.data}set altTextData(e){c(this,Tt)&&(c(this,Tt).data=e)}hasAltText(){var e;return!((e=c(this,Tt))!=null&&e.isEmpty())}render(){this.div=document.createElement("div"),this.div.setAttribute("data-editor-rotation",(360-this.rotation)%360),this.div.className=this.name,this.div.setAttribute("id",this.id),this.div.tabIndex=c(this,Wa)?-1:0,this._isVisible||this.div.classList.add("hidden"),this.setInForeground(),this.div.addEventListener("focusin",c(this,Ga)),this.div.addEventListener("focusout",c(this,qa));const[e,t]=this.parentDimensions;this.parentRotation%180!==0&&(this.div.style.maxWidth=`${(100*t/e).toFixed(2)}%`,this.div.style.maxHeight=`${(100*e/t).toFixed(2)}%`);const[i,r]=this.getInitialTranslation();return this.translate(i,r),sp(this,this.div,["pointerdown"]),this.div}pointerdown(e){const{isMac:t}=Wt.platform;if(e.button!==0||e.ctrlKey&&t){e.preventDefault();return}if(E(this,to,!0),this._isDraggable){A(this,te,zS).call(this,e);return}A(this,te,X0).call(this,e)}moveInDOM(){c(this,mi)&&clearTimeout(c(this,mi)),E(this,mi,setTimeout(()=>{var e;E(this,mi,null),(e=this.parent)==null||e.moveEditorInDOM(this)},0))}_setParentAndPosition(e,t,i){e.changeParent(this),this.x=t,this.y=i,this.fixAndSetPosition()}getRect(e,t,i=this.rotation){const r=this.parentScale,[s,o]=this.pageDimensions,[a,l]=this.pageTranslation,u=e/r,d=t/r,h=this.x*s,f=this.y*o,p=this.width*s,m=this.height*o;switch(i){case 0:return[h+u+a,o-f-d-m+l,h+u+p+a,o-f-d+l];case 90:return[h+d+a,o-f+u+l,h+d+m+a,o-f+u+p+l];case 180:return[h-u-p+a,o-f+d+l,h-u+a,o-f+d+m+l];case 270:return[h-d-m+a,o-f-u-p+l,h-d+a,o-f-u+l];default:throw new Error("Invalid rotation")}}getRectInCurrentCoords(e,t){const[i,r,s,o]=e,a=s-i,l=o-r;switch(this.rotation){case 0:return[i,t-o,a,l];case 90:return[i,t-r,l,a];case 180:return[s,t-r,a,l];case 270:return[s,t-o,l,a];default:throw new Error("Invalid rotation")}}onceAdded(){}isEmpty(){return!1}enableEditMode(){E(this,no,!0)}disableEditMode(){E(this,no,!1)}isInEditMode(){return c(this,no)}shouldGetKeyboardEvents(){return c(this,Ji)}needsToBeRebuilt(){return this.div&&!this.isAttachedToDOM}rebuild(){var e,t;(e=this.div)==null||e.addEventListener("focusin",c(this,Ga)),(t=this.div)==null||t.addEventListener("focusout",c(this,qa))}rotate(e){}serialize(e=!1,t=null){ye("An editor must be serializable")}static deserialize(e,t,i){const r=new this.prototype.constructor({parent:t,id:t.getNextId(),uiManager:i});r.rotation=e.rotation;const[s,o]=r.pageDimensions,[a,l,u,d]=r.getRectInCurrentCoords(e.rect,o);return r.x=a/s,r.y=l/o,r.width=u/s,r.height=d/o,r}get hasBeenModified(){return!!this.annotationElementId&&(this.deleted||this.serialize()!==null)}remove(){if(this.div.removeEventListener("focusin",c(this,Ga)),this.div.removeEventListener("focusout",c(this,qa)),this.isEmpty()||this.commit(),this.parent?this.parent.remove(this):this._uiManager.removeEditor(this),c(this,mi)&&(clearTimeout(c(this,mi)),E(this,mi,null)),A(this,te,wc).call(this),this.removeEditToolbar(),c(this,xn)){for(const e of c(this,xn).values())clearTimeout(e);E(this,xn,null)}this.parent=null}get isResizable(){return!1}makeResizable(){this.isResizable&&(A(this,te,HS).call(this),c(this,at).classList.remove("hidden"),sp(this,this.div,["keydown"]))}get toolbarPosition(){return null}keydown(e){if(!this.isResizable||e.target!==this.div||e.key!=="Enter")return;this._uiManager.setSelected(this),E(this,eo,{savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height});const t=c(this,at).children;if(!c(this,Vn)){E(this,Vn,Array.from(t));const o=A(this,te,US).bind(this),a=A(this,te,VS).bind(this);for(const l of c(this,Vn)){const u=l.getAttribute("data-resizer-name");l.setAttribute("role","spinbutton"),l.addEventListener("keydown",o),l.addEventListener("blur",a),l.addEventListener("focus",A(this,te,WS).bind(this,u)),we._l10nPromise.get(`pdfjs-editor-resizer-label-${u}`).then(d=>l.setAttribute("aria-label",d))}}const i=c(this,Vn)[0];let r=0;for(const o of t){if(o===i)break;r++}const s=(360-this.rotation+this.parentRotation)%360/90*(c(this,Vn).length/4);if(s!==r){if(s<r)for(let a=0;a<r-s;a++)c(this,at).append(c(this,at).firstChild);else if(s>r)for(let a=0;a<s-r;a++)c(this,at).firstChild.before(c(this,at).lastChild);let o=0;for(const a of t){const u=c(this,Vn)[o++].getAttribute("data-resizer-name");we._l10nPromise.get(`pdfjs-editor-resizer-label-${u}`).then(d=>a.setAttribute("aria-label",d))}}A(this,te,K0).call(this,0),E(this,Ji,!0),c(this,at).firstChild.focus({focusVisible:!0}),e.preventDefault(),e.stopImmediatePropagation()}_resizeWithKeyboard(e,t){c(this,Ji)&&A(this,te,q0).call(this,c(this,ju),{movementX:e,movementY:t})}_stopResizingWithKeyboard(){A(this,te,wc).call(this),this.div.focus()}select(){var e,t;if(this.makeResizable(),(e=this.div)==null||e.classList.add("selectedEditor"),!c(this,bt)){this.addEditToolbar().then(()=>{var i,r;(i=this.div)!=null&&i.classList.contains("selectedEditor")&&((r=c(this,bt))==null||r.show())});return}(t=c(this,bt))==null||t.show()}unselect(){var e,t,i,r;(e=c(this,at))==null||e.classList.add("hidden"),(t=this.div)==null||t.classList.remove("selectedEditor"),(i=this.div)!=null&&i.contains(document.activeElement)&&this._uiManager.currentLayer.div.focus({preventScroll:!0}),(r=c(this,bt))==null||r.hide()}updateParams(e,t){}disableEditing(){}enableEditing(){}enterInEditMode(){}getImageForAltText(){return null}get contentDiv(){return this.div}get isEditing(){return c(this,$u)}set isEditing(e){E(this,$u,e),this.parent&&(e?(this.parent.setSelected(this),this.parent.setActiveEditor(this)):this.parent.setActiveEditor(null))}setAspectRatio(e,t){E(this,Js,!0);const i=e/t,{style:r}=this.div;r.aspectRatio=i,r.height="auto"}static get MIN_SIZE(){return 16}static canCreateNewEmptyEditor(){return!0}get telemetryInitialData(){return{action:"added"}}get telemetryFinalData(){return null}_reportTelemetry(e,t=!1){if(t){c(this,xn)||E(this,xn,new Map);const{action:i}=e;let r=c(this,xn).get(i);r&&clearTimeout(r),r=setTimeout(()=>{this._reportTelemetry(e),c(this,xn).delete(i),c(this,xn).size===0&&E(this,xn,null)},we._telemetryTimeout),c(this,xn).set(i,r);return}e.type||(e.type=this.editorType),this._uiManager._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:e}})}show(e=this._isVisible){this.div.classList.toggle("hidden",!e),this._isVisible=e}enable(){this.div&&(this.div.tabIndex=0),E(this,Wa,!1)}disable(){this.div&&(this.div.tabIndex=-1),E(this,Wa,!0)}renderAnnotationElement(e){let t=e.container.querySelector(".annotationContent");if(!t)t=document.createElement("div"),t.classList.add("annotationContent",this.editorType),e.container.prepend(t);else if(t.nodeName==="CANVAS"){const i=t;t=document.createElement("div"),t.classList.add("annotationContent",this.editorType),i.before(t)}return t}resetAnnotationElement(e){const{firstChild:t}=e.container;t.nodeName==="DIV"&&t.classList.contains("annotationContent")&&t.remove()}};Vn=new WeakMap,Tt=new WeakMap,Wa=new WeakMap,Js=new WeakMap,at=new WeakMap,eo=new WeakMap,Ga=new WeakMap,qa=new WeakMap,bt=new WeakMap,ju=new WeakMap,to=new WeakMap,Vr=new WeakMap,$u=new WeakMap,no=new WeakMap,Ji=new WeakMap,mi=new WeakMap,Xa=new WeakMap,Ka=new WeakMap,xn=new WeakMap,Hu=new WeakMap,xp=new WeakMap,te=new WeakSet,U0=function([e,t],i,r){[i,r]=this.screenToPageTranslation(i,r),this.x+=i/e,this.y+=r/t,this.fixAndSetPosition()},Bu=new WeakSet,V0=function(e,t,i){switch(i){case 90:return[t,-e];case 180:return[-e,-t];case 270:return[-t,e];default:return[e,t]}},W0=function(e){switch(e){case 90:{const[t,i]=this.pageDimensions;return[0,-t/i,i/t,0]}case 180:return[-1,0,0,-1];case 270:{const[t,i]=this.pageDimensions;return[0,t/i,-i/t,0]}default:return[1,0,0,1]}},HS=function(){if(c(this,at))return;E(this,at,document.createElement("div")),c(this,at).classList.add("resizers");const e=this._willKeepAspectRatio?["topLeft","topRight","bottomRight","bottomLeft"]:["topLeft","topMiddle","topRight","middleRight","bottomRight","bottomMiddle","bottomLeft","middleLeft"];for(const t of e){const i=document.createElement("div");c(this,at).append(i),i.classList.add("resizer",t),i.setAttribute("data-resizer-name",t),i.addEventListener("pointerdown",A(this,te,BS).bind(this,t)),i.addEventListener("contextmenu",Qt),i.tabIndex=-1}this.div.prepend(c(this,at))},BS=function(e,t){var m;t.preventDefault();const{isMac:i}=Wt.platform;if(t.button!==0||t.ctrlKey&&i)return;(m=c(this,Tt))==null||m.toggle(!1);const r=A(this,te,q0).bind(this,e),s=this._isDraggable;this._isDraggable=!1;const o={passive:!0,capture:!0};this.parent.togglePointerEvents(!1),window.addEventListener("pointermove",r,o),window.addEventListener("contextmenu",Qt);const a=this.x,l=this.y,u=this.width,d=this.height,h=this.parent.div.style.cursor,f=this.div.style.cursor;this.div.style.cursor=this.parent.div.style.cursor=window.getComputedStyle(t.target).cursor;const p=()=>{var v;this.parent.togglePointerEvents(!0),(v=c(this,Tt))==null||v.toggle(!0),this._isDraggable=s,window.removeEventListener("pointerup",p),window.removeEventListener("blur",p),window.removeEventListener("pointermove",r,o),window.removeEventListener("contextmenu",Qt),this.parent.div.style.cursor=h,this.div.style.cursor=f,A(this,te,G0).call(this,a,l,u,d)};window.addEventListener("pointerup",p),window.addEventListener("blur",p)},G0=function(e,t,i,r){const s=this.x,o=this.y,a=this.width,l=this.height;s===e&&o===t&&a===i&&l===r||this.addCommands({cmd:()=>{this.width=a,this.height=l,this.x=s,this.y=o;const[u,d]=this.parentDimensions;this.setDims(u*a,d*l),this.fixAndSetPosition()},undo:()=>{this.width=i,this.height=r,this.x=e,this.y=t;const[u,d]=this.parentDimensions;this.setDims(u*i,d*r),this.fixAndSetPosition()},mustExec:!0})},q0=function(e,t){const[i,r]=this.parentDimensions,s=this.x,o=this.y,a=this.width,l=this.height,u=we.MIN_SIZE/i,d=we.MIN_SIZE/r,h=I=>Math.round(I*1e4)/1e4,f=A(this,te,W0).call(this,this.rotation),p=(I,N)=>[f[0]*I+f[2]*N,f[1]*I+f[3]*N],m=A(this,te,W0).call(this,360-this.rotation),v=(I,N)=>[m[0]*I+m[2]*N,m[1]*I+m[3]*N];let b,g,y=!1,x=!1;switch(e){case"topLeft":y=!0,b=(I,N)=>[0,0],g=(I,N)=>[I,N];break;case"topMiddle":b=(I,N)=>[I/2,0],g=(I,N)=>[I/2,N];break;case"topRight":y=!0,b=(I,N)=>[I,0],g=(I,N)=>[0,N];break;case"middleRight":x=!0,b=(I,N)=>[I,N/2],g=(I,N)=>[0,N/2];break;case"bottomRight":y=!0,b=(I,N)=>[I,N],g=(I,N)=>[0,0];break;case"bottomMiddle":b=(I,N)=>[I/2,N],g=(I,N)=>[I/2,0];break;case"bottomLeft":y=!0,b=(I,N)=>[0,N],g=(I,N)=>[I,0];break;case"middleLeft":x=!0,b=(I,N)=>[0,N/2],g=(I,N)=>[I,N/2];break}const _=b(a,l),k=g(a,l);let T=p(...k);const R=h(s+T[0]),L=h(o+T[1]);let D=1,F=1,[O,Y]=this.screenToPageTranslation(t.movementX,t.movementY);if([O,Y]=v(O/i,Y/r),y){const I=Math.hypot(a,l);D=F=Math.max(Math.min(Math.hypot(k[0]-_[0]-O,k[1]-_[1]-Y)/I,1/a,1/l),u/a,d/l)}else x?D=Math.max(u,Math.min(1,Math.abs(k[0]-_[0]-O)))/a:F=Math.max(d,Math.min(1,Math.abs(k[1]-_[1]-Y)))/l;const X=h(a*D),K=h(l*F);T=p(...g(X,K));const $=R-T[0],se=L-T[1];this.width=X,this.height=K,this.x=$,this.y=se,this.setDims(i*X,r*K),this.fixAndSetPosition()},X0=function(e){const{isMac:t}=Wt.platform;e.ctrlKey&&!t||e.shiftKey||e.metaKey&&t?this.parent.toggleSelected(this):this.parent.setSelected(this)},zS=function(e){const t=this._uiManager.isSelected(this);this._uiManager.setUpDragSession();let i,r;t&&(this.div.classList.add("moving"),i={passive:!0,capture:!0},E(this,Xa,e.clientX),E(this,Ka,e.clientY),r=o=>{const{clientX:a,clientY:l}=o,[u,d]=this.screenToPageTranslation(a-c(this,Xa),l-c(this,Ka));E(this,Xa,a),E(this,Ka,l),this._uiManager.dragSelectedEditors(u,d)},window.addEventListener("pointermove",r,i));const s=()=>{window.removeEventListener("pointerup",s),window.removeEventListener("blur",s),t&&(this.div.classList.remove("moving"),window.removeEventListener("pointermove",r,i)),E(this,to,!1),this._uiManager.endDragSession()||A(this,te,X0).call(this,e)};window.addEventListener("pointerup",s),window.addEventListener("blur",s)},US=function(e){we._resizerKeyboardManager.exec(this,e)},VS=function(e){var t;c(this,Ji)&&((t=e.relatedTarget)==null?void 0:t.parentNode)!==c(this,at)&&A(this,te,wc).call(this)},WS=function(e){E(this,ju,c(this,Ji)?e:"")},K0=function(e){if(c(this,Vn))for(const t of c(this,Vn))t.tabIndex=e},wc=function(){if(E(this,Ji,!1),A(this,te,K0).call(this,-1),c(this,eo)){const{savedX:e,savedY:t,savedWidth:i,savedHeight:r}=c(this,eo);A(this,te,G0).call(this,e,t,i,r),E(this,eo,null)}},S(we,Bu),Z(we,"_borderLineWidth",-1),Z(we,"_colorManager",new F0),Z(we,"_zIndex",1),Z(we,"_telemetryTimeout",1e3);let me=we;class EM extends me{constructor(e){super(e),this.annotationElementId=e.annotationElementId,this.deleted=!0}serialize(){return{id:this.annotationElementId,deleted:!0,pageIndex:this.pageIndex}}}const ww=3285377520,vn=4294901760,ai=65535;class GS{constructor(e){this.h1=e?e&4294967295:ww,this.h2=e?e&4294967295:ww}update(e){let t,i;if(typeof e=="string"){t=new Uint8Array(e.length*2),i=0;for(let v=0,b=e.length;v<b;v++){const g=e.charCodeAt(v);g<=255?t[i++]=g:(t[i++]=g>>>8,t[i++]=g&255)}}else if(ArrayBuffer.isView(e))t=e.slice(),i=t.byteLength;else throw new Error("Invalid data format, must be a string or TypedArray.");const r=i>>2,s=i-r*4,o=new Uint32Array(t.buffer,0,r);let a=0,l=0,u=this.h1,d=this.h2;const h=3432918353,f=461845907,p=h&ai,m=f&ai;for(let v=0;v<r;v++)v&1?(a=o[v],a=a*h&vn|a*p&ai,a=a<<15|a>>>17,a=a*f&vn|a*m&ai,u^=a,u=u<<13|u>>>19,u=u*5+3864292196):(l=o[v],l=l*h&vn|l*p&ai,l=l<<15|l>>>17,l=l*f&vn|l*m&ai,d^=l,d=d<<13|d>>>19,d=d*5+3864292196);switch(a=0,s){case 3:a^=t[r*4+2]<<16;case 2:a^=t[r*4+1]<<8;case 1:a^=t[r*4],a=a*h&vn|a*p&ai,a=a<<15|a>>>17,a=a*f&vn|a*m&ai,r&1?u^=a:d^=a}this.h1=u,this.h2=d}hexdigest(){let e=this.h1,t=this.h2;return e^=t>>>1,e=e*3981806797&vn|e*36045&ai,t=t*4283543511&vn|((t<<16|e>>>16)*2950163797&vn)>>>16,e^=t>>>1,e=e*444984403&vn|e*60499&ai,t=t*3301882366&vn|((t<<16|e>>>16)*3120437893&vn)>>>16,e^=t>>>1,(e>>>0).toString(16).padStart(8,"0")+(t>>>0).toString(16).padStart(8,"0")}}const Y0=Object.freeze({map:null,hash:"",transfer:void 0});var io,lt,wp,qS;class ly{constructor(){S(this,wp);S(this,io,!1);S(this,lt,new Map);this.onSetModified=null,this.onResetModified=null,this.onAnnotationEditor=null}getValue(e,t){const i=c(this,lt).get(e);return i===void 0?t:Object.assign(t,i)}getRawValue(e){return c(this,lt).get(e)}remove(e){if(c(this,lt).delete(e),c(this,lt).size===0&&this.resetModified(),typeof this.onAnnotationEditor=="function"){for(const t of c(this,lt).values())if(t instanceof me)return;this.onAnnotationEditor(null)}}setValue(e,t){const i=c(this,lt).get(e);let r=!1;if(i!==void 0)for(const[s,o]of Object.entries(t))i[s]!==o&&(r=!0,i[s]=o);else r=!0,c(this,lt).set(e,t);r&&A(this,wp,qS).call(this),t instanceof me&&typeof this.onAnnotationEditor=="function"&&this.onAnnotationEditor(t.constructor._type)}has(e){return c(this,lt).has(e)}getAll(){return c(this,lt).size>0?ty(c(this,lt)):null}setAll(e){for(const[t,i]of Object.entries(e))this.setValue(t,i)}get size(){return c(this,lt).size}resetModified(){c(this,io)&&(E(this,io,!1),typeof this.onResetModified=="function"&&this.onResetModified())}get print(){return new XS(this)}get serializable(){if(c(this,lt).size===0)return Y0;const e=new Map,t=new GS,i=[],r=Object.create(null);let s=!1;for(const[o,a]of c(this,lt)){const l=a instanceof me?a.serialize(!1,r):a;l&&(e.set(o,l),t.update(`${o}:${JSON.stringify(l)}`),s||(s=!!l.bitmap))}if(s)for(const o of e.values())o.bitmap&&i.push(o.bitmap);return e.size>0?{map:e,hash:t.hexdigest(),transfer:i}:Y0}get editorStats(){let e=null;const t=new Map;for(const i of c(this,lt).values()){if(!(i instanceof me))continue;const r=i.telemetryFinalData;if(!r)continue;const{type:s}=r;t.has(s)||t.set(s,Object.getPrototypeOf(i).constructor),e||(e=Object.create(null));const o=e[s]||(e[s]=new Map);for(const[a,l]of Object.entries(r)){if(a==="type")continue;let u=o.get(a);u||(u=new Map,o.set(a,u));const d=u.get(l)??0;u.set(l,d+1)}}for(const[i,r]of t)e[i]=r.computeTelemetryFinalData(e[i]);return e}}io=new WeakMap,lt=new WeakMap,wp=new WeakSet,qS=function(){c(this,io)||(E(this,io,!0),typeof this.onSetModified=="function"&&this.onSetModified())};var zu;class XS extends ly{constructor(t){super();S(this,zu);const{map:i,hash:r,transfer:s}=t.serializable,o=structuredClone(i,s?{transfer:s}:null);E(this,zu,{map:o,hash:r,transfer:s})}get print(){ye("Should not call PrintAnnotationStorage.print")}get serializable(){return c(this,zu)}}zu=new WeakMap;var Ya;class AM{constructor({ownerDocument:e=globalThis.document,styleElement:t=null}){S(this,Ya,new Set);this._document=e,this.nativeFontFaces=new Set,this.styleElement=null,this.loadingRequests=[],this.loadTestFontId=0}addNativeFontFace(e){this.nativeFontFaces.add(e),this._document.fonts.add(e)}removeNativeFontFace(e){this.nativeFontFaces.delete(e),this._document.fonts.delete(e)}insertRule(e){this.styleElement||(this.styleElement=this._document.createElement("style"),this._document.documentElement.getElementsByTagName("head")[0].append(this.styleElement));const t=this.styleElement.sheet;t.insertRule(e,t.cssRules.length)}clear(){for(const e of this.nativeFontFaces)this._document.fonts.delete(e);this.nativeFontFaces.clear(),c(this,Ya).clear(),this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}async loadSystemFont({systemFontInfo:e,_inspectFont:t}){if(!(!e||c(this,Ya).has(e.loadedName))){if(Qe(!this.disableFontFace,"loadSystemFont shouldn't be called when `disableFontFace` is set."),this.isFontLoadingAPISupported){const{loadedName:i,src:r,style:s}=e,o=new FontFace(i,r,s);this.addNativeFontFace(o);try{await o.load(),c(this,Ya).add(i),t==null||t(e)}catch{ee(`Cannot load system font: ${e.baseFontName}, installing it could help to improve PDF rendering.`),this.removeNativeFontFace(o)}return}ye("Not implemented: loadSystemFont without the Font Loading API.")}}async bind(e){if(e.attached||e.missingFile&&!e.systemFontInfo)return;if(e.attached=!0,e.systemFontInfo){await this.loadSystemFont(e);return}if(this.isFontLoadingAPISupported){const i=e.createNativeFontFace();if(i){this.addNativeFontFace(i);try{await i.loaded}catch(r){throw ee(`Failed to load font '${i.family}': '${r}'.`),e.disableFontFace=!0,r}}return}const t=e.createFontFaceRule();if(t){if(this.insertRule(t),this.isSyncFontLoadingSupported)return;await new Promise(i=>{const r=this._queueLoadingCallback(i);this._prepareFontLoadEvent(e,r)})}}get isFontLoadingAPISupported(){var t;const e=!!((t=this._document)!=null&&t.fonts);return le(this,"isFontLoadingAPISupported",e)}get isSyncFontLoadingSupported(){let e=!1;return(St||typeof navigator<"u"&&typeof(navigator==null?void 0:navigator.userAgent)=="string"&&/Mozilla\/5.0.*?rv:\d+.*? Gecko/.test(navigator.userAgent))&&(e=!0),le(this,"isSyncFontLoadingSupported",e)}_queueLoadingCallback(e){function t(){for(Qe(!r.done,"completeRequest() cannot be called twice."),r.done=!0;i.length>0&&i[0].done;){const s=i.shift();setTimeout(s.callback,0)}}const{loadingRequests:i}=this,r={done:!1,complete:t,callback:e};return i.push(r),r}get _loadTestFont(){const e=atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA==");return le(this,"_loadTestFont",e)}_prepareFontLoadEvent(e,t){function i(_,k){return _.charCodeAt(k)<<24|_.charCodeAt(k+1)<<16|_.charCodeAt(k+2)<<8|_.charCodeAt(k+3)&255}function r(_,k,T,R){const L=_.substring(0,k),D=_.substring(k+T);return L+R+D}let s,o;const a=this._document.createElement("canvas");a.width=1,a.height=1;const l=a.getContext("2d");let u=0;function d(_,k){if(++u>30){ee("Load test font never loaded."),k();return}if(l.font="30px "+_,l.fillText(".",0,20),l.getImageData(0,0,1,1).data[3]>0){k();return}setTimeout(d.bind(null,_,k))}const h=`lt${Date.now()}${this.loadTestFontId++}`;let f=this._loadTestFont;f=r(f,976,h.length,h);const m=16,v=1482184792;let b=i(f,m);for(s=0,o=h.length-3;s<o;s+=4)b=b-v+i(h,s)|0;s<h.length&&(b=b-v+i(h+"XXX",s)|0),f=r(f,m,4,oM(b));const g=`url(data:font/opentype;base64,${btoa(f)});`,y=`@font-face {font-family:"${h}";src:${g}}`;this.insertRule(y);const x=this._document.createElement("div");x.style.visibility="hidden",x.style.width=x.style.height="10px",x.style.position="absolute",x.style.top=x.style.left="0px";for(const _ of[e.loadedName,h]){const k=this._document.createElement("span");k.textContent="Hi",k.style.fontFamily=_,x.append(k)}this._document.body.append(x),d(h,()=>{x.remove(),t.complete()})}}Ya=new WeakMap;class SM{constructor(e,{disableFontFace:t=!1,inspectFont:i=null}){this.compiledGlyphs=Object.create(null);for(const r in e)this[r]=e[r];this.disableFontFace=t===!0,this._inspectFont=i}createNativeFontFace(){var t;if(!this.data||this.disableFontFace)return null;let e;if(!this.cssFontInfo)e=new FontFace(this.loadedName,this.data,{});else{const i={weight:this.cssFontInfo.fontWeight};this.cssFontInfo.italicAngle&&(i.style=`oblique ${this.cssFontInfo.italicAngle}deg`),e=new FontFace(this.cssFontInfo.fontFamily,this.data,i)}return(t=this._inspectFont)==null||t.call(this,this),e}createFontFaceRule(){var r;if(!this.data||this.disableFontFace)return null;const e=vS(this.data),t=`url(data:${this.mimetype};base64,${btoa(e)});`;let i;if(!this.cssFontInfo)i=`@font-face {font-family:"${this.loadedName}";src:${t}}`;else{let s=`font-weight: ${this.cssFontInfo.fontWeight};`;this.cssFontInfo.italicAngle&&(s+=`font-style: oblique ${this.cssFontInfo.italicAngle}deg;`),i=`@font-face {font-family:"${this.cssFontInfo.fontFamily}";${s}src:${t}}`}return(r=this._inspectFont)==null||r.call(this,this,t),i}getPathGenerator(e,t){if(this.compiledGlyphs[t]!==void 0)return this.compiledGlyphs[t];let i;try{i=e.get(this.loadedName+"_path_"+t)}catch(s){ee(`getPathGenerator - ignoring character: "${s}".`)}if(!Array.isArray(i)||i.length===0)return this.compiledGlyphs[t]=function(s,o){};const r=[];for(let s=0,o=i.length;s<o;)switch(i[s++]){case Fi.BEZIER_CURVE_TO:{const[a,l,u,d,h,f]=i.slice(s,s+6);r.push(p=>p.bezierCurveTo(a,l,u,d,h,f)),s+=6}break;case Fi.MOVE_TO:{const[a,l]=i.slice(s,s+2);r.push(u=>u.moveTo(a,l)),s+=2}break;case Fi.LINE_TO:{const[a,l]=i.slice(s,s+2);r.push(u=>u.lineTo(a,l)),s+=2}break;case Fi.QUADRATIC_CURVE_TO:{const[a,l,u,d]=i.slice(s,s+4);r.push(h=>h.quadraticCurveTo(a,l,u,d)),s+=4}break;case Fi.RESTORE:r.push(a=>a.restore());break;case Fi.SAVE:r.push(a=>a.save());break;case Fi.SCALE:Qe(r.length===2,"Scale command is only valid at the third position.");break;case Fi.TRANSFORM:{const[a,l,u,d,h,f]=i.slice(s,s+6);r.push(p=>p.transform(a,l,u,d,h,f)),s+=6}break;case Fi.TRANSLATE:{const[a,l]=i.slice(s,s+2);r.push(u=>u.translate(a,l)),s+=2}break}return this.compiledGlyphs[t]=function(o,a){r[0](o),r[1](o),o.scale(a,-a);for(let l=2,u=r.length;l<u;l++)r[l](o)}}}if(St){var Q0=Promise.withResolvers(),zc=null;(async()=>{const e=await Rh(()=>import("./__vite-browser-external-BIHI7g3E.js"),[]),t=await Rh(()=>import("./__vite-browser-external-BIHI7g3E.js"),[]),i=await Rh(()=>import("./__vite-browser-external-BIHI7g3E.js"),[]),r=await Rh(()=>import("./__vite-browser-external-BIHI7g3E.js"),[]);let s,o;return new Map(Object.entries({fs:e,http:t,https:i,url:r,canvas:s,path2d:o}))})().then(e=>{zc=e,Q0.resolve()},e=>{ee(`loadPackages: ${e}`),zc=new Map,Q0.resolve()})}class Li{static get promise(){return Q0.promise}static get(e){return zc==null?void 0:zc.get(e)}}const KS=function(n){return Li.get("fs").promises.readFile(n).then(t=>new Uint8Array(t))};class CM extends dm{}class _M extends hm{_createCanvas(e,t){return Li.get("canvas").createCanvas(e,t)}}class kM extends fm{_fetchData(e,t){return KS(e).then(i=>({cMapData:i,compressionType:t}))}}class TM extends pm{_fetchData(e){return KS(e)}}const Nt={FILL:"Fill",STROKE:"Stroke",SHADING:"Shading"};function Z0(n,e){if(!e)return;const t=e[2]-e[0],i=e[3]-e[1],r=new Path2D;r.rect(e[0],e[1],t,i),n.clip(r)}class lh{constructor(){this.constructor===lh&&ye("Cannot initialize BaseShadingPattern.")}getPattern(){ye("Abstract method `getPattern` called.")}}class RM extends lh{constructor(e){super(),this._type=e[1],this._bbox=e[2],this._colorStops=e[3],this._p0=e[4],this._p1=e[5],this._r0=e[6],this._r1=e[7],this.matrix=null}_createGradient(e){let t;this._type==="axial"?t=e.createLinearGradient(this._p0[0],this._p0[1],this._p1[0],this._p1[1]):this._type==="radial"&&(t=e.createRadialGradient(this._p0[0],this._p0[1],this._r0,this._p1[0],this._p1[1],this._r1));for(const i of this._colorStops)t.addColorStop(i[0],i[1]);return t}getPattern(e,t,i,r){let s;if(r===Nt.STROKE||r===Nt.FILL){const o=t.current.getClippedPathBoundingBox(r,Pe(e))||[0,0,0,0],a=Math.ceil(o[2]-o[0])||1,l=Math.ceil(o[3]-o[1])||1,u=t.cachedCanvases.getCanvas("pattern",a,l,!0),d=u.context;d.clearRect(0,0,d.canvas.width,d.canvas.height),d.beginPath(),d.rect(0,0,d.canvas.width,d.canvas.height),d.translate(-o[0],-o[1]),i=V.transform(i,[1,0,0,1,o[0],o[1]]),d.transform(...t.baseTransform),this.matrix&&d.transform(...this.matrix),Z0(d,this._bbox),d.fillStyle=this._createGradient(d),d.fill(),s=e.createPattern(u.canvas,"no-repeat");const h=new DOMMatrix(i);s.setTransform(h)}else Z0(e,this._bbox),s=this._createGradient(e);return s}}function lg(n,e,t,i,r,s,o,a){const l=e.coords,u=e.colors,d=n.data,h=n.width*4;let f;l[t+1]>l[i+1]&&(f=t,t=i,i=f,f=s,s=o,o=f),l[i+1]>l[r+1]&&(f=i,i=r,r=f,f=o,o=a,a=f),l[t+1]>l[i+1]&&(f=t,t=i,i=f,f=s,s=o,o=f);const p=(l[t]+e.offsetX)*e.scaleX,m=(l[t+1]+e.offsetY)*e.scaleY,v=(l[i]+e.offsetX)*e.scaleX,b=(l[i+1]+e.offsetY)*e.scaleY,g=(l[r]+e.offsetX)*e.scaleX,y=(l[r+1]+e.offsetY)*e.scaleY;if(m>=y)return;const x=u[s],_=u[s+1],k=u[s+2],T=u[o],R=u[o+1],L=u[o+2],D=u[a],F=u[a+1],O=u[a+2],Y=Math.round(m),X=Math.round(y);let K,$,se,I,N,B,W,de;for(let re=Y;re<=X;re++){if(re<b){const he=re<m?0:(m-re)/(m-b);K=p-(p-v)*he,$=x-(x-T)*he,se=_-(_-R)*he,I=k-(k-L)*he}else{let he;re>y?he=1:b===y?he=0:he=(b-re)/(b-y),K=v-(v-g)*he,$=T-(T-D)*he,se=R-(R-F)*he,I=L-(L-O)*he}let Se;re<m?Se=0:re>y?Se=1:Se=(m-re)/(m-y),N=p-(p-g)*Se,B=x-(x-D)*Se,W=_-(_-F)*Se,de=k-(k-O)*Se;const gt=Math.round(Math.min(K,N)),Mi=Math.round(Math.max(K,N));let _t=h*re+gt*4;for(let he=gt;he<=Mi;he++)Se=(K-he)/(K-N),Se<0?Se=0:Se>1&&(Se=1),d[_t++]=$-($-B)*Se|0,d[_t++]=se-(se-W)*Se|0,d[_t++]=I-(I-de)*Se|0,d[_t++]=255}}function PM(n,e,t){const i=e.coords,r=e.colors;let s,o;switch(e.type){case"lattice":const a=e.verticesPerRow,l=Math.floor(i.length/a)-1,u=a-1;for(s=0;s<l;s++){let d=s*a;for(let h=0;h<u;h++,d++)lg(n,t,i[d],i[d+1],i[d+a],r[d],r[d+1],r[d+a]),lg(n,t,i[d+a+1],i[d+1],i[d+a],r[d+a+1],r[d+1],r[d+a])}break;case"triangles":for(s=0,o=i.length;s<o;s+=3)lg(n,t,i[s],i[s+1],i[s+2],r[s],r[s+1],r[s+2]);break;default:throw new Error("illegal figure")}}class LM extends lh{constructor(e){super(),this._coords=e[2],this._colors=e[3],this._figures=e[4],this._bounds=e[5],this._bbox=e[7],this._background=e[8],this.matrix=null}_createMeshCanvas(e,t,i){const a=Math.floor(this._bounds[0]),l=Math.floor(this._bounds[1]),u=Math.ceil(this._bounds[2])-a,d=Math.ceil(this._bounds[3])-l,h=Math.min(Math.ceil(Math.abs(u*e[0]*1.1)),3e3),f=Math.min(Math.ceil(Math.abs(d*e[1]*1.1)),3e3),p=u/h,m=d/f,v={coords:this._coords,colors:this._colors,offsetX:-a,offsetY:-l,scaleX:1/p,scaleY:1/m},b=h+2*2,g=f+2*2,y=i.getCanvas("mesh",b,g,!1),x=y.context,_=x.createImageData(h,f);if(t){const T=_.data;for(let R=0,L=T.length;R<L;R+=4)T[R]=t[0],T[R+1]=t[1],T[R+2]=t[2],T[R+3]=255}for(const T of this._figures)PM(_,T,v);return x.putImageData(_,2,2),{canvas:y.canvas,offsetX:a-2*p,offsetY:l-2*m,scaleX:p,scaleY:m}}getPattern(e,t,i,r){Z0(e,this._bbox);let s;if(r===Nt.SHADING)s=V.singularValueDecompose2dScale(Pe(e));else if(s=V.singularValueDecompose2dScale(t.baseTransform),this.matrix){const a=V.singularValueDecompose2dScale(this.matrix);s=[s[0]*a[0],s[1]*a[1]]}const o=this._createMeshCanvas(s,r===Nt.SHADING?null:this._background,t.cachedCanvases);return r!==Nt.SHADING&&(e.setTransform(...t.baseTransform),this.matrix&&e.transform(...this.matrix)),e.translate(o.offsetX,o.offsetY),e.scale(o.scaleX,o.scaleY),e.createPattern(o.canvas,"no-repeat")}}class NM extends lh{getPattern(){return"hotpink"}}function MM(n){switch(n[0]){case"RadialAxial":return new RM(n);case"Mesh":return new LM(n);case"Dummy":return new NM}throw new Error(`Unknown IR type: ${n[0]}`)}const bw={COLORED:1,UNCOLORED:2},bp=class bp{constructor(e,t,i,r,s){this.operatorList=e[2],this.matrix=e[3],this.bbox=e[4],this.xstep=e[5],this.ystep=e[6],this.paintType=e[7],this.tilingType=e[8],this.color=t,this.ctx=i,this.canvasGraphicsFactory=r,this.baseTransform=s}createPatternCanvas(e){const t=this.operatorList,i=this.bbox,r=this.xstep,s=this.ystep,o=this.paintType,a=this.tilingType,l=this.color,u=this.canvasGraphicsFactory;lm("TilingType: "+a);const d=i[0],h=i[1],f=i[2],p=i[3],m=V.singularValueDecompose2dScale(this.matrix),v=V.singularValueDecompose2dScale(this.baseTransform),b=[m[0]*v[0],m[1]*v[1]],g=this.getSizeAndScale(r,this.ctx.canvas.width,b[0]),y=this.getSizeAndScale(s,this.ctx.canvas.height,b[1]),x=e.cachedCanvases.getCanvas("pattern",g.size,y.size,!0),_=x.context,k=u.createCanvasGraphics(_);k.groupLevel=e.groupLevel,this.setFillAndStrokeStyleToContext(k,o,l);let T=d,R=h,L=f,D=p;return d<0&&(T=0,L+=Math.abs(d)),h<0&&(R=0,D+=Math.abs(h)),_.translate(-(g.scale*T),-(y.scale*R)),k.transform(g.scale,0,0,y.scale,0,0),_.save(),this.clipBbox(k,T,R,L,D),k.baseTransform=Pe(k.ctx),k.executeOperatorList(t),k.endDrawing(),{canvas:x.canvas,scaleX:g.scale,scaleY:y.scale,offsetX:T,offsetY:R}}getSizeAndScale(e,t,i){e=Math.abs(e);const r=Math.max(bp.MAX_PATTERN_SIZE,t);let s=Math.ceil(e*i);return s>=r?s=r:i=s/e,{scale:i,size:s}}clipBbox(e,t,i,r,s){const o=r-t,a=s-i;e.ctx.rect(t,i,o,a),e.current.updateRectMinMax(Pe(e.ctx),[t,i,r,s]),e.clip(),e.endPath()}setFillAndStrokeStyleToContext(e,t,i){const r=e.ctx,s=e.current;switch(t){case bw.COLORED:const o=this.ctx;r.fillStyle=o.fillStyle,r.strokeStyle=o.strokeStyle,s.fillColor=o.fillStyle,s.strokeColor=o.strokeStyle;break;case bw.UNCOLORED:const a=V.makeHexColor(i[0],i[1],i[2]);r.fillStyle=a,r.strokeStyle=a,s.fillColor=a,s.strokeColor=a;break;default:throw new sM(`Unsupported paint type: ${t}`)}}getPattern(e,t,i,r){let s=i;r!==Nt.SHADING&&(s=V.transform(s,t.baseTransform),this.matrix&&(s=V.transform(s,this.matrix)));const o=this.createPatternCanvas(t);let a=new DOMMatrix(s);a=a.translate(o.offsetX,o.offsetY),a=a.scale(1/o.scaleX,1/o.scaleY);const l=e.createPattern(o.canvas,"repeat");return l.setTransform(a),l}};Z(bp,"MAX_PATTERN_SIZE",3e3);let J0=bp;function FM({src:n,srcPos:e=0,dest:t,width:i,height:r,nonBlackColor:s=4294967295,inverseDecode:o=!1}){const a=Wt.isLittleEndian?4278190080:255,[l,u]=o?[s,a]:[a,s],d=i>>3,h=i&7,f=n.length;t=new Uint32Array(t.buffer);let p=0;for(let m=0;m<r;m++){for(const b=e+d;e<b;e++){const g=e<f?n[e]:255;t[p++]=g&128?u:l,t[p++]=g&64?u:l,t[p++]=g&32?u:l,t[p++]=g&16?u:l,t[p++]=g&8?u:l,t[p++]=g&4?u:l,t[p++]=g&2?u:l,t[p++]=g&1?u:l}if(h===0)continue;const v=e<f?n[e++]:255;for(let b=0;b<h;b++)t[p++]=v&1<<7-b?u:l}return{srcPos:e,destPos:p}}const Ew=16,Aw=100,DM=15,Sw=10,Cw=1e3,Bt=16;function IM(n,e){if(n._removeMirroring)throw new Error("Context is already forwarding operations.");n.__originalSave=n.save,n.__originalRestore=n.restore,n.__originalRotate=n.rotate,n.__originalScale=n.scale,n.__originalTranslate=n.translate,n.__originalTransform=n.transform,n.__originalSetTransform=n.setTransform,n.__originalResetTransform=n.resetTransform,n.__originalClip=n.clip,n.__originalMoveTo=n.moveTo,n.__originalLineTo=n.lineTo,n.__originalBezierCurveTo=n.bezierCurveTo,n.__originalRect=n.rect,n.__originalClosePath=n.closePath,n.__originalBeginPath=n.beginPath,n._removeMirroring=()=>{n.save=n.__originalSave,n.restore=n.__originalRestore,n.rotate=n.__originalRotate,n.scale=n.__originalScale,n.translate=n.__originalTranslate,n.transform=n.__originalTransform,n.setTransform=n.__originalSetTransform,n.resetTransform=n.__originalResetTransform,n.clip=n.__originalClip,n.moveTo=n.__originalMoveTo,n.lineTo=n.__originalLineTo,n.bezierCurveTo=n.__originalBezierCurveTo,n.rect=n.__originalRect,n.closePath=n.__originalClosePath,n.beginPath=n.__originalBeginPath,delete n._removeMirroring},n.save=function(){e.save(),this.__originalSave()},n.restore=function(){e.restore(),this.__originalRestore()},n.translate=function(i,r){e.translate(i,r),this.__originalTranslate(i,r)},n.scale=function(i,r){e.scale(i,r),this.__originalScale(i,r)},n.transform=function(i,r,s,o,a,l){e.transform(i,r,s,o,a,l),this.__originalTransform(i,r,s,o,a,l)},n.setTransform=function(i,r,s,o,a,l){e.setTransform(i,r,s,o,a,l),this.__originalSetTransform(i,r,s,o,a,l)},n.resetTransform=function(){e.resetTransform(),this.__originalResetTransform()},n.rotate=function(i){e.rotate(i),this.__originalRotate(i)},n.clip=function(i){e.clip(i),this.__originalClip(i)},n.moveTo=function(t,i){e.moveTo(t,i),this.__originalMoveTo(t,i)},n.lineTo=function(t,i){e.lineTo(t,i),this.__originalLineTo(t,i)},n.bezierCurveTo=function(t,i,r,s,o,a){e.bezierCurveTo(t,i,r,s,o,a),this.__originalBezierCurveTo(t,i,r,s,o,a)},n.rect=function(t,i,r,s){e.rect(t,i,r,s),this.__originalRect(t,i,r,s)},n.closePath=function(){e.closePath(),this.__originalClosePath()},n.beginPath=function(){e.beginPath(),this.__originalBeginPath()}}class OM{constructor(e){this.canvasFactory=e,this.cache=Object.create(null)}getCanvas(e,t,i){let r;return this.cache[e]!==void 0?(r=this.cache[e],this.canvasFactory.reset(r,t,i)):(r=this.canvasFactory.create(t,i),this.cache[e]=r),r}delete(e){delete this.cache[e]}clear(){for(const e in this.cache){const t=this.cache[e];this.canvasFactory.destroy(t),delete this.cache[e]}}}function Ph(n,e,t,i,r,s,o,a,l,u){const[d,h,f,p,m,v]=Pe(n);if(h===0&&f===0){const y=o*d+m,x=Math.round(y),_=a*p+v,k=Math.round(_),T=(o+l)*d+m,R=Math.abs(Math.round(T)-x)||1,L=(a+u)*p+v,D=Math.abs(Math.round(L)-k)||1;return n.setTransform(Math.sign(d),0,0,Math.sign(p),x,k),n.drawImage(e,t,i,r,s,0,0,R,D),n.setTransform(d,h,f,p,m,v),[R,D]}if(d===0&&p===0){const y=a*f+m,x=Math.round(y),_=o*h+v,k=Math.round(_),T=(a+u)*f+m,R=Math.abs(Math.round(T)-x)||1,L=(o+l)*h+v,D=Math.abs(Math.round(L)-k)||1;return n.setTransform(0,Math.sign(h),Math.sign(f),0,x,k),n.drawImage(e,t,i,r,s,0,0,D,R),n.setTransform(d,h,f,p,m,v),[D,R]}n.drawImage(e,t,i,r,s,o,a,l,u);const b=Math.hypot(d,h),g=Math.hypot(f,p);return[b*l,g*u]}function jM(n){const{width:e,height:t}=n;if(e>Cw||t>Cw)return null;const i=1e3,r=new Uint8Array([0,2,4,0,1,0,5,4,8,10,0,8,0,2,1,0]),s=e+1;let o=new Uint8Array(s*(t+1)),a,l,u;const d=e+7&-8;let h=new Uint8Array(d*t),f=0;for(const g of n.data){let y=128;for(;y>0;)h[f++]=g&y?0:255,y>>=1}let p=0;for(f=0,h[f]!==0&&(o[0]=1,++p),l=1;l<e;l++)h[f]!==h[f+1]&&(o[l]=h[f]?2:1,++p),f++;for(h[f]!==0&&(o[l]=2,++p),a=1;a<t;a++){f=a*d,u=a*s,h[f-d]!==h[f]&&(o[u]=h[f]?1:8,++p);let g=(h[f]?4:0)+(h[f-d]?8:0);for(l=1;l<e;l++)g=(g>>2)+(h[f+1]?4:0)+(h[f-d+1]?8:0),r[g]&&(o[u+l]=r[g],++p),f++;if(h[f-d]!==h[f]&&(o[u+l]=h[f]?2:4,++p),p>i)return null}for(f=d*(t-1),u=a*s,h[f]!==0&&(o[u]=8,++p),l=1;l<e;l++)h[f]!==h[f+1]&&(o[u+l]=h[f]?4:8,++p),f++;if(h[f]!==0&&(o[u+l]=4,++p),p>i)return null;const m=new Int32Array([0,s,-1,0,-s,0,0,0,1]),v=new Path2D;for(a=0;p&&a<=t;a++){let g=a*s;const y=g+e;for(;g<y&&!o[g];)g++;if(g===y)continue;v.moveTo(g%s,a);const x=g;let _=o[g];do{const k=m[_];do g+=k;while(!o[g]);const T=o[g];T!==5&&T!==10?(_=T,o[g]=0):(_=T&51*_>>4,o[g]&=_>>2|_<<2),v.lineTo(g%s,g/s|0),o[g]||--p}while(x!==g);--a}return h=null,o=null,function(g){g.save(),g.scale(1/e,-1/t),g.translate(0,-t),g.fill(v),g.beginPath(),g.restore()}}class _w{constructor(e,t){this.alphaIsShape=!1,this.fontSize=0,this.fontSizeScale=1,this.textMatrix=mS,this.textMatrixScale=1,this.fontMatrix=A0,this.leading=0,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRenderingMode=xt.FILL,this.textRise=0,this.fillColor="#000000",this.strokeColor="#000000",this.patternFill=!1,this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.activeSMask=null,this.transferMaps="none",this.startNewPathAndClipBox([0,0,e,t])}clone(){const e=Object.create(this);return e.clipBox=this.clipBox.slice(),e}setCurrentPoint(e,t){this.x=e,this.y=t}updatePathMinMax(e,t,i){[t,i]=V.applyTransform([t,i],e),this.minX=Math.min(this.minX,t),this.minY=Math.min(this.minY,i),this.maxX=Math.max(this.maxX,t),this.maxY=Math.max(this.maxY,i)}updateRectMinMax(e,t){const i=V.applyTransform(t,e),r=V.applyTransform(t.slice(2),e),s=V.applyTransform([t[0],t[3]],e),o=V.applyTransform([t[2],t[1]],e);this.minX=Math.min(this.minX,i[0],r[0],s[0],o[0]),this.minY=Math.min(this.minY,i[1],r[1],s[1],o[1]),this.maxX=Math.max(this.maxX,i[0],r[0],s[0],o[0]),this.maxY=Math.max(this.maxY,i[1],r[1],s[1],o[1])}updateScalingPathMinMax(e,t){V.scaleMinMax(e,t),this.minX=Math.min(this.minX,t[0]),this.minY=Math.min(this.minY,t[1]),this.maxX=Math.max(this.maxX,t[2]),this.maxY=Math.max(this.maxY,t[3])}updateCurvePathMinMax(e,t,i,r,s,o,a,l,u,d){const h=V.bezierBoundingBox(t,i,r,s,o,a,l,u,d);d||this.updateRectMinMax(e,h)}getPathBoundingBox(e=Nt.FILL,t=null){const i=[this.minX,this.minY,this.maxX,this.maxY];if(e===Nt.STROKE){t||ye("Stroke bounding box must include transform.");const r=V.singularValueDecompose2dScale(t),s=r[0]*this.lineWidth/2,o=r[1]*this.lineWidth/2;i[0]-=s,i[1]-=o,i[2]+=s,i[3]+=o}return i}updateClipFromPath(){const e=V.intersect(this.clipBox,this.getPathBoundingBox());this.startNewPathAndClipBox(e||[0,0,0,0])}isEmptyClip(){return this.minX===1/0}startNewPathAndClipBox(e){this.clipBox=e,this.minX=1/0,this.minY=1/0,this.maxX=0,this.maxY=0}getClippedPathBoundingBox(e=Nt.FILL,t=null){return V.intersect(this.clipBox,this.getPathBoundingBox(e,t))}}function kw(n,e){if(typeof ImageData<"u"&&e instanceof ImageData){n.putImageData(e,0,0);return}const t=e.height,i=e.width,r=t%Bt,s=(t-r)/Bt,o=r===0?s:s+1,a=n.createImageData(i,Bt);let l=0,u;const d=e.data,h=a.data;let f,p,m,v;if(e.kind===Qh.GRAYSCALE_1BPP){const b=d.byteLength,g=new Uint32Array(h.buffer,0,h.byteLength>>2),y=g.length,x=i+7>>3,_=4294967295,k=Wt.isLittleEndian?4278190080:255;for(f=0;f<o;f++){for(m=f<s?Bt:r,u=0,p=0;p<m;p++){const T=b-l;let R=0;const L=T>x?i:T*8-7,D=L&-8;let F=0,O=0;for(;R<D;R+=8)O=d[l++],g[u++]=O&128?_:k,g[u++]=O&64?_:k,g[u++]=O&32?_:k,g[u++]=O&16?_:k,g[u++]=O&8?_:k,g[u++]=O&4?_:k,g[u++]=O&2?_:k,g[u++]=O&1?_:k;for(;R<L;R++)F===0&&(O=d[l++],F=128),g[u++]=O&F?_:k,F>>=1}for(;u<y;)g[u++]=0;n.putImageData(a,0,f*Bt)}}else if(e.kind===Qh.RGBA_32BPP){for(p=0,v=i*Bt*4,f=0;f<s;f++)h.set(d.subarray(l,l+v)),l+=v,n.putImageData(a,0,p),p+=Bt;f<o&&(v=i*r*4,h.set(d.subarray(l,l+v)),n.putImageData(a,0,p))}else if(e.kind===Qh.RGB_24BPP)for(m=Bt,v=i*m,f=0;f<o;f++){for(f>=s&&(m=r,v=i*m),u=0,p=v;p--;)h[u++]=d[l++],h[u++]=d[l++],h[u++]=d[l++],h[u++]=255;n.putImageData(a,0,f*Bt)}else throw new Error(`bad image kind: ${e.kind}`)}function Tw(n,e){if(e.bitmap){n.drawImage(e.bitmap,0,0);return}const t=e.height,i=e.width,r=t%Bt,s=(t-r)/Bt,o=r===0?s:s+1,a=n.createImageData(i,Bt);let l=0;const u=e.data,d=a.data;for(let h=0;h<o;h++){const f=h<s?Bt:r;({srcPos:l}=FM({src:u,srcPos:l,dest:d,width:i,height:f,nonBlackColor:0})),n.putImageData(a,0,h*Bt)}}function cc(n,e){const t=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font","filter"];for(const i of t)n[i]!==void 0&&(e[i]=n[i]);n.setLineDash!==void 0&&(e.setLineDash(n.getLineDash()),e.lineDashOffset=n.lineDashOffset)}function Lh(n){if(n.strokeStyle=n.fillStyle="#000000",n.fillRule="nonzero",n.globalAlpha=1,n.lineWidth=1,n.lineCap="butt",n.lineJoin="miter",n.miterLimit=10,n.globalCompositeOperation="source-over",n.font="10px sans-serif",n.setLineDash!==void 0&&(n.setLineDash([]),n.lineDashOffset=0),!St){const{filter:e}=n;e!=="none"&&e!==""&&(n.filter="none")}}function Rw(n,e){if(e)return!0;const t=V.singularValueDecompose2dScale(n);t[0]=Math.fround(t[0]),t[1]=Math.fround(t[1]);const i=Math.fround((globalThis.devicePixelRatio||1)*Ss.PDF_TO_CSS_UNITS);return t[0]<=i&&t[1]<=i}const $M=["butt","round","square"],HM=["miter","round","bevel"],BM={},Pw={};var _s,ev,tv;const hy=class hy{constructor(e,t,i,r,s,{optionalContentConfig:o,markedContentStack:a=null},l,u){S(this,_s);this.ctx=e,this.current=new _w(this.ctx.canvas.width,this.ctx.canvas.height),this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=t,this.objs=i,this.canvasFactory=r,this.filterFactory=s,this.groupStack=[],this.processingType3=null,this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.suspendedCtx=null,this.contentVisible=!0,this.markedContentStack=a||[],this.optionalContentConfig=o,this.cachedCanvases=new OM(this.canvasFactory),this.cachedPatterns=new Map,this.annotationCanvasMap=l,this.viewportScale=1,this.outputScaleX=1,this.outputScaleY=1,this.pageColors=u,this._cachedScaleForStroking=[-1,0],this._cachedGetSinglePixelWidth=null,this._cachedBitmapsMap=new Map}getObject(e,t=null){return typeof e=="string"?e.startsWith("g_")?this.commonObjs.get(e):this.objs.get(e):t}beginDrawing({transform:e,viewport:t,transparency:i=!1,background:r=null}){const s=this.ctx.canvas.width,o=this.ctx.canvas.height,a=this.ctx.fillStyle;if(this.ctx.fillStyle=r||"#ffffff",this.ctx.fillRect(0,0,s,o),this.ctx.fillStyle=a,i){const l=this.cachedCanvases.getCanvas("transparent",s,o);this.compositeCtx=this.ctx,this.transparentCanvas=l.canvas,this.ctx=l.context,this.ctx.save(),this.ctx.transform(...Pe(this.compositeCtx))}this.ctx.save(),Lh(this.ctx),e&&(this.ctx.transform(...e),this.outputScaleX=e[0],this.outputScaleY=e[0]),this.ctx.transform(...t.transform),this.viewportScale=t.scale,this.baseTransform=Pe(this.ctx)}executeOperatorList(e,t,i,r){const s=e.argsArray,o=e.fnArray;let a=t||0;const l=s.length;if(l===a)return a;const u=l-a>Sw&&typeof i=="function",d=u?Date.now()+DM:0;let h=0;const f=this.commonObjs,p=this.objs;let m;for(;;){if(r!==void 0&&a===r.nextBreakPoint)return r.breakIt(a,i),a;if(m=o[a],m!==Hn.dependency)this[m].apply(this,s[a]);else for(const v of s[a]){const b=v.startsWith("g_")?f:p;if(!b.has(v))return b.get(v,i),a}if(a++,a===l)return a;if(u&&++h>Sw){if(Date.now()>d)return i(),a;h=0}}}endDrawing(){A(this,_s,ev).call(this),this.cachedCanvases.clear(),this.cachedPatterns.clear();for(const e of this._cachedBitmapsMap.values()){for(const t of e.values())typeof HTMLCanvasElement<"u"&&t instanceof HTMLCanvasElement&&(t.width=t.height=0);e.clear()}this._cachedBitmapsMap.clear(),A(this,_s,tv).call(this)}_scaleImage(e,t){const i=e.width,r=e.height;let s=Math.max(Math.hypot(t[0],t[1]),1),o=Math.max(Math.hypot(t[2],t[3]),1),a=i,l=r,u="prescale1",d,h;for(;s>2&&a>1||o>2&&l>1;){let f=a,p=l;s>2&&a>1&&(f=a>=16384?Math.floor(a/2)-1||1:Math.ceil(a/2),s/=a/f),o>2&&l>1&&(p=l>=16384?Math.floor(l/2)-1||1:Math.ceil(l)/2,o/=l/p),d=this.cachedCanvases.getCanvas(u,f,p),h=d.context,h.clearRect(0,0,f,p),h.drawImage(e,0,0,a,l,0,0,f,p),e=d.canvas,a=f,l=p,u=u==="prescale1"?"prescale2":"prescale1"}return{img:e,paintWidth:a,paintHeight:l}}_createMaskCanvas(e){const t=this.ctx,{width:i,height:r}=e,s=this.current.fillColor,o=this.current.patternFill,a=Pe(t);let l,u,d,h;if((e.bitmap||e.data)&&e.count>1){const L=e.bitmap||e.data.buffer;u=JSON.stringify(o?a:[a.slice(0,4),s]),l=this._cachedBitmapsMap.get(L),l||(l=new Map,this._cachedBitmapsMap.set(L,l));const D=l.get(u);if(D&&!o){const F=Math.round(Math.min(a[0],a[2])+a[4]),O=Math.round(Math.min(a[1],a[3])+a[5]);return{canvas:D,offsetX:F,offsetY:O}}d=D}d||(h=this.cachedCanvases.getCanvas("maskCanvas",i,r),Tw(h.context,e));let f=V.transform(a,[1/i,0,0,-1/r,0,0]);f=V.transform(f,[1,0,0,1,0,-r]);const[p,m,v,b]=V.getAxialAlignedBoundingBox([0,0,i,r],f),g=Math.round(v-p)||1,y=Math.round(b-m)||1,x=this.cachedCanvases.getCanvas("fillCanvas",g,y),_=x.context,k=p,T=m;_.translate(-k,-T),_.transform(...f),d||(d=this._scaleImage(h.canvas,Di(_)),d=d.img,l&&o&&l.set(u,d)),_.imageSmoothingEnabled=Rw(Pe(_),e.interpolate),Ph(_,d,0,0,d.width,d.height,0,0,i,r),_.globalCompositeOperation="source-in";const R=V.transform(Di(_),[1,0,0,1,-k,-T]);return _.fillStyle=o?s.getPattern(t,this,R,Nt.FILL):s,_.fillRect(0,0,i,r),l&&!o&&(this.cachedCanvases.delete("fillCanvas"),l.set(u,x.canvas)),{canvas:x.canvas,offsetX:Math.round(k),offsetY:Math.round(T)}}setLineWidth(e){e!==this.current.lineWidth&&(this._cachedScaleForStroking[0]=-1),this.current.lineWidth=e,this.ctx.lineWidth=e}setLineCap(e){this.ctx.lineCap=$M[e]}setLineJoin(e){this.ctx.lineJoin=HM[e]}setMiterLimit(e){this.ctx.miterLimit=e}setDash(e,t){const i=this.ctx;i.setLineDash!==void 0&&(i.setLineDash(e),i.lineDashOffset=t)}setRenderingIntent(e){}setFlatness(e){}setGState(e){for(const[t,i]of e)switch(t){case"LW":this.setLineWidth(i);break;case"LC":this.setLineCap(i);break;case"LJ":this.setLineJoin(i);break;case"ML":this.setMiterLimit(i);break;case"D":this.setDash(i[0],i[1]);break;case"RI":this.setRenderingIntent(i);break;case"FL":this.setFlatness(i);break;case"Font":this.setFont(i[0],i[1]);break;case"CA":this.current.strokeAlpha=i;break;case"ca":this.current.fillAlpha=i,this.ctx.globalAlpha=i;break;case"BM":this.ctx.globalCompositeOperation=i;break;case"SMask":this.current.activeSMask=i?this.tempSMask:null,this.tempSMask=null,this.checkSMaskState();break;case"TR":this.ctx.filter=this.current.transferMaps=this.filterFactory.addFilter(i);break}}get inSMaskMode(){return!!this.suspendedCtx}checkSMaskState(){const e=this.inSMaskMode;this.current.activeSMask&&!e?this.beginSMaskMode():!this.current.activeSMask&&e&&this.endSMaskMode()}beginSMaskMode(){if(this.inSMaskMode)throw new Error("beginSMaskMode called while already in smask mode");const e=this.ctx.canvas.width,t=this.ctx.canvas.height,i="smaskGroupAt"+this.groupLevel,r=this.cachedCanvases.getCanvas(i,e,t);this.suspendedCtx=this.ctx,this.ctx=r.context;const s=this.ctx;s.setTransform(...Pe(this.suspendedCtx)),cc(this.suspendedCtx,s),IM(s,this.suspendedCtx),this.setGState([["BM","source-over"],["ca",1],["CA",1]])}endSMaskMode(){if(!this.inSMaskMode)throw new Error("endSMaskMode called while not in smask mode");this.ctx._removeMirroring(),cc(this.ctx,this.suspendedCtx),this.ctx=this.suspendedCtx,this.suspendedCtx=null}compose(e){if(!this.current.activeSMask)return;e?(e[0]=Math.floor(e[0]),e[1]=Math.floor(e[1]),e[2]=Math.ceil(e[2]),e[3]=Math.ceil(e[3])):e=[0,0,this.ctx.canvas.width,this.ctx.canvas.height];const t=this.current.activeSMask,i=this.suspendedCtx;this.composeSMask(i,t,this.ctx,e),this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.restore()}composeSMask(e,t,i,r){const s=r[0],o=r[1],a=r[2]-s,l=r[3]-o;a===0||l===0||(this.genericComposeSMask(t.context,i,a,l,t.subtype,t.backdrop,t.transferMap,s,o,t.offsetX,t.offsetY),e.save(),e.globalAlpha=1,e.globalCompositeOperation="source-over",e.setTransform(1,0,0,1,0,0),e.drawImage(i.canvas,0,0),e.restore())}genericComposeSMask(e,t,i,r,s,o,a,l,u,d,h){let f=e.canvas,p=l-d,m=u-h;if(o){if(p<0||m<0||p+i>f.width||m+r>f.height){const b=this.cachedCanvases.getCanvas("maskExtension",i,r),g=b.context;g.drawImage(f,-p,-m),o.some(y=>y!==0)&&(g.globalCompositeOperation="destination-atop",g.fillStyle=V.makeHexColor(...o),g.fillRect(0,0,i,r),g.globalCompositeOperation="source-over"),f=b.canvas,p=m=0}else if(o.some(b=>b!==0)){e.save(),e.globalAlpha=1,e.setTransform(1,0,0,1,0,0);const b=new Path2D;b.rect(p,m,i,r),e.clip(b),e.globalCompositeOperation="destination-atop",e.fillStyle=V.makeHexColor(...o),e.fillRect(p,m,i,r),e.restore()}}t.save(),t.globalAlpha=1,t.setTransform(1,0,0,1,0,0),s==="Alpha"&&a?t.filter=this.filterFactory.addAlphaFilter(a):s==="Luminosity"&&(t.filter=this.filterFactory.addLuminosityFilter(a));const v=new Path2D;v.rect(l,u,i,r),t.clip(v),t.globalCompositeOperation="destination-in",t.drawImage(f,p,m,i,r,l,u,i,r),t.restore()}save(){this.inSMaskMode?(cc(this.ctx,this.suspendedCtx),this.suspendedCtx.save()):this.ctx.save();const e=this.current;this.stateStack.push(e),this.current=e.clone()}restore(){this.stateStack.length===0&&this.inSMaskMode&&this.endSMaskMode(),this.stateStack.length!==0&&(this.current=this.stateStack.pop(),this.inSMaskMode?(this.suspendedCtx.restore(),cc(this.suspendedCtx,this.ctx)):this.ctx.restore(),this.checkSMaskState(),this.pendingClip=null,this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null)}transform(e,t,i,r,s,o){this.ctx.transform(e,t,i,r,s,o),this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}constructPath(e,t,i){const r=this.ctx,s=this.current;let o=s.x,a=s.y,l,u;const d=Pe(r),h=d[0]===0&&d[3]===0||d[1]===0&&d[2]===0,f=h?i.slice(0):null;for(let p=0,m=0,v=e.length;p<v;p++)switch(e[p]|0){case Hn.rectangle:o=t[m++],a=t[m++];const b=t[m++],g=t[m++],y=o+b,x=a+g;r.moveTo(o,a),b===0||g===0?r.lineTo(y,x):(r.lineTo(y,a),r.lineTo(y,x),r.lineTo(o,x)),h||s.updateRectMinMax(d,[o,a,y,x]),r.closePath();break;case Hn.moveTo:o=t[m++],a=t[m++],r.moveTo(o,a),h||s.updatePathMinMax(d,o,a);break;case Hn.lineTo:o=t[m++],a=t[m++],r.lineTo(o,a),h||s.updatePathMinMax(d,o,a);break;case Hn.curveTo:l=o,u=a,o=t[m+4],a=t[m+5],r.bezierCurveTo(t[m],t[m+1],t[m+2],t[m+3],o,a),s.updateCurvePathMinMax(d,l,u,t[m],t[m+1],t[m+2],t[m+3],o,a,f),m+=6;break;case Hn.curveTo2:l=o,u=a,r.bezierCurveTo(o,a,t[m],t[m+1],t[m+2],t[m+3]),s.updateCurvePathMinMax(d,l,u,o,a,t[m],t[m+1],t[m+2],t[m+3],f),o=t[m+2],a=t[m+3],m+=4;break;case Hn.curveTo3:l=o,u=a,o=t[m+2],a=t[m+3],r.bezierCurveTo(t[m],t[m+1],o,a,o,a),s.updateCurvePathMinMax(d,l,u,t[m],t[m+1],o,a,o,a,f),m+=4;break;case Hn.closePath:r.closePath();break}h&&s.updateScalingPathMinMax(d,f),s.setCurrentPoint(o,a)}closePath(){this.ctx.closePath()}stroke(e=!0){const t=this.ctx,i=this.current.strokeColor;t.globalAlpha=this.current.strokeAlpha,this.contentVisible&&(typeof i=="object"&&(i!=null&&i.getPattern)?(t.save(),t.strokeStyle=i.getPattern(t,this,Di(t),Nt.STROKE),this.rescaleAndStroke(!1),t.restore()):this.rescaleAndStroke(!0)),e&&this.consumePath(this.current.getClippedPathBoundingBox()),t.globalAlpha=this.current.fillAlpha}closeStroke(){this.closePath(),this.stroke()}fill(e=!0){const t=this.ctx,i=this.current.fillColor,r=this.current.patternFill;let s=!1;r&&(t.save(),t.fillStyle=i.getPattern(t,this,Di(t),Nt.FILL),s=!0);const o=this.current.getClippedPathBoundingBox();this.contentVisible&&o!==null&&(this.pendingEOFill?(t.fill("evenodd"),this.pendingEOFill=!1):t.fill()),s&&t.restore(),e&&this.consumePath(o)}eoFill(){this.pendingEOFill=!0,this.fill()}fillStroke(){this.fill(!1),this.stroke(!1),this.consumePath()}eoFillStroke(){this.pendingEOFill=!0,this.fillStroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.pendingEOFill=!0,this.closePath(),this.fillStroke()}endPath(){this.consumePath()}clip(){this.pendingClip=BM}eoClip(){this.pendingClip=Pw}beginText(){this.current.textMatrix=mS,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}endText(){const e=this.pendingTextPaths,t=this.ctx;if(e===void 0){t.beginPath();return}t.save(),t.beginPath();for(const i of e)t.setTransform(...i.transform),t.translate(i.x,i.y),i.addToPath(t,i.fontSize);t.restore(),t.clip(),t.beginPath(),delete this.pendingTextPaths}setCharSpacing(e){this.current.charSpacing=e}setWordSpacing(e){this.current.wordSpacing=e}setHScale(e){this.current.textHScale=e/100}setLeading(e){this.current.leading=-e}setFont(e,t){var d;const i=this.commonObjs.get(e),r=this.current;if(!i)throw new Error(`Can't find font for ${e}`);if(r.fontMatrix=i.fontMatrix||A0,(r.fontMatrix[0]===0||r.fontMatrix[3]===0)&&ee("Invalid font matrix for font "+e),t<0?(t=-t,r.fontDirection=-1):r.fontDirection=1,this.current.font=i,this.current.fontSize=t,i.isType3Font)return;const s=i.loadedName||"sans-serif",o=((d=i.systemFontInfo)==null?void 0:d.css)||`"${s}", ${i.fallbackName}`;let a="normal";i.black?a="900":i.bold&&(a="bold");const l=i.italic?"italic":"normal";let u=t;t<Ew?u=Ew:t>Aw&&(u=Aw),this.current.fontSizeScale=t/u,this.ctx.font=`${l} ${a} ${u}px ${o}`}setTextRenderingMode(e){this.current.textRenderingMode=e}setTextRise(e){this.current.textRise=e}moveText(e,t){this.current.x=this.current.lineX+=e,this.current.y=this.current.lineY+=t}setLeadingMoveText(e,t){this.setLeading(-t),this.moveText(e,t)}setTextMatrix(e,t,i,r,s,o){this.current.textMatrix=[e,t,i,r,s,o],this.current.textMatrixScale=Math.hypot(e,t),this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}nextLine(){this.moveText(0,this.current.leading)}paintChar(e,t,i,r){const s=this.ctx,o=this.current,a=o.font,l=o.textRenderingMode,u=o.fontSize/o.fontSizeScale,d=l&xt.FILL_STROKE_MASK,h=!!(l&xt.ADD_TO_PATH_FLAG),f=o.patternFill&&!a.missingFile;let p;(a.disableFontFace||h||f)&&(p=a.getPathGenerator(this.commonObjs,e)),a.disableFontFace||f?(s.save(),s.translate(t,i),s.beginPath(),p(s,u),r&&s.setTransform(...r),(d===xt.FILL||d===xt.FILL_STROKE)&&s.fill(),(d===xt.STROKE||d===xt.FILL_STROKE)&&s.stroke(),s.restore()):((d===xt.FILL||d===xt.FILL_STROKE)&&s.fillText(e,t,i),(d===xt.STROKE||d===xt.FILL_STROKE)&&s.strokeText(e,t,i)),h&&(this.pendingTextPaths||(this.pendingTextPaths=[])).push({transform:Pe(s),x:t,y:i,fontSize:u,addToPath:p})}get isFontSubpixelAAEnabled(){const{context:e}=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10);e.scale(1.5,1),e.fillText("I",0,10);const t=e.getImageData(0,0,10,10).data;let i=!1;for(let r=3;r<t.length;r+=4)if(t[r]>0&&t[r]<255){i=!0;break}return le(this,"isFontSubpixelAAEnabled",i)}showText(e){const t=this.current,i=t.font;if(i.isType3Font)return this.showType3Text(e);const r=t.fontSize;if(r===0)return;const s=this.ctx,o=t.fontSizeScale,a=t.charSpacing,l=t.wordSpacing,u=t.fontDirection,d=t.textHScale*u,h=e.length,f=i.vertical,p=f?1:-1,m=i.defaultVMetrics,v=r*t.fontMatrix[0],b=t.textRenderingMode===xt.FILL&&!i.disableFontFace&&!t.patternFill;s.save(),s.transform(...t.textMatrix),s.translate(t.x,t.y+t.textRise),u>0?s.scale(d,-1):s.scale(d,1);let g;if(t.patternFill){s.save();const T=t.fillColor.getPattern(s,this,Di(s),Nt.FILL);g=Pe(s),s.restore(),s.fillStyle=T}let y=t.lineWidth;const x=t.textMatrixScale;if(x===0||y===0){const T=t.textRenderingMode&xt.FILL_STROKE_MASK;(T===xt.STROKE||T===xt.FILL_STROKE)&&(y=this.getSinglePixelWidth())}else y/=x;if(o!==1&&(s.scale(o,o),y/=o),s.lineWidth=y,i.isInvalidPDFjsFont){const T=[];let R=0;for(const L of e)T.push(L.unicode),R+=L.width;s.fillText(T.join(""),0,0),t.x+=R*v*d,s.restore(),this.compose();return}let _=0,k;for(k=0;k<h;++k){const T=e[k];if(typeof T=="number"){_+=p*T*r/1e3;continue}let R=!1;const L=(T.isSpace?l:0)+a,D=T.fontChar,F=T.accent;let O,Y,X=T.width;if(f){const $=T.vmetric||m,se=-(T.vmetric?$[1]:X*.5)*v,I=$[2]*v;X=$?-$[0]:X,O=se/o,Y=(_+I)/o}else O=_/o,Y=0;if(i.remeasure&&X>0){const $=s.measureText(D).width*1e3/r*o;if(X<$&&this.isFontSubpixelAAEnabled){const se=X/$;R=!0,s.save(),s.scale(se,1),O/=se}else X!==$&&(O+=(X-$)/2e3*r/o)}if(this.contentVisible&&(T.isInFont||i.missingFile)){if(b&&!F)s.fillText(D,O,Y);else if(this.paintChar(D,O,Y,g),F){const $=O+r*F.offset.x/o,se=Y-r*F.offset.y/o;this.paintChar(F.fontChar,$,se,g)}}const K=f?X*v-L*u:X*v+L*u;_+=K,R&&s.restore()}f?t.y-=_:t.x+=_*d,s.restore(),this.compose()}showType3Text(e){const t=this.ctx,i=this.current,r=i.font,s=i.fontSize,o=i.fontDirection,a=r.vertical?1:-1,l=i.charSpacing,u=i.wordSpacing,d=i.textHScale*o,h=i.fontMatrix||A0,f=e.length,p=i.textRenderingMode===xt.INVISIBLE;let m,v,b,g;if(!(p||s===0)){for(this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null,t.save(),t.transform(...i.textMatrix),t.translate(i.x,i.y),t.scale(d,o),m=0;m<f;++m){if(v=e[m],typeof v=="number"){g=a*v*s/1e3,this.ctx.translate(g,0),i.x+=g*d;continue}const y=(v.isSpace?u:0)+l,x=r.charProcOperatorList[v.operatorListId];if(!x){ee(`Type3 character "${v.operatorListId}" is not available.`);continue}this.contentVisible&&(this.processingType3=v,this.save(),t.scale(s,s),t.transform(...h),this.executeOperatorList(x),this.restore()),b=V.applyTransform([v.width,0],h)[0]*s+y,t.translate(b,0),i.x+=b*d}t.restore(),this.processingType3=null}}setCharWidth(e,t){}setCharWidthAndBounds(e,t,i,r,s,o){this.ctx.rect(i,r,s-i,o-r),this.ctx.clip(),this.endPath()}getColorN_Pattern(e){let t;if(e[0]==="TilingPattern"){const i=e[1],r=this.baseTransform||Pe(this.ctx),s={createCanvasGraphics:o=>new hy(o,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:this.optionalContentConfig,markedContentStack:this.markedContentStack})};t=new J0(e,i,this.ctx,s,r)}else t=this._getPattern(e[1],e[2]);return t}setStrokeColorN(){this.current.strokeColor=this.getColorN_Pattern(arguments)}setFillColorN(){this.current.fillColor=this.getColorN_Pattern(arguments),this.current.patternFill=!0}setStrokeRGBColor(e,t,i){const r=V.makeHexColor(e,t,i);this.ctx.strokeStyle=r,this.current.strokeColor=r}setFillRGBColor(e,t,i){const r=V.makeHexColor(e,t,i);this.ctx.fillStyle=r,this.current.fillColor=r,this.current.patternFill=!1}_getPattern(e,t=null){let i;return this.cachedPatterns.has(e)?i=this.cachedPatterns.get(e):(i=MM(this.getObject(e)),this.cachedPatterns.set(e,i)),t&&(i.matrix=t),i}shadingFill(e){if(!this.contentVisible)return;const t=this.ctx;this.save();const i=this._getPattern(e);t.fillStyle=i.getPattern(t,this,Di(t),Nt.SHADING);const r=Di(t);if(r){const{width:s,height:o}=t.canvas,[a,l,u,d]=V.getAxialAlignedBoundingBox([0,0,s,o],r);this.ctx.fillRect(a,l,u-a,d-l)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);this.compose(this.current.getClippedPathBoundingBox()),this.restore()}beginInlineImage(){ye("Should not call beginInlineImage")}beginImageData(){ye("Should not call beginImageData")}paintFormXObjectBegin(e,t){if(this.contentVisible&&(this.save(),this.baseTransformStack.push(this.baseTransform),e&&this.transform(...e),this.baseTransform=Pe(this.ctx),t)){const i=t[2]-t[0],r=t[3]-t[1];this.ctx.rect(t[0],t[1],i,r),this.current.updateRectMinMax(Pe(this.ctx),t),this.clip(),this.endPath()}}paintFormXObjectEnd(){this.contentVisible&&(this.restore(),this.baseTransform=this.baseTransformStack.pop())}beginGroup(e){if(!this.contentVisible)return;this.save(),this.inSMaskMode&&(this.endSMaskMode(),this.current.activeSMask=null);const t=this.ctx;e.isolated||lm("TODO: Support non-isolated groups."),e.knockout&&ee("Knockout groups not supported.");const i=Pe(t);if(e.matrix&&t.transform(...e.matrix),!e.bbox)throw new Error("Bounding box is required.");let r=V.getAxialAlignedBoundingBox(e.bbox,Pe(t));const s=[0,0,t.canvas.width,t.canvas.height];r=V.intersect(r,s)||[0,0,0,0];const o=Math.floor(r[0]),a=Math.floor(r[1]),l=Math.max(Math.ceil(r[2])-o,1),u=Math.max(Math.ceil(r[3])-a,1);this.current.startNewPathAndClipBox([0,0,l,u]);let d="groupAt"+this.groupLevel;e.smask&&(d+="_smask_"+this.smaskCounter++%2);const h=this.cachedCanvases.getCanvas(d,l,u),f=h.context;f.translate(-o,-a),f.transform(...i),e.smask?this.smaskStack.push({canvas:h.canvas,context:f,offsetX:o,offsetY:a,subtype:e.smask.subtype,backdrop:e.smask.backdrop,transferMap:e.smask.transferMap||null,startTransformInverse:null}):(t.setTransform(1,0,0,1,0,0),t.translate(o,a),t.save()),cc(t,f),this.ctx=f,this.setGState([["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(t),this.groupLevel++}endGroup(e){if(!this.contentVisible)return;this.groupLevel--;const t=this.ctx,i=this.groupStack.pop();if(this.ctx=i,this.ctx.imageSmoothingEnabled=!1,e.smask)this.tempSMask=this.smaskStack.pop(),this.restore();else{this.ctx.restore();const r=Pe(this.ctx);this.restore(),this.ctx.save(),this.ctx.setTransform(...r);const s=V.getAxialAlignedBoundingBox([0,0,t.canvas.width,t.canvas.height],r);this.ctx.drawImage(t.canvas,0,0),this.ctx.restore(),this.compose(s)}}beginAnnotation(e,t,i,r,s){if(A(this,_s,ev).call(this),Lh(this.ctx),this.ctx.save(),this.save(),this.baseTransform&&this.ctx.setTransform(...this.baseTransform),t){const o=t[2]-t[0],a=t[3]-t[1];if(s&&this.annotationCanvasMap){i=i.slice(),i[4]-=t[0],i[5]-=t[1],t=t.slice(),t[0]=t[1]=0,t[2]=o,t[3]=a;const[l,u]=V.singularValueDecompose2dScale(Pe(this.ctx)),{viewportScale:d}=this,h=Math.ceil(o*this.outputScaleX*d),f=Math.ceil(a*this.outputScaleY*d);this.annotationCanvas=this.canvasFactory.create(h,f);const{canvas:p,context:m}=this.annotationCanvas;this.annotationCanvasMap.set(e,p),this.annotationCanvas.savedCtx=this.ctx,this.ctx=m,this.ctx.save(),this.ctx.setTransform(l,0,0,-u,0,a*u),Lh(this.ctx)}else Lh(this.ctx),this.ctx.rect(t[0],t[1],o,a),this.ctx.clip(),this.endPath()}this.current=new _w(this.ctx.canvas.width,this.ctx.canvas.height),this.transform(...i),this.transform(...r)}endAnnotation(){this.annotationCanvas&&(this.ctx.restore(),A(this,_s,tv).call(this),this.ctx=this.annotationCanvas.savedCtx,delete this.annotationCanvas.savedCtx,delete this.annotationCanvas)}paintImageMaskXObject(e){if(!this.contentVisible)return;const t=e.count;e=this.getObject(e.data,e),e.count=t;const i=this.ctx,r=this.processingType3;if(r&&(r.compiled===void 0&&(r.compiled=jM(e)),r.compiled)){r.compiled(i);return}const s=this._createMaskCanvas(e),o=s.canvas;i.save(),i.setTransform(1,0,0,1,0,0),i.drawImage(o,s.offsetX,s.offsetY),i.restore(),this.compose()}paintImageMaskXObjectRepeat(e,t,i=0,r=0,s,o){if(!this.contentVisible)return;e=this.getObject(e.data,e);const a=this.ctx;a.save();const l=Pe(a);a.transform(t,i,r,s,0,0);const u=this._createMaskCanvas(e);a.setTransform(1,0,0,1,u.offsetX-l[4],u.offsetY-l[5]);for(let d=0,h=o.length;d<h;d+=2){const f=V.transform(l,[t,i,r,s,o[d],o[d+1]]),[p,m]=V.applyTransform([0,0],f);a.drawImage(u.canvas,p,m)}a.restore(),this.compose()}paintImageMaskXObjectGroup(e){if(!this.contentVisible)return;const t=this.ctx,i=this.current.fillColor,r=this.current.patternFill;for(const s of e){const{data:o,width:a,height:l,transform:u}=s,d=this.cachedCanvases.getCanvas("maskCanvas",a,l),h=d.context;h.save();const f=this.getObject(o,s);Tw(h,f),h.globalCompositeOperation="source-in",h.fillStyle=r?i.getPattern(h,this,Di(t),Nt.FILL):i,h.fillRect(0,0,a,l),h.restore(),t.save(),t.transform(...u),t.scale(1,-1),Ph(t,d.canvas,0,0,a,l,0,-1,1,1),t.restore()}this.compose()}paintImageXObject(e){if(!this.contentVisible)return;const t=this.getObject(e);if(!t){ee("Dependent image isn't ready yet");return}this.paintInlineImageXObject(t)}paintImageXObjectRepeat(e,t,i,r){if(!this.contentVisible)return;const s=this.getObject(e);if(!s){ee("Dependent image isn't ready yet");return}const o=s.width,a=s.height,l=[];for(let u=0,d=r.length;u<d;u+=2)l.push({transform:[t,0,0,i,r[u],r[u+1]],x:0,y:0,w:o,h:a});this.paintInlineImageXObjectGroup(s,l)}applyTransferMapsToCanvas(e){return this.current.transferMaps!=="none"&&(e.filter=this.current.transferMaps,e.drawImage(e.canvas,0,0),e.filter="none"),e.canvas}applyTransferMapsToBitmap(e){if(this.current.transferMaps==="none")return e.bitmap;const{bitmap:t,width:i,height:r}=e,s=this.cachedCanvases.getCanvas("inlineImage",i,r),o=s.context;return o.filter=this.current.transferMaps,o.drawImage(t,0,0),o.filter="none",s.canvas}paintInlineImageXObject(e){if(!this.contentVisible)return;const t=e.width,i=e.height,r=this.ctx;if(this.save(),!St){const{filter:a}=r;a!=="none"&&a!==""&&(r.filter="none")}r.scale(1/t,-1/i);let s;if(e.bitmap)s=this.applyTransferMapsToBitmap(e);else if(typeof HTMLElement=="function"&&e instanceof HTMLElement||!e.data)s=e;else{const l=this.cachedCanvases.getCanvas("inlineImage",t,i).context;kw(l,e),s=this.applyTransferMapsToCanvas(l)}const o=this._scaleImage(s,Di(r));r.imageSmoothingEnabled=Rw(Pe(r),e.interpolate),Ph(r,o.img,0,0,o.paintWidth,o.paintHeight,0,-i,t,i),this.compose(),this.restore()}paintInlineImageXObjectGroup(e,t){if(!this.contentVisible)return;const i=this.ctx;let r;if(e.bitmap)r=e.bitmap;else{const s=e.width,o=e.height,l=this.cachedCanvases.getCanvas("inlineImage",s,o).context;kw(l,e),r=this.applyTransferMapsToCanvas(l)}for(const s of t)i.save(),i.transform(...s.transform),i.scale(1,-1),Ph(i,r,s.x,s.y,s.w,s.h,0,-1,1,1),i.restore();this.compose()}paintSolidColorImageMask(){this.contentVisible&&(this.ctx.fillRect(0,0,1,1),this.compose())}markPoint(e){}markPointProps(e,t){}beginMarkedContent(e){this.markedContentStack.push({visible:!0})}beginMarkedContentProps(e,t){e==="OC"?this.markedContentStack.push({visible:this.optionalContentConfig.isVisible(t)}):this.markedContentStack.push({visible:!0}),this.contentVisible=this.isContentVisible()}endMarkedContent(){this.markedContentStack.pop(),this.contentVisible=this.isContentVisible()}beginCompat(){}endCompat(){}consumePath(e){const t=this.current.isEmptyClip();this.pendingClip&&this.current.updateClipFromPath(),this.pendingClip||this.compose(e);const i=this.ctx;this.pendingClip&&(t||(this.pendingClip===Pw?i.clip("evenodd"):i.clip()),this.pendingClip=null),this.current.startNewPathAndClipBox(this.current.clipBox),i.beginPath()}getSinglePixelWidth(){if(!this._cachedGetSinglePixelWidth){const e=Pe(this.ctx);if(e[1]===0&&e[2]===0)this._cachedGetSinglePixelWidth=1/Math.min(Math.abs(e[0]),Math.abs(e[3]));else{const t=Math.abs(e[0]*e[3]-e[2]*e[1]),i=Math.hypot(e[0],e[2]),r=Math.hypot(e[1],e[3]);this._cachedGetSinglePixelWidth=Math.max(i,r)/t}}return this._cachedGetSinglePixelWidth}getScaleForStroking(){if(this._cachedScaleForStroking[0]===-1){const{lineWidth:e}=this.current,{a:t,b:i,c:r,d:s}=this.ctx.getTransform();let o,a;if(i===0&&r===0){const l=Math.abs(t),u=Math.abs(s);if(l===u)if(e===0)o=a=1/l;else{const d=l*e;o=a=d<1?1/d:1}else if(e===0)o=1/l,a=1/u;else{const d=l*e,h=u*e;o=d<1?1/d:1,a=h<1?1/h:1}}else{const l=Math.abs(t*s-i*r),u=Math.hypot(t,i),d=Math.hypot(r,s);if(e===0)o=d/l,a=u/l;else{const h=e*l;o=d>h?d/h:1,a=u>h?u/h:1}}this._cachedScaleForStroking[0]=o,this._cachedScaleForStroking[1]=a}return this._cachedScaleForStroking}rescaleAndStroke(e){const{ctx:t}=this,{lineWidth:i}=this.current,[r,s]=this.getScaleForStroking();if(t.lineWidth=i||1,r===1&&s===1){t.stroke();return}const o=t.getLineDash();if(e&&t.save(),t.scale(r,s),o.length>0){const a=Math.max(r,s);t.setLineDash(o.map(l=>l/a)),t.lineDashOffset/=a}t.stroke(),e&&t.restore()}isContentVisible(){for(let e=this.markedContentStack.length-1;e>=0;e--)if(!this.markedContentStack[e].visible)return!1;return!0}};_s=new WeakSet,ev=function(){for(;this.stateStack.length||this.inSMaskMode;)this.restore();this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null)},tv=function(){if(this.pageColors){const e=this.filterFactory.addHCMFilter(this.pageColors.foreground,this.pageColors.background);if(e!=="none"){const t=this.ctx.filter;this.ctx.filter=e,this.ctx.drawImage(this.ctx.canvas,0,0),this.ctx.filter=t}}};let Oa=hy;for(const n in Hn)Oa.prototype[n]!==void 0&&(Oa.prototype[Hn[n]]=Oa.prototype[n]);var Uu,Vu;class vr{static get workerPort(){return c(this,Uu)}static set workerPort(e){if(!(typeof Worker<"u"&&e instanceof Worker)&&e!==null)throw new Error("Invalid `workerPort` type.");E(this,Uu,e)}static get workerSrc(){return c(this,Vu)}static set workerSrc(e){if(typeof e!="string")throw new Error("Invalid `workerSrc` type.");E(this,Vu,e)}}Uu=new WeakMap,Vu=new WeakMap,S(vr,Uu,null),S(vr,Vu,"");const Nh={UNKNOWN:0,DATA:1,ERROR:2},ze={UNKNOWN:0,CANCEL:1,CANCEL_COMPLETE:2,CLOSE:3,ENQUEUE:4,ERROR:5,PULL:6,PULL_COMPLETE:7,START_COMPLETE:8};function Jt(n){switch(n instanceof Error||typeof n=="object"&&n!==null||ye('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),n.name){case"AbortException":return new aa(n.message);case"MissingPDFException":return new oa(n.message);case"PasswordException":return new C0(n.message,n.code);case"UnexpectedResponseException":return new cm(n.message,n.status);case"UnknownErrorException":return new _0(n.message,n.details);default:return new _0(n.message,n.toString())}}var Ri,YS,QS,rf;class bc{constructor(e,t,i){S(this,Ri);this.sourceName=e,this.targetName=t,this.comObj=i,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),this._onComObjOnMessage=r=>{const s=r.data;if(s.targetName!==this.sourceName)return;if(s.stream){A(this,Ri,QS).call(this,s);return}if(s.callback){const a=s.callbackId,l=this.callbackCapabilities[a];if(!l)throw new Error(`Cannot resolve callback ${a}`);if(delete this.callbackCapabilities[a],s.callback===Nh.DATA)l.resolve(s.data);else if(s.callback===Nh.ERROR)l.reject(Jt(s.reason));else throw new Error("Unexpected callback case");return}const o=this.actionHandler[s.action];if(!o)throw new Error(`Unknown action from worker: ${s.action}`);if(s.callbackId){const a=this.sourceName,l=s.sourceName;new Promise(function(u){u(o(s.data))}).then(function(u){i.postMessage({sourceName:a,targetName:l,callback:Nh.DATA,callbackId:s.callbackId,data:u})},function(u){i.postMessage({sourceName:a,targetName:l,callback:Nh.ERROR,callbackId:s.callbackId,reason:Jt(u)})});return}if(s.streamId){A(this,Ri,YS).call(this,s);return}o(s.data)},i.addEventListener("message",this._onComObjOnMessage)}on(e,t){const i=this.actionHandler;if(i[e])throw new Error(`There is already an actionName called "${e}"`);i[e]=t}send(e,t,i){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:e,data:t},i)}sendWithPromise(e,t,i){const r=this.callbackId++,s=Promise.withResolvers();this.callbackCapabilities[r]=s;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:e,callbackId:r,data:t},i)}catch(o){s.reject(o)}return s.promise}sendWithStream(e,t,i,r){const s=this.streamId++,o=this.sourceName,a=this.targetName,l=this.comObj;return new ReadableStream({start:u=>{const d=Promise.withResolvers();return this.streamControllers[s]={controller:u,startCall:d,pullCall:null,cancelCall:null,isClosed:!1},l.postMessage({sourceName:o,targetName:a,action:e,streamId:s,data:t,desiredSize:u.desiredSize},r),d.promise},pull:u=>{const d=Promise.withResolvers();return this.streamControllers[s].pullCall=d,l.postMessage({sourceName:o,targetName:a,stream:ze.PULL,streamId:s,desiredSize:u.desiredSize}),d.promise},cancel:u=>{Qe(u instanceof Error,"cancel must have a valid reason");const d=Promise.withResolvers();return this.streamControllers[s].cancelCall=d,this.streamControllers[s].isClosed=!0,l.postMessage({sourceName:o,targetName:a,stream:ze.CANCEL,streamId:s,reason:Jt(u)}),d.promise}},i)}destroy(){this.comObj.removeEventListener("message",this._onComObjOnMessage)}}Ri=new WeakSet,YS=function(e){const t=e.streamId,i=this.sourceName,r=e.sourceName,s=this.comObj,o=this,a=this.actionHandler[e.action],l={enqueue(u,d=1,h){if(this.isCancelled)return;const f=this.desiredSize;this.desiredSize-=d,f>0&&this.desiredSize<=0&&(this.sinkCapability=Promise.withResolvers(),this.ready=this.sinkCapability.promise),s.postMessage({sourceName:i,targetName:r,stream:ze.ENQUEUE,streamId:t,chunk:u},h)},close(){this.isCancelled||(this.isCancelled=!0,s.postMessage({sourceName:i,targetName:r,stream:ze.CLOSE,streamId:t}),delete o.streamSinks[t])},error(u){Qe(u instanceof Error,"error must have a valid reason"),!this.isCancelled&&(this.isCancelled=!0,s.postMessage({sourceName:i,targetName:r,stream:ze.ERROR,streamId:t,reason:Jt(u)}))},sinkCapability:Promise.withResolvers(),onPull:null,onCancel:null,isCancelled:!1,desiredSize:e.desiredSize,ready:null};l.sinkCapability.resolve(),l.ready=l.sinkCapability.promise,this.streamSinks[t]=l,new Promise(function(u){u(a(e.data,l))}).then(function(){s.postMessage({sourceName:i,targetName:r,stream:ze.START_COMPLETE,streamId:t,success:!0})},function(u){s.postMessage({sourceName:i,targetName:r,stream:ze.START_COMPLETE,streamId:t,reason:Jt(u)})})},QS=function(e){const t=e.streamId,i=this.sourceName,r=e.sourceName,s=this.comObj,o=this.streamControllers[t],a=this.streamSinks[t];switch(e.stream){case ze.START_COMPLETE:e.success?o.startCall.resolve():o.startCall.reject(Jt(e.reason));break;case ze.PULL_COMPLETE:e.success?o.pullCall.resolve():o.pullCall.reject(Jt(e.reason));break;case ze.PULL:if(!a){s.postMessage({sourceName:i,targetName:r,stream:ze.PULL_COMPLETE,streamId:t,success:!0});break}a.desiredSize<=0&&e.desiredSize>0&&a.sinkCapability.resolve(),a.desiredSize=e.desiredSize,new Promise(function(l){var u;l((u=a.onPull)==null?void 0:u.call(a))}).then(function(){s.postMessage({sourceName:i,targetName:r,stream:ze.PULL_COMPLETE,streamId:t,success:!0})},function(l){s.postMessage({sourceName:i,targetName:r,stream:ze.PULL_COMPLETE,streamId:t,reason:Jt(l)})});break;case ze.ENQUEUE:if(Qe(o,"enqueue should have stream controller"),o.isClosed)break;o.controller.enqueue(e.chunk);break;case ze.CLOSE:if(Qe(o,"close should have stream controller"),o.isClosed)break;o.isClosed=!0,o.controller.close(),A(this,Ri,rf).call(this,o,t);break;case ze.ERROR:Qe(o,"error should have stream controller"),o.controller.error(Jt(e.reason)),A(this,Ri,rf).call(this,o,t);break;case ze.CANCEL_COMPLETE:e.success?o.cancelCall.resolve():o.cancelCall.reject(Jt(e.reason)),A(this,Ri,rf).call(this,o,t);break;case ze.CANCEL:if(!a)break;new Promise(function(l){var u;l((u=a.onCancel)==null?void 0:u.call(a,Jt(e.reason)))}).then(function(){s.postMessage({sourceName:i,targetName:r,stream:ze.CANCEL_COMPLETE,streamId:t,success:!0})},function(l){s.postMessage({sourceName:i,targetName:r,stream:ze.CANCEL_COMPLETE,streamId:t,reason:Jt(l)})}),a.sinkCapability.reject(Jt(e.reason)),a.isCancelled=!0,delete this.streamSinks[t];break;default:throw new Error("Unexpected stream case")}},rf=async function(e,t){var i,r,s;await Promise.allSettled([(i=e.startCall)==null?void 0:i.promise,(r=e.pullCall)==null?void 0:r.promise,(s=e.cancelCall)==null?void 0:s.promise]),delete this.streamControllers[t]};var ro,Wu;class zM{constructor({parsedData:e,rawData:t}){S(this,ro);S(this,Wu);E(this,ro,e),E(this,Wu,t)}getRaw(){return c(this,Wu)}get(e){return c(this,ro).get(e)??null}getAll(){return ty(c(this,ro))}has(e){return c(this,ro).has(e)}}ro=new WeakMap,Wu=new WeakMap;const Mr=Symbol("INTERNAL");var Gu,qu,Xu,Qa;class UM{constructor(e,{name:t,intent:i,usage:r}){S(this,Gu,!1);S(this,qu,!1);S(this,Xu,!1);S(this,Qa,!0);E(this,Gu,!!(e&En.DISPLAY)),E(this,qu,!!(e&En.PRINT)),this.name=t,this.intent=i,this.usage=r}get visible(){if(c(this,Xu))return c(this,Qa);if(!c(this,Qa))return!1;const{print:e,view:t}=this.usage;return c(this,Gu)?(t==null?void 0:t.viewState)!=="OFF":c(this,qu)?(e==null?void 0:e.printState)!=="OFF":!0}_setVisible(e,t,i=!1){e!==Mr&&ye("Internal method `_setVisible` called."),E(this,Xu,i),E(this,Qa,t)}}Gu=new WeakMap,qu=new WeakMap,Xu=new WeakMap,Qa=new WeakMap;var Wr,ve,Za,Ja,Ku,nv;class VM{constructor(e,t=En.DISPLAY){S(this,Ku);S(this,Wr,null);S(this,ve,new Map);S(this,Za,null);S(this,Ja,null);if(this.renderingIntent=t,this.name=null,this.creator=null,e!==null){this.name=e.name,this.creator=e.creator,E(this,Ja,e.order);for(const i of e.groups)c(this,ve).set(i.id,new UM(t,i));if(e.baseState==="OFF")for(const i of c(this,ve).values())i._setVisible(Mr,!1);for(const i of e.on)c(this,ve).get(i)._setVisible(Mr,!0);for(const i of e.off)c(this,ve).get(i)._setVisible(Mr,!1);E(this,Za,this.getHash())}}isVisible(e){if(c(this,ve).size===0)return!0;if(!e)return lm("Optional content group not defined."),!0;if(e.type==="OCG")return c(this,ve).has(e.id)?c(this,ve).get(e.id).visible:(ee(`Optional content group not found: ${e.id}`),!0);if(e.type==="OCMD"){if(e.expression)return A(this,Ku,nv).call(this,e.expression);if(!e.policy||e.policy==="AnyOn"){for(const t of e.ids){if(!c(this,ve).has(t))return ee(`Optional content group not found: ${t}`),!0;if(c(this,ve).get(t).visible)return!0}return!1}else if(e.policy==="AllOn"){for(const t of e.ids){if(!c(this,ve).has(t))return ee(`Optional content group not found: ${t}`),!0;if(!c(this,ve).get(t).visible)return!1}return!0}else if(e.policy==="AnyOff"){for(const t of e.ids){if(!c(this,ve).has(t))return ee(`Optional content group not found: ${t}`),!0;if(!c(this,ve).get(t).visible)return!0}return!1}else if(e.policy==="AllOff"){for(const t of e.ids){if(!c(this,ve).has(t))return ee(`Optional content group not found: ${t}`),!0;if(c(this,ve).get(t).visible)return!1}return!0}return ee(`Unknown optional content policy ${e.policy}.`),!0}return ee(`Unknown group type ${e.type}.`),!0}setVisibility(e,t=!0){const i=c(this,ve).get(e);if(!i){ee(`Optional content group not found: ${e}`);return}i._setVisible(Mr,!!t,!0),E(this,Wr,null)}setOCGState({state:e,preserveRB:t}){let i;for(const r of e){switch(r){case"ON":case"OFF":case"Toggle":i=r;continue}const s=c(this,ve).get(r);if(s)switch(i){case"ON":s._setVisible(Mr,!0);break;case"OFF":s._setVisible(Mr,!1);break;case"Toggle":s._setVisible(Mr,!s.visible);break}}E(this,Wr,null)}get hasInitialVisibility(){return c(this,Za)===null||this.getHash()===c(this,Za)}getOrder(){return c(this,ve).size?c(this,Ja)?c(this,Ja).slice():[...c(this,ve).keys()]:null}getGroups(){return c(this,ve).size>0?ty(c(this,ve)):null}getGroup(e){return c(this,ve).get(e)||null}getHash(){if(c(this,Wr)!==null)return c(this,Wr);const e=new GS;for(const[t,i]of c(this,ve))e.update(`${t}:${i.visible}`);return E(this,Wr,e.hexdigest())}}Wr=new WeakMap,ve=new WeakMap,Za=new WeakMap,Ja=new WeakMap,Ku=new WeakSet,nv=function(e){const t=e.length;if(t<2)return!0;const i=e[0];for(let r=1;r<t;r++){const s=e[r];let o;if(Array.isArray(s))o=A(this,Ku,nv).call(this,s);else if(c(this,ve).has(s))o=c(this,ve).get(s).visible;else return ee(`Optional content group not found: ${s}`),!0;switch(i){case"And":if(!o)return!1;break;case"Or":if(o)return!0;break;case"Not":return!o;default:return!0}}return i==="And"};class WM{constructor(e,{disableRange:t=!1,disableStream:i=!1}){Qe(e,'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.');const{length:r,initialData:s,progressiveDone:o,contentDispositionFilename:a}=e;if(this._queuedChunks=[],this._progressiveDone=o,this._contentDispositionFilename=a,(s==null?void 0:s.length)>0){const l=s instanceof Uint8Array&&s.byteLength===s.buffer.byteLength?s.buffer:new Uint8Array(s).buffer;this._queuedChunks.push(l)}this._pdfDataRangeTransport=e,this._isStreamingSupported=!i,this._isRangeSupported=!t,this._contentLength=r,this._fullRequestReader=null,this._rangeReaders=[],e.addRangeListener((l,u)=>{this._onReceiveData({begin:l,chunk:u})}),e.addProgressListener((l,u)=>{this._onProgress({loaded:l,total:u})}),e.addProgressiveReadListener(l=>{this._onReceiveData({chunk:l})}),e.addProgressiveDoneListener(()=>{this._onProgressiveDone()}),e.transportReady()}_onReceiveData({begin:e,chunk:t}){const i=t instanceof Uint8Array&&t.byteLength===t.buffer.byteLength?t.buffer:new Uint8Array(t).buffer;if(e===void 0)this._fullRequestReader?this._fullRequestReader._enqueue(i):this._queuedChunks.push(i);else{const r=this._rangeReaders.some(function(s){return s._begin!==e?!1:(s._enqueue(i),!0)});Qe(r,"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.")}}get _progressiveDataLength(){var e;return((e=this._fullRequestReader)==null?void 0:e._loaded)??0}_onProgress(e){var t,i,r,s;e.total===void 0?(i=(t=this._rangeReaders[0])==null?void 0:t.onProgress)==null||i.call(t,{loaded:e.loaded}):(s=(r=this._fullRequestReader)==null?void 0:r.onProgress)==null||s.call(r,{loaded:e.loaded,total:e.total})}_onProgressiveDone(){var e;(e=this._fullRequestReader)==null||e.progressiveDone(),this._progressiveDone=!0}_removeRangeReader(e){const t=this._rangeReaders.indexOf(e);t>=0&&this._rangeReaders.splice(t,1)}getFullReader(){Qe(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");const e=this._queuedChunks;return this._queuedChunks=null,new GM(this,e,this._progressiveDone,this._contentDispositionFilename)}getRangeReader(e,t){if(t<=this._progressiveDataLength)return null;const i=new qM(this,e,t);return this._pdfDataRangeTransport.requestDataRange(e,t),this._rangeReaders.push(i),i}cancelAllRequests(e){var t;(t=this._fullRequestReader)==null||t.cancel(e);for(const i of this._rangeReaders.slice(0))i.cancel(e);this._pdfDataRangeTransport.abort()}}class GM{constructor(e,t,i=!1,r=null){this._stream=e,this._done=i||!1,this._filename=oy(r)?r:null,this._queuedChunks=t||[],this._loaded=0;for(const s of this._queuedChunks)this._loaded+=s.byteLength;this._requests=[],this._headersReady=Promise.resolve(),e._fullRequestReader=this,this.onProgress=null}_enqueue(e){this._done||(this._requests.length>0?this._requests.shift().resolve({value:e,done:!1}):this._queuedChunks.push(e),this._loaded+=e.byteLength)}get headersReady(){return this._headersReady}get filename(){return this._filename}get isRangeSupported(){return this._stream._isRangeSupported}get isStreamingSupported(){return this._stream._isStreamingSupported}get contentLength(){return this._stream._contentLength}async read(){if(this._queuedChunks.length>0)return{value:this._queuedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0;for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0}progressiveDone(){this._done||(this._done=!0)}}class qM{constructor(e,t,i){this._stream=e,this._begin=t,this._end=i,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}_enqueue(e){if(!this._done){if(this._requests.length===0)this._queuedChunk=e;else{this._requests.shift().resolve({value:e,done:!1});for(const i of this._requests)i.resolve({value:void 0,done:!0});this._requests.length=0}this._done=!0,this._stream._removeRangeReader(this)}}get isStreamingSupported(){return!1}async read(){if(this._queuedChunk){const t=this._queuedChunk;return this._queuedChunk=null,{value:t,done:!1}}if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0;for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0,this._stream._removeRangeReader(this)}}function XM(n){let e=!0,t=i("filename\\*","i").exec(n);if(t){t=t[1];let d=a(t);return d=unescape(d),d=l(d),d=u(d),s(d)}if(t=o(n),t){const d=u(t);return s(d)}if(t=i("filename","i").exec(n),t){t=t[1];let d=a(t);return d=u(d),s(d)}function i(d,h){return new RegExp("(?:^|;)\\s*"+d+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',h)}function r(d,h){if(d){if(!/^[\x00-\xFF]+$/.test(h))return h;try{const f=new TextDecoder(d,{fatal:!0}),p=um(h);h=f.decode(p),e=!1}catch{}}return h}function s(d){return e&&/[\x80-\xff]/.test(d)&&(d=r("utf-8",d),e&&(d=r("iso-8859-1",d))),d}function o(d){const h=[];let f;const p=i("filename\\*((?!0\\d)\\d+)(\\*?)","ig");for(;(f=p.exec(d))!==null;){let[,v,b,g]=f;if(v=parseInt(v,10),v in h){if(v===0)break;continue}h[v]=[b,g]}const m=[];for(let v=0;v<h.length&&v in h;++v){let[b,g]=h[v];g=a(g),b&&(g=unescape(g),v===0&&(g=l(g))),m.push(g)}return m.join("")}function a(d){if(d.startsWith('"')){const h=d.slice(1).split('\\"');for(let f=0;f<h.length;++f){const p=h[f].indexOf('"');p!==-1&&(h[f]=h[f].slice(0,p),h.length=f+1),h[f]=h[f].replaceAll(/\\(.)/g,"$1")}d=h.join('"')}return d}function l(d){const h=d.indexOf("'");if(h===-1)return d;const f=d.slice(0,h),m=d.slice(h+1).replace(/^[^']*'/,"");return r(f,m)}function u(d){return!d.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(d)?d:d.replaceAll(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,function(h,f,p,m){if(p==="q"||p==="Q")return m=m.replaceAll("_"," "),m=m.replaceAll(/=([0-9a-fA-F]{2})/g,function(v,b){return String.fromCharCode(parseInt(b,16))}),r(f,m);try{m=atob(m)}catch{}return r(f,m)})}return""}function cy({getResponseHeader:n,isHttp:e,rangeChunkSize:t,disableRange:i}){const r={allowRangeRequests:!1,suggestedLength:void 0},s=parseInt(n("Content-Length"),10);return!Number.isInteger(s)||(r.suggestedLength=s,s<=2*t)||i||!e||n("Accept-Ranges")!=="bytes"||(n("Content-Encoding")||"identity")!=="identity"||(r.allowRangeRequests=!0),r}function uy(n){const e=n("Content-Disposition");if(e){let t=XM(e);if(t.includes("%"))try{t=decodeURIComponent(t)}catch{}if(oy(t))return t}return null}function gm(n,e){return n===404||n===0&&e.startsWith("file:")?new oa('Missing PDF "'+e+'".'):new cm(`Unexpected server response (${n}) while retrieving PDF "${e}".`,n)}function ZS(n){return n===200||n===206}function JS(n,e,t){return{method:"GET",headers:n,signal:t.signal,mode:"cors",credentials:e?"include":"same-origin",redirect:"follow"}}function e2(n){const e=new Headers;for(const t in n){const i=n[t];i!==void 0&&e.append(t,i)}return e}function t2(n){return n instanceof Uint8Array?n.buffer:n instanceof ArrayBuffer?n:(ee(`getArrayBuffer - unexpected data format: ${n}`),new Uint8Array(n).buffer)}class Lw{constructor(e){this.source=e,this.isHttp=/^https?:/i.test(e.url),this.httpHeaders=this.isHttp&&e.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var e;return((e=this._fullRequestReader)==null?void 0:e._loaded)??0}getFullReader(){return Qe(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once."),this._fullRequestReader=new KM(this),this._fullRequestReader}getRangeReader(e,t){if(t<=this._progressiveDataLength)return null;const i=new YM(this,e,t);return this._rangeRequestReaders.push(i),i}cancelAllRequests(e){var t;(t=this._fullRequestReader)==null||t.cancel(e);for(const i of this._rangeRequestReaders.slice(0))i.cancel(e)}}class KM{constructor(e){this._stream=e,this._reader=null,this._loaded=0,this._filename=null;const t=e.source;this._withCredentials=t.withCredentials||!1,this._contentLength=t.length,this._headersCapability=Promise.withResolvers(),this._disableRange=t.disableRange||!1,this._rangeChunkSize=t.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._abortController=new AbortController,this._isStreamingSupported=!t.disableStream,this._isRangeSupported=!t.disableRange,this._headers=e2(this._stream.httpHeaders);const i=t.url;fetch(i,JS(this._headers,this._withCredentials,this._abortController)).then(r=>{if(!ZS(r.status))throw gm(r.status,i);this._reader=r.body.getReader(),this._headersCapability.resolve();const s=l=>r.headers.get(l),{allowRangeRequests:o,suggestedLength:a}=cy({getResponseHeader:s,isHttp:this._stream.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=o,this._contentLength=a||this._contentLength,this._filename=uy(s),!this._isStreamingSupported&&this._isRangeSupported&&this.cancel(new aa("Streaming is disabled."))}).catch(this._headersCapability.reject),this.onProgress=null}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var i;await this._headersCapability.promise;const{value:e,done:t}=await this._reader.read();return t?{value:e,done:t}:(this._loaded+=e.byteLength,(i=this.onProgress)==null||i.call(this,{loaded:this._loaded,total:this._contentLength}),{value:t2(e),done:!1})}cancel(e){var t;(t=this._reader)==null||t.cancel(e),this._abortController.abort()}}class YM{constructor(e,t,i){this._stream=e,this._reader=null,this._loaded=0;const r=e.source;this._withCredentials=r.withCredentials||!1,this._readCapability=Promise.withResolvers(),this._isStreamingSupported=!r.disableStream,this._abortController=new AbortController,this._headers=e2(this._stream.httpHeaders),this._headers.append("Range",`bytes=${t}-${i-1}`);const s=r.url;fetch(s,JS(this._headers,this._withCredentials,this._abortController)).then(o=>{if(!ZS(o.status))throw gm(o.status,s);this._readCapability.resolve(),this._reader=o.body.getReader()}).catch(this._readCapability.reject),this.onProgress=null}get isStreamingSupported(){return this._isStreamingSupported}async read(){var i;await this._readCapability.promise;const{value:e,done:t}=await this._reader.read();return t?{value:e,done:t}:(this._loaded+=e.byteLength,(i=this.onProgress)==null||i.call(this,{loaded:this._loaded}),{value:t2(e),done:!1})}cancel(e){var t;(t=this._reader)==null||t.cancel(e),this._abortController.abort()}}const cg=200,ug=206;function QM(n){const e=n.response;return typeof e!="string"?e:um(e).buffer}class ZM{constructor(e,t={}){this.url=e,this.isHttp=/^https?:/i.test(e),this.httpHeaders=this.isHttp&&t.httpHeaders||Object.create(null),this.withCredentials=t.withCredentials||!1,this.currXhrId=0,this.pendingRequests=Object.create(null)}requestRange(e,t,i){const r={begin:e,end:t};for(const s in i)r[s]=i[s];return this.request(r)}requestFull(e){return this.request(e)}request(e){const t=new XMLHttpRequest,i=this.currXhrId++,r=this.pendingRequests[i]={xhr:t};t.open("GET",this.url),t.withCredentials=this.withCredentials;for(const s in this.httpHeaders){const o=this.httpHeaders[s];o!==void 0&&t.setRequestHeader(s,o)}return this.isHttp&&"begin"in e&&"end"in e?(t.setRequestHeader("Range",`bytes=${e.begin}-${e.end-1}`),r.expectedStatus=ug):r.expectedStatus=cg,t.responseType="arraybuffer",e.onError&&(t.onerror=function(s){e.onError(t.status)}),t.onreadystatechange=this.onStateChange.bind(this,i),t.onprogress=this.onProgress.bind(this,i),r.onHeadersReceived=e.onHeadersReceived,r.onDone=e.onDone,r.onError=e.onError,r.onProgress=e.onProgress,t.send(null),i}onProgress(e,t){var r;const i=this.pendingRequests[e];i&&((r=i.onProgress)==null||r.call(i,t))}onStateChange(e,t){var l,u,d;const i=this.pendingRequests[e];if(!i)return;const r=i.xhr;if(r.readyState>=2&&i.onHeadersReceived&&(i.onHeadersReceived(),delete i.onHeadersReceived),r.readyState!==4||!(e in this.pendingRequests))return;if(delete this.pendingRequests[e],r.status===0&&this.isHttp){(l=i.onError)==null||l.call(i,r.status);return}const s=r.status||cg;if(!(s===cg&&i.expectedStatus===ug)&&s!==i.expectedStatus){(u=i.onError)==null||u.call(i,r.status);return}const a=QM(r);if(s===ug){const h=r.getResponseHeader("Content-Range"),f=/bytes (\d+)-(\d+)\/(\d+)/.exec(h);i.onDone({begin:parseInt(f[1],10),chunk:a})}else a?i.onDone({begin:0,chunk:a}):(d=i.onError)==null||d.call(i,r.status)}getRequestXhr(e){return this.pendingRequests[e].xhr}isPendingRequest(e){return e in this.pendingRequests}abortRequest(e){const t=this.pendingRequests[e].xhr;delete this.pendingRequests[e],t.abort()}}class JM{constructor(e){this._source=e,this._manager=new ZM(e.url,{httpHeaders:e.httpHeaders,withCredentials:e.withCredentials}),this._rangeChunkSize=e.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}_onRangeRequestReaderClosed(e){const t=this._rangeRequestReaders.indexOf(e);t>=0&&this._rangeRequestReaders.splice(t,1)}getFullReader(){return Qe(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once."),this._fullRequestReader=new eF(this._manager,this._source),this._fullRequestReader}getRangeReader(e,t){const i=new tF(this._manager,e,t);return i.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(i),i}cancelAllRequests(e){var t;(t=this._fullRequestReader)==null||t.cancel(e);for(const i of this._rangeRequestReaders.slice(0))i.cancel(e)}}class eF{constructor(e,t){this._manager=e;const i={onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=t.url,this._fullRequestId=e.requestFull(i),this._headersReceivedCapability=Promise.withResolvers(),this._disableRange=t.disableRange||!1,this._contentLength=t.length,this._rangeChunkSize=t.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}_onHeadersReceived(){const e=this._fullRequestId,t=this._manager.getRequestXhr(e),i=o=>t.getResponseHeader(o),{allowRangeRequests:r,suggestedLength:s}=cy({getResponseHeader:i,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});r&&(this._isRangeSupported=!0),this._contentLength=s||this._contentLength,this._filename=uy(i),this._isRangeSupported&&this._manager.abortRequest(e),this._headersReceivedCapability.resolve()}_onDone(e){if(e&&(this._requests.length>0?this._requests.shift().resolve({value:e.chunk,done:!1}):this._cachedChunks.push(e.chunk)),this._done=!0,!(this._cachedChunks.length>0)){for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0}}_onError(e){this._storedError=gm(e,this._url),this._headersReceivedCapability.reject(this._storedError);for(const t of this._requests)t.reject(this._storedError);this._requests.length=0,this._cachedChunks.length=0}_onProgress(e){var t;(t=this.onProgress)==null||t.call(this,{loaded:e.loaded,total:e.lengthComputable?e.total:this._contentLength})}get filename(){return this._filename}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}get contentLength(){return this._contentLength}get headersReady(){return this._headersReceivedCapability.promise}async read(){if(this._storedError)throw this._storedError;if(this._cachedChunks.length>0)return{value:this._cachedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0,this._headersReceivedCapability.reject(e);for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}}class tF{constructor(e,t,i){this._manager=e;const r={onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=e.url,this._requestId=e.requestRange(t,i,r),this._requests=[],this._queuedChunk=null,this._done=!1,this._storedError=void 0,this.onProgress=null,this.onClosed=null}_close(){var e;(e=this.onClosed)==null||e.call(this,this)}_onDone(e){const t=e.chunk;this._requests.length>0?this._requests.shift().resolve({value:t,done:!1}):this._queuedChunk=t,this._done=!0;for(const i of this._requests)i.resolve({value:void 0,done:!0});this._requests.length=0,this._close()}_onError(e){this._storedError=gm(e,this._url);for(const t of this._requests)t.reject(this._storedError);this._requests.length=0,this._queuedChunk=null}_onProgress(e){var t;this.isStreamingSupported||(t=this.onProgress)==null||t.call(this,{loaded:e.loaded})}get isStreamingSupported(){return!1}async read(){if(this._storedError)throw this._storedError;if(this._queuedChunk!==null){const t=this._queuedChunk;return this._queuedChunk=null,{value:t,done:!1}}if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0;for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}}const n2=/^file:\/\/\/[a-zA-Z]:\//;function nF(n){const e=Li.get("url"),t=e.parse(n);return t.protocol==="file:"||t.host?t:/^[a-z]:[/\\]/i.test(n)?e.parse(`file:///${n}`):(t.host||(t.protocol="file:"),t)}class iF{constructor(e){this.source=e,this.url=nF(e.url),this.isHttp=this.url.protocol==="http:"||this.url.protocol==="https:",this.isFsUrl=this.url.protocol==="file:",this.httpHeaders=this.isHttp&&e.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var e;return((e=this._fullRequestReader)==null?void 0:e._loaded)??0}getFullReader(){return Qe(!this._fullRequestReader,"PDFNodeStream.getFullReader can only be called once."),this._fullRequestReader=this.isFsUrl?new oF(this):new rF(this),this._fullRequestReader}getRangeReader(e,t){if(t<=this._progressiveDataLength)return null;const i=this.isFsUrl?new aF(this,e,t):new sF(this,e,t);return this._rangeRequestReaders.push(i),i}cancelAllRequests(e){var t;(t=this._fullRequestReader)==null||t.cancel(e);for(const i of this._rangeRequestReaders.slice(0))i.cancel(e)}}class i2{constructor(e){this._url=e.url,this._done=!1,this._storedError=null,this.onProgress=null;const t=e.source;this._contentLength=t.length,this._loaded=0,this._filename=null,this._disableRange=t.disableRange||!1,this._rangeChunkSize=t.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!t.disableStream,this._isRangeSupported=!t.disableRange,this._readableStream=null,this._readCapability=Promise.withResolvers(),this._headersCapability=Promise.withResolvers()}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var i;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const e=this._readableStream.read();return e===null?(this._readCapability=Promise.withResolvers(),this.read()):(this._loaded+=e.length,(i=this.onProgress)==null||i.call(this,{loaded:this._loaded,total:this._contentLength}),{value:new Uint8Array(e).buffer,done:!1})}cancel(e){if(!this._readableStream){this._error(e);return}this._readableStream.destroy(e)}_error(e){this._storedError=e,this._readCapability.resolve()}_setReadableStream(e){this._readableStream=e,e.on("readable",()=>{this._readCapability.resolve()}),e.on("end",()=>{e.destroy(),this._done=!0,this._readCapability.resolve()}),e.on("error",t=>{this._error(t)}),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new aa("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}}class r2{constructor(e){this._url=e.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=Promise.withResolvers();const t=e.source;this._isStreamingSupported=!t.disableStream}get isStreamingSupported(){return this._isStreamingSupported}async read(){var i;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const e=this._readableStream.read();return e===null?(this._readCapability=Promise.withResolvers(),this.read()):(this._loaded+=e.length,(i=this.onProgress)==null||i.call(this,{loaded:this._loaded}),{value:new Uint8Array(e).buffer,done:!1})}cancel(e){if(!this._readableStream){this._error(e);return}this._readableStream.destroy(e)}_error(e){this._storedError=e,this._readCapability.resolve()}_setReadableStream(e){this._readableStream=e,e.on("readable",()=>{this._readCapability.resolve()}),e.on("end",()=>{e.destroy(),this._done=!0,this._readCapability.resolve()}),e.on("error",t=>{this._error(t)}),this._storedError&&this._readableStream.destroy(this._storedError)}}function ap(n,e){return{protocol:n.protocol,auth:n.auth,host:n.hostname,port:n.port,path:n.path,method:"GET",headers:e}}class rF extends i2{constructor(e){super(e);const t=i=>{if(i.statusCode===404){const a=new oa(`Missing PDF "${this._url}".`);this._storedError=a,this._headersCapability.reject(a);return}this._headersCapability.resolve(),this._setReadableStream(i);const r=a=>this._readableStream.headers[a.toLowerCase()],{allowRangeRequests:s,suggestedLength:o}=cy({getResponseHeader:r,isHttp:e.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=s,this._contentLength=o||this._contentLength,this._filename=uy(r)};if(this._request=null,this._url.protocol==="http:"){const i=Li.get("http");this._request=i.request(ap(this._url,e.httpHeaders),t)}else{const i=Li.get("https");this._request=i.request(ap(this._url,e.httpHeaders),t)}this._request.on("error",i=>{this._storedError=i,this._headersCapability.reject(i)}),this._request.end()}}class sF extends r2{constructor(e,t,i){super(e),this._httpHeaders={};for(const s in e.httpHeaders){const o=e.httpHeaders[s];o!==void 0&&(this._httpHeaders[s]=o)}this._httpHeaders.Range=`bytes=${t}-${i-1}`;const r=s=>{if(s.statusCode===404){const o=new oa(`Missing PDF "${this._url}".`);this._storedError=o;return}this._setReadableStream(s)};if(this._request=null,this._url.protocol==="http:"){const s=Li.get("http");this._request=s.request(ap(this._url,this._httpHeaders),r)}else{const s=Li.get("https");this._request=s.request(ap(this._url,this._httpHeaders),r)}this._request.on("error",s=>{this._storedError=s}),this._request.end()}}class oF extends i2{constructor(e){super(e);let t=decodeURIComponent(this._url.path);n2.test(this._url.href)&&(t=t.replace(/^\//,""));const i=Li.get("fs");i.promises.lstat(t).then(r=>{this._contentLength=r.size,this._setReadableStream(i.createReadStream(t)),this._headersCapability.resolve()},r=>{r.code==="ENOENT"&&(r=new oa(`Missing PDF "${t}".`)),this._storedError=r,this._headersCapability.reject(r)})}}class aF extends r2{constructor(e,t,i){super(e);let r=decodeURIComponent(this._url.path);n2.test(this._url.href)&&(r=r.replace(/^\//,""));const s=Li.get("fs");this._setReadableStream(s.createReadStream(r,{start:t,end:i-1}))}}const lF=1e5,jt=30,cF=.8;var Dw,Gr,Ht,Yu,Qu,so,er,Zu,Ju,oo,el,tl,qr,nl,ed,il,ao,td,nd,lo,co,rl,Cr,s2,o2,iv,ys,sf,a2;const On=class On{constructor({textContentSource:e,container:t,viewport:i}){S(this,Cr);S(this,Gr,Promise.withResolvers());S(this,Ht,null);S(this,Yu,!1);S(this,Qu,!!((Dw=globalThis.FontInspector)!=null&&Dw.enabled));S(this,so,null);S(this,er,null);S(this,Zu,0);S(this,Ju,0);S(this,oo,null);S(this,el,null);S(this,tl,0);S(this,qr,0);S(this,nl,Object.create(null));S(this,ed,[]);S(this,il,null);S(this,ao,[]);S(this,td,new WeakMap);S(this,nd,null);if(e instanceof ReadableStream)E(this,il,e);else if(typeof e=="object")E(this,il,new ReadableStream({start(l){l.enqueue(e),l.close()}}));else throw new Error('No "textContentSource" parameter specified.');E(this,Ht,E(this,el,t)),E(this,qr,i.scale*(globalThis.devicePixelRatio||1)),E(this,tl,i.rotation),E(this,er,{prevFontSize:null,prevFontFamily:null,div:null,properties:null,ctx:null});const{pageWidth:r,pageHeight:s,pageX:o,pageY:a}=i.rawDims;E(this,nd,[1,0,0,-1,-o,a+s]),E(this,Ju,r),E(this,Zu,s),Jo(t,i),c(this,Gr).promise.catch(()=>{}).then(()=>{c(On,rl).delete(this),E(this,er,null),E(this,nl,null)})}render(){const e=()=>{c(this,oo).read().then(({value:t,done:i})=>{if(i){c(this,Gr).resolve();return}c(this,so)??E(this,so,t.lang),Object.assign(c(this,nl),t.styles),A(this,Cr,s2).call(this,t.items),e()},c(this,Gr).reject)};return E(this,oo,c(this,il).getReader()),c(On,rl).add(this),e(),c(this,Gr).promise}update({viewport:e,onBefore:t=null}){var s;const i=e.scale*(globalThis.devicePixelRatio||1),r=e.rotation;if(r!==c(this,tl)&&(t==null||t(),E(this,tl,r),Jo(c(this,el),{rotation:r})),i!==c(this,qr)){t==null||t(),E(this,qr,i);const o={prevFontSize:null,prevFontFamily:null,div:null,properties:null,ctx:A(s=On,ys,sf).call(s,c(this,so))};for(const a of c(this,ao))o.properties=c(this,td).get(a),o.div=a,A(this,Cr,iv).call(this,o)}}cancel(){var t;const e=new aa("TextLayer task cancelled.");(t=c(this,oo))==null||t.cancel(e).catch(()=>{}),E(this,oo,null),c(this,Gr).reject(e)}get textDivs(){return c(this,ao)}get textContentItemsStr(){return c(this,ed)}static cleanup(){if(!(c(this,rl).size>0)){c(this,lo).clear();for(const{canvas:e}of c(this,co).values())e.remove();c(this,co).clear()}}};Gr=new WeakMap,Ht=new WeakMap,Yu=new WeakMap,Qu=new WeakMap,so=new WeakMap,er=new WeakMap,Zu=new WeakMap,Ju=new WeakMap,oo=new WeakMap,el=new WeakMap,tl=new WeakMap,qr=new WeakMap,nl=new WeakMap,ed=new WeakMap,il=new WeakMap,ao=new WeakMap,td=new WeakMap,nd=new WeakMap,lo=new WeakMap,co=new WeakMap,rl=new WeakMap,Cr=new WeakSet,s2=function(e){var r,s;if(c(this,Yu))return;(s=c(this,er)).ctx||(s.ctx=A(r=On,ys,sf).call(r,c(this,so)));const t=c(this,ao),i=c(this,ed);for(const o of e){if(t.length>lF){ee("Ignoring additional textDivs for performance reasons."),E(this,Yu,!0);return}if(o.str===void 0){if(o.type==="beginMarkedContentProps"||o.type==="beginMarkedContent"){const a=c(this,Ht);E(this,Ht,document.createElement("span")),c(this,Ht).classList.add("markedContent"),o.id!==null&&c(this,Ht).setAttribute("id",`${o.id}`),a.append(c(this,Ht))}else o.type==="endMarkedContent"&&E(this,Ht,c(this,Ht).parentNode);continue}i.push(o.str),A(this,Cr,o2).call(this,o)}},o2=function(e){var v;const t=document.createElement("span"),i={angle:0,canvasWidth:0,hasText:e.str!=="",hasEOL:e.hasEOL,fontSize:0};c(this,ao).push(t);const r=V.transform(c(this,nd),e.transform);let s=Math.atan2(r[1],r[0]);const o=c(this,nl)[e.fontName];o.vertical&&(s+=Math.PI/2);const a=c(this,Qu)&&o.fontSubstitution||o.fontFamily,l=Math.hypot(r[2],r[3]),u=l*A(v=On,ys,a2).call(v,a,c(this,so));let d,h;s===0?(d=r[4],h=r[5]-u):(d=r[4]+u*Math.sin(s),h=r[5]-u*Math.cos(s));const f="calc(var(--scale-factor)*",p=t.style;c(this,Ht)===c(this,el)?(p.left=`${(100*d/c(this,Ju)).toFixed(2)}%`,p.top=`${(100*h/c(this,Zu)).toFixed(2)}%`):(p.left=`${f}${d.toFixed(2)}px)`,p.top=`${f}${h.toFixed(2)}px)`),p.fontSize=`${f}${l.toFixed(2)}px)`,p.fontFamily=a,i.fontSize=l,t.setAttribute("role","presentation"),t.textContent=e.str,t.dir=e.dir,c(this,Qu)&&(t.dataset.fontName=o.fontSubstitutionLoadedName||e.fontName),s!==0&&(i.angle=s*(180/Math.PI));let m=!1;if(e.str.length>1)m=!0;else if(e.str!==" "&&e.transform[0]!==e.transform[3]){const b=Math.abs(e.transform[0]),g=Math.abs(e.transform[3]);b!==g&&Math.max(b,g)/Math.min(b,g)>1.5&&(m=!0)}if(m&&(i.canvasWidth=o.vertical?e.height:e.width),c(this,td).set(t,i),c(this,er).div=t,c(this,er).properties=i,A(this,Cr,iv).call(this,c(this,er)),i.hasText&&c(this,Ht).append(t),i.hasEOL){const b=document.createElement("br");b.setAttribute("role","presentation"),c(this,Ht).append(b)}},iv=function(e){const{div:t,properties:i,ctx:r,prevFontSize:s,prevFontFamily:o}=e,{style:a}=t;let l="";if(i.canvasWidth!==0&&i.hasText){const{fontFamily:u}=a,{canvasWidth:d,fontSize:h}=i;(s!==h||o!==u)&&(r.font=`${h*c(this,qr)}px ${u}`,e.prevFontSize=h,e.prevFontFamily=u);const{width:f}=r.measureText(t.textContent);f>0&&(l=`scaleX(${d*c(this,qr)/f})`)}i.angle!==0&&(l=`rotate(${i.angle}deg) ${l}`),l.length>0&&(a.transform=l)},ys=new WeakSet,sf=function(e=null){let t=c(this,co).get(e||(e=""));if(!t){const i=document.createElement("canvas");i.className="hiddenCanvasElement",i.lang=e,document.body.append(i),t=i.getContext("2d",{alpha:!1}),c(this,co).set(e,t)}return t},a2=function(e,t){const i=c(this,lo).get(e);if(i)return i;const r=A(this,ys,sf).call(this,t),s=r.font;r.canvas.width=r.canvas.height=jt,r.font=`${jt}px ${e}`;const o=r.measureText("");let a=o.fontBoundingBoxAscent,l=Math.abs(o.fontBoundingBoxDescent);if(a){const h=a/(a+l);return c(this,lo).set(e,h),r.canvas.width=r.canvas.height=0,r.font=s,h}r.strokeStyle="red",r.clearRect(0,0,jt,jt),r.strokeText("g",0,0);let u=r.getImageData(0,0,jt,jt).data;l=0;for(let h=u.length-1-3;h>=0;h-=4)if(u[h]>0){l=Math.ceil(h/4/jt);break}r.clearRect(0,0,jt,jt),r.strokeText("A",0,jt),u=r.getImageData(0,0,jt,jt).data,a=0;for(let h=0,f=u.length;h<f;h+=4)if(u[h]>0){a=jt-Math.floor(h/4/jt);break}r.canvas.width=r.canvas.height=0,r.font=s;const d=a?a/(a+l):cF;return c(this,lo).set(e,d),d},S(On,ys),S(On,lo,new Map),S(On,co,new Map),S(On,rl,new Set);let Hl=On;function uF(){ES("`renderTextLayer`, please use `TextLayer` instead.");const{textContentSource:n,container:e,viewport:t,...i}=arguments[0],r=Object.keys(i);r.length>0&&ee("Ignoring `renderTextLayer` parameters: "+r.join(", "));const s=new Hl({textContentSource:n,container:e,viewport:t}),{textDivs:o,textContentItemsStr:a}=s;return{promise:s.render(),textDivs:o,textContentItemsStr:a}}function dF(){ES("`updateTextLayer`, please use `TextLayer` instead.")}class hu{static textContent(e){const t=[],i={items:t,styles:Object.create(null)};function r(s){var l;if(!s)return;let o=null;const a=s.name;if(a==="#text")o=s.value;else if(hu.shouldBuildText(a))(l=s==null?void 0:s.attributes)!=null&&l.textContent?o=s.attributes.textContent:s.value&&(o=s.value);else return;if(o!==null&&t.push({str:o}),!!s.children)for(const u of s.children)r(u)}return r(e),i}static shouldBuildText(e){return!(e==="textarea"||e==="input"||e==="option"||e==="select")}}const hF=65536,fF=100,pF=5e3,mF=St?_M:fM,gF=St?kM:wS,vF=St?CM:hM,yF=St?TM:bS;function xF(n){if(typeof n=="string"||n instanceof URL?n={url:n}:(n instanceof ArrayBuffer||ArrayBuffer.isView(n))&&(n={data:n}),typeof n!="object")throw new Error("Invalid parameter in getDocument, need parameter object.");if(!n.url&&!n.data&&!n.range)throw new Error("Invalid parameter object: need either .data, .range or .url");const e=new rv,{docId:t}=e,i=n.url?wF(n.url):null,r=n.data?bF(n.data):null,s=n.httpHeaders||null,o=n.withCredentials===!0,a=n.password??null,l=n.range instanceof l2?n.range:null,u=Number.isInteger(n.rangeChunkSize)&&n.rangeChunkSize>0?n.rangeChunkSize:hF;let d=n.worker instanceof ja?n.worker:null;const h=n.verbosity,f=typeof n.docBaseUrl=="string"&&!sy(n.docBaseUrl)?n.docBaseUrl:null,p=typeof n.cMapUrl=="string"?n.cMapUrl:null,m=n.cMapPacked!==!1,v=n.CMapReaderFactory||gF,b=typeof n.standardFontDataUrl=="string"?n.standardFontDataUrl:null,g=n.StandardFontDataFactory||yF,y=n.stopAtErrors!==!0,x=Number.isInteger(n.maxImageSize)&&n.maxImageSize>-1?n.maxImageSize:-1,_=n.isEvalSupported!==!1,k=typeof n.isOffscreenCanvasSupported=="boolean"?n.isOffscreenCanvasSupported:!St,T=Number.isInteger(n.canvasMaxAreaInBytes)?n.canvasMaxAreaInBytes:-1,R=typeof n.disableFontFace=="boolean"?n.disableFontFace:St,L=n.fontExtraProperties===!0,D=n.enableXfa===!0,F=n.ownerDocument||globalThis.document,O=n.disableRange===!0,Y=n.disableStream===!0,X=n.disableAutoFetch===!0,K=n.pdfBug===!0,$=l?l.length:n.length??NaN,se=typeof n.useSystemFonts=="boolean"?n.useSystemFonts:!St&&!R,I=typeof n.useWorkerFetch=="boolean"?n.useWorkerFetch:v===wS&&g===bS&&p&&b&&yc(p,document.baseURI)&&yc(b,document.baseURI),N=n.canvasFactory||new mF({ownerDocument:F}),B=n.filterFactory||new vF({docId:t,ownerDocument:F}),W=null;tM(h);const de={canvasFactory:N,filterFactory:B};if(I||(de.cMapReaderFactory=new v({baseUrl:p,isCompressed:m}),de.standardFontDataFactory=new g({baseUrl:b})),!d){const gt={verbosity:h,port:vr.workerPort};d=gt.port?ja.fromPort(gt):new ja(gt),e._worker=d}const re={docId:t,apiVersion:"4.3.136",data:r,password:a,disableAutoFetch:X,rangeChunkSize:u,length:$,docBaseUrl:f,enableXfa:D,evaluatorOptions:{maxImageSize:x,disableFontFace:R,ignoreErrors:y,isEvalSupported:_,isOffscreenCanvasSupported:k,canvasMaxAreaInBytes:T,fontExtraProperties:L,useSystemFonts:se,cMapUrl:I?p:null,standardFontDataUrl:I?b:null}},Se={disableFontFace:R,fontExtraProperties:L,ownerDocument:F,pdfBug:K,styleElement:W,loadingParams:{disableAutoFetch:X,enableXfa:D}};return d.promise.then(function(){if(e.destroyed)throw new Error("Loading aborted");if(d.destroyed)throw new Error("Worker was destroyed");const gt=d.messageHandler.sendWithPromise("GetDocRequest",re,r?[r.buffer]:null);let Mi;return l?Mi=new WM(l,{disableRange:O,disableStream:Y}):r||(Mi=(he=>St?function(){return typeof fetch<"u"&&typeof Response<"u"&&"body"in Response.prototype}()&&yc(he.url)?new Lw(he):new iF(he):yc(he.url)?new Lw(he):new JM(he))({url:i,length:$,httpHeaders:s,withCredentials:o,rangeChunkSize:u,disableRange:O,disableStream:Y})),gt.then(_t=>{if(e.destroyed)throw new Error("Loading aborted");if(d.destroyed)throw new Error("Worker was destroyed");const he=new bc(t,_t,d.port),py=new CF(he,e,Mi,Se,de);e._transport=py,he.send("Ready",null)})}).catch(e._capability.reject),e}function wF(n){if(n instanceof URL)return n.href;try{return new URL(n,window.location).href}catch{if(St&&typeof n=="string")return n}throw new Error("Invalid PDF url data: either string or URL-object is expected in the url property.")}function bF(n){if(St&&typeof Buffer<"u"&&n instanceof Buffer)throw new Error("Please provide binary data as `Uint8Array`, rather than `Buffer`.");if(n instanceof Uint8Array&&n.byteLength===n.buffer.byteLength)return n;if(typeof n=="string")return um(n);if(n instanceof ArrayBuffer||ArrayBuffer.isView(n)||typeof n=="object"&&!isNaN(n==null?void 0:n.length))return new Uint8Array(n);throw new Error("Invalid PDF binary data: either TypedArray, string, or array-like object is expected in the data property.")}function Nw(n){return typeof n=="object"&&Number.isInteger(n==null?void 0:n.num)&&n.num>=0&&Number.isInteger(n==null?void 0:n.gen)&&n.gen>=0}var Ep;const Ap=class Ap{constructor(){this._capability=Promise.withResolvers(),this._transport=null,this._worker=null,this.docId=`d${Zt(Ap,Ep)._++}`,this.destroyed=!1,this.onPassword=null,this.onProgress=null}get promise(){return this._capability.promise}async destroy(){var e,t,i;this.destroyed=!0;try{(e=this._worker)!=null&&e.port&&(this._worker._pendingDestroy=!0),await((t=this._transport)==null?void 0:t.destroy())}catch(r){throw(i=this._worker)!=null&&i.port&&delete this._worker._pendingDestroy,r}this._transport=null,this._worker&&(this._worker.destroy(),this._worker=null)}};Ep=new WeakMap,S(Ap,Ep,0);let rv=Ap;class l2{constructor(e,t,i=!1,r=null){this.length=e,this.initialData=t,this.progressiveDone=i,this.contentDispositionFilename=r,this._rangeListeners=[],this._progressListeners=[],this._progressiveReadListeners=[],this._progressiveDoneListeners=[],this._readyCapability=Promise.withResolvers()}addRangeListener(e){this._rangeListeners.push(e)}addProgressListener(e){this._progressListeners.push(e)}addProgressiveReadListener(e){this._progressiveReadListeners.push(e)}addProgressiveDoneListener(e){this._progressiveDoneListeners.push(e)}onDataRange(e,t){for(const i of this._rangeListeners)i(e,t)}onDataProgress(e,t){this._readyCapability.promise.then(()=>{for(const i of this._progressListeners)i(e,t)})}onDataProgressiveRead(e){this._readyCapability.promise.then(()=>{for(const t of this._progressiveReadListeners)t(e)})}onDataProgressiveDone(){this._readyCapability.promise.then(()=>{for(const e of this._progressiveDoneListeners)e()})}transportReady(){this._readyCapability.resolve()}requestDataRange(e,t){ye("Abstract method PDFDataRangeTransport.requestDataRange")}abort(){}}class EF{constructor(e,t){this._pdfInfo=e,this._transport=t}get annotationStorage(){return this._transport.annotationStorage}get filterFactory(){return this._transport.filterFactory}get numPages(){return this._pdfInfo.numPages}get fingerprints(){return this._pdfInfo.fingerprints}get isPureXfa(){return le(this,"isPureXfa",!!this._transport._htmlForXfa)}get allXfaHtml(){return this._transport._htmlForXfa}getPage(e){return this._transport.getPage(e)}getPageIndex(e){return this._transport.getPageIndex(e)}getDestinations(){return this._transport.getDestinations()}getDestination(e){return this._transport.getDestination(e)}getPageLabels(){return this._transport.getPageLabels()}getPageLayout(){return this._transport.getPageLayout()}getPageMode(){return this._transport.getPageMode()}getViewerPreferences(){return this._transport.getViewerPreferences()}getOpenAction(){return this._transport.getOpenAction()}getAttachments(){return this._transport.getAttachments()}getJSActions(){return this._transport.getDocJSActions()}getOutline(){return this._transport.getOutline()}getOptionalContentConfig({intent:e="display"}={}){const{renderingIntent:t}=this._transport.getRenderingIntent(e);return this._transport.getOptionalContentConfig(t)}getPermissions(){return this._transport.getPermissions()}getMetadata(){return this._transport.getMetadata()}getMarkInfo(){return this._transport.getMarkInfo()}getData(){return this._transport.getData()}saveDocument(){return this._transport.saveDocument()}getDownloadInfo(){return this._transport.downloadInfoCapability.promise}cleanup(e=!1){return this._transport.startCleanup(e||this.isPureXfa)}destroy(){return this.loadingTask.destroy()}cachedPageNumber(e){return this._transport.cachedPageNumber(e)}get loadingParams(){return this._transport.loadingParams}get loadingTask(){return this._transport.loadingTask}getFieldObjects(){return this._transport.getFieldObjects()}hasJSActions(){return this._transport.hasJSActions()}getCalculationOrderIds(){return this._transport.getCalculationOrderIds()}}var Xr,tr,_n,pa,of;class AF{constructor(e,t,i,r=!1){S(this,_n);S(this,Xr,null);S(this,tr,!1);this._pageIndex=e,this._pageInfo=t,this._transport=i,this._stats=r?new yw:null,this._pdfBug=r,this.commonObjs=i.commonObjs,this.objs=new c2,this._maybeCleanupAfterRender=!1,this._intentStates=new Map,this.destroyed=!1}get pageNumber(){return this._pageIndex+1}get rotate(){return this._pageInfo.rotate}get ref(){return this._pageInfo.ref}get userUnit(){return this._pageInfo.userUnit}get view(){return this._pageInfo.view}getViewport({scale:e,rotation:t=this.rotate,offsetX:i=0,offsetY:r=0,dontFlip:s=!1}={}){return new oh({viewBox:this.view,scale:e,rotation:t,offsetX:i,offsetY:r,dontFlip:s})}getAnnotations({intent:e="display"}={}){const{renderingIntent:t}=this._transport.getRenderingIntent(e);return this._transport.getAnnotations(this._pageIndex,t)}getJSActions(){return this._transport.getPageJSActions(this._pageIndex)}get filterFactory(){return this._transport.filterFactory}get isPureXfa(){return le(this,"isPureXfa",!!this._transport._htmlForXfa)}async getXfa(){var e;return((e=this._transport._htmlForXfa)==null?void 0:e.children[this._pageIndex])||null}render({canvasContext:e,viewport:t,intent:i="display",annotationMode:r=$r.ENABLE,transform:s=null,background:o=null,optionalContentConfigPromise:a=null,annotationCanvasMap:l=null,pageColors:u=null,printAnnotationStorage:d=null}){var x,_;(x=this._stats)==null||x.time("Overall");const h=this._transport.getRenderingIntent(i,r,d),{renderingIntent:f,cacheKey:p}=h;E(this,tr,!1),A(this,_n,of).call(this),a||(a=this._transport.getOptionalContentConfig(f));let m=this._intentStates.get(p);m||(m=Object.create(null),this._intentStates.set(p,m)),m.streamReaderCancelTimeout&&(clearTimeout(m.streamReaderCancelTimeout),m.streamReaderCancelTimeout=null);const v=!!(f&En.PRINT);m.displayReadyCapability||(m.displayReadyCapability=Promise.withResolvers(),m.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(_=this._stats)==null||_.time("Page Request"),this._pumpOperatorList(h));const b=k=>{var T;m.renderTasks.delete(g),(this._maybeCleanupAfterRender||v)&&E(this,tr,!0),A(this,_n,pa).call(this,!v),k?(g.capability.reject(k),this._abortOperatorList({intentState:m,reason:k instanceof Error?k:new Error(k)})):g.capability.resolve(),this._stats&&(this._stats.timeEnd("Rendering"),this._stats.timeEnd("Overall"),(T=globalThis.Stats)!=null&&T.enabled&&globalThis.Stats.add(this.pageNumber,this._stats))},g=new ov({callback:b,params:{canvasContext:e,viewport:t,transform:s,background:o},objs:this.objs,commonObjs:this.commonObjs,annotationCanvasMap:l,operatorList:m.operatorList,pageIndex:this._pageIndex,canvasFactory:this._transport.canvasFactory,filterFactory:this._transport.filterFactory,useRequestAnimationFrame:!v,pdfBug:this._pdfBug,pageColors:u});(m.renderTasks||(m.renderTasks=new Set)).add(g);const y=g.task;return Promise.all([m.displayReadyCapability.promise,a]).then(([k,T])=>{var R;if(this.destroyed){b();return}if((R=this._stats)==null||R.time("Rendering"),!(T.renderingIntent&f))throw new Error("Must use the same `intent`-argument when calling the `PDFPageProxy.render` and `PDFDocumentProxy.getOptionalContentConfig` methods.");g.initializeGraphics({transparency:k,optionalContentConfig:T}),g.operatorListChanged()}).catch(b),y}getOperatorList({intent:e="display",annotationMode:t=$r.ENABLE,printAnnotationStorage:i=null}={}){var l;function r(){o.operatorList.lastChunk&&(o.opListReadCapability.resolve(o.operatorList),o.renderTasks.delete(a))}const s=this._transport.getRenderingIntent(e,t,i,!0);let o=this._intentStates.get(s.cacheKey);o||(o=Object.create(null),this._intentStates.set(s.cacheKey,o));let a;return o.opListReadCapability||(a=Object.create(null),a.operatorListChanged=r,o.opListReadCapability=Promise.withResolvers(),(o.renderTasks||(o.renderTasks=new Set)).add(a),o.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(l=this._stats)==null||l.time("Page Request"),this._pumpOperatorList(s)),o.opListReadCapability.promise}streamTextContent({includeMarkedContent:e=!1,disableNormalization:t=!1}={}){return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,includeMarkedContent:e===!0,disableNormalization:t===!0},{highWaterMark:100,size(r){return r.items.length}})}getTextContent(e={}){if(this._transport._htmlForXfa)return this.getXfa().then(i=>hu.textContent(i));const t=this.streamTextContent(e);return new Promise(function(i,r){function s(){o.read().then(function({value:l,done:u}){if(u){i(a);return}a.lang??(a.lang=l.lang),Object.assign(a.styles,l.styles),a.items.push(...l.items),s()},r)}const o=t.getReader(),a={items:[],styles:Object.create(null),lang:null};s()})}getStructTree(){return this._transport.getStructTree(this._pageIndex)}_destroy(){this.destroyed=!0;const e=[];for(const t of this._intentStates.values())if(this._abortOperatorList({intentState:t,reason:new Error("Page was destroyed."),force:!0}),!t.opListReadCapability)for(const i of t.renderTasks)e.push(i.completed),i.cancel();return this.objs.clear(),E(this,tr,!1),A(this,_n,of).call(this),Promise.all(e)}cleanup(e=!1){E(this,tr,!0);const t=A(this,_n,pa).call(this,!1);return e&&t&&this._stats&&(this._stats=new yw),t}_startRenderPage(e,t){var r,s;const i=this._intentStates.get(t);i&&((r=this._stats)==null||r.timeEnd("Page Request"),(s=i.displayReadyCapability)==null||s.resolve(e))}_renderPageChunk(e,t){for(let i=0,r=e.length;i<r;i++)t.operatorList.fnArray.push(e.fnArray[i]),t.operatorList.argsArray.push(e.argsArray[i]);t.operatorList.lastChunk=e.lastChunk,t.operatorList.separateAnnots=e.separateAnnots;for(const i of t.renderTasks)i.operatorListChanged();e.lastChunk&&A(this,_n,pa).call(this,!0)}_pumpOperatorList({renderingIntent:e,cacheKey:t,annotationStorageSerializable:i}){const{map:r,transfer:s}=i,a=this._transport.messageHandler.sendWithStream("GetOperatorList",{pageIndex:this._pageIndex,intent:e,cacheKey:t,annotationStorage:r},s).getReader(),l=this._intentStates.get(t);l.streamReader=a;const u=()=>{a.read().then(({value:d,done:h})=>{if(h){l.streamReader=null;return}this._transport.destroyed||(this._renderPageChunk(d,l),u())},d=>{if(l.streamReader=null,!this._transport.destroyed){if(l.operatorList){l.operatorList.lastChunk=!0;for(const h of l.renderTasks)h.operatorListChanged();A(this,_n,pa).call(this,!0)}if(l.displayReadyCapability)l.displayReadyCapability.reject(d);else if(l.opListReadCapability)l.opListReadCapability.reject(d);else throw d}})};u()}_abortOperatorList({intentState:e,reason:t,force:i=!1}){if(e.streamReader){if(e.streamReaderCancelTimeout&&(clearTimeout(e.streamReaderCancelTimeout),e.streamReaderCancelTimeout=null),!i){if(e.renderTasks.size>0)return;if(t instanceof ry){let r=fF;t.extraDelay>0&&t.extraDelay<1e3&&(r+=t.extraDelay),e.streamReaderCancelTimeout=setTimeout(()=>{e.streamReaderCancelTimeout=null,this._abortOperatorList({intentState:e,reason:t,force:!0})},r);return}}if(e.streamReader.cancel(new aa(t.message)).catch(()=>{}),e.streamReader=null,!this._transport.destroyed){for(const[r,s]of this._intentStates)if(s===e){this._intentStates.delete(r);break}this.cleanup()}}}get stats(){return this._stats}}Xr=new WeakMap,tr=new WeakMap,_n=new WeakSet,pa=function(e=!1){if(A(this,_n,of).call(this),!c(this,tr)||this.destroyed)return!1;if(e)return E(this,Xr,setTimeout(()=>{E(this,Xr,null),A(this,_n,pa).call(this,!1)},pF)),!1;for(const{renderTasks:t,operatorList:i}of this._intentStates.values())if(t.size>0||!i.lastChunk)return!1;return this._intentStates.clear(),this.objs.clear(),E(this,tr,!1),!0},of=function(){c(this,Xr)&&(clearTimeout(c(this,Xr)),E(this,Xr,null))};var uo,Sp;class SF{constructor(){S(this,uo,new Set);S(this,Sp,Promise.resolve())}postMessage(e,t){const i={data:structuredClone(e,t?{transfer:t}:null)};c(this,Sp).then(()=>{for(const r of c(this,uo))r.call(this,i)})}addEventListener(e,t){c(this,uo).add(t)}removeEventListener(e,t){c(this,uo).delete(t)}terminate(){c(this,uo).clear()}}uo=new WeakMap,Sp=new WeakMap;const Ui={isWorkerDisabled:!1,fakeWorkerId:0};St&&(Ui.isWorkerDisabled=!0,vr.workerSrc||(vr.workerSrc="./pdf.worker.mjs")),Ui.isSameOrigin=function(n,e){let t;try{if(t=new URL(n),!t.origin||t.origin==="null")return!1}catch{return!1}const i=new URL(e,t);return t.origin===i.origin},Ui.createCDNWrapper=function(n){const e=`await import("${n}");`;return URL.createObjectURL(new Blob([e],{type:"text/javascript"}))};var ho,sl,af;const en=class en{constructor({name:e=null,port:t=null,verbosity:i=nM()}={}){var r;if(this.name=e,this.destroyed=!1,this.verbosity=i,this._readyCapability=Promise.withResolvers(),this._port=null,this._webWorker=null,this._messageHandler=null,t){if((r=c(en,ho))!=null&&r.has(t))throw new Error("Cannot use more than one PDFWorker per port.");(c(en,ho)||E(en,ho,new WeakMap)).set(t,this),this._initializeFromPort(t);return}this._initialize()}get promise(){return St?Promise.all([Li.promise,this._readyCapability.promise]):this._readyCapability.promise}get port(){return this._port}get messageHandler(){return this._messageHandler}_initializeFromPort(e){this._port=e,this._messageHandler=new bc("main","worker",e),this._messageHandler.on("ready",function(){}),this._readyCapability.resolve(),this._messageHandler.send("configure",{verbosity:this.verbosity})}_initialize(){if(!Ui.isWorkerDisabled&&!c(en,sl,af)){let{workerSrc:e}=en;try{Ui.isSameOrigin(window.location.href,e)||(e=Ui.createCDNWrapper(new URL(e,window.location).href));const t=new Worker(e,{type:"module"}),i=new bc("main","worker",t),r=()=>{t.removeEventListener("error",s),i.destroy(),t.terminate(),this.destroyed?this._readyCapability.reject(new Error("Worker was destroyed")):this._setupFakeWorker()},s=()=>{this._webWorker||r()};t.addEventListener("error",s),i.on("test",a=>{if(t.removeEventListener("error",s),this.destroyed){r();return}a?(this._messageHandler=i,this._port=t,this._webWorker=t,this._readyCapability.resolve(),i.send("configure",{verbosity:this.verbosity})):(this._setupFakeWorker(),i.destroy(),t.terminate())}),i.on("ready",a=>{if(t.removeEventListener("error",s),this.destroyed){r();return}try{o()}catch{this._setupFakeWorker()}});const o=()=>{const a=new Uint8Array;i.send("test",a,[a.buffer])};o();return}catch{lm("The worker has been disabled.")}}this._setupFakeWorker()}_setupFakeWorker(){Ui.isWorkerDisabled||(ee("Setting up fake worker."),Ui.isWorkerDisabled=!0),en._setupFakeWorkerGlobal.then(e=>{if(this.destroyed){this._readyCapability.reject(new Error("Worker was destroyed"));return}const t=new SF;this._port=t;const i=`fake${Ui.fakeWorkerId++}`,r=new bc(i+"_worker",i,t);e.setup(r,t);const s=new bc(i,i+"_worker",t);this._messageHandler=s,this._readyCapability.resolve(),s.send("configure",{verbosity:this.verbosity})}).catch(e=>{this._readyCapability.reject(new Error(`Setting up fake worker failed: "${e.message}".`))})}destroy(){var e;this.destroyed=!0,this._webWorker&&(this._webWorker.terminate(),this._webWorker=null),(e=c(en,ho))==null||e.delete(this._port),this._port=null,this._messageHandler&&(this._messageHandler.destroy(),this._messageHandler=null)}static fromPort(e){var i;if(!(e!=null&&e.port))throw new Error("PDFWorker.fromPort - invalid method signature.");const t=(i=c(this,ho))==null?void 0:i.get(e.port);if(t){if(t._pendingDestroy)throw new Error("PDFWorker.fromPort - the worker is being destroyed.\nPlease remember to await `PDFDocumentLoadingTask.destroy()`-calls.");return t}return new en(e)}static get workerSrc(){if(vr.workerSrc)return vr.workerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}static get _setupFakeWorkerGlobal(){return le(this,"_setupFakeWorkerGlobal",(async()=>c(this,sl,af)?c(this,sl,af):(await import(this.workerSrc)).WorkerMessageHandler)())}};ho=new WeakMap,sl=new WeakSet,af=function(){var e;try{return((e=globalThis.pdfjsWorker)==null?void 0:e.WorkerMessageHandler)||null}catch{return null}},S(en,sl),S(en,ho);let ja=en;var nr,gi,ol,al,vi,fo,Ec;class CF{constructor(e,t,i,r,s){S(this,fo);S(this,nr,new Map);S(this,gi,new Map);S(this,ol,new Map);S(this,al,new Map);S(this,vi,null);this.messageHandler=e,this.loadingTask=t,this.commonObjs=new c2,this.fontLoader=new AM({ownerDocument:r.ownerDocument,styleElement:r.styleElement}),this.loadingParams=r.loadingParams,this._params=r,this.canvasFactory=s.canvasFactory,this.filterFactory=s.filterFactory,this.cMapReaderFactory=s.cMapReaderFactory,this.standardFontDataFactory=s.standardFontDataFactory,this.destroyed=!1,this.destroyCapability=null,this._networkStream=i,this._fullReader=null,this._lastProgress=null,this.downloadInfoCapability=Promise.withResolvers(),this.setupMessageHandler()}get annotationStorage(){return le(this,"annotationStorage",new ly)}getRenderingIntent(e,t=$r.ENABLE,i=null,r=!1){let s=En.DISPLAY,o=Y0;switch(e){case"any":s=En.ANY;break;case"display":break;case"print":s=En.PRINT;break;default:ee(`getRenderingIntent - invalid intent: ${e}`)}switch(t){case $r.DISABLE:s+=En.ANNOTATIONS_DISABLE;break;case $r.ENABLE:break;case $r.ENABLE_FORMS:s+=En.ANNOTATIONS_FORMS;break;case $r.ENABLE_STORAGE:s+=En.ANNOTATIONS_STORAGE,o=(s&En.PRINT&&i instanceof XS?i:this.annotationStorage).serializable;break;default:ee(`getRenderingIntent - invalid annotationMode: ${t}`)}return r&&(s+=En.OPLIST),{renderingIntent:s,cacheKey:`${s}_${o.hash}`,annotationStorageSerializable:o}}destroy(){var i;if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=Promise.withResolvers(),(i=c(this,vi))==null||i.reject(new Error("Worker was destroyed during onPassword callback"));const e=[];for(const r of c(this,gi).values())e.push(r._destroy());c(this,gi).clear(),c(this,ol).clear(),c(this,al).clear(),this.hasOwnProperty("annotationStorage")&&this.annotationStorage.resetModified();const t=this.messageHandler.sendWithPromise("Terminate",null);return e.push(t),Promise.all(e).then(()=>{var r;this.commonObjs.clear(),this.fontLoader.clear(),c(this,nr).clear(),this.filterFactory.destroy(),Hl.cleanup(),(r=this._networkStream)==null||r.cancelAllRequests(new aa("Worker was terminated.")),this.messageHandler&&(this.messageHandler.destroy(),this.messageHandler=null),this.destroyCapability.resolve()},this.destroyCapability.reject),this.destroyCapability.promise}setupMessageHandler(){const{messageHandler:e,loadingTask:t}=this;e.on("GetReader",(i,r)=>{Qe(this._networkStream,"GetReader - no `IPDFStream` instance available."),this._fullReader=this._networkStream.getFullReader(),this._fullReader.onProgress=s=>{this._lastProgress={loaded:s.loaded,total:s.total}},r.onPull=()=>{this._fullReader.read().then(function({value:s,done:o}){if(o){r.close();return}Qe(s instanceof ArrayBuffer,"GetReader - expected an ArrayBuffer."),r.enqueue(new Uint8Array(s),1,[s])}).catch(s=>{r.error(s)})},r.onCancel=s=>{this._fullReader.cancel(s),r.ready.catch(o=>{if(!this.destroyed)throw o})}}),e.on("ReaderHeadersReady",i=>{const r=Promise.withResolvers(),s=this._fullReader;return s.headersReady.then(()=>{var o;(!s.isStreamingSupported||!s.isRangeSupported)&&(this._lastProgress&&((o=t.onProgress)==null||o.call(t,this._lastProgress)),s.onProgress=a=>{var l;(l=t.onProgress)==null||l.call(t,{loaded:a.loaded,total:a.total})}),r.resolve({isStreamingSupported:s.isStreamingSupported,isRangeSupported:s.isRangeSupported,contentLength:s.contentLength})},r.reject),r.promise}),e.on("GetRangeReader",(i,r)=>{Qe(this._networkStream,"GetRangeReader - no `IPDFStream` instance available.");const s=this._networkStream.getRangeReader(i.begin,i.end);if(!s){r.close();return}r.onPull=()=>{s.read().then(function({value:o,done:a}){if(a){r.close();return}Qe(o instanceof ArrayBuffer,"GetRangeReader - expected an ArrayBuffer."),r.enqueue(new Uint8Array(o),1,[o])}).catch(o=>{r.error(o)})},r.onCancel=o=>{s.cancel(o),r.ready.catch(a=>{if(!this.destroyed)throw a})}}),e.on("GetDoc",({pdfInfo:i})=>{this._numPages=i.numPages,this._htmlForXfa=i.htmlForXfa,delete i.htmlForXfa,t._capability.resolve(new EF(i,this))}),e.on("DocException",function(i){let r;switch(i.name){case"PasswordException":r=new C0(i.message,i.code);break;case"InvalidPDFException":r=new gS(i.message);break;case"MissingPDFException":r=new oa(i.message);break;case"UnexpectedResponseException":r=new cm(i.message,i.status);break;case"UnknownErrorException":r=new _0(i.message,i.details);break;default:ye("DocException - expected a valid Error.")}t._capability.reject(r)}),e.on("PasswordRequest",i=>{if(E(this,vi,Promise.withResolvers()),t.onPassword){const r=s=>{s instanceof Error?c(this,vi).reject(s):c(this,vi).resolve({password:s})};try{t.onPassword(r,i.code)}catch(s){c(this,vi).reject(s)}}else c(this,vi).reject(new C0(i.message,i.code));return c(this,vi).promise}),e.on("DataLoaded",i=>{var r;(r=t.onProgress)==null||r.call(t,{loaded:i.length,total:i.length}),this.downloadInfoCapability.resolve(i)}),e.on("StartRenderPage",i=>{if(this.destroyed)return;c(this,gi).get(i.pageIndex)._startRenderPage(i.transparency,i.cacheKey)}),e.on("commonobj",([i,r,s])=>{var o;if(this.destroyed||this.commonObjs.has(i))return null;switch(r){case"Font":const{disableFontFace:a,fontExtraProperties:l,pdfBug:u}=this._params;if("error"in s){const p=s.error;ee(`Error during font loading: ${p}`),this.commonObjs.resolve(i,p);break}const d=u&&((o=globalThis.FontInspector)!=null&&o.enabled)?(p,m)=>globalThis.FontInspector.fontAdded(p,m):null,h=new SM(s,{disableFontFace:a,inspectFont:d});this.fontLoader.bind(h).catch(()=>e.sendWithPromise("FontFallback",{id:i})).finally(()=>{!l&&h.data&&(h.data=null),this.commonObjs.resolve(i,h)});break;case"CopyLocalImage":const{imageRef:f}=s;Qe(f,"The imageRef must be defined.");for(const p of c(this,gi).values())for(const[,m]of p.objs)if((m==null?void 0:m.ref)===f)return m.dataLen?(this.commonObjs.resolve(i,structuredClone(m)),m.dataLen):null;break;case"FontPath":case"Image":case"Pattern":this.commonObjs.resolve(i,s);break;default:throw new Error(`Got unknown common object type ${r}`)}return null}),e.on("obj",([i,r,s,o])=>{var l;if(this.destroyed)return;const a=c(this,gi).get(r);if(!a.objs.has(i)){if(a._intentStates.size===0){(l=o==null?void 0:o.bitmap)==null||l.close();return}switch(s){case"Image":a.objs.resolve(i,o),(o==null?void 0:o.dataLen)>QN&&(a._maybeCleanupAfterRender=!0);break;case"Pattern":a.objs.resolve(i,o);break;default:throw new Error(`Got unknown object type ${s}`)}}}),e.on("DocProgress",i=>{var r;this.destroyed||(r=t.onProgress)==null||r.call(t,{loaded:i.loaded,total:i.total})}),e.on("FetchBuiltInCMap",i=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.cMapReaderFactory?this.cMapReaderFactory.fetch(i):Promise.reject(new Error("CMapReaderFactory not initialized, see the `useWorkerFetch` parameter."))),e.on("FetchStandardFontData",i=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.standardFontDataFactory?this.standardFontDataFactory.fetch(i):Promise.reject(new Error("StandardFontDataFactory not initialized, see the `useWorkerFetch` parameter.")))}getData(){return this.messageHandler.sendWithPromise("GetData",null)}saveDocument(){var i;this.annotationStorage.size<=0&&ee("saveDocument called while `annotationStorage` is empty, please use the getData-method instead.");const{map:e,transfer:t}=this.annotationStorage.serializable;return this.messageHandler.sendWithPromise("SaveDocument",{isPureXfa:!!this._htmlForXfa,numPages:this._numPages,annotationStorage:e,filename:((i=this._fullReader)==null?void 0:i.filename)??null},t).finally(()=>{this.annotationStorage.resetModified()})}getPage(e){if(!Number.isInteger(e)||e<=0||e>this._numPages)return Promise.reject(new Error("Invalid page request."));const t=e-1,i=c(this,ol).get(t);if(i)return i;const r=this.messageHandler.sendWithPromise("GetPage",{pageIndex:t}).then(s=>{if(this.destroyed)throw new Error("Transport destroyed");s.refStr&&c(this,al).set(s.refStr,e);const o=new AF(t,s,this,this._params.pdfBug);return c(this,gi).set(t,o),o});return c(this,ol).set(t,r),r}getPageIndex(e){return Nw(e)?this.messageHandler.sendWithPromise("GetPageIndex",{num:e.num,gen:e.gen}):Promise.reject(new Error("Invalid pageIndex request."))}getAnnotations(e,t){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:e,intent:t})}getFieldObjects(){return A(this,fo,Ec).call(this,"GetFieldObjects")}hasJSActions(){return A(this,fo,Ec).call(this,"HasJSActions")}getCalculationOrderIds(){return this.messageHandler.sendWithPromise("GetCalculationOrderIds",null)}getDestinations(){return this.messageHandler.sendWithPromise("GetDestinations",null)}getDestination(e){return typeof e!="string"?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:e})}getPageLabels(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}getPageLayout(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}getPageMode(){return this.messageHandler.sendWithPromise("GetPageMode",null)}getViewerPreferences(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}getOpenAction(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}getAttachments(){return this.messageHandler.sendWithPromise("GetAttachments",null)}getDocJSActions(){return A(this,fo,Ec).call(this,"GetDocJSActions")}getPageJSActions(e){return this.messageHandler.sendWithPromise("GetPageJSActions",{pageIndex:e})}getStructTree(e){return this.messageHandler.sendWithPromise("GetStructTree",{pageIndex:e})}getOutline(){return this.messageHandler.sendWithPromise("GetOutline",null)}getOptionalContentConfig(e){return A(this,fo,Ec).call(this,"GetOptionalContentConfig").then(t=>new VM(t,e))}getPermissions(){return this.messageHandler.sendWithPromise("GetPermissions",null)}getMetadata(){const e="GetMetadata",t=c(this,nr).get(e);if(t)return t;const i=this.messageHandler.sendWithPromise(e,null).then(r=>{var s,o;return{info:r[0],metadata:r[1]?new zM(r[1]):null,contentDispositionFilename:((s=this._fullReader)==null?void 0:s.filename)??null,contentLength:((o=this._fullReader)==null?void 0:o.contentLength)??null}});return c(this,nr).set(e,i),i}getMarkInfo(){return this.messageHandler.sendWithPromise("GetMarkInfo",null)}async startCleanup(e=!1){if(!this.destroyed){await this.messageHandler.sendWithPromise("Cleanup",null);for(const t of c(this,gi).values())if(!t.cleanup())throw new Error(`startCleanup: Page ${t.pageNumber} is currently rendering.`);this.commonObjs.clear(),e||this.fontLoader.clear(),c(this,nr).clear(),this.filterFactory.destroy(!0),Hl.cleanup()}}cachedPageNumber(e){if(!Nw(e))return null;const t=e.gen===0?`${e.num}R`:`${e.num}R${e.gen}`;return c(this,al).get(t)??null}}nr=new WeakMap,gi=new WeakMap,ol=new WeakMap,al=new WeakMap,vi=new WeakMap,fo=new WeakSet,Ec=function(e,t=null){const i=c(this,nr).get(e);if(i)return i;const r=this.messageHandler.sendWithPromise(e,t);return c(this,nr).set(e,r),r};const Mh=Symbol("INITIAL_DATA");var Wn,id,sv;class c2{constructor(){S(this,id);S(this,Wn,Object.create(null))}get(e,t=null){if(t){const r=A(this,id,sv).call(this,e);return r.promise.then(()=>t(r.data)),null}const i=c(this,Wn)[e];if(!i||i.data===Mh)throw new Error(`Requesting object that isn't resolved yet ${e}.`);return i.data}has(e){const t=c(this,Wn)[e];return!!t&&t.data!==Mh}resolve(e,t=null){const i=A(this,id,sv).call(this,e);i.data=t,i.resolve()}clear(){var e;for(const t in c(this,Wn)){const{data:i}=c(this,Wn)[t];(e=i==null?void 0:i.bitmap)==null||e.close()}E(this,Wn,Object.create(null))}*[Symbol.iterator](){for(const e in c(this,Wn)){const{data:t}=c(this,Wn)[e];t!==Mh&&(yield[e,t])}}}Wn=new WeakMap,id=new WeakSet,sv=function(e){var t;return(t=c(this,Wn))[e]||(t[e]={...Promise.withResolvers(),data:Mh})};var Kr;class _F{constructor(e){S(this,Kr,null);E(this,Kr,e),this.onContinue=null}get promise(){return c(this,Kr).capability.promise}cancel(e=0){c(this,Kr).cancel(null,e)}get separateAnnots(){const{separateAnnots:e}=c(this,Kr).operatorList;if(!e)return!1;const{annotationCanvasMap:t}=c(this,Kr);return e.form||e.canvas&&(t==null?void 0:t.size)>0}}Kr=new WeakMap;var po;const Os=class Os{constructor({callback:e,params:t,objs:i,commonObjs:r,annotationCanvasMap:s,operatorList:o,pageIndex:a,canvasFactory:l,filterFactory:u,useRequestAnimationFrame:d=!1,pdfBug:h=!1,pageColors:f=null}){this.callback=e,this.params=t,this.objs=i,this.commonObjs=r,this.annotationCanvasMap=s,this.operatorListIdx=null,this.operatorList=o,this._pageIndex=a,this.canvasFactory=l,this.filterFactory=u,this._pdfBug=h,this.pageColors=f,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=d===!0&&typeof window<"u",this.cancelled=!1,this.capability=Promise.withResolvers(),this.task=new _F(this),this._cancelBound=this.cancel.bind(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=t.canvasContext.canvas}get completed(){return this.capability.promise.catch(function(){})}initializeGraphics({transparency:e=!1,optionalContentConfig:t}){var a,l;if(this.cancelled)return;if(this._canvas){if(c(Os,po).has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");c(Os,po).add(this._canvas)}this._pdfBug&&((a=globalThis.StepperManager)!=null&&a.enabled)&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());const{canvasContext:i,viewport:r,transform:s,background:o}=this.params;this.gfx=new Oa(i,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:t},this.annotationCanvasMap,this.pageColors),this.gfx.beginDrawing({transform:s,viewport:r,transparency:e,background:o}),this.operatorListIdx=0,this.graphicsReady=!0,(l=this.graphicsReadyCallback)==null||l.call(this)}cancel(e=null,t=0){var i;this.running=!1,this.cancelled=!0,(i=this.gfx)==null||i.endDrawing(),c(Os,po).delete(this._canvas),this.callback(e||new ry(`Rendering cancelled, page ${this._pageIndex+1}`,t))}operatorListChanged(){var e;if(!this.graphicsReady){this.graphicsReadyCallback||(this.graphicsReadyCallback=this._continueBound);return}(e=this.stepper)==null||e.updateOperatorList(this.operatorList),!this.running&&this._continue()}_continue(){this.running=!0,!this.cancelled&&(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}_scheduleNext(){this._useRequestAnimationFrame?window.requestAnimationFrame(()=>{this._nextBound().catch(this._cancelBound)}):Promise.resolve().then(this._nextBound).catch(this._cancelBound)}async _next(){this.cancelled||(this.operatorListIdx=this.gfx.executeOperatorList(this.operatorList,this.operatorListIdx,this._continueBound,this.stepper),this.operatorListIdx===this.operatorList.argsArray.length&&(this.running=!1,this.operatorList.lastChunk&&(this.gfx.endDrawing(),c(Os,po).delete(this._canvas),this.callback())))}};po=new WeakMap,S(Os,po,new WeakSet);let ov=Os;const kF="4.3.136",TF="0cec64437";function Mw(n){return Math.floor(Math.max(0,Math.min(1,n))*255).toString(16).padStart(2,"0")}function uc(n){return Math.max(0,Math.min(255,255*n))}class Fw{static CMYK_G([e,t,i,r]){return["G",1-Math.min(1,.3*e+.59*i+.11*t+r)]}static G_CMYK([e]){return["CMYK",0,0,0,1-e]}static G_RGB([e]){return["RGB",e,e,e]}static G_rgb([e]){return e=uc(e),[e,e,e]}static G_HTML([e]){const t=Mw(e);return`#${t}${t}${t}`}static RGB_G([e,t,i]){return["G",.3*e+.59*t+.11*i]}static RGB_rgb(e){return e.map(uc)}static RGB_HTML(e){return`#${e.map(Mw).join("")}`}static T_HTML(){return"#00000000"}static T_rgb(){return[null]}static CMYK_RGB([e,t,i,r]){return["RGB",1-Math.min(1,e+r),1-Math.min(1,i+r),1-Math.min(1,t+r)]}static CMYK_rgb([e,t,i,r]){return[uc(1-Math.min(1,e+r)),uc(1-Math.min(1,i+r)),uc(1-Math.min(1,t+r))]}static CMYK_HTML(e){const t=this.CMYK_RGB(e).slice(1);return this.RGB_HTML(t)}static RGB_CMYK([e,t,i]){const r=1-e,s=1-t,o=1-i,a=Math.min(r,s,o);return["CMYK",r,s,o,a]}}class u2{static setupStorage(e,t,i,r,s){const o=r.getValue(t,{value:null});switch(i.name){case"textarea":if(o.value!==null&&(e.textContent=o.value),s==="print")break;e.addEventListener("input",a=>{r.setValue(t,{value:a.target.value})});break;case"input":if(i.attributes.type==="radio"||i.attributes.type==="checkbox"){if(o.value===i.attributes.xfaOn?e.setAttribute("checked",!0):o.value===i.attributes.xfaOff&&e.removeAttribute("checked"),s==="print")break;e.addEventListener("change",a=>{r.setValue(t,{value:a.target.checked?a.target.getAttribute("xfaOn"):a.target.getAttribute("xfaOff")})})}else{if(o.value!==null&&e.setAttribute("value",o.value),s==="print")break;e.addEventListener("input",a=>{r.setValue(t,{value:a.target.value})})}break;case"select":if(o.value!==null){e.setAttribute("value",o.value);for(const a of i.children)a.attributes.value===o.value?a.attributes.selected=!0:a.attributes.hasOwnProperty("selected")&&delete a.attributes.selected}e.addEventListener("input",a=>{const l=a.target.options,u=l.selectedIndex===-1?"":l[l.selectedIndex].value;r.setValue(t,{value:u})});break}}static setAttributes({html:e,element:t,storage:i=null,intent:r,linkService:s}){const{attributes:o}=t,a=e instanceof HTMLAnchorElement;o.type==="radio"&&(o.name=`${o.name}-${r}`);for(const[l,u]of Object.entries(o))if(u!=null)switch(l){case"class":u.length&&e.setAttribute(l,u.join(" "));break;case"dataId":break;case"id":e.setAttribute("data-element-id",u);break;case"style":Object.assign(e.style,u);break;case"textContent":e.textContent=u;break;default:(!a||l!=="href"&&l!=="newWindow")&&e.setAttribute(l,u)}a&&s.addLinkAttributes(e,o.href,o.newWindow),i&&o.dataId&&this.setupStorage(e,o.dataId,t,i)}static render(e){var h,f;const t=e.annotationStorage,i=e.linkService,r=e.xfaHtml,s=e.intent||"display",o=document.createElement(r.name);r.attributes&&this.setAttributes({html:o,element:r,intent:s,linkService:i});const a=s!=="richText",l=e.div;if(l.append(o),e.viewport){const p=`matrix(${e.viewport.transform.join(",")})`;l.style.transform=p}a&&l.setAttribute("class","xfaLayer xfaFont");const u=[];if(r.children.length===0){if(r.value){const p=document.createTextNode(r.value);o.append(p),a&&hu.shouldBuildText(r.name)&&u.push(p)}return{textDivs:u}}const d=[[r,-1,o]];for(;d.length>0;){const[p,m,v]=d.at(-1);if(m+1===p.children.length){d.pop();continue}const b=p.children[++d.at(-1)[1]];if(b===null)continue;const{name:g}=b;if(g==="#text"){const x=document.createTextNode(b.value);u.push(x),v.append(x);continue}const y=(h=b==null?void 0:b.attributes)!=null&&h.xmlns?document.createElementNS(b.attributes.xmlns,g):document.createElement(g);if(v.append(y),b.attributes&&this.setAttributes({html:y,element:b,storage:t,intent:s,linkService:i}),((f=b.children)==null?void 0:f.length)>0)d.push([b,-1,y]);else if(b.value){const x=document.createTextNode(b.value);a&&hu.shouldBuildText(g)&&u.push(x),y.append(x)}}for(const p of l.querySelectorAll(".xfaNonInteractive input, .xfaNonInteractive textarea"))p.setAttribute("readOnly",!0);return{textDivs:u}}static update(e){const t=`matrix(${e.viewport.transform.join(",")})`;e.div.style.transform=t,e.div.hidden=!1}}const ch=1e3,RF=9,ta=new WeakSet;function yr(n){return{width:n[2]-n[0],height:n[3]-n[1]}}class PF{static create(e){switch(e.data.annotationType){case We.LINK:return new d2(e);case We.TEXT:return new LF(e);case We.WIDGET:switch(e.data.fieldType){case"Tx":return new NF(e);case"Btn":return e.data.radioButton?new p2(e):e.data.checkBox?new FF(e):new DF(e);case"Ch":return new IF(e);case"Sig":return new MF(e)}return new la(e);case We.POPUP:return new lv(e);case We.FREETEXT:return new x2(e);case We.LINE:return new jF(e);case We.SQUARE:return new $F(e);case We.CIRCLE:return new HF(e);case We.POLYLINE:return new w2(e);case We.CARET:return new zF(e);case We.INK:return new b2(e);case We.POLYGON:return new BF(e);case We.HIGHLIGHT:return new UF(e);case We.UNDERLINE:return new VF(e);case We.SQUIGGLY:return new WF(e);case We.STRIKEOUT:return new GF(e);case We.STAMP:return new E2(e);case We.FILEATTACHMENT:return new qF(e);default:return new Be(e)}}}var mo,ll,cl,rd,av;const fy=class fy{constructor(e,{isRenderable:t=!1,ignoreBorder:i=!1,createQuadrilaterals:r=!1}={}){S(this,rd);S(this,mo,null);S(this,ll,!1);S(this,cl,null);this.isRenderable=t,this.data=e.data,this.layer=e.layer,this.linkService=e.linkService,this.downloadManager=e.downloadManager,this.imageResourcesPath=e.imageResourcesPath,this.renderForms=e.renderForms,this.svgFactory=e.svgFactory,this.annotationStorage=e.annotationStorage,this.enableScripting=e.enableScripting,this.hasJSActions=e.hasJSActions,this._fieldObjects=e.fieldObjects,this.parent=e.parent,t&&(this.container=this._createContainer(i)),r&&this._createQuadrilaterals()}static _hasPopupData({titleObj:e,contentsObj:t,richText:i}){return!!(e!=null&&e.str||t!=null&&t.str||i!=null&&i.str)}get hasPopupData(){return fy._hasPopupData(this.data)}updateEdited(e){var i;if(!this.container)return;c(this,mo)||E(this,mo,{rect:this.data.rect.slice(0)});const{rect:t}=e;t&&A(this,rd,av).call(this,t),(i=c(this,cl))==null||i.popup.updateEdited(e)}resetEdited(){var e;c(this,mo)&&(A(this,rd,av).call(this,c(this,mo).rect),(e=c(this,cl))==null||e.popup.resetEdited(),E(this,mo,null))}_createContainer(e){const{data:t,parent:{page:i,viewport:r}}=this,s=document.createElement("section");s.setAttribute("data-annotation-id",t.id),this instanceof la||(s.tabIndex=ch);const{style:o}=s;if(o.zIndex=this.parent.zIndex++,t.popupRef&&s.setAttribute("aria-haspopup","dialog"),t.alternativeText&&(s.title=t.alternativeText),t.noRotate&&s.classList.add("norotate"),!t.rect||this instanceof lv){const{rotation:v}=t;return!t.hasOwnCanvas&&v!==0&&this.setRotation(v,s),s}const{width:a,height:l}=yr(t.rect);if(!e&&t.borderStyle.width>0){o.borderWidth=`${t.borderStyle.width}px`;const v=t.borderStyle.horizontalCornerRadius,b=t.borderStyle.verticalCornerRadius;if(v>0||b>0){const y=`calc(${v}px * var(--scale-factor)) / calc(${b}px * var(--scale-factor))`;o.borderRadius=y}else if(this instanceof p2){const y=`calc(${a}px * var(--scale-factor)) / calc(${l}px * var(--scale-factor))`;o.borderRadius=y}switch(t.borderStyle.style){case lc.SOLID:o.borderStyle="solid";break;case lc.DASHED:o.borderStyle="dashed";break;case lc.BEVELED:ee("Unimplemented border style: beveled");break;case lc.INSET:ee("Unimplemented border style: inset");break;case lc.UNDERLINE:o.borderBottomStyle="solid";break}const g=t.borderColor||null;g?(E(this,ll,!0),o.borderColor=V.makeHexColor(g[0]|0,g[1]|0,g[2]|0)):o.borderWidth=0}const u=V.normalizeRect([t.rect[0],i.view[3]-t.rect[1]+i.view[1],t.rect[2],i.view[3]-t.rect[3]+i.view[1]]),{pageWidth:d,pageHeight:h,pageX:f,pageY:p}=r.rawDims;o.left=`${100*(u[0]-f)/d}%`,o.top=`${100*(u[1]-p)/h}%`;const{rotation:m}=t;return t.hasOwnCanvas||m===0?(o.width=`${100*a/d}%`,o.height=`${100*l/h}%`):this.setRotation(m,s),s}setRotation(e,t=this.container){if(!this.data.rect)return;const{pageWidth:i,pageHeight:r}=this.parent.viewport.rawDims,{width:s,height:o}=yr(this.data.rect);let a,l;e%180===0?(a=100*s/i,l=100*o/r):(a=100*o/i,l=100*s/r),t.style.width=`${a}%`,t.style.height=`${l}%`,t.setAttribute("data-main-rotation",(360-e)%360)}get _commonActions(){const e=(t,i,r)=>{const s=r.detail[t],o=s[0],a=s.slice(1);r.target.style[i]=Fw[`${o}_HTML`](a),this.annotationStorage.setValue(this.data.id,{[i]:Fw[`${o}_rgb`](a)})};return le(this,"_commonActions",{display:t=>{const{display:i}=t.detail,r=i%2===1;this.container.style.visibility=r?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noView:r,noPrint:i===1||i===2})},print:t=>{this.annotationStorage.setValue(this.data.id,{noPrint:!t.detail.print})},hidden:t=>{const{hidden:i}=t.detail;this.container.style.visibility=i?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noPrint:i,noView:i})},focus:t=>{setTimeout(()=>t.target.focus({preventScroll:!1}),0)},userName:t=>{t.target.title=t.detail.userName},readonly:t=>{t.target.disabled=t.detail.readonly},required:t=>{this._setRequired(t.target,t.detail.required)},bgColor:t=>{e("bgColor","backgroundColor",t)},fillColor:t=>{e("fillColor","backgroundColor",t)},fgColor:t=>{e("fgColor","color",t)},textColor:t=>{e("textColor","color",t)},borderColor:t=>{e("borderColor","borderColor",t)},strokeColor:t=>{e("strokeColor","borderColor",t)},rotation:t=>{const i=t.detail.rotation;this.setRotation(i),this.annotationStorage.setValue(this.data.id,{rotation:i})}})}_dispatchEventFromSandbox(e,t){const i=this._commonActions;for(const r of Object.keys(t.detail)){const s=e[r]||i[r];s==null||s(t)}}_setDefaultPropertiesFromJS(e){if(!this.enableScripting)return;const t=this.annotationStorage.getRawValue(this.data.id);if(!t)return;const i=this._commonActions;for(const[r,s]of Object.entries(t)){const o=i[r];if(o){const a={detail:{[r]:s},target:e};o(a),delete t[r]}}}_createQuadrilaterals(){if(!this.container)return;const{quadPoints:e}=this.data;if(!e)return;const[t,i,r,s]=this.data.rect;if(e.length===1){const[,{x:v,y:b},{x:g,y}]=e[0];if(r===v&&s===b&&t===g&&i===y)return}const{style:o}=this.container;let a;if(c(this,ll)){const{borderColor:v,borderWidth:b}=o;o.borderWidth=0,a=["url('data:image/svg+xml;utf8,",'<svg xmlns="http://www.w3.org/2000/svg"',' preserveAspectRatio="none" viewBox="0 0 1 1">',`<g fill="transparent" stroke="${v}" stroke-width="${b}">`],this.container.classList.add("hasBorder")}const l=r-t,u=s-i,{svgFactory:d}=this,h=d.createElement("svg");h.classList.add("quadrilateralsContainer"),h.setAttribute("width",0),h.setAttribute("height",0);const f=d.createElement("defs");h.append(f);const p=d.createElement("clipPath"),m=`clippath_${this.data.id}`;p.setAttribute("id",m),p.setAttribute("clipPathUnits","objectBoundingBox"),f.append(p);for(const[,{x:v,y:b},{x:g,y}]of e){const x=d.createElement("rect"),_=(g-t)/l,k=(s-b)/u,T=(v-g)/l,R=(b-y)/u;x.setAttribute("x",_),x.setAttribute("y",k),x.setAttribute("width",T),x.setAttribute("height",R),p.append(x),a==null||a.push(`<rect vector-effect="non-scaling-stroke" x="${_}" y="${k}" width="${T}" height="${R}"/>`)}c(this,ll)&&(a.push("</g></svg>')"),o.backgroundImage=a.join("")),this.container.append(h),this.container.style.clipPath=`url(#${m})`}_createPopup(){const{container:e,data:t}=this;e.setAttribute("aria-haspopup","dialog");const i=E(this,cl,new lv({data:{color:t.color,titleObj:t.titleObj,modificationDate:t.modificationDate,contentsObj:t.contentsObj,richText:t.richText,parentRect:t.rect,borderStyle:0,id:`popup_${t.id}`,rotation:t.rotation},parent:this.parent,elements:[this]}));this.parent.div.append(i.render())}render(){ye("Abstract method `AnnotationElement.render` called")}_getElementsByName(e,t=null){const i=[];if(this._fieldObjects){const r=this._fieldObjects[e];if(r)for(const{page:s,id:o,exportValues:a}of r){if(s===-1||o===t)continue;const l=typeof a=="string"?a:null,u=document.querySelector(`[data-element-id="${o}"]`);if(u&&!ta.has(u)){ee(`_getElementsByName - element not allowed: ${o}`);continue}i.push({id:o,exportValue:l,domElement:u})}return i}for(const r of document.getElementsByName(e)){const{exportValue:s}=r,o=r.getAttribute("data-element-id");o!==t&&ta.has(r)&&i.push({id:o,exportValue:s,domElement:r})}return i}show(){var e;this.container&&(this.container.hidden=!1),(e=this.popup)==null||e.maybeShow()}hide(){var e;this.container&&(this.container.hidden=!0),(e=this.popup)==null||e.forceHide()}getElementsToTriggerPopup(){return this.container}addHighlightArea(){const e=this.getElementsToTriggerPopup();if(Array.isArray(e))for(const t of e)t.classList.add("highlightArea");else e.classList.add("highlightArea")}get _isEditable(){return!1}_editOnDoubleClick(){if(!this._isEditable)return;const{annotationEditorType:e,data:{id:t}}=this;this.container.addEventListener("dblclick",()=>{var i;(i=this.linkService.eventBus)==null||i.dispatch("switchannotationeditormode",{source:this,mode:e,editId:t})})}};mo=new WeakMap,ll=new WeakMap,cl=new WeakMap,rd=new WeakSet,av=function(e){const{container:{style:t},data:{rect:i,rotation:r},parent:{viewport:{rawDims:{pageWidth:s,pageHeight:o,pageX:a,pageY:l}}}}=this;i==null||i.splice(0,4,...e);const{width:u,height:d}=yr(e);t.left=`${100*(e[0]-a)/s}%`,t.top=`${100*(o-e[3]+l)/o}%`,r===0?(t.width=`${100*u/s}%`,t.height=`${100*d/o}%`):this.setRotation(r)};let Be=fy;var un,Ms,h2,f2;class d2 extends Be{constructor(t,i=null){super(t,{isRenderable:!0,ignoreBorder:!!(i!=null&&i.ignoreBorder),createQuadrilaterals:!0});S(this,un);this.isTooltipOnly=t.data.isTooltipOnly}render(){const{data:t,linkService:i}=this,r=document.createElement("a");r.setAttribute("data-element-id",t.id);let s=!1;return t.url?(i.addLinkAttributes(r,t.url,t.newWindow),s=!0):t.action?(this._bindNamedAction(r,t.action),s=!0):t.attachment?(A(this,un,h2).call(this,r,t.attachment,t.attachmentDest),s=!0):t.setOCGState?(A(this,un,f2).call(this,r,t.setOCGState),s=!0):t.dest?(this._bindLink(r,t.dest),s=!0):(t.actions&&(t.actions.Action||t.actions["Mouse Up"]||t.actions["Mouse Down"])&&this.enableScripting&&this.hasJSActions&&(this._bindJSAction(r,t),s=!0),t.resetForm?(this._bindResetFormAction(r,t.resetForm),s=!0):this.isTooltipOnly&&!s&&(this._bindLink(r,""),s=!0)),this.container.classList.add("linkAnnotation"),s&&this.container.append(r),this.container}_bindLink(t,i){t.href=this.linkService.getDestinationHash(i),t.onclick=()=>(i&&this.linkService.goToDestination(i),!1),(i||i==="")&&A(this,un,Ms).call(this)}_bindNamedAction(t,i){t.href=this.linkService.getAnchorUrl(""),t.onclick=()=>(this.linkService.executeNamedAction(i),!1),A(this,un,Ms).call(this)}_bindJSAction(t,i){t.href=this.linkService.getAnchorUrl("");const r=new Map([["Action","onclick"],["Mouse Up","onmouseup"],["Mouse Down","onmousedown"]]);for(const s of Object.keys(i.actions)){const o=r.get(s);o&&(t[o]=()=>{var a;return(a=this.linkService.eventBus)==null||a.dispatch("dispatcheventinsandbox",{source:this,detail:{id:i.id,name:s}}),!1})}t.onclick||(t.onclick=()=>!1),A(this,un,Ms).call(this)}_bindResetFormAction(t,i){const r=t.onclick;if(r||(t.href=this.linkService.getAnchorUrl("")),A(this,un,Ms).call(this),!this._fieldObjects){ee('_bindResetFormAction - "resetForm" action not supported, ensure that the `fieldObjects` parameter is provided.'),r||(t.onclick=()=>!1);return}t.onclick=()=>{var h;r==null||r();const{fields:s,refs:o,include:a}=i,l=[];if(s.length!==0||o.length!==0){const f=new Set(o);for(const p of s){const m=this._fieldObjects[p]||[];for(const{id:v}of m)f.add(v)}for(const p of Object.values(this._fieldObjects))for(const m of p)f.has(m.id)===a&&l.push(m)}else for(const f of Object.values(this._fieldObjects))l.push(...f);const u=this.annotationStorage,d=[];for(const f of l){const{id:p}=f;switch(d.push(p),f.type){case"text":{const v=f.defaultValue||"";u.setValue(p,{value:v});break}case"checkbox":case"radiobutton":{const v=f.defaultValue===f.exportValues;u.setValue(p,{value:v});break}case"combobox":case"listbox":{const v=f.defaultValue||"";u.setValue(p,{value:v});break}default:continue}const m=document.querySelector(`[data-element-id="${p}"]`);if(m){if(!ta.has(m)){ee(`_bindResetFormAction - element not allowed: ${p}`);continue}}else continue;m.dispatchEvent(new Event("resetform"))}return this.enableScripting&&((h=this.linkService.eventBus)==null||h.dispatch("dispatcheventinsandbox",{source:this,detail:{id:"app",ids:d,name:"ResetForm"}})),!1}}}un=new WeakSet,Ms=function(){this.container.setAttribute("data-internal-link","")},h2=function(t,i,r=null){t.href=this.linkService.getAnchorUrl(""),i.description&&(t.title=i.description),t.onclick=()=>{var s;return(s=this.downloadManager)==null||s.openOrDownloadData(i.content,i.filename,r),!1},A(this,un,Ms).call(this)},f2=function(t,i){t.href=this.linkService.getAnchorUrl(""),t.onclick=()=>(this.linkService.executeSetOCGState(i),!1),A(this,un,Ms).call(this)};class LF extends Be{constructor(e){super(e,{isRenderable:!0})}render(){this.container.classList.add("textAnnotation");const e=document.createElement("img");return e.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",e.setAttribute("data-l10n-id","pdfjs-text-annotation-type"),e.setAttribute("data-l10n-args",JSON.stringify({type:this.data.name})),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.append(e),this.container}}class la extends Be{render(){return this.container}showElementAndHideCanvas(e){var t;this.data.hasOwnCanvas&&(((t=e.previousSibling)==null?void 0:t.nodeName)==="CANVAS"&&(e.previousSibling.hidden=!0),e.hidden=!1)}_getKeyModifier(e){return Wt.platform.isMac?e.metaKey:e.ctrlKey}_setEventListener(e,t,i,r,s){i.includes("mouse")?e.addEventListener(i,o=>{var a;(a=this.linkService.eventBus)==null||a.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:r,value:s(o),shift:o.shiftKey,modifier:this._getKeyModifier(o)}})}):e.addEventListener(i,o=>{var a;if(i==="blur"){if(!t.focused||!o.relatedTarget)return;t.focused=!1}else if(i==="focus"){if(t.focused)return;t.focused=!0}s&&((a=this.linkService.eventBus)==null||a.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:r,value:s(o)}}))})}_setEventListeners(e,t,i,r){var s,o,a;for(const[l,u]of i)(u==="Action"||(s=this.data.actions)!=null&&s[u])&&((u==="Focus"||u==="Blur")&&(t||(t={focused:!1})),this._setEventListener(e,t,l,u,r),u==="Focus"&&!((o=this.data.actions)!=null&&o.Blur)?this._setEventListener(e,t,"blur","Blur",null):u==="Blur"&&!((a=this.data.actions)!=null&&a.Focus)&&this._setEventListener(e,t,"focus","Focus",null))}_setBackgroundColor(e){const t=this.data.backgroundColor||null;e.style.backgroundColor=t===null?"transparent":V.makeHexColor(t[0],t[1],t[2])}_setTextStyle(e){const t=["left","center","right"],{fontColor:i}=this.data.defaultAppearanceData,r=this.data.defaultAppearanceData.fontSize||RF,s=e.style;let o;const a=2,l=u=>Math.round(10*u)/10;if(this.data.multiLine){const u=Math.abs(this.data.rect[3]-this.data.rect[1]-a),d=Math.round(u/(sg*r))||1,h=u/d;o=Math.min(r,l(h/sg))}else{const u=Math.abs(this.data.rect[3]-this.data.rect[1]-a);o=Math.min(r,l(u/sg))}s.fontSize=`calc(${o}px * var(--scale-factor))`,s.color=V.makeHexColor(i[0],i[1],i[2]),this.data.textAlignment!==null&&(s.textAlign=t[this.data.textAlignment])}_setRequired(e,t){t?e.setAttribute("required",!0):e.removeAttribute("required"),e.setAttribute("aria-required",t)}}class NF extends la{constructor(e){const t=e.renderForms||e.data.hasOwnCanvas||!e.data.hasAppearance&&!!e.data.fieldValue;super(e,{isRenderable:t})}setPropertyOnSiblings(e,t,i,r){const s=this.annotationStorage;for(const o of this._getElementsByName(e.name,e.id))o.domElement&&(o.domElement[t]=i),s.setValue(o.id,{[r]:i})}render(){var r,s;const e=this.annotationStorage,t=this.data.id;this.container.classList.add("textWidgetAnnotation");let i=null;if(this.renderForms){const o=e.getValue(t,{value:this.data.fieldValue});let a=o.value||"";const l=e.getValue(t,{charLimit:this.data.maxLen}).charLimit;l&&a.length>l&&(a=a.slice(0,l));let u=o.formattedValue||((r=this.data.textContent)==null?void 0:r.join(`
`))||null;u&&this.data.comb&&(u=u.replaceAll(/\s+/g,""));const d={userValue:a,formattedValue:u,lastCommittedValue:null,commitKey:1,focused:!1};this.data.multiLine?(i=document.createElement("textarea"),i.textContent=u??a,this.data.doNotScroll&&(i.style.overflowY="hidden")):(i=document.createElement("input"),i.type="text",i.setAttribute("value",u??a),this.data.doNotScroll&&(i.style.overflowX="hidden")),this.data.hasOwnCanvas&&(i.hidden=!0),ta.add(i),i.setAttribute("data-element-id",t),i.disabled=this.data.readOnly,i.name=this.data.fieldName,i.tabIndex=ch,this._setRequired(i,this.data.required),l&&(i.maxLength=l),i.addEventListener("input",f=>{e.setValue(t,{value:f.target.value}),this.setPropertyOnSiblings(i,"value",f.target.value,"value"),d.formattedValue=null}),i.addEventListener("resetform",f=>{const p=this.data.defaultFieldValue??"";i.value=d.userValue=p,d.formattedValue=null});let h=f=>{const{formattedValue:p}=d;p!=null&&(f.target.value=p),f.target.scrollLeft=0};if(this.enableScripting&&this.hasJSActions){i.addEventListener("focus",p=>{var v;if(d.focused)return;const{target:m}=p;d.userValue&&(m.value=d.userValue),d.lastCommittedValue=m.value,d.commitKey=1,(v=this.data.actions)!=null&&v.Focus||(d.focused=!0)}),i.addEventListener("updatefromsandbox",p=>{this.showElementAndHideCanvas(p.target);const m={value(v){d.userValue=v.detail.value??"",e.setValue(t,{value:d.userValue.toString()}),v.target.value=d.userValue},formattedValue(v){const{formattedValue:b}=v.detail;d.formattedValue=b,b!=null&&v.target!==document.activeElement&&(v.target.value=b),e.setValue(t,{formattedValue:b})},selRange(v){v.target.setSelectionRange(...v.detail.selRange)},charLimit:v=>{var x;const{charLimit:b}=v.detail,{target:g}=v;if(b===0){g.removeAttribute("maxLength");return}g.setAttribute("maxLength",b);let y=d.userValue;!y||y.length<=b||(y=y.slice(0,b),g.value=d.userValue=y,e.setValue(t,{value:y}),(x=this.linkService.eventBus)==null||x.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:y,willCommit:!0,commitKey:1,selStart:g.selectionStart,selEnd:g.selectionEnd}}))}};this._dispatchEventFromSandbox(m,p)}),i.addEventListener("keydown",p=>{var b;d.commitKey=1;let m=-1;if(p.key==="Escape"?m=0:p.key==="Enter"&&!this.data.multiLine?m=2:p.key==="Tab"&&(d.commitKey=3),m===-1)return;const{value:v}=p.target;d.lastCommittedValue!==v&&(d.lastCommittedValue=v,d.userValue=v,(b=this.linkService.eventBus)==null||b.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:v,willCommit:!0,commitKey:m,selStart:p.target.selectionStart,selEnd:p.target.selectionEnd}}))});const f=h;h=null,i.addEventListener("blur",p=>{var v,b;if(!d.focused||!p.relatedTarget)return;(v=this.data.actions)!=null&&v.Blur||(d.focused=!1);const{value:m}=p.target;d.userValue=m,d.lastCommittedValue!==m&&((b=this.linkService.eventBus)==null||b.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:m,willCommit:!0,commitKey:d.commitKey,selStart:p.target.selectionStart,selEnd:p.target.selectionEnd}})),f(p)}),(s=this.data.actions)!=null&&s.Keystroke&&i.addEventListener("beforeinput",p=>{var k;d.lastCommittedValue=null;const{data:m,target:v}=p,{value:b,selectionStart:g,selectionEnd:y}=v;let x=g,_=y;switch(p.inputType){case"deleteWordBackward":{const T=b.substring(0,g).match(/\w*[^\w]*$/);T&&(x-=T[0].length);break}case"deleteWordForward":{const T=b.substring(g).match(/^[^\w]*\w*/);T&&(_+=T[0].length);break}case"deleteContentBackward":g===y&&(x-=1);break;case"deleteContentForward":g===y&&(_+=1);break}p.preventDefault(),(k=this.linkService.eventBus)==null||k.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:b,change:m||"",willCommit:!1,selStart:x,selEnd:_}})}),this._setEventListeners(i,d,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],p=>p.target.value)}if(h&&i.addEventListener("blur",h),this.data.comb){const p=(this.data.rect[2]-this.data.rect[0])/l;i.classList.add("comb"),i.style.letterSpacing=`calc(${p}px * var(--scale-factor) - 1ch)`}}else i=document.createElement("div"),i.textContent=this.data.fieldValue,i.style.verticalAlign="middle",i.style.display="table-cell",this.data.hasOwnCanvas&&(i.hidden=!0);return this._setTextStyle(i),this._setBackgroundColor(i),this._setDefaultPropertiesFromJS(i),this.container.append(i),this.container}}class MF extends la{constructor(e){super(e,{isRenderable:!!e.data.hasOwnCanvas})}}class FF extends la{constructor(e){super(e,{isRenderable:e.renderForms})}render(){const e=this.annotationStorage,t=this.data,i=t.id;let r=e.getValue(i,{value:t.exportValue===t.fieldValue}).value;typeof r=="string"&&(r=r!=="Off",e.setValue(i,{value:r})),this.container.classList.add("buttonWidgetAnnotation","checkBox");const s=document.createElement("input");return ta.add(s),s.setAttribute("data-element-id",i),s.disabled=t.readOnly,this._setRequired(s,this.data.required),s.type="checkbox",s.name=t.fieldName,r&&s.setAttribute("checked",!0),s.setAttribute("exportValue",t.exportValue),s.tabIndex=ch,s.addEventListener("change",o=>{const{name:a,checked:l}=o.target;for(const u of this._getElementsByName(a,i)){const d=l&&u.exportValue===t.exportValue;u.domElement&&(u.domElement.checked=d),e.setValue(u.id,{value:d})}e.setValue(i,{value:l})}),s.addEventListener("resetform",o=>{const a=t.defaultFieldValue||"Off";o.target.checked=a===t.exportValue}),this.enableScripting&&this.hasJSActions&&(s.addEventListener("updatefromsandbox",o=>{const a={value(l){l.target.checked=l.detail.value!=="Off",e.setValue(i,{value:l.target.checked})}};this._dispatchEventFromSandbox(a,o)}),this._setEventListeners(s,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],o=>o.target.checked)),this._setBackgroundColor(s),this._setDefaultPropertiesFromJS(s),this.container.append(s),this.container}}class p2 extends la{constructor(e){super(e,{isRenderable:e.renderForms})}render(){this.container.classList.add("buttonWidgetAnnotation","radioButton");const e=this.annotationStorage,t=this.data,i=t.id;let r=e.getValue(i,{value:t.fieldValue===t.buttonValue}).value;if(typeof r=="string"&&(r=r!==t.buttonValue,e.setValue(i,{value:r})),r)for(const o of this._getElementsByName(t.fieldName,i))e.setValue(o.id,{value:!1});const s=document.createElement("input");if(ta.add(s),s.setAttribute("data-element-id",i),s.disabled=t.readOnly,this._setRequired(s,this.data.required),s.type="radio",s.name=t.fieldName,r&&s.setAttribute("checked",!0),s.tabIndex=ch,s.addEventListener("change",o=>{const{name:a,checked:l}=o.target;for(const u of this._getElementsByName(a,i))e.setValue(u.id,{value:!1});e.setValue(i,{value:l})}),s.addEventListener("resetform",o=>{const a=t.defaultFieldValue;o.target.checked=a!=null&&a===t.buttonValue}),this.enableScripting&&this.hasJSActions){const o=t.buttonValue;s.addEventListener("updatefromsandbox",a=>{const l={value:u=>{const d=o===u.detail.value;for(const h of this._getElementsByName(u.target.name)){const f=d&&h.id===i;h.domElement&&(h.domElement.checked=f),e.setValue(h.id,{value:f})}}};this._dispatchEventFromSandbox(l,a)}),this._setEventListeners(s,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],a=>a.target.checked)}return this._setBackgroundColor(s),this._setDefaultPropertiesFromJS(s),this.container.append(s),this.container}}class DF extends d2{constructor(e){super(e,{ignoreBorder:e.data.hasAppearance})}render(){const e=super.render();e.classList.add("buttonWidgetAnnotation","pushButton");const t=e.lastChild;return this.enableScripting&&this.hasJSActions&&t&&(this._setDefaultPropertiesFromJS(t),t.addEventListener("updatefromsandbox",i=>{this._dispatchEventFromSandbox({},i)})),e}}class IF extends la{constructor(e){super(e,{isRenderable:e.renderForms})}render(){this.container.classList.add("choiceWidgetAnnotation");const e=this.annotationStorage,t=this.data.id,i=e.getValue(t,{value:this.data.fieldValue}),r=document.createElement("select");ta.add(r),r.setAttribute("data-element-id",t),r.disabled=this.data.readOnly,this._setRequired(r,this.data.required),r.name=this.data.fieldName,r.tabIndex=ch;let s=this.data.combo&&this.data.options.length>0;this.data.combo||(r.size=this.data.options.length,this.data.multiSelect&&(r.multiple=!0)),r.addEventListener("resetform",d=>{const h=this.data.defaultFieldValue;for(const f of r.options)f.selected=f.value===h});for(const d of this.data.options){const h=document.createElement("option");h.textContent=d.displayValue,h.value=d.exportValue,i.value.includes(d.exportValue)&&(h.setAttribute("selected",!0),s=!1),r.append(h)}let o=null;if(s){const d=document.createElement("option");d.value=" ",d.setAttribute("hidden",!0),d.setAttribute("selected",!0),r.prepend(d),o=()=>{d.remove(),r.removeEventListener("input",o),o=null},r.addEventListener("input",o)}const a=d=>{const h=d?"value":"textContent",{options:f,multiple:p}=r;return p?Array.prototype.filter.call(f,m=>m.selected).map(m=>m[h]):f.selectedIndex===-1?null:f[f.selectedIndex][h]};let l=a(!1);const u=d=>{const h=d.target.options;return Array.prototype.map.call(h,f=>({displayValue:f.textContent,exportValue:f.value}))};return this.enableScripting&&this.hasJSActions?(r.addEventListener("updatefromsandbox",d=>{const h={value(f){o==null||o();const p=f.detail.value,m=new Set(Array.isArray(p)?p:[p]);for(const v of r.options)v.selected=m.has(v.value);e.setValue(t,{value:a(!0)}),l=a(!1)},multipleSelection(f){r.multiple=!0},remove(f){const p=r.options,m=f.detail.remove;p[m].selected=!1,r.remove(m),p.length>0&&Array.prototype.findIndex.call(p,b=>b.selected)===-1&&(p[0].selected=!0),e.setValue(t,{value:a(!0),items:u(f)}),l=a(!1)},clear(f){for(;r.length!==0;)r.remove(0);e.setValue(t,{value:null,items:[]}),l=a(!1)},insert(f){const{index:p,displayValue:m,exportValue:v}=f.detail.insert,b=r.children[p],g=document.createElement("option");g.textContent=m,g.value=v,b?b.before(g):r.append(g),e.setValue(t,{value:a(!0),items:u(f)}),l=a(!1)},items(f){const{items:p}=f.detail;for(;r.length!==0;)r.remove(0);for(const m of p){const{displayValue:v,exportValue:b}=m,g=document.createElement("option");g.textContent=v,g.value=b,r.append(g)}r.options.length>0&&(r.options[0].selected=!0),e.setValue(t,{value:a(!0),items:u(f)}),l=a(!1)},indices(f){const p=new Set(f.detail.indices);for(const m of f.target.options)m.selected=p.has(m.index);e.setValue(t,{value:a(!0)}),l=a(!1)},editable(f){f.target.disabled=!f.detail.editable}};this._dispatchEventFromSandbox(h,d)}),r.addEventListener("input",d=>{var p;const h=a(!0),f=a(!1);e.setValue(t,{value:h}),d.preventDefault(),(p=this.linkService.eventBus)==null||p.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:l,change:f,changeEx:h,willCommit:!1,commitKey:1,keyDown:!1}})}),this._setEventListeners(r,null,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"],["input","Action"],["input","Validate"]],d=>d.target.value)):r.addEventListener("input",function(d){e.setValue(t,{value:a(!0)})}),this.data.combo&&this._setTextStyle(r),this._setBackgroundColor(r),this._setDefaultPropertiesFromJS(r),this.container.append(r),this.container}}class lv extends Be{constructor(e){const{data:t,elements:i}=e;super(e,{isRenderable:Be._hasPopupData(t)}),this.elements=i,this.popup=null}render(){this.container.classList.add("popupAnnotation");const e=this.popup=new OF({container:this.container,color:this.data.color,titleObj:this.data.titleObj,modificationDate:this.data.modificationDate,contentsObj:this.data.contentsObj,richText:this.data.richText,rect:this.data.rect,parentRect:this.data.parentRect||null,parent:this.parent,elements:this.elements,open:this.data.open}),t=[];for(const i of this.elements)i.popup=e,t.push(i.data.id),i.addHighlightArea();return this.container.setAttribute("aria-controls",t.map(i=>`${yS}${i}`).join(",")),this.container}}var ul,Cp,_p,dl,go,Ie,ir,vo,sd,od,hl,rr,Gn,sr,ad,or,ld,yo,xo,xe,lf,cv,m2,g2,v2,y2,cf,uf,uv;class OF{constructor({container:e,color:t,elements:i,titleObj:r,modificationDate:s,contentsObj:o,richText:a,parent:l,rect:u,parentRect:d,open:h}){S(this,xe);S(this,ul,A(this,xe,v2).bind(this));S(this,Cp,A(this,xe,uv).bind(this));S(this,_p,A(this,xe,uf).bind(this));S(this,dl,A(this,xe,cf).bind(this));S(this,go,null);S(this,Ie,null);S(this,ir,null);S(this,vo,null);S(this,sd,null);S(this,od,null);S(this,hl,null);S(this,rr,!1);S(this,Gn,null);S(this,sr,null);S(this,ad,null);S(this,or,null);S(this,ld,null);S(this,yo,null);S(this,xo,!1);var f;E(this,Ie,e),E(this,ld,r),E(this,ir,o),E(this,or,a),E(this,od,l),E(this,go,t),E(this,ad,u),E(this,hl,d),E(this,sd,i),E(this,vo,AS.toDateObject(s)),this.trigger=i.flatMap(p=>p.getElementsToTriggerPopup());for(const p of this.trigger)p.addEventListener("click",c(this,dl)),p.addEventListener("mouseenter",c(this,_p)),p.addEventListener("mouseleave",c(this,Cp)),p.classList.add("popupTriggerArea");for(const p of i)(f=p.container)==null||f.addEventListener("keydown",c(this,ul));c(this,Ie).hidden=!0,h&&A(this,xe,cf).call(this)}render(){if(c(this,Gn))return;const e=E(this,Gn,document.createElement("div"));if(e.className="popup",c(this,go)){const s=e.style.outlineColor=V.makeHexColor(...c(this,go));CSS.supports("background-color","color-mix(in srgb, red 30%, white)")?e.style.backgroundColor=`color-mix(in srgb, ${s} 30%, white)`:e.style.backgroundColor=V.makeHexColor(...c(this,go).map(a=>Math.floor(.7*(255-a)+a)))}const t=document.createElement("span");t.className="header";const i=document.createElement("h1");if(t.append(i),{dir:i.dir,str:i.textContent}=c(this,ld),e.append(t),c(this,vo)){const s=document.createElement("span");s.classList.add("popupDate"),s.setAttribute("data-l10n-id","pdfjs-annotation-date-string"),s.setAttribute("data-l10n-args",JSON.stringify({date:c(this,vo).toLocaleDateString(),time:c(this,vo).toLocaleTimeString()})),t.append(s)}const r=c(this,xe,lf);if(r)u2.render({xfaHtml:r,intent:"richText",div:e}),e.lastChild.classList.add("richText","popupContent");else{const s=this._formatContents(c(this,ir));e.append(s)}c(this,Ie).append(e)}_formatContents({str:e,dir:t}){const i=document.createElement("p");i.classList.add("popupContent"),i.dir=t;const r=e.split(/(?:\r\n?|\n)/);for(let s=0,o=r.length;s<o;++s){const a=r[s];i.append(document.createTextNode(a)),s<o-1&&i.append(document.createElement("br"))}return i}updateEdited({rect:e,popupContent:t}){var i;c(this,yo)||E(this,yo,{contentsObj:c(this,ir),richText:c(this,or)}),e&&E(this,sr,null),t&&(E(this,or,A(this,xe,g2).call(this,t)),E(this,ir,null)),(i=c(this,Gn))==null||i.remove(),E(this,Gn,null)}resetEdited(){var e;c(this,yo)&&({contentsObj:Zt(this,ir)._,richText:Zt(this,or)._}=c(this,yo),E(this,yo,null),(e=c(this,Gn))==null||e.remove(),E(this,Gn,null),E(this,sr,null))}forceHide(){E(this,xo,this.isVisible),c(this,xo)&&(c(this,Ie).hidden=!0)}maybeShow(){c(this,xo)&&(c(this,Gn)||A(this,xe,uf).call(this),E(this,xo,!1),c(this,Ie).hidden=!1)}get isVisible(){return c(this,Ie).hidden===!1}}ul=new WeakMap,Cp=new WeakMap,_p=new WeakMap,dl=new WeakMap,go=new WeakMap,Ie=new WeakMap,ir=new WeakMap,vo=new WeakMap,sd=new WeakMap,od=new WeakMap,hl=new WeakMap,rr=new WeakMap,Gn=new WeakMap,sr=new WeakMap,ad=new WeakMap,or=new WeakMap,ld=new WeakMap,yo=new WeakMap,xo=new WeakMap,xe=new WeakSet,lf=function(){const e=c(this,or),t=c(this,ir);return e!=null&&e.str&&(!(t!=null&&t.str)||t.str===e.str)&&c(this,or).html||null},cv=function(){var e,t,i;return((i=(t=(e=c(this,xe,lf))==null?void 0:e.attributes)==null?void 0:t.style)==null?void 0:i.fontSize)||0},m2=function(){var e,t,i;return((i=(t=(e=c(this,xe,lf))==null?void 0:e.attributes)==null?void 0:t.style)==null?void 0:i.color)||null},g2=function(e){const t=[],i={str:e,html:{name:"div",attributes:{dir:"auto"},children:[{name:"p",children:t}]}},r={style:{color:c(this,xe,m2),fontSize:c(this,xe,cv)?`calc(${c(this,xe,cv)}px * var(--scale-factor))`:""}};for(const s of e.split(`
`))t.push({name:"span",value:s,attributes:r});return i},v2=function(e){e.altKey||e.shiftKey||e.ctrlKey||e.metaKey||(e.key==="Enter"||e.key==="Escape"&&c(this,rr))&&A(this,xe,cf).call(this)},y2=function(){if(c(this,sr)!==null)return;const{page:{view:e},viewport:{rawDims:{pageWidth:t,pageHeight:i,pageX:r,pageY:s}}}=c(this,od);let o=!!c(this,hl),a=o?c(this,hl):c(this,ad);for(const m of c(this,sd))if(!a||V.intersect(m.data.rect,a)!==null){a=m.data.rect,o=!0;break}const l=V.normalizeRect([a[0],e[3]-a[1]+e[1],a[2],e[3]-a[3]+e[1]]),d=o?a[2]-a[0]+5:0,h=l[0]+d,f=l[1];E(this,sr,[100*(h-r)/t,100*(f-s)/i]);const{style:p}=c(this,Ie);p.left=`${c(this,sr)[0]}%`,p.top=`${c(this,sr)[1]}%`},cf=function(){E(this,rr,!c(this,rr)),c(this,rr)?(A(this,xe,uf).call(this),c(this,Ie).addEventListener("click",c(this,dl)),c(this,Ie).addEventListener("keydown",c(this,ul))):(A(this,xe,uv).call(this),c(this,Ie).removeEventListener("click",c(this,dl)),c(this,Ie).removeEventListener("keydown",c(this,ul)))},uf=function(){c(this,Gn)||this.render(),this.isVisible?c(this,rr)&&c(this,Ie).classList.add("focused"):(A(this,xe,y2).call(this),c(this,Ie).hidden=!1,c(this,Ie).style.zIndex=parseInt(c(this,Ie).style.zIndex)+1e3)},uv=function(){c(this,Ie).classList.remove("focused"),!(c(this,rr)||!this.isVisible)&&(c(this,Ie).hidden=!0,c(this,Ie).style.zIndex=parseInt(c(this,Ie).style.zIndex)-1e3)};class x2 extends Be{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),this.textContent=e.data.textContent,this.textPosition=e.data.textPosition,this.annotationEditorType=ae.FREETEXT}render(){if(this.container.classList.add("freeTextAnnotation"),this.textContent){const e=document.createElement("div");e.classList.add("annotationTextContent"),e.setAttribute("role","comment");for(const t of this.textContent){const i=document.createElement("span");i.textContent=t,e.append(i)}this.container.append(e)}return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}get _isEditable(){return this.data.hasOwnCanvas}}var cd;class jF extends Be{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0});S(this,cd,null)}render(){this.container.classList.add("lineAnnotation");const t=this.data,{width:i,height:r}=yr(t.rect),s=this.svgFactory.create(i,r,!0),o=E(this,cd,this.svgFactory.createElement("svg:line"));return o.setAttribute("x1",t.rect[2]-t.lineCoordinates[0]),o.setAttribute("y1",t.rect[3]-t.lineCoordinates[1]),o.setAttribute("x2",t.rect[2]-t.lineCoordinates[2]),o.setAttribute("y2",t.rect[3]-t.lineCoordinates[3]),o.setAttribute("stroke-width",t.borderStyle.width||1),o.setAttribute("stroke","transparent"),o.setAttribute("fill","transparent"),s.append(o),this.container.append(s),!t.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return c(this,cd)}addHighlightArea(){this.container.classList.add("highlightArea")}}cd=new WeakMap;var ud;class $F extends Be{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0});S(this,ud,null)}render(){this.container.classList.add("squareAnnotation");const t=this.data,{width:i,height:r}=yr(t.rect),s=this.svgFactory.create(i,r,!0),o=t.borderStyle.width,a=E(this,ud,this.svgFactory.createElement("svg:rect"));return a.setAttribute("x",o/2),a.setAttribute("y",o/2),a.setAttribute("width",i-o),a.setAttribute("height",r-o),a.setAttribute("stroke-width",o||1),a.setAttribute("stroke","transparent"),a.setAttribute("fill","transparent"),s.append(a),this.container.append(s),!t.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return c(this,ud)}addHighlightArea(){this.container.classList.add("highlightArea")}}ud=new WeakMap;var dd;class HF extends Be{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0});S(this,dd,null)}render(){this.container.classList.add("circleAnnotation");const t=this.data,{width:i,height:r}=yr(t.rect),s=this.svgFactory.create(i,r,!0),o=t.borderStyle.width,a=E(this,dd,this.svgFactory.createElement("svg:ellipse"));return a.setAttribute("cx",i/2),a.setAttribute("cy",r/2),a.setAttribute("rx",i/2-o/2),a.setAttribute("ry",r/2-o/2),a.setAttribute("stroke-width",o||1),a.setAttribute("stroke","transparent"),a.setAttribute("fill","transparent"),s.append(a),this.container.append(s),!t.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return c(this,dd)}addHighlightArea(){this.container.classList.add("highlightArea")}}dd=new WeakMap;var hd;class w2 extends Be{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0});S(this,hd,null);this.containerClassName="polylineAnnotation",this.svgElementName="svg:polyline"}render(){this.container.classList.add(this.containerClassName);const t=this.data,{width:i,height:r}=yr(t.rect),s=this.svgFactory.create(i,r,!0);let o=[];for(const l of t.vertices){const u=l.x-t.rect[0],d=t.rect[3]-l.y;o.push(u+","+d)}o=o.join(" ");const a=E(this,hd,this.svgFactory.createElement(this.svgElementName));return a.setAttribute("points",o),a.setAttribute("stroke-width",t.borderStyle.width||1),a.setAttribute("stroke","transparent"),a.setAttribute("fill","transparent"),s.append(a),this.container.append(s),!t.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return c(this,hd)}addHighlightArea(){this.container.classList.add("highlightArea")}}hd=new WeakMap;class BF extends w2{constructor(e){super(e),this.containerClassName="polygonAnnotation",this.svgElementName="svg:polygon"}}class zF extends Be{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("caretAnnotation"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container}}var fd;class b2 extends Be{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0});S(this,fd,[]);this.containerClassName="inkAnnotation",this.svgElementName="svg:polyline",this.annotationEditorType=ae.INK}render(){this.container.classList.add(this.containerClassName);const t=this.data,{width:i,height:r}=yr(t.rect),s=this.svgFactory.create(i,r,!0);for(const o of t.inkLists){let a=[];for(const u of o){const d=u.x-t.rect[0],h=t.rect[3]-u.y;a.push(`${d},${h}`)}a=a.join(" ");const l=this.svgFactory.createElement(this.svgElementName);c(this,fd).push(l),l.setAttribute("points",a),l.setAttribute("stroke-width",t.borderStyle.width||1),l.setAttribute("stroke","transparent"),l.setAttribute("fill","transparent"),!t.popupRef&&this.hasPopupData&&this._createPopup(),s.append(l)}return this.container.append(s),this.container}getElementsToTriggerPopup(){return c(this,fd)}addHighlightArea(){this.container.classList.add("highlightArea")}}fd=new WeakMap;class UF extends Be{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("highlightAnnotation"),this.container}}class VF extends Be{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("underlineAnnotation"),this.container}}class WF extends Be{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("squigglyAnnotation"),this.container}}class GF extends Be{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("strikeoutAnnotation"),this.container}}class E2 extends Be{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("stampAnnotation"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container}}var pd,md,dv;class qF extends Be{constructor(t){var r;super(t,{isRenderable:!0});S(this,md);S(this,pd,null);const{file:i}=this.data;this.filename=i.filename,this.content=i.content,(r=this.linkService.eventBus)==null||r.dispatch("fileattachmentannotation",{source:this,...i})}render(){this.container.classList.add("fileAttachmentAnnotation");const{container:t,data:i}=this;let r;i.hasAppearance||i.fillAlpha===0?r=document.createElement("div"):(r=document.createElement("img"),r.src=`${this.imageResourcesPath}annotation-${/paperclip/i.test(i.name)?"paperclip":"pushpin"}.svg`,i.fillAlpha&&i.fillAlpha<1&&(r.style=`filter: opacity(${Math.round(i.fillAlpha*100)}%);`)),r.addEventListener("dblclick",A(this,md,dv).bind(this)),E(this,pd,r);const{isMac:s}=Wt.platform;return t.addEventListener("keydown",o=>{o.key==="Enter"&&(s?o.metaKey:o.ctrlKey)&&A(this,md,dv).call(this)}),!i.popupRef&&this.hasPopupData?this._createPopup():r.classList.add("popupTriggerArea"),t.append(r),t}getElementsToTriggerPopup(){return c(this,pd)}addHighlightArea(){this.container.classList.add("highlightArea")}}pd=new WeakMap,md=new WeakSet,dv=function(){var t;(t=this.downloadManager)==null||t.openOrDownloadData(this.content,this.filename)};var gd,wo,fl,na,A2,hv;class XF{constructor({div:e,accessibilityManager:t,annotationCanvasMap:i,annotationEditorUIManager:r,page:s,viewport:o}){S(this,na);S(this,gd,null);S(this,wo,null);S(this,fl,new Map);this.div=e,E(this,gd,t),E(this,wo,i),this.page=s,this.viewport=o,this.zIndex=0,this._annotationEditorUIManager=r}async render(e){var o;const{annotations:t}=e,i=this.div;Jo(i,this.viewport);const r=new Map,s={data:null,layer:i,linkService:e.linkService,downloadManager:e.downloadManager,imageResourcesPath:e.imageResourcesPath||"",renderForms:e.renderForms!==!1,svgFactory:new iy,annotationStorage:e.annotationStorage||new ly,enableScripting:e.enableScripting===!0,hasJSActions:e.hasJSActions,fieldObjects:e.fieldObjects,parent:this,elements:null};for(const a of t){if(a.noHTML)continue;const l=a.annotationType===We.POPUP;if(l){const h=r.get(a.id);if(!h)continue;s.elements=h}else{const{width:h,height:f}=yr(a.rect);if(h<=0||f<=0)continue}s.data=a;const u=PF.create(s);if(!u.isRenderable)continue;if(!l&&a.popupRef){const h=r.get(a.popupRef);h?h.push(u):r.set(a.popupRef,[u])}const d=u.render();a.hidden&&(d.style.visibility="hidden"),A(this,na,A2).call(this,d,a.id),u.annotationEditorType>0&&(c(this,fl).set(u.data.id,u),(o=this._annotationEditorUIManager)==null||o.renderAnnotationElement(u))}A(this,na,hv).call(this)}update({viewport:e}){const t=this.div;this.viewport=e,Jo(t,{rotation:e.rotation}),A(this,na,hv).call(this),t.hidden=!1}getEditableAnnotations(){return Array.from(c(this,fl).values())}getEditableAnnotation(e){return c(this,fl).get(e)}}gd=new WeakMap,wo=new WeakMap,fl=new WeakMap,na=new WeakSet,A2=function(e,t){var r;const i=e.firstChild||e;i.id=`${yS}${t}`,this.div.append(e),(r=c(this,gd))==null||r.moveElementInDOM(this.div,e,i,!1)},hv=function(){if(!c(this,wo))return;const e=this.div;for(const[t,i]of c(this,wo)){const r=e.querySelector(`[data-annotation-id="${t}"]`);if(!r)continue;i.className="annotationContent";const{firstChild:s}=r;s?s.nodeName==="CANVAS"?s.replaceWith(i):s.classList.contains("annotationContent")?s.after(i):s.before(i):r.append(i)}c(this,wo).clear()};const Fh=/\r\n?|\n/g;var vd,yd,xd,wd,bd,qn,nn,Ed,rn,pl,Ve,S2,C2,_2,df,wr,hf,ff,k2,pv,T2;const Ee=class Ee extends me{constructor(t){super({...t,name:"freeTextEditor"});S(this,Ve);S(this,vd,this.editorDivBlur.bind(this));S(this,yd,this.editorDivFocus.bind(this));S(this,xd,this.editorDivInput.bind(this));S(this,wd,this.editorDivKeydown.bind(this));S(this,bd,this.editorDivPaste.bind(this));S(this,qn);S(this,nn,"");S(this,Ed,`${this.id}-editor`);S(this,rn);S(this,pl,null);E(this,qn,t.color||Ee._defaultColor||me._defaultLineColor),E(this,rn,t.fontSize||Ee._defaultFontSize)}static get _keyboardManager(){const t=Ee.prototype,i=o=>o.isEmpty(),r=ea.TRANSLATE_SMALL,s=ea.TRANSLATE_BIG;return le(this,"_keyboardManager",new ah([[["ctrl+s","mac+meta+s","ctrl+p","mac+meta+p"],t.commitOrRemove,{bubbles:!0}],[["ctrl+Enter","mac+meta+Enter","Escape","mac+Escape"],t.commitOrRemove],[["ArrowLeft","mac+ArrowLeft"],t._translateEmpty,{args:[-r,0],checker:i}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],t._translateEmpty,{args:[-s,0],checker:i}],[["ArrowRight","mac+ArrowRight"],t._translateEmpty,{args:[r,0],checker:i}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],t._translateEmpty,{args:[s,0],checker:i}],[["ArrowUp","mac+ArrowUp"],t._translateEmpty,{args:[0,-r],checker:i}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],t._translateEmpty,{args:[0,-s],checker:i}],[["ArrowDown","mac+ArrowDown"],t._translateEmpty,{args:[0,r],checker:i}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],t._translateEmpty,{args:[0,s],checker:i}]]))}static initialize(t,i){me.initialize(t,i,{strings:["pdfjs-free-text-default-content"]});const r=getComputedStyle(document.documentElement);this._internalPadding=parseFloat(r.getPropertyValue("--freetext-padding"))}static updateDefaultParams(t,i){switch(t){case Q.FREETEXT_SIZE:Ee._defaultFontSize=i;break;case Q.FREETEXT_COLOR:Ee._defaultColor=i;break}}updateParams(t,i){switch(t){case Q.FREETEXT_SIZE:A(this,Ve,S2).call(this,i);break;case Q.FREETEXT_COLOR:A(this,Ve,C2).call(this,i);break}}static get defaultPropertiesToUpdate(){return[[Q.FREETEXT_SIZE,Ee._defaultFontSize],[Q.FREETEXT_COLOR,Ee._defaultColor||me._defaultLineColor]]}get propertiesToUpdate(){return[[Q.FREETEXT_SIZE,c(this,rn)],[Q.FREETEXT_COLOR,c(this,qn)]]}_translateEmpty(t,i){this._uiManager.translateSelectedEditors(t,i,!0)}getInitialTranslation(){const t=this.parentScale;return[-Ee._internalPadding*t,-(Ee._internalPadding+c(this,rn))*t]}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.isAttachedToDOM||this.parent.add(this)))}enableEditMode(){this.isInEditMode()||(this.parent.setEditingState(!1),this.parent.updateToolbar(ae.FREETEXT),super.enableEditMode(),this.overlayDiv.classList.remove("enabled"),this.editorDiv.contentEditable=!0,this._isDraggable=!1,this.div.removeAttribute("aria-activedescendant"),this.editorDiv.addEventListener("keydown",c(this,wd)),this.editorDiv.addEventListener("focus",c(this,yd)),this.editorDiv.addEventListener("blur",c(this,vd)),this.editorDiv.addEventListener("input",c(this,xd)),this.editorDiv.addEventListener("paste",c(this,bd)))}disableEditMode(){this.isInEditMode()&&(this.parent.setEditingState(!0),super.disableEditMode(),this.overlayDiv.classList.add("enabled"),this.editorDiv.contentEditable=!1,this.div.setAttribute("aria-activedescendant",c(this,Ed)),this._isDraggable=!0,this.editorDiv.removeEventListener("keydown",c(this,wd)),this.editorDiv.removeEventListener("focus",c(this,yd)),this.editorDiv.removeEventListener("blur",c(this,vd)),this.editorDiv.removeEventListener("input",c(this,xd)),this.editorDiv.removeEventListener("paste",c(this,bd)),this.div.focus({preventScroll:!0}),this.isEditing=!1,this.parent.div.classList.add("freetextEditing"))}focusin(t){this._focusEventsAllowed&&(super.focusin(t),t.target!==this.editorDiv&&this.editorDiv.focus())}onceAdded(){var t;this.width||(this.enableEditMode(),this.editorDiv.focus(),(t=this._initialOptions)!=null&&t.isCentered&&this.center(),this._initialOptions=null)}isEmpty(){return!this.editorDiv||this.editorDiv.innerText.trim()===""}remove(){this.isEditing=!1,this.parent&&(this.parent.setEditingState(!0),this.parent.div.classList.add("freetextEditing")),super.remove()}commit(){if(!this.isInEditMode())return;super.commit(),this.disableEditMode();const t=c(this,nn),i=E(this,nn,A(this,Ve,_2).call(this).trimEnd());if(t===i)return;const r=s=>{if(E(this,nn,s),!s){this.remove();return}A(this,Ve,ff).call(this),this._uiManager.rebuild(this),A(this,Ve,df).call(this)};this.addCommands({cmd:()=>{r(i)},undo:()=>{r(t)},mustExec:!1}),A(this,Ve,df).call(this)}shouldGetKeyboardEvents(){return this.isInEditMode()}enterInEditMode(){this.enableEditMode(),this.editorDiv.focus()}dblclick(t){this.enterInEditMode()}keydown(t){t.target===this.div&&t.key==="Enter"&&(this.enterInEditMode(),t.preventDefault())}editorDivKeydown(t){Ee._keyboardManager.exec(this,t)}editorDivFocus(t){this.isEditing=!0}editorDivBlur(t){this.isEditing=!1}editorDivInput(t){this.parent.div.classList.toggle("freetextEditing",this.isEmpty())}disableEditing(){this.editorDiv.setAttribute("role","comment"),this.editorDiv.removeAttribute("aria-multiline")}enableEditing(){this.editorDiv.setAttribute("role","textbox"),this.editorDiv.setAttribute("aria-multiline",!0)}render(){if(this.div)return this.div;let t,i;this.width&&(t=this.x,i=this.y),super.render(),this.editorDiv=document.createElement("div"),this.editorDiv.className="internal",this.editorDiv.setAttribute("id",c(this,Ed)),this.editorDiv.setAttribute("data-l10n-id","pdfjs-free-text"),this.enableEditing(),me._l10nPromise.get("pdfjs-free-text-default-content").then(s=>{var o;return(o=this.editorDiv)==null?void 0:o.setAttribute("default-content",s)}),this.editorDiv.contentEditable=!0;const{style:r}=this.editorDiv;if(r.fontSize=`calc(${c(this,rn)}px * var(--scale-factor))`,r.color=c(this,qn),this.div.append(this.editorDiv),this.overlayDiv=document.createElement("div"),this.overlayDiv.classList.add("overlay","enabled"),this.div.append(this.overlayDiv),sp(this,this.div,["dblclick","keydown"]),this.width){const[s,o]=this.parentDimensions;if(this.annotationElementId){const{position:a}=c(this,pl);let[l,u]=this.getInitialTranslation();[l,u]=this.pageTranslationToScreen(l,u);const[d,h]=this.pageDimensions,[f,p]=this.pageTranslation;let m,v;switch(this.rotation){case 0:m=t+(a[0]-f)/d,v=i+this.height-(a[1]-p)/h;break;case 90:m=t+(a[0]-f)/d,v=i-(a[1]-p)/h,[l,u]=[u,-l];break;case 180:m=t-this.width+(a[0]-f)/d,v=i-(a[1]-p)/h,[l,u]=[-l,-u];break;case 270:m=t+(a[0]-f-this.height*h)/d,v=i+(a[1]-p-this.width*d)/h,[l,u]=[-u,l];break}this.setAt(m*s,v*o,l,u)}else this.setAt(t*s,i*o,this.width*s,this.height*o);A(this,Ve,ff).call(this),this._isDraggable=!0,this.editorDiv.contentEditable=!1}else this._isDraggable=!1,this.editorDiv.contentEditable=!0;return this.div}editorDivPaste(t){var m,v,b;const i=t.clipboardData||window.clipboardData,{types:r}=i;if(r.length===1&&r[0]==="text/plain")return;t.preventDefault();const s=A(m=Ee,wr,pv).call(m,i.getData("text")||"").replaceAll(Fh,`
`);if(!s)return;const o=window.getSelection();if(!o.rangeCount)return;this.editorDiv.normalize(),o.deleteFromDocument();const a=o.getRangeAt(0);if(!s.includes(`
`)){a.insertNode(document.createTextNode(s)),this.editorDiv.normalize(),o.collapseToStart();return}const{startContainer:l,startOffset:u}=a,d=[],h=[];if(l.nodeType===Node.TEXT_NODE){const g=l.parentElement;if(h.push(l.nodeValue.slice(u).replaceAll(Fh,"")),g!==this.editorDiv){let y=d;for(const x of this.editorDiv.childNodes){if(x===g){y=h;continue}y.push(A(v=Ee,wr,hf).call(v,x))}}d.push(l.nodeValue.slice(0,u).replaceAll(Fh,""))}else if(l===this.editorDiv){let g=d,y=0;for(const x of this.editorDiv.childNodes)y++===u&&(g=h),g.push(A(b=Ee,wr,hf).call(b,x))}E(this,nn,`${d.join(`
`)}${s}${h.join(`
`)}`),A(this,Ve,ff).call(this);const f=new Range;let p=d.reduce((g,y)=>g+y.length,0);for(const{firstChild:g}of this.editorDiv.childNodes)if(g.nodeType===Node.TEXT_NODE){const y=g.nodeValue.length;if(p<=y){f.setStart(g,p),f.setEnd(g,p);break}p-=y}o.removeAllRanges(),o.addRange(f)}get contentDiv(){return this.editorDiv}static deserialize(t,i,r){var a;let s=null;if(t instanceof x2){const{data:{defaultAppearanceData:{fontSize:l,fontColor:u},rect:d,rotation:h,id:f},textContent:p,textPosition:m,parent:{page:{pageNumber:v}}}=t;if(!p||p.length===0)return null;s=t={annotationType:ae.FREETEXT,color:Array.from(u),fontSize:l,value:p.join(`
`),position:m,pageIndex:v-1,rect:d.slice(0),rotation:h,id:f,deleted:!1}}const o=super.deserialize(t,i,r);return E(o,rn,t.fontSize),E(o,qn,V.makeHexColor(...t.color)),E(o,nn,A(a=Ee,wr,pv).call(a,t.value)),o.annotationElementId=t.id||null,E(o,pl,s),o}serialize(t=!1){if(this.isEmpty())return null;if(this.deleted)return{pageIndex:this.pageIndex,id:this.annotationElementId,deleted:!0};const i=Ee._internalPadding*this.parentScale,r=this.getRect(i,i),s=me._colorManager.convert(this.isAttachedToDOM?getComputedStyle(this.editorDiv).color:c(this,qn)),o={annotationType:ae.FREETEXT,color:s,fontSize:c(this,rn),value:A(this,Ve,k2).call(this),pageIndex:this.pageIndex,rect:r,rotation:this.rotation,structTreeParentId:this._structTreeParentId};return t?o:this.annotationElementId&&!A(this,Ve,T2).call(this,o)?null:(o.id=this.annotationElementId,o)}renderAnnotationElement(t){const i=super.renderAnnotationElement(t);if(this.deleted)return i;const{style:r}=i;r.fontSize=`calc(${c(this,rn)}px * var(--scale-factor))`,r.color=c(this,qn),i.replaceChildren();for(const o of c(this,nn).split(`
`)){const a=document.createElement("div");a.append(o?document.createTextNode(o):document.createElement("br")),i.append(a)}const s=Ee._internalPadding*this.parentScale;return t.updateEdited({rect:this.getRect(s,s),popupContent:c(this,nn)}),i}resetAnnotationElement(t){super.resetAnnotationElement(t),t.resetEdited()}};vd=new WeakMap,yd=new WeakMap,xd=new WeakMap,wd=new WeakMap,bd=new WeakMap,qn=new WeakMap,nn=new WeakMap,Ed=new WeakMap,rn=new WeakMap,pl=new WeakMap,Ve=new WeakSet,S2=function(t){const i=s=>{this.editorDiv.style.fontSize=`calc(${s}px * var(--scale-factor))`,this.translate(0,-(s-c(this,rn))*this.parentScale),E(this,rn,s),A(this,Ve,df).call(this)},r=c(this,rn);this.addCommands({cmd:i.bind(this,t),undo:i.bind(this,r),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Q.FREETEXT_SIZE,overwriteIfSameType:!0,keepUndo:!0})},C2=function(t){const i=s=>{E(this,qn,this.editorDiv.style.color=s)},r=c(this,qn);this.addCommands({cmd:i.bind(this,t),undo:i.bind(this,r),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Q.FREETEXT_COLOR,overwriteIfSameType:!0,keepUndo:!0})},_2=function(){var i;const t=[];this.editorDiv.normalize();for(const r of this.editorDiv.childNodes)t.push(A(i=Ee,wr,hf).call(i,r));return t.join(`
`)},df=function(){const[t,i]=this.parentDimensions;let r;if(this.isAttachedToDOM)r=this.div.getBoundingClientRect();else{const{currentLayer:s,div:o}=this,a=o.style.display,l=o.classList.contains("hidden");o.classList.remove("hidden"),o.style.display="hidden",s.div.append(this.div),r=o.getBoundingClientRect(),o.remove(),o.style.display=a,o.classList.toggle("hidden",l)}this.rotation%180===this.parentRotation%180?(this.width=r.width/t,this.height=r.height/i):(this.width=r.height/t,this.height=r.width/i),this.fixAndSetPosition()},wr=new WeakSet,hf=function(t){return(t.nodeType===Node.TEXT_NODE?t.nodeValue:t.innerText).replaceAll(Fh,"")},ff=function(){if(this.editorDiv.replaceChildren(),!!c(this,nn))for(const t of c(this,nn).split(`
`)){const i=document.createElement("div");i.append(t?document.createTextNode(t):document.createElement("br")),this.editorDiv.append(i)}},k2=function(){return c(this,nn).replaceAll(" "," ")},pv=function(t){return t.replaceAll(" "," ")},T2=function(t){const{value:i,fontSize:r,color:s,pageIndex:o}=c(this,pl);return this._hasBeenMoved||t.value!==i||t.fontSize!==r||t.color.some((a,l)=>a!==s[l])||t.pageIndex!==o},S(Ee,wr),Z(Ee,"_freeTextDefaultContent",""),Z(Ee,"_internalPadding",0),Z(Ee,"_defaultColor",null),Z(Ee,"_defaultFontSize",10),Z(Ee,"_type","freetext"),Z(Ee,"_editorType",ae.FREETEXT);let fv=Ee;var Ad,Yr,Xn,Dt,R2,pf,P2,L2,gv;class mv{constructor(e,t=0,i=0,r=!0){S(this,Dt);S(this,Ad);S(this,Yr,[]);S(this,Xn,[]);let s=1/0,o=-1/0,a=1/0,l=-1/0;const d=10**-4;for(const{x:g,y,width:x,height:_}of e){const k=Math.floor((g-t)/d)*d,T=Math.ceil((g+x+t)/d)*d,R=Math.floor((y-t)/d)*d,L=Math.ceil((y+_+t)/d)*d,D=[k,R,L,!0],F=[T,R,L,!1];c(this,Yr).push(D,F),s=Math.min(s,k),o=Math.max(o,T),a=Math.min(a,R),l=Math.max(l,L)}const h=o-s+2*i,f=l-a+2*i,p=s-i,m=a-i,v=c(this,Yr).at(r?-1:-2),b=[v[0],v[2]];for(const g of c(this,Yr)){const[y,x,_]=g;g[0]=(y-p)/h,g[1]=(x-m)/f,g[2]=(_-m)/f}E(this,Ad,{x:p,y:m,width:h,height:f,lastPoint:b})}getOutlines(){c(this,Yr).sort((t,i)=>t[0]-i[0]||t[1]-i[1]||t[2]-i[2]);const e=[];for(const t of c(this,Yr))t[3]?(e.push(...A(this,Dt,gv).call(this,t)),A(this,Dt,P2).call(this,t)):(A(this,Dt,L2).call(this,t),e.push(...A(this,Dt,gv).call(this,t)));return A(this,Dt,R2).call(this,e)}}Ad=new WeakMap,Yr=new WeakMap,Xn=new WeakMap,Dt=new WeakSet,R2=function(e){const t=[],i=new Set;for(const o of e){const[a,l,u]=o;t.push([a,l,o],[a,u,o])}t.sort((o,a)=>o[1]-a[1]||o[0]-a[0]);for(let o=0,a=t.length;o<a;o+=2){const l=t[o][2],u=t[o+1][2];l.push(u),u.push(l),i.add(l),i.add(u)}const r=[];let s;for(;i.size>0;){const o=i.values().next().value;let[a,l,u,d,h]=o;i.delete(o);let f=a,p=l;for(s=[a,u],r.push(s);;){let m;if(i.has(d))m=d;else if(i.has(h))m=h;else break;i.delete(m),[a,l,u,d,h]=m,f!==a&&(s.push(f,p,a,p===l?l:u),f=a),p=p===l?u:l}s.push(f,p)}return new KF(r,c(this,Ad))},pf=function(e){const t=c(this,Xn);let i=0,r=t.length-1;for(;i<=r;){const s=i+r>>1,o=t[s][0];if(o===e)return s;o<e?i=s+1:r=s-1}return r+1},P2=function([,e,t]){const i=A(this,Dt,pf).call(this,e);c(this,Xn).splice(i,0,[e,t])},L2=function([,e,t]){const i=A(this,Dt,pf).call(this,e);for(let r=i;r<c(this,Xn).length;r++){const[s,o]=c(this,Xn)[r];if(s!==e)break;if(s===e&&o===t){c(this,Xn).splice(r,1);return}}for(let r=i-1;r>=0;r--){const[s,o]=c(this,Xn)[r];if(s!==e)break;if(s===e&&o===t){c(this,Xn).splice(r,1);return}}},gv=function(e){const[t,i,r]=e,s=[[t,i,r]],o=A(this,Dt,pf).call(this,r);for(let a=0;a<o;a++){const[l,u]=c(this,Xn)[a];for(let d=0,h=s.length;d<h;d++){const[,f,p]=s[d];if(!(u<=f||p<=l)){if(f>=l){if(p>u)s[d][1]=u;else{if(h===1)return[];s.splice(d,1),d--,h--}continue}s[d][2]=l,p>u&&s.push([t,u,p])}}}return s};class N2{toSVGPath(){throw new Error("Abstract method `toSVGPath` must be implemented.")}get box(){throw new Error("Abstract getter `box` must be implemented.")}serialize(e,t){throw new Error("Abstract method `serialize` must be implemented.")}get free(){return this instanceof yv}}var Sd,ml;class KF extends N2{constructor(t,i){super();S(this,Sd);S(this,ml);E(this,ml,t),E(this,Sd,i)}toSVGPath(){const t=[];for(const i of c(this,ml)){let[r,s]=i;t.push(`M${r} ${s}`);for(let o=2;o<i.length;o+=2){const a=i[o],l=i[o+1];a===r?(t.push(`V${l}`),s=l):l===s&&(t.push(`H${a}`),r=a)}t.push("Z")}return t.join(" ")}serialize([t,i,r,s],o){const a=[],l=r-t,u=s-i;for(const d of c(this,ml)){const h=new Array(d.length);for(let f=0;f<d.length;f+=2)h[f]=t+d[f]*l,h[f+1]=s-d[f+1]*u;a.push(h)}return a}get box(){return c(this,Sd)}}Sd=new WeakMap,ml=new WeakMap;var yi,ar,gl,vl,xi,oe,bo,Eo,Cd,_d,yl,xl,Qr,kd,kp,Tp,Td,vv;const Hi=class Hi{constructor({x:e,y:t},i,r,s,o,a=0){S(this,Td);S(this,yi);S(this,ar,[]);S(this,gl);S(this,vl);S(this,xi,[]);S(this,oe,new Float64Array(18));S(this,bo);S(this,Eo);S(this,Cd);S(this,_d);S(this,yl);S(this,xl);S(this,Qr,[]);E(this,yi,i),E(this,xl,s*r),E(this,vl,o),c(this,oe).set([NaN,NaN,NaN,NaN,e,t],6),E(this,gl,a),E(this,_d,c(Hi,kd)*r),E(this,Cd,c(Hi,Tp)*r),E(this,yl,r),c(this,Qr).push(e,t)}get free(){return!0}isEmpty(){return isNaN(c(this,oe)[8])}add({x:e,y:t}){var D;E(this,bo,e),E(this,Eo,t);const[i,r,s,o]=c(this,yi);let[a,l,u,d]=c(this,oe).subarray(8,12);const h=e-u,f=t-d,p=Math.hypot(h,f);if(p<c(this,Cd))return!1;const m=p-c(this,_d),v=m/p,b=v*h,g=v*f;let y=a,x=l;a=u,l=d,u+=b,d+=g,(D=c(this,Qr))==null||D.push(e,t);const _=-g/m,k=b/m,T=_*c(this,xl),R=k*c(this,xl);return c(this,oe).set(c(this,oe).subarray(2,8),0),c(this,oe).set([u+T,d+R],4),c(this,oe).set(c(this,oe).subarray(14,18),12),c(this,oe).set([u-T,d-R],16),isNaN(c(this,oe)[6])?(c(this,xi).length===0&&(c(this,oe).set([a+T,l+R],2),c(this,xi).push(NaN,NaN,NaN,NaN,(a+T-i)/s,(l+R-r)/o),c(this,oe).set([a-T,l-R],14),c(this,ar).push(NaN,NaN,NaN,NaN,(a-T-i)/s,(l-R-r)/o)),c(this,oe).set([y,x,a,l,u,d],6),!this.isEmpty()):(c(this,oe).set([y,x,a,l,u,d],6),Math.abs(Math.atan2(x-l,y-a)-Math.atan2(g,b))<Math.PI/2?([a,l,u,d]=c(this,oe).subarray(2,6),c(this,xi).push(NaN,NaN,NaN,NaN,((a+u)/2-i)/s,((l+d)/2-r)/o),[a,l,y,x]=c(this,oe).subarray(14,18),c(this,ar).push(NaN,NaN,NaN,NaN,((y+a)/2-i)/s,((x+l)/2-r)/o),!0):([y,x,a,l,u,d]=c(this,oe).subarray(0,6),c(this,xi).push(((y+5*a)/6-i)/s,((x+5*l)/6-r)/o,((5*a+u)/6-i)/s,((5*l+d)/6-r)/o,((a+u)/2-i)/s,((l+d)/2-r)/o),[u,d,a,l,y,x]=c(this,oe).subarray(12,18),c(this,ar).push(((y+5*a)/6-i)/s,((x+5*l)/6-r)/o,((5*a+u)/6-i)/s,((5*l+d)/6-r)/o,((a+u)/2-i)/s,((l+d)/2-r)/o),!0))}toSVGPath(){if(this.isEmpty())return"";const e=c(this,xi),t=c(this,ar),i=c(this,oe).subarray(4,6),r=c(this,oe).subarray(16,18),[s,o,a,l]=c(this,yi),[u,d,h,f]=A(this,Td,vv).call(this);if(isNaN(c(this,oe)[6])&&!this.isEmpty())return`M${(c(this,oe)[2]-s)/a} ${(c(this,oe)[3]-o)/l} L${(c(this,oe)[4]-s)/a} ${(c(this,oe)[5]-o)/l} L${u} ${d} L${h} ${f} L${(c(this,oe)[16]-s)/a} ${(c(this,oe)[17]-o)/l} L${(c(this,oe)[14]-s)/a} ${(c(this,oe)[15]-o)/l} Z`;const p=[];p.push(`M${e[4]} ${e[5]}`);for(let m=6;m<e.length;m+=6)isNaN(e[m])?p.push(`L${e[m+4]} ${e[m+5]}`):p.push(`C${e[m]} ${e[m+1]} ${e[m+2]} ${e[m+3]} ${e[m+4]} ${e[m+5]}`);p.push(`L${(i[0]-s)/a} ${(i[1]-o)/l} L${u} ${d} L${h} ${f} L${(r[0]-s)/a} ${(r[1]-o)/l}`);for(let m=t.length-6;m>=6;m-=6)isNaN(t[m])?p.push(`L${t[m+4]} ${t[m+5]}`):p.push(`C${t[m]} ${t[m+1]} ${t[m+2]} ${t[m+3]} ${t[m+4]} ${t[m+5]}`);return p.push(`L${t[4]} ${t[5]} Z`),p.join(" ")}getOutlines(){var g;const e=c(this,xi),t=c(this,ar),i=c(this,oe),r=i.subarray(4,6),s=i.subarray(16,18),[o,a,l,u]=c(this,yi),d=new Float64Array((((g=c(this,Qr))==null?void 0:g.length)??0)+2);for(let y=0,x=d.length-2;y<x;y+=2)d[y]=(c(this,Qr)[y]-o)/l,d[y+1]=(c(this,Qr)[y+1]-a)/u;d[d.length-2]=(c(this,bo)-o)/l,d[d.length-1]=(c(this,Eo)-a)/u;const[h,f,p,m]=A(this,Td,vv).call(this);if(isNaN(i[6])&&!this.isEmpty()){const y=new Float64Array(36);return y.set([NaN,NaN,NaN,NaN,(i[2]-o)/l,(i[3]-a)/u,NaN,NaN,NaN,NaN,(i[4]-o)/l,(i[5]-a)/u,NaN,NaN,NaN,NaN,h,f,NaN,NaN,NaN,NaN,p,m,NaN,NaN,NaN,NaN,(i[16]-o)/l,(i[17]-a)/u,NaN,NaN,NaN,NaN,(i[14]-o)/l,(i[15]-a)/u],0),new yv(y,d,c(this,yi),c(this,yl),c(this,gl),c(this,vl))}const v=new Float64Array(c(this,xi).length+24+c(this,ar).length);let b=e.length;for(let y=0;y<b;y+=2){if(isNaN(e[y])){v[y]=v[y+1]=NaN;continue}v[y]=e[y],v[y+1]=e[y+1]}v.set([NaN,NaN,NaN,NaN,(r[0]-o)/l,(r[1]-a)/u,NaN,NaN,NaN,NaN,h,f,NaN,NaN,NaN,NaN,p,m,NaN,NaN,NaN,NaN,(s[0]-o)/l,(s[1]-a)/u],b),b+=24;for(let y=t.length-6;y>=6;y-=6)for(let x=0;x<6;x+=2){if(isNaN(t[y+x])){v[b]=v[b+1]=NaN,b+=2;continue}v[b]=t[y+x],v[b+1]=t[y+x+1],b+=2}return v.set([NaN,NaN,NaN,NaN,t[4],t[5]],b),new yv(v,d,c(this,yi),c(this,yl),c(this,gl),c(this,vl))}};yi=new WeakMap,ar=new WeakMap,gl=new WeakMap,vl=new WeakMap,xi=new WeakMap,oe=new WeakMap,bo=new WeakMap,Eo=new WeakMap,Cd=new WeakMap,_d=new WeakMap,yl=new WeakMap,xl=new WeakMap,Qr=new WeakMap,kd=new WeakMap,kp=new WeakMap,Tp=new WeakMap,Td=new WeakSet,vv=function(){const e=c(this,oe).subarray(4,6),t=c(this,oe).subarray(16,18),[i,r,s,o]=c(this,yi);return[(c(this,bo)+(e[0]-t[0])/2-i)/s,(c(this,Eo)+(e[1]-t[1])/2-r)/o,(c(this,bo)+(t[0]-e[0])/2-i)/s,(c(this,Eo)+(t[1]-e[1])/2-r)/o]},S(Hi,kd,8),S(Hi,kp,2),S(Hi,Tp,c(Hi,kd)+c(Hi,kp));let lp=Hi;var wl,Ao,lr,Rd,sn,Pd,$e,Gt,Ac,Sc,M2;class yv extends N2{constructor(t,i,r,s,o,a){super();S(this,Gt);S(this,wl);S(this,Ao,null);S(this,lr);S(this,Rd);S(this,sn);S(this,Pd);S(this,$e);E(this,$e,t),E(this,sn,i),E(this,wl,r),E(this,Pd,s),E(this,lr,o),E(this,Rd,a),A(this,Gt,M2).call(this,a);const{x:l,y:u,width:d,height:h}=c(this,Ao);for(let f=0,p=t.length;f<p;f+=2)t[f]=(t[f]-l)/d,t[f+1]=(t[f+1]-u)/h;for(let f=0,p=i.length;f<p;f+=2)i[f]=(i[f]-l)/d,i[f+1]=(i[f+1]-u)/h}toSVGPath(){const t=[`M${c(this,$e)[4]} ${c(this,$e)[5]}`];for(let i=6,r=c(this,$e).length;i<r;i+=6){if(isNaN(c(this,$e)[i])){t.push(`L${c(this,$e)[i+4]} ${c(this,$e)[i+5]}`);continue}t.push(`C${c(this,$e)[i]} ${c(this,$e)[i+1]} ${c(this,$e)[i+2]} ${c(this,$e)[i+3]} ${c(this,$e)[i+4]} ${c(this,$e)[i+5]}`)}return t.push("Z"),t.join(" ")}serialize([t,i,r,s],o){const a=r-t,l=s-i;let u,d;switch(o){case 0:u=A(this,Gt,Ac).call(this,c(this,$e),t,s,a,-l),d=A(this,Gt,Ac).call(this,c(this,sn),t,s,a,-l);break;case 90:u=A(this,Gt,Sc).call(this,c(this,$e),t,i,a,l),d=A(this,Gt,Sc).call(this,c(this,sn),t,i,a,l);break;case 180:u=A(this,Gt,Ac).call(this,c(this,$e),r,i,-a,l),d=A(this,Gt,Ac).call(this,c(this,sn),r,i,-a,l);break;case 270:u=A(this,Gt,Sc).call(this,c(this,$e),r,s,-a,-l),d=A(this,Gt,Sc).call(this,c(this,sn),r,s,-a,-l);break}return{outline:Array.from(u),points:[Array.from(d)]}}get box(){return c(this,Ao)}getNewOutline(t,i){const{x:r,y:s,width:o,height:a}=c(this,Ao),[l,u,d,h]=c(this,wl),f=o*d,p=a*h,m=r*d+l,v=s*h+u,b=new lp({x:c(this,sn)[0]*f+m,y:c(this,sn)[1]*p+v},c(this,wl),c(this,Pd),t,c(this,Rd),i??c(this,lr));for(let g=2;g<c(this,sn).length;g+=2)b.add({x:c(this,sn)[g]*f+m,y:c(this,sn)[g+1]*p+v});return b.getOutlines()}}wl=new WeakMap,Ao=new WeakMap,lr=new WeakMap,Rd=new WeakMap,sn=new WeakMap,Pd=new WeakMap,$e=new WeakMap,Gt=new WeakSet,Ac=function(t,i,r,s,o){const a=new Float64Array(t.length);for(let l=0,u=t.length;l<u;l+=2)a[l]=i+t[l]*s,a[l+1]=r+t[l+1]*o;return a},Sc=function(t,i,r,s,o){const a=new Float64Array(t.length);for(let l=0,u=t.length;l<u;l+=2)a[l]=i+t[l+1]*s,a[l+1]=r+t[l]*o;return a},M2=function(t){const i=c(this,$e);let r=i[4],s=i[5],o=r,a=s,l=r,u=s,d=r,h=s;const f=t?Math.max:Math.min;for(let g=6,y=i.length;g<y;g+=6){if(isNaN(i[g]))o=Math.min(o,i[g+4]),a=Math.min(a,i[g+5]),l=Math.max(l,i[g+4]),u=Math.max(u,i[g+5]),h<i[g+5]?(d=i[g+4],h=i[g+5]):h===i[g+5]&&(d=f(d,i[g+4]));else{const x=V.bezierBoundingBox(r,s,...i.slice(g,g+6));o=Math.min(o,x[0]),a=Math.min(a,x[1]),l=Math.max(l,x[2]),u=Math.max(u,x[3]),h<x[3]?(d=x[2],h=x[3]):h===x[3]&&(d=f(d,x[2]))}r=i[g+4],s=i[g+5]}const p=o-c(this,lr),m=a-c(this,lr),v=l-o+2*c(this,lr),b=u-a+2*c(this,lr);E(this,Ao,{x:p,y:m,width:v,height:b,lastPoint:[d,h]})};var Ld,Nd,Kn,So,bl,qe,Md,El,Fd,Dd,Zr,Al,be,xv,wv,F2,Fs,D2,Fr;const Bi=class Bi{constructor({editor:e=null,uiManager:t=null}){S(this,be);S(this,Ld,A(this,be,F2).bind(this));S(this,Nd,A(this,be,D2).bind(this));S(this,Kn,null);S(this,So,null);S(this,bl);S(this,qe,null);S(this,Md,!1);S(this,El,!1);S(this,Fd,null);S(this,Dd);S(this,Zr,null);S(this,Al);var i;e?(E(this,El,!1),E(this,Al,Q.HIGHLIGHT_COLOR),E(this,Fd,e)):(E(this,El,!0),E(this,Al,Q.HIGHLIGHT_DEFAULT_COLOR)),E(this,Zr,(e==null?void 0:e._uiManager)||t),E(this,Dd,c(this,Zr)._eventBus),E(this,bl,(e==null?void 0:e.color)||((i=c(this,Zr))==null?void 0:i.highlightColors.values().next().value)||"#FFFF98")}static get _keyboardManager(){return le(this,"_keyboardManager",new ah([[["Escape","mac+Escape"],Bi.prototype._hideDropdownFromKeyboard],[[" ","mac+ "],Bi.prototype._colorSelectFromKeyboard],[["ArrowDown","ArrowRight","mac+ArrowDown","mac+ArrowRight"],Bi.prototype._moveToNext],[["ArrowUp","ArrowLeft","mac+ArrowUp","mac+ArrowLeft"],Bi.prototype._moveToPrevious],[["Home","mac+Home"],Bi.prototype._moveToBeginning],[["End","mac+End"],Bi.prototype._moveToEnd]]))}renderButton(){const e=E(this,Kn,document.createElement("button"));e.className="colorPicker",e.tabIndex="0",e.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-button"),e.setAttribute("aria-haspopup",!0),e.addEventListener("click",A(this,be,Fs).bind(this)),e.addEventListener("keydown",c(this,Ld));const t=E(this,So,document.createElement("span"));return t.className="swatch",t.setAttribute("aria-hidden",!0),t.style.backgroundColor=c(this,bl),e.append(t),e}renderMainDropdown(){const e=E(this,qe,A(this,be,xv).call(this));return e.setAttribute("aria-orientation","horizontal"),e.setAttribute("aria-labelledby","highlightColorPickerLabel"),e}_colorSelectFromKeyboard(e){if(e.target===c(this,Kn)){A(this,be,Fs).call(this,e);return}const t=e.target.getAttribute("data-color");t&&A(this,be,wv).call(this,t,e)}_moveToNext(e){var t,i;if(!c(this,be,Fr)){A(this,be,Fs).call(this,e);return}if(e.target===c(this,Kn)){(t=c(this,qe).firstChild)==null||t.focus();return}(i=e.target.nextSibling)==null||i.focus()}_moveToPrevious(e){var t,i;if(e.target===((t=c(this,qe))==null?void 0:t.firstChild)||e.target===c(this,Kn)){c(this,be,Fr)&&this._hideDropdownFromKeyboard();return}c(this,be,Fr)||A(this,be,Fs).call(this,e),(i=e.target.previousSibling)==null||i.focus()}_moveToBeginning(e){var t;if(!c(this,be,Fr)){A(this,be,Fs).call(this,e);return}(t=c(this,qe).firstChild)==null||t.focus()}_moveToEnd(e){var t;if(!c(this,be,Fr)){A(this,be,Fs).call(this,e);return}(t=c(this,qe).lastChild)==null||t.focus()}hideDropdown(){var e;(e=c(this,qe))==null||e.classList.add("hidden"),window.removeEventListener("pointerdown",c(this,Nd))}_hideDropdownFromKeyboard(){var e;if(!c(this,El)){if(!c(this,be,Fr)){(e=c(this,Fd))==null||e.unselect();return}this.hideDropdown(),c(this,Kn).focus({preventScroll:!0,focusVisible:c(this,Md)})}}updateColor(e){if(c(this,So)&&(c(this,So).style.backgroundColor=e),!c(this,qe))return;const t=c(this,Zr).highlightColors.values();for(const i of c(this,qe).children)i.setAttribute("aria-selected",t.next().value===e)}destroy(){var e,t;(e=c(this,Kn))==null||e.remove(),E(this,Kn,null),E(this,So,null),(t=c(this,qe))==null||t.remove(),E(this,qe,null)}};Ld=new WeakMap,Nd=new WeakMap,Kn=new WeakMap,So=new WeakMap,bl=new WeakMap,qe=new WeakMap,Md=new WeakMap,El=new WeakMap,Fd=new WeakMap,Dd=new WeakMap,Zr=new WeakMap,Al=new WeakMap,be=new WeakSet,xv=function(){const e=document.createElement("div");e.addEventListener("contextmenu",Qt),e.className="dropdown",e.role="listbox",e.setAttribute("aria-multiselectable",!1),e.setAttribute("aria-orientation","vertical"),e.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-dropdown");for(const[t,i]of c(this,Zr).highlightColors){const r=document.createElement("button");r.tabIndex="0",r.role="option",r.setAttribute("data-color",i),r.title=t,r.setAttribute("data-l10n-id",`pdfjs-editor-colorpicker-${t}`);const s=document.createElement("span");r.append(s),s.className="swatch",s.style.backgroundColor=i,r.setAttribute("aria-selected",i===c(this,bl)),r.addEventListener("click",A(this,be,wv).bind(this,i)),e.append(r)}return e.addEventListener("keydown",c(this,Ld)),e},wv=function(e,t){t.stopPropagation(),c(this,Dd).dispatch("switchannotationeditorparams",{source:this,type:c(this,Al),value:e})},F2=function(e){Bi._keyboardManager.exec(this,e)},Fs=function(e){if(c(this,be,Fr)){this.hideDropdown();return}if(E(this,Md,e.detail===0),window.addEventListener("pointerdown",c(this,Nd)),c(this,qe)){c(this,qe).classList.remove("hidden");return}const t=E(this,qe,A(this,be,xv).call(this));c(this,Kn).append(t)},D2=function(e){var t;(t=c(this,qe))!=null&&t.contains(e.target)||this.hideDropdown()},Fr=function(){return c(this,qe)&&!c(this,qe).classList.contains("hidden")};let cp=Bi;var Sl,Id,Jr,Co,Cl,wn,Od,jd,_o,Yn,Rt,on,Rp,_l,ko,Xe,kl,wi,$d,ne,bv,Ev,I2,O2,j2,Av,Cc,kn,ma,$2,mf,_c,H2,B2,z2,U2;const fe=class fe extends me{constructor(t){super({...t,name:"highlightEditor"});S(this,ne);S(this,Sl,null);S(this,Id,0);S(this,Jr);S(this,Co,null);S(this,Cl,null);S(this,wn,null);S(this,Od,null);S(this,jd,0);S(this,_o,null);S(this,Yn,null);S(this,Rt,null);S(this,on,!1);S(this,Rp,A(this,ne,$2).bind(this));S(this,_l,null);S(this,ko);S(this,Xe,null);S(this,kl,"");S(this,wi);S(this,$d,"");this.color=t.color||fe._defaultColor,E(this,wi,t.thickness||fe._defaultThickness),E(this,ko,t.opacity||fe._defaultOpacity),E(this,Jr,t.boxes||null),E(this,$d,t.methodOfCreation||""),E(this,kl,t.text||""),this._isDraggable=!1,t.highlightId>-1?(E(this,on,!0),A(this,ne,Ev).call(this,t),A(this,ne,Cc).call(this)):(E(this,Sl,t.anchorNode),E(this,Id,t.anchorOffset),E(this,Od,t.focusNode),E(this,jd,t.focusOffset),A(this,ne,bv).call(this),A(this,ne,Cc).call(this),this.rotate(this.rotation))}static get _keyboardManager(){const t=fe.prototype;return le(this,"_keyboardManager",new ah([[["ArrowLeft","mac+ArrowLeft"],t._moveCaret,{args:[0]}],[["ArrowRight","mac+ArrowRight"],t._moveCaret,{args:[1]}],[["ArrowUp","mac+ArrowUp"],t._moveCaret,{args:[2]}],[["ArrowDown","mac+ArrowDown"],t._moveCaret,{args:[3]}]]))}get telemetryInitialData(){return{action:"added",type:c(this,on)?"free_highlight":"highlight",color:this._uiManager.highlightColorNames.get(this.color),thickness:c(this,wi),methodOfCreation:c(this,$d)}}get telemetryFinalData(){return{type:"highlight",color:this._uiManager.highlightColorNames.get(this.color)}}static computeTelemetryFinalData(t){return{numberOfColors:t.get("color").size}}static initialize(t,i){var r;me.initialize(t,i),fe._defaultColor||(fe._defaultColor=((r=i.highlightColors)==null?void 0:r.values().next().value)||"#fff066")}static updateDefaultParams(t,i){switch(t){case Q.HIGHLIGHT_DEFAULT_COLOR:fe._defaultColor=i;break;case Q.HIGHLIGHT_THICKNESS:fe._defaultThickness=i;break}}translateInPage(t,i){}get toolbarPosition(){return c(this,_l)}updateParams(t,i){switch(t){case Q.HIGHLIGHT_COLOR:A(this,ne,I2).call(this,i);break;case Q.HIGHLIGHT_THICKNESS:A(this,ne,O2).call(this,i);break}}static get defaultPropertiesToUpdate(){return[[Q.HIGHLIGHT_DEFAULT_COLOR,fe._defaultColor],[Q.HIGHLIGHT_THICKNESS,fe._defaultThickness]]}get propertiesToUpdate(){return[[Q.HIGHLIGHT_COLOR,this.color||fe._defaultColor],[Q.HIGHLIGHT_THICKNESS,c(this,wi)||fe._defaultThickness],[Q.HIGHLIGHT_FREE,c(this,on)]]}async addEditToolbar(){const t=await super.addEditToolbar();return t?(this._uiManager.highlightColors&&(E(this,Cl,new cp({editor:this})),t.addColorPicker(c(this,Cl))),t):null}disableEditing(){super.disableEditing(),this.div.classList.toggle("disabled",!0)}enableEditing(){super.enableEditing(),this.div.classList.toggle("disabled",!1)}fixAndSetPosition(){return super.fixAndSetPosition(A(this,ne,_c).call(this))}getBaseTranslation(){return[0,0]}getRect(t,i){return super.getRect(t,i,A(this,ne,_c).call(this))}onceAdded(){this.parent.addUndoableEditor(this),this.div.focus()}remove(){A(this,ne,Av).call(this),this._reportTelemetry({action:"deleted"}),super.remove()}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(A(this,ne,Cc).call(this),this.isAttachedToDOM||this.parent.add(this)))}setParent(t){var r;let i=!1;this.parent&&!t?A(this,ne,Av).call(this):t&&(A(this,ne,Cc).call(this,t),i=!this.parent&&((r=this.div)==null?void 0:r.classList.contains("selectedEditor"))),super.setParent(t),this.show(this._isVisible),i&&this.select()}rotate(t){var s,o,a;const{drawLayer:i}=this.parent;let r;c(this,on)?(t=(t-this.rotation+360)%360,r=A(s=fe,kn,ma).call(s,c(this,Yn).box,t)):r=A(o=fe,kn,ma).call(o,this,t),i.rotate(c(this,Rt),t),i.rotate(c(this,Xe),t),i.updateBox(c(this,Rt),r),i.updateBox(c(this,Xe),A(a=fe,kn,ma).call(a,c(this,wn).box,t))}render(){if(this.div)return this.div;const t=super.render();c(this,kl)&&(t.setAttribute("aria-label",c(this,kl)),t.setAttribute("role","mark")),c(this,on)?t.classList.add("free"):this.div.addEventListener("keydown",c(this,Rp));const i=E(this,_o,document.createElement("div"));t.append(i),i.setAttribute("aria-hidden","true"),i.className="internal",i.style.clipPath=c(this,Co);const[r,s]=this.parentDimensions;return this.setDims(this.width*r,this.height*s),sp(this,c(this,_o),["pointerover","pointerleave"]),this.enableEditing(),t}pointerover(){this.parent.drawLayer.addClass(c(this,Xe),"hovered")}pointerleave(){this.parent.drawLayer.removeClass(c(this,Xe),"hovered")}_moveCaret(t){switch(this.parent.unselect(this),t){case 0:case 2:A(this,ne,mf).call(this,!0);break;case 1:case 3:A(this,ne,mf).call(this,!1);break}}select(){var t,i;super.select(),c(this,Xe)&&((t=this.parent)==null||t.drawLayer.removeClass(c(this,Xe),"hovered"),(i=this.parent)==null||i.drawLayer.addClass(c(this,Xe),"selected"))}unselect(){var t;super.unselect(),c(this,Xe)&&((t=this.parent)==null||t.drawLayer.removeClass(c(this,Xe),"selected"),c(this,on)||A(this,ne,mf).call(this,!1))}get _mustFixPosition(){return!c(this,on)}show(t=this._isVisible){super.show(t),this.parent&&(this.parent.drawLayer.show(c(this,Rt),t),this.parent.drawLayer.show(c(this,Xe),t))}static startHighlighting(t,i,{target:r,x:s,y:o}){const{x:a,y:l,width:u,height:d}=r.getBoundingClientRect(),h=v=>{A(this,kn,z2).call(this,t,v)},f={capture:!0,passive:!1},p=v=>{v.preventDefault(),v.stopPropagation()},m=v=>{r.removeEventListener("pointermove",h),window.removeEventListener("blur",m),window.removeEventListener("pointerup",m),window.removeEventListener("pointerdown",p,f),window.removeEventListener("contextmenu",Qt),A(this,kn,U2).call(this,t,v)};window.addEventListener("blur",m),window.addEventListener("pointerup",m),window.addEventListener("pointerdown",p,f),window.addEventListener("contextmenu",Qt),r.addEventListener("pointermove",h),this._freeHighlight=new lp({x:s,y:o},[a,l,u,d],t.scale,this._defaultThickness/2,i,.001),{id:this._freeHighlightId,clipPathId:this._freeHighlightClipId}=t.drawLayer.highlight(this._freeHighlight,this._defaultColor,this._defaultOpacity,!0)}static deserialize(t,i,r){var v;const s=super.deserialize(t,i,r),{rect:[o,a,l,u],color:d,quadPoints:h}=t;s.color=V.makeHexColor(...d),E(s,ko,t.opacity);const[f,p]=s.pageDimensions;s.width=(l-o)/f,s.height=(u-a)/p;const m=E(s,Jr,[]);for(let b=0;b<h.length;b+=8)m.push({x:(h[4]-l)/f,y:(u-(1-h[b+5]))/p,width:(h[b+2]-h[b])/f,height:(h[b+5]-h[b+1])/p});return A(v=s,ne,bv).call(v),s}serialize(t=!1){if(this.isEmpty()||t)return null;const i=this.getRect(0,0),r=me._colorManager.convert(this.color);return{annotationType:ae.HIGHLIGHT,color:r,opacity:c(this,ko),thickness:c(this,wi),quadPoints:A(this,ne,H2).call(this),outlines:A(this,ne,B2).call(this,i),pageIndex:this.pageIndex,rect:i,rotation:A(this,ne,_c).call(this),structTreeParentId:this._structTreeParentId}}static canCreateNewEmptyEditor(){return!1}};Sl=new WeakMap,Id=new WeakMap,Jr=new WeakMap,Co=new WeakMap,Cl=new WeakMap,wn=new WeakMap,Od=new WeakMap,jd=new WeakMap,_o=new WeakMap,Yn=new WeakMap,Rt=new WeakMap,on=new WeakMap,Rp=new WeakMap,_l=new WeakMap,ko=new WeakMap,Xe=new WeakMap,kl=new WeakMap,wi=new WeakMap,$d=new WeakMap,ne=new WeakSet,bv=function(){const t=new mv(c(this,Jr),.001);E(this,Yn,t.getOutlines()),{x:this.x,y:this.y,width:this.width,height:this.height}=c(this,Yn).box;const i=new mv(c(this,Jr),.0025,.001,this._uiManager.direction==="ltr");E(this,wn,i.getOutlines());const{lastPoint:r}=c(this,wn).box;E(this,_l,[(r[0]-this.x)/this.width,(r[1]-this.y)/this.height])},Ev=function({highlightOutlines:t,highlightId:i,clipPathId:r}){var h,f;if(E(this,Yn,t),E(this,wn,t.getNewOutline(c(this,wi)/2+1.5,.0025)),i>=0)E(this,Rt,i),E(this,Co,r),this.parent.drawLayer.finalizeLine(i,t),E(this,Xe,this.parent.drawLayer.highlightOutline(c(this,wn)));else if(this.parent){const p=this.parent.viewport.rotation;this.parent.drawLayer.updateLine(c(this,Rt),t),this.parent.drawLayer.updateBox(c(this,Rt),A(h=fe,kn,ma).call(h,c(this,Yn).box,(p-this.rotation+360)%360)),this.parent.drawLayer.updateLine(c(this,Xe),c(this,wn)),this.parent.drawLayer.updateBox(c(this,Xe),A(f=fe,kn,ma).call(f,c(this,wn).box,p))}const{x:o,y:a,width:l,height:u}=t.box;switch(this.rotation){case 0:this.x=o,this.y=a,this.width=l,this.height=u;break;case 90:{const[p,m]=this.parentDimensions;this.x=a,this.y=1-o,this.width=l*m/p,this.height=u*p/m;break}case 180:this.x=1-o,this.y=1-a,this.width=l,this.height=u;break;case 270:{const[p,m]=this.parentDimensions;this.x=1-a,this.y=o,this.width=l*m/p,this.height=u*p/m;break}}const{lastPoint:d}=c(this,wn).box;E(this,_l,[(d[0]-o)/l,(d[1]-a)/u])},I2=function(t){const i=s=>{var o,a;this.color=s,(o=this.parent)==null||o.drawLayer.changeColor(c(this,Rt),s),(a=c(this,Cl))==null||a.updateColor(s)},r=this.color;this.addCommands({cmd:i.bind(this,t),undo:i.bind(this,r),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Q.HIGHLIGHT_COLOR,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"color_changed",color:this._uiManager.highlightColorNames.get(t)},!0)},O2=function(t){const i=c(this,wi),r=s=>{E(this,wi,s),A(this,ne,j2).call(this,s)};this.addCommands({cmd:r.bind(this,t),undo:r.bind(this,i),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Q.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"thickness_changed",thickness:t},!0)},j2=function(t){if(!c(this,on))return;A(this,ne,Ev).call(this,{highlightOutlines:c(this,Yn).getNewOutline(t/2)}),this.fixAndSetPosition();const[i,r]=this.parentDimensions;this.setDims(this.width*i,this.height*r)},Av=function(){c(this,Rt)===null||!this.parent||(this.parent.drawLayer.remove(c(this,Rt)),E(this,Rt,null),this.parent.drawLayer.remove(c(this,Xe)),E(this,Xe,null))},Cc=function(t=this.parent){c(this,Rt)===null&&({id:Zt(this,Rt)._,clipPathId:Zt(this,Co)._}=t.drawLayer.highlight(c(this,Yn),this.color,c(this,ko)),E(this,Xe,t.drawLayer.highlightOutline(c(this,wn))),c(this,_o)&&(c(this,_o).style.clipPath=c(this,Co)))},kn=new WeakSet,ma=function({x:t,y:i,width:r,height:s},o){switch(o){case 90:return{x:1-i-s,y:t,width:s,height:r};case 180:return{x:1-t-r,y:1-i-s,width:r,height:s};case 270:return{x:i,y:1-t-r,width:s,height:r}}return{x:t,y:i,width:r,height:s}},$2=function(t){fe._keyboardManager.exec(this,t)},mf=function(t){if(!c(this,Sl))return;const i=window.getSelection();t?i.setPosition(c(this,Sl),c(this,Id)):i.setPosition(c(this,Od),c(this,jd))},_c=function(){return c(this,on)?this.rotation:0},H2=function(){if(c(this,on))return null;const[t,i]=this.pageDimensions,r=c(this,Jr),s=new Array(r.length*8);let o=0;for(const{x:a,y:l,width:u,height:d}of r){const h=a*t,f=(1-l-d)*i;s[o]=s[o+4]=h,s[o+1]=s[o+3]=f,s[o+2]=s[o+6]=h+u*t,s[o+5]=s[o+7]=f+d*i,o+=8}return s},B2=function(t){return c(this,Yn).serialize(t,A(this,ne,_c).call(this))},z2=function(t,i){this._freeHighlight.add(i)&&t.drawLayer.updatePath(this._freeHighlightId,this._freeHighlight)},U2=function(t,i){this._freeHighlight.isEmpty()?t.drawLayer.removeFreeHighlight(this._freeHighlightId):t.createAndAddNewEditor(i,!1,{highlightId:this._freeHighlightId,highlightOutlines:this._freeHighlight.getOutlines(),clipPathId:this._freeHighlightClipId,methodOfCreation:"main_toolbar"}),this._freeHighlightId=-1,this._freeHighlight=null,this._freeHighlightClipId=""},S(fe,kn),Z(fe,"_defaultColor",null),Z(fe,"_defaultOpacity",1),Z(fe,"_defaultThickness",12),Z(fe,"_l10nPromise"),Z(fe,"_type","highlight"),Z(fe,"_editorType",ae.HIGHLIGHT),Z(fe,"_freeHighlightId",-1),Z(fe,"_freeHighlight",null),Z(fe,"_freeHighlightClipId","");let up=fe;var To,Ro,Hd,Bd,zd,Po,bi,cr,bn,Lo,No,Mo,Fo,Do,es,H,V2,W2,G2,q2,Cv,X2,_v,K2,Y2,Q2,Z2,J2,Ds,kv,gf,vf,ga,Tv,yf,_r,eC,Rv,tC,nC,Pv,xf,kc;const Re=class Re extends me{constructor(t){super({...t,name:"inkEditor"});S(this,H);S(this,To,0);S(this,Ro,0);S(this,Hd,this.canvasPointermove.bind(this));S(this,Bd,this.canvasPointerleave.bind(this));S(this,zd,this.canvasPointerup.bind(this));S(this,Po,this.canvasPointerdown.bind(this));S(this,bi,null);S(this,cr,new Path2D);S(this,bn,!1);S(this,Lo,!1);S(this,No,!1);S(this,Mo,null);S(this,Fo,0);S(this,Do,0);S(this,es,null);this.color=t.color||null,this.thickness=t.thickness||null,this.opacity=t.opacity||null,this.paths=[],this.bezierPath2D=[],this.allRawPaths=[],this.currentPath=[],this.scaleFactor=1,this.translationX=this.translationY=0,this.x=0,this.y=0,this._willKeepAspectRatio=!0}static initialize(t,i){me.initialize(t,i)}static updateDefaultParams(t,i){switch(t){case Q.INK_THICKNESS:Re._defaultThickness=i;break;case Q.INK_COLOR:Re._defaultColor=i;break;case Q.INK_OPACITY:Re._defaultOpacity=i/100;break}}updateParams(t,i){switch(t){case Q.INK_THICKNESS:A(this,H,V2).call(this,i);break;case Q.INK_COLOR:A(this,H,W2).call(this,i);break;case Q.INK_OPACITY:A(this,H,G2).call(this,i);break}}static get defaultPropertiesToUpdate(){return[[Q.INK_THICKNESS,Re._defaultThickness],[Q.INK_COLOR,Re._defaultColor||me._defaultLineColor],[Q.INK_OPACITY,Math.round(Re._defaultOpacity*100)]]}get propertiesToUpdate(){return[[Q.INK_THICKNESS,this.thickness||Re._defaultThickness],[Q.INK_COLOR,this.color||Re._defaultColor||me._defaultLineColor],[Q.INK_OPACITY,Math.round(100*(this.opacity??Re._defaultOpacity))]]}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.canvas||(A(this,H,gf).call(this),A(this,H,vf).call(this)),this.isAttachedToDOM||(this.parent.add(this),A(this,H,ga).call(this)),A(this,H,kc).call(this)))}remove(){this.canvas!==null&&(this.isEmpty()||this.commit(),this.canvas.width=this.canvas.height=0,this.canvas.remove(),this.canvas=null,c(this,bi)&&(clearTimeout(c(this,bi)),E(this,bi,null)),c(this,Mo).disconnect(),E(this,Mo,null),super.remove())}setParent(t){!this.parent&&t?this._uiManager.removeShouldRescale(this):this.parent&&t===null&&this._uiManager.addShouldRescale(this),super.setParent(t)}onScaleChanging(){const[t,i]=this.parentDimensions,r=this.width*t,s=this.height*i;this.setDimensions(r,s)}enableEditMode(){c(this,bn)||this.canvas===null||(super.enableEditMode(),this._isDraggable=!1,this.canvas.addEventListener("pointerdown",c(this,Po)))}disableEditMode(){!this.isInEditMode()||this.canvas===null||(super.disableEditMode(),this._isDraggable=!this.isEmpty(),this.div.classList.remove("editing"),this.canvas.removeEventListener("pointerdown",c(this,Po)))}onceAdded(){this._isDraggable=!this.isEmpty()}isEmpty(){return this.paths.length===0||this.paths.length===1&&this.paths[0].length===0}commit(){c(this,bn)||(super.commit(),this.isEditing=!1,this.disableEditMode(),this.setInForeground(),E(this,bn,!0),this.div.classList.add("disabled"),A(this,H,kc).call(this,!0),this.select(),this.parent.addInkEditorIfNeeded(!0),this.moveInDOM(),this.div.focus({preventScroll:!0}))}focusin(t){this._focusEventsAllowed&&(super.focusin(t),this.enableEditMode())}canvasPointerdown(t){t.button!==0||!this.isInEditMode()||c(this,bn)||(this.setInForeground(),t.preventDefault(),this.div.contains(document.activeElement)||this.div.focus({preventScroll:!0}),A(this,H,X2).call(this,t.offsetX,t.offsetY))}canvasPointermove(t){t.preventDefault(),A(this,H,_v).call(this,t.offsetX,t.offsetY)}canvasPointerup(t){t.preventDefault(),A(this,H,kv).call(this,t)}canvasPointerleave(t){A(this,H,kv).call(this,t)}get isResizable(){return!this.isEmpty()&&c(this,bn)}render(){if(this.div)return this.div;let t,i;this.width&&(t=this.x,i=this.y),super.render(),this.div.setAttribute("data-l10n-id","pdfjs-ink");const[r,s,o,a]=A(this,H,q2).call(this);if(this.setAt(r,s,0,0),this.setDims(o,a),A(this,H,gf).call(this),this.width){const[l,u]=this.parentDimensions;this.setAspectRatio(this.width*l,this.height*u),this.setAt(t*l,i*u,this.width*l,this.height*u),E(this,No,!0),A(this,H,ga).call(this),this.setDims(this.width*l,this.height*u),A(this,H,Ds).call(this),this.div.classList.add("disabled")}else this.div.classList.add("editing"),this.enableEditMode();return A(this,H,vf).call(this),this.div}setDimensions(t,i){const r=Math.round(t),s=Math.round(i);if(c(this,Fo)===r&&c(this,Do)===s)return;E(this,Fo,r),E(this,Do,s),this.canvas.style.visibility="hidden";const[o,a]=this.parentDimensions;this.width=t/o,this.height=i/a,this.fixAndSetPosition(),c(this,bn)&&A(this,H,Tv).call(this,t,i),A(this,H,ga).call(this),A(this,H,Ds).call(this),this.canvas.style.visibility="visible",this.fixDims()}static deserialize(t,i,r){var b,g,y;if(t instanceof b2)return null;const s=super.deserialize(t,i,r);s.thickness=t.thickness,s.color=V.makeHexColor(...t.color),s.opacity=t.opacity;const[o,a]=s.pageDimensions,l=s.width*o,u=s.height*a,d=s.parentScale,h=t.thickness/2;E(s,bn,!0),E(s,Fo,Math.round(l)),E(s,Do,Math.round(u));const{paths:f,rect:p,rotation:m}=t;for(let{bezier:x}of f){x=A(b=Re,_r,tC).call(b,x,p,m);const _=[];s.paths.push(_);let k=d*(x[0]-h),T=d*(x[1]-h);for(let L=2,D=x.length;L<D;L+=6){const F=d*(x[L]-h),O=d*(x[L+1]-h),Y=d*(x[L+2]-h),X=d*(x[L+3]-h),K=d*(x[L+4]-h),$=d*(x[L+5]-h);_.push([[k,T],[F,O],[Y,X],[K,$]]),k=K,T=$}const R=A(this,_r,eC).call(this,_);s.bezierPath2D.push(R)}const v=A(g=s,H,Pv).call(g);return E(s,Ro,Math.max(me.MIN_SIZE,v[2]-v[0])),E(s,To,Math.max(me.MIN_SIZE,v[3]-v[1])),A(y=s,H,Tv).call(y,l,u),s}serialize(){if(this.isEmpty())return null;const t=this.getRect(0,0),i=me._colorManager.convert(this.ctx.strokeStyle);return{annotationType:ae.INK,color:i,thickness:this.thickness,opacity:this.opacity,paths:A(this,H,nC).call(this,this.scaleFactor/this.parentScale,this.translationX,this.translationY,t),pageIndex:this.pageIndex,rect:t,rotation:this.rotation,structTreeParentId:this._structTreeParentId}}};To=new WeakMap,Ro=new WeakMap,Hd=new WeakMap,Bd=new WeakMap,zd=new WeakMap,Po=new WeakMap,bi=new WeakMap,cr=new WeakMap,bn=new WeakMap,Lo=new WeakMap,No=new WeakMap,Mo=new WeakMap,Fo=new WeakMap,Do=new WeakMap,es=new WeakMap,H=new WeakSet,V2=function(t){const i=s=>{this.thickness=s,A(this,H,kc).call(this)},r=this.thickness;this.addCommands({cmd:i.bind(this,t),undo:i.bind(this,r),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Q.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0})},W2=function(t){const i=s=>{this.color=s,A(this,H,Ds).call(this)},r=this.color;this.addCommands({cmd:i.bind(this,t),undo:i.bind(this,r),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Q.INK_COLOR,overwriteIfSameType:!0,keepUndo:!0})},G2=function(t){const i=s=>{this.opacity=s,A(this,H,Ds).call(this)};t/=100;const r=this.opacity;this.addCommands({cmd:i.bind(this,t),undo:i.bind(this,r),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Q.INK_OPACITY,overwriteIfSameType:!0,keepUndo:!0})},q2=function(){const{parentRotation:t,parentDimensions:[i,r]}=this;switch(t){case 90:return[0,r,r,i];case 180:return[i,r,i,r];case 270:return[i,0,r,i];default:return[0,0,i,r]}},Cv=function(){const{ctx:t,color:i,opacity:r,thickness:s,parentScale:o,scaleFactor:a}=this;t.lineWidth=s*o/a,t.lineCap="round",t.lineJoin="round",t.miterLimit=10,t.strokeStyle=`${i}${xM(r)}`},X2=function(t,i){this.canvas.addEventListener("contextmenu",Qt),this.canvas.addEventListener("pointerleave",c(this,Bd)),this.canvas.addEventListener("pointermove",c(this,Hd)),this.canvas.addEventListener("pointerup",c(this,zd)),this.canvas.removeEventListener("pointerdown",c(this,Po)),this.isEditing=!0,c(this,No)||(E(this,No,!0),A(this,H,ga).call(this),this.thickness||(this.thickness=Re._defaultThickness),this.color||(this.color=Re._defaultColor||me._defaultLineColor),this.opacity??(this.opacity=Re._defaultOpacity)),this.currentPath.push([t,i]),E(this,Lo,!1),A(this,H,Cv).call(this),E(this,es,()=>{A(this,H,Q2).call(this),c(this,es)&&window.requestAnimationFrame(c(this,es))}),window.requestAnimationFrame(c(this,es))},_v=function(t,i){const[r,s]=this.currentPath.at(-1);if(this.currentPath.length>1&&t===r&&i===s)return;const o=this.currentPath;let a=c(this,cr);if(o.push([t,i]),E(this,Lo,!0),o.length<=2){a.moveTo(...o[0]),a.lineTo(t,i);return}o.length===3&&(E(this,cr,a=new Path2D),a.moveTo(...o[0])),A(this,H,Z2).call(this,a,...o.at(-3),...o.at(-2),t,i)},K2=function(){if(this.currentPath.length===0)return;const t=this.currentPath.at(-1);c(this,cr).lineTo(...t)},Y2=function(t,i){E(this,es,null),t=Math.min(Math.max(t,0),this.canvas.width),i=Math.min(Math.max(i,0),this.canvas.height),A(this,H,_v).call(this,t,i),A(this,H,K2).call(this);let r;if(this.currentPath.length!==1)r=A(this,H,J2).call(this);else{const u=[t,i];r=[[u,u.slice(),u.slice(),u]]}const s=c(this,cr),o=this.currentPath;this.currentPath=[],E(this,cr,new Path2D);const a=()=>{this.allRawPaths.push(o),this.paths.push(r),this.bezierPath2D.push(s),this._uiManager.rebuild(this)},l=()=>{this.allRawPaths.pop(),this.paths.pop(),this.bezierPath2D.pop(),this.paths.length===0?this.remove():(this.canvas||(A(this,H,gf).call(this),A(this,H,vf).call(this)),A(this,H,kc).call(this))};this.addCommands({cmd:a,undo:l,mustExec:!0})},Q2=function(){if(!c(this,Lo))return;E(this,Lo,!1);const t=Math.ceil(this.thickness*this.parentScale),i=this.currentPath.slice(-3),r=i.map(a=>a[0]),s=i.map(a=>a[1]);Math.min(...r)-t,Math.max(...r)+t,Math.min(...s)-t,Math.max(...s)+t;const{ctx:o}=this;o.save(),o.clearRect(0,0,this.canvas.width,this.canvas.height);for(const a of this.bezierPath2D)o.stroke(a);o.stroke(c(this,cr)),o.restore()},Z2=function(t,i,r,s,o,a,l){const u=(i+s)/2,d=(r+o)/2,h=(s+a)/2,f=(o+l)/2;t.bezierCurveTo(u+2*(s-u)/3,d+2*(o-d)/3,h+2*(s-h)/3,f+2*(o-f)/3,h,f)},J2=function(){const t=this.currentPath;if(t.length<=2)return[[t[0],t[0],t.at(-1),t.at(-1)]];const i=[];let r,[s,o]=t[0];for(r=1;r<t.length-2;r++){const[p,m]=t[r],[v,b]=t[r+1],g=(p+v)/2,y=(m+b)/2,x=[s+2*(p-s)/3,o+2*(m-o)/3],_=[g+2*(p-g)/3,y+2*(m-y)/3];i.push([[s,o],x,_,[g,y]]),[s,o]=[g,y]}const[a,l]=t[r],[u,d]=t[r+1],h=[s+2*(a-s)/3,o+2*(l-o)/3],f=[u+2*(a-u)/3,d+2*(l-d)/3];return i.push([[s,o],h,f,[u,d]]),i},Ds=function(){if(this.isEmpty()){A(this,H,yf).call(this);return}A(this,H,Cv).call(this);const{canvas:t,ctx:i}=this;i.setTransform(1,0,0,1,0,0),i.clearRect(0,0,t.width,t.height),A(this,H,yf).call(this);for(const r of this.bezierPath2D)i.stroke(r)},kv=function(t){this.canvas.removeEventListener("pointerleave",c(this,Bd)),this.canvas.removeEventListener("pointermove",c(this,Hd)),this.canvas.removeEventListener("pointerup",c(this,zd)),this.canvas.addEventListener("pointerdown",c(this,Po)),c(this,bi)&&clearTimeout(c(this,bi)),E(this,bi,setTimeout(()=>{E(this,bi,null),this.canvas.removeEventListener("contextmenu",Qt)},10)),A(this,H,Y2).call(this,t.offsetX,t.offsetY),this.addToAnnotationStorage(),this.setInBackground()},gf=function(){this.canvas=document.createElement("canvas"),this.canvas.width=this.canvas.height=0,this.canvas.className="inkEditorCanvas",this.canvas.setAttribute("data-l10n-id","pdfjs-ink-canvas"),this.div.append(this.canvas),this.ctx=this.canvas.getContext("2d")},vf=function(){E(this,Mo,new ResizeObserver(t=>{const i=t[0].contentRect;i.width&&i.height&&this.setDimensions(i.width,i.height)})),c(this,Mo).observe(this.div)},ga=function(){if(!c(this,No))return;const[t,i]=this.parentDimensions;this.canvas.width=Math.ceil(this.width*t),this.canvas.height=Math.ceil(this.height*i),A(this,H,yf).call(this)},Tv=function(t,i){const r=A(this,H,xf).call(this),s=(t-r)/c(this,Ro),o=(i-r)/c(this,To);this.scaleFactor=Math.min(s,o)},yf=function(){const t=A(this,H,xf).call(this)/2;this.ctx.setTransform(this.scaleFactor,0,0,this.scaleFactor,this.translationX*this.scaleFactor+t,this.translationY*this.scaleFactor+t)},_r=new WeakSet,eC=function(t){const i=new Path2D;for(let r=0,s=t.length;r<s;r++){const[o,a,l,u]=t[r];r===0&&i.moveTo(...o),i.bezierCurveTo(a[0],a[1],l[0],l[1],u[0],u[1])}return i},Rv=function(t,i,r){const[s,o,a,l]=i;switch(r){case 0:for(let u=0,d=t.length;u<d;u+=2)t[u]+=s,t[u+1]=l-t[u+1];break;case 90:for(let u=0,d=t.length;u<d;u+=2){const h=t[u];t[u]=t[u+1]+s,t[u+1]=h+o}break;case 180:for(let u=0,d=t.length;u<d;u+=2)t[u]=a-t[u],t[u+1]+=o;break;case 270:for(let u=0,d=t.length;u<d;u+=2){const h=t[u];t[u]=a-t[u+1],t[u+1]=l-h}break;default:throw new Error("Invalid rotation")}return t},tC=function(t,i,r){const[s,o,a,l]=i;switch(r){case 0:for(let u=0,d=t.length;u<d;u+=2)t[u]-=s,t[u+1]=l-t[u+1];break;case 90:for(let u=0,d=t.length;u<d;u+=2){const h=t[u];t[u]=t[u+1]-o,t[u+1]=h-s}break;case 180:for(let u=0,d=t.length;u<d;u+=2)t[u]=a-t[u],t[u+1]-=o;break;case 270:for(let u=0,d=t.length;u<d;u+=2){const h=t[u];t[u]=l-t[u+1],t[u+1]=a-h}break;default:throw new Error("Invalid rotation")}return t},nC=function(t,i,r,s){var d,h;const o=[],a=this.thickness/2,l=t*i+a,u=t*r+a;for(const f of this.paths){const p=[],m=[];for(let v=0,b=f.length;v<b;v++){const[g,y,x,_]=f[v];if(g[0]===_[0]&&g[1]===_[1]&&b===1){const X=t*g[0]+l,K=t*g[1]+u;p.push(X,K),m.push(X,K);break}const k=t*g[0]+l,T=t*g[1]+u,R=t*y[0]+l,L=t*y[1]+u,D=t*x[0]+l,F=t*x[1]+u,O=t*_[0]+l,Y=t*_[1]+u;v===0&&(p.push(k,T),m.push(k,T)),p.push(R,L,D,F,O,Y),m.push(R,L),v===b-1&&m.push(O,Y)}o.push({bezier:A(d=Re,_r,Rv).call(d,p,s,this.rotation),points:A(h=Re,_r,Rv).call(h,m,s,this.rotation)})}return o},Pv=function(){let t=1/0,i=-1/0,r=1/0,s=-1/0;for(const o of this.paths)for(const[a,l,u,d]of o){const h=V.bezierBoundingBox(...a,...l,...u,...d);t=Math.min(t,h[0]),r=Math.min(r,h[1]),i=Math.max(i,h[2]),s=Math.max(s,h[3])}return[t,r,i,s]},xf=function(){return c(this,bn)?Math.ceil(this.thickness*this.parentScale):0},kc=function(t=!1){if(this.isEmpty())return;if(!c(this,bn)){A(this,H,Ds).call(this);return}const i=A(this,H,Pv).call(this),r=A(this,H,xf).call(this);E(this,Ro,Math.max(me.MIN_SIZE,i[2]-i[0])),E(this,To,Math.max(me.MIN_SIZE,i[3]-i[1]));const s=Math.ceil(r+c(this,Ro)*this.scaleFactor),o=Math.ceil(r+c(this,To)*this.scaleFactor),[a,l]=this.parentDimensions;this.width=s/a,this.height=o/l,this.setAspectRatio(s,o);const u=this.translationX,d=this.translationY;this.translationX=-i[0],this.translationY=-i[1],A(this,H,ga).call(this),A(this,H,Ds).call(this),E(this,Fo,s),E(this,Do,o),this.setDims(s,o);const h=t?r/this.scaleFactor/2:0;this.translate(u-this.translationX-h,d-this.translationY-h)},S(Re,_r),Z(Re,"_defaultColor",null),Z(Re,"_defaultOpacity",1),Z(Re,"_defaultThickness",1),Z(Re,"_type","ink"),Z(Re,"_editorType",ae.INK);let Sv=Re;var ct,ut,ts,ur,ns,Tl,Ei,Io,Ai,Qn,Ud,ue,Tc,Rc,wf,Nv,iC,rC,Mv,bf,sC;const Uc=class Uc extends me{constructor(t){super({...t,name:"stampEditor"});S(this,ue);S(this,ct,null);S(this,ut,null);S(this,ts,null);S(this,ur,null);S(this,ns,null);S(this,Tl,"");S(this,Ei,null);S(this,Io,null);S(this,Ai,null);S(this,Qn,!1);S(this,Ud,!1);E(this,ur,t.bitmapUrl),E(this,ns,t.bitmapFile)}static initialize(t,i){me.initialize(t,i)}static get supportedTypes(){return le(this,"supportedTypes",["apng","avif","bmp","gif","jpeg","png","svg+xml","webp","x-icon"].map(i=>`image/${i}`))}static get supportedTypesStr(){return le(this,"supportedTypesStr",this.supportedTypes.join(","))}static isHandlingMimeForPasting(t){return this.supportedTypes.includes(t)}static paste(t,i){i.pasteEditor(ae.STAMP,{bitmapFile:t.getAsFile()})}remove(){var t,i;c(this,ut)&&(E(this,ct,null),this._uiManager.imageManager.deleteId(c(this,ut)),(t=c(this,Ei))==null||t.remove(),E(this,Ei,null),(i=c(this,Io))==null||i.disconnect(),E(this,Io,null),c(this,Ai)&&(clearTimeout(c(this,Ai)),E(this,Ai,null))),super.remove()}rebuild(){if(!this.parent){c(this,ut)&&A(this,ue,wf).call(this);return}super.rebuild(),this.div!==null&&(c(this,ut)&&c(this,Ei)===null&&A(this,ue,wf).call(this),this.isAttachedToDOM||this.parent.add(this))}onceAdded(){this._isDraggable=!0,this.div.focus()}isEmpty(){return!(c(this,ts)||c(this,ct)||c(this,ur)||c(this,ns)||c(this,ut))}get isResizable(){return!0}render(){if(this.div)return this.div;let t,i;if(this.width&&(t=this.x,i=this.y),super.render(),this.div.hidden=!0,this.addAltTextButton(),c(this,ct)?A(this,ue,Nv).call(this):A(this,ue,wf).call(this),this.width){const[r,s]=this.parentDimensions;this.setAt(t*r,i*s,this.width*r,this.height*s)}return this.div}getImageForAltText(){return c(this,Ei)}static deserialize(t,i,r){if(t instanceof E2)return null;const s=super.deserialize(t,i,r),{rect:o,bitmapUrl:a,bitmapId:l,isSvg:u,accessibilityData:d}=t;l&&r.imageManager.isValidId(l)?E(s,ut,l):E(s,ur,a),E(s,Qn,u);const[h,f]=s.pageDimensions;return s.width=(o[2]-o[0])/h,s.height=(o[3]-o[1])/f,d&&(s.altTextData=d),s}serialize(t=!1,i=null){if(this.isEmpty())return null;const r={annotationType:ae.STAMP,bitmapId:c(this,ut),pageIndex:this.pageIndex,rect:this.getRect(0,0),rotation:this.rotation,isSvg:c(this,Qn),structTreeParentId:this._structTreeParentId};if(t)return r.bitmapUrl=A(this,ue,bf).call(this,!0),r.accessibilityData=this.altTextData,r;const{decorative:s,altText:o}=this.altTextData;if(!s&&o&&(r.accessibilityData={type:"Figure",alt:o}),i===null)return r;i.stamps||(i.stamps=new Map);const a=c(this,Qn)?(r.rect[2]-r.rect[0])*(r.rect[3]-r.rect[1]):null;if(!i.stamps.has(c(this,ut)))i.stamps.set(c(this,ut),{area:a,serialized:r}),r.bitmap=A(this,ue,bf).call(this,!1);else if(c(this,Qn)){const l=i.stamps.get(c(this,ut));a>l.area&&(l.area=a,l.serialized.bitmap.close(),l.serialized.bitmap=A(this,ue,bf).call(this,!1))}return r}};ct=new WeakMap,ut=new WeakMap,ts=new WeakMap,ur=new WeakMap,ns=new WeakMap,Tl=new WeakMap,Ei=new WeakMap,Io=new WeakMap,Ai=new WeakMap,Qn=new WeakMap,Ud=new WeakMap,ue=new WeakSet,Tc=function(t,i=!1){if(!t){this.remove();return}E(this,ct,t.bitmap),i||(E(this,ut,t.id),E(this,Qn,t.isSvg)),t.file&&E(this,Tl,t.file.name),A(this,ue,Nv).call(this)},Rc=function(){E(this,ts,null),this._uiManager.enableWaiting(!1),c(this,Ei)&&this.div.focus()},wf=function(){if(c(this,ut)){this._uiManager.enableWaiting(!0),this._uiManager.imageManager.getFromId(c(this,ut)).then(i=>A(this,ue,Tc).call(this,i,!0)).finally(()=>A(this,ue,Rc).call(this));return}if(c(this,ur)){const i=c(this,ur);E(this,ur,null),this._uiManager.enableWaiting(!0),E(this,ts,this._uiManager.imageManager.getFromUrl(i).then(r=>A(this,ue,Tc).call(this,r)).finally(()=>A(this,ue,Rc).call(this)));return}if(c(this,ns)){const i=c(this,ns);E(this,ns,null),this._uiManager.enableWaiting(!0),E(this,ts,this._uiManager.imageManager.getFromFile(i).then(r=>A(this,ue,Tc).call(this,r)).finally(()=>A(this,ue,Rc).call(this)));return}const t=document.createElement("input");t.type="file",t.accept=Uc.supportedTypesStr,E(this,ts,new Promise(i=>{t.addEventListener("change",async()=>{if(!t.files||t.files.length===0)this.remove();else{this._uiManager.enableWaiting(!0);const r=await this._uiManager.imageManager.getFromFile(t.files[0]);A(this,ue,Tc).call(this,r)}i()}),t.addEventListener("cancel",()=>{this.remove(),i()})}).finally(()=>A(this,ue,Rc).call(this))),t.click()},Nv=function(){const{div:t}=this;let{width:i,height:r}=c(this,ct);const[s,o]=this.pageDimensions,a=.75;if(this.width)i=this.width*s,r=this.height*o;else if(i>a*s||r>a*o){const h=Math.min(a*s/i,a*o/r);i*=h,r*=h}const[l,u]=this.parentDimensions;this.setDims(i*l/s,r*u/o),this._uiManager.enableWaiting(!1);const d=E(this,Ei,document.createElement("canvas"));t.append(d),t.hidden=!1,A(this,ue,Mv).call(this,i,r),A(this,ue,sC).call(this),c(this,Ud)||(this.parent.addUndoableEditor(this),E(this,Ud,!0)),this._reportTelemetry({action:"inserted_image"}),c(this,Tl)&&d.setAttribute("aria-label",c(this,Tl))},iC=function(t,i){var a;const[r,s]=this.parentDimensions;this.width=t/r,this.height=i/s,this.setDims(t,i),(a=this._initialOptions)!=null&&a.isCentered?this.center():this.fixAndSetPosition(),this._initialOptions=null,c(this,Ai)!==null&&clearTimeout(c(this,Ai)),E(this,Ai,setTimeout(()=>{E(this,Ai,null),A(this,ue,Mv).call(this,t,i)},200))},rC=function(t,i){const{width:r,height:s}=c(this,ct);let o=r,a=s,l=c(this,ct);for(;o>2*t||a>2*i;){const u=o,d=a;o>2*t&&(o=o>=16384?Math.floor(o/2)-1:Math.ceil(o/2)),a>2*i&&(a=a>=16384?Math.floor(a/2)-1:Math.ceil(a/2));const h=new OffscreenCanvas(o,a);h.getContext("2d").drawImage(l,0,0,u,d,0,0,o,a),l=h.transferToImageBitmap()}return l},Mv=function(t,i){t=Math.ceil(t),i=Math.ceil(i);const r=c(this,Ei);if(!r||r.width===t&&r.height===i)return;r.width=t,r.height=i;const s=c(this,Qn)?c(this,ct):A(this,ue,rC).call(this,t,i);if(this._uiManager.hasMLManager&&!this.hasAltText()){const l=new OffscreenCanvas(t,i).getContext("2d");l.drawImage(s,0,0,s.width,s.height,0,0,t,i),this._uiManager.mlGuess({service:"image-to-text",request:{data:l.getImageData(0,0,t,i).data,width:t,height:i,channels:4}}).then(u=>{const d=(u==null?void 0:u.output)||"";this.parent&&d&&!this.hasAltText()&&(this.altTextData={altText:d,decorative:!1})})}const o=r.getContext("2d");o.filter=this._uiManager.hcmFilter,o.drawImage(s,0,0,s.width,s.height,0,0,t,i)},bf=function(t){if(t){if(c(this,Qn)){const s=this._uiManager.imageManager.getSvgUrl(c(this,ut));if(s)return s}const i=document.createElement("canvas");return{width:i.width,height:i.height}=c(this,ct),i.getContext("2d").drawImage(c(this,ct),0,0),i.toDataURL()}if(c(this,Qn)){const[i,r]=this.pageDimensions,s=Math.round(this.width*i*Ss.PDF_TO_CSS_UNITS),o=Math.round(this.height*r*Ss.PDF_TO_CSS_UNITS),a=new OffscreenCanvas(s,o);return a.getContext("2d").drawImage(c(this,ct),0,0,c(this,ct).width,c(this,ct).height,0,0,s,o),a.transferToImageBitmap()}return structuredClone(c(this,ct))},sC=function(){E(this,Io,new ResizeObserver(t=>{const i=t[0].contentRect;i.width&&i.height&&A(this,ue,iC).call(this,i.width,i.height)})),c(this,Io).observe(this.div)},Z(Uc,"_type","stamp"),Z(Uc,"_editorType",ae.STAMP);let Lv=Uc;var Oo,Rl,Si,jo,dr,hr,fr,an,is,Pl,Ll,Pt,G,rs,pt,oC,Dv,Iv,Ov,Ef;const jn=class jn{constructor({uiManager:e,pageIndex:t,div:i,accessibilityManager:r,annotationLayer:s,drawLayer:o,textLayer:a,viewport:l,l10n:u}){S(this,pt);S(this,Oo);S(this,Rl,!1);S(this,Si,null);S(this,jo,null);S(this,dr,null);S(this,hr,null);S(this,fr,null);S(this,an,new Map);S(this,is,!1);S(this,Pl,!1);S(this,Ll,!1);S(this,Pt,null);S(this,G);const d=[...c(jn,rs).values()];if(!jn._initialized){jn._initialized=!0;for(const h of d)h.initialize(u,e)}e.registerEditorTypes(d),E(this,G,e),this.pageIndex=t,this.div=i,E(this,Oo,r),E(this,Si,s),this.viewport=l,E(this,Pt,a),this.drawLayer=o,c(this,G).addLayer(this)}get isEmpty(){return c(this,an).size===0}get isInvisible(){return this.isEmpty&&c(this,G).getMode()===ae.NONE}updateToolbar(e){c(this,G).updateToolbar(e)}updateMode(e=c(this,G).getMode()){switch(A(this,pt,Ef).call(this),e){case ae.NONE:this.disableTextSelection(),this.togglePointerEvents(!1),this.toggleAnnotationLayerPointerEvents(!0),this.disableClick();return;case ae.INK:this.addInkEditorIfNeeded(!1),this.disableTextSelection(),this.togglePointerEvents(!0),this.disableClick();break;case ae.HIGHLIGHT:this.enableTextSelection(),this.togglePointerEvents(!1),this.disableClick();break;default:this.disableTextSelection(),this.togglePointerEvents(!0),this.enableClick()}this.toggleAnnotationLayerPointerEvents(!1);const{classList:t}=this.div;for(const i of c(jn,rs).values())t.toggle(`${i._type}Editing`,e===i._editorType);this.div.hidden=!1}hasTextLayer(e){var t;return e===((t=c(this,Pt))==null?void 0:t.div)}addInkEditorIfNeeded(e){if(c(this,G).getMode()!==ae.INK)return;if(!e){for(const i of c(this,an).values())if(i.isEmpty()){i.setInBackground();return}}this.createAndAddNewEditor({offsetX:0,offsetY:0},!1).setInBackground()}setEditingState(e){c(this,G).setEditingState(e)}addCommands(e){c(this,G).addCommands(e)}togglePointerEvents(e=!1){this.div.classList.toggle("disabled",!e)}toggleAnnotationLayerPointerEvents(e=!1){var t;(t=c(this,Si))==null||t.div.classList.toggle("disabled",!e)}enable(){this.div.tabIndex=0,this.togglePointerEvents(!0);const e=new Set;for(const i of c(this,an).values())i.enableEditing(),i.show(!0),i.annotationElementId&&(c(this,G).removeChangedExistingAnnotation(i),e.add(i.annotationElementId));if(!c(this,Si))return;const t=c(this,Si).getEditableAnnotations();for(const i of t){if(i.hide(),c(this,G).isDeletedAnnotationElement(i.data.id)||e.has(i.data.id))continue;const r=this.deserialize(i);r&&(this.addOrRebuild(r),r.enableEditing())}}disable(){var r;E(this,Ll,!0),this.div.tabIndex=-1,this.togglePointerEvents(!1);const e=new Map,t=new Map;for(const s of c(this,an).values())if(s.disableEditing(),!!s.annotationElementId){if(s.serialize()!==null){e.set(s.annotationElementId,s);continue}else t.set(s.annotationElementId,s);(r=this.getEditableAnnotation(s.annotationElementId))==null||r.show(),s.remove()}if(c(this,Si)){const s=c(this,Si).getEditableAnnotations();for(const o of s){const{id:a}=o.data;if(c(this,G).isDeletedAnnotationElement(a))continue;let l=t.get(a);if(l){l.resetAnnotationElement(o),l.show(!1),o.show();continue}l=e.get(a),l&&(c(this,G).addChangedExistingAnnotation(l),l.renderAnnotationElement(o),l.show(!1)),o.show()}}A(this,pt,Ef).call(this),this.isEmpty&&(this.div.hidden=!0);const{classList:i}=this.div;for(const s of c(jn,rs).values())i.remove(`${s._type}Editing`);this.disableTextSelection(),this.toggleAnnotationLayerPointerEvents(!0),E(this,Ll,!1)}getEditableAnnotation(e){var t;return((t=c(this,Si))==null?void 0:t.getEditableAnnotation(e))||null}setActiveEditor(e){c(this,G).getActive()!==e&&c(this,G).setActiveEditor(e)}enableTextSelection(){var e;this.div.tabIndex=-1,(e=c(this,Pt))!=null&&e.div&&!c(this,hr)&&(E(this,hr,A(this,pt,oC).bind(this)),c(this,Pt).div.addEventListener("pointerdown",c(this,hr)),c(this,Pt).div.classList.add("highlighting"))}disableTextSelection(){var e;this.div.tabIndex=0,(e=c(this,Pt))!=null&&e.div&&c(this,hr)&&(c(this,Pt).div.removeEventListener("pointerdown",c(this,hr)),E(this,hr,null),c(this,Pt).div.classList.remove("highlighting"))}enableClick(){c(this,dr)||(E(this,dr,this.pointerdown.bind(this)),E(this,jo,this.pointerup.bind(this)),this.div.addEventListener("pointerdown",c(this,dr)),this.div.addEventListener("pointerup",c(this,jo)))}disableClick(){c(this,dr)&&(this.div.removeEventListener("pointerdown",c(this,dr)),this.div.removeEventListener("pointerup",c(this,jo)),E(this,dr,null),E(this,jo,null))}attach(e){c(this,an).set(e.id,e);const{annotationElementId:t}=e;t&&c(this,G).isDeletedAnnotationElement(t)&&c(this,G).removeDeletedAnnotationElement(e)}detach(e){var t;c(this,an).delete(e.id),(t=c(this,Oo))==null||t.removePointerInTextLayer(e.contentDiv),!c(this,Ll)&&e.annotationElementId&&c(this,G).addDeletedAnnotationElement(e)}remove(e){this.detach(e),c(this,G).removeEditor(e),e.div.remove(),e.isAttachedToDOM=!1,c(this,Pl)||this.addInkEditorIfNeeded(!1)}changeParent(e){var t;e.parent!==this&&(e.parent&&e.annotationElementId&&(c(this,G).addDeletedAnnotationElement(e.annotationElementId),me.deleteAnnotationElement(e),e.annotationElementId=null),this.attach(e),(t=e.parent)==null||t.detach(e),e.setParent(this),e.div&&e.isAttachedToDOM&&(e.div.remove(),this.div.append(e.div)))}add(e){if(!(e.parent===this&&e.isAttachedToDOM)){if(this.changeParent(e),c(this,G).addEditor(e),this.attach(e),!e.isAttachedToDOM){const t=e.render();this.div.append(t),e.isAttachedToDOM=!0}e.fixAndSetPosition(),e.onceAdded(),c(this,G).addToAnnotationStorage(e),e._reportTelemetry(e.telemetryInitialData)}}moveEditorInDOM(e){var i;if(!e.isAttachedToDOM)return;const{activeElement:t}=document;e.div.contains(t)&&!c(this,fr)&&(e._focusEventsAllowed=!1,E(this,fr,setTimeout(()=>{E(this,fr,null),e.div.contains(document.activeElement)?e._focusEventsAllowed=!0:(e.div.addEventListener("focusin",()=>{e._focusEventsAllowed=!0},{once:!0}),t.focus())},0))),e._structTreeParentId=(i=c(this,Oo))==null?void 0:i.moveElementInDOM(this.div,e.div,e.contentDiv,!0)}addOrRebuild(e){e.needsToBeRebuilt()?(e.parent||(e.parent=this),e.rebuild(),e.show()):this.add(e)}addUndoableEditor(e){const t=()=>e._uiManager.rebuild(e),i=()=>{e.remove()};this.addCommands({cmd:t,undo:i,mustExec:!1})}getNextId(){return c(this,G).getId()}canCreateNewEmptyEditor(){var e;return(e=c(this,pt,Dv))==null?void 0:e.canCreateNewEmptyEditor()}pasteEditor(e,t){c(this,G).updateToolbar(e),c(this,G).updateMode(e);const{offsetX:i,offsetY:r}=A(this,pt,Ov).call(this),s=this.getNextId(),o=A(this,pt,Iv).call(this,{parent:this,id:s,x:i,y:r,uiManager:c(this,G),isCentered:!0,...t});o&&this.add(o)}deserialize(e){var t;return((t=c(jn,rs).get(e.annotationType??e.annotationEditorType))==null?void 0:t.deserialize(e,this,c(this,G)))||null}createAndAddNewEditor(e,t,i={}){const r=this.getNextId(),s=A(this,pt,Iv).call(this,{parent:this,id:r,x:e.offsetX,y:e.offsetY,uiManager:c(this,G),isCentered:t,...i});return s&&this.add(s),s}addNewEditor(){this.createAndAddNewEditor(A(this,pt,Ov).call(this),!0)}setSelected(e){c(this,G).setSelected(e)}toggleSelected(e){c(this,G).toggleSelected(e)}isSelected(e){return c(this,G).isSelected(e)}unselect(e){c(this,G).unselect(e)}pointerup(e){const{isMac:t}=Wt.platform;if(!(e.button!==0||e.ctrlKey&&t)&&e.target===this.div&&c(this,is)){if(E(this,is,!1),!c(this,Rl)){E(this,Rl,!0);return}if(c(this,G).getMode()===ae.STAMP){c(this,G).unselectAll();return}this.createAndAddNewEditor(e,!1)}}pointerdown(e){if(c(this,G).getMode()===ae.HIGHLIGHT&&this.enableTextSelection(),c(this,is)){E(this,is,!1);return}const{isMac:t}=Wt.platform;if(e.button!==0||e.ctrlKey&&t||e.target!==this.div)return;E(this,is,!0);const i=c(this,G).getActive();E(this,Rl,!i||i.isEmpty())}findNewParent(e,t,i){const r=c(this,G).findParent(t,i);return r===null||r===this?!1:(r.changeParent(e),!0)}destroy(){var e,t;((e=c(this,G).getActive())==null?void 0:e.parent)===this&&(c(this,G).commitOrRemove(),c(this,G).setActiveEditor(null)),c(this,fr)&&(clearTimeout(c(this,fr)),E(this,fr,null));for(const i of c(this,an).values())(t=c(this,Oo))==null||t.removePointerInTextLayer(i.contentDiv),i.setParent(null),i.isAttachedToDOM=!1,i.div.remove();this.div=null,c(this,an).clear(),c(this,G).removeLayer(this)}render({viewport:e}){this.viewport=e,Jo(this.div,e);for(const t of c(this,G).getEditors(this.pageIndex))this.add(t),t.rebuild();this.updateMode()}update({viewport:e}){c(this,G).commitOrRemove(),A(this,pt,Ef).call(this);const t=this.viewport.rotation,i=e.rotation;if(this.viewport=e,Jo(this.div,{rotation:i}),t!==i)for(const r of c(this,an).values())r.rotate(i);this.addInkEditorIfNeeded(!1)}get pageDimensions(){const{pageWidth:e,pageHeight:t}=this.viewport.rawDims;return[e,t]}get scale(){return c(this,G).viewParameters.realScale}};Oo=new WeakMap,Rl=new WeakMap,Si=new WeakMap,jo=new WeakMap,dr=new WeakMap,hr=new WeakMap,fr=new WeakMap,an=new WeakMap,is=new WeakMap,Pl=new WeakMap,Ll=new WeakMap,Pt=new WeakMap,G=new WeakMap,rs=new WeakMap,pt=new WeakSet,oC=function(e){if(c(this,G).unselectAll(),e.target===c(this,Pt).div){const{isMac:t}=Wt.platform;if(e.button!==0||e.ctrlKey&&t)return;c(this,G).showAllEditors("highlight",!0,!0),c(this,Pt).div.classList.add("free"),up.startHighlighting(this,c(this,G).direction==="ltr",e),c(this,Pt).div.addEventListener("pointerup",()=>{c(this,Pt).div.classList.remove("free")},{once:!0}),e.preventDefault()}},Dv=function(){return c(jn,rs).get(c(this,G).getMode())},Iv=function(e){const t=c(this,pt,Dv);return t?new t.prototype.constructor(e):null},Ov=function(){const{x:e,y:t,width:i,height:r}=this.div.getBoundingClientRect(),s=Math.max(0,e),o=Math.max(0,t),a=Math.min(window.innerWidth,e+i),l=Math.min(window.innerHeight,t+r),u=(s+a)/2-e,d=(o+l)/2-t,[h,f]=this.viewport.rotation%180===0?[u,d]:[d,u];return{offsetX:h,offsetY:f}},Ef=function(){E(this,Pl,!0);for(const e of c(this,an).values())e.isEmpty()&&e.remove();E(this,Pl,!1)},Z(jn,"_initialized",!1),S(jn,rs,new Map([fv,Sv,Lv,up].map(e=>[e._editorType,e])));let Fv=jn;var Ci,Vd,Ke,ss,Wd,$v,ia,Hv,aC;const rt=class rt{constructor({pageIndex:e}){S(this,ia);S(this,Ci,null);S(this,Vd,0);S(this,Ke,new Map);S(this,ss,new Map);this.pageIndex=e}setParent(e){if(!c(this,Ci)){E(this,Ci,e);return}if(c(this,Ci)!==e){if(c(this,Ke).size>0)for(const t of c(this,Ke).values())t.remove(),e.append(t);E(this,Ci,e)}}static get _svgFactory(){return le(this,"_svgFactory",new iy)}highlight(e,t,i,r=!1){const s=Zt(this,Vd)._++,o=A(this,ia,Hv).call(this,e.box);o.classList.add("highlight"),e.free&&o.classList.add("free");const a=rt._svgFactory.createElement("defs");o.append(a);const l=rt._svgFactory.createElement("path");a.append(l);const u=`path_p${this.pageIndex}_${s}`;l.setAttribute("id",u),l.setAttribute("d",e.toSVGPath()),r&&c(this,ss).set(s,l);const d=A(this,ia,aC).call(this,a,u),h=rt._svgFactory.createElement("use");return o.append(h),o.setAttribute("fill",t),o.setAttribute("fill-opacity",i),h.setAttribute("href",`#${u}`),c(this,Ke).set(s,o),{id:s,clipPathId:`url(#${d})`}}highlightOutline(e){const t=Zt(this,Vd)._++,i=A(this,ia,Hv).call(this,e.box);i.classList.add("highlightOutline");const r=rt._svgFactory.createElement("defs");i.append(r);const s=rt._svgFactory.createElement("path");r.append(s);const o=`path_p${this.pageIndex}_${t}`;s.setAttribute("id",o),s.setAttribute("d",e.toSVGPath()),s.setAttribute("vector-effect","non-scaling-stroke");let a;if(e.free){i.classList.add("free");const d=rt._svgFactory.createElement("mask");r.append(d),a=`mask_p${this.pageIndex}_${t}`,d.setAttribute("id",a),d.setAttribute("maskUnits","objectBoundingBox");const h=rt._svgFactory.createElement("rect");d.append(h),h.setAttribute("width","1"),h.setAttribute("height","1"),h.setAttribute("fill","white");const f=rt._svgFactory.createElement("use");d.append(f),f.setAttribute("href",`#${o}`),f.setAttribute("stroke","none"),f.setAttribute("fill","black"),f.setAttribute("fill-rule","nonzero"),f.classList.add("mask")}const l=rt._svgFactory.createElement("use");i.append(l),l.setAttribute("href",`#${o}`),a&&l.setAttribute("mask",`url(#${a})`);const u=l.cloneNode();return i.append(u),l.classList.add("mainOutline"),u.classList.add("secondaryOutline"),c(this,Ke).set(t,i),t}finalizeLine(e,t){const i=c(this,ss).get(e);c(this,ss).delete(e),this.updateBox(e,t.box),i.setAttribute("d",t.toSVGPath())}updateLine(e,t){c(this,Ke).get(e).firstChild.firstChild.setAttribute("d",t.toSVGPath())}removeFreeHighlight(e){this.remove(e),c(this,ss).delete(e)}updatePath(e,t){c(this,ss).get(e).setAttribute("d",t.toSVGPath())}updateBox(e,t){var i;A(i=rt,Wd,$v).call(i,c(this,Ke).get(e),t)}show(e,t){c(this,Ke).get(e).classList.toggle("hidden",!t)}rotate(e,t){c(this,Ke).get(e).setAttribute("data-main-rotation",t)}changeColor(e,t){c(this,Ke).get(e).setAttribute("fill",t)}changeOpacity(e,t){c(this,Ke).get(e).setAttribute("fill-opacity",t)}addClass(e,t){c(this,Ke).get(e).classList.add(t)}removeClass(e,t){c(this,Ke).get(e).classList.remove(t)}remove(e){c(this,Ci)!==null&&(c(this,Ke).get(e).remove(),c(this,Ke).delete(e))}destroy(){E(this,Ci,null);for(const e of c(this,Ke).values())e.remove();c(this,Ke).clear()}};Ci=new WeakMap,Vd=new WeakMap,Ke=new WeakMap,ss=new WeakMap,Wd=new WeakSet,$v=function(e,{x:t=0,y:i=0,width:r=1,height:s=1}={}){const{style:o}=e;o.top=`${100*i}%`,o.left=`${100*t}%`,o.width=`${100*r}%`,o.height=`${100*s}%`},ia=new WeakSet,Hv=function(e){var i;const t=rt._svgFactory.create(1,1,!0);return c(this,Ci).append(t),t.setAttribute("aria-hidden",!0),A(i=rt,Wd,$v).call(i,t,e),t},aC=function(e,t){const i=rt._svgFactory.createElement("clipPath");e.append(i);const r=`clip_${t}`;i.setAttribute("id",r),i.setAttribute("clipPathUnits","objectBoundingBox");const s=rt._svgFactory.createElement("use");return i.append(s),s.setAttribute("href",`#${t}`),s.classList.add("clip"),r},S(rt,Wd);let jv=rt;q.AbortException;q.AnnotationEditorLayer;q.AnnotationEditorParamsType;q.AnnotationEditorType;q.AnnotationEditorUIManager;q.AnnotationLayer;q.AnnotationMode;q.CMapCompressionType;q.ColorPicker;q.DOMSVGFactory;q.DrawLayer;q.FeatureTest;var lC=q.GlobalWorkerOptions;q.ImageKind;q.InvalidPDFException;q.MissingPDFException;q.OPS;q.Outliner;q.PDFDataRangeTransport;q.PDFDateString;q.PDFWorker;q.PasswordResponses;q.PermissionFlag;q.PixelsPerInch;q.RenderingCancelledException;q.TextLayer;q.UnexpectedResponseException;q.Util;q.VerbosityLevel;q.XfaLayer;q.build;q.createValidAbsoluteUrl;q.fetchData;q.getDocument;q.getFilenameFromUrl;q.getPdfFilenameFromUrl;q.getXfaPageViewport;q.isDataScheme;q.isPdfFile;q.noContextMenu;q.normalizeUnicode;q.renderTextLayer;q.setLayerDimensions;q.shadow;q.updateTextLayer;q.version;lC.workerSrc=new URL("pdfjs-dist/build/pdf.worker.min.js",import.meta.url).toString();function YF(){const[n,e]=C.useState(""),[t,i]=C.useState(""),[r,s]=C.useState(null);C.useState(null);const o=async a=>{a.preventDefault();const l=new FormData;l.append("title",n),l.append("file",t),console.log(n,t);const u=await Te.post("/en/uploadpdf",l,{headers:{"Content-Type":"multipart/form-data"}});console.log(u),u.data.status=="ok"&&(alert("Uploaded Successfully!!!"),getPdf())};return w.jsxs("div",{className:"App",children:[w.jsxs("form",{className:"formStyle",onSubmit:o,children:[w.jsx("h4",{children:"Upload Pdf in React"}),w.jsx("br",{}),w.jsx("input",{type:"text",className:"form-control",placeholder:"Title",required:!0,onChange:a=>e(a.target.value)}),w.jsx("br",{}),w.jsx("input",{type:"file",class:"form-control",accept:"application/pdf",required:!0,onChange:a=>i(a.target.files[0])}),w.jsx("br",{}),w.jsx("button",{class:"btn btn-primary",type:"submit",children:"Submit"})]}),w.jsxs("div",{className:"uploaded",children:[w.jsx("h4",{children:"Uploaded PDF:"}),w.jsx("div",{className:"output-div",children:r==null?"":r.map(a=>w.jsxs("div",{className:"inner-div",children:[w.jsxs("h6",{children:["Title: ",a.title]}),w.jsx("button",{className:"btn btn-primary",onClick:()=>showPdf(a.pdf),children:"Show Pdf"})]}))})]})]})}const QF=()=>{const[n,e]=C.useState(null),[t,i]=C.useState(""),[r,s]=C.useState(0);C.useState(""),C.useState("");const[o,a]=C.useState(null),[l,u]=C.useState(null);lC.workerSrc=new URL("pdfjs-dist/build/pdf.worker.min.js",import.meta.url).toString(),C.useEffect(()=>{f()},[]);function d(m){const v=m.target.files[0];if(s(v.size/(1024*1024)),v){const b=new FileReader;b.onloadend=()=>{e(b.result.split(",")[1])},b.readAsDataURL(v);const g=m.target.value.replace("C:\\fakepath\\","");i(g)}else alert("No file selected")}const h=async m=>{m.preventDefault();try{await Te.post("/en/uploadpdf",{file:n,filename:t}),console.log("Successfully uploaded.")}catch(v){console.log("Error uploading details:",v),alert("File size too large")}},f=async()=>{try{console.log("hi");const m=await Te.get("/en/pdfid/66813196189877e17f54a9e0"),v=m.data;a(m.data)}catch(m){console.log("Failed to fetch PDF:",m)}},p=m=>{u(`http://localhost:5173/files/${m}`),console.log(l)};return w.jsxs("div",{children:[w.jsxs("form",{onSubmit:h,children:[w.jsx("input",{type:"file",onChange:d,accept:"application/pdf"}),w.jsx("button",{type:"submit",children:"Upload"})]}),w.jsx("br",{}),w.jsx("br",{}),w.jsx("button",{onClick:f,children:" show"}),w.jsx("br",{}),w.jsx("br",{}),w.jsx("div",{className:"output-div",children:o==null?"":o.map(m=>w.jsxs("div",{className:"inner-div",children:[w.jsxs("h6",{children:["Title: ",m.title]}),w.jsx("button",{className:"btn btn-primary",onClick:()=>p(m.pdf),children:"Show Pdf"})]}))})]})};function ZF(){const[n,e]=C.useState(!0);return w.jsx("div",{className:"App",children:w.jsx(RT,{children:w.jsxs(_T,{children:[w.jsx(Ii,{path:"/",element:w.jsx(DN,{})}),w.jsx(Ii,{path:"/main",element:w.jsx(FN,{isDoctor:n})}),w.jsx(Ii,{path:"/form",element:w.jsx(r4,{})}),w.jsx(Ii,{path:"/patient",element:w.jsx(GN,{isDoctor:n})}),w.jsx(Ii,{path:"/signin",element:w.jsx(qN,{setIsDoctor:e,isDoctor:n})}),w.jsx(Ii,{path:"/newSignin",element:w.jsx(XN,{})}),w.jsx(Ii,{path:"/upload",element:w.jsx(YF,{})}),w.jsx(Ii,{path:"/load",element:w.jsx(QF,{})})]})})})}dg.createRoot(document.getElementById("root")).render(w.jsx(Me.StrictMode,{children:w.jsx(ZF,{})}));
